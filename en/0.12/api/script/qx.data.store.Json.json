{"attributes": {"name": "Json", "packageName": "qx.data.store", "superClass": "qx.core.Object", "childClasses": "qx.data.store.Jsonp", "fullName": "qx.data.store.Json", "type": "class"}, "type": "class", "children": [{"attributes": {"text": "<p>The <span class=\"caps\">JSON</span> data store is responsible for fetching data from an url. The type\nof the data has to be json.</p>\n\n<p>The loaded data will be parsed and saved in qooxdoo objects. Every value\nof the loaded data will be stored in a qooxdoo property. The model classes\nfor the data will be created automatically.</p>\n\n<p>For the fetching itself it uses the {@link qx.io.request.Xhr} class and\nfor parsing the loaded javascript objects into qooxdoo objects, the\n{@link qx.data.marshal.Json} class will be used.</p>\n\n<p>Please note that if you</p>\n\n<ul>\n<li>upgrade from qooxdoo 1.4 or lower</li>\n<li>choose not to force the old transport</li>\n<li>use a delegate with qx.data.store.IStoreDelegate#configureRequest</li>\n</ul>\n\n<p>you probably need to change the implementation of your delegate to configure\nthe {@link qx.io.request.Xhr} request.</p>\n\n<p>This class only needs to be disposed if you want to abort any current I/O\nrequest</p>"}, "type": "desc"}, {"attributes": {}, "type": "constructor", "children": [{"attributes": {"line": 58, "isCtor": true, "overriddenFrom": "qx.core.Object", "name": "ctor"}, "type": "method", "children": [{"attributes": {}, "type": "params", "children": [{"attributes": {"name": "url"}, "type": "param", "children": [{"attributes": {"text": "<p>The url where to find the data. The store starts loading as soon as the <span class=\"caps\">URL</span> is give. If you want to change some details concerning the request, add null here and set the <span class=\"caps\">URL</span> as soon as everything is set up.</p>"}, "type": "desc"}, {"attributes": {}, "type": "types", "children": [{"attributes": {"type": "String"}, "type": "entry"}, {"attributes": {"type": "null"}, "type": "entry"}]}]}, {"attributes": {"defaultValue": "null", "optional": true, "name": "delegate"}, "type": "param", "children": [{"attributes": {"text": "<p>The delegate containing one of the methods specified in {@link qx.data.store.IStoreDelegate}.</p>"}, "type": "desc"}, {"attributes": {}, "type": "types", "children": [{"attributes": {"type": "Object"}, "type": "entry"}]}]}]}, {"attributes": {"text": ""}, "type": "desc"}]}]}, {"attributes": {}, "type": "events", "children": [{"attributes": {"name": "changeModel"}, "type": "event", "children": [{"attributes": {"text": "Fired on change of the property {@link #model}."}, "type": "desc"}, {"attributes": {}, "type": "types", "children": [{"attributes": {"type": "qx.event.type.Data"}, "type": "entry"}]}]}, {"attributes": {"name": "changeState"}, "type": "event", "children": [{"attributes": {"text": "Fired on change of the property {@link #state}."}, "type": "desc"}, {"attributes": {}, "type": "types", "children": [{"attributes": {"type": "qx.event.type.Data"}, "type": "entry"}]}]}, {"attributes": {"name": "changeUrl"}, "type": "event", "children": [{"attributes": {"text": "Fired on change of the property {@link #url}."}, "type": "desc"}, {"attributes": {}, "type": "types", "children": [{"attributes": {"type": "qx.event.type.Data"}, "type": "entry"}]}]}, {"attributes": {"name": "error"}, "type": "event", "children": [{"attributes": {"text": "<p>Fired when an error (aborted, timeout or failed) occurred\nduring the load. The data contains the response of the request.\nIf you want more details, use the {@link #changeState} event.</p>"}, "type": "desc"}, {"attributes": {}, "type": "types", "children": [{"attributes": {"type": "qx.event.type.Data"}, "type": "entry"}]}]}, {"attributes": {"name": "loaded"}, "type": "event", "children": [{"attributes": {"text": "<p>Data event fired after the model has been created. The data will be the\ncreated model.</p>"}, "type": "desc"}, {"attributes": {}, "type": "types", "children": [{"attributes": {"type": "qx.event.type.Data"}, "type": "entry"}]}]}, {"attributes": {"name": "parseError"}, "type": "event", "children": [{"attributes": {"text": "<p>Fired when a parse error (i.e. broken <span class=\"caps\">JSON</span>) occurred\nduring the load. The data contains a hash of the original\nresponse and the parser error (exception object).</p>"}, "type": "desc"}, {"attributes": {}, "type": "types", "children": [{"attributes": {"type": "qx.event.type.Data"}, "type": "entry"}]}]}]}, {"attributes": {}, "type": "methods", "children": [{"attributes": {"access": "protected", "line": 143, "name": "_applyUrl"}, "type": "method", "children": [{"attributes": {}, "type": "params", "children": [{"attributes": {"name": "value"}, "type": "param", "children": [{"attributes": {"text": "<p>new value of the property</p>"}, "type": "desc"}, {"attributes": {}, "type": "types", "children": [{"attributes": {"type": "String"}, "type": "entry"}]}]}, {"attributes": {"name": "old"}, "type": "param", "children": [{"attributes": {"text": "<p>previous value of the property (null if it was not yet set).</p>"}, "type": "desc"}, {"attributes": {}, "type": "types", "children": [{"attributes": {"type": "String"}, "type": "entry"}]}]}]}, {"attributes": {}, "type": "apply", "children": [{"attributes": {"applies": "qx.data.store.Json#url"}, "type": "entry"}]}, {"attributes": {"text": "<p>Applies changes of the property value of the property <code>url</code>.</p>\n\n<p>For further details take a look at the property definition: {@link #url}.</p>"}, "type": "desc"}]}, {"attributes": {"access": "protected", "line": 181, "name": "_createRequest"}, "type": "method", "children": [{"attributes": {}, "type": "params", "children": [{"attributes": {"name": "url"}, "type": "param", "children": [{"attributes": {"text": "<p>The url for the request.</p>"}, "type": "desc"}, {"attributes": {}, "type": "types", "children": [{"attributes": {"type": "String"}, "type": "entry"}]}]}]}, {"attributes": {"text": "<p>Creates and sends a <span class=\"caps\">GET</span> request with the given url.</p>\n\n<p>Listeners will be added to respond to the request&#8217;s &#8220;success&#8221;,\n&#8220;changePhase&#8221; and &#8220;fail&#8221; event.</p>"}, "type": "desc"}]}, {"attributes": {"access": "protected", "line": 158, "name": "_getRequest"}, "type": "method", "children": [{"attributes": {"text": "<p>Get request</p>"}, "type": "desc"}, {"attributes": {}, "type": "return", "children": [{"attributes": {"text": "<p>The request.</p>"}, "type": "desc"}, {"attributes": {}, "type": "types", "children": [{"attributes": {"type": "Object"}, "type": "entry"}]}]}]}, {"attributes": {"access": "protected", "line": 225, "name": "_onChangePhase"}, "type": "method", "children": [{"attributes": {}, "type": "params", "children": [{"attributes": {"name": "ev"}, "type": "param", "children": [{"attributes": {"text": "<p>The request&#8217;s changePhase event.</p>"}, "type": "desc"}, {"attributes": {}, "type": "types", "children": [{"attributes": {"type": "qx.event.type.Data"}, "type": "entry"}]}]}]}, {"attributes": {"text": "<p>Handler called when request phase changes.</p>\n\n<p>Sets the store&#8217;s state.</p>"}, "type": "desc"}]}, {"attributes": {"access": "protected", "line": 252, "name": "_onFail"}, "type": "method", "children": [{"attributes": {}, "type": "params", "children": [{"attributes": {"name": "ev"}, "type": "param", "children": [{"attributes": {"text": "<p>The request&#8217;s fail event.</p>"}, "type": "desc"}, {"attributes": {}, "type": "types", "children": [{"attributes": {"type": "qx.event.type.Event"}, "type": "entry"}]}]}]}, {"attributes": {"text": "<p>Handler called when not completing the request successfully.</p>"}, "type": "desc"}]}, {"attributes": {"access": "protected", "line": 265, "name": "_onParseError"}, "type": "method", "children": [{"attributes": {}, "type": "params", "children": [{"attributes": {"name": "ev"}, "type": "param", "children": [{"attributes": {"text": "<p>Hash map containing the original &#8216;request&#8217; and the original parser &#8216;error&#8217; exception object.</p>"}, "type": "desc"}, {"attributes": {}, "type": "types", "children": [{"attributes": {"type": "qx.event.type.Data"}, "type": "entry"}]}]}]}, {"attributes": {"text": "<p>Handler called when not completing the request successfully because\nof parse errors.</p>"}, "type": "desc"}]}, {"attributes": {"access": "protected", "line": 277, "name": "_onSuccess"}, "type": "method", "children": [{"attributes": {}, "type": "params", "children": [{"attributes": {"name": "ev"}, "type": "param", "children": [{"attributes": {"text": "<p>The request&#8217;s success event.</p>"}, "type": "desc"}, {"attributes": {}, "type": "types", "children": [{"attributes": {"type": "qx.event.type.Event"}, "type": "entry"}]}]}]}, {"attributes": {"text": "<p>Handler for the completion of the requests. It invokes the creation of\nthe needed classes and instances for the fetched data using\n{@link qx.data.marshal.Json}.</p>"}, "type": "desc"}]}, {"attributes": {"access": "protected", "line": 168, "name": "_setRequest"}, "type": "method", "children": [{"attributes": {}, "type": "params", "children": [{"attributes": {"name": "request"}, "type": "param", "children": [{"attributes": {"text": "<p>The request.</p>"}, "type": "desc"}, {"attributes": {}, "type": "types", "children": [{"attributes": {"type": "Object"}, "type": "entry"}]}]}]}, {"attributes": {"text": "<p>Set request.</p>"}, "type": "desc"}]}, {"attributes": {"name": "getModel", "fromProperty": "model"}, "type": "method", "children": [{"attributes": {"text": "<p>Returns the (computed) value of the property <code>model</code>.</p>\n\n<p>For further details take a look at the property definition: {@link #model}.</p>"}, "type": "desc"}, {"attributes": {}, "type": "return", "children": [{"attributes": {"text": "<p>(Computed) value of <code>model</code>.</p>"}, "type": "desc"}, {"attributes": {}, "type": "types", "children": [{"attributes": {"type": "var"}, "type": "entry"}]}]}]}, {"attributes": {"name": "getState", "fromProperty": "state"}, "type": "method", "children": [{"attributes": {"text": "<p>Returns the (computed) value of the property <code>state</code>.</p>\n\n<p>For further details take a look at the property definition: {@link #state}.</p>"}, "type": "desc"}, {"attributes": {}, "type": "return", "children": [{"attributes": {"text": "<p>(Computed) value of <code>state</code>.</p>"}, "type": "desc"}, {"attributes": {}, "type": "types", "children": [{"attributes": {"type": "var"}, "type": "entry"}]}]}]}, {"attributes": {"name": "getUrl", "fromProperty": "url"}, "type": "method", "children": [{"attributes": {"text": "<p>Returns the (computed) value of the property <code>url</code>.</p>\n\n<p>For further details take a look at the property definition: {@link #url}.</p>"}, "type": "desc"}, {"attributes": {}, "type": "return", "children": [{"attributes": {"text": "<p>(Computed) value of <code>url</code>.</p>"}, "type": "desc"}, {"attributes": {}, "type": "types", "children": [{"attributes": {"type": "var"}, "type": "entry"}]}]}]}, {"attributes": {"access": "protected", "name": "initModel", "fromProperty": "model"}, "type": "method", "children": [{"attributes": {}, "type": "params", "children": [{"attributes": {"name": "value"}, "type": "param", "children": [{"attributes": {"text": "<p>Initial value for property <code>model</code>.</p>"}, "type": "desc"}, {"attributes": {}, "type": "types", "children": [{"attributes": {"type": "var"}, "type": "entry"}]}]}]}, {"attributes": {"text": "<p>Calls the apply method and dispatches the change event of the property <code>model</code>\nwith the default value defined by the class developer. This function can\nonly be called from the constructor of a class.</p>\n\n<p>For further details take a look at the property definition: {@link #model}.</p>"}, "type": "desc"}, {"attributes": {}, "type": "return", "children": [{"attributes": {"text": "<p>the default value</p>"}, "type": "desc"}, {"attributes": {}, "type": "types", "children": [{"attributes": {"type": "var"}, "type": "entry"}]}]}]}, {"attributes": {"access": "protected", "name": "initState", "fromProperty": "state"}, "type": "method", "children": [{"attributes": {}, "type": "params", "children": [{"attributes": {"name": "value"}, "type": "param", "children": [{"attributes": {"text": "<p>Initial value for property <code>state</code>.</p>"}, "type": "desc"}, {"attributes": {}, "type": "types", "children": [{"attributes": {"type": "var"}, "type": "entry"}]}]}]}, {"attributes": {"text": "<p>Calls the apply method and dispatches the change event of the property <code>state</code>\nwith the default value defined by the class developer. This function can\nonly be called from the constructor of a class.</p>\n\n<p>For further details take a look at the property definition: {@link #state}.</p>"}, "type": "desc"}, {"attributes": {}, "type": "return", "children": [{"attributes": {"text": "<p>the default value</p>"}, "type": "desc"}, {"attributes": {}, "type": "types", "children": [{"attributes": {"type": "var"}, "type": "entry"}]}]}]}, {"attributes": {"access": "protected", "name": "initUrl", "fromProperty": "url"}, "type": "method", "children": [{"attributes": {}, "type": "params", "children": [{"attributes": {"name": "value"}, "type": "param", "children": [{"attributes": {"text": "<p>Initial value for property <code>url</code>.</p>"}, "type": "desc"}, {"attributes": {}, "type": "types", "children": [{"attributes": {"type": "var"}, "type": "entry"}]}]}]}, {"attributes": {"text": "<p>Calls the apply method and dispatches the change event of the property <code>url</code>\nwith the default value defined by the class developer. This function can\nonly be called from the constructor of a class.</p>\n\n<p>For further details take a look at the property definition: {@link #url}.</p>"}, "type": "desc"}, {"attributes": {}, "type": "return", "children": [{"attributes": {"text": "<p>the default value</p>"}, "type": "desc"}, {"attributes": {}, "type": "types", "children": [{"attributes": {"type": "var"}, "type": "entry"}]}]}]}, {"attributes": {"line": 319, "name": "reload"}, "type": "method", "children": [{"attributes": {"text": "<p>Reloads the data with the url set in the {@link #url} property.</p>"}, "type": "desc"}]}, {"attributes": {"name": "resetModel", "fromProperty": "model"}, "type": "method", "children": [{"attributes": {"text": "<p>Resets the user value of the property <code>model</code>.</p>\n\n<p>The computed value falls back to the next available value e.g. appearance, init or\ninheritance value depeneding on the property configuration and value availability.</p>\n\n<p>For further details take a look at the property definition: {@link #model}.</p>"}, "type": "desc"}]}, {"attributes": {"name": "resetState", "fromProperty": "state"}, "type": "method", "children": [{"attributes": {"text": "<p>Resets the user value of the property <code>state</code>.</p>\n\n<p>The computed value falls back to the next available value e.g. appearance, init or\ninheritance value depeneding on the property configuration and value availability.</p>\n\n<p>For further details take a look at the property definition: {@link #state}.</p>"}, "type": "desc"}]}, {"attributes": {"name": "resetUrl", "fromProperty": "url"}, "type": "method", "children": [{"attributes": {"text": "<p>Resets the user value of the property <code>url</code>.</p>\n\n<p>The computed value falls back to the next available value e.g. appearance, init or\ninheritance value depeneding on the property configuration and value availability.</p>\n\n<p>For further details take a look at the property definition: {@link #url}.</p>"}, "type": "desc"}]}, {"attributes": {"name": "setModel", "fromProperty": "model"}, "type": "method", "children": [{"attributes": {}, "type": "params", "children": [{"attributes": {"name": "value"}, "type": "param", "children": [{"attributes": {"text": "<p>New value for property <code>model</code>.</p>"}, "type": "desc"}, {"attributes": {}, "type": "types", "children": [{"attributes": {"type": "var"}, "type": "entry"}]}]}]}, {"attributes": {"text": "<p>Sets the user value of the property <code>model</code>.</p>\n\n<p>For further details take a look at the property definition: {@link #model}.</p>"}, "type": "desc"}, {"attributes": {}, "type": "return", "children": [{"attributes": {"text": "<p>The unmodified incoming value.</p>"}, "type": "desc"}, {"attributes": {}, "type": "types", "children": [{"attributes": {"type": "var"}, "type": "entry"}]}]}]}, {"attributes": {"name": "setState", "fromProperty": "state"}, "type": "method", "children": [{"attributes": {}, "type": "params", "children": [{"attributes": {"name": "value"}, "type": "param", "children": [{"attributes": {"text": "<p>New value for property <code>state</code>.</p>"}, "type": "desc"}, {"attributes": {}, "type": "types", "children": [{"attributes": {"type": "var"}, "type": "entry"}]}]}]}, {"attributes": {"text": "<p>Sets the user value of the property <code>state</code>.</p>\n\n<p>For further details take a look at the property definition: {@link #state}.</p>"}, "type": "desc"}, {"attributes": {}, "type": "return", "children": [{"attributes": {"text": "<p>The unmodified incoming value.</p>"}, "type": "desc"}, {"attributes": {}, "type": "types", "children": [{"attributes": {"type": "var"}, "type": "entry"}]}]}]}, {"attributes": {"name": "setUrl", "fromProperty": "url"}, "type": "method", "children": [{"attributes": {}, "type": "params", "children": [{"attributes": {"name": "value"}, "type": "param", "children": [{"attributes": {"text": "<p>New value for property <code>url</code>.</p>"}, "type": "desc"}, {"attributes": {}, "type": "types", "children": [{"attributes": {"type": "var"}, "type": "entry"}]}]}]}, {"attributes": {"text": "<p>Sets the user value of the property <code>url</code>.</p>\n\n<p>For further details take a look at the property definition: {@link #url}.</p>"}, "type": "desc"}, {"attributes": {}, "type": "return", "children": [{"attributes": {"text": "<p>The unmodified incoming value.</p>"}, "type": "desc"}, {"attributes": {}, "type": "types", "children": [{"attributes": {"type": "var"}, "type": "entry"}]}]}]}]}, {"attributes": {}, "type": "properties", "children": [{"attributes": {"event": "changeModel", "allowNull": "true", "name": "model", "propertyType": "new"}, "type": "property", "children": [{"attributes": {"text": "<p>Property for holding the loaded model instance.</p>"}, "type": "desc"}]}, {"attributes": {"event": "changeState", "possibleValues": "\"configured\",\"queued\",\"sending\",\"receiving\",\"completed\",\"aborted\",\"timeout\",\"failed\"", "defaultValue": "\"configured\"", "name": "state", "propertyType": "new"}, "type": "property", "children": [{"attributes": {"text": "<p>The state of the request as an url. If you want to check if the request\ndid it&#8217;s job, use, the {@link #changeState} event and check for one of the\nlisted values.</p>"}, "type": "desc"}]}, {"attributes": {"name": "url", "check": "String", "allowNull": "true", "propertyType": "new", "apply": "_applyUrl", "event": "changeUrl"}, "type": "property", "children": [{"attributes": {"text": "<p>The url where the request should go to.</p>"}, "type": "desc"}]}]}]}