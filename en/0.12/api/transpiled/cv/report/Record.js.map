{
  "version": 3,
  "sources": [
    "/home/runner/work/CometVisu/CometVisu/source/class/cv/report/Record.js"
  ],
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "extend",
    "core",
    "Object",
    "type",
    "construct",
    "__log",
    "__listeners",
    "__start",
    "Date",
    "now",
    "__xhr",
    "response",
    "request",
    "__data",
    "__deltas",
    "statics",
    "CONFIG",
    "BACKEND",
    "USER",
    "CACHE",
    "XHR",
    "SCREEN",
    "RUNTIME",
    "STORAGE",
    "REPLAYING",
    "data",
    "USER_EVENTS",
    "prepare",
    "cv",
    "Config",
    "reporting",
    "report",
    "Record",
    "Application",
    "registerConsoleCommand",
    "download",
    "record",
    "getInstance",
    "EVENT_RECORDER",
    "recordNativeEvent",
    "bind",
    "patch",
    "io",
    "Xhr",
    "utils",
    "MXhrHook",
    "Reg",
    "event",
    "Registration",
    "addListener",
    "window",
    "w",
    "document",
    "documentElement",
    "clientWidth",
    "h",
    "clientHeight",
    "message",
    "Bus",
    "subscribe",
    "throttled",
    "util",
    "Function",
    "throttle",
    "recordScroll",
    "querySelectorAll",
    "forEach",
    "page",
    "getClientData",
    "req",
    "Uri",
    "parseUri",
    "location",
    "href",
    "queryKey",
    "Env",
    "Environment",
    "runtime",
    "browserName",
    "get",
    "browserVersion",
    "deviceName",
    "deviceType",
    "pixelRatio",
    "touch",
    "osName",
    "osVersion",
    "build",
    "locale",
    "bom",
    "client",
    "Locale",
    "getLocale",
    "width",
    "height",
    "anchor",
    "query",
    "path",
    "relative",
    "getOwnPropertyNames",
    "Version",
    "name",
    "test",
    "category",
    "logCache",
    "configSuffix",
    "ConfigCache",
    "getData",
    "normalizeUrl",
    "url",
    "parsed",
    "filteredParams",
    "keys",
    "filter",
    "length",
    "param",
    "e",
    "indexOf",
    "replace",
    "members",
    "__delta",
    "__minDelta",
    "__maxDelta",
    "__ID",
    "options",
    "t",
    "push",
    "c",
    "i",
    "d",
    "o",
    "ID",
    "__extractDataFromEvent",
    "nativeEvent",
    "eventClass",
    "constructor",
    "bubbles",
    "button",
    "clientX",
    "Math",
    "round",
    "clientY",
    "currentTarget",
    "__getDomPath",
    "undefined",
    "relatedTarget",
    "pageX",
    "pageY",
    "returnValue",
    "screenX",
    "screenY",
    "wheelDelta",
    "wheelDeltaX",
    "wheelDeltaY",
    "delta",
    "deltaX",
    "deltaY",
    "deltaZ",
    "detail",
    "axis",
    "wheelX",
    "wheelY",
    "view",
    "HORIZONTAL_AXIS",
    "x",
    "y",
    "assign",
    "pointerId",
    "pressure",
    "tiltX",
    "tiltY",
    "pointerType",
    "isPrimary",
    "deltaMode",
    "code",
    "composed",
    "charCode",
    "key",
    "keyCode",
    "ctrlKey",
    "altKey",
    "ev",
    "$$RID",
    "endsWith",
    "lastDelta",
    "abs",
    "target",
    "debug",
    "getTarget",
    "getAttribute",
    "getType",
    "scrollLeft",
    "scrollTop",
    "el",
    "stack",
    "parentNode",
    "sibCount",
    "sibIndex",
    "childNodes",
    "sib",
    "nodeName",
    "hasAttribute",
    "id",
    "unshift",
    "toLowerCase",
    "join",
    "slice",
    "start",
    "xhr",
    "log",
    "end",
    "console",
    "ts",
    "getFullYear",
    "getMonth",
    "padStart",
    "getDate",
    "getHours",
    "getMinutes",
    "getSeconds",
    "a",
    "createElement",
    "URL",
    "createObjectURL",
    "Blob",
    "JSON",
    "stringify",
    "body",
    "appendChild",
    "click",
    "removeChild"
  ],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;AAAAA,EAAAA,EAAE,CAACC,SAAH,CAAaC,oBAAb,CAAkCC,aAAlC;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAGA;AACA;AACA;AACA;AACA;AACA;AACAH,EAAAA,EAAE,CAACI,KAAH,CAASC,MAAT,CAAgB,kBAAhB,EAAoC;AAClCC,IAAAA,MAAM,EAAEN,EAAE,CAACO,IAAH,CAAQC,MADkB;AAElCC,IAAAA,IAAI,EAAE,WAF4B;;AAIlC;AACF;AACA;AACA;AACA;AACEC,IAAAA,SAAS,EAAE,qBAAW;AACpB,WAAKC,SAAL,GAAa,EAAb;AACA,WAAKC,SAAL,GAAmB,EAAnB;AACA,WAAKC,SAAL,GAAeC,IAAI,CAACC,GAAL,EAAf;AACA,WAAKC,SAAL,GAAa;AAAEC,QAAAA,QAAQ,EAAE,EAAZ;AAAgBC,QAAAA,OAAO,EAAC;AAAxB,OAAb;AACA,WAAKC,SAAL,GAAc,EAAd;AACA,WAAKC,SAAL,GAAgB,EAAhB;AACD,KAhBiC;;AAkBlC;AACF;AACA;AACA;AACA;AACEC,IAAAA,OAAO,EAAE;AACPC,MAAAA,MAAM,EAAE,QADD;AAEPC,MAAAA,OAAO,EAAE,SAFF;AAGPC,MAAAA,IAAI,EAAE,MAHC;AAIPC,MAAAA,KAAK,EAAE,OAJA;AAKPC,MAAAA,GAAG,EAAE,KALE;AAMPC,MAAAA,MAAM,EAAE,QAND;AAOPC,MAAAA,OAAO,EAAE,SAPF;AAQPC,MAAAA,OAAO,EAAE,SARF;AASPC,MAAAA,SAAS,EAAE,KATJ;AAUPC,MAAAA,IAAI,EAAE,IAVC;AAYP;AACAC,MAAAA,WAAW,EAAE,gEAbN;AAePC,MAAAA,OAAO,EAAE,mBAAW;AAClB,YAAIC,EAAE,CAACC,MAAH,CAAUC,SAAV,KAAwB,IAAxB,IAAgC,CAACF,EAAE,CAACG,MAAH,CAAUC,MAAV,CAAiBR,SAAtD,EAAiE;AAC/DI,UAAAA,EAAE,CAACK,WAAH,CAAeC,sBAAf,CAAsC,aAAtC,EAAqDN,EAAE,CAACG,MAAH,CAAUC,MAAV,CAAiBG,QAAtE,EAAgF,6BAAhF,EAD+D,CAG/D;;AACA,cAAIC,MAAM,GAAGR,EAAE,CAACG,MAAH,CAAUC,MAAV,CAAiBK,WAAjB,EAAb;AACAC,UAAAA,cAAc,GAAGF,MAAM,CAACG,iBAAP,CAAyBC,IAAzB,CAA8BJ,MAA9B,CAAjB,CAL+D,CAO/D;;AACA1C,UAAAA,EAAE,CAACI,KAAH,CAAS2C,KAAT,CAAe/C,EAAE,CAACgD,EAAH,CAAM9B,OAAN,CAAc+B,GAA7B,EAAkCf,EAAE,CAACG,MAAH,CAAUa,KAAV,CAAgBC,QAAlD;AAEA,cAAIC,GAAG,GAAGpD,EAAE,CAACqD,KAAH,CAASC,YAAnB,CAV+D,CAY/D;;AACAF,UAAAA,GAAG,CAACG,WAAJ,CAAgBC,MAAhB,EAAwB,QAAxB,EAAkC,YAAW;AAC3C,iBAAKd,MAAL,CAAY,KAAKf,MAAjB,EAAyB,QAAzB,EAAmC;AACjC8B,cAAAA,CAAC,EAAEC,QAAQ,CAACC,eAAT,CAAyBC,WADK;AAEjCC,cAAAA,CAAC,EAAEH,QAAQ,CAACC,eAAT,CAAyBG;AAFK,aAAnC;AAID,WALD,EAKG,IALH,EAb+D,CAoB/D;;AACA9D,UAAAA,EAAE,CAACqD,KAAH,CAASU,OAAT,CAAiBC,GAAjB,CAAqBC,SAArB,CAA+B,oBAA/B,EAAqD,YAAW;AAC9D,gBAAIC,SAAS,GAAGlE,EAAE,CAACmE,IAAH,CAAQC,QAAR,CAAiBC,QAAjB,CAA0B3B,MAAM,CAAC4B,YAAjC,EAA+C,GAA/C,EAAoD,IAApD,CAAhB;AACAZ,YAAAA,QAAQ,CAACa,gBAAT,CAA0B,gBAA1B,EAA4CC,OAA5C,CAAoD,UAAUC,IAAV,EAAgB;AAClErB,cAAAA,GAAG,CAACG,WAAJ,CAAgBkB,IAAhB,EAAsB,QAAtB,EAAgCP,SAAhC,EAA2CxB,MAA3C;AACD,aAFD,EAEG,IAFH;AAGD,WALD,EAKG,IALH;AAOA,eAAKA,MAAL,CAAY,KAAKd,OAAjB,EAA0B,QAA1B,EAAoC,KAAK8C,aAAL,EAApC,EA5B+D,CA8B/D;;AACA,eAAKhC,MAAL,CAAY,KAAKf,MAAjB,EAAyB,QAAzB,EAAmC;AACjC8B,YAAAA,CAAC,EAAEC,QAAQ,CAACC,eAAT,CAAyBC,WADK;AAEjCC,YAAAA,CAAC,EAAEH,QAAQ,CAACC,eAAT,CAAyBG;AAFK,WAAnC;AAID;AACF,OApDM;AAsDPY,MAAAA,aAAa,EAAE,yBAAW;AACxB;AACA,YAAIC,GAAG,GAAG3E,EAAE,CAACmE,IAAH,CAAQS,GAAR,CAAYC,QAAZ,CAAqBrB,MAAM,CAACsB,QAAP,CAAgBC,IAArC,CAAV,CAFwB,CAGxB;;AACA,eAAOJ,GAAG,CAACK,QAAJ,CAAa5C,SAApB;AACA,YAAI6C,GAAG,GAAGjF,EAAE,CAACO,IAAH,CAAQ2E,WAAlB;AACA,YAAIC,OAAO,GAAG;AACZC,UAAAA,WAAW,EAAEH,GAAG,CAACI,GAAJ,CAAQ,cAAR,CADD;AAEZC,UAAAA,cAAc,EAAEL,GAAG,CAACI,GAAJ,CAAQ,iBAAR,CAFJ;AAGZE,UAAAA,UAAU,EAAEN,GAAG,CAACI,GAAJ,CAAQ,aAAR,CAHA;AAIZG,UAAAA,UAAU,EAAEP,GAAG,CAACI,GAAJ,CAAQ,aAAR,CAJA;AAKZI,UAAAA,UAAU,EAAER,GAAG,CAACI,GAAJ,CAAQ,mBAAR,CALA;AAMZK,UAAAA,KAAK,EAAET,GAAG,CAACI,GAAJ,CAAQ,cAAR,CANK;AAOZM,UAAAA,MAAM,EAAEV,GAAG,CAACI,GAAJ,CAAQ,SAAR,CAPI;AAQZO,UAAAA,SAAS,EAAEX,GAAG,CAACI,GAAJ,CAAQ,YAAR,CARC;AASZQ,UAAAA,KAAK,EAAEZ,GAAG,CAACI,GAAJ,CAAQ,UAAR,CATK;AAUZS,UAAAA,MAAM,EAAE9F,EAAE,CAAC+F,GAAH,CAAOC,MAAP,CAAcC,MAAd,CAAqBC,SAArB,EAVI;AAWZhE,UAAAA,EAAE,EAAE,EAXQ;AAYZiE,UAAAA,KAAK,EAAEzC,QAAQ,CAACC,eAAT,CAAyBC,WAZpB;AAaZwC,UAAAA,MAAM,EAAE1C,QAAQ,CAACC,eAAT,CAAyBG,YAbrB;AAcZuC,UAAAA,MAAM,EAAE1B,GAAG,CAAC0B,MAdA;AAeZC,UAAAA,KAAK,EAAE3B,GAAG,CAACK,QAfC;AAgBZuB,UAAAA,IAAI,EAAE5B,GAAG,CAAC6B;AAhBE,SAAd,CANwB,CAwBxB;;AACAhG,QAAAA,MAAM,CAACiG,mBAAP,CAA2BvE,EAAE,CAACwE,OAA9B,EAAuClC,OAAvC,CAA+C,UAASmC,IAAT,EAAe;AAC5D,cAAI,WAAWC,IAAX,CAAgBD,IAAhB,CAAJ,EAA2B;AACzBxB,YAAAA,OAAO,CAACjD,EAAR,CAAWyE,IAAX,IAAmBzE,EAAE,CAACwE,OAAH,CAAWC,IAAX,CAAnB;AACD;AACF,SAJD;AAKA,eAAOxB,OAAP;AACD,OArFM;AAuFPzC,MAAAA,MAAM,EAAE,gBAASmE,QAAT,EAAmBN,IAAnB,EAAyBxE,IAAzB,EAA+B;AACrC,YAAIG,EAAE,CAACC,MAAH,CAAUC,SAAV,KAAwB,IAAxB,IAAgC,CAACF,EAAE,CAACG,MAAH,CAAUC,MAAV,CAAiBR,SAAtD,EAAiE;AAC/DI,UAAAA,EAAE,CAACG,MAAH,CAAUC,MAAV,CAAiBK,WAAjB,GAA+BD,MAA/B,CAAsCmE,QAAtC,EAAgDN,IAAhD,EAAsDxE,IAAtD;AACD;AACF,OA3FM;;AA6FP;AACJ;AACA;AACI+E,MAAAA,QAAQ,EAAE,oBAAW;AACnB,YAAI5E,EAAE,CAACC,MAAH,CAAUC,SAAV,KAAwB,IAAxB,IAAgC,CAACF,EAAE,CAACG,MAAH,CAAUC,MAAV,CAAiBR,SAAtD,EAAiE;AAC/DI,UAAAA,EAAE,CAACG,MAAH,CAAUC,MAAV,CAAiBI,MAAjB,CAAwBR,EAAE,CAACG,MAAH,CAAUC,MAAV,CAAiBb,KAAzC,EAAgDS,EAAE,CAACC,MAAH,CAAU4E,YAA1D,EAAwE7E,EAAE,CAAC8E,WAAH,CAAeC,OAAf,EAAxE;AACD;AACF,OApGM;AAsGPC,MAAAA,YAAY,EAAE,sBAASC,GAAT,EAAc;AAC1B,YAAI;AACF,cAAMC,MAAM,GAAGpH,EAAE,CAACmE,IAAH,CAAQS,GAAR,CAAYC,QAAZ,CAAqBsC,GAArB,CAAf;AACAA,UAAAA,GAAG,GAAGC,MAAM,CAACb,IAAb;AACA,cAAMc,cAAc,GAAG7G,MAAM,CAAC8G,IAAP,CAAYF,MAAM,CAACpC,QAAnB,EAA6BuC,MAA7B,CAAoC,UAAAZ,IAAI;AAAA,mBAAIA,IAAI,KAAK,SAAT,IAAsBA,IAAI,KAAK,IAAnC;AAAA,WAAxC,CAAvB;;AACA,cAAIU,cAAc,CAACG,MAAf,GAAwB,CAA5B,EAA+B;AAC7BL,YAAAA,GAAG,IAAI,GAAP;AACAE,YAAAA,cAAc,CAAC7C,OAAf,CAAuB,UAAAiD,KAAK;AAAA,qBAAIN,GAAG,cAAOM,KAAP,cAAgBL,MAAM,CAACpC,QAAP,CAAgByC,KAAhB,CAAhB,CAAP;AAAA,aAA5B;AACD;AACF,SARD,CAQE,OAAOC,CAAP,EAAU;AACV,cAAIP,GAAG,CAACQ,OAAJ,CAAY,UAAZ,KAA2B,CAA/B,EAAkC;AAChCR,YAAAA,GAAG,GAAGA,GAAG,CAACS,OAAJ,CAAY,sBAAZ,EAAoC,EAApC,CAAN;AACD;;AACD,cAAIT,GAAG,CAACQ,OAAJ,CAAY,KAAZ,KAAsB,CAA1B,EAA6B;AAC3BR,YAAAA,GAAG,GAAGA,GAAG,CAACS,OAAJ,CAAY,iBAAZ,EAA+B,EAA/B,CAAN;AACD;AACF;;AACD,eAAOT,GAAP;AACD,OAxHM;AA0HP1E,MAAAA,QAAQ,EAAE,oBAAW;AACnB,YAAIP,EAAE,CAACC,MAAH,CAAUC,SAAV,KAAwB,IAAxB,IAAgC,CAACF,EAAE,CAACG,MAAH,CAAUC,MAAV,CAAiBR,SAAtD,EAAiE;AAC/D,iBAAOI,EAAE,CAACG,MAAH,CAAUC,MAAV,CAAiBK,WAAjB,GAA+BF,QAA/B,EAAP;AACD;;AACD,eAAO,IAAP;AACD;AA/HM,KAvByB;;AAyJlC;AACF;AACA;AACA;AACA;AACEoF,IAAAA,OAAO,EAAE;AACPhH,MAAAA,SAAO,EAAE,IADF;AAEPF,MAAAA,SAAK,EAAE,IAFA;AAGPK,MAAAA,SAAK,EAAE,IAHA;AAIPJ,MAAAA,SAAW,EAAE,IAJN;AAKPO,MAAAA,SAAM,EAAE,IALD;AAMP2G,MAAAA,SAAO,EAAE,EANF;AAOPC,MAAAA,SAAU,EAAE,CAPL;AAQPC,MAAAA,SAAU,EAAE,EARL;AASP5G,MAAAA,SAAQ,EAAE,IATH;AAUP6G,MAAAA,SAAI,EAAE,CAVC;AAYPvF,MAAAA,MAAM,EAAE,gBAASmE,QAAT,EAAmBN,IAAnB,EAAyBxE,IAAzB,EAA+BmG,OAA/B,EAAwC;AAC9C,gBAAQrB,QAAR;AAEE,eAAK3E,EAAE,CAACG,MAAH,CAAUC,MAAV,CAAiBZ,GAAtB;AACEK,YAAAA,IAAI,CAACoG,CAAL,GAASrH,IAAI,CAACC,GAAL,EAAT;;AACA,iBAAKC,SAAL,CAAWuF,IAAX,EAAiB6B,IAAjB,CAAsBrG,IAAtB;;AACA;;AAEF,eAAKG,EAAE,CAACG,MAAH,CAAUC,MAAV,CAAiBb,KAAtB;AACA,eAAKS,EAAE,CAACG,MAAH,CAAUC,MAAV,CAAiBV,OAAtB;AACE,iBAAKT,SAAL,CAAY0F,QAAZ,IAAwB9E,IAAxB;AACA;;AAEF;AACE,iBAAKpB,SAAL,CAAWyH,IAAX,CAAgB;AACdC,cAAAA,CAAC,EAAExB,QADW;AAEdsB,cAAAA,CAAC,EAAErH,IAAI,CAACC,GAAL,EAFW;AAGduH,cAAAA,CAAC,EAAE/B,IAHW;AAIdgC,cAAAA,CAAC,EAAExG,IAJW;AAKdyG,cAAAA,CAAC,EAAEN,OALW;AAMdO,cAAAA,EAAE,EAAE,KAAKR;AANK,aAAhB;;AAbJ;;AAsBA,aAAKA,SAAL;AACD,OApCM;;AAsCP;AACJ;AACA;AACA;AACIS,MAAAA,UAAsB,EAAE,oBAASC,WAAT,EAAsB;AAC5C,YAAI5G,IAAI,GAAG;AACT6G,UAAAA,UAAU,EAAED,WAAW,CAACE,WAAZ,CAAwBlC,IAD3B;AAET,oBAAU;AACRmC,YAAAA,OAAO,EAAEH,WAAW,CAACG,OADb;AAERC,YAAAA,MAAM,EAAEJ,WAAW,CAACI,MAFZ;AAGRC,YAAAA,OAAO,EAAEC,IAAI,CAACC,KAAL,CAAWP,WAAW,CAACK,OAAvB,CAHD;AAIRG,YAAAA,OAAO,EAAEF,IAAI,CAACC,KAAL,CAAWP,WAAW,CAACQ,OAAvB,CAJD;AAKRC,YAAAA,aAAa,EAAET,WAAW,CAACS,aAAZ,GAA4B,KAAKC,UAAL,CAAkBV,WAAW,CAACS,aAA9B,CAA5B,GAA2EE,SALlF;AAMRC,YAAAA,aAAa,EAAEZ,WAAW,CAACY,aAAZ,GAA4B,KAAKF,UAAL,CAAkBV,WAAW,CAACY,aAA9B,CAA5B,GAA2ED,SANlF;AAORE,YAAAA,KAAK,EAAEb,WAAW,CAACa,KAAZ,GAAoBP,IAAI,CAACC,KAAL,CAAWP,WAAW,CAACa,KAAvB,CAApB,GAAoDF,SAPnD;AAQRG,YAAAA,KAAK,EAAEd,WAAW,CAACc,KAAZ,GAAoBR,IAAI,CAACC,KAAL,CAAWP,WAAW,CAACc,KAAvB,CAApB,GAAoDH,SARnD;AASRI,YAAAA,WAAW,EAAEf,WAAW,CAACe,WATjB;AAURC,YAAAA,OAAO,EAAGV,IAAI,CAACC,KAAL,CAAWP,WAAW,CAACgB,OAAvB,CAVF;AAWRC,YAAAA,OAAO,EAAGX,IAAI,CAACC,KAAL,CAAWP,WAAW,CAACiB,OAAvB,CAXF;AAYRC,YAAAA,UAAU,EAAGlB,WAAW,CAACkB,UAZjB;AAaRC,YAAAA,WAAW,EAAGnB,WAAW,CAACmB,WAblB;AAcRC,YAAAA,WAAW,EAAGpB,WAAW,CAACoB,WAdlB;AAeRC,YAAAA,KAAK,EAAGrB,WAAW,CAACqB,KAfZ;AAgBRC,YAAAA,MAAM,EAAGtB,WAAW,CAACsB,MAhBb;AAiBRC,YAAAA,MAAM,EAAGvB,WAAW,CAACuB,MAjBb;AAkBRC,YAAAA,MAAM,EAAGxB,WAAW,CAACwB,MAlBb;AAmBRC,YAAAA,MAAM,EAAGzB,WAAW,CAACyB,MAnBb;AAoBRC,YAAAA,IAAI,EAAG1B,WAAW,CAAC0B,IApBX;AAqBRC,YAAAA,MAAM,EAAG3B,WAAW,CAAC2B,MArBb;AAsBRC,YAAAA,MAAM,EAAG5B,WAAW,CAAC4B,MAtBb;AAuBRC,YAAAA,IAAI,EAAG7B,WAAW,CAAC6B,IAAZ,GAAmB7B,WAAW,CAAC6B,IAAZ,CAAiB3B,WAAjB,CAA6BlC,IAAhD,GAAuD2C,SAvBtD;AAwBRmB,YAAAA,eAAe,EAAG9B,WAAW,CAAC8B,eAxBtB;AAyBRhK,YAAAA,IAAI,EAAEkI,WAAW,CAAClI,IAzBV;AA0BRiK,YAAAA,CAAC,EAAE/B,WAAW,CAAC+B,CA1BP;AA2BRC,YAAAA,CAAC,EAAEhC,WAAW,CAACgC;AA3BP;AAFD,SAAX;;AAiCA,YAAI5I,IAAI,CAAC6G,UAAL,KAAoB,cAAxB,EAAwC;AACtCpI,UAAAA,MAAM,CAACoK,MAAP,CAAc7I,IAAI,UAAlB,EAA2B;AACzB8I,YAAAA,SAAS,EAAGlC,WAAW,CAACkC,SADC;AAEzB1E,YAAAA,KAAK,EAAGwC,WAAW,CAACxC,KAFK;AAGzBC,YAAAA,MAAM,EAAGuC,WAAW,CAACvC,MAHI;AAIzB0E,YAAAA,QAAQ,EAAGnC,WAAW,CAACmC,QAJE;AAKzBC,YAAAA,KAAK,EAAGpC,WAAW,CAACoC,KALK;AAMzBC,YAAAA,KAAK,EAAGrC,WAAW,CAACqC,KANK;AAOzBC,YAAAA,WAAW,EAAGtC,WAAW,CAACsC,WAPD;AAQzBC,YAAAA,SAAS,EAAGvC,WAAW,CAACuC;AARC,WAA3B;AAUD,SAXD,MAWO,IAAInJ,IAAI,CAAC6G,UAAL,KAAoB,YAAxB,EAAsC;AAC3CpI,UAAAA,MAAM,CAACoK,MAAP,CAAc7I,IAAI,UAAlB,EAA2B;AACzBkI,YAAAA,MAAM,EAAGtB,WAAW,CAACsB,MADI;AAEzBC,YAAAA,MAAM,EAAGvB,WAAW,CAACuB,MAFI;AAGzBC,YAAAA,MAAM,EAAGxB,WAAW,CAACwB,MAHI;AAIzBgB,YAAAA,SAAS,EAAGxC,WAAW,CAACwC;AAJC,WAA3B;AAMD,SAPM,MAOA,IAAIpJ,IAAI,CAAC6G,UAAL,KAAoB,eAAxB,EAAyC;AAC9CpI,UAAAA,MAAM,CAACoK,MAAP,CAAc7I,IAAI,UAAlB,EAA2B;AACzBqJ,YAAAA,IAAI,EAAGzC,WAAW,CAACyC,IADM;AAEzBC,YAAAA,QAAQ,EAAG1C,WAAW,CAAC0C,QAFE;AAGzBC,YAAAA,QAAQ,EAAG3C,WAAW,CAAC2C,QAHE;AAIzBC,YAAAA,GAAG,EAAG5C,WAAW,CAAC4C,GAJO;AAKzBC,YAAAA,OAAO,EAAG7C,WAAW,CAAC6C,OALG;AAMzBC,YAAAA,OAAO,EAAG9C,WAAW,CAAC8C,OANG;AAOzBC,YAAAA,MAAM,EAAG/C,WAAW,CAAC+C;AAPI,WAA3B;AASD,SA9D2C,CAgE5C;;;AACAlL,QAAAA,MAAM,CAAC8G,IAAP,CAAYvF,IAAI,UAAhB,EAAyByC,OAAzB,CAAiC,UAAS+G,GAAT,EAAc;AAC7C,cAAIxJ,IAAI,UAAJ,CAAYwJ,GAAZ,MAAqBjC,SAArB,IAAkCvH,IAAI,UAAJ,CAAYwJ,GAAZ,MAAqB,IAA3D,EAAiE;AAC/D,mBAAOxJ,IAAI,UAAJ,CAAYwJ,GAAZ,CAAP;AACD;AACF,SAJD;AAKA,eAAOxJ,IAAP;AACD,OAjHM;AAmHPc,MAAAA,iBAAiB,EAAE,2BAAS8I,EAAT,EAAa;AAC9B,YAAI,CAACzJ,EAAE,CAACG,MAAH,CAAUC,MAAV,CAAiBN,WAAjB,CAA6B4E,IAA7B,CAAkC+E,EAAE,CAAClL,IAArC,CAAD,IAA+CkL,EAAE,CAACC,KAAtD,EAA6D;AAC3D;AACD;;AACDD,QAAAA,EAAE,CAACC,KAAH,GAAW,KAAK3D,SAAhB;;AACA,YAAI0D,EAAE,CAAClL,IAAH,CAAQoL,QAAR,CAAiB,MAAjB,KAA4BF,EAAE,CAAClL,IAAH,CAAQoL,QAAR,CAAiB,OAAjB,CAAhC,EAA2D;AACzD,eAAK/D,SAAL,GAAe,KAAKC,SAApB;AACD,SAFD,MAEO,IAAI4D,EAAE,CAAClL,IAAH,CAAQoL,QAAR,CAAiB,IAAjB,KAA0BF,EAAE,CAAClL,IAAH,CAAQoL,QAAR,CAAiB,KAAjB,CAA9B,EAAuD;AAC5D,eAAK/D,SAAL,GAAe,KAAKE,SAApB;AACD;;AACD,YAAI,oBAAoBpB,IAApB,CAAyB+E,EAAE,CAAClL,IAA5B,CAAJ,EAAuC;AACrC,cAAI,CAAC,KAAKW,SAAL,CAAcuK,EAAE,CAAClL,IAAjB,CAAL,EAA6B;AAC3B,iBAAKW,SAAL,CAAcuK,EAAE,CAAClL,IAAjB,IAAyB;AAACiK,cAAAA,CAAC,EAAEiB,EAAE,CAAC3C,OAAP;AAAgB2B,cAAAA,CAAC,EAAEgB,EAAE,CAACxC;AAAtB,aAAzB;AACD,WAFD,MAEO;AACL,gBAAI2C,SAAS,GAAG,KAAK1K,SAAL,CAAcuK,EAAE,CAAClL,IAAjB,CAAhB;;AACA,gBAAIwI,IAAI,CAAC8C,GAAL,CAASD,SAAS,CAACpB,CAAV,GAAciB,EAAE,CAAC3C,OAA1B,KAAsC,KAAKlB,SAA3C,IAAsDmB,IAAI,CAAC8C,GAAL,CAASD,SAAS,CAACnB,CAAV,GAAcgB,EAAE,CAACxC,OAA1B,KAAsC,KAAKrB,SAArG,EAA8G;AAC5G;AACA;AACD;;AACD,iBAAK1G,SAAL,CAAcuK,EAAE,CAAClL,IAAjB,IAAyB;AAACiK,cAAAA,CAAC,EAAEiB,EAAE,CAAC3C,OAAP;AAAgB2B,cAAAA,CAAC,EAAEgB,EAAE,CAACxC;AAAtB,aAAzB;AACD;AACF,SArB6B,CAsB9B;;;AACA,YAAI5C,IAAI,GAAG,KAAK8C,UAAL,CAAkBsC,EAAE,CAACK,MAArB,CAAX;;AACA,YAAI,CAACzF,IAAL,EAAW;AACT;AACD;;AACD,aAAK0F,KAAL,CAAW,eAAaN,EAAE,CAAClL,IAAhB,GAAqB,MAArB,GAA4B8F,IAAvC;;AACA,YAAIxE,IAAI,GAAG,KAAK2G,UAAL,CAA4BiD,EAA5B,CAAX;;AACA,aAAKjJ,MAAL,CAAYR,EAAE,CAACG,MAAH,CAAUC,MAAV,CAAiBd,IAA7B,EAAmC+E,IAAnC,EAAyCxE,IAAzC;AACD,OAjJM;AAmJPuC,MAAAA,YAAY,EAAE,sBAASqH,EAAT,EAAa;AACzB,YAAIlH,IAAI,GAAGkH,EAAE,CAACO,SAAH,EAAX;AACA,YAAI3F,IAAI,GAAI+C,SAAS,KAAK7E,IAAd,IAAsB,kBAAkBA,IAAzC,GAAiDA,IAAI,CAAC0H,YAAL,CAAkB,IAAlB,CAAjD,GAA2E7C,SAAtF;AACA,YAAIvH,IAAI,GAAG;AACTtB,UAAAA,IAAI,EAAEkL,EAAE,CAACS,OAAH,EADG;AAET3H,UAAAA,IAAI,EAAE8B,IAFG;AAGTmE,UAAAA,CAAC,EAAEjG,IAAI,CAAC4H,UAHC;AAIT1B,UAAAA,CAAC,EAAElG,IAAI,CAAC6H;AAJC,SAAX;AAMA,aAAK5J,MAAL,CAAYR,EAAE,CAACG,MAAH,CAAUC,MAAV,CAAiBd,IAA7B,EAAmC,QAAnC,EAA6CO,IAA7C;AACD,OA7JM;AA+JPsH,MAAAA,UAAY,EAAE,oBAASkD,EAAT,EAAa;AACzB,YAAIA,EAAE,KAAK/I,MAAX,EAAmB;AACjB,iBAAO,QAAP;AACD,SAFD,MAEO,IAAI+I,EAAE,KAAK7I,QAAX,EAAqB;AAC1B,iBAAO,UAAP;AACD;;AACD,YAAI8I,KAAK,GAAG,EAAZ;;AACA,eAAQD,EAAE,CAACE,UAAH,KAAkB,IAA1B,EAAiC;AAC/B,cAAIC,QAAQ,GAAG,CAAf;AACA,cAAIC,QAAQ,GAAG,CAAf;;AACA,eAAM,IAAIrE,CAAC,GAAG,CAAd,EAAiBA,CAAC,GAAGiE,EAAE,CAACE,UAAH,CAAcG,UAAd,CAAyBpF,MAA9C,EAAsDc,CAAC,EAAvD,EAA4D;AAC1D,gBAAIuE,GAAG,GAAGN,EAAE,CAACE,UAAH,CAAcG,UAAd,CAAyBtE,CAAzB,CAAV;;AACA,gBAAKuE,GAAG,CAACC,QAAJ,KAAiBP,EAAE,CAACO,QAAzB,EAAoC;AAClC,kBAAKD,GAAG,KAAKN,EAAb,EAAkB;AAChBI,gBAAAA,QAAQ,GAAGD,QAAX;AACD;;AACDA,cAAAA,QAAQ;AACT;AACF;;AACD,cAAKH,EAAE,CAACQ,YAAH,CAAgB,IAAhB,KAAyBR,EAAE,CAACS,EAAH,KAAU,EAAxC,EAA6C;AAC3CR,YAAAA,KAAK,CAACS,OAAN,CAAcV,EAAE,CAACO,QAAH,CAAYI,WAAZ,KAA4B,GAA5B,GAAkCX,EAAE,CAACS,EAAnD;AACA,mBAAOR,KAAK,CAACW,IAAN,CAAW,GAAX,CAAP;AACD,WAHD,MAGO,IAAKT,QAAQ,GAAG,CAAhB,EAAoB;AACzBF,YAAAA,KAAK,CAACS,OAAN,CAAcV,EAAE,CAACO,QAAH,CAAYI,WAAZ,KAA4B,aAA5B,IAA6CP,QAAQ,GAAC,CAAtD,IAA2D,GAAzE;AACD,WAFM,MAEA;AACLH,YAAAA,KAAK,CAACS,OAAN,CAAcV,EAAE,CAACO,QAAH,CAAYI,WAAZ,EAAd;AACD;;AACDX,UAAAA,EAAE,GAAGA,EAAE,CAACE,UAAR;AACD;;AAED,eAAOD,KAAK,CAACY,KAAN,CAAY,CAAZ,EAAeD,IAAf,CAAoB,GAApB,CAAP,CA9ByB,CA8BQ;AAClC,OA9LM;;AAgMP;AACJ;AACA;AACI1K,MAAAA,QAAQ,EAAE,oBAAW;AAEnB,YAAIV,IAAI,GAAG;AACTA,UAAAA,IAAI,EAAE,KAAKZ,SADF;AAETkM,UAAAA,KAAK,EAAE,KAAKxM,SAFH;AAGTyM,UAAAA,GAAG,EAAE,KAAKtM,SAHD;AAITuM,UAAAA,GAAG,EAAE,KAAK5M,SAJD;AAKToG,UAAAA,YAAY,EAAE7E,EAAE,CAACC,MAAH,CAAU4E,YALf;AAMTyG,UAAAA,GAAG,EAAE1M,IAAI,CAACC,GAAL;AANI,SAAX,CAFmB,CAUnB;;AACA0M,QAAAA,OAAO,CAACF,GAAR,CAAYxL,IAAZ;AAEA,YAAIwG,CAAC,GAAG,IAAIzH,IAAJ,EAAR;AACA,YAAI4M,EAAE,GAAGnF,CAAC,CAACoF,WAAF,KACP,CAAC,MAAIpF,CAAC,CAACqF,QAAF,KAAa,CAAjB,CAAD,EAAsBC,QAAtB,CAA+B,CAA/B,EAAiC,GAAjC,CADO,GAEP,CAAC,KAAGtF,CAAC,CAACuF,OAAF,EAAJ,EAAiBD,QAAjB,CAA0B,CAA1B,EAA4B,GAA5B,CAFO,GAE0B,GAF1B,GAGP,CAAC,KAAGtF,CAAC,CAACwF,QAAF,EAAJ,EAAkBF,QAAlB,CAA2B,CAA3B,EAA6B,GAA7B,CAHO,GAIP,CAAC,KAAGtF,CAAC,CAACyF,UAAF,EAAJ,EAAoBH,QAApB,CAA6B,CAA7B,EAA+B,GAA/B,CAJO,GAKP,CAAC,KAAGtF,CAAC,CAAC0F,UAAF,EAAJ,EAAoBJ,QAApB,CAA6B,CAA7B,EAA+B,GAA/B,CALF;AAOA,YAAIK,CAAC,GAAG1K,MAAM,CAACE,QAAP,CAAgByK,aAAhB,CAA8B,GAA9B,CAAR;AACAD,QAAAA,CAAC,CAACnJ,IAAF,GAASvB,MAAM,CAAC4K,GAAP,CAAWC,eAAX,CAA2B,IAAIC,IAAJ,CAAS,CAACC,IAAI,CAACC,SAAL,CAAezM,IAAf,CAAD,CAAT,EAAiC;AAACtB,UAAAA,IAAI,EAAE;AAAP,SAAjC,CAA3B,CAAT;AACAyN,QAAAA,CAAC,CAACzL,QAAF,GAAa,sBAAoBiL,EAApB,GAAuB,OAApC,CAvBmB,CAyBnB;;AACAhK,QAAAA,QAAQ,CAAC+K,IAAT,CAAcC,WAAd,CAA0BR,CAA1B;AACAA,QAAAA,CAAC,CAACS,KAAF,GA3BmB,CA6BnB;;AACAjL,QAAAA,QAAQ,CAAC+K,IAAT,CAAcG,WAAd,CAA0BV,CAA1B;AACA,eAAOA,CAAC,CAACzL,QAAT;AACD;AAnOM;AA9JyB,GAApC;AA1BAP,EAAAA,EAAE,CAACG,MAAH,CAAUC,MAAV,CAAiBnC,aAAjB,GAAiCA,aAAjC",
  "sourcesContent": [
    "/* Transform.js \n * \n * copyright (c) 2010-2017, Christian Mayer and the CometVisu contributers.\n * \n * This program is free software; you can redistribute it and/or modify it\n * under the terms of the GNU General Public License as published by the Free\n * Software Foundation; either version 3 of the License, or (at your option)\n * any later version.\n *\n * This program is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for\n * more details.\n *\n * You should have received a copy of the GNU General Public License along\n * with this program; if not, write to the Free Software Foundation, Inc.,\n * 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA\n */\n\n\n/**\n * Recording tool for user interactions on existing configs. Used for bug reproduction.\n\n * @author Tobias Bräutigam\n * @since 0.11.0 (2017)\n */\nqx.Class.define('cv.report.Record', {\n  extend: qx.core.Object,\n  type: \"singleton\",\n\n  /*\n  ******************************************************\n    CONSTRUCTOR\n  ******************************************************\n  */\n  construct: function() {\n    this.__log = [];\n    this.__listeners = {};\n    this.__start = Date.now();\n    this.__xhr = { response: [], request:[] };\n    this.__data = {};\n    this.__deltas = {};\n  },\n\n  /*\n  ******************************************************\n    STATICS\n  ******************************************************\n  */\n  statics: {\n    CONFIG: \"config\",\n    BACKEND: \"backend\",\n    USER: \"user\",\n    CACHE: \"cache\",\n    XHR: \"xhr\",\n    SCREEN: \"screen\",\n    RUNTIME: \"runtime\",\n    STORAGE: \"storage\",\n    REPLAYING: false,\n    data: null,\n\n    // Events that should be recorded\n    USER_EVENTS: /(.+(down|up|cancel|move)|.*click|contextmenu|touch.*|.*wheel)/i,\n\n    prepare: function() {\n      if (cv.Config.reporting === true && !cv.report.Record.REPLAYING) {\n        cv.Application.registerConsoleCommand(\"downloadLog\", cv.report.Record.download, \"Download recorded log file.\");\n\n        // apply event recorder\n        var record = cv.report.Record.getInstance();\n        EVENT_RECORDER = record.recordNativeEvent.bind(record);\n\n        // patch XHR\n        qx.Class.patch(qx.io.request.Xhr, cv.report.utils.MXhrHook);\n\n        var Reg = qx.event.Registration;\n\n        // add resize listener\n        Reg.addListener(window, \"resize\", function() {\n          this.record(this.SCREEN, \"resize\", {\n            w: document.documentElement.clientWidth,\n            h: document.documentElement.clientHeight\n          });\n        }, this);\n\n        // add scroll listeners to all pages\n        qx.event.message.Bus.subscribe(\"setup.dom.finished\", function() {\n          var throttled = qx.util.Function.throttle(record.recordScroll, 250, true);\n          document.querySelectorAll(\"#pages > .page\").forEach(function (page) {\n            Reg.addListener(page, \"scroll\", throttled, record);\n          }, this);\n        }, this);\n\n        this.record(this.RUNTIME, \"config\", this.getClientData());\n\n        // save initial size\n        this.record(this.SCREEN, \"resize\", {\n          w: document.documentElement.clientWidth,\n          h: document.documentElement.clientHeight\n        });\n      }\n    },\n\n    getClientData: function() {\n      // save browser settings\n      var req = qx.util.Uri.parseUri(window.location.href);\n      // delete reporting queryKey\n      delete req.queryKey.reporting;\n      var Env = qx.core.Environment;\n      var runtime = {\n        browserName: Env.get(\"browser.name\"),\n        browserVersion: Env.get(\"browser.version\"),\n        deviceName: Env.get(\"device.name\"),\n        deviceType: Env.get(\"device.type\"),\n        pixelRatio: Env.get(\"device.pixelRatio\"),\n        touch: Env.get(\"device.touch\"),\n        osName: Env.get(\"os.name\"),\n        osVersion: Env.get(\"os.version\"),\n        build: Env.get(\"cv.build\"),\n        locale: qx.bom.client.Locale.getLocale(),\n        cv: {},\n        width: document.documentElement.clientWidth,\n        height: document.documentElement.clientHeight,\n        anchor: req.anchor,\n        query: req.queryKey,\n        path: req.relative\n      };\n      // save CometVisu build information\n      Object.getOwnPropertyNames(cv.Version).forEach(function(name) {\n        if (/^[A-Z]+$/.test(name)) {\n          runtime.cv[name] = cv.Version[name];\n        }\n      });\n      return runtime;\n    },\n\n    record: function(category, path, data) {\n      if (cv.Config.reporting === true && !cv.report.Record.REPLAYING) {\n        cv.report.Record.getInstance().record(category, path, data);\n      }\n    },\n\n    /**\n     * Save cache in\n     */\n    logCache: function() {\n      if (cv.Config.reporting === true && !cv.report.Record.REPLAYING) {\n        cv.report.Record.record(cv.report.Record.CACHE, cv.Config.configSuffix, cv.ConfigCache.getData());\n      }\n    },\n\n    normalizeUrl: function(url) {\n      try {\n        const parsed = qx.util.Uri.parseUri(url);\n        url = parsed.path;\n        const filteredParams = Object.keys(parsed.queryKey).filter(name => name !== 'nocache' && name !== 'ts');\n        if (filteredParams.length > 0) {\n          url += '?';\n          filteredParams.forEach(param => url += `${param}=${parsed.queryKey[param]}`)\n        }\n      } catch (e) {\n        if (url.indexOf(\"nocache=\") >= 0) {\n          url = url.replace(/[\\?|&]nocache=[0-9]+/, \"\");\n        }\n        if (url.indexOf(\"ts=\") >= 0) {\n          url = url.replace(/[\\?|&]ts=[0-9]+/, \"\");\n        }\n      }\n      return url;\n    },\n\n    download: function() {\n      if (cv.Config.reporting === true && !cv.report.Record.REPLAYING) {\n        return cv.report.Record.getInstance().download();\n      }\n      return null;\n    }\n  },\n\n  /*\n  ******************************************************\n    MEMBERS\n  ******************************************************\n  */\n  members: {\n    __start: null,\n    __log: null,\n    __xhr: null,\n    __listeners: null,\n    __data: null,\n    __delta: 50,\n    __minDelta: 1,\n    __maxDelta: 50,\n    __deltas: null,\n    __ID: 0,\n\n    record: function(category, path, data, options) {\n      switch (category) {\n\n        case cv.report.Record.XHR:\n          data.t = Date.now();\n          this.__xhr[path].push(data);\n          break;\n\n        case cv.report.Record.CACHE:\n        case cv.report.Record.RUNTIME:\n          this.__data[category] = data;\n          break;\n\n        default:\n          this.__log.push({\n            c: category,\n            t: Date.now(),\n            i: path,\n            d: data,\n            o: options,\n            ID: this.__ID\n          });\n      }\n      this.__ID++;\n    },\n\n    /**\n     * Extract useful data we need from every event\n     * @param nativeEvent {Event}\n     */\n    __extractDataFromEvent: function(nativeEvent) {\n      var data = {\n        eventClass: nativeEvent.constructor.name,\n        \"native\": {\n          bubbles: nativeEvent.bubbles,\n          button: nativeEvent.button,\n          clientX: Math.round(nativeEvent.clientX),\n          clientY: Math.round(nativeEvent.clientY),\n          currentTarget: nativeEvent.currentTarget ? this.__getDomPath(nativeEvent.currentTarget) : undefined,\n          relatedTarget: nativeEvent.relatedTarget ? this.__getDomPath(nativeEvent.relatedTarget) : undefined,\n          pageX: nativeEvent.pageX ? Math.round(nativeEvent.pageX) : undefined,\n          pageY: nativeEvent.pageY ? Math.round(nativeEvent.pageY) : undefined,\n          returnValue: nativeEvent.returnValue,\n          screenX : Math.round(nativeEvent.screenX),\n          screenY : Math.round(nativeEvent.screenY),\n          wheelDelta : nativeEvent.wheelDelta,\n          wheelDeltaX : nativeEvent.wheelDeltaX,\n          wheelDeltaY : nativeEvent.wheelDeltaY,\n          delta : nativeEvent.delta,\n          deltaX : nativeEvent.deltaX,\n          deltaY : nativeEvent.deltaY,\n          deltaZ : nativeEvent.deltaZ,\n          detail : nativeEvent.detail,\n          axis : nativeEvent.axis,\n          wheelX : nativeEvent.wheelX,\n          wheelY : nativeEvent.wheelY,\n          view : nativeEvent.view ? nativeEvent.view.constructor.name : undefined,\n          HORIZONTAL_AXIS : nativeEvent.HORIZONTAL_AXIS,\n          type: nativeEvent.type,\n          x: nativeEvent.x,\n          y: nativeEvent.y\n        }\n      };\n\n      if (data.eventClass === \"PointerEvent\") {\n        Object.assign(data.native, {\n          pointerId : nativeEvent.pointerId,\n          width : nativeEvent.width,\n          height : nativeEvent.height,\n          pressure : nativeEvent.pressure,\n          tiltX : nativeEvent.tiltX,\n          tiltY : nativeEvent.tiltY,\n          pointerType : nativeEvent.pointerType,\n          isPrimary : nativeEvent.isPrimary\n        });\n      } else if (data.eventClass === \"WheelEvent\") {\n        Object.assign(data.native, {\n          deltaX : nativeEvent.deltaX,\n          deltaY : nativeEvent.deltaY,\n          deltaZ : nativeEvent.deltaZ,\n          deltaMode : nativeEvent.deltaMode\n        });\n      } else if (data.eventClass === \"KeyboardEvent\") {\n        Object.assign(data.native, {\n          code : nativeEvent.code,\n          composed : nativeEvent.composed,\n          charCode : nativeEvent.charCode,\n          key : nativeEvent.key,\n          keyCode : nativeEvent.keyCode,\n          ctrlKey : nativeEvent.ctrlKey,\n          altKey : nativeEvent.altKey\n        });\n      }\n\n      // delete undefined values\n      Object.keys(data.native).forEach(function(key) {\n        if (data.native[key] === undefined || data.native[key] === null) {\n          delete data.native[key];\n        }\n      });\n      return data;\n    },\n\n    recordNativeEvent: function(ev) {\n      if (!cv.report.Record.USER_EVENTS.test(ev.type) || ev.$$RID) {\n        return;\n      }\n      ev.$$RID = this.__ID;\n      if (ev.type.endsWith(\"down\") || ev.type.endsWith(\"start\")) {\n        this.__delta = this.__minDelta;\n      } else if (ev.type.endsWith(\"up\") || ev.type.endsWith(\"end\")) {\n        this.__delta = this.__maxDelta;\n      }\n      if (/.+(move|over|out)/.test(ev.type)) {\n        if (!this.__deltas[ev.type]) {\n          this.__deltas[ev.type] = {x: ev.clientX, y: ev.clientY};\n        } else {\n          var lastDelta = this.__deltas[ev.type];\n          if (Math.abs(lastDelta.x - ev.clientX) <= this.__delta || Math.abs(lastDelta.y - ev.clientY) <= this.__delta) {\n            // below delta -> skip this event\n            return;\n          }\n          this.__deltas[ev.type] = {x: ev.clientX, y: ev.clientY};\n        }\n      }\n      // get path\n      var path = this.__getDomPath(ev.target);\n      if (!path) {\n        return;\n      }\n      this.debug(\"recording \"+ev.type+\" on \"+path);\n      var data = this.__extractDataFromEvent(ev);\n      this.record(cv.report.Record.USER, path, data);\n    },\n\n    recordScroll: function(ev) {\n      var page = ev.getTarget();\n      var path = (undefined !== page && 'getAttribute' in page) ? page.getAttribute(\"id\") : undefined;\n      var data = {\n        type: ev.getType(),\n        page: path,\n        x: page.scrollLeft,\n        y: page.scrollTop\n      };\n      this.record(cv.report.Record.USER, \"scroll\", data);\n    },\n\n    __getDomPath: function(el) {\n      if (el === window) {\n        return \"Window\";\n      } else if (el === document) {\n        return \"document\";\n      }\n      var stack = [];\n      while ( el.parentNode !== null ) {\n        var sibCount = 0;\n        var sibIndex = 0;\n        for ( var i = 0; i < el.parentNode.childNodes.length; i++ ) {\n          var sib = el.parentNode.childNodes[i];\n          if ( sib.nodeName === el.nodeName ) {\n            if ( sib === el ) {\n              sibIndex = sibCount;\n            }\n            sibCount++;\n          }\n        }\n        if ( el.hasAttribute('id') && el.id !== '' ) {\n          stack.unshift(el.nodeName.toLowerCase() + '#' + el.id);\n          return stack.join(\">\");\n        } else if ( sibCount > 1 ) {\n          stack.unshift(el.nodeName.toLowerCase() + ':nth-child(' + (sibIndex+1) + ')');\n        } else {\n          stack.unshift(el.nodeName.toLowerCase());\n        }\n        el = el.parentNode;\n      }\n\n      return stack.slice(1).join(\">\"); // removes the html element\n    },\n\n    /**\n     * Download Log as file\n     */\n    download: function() {\n\n      var data = {\n        data: this.__data,\n        start: this.__start,\n        xhr: this.__xhr,\n        log: this.__log,\n        configSuffix: cv.Config.configSuffix,\n        end: Date.now()\n      };\n      // show the user what he gets\n      console.log(data);\n\n      var d = new Date();\n      var ts = d.getFullYear()+\n        (\"\"+(d.getMonth()+1)).padStart(2,\"0\")+\n        (\"\"+d.getDate()).padStart(2,\"0\")+\"-\"+\n        (\"\"+d.getHours()).padStart(2,\"0\")+\n        (\"\"+d.getMinutes()).padStart(2,\"0\")+\n        (\"\"+d.getSeconds()).padStart(2,\"0\");\n\n      var a = window.document.createElement('a');\n      a.href = window.URL.createObjectURL(new Blob([JSON.stringify(data)], {type: 'application/json'}));\n      a.download = 'CometVisu-replay-'+ts+'.json';\n\n      // Append anchor to body.\n      document.body.appendChild(a);\n      a.click();\n\n      // Remove anchor from body\n      document.body.removeChild(a);\n      return a.download;\n    }\n  }\n});\n"
  ]
}