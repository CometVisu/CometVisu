{
  "version": 3,
  "sources": [
    "/home/travis/build/CometVisu/CometVisu/source/class/cv/ui/structure/AbstractWidget.js"
  ],
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "extend",
    "cv",
    "ui",
    "structure",
    "AbstractBasicWidget",
    "include",
    "common",
    "HasStyling",
    "type",
    "construct",
    "props",
    "parts",
    "getPath",
    "split",
    "shift",
    "TemplateEngine",
    "getInstance",
    "isDomFinished",
    "_onDomFinished",
    "event",
    "message",
    "Bus",
    "subscribe",
    "util",
    "DeferredCall",
    "Config",
    "lazyLoading",
    "getParentWidget",
    "parentData",
    "Tree",
    "getParentData",
    "path",
    "parent",
    "WidgetFactory",
    "createInstance",
    "$$type",
    "setParentWidget",
    "parentPage",
    "get$$type",
    "getVisibilityParent",
    "bind",
    "schedule",
    "properties",
    "anonymous",
    "check",
    "init",
    "flavour",
    "nullable",
    "layout",
    "label",
    "bindClickToWidget",
    "mapping",
    "align",
    "classes",
    "style",
    "colspan",
    "transform",
    "colspanM",
    "colspanS",
    "rowspanClass",
    "containerClass",
    "visible",
    "apply",
    "responsive",
    "events",
    "members",
    "$$domReady",
    "__pointerDownElement",
    "__pointerDownTime",
    "_skipNextEvent",
    "__longPressTimer",
    "__pointerDownPoint",
    "_applyVisible",
    "value",
    "old",
    "getResponsiveLayout",
    "width",
    "isResponsive",
    "getLayout",
    "Manager",
    "getAvailableWidth",
    "suffix",
    "getLayoutSuffix",
    "l",
    "forEach",
    "prop",
    "string2number",
    "parseFloat",
    "downaction",
    "ev",
    "action",
    "isVisible",
    "addListenerOnce",
    "_onDomReady",
    "initListeners",
    "fireEvent",
    "getActor",
    "getDomElement",
    "querySelector",
    "getValueElement",
    "getWidgetElement",
    "getInteractionElement",
    "isBindClickToWidget",
    "addElementListener",
    "buttonPressed",
    "_onPointerDown",
    "_cancelEvent",
    "preventDefault",
    "stopPropagation",
    "getCurrentTarget",
    "Date",
    "now",
    "stop",
    "Registration",
    "addListener",
    "document",
    "_onPointerUp",
    "_onLongTap",
    "hasMixin",
    "constructor",
    "HandleLongpress",
    "isSendLongOnRelease",
    "getShortThreshold",
    "clonedEv",
    "clone",
    "Timer",
    "once",
    "__abort",
    "x",
    "getDocumentLeft",
    "y",
    "getDocumentTop",
    "_onPointerMove",
    "removeListener",
    "upElement",
    "getTarget",
    "distance",
    "Math",
    "max",
    "abs",
    "abort",
    "parentNode",
    "setCurrentTarget",
    "callback",
    "context",
    "isAnonymous",
    "widget",
    "dataset",
    "removeElementListener",
    "getDomString",
    "getClasses",
    "getStyle",
    "getLabel",
    "_getInnerDomString",
    "destruct",
    "AbstractWidget"
  ],
  "mappings": "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",
  "sourcesContent": [
    "/* AbstractWidget.js \n * \n * copyright (c) 2010-2017, Christian Mayer and the CometVisu contributers.\n * \n * This program is free software; you can redistribute it and/or modify it\n * under the terms of the GNU General Public License as published by the Free\n * Software Foundation; either version 3 of the License, or (at your option)\n * any later version.\n *\n * This program is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for\n * more details.\n *\n * You should have received a copy of the GNU General Public License along\n * with this program; if not, write to the Free Software Foundation, Inc.,\n * 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA\n */\n\n\n//noinspection JSUnusedGlobalSymbols,JSUnusedLocalSymbols,JSHint\n/**\n * This class defines all the building blocks for a Visu in the \"Pure\" design\n */\nqx.Class.define('cv.ui.structure.AbstractWidget', {\n  extend: cv.ui.structure.AbstractBasicWidget,\n  include: cv.ui.common.HasStyling,\n  type: \"abstract\",\n\n  /*\n  ******************************************************\n    CONSTRUCTOR\n  ******************************************************\n  */\n  construct: function(props) {\n    this.base(arguments, props);\n    var parts = this.getPath().split(\"_\"); parts.shift();\n    // var prio = parseInt(parts.join(\"\"))*-1;\n    // var broker = cv.MessageBroker.getInstance();\n    if (cv.TemplateEngine.getInstance().isDomFinished()) {\n      this._onDomFinished();\n    } else {\n      qx.event.message.Bus.subscribe(\"setup.dom.finished\", this._onDomFinished, this);\n    }\n\n    // this.debug(props.$$type+\" INIT [\"+props.path+\"]\");\n    // bind visibility to parent page\n    new qx.util.DeferredCall(function() {\n      if (cv.Config.lazyLoading === true && !this.getParentWidget()) {\n        // initialize the ancestors\n        var parentData = cv.util.Tree.getParentData(props.path);\n        if (parentData) {\n          // console.log(parentData.$$type + \" (\" + parentData.path + \") is parent of \" + props.$$type + \" (\" + props.path + \")\");\n          var parent = cv.ui.structure.WidgetFactory.createInstance(parentData.$$type, parentData);\n          this.setParentWidget(parent);\n        }\n      }\n      var parentPage = this.get$$type() === \"page\" || this.get$$type() === \"navbar\" ? null : this.getVisibilityParent();\n      if (parentPage) {\n        parentPage.bind(\"visible\", this, \"visible\");\n      }\n    }, this).schedule();\n  },\n\n\n  /*\n  ******************************************************\n    PROPERTIES\n  ******************************************************\n  */\n  properties: {\n    /**\n     * If true this widget does not automatically apply any listeners\n     */\n    anonymous : {\n      check: \"Boolean\",\n      init: false\n    },\n    flavour           : { check: \"String\", init: '', nullable: true },\n    layout            : { check: \"Object\", nullable: true},\n    label             : { check: \"String\", init: '', nullable: true },\n    bindClickToWidget : { check: \"Boolean\", init: false },\n    mapping           : { check: \"String\", nullable: true },\n    align             : { check: \"String\", nullable: true },\n    classes           : { check: \"String\", init: '', nullable: true },\n    style             : { check: \"String\", init: ''},\n    colspan           : { check: \"Number\", init: 6, transform: \"string2number\" },\n    colspanM          : { check: \"Number\", init: 6, transform: \"string2number\" },\n    colspanS          : { check: \"Number\", init: 6, transform: \"string2number\" },\n    rowspanClass      : { check: \"String\", init: \"\" },\n    containerClass    : { check: \"String\", nullable: true },\n    visible           : {\n      check: \"Boolean\",\n      init: false,\n      event: \"changeVisible\",\n      apply: \"_applyVisible\"\n    },\n    responsive        : { check: \"Boolean\", init: false }\n  },\n\n  /*\n  ******************************************************\n    EVENTS\n  ******************************************************\n  */\n  events: {\n    \"domReady\": \"qx.event.type.Event\"\n  },\n\n  /*\n  ******************************************************\n    MEMBERS\n  ******************************************************\n  */\n  members: {\n    $$domReady: null,\n    __pointerDownElement: null,\n    __pointerDownTime: null,\n    _skipNextEvent: null,\n    __longPressTimer: null,\n    __pointerDownPoint: null,\n\n    // property apply\n    _applyVisible: function(value, old) {\n    },\n\n    getResponsiveLayout: function (width) {\n      if (!this.isResponsive()) {\n        return this.getLayout();\n      }\n      if (!width) {\n        width = cv.ui.layout.Manager.getAvailableWidth();\n      }\n      var layout = this.getLayout();\n      var suffix = cv.ui.layout.Manager.getLayoutSuffix(width);\n      if (suffix) {\n        var l = {};\n        ['x', 'y', 'width', 'scale'].forEach(function (prop) {\n          if (layout[prop]) {\n            // use default value\n            l[prop] = layout[prop];\n          }\n          if (layout[prop + suffix]) {\n            // override default value\n            l[prop] = layout[prop + suffix];\n          }\n        });\n        return l;\n      }\n      return layout;\n    },\n\n    /**\n     * Property transformaon helper\n     * @param value {String}\n     * @return {Number}\n     */\n    string2number: function(value) {\n      return parseFloat(value);\n    },\n\n    /**\n     * Default action for pointerdown events, does nothing but can be overridden\n     * by subclasses\n     * @param ev {Event} pointerdown event\n     */\n    downaction: function(ev) {}, // jshint ignore:line\n\n    /**\n     * Default action for tap events, does nothing but can be overridden\n     * by subclasses\n     * @param ev {Event} tap event\n     */\n    action: function(ev) {}, // jshint ignore:line\n\n    /**\n     * Triggered by the <code>setup.dom.finished</code> bus event\n     */\n    _onDomFinished: function() {\n      if (!this.isVisible()) {\n        this.addListenerOnce(\"changeVisible\", this._onDomFinished, this);\n        return;\n      }\n      this._onDomReady();\n    },\n\n    /**\n     * Called when all widgets are available in the DOM tree\n     */\n    _onDomReady: function() {\n      if (!this.$$domReady) {\n        this.initListeners();\n        this.fireEvent(\"domReady\");\n        this.$$domReady = true;\n      }\n    },\n\n    /**\n     * Return the widgets actor element\n     * @return {Element}\n     */\n    getActor: function() {\n      return this.getDomElement().querySelector('.actor');\n    },\n\n    /**\n     * Return the widgets value element\n     * @return {Element}\n     */\n    getValueElement: function() {\n      return this.getDomElement().querySelector(\".value\");\n    },\n\n    /**\n     * Return the widgets widget element\n     * @return {Element}\n     */\n    getWidgetElement: function() {\n      return this.getDomElement().querySelector('.widget');\n    },\n\n    /**\n     * Return the element which should be used to attach listeners too.\n     * Unsually this would be the actor but if bindClickToWidget is true\n     * it would be the DomElement (aka widget-container)\n     * @return {Element}\n     */\n    getInteractionElement: function() {\n      return this.isBindClickToWidget() ? this.getDomElement() : this.getActor();\n    },\n\n    /**\n     * Initialize the widgets listeners\n     */\n    initListeners: function() {\n      this.addElementListener(\"tap\", this.action, this);\n\n      // we need to listen to pointerdown to detect taps with\n      if (this.buttonPressed) {\n        this.addElementListener(\"pointerdown\", this._onPointerDown, this);\n        this.addElementListener(\"contextmenu\", this._cancelEvent, this);\n      }\n    },\n\n    _cancelEvent: function (ev) {\n      ev.preventDefault();\n      ev.stopPropagation();\n    },\n\n    _onPointerDown: function(ev) {\n      // listen to pointerup globally\n      this.__pointerDownElement = ev.getCurrentTarget();\n      this.__pointerDownTime = Date.now();\n      if (this.__longPressTimer) {\n        this.__longPressTimer.stop();\n        this.__longPressTimer = null;\n      }\n      qx.event.Registration.addListener(document, \"pointerup\", this._onPointerUp, this);\n      if (this._onLongTap &&\n        qx.Class.hasMixin(this.constructor, cv.ui.common.HandleLongpress) &&\n        !this.isSendLongOnRelease() &&\n        this.getShortThreshold() > 0) {\n        var clonedEv = ev.clone();\n        this.__longPressTimer = qx.event.Timer.once(function () {\n          this._onLongTap(clonedEv);\n          this._skipNextEvent = \"tap\";\n          this.__abort();\n        }, this, this.getShortThreshold());\n\n        this.__pointerDownPoint = {\n          x: ev.getDocumentLeft(),\n          y: ev.getDocumentTop()\n        };\n        // also listen to move events to detect if the pointer is moved away from the widget (or scrolled)\n        qx.event.Registration.addListener(document, \"pointermove\", this._onPointerMove, this);\n      }\n    },\n\n    __abort: function () {\n      qx.event.Registration.removeListener(document, \"pointerup\", this._onPointerUp, this);\n      qx.event.Registration.removeListener(document, \"pointermove\", this._onPointerMove, this);\n      this.__pointerDownTime = null;\n      this.__pointerDownPoint = null;\n      if (this.__longPressTimer) {\n        this.__longPressTimer.stop();\n        this.__longPressTimer = null;\n      }\n    },\n\n    _onPointerMove: function(ev) {\n      var upElement = ev.getTarget();\n      var distance = Math.max( Math.abs(this.__pointerDownPoint.x - ev.getDocumentLeft()), Math.abs(this.__pointerDownPoint.y - ev.getDocumentTop()));\n      var abort = distance > 5;\n\n      if (!abort) {\n        while (upElement && upElement !== this.__pointerDownElement) {\n          upElement = upElement.parentNode;\n          if (upElement === this.getDomElement()) {\n            break;\n          }\n        }\n        abort = !upElement || upElement !== this.__pointerDownElement;\n      }\n      if (abort) {\n        this.__abort();\n      }\n    },\n\n    _onPointerUp: function(ev) {\n      if (this.__pointerDownTime === null) {\n        // ignore pointer ups when the pointerdown has not set a start time\n        return;\n      }\n      var upElement = ev.getTarget();\n      while (upElement && upElement !== this.__pointerDownElement) {\n        upElement = upElement.parentNode;\n        if (upElement === this.getDomElement()) {\n          break;\n        }\n      }\n      if (upElement && upElement === this.__pointerDownElement) {\n        this._skipNextEvent = \"tap\";\n        // both events happened on the same element\n        ev.setCurrentTarget(upElement);\n        if (this._onLongTap &&\n          qx.Class.hasMixin(this.constructor, cv.ui.common.HandleLongpress) &&\n          this.getShortThreshold() > 0 &&\n          (Date.now() - this.__pointerDownTime) >= this.getShortThreshold()) {\n          // this is a longpress\n          this._onLongTap(ev);\n        } else {\n          this.action(ev);\n        }\n      }\n      this.__abort();\n    },\n\n    /**\n     * Add a listener to the widgets interaction element\n     * @param type {String} event type to listen to\n     * @param callback {Function} called when the event occurs\n     * @param context {Object} this context for the callback\n     * @return {var} the listener id\n     */\n    addElementListener: function(type, callback, context) {\n      if (this.isAnonymous()) { return; }\n      var widget = this.getInteractionElement();\n      if (widget) {\n        widget.dataset[\"longtapable\"] = type !== \"longtap\";\n        return qx.event.Registration.addListener(widget, type, callback, context);\n      }\n      return null;\n    },\n\n    /**\n     * Remove a listener from the widgets interaction element\n     * @param type {String} event type\n     * @param callback {Function}\n     * @param context {Object} this context\n     * @return {Boolean} Whether the event was removed..\n     */\n    removeElementListener: function(type, callback, context) {\n      if (this.isAnonymous()) { return; }\n      var widget = this.getInteractionElement();\n      if (widget) {\n        return qx.event.Registration.removeListener(widget, type, callback, context);\n      }\n      return false;\n    },\n\n    /**\n     * Generates the DOM string for this widget\n     *\n     * @return {String} The widgets DOM representation as string\n     */\n    getDomString : function() {\n      return '<div class=\"'+this.getClasses()+'\" ' + this.getStyle() + '>' + this.getLabel() +\n        this._getInnerDomString() +'</div>';\n    },\n\n    /**\n     * Return the inner DOM string for this widget\n     * @return {String} HTML code as string\n     */\n    _getInnerDomString: function() {\n      return \"\";\n    }\n  },\n\n  /*\n  ******************************************************\n    DESTRUCTOR\n  ******************************************************\n  */\n  destruct: function() {\n    qx.event.Registration.removeListener(document, \"pointerup\", this._onPointerUp, this);\n  }\n});\n"
  ]
}