{
  "version": 3,
  "sources": [
    "/home/travis/build/CometVisu/CometVisu/source/class/cv/ui/structure/pure/Slide.js"
  ],
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "extend",
    "cv",
    "ui",
    "structure",
    "AbstractWidget",
    "include",
    "common",
    "Operate",
    "Update",
    "construct",
    "props",
    "readonly",
    "addrIdx",
    "getAddress",
    "data",
    "Model",
    "isWriteAddress",
    "__readonly",
    "getMin",
    "getMax",
    "setValue",
    "applyMapping",
    "properties",
    "min",
    "check",
    "init",
    "max",
    "step",
    "sendOnFinish",
    "members",
    "__main",
    "__timerId",
    "__slider",
    "__initialized",
    "__skipUpdatesFromSlider",
    "_onDomReady",
    "actor",
    "getActor",
    "slider",
    "website",
    "Slider",
    "getPath",
    "setFormat",
    "getFormat",
    "setConfig",
    "getStep",
    "setEnabled",
    "parseFloat",
    "getValue",
    "throttled",
    "util",
    "Function",
    "throttle",
    "_onChangeValue",
    "trailing",
    "on",
    "val",
    "call",
    "abort",
    "isSendOnFinish",
    "addListener",
    "ev",
    "getData",
    "addClasses",
    "knob",
    "find",
    "DeferredCall",
    "__updateSlider",
    "schedule",
    "isVisible",
    "event",
    "Timer",
    "once",
    "updatePositions",
    "_getInnerDomString",
    "_update",
    "ga",
    "d",
    "isInPointerMove",
    "undefined",
    "value",
    "applyTransform",
    "e",
    "error",
    "_action",
    "finished",
    "_lastBusValue",
    "sendToBackend",
    "getActionValue",
    "defer",
    "statics",
    "WidgetFactory",
    "registerClass",
    "pure",
    "Slide"
  ],
  "mappings": "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",
  "sourcesContent": [
    "/* Slide.js \n * \n * copyright (c) 2010-2017, Christian Mayer and the CometVisu contributers.\n * \n * This program is free software; you can redistribute it and/or modify it\n * under the terms of the GNU General Public License as published by the Free\n * Software Foundation; either version 3 of the License, or (at your option)\n * any later version.\n *\n * This program is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for\n * more details.\n *\n * You should have received a copy of the GNU General Public License along\n * with this program; if not, write to the Free Software Foundation, Inc.,\n * 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA\n */\n\n\n/**\n * Adds a horizontal slider to the visu. This can be used, for example, to dim a light or change temperature values.\n *\n * @require(qx.module.Attribute)\n * @require(qx.module.Css)\n * @require(qx.module.Traversing)\n * @require(qx.module.Manipulating)\n * @require(qx.module.event.Keyboard)\n * @author Christian Mayer\n * @since 2012\n */\nqx.Class.define('cv.ui.structure.pure.Slide', {\n  extend: cv.ui.structure.AbstractWidget,\n  include: [cv.ui.common.Operate, cv.ui.common.Update],\n\n  /*\n  ******************************************************\n    CONSTRUCTOR\n  ******************************************************\n  */\n  construct: function(props) {\n    this.base(arguments, props);\n    // check provided address-items for at least one address which has write-access\n    var readonly = true;\n    for (var addrIdx in this.getAddress()) {\n      //noinspection JSBitwiseOperatorUsage\n      if (cv.data.Model.isWriteAddress(this.getAddress()[addrIdx])) {\n        // write-access detected --> no read-only mode\n        readonly = false;\n        break;\n      }\n    }\n    this.__readonly = readonly;\n\n    // initialize value with min value\n    if (this.getMin() <= 0 && 0 <= this.getMax()) {\n      this.setValue(this.applyMapping(0));\n    } else {\n      this.setValue(this.applyMapping(this.getMin()));\n    }\n  },\n\n\n  /*\n  ******************************************************\n    PROPERTIES\n  ******************************************************\n  */\n  properties: {\n    min: {\n      check: \"Number\",\n      init: 0\n    },\n    max: {\n      check: \"Number\",\n      init: 100\n    },\n    step: {\n      check: \"Number\",\n      init: 0.5\n    },\n    sendOnFinish: {\n      check: \"Boolean\",\n      init: false\n    }\n  },\n\n  /*\n  ******************************************************\n    MEMBERS\n  ******************************************************\n  */\n  members: {\n    __main: null,\n    __timerId: null,\n    __slider : null,\n    __readonly: null,\n    __initialized: null,\n    __skipUpdatesFromSlider: null,\n\n    // overridden\n    _onDomReady: function() {\n      this.base(arguments);\n      if (!this.__initialized) {\n        this.__skipUpdatesFromSlider = true;\n        var actor = this.getActor();\n        var slider = this.__slider = new cv.ui.website.Slider(actor, this.getPath());\n        slider.setFormat(this.getFormat());\n        slider.setConfig(\"step\", this.getStep());\n        slider.setConfig(\"minimum\", this.getMin());\n        slider.setConfig(\"maximum\", this.getMax());\n\n        if (this.__readonly) {\n          slider.setEnabled(false);\n        }\n        slider.init();\n        // set initial value\n        slider.setValue(parseFloat(this.getValue()));\n        var throttled = cv.util.Function.throttle(this._onChangeValue, 250, {trailing: true}, this);\n\n        slider.on(\"changeValue\", function (val) {\n          if (!this.__skipUpdatesFromSlider) {\n            throttled.call(val);\n          }\n        }, this);\n        slider.on('done', function () {\n          throttled.abort();\n          if (this.isSendOnFinish()) {\n            this._onChangeValue(slider.getValue(), true);\n          }\n        }, this);\n\n        this.addListener(\"changeValue\", function (ev) {\n          this.__skipUpdatesFromSlider = true;\n          slider.setValue(parseFloat(ev.getData()));\n          this.__skipUpdatesFromSlider = false;\n        }, this);\n\n        // add CSS classes for compability with old sliders\n        slider.addClasses([\"ui-slider\", \"ui-slider-horizontal\", \"ui-widget\", \"ui-widget-content\", \"ui-corner-all\"]);\n        var knob = slider.find(\".qx-slider-knob\");\n        knob.addClasses([\"ui-slider-handle\", \"ui-state-default\", \"ui-corner-all\"]);\n\n\n        this.addListener(\"changeVisible\", function (ev) {\n          if (ev.getData() === true) {\n            new qx.util.DeferredCall(this.__updateSlider, this).schedule();\n          }\n        }, this);\n        if (this.isVisible()) {\n          // delay the update, as the page width is not correct at this moment\n          qx.event.Timer.once(this.__updateSlider, this, 5);\n        }\n        this.__skipUpdatesFromSlider = false;\n        this.__initialized = true;\n\n      }\n    },\n\n    /**\n     * Refresh the slider position\n     */\n    __updateSlider: function() {\n      if (this.__slider) {\n        this.__skipUpdatesFromSlider = true;\n        this.__slider.updatePositions();\n        this.__skipUpdatesFromSlider = false;\n      }\n    },\n\n    // overridden\n    _getInnerDomString: function () {\n      return '<div class=\"actor\"></div>';\n    },\n\n    _update: function (ga, d) {\n      if ((this.__slider && this.__slider.isInPointerMove()) || d === undefined) {\n        return;\n      }\n      var value = this.applyTransform(ga, d);\n\n      try {\n        if (this.getValue() !== value) {\n          this.setValue(value);\n          if (this.__slider) {\n            this.__skipUpdatesFromSlider = true;\n            this.__slider.setValue(value);\n            this.__skipUpdatesFromSlider = false;\n          }\n        }\n      } catch(e) {\n        this.error(e);\n      }\n    },\n\n    // override Operate Mixins on click action, we handle that ourselfs with _onChangeValue\n    _action: function() {},\n\n    /**\n     * Handle incoming value changes send by the slider widget (e.g. triggered by user interaction)\n     * @param value {Number} the current value to send\n     * @param finished {Boolean} if sendOnFinish is true settings this parameter to true triggers the value to be send\n     */\n    _onChangeValue: function(value, finished) {\n      if (!this.__initialized || this.__skipUpdatesFromSlider === true) { return; }\n      if ((this.isSendOnFinish() === true && finished) ||\n        (this.isSendOnFinish() === false && this.__slider.isInPointerMove())\n      ) {\n        this._lastBusValue = this.sendToBackend(value, false, this._lastBusValue );\n      }\n      this.setValue(value);\n    },\n\n    /**\n     * Get the value that should be send to backend after the action has been triggered\n     */\n    getActionValue: function () {\n      return \"\";\n    }\n  },\n\n  defer: function(statics) {\n    cv.ui.structure.WidgetFactory.registerClass(\"slide\", statics);\n  }\n});\n"
  ]
}