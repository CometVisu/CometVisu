{
  "version": 3,
  "sources": [
    "/home/travis/build/CometVisu/CometVisu/source/class/cv/ui/structure/pure/Roundbar.js"
  ],
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "extend",
    "cv",
    "ui",
    "structure",
    "AbstractWidget",
    "include",
    "common",
    "Update",
    "statics",
    "coord",
    "position",
    "x",
    "toFixed",
    "y",
    "createBarPath",
    "startAngle",
    "startArrowPoint",
    "endAngle",
    "endArrowPoint",
    "radius",
    "width",
    "getBBox",
    "startArrowPointAngle",
    "endArrowPointAngle",
    "clockwise",
    "rI",
    "rIM",
    "rM",
    "rMO",
    "rO",
    "startInner",
    "Math",
    "cos",
    "sin",
    "startMiddle",
    "startOuter",
    "centerInner",
    "centerOuter",
    "endInner",
    "endMiddle",
    "endOuter",
    "startMiddleFlag",
    "abs",
    "PI",
    "startEndFlag",
    "endMiddleFlag",
    "startMiddleDir",
    "endMiddleDir",
    "arc",
    "start",
    "end",
    "r",
    "flag",
    "cw",
    "pure",
    "Roundbar",
    "join",
    "rMax",
    "max",
    "isInside",
    "a",
    "rMiddle",
    "uMiddle",
    "lMiddle",
    "dMiddle",
    "u",
    "min",
    "d",
    "l",
    "createPointerPath",
    "angle",
    "p",
    "s",
    "c",
    "wx",
    "wy",
    "thickness",
    "tx",
    "ty",
    "properties",
    "type",
    "check",
    "indicators",
    "axisradius",
    "axiswidth",
    "axiscolor",
    "ranges",
    "minorradius",
    "minorwidth",
    "minorspacing",
    "minorcolor",
    "majorradius",
    "majorwidth",
    "majorposition",
    "majorcolor",
    "labels",
    "labelstyle",
    "arrowtype",
    "spacing",
    "overflowarrow",
    "fontsize",
    "textx",
    "texty",
    "textlength",
    "textanchor",
    "linespace",
    "bboxgrow",
    "debug",
    "currentRatioValue",
    "init",
    "targetRatioValue",
    "members",
    "__animator",
    "undefined",
    "__indicatorDOMElement",
    "_getInnerDomString",
    "bboxAdd",
    "bbox",
    "setCurrentRatioValue",
    "Array",
    "getIndicators",
    "length",
    "fill",
    "setTargetRatioValue",
    "self",
    "getStart",
    "e",
    "getEnd",
    "getMin",
    "getMax",
    "cntValues",
    "svgMajor",
    "svgMinor",
    "svgLabels",
    "svgRanges",
    "svgIndicators",
    "svgText",
    "getAxisradius",
    "getAxiswidth",
    "sMax",
    "eMax",
    "forEach",
    "indicator",
    "startarrow",
    "endarrow",
    "BBox",
    "getMinorwidth",
    "parseFloat",
    "getMinorspacing",
    "rIn",
    "getMinorradius",
    "rOut",
    "test",
    "delta",
    "cnt",
    "getMinorcolor",
    "getMajorwidth",
    "getMajorradius",
    "getMajorposition",
    "split",
    "getMajorcolor",
    "getLabelstyle",
    "getLabels",
    "label",
    "labelnumber",
    "value",
    "alignmentBaseline",
    "textAnchor",
    "orientation",
    "textAngle",
    "name",
    "labelid",
    "$$user_path",
    "path",
    "align",
    "getRanges",
    "range",
    "sRange",
    "eRange",
    "rRange",
    "wRange",
    "thisBBox",
    "style",
    "number",
    "push",
    "util",
    "LimitedRateUpdateAnimator",
    "__updateIndicatorPosition",
    "showValue",
    "getTexty",
    "getTextanchor",
    "getFontsize",
    "getTextx",
    "getLinespace",
    "repeat",
    "textDistribution",
    "middle",
    "textU",
    "textD",
    "getTextlength",
    "html",
    "getBboxgrow",
    "getDebug",
    "sectorPath",
    "axisPath",
    "stroke",
    "getAxiscolor",
    "_update",
    "address",
    "data",
    "Transform",
    "decode",
    "getAddress",
    "target",
    "getTargetRatioValue",
    "tspan",
    "from",
    "getDomElement",
    "getElementsByTagName",
    "valueFormat",
    "applyFormat",
    "i",
    "textContent",
    "setTo",
    "isVisible",
    "ratio",
    "indicatorNumber",
    "getElementsByClassName",
    "targetAngle",
    "getOverflowarrow",
    "isBar",
    "setAttribute"
  ],
  "mappings": "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",
  "sourcesContent": [
    "/* Roundbar.js\n * \n * copyright (c) 2010-2020, Christian Mayer and the CometVisu contributers.\n * \n * This program is free software; you can redistribute it and/or modify it\n * under the terms of the GNU General Public License as published by the Free\n * Software Foundation; either version 3 of the License, or (at your option)\n * any later version.\n *\n * This program is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for\n * more details.\n *\n * You should have received a copy of the GNU General Public License along\n * with this program; if not, write to the Free Software Foundation, Inc.,\n * 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA\n */\n\n\n/**\n * Adds a display to the visu that can represent values from the BUS\n * and shows them with a round bar.\n *\n * @widgetexample <settings>\n *    <caption>Example roundbar widget</caption>\n *    <screenshot name=\"roundbar_simple\">\n *      <data address=\"3/3/1\">63.3</data>\n *    </screenshot>\n *  </settings>\n *  <roundbar>\n *      <address transform=\"DPT:9.001\" mode=\"read\">3/3/1</address>\n *  </roundbar>\n *\n * @author Christian Mayer\n * @since 0.12.0 (2020)\n */\nqx.Class.define('cv.ui.structure.pure.Roundbar', {\n  extend: cv.ui.structure.AbstractWidget,\n  include: cv.ui.common.Update,\n\n  /*\n  ******************************************************\n    STATICS\n  ******************************************************\n  */\n  statics: {\n    coord: function(position) {\n      return position.x.toFixed(1) + ' ' + position.y.toFixed(1);\n    },\n    /**\n     * Create the SVG path for the round bar.\n     * Angle = 0 === horizontal on the right\n     *\n     * @param startAngle {Float}\n     * @param startArrowPoint {Float}\n     * @param endAngle {Float}\n     * @param endArrowPoint {Float}\n     * @param radius {Float}\n     * @param width {Float}\n     * @param getBBox {Boolean} return the bounding box instead of the path itself\n     */\n    createBarPath: function(startAngle, startArrowPoint, endAngle, endArrowPoint, radius, width, getBBox = false) {\n      var\n        startArrowPointAngle = startAngle + startArrowPoint,\n        endArrowPointAngle   = endAngle + endArrowPoint;\n\n      // The path to generate is using those positions:\n      // rO             -- outer --\n      // rMO        /// outermiddle \\\\\\\n      // rM      //       middle        \\\\\n      // rIM   /        innermiddle        \\\n      // rI   /         -- inner --         \\\n      //     |        /             \\        |\n      //     |_______|               |_______|\n      //       start      center        end\n      var\n        clockwise   = startAngle > endAngle ? 1 : 0,\n        rI  = radius,\n        rIM = radius + width*1/4,\n        rM  = radius + width*2/4,\n        rMO = radius + width*3/4,\n        rO  = radius + width,\n        startInner  = {x: Math.cos(startAngle             )*rI, y: -Math.sin(startAngle             )*rI},\n        startMiddle = {x: Math.cos(startArrowPointAngle   )*rM, y: -Math.sin(startArrowPointAngle   )*rM},\n        startOuter  = {x: Math.cos(startAngle             )*rO, y: -Math.sin(startAngle             )*rO},\n        centerInner = {x: Math.cos((startAngle+endAngle)/2)*rI, y: -Math.sin((startAngle+endAngle)/2)*rI},\n        centerOuter = {x: Math.cos((startAngle+endAngle)/2)*rO, y: -Math.sin((startAngle+endAngle)/2)*rO},\n        endInner    = {x: Math.cos(endAngle               )*rI, y: -Math.sin(endAngle               )*rI},\n        endMiddle   = {x: Math.cos(endArrowPointAngle     )*rM, y: -Math.sin(endArrowPointAngle     )*rM},\n        endOuter    = {x: Math.cos(endAngle               )*rO, y: -Math.sin(endAngle               )*rO},\n        startMiddleFlag = Math.abs(startAngle - startArrowPointAngle)   > Math.PI ? 1 : 0,\n        startEndFlag    = Math.abs(startAngle - endAngle            )/2 > Math.PI ? 1 : 0,\n        endMiddleFlag   = Math.abs(endAngle   - endArrowPointAngle  )   > Math.PI ? 1 : 0,\n        startMiddleDir  = startAngle < startArrowPointAngle ? 1 : 0,\n        endMiddleDir    = endAngle   < endArrowPointAngle   ? 1 : 0;\n\n      function arc(start, end, r, flag, cw) {\n        return (start.x===end.x) && (start.y===end.y)\n          ? ''\n          : (Math.abs(start.x-end.x)+Math.abs(start.y-end.y) < 2)\n            ? 'L' + cv.ui.structure.pure.Roundbar.coord(end)\n            : ['A', r, r, 0, flag, cw, cv.ui.structure.pure.Roundbar.coord(end)].join(' ');\n      }\n\n      if (getBBox) {\n        var\n          rMax = Math.max(rI, rO),\n          isInside = function(a) {return  (startAngle < a && a < endAngle) || (startAngle > a && a > endAngle);},\n          rMiddle = isInside(-Math.PI*4/2) || isInside(Math.PI*0/2) ?  rMax : startInner.x,\n          uMiddle = isInside(-Math.PI*3/2) || isInside(Math.PI*1/2) ? -rMax : startInner.y,\n          lMiddle = isInside(-Math.PI*2/2) || isInside(Math.PI*2/2) ? -rMax : startInner.x,\n          dMiddle = isInside(-Math.PI*1/2) || isInside(Math.PI*3/2) ?  rMax : startInner.y;\n        return {\n          u: Math.min(startInner.y, startMiddle.y, startOuter.y, endInner.y, endMiddle.y, endOuter.y, uMiddle),\n          d: Math.max(startInner.y, startMiddle.y, startOuter.y, endInner.y, endMiddle.y, endOuter.y, dMiddle),\n          l: Math.min(startInner.x, startMiddle.x, startOuter.x, endInner.x, endMiddle.x, endOuter.x, lMiddle),\n          r: Math.max(startInner.x, startMiddle.x, startOuter.x, endInner.x, endMiddle.x, endOuter.x, rMiddle)\n        };\n      }\n\n      // a thin bar path should just be a single line\n      if( width < 1.0 ) {\n        return [\n          'M', cv.ui.structure.pure.Roundbar.coord(startOuter),\n          arc(startOuter, centerOuter, rO, startEndFlag, clockwise),\n          arc(centerOuter, endOuter, rO, startEndFlag, clockwise)\n        ].join('');\n      }\n\n      return ['M', cv.ui.structure.pure.Roundbar.coord(startInner),\n        startArrowPointAngle === startAngle\n          ? 'L' + cv.ui.structure.pure.Roundbar.coord(startOuter)\n          : arc(startInner, startMiddle, rIM, startMiddleFlag, 1-startMiddleDir) +\n            arc(startMiddle, startOuter, rMO, startMiddleFlag, startMiddleDir),\n        arc(startOuter , centerOuter, rO, startEndFlag, clockwise),\n        arc(centerOuter, endOuter   , rO, startEndFlag, clockwise),\n        endArrowPointAngle === endAngle\n          ? 'L' + cv.ui.structure.pure.Roundbar.coord(endInner)\n          : arc(endOuter, endMiddle, rMO, endMiddleFlag, 1-endMiddleDir) +\n            arc(endMiddle, endInner, rIM, endMiddleFlag, endMiddleDir),\n        arc(startInner , centerInner, rI, startEndFlag, 1-clockwise),\n        arc(centerInner, startInner , rI, startEndFlag, 1-clockwise),\n        'Z'\n      ].join('');\n    },\n    /**\n     * Create the SVG path for an pointer.\n     * @param angle {Float}\n     * @param p {Object} Indicator object\n     */\n    createPointerPath: function(angle, p) {\n      var\n        s = Math.sin(angle),\n        c = Math.cos(angle),\n        wx = c * p.width,\n        wy = s * p.width;\n\n      if(p.thickness > 0) {\n        var\n          tx = -s * p.thickness/2,\n          ty =  c * p.thickness/2;\n        return [\n          'M', this.coord({x:c*p.radius+wx-tx,y: -(s*p.radius+wy-ty)}),\n          'L', this.coord({x:c*p.radius      ,y: -(s*p.radius      )}),\n          'L', this.coord({x:c*p.radius+wx+tx,y: -(s*p.radius+wy+ty)})\n        ].join('');\n      } else {\n        return [\n          'M', this.coord({x:c*p.radius   ,y: -(s*p.radius   )}),\n          'L', this.coord({x:c*p.radius+wx,y: -(s*p.radius+wy)})\n        ].join('');\n      }\n    }\n  },\n\n  /*\n   ******************************************************\n   PROPERTIES\n   ******************************************************\n   */\n  properties: {\n    type: { check: \"Array\" },\n    indicators: { check: \"Array\" },\n\n    min: { check: \"Number\" },\n    max: { check: \"Number\" },\n    axisradius: { check: \"Number\" },\n    axiswidth: { check: \"Number\" },\n    axiscolor: { check: \"String\" },\n    ranges: { check: \"Array\" },\n    minorradius: { check: \"Number\" },\n    minorwidth: { check: \"Number\" },\n    minorspacing: { check: \"String\" },\n    minorcolor: { check: \"String\" },\n    majorradius: { check: \"Number\" },\n    majorwidth: { check: \"Number\" },\n    majorposition: { check: \"String\" },\n    majorcolor: { check: \"String\" },\n    labels: { check: \"Array\" },\n    labelstyle: { check: \"String\" },\n    start: { check: \"Number\" },\n    end: { check: \"Number\" },\n    arrowtype: { check: \"Number\" },\n    spacing: { check: \"Number\" },\n    overflowarrow: { check: \"Boolean\" },\n    fontsize: { check: \"Number\" },\n    textx: { check: \"Number\" },\n    texty: { check: \"Number\" },\n    textlength: { check: \"Number\" },\n    textanchor: { check: \"String\" },\n    linespace: { check: \"Number\" },\n    bboxgrow: { check: \"Object\" },\n    debug: { check: \"Boolean\" },\n    currentRatioValue: { check: \"Array\", init: [] },\n    targetRatioValue: { check: \"Array\", init: [] }\n  },\n\n  /*\n  ******************************************************\n    MEMBERS\n  ******************************************************\n  */\n  members: {\n    __animator: undefined,\n    __indicatorDOMElement: [],\n\n    // overridden\n    _getInnerDomString: function () {\n      /**\n       * Grow the bounding box to also contain the parameters x and y\n       * @param bbox {Object} The initial bounding box\n       * @param x {Float}\n       * @param y {Float}\n       * @returns {Object} The enlarged bounding box\n       */\n      function bboxAdd(bbox, x, y) {\n        if (bbox.u > y) { bbox.u = y; }\n        if (bbox.d < y) { bbox.d = y; }\n        if (bbox.l > x) { bbox.l = x; }\n        if (bbox.r < x) { bbox.r = x; }\n        return bbox;\n      }\n\n      this.setCurrentRatioValue(Array(this.getIndicators().length).fill(0));\n      this.setTargetRatioValue(Array(this.getIndicators().length).fill([0,false,false]));\n\n      var\n        self = this,\n        s = this.getStart(),\n        e = this.getEnd(),\n        min = this.getMin(),\n        max = this.getMax(),\n        cntValues = 0,\n        svgMajor = '',\n        svgMinor = '',\n        svgLabels = '',\n        svgRanges = '',\n        svgIndicators = '',\n        svgText = '',\n        createBarPath = cv.ui.structure.pure.Roundbar.createBarPath;\n\n      // Determine the bounding box, first get the biggest radius that must fit\n      var\n        rMax = this.getAxisradius()+this.getAxiswidth(),\n        sMax = 0,\n        eMax = 0;\n      this.getIndicators().forEach(function (indicator) {\n        rMax = Math.max(rMax, indicator.radius, indicator.radius+indicator.width);\n        sMax = Math.max(sMax, indicator.startarrow);\n        eMax = Math.max(eMax, indicator.endarrow);\n      });\n      var BBox = createBarPath( s, sMax, e, eMax, rMax, 0, true );\n\n      if (this.getMinorwidth() > 0) {\n        let\n          spacing = parseFloat(this.getMinorspacing()),\n          rIn = this.getMinorradius(),\n          rOut = this.getMinorwidth() + rIn;\n\n        if (/^[0-9]+%/.test(this.getMinorspacing())) { // special case: percentage\n          spacing = (max-min) * spacing / 100;\n        }\n\n        svgMinor += '<path class=\"minor\" d=\"';\n        for (var angle=s, delta = (e-s)*spacing/(max-min), cnt=(max-min)/spacing; cnt >= 0; angle+=delta,cnt--) {\n          var\n            sin = Math.sin(angle),\n            cos = Math.cos(angle);\n          svgMinor += [\n            'M', cv.ui.structure.pure.Roundbar.coord({x:cos*rIn , y:-sin*rIn }),\n            'L', cv.ui.structure.pure.Roundbar.coord({x:cos*rOut, y:-sin*rOut})\n          ].join('');\n\n          BBox = bboxAdd(BBox, cos*rIn , -sin*rIn );\n          BBox = bboxAdd(BBox, cos*rOut, -sin*rOut);\n        }\n        if (this.getMinorcolor() !== '') svgMinor += '\" style=\"stroke:' + this.getMinorcolor();\n        svgMinor += '\" />';\n      }\n\n      if (this.getMajorwidth() > 0) {\n        let\n          rIn = this.getMajorradius(),\n          rOut = this.getMajorwidth() + rIn;\n\n        svgMajor += '<path class=\"major\" d=\"';\n\n        this.getMajorposition().split(';').forEach(function (position) {\n          switch (position) {\n            case 'min':\n              position = min;\n              break;\n\n            case 'max':\n              position = max;\n              break;\n          }\n          var\n            angle = s+(e-s)*(position-min)/(max-min),\n            sin = Math.sin(angle),\n            cos = Math.cos(angle);\n          svgMajor += [\n            'M', cv.ui.structure.pure.Roundbar.coord({x:cos*rIn , y:-sin*rIn }),\n            'L', cv.ui.structure.pure.Roundbar.coord({x:cos*rOut, y:-sin*rOut})\n          ].join('');\n\n          BBox = bboxAdd(BBox, cos*rIn , -sin*rIn );\n          BBox = bboxAdd(BBox, cos*rOut, -sin*rOut);\n        });\n        if (this.getMajorcolor() !== '') { svgMajor += '\" style=\"stroke:' + this.getMajorcolor(); }\n        svgMajor += '\" />';\n      }\n\n      var labelstyle = this.getLabelstyle();\n      this.getLabels().forEach(function (label, labelnumber) {\n        var\n          angle = s+(e-s)*(label.value-min)/(max-min),\n          x = label.radius * Math.cos(angle),\n          y = label.radius * -Math.sin(angle),\n          alignmentBaseline = '',\n          textAnchor = '';\n\n        if (label.orientation < 3) {\n          svgLabels += '<text class=\"axislabel\" x=\"' + x + '\" y=\"' + y + '\"';\n          switch (label.orientation) {\n            default:\n            case 0: // horizontal\n              if (x < 0) {\n                textAnchor = (['end', 'middle', 'start'])[label.position];\n              } else {\n                textAnchor = (['start', 'middle', 'end'])[label.position];\n              }\n              if (Math.abs(x) < 1) {\n                textAnchor = 'middle';\n              }\n              if (y < 0) {\n                alignmentBaseline = (['baseline', 'middle', 'hanging'])[label.position];\n              } else {\n                alignmentBaseline = (['hanging', 'middle', 'baseline'])[label.position];\n              }\n              if (Math.abs(y) < 1) {\n                alignmentBaseline = 'middle';\n              }\n              break;\n\n            case 1: // parallel\n              var textAngle = -angle * 180 / Math.PI + 90;\n              if (y < 0) {\n                alignmentBaseline = (['baseline', 'middle', 'hanging'])[label.position];\n              } else {\n                alignmentBaseline = (['hanging', 'middle', 'baseline'])[label.position];\n                textAngle += 180;\n              }\n              textAnchor = 'middle';\n              svgLabels += ' transform=\"rotate(' + textAngle + ',' + x + ',' + y + ')\"';\n              break;\n\n            case 2: // perpendicular\n              textAngle = -angle * 180 / Math.PI;\n              if (x < 0) {\n                textAnchor = (['end', 'middle', 'start'])[label.position];\n                textAngle += 180;\n              } else {\n                textAnchor = (['start', 'middle', 'end'])[label.position];\n              }\n              alignmentBaseline = 'middle';\n              svgLabels += ' transform=\"rotate(' + textAngle + ',' + x + ',' + y + ')\"';\n              break;\n          }\n          svgLabels += ' dominant-baseline=\"' + alignmentBaseline + '\"';\n          svgLabels += ' text-anchor=\"' + textAnchor + '\"';\n\n          if (labelstyle !== '') {\n            svgLabels += ' style=\"' + labelstyle + '\"';\n          }\n\n          svgLabels += '>' + label.name + '</text>';\n        } else { // label.orientation >= 3 -> round\n          var\n            labelid = self.$$user_path + '_label' + labelnumber,\n            cw = s < e ? 0 : 1,\n            path = '',\n            align = '';\n\n          switch (label.orientation) {\n            case 3: // roundstart\n              path = ['M', x, y, 'A', label.radius, label.radius, 0, 0, cw, -x, -y, 'A', label.radius, label.radius, 0, 0, cw, x, y].join(' ');\n              break;\n\n            case 4: // roundmiddle\n              path = ['M', -x, -y, 'A', label.radius, label.radius, 0, 0, cw, x, y, 'A', label.radius, label.radius, 0, 0, cw, -x,-y].join(' ');\n              align = ' startOffset=\"50%\" text-anchor=\"middle\"';\n              break;\n\n            case 5: // roundend\n              path = ['M', x, y, 'A', label.radius, label.radius, 0, 0, cw, -x, -y, 'A', label.radius, label.radius, 0, 0, cw, x, y].join(' ');\n              align = ' startOffset=\"100%\" text-anchor=\"end\"';\n              break;\n          }\n          svgLabels += '<path style=\"stroke:none; fill:none; stroke-width:0\" id=\"' + labelid + '\" d=\"' + path + '\"/>';\n          svgLabels += '<text class=\"axislabel\"';\n\n          if (labelstyle !== '') {\n            svgLabels += ' style=\"' + labelstyle + '\"';\n          }\n\n          svgLabels += '><textPath href=\"#'+labelid+'\"' + align + '>' + label.name + '</textPath></text>';\n        }\n      });\n\n      this.getRanges().forEach(function (range) {\n        var\n          sRange = (e-s)*(range.start-min)/(max-min)+s,\n          eRange = (e-s)*(range.end  -min)/(max-min)+s,\n          rRange = range.radius || self.getAxisradius(),\n          wRange = range.width  || self.getAxiswidth(),\n          thisBBox = createBarPath(sRange,0,eRange,0,rRange,wRange, true);\n        svgRanges += '<path class=\"range\" d=\"';\n        svgRanges += createBarPath(sRange,0,eRange,0,rRange,wRange);\n        if (range.style) {\n          svgRanges += '\" style=\"' + range.style;\n        }\n        svgRanges += '\" />';\n\n        BBox = bboxAdd(BBox, thisBBox.l, thisBBox.u);\n        BBox = bboxAdd(BBox, thisBBox.r, thisBBox.d);\n      });\n\n      this.__animator = [];\n      this.getIndicators().forEach(function (indicator, number) {\n        self.__animator.push(new cv.util.LimitedRateUpdateAnimator(self.__updateIndicatorPosition, self, number));\n        svgIndicators += '<path class=\"indicator\" style=\"' + indicator.style + '\" />';\n\n        if (indicator.showValue) { cntValues++; }\n      });\n\n      if (cntValues>0) {\n        svgText += '<text class=\"value\" y=\"'+this.getTexty()+'\"'\n          + ' text-anchor=\"' + this.getTextanchor() +'\"'\n          + ' font-size=\"' + this.getFontsize() + '\">'\n          + '<tspan x=\"'+this.getTextx()+'\" dy=\"0\">-</tspan>'\n          + ('<tspan x=\"'+this.getTextx()+'\" dy=\"' + this.getLinespace() + '\">-</tspan>').repeat(cntValues-1)\n          + '</text>';\n\n        var\n          textDistribution = ({start:[0,1],middle:[0.5,0.5],end:[1,0]})[this.getTextanchor()] || [0,1],\n          textU = Math.min(0, -this.getFontsize(), this.getLinespace()*(cntValues-1)-(this.getLinespace()<0?this.getFontsize():0)),\n          textD = Math.max(0, -this.getFontsize(), this.getLinespace()*(cntValues-1)-(this.getLinespace()<0?this.getFontsize():0));\n        BBox = bboxAdd(BBox, this.getTextx()-textDistribution[0]*this.getTextlength(), this.getTexty()+textU);\n        BBox = bboxAdd(BBox, this.getTextx()+textDistribution[1]*this.getTextlength(), this.getTexty()+textD);\n      }\n\n      var html = '<div class=\"actor\">'\n        + '<svg width=\"100%\" height=\"100%\" viewBox=\"' + [\n          BBox.l - this.getBboxgrow().l,\n          BBox.u - this.getBboxgrow().u,\n          BBox.r - BBox.l + this.getBboxgrow().l + this.getBboxgrow().r,\n          BBox.d - BBox.u + this.getBboxgrow().u + this.getBboxgrow().d\n        ].join(' ') + '\">';\n      if(this.getDebug()) {\n        html += '<rect width=\"'+(BBox.r-BBox.l)+'\" height=\"'+(BBox.d-BBox.u)+'\" x=\"'+(BBox.l)+'\" y=\"'+(BBox.u)+'\" stroke=\"blue\" fill=\"none\" />'\n          + '<rect width=\"'+(BBox.r-BBox.l + this.getBboxgrow().l + this.getBboxgrow().r)+'\" height=\"'+(BBox.d-BBox.u + this.getBboxgrow().u + this.getBboxgrow().d)+'\" x=\"'+(BBox.l - this.getBboxgrow().l)+'\" y=\"'+(BBox.u - this.getBboxgrow().u)+'\" stroke=\"green\" fill=\"none\" />'\n          + '<circle cx=\"0\" cy=\"0\" r=\"3\" fill=\"red\" />';\n      }\n\n      if (this.getAxisradius() > 0) {\n        var\n          sectorPath = createBarPath(s,0,e,0,this.getAxisradius(),0),\n          axisPath = createBarPath(s,0,e,0,this.getAxisradius(),this.getAxiswidth()),\n          stroke = this.getAxiscolor() === '' ? undefined : this.getAxiscolor(),\n          fill   = this.getAxiswidth() < 1 ? 'none' : stroke;\n        html +=\n          '<path class=\"sector\" d=\"'+sectorPath+' L0 0Z\"/>' +\n          '<path class=\"axis\" d=\"'+axisPath+'\" style=\"' +\n          (stroke ? 'stroke:'+stroke : '') +\n          (fill   ? ';fill:' +fill   : '') +\n          '\"/>';\n      }\n\n      html += svgMinor + svgMajor + svgRanges + svgLabels + svgIndicators + svgText;\n      html += '</svg></div>';\n\n      return html;\n    },\n\n    /**\n     * Updates the roundbar widget\n     *\n     * @param address {String} KNX-GA or openHAB item name\n     * @param data {var} incoming data\n     */\n    _update: function(address, data) {\n      if (data === undefined || address === undefined) { return; }\n      var\n        self = this,\n        value = cv.Transform.decode( this.getAddress()[ address ][0], data ),\n        target = this.getTargetRatioValue(),\n        tspan = Array.from(this.getDomElement().getElementsByTagName('tspan')),\n        valueFormat = this.applyFormat(address, value);\n\n      this.getIndicators().forEach(function(indicator,i){\n        if(address === indicator.address) {\n          target[i] = [\n            (Math.min(Math.max(value,indicator.min),indicator.max)-indicator.min)/(indicator.max-indicator.min),\n            value < indicator.min,\n            value > indicator.max\n          ];\n          if (tspan[i] !== undefined) {\n            tspan[i].textContent = valueFormat;\n          }\n          self.__animator[i].setTo(target[i][0], !self.isVisible());\n        }\n      });\n\n      this.setTargetRatioValue(target);\n    },\n\n    /**\n     * Callback to update the display of the indicators.\n     *\n     * Note: It is a design decision not to pool multiple updates in one requestAnimationFrame which might be beneficial\n     * performance wise. But as it's assumed that a typical visu config is only containing one roundbar per address\n     * a pooling wouldn't make a difference on the one hand but complicate the code on the other hand.\n     * Even with a few roundbars using the same address the performance impact is negligible.\n     */\n    __updateIndicatorPosition: function (ratio, indicatorNumber) {\n      if (this.__indicatorDOMElement.length === 0) {\n        // cache\n        this.__indicatorDOMElement = Array.from(this.getDomElement().getElementsByClassName('indicator'));\n      }\n\n      var\n        indicator = this.getIndicators()[indicatorNumber],\n        target = this.getTargetRatioValue()[indicatorNumber],\n        startAngle = this.getStart(),\n        endAngle = this.getEnd(),\n        targetAngle = startAngle + ratio*(endAngle-startAngle),\n        overflowarrow = this.getOverflowarrow();\n\n      if (!overflowarrow) {\n        targetAngle = (endAngle > startAngle)\n          ? Math.max(startAngle,targetAngle - indicator.endarrow)\n          : Math.min(startAngle,targetAngle - indicator.endarrow);\n      }\n      if (indicator.isBar) {\n        this.__indicatorDOMElement[indicatorNumber].setAttribute('d',\n          cv.ui.structure.pure.Roundbar.createBarPath(\n            startAngle,\n            (overflowarrow&&!(target[1]&&ratio<0.01)) ? 0 : indicator.startarrow,\n            targetAngle,\n            (overflowarrow&&!(target[2]&&ratio>0.99)) ? 0 : indicator.endarrow,\n            indicator.radius,\n            indicator.width\n          )\n        );\n      } else {\n        this.__indicatorDOMElement[indicatorNumber].setAttribute('d',\n          cv.ui.structure.pure.Roundbar.createPointerPath( targetAngle, indicator )\n        );\n      }\n    }\n  }\n});\n\n"
  ]
}