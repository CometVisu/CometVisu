{
  "version": 3,
  "sources": [
    "/home/runner/work/CometVisu/CometVisu/source/class/cv/ui/structure/pure/Roundbar.js"
  ],
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "extend",
    "cv",
    "ui",
    "structure",
    "AbstractWidget",
    "include",
    "common",
    "Update",
    "construct",
    "props",
    "__indicatorDOMElement",
    "statics",
    "coord",
    "position",
    "x",
    "toFixed",
    "y",
    "createBarPath",
    "startAngle",
    "startArrowPoint",
    "endAngle",
    "endArrowPoint",
    "radius",
    "width",
    "getBBox",
    "startArrowPointAngle",
    "endArrowPointAngle",
    "clockwise",
    "rI",
    "rIM",
    "rM",
    "rMO",
    "rO",
    "startInner",
    "Math",
    "cos",
    "sin",
    "startMiddle",
    "startOuter",
    "centerInner",
    "centerOuter",
    "endInner",
    "endMiddle",
    "endOuter",
    "startMiddleFlag",
    "abs",
    "PI",
    "startEndFlag",
    "endMiddleFlag",
    "startMiddleDir",
    "endMiddleDir",
    "arc",
    "start",
    "end",
    "r",
    "flag",
    "cw",
    "pure",
    "Roundbar",
    "join",
    "rMax",
    "max",
    "isInside",
    "a",
    "rMiddle",
    "uMiddle",
    "lMiddle",
    "dMiddle",
    "u",
    "min",
    "d",
    "l",
    "createPointerPath",
    "angle",
    "p",
    "s",
    "c",
    "wx",
    "wy",
    "thickness",
    "tx",
    "ty",
    "properties",
    "type",
    "check",
    "indicators",
    "axisradius",
    "axiswidth",
    "axiscolor",
    "ranges",
    "minorradius",
    "minorwidth",
    "minorspacing",
    "minorcolor",
    "majorradius",
    "majorwidth",
    "majorposition",
    "majorcolor",
    "labels",
    "labelstyle",
    "arrowtype",
    "spacing",
    "overflowarrow",
    "fontsize",
    "textx",
    "texty",
    "textlength",
    "textanchor",
    "linespace",
    "bboxgrow",
    "debug",
    "currentRatioValue",
    "init",
    "targetRatioValue",
    "members",
    "__animator",
    "undefined",
    "_getInnerDomString",
    "bboxAdd",
    "bbox",
    "setCurrentRatioValue",
    "Array",
    "getIndicators",
    "length",
    "fill",
    "setTargetRatioValue",
    "self",
    "getStart",
    "e",
    "getEnd",
    "getMin",
    "getMax",
    "cntValues",
    "svgMajor",
    "svgMinor",
    "svgLabels",
    "svgRanges",
    "svgIndicators",
    "svgText",
    "getAxisradius",
    "getAxiswidth",
    "sMax",
    "eMax",
    "forEach",
    "indicator",
    "startarrow",
    "endarrow",
    "BBox",
    "getMinorwidth",
    "parseFloat",
    "getMinorspacing",
    "rIn",
    "getMinorradius",
    "rOut",
    "test",
    "delta",
    "cnt",
    "getMinorcolor",
    "getMajorwidth",
    "getMajorradius",
    "getMajorposition",
    "split",
    "getMajorcolor",
    "getLabelstyle",
    "getLabels",
    "label",
    "labelnumber",
    "value",
    "alignmentBaseline",
    "textAnchor",
    "textAngle",
    "orientation",
    "name",
    "labelid",
    "$$user_path",
    "path",
    "align",
    "getRanges",
    "range",
    "sRange",
    "eRange",
    "rRange",
    "wRange",
    "thisBBox",
    "style",
    "number",
    "push",
    "util",
    "LimitedRateUpdateAnimator",
    "__updateIndicatorPosition",
    "showValue",
    "getTexty",
    "getTextanchor",
    "getFontsize",
    "getTextx",
    "getLinespace",
    "repeat",
    "textDistribution",
    "middle",
    "textU",
    "textD",
    "getTextlength",
    "html",
    "getBboxgrow",
    "getDebug",
    "sectorPath",
    "axisPath",
    "stroke",
    "getAxiscolor",
    "_update",
    "address",
    "data",
    "Transform",
    "decode",
    "getAddress",
    "transform",
    "target",
    "getTargetRatioValue",
    "tspan",
    "from",
    "getDomElement",
    "getElementsByTagName",
    "valueFormat",
    "applyFormat",
    "i",
    "textContent",
    "setTo",
    "isVisible",
    "ratio",
    "indicatorNumber",
    "getElementsByClassName",
    "targetAngle",
    "getOverflowarrow",
    "isBar",
    "setAttribute"
  ],
  "mappings": "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",
  "sourcesContent": [
    "/* Roundbar.js \n * \n * copyright (c) 2010-2022, Christian Mayer and the CometVisu contributers.\n * \n * This program is free software; you can redistribute it and/or modify it\n * under the terms of the GNU General Public License as published by the Free\n * Software Foundation; either version 3 of the License, or (at your option)\n * any later version.\n *\n * This program is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for\n * more details.\n *\n * You should have received a copy of the GNU General Public License along\n * with this program; if not, write to the Free Software Foundation, Inc.,\n * 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA\n */\n\n\n/**\n * Adds a display to the visu that can represent values from the BUS\n * and shows them with a round bar.\n *\n * @widgetexample <settings>\n *    <caption>Example roundbar widget</caption>\n *    <screenshot name=\"roundbar_simple\">\n *      <data address=\"3/3/1\">63.3</data>\n *    </screenshot>\n *  </settings>\n *  <roundbar>\n *      <address transform=\"DPT:9.001\" mode=\"read\">3/3/1</address>\n *  </roundbar>\n *\n * @author Christian Mayer\n * @since 0.12.0 (2020)\n */\nqx.Class.define('cv.ui.structure.pure.Roundbar', {\n  extend: cv.ui.structure.AbstractWidget,\n  include: cv.ui.common.Update,\n\n  /*\n  ***********************************************\n    CONSTRUCTOR\n  ***********************************************\n  */\n  construct: function (props) {\n    this.__indicatorDOMElement = [];\n    this.base(arguments, props);\n  },\n\n  /*\n  ******************************************************\n    STATICS\n  ******************************************************\n  */\n  statics: {\n    coord: function(position) {\n      return position.x.toFixed(1) + ' ' + position.y.toFixed(1);\n    },\n    /**\n     * Create the SVG path for the round bar.\n     * Angle = 0 === horizontal on the right\n     *\n     * @param startAngle {Float}\n     * @param startArrowPoint {Float}\n     * @param endAngle {Float}\n     * @param endArrowPoint {Float}\n     * @param radius {Float}\n     * @param width {Float}\n     * @param getBBox {Boolean} return the bounding box instead of the path itself\n     */\n    createBarPath: function(startAngle, startArrowPoint, endAngle, endArrowPoint, radius, width, getBBox = false) {\n      const startArrowPointAngle = startAngle + startArrowPoint;\n      const endArrowPointAngle = endAngle + endArrowPoint;\n\n      // The path to generate is using those positions:\n      // rO             -- outer --\n      // rMO        /// outermiddle \\\\\\\n      // rM      //       middle        \\\\\n      // rIM   /        innermiddle        \\\n      // rI   /         -- inner --         \\\n      //     |        /             \\        |\n      //     |_______|               |_______|\n      //       start      center        end\n      const clockwise = startAngle > endAngle ? 1 : 0;\n      const rI = radius;\n      const rIM = radius + width * 1 / 4;\n      const rM = radius + width * 2 / 4;\n      const rMO = radius + width * 3 / 4;\n      const rO = radius + width;\n      const startInner = {x: Math.cos(startAngle) * rI, y: -Math.sin(startAngle) * rI};\n      const startMiddle = {x: Math.cos(startArrowPointAngle) * rM, y: -Math.sin(startArrowPointAngle) * rM};\n      const startOuter = {x: Math.cos(startAngle) * rO, y: -Math.sin(startAngle) * rO};\n      const centerInner = {\n        x: Math.cos((startAngle + endAngle) / 2) * rI,\n        y: -Math.sin((startAngle + endAngle) / 2) * rI\n      };\n      const centerOuter = {\n        x: Math.cos((startAngle + endAngle) / 2) * rO,\n        y: -Math.sin((startAngle + endAngle) / 2) * rO\n      };\n      const endInner = {x: Math.cos(endAngle) * rI, y: -Math.sin(endAngle) * rI};\n      const endMiddle = {x: Math.cos(endArrowPointAngle) * rM, y: -Math.sin(endArrowPointAngle) * rM};\n      const endOuter = {x: Math.cos(endAngle) * rO, y: -Math.sin(endAngle) * rO};\n      const startMiddleFlag = Math.abs(startAngle - startArrowPointAngle) > Math.PI ? 1 : 0;\n      const startEndFlag = Math.abs(startAngle - endAngle) / 2 > Math.PI ? 1 : 0;\n      const endMiddleFlag = Math.abs(endAngle - endArrowPointAngle) > Math.PI ? 1 : 0;\n      const startMiddleDir = startAngle < startArrowPointAngle ? 1 : 0;\n      const endMiddleDir = endAngle < endArrowPointAngle ? 1 : 0;\n\n      /**\n       * @param start\n       * @param end\n       * @param r\n       * @param flag\n       * @param cw\n       */\n      function arc(start, end, r, flag, cw) {\n        return (start.x===end.x) && (start.y===end.y)\n          ? ''\n          : (Math.abs(start.x-end.x)+Math.abs(start.y-end.y) < 2)\n            ? 'L' + cv.ui.structure.pure.Roundbar.coord(end)\n            : ['A', r, r, 0, flag, cw, cv.ui.structure.pure.Roundbar.coord(end)].join(' ');\n      }\n\n      if (getBBox) {\n        const rMax = Math.max(rI, rO);\n        const isInside = function (a) {\n          return (startAngle < a && a < endAngle) || (startAngle > a && a > endAngle);\n        };\n        const rMiddle = isInside(-Math.PI * 4 / 2) || isInside(Math.PI * 0 / 2) ? rMax : startInner.x;\n        const uMiddle = isInside(-Math.PI * 3 / 2) || isInside(Math.PI * 1 / 2) ? -rMax : startInner.y;\n        const lMiddle = isInside(-Math.PI * 2 / 2) || isInside(Math.PI * 2 / 2) ? -rMax : startInner.x;\n        const dMiddle = isInside(-Math.PI * 1 / 2) || isInside(Math.PI * 3 / 2) ? rMax : startInner.y;\n        return {\n          u: Math.min(startInner.y, startMiddle.y, startOuter.y, endInner.y, endMiddle.y, endOuter.y, uMiddle),\n          d: Math.max(startInner.y, startMiddle.y, startOuter.y, endInner.y, endMiddle.y, endOuter.y, dMiddle),\n          l: Math.min(startInner.x, startMiddle.x, startOuter.x, endInner.x, endMiddle.x, endOuter.x, lMiddle),\n          r: Math.max(startInner.x, startMiddle.x, startOuter.x, endInner.x, endMiddle.x, endOuter.x, rMiddle)\n        };\n      }\n\n      // a thin bar path should just be a single line\n      if (width < 1.0) {\n        return [\n          'M', cv.ui.structure.pure.Roundbar.coord(startOuter),\n          arc(startOuter, centerOuter, rO, startEndFlag, clockwise),\n          arc(centerOuter, endOuter, rO, startEndFlag, clockwise)\n        ].join('');\n      }\n\n      return ['M', cv.ui.structure.pure.Roundbar.coord(startInner),\n        startArrowPointAngle === startAngle\n          ? 'L' + cv.ui.structure.pure.Roundbar.coord(startOuter)\n          : arc(startInner, startMiddle, rIM, startMiddleFlag, 1-startMiddleDir) +\n            arc(startMiddle, startOuter, rMO, startMiddleFlag, startMiddleDir),\n        arc(startOuter, centerOuter, rO, startEndFlag, clockwise),\n        arc(centerOuter, endOuter, rO, startEndFlag, clockwise),\n        endArrowPointAngle === endAngle\n          ? 'L' + cv.ui.structure.pure.Roundbar.coord(endInner)\n          : arc(endOuter, endMiddle, rMO, endMiddleFlag, 1-endMiddleDir) +\n            arc(endMiddle, endInner, rIM, endMiddleFlag, endMiddleDir),\n        arc(startInner, centerInner, rI, startEndFlag, 1-clockwise),\n        arc(centerInner, startInner, rI, startEndFlag, 1-clockwise),\n        'Z'\n      ].join('');\n    },\n    /**\n     * Create the SVG path for an pointer.\n     * @param angle {Float}\n     * @param p {Object} Indicator object\n     */\n    createPointerPath: function(angle, p) {\n      const s = Math.sin(angle);\n      const c = Math.cos(angle);\n      const wx = c * p.width;\n      const wy = s * p.width;\n\n      if (p.thickness > 0) {\n        const tx = -s * p.thickness / 2;\n        const ty = c * p.thickness / 2;\n        return [\n          'M', this.coord({x:c*p.radius+wx-tx, y: -(s*p.radius+wy-ty)}),\n          'L', this.coord({x:c*p.radius, y: -(s*p.radius)}),\n          'L', this.coord({x:c*p.radius+wx+tx, y: -(s*p.radius+wy+ty)})\n        ].join('');\n      } \n        return [\n          'M', this.coord({x:c*p.radius, y: -(s*p.radius)}),\n          'L', this.coord({x:c*p.radius+wx, y: -(s*p.radius+wy)})\n        ].join('');\n    }\n  },\n\n  /*\n   ******************************************************\n   PROPERTIES\n   ******************************************************\n   */\n  properties: {\n    type: { check: 'Array' },\n    indicators: { check: 'Array' },\n\n    min: { check: 'Number' },\n    max: { check: 'Number' },\n    axisradius: { check: 'Number' },\n    axiswidth: { check: 'Number' },\n    axiscolor: { check: 'String' },\n    ranges: { check: 'Array' },\n    minorradius: { check: 'Number' },\n    minorwidth: { check: 'Number' },\n    minorspacing: { check: 'String' },\n    minorcolor: { check: 'String' },\n    majorradius: { check: 'Number' },\n    majorwidth: { check: 'Number' },\n    majorposition: { check: 'String' },\n    majorcolor: { check: 'String' },\n    labels: { check: 'Array' },\n    labelstyle: { check: 'String' },\n    start: { check: 'Number' },\n    end: { check: 'Number' },\n    arrowtype: { check: 'Number' },\n    spacing: { check: 'Number' },\n    overflowarrow: { check: 'Boolean' },\n    fontsize: { check: 'Number' },\n    textx: { check: 'Number' },\n    texty: { check: 'Number' },\n    textlength: { check: 'Number' },\n    textanchor: { check: 'String' },\n    linespace: { check: 'Number' },\n    bboxgrow: { check: 'Object' },\n    debug: { check: 'Boolean' },\n    currentRatioValue: { check: 'Array', init: [] },\n    targetRatioValue: { check: 'Array', init: [] }\n  },\n\n  /*\n  ******************************************************\n    MEMBERS\n  ******************************************************\n  */\n  members: {\n    __animator: undefined,\n    __indicatorDOMElement: null,\n\n    // overridden\n    _getInnerDomString: function () {\n      /**\n       * Grow the bounding box to also contain the parameters x and y\n       * @param bbox {Object} The initial bounding box\n       * @param x {Float}\n       * @param y {Float}\n       * @returns {Object} The enlarged bounding box\n       */\n      function bboxAdd(bbox, x, y) {\n        if (bbox.u > y) {\n bbox.u = y; \n}\n        if (bbox.d < y) {\n bbox.d = y; \n}\n        if (bbox.l > x) {\n bbox.l = x; \n}\n        if (bbox.r < x) {\n bbox.r = x; \n}\n        return bbox;\n      }\n\n      this.setCurrentRatioValue(Array(this.getIndicators().length).fill(0));\n      this.setTargetRatioValue(Array(this.getIndicators().length).fill([0, false, false]));\n\n      const self = this;\n      const s = this.getStart();\n      const e = this.getEnd();\n      const min = this.getMin();\n      const max = this.getMax();\n      let cntValues = 0;\n      let svgMajor = '';\n      let svgMinor = '';\n      let svgLabels = '';\n      let svgRanges = '';\n      let svgIndicators = '';\n      let svgText = '';\n      const createBarPath = cv.ui.structure.pure.Roundbar.createBarPath;\n\n      // Determine the bounding box, first get the biggest radius that must fit\n      let rMax = this.getAxisradius() + this.getAxiswidth();\n      let sMax = 0;\n      let eMax = 0;\n      this.getIndicators().forEach(function (indicator) {\n        rMax = Math.max(rMax, indicator.radius, indicator.radius+indicator.width);\n        sMax = Math.max(sMax, indicator.startarrow);\n        eMax = Math.max(eMax, indicator.endarrow);\n      });\n      let BBox = createBarPath(s, sMax, e, eMax, rMax, 0, true);\n\n      if (this.getMinorwidth() > 0) {\n        let\n          spacing = parseFloat(this.getMinorspacing());\n          let rIn = this.getMinorradius();\n          let rOut = this.getMinorwidth() + rIn;\n\n        if (/^[0-9]+%/.test(this.getMinorspacing())) { // special case: percentage\n          spacing = (max-min) * spacing / 100;\n        }\n\n        svgMinor += '<path class=\"minor\" d=\"';\n        for (var angle=s, delta = (e-s)*spacing/(max-min), cnt=(max-min)/spacing; cnt >= 0; angle+=delta, cnt--) {\n          var\n            sin = Math.sin(angle);\n            var cos = Math.cos(angle);\n          svgMinor += [\n            'M', cv.ui.structure.pure.Roundbar.coord({x:cos*rIn, y:-sin*rIn }),\n            'L', cv.ui.structure.pure.Roundbar.coord({x:cos*rOut, y:-sin*rOut})\n          ].join('');\n\n          BBox = bboxAdd(BBox, cos*rIn, -sin*rIn);\n          BBox = bboxAdd(BBox, cos*rOut, -sin*rOut);\n        }\n        if (this.getMinorcolor() !== '') {\n svgMinor += '\" style=\"stroke:' + this.getMinorcolor(); \n}\n        svgMinor += '\" />';\n      }\n\n      if (this.getMajorwidth() > 0) {\n        let\n          rIn = this.getMajorradius();\n          let rOut = this.getMajorwidth() + rIn;\n\n        svgMajor += '<path class=\"major\" d=\"';\n\n        this.getMajorposition().split(';').forEach(function (position) {\n          switch (position) {\n            case 'min':\n              position = min;\n              break;\n\n            case 'max':\n              position = max;\n              break;\n          }\n          const angle = s + (e - s) * (position - min) / (max - min);\n          const sin = Math.sin(angle);\n          const cos = Math.cos(angle);\n          svgMajor += [\n            'M', cv.ui.structure.pure.Roundbar.coord({x:cos*rIn, y:-sin*rIn }),\n            'L', cv.ui.structure.pure.Roundbar.coord({x:cos*rOut, y:-sin*rOut})\n          ].join('');\n\n          BBox = bboxAdd(BBox, cos*rIn, -sin*rIn);\n          BBox = bboxAdd(BBox, cos*rOut, -sin*rOut);\n        });\n        if (this.getMajorcolor() !== '') {\n svgMajor += '\" style=\"stroke:' + this.getMajorcolor(); \n}\n        svgMajor += '\" />';\n      }\n\n      const labelstyle = this.getLabelstyle();\n      this.getLabels().forEach(function (label, labelnumber) {\n        const angle = s + (e - s) * (label.value - min) / (max - min);\n        const x = label.radius * Math.cos(angle);\n        const y = label.radius * -Math.sin(angle);\n        let alignmentBaseline = '';\n        let textAnchor = '';\n        let textAngle = 0;\n\n        if (label.orientation < 3) {\n          svgLabels += '<text class=\"axislabel\" x=\"' + x + '\" y=\"' + y + '\"';\n          switch (label.orientation) {\n            default:\n            case 0: // horizontal\n              if (x < 0) {\n                textAnchor = (['end', 'middle', 'start'])[label.position];\n              } else {\n                textAnchor = (['start', 'middle', 'end'])[label.position];\n              }\n              if (Math.abs(x) < 1) {\n                textAnchor = 'middle';\n              }\n              if (y < 0) {\n                alignmentBaseline = (['baseline', 'middle', 'hanging'])[label.position];\n              } else {\n                alignmentBaseline = (['hanging', 'middle', 'baseline'])[label.position];\n              }\n              if (Math.abs(y) < 1) {\n                alignmentBaseline = 'middle';\n              }\n              break;\n\n            case 1: { // parallel\n              let textAngle = -angle * 180 / Math.PI + 90;\n              if (y < 0) {\n                alignmentBaseline = (['baseline', 'middle', 'hanging'])[label.position];\n              } else {\n                alignmentBaseline = (['hanging', 'middle', 'baseline'])[label.position];\n                textAngle += 180;\n              }\n              textAnchor = 'middle';\n              svgLabels += ' transform=\"rotate(' + textAngle + ',' + x + ',' + y + ')\"';\n              break;\n            }\n\n            case 2: // perpendicular\n              textAngle = -angle * 180 / Math.PI;\n              if (x < 0) {\n                textAnchor = (['end', 'middle', 'start'])[label.position];\n                textAngle += 180;\n              } else {\n                textAnchor = (['start', 'middle', 'end'])[label.position];\n              }\n              alignmentBaseline = 'middle';\n              svgLabels += ' transform=\"rotate(' + textAngle + ',' + x + ',' + y + ')\"';\n              break;\n          }\n          svgLabels += ' dominant-baseline=\"' + alignmentBaseline + '\"';\n          svgLabels += ' text-anchor=\"' + textAnchor + '\"';\n\n          if (labelstyle !== '') {\n            svgLabels += ' style=\"' + labelstyle + '\"';\n          }\n\n          svgLabels += '>' + label.name + '</text>';\n        } else { // label.orientation >= 3 -> round\n          const labelid = self.$$user_path + '_label' + labelnumber;\n          const cw = s < e ? 0 : 1;\n          let path = '';\n          let align = '';\n\n          switch (label.orientation) {\n            case 3: // roundstart\n              path = ['M', x, y, 'A', label.radius, label.radius, 0, 0, cw, -x, -y, 'A', label.radius, label.radius, 0, 0, cw, x, y].join(' ');\n              break;\n\n            case 4: // roundmiddle\n              path = ['M', -x, -y, 'A', label.radius, label.radius, 0, 0, cw, x, y, 'A', label.radius, label.radius, 0, 0, cw, -x, -y].join(' ');\n              align = ' startOffset=\"50%\" text-anchor=\"middle\"';\n              break;\n\n            case 5: // roundend\n              path = ['M', x, y, 'A', label.radius, label.radius, 0, 0, cw, -x, -y, 'A', label.radius, label.radius, 0, 0, cw, x, y].join(' ');\n              align = ' startOffset=\"100%\" text-anchor=\"end\"';\n              break;\n          }\n          svgLabels += '<path style=\"stroke:none; fill:none; stroke-width:0\" id=\"' + labelid + '\" d=\"' + path + '\"/>';\n          svgLabels += '<text class=\"axislabel\"';\n\n          if (labelstyle !== '') {\n            svgLabels += ' style=\"' + labelstyle + '\"';\n          }\n\n          svgLabels += '><textPath href=\"#'+labelid+'\"' + align + '>' + label.name + '</textPath></text>';\n        }\n      });\n\n      this.getRanges().forEach(function (range) {\n        const sRange = (e - s) * (range.start - min) / (max - min) + s;\n        const eRange = (e - s) * (range.end - min) / (max - min) + s;\n        const rRange = range.radius || self.getAxisradius();\n        const wRange = range.width || self.getAxiswidth();\n        const thisBBox = createBarPath(sRange, 0, eRange, 0, rRange, wRange, true);\n        svgRanges += '<path class=\"range\" d=\"';\n        svgRanges += createBarPath(sRange, 0, eRange, 0, rRange, wRange);\n        if (range.style) {\n          svgRanges += '\" style=\"' + range.style;\n        }\n        svgRanges += '\" />';\n\n        BBox = bboxAdd(BBox, thisBBox.l, thisBBox.u);\n        BBox = bboxAdd(BBox, thisBBox.r, thisBBox.d);\n      });\n\n      this.__animator = [];\n      this.getIndicators().forEach(function (indicator, number) {\n        self.__animator.push(new cv.util.LimitedRateUpdateAnimator(self.__updateIndicatorPosition, self, number));\n        svgIndicators += '<path class=\"indicator\" style=\"' + indicator.style + '\" />';\n\n        if (indicator.showValue) {\n cntValues++; \n}\n      });\n\n      if (cntValues>0) {\n        svgText += '<text class=\"value\" y=\"'+this.getTexty()+'\"' +\n          ' text-anchor=\"' + this.getTextanchor() +'\"' +\n          ' font-size=\"' + this.getFontsize() + '\">' +\n          '<tspan x=\"'+this.getTextx()+'\" dy=\"0\">-</tspan>' +\n          ('<tspan x=\"'+this.getTextx()+'\" dy=\"' + this.getLinespace() + '\">-</tspan>').repeat(cntValues-1) +\n          '</text>';\n\n        const textDistribution = ({start: [0, 1], middle: [0.5, 0.5], end: [1, 0]})[this.getTextanchor()] || [0, 1];\n        const textU = Math.min(0, -this.getFontsize(), this.getLinespace() * (cntValues - 1) - (this.getLinespace() < 0 ? this.getFontsize() : 0));\n        const textD = Math.max(0, -this.getFontsize(), this.getLinespace() * (cntValues - 1) - (this.getLinespace() < 0 ? this.getFontsize() : 0));\n        BBox = bboxAdd(BBox, this.getTextx()-textDistribution[0]*this.getTextlength(), this.getTexty()+textU);\n        BBox = bboxAdd(BBox, this.getTextx()+textDistribution[1]*this.getTextlength(), this.getTexty()+textD);\n      }\n\n      let html = '<div class=\"actor\">' +\n        '<svg width=\"100%\" height=\"100%\" viewBox=\"' + [\n          BBox.l - this.getBboxgrow().l,\n          BBox.u - this.getBboxgrow().u,\n          BBox.r - BBox.l + this.getBboxgrow().l + this.getBboxgrow().r,\n          BBox.d - BBox.u + this.getBboxgrow().u + this.getBboxgrow().d\n        ].join(' ') + '\">';\n      if (this.getDebug()) {\n        html += '<rect width=\"'+(BBox.r-BBox.l)+'\" height=\"'+(BBox.d-BBox.u)+'\" x=\"'+(BBox.l)+'\" y=\"'+(BBox.u)+'\" stroke=\"blue\" fill=\"none\" />' +\n          '<rect width=\"'+(BBox.r-BBox.l + this.getBboxgrow().l + this.getBboxgrow().r)+'\" height=\"'+(BBox.d-BBox.u + this.getBboxgrow().u + this.getBboxgrow().d)+'\" x=\"'+(BBox.l - this.getBboxgrow().l)+'\" y=\"'+(BBox.u - this.getBboxgrow().u)+'\" stroke=\"green\" fill=\"none\" />' +\n          '<circle cx=\"0\" cy=\"0\" r=\"3\" fill=\"red\" />';\n      }\n\n      if (this.getAxisradius() > 0) {\n        const sectorPath = createBarPath(s, 0, e, 0, this.getAxisradius(), 0);\n        const axisPath = createBarPath(s, 0, e, 0, this.getAxisradius(), this.getAxiswidth());\n        const stroke = this.getAxiscolor() === '' ? undefined : this.getAxiscolor();\n        const fill = this.getAxiswidth() < 1 ? 'none' : stroke;\n        html +=\n          '<path class=\"sector\" d=\"'+sectorPath+' L0 0Z\"/>' +\n          '<path class=\"axis\" d=\"'+axisPath+'\" style=\"' +\n          (stroke ? 'stroke:'+stroke : '') +\n          (fill ? ';fill:' +fill : '') +\n          '\"/>';\n      }\n\n      html += svgMinor + svgMajor + svgRanges + svgLabels + svgIndicators + svgText;\n      html += '</svg></div>';\n\n      return html;\n    },\n\n    /**\n     * Updates the roundbar widget\n     *\n     * @param address {String} KNX-GA or openHAB item name\n     * @param data {var} incoming data\n     */\n    _update: function(address, data) {\n      if (data === undefined || address === undefined) {\n return; \n}\n      const self = this;\n      const value = cv.Transform.decode(this.getAddress()[address].transform, data);\n      const target = this.getTargetRatioValue();\n      const tspan = Array.from(this.getDomElement().getElementsByTagName('tspan'));\n      const valueFormat = this.applyFormat(address, value);\n\n      this.getIndicators().forEach(function(indicator, i) {\n        if (address === indicator.address) {\n          target[i] = [\n            (Math.min(Math.max(value, indicator.min), indicator.max)-indicator.min)/(indicator.max-indicator.min),\n            value < indicator.min,\n            value > indicator.max\n          ];\n          if (tspan[i] !== undefined) {\n            tspan[i].textContent = valueFormat;\n          }\n          self.__animator[i].setTo(target[i][0], !self.isVisible());\n        }\n      });\n\n      this.setTargetRatioValue(target);\n    },\n\n    /**\n     * Callback to update the display of the indicators.\n     *\n     * Note: It is a design decision not to pool multiple updates in one requestAnimationFrame which might be beneficial\n     * performance wise. But as it's assumed that a typical visu config is only containing one roundbar per address\n     * a pooling wouldn't make a difference on the one hand but complicate the code on the other hand.\n     * Even with a few roundbars using the same address the performance impact is negligible.\n     * @param ratio\n     * @param indicatorNumber\n     */\n    __updateIndicatorPosition: function (ratio, indicatorNumber) {\n      if (this.__indicatorDOMElement.length === 0) {\n        // cache\n        this.__indicatorDOMElement = Array.from(this.getDomElement().getElementsByClassName('indicator'));\n      }\n\n      const indicator = this.getIndicators()[indicatorNumber];\n      const target = this.getTargetRatioValue()[indicatorNumber];\n      const startAngle = this.getStart();\n      const endAngle = this.getEnd();\n      let targetAngle = startAngle + ratio * (endAngle - startAngle);\n      const overflowarrow = this.getOverflowarrow();\n\n      if (!overflowarrow) {\n        targetAngle = (endAngle > startAngle)\n          ? Math.max(startAngle, targetAngle - indicator.endarrow)\n          : Math.min(startAngle, targetAngle - indicator.endarrow);\n      }\n      if (indicator.isBar) {\n        this.__indicatorDOMElement[indicatorNumber].setAttribute('d',\n          cv.ui.structure.pure.Roundbar.createBarPath(\n            startAngle,\n            (overflowarrow&&!(target[1]&&ratio<0.01)) ? 0 : indicator.startarrow,\n            targetAngle,\n            (overflowarrow&&!(target[2]&&ratio>0.99)) ? 0 : indicator.endarrow,\n            indicator.radius,\n            indicator.width\n          )\n        );\n      } else {\n        this.__indicatorDOMElement[indicatorNumber].setAttribute('d',\n          cv.ui.structure.pure.Roundbar.createPointerPath(targetAngle, indicator)\n        );\n      }\n    }\n  }\n});\n\n"
  ]
}