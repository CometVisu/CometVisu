{
  "version": 3,
  "sources": [
    "/home/runner/work/CometVisu/CometVisu/source/class/cv/ui/structure/pure/Page.js"
  ],
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "extend",
    "cv",
    "ui",
    "structure",
    "AbstractWidget",
    "implement",
    "IPage",
    "include",
    "common",
    "HasChildren",
    "Update",
    "construct",
    "props",
    "__waitForProperties",
    "addListener",
    "_onChangeVisible",
    "util",
    "DeferredCall",
    "parentPage",
    "getParentPage",
    "debug",
    "getPath",
    "forEach",
    "tuple",
    "property",
    "defaultValue",
    "charAt",
    "toUpperCase",
    "substr",
    "bind",
    "setInitialized",
    "schedule",
    "getAddress",
    "_initOnCreate",
    "statics",
    "allPages",
    "createFinal",
    "document",
    "querySelector",
    "innerHTML",
    "event",
    "message",
    "Bus",
    "unsubscribe",
    "properties",
    "initialized",
    "check",
    "init",
    "anonymous",
    "refine",
    "name",
    "nullable",
    "showTopNavigation",
    "showFooter",
    "showNavbarTop",
    "apply",
    "showNavbarBottom",
    "showNavbarLeft",
    "showNavbarRight",
    "backdropAlign",
    "backdropType",
    "linkVisible",
    "size",
    "backdrop",
    "members",
    "__colspanClass",
    "__normalizedDomId",
    "_applyNavbarVisibility",
    "value",
    "old",
    "i_name",
    "indexOf",
    "splice",
    "length",
    "ev",
    "getData",
    "layout",
    "Manager",
    "COLSPAN_CLASS",
    "applyColumnWidths",
    "getBackdrop",
    "ResizeHandler",
    "invalidateBackdrop",
    "getDomString",
    "pageType",
    "getPageType",
    "subpageClass",
    "getFlavour",
    "subpage",
    "container",
    "getName",
    "getSize",
    "getBackdropAlign",
    "getBackdropType",
    "ResourceManager",
    "getInstance",
    "toUri",
    "getChildrenDomString",
    "pure",
    "Page",
    "undefined",
    "_update",
    "ga",
    "data",
    "parseInt",
    "TemplateEngine",
    "scrollToPage",
    "sendToBackend",
    "list",
    "id",
    "Object",
    "prototype",
    "hasOwnProperty",
    "call",
    "address",
    "Model",
    "isWriteAddress",
    "visu",
    "write",
    "Transform",
    "encode",
    "transform",
    "defer",
    "subscribe"
  ],
  "mappings": "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",
  "sourcesContent": [
    "/* Page.js \n * \n * copyright (c) 2010-2017, Christian Mayer and the CometVisu contributers.\n * \n * This program is free software; you can redistribute it and/or modify it\n * under the terms of the GNU General Public License as published by the Free\n * Software Foundation; either version 3 of the License, or (at your option)\n * any later version.\n *\n * This program is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for\n * more details.\n *\n * You should have received a copy of the GNU General Public License along\n * with this program; if not, write to the Free Software Foundation, Inc.,\n * 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA\n */\n\n\n/**\n * Creates a new sub page and adds a corresponding link to the current page.\n *\n * @author Christian Mayer\n * @since 2012\n */\nqx.Class.define('cv.ui.structure.pure.Page', {\n  extend: cv.ui.structure.AbstractWidget,\n  implement: cv.ui.structure.IPage,\n\n  include: [\n    cv.ui.common.HasChildren,\n    cv.ui.common.Update\n  ],\n\n  /*\n  ******************************************************\n    CONSTRUCTOR\n  ******************************************************\n  */\n  construct: function(props) {\n    this.__waitForProperties = ['showNavbarTop', 'showNavbarBottom', 'showNavbarLeft', 'showNavbarRight'];\n    this.base(arguments, props);\n\n    this.addListener('changeVisible', this._onChangeVisible, this);\n\n    // break out of the constructor\n    new qx.util.DeferredCall(function() {\n      const parentPage = this.getParentPage();\n      if (!parentPage) {\n        this.__waitForProperties = [];\n      } else {\n        this.debug('binding navbar visibility from ' + parentPage.getPath() + ' to ' + this.getPath());\n      }\n      [\n        ['showTopNavigation', true],\n        ['showFooter', true],\n        ['showNavbarTop', false],\n        ['showNavbarBottom', false],\n        ['showNavbarLeft', false],\n        ['showNavbarRight', false]\n      ].forEach(function (tuple) {\n        const property = tuple[0];\n        const defaultValue = tuple[1];\n        if (this['get' + property.charAt(0).toUpperCase() + property.substr(1)]() === null) {\n          // inherit from parent\n          if (parentPage) {\n            parentPage.bind(property, this, property);\n          } else {\n            // we have not parent page, because we are the root page, use the default value\n            this['set' + property.charAt(0).toUpperCase() + property.substr(1)](defaultValue);\n          }\n        }\n        if (!parentPage) {\n          this.setInitialized(true);\n        }\n      }, this);\n    }, this).schedule();\n\n    if (this.getAddress()) {\n      this._initOnCreate = true;\n    }\n  },\n\n  /*\n  ******************************************************\n    STATICS\n  ******************************************************\n  */\n  statics: {\n    allPages : '',\n\n    /**\n     * Append the complete generated HTML code to the DOM tree at the end of the generation process\n     */\n    createFinal: function() { // special function - only for pages!\n      document.querySelector('#pages').innerHTML = this.allPages;\n      qx.event.message.Bus.unsubscribe('setup.dom.append', this.createFinal, this);\n    }\n\n  },\n\n\n  /*\n   ******************************************************\n   PROPERTIES\n   ******************************************************\n   */\n  properties: {\n    initialized: {\n      check: 'Boolean',\n      init: false,\n      event: 'changeInitialized'\n    },\n\n    anonymous : {\n      refine: true,\n      init: true\n    },\n    name: {\n      check: 'String',\n      init: '', nullable: true\n    },\n    showTopNavigation : {\n      check: 'Boolean',\n      nullable: true,\n      event: 'changeShowTopNavigation'\n    },\n    showFooter        : {\n      check: 'Boolean',\n      nullable: true,\n      event: 'changeShowFooter'\n    },\n    showNavbarTop : {\n      check: 'Boolean',\n      nullable: true,\n      event: 'changeShowNavbarTop',\n      apply: '_applyNavbarVisibility'\n    },\n    showNavbarBottom : {\n      check: 'Boolean',\n      nullable: true,\n      event: 'changeShowNavbarBottom',\n      apply: '_applyNavbarVisibility'\n    },\n    showNavbarLeft : {\n      check: 'Boolean',\n      nullable: true,\n      event: 'changeShowNavbarLeft',\n      apply: '_applyNavbarVisibility'\n    },\n    showNavbarRight : {\n      check: 'Boolean',\n      nullable: true,\n      event: 'changeShowNavbarRight',\n      apply: '_applyNavbarVisibility'\n    },\n    backdropAlign     : {\n      init: '50% 50%',\n      nullable: true\n    },\n    backdropType      : { check: 'String', nullable: true },\n    linkVisible       : { check: 'Boolean', init: true, nullable: true },\n    size              : { check: 'String', nullable: true },\n    backdrop          : { check: 'String', nullable: true }\n  },\n\n  /*\n   ******************************************************\n   MEMBERS\n   ******************************************************\n   */\n  members: {\n    __waitForProperties: null,\n    __colspanClass: null,\n    __normalizedDomId: null,\n\n    _applyNavbarVisibility: function(value, old, name) {\n      if (value !== null) {\n        const i_name = this.__waitForProperties.indexOf(name);\n        if (i_name !== -1) {\n          this.__waitForProperties.splice(i_name, 1);\n        }\n        if (this.__waitForProperties.length === 0) {\n          this.setInitialized(true);\n        }\n      }\n    },\n\n    /**\n     * If the page gets visible the colspan sized must be checked\n     * @param ev {Event}\n     */\n    _onChangeVisible: function(ev) {\n      if (ev.getData()) {\n        if (this.__colspanClass !== cv.ui.layout.Manager.COLSPAN_CLASS) {\n          this.applyColumnWidths();\n        }\n        if (this.getBackdrop()) {\n          cv.ui.layout.ResizeHandler.invalidateBackdrop();\n        }\n      }\n    },\n\n    /**\n     * Set childrens column widths\n     */\n    applyColumnWidths: function() {\n      cv.ui.layout.Manager.applyColumnWidths('#'+this.getPath(), false);\n      this.__colspanClass = cv.ui.layout.Manager.COLSPAN_CLASS;\n    },\n\n    // overridden\n    getDomString: function() {\n      const pageType = this.getPageType();\n\n      const subpageClass = this.getFlavour() ? (' flavour_' + this.getFlavour()) : '';\n      let subpage = '<div class=\"page type_' + pageType + subpageClass + '\" id=\"' + this.getPath() + '\">';\n      let container = '<div class=\"clearfix\"><h1>' + this.getName() + '</h1>';\n\n      if (pageType === '2d') {\n        let size = 'width:100%;height:100%;';\n        switch (this.getSize()) {\n          case 'fixed':\n            size = '';\n            break;\n\n          case 'contained':\n            size += 'object-fit:contain;';\n            if (this.getBackdropAlign()) {\n              size += 'object-position:' + this.getBackdropAlign() + ';';\n            }\n            break;\n\n          default: // default: assume scaled\n        }\n\n        const backdrop = this.getBackdrop();\n        if (backdrop) {\n          container += '<' + this.getBackdropType() + ' src=\"' + qx.util.ResourceManager.getInstance().toUri(backdrop) + '\" style=\"position: absolute; top: 0px; left: 0px;z-index:-1;' + size + '\"/>';\n        }\n      } /* ---Disable 3D for 0.8---\n      else if (pageType === \"3d\" && false) {\n         var floorplan = JSFloorPlan3D( container, backdrop );\n         floorplan.moveToRoom( 'Underground', false, true, false );\n         container.data( 'JSFloorPlan3D', floorplan );\n         container.find('canvas').css({position: 'absolute', top: '0px', left: '0px', 'z-index':'-1', width:'100%',height:'100%'});\n         subpage.click( {JSFloorPlan3D:floorplan,callback:function(event){\n         var j = this.JSFloorPlan3D;\n         j.moveToRoom( j.getState('showFloor'), event.room.room, true, true, function(){\n         container.trigger( 'update3d', j );\n         });\n         }}, floorplan.translateMouseEvent );\n         $(window).bind( 'resize', function(){ floorplan.resize($('.page').width(), $('.page').height(), true);} );\n         if (page.getAttribute('azimut')) {\n         cv.TemplateEngine.getInstance().addAddress( page.getAttribute('azimut'), path + '_' );\n         address[ page.getAttribute('azimut') ] = [ 'DPT:9.001', 0, 'azimut' ];\n         }\n         if (page.getAttribute('elevation')) {\n         cv.TemplateEngine.getInstance().addAddress( page.getAttribute('elevation'), path + '_' );\n         address[ page.getAttribute('elevation') ] = [ 'DPT:9.001', 0, 'elevation' ];\n         };\n         if (page.getAttribute('floor')) {\n         cv.TemplateEngine.getInstance().addAddress( page.getAttribute('floor'), path + '_' );\n         address[ page.getAttribute('floor') ] = [ 'DPT:5.004', 0, 'floor' ];\n         };\n\n         $( childs ).each( function(i,a){\n         if( this.tagName === 'filter' )\n         {\n         var floorFilter = $(this).attr('floor');\n         var roomFilter  = $(this).attr('room');\n         childs.splice( i, 1 );                 // remove filter element\n         $(this).children().each( function(j){  // and add it's children\n         $(this).find('layout').attr({floorFilter:floorFilter,roomFilter:roomFilter});\n         childs.splice( i+j, 0, this );\n         });\n         }\n         });\n      } */\n      container += this.getChildrenDomString();\n      subpage += container + '</div></div>';\n      cv.ui.structure.pure.Page.allPages = subpage + cv.ui.structure.pure.Page.allPages;\n      return undefined;\n    },\n\n    _update: function(ga, data) {\n      // widgetData  = cv.data.Model.getInstance().getWidgetDataByElement( element );\n      // var value = this.defaultValueHandling( ga, data, widgetData );\n      // var type = widgetData.address[ ga ][2];\n      // switch( type )\n      // {\n      //   case 'azimut':\n      //     widgetData.JSFloorPlan3D.setState('currentAzimut', value, true);\n      //     element.trigger( 'update3d', widgetData.JSFloorPlan3D );\n      //     break;\n      //\n      //   case 'elevation':\n      //     widgetData.JSFloorPlan3D.setState('currentElevation', value, true);\n      //     element.trigger( 'update3d', widgetData.JSFloorPlan3D );\n      //     break;\n      //\n      //   case 'floor':\n      //     widgetData.JSFloorPlan3D.moveToRoom( value, false, true, true, function(){\n      //       element.trigger( 'update3d', widgetData.JSFloorPlan3D );\n      //     });\n      //     break;\n      //\n      //   default:\n      // TODO: data comparision has to be refactored to use DPT and a value\n      if (parseInt(data) === 1) {\n        cv.TemplateEngine.getInstance().scrollToPage(this.getPath());\n        this.sendToBackend('0');\n      }\n      // }\n    },\n\n    sendToBackend: function (value) {\n      if (this.getAddress) {\n        const list = this.getAddress();\n        for (let id in list) {\n          if (Object.prototype.hasOwnProperty.call(list, id)) {\n            const address = list[id];\n            if (cv.data.Model.isWriteAddress(address)) {\n              cv.TemplateEngine.getInstance().visu.write(id, cv.Transform.encode(address.transform, value));\n            }\n          }\n        }\n      }\n    }\n  },\n\n  defer: function(statics) {\n    qx.event.message.Bus.subscribe('setup.dom.append', statics.createFinal, statics);\n  }\n});\n"
  ]
}