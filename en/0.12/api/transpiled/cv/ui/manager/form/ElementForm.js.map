{
  "version": 3,
  "sources": [
    "/home/runner/work/CometVisu/CometVisu/source/class/cv/ui/manager/form/ElementForm.js"
  ],
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "extend",
    "qxl",
    "dialog",
    "Form",
    "properties",
    "labelColumnWidth",
    "refine",
    "init",
    "useBlocker",
    "blockerOpacity",
    "blockerColor",
    "members",
    "__mappedKeys",
    "__hints",
    "_rootListenerId",
    "_applyFormData",
    "formData",
    "old",
    "map",
    "inverse",
    "firstWidget",
    "_formController",
    "getModel",
    "removeAllBindings",
    "dispose",
    "e",
    "_form",
    "getValidationManager",
    "_formContainer",
    "removeAll",
    "modelData",
    "Object",
    "getOwnPropertyNames",
    "key",
    "i",
    "mappedKey",
    "replaceAll",
    "match",
    "p1",
    "toUpperCase",
    "prototype",
    "hasOwnProperty",
    "call",
    "substr",
    "length",
    "value",
    "undefined",
    "model",
    "data",
    "marshal",
    "Json",
    "createModel",
    "setModel",
    "ui",
    "form",
    "core",
    "Environment",
    "get",
    "setQxObjectId",
    "addOwnedQxObject",
    "controller",
    "_onFormReady",
    "atom",
    "fieldData",
    "formElement",
    "elementModel",
    "elementModelReady",
    "type",
    "toLowerCase",
    "addGroupHeader",
    "TextArea",
    "setMinimalLineHeight",
    "lines",
    "autoSize",
    "setAutoSize",
    "setMinHeight",
    "setHeight",
    "setLiveUpdate",
    "TextField",
    "maxLength",
    "setMaxLength",
    "cv",
    "manager",
    "SourceCodeField",
    "language",
    "DateField",
    "dateFormat",
    "setDateFormat",
    "PasswordField",
    "getContentElement",
    "setAttribute",
    "ComboBox",
    "parseComboOptions",
    "options",
    "Array",
    "isArray",
    "forEach",
    "item",
    "listItem",
    "ListItem",
    "label",
    "icon",
    "add",
    "keys",
    "groupName",
    "groupItem",
    "set",
    "anonymous",
    "appearance",
    "Promise",
    "setPlaceholder",
    "tr",
    "then",
    "placeholder",
    "err",
    "error",
    "VirtualComboBox",
    "iconPath",
    "labelPath",
    "validation",
    "getChildControl",
    "selection",
    "getSelection",
    "addListener",
    "ev",
    "selected",
    "getItem",
    "Option",
    "getHints",
    "parseVComboOptions",
    "push",
    "hints",
    "groupModel",
    "setType",
    "setDelegate",
    "createItem",
    "bindItem",
    "index",
    "bindProperty",
    "converter",
    "SelectBox",
    "setLabel",
    "addState",
    "resetLabel",
    "removeState",
    "List",
    "VirtualSelectBox",
    "bindDefaultProperties",
    "iconOptions",
    "trim",
    "RadioGroup",
    "orientation",
    "setUserData",
    "radioButton",
    "RadioButton",
    "CheckBox",
    "setTriState",
    "Spinner",
    "min",
    "setMinimum",
    "max",
    "setMaximum",
    "step",
    "setSingleStep",
    "fractionsDigits",
    "fd",
    "nf",
    "util",
    "format",
    "NumberFormat",
    "setMinimumFractionDigits",
    "setMaximumFractionDigits",
    "setNumberFormat",
    "reverseOptions",
    "bidirectional",
    "handled",
    "validate",
    "bind",
    "option",
    "some",
    "getValue",
    "addTarget",
    "selectables",
    "getSelectables",
    "selectable",
    "sValue",
    "getUserData",
    "validator",
    "required",
    "setRequired",
    "Validate",
    "charAt",
    "regExp",
    "RegExp",
    "errorMessage",
    "AsyncValidator",
    "lang",
    "Type",
    "isString",
    "proxy",
    "method",
    "replace",
    "eval",
    "warn",
    "message",
    "invalidMessage",
    "validationFunc",
    "validatorObj",
    "__asyncInProgress",
    "valid",
    "setValid",
    "locale",
    "Manager",
    "width",
    "setWidth",
    "enabled",
    "setEnabled",
    "help",
    "isObject",
    "events",
    "func",
    "isFunction",
    "Error",
    "view",
    "ElementFormRenderer",
    "getLayout",
    "setColumnFlex",
    "setColumnMaxWidth",
    "getLabelColumnWidth",
    "spacingX",
    "setAllowGrowX",
    "scroll",
    "container",
    "Scroll",
    "setMaxHeight",
    "bom",
    "Document",
    "getHeight",
    "Init",
    "getApplication",
    "getRoot",
    "event",
    "Timer",
    "once",
    "focus",
    "_handleOk",
    "hide",
    "getCallback",
    "Serializer",
    "toNativeObject",
    "mappedNames",
    "name",
    "getContext",
    "resetCallback",
    "destruct",
    "removeListenerById",
    "ElementForm"
  ],
  "mappings": "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",
  "sourcesContent": [
    "/* ElementForm.js \n * \n * copyright (c) 2010-2022, Christian Mayer and the CometVisu contributers.\n * \n * This program is free software; you can redistribute it and/or modify it\n * under the terms of the GNU General Public License as published by the Free\n * Software Foundation; either version 3 of the License, or (at your option)\n * any later version.\n *\n * This program is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for\n * more details.\n *\n * You should have received a copy of the GNU General Public License along\n * with this program; if not, write to the Free Software Foundation, Inc.,\n * 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA\n */\n\n\n/**\n *\n */\nqx.Class.define('cv.ui.manager.form.ElementForm', {\n  extend: qxl.dialog.Form,\n\n  /*\n  ***********************************************\n    PROPERTIES\n  ***********************************************\n  */\n  properties: {\n    labelColumnWidth: {\n      refine: true,\n      init: 300\n    },\n\n    useBlocker: {\n      refine: true,\n      init: true\n    },\n\n    blockerOpacity: {\n      refine: true,\n      init: 0.9\n    },\n\n    blockerColor: {\n      refine: true,\n      init: '#585858'\n    }\n  },\n\n  /*\n  ***********************************************\n    MEMBERS\n  ***********************************************\n  */\n  members: {\n    __mappedKeys: null,\n    __hints: null,\n    _rootListenerId: null,\n\n    _applyFormData: function (formData, old) {\n      this.__mappedKeys = {\n        map: {},\n        inverse: {}\n      };\n      let firstWidget;\n      if (this._formController) {\n        try {\n          this.getModel().removeAllBindings();\n          this._formController.dispose();\n        } catch (e) {\n        }\n      }\n      if (this._form) {\n        try {\n          this._form.getValidationManager().removeAllBindings();\n          this._form.dispose();\n        } catch (e) {\n        }\n      }\n      this._formContainer.removeAll();\n      if (!formData) {\n        return;\n      }\n      if (this.getModel()) {\n        this.getModel().removeAllBindings();\n        this.getModel().dispose();\n      }\n      let modelData = {};\n      for (let key of Object.getOwnPropertyNames(formData)) {\n        let i = 0;\n        let mappedKey = key.replaceAll(/[-_\\.#]+([a-z])/g, (match, p1) => p1.toUpperCase()) + i++;\n        while (Object.prototype.hasOwnProperty.call(modelData, mappedKey)) {\n          mappedKey = mappedKey.substr(0, mappedKey.length - 1) + i++;\n        }\n        if (mappedKey !== key) {\n          this.__mappedKeys.map[mappedKey] = key;\n          this.__mappedKeys.inverse[key] = mappedKey;\n        }\n        modelData[mappedKey] = formData[key].value !== undefined\n          ? formData[key].value\n          : null;\n      }\n      let model = qx.data.marshal.Json.createModel(modelData);\n      this.setModel(model);\n      // form\n      this._form = new qx.ui.form.Form();\n      if (qx.core.Environment.get('module.objectid') === true) {\n        this._form.setQxObjectId('form');\n        this.addOwnedQxObject(this._form);\n      }\n      this._formController = new qx.data.controller.Object(model);\n      this._onFormReady(this._form);\n      let i = 0;\n      let atom;\n      for (let key of Object.getOwnPropertyNames(formData)) {\n        const mappedKey = this.__mappedKeys.inverse[key];\n        let fieldData = formData[key];\n        let formElement = null;\n        let elementModel = null;\n        let elementModelReady = null;\n        switch (fieldData.type.toLowerCase()) {\n          case 'groupheader':\n            this._form.addGroupHeader(fieldData.value);\n            break;\n          case 'textarea':\n            formElement = new qx.ui.form.TextArea();\n            formElement.setMinimalLineHeight(fieldData.lines);\n            if (fieldData.autoSize === true) {\n              formElement.setAutoSize(true);\n              formElement.setMinHeight(fieldData.lines * 16);\n            } else {\n              formElement.setHeight(fieldData.lines * 16);\n            }\n            formElement.setLiveUpdate(true);\n            break;\n          case 'textfield':\n            formElement = new qx.ui.form.TextField();\n            if (fieldData.maxLength) {\n              formElement.setMaxLength(fieldData.maxLength);\n            }\n            formElement.setLiveUpdate(true);\n            break;\n          case 'sourceeditor':\n            formElement = new cv.ui.manager.form.SourceCodeField('', fieldData.language);\n            if (fieldData.autoSize === true) {\n              formElement.setAutoSize(true);\n              formElement.setMinHeight(fieldData.lines * 16);\n            } else {\n              formElement.setHeight(fieldData.lines * 16);\n            }\n            break;\n          case 'datefield':\n          case 'date':\n            formElement = new qx.ui.form.DateField();\n            if (fieldData.dateFormat) {\n              formElement.setDateFormat(fieldData.dateFormat);\n            }\n            break;\n          case 'passwordfield':\n          case 'password':\n            formElement = new qx.ui.form.PasswordField();\n            formElement.getContentElement().setAttribute('autocomplete', 'password');\n            break;\n          case 'combobox': {\n            formElement = new qx.ui.form.ComboBox();\n            const parseComboOptions = function (options) {\n              if (Array.isArray(options)) {\n                options.forEach(function (item) {\n                  let listItem = new qx.ui.form.ListItem(item.label, item.icon);\n                  formElement.add(listItem);\n                });\n              } else if (typeof options === 'object') {\n                // grouped options\n                Object.keys(options).forEach(groupName => {\n                  let groupItem = new qx.ui.form.ListItem(groupName);\n                  groupItem.set({\n                    anonymous: true,\n                    appearance: 'optiongroup'\n                  });\n                  formElement.add(groupItem);\n                  options[groupName].forEach(function (item) {\n                    let listItem = new qx.ui.form.ListItem(item.label, item.icon, item.value);\n                    formElement.add(listItem);\n                  });\n                });\n              }\n            };\n            if (fieldData.options instanceof Promise) {\n              formElement.setPlaceholder(this.tr('Loading...'));\n              elementModelReady = fieldData.options.then(options => {\n                formElement.setPlaceholder(fieldData.placeholder);\n                parseComboOptions(options);\n                return true;\n              }, this).catch(err => {\n                this.error(err);\n                formElement.setPlaceholder(this.tr('Possible values could no be retrieved, please check browser console for error details'));\n              }, this);\n            } else {\n              parseComboOptions(fieldData.options);\n            }\n            break;\n          }\n          case 'virtualcombobox': {\n            formElement = new qx.ui.form.VirtualComboBox();\n            formElement.set({\n              iconPath: 'icon',\n              labelPath: 'value'\n            });\n            if (fieldData.validation) {\n              formElement.getChildControl('textfield').setLiveUpdate(true);\n            }\n            const selection = formElement.getChildControl('dropdown').getSelection();\n            selection.addListener('change', function (ev) {\n              const selected = selection.getItem(0);\n              if (selected && selected instanceof cv.ui.manager.form.Option) {\n                this.__hints = selected.getHints();\n              } else {\n                this.__hints = null;\n              }\n            }, this);\n            elementModel = new qx.data.Array();\n            const parseVComboOptions = function (options) {\n              if (Array.isArray(options)) {\n                options.forEach(item => {\n                  elementModel.push(new cv.ui.manager.form.Option(item.label + (item.value ? ` (${item.value})` : ''), item.icon, item.value, item.hints));\n                });\n              } else if (typeof options === 'object') {\n                Object.keys(options).forEach(groupName => {\n                  const groupModel = new cv.ui.manager.form.Option(groupName);\n                  groupModel.setType('group');\n                  elementModel.push(groupModel);\n                  options[groupName].forEach(function (item) {\n                    elementModel.push(new cv.ui.manager.form.Option(item.label + (item.value ? ` (${item.value})` : ''), item.icon, item.value, item.hints));\n                  });\n                });\n              }\n            };\n            if (fieldData.options instanceof Promise) {\n              formElement.setPlaceholder(this.tr('Loading...'));\n              fieldData.options.then(options => {\n                formElement.setPlaceholder(fieldData.placeholder);\n                parseVComboOptions(options);\n              }, this).catch(err => {\n                this.error(err);\n                formElement.setPlaceholder(this.tr('Possible values could no be retrieved, please check browser console for error details'));\n              }, this);\n            } else {\n              parseVComboOptions(fieldData.options);\n            }\n\n            formElement.setDelegate({\n              createItem: function () {\n                return new cv.ui.manager.form.ListItem();\n              },\n              bindItem: function (controller, item, index) {\n                controller.bindProperty('icon', 'icon', null, item, index);\n                controller.bindProperty('label', 'label', null, item, index);\n                controller.bindProperty('type', 'appearance', {\n                  converter: function (value) {\n                    switch (value) {\n                      case 'state':\n                        return 'state-option';\n                      case 'error':\n                        return 'error-option';\n                      case 'group':\n                        return 'optiongroup';\n                      default:\n                        return 'listitem';\n                    }\n                  }\n                }, item, index);\n                controller.bindProperty('type', 'anonymous', {\n                  converter: function (value) {\n                    return value === 'group';\n                  }\n                }, item, index);\n              }\n            });\n            formElement.setModel(elementModel);\n            break;\n          }\n\n          case 'selectbox': {\n            formElement = new qx.ui.form.SelectBox();\n            if (fieldData.options instanceof Promise) {\n              atom = formElement.getChildControl('atom');\n              atom.setLabel(this.tr('Loading...'));\n              atom.addState('loading');\n              elementModelReady = fieldData.options.then(options => {\n                const atom = formElement.getChildControl('atom');\n                atom.resetLabel();\n                atom.removeState('loading');\n                // eslint-disable-next-line no-new\n                new qx.data.controller.List(qx.data.marshal.Json.createModel(options), formElement, 'label');\n                return true;\n              }, this).catch(err => {\n                this.error(err);\n                const atom = formElement.getChildControl('atom');\n                atom.setLabel(this.tr('Possible values could no be retrieved, please check browser console for error details'));\n                atom.removeState('loading');\n                atom.addState('error');\n              }, this);\n            } else {\n              // eslint-disable-next-line no-new\n              new qx.data.controller.List(qx.data.marshal.Json.createModel(fieldData.options), formElement, 'label');\n            }\n            break;\n          }\n\n          case 'virtualselectbox':\n            formElement = new cv.ui.manager.form.VirtualSelectBox();\n            elementModel = new qx.data.Array();\n            if (fieldData.options) {\n              if (fieldData.options instanceof Promise) {\n                atom = formElement.getChildControl('atom');\n                atom.setLabel(this.tr('Loading...'));\n                atom.addState('loading');\n                elementModelReady = fieldData.options.then(options => {\n                  const atom = formElement.getChildControl('atom');\n                  atom.resetLabel();\n                  atom.removeState('loading');\n                  options.forEach(item => {\n                    elementModel.push(new cv.ui.manager.form.Option(item.label, item.icon, item.value));\n                  });\n                  return true;\n                }).catch(err => {\n                  this.error(err);\n                  const atom = formElement.getChildControl('atom');\n                  atom.setLabel(this.tr('Possible values could no be retrieved, please check browser console for error details'));\n                  atom.removeState('loading');\n                  atom.addState('error');\n                }, this);\n              } else {\n                fieldData.options.forEach(item => {\n                  elementModel.push(new cv.ui.manager.form.Option(item.label, item.icon, item.value));\n                });\n              }\n            }\n            formElement.setDelegate({\n              createItem: function() {\n                return new cv.ui.manager.form.ListItem();\n              },\n              bindItem:  function (controller, item, index) {\n                controller.bindDefaultProperties(item, index);\n                controller.bindProperty('value', 'model', null, item, index);\n              }\n            });\n            formElement.set({\n              labelPath: 'label',\n              iconPath: 'icon',\n              iconOptions: {\n                converter: function (value) {\n                  if (typeof value === 'function') {\n                    return value().trim();\n                  }\n                  return value;\n                }\n              },\n              model: elementModel\n            });\n            break;\n          case 'radiogroup':\n            formElement = new qx.ui.form.RadioGroup();\n            if (fieldData.orientation) {\n              formElement.setUserData('orientation', fieldData.orientation);\n            }\n            fieldData.options.forEach(function (item) {\n              let radioButton = new qx.ui.form.RadioButton(item.label);\n              radioButton.setUserData(\n                'value',\n                item.value !== undefined ? item.value : item.label\n              );\n              formElement.add(radioButton);\n            }, this);\n            break;\n          case 'label':\n            formElement = new qx.ui.form.TextField(); // dummy\n            formElement.setUserData('excluded', true);\n            break;\n          case 'checkbox':\n            formElement = new cv.ui.manager.form.CheckBox();\n            formElement.setTriState(true);\n            break;\n          case 'spinner':\n            formElement = new qx.ui.form.Spinner();\n            if (fieldData.min) {\n              formElement.setMinimum(fieldData.min);\n            }\n            if (fieldData.max) {\n              formElement.setMaximum(fieldData.max);\n            }\n            if (fieldData.step) {\n              formElement.setSingleStep(fieldData.step);\n            }\n            if (fieldData.fractionsDigits) {\n              let fd = fieldData.fractionsDigits;\n              let nf = new qx.util.format.NumberFormat();\n              if (fd.min) {\n                nf.setMinimumFractionDigits(fd.min);\n              }\n              if (fd.max) {\n                nf.setMaximumFractionDigits(fd.max);\n              }\n              formElement.setNumberFormat(nf);\n            }\n            break;\n          default:\n            this.error('Invalid form field type:' + fieldData.type);\n        }\n        formElement.setUserData('key', key);\n        formElement.setUserData('mappedKey', mappedKey);\n        if (i === 0) {\n          firstWidget = formElement;\n        }\n        i++;\n        if (typeof fieldData.type == 'string') {\n          let options = null;\n          let reverseOptions = null;\n          let bidirectional = true;\n          let handled = false;\n          switch (fieldData.type.toLowerCase()) {\n            case 'textarea':\n            case 'textfield':\n            case 'passwordfield':\n            case 'combobox':\n            case 'virtualcombobox':\n            case 'datefield':\n            case 'spinner':\n            case 'sourceeditor':\n              reverseOptions = {\n                converter: function (value) {\n                  // just validate when the value has changed\n                  this.getValidationManager().validate();\n                  return value;\n                }.bind(this._form)\n              };\n              break;\n            case 'virtualselectbox':\n              options = {\n                converter: function (value) {\n                  if (typeof value === 'string') {\n                    let option;\n                    this.getModel().some(item => {\n                      if (item.getValue() === value) {\n                        option = item;\n                        return true;\n                      }\n                      return false;\n                    });\n                    return option;\n                  }\n                  return value;\n                }.bind(formElement)\n              };\n              reverseOptions = {\n                converter: function (option) {\n                  this.getValidationManager().validate();\n                  return option ? option.getValue() : null;\n                }.bind(this._form)\n              };\n              break;\n            case 'checkbox':\n              break;\n            case 'selectbox':\n              // for some strange timing reason this only works, when addTarget is called here\n              this._formController.addTarget(formElement, 'selection', mappedKey, true, {\n                converter: function (value) {\n                  let selected = null;\n                  let selectables = this.getSelectables();\n                  selectables.some(function (selectable) {\n                    if (selectable.getModel().getValue() === value) {\n                      selected = selectable;\n                      return true;\n                    }\n                    return false;\n                  }, this);\n                  if (!selected) {\n                    return [selectables[0]];\n                  }\n                  return [selected];\n                }.bind(formElement)\n              }, {\n                converter: function (selection) {\n                  return selection[0].getModel().getValue();\n                }\n              });\n              handled = true;\n              break;\n            case 'radiogroup':\n              options = {\n                converter: function (value) {\n                  let selectables = this.getSelectables();\n                  let selection = [];\n                  if (value) {\n                    selectables.forEach(function (selectable) {\n                      let sValue = selectable.getUserData('value');\n                      if (sValue === value) {\n                        selection = [selectable];\n                      }\n                    }, this);\n                  }\n                  return selection;\n                }.bind(formElement)\n              };\n              reverseOptions = {\n                converter: function (selection) {\n                  return selection[0].getUserData('value');\n                }\n              };\n              break;\n          }\n          if (!handled) {\n            if (elementModelReady) {\n              // do not add the binding before the model is there\n              elementModelReady.then(() => {\n                this._formController.addTarget(formElement, 'value', mappedKey, bidirectional, options, reverseOptions);\n              });\n            } else {\n              this._formController.addTarget(formElement, 'value', mappedKey, bidirectional, options, reverseOptions);\n            }\n          }\n        }\n        /**\n         * Validation\n         */\n        let validator = null;\n        if (formElement && fieldData.validation) {\n          // required field\n          if (fieldData.validation.required) {\n            formElement.setRequired(true);\n          }\n          // sync validation\n          if (fieldData.validation.validator) {\n            validator = fieldData.validation.validator;\n            if (typeof validator == 'string') {\n              if (qx.util.Validate[validator]) {\n                validator = qx.util.Validate[validator]();\n              } else if (validator.charAt(0) === '/') {\n                validator = qx.util.Validate.regExp(\n                  new RegExp(validator.substr(1, validator.length - 2)),\n                  fieldData.validation.errorMessage\n                );\n              } else {\n                this.error('Invalid string validator.');\n              }\n            } else if (!(validator instanceof qx.ui.form.validation.AsyncValidator) && typeof validator !== 'function') {\n              this.error('Invalid validator.');\n            }\n          }\n          // async validation\n          if (qx.lang.Type.isString(fieldData.validation.proxy) &&\n            qx.lang.Type.isString(fieldData.validation.method)\n          ) {\n            /**\n             * fieldData.validation.proxy\n             * the name of a global variable (or path) to a function that acts as the proxy of\n             * the 'send' or 'execute' function of a preconfigured JsonRpc client. The function\n             * receives the following parameters: service method (string), parameters (array)\n             * and callback (function). It proxies the parameters to the given JsonRpc method and\n             * calls the callback with the result (true if valid, false if not) received from the\n             * server. The JsonRpc service name is preconfigured by the server and cannot be\n             * changed by the client.\n             */\n              // clean\n            let proxy = fieldData.validation.proxy.replace(/;\\n/g, '');\n            try {\n              // eslint-disable-next-line no-eval\n              eval('proxy = ' + proxy + ';');\n            } catch (e) {\n              this.warn('Invalid proxy name');\n            }\n            if (typeof proxy == 'function') {\n              let method = fieldData.validation.method;\n              let message = fieldData.validation.invalidMessage;\n              let validationFunc = function (validatorObj, value) {\n                if (!validatorObj.__asyncInProgress) {\n                  validatorObj.__asyncInProgress = true;\n                  proxy(method, [value], function (valid) {\n                    validatorObj.setValid(valid, message || qx.locale.Manager.tr('Value is invalid'));\n                    validatorObj.__asyncInProgress = false;\n                  });\n                }\n              };\n              validator = new qx.ui.form.validation.AsyncValidator(validationFunc);\n            }\n          }\n        }\n\n        /**\n         * other widget properties @todo: allow to set all properties\n         */\n        if (fieldData.width !== undefined) {\n          formElement.setWidth(fieldData.width);\n        }\n        if (fieldData.placeholder !== undefined) {\n          formElement.setPlaceholder(fieldData.placeholder);\n        }\n        if (fieldData.enabled !== undefined) {\n          formElement.setEnabled(fieldData.enabled);\n        }\n        if (fieldData.help !== undefined) {\n          formElement.setUserData('help', fieldData.help);\n        }\n\n        /**\n         * Events\n         */\n        if (qx.lang.Type.isObject(fieldData.events)) {\n          for (let type in fieldData.events) {\n            try {\n              // eslint-disable-next-line no-eval\n              let func = eval('(' + fieldData.events[type] + ')'); // eval is evil, I know.\n              if (!qx.lang.Type.isFunction(func)) {\n                throw new Error();\n              }\n              formElement.addListener(type, func, formElement);\n            } catch (e) {\n              this.warn('Invalid \\'' + type + '\\' event handler for form element \\'' + key + '\\'.');\n            }\n          }\n        }\n\n        // Putting it all together\n        let label = fieldData.label;\n        this._form.add(formElement, label, validator);\n        // Add the form elements as objects owned by the form widget\n        if (qx.core.Environment.get('module.objectid') === true) {\n          formElement.setQxObjectId(key);\n          this._form.addOwnedQxObject(formElement);\n        }\n      }\n\n\n      let view = new cv.ui.manager.form.ElementFormRenderer(this._form);\n      view.getLayout().setColumnFlex(0, 0);\n      view.getLayout().setColumnMaxWidth(0, this.getLabelColumnWidth());\n      view.getLayout().setColumnFlex(1, 1);\n      view.getLayout().set({\n        spacingX: 8\n      });\n      view.setAllowGrowX(true);\n      const scroll = new qx.ui.container.Scroll(view);\n      scroll.setMaxHeight(qx.bom.Document.getHeight() - 132);\n      this._rootListenerId = qx.core.Init.getApplication().getRoot().addListener('resize', function () {\n        scroll.setMaxHeight(qx.bom.Document.getHeight() - 132);\n      });\n\n      view.bind('width', scroll, 'width');\n      view.bind('height', scroll, 'height');\n      this._formContainer.add(scroll);\n      this._form.getValidationManager().validate();\n      if (firstWidget) {\n        qx.event.Timer.once(() => {\n          firstWidget.focus();\n        }, this, 200);\n      }\n    },\n\n    _handleOk: function () {\n      this.hide();\n      if (this.getCallback()) {\n        const data = qx.util.Serializer.toNativeObject(this.getModel());\n        const mappedNames = Object.keys(this.__mappedKeys.map);\n        mappedNames.forEach(mappedKey => {\n          if (Object.prototype.hasOwnProperty.call(data, mappedKey)) {\n            data[this.__mappedKeys.map[mappedKey]] = data[mappedKey];\n            delete data[mappedKey];\n          }\n        });\n        if (this.__hints) {\n          Object.keys(this.__hints).forEach(name => data[name] = this.__hints[name]);\n        }\n        this.getCallback().call(\n          this.getContext(),\n          data\n        );\n      }\n      this.resetCallback();\n    }\n  },\n\n  /*\n  ***********************************************\n    DESTRUCTOR\n  ***********************************************\n  */\n  destruct: function () {\n    if (this._rootListenerId) {\n      qx.core.Init.getApplication().getRoot().removeListenerById(this._rootListenerId);\n      this._rootListenerId = null;\n    }\n  }\n});\n"
  ]
}