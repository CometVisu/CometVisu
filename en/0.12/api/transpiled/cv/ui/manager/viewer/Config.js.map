{
  "version": 3,
  "sources": [
    "/home/travis/build/CometVisu/CometVisu/source/class/cv/ui/manager/viewer/Config.js"
  ],
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "extend",
    "cv",
    "ui",
    "manager",
    "viewer",
    "AbstractViewer",
    "construct",
    "_setLayout",
    "layout",
    "Grow",
    "properties",
    "appearance",
    "refine",
    "init",
    "statics",
    "SUPPORTED_FILES",
    "TITLE",
    "locale",
    "Manager",
    "tr",
    "ICON",
    "theme",
    "dark",
    "Images",
    "getIcon",
    "members",
    "_applyFile",
    "file",
    "old",
    "control",
    "getChildControl",
    "isConfigFile",
    "event",
    "message",
    "Bus",
    "unsubscribe",
    "getBusTopic",
    "_onChange",
    "configName",
    "model",
    "FileItem",
    "getConfigName",
    "getFullPath",
    "url",
    "util",
    "Uri",
    "getAbsolute",
    "LibraryManager",
    "getInstance",
    "get",
    "setSource",
    "show",
    "subscribe",
    "snackbar",
    "Controller",
    "error",
    "exclude",
    "ev",
    "data",
    "getData",
    "type",
    "reload",
    "_createChildControlImpl",
    "id",
    "embed",
    "Iframe",
    "add",
    "Config"
  ],
  "mappings": "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",
  "sourcesContent": [
    "/**\n * Show rendered configs.\n */\nqx.Class.define('cv.ui.manager.viewer.Config', {\n  extend: cv.ui.manager.viewer.AbstractViewer,\n\n  /*\n  ***********************************************\n    CONSTRUCTOR\n  ***********************************************\n  */\n  construct: function () {\n    this.base(arguments);\n    this._setLayout(new qx.ui.layout.Grow());\n\n  },\n\n  /*\n    ***********************************************\n      PROPERTIES\n    ***********************************************\n    */\n  properties: {\n    appearance: {\n      refine: true,\n      init: 'config-viewer'\n    }\n  },\n\n  /*\n  ***********************************************\n    STATICS\n  ***********************************************\n  */\n  statics: {\n    SUPPORTED_FILES: /^(demo)?\\/?visu_config.*\\.xml/,\n    TITLE: qx.locale.Manager.tr('Config viewer'),\n    ICON: cv.theme.dark.Images.getIcon('preview', 18)\n  },\n\n  /*\n  ***********************************************\n    MEMBERS\n  ***********************************************\n  */\n  members: {\n\n    _applyFile: function (file, old) {\n      var control = this.getChildControl('iframe');\n      if (old && old.isConfigFile()) {\n        qx.event.message.Bus.unsubscribe(old.getBusTopic(), this._onChange, this);\n      }\n      if (file) {\n        if (file.isConfigFile()) {\n          var configName = cv.ui.manager.model.FileItem.getConfigName(file.getFullPath());\n          var url = qx.util.Uri.getAbsolute(qx.util.LibraryManager.getInstance().get('cv', 'resourceUri')+ '/..') + '?config=' + (configName || '') + '&preview=1';\n          control.setSource(url);\n          control.show();\n          qx.event.message.Bus.subscribe(file.getBusTopic(), this._onChange, this);\n        } else {\n          cv.ui.manager.snackbar.Controller.error(this.tr('%1 is no configuration file', file.getFullPath()));\n        }\n      } else {\n        control.exclude();\n      }\n    },\n\n    _onChange: function (ev) {\n      var data = ev.getData();\n      if (data.type === 'contentChanged') {\n        this.getChildControl('iframe').reload();\n      }\n    },\n\n    // overridden\n    _createChildControlImpl : function(id) {\n       var control;\n\n       switch (id) {\n         case 'iframe':\n           control = new qx.ui.embed.Iframe();\n           control.exclude();\n           this.getChildControl('scroll').add(control);\n           break;\n       }\n\n       return control || this.base(arguments, id);\n    }\n  }\n});\n"
  ]
}