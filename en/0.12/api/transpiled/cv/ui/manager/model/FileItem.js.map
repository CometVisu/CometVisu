{
  "version": 3,
  "sources": [
    "/home/runner/work/CometVisu/CometVisu/source/class/cv/ui/manager/model/FileItem.js"
  ],
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "extend",
    "core",
    "Object",
    "include",
    "data",
    "marshal",
    "MEventBubbling",
    "cv",
    "ui",
    "manager",
    "control",
    "MFileEventHandler",
    "implement",
    "IFileEventHandler",
    "construct",
    "name",
    "path",
    "parent",
    "fakeChildren",
    "initChildren",
    "Array",
    "setFakeChildren",
    "endsWith",
    "__path",
    "setName",
    "setParent",
    "locale",
    "Manager",
    "getInstance",
    "addListener",
    "_onChangeLocale",
    "statics",
    "ROOT",
    "_fakeIconFile",
    "_hiddenConfigFakeFile",
    "_acceptedFiles",
    "isConfigFile",
    "test",
    "getConfigName",
    "filename",
    "match",
    "exec",
    "getIconFile",
    "model",
    "FileItem",
    "set",
    "type",
    "overrideIcon",
    "writeable",
    "readable",
    "open",
    "loaded",
    "hasChildren",
    "fake",
    "icon",
    "theme",
    "dark",
    "Images",
    "getIcon",
    "getHiddenConfigFile",
    "displayName",
    "tr",
    "getAcceptedFiles",
    "folder",
    "getFullPath",
    "properties",
    "check",
    "event",
    "apply",
    "init",
    "loading",
    "children",
    "deferredInit",
    "nullable",
    "hash",
    "editing",
    "special",
    "temporary",
    "valid",
    "hasWarnings",
    "content",
    "modified",
    "transform",
    "parentFolder",
    "mounted",
    "trash",
    "inTrash",
    "members",
    "__fullPath",
    "__onLoadCallback",
    "_toLowerCase",
    "toLowerCase",
    "isRelated",
    "_handleFileEvent",
    "ev",
    "isFake",
    "getData",
    "action",
    "reload",
    "getType",
    "startsWith",
    "dispose",
    "getChildren",
    "some",
    "child",
    "remove",
    "removeRelatedBindings",
    "_applyName",
    "value",
    "old",
    "getDisplayName",
    "setDisplayName",
    "getPath",
    "getParentFolder",
    "_onOpen",
    "isLoaded",
    "load",
    "_maintainIcon",
    "isOverrideIcon",
    "setIcon",
    "isTrash",
    "isOpen",
    "isMounted",
    "getName",
    "_applyHasChildren",
    "length",
    "push",
    "unload",
    "setLoaded",
    "setLoading",
    "removeAll",
    "forEach",
    "callback",
    "context",
    "addChild",
    "oldParent",
    "getParent",
    "bind",
    "_onGet",
    "node",
    "prototype",
    "hasOwnProperty",
    "call",
    "nodeChildren",
    "replace",
    "getFakeChildren",
    "append",
    "sortElements",
    "_onError",
    "err",
    "error",
    "snackbar",
    "Controller",
    "isLoading",
    "addListenerOnce",
    "io",
    "rest",
    "Client",
    "getFsClient",
    "readSync",
    "res",
    "getBusTopic",
    "getUri",
    "getServerPath",
    "util",
    "LibraryManager",
    "get",
    "sortF",
    "a",
    "b",
    "localeCompare",
    "sort",
    "openPath",
    "parts",
    "lang",
    "Type",
    "isArray",
    "split",
    "relPath",
    "shift",
    "setOpen",
    "translate",
    "destruct"
  ],
  "mappings": "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",
  "sourcesContent": [
    "/* FileItem.js \n * \n * copyright (c) 2010-2022, Christian Mayer and the CometVisu contributers.\n * \n * This program is free software; you can redistribute it and/or modify it\n * under the terms of the GNU General Public License as published by the Free\n * Software Foundation; either version 3 of the License, or (at your option)\n * any later version.\n *\n * This program is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for\n * more details.\n *\n * You should have received a copy of the GNU General Public License along\n * with this program; if not, write to the Free Software Foundation, Inc.,\n * 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA\n */\n\n\n/**\n * Represents an entry in the filesystem (file or folder).\n */\nqx.Class.define('cv.ui.manager.model.FileItem', {\n  extend: qx.core.Object,\n  include: [\n    qx.data.marshal.MEventBubbling,\n    cv.ui.manager.control.MFileEventHandler\n  ],\n  implement: [cv.ui.manager.control.IFileEventHandler],\n  /*\n  ***********************************************\n    CONSTRUCTOR\n  ***********************************************\n  */\n  construct: function (name, path, parent, fakeChildren) {\n    this.base(arguments);\n    this.initChildren(new qx.data.Array());\n    if (fakeChildren) {\n      this.setFakeChildren(fakeChildren);\n    }\n    if (path) {\n      if (!path.endsWith('/')) {\n        path += '/';\n      }\n      this.__path = path;\n    }\n    if (name) {\n      this.setName(name);\n    }\n    if (parent) {\n      this.setParent(parent);\n    }\n    if (qx.core.Environment.get('qx.dynlocale')) {\n      qx.locale.Manager.getInstance().addListener('changeLocale', this._onChangeLocale, this);\n    }\n  },\n\n  /*\n  ***********************************************\n    STATICS\n  ***********************************************\n  */\n  statics: {\n    ROOT: null,\n    _fakeIconFile: null,\n    _hiddenConfigFakeFile: null,\n    _acceptedFiles: {\n      '.': '*.xml',\n      'media': '*.js,*.jpg,*.gif,*.png,*.conf,*.svg,*.md,*.rst,*,css,*.txt'\n    },\n\n    isConfigFile: function (path) {\n      return /visu_config.*\\.xml/.test(path);\n    },\n\n    getConfigName: function (filename) {\n      const match = /visu_config_?([^.]+)\\.xml/.exec(filename);\n      if (match) {\n        return match[1];\n      }\n      return null;\n    },\n\n    getIconFile: function () {\n      if (!this._fakeIconFile) {\n        this._fakeIconFile = new cv.ui.manager.model.FileItem('CometVisu-Icons', '', cv.ui.manager.model.FileItem.ROOT).set({\n          type: 'file',\n          overrideIcon: true,\n          writeable: false,\n          readable: true,\n          open: true,\n          loaded: true,\n          hasChildren: false,\n          fake: true,\n          icon: cv.theme.dark.Images.getIcon('icons', 18)\n        });\n      }\n      return this._fakeIconFile;\n    },\n\n    getHiddenConfigFile: function () {\n      if (!this._hiddenConfigFakeFile) {\n        this._hiddenConfigFakeFile = new cv.ui.manager.model.FileItem('hidden.php', '', cv.ui.manager.model.FileItem.ROOT).set({\n          hasChildren: false,\n          loaded: true,\n          readable: true,\n          writeable: true,\n          overrideIcon: true,\n          icon: cv.theme.dark.Images.getIcon('hidden-config', 15),\n          type: 'file',\n          fake: true,\n          displayName: qx.locale.Manager.tr('Hidden configuration')\n        });\n      }\n      return this._hiddenConfigFakeFile;\n    },\n\n    getAcceptedFiles: function (folder) {\n      return this._acceptedFiles[folder.getFullPath()];\n    }\n  },\n\n  /*\n  ***********************************************\n    PROPERTIES\n  ***********************************************\n  */\n  properties: {\n    open : {\n      check : 'Boolean',\n      event : 'changeOpen',\n      apply : '_onOpen',\n      init : false\n    },\n\n    loaded : {\n      check : 'Boolean',\n      event : 'changeLoaded',\n      init : false\n    },\n\n    loading : {\n      check : 'Boolean',\n      event : 'changeLoading',\n      init : false\n    },\n\n    parent : {\n      event : 'changeParent',\n      init : null\n    },\n\n    children : {\n      check : 'qx.data.Array',\n      event : 'changeChildren',\n      apply: '_applyEventPropagation',\n      deferredInit : true\n    },\n\n    fakeChildren: {\n      check: 'Array',\n      nullable: true\n    },\n\n    displayName: {\n      check: 'String',\n      init: '',\n      event: 'changeDisplayName'\n    },\n\n    /**\n     * Fake items only exist in the client not in the backend\n     */\n    fake: {\n      check: 'Boolean',\n      init: false,\n      event: 'changeFake'\n    },\n\n    overrideIcon: {\n      check: 'Boolean',\n      init: false\n    },\n\n    icon: {\n      check: 'String',\n      nullable: true,\n      event: 'changeIcon'\n    },\n\n    hash: {\n      check: 'Number',\n      nullable: true\n    },\n\n    editing: {\n      check: 'Boolean',\n      init: false,\n      event: 'changeEditing'\n    },\n\n    /**\n     * A special configuration option for mulitple purposes, e.g. creating a fake FileItem with a special\n     * behaviour like an \"Add new File\" used in writeable Folders.\n     */\n    special: {\n      check: 'String',\n      nullable: true,\n      event: 'changeSpecial'\n    },\n\n    /**\n     * Temporary file are not save in the backend yet\n     */\n    temporary: {\n      check: 'Boolean',\n      init: false,\n      event: 'changeTemporary'\n    },\n\n    /**\n     * Validation result for this files content (e.g. config file validation)\n     */\n    valid: {\n      check: 'Boolean',\n      init: true,\n      event: 'changeValid'\n    },\n\n    /**\n     * The validation of this files content found some warnings\n     */\n    hasWarnings: {\n      check: 'Boolean',\n      init: false,\n      event: 'changeHasWarnings'\n    },\n\n    /**\n     * Temporary content to show, e.g. for new files, when there is no 'real' file with content yet to request from the backend\n     * this content should be shown\n     */\n    content: {\n      check: 'String',\n      nullable: true\n    },\n\n    modified: {\n      check: 'Boolean',\n      init: false,\n      event: 'changeModified'\n    },\n\n    // Backend properties\n\n    hasChildren : {\n      check : 'Boolean',\n      event : 'changeHasChildren',\n      apply : '_applyHasChildren',\n      init : false\n    },\n\n    name : {\n      check : 'String',\n      event : 'changeName',\n      init : '',\n      apply: '_applyName'\n    },\n\n    type: {\n      check: ['dir', 'file'],\n      transform: '_toLowerCase',\n      nullable: true,\n      apply: '_maintainIcon'\n    },\n\n    parentFolder: {\n      check: 'String',\n      nullable: true\n    },\n\n    readable: {\n      check: 'Boolean',\n      init: false,\n      event: 'changeReadable'\n    },\n\n    writeable: {\n      check: 'Boolean',\n      init: false,\n      event: 'changeWriteable'\n    },\n\n    mounted: {\n      check: 'Boolean',\n      init: false,\n      event: 'changeMounted'\n    },\n\n    trash: {\n      check: 'Boolean',\n      init: false,\n      event: 'changeTrash'\n    },\n\n    inTrash: {\n      check: 'Boolean',\n      init: false,\n      event: 'changeInTrash'\n    }\n  },\n\n  /*\n  ***********************************************\n    MEMBERS\n  ***********************************************\n  */\n  members: {\n    __path: null,\n    __fullPath: null,\n    __onLoadCallback: null,\n\n    _toLowerCase: function (name) {\n      return name.toLowerCase();\n    },\n\n    isRelated: function (path) {\n      return this.getFullPath() === path;\n    },\n\n    _handleFileEvent: function (ev) {\n      if (this.isFake()) {\n        return;\n      }\n      const data = ev.getData();\n      switch (data.action) {\n        case 'moved':\n          this.reload();\n          break;\n\n        case 'added':\n          if (this.getType() === 'dir' && data.path.startsWith(this.getFullPath())) {\n            this.reload();\n          }\n          break;\n\n        case 'deleted':\n          if (data.path === this.getFullPath()) {\n            // this item has been deleted\n            this.dispose();\n          } else if (this.getType() === 'dir' && data.path.startsWith(this.getFullPath())) {\n            // delete child\n            const children = this.getChildren();\n            children.some(function (child) {\n              if (child.getFullPath() === data.path) {\n                children.remove(child);\n                this.removeRelatedBindings(child);\n                return true;\n              }\n              return false;\n            }, this);\n          }\n          break;\n      }\n    },\n\n    _applyName: function (value, old) {\n      this.__fullPath = null;\n      if (value && (this.getDisplayName() === null || this.getDisplayName() === old)) {\n        // use name as default display name\n        this.setDisplayName(value);\n      }\n    },\n\n    getPath: function () {\n      if (!this.__path) {\n        let parentFolder = this.getParentFolder();\n        if (!parentFolder) {\n          parentFolder = '';\n        } else if (!parentFolder.endsWith('/')) {\n          parentFolder += '/';\n        }\n        this.__path = parentFolder;\n      }\n      return this.__path;\n    },\n\n    _onOpen : function(value) {\n      if (!this.isLoaded() && value) {\n        this.load();\n      }\n      this._maintainIcon();\n    },\n\n    _maintainIcon: function () {\n      if (!this.isOverrideIcon()) {\n        if (this.getType() === 'file') {\n          this.setIcon(cv.theme.dark.Images.getIcon('file', 18));\n        } else if (this.isTrash()) {\n          this.setIcon(cv.theme.dark.Images.getIcon('trash', 18));\n        } else if (this.isOpen()) {\n          this.setIcon(cv.theme.dark.Images.getIcon('folder-open', 18));\n        } else if (this.isMounted()) {\n          this.setIcon(cv.theme.dark.Images.getIcon('mounted-folder', 18));\n        } else {\n          this.setIcon(cv.theme.dark.Images.getIcon('folder', 18));\n        }\n      }\n    },\n\n    isConfigFile: function () {\n      return cv.ui.manager.model.FileItem.isConfigFile(this.getName());\n    },\n\n    _applyHasChildren: function (value) {\n      if (value === true && this.getChildren().length === 0) {\n        // add dummy child\n        this.getChildren().push(new cv.ui.manager.model.FileItem(''));\n      }\n    },\n\n    unload: function() {\n      this.setLoaded(false);\n      this.setLoading(false);\n      this.getChildren().removeAll().forEach(function (child) {\n        this.removeRelatedBindings(child);\n      }, this);\n    },\n\n    reload : function(callback, context) {\n      this.unload();\n      return this.load(callback, context);\n    },\n\n    addChild: function (child) {\n      const oldParent = child.getParent();\n      if (oldParent !== this) {\n        oldParent.getChildren().remove(child);\n        oldParent.removeRelatedBindings(child);\n      }\n      child.setParent(this);\n      if (child.getType() !== 'dir' || !child.isMounted()) {\n        // inherit the mounted state from the parent folder\n        this.bind('mounted', child, 'mounted');\n      }\n      this.getChildren().push(child);\n    },\n\n    _onGet: function (data) {\n      const children = this.getChildren();\n      children.removeAll().forEach(function (child) {\n        this.removeRelatedBindings(child);\n      }, this);\n      if (data) {\n        data.forEach(function (node) {\n          const child = new cv.ui.manager.model.FileItem(null, null, this);\n          if (Object.prototype.hasOwnProperty.call(node, 'children')) {\n            const nodeChildren = node.children;\n            delete node.children;\n            if (nodeChildren.length > 0) {\n              child.getChildren().replace(nodeChildren);\n              child.setLoaded(true);\n            }\n          }\n          child.set(node);\n          children.push(child);\n        }, this);\n      }\n      if (this.getFakeChildren()) {\n        children.append(this.getFakeChildren());\n      }\n      this.sortElements();\n\n      this.setLoaded(true);\n      if (this.__onLoadCallback) {\n        this.__onLoadCallback();\n      }\n      this.setLoading(false);\n    },\n\n    _onError: function (err) {\n      this.error(err);\n      cv.ui.manager.snackbar.Controller.error(err);\n      this.getChildren().removeAll().forEach(function (child) {\n        this.removeRelatedBindings(child);\n      }, this);\n      this.setLoaded(true);\n      if (this.__onLoadCallback) {\n        this.__onLoadCallback();\n      }\n      this.setLoading(false);\n    },\n\n    load: function(callback, context) {\n      // If currently loading, delay ready\n      if (this.getType() === 'file') {\n        // nothing to load\n        this.setLoaded(true);\n        return;\n      } else if (this.isFake()) {\n        this.setLoaded(true);\n        if (this.getFakeChildren()) {\n          this.getChildren().append(this.getFakeChildren());\n        }\n        return;\n      }\n      if (this.isLoading()) {\n        if (callback) {\n          this.addListenerOnce('changeLoading', callback, context);\n        }\n      } else if (this.isLoaded()) {\n        // If not done yet, resolve the child elements of this container\n        if (callback) {\n          callback.apply(context);\n        }\n      } else {\n        this.setLoading(true);\n        if (callback) {\n          this.__onLoadCallback = callback.bind(context || this);\n        }\n        cv.io.rest.Client.getFsClient().readSync({path: this.getFullPath()}, function (err, res) {\n          if (err) {\n            this._onError(err);\n          } else {\n            this._onGet(res);\n          }\n        }, this);\n      }\n    },\n\n    /**\n     * Returns the complete path needed for the REST API  to identify this file\n     * @returns {null}\n     */\n    getFullPath: function () {\n      if (!this.__fullPath) {\n        this.__fullPath = this.getPath() + this.getName();\n      }\n      return this.__fullPath;\n    },\n\n    getBusTopic: function () {\n      return 'cv.manager.fs.' + this.getFullPath().replace(/\\//g, '.');\n    },\n\n    /**\n     * Returns a fake URI that can be used to identify the file.\n     * Used by monaco editor as model URI.\n     * @returns {Uri}\n     */\n    getUri: function () {\n      return 'cv://' + this.getFullPath();\n    },\n\n    /**\n     * Returns the path to this file for requests over HTTP (not the REST API)\n     *\n     * Note: Please be aware that this path does not work if the file is in a mounted folder\n     * like the demo configs. The backend handles those mounts transparently to the client. But\n     * because of that the client does not know the real path to the file.\n     *\n     * @returns {string}\n     */\n    getServerPath: function () {\n      if (!this.isMounted()) {\n        return qx.util.LibraryManager.getInstance().get('cv', 'resourceUri') + '/config/' + this.getFullPath();\n      }\n      return qx.util.LibraryManager.getInstance().get('cv', 'resourceUri') + '/' + this.getFullPath();\n    },\n\n    /**\n     *  Sort entries: folders first, files then\n     */\n    sortElements: function () {\n      const sortF = function (a, b) {\n        if (a.getType() === 'dir') {\n          if (b.getType() === 'dir') {\n            if (a.isTrash()) {\n              return 1;\n            } else if (b.isTrash()) {\n              return -1;\n            }\n            return a.getName().localeCompare(b.getName());\n          }\n          return -1;\n        } else if (b.getType() === 'dir') {\n          return 1;\n        }\n        return a.getName().localeCompare(b.getName());\n      };\n      this.getChildren().sort(sortF);\n    },\n\n    openPath: function (path) {\n      const parts = qx.lang.Type.isArray(path) ? path : path.split('/');\n      const relPath = parts.shift();\n      this.getChildren().some(function (child) {\n        if (child.getName() === relPath) {\n          child.load(function () {\n            child.setOpen(true);\n            if (parts.length > 0) {\n              child.openPath(parts);\n            }\n          }, this);\n          return true;\n        }\n        return false;\n      }, this);\n    },\n\n    _onChangeLocale : qx.core.Environment.select('qx.dynlocale', {\n      'true': function () {\n        const content = this.getDisplayName();\n        if (content && content.translate) {\n          this.setDisplayName(content.translate());\n        }\n      },\n\n      'false' : null\n    })\n  },\n  \n  /*\n  ***********************************************\n    DESTRUCTOR  \n  ***********************************************\n  */\n  destruct: function () {\n    this.__fullPath = null;\n  } \n});\n"
  ]
}