{
  "version": 3,
  "sources": [
    "/home/runner/work/CometVisu/CometVisu/source/class/cv/ui/manager/editor/Config.js"
  ],
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "extend",
    "cv",
    "ui",
    "manager",
    "editor",
    "AbstractEditor",
    "construct",
    "_handledActions",
    "_setLayout",
    "layout",
    "VBox",
    "_createChildControl",
    "statics",
    "TITLE",
    "locale",
    "Manager",
    "tr",
    "properties",
    "appearance",
    "refine",
    "init",
    "members",
    "_model",
    "_listController",
    "__initialSectionCount",
    "_initClient",
    "_client",
    "io",
    "rest",
    "Client",
    "getConfigClient",
    "addListener",
    "_onModelValueChange",
    "_onSaved",
    "_loadFile",
    "file",
    "get",
    "section",
    "key",
    "ev",
    "getFile",
    "setContent",
    "getData",
    "_applyContent",
    "value",
    "model",
    "getModel",
    "removeAll",
    "Object",
    "keys",
    "length",
    "forEach",
    "sectionName",
    "config",
    "Section",
    "optionKey",
    "addOption",
    "push",
    "__checkForModification",
    "getCurrentContent",
    "getContent",
    "_onDeleteSection",
    "isWriteable",
    "remove",
    "setModified",
    "modified",
    "getChildControl",
    "getChildren",
    "some",
    "sectionListItem",
    "isModified",
    "save",
    "snackbar",
    "Controller",
    "info",
    "valid",
    "getName",
    "includes",
    "error",
    "optionKeys",
    "getOptions",
    "option",
    "getKey",
    "data",
    "options",
    "getValue",
    "saveSync",
    "err",
    "status",
    "statusText",
    "_createChildControlImpl",
    "id",
    "control",
    "form",
    "List",
    "setEnableInlineFind",
    "controller",
    "Array",
    "setDelegate",
    "createItem",
    "SectionListItem",
    "configureItem",
    "item",
    "bind",
    "bindItem",
    "index",
    "bindProperty",
    "converter",
    "_add",
    "flex",
    "container",
    "Composite",
    "HBox",
    "Button",
    "add",
    "destruct",
    "_disposeObjects",
    "Config"
  ],
  "mappings": "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",
  "sourcesContent": [
    "/* Config.js \n * \n * copyright (c) 2010-2022, Christian Mayer and the CometVisu contributers.\n * \n * This program is free software; you can redistribute it and/or modify it\n * under the terms of the GNU General Public License as published by the Free\n * Software Foundation; either version 3 of the License, or (at your option)\n * any later version.\n *\n * This program is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for\n * more details.\n *\n * You should have received a copy of the GNU General Public License along\n * with this program; if not, write to the Free Software Foundation, Inc.,\n * 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA\n */\n\n\n/**\n * Editor for the (hidden) configuration.\n */\nqx.Class.define('cv.ui.manager.editor.Config', {\n  extend: cv.ui.manager.editor.AbstractEditor,\n\n  /*\n  ***********************************************\n    CONSTRUCTOR\n  ***********************************************\n  */\n  construct: function () {\n    this.base(arguments);\n    this._handledActions = ['save'];\n    this._setLayout(new qx.ui.layout.VBox(8));\n    this._createChildControl('list');\n    this._createChildControl('add-section');\n  },\n\n  /*\n  ***********************************************\n    STATICS\n  ***********************************************\n  */\n  statics: {\n    TITLE: qx.locale.Manager.tr('Hidden configuration')\n  },\n\n  /*\n  ***********************************************\n    PROPERTIES\n  ***********************************************\n  */\n  properties: {\n    appearance: {\n      refine: true,\n      init: 'cv-editor-config'\n    }\n  },\n\n  /*\n  ***********************************************\n    MEMBERS\n  ***********************************************\n  */\n  members: {\n    _model: null,\n    _listController: null,\n    __initialSectionCount: 0,\n\n    _initClient: function () {\n      this._client = cv.io.rest.Client.getConfigClient();\n      this._client.addListener('getSuccess', this._onModelValueChange, this);\n      this._client.addListener('updateSuccess', this._onSaved, this);\n    },\n\n    _loadFile: function (file) {\n      if (file) {\n        this._client.get({section: '*', key: '*'});\n      }\n    },\n\n    _onModelValueChange: function (ev) {\n      if (this.getFile()) {\n        this.setContent(ev.getData());\n      }\n    },\n\n    // overridden\n    _applyContent: function(value) {\n      const model = this._listController.getModel();\n      model.removeAll();\n\n      this.__initialSectionCount = Object.keys(value).length;\n\n      Object.keys(value).forEach(function (sectionName) {\n        const section = new cv.ui.manager.model.config.Section(sectionName);\n        Object.keys(value[sectionName]).forEach(function (optionKey) {\n          section.addOption(optionKey, value[sectionName][optionKey]);\n        }, this);\n        model.push(section);\n      }, this);\n\n      this.__checkForModification();\n    },\n\n    // overridden\n    getCurrentContent: function () {\n      return this.getContent();\n    },\n\n    _onDeleteSection: function (ev) {\n      if (this.getFile() && this.getFile().isWriteable()) {\n        const section = ev.getData();\n        const model = this._listController.getModel();\n        model.remove(section);\n        this.__checkForModification();\n      }\n    },\n\n    // compare current controller model with the loaded config content\n    __checkForModification: function () {\n      const file = this.getFile();\n      if (this.__initialSectionCount !== this._listController.getModel().length) {\n        file.setModified(true);\n        return;\n      }\n      const modified = this.getChildControl('list').getChildren().some(function (sectionListItem) {\n        return sectionListItem.isModified();\n      }, this);\n      file.setModified(modified);\n    },\n\n    save: function () {\n      if (!this.getFile() || !this.getFile().isWriteable()) {\n        cv.ui.manager.snackbar.Controller.info(this.tr('Hidden configuration file (hidden.php) not writeable'));\n        return;\n      }\n      // check for duplicate section names of keys\n      const model = this._listController.getModel();\n      const keys = [];\n      let valid = true;\n      model.forEach(function (section) {\n        const key = section.getName();\n        if (!keys.includes(key)) {\n          keys.push(key);\n        } else {\n          valid = false;\n          cv.ui.manager.snackbar.Controller.error(qx.locale.Manager.tr('Section name duplicate: \"%1\".', key));\n        }\n        // check for key duplicates in this sections options\n        const optionKeys = [];\n        section.getOptions().forEach(function (option) {\n          const optionKey = option.getKey();\n          if (!optionKeys.includes(optionKey)) {\n            optionKeys.push(optionKey);\n          } else {\n            valid = false;\n            cv.ui.manager.snackbar.Controller.error(qx.locale.Manager.tr('Option key duplicate: \"%1\" in section \"%2\".', optionKey, key));\n          }\n        }, this);\n      }, this);\n\n      if (valid) {\n        const data = {};\n        this._listController.getModel().forEach(function (section) {\n          const options = {};\n          section.getOptions().forEach(function (option) {\n            options[option.getKey()] = option.getValue();\n          });\n          data[section.getName()] = options;\n        }, this);\n        this._client.saveSync(null, data, function (err) {\n          if (err) {\n            cv.ui.manager.snackbar.Controller.error(this.tr('Saving hidden config failed with error %1 (%2)', err.status, err.statusText));\n          } else {\n            cv.ui.manager.snackbar.Controller.info(this.tr('Hidden config has been saved'));\n            this._onSaved();\n          }\n        }, this);\n      } else {\n        cv.ui.manager.snackbar.Controller.error(qx.locale.Manager.tr('Section is invalid and has not been saved.'));\n      }\n    },\n\n    // overridden\n    _createChildControlImpl : function(id) {\n      let control;\n\n      switch (id) {\n         case 'list':\n           control = new qx.ui.form.List();\n           control.setEnableInlineFind(false);\n           this._listController = new qx.data.controller.List(new qx.data.Array(), control);\n           this._listController.setDelegate({\n             createItem: function () {\n               return new cv.ui.manager.form.SectionListItem();\n             },\n\n             configureItem: function (item) {\n               item.addListener('delete', this._onDeleteSection, this);\n               item.addListener('changeModified', this.__checkForModification, this);\n             }.bind(this),\n\n             bindItem: function (controller, item, index) {\n               controller.bindProperty('', 'model', null, item, index);\n               this.bind('file.writeable', item, 'readOnly', {\n                 converter: function (value) {\n                   return !value;\n                 }\n               });\n             }.bind(this)\n           });\n           this._add(control, {flex: 1});\n           break;\n\n         case 'buttons':\n           control = new qx.ui.container.Composite(new qx.ui.layout.HBox(8));\n           this._add(control);\n           break;\n\n         case 'add-section':\n           control = new qx.ui.form.Button(this.tr('Add section'));\n           control.addListener('execute', function () {\n             this._listController.getModel().push(new cv.ui.manager.model.config.Section(''));\n             this.__checkForModification();\n           }, this);\n           this.bind('file.writeable', control, 'visibility', {\n             converter: function (value) {\n               return value ? 'visible' : 'excluded';\n             }\n           });\n           this.getChildControl('buttons').add(control);\n           break;\n       }\n\n       return control || this.base(arguments, id);\n    }\n  },\n\n  /*\n  ***********************************************\n    DESTRUCTOR\n  ***********************************************\n  */\n  destruct: function () {\n    this._disposeObjects('_model', '_listController');\n  }\n});\n"
  ]
}