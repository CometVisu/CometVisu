{
  "version": 3,
  "sources": [
    "/home/runner/work/CometVisu/CometVisu/source/class/cv/ui/layout/Manager.js"
  ],
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "type",
    "statics",
    "lastBodyWidth",
    "currentPageUnavailableWidth",
    "currentPageUnavailableHeight",
    "currentPageNavbarVisibility",
    "oldWidth",
    "LAYOUT_MODE",
    "COLSPAN_CLASS",
    "getCurrentPageNavbarVisibility",
    "left",
    "right",
    "top",
    "bottom",
    "cv",
    "TemplateEngine",
    "getInstance",
    "pagePartsHandler",
    "getNavbarsVisibility",
    "currentPage",
    "getColspanClass",
    "width",
    "Config",
    "maxScreenWidthColspanS",
    "maxScreenWidthColspanM",
    "adjustColumns",
    "getAvailableWidth",
    "oldClass",
    "newClass",
    "bodyWidth",
    "document",
    "documentElement",
    "clientWidth",
    "navbarVisibility",
    "querySelector",
    "leftRect",
    "getBoundingClientRect",
    "widthNavbarLeft",
    "window",
    "getComputedStyle",
    "Math",
    "round",
    "mobileDevice",
    "rightRect",
    "widthNavbarRight",
    "getAvailableHeight",
    "windowHeight",
    "clientHeight",
    "topNav",
    "bottomNav",
    "topNavDisplay",
    "topDisplay",
    "bottomNavDisplay",
    "bottomDisplay",
    "topRect",
    "topHeight",
    "topNavRect",
    "topNavHeight",
    "bottomNavRect",
    "bottomNavHeight",
    "bottomRect",
    "bottomHeight",
    "nav_pathRect",
    "navPathHeight",
    "max",
    "rowspanClass",
    "rowspan",
    "configSettings",
    "usedRowspans",
    "getWidgetColspan",
    "widget",
    "getColspan",
    "getColspanS",
    "getColspanM",
    "getLayoutSuffix",
    "suffix",
    "applyColumnWidths",
    "selector",
    "includeNavbars",
    "mainAreaColumns",
    "dataset",
    "mainAreaColspan",
    "parseInt",
    "defaultColumns",
    "pageSelector",
    "selectors",
    "forEach",
    "area",
    "allContainer",
    "querySelectorAll",
    "length",
    "areaColumns",
    "areaColspan",
    "child",
    "ui",
    "structure",
    "WidgetFactory",
    "getInstanceByElement",
    "ourColspan",
    "w",
    "min",
    "__applyWidthClass",
    "adjustableElements",
    "e",
    "groupChild",
    "util",
    "Tree",
    "getChildWidgets",
    "groupColspan",
    "parentGroupElement",
    "getParent",
    "parentGroupWidget",
    "parentNode",
    "elem",
    "widthClassSuffix",
    "style",
    "classList",
    "cssClass",
    "startsWith",
    "remove",
    "add",
    "layout",
    "Manager"
  ],
  "mappings": "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",
  "sourcesContent": [
    "/* Manager.js \n * \n * copyright (c) 2010-2022, Christian Mayer and the CometVisu contributers.\n * \n * This program is free software; you can redistribute it and/or modify it\n * under the terms of the GNU General Public License as published by the Free\n * Software Foundation; either version 3 of the License, or (at your option)\n * any later version.\n *\n * This program is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for\n * more details.\n *\n * You should have received a copy of the GNU General Public License along\n * with this program; if not, write to the Free Software Foundation, Inc.,\n * 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA\n */\n\n\n/**\n */\nqx.Class.define('cv.ui.layout.Manager', {\n\n  type: 'static',\n\n  /*\n  ******************************************************\n    STATICS\n  ******************************************************\n  */\n  statics: {\n    // use to recognize if the screen width has crossed the maxMobileScreenWidth\n    lastBodyWidth: 0,\n    currentPageUnavailableWidth: -1,\n    currentPageUnavailableHeight: -1,\n    currentPageNavbarVisibility: null,\n    oldWidth: -1,\n\n    LAYOUT_MODE: 'DEFAULT',\n\n    COLSPAN_CLASS: null,\n\n    getCurrentPageNavbarVisibility: function () {\n      if (this.currentPageNavbarVisibility === null ||\n        this.currentPageNavbarVisibility.left === null ||\n        this.currentPageNavbarVisibility.right === null ||\n        this.currentPageNavbarVisibility.top === null ||\n        this.currentPageNavbarVisibility.bottom === null\n      ) {\n        this.currentPageNavbarVisibility = cv.TemplateEngine.getInstance().pagePartsHandler.getNavbarsVisibility(cv.TemplateEngine.getInstance().currentPage);\n      }\n      return this.currentPageNavbarVisibility;\n    },\n\n    // return S, M or L depening on the passed width\n    getColspanClass: function (width) {\n      if (width <= cv.Config.maxScreenWidthColspanS) {\n        return 'S';\n      }\n      if (width <= cv.Config.maxScreenWidthColspanM) {\n        return 'M';\n      }\n      return 'L';\n    },\n\n    adjustColumns: function () {\n      const width = this.getAvailableWidth();\n      const oldClass = this.getColspanClass(this.oldWidth);\n      const newClass = this.getColspanClass(width);\n\n      this.oldWidth = width;\n      this.COLSPAN_CLASS = newClass;\n      return oldClass !== newClass;\n    },\n\n    /**\n     * return the available width for a the currently visible page\n     * the available width is calculated by subtracting the following elements widths (if they are visible) from the body width\n     * - Left-Navbar\n     * - Right-Navbar\n     */\n    getAvailableWidth: function () {\n      // currently this calculation is done once after every page scroll (where cv.TemplateEngine.getInstance()currentPageUnavailableWidth is reseted)\n      // if the screen width falls below the threshold which activates/deactivates the mobile.css\n      // the calculation has to be done again, even if the page hasn´t changed (e.g. switching between portrait and landscape mode on a mobile can cause that)\n      const bodyWidth = document.documentElement.clientWidth;\n      //      console.log(\"Mobile.css use changed \"+mobileUseChanged);\n      this.currentPageUnavailableWidth = 0;\n      const navbarVisibility = this.getCurrentPageNavbarVisibility();\n\n      const left = document.querySelector('#navbarLeft');\n      const leftRect = left.getBoundingClientRect();\n      let widthNavbarLeft = navbarVisibility.left === true && window.getComputedStyle(left)['display'] !== 'none' ? Math.round(leftRect.right - leftRect.left) : 0;\n      if (widthNavbarLeft >= bodyWidth || cv.Config.mobileDevice) {\n        // Left-Navbar has the same size as the complete body, this can happen, when the navbar has no content\n        // maybe there is a better solution to solve this problem\n        // OR: we have a mobile device where the nav bar is floating above the other content\n        widthNavbarLeft = 0;\n      }\n      const right = document.querySelector('#navbarRight');\n      const rightRect = right.getBoundingClientRect();\n      let widthNavbarRight = navbarVisibility.right === true && window.getComputedStyle(right)['display'] !== 'none' ? Math.round(rightRect.right - rightRect.left) : 0;\n      if (widthNavbarRight >= bodyWidth || cv.Config.mobileDevice) {\n        // Right-Navbar has the same size as the complete body, this can happen, when the navbar has no content\n        // maybe there is a better solution to solve this problem\n        // OR: we have a mobile device where the nav bar is floating above the other content\n        widthNavbarRight = 0;\n      }\n      this.currentPageUnavailableWidth = widthNavbarLeft + widthNavbarRight + 1; // remove an additional pixel for Firefox\n      //      console.log(\"Width: \"+bodyWidth+\" - \"+widthNavbarLeft+\" - \"+widthNavbarRight);\n\n      this.lastBodyWidth = bodyWidth;\n      return bodyWidth - this.currentPageUnavailableWidth;\n    },\n\n    /**\n     * return the available height for a the currently visible page\n     * the available height is calculated by subtracting the following elements heights (if they are visible) from the window height\n     * - Top-Navigation\n     * - Top-Navbar\n     * - Bottom-Navbar\n     * - Statusbar\n     *\n     * Notice: the former way to use the subtract the main.position().top value from the total height leads to errors in certain cases\n     *         because the value of main.position().top is not reliable all the time\n     */\n    getAvailableHeight: function () {\n      const windowHeight = document.documentElement.clientHeight;\n      this.currentPageUnavailableHeight = 0;\n      const navbarVisibility = this.getCurrentPageNavbarVisibility();\n      const topNav = document.querySelector('#navbarTop');\n      const top = document.querySelector('#top');\n      const bottomNav = document.querySelector('#navbarBottom');\n      const bottom = document.querySelector('#bottom');\n      const topNavDisplay = window.getComputedStyle(topNav)['display'];\n      const topDisplay = window.getComputedStyle(top)['display'];\n      const bottomNavDisplay = window.getComputedStyle(bottomNav)['display'];\n      const bottomDisplay = window.getComputedStyle(bottom)['display'];\n      const topRect = top.getBoundingClientRect();\n      const topHeight = Math.round(topRect.bottom - topRect.top);\n      const topNavRect = topNav.getBoundingClientRect();\n      const topNavHeight = Math.round(topNavRect.bottom - topNavRect.top);\n      const bottomNavRect = bottomNav.getBoundingClientRect();\n      const bottomNavHeight = Math.round(bottomNavRect.bottom - bottomNavRect.top);\n      const bottomRect = bottom.getBoundingClientRect();\n      const bottomHeight = Math.round(bottomRect.bottom - bottomRect.top);\n      const nav_pathRect = document.querySelector('.nav_path').getBoundingClientRect();\n      const navPathHeight = Math.round(nav_pathRect.bottom - nav_pathRect.top);\n\n      if (topDisplay !== 'none' && topHeight > 0) {\n        this.currentPageUnavailableHeight += Math.max(topHeight, navPathHeight);\n      }\n      if (topNavDisplay !== 'none' && navbarVisibility.top === true && topNavHeight > 0) {\n        this.currentPageUnavailableHeight += topNavHeight;\n      }\n      if (bottomNavDisplay !== 'none' && navbarVisibility.bottom === true && bottomNavHeight > 0) {\n        this.currentPageUnavailableHeight += bottomNavHeight;\n      }\n      if (bottomDisplay !== 'none' && bottomHeight > 0) {\n        this.currentPageUnavailableHeight += bottomHeight;\n      }\n      if (this.currentPageUnavailableHeight > 0) {\n        this.currentPageUnavailableHeight += 1;// remove an additional pixel for Firefox\n      }\n      return windowHeight - this.currentPageUnavailableHeight;\n    },\n\n    rowspanClass: function (rowspan) {\n      cv.Config.configSettings.usedRowspans[rowspan] = true;\n      return 'rowspan rowspan' + rowspan;\n    },\n\n    getWidgetColspan: function(widget, width) {\n      if (widget.getColspan) {\n        if (width <= cv.Config.maxScreenWidthColspanS) {\n          return widget.getColspanS();\n        }\n        if (width <= cv.Config.maxScreenWidthColspanM) {\n          return widget.getColspanM();\n        }\n        return widget.getColspan();\n      }\n      return 0;\n    },\n\n    getLayoutSuffix: function (width) {\n      let suffix = '';\n      if (width <= cv.Config.maxScreenWidthColspanS) {\n        suffix = '-s';\n      } else if (width <= cv.Config.maxScreenWidthColspanM) {\n        suffix = '-m';\n      }\n      return suffix;\n    },\n\n    /**\n     * applies the correct width to the widgets corresponding to the given colspan setting\n     *\n     * @param selector {String?} only update elements found by the given selector\n     * @param includeNavbars {Boolean?} also update navbar elements (default: true)\n     */\n    applyColumnWidths: function (selector, includeNavbars) {\n      const width = this.getAvailableWidth();\n      const mainAreaColumns = document.querySelector('#main').dataset['columns'];\n      const mainAreaColspan = parseInt(mainAreaColumns || cv.Config.defaultColumns);\n\n      const pageSelector = selector ? selector : '#main .activePage';\n      let selectors = [];\n\n      if (includeNavbars === true) {\n        selectors = ['#navbarTop', '#navbarLeft', pageSelector, '#navbarRight', '#navbarBottom'];\n      } else {\n        selectors = [pageSelector];\n      }\n\n      selectors.forEach(function (area) {\n        const allContainer = document.querySelectorAll(area + ' .widget_container');\n        if (allContainer.length > 0) {\n          const areaColumns = document.querySelector(area).dataset['columns'];\n          const areaColspan = areaColumns || cv.Config.defaultColumns;\n          allContainer.forEach(function(child) {\n            const widget = cv.ui.structure.WidgetFactory.getInstanceByElement(child);\n            const ourColspan = this.getWidgetColspan(widget, width);\n\n            let w = 'auto';\n            if (ourColspan > 0) {\n              w = Math.min(100, ourColspan / areaColspan * 100) + '%';\n            }\n            this.__applyWidthClass(child, w);\n          }, this);\n        }\n\n        // and elements inside groups\n        const adjustableElements = document.querySelectorAll(area + ' .group .widget_container');\n        adjustableElements.forEach(function (e) {\n          const widget = cv.ui.structure.WidgetFactory.getInstanceByElement(e);\n          let ourColspan = this.getWidgetColspan(widget, width);\n          if (ourColspan === null) {\n            // workaround for nowidget groups\n            const groupChild = cv.util.Tree.getChildWidgets(widget, 'group')[0];\n            ourColspan = this.getWidgetColspan(groupChild, width);\n          }\n          let w = 'auto';\n          if (ourColspan > 0) {\n            let groupColspan = mainAreaColspan;\n            const parentGroupElement = cv.util.Tree.getParent(e, '.widget_container', '.group', 1)[0];\n            if (parentGroupElement) {\n              const parentGroupWidget = cv.ui.structure.WidgetFactory.getInstanceByElement(parentGroupElement.parentNode);\n              if (parentGroupWidget) {\n                groupColspan = Math.min(mainAreaColspan, this.getWidgetColspan(parentGroupWidget, width));\n              }\n            }\n            w = Math.min(100, ourColspan / groupColspan * 100) + '%'; // in percent\n          }\n          this.__applyWidthClass(e, w);\n        }, this);\n      }, this);\n    },\n\n    __applyWidthClass: function (elem, widthClassSuffix) {\n      if (widthClassSuffix === 'auto') {\n        elem.style.width = widthClassSuffix;\n      } else {\n        switch (this.LAYOUT_MODE) {\n          case 'GRID':\n            // remove all old width related classes\n            elem.classList.forEach(function (cssClass) {\n              if (cssClass.startsWith('width-')) {\n                elem.classList.remove(cssClass);\n              }\n            }, this);\n            elem.classList.add('width-' + parseInt(widthClassSuffix));\n            break;\n\n          default:\n            elem.style.width = widthClassSuffix;\n            break;\n        }\n      }\n    }\n  }\n});\n"
  ]
}