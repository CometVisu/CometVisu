{
  "version": 3,
  "sources": [
    "/home/runner/work/CometVisu/CometVisu/source/class/cv/ui/PageHandler.js"
  ],
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "extend",
    "core",
    "Object",
    "properties",
    "speed",
    "check",
    "init",
    "easing",
    "currentPath",
    "animationType",
    "members",
    "seekTo",
    "target",
    "Number",
    "isFinite",
    "getCurrentPath",
    "event",
    "message",
    "Bus",
    "dispatchByName",
    "pageWidget",
    "cv",
    "ui",
    "structure",
    "WidgetFactory",
    "getInstanceById",
    "getDomElement",
    "templateEngine",
    "TemplateEngine",
    "getInstance",
    "resetPageValues",
    "setCurrentPage",
    "pagePartsHandler",
    "updatePageParts",
    "animationConfig",
    "oldPageWidget",
    "direction",
    "animationEnabled",
    "getAnimationType",
    "Environment",
    "get",
    "parseInt",
    "currentDepth",
    "split",
    "length",
    "targetDepth",
    "__getAnimationConfig",
    "entries",
    "forEach",
    "key_value",
    "style",
    "setVisible",
    "__onLeavePage",
    "__onEnterPage",
    "outAnim",
    "bom",
    "element",
    "Animation",
    "animate",
    "leavePage",
    "addListenerOnce",
    "oldPos",
    "window",
    "getComputedStyle",
    "position",
    "AnimationFrame",
    "request",
    "animation",
    "enterPage",
    "inAnim",
    "type",
    "toUpperCase",
    "util",
    "SLIDE_RIGHT_IN",
    "SLIDE_RIGHT_OUT",
    "SLIDE_LEFT_IN",
    "SLIDE_LEFT_OUT",
    "timing",
    "getEasing",
    "classList",
    "remove",
    "overflow",
    "getPath",
    "updateVisibility",
    "page",
    "add",
    "setCurrentPath",
    "updateTopNavigation",
    "styles",
    "PageHandler"
  ],
  "mappings": "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",
  "sourcesContent": [
    "/* PageHandler.js \n * \n * copyright (c) 2010-2022, Christian Mayer and the CometVisu contributers.\n * \n * This program is free software; you can redistribute it and/or modify it\n * under the terms of the GNU General Public License as published by the Free\n * Software Foundation; either version 3 of the License, or (at your option)\n * any later version.\n *\n * This program is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for\n * more details.\n *\n * You should have received a copy of the GNU General Public License along\n * with this program; if not, write to the Free Software Foundation, Inc.,\n * 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA\n */\n\n\n/**\n * @author Christian Mayer\n * @since 2016\n */\n// FIXME and TODO: This class is currently just a quick hack to get rid\n// of the jQuery-Tools Scrollable. It should be enhanced to allow different\n// page transition animations like blending, etc. pp.\n\nqx.Class.define('cv.ui.PageHandler', {\n  extend: qx.core.Object,\n\n  /*\n   ******************************************************\n   PROPERTIES\n   ******************************************************\n   */\n  properties: {\n    // time in milliseconds\n    speed : {\n      check: 'Number',\n      init: 400\n    },\n    // name of the easing function\n    easing : {\n      check: 'string',\n      init: 'ease'\n    },\n\n    currentPath : {\n      check: 'String',\n      init: ''\n    },\n\n    animationType: {\n      check: ['slide', 'fade', 'flip', 'pop', 'swap', 'none'],\n      init: 'slide'\n    }\n  },\n\n  /*\n   ******************************************************\n   MEMBERS\n   ******************************************************\n   */\n  members: {\n\n    seekTo : function(target, speed) {\n      if (!Number.isFinite(speed)) {\n        speed = 0;\n      }\n      const currentPath = this.getCurrentPath();\n      if (currentPath !== '') {\n qx.event.message.Bus.dispatchByName('path.'+currentPath+'.exitingPageChange', currentPath, target); \n}\n\n      const pageWidget = cv.ui.structure.WidgetFactory.getInstanceById(target);\n\n      if (!pageWidget || !pageWidget.getDomElement()) { // check if page does exist\n        return;\n      }\n      qx.event.message.Bus.dispatchByName('path.'+target+'.beforePageChange', target);\n\n      const templateEngine = cv.TemplateEngine.getInstance();\n\n      templateEngine.resetPageValues();\n\n      templateEngine.setCurrentPage(pageWidget);\n\n      // update visibility of navbars, top-navigation, footer\n      templateEngine.pagePartsHandler.updatePageParts(pageWidget, speed);\n\n      // now the animation\n      let animationConfig = {};\n\n      // update reference, because the appearance might have changed\n      const oldPageWidget = currentPath ? cv.ui.structure.WidgetFactory.getInstanceById(currentPath) : null;\n\n      let direction = null;\n      let animationEnabled = speed > 0 && this.getAnimationType() !== 'none';\n\n      // browser check\n      if (qx.core.Environment.get('browser.name') === 'safari' && parseInt(qx.core.Environment.get('browser.version')) <= 5) {\n        animationEnabled = false;\n      }\n      if (animationEnabled) {\n        const currentDepth = currentPath.split('_').length;\n        const targetDepth = target.split('_').length;\n        direction = currentDepth<=targetDepth ? 'down' : 'up';\n        animationConfig = this.__getAnimationConfig(direction);\n\n        // show the new page (because animations do not work on hidden elements) + hide scrollbar\n        Object.entries({\n          'display': 'block',\n          'overflow': 'hidden'\n        }).forEach(function(key_value) {\n pageWidget.getDomElement().style[key_value[0]]=key_value[1]; \n});\n        // set it to visible\n        pageWidget.setVisible(true);\n      }\n\n      if (!animationEnabled) {\n        if (oldPageWidget) {\n          this.__onLeavePage(oldPageWidget);\n        }\n        this.__onEnterPage(pageWidget, 0, true);\n      } else {\n        if (oldPageWidget) {\n          const outAnim = qx.bom.element.Animation.animate(oldPageWidget.getDomElement(), animationConfig.leavePage, speed);\n          oldPageWidget.getDomElement().style['overflow-y'] = 'hidden';\n          outAnim.addListenerOnce('end', function() {\n            this.__onLeavePage(oldPageWidget);\n          }, this);\n        }\n        const oldPos = window.getComputedStyle(pageWidget.getDomElement()).position;\n        pageWidget.getDomElement().style.position = 'absolute';\n        qx.bom.AnimationFrame.request(function() {\n          const animation = qx.bom.element.Animation.animate(pageWidget.getDomElement(), animationConfig.enterPage, speed);\n          animation.addListenerOnce('end', function() {\n            this.__onEnterPage(pageWidget, oldPos);\n          }, this);\n        }, this);\n      }\n    },\n\n    /**\n     * Get the animation configs for the current animationType setting\n     * @param direction {String} \"up\" or \"down\"\n     */\n    __getAnimationConfig: function(direction) {\n      let inAnim;\n      let outAnim;\n\n      // try to find existing animation configuration\n      const type = this.getAnimationType().toUpperCase();\n      if (direction === 'up') {\n        inAnim = qx.util.Animation[type+'_RIGHT_IN'] || qx.util.Animation[type+'_IN'];\n        outAnim = qx.util.Animation[type+'_RIGHT_OUT'] || qx.util.Animation[type+'_OUT'];\n      } else if (direction === 'down') {\n        inAnim = qx.util.Animation[type+'_LEFT_IN'] || qx.util.Animation[type+'_IN'];\n        outAnim = qx.util.Animation[type+'_LEFT_OUT'] || qx.util.Animation[type+'_OUT'];\n      }\n      if (!inAnim || !outAnim) {\n        // fallback\n        switch (this.getAnimationType()) {\n          case 'slide':\n            if (direction === 'up') {\n              inAnim = qx.util.Animation.SLIDE_RIGHT_IN;\n              outAnim = qx.util.Animation.SLIDE_RIGHT_OUT;\n            } else {\n              inAnim = qx.util.Animation.SLIDE_LEFT_IN;\n              outAnim = qx.util.Animation.SLIDE_LEFT_OUT;\n            }\n            break;\n        }\n      }\n      if (inAnim) {\n        inAnim.timing = this.getEasing();\n      }\n      if (outAnim) {\n        outAnim.timing = this.getEasing();\n      }\n      return {\n        enterPage: inAnim,\n        leavePage: outAnim\n      };\n    },\n\n    /**\n     * Cleanup after page has been left\n     * @param oldPageWidget {cv.ui.structure.pure.Page}\n     */\n    __onLeavePage: function(oldPageWidget) {\n      oldPageWidget.getDomElement().classList.remove('pageActive', 'activePage');\n      oldPageWidget.getDomElement().style.overflow = null;\n      qx.event.message.Bus.dispatchByName('path.' + oldPageWidget.getPath() + '.afterPageChange', oldPageWidget.getPath());\n      qx.event.message.Bus.dispatchByName('path.pageLeft', oldPageWidget.getPath());\n      oldPageWidget.setVisible(false);\n    },\n\n    /**\n     * Cleanup after page has been entered\n     * @param pageWidget {cv.ui.structure.pure.Page}\n     * @param oldPos {String} CSS-position value to set\n     * @param updateVisibility {Boolean} set the visibility property of the page to true or do not change it\n     */\n    __onEnterPage: function(pageWidget, oldPos, updateVisibility) {\n      const page = pageWidget.getDomElement();\n      const target = pageWidget.getPath();\n      page.classList.add('pageActive', 'activePage');// show new page\n      if (updateVisibility === true) {\n        // set it to visible\n        pageWidget.setVisible(true);\n      }\n      // final stuff\n      this.setCurrentPath(target);\n      cv.TemplateEngine.getInstance().pagePartsHandler.updateTopNavigation(target);\n\n      qx.event.message.Bus.dispatchByName('page.' + target + '.appear', target);\n      qx.event.message.Bus.dispatchByName('path.pageChanged', target);\n      // show scrollbar after animation\n      const styles = {'overflow': null, 'display': null};\n      if (oldPos) {\n        styles.position = oldPos;\n      }\n      Object.entries(styles).forEach(function(key_value) {\n page.style[key_value[0]]=key_value[1]; \n});\n    }\n  }\n});\n"
  ]
}