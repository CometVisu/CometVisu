{
  "version": 3,
  "sources": [
    "/home/runner/work/CometVisu/CometVisu/source/class/cv/ui/common/BasicUpdate.js"
  ],
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Mixin",
    "define",
    "include",
    "cv",
    "ui",
    "common",
    "HasAddress",
    "properties",
    "value",
    "nullable",
    "init",
    "event",
    "basicValue",
    "format",
    "check",
    "statics",
    "applyMapping",
    "mappingName",
    "Config",
    "hasMapping",
    "mapping",
    "getMapping",
    "ret",
    "formula",
    "mapValue",
    "v",
    "NULL",
    "range",
    "valueFloat",
    "parseFloat",
    "min",
    "defaultValue",
    "undefined",
    "members",
    "formatValueCache",
    "applyTransform",
    "address",
    "data",
    "transform",
    "getAddress",
    "Transform",
    "decode",
    "BasicUpdate",
    "getNextMappedValue",
    "this_map",
    "keys",
    "Object",
    "indexOf",
    "length",
    "applyFormat",
    "getFormat",
    "argListPos",
    "formatPos",
    "util",
    "String",
    "sprintf",
    "apply",
    "defaultValueHandling",
    "setBasicValue",
    "setValue",
    "constructor",
    "Date",
    "toLocaleTimeString",
    "toLocaleDateString",
    "applyStyling",
    "getBasicValue",
    "defaultValue2DOM",
    "targetElement",
    "modifyFn",
    "_applyValueToDom",
    "Array",
    "isArray",
    "forEach",
    "Node",
    "element",
    "cloneNode",
    "getContext",
    "IconTools",
    "fillRecoloredIcon",
    "defaultUpdate",
    "ga",
    "passedElement",
    "getDomElement",
    "getAlign",
    "classList",
    "add",
    "valueElement",
    "getValueElement",
    "querySelector",
    "replaceChildren",
    "textContent",
    "appendChild",
    "document",
    "createTextNode",
    "innerHTML"
  ],
  "mappings": "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",
  "sourcesContent": [
    "/* BasicUpdate.js \n * \n * copyright (c) 2010-2022, Christian Mayer and the CometVisu contributers.\n * \n * This program is free software; you can redistribute it and/or modify it\n * under the terms of the GNU General Public License as published by the Free\n * Software Foundation; either version 3 of the License, or (at your option)\n * any later version.\n *\n * This program is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for\n * more details.\n *\n * You should have received a copy of the GNU General Public License along\n * with this program; if not, write to the Free Software Foundation, Inc.,\n * 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA\n */\n\n\n/**\n * This role provides the basic update methods\n *\n */\nqx.Mixin.define('cv.ui.common.BasicUpdate', {\n  include: cv.ui.common.HasAddress,\n\n  /*\n  ******************************************************\n    PROPERTIES\n  ******************************************************\n  */\n  properties: {\n    /**\n     * @type {var} the incoming value after transformation, mapping and formatting\n     */\n    value: {\n      nullable: true,\n      init: null,\n      event: 'changeValue'\n    },\n\n    /**\n     * @type {var} the incoming value after transformation\n     */\n    basicValue: {\n      nullable: true,\n      init: null\n    },\n\n    /**\n     * Format to apply to incoming values\n     */\n    format: {\n      check: 'String',\n      init: '',\n      nullable: true\n    }\n  },\n\n  /*\n  ******************************************************\n    STATICS\n  ******************************************************\n  */\n  statics: {\n    /**\n     * Apply the given mapping to the value\n     *\n     * @param {*} value - value to be mapped\n     * @param {string} mappingName - mapping name, if not set the <code>mapping</code> property value is used\n     * @return {*} the mapped value\n     */\n    applyMapping: function (value, mappingName) {\n      if (mappingName && cv.Config.hasMapping(mappingName)) {\n        const mapping = cv.Config.getMapping(mappingName);\n\n        let ret = value;\n        if (mapping.formula) {\n          ret = mapping.formula(ret);\n        }\n\n        const mapValue = function (v) {\n          if (v === null && mapping.NULL) {\n            return mapping.NULL;\n          } else if (mapping[v]) {\n            return mapping[v];\n          } else if (mapping.range) {\n            const valueFloat = parseFloat(v);\n            const range = mapping.range;\n            for (let min in range) {\n              if (min > valueFloat) {\n                continue;\n              }\n              if (range[min][0] < valueFloat) {\n                continue;\n              } // check max\n              return range[min][1];\n            }\n          } else if (mapping['*']) {\n            // catchall mapping\n            return mapping['*'];\n          }\n          return v; // pass through when nothing was found\n        };\n        ret = mapValue(ret);\n        if (!ret && mapping.defaultValue) {\n          ret = mapValue(mapping.defaultValue);\n        }\n        if (ret !== undefined) {\n          return ret;\n        }\n      }\n      return value;\n    }\n  },\n\n\n  /*\n  ******************************************************\n    MEMBERS\n  ******************************************************\n  */\n  members: {\n    formatValueCache : null,\n    /**\n     * Decode the given data with the addresses transform\n     *\n     * @param address {String} KNX-GA or openHAB-item name\n     * @param data {var} value to be decoded\n     * @return {var}\n     */\n    applyTransform: function (address, data) {\n      if (address) {\n        let transform = this.getAddress()[address].transform;\n        // transform the raw value to a JavaScript type\n        return cv.Transform.decode(transform, data);\n      }\n      return data;\n    },\n\n    /**\n     * Apply the given mapping to the value\n     *\n     * @param value {var} value to be mapped\n     * @param mappingName {String?} mapping name, if not set the <code>mapping</code> property value is used\n     * @return {var} the mapped value\n     */\n    applyMapping: function (value, mappingName) {\n      if (!mappingName) {\n        mappingName = this.getMapping();\n      }\n      return cv.ui.common.BasicUpdate.applyMapping(value, mappingName);\n    },\n\n    /**\n     * Look up the entry for <code>value</code> in the mapping <code>this_map</code> and\n     * return the next value in the list (including wrap around).\n     *\n     * @param value {var} value to look up\n     * @param this_map {String} mapping name\n     * @return {var} the next mapped value\n     */\n    getNextMappedValue: function (value, this_map) {\n      if (this_map && cv.Config.hasMapping(this_map)) {\n        const keys = Object.keys(cv.Config.getMapping(this_map));\n        return keys[(keys.indexOf('' + value) + 1) % keys.length];\n      }\n      return value;\n    },\n\n    /**\n     * Format the given value according to the defined format.\n     * If no format is defined the value will not be changed.\n     *\n     * @param address {String} KNX-GA or openHAB item name\n     * @param value {var} value to be formatted\n     * @return {var} the formatted value\n     */\n    applyFormat: function (address, value) {\n      if (this.getFormat()) {\n        if (!this.formatValueCache) {\n          this.formatValueCache = [this.getFormat()];\n        }\n\n        const argListPos = (this.getAddress() && this.getAddress()[address]) ? this.getAddress()[address].formatPos : 1;\n\n        this.formatValueCache[argListPos] = value;\n\n        return cv.util.String.sprintf.apply(this, this.formatValueCache);\n      }\n      return value;\n    },\n\n    /**\n     * The default value handling for most of the widgets.\n     * This method applies the transform, mapping, format and styling to the value.\n     *\n     * @param {string} address - KNX-GA or openHAB item name\n     * @param {*} data - value to be processes\n     * @return {*} the processed value\n     */\n    defaultValueHandling: function (address, data) {\n      // #1: transform the raw value to a JavaScript type\n      let value = this.applyTransform(address, data);\n\n      // store it to be able to suppress sending of unchanged data\n      if (value !== undefined) {\n        this.setBasicValue(value);\n      }\n\n      // #2: map it to a value the user wants to see\n      value = this.applyMapping(value);\n\n      // #3: format it in a way the user understands the value\n      if (value !== undefined) {\n        value = this.applyFormat(address, value);\n        this.setValue(value);\n      }\n\n      if (value && value.constructor === Date) {\n        switch (this.getAddress()[address].transform) { // special case for KNX\n          case 'DPT:10.001':\n            value = value.toLocaleTimeString();\n            break;\n          case 'DPT:11.001':\n            value = value.toLocaleDateString();\n            break;\n          case 'OH:datetime':\n            value = value.toLocaleDateString();\n            break;\n          case 'OH:time':\n            value = value.toLocaleTimeString();\n            break;\n        }\n      }\n\n      this.applyStyling(this.getBasicValue());\n      // #4 will happen outside: style the value to be pretty\n      return value;\n    },\n\n    /**\n     * @typedef widgetValueTypes\n     * @type {(string|number|Uint8Array|Map|Function)}\n     */\n    /**\n     * Method to handle all special cases for the value. The might come from\n     * the mapping where it can be quite complex as it can contain icons.\n     * @param {(*|*[])} value - the value, or an array of values, that will be inserted\n     * @param {HTMLElement} targetElement - the element where `value` will be added to\n     * @param {Function?} modifyFn - callback function that modifies the DOM\n     */\n    defaultValue2DOM: function (value, targetElement, modifyFn = this._applyValueToDom) {\n      if (Array.isArray(value)) {\n        value.forEach(v => this.defaultValue2DOM(v, targetElement, modifyFn));\n        return;\n      }\n      if (value instanceof Node) {\n        let element = value.cloneNode(true);\n        if (value.getContext) {\n          cv.util.IconTools.fillRecoloredIcon(element);\n        }\n        modifyFn(targetElement, element);\n      } else {\n        modifyFn(targetElement, value);\n      }\n    },\n\n    /**\n     * Default update function, processes the incoming value and applies it to the DOM value element.\n     *\n     * @param {string} ga - KNX-GA or openHAB item name\n     * @param {*} data - the raw value from the bus\n     * @param {HTMLElement?} passedElement - the element to update, if not given {@link getDomElement()} is used\n     * @return {*} - value\n     */\n    defaultUpdate: function (ga, data, passedElement) {\n      const element = passedElement || this.getDomElement();\n      const value = this.defaultValueHandling(ga, data);\n\n      // TODO: check if this is the right place for this\n      // might be if the styling removes the align class\n      if (this.getAlign()) {\n        element.classList.add(this.getAlign());\n      }\n      const valueElement = this.getValueElement ? this.getValueElement() : element.querySelector('.value');\n      if (undefined !== value) {\n        valueElement.replaceChildren(); // delete anything inside\n        this.defaultValue2DOM(value, valueElement);\n      } else {\n        valueElement.textContent = '-';\n      }\n      return value;\n    },\n\n    /**\n     * Internal function which updates the DOM element with the given value\n     * @param {HTMLElement} targetElement - element to update\n     * @param {*} value - value to add to the element\n     */\n    _applyValueToDom: function(targetElement, value) {\n      if (value === undefined || value === null) {\n        return;\n      }\n      if (value instanceof Node) {\n        targetElement.appendChild(value);\n      } else if (typeof value === 'number' || typeof value === 'string') {\n        targetElement.appendChild(document.createTextNode(value));\n      } else {\n        targetElement.innerHTML += value;\n      }\n    }\n  }\n});\n"
  ]
}