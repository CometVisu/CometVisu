{
  "version": 3,
  "sources": [
    "/home/runner/work/CometVisu/CometVisu/node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/html/Element.js"
  ],
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "extend",
    "core",
    "Object",
    "implement",
    "IDisposable",
    "construct",
    "tagName",
    "styles",
    "attributes",
    "__nodeName",
    "__styleValues",
    "__attribValues",
    "statics",
    "DEBUG",
    "_modified",
    "_visibility",
    "_scroll",
    "_actions",
    "__selection",
    "__focusHandler",
    "__mouseCapture",
    "_scheduleFlush",
    "job",
    "html",
    "Element",
    "__deferredCall",
    "schedule",
    "flush",
    "obj",
    "focusHandler",
    "__getFocusHandler",
    "focusedDomElement",
    "getFocus",
    "__willBecomeInvisible",
    "blur",
    "activeDomElement",
    "getActive",
    "bom",
    "deactivate",
    "captureDomElement",
    "__getCaptureElement",
    "releaseCapture",
    "later",
    "modified",
    "hc",
    "__willBeSeeable",
    "classname",
    "__element",
    "dom",
    "Hierarchy",
    "isRendered",
    "push",
    "__flush",
    "i",
    "l",
    "length",
    "visibility",
    "element",
    "$$disposed",
    "style",
    "display",
    "__visible",
    "Environment",
    "get",
    "document",
    "documentMode",
    "scroll",
    "elem",
    "offsetWidth",
    "done",
    "__lazyScrollX",
    "scrollLeft",
    "__lazyScrollY",
    "scrollTop",
    "intoViewX",
    "__lazyScrollIntoViewX",
    "child",
    "getDomElement",
    "Scroll",
    "align",
    "intoViewY",
    "__lazyScrollIntoViewY",
    "activityEndActions",
    "action",
    "type",
    "args",
    "unshift",
    "apply",
    "selection",
    "Selection",
    "set",
    "start",
    "end",
    "event",
    "handler",
    "Appear",
    "refresh",
    "eventManager",
    "Registration",
    "getManager",
    "window",
    "getHandler",
    "Focus",
    "getDispatcher",
    "dispatch",
    "MouseCapture",
    "getCaptureElement",
    "domElement",
    "fromDomElement",
    "$$elementObject",
    "members",
    "__widget",
    "__root",
    "__included",
    "__styleJobs",
    "__attribJobs",
    "__propertyJobs",
    "__propertyValues",
    "__eventValues",
    "__children",
    "__modifiedChildren",
    "__parent",
    "_scheduleChildrenUpdate",
    "toHashCode",
    "_createDomElement",
    "create",
    "connectWidget",
    "widget",
    "$$widget",
    "$$widgetObject",
    "updateObjectId",
    "disconnectWidget",
    "__connectDomElement",
    "$$element",
    "children",
    "_copyData",
    "_insertChildren",
    "_syncData",
    "_syncChildren",
    "createDocumentFragment",
    "appendChild",
    "dataChildren",
    "dataLength",
    "dataChild",
    "dataEl",
    "domParent",
    "domChildren",
    "childNodes",
    "domPos",
    "domEl",
    "removeChild",
    "insertBefore",
    "id",
    "getQxObjectId",
    "Id",
    "getAbsoluteIdOf",
    "setAttribute",
    "fromMarkup",
    "data",
    "Attribute",
    "key",
    "Style",
    "setStyles",
    "setCss",
    "compile",
    "_applyProperty",
    "importListeners",
    "jobs",
    "value",
    "undefined",
    "reset",
    "pa",
    "__addChildHelper",
    "Error",
    "remove",
    "__removeChildHelper",
    "__moveChildHelper",
    "getChildren",
    "getChild",
    "index",
    "hasChildren",
    "indexOf",
    "hasChild",
    "add",
    "varargs",
    "arguments",
    "addAt",
    "lang",
    "Array",
    "insertAt",
    "childs",
    "removeAt",
    "removeAll",
    "getParent",
    "insertInto",
    "parent",
    "rel",
    "insertAfter",
    "moveTo",
    "oldIndex",
    "moveBefore",
    "moveAfter",
    "free",
    "getNodeName",
    "setNodeName",
    "name",
    "setRoot",
    "root",
    "useMarkup",
    "helper",
    "createElement",
    "getHelperElement",
    "innerHTML",
    "useElement",
    "firstChild",
    "isFocusable",
    "tabIndex",
    "getAttribute",
    "focusable",
    "FOCUSABLE_ELEMENTS",
    "setSelectable",
    "userSelect",
    "setStyle",
    "isNativelyFocusable",
    "include",
    "exclude",
    "isIncluded",
    "fadeIn",
    "duration",
    "col",
    "qxWeb",
    "isPlaying",
    "stop",
    "once",
    "show",
    "getAnimationHandles",
    "fadeOut",
    "hide",
    "isVisible",
    "scrollChildIntoViewX",
    "direct",
    "thisEl",
    "childEl",
    "scrollChildIntoViewY",
    "scrollToX",
    "x",
    "lazy",
    "getScrollX",
    "scrollToY",
    "y",
    "getScrollY",
    "disableScrolling",
    "enableScrolling",
    "addListener",
    "__onScroll",
    "removeListener",
    "__inScroll",
    "e",
    "getTextSelection",
    "el",
    "getTextSelectionLength",
    "getLength",
    "getTextSelectionStart",
    "getStart",
    "getTextSelectionEnd",
    "getEnd",
    "setTextSelection",
    "clearTextSelection",
    "clear",
    "__performAction",
    "actions",
    "focus",
    "activate",
    "capture",
    "containerCapture",
    "map",
    "removeStyle",
    "getStyle",
    "getAllStyles",
    "setAttributes",
    "removeAttribute",
    "addClass",
    "trim",
    "removeClass",
    "currentClass",
    "replace",
    "_setProperty",
    "_removeProperty",
    "_getProperty",
    "db",
    "listener",
    "self",
    "unique",
    "Manager",
    "getNextUniqueId",
    "$$wrapped_callback",
    "callback",
    "values",
    "entry",
    "removeListenerById",
    "hasListener",
    "getListeners",
    "serializeListeners",
    "listeners",
    "listenerData",
    "defer",
    "util",
    "DeferredCall",
    "destruct",
    "removeAllListeners",
    "ObjectRegistry",
    "inShutDown",
    "_disposeArray"
  ],
  "mappings": "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",
  "sourcesContent": [
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Sebastian Werner (wpbasti)\n\n************************************************************************ */\n\n/**\n * High-performance, high-level DOM element creation and management.\n *\n * Includes support for HTML and style attributes. Elements also have\n * got a powerful children and visibility management.\n *\n * Processes DOM insertion and modification with advanced logic\n * to reduce the real transactions.\n *\n * From the view of the parent you can use the following children management\n * methods:\n * {@link #getChildren}, {@link #indexOf}, {@link #hasChild}, {@link #add},\n * {@link #addAt}, {@link #remove}, {@link #removeAt}, {@link #removeAll}\n *\n * Each child itself also has got some powerful methods to control its\n * position:\n * {@link #getParent}, {@link #free},\n * {@link #insertInto}, {@link #insertBefore}, {@link #insertAfter},\n * {@link #moveTo}, {@link #moveBefore}, {@link #moveAfter},\n *\n * NOTE: Instances of this class must be disposed of after use\n *\n * @require(qx.module.Animation)\n */\nqx.Class.define(\"qx.html.Element\",\n{\n  extend : qx.core.Object,\n  implement : [ qx.core.IDisposable ],\n\n\n\n\n  /*\n  *****************************************************************************\n     CONSTRUCTOR\n  *****************************************************************************\n  */\n\n  /**\n   * Creates a new Element\n   *\n   * @param tagName {String?\"div\"} Tag name of the element to create\n   * @param styles {Map?null} optional map of CSS styles, where the key is the name\n   *    of the style and the value is the value to use.\n   * @param attributes {Map?null} optional map of element attributes, where the\n   *    key is the name of the attribute and the value is the value to use.\n   */\n  construct : function(tagName, styles, attributes)\n  {\n    this.base(arguments);\n\n    // {String} Set tag name\n    this.__nodeName = tagName || \"div\";\n\n    this.__styleValues = styles || null;\n    this.__attribValues = attributes || null;\n  },\n\n\n\n\n  /*\n  *****************************************************************************\n     STATICS\n  *****************************************************************************\n  */\n\n  statics :\n  {\n    /*\n    ---------------------------------------------------------------------------\n      STATIC DATA\n    ---------------------------------------------------------------------------\n    */\n\n    /** @type {Boolean} If debugging should be enabled */\n    DEBUG : false,\n\n\n    /** @type {Map} Contains the modified {@link qx.html.Element}s. The key is the hash code. */\n    _modified : {},\n\n\n    /** @type {Map} Contains the {@link qx.html.Element}s which should get hidden or visible at the next flush. The key is the hash code. */\n    _visibility : {},\n\n\n    /** @type {Map} Contains the {@link qx.html.Element}s which should scrolled at the next flush */\n    _scroll : {},\n\n\n    /** @type {Array} List of post actions for elements. The key is the action name. The value the {@link qx.html.Element}. */\n    _actions : [],\n\n\n    /**  @type {Map} List of all selections. */\n    __selection : {},\n\n\n    __focusHandler : null,\n\n\n    __mouseCapture : null,\n\n\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      PUBLIC ELEMENT FLUSH\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Schedule a deferred element queue flush. If the widget subsystem is used\n     * this method gets overwritten by {@link qx.ui.core.queue.Manager}.\n     *\n     * @param job {String} The job descriptor. Should always be <code>\"element\"</code>.\n     */\n    _scheduleFlush : function(job) {\n      qx.html.Element.__deferredCall.schedule();\n    },\n\n\n    /**\n     * Flush the global modified list\n     */\n    flush : function()\n    {\n      var obj;\n\n      if (qx.core.Environment.get(\"qx.debug\"))\n      {\n        if (this.DEBUG) {\n          qx.log.Logger.debug(this, \"Flushing elements...\");\n        }\n      }\n\n\n      // blur elements, which will be removed\n      var focusHandler = this.__getFocusHandler();\n      var focusedDomElement = focusHandler.getFocus();\n      if (focusedDomElement && this.__willBecomeInvisible(focusedDomElement)) {\n        focusHandler.blur(focusedDomElement);\n      }\n\n      // decativate elements, which will be removed\n      var activeDomElement = focusHandler.getActive();\n      if (activeDomElement && this.__willBecomeInvisible(activeDomElement)) {\n        qx.bom.Element.deactivate(activeDomElement);\n      }\n\n      // release capture for elements, which will be removed\n      var captureDomElement = this.__getCaptureElement();\n      if (captureDomElement && this.__willBecomeInvisible(captureDomElement)) {\n        qx.bom.Element.releaseCapture(captureDomElement);\n      }\n\n\n      var later = [];\n      var modified = this._modified;\n\n      for (var hc in modified)\n      {\n        obj = modified[hc];\n        // Ignore all hidden elements except iframes\n        // but keep them until they get visible (again)\n        if (obj.__willBeSeeable() || obj.classname == \"qx.html.Iframe\")\n        {\n          // Separately queue rendered elements\n          if (obj.__element && qx.dom.Hierarchy.isRendered(obj.__element)) {\n            later.push(obj);\n          }\n\n          // Flush invisible elements first\n          else\n          {\n            if (qx.core.Environment.get(\"qx.debug\"))\n            {\n              if (this.DEBUG) {\n                obj.debug(\"Flush invisible element\");\n              }\n            }\n\n            obj.__flush();\n          }\n\n          // Cleanup modification list\n          delete modified[hc];\n        }\n      }\n\n      for (var i=0, l=later.length; i<l; i++)\n      {\n        obj = later[i];\n\n        if (qx.core.Environment.get(\"qx.debug\"))\n        {\n          if (this.DEBUG) {\n            obj.debug(\"Flush rendered element\");\n          }\n        }\n\n        obj.__flush();\n      }\n\n\n\n      // Process visibility list\n      var visibility = this._visibility;\n\n      for (var hc in visibility)\n      {\n        obj = visibility[hc];\n\n        var element = obj.__element;\n        if (!element)\n        {\n          delete visibility[hc];\n          continue;\n        }\n\n        if (qx.core.Environment.get(\"qx.debug\"))\n        {\n          if (this.DEBUG) {\n            qx.log.Logger.debug(this, \"Switching visibility to: \" + obj.__visible);\n          }\n        }\n\n        // hiding or showing an object and deleting it right after that may\n        // cause an disposed object in the visibility queue [BUG #3607]\n        if (!obj.$$disposed) {\n          element.style.display = obj.__visible ? \"\" : \"none\";\n          // also hide the element (fixed some rendering problem in IE<8 & IE8 quirks)\n          if ((qx.core.Environment.get(\"engine.name\") == \"mshtml\"))\n          {\n            if (!(document.documentMode >= 8)) {\n              element.style.visibility = obj.__visible ? \"visible\" : \"hidden\";\n            }\n          }\n        }\n\n        delete visibility[hc];\n      }\n\n      // Process scroll list\n      var scroll = this._scroll;\n      for (var hc in scroll)\n      {\n        obj = scroll[hc];\n        var elem = obj.__element;\n\n        if (elem && elem.offsetWidth)\n        {\n          var done = true;\n\n          // ScrollToX\n          if (obj.__lazyScrollX != null)\n          {\n            obj.__element.scrollLeft = obj.__lazyScrollX;\n            delete obj.__lazyScrollX;\n          }\n\n          // ScrollToY\n          if (obj.__lazyScrollY != null)\n          {\n            obj.__element.scrollTop = obj.__lazyScrollY;\n            delete obj.__lazyScrollY;\n          }\n\n          // ScrollIntoViewX\n          var intoViewX = obj.__lazyScrollIntoViewX;\n          if (intoViewX != null)\n          {\n            var child = intoViewX.element.getDomElement();\n\n            if (child && child.offsetWidth)\n            {\n              qx.bom.element.Scroll.intoViewX(child, elem, intoViewX.align);\n              delete obj.__lazyScrollIntoViewX;\n            }\n            else\n            {\n              done = false;\n            }\n          }\n\n          // ScrollIntoViewY\n          var intoViewY = obj.__lazyScrollIntoViewY;\n          if (intoViewY != null)\n          {\n            var child = intoViewY.element.getDomElement();\n\n            if (child && child.offsetWidth)\n            {\n              qx.bom.element.Scroll.intoViewY(child, elem, intoViewY.align);\n              delete obj.__lazyScrollIntoViewY;\n            }\n            else\n            {\n              done = false;\n            }\n          }\n\n          // Clear flag if all things are done\n          // Otherwise wait for the next flush\n          if (done) {\n            delete scroll[hc];\n          }\n        }\n      }\n\n\n      var activityEndActions = {\n        \"releaseCapture\": 1,\n        \"blur\": 1,\n        \"deactivate\": 1\n      };\n\n      // Process action list\n      for (var i=0; i<this._actions.length; i++)\n      {\n        var action = this._actions[i];\n        var element = action.element.__element;\n        if (!element || !activityEndActions[action.type] && !action.element.__willBeSeeable()) {\n          continue;\n        }\n        var args = action.args;\n        args.unshift(element);\n        qx.bom.Element[action.type].apply(qx.bom.Element, args);\n      }\n      this._actions = [];\n\n      // Process selection\n      for (var hc in this.__selection)\n      {\n        var selection = this.__selection[hc];\n        var elem = selection.element.__element;\n        if (elem)\n        {\n          qx.bom.Selection.set(elem, selection.start, selection.end);\n          delete this.__selection[hc];\n        }\n      }\n\n      // Fire appear/disappear events\n      qx.event.handler.Appear.refresh();\n    },\n\n\n    /**\n     * Get the focus handler\n     *\n     * @return {qx.event.handler.Focus} The focus handler\n     */\n    __getFocusHandler : function()\n    {\n      if (!this.__focusHandler)\n      {\n        var eventManager = qx.event.Registration.getManager(window);\n        this.__focusHandler = eventManager.getHandler(qx.event.handler.Focus);\n      }\n      return this.__focusHandler;\n    },\n\n\n    /**\n     * Get the mouse capture element\n     *\n     * @return {Element} The mouse capture DOM element\n     */\n    __getCaptureElement : function()\n    {\n      if (!this.__mouseCapture)\n      {\n        var eventManager = qx.event.Registration.getManager(window);\n        this.__mouseCapture = eventManager.getDispatcher(qx.event.dispatch.MouseCapture);\n      }\n      return this.__mouseCapture.getCaptureElement();\n    },\n\n\n    /**\n     * Whether the given DOM element will become invisible after the flush\n     *\n     * @param domElement {Element} The DOM element to check\n     * @return {Boolean} Whether the element will become invisible\n     */\n    __willBecomeInvisible : function(domElement)\n    {\n      var element = this.fromDomElement(domElement);\n      return element && !element.__willBeSeeable();\n    },\n\n\n    /**\n     * Finds the Widget for a given DOM element\n     *\n     * @param domElement {DOM} the DOM element\n     * @return {qx.ui.core.Widget} the Widget that created the DOM element\n     */\n    fromDomElement: function(domElement) {\n    \tif (qx.core.Environment.get(\"qx.debug\")) {\n    \t\tqx.core.Assert.assertTrue((!domElement.$$element && !domElement.$$elementObject) ||\n    \t\t\t\tdomElement.$$element === domElement.$$elementObject.toHashCode());\n    \t}\n      return domElement.$$elementObject;\n    }\n\n  },\n\n\n\n\n\n\n  /*\n  *****************************************************************************\n     MEMBERS\n  *****************************************************************************\n  */\n\n  members :\n  {\n    /*\n    ---------------------------------------------------------------------------\n      PROTECTED HELPERS/DATA\n    ---------------------------------------------------------------------------\n    */\n\n    __nodeName : null,\n\n    /** @type {Element} DOM element of this object */\n    __element : null,\n\n    /** @type {qx.ui.core.Widget} the Widget this element is attached to */\n    __widget : null,\n\n    /** @type {Boolean} Marker for always visible root nodes (often the body node) */\n    __root : false,\n\n    /** @type {Boolean} Whether the element should be included in the render result */\n    __included : true,\n\n    /** @type {Boolean} Whether the element should be visible in the render result */\n    __visible : true,\n\n    __lazyScrollIntoViewX : null,\n    __lazyScrollIntoViewY : null,\n\n    __lazyScrollX : null,\n    __lazyScrollY : null,\n\n    __styleJobs : null,\n    __attribJobs : null,\n    __propertyJobs : null,\n\n    __styleValues : null,\n    __attribValues : null,\n    __propertyValues : null,\n    __eventValues : null,\n\n    __children : null,\n    __modifiedChildren : null,\n\n    __parent : null,\n\n    /**\n     * Add the element to the global modification list.\n     *\n     */\n    _scheduleChildrenUpdate : function()\n    {\n      if (this.__modifiedChildren) {\n        return;\n      }\n\n      this.__modifiedChildren = true;\n\n      qx.html.Element._modified[this.toHashCode()] = this;\n      qx.html.Element._scheduleFlush(\"element\");\n    },\n\n\n    /**\n     * Internal helper to generate the DOM element\n     *\n     * @return {Element} DOM element\n     */\n    _createDomElement : function() {\n      return qx.dom.Element.create(this.__nodeName);\n    },\n\n\n    /**\n     * Connects a widget to this element, and to the DOM element in this Element.  They\n     * remain associated until disposed or disconnectWidget is called\n     *\n     * @param widget {qx.ui.core.Widget} the widget\n     */\n    connectWidget: function(widget) {\n    \tif (qx.core.Environment.get(\"qx.debug\")) {\n      \tqx.core.Assert.assertTrue(!this.__widget || this.__widget === widget);\n    \t}\n\n    \tthis.__widget = widget;\n    \tif (this.__element) {\n      \tif (qx.core.Environment.get(\"qx.debug\")) {\n      \t\tqx.core.Assert.assertTrue((!this.__element.$$widget && !this.__element.$$widgetObject) ||\n      \t\t\t\t(this.__element.$$widgetObject === widget && this.__element.$$widget === widget.toHashCode()));\n      \t}\n\n      \tthis.__element.$$widget = widget.toHashCode();\n      \tthis.__element.$$widgetObject = widget;\n    \t}\n\n      if (qx.core.Environment.get(\"module.objectid\")) {\n        this.updateObjectId();\n      }\n    },\n\n\n    /**\n     * Disconnects a widget from this element and the DOM element.  The DOM element remains\n     * untouched, except that it can no longer be used to find the Widget.\n     *\n     * @param widget {qx.ui.core.Widget} the Widget\n     */\n    disconnectWidget: function(widget) {\n    \tif (qx.core.Environment.get(\"qx.debug\")) {\n      \tqx.core.Assert.assertTrue(this.__widget === widget);\n    \t}\n\n    \tdelete this.__widget;\n    \tif (this.__element) {\n      \tif (qx.core.Environment.get(\"qx.debug\")) {\n      \t\tqx.core.Assert.assertTrue((!this.__element.$$widget && !this.__element.$$widgetObject) ||\n      \t\t\t\t(this.__element.$$widgetObject === widget && this.__element.$$widget === widget.toHashCode()));\n      \t}\n\n      \tthis.__element.$$widget = \"\";\n      \tdelete this.__element.$$widgetObject;\n    \t}\n    \t\n      if (qx.core.Environment.get(\"module.objectid\")) {\n        this.updateObjectId();\n      }\n    },\n\n\n    /**\n     * Connects a DOM element to this Element; if this Element is already connected to a Widget\n     * then the Widget is also connected.\n     *\n     * @param domElement {DOM} the DOM element to associate\n     */\n    __connectDomElement: function(domElement) {\n    \tif (qx.core.Environment.get(\"qx.debug\")) {\n    \t\tqx.core.Assert.assertTrue(!this.__element || this.__element === domElement);\n    \t\tqx.core.Assert.assertTrue((domElement.$$elementObject === this && domElement.$$element === this.toHashCode()) ||\n    \t\t\t\t(!domElement.$$elementObject && !domElement.$$element));\n    \t};\n\n    \tthis.__element = domElement;\n    \tdomElement.$$elementObject = this;\n    \tdomElement.$$element = this.toHashCode();\n    \tif (this.__widget) {\n      \tdomElement.$$widget = this.__widget.toHashCode();\n      \tdomElement.$$widgetObject = this.__widget;\n    \t}\n    },\n\n\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      FLUSH OBJECT\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Syncs data of an HtmlElement object to the DOM.\n     *\n     */\n    __flush : function()\n    {\n      if (qx.core.Environment.get(\"qx.debug\"))\n      {\n        if (this.DEBUG) {\n          this.debug(\"Flush: \" + this.getAttribute(\"id\"));\n        }\n      }\n\n      var length;\n      var children = this.__children;\n      if (children)\n      {\n        length = children.length;\n        var child;\n        for (var i=0; i<length; i++)\n        {\n          child = children[i];\n\n          if (child.__visible && child.__included && !child.__element) {\n            child.__flush();\n          }\n        }\n      }\n\n      if (!this.__element)\n      {\n        this.__connectDomElement(this._createDomElement());\n\n        this._copyData(false);\n\n        if (children && length > 0) {\n          this._insertChildren();\n        }\n      }\n      else\n      {\n        this._syncData();\n\n        if (this.__modifiedChildren) {\n          this._syncChildren();\n        }\n      }\n\n      delete this.__modifiedChildren;\n    },\n\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      SUPPORT FOR CHILDREN FLUSH\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Append all child nodes to the DOM\n     * element. This function is used when the element is initially\n     * created. After this initial apply {@link #_syncChildren} is used\n     * instead.\n     *\n     */\n    _insertChildren : function()\n    {\n      var children = this.__children;\n      var length = children.length;\n      var child;\n\n      if (length > 2)\n      {\n        var domElement = document.createDocumentFragment();\n        for (var i=0; i<length; i++)\n        {\n          child = children[i];\n          if (child.__element && child.__included) {\n            domElement.appendChild(child.__element);\n          }\n        }\n\n        this.__element.appendChild(domElement);\n      }\n      else\n      {\n        var domElement = this.__element;\n        for (var i=0; i<length; i++)\n        {\n          child = children[i];\n          if (child.__element && child.__included) {\n            domElement.appendChild(child.__element);\n          }\n        }\n      }\n    },\n\n\n    /**\n     * Synchronize internal children hierarchy to the DOM. This is used\n     * for further runtime updates after the element has been created\n     * initially.\n     *\n     */\n    _syncChildren : function()\n    {\n      var dataChildren = this.__children;\n      var dataLength = dataChildren.length;\n      var dataChild;\n      var dataEl;\n\n      var domParent = this.__element;\n      var domChildren = domParent.childNodes;\n      var domPos = 0;\n      var domEl;\n\n      if (qx.core.Environment.get(\"qx.debug\")) {\n        var domOperations = 0;\n      }\n\n      // Remove children from DOM which are excluded or remove first\n      for (var i=domChildren.length-1; i>=0; i--)\n      {\n        domEl = domChildren[i];\n        dataEl = qx.html.Element.fromDomElement(domEl);\n\n        if (!dataEl || !dataEl.__included || dataEl.__parent !== this)\n        {\n          domParent.removeChild(domEl);\n\n          if (qx.core.Environment.get(\"qx.debug\")) {\n            domOperations++;\n          }\n        }\n      }\n\n      // Start from beginning and bring DOM in sync\n      // with the data structure\n      for (var i=0; i<dataLength; i++)\n      {\n        dataChild = dataChildren[i];\n\n        // Only process visible childs\n        if (dataChild.__included)\n        {\n          dataEl = dataChild.__element;\n          domEl = domChildren[domPos];\n\n          if (!dataEl) {\n            continue;\n          }\n\n          // Only do something when out of sync\n          // If the data element is not there it may mean that it is still\n          // marked as visible=false\n          if (dataEl != domEl)\n          {\n            if (domEl) {\n              domParent.insertBefore(dataEl, domEl);\n            } else {\n              domParent.appendChild(dataEl);\n            }\n\n            if (qx.core.Environment.get(\"qx.debug\")) {\n              domOperations++;\n            }\n          }\n\n          // Increase counter\n          domPos++;\n        }\n      }\n\n      // User feedback\n      if (qx.core.Environment.get(\"qx.debug\"))\n      {\n        if (qx.html.Element.DEBUG) {\n          this.debug(\"Synced DOM with \" + domOperations + \" operations\");\n        }\n      }\n    },\n\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      SUPPORT FOR ATTRIBUTE/STYLE/EVENT FLUSH\n    ---------------------------------------------------------------------------\n    */\n    \n    updateObjectId: function() {\n      // Copy Object Id\n      if (qx.core.Environment.get(\"module.objectid\")) {\n        var id = null;\n        if (this.__widget && this.__widget.getQxObjectId()) {\n          id = qx.core.Id.getAbsoluteIdOf(this.__widget, true) || null;\n        }\n        this.setAttribute(\"data-qx-object-id\", id, true);\n      }\n    },\n\n    /**\n     * Copies data between the internal representation and the DOM. This\n     * simply copies all the data and only works well directly after\n     * element creation. After this the data must be synced using {@link #_syncData}\n     *\n     * @param fromMarkup {Boolean} Whether the copy should respect styles\n     *   given from markup\n     */\n    _copyData : function(fromMarkup)\n    {\n      var elem = this.__element;\n      \n      // Copy attributes\n      var data = this.__attribValues;\n      if (data)\n      {\n        var Attribute = qx.bom.element.Attribute;\n        for (var key in data) {\n          Attribute.set(elem, key, data[key]);\n        }\n      }\n\n      // Copy styles\n      var data = this.__styleValues;\n      if (data)\n      {\n        var Style = qx.bom.element.Style;\n        if (fromMarkup) {\n          Style.setStyles(elem, data);\n        }\n        else\n        {\n          // Set styles at once which is a lot faster in most browsers\n          // compared to separate modifications of many single style properties.\n          Style.setCss(elem, Style.compile(data));\n        }\n      }\n\n      // Copy properties\n      var data = this.__propertyValues;\n      if (data)\n      {\n        for (var key in data) {\n          this._applyProperty(key, data[key]);\n        }\n      }\n\n      // Attach events\n      var data = this.__eventValues;\n      if (data)\n      {\n        // Import listeners\n        qx.event.Registration.getManager(elem).importListeners(elem, data);\n\n        // Cleanup event map\n        // Events are directly attached through event manager\n        // after initial creation. This differs from the\n        // handling of styles and attributes where queuing happens\n        // through the complete runtime of the application.\n        delete this.__eventValues;\n      }\n    },\n\n\n    /**\n     * Synchronizes data between the internal representation and the DOM. This\n     * is the counterpart of {@link #_copyData} and is used for further updates\n     * after the element has been created.\n     *\n     */\n    _syncData : function()\n    {\n      var elem = this.__element;\n\n      var Attribute = qx.bom.element.Attribute;\n      var Style = qx.bom.element.Style;\n\n      // Sync attributes\n      var jobs = this.__attribJobs;\n      if (jobs)\n      {\n        var data = this.__attribValues;\n        if (data)\n        {\n          var value;\n          for (var key in jobs)\n          {\n            value = data[key];\n\n            if (value !== undefined) {\n              Attribute.set(elem, key, value);\n            } else {\n              Attribute.reset(elem, key);\n            }\n          }\n        }\n\n        this.__attribJobs = null;\n      }\n\n      // Sync styles\n      var jobs = this.__styleJobs;\n      if (jobs)\n      {\n        var data = this.__styleValues;\n        if (data)\n        {\n          var styles = {};\n          for (var key in jobs) {\n            styles[key] = data[key];\n          }\n\n          Style.setStyles(elem, styles);\n        }\n\n        this.__styleJobs = null;\n      }\n\n      // Sync misc\n      var jobs = this.__propertyJobs;\n      if (jobs)\n      {\n        var data = this.__propertyValues;\n        if (data)\n        {\n          var value;\n          for (var key in jobs) {\n            this._applyProperty(key, data[key]);\n          }\n        }\n\n        this.__propertyJobs = null;\n      }\n\n      // Note: Events are directly kept in sync\n    },\n\n\n\n\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      PRIVATE HELPERS/DATA\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Walk up the internal children hierarchy and\n     * look if one of the children is marked as root.\n     *\n     * This method is quite performance hungry as it\n     * really walks up recursively.\n     * @return {Boolean} <code>true</code> if the element will be seeable\n     */\n    __willBeSeeable : function()\n    {\n      var pa = this;\n\n      // Any chance to cache this information in the parents?\n      while(pa)\n      {\n        if (pa.__root) {\n          return true;\n        }\n\n        if (!pa.__included || !pa.__visible) {\n          return false;\n        }\n\n        pa = pa.__parent;\n      }\n\n      return false;\n    },\n\n\n    /**\n     * Internal helper for all children addition needs\n     *\n     * @param child {var} the element to add\n     * @throws {Error} if the given element is already a child\n     *     of this element\n     */\n    __addChildHelper : function(child)\n    {\n      if (child.__parent === this) {\n        throw new Error(\"Child is already in: \" + child);\n      }\n\n      if (child.__root) {\n        throw new Error(\"Root elements could not be inserted into other ones.\");\n      }\n\n      // Remove from previous parent\n      if (child.__parent) {\n        child.__parent.remove(child);\n      }\n\n      // Convert to child of this object\n      child.__parent = this;\n\n      // Prepare array\n      if (!this.__children) {\n        this.__children = [];\n      }\n\n      // Schedule children update\n      if (this.__element) {\n        this._scheduleChildrenUpdate();\n      }\n    },\n\n\n    /**\n     * Internal helper for all children removal needs\n     *\n     * @param child {qx.html.Element} the removed element\n     * @throws {Error} if the given element is not a child\n     *     of this element\n     */\n    __removeChildHelper : function(child)\n    {\n      if (child.__parent !== this) {\n        throw new Error(\"Has no child: \" + child);\n      }\n\n      // Schedule children update\n      if (this.__element) {\n        this._scheduleChildrenUpdate();\n      }\n\n      // Remove reference to old parent\n      delete child.__parent;\n    },\n\n\n    /**\n     * Internal helper for all children move needs\n     *\n     * @param child {qx.html.Element} the moved element\n     * @throws {Error} if the given element is not a child\n     *     of this element\n     */\n    __moveChildHelper : function(child)\n    {\n      if (child.__parent !== this) {\n        throw new Error(\"Has no child: \" + child);\n      }\n\n      // Schedule children update\n      if (this.__element) {\n        this._scheduleChildrenUpdate();\n      }\n    },\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      CHILDREN MANAGEMENT (EXECUTED ON THE PARENT)\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Returns a copy of the internal children structure.\n     *\n     * Please do not modify the array in place. If you need\n     * to work with the data in such a way make yourself\n     * a copy of the data first.\n     *\n     * @return {Array} the children list\n     */\n    getChildren : function() {\n      return this.__children || null;\n    },\n\n\n    /**\n     * Get a child element at the given index\n     *\n     * @param index {Integer} child index\n     * @return {qx.html.Element|null} The child element or <code>null</code> if\n     *     no child is found at that index.\n     */\n    getChild : function(index)\n    {\n      var children = this.__children;\n      return children && children[index] || null;\n    },\n\n\n    /**\n     * Returns whether the element has any child nodes\n     *\n     * @return {Boolean} Whether the element has any child nodes\n     */\n    hasChildren : function()\n    {\n      var children = this.__children;\n      return children && children[0] !== undefined;\n    },\n\n\n    /**\n     * Find the position of the given child\n     *\n     * @param child {qx.html.Element} the child\n     * @return {Integer} returns the position. If the element\n     *     is not a child <code>-1</code> will be returned.\n     */\n    indexOf : function(child)\n    {\n      var children = this.__children;\n      return children ? children.indexOf(child) : -1;\n    },\n\n\n    /**\n     * Whether the given element is a child of this element.\n     *\n     * @param child {qx.html.Element} the child\n     * @return {Boolean} Returns <code>true</code> when the given\n     *    element is a child of this element.\n     */\n    hasChild : function(child)\n    {\n      var children = this.__children;\n      return children && children.indexOf(child) !== -1;\n    },\n\n\n    /**\n     * Append all given children at the end of this element.\n     *\n     * @param varargs {qx.html.Element} elements to insert\n     * @return {qx.html.Element} this object (for chaining support)\n     */\n    add : function(varargs)\n    {\n      if (arguments[1])\n      {\n        for (var i=0, l=arguments.length; i<l; i++) {\n          this.__addChildHelper(arguments[i]);\n        }\n\n        this.__children.push.apply(this.__children, arguments);\n      }\n      else\n      {\n        this.__addChildHelper(varargs);\n        this.__children.push(varargs);\n      }\n\n      // Chaining support\n      return this;\n    },\n\n\n    /**\n     * Inserts a new element into this element at the given position.\n     *\n     * @param child {qx.html.Element} the element to insert\n     * @param index {Integer} the index (starts at 0 for the\n     *     first child) to insert (the index of the following\n     *     children will be increased by one)\n     * @return {qx.html.Element} this object (for chaining support)\n     */\n    addAt : function(child, index)\n    {\n      this.__addChildHelper(child);\n      qx.lang.Array.insertAt(this.__children, child, index);\n\n      // Chaining support\n      return this;\n    },\n\n\n    /**\n     * Removes all given children\n     *\n     * @param childs {qx.html.Element} children to remove\n     * @return {qx.html.Element} this object (for chaining support)\n     */\n    remove : function(childs)\n    {\n      var children = this.__children;\n      if (!children) {\n        return this;\n      }\n\n      if (arguments[1])\n      {\n        var child;\n        for (var i=0, l=arguments.length; i<l; i++)\n        {\n          child = arguments[i];\n\n          this.__removeChildHelper(child);\n          qx.lang.Array.remove(children, child);\n        }\n      }\n      else\n      {\n        this.__removeChildHelper(childs);\n        qx.lang.Array.remove(children, childs);\n      }\n\n      // Chaining support\n      return this;\n    },\n\n\n    /**\n     * Removes the child at the given index\n     *\n     * @param index {Integer} the position of the\n     *     child (starts at 0 for the first child)\n     * @return {qx.html.Element} this object (for chaining support)\n     */\n    removeAt : function(index)\n    {\n      var children = this.__children;\n      if (!children) {\n        throw new Error(\"Has no children!\");\n      }\n\n      var child = children[index];\n      if (!child) {\n        throw new Error(\"Has no child at this position!\");\n      }\n\n      this.__removeChildHelper(child);\n      qx.lang.Array.removeAt(this.__children, index);\n\n      // Chaining support\n      return this;\n    },\n\n\n    /**\n     * Remove all children from this element.\n     *\n     * @return {qx.html.Element} A reference to this.\n     */\n    removeAll : function()\n    {\n      var children = this.__children;\n      if (children)\n      {\n        for (var i=0, l=children.length; i<l; i++) {\n          this.__removeChildHelper(children[i]);\n        }\n\n        // Clear array\n        children.length = 0;\n      }\n\n      // Chaining support\n      return this;\n    },\n\n\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      CHILDREN MANAGEMENT (EXECUTED ON THE CHILD)\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Returns the parent of this element.\n     *\n     * @return {qx.html.Element|null} The parent of this element\n     */\n    getParent : function() {\n      return this.__parent || null;\n    },\n\n\n    /**\n     * Insert self into the given parent. Normally appends self to the end,\n     * but optionally a position can be defined. With index <code>0</code> it\n     * will be inserted at the begin.\n     *\n     * @param parent {qx.html.Element} The new parent of this element\n     * @param index {Integer?null} Optional position\n     * @return {qx.html.Element} this object (for chaining support)\n     */\n    insertInto : function(parent, index)\n    {\n      parent.__addChildHelper(this);\n\n      if (index == null) {\n        parent.__children.push(this);\n      } else {\n        qx.lang.Array.insertAt(this.__children, this, index);\n      }\n\n      return this;\n    },\n\n\n    /**\n     * Insert self before the given (related) element\n     *\n     * @param rel {qx.html.Element} the related element\n     * @return {qx.html.Element} this object (for chaining support)\n     */\n    insertBefore : function(rel)\n    {\n      var parent = rel.__parent;\n\n      parent.__addChildHelper(this);\n      qx.lang.Array.insertBefore(parent.__children, this, rel);\n\n      return this;\n    },\n\n\n    /**\n     * Insert self after the given (related) element\n     *\n     * @param rel {qx.html.Element} the related element\n     * @return {qx.html.Element} this object (for chaining support)\n     */\n    insertAfter : function(rel)\n    {\n      var parent = rel.__parent;\n\n      parent.__addChildHelper(this);\n      qx.lang.Array.insertAfter(parent.__children, this, rel);\n\n      return this;\n    },\n\n\n    /**\n     * Move self to the given index in the current parent.\n     *\n     * @param index {Integer} the index (starts at 0 for the first child)\n     * @return {qx.html.Element} this object (for chaining support)\n     * @throws {Error} when the given element is not child\n     *      of this element.\n     */\n    moveTo : function(index)\n    {\n      var parent = this.__parent;\n\n      parent.__moveChildHelper(this);\n\n      var oldIndex = parent.__children.indexOf(this);\n\n      if (oldIndex === index) {\n        throw new Error(\"Could not move to same index!\");\n      } else if (oldIndex < index) {\n        index--;\n      }\n\n      qx.lang.Array.removeAt(parent.__children, oldIndex);\n      qx.lang.Array.insertAt(parent.__children, this, index);\n\n      return this;\n    },\n\n\n    /**\n     * Move self before the given (related) child.\n     *\n     * @param rel {qx.html.Element} the related child\n     * @return {qx.html.Element} this object (for chaining support)\n     */\n    moveBefore : function(rel)\n    {\n      var parent = this.__parent;\n      return this.moveTo(parent.__children.indexOf(rel));\n    },\n\n\n    /**\n     * Move self after the given (related) child.\n     *\n     * @param rel {qx.html.Element} the related child\n     * @return {qx.html.Element} this object (for chaining support)\n     */\n    moveAfter : function(rel)\n    {\n      var parent = this.__parent;\n      return this.moveTo(parent.__children.indexOf(rel) + 1);\n    },\n\n\n    /**\n     * Remove self from the current parent.\n     *\n     * @return {qx.html.Element} this object (for chaining support)\n     */\n    free : function()\n    {\n      var parent = this.__parent;\n      if (!parent) {\n        throw new Error(\"Has no parent to remove from.\");\n      }\n\n      if (!parent.__children) {\n        return this;\n      }\n\n      parent.__removeChildHelper(this);\n      qx.lang.Array.remove(parent.__children, this);\n\n      return this;\n    },\n\n\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      DOM ELEMENT ACCESS\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Returns the DOM element (if created). Please use this with caution.\n     * It is better to make all changes to the object itself using the public\n     * API rather than to the underlying DOM element.\n     *\n     * @return {Element|null} The DOM element node, if available.\n     */\n    getDomElement : function() {\n      return this.__element || null;\n    },\n\n\n    /**\n     * Returns the nodeName of the DOM element.\n     *\n     * @return {String} The node name\n     */\n    getNodeName : function() {\n      return this.__nodeName;\n    },\n\n    /**\n     * Sets the nodeName of the DOM element.\n     *\n     * @param name {String} The node name\n     */\n    setNodeName : function(name) {\n      this.__nodeName = name;\n    },\n\n    /**\n     * Sets the element's root flag, which indicates\n     * whether the element should be a root element or not.\n     * @param root {Boolean} The root flag.\n     */\n    setRoot : function(root) {\n      this.__root = root;\n    },\n\n    /**\n     * Uses existing markup for this element. This is mainly used\n     * to insert pre-built markup blocks into the element hierarchy.\n     *\n     * @param html {String} HTML markup with one root element\n     *   which is used as the main element for this instance.\n     * @return {Element} The created DOM element\n     */\n    useMarkup : function(html)\n    {\n      if (this.__element) {\n        throw new Error(\"Could not overwrite existing element!\");\n      }\n\n      // Prepare extraction\n      // We have a IE specific issue with \"Unknown error\" messages\n      // when we try to use the same DOM node again. I am not sure\n      // why this happens. Would be a good performance improvement,\n      // but does not seem to work.\n      if (qx.core.Environment.get(\"engine.name\") == \"mshtml\") {\n        var helper = document.createElement(\"div\");\n      } else {\n        var helper = qx.dom.Element.getHelperElement();\n      }\n\n      // Extract first element\n      helper.innerHTML = html;\n      this.useElement(helper.firstChild);\n\n      return this.__element;\n    },\n\n\n    /**\n     * Uses an existing element instead of creating one. This may be interesting\n     * when the DOM element is directly needed to add content etc.\n     *\n     * @param elem {Element} Element to reuse\n     */\n    useElement : function(elem)\n    {\n      if (this.__element) {\n        throw new Error(\"Could not overwrite existing element!\");\n      }\n\n      // Use incoming element\n      this.__connectDomElement(elem);\n\n      // Copy currently existing data over to element\n      this._copyData(true);\n    },\n\n\n    /**\n     * Whether the element is focusable (or will be when created)\n     *\n     * @return {Boolean} <code>true</code> when the element is focusable.\n     */\n    isFocusable : function()\n    {\n      var tabIndex = this.getAttribute(\"tabIndex\");\n      if (tabIndex >= 1) {\n        return true;\n      }\n\n      var focusable = qx.event.handler.Focus.FOCUSABLE_ELEMENTS;\n      if (tabIndex >= 0 && focusable[this.__nodeName]) {\n        return true;\n      }\n\n      return false;\n    },\n\n\n    /**\n     * Set whether the element is selectable. It uses the qooxdoo attribute\n     * qxSelectable with the values 'on' or 'off'.\n     * In webkit, a special css property will be used (-webkit-user-select).\n     *\n     * @param value {Boolean} True, if the element should be selectable.\n     */\n    setSelectable : function(value)\n    {\n      this.setAttribute(\"qxSelectable\", value ? \"on\" : \"off\");\n      var userSelect = qx.core.Environment.get(\"css.userselect\");\n      if (userSelect) {\n        this.setStyle(userSelect, value ? \"text\" :\n          qx.core.Environment.get(\"css.userselect.none\"));\n      }\n    },\n\n\n    /**\n     * Whether the element is natively focusable (or will be when created)\n     *\n     * This ignores the configured tabIndex.\n     *\n     * @return {Boolean} <code>true</code> when the element is focusable.\n     */\n    isNativelyFocusable : function() {\n      return !!qx.event.handler.Focus.FOCUSABLE_ELEMENTS[this.__nodeName];\n    },\n\n\n\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      EXCLUDE SUPPORT\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Marks the element as included which means it will be moved into\n     * the DOM again and synced with the internal data representation.\n     *\n     * @return {qx.html.Element} this object (for chaining support)\n     */\n    include : function()\n    {\n      if (this.__included) {\n        return this;\n      }\n\n      delete this.__included;\n\n      if (this.__parent) {\n        this.__parent._scheduleChildrenUpdate();\n      }\n\n      return this;\n    },\n\n\n    /**\n     * Marks the element as excluded which means it will be removed\n     * from the DOM and ignored for updates until it gets included again.\n     *\n     * @return {qx.html.Element} this object (for chaining support)\n     */\n    exclude : function()\n    {\n      if (!this.__included) {\n        return this;\n      }\n\n      this.__included = false;\n\n      if (this.__parent) {\n        this.__parent._scheduleChildrenUpdate();\n      }\n\n      return this;\n    },\n\n\n    /**\n     * Whether the element is part of the DOM\n     *\n     * @return {Boolean} Whether the element is part of the DOM.\n     */\n    isIncluded : function() {\n      return this.__included === true;\n    },\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      ANIMATION SUPPORT\n    ---------------------------------------------------------------------------\n    */\n    /**\n     * Fades in the element.\n     * @param duration {Number} Time in ms.\n     * @return {qx.bom.element.AnimationHandle} The animation handle to react for\n     *   the fade animation.\n     */\n    fadeIn : function(duration) {\n      var col = qxWeb(this.__element);\n      if (col.isPlaying()) {\n        col.stop();\n      }\n      // create the element right away\n      if (!this.__element) {\n        this.__flush();\n        col.push(this.__element);\n      }\n      if (this.__element) {\n        col.fadeIn(duration).once(\"animationEnd\", function() {\n          this.show();\n          qx.html.Element.flush();\n        }, this);\n        return col.getAnimationHandles()[0];\n      }\n    },\n\n\n    /**\n     * Fades out the element.\n     * @param duration {Number} Time in ms.\n     * @return {qx.bom.element.AnimationHandle} The animation handle to react for\n     *   the fade animation.\n     */\n    fadeOut : function(duration) {\n      var col = qxWeb(this.__element);\n      if (col.isPlaying()) {\n        col.stop();\n      }\n\n      if (this.__element) {\n        col.fadeOut(duration).once(\"animationEnd\", function() {\n          this.hide();\n          qx.html.Element.flush();\n        }, this);\n        return col.getAnimationHandles()[0];\n      }\n    },\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      VISIBILITY SUPPORT\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Marks the element as visible which means that a previously applied\n     * CSS style of display=none gets removed and the element will inserted\n     * into the DOM, when this had not already happened before.\n     *\n     * @return {qx.html.Element} this object (for chaining support)\n     */\n    show : function()\n    {\n      if (this.__visible) {\n        return this;\n      }\n\n      if (this.__element)\n      {\n        qx.html.Element._visibility[this.toHashCode()] = this;\n        qx.html.Element._scheduleFlush(\"element\");\n      }\n\n      // Must be sure that the element gets included into the DOM.\n      if (this.__parent) {\n        this.__parent._scheduleChildrenUpdate();\n      }\n\n      delete this.__visible;\n      return this;\n    },\n\n\n    /**\n     * Marks the element as hidden which means it will kept in DOM (if it\n     * is already there, but configured hidden using a CSS style of display=none).\n     *\n     * @return {qx.html.Element} this object (for chaining support)\n     */\n    hide : function()\n    {\n      if (!this.__visible) {\n        return this;\n      }\n\n      if (this.__element)\n      {\n        qx.html.Element._visibility[this.toHashCode()] = this;\n        qx.html.Element._scheduleFlush(\"element\");\n      }\n\n      this.__visible = false;\n      return this;\n    },\n\n\n    /**\n     * Whether the element is visible.\n     *\n     * Please note: This does not control the visibility or parent inclusion recursively.\n     *\n     * @return {Boolean} Returns <code>true</code> when the element is configured\n     *   to be visible.\n     */\n    isVisible : function() {\n      return this.__visible === true;\n    },\n\n\n\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      SCROLL SUPPORT\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Scrolls the given child element into view. Only scrolls children.\n     * Do not influence elements on top of this element.\n     *\n     * If the element is currently invisible it gets scrolled automatically\n     * at the next time it is visible again (queued).\n     *\n     * @param elem {qx.html.Element} The element to scroll into the viewport.\n     * @param align {String?null} Alignment of the element. Allowed values:\n     *   <code>left</code> or <code>right</code>. Could also be null.\n     *   Without a given alignment the method tries to scroll the widget\n     *   with the minimum effort needed.\n     * @param direct {Boolean?true} Whether the execution should be made\n     *   directly when possible\n     */\n    scrollChildIntoViewX : function(elem, align, direct)\n    {\n      var thisEl = this.__element;\n      var childEl = elem.getDomElement();\n\n      if (direct !== false && thisEl && thisEl.offsetWidth && childEl && childEl.offsetWidth)\n      {\n        qx.bom.element.Scroll.intoViewX(childEl, thisEl, align);\n      }\n      else\n      {\n        this.__lazyScrollIntoViewX =\n        {\n          element : elem,\n          align : align\n        };\n\n        qx.html.Element._scroll[this.toHashCode()] = this;\n        qx.html.Element._scheduleFlush(\"element\");\n      }\n\n      delete this.__lazyScrollX;\n    },\n\n\n    /**\n     * Scrolls the given child element into view. Only scrolls children.\n     * Do not influence elements on top of this element.\n     *\n     * If the element is currently invisible it gets scrolled automatically\n     * at the next time it is visible again (queued).\n     *\n     * @param elem {qx.html.Element} The element to scroll into the viewport.\n     * @param align {String?null} Alignment of the element. Allowed values:\n     *   <code>top</code> or <code>bottom</code>. Could also be null.\n     *   Without a given alignment the method tries to scroll the widget\n     *   with the minimum effort needed.\n     * @param direct {Boolean?true} Whether the execution should be made\n     *   directly when possible\n     */\n    scrollChildIntoViewY : function(elem, align, direct)\n    {\n      var thisEl = this.__element;\n      var childEl = elem.getDomElement();\n\n      if (direct !== false && thisEl && thisEl.offsetWidth && childEl && childEl.offsetWidth)\n      {\n        qx.bom.element.Scroll.intoViewY(childEl, thisEl, align);\n      }\n      else\n      {\n        this.__lazyScrollIntoViewY =\n        {\n          element : elem,\n          align : align\n        };\n\n        qx.html.Element._scroll[this.toHashCode()] = this;\n        qx.html.Element._scheduleFlush(\"element\");\n      }\n\n      delete this.__lazyScrollY;\n    },\n\n\n    /**\n     * Scrolls the element to the given left position.\n     *\n     * @param x {Integer} Horizontal scroll position\n     * @param lazy {Boolean?false} Whether the scrolling should be performed\n     *    during element flush.\n     */\n    scrollToX : function(x, lazy)\n    {\n      var thisEl = this.__element;\n      if (lazy !== true && thisEl && thisEl.offsetWidth)\n      {\n        thisEl.scrollLeft = x;\n        delete this.__lazyScrollX;\n      }\n      else\n      {\n        this.__lazyScrollX = x;\n        qx.html.Element._scroll[this.toHashCode()] = this;\n        qx.html.Element._scheduleFlush(\"element\");\n      }\n\n      delete this.__lazyScrollIntoViewX;\n    },\n\n\n    /**\n     * Get the horizontal scroll position.\n     *\n     * @return {Integer} Horizontal scroll position\n     */\n    getScrollX : function()\n    {\n      var thisEl = this.__element;\n      if (thisEl) {\n        return thisEl.scrollLeft;\n      }\n\n      return this.__lazyScrollX || 0;\n    },\n\n\n    /**\n     * Scrolls the element to the given top position.\n     *\n     * @param y {Integer} Vertical scroll position\n     * @param lazy {Boolean?false} Whether the scrolling should be performed\n     *    during element flush.\n     */\n    scrollToY : function(y, lazy)\n    {\n      var thisEl = this.__element;\n      if (lazy !== true && thisEl && thisEl.offsetWidth)\n      {\n        thisEl.scrollTop = y;\n        delete this.__lazyScrollY;\n      }\n      else\n      {\n        this.__lazyScrollY = y;\n        qx.html.Element._scroll[this.toHashCode()] = this;\n        qx.html.Element._scheduleFlush(\"element\");\n      }\n\n      delete this.__lazyScrollIntoViewY;\n    },\n\n\n    /**\n     * Get the vertical scroll position.\n     *\n     * @return {Integer} Vertical scroll position\n     */\n    getScrollY : function()\n    {\n      var thisEl = this.__element;\n      if (thisEl) {\n        return thisEl.scrollTop;\n      }\n\n      return this.__lazyScrollY || 0;\n    },\n\n\n    /**\n     * Disables browser-native scrolling\n     */\n    disableScrolling : function()\n    {\n      this.enableScrolling();\n      this.scrollToX(0);\n      this.scrollToY(0);\n      this.addListener(\"scroll\", this.__onScroll, this);\n    },\n\n\n    /**\n     * Re-enables browser-native scrolling\n     */\n    enableScrolling : function() {\n      this.removeListener(\"scroll\", this.__onScroll, this);\n    },\n\n\n    __inScroll : null,\n\n    /**\n     * Handler for the scroll-event\n     *\n     * @param e {qx.event.type.Native} scroll-event\n     */\n    __onScroll : function(e)\n    {\n      if (!this.__inScroll)\n      {\n        this.__inScroll = true;\n        this.__element.scrollTop = 0;\n        this.__element.scrollLeft = 0;\n        delete this.__inScroll;\n      }\n    },\n\n\n    /*\n    ---------------------------------------------------------------------------\n      TEXT SELECTION SUPPORT\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Get the selection of the element.\n     *\n     * If the underlaying DOM element is not yet created, this methods returns\n     * a null value.\n     *\n     * @return {String|null}\n     */\n    getTextSelection : function()\n    {\n      var el = this.__element;\n      if (el) {\n        return qx.bom.Selection.get(el);\n      }\n\n      return null;\n    },\n\n\n    /**\n     * Get the length of selection of the element.\n     *\n     * If the underlaying DOM element is not yet created, this methods returns\n     * a null value.\n     *\n     * @return {Integer|null}\n     */\n    getTextSelectionLength : function()\n    {\n      var el = this.__element;\n      if (el) {\n        return qx.bom.Selection.getLength(el);\n      }\n\n      return null;\n    },\n\n\n    /**\n     * Get the start of the selection of the element.\n     *\n     * If the underlaying DOM element is not yet created, this methods returns\n     * a null value.\n     *\n     * @return {Integer|null}\n     */\n    getTextSelectionStart : function()\n    {\n      var el = this.__element;\n      if (el) {\n        return qx.bom.Selection.getStart(el);\n      }\n\n      return null;\n    },\n\n\n    /**\n     * Get the end of the selection of the element.\n     *\n     * If the underlaying DOM element is not yet created, this methods returns\n     * a null value.\n     *\n     * @return {Integer|null}\n     */\n    getTextSelectionEnd : function()\n    {\n      var el = this.__element;\n      if (el) {\n        return qx.bom.Selection.getEnd(el);\n      }\n\n      return null;\n    },\n\n\n    /**\n     * Set the selection of the element with the given start and end value.\n     * If no end value is passed the selection will extend to the end.\n     *\n     * This method only works if the underlying DOM element is already created.\n     *\n     * @param start {Integer} start of the selection (zero based)\n     * @param end {Integer} end of the selection\n     */\n    setTextSelection : function(start, end)\n    {\n      var el = this.__element;\n      if (el) {\n        qx.bom.Selection.set(el, start, end);\n        return;\n      }\n\n      // if element not created, save the selection for flushing\n      qx.html.Element.__selection[this.toHashCode()] = {\n        element : this,\n        start : start,\n        end : end\n      };\n      qx.html.Element._scheduleFlush(\"element\");\n    },\n\n\n    /**\n     * Clears the selection of the element.\n     *\n     * This method only works if the underlying DOM element is already created.\n     *\n     */\n    clearTextSelection : function()\n    {\n      var el = this.__element;\n      if (el) {\n        qx.bom.Selection.clear(el);\n      }\n      delete qx.html.Element.__selection[this.toHashCode()];\n    },\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      FOCUS/ACTIVATE SUPPORT\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Takes the action to process as argument and queues this action if the\n     * underlying DOM element is not yet created.\n     *\n     * @param action {String} action to queue\n     * @param args {Array} optional list of arguments for the action\n     */\n    __performAction : function(action, args)\n    {\n      var actions = qx.html.Element._actions;\n\n      actions.push({\n        type: action,\n        element: this,\n        args: args || []\n      });\n      qx.html.Element._scheduleFlush(\"element\");\n    },\n\n\n    /**\n     * Focus this element.\n     *\n     * If the underlaying DOM element is not yet created, the\n     * focus is queued for processing after the element creation.\n     *\n     */\n    focus : function() {\n      this.__performAction(\"focus\");\n    },\n\n\n    /**\n     * Mark this element to get blurred on the next flush of the queue\n     *\n     */\n    blur : function() {\n      this.__performAction(\"blur\");\n    },\n\n\n    /**\n     * Mark this element to get activated on the next flush of the queue\n     *\n     */\n    activate : function() {\n      this.__performAction(\"activate\");\n    },\n\n\n    /**\n     * Mark this element to get deactivated on the next flush of the queue\n     *\n     */\n    deactivate : function() {\n      this.__performAction(\"deactivate\");\n    },\n\n\n    /**\n     * Captures all mouse events to this element\n     *\n     * @param containerCapture {Boolean?true} If true all events originating in\n     *   the container are captured. If false events originating in the container\n     *   are not captured.\n     */\n    capture : function(containerCapture) {\n      this.__performAction(\"capture\", [containerCapture !== false]);\n    },\n\n\n    /**\n     * Releases this element from a previous {@link #capture} call\n     */\n    releaseCapture : function() {\n      this.__performAction(\"releaseCapture\");\n    },\n\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      STYLE SUPPORT\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Set up the given style attribute\n     *\n     * @param key {String} the name of the style attribute\n     * @param value {var} the value\n     * @param direct {Boolean?false} Whether the value should be applied\n     *    directly (without queuing)\n     * @return {qx.html.Element} this object (for chaining support)\n     */\n    setStyle : function(key, value, direct)\n    {\n      if (!this.__styleValues) {\n        this.__styleValues = {};\n      }\n\n      if (this.__styleValues[key] == value) {\n        return this;\n      }\n\n      if (value == null) {\n        delete this.__styleValues[key];\n      } else {\n        this.__styleValues[key] = value;\n      }\n\n      // Uncreated elements simply copy all data\n      // on creation. We don't need to remember any\n      // jobs. It is a simple full list copy.\n      if (this.__element)\n      {\n        // Omit queuing in direct mode\n        if (direct)\n        {\n          qx.bom.element.Style.set(this.__element, key, value);\n          return this;\n        }\n\n        // Dynamically create if needed\n        if (!this.__styleJobs) {\n          this.__styleJobs = {};\n        }\n\n        // Store job info\n        this.__styleJobs[key] = true;\n\n        // Register modification\n        qx.html.Element._modified[this.toHashCode()] = this;\n        qx.html.Element._scheduleFlush(\"element\");\n      }\n\n      return this;\n    },\n\n\n    /**\n     * Convenience method to modify a set of styles at once.\n     *\n     * @param map {Map} a map where the key is the name of the property\n     *    and the value is the value to use.\n     * @param direct {Boolean?false} Whether the values should be applied\n     *    directly (without queuing)\n     * @return {qx.html.Element} this object (for chaining support)\n     */\n    setStyles : function(map, direct)\n    {\n      // inline calls to \"set\" because this method is very\n      // performance critical!\n\n      var Style = qx.bom.element.Style;\n\n      if (!this.__styleValues) {\n        this.__styleValues = {};\n      }\n\n      if (this.__element)\n      {\n        // Dynamically create if needed\n        if (!this.__styleJobs) {\n          this.__styleJobs = {};\n        }\n\n        for (var key in map)\n        {\n          var value = map[key];\n          if (this.__styleValues[key] == value) {\n            continue;\n          }\n\n          if (value == null) {\n            delete this.__styleValues[key];\n          } else {\n            this.__styleValues[key] = value;\n          }\n\n          // Omit queuing in direct mode\n          if (direct)\n          {\n            Style.set(this.__element, key, value);\n            continue;\n          }\n\n          // Store job info\n          this.__styleJobs[key] = true;\n        }\n\n        // Register modification\n        qx.html.Element._modified[this.toHashCode()] = this;\n        qx.html.Element._scheduleFlush(\"element\");\n      }\n      else\n      {\n        for (var key in map)\n        {\n          var value = map[key];\n          if (this.__styleValues[key] == value) {\n            continue;\n          }\n\n          if (value == null) {\n            delete this.__styleValues[key];\n          } else {\n            this.__styleValues[key] = value;\n          }\n        }\n      }\n\n      return this;\n    },\n\n\n    /**\n     * Removes the given style attribute\n     *\n     * @param key {String} the name of the style attribute\n     * @param direct {Boolean?false} Whether the value should be removed\n     *    directly (without queuing)\n     * @return {qx.html.Element} this object (for chaining support)\n     */\n    removeStyle : function(key, direct) {\n      this.setStyle(key, null, direct);\n      return this;\n    },\n\n\n    /**\n     * Get the value of the given style attribute.\n     *\n     * @param key {String} name of the style attribute\n     * @return {var} the value of the style attribute\n     */\n    getStyle : function(key) {\n      return this.__styleValues ? this.__styleValues[key] : null;\n    },\n\n\n    /**\n     * Returns a map of all styles. Do not modify the result map!\n     *\n     * @return {Map} All styles or <code>null</code> when none are configured.\n     */\n    getAllStyles : function() {\n      return this.__styleValues || null;\n    },\n\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      ATTRIBUTE SUPPORT\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Set up the given attribute\n     *\n     * @param key {String} the name of the attribute\n     * @param value {var} the value\n     * @param direct {Boolean?false} Whether the value should be applied\n     *    directly (without queuing)\n     * @return {qx.html.Element} this object (for chaining support)\n     */\n    setAttribute : function(key, value, direct)\n    {\n      if (!this.__attribValues) {\n        this.__attribValues = {};\n      }\n\n      if (this.__attribValues[key] == value) {\n        return this;\n      }\n\n      if (value == null) {\n        delete this.__attribValues[key];\n      } else {\n        this.__attribValues[key] = value;\n      }\n\n      // Uncreated elements simply copy all data\n      // on creation. We don't need to remember any\n      // jobs. It is a simple full list copy.\n      if (this.__element)\n      {\n        // Omit queuing in direct mode\n        if (direct)\n        {\n          qx.bom.element.Attribute.set(this.__element, key, value);\n          return this;\n        }\n\n        // Dynamically create if needed\n        if (!this.__attribJobs) {\n          this.__attribJobs = {};\n        }\n\n        // Store job info\n        this.__attribJobs[key] = true;\n\n        // Register modification\n        qx.html.Element._modified[this.toHashCode()] = this;\n        qx.html.Element._scheduleFlush(\"element\");\n      }\n\n      return this;\n    },\n\n\n    /**\n     * Convenience method to modify a set of attributes at once.\n     *\n     * @param map {Map} a map where the key is the name of the property\n     *    and the value is the value to use.\n     * @param direct {Boolean?false} Whether the values should be applied\n     *    directly (without queuing)\n     * @return {qx.html.Element} this object (for chaining support)\n     */\n    setAttributes : function(map, direct)\n    {\n      for (var key in map) {\n        this.setAttribute(key, map[key], direct);\n      }\n\n      return this;\n    },\n\n\n    /**\n     * Removes the given attribute\n     *\n     * @param key {String} the name of the attribute\n     * @param direct {Boolean?false} Whether the value should be removed\n     *    directly (without queuing)\n     * @return {qx.html.Element} this object (for chaining support)\n     */\n    removeAttribute : function(key, direct) {\n      return this.setAttribute(key, null, direct);\n    },\n\n\n    /**\n     * Get the value of the given attribute.\n     *\n     * @param key {String} name of the attribute\n     * @return {var} the value of the attribute\n     */\n    getAttribute : function(key) {\n      return this.__attribValues ? this.__attribValues[key] : null;\n    },\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      CSS CLASS SUPPORT\n    ---------------------------------------------------------------------------\n    */\n    /**\n     * Adds a css class to the element.\n     * @param name {String} Name of the CSS class.\n     */\n    addClass : function(name) {\n      var value = ((this.getAttribute(\"class\") || \"\") + \" \" + name).trim();\n      this.setAttribute(\"class\", value);\n    },\n\n\n    /**\n     * Removes a CSS class from the current element.\n     * @param name {String} Name of the CSS class.\n     */\n    removeClass : function(name) {\n      var currentClass = this.getAttribute(\"class\");\n      if (currentClass) {\n        this.setAttribute(\"class\", (currentClass.replace(name, \"\")).trim());\n      }\n    },\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      PROPERTY SUPPORT\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Applies a special property with the given value.\n     *\n     * This property apply routine can be easily overwritten and\n     * extended by sub classes to add new low level features which\n     * are not easily possible using styles and attributes.\n     *\n     * @param name {String} Unique property identifier\n     * @param value {var} Any valid value (depends on the property)\n     * @return {qx.html.Element} this object (for chaining support)\n     * @abstract\n     */\n    _applyProperty : function(name, value) {\n      // empty implementation\n    },\n\n\n    /**\n     * Set up the given property.\n     *\n     * @param key {String} the name of the property\n     * @param value {var} the value\n     * @param direct {Boolean?false} Whether the value should be applied\n     *    directly (without queuing)\n     * @return {qx.html.Element} this object (for chaining support)\n     */\n    _setProperty : function(key, value, direct)\n    {\n      if (!this.__propertyValues) {\n        this.__propertyValues = {};\n      }\n\n      if (this.__propertyValues[key] == value) {\n        return this;\n      }\n\n      if (value == null) {\n        delete this.__propertyValues[key];\n      } else {\n        this.__propertyValues[key] = value;\n      }\n\n      // Uncreated elements simply copy all data\n      // on creation. We don't need to remember any\n      // jobs. It is a simple full list copy.\n      if (this.__element)\n      {\n        // Omit queuing in direct mode\n        if (direct)\n        {\n          this._applyProperty(key, value);\n          return this;\n        }\n\n        // Dynamically create if needed\n        if (!this.__propertyJobs) {\n          this.__propertyJobs = {};\n        }\n\n        // Store job info\n        this.__propertyJobs[key] = true;\n\n        // Register modification\n        qx.html.Element._modified[this.toHashCode()] = this;\n        qx.html.Element._scheduleFlush(\"element\");\n      }\n\n      return this;\n    },\n\n\n    /**\n     * Removes the given misc\n     *\n     * @param key {String} the name of the misc\n     * @param direct {Boolean?false} Whether the value should be removed\n     *    directly (without queuing)\n     * @return {qx.html.Element} this object (for chaining support)\n     */\n    _removeProperty : function(key, direct) {\n      return this._setProperty(key, null, direct);\n    },\n\n\n    /**\n     * Get the value of the given misc.\n     *\n     * @param key {String} name of the misc\n     * @return {var} the value of the misc\n     */\n    _getProperty : function(key)\n    {\n      var db = this.__propertyValues;\n      if (!db) {\n        return null;\n      }\n\n      var value = db[key];\n      return value == null ? null : value;\n    },\n\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      EVENT SUPPORT\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Adds an event listener to the element.\n     *\n     * @param type {String} Name of the event\n     * @param listener {Function} Function to execute on event\n     * @param self {Object ? null} Reference to the 'this' variable inside\n     *         the event listener. When not given, the corresponding dispatcher\n     *         usually falls back to a default, which is the target\n     *         by convention. Note this is not a strict requirement, i.e.\n     *         custom dispatchers can follow a different strategy.\n     * @param capture {Boolean ? false} Whether capturing should be enabled\n     * @return {var} An opaque id, which can be used to remove the event listener\n     *         using the {@link #removeListenerById} method.\n     */\n    addListener : function(type, listener, self, capture)\n    {\n      if (this.$$disposed) {\n        return null;\n      }\n\n      if (qx.core.Environment.get(\"qx.debug\"))\n      {\n        var msg = \"Failed to add event listener for type '\" + type + \"'\" +\n          \" to the target '\" + this + \"': \";\n\n        this.assertString(type, msg + \"Invalid event type.\");\n        this.assertFunction(listener, msg + \"Invalid callback function\");\n\n        if (self !== undefined) {\n          this.assertObject(self, \"Invalid context for callback.\");\n        }\n\n        if (capture !== undefined) {\n          this.assertBoolean(capture, \"Invalid capture flag.\");\n        }\n      }\n\n      if (this.__element) {\n        return qx.event.Registration.addListener(this.__element, type, listener, self, capture);\n      }\n\n      if (!this.__eventValues) {\n        this.__eventValues = {};\n      }\n\n      if (capture == null) {\n        capture = false;\n      }\n\n      var unique = qx.event.Manager.getNextUniqueId();\n      var id = type + (capture ? \"|capture|\" : \"|bubble|\") + unique;\n\n      this.__eventValues[id] =\n      {\n        type : type,\n        listener : listener,\n        self : self,\n        capture : capture,\n        unique : unique\n      };\n\n      return id;\n    },\n\n\n    /**\n     * Removes an event listener from the element.\n     *\n     * @param type {String} Name of the event\n     * @param listener {Function} Function to execute on event\n     * @param self {Object} Execution context of given function\n     * @param capture {Boolean ? false} Whether capturing should be enabled\n     * @return {qx.html.Element} this object (for chaining support)\n     */\n    removeListener : function(type, listener, self, capture)\n    {\n      if (this.$$disposed) {\n        return null;\n      }\n\n      if (qx.core.Environment.get(\"qx.debug\"))\n      {\n        var msg = \"Failed to remove event listener for type '\" + type + \"'\" +\n          \" from the target '\" + this + \"': \";\n\n        this.assertString(type, msg + \"Invalid event type.\");\n        this.assertFunction(listener, msg + \"Invalid callback function\");\n\n        if (self !== undefined) {\n          this.assertObject(self, \"Invalid context for callback.\");\n        }\n\n        if (capture !== undefined) {\n          this.assertBoolean(capture, \"Invalid capture flag.\");\n        }\n      }\n\n      if (this.__element)\n      {\n        if (listener.$$wrapped_callback && listener.$$wrapped_callback[type + this.toHashCode()]) {\n          var callback = listener.$$wrapped_callback[type + this.toHashCode()];\n          delete listener.$$wrapped_callback[type + this.toHashCode()];\n          listener = callback;\n        }\n        qx.event.Registration.removeListener(this.__element, type, listener, self, capture);\n      }\n      else\n      {\n        var values = this.__eventValues;\n        var entry;\n\n        if (capture == null) {\n          capture = false;\n        }\n\n        for (var key in values)\n        {\n          entry = values[key];\n\n          // Optimized for performance: Testing references first\n          if (entry.listener === listener && entry.self === self && entry.capture === capture && entry.type === type)\n          {\n            delete values[key];\n            break;\n          }\n        }\n      }\n\n      return this;\n    },\n\n\n    /**\n     * Removes an event listener from an event target by an id returned by\n     * {@link #addListener}\n     *\n     * @param id {var} The id returned by {@link #addListener}\n     * @return {qx.html.Element} this object (for chaining support)\n     */\n    removeListenerById : function(id)\n    {\n      if (this.$$disposed) {\n        return null;\n      }\n\n      if (this.__element) {\n        qx.event.Registration.removeListenerById(this.__element, id);\n      } else {\n        delete this.__eventValues[id];\n      }\n\n      return this;\n    },\n\n\n    /**\n     * Check if there are one or more listeners for an event type.\n     *\n     * @param type {String} name of the event type\n     * @param capture {Boolean ? false} Whether to check for listeners of\n     *         the bubbling or of the capturing phase.\n     * @return {Boolean} Whether the object has a listener of the given type.\n     */\n    hasListener : function(type, capture)\n    {\n      if (this.$$disposed) {\n        return false;\n      }\n\n      if (this.__element) {\n        return qx.event.Registration.hasListener(this.__element, type, capture);\n      }\n\n      var values = this.__eventValues;\n      var entry;\n\n      if (capture == null) {\n        capture = false;\n      }\n\n      for (var key in values)\n      {\n        entry = values[key];\n\n        // Optimized for performance: Testing fast types first\n        if (entry.capture === capture && entry.type === type) {\n          return true;\n        }\n      }\n\n      return false;\n    },\n\n\n    /**\n     * Serializes and returns all event listeners attached to this element\n     * @return {Map[]} an Array containing a map for each listener. The maps\n     * have the following keys:\n     * <ul>\n     *   <li><code>type</code> (String): Event name</li>\n     *   <li><code>handler</code> (Function): Callback function</li>\n     *   <li><code>self</code> (Object): The callback's context</li>\n     *   <li><code>capture</code> (Boolean): If <code>true</code>, the listener is\n     * attached to the capturing phase</li>\n     * </ul>\n     */\n    getListeners : function() {\n      if (this.$$disposed) {\n        return null;\n      }\n\n      if (this.__element) {\n        return qx.event.Registration.getManager(this.__element).serializeListeners(this.__element);\n      }\n\n      var listeners = [];\n      for (var id in this.__eventValues) {\n        var listenerData = this.__eventValues[id];\n        listeners.push({\n          type: listenerData.type,\n          handler: listenerData.listener,\n          self: listenerData.self,\n          capture: listenerData.capture\n        });\n      }\n\n      return listeners;\n    }\n  },\n\n\n\n\n\n  /*\n  *****************************************************************************\n     DEFER\n  *****************************************************************************\n  */\n\n  defer : function(statics) {\n    statics.__deferredCall = new qx.util.DeferredCall(statics.flush, statics);\n  },\n\n\n\n\n\n  /*\n  *****************************************************************************\n     DESTRUCT\n  *****************************************************************************\n  */\n\n  destruct : function()\n  {\n    if (this.toHashCode()) {\n      delete qx.html.Element._modified[this.toHashCode()];\n      delete qx.html.Element._scroll[this.toHashCode()];\n    }\n\n    var el = this.__element;\n    if (el)\n    {\n      qx.event.Registration.getManager(el).removeAllListeners(el);\n      el.$$element = \"\";\n      delete el.$$elementObject;\n      el.$$widget = \"\";\n      delete el.$$widgetObject;\n    }\n\n    if (!qx.core.ObjectRegistry.inShutDown)\n    {\n      var parent = this.__parent;\n      if (parent && !parent.$$disposed) {\n        parent.remove(this);\n      }\n    }\n\n    this._disposeArray(\"__children\");\n\n    this.__attribValues = this.__styleValues = this.__eventValues =\n      this.__propertyValues = this.__attribJobs = this.__styleJobs =\n      this.__propertyJobs = this.__element = this.__parent =\n      this.__lazyScrollIntoViewX = this.__lazyScrollIntoViewY = null;\n  }\n});\n"
  ]
}