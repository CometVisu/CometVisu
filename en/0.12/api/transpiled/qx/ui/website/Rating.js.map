{
  "version": 3,
  "sources": [
    "/home/runner/work/CometVisu/CometVisu/node_modules/@qooxdoo/framework/source/class/qx/ui/website/Rating.js"
  ],
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "define",
    "extend",
    "ui",
    "website",
    "Widget",
    "statics",
    "_config",
    "length",
    "symbol",
    "rating",
    "initValue",
    "Rating",
    "init",
    "modified",
    "undefined",
    "getConfig",
    "setConfig",
    "render",
    "setValue",
    "construct",
    "selector",
    "context",
    "events",
    "members",
    "_updateSymbolLength",
    "cssPrefix",
    "getCssPrefix",
    "getAttribute",
    "setAttribute",
    "on",
    "_onFocus",
    "_onBlur",
    "getChildren",
    "addClasses",
    "_onTap",
    "value",
    "getValue",
    "children",
    "removeClass",
    "slice",
    "addClass",
    "emit",
    "not",
    "setHtml",
    "diff",
    "i",
    "qxWeb",
    "create",
    "appendTo",
    "Math",
    "abs",
    "getLast",
    "off",
    "remove",
    "e",
    "parents",
    "getTarget",
    "getParents",
    "indexOf",
    "document",
    "documentElement",
    "_onKeyDown",
    "key",
    "getKeyIdentifier",
    "dispose",
    "defer",
    "$attach"
  ],
  "mappings": "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",
  "sourcesContent": [
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2013 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Martin Wittemann (wittemann)\n     * Daniel Wagner (danielwagner)\n\n************************************************************************ */\n/**\n * This is a simple rating widget which can be used to display a predefined\n * number of symbols which the user can click or tap to give a rating e.g.\n * 3 out of 5 stars.\n *\n * <h2>Markup</h2>\n * Each rating item is a span element. Span elements already existing within\n * the Rating's container will be used, otherwise new elements will be added or\n * removed according to the <code>length</code> config option.\n *\n * <h2>CSS Classes</h2>\n * <table>\n *   <thead>\n *     <tr>\n *       <td>Class Name</td>\n *       <td>Applied to</td>\n *       <td>Description</td>\n *     </tr>\n *   </thead>\n *   <tbody>\n *     <tr>\n *       <td><code>qx-rating</code></td>\n *       <td>Container element</td>\n *       <td>Identifies the Rating widget</td>\n *     </tr>\n *     <tr>\n *       <td><code>qx-rating-item</code></td>\n *       <td>Rating item (span)</td>\n *       <td>Identifies and styles an active Rating item</td>\n *     </tr>\n *     <tr>\n *       <td><code>qx-rating-item-off</code></td>\n *       <td>Rating item (span)</td>\n *       <td>Identifies and styles an inactive Rating item. Applied in addition to <code>qx-rating-item</code></td>\n *     </tr>\n *   </tbody>\n * </table>\n *\n * <h2 class=\"widget-markup\">Generated DOM Structure</h2>\n *\n * @group (Widget)\n */\nqx.Bootstrap.define(\"qx.ui.website.Rating\", {\n  extend : qx.ui.website.Widget,\n\n\n  statics : {\n    /**\n     * *length*\n     *\n     * The length of the rating widget.\n     *\n     * Default value: <pre>5</pre>\n     *\n     *\n     * *symbol*\n     *\n     * The symbol used to render the rating items. This can be any\n     * String e.g. a UTF-8 character.\n     *\n     * Default value: <pre>★</pre>\n     */\n    _config : {\n      length : 5,\n      symbol : \"★\"\n    },\n\n\n    /**\n     * Factory method which converts the current collection into a collection of\n     * rating widgets. Therefore, an initialization process needs to be done which\n     * can be configured with some parameter.\n     *\n     * @param initValue {Number?0} The initial value of the rating.\n     * @param symbol {String?\"★\"} The symbol which should be used for each rating item.\n     * @param length {Number?5} The length of the rating widget.\n     * @return {qx.ui.website.Rating} A new rating collection.\n     * @attach {qxWeb}\n     */\n    rating : function(initValue, symbol, length) {\n      var rating =  new qx.ui.website.Rating(this);\n      rating.init();\n\n      var modified = false;\n      if (length != undefined && length != rating.getConfig(\"length\")) {\n        rating.setConfig(\"length\", length);\n        modified = true;\n      }\n\n      if (symbol != undefined) {\n        rating.setConfig(\"symbol\", symbol);\n        modified = true;\n      }\n\n      if (modified) {\n        rating.render();\n      }\n\n      if (initValue != undefined) {\n        rating.setValue(initValue);\n      }\n\n      return rating;\n    }\n  },\n\n\n  construct : function(selector, context) {\n    this.base(arguments, selector, context);\n  },\n\n\n  events : {\n    /** Fired at each value change */\n    \"changeValue\" : \"Number\"\n  },\n\n\n  members : {\n\n    // overridden\n    init : function() {\n      if (!this.base(arguments)) {\n        return false;\n      }\n\n      this._updateSymbolLength();\n      var cssPrefix = this.getCssPrefix();\n\n      if (this.getAttribute(\"tabindex\") < 0) {\n        this.setAttribute(\"tabindex\", 0);\n      }\n      this.on(\"focus\", this._onFocus, this)\n      .on(\"blur\", this._onBlur, this)\n      .getChildren(\"span\")\n        .addClasses([cssPrefix + \"-item\", cssPrefix + \"-item-off\"])\n        .on(\"tap\", this._onTap, this);\n\n      return true;\n    },\n\n\n    /**\n     * Sets the given value of the raining widget's in the collection. The value will be\n     * converted to the maximum or minimum if our of range.\n     *\n     * @param value {Number} The value of the rating.\n     * @return {qx.ui.website.Rating} <code>this</code> reference for chaining.\n     */\n    setValue : function(value) {\n      if (this.getValue() == value) {\n        return this;\n      }\n      if (value < 0) {\n        value = 0;\n      }\n      var cssPrefix = this.getCssPrefix();\n\n      var children = this.getChildren(\"span\");\n      children.removeClass(cssPrefix + \"-item-off\");\n      children.slice(value, children.length).addClass(cssPrefix + \"-item-off\");\n      this.emit(\"changeValue\", this.getValue());\n      return this;\n    },\n\n\n    /**\n     * Reads the current value of the first rating widget in the collection\n     * from the DOM and returns it.\n     *\n     * @return {Number} The current value.\n     */\n    getValue : function() {\n      var cssPrefix = this.getCssPrefix();\n      return this.getChildren(\"span\").not(\".\" + cssPrefix + \"-item-off\").length;\n    },\n\n\n    // overridden\n    render : function() {\n      this._updateSymbolLength();\n    },\n\n\n    /**\n     * Checks the set length and adds / removes spans containing the rating symbol.\n     *\n     * @return {qx.ui.website.Rating} <code>this</code> reference for chaining.\n     */\n    _updateSymbolLength : function() {\n      var cssPrefix = this.getCssPrefix();\n      var length = this.getConfig(\"length\");\n\n      var children = this.getChildren();\n      children.setHtml(this.getConfig(\"symbol\"));\n      var diff = length - children.length;\n      if (diff > 0) {\n        for (var i = 0; i < diff; i++) {\n          qxWeb.create(\"<span>\" + this.getConfig(\"symbol\") + \"</span>\")\n          .on(\"tap\", this._onTap, this)\n          .addClasses([cssPrefix + \"-item\", cssPrefix + \"-item-off\"])\n          .appendTo(this);\n        }\n      } else {\n        for (var i = 0; i < Math.abs(diff); i++) {\n          this.getChildren().getLast()\n          .off(\"tap\", this._onTap, this)\n          .remove();\n        }\n      }\n\n      return this;\n    },\n\n\n    /**\n     * Tap handler which updates the value depending on the selected element.\n     *\n     * @param e {Event} tap event\n     */\n    _onTap : function(e) {\n      var parents = qxWeb(e.getTarget()).getParents();\n      this.setValue(parents.getChildren().indexOf(e.getTarget()) + 1);\n    },\n\n\n    /**\n     * Attaches the keydown listener.\n     * @param e {Event} The native focus event.\n     */\n    _onFocus : function(e) {\n      qxWeb(document.documentElement).on(\"keydown\", this._onKeyDown, this);\n    },\n\n\n    /**\n     * Removes the keydown listener if the widget loses focus.\n     *\n     * @param e {Event} The native blur event.\n     */\n    _onBlur : function(e) {\n      qxWeb(document.documentElement).off(\"keydown\", this._onKeyDown, this);\n    },\n\n\n    /**\n     * Changes the value if the left or right arrow key is pressed.\n     *\n     * @param e {Event} The native keydown event.\n     */\n    _onKeyDown : function(e) {\n      var key = e.getKeyIdentifier();\n      if (key === \"Right\") {\n        this.setValue(this.getValue() + 1);\n      } else if (key === \"Left\") {\n        this.setValue(this.getValue() - 1);\n      }\n    },\n\n\n    // overridden\n    dispose : function() {\n      qxWeb(document.documentElement).off(\"keydown\", this._onKeyDown, this);\n      this.off(\"focus\", this._onFocus, this)\n      .off(\"blur\", this._onBlur, this);\n      this.getChildren(\"span\").off(\"tap\", this._onTap, this);\n      this.setHtml(\"\");\n\n      return this.base(arguments);\n    }\n  },\n\n\n  defer : function(statics) {\n    qxWeb.$attach({rating : statics.rating});\n  }\n});\n"
  ]
}