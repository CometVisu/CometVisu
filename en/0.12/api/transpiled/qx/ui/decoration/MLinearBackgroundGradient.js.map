{
  "version": 3,
  "sources": [
    "/home/runner/work/CometVisu/CometVisu/node_modules/@qooxdoo/framework/source/class/qx/ui/decoration/MLinearBackgroundGradient.js"
  ],
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Mixin",
    "define",
    "properties",
    "startColor",
    "nullable",
    "apply",
    "endColor",
    "orientation",
    "init",
    "startColorPosition",
    "endColorPosition",
    "colorPositionUnit",
    "gradientStart",
    "group",
    "mode",
    "gradientEnd",
    "members",
    "_styleLinearBackgroundGradient",
    "styles",
    "backgroundStyle",
    "getStartColor",
    "getEndColor",
    "styleImpl",
    "__styleLinearBackgroundGradientAccordingToSpec",
    "core",
    "Environment",
    "get",
    "__styleLinearBackgroundGradientForLegacyWebkit",
    "__styleLinearBackgroundGradientWithCanvas",
    "__styleLinearBackgroundGradientWithMSFilter",
    "gradientProperties",
    "startColors",
    "endColors",
    "units",
    "orientations",
    "startColorPositions",
    "endColorPositions",
    "i",
    "length",
    "__getColor",
    "unit",
    "lang",
    "Type",
    "isArray",
    "orderGradientsFront",
    "getOrderGradientsFront",
    "operation",
    "Array",
    "prototype",
    "unshift",
    "push",
    "_getExtendedPropertyValueArrays",
    "startPos",
    "endPos",
    "color",
    "me",
    "__canvas",
    "document",
    "createElement",
    "isVertical",
    "height",
    "width",
    "range",
    "Math",
    "max",
    "ctx",
    "getContext",
    "lingrad",
    "createLinearGradient",
    "addColorStop",
    "comp",
    "clearRect",
    "fillStyle",
    "fillRect",
    "size",
    "toDataURL",
    "type",
    "util",
    "ColorUtil",
    "isHex6String",
    "stringToRgb",
    "rgbToHexString",
    "substring",
    "value",
    "deg",
    "start",
    "end",
    "prefixedName",
    "theme",
    "manager",
    "Color",
    "getInstance",
    "resolve",
    "_applyLinearBackgroundGradient",
    "ui",
    "decoration",
    "MLinearBackgroundGradient"
  ],
  "mappings": "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",
  "sourcesContent": [
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2010 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Martin Wittemann (martinwittemann)\n\n************************************************************************ */\n/**\n * Mixin for the linear background gradient CSS property.\n * This mixin is usually used by {@link qx.ui.decoration.Decorator}.\n *\n * Keep in mind that this is not supported by all browsers:\n *\n * * Safari 4.0+\n * * Chrome 4.0+\n * * Firefox 3.6+\n * * Opera 11.1+\n * * IE 10+\n * * IE 5.5+ (with limitations)\n *\n * For IE 5.5 to IE 8,this class uses the filter rules to create the gradient. This\n * has some limitations: The start and end position property can not be used. For\n * more details, see the original documentation:\n * http://msdn.microsoft.com/en-us/library/ms532997(v=vs.85).aspx\n *\n * For IE9, we create a gradient in a canvas element and render this gradient\n * as background image. Due to restrictions in the <code>background-image</code>\n * css property, we can not allow negative start values in that case.\n *\n * It is possible to define multiple background gradients by setting an\n * array containing the needed values as the property value.\n * In case multiple values are specified, the values of the properties\n * are repeated until all match in length. It is not possible to define\n * multiple background gradients when falling back to filter rules (IE5.5 to IE8).\n *\n * An example:\n * <pre class=\"javascript\">\n *   'my-decorator': {\n *     style: {\n *       startColor:['rgba(255, 0, 0, 0.5)', 'rgba(0, 255, 0, 0.5)', 'rgba(0, 0, 255, 0.5)'],\n *       endColor: 'rgba(255, 255, 255, 0.2)',\n *       orientation: ['horizontal', 'vertical']\n *     }\n *   }\n * </pre>\n * which is the same as:\n * <pre class=\"javascript\">\n *   'my-decorator': {\n *     style: {\n *       startColor: ['rgba(255, 0, 0, 0.5)', 'rgba(0, 255, 0, 0.5)', 'rgba(0, 0, 255, 0.5)'],\n *       endColor: ['rgba(255, 255, 255, 0.2)', 'rgba(255, 255, 255, 0.2)', 'rgba(255, 255, 255, 0.2)'],\n *       orientation: ['horizontal', 'vertical', 'horizontal']\n *     }\n *   }\n * </pre>\n */\nqx.Mixin.define(\"qx.ui.decoration.MLinearBackgroundGradient\",\n{\n  properties :\n  {\n    /**\n     * Start color of the background gradient.\n     * Note that alpha transparency (rgba) is not supported in IE 8.\n     */\n    startColor :\n    {\n      nullable : true,\n      apply : \"_applyLinearBackgroundGradient\"\n    },\n\n    /**\n     * End color of the background gradient.\n     * Note that alpha transparency (rgba) is not supported in IE 8.\n     */\n    endColor :\n    {\n      nullable : true,\n      apply : \"_applyLinearBackgroundGradient\"\n    },\n\n    /** The orientation of the gradient. */\n    orientation :\n    {\n      init : \"vertical\",\n      apply : \"_applyLinearBackgroundGradient\"\n    },\n\n    /** Position in percent where to start the color. */\n    startColorPosition :\n    {\n      init : 0,\n      apply : \"_applyLinearBackgroundGradient\"\n    },\n\n    /** Position in percent where to start the color. */\n    endColorPosition :\n    {\n      init : 100,\n      apply : \"_applyLinearBackgroundGradient\"\n    },\n\n    /** Defines if the given positions are in % or px.*/\n    colorPositionUnit :\n    {\n      init : \"%\",\n      apply : \"_applyLinearBackgroundGradient\"\n    },\n\n\n    /** Property group to set the start color including its start position. */\n    gradientStart :\n    {\n      group : [\"startColor\", \"startColorPosition\"],\n      mode : \"shorthand\"\n    },\n\n    /** Property group to set the end color including its end position. */\n    gradientEnd :\n    {\n      group : [\"endColor\", \"endColorPosition\"],\n      mode : \"shorthand\"\n    }\n  },\n\n\n  members :\n  {\n    /**\n     * Takes a styles map and adds the linear background styles in place to the\n     * given map. This is the needed behavior for\n     * {@link qx.ui.decoration.Decorator}.\n     *\n     * @param styles {Map} A map to add the styles.\n     */\n    _styleLinearBackgroundGradient : function(styles) {\n      var backgroundStyle = [];\n\n      if(!this.getStartColor() || !this.getEndColor()) {\n        return;\n      }\n\n      var styleImpl = this.__styleLinearBackgroundGradientAccordingToSpec;\n      if (qx.core.Environment.get(\"css.gradient.legacywebkit\")) {\n        styleImpl = this.__styleLinearBackgroundGradientForLegacyWebkit;\n      } else if (!qx.core.Environment.get(\"css.gradient.linear\") && qx.core.Environment.get(\"css.borderradius\")) {\n        styleImpl = this.__styleLinearBackgroundGradientWithCanvas;\n      } else if (!qx.core.Environment.get(\"css.gradient.linear\")) {\n        styleImpl = this.__styleLinearBackgroundGradientWithMSFilter;\n      }\n\n      var gradientProperties = [\"startColor\", \"endColor\", \"colorPositionUnit\", \"orientation\",\n        \"startColorPosition\", \"endColorPosition\"];\n\n      (function(startColors, endColors, units, orientations, startColorPositions, endColorPositions) {\n        for(var i=0;i<startColors.length;i++) {\n          var startColor = this.__getColor(startColors[i]);\n          var endColor = this.__getColor(endColors[i]);\n          var unit = units[i];\n          var orientation = orientations[i];\n          var startColorPosition = startColorPositions[i];\n          var endColorPosition = endColorPositions[i];\n\n          if(!styleImpl(startColor, endColor, unit, orientation, startColorPosition, endColorPosition, styles, backgroundStyle)) {\n            break;\n          }\n        }\n\n        if(\"background\" in styles) {\n          if(!qx.lang.Type.isArray(styles['background'])) {\n            styles['background'] = [styles['background']];\n          }\n        } else {\n          styles['background'] = [];\n        }\n        var orderGradientsFront = 'getOrderGradientsFront' in this ? this.getOrderGradientsFront() : false;\n        var operation = orderGradientsFront ? Array.prototype.unshift : Array.prototype.push;\n        operation.apply(styles['background'], backgroundStyle);\n      }).apply(this, this._getExtendedPropertyValueArrays(gradientProperties));\n    },\n\n    /**\n     * Compute CSS rules to style the background with gradients.\n     * This can be called multiple times and SHOULD layer the gradients on top of each other and on top of existing backgrounds.\n     * Legacy implementation for old WebKit browsers (Chrome < 10).\n     *\n     * @param startColor {Color} The color to start the gradient with\n     * @param endColor {Color} The color to end the gradient with\n     * @param unit {Color} The unit in which startColorPosition and endColorPosition are measured\n     * @param orientation {String} Either 'horizontal' or 'vertical'\n     * @param startColorPosition {Number} The position of the gradient’s starting point, measured in `unit` units along the `orientation` axis from top or left\n     * @param endColorPosition {Number} The position of the gradient’s ending point, measured in `unit` units along the `orientation` axis from top or left\n     * @param styles {Map} The complete styles currently poised to be applied by decorators. Should not be written to in this method (use `backgroundStyle` for that)\n     * @param backgroundStyle {Map} This method should push new background styles onto this array.\n     *\n     * @return {Boolean} Whether this implementation supports multiple gradients atop each other (true).\n     */\n    __styleLinearBackgroundGradientForLegacyWebkit: function(startColor, endColor, unit, orientation, startColorPosition, endColorPosition, styles, backgroundStyle) {\n      // webkit uses px values if non are given\n      unit = unit === \"px\" ? \"\" : unit;\n\n      if (orientation == \"horizontal\") {\n        var startPos = startColorPosition + unit +\" 0\" + unit;\n        var endPos = endColorPosition + unit + \" 0\" + unit;\n      } else {\n        var startPos = \"0\" + unit + \" \" + startColorPosition + unit;\n        var endPos = \"0\" + unit +\" \" + endColorPosition + unit;\n      }\n\n      var color =\n        \"from(\" + startColor +\n        \"),to(\" + endColor + \")\";\n\n      backgroundStyle.push(\"-webkit-gradient(linear,\" + startPos + \",\" + endPos + \",\" + color + \")\");\n      return true;\n    },\n\n    /**\n     * Compute CSS rules to style the background with gradients.\n     * This can be called multiple times and SHOULD layer the gradients on top of each other and on top of existing backgrounds.\n     * IE9 canvas solution.\n     *\n     * @param startColor {Color} The color to start the gradient with\n     * @param endColor {Color} The color to end the gradient with\n     * @param unit {Color} The unit in which startColorPosition and endColorPosition are measured\n     * @param orientation {String} Either 'horizontal' or 'vertical'\n     * @param startColorPosition {Number} The position of the gradient’s starting point, measured in `unit` units along the `orientation` axis from top or left\n     * @param endColorPosition {Number} The position of the gradient’s ending point, measured in `unit` units along the `orientation` axis from top or left\n     * @param styles {Map} The complete styles currently poised to be applied by decorators. Should not be written to in this method (use `backgroundStyle` for that)\n     * @param backgroundStyle {Map} This method should push new background styles onto this array.\n     *\n     * @return {Boolean} Whether this implementation supports multiple gradients atop each other (true).\n     */\n    __styleLinearBackgroundGradientWithCanvas: function me(startColor, endColor, unit, orientation, startColorPosition, endColorPosition, styles, backgroundStyle) {\n      if (!me.__canvas) {\n        me.__canvas = document.createElement(\"canvas\");\n      }\n\n      var isVertical = orientation == \"vertical\";\n\n      var height = isVertical ? 200 : 1;\n      var width = isVertical ? 1 : 200;\n      var range = Math.max(100, endColorPosition - startColorPosition);\n\n      // use the px difference as dimension\n      if (unit === \"px\") {\n        if (isVertical) {\n          height = Math.max(height, endColorPosition - startColorPosition);\n        } else {\n          width = Math.max(width, endColorPosition - startColorPosition);\n        }\n      } else {\n        if (isVertical) {\n          height = Math.max(height, (endColorPosition - startColorPosition) * 2);\n        } else {\n          width = Math.max(width, (endColorPosition - startColorPosition) * 2);\n        }\n      }\n\n      me.__canvas.width = width;\n      me.__canvas.height = height;\n      var ctx = me.__canvas.getContext('2d');\n\n      if (isVertical) {\n        var lingrad = ctx.createLinearGradient(0, 0, 0, height);\n      } else {\n        var lingrad = ctx.createLinearGradient(0, 0, width, 0);\n      }\n\n      // don't allow negative start values\n      if (unit === \"%\") {\n        lingrad.addColorStop(Math.max(0, startColorPosition) / range, startColor);\n        lingrad.addColorStop(endColorPosition / range, endColor);\n      } else {\n        var comp = isVertical ? height : width;\n        lingrad.addColorStop(Math.max(0, startColorPosition) / comp, startColor);\n        lingrad.addColorStop(endColorPosition / comp, endColor);\n      }\n\n      //Clear the rect before drawing to allow for semitransparent colors\n      ctx.clearRect(0, 0, width, height);\n      ctx.fillStyle = lingrad;\n      ctx.fillRect(0, 0, width, height);\n\n      var size;\n      if (unit === \"%\") {\n        size = isVertical ? \"100% \" + range + \"%\" : range + \"% 100%\";\n      } else {\n        size = isVertical ? height + \"px 100%\" : \"100% \" + width + \"px\";\n      }\n\n      backgroundStyle.push(\"url(\" + me.__canvas.toDataURL() + \") \" + size);\n      return true;\n    },\n\n    /**\n     * Compute CSS rules to style the background with gradients.\n     * This can be called multiple times and SHOULD layer the gradients on top of each other and on top of existing backgrounds.\n     * Old IE filter fallback.\n     *\n     * @param startColor {Color} The color to start the gradient with\n     * @param endColor {Color} The color to end the gradient with\n     * @param unit {Color} The unit in which startColorPosition and endColorPosition are measured\n     * @param orientation {String} Either 'horizontal' or 'vertical'\n     * @param startColorPosition {Number} The position of the gradient’s starting point, measured in `unit` units along the `orientation` axis from top or left\n     * @param endColorPosition {Number} The position of the gradient’s ending point, measured in `unit` units along the `orientation` axis from top or left\n     * @param styles {Map} The complete styles currently poised to be applied by decorators. Should not be written to in this method (use `backgroundStyle` for that). Note: this particular implementation will do that because it needs to change the `filter` property.\n     * @param backgroundStyle {Map} This method should push new background styles onto this array.\n     *\n     * @return {Boolean} Whether this implementation supports multiple gradients atop each other (false).\n     */\n    __styleLinearBackgroundGradientWithMSFilter: function(startColor, endColor, unit, orientation, startColorPosition, endColorPosition, styles, backgroundStyle) {\n      var type = orientation == \"horizontal\" ? 1 : 0;\n\n\n      // convert rgb, hex3 and named colors to hex6\n      if (!qx.util.ColorUtil.isHex6String(startColor)) {\n        startColor = qx.util.ColorUtil.stringToRgb(startColor);\n        startColor = qx.util.ColorUtil.rgbToHexString(startColor);\n      }\n      if (!qx.util.ColorUtil.isHex6String(endColor)) {\n        endColor = qx.util.ColorUtil.stringToRgb(endColor);\n        endColor = qx.util.ColorUtil.rgbToHexString(endColor);\n      }\n\n      // get rid of the starting '#'\n      startColor = startColor.substring(1, startColor.length);\n      endColor = endColor.substring(1, endColor.length);\n\n      var value = \"progid:DXImageTransform.Microsoft.Gradient\" +\n        \"(GradientType=\" + type + \", \" +\n        \"StartColorStr='#FF\" + startColor + \"', \" +\n        \"EndColorStr='#FF\" + endColor + \"';)\";\n      if (styles[\"filter\"]) {\n        styles[\"filter\"] += \", \" + value;\n      } else {\n        styles[\"filter\"] = value;\n      }\n\n      // Elements with transparent backgrounds will not receive receive pointer\n      // events if a Gradient filter is set.\n      if (!styles[\"background-color\"] ||\n          styles[\"background-color\"] == \"transparent\")\n      {\n        // We don't support alpha transparency for the gradient color stops\n        // so it doesn't matter which color we set here.\n        styles[\"background-color\"] = \"white\";\n      }\n      return false;\n    },\n\n    /**\n     * Compute CSS rules to style the background with gradients.\n     * This can be called multiple times and SHOULD layer the gradients on top of each other and on top of existing backgrounds.\n     * Default implementation (uses spec-compliant syntax).\n     *\n     * @param startColor {Color} The color to start the gradient with\n     * @param endColor {Color} The color to end the gradient with\n     * @param unit {Color} The unit in which startColorPosition and endColorPosition are measured\n     * @param orientation {String} Either 'horizontal' or 'vertical'\n     * @param startColorPosition {Number} The position of the gradient’s starting point, measured in `unit` units along the `orientation` axis from top or left\n     * @param endColorPosition {Number} The position of the gradient’s ending point, measured in `unit` units along the `orientation` axis from top or left\n     * @param styles {Map} The complete styles currently poised to be applied by decorators. Should not be written to in this method (use `backgroundStyle` for that)\n     * @param backgroundStyle {Map} This method should push new background styles onto this array.\n     *\n     * @return {Boolean} Whether this implementation supports multiple gradients atop each other (true).\n     */\n    __styleLinearBackgroundGradientAccordingToSpec: function(startColor, endColor, unit, orientation, startColorPosition, endColorPosition, styles, backgroundStyle) {\n      // WebKit, Opera and Gecko interpret 0deg as \"to right\"\n      var deg = orientation == \"horizontal\" ? 0 : 270;\n\n      var start = startColor + \" \" + startColorPosition + unit;\n      var end = endColor + \" \" + endColorPosition + unit;\n\n      var prefixedName = qx.core.Environment.get(\"css.gradient.linear\");\n      // Browsers supporting the unprefixed implementation interpret 0deg as\n      // \"to top\" as defined by the spec [BUG #6513]\n      if (prefixedName === \"linear-gradient\") {\n        deg = orientation == \"horizontal\" ? deg + 90 : deg - 90;\n      }\n\n      backgroundStyle.push(prefixedName + \"(\" + deg + \"deg, \" + start + \",\" + end + \")\");\n      return true;\n    },\n\n    /**\n     * Helper to get a resolved color from a name\n     * @param color {String} The color name\n     * @return {Map} The resolved color\n     */\n    __getColor : function(color) {\n      return qx.core.Environment.get(\"qx.theme\") ?\n        qx.theme.manager.Color.getInstance().resolve(color) : color;\n    },\n\n\n    // property apply\n    _applyLinearBackgroundGradient : function()\n    {\n      if (qx.core.Environment.get(\"qx.debug\"))\n      {\n        if (this._isInitialized()) {\n          throw new Error(\"This decorator is already in-use. Modification is not possible anymore!\");\n        }\n      }\n    }\n  }\n});\n"
  ]
}