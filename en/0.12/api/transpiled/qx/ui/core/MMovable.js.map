{
  "version": 3,
  "sources": [
    "/home/runner/work/CometVisu/CometVisu/node_modules/@qooxdoo/framework/source/class/qx/ui/core/MMovable.js"
  ],
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Mixin",
    "define",
    "properties",
    "movable",
    "check",
    "init",
    "useMoveFrame",
    "members",
    "__moveHandle",
    "__moveFrame",
    "__dragRange",
    "__dragLeft",
    "__dragTop",
    "__parentLeft",
    "__parentTop",
    "__blockerAdded",
    "__oldBlockerColor",
    "__oldBlockerOpacity",
    "_activateMoveHandle",
    "widget",
    "Error",
    "addListener",
    "_onMovePointerDown",
    "_onMovePointerUp",
    "_onMovePointerMove",
    "__onMoveLoseCapture",
    "__getMoveFrame",
    "frame",
    "ui",
    "core",
    "Widget",
    "setAppearance",
    "exclude",
    "Init",
    "getApplication",
    "getRoot",
    "add",
    "__showMoveFrame",
    "location",
    "getContentLocation",
    "bounds",
    "getBounds",
    "setUserBounds",
    "left",
    "top",
    "width",
    "height",
    "show",
    "setZIndex",
    "getZIndex",
    "__computeMoveCoordinates",
    "e",
    "range",
    "pointerLeft",
    "Math",
    "max",
    "min",
    "right",
    "getDocumentLeft",
    "pointerTop",
    "bottom",
    "getDocumentTop",
    "viewportLeft",
    "viewportTop",
    "parseInt",
    "parentLeft",
    "parentTop",
    "_onMoveRoll",
    "stop",
    "getMovable",
    "hasState",
    "parent",
    "getLayoutParent",
    "parentLocation",
    "parentBounds",
    "Class",
    "implementsInterface",
    "window",
    "IDesktop",
    "isBlocked",
    "getBlockerColor",
    "getBlockerOpacity",
    "setBlockerColor",
    "setBlockerOpacity",
    "blockContent",
    "widgetLocation",
    "addState",
    "capture",
    "getUseMoveFrame",
    "coords",
    "setDomPosition",
    "insets",
    "getInsets",
    "stopPropagation",
    "hasListener",
    "removeListener",
    "removeState",
    "unblock",
    "releaseCapture",
    "setLayoutProperties",
    "destruct",
    "_disposeObjects",
    "MMovable"
  ],
  "mappings": "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",
  "sourcesContent": [
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Sebastian Werner (wpbasti)\n     * Fabian Jakobs (fjakobs)\n\n************************************************************************ */\n\n/**\n * Provides move behavior to any widget.\n *\n * The widget using the mixin must register a widget as move handle so that\n * the pointer events needed for moving it are attached to this widget).\n * <pre class='javascript'>this._activateMoveHandle(widget);</pre>\n */\nqx.Mixin.define(\"qx.ui.core.MMovable\",\n{\n  /*\n  *****************************************************************************\n     PROPERTIES\n  *****************************************************************************\n  */\n\n  properties :\n  {\n    /** Whether the widget is movable */\n    movable :\n    {\n      check : \"Boolean\",\n      init : true\n    },\n\n    /** Whether to use a frame instead of the original widget during move sequences */\n    useMoveFrame :\n    {\n      check : \"Boolean\",\n      init : false\n    }\n  },\n\n\n\n\n  /*\n  *****************************************************************************\n     MEMBERS\n  *****************************************************************************\n  */\n\n  members :\n  {\n    __moveHandle : null,\n    __moveFrame : null,\n    __dragRange : null,\n    __dragLeft : null,\n    __dragTop : null,\n    __parentLeft : null,\n    __parentTop : null,\n\n    __blockerAdded : false,\n    __oldBlockerColor : null,\n    __oldBlockerOpacity : 0,\n\n    /*\n    ---------------------------------------------------------------------------\n      CORE FEATURES\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Configures the given widget as a move handle\n     *\n     * @param widget {qx.ui.core.Widget} Widget to activate as move handle\n     */\n    _activateMoveHandle : function(widget)\n    {\n      if (this.__moveHandle) {\n        throw new Error(\"The move handle could not be redefined!\");\n      }\n\n      this.__moveHandle = widget;\n      widget.addListener(\"pointerdown\", this._onMovePointerDown, this);\n      widget.addListener(\"pointerup\", this._onMovePointerUp, this);\n      widget.addListener(\"pointermove\", this._onMovePointerMove, this);\n      widget.addListener(\"losecapture\", this.__onMoveLoseCapture, this);\n    },\n\n\n    /**\n     * Get the widget, which draws the resize/move frame.\n     *\n     * @return {qx.ui.core.Widget} The resize frame\n     */\n    __getMoveFrame : function()\n    {\n      var frame = this.__moveFrame;\n      if (!frame)\n      {\n        frame = this.__moveFrame = new qx.ui.core.Widget();\n        frame.setAppearance(\"move-frame\");\n        frame.exclude();\n\n        qx.core.Init.getApplication().getRoot().add(frame);\n      }\n\n      return frame;\n    },\n\n\n    /**\n     * Creates, shows and syncs the frame with the widget.\n     */\n    __showMoveFrame : function()\n    {\n      var location = this.getContentLocation();\n      var bounds = this.getBounds();\n      var frame = this.__getMoveFrame();\n      frame.setUserBounds(location.left, location.top, bounds.width, bounds.height);\n      frame.show();\n      frame.setZIndex(this.getZIndex()+1);\n    },\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      MOVE SUPPORT\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Computes the new drag coordinates\n     *\n     * @param e {qx.event.type.Pointer} Pointer event\n     * @return {Map} A map with the computed drag coordinates\n     */\n    __computeMoveCoordinates : function(e)\n    {\n      var range = this.__dragRange;\n      var pointerLeft = Math.max(range.left, Math.min(range.right, e.getDocumentLeft()));\n      var pointerTop = Math.max(range.top, Math.min(range.bottom, e.getDocumentTop()));\n\n      var viewportLeft = this.__dragLeft + pointerLeft;\n      var viewportTop = this.__dragTop + pointerTop;\n\n      return {\n        viewportLeft : parseInt(viewportLeft, 10),\n        viewportTop : parseInt(viewportTop, 10),\n\n        parentLeft : parseInt(viewportLeft - this.__parentLeft, 10),\n        parentTop : parseInt(viewportTop - this.__parentTop, 10)\n      };\n    },\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      MOVE EVENT HANDLERS\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Roll handler which prevents the scrolling via tap & move on parent widgets\n     * during the move of the widget.\n     * @param e {qx.event.type.Roll} The roll event\n     */\n    _onMoveRoll : function(e) {\n      e.stop();\n    },\n\n\n    /**\n     * Enables the capturing of the caption bar and prepares the drag session and the\n     * appearance (translucent, frame or opaque) for the moving of the window.\n     *\n     * @param e {qx.event.type.Pointer} pointer down event\n     */\n    _onMovePointerDown : function(e)\n    {\n      if (!this.getMovable() || this.hasState(\"maximized\")) {\n        return;\n      }\n\n      this.addListener(\"roll\", this._onMoveRoll, this);\n\n      // Compute drag range\n      var parent = this.getLayoutParent();\n      var parentLocation = parent.getContentLocation();\n      var parentBounds = parent.getBounds();\n\n      // Added a blocker, this solves the issue described in [BUG #1462]\n      if (qx.Class.implementsInterface(parent, qx.ui.window.IDesktop)) {\n        if (!parent.isBlocked()) {\n          this.__oldBlockerColor = parent.getBlockerColor();\n          this.__oldBlockerOpacity = parent.getBlockerOpacity();\n          parent.setBlockerColor(null);\n          parent.setBlockerOpacity(1);\n\n          parent.blockContent(this.getZIndex() - 1);\n\n          this.__blockerAdded = true;\n        }\n      }\n\n      this.__dragRange =\n      {\n        left : parentLocation.left,\n        top : parentLocation.top,\n        right : parentLocation.left + parentBounds.width,\n        bottom : parentLocation.top + parentBounds.height\n      };\n\n      // Compute drag positions\n      var widgetLocation = this.getContentLocation();\n      this.__parentLeft = parentLocation.left;\n      this.__parentTop = parentLocation.top;\n\n      this.__dragLeft = widgetLocation.left - e.getDocumentLeft();\n      this.__dragTop = widgetLocation.top - e.getDocumentTop();\n\n      // Add state\n      this.addState(\"move\");\n\n      // Enable capturing\n      this.__moveHandle.capture();\n\n      // Enable drag frame\n      if (this.getUseMoveFrame()) {\n        this.__showMoveFrame();\n      }\n\n      // Stop event\n      e.stop();\n    },\n\n\n    /**\n     * Does the moving of the window by rendering the position\n     * of the window (or frame) at runtime using direct dom methods.\n     *\n     * @param e {qx.event.type.Pointer} pointer move event\n     */\n    _onMovePointerMove : function(e)\n    {\n      // Only react when dragging is active\n      if (!this.hasState(\"move\")) {\n        return;\n      }\n\n      // Apply new coordinates using DOM\n      var coords = this.__computeMoveCoordinates(e);\n      if (this.getUseMoveFrame()) {\n        this.__getMoveFrame().setDomPosition(coords.viewportLeft, coords.viewportTop);\n      } else {\n        var insets = this.getLayoutParent().getInsets();\n        this.setDomPosition(coords.parentLeft - (insets.left || 0),\n          coords.parentTop - (insets.top || 0));\n      }\n\n      e.stopPropagation();\n    },\n\n\n    /**\n     * Disables the capturing of the caption bar and moves the window\n     * to the last position of the drag session. Also restores the appearance\n     * of the window.\n     *\n     * @param e {qx.event.type.Pointer} pointer up event\n     */\n    _onMovePointerUp : function(e)\n    {\n      if (this.hasListener(\"roll\")) {\n        this.removeListener(\"roll\", this._onMoveRoll, this);\n      }\n\n      // Only react when dragging is active\n      if (!this.hasState(\"move\")) {\n        return;\n      }\n\n      // Remove drag state\n      this.removeState(\"move\");\n\n      // Removed blocker, this solves the issue described in [BUG #1462]\n      var parent = this.getLayoutParent();\n      if (qx.Class.implementsInterface(parent, qx.ui.window.IDesktop)) {\n        if (this.__blockerAdded) {\n          parent.unblock();\n\n          parent.setBlockerColor(this.__oldBlockerColor);\n          parent.setBlockerOpacity(this.__oldBlockerOpacity);\n          this.__oldBlockerColor = null;\n          this.__oldBlockerOpacity = 0;\n\n          this.__blockerAdded = false;\n        }\n      }\n\n      // Disable capturing\n      this.__moveHandle.releaseCapture();\n\n      // Apply them to the layout\n      var coords = this.__computeMoveCoordinates(e);\n      var insets = this.getLayoutParent().getInsets();\n      this.setLayoutProperties({\n        left: coords.parentLeft - (insets.left || 0),\n        top: coords.parentTop - (insets.top || 0)\n      });\n\n      // Hide frame afterwards\n      if (this.getUseMoveFrame()) {\n        this.__getMoveFrame().exclude();\n      }\n\n      e.stopPropagation();\n    },\n\n\n    /**\n     * Event listener for <code>losecapture</code> event.\n     *\n     * @param e {qx.event.type.Event} Lose capture event\n     */\n    __onMoveLoseCapture : function(e)\n    {\n      // Check for active move\n      if (!this.hasState(\"move\")) {\n        return;\n      }\n\n      // Remove drag state\n      this.removeState(\"move\");\n\n      // Hide frame afterwards\n      if (this.getUseMoveFrame()) {\n        this.__getMoveFrame().exclude();\n      }\n    }\n  },\n\n\n\n\n\n  /*\n  *****************************************************************************\n     DESTRUCTOR\n  *****************************************************************************\n  */\n\n  destruct : function() {\n    this._disposeObjects(\"__moveFrame\", \"__moveHandle\");\n    this.__dragRange = null;\n  }\n});\n"
  ]
}