{
  "version": 3,
  "sources": [
    "/home/travis/build/CometVisu/CometVisu/external/qooxdoo/framework/source/class/qx/ui/core/EventHandler.js"
  ],
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "extend",
    "core",
    "Object",
    "implement",
    "event",
    "IEventHandler",
    "construct",
    "__manager",
    "Registration",
    "getManager",
    "window",
    "statics",
    "PRIORITY",
    "PRIORITY_FIRST",
    "SUPPORTED_TYPES",
    "mousemove",
    "mouseover",
    "mouseout",
    "mousedown",
    "mouseup",
    "click",
    "auxclick",
    "dblclick",
    "contextmenu",
    "mousewheel",
    "keyup",
    "keydown",
    "keypress",
    "keyinput",
    "capture",
    "losecapture",
    "focusin",
    "focusout",
    "focus",
    "blur",
    "activate",
    "deactivate",
    "appear",
    "disappear",
    "dragstart",
    "dragend",
    "dragover",
    "dragleave",
    "drop",
    "drag",
    "dragchange",
    "droprequest",
    "touchstart",
    "touchend",
    "touchmove",
    "touchcancel",
    "tap",
    "longtap",
    "swipe",
    "dbltap",
    "track",
    "trackend",
    "trackstart",
    "pinch",
    "rotate",
    "roll",
    "pointermove",
    "pointerover",
    "pointerout",
    "pointerdown",
    "pointerup",
    "pointercancel",
    "IGNORE_CAN_HANDLE",
    "members",
    "__focusEvents",
    "__ignoreDisabled",
    "canHandleEvent",
    "target",
    "type",
    "ui",
    "Widget",
    "_dispatchEvent",
    "domEvent",
    "domTarget",
    "getTarget",
    "widgetTarget",
    "getWidgetByElement",
    "targetChanged",
    "isAnonymous",
    "getLayoutParent",
    "getType",
    "getContentElement",
    "getFocusTarget",
    "getRelatedTarget",
    "domRelatedTarget",
    "widgetRelatedTarget",
    "currentTarget",
    "getCurrentTarget",
    "currentWidget",
    "isEnabled",
    "getEventPhase",
    "Event",
    "CAPTURING_PHASE",
    "listeners",
    "getListeners",
    "AT_TARGET",
    "otherListeners",
    "concat",
    "length",
    "widgetEvent",
    "Pool",
    "getInstance",
    "getObject",
    "constructor",
    "clone",
    "setTarget",
    "setRelatedTarget",
    "setCurrentTarget",
    "orig",
    "getOriginalTarget",
    "widgetOriginalTarget",
    "setOriginalTarget",
    "tracker",
    "Utils",
    "then",
    "series",
    "listener",
    "context",
    "handler",
    "call",
    "getPropagationStopped",
    "stopPropagation",
    "getDefaultPrevented",
    "preventDefault",
    "poolObject",
    "registerEvent",
    "elem",
    "getFocusElement",
    "addListener",
    "unregisterEvent",
    "removeListener",
    "destruct",
    "defer",
    "addHandler",
    "EventHandler"
  ],
  "mappings": "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",
  "sourcesContent": [
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Sebastian Werner (wpbasti)\n     * Fabian Jakobs (fjakobs)\n\n************************************************************************ */\n\n/**\n * Connects the widgets to the browser DOM events.\n */\nqx.Class.define(\"qx.ui.core.EventHandler\",\n{\n  extend : qx.core.Object,\n  implement : qx.event.IEventHandler,\n\n\n\n  /*\n  *****************************************************************************\n     CONSTRUCTOR\n  *****************************************************************************\n  */\n\n  construct : function()\n  {\n    this.base(arguments);\n\n    this.__manager = qx.event.Registration.getManager(window);\n  },\n\n\n\n  /*\n  *****************************************************************************\n     STATICS\n  *****************************************************************************\n  */\n\n  statics :\n  {\n    /** @type {Integer} Priority of this handler */\n    PRIORITY : qx.event.Registration.PRIORITY_FIRST,\n\n    /** @type {Map} Supported event types. Identical to events map of qx.ui.core.Widget */\n    SUPPORTED_TYPES :\n    {\n      // mouse events\n      mousemove : 1,\n      mouseover : 1,\n      mouseout : 1,\n      mousedown : 1,\n      mouseup : 1,\n      click : 1,\n      auxclick : 1,\n      dblclick : 1,\n      contextmenu : 1,\n      mousewheel : 1,\n\n      // key events\n      keyup : 1,\n      keydown : 1,\n      keypress : 1,\n      keyinput : 1,\n\n      // mouse capture\n      capture : 1,\n      losecapture : 1,\n\n      // focus events\n      focusin : 1,\n      focusout : 1,\n      focus : 1,\n      blur : 1,\n      activate : 1,\n      deactivate : 1,\n\n      // appear events\n      appear : 1,\n      disappear : 1,\n\n      // drag drop events\n      dragstart : 1,\n      dragend : 1,\n      dragover : 1,\n      dragleave : 1,\n      drop : 1,\n      drag : 1,\n      dragchange : 1,\n      droprequest : 1,\n\n      // touch events\n      touchstart : 1,\n      touchend : 1,\n      touchmove : 1,\n      touchcancel : 1,\n\n      // gestures\n      tap : 1,\n      longtap : 1,\n      swipe : 1,\n      dbltap : 1,\n      track : 1,\n      trackend : 1,\n      trackstart : 1,\n      pinch : 1,\n      rotate : 1,\n      roll : 1,\n\n      // pointer events\n      pointermove : 1,\n      pointerover : 1,\n      pointerout : 1,\n      pointerdown : 1,\n      pointerup : 1,\n      pointercancel : 1\n    },\n\n    /** @type {Integer} Whether the method \"canHandleEvent\" must be called */\n    IGNORE_CAN_HANDLE : false\n  },\n\n\n\n\n  /*\n  *****************************************************************************\n     MEMBERS\n  *****************************************************************************\n  */\n\n  members :\n  {\n    __manager : null,\n\n\n    /**\n     * @type {Map} Supported focus event types\n     *\n     * @lint ignoreReferenceField(__focusEvents)\n     */\n    __focusEvents :\n    {\n      focusin : 1,\n      focusout : 1,\n      focus : 1,\n      blur : 1\n    },\n\n\n    /**\n     * @type {Map} Map of events which should be fired independently from being disabled\n     *\n     * @lint ignoreReferenceField(__ignoreDisabled)\n     */\n    __ignoreDisabled :\n    {\n      // mouse events\n      mouseover : 1,\n      mouseout : 1,\n\n      // appear events\n      appear : 1,\n      disappear : 1\n    },\n\n\n    // interface implementation\n    canHandleEvent : function(target, type) {\n      return target instanceof qx.ui.core.Widget;\n    },\n\n\n    /**\n     * Dispatches a DOM event on a widget.\n     *\n     * @param domEvent {qx.event.type.Event} The event object to dispatch.\n     */\n    _dispatchEvent : function(domEvent)\n    {\n      // EVENT TARGET\n      var domTarget = domEvent.getTarget();\n\n      var widgetTarget = qx.ui.core.Widget.getWidgetByElement(domTarget);\n      var targetChanged = false;\n      while (widgetTarget && widgetTarget.isAnonymous())\n      {\n        var targetChanged = true;\n        widgetTarget = widgetTarget.getLayoutParent();\n      }\n\n      // don't activate anonymous widgets!\n      if (widgetTarget && targetChanged && domEvent.getType() == \"activate\") {\n        widgetTarget.getContentElement().activate();\n      }\n\n\n      // Correcting target for focus events\n      if (this.__focusEvents[domEvent.getType()])\n      {\n        widgetTarget = widgetTarget && widgetTarget.getFocusTarget();\n\n        // Whether nothing is returned\n        if (!widgetTarget) {\n          return;\n        }\n      }\n\n\n      // EVENT RELATED TARGET\n      if (domEvent.getRelatedTarget)\n      {\n        var domRelatedTarget = domEvent.getRelatedTarget();\n\n        var widgetRelatedTarget = qx.ui.core.Widget.getWidgetByElement(domRelatedTarget);\n        while (widgetRelatedTarget && widgetRelatedTarget.isAnonymous()) {\n          widgetRelatedTarget = widgetRelatedTarget.getLayoutParent();\n        }\n\n        if (widgetRelatedTarget)\n        {\n          // Correcting target for focus events\n          if (this.__focusEvents[domEvent.getType()]) {\n            widgetRelatedTarget = widgetRelatedTarget.getFocusTarget();\n          }\n\n          // If target and related target are identical ignore the event\n          if (widgetRelatedTarget === widgetTarget) {\n            return;\n          }\n        }\n      }\n\n\n      // EVENT CURRENT TARGET\n      var currentTarget = domEvent.getCurrentTarget();\n\n\n      var currentWidget = qx.ui.core.Widget.getWidgetByElement(currentTarget);\n      if (!currentWidget || currentWidget.isAnonymous()) {\n        return;\n      }\n\n      // Correcting target for focus events\n      if (this.__focusEvents[domEvent.getType()]) {\n        currentWidget = currentWidget.getFocusTarget();\n      }\n\n      // Ignore most events in the disabled state.\n      var type = domEvent.getType();\n      if (!currentWidget || !(currentWidget.isEnabled() || this.__ignoreDisabled[type])) {\n        return;\n      }\n\n\n      // PROCESS LISTENERS\n\n      // Load listeners\n      var capture = domEvent.getEventPhase() == qx.event.type.Event.CAPTURING_PHASE;\n      var listeners = this.__manager.getListeners(currentWidget, type, capture);\n\n      if (domEvent.getEventPhase() == qx.event.type.Event.AT_TARGET) {\n        if (!listeners) {\n          listeners = [];\n        }\n        var otherListeners = this.__manager.getListeners(currentWidget, type, !capture);\n        if (otherListeners) {\n          listeners = listeners.concat(otherListeners);\n        }\n      }\n\n      if (!listeners || listeners.length === 0) {\n        return;\n      }\n\n      // Create cloned event with correct target\n      var widgetEvent = qx.event.Pool.getInstance().getObject(domEvent.constructor);\n      domEvent.clone(widgetEvent);\n\n      widgetEvent.setTarget(widgetTarget);\n      widgetEvent.setRelatedTarget(widgetRelatedTarget||null);\n      widgetEvent.setCurrentTarget(currentWidget);\n\n      // Keep original target of DOM event, otherwise map it to the original\n      var orig = domEvent.getOriginalTarget();\n      if (orig)\n      {\n        var widgetOriginalTarget = qx.ui.core.Widget.getWidgetByElement(orig);\n        while (widgetOriginalTarget && widgetOriginalTarget.isAnonymous()) {\n          widgetOriginalTarget = widgetOriginalTarget.getLayoutParent();\n        }\n\n        widgetEvent.setOriginalTarget(widgetOriginalTarget);\n      }\n      else\n      {\n        widgetEvent.setOriginalTarget(domTarget);\n      }\n\n      // Dispatch it on all listeners\n      var tracker = {};\n      qx.event.Utils.then(tracker, function() {\n        return qx.event.Utils.series(listeners, function(listener) {\n          var context = listener.context || currentWidget;\n          return listener.handler.call(context, widgetEvent);\n        });\n      });\n\n      // Synchronize propagation stopped/prevent default property\n      qx.event.Utils.then(tracker, function() {\n        if (widgetEvent.getPropagationStopped()) {\n          domEvent.stopPropagation();\n        }\n\n        if (widgetEvent.getDefaultPrevented()) {\n          domEvent.preventDefault();\n        }\n      });\n\n      return qx.event.Utils.then(tracker, function() {\n        qx.event.Pool.getInstance().poolObject(widgetEvent);\n      });\n    },\n\n\n    // interface implementation\n    registerEvent : function(target, type, capture)\n    {\n      var elem;\n\n      if (type === \"focus\" || type === \"blur\") {\n        elem = target.getFocusElement();\n      } else {\n        elem = target.getContentElement();\n      }\n\n      if (elem) {\n        elem.addListener(type, this._dispatchEvent, this, capture);\n      }\n    },\n\n\n    // interface implementation\n    unregisterEvent : function(target, type, capture)\n    {\n      var elem;\n\n      if (type === \"focus\" || type === \"blur\") {\n        elem = target.getFocusElement();\n      } else {\n        elem = target.getContentElement();\n      }\n\n      if (elem) {\n        elem.removeListener(type, this._dispatchEvent, this, capture);\n      }\n    }\n  },\n\n\n  /*\n  *****************************************************************************\n     DESTRUCTOR\n  *****************************************************************************\n  */\n\n  destruct : function() {\n    this.__manager = null;\n  },\n\n\n  /*\n  *****************************************************************************\n     DEFER\n  *****************************************************************************\n  */\n\n  defer : function(statics) {\n    qx.event.Registration.addHandler(statics);\n  }\n});\n"
  ]
}