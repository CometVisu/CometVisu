{
  "version": 3,
  "sources": [
    "/home/travis/build/CometVisu/CometVisu/external/qooxdoo/framework/source/class/qx/ui/mobile/core/Blocker.js"
  ],
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "extend",
    "ui",
    "mobile",
    "core",
    "Widget",
    "type",
    "statics",
    "ROOT",
    "construct",
    "Blocker",
    "Init",
    "getApplication",
    "getRoot",
    "forceHide",
    "add",
    "properties",
    "defaultCssClass",
    "refine",
    "init",
    "members",
    "__count",
    "show",
    "_updateSize",
    "__registerEventListener",
    "hide",
    "__unregisterEventListener",
    "exclude",
    "isShown",
    "getLayoutParent",
    "getContainerElement",
    "style",
    "top",
    "bom",
    "Viewport",
    "getScrollTop",
    "left",
    "getScrollLeft",
    "width",
    "getWidth",
    "height",
    "getHeight",
    "dimension",
    "element",
    "Dimension",
    "getSize",
    "_onScroll",
    "evt",
    "event",
    "Registration",
    "addListener",
    "window",
    "Event",
    "preventDefault",
    "removeListener",
    "destruct",
    "remove"
  ],
  "mappings": ";;;;;;;;;;;;;;;;;;;;AAAAA,EAAAA,EAAE,CAACC,SAAH,CAAaC,oBAAb,CAAkCC,aAAlC;;AAAA;;;;;;;;;;;;;;;;;;AAkBA;;;;AAIAH,EAAAA,EAAE,CAACI,KAAH,CAASC,MAAT,CAAgB,2BAAhB,EACA;AAEEC,IAAAA,MAAM,EAAGN,EAAE,CAACO,EAAH,CAAMC,MAAN,CAAaC,IAAb,CAAkBC,MAF7B;AAGEC,IAAAA,IAAI,EAAG,WAHT;AAMEC,IAAAA,OAAO,EACP;AACEC,MAAAA,IAAI,EAAG;AADT,KAPF;AAYEC,IAAAA,SAAS,EAAG,qBACZ;AACE;;AAEA,UAAGd,EAAE,CAACO,EAAH,CAAMC,MAAN,CAAaC,IAAb,CAAkBM,OAAlB,CAA0BF,IAA1B,IAAkC,IAArC,EAA2C;AACzCb,QAAAA,EAAE,CAACO,EAAH,CAAMC,MAAN,CAAaC,IAAb,CAAkBM,OAAlB,CAA0BF,IAA1B,GAAiCb,EAAE,CAACS,IAAH,CAAQO,IAAR,CAAaC,cAAb,GAA8BC,OAA9B,EAAjC;AACD;;AACD,WAAKC,SAAL;AACAnB,MAAAA,EAAE,CAACO,EAAH,CAAMC,MAAN,CAAaC,IAAb,CAAkBM,OAAlB,CAA0BF,IAA1B,CAA+BO,GAA/B,CAAmC,IAAnC;AACD,KArBH;AAwBEC,IAAAA,UAAU,EACV;AACE;AACAC,MAAAA,eAAe,EACf;AACEC,QAAAA,MAAM,EAAG,IADX;AAEEC,QAAAA,IAAI,EAAG;AAFT;AAHF,KAzBF;AAmCEC,IAAAA,OAAO,EACP;AACEC,MAAAA,OAAO,EAAG,CADZ;;AAIE;;;;;AAKAC,MAAAA,IAAI,EAAG,gBACP;AACE,YAAI,KAAKD,OAAL,IAAgB,CAApB,EACA;AACE,eAAKE,WAAL;;AACA,eAAKC,uBAAL;;AACA;AACD;;AACD,aAAKH,OAAL;AACD,OAlBH;;AAqBE;;;;AAIAI,MAAAA,IAAI,EAAG,gBACP;AACE,aAAKJ,OAAL;;AACA,YAAI,KAAKA,OAAL,IAAgB,CAApB,EACA;AACE,eAAKA,OAAL,GAAe,CAAf;;AACA,eAAKK,yBAAL;;AACA,eAAKC,OAAL;AACD;AACF,OAlCH;;AAqCE;;;;AAIAb,MAAAA,SAAS,EAAG,qBACZ;AACE,aAAKO,OAAL,GAAe,CAAf;AACA,aAAKI,IAAL;AACD,OA7CH;;AAgDE;;;;AAIAG,MAAAA,OAAO,EAAG,mBACV;AACE,eAAO,KAAKP,OAAL,GAAe,CAAtB;AACD,OAvDH;;AA0DE;;;AAGAE,MAAAA,WAAW,EAAG,uBACd;AACE,YAAG5B,EAAE,CAACO,EAAH,CAAMC,MAAN,CAAaC,IAAb,CAAkBM,OAAlB,CAA0BF,IAA1B,IAAkC,KAAKqB,eAAL,EAArC,EACA;AACE,eAAKC,mBAAL,GAA2BC,KAA3B,CAAiCC,GAAjC,GAAuCrC,EAAE,CAACsC,GAAH,CAAOC,QAAP,CAAgBC,YAAhB,KAAiC,IAAxE;AACA,eAAKL,mBAAL,GAA2BC,KAA3B,CAAiCK,IAAjC,GAAwCzC,EAAE,CAACsC,GAAH,CAAOC,QAAP,CAAgBG,aAAhB,KAAkC,IAA1E;AACA,eAAKP,mBAAL,GAA2BC,KAA3B,CAAiCO,KAAjC,GAAyC3C,EAAE,CAACsC,GAAH,CAAOC,QAAP,CAAgBK,QAAhB,KAA6B,IAAtE;AACA,eAAKT,mBAAL,GAA2BC,KAA3B,CAAiCS,MAAjC,GAA0C7C,EAAE,CAACsC,GAAH,CAAOC,QAAP,CAAgBO,SAAhB,KAA+B,IAAzE;AACD,SAND,MAOK,IAAG,KAAKZ,eAAL,MAA0B,IAA7B,EACL;AACE,cAAIa,SAAS,GAAG/C,EAAE,CAACsC,GAAH,CAAOU,OAAP,CAAeC,SAAf,CAAyBC,OAAzB,CAAiC,KAAKhB,eAAL,GAAuBC,mBAAvB,EAAjC,CAAhB;AACA,eAAKA,mBAAL,GAA2BC,KAA3B,CAAiCO,KAAjC,GAAyCI,SAAS,CAACJ,KAAV,GAAkB,IAA3D;AACA,eAAKR,mBAAL,GAA2BC,KAA3B,CAAiCS,MAAjC,GAA0CE,SAAS,CAACF,MAAV,GAAoB,IAA9D;AACD;AACF,OA5EH;;AA+EE;;;;;AAKAM,MAAAA,SAAS,EAAG,mBAASC,GAAT,EACZ;AACE,aAAKxB,WAAL;AACD,OAvFH;;AA0FE;;;AAGAC,MAAAA,uBAAuB,EAAG,mCAC1B;AACE7B,QAAAA,EAAE,CAACqD,KAAH,CAASC,YAAT,CAAsBC,WAAtB,CAAkCC,MAAlC,EAA0C,QAA1C,EAAoD,KAAK5B,WAAzD,EAAsE,IAAtE;AACA5B,QAAAA,EAAE,CAACqD,KAAH,CAASC,YAAT,CAAsBC,WAAtB,CAAkCC,MAAlC,EAA0C,QAA1C,EAAoD,KAAKL,SAAzD,EAAoE,IAApE;AACA,aAAKI,WAAL,CAAiB,aAAjB,EAAgCvD,EAAE,CAACsC,GAAH,CAAOmB,KAAP,CAAaC,cAA7C,EAA6D,IAA7D;AACA,aAAKH,WAAL,CAAiB,WAAjB,EAA8BvD,EAAE,CAACsC,GAAH,CAAOmB,KAAP,CAAaC,cAA3C,EAA2D,IAA3D;AACD,OAnGH;;AAsGE;;;AAGA3B,MAAAA,yBAAyB,EAAG,qCAC5B;AACE/B,QAAAA,EAAE,CAACqD,KAAH,CAASC,YAAT,CAAsBK,cAAtB,CAAqCH,MAArC,EAA6C,QAA7C,EAAuD,KAAK5B,WAA5D,EAAyE,IAAzE;AACA5B,QAAAA,EAAE,CAACqD,KAAH,CAASC,YAAT,CAAsBK,cAAtB,CAAqCH,MAArC,EAA6C,QAA7C,EAAuD,KAAKL,SAA5D,EAAuE,IAAvE;AACA,aAAKQ,cAAL,CAAoB,aAApB,EAAmC3D,EAAE,CAACsC,GAAH,CAAOmB,KAAP,CAAaC,cAAhD,EAAgE,IAAhE;AACA,aAAKC,cAAL,CAAoB,WAApB,EAAiC3D,EAAE,CAACsC,GAAH,CAAOmB,KAAP,CAAaC,cAA9C,EAA8D,IAA9D;AACD;AA/GH,KApCF;AAuJEE,IAAAA,QAAQ,EAAG,oBACX;AACE5D,MAAAA,EAAE,CAACO,EAAH,CAAMC,MAAN,CAAaC,IAAb,CAAkBM,OAAlB,CAA0BF,IAA1B,CAA+BgD,MAA/B,CAAsC,IAAtC;;AACA,WAAK9B,yBAAL;AACD;AA3JH,GADA;AAtBA/B,EAAAA,EAAE,CAACO,EAAH,CAAMC,MAAN,CAAaC,IAAb,CAAkBM,OAAlB,CAA0BZ,aAA1B,GAA0CA,aAA1C",
  "sourcesContent": [
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2011 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Tino Butz (tbtz)\n\n************************************************************************ */\n\n/**\n * This class blocks events and can be included into all widgets.\n *\n */\nqx.Class.define(\"qx.ui.mobile.core.Blocker\",\n{\n\n  extend : qx.ui.mobile.core.Widget,\n  type : \"singleton\",\n\n\n  statics:\n  {\n    ROOT : null\n  },\n\n\n  construct : function()\n  {\n    this.base(arguments);\n\n    if(qx.ui.mobile.core.Blocker.ROOT == null) {\n      qx.ui.mobile.core.Blocker.ROOT = qx.core.Init.getApplication().getRoot();\n    }\n    this.forceHide();\n    qx.ui.mobile.core.Blocker.ROOT.add(this);\n  },\n\n\n  properties :\n  {\n    // overridden\n    defaultCssClass :\n    {\n      refine : true,\n      init : \"blocker\"\n    }\n  },\n\n\n  members :\n  {\n    __count : 0,\n\n\n    /**\n     * Shows the blocker. When the show method is called a counter is incremented.\n     * The {@link #hide} method needs to be called as many times as the {@link #show}\n     * method. This behavior is useful, when you want to show a loading indicator.\n     */\n    show : function()\n    {\n      if (this.__count == 0)\n      {\n        this._updateSize();\n        this.__registerEventListener();\n        this.base(arguments);\n      }\n      this.__count++;\n    },\n\n\n    /**\n     * Hides the blocker. The blocker is only hidden when the hide method\n     * is called as many times as the {@link #show} method.\n     */\n    hide : function()\n    {\n      this.__count--;\n      if (this.__count <= 0)\n      {\n        this.__count = 0;\n        this.__unregisterEventListener();\n        this.exclude();\n      }\n    },\n\n\n    /**\n     * Force the blocker to hide, even when the show counter is larger than\n     * zero.\n     */\n    forceHide : function()\n    {\n      this.__count = 0;\n      this.hide();\n    },\n\n\n    /**\n     * Whether the blocker is shown or not.\n     * @return {Boolean} <code>true</code> if the blocker is shown\n     */\n    isShown : function()\n    {\n      return this.__count > 0;\n    },\n\n\n    /**\n     * Event handler. Called whenever the size of the blocker should be updated.\n     */\n    _updateSize : function()\n    {\n      if(qx.ui.mobile.core.Blocker.ROOT == this.getLayoutParent())\n      {\n        this.getContainerElement().style.top = qx.bom.Viewport.getScrollTop() + \"px\";\n        this.getContainerElement().style.left = qx.bom.Viewport.getScrollLeft() + \"px\";\n        this.getContainerElement().style.width = qx.bom.Viewport.getWidth() + \"px\";\n        this.getContainerElement().style.height = qx.bom.Viewport.getHeight()  + \"px\";\n      }\n      else if(this.getLayoutParent() != null)\n      {\n        var dimension = qx.bom.element.Dimension.getSize(this.getLayoutParent().getContainerElement());\n        this.getContainerElement().style.width = dimension.width + \"px\";\n        this.getContainerElement().style.height = dimension.height  + \"px\";\n      }\n    },\n\n\n    /**\n     * Event handler. Called when the scroll event occurs.\n     *\n     * @param evt {Event} The scroll event\n     */\n    _onScroll : function(evt)\n    {\n      this._updateSize();\n    },\n\n\n    /**\n     * Registers all needed event listener.\n     */\n    __registerEventListener : function()\n    {\n      qx.event.Registration.addListener(window, \"resize\", this._updateSize, this);\n      qx.event.Registration.addListener(window, \"scroll\", this._onScroll, this);\n      this.addListener(\"pointerdown\", qx.bom.Event.preventDefault, this);\n      this.addListener(\"pointerup\", qx.bom.Event.preventDefault, this);\n    },\n\n\n    /**\n     * Unregisters all needed event listener.\n     */\n    __unregisterEventListener : function()\n    {\n      qx.event.Registration.removeListener(window, \"resize\", this._updateSize, this);\n      qx.event.Registration.removeListener(window, \"scroll\", this._onScroll, this);\n      this.removeListener(\"pointerdown\", qx.bom.Event.preventDefault, this);\n      this.removeListener(\"pointerup\", qx.bom.Event.preventDefault, this);\n    }\n  },\n\n\n  destruct : function()\n  {\n    qx.ui.mobile.core.Blocker.ROOT.remove(this);\n    this.__unregisterEventListener();\n  }\n});\n"
  ]
}