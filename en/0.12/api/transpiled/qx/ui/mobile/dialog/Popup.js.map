{
  "version": 3,
  "sources": [
    "/home/travis/build/CometVisu/CometVisu/external/qooxdoo/framework/source/class/qx/ui/mobile/dialog/Popup.js"
  ],
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "extend",
    "ui",
    "mobile",
    "core",
    "Widget",
    "statics",
    "ROOT",
    "construct",
    "widget",
    "anchor",
    "exclude",
    "dialog",
    "Popup",
    "Init",
    "getApplication",
    "getRoot",
    "add",
    "__anchor",
    "_initializeChild",
    "properties",
    "defaultCssClass",
    "refine",
    "init",
    "title",
    "apply",
    "nullable",
    "check",
    "event",
    "icon",
    "modal",
    "hideOnBlockerTap",
    "members",
    "__isShown",
    "__childrenContainer",
    "__percentageTop",
    "__widget",
    "__titleWidget",
    "__lastPopupDimension",
    "_updatePosition",
    "anchorClasses",
    "i",
    "length",
    "removeCssClass",
    "addCssClass",
    "rootHeight",
    "getHeight",
    "rootWidth",
    "getWidth",
    "rootPosition",
    "bom",
    "element",
    "Location",
    "get",
    "getContainerElement",
    "anchorPosition",
    "popupDimension",
    "Dimension",
    "getSize",
    "computedPopupPosition",
    "util",
    "placement",
    "Placement",
    "compute",
    "width",
    "left",
    "height",
    "top",
    "right",
    "bottom",
    "_resetPosition",
    "isTop",
    "isLeft",
    "isOutsideViewPort",
    "_positionToCenter",
    "placeTo",
    "show",
    "fireEvent",
    "__registerEventListener",
    "getModal",
    "Blocker",
    "getInstance",
    "getHideOnBlockerTap",
    "addListener",
    "hide",
    "__unregisterEventListener",
    "removeListener",
    "hideWithDelay",
    "delay",
    "lang",
    "Function",
    "isShown",
    "toggleVisibility",
    "_setStyle",
    "_trackUserTap",
    "evt",
    "clientX",
    "getViewportLeft",
    "clientY",
    "getViewportTop",
    "popupLocation",
    "isOutsideWidget",
    "container",
    "style",
    "position",
    "marginLeft",
    "parseInt",
    "offsetWidth",
    "marginTop",
    "offsetHeight",
    "Registration",
    "window",
    "Composite",
    "layout",
    "VBox",
    "setDefaultCssClass",
    "_add",
    "_createTitleWidget",
    "remove",
    "flex",
    "getTitle",
    "getIcon",
    "basic",
    "Atom",
    "_applyTitle",
    "value",
    "old",
    "setLabel",
    "addBefore",
    "_applyIcon",
    "setIcon",
    "removeWidget",
    "setAnchor",
    "getTitleWidget",
    "destruct",
    "_disposeObjects",
    "_anchor"
  ],
  "mappings": "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",
  "sourcesContent": [
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2011 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Gabriel Munteanu (gabios)\n     * Christopher Zuendorf (czuendorf)\n\n************************************************************************ */\n\n/**\n * The popup represents a widget that gets shown above other widgets,\n * usually to present more info/details regarding an item in the application.\n *\n * There are 3 usages for now:\n *\n * <pre class='javascript'>\n * var widget = new qx.ui.mobile.form.Button(\"Error!\");\n * var popup = new qx.ui.mobile.dialog.Popup(widget);\n * popup.show();\n * </pre>\n * Here we show a popup consisting of a single buttons alerting the user\n * that an error has occurred.\n * It will be centered to the screen.\n * <pre class='javascript'>\n * var label = new qx.ui.mobile.basic.Label(\"Item1\");\n * var widget = new qx.ui.mobile.form.Button(\"Error!\");\n * var popup = new qx.ui.mobile.dialog.Popup(widget, label);\n * popup.show();\n * widget.addListener(\"tap\", function(){\n *   popup.hide();\n * });\n *\n * </pre>\n *\n * In this case everything is as above, except that the popup will get shown next to \"label\"\n * so that the user can understand that the info presented is about the \"Item1\"\n * we also add a tap listener to the button that will hide out popup.\n *\n * Once created, the instance is reused between show/hide calls.\n *\n * <pre class='javascript'>\n * var widget = new qx.ui.mobile.form.Button(\"Error!\");\n * var popup = new qx.ui.mobile.dialog.Popup(widget);\n * popup.placeTo(25,100);\n * popup.show();\n * </pre>\n *\n * Same as the first example, but this time the popup will be shown at the 25,100 coordinates.\n *\n *\n */\nqx.Class.define(\"qx.ui.mobile.dialog.Popup\",\n{\n  extend : qx.ui.mobile.core.Widget,\n\n\n  statics:\n  {\n    ROOT : null\n  },\n\n\n  /**\n   * @param widget {qx.ui.mobile.core.Widget} the widget that will be shown in the popup\n   * @param anchor {qx.ui.mobile.core.Widget?} optional parameter, a widget to attach this popup to\n   */\n  construct : function(widget, anchor)\n  {\n    this.base(arguments);\n    this.exclude();\n\n    if(qx.ui.mobile.dialog.Popup.ROOT == null) {\n      qx.ui.mobile.dialog.Popup.ROOT = qx.core.Init.getApplication().getRoot();\n    }\n    qx.ui.mobile.dialog.Popup.ROOT.add(this);\n\n    this.__anchor = anchor;\n\n    if(widget) {\n      this._initializeChild(widget);\n    }\n  },\n\n\n  properties :\n  {\n    // overridden\n    defaultCssClass :\n    {\n      refine : true,\n      init : \"popup\"\n    },\n\n\n    /**\n     * The label/caption/text of the qx.ui.mobile.basic.Atom instance\n     */\n    title :\n    {\n      apply : \"_applyTitle\",\n      nullable : true,\n      check : \"String\",\n      event : \"changeTitle\"\n    },\n\n\n    /**\n     * Any URI String supported by qx.ui.mobile.basic.Image to display an icon\n     */\n    icon :\n    {\n      check : \"String\",\n      apply : \"_applyIcon\",\n      nullable : true,\n      event : \"changeIcon\"\n    },\n\n\n    /**\n     * Whether the popup should be displayed modal.\n     */\n    modal :\n    {\n      init : false,\n      check : \"Boolean\",\n      nullable: false\n    },\n\n\n    /**\n     * Indicates whether the a modal popup should disappear when user taps/clicks on Blocker.\n     */\n    hideOnBlockerTap :\n    {\n      check : \"Boolean\",\n      init : false\n    }\n  },\n\n\n  members :\n  {\n    __isShown : false,\n    __childrenContainer : null,\n    __percentageTop : null,\n    __anchor: null,\n    __widget: null,\n    __titleWidget: null,\n    __lastPopupDimension : null,\n\n\n    /**\n     * Event handler. Called whenever the position of the popup should be updated.\n     */\n    _updatePosition : function()\n    {\n      // Traverse single anchor classes for removal, for preventing 'domupdated' event if no CSS classes changed.\n      var anchorClasses = ['top', 'bottom', 'left', 'right', 'anchor'];\n      for (var i = 0; i < anchorClasses.length; i++) {\n        this.removeCssClass(anchorClasses[i]);\n      }\n\n      if (this.__anchor)\n      {\n        this.addCssClass('anchor');\n\n        var rootHeight = qx.ui.mobile.dialog.Popup.ROOT.getHeight();\n        var rootWidth = qx.ui.mobile.dialog.Popup.ROOT.getWidth();\n\n        var rootPosition = qx.bom.element.Location.get(qx.ui.mobile.dialog.Popup.ROOT.getContainerElement());\n        var anchorPosition = qx.bom.element.Location.get(this.__anchor.getContainerElement());\n        var popupDimension = qx.bom.element.Dimension.getSize(this.getContainerElement());\n\n        this.__lastPopupDimension = popupDimension;\n\n        var computedPopupPosition = qx.util.placement.Placement.compute(popupDimension, {\n          width: rootPosition.left + rootWidth,\n          height: rootPosition.top + rootHeight\n        }, anchorPosition, {\n          left: 0,\n          right: 0,\n          top: 0,\n          bottom: 0\n        }, \"bottom-left\", \"keep-align\", \"keep-align\");\n\n        // Reset Anchor.\n        this._resetPosition();\n\n        var isTop = anchorPosition.top > computedPopupPosition.top;\n        var isLeft = anchorPosition.left > computedPopupPosition.left;\n\n        computedPopupPosition.top = computedPopupPosition.top - rootPosition.top;\n        computedPopupPosition.left = computedPopupPosition.left - rootPosition.left;\n\n        var isOutsideViewPort = computedPopupPosition.top < 0\n          || computedPopupPosition.left < 0\n          || computedPopupPosition.left + popupDimension.width > rootWidth\n          || computedPopupPosition.top + popupDimension.height > rootHeight;\n\n        if(isOutsideViewPort) {\n          this._positionToCenter();\n        } else {\n          if (isTop) {\n            this.addCssClass('bottom');\n          } else {\n            this.addCssClass('top');\n          }\n          if (isLeft) {\n            this.addCssClass('right');\n          } else {\n            this.addCssClass('left');\n          }\n\n          this.placeTo(computedPopupPosition.left, computedPopupPosition.top);\n        }\n      } else if (this.__childrenContainer) {\n        // No Anchor\n        this._positionToCenter();\n      }\n    },\n\n\n    /**\n     * This method shows the popup.\n     * First it updates the position, then registers the event handlers, and shows it.\n     */\n    show : function()\n    {\n      if (!this.__isShown)\n      {\n        qx.core.Init.getApplication().fireEvent(\"popup\");\n\n        this.__registerEventListener();\n\n        // Move outside of viewport\n        this.placeTo(-1000,-1000);\n\n        // Needs to be added to screen, before rendering position, for calculating\n        // objects height.\n        this.base(arguments);\n\n        // Now render position.\n        this._updatePosition();\n      }\n      this.__isShown = true;\n\n      if(this.getModal() === true)\n      {\n        qx.ui.mobile.core.Blocker.getInstance().show();\n\n        if(this.getHideOnBlockerTap()) {\n          qx.ui.mobile.core.Blocker.getInstance().addListener(\"tap\", this.hide, this);\n        }\n      }\n    },\n\n\n    /**\n     * Hides the popup.\n     */\n    hide : function()\n    {\n      if (this.__isShown)\n      {\n        this.__unregisterEventListener();\n\n        this.exclude();\n      }\n      this.__isShown = false;\n\n      if(this.getModal())\n      {\n        qx.ui.mobile.core.Blocker.getInstance().hide();\n      }\n\n      qx.ui.mobile.core.Blocker.getInstance().removeListener(\"tap\", this.hide, this);\n    },\n\n\n    /**\n     * Hides the popup after a given time delay.\n     * @param delay {Integer} time delay in ms.\n     */\n    hideWithDelay : function(delay) {\n      if (delay) {\n        qx.lang.Function.delay(this.hide, delay, this);\n      } else {\n        this.hide();\n      }\n    },\n\n\n    /**\n     * Returns the shown state of this popup.\n     * @return {Boolean} whether the popup is shown or not.\n     */\n    isShown : function() {\n      return this.__isShown;\n    },\n\n\n    /**\n     * Toggles the visibility of this popup.\n     */\n    toggleVisibility : function() {\n      if(this.__isShown == true) {\n        this.hide();\n      } else {\n        this.show();\n      }\n    },\n\n\n    /**\n     * This method positions the popup widget at the coordinates specified.\n     * @param left {Integer} - the value the will be set to container's left style property\n     * @param top {Integer} - the value the will be set to container's top style property\n     */\n    placeTo : function(left, top)\n    {\n      this._setStyle(\"left\", left + \"px\");\n      this._setStyle(\"top\", top + \"px\");\n    },\n\n\n    /**\n     * Tracks the user tap on root and hides the widget if <code>pointerdown</code> event\n     * occurs outside of the widgets bounds.\n     * @param evt {qx.event.type.Pointer} the pointer event.\n     */\n    _trackUserTap : function(evt) {\n      var clientX = evt.getViewportLeft();\n      var clientY = evt.getViewportTop();\n\n      var popupLocation = qx.bom.element.Location.get(this.getContainerElement());\n\n      var isOutsideWidget =  clientX < popupLocation.left\n        || clientX > popupLocation.left + this.__lastPopupDimension.width\n        || clientY > popupLocation.top + this.__lastPopupDimension.height\n        || clientY < popupLocation.top;\n\n      if(isOutsideWidget) {\n        this.hide();\n      }\n    },\n\n\n    /**\n     * Centers this widget to window's center position.\n     */\n    _positionToCenter : function()\n    {\n      var container = this.getContainerElement();\n      container.style.position = \"absolute\";\n      container.style.marginLeft = -parseInt(container.offsetWidth/2) + \"px\";\n      container.style.marginTop = -parseInt(container.offsetHeight/2) + \"px\";\n      container.style.left = \"50%\";\n      container.style.top = \"50%\";\n    },\n\n\n    /**\n     * Resets the position of this element (left, top, margins...)\n     */\n    _resetPosition : function()\n    {\n      var container = this.getContainerElement();\n      container.style.left = \"0px\";\n      container.style.top = \"0px\";\n      container.style.marginLeft = null;\n      container.style.marginTop = null;\n    },\n\n\n    /**\n     * Registers all needed event listeners\n     */\n    __registerEventListener : function()\n    {\n      qx.core.Init.getApplication().addListener(\"stop\", this.hide, this);\n      qx.core.Init.getApplication().addListener(\"popup\", this.hide, this);\n\n      qx.event.Registration.addListener(window, \"resize\", this._updatePosition, this);\n\n      if(this.__anchor) {\n        this.__anchor.addCssClass(\"anchor-target\");\n        qx.ui.mobile.dialog.Popup.ROOT.addListener(\"pointerdown\",this._trackUserTap,this);\n      }\n    },\n\n\n    /**\n     * Unregisters all needed event listeners\n     */\n    __unregisterEventListener : function()\n    {\n      qx.core.Init.getApplication().removeListener(\"stop\", this.hide, this);\n      qx.core.Init.getApplication().removeListener(\"popup\", this.hide, this);\n\n      qx.event.Registration.removeListener(window, \"resize\", this._updatePosition, this);\n\n      if(this.__anchor) {\n        this.__anchor.removeCssClass(\"anchor-target\");\n        qx.ui.mobile.dialog.Popup.ROOT.removeListener(\"pointerdown\", this._trackUserTap, this);\n      }\n    },\n\n\n    /**\n     * This method creates the container where the popup's widget will be placed\n     * and adds it to the popup.\n     * @param widget {qx.ui.mobile.core.Widget} - what to show in the popup\n     *\n     */\n    _initializeChild : function(widget)\n    {\n      if(this.__childrenContainer == null) {\n        this.__childrenContainer = new qx.ui.mobile.container.Composite(new qx.ui.mobile.layout.VBox());\n        this.__childrenContainer.setDefaultCssClass(\"popup-content\");\n        this._add(this.__childrenContainer);\n      }\n\n      if(this._createTitleWidget()) {\n        this.__childrenContainer.remove(this._createTitleWidget());\n        this.__childrenContainer.add(this._createTitleWidget());\n      }\n\n      this.__childrenContainer.add(widget, {\n        flex: 1\n      });\n\n      widget.addListener(\"domupdated\", this._updatePosition, this);\n\n      this.__widget = widget;\n    },\n\n\n    /**\n     * Creates the title atom widget.\n     *\n     * @return {qx.ui.mobile.basic.Atom} The title atom widget.\n     */\n    _createTitleWidget : function()\n    {\n      if(this.__titleWidget) {\n        return this.__titleWidget;\n      }\n      if(this.getTitle() || this.getIcon())\n      {\n        this.__titleWidget = new qx.ui.mobile.basic.Atom(this.getTitle(), this.getIcon());\n        this.__titleWidget.addCssClass('popup-title');\n        return this.__titleWidget;\n      }\n      else\n      {\n        return null;\n      }\n    },\n\n\n    // property apply\n    _applyTitle : function(value, old)\n    {\n      if(value) {\n        if(this.__titleWidget)\n        {\n          this.__titleWidget.setLabel(value);\n        }\n        else\n        {\n          this.__titleWidget = new qx.ui.mobile.basic.Atom(value, this.getIcon());\n          this.__titleWidget.addCssClass('popup-title');\n\n          if(this.__widget) {\n            this.__childrenContainer.addBefore(this._createTitleWidget(), this.__widget);\n          } else {\n            if(this.__childrenContainer) {\n              this.__childrenContainer.add(this._createTitleWidget());\n            }\n          }\n        }\n      }\n    },\n\n\n    // property apply\n    _applyIcon : function(value, old)\n    {\n      if (value) {\n        if (this.__titleWidget) {\n          this.__titleWidget.setIcon(value);\n        } else {\n          this.__titleWidget = new qx.ui.mobile.basic.Atom(this.getTitle(), value);\n          this.__titleWidget.addCssClass('popup-title');\n\n          if (this.__widget) {\n            this.__childrenContainer.addBefore(this._createTitleWidget(), this.__widget);\n          } else {\n            if (this.__childrenContainer) {\n              this.__childrenContainer.add(this._createTitleWidget());\n            }\n          }\n        }\n      }\n    },\n\n\n    /**\n     * Adds the widget that will be shown in this popup. This method can be used in the case when you have removed the widget from the popup\n     * or you haven't passed it in the constructor.\n     * @param widget {qx.ui.mobile.core.Widget} - what to show in the popup\n     */\n    add : function(widget)\n    {\n      this.removeWidget();\n      this._initializeChild(widget);\n    },\n\n\n    /**\n     * A widget to attach this popup to.\n     *\n     * @param widget {qx.ui.mobile.core.Widget} The anchor widget.\n     */\n    setAnchor : function(widget) {\n      this.__anchor = widget;\n      this._updatePosition();\n    },\n\n\n    /**\n     * Returns the title widget.\n     *\n     * @return {qx.ui.mobile.basic.Atom} The title widget.\n     */\n    getTitleWidget : function() {\n      return this.__titleWidget;\n    },\n\n\n    /**\n     * This method removes the widget shown in the popup.\n     * @return {qx.ui.mobile.core.Widget|null} The removed widget or <code>null</code>\n     * if the popup doesn't have an attached widget\n     */\n    removeWidget : function()\n    {\n      if(this.__widget)\n      {\n        this.__widget.removeListener(\"domupdated\", this._updatePosition, this);\n        this.__childrenContainer.remove(this.__widget);\n        return this.__widget;\n      }\n      else\n      {\n        if (qx.core.Environment.get(\"qx.debug\")) {\n          qx.log.Logger.debug(this, \"this popup has no widget attached yet\");\n        }\n        return null;\n      }\n    }\n  },\n\n\n  destruct : function()\n  {\n    this.__unregisterEventListener();\n    this._disposeObjects(\"__childrenContainer\");\n\n    this.__isShown = this.__percentageTop = this._anchor = this.__widget = this.__lastPopupDimension = null;\n  }\n});\n"
  ]
}