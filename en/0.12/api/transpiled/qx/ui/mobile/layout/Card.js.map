{
  "version": 3,
  "sources": [
    "/home/runner/work/CometVisu/CometVisu/node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/ui/mobile/layout/Card.js"
  ],
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "extend",
    "ui",
    "mobile",
    "layout",
    "Abstract",
    "construct",
    "__cardAnimation",
    "CardAnimation",
    "events",
    "animationStart",
    "animationEnd",
    "properties",
    "defaultAnimation",
    "check",
    "init",
    "showAnimation",
    "animationDuration",
    "members",
    "__nextWidget",
    "__currentWidget",
    "__inAnimation",
    "__animation",
    "__reverse",
    "_getCssClasses",
    "connectToChildWidget",
    "widget",
    "addCssClass",
    "exclude",
    "disconnectFromChildWidget",
    "removeCssClass",
    "updateLayout",
    "action",
    "_showWidget",
    "setCardAnimation",
    "value",
    "getCardAnimation",
    "__stopAnimation",
    "getShowAnimation",
    "core",
    "Environment",
    "get",
    "animation",
    "getMap",
    "_swapWidget",
    "getDefaultAnimation",
    "reverse",
    "bom",
    "AnimationFrame",
    "request",
    "__startAnimation",
    "_fixWidgetSize",
    "hasResizeMixin",
    "hasMixin",
    "constructor",
    "MResize",
    "fixSize",
    "_releaseWidgetSize",
    "releaseFixedSize",
    "isDisposed",
    "fireDataEvent",
    "fromElement",
    "getContainerElement",
    "toElement",
    "event",
    "Registration",
    "addListener",
    "_onAnimationEnd",
    "fromCssClasses",
    "__getAnimationClasses",
    "toCssClasses",
    "_widget",
    "toElementAnimation",
    "getAnimation",
    "fromElementAnimation",
    "element",
    "addClasses",
    "Animation",
    "animate",
    "evt",
    "removeListener",
    "removeClasses",
    "direction",
    "classes",
    "push",
    "destruct",
    "_disposeObjects",
    "Card"
  ],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAAA,EAAAA,EAAE,CAACC,SAAH,CAAaC,oBAAb,CAAkCC,aAAlC;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACAH,EAAAA,EAAE,CAACI,KAAH,CAASC,MAAT,CAAgB,0BAAhB,EACA;AACEC,IAAAA,MAAM,EAAGN,EAAE,CAACO,EAAH,CAAMC,MAAN,CAAaC,MAAb,CAAoBC,QAD/B;;AAIE;AACF;AACA;AACA;AACA;AACEC,IAAAA,SAAS,EAAG,qBACZ;AACE;AAEA,WAAKC,SAAL,GAAuB,IAAIZ,EAAE,CAACO,EAAH,CAAMC,MAAN,CAAaC,MAAb,CAAoBI,aAAxB,EAAvB;AACD,KAdH;;AAiBE;AACF;AACA;AACA;AACA;AAEEC,IAAAA,MAAM,EACN;AACE;AACAC,MAAAA,cAAc,EAAG,oBAFnB;;AAIE;AACAC,MAAAA,YAAY,EAAG;AALjB,KAxBF;;AAiCC;AACD;AACA;AACA;AACA;AAEEC,IAAAA,UAAU,EACV;AACE;AACAC,MAAAA,gBAAgB,EAChB;AACEC,QAAAA,KAAK,EAAG,QADV;AAEEC,QAAAA,IAAI,EAAG;AAFT,OAHF;;AASE;AACAC,MAAAA,aAAa,EACb;AACEF,QAAAA,KAAK,EAAG,SADV;AAEEC,QAAAA,IAAI,EAAG;AAFT,OAXF;;AAiBE;AACAE,MAAAA,iBAAiB,EACjB;AACEH,QAAAA,KAAK,EAAG,SADV;AAEEC,QAAAA,IAAI,EAAG;AAFT;AAnBF,KAxCF;;AAkEC;AACD;AACA;AACA;AACA;AAEEG,IAAAA,OAAO,EACP;AACEC,MAAAA,SAAY,EAAG,IADjB;AAEEC,MAAAA,SAAe,EAAG,IAFpB;AAGEC,MAAAA,SAAa,EAAG,IAHlB;AAIEC,MAAAA,SAAW,EAAG,IAJhB;AAKEC,MAAAA,SAAS,EAAG,IALd;AAMEhB,MAAAA,SAAe,EAAG,IANpB;AASE;AACAiB,MAAAA,cAAc,EAAG,0BAAW;AAC1B,eAAO,CAAC,aAAD,EAAe,SAAf,CAAP;AACD,OAZH;AAeE;AACAC,MAAAA,oBAAoB,EAAG,8BAASC,MAAT,EACvB;AACE;;AACA,YAAIA,MAAJ,EAAY;AACVA,UAAAA,MAAM,CAACC,WAAP,CAAmB,kBAAnB;AACAD,UAAAA,MAAM,CAACC,WAAP,CAAmB,UAAnB;AACAD,UAAAA,MAAM,CAACE,OAAP;AACD;AACF,OAxBH;AA2BE;AACAC,MAAAA,yBAAyB,EAAG,mCAASH,MAAT,EAC5B;AACE;AACAA,QAAAA,MAAM,CAACI,cAAP,CAAsB,kBAAtB;AACD,OAhCH;AAmCE;AACAC,MAAAA,YAAY,EAAG,sBAASL,MAAT,EAAiBM,MAAjB,EAAyBpB,UAAzB,EACf;AACE,YAAIoB,MAAM,IAAI,SAAd,EACA;AACE,eAAKC,WAAL,CAAiBP,MAAjB,EAAyBd,UAAzB;AACD;;AACD,wEAAqBc,MAArB,EAA6BM,MAA7B,EAAqCpB,UAArC;AACD,OA3CH;;AA8CE;AACJ;AACA;AACA;AACIsB,MAAAA,gBAAgB,EAAG,0BAASC,KAAT,EAAgB;AACjC,aAAK5B,SAAL,GAAuB4B,KAAvB;AACD,OApDH;;AAuDE;AACJ;AACA;AACA;AACIC,MAAAA,gBAAgB,EAAG,4BAAW;AAC5B,eAAO,KAAK7B,SAAZ;AACD,OA7DH;;AAgEE;AACJ;AACA;AACA;AACA;AACA;AACI0B,MAAAA,WAAW,EAAG,qBAASP,MAAT,EAAiBd,UAAjB,EACd;AACE,YAAI,KAAKO,SAAL,IAAqBO,MAAzB,EAAiC;AAC/B;AACD;;AAED,YAAI,KAAKL,SAAT,EAAwB;AACtB,eAAKgB,SAAL;AACD;;AAED,aAAKlB,SAAL,GAAoBO,MAApB;;AAGA,YAAI,KAAKN,SAAL,IAAwB,KAAKkB,gBAAL,EAAxB,IAAmD3C,EAAE,CAAC4C,IAAH,CAAQC,WAAR,CAAoBC,GAApB,CAAwB,kBAAxB,CAAvD,EAAoG;AAClG7B,UAAAA,UAAU,GAAGA,UAAU,IAAI,EAA3B,CADkG,CAGlG;;AACA,cAAIA,UAAU,CAAC8B,SAAX,KAAyB,IAAzB,IAAiC,KAAKN,gBAAL,GAAwBO,MAAxB,GAAiC/B,UAAU,CAAC8B,SAA5C,MAA2D,IAAhG,EAAsG;AACpG,iBAAKE,WAAL;;AACA;AACD;;AAED,eAAKtB,SAAL,GAAmBV,UAAU,CAAC8B,SAAX,IAAwB,KAAKG,mBAAL,EAA3C;;AAEA,cAAIjC,UAAU,CAACoB,MAAX,IAAqBpB,UAAU,CAACoB,MAAX,KAAsB,MAA/C,EAAuD;AACrD,iBAAKT,SAAL,GAAiB,IAAjB;AACD,WAFD,MAEO;AACLX,YAAAA,UAAU,CAACkC,OAAX,GAAqBlC,UAAU,CAACkC,OAAX,KAAuB,IAAvB,GAA8B,KAA9B,GAAsClC,UAAU,CAACkC,OAAtE;AACA,iBAAKvB,SAAL,GAAiBX,UAAU,CAACkC,OAA5B;AACD;;AAEDnD,UAAAA,EAAE,CAACoD,GAAH,CAAOC,cAAP,CAAsBC,OAAtB,CAA8B,YAAW;AACvC,iBAAKC,SAAL,CAAsBxB,MAAtB;AACD,WAFD,EAEG,IAFH;AAGD,SArBD,MAqBO;AACL,eAAKkB,WAAL;AACD;AACF,OA3GH;;AA8GE;AACJ;AACA;AACIA,MAAAA,WAAW,EAAG,uBAAW;AACvB,YAAI,KAAKxB,SAAT,EAA0B;AACxB,eAAKA,SAAL,CAAqBU,cAArB,CAAoC,QAApC;;AACA,eAAKV,SAAL,CAAqBQ,OAArB;AACD;;AACD,aAAKR,SAAL,GAAuB,KAAKD,SAA5B;;AACA,aAAKC,SAAL,CAAqBO,WAArB,CAAiC,QAAjC;AACD,OAxHH;;AA2HE;AACJ;AACA;AACA;AACA;AACA;AACIwB,MAAAA,cAAc,EAAG,wBAASzB,MAAT,EAAiB;AAChC,YAAGA,MAAH,EAAW;AACT,cAAI0B,cAAc,GAAGzD,EAAE,CAACI,KAAH,CAASsD,QAAT,CAAkB3B,MAAM,CAAC4B,WAAzB,EAAqC3D,EAAE,CAACO,EAAH,CAAMC,MAAN,CAAaoC,IAAb,CAAkBgB,OAAvD,CAArB;;AACA,cAAGH,cAAH,EAAmB;AACjB;AACA1B,YAAAA,MAAM,CAAC8B,OAAP;AACD;AACF;AACF,OAzIH;;AA4IE;AACJ;AACA;AACA;AACA;AACA;AACIC,MAAAA,kBAAkB,EAAG,4BAAS/B,MAAT,EAAiB;AACpC,YAAGA,MAAH,EAAW;AACT,cAAI0B,cAAc,GAAGzD,EAAE,CAACI,KAAH,CAASsD,QAAT,CAAkB3B,MAAM,CAAC4B,WAAzB,EAAqC3D,EAAE,CAACO,EAAH,CAAMC,MAAN,CAAaoC,IAAb,CAAkBgB,OAAvD,CAArB;;AACA,cAAGH,cAAH,EAAmB;AACjB;AACA1B,YAAAA,MAAM,CAACgC,gBAAP;AACD;AACF;AACF,OA1JH;;AA6JE;AACJ;AACA;AACA;AACA;AACIR,MAAAA,SAAgB,EAAG,mBAASxB,MAAT,EACnB;AACE,YAAIA,MAAM,CAACiC,UAAP,EAAJ,EAAyB;AACvB;AACD,SAHH,CAIE;;;AACA,aAAKtC,SAAL,GAAqB,IAArB;AAEA,aAAKuC,aAAL,CAAmB,gBAAnB,EAAqC,CAAC,KAAKxC,SAAN,EAAuBM,MAAvB,CAArC;;AACA,YAAImC,WAAW,GAAG,KAAKzC,SAAL,CAAqB0C,mBAArB,EAAlB;;AACA,YAAIC,SAAS,GAAGrC,MAAM,CAACoC,mBAAP,EAAhB;AAEAnE,QAAAA,EAAE,CAACqE,KAAH,CAASC,YAAT,CAAsBC,WAAtB,CAAkCL,WAAlC,EAA+C,cAA/C,EAA+D,KAAKM,eAApE,EAAqF,IAArF;AACAxE,QAAAA,EAAE,CAACqE,KAAH,CAASC,YAAT,CAAsBC,WAAtB,CAAkCH,SAAlC,EAA6C,cAA7C,EAA6D,KAAKI,eAAlE,EAAmF,IAAnF;;AAEA,YAAIC,cAAc,GAAG,KAAKC,SAAL,CAA2B,KAA3B,CAArB;;AACA,YAAIC,YAAY,GAAG,KAAKD,SAAL,CAA2B,IAA3B,CAAnB;;AAEA,aAAKE,OAAL,CAAa5C,WAAb,CAAyB,iBAAzB;;AAEA,YAAI6C,kBAAkB,GAAG,KAAKjE,SAAL,CAAqBkE,YAArB,CAAkC,KAAKnD,SAAvC,EAAoD,IAApD,EAA0D,KAAKC,SAA/D,CAAzB;;AACA,YAAImD,oBAAoB,GAAG,KAAKnE,SAAL,CAAqBkE,YAArB,CAAkC,KAAKnD,SAAvC,EAAoD,KAApD,EAA2D,KAAKC,SAAhE,CAA3B;;AAEA5B,QAAAA,EAAE,CAACoD,GAAH,CAAO4B,OAAP,CAAe5E,KAAf,CAAqB6E,UAArB,CAAgCb,SAAhC,EAA2CO,YAA3C;AACA3E,QAAAA,EAAE,CAACoD,GAAH,CAAO4B,OAAP,CAAe5E,KAAf,CAAqB6E,UAArB,CAAgCf,WAAhC,EAA6CO,cAA7C;AAEAzE,QAAAA,EAAE,CAACoD,GAAH,CAAO4B,OAAP,CAAeE,SAAf,CAAyBC,OAAzB,CAAiCf,SAAjC,EAA4CS,kBAA5C;AACA7E,QAAAA,EAAE,CAACoD,GAAH,CAAO4B,OAAP,CAAeE,SAAf,CAAyBC,OAAzB,CAAiCjB,WAAjC,EAA8Ca,oBAA9C;AACD,OA9LH;;AAiME;AACJ;AACA;AACA;AACA;AACIP,MAAAA,eAAe,EAAG,yBAASY,GAAT,EAClB;AACE,aAAK1C,SAAL;;AACA,aAAKuB,aAAL,CAAmB,cAAnB,EAAmC,CAAC,KAAKxC,SAAN,EAAuB,KAAKD,SAA5B,CAAnC;AACD,OA1MH;;AA6ME;AACJ;AACA;AACIkB,MAAAA,SAAe,EAAG,qBAClB;AACE,YAAI,KAAKhB,SAAT,EACA;AACE,cAAIwC,WAAW,GAAG,KAAKzC,SAAL,CAAqB0C,mBAArB,EAAlB;;AACA,cAAIC,SAAS,GAAG,KAAK5C,SAAL,CAAkB2C,mBAAlB,EAAhB;;AAEAnE,UAAAA,EAAE,CAACqE,KAAH,CAASC,YAAT,CAAsBe,cAAtB,CAAqCnB,WAArC,EAAkD,cAAlD,EAAkE,KAAKM,eAAvE,EAAwF,IAAxF;AACAxE,UAAAA,EAAE,CAACqE,KAAH,CAASC,YAAT,CAAsBe,cAAtB,CAAqCjB,SAArC,EAAgD,cAAhD,EAAgE,KAAKI,eAArE,EAAsF,IAAtF;AAEAxE,UAAAA,EAAE,CAACoD,GAAH,CAAO4B,OAAP,CAAe5E,KAAf,CAAqBkF,aAArB,CAAmCpB,WAAnC,EAAgD,KAAKQ,SAAL,CAA2B,KAA3B,CAAhD;AACA1E,UAAAA,EAAE,CAACoD,GAAH,CAAO4B,OAAP,CAAe5E,KAAf,CAAqBkF,aAArB,CAAmClB,SAAnC,EAA8C,KAAKM,SAAL,CAA2B,IAA3B,CAA9C;;AAEA,eAAKzB,WAAL;;AACA,eAAK2B,OAAL,CAAazC,cAAb,CAA4B,iBAA5B;;AACA,eAAKT,SAAL,GAAqB,KAArB;AACD;AACF,OAjOH;;AAoOE;AACJ;AACA;AACA;AACA;AACA;AACA;AACIgD,MAAAA,SAAqB,EAAG,mBAASa,SAAT,EACxB;AACE,YAAIC,OAAO,GAAG,CAAC,gBAAD,EAAmB,KAAK7D,SAAxB,EAAqC4D,SAArC,CAAd;;AACA,YAAI,KAAK3D,SAAT,EAAoB;AAClB4D,UAAAA,OAAO,CAACC,IAAR,CAAa,SAAb;AACD;;AACD,eAAOD,OAAP;AACD;AAlPH,KAzEF;AA+TEE,IAAAA,QAAQ,EAAG,oBAAW;AACpB,WAAKC,eAAL,CAAqB,WAArB;AACD;AAjUH,GADA;AA5CA3F,EAAAA,EAAE,CAACO,EAAH,CAAMC,MAAN,CAAaC,MAAb,CAAoBmF,IAApB,CAAyBzF,aAAzB,GAAyCA,aAAzC",
  "sourcesContent": [
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2011 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Tino Butz (tbtz)\n     * Christopher Zuendorf (czuendorf)\n\n************************************************************************ */\n\n/**\n * A card layout.\n *\n * The card layout lays out widgets in a stack. Call show to display a widget.\n * Only the widget which show method is called is displayed. All other widgets are excluded.\n *\n *\n * *Example*\n *\n * Here is a little example of how to use the Card layout.\n *\n * <pre class=\"javascript\">\n * var layout = new qx.ui.mobile.layout.Card());\n * var container = new qx.ui.mobile.container.Composite(layout);\n *\n * var label1 = new qx.ui.mobile.basic.Label(\"1\");\n * container.add(label1);\n * var label2 = new qx.ui.mobile.basic.Label(\"2\");\n * container.add(label2);\n *\n * label2.show();\n * </pre>\n *\n * @use(qx.event.handler.Transition)\n */\nqx.Class.define(\"qx.ui.mobile.layout.Card\",\n{\n  extend : qx.ui.mobile.layout.Abstract,\n\n\n  /*\n  *****************************************************************************\n     CONSTRUCTOR\n  *****************************************************************************\n  */\n  construct : function()\n  {\n    this.base(arguments);\n\n    this.__cardAnimation = new qx.ui.mobile.layout.CardAnimation();\n  },\n\n\n  /*\n  *****************************************************************************\n     EVENTS\n  *****************************************************************************\n  */\n\n  events :\n  {\n    /** Fired when the animation of a page transition starts */\n    animationStart : \"qx.event.type.Data\",\n\n    /** Fired when the animation of a page transition ends */\n    animationEnd : \"qx.event.type.Data\"\n  },\n\n\n /*\n  *****************************************************************************\n     PROPERTIES\n  *****************************************************************************\n  */\n\n  properties :\n  {\n    /** The default animation to use for page transition */\n    defaultAnimation :\n    {\n      check : \"String\",\n      init : \"slide\"\n    },\n\n\n    /** Flag which indicates, whether animation is needed, or widgets should only swap. */\n    showAnimation :\n    {\n      check : \"Boolean\",\n      init : true\n    },\n\n\n    /** Transition duration of each animation. */\n    animationDuration :\n    {\n      check : \"Integer\",\n      init : 350\n    }\n  },\n\n\n /*\n  *****************************************************************************\n     MEMBERS\n  *****************************************************************************\n  */\n\n  members :\n  {\n    __nextWidget : null,\n    __currentWidget : null,\n    __inAnimation : null,\n    __animation : null,\n    __reverse : null,\n    __cardAnimation : null,\n\n\n    // overridden\n    _getCssClasses : function() {\n      return [\"layout-card\",\"qx-vbox\"];\n    },\n\n\n    // overridden\n    connectToChildWidget : function(widget)\n    {\n      this.base(arguments);\n      if (widget) {\n        widget.addCssClass(\"layout-card-item\");\n        widget.addCssClass(\"qx-flex1\");\n        widget.exclude();\n      }\n    },\n\n\n    // overridden\n    disconnectFromChildWidget : function(widget)\n    {\n      this.base(arguments);\n      widget.removeCssClass(\"layout-card-item\");\n    },\n\n\n    // overridden\n    updateLayout : function(widget, action, properties)\n    {\n      if (action == \"visible\")\n      {\n        this._showWidget(widget, properties);\n      }\n      this.base(arguments, widget, action, properties);\n    },\n\n\n    /**\n     * Setter for this.__cardAnimation.\n     * @param value {qx.ui.mobile.layout.CardAnimation} the new CardAnimation object.\n     */\n    setCardAnimation : function(value) {\n      this.__cardAnimation = value;\n    },\n\n\n    /**\n     * Getter for this.__cardAnimation.\n     * @return {qx.ui.mobile.layout.CardAnimation} the current CardAnimation object.\n     */\n    getCardAnimation : function() {\n      return this.__cardAnimation;\n    },\n\n\n    /**\n     * Shows the widget with the given properties.\n     *\n     * @param widget {qx.ui.mobile.core.Widget} The target widget\n     * @param properties {Map} The layout properties to set. Key / value pairs.\n     */\n    _showWidget : function(widget, properties)\n    {\n      if (this.__nextWidget == widget) {\n        return;\n      }\n\n      if (this.__inAnimation) {\n        this.__stopAnimation();\n      }\n\n      this.__nextWidget = widget;\n\n\n      if (this.__currentWidget && this.getShowAnimation() && qx.core.Environment.get(\"css.transform.3d\")) {\n        properties = properties || {};\n\n        // both are explicit identity checks for null\n        if (properties.animation === null || this.getCardAnimation().getMap()[properties.animation] === null) {\n          this._swapWidget();\n          return;\n        }\n\n        this.__animation = properties.animation || this.getDefaultAnimation();\n\n        if (properties.action && properties.action === \"back\") {\n          this.__reverse = true;\n        } else {\n          properties.reverse = properties.reverse === null ? false : properties.reverse;\n          this.__reverse = properties.reverse;\n        }\n\n        qx.bom.AnimationFrame.request(function() {\n          this.__startAnimation(widget);\n        }, this);\n      } else {\n        this._swapWidget();\n      }\n    },\n\n\n    /**\n     * Excludes the current widget and sets the next widget to the current widget.\n     */\n    _swapWidget : function() {\n      if (this.__currentWidget) {\n        this.__currentWidget.removeCssClass(\"active\");\n        this.__currentWidget.exclude();\n      }\n      this.__currentWidget = this.__nextWidget;\n      this.__currentWidget.addCssClass(\"active\");\n    },\n\n\n    /**\n     * Fix size, only if widget has mixin MResize set,\n     * and nextWidget is set.\n     *\n     * @param widget {qx.ui.mobile.core.Widget} The target widget which should have a fixed size.\n     */\n    _fixWidgetSize : function(widget) {\n      if(widget) {\n        var hasResizeMixin = qx.Class.hasMixin(widget.constructor,qx.ui.mobile.core.MResize);\n        if(hasResizeMixin) {\n          // Size has to be fixed for animation.\n          widget.fixSize();\n        }\n      }\n    },\n\n\n    /**\n     * Releases recently fixed widget size (width/height). This is needed for allowing further\n     * flexbox layouting.\n     *\n     * @param widget {qx.ui.mobile.core.Widget} The target widget which should have a flexible size.\n     */\n    _releaseWidgetSize : function(widget) {\n      if(widget) {\n        var hasResizeMixin = qx.Class.hasMixin(widget.constructor,qx.ui.mobile.core.MResize);\n        if(hasResizeMixin) {\n          // Size has to be released after animation.\n          widget.releaseFixedSize();\n        }\n      }\n    },\n\n\n    /**\n     * Starts the animation for the page transition.\n     *\n     * @param widget {qx.ui.mobile.core.Widget} The target widget\n     */\n    __startAnimation : function(widget)\n    {\n      if (widget.isDisposed()) {\n        return;\n      }\n      // Fix size of current and next widget, then start animation.\n      this.__inAnimation = true;\n\n      this.fireDataEvent(\"animationStart\", [this.__currentWidget, widget]);\n      var fromElement = this.__currentWidget.getContainerElement();\n      var toElement = widget.getContainerElement();\n\n      qx.event.Registration.addListener(fromElement, \"animationEnd\", this._onAnimationEnd, this);\n      qx.event.Registration.addListener(toElement, \"animationEnd\", this._onAnimationEnd, this);\n\n      var fromCssClasses = this.__getAnimationClasses(\"out\");\n      var toCssClasses = this.__getAnimationClasses(\"in\");\n\n      this._widget.addCssClass(\"animationParent\");\n\n      var toElementAnimation = this.__cardAnimation.getAnimation(this.__animation, \"in\", this.__reverse);\n      var fromElementAnimation = this.__cardAnimation.getAnimation(this.__animation, \"out\", this.__reverse);\n\n      qx.bom.element.Class.addClasses(toElement, toCssClasses);\n      qx.bom.element.Class.addClasses(fromElement, fromCssClasses);\n\n      qx.bom.element.Animation.animate(toElement, toElementAnimation);\n      qx.bom.element.Animation.animate(fromElement, fromElementAnimation);\n    },\n\n\n    /**\n     * Event handler. Called when the animation of the page transition ends.\n     *\n     * @param evt {qx.event.type.Event} The causing event\n     */\n    _onAnimationEnd : function(evt)\n    {\n      this.__stopAnimation();\n      this.fireDataEvent(\"animationEnd\", [this.__currentWidget, this.__nextWidget]);\n    },\n\n\n    /**\n     * Stops the animation for the page transition.\n     */\n    __stopAnimation : function()\n    {\n      if (this.__inAnimation)\n      {\n        var fromElement = this.__currentWidget.getContainerElement();\n        var toElement = this.__nextWidget.getContainerElement();\n\n        qx.event.Registration.removeListener(fromElement, \"animationEnd\", this._onAnimationEnd, this);\n        qx.event.Registration.removeListener(toElement, \"animationEnd\", this._onAnimationEnd, this);\n\n        qx.bom.element.Class.removeClasses(fromElement, this.__getAnimationClasses(\"out\"));\n        qx.bom.element.Class.removeClasses(toElement, this.__getAnimationClasses(\"in\"));\n\n        this._swapWidget();\n        this._widget.removeCssClass(\"animationParent\");\n        this.__inAnimation = false;\n      }\n    },\n\n\n    /**\n     * Returns the animation CSS classes for a given direction. The direction\n     * can be <code>in</code> or <code>out</code>.\n     *\n     * @param direction {String} The direction of the animation. <code>in</code> or <code>out</code>.\n     * @return {String[]} The CSS classes for the set animation.\n     */\n    __getAnimationClasses : function(direction)\n    {\n      var classes = [\"animationChild\", this.__animation, direction];\n      if (this.__reverse) {\n        classes.push(\"reverse\");\n      }\n      return classes;\n    }\n  },\n\n\n  destruct : function() {\n    this._disposeObjects(\"__cardAnimation\");\n  }\n});\n"
  ]
}