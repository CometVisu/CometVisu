{
  "version": 3,
  "sources": [
    "/home/travis/build/CometVisu/CometVisu/external/qooxdoo/framework/source/class/qx/ui/mobile/container/Carousel.js"
  ],
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "extend",
    "ui",
    "mobile",
    "container",
    "Composite",
    "include",
    "core",
    "MResize",
    "construct",
    "transitionDuration",
    "setTransitionDuration",
    "__snapPointsX",
    "__onMoveOffset",
    "__lastOffset",
    "__boundsX",
    "__pages",
    "__paginationLabels",
    "carouselScroller",
    "__carouselScroller",
    "layout",
    "HBox",
    "setTransformUnit",
    "addCssClass",
    "addListener",
    "_onPointerDown",
    "_onPointerUp",
    "_onTrack",
    "_onSwipe",
    "bom",
    "Event",
    "preventDefault",
    "_onContainerUpdate",
    "event",
    "Registration",
    "getContainerElement",
    "_onScrollerTransitionEnd",
    "window",
    "getContentElement",
    "_onNativeScroll",
    "pagination",
    "__pagination",
    "setLayout",
    "VBox",
    "_add",
    "flex",
    "properties",
    "defaultCssClass",
    "refine",
    "init",
    "showPagination",
    "check",
    "apply",
    "scrollLoop",
    "height",
    "nullable",
    "currentIndex",
    "members",
    "__carouselScrollerWidth",
    "__carouselWidth",
    "__showTransition",
    "__isPageScrollTarget",
    "__deltaX",
    "__deltaY",
    "add",
    "page",
    "push",
    "paginationLabel",
    "_createPaginationLabel",
    "_setTransitionDuration",
    "removePageByIndex",
    "pageIndex",
    "length",
    "getCurrentIndex",
    "setCurrentIndex",
    "targetPage",
    "remove",
    "removeListener",
    "_onPaginationLabelTap",
    "self",
    "targetIndex",
    "util",
    "DisposeUtil",
    "destroyContainer",
    "splice",
    "removeAll",
    "removedPages",
    "i",
    "nextPage",
    "isScrollLoop",
    "_doScrollLoop",
    "previousPage",
    "getPageCount",
    "_scrollToPage",
    "showTransition",
    "_updatePagination",
    "snapPoint",
    "_updateScrollerPosition",
    "getTransitionDuration",
    "setTimeout",
    "_setScrollersOpacity",
    "bind",
    "opacity",
    "element",
    "Style",
    "get",
    "paginationIndex",
    "paginationLabelText",
    "basic",
    "Label",
    "set",
    "_applyShowPagination",
    "value",
    "old",
    "show",
    "hide",
    "_updateCarouselLayout",
    "carouselSize",
    "Dimension",
    "getSize",
    "width",
    "getHeight",
    "_setStyle",
    "pageContentElement",
    "exclude",
    "isShowPagination",
    "_refreshScrollerPosition",
    "getWidth",
    "_getScrollerOffset",
    "transformMatrix",
    "transformValueArray",
    "substr",
    "split",
    "Math",
    "floor",
    "parseInt",
    "evt",
    "isPrimary",
    "getDelta",
    "x",
    "y",
    "axis",
    "getDuration",
    "abs",
    "getDistance",
    "duration",
    "_calculateTransitionDuration",
    "min",
    "getDirection",
    "_snapCarouselPage",
    "deltaX",
    "distanceX",
    "nativeEvent",
    "getNativeEvent",
    "srcElement",
    "scrollLeft",
    "scrollTop",
    "leastDistance",
    "nearestPageIndex",
    "distance",
    "newActiveIndex",
    "removeCssClass",
    "newActiveLabel",
    "paginationStyle",
    "getComputedStyle",
    "paginationWidth",
    "parseFloat",
    "isNaN",
    "paginationLabelWidth",
    "left",
    "translate",
    "setTranslateX",
    "_removeListeners",
    "destruct",
    "_disposeObjects",
    "disposeArray",
    "Carousel"
  ],
  "mappings": "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",
  "sourcesContent": [
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2012 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Christopher Zuendorf (czuendorf)\n\n************************************************************************ */\n\n/**\n * Creates a Carousel widget.\n * A carousel is a widget which can switch between several sub pages {@link  qx.ui.mobile.container.Composite}.\n * A page switch is triggered by a swipe to left, for next page, or a swipe to right for\n * previous page.\n *\n * A carousel shows by default a pagination indicator at the bottom of the carousel.\n * This pagination indicator can be hidden by property <code>showPagination</code>.\n *\n * *Example*\n *\n * Here is a little example of how to use the widget.\n *\n * <pre class='javascript'>\n *\n *  var carousel = new qx.ui.mobile.container.Carousel();\n *  var carouselPage1 = new qx.ui.mobile.container.Composite();\n *  var carouselPage2 = new qx.ui.mobile.container.Composite();\n *\n *  carouselPage1.add(new qx.ui.mobile.basic.Label(\"This is a carousel. Please swipe left.\"));\n *  carouselPage2.add(new qx.ui.mobile.basic.Label(\"Now swipe right.\"));\n *\n *  carousel.add(carouselPage1);\n *  carousel.add(carouselPage2);\n * </pre>\n *\n */\nqx.Class.define(\"qx.ui.mobile.container.Carousel\",\n{\n  extend : qx.ui.mobile.container.Composite,\n  include : qx.ui.mobile.core.MResize,\n\n\n  /*\n  *****************************************************************************\n     CONSTRUCTOR\n  *****************************************************************************\n  */\n\n  /**\n  * @param transitionDuration {Integer ? 0.4} transition duration on carouselPage change in seconds.\n  */\n  construct : function(transitionDuration)\n  {\n    this.base(arguments);\n    if (transitionDuration) {\n      this.setTransitionDuration(transitionDuration);\n    }\n\n    this.__snapPointsX = [];\n    this.__onMoveOffset = [0, 0];\n    this.__lastOffset = [0, 0];\n    this.__boundsX = [0, 0];\n    this.__pages = [];\n    this.__paginationLabels = [];\n\n    var carouselScroller = this.__carouselScroller = new qx.ui.mobile.container.Composite(new qx.ui.mobile.layout.HBox());\n    carouselScroller.setTransformUnit(\"px\");\n    carouselScroller.addCssClass(\"carousel-scroller\");\n\n    carouselScroller.addListener(\"pointerdown\", this._onPointerDown, this);\n    carouselScroller.addListener(\"pointerup\", this._onPointerUp, this);\n    carouselScroller.addListener(\"track\", this._onTrack, this);\n    carouselScroller.addListener(\"swipe\", this._onSwipe, this);\n\n    this.addListener(\"touchmove\", qx.bom.Event.preventDefault, this);\n\n    this.addListener(\"appear\", this._onContainerUpdate, this);\n\n    qx.event.Registration.addListener(this.__carouselScroller.getContainerElement(),\"transitionEnd\",this._onScrollerTransitionEnd, this);\n    qx.event.Registration.addListener(window, \"orientationchange\", this._onContainerUpdate, this);\n    qx.event.Registration.addListener(window, \"resize\", this._onContainerUpdate, this);\n    qx.event.Registration.addListener(this.getContentElement(), \"scroll\", this._onNativeScroll, this);\n\n    var pagination = this.__pagination = new qx.ui.mobile.container.Composite();\n    pagination.setLayout(new qx.ui.mobile.layout.HBox());\n    pagination.setTransformUnit(\"px\");\n    pagination.addCssClass(\"carousel-pagination\");\n\n    this.setLayout(new qx.ui.mobile.layout.VBox());\n\n    this._add(carouselScroller, {\n      flex: 1\n    });\n    this._add(pagination, {\n      flex: 1\n    });\n  },\n\n\n  /*\n  *****************************************************************************\n     PROPERTIES\n  *****************************************************************************\n  */\n  properties : {\n    // overridden\n    defaultCssClass : {\n      refine : true,\n      init : \"carousel\"\n    },\n\n\n    /** Property for setting visibility of pagination indicator */\n    showPagination : {\n      check : \"Boolean\",\n      init : true,\n      apply : \"_applyShowPagination\"\n    },\n\n\n    /** Defines whether the carousel should scroll back to first or last page\n     * when the start/end of carousel pages is reached  */\n    scrollLoop : {\n      check : \"Boolean\",\n      init : true\n    },\n\n\n    /**\n     * Defines the height of the carousel. If value is equal to <code>null</code>\n     * the height is set to <code>100%</code>.\n     */\n    height : {\n      check : \"Number\",\n      init : 200,\n      nullable : true,\n      apply : \"_updateCarouselLayout\"\n    },\n\n\n    /**\n     * The current visible page index.\n     */\n    currentIndex : {\n      check : \"Number\",\n      init : 0,\n      apply : \"_scrollToPage\",\n      event : \"changeCurrentIndex\"\n    },\n\n\n    /**\n     * Duration of the carousel page transition.\n     */\n    transitionDuration : {\n      check : \"Number\",\n      init : 0.5\n    }\n  },\n\n\n  /*\n  *****************************************************************************\n     MEMBERS\n  *****************************************************************************\n  */\n  members :\n  {\n    __carouselScroller : null,\n    __carouselScrollerWidth : null,\n    __carouselWidth : null,\n    __paginationLabels : null,\n    __pagination : null,\n    __snapPointsX : null,\n    __onMoveOffset : null,\n    __lastOffset : null,\n    __boundsX : null,\n    __pages : null,\n    __showTransition : null,\n    __isPageScrollTarget : null,\n    __deltaX : null,\n    __deltaY : null,\n\n\n    // overridden\n    /**\n     * Adds a page to the end of the carousel.\n     * @param page {qx.ui.mobile.container.Composite} The composite which should be added as a page to the end of carousel.\n     */\n    add : function(page) {\n      if (qx.core.Environment.get(\"qx.debug\")) {\n        if (!page instanceof qx.ui.mobile.container.Composite) {\n          throw new Error(\"Page is expected to be an instance of qx.ui.mobile.container.Composite.\");\n        }\n      }\n\n      page.addCssClass(\"carousel-page\");\n\n      this.__pages.push(page);\n      this.__carouselScroller.add(page, {\n        flex: 1\n      });\n\n      var paginationLabel = this._createPaginationLabel();\n      this.__paginationLabels.push(paginationLabel);\n      this.__pagination.add(paginationLabel);\n\n      this._setTransitionDuration(0);\n      this._onContainerUpdate();\n    },\n\n\n    /**\n     * Removes a carousel page from carousel identified by its index.\n     * @param pageIndex {Integer} The page index which should be removed from carousel.\n     * @return {qx.ui.mobile.container.Composite} the page which was removed from carousel.\n     */\n    removePageByIndex : function(pageIndex) {\n      if (this.__pages && this.__pages.length > pageIndex) {\n        if (pageIndex <= this.getCurrentIndex() && this.getCurrentIndex() !== 0) {\n          this.setCurrentIndex(this.getCurrentIndex() - 1);\n        }\n\n        var targetPage = this.__pages[pageIndex];\n        var paginationLabel = this.__paginationLabels[pageIndex];\n\n        this.__carouselScroller.remove(targetPage);\n        this.__pagination.remove(paginationLabel);\n\n        paginationLabel.removeListener(\"tap\", this._onPaginationLabelTap, {\n          self: this,\n          targetIndex: pageIndex - 1\n        });\n        qx.util.DisposeUtil.destroyContainer(paginationLabel);\n\n        this.__pages.splice(pageIndex, 1);\n        this.__paginationLabels.splice(pageIndex, 1);\n\n        this._onContainerUpdate();\n\n        return targetPage;\n      }\n    },\n\n\n    // overridden\n    removeAll : function() {\n      var removedPages = [];\n\n      if (this.__pages) {\n        for (var i = this.__pages.length - 1; i >= 0; i--) {\n          removedPages.push(this.removePageByIndex(i));\n        }\n      }\n      return removedPages;\n    },\n\n\n    /**\n     * Scrolls the carousel to next page.\n     */\n    nextPage : function() {\n      if (this.getCurrentIndex() == this.__pages.length - 1) {\n        if (this.isScrollLoop() && this.__pages.length > 1) {\n          this._doScrollLoop();\n        }\n      } else {\n        this.setCurrentIndex(this.getCurrentIndex() + 1);\n      }\n    },\n\n\n    /**\n     * Scrolls the carousel to previous page.\n     */\n    previousPage : function() {\n      if (this.getCurrentIndex() === 0) {\n        if (this.isScrollLoop() && this.__pages.length > 1) {\n          this._doScrollLoop();\n        }\n      } else {\n        this.setCurrentIndex(this.getCurrentIndex() - 1);\n      }\n    },\n\n\n    /**\n    * Returns the current page count of this carousel.\n    * @return {Integer} the current page count\n    */\n    getPageCount : function() {\n      if(this.__pages) {\n        return this.__pages.length;\n      }\n\n      return 0;\n    },\n\n\n    /**\n     * Scrolls the carousel to the page with the given pageIndex.\n     * @param pageIndex {Integer} the target page index, which should be visible\n     * @param showTransition {Boolean ? true} flag if a transition should be shown or not\n     */\n    _scrollToPage : function(pageIndex, showTransition) {\n      if (pageIndex >= this.__pages.length || pageIndex < 0) {\n        return;\n      }\n\n      this._updatePagination(pageIndex);\n\n      var snapPoint = -pageIndex * this.__carouselWidth;\n      this._updateScrollerPosition(snapPoint);\n\n      // Update lastOffset, because snapPoint has changed.\n      this.__lastOffset[0] = snapPoint;\n    },\n\n\n    /**\n     * Manages the the scroll loop. First fades out carousel scroller >>\n     * waits till fading is done >> scrolls to pageIndex >> waits till scrolling is done\n     * >> fades scroller in.\n     */\n    _doScrollLoop : function() {\n      this._setTransitionDuration(this.getTransitionDuration());\n      setTimeout(function() {\n        this._setScrollersOpacity(0);\n      }.bind(this), 0);\n    },\n\n\n    /**\n    * Event handler for <code>transitionEnd</code> event on carouselScroller.\n    */\n    _onScrollerTransitionEnd : function() {\n      var opacity = qx.bom.element.Style.get(this.__carouselScroller.getContainerElement(), \"opacity\");\n      if (opacity === 0) {\n        var pageIndex = null;\n        if (this.getCurrentIndex() == this.__pages.length - 1) {\n          pageIndex = 0;\n        }\n\n        if (this.getCurrentIndex() === 0) {\n          pageIndex = this.__pages.length - 1;\n        }\n        this._setTransitionDuration(0);\n        this.setCurrentIndex(pageIndex);\n\n        setTimeout(function() {\n          this._setTransitionDuration(this.getTransitionDuration());\n          this._setScrollersOpacity(1);\n        }.bind(this), 0);\n      }\n    },\n\n\n    /**\n     * Factory method for a paginationLabel.\n     * @return {qx.ui.mobile.container.Composite} the created pagination label.\n     */\n    _createPaginationLabel : function() {\n      var paginationIndex = this.__pages.length;\n      var paginationLabel = new qx.ui.mobile.container.Composite();\n      var paginationLabelText = new qx.ui.mobile.basic.Label(\"\" + paginationIndex);\n      paginationLabel.add(paginationLabelText);\n\n      paginationLabel.addCssClass(\"carousel-pagination-label\");\n      paginationLabel.addListener(\"tap\", this._onPaginationLabelTap, {\n        self: this,\n        targetIndex: paginationIndex - 1\n      });\n      return paginationLabel;\n    },\n\n\n    /**\n     * Changes the opacity of the carouselScroller element.\n     * @param opacity {Integer} the target value of the opacity.\n     */\n    _setScrollersOpacity : function(opacity) {\n      if (this.__carouselScroller) {\n        qx.bom.element.Style.set(this.__carouselScroller.getContainerElement(), \"opacity\", opacity);\n      }\n    },\n\n\n    /**\n     * Called when showPagination property is changed.\n     * Manages <code>show()</code> and <code>hide()</code> of pagination container.\n     */\n    _applyShowPagination : function(value, old) {\n      if (value) {\n        if (this.__pages.length > 1) {\n          this.__pagination.show();\n        }\n      } else {\n        this.__pagination.hide();\n      }\n    },\n\n\n    /**\n     * Handles a tap on paginationLabel.\n     */\n    _onPaginationLabelTap : function() {\n      this.self.setCurrentIndex(this.targetIndex);\n    },\n\n\n    /**\n     * Updates the layout of the carousel the carousel scroller and its pages.\n     */\n    _updateCarouselLayout : function() {\n      if (!this.getContainerElement()) {\n        return;\n      }\n      var carouselSize = qx.bom.element.Dimension.getSize(this.getContainerElement());\n      this.__carouselWidth = carouselSize.width;\n\n      if (this.getHeight() !== null) {\n        this._setStyle(\"height\", this.getHeight() / 16 + \"rem\");\n      } else {\n        this._setStyle(\"height\", \"100%\");\n      }\n\n      qx.bom.element.Style.set(this.__carouselScroller.getContentElement(), \"width\", this.__pages.length * carouselSize.width + \"px\");\n\n      for (var i = 0; i < this.__pages.length; i++) {\n        var pageContentElement = this.__pages[i].getContentElement();\n        qx.bom.element.Style.set(pageContentElement, \"width\", carouselSize.width + \"px\");\n        qx.bom.element.Style.set(pageContentElement, \"height\", carouselSize.height + \"px\");\n      }\n\n      if (this.__pages.length == 1) {\n        this.__pagination.exclude();\n      } else {\n        if (this.isShowPagination()) {\n          this.__pagination.show();\n        }\n      }\n\n      this._refreshScrollerPosition();\n    },\n\n\n    /**\n     * Synchronizes the positions of the scroller to the current shown page index.\n     */\n    _refreshScrollerPosition : function() {\n      this.__carouselScrollerWidth = qx.bom.element.Dimension.getWidth(this.__carouselScroller.getContentElement());\n      this._scrollToPage(this.getCurrentIndex());\n    },\n\n\n    /**\n     * Handles window resize, device orientatonChange or page appear events.\n     */\n    _onContainerUpdate : function() {\n      this._setTransitionDuration(0);\n      this._updateCarouselLayout();\n      this._refreshScrollerPosition();\n    },\n\n\n    /**\n     * Returns the current horizontal position of the carousel scrolling container.\n     * @return {Number} the horizontal position\n     */\n    _getScrollerOffset : function() {\n      var transformMatrix = qx.bom.element.Style.get(this.__carouselScroller.getContentElement(), \"transform\");\n      var transformValueArray = transformMatrix.substr(7, transformMatrix.length - 8).split(', ');\n\n      var i = 4;\n      // Check if MSCSSMatrix is used.\n      if('MSCSSMatrix' in window && !('WebKitCSSMatrix' in window)) {\n        i = transformValueArray.length - 4;\n      }\n\n      return Math.floor(parseInt(transformValueArray[i], 10));\n    },\n\n\n    /**\n     * Event handler for <code>pointerdown</code> events.\n     * @param evt {qx.event.type.Pointer} The pointer event.\n     */\n    _onPointerDown : function(evt) {\n      if(!evt.isPrimary()) {\n        return;\n      }\n\n      this.__lastOffset[0] = this._getScrollerOffset();\n      this.__isPageScrollTarget = null;\n\n      this.__boundsX[0] = -this.__carouselScrollerWidth + this.__carouselWidth;\n\n      this._updateScrollerPosition(this.__lastOffset[0]);\n    },\n\n\n    /**\n     * Event handler for <code>track</code> events.\n     * @param evt {qx.event.type.Track} The track event.\n     */\n    _onTrack : function(evt) {\n      if(!evt.isPrimary()) {\n        return;\n      }\n\n      this._setTransitionDuration(0);\n\n      this.__deltaX = evt.getDelta().x;\n      this.__deltaY = evt.getDelta().y;\n\n      if (this.__isPageScrollTarget === null) {\n        this.__isPageScrollTarget = (evt.getDelta().axis == \"y\");\n      }\n\n      if (!this.__isPageScrollTarget) {\n        this.__onMoveOffset[0] = Math.floor(this.__deltaX + this.__lastOffset[0]);\n\n        if (this.__onMoveOffset[0] >= this.__boundsX[1]) {\n          this.__onMoveOffset[0] = this.__boundsX[1];\n        }\n\n        if (this.__onMoveOffset[0] <= this.__boundsX[0]) {\n          this.__onMoveOffset[0] = this.__boundsX[0];\n        }\n        this._updateScrollerPosition(this.__onMoveOffset[0]);\n\n        evt.preventDefault();\n      }\n    },\n\n\n    /**\n    * Handler for <code>pointerup</code> event on carousel scroller.\n    * @param evt {qx.event.type.Pointer} the pointerup event.\n    */\n    _onPointerUp : function(evt) {\n      if(!evt.isPrimary()) {\n        return;\n      }\n\n      this._setTransitionDuration(this.getTransitionDuration());\n      this._refreshScrollerPosition();\n    },\n\n\n    /**\n     * Handler for swipe event on carousel scroller.\n     * @param evt {qx.event.type.Swipe} The swipe event.\n     */\n    _onSwipe : function(evt) {\n      if(!evt.isPrimary()) {\n        return;\n      }\n\n      if (evt.getDuration() < 750 && Math.abs(evt.getDistance()) > 50) {\n        var duration = this._calculateTransitionDuration(this.__deltaX, evt.getDuration());\n        duration = Math.min(this.getTransitionDuration(),duration);\n\n        this._setTransitionDuration(duration);\n        if (evt.getDirection() == \"left\") {\n          this.nextPage();\n        } else if (evt.getDirection() == \"right\") {\n          this.previousPage();\n        }\n      } else {\n        this._snapCarouselPage();\n      }\n    },\n\n\n    /**\n    * Calculates the duration the transition will need till the next carousel\n    * snap point is reached.\n    * @param deltaX {Integer} the distance on axis between pointerdown and pointerup.\n    * @param duration {Number} the swipe duration.\n    * @return {Number} the transition duration.\n    */\n    _calculateTransitionDuration : function(deltaX, duration) {\n      var distanceX = this.__carouselWidth - Math.abs(deltaX);\n      var transitionDuration = (distanceX / Math.abs(deltaX)) * duration;\n      return (transitionDuration / 1000);\n    },\n\n\n    /**\n     * Handles the native scroll event on the carousel container.\n     * This is needed for preventing \"scrollIntoView\" method.\n     *\n     * @param evt {qx.event.type.Native} the native scroll event.\n     */\n    _onNativeScroll : function(evt) {\n      var nativeEvent = evt.getNativeEvent();\n      nativeEvent.srcElement.scrollLeft = 0;\n      nativeEvent.srcElement.scrollTop = 0;\n    },\n\n\n    /**\n    * Applies the CSS property \"transitionDuration\" to the carouselScroller.\n    * @param value {Number} the target value of the transitionDuration.\n    */\n    _setTransitionDuration : function(value) {\n      qx.bom.element.Style.set(this.__carouselScroller.getContentElement(), \"transitionDuration\", value+\"s\");\n    },\n\n\n    /**\n     * Snaps carouselScroller offset to a carouselPage.\n     * It determines which carouselPage is the nearest and moves\n     * carouselScrollers offset till nearest carouselPage's left border is aligned to carousel's left border.\n     */\n    _snapCarouselPage : function() {\n      this._setTransitionDuration(this.getTransitionDuration());\n\n      var leastDistance = 10000;\n      var nearestPageIndex = 0;\n\n      // Determine nearest snapPoint.\n      for (var i = 0; i < this.__pages.length; i++) {\n        var snapPoint = -i * this.__carouselWidth;\n        var distance = this.__onMoveOffset[0] - snapPoint;\n        if (Math.abs(distance) < leastDistance) {\n          leastDistance = Math.abs(distance);\n          nearestPageIndex = i;\n        }\n      }\n\n      if (this.getCurrentIndex() == nearestPageIndex) {\n        this._refreshScrollerPosition();\n      } else {\n        this.setCurrentIndex(nearestPageIndex);\n      }\n    },\n\n\n    /**\n     * Updates the pagination indicator of this carousel.\n     * Removes the active state from from paginationLabel with oldActiveIndex,\n     * Adds actives state to paginationLabel new ActiveIndex.\n     * @param newActiveIndex {Integer} Index of paginationLabel which should have active state\n     */\n    _updatePagination : function(newActiveIndex) {\n      for (var i = 0; i < this.__paginationLabels.length; i++) {\n        this.__paginationLabels[i].removeCssClass(\"active\");\n      }\n\n      var newActiveLabel = this.__paginationLabels[newActiveIndex];\n      if (newActiveLabel && newActiveLabel.getContainerElement()) {\n        newActiveLabel.addCssClass(\"active\");\n      }\n\n      if (this.__paginationLabels.length) {\n        var paginationStyle = window.getComputedStyle(this.__pagination.getContentElement());\n        var paginationWidth = parseFloat(paginationStyle.width,10);\n\n        if(isNaN(paginationWidth)) {\n          return;\n        }\n\n        var paginationLabelWidth = paginationWidth/this.__paginationLabels.length;\n\n        var left = null;\n        var translate = (this.__carouselWidth / 2) - newActiveIndex * paginationLabelWidth - paginationLabelWidth / 2;\n\n        if (paginationWidth < this.__carouselWidth) {\n          left = this.__carouselWidth / 2 - paginationWidth / 2 + \"px\";\n          translate = 0;\n        }\n\n        qx.bom.element.Style.set(this.__pagination.getContentElement(), \"left\", left);\n\n        this.__pagination.setTranslateX(translate);\n      }\n    },\n\n\n    /**\n     * Assign new position of carousel scrolling container.\n     * @param x {Integer} scroller's x position.\n     */\n    _updateScrollerPosition : function(x) {\n      if(isNaN(x) || this.__carouselScroller.getContentElement() === null) {\n        return;\n      }\n      this.__carouselScroller.setTranslateX(x);\n    },\n\n\n    /**\n     * Remove all listeners.\n     */\n    _removeListeners : function() {\n      this.__carouselScroller.removeListener(\"pointerdown\", this._onPointerDown, this);\n      this.__carouselScroller.removeListener(\"track\", this._onTrack, this);\n      this.__carouselScroller.removeListener(\"pointerup\", this._onPointerUp, this);\n      this.__carouselScroller.removeListener(\"swipe\", this._onSwipe, this);\n      this.__carouselScroller.removeListener(\"touchmove\", qx.bom.Event.preventDefault, this);\n\n      this.removeListener(\"appear\", this._onContainerUpdate, this);\n\n      qx.event.Registration.removeListener(window, \"orientationchange\", this._onContainerUpdate, this);\n      qx.event.Registration.removeListener(window, \"resize\", this._onContainerUpdate, this);\n      qx.event.Registration.removeListener(this.getContentElement(), \"scroll\", this._onNativeScroll, this);\n    }\n  },\n\n\n  destruct : function()\n  {\n    this._removeListeners();\n\n    this._disposeObjects(\"__carouselScroller\",\" __pagination\");\n\n    qx.util.DisposeUtil.destroyContainer(this);\n    qx.util.DisposeUtil.disposeArray(this,\"__paginationLabels\");\n\n    this.__pages = this.__paginationLabels = this.__snapPointsX = this.__onMoveOffset = this.__lastOffset = this.__boundsX = this.__isPageScrollTarget = null;\n  }\n});\n"
  ]
}