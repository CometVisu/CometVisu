{
  "version": 3,
  "sources": [
    "/home/travis/build/CometVisu/CometVisu/external/qooxdoo/framework/source/class/qx/ui/control/ColorPopup.js"
  ],
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "extend",
    "ui",
    "popup",
    "Popup",
    "implement",
    "form",
    "IColorForm",
    "construct",
    "setLayout",
    "layout",
    "VBox",
    "_createChildControl",
    "_createBoxes",
    "addListener",
    "_onChangeVisibility",
    "properties",
    "appearance",
    "refine",
    "init",
    "value",
    "nullable",
    "apply",
    "event",
    "red",
    "check",
    "green",
    "blue",
    "members",
    "__minZIndex",
    "__boxes",
    "__colorSelectorWindow",
    "__colorSelector",
    "__buttonBar",
    "__recentTableId",
    "__fieldNumber",
    "_createChildControlImpl",
    "id",
    "hash",
    "control",
    "core",
    "Widget",
    "_onFieldPointerDown",
    "_onFieldPointerOver",
    "_onFieldPointerOut",
    "Button",
    "tr",
    "setAllowStretchX",
    "_onAutomaticBtnExecute",
    "add",
    "_onSelectorButtonExecute",
    "groupbox",
    "GroupBox",
    "HBox",
    "flex",
    "container",
    "Composite",
    "Basic",
    "_onColorSelectorOk",
    "_onColorSelectorCancel",
    "tables",
    "_tables",
    "table",
    "box",
    "field",
    "j",
    "tableId",
    "label",
    "i",
    "getChildControl",
    "setBackgroundColor",
    "values",
    "_createColorSelector",
    "win",
    "window",
    "Window",
    "setResizable",
    "moveTo",
    "ColorSelector",
    "btnCancel",
    "btnOk",
    "_applyValue",
    "old",
    "setRed",
    "setGreen",
    "setBlue",
    "rgb",
    "util",
    "ColorUtil",
    "stringToRgb",
    "_rotatePreviousColors",
    "vRecentTable",
    "vRecentBox",
    "newValue",
    "getValue",
    "vIndex",
    "indexOf",
    "lang",
    "Array",
    "removeAt",
    "length",
    "shift",
    "push",
    "vFields",
    "getChildren",
    "e",
    "vValue",
    "getBackgroundColor",
    "setValue",
    "hide",
    "getTarget",
    "getRed",
    "getGreen",
    "getBlue",
    "color",
    "rgbToRgbString",
    "exclude",
    "open",
    "sel",
    "close",
    "getVisibility",
    "locale",
    "Manager",
    "recent",
    "destruct",
    "destroy",
    "ColorPopup"
  ],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAAA,EAAAA,EAAE,CAACC,SAAH,CAAaC,oBAAb,CAAkCC,aAAlC;;AAAA;;;;;;;;;;;;;;;;;;;;;AAqBA;;;;;;;;;;;;;AAaAH,EAAAA,EAAE,CAACI,KAAH,CAASC,MAAT,CAAgB,0BAAhB,EACA;AACEC,IAAAA,MAAM,EAAGN,EAAE,CAACO,EAAH,CAAMC,KAAN,CAAYC,KADvB;AAEEC,IAAAA,SAAS,EAAG,CAACV,EAAE,CAACO,EAAH,CAAMI,IAAN,CAAWC,UAAZ,CAFd;;AAIE;;;;;AAMAC,IAAAA,SAAS,EAAG,qBACZ;AACE;AAEA,WAAKC,SAAL,CAAe,IAAId,EAAE,CAACO,EAAH,CAAMQ,MAAN,CAAaC,IAAjB,CAAsB,CAAtB,CAAf;;AAEA,WAAKC,mBAAL,CAAyB,aAAzB;;AACA,WAAKC,YAAL;;AACA,WAAKD,mBAAL,CAAyB,cAAzB;;AACA,WAAKA,mBAAL,CAAyB,iBAAzB;;AAEA,WAAKE,WAAL,CAAiB,kBAAjB,EAAqC,KAAKC,mBAA1C,EAA+D,IAA/D;AACD,KAtBH;;AAwBE;;;;;AAMAC,IAAAA,UAAU,EACV;AAEE;AACAC,MAAAA,UAAU,EACV;AACEC,QAAAA,MAAM,EAAG,IADX;AAEEC,QAAAA,IAAI,EAAG;AAFT,OAJF;;AASE;AACAC,MAAAA,KAAK,EACL;AACEC,QAAAA,QAAQ,EAAG,IADb;AAEEC,QAAAA,KAAK,EAAG,aAFV;AAGEC,QAAAA,KAAK,EAAG;AAHV,OAXF;;AAiBE;AACAC,MAAAA,GAAG,EACH;AACEC,QAAAA,KAAK,EAAG,QADV;AAEEN,QAAAA,IAAI,EAAG,IAFT;AAGEE,QAAAA,QAAQ,EAAG,IAHb;AAIEE,QAAAA,KAAK,EAAG;AAJV,OAnBF;;AA0BE;AACAG,MAAAA,KAAK,EACL;AACED,QAAAA,KAAK,EAAG,QADV;AAEEN,QAAAA,IAAI,EAAG,IAFT;AAGEE,QAAAA,QAAQ,EAAG,IAHb;AAIEE,QAAAA,KAAK,EAAG;AAJV,OA5BF;;AAmCE;AACAI,MAAAA,IAAI,EACJ;AACEF,QAAAA,KAAK,EAAG,QADV;AAEEN,QAAAA,IAAI,EAAG,IAFT;AAGEE,QAAAA,QAAQ,EAAG,IAHb;AAIEE,QAAAA,KAAK,EAAG;AAJV;AArCF,KA/BF;;AA+EE;;;;;AAMAK,IAAAA,OAAO,EACP;AACEC,MAAAA,WAAW,EAAG,GADhB;AAEEC,MAAAA,OAAO,EAAG,IAFZ;AAGEC,MAAAA,qBAAqB,EAAG,IAH1B;AAIEC,MAAAA,eAAe,EAAG,IAJpB;AAKEC,MAAAA,WAAW,EAAG,IALhB;AAMEC,MAAAA,eAAe,EAAG,QANpB;AAOEC,MAAAA,aAAa,EAAG,EAPlB;AAUE;AACAC,MAAAA,uBAAuB,EAAG,iCAASC,EAAT,EAAaC,IAAb,EAC1B;AACE,YAAIC,OAAJ;;AAEA,gBAAOF,EAAP;AAEE,eAAK,OAAL;AACEE,YAAAA,OAAO,GAAG,IAAI5C,EAAE,CAACO,EAAH,CAAMsC,IAAN,CAAWC,MAAf,EAAV;AACAF,YAAAA,OAAO,CAACzB,WAAR,CAAoB,aAApB,EAAmC,KAAK4B,mBAAxC,EAA6D,IAA7D;AACAH,YAAAA,OAAO,CAACzB,WAAR,CAAoB,aAApB,EAAmC,KAAK6B,mBAAxC,EAA6D,IAA7D;AACAJ,YAAAA,OAAO,CAACzB,WAAR,CAAoB,YAApB,EAAkC,KAAK8B,kBAAvC,EAA2D,IAA3D;AACA;;AAEF,eAAK,aAAL;AACEL,YAAAA,OAAO,GAAG,IAAI5C,EAAE,CAACO,EAAH,CAAMI,IAAN,CAAWuC,MAAf,CAAsB,KAAKC,EAAL,CAAQ,WAAR,CAAtB,CAAV;AACAP,YAAAA,OAAO,CAACQ,gBAAR,CAAyB,IAAzB;AACAR,YAAAA,OAAO,CAACzB,WAAR,CAAoB,SAApB,EAA+B,KAAKkC,sBAApC,EAA4D,IAA5D;AAEA,iBAAKC,GAAL,CAASV,OAAT;AACA;;AAEF,eAAK,iBAAL;AACEA,YAAAA,OAAO,GAAG,IAAI5C,EAAE,CAACO,EAAH,CAAMI,IAAN,CAAWuC,MAAf,CAAsB,KAAKC,EAAL,CAAQ,oBAAR,CAAtB,CAAV;AACAP,YAAAA,OAAO,CAACzB,WAAR,CAAoB,SAApB,EAA+B,KAAKoC,wBAApC,EAA8D,IAA9D;AAEA,iBAAKD,GAAL,CAASV,OAAT;AACA;;AAEF,eAAK,cAAL;AACEA,YAAAA,OAAO,GAAG,IAAI5C,EAAE,CAACO,EAAH,CAAMiD,QAAN,CAAeC,QAAnB,CAA4B,KAAKN,EAAL,CAAQ,mBAAR,CAA5B,CAAV;AACAP,YAAAA,OAAO,CAAC9B,SAAR,CAAkB,IAAId,EAAE,CAACO,EAAH,CAAMQ,MAAN,CAAa2C,IAAjB,EAAlB;AAEAd,YAAAA,OAAO,CAACU,GAAR,CAAY,KAAKrC,mBAAL,CAAyB,kBAAzB,EAA6C,IAA7C,CAAZ,EAAgE;AAAC0C,cAAAA,IAAI,EAAG;AAAR,aAAhE;AACAf,YAAAA,OAAO,CAACU,GAAR,CAAY,KAAKrC,mBAAL,CAAyB,iBAAzB,EAA4C,IAA5C,CAAZ,EAA+D;AAAC0C,cAAAA,IAAI,EAAG;AAAR,aAA/D;AAEA,iBAAKL,GAAL,CAASV,OAAT;AACA;;AAEF,eAAK,kBAAL;AACEA,YAAAA,OAAO,GAAG,IAAI5C,EAAE,CAACO,EAAH,CAAMqD,SAAN,CAAgBC,SAApB,CAA8B,IAAI7D,EAAE,CAACO,EAAH,CAAMQ,MAAN,CAAa+C,KAAjB,EAA9B,CAAV;AACA;;AAEF,eAAK,iBAAL;AACElB,YAAAA,OAAO,GAAG,IAAI5C,EAAE,CAACO,EAAH,CAAMqD,SAAN,CAAgBC,SAApB,CAA8B,IAAI7D,EAAE,CAACO,EAAH,CAAMQ,MAAN,CAAa+C,KAAjB,EAA9B,CAAV;AACA;;AAEF,eAAK,wBAAL;AACElB,YAAAA,OAAO,GAAG,IAAI5C,EAAE,CAACO,EAAH,CAAMI,IAAN,CAAWuC,MAAf,CAAsB,KAAKC,EAAL,CAAQ,IAAR,CAAtB,CAAV;AACAP,YAAAA,OAAO,CAACzB,WAAR,CAAoB,SAApB,EAA+B,KAAK4C,kBAApC,EAAwD,IAAxD;AACA;;AAEF,eAAK,4BAAL;AACEnB,YAAAA,OAAO,GAAG,IAAI5C,EAAE,CAACO,EAAH,CAAMI,IAAN,CAAWuC,MAAf,CAAsB,KAAKC,EAAL,CAAQ,QAAR,CAAtB,CAAV;AACAP,YAAAA,OAAO,CAACzB,WAAR,CAAoB,SAApB,EAA+B,KAAK6C,sBAApC,EAA4D,IAA5D;AACA;AAlDJ;;AAqDA,eAAOpB,OAAO,+EAAyBF,EAAzB,CAAd;AACD,OArEH;;AA0EE;;;;;;AAMA;;;AAGAxB,MAAAA,YAAY,EAAG,wBACf;AACE,aAAKiB,OAAL,GAAe,EAAf;AAEA,YAAI8B,MAAM,GAAG,KAAKC,OAAlB;AACA,YAAIC,KAAJ,EAAWC,GAAX,EAAgBC,KAAhB;AACA,YAAIC,CAAC,GAAC,CAAN;;AAEA,aAAK,IAAIC,OAAT,IAAoBN,MAApB,EACA;AACEE,UAAAA,KAAK,GAAGF,MAAM,CAACM,OAAD,CAAd;AAEAH,UAAAA,GAAG,GAAG,IAAIpE,EAAE,CAACO,EAAH,CAAMiD,QAAN,CAAeC,QAAnB,CAA4BU,KAAK,CAACK,KAAlC,CAAN;AACAJ,UAAAA,GAAG,CAACtD,SAAJ,CAAc,IAAId,EAAE,CAACO,EAAH,CAAMQ,MAAN,CAAa2C,IAAjB,EAAd;AAEA,eAAKvB,OAAL,CAAaoC,OAAb,IAAwBH,GAAxB;AACA,eAAKd,GAAL,CAASc,GAAT;;AAEA,eAAK,IAAIK,CAAC,GAAC,CAAX,EAAcA,CAAC,GAAC,KAAKjC,aAArB,EAAoCiC,CAAC,EAArC,EACA;AACEJ,YAAAA,KAAK,GAAG,KAAKK,eAAL,CAAqB,WAAYJ,CAAC,EAAlC,CAAR;AACAD,YAAAA,KAAK,CAACM,kBAAN,CAAyBR,KAAK,CAACS,MAAN,CAAaH,CAAb,KAAmB,IAA5C;AACAL,YAAAA,GAAG,CAACd,GAAJ,CAAQe,KAAR;AACD;AACF;AACF,OA5GH;;AA+GE;;;AAGAQ,MAAAA,oBAAoB,EAAG,gCACvB;AACE,YAAI,KAAKxC,eAAT,EAA0B;AACxB;AACD;;AAED,YAAIyC,GAAG,GAAG,IAAI9E,EAAE,CAACO,EAAH,CAAMwE,MAAN,CAAaC,MAAjB,CAAwB,KAAK7B,EAAL,CAAQ,gBAAR,CAAxB,CAAV;AACA,aAAKf,qBAAL,GAA6B0C,GAA7B;AACAA,QAAAA,GAAG,CAAChE,SAAJ,CAAc,IAAId,EAAE,CAACO,EAAH,CAAMQ,MAAN,CAAaC,IAAjB,CAAsB,EAAtB,CAAd;AACA8D,QAAAA,GAAG,CAACG,YAAJ,CAAiB,KAAjB;AACAH,QAAAA,GAAG,CAACI,MAAJ,CAAW,EAAX,EAAe,EAAf;AAEA,aAAK7C,eAAL,GAAuB,IAAIrC,EAAE,CAACO,EAAH,CAAMqC,OAAN,CAAcuC,aAAlB,EAAvB;AACAL,QAAAA,GAAG,CAACxB,GAAJ,CAAQ,KAAKjB,eAAb;AAEA,aAAKC,WAAL,GAAmB,IAAItC,EAAE,CAACO,EAAH,CAAMqD,SAAN,CAAgBC,SAApB,CAA8B,IAAI7D,EAAE,CAACO,EAAH,CAAMQ,MAAN,CAAa2C,IAAjB,CAAsB,CAAtB,EAAyB,OAAzB,CAA9B,CAAnB;AACAoB,QAAAA,GAAG,CAACxB,GAAJ,CAAQ,KAAKhB,WAAb;;AAEA,YAAI8C,SAAS,GAAG,KAAKnE,mBAAL,CAAyB,4BAAzB,CAAhB;;AACA,YAAIoE,KAAK,GAAG,KAAKpE,mBAAL,CAAyB,wBAAzB,CAAZ;;AAEA,aAAKqB,WAAL,CAAiBgB,GAAjB,CAAqB8B,SAArB;;AACA,aAAK9C,WAAL,CAAiBgB,GAAjB,CAAqB+B,KAArB;AACD,OAzIH;;AA+IE;;;;;AAMA;AACAC,MAAAA,WAAW,EAAG,qBAAS7D,KAAT,EAAgB8D,GAAhB,EACd;AACE,YAAI9D,KAAK,KAAK,IAAd,EACA;AACE,eAAK+D,MAAL,CAAY,IAAZ;AACA,eAAKC,QAAL,CAAc,IAAd;AACA,eAAKC,OAAL,CAAa,IAAb;AACD,SALD,MAOA;AACE,cAAIC,GAAG,GAAG3F,EAAE,CAAC4F,IAAH,CAAQC,SAAR,CAAkBC,WAAlB,CAA8BrE,KAA9B,CAAV;AACA,eAAK+D,MAAL,CAAYG,GAAG,CAAC,CAAD,CAAf;AACA,eAAKF,QAAL,CAAcE,GAAG,CAAC,CAAD,CAAjB;AACA,eAAKD,OAAL,CAAaC,GAAG,CAAC,CAAD,CAAhB;AACD;;AAED,aAAKjB,eAAL,CAAqB,kBAArB,EAAyCC,kBAAzC,CAA4DlD,KAA5D;;AACA,aAAKsE,qBAAL;AACD,OAxKH;;AA2KE;;;;;AAKAA,MAAAA,qBAAqB,EAAG,iCACxB;AACE,YAAG,CAAC,KAAK7B,OAAT,EAAiB;AACf;AACD;;AAED,YAAI8B,YAAY,GAAG,KAAK9B,OAAL,CAAa,KAAK3B,eAAlB,EAAmCqC,MAAtD;AACA,YAAIqB,UAAU,GAAG,KAAK9D,OAAL,CAAa,KAAKI,eAAlB,CAAjB;;AAEA,YAAI,CAACyD,YAAL,EAAmB;AACjB;AACD;;AAED,YAAIE,QAAQ,GAAG,KAAKC,QAAL,EAAf;;AAEA,YAAI,CAACD,QAAL,EAAe;AACb;AACD,SAhBH,CAkBE;;;AACA,YAAIE,MAAM,GAAGJ,YAAY,CAACK,OAAb,CAAqBH,QAArB,CAAb;;AAEA,YAAIE,MAAM,IAAI,CAAC,CAAf,EAAkB;AAChBpG,UAAAA,EAAE,CAACsG,IAAH,CAAQC,KAAR,CAAcC,QAAd,CAAuBR,YAAvB,EAAqCI,MAArC;AACD,SAFD,MAEO,IAAIJ,YAAY,CAACS,MAAb,IAAuB,KAAKjE,aAAhC,EAA+C;AACpDwD,UAAAA,YAAY,CAACU,KAAb;AACD;;AAEDV,QAAAA,YAAY,CAACW,IAAb,CAAkBT,QAAlB,EA3BF,CA6BE;;AACA,YAAIU,OAAO,GAAGX,UAAU,CAACY,WAAX,EAAd;;AAEA,aAAK,IAAIpC,CAAC,GAAC,CAAX,EAAcA,CAAC,GAACmC,OAAO,CAACH,MAAxB,EAAgChC,CAAC,EAAjC,EAAqC;AACnCmC,UAAAA,OAAO,CAACnC,CAAD,CAAP,CAAWE,kBAAX,CAA8BqB,YAAY,CAACvB,CAAD,CAAZ,IAAmB,IAAjD;AACD;AACF,OApNH;;AAwNE;;;;;;AAMA;;;;;;AAMA1B,MAAAA,mBAAmB,EAAG,6BAAS+D,CAAT,EACtB;AACE,YAAIC,MAAM,GAAG,KAAKrC,eAAL,CAAqB,iBAArB,EAAwCsC,kBAAxC,EAAb;AACA,aAAKC,QAAL,CAAcF,MAAd;;AAEA,YAAIA,MAAJ,EAAY;AACV,eAAKG,IAAL;AACD;AACF,OA5OH;;AA+OE;;;;;;AAMAlE,MAAAA,mBAAmB,EAAG,6BAAS8D,CAAT,EAAY;AAChC,aAAKpC,eAAL,CAAqB,iBAArB,EAAwCC,kBAAxC,CAA2DmC,CAAC,CAACK,SAAF,GAAcH,kBAAd,EAA3D;AACD,OAvPH;;AAyPE;;;;;;AAMA/D,MAAAA,kBAAkB,EAAG,4BAAS6D,CAAT,EAAY;AAC/B,YAAIjF,GAAG,GAAG,KAAKuF,MAAL,EAAV;AACA,YAAIrF,KAAK,GAAG,KAAKsF,QAAL,EAAZ;AACA,YAAIrF,IAAI,GAAG,KAAKsF,OAAL,EAAX;AACA,YAAIC,KAAK,GAAG,IAAZ;;AAEA,YAAI1F,GAAG,KAAK,IAAR,IAAgBE,KAAK,KAAK,IAA1B,IAAkCC,IAAI,KAAK,IAA/C,EAAqD;AACnDuF,UAAAA,KAAK,GAAGvH,EAAE,CAAC4F,IAAH,CAAQC,SAAR,CAAkB2B,cAAlB,CAAiC,CAAC3F,GAAD,EAAME,KAAN,EAAaC,IAAb,CAAjC,CAAR;AACD;;AAED,aAAK0C,eAAL,CAAqB,iBAArB,EAAwCC,kBAAxC,CAA2D4C,KAA3D;AACD,OA1QH;;AA4QE;;;;AAIAlE,MAAAA,sBAAsB,EAAG,kCACzB;AACE,aAAK4D,QAAL,CAAc,IAAd;AACA,aAAKC,IAAL;AACD,OApRH;;AAuRE;;;;AAIA3D,MAAAA,wBAAwB,EAAG,oCAC3B;AACE,aAAKsB,oBAAL;;AAEA,aAAK4C,OAAL;AAEA,YAAI5F,GAAG,GAAG,KAAKuF,MAAL,EAAV;AACA,YAAIrF,KAAK,GAAG,KAAKsF,QAAL,EAAZ;AACA,YAAIrF,IAAI,GAAG,KAAKsF,OAAL,EAAX;;AAEA,YAAIzF,GAAG,KAAK,IAAR,IAAgBE,KAAK,KAAK,IAA1B,IAAkCC,IAAI,KAAK,IAA/C,EACA;AACEH,UAAAA,GAAG,GAAG,GAAN;AACAE,UAAAA,KAAK,GAAG,GAAR;AACAC,UAAAA,IAAI,GAAG,GAAP;AACD;;AAED,aAAKK,eAAL,CAAqBmD,MAArB,CAA4B3D,GAA5B;;AACA,aAAKQ,eAAL,CAAqBoD,QAArB,CAA8B1D,KAA9B;;AACA,aAAKM,eAAL,CAAqBqD,OAArB,CAA6B1D,IAA7B;;AAEA,aAAKI,qBAAL,CAA2BsF,IAA3B;AACD,OAjTH;;AAoTE;;;;AAIA3D,MAAAA,kBAAkB,EAAG,8BACrB;AACE,YAAI4D,GAAG,GAAG,KAAKtF,eAAf;AACA,aAAK4E,QAAL,CAAcjH,EAAE,CAAC4F,IAAH,CAAQC,SAAR,CAAkB2B,cAAlB,CAAiC,CAACG,GAAG,CAACP,MAAJ,EAAD,EAAeO,GAAG,CAACN,QAAJ,EAAf,EAA+BM,GAAG,CAACL,OAAJ,EAA/B,CAAjC,CAAd;;AACA,aAAKlF,qBAAL,CAA2BwF,KAA3B;AACD,OA7TH;;AAgUE;;;;AAIA5D,MAAAA,sBAAsB,EAAG,kCAAW;AAClC,aAAK5B,qBAAL,CAA2BwF,KAA3B;AACD,OAtUH;;AAwUE;;;;;;;AAOAxG,MAAAA,mBAAmB,EAAG,6BAAS0F,CAAT,EAAY;AAChC,YAAI,KAAKe,aAAL,MAAwB,SAA5B,EACA;AACE,cAAIhG,GAAG,GAAG,KAAKuF,MAAL,EAAV;AACA,cAAIrF,KAAK,GAAG,KAAKsF,QAAL,EAAZ;AACA,cAAIrF,IAAI,GAAG,KAAKsF,OAAL,EAAX;AACA,cAAIC,KAAK,GAAG,IAAZ;;AAEA,cAAI1F,GAAG,KAAK,IAAR,IAAgBE,KAAK,KAAK,IAA1B,IAAkCC,IAAI,KAAK,IAA/C,EAAqD;AACnDuF,YAAAA,KAAK,GAAGvH,EAAE,CAAC4F,IAAH,CAAQC,SAAR,CAAkB2B,cAAlB,CAAiC,CAAC3F,GAAD,EAAME,KAAN,EAAaC,IAAb,CAAjC,CAAR;AACD;;AAED,eAAK0C,eAAL,CAAqB,kBAArB,EAAyCC,kBAAzC,CAA4D4C,KAA5D;AACA,eAAK7C,eAAL,CAAqB,iBAArB,EAAwCC,kBAAxC,CAA2D4C,KAA3D;AACD;AACF,OA9VH;;AAgWE;;;AAGArD,MAAAA,OAAO,EACP;AACErB,QAAAA,IAAI,EACJ;AACE2B,UAAAA,KAAK,EAAGxE,EAAE,CAAC8H,MAAH,CAAUC,OAAV,CAAkB5E,EAAlB,CAAqB,cAArB,CADV;AAEEyB,UAAAA,MAAM,EAAG,CAAE,MAAF,EAAU,MAAV,EAAkB,MAAlB,EAA0B,MAA1B,EAAkC,MAAlC,EAA0C,MAA1C,EAAkD,KAAlD,EAAyD,OAAzD,EAAkE,MAAlE,EAA0E,QAA1E,EAAoF,MAApF,EAA4F,QAA5F;AAFX,SAFF;AAOEoD,QAAAA,MAAM,EACN;AACExD,UAAAA,KAAK,EAAGxE,EAAE,CAAC8H,MAAH,CAAUC,OAAV,CAAkB5E,EAAlB,CAAqB,eAArB,CADV;AAEEyB,UAAAA,MAAM,EAAG;AAFX;AARF;AApWF,KAtFF;;AA0cE;;;;;AAMAqD,IAAAA,QAAQ,EAAG,oBACX;AACE,UAAI,KAAK7F,qBAAT,EAAgC;AAC9B,aAAKA,qBAAL,CAA2B8F,OAA3B;;AACA,aAAK7F,eAAL,CAAqB6F,OAArB;;AACA,aAAK5F,WAAL,CAAiB4F,OAAjB;AACD;;AACD,WAAKhE,OAAL,GAAe,KAAK/B,OAAL,GAAe,IAA9B;AACD;AAxdH,GADA;AAlCAnC,EAAAA,EAAE,CAACO,EAAH,CAAMqC,OAAN,CAAcuF,UAAd,CAAyBhI,aAAzB,GAAyCA,aAAzC",
  "sourcesContent": [
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Sebastian Werner (wpbasti)\n     * Andreas Ecker (ecker)\n     * Jonathan Wei√ü (jonathan_rass)\n\n\n************************************************************************ */\n\n/**\n * A popup which contains palettes of colors and the possibility to open the\n * Colorselector to choose a color.\n *\n * @childControl field {qx.ui.core.Widget} shows preset colors\n * @childControl auto-button {qx.ui.form.Button} automatic button\n * @childControl selector-button {qx.ui.form.Button} button to open the color selector\n * @childControl preview-pane {qx.ui.groupbox.GroupBox} group box to show the old and the new color\n * @childControl selected-preview {qx.ui.container.Composite} show the selected color\n * @childControl current-preview {qx.ui.container.Composite} show the current color\n * @childControl colorselector-okbutton {qx.ui.form.Button} button of the colorselector\n * @childControl colorselector-cancelbutton {qx.ui.form.Button} button of the colorselector\n */\nqx.Class.define(\"qx.ui.control.ColorPopup\",\n{\n  extend : qx.ui.popup.Popup,\n  implement : [qx.ui.form.IColorForm],\n\n  /*\n  *****************************************************************************\n     CONSTRUCTOR\n  *****************************************************************************\n  */\n\n  construct : function()\n  {\n    this.base(arguments);\n\n    this.setLayout(new qx.ui.layout.VBox(5));\n\n    this._createChildControl(\"auto-button\");\n    this._createBoxes();\n    this._createChildControl(\"preview-pane\");\n    this._createChildControl(\"selector-button\");\n\n    this.addListener(\"changeVisibility\", this._onChangeVisibility, this);\n  },\n\n  /*\n  *****************************************************************************\n     PROPERTIES\n  *****************************************************************************\n  */\n\n  properties :\n  {\n\n    // overridden\n    appearance :\n    {\n      refine : true,\n      init : \"colorpopup\"\n    },\n\n    /** The hex value of the selected color. */\n    value :\n    {\n      nullable : true,\n      apply : \"_applyValue\",\n      event : \"changeValue\"\n    },\n\n    /** The numeric red value of the selected color. */\n    red :\n    {\n      check : \"Number\",\n      init : null,\n      nullable : true,\n      event : \"changeRed\"\n    },\n\n    /** The numeric green value of the selected color. */\n    green :\n    {\n      check : \"Number\",\n      init : null,\n      nullable : true,\n      event : \"changeGreen\"\n    },\n\n    /** The numeric blue value of the selected color. */\n    blue :\n    {\n      check : \"Number\",\n      init : null,\n      nullable : true,\n      event : \"changeBlue\"\n    }\n  },\n\n\n\n\n  /*\n  *****************************************************************************\n     MEMBERS\n  *****************************************************************************\n  */\n\n  members :\n  {\n    __minZIndex : 1e5,\n    __boxes : null,\n    __colorSelectorWindow : null,\n    __colorSelector : null,\n    __buttonBar : null,\n    __recentTableId : \"recent\",\n    __fieldNumber : 12,\n\n\n    // overridden\n    _createChildControlImpl : function(id, hash)\n    {\n      var control;\n\n      switch(id)\n      {\n        case \"field\":\n          control = new qx.ui.core.Widget;\n          control.addListener(\"pointerdown\", this._onFieldPointerDown, this);\n          control.addListener(\"pointerover\", this._onFieldPointerOver, this);\n          control.addListener(\"pointerout\", this._onFieldPointerOut, this);\n          break;\n\n        case \"auto-button\":\n          control = new qx.ui.form.Button(this.tr(\"Automatic\"));\n          control.setAllowStretchX(true);\n          control.addListener(\"execute\", this._onAutomaticBtnExecute, this);\n\n          this.add(control);\n          break;\n\n        case \"selector-button\":\n          control = new qx.ui.form.Button(this.tr(\"Open ColorSelector\"));\n          control.addListener(\"execute\", this._onSelectorButtonExecute, this);\n\n          this.add(control);\n          break;\n\n        case \"preview-pane\":\n          control = new qx.ui.groupbox.GroupBox(this.tr(\"Preview (Old/New)\"));\n          control.setLayout(new qx.ui.layout.HBox);\n\n          control.add(this._createChildControl(\"selected-preview\", true), {flex : 1});\n          control.add(this._createChildControl(\"current-preview\", true), {flex : 1});\n\n          this.add(control);\n          break;\n\n        case \"selected-preview\":\n          control = new qx.ui.container.Composite(new qx.ui.layout.Basic);\n          break;\n\n        case \"current-preview\":\n          control = new qx.ui.container.Composite(new qx.ui.layout.Basic);\n          break;\n\n        case \"colorselector-okbutton\":\n          control = new qx.ui.form.Button(this.tr(\"OK\"));\n          control.addListener(\"execute\", this._onColorSelectorOk, this);\n          break;\n\n        case \"colorselector-cancelbutton\":\n          control = new qx.ui.form.Button(this.tr(\"Cancel\"));\n          control.addListener(\"execute\", this._onColorSelectorCancel, this);\n          break;\n      }\n\n      return control || this.base(arguments, id);\n    },\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      CREATOR SUBS\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Creates the GroupBoxes containing the colored fields.\n     */\n    _createBoxes : function()\n    {\n      this.__boxes = {};\n\n      var tables = this._tables;\n      var table, box, field;\n      var j=0;\n\n      for (var tableId in tables)\n      {\n        table = tables[tableId];\n\n        box = new qx.ui.groupbox.GroupBox(table.label);\n        box.setLayout(new qx.ui.layout.HBox);\n\n        this.__boxes[tableId] = box;\n        this.add(box);\n\n        for (var i=0; i<this.__fieldNumber; i++)\n        {\n          field = this.getChildControl(\"field#\" + (j++));\n          field.setBackgroundColor(table.values[i] || null);\n          box.add(field);\n        }\n      }\n    },\n\n\n    /**\n     * Creates the ColorSelector and adds buttons.\n     */\n    _createColorSelector : function()\n    {\n      if (this.__colorSelector) {\n        return;\n      }\n\n      var win = new qx.ui.window.Window(this.tr(\"Color Selector\"));\n      this.__colorSelectorWindow = win;\n      win.setLayout(new qx.ui.layout.VBox(16));\n      win.setResizable(false);\n      win.moveTo(20, 20);\n\n      this.__colorSelector = new qx.ui.control.ColorSelector();\n      win.add(this.__colorSelector);\n\n      this.__buttonBar = new qx.ui.container.Composite(new qx.ui.layout.HBox(8, \"right\"));\n      win.add(this.__buttonBar);\n\n      var btnCancel = this._createChildControl(\"colorselector-cancelbutton\");\n      var btnOk = this._createChildControl(\"colorselector-okbutton\");\n\n      this.__buttonBar.add(btnCancel);\n      this.__buttonBar.add(btnOk);\n    },\n\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      APPLY ROUTINES\n    ---------------------------------------------------------------------------\n    */\n\n    // Property apply\n    _applyValue : function(value, old)\n    {\n      if (value === null)\n      {\n        this.setRed(null);\n        this.setGreen(null);\n        this.setBlue(null);\n      }\n      else\n      {\n        var rgb = qx.util.ColorUtil.stringToRgb(value);\n        this.setRed(rgb[0]);\n        this.setGreen(rgb[1]);\n        this.setBlue(rgb[2]);\n      }\n\n      this.getChildControl(\"selected-preview\").setBackgroundColor(value);\n      this._rotatePreviousColors();\n    },\n\n\n    /**\n     * Adds the most recent selected color to the \"Recent colors\" list.\n     * If this list is full, the first color will be removed before inserting\n     * the new one.\n     */\n    _rotatePreviousColors : function()\n    {\n      if(!this._tables){\n        return;\n      }\n\n      var vRecentTable = this._tables[this.__recentTableId].values;\n      var vRecentBox = this.__boxes[this.__recentTableId];\n\n      if (!vRecentTable) {\n        return;\n      }\n\n      var newValue = this.getValue();\n\n      if (!newValue) {\n        return;\n      }\n\n      // Modifying incoming table\n      var vIndex = vRecentTable.indexOf(newValue);\n\n      if (vIndex != -1) {\n        qx.lang.Array.removeAt(vRecentTable, vIndex);\n      } else if (vRecentTable.length == this.__fieldNumber) {\n        vRecentTable.shift();\n      }\n\n      vRecentTable.push(newValue);\n\n      // Sync to visible fields\n      var vFields = vRecentBox.getChildren();\n\n      for (var i=0; i<vFields.length; i++) {\n        vFields[i].setBackgroundColor(vRecentTable[i] || null);\n      }\n    },\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      EVENT HANDLER\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Listener of pointerdown event on a color field. Sets the ColorPoup's value\n     * to field's color value and paint the preview pane.\n     *\n     * @param e {qx.event.type.Pointer} Incoming event object\n     */\n    _onFieldPointerDown : function(e)\n    {\n      var vValue = this.getChildControl(\"current-preview\").getBackgroundColor();\n      this.setValue(vValue);\n\n      if (vValue) {\n        this.hide();\n      }\n    },\n\n\n    /**\n     * Listener of pointermove event on a color field. Sets preview pane's\n     * background color to the field's color value.\n     *\n     * @param e {qx.event.type.Pointer} Incoming event object\n     */\n    _onFieldPointerOver : function(e) {\n      this.getChildControl(\"current-preview\").setBackgroundColor(e.getTarget().getBackgroundColor());\n    },\n\n    /**\n     * Listener of pointerout event on a color field. Reset the preview pane's\n     * background color to the old color value.\n     *\n     * @param e {qx.event.type.Pointer} Incoming event object\n     */\n    _onFieldPointerOut : function(e) {\n      var red = this.getRed();\n      var green = this.getGreen();\n      var blue = this.getBlue();\n      var color = null;\n\n      if (red !== null || green !== null || blue !== null) {\n        color = qx.util.ColorUtil.rgbToRgbString([red, green, blue]);\n      }\n\n      this.getChildControl(\"current-preview\").setBackgroundColor(color);\n    },\n\n    /**\n     * Listener of execute event on the \"cancel\" button.\n     * Hides the ColorPopup and resets it's color value.\n     */\n    _onAutomaticBtnExecute : function()\n    {\n      this.setValue(null);\n      this.hide();\n    },\n\n\n    /**\n     * Listener of execute event on the \"Open ColorSelector\" button.\n     * Opens a ColorSelector widget and hides the ColorPopup.\n     */\n    _onSelectorButtonExecute : function()\n    {\n      this._createColorSelector();\n\n      this.exclude();\n\n      var red = this.getRed();\n      var green = this.getGreen();\n      var blue = this.getBlue();\n\n      if (red === null || green === null || blue === null)\n      {\n        red = 255;\n        green = 255;\n        blue = 255;\n      }\n\n      this.__colorSelector.setRed(red);\n      this.__colorSelector.setGreen(green);\n      this.__colorSelector.setBlue(blue);\n\n      this.__colorSelectorWindow.open();\n    },\n\n\n    /**\n     * Listener of execute event on the \"OK\" button.\n     * Hides the ColorPopup and sets it's color value to the selected color.\n     */\n    _onColorSelectorOk : function()\n    {\n      var sel = this.__colorSelector;\n      this.setValue(qx.util.ColorUtil.rgbToRgbString([sel.getRed(), sel.getGreen(), sel.getBlue()]));\n      this.__colorSelectorWindow.close();\n    },\n\n\n    /**\n     * Listener of execute event on the \"Cancel\" button.\n     * Hides the ColorPopup.\n     */\n    _onColorSelectorCancel : function() {\n      this.__colorSelectorWindow.close();\n    },\n\n    /**\n     * Listener for visibility changes.\n     * Sets preview pane's background color to the current color,\n     * when the popup is visible.\n     *\n     * @param e {qx.event.type.Data} Incoming event object\n     */\n    _onChangeVisibility : function(e) {\n      if (this.getVisibility() == \"visible\")\n      {\n        var red = this.getRed();\n        var green = this.getGreen();\n        var blue = this.getBlue();\n        var color = null;\n\n        if (red !== null || green !== null || blue !== null) {\n          color = qx.util.ColorUtil.rgbToRgbString([red, green, blue]);\n        }\n\n        this.getChildControl(\"selected-preview\").setBackgroundColor(color);\n        this.getChildControl(\"current-preview\").setBackgroundColor(color);\n      }\n    },\n\n    /**\n     * @lint ignoreReferenceField(_tables)\n     */\n    _tables :\n    {\n      core :\n      {\n        label : qx.locale.Manager.tr(\"Basic Colors\"),\n        values : [ \"#000\", \"#333\", \"#666\", \"#999\", \"#CCC\", \"#FFF\", \"red\", \"green\", \"blue\", \"yellow\", \"teal\", \"maroon\" ]\n      },\n\n      recent :\n      {\n        label : qx.locale.Manager.tr(\"Recent Colors\"),\n        values : [ ]\n      }\n    }\n  },\n\n\n  /*\n  *****************************************************************************\n     DESTRUCTOR\n  *****************************************************************************\n  */\n\n  destruct : function()\n  {\n    if (this.__colorSelectorWindow) {\n      this.__colorSelectorWindow.destroy();\n      this.__colorSelector.destroy();\n      this.__buttonBar.destroy();\n    }\n    this._tables = this.__boxes = null;\n  }\n});\n"
  ]
}