{
  "version": 3,
  "sources": [
    "/home/travis/build/CometVisu/CometVisu/node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/theme/manager/Color.js"
  ],
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "type",
    "extend",
    "util",
    "ValueManager",
    "properties",
    "theme",
    "check",
    "nullable",
    "apply",
    "event",
    "members",
    "_applyTheme",
    "value",
    "dest",
    "_setDynamic",
    "colors",
    "name",
    "__parseColor",
    "color",
    "ColorUtil",
    "isCssString",
    "undefined",
    "Error",
    "Array",
    "rgbToRgbString",
    "Function",
    "resolve",
    "cache",
    "_dynamic",
    "resolved",
    "getTheme",
    "isDynamic",
    "manager",
    "Color"
  ],
  "mappings": "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",
  "sourcesContent": [
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Sebastian Werner (wpbasti)\n     * Andreas Ecker (ecker)\n\n************************************************************************ */\n\n/**\n * Manager for color themes\n */\nqx.Class.define(\"qx.theme.manager.Color\",\n{\n  type : \"singleton\",\n  extend : qx.util.ValueManager,\n\n\n\n\n  /*\n  *****************************************************************************\n     PROPERTIES\n  *****************************************************************************\n  */\n\n  properties :\n  {\n    /** the currently selected color theme */\n    theme :\n    {\n      check : \"Theme\",\n      nullable : true,\n      apply : \"_applyTheme\",\n      event : \"changeTheme\"\n    }\n  },\n\n\n\n\n  /*\n  *****************************************************************************\n     MEMBERS\n  *****************************************************************************\n  */\n\n  members :\n  {\n\n    _applyTheme : function(value)\n    {\n      var dest = {};\n      this._setDynamic(dest); // reset dynamic cache\n      if (value) {\n        var colors = value.colors;\n\n        for (var name in colors) {\n          if (!dest[name]) {\n            dest[name] = this.__parseColor(colors, name);\n          }\n        }\n      }\n    },\n\n\n    /**\n     * Helper to take a color stored in the theme and returns the string color value.\n     * In most of the times that means it just returns the string stored in the theme.\n     * It additionally checks if its a valid color at all.\n     *\n     * @param colors {Map} The map of color definitions.\n     * @param name {String} The name of the color to check.\n     * @return {String} The resolved color as string.\n     */\n    __parseColor : function(colors, name) {\n      var color = colors[name];\n      if (typeof color === \"string\") {\n        if (!qx.util.ColorUtil.isCssString(color)) {\n          // check for references to in theme colors\n          if (colors[color] != undefined) {\n            return this.__parseColor(colors, color);\n          }\n          throw new Error(\"Could not parse color: \" + color);\n        }\n        return color;\n\n      } else if (color instanceof Array) {\n        return qx.util.ColorUtil.rgbToRgbString(color);\n      } else if (color instanceof Function) {\n        return this.__parseColor(colors,color(name));\n      }\n      // this is might already be a rgb or hex color\n      return name;\n    },\n\n\n    /**\n     * Returns the dynamically interpreted result for the incoming value,\n     * (if available), otherwise returns the original value\n     * @param value {String} Value to resolve\n     * @return {var} either returns the (translated) result of the incoming\n     * value or the value itself\n     */\n    resolve : function(value)\n    {\n      var cache = this._dynamic;\n      var resolved = cache[value];\n\n      if (resolved)\n      {\n        return resolved;\n      }\n\n      // If the font instance is not yet cached create a new one to return\n      // This is true whenever a runtime include occurred (using \"qx.Theme.include\"\n      // or \"qx.Theme.patch\"), since these methods only merging the keys of\n      // the theme and are not updating the cache\n      var theme = this.getTheme();\n      if (theme !== null && theme.colors[value])\n      {\n        return cache[value] = this.__parseColor(theme.colors, value);\n      }\n\n      return value;\n    },\n\n\n    /**\n     * Whether a value is interpreted dynamically\n     *\n     * @param value {String} dynamically interpreted identifier\n     * @return {Boolean} returns true if the value is interpreted dynamically\n     */\n    isDynamic : function(value) {\n      var cache = this._dynamic;\n\n      if (value && (cache[value] !== undefined))\n      {\n        return true;\n      }\n\n      // If the font instance is not yet cached create a new one to return\n      // This is true whenever a runtime include occurred (using \"qx.Theme.include\"\n      // or \"qx.Theme.patch\"), since these methods only merging the keys of\n      // the theme and are not updating the cache\n      var theme = this.getTheme();\n      if (theme !== null && value && (theme.colors[value] !== undefined))\n      {\n        cache[value] = this.__parseColor(theme.colors, value);\n        return true;\n      }\n\n      return false;\n    }\n  }\n});\n"
  ]
}