{
  "version": 3,
  "sources": [
    "/home/travis/build/CometVisu/CometVisu/qx_packages/qooxdoo_qxl_apiviewer_v1_0_0-beta_7/source/class/qxl/apiviewer/Controller.js"
  ],
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "extend",
    "core",
    "Object",
    "construct",
    "widgetRegistry",
    "_widgetRegistry",
    "qxl",
    "apiviewer",
    "MWidgetRegistry",
    "_titlePrefix",
    "document",
    "title",
    "ClassLoader",
    "setBaseUri",
    "$$appRoot",
    "_detailLoader",
    "getWidgetById",
    "_tabViewController",
    "TabViewController",
    "__bindTabViewController",
    "_tree",
    "__bindTree",
    "__bindToolbar",
    "btn_inherited",
    "btn_included",
    "addListener",
    "__syncMenuButton",
    "_history",
    "bom",
    "History",
    "getInstance",
    "__bindHistory",
    "Init",
    "getApplication",
    "getRoot",
    "e",
    "__openInNewTab",
    "isShiftPressed",
    "isCtrlOrCommandPressed",
    "members",
    "$$logCategory",
    "load",
    "apidata",
    "setTimeout",
    "start",
    "Date",
    "classes",
    "classname",
    "dao",
    "getClassByName",
    "rootPackage",
    "Package",
    "getPackage",
    "end",
    "setTreeData",
    "state",
    "getState",
    "__selectItem",
    "__decodeState",
    "evt",
    "_updateHistory",
    "getData",
    "page",
    "_ignoreTabViewSelection",
    "getUserData",
    "nodeName",
    "itemName",
    "resetSelection",
    "treeNode",
    "_ignoreTreeSelection",
    "uiModel",
    "UiModel",
    "bind",
    "btn_expand",
    "btn_protected",
    "btn_private",
    "btn_internal",
    "menuButton",
    "showInherited",
    "getValue",
    "showMixins",
    "setIcon",
    "item",
    "className",
    "newTitle",
    "addToHistory",
    "__encodeState",
    "_selectClass",
    "classNode",
    "callback",
    "self",
    "exclude",
    "showTabView",
    "loadDependedClasses",
    "then",
    "openClass",
    "openPackage",
    "call",
    "fullItemName",
    "LoadingIndicator",
    "show",
    "hashPos",
    "indexOf",
    "substring",
    "parenPos",
    "trim",
    "selectTreeNodeByClassName",
    "couldSelectTreeNode",
    "error",
    "hide",
    "sel",
    "getSelection",
    "getClassOrPackage",
    "showItem",
    "replace",
    "encodedState",
    "destruct",
    "_disposeObjects",
    "Controller"
  ],
  "mappings": "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",
  "sourcesContent": [
    "/* ************************************************************************\r\n\r\n   qooxdoo - the new era of web development\r\n\r\n   http://qooxdoo.org\r\n\r\n   Copyright:\r\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\r\n     2018 Zenesis Limited, http://www.zenesis.com\r\n\r\n   License:\r\n     MIT: https://opensource.org/licenses/MIT\r\n     See the LICENSE file in the project's top-level directory for details.\r\n\r\n   Authors:\r\n     * John Spackman (johnspackman)\r\n     * Til Schneider (til132)\r\n     * Sebastian Werner (wpbasti)\r\n     * Andreas Ecker (ecker)\r\n     * Fabian Jakobs (fjakobs)\r\n     * Jonathan WeiÃŸ (jonathan_rass)\r\n\r\n************************************************************************ */\r\n\r\n/**\r\n * Implements the dynamic behavior of the API viewer. The GUI is defined in\r\n * {@link Viewer}.\r\n *\r\n * @ignore (qx.$$appRoot)\r\n * \r\n */\r\nqx.Class.define(\"qxl.apiviewer.Controller\",\r\n{\r\n  extend : qx.core.Object,\r\n\r\n  /*\r\n   * ****************************************************************************\r\n   * CONSTRUCTOR\r\n   * ****************************************************************************\r\n   */\r\n  /**\r\n   * @param widgetRegistry\r\n   *          {Viewer} the GUI\r\n   * \r\n   * \r\n   */\r\n  construct : function(widgetRegistry)\r\n  {\r\n    this.base(arguments);\r\n\r\n    this._widgetRegistry = qxl.apiviewer.MWidgetRegistry;\r\n\r\n    this._titlePrefix = \"API Documentation\";\r\n    document.title = this._titlePrefix;\r\n\r\n    qxl.apiviewer.ClassLoader.setBaseUri(qx.$$appRoot + \"..\");\r\n\r\n    this._detailLoader = this._widgetRegistry.getWidgetById(\"detail_loader\");\r\n    this._tabViewController = new qxl.apiviewer.TabViewController(this._widgetRegistry);\r\n    this.__bindTabViewController();\r\n\r\n    this._tree = this._widgetRegistry.getWidgetById(\"tree\");\r\n    this.__bindTree();\r\n\r\n    this.__bindToolbar();\r\n\r\n    var btn_inherited = this._widgetRegistry.getWidgetById(\"btn_inherited\");\r\n    var btn_included = this._widgetRegistry.getWidgetById(\"btn_included\");\r\n\r\n    btn_inherited.addListener(\"changeValue\", this.__syncMenuButton, this);\r\n    btn_included.addListener(\"changeValue\", this.__syncMenuButton, this);\r\n\r\n\r\n    this._history = qx.bom.History.getInstance();\r\n    this.__bindHistory();\r\n\r\n    qx.core.Init.getApplication().getRoot().addListener(\"pointerdown\", function(e) {\r\n      this.__openInNewTab = e.isShiftPressed() || e.isCtrlOrCommandPressed();\r\n    }, this, true);\r\n  },\r\n\r\n\r\n  members :\r\n  {\r\n    __openInNewTab : false,\r\n\r\n    // overridden\r\n    $$logCategory : \"application\",\r\n\r\n    /**\r\n     * Loads the API doc tree from the enviroment\r\n     * doc tree.\r\n     * \r\n     * @param apidata {Object} all the apidata from the enviroment.\r\n     */\r\n    load : function(apidata) {\r\n      setTimeout(() => {\r\n        var start = new Date();\r\n        for (var classname of apidata.classes) {\r\n          qxl.apiviewer.dao.Class.getClassByName(classname, true);\r\n        }\r\n        var rootPackage = qxl.apiviewer.dao.Package.getPackage(null);\r\n        var end = new Date();\r\n        if (qx.core.Environment.get(\"qx.debug\")) {\r\n          this.debug(\"Time to build data tree: \" + (end.getTime() - start.getTime()) + \"ms\");\r\n        }\r\n        var start = new Date();\r\n        this._tree.setTreeData(rootPackage);\r\n        var end = new Date();\r\n        if (qx.core.Environment.get(\"qx.debug\")) {\r\n          this.debug(\"Time to update tree: \" + (end.getTime() - start.getTime()) + \"ms\");\r\n        }\r\n        setTimeout(() => {\r\n          // Handle bookmarks\r\n          var state = this._history.getState();\r\n          if (state) {\r\n            this.__selectItem(this.__decodeState(state));\r\n          } else {\r\n            this.__selectItem(\"\");\r\n          }\r\n        });\r\n      });\r\n    },  \r\n\r\n    /**\r\n     * binds the events of the TabView controller\r\n     */\r\n    __bindTabViewController : function()\r\n    {\r\n      this._tabViewController.addListener(\"classLinkTapped\", function(evt) {\r\n          this._updateHistory(evt.getData());\r\n      }, this);\r\n\r\n      this._tabViewController.addListener(\"changeSelection\", function(evt) {\r\n        var page = evt.getData()[0];\r\n\r\n        if (this._ignoreTabViewSelection == true) {\r\n          return;\r\n        }\r\n\r\n        if (page && page.getUserData(\"nodeName\")) {\r\n          var nodeName = page.getUserData(\"nodeName\");\r\n          var itemName = page.getUserData(\"itemName\");\r\n\r\n          if (itemName != null) {\r\n            this._updateHistory(nodeName + \"#\" + itemName);\r\n          } else {\r\n            this._updateHistory(nodeName);\r\n          }\r\n        } else {\r\n          this._tree.resetSelection();\r\n        }\r\n      }, this);\r\n    },\r\n\r\n\r\n    /**\r\n     * binds the selection event of the package tree.\r\n     */\r\n    __bindTree : function()\r\n    {\r\n      this._tree.addListener(\"changeSelection\", function(evt) {\r\n        var treeNode = evt.getData()[0];\r\n        if (treeNode && treeNode.getUserData(\"nodeName\") && !this._ignoreTreeSelection)\r\n        {\r\n          var nodeName = treeNode.getUserData(\"nodeName\");\r\n\r\n          // the history update will cause _selectClass to be called.\r\n          this._updateHistory(nodeName);\r\n        }\r\n      }, this);\r\n    },\r\n\r\n\r\n    /**\r\n     * binds the actions of the toolbar buttons.\r\n     */\r\n    __bindToolbar : function()\r\n    {\r\n      var uiModel = qxl.apiviewer.UiModel.getInstance();\r\n\r\n      var btn_inherited = this._widgetRegistry.getWidgetById(\"btn_inherited\");\r\n      btn_inherited.bind(\"value\", uiModel, \"showInherited\");\r\n      uiModel.bind(\"showInherited\", btn_inherited, \"value\");\r\n\r\n      var btn_included = this._widgetRegistry.getWidgetById(\"btn_included\");\r\n      btn_included.bind(\"value\", uiModel, \"showIncluded\");\r\n      uiModel.bind(\"showIncluded\", btn_included, \"value\");\r\n\r\n      var btn_expand = this._widgetRegistry.getWidgetById(\"btn_expand\");\r\n      btn_expand.bind(\"value\", uiModel, \"expandProperties\");\r\n      uiModel.bind(\"expandProperties\", btn_expand, \"value\");\r\n\r\n      var btn_protected = this._widgetRegistry.getWidgetById(\"btn_protected\");\r\n      btn_protected.bind(\"value\", uiModel, \"showProtected\");\r\n      uiModel.bind(\"showProtected\", btn_protected, \"value\");\r\n\r\n      var btn_private = this._widgetRegistry.getWidgetById(\"btn_private\");\r\n      btn_private.bind(\"value\", uiModel, \"showPrivate\");\r\n      uiModel.bind(\"showPrivate\", btn_private, \"value\");\r\n\r\n      var btn_internal = this._widgetRegistry.getWidgetById(\"btn_internal\");\r\n      btn_internal.bind(\"value\", uiModel, \"showInternal\");\r\n      uiModel.bind(\"showInternal\", btn_internal, \"value\");\r\n    },\r\n\r\n\r\n    /**\r\n     * Keeps the icon of the menubutton in sync with the menu checkboxes of\r\n     * inherited and mixin includes.\r\n     * \r\n     */\r\n    __syncMenuButton : function()\r\n    {\r\n      var menuButton = this._widgetRegistry.getWidgetById(\"menubtn_includes\");\r\n      var btn_inherited = this._widgetRegistry.getWidgetById(\"btn_inherited\");\r\n      var btn_included = this._widgetRegistry.getWidgetById(\"btn_included\");\r\n      var showInherited = btn_inherited.getValue();\r\n      var showMixins = btn_included.getValue();\r\n      if(showMixins && showInherited)\r\n      {\r\n        menuButton.setIcon('qxl/apiviewer/image/inherited_and_mixins_included.gif');\r\n      }\r\n      if(showInherited && !showMixins)\r\n      {\r\n        menuButton.setIcon('qxl/apiviewer/image/method_public_inherited18.gif');\r\n      }\r\n      if(!showInherited && showMixins)\r\n      {\r\n        menuButton.setIcon('qxl/apiviewer/image/overlay_mixin18.gif');\r\n      }\r\n      if(!showInherited && !showMixins)\r\n      {\r\n        menuButton.setIcon('qxl/apiviewer/image/includes.gif');\r\n      }\r\n\r\n    },\r\n\r\n    /**\r\n     * bind history events\r\n     */\r\n    __bindHistory : function()\r\n    {\r\n      this._history.addListener(\"changeState\", function(evt) {\r\n        var item = this.__decodeState(evt.getData());\r\n        if (item) {\r\n          this.__selectItem(item);\r\n        }\r\n      }, this);\r\n    },\r\n\r\n\r\n\r\n    /**\r\n     * Push the class to the browser history\r\n     * \r\n     * @param className\r\n     *          {String} name of the class\r\n     */\r\n    _updateHistory : function(className)\r\n    {\r\n      var newTitle = className + \" - \" + this._titlePrefix;\r\n      qx.bom.History.getInstance().addToHistory(this.__encodeState(className), newTitle);\r\n    },\r\n\r\n\r\n    /**\r\n     * Display information about a class\r\n     * \r\n     * @param classNode\r\n     *          {qxl.apiviewer.dao.Class} class node to display\r\n     */\r\n    _selectClass : function(classNode, callback, self) {\r\n      this._detailLoader.exclude();\r\n      this._tabViewController.showTabView();\r\n\r\n      return classNode.loadDependedClasses()\r\n        .then(() => {\r\n          if (classNode instanceof qxl.apiviewer.dao.Class) {\r\n            return this._tabViewController.openClass(classNode, this.__openInNewTab);\r\n          } else {\r\n            return this._tabViewController.openPackage(classNode, this.__openInNewTab);\r\n          }\r\n        })\r\n        .then(() => callback && callback.call(self));\r\n    },\r\n\r\n\r\n    /**\r\n     * Selects an item (class, property, method or constant).\r\n     * \r\n     * @param fullItemName\r\n     *          {String} the full name of the item to select. (e.g.\r\n     *          \"qx.mypackage.MyClass\" or \"qx.mypackage.MyClass#myProperty\")\r\n     * \r\n     * @lint ignoreDeprecated(alert)\r\n     */\r\n    __selectItem : function(fullItemName) {\r\n      qxl.apiviewer.LoadingIndicator.getInstance().show();\r\n      var className = fullItemName;\r\n      var itemName = null;\r\n      var hashPos = fullItemName.indexOf(\"#\");\r\n\r\n      if (hashPos != -1) {\r\n        className = fullItemName.substring(0, hashPos);\r\n        itemName = fullItemName.substring(hashPos + 1);\r\n\r\n        var parenPos = itemName.indexOf(\"(\");\r\n\r\n        if (parenPos != -1) {\r\n          itemName = itemName.substring(0, parenPos).trim();\r\n        }\r\n      }\r\n\r\n      // ignore changeSelection events\r\n      this._ignoreTreeSelection = true;\r\n      this._tree.selectTreeNodeByClassName(className)\r\n        .then(couldSelectTreeNode => {\r\n          this._ignoreTreeSelection = false;\r\n\r\n          if (!couldSelectTreeNode) {\r\n            this.error(\"Unknown class: \" + className);\r\n            //alert(\"Unknown class: \" + className);\r\n            qxl.apiviewer.LoadingIndicator.getInstance().hide();\r\n            return;\r\n          }\r\n\r\n          var sel = this._tree.getSelection();\r\n          var nodeName = sel[0].getUserData(\"nodeName\") || className;\r\n\r\n          /**\r\n           * @lint ignoreDeprecated(alert)\r\n           */\r\n          this._ignoreTabViewSelection = true;\r\n          this._selectClass(qxl.apiviewer.ClassLoader.getClassOrPackage(nodeName), () => {\r\n            if (itemName) {\r\n              if (!this._tabViewController.showItem(itemName)) {\r\n                this.error(\"Unknown item of class '\"+ className +\"': \" + itemName);\r\n                //alert(\"Unknown item of class '\"+ className +\"': \" + itemName);\r\n                qxl.apiviewer.LoadingIndicator.getInstance().hide();\r\n\r\n                this._updateHistory(className);\r\n                this._ignoreTabViewSelection = false;\r\n                return;\r\n              }\r\n            }\r\n            this._updateHistory(fullItemName);\r\n            this._ignoreTabViewSelection = false;\r\n          });\r\n        });\r\n    },\r\n\r\n\r\n    __encodeState : function(state) {\r\n      return state.replace(/(.*)#(.*)/g, \"$1~$2\")\r\n    },\r\n\r\n    __decodeState : function(encodedState) {\r\n      return encodedState.replace(/(.*)~(.*)/g, \"$1#$2\")\r\n    }\r\n\r\n  },\r\n\r\n\r\n  /*\r\n   * ****************************************************************************\r\n   * DESTRUCTOR\r\n   * ****************************************************************************\r\n   */\r\n\r\n  destruct : function()\r\n  {\r\n    this._widgetRegistry = null;\r\n    this._disposeObjects(\"_detailLoader\", \"_tree\", \"_history\", \"_tabViewController\");\r\n  }\r\n});\r\n"
  ]
}