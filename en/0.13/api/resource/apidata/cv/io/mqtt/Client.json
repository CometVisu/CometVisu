{
  "version": 0.3,
  "lastModified": 1717235105598,
  "lastModifiedIso": "2024-06-01T09:45:05.598Z",
  "classFilename": "../../source/class/cv/io/mqtt/Client.js",
  "type": "class",
  "location": {
    "start": {
      "line": 23,
      "column": 0,
      "index": 836
    },
    "end": {
      "line": 337,
      "column": 3,
      "index": 9257
    }
  },
  "className": "cv.io.mqtt.Client",
  "jsdoc": {
    "raw": [
      "*",
      " * MQTT client",
      " "
    ],
    "@description": [
      {
        "name": "@description",
        "body": "<p>MQTT client</p>"
      }
    ]
  },
  "superClass": "cv.io.AbstractClient",
  "interfaces": [
    "cv.io.IClient"
  ],
  "construct": {
    "type": "function",
    "params": [
      {
        "name": "type"
      },
      {
        "name": "backendUrl"
      }
    ],
    "location": {
      "start": {
        "line": 32,
        "column": 2,
        "index": 1064
      },
      "end": {
        "line": 40,
        "column": 3,
        "index": 1339
      }
    }
  },
  "members": {
    "_client": {
      "jsdoc": {
        "raw": [
          "",
          "     * @var {Paho.MQTT.Client}",
          "     "
        ],
        "@description": [
          {
            "name": "@description",
            "body": ""
          }
        ],
        "@var": [
          {
            "name": "@var",
            "body": "{Paho.MQTT.Client}"
          }
        ]
      },
      "access": "protected",
      "location": {
        "start": {
          "line": 51,
          "column": 4,
          "index": 1527
        },
        "end": {
          "line": 51,
          "column": 17,
          "index": 1540
        }
      },
      "appearsIn": []
    },
    "_clientOptions": {
      "jsdoc": null,
      "access": "protected",
      "location": {
        "start": {
          "line": 52,
          "column": 4,
          "index": 1546
        },
        "end": {
          "line": 52,
          "column": 24,
          "index": 1566
        }
      },
      "appearsIn": []
    },
    "_type": {
      "jsdoc": null,
      "access": "protected",
      "location": {
        "start": {
          "line": 53,
          "column": 4,
          "index": 1572
        },
        "end": {
          "line": 53,
          "column": 15,
          "index": 1583
        }
      },
      "appearsIn": []
    },
    "addresses": {
      "jsdoc": null,
      "access": "public",
      "location": {
        "start": {
          "line": 54,
          "column": 4,
          "index": 1589
        },
        "end": {
          "line": 54,
          "column": 19,
          "index": 1604
        }
      },
      "appearsIn": []
    },
    "getBackend": {
      "jsdoc": {
        "raw": [
          "*",
          "     * Returns the current backend configuration",
          "     * @return {Map}",
          "     "
        ],
        "@description": [
          {
            "name": "@description",
            "body": "<p>Returns the current backend configuration</p>"
          }
        ],
        "@return": [
          {
            "name": "@return",
            "body": "{Map}",
            "type": "Map<any, any>",
            "description": ""
          }
        ]
      },
      "access": "public",
      "location": {
        "start": {
          "line": 60,
          "column": 4,
          "index": 1697
        },
        "end": {
          "line": 62,
          "column": 5,
          "index": 1734
        }
      },
      "type": "function",
      "params": [],
      "returnType": {
        "type": "Map<any, any>"
      },
      "appearsIn": [
        "cv.io.IClient"
      ]
    },
    "getType": {
      "jsdoc": null,
      "access": "public",
      "location": {
        "start": {
          "line": 64,
          "column": 4,
          "index": 1741
        },
        "end": {
          "line": 66,
          "column": 5,
          "index": 1783
        }
      },
      "type": "function",
      "params": [],
      "appearsIn": [
        "cv.io.IClient"
      ]
    },
    "hasProvider": {
      "jsdoc": {
        "raw": [
          "*",
          "     * Returns true, when the backend provides a special data provider for this kins of data",
          "     * @param name {String}",
          "     * @return {Boolean}",
          "     "
        ],
        "@description": [
          {
            "name": "@description",
            "body": "<p>Returns true, when the backend provides a special data provider for this kins of data</p>"
          }
        ],
        "@param": [
          {
            "name": "@param",
            "body": "name {String}",
            "paramName": "name",
            "type": "string"
          }
        ],
        "@return": [
          {
            "name": "@return",
            "body": "{Boolean}",
            "type": "boolean",
            "description": ""
          }
        ]
      },
      "access": "public",
      "location": {
        "start": {
          "line": 73,
          "column": 4,
          "index": 1952
        },
        "end": {
          "line": 75,
          "column": 5,
          "index": 1997
        }
      },
      "type": "function",
      "params": [
        {
          "name": "name",
          "type": "string"
        }
      ],
      "returnType": {
        "type": "boolean"
      },
      "appearsIn": [
        "cv.io.IClient"
      ]
    },
    "getProviderUrl": {
      "jsdoc": {
        "raw": [
          "*",
          "     * URL to the provided data",
          "     * @param name",
          "     * @return {String}",
          "     "
        ],
        "@description": [
          {
            "name": "@description",
            "body": "<p>URL to the provided data</p>"
          }
        ],
        "@param": [
          {
            "name": "@param",
            "body": "name",
            "paramName": "name",
            "type": ""
          }
        ],
        "@return": [
          {
            "name": "@return",
            "body": "{String}",
            "type": "string",
            "description": ""
          }
        ]
      },
      "access": "public",
      "location": {
        "start": {
          "line": 82,
          "column": 4,
          "index": 2095
        },
        "end": {
          "line": 84,
          "column": 5,
          "index": 2142
        }
      },
      "type": "function",
      "params": [
        {
          "name": "name"
        }
      ],
      "returnType": {
        "type": "string"
      },
      "appearsIn": [
        "cv.io.IClient"
      ]
    },
    "getProviderConvertFunction": {
      "jsdoc": {
        "raw": [
          "*",
          "     * Mapping function the convert the data from the backend to a format the CometVisu data provider consumer can process.",
          "     * @param name {String}",
          "     "
        ],
        "@description": [
          {
            "name": "@description",
            "body": "<p>Mapping function the convert the data from the backend to a format the CometVisu data provider consumer can process.</p>"
          }
        ],
        "@param": [
          {
            "name": "@param",
            "body": "name {String}",
            "paramName": "name",
            "type": "string"
          }
        ]
      },
      "access": "public",
      "location": {
        "start": {
          "line": 90,
          "column": 4,
          "index": 2317
        },
        "end": {
          "line": 92,
          "column": 5,
          "index": 2376
        }
      },
      "type": "function",
      "params": [
        {
          "name": "name",
          "type": "string"
        }
      ],
      "appearsIn": [
        "cv.io.IClient"
      ]
    },
    "getProviderData": {
      "jsdoc": null,
      "access": "public",
      "location": {
        "start": {
          "line": 94,
          "column": 4,
          "index": 2383
        },
        "end": {
          "line": 96,
          "column": 5,
          "index": 2450
        }
      },
      "type": "function",
      "params": [
        {
          "name": "name"
        },
        {
          "name": "format"
        }
      ],
      "appearsIn": [
        "cv.io.IClient"
      ]
    },
    "setInitialAddresses": {
      "jsdoc": {
        "raw": [
          "*",
          "     * Set a subset of addresses the client should request initially (e.g. the ones one the start page).",
          "     * This can be used to increase the init state loading speed by sending an initial request with a smaller",
          "     * subset of addresses to the backend and send the rest later.",
          "     * @param addresses {Array}",
          "     "
        ],
        "@description": [
          {
            "name": "@description",
            "body": "<p>Set a subset of addresses the client should request initially (e.g. the ones one the start page).\n This can be used to increase the init state loading speed by sending an initial request with a smaller\n subset of addresses to the backend and send the rest later.</p>"
          }
        ],
        "@param": [
          {
            "name": "@param",
            "body": "addresses {Array}",
            "paramName": "addresses",
            "type": "Array<any>"
          }
        ]
      },
      "access": "public",
      "location": {
        "start": {
          "line": 104,
          "column": 4,
          "index": 2787
        },
        "end": {
          "line": 104,
          "column": 37,
          "index": 2820
        }
      },
      "type": "function",
      "params": [
        {
          "name": "addresses",
          "type": "Array<any>"
        }
      ],
      "appearsIn": [
        "cv.io.IClient"
      ]
    },
    "subscribe": {
      "jsdoc": {
        "raw": [
          "*",
          "     * Subscribe to the addresses in the parameter. The second parameter",
          "     * (filter) is optional",
          "     *",
          "     * @param addresses {Array?} addresses to subscribe to",
          "     * @param filters {Array?} Filters",
          "     *",
          "     "
        ],
        "@description": [
          {
            "name": "@description",
            "body": "<p>Subscribe to the addresses in the parameter. The second parameter\n (filter) is optional</p>"
          }
        ],
        "@param": [
          {
            "name": "@param",
            "body": "addresses {Array?} addresses to subscribe to",
            "paramName": "addresses",
            "description": " addresses to subscribe to",
            "optional": true,
            "type": "Array"
          },
          {
            "name": "@param",
            "body": "filters {Array?} Filters",
            "paramName": "filters",
            "description": " Filters",
            "optional": true,
            "type": "Array"
          }
        ]
      },
      "access": "public",
      "location": {
        "start": {
          "line": 114,
          "column": 4,
          "index": 3056
        },
        "end": {
          "line": 117,
          "column": 5,
          "index": 3209
        }
      },
      "type": "function",
      "params": [
        {
          "name": "addresses",
          "type": "Array",
          "optional": true
        },
        {
          "name": "filters",
          "type": "Array",
          "optional": true
        }
      ],
      "appearsIn": [
        "cv.io.IClient"
      ]
    },
    "addSubscription": {
      "jsdoc": null,
      "access": "public",
      "location": {
        "start": {
          "line": 119,
          "column": 4,
          "index": 3216
        },
        "end": {
          "line": 124,
          "column": 5,
          "index": 3382
        }
      },
      "type": "function",
      "params": [
        {
          "name": "address"
        }
      ],
      "appearsIn": [
        "cv.io.IClient"
      ]
    },
    "login": {
      "jsdoc": {
        "raw": [
          "*",
          "     * This function starts the communication by a login and then runs the",
          "     * ongoing communication task",
          "     *",
          "     * @param loginOnly {Boolean} if true only login and backend configuration, no subscription",
          "     *                            to addresses (default: false)",
          "     * @param credentials {Map} map with \"username\" and \"password\" (optional)",
          "     * @param callback {Function} call this function when login is done",
          "     * @param context {Object} context for the callback (this)",
          "     *",
          "     "
        ],
        "@description": [
          {
            "name": "@description",
            "body": "<p>This function starts the communication by a login and then runs the\n ongoing communication task</p>"
          }
        ],
        "@param": [
          {
            "name": "@param",
            "body": "loginOnly {Boolean} if true only login and backend configuration, no subscription\n                            to addresses (default: false)",
            "paramName": "loginOnly",
            "description": " if true only login and backend configuration, no subscription\n                            to addresses (default: false)",
            "type": "boolean"
          },
          {
            "name": "@param",
            "body": "credentials {Map} map with \"username\" and \"password\" (optional)",
            "paramName": "credentials",
            "description": " map with \"username\" and \"password\" (optional)",
            "type": "Map<any, any>"
          },
          {
            "name": "@param",
            "body": "callback {Function} call this function when login is done",
            "paramName": "callback",
            "description": " call this function when login is done",
            "type": "((...args: any[]) => any)"
          },
          {
            "name": "@param",
            "body": "context {Object} context for the callback (this)",
            "paramName": "context",
            "description": " context for the callback (this)",
            "type": "Record<any, any>"
          }
        ]
      },
      "access": "public",
      "location": {
        "start": {
          "line": 137,
          "column": 4,
          "index": 3901
        },
        "end": {
          "line": 217,
          "column": 5,
          "index": 6050
        }
      },
      "type": "function",
      "params": [
        {
          "name": "loginOnly",
          "type": "boolean"
        },
        {
          "name": "credentials",
          "type": "Map<any, any>"
        },
        {
          "name": "callback",
          "type": "((...args: any[]) => any)"
        },
        {
          "name": "context",
          "type": "Record<any, any>"
        }
      ],
      "appearsIn": [
        "cv.io.IClient"
      ]
    },
    "__connect": {
      "jsdoc": {
        "raw": [
          "*",
          "     * Connect to the MQTT server",
          "     "
        ],
        "@description": [
          {
            "name": "@description",
            "body": "<p>Connect to the MQTT server</p>"
          }
        ]
      },
      "access": "private",
      "location": {
        "start": {
          "line": 222,
          "column": 4,
          "index": 6107
        },
        "end": {
          "line": 233,
          "column": 5,
          "index": 6436
        }
      },
      "type": "function",
      "params": [],
      "appearsIn": []
    },
    "authorize": {
      "jsdoc": {
        "raw": [
          "*",
          "     * Authorize a Request by adding the necessary headers.",
          "     * @param req {qx.io.request.Xhr}",
          "     "
        ],
        "@description": [
          {
            "name": "@description",
            "body": "<p>Authorize a Request by adding the necessary headers.</p>"
          }
        ],
        "@param": [
          {
            "name": "@param",
            "body": "req {qx.io.request.Xhr}",
            "paramName": "req",
            "type": "qx.io.request.Xhr"
          }
        ]
      },
      "access": "public",
      "location": {
        "start": {
          "line": 239,
          "column": 4,
          "index": 6557
        },
        "end": {
          "line": 239,
          "column": 21,
          "index": 6574
        }
      },
      "type": "function",
      "params": [
        {
          "name": "req",
          "type": "qx.io.request.Xhr"
        }
      ],
      "appearsIn": [
        "cv.io.IClient"
      ]
    },
    "getResourcePath": {
      "jsdoc": {
        "raw": [
          "*",
          "     * return the relative path to a resource on the currently used backend",
          "     *",
          "     * @param name {String} Name of the resource (e.g. login, read, write, rrd)",
          "     * @param params {Map?} optional data needed to generate the resource path",
          "     * @return {String|null} relative path to the resource, returns `null` when the backend does not provide that resource",
          "     "
        ],
        "@description": [
          {
            "name": "@description",
            "body": "<p>return the relative path to a resource on the currently used backend</p>"
          }
        ],
        "@param": [
          {
            "name": "@param",
            "body": "name {String} Name of the resource (e.g. login, read, write, rrd)",
            "paramName": "name",
            "description": " Name of the resource (e.g. login, read, write, rrd)",
            "type": "string"
          },
          {
            "name": "@param",
            "body": "params {Map?} optional data needed to generate the resource path",
            "paramName": "params",
            "description": " optional data needed to generate the resource path",
            "optional": true,
            "type": "Map"
          }
        ],
        "@return": [
          {
            "name": "@return",
            "body": "{String|null} relative path to the resource, returns <code>null</code> when the backend does not provide that resource",
            "type": "String|null",
            "description": "relative path to the resource, returns <code>null</code> when the backend does not provide that resource"
          }
        ]
      },
      "access": "public",
      "location": {
        "start": {
          "line": 248,
          "column": 4,
          "index": 6962
        },
        "end": {
          "line": 248,
          "column": 36,
          "index": 6994
        }
      },
      "type": "function",
      "params": [
        {
          "name": "name",
          "type": "string"
        },
        {
          "name": "params",
          "type": "Map",
          "optional": true
        }
      ],
      "returnType": {
        "type": "String|null"
      },
      "appearsIn": [
        "cv.io.IClient"
      ]
    },
    "hasCustomChartsDataProcessor": {
      "jsdoc": {
        "raw": [
          "*",
          "     * This client provides an own processor for charts data",
          "     * @return {Boolean}",
          "     "
        ],
        "@description": [
          {
            "name": "@description",
            "body": "<p>This client provides an own processor for charts data</p>"
          }
        ],
        "@return": [
          {
            "name": "@return",
            "body": "{Boolean}",
            "type": "boolean",
            "description": ""
          }
        ]
      },
      "access": "public",
      "location": {
        "start": {
          "line": 254,
          "column": 4,
          "index": 7103
        },
        "end": {
          "line": 254,
          "column": 37,
          "index": 7136
        }
      },
      "type": "function",
      "params": [],
      "returnType": {
        "type": "boolean"
      },
      "appearsIn": [
        "cv.io.IClient"
      ]
    },
    "processChartsData": {
      "jsdoc": {
        "raw": [
          "*",
          "     * For custom backend charts data some processing might be done to convert it in a format the CometVisu can handle",
          "     * @param data {var}",
          "     "
        ],
        "@description": [
          {
            "name": "@description",
            "body": "<p>For custom backend charts data some processing might be done to convert it in a format the CometVisu can handle</p>"
          }
        ],
        "@param": [
          {
            "name": "@param",
            "body": "data {var}",
            "paramName": "data",
            "type": "var"
          }
        ]
      },
      "access": "public",
      "location": {
        "start": {
          "line": 260,
          "column": 4,
          "index": 7303
        },
        "end": {
          "line": 260,
          "column": 30,
          "index": 7329
        }
      },
      "type": "function",
      "params": [
        {
          "name": "data",
          "type": "var"
        }
      ],
      "appearsIn": [
        "cv.io.IClient"
      ]
    },
    "write": {
      "jsdoc": {
        "raw": [
          "*",
          "     * This function sends a value",
          "     * @param address {String} address to send the value to",
          "     * @param value {String} value to send",
          "     * @param options {Object} optional options, depending on backend",
          "     *",
          "     "
        ],
        "@description": [
          {
            "name": "@description",
            "body": "<p>This function sends a value</p>"
          }
        ],
        "@param": [
          {
            "name": "@param",
            "body": "address {String} address to send the value to",
            "paramName": "address",
            "description": " address to send the value to",
            "type": "string"
          },
          {
            "name": "@param",
            "body": "value {String} value to send",
            "paramName": "value",
            "description": " value to send",
            "type": "string"
          },
          {
            "name": "@param",
            "body": "options {Object} optional options, depending on backend",
            "paramName": "options",
            "description": " optional options, depending on backend",
            "type": "Record<any, any>"
          }
        ]
      },
      "access": "public",
      "location": {
        "start": {
          "line": 269,
          "column": 4,
          "index": 7567
        },
        "end": {
          "line": 281,
          "column": 5,
          "index": 7974
        }
      },
      "type": "function",
      "params": [
        {
          "name": "address",
          "type": "string"
        },
        {
          "name": "value",
          "type": "string"
        },
        {
          "name": "options",
          "type": "Record<any, any>"
        }
      ],
      "appearsIn": [
        "cv.io.IClient"
      ]
    },
    "getLastError": {
      "jsdoc": {
        "raw": [
          "*",
          "     * Get the last recorded error",
          "     *",
          "     * @return {{code: (*|Integer), text: (*|String), response: (*|String|null), url: (*|String), time: number}|*}",
          "     "
        ],
        "@description": [
          {
            "name": "@description",
            "body": "<p>Get the last recorded error</p>"
          }
        ],
        "@return": [
          {
            "name": "@return",
            "body": "{{code: (*|Integer), text: (*|String), response: (*|String|null), url: (*|String), time: number}|*}",
            "type": "{code: (*|Integer), text: (*|String), response: (*|String|null), url: (*|String), time: number}|*",
            "description": ""
          }
        ]
      },
      "access": "public",
      "location": {
        "start": {
          "line": 288,
          "column": 4,
          "index": 8154
        },
        "end": {
          "line": 288,
          "column": 21,
          "index": 8171
        }
      },
      "type": "function",
      "params": [],
      "returnType": {
        "type": "{code: (*|Integer), text: (*|String), response: (*|String|null), url: (*|String), time: number}|*"
      },
      "appearsIn": [
        "cv.io.IClient"
      ]
    },
    "restart": {
      "jsdoc": {
        "raw": [
          "*",
          "     * Restart the connection",
          "     * @param full",
          "     "
        ],
        "@description": [
          {
            "name": "@description",
            "body": "<p>Restart the connection</p>"
          }
        ],
        "@param": [
          {
            "name": "@param",
            "body": "full",
            "paramName": "full",
            "type": ""
          }
        ]
      },
      "access": "public",
      "location": {
        "start": {
          "line": 294,
          "column": 4,
          "index": 8243
        },
        "end": {
          "line": 297,
          "column": 5,
          "index": 8312
        }
      },
      "type": "function",
      "params": [
        {
          "name": "full"
        }
      ],
      "appearsIn": [
        "cv.io.IClient"
      ]
    },
    "update": {
      "jsdoc": {
        "raw": [
          "*",
          "     * Handle the incoming state updates. This method is not implemented by the client itself.",
          "     * It is injected by the project using the client.",
          "     * @param json",
          "     "
        ],
        "@description": [
          {
            "name": "@description",
            "body": "<p>Handle the incoming state updates. This method is not implemented by the client itself.\n It is injected by the project using the client.</p>"
          }
        ],
        "@param": [
          {
            "name": "@param",
            "body": "json",
            "paramName": "json",
            "type": ""
          }
        ]
      },
      "access": "public",
      "location": {
        "start": {
          "line": 304,
          "column": 4,
          "index": 8504
        },
        "end": {
          "line": 304,
          "column": 19,
          "index": 8519
        }
      },
      "type": "function",
      "params": [
        {
          "name": "json"
        }
      ],
      "appearsIn": [
        "cv.io.IClient"
      ]
    },
    "record": {
      "jsdoc": {
        "raw": [
          "*",
          "     * Can be overridden to record client communication with backend",
          "     * @param type {String} type of event to record",
          "     * @param data {Object} data to record",
          "     "
        ],
        "@description": [
          {
            "name": "@description",
            "body": "<p>Can be overridden to record client communication with backend</p>"
          }
        ],
        "@param": [
          {
            "name": "@param",
            "body": "type {String} type of event to record",
            "paramName": "type",
            "description": " type of event to record",
            "type": "string"
          },
          {
            "name": "@param",
            "body": "data {Object} data to record",
            "paramName": "data",
            "description": " data to record",
            "type": "Record<any, any>"
          }
        ]
      },
      "access": "public",
      "location": {
        "start": {
          "line": 311,
          "column": 4,
          "index": 8706
        },
        "end": {
          "line": 311,
          "column": 25,
          "index": 8727
        }
      },
      "type": "function",
      "params": [
        {
          "name": "type",
          "type": "string"
        },
        {
          "name": "data",
          "type": "Record<any, any>"
        }
      ],
      "appearsIn": [
        "cv.io.IClient"
      ]
    },
    "showError": {
      "jsdoc": {
        "raw": [
          "*",
          "     * Can be overridden to provide an error handler for client errors",
          "     * @param type {Number} one of cv.io.Client.ERROR_CODES",
          "     * @param message {String} detailed error message",
          "     * @param args",
          "     "
        ],
        "@description": [
          {
            "name": "@description",
            "body": "<p>Can be overridden to provide an error handler for client errors</p>"
          }
        ],
        "@param": [
          {
            "name": "@param",
            "body": "type {Number} one of cv.io.Client.ERROR_CODES",
            "paramName": "type",
            "description": " one of cv.io.Client.ERROR_CODES",
            "type": "number"
          },
          {
            "name": "@param",
            "body": "message {String} detailed error message",
            "paramName": "message",
            "description": " detailed error message",
            "type": "string"
          },
          {
            "name": "@param",
            "body": "args",
            "paramName": "args",
            "type": ""
          }
        ]
      },
      "access": "public",
      "location": {
        "start": {
          "line": 319,
          "column": 4,
          "index": 8954
        },
        "end": {
          "line": 319,
          "column": 37,
          "index": 8987
        }
      },
      "type": "function",
      "params": [
        {
          "name": "type",
          "type": "number"
        },
        {
          "name": "message",
          "type": "string"
        },
        {
          "name": "args"
        }
      ],
      "appearsIn": [
        "cv.io.IClient"
      ]
    },
    "terminate": {
      "jsdoc": null,
      "access": "public",
      "location": {
        "start": {
          "line": 321,
          "column": 4,
          "index": 8994
        },
        "end": {
          "line": 325,
          "column": 5,
          "index": 9088
        }
      },
      "type": "function",
      "params": [],
      "appearsIn": [
        "cv.io.IClient"
      ]
    },
    "destruct": {
      "jsdoc": {
        "raw": [
          "*",
          "     * Destructor",
          "     "
        ],
        "@description": [
          {
            "name": "@description",
            "body": "<p>Destructor</p>"
          }
        ]
      },
      "access": "public",
      "location": {
        "start": {
          "line": 330,
          "column": 4,
          "index": 9129
        },
        "end": {
          "line": 335,
          "column": 5,
          "index": 9249
        }
      },
      "type": "function",
      "params": [],
      "appearsIn": []
    }
  },
  "statics": {},
  "properties": {}
}