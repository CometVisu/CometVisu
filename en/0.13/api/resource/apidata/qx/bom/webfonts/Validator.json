{
  "version": 0.3,
  "lastModified": 1722151627431,
  "lastModifiedIso": "2024-07-28T07:27:07.431Z",
  "classFilename": "../../node_modules/@qooxdoo/framework/source/class/qx/bom/webfonts/Validator.js",
  "type": "class",
  "location": {
    "start": {
      "line": 23,
      "column": 0,
      "index": 630
    },
    "end": {
      "line": 463,
      "column": 3,
      "index": 13270
    }
  },
  "className": "qx.bom.webfonts.Validator",
  "jsdoc": {
    "raw": [
      "*",
      " * Checks whether a given font is available on the document and fires events",
      " * accordingly.",
      " *",
      " * This class does not need to be disposed, unless you want to abort the validation",
      " * early",
      " "
    ],
    "@description": [
      {
        "name": "@description",
        "body": "<p>Checks whether a given font is available on the document and fires events\n accordingly.\n This class does not need to be disposed, unless you want to abort the validation\n early</p>"
      }
    ]
  },
  "superClass": "qx.core.Object",
  "construct": {
    "type": "function",
    "params": [
      {
        "name": "fontFamily"
      },
      {
        "name": "comparisonString"
      },
      {
        "name": "fontWeight"
      },
      {
        "name": "fontStyle"
      }
    ],
    "location": {
      "start": {
        "line": 39,
        "column": 2,
        "index": 1256
      },
      "end": {
        "line": 57,
        "column": 3,
        "index": 1723
      }
    }
  },
  "statics": {
    "COMPARISON_FONTS": {
      "jsdoc": {
        "raw": [
          "*",
          "     * Sets of serif and sans-serif fonts to be used for size comparisons.",
          "     * At least one of these fonts should be present on any system.",
          "     "
        ],
        "@description": [
          {
            "name": "@description",
            "body": "<p>Sets of serif and sans-serif fonts to be used for size comparisons.\n At least one of these fonts should be present on any system.</p>"
          }
        ]
      },
      "access": "public",
      "location": {
        "start": {
          "line": 70,
          "column": 4,
          "index": 2086
        },
        "end": {
          "line": 73,
          "column": 5,
          "index": 2214
        }
      },
      "appearsIn": []
    },
    "HELPER_CSS": {
      "jsdoc": {
        "raw": [
          "*",
          "     * Map of common CSS attributes to be used for all  size comparison elements",
          "     "
        ],
        "@description": [
          {
            "name": "@description",
            "body": "<p>Map of common CSS attributes to be used for all  size comparison elements</p>"
          }
        ]
      },
      "access": "public",
      "location": {
        "start": {
          "line": 78,
          "column": 4,
          "index": 2318
        },
        "end": {
          "line": 90,
          "column": 5,
          "index": 2601
        }
      },
      "appearsIn": []
    },
    "COMPARISON_STRING": {
      "jsdoc": {
        "raw": [
          "*",
          "     * The string to be used in the size comparison elements. This is the default string",
          "     * which is used for the {@link #COMPARISON_FONTS} and the font to be validated. It",
          "     * can be overridden for the font to be validated using the {@link #comparisonString}",
          "     * property.",
          "     "
        ],
        "@description": [
          {
            "name": "@description",
            "body": "<p>The string to be used in the size comparison elements. This is the default string\n which is used for the {@link #COMPARISON_FONTS} and the font to be validated. It\n can be overridden for the font to be validated using the {@link #comparisonString}\n property.</p>"
          }
        ]
      },
      "access": "public",
      "location": {
        "start": {
          "line": 98,
          "column": 4,
          "index": 2908
        },
        "end": {
          "line": 98,
          "column": 29,
          "index": 2933
        }
      },
      "appearsIn": []
    },
    "__defaultSizes": {
      "jsdoc": null,
      "access": "private",
      "location": {
        "start": {
          "line": 99,
          "column": 4,
          "index": 2939
        },
        "end": {
          "line": 99,
          "column": 24,
          "index": 2959
        }
      },
      "appearsIn": []
    },
    "__defaultHelpers": {
      "jsdoc": null,
      "access": "private",
      "location": {
        "start": {
          "line": 100,
          "column": 4,
          "index": 2965
        },
        "end": {
          "line": 100,
          "column": 26,
          "index": 2987
        }
      },
      "appearsIn": []
    },
    "removeDefaultHelperElements": {
      "jsdoc": {
        "raw": [
          "*",
          "     * Removes the two common helper elements used for all size comparisons from",
          "     * the DOM",
          "     "
        ],
        "@description": [
          {
            "name": "@description",
            "body": "<p>Removes the two common helper elements used for all size comparisons from\n the DOM</p>"
          }
        ]
      },
      "access": "public",
      "location": {
        "start": {
          "line": 106,
          "column": 4,
          "index": 3106
        },
        "end": {
          "line": 114,
          "column": 5,
          "index": 3419
        }
      },
      "type": "function",
      "params": [],
      "appearsIn": []
    }
  },
  "properties": {
    "fontFamily": {
      "location": {
        "start": {
          "line": 127,
          "column": 4,
          "index": 3700
        },
        "end": {
          "line": 131,
          "column": 5,
          "index": 3791
        }
      },
      "json": {
        "nullable": true,
        "apply": "_applyFontFamily"
      },
      "jsdoc": {
        "raw": [
          "*",
          "     * The font-family this validator should check",
          "     "
        ],
        "@description": [
          {
            "name": "@description",
            "body": "<p>The font-family this validator should check</p>"
          }
        ]
      },
      "appearsIn": []
    },
    "fontWeight": {
      "location": {
        "start": {
          "line": 134,
          "column": 4,
          "index": 3834
        },
        "end": {
          "line": 138,
          "column": 5,
          "index": 3930
        }
      },
      "json": {
        "nullable": true,
        "check": "String",
        "apply": "_applyFontWeight"
      },
      "jsdoc": {
        "raw": [
          "* The font weight to check "
        ],
        "@description": [
          {
            "name": "@description",
            "body": "<p>The font weight to check</p>"
          }
        ]
      },
      "appearsIn": []
    },
    "fontStyle": {
      "location": {
        "start": {
          "line": 141,
          "column": 4,
          "index": 3972
        },
        "end": {
          "line": 145,
          "column": 5,
          "index": 4066
        }
      },
      "json": {
        "nullable": true,
        "check": "String",
        "apply": "_applyFontStyle"
      },
      "jsdoc": {
        "raw": [
          "* The font style to check "
        ],
        "@description": [
          {
            "name": "@description",
            "body": "<p>The font style to check</p>"
          }
        ]
      },
      "appearsIn": []
    },
    "comparisonString": {
      "location": {
        "start": {
          "line": 150,
          "column": 4,
          "index": 4164
        },
        "end": {
          "line": 153,
          "column": 5,
          "index": 4228
        }
      },
      "json": {
        "nullable": true
      },
      "jsdoc": {
        "raw": [
          "*",
          "     * Comparison string used to check whether the font has loaded or not.",
          "     "
        ],
        "@description": [
          {
            "name": "@description",
            "body": "<p>Comparison string used to check whether the font has loaded or not.</p>"
          }
        ]
      },
      "appearsIn": []
    },
    "timeout": {
      "location": {
        "start": {
          "line": 159,
          "column": 4,
          "index": 4367
        },
        "end": {
          "line": 162,
          "column": 5,
          "index": 4424
        }
      },
      "json": {
        "check": "Integer",
        "init": 5000
      },
      "jsdoc": {
        "raw": [
          "*",
          "     * Time in milliseconds from the beginning of the check until it is assumed",
          "     * that a font is not available",
          "     "
        ],
        "@description": [
          {
            "name": "@description",
            "body": "<p>Time in milliseconds from the beginning of the check until it is assumed\n that a font is not available</p>"
          }
        ]
      },
      "appearsIn": []
    }
  },
  "events": {
    "changeStatus": {
      "type": "qx.event.type.Data",
      "jsdoc": {
        "raw": [
          "*",
          "     * Fired when the status of a web font has been determined. The event data",
          "     * is a map with the keys \"family\" (the font-family name) and \"valid\"",
          "     * (Boolean).",
          "     "
        ],
        "@description": [
          {
            "name": "@description",
            "body": "<p>Fired when the status of a web font has been determined. The event data\n is a map with the keys \"family\" (the font-family name) and \"valid\"\n (Boolean).</p>"
          }
        ]
      },
      "location": {
        "start": {
          "line": 177,
          "column": 4,
          "index": 4817
        },
        "end": {
          "line": 177,
          "column": 38,
          "index": 4851
        }
      }
    }
  },
  "members": {
    "__requestedHelpers": {
      "jsdoc": null,
      "access": "private",
      "location": {
        "start": {
          "line": 187,
          "column": 4,
          "index": 5059
        },
        "end": {
          "line": 187,
          "column": 28,
          "index": 5083
        }
      },
      "appearsIn": []
    },
    "__checkTimer": {
      "jsdoc": null,
      "access": "private",
      "location": {
        "start": {
          "line": 188,
          "column": 4,
          "index": 5089
        },
        "end": {
          "line": 188,
          "column": 22,
          "index": 5107
        }
      },
      "appearsIn": []
    },
    "__checkStarted": {
      "jsdoc": null,
      "access": "private",
      "location": {
        "start": {
          "line": 189,
          "column": 4,
          "index": 5113
        },
        "end": {
          "line": 189,
          "column": 24,
          "index": 5133
        }
      },
      "appearsIn": []
    },
    "__promiseValid": {
      "jsdoc": null,
      "access": "private",
      "location": {
        "start": {
          "line": 190,
          "column": 4,
          "index": 5139
        },
        "end": {
          "line": 190,
          "column": 24,
          "index": 5159
        }
      },
      "appearsIn": []
    },
    "validate": {
      "jsdoc": {
        "raw": [
          "*",
          "     * Validates the font",
          "     "
        ],
        "@description": [
          {
            "name": "@description",
            "body": "<p>Validates the font</p>"
          }
        ]
      },
      "access": "public",
      "location": {
        "start": {
          "line": 201,
          "column": 4,
          "index": 5400
        },
        "end": {
          "line": 279,
          "column": 5,
          "index": 7876
        }
      },
      "type": "function",
      "params": [],
      "appearsIn": []
    },
    "isValid": {
      "jsdoc": {
        "raw": [
          "*",
          "     * Waits for the font to become invalid or valid",
          "     *",
          "     * @returns {Boolean} whether valid or not",
          "     "
        ],
        "@description": [
          {
            "name": "@description",
            "body": "<p>Waits for the font to become invalid or valid</p>"
          }
        ],
        "@return": [
          {
            "name": "@return",
            "body": "{Boolean} whether valid or not",
            "type": "boolean",
            "description": "whether valid or not"
          }
        ]
      },
      "access": "public",
      "location": {
        "start": {
          "line": 286,
          "column": 4,
          "index": 8006
        },
        "end": {
          "line": 288,
          "column": 5,
          "index": 8069
        }
      },
      "type": "function",
      "params": [],
      "returnType": {
        "type": "boolean"
      },
      "appearsIn": []
    },
    "_reset": {
      "jsdoc": {
        "raw": [
          "*",
          "     * Removes the helper elements from the DOM",
          "     "
        ],
        "@description": [
          {
            "name": "@description",
            "body": "<p>Removes the helper elements from the DOM</p>"
          }
        ]
      },
      "access": "protected",
      "location": {
        "start": {
          "line": 299,
          "column": 4,
          "index": 8335
        },
        "end": {
          "line": 307,
          "column": 5,
          "index": 8593
        }
      },
      "type": "function",
      "params": [],
      "appearsIn": []
    },
    "_isFontValid": {
      "jsdoc": {
        "raw": [
          "*",
          "     * Checks if the font is available by comparing the widths of the elements",
          "     * using the generic fonts to the widths of the elements using the font to",
          "     * be validated",
          "     *",
          "     * @return {Boolean} Whether or not the font caused the elements to differ",
          "     * in size",
          "     "
        ],
        "@description": [
          {
            "name": "@description",
            "body": "<p>Checks if the font is available by comparing the widths of the elements\n using the generic fonts to the widths of the elements using the font to\n be validated</p>"
          }
        ],
        "@return": [
          {
            "name": "@return",
            "body": "{Boolean} Whether or not the font caused the elements to differ\n in size",
            "type": "boolean",
            "description": "Whether or not the font caused the elements to differ\n in size"
          }
        ]
      },
      "access": "protected",
      "location": {
        "start": {
          "line": 317,
          "column": 4,
          "index": 8895
        },
        "end": {
          "line": 348,
          "column": 5,
          "index": 9849
        }
      },
      "type": "function",
      "params": [],
      "returnType": {
        "type": "boolean"
      },
      "appearsIn": []
    },
    "_getRequestedHelpers": {
      "jsdoc": {
        "raw": [
          "*",
          "     * Creates the two helper elements styled with the font to be checked",
          "     *",
          "     * @return {Map} A map with the keys <pre>sans</pre> and <pre>serif</pre>",
          "     * and the created span elements as values",
          "     "
        ],
        "@description": [
          {
            "name": "@description",
            "body": "<p>Creates the two helper elements styled with the font to be checked</p>"
          }
        ],
        "@return": [
          {
            "name": "@return",
            "body": "{Map} A map with the keys <pre>sans</pre> and <pre>serif</pre>\n and the created span elements as values",
            "type": "Map<any, any>",
            "description": "A map with the keys <pre>sans</pre> and <pre>serif</pre>\n and the created span elements as values"
          }
        ]
      },
      "access": "protected",
      "location": {
        "start": {
          "line": 356,
          "column": 4,
          "index": 10078
        },
        "end": {
          "line": 369,
          "column": 5,
          "index": 10527
        }
      },
      "type": "function",
      "params": [],
      "returnType": {
        "type": "Map<any, any>"
      },
      "appearsIn": []
    },
    "_getHelperElement": {
      "jsdoc": {
        "raw": [
          "*",
          "     * Creates a span element with the comparison text (either {@link #COMPARISON_STRING} or",
          "     * {@link #comparisonString}) and styled with the default CSS ({@link #HELPER_CSS}) plus",
          "     * the given font-family value and appends it to the DOM",
          "     *",
          "     * @param fontFamily {String} font-family string",
          "     * @param comparisonString {String?} String to be used to detect whether a font was loaded or not",
          "     * @return {Element} the created DOM element",
          "     "
        ],
        "@description": [
          {
            "name": "@description",
            "body": "<p>Creates a span element with the comparison text (either {@link #COMPARISON<em>STRING} or\n {@link #comparisonString}) and styled with the default CSS ({@link #HELPER</em>CSS}) plus\n the given font-family value and appends it to the DOM</p>"
          }
        ],
        "@param": [
          {
            "name": "@param",
            "body": "fontFamily {String} font-family string",
            "paramName": "fontFamily",
            "description": " font-family string",
            "type": "string"
          },
          {
            "name": "@param",
            "body": "comparisonString {String?} String to be used to detect whether a font was loaded or not",
            "paramName": "comparisonString",
            "description": " String to be used to detect whether a font was loaded or not",
            "optional": true,
            "type": "String"
          }
        ],
        "@return": [
          {
            "name": "@return",
            "body": "{Element} the created DOM element",
            "type": "Element",
            "description": "the created DOM element"
          }
        ]
      },
      "access": "protected",
      "location": {
        "start": {
          "line": 380,
          "column": 4,
          "index": 11008
        },
        "end": {
          "line": 402,
          "column": 5,
          "index": 11796
        }
      },
      "type": "function",
      "params": [
        {
          "name": "fontFamily",
          "type": "string"
        },
        {
          "name": "comparisonString",
          "type": "String",
          "optional": true
        }
      ],
      "returnType": {
        "type": "Element"
      },
      "appearsIn": []
    },
    "_applyFontFamily": {
      "jsdoc": {
        "raw": [
          " property apply"
        ]
      },
      "access": "protected",
      "location": {
        "start": {
          "line": 405,
          "column": 4,
          "index": 11825
        },
        "end": {
          "line": 409,
          "column": 5,
          "index": 11919
        }
      },
      "type": "function",
      "params": [
        {
          "name": "value"
        },
        {
          "name": "old"
        }
      ],
      "appearsIn": []
    },
    "_applyFontWeight": {
      "jsdoc": {
        "raw": [
          " property apply"
        ]
      },
      "access": "protected",
      "location": {
        "start": {
          "line": 412,
          "column": 4,
          "index": 11948
        },
        "end": {
          "line": 416,
          "column": 5,
          "index": 12042
        }
      },
      "type": "function",
      "params": [
        {
          "name": "value"
        },
        {
          "name": "old"
        }
      ],
      "appearsIn": []
    },
    "_applyFontStyle": {
      "jsdoc": {
        "raw": [
          " property apply"
        ]
      },
      "access": "protected",
      "location": {
        "start": {
          "line": 419,
          "column": 4,
          "index": 12071
        },
        "end": {
          "line": 423,
          "column": 5,
          "index": 12164
        }
      },
      "type": "function",
      "params": [
        {
          "name": "value"
        },
        {
          "name": "old"
        }
      ],
      "appearsIn": []
    },
    "__init": {
      "jsdoc": {
        "raw": [
          "*",
          "     * Creates the default helper elements and gets their widths",
          "     "
        ],
        "@description": [
          {
            "name": "@description",
            "body": "<p>Creates the default helper elements and gets their widths</p>"
          }
        ]
      },
      "access": "private",
      "location": {
        "start": {
          "line": 434,
          "column": 4,
          "index": 12445
        },
        "end": {
          "line": 447,
          "column": 5,
          "index": 12918
        }
      },
      "type": "function",
      "params": [],
      "appearsIn": []
    }
  },
  "destruct": {
    "type": "function",
    "params": [],
    "location": {
      "start": {
        "line": 456,
        "column": 2,
        "index": 13114
      },
      "end": {
        "line": 462,
        "column": 3,
        "index": 13266
      }
    }
  }
}