{
  "version": 3,
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Mixin",
    "define",
    "construct",
    "props",
    "children",
    "model",
    "cv",
    "data",
    "Model",
    "getInstance",
    "Config",
    "lazyLoading",
    "treePath",
    "indexOf",
    "path",
    "forEach",
    "getWidgetData",
    "widget",
    "ui",
    "structure",
    "WidgetFactory",
    "createInstance",
    "$$type",
    "push",
    "setParentWidget",
    "setChildWidgets",
    "properties",
    "check",
    "init",
    "childWidgets",
    "members",
    "getChildrenDomString",
    "noWidgetContainer",
    "container",
    "getChildWidgets",
    "subelement",
    "getDomString",
    "undefined",
    "getRowspanClass",
    "getContainerClass",
    "get$$type",
    "getPath",
    "getChildrenDom",
    "fragment",
    "document",
    "createDocumentFragment",
    "getDom",
    "setAttribute",
    "appendChild",
    "common",
    "HasChildren"
  ],
  "sources": [
    "/home/runner/work/CometVisu/CometVisu/source/class/cv/ui/common/HasChildren.js"
  ],
  "sourcesContent": [
    "/* HasChildren.js\n *\n * copyright (c) 2010-2022, Christian Mayer and the CometVisu contributers.\n *\n * This program is free software; you can redistribute it and/or modify it\n * under the terms of the GNU General Public License as published by the Free\n * Software Foundation; either version 3 of the License, or (at your option)\n * any later version.\n *\n * This program is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for\n * more details.\n *\n * You should have received a copy of the GNU General Public License along\n * with this program; if not, write to the Free Software Foundation, Inc.,\n * 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA\n */\n\n/**\n * Mixin for all widgets that can have other widgets as children, this mixin includes the static parsing part\n * and the methods for the widget instance.\n */\nqx.Mixin.define('cv.ui.common.HasChildren', {\n  /*\n  ******************************************************\n    CONSTRUCTOR\n  ******************************************************\n  */\n  construct(props) {\n    const children = [];\n    // create children\n    const model = cv.data.Model.getInstance();\n    if (cv.Config.lazyLoading === false || cv.Config.treePath.indexOf(props.path) >= 0) {\n      // this.debug(props.$$type+\" INIT [\"+props.path+\"] with \"+props.children.length+\" children\");\n      props.children.forEach(function (path) {\n        const data = model.getWidgetData(path);\n        const widget = cv.ui.structure.WidgetFactory.createInstance(data.$$type, data);\n\n        if (widget) {\n          children.push(widget);\n          widget.setParentWidget(this);\n        }\n      }, this);\n      this.setChildWidgets(children);\n    }\n  },\n\n  /*\n  ******************************************************\n    PROPERTIES\n  ******************************************************\n  */\n  properties: {\n    /**\n     * Array with child paths\n     */\n    children: {\n      check: 'Array',\n      init: []\n    },\n\n    /**\n     * Array with child widget objects\n     */\n    childWidgets: {\n      check: 'Array',\n      init: []\n    }\n  },\n\n  /*\n  ******************************************************\n    MEMBERS\n  ******************************************************\n  */\n  members: {\n    /**\n     * Creates the HTML code for the children if this widget\n     *\n     * @param {boolean=} noWidgetContainer if false: do not surround the childrens with a div-element with class 'widget_container'\n     * @return {string} HTML code\n     */\n    getChildrenDomString(noWidgetContainer = false) {\n      let container = '';\n\n      this.getChildWidgets().forEach(function (widget) {\n        const subelement = widget.getDomString();\n        if (undefined === subelement) {\n          return;\n        }\n        if (noWidgetContainer === true) {\n          container += subelement;\n        } else {\n          container +=\n            '<div class=\"widget_container' +\n            (widget.getRowspanClass ? ' ' + widget.getRowspanClass() : '') +\n            (widget.getContainerClass && widget.getContainerClass() ? ' ' + widget.getContainerClass() : '') +\n            (widget.get$$type() === 'break' ? ' break_container' : '') + // special case for break widget\n            '\" id=\"' +\n            widget.getPath() +\n            '\" data-type=\"' +\n            widget.get$$type() +\n            '\">' +\n            subelement +\n            '</div>';\n        }\n      }, this);\n      return container;\n    },\n\n    /**\n     * Create a collection of html elements of the children\n     * @returns {DocumentFragment}\n     */\n    getChildrenDom() {\n      const fragment = document.createDocumentFragment();\n      this.getChildWidgets().forEach(function (widget) {\n        const subelement = widget.getDom();\n        subelement.setAttribute('id', widget.getPath());\n        subelement.setAttribute('data-type', widget.get$$type());\n        if (subelement) {\n          fragment.appendChild(subelement);\n        }\n      }, this);\n      return fragment;\n    }\n  }\n});\n"
  ],
  "mappings": "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"
}