{
  "version": 3,
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Mixin",
    "define",
    "construct",
    "addListenerOnce",
    "__initListeners",
    "members",
    "__olid",
    "__ilid",
    "__downTarget",
    "actors",
    "__getActors",
    "isBindClickToWidget",
    "getInteractionElement",
    "forEach",
    "actor",
    "event",
    "Registration",
    "addListener",
    "buttonPressed",
    "getActor",
    "getActors",
    "a",
    "indexOf",
    "push",
    "getCurrentTarget",
    "document",
    "buttonReleased",
    "buttons",
    "__updateButtons",
    "pressed",
    "button",
    "classList",
    "add",
    "remove",
    "removeListener",
    "removeListenerById",
    "destruct",
    "cv",
    "ui",
    "common",
    "HasAnimatedButton"
  ],
  "sources": [
    "/home/runner/work/CometVisu/CometVisu/source/class/cv/ui/common/HasAnimatedButton.js"
  ],
  "sourcesContent": [
    "/* HasAnimatedButton.js\n *\n * copyright (c) 2010-2022, Christian Mayer and the CometVisu contributers.\n *\n * This program is free software; you can redistribute it and/or modify it\n * under the terms of the GNU General Public License as published by the Free\n * Software Foundation; either version 3 of the License, or (at your option)\n * any later version.\n *\n * This program is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for\n * more details.\n *\n * You should have received a copy of the GNU General Public License along\n * with this program; if not, write to the Free Software Foundation, Inc.,\n * 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA\n */\n\nqx.Mixin.define('cv.ui.common.HasAnimatedButton', {\n  /*\n   ******************************************************\n   CONSTRUCTOR\n   ******************************************************\n   */\n  construct() {\n    this.addListenerOnce('domReady', this.__initListeners, this);\n  },\n\n  /*\n  ******************************************************\n    MEMBERS\n  ******************************************************\n  */\n  members: {\n    __olid: null,\n    __ilid: null,\n    __downTarget: null,\n\n    __initListeners() {\n      let actors = this.__getActors();\n      if (this.isBindClickToWidget()) {\n        actors = [this.getInteractionElement()];\n      }\n      actors.forEach(function (actor) {\n        qx.event.Registration.addListener(actor, 'pointerdown', this.buttonPressed, this);\n      }, this);\n    },\n\n    __getActors() {\n      const actors = [this.getActor()];\n      if (this.getActors) {\n        this.getActors().forEach(function (a) {\n          if (actors.indexOf(a) === -1) {\n            actors.push(a);\n          }\n        });\n      }\n      return actors;\n    },\n\n    /**\n     * Create an action handling that shows a button press animation.\n     * When the action is not set, it will be searched for - so that widgets\n     * with bind_click_to_widget will also work.\n     *\n     * @param event {Event} pointerdown event\n     */\n    buttonPressed(event) {\n      const actor = event.getCurrentTarget();\n      this.__downTarget = actor;\n      qx.event.Registration.addListener(document, 'pointerup', this.buttonReleased, this);\n\n      const buttons = this.isBindClickToWidget() ? this.__getActors() : [actor];\n      this.__updateButtons(buttons, true);\n      this.__olid = qx.event.Registration.addListener(\n        actor,\n        'pointerout',\n        function () {\n          this.__updateButtons(buttons, false);\n        },\n        this\n      );\n\n      this.__ilid = qx.event.Registration.addListener(\n        actor,\n        'pointerover',\n        function () {\n          this.__updateButtons(buttons, true);\n        },\n        this\n      );\n    },\n\n    __updateButtons(buttons, pressed) {\n      if (pressed) {\n        buttons.forEach(function (button) {\n          if (button) {\n            button.classList.add('switchPressed');\n            button.classList.remove('switchUnpressed');\n          }\n        });\n      } else {\n        buttons.forEach(function (button) {\n          if (button) {\n            button.classList.add('switchUnpressed');\n            button.classList.remove('switchPressed');\n          }\n        });\n      }\n    },\n\n    /**\n     * Create an action handling that shows a button unpress animation.\n     * When the action is not set, it will be searched for - so that widgets\n     * with bind_click_to_widget will also work.\n     *\n     * @param event {Event} pointerup event\n     */\n    buttonReleased(event) {\n      qx.event.Registration.removeListener(document, 'pointerup', this.buttonReleased, this);\n\n      const actor = this.__downTarget;\n      const buttons = this.isBindClickToWidget() ? this.__getActors() : [actor];\n      this.__updateButtons(buttons, false);\n      if (this.__olid) {\n        qx.event.Registration.removeListenerById(actor, this.__olid);\n      }\n      if (this.__ilid) {\n        qx.event.Registration.removeListenerById(actor, this.__ilid);\n      }\n      this.__olid = null;\n      this.__ilid = null;\n      this.__downTarget = null;\n    }\n  },\n\n  /*\n  ******************************************************\n    DESTRUCTOR\n  ******************************************************\n  */\n  destruct() {\n    qx.event.Registration.addListener(document, 'pointerup', this.buttonReleased, this);\n  }\n});\n"
  ],
  "mappings": ";;;;;;;;;;EAAAA,EAAE,CAACC,SAAS,CAACC,oBAAoB,CAACC,aAAa,CAAC;EAAhD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;EAEAH,EAAE,CAACI,KAAK,CAACC,MAAM,CAAC,gCAAgC,EAAE;IAChD;AACF;AACA;AACA;AACA;IACEC,SAAS,WAATA,SAASA,CAAA,EAAG;MACV,IAAI,CAACC,eAAe,CAAC,UAAU,EAAE,IAAI,CAACC,SAAe,EAAE,IAAI,CAAC;IAC9D,CAAC;IAED;AACF;AACA;AACA;AACA;IACEC,OAAO,EAAE;MACPC,SAAM,EAAE,IAAI;MACZC,SAAM,EAAE,IAAI;MACZC,SAAY,EAAE,IAAI;MAElBJ,SAAe,WAAfA,SAAeA,CAAA,EAAG;QAChB,IAAIK,MAAM,GAAG,IAAI,CAACC,SAAW,CAAC,CAAC;QAC/B,IAAI,IAAI,CAACC,mBAAmB,CAAC,CAAC,EAAE;UAC9BF,MAAM,GAAG,CAAC,IAAI,CAACG,qBAAqB,CAAC,CAAC,CAAC;QACzC;QACAH,MAAM,CAACI,OAAO,CAAC,UAAUC,KAAK,EAAE;UAC9BlB,EAAE,CAACmB,KAAK,CAACC,YAAY,CAACC,WAAW,CAACH,KAAK,EAAE,aAAa,EAAE,IAAI,CAACI,aAAa,EAAE,IAAI,CAAC;QACnF,CAAC,EAAE,IAAI,CAAC;MACV,CAAC;MAEDR,SAAW,WAAXA,SAAWA,CAAA,EAAG;QACZ,IAAMD,MAAM,GAAG,CAAC,IAAI,CAACU,QAAQ,CAAC,CAAC,CAAC;QAChC,IAAI,IAAI,CAACC,SAAS,EAAE;UAClB,IAAI,CAACA,SAAS,CAAC,CAAC,CAACP,OAAO,CAAC,UAAUQ,CAAC,EAAE;YACpC,IAAIZ,MAAM,CAACa,OAAO,CAACD,CAAC,CAAC,KAAK,CAAC,CAAC,EAAE;cAC5BZ,MAAM,CAACc,IAAI,CAACF,CAAC,CAAC;YAChB;UACF,CAAC,CAAC;QACJ;QACA,OAAOZ,MAAM;MACf,CAAC;MAED;AACJ;AACA;AACA;AACA;AACA;AACA;MACIS,aAAa,WAAbA,aAAaA,CAACH,KAAK,EAAE;QACnB,IAAMD,KAAK,GAAGC,KAAK,CAACS,gBAAgB,CAAC,CAAC;QACtC,IAAI,CAAChB,SAAY,GAAGM,KAAK;QACzBlB,EAAE,CAACmB,KAAK,CAACC,YAAY,CAACC,WAAW,CAACQ,QAAQ,EAAE,WAAW,EAAE,IAAI,CAACC,cAAc,EAAE,IAAI,CAAC;QAEnF,IAAMC,OAAO,GAAG,IAAI,CAAChB,mBAAmB,CAAC,CAAC,GAAG,IAAI,CAACD,SAAW,CAAC,CAAC,GAAG,CAACI,KAAK,CAAC;QACzE,IAAI,CAACc,SAAe,CAACD,OAAO,EAAE,IAAI,CAAC;QACnC,IAAI,CAACrB,SAAM,GAAGV,EAAE,CAACmB,KAAK,CAACC,YAAY,CAACC,WAAW,CAC7CH,KAAK,EACL,YAAY,EACZ,YAAY;UACV,IAAI,CAACc,SAAe,CAACD,OAAO,EAAE,KAAK,CAAC;QACtC,CAAC,EACD,IACF,CAAC;QAED,IAAI,CAACpB,SAAM,GAAGX,EAAE,CAACmB,KAAK,CAACC,YAAY,CAACC,WAAW,CAC7CH,KAAK,EACL,aAAa,EACb,YAAY;UACV,IAAI,CAACc,SAAe,CAACD,OAAO,EAAE,IAAI,CAAC;QACrC,CAAC,EACD,IACF,CAAC;MACH,CAAC;MAEDC,SAAe,WAAfA,SAAeA,CAACD,OAAO,EAAEE,OAAO,EAAE;QAChC,IAAIA,OAAO,EAAE;UACXF,OAAO,CAACd,OAAO,CAAC,UAAUiB,MAAM,EAAE;YAChC,IAAIA,MAAM,EAAE;cACVA,MAAM,CAACC,SAAS,CAACC,GAAG,CAAC,eAAe,CAAC;cACrCF,MAAM,CAACC,SAAS,CAACE,MAAM,CAAC,iBAAiB,CAAC;YAC5C;UACF,CAAC,CAAC;QACJ,CAAC,MAAM;UACLN,OAAO,CAACd,OAAO,CAAC,UAAUiB,MAAM,EAAE;YAChC,IAAIA,MAAM,EAAE;cACVA,MAAM,CAACC,SAAS,CAACC,GAAG,CAAC,iBAAiB,CAAC;cACvCF,MAAM,CAACC,SAAS,CAACE,MAAM,CAAC,eAAe,CAAC;YAC1C;UACF,CAAC,CAAC;QACJ;MACF,CAAC;MAED;AACJ;AACA;AACA;AACA;AACA;AACA;MACIP,cAAc,WAAdA,cAAcA,CAACX,KAAK,EAAE;QACpBnB,EAAE,CAACmB,KAAK,CAACC,YAAY,CAACkB,cAAc,CAACT,QAAQ,EAAE,WAAW,EAAE,IAAI,CAACC,cAAc,EAAE,IAAI,CAAC;QAEtF,IAAMZ,KAAK,GAAG,IAAI,CAACN,SAAY;QAC/B,IAAMmB,OAAO,GAAG,IAAI,CAAChB,mBAAmB,CAAC,CAAC,GAAG,IAAI,CAACD,SAAW,CAAC,CAAC,GAAG,CAACI,KAAK,CAAC;QACzE,IAAI,CAACc,SAAe,CAACD,OAAO,EAAE,KAAK,CAAC;QACpC,IAAI,IAAI,CAACrB,SAAM,EAAE;UACfV,EAAE,CAACmB,KAAK,CAACC,YAAY,CAACmB,kBAAkB,CAACrB,KAAK,EAAE,IAAI,CAACR,SAAM,CAAC;QAC9D;QACA,IAAI,IAAI,CAACC,SAAM,EAAE;UACfX,EAAE,CAACmB,KAAK,CAACC,YAAY,CAACmB,kBAAkB,CAACrB,KAAK,EAAE,IAAI,CAACP,SAAM,CAAC;QAC9D;QACA,IAAI,CAACD,SAAM,GAAG,IAAI;QAClB,IAAI,CAACC,SAAM,GAAG,IAAI;QAClB,IAAI,CAACC,SAAY,GAAG,IAAI;MAC1B;IACF,CAAC;IAED;AACF;AACA;AACA;AACA;IACE4B,QAAQ,WAARA,QAAQA,CAAA,EAAG;MACTxC,EAAE,CAACmB,KAAK,CAACC,YAAY,CAACC,WAAW,CAACQ,QAAQ,EAAE,WAAW,EAAE,IAAI,CAACC,cAAc,EAAE,IAAI,CAAC;IACrF;EACF,CAAC,CAAC;EAjJFW,EAAE,CAACC,EAAE,CAACC,MAAM,CAACC,iBAAiB,CAACzC,aAAa,GAAGA,aAAa;AAAC",
  "ignoreList": []
}