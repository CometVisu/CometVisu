{
  "version": 3,
  "sources": [
    "/home/runner/work/CometVisu/CometVisu/source/class/cv/ui/structure/pure/AbstractBasicWidget.js"
  ],
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "extend",
    "core",
    "Object",
    "type",
    "construct",
    "props",
    "prop",
    "firstUp",
    "undefined",
    "set",
    "properties",
    "path",
    "check",
    "$$type",
    "pageType",
    "init",
    "members",
    "__parentWidget",
    "_domElement",
    "setDomElement",
    "node",
    "setParentWidget",
    "value",
    "getParentWidget",
    "cv",
    "Config",
    "lazyLoading",
    "getPath",
    "parentData",
    "util",
    "Tree",
    "getParentData",
    "parent",
    "ui",
    "structure",
    "WidgetFactory",
    "createInstance",
    "getDomElement",
    "document",
    "querySelector",
    "getDomString",
    "_getInnerDomString",
    "getParentPage",
    "get$$type",
    "getVisibilityParent",
    "pure",
    "AbstractBasicWidget"
  ],
  "mappings": "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",
  "sourcesContent": [
    "/* AbstractBasicWidget.js \n * \n * copyright (c) 2010-2022, Christian Mayer and the CometVisu contributers.\n * \n * This program is free software; you can redistribute it and/or modify it\n * under the terms of the GNU General Public License as published by the Free\n * Software Foundation; either version 3 of the License, or (at your option)\n * any later version.\n *\n * This program is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for\n * more details.\n *\n * You should have received a copy of the GNU General Public License along\n * with this program; if not, write to the Free Software Foundation, Inc.,\n * 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA\n */\n\n\n/**\n *\n */\nqx.Class.define('cv.ui.structure.pure.AbstractBasicWidget', {\n  extend: qx.core.Object,\n  type: 'abstract',\n\n  /*\n  ******************************************************\n    CONSTRUCTOR\n  ******************************************************\n  */\n  construct: function(props) {\n    for (let prop in props) {\n      if (this['set' + qx.Bootstrap.firstUp(prop)] !== undefined) {\n        this.set(prop, props[prop]);\n      }\n    }\n  },\n\n  /*\n  ******************************************************\n    PROPERTIES\n  ******************************************************\n  */\n  properties: {\n    /**\n     * Internal path to the widget\n     */\n    path : {\n      check: 'String'\n    },\n\n    /**\n     * The widget type\n     */\n    $$type : {\n      check: 'String'\n    },\n\n    /**\n     * The parents page type\n     */\n    pageType  : {\n      check: ['text', '2d', '3d'],\n      init: 'text'\n    }\n  },\n\n  /*\n  ******************************************************\n    MEMBERS\n  ******************************************************\n  */\n  members: {\n    __parentWidget: null,\n    _domElement: null,\n\n    /**\n     * Override DomElement\n     * @param node {Node}\n     */\n    setDomElement: function (node) {\n      this._domElement = node;\n    },\n\n    setParentWidget: function(value) {\n      this.__parentWidget = value;\n    },\n\n    getParentWidget: function() {\n      if (cv.Config.lazyLoading === true && this.__parentWidget === null && this.getPath() !== 'id_') {\n        // creating parent widget on demand\n        const parentData = cv.util.Tree.getParentData(this.getPath());\n        // console.log(parentData.$$type + \" (\" + parentData.path + \") is parent of \" + this.get$$type() + \" (\" + this.getPath() + \")\");\n        const parent = cv.ui.structure.WidgetFactory.createInstance(parentData.$$type, parentData);\n        this.setParentWidget(parent);\n      }\n      return this.__parentWidget;\n    },\n\n    /**\n     * Returns the DOMElement of this widget\n     * @return {Element}\n     */\n    getDomElement: function() {\n      if (!this._domElement) {\n        this._domElement = document.querySelector('#'+this.getPath());\n      }\n      return this._domElement;\n    },\n\n    /**\n     * Generates the DOM string for this widget\n     * @return {String|null}\n     */\n    getDomString : function() {\n      return this._getInnerDomString ? this._getInnerDomString() : undefined;\n    },\n\n    /**\n     * Get the widgets parent page. This might not be the same as the parent widget.\n     * @return {cv.ui.structure.pure.Page|null}\n     */\n    getParentPage: function() {\n      let parent = this.getParentWidget();\n      while (parent) {\n        if (parent.get$$type() === 'page') {\n          return parent;\n        }\n        parent = parent.getParentWidget();\n      }\n      return null;\n    },\n\n    /**\n     * Get the parent element that defines if this widget is visible. Can be either a page or a navbar\n     * @return {cv.ui.structure.pure.Page|cv.ui.structure.pure.NavBar|null}\n     */\n    getVisibilityParent: function () {\n      let parent = this.getParentWidget();\n      while (parent) {\n        if (parent.get$$type() === 'page' || parent.get$$type() === 'navbar') {\n          return parent;\n        }\n        parent = parent.getParentWidget();\n      }\n      return null;\n    }\n  }\n});\n"
  ]
}