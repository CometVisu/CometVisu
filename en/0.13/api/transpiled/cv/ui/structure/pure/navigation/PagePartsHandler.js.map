{
  "version": 3,
  "sources": [
    "/home/runner/work/CometVisu/CometVisu/source/class/cv/ui/structure/pure/navigation/PagePartsHandler.js"
  ],
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "extend",
    "core",
    "Object",
    "construct",
    "navbars",
    "top",
    "dynamic",
    "fadeVisible",
    "left",
    "right",
    "bottom",
    "members",
    "updateTopNavigation",
    "path",
    "split",
    "pop",
    "id",
    "pathNode",
    "document",
    "querySelector",
    "innerHTML",
    "pageTitle",
    "getPageTitle",
    "nav",
    "createElement",
    "setAttribute",
    "appendChild",
    "createTextNode",
    "i",
    "length",
    "pageElem",
    "classList",
    "contains",
    "span",
    "pageId",
    "pageData",
    "cv",
    "data",
    "Model",
    "getInstance",
    "getWidgetData",
    "name",
    "pageHeadline",
    "textContent",
    "navbarSetSize",
    "position",
    "size",
    "cssSize",
    "isFinite",
    "navbar",
    "style",
    "width",
    "getBoundingClientRect",
    "ui",
    "structure",
    "pure",
    "layout",
    "ResizeHandler",
    "invalidateNavbar",
    "getNavbarsVisibility",
    "page",
    "Application",
    "structureController",
    "getCurrentPage",
    "WidgetFactory",
    "getInstanceById",
    "attributes",
    "getAttribute",
    "getShowNavbarTop",
    "getShowNavbarBottom",
    "getShowNavbarLeft",
    "getShowNavbarRight",
    "updatePageParts",
    "speed",
    "showtopnavigation",
    "showfooter",
    "isInitialized",
    "self",
    "addListenerOnce",
    "getShowTopNavigation",
    "getShowFooter",
    "topDisplay",
    "window",
    "getComputedStyle",
    "bottomDisplay",
    "querySelectorAll",
    "forEach",
    "elem",
    "display",
    "removeInactiveNavbars",
    "getPath",
    "fadeNavbar",
    "direction",
    "undefined",
    "main_scroll",
    "getSpeed",
    "initCss",
    "targetCss",
    "key",
    "toLowerCase",
    "onAnimationEnd",
    "height",
    "entries",
    "key_value",
    "spec",
    "duration",
    "timing",
    "getEasing",
    "keep",
    "keyFrames",
    "anim",
    "bom",
    "element",
    "Animation",
    "animate",
    "initializeNavbars",
    "page_id",
    "tree",
    "Array",
    "from",
    "parts",
    "subPath",
    "slice",
    "join",
    "item",
    "push",
    "level",
    "positions",
    "pos",
    "scope",
    "remove",
    "add",
    "navBarPath",
    "expr",
    "RegExp",
    "test",
    "navigation",
    "PagePartsHandler"
  ],
  "mappings": "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",
  "sourcesContent": [
    "/* PagePartsHandler.js \n * \n * copyright (c) 2010-2022, Christian Mayer and the CometVisu contributers.\n * \n * This program is free software; you can redistribute it and/or modify it\n * under the terms of the GNU General Public License as published by the Free\n * Software Foundation; either version 3 of the License, or (at your option)\n * any later version.\n *\n * This program is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for\n * more details.\n *\n * You should have received a copy of the GNU General Public License along\n * with this program; if not, write to the Free Software Foundation, Inc.,\n * 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA\n */\n\n\n/**\n * @author Christian Mayer\n * @since 2010\n */\nqx.Class.define('cv.ui.structure.pure.navigation.PagePartsHandler', {\n  extend: qx.core.Object,\n\n  /*\n   ******************************************************\n   CONSTRUCTOR\n   ******************************************************\n   */\n  construct: function () {\n    this.navbars = {\n      top: {\n        dynamic: null,\n        fadeVisible: true\n      },\n      left: {\n        dynamic: null,\n        fadeVisible: true\n      },\n      right: {\n        dynamic: null,\n        fadeVisible: true\n      },\n      bottom: {\n        dynamic: null,\n        fadeVisible: true\n      }\n    };\n  },\n\n  /*\n   ******************************************************\n   MEMBERS\n   ******************************************************\n   */\n  members: {\n    navbars: null,\n\n    updateTopNavigation: function (path) {\n      path = path.split('_');\n      path.pop();\n      let id = 'id_'; //path[0];\n      const pathNode = document.querySelector('.nav_path');\n      pathNode.innerHTML = '';\n      let pageTitle = this.getPageTitle(id);\n      let nav = document.createElement('a');\n      // eslint-disable-next-line no-script-url\n      nav.setAttribute('href', 'javascript:cv.Application.structureController.scrollToPage(\\'' + id + '\\')');\n      nav.setAttribute('id', 'breadcrump_pagejump_' + id);\n      nav.appendChild(document.createTextNode(pageTitle));\n      pathNode.appendChild(nav);\n      for (let i = 1; i < path.length; i++) { // element 0 is id_ (JNK)\n        id += path[i] + '_';\n        let pageElem = document.querySelector('#'+id);\n        if (pageElem && pageElem.classList.contains('page')) { // FIXME is this still needed?!?\n          pageTitle = this.getPageTitle(id);\n          let span = document.createElement('span');\n          span.innerHTML = ' &#x25ba; ';\n          pathNode.appendChild(span);\n          nav = document.createElement('a');\n          // eslint-disable-next-line no-script-url\n          nav.setAttribute('href', 'javascript:cv.Application.structureController.scrollToPage(\\'' + id + '\\')');\n          nav.setAttribute('id', 'breadcrump_pagejump_' + id);\n          nav.appendChild(document.createTextNode(pageTitle));\n          pathNode.appendChild(nav);\n        }\n      }\n      // cv.TemplateEngine.getInstance().handleResize(); - TODO CM160528: why? This shouldn't have\n      //                             any effect on the page size => commented out\n    },\n\n    getPageTitle: function (pageId) {\n      let pageTitle = '';\n      const pageData = cv.data.Model.getInstance().getWidgetData(pageId);\n      if (pageData) {\n        pageTitle = pageData.name;\n      } else {\n        const pageHeadline = document.querySelector('#' + pageId + ' h1');\n        if (pageHeadline) {\n          pageTitle = pageHeadline.textContent;\n        }\n      }\n      return pageTitle;\n    },\n\n    /**\n     * Change the size of the selected navbar\n     *\n     * currently only \"left\" and \"right\" are implemented\n     * @param position\n     * @param size\n     */\n    navbarSetSize: function (position, size) {\n      const cssSize = size + (isFinite(size) ? 'px' : '');\n      let navbar;\n      switch (position) {\n        case 'left':\n          navbar = document.querySelector('#navbarLeft');\n          navbar.style.width = cssSize;\n          if (!this.navbars.left.fadeVisible) {\n            navbar.style.left = -navbar.getBoundingClientRect().width + 'px';\n          }\n          cv.ui.structure.pure.layout.ResizeHandler.invalidateNavbar();\n          break;\n\n        case 'right':\n          document.querySelector('#centerContainer').style['padding-right'] = cssSize;\n          navbar = document.querySelector('#navbarRight');\n          navbar.style.width = cssSize;\n          navbar.style['margin-right'] = '-' + cssSize;\n          if (!this.navbars.right.fadeVisible) {\n            navbar.style.right = -navbar.getBoundingClientRect().width + 'px';\n          }\n          cv.ui.structure.pure.layout.ResizeHandler.invalidateNavbar();\n          break;\n      }\n    },\n\n    getNavbarsVisibility: function (page) {\n      if (!page) {\n        page = cv.Application.structureController.getCurrentPage();\n      }\n      if (!page) {\n        return {top: true, bottom: true, left: true, right: true};\n      }\n      if (typeof page === 'string') {\n        page = cv.ui.structure.WidgetFactory.getInstanceById(page);\n      } else if (page.attributes) {\n        page = cv.ui.structure.WidgetFactory.getInstanceById(page.getAttribute('id'));\n      }\n\n      if (!page) {\n        return {top: true, bottom: true, left: true, right: true};\n      }\n\n      return {\n        top: page.getShowNavbarTop(),\n        bottom: page.getShowNavbarBottom(),\n        left: page.getShowNavbarLeft(),\n        right: page.getShowNavbarRight()\n      };\n    },\n\n    /**\n     * update the visibility of top-navigation, footer and navbar for this page\n     *\n     * @param page {cv.ui.structure.pure.Page} page to update the parts for\n     * @param speed {Number} animation duration for changes\n     */\n    updatePageParts: function (page, speed) {\n      // default values\n      let showtopnavigation = true;\n      let showfooter = true;\n\n      if (page) {\n        if (!page.isInitialized()) {\n          // page is not ready, defer this update\n          const self = this;\n          page.addListenerOnce('changeInitialized', function () {\n            self.updatePageParts(page, speed);\n          }, this);\n          return;\n        }\n        showtopnavigation = page.getShowTopNavigation();\n        showfooter = page.getShowFooter();\n      }\n      const topDisplay = window.getComputedStyle(document.querySelector('#top'))['display'];\n      const bottomDisplay = window.getComputedStyle(document.querySelector('#bottom'))['display'];\n      if (showtopnavigation) {\n        if (topDisplay === 'none') {\n          document.querySelectorAll('#top, #top > *').forEach(function(elem) {\n            elem.style.display = 'block';\n          }, this);\n          this.removeInactiveNavbars(page.getPath());\n        }\n      } else if (topDisplay !== 'none') {\n        document.querySelector('#top').style.display = 'none';\n        this.removeInactiveNavbars(page.getPath());\n      }\n      if (showfooter) {\n        if (bottomDisplay === 'none') {\n          document.querySelector('#bottom').style.display = 'block';\n          this.removeInactiveNavbars(page.getPath());\n        }\n      } else if (bottomDisplay !== 'none') {\n        document.querySelector('#bottom').style.display = 'none';\n        this.removeInactiveNavbars(page.getPath());\n      }\n      cv.ui.structure.pure.layout.ResizeHandler.invalidateNavbar();\n    },\n\n    /**\n     * fades in/out a navbar\n     *\n     * @param position {String}  [Top|Left|Right|Bottom]\n     * @param direction {String} [in|out]\n     * @param speed {Number} time in milliseconds\n     */\n    fadeNavbar: function (position, direction, speed) {\n      speed = (speed !== undefined) ? speed : cv.Application.structureController.main_scroll.getSpeed();\n      const initCss = {};\n      const targetCss = {};\n      const navbar = document.querySelector('#navbar' + position);\n      if (navbar) {\n        const key = position.toLowerCase();\n        const self = this;\n        const onAnimationEnd = function () {\n          self.navbars[key].fadeVisible = direction === 'in';\n          cv.ui.structure.pure.layout.ResizeHandler.invalidateNavbar();\n        };\n        switch (direction) {\n          case 'in':\n            if (window.getComputedStyle(navbar).display === 'none') {\n              initCss.display = 'block';\n            }\n            targetCss[key] = 0;\n            switch (position) {\n              case 'Top':\n              case 'Bottom':\n                initCss[key] = -navbar.getBoundingClientRect().height + 'px';\n                break;\n              case 'Left':\n              case 'Right':\n                initCss[key] = -navbar.getBoundingClientRect().width + 'px';\n                break;\n            }\n            break;\n          case 'out':\n            initCss[key] = 0;\n            switch (position) {\n              case 'Top':\n              case 'Bottom':\n                targetCss[key] = -navbar.getBoundingClientRect().height + 'px';\n                break;\n              case 'Left':\n              case 'Right':\n                targetCss[key] = -navbar.getBoundingClientRect().width + 'px';\n                break;\n            }\n            break;\n        }\n        Object.entries(initCss).forEach(function (key_value) {\n          navbar.style[key_value[0]] = key_value[1];\n        });\n        if (speed === 0) {\n          Object.entries(targetCss).forEach(function (key_value) {\n            navbar.style[key_value[0]] = key_value[1];\n          });\n          onAnimationEnd();\n        } else {\n          const spec = {\n            duration: speed,\n            timing:  cv.Application.structureController.main_scroll.getEasing(),\n            keep: 100,\n            keyFrames: {\n              0: initCss,\n              100: targetCss\n            }\n          };\n          const anim = qx.bom.element.Animation.animate(navbar, spec);\n          anim.addListenerOnce('end', onAnimationEnd, this);\n        }\n      }\n    },\n\n    /**\n     * traverse down the page tree from root page id_ -> .. -> page_id activate\n     * all navbars in that path deactivate all others\n     *\n     * @param page_id {String}\n     */\n    initializeNavbars: function (page_id) {\n      const self = this;\n      this.removeInactiveNavbars(page_id);\n      const tree = Array.from(document.querySelectorAll('#id_'));\n      if (page_id !== 'id_') {\n        const parts = page_id.split('_');\n        parts.pop();\n        parts[0] = '';\n        for (let i = 0; i < parts.length; i++) {\n          const subPath = parts.slice(0, i + 1).join('_');\n          if (subPath) {\n            const item = document.querySelectorAll('#id' + subPath + '_.page');\n            if (item.length === 1) {\n              tree.push(item[0]);\n            }\n          }\n        }\n      }\n      let level = 1;\n      const size = {top: 0, right: 0, bottom: 0, left: 0};\n      const dynamic = {top: null, right: null, bottom: null, left: null};\n      const positions = ['top', 'right', 'bottom', 'left'];\n      tree.forEach(function (elem) {\n        const id = elem.getAttribute('id');\n        positions.forEach(function (pos) {\n          const nav = document.querySelector('#' + id + pos + '_navbar');\n          if (nav) {\n            const data = cv.data.Model.getInstance().getWidgetData(id + pos + '_navbar');\n            if (data.scope >= 0 && tree.length-level > data.scope) {\n              // navbar that is not visible at the moment -> ignore it\n              nav.classList.remove('navbarActive');\n              return;\n            }\n            if (data.dynamic !== null) {\n              dynamic[pos] = data.dynamic;\n            }\n            self.navbars[pos].dynamic = dynamic[pos];\n            if (data.scope === undefined || data.scope < 0 || tree.length - level <= data.scope) {\n              nav.classList.add('navbarActive');\n            } else {\n              nav.classList.remove('navbarActive');\n            }\n            if (data.width !== null) {\n              size[pos] = data.width;\n            } else if (size[pos] === 0) {\n              // navbar with content but no size given so far => use default\n              size[pos] = 300;\n            }\n          }\n        });\n        level++;\n      });\n      positions.forEach(function (pos) {\n        self.navbarSetSize(pos, size[pos]);\n      });\n      cv.ui.structure.pure.layout.ResizeHandler.invalidateNavbar();\n    },\n\n    removeInactiveNavbars: function (page_id) {\n      // remove all navbars that do not belong to this page\n      document.querySelectorAll('.navbar.navbarActive').forEach(function (elem) {\n        let navBarPath = elem.getAttribute('id').split('_');\n        // skip last 2 elements e.g. '_top_navbar'\n        navBarPath = navBarPath.slice(0, navBarPath.length - 2).join('_');\n        const expr = new RegExp('^' + navBarPath + '.*', 'i');\n        if (navBarPath !== page_id && !expr.test(page_id)) {\n          elem.classList.remove('navbarActive');\n        }\n      });\n    }\n  }\n});\n"
  ]
}