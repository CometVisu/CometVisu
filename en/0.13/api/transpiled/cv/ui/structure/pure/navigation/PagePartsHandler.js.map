{
  "version": 3,
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "extend",
    "core",
    "Object",
    "construct",
    "navbars",
    "top",
    "dynamic",
    "fadeVisible",
    "left",
    "right",
    "bottom",
    "members",
    "updateTopNavigation",
    "path",
    "split",
    "pop",
    "id",
    "pathNode",
    "document",
    "querySelector",
    "innerHTML",
    "pageTitle",
    "getPageTitle",
    "nav",
    "createElement",
    "setAttribute",
    "appendChild",
    "createTextNode",
    "i",
    "length",
    "pageElem",
    "classList",
    "contains",
    "span",
    "pageId",
    "pageData",
    "cv",
    "data",
    "Model",
    "getInstance",
    "getWidgetData",
    "name",
    "pageHeadline",
    "textContent",
    "navbarSetSize",
    "position",
    "size",
    "cssSize",
    "isFinite",
    "navbar",
    "style",
    "width",
    "getBoundingClientRect",
    "ui",
    "structure",
    "pure",
    "layout",
    "ResizeHandler",
    "invalidateNavbar",
    "getNavbarsVisibility",
    "page",
    "Application",
    "structureController",
    "getCurrentPage",
    "WidgetFactory",
    "getInstanceById",
    "attributes",
    "getAttribute",
    "getShowNavbarTop",
    "getShowNavbarBottom",
    "getShowNavbarLeft",
    "getShowNavbarRight",
    "updatePageParts",
    "speed",
    "showtopnavigation",
    "showfooter",
    "isInitialized",
    "self",
    "addListenerOnce",
    "getShowTopNavigation",
    "getShowFooter",
    "topDisplay",
    "window",
    "getComputedStyle",
    "bottomDisplay",
    "querySelectorAll",
    "forEach",
    "elem",
    "display",
    "removeInactiveNavbars",
    "getPath",
    "fadeNavbar",
    "direction",
    "undefined",
    "main_scroll",
    "getSpeed",
    "initCss",
    "targetCss",
    "key",
    "toLowerCase",
    "onAnimationEnd",
    "height",
    "entries",
    "key_value",
    "spec",
    "duration",
    "timing",
    "getEasing",
    "keep",
    "keyFrames",
    "anim",
    "bom",
    "element",
    "Animation",
    "animate",
    "initializeNavbars",
    "page_id",
    "tree",
    "Array",
    "from",
    "parts",
    "subPath",
    "slice",
    "join",
    "item",
    "push",
    "level",
    "positions",
    "pos",
    "scope",
    "remove",
    "add",
    "navBarPath",
    "expr",
    "RegExp",
    "test",
    "navigation",
    "PagePartsHandler"
  ],
  "sources": [
    "/home/runner/work/CometVisu/CometVisu/source/class/cv/ui/structure/pure/navigation/PagePartsHandler.js"
  ],
  "sourcesContent": [
    "/* PagePartsHandler.js\n *\n * copyright (c) 2010-2022, Christian Mayer and the CometVisu contributers.\n *\n * This program is free software; you can redistribute it and/or modify it\n * under the terms of the GNU General Public License as published by the Free\n * Software Foundation; either version 3 of the License, or (at your option)\n * any later version.\n *\n * This program is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for\n * more details.\n *\n * You should have received a copy of the GNU General Public License along\n * with this program; if not, write to the Free Software Foundation, Inc.,\n * 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA\n */\n\n/**\n * @author Christian Mayer\n * @since 2010\n */\nqx.Class.define('cv.ui.structure.pure.navigation.PagePartsHandler', {\n  extend: qx.core.Object,\n\n  /*\n   ******************************************************\n   CONSTRUCTOR\n   ******************************************************\n   */\n  construct() {\n    this.navbars = {\n      top: {\n        dynamic: null,\n        fadeVisible: true\n      },\n\n      left: {\n        dynamic: null,\n        fadeVisible: true\n      },\n\n      right: {\n        dynamic: null,\n        fadeVisible: true\n      },\n\n      bottom: {\n        dynamic: null,\n        fadeVisible: true\n      }\n    };\n  },\n\n  /*\n   ******************************************************\n   MEMBERS\n   ******************************************************\n   */\n  members: {\n    navbars: null,\n\n    updateTopNavigation(path) {\n      path = path.split('_');\n      path.pop();\n      let id = 'id_'; //path[0];\n      const pathNode = document.querySelector('.nav_path');\n      pathNode.innerHTML = '';\n      let pageTitle = this.getPageTitle(id);\n      let nav = document.createElement('a');\n      // eslint-disable-next-line no-script-url\n      nav.setAttribute('href', 'javascript:cv.Application.structureController.scrollToPage(\\'' + id + '\\')');\n\n      nav.setAttribute('id', 'breadcrump_pagejump_' + id);\n      nav.appendChild(document.createTextNode(pageTitle));\n      pathNode.appendChild(nav);\n      for (let i = 1; i < path.length; i++) {\n        // element 0 is id_ (JNK)\n        id += path[i] + '_';\n        let pageElem = document.querySelector('#' + id);\n        if (pageElem && pageElem.classList.contains('page')) {\n          // FIXME is this still needed?!?\n          pageTitle = this.getPageTitle(id);\n          let span = document.createElement('span');\n          span.innerHTML = ' &#x25ba; ';\n          pathNode.appendChild(span);\n          nav = document.createElement('a');\n          // eslint-disable-next-line no-script-url\n          nav.setAttribute('href', 'javascript:cv.Application.structureController.scrollToPage(\\'' + id + '\\')');\n\n          nav.setAttribute('id', 'breadcrump_pagejump_' + id);\n          nav.appendChild(document.createTextNode(pageTitle));\n          pathNode.appendChild(nav);\n        }\n      }\n      // cv.TemplateEngine.getInstance().handleResize(); - TODO CM160528: why? This shouldn't have\n      //                             any effect on the page size => commented out\n    },\n\n    getPageTitle(pageId) {\n      let pageTitle = '';\n      const pageData = cv.data.Model.getInstance().getWidgetData(pageId);\n      if (pageData) {\n        pageTitle = pageData.name;\n      } else {\n        const pageHeadline = document.querySelector('#' + pageId + ' h1');\n        if (pageHeadline) {\n          pageTitle = pageHeadline.textContent;\n        }\n      }\n      return pageTitle;\n    },\n\n    /**\n     * Change the size of the selected navbar\n     *\n     * currently only \"left\" and \"right\" are implemented\n     * @param position\n     * @param size\n     */\n    navbarSetSize(position, size) {\n      const cssSize = size + (isFinite(size) ? 'px' : '');\n      let navbar;\n      switch (position) {\n        case 'left':\n          navbar = document.querySelector('#navbarLeft');\n          navbar.style.width = cssSize;\n          if (!this.navbars.left.fadeVisible) {\n            navbar.style.left = -navbar.getBoundingClientRect().width + 'px';\n          }\n          cv.ui.structure.pure.layout.ResizeHandler.invalidateNavbar();\n          break;\n\n        case 'right':\n          document.querySelector('#centerContainer').style['padding-right'] = cssSize;\n          navbar = document.querySelector('#navbarRight');\n          navbar.style.width = cssSize;\n          navbar.style['margin-right'] = '-' + cssSize;\n          if (!this.navbars.right.fadeVisible) {\n            navbar.style.right = -navbar.getBoundingClientRect().width + 'px';\n          }\n          cv.ui.structure.pure.layout.ResizeHandler.invalidateNavbar();\n          break;\n      }\n    },\n\n    getNavbarsVisibility(page) {\n      if (!page) {\n        page = cv.Application.structureController.getCurrentPage();\n      }\n      if (!page) {\n        return { top: true, bottom: true, left: true, right: true };\n      }\n      if (typeof page === 'string') {\n        page = cv.ui.structure.WidgetFactory.getInstanceById(page);\n      } else if (page.attributes) {\n        page = cv.ui.structure.WidgetFactory.getInstanceById(page.getAttribute('id'));\n      }\n\n      if (!page) {\n        return { top: true, bottom: true, left: true, right: true };\n      }\n\n      return {\n        top: page.getShowNavbarTop(),\n        bottom: page.getShowNavbarBottom(),\n        left: page.getShowNavbarLeft(),\n        right: page.getShowNavbarRight()\n      };\n    },\n\n    /**\n     * update the visibility of top-navigation, footer and navbar for this page\n     *\n     * @param page {cv.ui.structure.pure.Page} page to update the parts for\n     * @param speed {Number} animation duration for changes\n     */\n    updatePageParts(page, speed) {\n      // default values\n      let showtopnavigation = true;\n      let showfooter = true;\n\n      if (page) {\n        if (!page.isInitialized()) {\n          // page is not ready, defer this update\n          const self = this;\n          page.addListenerOnce('changeInitialized', () => {\n            self.updatePageParts(page, speed);\n          });\n          return;\n        }\n        showtopnavigation = page.getShowTopNavigation();\n        showfooter = page.getShowFooter();\n      }\n      const topDisplay = window.getComputedStyle(document.querySelector('#top'))['display'];\n      const bottomDisplay = window.getComputedStyle(document.querySelector('#bottom'))['display'];\n      if (showtopnavigation) {\n        if (topDisplay === 'none') {\n          document.querySelectorAll('#top, #top > *').forEach(function (elem) {\n            elem.style.display = 'block';\n          }, this);\n          this.removeInactiveNavbars(page.getPath());\n        }\n      } else if (topDisplay !== 'none') {\n        document.querySelector('#top').style.display = 'none';\n        this.removeInactiveNavbars(page.getPath());\n      }\n      if (showfooter) {\n        if (bottomDisplay === 'none') {\n          document.querySelector('#bottom').style.display = 'block';\n          this.removeInactiveNavbars(page.getPath());\n        }\n      } else if (bottomDisplay !== 'none') {\n        document.querySelector('#bottom').style.display = 'none';\n        this.removeInactiveNavbars(page.getPath());\n      }\n      cv.ui.structure.pure.layout.ResizeHandler.invalidateNavbar();\n    },\n\n    /**\n     * fades in/out a navbar\n     *\n     * @param position {String}  [Top|Left|Right|Bottom]\n     * @param direction {String} [in|out]\n     * @param speed {Number} time in milliseconds\n     */\n    fadeNavbar(position, direction, speed) {\n      speed = speed !== undefined ? speed : cv.Application.structureController.main_scroll.getSpeed();\n      const initCss = {};\n      const targetCss = {};\n      const navbar = document.querySelector('#navbar' + position);\n      if (navbar) {\n        const key = position.toLowerCase();\n        const self = this;\n        const onAnimationEnd = function () {\n          self.navbars[key].fadeVisible = direction === 'in';\n          cv.ui.structure.pure.layout.ResizeHandler.invalidateNavbar();\n        };\n        switch (direction) {\n          case 'in':\n            if (window.getComputedStyle(navbar).display === 'none') {\n              initCss.display = 'block';\n            }\n            targetCss[key] = 0;\n            switch (position) {\n              case 'Top':\n              case 'Bottom':\n                initCss[key] = -navbar.getBoundingClientRect().height + 'px';\n                break;\n              case 'Left':\n              case 'Right':\n                initCss[key] = -navbar.getBoundingClientRect().width + 'px';\n                break;\n            }\n\n            break;\n          case 'out':\n            initCss[key] = 0;\n            switch (position) {\n              case 'Top':\n              case 'Bottom':\n                targetCss[key] = -navbar.getBoundingClientRect().height + 'px';\n                break;\n              case 'Left':\n              case 'Right':\n                targetCss[key] = -navbar.getBoundingClientRect().width + 'px';\n                break;\n            }\n\n            break;\n        }\n\n        Object.entries(initCss).forEach(function (key_value) {\n          navbar.style[key_value[0]] = key_value[1];\n        });\n        if (speed === 0) {\n          Object.entries(targetCss).forEach(function (key_value) {\n            navbar.style[key_value[0]] = key_value[1];\n          });\n          onAnimationEnd();\n        } else {\n          const spec = {\n            duration: speed,\n            timing: cv.Application.structureController.main_scroll.getEasing(),\n            keep: 100,\n            keyFrames: {\n              0: initCss,\n              100: targetCss\n            }\n          };\n\n          const anim = qx.bom.element.Animation.animate(navbar, spec);\n          anim.addListenerOnce('end', onAnimationEnd, this);\n        }\n      }\n    },\n\n    /**\n     * traverse down the page tree from root page id_ -> .. -> page_id activate\n     * all navbars in that path deactivate all others\n     *\n     * @param page_id {String}\n     */\n    initializeNavbars(page_id) {\n      const self = this;\n      this.removeInactiveNavbars(page_id);\n      const tree = Array.from(document.querySelectorAll('#id_'));\n      if (page_id !== 'id_') {\n        const parts = page_id.split('_');\n        parts.pop();\n        parts[0] = '';\n        for (let i = 0; i < parts.length; i++) {\n          const subPath = parts.slice(0, i + 1).join('_');\n          if (subPath) {\n            const item = document.querySelectorAll('#id' + subPath + '_.page');\n            if (item.length === 1) {\n              tree.push(item[0]);\n            }\n          }\n        }\n      }\n      let level = 1;\n      const size = { top: 0, right: 0, bottom: 0, left: 0 };\n      const dynamic = { top: null, right: null, bottom: null, left: null };\n      const positions = ['top', 'right', 'bottom', 'left'];\n      tree.forEach(function (elem) {\n        const id = elem.getAttribute('id');\n        positions.forEach(function (pos) {\n          const nav = document.querySelector('#' + id + pos + '_navbar');\n          if (nav) {\n            const data = cv.data.Model.getInstance().getWidgetData(id + pos + '_navbar');\n\n            if (data.scope >= 0 && tree.length - level > data.scope) {\n              // navbar that is not visible at the moment -> ignore it\n              nav.classList.remove('navbarActive');\n              return;\n            }\n            if (data.dynamic !== null) {\n              dynamic[pos] = data.dynamic;\n            }\n            self.navbars[pos].dynamic = dynamic[pos];\n            if (data.scope === undefined || data.scope < 0 || tree.length - level <= data.scope) {\n              nav.classList.add('navbarActive');\n            } else {\n              nav.classList.remove('navbarActive');\n            }\n            if (data.width !== null) {\n              size[pos] = data.width;\n            } else if (size[pos] === 0) {\n              // navbar with content but no size given so far => use default\n              size[pos] = 300;\n            }\n          }\n        });\n        level++;\n      });\n      positions.forEach(function (pos) {\n        self.navbarSetSize(pos, size[pos]);\n      });\n      cv.ui.structure.pure.layout.ResizeHandler.invalidateNavbar();\n    },\n\n    removeInactiveNavbars(page_id) {\n      // remove all navbars that do not belong to this page\n      document.querySelectorAll('.navbar.navbarActive').forEach(function (elem) {\n        let navBarPath = elem.getAttribute('id').split('_');\n        // skip last 2 elements e.g. '_top_navbar'\n        navBarPath = navBarPath.slice(0, navBarPath.length - 2).join('_');\n        const expr = new RegExp('^' + navBarPath + '.*', 'i');\n        if (navBarPath !== page_id && !expr.test(page_id)) {\n          elem.classList.remove('navbarActive');\n        }\n      });\n    }\n  }\n});\n"
  ],
  "mappings": "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"
}