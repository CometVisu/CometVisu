{
  "version": 3,
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "extend",
    "cv",
    "ui",
    "structure",
    "pure",
    "AbstractWidget",
    "include",
    "common",
    "HasChildren",
    "Update",
    "construct",
    "props",
    "_this",
    "__waitForProperties",
    "constructor",
    "call",
    "addListener",
    "_onChangeVisible",
    "__inhibitGA4Startup",
    "setTimeout",
    "util",
    "DeferredCall",
    "parentPage",
    "getParentPage",
    "debug",
    "getPath",
    "forEach",
    "tuple",
    "property",
    "defaultValue",
    "charAt",
    "toUpperCase",
    "slice",
    "bind",
    "setInitialized",
    "schedule",
    "getAddress",
    "_initOnCreate",
    "statics",
    "allPages",
    "createFinal",
    "target",
    "Application",
    "structureController",
    "getRenderTarget",
    "document",
    "querySelector",
    "innerHTML",
    "event",
    "message",
    "Bus",
    "unsubscribe",
    "properties",
    "initialized",
    "check",
    "init",
    "anonymous",
    "refine",
    "name",
    "nullable",
    "showTopNavigation",
    "showFooter",
    "showNavbarTop",
    "apply",
    "showNavbarBottom",
    "showNavbarLeft",
    "showNavbarRight",
    "backdropAlign",
    "backdropType",
    "linkVisible",
    "size",
    "backdrop",
    "members",
    "__colspanClass",
    "__normalizedDomId",
    "_applyNavbarVisibility",
    "value",
    "old",
    "i_name",
    "indexOf",
    "splice",
    "length",
    "ev",
    "getData",
    "layout",
    "Manager",
    "COLSPAN_CLASS",
    "applyColumnWidths",
    "getBackdrop",
    "ResizeHandler",
    "invalidateBackdrop",
    "getDomString",
    "pageType",
    "getPageType",
    "subpageClass",
    "getFlavour",
    "subpage",
    "container",
    "getName",
    "getSize",
    "getBackdropAlign",
    "getBackdropType",
    "ResourceManager",
    "getInstance",
    "toUri",
    "getChildrenDomString",
    "Page",
    "undefined",
    "_update",
    "address",
    "data",
    "_this$getAddress$addr",
    "_this$getAddress$addr2",
    "clearTimeout",
    "applyTransform",
    "filters",
    "clients",
    "filterMatch",
    "parseInt",
    "Config",
    "clientID",
    "_iterator",
    "_createForOfIteratorHelper",
    "split",
    "_step",
    "s",
    "n",
    "done",
    "filter",
    "_filter$match",
    "match",
    "_filter$match2",
    "_slicedToArray",
    "id",
    "triggerValue",
    "at",
    "substring",
    "concat",
    "err",
    "e",
    "f",
    "scrollToPage",
    "sendToBackend",
    "list",
    "Object",
    "prototype",
    "hasOwnProperty",
    "Model",
    "isWriteAddress",
    "io",
    "BackendConnections",
    "getClient",
    "backendType",
    "write",
    "Transform",
    "encode",
    "defer",
    "subscribe"
  ],
  "sources": [
    "/home/runner/work/CometVisu/CometVisu/source/class/cv/ui/structure/pure/Page.js"
  ],
  "sourcesContent": [
    "/* Page.js\n *\n * copyright (c) 2010-2022, Christian Mayer and the CometVisu contributers.\n *\n * This program is free software; you can redistribute it and/or modify it\n * under the terms of the GNU General Public License as published by the Free\n * Software Foundation; either version 3 of the License, or (at your option)\n * any later version.\n *\n * This program is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for\n * more details.\n *\n * You should have received a copy of the GNU General Public License along\n * with this program; if not, write to the Free Software Foundation, Inc.,\n * 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA\n */\n\n/**\n * Creates a new sub page and adds a corresponding link to the current page.\n *\n * @author Christian Mayer\n * @since 2012\n */\nqx.Class.define('cv.ui.structure.pure.Page', {\n  extend: cv.ui.structure.pure.AbstractWidget,\n\n  include: [cv.ui.common.HasChildren, cv.ui.common.Update],\n\n  /*\n  ******************************************************\n    CONSTRUCTOR\n  ******************************************************\n  */\n  construct(props) {\n    this.__waitForProperties = ['showNavbarTop', 'showNavbarBottom', 'showNavbarLeft', 'showNavbarRight'];\n\n    super(props);\n\n    this.addListener('changeVisible', this._onChangeVisible, this);\n\n    // prevent listening to the first message to the GA in the first second\n    // as it might be of the trigger type and still be in the knxd cache\n    this.__inhibitGA4Startup = setTimeout(() => {\n      this.__inhibitGA4Startup = null;\n    }, 1000);\n\n    // break out of the constructor\n    new qx.util.DeferredCall(function () {\n      const parentPage = this.getParentPage();\n      if (!parentPage) {\n        this.__waitForProperties = [];\n      } else {\n        this.debug('binding navbar visibility from ' + parentPage.getPath() + ' to ' + this.getPath());\n      }\n      [\n        ['showTopNavigation', true],\n        ['showFooter', true],\n        ['showNavbarTop', false],\n        ['showNavbarBottom', false],\n        ['showNavbarLeft', false],\n        ['showNavbarRight', false]\n      ].forEach(function (tuple) {\n        const property = tuple[0];\n        const defaultValue = tuple[1];\n        if (this['get' + property.charAt(0).toUpperCase() + property.slice(1)]() === null) {\n          // inherit from parent\n          if (parentPage) {\n            parentPage.bind(property, this, property);\n          } else {\n            // we have not parent page, because we are the root page, use the default value\n            this['set' + property.charAt(0).toUpperCase() + property.slice(1)](defaultValue);\n          }\n        }\n        if (!parentPage) {\n          this.setInitialized(true);\n        }\n      }, this);\n    }, this).schedule();\n\n    if (this.getAddress()) {\n      this._initOnCreate = true;\n    }\n  },\n\n  /*\n  ******************************************************\n    STATICS\n  ******************************************************\n  */\n  statics: {\n    allPages: '',\n\n    /**\n     * Append the complete generated HTML code to the DOM tree at the end of the generation process\n     */\n    createFinal() {\n      // special function - only for pages!\n      const target = cv.Application.structureController.getRenderTarget();\n      document.querySelector(target).innerHTML = this.allPages;\n      qx.event.message.Bus.unsubscribe('setup.dom.append', this.createFinal, this);\n    }\n  },\n\n  /*\n   ******************************************************\n   PROPERTIES\n   ******************************************************\n   */\n  properties: {\n    initialized: {\n      check: 'Boolean',\n      init: false,\n      event: 'changeInitialized'\n    },\n\n    anonymous: {\n      refine: true,\n      init: true\n    },\n\n    name: {\n      check: 'String',\n      init: '',\n      nullable: true\n    },\n\n    showTopNavigation: {\n      check: 'Boolean',\n      nullable: true,\n      event: 'changeShowTopNavigation'\n    },\n\n    showFooter: {\n      check: 'Boolean',\n      nullable: true,\n      event: 'changeShowFooter'\n    },\n\n    showNavbarTop: {\n      check: 'Boolean',\n      nullable: true,\n      event: 'changeShowNavbarTop',\n      apply: '_applyNavbarVisibility'\n    },\n\n    showNavbarBottom: {\n      check: 'Boolean',\n      nullable: true,\n      event: 'changeShowNavbarBottom',\n      apply: '_applyNavbarVisibility'\n    },\n\n    showNavbarLeft: {\n      check: 'Boolean',\n      nullable: true,\n      event: 'changeShowNavbarLeft',\n      apply: '_applyNavbarVisibility'\n    },\n\n    showNavbarRight: {\n      check: 'Boolean',\n      nullable: true,\n      event: 'changeShowNavbarRight',\n      apply: '_applyNavbarVisibility'\n    },\n\n    backdropAlign: {\n      init: '50% 50%',\n      nullable: true\n    },\n\n    backdropType: { check: 'String', nullable: true },\n    linkVisible: { check: 'Boolean', init: true, nullable: true },\n    size: { check: 'String', nullable: true },\n    backdrop: { check: 'String', nullable: true }\n  },\n\n  /*\n   ******************************************************\n   MEMBERS\n   ******************************************************\n   */\n  members: {\n    __waitForProperties: null,\n    __colspanClass: null,\n    __normalizedDomId: null,\n    __inhibitGA4Startup: null,\n\n    _applyNavbarVisibility(value, old, name) {\n      if (value !== null) {\n        const i_name = this.__waitForProperties.indexOf(name);\n        if (i_name !== -1) {\n          this.__waitForProperties.splice(i_name, 1);\n        }\n        if (this.__waitForProperties.length === 0) {\n          this.setInitialized(true);\n        }\n      }\n    },\n\n    /**\n     * If the page gets visible the colspan sized must be checked\n     * @param ev {Event}\n     */\n    _onChangeVisible(ev) {\n      if (ev.getData()) {\n        if (this.__colspanClass !== cv.ui.structure.pure.layout.Manager.COLSPAN_CLASS) {\n          this.applyColumnWidths();\n        }\n        if (this.getBackdrop()) {\n          cv.ui.structure.pure.layout.ResizeHandler.invalidateBackdrop();\n        }\n      }\n    },\n\n    /**\n     * Set children column widths\n     */\n    applyColumnWidths() {\n      cv.ui.structure.pure.layout.Manager.applyColumnWidths('#' + this.getPath(), false);\n\n      this.__colspanClass = cv.ui.structure.pure.layout.Manager.COLSPAN_CLASS;\n    },\n\n    // overridden\n    getDomString() {\n      const pageType = this.getPageType();\n\n      const subpageClass = this.getFlavour() ? ' flavour_' + this.getFlavour() : '';\n      let subpage = '<div class=\"page type_' + pageType + subpageClass + '\" id=\"' + this.getPath() + '\">';\n      let container = '<div class=\"clearfix\"><h1>' + this.getName() + '</h1>';\n\n      if (pageType === '2d') {\n        let size = 'width:100%;height:100%;';\n        switch (this.getSize()) {\n          case 'fixed':\n            size += 'object-fit:none;';\n            if (this.getBackdropAlign()) {\n              size += 'object-position:' + this.getBackdropAlign() + ';';\n            }\n            break;\n\n          case 'contained':\n            size += 'object-fit:contain;';\n            if (this.getBackdropAlign()) {\n              size += 'object-position:' + this.getBackdropAlign() + ';';\n            }\n            break;\n\n          default: // default: assume scaled\n        }\n\n        const backdrop = this.getBackdrop();\n        if (backdrop) {\n          container +=\n            '<' +\n            this.getBackdropType() +\n            ' src=\"' +\n            qx.util.ResourceManager.getInstance().toUri(backdrop) +\n            '\" style=\"position: absolute; top: 0px; left: 0px;z-index:-1;' +\n            size +\n            '\"/>';\n        }\n      } /* ---Disable 3D for 0.8---\n      else if (pageType === \"3d\" && false) {\n      var floorplan = JSFloorPlan3D( container, backdrop );\n      floorplan.moveToRoom( 'Underground', false, true, false );\n      container.data( 'JSFloorPlan3D', floorplan );\n      container.find('canvas').css({position: 'absolute', top: '0px', left: '0px', 'z-index':'-1', width:'100%',height:'100%'});\n      subpage.click( {JSFloorPlan3D:floorplan,callback:function(event){\n      var j = this.JSFloorPlan3D;\n      j.moveToRoom( j.getState('showFloor'), event.room.room, true, true, function(){\n      container.trigger( 'update3d', j );\n      });\n      }}, floorplan.translateMouseEvent );\n      $(window).bind( 'resize', function(){ floorplan.resize($('.page').width(), $('.page').height(), true);} );\n      if (page.getAttribute('azimut')) {\n      cv.TemplateEngine.getInstance().addAddress( page.getAttribute('azimut'), path + '_' );\n      address[ page.getAttribute('azimut') ] = [ 'DPT:9.001', 0, 'azimut' ];\n      }\n      if (page.getAttribute('elevation')) {\n      cv.TemplateEngine.getInstance().addAddress( page.getAttribute('elevation'), path + '_' );\n      address[ page.getAttribute('elevation') ] = [ 'DPT:9.001', 0, 'elevation' ];\n      };\n      if (page.getAttribute('floor')) {\n      cv.TemplateEngine.getInstance().addAddress( page.getAttribute('floor'), path + '_' );\n      address[ page.getAttribute('floor') ] = [ 'DPT:5.004', 0, 'floor' ];\n      };\n      $( childs ).each( function(i,a){\n      if( this.tagName === 'filter' )\n      {\n      var floorFilter = $(this).attr('floor');\n      var roomFilter  = $(this).attr('room');\n      childs.splice( i, 1 );                 // remove filter element\n      $(this).children().each( function(j){  // and add it's children\n      $(this).find('layout').attr({floorFilter:floorFilter,roomFilter:roomFilter});\n      childs.splice( i+j, 0, this );\n      });\n      }\n      });\n      } */\n\n      container += this.getChildrenDomString();\n      subpage += container + '</div></div>';\n      cv.ui.structure.pure.Page.allPages = subpage + cv.ui.structure.pure.Page.allPages;\n      return undefined;\n    },\n\n    _update(address, data) {\n      // widgetData  = cv.data.Model.getInstance().getWidgetDataByElement( element );\n      // var value = this.defaultValueHandling( ga, data, widgetData );\n      // var type = widgetData.address[ ga ][2];\n      // switch( type )\n      // {\n      //   case 'azimut':\n      //     widgetData.JSFloorPlan3D.setState('currentAzimut', value, true);\n      //     element.trigger( 'update3d', widgetData.JSFloorPlan3D );\n      //     break;\n      //\n      //   case 'elevation':\n      //     widgetData.JSFloorPlan3D.setState('currentElevation', value, true);\n      //     element.trigger( 'update3d', widgetData.JSFloorPlan3D );\n      //     break;\n      //\n      //   case 'floor':\n      //     widgetData.JSFloorPlan3D.moveToRoom( value, false, true, true, function(){\n      //       element.trigger( 'update3d', widgetData.JSFloorPlan3D );\n      //     });\n      //     break;\n      //\n      //   default:\n\n      if (this.__inhibitGA4Startup !== null) {\n        // ignore first bus message during this timeout\n        clearTimeout(this.__inhibitGA4Startup);\n        this.__inhibitGA4Startup = null;\n        return;\n      }\n\n      const value = this.applyTransform(address, data);\n      const filters = this.getAddress()[address]?.clients ?? '';\n      let filterMatch = parseInt(data) === 1; // fallback for old behavior\n      if (cv.Config.clientID !== null && filters !== '') {\n        // apply filter\n        filterMatch = false;\n        for (const filter of filters.split(',')) {\n          const [, id, , triggerValue] = filter.match(/ *([^: ]+) *(: *([^ ]+))? */);\n          if (id === cv.Config.clientID || (id.at(-1) === '*' && id.substring(0, id.length-1) === cv.Config.clientID.substring(0, id.length-1))) {\n            // the clientID matches the filter\n            if (triggerValue === undefined || triggerValue === `${value}`) {\n              // the value matches the filter as well\n              filterMatch = true;\n            }\n          }\n        }\n      }\n      if (filterMatch) {\n        cv.Application.structureController.scrollToPage(this.getPath());\n        // TODO: the page used to send a '0' when the page was switched.\n        // But as that was completely hard coded it is now disabled to prevent\n        // any side effects. It is also not documented.\n        // When the infrastructure for bus initiated page switches is moved\n        // from using the attribute `ga` to a full blown `address` element\n        // it can be activated again by respecting the `write` mode.\n        //this.sendToBackend('0');\n      }\n      // }\n    },\n\n    sendToBackend(value) {\n      if (this.getAddress) {\n        const list = this.getAddress();\n        for (let id in list) {\n          if (Object.prototype.hasOwnProperty.call(list, id)) {\n            const address = list[id];\n            if (cv.data.Model.isWriteAddress(address)) {\n              cv.io.BackendConnections.getClient(address.backendType).write(id, cv.Transform.encode(address, value));\n            }\n          }\n        }\n      }\n    }\n  },\n\n  defer(statics) {\n    qx.event.message.Bus.subscribe('setup.dom.append', statics.createFinal, statics);\n  }\n});\n"
  ],
  "mappings": "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"
}