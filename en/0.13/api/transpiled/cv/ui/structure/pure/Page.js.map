{
  "version": 3,
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "extend",
    "cv",
    "ui",
    "structure",
    "pure",
    "AbstractWidget",
    "include",
    "common",
    "HasChildren",
    "Update",
    "construct",
    "props",
    "__waitForProperties",
    "addListener",
    "_onChangeVisible",
    "util",
    "DeferredCall",
    "parentPage",
    "getParentPage",
    "debug",
    "getPath",
    "forEach",
    "tuple",
    "property",
    "defaultValue",
    "charAt",
    "toUpperCase",
    "substr",
    "bind",
    "setInitialized",
    "schedule",
    "getAddress",
    "_initOnCreate",
    "statics",
    "allPages",
    "createFinal",
    "target",
    "Application",
    "structureController",
    "getRenderTarget",
    "document",
    "querySelector",
    "innerHTML",
    "event",
    "message",
    "Bus",
    "unsubscribe",
    "properties",
    "initialized",
    "check",
    "init",
    "anonymous",
    "refine",
    "name",
    "nullable",
    "showTopNavigation",
    "showFooter",
    "showNavbarTop",
    "apply",
    "showNavbarBottom",
    "showNavbarLeft",
    "showNavbarRight",
    "backdropAlign",
    "backdropType",
    "linkVisible",
    "size",
    "backdrop",
    "members",
    "__colspanClass",
    "__normalizedDomId",
    "_applyNavbarVisibility",
    "value",
    "old",
    "i_name",
    "indexOf",
    "splice",
    "length",
    "ev",
    "getData",
    "layout",
    "Manager",
    "COLSPAN_CLASS",
    "applyColumnWidths",
    "getBackdrop",
    "ResizeHandler",
    "invalidateBackdrop",
    "getDomString",
    "pageType",
    "getPageType",
    "subpageClass",
    "getFlavour",
    "subpage",
    "container",
    "getName",
    "getSize",
    "getBackdropAlign",
    "getBackdropType",
    "ResourceManager",
    "getInstance",
    "toUri",
    "getChildrenDomString",
    "Page",
    "undefined",
    "_update",
    "ga",
    "data",
    "parseInt",
    "scrollToPage",
    "sendToBackend",
    "list",
    "id",
    "Object",
    "prototype",
    "hasOwnProperty",
    "call",
    "address",
    "Model",
    "isWriteAddress",
    "io",
    "BackendConnections",
    "getClient",
    "backendType",
    "write",
    "Transform",
    "encode",
    "defer",
    "subscribe"
  ],
  "sources": [
    "/home/runner/work/CometVisu/CometVisu/source/class/cv/ui/structure/pure/Page.js"
  ],
  "sourcesContent": [
    "/* Page.js\n *\n * copyright (c) 2010-2022, Christian Mayer and the CometVisu contributers.\n *\n * This program is free software; you can redistribute it and/or modify it\n * under the terms of the GNU General Public License as published by the Free\n * Software Foundation; either version 3 of the License, or (at your option)\n * any later version.\n *\n * This program is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for\n * more details.\n *\n * You should have received a copy of the GNU General Public License along\n * with this program; if not, write to the Free Software Foundation, Inc.,\n * 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA\n */\n\n/**\n * Creates a new sub page and adds a corresponding link to the current page.\n *\n * @author Christian Mayer\n * @since 2012\n */\nqx.Class.define('cv.ui.structure.pure.Page', {\n  extend: cv.ui.structure.pure.AbstractWidget,\n\n  include: [cv.ui.common.HasChildren, cv.ui.common.Update],\n\n  /*\n  ******************************************************\n    CONSTRUCTOR\n  ******************************************************\n  */\n  construct(props) {\n    this.__waitForProperties = ['showNavbarTop', 'showNavbarBottom', 'showNavbarLeft', 'showNavbarRight'];\n\n    super(props);\n\n    this.addListener('changeVisible', this._onChangeVisible, this);\n\n    // break out of the constructor\n    new qx.util.DeferredCall(function () {\n      const parentPage = this.getParentPage();\n      if (!parentPage) {\n        this.__waitForProperties = [];\n      } else {\n        this.debug('binding navbar visibility from ' + parentPage.getPath() + ' to ' + this.getPath());\n      }\n      [\n        ['showTopNavigation', true],\n        ['showFooter', true],\n        ['showNavbarTop', false],\n        ['showNavbarBottom', false],\n        ['showNavbarLeft', false],\n        ['showNavbarRight', false]\n      ].forEach(function (tuple) {\n        const property = tuple[0];\n        const defaultValue = tuple[1];\n        if (this['get' + property.charAt(0).toUpperCase() + property.substr(1)]() === null) {\n          // inherit from parent\n          if (parentPage) {\n            parentPage.bind(property, this, property);\n          } else {\n            // we have not parent page, because we are the root page, use the default value\n            this['set' + property.charAt(0).toUpperCase() + property.substr(1)](defaultValue);\n          }\n        }\n        if (!parentPage) {\n          this.setInitialized(true);\n        }\n      }, this);\n    }, this).schedule();\n\n    if (this.getAddress()) {\n      this._initOnCreate = true;\n    }\n  },\n\n  /*\n  ******************************************************\n    STATICS\n  ******************************************************\n  */\n  statics: {\n    allPages: '',\n\n    /**\n     * Append the complete generated HTML code to the DOM tree at the end of the generation process\n     */\n    createFinal() {\n      // special function - only for pages!\n      const target = cv.Application.structureController.getRenderTarget();\n      document.querySelector(target).innerHTML = this.allPages;\n      qx.event.message.Bus.unsubscribe('setup.dom.append', this.createFinal, this);\n    }\n  },\n\n  /*\n   ******************************************************\n   PROPERTIES\n   ******************************************************\n   */\n  properties: {\n    initialized: {\n      check: 'Boolean',\n      init: false,\n      event: 'changeInitialized'\n    },\n\n    anonymous: {\n      refine: true,\n      init: true\n    },\n\n    name: {\n      check: 'String',\n      init: '',\n      nullable: true\n    },\n\n    showTopNavigation: {\n      check: 'Boolean',\n      nullable: true,\n      event: 'changeShowTopNavigation'\n    },\n\n    showFooter: {\n      check: 'Boolean',\n      nullable: true,\n      event: 'changeShowFooter'\n    },\n\n    showNavbarTop: {\n      check: 'Boolean',\n      nullable: true,\n      event: 'changeShowNavbarTop',\n      apply: '_applyNavbarVisibility'\n    },\n\n    showNavbarBottom: {\n      check: 'Boolean',\n      nullable: true,\n      event: 'changeShowNavbarBottom',\n      apply: '_applyNavbarVisibility'\n    },\n\n    showNavbarLeft: {\n      check: 'Boolean',\n      nullable: true,\n      event: 'changeShowNavbarLeft',\n      apply: '_applyNavbarVisibility'\n    },\n\n    showNavbarRight: {\n      check: 'Boolean',\n      nullable: true,\n      event: 'changeShowNavbarRight',\n      apply: '_applyNavbarVisibility'\n    },\n\n    backdropAlign: {\n      init: '50% 50%',\n      nullable: true\n    },\n\n    backdropType: { check: 'String', nullable: true },\n    linkVisible: { check: 'Boolean', init: true, nullable: true },\n    size: { check: 'String', nullable: true },\n    backdrop: { check: 'String', nullable: true }\n  },\n\n  /*\n   ******************************************************\n   MEMBERS\n   ******************************************************\n   */\n  members: {\n    __waitForProperties: null,\n    __colspanClass: null,\n    __normalizedDomId: null,\n\n    _applyNavbarVisibility(value, old, name) {\n      if (value !== null) {\n        const i_name = this.__waitForProperties.indexOf(name);\n        if (i_name !== -1) {\n          this.__waitForProperties.splice(i_name, 1);\n        }\n        if (this.__waitForProperties.length === 0) {\n          this.setInitialized(true);\n        }\n      }\n    },\n\n    /**\n     * If the page gets visible the colspan sized must be checked\n     * @param ev {Event}\n     */\n    _onChangeVisible(ev) {\n      if (ev.getData()) {\n        if (this.__colspanClass !== cv.ui.structure.pure.layout.Manager.COLSPAN_CLASS) {\n          this.applyColumnWidths();\n        }\n        if (this.getBackdrop()) {\n          cv.ui.structure.pure.layout.ResizeHandler.invalidateBackdrop();\n        }\n      }\n    },\n\n    /**\n     * Set children column widths\n     */\n    applyColumnWidths() {\n      cv.ui.structure.pure.layout.Manager.applyColumnWidths('#' + this.getPath(), false);\n\n      this.__colspanClass = cv.ui.structure.pure.layout.Manager.COLSPAN_CLASS;\n    },\n\n    // overridden\n    getDomString() {\n      const pageType = this.getPageType();\n\n      const subpageClass = this.getFlavour() ? ' flavour_' + this.getFlavour() : '';\n      let subpage = '<div class=\"page type_' + pageType + subpageClass + '\" id=\"' + this.getPath() + '\">';\n      let container = '<div class=\"clearfix\"><h1>' + this.getName() + '</h1>';\n\n      if (pageType === '2d') {\n        let size = 'width:100%;height:100%;';\n        switch (this.getSize()) {\n          case 'fixed':\n            size += 'object-fit:none;';\n            if (this.getBackdropAlign()) {\n              size += 'object-position:' + this.getBackdropAlign() + ';';\n            }\n            break;\n\n          case 'contained':\n            size += 'object-fit:contain;';\n            if (this.getBackdropAlign()) {\n              size += 'object-position:' + this.getBackdropAlign() + ';';\n            }\n            break;\n\n          default: // default: assume scaled\n        }\n\n        const backdrop = this.getBackdrop();\n        if (backdrop) {\n          container +=\n            '<' +\n            this.getBackdropType() +\n            ' src=\"' +\n            qx.util.ResourceManager.getInstance().toUri(backdrop) +\n            '\" style=\"position: absolute; top: 0px; left: 0px;z-index:-1;' +\n            size +\n            '\"/>';\n        }\n      } /* ---Disable 3D for 0.8---\n      else if (pageType === \"3d\" && false) {\n      var floorplan = JSFloorPlan3D( container, backdrop );\n      floorplan.moveToRoom( 'Underground', false, true, false );\n      container.data( 'JSFloorPlan3D', floorplan );\n      container.find('canvas').css({position: 'absolute', top: '0px', left: '0px', 'z-index':'-1', width:'100%',height:'100%'});\n      subpage.click( {JSFloorPlan3D:floorplan,callback:function(event){\n      var j = this.JSFloorPlan3D;\n      j.moveToRoom( j.getState('showFloor'), event.room.room, true, true, function(){\n      container.trigger( 'update3d', j );\n      });\n      }}, floorplan.translateMouseEvent );\n      $(window).bind( 'resize', function(){ floorplan.resize($('.page').width(), $('.page').height(), true);} );\n      if (page.getAttribute('azimut')) {\n      cv.TemplateEngine.getInstance().addAddress( page.getAttribute('azimut'), path + '_' );\n      address[ page.getAttribute('azimut') ] = [ 'DPT:9.001', 0, 'azimut' ];\n      }\n      if (page.getAttribute('elevation')) {\n      cv.TemplateEngine.getInstance().addAddress( page.getAttribute('elevation'), path + '_' );\n      address[ page.getAttribute('elevation') ] = [ 'DPT:9.001', 0, 'elevation' ];\n      };\n      if (page.getAttribute('floor')) {\n      cv.TemplateEngine.getInstance().addAddress( page.getAttribute('floor'), path + '_' );\n      address[ page.getAttribute('floor') ] = [ 'DPT:5.004', 0, 'floor' ];\n      };\n      $( childs ).each( function(i,a){\n      if( this.tagName === 'filter' )\n      {\n      var floorFilter = $(this).attr('floor');\n      var roomFilter  = $(this).attr('room');\n      childs.splice( i, 1 );                 // remove filter element\n      $(this).children().each( function(j){  // and add it's children\n      $(this).find('layout').attr({floorFilter:floorFilter,roomFilter:roomFilter});\n      childs.splice( i+j, 0, this );\n      });\n      }\n      });\n      } */\n\n      container += this.getChildrenDomString();\n      subpage += container + '</div></div>';\n      cv.ui.structure.pure.Page.allPages = subpage + cv.ui.structure.pure.Page.allPages;\n      return undefined;\n    },\n\n    _update(ga, data) {\n      // widgetData  = cv.data.Model.getInstance().getWidgetDataByElement( element );\n      // var value = this.defaultValueHandling( ga, data, widgetData );\n      // var type = widgetData.address[ ga ][2];\n      // switch( type )\n      // {\n      //   case 'azimut':\n      //     widgetData.JSFloorPlan3D.setState('currentAzimut', value, true);\n      //     element.trigger( 'update3d', widgetData.JSFloorPlan3D );\n      //     break;\n      //\n      //   case 'elevation':\n      //     widgetData.JSFloorPlan3D.setState('currentElevation', value, true);\n      //     element.trigger( 'update3d', widgetData.JSFloorPlan3D );\n      //     break;\n      //\n      //   case 'floor':\n      //     widgetData.JSFloorPlan3D.moveToRoom( value, false, true, true, function(){\n      //       element.trigger( 'update3d', widgetData.JSFloorPlan3D );\n      //     });\n      //     break;\n      //\n      //   default:\n      // TODO: data comparision has to be refactored to use DPT and a value\n      if (parseInt(data) === 1) {\n        cv.Application.structureController.scrollToPage(this.getPath());\n        this.sendToBackend('0');\n      }\n      // }\n    },\n\n    sendToBackend(value) {\n      if (this.getAddress) {\n        const list = this.getAddress();\n        for (let id in list) {\n          if (Object.prototype.hasOwnProperty.call(list, id)) {\n            const address = list[id];\n            if (cv.data.Model.isWriteAddress(address)) {\n              cv.io.BackendConnections.getClient(address.backendType).write(id, cv.Transform.encode(address, value));\n            }\n          }\n        }\n      }\n    }\n  },\n\n  defer(statics) {\n    qx.event.message.Bus.subscribe('setup.dom.append', statics.createFinal, statics);\n  }\n});\n"
  ],
  "mappings": "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"
}