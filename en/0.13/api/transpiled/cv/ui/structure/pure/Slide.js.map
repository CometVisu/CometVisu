{
  "version": 3,
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "extend",
    "cv",
    "ui",
    "structure",
    "pure",
    "AbstractWidget",
    "include",
    "common",
    "Operate",
    "Update",
    "construct",
    "props",
    "_this",
    "constructor",
    "call",
    "__animator",
    "util",
    "LimitedRateUpdateAnimator",
    "__updateHandlePosition",
    "__pageSizeListener",
    "layout",
    "ResizeHandler",
    "states",
    "addListener",
    "window",
    "requestAnimationFrame",
    "__invalidateScreensize",
    "bind",
    "__lastBusValue",
    "destruct",
    "removeListenerById",
    "__button",
    "properties",
    "min",
    "check",
    "init",
    "max",
    "step",
    "showInvalidValues",
    "sendOnFinish",
    "members",
    "undefined",
    "__range",
    "__actorWidth",
    "__buttonWidth",
    "__inDrag",
    "__coordMin",
    "_getInnerDomString",
    "placeholder",
    "getFormat",
    "_onDomReady",
    "Slide",
    "superclass",
    "prototype",
    "__throttled",
    "Function",
    "throttle",
    "__onChangeValue",
    "trailing",
    "getActor",
    "addEventListener",
    "_update",
    "address",
    "data",
    "transform",
    "getAddress",
    "value",
    "Transform",
    "decode",
    "__setSliderTo",
    "isVisible",
    "__P_66_13",
    "instant",
    "relaxDisplay",
    "arguments",
    "length",
    "getMin",
    "getMax",
    "getStep",
    "Math",
    "abs",
    "realValue",
    "getShowInvalidValues",
    "stepValue",
    "round",
    "maxSwitchValue",
    "floor",
    "ratio",
    "valueRatio",
    "delta",
    "stepCount",
    "factor",
    "pow",
    "sign",
    "setBasicValue",
    "displayValue",
    "applyMapping",
    "applyFormat",
    "setValue",
    "applyStyling",
    "button",
    "getDomElement",
    "querySelector",
    "replaceChildren",
    "defaultValue2DOM",
    "setTo",
    "__P_66_1",
    "element",
    "_disposeObjects",
    "actorWidth",
    "__getActorWidth",
    "style",
    "width",
    "__P_66_3",
    "getBasicValue",
    "handleEvent",
    "event",
    "newRatio",
    "type",
    "document",
    "boundingRect",
    "currentTarget",
    "getBoundingClientRect",
    "computedStyle",
    "getComputedStyle",
    "left",
    "parseFloat",
    "paddingLeft",
    "clientX",
    "removeEventListener",
    "newValue",
    "getSendOnFinish",
    "__P_66_12",
    "sendToBackend",
    "__P_66_14",
    "isPageSizeInvalid",
    "actor",
    "actorStyles",
    "getPropertyValue",
    "marginLeft",
    "borderRadius",
    "defer",
    "statics",
    "WidgetFactory",
    "registerClass"
  ],
  "sources": [
    "/home/runner/work/CometVisu/CometVisu/source/class/cv/ui/structure/pure/Slide.js"
  ],
  "sourcesContent": [
    "/* Slide.js\n *\n * copyright (c) 2010-2022, Christian Mayer and the CometVisu contributers.\n *\n * This program is free software; you can redistribute it and/or modify it\n * under the terms of the GNU General Public License as published by the Free\n * Software Foundation; either version 3 of the License, or (at your option)\n * any later version.\n *\n * This program is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for\n * more details.\n *\n * You should have received a copy of the GNU General Public License along\n * with this program; if not, write to the Free Software Foundation, Inc.,\n * 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA\n */\n\n/**\n * Adds a horizontal slider to the visu. This can be used, for example, to dim a light or change temperature values.\n *\n * @author Christian Mayer\n * @since 2012\n */\nqx.Class.define('cv.ui.structure.pure.Slide', {\n  extend: cv.ui.structure.pure.AbstractWidget,\n  include: [cv.ui.common.Operate, cv.ui.common.Update],\n\n  /*\n  ******************************************************\n    CONSTRUCTOR\n  ******************************************************\n  */\n  construct(props) {\n    super(props);\n    this.__animator = new cv.util.LimitedRateUpdateAnimator(this.__updateHandlePosition, this);\n\n    this.__pageSizeListener = cv.ui.structure.pure.layout.ResizeHandler.states.addListener('changePageSizeInvalid', () => {\n      // Quick fix for issue https://github.com/CometVisu/CometVisu/issues/1369\n      // make sure that the `__invalidateScreensize` is delayed so that\n      // reading the available spaces is valid.\n      // Just to be sure, wait for two frames\n      window.requestAnimationFrame(() => {\n        window.requestAnimationFrame(this.__invalidateScreensize.bind(this));\n      });\n    });\n    this.__lastBusValue = {};\n  },\n  /*\n  ***********************************************\n    DESTRUCTOR\n  ***********************************************\n  */\n  destruct() {\n    cv.ui.structure.pure.layout.ResizeHandler.states.removeListenerById(this.__pageSizeListener);\n\n    this.__pageSizeListener = null;\n    this.__button = null;\n  },\n\n  /*\n  ******************************************************\n    PROPERTIES\n  ******************************************************\n  */\n  properties: {\n    min: {\n      check: 'Number',\n      init: 0\n    },\n\n    max: {\n      check: 'Number',\n      init: 100\n    },\n\n    step: {\n      check: 'Number',\n      init: 0.5\n    },\n\n    showInvalidValues: {\n      check: 'Boolean',\n      init: false\n    },\n\n    sendOnFinish: {\n      check: 'Boolean',\n      init: false\n    }\n  },\n\n  /*\n  ******************************************************\n    MEMBERS\n  ******************************************************\n  */\n  members: {\n    __lastBusValue: null,\n    __animator: null,\n    __button: undefined, // cache for DOM element\n    __range: undefined, // cache for DOM element\n    __actorWidth: undefined,\n    __buttonWidth: undefined,\n    __pageSizeListener: undefined,\n    __inDrag: false, // is the handle currently dragged?\n    __coordMin: undefined, // minimal screen coordinate of slider\n\n    // overridden\n    _getInnerDomString() {\n      const placeholder = this.getFormat() === '' ? '' : '-';\n      return (\n        `\n        <div class=\"actor ui-slider ui-slider-horizontal ui-widget ui-widget-content ui-corner-all\" style=\"touch-action: pan-y;\">\n          <button class=\"ui-slider-handle ui-state-default ui-corner-all\" draggable=\"false\" unselectable=\"true\" style=\"transform: translate3d(0px, 0px, 0px);\">` +\n        placeholder +\n        `</button>\n          <div class=\"ui-slider-range value\" style=\"margin-left: 0px; width: 0px;\"></div>\n        </div>\n      `\n      );\n    },\n\n    // overridden\n    _onDomReady() {\n      super._onDomReady();\n\n      this.__throttled = cv.util.Function.throttle(this.__onChangeValue, 250, { trailing: true }, this);\n\n      this.getActor().addEventListener('pointerdown', this);\n    },\n\n    _update(address, data) {\n      let transform = this.getAddress()[address].transform;\n      if (this.__inDrag || this.__lastBusValue[transform] === data) {\n        // slider in use -> ignore value from bus\n        // internal state unchanged -> also do nothing\n        return;\n      }\n      this.__lastBusValue = {}; // forget all other transforms as they might not be valid anymore\n      this.__lastBusValue[transform] = data;\n\n      let value = cv.Transform.decode(this.getAddress()[address], data);\n\n      // animate when visible, otherwise jump to the target value\n      this.__setSliderTo(value, !this.isVisible());\n    },\n\n    /**\n     * The the internal slider state and its handle and displayed value\n     * @param value {Number} The new value\n     * @param instant {Boolean} Animate or instant change\n     * @param relaxDisplay {Boolean} Let the handle move to an unstable position\n     *   to give visual feedback that something does happen during interaction\n     * @returns realValue - the real value that is respecting the configured restraints\n     * @private\n     */\n    __setSliderTo(value, instant, relaxDisplay = false) {\n      let min = this.getMin();\n      let max = this.getMax();\n      let step = this.getStep();\n      if (step === 0 || Math.abs((max - min) / step) > 10000) {\n        // limit too small step size - it's not necessary to have more than\n        // 10000 steps for the range as even the biggest screen doesn't have\n        // that many pixels\n        step = (max - min) / 10000;\n      }\n      let realValue = Math.min(Math.max(value, min), max);\n\n      if (!this.getShowInvalidValues()) {\n        // map to closest allowed value\n        let stepValue = Math.round((realValue - min) / step) * step + min;\n        // use max when the value is greater than the middle point between the\n        // biggest allowed step and the maximum\n        let maxSwitchValue = (Math.floor((max - min) / step) * step + min + max) / 2;\n        realValue = realValue < maxSwitchValue ? stepValue : max;\n      }\n\n      let ratio = max === min ? 0 : (realValue - min) / (max - min);\n\n      if (relaxDisplay) {\n        let valueRatio = max === min ? 0 : (Math.min(Math.max(value, min), max) - min) / (max - min);\n        let delta = ratio - valueRatio;\n        let stepCount = (max - min) / step;\n        let factor = (2 * stepCount) ** 3;\n        ratio -= Math.min(factor * delta ** 4, Math.abs(delta)) * Math.sign(delta);\n      }\n\n      // store it to be able to suppress sending of unchanged data\n      this.setBasicValue(realValue);\n\n      if (this.getFormat() !== '') {\n        // #2: map it to a value the user wants to see\n        let displayValue = this.applyMapping(realValue);\n\n        // #3: format it in a way the user understands the value\n        displayValue = this.applyFormat(undefined, displayValue);\n        this.setValue(displayValue);\n\n        this.applyStyling(realValue);\n\n        let button = this.getDomElement().querySelector('button');\n        button.replaceChildren(); // delete anything inside\n        this.defaultValue2DOM(displayValue, button);\n      }\n\n      this.__animator.setTo(ratio, instant);\n      return realValue;\n    },\n\n    __updateHandlePosition(ratio) {\n      if (this.__button === undefined) {\n        let element = this.getDomElement();\n        this.__button = element.querySelector('button');\n        this.__range = element.querySelector('.ui-slider-range');\n      }\n      if (this.__button === null) {\n        // most likely reason: the widget / DOM tree was deleted (e.g. due to\n        // browsing to a new page or during unit tests)\n        this._disposeObjects('__animator');\n        return;\n      }\n      const actorWidth = this.__getActorWidth();\n      let length = actorWidth >= 1e10 ? 0 : ratio * actorWidth;\n      this.__button.style.transform = 'translate3d(' + (length - this.__buttonWidth / 2) + 'px, 0px, 0px)';\n      this.__range.style.width = length + 'px';\n    },\n\n    __invalidateScreensize() {\n      let min = this.getMin();\n      let max = this.getMax();\n      this.__actorWidth = undefined; // invalidate cached values\n      this.__animator.setTo(max === min ? 0 : (this.getBasicValue() - min) / (max - min), true);\n    },\n\n    handleEvent(event) {\n      let newRatio = 0;\n\n      switch (event.type) {\n        case 'pointerdown': {\n          this.__inDrag = true;\n          document.addEventListener('pointermove', this);\n          document.addEventListener('pointerup', this);\n          let boundingRect = event.currentTarget.getBoundingClientRect();\n          let computedStyle = window.getComputedStyle(event.currentTarget);\n          this.__coordMin = boundingRect.left + parseFloat(computedStyle.paddingLeft);\n          newRatio = (event.clientX - this.__coordMin) / this.__getActorWidth();\n          break;\n        }\n\n        case 'pointermove':\n          if (!this.__inDrag) {\n            return;\n          }\n          newRatio = (event.clientX - this.__coordMin) / this.__getActorWidth();\n          break;\n\n        case 'pointerup':\n          this.__inDrag = false;\n          document.removeEventListener('pointermove', this);\n          document.removeEventListener('pointerup', this);\n          newRatio = (event.clientX - this.__coordMin) / this.__getActorWidth();\n          break;\n      }\n\n      newRatio = Math.min(Math.max(newRatio, 0.0), 1.0); // limit to 0..1\n      let newValue = this.getMin() + newRatio * (this.getMax() - this.getMin());\n      const realValue = this.__setSliderTo(newValue, this.__inDrag, this.__inDrag);\n      if (!this.getSendOnFinish() || event.type === 'pointerup') {\n        this.__throttled.call(realValue);\n      }\n    },\n\n    __onChangeValue(value) {\n      this.__lastBusValue = this.sendToBackend(value, false, this.__lastBusValue);\n    },\n\n    __getActorWidth() {\n      if (this.__actorWidth === undefined || this.__buttonWidth === undefined) {\n        if (cv.ui.structure.pure.layout.ResizeHandler.states.isPageSizeInvalid()) {\n          return 1e10; // a no valid value that doesn't break other calculations\n        }\n        let actor = this.getDomElement().querySelector('.actor');\n        let actorStyles = window.getComputedStyle(actor);\n        this.__actorWidth = parseFloat(actorStyles.getPropertyValue('width'));\n        this.__buttonWidth = parseFloat(window.getComputedStyle(this.__button).getPropertyValue('width'));\n\n        this.__range.style.marginLeft = '-' + actorStyles.getPropertyValue('padding-left');\n        this.__range.style.borderRadius = actorStyles.getPropertyValue('border-radius');\n      }\n      return this.__actorWidth;\n    }\n  },\n\n  defer(statics) {\n    cv.ui.structure.WidgetFactory.registerClass('slide', statics);\n  }\n});\n"
  ],
  "mappings": "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"
}