{
  "version": 3,
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "extend",
    "cv",
    "ui",
    "structure",
    "pure",
    "AbstractWidget",
    "include",
    "common",
    "Operate",
    "Update",
    "construct",
    "props",
    "__animator",
    "util",
    "LimitedRateUpdateAnimator",
    "__updateHandlePosition",
    "__pageSizeListener",
    "layout",
    "ResizeHandler",
    "states",
    "addListener",
    "__invalidateScreensize",
    "__lastBusValue",
    "destruct",
    "removeListenerById",
    "__button",
    "properties",
    "min",
    "check",
    "init",
    "max",
    "step",
    "showInvalidValues",
    "sendOnFinish",
    "members",
    "undefined",
    "__range",
    "__actorWidth",
    "__buttonWidth",
    "__inDrag",
    "__coordMin",
    "_getInnerDomString",
    "placeholder",
    "getFormat",
    "_onDomReady",
    "__throttled",
    "Function",
    "throttle",
    "__onChangeValue",
    "trailing",
    "getActor",
    "addEventListener",
    "_update",
    "address",
    "data",
    "transform",
    "getAddress",
    "value",
    "Transform",
    "decode",
    "__setSliderTo",
    "isVisible",
    "instant",
    "relaxDisplay",
    "getMin",
    "getMax",
    "getStep",
    "Math",
    "abs",
    "realValue",
    "getShowInvalidValues",
    "stepValue",
    "round",
    "maxSwitchValue",
    "floor",
    "ratio",
    "valueRatio",
    "delta",
    "stepCount",
    "factor",
    "sign",
    "setBasicValue",
    "displayValue",
    "applyMapping",
    "applyFormat",
    "setValue",
    "applyStyling",
    "button",
    "getDomElement",
    "querySelector",
    "replaceChildren",
    "defaultValue2DOM",
    "setTo",
    "element",
    "_disposeObjects",
    "actor",
    "actorStyles",
    "window",
    "getComputedStyle",
    "parseFloat",
    "getPropertyValue",
    "style",
    "marginLeft",
    "borderRadius",
    "length",
    "width",
    "getBasicValue",
    "handleEvent",
    "event",
    "newRatio",
    "type",
    "document",
    "boundingRect",
    "currentTarget",
    "getBoundingClientRect",
    "computedStyle",
    "left",
    "paddingLeft",
    "clientX",
    "removeEventListener",
    "newValue",
    "getSendOnFinish",
    "call",
    "sendToBackend",
    "defer",
    "statics",
    "WidgetFactory",
    "registerClass",
    "Slide"
  ],
  "sources": [
    "/home/runner/work/CometVisu/CometVisu/source/class/cv/ui/structure/pure/Slide.js"
  ],
  "sourcesContent": [
    "/* Slide.js\n *\n * copyright (c) 2010-2022, Christian Mayer and the CometVisu contributers.\n *\n * This program is free software; you can redistribute it and/or modify it\n * under the terms of the GNU General Public License as published by the Free\n * Software Foundation; either version 3 of the License, or (at your option)\n * any later version.\n *\n * This program is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for\n * more details.\n *\n * You should have received a copy of the GNU General Public License along\n * with this program; if not, write to the Free Software Foundation, Inc.,\n * 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA\n */\n\n/**\n * Adds a horizontal slider to the visu. This can be used, for example, to dim a light or change temperature values.\n *\n * @author Christian Mayer\n * @since 2012\n */\nqx.Class.define('cv.ui.structure.pure.Slide', {\n  extend: cv.ui.structure.pure.AbstractWidget,\n  include: [cv.ui.common.Operate, cv.ui.common.Update],\n\n  /*\n  ******************************************************\n    CONSTRUCTOR\n  ******************************************************\n  */\n  construct(props) {\n    super(props);\n    this.__animator = new cv.util.LimitedRateUpdateAnimator(this.__updateHandlePosition, this);\n\n    this.__pageSizeListener = cv.ui.structure.pure.layout.ResizeHandler.states.addListener(\n      'changePageSizeInvalid',\n      () => {\n        this.__invalidateScreensize();\n      }\n    );\n\n    this.__lastBusValue = {};\n  },\n  /*\n  ***********************************************\n    DESTRUCTOR\n  ***********************************************\n  */\n  destruct() {\n    cv.ui.structure.pure.layout.ResizeHandler.states.removeListenerById(this.__pageSizeListener);\n\n    this.__pageSizeListener = null;\n    this.__button = null;\n  },\n\n  /*\n  ******************************************************\n    PROPERTIES\n  ******************************************************\n  */\n  properties: {\n    min: {\n      check: 'Number',\n      init: 0\n    },\n\n    max: {\n      check: 'Number',\n      init: 100\n    },\n\n    step: {\n      check: 'Number',\n      init: 0.5\n    },\n\n    showInvalidValues: {\n      check: 'Boolean',\n      init: false\n    },\n\n    sendOnFinish: {\n      check: 'Boolean',\n      init: false\n    }\n  },\n\n  /*\n  ******************************************************\n    MEMBERS\n  ******************************************************\n  */\n  members: {\n    __lastBusValue: null,\n    __animator: null,\n    __button: undefined, // cache for DOM element\n    __range: undefined, // cache for DOM element\n    __actorWidth: undefined,\n    __buttonWidth: undefined,\n    __pageSizeListener: undefined,\n    __inDrag: false, // is the handle currently dragged?\n    __coordMin: undefined, // minimal screen coordinate of slider\n\n    // overridden\n    _getInnerDomString() {\n      const placeholder = this.getFormat() === '' ? '' : '-';\n      return (\n        `\n        <div class=\"actor ui-slider ui-slider-horizontal ui-widget ui-widget-content ui-corner-all\" style=\"touch-action: pan-y;\">\n          <button class=\"ui-slider-handle ui-state-default ui-corner-all\" draggable=\"false\" unselectable=\"true\" style=\"transform: translate3d(0px, 0px, 0px);\">` +\n        placeholder +\n        `</button>\n          <div class=\"ui-slider-range value\" style=\"margin-left: 0px; width: 0px;\"></div>\n        </div>\n      `\n      );\n    },\n\n    // overridden\n    _onDomReady() {\n      super._onDomReady();\n\n      this.__throttled = cv.util.Function.throttle(this.__onChangeValue, 250, { trailing: true }, this);\n\n      this.getActor().addEventListener('pointerdown', this);\n    },\n\n    _update(address, data) {\n      let transform = this.getAddress()[address].transform;\n      if (this.__inDrag || this.__lastBusValue[transform] === data) {\n        // slider in use -> ignore value from bus\n        // internal state unchanged -> also do nothing\n        return;\n      }\n      this.__lastBusValue = {}; // forget all other transforms as they might not be valid anymore\n      this.__lastBusValue[transform] = data;\n\n      let value = cv.Transform.decode(this.getAddress()[address], data);\n\n      // animate when visible, otherwise jump to the target value\n      this.__setSliderTo(value, !this.isVisible());\n    },\n\n    /**\n     * The the internal slider state and its handle and displayed value\n     * @param value {Number} The new value\n     * @param instant {Boolean} Animate or instant change\n     * @param relaxDisplay {Boolean} Let the handle move to an unstable position\n     *   to give visual feedback that something does happen during interaction\n     * @private\n     */\n    __setSliderTo(value, instant, relaxDisplay = false) {\n      let min = this.getMin();\n      let max = this.getMax();\n      let step = this.getStep();\n      if (step === 0 || Math.abs((max - min) / step) > 10000) {\n        // limit too small step size - it's not necessary to have more than\n        // 10000 steps for the range as even the biggest screen doesn't have\n        // that many pixels\n        step = (max - min) / 10000;\n      }\n      let realValue = Math.min(Math.max(value, min), max);\n\n      if (!this.getShowInvalidValues()) {\n        // map to closest allowed value\n        let stepValue = Math.round((realValue - min) / step) * step + min;\n        // use max when the value is greater than the middle point between the\n        // biggest allowed step and the maximum\n        let maxSwitchValue = (Math.floor((max - min) / step) * step + min + max) / 2;\n        realValue = realValue < maxSwitchValue ? stepValue : max;\n      }\n\n      let ratio = max === min ? 0 : (realValue - min) / (max - min);\n\n      if (relaxDisplay) {\n        let valueRatio = max === min ? 0 : (Math.min(Math.max(value, min), max) - min) / (max - min);\n        let delta = ratio - valueRatio;\n        let stepCount = (max - min) / step;\n        let factor = (2 * stepCount) ** 3;\n        ratio -= Math.min(factor * delta ** 4, Math.abs(delta)) * Math.sign(delta);\n      }\n\n      // store it to be able to suppress sending of unchanged data\n      this.setBasicValue(realValue);\n\n      if (this.getFormat() !== '') {\n        // #2: map it to a value the user wants to see\n        let displayValue = this.applyMapping(realValue);\n\n        // #3: format it in a way the user understands the value\n        displayValue = this.applyFormat(undefined, displayValue);\n        this.setValue(displayValue);\n\n        this.applyStyling(realValue);\n\n        let button = this.getDomElement().querySelector('button');\n        button.replaceChildren(); // delete anything inside\n        this.defaultValue2DOM(displayValue, button);\n      }\n\n      this.__animator.setTo(ratio, instant);\n    },\n\n    __updateHandlePosition(ratio) {\n      if (this.__button === undefined) {\n        let element = this.getDomElement();\n        this.__button = element.querySelector('button');\n        this.__range = element.querySelector('.ui-slider-range');\n      }\n      if (this.__button === null) {\n        // most likely reason: the widget / DOM tree was deleted (e.g. due to\n        // browsing to a new page or during unit tests)\n        this._disposeObjects('__animator');\n        return;\n      }\n      if (this.__actorWidth === undefined || this.__buttonWidth === undefined) {\n        let actor = this.getDomElement().querySelector('.actor');\n        let actorStyles = window.getComputedStyle(actor);\n        this.__actorWidth = parseFloat(actorStyles.getPropertyValue('width'));\n        this.__buttonWidth = parseFloat(window.getComputedStyle(this.__button).getPropertyValue('width'));\n\n        this.__range.style.marginLeft = '-' + actorStyles.getPropertyValue('padding-left');\n        this.__range.style.borderRadius = actorStyles.getPropertyValue('border-radius');\n      }\n      let length = ratio * this.__actorWidth;\n      this.__button.style.transform = 'translate3d(' + (length - this.__buttonWidth / 2) + 'px, 0px, 0px)';\n      this.__range.style.width = length + 'px';\n    },\n\n    __invalidateScreensize() {\n      let min = this.getMin();\n      let max = this.getMax();\n      this.__actorWidth = undefined; // invalidate cached values\n      this.__animator.setTo(max === min ? 0 : (this.getBasicValue() - min) / (max - min), true);\n    },\n\n    handleEvent(event) {\n      let newRatio = 0;\n\n      switch (event.type) {\n        case 'pointerdown': {\n          this.__inDrag = true;\n          document.addEventListener('pointermove', this);\n          document.addEventListener('pointerup', this);\n          let boundingRect = event.currentTarget.getBoundingClientRect();\n          let computedStyle = window.getComputedStyle(event.currentTarget);\n          this.__coordMin = boundingRect.left + parseFloat(computedStyle.paddingLeft);\n          newRatio = (event.clientX - this.__coordMin) / this.__actorWidth;\n          break;\n        }\n\n        case 'pointermove':\n          if (!this.__inDrag) {\n            return;\n          }\n          newRatio = (event.clientX - this.__coordMin) / this.__actorWidth;\n          break;\n\n        case 'pointerup':\n          this.__inDrag = false;\n          document.removeEventListener('pointermove', this);\n          document.removeEventListener('pointerup', this);\n          newRatio = (event.clientX - this.__coordMin) / this.__actorWidth;\n          break;\n      }\n\n      newRatio = Math.min(Math.max(newRatio, 0.0), 1.0); // limit to 0..1\n      let newValue = this.getMin() + newRatio * (this.getMax() - this.getMin());\n      this.__setSliderTo(newValue, this.__inDrag, this.__inDrag);\n      if (!this.getSendOnFinish() || event.type === 'pointerup') {\n        this.__throttled.call(newValue);\n      }\n    },\n\n    __onChangeValue(value) {\n      this.__lastBusValue = this.sendToBackend(value, false, this.__lastBusValue);\n    }\n  },\n\n  defer(statics) {\n    cv.ui.structure.WidgetFactory.registerClass('slide', statics);\n  }\n});\n"
  ],
  "mappings": "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"
}