{
  "version": 3,
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "extend",
    "cv",
    "ui",
    "structure",
    "pure",
    "AbstractBasicWidget",
    "include",
    "common",
    "HasStyling",
    "type",
    "construct",
    "props",
    "parts",
    "getPath",
    "split",
    "shift",
    "TemplateEngine",
    "getInstance",
    "isDomFinished",
    "_onDomFinished",
    "event",
    "message",
    "Bus",
    "subscribe",
    "util",
    "DeferredCall",
    "Config",
    "lazyLoading",
    "getParentWidget",
    "parentData",
    "Tree",
    "getParentData",
    "path",
    "parent",
    "WidgetFactory",
    "createInstance",
    "$$type",
    "setParentWidget",
    "parentPage",
    "get$$type",
    "getVisibilityParent",
    "bind",
    "schedule",
    "properties",
    "anonymous",
    "check",
    "init",
    "flavour",
    "nullable",
    "layout",
    "label",
    "bindClickToWidget",
    "mapping",
    "align",
    "classes",
    "style",
    "colspan",
    "transform",
    "colspanM",
    "colspanS",
    "rowspanClass",
    "containerClass",
    "visible",
    "apply",
    "responsive",
    "events",
    "domReady",
    "members",
    "$$domReady",
    "__pointerDownElement",
    "__pointerDownTime",
    "_skipNextEvent",
    "__longPressTimer",
    "__pointerDownPoint",
    "_applyVisible",
    "value",
    "old",
    "getResponsiveLayout",
    "width",
    "isResponsive",
    "getLayout",
    "Manager",
    "getAvailableWidth",
    "suffix",
    "getLayoutSuffix",
    "l",
    "forEach",
    "prop",
    "string2number",
    "parseFloat",
    "downaction",
    "ev",
    "action",
    "isVisible",
    "addListenerOnce",
    "_onDomReady",
    "initListeners",
    "fireEvent",
    "getActor",
    "elem",
    "getDomElement",
    "querySelector",
    "error",
    "getValueElement",
    "getWidgetElement",
    "getInteractionElement",
    "isBindClickToWidget",
    "addElementListener",
    "buttonPressed",
    "_onPointerDown",
    "_cancelEvent",
    "preventDefault",
    "stopPropagation",
    "getCurrentTarget",
    "Date",
    "now",
    "stop",
    "Registration",
    "addListener",
    "document",
    "_onPointerUp",
    "_onLongTap",
    "hasMixin",
    "constructor",
    "HandleLongpress",
    "isSendLongOnRelease",
    "getShortThreshold",
    "clonedEv",
    "clone",
    "Timer",
    "once",
    "__abort",
    "x",
    "getDocumentLeft",
    "y",
    "getDocumentTop",
    "_onPointerMove",
    "removeListener",
    "upElement",
    "getTarget",
    "distance",
    "Math",
    "max",
    "abs",
    "abort",
    "parentNode",
    "setCurrentTarget",
    "callback",
    "context",
    "isAnonymous",
    "widget",
    "dataset",
    "removeElementListener",
    "getDomString",
    "getClasses",
    "getStyle",
    "getLabel",
    "_getInnerDomString",
    "destruct",
    "AbstractWidget"
  ],
  "sources": [
    "/home/runner/work/CometVisu/CometVisu/source/class/cv/ui/structure/pure/AbstractWidget.js"
  ],
  "sourcesContent": [
    "/* AbstractWidget.js\n *\n * copyright (c) 2010-2022, Christian Mayer and the CometVisu contributers.\n *\n * This program is free software; you can redistribute it and/or modify it\n * under the terms of the GNU General Public License as published by the Free\n * Software Foundation; either version 3 of the License, or (at your option)\n * any later version.\n *\n * This program is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for\n * more details.\n *\n * You should have received a copy of the GNU General Public License along\n * with this program; if not, write to the Free Software Foundation, Inc.,\n * 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA\n */\n\n//noinspection JSUnusedGlobalSymbols,JSUnusedLocalSymbols,JSHint\n/**\n * This class defines all the building blocks for a Visu in the \"Pure\" design\n */\nqx.Class.define('cv.ui.structure.pure.AbstractWidget', {\n  extend: cv.ui.structure.pure.AbstractBasicWidget,\n  include: cv.ui.common.HasStyling,\n  type: 'abstract',\n\n  /*\n  ******************************************************\n    CONSTRUCTOR\n  ******************************************************\n  */\n  construct(props) {\n    super(props);\n    const parts = this.getPath().split('_');\n    parts.shift();\n    // var prio = parseInt(parts.join(\"\"))*-1;\n    // var broker = cv.MessageBroker.getInstance();\n    if (cv.TemplateEngine.getInstance().isDomFinished()) {\n      this._onDomFinished();\n    } else {\n      qx.event.message.Bus.subscribe('setup.dom.finished', this._onDomFinished, this);\n    }\n\n    // this.debug(props.$$type+\" INIT [\"+props.path+\"]\");\n    // bind visibility to parent page\n    new qx.util.DeferredCall(function () {\n      if (cv.Config.lazyLoading === true && !this.getParentWidget()) {\n        // initialize the ancestors\n        const parentData = cv.util.Tree.getParentData(props.path);\n        if (parentData) {\n          // console.log(parentData.$$type + \" (\" + parentData.path + \") is parent of \" + props.$$type + \" (\" + props.path + \")\");\n          const parent = cv.ui.structure.WidgetFactory.createInstance(parentData.$$type, parentData);\n\n          this.setParentWidget(parent);\n        }\n      }\n      const parentPage =\n        this.get$$type() === 'page' || this.get$$type() === 'navbar' ? null : this.getVisibilityParent();\n      if (parentPage) {\n        parentPage.bind('visible', this, 'visible');\n      }\n    }, this).schedule();\n  },\n\n  /*\n  ******************************************************\n    PROPERTIES\n  ******************************************************\n  */\n  properties: {\n    /**\n     * If true this widget does not automatically apply any listeners\n     */\n    anonymous: {\n      check: 'Boolean',\n      init: false\n    },\n\n    flavour: { check: 'String', init: '', nullable: true },\n    layout: { check: 'Object', nullable: true },\n    label: { check: 'String', init: '', nullable: true },\n    bindClickToWidget: { check: 'Boolean', init: false },\n    mapping: { check: 'String', nullable: true },\n    align: { check: 'String', nullable: true },\n    classes: { check: 'String', init: '', nullable: true },\n    style: { check: 'String', init: '' },\n    colspan: { check: 'Number', init: 6, transform: 'string2number' },\n    colspanM: { check: 'Number', init: 6, transform: 'string2number' },\n    colspanS: { check: 'Number', init: 6, transform: 'string2number' },\n    rowspanClass: { check: 'String', init: '' },\n    containerClass: { check: 'String', nullable: true },\n    visible: {\n      check: 'Boolean',\n      init: false,\n      event: 'changeVisible',\n      apply: '_applyVisible'\n    },\n\n    responsive: { check: 'Boolean', init: false }\n  },\n\n  /*\n  ******************************************************\n    EVENTS\n  ******************************************************\n  */\n  events: {\n    domReady: 'qx.event.type.Event'\n  },\n\n  /*\n  ******************************************************\n    MEMBERS\n  ******************************************************\n  */\n  members: {\n    $$domReady: null,\n    __pointerDownElement: null,\n    __pointerDownTime: null,\n    _skipNextEvent: null,\n    __longPressTimer: null,\n    __pointerDownPoint: null,\n\n    // property apply\n    _applyVisible(value, old) {},\n\n    getResponsiveLayout(width) {\n      if (!this.isResponsive()) {\n        return this.getLayout();\n      }\n      if (!width) {\n        width = cv.ui.structure.pure.layout.Manager.getAvailableWidth();\n      }\n      const layout = this.getLayout();\n      const suffix = cv.ui.structure.pure.layout.Manager.getLayoutSuffix(width);\n      if (suffix) {\n        const l = {};\n        ['x', 'y', 'width', 'scale'].forEach(function (prop) {\n          if (layout[prop]) {\n            // use default value\n            l[prop] = layout[prop];\n          }\n          if (layout[prop + suffix]) {\n            // override default value\n            l[prop] = layout[prop + suffix];\n          }\n        });\n        return l;\n      }\n      return layout;\n    },\n\n    /**\n     * Property transformaon helper\n     * @param value {String}\n     * @return {Number}\n     */\n    string2number(value) {\n      return parseFloat(value);\n    },\n\n    /**\n     * Default action for pointerdown events, does nothing but can be overridden\n     * by subclasses\n     * @param ev {Event} pointerdown event\n     */\n    downaction(ev) {},\n\n    /**\n     * Default action for tap events, does nothing but can be overridden\n     * by subclasses\n     * @param ev {Event} tap event\n     */\n    action(ev) {},\n\n    /**\n     * Triggered by the <code>setup.dom.finished</code> bus event\n     */\n    _onDomFinished() {\n      if (!this.isVisible()) {\n        this.addListenerOnce('changeVisible', this._onDomFinished, this);\n        return;\n      }\n      this._onDomReady();\n    },\n\n    /**\n     * Called when all widgets are available in the DOM tree\n     */\n    _onDomReady() {\n      if (!this.$$domReady) {\n        this.initListeners();\n        this.fireEvent('domReady');\n        this.$$domReady = true;\n      }\n    },\n\n    /**\n     * Return the widgets actor element\n     * @return {Element}\n     */\n    getActor() {\n      const elem = this.getDomElement();\n      if (elem) {\n        return elem.querySelector('.actor');\n      }\n      this.error('no dom element found for', this.get$$type(), this.getPath());\n      return null;\n    },\n\n    /**\n     * Return the widgets value element\n     * @return {Element}\n     */\n    getValueElement() {\n      const elem = this.getDomElement();\n      if (elem) {\n        return elem.querySelector('.value');\n      }\n      return null;\n    },\n\n    /**\n     * Return the widgets widget element\n     * @return {Element}\n     */\n    getWidgetElement() {\n      const elem = this.getDomElement();\n      if (elem) {\n        return elem.querySelector('.widget');\n      }\n      return null;\n    },\n\n    /**\n     * Return the element which should be used to attach listeners too.\n     * Unsually this would be the actor but if bindClickToWidget is true\n     * it would be the DomElement (aka widget-container)\n     * @return {Element}\n     */\n    getInteractionElement() {\n      return this.isBindClickToWidget() ? this.getDomElement() : this.getActor();\n    },\n\n    /**\n     * Initialize the widgets listeners\n     */\n    initListeners() {\n      this.addElementListener('tap', this.action, this);\n\n      // we need to listen to pointerdown to detect taps with\n      if (this.buttonPressed) {\n        this.addElementListener('pointerdown', this._onPointerDown, this);\n        this.addElementListener('contextmenu', this._cancelEvent, this);\n      }\n    },\n\n    _cancelEvent(ev) {\n      ev.preventDefault();\n      ev.stopPropagation();\n    },\n\n    _onPointerDown(ev) {\n      // listen to pointerup globally\n      this.__pointerDownElement = ev.getCurrentTarget();\n      this.__pointerDownTime = Date.now();\n      if (this.__longPressTimer) {\n        this.__longPressTimer.stop();\n        this.__longPressTimer = null;\n      }\n      qx.event.Registration.addListener(document, 'pointerup', this._onPointerUp, this);\n\n      if (\n        this._onLongTap &&\n        qx.Class.hasMixin(this.constructor, cv.ui.common.HandleLongpress) &&\n        !this.isSendLongOnRelease() &&\n        this.getShortThreshold() > 0\n      ) {\n        const clonedEv = ev.clone();\n        this.__longPressTimer = qx.event.Timer.once(\n          function () {\n            this._onLongTap(clonedEv);\n            this._skipNextEvent = 'tap';\n            this.__abort();\n          },\n          this,\n          this.getShortThreshold()\n        );\n\n        this.__pointerDownPoint = {\n          x: ev.getDocumentLeft(),\n          y: ev.getDocumentTop()\n        };\n\n        // also listen to move events to detect if the pointer is moved away from the widget (or scrolled)\n        qx.event.Registration.addListener(document, 'pointermove', this._onPointerMove, this);\n      }\n    },\n\n    __abort() {\n      qx.event.Registration.removeListener(document, 'pointerup', this._onPointerUp, this);\n\n      qx.event.Registration.removeListener(document, 'pointermove', this._onPointerMove, this);\n\n      this.__pointerDownTime = null;\n      this.__pointerDownPoint = null;\n      if (this.__longPressTimer) {\n        this.__longPressTimer.stop();\n        this.__longPressTimer = null;\n      }\n    },\n\n    _onPointerMove(ev) {\n      let upElement = ev.getTarget();\n      const distance = Math.max(\n        Math.abs(this.__pointerDownPoint.x - ev.getDocumentLeft()),\n        Math.abs(this.__pointerDownPoint.y - ev.getDocumentTop())\n      );\n\n      let abort = distance > 5;\n\n      if (!abort) {\n        while (upElement && upElement !== this.__pointerDownElement) {\n          upElement = upElement.parentNode;\n          if (upElement === this.getDomElement()) {\n            break;\n          }\n        }\n        abort = !upElement || upElement !== this.__pointerDownElement;\n      }\n      if (abort) {\n        this.__abort();\n      }\n    },\n\n    _onPointerUp(ev) {\n      if (this.__pointerDownTime === null) {\n        // ignore pointer ups when the pointerdown has not set a start time\n        return;\n      }\n      let upElement = ev.getTarget();\n      while (upElement && upElement !== this.__pointerDownElement) {\n        upElement = upElement.parentNode;\n        if (upElement === this.getDomElement()) {\n          break;\n        }\n      }\n      if (upElement && upElement === this.__pointerDownElement) {\n        this._skipNextEvent = 'tap';\n        // both events happened on the same element\n        ev.setCurrentTarget(upElement);\n        if (\n          this._onLongTap &&\n          qx.Class.hasMixin(this.constructor, cv.ui.common.HandleLongpress) &&\n          this.getShortThreshold() > 0 &&\n          Date.now() - this.__pointerDownTime >= this.getShortThreshold()\n        ) {\n          // this is a longpress\n          this._onLongTap(ev);\n        } else {\n          this.action(ev);\n        }\n      }\n      this.__abort();\n    },\n\n    /**\n     * Add a listener to the widgets interaction element\n     * @param type {String} event type to listen to\n     * @param callback {Function} called when the event occurs\n     * @param context {Object} this context for the callback\n     * @return {var} the listener id\n     */\n    addElementListener(type, callback, context) {\n      if (this.isAnonymous()) {\n        return null;\n      }\n      const widget = this.getInteractionElement();\n      if (widget) {\n        widget.dataset['longtapable'] = type !== 'longtap';\n        return qx.event.Registration.addListener(widget, type, callback, context);\n      }\n      return null;\n    },\n\n    /**\n     * Remove a listener from the widgets interaction element\n     * @param type {String} event type\n     * @param callback {Function}\n     * @param context {Object} this context\n     * @return {Boolean} Whether the event was removed..\n     */\n    removeElementListener(type, callback, context) {\n      if (this.isAnonymous()) {\n        return false;\n      }\n      const widget = this.getInteractionElement();\n      if (widget) {\n        return qx.event.Registration.removeListener(widget, type, callback, context);\n      }\n      return false;\n    },\n\n    /**\n     * Generates the DOM string for this widget\n     *\n     * @return {String} The widgets DOM representation as string\n     */\n    getDomString() {\n      return (\n        '<div class=\"' +\n        this.getClasses() +\n        '\" ' +\n        this.getStyle() +\n        '>' +\n        this.getLabel() +\n        this._getInnerDomString() +\n        '</div>'\n      );\n    },\n\n    /**\n     * Return the inner DOM string for this widget\n     * @return {String} HTML code as string\n     */\n    _getInnerDomString() {\n      return '';\n    }\n  },\n\n  /*\n  ******************************************************\n    DESTRUCTOR\n  ******************************************************\n  */\n  destruct() {\n    qx.event.Registration.removeListener(document, 'pointerup', this._onPointerUp, this);\n  }\n});\n"
  ],
  "mappings": "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"
}