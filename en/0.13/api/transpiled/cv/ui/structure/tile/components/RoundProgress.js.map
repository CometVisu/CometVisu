{
  "version": 3,
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "extend",
    "cv",
    "ui",
    "structure",
    "tile",
    "components",
    "AbstractComponent",
    "include",
    "MVisibility",
    "construct",
    "element",
    "addListener",
    "_applyVisible",
    "properties",
    "progress",
    "check",
    "apply",
    "text",
    "type",
    "init",
    "min",
    "max",
    "members",
    "__writeAddresses",
    "__circumference",
    "__start",
    "__normalizedRadius",
    "__radius",
    "__label",
    "__canvas",
    "__availableLabelWidth",
    "__defaultLabelFontSize",
    "_queuedFitText",
    "_init",
    "_element",
    "style",
    "document",
    "querySelector",
    "hasFixedRadius",
    "hasAttribute",
    "radius",
    "getAttribute",
    "parseInt",
    "getPropertyValue",
    "strokeWidth",
    "normalizedRadius",
    "Math",
    "PI",
    "isNaN",
    "setMin",
    "setMax",
    "setType",
    "getType",
    "height",
    "ns",
    "svg",
    "createElementNS",
    "setAttribute",
    "bg",
    "classList",
    "add",
    "stroke",
    "appendChild",
    "bar",
    "x",
    "y",
    "replaceChildren",
    "createElement",
    "event",
    "message",
    "Bus",
    "subscribe",
    "ev",
    "getData",
    "querySelectorAll",
    "forEach",
    "circle",
    "contains",
    "_applyProgress",
    "isPropertyInitialized",
    "getProgress",
    "__convert",
    "angle",
    "angleRad",
    "cos",
    "sin",
    "value",
    "isConnected",
    "valueElement",
    "end",
    "valueInRange",
    "getMin",
    "percent",
    "getMax",
    "join",
    "_fitText",
    "textContent",
    "isVisible",
    "__context",
    "getContext",
    "compStyle",
    "window",
    "getComputedStyle",
    "font",
    "metrics",
    "measureText",
    "width",
    "factor",
    "fontSize",
    "floor",
    "_applyText",
    "destruct",
    "defer",
    "QxClass",
    "customElements",
    "Controller",
    "PREFIX",
    "QxConnector",
    "RoundProgress"
  ],
  "sources": [
    "/home/runner/work/CometVisu/CometVisu/source/class/cv/ui/structure/tile/components/RoundProgress.js"
  ],
  "sourcesContent": [
    "/* RoundProgress.js\n *\n * copyright (c) 2010-2022, Christian Mayer and the CometVisu contributers.\n *\n * This program is free software; you can redistribute it and/or modify it\n * under the terms of the GNU General Public License as published by the Free\n * Software Foundation; either version 3 of the License, or (at your option)\n * any later version.\n *\n * This program is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for\n * more details.\n *\n * You should have received a copy of the GNU General Public License along\n * with this program; if not, write to the Free Software Foundation, Inc.,\n * 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA\n */\n\n/**\n * Shows a round progress bar (partially filled circle).\n * This component must be used inside a cv-value component, it is not meant to be used standalone.\n *\n * @author Tobias BrÃ¤utigam\n * @since 2022\n */\nqx.Class.define('cv.ui.structure.tile.components.RoundProgress', {\n  extend: cv.ui.structure.tile.components.AbstractComponent,\n  include: cv.ui.structure.tile.MVisibility,\n\n  /*\n  ***********************************************\n    CONSTRUCTOR\n  ***********************************************\n  */\n  construct(element) {\n    super(element);\n    this.addListener('changeVisible', this._applyVisible, this);\n  },\n\n  /*\n  ***********************************************\n    PROPERTIES\n  ***********************************************\n  */\n  properties: {\n    progress: {\n      check: 'Number',\n      apply: '_applyProgress'\n    },\n\n    text: {\n      check: 'String',\n      apply: '_applyText'\n    },\n\n    type: {\n      check: ['circle', 'semiCircle'],\n      init: 'circle'\n    },\n\n    min: {\n      check: 'Number',\n      init: 0\n    },\n\n    max: {\n      check: 'Number',\n      init: 100\n    }\n  },\n\n  /*\n  ***********************************************\n    MEMBERS\n  ***********************************************\n  */\n  members: {\n    __writeAddresses: null,\n    __circumference: null,\n    __start: null,\n    __normalizedRadius: null,\n    __radius: null,\n    __label: null,\n    __canvas: null,\n    __availableLabelWidth: null,\n    __defaultLabelFontSize: null,\n    _queuedFitText: null,\n\n    _init() {\n      super._init();\n      const element = this._element;\n      const style = document.querySelector(':root').style;\n      const hasFixedRadius = element.hasAttribute('radius');\n      const radius = (this.__radius =\n        element.getAttribute('radius') || parseInt(style.getPropertyValue('--tileCellWidth')) || 56);\n      const strokeWidth = element.getAttribute('stroke') || 8;\n      const normalizedRadius = (this.__normalizedRadius = radius - strokeWidth / 2);\n      this.__circumference = normalizedRadius * 2 * Math.PI;\n\n      if (element.hasAttribute('min')) {\n        const min = parseInt(element.getAttribute('min'));\n        if (!isNaN(min)) {\n          this.setMin(min);\n        }\n      }\n\n      if (element.hasAttribute('max')) {\n        const max = parseInt(element.getAttribute('max'));\n        if (!isNaN(max)) {\n          this.setMax(max);\n        }\n      }\n\n      if (element.hasAttribute('type')) {\n        this.setType(element.getAttribute('type'));\n      }\n      const type = this.getType();\n      let height = type === 'semiCircle' ? radius : radius * 2;\n      const ns = 'http://www.w3.org/2000/svg';\n      const svg = document.createElementNS(ns, 'svg');\n      svg.setAttribute('height', height);\n      svg.setAttribute('width', '' + (radius * 2));\n      svg.setAttribute('type', type);\n\n      if (type === 'circle') {\n        if (!element.hasAttribute('no-background')) {\n          const bg = document.createElementNS(ns, 'circle');\n          bg.classList.add('bg');\n          bg.setAttribute('r', '' +normalizedRadius);\n          bg.setAttribute('cx', '50%');\n          bg.setAttribute('cy', '50%');\n          bg.setAttribute('fill', 'transparent');\n          bg.setAttribute('stroke-width', strokeWidth);\n          if (element.hasAttribute('background-color')) {\n            bg.style.stroke = element.getAttribute('background-color');\n          }\n          svg.appendChild(bg);\n        }\n        const bar = document.createElementNS(ns, 'circle');\n        bar.classList.add('bar');\n        bar.setAttribute('r', '' +normalizedRadius);\n        bar.setAttribute('cx', '50%');\n        bar.setAttribute('cy', '50%');\n        bar.setAttribute('stroke-width', strokeWidth);\n        bar.setAttribute('stroke-dasharray', `${this.__circumference} ${this.__circumference}`);\n        bar.setAttribute('stroke-dashoffset', this.__circumference);\n        if (element.hasAttribute('foreground-color')) {\n          bar.style.stroke = element.getAttribute('foreground-color');\n        }\n        svg.appendChild(bar);\n      } else if (type === 'semiCircle') {\n        if (!element.hasAttribute('no-background')) {\n          const bg = document.createElementNS(ns, 'path');\n          bg.classList.add('bg');\n          bg.setAttribute('d', `M ${strokeWidth / 2} ${radius} A ${normalizedRadius} ${normalizedRadius} 0 0 1 ${\n            radius * 2 - strokeWidth / 2\n          } ${radius}`);\n          bg.setAttribute('fill', 'transparent');\n          bg.setAttribute('stroke-width', strokeWidth);\n          if (element.hasAttribute('background-color')) {\n            bg.style.stroke = element.getAttribute('background-color');\n          }\n          svg.appendChild(bg);\n        }\n        this.__start = {\n          x: strokeWidth / 2,\n          y: radius\n        };\n        const bar = document.createElementNS(ns, 'path');\n        bar.classList.add('bar');\n        bar.setAttribute('d', `M ${strokeWidth / 2} ${radius} A ${normalizedRadius} ${normalizedRadius} 0 0 0 ${\n          strokeWidth / 2\n        } ${radius}`);\n        bar.setAttribute('fill', 'transparent');\n        bar.setAttribute('stroke-width', strokeWidth);\n        if (element.hasAttribute('foreground-color')) {\n          bar.style.stroke = element.getAttribute('foreground-color');\n        }\n        svg.appendChild(bar);\n      }\n      element.replaceChildren(svg, document.createElement('label'));\n\n      this.__availableLabelWidth = radius * 2 - strokeWidth * 2 - 24;\n\n      if (!hasFixedRadius) {\n        qx.event.message.Bus.subscribe('cv.design.tile.cellWidthChanged', ev => {\n          this.__radius = ev.getData();\n          this.__normalizedRadius = this.__radius - strokeWidth / 2;\n          this.__circumference = this.__normalizedRadius * 2 * Math.PI;\n          height = type === 'semiCircle' ? this.__radius : this.__radius * 2;\n          const svg = element.querySelector(':scope > svg');\n          svg.setAttribute('height', '' + height);\n          svg.setAttribute('width', '' + this.__radius * 2);\n          if (type === 'circle') {\n            this._element.querySelectorAll(':scope > svg > circle').forEach(circle => {\n              circle.setAttribute('r', '' + this.__normalizedRadius);\n              if (circle.classList.contains('bar')) {\n                circle.setAttribute('stroke-dasharray', this.__circumference + ' ' + this.__circumference);\n\n                circle.setAttribute('stroke-dashoffset', '' + this.__circumference);\n              }\n            });\n          } else if (type === 'semiCircle') {\n            this.__start.y = this.__radius;\n            const bg = this._element.querySelector(':scope > svg > path.bg');\n            if (bg) {\n              bg.setAttribute(\n                'd',\n                `M ${strokeWidth / 2} ${this.__radius} A ${this.__normalizedRadius} ${this.__normalizedRadius} 0 0 1 ${\n                  this.__radius * 2 - strokeWidth / 2\n                } ${this.__radius}`\n              );\n            }\n          }\n          this._applyProgress(this.isPropertyInitialized('progress') ? this.getProgress() : 0);\n        });\n      }\n    },\n\n    __convert(angle) {\n      const angleRad = angle * (Math.PI / 180.0);\n      return {\n        x: this.__radius - this.__normalizedRadius * Math.cos(angleRad),\n        y: this.__radius - this.__normalizedRadius * Math.sin(angleRad)\n      };\n    },\n\n    _applyProgress(value) {\n      if (this.isConnected()) {\n        let valueElement;\n        let end;\n        let valueInRange = value - this.getMin();\n        let percent = Math.max(0, Math.min(100, (100 / (this.getMax() - this.getMin())) * valueInRange));\n\n        switch (this.getType()) {\n          case 'circle':\n            valueElement = this._element.querySelector(':scope > svg > circle.bar');\n\n            valueElement.setAttribute(\n              'stroke-dashoffset',\n              '' + this.__circumference - (percent / 100) * this.__circumference\n            );\n\n            break;\n\n          case 'semiCircle':\n            valueElement = this._element.querySelector(':scope > svg > path.bar');\n\n            end = this.__convert((180 / 100) * percent);\n            valueElement.setAttribute(\n              'd',\n              [\n                'M',\n                this.__start.x,\n                this.__start.y,\n                'A',\n                this.__normalizedRadius,\n                this.__normalizedRadius,\n                0,\n                0,\n                1,\n                end.x,\n                end.y\n              ].join(' ')\n            );\n\n            break;\n        }\n      }\n    },\n\n    _fitText() {\n      if (this.__label && this.__label.textContent) {\n        if (this.isVisible()) {\n          if (!this.__canvas) {\n            this.__canvas = document.createElement('canvas');\n            this.__context = this.__canvas.getContext('2d');\n            const compStyle = window.getComputedStyle(this.__label);\n            this.__context.font = compStyle.getPropertyValue('font');\n            this.__defaultLabelFontSize = compStyle.getPropertyValue('font-size');\n          }\n          const metrics = this.__context.measureText(this.__label.textContent);\n          if (metrics.width > this.__availableLabelWidth) {\n            // adjust font-size\n            const factor = this.__availableLabelWidth / metrics.width;\n            this.__label.style.fontSize = Math.floor(parseInt(this.__defaultLabelFontSize) * factor) + 'px';\n          } else {\n            this.__label.style.fontSize = this.__defaultLabelFontSize;\n          }\n          this._queuedFitText = false;\n        } else {\n          this._queuedFitText = true;\n        }\n      }\n    },\n\n    _applyVisible(ev) {\n      if (ev.getData() && this._queuedFitText) {\n        this._fitText();\n      }\n    },\n\n    _applyText(value) {\n      if (this.isConnected()) {\n        if (!this.__label) {\n          this.__label = this._element.querySelector(':scope > label');\n        }\n        this.__label.textContent = value;\n        if (!value) {\n          // empty text, just reset to default font size\n          if (this.__defaultLabelFontSize) {\n            this.__label.style.fontSize = this.__defaultLabelFontSize;\n          }\n        } else {\n          this._fitText();\n        }\n      }\n    }\n  },\n\n  /*\n  ***********************************************\n    DESTRUCTOR\n  ***********************************************\n  */\n  destruct() {\n    this.__label = null;\n  },\n\n  defer(QxClass) {\n    customElements.define(\n      cv.ui.structure.tile.Controller.PREFIX + 'round-progress',\n      class extends QxConnector {\n        constructor() {\n          super(QxClass);\n        }\n      }\n    );\n  }\n});\n"
  ],
  "mappings": "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"
}