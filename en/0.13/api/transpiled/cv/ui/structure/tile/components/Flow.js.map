{
  "version": 3,
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "extend",
    "cv",
    "ui",
    "structure",
    "tile",
    "components",
    "AbstractComponent",
    "include",
    "svg",
    "MSvgGrid",
    "MResize",
    "MStringTransforms",
    "MFullscreen",
    "properties",
    "pan",
    "check",
    "init",
    "transform",
    "apply",
    "pagination",
    "centerX",
    "centerY",
    "fullscreenViewBox",
    "nullable",
    "event",
    "members",
    "SVG",
    "_dragPoint",
    "_startPoint",
    "_expiredTouchStart",
    "_viewBoxBinding",
    "getSvg",
    "document",
    "createElementNS",
    "_element",
    "appendChild",
    "_init",
    "_this",
    "Flow",
    "superclass",
    "prototype",
    "call",
    "setResizeTarget",
    "addListener",
    "_updateDimensions",
    "_i",
    "_arr",
    "length",
    "layoutEvent",
    "_updateCellSize",
    "title",
    "getHeader",
    "element",
    "hasAttribute",
    "createElement",
    "classList",
    "add",
    "span",
    "textContent",
    "getAttribute",
    "appendToHeader",
    "_initFullscreenSwitch",
    "ev",
    "getData",
    "bind",
    "removeBinding",
    "setViewBox",
    "resetViewBox",
    "_updateViewBox",
    "getPan",
    "_applyPan",
    "_applyPagination",
    "getPagination",
    "querySelectorAll",
    "house",
    "querySelector",
    "remove",
    "_applyCenterX",
    "value",
    "__applyCenter",
    "getRows",
    "_applyCenterY",
    "getColumns",
    "__P_79_0",
    "selector",
    "total",
    "skip",
    "push",
    "Math",
    "floor",
    "i",
    "includes",
    "__adjustRow",
    "concat",
    "__adjustColumn",
    "__P_79_1",
    "rowElements",
    "setAttribute",
    "sorted",
    "Array",
    "from",
    "sort",
    "a",
    "b",
    "parseFloat",
    "__P_79_2",
    "columnElements",
    "_drag",
    "preventDefault",
    "stopImmediatePropagation",
    "CTM",
    "getScreenCTM",
    "inverse",
    "x",
    "clientX",
    "y",
    "clientY",
    "matrixTransform",
    "viewBox",
    "baseVal",
    "_cancelEvent",
    "_startDrag",
    "drag",
    "addEventListener",
    "_endDrag",
    "removeEventListener",
    "_touchStart",
    "touches",
    "timeStamp",
    "resetDrag",
    "draggable",
    "createSVGPoint",
    "startDrag",
    "endDrag",
    "touchStart",
    "showH",
    "showV",
    "addButtons",
    "removeButtons",
    "_i2",
    "_addButtons",
    "dir",
    "button",
    "_i3",
    "_removeButtons",
    "_updatePaginationButtons",
    "_enablePaginationButton",
    "enabled",
    "callback",
    "_paginateLeft",
    "_paginateRight",
    "_paginateTop",
    "_paginateBottom",
    "Registration",
    "contains",
    "removeListener",
    "_this$getViewBox$spli",
    "getViewBox",
    "split",
    "map",
    "v",
    "parseInt",
    "_this$getViewBox$spli2",
    "_slicedToArray",
    "column",
    "row",
    "width",
    "height",
    "_i4",
    "_arr2",
    "_paginate",
    "direction",
    "_this$getViewBox$spli3",
    "_this$getViewBox$spli4",
    "_this2",
    "isFullscreen",
    "minSize",
    "min",
    "screen",
    "availHeight",
    "availWidth",
    "setOuterPadding",
    "setSpacing",
    "bbox",
    "getBBox",
    "max",
    "_tileElement",
    "style",
    "resetOuterPadding",
    "resetSpacing",
    "window",
    "requestAnimationFrame",
    "parts",
    "totalOuterPadding",
    "getOuterPadding",
    "getCellWidth",
    "getSpacing",
    "getCellHeight",
    "heightDiff",
    "removeAttribute",
    "_typeof",
    "d3",
    "select",
    "transition",
    "duration",
    "attr",
    "clientWidth",
    "clientHeight",
    "visibleColumns",
    "visibleRows",
    "box",
    "padding",
    "spacing",
    "cellWidth",
    "cellHeight",
    "debug",
    "changed",
    "setCellWidth",
    "setCellHeight",
    "_stringToBool",
    "undefined",
    "defer",
    "QxClass",
    "_class",
    "customElements",
    "Controller",
    "PREFIX",
    "_QxConnector",
    "_inherits",
    "_super",
    "_createSuper",
    "_classCallCheck",
    "_createClass",
    "QxConnector",
    "_defineProperty"
  ],
  "sources": [
    "/home/runner/work/CometVisu/CometVisu/source/class/cv/ui/structure/tile/components/Flow.js"
  ],
  "sourcesContent": [
    "/*\n * Copyright (c) 2023, Christian Mayer and the CometVisu contributors.\n *\n * This program is free software; you can redistribute it and/or modify it\n * under the terms of the GNU General Public License as published by the Free\n * Software Foundation; either version 3 of the License, or (at your option)\n * any later version.\n *\n * This program is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for\n * more details.\n *\n * You should have received a copy of the GNU General Public License along\n * with this program; if not, write to the Free Software Foundation, Inc.,\n * 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA\n *\n */\n\n/**\n * Flow management widget.\n *\n * @author Tobias BrÃ¤utigam\n * @since 2023\n *\n * @ignore(d3.select)\n * @ignore(screen)\n */\nqx.Class.define('cv.ui.structure.tile.components.Flow', {\n  extend: cv.ui.structure.tile.components.AbstractComponent,\n  include: [\n    cv.ui.structure.tile.components.svg.MSvgGrid,\n    cv.ui.structure.tile.MResize,\n    cv.ui.structure.tile.MStringTransforms,\n    cv.ui.structure.tile.MFullscreen\n  ],\n\n  /*\n  ***********************************************\n    PROPERTIES\n  ***********************************************\n  */\n  properties: {\n    pan: {\n      check: 'Boolean',\n      init: false,\n      transform: '_stringToBool',\n      apply: '_applyPan'\n    },\n\n    pagination: {\n      check: ['none', 'horizontal', 'vertical', 'both'],\n      init: 'none',\n      apply: '_applyPagination'\n    },\n\n    centerX: {\n      check: 'Boolean',\n      init: false,\n      apply: '_applyCenterX',\n      transform: '_parseBoolean'\n    },\n\n    centerY: {\n      check: 'Boolean',\n      init: false,\n      apply: '_applyCenterY',\n      transform: '_parseBoolean'\n    },\n\n    fullscreenViewBox: {\n      check: 'String',\n      nullable: true,\n      event: 'changeFullscreenViewBox'\n    }\n  },\n\n  /*\n  ***********************************************\n    MEMBERS\n  ***********************************************\n  */\n  members: {\n    SVG: null,\n    _dragPoint: null,\n    _startPoint: null,\n    _expiredTouchStart: null,\n    _viewBoxBinding: null,\n\n    getSvg() {\n      if (!this.SVG) {\n        this.SVG = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n        this._element.appendChild(this.SVG);\n      }\n      return this.SVG;\n    },\n\n    _init() {\n      super._init();\n      this.getSvg();\n\n      this.setResizeTarget(this._element);\n      this.addListener('resized', this._updateDimensions, this);\n      for (const layoutEvent of ['changeRows', 'changeColumns', 'changeOuterPadding', 'changeSpacing']) {\n        this.addListener(layoutEvent, this._updateCellSize, this);\n      }\n\n      let title = this.getHeader('label.title');\n      const element = this._element;\n      if (element.hasAttribute('title') && !title) {\n        title = document.createElement('label');\n        title.classList.add('title');\n        let span = document.createElement('span');\n        title.appendChild(span);\n        span.textContent = element.getAttribute('title');\n        this.appendToHeader(title);\n      }\n\n      if (element.hasAttribute('allow-fullscreen') && element.getAttribute('allow-fullscreen') === 'true') {\n        this._initFullscreenSwitch();\n        this.addListener('changeFullscreen', ev => {\n          if (ev.getData()) {\n            if (!this._viewBoxBinding) {\n              this._viewBoxBinding = this.bind('fullscreenViewBox', this, 'viewBox');\n            }\n          } else if (this._viewBoxBinding) {\n            this.removeBinding(this._viewBoxBinding);\n            this._viewBoxBinding = null;\n\n            // restore old value\n            if (this._element.hasAttribute('view-box')) {\n              this.setViewBox(this._element.getAttribute('view-box'));\n            } else {\n              this.resetViewBox();\n            }\n          }\n          this._updateDimensions();\n        });\n      }\n\n      this.addListener('changeViewBox', this._updateViewBox, this);\n      this._updateViewBox();\n      if (this.getPan()) {\n        this._applyPan(true);\n      }\n      this._applyPagination(this.getPagination());\n\n      if (element.querySelectorAll(':scope > cv-power-entity:not([type=\"house\"]), :scope > cv-svg-round-value').length === 0) {\n        // remove the house\n        const house = element.querySelector(':scope > cv-power-entity[type=\"house\"]');\n        if (house) {\n          house.remove();\n        }\n      }\n    },\n\n    _applyCenterX(value) {\n      if (value) {\n        this.__applyCenter('row', this.getRows());\n      }\n    },\n\n    _applyCenterY(value) {\n      if (value) {\n        this.__applyCenter('column', this.getColumns());\n      }\n    },\n\n    __applyCenter(selector, total) {\n      // do not center the middle one(s)\n      let skip = [];\n      if (total > 2) {\n        if (total % 2 > 0) {\n          skip.push(Math.floor(total / 2));\n        } else {\n          skip.push((total / 2) - 1);\n          skip.push(total / 2);\n        }\n      }\n      for (let i = 0; i < total; i++) {\n        if (!skip.includes(i)) {\n          if (selector === 'row') {\n            this.__adjustRow(this._element.querySelectorAll(`:scope > *[row=\"${i}\"]`));\n          } else {\n            this.__adjustColumn(this._element.querySelectorAll(`:scope > *[column=\"${i}\"]`));\n          }\n        }\n      }\n    },\n\n    __adjustRow(rowElements) {\n      if (rowElements.length === 1) {\n        rowElements[0].setAttribute('column', '1');\n      } else if (rowElements.length === 2) {\n        const sorted = Array.from(rowElements);\n        sorted.sort((a, b) => parseFloat(a.getAttribute('column')) - parseFloat(b.getAttribute('column')));\n        sorted[0].setAttribute('column', '0.5');\n        sorted[1].setAttribute('column', '1.5');\n      }\n    },\n\n    __adjustColumn(columnElements) {\n      if (columnElements.length === 1) {\n        columnElements[0].setAttribute('row', '1');\n      } else if (columnElements.length === 2) {\n        const sorted = Array.from(columnElements);\n        sorted.sort((a, b) => parseFloat(a.getAttribute('row')) - parseFloat(b.getAttribute('row')));\n        sorted[0].setAttribute('row', '0.5');\n        sorted[1].setAttribute('row', '1.5');\n      }\n    },\n\n    _drag(ev) {\n      ev.preventDefault();\n      ev.stopImmediatePropagation();\n      const CTM = this.SVG.getScreenCTM().inverse();\n      this._dragPoint.x = ev.clientX;\n      this._dragPoint.y = ev.clientY;\n      this._dragPoint = this._dragPoint.matrixTransform(CTM);\n      this.SVG.viewBox.baseVal.x -= this._dragPoint.x - this._startPoint.x;\n      this.SVG.viewBox.baseVal.y -= this._dragPoint.y - this._startPoint.y;\n    },\n\n    _cancelEvent(ev) {\n      ev.preventDefault();\n      ev.stopImmediatePropagation();\n    },\n\n    _startDrag(ev) {\n      if (typeof this.drag !== 'function') {\n        this.drag = this._drag.bind(this);\n      }\n      this._element.addEventListener('pointermove', this.drag);\n      this._element.addEventListener('touchmove', this._cancelEvent);\n\n      const CTM = this.SVG.getScreenCTM().inverse();\n      this._dragPoint.x = ev.clientX;\n      this._dragPoint.y = ev.clientY;\n      this._startPoint = this._dragPoint.matrixTransform(CTM);\n    },\n\n    _endDrag(ev) {\n      this._element.removeEventListener('pointermove', this.drag);\n      this._element.removeEventListener('touchmove', this._cancelEvent);\n    },\n\n    _touchStart(ev) {\n      if (ev.touches.length === 1) {\n        if (!this._expiredTouchStart) {\n          this._expiredTouchStart = ev.timeStamp + 400;\n        } else if (ev.timeStamp <= this._expiredTouchStart) {\n          // remove the default of this event ( Zoom )\n          //ev.preventDefault()\n          this.resetDrag();\n          // then reset the variable for other \"double Touches\" event\n          this._expiredTouchStart = null;\n        } else {\n          // if the second touch was expired, make it as it's the first\n          this._expiredTouchStart = ev.timeStamp + 400;\n        }\n      }\n      ev.preventDefault();\n    },\n\n    _applyPan(draggable) {\n      if (this.SVG) {\n        if (draggable) {\n          this._dragPoint = this.SVG.createSVGPoint();\n\n          if (typeof this.startDrag !== 'function') {\n            this.startDrag = this._startDrag.bind(this);\n          }\n          if (typeof this.endDrag !== 'function') {\n            this.endDrag = this._endDrag.bind(this);\n          }\n          if (typeof this.resetDrag !== 'function') {\n            this.resetDrag = this._updateViewBox.bind(this);\n          }\n          if (typeof this.touchStart !== 'function') {\n            this.touchStart = this._touchStart.bind(this);\n          }\n\n          this._element.addEventListener('pointerdown', this.startDrag);\n          this._element.addEventListener('pointerup', this.endDrag);\n          this._element.addEventListener('pointerleave', this.endDrag);\n          this._element.addEventListener('pointercancel', this.endDrag);\n          this._element.addEventListener('dblclick', this.resetDrag);\n          this._element.addEventListener('touchstart', this.touchStart);\n        } else {\n          this._element.removeEventListener('pointerdown', this.startDrag);\n          this._element.removeEventListener('pointerup', this.endDrag);\n          this._element.removeEventListener('pointerleave', this.endDrag);\n          this._element.removeEventListener('pointercancel', this.endDrag);\n          this._element.removeEventListener('dblclick', this.resetDrag);\n          this._element.removeEventListener('touchstart', this.touchStart);\n        }\n      }\n    },\n\n    _applyPagination(value) {\n      const showH = value === 'both' || value === 'horizontal';\n      const showV = value === 'both' || value === 'vertical';\n      const addButtons = [];\n      const removeButtons = [];\n      if (showH) {\n        addButtons.push('left');\n        addButtons.push('right');\n      } else {\n        removeButtons.push('left');\n        removeButtons.push('right');\n      }\n      if (showV) {\n        addButtons.push('top');\n        addButtons.push('bottom');\n      } else {\n        removeButtons.push('top');\n        removeButtons.push('bottom');\n      }\n      for (const dir of addButtons) {\n        let button = this._element.querySelector(`div.pagination.${dir}`);\n        if (!button) {\n          button = document.createElement('div');\n          button.classList.add('pagination', dir);\n          this._element.appendChild(button);\n        }\n      }\n\n      for (const dir of removeButtons) {\n        let button = this._element.querySelector(`div.pagination.${dir}`);\n        if (button) {\n          button.remove();\n        }\n      }\n\n      this._updatePaginationButtons();\n    },\n\n    _enablePaginationButton(button, dir, enabled) {\n      let callback;\n      switch (dir) {\n        case 'left':\n          callback = this._paginateLeft;\n          break;\n\n        case 'right':\n          callback = this._paginateRight;\n          break;\n\n        case 'top':\n          callback = this._paginateTop;\n          break;\n\n        case 'bottom':\n          callback = this._paginateBottom;\n          break;\n      }\n      if (enabled) {\n        button.classList.add('clickable');\n        qx.event.Registration.addListener(button, 'tap', callback, this);\n      } else {\n        if (button.classList.contains('clickable')) {\n          button.classList.remove('clickable');\n        }\n        qx.event.Registration.removeListener(button, 'tap', callback, this);\n      }\n    },\n\n    _updatePaginationButtons() {\n      let [column, row, width, height] = this.getViewBox().split(' ').map(v => parseInt(v));\n      for (const dir of ['top', 'bottom', 'left', 'right']) {\n        const button = this._element.querySelector(`div.pagination.${dir}`);\n        if (!button) {\n          continue;\n        }\n        switch (dir) {\n          case 'left':\n            this._enablePaginationButton(button, dir, column - width >= 0);\n            break;\n\n          case 'right':\n            this._enablePaginationButton(button, dir, column+width < this.getColumns());\n            break;\n\n          case 'top':\n            this._enablePaginationButton(button, dir, row - height >= 0);\n            break;\n\n          case 'bottom':\n            this._enablePaginationButton(button, dir, row + height < this.getRows());\n            break;\n        }\n      }\n    },\n\n    _paginateLeft() {\n      this._paginate('left');\n    },\n\n    _paginateRight() {\n      this._paginate('right');\n    },\n\n    _paginateTop() {\n      this._paginate('top');\n    },\n\n    _paginateBottom() {\n      this._paginate('bottom');\n    },\n\n    _paginate(direction) {\n      let [column, row, width, height] = this.getViewBox().split(' ').map(v => parseInt(v));\n      switch (direction) {\n        case 'left':\n          if (column - width >= 0) {\n            column -= width;\n          }\n          break;\n\n        case 'right':\n          if (column+width < this.getColumns()) {\n            column += width;\n          }\n          break;\n\n        case 'top':\n          if (row - height >= 0) {\n            row -= height;\n          }\n          break;\n\n        case 'bottom':\n          if (row + height < this.getRows()) {\n            row += height;\n          }\n      }\n      this._element.setAttribute('view-box', `${column} ${row} ${width} ${height}`);\n    },\n\n    _updateDimensions() {\n      const isFullscreen = this.isFullscreen();\n      if (isFullscreen) {\n        const minSize = Math.min(screen.availHeight, screen.availWidth);\n        if (minSize > 600) {\n          this.setOuterPadding(16);\n          this.setSpacing(32);\n        } else if (minSize >= 400) {\n          this.setOuterPadding(16);\n          this.setSpacing(26);\n        }\n        // set fixed height\n        let height = 0;\n        if (screen.availHeight > screen.availWidth) {\n          const bbox = this.SVG.getBBox();\n          height = Math.min(screen.availHeight, Math.max(bbox.height, this.getRows() * 100));\n        } else {\n          height = screen.availHeight;\n        }\n        if (this._tileElement) {\n          this._tileElement.style.height = `${height}px`;\n        }\n      } else {\n        if (this._tileElement) {\n          this._tileElement.style.height = 'unset';\n        }\n        if (this._element.hasAttribute('outer-padding')) {\n          this.setOuterPadding(this._element.getAttribute('outer-padding'));\n        } else {\n          this.resetOuterPadding();\n        }\n        if (this._element.hasAttribute('spacing')) {\n          this.setSpacing(this._element.getAttribute('spacing'));\n        } else {\n          this.resetSpacing();\n        }\n      }\n\n      window.requestAnimationFrame(() => this._updateCellSize());\n    },\n\n    _updateViewBox() {\n      const viewBox = this.getViewBox();\n      if (viewBox) {\n        const parts = viewBox.split(' ').map(v => parseInt(v));\n        if (parts.length === 4) {\n          this._updatePaginationButtons();\n          const totalOuterPadding = this.getOuterPadding() * 2;\n          const x = this.getCellWidth() * parts[0] + (parts[0] > 1 ? (parts[0]-1) * this.getSpacing() : 0);\n          const y = this.getCellHeight() * parts[1] + (parts[1] > 1 ? (parts[1]-1) * this.getSpacing() : 0);\n          const width = totalOuterPadding + this.getCellWidth() * parts[2] + (parts[2] > 1 ? (parts[2]-1) * this.getSpacing() : 0);\n          const height = totalOuterPadding + this.getCellHeight() * parts[3] + (parts[3] > 1 ? (parts[3]-1) * this.getSpacing() : 0);\n\n          // center only vertically because width is always fully used\n          const bbox = this.SVG.getBBox();\n          const heightDiff = height - totalOuterPadding - bbox.y - bbox.height;\n          if (heightDiff > 0) {\n            this.SVG.setAttribute('transform', `translate(0, ${heightDiff/2})`);\n          } else {\n            this.SVG.removeAttribute('transform');\n          }\n\n          if (typeof window.d3 === 'object') {\n            const svg = d3.select(this._element).select('svg');\n            svg.transition()\n              .duration(500)\n              .attr('viewBox', `${x} ${y} ${width} ${height}`);\n          } else {\n            this.SVG.setAttribute('viewBox', `${x} ${y} ${width} ${height}`);\n          }\n        }\n      } else {\n        this.SVG.removeAttribute('viewBox');\n      }\n    },\n\n    _updateCellSize() {\n      if (this._element.clientWidth === 0 || this._element.clientHeight === 0) {\n        return;\n      }\n      let visibleColumns = this.getColumns();\n      let visibleRows = this.getRows();\n      const viewBox = this.getViewBox();\n      if (viewBox) {\n        const box = viewBox.split(' ').map(v => parseInt(v));\n        visibleColumns = box[2];\n        visibleRows = box[3];\n      }\n      const padding = this.getOuterPadding() * 2;\n      const spacing = this.getSpacing() / 2;\n      const cellWidth = Math.floor((this._element.clientWidth - padding) / visibleColumns - spacing);\n      const cellHeight = Math.floor((this._element.clientHeight - padding) / visibleRows - spacing);\n      this.debug('cellWidth', cellWidth, 'cellHeight', cellHeight);\n      const changed = this.getCellWidth() !== cellWidth || this.getCellHeight() !== cellHeight;\n      this.setCellWidth(cellWidth);\n      this.setCellHeight(cellHeight);\n      if (changed) {\n        this._updateViewBox();\n      }\n    },\n\n    _stringToBool(value) {\n      if (typeof value === 'string') {\n        return value === 'true';\n      } else if (value === null || value === undefined) {\n        return false;\n      }\n      return value;\n    }\n  },\n\n  defer(QxClass) {\n    customElements.define(\n      cv.ui.structure.tile.Controller.PREFIX + 'flow',\n      class extends QxConnector {\n        // @ignore\n        static observedAttributes = ['view-box', 'fullscreen-view-box', 'pan', 'rows', 'columns', 'cell-width', 'cell-height', 'outer-padding', 'spacing', 'pagination', 'center-x', 'center-y'];\n        constructor() {\n          super(QxClass);\n        }\n      }\n    );\n  }\n});\n"
  ],
  "mappings": "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"
}