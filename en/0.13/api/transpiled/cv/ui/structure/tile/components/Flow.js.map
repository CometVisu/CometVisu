{
  "version": 3,
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "extend",
    "cv",
    "ui",
    "structure",
    "tile",
    "components",
    "AbstractComponent",
    "include",
    "svg",
    "MSvgGrid",
    "MResize",
    "MStringTransforms",
    "MFullscreen",
    "properties",
    "pan",
    "check",
    "init",
    "transform",
    "apply",
    "pagination",
    "centerX",
    "centerY",
    "fullscreenViewBox",
    "nullable",
    "event",
    "members",
    "SVG",
    "_dragPoint",
    "_startPoint",
    "_expiredTouchStart",
    "_viewBoxBinding",
    "_lastBBox",
    "_additionalViewBoxUpdate",
    "_ready",
    "getSvg",
    "document",
    "createElementNS",
    "_element",
    "appendChild",
    "_init",
    "_this",
    "Flow",
    "superclass",
    "prototype",
    "call",
    "setResizeTarget",
    "_observer",
    "observe",
    "addListener",
    "_updateDimensions",
    "_i",
    "_arr",
    "length",
    "layoutEvent",
    "_updateCellSize",
    "title",
    "getHeader",
    "element",
    "hasAttribute",
    "createElement",
    "classList",
    "add",
    "span",
    "textContent",
    "getAttribute",
    "appendToHeader",
    "_initFullscreenSwitch",
    "ev",
    "getData",
    "getFullscreenViewBox",
    "bind",
    "removeBinding",
    "setViewBox",
    "resetViewBox",
    "_updateViewBox",
    "window",
    "requestAnimationFrame",
    "getPan",
    "_applyPan",
    "_applyPagination",
    "getPagination",
    "querySelectorAll",
    "house",
    "querySelector",
    "remove",
    "setTimeout",
    "_center",
    "_applyCenterX",
    "value",
    "__applyCenter",
    "getRows",
    "_applyCenterY",
    "getColumns",
    "selector",
    "total",
    "skip",
    "push",
    "Math",
    "floor",
    "i",
    "includes",
    "__adjustRow",
    "concat",
    "__adjustColumn",
    "rowElements",
    "setAttribute",
    "sorted",
    "Array",
    "from",
    "sort",
    "a",
    "b",
    "parseFloat",
    "columnElements",
    "_drag",
    "preventDefault",
    "stopImmediatePropagation",
    "CTM",
    "getScreenCTM",
    "inverse",
    "x",
    "clientX",
    "y",
    "clientY",
    "matrixTransform",
    "viewBox",
    "baseVal",
    "_cancelEvent",
    "_startDrag",
    "drag",
    "addEventListener",
    "_endDrag",
    "removeEventListener",
    "_touchStart",
    "touches",
    "timeStamp",
    "resetDrag",
    "draggable",
    "createSVGPoint",
    "startDrag",
    "endDrag",
    "touchStart",
    "showH",
    "showV",
    "addButtons",
    "removeButtons",
    "_i2",
    "_addButtons",
    "dir",
    "button",
    "_i3",
    "_removeButtons",
    "_updatePaginationButtons",
    "_enablePaginationButton",
    "enabled",
    "callback",
    "_paginateLeft",
    "_paginateRight",
    "_paginateTop",
    "_paginateBottom",
    "Registration",
    "contains",
    "removeListener",
    "_this$getViewBox$spli",
    "getViewBox",
    "split",
    "map",
    "v",
    "parseInt",
    "_this$getViewBox$spli2",
    "_slicedToArray",
    "column",
    "row",
    "width",
    "height",
    "_i4",
    "_arr2",
    "_paginate",
    "direction",
    "_this$getViewBox$spli3",
    "_this$getViewBox$spli4",
    "_this2",
    "entry",
    "contentBoxSize",
    "target",
    "SVGElement",
    "contentRect",
    "isFullscreen",
    "minSize",
    "min",
    "screen",
    "availHeight",
    "availWidth",
    "setOuterPadding",
    "setSpacing",
    "bbox",
    "getBBox",
    "max",
    "_tileElement",
    "style",
    "resetOuterPadding",
    "resetSpacing",
    "_this3",
    "parts",
    "totalOuterPadding",
    "getOuterPadding",
    "getCellWidth",
    "getSpacing",
    "getCellHeight",
    "_typeof",
    "d3",
    "select",
    "transition",
    "duration",
    "attr",
    "removeAttribute",
    "_this4",
    "visibleColumns",
    "visibleRows",
    "gridViewBox",
    "firstColumn",
    "lastColumn",
    "firstRow",
    "lastRow",
    "gridParts",
    "s",
    "usedColumns",
    "usedRows",
    "col",
    "_iterator",
    "_createForOfIteratorHelper",
    "_step",
    "n",
    "done",
    "elem",
    "err",
    "e",
    "f",
    "_iterator2",
    "_step2",
    "visibleWidth",
    "visibleHeight",
    "heightDiff",
    "widthDiff",
    "_this5",
    "clientWidth",
    "clientHeight",
    "box",
    "padding",
    "spacing",
    "cellWidth",
    "cellHeight",
    "debug",
    "changed",
    "setCellWidth",
    "setCellHeight",
    "_stringToBool",
    "undefined",
    "defer",
    "QxClass",
    "_Class",
    "customElements",
    "Controller",
    "PREFIX",
    "_QxConnector",
    "_classCallCheck",
    "_callSuper",
    "_inherits",
    "_createClass",
    "QxConnector",
    "_defineProperty"
  ],
  "sources": [
    "/home/runner/work/CometVisu/CometVisu/source/class/cv/ui/structure/tile/components/Flow.js"
  ],
  "sourcesContent": [
    "/*\n * Copyright (c) 2023, Christian Mayer and the CometVisu contributors.\n *\n * This program is free software; you can redistribute it and/or modify it\n * under the terms of the GNU General Public License as published by the Free\n * Software Foundation; either version 3 of the License, or (at your option)\n * any later version.\n *\n * This program is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for\n * more details.\n *\n * You should have received a copy of the GNU General Public License along\n * with this program; if not, write to the Free Software Foundation, Inc.,\n * 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA\n *\n */\n\n/**\n * Flow management widget.\n *\n * @author Tobias BrÃ¤utigam\n * @since 2023\n *\n * @ignore(d3.select)\n * @ignore(screen)\n * @ignore(SVGElement)\n */\nqx.Class.define('cv.ui.structure.tile.components.Flow', {\n  extend: cv.ui.structure.tile.components.AbstractComponent,\n  include: [\n    cv.ui.structure.tile.components.svg.MSvgGrid,\n    cv.ui.structure.tile.MResize,\n    cv.ui.structure.tile.MStringTransforms,\n    cv.ui.structure.tile.MFullscreen\n  ],\n\n  /*\n  ***********************************************\n    PROPERTIES\n  ***********************************************\n  */\n  properties: {\n    pan: {\n      check: 'Boolean',\n      init: false,\n      transform: '_stringToBool',\n      apply: '_applyPan'\n    },\n\n    pagination: {\n      check: ['none', 'horizontal', 'vertical', 'both'],\n      init: 'none',\n      apply: '_applyPagination'\n    },\n\n    centerX: {\n      check: 'Boolean',\n      init: false,\n      apply: '_applyCenterX',\n      transform: '_parseBoolean'\n    },\n\n    centerY: {\n      check: 'Boolean',\n      init: false,\n      apply: '_applyCenterY',\n      transform: '_parseBoolean'\n    },\n\n    fullscreenViewBox: {\n      check: 'String',\n      nullable: true,\n      event: 'changeFullscreenViewBox'\n    }\n  },\n\n  /*\n  ***********************************************\n    MEMBERS\n  ***********************************************\n  */\n  members: {\n    SVG: null,\n    _dragPoint: null,\n    _startPoint: null,\n    _expiredTouchStart: null,\n    _viewBoxBinding: null,\n    _lastBBox: null,\n    _additionalViewBoxUpdate: null,\n    _ready: null,\n\n    getSvg() {\n      if (!this.SVG) {\n        this.SVG = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n        this._element.appendChild(this.SVG);\n      }\n      return this.SVG;\n    },\n\n    _init() {\n      super._init();\n      this.getSvg();\n\n      this.setResizeTarget(this._element);\n      this._observer.observe(this.SVG);\n      this.addListener('resized', this._updateDimensions, this);\n      for (const layoutEvent of ['changeRows', 'changeColumns', 'changeOuterPadding', 'changeSpacing']) {\n        this.addListener(layoutEvent, this._updateCellSize, this);\n      }\n\n      let title = this.getHeader('label.title');\n      const element = this._element;\n      if (element.hasAttribute('title') && !title) {\n        title = document.createElement('label');\n        title.classList.add('title');\n        let span = document.createElement('span');\n        title.appendChild(span);\n        span.textContent = element.getAttribute('title');\n        this.appendToHeader(title);\n      }\n\n      if (element.hasAttribute('allow-fullscreen') && element.getAttribute('allow-fullscreen') === 'true') {\n        this._initFullscreenSwitch();\n        this.addListener('changeFullscreen', ev => {\n          if (ev.getData()) {\n            if (!this._viewBoxBinding && this.getFullscreenViewBox()) {\n              this._viewBoxBinding = this.bind('fullscreenViewBox', this, 'viewBox');\n            }\n          } else if (this._viewBoxBinding) {\n            this.removeBinding(this._viewBoxBinding);\n            this._viewBoxBinding = null;\n\n            // restore old value\n            if (this._element.hasAttribute('view-box')) {\n              this.setViewBox(this._element.getAttribute('view-box'));\n            } else {\n              this.resetViewBox();\n            }\n          }\n          this._updateDimensions();\n        });\n      }\n\n      this.addListener('changeViewBox', this._updateViewBox, this);\n      window.requestAnimationFrame(() => this._updateViewBox());\n      if (this.getPan()) {\n        this._applyPan(true);\n      }\n      this._applyPagination(this.getPagination());\n\n      if (element.querySelectorAll(':scope > cv-power-entity:not([type=\"house\"]), :scope > cv-svg-round-value').length === 0) {\n        // remove the house\n        const house = element.querySelector(':scope > cv-power-entity[type=\"house\"]');\n        if (house) {\n          house.remove();\n        }\n      }\n\n      // make sure that the initial setup viewBox changes are not animated\n      setTimeout(() => {\n        this._ready = true;\n        this._center();\n      }, 2000);\n    },\n\n    _applyCenterX(value) {\n      if (value) {\n        this.__applyCenter('row', this.getRows());\n      }\n    },\n\n    _applyCenterY(value) {\n      if (value) {\n        this.__applyCenter('column', this.getColumns());\n      }\n    },\n\n    __applyCenter(selector, total) {\n      // do not center the middle one(s)\n      let skip = [];\n      if (total > 2) {\n        if (total % 2 > 0) {\n          skip.push(Math.floor(total / 2));\n        } else {\n          skip.push((total / 2) - 1);\n          skip.push(total / 2);\n        }\n      }\n      for (let i = 0; i < total; i++) {\n        if (!skip.includes(i)) {\n          if (selector === 'row') {\n            this.__adjustRow(this._element.querySelectorAll(`:scope > *[row=\"${i}\"]`));\n          } else {\n            this.__adjustColumn(this._element.querySelectorAll(`:scope > *[column=\"${i}\"]`));\n          }\n        }\n      }\n    },\n\n    __adjustRow(rowElements) {\n      if (rowElements.length === 1) {\n        rowElements[0].setAttribute('column', '1');\n      } else if (rowElements.length === 2) {\n        const sorted = Array.from(rowElements);\n        sorted.sort((a, b) => parseFloat(a.getAttribute('column')) - parseFloat(b.getAttribute('column')));\n        sorted[0].setAttribute('column', '0.5');\n        sorted[1].setAttribute('column', '1.5');\n      }\n    },\n\n    __adjustColumn(columnElements) {\n      if (columnElements.length === 1) {\n        columnElements[0].setAttribute('row', '1');\n      } else if (columnElements.length === 2) {\n        const sorted = Array.from(columnElements);\n        sorted.sort((a, b) => parseFloat(a.getAttribute('row')) - parseFloat(b.getAttribute('row')));\n        sorted[0].setAttribute('row', '0.5');\n        sorted[1].setAttribute('row', '1.5');\n      }\n    },\n\n    _drag(ev) {\n      ev.preventDefault();\n      ev.stopImmediatePropagation();\n      const CTM = this.SVG.getScreenCTM().inverse();\n      this._dragPoint.x = ev.clientX;\n      this._dragPoint.y = ev.clientY;\n      this._dragPoint = this._dragPoint.matrixTransform(CTM);\n      this.SVG.viewBox.baseVal.x -= this._dragPoint.x - this._startPoint.x;\n      this.SVG.viewBox.baseVal.y -= this._dragPoint.y - this._startPoint.y;\n    },\n\n    _cancelEvent(ev) {\n      ev.preventDefault();\n      ev.stopImmediatePropagation();\n    },\n\n    _startDrag(ev) {\n      if (typeof this.drag !== 'function') {\n        this.drag = this._drag.bind(this);\n      }\n      this._element.addEventListener('pointermove', this.drag);\n      this._element.addEventListener('touchmove', this._cancelEvent);\n\n      const CTM = this.SVG.getScreenCTM().inverse();\n      this._dragPoint.x = ev.clientX;\n      this._dragPoint.y = ev.clientY;\n      this._startPoint = this._dragPoint.matrixTransform(CTM);\n    },\n\n    _endDrag(ev) {\n      if (this.drag) {\n        this._element.removeEventListener('pointermove', this.drag);\n      }\n      this._element.removeEventListener('touchmove', this._cancelEvent);\n    },\n\n    _touchStart(ev) {\n      if (ev.touches.length === 1) {\n        if (!this._expiredTouchStart) {\n          this._expiredTouchStart = ev.timeStamp + 400;\n        } else if (ev.timeStamp <= this._expiredTouchStart) {\n          // remove the default of this event ( Zoom )\n          //ev.preventDefault()\n          this.resetDrag();\n          // then reset the variable for other \"double Touches\" event\n          this._expiredTouchStart = null;\n        } else {\n          // if the second touch was expired, make it as it's the first\n          this._expiredTouchStart = ev.timeStamp + 400;\n        }\n      }\n      ev.preventDefault();\n    },\n\n    _applyPan(draggable) {\n      if (this.SVG) {\n        if (draggable) {\n          this._dragPoint = this.SVG.createSVGPoint();\n\n          if (typeof this.startDrag !== 'function') {\n            this.startDrag = this._startDrag.bind(this);\n          }\n          if (typeof this.endDrag !== 'function') {\n            this.endDrag = this._endDrag.bind(this);\n          }\n          if (typeof this.resetDrag !== 'function') {\n            this.resetDrag = this._updateViewBox.bind(this);\n          }\n          if (typeof this.touchStart !== 'function') {\n            this.touchStart = this._touchStart.bind(this);\n          }\n\n          this._element.addEventListener('pointerdown', this.startDrag);\n          this._element.addEventListener('pointerup', this.endDrag);\n          this._element.addEventListener('pointerleave', this.endDrag);\n          this._element.addEventListener('pointercancel', this.endDrag);\n          this._element.addEventListener('dblclick', this.resetDrag);\n          this._element.addEventListener('touchstart', this.touchStart);\n        } else {\n          this._element.removeEventListener('pointerdown', this.startDrag);\n          this._element.removeEventListener('pointerup', this.endDrag);\n          this._element.removeEventListener('pointerleave', this.endDrag);\n          this._element.removeEventListener('pointercancel', this.endDrag);\n          this._element.removeEventListener('dblclick', this.resetDrag);\n          this._element.removeEventListener('touchstart', this.touchStart);\n        }\n      }\n    },\n\n    _applyPagination(value) {\n      const showH = value === 'both' || value === 'horizontal';\n      const showV = value === 'both' || value === 'vertical';\n      const addButtons = [];\n      const removeButtons = [];\n      if (showH) {\n        addButtons.push('left');\n        addButtons.push('right');\n      } else {\n        removeButtons.push('left');\n        removeButtons.push('right');\n      }\n      if (showV) {\n        addButtons.push('top');\n        addButtons.push('bottom');\n      } else {\n        removeButtons.push('top');\n        removeButtons.push('bottom');\n      }\n      for (const dir of addButtons) {\n        let button = this._element.querySelector(`div.pagination.${dir}`);\n        if (!button) {\n          button = document.createElement('div');\n          button.classList.add('pagination', dir);\n          this._element.appendChild(button);\n        }\n      }\n\n      for (const dir of removeButtons) {\n        let button = this._element.querySelector(`div.pagination.${dir}`);\n        if (button) {\n          button.remove();\n        }\n      }\n\n      this._updatePaginationButtons();\n    },\n\n    _enablePaginationButton(button, dir, enabled) {\n      let callback;\n      switch (dir) {\n        case 'left':\n          callback = this._paginateLeft;\n          break;\n\n        case 'right':\n          callback = this._paginateRight;\n          break;\n\n        case 'top':\n          callback = this._paginateTop;\n          break;\n\n        case 'bottom':\n          callback = this._paginateBottom;\n          break;\n      }\n      if (enabled) {\n        button.classList.add('clickable');\n        qx.event.Registration.addListener(button, 'tap', callback, this);\n      } else {\n        if (button.classList.contains('clickable')) {\n          button.classList.remove('clickable');\n        }\n        qx.event.Registration.removeListener(button, 'tap', callback, this);\n      }\n    },\n\n    _updatePaginationButtons() {\n      let [column, row, width, height] = this.getViewBox().split(' ').map(v => parseInt(v));\n      for (const dir of ['top', 'bottom', 'left', 'right']) {\n        const button = this._element.querySelector(`div.pagination.${dir}`);\n        if (!button) {\n          continue;\n        }\n        switch (dir) {\n          case 'left':\n            this._enablePaginationButton(button, dir, column - width >= 0);\n            break;\n\n          case 'right':\n            this._enablePaginationButton(button, dir, column+width < this.getColumns());\n            break;\n\n          case 'top':\n            this._enablePaginationButton(button, dir, row - height >= 0);\n            break;\n\n          case 'bottom':\n            this._enablePaginationButton(button, dir, row + height < this.getRows());\n            break;\n        }\n      }\n    },\n\n    _paginateLeft() {\n      this._paginate('left');\n    },\n\n    _paginateRight() {\n      this._paginate('right');\n    },\n\n    _paginateTop() {\n      this._paginate('top');\n    },\n\n    _paginateBottom() {\n      this._paginate('bottom');\n    },\n\n    _paginate(direction) {\n      let [column, row, width, height] = this.getViewBox().split(' ').map(v => parseInt(v));\n      switch (direction) {\n        case 'left':\n          if (column - width >= 0) {\n            column -= width;\n          }\n          break;\n\n        case 'right':\n          if (column+width < this.getColumns()) {\n            column += width;\n          }\n          break;\n\n        case 'top':\n          if (row - height >= 0) {\n            row -= height;\n          }\n          break;\n\n        case 'bottom':\n          if (row + height < this.getRows()) {\n            row += height;\n          }\n      }\n      this._element.setAttribute('view-box', `${column} ${row} ${width} ${height}`);\n    },\n\n    _updateDimensions(ev) {\n      if (ev) {\n        const entry = ev.getData();\n        if (entry.contentBoxSize) {\n          if (entry.target instanceof SVGElement) {\n            this._center(entry.contentRect.width, entry.contentRect.height);\n            return;\n          }\n        }\n      }\n      const isFullscreen = this.isFullscreen();\n      if (isFullscreen) {\n        const minSize = Math.min(screen.availHeight, screen.availWidth);\n        if (minSize > 600) {\n          this.setOuterPadding(16);\n          this.setSpacing(32);\n        } else if (minSize >= 400) {\n          this.setOuterPadding(16);\n          this.setSpacing(26);\n        }\n        // set fixed height\n        let height = 0;\n        if (screen.availHeight > screen.availWidth) {\n          const bbox = this.SVG.getBBox();\n          height = Math.min(screen.availHeight, Math.max(bbox.height, this.getRows() * 100));\n        } else {\n          height = screen.availHeight;\n        }\n        if (this._tileElement) {\n          this._tileElement.style.height = `${height}px`;\n        }\n      } else {\n        if (this._tileElement) {\n          this._tileElement.style.height = 'unset';\n        }\n        if (this._element.hasAttribute('outer-padding')) {\n          this.setOuterPadding(this._element.getAttribute('outer-padding'));\n        } else {\n          this.resetOuterPadding();\n        }\n        if (this._element.hasAttribute('spacing')) {\n          this.setSpacing(this._element.getAttribute('spacing'));\n        } else {\n          this.resetSpacing();\n        }\n      }\n      window.requestAnimationFrame(() => this._updateCellSize());\n    },\n\n    _updateViewBox() {\n      const viewBox = this.getViewBox();\n      if (viewBox) {\n        const parts = viewBox.split(' ').map(v => parseInt(v));\n        if (parts.length === 4) {\n          this._updatePaginationButtons();\n          const totalOuterPadding = this.getOuterPadding() * 2;\n          const x = this.getCellWidth() * parts[0] + (parts[0] > 1 ? (parts[0]-1) * this.getSpacing() : 0);\n          const y = this.getCellHeight() * parts[1] + (parts[1] > 1 ? (parts[1]-1) * this.getSpacing() : 0);\n          const width = totalOuterPadding + this.getCellWidth() * parts[2] + (parts[2] > 1 ? (parts[2]-1) * this.getSpacing() : 0);\n          const height = totalOuterPadding + this.getCellHeight() * parts[3] + (parts[3] > 1 ? (parts[3]-1) * this.getSpacing() : 0);\n\n          if (this._ready && typeof window.d3 === 'object') {\n            const svg = d3.select(this._element).select('svg');\n            svg.transition()\n              .duration(500)\n              .attr('viewBox', `${x} ${y} ${width} ${height}`);\n            setTimeout(() => this._center(), 510);\n          } else {\n            this.SVG.setAttribute('viewBox', `${x} ${y} ${width} ${height}`);\n            setTimeout(() => this._center(), 10);\n          }\n        }\n      } else {\n        this.SVG.removeAttribute('viewBox');\n      }\n    },\n\n    _center(width, height) {\n      if (this.SVG && this._ready) {\n        const bbox = this.SVG.getBBox();\n        if (this._lastBBox && (this._lastBBox.width === bbox.width && this._lastBBox.height === bbox.height)) {\n          // no change\n          return;\n        }\n        if (!width || !height) {\n          const parts = this.SVG.hasAttribute('viewBox') ? this.SVG.getAttribute('viewBox').split(' ').map(v => parseInt(v)) : [];\n          if (parts.length === 4) {\n            width = parts[2];\n            height = parts[3];\n          } else {\n            return;\n          }\n        }\n\n        const totalOuterPadding = this.getOuterPadding() * 2;\n        let visibleColumns = this.getColumns();\n        let visibleRows = this.getRows();\n        const gridViewBox = this.getViewBox();\n        let firstColumn = 0;\n        let lastColumn = 2;\n        let firstRow = 0;\n        let lastRow = 2;\n        if (gridViewBox) {\n          const gridParts = gridViewBox.split(' ').map(s => parseInt(s));\n          visibleColumns = gridParts[2] - gridParts[0];\n          visibleRows = gridParts[3] - gridParts[1];\n          firstColumn = gridParts[0];\n          lastColumn = firstColumn + gridParts[2] - 1;\n          firstRow = gridParts[1];\n          lastRow = firstRow + gridParts[3] - 1;\n        }\n        let usedColumns = 3;\n        let usedRows = 3;\n        let col;\n        let row;\n        for (const elem of this._element.querySelectorAll('*[column]')) {\n          col = parseInt(elem.getAttribute('column')) + 1;\n          if (firstColumn <= col && lastColumn > col && col > usedColumns) {\n            usedColumns = col;\n          }\n        }\n        for (const elem of this._element.querySelectorAll('*[row]')) {\n          row = parseInt(elem.getAttribute('row')) + 1;\n          if (firstRow <= col && lastRow > row && row > usedRows) {\n            usedRows = row;\n          }\n        }\n\n        const visibleWidth = usedColumns > visibleColumns ? visibleColumns / this.getColumns() : 1.0;\n        const visibleHeight = usedRows > visibleRows ? visibleRows / this.getRows() : 1.0;\n\n        const heightDiff = height - totalOuterPadding - bbox.height * visibleHeight;\n        const widthDiff = width - totalOuterPadding - bbox.width * visibleWidth;\n        if (heightDiff > 0 || widthDiff > 0) {\n          this.SVG.setAttribute('transform', `translate(${Math.max(0, widthDiff / 2)}, ${Math.max(0, heightDiff / 2)})`);\n        } else {\n          this.SVG.removeAttribute('transform');\n        }\n        this._lastBBox = bbox;\n        window.requestAnimationFrame(() => this._center());\n      }\n    },\n\n    _updateCellSize() {\n      if (this._element.clientWidth === 0 || this._element.clientHeight === 0) {\n        return;\n      }\n      let visibleColumns = this.getColumns();\n      let visibleRows = this.getRows();\n      const viewBox = this.getViewBox();\n      if (viewBox) {\n        const box = viewBox.split(' ').map(v => parseInt(v));\n        visibleColumns = box[2];\n        visibleRows = box[3];\n      }\n      const padding = this.getOuterPadding() * 2;\n      const spacing = this.getSpacing() / 2;\n      const cellWidth = Math.floor((this._element.clientWidth - padding) / visibleColumns - spacing);\n      const cellHeight = Math.floor((this._element.clientHeight - padding) / visibleRows - spacing);\n      this.debug('cellWidth', cellWidth, 'cellHeight', cellHeight);\n      const changed = this.getCellWidth() !== cellWidth || this.getCellHeight() !== cellHeight;\n      this.setCellWidth(cellWidth);\n      this.setCellHeight(cellHeight);\n      if (changed) {\n        window.requestAnimationFrame(() => {\n          this._updateViewBox();\n        });\n      }\n    },\n\n    _stringToBool(value) {\n      if (typeof value === 'string') {\n        return value === 'true';\n      } else if (value === null || value === undefined) {\n        return false;\n      }\n      return value;\n    }\n  },\n\n  defer(QxClass) {\n    customElements.define(\n      cv.ui.structure.tile.Controller.PREFIX + 'flow',\n      class extends QxConnector {\n        // @ignore\n        static observedAttributes = ['view-box', 'fullscreen-view-box', 'pan', 'rows', 'columns', 'cell-width', 'cell-height', 'outer-padding', 'spacing', 'pagination', 'center-x', 'center-y'];\n        constructor() {\n          super(QxClass);\n        }\n      }\n    );\n  }\n});\n"
  ],
  "mappings": "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",
  "ignoreList": []
}