{
  "version": 3,
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "extend",
    "cv",
    "ui",
    "structure",
    "tile",
    "elements",
    "AbstractCustomElement",
    "construct",
    "element",
    "__store",
    "Map",
    "properties",
    "type",
    "check",
    "init",
    "on",
    "apply",
    "onClass",
    "offClass",
    "onValue",
    "offValue",
    "styleClass",
    "nullable",
    "name",
    "progress",
    "transform",
    "members",
    "_writeAddresses",
    "__textLabel",
    "__circumference",
    "_parseInt",
    "val",
    "intVal",
    "parseInt",
    "Number",
    "isNaN",
    "_init",
    "_element",
    "hasAttribute",
    "setType",
    "getAttribute",
    "setName",
    "setProgress",
    "setOnValue",
    "setOffValue",
    "hasReadAddress",
    "writeAddresses",
    "Array",
    "prototype",
    "forEach",
    "call",
    "querySelectorAll",
    "address",
    "mode",
    "push",
    "events",
    "length",
    "eventSource",
    "parent",
    "parentElement",
    "level",
    "tagName",
    "toLowerCase",
    "classList",
    "add",
    "addr",
    "event",
    "click",
    "onClicked",
    "bind",
    "pointerup",
    "onPointerUp",
    "pointerdown",
    "onPointerDown",
    "Object",
    "getOwnPropertyNames",
    "eventName",
    "addEventListener",
    "ev",
    "hasOwnProperty",
    "onStateUpdate",
    "stopPropagation",
    "triggerAddresses",
    "filter",
    "value",
    "Timer",
    "once",
    "setOn",
    "getOnValue",
    "hasDown",
    "hasUp",
    "some",
    "_initProgress",
    "Math",
    "PI",
    "svg",
    "document",
    "createElementNS",
    "setAttribute",
    "circle",
    "appendChild",
    "_applyConnected",
    "getType",
    "_applyOn",
    "isConnected",
    "isOn",
    "getOffValue",
    "mappedValue",
    "Application",
    "structureController",
    "mapValue",
    "target",
    "querySelector",
    "_instance",
    "setId",
    "textContent",
    "updateValue",
    "getOnClass",
    "getOffClass",
    "styleValue",
    "setStyleClass",
    "_applyProgress",
    "valueElement",
    "_applyStyleClass",
    "oldValue",
    "classes",
    "contains",
    "replace",
    "remove",
    "_applyName",
    "createElement",
    "elem",
    "innerHTML",
    "detail",
    "state",
    "source",
    "Address",
    "addressElement",
    "getElement",
    "startsWith",
    "set",
    "substring",
    "createRipple",
    "relPath",
    "baseVersion",
    "Version",
    "VERSION",
    "split",
    "slice",
    "join",
    "language",
    "locale",
    "Manager",
    "getInstance",
    "getLanguage",
    "window",
    "open",
    "CustomEvent",
    "dispatchEvent",
    "button",
    "currentTarget",
    "container",
    "diameter",
    "max",
    "clientWidth",
    "clientHeight",
    "radius",
    "style",
    "width",
    "height",
    "x",
    "clientX",
    "offsetLeft",
    "y",
    "clientY",
    "offsetTop",
    "offsetParent",
    "left",
    "top",
    "ripple",
    "defer",
    "QxClass",
    "customElements",
    "Controller",
    "PREFIX",
    "QxConnector",
    "components",
    "Button"
  ],
  "sources": [
    "/home/runner/work/CometVisu/CometVisu/source/class/cv/ui/structure/tile/components/Button.js"
  ],
  "sourcesContent": [
    "/* Button.js\n *\n * copyright (c) 2010-2022, Christian Mayer and the CometVisu contributers.\n *\n * This program is free software; you can redistribute it and/or modify it\n * under the terms of the GNU General Public License as published by the Free\n * Software Foundation; either version 3 of the License, or (at your option)\n * any later version.\n *\n * This program is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for\n * more details.\n *\n * You should have received a copy of the GNU General Public License along\n * with this program; if not, write to the Free Software Foundation, Inc.,\n * 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA\n */\n\n/**\n *\n * @author Tobias BrÃ¤utigam\n * @since 2022\n */\nqx.Class.define('cv.ui.structure.tile.components.Button', {\n  extend: cv.ui.structure.tile.elements.AbstractCustomElement,\n\n  /*\n  ***********************************************\n    CONSTRUCTOR\n  ***********************************************\n  */\n  construct(element) {\n    super(element);\n    this.__store = new Map();\n  },\n\n  /*\n  ***********************************************\n    PROPERTIES\n  ***********************************************\n  */\n  properties: {\n    type: {\n      check: ['button', 'trigger', 'push'],\n      init: 'button'\n    },\n\n    on: {\n      check: 'Boolean',\n      init: false,\n      apply: '_applyOn'\n    },\n\n    onClass: {\n      check: 'String',\n      init: 'active'\n    },\n\n    offClass: {\n      check: 'String',\n      init: 'inactive'\n    },\n\n    onValue: {\n      check: 'String',\n      init: '1'\n    },\n\n    offValue: {\n      check: 'String',\n      init: '0'\n    },\n\n    styleClass: {\n      check: 'String',\n      nullable: true,\n      apply: '_applyStyleClass'\n    },\n\n    name: {\n      check: 'String',\n      init: '',\n      apply: '_applyName'\n    },\n\n    progress: {\n      check: 'Number',\n      init: -1,\n      apply: '_applyProgress',\n      transform: '_parseInt'\n    }\n  },\n\n  /*\n  ***********************************************\n    MEMBERS\n  ***********************************************\n  */\n  members: {\n    _writeAddresses: null,\n    __textLabel: null,\n    __circumference: null,\n    /**\n     * @var {Map} value store for addresses to be able to use them e.g. in mapping formulas\n     */\n    __store: null,\n\n    _parseInt(val) {\n      const intVal = parseInt(val);\n      return Number.isNaN(intVal) ? 0 : intVal;\n    },\n\n    _init() {\n      const element = this._element;\n      if (element.hasAttribute('type')) {\n        this.setType(element.getAttribute('type'));\n      }\n      if (element.hasAttribute('name')) {\n        this.setName(element.getAttribute('name'));\n      }\n      if (element.hasAttribute('progress')) {\n        this.setProgress(element.getAttribute('progress'));\n      }\n      if (element.hasAttribute('on-value')) {\n        this.setOnValue(element.getAttribute('on-value'));\n      }\n      if (element.hasAttribute('off-value')) {\n        this.setOffValue(element.getAttribute('off-value'));\n      }\n      let hasReadAddress = false;\n      let writeAddresses = [];\n      Array.prototype.forEach.call(element.querySelectorAll(':scope > cv-address'), address => {\n        const mode = address.hasAttribute('mode') ? address.getAttribute('mode') : 'readwrite';\n        switch (mode) {\n          case 'readwrite':\n            hasReadAddress = true;\n            writeAddresses.push(address);\n            break;\n          case 'read':\n            hasReadAddress = true;\n            break;\n          case 'write':\n            writeAddresses.push(address);\n            break;\n        }\n      });\n\n      this._writeAddresses = writeAddresses;\n\n      const events = {};\n      if (writeAddresses.length > 0) {\n        let eventSource = element;\n        if (element.getAttribute('whole-tile') === 'true') {\n          // find parent tile and use it as event source\n          let parent = element.parentElement;\n          let level = 0;\n          while (level <= 2) {\n            parent = parent.parentElement;\n            level++;\n            if (parent.tagName.toLowerCase() === 'cv-tile') {\n              eventSource = parent;\n              eventSource.classList.add('clickable');\n            }\n          }\n        }\n        writeAddresses.forEach(addr => {\n          let event = addr.hasAttribute('on') ? addr.getAttribute('on') : 'click';\n          switch (event) {\n            case 'click':\n              events.click = this.onClicked.bind(this);\n              break;\n            case 'up':\n              events.pointerup = this.onPointerUp.bind(this);\n              break;\n            case 'down':\n              events.pointerdown = this.onPointerDown.bind(this);\n              break;\n          }\n        });\n        Object.getOwnPropertyNames(events).forEach(eventName =>\n          eventSource.addEventListener(eventName, ev => {\n            events[eventName](ev);\n          })\n        );\n      }\n      if (element.hasAttribute('doc-link') && !Object.prototype.hasOwnProperty.call(events, 'click')) {\n        element.addEventListener('click', ev => {\n          this.onClicked(ev);\n        });\n      }\n      if (hasReadAddress) {\n        element.addEventListener('stateUpdate', ev => {\n          this.onStateUpdate(ev);\n          // cancel event here\n          ev.stopPropagation();\n        });\n      } else if (element.hasAttribute('mapping') || element.hasAttribute('styling')) {\n        // apply the trigger state\n        const triggerAddresses = writeAddresses.filter(addr => addr.hasAttribute('value') && !addr.hasAttribute('on'));\n\n        if (triggerAddresses.length === 1) {\n          const value = triggerAddresses[0].getAttribute('value');\n          qx.event.Timer.once(\n            () => {\n              // using == comparisons to make sure that e.g. 1 equals \"1\"\n              // noinspection EqualityComparisonWithCoercionJS\n              this.setOn(value == this.getOnValue());\n            },\n            this,\n            1000\n          );\n        }\n      }\n\n      // detect button type\n      if (\n        !hasReadAddress &&\n        writeAddresses.filter(addr => addr.hasAttribute('value') && !addr.hasAttribute('on')).length === 1\n      ) {\n        // only one write address with a fixed value and no special event => simple trigger\n        this.setType('trigger');\n      } else {\n        let hasDown = false;\n        let hasUp = false;\n        writeAddresses.some(addr => {\n          if (addr.hasAttribute('value') && addr.hasAttribute('on')) {\n            if (!hasDown) {\n              hasDown = addr.getAttribute('on') === 'down';\n            }\n            if (!hasUp) {\n              hasUp = addr.getAttribute('on') === 'up';\n            }\n          }\n          return hasUp && hasDown;\n        });\n        if (hasUp && hasDown) {\n          // has an address for up and one for down event with a fixed value -> pushbutton\n          this.setType('push');\n        }\n      }\n    },\n\n    _initProgress() {\n      const element = this._element;\n      this.__circumference = 100 * Math.PI;\n      const svg = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n      svg.setAttribute('viewBox', '0 0 100 100');\n      svg.setAttribute('type', 'circle');\n      const circle = document.createElementNS('http://www.w3.org/2000/svg', 'circle');\n\n      circle.classList.add('bar');\n      circle.setAttribute('r', '49');\n      circle.setAttribute('cx', '50');\n      circle.setAttribute('cy', '50');\n      circle.setAttribute('stroke-width', '2');\n      circle.setAttribute('stroke-dasharray', this.__circumference + ' ' + this.__circumference);\n\n      circle.setAttribute('stroke-dashoffset', '' + this.__circumference);\n      svg.appendChild(circle);\n      element.appendChild(svg);\n      // make sure that we do not override the progress bar by state appearance\n      element.classList.add('progress');\n    },\n\n    _applyConnected(value) {\n      super._applyConnected(value);\n      if (value) {\n        if (this.getType() !== 'trigger') {\n          // delay this because we need the mappings to be ready\n          qx.event.Timer.once(this._applyOn, this, 1000);\n        }\n      }\n    },\n    _applyOn() {\n      if (this.isConnected()) {\n        let value = this.isOn() ? this.getOnValue() : this.getOffValue();\n        this._element.setAttribute('value', value || '');\n        let mappedValue = value;\n        if (this._element.hasAttribute('mapping')) {\n          mappedValue = cv.Application.structureController.mapValue(\n            this._element.getAttribute('mapping'),\n            value,\n            this.__store\n          );\n        }\n        const target = this._element.querySelector('.value');\n        if (target && target.tagName.toLowerCase() === 'cv-icon') {\n          if (target._instance) {\n            target._instance.setId(mappedValue);\n          } else {\n            target.textContent = mappedValue;\n          }\n        } else {\n          this.updateValue(mappedValue);\n        }\n        let styleClass = this.isOn() ? this.getOnClass() : this.getOffClass();\n        if (this._element.hasAttribute('styling')) {\n          styleClass = cv.Application.structureController.styleValue(\n            this._element.getAttribute('styling'),\n            value,\n            this.__store\n          );\n        }\n        this.setStyleClass(styleClass);\n      }\n    },\n\n    _applyProgress(value) {\n      let valueElement = this._element.querySelector(':scope > svg > circle.bar');\n\n      if (!valueElement) {\n        this._initProgress();\n        valueElement = this._element.querySelector(':scope > svg > circle.bar');\n      }\n      if (valueElement) {\n        if (this._element.hasAttribute('progress-mapping')) {\n          value = cv.Application.structureController.mapValue(\n            this._element.getAttribute('progress-mapping'),\n            value,\n            this.__store\n          );\n        }\n        valueElement.setAttribute(\n          'stroke-dashoffset',\n          '' + (this.__circumference - (value / 100) * this.__circumference)\n        );\n      }\n    },\n\n    _applyStyleClass(value, oldValue) {\n      const classes = this._element.classList;\n      if (oldValue) {\n        if (classes.contains(oldValue)) {\n          classes.replace(oldValue, value);\n        } else {\n          classes.add(value);\n          classes.remove(oldValue);\n        }\n      } else if (value) {\n        classes.add(value);\n      }\n    },\n\n    _applyName(value) {\n      if (!this.__textLabel) {\n        this.__textLabel = document.createElement('label');\n        this.__textLabel.classList.add('button-label');\n        this._element.appendChild(this.__textLabel);\n      }\n      this.__textLabel.textContent = value;\n    },\n\n    updateValue(value) {\n      const elem = this._element.querySelector('span.value');\n      if (elem) {\n        elem.innerHTML = value;\n      }\n    },\n\n    /**\n     * Handles the incoming data from the backend for this widget\n     *\n     * @param ev {CustomEvent} stateUpdate event fired from a cv-address component\n     */\n    onStateUpdate(ev) {\n      // using == comparisons to make sure that e.g. 1 equals \"1\"\n      // noinspection EqualityComparisonWithCoercionJS\n      let value = ev.detail.state == this.getOnValue();\n      let target = ev.detail.target || 'default';\n      if (ev.detail.source instanceof cv.ui.structure.tile.elements.Address) {\n        const addressElement = ev.detail.source.getElement();\n        if (addressElement.hasAttribute('value')) {\n          // noinspection EqualityComparisonWithCoercionJS\n          value = ev.detail.state == addressElement.getAttribute('value');\n        }\n      }\n      if (target === 'default') {\n        this.setOn(value);\n      } else if (target === 'progress') {\n        this.setProgress(ev.detail.state);\n      } else if (target.startsWith('store:')) {\n        this.__store.set(target.substring(6), ev.detail.state);\n      } else if (target === 'store') {\n        // use address as store key\n        this.__store.set(ev.detail.address, ev.detail.state);\n      }\n    },\n\n    onClicked(event) {\n      this.createRipple(event);\n      if (this._element.hasAttribute('doc-link')) {\n        let relPath = this._element.getAttribute('doc-link');\n        // add locale and version\n        const baseVersion = cv.Version.VERSION.split('.').slice(0, 2).join('.');\n        let language = qx.locale.Manager.getInstance().getLanguage();\n        if (language !== 'de') {\n          // documentation only exists in 'de' and 'en'\n          language = 'en';\n        }\n        window.open(`https://www.cometvisu.org/CometVisu/${language}/${baseVersion}/manual/${relPath}`);\n        event.stopPropagation();\n      } else {\n        if (!this._writeAddresses) {\n          this._writeAddresses = Array.prototype.filter.call(\n            this._element.querySelectorAll('addresses > cv-address'),\n            address => !address.hasAttribute('mode') || address.getAttribute('mode') !== 'read'\n          );\n        }\n        const ev = new CustomEvent('sendState', {\n          detail: {\n            value: this.isOn() ? this.getOffValue() : this.getOnValue(),\n            source: this\n          }\n        });\n\n        if (this.getType() === 'trigger') {\n          // simulate feedback\n          this.setOn(true);\n          qx.event.Timer.once(\n            () => {\n              this.setOn(false);\n            },\n            null,\n            250\n          );\n        }\n        this._writeAddresses\n          .filter(addr => !addr.hasAttribute('on') || addr.getAttribute('on') === 'click')\n          .forEach(address => address.dispatchEvent(ev));\n        event.stopPropagation();\n      }\n    },\n\n    onPointerDown() {\n      this._writeAddresses\n        .filter(addr => addr.getAttribute('on') === 'down' && addr.hasAttribute('value'))\n        .forEach(address => {\n          address.dispatchEvent(\n            new CustomEvent('sendState', {\n              detail: {\n                value: address.getAttribute('value'),\n                source: this\n              }\n            })\n          );\n        });\n    },\n\n    onPointerUp() {\n      this._writeAddresses\n        .filter(addr => addr.getAttribute('on') === 'up' && addr.hasAttribute('value'))\n        .forEach(address => {\n          address.dispatchEvent(\n            new CustomEvent('sendState', {\n              detail: {\n                value: address.getAttribute('value'),\n                source: this\n              }\n            })\n          );\n        });\n    },\n\n    createRipple(event) {\n      const button = event.currentTarget;\n      let container = button.querySelector(':scope .ripple-container');\n      if (!container) {\n        container = document.createElement('div');\n        container.classList.add('ripple-container');\n        button.appendChild(container);\n      }\n      const circle = document.createElement('span');\n      const diameter = Math.max(button.clientWidth, button.clientHeight);\n      const radius = diameter / 2;\n      circle.style.width = circle.style.height = `${diameter}px`;\n      let x = event.clientX - (button.offsetLeft + radius);\n      let y = event.clientY - (button.offsetTop + radius);\n      if (button === this._element) {\n        x -= button.offsetParent.offsetLeft;\n        y -= button.offsetParent.offsetTop;\n      }\n      circle.style.left = `${x}px`;\n      circle.style.top = `${y}px`;\n      circle.classList.add('ripple');\n      // remove old ones\n      container.querySelectorAll('.ripple').forEach(ripple => ripple.remove());\n      container.appendChild(circle);\n    }\n  },\n\n  defer(QxClass) {\n    customElements.define(\n      cv.ui.structure.tile.Controller.PREFIX + 'button',\n      class extends QxConnector {\n        constructor() {\n          super(QxClass);\n        }\n      }\n    );\n  }\n});\n"
  ],
  "mappings": "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"
}