{
  "version": 3,
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "extend",
    "cv",
    "ui",
    "structure",
    "tile",
    "elements",
    "AbstractCustomElement",
    "construct",
    "element",
    "constructor",
    "call",
    "__store",
    "Map",
    "properties",
    "type",
    "check",
    "init",
    "on",
    "apply",
    "onClass",
    "offClass",
    "onValue",
    "offValue",
    "styleClass",
    "nullable",
    "name",
    "progress",
    "transform",
    "members",
    "_writeAddresses",
    "__textLabel",
    "__circumference",
    "_triggerOnValue",
    "_parseInt",
    "val",
    "intVal",
    "parseInt",
    "Number",
    "isNaN",
    "_init",
    "_this",
    "_element",
    "hasAttribute",
    "setType",
    "getAttribute",
    "setName",
    "setProgress",
    "setOnValue",
    "setOffValue",
    "hasReadAddress",
    "writeAddresses",
    "Array",
    "prototype",
    "forEach",
    "querySelectorAll",
    "address",
    "mode",
    "push",
    "events",
    "length",
    "eventSource",
    "parent",
    "parentElement",
    "level",
    "tagName",
    "toLowerCase",
    "classList",
    "add",
    "addr",
    "event",
    "click",
    "onClicked",
    "bind",
    "pointerup",
    "onPointerUp",
    "pointerdown",
    "onPointerDown",
    "Object",
    "getOwnPropertyNames",
    "eventName",
    "addEventListener",
    "ev",
    "hasOwnProperty",
    "triggerAddresses",
    "onStateUpdate",
    "stopPropagation",
    "filter",
    "getOnValue",
    "value",
    "Timer",
    "once",
    "setOn",
    "hasDown",
    "hasUp",
    "some",
    "_initProgress",
    "Math",
    "PI",
    "svg",
    "document",
    "createElementNS",
    "setAttribute",
    "circle",
    "appendChild",
    "_applyConnected",
    "components",
    "Button",
    "superclass",
    "getType",
    "_applyOn",
    "isConnected",
    "isOn",
    "getOffValue",
    "mappedValue",
    "Application",
    "structureController",
    "mapValue",
    "target",
    "querySelector",
    "_instance",
    "setId",
    "textContent",
    "updateValue",
    "getOnClass",
    "getOffClass",
    "styleValue",
    "setStyleClass",
    "_applyProgress",
    "valueElement",
    "_applyStyleClass",
    "oldValue",
    "classes",
    "contains",
    "remove",
    "_applyName",
    "createElement",
    "elem",
    "innerHTML",
    "detail",
    "state",
    "source",
    "Address",
    "addressElement",
    "getElement",
    "startsWith",
    "set",
    "substring",
    "targetConfig",
    "_this2",
    "createRipple",
    "relPath",
    "baseVersion",
    "Version",
    "VERSION",
    "split",
    "slice",
    "join",
    "language",
    "locale",
    "Manager",
    "getInstance",
    "getLanguage",
    "window",
    "open",
    "concat",
    "CustomEvent",
    "wa",
    "simulatedValue",
    "dispatchEvent",
    "_this3",
    "_this4",
    "button",
    "currentTarget",
    "container",
    "diameter",
    "max",
    "clientWidth",
    "clientHeight",
    "radius",
    "style",
    "width",
    "height",
    "x",
    "clientX",
    "offsetLeft",
    "y",
    "clientY",
    "offsetTop",
    "offsetParent",
    "left",
    "top",
    "ripple",
    "defer",
    "QxClass",
    "customElements",
    "Controller",
    "PREFIX",
    "_QxConnector",
    "_inherits",
    "_class",
    "_super",
    "_createSuper",
    "_classCallCheck",
    "_createClass",
    "QxConnector"
  ],
  "sources": [
    "/home/runner/work/CometVisu/CometVisu/source/class/cv/ui/structure/tile/components/Button.js"
  ],
  "sourcesContent": [
    "/* Button.js\n *\n * copyright (c) 2010-2022, Christian Mayer and the CometVisu contributers.\n *\n * This program is free software; you can redistribute it and/or modify it\n * under the terms of the GNU General Public License as published by the Free\n * Software Foundation; either version 3 of the License, or (at your option)\n * any later version.\n *\n * This program is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for\n * more details.\n *\n * You should have received a copy of the GNU General Public License along\n * with this program; if not, write to the Free Software Foundation, Inc.,\n * 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA\n */\n\n/**\n *\n * @author Tobias BrÃ¤utigam\n * @since 2022\n */\nqx.Class.define('cv.ui.structure.tile.components.Button', {\n  extend: cv.ui.structure.tile.elements.AbstractCustomElement,\n\n  /*\n  ***********************************************\n    CONSTRUCTOR\n  ***********************************************\n  */\n  construct(element) {\n    super(element);\n    this.__store = new Map();\n  },\n\n  /*\n  ***********************************************\n    PROPERTIES\n  ***********************************************\n  */\n  properties: {\n    type: {\n      check: ['button', 'trigger', 'push'],\n      init: 'button'\n    },\n\n    on: {\n      check: 'Boolean',\n      init: false,\n      apply: '_applyOn'\n    },\n\n    onClass: {\n      check: 'String',\n      init: 'active'\n    },\n\n    offClass: {\n      check: 'String',\n      init: 'inactive'\n    },\n\n    onValue: {\n      check: 'String',\n      init: '1'\n    },\n\n    offValue: {\n      check: 'String',\n      init: '0'\n    },\n\n    styleClass: {\n      check: 'String',\n      nullable: true,\n      apply: '_applyStyleClass'\n    },\n\n    name: {\n      check: 'String',\n      init: '',\n      apply: '_applyName'\n    },\n\n    progress: {\n      check: 'Number',\n      init: -1,\n      apply: '_applyProgress',\n      transform: '_parseInt'\n    }\n  },\n\n  /*\n  ***********************************************\n    MEMBERS\n  ***********************************************\n  */\n  members: {\n    _writeAddresses: null,\n    __textLabel: null,\n    __circumference: null,\n    /**\n     * @var {Map} value store for addresses to be able to use them e.g. in mapping formulas\n     */\n    __store: null,\n    _triggerOnValue: null,\n\n    _parseInt(val) {\n      const intVal = parseInt(val);\n      return Number.isNaN(intVal) ? 0 : intVal;\n    },\n\n    _init() {\n      const element = this._element;\n      if (element.hasAttribute('type')) {\n        this.setType(element.getAttribute('type'));\n      }\n      if (element.hasAttribute('name')) {\n        this.setName(element.getAttribute('name'));\n      }\n      if (element.hasAttribute('progress')) {\n        this.setProgress(element.getAttribute('progress'));\n      }\n      if (element.hasAttribute('on-value')) {\n        this.setOnValue(element.getAttribute('on-value'));\n      }\n      if (element.hasAttribute('off-value')) {\n        this.setOffValue(element.getAttribute('off-value'));\n      }\n      let hasReadAddress = false;\n      let writeAddresses = [];\n      Array.prototype.forEach.call(element.querySelectorAll(':scope > cv-address'), address => {\n        const mode = address.hasAttribute('mode') ? address.getAttribute('mode') : 'readwrite';\n        switch (mode) {\n          case 'readwrite':\n            hasReadAddress = true;\n            writeAddresses.push(address);\n            break;\n          case 'read':\n            hasReadAddress = true;\n            break;\n          case 'write':\n            writeAddresses.push(address);\n            break;\n        }\n      });\n\n      this._writeAddresses = writeAddresses;\n\n      const events = {};\n      if (writeAddresses.length > 0) {\n        let eventSource = element;\n        if (element.getAttribute('whole-tile') === 'true') {\n          // find parent tile and use it as event source\n          let parent = element.parentElement;\n          let level = 0;\n          while (level <= 2) {\n            parent = parent.parentElement;\n            level++;\n            if (parent.tagName.toLowerCase() === 'cv-tile') {\n              eventSource = parent;\n              eventSource.classList.add('clickable');\n            }\n          }\n        }\n        writeAddresses.forEach(addr => {\n          let event = addr.hasAttribute('on') ? addr.getAttribute('on') : 'click';\n          switch (event) {\n            case 'click':\n              events.click = this.onClicked.bind(this);\n              break;\n            case 'up':\n              events.pointerup = this.onPointerUp.bind(this);\n              break;\n            case 'down':\n              events.pointerdown = this.onPointerDown.bind(this);\n              break;\n          }\n        });\n        Object.getOwnPropertyNames(events).forEach(eventName =>\n          eventSource.addEventListener(eventName, ev => {\n            events[eventName](ev);\n          })\n        );\n      }\n      if (element.hasAttribute('doc-link') && !Object.prototype.hasOwnProperty.call(events, 'click')) {\n        element.addEventListener('click', ev => {\n          this.onClicked(ev);\n        });\n      }\n      let triggerAddresses = [];\n      if (hasReadAddress) {\n        element.addEventListener('stateUpdate', ev => {\n          this.onStateUpdate(ev);\n          // cancel event here\n          ev.stopPropagation();\n        });\n      } else if (element.hasAttribute('mapping') || element.hasAttribute('styling')) {\n        // apply the trigger state\n        triggerAddresses = writeAddresses.filter(addr => addr.hasAttribute('value') && !addr.hasAttribute('on'));\n      }\n\n      // detect button type\n      if (\n        !hasReadAddress &&\n        triggerAddresses.length === 1\n      ) {\n        // only one write address with a fixed value and no special event => simple trigger\n        this.setType('trigger');\n\n        if (!element.hasAttribute('on-value')) {\n          // we consider the trigger address value as on-value when no one is given\n          this._triggerOnValue = triggerAddresses[0].getAttribute('value');\n        } else {\n          this._triggerOnValue = this.getOnValue();\n        }\n\n        const value = triggerAddresses[0].getAttribute('value');\n        qx.event.Timer.once(\n          () => {\n            // set it to the opposite of what is being sent when clicked to make the feedback simulation work\n            // e.g. value=\"1\", trigger is off and when clicked for a short amount of time in on state,\n            // using == comparisons to make sure that e.g. 1 equals \"1\"\n            // noinspection EqualityComparisonWithCoercionJS\n            this.setOn(value != this._triggerOnValue);\n          },\n          this,\n          1000\n        );\n      } else {\n        let hasDown = false;\n        let hasUp = false;\n        writeAddresses.some(addr => {\n          if (addr.hasAttribute('value') && addr.hasAttribute('on')) {\n            if (!hasDown) {\n              hasDown = addr.getAttribute('on') === 'down';\n            }\n            if (!hasUp) {\n              hasUp = addr.getAttribute('on') === 'up';\n            }\n          }\n          return hasUp && hasDown;\n        });\n        if (hasUp && hasDown) {\n          // has an address for up and one for down event with a fixed value -> pushbutton\n          this.setType('push');\n        }\n      }\n    },\n\n    _initProgress() {\n      const element = this._element;\n      this.__circumference = 100 * Math.PI;\n      const svg = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n      svg.setAttribute('viewBox', '0 0 100 100');\n      svg.setAttribute('type', 'circle');\n      const circle = document.createElementNS('http://www.w3.org/2000/svg', 'circle');\n\n      circle.classList.add('bar');\n      circle.setAttribute('r', '49');\n      circle.setAttribute('cx', '50');\n      circle.setAttribute('cy', '50');\n      circle.setAttribute('stroke-width', '2');\n      circle.setAttribute('stroke-dasharray', this.__circumference + ' ' + this.__circumference);\n\n      circle.setAttribute('stroke-dashoffset', '' + this.__circumference);\n      svg.appendChild(circle);\n      element.appendChild(svg);\n      // make sure that we do not override the progress bar by state appearance\n      element.classList.add('progress');\n    },\n\n    _applyConnected(value) {\n      super._applyConnected(value);\n      if (value) {\n        if (this.getType() !== 'trigger') {\n          // delay this because we need the mappings to be ready\n          qx.event.Timer.once(this._applyOn, this, 1000);\n        }\n      }\n    },\n    _applyOn() {\n      if (this.isConnected()) {\n        let value = this.isOn() ? this.getOnValue() : this.getOffValue();\n        this._element.setAttribute('value', value || '');\n        let mappedValue = value;\n        if (this._element.hasAttribute('mapping')) {\n          mappedValue = cv.Application.structureController.mapValue(\n            this._element.getAttribute('mapping'),\n            value,\n            this.__store\n          );\n        }\n        const target = this._element.querySelector('.value');\n        if (target && target.tagName.toLowerCase() === 'cv-icon') {\n          if (target._instance) {\n            target._instance.setId(mappedValue);\n          } else {\n            target.textContent = mappedValue;\n          }\n        } else {\n          this.updateValue(mappedValue);\n        }\n        let styleClass = this.isOn() ? this.getOnClass() : this.getOffClass();\n        if (this._element.hasAttribute('styling')) {\n          styleClass = cv.Application.structureController.styleValue(\n            this._element.getAttribute('styling'),\n            value,\n            this.__store\n          );\n        }\n        this.setStyleClass(styleClass);\n      }\n    },\n\n    _applyProgress(value) {\n      let valueElement = this._element.querySelector(':scope > svg > circle.bar');\n\n      if (!valueElement) {\n        this._initProgress();\n        valueElement = this._element.querySelector(':scope > svg > circle.bar');\n      }\n      if (valueElement) {\n        if (this._element.hasAttribute('progress-mapping')) {\n          value = cv.Application.structureController.mapValue(\n            this._element.getAttribute('progress-mapping'),\n            value,\n            this.__store\n          );\n        }\n        valueElement.setAttribute(\n          'stroke-dashoffset',\n          '' + (this.__circumference - (value / 100) * this.__circumference)\n        );\n      }\n    },\n\n    _applyStyleClass(value, oldValue) {\n      const classes = this._element.classList;\n      if (oldValue && classes.contains(oldValue)) {\n        classes.remove(oldValue);\n      }\n      if (value) {\n        classes.add(value);\n      }\n    },\n\n    _applyName(value) {\n      if (!this.__textLabel) {\n        this.__textLabel = document.createElement('label');\n        this.__textLabel.classList.add('button-label');\n        this._element.appendChild(this.__textLabel);\n      }\n      this.__textLabel.textContent = value;\n    },\n\n    updateValue(value) {\n      const elem = this._element.querySelector('span.value');\n      if (elem) {\n        elem.innerHTML = value;\n      }\n    },\n\n    /**\n     * Handles the incoming data from the backend for this widget\n     *\n     * @param ev {CustomEvent} stateUpdate event fired from a cv-address component\n     */\n    onStateUpdate(ev) {\n      // using == comparisons to make sure that e.g. 1 equals \"1\"\n      // noinspection EqualityComparisonWithCoercionJS\n      let value = ev.detail.state == this.getOnValue();\n      let target = ev.detail.target || 'default';\n      if (ev.detail.source instanceof cv.ui.structure.tile.elements.Address) {\n        const addressElement = ev.detail.source.getElement();\n        if (addressElement.hasAttribute('value')) {\n          // noinspection EqualityComparisonWithCoercionJS\n          value = ev.detail.state == addressElement.getAttribute('value');\n        }\n      }\n      if (target === 'default') {\n        this.setOn(value);\n      } else if (target === 'progress') {\n        this.setProgress(ev.detail.state);\n      } else if (target.startsWith('store:')) {\n        this.__store.set(target.substring(6), ev.detail.state);\n      } else if (target === 'store') {\n        // use targetConfig as store key if available, address as fallback\n        this.__store.set(ev.detail.targetConfig && ev.detail.targetConfig.length === 1 ? ev.detail.targetConfig[0] : ev.detail.address, ev.detail.state);\n      }\n    },\n\n    onClicked(event) {\n      this.createRipple(event);\n      if (this._element.hasAttribute('doc-link')) {\n        let relPath = this._element.getAttribute('doc-link');\n        // add locale and version\n        const baseVersion = cv.Version.VERSION.split('.').slice(0, 2).join('.');\n        let language = qx.locale.Manager.getInstance().getLanguage();\n        if (language !== 'de') {\n          // documentation only exists in 'de' and 'en'\n          language = 'en';\n        }\n        window.open(`https://www.cometvisu.org/CometVisu/${language}/${baseVersion}/manual/${relPath}`);\n        event.stopPropagation();\n      } else {\n        if (!this._writeAddresses) {\n          this._writeAddresses = Array.prototype.filter.call(\n            this._element.querySelectorAll('addresses > cv-address'),\n            address => !address.hasAttribute('mode') || address.getAttribute('mode') !== 'read'\n          );\n        }\n        const ev = new CustomEvent('sendState', {\n          detail: {\n            value: this.isOn() ? this.getOffValue() : this.getOnValue(),\n            source: this\n          }\n        });\n\n        const wa = this._writeAddresses\n          .filter(addr => !addr.hasAttribute('on') || addr.getAttribute('on') === 'click');\n\n        if (this.getType() === 'trigger') {\n          // simulate feedback\n          // using == comparisons to make sure that e.g. 1 equals \"1\"\n          // noinspection EqualityComparisonWithCoercionJS\n          const simulatedValue = wa[0].getAttribute('value') == this._triggerOnValue;\n          this.setOn(simulatedValue);\n          qx.event.Timer.once(\n            () => {\n              this.setOn(!simulatedValue);\n            },\n            null,\n            500\n          );\n        }\n        wa.forEach(address => address.dispatchEvent(ev));\n        event.stopPropagation();\n      }\n    },\n\n    onPointerDown() {\n      this._writeAddresses\n        .filter(addr => addr.getAttribute('on') === 'down' && addr.hasAttribute('value'))\n        .forEach(address => {\n          address.dispatchEvent(\n            new CustomEvent('sendState', {\n              detail: {\n                value: address.getAttribute('value'),\n                source: this\n              }\n            })\n          );\n        });\n    },\n\n    onPointerUp() {\n      this._writeAddresses\n        .filter(addr => addr.getAttribute('on') === 'up' && addr.hasAttribute('value'))\n        .forEach(address => {\n          address.dispatchEvent(\n            new CustomEvent('sendState', {\n              detail: {\n                value: address.getAttribute('value'),\n                source: this\n              }\n            })\n          );\n        });\n    },\n\n    createRipple(event) {\n      const button = event.currentTarget;\n      let container = button.querySelector(':scope .ripple-container');\n      if (!container) {\n        container = document.createElement('div');\n        container.classList.add('ripple-container');\n        button.appendChild(container);\n      }\n      const circle = document.createElement('span');\n      const diameter = Math.max(button.clientWidth, button.clientHeight);\n      const radius = diameter / 2;\n      circle.style.width = circle.style.height = `${diameter}px`;\n      let x = event.clientX - (button.offsetLeft + radius);\n      let y = event.clientY - (button.offsetTop + radius);\n      if (button === this._element) {\n        x -= button.offsetParent.offsetLeft;\n        y -= button.offsetParent.offsetTop;\n      }\n      circle.style.left = `${x}px`;\n      circle.style.top = `${y}px`;\n      circle.classList.add('ripple');\n      // remove old ones\n      container.querySelectorAll('.ripple').forEach(ripple => ripple.remove());\n      container.appendChild(circle);\n    }\n  },\n\n  defer(QxClass) {\n    customElements.define(\n      cv.ui.structure.tile.Controller.PREFIX + 'button',\n      class extends QxConnector {\n        constructor() {\n          super(QxClass);\n        }\n      }\n    );\n  }\n});\n"
  ],
  "mappings": "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"
}