{
  "version": 3,
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "extend",
    "cv",
    "ui",
    "structure",
    "tile",
    "components",
    "AbstractComponent",
    "include",
    "MPopup",
    "properties",
    "backgroundImage",
    "check",
    "nullable",
    "apply",
    "popup",
    "init",
    "outdated",
    "checkOutdated",
    "outdatedMessage",
    "events",
    "fullscreenChanged",
    "members",
    "_fullScreenMode",
    "_dateFormat",
    "_checkOutdatedTimerId",
    "_lastUpdate",
    "_maxAge",
    "_hideTimer",
    "_checkEnvironment",
    "widgets",
    "Tile",
    "superclass",
    "prototype",
    "call",
    "parent",
    "_element",
    "parentElement",
    "isWidget",
    "localName",
    "document",
    "getElementById",
    "substring",
    "setWidget",
    "_init",
    "_this",
    "util",
    "format",
    "DateFormat",
    "locale",
    "Date",
    "getDateFormat",
    "getTimeFormat",
    "_initPopupChild",
    "hasAttribute",
    "setBackgroundImage",
    "getAttribute",
    "_childPopup",
    "addEventListener",
    "resetPopup",
    "querySelector",
    "classList",
    "add",
    "event",
    "Timer",
    "addListener",
    "elem",
    "style",
    "display",
    "stop",
    "ev",
    "_this$_element$getAtt",
    "window",
    "open",
    "stopPropagation",
    "_applyBackgroundImage",
    "value",
    "concat",
    "overlay",
    "createElement",
    "insertBefore",
    "firstChild",
    "remove",
    "_applyOutdated",
    "_this2",
    "textContent",
    "firstElementChild",
    "stopImmediatePropagation",
    "valueElem",
    "getOutdatedMessage",
    "appendChild",
    "nextElementSibling",
    "start",
    "_applyOutdatedMessage",
    "setAttribute",
    "_applyCheckOutdated",
    "timer",
    "TimerManager",
    "getInstance",
    "isNaN",
    "getTime",
    "setOutdated",
    "setOutdatedMessage",
    "Manager",
    "tr",
    "age",
    "Math",
    "floor",
    "now",
    "error",
    "_typeof",
    "resetOutdatedMessage",
    "_this3",
    "_openPopupChild",
    "_headerFooterParent",
    "target",
    "closeButton",
    "icon",
    "setPopup",
    "fireDataEvent",
    "registerModalPopup",
    "close",
    "keepState",
    "_closePopupChild",
    "unregisterModalPopup",
    "_autoCloseTimer",
    "fireEvent",
    "_applyPopup",
    "onStateUpdate",
    "detail",
    "state",
    "addressValue",
    "restart",
    "targetConfig",
    "length",
    "parseInt",
    "shift",
    "Number",
    "POSITIVE_INFINITY",
    "debug",
    "destruct",
    "_disposeObjects",
    "defer",
    "QxClass",
    "customElements",
    "Controller",
    "PREFIX",
    "_QxConnector",
    "_class",
    "_classCallCheck",
    "_callSuper",
    "_inherits",
    "_createClass",
    "QxConnector"
  ],
  "sources": [
    "/home/runner/work/CometVisu/CometVisu/source/class/cv/ui/structure/tile/widgets/Tile.js"
  ],
  "sourcesContent": [
    "/* Tile.js\n *\n * copyright (c) 2010-2022, Christian Mayer and the CometVisu contributers.\n *\n * This program is free software; you can redistribute it and/or modify it\n * under the terms of the GNU General Public License as published by the Free\n * Software Foundation; either version 3 of the License, or (at your option)\n * any later version.\n *\n * This program is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for\n * more details.\n *\n * You should have received a copy of the GNU General Public License along\n * with this program; if not, write to the Free Software Foundation, Inc.,\n * 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA\n */\n\n/**\n * Shows a tile\n */\nqx.Class.define('cv.ui.structure.tile.widgets.Tile', {\n  extend: cv.ui.structure.tile.components.AbstractComponent,\n  include: cv.ui.structure.tile.MPopup,\n\n  /*\n  ***********************************************\n    PROPERTIES\n  ***********************************************\n  */\n  properties: {\n    backgroundImage: {\n      check: 'String',\n      nullable: true,\n      apply: '_applyBackgroundImage'\n    },\n\n    /**\n     * Turn this tile into a popup\n     */\n    popup: {\n      check: 'Boolean',\n      init: false,\n      apply: '_applyPopup'\n    },\n\n    outdated: {\n      check: 'Boolean',\n      init: false,\n      apply: '_applyOutdated'\n    },\n\n    checkOutdated: {\n      check: 'Boolean',\n      init: false,\n      apply: '_applyCheckOutdated'\n    },\n\n    outdatedMessage: {\n      check: 'String',\n      nullable: true,\n      apply: '_applyOutdatedMessage'\n    }\n  },\n\n  /*\n  ***********************************************\n    EVENTS\n  ***********************************************\n  */\n  events: {\n    fullscreenChanged: 'qx.event.type.Data'\n  },\n\n  /*\n  ***********************************************\n    MEMBERS\n  ***********************************************\n  */\n  members: {\n    _fullScreenMode: null,\n    _dateFormat: null,\n    _checkOutdatedTimerId: null,\n    _lastUpdate: null,\n    _maxAge: null,\n    _hideTimer: null,\n\n    _checkEnvironment() {\n      super._checkEnvironment();\n      const parent = this._element.parentElement;\n      let isWidget = parent.localName === 'cv-widget' || !!document.getElementById(parent.localName.substring(3));\n      this.setWidget(isWidget);\n    },\n\n    _init() {\n      super._init();\n      this._dateFormat = new qx.util.format.DateFormat(qx.locale.Date.getDateFormat('medium') + ' ' + qx.locale.Date.getTimeFormat('medium'));\n      this._initPopupChild();\n      if (this._element.hasAttribute('background-image')) {\n        this.setBackgroundImage(this._element.getAttribute('background-image'));\n      }\n      if (this._childPopup) {\n        this._childPopup.addEventListener('closed', () => {\n          this.resetPopup();\n        });\n      }\n      if (this._element.querySelector(':scope > label.title')) {\n        this._element.classList.add('has-title');\n      }\n\n      this._hideTimer = new qx.event.Timer(5000);\n      this._hideTimer.addListener('interval', () => {\n        const elem = this._element.querySelector(':scope > .outdated-value');\n        if (elem.style.display !== 'none') {\n          elem.style.display = 'none';\n        }\n        this._hideTimer.stop();\n      });\n\n      if (this._element.hasAttribute('href')) {\n        this._element.addEventListener('click', ev => {\n          window.open(this._element.getAttribute('href'), this._element.getAttribute('target') ?? '_blank');\n          ev.stopPropagation();\n        });\n      }\n    },\n\n    _applyBackgroundImage(value) {\n      if (value) {\n        this._element.style.backgroundImage = `url(${value})`;\n        let overlay = this._element.querySelector(':scope > div.overlay');\n        if (!overlay) {\n          overlay = document.createElement('div');\n          overlay.classList.add('overlay');\n          this._element.insertBefore(overlay, this._element.firstChild);\n        }\n        this._element.classList.add('has-bg-image');\n      } else {\n        this._element.style.backgroundImage = '';\n        this._element.classList.remove('has-bg-image');\n      }\n    },\n\n    _applyOutdated(value) {\n      let elem = this._element.querySelector(':scope > .outdated');\n      if (value) {\n        this._element.classList.add('outdated');\n        if (!elem) {\n          elem = document.createElement('div');\n          elem.classList.add('outdated');\n          elem.textContent = '!';\n          this._element.insertBefore(elem, this._element.firstElementChild);\n          // capture all clicks by stealing the initial event\n          elem.addEventListener('pointerdown', ev => {\n            ev.stopImmediatePropagation();\n          });\n          elem.addEventListener('click', ev => {\n            // show last updated value for 5 seconds\n            let valueElem = this._element.querySelector(':scope > .outdated-value');\n            if (!valueElem) {\n              valueElem = document.createElement('div');\n              valueElem.classList.add('outdated-value');\n              valueElem.textContent = this.getOutdatedMessage();\n              this._element.appendChild(valueElem);\n              this._element.insertBefore(valueElem, elem.nextElementSibling);\n              // capture all clicks by stealing the initial event\n              valueElem.addEventListener('pointerdown', ev => {\n                ev.stopImmediatePropagation();\n                valueElem.style.display = 'none';\n              });\n            } else {\n              valueElem.style.display = 'block';\n            }\n            this._hideTimer.start();\n          });\n        }\n        elem.style.display = 'block';\n      } else {\n        this._element.classList.remove('outdated');\n        if (elem) {\n          elem.style.display = 'none';\n        }\n      }\n    },\n\n    _applyOutdatedMessage(value) {\n      this._element.setAttribute('title', value);\n      let valueElem = this._element.querySelector(':scope > .outdated-value');\n      if (valueElem) {\n        valueElem.textContent = value;\n      }\n    },\n\n    _applyCheckOutdated(value) {\n      const timer = qx.util.TimerManager.getInstance();\n      if (value) {\n        this._checkOutdatedTimerId = timer.start(this.checkOutdated, 5000, this);\n      } else if (this._checkOutdatedTimerId) {\n        timer.stop(this._checkOutdatedTimerId);\n        this._checkOutdatedTimerId = null;\n      }\n    },\n\n    checkOutdated() {\n      if (this._lastUpdate instanceof Date) {\n        if (isNaN(this._lastUpdate.getTime())) {\n          this.setOutdated(true);\n          this.setOutdatedMessage(qx.locale.Manager.tr('Last update: unknown'));\n        } else {\n          const age = Math.floor((Date.now() - this._lastUpdate.getTime()) / 1000);\n          this.setOutdated(age > this._maxAge);\n          this.setOutdatedMessage(qx.locale.Manager.tr('Last update: %1', this._dateFormat.format(this._lastUpdate)));\n        }\n      } else if (this._lastUpdate === '-') {\n        this.setOutdated(true);\n        this.setOutdatedMessage(qx.locale.Manager.tr('Last update: unknown'));\n      } else {\n        this.error('last-update value must be a Date object, but is of type:', typeof this._lastUpdate, this._lastUpdate);\n        this.resetOutdatedMessage();\n      }\n    },\n\n    open() {\n      if (this._childPopup) {\n        this._openPopupChild();\n      } else if (this._headerFooterParent) {\n        const target = this._headerFooterParent;\n        let closeButton = target.querySelector(':scope > button.close');\n        if (!closeButton) {\n          closeButton = document.createElement('button');\n          closeButton.classList.add('close');\n          const icon = document.createElement('i');\n          icon.classList.add('ri-close-line');\n          closeButton.appendChild(icon);\n          target.appendChild(closeButton);\n          closeButton.addEventListener('click', () => this.setPopup(false));\n        }\n        closeButton.style.display = 'block';\n        target.classList.add('popup');\n        if (this._fullScreenMode) {\n          target.classList.add('fullscreen');\n          this.fireDataEvent('fullscreenChanged', true);\n        }\n        this.registerModalPopup();\n      }\n    },\n\n    close(keepState) {\n      if (!keepState) {\n        this.setPopup(false);\n      }\n      if (this._childPopup) {\n        this._closePopupChild();\n      } else if (this._headerFooterParent) {\n        this._headerFooterParent.classList.remove('popup');\n        if (this._fullScreenMode) {\n          this._headerFooterParent.classList.remove('fullscreen');\n          this.fireDataEvent('fullscreenChanged', true);\n        }\n        let closeButton = this._headerFooterParent.querySelector(':scope > button.close');\n        if (closeButton) {\n          closeButton.style.display = 'none';\n        }\n        this.unregisterModalPopup();\n      }\n      if (this._autoCloseTimer) {\n        this._autoCloseTimer.stop();\n      }\n      this.fireEvent('closed');\n    },\n\n    _applyPopup(value) {\n      if (value) {\n        this.open();\n      } else {\n        this.close(true);\n      }\n    },\n\n    /**\n     * Handles the incoming data from the backend for this widget\n     *\n     * @param ev {CustomEvent} stateUpdate event fired from a cv-address component\n     */\n    onStateUpdate(ev) {\n      if (!super.onStateUpdate(ev)) {\n        switch (ev.detail.target) {\n          case 'background-image':\n            this.setBackgroundImage(ev.detail.state);\n            break;\n\n          case 'popup':\n          case 'fullscreen-popup':\n            this._fullScreenMode = ev.detail.target === 'fullscreen-popup';\n            if (ev.detail.addressValue) {\n              // only open when the sent value equals the fixed value\n              // noinspection EqualityComparisonWithCoercionJS\n              if (ev.detail.addressValue == ev.detail.state) {\n                this.setPopup(true);\n                // this is not closing by address, so we set a close timeout to 3 minutes\n                if (!this._autoCloseTimer) {\n                  this._autoCloseTimer = new qx.event.Timer(180 * 1000);\n                  this._autoCloseTimer.addListener('interval', this.close, this);\n                }\n                this._autoCloseTimer.restart();\n              }\n            } else {\n              // open / close depending on value\n              // noinspection EqualityComparisonWithCoercionJS\n              this.setPopup(ev.detail.state == 1);\n            }\n            break;\n\n          case 'last-update':\n            this._maxAge = ev.detail.targetConfig && ev.detail.targetConfig.length > 0 ? parseInt(ev.detail.targetConfig.shift()) : Number.POSITIVE_INFINITY;\n            this._lastUpdate = ev.detail.state;\n            this.checkOutdated();\n            break;\n\n          default:\n            this.debug('unhandled address target', ev.detail.target);\n        }\n      }\n    },\n\n    /*\n    ***********************************************\n      DESTRUCTOR\n    ***********************************************\n    */\n    destruct() {\n      this._disposeObjects('_dateFormat');\n      if (this._checkOutdatedTimerId) {\n        qx.util.TimerManager.getInstance().stop(this._checkOutdatedTimerId);\n        this._checkOutdatedTimerId = null;\n      }\n    }\n  },\n\n  defer(QxClass) {\n    customElements.define(\n      cv.ui.structure.tile.Controller.PREFIX + 'tile',\n      class extends QxConnector {\n        constructor() {\n          super(QxClass);\n        }\n      }\n    );\n  }\n});\n"
  ],
  "mappings": "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",
  "ignoreList": []
}