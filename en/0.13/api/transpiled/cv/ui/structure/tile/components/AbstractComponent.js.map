{
  "version": 3,
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "extend",
    "cv",
    "ui",
    "structure",
    "tile",
    "elements",
    "AbstractCustomElement",
    "type",
    "properties",
    "value",
    "apply",
    "init",
    "styleClass",
    "check",
    "nullable",
    "enabled",
    "visibility",
    "event",
    "widget",
    "inPopup",
    "members",
    "_writeAddresses",
    "_headerFooterParent",
    "_checkIfWidget",
    "isWidget",
    "isPopup",
    "_element",
    "parentElement",
    "localName",
    "i",
    "parent",
    "startsWith",
    "document",
    "getElementById",
    "substring",
    "setInPopup",
    "setWidget",
    "_init",
    "_this",
    "element",
    "hasReadAddress",
    "writeAddresses",
    "Array",
    "prototype",
    "forEach",
    "call",
    "querySelectorAll",
    "address",
    "mode",
    "hasAttribute",
    "getAttribute",
    "push",
    "addEventListener",
    "ev",
    "onStateUpdate",
    "stopPropagation",
    "appendToHeader",
    "align",
    "header",
    "querySelector",
    "createElement",
    "insertBefore",
    "firstElementChild",
    "targetParent",
    "classList",
    "add",
    "appendChild",
    "getHeader",
    "selector",
    "appendToFooter",
    "footer",
    "getFooter",
    "_applyValue",
    "isConnected",
    "setAttribute",
    "mappedValue",
    "Application",
    "structureController",
    "mapValue",
    "util",
    "String",
    "sprintf",
    "Date",
    "toLocaleString",
    "_updateValue",
    "styleValue",
    "setStyleClass",
    "_applyStyleClass",
    "oldValue",
    "classes",
    "contains",
    "replace",
    "remove",
    "_applyEnabled",
    "blocker",
    "preventDefault",
    "style",
    "display",
    "_applyVisibility",
    "target",
    "opacity",
    "detail",
    "setEnabled",
    "state",
    "setVisibility",
    "setValue",
    "destruct",
    "components",
    "AbstractComponent"
  ],
  "sources": [
    "/home/runner/work/CometVisu/CometVisu/source/class/cv/ui/structure/tile/components/AbstractComponent.js"
  ],
  "sourcesContent": [
    "/* AbstractComponent.js\n *\n * copyright (c) 2010-2022, Christian Mayer and the CometVisu contributers.\n *\n * This program is free software; you can redistribute it and/or modify it\n * under the terms of the GNU General Public License as published by the Free\n * Software Foundation; either version 3 of the License, or (at your option)\n * any later version.\n *\n * This program is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for\n * more details.\n *\n * You should have received a copy of the GNU General Public License along\n * with this program; if not, write to the Free Software Foundation, Inc.,\n * 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA\n */\n\n/**\n * Base class for all components.\n */\nqx.Class.define('cv.ui.structure.tile.components.AbstractComponent', {\n  extend: cv.ui.structure.tile.elements.AbstractCustomElement,\n  type: 'abstract',\n\n  /*\n  ***********************************************\n    PROPERTIES\n  ***********************************************\n  */\n  properties: {\n    value: {\n      apply: '_applyValue',\n      init: null\n    },\n\n    styleClass: {\n      check: 'String',\n      nullable: true,\n      apply: '_applyStyleClass'\n    },\n\n    enabled: {\n      check: 'Boolean',\n      init: true,\n      apply: '_applyEnabled'\n    },\n\n    visibility: {\n      check: ['visible', 'excluded', 'hidden'],\n      init: 'visible',\n      apply: '_applyVisibility',\n      event: 'changeVisibility'\n    },\n\n    /**\n     * True if this tile is the content of a template based widget\n     */\n    widget: {\n      check: 'Boolean',\n      init: 'false'\n    },\n\n    /**\n     * True if this tile is the content of a popup\n     */\n    inPopup: {\n      check: 'Boolean',\n      init: 'false'\n    }\n  },\n\n  /*\n  ***********************************************\n    MEMBERS\n  ***********************************************\n  */\n  members: {\n    _writeAddresses: null,\n    _headerFooterParent: null,\n\n    _checkIfWidget() {\n      let isWidget = false;\n      let isPopup = false;\n      if (this._element.parentElement.localName === 'cv-popup') {\n        this._headerFooterParent = this._element.parentElement;\n        isPopup = true;\n      } else {\n        let tile = this._element;\n        let i = 0;\n        // we are looking for cv-tile parent which is the direct child of a widget\n        while (tile.localName !== 'cv-tile') {\n          tile = tile.parentElement;\n          i++;\n          if (i > 2) {\n            tile = null;\n            break;\n          }\n        }\n        if (tile) {\n          let parent = tile.parentElement;\n          this._headerFooterParent = parent;\n          if (parent.localName === 'cv-popup') {\n            isPopup = true;\n          } else if (parent.localName.startsWith('cv-')) {\n            isWidget = parent.localName === 'cv-widget' || !!document.getElementById(parent.localName.substring(3));\n          }\n        }\n      }\n      this.setInPopup(isPopup);\n      this.setWidget(isWidget);\n    },\n\n    _init() {\n      this._checkIfWidget();\n\n      const element = this._element;\n      let hasReadAddress = false;\n      const writeAddresses = [];\n      Array.prototype.forEach.call(element.querySelectorAll(':scope > cv-address'), address => {\n        const mode = address.hasAttribute('mode') ? address.getAttribute('mode') : 'readwrite';\n        switch (mode) {\n          case 'readwrite':\n            hasReadAddress = true;\n            writeAddresses.push(address);\n            break;\n          case 'read':\n            hasReadAddress = true;\n            break;\n          case 'write':\n            writeAddresses.push(address);\n            break;\n        }\n      });\n\n      this._writeAddresses = writeAddresses;\n\n      if (hasReadAddress) {\n        element.addEventListener('stateUpdate', ev => {\n          this.onStateUpdate(ev);\n          // cancel event here\n          ev.stopPropagation();\n        });\n      }\n    },\n\n    /**\n     * Append the given element to a header inside the widget this component is a direct child of.\n     * If the header does not exist yet, it will be created.\n     * Does nothing when this component is no direct child of a widget.\n     * @param element {HTMLElement}\n     * @param align {String} center (default), left or right\n     */\n    appendToHeader(element, align) {\n      if (this._headerFooterParent) {\n        let header = this._headerFooterParent.querySelector(':scope > header');\n        if (!header) {\n          header = document.createElement('header');\n          this._headerFooterParent.insertBefore(header, this._headerFooterParent.firstElementChild);\n        }\n        let targetParent = header;\n        if (align) {\n          targetParent = header.querySelector('.' + align);\n          if (!targetParent) {\n            targetParent = document.createElement('div');\n            targetParent.classList.add(align);\n          }\n          header.appendChild(targetParent);\n        }\n        targetParent.appendChild(element);\n      }\n    },\n\n    /**\n     * Gets the header or an element inside it, if the selector is not empty\n     * @param selector {String} css selector\n     * @return {Element|null}\n     */\n    getHeader(selector) {\n      if (this._headerFooterParent) {\n        if (!selector) {\n          return this._headerFooterParent.querySelector(':scope > header');\n        } \n          const header = this._headerFooterParent.querySelector(':scope > header');\n          if (header) {\n            return header.querySelector(selector);\n          }\n      }\n      return null;\n    },\n\n    /**\n     * Append the given element to a footer inside the widget this component is a direct child of.\n     * If the footer does not exist yet, it will be created.\n     * Does nothing when this component is no direct child of a widget.\n     * @param element {HTMLElement}\n     */\n    appendToFooter(element) {\n      if (this._headerFooterParent) {\n        let footer = this._headerFooterParent.querySelector(':scope > footer');\n        if (!footer) {\n          footer = document.createElement('footer');\n          this._headerFooterParent.appendChild(footer);\n        }\n        footer.appendChild(element);\n      }\n    },\n\n    /**\n     * Gets the footer or an element inside it, if the selector is not empty\n     * @param selector {String} css selector\n     * @return {Element|null}\n     */\n    getFooter(selector) {\n      if (this._headerFooterParent) {\n        if (!selector) {\n          return this._headerFooterParent.querySelector(':scope > footer');\n        } \n          const footer = this._headerFooterParent.querySelector(':scope > footer');\n          if (footer) {\n            return footer.querySelector(selector);\n          }\n      }\n      return null;\n    },\n\n    // property apply\n    _applyValue(value) {\n      if (this.isConnected()) {\n        this._element.setAttribute('value', value || '');\n        let mappedValue = value;\n        if (this._element.hasAttribute('mapping') && this._element.getAttribute('mapping')) {\n          mappedValue = cv.Application.structureController.mapValue(this._element.getAttribute('mapping'), value);\n        }\n        if (this._element.hasAttribute('format') && this._element.getAttribute('format')) {\n          mappedValue = cv.util.String.sprintf(\n            this._element.getAttribute('format'),\n            mappedValue instanceof Date ? mappedValue.toLocaleString() : mappedValue\n          );\n        }\n        this._updateValue(mappedValue, value);\n        if (this._element.hasAttribute('styling') && this._element.getAttribute('styling')) {\n          let styleClass = cv.Application.structureController.styleValue(this._element.getAttribute('styling'), value);\n\n          this.setStyleClass(styleClass);\n        }\n      }\n    },\n\n    // needs to be implemented by inheriting classes\n    _updateValue(mappedValue, value) {},\n\n    // property apply\n    _applyStyleClass(value, oldValue) {\n      const classes = this._element.classList;\n      if (oldValue) {\n        if (classes.contains(oldValue)) {\n          classes.replace(oldValue, value);\n        } else {\n          classes.add(value);\n          classes.remove(oldValue);\n        }\n      } else if (value) {\n        classes.add(value);\n      }\n    },\n\n    _applyEnabled(value) {\n      let blocker = this._element.querySelector(':scope > .blocker');\n      if (!blocker) {\n        blocker = document.createElement('div');\n        blocker.classList.add('blocker');\n        this._element.appendChild(blocker);\n        blocker.addEventListener('click', ev => {\n          ev.preventDefault();\n          ev.stopPropagation();\n        });\n        blocker.addEventListener('pointerdown', ev => {\n          ev.preventDefault();\n          ev.stopPropagation();\n        });\n        blocker.addEventListener('pointerup', ev => {\n          ev.preventDefault();\n          ev.stopPropagation();\n        });\n      }\n      this._element.setAttribute('disabled', value === false ? 'true' : 'false');\n\n      blocker.style.display = value === true ? 'none' : 'block';\n    },\n\n    _applyVisibility(value, oldValue) {\n      const target = this.isWidget() ? this._element.parentElement : this._element;\n      if (oldValue === 'hidden') {\n        target.style.opacity = '1.0';\n      }\n      switch (value) {\n        case 'visible':\n          target.style.display = null;\n          break;\n\n        case 'hidden':\n          target.style.opacity = '0';\n          break;\n\n        case 'excluded':\n          target.style.display = 'none';\n          break;\n      }\n    },\n\n    /**\n     * Handles the incoming data from the backend for this widget\n     *\n     * @param ev {CustomEvent} stateUpdate event fired from an cv-address component\n     * @return {Boolean} true of the update has been handled\n     */\n    onStateUpdate(ev) {\n      switch (ev.detail.target) {\n        case 'enabled':\n          this.setEnabled(ev.detail.state === 1);\n          ev.stopPropagation();\n          return true;\n        case 'show-exclude':\n          this.setVisibility(ev.detail.state ? 'visible' : 'excluded');\n          ev.stopPropagation();\n          return true;\n        case 'show-hide':\n          this.setVisibility(ev.detail.state ? 'visible' : 'hidden');\n          ev.stopPropagation();\n          return true;\n        case '':\n          this.setValue(ev.detail.state);\n          ev.stopPropagation();\n          return true;\n      }\n\n      return false;\n    }\n  },\n\n  /*\n  ***********************************************\n    DESTRUCTOR\n  ***********************************************\n  */\n  destruct() {\n    this._writeAddresses = null;\n    this._headerFooterParent = null;\n  }\n});\n"
  ],
  "mappings": "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"
}