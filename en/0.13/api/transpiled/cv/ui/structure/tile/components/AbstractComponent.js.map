{
  "version": 3,
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "extend",
    "cv",
    "ui",
    "structure",
    "tile",
    "elements",
    "AbstractCustomElement",
    "type",
    "construct",
    "element",
    "constructor",
    "call",
    "_preMappingHooks",
    "properties",
    "value",
    "apply",
    "init",
    "nullable",
    "event",
    "styleClass",
    "check",
    "enabled",
    "visibility",
    "widget",
    "inPopup",
    "statics",
    "dateFormats",
    "members",
    "_writeAddresses",
    "_headerFooterParent",
    "_tileElement",
    "__mobileReplacements",
    "_checkEnvironment",
    "_element",
    "parentElement",
    "localName",
    "_getTileParent",
    "parent",
    "setInPopup",
    "i",
    "_init",
    "_this",
    "hasReadAddress",
    "writeAddresses",
    "Array",
    "prototype",
    "forEach",
    "querySelectorAll",
    "address",
    "mode",
    "hasAttribute",
    "getAttribute",
    "push",
    "length",
    "addEventListener",
    "ev",
    "onStateUpdate",
    "stopPropagation",
    "_iterator",
    "_createForOfIteratorHelper",
    "getAttributeNames",
    "_step",
    "s",
    "n",
    "done",
    "name",
    "startsWith",
    "targetName",
    "substring",
    "mobile",
    "desktop",
    "target",
    "err",
    "e",
    "f",
    "core",
    "Init",
    "getApplication",
    "addListener",
    "__updateAttributes",
    "document",
    "body",
    "classList",
    "contains",
    "isMobile",
    "_iterator2",
    "_step2",
    "entry",
    "setAttribute",
    "getElement",
    "appendToHeader",
    "align",
    "arguments",
    "undefined",
    "header",
    "querySelector",
    "createElement",
    "insertBefore",
    "firstElementChild",
    "targetParent",
    "add",
    "appendChild",
    "getHeader",
    "selector",
    "appendToFooter",
    "footer",
    "getFooter",
    "registerPreMappingHook",
    "callback",
    "context",
    "exists",
    "some",
    "unregisterPreMappingHook",
    "filter",
    "_applyValue",
    "isConnected",
    "mappedValue",
    "_iterator3",
    "_step3",
    "hookEntry",
    "Application",
    "structureController",
    "mapValue",
    "format",
    "Date",
    "includes",
    "components",
    "AbstractComponent",
    "util",
    "DateFormat",
    "String",
    "sprintf",
    "toLocaleString",
    "_updateValue",
    "styleValue",
    "setStyleClass",
    "_applyStyleClass",
    "oldValue",
    "classes",
    "remove",
    "_applyEnabled",
    "blocker",
    "preventDefault",
    "style",
    "display",
    "_applyVisibility",
    "isWidget",
    "opacity",
    "active",
    "detail",
    "addressValue",
    "state",
    "setEnabled",
    "setVisibility",
    "styling",
    "targetConfig",
    "setValue",
    "destruct",
    "removeListener"
  ],
  "sources": [
    "/home/runner/work/CometVisu/CometVisu/source/class/cv/ui/structure/tile/components/AbstractComponent.js"
  ],
  "sourcesContent": [
    "/* AbstractComponent.js\n *\n * copyright (c) 2010-2022, Christian Mayer and the CometVisu contributers.\n *\n * This program is free software; you can redistribute it and/or modify it\n * under the terms of the GNU General Public License as published by the Free\n * Software Foundation; either version 3 of the License, or (at your option)\n * any later version.\n *\n * This program is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for\n * more details.\n *\n * You should have received a copy of the GNU General Public License along\n * with this program; if not, write to the Free Software Foundation, Inc.,\n * 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA\n */\n\n/**\n * Base class for all components.\n */\nqx.Class.define('cv.ui.structure.tile.components.AbstractComponent', {\n  extend: cv.ui.structure.tile.elements.AbstractCustomElement,\n  type: 'abstract',\n\n  /*\n  ***********************************************\n    CONSTRUCTOR\n  ***********************************************\n  */\n  construct(element) {\n    super(element);\n    this._preMappingHooks = [];\n  },\n\n  /*\n  ***********************************************\n    PROPERTIES\n  ***********************************************\n  */\n  properties: {\n    value: {\n      apply: '_applyValue',\n      init: null,\n      nullable: true,\n      event: 'changeValue'\n    },\n\n    styleClass: {\n      check: 'String',\n      nullable: true,\n      apply: '_applyStyleClass',\n      event: 'changeStyleClass'\n    },\n\n    enabled: {\n      check: 'Boolean',\n      init: true,\n      apply: '_applyEnabled'\n    },\n\n    visibility: {\n      check: ['visible', 'excluded', 'hidden'],\n      init: 'visible',\n      apply: '_applyVisibility',\n      event: 'changeVisibility'\n    },\n\n    /**\n     * True if this tile is the content of a template based widget\n     */\n    widget: {\n      check: 'Boolean',\n      init: false\n    },\n\n    /**\n     * True if this tile is the content of a popup\n     */\n    inPopup: {\n      check: 'Boolean',\n      init: false\n    }\n  },\n\n  /*\n  ***********************************************\n    STATICS\n  ***********************************************\n  */\n  statics: {\n    dateFormats: {}\n  },\n\n  /*\n  ***********************************************\n    MEMBERS\n  ***********************************************\n  */\n  members: {\n    _writeAddresses: null,\n    _headerFooterParent: null,\n    _preMappingHooks: null,\n    _tileElement: null,\n    __mobileReplacements: null,\n\n    _checkEnvironment() {\n      let inPopup = false;\n      if (this._element.parentElement.localName === 'cv-popup') {\n        this._headerFooterParent = this._element.parentElement;\n        inPopup = true;\n      } else {\n        let tile = this._getTileParent();\n        if (tile) {\n          let parent = tile.parentElement;\n          this._headerFooterParent = parent;\n          if (parent.localName === 'cv-popup') {\n            inPopup = true;\n          }\n        }\n      }\n      this.setInPopup(inPopup);\n    },\n\n    _getTileParent() {\n      if (!this._tileElement) {\n        let tile = this._element;\n        let i = 0;\n        while (tile && tile.localName !== 'cv-tile') {\n          tile = tile.parentElement;\n          i++;\n          if (i > 2) {\n            tile = null;\n            break;\n          }\n        }\n        if (tile && tile.localName === 'cv-tile') {\n          this._tileElement = tile;\n        }\n      }\n      return this._tileElement;\n    },\n\n    _init() {\n      this._checkEnvironment();\n\n      const element = this._element;\n      let hasReadAddress = false;\n      const writeAddresses = [];\n      Array.prototype.forEach.call(element.querySelectorAll(':scope > cv-address'), address => {\n        const mode = address.hasAttribute('mode') ? address.getAttribute('mode') : 'readwrite';\n        switch (mode) {\n          case 'readwrite':\n            hasReadAddress = true;\n            writeAddresses.push(address);\n            break;\n          case 'read':\n            hasReadAddress = true;\n            break;\n          case 'write':\n            writeAddresses.push(address);\n            break;\n        }\n      });\n      if (!hasReadAddress) {\n        // address groups are read-only\n        hasReadAddress = element.querySelectorAll(':scope > cv-address-group').length > 0;\n      }\n\n      this._writeAddresses = writeAddresses;\n\n      if (hasReadAddress) {\n        element.addEventListener('stateUpdate', ev => {\n          this.onStateUpdate(ev);\n          // cancel event here\n          ev.stopPropagation();\n        });\n      }\n\n      // has mobile attributes\n      this.__mobileReplacements = [];\n\n      const check = element => {\n        for (const name of element.getAttributeNames()) {\n          if (name.startsWith('mobile-')) {\n            const targetName = name.substring(7);\n            this.__mobileReplacements.push({\n              name: targetName,\n              mobile: element.getAttribute(name),\n              desktop: element.getAttribute(targetName),\n              target: element\n            });\n          }\n        }\n      };\n      check(element);\n      if (this._headerFooterParent && this._headerFooterParent.localName === 'cv-widget') {\n        check(this._headerFooterParent);\n      }\n\n      if (this.__mobileReplacements.length > 0) {\n        qx.core.Init.getApplication().addListener('changeMobile', this.__updateAttributes, this);\n      }\n\n      if (document.body.classList.contains('mobile')) {\n        this.__updateAttributes();\n      }\n    },\n\n    __updateAttributes() {\n      const isMobile = document.body.classList.contains('mobile');\n      for (const entry of this.__mobileReplacements) {\n        entry.target.setAttribute(entry.name, isMobile ? entry.mobile : entry.desktop);\n      }\n    },\n\n    getElement() {\n      return this._element;\n    },\n\n    /**\n     * Append the given element to a header inside the widget this component is a direct child of.\n     * If the header does not exist yet, it will be created.\n     * Does nothing when this component is no direct child of a widget.\n     * @param element {HTMLElement}\n     * @param align {String} center (default), left or right\n     */\n    appendToHeader(element, align = undefined) {\n      if (this._headerFooterParent) {\n        let header = this._headerFooterParent.querySelector(':scope > header');\n        if (!header) {\n          header = document.createElement('header');\n          this._headerFooterParent.insertBefore(header, this._headerFooterParent.firstElementChild);\n        }\n        let targetParent = header;\n        if (align) {\n          targetParent = header.querySelector('.' + align);\n          if (!targetParent) {\n            targetParent = document.createElement('div');\n            targetParent.classList.add(align);\n          }\n          header.appendChild(targetParent);\n        }\n        targetParent.appendChild(element);\n      }\n    },\n\n    /**\n     * Gets the header or an element inside it, if the selector is not empty\n     * @param selector {String} css selector\n     * @return {Element|null}\n     */\n    getHeader(selector) {\n      if (this._headerFooterParent) {\n        if (!selector) {\n          return this._headerFooterParent.querySelector(':scope > header');\n        } \n          const header = this._headerFooterParent.querySelector(':scope > header');\n          if (header) {\n            return header.querySelector(selector);\n          }\n      }\n      return null;\n    },\n\n    /**\n     * Append the given element to a footer inside the widget this component is a direct child of.\n     * If the footer does not exist yet, it will be created.\n     * Does nothing when this component is no direct child of a widget.\n     * @param element {HTMLElement}\n     */\n    appendToFooter(element) {\n      if (this._headerFooterParent) {\n        let footer = this._headerFooterParent.querySelector(':scope > footer');\n        if (!footer) {\n          footer = document.createElement('footer');\n          this._headerFooterParent.appendChild(footer);\n        }\n        footer.appendChild(element);\n      }\n    },\n\n    /**\n     * Gets the footer or an element inside it, if the selector is not empty\n     * @param selector {String} css selector\n     * @return {Element|null}\n     */\n    getFooter(selector) {\n      if (this._headerFooterParent) {\n        if (!selector) {\n          return this._headerFooterParent.querySelector(':scope > footer');\n        } \n          const footer = this._headerFooterParent.querySelector(':scope > footer');\n          if (footer) {\n            return footer.querySelector(selector);\n          }\n      }\n      return null;\n    },\n\n    /**\n     * Register hook function {Function(value: number) : number} that is called before the mapping gets applied.\n     * It must return a number that is used as a new value for mapping.\n     * @param callback {{(value: number) : number}}\n     * @param context {object}\n     */\n    registerPreMappingHook(callback, context) {\n      const exists = this._preMappingHooks.some(e => e[0] === callback);\n      if (!exists) {\n        this._preMappingHooks.push([callback, context || this]);\n      }\n    },\n\n    /**\n     * Unregister pre-mapping hook\n     * @param callback {{(value: number) : number}}\n     */\n    unregisterPreMappingHook(callback) {\n      this._preMappingHooks = this._preMappingHooks.filter(e => e[0] !== callback);\n    },\n\n    // property apply\n    _applyValue(value) {\n      if (this.isConnected()) {\n        this._element.setAttribute('value', value || '');\n        let mappedValue = value;\n        for (const hookEntry of this._preMappingHooks) {\n          mappedValue = hookEntry[0].call(hookEntry[1], mappedValue);\n        }\n        if (mappedValue !== null) {\n          if (this._element.hasAttribute('mapping') && this._element.getAttribute('mapping')) {\n            mappedValue = cv.Application.structureController.mapValue(this._element.getAttribute('mapping'), mappedValue);\n          }\n          if (this._element.hasAttribute('format') && this._element.getAttribute('format')) {\n            const format = this._element.getAttribute('format');\n            if (mappedValue instanceof Date && !format.includes('%')) {\n              if (!cv.ui.structure.tile.components.AbstractComponent.dateFormats[format]) {\n                cv.ui.structure.tile.components.AbstractComponent[format] = new qx.util.format.DateFormat(format);\n              }\n              mappedValue = cv.ui.structure.tile.components.AbstractComponent[format].format(mappedValue);\n            } else {\n              mappedValue = cv.util.String.sprintf(\n                format,\n                mappedValue instanceof Date ? mappedValue.toLocaleString() : mappedValue);\n            }\n          }\n        }\n        this._updateValue(mappedValue, value);\n        if (this._element.hasAttribute('styling') && this._element.getAttribute('styling')) {\n          let styleClass = cv.Application.structureController.styleValue(this._element.getAttribute('styling'), value);\n          this.setStyleClass(styleClass);\n        }\n      }\n    },\n\n    // needs to be implemented by inheriting classes\n    _updateValue(mappedValue, value) {},\n\n    // property apply\n    _applyStyleClass(value, oldValue) {\n      const classes = this._element.classList;\n      if (oldValue && classes.contains(oldValue)) {\n        classes.remove(oldValue);\n      }\n      if (value) {\n        classes.add(value);\n      }\n    },\n\n    _applyEnabled(value) {\n      let blocker = this._element.querySelector(':scope > .blocker');\n      if (!blocker) {\n        blocker = document.createElement('div');\n        blocker.classList.add('blocker');\n        this._element.appendChild(blocker);\n        blocker.addEventListener('click', ev => {\n          ev.preventDefault();\n          ev.stopPropagation();\n        });\n        blocker.addEventListener('pointerdown', ev => {\n          ev.preventDefault();\n          ev.stopPropagation();\n        });\n        blocker.addEventListener('pointerup', ev => {\n          ev.preventDefault();\n          ev.stopPropagation();\n        });\n      }\n      this._element.setAttribute('disabled', value === false ? 'true' : 'false');\n\n      blocker.style.display = value === true ? 'none' : 'block';\n    },\n\n    _applyVisibility(value, oldValue) {\n      const target = this.isWidget() ? this._element.parentElement : this._element;\n      if (oldValue === 'hidden') {\n        target.style.opacity = '1.0';\n      }\n      switch (value) {\n        case 'visible':\n          target.style.display = null;\n          break;\n\n        case 'hidden':\n          target.style.opacity = '0';\n          break;\n\n        case 'excluded':\n          target.style.display = 'none';\n          break;\n      }\n    },\n\n    /**\n     * Handles the incoming data from the backend for this widget\n     *\n     * @param ev {CustomEvent} stateUpdate event fired from a cv-address component\n     * @return {Boolean} true of the update has been handled\n     */\n    onStateUpdate(ev) {\n      // noinspection EqualityComparisonWithCoercionJS\n      const active = ev.detail.addressValue === null ? !!ev.detail.state : ev.detail.addressValue == ev.detail.state;\n      switch (ev.detail.target) {\n        case 'enabled':\n          this.setEnabled(active);\n          ev.stopPropagation();\n          return true;\n\n        case 'show-exclude':\n          this.setVisibility(active ? 'visible' : 'excluded');\n          ev.stopPropagation();\n          return true;\n\n        case 'show-hide':\n          this.setVisibility(active ? 'visible' : 'hidden');\n          ev.stopPropagation();\n          return true;\n\n        case 'styling': {\n          let styling = '';\n          if (ev.detail.targetConfig) {\n            // use address styling if available\n            styling = ev.detail.targetConfig[0];\n          } else if (this._element.hasAttribute('styling') && this._element.getAttribute('styling')) {\n            // fallback to element styling\n            styling = this._element.getAttribute('styling');\n          }\n          const styleClass = cv.Application.structureController.styleValue(styling, ev.detail.state);\n          this.setStyleClass(styleClass);\n          ev.stopPropagation();\n          return true;\n        }\n\n        case '':\n          this.setValue(ev.detail.state);\n          ev.stopPropagation();\n          return true;\n      }\n\n      return false;\n    }\n  },\n\n  /*\n  ***********************************************\n    DESTRUCTOR\n  ***********************************************\n  */\n  destruct() {\n    this._writeAddresses = null;\n    this._headerFooterParent = null;\n    qx.core.Init.getApplication().removeListener('changeMobile', this.__updateAttributes, this);\n  }\n});\n"
  ],
  "mappings": "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",
  "ignoreList": []
}