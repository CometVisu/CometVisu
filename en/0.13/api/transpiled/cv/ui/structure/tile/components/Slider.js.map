{
  "version": 3,
  "sources": [
    "/home/runner/work/CometVisu/CometVisu/source/class/cv/ui/structure/tile/components/Slider.js"
  ],
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "extend",
    "cv",
    "ui",
    "structure",
    "tile",
    "components",
    "AbstractComponent",
    "properties",
    "stepWidth",
    "check",
    "init",
    "min",
    "apply",
    "max",
    "showValue",
    "throttleInterval",
    "members",
    "__throttled",
    "__input",
    "_init",
    "element",
    "_element",
    "hasAttribute",
    "setThrottleInterval",
    "parseInt",
    "getAttribute",
    "_applyThrottleInterval",
    "getThrottleInterval",
    "input",
    "querySelector",
    "document",
    "createElement",
    "classList",
    "add",
    "setAttribute",
    "insertBefore",
    "oninput",
    "call",
    "setStepWidth",
    "setMin",
    "setMax",
    "setShowValue",
    "_applyShowValue",
    "decreaseElement",
    "addEventListener",
    "ev",
    "onDecrease",
    "increaseElement",
    "onIncrease",
    "value",
    "util",
    "Function",
    "throttle",
    "onInput",
    "trailing",
    "abort",
    "_applyMin",
    "_applyMax",
    "valueLabel",
    "firstChild",
    "_updateValue",
    "mappedValue",
    "target",
    "isShowValue",
    "innerText",
    "__sendValue",
    "getValue",
    "getStepWidth",
    "on",
    "CustomEvent",
    "detail",
    "source",
    "_writeAddresses",
    "filter",
    "addr",
    "forEach",
    "address",
    "dispatchEvent",
    "defer",
    "QxClass",
    "customElements",
    "Controller",
    "PREFIX",
    "QxConnector",
    "Slider"
  ],
  "mappings": "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",
  "sourcesContent": [
    "/* Slider.js \n * \n * copyright (c) 2010-2022, Christian Mayer and the CometVisu contributers.\n * \n * This program is free software; you can redistribute it and/or modify it\n * under the terms of the GNU General Public License as published by the Free\n * Software Foundation; either version 3 of the License, or (at your option)\n * any later version.\n *\n * This program is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for\n * more details.\n *\n * You should have received a copy of the GNU General Public License along\n * with this program; if not, write to the Free Software Foundation, Inc.,\n * 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA\n */\n\n/**\n * Shows a range slider.\n */\nqx.Class.define('cv.ui.structure.tile.components.Slider', {\n  extend: cv.ui.structure.tile.components.AbstractComponent,\n\n  /*\n  ***********************************************\n    PROPERTIES\n  ***********************************************\n  */\n  properties: {\n    stepWidth: {\n      check: 'Number',\n      init: 5\n    },\n    min: {\n      check: 'Number',\n      init: 1,\n      apply: '_applyMin'\n    },\n    max: {\n      check: 'Number',\n      init: 100,\n      apply: '_applyMax'\n    },\n    showValue: {\n      check: 'Boolean',\n      init: true,\n      apply: '_applyShowValue'\n    },\n    throttleInterval: {\n      check: 'Number',\n      init: 250,\n      apply: '_applyThrottleInterval'\n    }\n  },\n  /*\n  ***********************************************\n    MEMBERS\n  ***********************************************\n  */\n  members: {\n    __throttled: null,\n    __input: null,\n\n    _init() {\n      this.base(arguments);\n      const element = this._element;\n      if (element.hasAttribute('throttle-interval')) {\n        this.setThrottleInterval(parseInt(element.getAttribute('throttle-interval')));\n      } else {\n        this._applyThrottleInterval(this.getThrottleInterval());\n      }\n\n      // init components\n      let input = element.querySelector(':scope > input');\n      if (!input) {\n        input = document.createElement('input');\n        input.classList.add('slider');\n        input.setAttribute('type', 'range');\n        element.insertBefore(input, element.querySelector(':scope > .up'));\n        input.oninput = () => this.__throttled.call();\n      }\n      this.__input = input;\n      if (element.hasAttribute('step-width')) {\n        this.setStepWidth(parseInt(element.getAttribute('step-width')));\n      }\n      if (element.hasAttribute('min')) {\n        this.setMin(parseInt(element.getAttribute('min')));\n      }\n      if (element.hasAttribute('max')) {\n        this.setMax(parseInt(element.getAttribute('max')));\n      }\n      if (element.hasAttribute('hide-value') && element.getAttribute('hide-value') === 'true') {\n        this.setShowValue(false);\n      } else {\n        this._applyShowValue(true);\n      }\n\n      const decreaseElement = element.querySelector(':scope > .decrease');\n      if (decreaseElement) {\n        decreaseElement.addEventListener('click', ev => this.onDecrease());\n      }\n      const increaseElement = element.querySelector(':scope > .increase');\n      if (increaseElement) {\n        increaseElement.addEventListener('click', ev => this.onIncrease());\n      }\n    },\n\n    _applyThrottleInterval(value) {\n      if (value > 0) {\n        this.__throttled = cv.util.Function.throttle(this.onInput, value, { trailing: true }, this);\n      } else {\n        // no throttling, direct call\n        this.__throttled = {\n          call: () => this.onInput(),\n          abort: () => {}\n        };\n      }\n    },\n\n    _applyMin(value) {\n      const input = this._element.querySelector(':scope > input');\n      input.setAttribute('min', '' + value);\n    },\n\n    _applyMax(value) {\n      const input = this._element.querySelector(':scope > input');\n      input.setAttribute('max', '' + value);\n    },\n\n    _applyShowValue(value) {\n      let valueLabel = this._element.querySelector(':scope > label.value');\n      if (value) {\n        if (!valueLabel) {\n          valueLabel = document.createElement('label');\n          valueLabel.classList.add('value');\n          valueLabel.classList.add('secondary');\n          this._element.insertBefore(valueLabel, this._element.firstChild);\n        }\n      }\n    },\n\n    _updateValue(mappedValue, value) {\n      const target = this._element.querySelector(':scope > input');\n      if (target) {\n        target.value = value;\n      }\n      if (this.isShowValue()) {\n        let valueLabel = this._element.querySelector(':scope > label.value');\n        if (valueLabel) {\n          valueLabel.innerText = mappedValue;\n        }\n      }\n    },\n\n    onInput() {\n      this.__sendValue(this.__input.value);\n    },\n\n    onDecrease() {\n      const value = this.getValue() - this.getStepWidth();\n      this.__sendValue(value, 'decrease');\n    },\n\n    onIncrease() {\n      const value = this.getValue() + this.getStepWidth();\n      this.__sendValue(value, 'increase');\n    },\n\n    __sendValue(value, on) {\n      const ev = new CustomEvent('sendState', {\n        detail: {\n          value: value,\n          source: this\n        }\n      });\n      this._writeAddresses.filter(addr => !addr.hasAttribute('on') || addr.getAttribute('on') === on).forEach(address => address.dispatchEvent(ev));\n    }\n  },\n\n  defer(QxClass) {\n    customElements.define(cv.ui.structure.tile.Controller.PREFIX + 'slider', class extends QxConnector {\n      constructor() {\n        super(QxClass);\n      }\n    });\n  }\n});\n"
  ]
}