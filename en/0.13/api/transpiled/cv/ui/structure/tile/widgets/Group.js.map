{
  "version": 3,
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "extend",
    "cv",
    "ui",
    "structure",
    "tile",
    "components",
    "AbstractComponent",
    "members",
    "_init",
    "element",
    "_element",
    "label",
    "summary",
    "needsSummary",
    "hasAttribute",
    "querySelector",
    "document",
    "createElement",
    "insertBefore",
    "firstChild",
    "classList",
    "add",
    "textContent",
    "getAttribute",
    "icon",
    "empty",
    "event",
    "Registration",
    "addListener",
    "_toggleOpen",
    "removeAttribute",
    "setAttribute",
    "onStateUpdate",
    "ev",
    "detail",
    "target",
    "appendChild",
    "state",
    "debug",
    "defer",
    "QxClass",
    "customElements",
    "Controller",
    "PREFIX",
    "QxConnector",
    "widgets",
    "Group"
  ],
  "sources": [
    "/home/runner/work/CometVisu/CometVisu/source/class/cv/ui/structure/tile/widgets/Group.js"
  ],
  "sourcesContent": [
    "/* Group.js\n *\n * copyright (c) 2010-2022, Christian Mayer and the CometVisu contributers.\n *\n * This program is free software; you can redistribute it and/or modify it\n * under the terms of the GNU General Public License as published by the Free\n * Software Foundation; either version 3 of the License, or (at your option)\n * any later version.\n *\n * This program is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for\n * more details.\n *\n * You should have received a copy of the GNU General Public License along\n * with this program; if not, write to the Free Software Foundation, Inc.,\n * 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA\n */\n\n/**\n * Creates a group of widgets that can be hidden (works like the <detail> HTML Element)\n *\n * @author Tobias BrÃ¤utigam\n * @since 2022\n */\nqx.Class.define('cv.ui.structure.tile.widgets.Group', {\n  extend: cv.ui.structure.tile.components.AbstractComponent,\n\n  /*\n   ******************************************************\n   MEMBERS\n   ******************************************************\n   */\n  members: {\n    _init() {\n      super._init();\n      const element = this._element;\n      let label = null;\n      let summary = null;\n      const needsSummary = element.hasAttribute('name') || element.hasAttribute('icon');\n      if (needsSummary) {\n        summary = element.querySelector(':scope > summary');\n        if (!summary) {\n          summary = document.createElement('summary');\n          element.insertBefore(summary, element.firstChild);\n        }\n        if (element.hasAttribute('name')) {\n          label = element.querySelector(':scope > summary > label.title');\n          if (!label) {\n            label = document.createElement('label');\n            label.classList.add('title');\n            summary.insertBefore(label, summary.firstChild);\n          }\n          label.classList.add('last-of-title');\n          label.textContent = element.getAttribute('name');\n        }\n        if (element.hasAttribute('icon')) {\n          let icon = element.querySelector(':scope > summary > cv-icon.title');\n          if (!icon) {\n            icon = document.createElement('cv-icon');\n            icon.classList.add('title');\n            summary.insertBefore(icon, summary.firstChild);\n          }\n          if (!label) {\n            icon.classList.add('last-of-title');\n          }\n          icon.classList.add(element.getAttribute('icon'));\n        }\n      }\n      const empty = !element.querySelector(':scope > *:not(summary)');\n      if (empty) {\n        element.classList.add('empty');\n      } else if (summary) {\n        qx.event.Registration.addListener(summary, 'click', this._toggleOpen, this);\n      }\n    },\n\n    _toggleOpen() {\n      if (this._element.hasAttribute('open')) {\n        this._element.removeAttribute('open');\n      } else {\n        this._element.setAttribute('open', 'true');\n      }\n    },\n\n    /**\n     * Handles the incoming data from the backend for this widget\n     *\n     * @param ev {CustomEvent} stateUpdate event fired from a cv-address component\n     */\n    onStateUpdate(ev) {\n      if (!super.onStateUpdate(ev)) {\n        if (ev.detail.target === 'summary') {\n          let target = this._element.querySelector(':scope > summary > label.value');\n\n          if (!target) {\n            target = document.createElement('label');\n            target.classList.add('value');\n            const summary = this._element.querySelector(':scope > summary');\n            summary.appendChild(target);\n          }\n          target.textContent = ev.detail.state;\n        } else {\n          this.debug('unhandled address target', ev.detail.target);\n        }\n      }\n    }\n  },\n\n  defer(QxClass) {\n    customElements.define(\n      cv.ui.structure.tile.Controller.PREFIX + 'group',\n      class extends QxConnector {\n        constructor() {\n          super(QxClass);\n        }\n      }\n    );\n  }\n});\n"
  ],
  "mappings": "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"
}