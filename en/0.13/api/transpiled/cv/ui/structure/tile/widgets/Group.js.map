{
  "version": 3,
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "extend",
    "cv",
    "ui",
    "structure",
    "tile",
    "components",
    "AbstractComponent",
    "members",
    "_init",
    "element",
    "_element",
    "label",
    "summary",
    "needsSummary",
    "hasAttribute",
    "querySelector",
    "document",
    "createElement",
    "insertBefore",
    "firstChild",
    "classList",
    "add",
    "textContent",
    "getAttribute",
    "icon",
    "empty",
    "event",
    "Registration",
    "addListener",
    "_toggleOpen",
    "removeAttribute",
    "setAttribute",
    "onStateUpdate",
    "ev",
    "detail",
    "target",
    "appendChild",
    "state",
    "debug",
    "defer",
    "QxClass",
    "customElements",
    "Controller",
    "PREFIX",
    "QxConnector",
    "widgets",
    "Group"
  ],
  "sources": [
    "/home/runner/work/CometVisu/CometVisu/source/class/cv/ui/structure/tile/widgets/Group.js"
  ],
  "sourcesContent": [
    "/* Group.js\n *\n * copyright (c) 2010-2022, Christian Mayer and the CometVisu contributers.\n *\n * This program is free software; you can redistribute it and/or modify it\n * under the terms of the GNU General Public License as published by the Free\n * Software Foundation; either version 3 of the License, or (at your option)\n * any later version.\n *\n * This program is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for\n * more details.\n *\n * You should have received a copy of the GNU General Public License along\n * with this program; if not, write to the Free Software Foundation, Inc.,\n * 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA\n */\n\n/**\n * Creates a group of widgets that can be hidden (works like the <detail> HTML Element)\n *\n * @author Tobias BrÃ¤utigam\n * @since 2022\n */\nqx.Class.define('cv.ui.structure.tile.widgets.Group', {\n  extend: cv.ui.structure.tile.components.AbstractComponent,\n\n  /*\n   ******************************************************\n   MEMBERS\n   ******************************************************\n   */\n  members: {\n    _init() {\n      super._init();\n      const element = this._element;\n      let label = null;\n      let summary = null;\n      const needsSummary = element.hasAttribute('name') || element.hasAttribute('icon');\n      if (needsSummary) {\n        summary = element.querySelector(':scope > summary');\n        if (!summary) {\n          summary = document.createElement('summary');\n          element.insertBefore(summary, element.firstChild);\n        }\n        if (element.hasAttribute('name')) {\n          label = element.querySelector(':scope > summary > label.title');\n          if (!label) {\n            label = document.createElement('label');\n            label.classList.add('title');\n            summary.insertBefore(label, summary.firstChild);\n          }\n          label.classList.add('last-of-title');\n          label.textContent = element.getAttribute('name');\n        }\n        if (element.hasAttribute('icon')) {\n          let icon = element.querySelector(':scope > summary > cv-icon.title');\n          if (!icon) {\n            icon = document.createElement('cv-icon');\n            icon.classList.add('title');\n            summary.insertBefore(icon, summary.firstChild);\n          }\n          if (!label) {\n            icon.classList.add('last-of-title');\n          }\n          icon.classList.add(element.getAttribute('icon'));\n        }\n      }\n      const empty = !element.querySelector(':scope > *:not(summary)');\n      if (empty) {\n        element.classList.add('empty');\n      } else if (summary) {\n        qx.event.Registration.addListener(summary, 'click', this._toggleOpen, this);\n      }\n    },\n\n    _toggleOpen() {\n      if (this._element.hasAttribute('open')) {\n        this._element.removeAttribute('open');\n      } else {\n        this._element.setAttribute('open', 'true');\n      }\n    },\n\n    /**\n     * Handles the incoming data from the backend for this widget\n     *\n     * @param ev {CustomEvent} stateUpdate event fired from a cv-address component\n     */\n    onStateUpdate(ev) {\n      if (!super.onStateUpdate(ev)) {\n        if (ev.detail.target === 'summary') {\n          let target = this._element.querySelector(':scope > summary > label.value');\n\n          if (!target) {\n            target = document.createElement('label');\n            target.classList.add('value');\n            const summary = this._element.querySelector(':scope > summary');\n            summary.appendChild(target);\n          }\n          target.textContent = ev.detail.state;\n        } else {\n          this.debug('unhandled address target', ev.detail.target);\n        }\n      }\n    }\n  },\n\n  defer(QxClass) {\n    customElements.define(\n      cv.ui.structure.tile.Controller.PREFIX + 'group',\n      class extends QxConnector {\n        constructor() {\n          super(QxClass);\n        }\n      }\n    );\n  }\n});\n"
  ],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;;EAAAA,EAAE,CAACC,SAAS,CAACC,oBAAoB,CAACC,aAAa,CAAC;EAAhD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;EAEA;AACA;AACA;AACA;AACA;AACA;EACAH,EAAE,CAACI,KAAK,CAACC,MAAM,CAAC,oCAAoC,EAAE;IACpDC,MAAM,EAAEC,EAAE,CAACC,EAAE,CAACC,SAAS,CAACC,IAAI,CAACC,UAAU,CAACC,iBAAiB;IAEzD;AACF;AACA;AACA;AACA;IACEC,OAAO,EAAE;MACPC,KAAK,mBAAG;QACN;QACA,IAAMC,OAAO,GAAG,IAAI,CAACC,QAAQ;QAC7B,IAAIC,KAAK,GAAG,IAAI;QAChB,IAAIC,OAAO,GAAG,IAAI;QAClB,IAAMC,YAAY,GAAGJ,OAAO,CAACK,YAAY,CAAC,MAAM,CAAC,IAAIL,OAAO,CAACK,YAAY,CAAC,MAAM,CAAC;QACjF,IAAID,YAAY,EAAE;UAChBD,OAAO,GAAGH,OAAO,CAACM,aAAa,CAAC,kBAAkB,CAAC;UACnD,IAAI,CAACH,OAAO,EAAE;YACZA,OAAO,GAAGI,QAAQ,CAACC,aAAa,CAAC,SAAS,CAAC;YAC3CR,OAAO,CAACS,YAAY,CAACN,OAAO,EAAEH,OAAO,CAACU,UAAU,CAAC;UACnD;UACA,IAAIV,OAAO,CAACK,YAAY,CAAC,MAAM,CAAC,EAAE;YAChCH,KAAK,GAAGF,OAAO,CAACM,aAAa,CAAC,gCAAgC,CAAC;YAC/D,IAAI,CAACJ,KAAK,EAAE;cACVA,KAAK,GAAGK,QAAQ,CAACC,aAAa,CAAC,OAAO,CAAC;cACvCN,KAAK,CAACS,SAAS,CAACC,GAAG,CAAC,OAAO,CAAC;cAC5BT,OAAO,CAACM,YAAY,CAACP,KAAK,EAAEC,OAAO,CAACO,UAAU,CAAC;YACjD;YACAR,KAAK,CAACS,SAAS,CAACC,GAAG,CAAC,eAAe,CAAC;YACpCV,KAAK,CAACW,WAAW,GAAGb,OAAO,CAACc,YAAY,CAAC,MAAM,CAAC;UAClD;UACA,IAAId,OAAO,CAACK,YAAY,CAAC,MAAM,CAAC,EAAE;YAChC,IAAIU,IAAI,GAAGf,OAAO,CAACM,aAAa,CAAC,kCAAkC,CAAC;YACpE,IAAI,CAACS,IAAI,EAAE;cACTA,IAAI,GAAGR,QAAQ,CAACC,aAAa,CAAC,SAAS,CAAC;cACxCO,IAAI,CAACJ,SAAS,CAACC,GAAG,CAAC,OAAO,CAAC;cAC3BT,OAAO,CAACM,YAAY,CAACM,IAAI,EAAEZ,OAAO,CAACO,UAAU,CAAC;YAChD;YACA,IAAI,CAACR,KAAK,EAAE;cACVa,IAAI,CAACJ,SAAS,CAACC,GAAG,CAAC,eAAe,CAAC;YACrC;YACAG,IAAI,CAACJ,SAAS,CAACC,GAAG,CAACZ,OAAO,CAACc,YAAY,CAAC,MAAM,CAAC,CAAC;UAClD;QACF;QACA,IAAME,KAAK,GAAG,CAAChB,OAAO,CAACM,aAAa,CAAC,yBAAyB,CAAC;QAC/D,IAAIU,KAAK,EAAE;UACThB,OAAO,CAACW,SAAS,CAACC,GAAG,CAAC,OAAO,CAAC;QAChC,CAAC,MAAM,IAAIT,OAAO,EAAE;UAClBlB,EAAE,CAACgC,KAAK,CAACC,YAAY,CAACC,WAAW,CAAChB,OAAO,EAAE,OAAO,EAAE,IAAI,CAACiB,WAAW,EAAE,IAAI,CAAC;QAC7E;MACF,CAAC;MAEDA,WAAW,yBAAG;QACZ,IAAI,IAAI,CAACnB,QAAQ,CAACI,YAAY,CAAC,MAAM,CAAC,EAAE;UACtC,IAAI,CAACJ,QAAQ,CAACoB,eAAe,CAAC,MAAM,CAAC;QACvC,CAAC,MAAM;UACL,IAAI,CAACpB,QAAQ,CAACqB,YAAY,CAAC,MAAM,EAAE,MAAM,CAAC;QAC5C;MACF,CAAC;MAED;AACJ;AACA;AACA;AACA;MACIC,aAAa,yBAACC,EAAE,EAAE;QAChB,IAAI,kFAAqBA,EAAE,CAAC,EAAE;UAC5B,IAAIA,EAAE,CAACC,MAAM,CAACC,MAAM,KAAK,SAAS,EAAE;YAClC,IAAIA,MAAM,GAAG,IAAI,CAACzB,QAAQ,CAACK,aAAa,CAAC,gCAAgC,CAAC;YAE1E,IAAI,CAACoB,MAAM,EAAE;cACXA,MAAM,GAAGnB,QAAQ,CAACC,aAAa,CAAC,OAAO,CAAC;cACxCkB,MAAM,CAACf,SAAS,CAACC,GAAG,CAAC,OAAO,CAAC;cAC7B,IAAMT,OAAO,GAAG,IAAI,CAACF,QAAQ,CAACK,aAAa,CAAC,kBAAkB,CAAC;cAC/DH,OAAO,CAACwB,WAAW,CAACD,MAAM,CAAC;YAC7B;YACAA,MAAM,CAACb,WAAW,GAAGW,EAAE,CAACC,MAAM,CAACG,KAAK;UACtC,CAAC,MAAM;YACL,IAAI,CAACC,KAAK,CAAC,0BAA0B,EAAEL,EAAE,CAACC,MAAM,CAACC,MAAM,CAAC;UAC1D;QACF;MACF;IACF,CAAC;IAEDI,KAAK,iBAACC,OAAO,EAAE;MACbC,cAAc,CAAC1C,MAAM,CACnBE,EAAE,CAACC,EAAE,CAACC,SAAS,CAACC,IAAI,CAACsC,UAAU,CAACC,MAAM,GAAG,OAAO;QAAA;;QAAA;QAAA;QAE9C,kBAAc;UAAA;UAAA,yBACNH,OAAO;QACf;QAAC;MAAA,EAHWI,WAAW,EAK1B;IACH;EACF,CAAC,CAAC;EAvHF3C,EAAE,CAACC,EAAE,CAACC,SAAS,CAACC,IAAI,CAACyC,OAAO,CAACC,KAAK,CAACjD,aAAa,GAAGA,aAAa;AAAC"
}