{
  "version": 3,
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "extend",
    "cv",
    "ui",
    "manager",
    "editor",
    "AbstractEditor",
    "construct",
    "_handledActions",
    "_setLayout",
    "layout",
    "VBox",
    "_createChildControl",
    "statics",
    "TITLE",
    "locale",
    "Manager",
    "tr",
    "properties",
    "appearance",
    "refine",
    "init",
    "members",
    "_model",
    "_listController",
    "__initialSectionCount",
    "_initClient",
    "_client",
    "io",
    "rest",
    "Client",
    "getConfigClient",
    "addListener",
    "_onModelValueChange",
    "_onSaved",
    "_loadFile",
    "file",
    "get",
    "section",
    "key",
    "ev",
    "getFile",
    "content",
    "getData",
    "Object",
    "prototype",
    "hasOwnProperty",
    "call",
    "qxl",
    "dialog",
    "Dialog",
    "confirm",
    "confirmed",
    "event",
    "message",
    "Bus",
    "dispatchByName",
    "getFullPath",
    "handler",
    "handlerOptions",
    "jumpToError",
    "setContent",
    "_applyContent",
    "value",
    "model",
    "getModel",
    "removeAll",
    "keys",
    "length",
    "forEach",
    "sectionName",
    "config",
    "Section",
    "optionKey",
    "addOption",
    "push",
    "__checkForModification",
    "getCurrentContent",
    "getContent",
    "_onDeleteSection",
    "isWriteable",
    "remove",
    "setModified",
    "modified",
    "getChildControl",
    "getChildren",
    "some",
    "sectionListItem",
    "isModified",
    "save",
    "snackbar",
    "Controller",
    "info",
    "valid",
    "getName",
    "includes",
    "error",
    "optionKeys",
    "getOptions",
    "option",
    "getKey",
    "data",
    "options",
    "getValue",
    "saveSync",
    "err",
    "status",
    "statusText",
    "_createChildControlImpl",
    "id",
    "control",
    "form",
    "List",
    "setEnableInlineFind",
    "controller",
    "Array",
    "setDelegate",
    "createItem",
    "SectionListItem",
    "configureItem",
    "item",
    "bind",
    "bindItem",
    "index",
    "bindProperty",
    "converter",
    "_add",
    "flex",
    "container",
    "Composite",
    "HBox",
    "Button",
    "add",
    "destruct",
    "_disposeObjects",
    "Config"
  ],
  "sources": [
    "/home/runner/work/CometVisu/CometVisu/source/class/cv/ui/manager/editor/Config.js"
  ],
  "sourcesContent": [
    "/* Config.js\n *\n * copyright (c) 2010-2022, Christian Mayer and the CometVisu contributers.\n *\n * This program is free software; you can redistribute it and/or modify it\n * under the terms of the GNU General Public License as published by the Free\n * Software Foundation; either version 3 of the License, or (at your option)\n * any later version.\n *\n * This program is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for\n * more details.\n *\n * You should have received a copy of the GNU General Public License along\n * with this program; if not, write to the Free Software Foundation, Inc.,\n * 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA\n */\n\n/**\n * Editor for the (hidden) configuration.\n */\nqx.Class.define('cv.ui.manager.editor.Config', {\n  extend: cv.ui.manager.editor.AbstractEditor,\n\n  /*\n  ***********************************************\n    CONSTRUCTOR\n  ***********************************************\n  */\n  construct() {\n    super();\n    this._handledActions = ['save'];\n    this._setLayout(new qx.ui.layout.VBox(8));\n    this._createChildControl('list');\n    this._createChildControl('add-section');\n  },\n\n  /*\n  ***********************************************\n    STATICS\n  ***********************************************\n  */\n  statics: {\n    TITLE: qx.locale.Manager.tr('Hidden configuration')\n  },\n\n  /*\n  ***********************************************\n    PROPERTIES\n  ***********************************************\n  */\n  properties: {\n    appearance: {\n      refine: true,\n      init: 'cv-editor-config'\n    }\n  },\n\n  /*\n  ***********************************************\n    MEMBERS\n  ***********************************************\n  */\n  members: {\n    _model: null,\n    _listController: null,\n    __initialSectionCount: 0,\n\n    _initClient() {\n      this._client = cv.io.rest.Client.getConfigClient();\n      this._client.addListener('getSuccess', this._onModelValueChange, this);\n      this._client.addListener('updateSuccess', this._onSaved, this);\n    },\n\n    _loadFile(file) {\n      if (file) {\n        this._client.get({ section: '*', key: '*' });\n      }\n    },\n\n    _onModelValueChange(ev) {\n      if (this.getFile()) {\n        const content = ev.getData();\n        if (Object.prototype.hasOwnProperty.call(content, 'error')) {\n          // loading error\n          qxl.dialog.Dialog.confirm(\n            this.tr(\n              'Hidden configuration has a syntax error and could not be loaded, you can try to fix the problem in the text editor. Do you want to open the file in the text editor?'\n            ),\n            function (confirmed) {\n              const file = this.getFile();\n              qx.event.message.Bus.dispatchByName('cv.manager.action.close', file);\n\n              if (confirmed) {\n                qx.event.message.Bus.dispatchByName('cv.manager.openWith', {\n                  file: file.getFullPath(),\n                  handler: 'cv.ui.manager.editor.Source',\n                  handlerOptions: {\n                    jumpToError: true\n                  }\n                });\n              }\n            },\n            this,\n            qx.locale.Manager.tr('Hidden configuration error')\n          );\n        } else {\n          this.setContent(content);\n        }\n      }\n    },\n\n    // overridden\n    _applyContent(value) {\n      const model = this._listController.getModel();\n      model.removeAll();\n\n      this.__initialSectionCount = Object.keys(value).length;\n\n      Object.keys(value).forEach(function (sectionName) {\n        const section = new cv.ui.manager.model.config.Section(sectionName);\n        Object.keys(value[sectionName]).forEach(function (optionKey) {\n          section.addOption(optionKey, value[sectionName][optionKey]);\n        }, this);\n        model.push(section);\n      }, this);\n\n      this.__checkForModification();\n    },\n\n    // overridden\n    getCurrentContent() {\n      return this.getContent();\n    },\n\n    _onDeleteSection(ev) {\n      if (this.getFile() && this.getFile().isWriteable()) {\n        const section = ev.getData();\n        const model = this._listController.getModel();\n        model.remove(section);\n        this.__checkForModification();\n      }\n    },\n\n    // compare current controller model with the loaded config content\n    __checkForModification() {\n      const file = this.getFile();\n      if (this.__initialSectionCount !== this._listController.getModel().length) {\n        file.setModified(true);\n        return;\n      }\n      const modified = this.getChildControl('list')\n        .getChildren()\n        .some(function (sectionListItem) {\n          return sectionListItem.isModified();\n        }, this);\n      file.setModified(modified);\n    },\n\n    save() {\n      if (!this.getFile() || !this.getFile().isWriteable()) {\n        cv.ui.manager.snackbar.Controller.info(this.tr('Hidden configuration file (hidden.php) not writeable'));\n\n        return;\n      }\n      // check for duplicate section names of keys\n      const model = this._listController.getModel();\n      const keys = [];\n      let valid = true;\n      model.forEach(function (section) {\n        const key = section.getName();\n        if (!keys.includes(key)) {\n          keys.push(key);\n        } else {\n          valid = false;\n          cv.ui.manager.snackbar.Controller.error(qx.locale.Manager.tr('Section name duplicate: \"%1\".', key));\n        }\n        // check for key duplicates in this sections options\n        const optionKeys = [];\n        section.getOptions().forEach(function (option) {\n          const optionKey = option.getKey();\n          if (!optionKeys.includes(optionKey)) {\n            optionKeys.push(optionKey);\n          } else {\n            valid = false;\n            cv.ui.manager.snackbar.Controller.error(\n              qx.locale.Manager.tr('Option key duplicate: \"%1\" in section \"%2\".', optionKey, key)\n            );\n          }\n        }, this);\n      }, this);\n\n      if (valid) {\n        const data = {};\n        this._listController.getModel().forEach(function (section) {\n          const options = {};\n          section.getOptions().forEach(function (option) {\n            options[option.getKey()] = option.getValue();\n          });\n          data[section.getName()] = options;\n        }, this);\n        this._client.saveSync(\n          null,\n          data,\n          function (err) {\n            if (err) {\n              cv.ui.manager.snackbar.Controller.error(\n                this.tr('Saving hidden config failed with error %1 (%2)', err.status, err.statusText)\n              );\n            } else {\n              cv.ui.manager.snackbar.Controller.info(this.tr('Hidden config has been saved'));\n\n              this._onSaved();\n            }\n          },\n          this\n        );\n      } else {\n        cv.ui.manager.snackbar.Controller.error(qx.locale.Manager.tr('Section is invalid and has not been saved.'));\n      }\n    },\n\n    // overridden\n    _createChildControlImpl(id) {\n      let control;\n\n      switch (id) {\n        case 'list':\n          control = new qx.ui.form.List();\n          control.setEnableInlineFind(false);\n          this._listController = new qx.data.controller.List(new qx.data.Array(), control);\n\n          this._listController.setDelegate({\n            createItem() {\n              return new cv.ui.manager.form.SectionListItem();\n            },\n\n            configureItem: function (item) {\n              item.addListener('delete', this._onDeleteSection, this);\n              item.addListener('changeModified', this.__checkForModification, this);\n            }.bind(this),\n\n            bindItem: function (controller, item, index) {\n              controller.bindProperty('', 'model', null, item, index);\n              this.bind('file.writeable', item, 'readOnly', {\n                converter(value) {\n                  return !value;\n                }\n              });\n            }.bind(this)\n          });\n\n          this._add(control, { flex: 1 });\n          break;\n\n        case 'buttons':\n          control = new qx.ui.container.Composite(new qx.ui.layout.HBox(8));\n          this._add(control);\n          break;\n\n        case 'add-section':\n          control = new qx.ui.form.Button(this.tr('Add section'));\n          control.addListener('execute', () => {\n            this._listController.getModel().push(new cv.ui.manager.model.config.Section(''));\n            this.__checkForModification();\n          });\n          this.bind('file.writeable', control, 'visibility', {\n            converter(value) {\n              return value ? 'visible' : 'excluded';\n            }\n          });\n\n          this.getChildControl('buttons').add(control);\n          break;\n      }\n\n      return control || super._createChildControlImpl(id);\n    }\n  },\n\n  /*\n  ***********************************************\n    DESTRUCTOR\n  ***********************************************\n  */\n  destruct() {\n    this._disposeObjects('_model', '_listController');\n  }\n});\n"
  ],
  "mappings": "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"
}