{
  "version": 3,
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "extend",
    "cv",
    "ui",
    "manager",
    "editor",
    "AbstractEditor",
    "construct",
    "constructor",
    "call",
    "_handledActions",
    "_setLayout",
    "layout",
    "VBox",
    "_createChildControl",
    "statics",
    "TITLE",
    "locale",
    "Manager",
    "tr",
    "properties",
    "appearance",
    "refine",
    "init",
    "members",
    "_model",
    "_listController",
    "__initialSectionCount",
    "_initClient",
    "_client",
    "io",
    "rest",
    "Client",
    "getConfigClient",
    "addListener",
    "_onModelValueChange",
    "_onSaved",
    "_loadFile",
    "file",
    "get",
    "section",
    "key",
    "ev",
    "getFile",
    "content",
    "getData",
    "Object",
    "prototype",
    "hasOwnProperty",
    "qxl",
    "dialog",
    "Dialog",
    "confirm",
    "confirmed",
    "event",
    "message",
    "Bus",
    "dispatchByName",
    "getFullPath",
    "handler",
    "handlerOptions",
    "jumpToError",
    "setContent",
    "_applyContent",
    "value",
    "model",
    "getModel",
    "removeAll",
    "keys",
    "length",
    "forEach",
    "sectionName",
    "config",
    "Section",
    "optionKey",
    "addOption",
    "push",
    "__checkForModification",
    "getCurrentContent",
    "getContent",
    "_onDeleteSection",
    "isWriteable",
    "remove",
    "__P_33_1",
    "setModified",
    "modified",
    "getChildControl",
    "getChildren",
    "some",
    "sectionListItem",
    "isModified",
    "save",
    "snackbar",
    "Controller",
    "info",
    "valid",
    "getName",
    "includes",
    "error",
    "optionKeys",
    "getOptions",
    "option",
    "getKey",
    "data",
    "options",
    "getValue",
    "saveSync",
    "err",
    "status",
    "statusText",
    "_createChildControlImpl",
    "id",
    "_this",
    "control",
    "form",
    "List",
    "setEnableInlineFind",
    "controller",
    "Array",
    "setDelegate",
    "createItem",
    "SectionListItem",
    "configureItem",
    "item",
    "bind",
    "bindItem",
    "index",
    "bindProperty",
    "converter",
    "_add",
    "flex",
    "container",
    "Composite",
    "HBox",
    "Button",
    "add",
    "Config",
    "superclass",
    "destruct",
    "_disposeObjects"
  ],
  "sources": [
    "/home/runner/work/CometVisu/CometVisu/source/class/cv/ui/manager/editor/Config.js"
  ],
  "sourcesContent": [
    "/* Config.js\n *\n * copyright (c) 2010-2022, Christian Mayer and the CometVisu contributers.\n *\n * This program is free software; you can redistribute it and/or modify it\n * under the terms of the GNU General Public License as published by the Free\n * Software Foundation; either version 3 of the License, or (at your option)\n * any later version.\n *\n * This program is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for\n * more details.\n *\n * You should have received a copy of the GNU General Public License along\n * with this program; if not, write to the Free Software Foundation, Inc.,\n * 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA\n */\n\n/**\n * Editor for the (hidden) configuration.\n */\nqx.Class.define('cv.ui.manager.editor.Config', {\n  extend: cv.ui.manager.editor.AbstractEditor,\n\n  /*\n  ***********************************************\n    CONSTRUCTOR\n  ***********************************************\n  */\n  construct() {\n    super();\n    this._handledActions = ['save'];\n    this._setLayout(new qx.ui.layout.VBox(8));\n    this._createChildControl('list');\n    this._createChildControl('add-section');\n  },\n\n  /*\n  ***********************************************\n    STATICS\n  ***********************************************\n  */\n  statics: {\n    TITLE: qx.locale.Manager.tr('Hidden configuration')\n  },\n\n  /*\n  ***********************************************\n    PROPERTIES\n  ***********************************************\n  */\n  properties: {\n    appearance: {\n      refine: true,\n      init: 'cv-editor-config'\n    }\n  },\n\n  /*\n  ***********************************************\n    MEMBERS\n  ***********************************************\n  */\n  members: {\n    _model: null,\n    _listController: null,\n    __initialSectionCount: 0,\n\n    _initClient() {\n      this._client = cv.io.rest.Client.getConfigClient();\n      this._client.addListener('getSuccess', this._onModelValueChange, this);\n      this._client.addListener('updateSuccess', this._onSaved, this);\n    },\n\n    _loadFile(file) {\n      if (file) {\n        this._client.get({ section: '*', key: '*' });\n      }\n    },\n\n    _onModelValueChange(ev) {\n      if (this.getFile()) {\n        const content = ev.getData();\n        if (Object.prototype.hasOwnProperty.call(content, 'error')) {\n          // loading error\n          qxl.dialog.Dialog.confirm(\n            this.tr(\n              'Hidden configuration has a syntax error and could not be loaded, you can try to fix the problem in the text editor. Do you want to open the file in the text editor?'\n            ),\n            function (confirmed) {\n              const file = this.getFile();\n              qx.event.message.Bus.dispatchByName('cv.manager.action.close', file);\n\n              if (confirmed) {\n                qx.event.message.Bus.dispatchByName('cv.manager.openWith', {\n                  file: file.getFullPath(),\n                  handler: 'cv.ui.manager.editor.Source',\n                  handlerOptions: {\n                    jumpToError: true\n                  }\n                });\n              }\n            },\n            this,\n            qx.locale.Manager.tr('Hidden configuration error')\n          );\n        } else {\n          this.setContent(content);\n        }\n      }\n    },\n\n    // overridden\n    _applyContent(value) {\n      const model = this._listController.getModel();\n      model.removeAll();\n\n      this.__initialSectionCount = Object.keys(value).length;\n\n      Object.keys(value).forEach(function (sectionName) {\n        const section = new cv.ui.manager.model.config.Section(sectionName);\n        Object.keys(value[sectionName]).forEach(function (optionKey) {\n          section.addOption(optionKey, value[sectionName][optionKey]);\n        }, this);\n        model.push(section);\n      }, this);\n\n      this.__checkForModification();\n    },\n\n    // overridden\n    getCurrentContent() {\n      return this.getContent();\n    },\n\n    _onDeleteSection(ev) {\n      if (this.getFile() && this.getFile().isWriteable()) {\n        const section = ev.getData();\n        const model = this._listController.getModel();\n        model.remove(section);\n        this.__checkForModification();\n      }\n    },\n\n    // compare current controller model with the loaded config content\n    __checkForModification() {\n      const file = this.getFile();\n      if (this.__initialSectionCount !== this._listController.getModel().length) {\n        file.setModified(true);\n        return;\n      }\n      const modified = this.getChildControl('list')\n        .getChildren()\n        .some(function (sectionListItem) {\n          return sectionListItem.isModified();\n        }, this);\n      file.setModified(modified);\n    },\n\n    save() {\n      if (!this.getFile() || !this.getFile().isWriteable()) {\n        cv.ui.manager.snackbar.Controller.info(this.tr('Hidden configuration file (hidden.php) not writeable'));\n\n        return;\n      }\n      // check for duplicate section names of keys\n      const model = this._listController.getModel();\n      const keys = [];\n      let valid = true;\n      model.forEach(function (section) {\n        const key = section.getName();\n        if (!keys.includes(key)) {\n          keys.push(key);\n        } else {\n          valid = false;\n          cv.ui.manager.snackbar.Controller.error(qx.locale.Manager.tr('Section name duplicate: \"%1\".', key));\n        }\n        // check for key duplicates in this sections options\n        const optionKeys = [];\n        section.getOptions().forEach(function (option) {\n          const optionKey = option.getKey();\n          if (!optionKeys.includes(optionKey)) {\n            optionKeys.push(optionKey);\n          } else {\n            valid = false;\n            cv.ui.manager.snackbar.Controller.error(\n              qx.locale.Manager.tr('Option key duplicate: \"%1\" in section \"%2\".', optionKey, key)\n            );\n          }\n        }, this);\n      }, this);\n\n      if (valid) {\n        const data = {};\n        this._listController.getModel().forEach(function (section) {\n          const options = {};\n          section.getOptions().forEach(function (option) {\n            options[option.getKey()] = option.getValue();\n          });\n          data[section.getName()] = options;\n        }, this);\n        this._client.saveSync(\n          null,\n          data,\n          function (err) {\n            if (err) {\n              cv.ui.manager.snackbar.Controller.error(\n                this.tr('Saving hidden config failed with error %1 (%2)', err.status, err.statusText)\n              );\n            } else {\n              cv.ui.manager.snackbar.Controller.info(this.tr('Hidden config has been saved'));\n\n              this._onSaved();\n            }\n          },\n          this\n        );\n      } else {\n        cv.ui.manager.snackbar.Controller.error(qx.locale.Manager.tr('Section is invalid and has not been saved.'));\n      }\n    },\n\n    // overridden\n    _createChildControlImpl(id) {\n      let control;\n\n      switch (id) {\n        case 'list':\n          control = new qx.ui.form.List();\n          control.setEnableInlineFind(false);\n          this._listController = new qx.data.controller.List(new qx.data.Array(), control);\n\n          this._listController.setDelegate({\n            createItem() {\n              return new cv.ui.manager.form.SectionListItem();\n            },\n\n            configureItem: function (item) {\n              item.addListener('delete', this._onDeleteSection, this);\n              item.addListener('changeModified', this.__checkForModification, this);\n            }.bind(this),\n\n            bindItem: function (controller, item, index) {\n              controller.bindProperty('', 'model', null, item, index);\n              this.bind('file.writeable', item, 'readOnly', {\n                converter(value) {\n                  return !value;\n                }\n              });\n            }.bind(this)\n          });\n\n          this._add(control, { flex: 1 });\n          break;\n\n        case 'buttons':\n          control = new qx.ui.container.Composite(new qx.ui.layout.HBox(8));\n          this._add(control);\n          break;\n\n        case 'add-section':\n          control = new qx.ui.form.Button(this.tr('Add section'));\n          control.addListener('execute', () => {\n            this._listController.getModel().push(new cv.ui.manager.model.config.Section(''));\n            this.__checkForModification();\n          });\n          this.bind('file.writeable', control, 'visibility', {\n            converter(value) {\n              return value ? 'visible' : 'excluded';\n            }\n          });\n\n          this.getChildControl('buttons').add(control);\n          break;\n      }\n\n      return control || super._createChildControlImpl(id);\n    }\n  },\n\n  /*\n  ***********************************************\n    DESTRUCTOR\n  ***********************************************\n  */\n  destruct() {\n    this._disposeObjects('_model', '_listController');\n  }\n});\n"
  ],
  "mappings": "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"
}