{
  "version": 3,
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "extend",
    "core",
    "Object",
    "type",
    "construct",
    "__cache",
    "_client",
    "cv",
    "io",
    "rest",
    "Client",
    "getDataProviderClient",
    "statics",
    "Config",
    "address",
    "cache",
    "userInputAllowed",
    "grouped",
    "method",
    "rrd",
    "influx",
    "measurement",
    "live",
    "field",
    "tag",
    "key",
    "value",
    "icon",
    "name",
    "plugin",
    "pages",
    "design",
    "ga",
    "transform",
    "get",
    "id",
    "instance",
    "ui",
    "manager",
    "editor",
    "data",
    "Provider",
    "getInstance",
    "format",
    "split",
    "element",
    "attribute",
    "config",
    "conf",
    "getLive",
    "lang",
    "Function",
    "curry",
    "bind",
    "args",
    "unshift",
    "apply",
    "assign",
    "members",
    "_getFromCache",
    "cacheId",
    "__clearFromCache",
    "_addToCache",
    "getDesigns",
    "structure",
    "designs",
    "designStructureMap",
    "map",
    "designName",
    "label",
    "insertText",
    "kind",
    "window",
    "monaco",
    "languages",
    "CompletionItemKind",
    "EnumMember",
    "__getData",
    "rpc",
    "rpcContext",
    "converter",
    "converterContext",
    "cached",
    "Promise",
    "resolve",
    "call",
    "reject",
    "handleResponse",
    "err",
    "res",
    "startsWith",
    "log",
    "Logger",
    "error",
    "push",
    "Type",
    "isString",
    "isFunction",
    "__getFromUrl",
    "url",
    "xhr",
    "request",
    "Xhr",
    "client",
    "BackendConnections",
    "getClient",
    "authorize",
    "set",
    "accept",
    "addListener",
    "ev",
    "getTarget",
    "getResponse",
    "send",
    "getAddresses",
    "backend",
    "hasProvider",
    "getProviderUrl",
    "getProviderConvertFunction",
    "getProviderData",
    "_parseDpResponseForEditor",
    "_parseDpResponseForMonaco",
    "getRrds",
    "getInfluxDBs",
    "__getInfluxArgs",
    "withMeasurement",
    "hasAttribute",
    "auth",
    "getAttribute",
    "nodeName",
    "parentElement",
    "undefined",
    "Error",
    "getInfluxDBFields",
    "e",
    "__getInfluxDBTags",
    "getInfluxDBTags",
    "keys",
    "x",
    "getInfluxDBValues",
    "attributes",
    "__parseDpResponse",
    "target",
    "forEach",
    "entry",
    "getMediaFiles",
    "typeFilter",
    "fsClient",
    "getFsClient",
    "readSync",
    "path",
    "recursive",
    "filter",
    "file",
    "endsWith",
    "parentFolder",
    "getTransforms",
    "useCache",
    "transforms",
    "Transform",
    "registry",
    "suggestion",
    "lname",
    "prototype",
    "hasOwnProperty",
    "locale",
    "Manager",
    "getLanguage",
    "detail",
    "getPlugins",
    "plugins",
    "qxParts",
    "PartLoader",
    "getParts",
    "partName",
    "pluginName",
    "substring",
    "getIcons",
    "icons",
    "iconHandler",
    "IconHandler",
    "IconConfig",
    "DB",
    "source",
    "iconName",
    "getIconSource",
    "Element",
    "ownerDocument",
    "querySelectorAll",
    "matches",
    "match",
    "template",
    "document",
    "createElement",
    "innerHTML",
    "content",
    "firstElementChild",
    "destruct"
  ],
  "sources": [
    "/home/runner/work/CometVisu/CometVisu/source/class/cv/ui/manager/editor/data/Provider.js"
  ],
  "sourcesContent": [
    "/* Provider.js\n *\n * copyright (c) 2010-2022, Christian Mayer and the CometVisu contributers.\n *\n * This program is free software; you can redistribute it and/or modify it\n * under the terms of the GNU General Public License as published by the Free\n * Software Foundation; either version 3 of the License, or (at your option)\n * any later version.\n *\n * This program is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for\n * more details.\n *\n * You should have received a copy of the GNU General Public License along\n * with this program; if not, write to the Free Software Foundation, Inc.,\n * 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA\n */\n\n/**\n * Wrapper class for all data providers.\n * @ignore(Element)\n */\nqx.Class.define('cv.ui.manager.editor.data.Provider', {\n  extend: qx.core.Object,\n  type: 'singleton',\n\n  /*\n  ***********************************************\n    CONSTRUCTOR\n  ***********************************************\n  */\n  construct() {\n    super();\n    this.__cache = {};\n    this._client = cv.io.rest.Client.getDataProviderClient();\n  },\n\n  /*\n  ***********************************************\n    STATICS\n  ***********************************************\n  */\n  statics: {\n    Config: {\n      address: {\n        '#text': {\n          cache: true,\n          userInputAllowed: true,\n          grouped: true,\n          method: 'getAddresses'\n        }\n      },\n\n      rrd: {\n        '#text': {\n          cache: true,\n          userInputAllowed: true,\n          method: 'getRrds'\n        }\n      },\n\n      influx: {\n        measurement: {\n          cache: false,\n          live: true,\n          userInputAllowed: false,\n          method: 'getInfluxDBs'\n        },\n\n        field: {\n          cache: false,\n          live: true,\n          userInputAllowed: false,\n          method: 'getInfluxDBFields'\n        }\n      },\n\n      tag: {\n        key: {\n          cache: false,\n          live: true,\n          userInputAllowed: false,\n          method: 'getInfluxDBTags'\n        },\n\n        value: {\n          cache: false,\n          live: true,\n          userInputAllowed: false,\n          method: 'getInfluxDBValues'\n        }\n      },\n\n      icon: {\n        name: {\n          cache: false,\n          live: true,\n          userInputAllowed: false,\n          method: 'getIcons'\n        }\n      },\n\n      plugin: {\n        name: {\n          cache: true,\n          userInputAllowed: false,\n          method: 'getPlugins'\n        }\n      },\n\n      pages: {\n        design: {\n          method: 'getDesigns',\n          cache: true,\n          userInputAllowed: false\n        }\n      },\n\n      // wildcard: will match ANY elements attribute (lower prio than an exact element-attribute-match)\n      '*': {\n        rrd: {\n          method: 'getRrds',\n          cache: true,\n          userInputAllowed: true\n        },\n\n        ga: {\n          method: 'getAddresses',\n          cache: true,\n          userInputAllowed: true,\n          grouped: true\n        },\n\n        transform: {\n          method: 'getTransforms',\n          cache: true,\n          userInputAllowed: false\n        }\n      }\n    },\n\n    get: function (id, ...args) {\n      const instance = cv.ui.manager.editor.data.Provider.getInstance();\n      const format = 'dp';\n      const [element, attribute] = id.split('@');\n      let config = null;\n      if (this.Config[element] && this.Config[element][attribute]) {\n        config = this.Config[element][attribute];\n      } else if (this.Config['*'][attribute]) {\n        config = this.Config['*'][attribute];\n      }\n      if (config) {\n        const conf = {};\n        if (config.live) {\n          conf.getLive = qx.lang.Function.curry(instance[config.method], format, config).bind(instance);\n        } else {\n          args.unshift(config);\n          args.unshift(format);\n          conf.data = instance[config.method].apply(instance, args);\n        }\n        return Object.assign(conf, config);\n      }\n      return null;\n    }\n  },\n\n  /*\n  ***********************************************\n    MEMBERS\n  ***********************************************\n  */\n  members: {\n    __cache: null,\n\n    _getFromCache(cacheId) {\n      return this.__cache[cacheId];\n    },\n\n    __clearFromCache(cacheId) {\n      if (!cacheId) {\n        this.__cache = {};\n      } else {\n        delete this.__cache[cacheId];\n      }\n    },\n\n    _addToCache(cacheId, data) {\n      this.__cache[cacheId] = data;\n    },\n\n    /**\n     * Returns the available design names as array of suggestions.\n     * @param format\n     * @param config\n     * @param structure {String} pure (default) or tile\n     * @returns {Array} suggestions\n     */\n    getDesigns(format, config, structure) {\n      if (!structure) {\n        structure = 'pure';\n      }\n      const designs = cv.Config.designStructureMap[structure] || [];\n      if (format === 'dp') {\n        return designs.map(function (designName) {\n          return {\n            label: designName,\n            value: designName\n          };\n        });\n      }\n      return designs.map(function (designName) {\n        return {\n          label: designName,\n          insertText: designName,\n          kind: window.monaco.languages.CompletionItemKind.EnumMember\n        };\n      });\n    },\n\n    /**\n     * @param cacheId {String}\n     * @param rpc {String|Function} rpcname to use with this._client or function to call\n     * @param rpcContext {Object} rpc context\n     * @param args {Array} rpc arguments\n     * @param converter {Function} converter that converts the response to suggestions for the text editor\n     * @param converterContext {Object} context fot the converter function\n     * @param cache\n     * @returns {Promise<any>}\n     * @private\n     */\n    __getData(cacheId, rpc, rpcContext, args, converter, converterContext, cache) {\n      const cached = cache ? this._getFromCache(cacheId) : null;\n      if (cached) {\n        return Promise.resolve(converter.call(converterContext || this, cached));\n      }\n      return new Promise(\n        function (resolve, reject) {\n          const handleResponse = function (err, res) {\n            if (err) {\n              reject(err);\n            } else if (typeof res === 'string' && res.startsWith('Error:')) {\n              qx.log.Logger.error(this, res);\n              resolve(converter.call(converterContext || this, []));\n            } else {\n              if (cache) {\n                // cache the raw values not the converted ones\n                this._addToCache(cacheId, res);\n              }\n              resolve(converter.call(converterContext || this, res));\n            }\n          };\n          if (!args) {\n            args = [handleResponse, this];\n          } else {\n            args.push(handleResponse);\n            args.push(this);\n          }\n          if (qx.lang.Type.isString(rpc)) {\n            this._client[rpc].apply(rpcContext || this._client, args);\n          } else if (qx.lang.Type.isFunction(rpc)) {\n            rpc.apply(rpcContext, args);\n          }\n        }.bind(this)\n      );\n    },\n\n    __getFromUrl(url, converter, converterContext, cache) {\n      let cached = cache ? this._getFromCache(url) : null;\n      if (cached) {\n        if (converter) {\n          cached = converter.call(converterContext || this, cached);\n        }\n        return Promise.resolve(cached);\n      }\n      return new Promise(\n        function (resolve, reject) {\n          const xhr = new qx.io.request.Xhr(url);\n          const client = cv.io.BackendConnections.getClient();\n          if (client) {\n            client.authorize(xhr);\n          }\n          xhr.set({\n            accept: 'application/json'\n          });\n\n          xhr.addListener('success', ev => {\n            let data = ev.getTarget().getResponse();\n            if (cache) {\n              this._addToCache(url, data);\n            }\n            if (converter) {\n              data = converter.call(converterContext || this, data);\n            }\n            resolve(data);\n          });\n          xhr.addListener('statusError', reject, this);\n          xhr.send();\n        }.bind(this)\n      );\n    },\n\n    getAddresses(format, config, backend) {\n      const client = cv.io.BackendConnections.getClient(backend);\n      if (!config) {\n        config = { cache: true };\n      }\n      if (client && client.hasProvider('addresses')) {\n        const url = client.getProviderUrl('addresses');\n        if (url) {\n          return this.__getFromUrl(url, client.getProviderConvertFunction('addresses', format), client, config.cache);\n        }\n        return client.getProviderData('addresses', format);\n      } \n      return this.__getData(\n        'addresses',\n        'addressesSync',\n        null,\n        [],\n        format === 'dp' ? this._parseDpResponseForEditor : this._parseDpResponseForMonaco,\n        this,\n        config.cache\n      );\n    },\n\n    getRrds(format, config) {\n      const client = cv.io.BackendConnections.getClient();\n      if (!config) {\n        config = { cache: true };\n      }\n      if (client && client.hasProvider('rrd')) {\n        return this.__getFromUrl(\n          client.getProviderUrl('rrd'),\n          client.getProviderConvertFunction('rrd', format),\n          client,\n          config.cache\n        );\n      }\n      return this.__getData(\n        'rrds',\n        'rrdsSync',\n        null,\n        [],\n        format === 'dp' ? this._parseDpResponseForEditor : this._parseDpResponseForMonaco,\n        this,\n        config.cache\n      );\n    },\n\n    getInfluxDBs(format, config, element) {\n      const args = this.__getInfluxArgs(element, false);\n      return this.__getData(\n        'influxdbs',\n        'influxdbsSync',\n        null,\n        args,\n        format === 'dp' ? this._parseDpResponseForEditor : this._parseDpResponseForMonaco,\n        this,\n        config.cache\n      );\n    },\n\n    __getInfluxArgs(element, withMeasurement) {\n      const args = [];\n      if (element.hasAttribute('authentication')) {\n        args.push({ auth: element.getAttribute('authentication') });\n      }\n      if (withMeasurement) {\n        let influx = element;\n        // walk the tree to get the selected data source in the influx element\n        while (influx.nodeName !== 'influx') {\n          influx = influx.parentElement;\n          if (undefined === influx) {\n            // this safety measure can not happen without a bug somewhere!\n            throw new Error();\n          }\n        }\n        args.push({ measurement: element.getAttribute('measurement') });\n      }\n      return args;\n    },\n\n    getInfluxDBFields(format, config, element) {\n      try {\n        const args = this.__getInfluxArgs(element, true);\n        return this.__getData(\n          'influxdbfields|' + args.measurement + '|' + args.auth,\n          'influxdbfieldsSync',\n          null,\n          args,\n          format === 'dp' ? this._parseDpResponseForEditor : this._parseDpResponseForMonaco,\n          this,\n          config.cache\n        );\n      } catch (e) {\n        return [];\n      }\n    },\n\n    __getInfluxDBTags(format, config, element, converter) {\n      try {\n        const args = this.__getInfluxArgs(element, true);\n        return this.__getData(\n          'influxdbtags|' + args.measurement + '|' + args.auth,\n          'influxdbtagsSync',\n          null,\n          args,\n          converter,\n          this,\n          config.cache\n        );\n      } catch (e) {\n        return [];\n      }\n    },\n\n    getInfluxDBTags(format, config, element) {\n      return this.__getInfluxDBTags(format, config, element, function (res) {\n        if (format === 'monaco') {\n          return Object.keys(res).map(function (x) {\n            return {\n              label: x,\n              insertText: x,\n              kind: window.monaco.languages.CompletionItemKind.EnumMember\n            };\n          });\n        }\n        return Object.keys(res).map(function (x) {\n          return { value: x, label: x };\n        });\n      });\n    },\n\n    getInfluxDBValues(format, config, element, tag) {\n      return this.__getInfluxDBTags(format, config, element, function (res) {\n        if (res === null || !(element.attributes.key in res)) {\n          return [];\n        }\n        if (format === 'monaco') {\n          return res[tag].map(function (x) {\n            return {\n              label: x,\n              insertText: x,\n              kind: window.monaco.languages.CompletionItemKind.EnumMember\n            };\n          });\n        }\n        return res[tag].map(function (x) {\n          return {\n            label: x,\n            value: x\n          };\n        });\n      });\n    },\n\n    _parseDpResponseForMonaco(data) {\n      return this.__parseDpResponse(data, 'monaco');\n    },\n\n    _parseDpResponseForEditor(data) {\n      return this.__parseDpResponse(data, 'dp');\n    },\n\n    __parseDpResponse(data, format) {\n      const target = [];\n      if (!format || format === 'monaco') {\n        data.forEach(function (entry) {\n          target.push({\n            label: entry.label,\n            insertText: entry.value,\n            kind: window.monaco.languages.CompletionItemKind.EnumMember\n          });\n        }, this);\n      } else if (format === 'dp') {\n        return data || [];\n      }\n      return target;\n    },\n\n    getMediaFiles(format, config, typeFilter) {\n      const fsClient = cv.io.rest.Client.getFsClient();\n      return this.__getData(\n        'media',\n        fsClient.readSync,\n        fsClient,\n        [{ path: 'media', recursive: true }],\n        function (res) {\n          return res\n            .filter(function (file) {\n              return !typeFilter || file.name.endsWith('.' + typeFilter);\n            })\n            .map(function (file) {\n              const path = file.parentFolder + file.name;\n              return {\n                label: path,\n                insertText: path,\n                kind: window.monaco.languages.CompletionItemKind.EnumMember\n              };\n            });\n        },\n        this,\n        config.cache\n      );\n    },\n\n    /**\n     * Returns the list of available transformations as suggestion entry array.\n     * @param format\n     * @param config\n     * @returns {Array}\n     */\n    getTransforms(format, config) {\n      if (!format) {\n        format = 'monaco';\n      }\n      const cacheId = 'transforms|' + format;\n      const useCache = !config || config.cache === true;\n      const cached = useCache ? this._getFromCache(cacheId) : null;\n      if (cached) {\n        return cached;\n      }\n      const transforms = [];\n      Object.keys(cv.Transform.registry).forEach(function (key) {\n        const entry = cv.Transform.registry[key];\n        let suggestion;\n        if (format === 'dp') {\n          suggestion = {\n            label: entry.name + ' [' + key + ']',\n            value: key\n          };\n        } else {\n          suggestion = {\n            label: key,\n            insertText: key,\n            kind: window.monaco.languages.CompletionItemKind.EnumMember\n          };\n\n          if (\n            entry.lname &&\n            Object.prototype.hasOwnProperty.call(entry.lname, qx.locale.Manager.getInstance().getLanguage())\n          ) {\n            suggestion.detail = entry.lname[qx.locale.Manager.getInstance().getLanguage()];\n          }\n        }\n        transforms.push(suggestion);\n      }, this);\n      if (useCache) {\n        this._addToCache(cacheId, transforms);\n      }\n      return transforms;\n    },\n\n    /**\n     * Returns the plugin names (all defined parts staring with 'plugin-')\n     * @param format\n     * @param config\n     * @returns {Array}\n     */\n    getPlugins(format, config) {\n      if (!format) {\n        format = 'monaco';\n      }\n      const useCache = !config || config.cache === true;\n      const cacheId = 'plugins|' + format;\n      const cached = useCache ? this._getFromCache(cacheId) : null;\n      if (cached) {\n        return cached;\n      }\n      const plugins = [];\n      const qxParts = qx.io.PartLoader.getInstance().getParts();\n      Object.keys(qxParts).forEach(function (partName) {\n        if (partName.startsWith('plugin-')) {\n          const pluginName = partName.substring(7);\n          if (format === 'dp') {\n            plugins.push({\n              label: pluginName,\n              value: pluginName\n            });\n          } else {\n            plugins.push({\n              label: pluginName,\n              insertText: pluginName,\n              kind: window.monaco.languages.CompletionItemKind.EnumMember\n            });\n          }\n        }\n      }, this);\n      if (useCache) {\n        this._addToCache(cacheId, plugins);\n      }\n      return plugins;\n    },\n\n    /**\n     *\n     * @param {String} format\n     * @param {Map?} config\n     * @param {Element?} element\n     * @returns {Array} array with icon definitions\n     */\n    getIcons(format, config, element) {\n      if (!format) {\n        format = 'monaco';\n      }\n      const useCache = !config || config.cache === true;\n      const cacheId = 'icons|' + format;\n      const cached = useCache ? this._getFromCache(cacheId) : null;\n      if (cached) {\n        return cached;\n      }\n      let icons;\n      const iconHandler = cv.IconHandler.getInstance();\n      if (format === 'monaco') {\n        // do not use icons from config when we can query them ourselves\n        icons = Object.keys(cv.IconConfig.DB)\n          .filter(name => !element || cv.IconConfig.DB[name].source !== 'config')\n          .map(function (iconName) {\n            return {\n              label: iconName,\n              insertText: iconName,\n              kind: window.monaco.languages.CompletionItemKind.EnumMember\n            };\n          });\n      } else if (format === 'dp') {\n        // dataprovider format\n        // do not use icons from config when we can query them ourselves\n        icons = Object.keys(cv.IconConfig.DB)\n          .filter(name => !element || cv.IconConfig.DB[name].source !== 'config')\n          .map(function (iconName) {\n            return {\n              label: iconName,\n              value: iconName,\n              icon: iconHandler.getIconSource(iconName)\n            };\n          });\n      }\n      if (element) {\n        if (element instanceof Element) {\n          element.ownerDocument.querySelectorAll('pages > meta > icons > icon-definition').forEach(icon => {\n            const iconName = icon.getAttribute('name');\n            if (format === 'monaco') {\n              icons.push({\n                label: iconName,\n                insertText: iconName,\n                kind: window.monaco.languages.CompletionItemKind.EnumMember\n              });\n            } else if (format === 'dp') {\n              icons.push({\n                label: iconName,\n                value: iconName,\n                icon: icon.getAttribute('uri')\n              });\n            }\n          });\n        } else if (typeof element === 'string') {\n          const matches = element.match(/<icon-definition.+>/gm);\n          const template = document.createElement('template');\n          matches.forEach(match => {\n            template.innerHTML = match;\n            const icon = template.content.firstElementChild;\n            const iconName = icon.getAttribute('name');\n            if (format === 'monaco') {\n              icons.push({\n                label: iconName,\n                insertText: iconName,\n                kind: window.monaco.languages.CompletionItemKind.EnumMember\n              });\n            } else if (format === 'dp') {\n              icons.push({\n                label: iconName,\n                value: iconName,\n                icon: icon.getAttribute('uri')\n              });\n            }\n          });\n        }\n      }\n      if (useCache) {\n        this._addToCache(cacheId, icons);\n      }\n      return icons;\n    }\n  },\n\n  /*\n  ***********************************************\n    DESTRUCTOR\n  ***********************************************\n  */\n  destruct() {\n    this.__cache = null;\n  }\n});\n"
  ],
  "mappings": "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"
}