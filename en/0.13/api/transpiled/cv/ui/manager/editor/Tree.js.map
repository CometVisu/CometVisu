{
  "version": 3,
  "names": [
    "_regeneratorRuntime",
    "e",
    "t",
    "r",
    "Object",
    "prototype",
    "n",
    "hasOwnProperty",
    "o",
    "defineProperty",
    "value",
    "i",
    "Symbol",
    "a",
    "iterator",
    "c",
    "asyncIterator",
    "u",
    "toStringTag",
    "define",
    "enumerable",
    "configurable",
    "writable",
    "wrap",
    "Generator",
    "create",
    "Context",
    "makeInvokeMethod",
    "tryCatch",
    "type",
    "arg",
    "call",
    "h",
    "l",
    "f",
    "s",
    "y",
    "GeneratorFunction",
    "GeneratorFunctionPrototype",
    "p",
    "d",
    "getPrototypeOf",
    "v",
    "values",
    "g",
    "defineIteratorMethods",
    "forEach",
    "_invoke",
    "AsyncIterator",
    "invoke",
    "_typeof",
    "resolve",
    "__await",
    "then",
    "callInvokeWithMethodAndArg",
    "Error",
    "done",
    "method",
    "delegate",
    "maybeInvokeDelegate",
    "sent",
    "_sent",
    "dispatchException",
    "abrupt",
    "TypeError",
    "resultName",
    "next",
    "nextLoc",
    "pushTryEntry",
    "tryLoc",
    "catchLoc",
    "finallyLoc",
    "afterLoc",
    "tryEntries",
    "push",
    "resetTryEntry",
    "completion",
    "reset",
    "isNaN",
    "length",
    "displayName",
    "isGeneratorFunction",
    "constructor",
    "name",
    "mark",
    "setPrototypeOf",
    "__proto__",
    "awrap",
    "async",
    "Promise",
    "keys",
    "reverse",
    "pop",
    "prev",
    "charAt",
    "slice",
    "stop",
    "rval",
    "handle",
    "complete",
    "finish",
    "_catch",
    "delegateYield",
    "asyncGeneratorStep",
    "_asyncToGenerator",
    "arguments",
    "apply",
    "_next",
    "_throw",
    "$$dbClassInfo",
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "Class",
    "extend",
    "cv",
    "ui",
    "manager",
    "editor",
    "AbstractEditor",
    "construct",
    "_this",
    "_setLayout",
    "layout",
    "Grow",
    "_handledActions",
    "_initWorker",
    "_schemas",
    "__modifiedElements",
    "__modifiedPreviewElements",
    "data",
    "Array",
    "addListener",
    "ev",
    "getData",
    "setPreviewState",
    "structureChanges",
    "some",
    "element",
    "hasChildrenModified",
    "initUnDos",
    "initReDos",
    "__buttonListeners",
    "core",
    "Init",
    "getApplication",
    "getRoot",
    "_onElementKeyUp",
    "_maintainPreviewVisibility",
    "_draw",
    "statics",
    "SUPPORTED_FILES",
    "TITLE",
    "locale",
    "Manager",
    "tr",
    "ICON",
    "theme",
    "dark",
    "Images",
    "getIcon",
    "Allowed",
    "NONE",
    "BEFORE",
    "AFTER",
    "INSIDE",
    "FIRST_CHILD",
    "properties",
    "appearance",
    "refine",
    "init",
    "expert",
    "check",
    "ready",
    "selected",
    "nullable",
    "event",
    "clipboard",
    "unDos",
    "deferredInit",
    "reDos",
    "autoRefreshPreview",
    "previewState",
    "showPreview",
    "dragging",
    "members",
    "_workerWrapper",
    "__editing",
    "__searchResults",
    "__searchResultIndex",
    "_structure",
    "getSchema",
    "file",
    "_this2",
    "_callee",
    "_callee$",
    "_context",
    "startsWith",
    "substring",
    "model",
    "Schema",
    "getInstance",
    "reject",
    "onLoaded",
    "setReady",
    "isPreviewSynced",
    "getPreviewState",
    "_applyHandlerOptions",
    "handlerOptions",
    "getHandlerOptions",
    "enablePreview",
    "bom",
    "Viewport",
    "getWidth",
    "noPreview",
    "previewFile",
    "__getPreviewFile",
    "isTemporary",
    "isWriteable",
    "FileItem",
    "ROOT",
    "setShowPreview",
    "_applyShowPreview",
    "getChildControl",
    "setVisibility",
    "clearLayoutProperties",
    "updateLayoutProperties",
    "noStretch",
    "setLayoutProperties",
    "flex",
    "getFile",
    "preview",
    "setFile",
    "_updatePreview",
    "handleAction",
    "actionName",
    "canHandleAction",
    "undo",
    "redo",
    "_onCut",
    "_onCopy",
    "_onPaste",
    "_showHelp",
    "Tree",
    "superclass",
    "configureButton",
    "actionId",
    "button",
    "_this3",
    "getUnDos",
    "setEnabled",
    "setToolTipText",
    "getItem",
    "getTitle",
    "resetToolTipText",
    "getReDos",
    "bind",
    "converter",
    "isDeletable",
    "unConfigureButton",
    "removeListenerById",
    "removeRelatedBindings",
    "addUndo",
    "elementChange",
    "ElementChange",
    "error",
    "clearUnDosReDos",
    "removeAll",
    "elem",
    "dispose",
    "clearReDos",
    "_applyClipboard",
    "navigator",
    "writeText",
    "getNode",
    "outerHTML",
    "CLIPBOARD",
    "Worker",
    "showErrors",
    "path",
    "errorList",
    "showDecorations",
    "decorators",
    "_loadFile",
    "old",
    "close",
    "getType",
    "isSupported",
    "hasChildControl",
    "resetFile",
    "resetPreviewState",
    "_createChildControlImpl",
    "id",
    "hash",
    "_this4",
    "control",
    "container",
    "Composite",
    "HBox",
    "_add",
    "Canvas",
    "addAt",
    "VBox",
    "isShowPreview",
    "exclude",
    "viewer",
    "Config",
    "set",
    "target",
    "minWidth",
    "ok",
    "noSync",
    "notOk",
    "basic",
    "Atom",
    "setRich",
    "setWrap",
    "label",
    "icon",
    "removeState",
    "addState",
    "toolbar",
    "Button",
    "_onEdit",
    "add",
    "_onDelete",
    "CheckBox",
    "toggleExpert",
    "ToolBar",
    "top",
    "left",
    "right",
    "form",
    "TextField",
    "liveUpdate",
    "placeholder",
    "margin",
    "util",
    "Function",
    "debounce",
    "_onSearch",
    "getKeyIdentifier",
    "_showNextResult",
    "_showPreviousResult",
    "stopPropagation",
    "tree",
    "VirtualTree",
    "selectionMode",
    "width",
    "openMode",
    "itemHeight",
    "Environment",
    "get",
    "_initDragDrop",
    "setDelegate",
    "createItem",
    "item",
    "VirtualElementItem",
    "_onContextMenu",
    "_onContextMenuAction",
    "bindItem",
    "controller",
    "index",
    "bindProperty",
    "bindPropertyReverse",
    "getSelection",
    "_onChangeTreeSelection",
    "bottom",
    "setDraggable",
    "setMarginLeft",
    "setZIndex",
    "setAppearance",
    "getSelected",
    "_onCreate",
    "qxl",
    "dialog",
    "Dialog",
    "alert",
    "Widget",
    "setDecorator",
    "decoration",
    "Decorator",
    "widthTop",
    "styleTop",
    "colorTop",
    "setHeight",
    "setOpacity",
    "setDroppable",
    "contextmenu",
    "ConfigElement",
    "getCurrentTarget",
    "getModel",
    "replace",
    "setSelected",
    "menu",
    "setElement",
    "openAtPointer",
    "getBubbles",
    "action",
    "added",
    "resetSelected",
    "openByQuerySelector",
    "selector",
    "edit",
    "_this5",
    "rootNode",
    "result",
    "querySelector",
    "__showSearchResult",
    "from",
    "querySelectorAll",
    "filter",
    "el",
    "tagName",
    "hasAttribute",
    "getAttribute",
    "firstMatch",
    "$$widget",
    "openNodeAndParents",
    "current",
    "ancestors",
    "parentElement",
    "load",
    "_this6",
    "draggedXmlElement",
    "dragTarget",
    "getDragTarget",
    "setDragging",
    "isEditable",
    "preventDefault",
    "addAction",
    "addType",
    "addData",
    "addButton",
    "accepted",
    "mode",
    "getCurrentAction",
    "supportsType",
    "addNew",
    "getTarget",
    "indicator",
    "debug",
    "isAncestor",
    "layerContent",
    "getPane",
    "getLayers",
    "getContentLocation",
    "getDocumentTop",
    "lastElem",
    "document",
    "elementFromPoint",
    "Math",
    "round",
    "getWidgetByElement",
    "isAnonymous",
    "getLayoutParent",
    "parent",
    "getParent",
    "parentSchemaElement",
    "getSchemaElement",
    "allowedElements",
    "getAllowedElements",
    "addable",
    "getAddableChildren",
    "areChildrenSortable",
    "acc",
    "allowedSorting",
    "getAllowedElementsSorting",
    "elementName",
    "__getAllowedPositions",
    "getName",
    "isChildElementAllowed",
    "lookInside",
    "getFirstLevelElementSorting",
    "targetPosition",
    "undefined",
    "getChildren",
    "firstChild",
    "maxPosition",
    "firstChildPosition",
    "expandTimer",
    "lastTreeItem",
    "treeContainer",
    "onDrag",
    "position",
    "cursor",
    "getManager",
    "getCursor",
    "DragDropCursor",
    "_native",
    "pointerType",
    "hasState",
    "origElem",
    "getDocumentLeft",
    "orig",
    "skipDetection",
    "origCoords",
    "leftPos",
    "spacer",
    "_getChildren",
    "getPaddingLeft",
    "setWidth",
    "getBounds",
    "lastCoords",
    "distance",
    "isOpen",
    "getUserData",
    "setDomPosition",
    "Timer",
    "once",
    "openNode",
    "setUserData",
    "getAction",
    "resetAction",
    "console",
    "assert",
    "setAction",
    "onDrop",
    "clone",
    "getDisplayName",
    "moveAfter",
    "snackbar",
    "Controller",
    "info",
    "insertAfter",
    "moveBefore",
    "insertBefore",
    "moveInside",
    "insertChild",
    "onDragEnd",
    "resetUserData",
    "resetDragging",
    "_this7",
    "children",
    "sorting",
    "minPosition",
    "targetIndex",
    "indexOf",
    "found",
    "sibling",
    "typeChooserForm",
    "ElementForm",
    "allowCancel",
    "context",
    "message",
    "formData",
    "help",
    "options",
    "sort",
    "b",
    "localeCompare",
    "map",
    "validation",
    "required",
    "show",
    "promise",
    "ownerDocument",
    "isElement",
    "createComment",
    "createTextNode",
    "createCDATASection",
    "createElement",
    "schemaElement",
    "getSchemaElementForElementName",
    "initChildren",
    "requiredChildren",
    "getRequiredElements",
    "schema",
    "Element",
    "sortChildNodes",
    "childName",
    "child",
    "appendChild",
    "isTextContentRequired",
    "xmlElement",
    "XmlElement",
    "getEditor",
    "res",
    "isShowEditButton",
    "setSelection",
    "err",
    "targetName",
    "depth",
    "currentPosition",
    "split",
    "test",
    "parseInt",
    "min",
    "__checkProvider",
    "_this8",
    "provider",
    "Provider",
    "getLive",
    "userInputAllowed",
    "includes",
    "endsWith",
    "isArray",
    "unshift",
    "__getAttributeFormDefinition",
    "attribute",
    "docs",
    "getDocumentation",
    "def",
    "join",
    "enabled",
    "getDefaultValue",
    "isOptional",
    "validator",
    "ListItem",
    "getValue",
    "isValueValid",
    "ValidationError",
    "getTypeString",
    "enums",
    "getEnumeration",
    "isNew",
    "_this9",
    "title",
    "caption",
    "getShowEditButton",
    "typeElement",
    "nodeType",
    "Node",
    "ELEMENT_NODE",
    "allowed",
    "getAllowedAttributes",
    "getExpert",
    "appInfo",
    "getAppinfo",
    "parser",
    "DOMParser",
    "attrName",
    "nodeName",
    "lines",
    "autoSize",
    "innerHTML",
    "dom",
    "parseFromString",
    "getElementsByTagName",
    "TEXT_NODE",
    "COMMENT_NODE",
    "CDATA_SECTION_NODE",
    "getTextContent",
    "isTextNode",
    "convertToCData",
    "convertTextNodeType",
    "newNodeName",
    "Source",
    "language",
    "formDialog",
    "maxWidth",
    "setAttributes",
    "validate",
    "destroy",
    "remove",
    "execCommand",
    "setClipboard",
    "copy",
    "clipboardElement",
    "getClipboard",
    "resetClipboard",
    "updateModified",
    "previewIndex",
    "$$removed",
    "splice",
    "isModified",
    "setModified",
    "_onContentChanged",
    "_createChildControl",
    "addSeparator",
    "addSpacer",
    "_applySelected",
    "_updateHighlightWidget",
    "node",
    "openPage",
    "parentNode",
    "setHighlightWidget",
    "getWidgetPath",
    "isVisible",
    "_applyContent",
    "_this10",
    "open",
    "initialValidation",
    "modified",
    "validateXmlConfig",
    "getPath",
    "__loadContent",
    "Main",
    "closeFile",
    "Bus",
    "dispatchByName",
    "getFullPath",
    "handler",
    "jumpToError",
    "hide",
    "resetModel",
    "setTemporary",
    "errors",
    "_this11",
    "_callee2",
    "doc",
    "rootElement",
    "_callee2$",
    "_context2",
    "xml",
    "Document",
    "fromString",
    "documentElement",
    "getAttributeNS",
    "getElementNode",
    "getStructure",
    "setEditable",
    "getWriteable",
    "setModel",
    "setContentPaddingBottom",
    "parts",
    "substr",
    "part",
    "shift",
    "match",
    "exec",
    "toString",
    "setValid",
    "content",
    "getCurrentContent",
    "contentChanged",
    "isAutoRefreshPreview",
    "_this12",
    "_client",
    "createSync",
    "getBusTopic",
    "source",
    "resetTemporary",
    "updateSync",
    "fast",
    "XMLSerializer",
    "serializeToString",
    "Prettifier",
    "_onSaved",
    "onSaved",
    "focusedWidget",
    "FocusHandler",
    "getFocusedWidget",
    "dialogConf",
    "modal",
    "image",
    "maxHeight",
    "getHeight",
    "BigAlert",
    "destruct",
    "_disposeArray",
    "removeListener"
  ],
  "sources": [
    "/home/runner/work/CometVisu/CometVisu/source/class/cv/ui/manager/editor/Tree.js"
  ],
  "sourcesContent": [
    "/* Tree.js\n *\n * copyright (c) 2010-2022, Christian Mayer and the CometVisu contributers.\n *\n * This program is free software; you can redistribute it and/or modify it\n * under the terms of the GNU General Public License as published by the Free\n * Software Foundation; either version 3 of the License, or (at your option)\n * any later version.\n *\n * This program is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for\n * more details.\n *\n * You should have received a copy of the GNU General Public License along\n * with this program; if not, write to the Free Software Foundation, Inc.,\n * 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA\n */\n\n/**\n * New XML-Editor base on a node tree\n */\nqx.Class.define('cv.ui.manager.editor.Tree', {\n  extend: cv.ui.manager.editor.AbstractEditor,\n\n  /*\n  ***********************************************\n    CONSTRUCTOR\n  ***********************************************\n  */\n  construct() {\n    super();\n    this._setLayout(new qx.ui.layout.Grow());\n    this._handledActions = ['save', 'cut', 'copy', 'paste', 'undo', 'redo', 'help'];\n\n    this._initWorker();\n\n    // init schema\n    this._schemas = {};\n    this.__modifiedElements = [];\n    this.__modifiedPreviewElements = new qx.data.Array();\n    this.__modifiedPreviewElements.addListener('changeLength', ev => {\n      if (ev.getData() === 0) {\n        this.setPreviewState('synced');\n      } else {\n        const structureChanges = this.__modifiedPreviewElements.some(element => element.hasChildrenModified());\n\n        this.setPreviewState(structureChanges ? 'structureChanged' : 'changed');\n      }\n    });\n    this.initUnDos(new qx.data.Array());\n    this.initReDos(new qx.data.Array());\n    this.__buttonListeners = {};\n    qx.core.Init.getApplication().getRoot().addListener('keyup', this._onElementKeyUp, this);\n    this.addListener('resize', this._maintainPreviewVisibility, this);\n    this._draw();\n  },\n\n  /*\n  ***********************************************\n    STATICS\n  ***********************************************\n  */\n  statics: {\n    SUPPORTED_FILES: /^(demo|\\.)?\\/?visu_config.*\\.xml/,\n    TITLE: qx.locale.Manager.tr('Xml-editor'),\n    ICON: cv.theme.dark.Images.getIcon('xml', 18),\n\n    Allowed: {\n      NONE: 0,\n      BEFORE: 1,\n      AFTER: 2,\n      INSIDE: 4,\n      FIRST_CHILD: 8 // Is allowed to added as first child\n    }\n  },\n\n  /*\n  ***********************************************\n    PROPERTIES\n  ***********************************************\n  */\n  properties: {\n    appearance: {\n      refine: true,\n      init: 'tree-editor'\n    },\n\n    // show expert level settings\n    expert: {\n      check: 'Boolean',\n      init: false\n    },\n\n    ready: {\n      refine: true,\n      init: false\n    },\n\n    selected: {\n      check: 'cv.ui.manager.model.XmlElement',\n      nullable: true,\n      event: 'changeSelected',\n      apply: '_applySelected'\n    },\n\n    clipboard: {\n      check: 'cv.ui.manager.model.XmlElement',\n      nullable: true,\n      event: 'changeClipboard',\n      apply: '_applyClipboard'\n    },\n\n    unDos: {\n      check: 'qx.data.Array',\n      deferredInit: true\n    },\n\n    reDos: {\n      check: 'qx.data.Array',\n      deferredInit: true\n    },\n\n    autoRefreshPreview: {\n      check: 'Boolean',\n      init: false\n    },\n\n    /**\n     * Content and shown preview are equal\n     */\n    previewState: {\n      check: ['synced', 'changed', 'structureChanged'],\n      init: 'synced',\n      event: 'previewStateChanged',\n      apply: '_updateHighlightWidget'\n    },\n\n    showPreview: {\n      check: 'Boolean',\n      init: true,\n      apply: '_applyShowPreview',\n      event: 'showPreviewChanged'\n    },\n\n    /**\n     * true while the user is dragging something\n     */\n    dragging: {\n      check: 'Boolean',\n      init: false,\n      event: 'changeDragging'\n    }\n  },\n\n  /*\n  ***********************************************\n    MEMBERS\n  ***********************************************\n  */\n  members: {\n    _schemas: null,\n    __modifiedElements: null,\n    __modifiedPreviewElements: null,\n    _workerWrapper: null,\n    __editing: false,\n    __buttonListeners: null,\n    __searchResults: null,\n    __searchResultIndex: 0,\n    _structure: null,\n\n    async getSchema(file) {\n      if (file.startsWith('../')) {\n        file = file.substring(3);\n      }\n      if (!Object.prototype.hasOwnProperty.call(this, file)) {\n        this._schemas[file] = await cv.ui.manager.model.Schema.getInstance(file);\n      }\n      return new Promise((resolve, reject) => {\n        this._schemas[file].onLoaded(function () {\n          this.setReady(true);\n          resolve(this._schemas[file]);\n        }, this);\n      });\n    },\n\n    isPreviewSynced() {\n      return this.getPreviewState() === 'synced';\n    },\n\n    _applyHandlerOptions() {\n      this._maintainPreviewVisibility();\n    },\n\n    _maintainPreviewVisibility() {\n      const handlerOptions = this.getHandlerOptions();\n      let enablePreview = qx.bom.Viewport.getWidth() > 800 && (!handlerOptions || !handlerOptions.noPreview);\n      if (enablePreview) {\n        const previewFile = this.__getPreviewFile();\n        if (!previewFile.isTemporary() && !previewFile.isWriteable()) {\n          // preview file already exists, but it is not writable\n          enablePreview = false;\n        } else if (previewFile.isTemporary() && !cv.ui.manager.model.FileItem.ROOT.isWriteable()) {\n          // parent folder is not writable and preview file does not exist\n          enablePreview = false;\n        }\n      }\n      this.setShowPreview(enablePreview);\n    },\n\n    _applyShowPreview(value) {\n      this.getChildControl('right').setVisibility(value ? 'visible' : 'excluded');\n\n      if (value) {\n        this.getChildControl('left').clearLayoutProperties();\n        this.getChildControl('left').updateLayoutProperties();\n      } else {\n        const handlerOptions = this.getHandlerOptions();\n        if (!handlerOptions || !handlerOptions.noStretch) {\n          this.getChildControl('left').setLayoutProperties({ flex: 1 });\n        }\n      }\n      const file = this.getFile();\n      if (value && file) {\n        const preview = this.getChildControl('preview');\n        if (file.isWriteable()) {\n          if (!preview.getFile()) {\n            preview.setFile(this.__getPreviewFile());\n          }\n        } else {\n          // this file is not writable, we can use the real one for preview\n          preview.setFile(file);\n        }\n        this._updatePreview();\n      }\n    },\n\n    handleAction(actionName) {\n      if (this.canHandleAction(actionName)) {\n        switch (actionName) {\n          case 'undo':\n            if (!this.__editing) {\n              this.undo();\n            }\n            break;\n\n          case 'redo':\n            if (!this.__editing) {\n              this.redo();\n            }\n            break;\n\n          case 'cut':\n            this._onCut();\n            break;\n\n          case 'copy':\n            this._onCopy();\n            break;\n\n          case 'paste':\n            this._onPaste();\n            break;\n\n          case 'help':\n            if (!this.__editing) {\n              this._showHelp();\n            }\n            break;\n\n          default:\n            super.handleAction(actionName);\n            break;\n        }\n      }\n    },\n\n    configureButton(actionId, button) {\n      switch (actionId) {\n        case 'undo':\n          this.__buttonListeners[actionId] = this.getUnDos().addListener('changeLength', () => {\n            const length = this.getUnDos().length;\n            if (length > 0) {\n              button.setEnabled(true);\n              button.setToolTipText(\n                this.tr(\n                  'Undo: %1',\n                  this.getUnDos()\n                    .getItem(length - 1)\n                    .getTitle()\n                )\n              );\n            } else {\n              button.setEnabled(false);\n              button.resetToolTipText();\n            }\n          });\n\n          button.setEnabled(this.getUnDos().length > 0);\n          break;\n\n        case 'redo':\n          this.__buttonListeners[actionId] = this.getReDos().addListener('changeLength', () => {\n            const length = this.getReDos().length;\n            if (length > 0) {\n              button.setEnabled(true);\n              button.setToolTipText(\n                this.tr(\n                  'Undo: %1',\n                  this.getReDos()\n                    .getItem(length - 1)\n                    .getTitle()\n                )\n              );\n            } else {\n              button.setEnabled(false);\n              button.resetToolTipText();\n            }\n          });\n\n          button.setEnabled(this.getReDos().length > 0);\n          break;\n\n        case 'cut':\n          this.bind('selected', button, 'enabled', {\n            converter(value) {\n              return value ? !value.isDeletable() : false;\n            }\n          });\n\n          break;\n\n        case 'copy':\n          this.bind('selected', button, 'enabled', {\n            converter(value) {\n              return !!value;\n            }\n          });\n\n          break;\n\n        case 'paste':\n          this.bind('clipboard', button, 'enabled', {\n            converter(value) {\n              return !!value;\n            }\n          });\n\n          break;\n      }\n    },\n    unConfigureButton(actionId, button) {\n      switch (actionId) {\n        case 'undo':\n          if (this.__buttonListeners[actionId]) {\n            this.getUnDos().removeListenerById(this.__buttonListeners[actionId]);\n\n            delete this.__buttonListeners[actionId];\n          }\n          button.setEnabled(false);\n          break;\n\n        case 'redo':\n          if (this.__buttonListeners[actionId]) {\n            this.getReDos().removeListenerById(this.__buttonListeners[actionId]);\n\n            delete this.__buttonListeners[actionId];\n          }\n          button.setEnabled(false);\n          break;\n\n        case 'paste':\n        case 'cut':\n        case 'copy':\n          this.removeRelatedBindings(button);\n          break;\n      }\n    },\n\n    addUndo(elementChange) {\n      if (elementChange instanceof cv.ui.manager.model.ElementChange) {\n        this.getUnDos().push(elementChange);\n      }\n    },\n\n    undo() {\n      const unDos = this.getUnDos();\n      if (unDos.length > 0) {\n        const elementChange = unDos.pop();\n        if (elementChange.undo()) {\n          this.getReDos().push(elementChange);\n        } else {\n          this.error('could not undo ' + elementChange.getTitle());\n          unDos.push(elementChange);\n        }\n      }\n    },\n\n    redo() {\n      const reDos = this.getReDos();\n      if (reDos.length > 0) {\n        const elementChange = reDos.pop();\n        if (elementChange.redo()) {\n          this.getUnDos().push(elementChange);\n        } else {\n          this.error('could not redo ' + elementChange.getTitle());\n          reDos.push(elementChange);\n        }\n      }\n    },\n\n    clearUnDosReDos() {\n      this.getUnDos()\n        .removeAll()\n        .forEach(elem => elem.dispose());\n      this.clearReDos();\n    },\n\n    clearReDos() {\n      this.getReDos()\n        .removeAll()\n        .forEach(elem => elem.dispose());\n    },\n\n    _applyClipboard(value) {\n      try {\n        if (value) {\n          navigator.clipboard.writeText(value.getNode().outerHTML);\n        } else {\n          navigator.clipboard.writeText('');\n        }\n      } catch (e) {\n        // clipboard api is only available in secure environment, otherwise we have to do it ourself\n        cv.ui.manager.editor.AbstractEditor.CLIPBOARD = value ? value.getNode().outerHTML : '';\n      }\n    },\n\n    _initWorker() {\n      this._workerWrapper = cv.ui.manager.editor.Worker.getInstance();\n    },\n\n    showErrors(path, errorList) {},\n    showDecorations(path, decorators) {},\n\n    _loadFile(file, old) {\n      if (old && this._workerWrapper) {\n        this._workerWrapper.close(old);\n      }\n      if (file && file.getType() === 'file' && this.isSupported(file)) {\n        super._loadFile(file, old);\n      } else {\n        super._loadFile(null, old);\n        if (this.hasChildControl('preview')) {\n          this.getChildControl('preview').resetFile();\n        }\n        this.resetPreviewState();\n      }\n    },\n\n    // overridden\n    _createChildControlImpl(id, hash) {\n      let control;\n\n      switch (id) {\n        case 'splitpane':\n          control = new qx.ui.container.Composite(new qx.ui.layout.HBox());\n          this._add(control);\n          break;\n\n        case 'left':\n          control = new qx.ui.container.Composite(new qx.ui.layout.Canvas());\n          this.getChildControl('splitpane').addAt(control, 0);\n          break;\n\n        case 'right':\n          control = new qx.ui.container.Composite(new qx.ui.layout.VBox());\n          if (!this.isShowPreview()) {\n            control.exclude();\n          }\n          this.getChildControl('splitpane').addAt(control, 1, { flex: 1 });\n          break;\n\n        case 'preview':\n          control = new cv.ui.manager.viewer.Config();\n          control.set({\n            target: 'iframe',\n            minWidth: 600\n          });\n\n          this.getChildControl('right').addAt(control, 1, { flex: 1 });\n          break;\n\n        case 'preview-sync-hint': {\n          const ok = this.tr('Preview shows the current state of the edited configuration.');\n\n          const noSync = this.tr('Preview is out of sync. Click here to refresh.');\n\n          const notOk = this.tr(\n            'Preview is out of sync. Highlighting of the currently selected tree element is deactivated until you refresh the preview. Click here to refresh.'\n          );\n\n          control = new qx.ui.basic.Atom(ok, cv.theme.dark.Images.getIcon('valid', 16));\n\n          control.setRich(true);\n          control.getChildControl('label').setWrap(true);\n          control.addListener('tap', () => {\n            if (!this.isPreviewSynced() && this.isShowPreview()) {\n              this._updatePreview();\n            }\n          });\n          this.getChildControl('right').addAt(control, 0);\n          this.addListener('previewStateChanged', ev => {\n            switch (ev.getData()) {\n              case 'synced':\n                control.set({\n                  label: ok,\n                  icon: cv.theme.dark.Images.getIcon('valid', 16)\n                });\n\n                control.getChildControl('icon').removeState('error');\n                control.getChildControl('icon').removeState('warning');\n                break;\n\n              case 'changed':\n                control.set({\n                  label: noSync,\n                  icon: cv.theme.dark.Images.getIcon('out-of-sync', 16)\n                });\n\n                control.getChildControl('icon').removeState('error');\n                control.getChildControl('icon').addState('warning');\n                break;\n\n              case 'structureChanged':\n                control.set({\n                  label: notOk,\n                  icon: cv.theme.dark.Images.getIcon('out-of-sync', 16)\n                });\n\n                control.getChildControl('icon').addState('error');\n                control.getChildControl('icon').removeState('warning');\n                break;\n            }\n          });\n          break;\n        }\n\n        case 'edit-button':\n          control = new qx.ui.toolbar.Button(null, cv.theme.dark.Images.getIcon('edit', 24));\n\n          control.setEnabled(false);\n          control.addListener('execute', this._onEdit, this);\n          this.bind('file.writeable', control, 'icon', {\n            converter(value) {\n              return value ? cv.theme.dark.Images.getIcon('edit', 16) : cv.theme.dark.Images.getIcon('view', 16);\n            }\n          });\n\n          this.getChildControl('toolbar').add(control);\n          break;\n\n        case 'delete-button':\n          control = new qx.ui.toolbar.Button(null, cv.theme.dark.Images.getIcon('delete', 16));\n\n          control.setEnabled(false);\n          control.addListener('execute', this._onDelete, this);\n          this.getChildControl('toolbar').add(control);\n          break;\n\n        case 'toggle-expert':\n          control = new qx.ui.toolbar.CheckBox(this.tr('Expertview'), cv.theme.dark.Images.getIcon('expert', 16));\n\n          control.addListener('execute', () => {\n            this.toggleExpert();\n          });\n          this.getChildControl('toolbar').add(control);\n          break;\n\n        case 'refresh-preview':\n          control = new qx.ui.toolbar.Button(null, cv.theme.dark.Images.getIcon('reload', 16));\n\n          control.setToolTipText(this.tr('Reload preview'));\n          control.addListener('execute', this._updatePreview, this);\n          this.bind('showPreview', control, 'visibility', {\n            converter(value) {\n              return value ? 'visible' : 'hidden';\n            }\n          });\n\n          this.bind('previewState', control, 'enabled', {\n            converter(value) {\n              return value !== 'synced';\n            }\n          });\n\n          this.getChildControl('toolbar').add(control);\n          break;\n\n        case 'toolbar':\n          control = new qx.ui.toolbar.ToolBar();\n          this.getChildControl('left').add(control, {\n            top: 0,\n            left: 0,\n            right: 0\n          });\n\n          break;\n\n        case 'searchbar-container':\n          control = new qx.ui.container.Composite(new qx.ui.layout.HBox());\n          this.getChildControl('left').add(control, {\n            top: 36,\n            left: 0,\n            right: 0\n          });\n\n          break;\n\n        case 'searchbar':\n          control = new qx.ui.form.TextField();\n          control.set({\n            liveUpdate: true,\n            placeholder: this.tr('Search...'),\n            margin: 8\n          });\n\n          control.addListener('changeValue', qx.util.Function.debounce(this._onSearch, 250), this);\n\n          control.addListener('keyup', ev => {\n            switch (ev.getKeyIdentifier()) {\n              case 'Enter':\n              case 'Down':\n                this._showNextResult();\n                break;\n              case 'Up':\n                this._showPreviousResult();\n                break;\n            }\n\n            ev.stopPropagation();\n          });\n          this.getChildControl('searchbar-container').add(control, { flex: 1 });\n          break;\n\n        case 'tree':\n          control = new qx.ui.tree.VirtualTree(null, 'displayName', 'children');\n          control.set({\n            selectionMode: 'single',\n            width: 350,\n            openMode: 'none',\n            itemHeight: qx.core.Environment.get('device.touch') ? 40 : 20\n          });\n\n          this.bind('file.writeable', control, 'droppable');\n          this.bind('file.writeable', control, 'draggable');\n          this._initDragDrop(control);\n          control.setDelegate({\n            createItem: function () {\n              const item = new cv.ui.manager.tree.VirtualElementItem();\n              if (!qx.core.Environment.get('device.touch')) {\n                item.addListener('contextmenu', this._onContextMenu, this);\n              } else {\n                item.addListener('action', this._onContextMenuAction, this);\n              }\n              item.addListener('dbltap', this._onEdit, this);\n              return item;\n            }.bind(this),\n\n            // Bind properties from the item to the tree-widget and vice versa\n            bindItem(controller, item, index) {\n              controller.bindProperty('', 'model', null, item, index);\n              controller.bindProperty('displayName', 'label', null, item, index);\n\n              controller.bindProperty('name', 'name', null, item, index);\n              controller.bindPropertyReverse('open', 'open', null, item, index);\n              controller.bindProperty('open', 'open', null, item, index);\n              controller.bindProperty('showEditButton', 'editable', null, item, index);\n\n              controller.bindProperty('sortable', 'sortable', null, item, index);\n\n              controller.bindProperty('icon', 'icon', null, item, index);\n              controller.bindProperty('status', 'status', null, item, index);\n              controller.bindProperty('invalidMessage', 'toolTipText', null, item, index);\n\n              controller.bindProperty('dragging', 'dragging', null, item, index);\n            }\n          });\n\n          control.getSelection().addListener('change', this._onChangeTreeSelection, this);\n          this.getChildControl('left').add(control, {\n            top: 72,\n            left: 0,\n            right: 0,\n            bottom: 0\n          });\n\n          break;\n\n        case 'add-button':\n          control = new qx.ui.basic.Atom(null, cv.theme.dark.Images.getIcon('add', 32));\n\n          control.setDraggable(true);\n          control.setMarginLeft(-16);\n          control.setZIndex(20);\n          this.addListener('changeDragging', ev => {\n            control.setLayoutProperties({\n              bottom: 16,\n              left: ev.getData() ? -1000 : '50%'\n            });\n          });\n          control.setAppearance('round-button');\n          control.addListener('pointerover', () => control.addState('hovered'));\n          control.addListener('pointerout', () => control.removeState('hovered'));\n\n          control.addListener('tap', () => {\n            if (this.getSelected()) {\n              this._onCreate(this.getSelected(), 'inside');\n            } else {\n              qxl.dialog.Dialog.alert(\n                this.tr(\n                  'Please create a new Element either by dragging this button to the place where the new element should be inserted or by selecting an element and pressing this button to insert a new child to this element.'\n                )\n              );\n            }\n          });\n          this.getChildControl('left').add(control, {\n            bottom: 16,\n            left: '50%'\n          });\n\n          break;\n\n        case 'drag-indicator':\n          // Create drag indicator\n          control = new qx.ui.core.Widget();\n          control.setDecorator(\n            new qx.ui.decoration.Decorator().set({\n              widthTop: 1,\n              styleTop: 'solid',\n              colorTop: 'white'\n            })\n          );\n\n          control.setHeight(0);\n          control.setOpacity(0.5);\n          control.setZIndex(100);\n          control.setDroppable(true);\n          control.setLayoutProperties({ left: -1000, top: -1000 });\n          qx.core.Init.getApplication().getRoot().add(control);\n          break;\n\n        case 'context-menu':\n          control = new cv.ui.manager.contextmenu.ConfigElement(this);\n          control.addListener('action', this._onContextMenuAction, this);\n          break;\n      }\n\n      return control || super._createChildControlImpl(id);\n    },\n\n    _onContextMenu(ev) {\n      const target = ev.getCurrentTarget();\n      if (target instanceof cv.ui.manager.tree.VirtualElementItem) {\n        const element = target.getModel();\n        this.getChildControl('tree').getSelection().replace([element]);\n        this.setSelected(element);\n        const menu = this.getChildControl('context-menu');\n        menu.setElement(element);\n        menu.openAtPointer(ev);\n      }\n\n      // Do not show native menu\n      // don't open any other contextmenus\n      if (ev.getBubbles()) {\n        ev.stop();\n      }\n    },\n\n    _onContextMenuAction(ev) {\n      const data = ev.getData();\n      if (this.canHandleAction(data.action)) {\n        this.handleAction(data.action);\n      } else {\n        switch (data.action) {\n          case 'view':\n          case 'edit':\n            this._onEdit(null, data.element);\n            break;\n\n          case 'delete':\n            this._onDelete(null, data.element);\n            break;\n\n          case 'create':\n            // add a new child\n            this._onCreate(data.element, 'inside');\n            break;\n\n          default:\n            this.error('unhandled context menu action', data.action);\n            break;\n        }\n      }\n    },\n\n    _onChangeTreeSelection(ev) {\n      const data = ev.getData();\n      if (data.added.length === 1) {\n        this.setSelected(data.added[0]);\n      } else {\n        this.resetSelected();\n      }\n    },\n\n    openByQuerySelector(selector, edit) {\n      return new Promise((resolve, reject) => {\n        const tree = this.getChildControl('tree');\n        const rootNode = tree.getModel().getNode();\n        const result = rootNode.querySelector(selector);\n        if (result) {\n          this.__searchResults = [result];\n          this.__searchResultIndex = 0;\n          this.__showSearchResult();\n          if (edit) {\n            this._onEdit();\n          }\n          resolve(true);\n        } else {\n          resolve(false);\n        }\n      });\n    },\n\n    _onSearch(ev) {\n      const value = ev.getData();\n      this.__searchResults = [];\n      this.__searchResultIndex = 0;\n      if (value.length > 2) {\n        const tree = this.getChildControl('tree');\n        const rootNode = tree.getModel().getNode();\n        this.__searchResults = Array.from(rootNode.querySelectorAll('*')).filter(function (el) {\n          return el.tagName.startsWith(value) || (el.hasAttribute('name') && el.getAttribute('name').startsWith(value));\n        });\n        this.__showSearchResult();\n      }\n    },\n\n    _showNextResult() {\n      if (this.__searchResults && this.__searchResults.length > this.__searchResultIndex + 1) {\n        this.__searchResultIndex++;\n        this.__showSearchResult();\n      }\n    },\n\n    _showPreviousResult() {\n      if (this.__searchResults && this.__searchResultIndex > 0) {\n        this.__searchResultIndex--;\n        this.__showSearchResult();\n      }\n    },\n\n    __showSearchResult() {\n      if (this.__searchResults.length > this.__searchResultIndex) {\n        // find and open the first result and save the rest for traversal (with keyboard arrows\n        const firstMatch = this.__searchResults[this.__searchResultIndex];\n        const tree = this.getChildControl('tree');\n        if (firstMatch.$$widget) {\n          tree.openNodeAndParents(firstMatch.$$widget);\n          tree.getSelection().replace([firstMatch.$$widget]);\n        } else {\n          let current = firstMatch;\n          const ancestors = [];\n          // lookup the path until we find the first one with a widget\n          while (current && !current.$$widget) {\n            current = current.parentElement;\n            if (current) {\n              ancestors.push(current);\n            }\n          }\n          if (current && current.$$widget) {\n            current.$$widget.load();\n            // now git down the path of found ancestors and load them all\n            for (let i = ancestors.length - 1; i >= 0; i--) {\n              const p = ancestors[i].$$widget;\n              if (p) {\n                p.load();\n              }\n            }\n            if (firstMatch.$$widget) {\n              tree.openNodeAndParents(firstMatch.$$widget);\n              tree.getSelection().replace([firstMatch.$$widget]);\n            }\n          }\n        }\n      }\n    },\n\n    _initDragDrop(control) {\n      let draggedXmlElement;\n      control.addListener('dragstart', ev => {\n        const dragTarget = ev.getDragTarget();\n        let element;\n        if (dragTarget instanceof cv.ui.manager.tree.VirtualElementItem) {\n          element = dragTarget.getModel();\n          element.setDragging(true);\n          if (!element.isEditable() || !element.isDeletable()) {\n            ev.preventDefault();\n            ev.stopPropagation();\n            return;\n          }\n          ev.addAction('copy');\n          if (element.isDeletable()) {\n            ev.addAction('move');\n          }\n          ev.addType('cv/tree-element');\n          ev.addData('cv/tree-element', element);\n          draggedXmlElement = element;\n        }\n        this.setDragging(true);\n      });\n\n      const addButton = this.getChildControl('add-button');\n      addButton.addListener('dragstart', ev => {\n        ev.addAction('copy');\n        ev.addType('cv/new-tree-element');\n        this.setDragging(true);\n      });\n\n      const Allowed = cv.ui.manager.editor.Tree.Allowed;\n      const accepted = {\n        mode: 0,\n        target: null\n      };\n\n      control.addListener('dragover', ev => {\n        // add ist a custom action that cannot be detected, so we only check if its supported\n        let action = ev.getCurrentAction();\n        let element;\n        if (ev.supportsType('cv/tree-element')) {\n          element = ev.getData('cv/tree-element');\n        }\n        const addNew = action === 'copy' && !element && ev.supportsType('cv/new-tree-element');\n        let target = ev.getTarget();\n        if (target === indicator) {\n          // no change when we are dragging over the indicator\n          this.debug('dragging over indicator');\n          return;\n        }\n        if (action !== 'copy' && target && target instanceof cv.ui.manager.tree.VirtualElementItem) {\n          if (target.getModel() === element) {\n            // cannot drop on myself\n            this.debug('dropping on same element forbidden');\n            accepted.mode = Allowed.NONE;\n            ev.preventDefault();\n            return;\n          } else if (element && element.isAncestor(target.getModel())) {\n            // cannot move into myself\n            this.debug('moving inside own subtree forbidden');\n            accepted.mode = Allowed.NONE;\n            ev.preventDefault();\n            return;\n          }\n        }\n        if (target === control) {\n          const layerContent = control.getPane().getLayers()[0].getContentLocation();\n          if (layerContent && ev.getDocumentTop() - layerContent.bottom <= 20) {\n            // when we are not more than 10px away from the last tree element we use that one, otherwise dropping is forbidden\n            const lastElem = document.elementFromPoint(\n              Math.round((layerContent.left + layerContent.right) / 2),\n              layerContent.bottom - 20\n            );\n\n            target = qx.ui.core.Widget.getWidgetByElement(lastElem);\n            if (target) {\n              while (target.isAnonymous()) {\n                target = target.getLayoutParent();\n              }\n            }\n          } else {\n            target = null;\n          }\n          if (!target || target === control) {\n            accepted.mode = Allowed.NONE;\n            ev.preventDefault();\n            this.debug('drop target not found');\n            return;\n          }\n        }\n        if (!addNew && !element) {\n          // not for us\n          this.debug('drop not allowed here, no drag element');\n          accepted.mode = Allowed.NONE;\n          ev.preventDefault();\n          return;\n        }\n        const model = target.getModel();\n        const parent = model.getParent();\n        accepted.target = model;\n\n        if (parent) {\n          const parentSchemaElement = parent.getSchemaElement();\n          if (addNew) {\n            const allowedElements = parentSchemaElement.getAllowedElements();\n            if (Object.keys(allowedElements).length > 0) {\n              // check if there could be added more children\n              const addable = parent.getAddableChildren();\n              if (addable.length > 0) {\n                // check if a child could be added at this position\n                if (parentSchemaElement.areChildrenSortable()) {\n                  // children can be put anywhere\n                  // so this is allowed anywhere\n                  accepted.mode = Allowed.BEFORE | Allowed.AFTER;\n                } else {\n                  let acc = Allowed.NONE;\n                  const allowedSorting = parentSchemaElement.getAllowedElementsSorting();\n                  addable.some(elementName => {\n                    acc |= this.__getAllowedPositions(allowedSorting, elementName, model.getName());\n\n                    if (acc & Allowed.BEFORE && acc & Allowed.AFTER) {\n                      // we cannot find more\n                      return true;\n                    }\n                    return false;\n                  });\n                  accepted.mode = acc;\n                }\n              }\n            } else {\n              ev.preventDefault();\n              // not children allowed here\n              accepted.mode = Allowed.NONE;\n              this.debug('no children allowed here');\n            }\n          } else if (!parentSchemaElement.isChildElementAllowed(element.getName())) {\n            // not allowed on this level\n            accepted.mode = Allowed.NONE;\n            this.debug('not allowed as child element of', parent.getName());\n          } else if (parentSchemaElement.areChildrenSortable()) {\n            // children can be put anywhere\n            // so this is allowed anywhere\n            accepted.mode = Allowed.BEFORE | Allowed.AFTER;\n          } else {\n            // check position\n            accepted.mode = this.__getAllowedPositions(\n              parentSchemaElement.getAllowedElementsSorting(),\n              element.getName(),\n              model.getName()\n            );\n          }\n        } else {\n          accepted.mode = Allowed.NONE;\n        }\n        let lookInside;\n        if (addNew) {\n          lookInside = Object.keys(model.getSchemaElement().getAllowedElements(true)).length > 0;\n        } else {\n          lookInside = model.getSchemaElement().isChildElementAllowed(element.getName());\n        }\n        if (lookInside) {\n          // allowed inside\n          accepted.mode |= Allowed.INSIDE;\n          if (model.getSchemaElement().areChildrenSortable()) {\n            accepted.mode |= Allowed.FIRST_CHILD;\n          } else {\n            const allowedSorting = model.getSchemaElement().getFirstLevelElementSorting();\n            if (allowedSorting) {\n              if (element) {\n                let targetPosition = allowedSorting[element.getName()];\n                if (targetPosition !== undefined) {\n                  if (targetPosition === 0 || model.getChildren().length === 0) {\n                    accepted.mode |= Allowed.FIRST_CHILD;\n                  } else {\n                    // check if we can add it before the current first child\n                    const firstChild = model.getChildren().getItem(0);\n                    const maxPosition = allowedSorting[firstChild.getName()];\n                    if (maxPosition >= targetPosition) {\n                      accepted.mode |= Allowed.FIRST_CHILD;\n                    }\n                  }\n                }\n              } else if (model.getChildren().length > 0) {\n                const firstChild = model.getChildren().getItem(0);\n                let firstChildPosition = allowedSorting[firstChild.getName()];\n                if (firstChildPosition !== undefined && firstChildPosition > 0) {\n                  // first child is not on position 0\n                  accepted.mode |= Allowed.FIRST_CHILD;\n                }\n              } else if (Object.keys(allowedSorting).length > 0) {\n                // target is empty, but children are allowed\n                accepted.mode |= Allowed.FIRST_CHILD;\n              }\n            }\n          }\n        }\n        if (accepted.mode === Allowed.NONE) {\n          ev.preventDefault();\n          this.debug('dropping not accepted here');\n        }\n      });\n\n      const indicator = this.getChildControl('drag-indicator');\n\n      let expandTimer;\n\n      control.addListener('dragleave', ev => {\n        if (expandTimer) {\n          expandTimer.stop();\n          expandTimer = null;\n        }\n      });\n\n      let lastTreeItem;\n      const treeContainer = control.getPane();\n\n      const onDrag = function (ev) {\n        let left = -1000;\n        let top = -1000;\n        let position = '';\n        let cursor = ev.getManager().getCursor();\n        if (!cursor) {\n          cursor = qx.ui.core.DragDropCursor.getInstance();\n        }\n        if (ev._native.pointerType === 'touch') {\n          if (!cursor.hasState('touch')) {\n            cursor.addState('touch');\n          }\n        }\n\n        if (accepted.mode !== Allowed.NONE) {\n          const origElem = document.elementFromPoint(ev.getDocumentLeft(), ev.getDocumentTop());\n\n          let orig = qx.ui.core.Widget.getWidgetByElement(origElem);\n          let skipDetection = false;\n          if (!orig) {\n            return;\n          }\n          while (orig.isAnonymous()) {\n            orig = orig.getLayoutParent();\n          }\n\n          const origCoords = orig.getContentLocation();\n          let leftPos = origCoords.left;\n          if (orig instanceof cv.ui.manager.tree.VirtualElementItem) {\n            const spacer = orig._getChildren()[0];\n            leftPos = spacer.getWidth() + orig.getPaddingLeft();\n            indicator.setWidth(orig.getBounds().width - leftPos);\n            if (accepted.target && orig.getModel() !== accepted.target) {\n              skipDetection = true;\n            }\n            lastTreeItem = orig;\n          } else if (orig !== indicator) {\n            if (orig === treeContainer) {\n              const lastCoords = lastTreeItem.getContentLocation();\n              const distance = ev.getDocumentTop() - lastCoords.bottom;\n              if (distance <= 20 && accepted.mode & Allowed.AFTER) {\n                const spacer = lastTreeItem._getChildren()[0];\n                left = spacer.getWidth() + lastTreeItem.getPaddingLeft();\n                top = lastCoords.bottom;\n                position = 'after';\n              }\n              skipDetection = true;\n            } else {\n              skipDetection = true;\n            }\n          } else {\n            // on drag indicator, do nothing here\n            return;\n          }\n          if (!skipDetection) {\n            if (ev.getDocumentTop() - origCoords.top <= 5) {\n              // above\n              if (expandTimer) {\n                expandTimer.stop();\n                expandTimer = null;\n              }\n              // check if this item is allowed here\n              if (accepted.mode & Allowed.BEFORE) {\n                left = leftPos;\n                top = origCoords.top;\n                position = 'before';\n              } else if (accepted.mode & Allowed.INSIDE) {\n                left = -1000;\n                top = -1000;\n                position = 'inside';\n              }\n            } else if (origCoords.bottom - ev.getDocumentTop() <= 5) {\n              // below\n              if (accepted.target && !accepted.target.isOpen()) {\n                if (accepted.mode & Allowed.AFTER) {\n                  left = leftPos;\n                  top = origCoords.bottom;\n                  position = 'after';\n                } else if (accepted.mode & Allowed.INSIDE) {\n                  left = -1000;\n                  top = -1000;\n                  position = 'inside';\n                }\n              } else {\n                // when an element is opened this position is not after this element. but before its first child\n                // eslint-disable-next-line no-lonely-if\n                if (accepted.mode & Allowed.FIRST_CHILD) {\n                  left = leftPos + 19;\n                  indicator.setWidth(indicator.getWidth() - 19);\n                  top = origCoords.bottom;\n                  position = 'first-child';\n                } else {\n                  this.debug('not allowed as first child');\n                }\n              }\n              if (expandTimer) {\n                expandTimer.stop();\n                expandTimer = null;\n              }\n            } else {\n              // inside\n              // eslint-disable-next-line no-lonely-if\n              if (accepted.target && accepted.target.isOpen()) {\n                // treat dropping on an opened node as \"first-child\" position\n                if (accepted.mode & Allowed.FIRST_CHILD) {\n                  if (indicator.getUserData('position') !== 'first-child') {\n                    left = leftPos + 19;\n                    indicator.setWidth(indicator.getWidth() - 19);\n                  }\n                  top = origCoords.bottom;\n                  position = 'first-child';\n                }\n              } else {\n                indicator.setDomPosition(-1000, -1000);\n                if (accepted.mode & Allowed.INSIDE) {\n                  position = 'inside';\n                }\n                if (!expandTimer) {\n                  expandTimer = qx.event.Timer.once(\n                    function () {\n                      if (accepted.target) {\n                        control.openNode(accepted.target);\n                      }\n                    },\n                    this,\n                    1000\n                  );\n                }\n              }\n            }\n          }\n        }\n        indicator.setDomPosition(left, top);\n        indicator.setUserData('position', position);\n        if (!position && cursor.getAction()) {\n          indicator.setUserData('action', ev.getCurrentAction());\n          cursor.resetAction();\n          // eslint-disable-next-line no-console\n          console.assert(left < 0);\n          // eslint-disable-next-line no-console\n          console.assert(top < 0);\n        } else if (position && !cursor.getAction() && cursor.getAction() !== indicator.getUserData('action')) {\n          cursor.setAction(indicator.getUserData('action'));\n          indicator.setUserData('action', null);\n        }\n      };\n      control.addListener('drag', onDrag, this);\n      addButton.addListener('drag', onDrag, this);\n\n      const onDrop = function (ev) {\n        let action = ev.getCurrentAction();\n        let element = ev.supportsType('cv/tree-element') ? ev.getData('cv/tree-element') : null;\n        if (action === 'copy') {\n          if (element) {\n            element = element.clone();\n          } else {\n            action = 'add';\n          }\n        }\n        const elementName = element ? element.getDisplayName() : 'new';\n        const target = accepted.target;\n        if (action === 'move' && element === target) {\n          // cannot move before/after/inside myself\n          return;\n        }\n        switch (indicator.getUserData('position')) {\n          case 'after':\n            if (accepted.mode & Allowed.AFTER) {\n              this.debug(action, elementName, 'after', target.getDisplayName());\n              switch (action) {\n                case 'move':\n                  if (element.moveAfter(target)) {\n                    cv.ui.manager.snackbar.Controller.info(\n                      this.tr('\"%1\" has been moved after \"%2\"', elementName, target.getDisplayName())\n                    );\n                  }\n                  break;\n\n                case 'copy':\n                  if (element.insertAfter(target)) {\n                    cv.ui.manager.snackbar.Controller.info(\n                      this.tr('\"%1\" has been copied after \"%2\"', elementName, target.getDisplayName())\n                    );\n                  }\n                  break;\n\n                case 'add':\n                  this._onCreate(target, indicator.getUserData('position'));\n                  break;\n              }\n            } else {\n              this.debug('NOT ALLOWED', action, elementName, 'after', target.getDisplayName());\n            }\n            break;\n          case 'before':\n            if (accepted.mode & Allowed.BEFORE) {\n              this.debug(action, elementName, 'before', target.getDisplayName());\n\n              switch (action) {\n                case 'move':\n                  if (element.moveBefore(target)) {\n                    cv.ui.manager.snackbar.Controller.info(\n                      this.tr('\"%1\" has been moved before \"%2\"', elementName, target.getDisplayName())\n                    );\n                  }\n                  break;\n\n                case 'copy':\n                  if (element.insertBefore(target)) {\n                    cv.ui.manager.snackbar.Controller.info(\n                      this.tr('\"%1\" has been copied before \"%2\"', elementName, target.getDisplayName())\n                    );\n                  }\n                  break;\n\n                case 'add':\n                  this._onCreate(target, indicator.getUserData('position'));\n                  break;\n              }\n            } else {\n              this.debug('NOT ALLOWED', action, elementName, 'after', target.getDisplayName());\n            }\n            break;\n\n          case 'first-child':\n            if (accepted.mode & Allowed.FIRST_CHILD) {\n              this.debug(action, elementName, 'into', target.getDisplayName(), 'as first child');\n\n              switch (action) {\n                case 'move':\n                  if (element.moveBefore(target.getChildren().getItem(0))) {\n                    cv.ui.manager.snackbar.Controller.info(\n                      this.tr('\"%1\" has been moved into \"%2\" as first child', elementName, target.getDisplayName())\n                    );\n                  }\n                  break;\n\n                case 'copy':\n                  if (element.insertBefore(target.getChildren().getItem(0))) {\n                    cv.ui.manager.snackbar.Controller.info(\n                      this.tr('\"%1\" has been copied into \"%2\" as first child', elementName, target.getDisplayName())\n                    );\n                  }\n                  break;\n\n                case 'add':\n                  this._onCreate(target, indicator.getUserData('position'));\n                  break;\n              }\n            } else {\n              this.debug('NOT ALLOWED', elementName, 'into', target.getDisplayName() + ' as first child');\n            }\n            break;\n\n          case 'inside':\n            if (accepted.mode & Allowed.INSIDE) {\n              this.debug(action, elementName, 'into', target.getDisplayName(), 'as child');\n\n              switch (action) {\n                case 'move':\n                  if (element.moveInside(target)) {\n                    cv.ui.manager.snackbar.Controller.info(\n                      this.tr('\"%1\" has been moved into \"%2\"', elementName, target.getDisplayName())\n                    );\n                  }\n                  break;\n\n                case 'copy':\n                  if (target.insertChild(element, -1, false, 'added')) {\n                    cv.ui.manager.snackbar.Controller.info(\n                      this.tr('\"%1\" has been copied into \"%2\"', elementName, target.getDisplayName())\n                    );\n                  }\n                  break;\n\n                case 'add':\n                  this._onCreate(target, indicator.getUserData('position'));\n                  break;\n              }\n            } else {\n              this.debug('NOT ALLOWED', elementName, 'into', target.getDisplayName(), 'as child');\n            }\n            break;\n        }\n      }.bind(this);\n\n      control.addListener('drop', onDrop, this);\n      indicator.addListener('drop', onDrop, this);\n\n      const onDragEnd = function (ev) {\n        // Move indicator away\n        indicator.setDomPosition(-1000, -1000);\n        indicator.resetUserData();\n        if (expandTimer) {\n          expandTimer.stop();\n          expandTimer = null;\n        }\n        if (draggedXmlElement) {\n          draggedXmlElement.resetDragging();\n          draggedXmlElement = null;\n        }\n        accepted.target = null;\n        accepted.mode = 0;\n        let cursor = ev.getManager().getCursor();\n        if (!cursor) {\n          cursor = qx.ui.core.DragDropCursor.getInstance();\n        }\n        if (cursor.hasState('touch')) {\n          cursor.removeState('touch');\n        }\n        this.setDragging(false);\n      };\n      control.addListener('dragend', onDragEnd, this);\n      addButton.addListener('dragend', onDragEnd, this);\n    },\n\n    /**\n     * Create a new element an insert if after target\n     *\n     * @param target {cv.ui.manager.model.XmlElement} target element\n     * @param position {String} one of \"after\", \"before\" or \"inside\"\n     * @param elementName {String?} if not set a selection of possible elements at that position will be shown\n     * @private\n     */\n    _onCreate(target, position, elementName) {\n      const parent = position === 'inside' || position === 'first-child' ? target : target.getParent();\n      const parentSchemaElement = parent.getSchemaElement();\n      let addable = parent.getAddableChildren(false);\n      if (addable.length > 0) {\n        // check if a child could be added at this position\n        const children = parent.getChildren();\n        // only check if we already have children, because otherwise we can add any child even in ordered sequences\n        if (!parentSchemaElement.areChildrenSortable() && position !== 'inside' && children.length > 0) {\n          // we only care about the first level here\n          const sorting = parentSchemaElement.getFirstLevelElementSorting();\n          let minPosition = 0;\n          let maxPosition = 0;\n          if (position === 'before') {\n            maxPosition = sorting[target.getName()];\n            const targetIndex = children.indexOf(target);\n            if (targetIndex > 0) {\n              let found = false;\n              // find the first real element before that is not from the same type\n              for (let i = targetIndex - 1; i >= 0; i--) {\n                const sibling = children.getItem(i);\n                if (!sibling.getName().startsWith('#') && sibling.getName() !== target.getName()) {\n                  minPosition = sorting[sibling.getName()];\n                  found = true;\n                  break;\n                }\n              }\n              if (!found) {\n                // only siblings of the same type\n                minPosition = maxPosition;\n              }\n            }\n          } else if (position === 'after') {\n            minPosition = sorting[target.getName()];\n            const targetIndex = children.indexOf(target);\n            if (targetIndex < children.length - 1) {\n              // find the first real element after that is not from the same type\n              let found = false;\n              for (let i = targetIndex; i < children.length; i++) {\n                const sibling = children.getItem(i);\n                if (!sibling.getName().startsWith('#') && sibling.getName() !== target.getName()) {\n                  maxPosition = sorting[sibling.getName()];\n                  found = true;\n                  break;\n                }\n              }\n              if (!found) {\n                // only siblings of the same type\n                maxPosition = minPosition;\n              }\n            } else {\n              // we want to append ot to the end\n              maxPosition = minPosition + 1;\n            }\n          } else if (position === 'first-child') {\n            // add before first child\n            const firstChild = children.getItem(0);\n            maxPosition = sorting[firstChild.getName()];\n          }\n          addable = addable.filter(\n            name =>\n              Object.prototype.hasOwnProperty.call(sorting, name) &&\n              sorting[name] <= maxPosition &&\n              sorting[name] >= minPosition\n          );\n        }\n      }\n      if (addable.length > 0) {\n        this.__editing = true;\n        let typeChooserForm;\n        if (addable.length > 1) {\n          // user has to select a type\n          typeChooserForm = new cv.ui.manager.form.ElementForm({\n            allowCancel: true,\n            context: this,\n            message: this.tr(\n              '<p style=\\'font-weight:bold\\'>Choose element</p><p>Several possible element can be created at this position, please select one to proceed.</p>'\n            ),\n\n            formData: {\n              type: {\n                type: 'SelectBox',\n                label: this.tr('Choose element'),\n                help: this.tr('Please choose the element you want to add here.'),\n\n                options: addable\n                  .sort((a, b) => {\n                    if (a.startsWith('#') && !b.startsWith('#')) {\n                      return 1;\n                    } else if (!a.startsWith('#') && b.startsWith('#')) {\n                      return -1;\n                    }\n                    return a.localeCompare(b);\n                  })\n                  .map(name => ({ label: name, value: name })),\n                validation: {\n                  required: true\n                }\n              }\n            }\n          })\n            .show()\n            .promise();\n        } else {\n          typeChooserForm = Promise.resolve({ type: addable[0] });\n        }\n        typeChooserForm.then(result => {\n          if (result) {\n            const type = result.type;\n            // create new element, open the edit dialog and insert it\n            const document = target.getNode().ownerDocument;\n            let element;\n            let isElement = false;\n            switch (type) {\n              case '#comment':\n                element = document.createComment('');\n                break;\n\n              case '#text':\n                element = document.createTextNode('');\n                break;\n\n              case '#cdata-section':\n                element = document.createCDATASection('');\n                break;\n\n              default:\n                element = document.createElement(type);\n                isElement = true;\n                break;\n            }\n\n            const schemaElement = parentSchemaElement.getSchemaElementForElementName(type);\n\n            const initChildren = function (element, schemaElement) {\n              const requiredChildren = schemaElement.getRequiredElements();\n              if (requiredChildren.length > 1) {\n                if (!schemaElement.areChildrenSortable()) {\n                  // a special order 1s required\n                  const allowedSorting = schemaElement.getAllowedElementsSorting();\n                  requiredChildren.sort(cv.ui.manager.model.schema.Element.sortChildNodes(allowedSorting));\n                }\n              }\n              requiredChildren.forEach(childName => {\n                const child = document.createElement(childName);\n                element.appendChild(child);\n                // do this recursively\n                initChildren(child, schemaElement.getSchemaElementForElementName(childName));\n              });\n              if (schemaElement.isTextContentRequired()) {\n                const child = document.createTextNode('-');\n                element.appendChild(child);\n              }\n            };\n            if (isElement) {\n              initChildren(element, schemaElement);\n            }\n\n            const xmlElement = new cv.ui.manager.model.XmlElement(element, schemaElement, target.getEditor(), parent);\n\n            // load the \"empty\" element to init the modification comparison\n            xmlElement.load();\n            let res = Promise.resolve(true);\n            if (xmlElement.isShowEditButton()) {\n              // only show edit dialog when we actually have something to edit\n              res = this._onEdit(null, xmlElement, true);\n            }\n            res\n              .then(data => {\n                if (data) {\n                  // finally insert the new node\n                  switch (position) {\n                    case 'before':\n                      xmlElement.insertBefore(target);\n                      break;\n\n                    case 'after':\n                      xmlElement.insertAfter(target);\n                      break;\n\n                    case 'inside':\n                      target.insertChild(xmlElement, -1, false, 'added');\n                      break;\n\n                    case 'first-child':\n                      target.insertChild(xmlElement, 0, false, 'added');\n                      break;\n                  }\n\n                  this.getChildControl('tree').openNodeAndParents(xmlElement);\n                  this.getChildControl('tree').setSelection([xmlElement]);\n                }\n              }, this)\n              .catch(err => this.error(err));\n          }\n        });\n      }\n    },\n\n    __getAllowedPositions(allowedSorting, elementName, targetName, depth) {\n      if (allowedSorting) {\n        let currentPosition = allowedSorting[elementName];\n        if (typeof currentPosition === 'string') {\n          currentPosition = currentPosition.split('.').map(i => (/^\\d+$/.test(i) ? parseInt(i) : i));\n        } else {\n          currentPosition = [currentPosition];\n        }\n        let targetPosition = allowedSorting[targetName];\n        if (typeof targetPosition === 'string') {\n          targetPosition = targetPosition.split('.').map(i => (/^\\d+$/.test(i) ? parseInt(i) : i));\n        } else {\n          targetPosition = [targetPosition];\n        }\n        const depth = Math.min(depth || 1, currentPosition.length, targetPosition.length);\n\n        for (let i = 0; i < depth; i++) {\n          if (currentPosition[i] === targetPosition[i]) {\n            // no special position\n            return cv.ui.manager.editor.Tree.Allowed.BEFORE | cv.ui.manager.editor.Tree.Allowed.AFTER;\n          } else if (currentPosition[i] - 1 === targetPosition[i]) {\n            return cv.ui.manager.editor.Tree.Allowed.AFTER;\n          } else if (currentPosition[i] + 1 === targetPosition[i]) {\n            return cv.ui.manager.editor.Tree.Allowed.BEFORE;\n          }\n        }\n      }\n      return cv.ui.manager.editor.Tree.Allowed.NONE;\n    },\n\n    __checkProvider(id, formData, element) {\n      const provider = cv.ui.manager.editor.data.Provider.get(id);\n      if (provider) {\n        if (typeof provider.getLive === 'function') {\n          formData.options = provider.getLive(element);\n        } else if (provider.data) {\n          formData.options = provider.data;\n        } else {\n          this.error('misconfigured provider found for ' + id);\n        }\n        formData.type = provider.userInputAllowed ? 'VirtualComboBox' : 'VirtualSelectBox';\n      } else if (['mapping', 'styling'].includes(id.split('@').pop())) {\n        const type = id.split('@').pop();\n        // these are directly filled from data inside the currently used config\n        const tree = this.getChildControl('tree');\n        const rootNode = tree.getModel().getNode();\n        formData.type = 'SelectBox';\n        formData.options = [];\n        const selector = this._structure === 'tile' ? 'cv-meta > cv-' + type : 'meta > ' + type + 's > ' + type;\n        rootNode.querySelectorAll(selector).forEach(element => {\n          const name = element.getAttribute('name');\n          formData.options.push({ label: name, value: name });\n        });\n      }\n      if (formData.type.endsWith('SelectBox')) {\n        // not allowed here\n        delete formData.placeholder;\n        if (!formData.validation.required) {\n          if (formData.options instanceof Promise) {\n            formData.options\n              .then(res => {\n                if (Array.isArray(res)) {\n                  res.unshift({\n                    label: ' - ' + this.tr('not set') + ' - ',\n                    value: ''\n                  });\n                }\n              })\n              .catch(() => {}); // ignore error here, will be handled somewhere else\n          } else {\n            formData.options.unshift({\n              label: ' - ' + this.tr('not set') + ' - ',\n              value: ''\n            });\n          }\n        }\n      }\n    },\n\n    __getAttributeFormDefinition(element, attribute) {\n      const docs = attribute.getDocumentation();\n      const def = {\n        type: 'TextField',\n        label: attribute.getName(),\n        placeholder: ' - ' + this.tr('not set') + ' - ',\n        help: docs.join('<br/>'),\n        enabled: element.isEditable(),\n        value: element.getAttribute(attribute.getName()) || attribute.getDefaultValue(),\n        validation: {\n          required: !attribute.isOptional(),\n          validator(value) {\n            if (value instanceof qx.ui.form.ListItem) {\n              value = value.getModel().getValue();\n            }\n            if (!attribute.isValueValid(value)) {\n              throw new qx.core.ValidationError(qx.locale.Manager.tr('This is not a valid value.'));\n            }\n          }\n        }\n      };\n\n      switch (attribute.getTypeString()) {\n        case 'boolean':\n          def.type = 'CheckBox';\n          def.value = def.value === '' || def.value === null || def.value === undefined ? null : def.value === 'true';\n          delete def.placeholder;\n          break;\n\n        case 'string': {\n          const enums = attribute.getEnumeration();\n          if (enums.length > 0) {\n            def.type = 'SelectBox';\n            delete def.placeholder;\n            def.options = [];\n            enums.forEach(name => {\n              def.options.push({ label: name, value: name });\n            });\n            if (attribute.isOptional()) {\n              // allow empty value\n              def.options.unshift({\n                label: ' - ' + this.tr('not set') + ' - ',\n                value: ''\n              });\n            }\n          } else {\n            // check if we have a dataprovider for this\n            this.__checkProvider(element.getName() + '@' + attribute.getName(), def, element.getNode());\n          }\n          break;\n        }\n      }\n\n      return def;\n    },\n\n    _onEdit(ev, element, isNew) {\n      if (!this.getFile() || !this.getFile().isWriteable()) {\n        return null;\n      }\n      let title;\n      let caption;\n      if (!element) {\n        if (this.getSelected()) {\n          element = this.getSelected();\n        } else {\n          return null;\n        }\n      }\n      if (!element.getShowEditButton()) {\n        return null;\n      }\n      element.load();\n      const formData = {};\n      const typeElement = element.getSchemaElement();\n      if (isNew) {\n        title = this.tr('Create new %1 element', element.getName());\n        caption = this.tr(\n          'Please edit the attributes of the new %1 element, that will be added to the chosen position.',\n          element.getName()\n        );\n      } else {\n        title = this.tr('Edit element attributes');\n        caption = element.isEditable() ? this.tr('Edit %1', element.getName()) : this.tr('Show %1', element.getName());\n      }\n      if (element.getNode().nodeType === Node.ELEMENT_NODE) {\n        const allowed = typeElement.getAllowedAttributes();\n        Object.keys(allowed).forEach(name => {\n          const attribute = allowed[name];\n          if (!this.getExpert()) {\n            const appInfo = attribute.getAppinfo();\n            if (appInfo.includes('level:expert')) {\n              // do not this this attribute\n              return;\n            }\n          }\n          formData[name] = this.__getAttributeFormDefinition(element, attribute);\n        });\n        if (typeElement.isChildElementAllowed('*')) {\n          const parser = new DOMParser();\n          const attrName = element.getNode().nodeName === 'custom' ? '#innerHTML' : '#outerHTML';\n          if (isNew) {\n            title = this.tr('Create new %1 element', element.getName());\n            caption = this.tr(\n              'Please edit the content of the new %1 element, that will be added to the chosen position.',\n              element.getName()\n            );\n          } else {\n            title = attrName === '#outerHTML' ? this.tr('Edit element and content') : this.tr('Edit element content');\n          }\n          formData[attrName] = {\n            type: 'TextArea',\n            label: '',\n            lines: 5,\n            autoSize: true,\n            width: Math.min(qx.bom.Viewport.getWidth(), 500),\n            enabled: element.isEditable(),\n            value: attrName === '#outerHTML' ? element.getNode().outerHTML : element.getNode().innerHTML,\n            validation: {\n              validator(value) {\n                if (value) {\n                  const dom = parser.parseFromString(value, 'text/xml');\n                  if (dom.getElementsByTagName('parsererror').length > 0) {\n                    throw new qx.core.ValidationError(qx.locale.Manager.tr('This is not a valid value.'));\n                  }\n                }\n              }\n            }\n          };\n        }\n      } else if (\n        element.getNode().nodeType === Node.TEXT_NODE ||\n        element.getNode().nodeType === Node.COMMENT_NODE ||\n        element.getNode().nodeType === Node.CDATA_SECTION_NODE\n      ) {\n        title = this.tr('Edit text content', element.getName());\n        caption = '';\n        let nodeName = element.getNode().nodeName;\n        // only in text-only mode we can add text editing to the form\n        const docs = typeElement.getDocumentation();\n        formData[nodeName] = {\n          type: 'TextArea',\n          label: '',\n          lines: 1,\n          autoSize: true,\n          width: Math.min(qx.bom.Viewport.getWidth(), 500),\n          placeholder: this.tr('not set'),\n          help: docs.join('<br/>'),\n          enabled: element.isEditable(),\n          value: element.getTextContent(),\n          validation: {\n            validator(value) {\n              if (value instanceof qx.ui.form.ListItem) {\n                value = value.getModel().getValue();\n              }\n              if (!typeElement.isValueValid(value)) {\n                throw new qx.core.ValidationError(qx.locale.Manager.tr('This is not a valid value.'));\n              }\n            }\n          }\n        };\n\n        if (element.isTextNode()) {\n          let type = '';\n          const parent = element.getParent();\n          let convertToCData = false;\n          switch (parent.getName()) {\n            case 'status':\n              type = element.getParent().getAttribute('type');\n              convertToCData = (type === 'html' || type === 'xml');\n              break;\n\n            case 'style':\n              type = 'css';\n              convertToCData = true;\n              break;\n\n            case 'dataset':\n              if (parent.getAttribute('src').startsWith('flux://')) {\n                type = 'flux';\n              }\n              break;\n          }\n          if (convertToCData && element.getNode().nodeType === Node.TEXT_NODE) {\n            element.convertTextNodeType(Node.CDATA_SECTION_NODE);\n            const newNodeName = element.getNode().nodeName;\n            formData[newNodeName] = formData[nodeName];\n            delete formData[nodeName];\n            nodeName = newNodeName;\n          }\n\n          // special handling for status content: check of source editor supports the type and use it instead of a plain TextArea\n          if (type && cv.ui.manager.editor.Source.SUPPORTED_FILES('test.' + type)) { // eslint-disable-line new-cap\n            formData[nodeName].type = 'SourceEditor';\n            formData[nodeName].language = type;\n            formData[nodeName].width = Math.min(qx.bom.Viewport.getWidth(), 800);\n            delete formData[nodeName].placeholder;\n          }\n        }\n        this.__checkProvider(\n          element.getParent().getName() + '@' + element.getName(),\n          formData[nodeName],\n          element.getNode()\n        );\n      }\n      this.__editing = true;\n\n      const formDialog = new cv.ui.manager.form.ElementForm({\n        allowCancel: true,\n        context: this,\n        caption: title,\n        message: caption,\n        formData: formData,\n        minWidth: Math.min(qx.bom.Viewport.getWidth(), 400),\n        maxWidth: qx.bom.Viewport.getWidth()\n      }).show();\n      return formDialog.promise().then(data => {\n        if (data && element.isEditable()) {\n          // save changes\n          element.setAttributes(data);\n          this.clearReDos();\n          if (\n            !Object.prototype.hasOwnProperty.call(data, '#outerHTML') &&\n            !Object.prototype.hasOwnProperty.call(data, '#innerHTML')\n          ) {\n            element.validate();\n          }\n        }\n        this.__editing = false;\n        formDialog.destroy();\n        return data;\n      });\n    },\n\n    _onDelete(ev, element) {\n      if (!element) {\n        element = this.getSelected();\n      }\n      if (element && element.isDeletable()) {\n        element.remove();\n        this.clearReDos();\n        return element;\n      }\n      return null;\n    },\n\n    _onCut() {\n      if (this.__editing) {\n        document.execCommand('cut');\n      } else {\n        const element = this._onDelete();\n        if (element) {\n          this.setClipboard(element);\n        }\n      }\n    },\n\n    _onCopy() {\n      if (this.__editing) {\n        document.execCommand('copy');\n      } else {\n        const element = this.getSelected();\n        if (element) {\n          const copy = element.clone();\n          this.setClipboard(copy);\n        }\n      }\n    },\n\n    _onPaste() {\n      const target = this.getSelected();\n      const clipboardElement = this.getClipboard();\n      if (target && clipboardElement) {\n        if (target.insertChild(clipboardElement, -1, false, 'added')) {\n          // this was successful, clean the clipboard\n          this.resetClipboard();\n        }\n      }\n    },\n\n    /**\n     * Maintain global modification state.\n     * This method is called by a single cv.ui.manager.model.XmlElement when it has changed its modified state.\n     * @param element {cv.ui.manager.model.XmlElement}\n     */\n    updateModified(element) {\n      const index = this.__modifiedElements.indexOf(element);\n      const previewIndex = this.__modifiedPreviewElements.indexOf(element);\n      if (element.$$removed) {\n        // we dont care about elements that have been removed (its the parent that has changed then by loosing a child)\n        if (index >= 0) {\n          this.__modifiedElements.splice(index, 1);\n        }\n        if (previewIndex >= 0) {\n          this.__modifiedPreviewElements.splice(index, 1);\n        }\n      } else if (element.isModified()) {\n        if (index === -1) {\n          this.__modifiedElements.push(element);\n        }\n        if (previewIndex === -1) {\n          this.__modifiedPreviewElements.push(element);\n        }\n      } else {\n        if (index >= 0) {\n          this.__modifiedElements.splice(index, 1);\n        }\n        if (previewIndex >= 0) {\n          this.__modifiedPreviewElements.splice(index, 1);\n        }\n      }\n      this.getFile().setModified(this.__modifiedElements.length > 0);\n      this._onContentChanged();\n    },\n\n    _draw() {\n      const toolbar = this.getChildControl('toolbar');\n      this._createChildControl('searchbar');\n      if (!this.hasChildControl('add-button')) {\n        this._createChildControl('add-button');\n      }\n      toolbar.addSeparator();\n      this._createChildControl('edit-button');\n      this._createChildControl('delete-button');\n      toolbar.addSeparator();\n      this._createChildControl('toggle-expert');\n      toolbar.addSpacer();\n      this._createChildControl('refresh-preview');\n\n      if (!this.hasChildControl('tree')) {\n        this._createChildControl('tree');\n      }\n      if (!this.hasChildControl('right')) {\n        this._createChildControl('right');\n      }\n      if (!this.hasChildControl('preview-sync-hint')) {\n        this._createChildControl('preview-sync-hint');\n      }\n      if (!this.hasChildControl('preview')) {\n        this._createChildControl('preview');\n      }\n    },\n\n    _applySelected(value, old) {\n      if (old) {\n        old.removeRelatedBindings(this.getChildControl('delete-button'));\n      }\n      if (value) {\n        this.getChildControl('edit-button').setEnabled(value.getShowEditButton());\n\n        if (this.getFile().isWriteable()) {\n          value.bind('deletable', this.getChildControl('delete-button'), 'enabled');\n        }\n      } else {\n        this.getChildControl('edit-button').setEnabled(false);\n        this.getChildControl('delete-button').setEnabled(false);\n      }\n      this._updateHighlightWidget();\n    },\n\n    _updateHighlightWidget() {\n      const selected = this.getSelected();\n      if (this.isShowPreview()) {\n        const preview = this.getChildControl('preview');\n        if (this.getPreviewState() !== 'structureChanged' && selected) {\n          // get page path for this node\n          let path = [];\n          let node = selected.getNode();\n          if (this._structure === 'tile') {\n            while (node && node.nodeName !== 'config') {\n              if (node.nodeName === 'cv-page') {\n                preview.openPage(node.getAttribute('id'));\n                break;\n              }\n              node = node.parentNode;\n            }\n          } else {\n            while (node && node.nodeName !== 'pages') {\n              if (node.nodeName === 'page') {\n                path.unshift(node.getAttribute('name'));\n              }\n              node = node.parentNode;\n            }\n            if (path.length > 0) {\n              preview.openPage(path.pop(), path.join('/'));\n            }\n          }\n          preview.setHighlightWidget(selected.getWidgetPath());\n        } else {\n          preview.setHighlightWidget(null);\n        }\n      }\n    },\n\n    _onElementKeyUp(ev) {\n      if (this.getSelected() && this.isVisible()) {\n        if (ev.getKeyIdentifier() === 'Enter') {\n          if (!this.__editing) {\n            this._onEdit();\n          }\n        }\n      }\n    },\n\n    _applyContent(value) {\n      const tree = this.getChildControl('tree');\n      const file = this.getFile();\n      this._updatePreview(null, null, true);\n      if (value && file) {\n        if (this._workerWrapper) {\n          this._workerWrapper.open(file, value, null, {\n            validate: false,\n            initialValidation: true,\n            modified: false\n          });\n\n          this._workerWrapper.validateXmlConfig(value).then(res => {\n            if (res === true) {\n              this.info(file.getPath() + ' is a valid config file');\n              this.__loadContent(value);\n            } else {\n              const dialog = new cv.ui.manager.dialog.ValidationError(file, value, res);\n\n              dialog.addListener('action', ev => {\n                switch (ev.getData()) {\n                  case 'proceed':\n                    this.__loadContent(value, res);\n                    break;\n\n                  case 'open-source': {\n                    const file = this.getFile();\n                    cv.ui.manager.Main.getInstance().closeFile(file);\n                    qx.event.message.Bus.dispatchByName('cv.manager.openWith', {\n                      file: file.getFullPath(),\n                      handler: 'cv.ui.manager.editor.Source',\n                      handlerOptions: {\n                        jumpToError: true\n                      }\n                    });\n\n                    break;\n                  }\n\n                  case 'cancel':\n                    // close this editor\n                    cv.ui.manager.Main.getInstance().closeFile(this.getFile());\n                    break;\n                }\n\n                dialog.hide();\n                dialog.destroy();\n              });\n              dialog.show();\n            }\n          });\n        }\n      } else {\n        tree.resetModel();\n        if (this.hasChildControl('add-button')) {\n          this.getChildControl('add-button').setEnabled(false);\n        }\n      }\n    },\n\n    __getPreviewFile() {\n      let file;\n      cv.ui.manager.model.FileItem.ROOT.getChildren().some(f => {\n        if (f.getName() === 'visu_config_previewtemp.xml') {\n          file = f;\n          return true;\n        }\n        return false;\n      });\n      if (!file) {\n        file = new cv.ui.manager.model.FileItem('visu_config_previewtemp.xml', '/', cv.ui.manager.model.FileItem.ROOT);\n\n        file.setTemporary(true);\n      }\n      return file;\n    },\n\n    async __loadContent(value, errors) {\n      const tree = this.getChildControl('tree');\n      const file = this.getFile();\n      if (file) {\n        const doc = qx.xml.Document.fromString(value);\n        const rootElement = doc.documentElement;\n        const schema = await this.getSchema(\n          rootElement.getAttributeNS('http://www.w3.org/2001/XMLSchema-instance', 'noNamespaceSchemaLocation')\n        );\n\n        const schemaElement = schema.getElementNode(rootElement.nodeName);\n        const rootNode = new cv.ui.manager.model.XmlElement(rootElement, schemaElement, this);\n\n        this._structure = schema.getStructure();\n        rootNode.setEditable(file.getWriteable());\n        rootNode.load();\n        tree.setModel(rootNode);\n        if (this.hasChildControl('add-button')) {\n          this.getChildControl('add-button').setVisibility(file.getWriteable() ? 'visible' : 'excluded');\n\n          // extra space für add-button\n          tree.setContentPaddingBottom(file.getWriteable() ? 80 : 0);\n        }\n        if (this.isShowPreview()) {\n          const preview = this.getChildControl('preview');\n          if (file.isWriteable()) {\n            if (!preview.getFile()) {\n              preview.setFile(this.__getPreviewFile());\n            }\n          } else {\n            preview.setFile(file);\n          }\n          this._updatePreview(null, value);\n          if (!preview.isVisible()) {\n            preview.show();\n          }\n        }\n        if (file.isTemporary()) {\n          this._onContentChanged();\n        }\n        if (errors) {\n          errors.forEach(error => {\n            if (error.path && error.path.startsWith('/pages')) {\n              let current = rootNode;\n              let parts = error.path.substr(1).split('/');\n              while (parts.length > 0) {\n                let part = parts.shift();\n                let match = /^([^[]+)\\[(\\d+)\\]$/.exec(part);\n                if (match) {\n                  current = current.getChildren().getItem(parseInt(match[2]));\n                  if (current) {\n                    try {\n                      // this can always lead to a loading error, because the element is invalid\n                      current.load();\n                    } catch (e) {\n                      this.error('Error loading ' + current.getName() + ': ' + e.toString());\n\n                      current = null;\n                      break;\n                    }\n                  } else {\n                    break;\n                  }\n                } else {\n                  this.error('patch segment format error: ' + part);\n                  current = null;\n                  break;\n                }\n              }\n              if (current) {\n                current.setValid(false);\n                current.validate(false);\n                tree.openNodeAndParents(current);\n              }\n            }\n          });\n        }\n      } else {\n        this._structure = null;\n      }\n    },\n\n    _onContentChanged() {\n      const content = this.getCurrentContent();\n      if (this._workerWrapper) {\n        this._workerWrapper.contentChanged(this.getFile(), content);\n      }\n      if (this.isAutoRefreshPreview() && this.isShowPreview()) {\n        this._updatePreview(null, content);\n      }\n    },\n\n    _updatePreview(ev, content, reset) {\n      const previewFile = this.getChildControl('preview').getFile();\n      if (previewFile) {\n        if (!content && !reset) {\n          content = this.getCurrentContent(true);\n        } else if (reset === true) {\n          this.getChildControl('preview').hide();\n          return;\n        }\n        this.getChildControl('preview').show();\n        if (previewFile.isTemporary()) {\n          this._client.createSync(\n            {\n              path: previewFile.getFullPath(),\n              hash: 'ignore'\n            },\n            content,\n            err => {\n              if (err) {\n                // disable preview, because the file could not be created\n                this.setShowPreview(false);\n                this.error(err);\n                cv.ui.manager.snackbar.Controller.error(this.tr('Disabling preview because the preview file could not be created.'));\n              } else {\n                qx.event.message.Bus.dispatchByName(previewFile.getBusTopic(), {\n                  type: 'contentChanged',\n                  file: previewFile,\n                  data: content,\n                  source: this\n                });\n                this.__modifiedPreviewElements.removeAll();\n                this.resetPreviewState();\n                previewFile.resetTemporary();\n              }\n            },\n            this\n          );\n        } else {\n          this._client.updateSync(\n            {\n              path: previewFile.getFullPath(),\n              hash: 'ignore'\n            },\n            content,\n            err => {\n              if (err) {\n                cv.ui.manager.snackbar.Controller.error(err);\n              } else {\n                qx.event.message.Bus.dispatchByName(previewFile.getBusTopic(), {\n                  type: 'contentChanged',\n                  file: previewFile,\n                  data: content,\n                  source: this\n                });\n\n                this.__modifiedPreviewElements.removeAll();\n                this.resetPreviewState();\n              }\n            },\n            this\n          );\n        }\n      }\n    },\n\n    getCurrentContent(fast) {\n      const tree = this.getChildControl('tree');\n      if (tree.getModel()) {\n        const rootNode = tree.getModel().getNode();\n        if (fast) {\n          return new XMLSerializer().serializeToString(rootNode.ownerDocument);\n        }\n        // prettify content\n        return cv.util.Prettifier.xml(rootNode.ownerDocument);\n      }\n      return null;\n    },\n\n    _onSaved() {\n      super._onSaved();\n      this.__modifiedElements.forEach(elem => elem.onSaved());\n      this.__modifiedElements = [];\n      this.clearUnDosReDos();\n    },\n\n    isSupported(file) {\n      return cv.ui.manager.editor.Tree.SUPPORTED_FILES.test(file.getName());\n    },\n\n    _showHelp() {\n      const focusedWidget = qx.ui.core.FocusHandler.getInstance().getFocusedWidget();\n      const dialogConf = {\n        caption: this.tr('Help'),\n        modal: true,\n        image: 'qxl.dialog.icon.info',\n        minWidth: Math.min(600, qx.bom.Viewport.getWidth()),\n        maxHeight: qx.bom.Viewport.getHeight(),\n        message: ''\n      };\n\n      if (focusedWidget === this.getChildControl('searchbar')) {\n        dialogConf.message = this.tr(\n          '<h3>Search for elements</h3>\\\n<p>You can search for element names (tag names or content of name attribute) by typing a search value here. \\\nAll elements whose tag name or name-attribute start with the search term will be found</p>\\\n<p>Search will start automatically when the search term is at least 2 characters long.</p>\\\n<p>The first found element will be opened and selected in the element tree. You can jump to the next \\\nfound element with \\'Enter\\' or the \\'Down\\' key. Accordingly you can jump the the previous found element \\\nwith the \\'Up\\' key.</p>'\n        );\n      } else {\n        // show general help\n        dialogConf.message = this.tr(\n          '<h3>CometVisu XML-Editor - a brief introduction</h3>\\\n<p>The CometVisu XMl-Editor shows the content of a CometVisu config file in a tree-like structure. \\\nYou can traverse through the tree by opening/closing elements with a click on the expand icon.</p>\\\n<p>The Xml-Editor will make sure that you do not create an invalid configuration file. \\\nIf you experience a change that has not been accepted / or is not allowed that is most likely due to avoid an invalid configuration.</p>\\\n<h4>Editing attributes</h4>\\\n<p>The elements attributes can be edited by double clicking on it or selecting an element and clicking on the \\'edit\\'-button in the toolbar \\\nabove the tree of by right-clicking on the element and the \\'edit\\'-button in the context menu</p>\\\n<h4>Editing elements</h4>\\\n<p>The elements in the tree support re-ordering via drag & drop. You can also cut/copy or paste them. \\\nYou can add new elements by starting a drag in the round + button on the bottom of the tree, or \\\nby right clicking on an element and choosing the \\'add child\\'-button.</p>\\\n<p>You can delete elements by the delete buttons in the toolbar</p>\\\n<h4>Expert view</h4>\\\n<p>Some attributes are hidden in the editing dialog, because they provide access to settings that usually \\\nare not needed that often. You can access these attributes by toggling to the \\'Expertview\\'-button \\\nin the toolbar directly above the tree.</p>\\\n<h4>Config preview</h4>\\\n<p>An preview of the edited config file is shown on the right part of the screen. The preview will not automatically \\\nrefresh after you have changed something. You can refresh is manually by clicking the most right button in the toolbar.</p>'\n        );\n      }\n      new cv.ui.manager.dialog.BigAlert(dialogConf).show();\n    }\n  },\n\n  /*\n  ***********************************************\n    DESTRUCTOR\n  ***********************************************\n  */\n  destruct() {\n    this._schemas = null;\n    this._workerWrapper = null;\n    this._disposeArray('__modifiedElements', '__modifiedPreviewElements');\n    qx.core.Init.getApplication().getRoot().removeListener('keyup', this._onElementKeyUp, this);\n  }\n});\n"
  ],
  "mappings": "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",
  "ignoreList": []
}