{
  "version": 3,
  "names": [
    "_regeneratorRuntime",
    "e",
    "t",
    "r",
    "Object",
    "prototype",
    "n",
    "hasOwnProperty",
    "o",
    "defineProperty",
    "value",
    "i",
    "Symbol",
    "a",
    "iterator",
    "c",
    "asyncIterator",
    "u",
    "toStringTag",
    "define",
    "enumerable",
    "configurable",
    "writable",
    "wrap",
    "Generator",
    "create",
    "Context",
    "makeInvokeMethod",
    "tryCatch",
    "type",
    "arg",
    "call",
    "h",
    "l",
    "f",
    "s",
    "y",
    "GeneratorFunction",
    "GeneratorFunctionPrototype",
    "p",
    "d",
    "getPrototypeOf",
    "v",
    "values",
    "g",
    "defineIteratorMethods",
    "forEach",
    "_invoke",
    "AsyncIterator",
    "invoke",
    "_typeof",
    "resolve",
    "__await",
    "then",
    "callInvokeWithMethodAndArg",
    "Error",
    "done",
    "method",
    "delegate",
    "maybeInvokeDelegate",
    "sent",
    "_sent",
    "dispatchException",
    "abrupt",
    "TypeError",
    "resultName",
    "next",
    "nextLoc",
    "pushTryEntry",
    "tryLoc",
    "catchLoc",
    "finallyLoc",
    "afterLoc",
    "tryEntries",
    "push",
    "resetTryEntry",
    "completion",
    "reset",
    "isNaN",
    "length",
    "displayName",
    "isGeneratorFunction",
    "constructor",
    "name",
    "mark",
    "setPrototypeOf",
    "__proto__",
    "awrap",
    "async",
    "Promise",
    "keys",
    "reverse",
    "pop",
    "prev",
    "charAt",
    "slice",
    "stop",
    "rval",
    "handle",
    "complete",
    "finish",
    "_catch",
    "delegateYield",
    "asyncGeneratorStep",
    "gen",
    "reject",
    "_next",
    "_throw",
    "key",
    "info",
    "error",
    "_asyncToGenerator",
    "fn",
    "self",
    "args",
    "arguments",
    "apply",
    "err",
    "undefined",
    "$$dbClassInfo",
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "Class",
    "extend",
    "cv",
    "ui",
    "manager",
    "editor",
    "AbstractEditor",
    "construct",
    "_this",
    "_setLayout",
    "layout",
    "Grow",
    "_handledActions",
    "_initWorker",
    "_schemas",
    "__modifiedElements",
    "__modifiedPreviewElements",
    "data",
    "Array",
    "addListener",
    "ev",
    "getData",
    "setPreviewState",
    "structureChanges",
    "some",
    "element",
    "hasChildrenModified",
    "initUnDos",
    "initReDos",
    "__buttonListeners",
    "core",
    "Init",
    "getApplication",
    "getRoot",
    "_onElementKeyUp",
    "_maintainPreviewVisibility",
    "_draw",
    "statics",
    "SUPPORTED_FILES",
    "TITLE",
    "locale",
    "Manager",
    "tr",
    "ICON",
    "theme",
    "dark",
    "Images",
    "getIcon",
    "Allowed",
    "NONE",
    "BEFORE",
    "AFTER",
    "INSIDE",
    "FIRST_CHILD",
    "properties",
    "appearance",
    "refine",
    "init",
    "expert",
    "check",
    "ready",
    "selected",
    "nullable",
    "event",
    "clipboard",
    "unDos",
    "deferredInit",
    "reDos",
    "autoRefreshPreview",
    "previewState",
    "showPreview",
    "dragging",
    "members",
    "_workerWrapper",
    "__editing",
    "__searchResults",
    "__searchResultIndex",
    "_structure",
    "getSchema",
    "file",
    "_this2",
    "_callee",
    "_callee$",
    "_context",
    "startsWith",
    "substring",
    "model",
    "Schema",
    "getInstance",
    "onLoaded",
    "setReady",
    "isPreviewSynced",
    "getPreviewState",
    "_applyHandlerOptions",
    "handlerOptions",
    "getHandlerOptions",
    "enablePreview",
    "bom",
    "Viewport",
    "getWidth",
    "noPreview",
    "previewFile",
    "__getPreviewFile",
    "isTemporary",
    "isWriteable",
    "FileItem",
    "ROOT",
    "setShowPreview",
    "_applyShowPreview",
    "getChildControl",
    "setVisibility",
    "clearLayoutProperties",
    "updateLayoutProperties",
    "noStretch",
    "setLayoutProperties",
    "flex",
    "getFile",
    "preview",
    "setFile",
    "_updatePreview",
    "handleAction",
    "actionName",
    "canHandleAction",
    "undo",
    "redo",
    "_onCut",
    "_onCopy",
    "_onPaste",
    "_showHelp",
    "Tree",
    "superclass",
    "configureButton",
    "actionId",
    "button",
    "_this3",
    "getUnDos",
    "setEnabled",
    "setToolTipText",
    "getItem",
    "getTitle",
    "resetToolTipText",
    "getReDos",
    "bind",
    "converter",
    "isDeletable",
    "unConfigureButton",
    "removeListenerById",
    "removeRelatedBindings",
    "addUndo",
    "elementChange",
    "ElementChange",
    "clearUnDosReDos",
    "removeAll",
    "elem",
    "dispose",
    "clearReDos",
    "_applyClipboard",
    "navigator",
    "writeText",
    "getNode",
    "outerHTML",
    "CLIPBOARD",
    "Worker",
    "showErrors",
    "path",
    "errorList",
    "showDecorations",
    "decorators",
    "_loadFile",
    "old",
    "close",
    "getType",
    "isSupported",
    "hasChildControl",
    "resetFile",
    "resetPreviewState",
    "_createChildControlImpl",
    "id",
    "hash",
    "_this4",
    "control",
    "container",
    "Composite",
    "HBox",
    "_add",
    "Canvas",
    "addAt",
    "VBox",
    "isShowPreview",
    "exclude",
    "viewer",
    "Config",
    "set",
    "target",
    "minWidth",
    "ok",
    "noSync",
    "notOk",
    "basic",
    "Atom",
    "setRich",
    "setWrap",
    "label",
    "icon",
    "removeState",
    "addState",
    "toolbar",
    "Button",
    "_onEdit",
    "add",
    "_onDelete",
    "CheckBox",
    "toggleExpert",
    "ToolBar",
    "top",
    "left",
    "right",
    "form",
    "TextField",
    "liveUpdate",
    "placeholder",
    "margin",
    "util",
    "Function",
    "debounce",
    "_onSearch",
    "getKeyIdentifier",
    "_showNextResult",
    "_showPreviousResult",
    "stopPropagation",
    "tree",
    "VirtualTree",
    "selectionMode",
    "width",
    "openMode",
    "itemHeight",
    "Environment",
    "get",
    "_initDragDrop",
    "setDelegate",
    "createItem",
    "item",
    "VirtualElementItem",
    "_onContextMenu",
    "_onContextMenuAction",
    "bindItem",
    "controller",
    "index",
    "bindProperty",
    "bindPropertyReverse",
    "getSelection",
    "_onChangeTreeSelection",
    "bottom",
    "setDraggable",
    "setMarginLeft",
    "setZIndex",
    "setAppearance",
    "getSelected",
    "_onCreate",
    "qxl",
    "dialog",
    "Dialog",
    "alert",
    "Widget",
    "setDecorator",
    "decoration",
    "Decorator",
    "widthTop",
    "styleTop",
    "colorTop",
    "setHeight",
    "setOpacity",
    "setDroppable",
    "contextmenu",
    "ConfigElement",
    "getCurrentTarget",
    "getModel",
    "replace",
    "setSelected",
    "menu",
    "setElement",
    "openAtPointer",
    "getBubbles",
    "action",
    "added",
    "resetSelected",
    "openByQuerySelector",
    "selector",
    "edit",
    "_this5",
    "rootNode",
    "result",
    "querySelector",
    "__showSearchResult",
    "from",
    "querySelectorAll",
    "filter",
    "el",
    "tagName",
    "hasAttribute",
    "getAttribute",
    "__P_35_7",
    "firstMatch",
    "$$widget",
    "openNodeAndParents",
    "current",
    "ancestors",
    "parentElement",
    "load",
    "_this6",
    "draggedXmlElement",
    "dragTarget",
    "getDragTarget",
    "setDragging",
    "isEditable",
    "preventDefault",
    "addAction",
    "addType",
    "addData",
    "addButton",
    "accepted",
    "mode",
    "getCurrentAction",
    "supportsType",
    "addNew",
    "getTarget",
    "indicator",
    "debug",
    "isAncestor",
    "layerContent",
    "getPane",
    "getLayers",
    "getContentLocation",
    "getDocumentTop",
    "lastElem",
    "document",
    "elementFromPoint",
    "Math",
    "round",
    "getWidgetByElement",
    "isAnonymous",
    "getLayoutParent",
    "parent",
    "getParent",
    "parentSchemaElement",
    "getSchemaElement",
    "allowedElements",
    "getAllowedElements",
    "addable",
    "getAddableChildren",
    "areChildrenSortable",
    "acc",
    "allowedSorting",
    "getAllowedElementsSorting",
    "elementName",
    "__getAllowedPositions",
    "getName",
    "isChildElementAllowed",
    "lookInside",
    "getFirstLevelElementSorting",
    "targetPosition",
    "getChildren",
    "firstChild",
    "maxPosition",
    "firstChildPosition",
    "expandTimer",
    "lastTreeItem",
    "treeContainer",
    "onDrag",
    "position",
    "cursor",
    "getManager",
    "getCursor",
    "DragDropCursor",
    "_native",
    "pointerType",
    "hasState",
    "origElem",
    "getDocumentLeft",
    "orig",
    "skipDetection",
    "origCoords",
    "leftPos",
    "spacer",
    "_getChildren",
    "getPaddingLeft",
    "setWidth",
    "getBounds",
    "lastCoords",
    "distance",
    "isOpen",
    "getUserData",
    "setDomPosition",
    "Timer",
    "once",
    "openNode",
    "setUserData",
    "getAction",
    "resetAction",
    "console",
    "assert",
    "setAction",
    "onDrop",
    "clone",
    "getDisplayName",
    "moveAfter",
    "snackbar",
    "Controller",
    "insertAfter",
    "moveBefore",
    "insertBefore",
    "moveInside",
    "insertChild",
    "onDragEnd",
    "resetUserData",
    "resetDragging",
    "_this7",
    "children",
    "sorting",
    "minPosition",
    "targetIndex",
    "indexOf",
    "found",
    "sibling",
    "typeChooserForm",
    "ElementForm",
    "allowCancel",
    "context",
    "message",
    "formData",
    "help",
    "options",
    "sort",
    "b",
    "localeCompare",
    "map",
    "validation",
    "required",
    "show",
    "promise",
    "ownerDocument",
    "isElement",
    "createComment",
    "createTextNode",
    "createCDATASection",
    "createElement",
    "schemaElement",
    "getSchemaElementForElementName",
    "initChildren",
    "requiredChildren",
    "getRequiredElements",
    "schema",
    "Element",
    "sortChildNodes",
    "childName",
    "child",
    "appendChild",
    "isTextContentRequired",
    "xmlElement",
    "XmlElement",
    "getEditor",
    "res",
    "isShowEditButton",
    "setSelection",
    "__P_35_8",
    "targetName",
    "depth",
    "currentPosition",
    "split",
    "test",
    "parseInt",
    "min",
    "__checkProvider",
    "__P_35_9",
    "_this8",
    "provider",
    "Provider",
    "getLive",
    "userInputAllowed",
    "includes",
    "endsWith",
    "isArray",
    "unshift",
    "__getAttributeFormDefinition",
    "__P_35_10",
    "attribute",
    "docs",
    "getDocumentation",
    "def",
    "join",
    "enabled",
    "getDefaultValue",
    "isOptional",
    "validator",
    "ListItem",
    "getValue",
    "isValueValid",
    "ValidationError",
    "getTypeString",
    "enums",
    "getEnumeration",
    "isNew",
    "_this9",
    "title",
    "caption",
    "getShowEditButton",
    "typeElement",
    "nodeType",
    "Node",
    "ELEMENT_NODE",
    "allowed",
    "getAllowedAttributes",
    "getExpert",
    "appInfo",
    "getAppinfo",
    "parser",
    "DOMParser",
    "attrName",
    "nodeName",
    "lines",
    "autoSize",
    "innerHTML",
    "dom",
    "parseFromString",
    "getElementsByTagName",
    "TEXT_NODE",
    "COMMENT_NODE",
    "CDATA_SECTION_NODE",
    "getTextContent",
    "isTextNode",
    "convertToCData",
    "convertTextNodeType",
    "newNodeName",
    "Source",
    "language",
    "formDialog",
    "maxWidth",
    "setAttributes",
    "validate",
    "destroy",
    "remove",
    "execCommand",
    "setClipboard",
    "copy",
    "clipboardElement",
    "getClipboard",
    "resetClipboard",
    "updateModified",
    "previewIndex",
    "$$removed",
    "splice",
    "isModified",
    "setModified",
    "_onContentChanged",
    "_createChildControl",
    "addSeparator",
    "addSpacer",
    "_applySelected",
    "_updateHighlightWidget",
    "node",
    "openPage",
    "parentNode",
    "setHighlightWidget",
    "getWidgetPath",
    "isVisible",
    "_applyContent",
    "_this10",
    "open",
    "initialValidation",
    "modified",
    "validateXmlConfig",
    "getPath",
    "__loadContent",
    "Main",
    "closeFile",
    "Bus",
    "dispatchByName",
    "getFullPath",
    "handler",
    "jumpToError",
    "hide",
    "resetModel",
    "__P_35_6",
    "setTemporary",
    "__P_35_11",
    "errors",
    "_this11",
    "_callee2",
    "doc",
    "rootElement",
    "_callee2$",
    "_context2",
    "xml",
    "Document",
    "fromString",
    "documentElement",
    "getAttributeNS",
    "getElementNode",
    "getStructure",
    "setEditable",
    "getWriteable",
    "setModel",
    "setContentPaddingBottom",
    "parts",
    "substr",
    "part",
    "shift",
    "match",
    "exec",
    "toString",
    "setValid",
    "content",
    "getCurrentContent",
    "contentChanged",
    "isAutoRefreshPreview",
    "_this12",
    "_client",
    "createSync",
    "getBusTopic",
    "source",
    "resetTemporary",
    "updateSync",
    "fast",
    "XMLSerializer",
    "serializeToString",
    "Prettifier",
    "_onSaved",
    "onSaved",
    "focusedWidget",
    "FocusHandler",
    "getFocusedWidget",
    "dialogConf",
    "modal",
    "image",
    "maxHeight",
    "getHeight",
    "BigAlert",
    "destruct",
    "_disposeArray",
    "removeListener"
  ],
  "sources": [
    "/home/runner/work/CometVisu/CometVisu/source/class/cv/ui/manager/editor/Tree.js"
  ],
  "sourcesContent": [
    "/* Tree.js\n *\n * copyright (c) 2010-2022, Christian Mayer and the CometVisu contributers.\n *\n * This program is free software; you can redistribute it and/or modify it\n * under the terms of the GNU General Public License as published by the Free\n * Software Foundation; either version 3 of the License, or (at your option)\n * any later version.\n *\n * This program is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for\n * more details.\n *\n * You should have received a copy of the GNU General Public License along\n * with this program; if not, write to the Free Software Foundation, Inc.,\n * 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA\n */\n\n/**\n * New XML-Editor base on a node tree\n */\nqx.Class.define('cv.ui.manager.editor.Tree', {\n  extend: cv.ui.manager.editor.AbstractEditor,\n\n  /*\n  ***********************************************\n    CONSTRUCTOR\n  ***********************************************\n  */\n  construct() {\n    super();\n    this._setLayout(new qx.ui.layout.Grow());\n    this._handledActions = ['save', 'cut', 'copy', 'paste', 'undo', 'redo', 'help'];\n\n    this._initWorker();\n\n    // init schema\n    this._schemas = {};\n    this.__modifiedElements = [];\n    this.__modifiedPreviewElements = new qx.data.Array();\n    this.__modifiedPreviewElements.addListener('changeLength', ev => {\n      if (ev.getData() === 0) {\n        this.setPreviewState('synced');\n      } else {\n        const structureChanges = this.__modifiedPreviewElements.some(element => element.hasChildrenModified());\n\n        this.setPreviewState(structureChanges ? 'structureChanged' : 'changed');\n      }\n    });\n    this.initUnDos(new qx.data.Array());\n    this.initReDos(new qx.data.Array());\n    this.__buttonListeners = {};\n    qx.core.Init.getApplication().getRoot().addListener('keyup', this._onElementKeyUp, this);\n    this.addListener('resize', this._maintainPreviewVisibility, this);\n    this._draw();\n  },\n\n  /*\n  ***********************************************\n    STATICS\n  ***********************************************\n  */\n  statics: {\n    SUPPORTED_FILES: /^(demo|\\.)?\\/?visu_config.*\\.xml/,\n    TITLE: qx.locale.Manager.tr('Xml-editor'),\n    ICON: cv.theme.dark.Images.getIcon('xml', 18),\n\n    Allowed: {\n      NONE: 0,\n      BEFORE: 1,\n      AFTER: 2,\n      INSIDE: 4,\n      FIRST_CHILD: 8 // Is allowed to added as first child\n    }\n  },\n\n  /*\n  ***********************************************\n    PROPERTIES\n  ***********************************************\n  */\n  properties: {\n    appearance: {\n      refine: true,\n      init: 'tree-editor'\n    },\n\n    // show expert level settings\n    expert: {\n      check: 'Boolean',\n      init: false\n    },\n\n    ready: {\n      refine: true,\n      init: false\n    },\n\n    selected: {\n      check: 'cv.ui.manager.model.XmlElement',\n      nullable: true,\n      event: 'changeSelected',\n      apply: '_applySelected'\n    },\n\n    clipboard: {\n      check: 'cv.ui.manager.model.XmlElement',\n      nullable: true,\n      event: 'changeClipboard',\n      apply: '_applyClipboard'\n    },\n\n    unDos: {\n      check: 'qx.data.Array',\n      deferredInit: true\n    },\n\n    reDos: {\n      check: 'qx.data.Array',\n      deferredInit: true\n    },\n\n    autoRefreshPreview: {\n      check: 'Boolean',\n      init: false\n    },\n\n    /**\n     * Content and shown preview are equal\n     */\n    previewState: {\n      check: ['synced', 'changed', 'structureChanged'],\n      init: 'synced',\n      event: 'previewStateChanged',\n      apply: '_updateHighlightWidget'\n    },\n\n    showPreview: {\n      check: 'Boolean',\n      init: true,\n      apply: '_applyShowPreview',\n      event: 'showPreviewChanged'\n    },\n\n    /**\n     * true while the user is dragging something\n     */\n    dragging: {\n      check: 'Boolean',\n      init: false,\n      event: 'changeDragging'\n    }\n  },\n\n  /*\n  ***********************************************\n    MEMBERS\n  ***********************************************\n  */\n  members: {\n    _schemas: null,\n    __modifiedElements: null,\n    __modifiedPreviewElements: null,\n    _workerWrapper: null,\n    __editing: false,\n    __buttonListeners: null,\n    __searchResults: null,\n    __searchResultIndex: 0,\n    _structure: null,\n\n    async getSchema(file) {\n      if (file.startsWith('../')) {\n        file = file.substring(3);\n      }\n      if (!Object.prototype.hasOwnProperty.call(this, file)) {\n        this._schemas[file] = await cv.ui.manager.model.Schema.getInstance(file);\n      }\n      return new Promise((resolve, reject) => {\n        this._schemas[file].onLoaded(function () {\n          this.setReady(true);\n          resolve(this._schemas[file]);\n        }, this);\n      });\n    },\n\n    isPreviewSynced() {\n      return this.getPreviewState() === 'synced';\n    },\n\n    _applyHandlerOptions() {\n      this._maintainPreviewVisibility();\n    },\n\n    _maintainPreviewVisibility() {\n      const handlerOptions = this.getHandlerOptions();\n      let enablePreview = qx.bom.Viewport.getWidth() > 800 && (!handlerOptions || !handlerOptions.noPreview);\n      if (enablePreview) {\n        const previewFile = this.__getPreviewFile();\n        if (!previewFile.isTemporary() && !previewFile.isWriteable()) {\n          // preview file already exists, but it is not writable\n          enablePreview = false;\n        } else if (previewFile.isTemporary() && !cv.ui.manager.model.FileItem.ROOT.isWriteable()) {\n          // parent folder is not writable and preview file does not exist\n          enablePreview = false;\n        }\n      }\n      this.setShowPreview(enablePreview);\n    },\n\n    _applyShowPreview(value) {\n      this.getChildControl('right').setVisibility(value ? 'visible' : 'excluded');\n\n      if (value) {\n        this.getChildControl('left').clearLayoutProperties();\n        this.getChildControl('left').updateLayoutProperties();\n      } else {\n        const handlerOptions = this.getHandlerOptions();\n        if (!handlerOptions || !handlerOptions.noStretch) {\n          this.getChildControl('left').setLayoutProperties({ flex: 1 });\n        }\n      }\n      const file = this.getFile();\n      if (value && file) {\n        const preview = this.getChildControl('preview');\n        if (file.isWriteable()) {\n          if (!preview.getFile()) {\n            preview.setFile(this.__getPreviewFile());\n          }\n        } else {\n          // this file is not writable, we can use the real one for preview\n          preview.setFile(file);\n        }\n        this._updatePreview();\n      }\n    },\n\n    handleAction(actionName) {\n      if (this.canHandleAction(actionName)) {\n        switch (actionName) {\n          case 'undo':\n            if (!this.__editing) {\n              this.undo();\n            }\n            break;\n\n          case 'redo':\n            if (!this.__editing) {\n              this.redo();\n            }\n            break;\n\n          case 'cut':\n            this._onCut();\n            break;\n\n          case 'copy':\n            this._onCopy();\n            break;\n\n          case 'paste':\n            this._onPaste();\n            break;\n\n          case 'help':\n            if (!this.__editing) {\n              this._showHelp();\n            }\n            break;\n\n          default:\n            super.handleAction(actionName);\n            break;\n        }\n      }\n    },\n\n    configureButton(actionId, button) {\n      switch (actionId) {\n        case 'undo':\n          this.__buttonListeners[actionId] = this.getUnDos().addListener('changeLength', () => {\n            const length = this.getUnDos().length;\n            if (length > 0) {\n              button.setEnabled(true);\n              button.setToolTipText(\n                this.tr(\n                  'Undo: %1',\n                  this.getUnDos()\n                    .getItem(length - 1)\n                    .getTitle()\n                )\n              );\n            } else {\n              button.setEnabled(false);\n              button.resetToolTipText();\n            }\n          });\n\n          button.setEnabled(this.getUnDos().length > 0);\n          break;\n\n        case 'redo':\n          this.__buttonListeners[actionId] = this.getReDos().addListener('changeLength', () => {\n            const length = this.getReDos().length;\n            if (length > 0) {\n              button.setEnabled(true);\n              button.setToolTipText(\n                this.tr(\n                  'Undo: %1',\n                  this.getReDos()\n                    .getItem(length - 1)\n                    .getTitle()\n                )\n              );\n            } else {\n              button.setEnabled(false);\n              button.resetToolTipText();\n            }\n          });\n\n          button.setEnabled(this.getReDos().length > 0);\n          break;\n\n        case 'cut':\n          this.bind('selected', button, 'enabled', {\n            converter(value) {\n              return value ? !value.isDeletable() : false;\n            }\n          });\n\n          break;\n\n        case 'copy':\n          this.bind('selected', button, 'enabled', {\n            converter(value) {\n              return !!value;\n            }\n          });\n\n          break;\n\n        case 'paste':\n          this.bind('clipboard', button, 'enabled', {\n            converter(value) {\n              return !!value;\n            }\n          });\n\n          break;\n      }\n    },\n    unConfigureButton(actionId, button) {\n      switch (actionId) {\n        case 'undo':\n          if (this.__buttonListeners[actionId]) {\n            this.getUnDos().removeListenerById(this.__buttonListeners[actionId]);\n\n            delete this.__buttonListeners[actionId];\n          }\n          button.setEnabled(false);\n          break;\n\n        case 'redo':\n          if (this.__buttonListeners[actionId]) {\n            this.getReDos().removeListenerById(this.__buttonListeners[actionId]);\n\n            delete this.__buttonListeners[actionId];\n          }\n          button.setEnabled(false);\n          break;\n\n        case 'paste':\n        case 'cut':\n        case 'copy':\n          this.removeRelatedBindings(button);\n          break;\n      }\n    },\n\n    addUndo(elementChange) {\n      if (elementChange instanceof cv.ui.manager.model.ElementChange) {\n        this.getUnDos().push(elementChange);\n      }\n    },\n\n    undo() {\n      const unDos = this.getUnDos();\n      if (unDos.length > 0) {\n        const elementChange = unDos.pop();\n        if (elementChange.undo()) {\n          this.getReDos().push(elementChange);\n        } else {\n          this.error('could not undo ' + elementChange.getTitle());\n          unDos.push(elementChange);\n        }\n      }\n    },\n\n    redo() {\n      const reDos = this.getReDos();\n      if (reDos.length > 0) {\n        const elementChange = reDos.pop();\n        if (elementChange.redo()) {\n          this.getUnDos().push(elementChange);\n        } else {\n          this.error('could not redo ' + elementChange.getTitle());\n          reDos.push(elementChange);\n        }\n      }\n    },\n\n    clearUnDosReDos() {\n      this.getUnDos()\n        .removeAll()\n        .forEach(elem => elem.dispose());\n      this.clearReDos();\n    },\n\n    clearReDos() {\n      this.getReDos()\n        .removeAll()\n        .forEach(elem => elem.dispose());\n    },\n\n    _applyClipboard(value) {\n      try {\n        if (value) {\n          navigator.clipboard.writeText(value.getNode().outerHTML);\n        } else {\n          navigator.clipboard.writeText('');\n        }\n      } catch (e) {\n        // clipboard api is only available in secure environment, otherwise we have to do it ourself\n        cv.ui.manager.editor.AbstractEditor.CLIPBOARD = value ? value.getNode().outerHTML : '';\n      }\n    },\n\n    _initWorker() {\n      this._workerWrapper = cv.ui.manager.editor.Worker.getInstance();\n    },\n\n    showErrors(path, errorList) {},\n    showDecorations(path, decorators) {},\n\n    _loadFile(file, old) {\n      if (old && this._workerWrapper) {\n        this._workerWrapper.close(old);\n      }\n      if (file && file.getType() === 'file' && this.isSupported(file)) {\n        super._loadFile(file, old);\n      } else {\n        super._loadFile(null, old);\n        if (this.hasChildControl('preview')) {\n          this.getChildControl('preview').resetFile();\n        }\n        this.resetPreviewState();\n      }\n    },\n\n    // overridden\n    _createChildControlImpl(id, hash) {\n      let control;\n\n      switch (id) {\n        case 'splitpane':\n          control = new qx.ui.container.Composite(new qx.ui.layout.HBox());\n          this._add(control);\n          break;\n\n        case 'left':\n          control = new qx.ui.container.Composite(new qx.ui.layout.Canvas());\n          this.getChildControl('splitpane').addAt(control, 0);\n          break;\n\n        case 'right':\n          control = new qx.ui.container.Composite(new qx.ui.layout.VBox());\n          if (!this.isShowPreview()) {\n            control.exclude();\n          }\n          this.getChildControl('splitpane').addAt(control, 1, { flex: 1 });\n          break;\n\n        case 'preview':\n          control = new cv.ui.manager.viewer.Config();\n          control.set({\n            target: 'iframe',\n            minWidth: 600\n          });\n\n          this.getChildControl('right').addAt(control, 1, { flex: 1 });\n          break;\n\n        case 'preview-sync-hint': {\n          const ok = this.tr('Preview shows the current state of the edited configuration.');\n\n          const noSync = this.tr('Preview is out of sync. Click here to refresh.');\n\n          const notOk = this.tr(\n            'Preview is out of sync. Highlighting of the currently selected tree element is deactivated until you refresh the preview. Click here to refresh.'\n          );\n\n          control = new qx.ui.basic.Atom(ok, cv.theme.dark.Images.getIcon('valid', 16));\n\n          control.setRich(true);\n          control.getChildControl('label').setWrap(true);\n          control.addListener('tap', () => {\n            if (!this.isPreviewSynced() && this.isShowPreview()) {\n              this._updatePreview();\n            }\n          });\n          this.getChildControl('right').addAt(control, 0);\n          this.addListener('previewStateChanged', ev => {\n            switch (ev.getData()) {\n              case 'synced':\n                control.set({\n                  label: ok,\n                  icon: cv.theme.dark.Images.getIcon('valid', 16)\n                });\n\n                control.getChildControl('icon').removeState('error');\n                control.getChildControl('icon').removeState('warning');\n                break;\n\n              case 'changed':\n                control.set({\n                  label: noSync,\n                  icon: cv.theme.dark.Images.getIcon('out-of-sync', 16)\n                });\n\n                control.getChildControl('icon').removeState('error');\n                control.getChildControl('icon').addState('warning');\n                break;\n\n              case 'structureChanged':\n                control.set({\n                  label: notOk,\n                  icon: cv.theme.dark.Images.getIcon('out-of-sync', 16)\n                });\n\n                control.getChildControl('icon').addState('error');\n                control.getChildControl('icon').removeState('warning');\n                break;\n            }\n          });\n          break;\n        }\n\n        case 'edit-button':\n          control = new qx.ui.toolbar.Button(null, cv.theme.dark.Images.getIcon('edit', 24));\n\n          control.setEnabled(false);\n          control.addListener('execute', this._onEdit, this);\n          this.bind('file.writeable', control, 'icon', {\n            converter(value) {\n              return value ? cv.theme.dark.Images.getIcon('edit', 16) : cv.theme.dark.Images.getIcon('view', 16);\n            }\n          });\n\n          this.getChildControl('toolbar').add(control);\n          break;\n\n        case 'delete-button':\n          control = new qx.ui.toolbar.Button(null, cv.theme.dark.Images.getIcon('delete', 16));\n\n          control.setEnabled(false);\n          control.addListener('execute', this._onDelete, this);\n          this.getChildControl('toolbar').add(control);\n          break;\n\n        case 'toggle-expert':\n          control = new qx.ui.toolbar.CheckBox(this.tr('Expertview'), cv.theme.dark.Images.getIcon('expert', 16));\n\n          control.addListener('execute', () => {\n            this.toggleExpert();\n          });\n          this.getChildControl('toolbar').add(control);\n          break;\n\n        case 'refresh-preview':\n          control = new qx.ui.toolbar.Button(null, cv.theme.dark.Images.getIcon('reload', 16));\n\n          control.setToolTipText(this.tr('Reload preview'));\n          control.addListener('execute', this._updatePreview, this);\n          this.bind('showPreview', control, 'visibility', {\n            converter(value) {\n              return value ? 'visible' : 'hidden';\n            }\n          });\n\n          this.bind('previewState', control, 'enabled', {\n            converter(value) {\n              return value !== 'synced';\n            }\n          });\n\n          this.getChildControl('toolbar').add(control);\n          break;\n\n        case 'toolbar':\n          control = new qx.ui.toolbar.ToolBar();\n          this.getChildControl('left').add(control, {\n            top: 0,\n            left: 0,\n            right: 0\n          });\n\n          break;\n\n        case 'searchbar-container':\n          control = new qx.ui.container.Composite(new qx.ui.layout.HBox());\n          this.getChildControl('left').add(control, {\n            top: 36,\n            left: 0,\n            right: 0\n          });\n\n          break;\n\n        case 'searchbar':\n          control = new qx.ui.form.TextField();\n          control.set({\n            liveUpdate: true,\n            placeholder: this.tr('Search...'),\n            margin: 8\n          });\n\n          control.addListener('changeValue', qx.util.Function.debounce(this._onSearch, 250), this);\n\n          control.addListener('keyup', ev => {\n            switch (ev.getKeyIdentifier()) {\n              case 'Enter':\n              case 'Down':\n                this._showNextResult();\n                break;\n              case 'Up':\n                this._showPreviousResult();\n                break;\n            }\n\n            ev.stopPropagation();\n          });\n          this.getChildControl('searchbar-container').add(control, { flex: 1 });\n          break;\n\n        case 'tree':\n          control = new qx.ui.tree.VirtualTree(null, 'displayName', 'children');\n          control.set({\n            selectionMode: 'single',\n            width: 350,\n            openMode: 'none',\n            itemHeight: qx.core.Environment.get('device.touch') ? 40 : 20\n          });\n\n          this.bind('file.writeable', control, 'droppable');\n          this.bind('file.writeable', control, 'draggable');\n          this._initDragDrop(control);\n          control.setDelegate({\n            createItem: function () {\n              const item = new cv.ui.manager.tree.VirtualElementItem();\n              if (!qx.core.Environment.get('device.touch')) {\n                item.addListener('contextmenu', this._onContextMenu, this);\n              } else {\n                item.addListener('action', this._onContextMenuAction, this);\n              }\n              item.addListener('dbltap', this._onEdit, this);\n              return item;\n            }.bind(this),\n\n            // Bind properties from the item to the tree-widget and vice versa\n            bindItem(controller, item, index) {\n              controller.bindProperty('', 'model', null, item, index);\n              controller.bindProperty('displayName', 'label', null, item, index);\n\n              controller.bindProperty('name', 'name', null, item, index);\n              controller.bindPropertyReverse('open', 'open', null, item, index);\n              controller.bindProperty('open', 'open', null, item, index);\n              controller.bindProperty('showEditButton', 'editable', null, item, index);\n\n              controller.bindProperty('sortable', 'sortable', null, item, index);\n\n              controller.bindProperty('icon', 'icon', null, item, index);\n              controller.bindProperty('status', 'status', null, item, index);\n              controller.bindProperty('invalidMessage', 'toolTipText', null, item, index);\n\n              controller.bindProperty('dragging', 'dragging', null, item, index);\n            }\n          });\n\n          control.getSelection().addListener('change', this._onChangeTreeSelection, this);\n          this.getChildControl('left').add(control, {\n            top: 72,\n            left: 0,\n            right: 0,\n            bottom: 0\n          });\n\n          break;\n\n        case 'add-button':\n          control = new qx.ui.basic.Atom(null, cv.theme.dark.Images.getIcon('add', 32));\n\n          control.setDraggable(true);\n          control.setMarginLeft(-16);\n          control.setZIndex(20);\n          this.addListener('changeDragging', ev => {\n            control.setLayoutProperties({\n              bottom: 16,\n              left: ev.getData() ? -1000 : '50%'\n            });\n          });\n          control.setAppearance('round-button');\n          control.addListener('pointerover', () => control.addState('hovered'));\n          control.addListener('pointerout', () => control.removeState('hovered'));\n\n          control.addListener('tap', () => {\n            if (this.getSelected()) {\n              this._onCreate(this.getSelected(), 'inside');\n            } else {\n              qxl.dialog.Dialog.alert(\n                this.tr(\n                  'Please create a new Element either by dragging this button to the place where the new element should be inserted or by selecting an element and pressing this button to insert a new child to this element.'\n                )\n              );\n            }\n          });\n          this.getChildControl('left').add(control, {\n            bottom: 16,\n            left: '50%'\n          });\n\n          break;\n\n        case 'drag-indicator':\n          // Create drag indicator\n          control = new qx.ui.core.Widget();\n          control.setDecorator(\n            new qx.ui.decoration.Decorator().set({\n              widthTop: 1,\n              styleTop: 'solid',\n              colorTop: 'white'\n            })\n          );\n\n          control.setHeight(0);\n          control.setOpacity(0.5);\n          control.setZIndex(100);\n          control.setDroppable(true);\n          control.setLayoutProperties({ left: -1000, top: -1000 });\n          qx.core.Init.getApplication().getRoot().add(control);\n          break;\n\n        case 'context-menu':\n          control = new cv.ui.manager.contextmenu.ConfigElement(this);\n          control.addListener('action', this._onContextMenuAction, this);\n          break;\n      }\n\n      return control || super._createChildControlImpl(id);\n    },\n\n    _onContextMenu(ev) {\n      const target = ev.getCurrentTarget();\n      if (target instanceof cv.ui.manager.tree.VirtualElementItem) {\n        const element = target.getModel();\n        this.getChildControl('tree').getSelection().replace([element]);\n        this.setSelected(element);\n        const menu = this.getChildControl('context-menu');\n        menu.setElement(element);\n        menu.openAtPointer(ev);\n      }\n\n      // Do not show native menu\n      // don't open any other contextmenus\n      if (ev.getBubbles()) {\n        ev.stop();\n      }\n    },\n\n    _onContextMenuAction(ev) {\n      const data = ev.getData();\n      if (this.canHandleAction(data.action)) {\n        this.handleAction(data.action);\n      } else {\n        switch (data.action) {\n          case 'view':\n          case 'edit':\n            this._onEdit(null, data.element);\n            break;\n\n          case 'delete':\n            this._onDelete(null, data.element);\n            break;\n\n          case 'create':\n            // add a new child\n            this._onCreate(data.element, 'inside');\n            break;\n\n          default:\n            this.error('unhandled context menu action', data.action);\n            break;\n        }\n      }\n    },\n\n    _onChangeTreeSelection(ev) {\n      const data = ev.getData();\n      if (data.added.length === 1) {\n        this.setSelected(data.added[0]);\n      } else {\n        this.resetSelected();\n      }\n    },\n\n    openByQuerySelector(selector, edit) {\n      return new Promise((resolve, reject) => {\n        const tree = this.getChildControl('tree');\n        const rootNode = tree.getModel().getNode();\n        const result = rootNode.querySelector(selector);\n        if (result) {\n          this.__searchResults = [result];\n          this.__searchResultIndex = 0;\n          this.__showSearchResult();\n          if (edit) {\n            this._onEdit();\n          }\n          resolve(true);\n        } else {\n          resolve(false);\n        }\n      });\n    },\n\n    _onSearch(ev) {\n      const value = ev.getData();\n      this.__searchResults = [];\n      this.__searchResultIndex = 0;\n      if (value.length > 2) {\n        const tree = this.getChildControl('tree');\n        const rootNode = tree.getModel().getNode();\n        this.__searchResults = Array.from(rootNode.querySelectorAll('*')).filter(function (el) {\n          return el.tagName.startsWith(value) || (el.hasAttribute('name') && el.getAttribute('name').startsWith(value));\n        });\n        this.__showSearchResult();\n      }\n    },\n\n    _showNextResult() {\n      if (this.__searchResults && this.__searchResults.length > this.__searchResultIndex + 1) {\n        this.__searchResultIndex++;\n        this.__showSearchResult();\n      }\n    },\n\n    _showPreviousResult() {\n      if (this.__searchResults && this.__searchResultIndex > 0) {\n        this.__searchResultIndex--;\n        this.__showSearchResult();\n      }\n    },\n\n    __showSearchResult() {\n      if (this.__searchResults.length > this.__searchResultIndex) {\n        // find and open the first result and save the rest for traversal (with keyboard arrows\n        const firstMatch = this.__searchResults[this.__searchResultIndex];\n        const tree = this.getChildControl('tree');\n        if (firstMatch.$$widget) {\n          tree.openNodeAndParents(firstMatch.$$widget);\n          tree.getSelection().replace([firstMatch.$$widget]);\n        } else {\n          let current = firstMatch;\n          const ancestors = [];\n          // lookup the path until we find the first one with a widget\n          while (current && !current.$$widget) {\n            current = current.parentElement;\n            if (current) {\n              ancestors.push(current);\n            }\n          }\n          if (current && current.$$widget) {\n            current.$$widget.load();\n            // now git down the path of found ancestors and load them all\n            for (let i = ancestors.length - 1; i >= 0; i--) {\n              const p = ancestors[i].$$widget;\n              if (p) {\n                p.load();\n              }\n            }\n            if (firstMatch.$$widget) {\n              tree.openNodeAndParents(firstMatch.$$widget);\n              tree.getSelection().replace([firstMatch.$$widget]);\n            }\n          }\n        }\n      }\n    },\n\n    _initDragDrop(control) {\n      let draggedXmlElement;\n      control.addListener('dragstart', ev => {\n        const dragTarget = ev.getDragTarget();\n        let element;\n        if (dragTarget instanceof cv.ui.manager.tree.VirtualElementItem) {\n          element = dragTarget.getModel();\n          element.setDragging(true);\n          if (!element.isEditable() || !element.isDeletable()) {\n            ev.preventDefault();\n            ev.stopPropagation();\n            return;\n          }\n          ev.addAction('copy');\n          if (element.isDeletable()) {\n            ev.addAction('move');\n          }\n          ev.addType('cv/tree-element');\n          ev.addData('cv/tree-element', element);\n          draggedXmlElement = element;\n        }\n        this.setDragging(true);\n      });\n\n      const addButton = this.getChildControl('add-button');\n      addButton.addListener('dragstart', ev => {\n        ev.addAction('copy');\n        ev.addType('cv/new-tree-element');\n        this.setDragging(true);\n      });\n\n      const Allowed = cv.ui.manager.editor.Tree.Allowed;\n      const accepted = {\n        mode: 0,\n        target: null\n      };\n\n      control.addListener('dragover', ev => {\n        // add ist a custom action that cannot be detected, so we only check if its supported\n        let action = ev.getCurrentAction();\n        let element;\n        if (ev.supportsType('cv/tree-element')) {\n          element = ev.getData('cv/tree-element');\n        }\n        const addNew = action === 'copy' && !element && ev.supportsType('cv/new-tree-element');\n        let target = ev.getTarget();\n        if (target === indicator) {\n          // no change when we are dragging over the indicator\n          this.debug('dragging over indicator');\n          return;\n        }\n        if (action !== 'copy' && target && target instanceof cv.ui.manager.tree.VirtualElementItem) {\n          if (target.getModel() === element) {\n            // cannot drop on myself\n            this.debug('dropping on same element forbidden');\n            accepted.mode = Allowed.NONE;\n            ev.preventDefault();\n            return;\n          } else if (element && element.isAncestor(target.getModel())) {\n            // cannot move into myself\n            this.debug('moving inside own subtree forbidden');\n            accepted.mode = Allowed.NONE;\n            ev.preventDefault();\n            return;\n          }\n        }\n        if (target === control) {\n          const layerContent = control.getPane().getLayers()[0].getContentLocation();\n          if (layerContent && ev.getDocumentTop() - layerContent.bottom <= 20) {\n            // when we are not more than 10px away from the last tree element we use that one, otherwise dropping is forbidden\n            const lastElem = document.elementFromPoint(\n              Math.round((layerContent.left + layerContent.right) / 2),\n              layerContent.bottom - 20\n            );\n\n            target = qx.ui.core.Widget.getWidgetByElement(lastElem);\n            if (target) {\n              while (target.isAnonymous()) {\n                target = target.getLayoutParent();\n              }\n            }\n          } else {\n            target = null;\n          }\n          if (!target || target === control) {\n            accepted.mode = Allowed.NONE;\n            ev.preventDefault();\n            this.debug('drop target not found');\n            return;\n          }\n        }\n        if (!addNew && !element) {\n          // not for us\n          this.debug('drop not allowed here, no drag element');\n          accepted.mode = Allowed.NONE;\n          ev.preventDefault();\n          return;\n        }\n        const model = target.getModel();\n        const parent = model.getParent();\n        accepted.target = model;\n\n        if (parent) {\n          const parentSchemaElement = parent.getSchemaElement();\n          if (addNew) {\n            const allowedElements = parentSchemaElement.getAllowedElements();\n            if (Object.keys(allowedElements).length > 0) {\n              // check if there could be added more children\n              const addable = parent.getAddableChildren();\n              if (addable.length > 0) {\n                // check if a child could be added at this position\n                if (parentSchemaElement.areChildrenSortable()) {\n                  // children can be put anywhere\n                  // so this is allowed anywhere\n                  accepted.mode = Allowed.BEFORE | Allowed.AFTER;\n                } else {\n                  let acc = Allowed.NONE;\n                  const allowedSorting = parentSchemaElement.getAllowedElementsSorting();\n                  addable.some(elementName => {\n                    acc |= this.__getAllowedPositions(allowedSorting, elementName, model.getName());\n\n                    if (acc & Allowed.BEFORE && acc & Allowed.AFTER) {\n                      // we cannot find more\n                      return true;\n                    }\n                    return false;\n                  });\n                  accepted.mode = acc;\n                }\n              }\n            } else {\n              ev.preventDefault();\n              // not children allowed here\n              accepted.mode = Allowed.NONE;\n              this.debug('no children allowed here');\n            }\n          } else if (!parentSchemaElement.isChildElementAllowed(element.getName())) {\n            // not allowed on this level\n            accepted.mode = Allowed.NONE;\n            this.debug('not allowed as child element of', parent.getName());\n          } else if (parentSchemaElement.areChildrenSortable()) {\n            // children can be put anywhere\n            // so this is allowed anywhere\n            accepted.mode = Allowed.BEFORE | Allowed.AFTER;\n          } else {\n            // check position\n            accepted.mode = this.__getAllowedPositions(\n              parentSchemaElement.getAllowedElementsSorting(),\n              element.getName(),\n              model.getName()\n            );\n          }\n        } else {\n          accepted.mode = Allowed.NONE;\n        }\n        let lookInside;\n        if (addNew) {\n          lookInside = Object.keys(model.getSchemaElement().getAllowedElements(true)).length > 0;\n        } else {\n          lookInside = model.getSchemaElement().isChildElementAllowed(element.getName());\n        }\n        if (lookInside) {\n          // allowed inside\n          accepted.mode |= Allowed.INSIDE;\n          if (model.getSchemaElement().areChildrenSortable()) {\n            accepted.mode |= Allowed.FIRST_CHILD;\n          } else {\n            const allowedSorting = model.getSchemaElement().getFirstLevelElementSorting();\n            if (allowedSorting) {\n              if (element) {\n                let targetPosition = allowedSorting[element.getName()];\n                if (targetPosition !== undefined) {\n                  if (targetPosition === 0 || model.getChildren().length === 0) {\n                    accepted.mode |= Allowed.FIRST_CHILD;\n                  } else {\n                    // check if we can add it before the current first child\n                    const firstChild = model.getChildren().getItem(0);\n                    const maxPosition = allowedSorting[firstChild.getName()];\n                    if (maxPosition >= targetPosition) {\n                      accepted.mode |= Allowed.FIRST_CHILD;\n                    }\n                  }\n                }\n              } else if (model.getChildren().length > 0) {\n                const firstChild = model.getChildren().getItem(0);\n                let firstChildPosition = allowedSorting[firstChild.getName()];\n                if (firstChildPosition !== undefined && firstChildPosition > 0) {\n                  // first child is not on position 0\n                  accepted.mode |= Allowed.FIRST_CHILD;\n                }\n              } else if (Object.keys(allowedSorting).length > 0) {\n                // target is empty, but children are allowed\n                accepted.mode |= Allowed.FIRST_CHILD;\n              }\n            }\n          }\n        }\n        if (accepted.mode === Allowed.NONE) {\n          ev.preventDefault();\n          this.debug('dropping not accepted here');\n        }\n      });\n\n      const indicator = this.getChildControl('drag-indicator');\n\n      let expandTimer;\n\n      control.addListener('dragleave', ev => {\n        if (expandTimer) {\n          expandTimer.stop();\n          expandTimer = null;\n        }\n      });\n\n      let lastTreeItem;\n      const treeContainer = control.getPane();\n\n      const onDrag = function (ev) {\n        let left = -1000;\n        let top = -1000;\n        let position = '';\n        let cursor = ev.getManager().getCursor();\n        if (!cursor) {\n          cursor = qx.ui.core.DragDropCursor.getInstance();\n        }\n        if (ev._native.pointerType === 'touch') {\n          if (!cursor.hasState('touch')) {\n            cursor.addState('touch');\n          }\n        }\n\n        if (accepted.mode !== Allowed.NONE) {\n          const origElem = document.elementFromPoint(ev.getDocumentLeft(), ev.getDocumentTop());\n\n          let orig = qx.ui.core.Widget.getWidgetByElement(origElem);\n          let skipDetection = false;\n          if (!orig) {\n            return;\n          }\n          while (orig.isAnonymous()) {\n            orig = orig.getLayoutParent();\n          }\n\n          const origCoords = orig.getContentLocation();\n          let leftPos = origCoords.left;\n          if (orig instanceof cv.ui.manager.tree.VirtualElementItem) {\n            const spacer = orig._getChildren()[0];\n            leftPos = spacer.getWidth() + orig.getPaddingLeft();\n            indicator.setWidth(orig.getBounds().width - leftPos);\n            if (accepted.target && orig.getModel() !== accepted.target) {\n              skipDetection = true;\n            }\n            lastTreeItem = orig;\n          } else if (orig !== indicator) {\n            if (orig === treeContainer) {\n              const lastCoords = lastTreeItem.getContentLocation();\n              const distance = ev.getDocumentTop() - lastCoords.bottom;\n              if (distance <= 20 && accepted.mode & Allowed.AFTER) {\n                const spacer = lastTreeItem._getChildren()[0];\n                left = spacer.getWidth() + lastTreeItem.getPaddingLeft();\n                top = lastCoords.bottom;\n                position = 'after';\n              }\n              skipDetection = true;\n            } else {\n              skipDetection = true;\n            }\n          } else {\n            // on drag indicator, do nothing here\n            return;\n          }\n          if (!skipDetection) {\n            if (ev.getDocumentTop() - origCoords.top <= 5) {\n              // above\n              if (expandTimer) {\n                expandTimer.stop();\n                expandTimer = null;\n              }\n              // check if this item is allowed here\n              if (accepted.mode & Allowed.BEFORE) {\n                left = leftPos;\n                top = origCoords.top;\n                position = 'before';\n              } else if (accepted.mode & Allowed.INSIDE) {\n                left = -1000;\n                top = -1000;\n                position = 'inside';\n              }\n            } else if (origCoords.bottom - ev.getDocumentTop() <= 5) {\n              // below\n              if (accepted.target && !accepted.target.isOpen()) {\n                if (accepted.mode & Allowed.AFTER) {\n                  left = leftPos;\n                  top = origCoords.bottom;\n                  position = 'after';\n                } else if (accepted.mode & Allowed.INSIDE) {\n                  left = -1000;\n                  top = -1000;\n                  position = 'inside';\n                }\n              } else {\n                // when an element is opened this position is not after this element. but before its first child\n                // eslint-disable-next-line no-lonely-if\n                if (accepted.mode & Allowed.FIRST_CHILD) {\n                  left = leftPos + 19;\n                  indicator.setWidth(indicator.getWidth() - 19);\n                  top = origCoords.bottom;\n                  position = 'first-child';\n                } else {\n                  this.debug('not allowed as first child');\n                }\n              }\n              if (expandTimer) {\n                expandTimer.stop();\n                expandTimer = null;\n              }\n            } else {\n              // inside\n              // eslint-disable-next-line no-lonely-if\n              if (accepted.target && accepted.target.isOpen()) {\n                // treat dropping on an opened node as \"first-child\" position\n                if (accepted.mode & Allowed.FIRST_CHILD) {\n                  if (indicator.getUserData('position') !== 'first-child') {\n                    left = leftPos + 19;\n                    indicator.setWidth(indicator.getWidth() - 19);\n                  }\n                  top = origCoords.bottom;\n                  position = 'first-child';\n                }\n              } else {\n                indicator.setDomPosition(-1000, -1000);\n                if (accepted.mode & Allowed.INSIDE) {\n                  position = 'inside';\n                }\n                if (!expandTimer) {\n                  expandTimer = qx.event.Timer.once(\n                    function () {\n                      if (accepted.target) {\n                        control.openNode(accepted.target);\n                      }\n                    },\n                    this,\n                    1000\n                  );\n                }\n              }\n            }\n          }\n        }\n        indicator.setDomPosition(left, top);\n        indicator.setUserData('position', position);\n        if (!position && cursor.getAction()) {\n          indicator.setUserData('action', ev.getCurrentAction());\n          cursor.resetAction();\n          // eslint-disable-next-line no-console\n          console.assert(left < 0);\n          // eslint-disable-next-line no-console\n          console.assert(top < 0);\n        } else if (position && !cursor.getAction() && cursor.getAction() !== indicator.getUserData('action')) {\n          cursor.setAction(indicator.getUserData('action'));\n          indicator.setUserData('action', null);\n        }\n      };\n      control.addListener('drag', onDrag, this);\n      addButton.addListener('drag', onDrag, this);\n\n      const onDrop = function (ev) {\n        let action = ev.getCurrentAction();\n        let element = ev.supportsType('cv/tree-element') ? ev.getData('cv/tree-element') : null;\n        if (action === 'copy') {\n          if (element) {\n            element = element.clone();\n          } else {\n            action = 'add';\n          }\n        }\n        const elementName = element ? element.getDisplayName() : 'new';\n        const target = accepted.target;\n        if (action === 'move' && element === target) {\n          // cannot move before/after/inside myself\n          return;\n        }\n        switch (indicator.getUserData('position')) {\n          case 'after':\n            if (accepted.mode & Allowed.AFTER) {\n              this.debug(action, elementName, 'after', target.getDisplayName());\n              switch (action) {\n                case 'move':\n                  if (element.moveAfter(target)) {\n                    cv.ui.manager.snackbar.Controller.info(\n                      this.tr('\"%1\" has been moved after \"%2\"', elementName, target.getDisplayName())\n                    );\n                  }\n                  break;\n\n                case 'copy':\n                  if (element.insertAfter(target)) {\n                    cv.ui.manager.snackbar.Controller.info(\n                      this.tr('\"%1\" has been copied after \"%2\"', elementName, target.getDisplayName())\n                    );\n                  }\n                  break;\n\n                case 'add':\n                  this._onCreate(target, indicator.getUserData('position'));\n                  break;\n              }\n            } else {\n              this.debug('NOT ALLOWED', action, elementName, 'after', target.getDisplayName());\n            }\n            break;\n          case 'before':\n            if (accepted.mode & Allowed.BEFORE) {\n              this.debug(action, elementName, 'before', target.getDisplayName());\n\n              switch (action) {\n                case 'move':\n                  if (element.moveBefore(target)) {\n                    cv.ui.manager.snackbar.Controller.info(\n                      this.tr('\"%1\" has been moved before \"%2\"', elementName, target.getDisplayName())\n                    );\n                  }\n                  break;\n\n                case 'copy':\n                  if (element.insertBefore(target)) {\n                    cv.ui.manager.snackbar.Controller.info(\n                      this.tr('\"%1\" has been copied before \"%2\"', elementName, target.getDisplayName())\n                    );\n                  }\n                  break;\n\n                case 'add':\n                  this._onCreate(target, indicator.getUserData('position'));\n                  break;\n              }\n            } else {\n              this.debug('NOT ALLOWED', action, elementName, 'after', target.getDisplayName());\n            }\n            break;\n\n          case 'first-child':\n            if (accepted.mode & Allowed.FIRST_CHILD) {\n              this.debug(action, elementName, 'into', target.getDisplayName(), 'as first child');\n\n              switch (action) {\n                case 'move':\n                  if (element.moveBefore(target.getChildren().getItem(0))) {\n                    cv.ui.manager.snackbar.Controller.info(\n                      this.tr('\"%1\" has been moved into \"%2\" as first child', elementName, target.getDisplayName())\n                    );\n                  }\n                  break;\n\n                case 'copy':\n                  if (element.insertBefore(target.getChildren().getItem(0))) {\n                    cv.ui.manager.snackbar.Controller.info(\n                      this.tr('\"%1\" has been copied into \"%2\" as first child', elementName, target.getDisplayName())\n                    );\n                  }\n                  break;\n\n                case 'add':\n                  this._onCreate(target, indicator.getUserData('position'));\n                  break;\n              }\n            } else {\n              this.debug('NOT ALLOWED', elementName, 'into', target.getDisplayName() + ' as first child');\n            }\n            break;\n\n          case 'inside':\n            if (accepted.mode & Allowed.INSIDE) {\n              this.debug(action, elementName, 'into', target.getDisplayName(), 'as child');\n\n              switch (action) {\n                case 'move':\n                  if (element.moveInside(target)) {\n                    cv.ui.manager.snackbar.Controller.info(\n                      this.tr('\"%1\" has been moved into \"%2\"', elementName, target.getDisplayName())\n                    );\n                  }\n                  break;\n\n                case 'copy':\n                  if (target.insertChild(element, -1, false, 'added')) {\n                    cv.ui.manager.snackbar.Controller.info(\n                      this.tr('\"%1\" has been copied into \"%2\"', elementName, target.getDisplayName())\n                    );\n                  }\n                  break;\n\n                case 'add':\n                  this._onCreate(target, indicator.getUserData('position'));\n                  break;\n              }\n            } else {\n              this.debug('NOT ALLOWED', elementName, 'into', target.getDisplayName(), 'as child');\n            }\n            break;\n        }\n      }.bind(this);\n\n      control.addListener('drop', onDrop, this);\n      indicator.addListener('drop', onDrop, this);\n\n      const onDragEnd = function (ev) {\n        // Move indicator away\n        indicator.setDomPosition(-1000, -1000);\n        indicator.resetUserData();\n        if (expandTimer) {\n          expandTimer.stop();\n          expandTimer = null;\n        }\n        if (draggedXmlElement) {\n          draggedXmlElement.resetDragging();\n          draggedXmlElement = null;\n        }\n        accepted.target = null;\n        accepted.mode = 0;\n        let cursor = ev.getManager().getCursor();\n        if (!cursor) {\n          cursor = qx.ui.core.DragDropCursor.getInstance();\n        }\n        if (cursor.hasState('touch')) {\n          cursor.removeState('touch');\n        }\n        this.setDragging(false);\n      };\n      control.addListener('dragend', onDragEnd, this);\n      addButton.addListener('dragend', onDragEnd, this);\n    },\n\n    /**\n     * Create a new element an insert if after target\n     *\n     * @param target {cv.ui.manager.model.XmlElement} target element\n     * @param position {String} one of \"after\", \"before\" or \"inside\"\n     * @param elementName {String?} if not set a selection of possible elements at that position will be shown\n     * @private\n     */\n    _onCreate(target, position, elementName) {\n      const parent = position === 'inside' || position === 'first-child' ? target : target.getParent();\n      const parentSchemaElement = parent.getSchemaElement();\n      let addable = parent.getAddableChildren(false);\n      if (addable.length > 0) {\n        // check if a child could be added at this position\n        const children = parent.getChildren();\n        // only check if we already have children, because otherwise we can add any child even in ordered sequences\n        if (!parentSchemaElement.areChildrenSortable() && position !== 'inside' && children.length > 0) {\n          // we only care about the first level here\n          const sorting = parentSchemaElement.getFirstLevelElementSorting();\n          let minPosition = 0;\n          let maxPosition = 0;\n          if (position === 'before') {\n            maxPosition = sorting[target.getName()];\n            const targetIndex = children.indexOf(target);\n            if (targetIndex > 0) {\n              let found = false;\n              // find the first real element before that is not from the same type\n              for (let i = targetIndex - 1; i >= 0; i--) {\n                const sibling = children.getItem(i);\n                if (!sibling.getName().startsWith('#') && sibling.getName() !== target.getName()) {\n                  minPosition = sorting[sibling.getName()];\n                  found = true;\n                  break;\n                }\n              }\n              if (!found) {\n                // only siblings of the same type\n                minPosition = maxPosition;\n              }\n            }\n          } else if (position === 'after') {\n            minPosition = sorting[target.getName()];\n            const targetIndex = children.indexOf(target);\n            if (targetIndex < children.length - 1) {\n              // find the first real element after that is not from the same type\n              let found = false;\n              for (let i = targetIndex; i < children.length; i++) {\n                const sibling = children.getItem(i);\n                if (!sibling.getName().startsWith('#') && sibling.getName() !== target.getName()) {\n                  maxPosition = sorting[sibling.getName()];\n                  found = true;\n                  break;\n                }\n              }\n              if (!found) {\n                // only siblings of the same type\n                maxPosition = minPosition;\n              }\n            } else {\n              // we want to append ot to the end\n              maxPosition = minPosition + 1;\n            }\n          } else if (position === 'first-child') {\n            // add before first child\n            const firstChild = children.getItem(0);\n            maxPosition = sorting[firstChild.getName()];\n          }\n          addable = addable.filter(\n            name =>\n              Object.prototype.hasOwnProperty.call(sorting, name) &&\n              sorting[name] <= maxPosition &&\n              sorting[name] >= minPosition\n          );\n        }\n      }\n      if (addable.length > 0) {\n        this.__editing = true;\n        let typeChooserForm;\n        if (addable.length > 1) {\n          // user has to select a type\n          typeChooserForm = new cv.ui.manager.form.ElementForm({\n            allowCancel: true,\n            context: this,\n            message: this.tr(\n              '<p style=\\'font-weight:bold\\'>Choose element</p><p>Several possible element can be created at this position, please select one to proceed.</p>'\n            ),\n\n            formData: {\n              type: {\n                type: 'SelectBox',\n                label: this.tr('Choose element'),\n                help: this.tr('Please choose the element you want to add here.'),\n\n                options: addable\n                  .sort((a, b) => {\n                    if (a.startsWith('#') && !b.startsWith('#')) {\n                      return 1;\n                    } else if (!a.startsWith('#') && b.startsWith('#')) {\n                      return -1;\n                    }\n                    return a.localeCompare(b);\n                  })\n                  .map(name => ({ label: name, value: name })),\n                validation: {\n                  required: true\n                }\n              }\n            }\n          })\n            .show()\n            .promise();\n        } else {\n          typeChooserForm = Promise.resolve({ type: addable[0] });\n        }\n        typeChooserForm.then(result => {\n          if (result) {\n            const type = result.type;\n            // create new element, open the edit dialog and insert it\n            const document = target.getNode().ownerDocument;\n            let element;\n            let isElement = false;\n            switch (type) {\n              case '#comment':\n                element = document.createComment('');\n                break;\n\n              case '#text':\n                element = document.createTextNode('');\n                break;\n\n              case '#cdata-section':\n                element = document.createCDATASection('');\n                break;\n\n              default:\n                element = document.createElement(type);\n                isElement = true;\n                break;\n            }\n\n            const schemaElement = parentSchemaElement.getSchemaElementForElementName(type);\n\n            const initChildren = function (element, schemaElement) {\n              const requiredChildren = schemaElement.getRequiredElements();\n              if (requiredChildren.length > 1) {\n                if (!schemaElement.areChildrenSortable()) {\n                  // a special order 1s required\n                  const allowedSorting = schemaElement.getAllowedElementsSorting();\n                  requiredChildren.sort(cv.ui.manager.model.schema.Element.sortChildNodes(allowedSorting));\n                }\n              }\n              requiredChildren.forEach(childName => {\n                const child = document.createElement(childName);\n                element.appendChild(child);\n                // do this recursively\n                initChildren(child, schemaElement.getSchemaElementForElementName(childName));\n              });\n              if (schemaElement.isTextContentRequired()) {\n                const child = document.createTextNode('-');\n                element.appendChild(child);\n              }\n            };\n            if (isElement) {\n              initChildren(element, schemaElement);\n            }\n\n            const xmlElement = new cv.ui.manager.model.XmlElement(element, schemaElement, target.getEditor(), parent);\n\n            // load the \"empty\" element to init the modification comparison\n            xmlElement.load();\n            let res = Promise.resolve(true);\n            if (xmlElement.isShowEditButton()) {\n              // only show edit dialog when we actually have something to edit\n              res = this._onEdit(null, xmlElement, true);\n            }\n            res\n              .then(data => {\n                if (data) {\n                  // finally insert the new node\n                  switch (position) {\n                    case 'before':\n                      xmlElement.insertBefore(target);\n                      break;\n\n                    case 'after':\n                      xmlElement.insertAfter(target);\n                      break;\n\n                    case 'inside':\n                      target.insertChild(xmlElement, -1, false, 'added');\n                      break;\n\n                    case 'first-child':\n                      target.insertChild(xmlElement, 0, false, 'added');\n                      break;\n                  }\n\n                  this.getChildControl('tree').openNodeAndParents(xmlElement);\n                  this.getChildControl('tree').setSelection([xmlElement]);\n                }\n              }, this)\n              .catch(err => this.error(err));\n          }\n        });\n      }\n    },\n\n    __getAllowedPositions(allowedSorting, elementName, targetName, depth) {\n      if (allowedSorting) {\n        let currentPosition = allowedSorting[elementName];\n        if (typeof currentPosition === 'string') {\n          currentPosition = currentPosition.split('.').map(i => (/^\\d+$/.test(i) ? parseInt(i) : i));\n        } else {\n          currentPosition = [currentPosition];\n        }\n        let targetPosition = allowedSorting[targetName];\n        if (typeof targetPosition === 'string') {\n          targetPosition = targetPosition.split('.').map(i => (/^\\d+$/.test(i) ? parseInt(i) : i));\n        } else {\n          targetPosition = [targetPosition];\n        }\n        const depth = Math.min(depth || 1, currentPosition.length, targetPosition.length);\n\n        for (let i = 0; i < depth; i++) {\n          if (currentPosition[i] === targetPosition[i]) {\n            // no special position\n            return cv.ui.manager.editor.Tree.Allowed.BEFORE | cv.ui.manager.editor.Tree.Allowed.AFTER;\n          } else if (currentPosition[i] - 1 === targetPosition[i]) {\n            return cv.ui.manager.editor.Tree.Allowed.AFTER;\n          } else if (currentPosition[i] + 1 === targetPosition[i]) {\n            return cv.ui.manager.editor.Tree.Allowed.BEFORE;\n          }\n        }\n      }\n      return cv.ui.manager.editor.Tree.Allowed.NONE;\n    },\n\n    __checkProvider(id, formData, element) {\n      const provider = cv.ui.manager.editor.data.Provider.get(id);\n      if (provider) {\n        if (typeof provider.getLive === 'function') {\n          formData.options = provider.getLive(element);\n        } else if (provider.data) {\n          formData.options = provider.data;\n        } else {\n          this.error('misconfigured provider found for ' + id);\n        }\n        formData.type = provider.userInputAllowed ? 'VirtualComboBox' : 'VirtualSelectBox';\n      } else if (['mapping', 'styling'].includes(id.split('@').pop())) {\n        const type = id.split('@').pop();\n        // these are directly filled from data inside the currently used config\n        const tree = this.getChildControl('tree');\n        const rootNode = tree.getModel().getNode();\n        formData.type = 'SelectBox';\n        formData.options = [];\n        const selector = this._structure === 'tile' ? 'cv-meta > cv-' + type : 'meta > ' + type + 's > ' + type;\n        rootNode.querySelectorAll(selector).forEach(element => {\n          const name = element.getAttribute('name');\n          formData.options.push({ label: name, value: name });\n        });\n      }\n      if (formData.type.endsWith('SelectBox')) {\n        // not allowed here\n        delete formData.placeholder;\n        if (!formData.validation.required) {\n          if (formData.options instanceof Promise) {\n            formData.options\n              .then(res => {\n                if (Array.isArray(res)) {\n                  res.unshift({\n                    label: ' - ' + this.tr('not set') + ' - ',\n                    value: ''\n                  });\n                }\n              })\n              .catch(() => {}); // ignore error here, will be handled somewhere else\n          } else {\n            formData.options.unshift({\n              label: ' - ' + this.tr('not set') + ' - ',\n              value: ''\n            });\n          }\n        }\n      }\n    },\n\n    __getAttributeFormDefinition(element, attribute) {\n      const docs = attribute.getDocumentation();\n      const def = {\n        type: 'TextField',\n        label: attribute.getName(),\n        placeholder: ' - ' + this.tr('not set') + ' - ',\n        help: docs.join('<br/>'),\n        enabled: element.isEditable(),\n        value: element.getAttribute(attribute.getName()) || attribute.getDefaultValue(),\n        validation: {\n          required: !attribute.isOptional(),\n          validator(value) {\n            if (value instanceof qx.ui.form.ListItem) {\n              value = value.getModel().getValue();\n            }\n            if (!attribute.isValueValid(value)) {\n              throw new qx.core.ValidationError(qx.locale.Manager.tr('This is not a valid value.'));\n            }\n          }\n        }\n      };\n\n      switch (attribute.getTypeString()) {\n        case 'boolean':\n          def.type = 'CheckBox';\n          def.value = def.value === '' || def.value === null || def.value === undefined ? null : def.value === 'true';\n          delete def.placeholder;\n          break;\n\n        case 'string': {\n          const enums = attribute.getEnumeration();\n          if (enums.length > 0) {\n            def.type = 'SelectBox';\n            delete def.placeholder;\n            def.options = [];\n            enums.forEach(name => {\n              def.options.push({ label: name, value: name });\n            });\n            if (attribute.isOptional()) {\n              // allow empty value\n              def.options.unshift({\n                label: ' - ' + this.tr('not set') + ' - ',\n                value: ''\n              });\n            }\n          } else {\n            // check if we have a dataprovider for this\n            this.__checkProvider(element.getName() + '@' + attribute.getName(), def, element.getNode());\n          }\n          break;\n        }\n      }\n\n      return def;\n    },\n\n    _onEdit(ev, element, isNew) {\n      if (!this.getFile() || !this.getFile().isWriteable()) {\n        return null;\n      }\n      let title;\n      let caption;\n      if (!element) {\n        if (this.getSelected()) {\n          element = this.getSelected();\n        } else {\n          return null;\n        }\n      }\n      if (!element.getShowEditButton()) {\n        return null;\n      }\n      element.load();\n      const formData = {};\n      const typeElement = element.getSchemaElement();\n      if (isNew) {\n        title = this.tr('Create new %1 element', element.getName());\n        caption = this.tr(\n          'Please edit the attributes of the new %1 element, that will be added to the chosen position.',\n          element.getName()\n        );\n      } else {\n        title = this.tr('Edit element attributes');\n        caption = element.isEditable() ? this.tr('Edit %1', element.getName()) : this.tr('Show %1', element.getName());\n      }\n      if (element.getNode().nodeType === Node.ELEMENT_NODE) {\n        const allowed = typeElement.getAllowedAttributes();\n        Object.keys(allowed).forEach(name => {\n          const attribute = allowed[name];\n          if (!this.getExpert()) {\n            const appInfo = attribute.getAppinfo();\n            if (appInfo.includes('level:expert')) {\n              // do not this this attribute\n              return;\n            }\n          }\n          formData[name] = this.__getAttributeFormDefinition(element, attribute);\n        });\n        if (typeElement.isChildElementAllowed('*')) {\n          const parser = new DOMParser();\n          const attrName = element.getNode().nodeName === 'custom' ? '#innerHTML' : '#outerHTML';\n          if (isNew) {\n            title = this.tr('Create new %1 element', element.getName());\n            caption = this.tr(\n              'Please edit the content of the new %1 element, that will be added to the chosen position.',\n              element.getName()\n            );\n          } else {\n            title = attrName === '#outerHTML' ? this.tr('Edit element and content') : this.tr('Edit element content');\n          }\n          formData[attrName] = {\n            type: 'TextArea',\n            label: '',\n            lines: 5,\n            autoSize: true,\n            width: Math.min(qx.bom.Viewport.getWidth(), 500),\n            enabled: element.isEditable(),\n            value: attrName === '#outerHTML' ? element.getNode().outerHTML : element.getNode().innerHTML,\n            validation: {\n              validator(value) {\n                if (value) {\n                  const dom = parser.parseFromString(value, 'text/xml');\n                  if (dom.getElementsByTagName('parsererror').length > 0) {\n                    throw new qx.core.ValidationError(qx.locale.Manager.tr('This is not a valid value.'));\n                  }\n                }\n              }\n            }\n          };\n        }\n      } else if (\n        element.getNode().nodeType === Node.TEXT_NODE ||\n        element.getNode().nodeType === Node.COMMENT_NODE ||\n        element.getNode().nodeType === Node.CDATA_SECTION_NODE\n      ) {\n        title = this.tr('Edit text content', element.getName());\n        caption = '';\n        let nodeName = element.getNode().nodeName;\n        // only in text-only mode we can add text editing to the form\n        const docs = typeElement.getDocumentation();\n        formData[nodeName] = {\n          type: 'TextArea',\n          label: '',\n          lines: 1,\n          autoSize: true,\n          width: Math.min(qx.bom.Viewport.getWidth(), 500),\n          placeholder: this.tr('not set'),\n          help: docs.join('<br/>'),\n          enabled: element.isEditable(),\n          value: element.getTextContent(),\n          validation: {\n            validator(value) {\n              if (value instanceof qx.ui.form.ListItem) {\n                value = value.getModel().getValue();\n              }\n              if (!typeElement.isValueValid(value)) {\n                throw new qx.core.ValidationError(qx.locale.Manager.tr('This is not a valid value.'));\n              }\n            }\n          }\n        };\n\n        if (element.isTextNode()) {\n          let type = '';\n          const parent = element.getParent();\n          let convertToCData = false;\n          switch (parent.getName()) {\n            case 'status':\n              type = element.getParent().getAttribute('type');\n              convertToCData = (type === 'html' || type === 'xml');\n              break;\n\n            case 'style':\n              type = 'css';\n              convertToCData = true;\n              break;\n\n            case 'dataset':\n              if (parent.getAttribute('src').startsWith('flux://')) {\n                type = 'flux';\n              }\n              break;\n          }\n          if (convertToCData && element.getNode().nodeType === Node.TEXT_NODE) {\n            element.convertTextNodeType(Node.CDATA_SECTION_NODE);\n            const newNodeName = element.getNode().nodeName;\n            formData[newNodeName] = formData[nodeName];\n            delete formData[nodeName];\n            nodeName = newNodeName;\n          }\n\n          // special handling for status content: check of source editor supports the type and use it instead of a plain TextArea\n          if (type && cv.ui.manager.editor.Source.SUPPORTED_FILES('test.' + type)) { // eslint-disable-line new-cap\n            formData[nodeName].type = 'SourceEditor';\n            formData[nodeName].language = type;\n            formData[nodeName].width = Math.min(qx.bom.Viewport.getWidth(), 800);\n            delete formData[nodeName].placeholder;\n          }\n        }\n        this.__checkProvider(\n          element.getParent().getName() + '@' + element.getName(),\n          formData[nodeName],\n          element.getNode()\n        );\n      }\n      this.__editing = true;\n\n      const formDialog = new cv.ui.manager.form.ElementForm({\n        allowCancel: true,\n        context: this,\n        caption: title,\n        message: caption,\n        formData: formData,\n        minWidth: Math.min(qx.bom.Viewport.getWidth(), 400),\n        maxWidth: qx.bom.Viewport.getWidth()\n      }).show();\n      return formDialog.promise().then(data => {\n        if (data && element.isEditable()) {\n          // save changes\n          element.setAttributes(data);\n          this.clearReDos();\n          if (\n            !Object.prototype.hasOwnProperty.call(data, '#outerHTML') &&\n            !Object.prototype.hasOwnProperty.call(data, '#innerHTML')\n          ) {\n            element.validate();\n          }\n        }\n        this.__editing = false;\n        formDialog.destroy();\n        return data;\n      });\n    },\n\n    _onDelete(ev, element) {\n      if (!element) {\n        element = this.getSelected();\n      }\n      if (element && element.isDeletable()) {\n        element.remove();\n        this.clearReDos();\n        return element;\n      }\n      return null;\n    },\n\n    _onCut() {\n      if (this.__editing) {\n        document.execCommand('cut');\n      } else {\n        const element = this._onDelete();\n        if (element) {\n          this.setClipboard(element);\n        }\n      }\n    },\n\n    _onCopy() {\n      if (this.__editing) {\n        document.execCommand('copy');\n      } else {\n        const element = this.getSelected();\n        if (element) {\n          const copy = element.clone();\n          this.setClipboard(copy);\n        }\n      }\n    },\n\n    _onPaste() {\n      const target = this.getSelected();\n      const clipboardElement = this.getClipboard();\n      if (target && clipboardElement) {\n        if (target.insertChild(clipboardElement, -1, false, 'added')) {\n          // this was successful, clean the clipboard\n          this.resetClipboard();\n        }\n      }\n    },\n\n    /**\n     * Maintain global modification state.\n     * This method is called by a single cv.ui.manager.model.XmlElement when it has changed its modified state.\n     * @param element {cv.ui.manager.model.XmlElement}\n     */\n    updateModified(element) {\n      const index = this.__modifiedElements.indexOf(element);\n      const previewIndex = this.__modifiedPreviewElements.indexOf(element);\n      if (element.$$removed) {\n        // we dont care about elements that have been removed (its the parent that has changed then by loosing a child)\n        if (index >= 0) {\n          this.__modifiedElements.splice(index, 1);\n        }\n        if (previewIndex >= 0) {\n          this.__modifiedPreviewElements.splice(index, 1);\n        }\n      } else if (element.isModified()) {\n        if (index === -1) {\n          this.__modifiedElements.push(element);\n        }\n        if (previewIndex === -1) {\n          this.__modifiedPreviewElements.push(element);\n        }\n      } else {\n        if (index >= 0) {\n          this.__modifiedElements.splice(index, 1);\n        }\n        if (previewIndex >= 0) {\n          this.__modifiedPreviewElements.splice(index, 1);\n        }\n      }\n      this.getFile().setModified(this.__modifiedElements.length > 0);\n      this._onContentChanged();\n    },\n\n    _draw() {\n      const toolbar = this.getChildControl('toolbar');\n      this._createChildControl('searchbar');\n      if (!this.hasChildControl('add-button')) {\n        this._createChildControl('add-button');\n      }\n      toolbar.addSeparator();\n      this._createChildControl('edit-button');\n      this._createChildControl('delete-button');\n      toolbar.addSeparator();\n      this._createChildControl('toggle-expert');\n      toolbar.addSpacer();\n      this._createChildControl('refresh-preview');\n\n      if (!this.hasChildControl('tree')) {\n        this._createChildControl('tree');\n      }\n      if (!this.hasChildControl('right')) {\n        this._createChildControl('right');\n      }\n      if (!this.hasChildControl('preview-sync-hint')) {\n        this._createChildControl('preview-sync-hint');\n      }\n      if (!this.hasChildControl('preview')) {\n        this._createChildControl('preview');\n      }\n    },\n\n    _applySelected(value, old) {\n      if (old) {\n        old.removeRelatedBindings(this.getChildControl('delete-button'));\n      }\n      if (value) {\n        this.getChildControl('edit-button').setEnabled(value.getShowEditButton());\n\n        if (this.getFile().isWriteable()) {\n          value.bind('deletable', this.getChildControl('delete-button'), 'enabled');\n        }\n      } else {\n        this.getChildControl('edit-button').setEnabled(false);\n        this.getChildControl('delete-button').setEnabled(false);\n      }\n      this._updateHighlightWidget();\n    },\n\n    _updateHighlightWidget() {\n      const selected = this.getSelected();\n      if (this.isShowPreview()) {\n        const preview = this.getChildControl('preview');\n        if (this.getPreviewState() !== 'structureChanged' && selected) {\n          // get page path for this node\n          let path = [];\n          let node = selected.getNode();\n          if (this._structure === 'tile') {\n            while (node && node.nodeName !== 'config') {\n              if (node.nodeName === 'cv-page') {\n                preview.openPage(node.getAttribute('id'));\n                break;\n              }\n              node = node.parentNode;\n            }\n          } else {\n            while (node && node.nodeName !== 'pages') {\n              if (node.nodeName === 'page') {\n                path.unshift(node.getAttribute('name'));\n              }\n              node = node.parentNode;\n            }\n            if (path.length > 0) {\n              preview.openPage(path.pop(), path.join('/'));\n            }\n          }\n          preview.setHighlightWidget(selected.getWidgetPath());\n        } else {\n          preview.setHighlightWidget(null);\n        }\n      }\n    },\n\n    _onElementKeyUp(ev) {\n      if (this.getSelected() && this.isVisible()) {\n        if (ev.getKeyIdentifier() === 'Enter') {\n          if (!this.__editing) {\n            this._onEdit();\n          }\n        }\n      }\n    },\n\n    _applyContent(value) {\n      const tree = this.getChildControl('tree');\n      const file = this.getFile();\n      this._updatePreview(null, null, true);\n      if (value && file) {\n        if (this._workerWrapper) {\n          this._workerWrapper.open(file, value, null, {\n            validate: false,\n            initialValidation: true,\n            modified: false\n          });\n\n          this._workerWrapper.validateXmlConfig(value).then(res => {\n            if (res === true) {\n              this.info(file.getPath() + ' is a valid config file');\n              this.__loadContent(value);\n            } else {\n              const dialog = new cv.ui.manager.dialog.ValidationError(file, value, res);\n\n              dialog.addListener('action', ev => {\n                switch (ev.getData()) {\n                  case 'proceed':\n                    this.__loadContent(value, res);\n                    break;\n\n                  case 'open-source': {\n                    const file = this.getFile();\n                    cv.ui.manager.Main.getInstance().closeFile(file);\n                    qx.event.message.Bus.dispatchByName('cv.manager.openWith', {\n                      file: file.getFullPath(),\n                      handler: 'cv.ui.manager.editor.Source',\n                      handlerOptions: {\n                        jumpToError: true\n                      }\n                    });\n\n                    break;\n                  }\n\n                  case 'cancel':\n                    // close this editor\n                    cv.ui.manager.Main.getInstance().closeFile(this.getFile());\n                    break;\n                }\n\n                dialog.hide();\n                dialog.destroy();\n              });\n              dialog.show();\n            }\n          });\n        }\n      } else {\n        tree.resetModel();\n        if (this.hasChildControl('add-button')) {\n          this.getChildControl('add-button').setEnabled(false);\n        }\n      }\n    },\n\n    __getPreviewFile() {\n      let file;\n      cv.ui.manager.model.FileItem.ROOT.getChildren().some(f => {\n        if (f.getName() === 'visu_config_previewtemp.xml') {\n          file = f;\n          return true;\n        }\n        return false;\n      });\n      if (!file) {\n        file = new cv.ui.manager.model.FileItem('visu_config_previewtemp.xml', '/', cv.ui.manager.model.FileItem.ROOT);\n\n        file.setTemporary(true);\n      }\n      return file;\n    },\n\n    async __loadContent(value, errors) {\n      const tree = this.getChildControl('tree');\n      const file = this.getFile();\n      if (file) {\n        const doc = qx.xml.Document.fromString(value);\n        const rootElement = doc.documentElement;\n        const schema = await this.getSchema(\n          rootElement.getAttributeNS('http://www.w3.org/2001/XMLSchema-instance', 'noNamespaceSchemaLocation')\n        );\n\n        const schemaElement = schema.getElementNode(rootElement.nodeName);\n        const rootNode = new cv.ui.manager.model.XmlElement(rootElement, schemaElement, this);\n\n        this._structure = schema.getStructure();\n        rootNode.setEditable(file.getWriteable());\n        rootNode.load();\n        tree.setModel(rootNode);\n        if (this.hasChildControl('add-button')) {\n          this.getChildControl('add-button').setVisibility(file.getWriteable() ? 'visible' : 'excluded');\n\n          // extra space fr add-button\n          tree.setContentPaddingBottom(file.getWriteable() ? 80 : 0);\n        }\n        if (this.isShowPreview()) {\n          const preview = this.getChildControl('preview');\n          if (file.isWriteable()) {\n            if (!preview.getFile()) {\n              preview.setFile(this.__getPreviewFile());\n            }\n          } else {\n            preview.setFile(file);\n          }\n          this._updatePreview(null, value);\n          if (!preview.isVisible()) {\n            preview.show();\n          }\n        }\n        if (file.isTemporary()) {\n          this._onContentChanged();\n        }\n        if (errors) {\n          errors.forEach(error => {\n            if (error.path && error.path.startsWith('/pages')) {\n              let current = rootNode;\n              let parts = error.path.substr(1).split('/');\n              while (parts.length > 0) {\n                let part = parts.shift();\n                let match = /^([^[]+)\\[(\\d+)\\]$/.exec(part);\n                if (match) {\n                  current = current.getChildren().getItem(parseInt(match[2]));\n                  if (current) {\n                    try {\n                      // this can always lead to a loading error, because the element is invalid\n                      current.load();\n                    } catch (e) {\n                      this.error('Error loading ' + current.getName() + ': ' + e.toString());\n\n                      current = null;\n                      break;\n                    }\n                  } else {\n                    break;\n                  }\n                } else {\n                  this.error('patch segment format error: ' + part);\n                  current = null;\n                  break;\n                }\n              }\n              if (current) {\n                current.setValid(false);\n                current.validate(false);\n                tree.openNodeAndParents(current);\n              }\n            }\n          });\n        }\n      } else {\n        this._structure = null;\n      }\n    },\n\n    _onContentChanged() {\n      const content = this.getCurrentContent();\n      if (this._workerWrapper) {\n        this._workerWrapper.contentChanged(this.getFile(), content);\n      }\n      if (this.isAutoRefreshPreview() && this.isShowPreview()) {\n        this._updatePreview(null, content);\n      }\n    },\n\n    _updatePreview(ev, content, reset) {\n      const previewFile = this.getChildControl('preview').getFile();\n      if (previewFile) {\n        if (!content && !reset) {\n          content = this.getCurrentContent(true);\n        } else if (reset === true) {\n          this.getChildControl('preview').hide();\n          return;\n        }\n        this.getChildControl('preview').show();\n        if (previewFile.isTemporary()) {\n          this._client.createSync(\n            {\n              path: previewFile.getFullPath(),\n              hash: 'ignore'\n            },\n            content,\n            err => {\n              if (err) {\n                // disable preview, because the file could not be created\n                this.setShowPreview(false);\n                this.error(err);\n                cv.ui.manager.snackbar.Controller.error(this.tr('Disabling preview because the preview file could not be created.'));\n              } else {\n                qx.event.message.Bus.dispatchByName(previewFile.getBusTopic(), {\n                  type: 'contentChanged',\n                  file: previewFile,\n                  data: content,\n                  source: this\n                });\n                this.__modifiedPreviewElements.removeAll();\n                this.resetPreviewState();\n                previewFile.resetTemporary();\n              }\n            },\n            this\n          );\n        } else {\n          this._client.updateSync(\n            {\n              path: previewFile.getFullPath(),\n              hash: 'ignore'\n            },\n            content,\n            err => {\n              if (err) {\n                cv.ui.manager.snackbar.Controller.error(err);\n              } else {\n                qx.event.message.Bus.dispatchByName(previewFile.getBusTopic(), {\n                  type: 'contentChanged',\n                  file: previewFile,\n                  data: content,\n                  source: this\n                });\n\n                this.__modifiedPreviewElements.removeAll();\n                this.resetPreviewState();\n              }\n            },\n            this\n          );\n        }\n      }\n    },\n\n    getCurrentContent(fast) {\n      const tree = this.getChildControl('tree');\n      if (tree.getModel()) {\n        const rootNode = tree.getModel().getNode();\n        if (fast) {\n          return new XMLSerializer().serializeToString(rootNode.ownerDocument);\n        }\n        // prettify content\n        return cv.util.Prettifier.xml(rootNode.ownerDocument);\n      }\n      return null;\n    },\n\n    _onSaved() {\n      super._onSaved();\n      this.__modifiedElements.forEach(elem => elem.onSaved());\n      this.__modifiedElements = [];\n      this.clearUnDosReDos();\n    },\n\n    isSupported(file) {\n      return cv.ui.manager.editor.Tree.SUPPORTED_FILES.test(file.getName());\n    },\n\n    _showHelp() {\n      const focusedWidget = qx.ui.core.FocusHandler.getInstance().getFocusedWidget();\n      const dialogConf = {\n        caption: this.tr('Help'),\n        modal: true,\n        image: 'qxl.dialog.icon.info',\n        minWidth: Math.min(600, qx.bom.Viewport.getWidth()),\n        maxHeight: qx.bom.Viewport.getHeight(),\n        message: ''\n      };\n\n      if (focusedWidget === this.getChildControl('searchbar')) {\n        dialogConf.message = this.tr(\n          '<h3>Search for elements</h3>\\\n<p>You can search for element names (tag names or content of name attribute) by typing a search value here. \\\nAll elements whose tag name or name-attribute start with the search term will be found</p>\\\n<p>Search will start automatically when the search term is at least 2 characters long.</p>\\\n<p>The first found element will be opened and selected in the element tree. You can jump to the next \\\nfound element with \\'Enter\\' or the \\'Down\\' key. Accordingly you can jump the the previous found element \\\nwith the \\'Up\\' key.</p>'\n        );\n      } else {\n        // show general help\n        dialogConf.message = this.tr(\n          '<h3>CometVisu XML-Editor - a brief introduction</h3>\\\n<p>The CometVisu XMl-Editor shows the content of a CometVisu config file in a tree-like structure. \\\nYou can traverse through the tree by opening/closing elements with a click on the expand icon.</p>\\\n<p>The Xml-Editor will make sure that you do not create an invalid configuration file. \\\nIf you experience a change that has not been accepted / or is not allowed that is most likely due to avoid an invalid configuration.</p>\\\n<h4>Editing attributes</h4>\\\n<p>The elements attributes can be edited by double clicking on it or selecting an element and clicking on the \\'edit\\'-button in the toolbar \\\nabove the tree of by right-clicking on the element and the \\'edit\\'-button in the context menu</p>\\\n<h4>Editing elements</h4>\\\n<p>The elements in the tree support re-ordering via drag & drop. You can also cut/copy or paste them. \\\nYou can add new elements by starting a drag in the round + button on the bottom of the tree, or \\\nby right clicking on an element and choosing the \\'add child\\'-button.</p>\\\n<p>You can delete elements by the delete buttons in the toolbar</p>\\\n<h4>Expert view</h4>\\\n<p>Some attributes are hidden in the editing dialog, because they provide access to settings that usually \\\nare not needed that often. You can access these attributes by toggling to the \\'Expertview\\'-button \\\nin the toolbar directly above the tree.</p>\\\n<h4>Config preview</h4>\\\n<p>An preview of the edited config file is shown on the right part of the screen. The preview will not automatically \\\nrefresh after you have changed something. You can refresh is manually by clicking the most right button in the toolbar.</p>'\n        );\n      }\n      new cv.ui.manager.dialog.BigAlert(dialogConf).show();\n    }\n  },\n\n  /*\n  ***********************************************\n    DESTRUCTOR\n  ***********************************************\n  */\n  destruct() {\n    this._schemas = null;\n    this._workerWrapper = null;\n    this._disposeArray('__modifiedElements', '__modifiedPreviewElements');\n    qx.core.Init.getApplication().getRoot().removeListener('keyup', this._onElementKeyUp, this);\n  }\n});\n"
  ],
  "mappings": "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"
}