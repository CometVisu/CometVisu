{
  "version": 3,
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "extend",
    "core",
    "Object",
    "include",
    "data",
    "marshal",
    "MEventBubbling",
    "cv",
    "ui",
    "manager",
    "control",
    "MFileEventHandler",
    "implement",
    "IFileEventHandler",
    "construct",
    "name",
    "path",
    "parent",
    "fakeChildren",
    "initChildren",
    "Array",
    "setFakeChildren",
    "endsWith",
    "__path",
    "setName",
    "setParent",
    "locale",
    "Manager",
    "getInstance",
    "addListener",
    "_onChangeLocale",
    "statics",
    "ROOT",
    "_fakeIconFile",
    "_hiddenConfigFakeFile",
    "_acceptedFiles",
    "media",
    "isConfigFile",
    "test",
    "getConfigName",
    "filename",
    "match",
    "exec",
    "getIconFile",
    "model",
    "FileItem",
    "set",
    "type",
    "overrideIcon",
    "writeable",
    "readable",
    "open",
    "loaded",
    "hasChildren",
    "fake",
    "icon",
    "theme",
    "dark",
    "Images",
    "getIcon",
    "getHiddenConfigFile",
    "displayName",
    "tr",
    "getAcceptedFiles",
    "folder",
    "getFullPath",
    "properties",
    "check",
    "event",
    "apply",
    "init",
    "loading",
    "children",
    "deferredInit",
    "nullable",
    "hash",
    "editing",
    "special",
    "temporary",
    "valid",
    "hasWarnings",
    "content",
    "modified",
    "transform",
    "parentFolder",
    "mounted",
    "trash",
    "inTrash",
    "members",
    "__fullPath",
    "__onLoadCallback",
    "_toLowerCase",
    "toLowerCase",
    "isRelated",
    "_handleFileEvent",
    "ev",
    "isFake",
    "getData",
    "action",
    "reload",
    "getType",
    "startsWith",
    "dispose",
    "getChildren",
    "some",
    "child",
    "remove",
    "removeRelatedBindings",
    "_applyName",
    "value",
    "old",
    "getDisplayName",
    "setDisplayName",
    "getPath",
    "getParentFolder",
    "_onOpen",
    "isLoaded",
    "load",
    "_maintainIcon",
    "isOverrideIcon",
    "setIcon",
    "isTrash",
    "isOpen",
    "isMounted",
    "getName",
    "_applyHasChildren",
    "length",
    "push",
    "unload",
    "setLoaded",
    "setLoading",
    "removeAll",
    "forEach",
    "callback",
    "context",
    "addChild",
    "oldParent",
    "getParent",
    "bind",
    "_onGet",
    "node",
    "prototype",
    "hasOwnProperty",
    "call",
    "nodeChildren",
    "replace",
    "getFakeChildren",
    "append",
    "sortElements",
    "_onError",
    "err",
    "error",
    "snackbar",
    "Controller",
    "isLoading",
    "addListenerOnce",
    "io",
    "rest",
    "Client",
    "getFsClient",
    "readSync",
    "res",
    "getBusTopic",
    "getUri",
    "getServerPath",
    "util",
    "LibraryManager",
    "get",
    "sortF",
    "a",
    "b",
    "localeCompare",
    "sort",
    "openPath",
    "parts",
    "lang",
    "Type",
    "isArray",
    "split",
    "relPath",
    "shift",
    "setOpen",
    "Environment",
    "select",
    "translate",
    "destruct"
  ],
  "sources": [
    "/home/runner/work/CometVisu/CometVisu/source/class/cv/ui/manager/model/FileItem.js"
  ],
  "sourcesContent": [
    "/* FileItem.js\n *\n * copyright (c) 2010-2022, Christian Mayer and the CometVisu contributers.\n *\n * This program is free software; you can redistribute it and/or modify it\n * under the terms of the GNU General Public License as published by the Free\n * Software Foundation; either version 3 of the License, or (at your option)\n * any later version.\n *\n * This program is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for\n * more details.\n *\n * You should have received a copy of the GNU General Public License along\n * with this program; if not, write to the Free Software Foundation, Inc.,\n * 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA\n */\n\n/**\n * Represents an entry in the filesystem (file or folder).\n */\nqx.Class.define('cv.ui.manager.model.FileItem', {\n  extend: qx.core.Object,\n  include: [qx.data.marshal.MEventBubbling, cv.ui.manager.control.MFileEventHandler],\n\n  implement: [cv.ui.manager.control.IFileEventHandler],\n  /*\n  ***********************************************\n    CONSTRUCTOR\n  ***********************************************\n  */\n  construct(name, path, parent, fakeChildren) {\n    super();\n    this.initChildren(new qx.data.Array());\n    if (fakeChildren) {\n      this.setFakeChildren(fakeChildren);\n    }\n    if (path) {\n      if (!path.endsWith('/')) {\n        path += '/';\n      }\n      this.__path = path;\n    }\n    if (name) {\n      this.setName(name);\n    }\n    if (parent) {\n      this.setParent(parent);\n    }\n    if (qx.core.Environment.get('qx.dynlocale')) {\n      qx.locale.Manager.getInstance().addListener('changeLocale', this._onChangeLocale, this);\n    }\n  },\n\n  /*\n  ***********************************************\n    STATICS\n  ***********************************************\n  */\n  statics: {\n    ROOT: null,\n    _fakeIconFile: null,\n    _hiddenConfigFakeFile: null,\n    _acceptedFiles: {\n      '.': '*.xml',\n      media: '*.js,*.jpg,*.gif,*.png,*.conf,*.svg,*.md,*.rst,*,css,*.txt'\n    },\n\n    isConfigFile(path) {\n      return /visu_config.*\\.xml/.test(path);\n    },\n\n    getConfigName(filename) {\n      const match = /visu_config_?([^.]+)\\.xml/.exec(filename);\n      if (match) {\n        return match[1];\n      }\n      return null;\n    },\n\n    getIconFile() {\n      if (!this._fakeIconFile) {\n        this._fakeIconFile = new cv.ui.manager.model.FileItem(\n          'CometVisu-Icons',\n          '',\n          cv.ui.manager.model.FileItem.ROOT\n        ).set({\n          type: 'file',\n          overrideIcon: true,\n          writeable: false,\n          readable: true,\n          open: true,\n          loaded: true,\n          hasChildren: false,\n          fake: true,\n          icon: cv.theme.dark.Images.getIcon('icons', 18)\n        });\n      }\n      return this._fakeIconFile;\n    },\n\n    getHiddenConfigFile() {\n      if (!this._hiddenConfigFakeFile) {\n        this._hiddenConfigFakeFile = new cv.ui.manager.model.FileItem(\n          'hidden.php',\n          '',\n          cv.ui.manager.model.FileItem.ROOT\n        ).set({\n          hasChildren: false,\n          loaded: true,\n          readable: true,\n          writeable: true,\n          overrideIcon: true,\n          icon: cv.theme.dark.Images.getIcon('hidden-config', 15),\n          type: 'file',\n          fake: true,\n          displayName: qx.locale.Manager.tr('Hidden configuration')\n        });\n      }\n      return this._hiddenConfigFakeFile;\n    },\n\n    getAcceptedFiles(folder) {\n      return this._acceptedFiles[folder.getFullPath()];\n    }\n  },\n\n  /*\n  ***********************************************\n    PROPERTIES\n  ***********************************************\n  */\n  properties: {\n    open: {\n      check: 'Boolean',\n      event: 'changeOpen',\n      apply: '_onOpen',\n      init: false\n    },\n\n    loaded: {\n      check: 'Boolean',\n      event: 'changeLoaded',\n      init: false\n    },\n\n    loading: {\n      check: 'Boolean',\n      event: 'changeLoading',\n      init: false\n    },\n\n    parent: {\n      event: 'changeParent',\n      init: null\n    },\n\n    children: {\n      check: 'qx.data.Array',\n      event: 'changeChildren',\n      apply: '_applyEventPropagation',\n      deferredInit: true\n    },\n\n    fakeChildren: {\n      check: 'Array',\n      nullable: true\n    },\n\n    displayName: {\n      check: 'String',\n      init: '',\n      event: 'changeDisplayName'\n    },\n\n    /**\n     * Fake items only exist in the client not in the backend\n     */\n    fake: {\n      check: 'Boolean',\n      init: false,\n      event: 'changeFake'\n    },\n\n    overrideIcon: {\n      check: 'Boolean',\n      init: false\n    },\n\n    icon: {\n      check: 'String',\n      nullable: true,\n      event: 'changeIcon'\n    },\n\n    hash: {\n      check: 'Number',\n      nullable: true\n    },\n\n    editing: {\n      check: 'Boolean',\n      init: false,\n      event: 'changeEditing'\n    },\n\n    /**\n     * A special configuration option for mulitple purposes, e.g. creating a fake FileItem with a special\n     * behaviour like an \"Add new File\" used in writeable Folders.\n     */\n    special: {\n      check: 'String',\n      nullable: true,\n      event: 'changeSpecial'\n    },\n\n    /**\n     * Temporary file are not save in the backend yet\n     */\n    temporary: {\n      check: 'Boolean',\n      init: false,\n      event: 'changeTemporary'\n    },\n\n    /**\n     * Validation result for this files content (e.g. config file validation)\n     */\n    valid: {\n      check: 'Boolean',\n      init: true,\n      event: 'changeValid'\n    },\n\n    /**\n     * The validation of this files content found some warnings\n     */\n    hasWarnings: {\n      check: 'Boolean',\n      init: false,\n      event: 'changeHasWarnings'\n    },\n\n    /**\n     * Temporary content to show, e.g. for new files, when there is no 'real' file with content yet to request from the backend\n     * this content should be shown\n     */\n    content: {\n      check: 'String',\n      nullable: true\n    },\n\n    modified: {\n      check: 'Boolean',\n      init: false,\n      event: 'changeModified'\n    },\n\n    // Backend properties\n\n    hasChildren: {\n      check: 'Boolean',\n      event: 'changeHasChildren',\n      apply: '_applyHasChildren',\n      init: false\n    },\n\n    name: {\n      check: 'String',\n      event: 'changeName',\n      init: '',\n      apply: '_applyName'\n    },\n\n    type: {\n      check: ['dir', 'file'],\n      transform: '_toLowerCase',\n      nullable: true,\n      apply: '_maintainIcon'\n    },\n\n    parentFolder: {\n      check: 'String',\n      nullable: true\n    },\n\n    readable: {\n      check: 'Boolean',\n      init: false,\n      event: 'changeReadable'\n    },\n\n    writeable: {\n      check: 'Boolean',\n      init: false,\n      event: 'changeWriteable'\n    },\n\n    mounted: {\n      check: 'Boolean',\n      init: false,\n      event: 'changeMounted'\n    },\n\n    trash: {\n      check: 'Boolean',\n      init: false,\n      event: 'changeTrash'\n    },\n\n    inTrash: {\n      check: 'Boolean',\n      init: false,\n      event: 'changeInTrash'\n    }\n  },\n\n  /*\n  ***********************************************\n    MEMBERS\n  ***********************************************\n  */\n  members: {\n    __path: null,\n    __fullPath: null,\n    __onLoadCallback: null,\n\n    _toLowerCase(name) {\n      return name.toLowerCase();\n    },\n\n    isRelated(path) {\n      return this.getFullPath() === path;\n    },\n\n    _handleFileEvent(ev) {\n      if (this.isFake()) {\n        return;\n      }\n      const data = ev.getData();\n      switch (data.action) {\n        case 'moved':\n          this.reload();\n          break;\n\n        case 'added':\n          if (this.getType() === 'dir' && data.path.startsWith(this.getFullPath())) {\n            this.reload();\n          }\n          break;\n\n        case 'deleted':\n          if (data.path === this.getFullPath()) {\n            // this item has been deleted\n            this.dispose();\n          } else if (this.getType() === 'dir' && data.path.startsWith(this.getFullPath())) {\n            // delete child\n            const children = this.getChildren();\n            children.some(function (child) {\n              if (child.getFullPath() === data.path) {\n                children.remove(child);\n                this.removeRelatedBindings(child);\n                return true;\n              }\n              return false;\n            }, this);\n          }\n          break;\n      }\n    },\n\n    _applyName(value, old) {\n      this.__fullPath = null;\n      if (value && (this.getDisplayName() === null || this.getDisplayName() === old)) {\n        // use name as default display name\n        this.setDisplayName(value);\n      }\n    },\n\n    getPath() {\n      if (!this.__path) {\n        let parentFolder = this.getParentFolder();\n        if (!parentFolder) {\n          parentFolder = '';\n        } else if (!parentFolder.endsWith('/')) {\n          parentFolder += '/';\n        }\n        this.__path = parentFolder;\n      }\n      return this.__path;\n    },\n\n    _onOpen(value) {\n      if (!this.isLoaded() && value) {\n        this.load();\n      }\n      this._maintainIcon();\n    },\n\n    _maintainIcon() {\n      if (!this.isOverrideIcon()) {\n        if (this.getType() === 'file') {\n          this.setIcon(cv.theme.dark.Images.getIcon('file', 18));\n        } else if (this.isTrash()) {\n          this.setIcon(cv.theme.dark.Images.getIcon('trash', 18));\n        } else if (this.isOpen()) {\n          this.setIcon(cv.theme.dark.Images.getIcon('folder-open', 18));\n        } else if (this.isMounted()) {\n          this.setIcon(cv.theme.dark.Images.getIcon('mounted-folder', 18));\n        } else {\n          this.setIcon(cv.theme.dark.Images.getIcon('folder', 18));\n        }\n      }\n    },\n\n    isConfigFile() {\n      return cv.ui.manager.model.FileItem.isConfigFile(this.getName());\n    },\n\n    _applyHasChildren(value) {\n      if (value === true && this.getChildren().length === 0) {\n        // add dummy child\n        this.getChildren().push(new cv.ui.manager.model.FileItem(''));\n      }\n    },\n\n    unload() {\n      this.setLoaded(false);\n      this.setLoading(false);\n      this.getChildren()\n        .removeAll()\n        .forEach(function (child) {\n          this.removeRelatedBindings(child);\n        }, this);\n    },\n\n    reload(callback, context) {\n      this.unload();\n      return this.load(callback, context);\n    },\n\n    addChild(child) {\n      const oldParent = child.getParent();\n      if (oldParent !== this) {\n        oldParent.getChildren().remove(child);\n        oldParent.removeRelatedBindings(child);\n      }\n      child.setParent(this);\n      if (child.getType() !== 'dir' || !child.isMounted()) {\n        // inherit the mounted state from the parent folder\n        this.bind('mounted', child, 'mounted');\n      }\n      this.getChildren().push(child);\n    },\n\n    _onGet(data) {\n      const children = this.getChildren();\n      children.removeAll().forEach(function (child) {\n        this.removeRelatedBindings(child);\n      }, this);\n      if (data) {\n        data.forEach(function (node) {\n          const child = new cv.ui.manager.model.FileItem(null, null, this);\n          if (Object.prototype.hasOwnProperty.call(node, 'children')) {\n            const nodeChildren = node.children;\n            delete node.children;\n            if (nodeChildren.length > 0) {\n              child.getChildren().replace(nodeChildren);\n              child.setLoaded(true);\n            }\n          }\n          child.set(node);\n          children.push(child);\n        }, this);\n      }\n      if (this.getFakeChildren()) {\n        children.append(this.getFakeChildren());\n      }\n      this.sortElements();\n\n      this.setLoaded(true);\n      if (this.__onLoadCallback) {\n        this.__onLoadCallback();\n      }\n      this.setLoading(false);\n    },\n\n    _onError(err) {\n      this.error(err);\n      cv.ui.manager.snackbar.Controller.error(err);\n      this.getChildren()\n        .removeAll()\n        .forEach(function (child) {\n          this.removeRelatedBindings(child);\n        }, this);\n      this.setLoaded(true);\n      if (this.__onLoadCallback) {\n        this.__onLoadCallback();\n      }\n      this.setLoading(false);\n    },\n\n    load(callback, context) {\n      // If currently loading, delay ready\n      if (this.getType() === 'file') {\n        // nothing to load\n        this.setLoaded(true);\n        return;\n      } else if (this.isFake()) {\n        this.setLoaded(true);\n        if (this.getFakeChildren()) {\n          this.getChildren().append(this.getFakeChildren());\n        }\n        return;\n      }\n      if (this.isLoading()) {\n        if (callback) {\n          this.addListenerOnce('changeLoading', callback, context);\n        }\n      } else if (this.isLoaded()) {\n        // If not done yet, resolve the child elements of this container\n        if (callback) {\n          callback.apply(context);\n        }\n      } else {\n        this.setLoading(true);\n        if (callback) {\n          this.__onLoadCallback = callback.bind(context || this);\n        }\n        cv.io.rest.Client.getFsClient().readSync(\n          { path: this.getFullPath() },\n          function (err, res) {\n            if (err) {\n              this._onError(err);\n            } else {\n              this._onGet(res);\n            }\n          },\n          this\n        );\n      }\n    },\n\n    /**\n     * Returns the complete path needed for the REST API  to identify this file\n     * @returns {null}\n     */\n    getFullPath() {\n      if (!this.__fullPath) {\n        this.__fullPath = this.getPath() + this.getName();\n      }\n      return this.__fullPath;\n    },\n\n    getBusTopic() {\n      return 'cv.manager.fs.' + this.getFullPath().replace(/\\//g, '.');\n    },\n\n    /**\n     * Returns a fake URI that can be used to identify the file.\n     * Used by monaco editor as model URI.\n     * @returns {Uri}\n     */\n    getUri() {\n      return 'cv://' + this.getFullPath();\n    },\n\n    /**\n     * Returns the path to this file for requests over HTTP (not the REST API)\n     *\n     * Note: Please be aware that this path does not work if the file is in a mounted folder\n     * like the demo configs. The backend handles those mounts transparently to the client. But\n     * because of that the client does not know the real path to the file.\n     *\n     * @returns {string}\n     */\n    getServerPath() {\n      if (!this.isMounted()) {\n        return qx.util.LibraryManager.getInstance().get('cv', 'resourceUri') + '/config/' + this.getFullPath();\n      }\n      return qx.util.LibraryManager.getInstance().get('cv', 'resourceUri') + '/' + this.getFullPath();\n    },\n\n    /**\n     *  Sort entries: folders first, files then\n     */\n    sortElements() {\n      const sortF = function (a, b) {\n        if (a.getType() === 'dir') {\n          if (b.getType() === 'dir') {\n            if (a.isTrash()) {\n              return 1;\n            } else if (b.isTrash()) {\n              return -1;\n            }\n            return a.getName().localeCompare(b.getName());\n          }\n          return -1;\n        } else if (b.getType() === 'dir') {\n          return 1;\n        }\n        return a.getName().localeCompare(b.getName());\n      };\n      this.getChildren().sort(sortF);\n    },\n\n    openPath(path) {\n      const parts = qx.lang.Type.isArray(path) ? path : path.split('/');\n      const relPath = parts.shift();\n      this.getChildren().some(function (child) {\n        if (child.getName() === relPath) {\n          child.load(function () {\n            child.setOpen(true);\n            if (parts.length > 0) {\n              child.openPath(parts);\n            }\n          }, this);\n          return true;\n        }\n        return false;\n      }, this);\n    },\n\n    _onChangeLocale: qx.core.Environment.select('qx.dynlocale', {\n      true() {\n        const content = this.getDisplayName();\n        if (content && content.translate) {\n          this.setDisplayName(content.translate());\n        }\n      },\n\n      false: null\n    })\n  },\n\n  /*\n  ***********************************************\n    DESTRUCTOR  \n  ***********************************************\n  */\n  destruct() {\n    this.__fullPath = null;\n  }\n});\n"
  ],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;EAAAA,EAAE,CAACC,SAAH,CAAaC,oBAAb,CAAkCC,aAAlC;;EAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;EAEA;AACA;AACA;EACAH,EAAE,CAACI,KAAH,CAASC,MAAT,CAAgB,8BAAhB,EAAgD;IAC9CC,MAAM,EAAEN,EAAE,CAACO,IAAH,CAAQC,MAD8B;IAE9CC,OAAO,EAAE,CAACT,EAAE,CAACU,IAAH,CAAQC,OAAR,CAAgBC,cAAjB,EAAiCC,EAAE,CAACC,EAAH,CAAMC,OAAN,CAAcC,OAAd,CAAsBC,iBAAvD,CAFqC;IAI9CC,SAAS,EAAE,CAACL,EAAE,CAACC,EAAH,CAAMC,OAAN,CAAcC,OAAd,CAAsBG,iBAAvB,CAJmC;;IAK9C;AACF;AACA;AACA;AACA;IACEC,SAV8C,qBAUpCC,IAVoC,EAU9BC,IAV8B,EAUxBC,MAVwB,EAUhBC,YAVgB,EAUF;MAC1C;MACA,KAAKC,YAAL,CAAkB,IAAIzB,EAAE,CAACU,IAAH,CAAQgB,KAAZ,EAAlB;;MACA,IAAIF,YAAJ,EAAkB;QAChB,KAAKG,eAAL,CAAqBH,YAArB;MACD;;MACD,IAAIF,IAAJ,EAAU;QACR,IAAI,CAACA,IAAI,CAACM,QAAL,CAAc,GAAd,CAAL,EAAyB;UACvBN,IAAI,IAAI,GAAR;QACD;;QACD,KAAKO,QAAL,GAAcP,IAAd;MACD;;MACD,IAAID,IAAJ,EAAU;QACR,KAAKS,OAAL,CAAaT,IAAb;MACD;;MACD,IAAIE,MAAJ,EAAY;QACV,KAAKQ,SAAL,CAAeR,MAAf;MACD;;MAC4C;QAC3CvB,EAAE,CAACgC,MAAH,CAAUC,OAAV,CAAkBC,WAAlB,GAAgCC,WAAhC,CAA4C,cAA5C,EAA4D,KAAKC,eAAjE,EAAkF,IAAlF;MACD;IACF,CA/B6C;;IAiC9C;AACF;AACA;AACA;AACA;IACEC,OAAO,EAAE;MACPC,IAAI,EAAE,IADC;MAEPC,aAAa,EAAE,IAFR;MAGPC,qBAAqB,EAAE,IAHhB;MAIPC,cAAc,EAAE;QACd,KAAK,OADS;QAEdC,KAAK,EAAE;MAFO,CAJT;MASPC,YATO,wBASMrB,IATN,EASY;QACjB,OAAO,qBAAqBsB,IAArB,CAA0BtB,IAA1B,CAAP;MACD,CAXM;MAaPuB,aAbO,yBAaOC,QAbP,EAaiB;QACtB,IAAMC,KAAK,GAAG,4BAA4BC,IAA5B,CAAiCF,QAAjC,CAAd;;QACA,IAAIC,KAAJ,EAAW;UACT,OAAOA,KAAK,CAAC,CAAD,CAAZ;QACD;;QACD,OAAO,IAAP;MACD,CAnBM;MAqBPE,WArBO,yBAqBO;QACZ,IAAI,CAAC,KAAKV,aAAV,EAAyB;UACvB,KAAKA,aAAL,GAAqB,IAAI1B,EAAE,CAACC,EAAH,CAAMC,OAAN,CAAcmC,KAAd,CAAoBC,QAAxB,CACnB,iBADmB,EAEnB,EAFmB,EAGnBtC,EAAE,CAACC,EAAH,CAAMC,OAAN,CAAcmC,KAAd,CAAoBC,QAApB,CAA6Bb,IAHV,EAInBc,GAJmB,CAIf;YACJC,IAAI,EAAE,MADF;YAEJC,YAAY,EAAE,IAFV;YAGJC,SAAS,EAAE,KAHP;YAIJC,QAAQ,EAAE,IAJN;YAKJC,IAAI,EAAE,IALF;YAMJC,MAAM,EAAE,IANJ;YAOJC,WAAW,EAAE,KAPT;YAQJC,IAAI,EAAE,IARF;YASJC,IAAI,EAAEhD,EAAE,CAACiD,KAAH,CAASC,IAAT,CAAcC,MAAd,CAAqBC,OAArB,CAA6B,OAA7B,EAAsC,EAAtC;UATF,CAJe,CAArB;QAeD;;QACD,OAAO,KAAK1B,aAAZ;MACD,CAxCM;MA0CP2B,mBA1CO,iCA0Ce;QACpB,IAAI,CAAC,KAAK1B,qBAAV,EAAiC;UAC/B,KAAKA,qBAAL,GAA6B,IAAI3B,EAAE,CAACC,EAAH,CAAMC,OAAN,CAAcmC,KAAd,CAAoBC,QAAxB,CAC3B,YAD2B,EAE3B,EAF2B,EAG3BtC,EAAE,CAACC,EAAH,CAAMC,OAAN,CAAcmC,KAAd,CAAoBC,QAApB,CAA6Bb,IAHF,EAI3Bc,GAJ2B,CAIvB;YACJO,WAAW,EAAE,KADT;YAEJD,MAAM,EAAE,IAFJ;YAGJF,QAAQ,EAAE,IAHN;YAIJD,SAAS,EAAE,IAJP;YAKJD,YAAY,EAAE,IALV;YAMJO,IAAI,EAAEhD,EAAE,CAACiD,KAAH,CAASC,IAAT,CAAcC,MAAd,CAAqBC,OAArB,CAA6B,eAA7B,EAA8C,EAA9C,CANF;YAOJZ,IAAI,EAAE,MAPF;YAQJO,IAAI,EAAE,IARF;YASJO,WAAW,EAAEnE,EAAE,CAACgC,MAAH,CAAUC,OAAV,CAAkBmC,EAAlB,CAAqB,sBAArB;UATT,CAJuB,CAA7B;QAeD;;QACD,OAAO,KAAK5B,qBAAZ;MACD,CA7DM;MA+DP6B,gBA/DO,4BA+DUC,MA/DV,EA+DkB;QACvB,OAAO,KAAK7B,cAAL,CAAoB6B,MAAM,CAACC,WAAP,EAApB,CAAP;MACD;IAjEM,CAtCqC;;IA0G9C;AACF;AACA;AACA;AACA;IACEC,UAAU,EAAE;MACVf,IAAI,EAAE;QACJgB,KAAK,EAAE,SADH;QAEJC,KAAK,EAAE,YAFH;QAGJC,KAAK,EAAE,SAHH;QAIJC,IAAI,EAAE;MAJF,CADI;MAQVlB,MAAM,EAAE;QACNe,KAAK,EAAE,SADD;QAENC,KAAK,EAAE,cAFD;QAGNE,IAAI,EAAE;MAHA,CARE;MAcVC,OAAO,EAAE;QACPJ,KAAK,EAAE,SADA;QAEPC,KAAK,EAAE,eAFA;QAGPE,IAAI,EAAE;MAHC,CAdC;MAoBVrD,MAAM,EAAE;QACNmD,KAAK,EAAE,cADD;QAENE,IAAI,EAAE;MAFA,CApBE;MAyBVE,QAAQ,EAAE;QACRL,KAAK,EAAE,eADC;QAERC,KAAK,EAAE,gBAFC;QAGRC,KAAK,EAAE,wBAHC;QAIRI,YAAY,EAAE;MAJN,CAzBA;MAgCVvD,YAAY,EAAE;QACZiD,KAAK,EAAE,OADK;QAEZO,QAAQ,EAAE;MAFE,CAhCJ;MAqCVb,WAAW,EAAE;QACXM,KAAK,EAAE,QADI;QAEXG,IAAI,EAAE,EAFK;QAGXF,KAAK,EAAE;MAHI,CArCH;;MA2CV;AACJ;AACA;MACId,IAAI,EAAE;QACJa,KAAK,EAAE,SADH;QAEJG,IAAI,EAAE,KAFF;QAGJF,KAAK,EAAE;MAHH,CA9CI;MAoDVpB,YAAY,EAAE;QACZmB,KAAK,EAAE,SADK;QAEZG,IAAI,EAAE;MAFM,CApDJ;MAyDVf,IAAI,EAAE;QACJY,KAAK,EAAE,QADH;QAEJO,QAAQ,EAAE,IAFN;QAGJN,KAAK,EAAE;MAHH,CAzDI;MA+DVO,IAAI,EAAE;QACJR,KAAK,EAAE,QADH;QAEJO,QAAQ,EAAE;MAFN,CA/DI;MAoEVE,OAAO,EAAE;QACPT,KAAK,EAAE,SADA;QAEPG,IAAI,EAAE,KAFC;QAGPF,KAAK,EAAE;MAHA,CApEC;;MA0EV;AACJ;AACA;AACA;MACIS,OAAO,EAAE;QACPV,KAAK,EAAE,QADA;QAEPO,QAAQ,EAAE,IAFH;QAGPN,KAAK,EAAE;MAHA,CA9EC;;MAoFV;AACJ;AACA;MACIU,SAAS,EAAE;QACTX,KAAK,EAAE,SADE;QAETG,IAAI,EAAE,KAFG;QAGTF,KAAK,EAAE;MAHE,CAvFD;;MA6FV;AACJ;AACA;MACIW,KAAK,EAAE;QACLZ,KAAK,EAAE,SADF;QAELG,IAAI,EAAE,IAFD;QAGLF,KAAK,EAAE;MAHF,CAhGG;;MAsGV;AACJ;AACA;MACIY,WAAW,EAAE;QACXb,KAAK,EAAE,SADI;QAEXG,IAAI,EAAE,KAFK;QAGXF,KAAK,EAAE;MAHI,CAzGH;;MA+GV;AACJ;AACA;AACA;MACIa,OAAO,EAAE;QACPd,KAAK,EAAE,QADA;QAEPO,QAAQ,EAAE;MAFH,CAnHC;MAwHVQ,QAAQ,EAAE;QACRf,KAAK,EAAE,SADC;QAERG,IAAI,EAAE,KAFE;QAGRF,KAAK,EAAE;MAHC,CAxHA;MA8HV;MAEAf,WAAW,EAAE;QACXc,KAAK,EAAE,SADI;QAEXC,KAAK,EAAE,mBAFI;QAGXC,KAAK,EAAE,mBAHI;QAIXC,IAAI,EAAE;MAJK,CAhIH;MAuIVvD,IAAI,EAAE;QACJoD,KAAK,EAAE,QADH;QAEJC,KAAK,EAAE,YAFH;QAGJE,IAAI,EAAE,EAHF;QAIJD,KAAK,EAAE;MAJH,CAvII;MA8IVtB,IAAI,EAAE;QACJoB,KAAK,EAAE,CAAC,KAAD,EAAQ,MAAR,CADH;QAEJgB,SAAS,EAAE,cAFP;QAGJT,QAAQ,EAAE,IAHN;QAIJL,KAAK,EAAE;MAJH,CA9II;MAqJVe,YAAY,EAAE;QACZjB,KAAK,EAAE,QADK;QAEZO,QAAQ,EAAE;MAFE,CArJJ;MA0JVxB,QAAQ,EAAE;QACRiB,KAAK,EAAE,SADC;QAERG,IAAI,EAAE,KAFE;QAGRF,KAAK,EAAE;MAHC,CA1JA;MAgKVnB,SAAS,EAAE;QACTkB,KAAK,EAAE,SADE;QAETG,IAAI,EAAE,KAFG;QAGTF,KAAK,EAAE;MAHE,CAhKD;MAsKViB,OAAO,EAAE;QACPlB,KAAK,EAAE,SADA;QAEPG,IAAI,EAAE,KAFC;QAGPF,KAAK,EAAE;MAHA,CAtKC;MA4KVkB,KAAK,EAAE;QACLnB,KAAK,EAAE,SADF;QAELG,IAAI,EAAE,KAFD;QAGLF,KAAK,EAAE;MAHF,CA5KG;MAkLVmB,OAAO,EAAE;QACPpB,KAAK,EAAE,SADA;QAEPG,IAAI,EAAE,KAFC;QAGPF,KAAK,EAAE;MAHA;IAlLC,CA/GkC;;IAwS9C;AACF;AACA;AACA;AACA;IACEoB,OAAO,EAAE;MACPjE,QAAM,EAAE,IADD;MAEPkE,QAAU,EAAE,IAFL;MAGPC,QAAgB,EAAE,IAHX;MAKPC,YALO,wBAKM5E,IALN,EAKY;QACjB,OAAOA,IAAI,CAAC6E,WAAL,EAAP;MACD,CAPM;MASPC,SATO,qBASG7E,IATH,EASS;QACd,OAAO,KAAKiD,WAAL,OAAuBjD,IAA9B;MACD,CAXM;MAaP8E,gBAbO,4BAaUC,EAbV,EAac;QACnB,IAAI,KAAKC,MAAL,EAAJ,EAAmB;UACjB;QACD;;QACD,IAAM5F,IAAI,GAAG2F,EAAE,CAACE,OAAH,EAAb;;QACA,QAAQ7F,IAAI,CAAC8F,MAAb;UACE,KAAK,OAAL;YACE,KAAKC,MAAL;YACA;;UAEF,KAAK,OAAL;YACE,IAAI,KAAKC,OAAL,OAAmB,KAAnB,IAA4BhG,IAAI,CAACY,IAAL,CAAUqF,UAAV,CAAqB,KAAKpC,WAAL,EAArB,CAAhC,EAA0E;cACxE,KAAKkC,MAAL;YACD;;YACD;;UAEF,KAAK,SAAL;YACE,IAAI/F,IAAI,CAACY,IAAL,KAAc,KAAKiD,WAAL,EAAlB,EAAsC;cACpC;cACA,KAAKqC,OAAL;YACD,CAHD,MAGO,IAAI,KAAKF,OAAL,OAAmB,KAAnB,IAA4BhG,IAAI,CAACY,IAAL,CAAUqF,UAAV,CAAqB,KAAKpC,WAAL,EAArB,CAAhC,EAA0E;cAC/E;cACA,IAAMO,QAAQ,GAAG,KAAK+B,WAAL,EAAjB;cACA/B,QAAQ,CAACgC,IAAT,CAAc,UAAUC,KAAV,EAAiB;gBAC7B,IAAIA,KAAK,CAACxC,WAAN,OAAwB7D,IAAI,CAACY,IAAjC,EAAuC;kBACrCwD,QAAQ,CAACkC,MAAT,CAAgBD,KAAhB;kBACA,KAAKE,qBAAL,CAA2BF,KAA3B;kBACA,OAAO,IAAP;gBACD;;gBACD,OAAO,KAAP;cACD,CAPD,EAOG,IAPH;YAQD;;YACD;QA3BJ;MA6BD,CA/CM;MAiDPG,UAjDO,sBAiDIC,KAjDJ,EAiDWC,GAjDX,EAiDgB;QACrB,KAAKrB,QAAL,GAAkB,IAAlB;;QACA,IAAIoB,KAAK,KAAK,KAAKE,cAAL,OAA0B,IAA1B,IAAkC,KAAKA,cAAL,OAA0BD,GAAjE,CAAT,EAAgF;UAC9E;UACA,KAAKE,cAAL,CAAoBH,KAApB;QACD;MACF,CAvDM;MAyDPI,OAzDO,qBAyDG;QACR,IAAI,CAAC,KAAK1F,QAAV,EAAkB;UAChB,IAAI6D,YAAY,GAAG,KAAK8B,eAAL,EAAnB;;UACA,IAAI,CAAC9B,YAAL,EAAmB;YACjBA,YAAY,GAAG,EAAf;UACD,CAFD,MAEO,IAAI,CAACA,YAAY,CAAC9D,QAAb,CAAsB,GAAtB,CAAL,EAAiC;YACtC8D,YAAY,IAAI,GAAhB;UACD;;UACD,KAAK7D,QAAL,GAAc6D,YAAd;QACD;;QACD,OAAO,KAAK7D,QAAZ;MACD,CApEM;MAsEP4F,OAtEO,mBAsECN,KAtED,EAsEQ;QACb,IAAI,CAAC,KAAKO,QAAL,EAAD,IAAoBP,KAAxB,EAA+B;UAC7B,KAAKQ,IAAL;QACD;;QACD,KAAKC,aAAL;MACD,CA3EM;MA6EPA,aA7EO,2BA6ES;QACd,IAAI,CAAC,KAAKC,cAAL,EAAL,EAA4B;UAC1B,IAAI,KAAKnB,OAAL,OAAmB,MAAvB,EAA+B;YAC7B,KAAKoB,OAAL,CAAajH,EAAE,CAACiD,KAAH,CAASC,IAAT,CAAcC,MAAd,CAAqBC,OAArB,CAA6B,MAA7B,EAAqC,EAArC,CAAb;UACD,CAFD,MAEO,IAAI,KAAK8D,OAAL,EAAJ,EAAoB;YACzB,KAAKD,OAAL,CAAajH,EAAE,CAACiD,KAAH,CAASC,IAAT,CAAcC,MAAd,CAAqBC,OAArB,CAA6B,OAA7B,EAAsC,EAAtC,CAAb;UACD,CAFM,MAEA,IAAI,KAAK+D,MAAL,EAAJ,EAAmB;YACxB,KAAKF,OAAL,CAAajH,EAAE,CAACiD,KAAH,CAASC,IAAT,CAAcC,MAAd,CAAqBC,OAArB,CAA6B,aAA7B,EAA4C,EAA5C,CAAb;UACD,CAFM,MAEA,IAAI,KAAKgE,SAAL,EAAJ,EAAsB;YAC3B,KAAKH,OAAL,CAAajH,EAAE,CAACiD,KAAH,CAASC,IAAT,CAAcC,MAAd,CAAqBC,OAArB,CAA6B,gBAA7B,EAA+C,EAA/C,CAAb;UACD,CAFM,MAEA;YACL,KAAK6D,OAAL,CAAajH,EAAE,CAACiD,KAAH,CAASC,IAAT,CAAcC,MAAd,CAAqBC,OAArB,CAA6B,QAA7B,EAAuC,EAAvC,CAAb;UACD;QACF;MACF,CA3FM;MA6FPtB,YA7FO,0BA6FQ;QACb,OAAO9B,EAAE,CAACC,EAAH,CAAMC,OAAN,CAAcmC,KAAd,CAAoBC,QAApB,CAA6BR,YAA7B,CAA0C,KAAKuF,OAAL,EAA1C,CAAP;MACD,CA/FM;MAiGPC,iBAjGO,6BAiGWhB,KAjGX,EAiGkB;QACvB,IAAIA,KAAK,KAAK,IAAV,IAAkB,KAAKN,WAAL,GAAmBuB,MAAnB,KAA8B,CAApD,EAAuD;UACrD;UACA,KAAKvB,WAAL,GAAmBwB,IAAnB,CAAwB,IAAIxH,EAAE,CAACC,EAAH,CAAMC,OAAN,CAAcmC,KAAd,CAAoBC,QAAxB,CAAiC,EAAjC,CAAxB;QACD;MACF,CAtGM;MAwGPmF,MAxGO,oBAwGE;QACP,KAAKC,SAAL,CAAe,KAAf;QACA,KAAKC,UAAL,CAAgB,KAAhB;QACA,KAAK3B,WAAL,GACG4B,SADH,GAEGC,OAFH,CAEW,UAAU3B,KAAV,EAAiB;UACxB,KAAKE,qBAAL,CAA2BF,KAA3B;QACD,CAJH,EAIK,IAJL;MAKD,CAhHM;MAkHPN,MAlHO,kBAkHAkC,QAlHA,EAkHUC,OAlHV,EAkHmB;QACxB,KAAKN,MAAL;QACA,OAAO,KAAKX,IAAL,CAAUgB,QAAV,EAAoBC,OAApB,CAAP;MACD,CArHM;MAuHPC,QAvHO,oBAuHE9B,KAvHF,EAuHS;QACd,IAAM+B,SAAS,GAAG/B,KAAK,CAACgC,SAAN,EAAlB;;QACA,IAAID,SAAS,KAAK,IAAlB,EAAwB;UACtBA,SAAS,CAACjC,WAAV,GAAwBG,MAAxB,CAA+BD,KAA/B;UACA+B,SAAS,CAAC7B,qBAAV,CAAgCF,KAAhC;QACD;;QACDA,KAAK,CAAChF,SAAN,CAAgB,IAAhB;;QACA,IAAIgF,KAAK,CAACL,OAAN,OAAoB,KAApB,IAA6B,CAACK,KAAK,CAACkB,SAAN,EAAlC,EAAqD;UACnD;UACA,KAAKe,IAAL,CAAU,SAAV,EAAqBjC,KAArB,EAA4B,SAA5B;QACD;;QACD,KAAKF,WAAL,GAAmBwB,IAAnB,CAAwBtB,KAAxB;MACD,CAnIM;MAqIPkC,MArIO,kBAqIAvI,IArIA,EAqIM;QACX,IAAMoE,QAAQ,GAAG,KAAK+B,WAAL,EAAjB;QACA/B,QAAQ,CAAC2D,SAAT,GAAqBC,OAArB,CAA6B,UAAU3B,KAAV,EAAiB;UAC5C,KAAKE,qBAAL,CAA2BF,KAA3B;QACD,CAFD,EAEG,IAFH;;QAGA,IAAIrG,IAAJ,EAAU;UACRA,IAAI,CAACgI,OAAL,CAAa,UAAUQ,IAAV,EAAgB;YAC3B,IAAMnC,KAAK,GAAG,IAAIlG,EAAE,CAACC,EAAH,CAAMC,OAAN,CAAcmC,KAAd,CAAoBC,QAAxB,CAAiC,IAAjC,EAAuC,IAAvC,EAA6C,IAA7C,CAAd;;YACA,IAAI3C,MAAM,CAAC2I,SAAP,CAAiBC,cAAjB,CAAgCC,IAAhC,CAAqCH,IAArC,EAA2C,UAA3C,CAAJ,EAA4D;cAC1D,IAAMI,YAAY,GAAGJ,IAAI,CAACpE,QAA1B;cACA,OAAOoE,IAAI,CAACpE,QAAZ;;cACA,IAAIwE,YAAY,CAAClB,MAAb,GAAsB,CAA1B,EAA6B;gBAC3BrB,KAAK,CAACF,WAAN,GAAoB0C,OAApB,CAA4BD,YAA5B;gBACAvC,KAAK,CAACwB,SAAN,CAAgB,IAAhB;cACD;YACF;;YACDxB,KAAK,CAAC3D,GAAN,CAAU8F,IAAV;YACApE,QAAQ,CAACuD,IAAT,CAActB,KAAd;UACD,CAZD,EAYG,IAZH;QAaD;;QACD,IAAI,KAAKyC,eAAL,EAAJ,EAA4B;UAC1B1E,QAAQ,CAAC2E,MAAT,CAAgB,KAAKD,eAAL,EAAhB;QACD;;QACD,KAAKE,YAAL;QAEA,KAAKnB,SAAL,CAAe,IAAf;;QACA,IAAI,KAAKvC,QAAT,EAA2B;UACzB,KAAKA,QAAL;QACD;;QACD,KAAKwC,UAAL,CAAgB,KAAhB;MACD,CAnKM;MAqKPmB,QArKO,oBAqKEC,GArKF,EAqKO;QACZ,KAAKC,KAAL,CAAWD,GAAX;QACA/I,EAAE,CAACC,EAAH,CAAMC,OAAN,CAAc+I,QAAd,CAAuBC,UAAvB,CAAkCF,KAAlC,CAAwCD,GAAxC;QACA,KAAK/C,WAAL,GACG4B,SADH,GAEGC,OAFH,CAEW,UAAU3B,KAAV,EAAiB;UACxB,KAAKE,qBAAL,CAA2BF,KAA3B;QACD,CAJH,EAIK,IAJL;QAKA,KAAKwB,SAAL,CAAe,IAAf;;QACA,IAAI,KAAKvC,QAAT,EAA2B;UACzB,KAAKA,QAAL;QACD;;QACD,KAAKwC,UAAL,CAAgB,KAAhB;MACD,CAlLM;MAoLPb,IApLO,gBAoLFgB,QApLE,EAoLQC,OApLR,EAoLiB;QACtB;QACA,IAAI,KAAKlC,OAAL,OAAmB,MAAvB,EAA+B;UAC7B;UACA,KAAK6B,SAAL,CAAe,IAAf;UACA;QACD,CAJD,MAIO,IAAI,KAAKjC,MAAL,EAAJ,EAAmB;UACxB,KAAKiC,SAAL,CAAe,IAAf;;UACA,IAAI,KAAKiB,eAAL,EAAJ,EAA4B;YAC1B,KAAK3C,WAAL,GAAmB4C,MAAnB,CAA0B,KAAKD,eAAL,EAA1B;UACD;;UACD;QACD;;QACD,IAAI,KAAKQ,SAAL,EAAJ,EAAsB;UACpB,IAAIrB,QAAJ,EAAc;YACZ,KAAKsB,eAAL,CAAqB,eAArB,EAAsCtB,QAAtC,EAAgDC,OAAhD;UACD;QACF,CAJD,MAIO,IAAI,KAAKlB,QAAL,EAAJ,EAAqB;UAC1B;UACA,IAAIiB,QAAJ,EAAc;YACZA,QAAQ,CAAChE,KAAT,CAAeiE,OAAf;UACD;QACF,CALM,MAKA;UACL,KAAKJ,UAAL,CAAgB,IAAhB;;UACA,IAAIG,QAAJ,EAAc;YACZ,KAAK3C,QAAL,GAAwB2C,QAAQ,CAACK,IAAT,CAAcJ,OAAO,IAAI,IAAzB,CAAxB;UACD;;UACD/H,EAAE,CAACqJ,EAAH,CAAMC,IAAN,CAAWC,MAAX,CAAkBC,WAAlB,GAAgCC,QAAhC,CACE;YAAEhJ,IAAI,EAAE,KAAKiD,WAAL;UAAR,CADF,EAEE,UAAUqF,GAAV,EAAeW,GAAf,EAAoB;YAClB,IAAIX,GAAJ,EAAS;cACP,KAAKD,QAAL,CAAcC,GAAd;YACD,CAFD,MAEO;cACL,KAAKX,MAAL,CAAYsB,GAAZ;YACD;UACF,CARH,EASE,IATF;QAWD;MACF,CA3NM;;MA6NP;AACJ;AACA;AACA;MACIhG,WAjOO,yBAiOO;QACZ,IAAI,CAAC,KAAKwB,QAAV,EAAsB;UACpB,KAAKA,QAAL,GAAkB,KAAKwB,OAAL,KAAiB,KAAKW,OAAL,EAAnC;QACD;;QACD,OAAO,KAAKnC,QAAZ;MACD,CAtOM;MAwOPyE,WAxOO,yBAwOO;QACZ,OAAO,mBAAmB,KAAKjG,WAAL,GAAmBgF,OAAnB,CAA2B,KAA3B,EAAkC,GAAlC,CAA1B;MACD,CA1OM;;MA4OP;AACJ;AACA;AACA;AACA;MACIkB,MAjPO,oBAiPE;QACP,OAAO,UAAU,KAAKlG,WAAL,EAAjB;MACD,CAnPM;;MAqPP;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;MACImG,aA9PO,2BA8PS;QACd,IAAI,CAAC,KAAKzC,SAAL,EAAL,EAAuB;UACrB,OAAOjI,EAAE,CAAC2K,IAAH,CAAQC,cAAR,CAAuB1I,WAAvB,GAAqC2I,GAArC,CAAyC,IAAzC,EAA+C,aAA/C,IAAgE,UAAhE,GAA6E,KAAKtG,WAAL,EAApF;QACD;;QACD,OAAOvE,EAAE,CAAC2K,IAAH,CAAQC,cAAR,CAAuB1I,WAAvB,GAAqC2I,GAArC,CAAyC,IAAzC,EAA+C,aAA/C,IAAgE,GAAhE,GAAsE,KAAKtG,WAAL,EAA7E;MACD,CAnQM;;MAqQP;AACJ;AACA;MACImF,YAxQO,0BAwQQ;QACb,IAAMoB,KAAK,GAAG,SAARA,KAAQ,CAAUC,CAAV,EAAaC,CAAb,EAAgB;UAC5B,IAAID,CAAC,CAACrE,OAAF,OAAgB,KAApB,EAA2B;YACzB,IAAIsE,CAAC,CAACtE,OAAF,OAAgB,KAApB,EAA2B;cACzB,IAAIqE,CAAC,CAAChD,OAAF,EAAJ,EAAiB;gBACf,OAAO,CAAP;cACD,CAFD,MAEO,IAAIiD,CAAC,CAACjD,OAAF,EAAJ,EAAiB;gBACtB,OAAO,CAAC,CAAR;cACD;;cACD,OAAOgD,CAAC,CAAC7C,OAAF,GAAY+C,aAAZ,CAA0BD,CAAC,CAAC9C,OAAF,EAA1B,CAAP;YACD;;YACD,OAAO,CAAC,CAAR;UACD,CAVD,MAUO,IAAI8C,CAAC,CAACtE,OAAF,OAAgB,KAApB,EAA2B;YAChC,OAAO,CAAP;UACD;;UACD,OAAOqE,CAAC,CAAC7C,OAAF,GAAY+C,aAAZ,CAA0BD,CAAC,CAAC9C,OAAF,EAA1B,CAAP;QACD,CAfD;;QAgBA,KAAKrB,WAAL,GAAmBqE,IAAnB,CAAwBJ,KAAxB;MACD,CA1RM;MA4RPK,QA5RO,oBA4RE7J,IA5RF,EA4RQ;QACb,IAAM8J,KAAK,GAAGpL,EAAE,CAACqL,IAAH,CAAQC,IAAR,CAAaC,OAAb,CAAqBjK,IAArB,IAA6BA,IAA7B,GAAoCA,IAAI,CAACkK,KAAL,CAAW,GAAX,CAAlD;QACA,IAAMC,OAAO,GAAGL,KAAK,CAACM,KAAN,EAAhB;QACA,KAAK7E,WAAL,GAAmBC,IAAnB,CAAwB,UAAUC,KAAV,EAAiB;UACvC,IAAIA,KAAK,CAACmB,OAAN,OAAoBuD,OAAxB,EAAiC;YAC/B1E,KAAK,CAACY,IAAN,CAAW,YAAY;cACrBZ,KAAK,CAAC4E,OAAN,CAAc,IAAd;;cACA,IAAIP,KAAK,CAAChD,MAAN,GAAe,CAAnB,EAAsB;gBACpBrB,KAAK,CAACoE,QAAN,CAAeC,KAAf;cACD;YACF,CALD,EAKG,IALH;YAMA,OAAO,IAAP;UACD;;UACD,OAAO,KAAP;QACD,CAXD,EAWG,IAXH;MAYD,CA3SM;MA6SPhJ,eAAe,EAAEpC,EAAE,CAACO,IAAH,CAAQqL,WAAR,CAAoBC,MAApB,CAA2B,cAA3B,EAA2C;QAAA,yBACnD;UACL,IAAMtG,OAAO,GAAG,KAAK8B,cAAL,EAAhB;;UACA,IAAI9B,OAAO,IAAIA,OAAO,CAACuG,SAAvB,EAAkC;YAChC,KAAKxE,cAAL,CAAoB/B,OAAO,CAACuG,SAAR,EAApB;UACD;QACF,CANyD;QAQ1D,SAAO;MARmD,CAA3C;IA7SV,CA7SqC;;IAsmB9C;AACF;AACA;AACA;AACA;IACEC,QA3mB8C,sBA2mBnC;MACT,KAAKhG,QAAL,GAAkB,IAAlB;IACD;EA7mB6C,CAAhD;EAtBAlF,EAAE,CAACC,EAAH,CAAMC,OAAN,CAAcmC,KAAd,CAAoBC,QAApB,CAA6BhD,aAA7B,GAA6CA,aAA7C"
}