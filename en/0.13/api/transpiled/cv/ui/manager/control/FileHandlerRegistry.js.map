{
  "version": 3,
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "extend",
    "core",
    "Object",
    "type",
    "construct",
    "__registry",
    "__defaults",
    "registerFileHandler",
    "RegExp",
    "cv",
    "ui",
    "manager",
    "viewer",
    "Image",
    "SUPPORTED_FILES",
    "join",
    "Config",
    "Icons",
    "Folder",
    "Start",
    "editor",
    "Source",
    "Tree",
    "preview",
    "model",
    "CompareFiles",
    "Diff",
    "Preferences",
    "getInstance",
    "addListener",
    "_onChangesDefaultConfigEditor",
    "members",
    "selector",
    "clazz",
    "options",
    "config",
    "assign",
    "Clazz",
    "instance",
    "isClass",
    "instanceOf",
    "selectorId",
    "classname",
    "priority",
    "lang",
    "Type",
    "isRegExp",
    "regex",
    "toString",
    "isFunction",
    "name",
    "isString",
    "includes",
    "fullPath",
    "fileName",
    "getFileHandler",
    "file",
    "handlers",
    "defaultHandler",
    "keys",
    "some",
    "key",
    "test",
    "getFullPath",
    "isTemporary",
    "noTemporaryFiles",
    "isWriteable",
    "noReadOnlyFiles",
    "getFileHandlerById",
    "forEach",
    "__canHandle",
    "push",
    "length",
    "isFake",
    "getDisplayName",
    "split",
    "sort",
    "a",
    "b",
    "handlerId",
    "hasFileHandler",
    "setDefault",
    "getDefaultConfigEditor",
    "DEFAULT_FOR",
    "getName",
    "toLowerCase",
    "getAllFileHandlers",
    "filter",
    "map",
    "destruct",
    "dispose",
    "removeListener",
    "control",
    "FileHandlerRegistry"
  ],
  "sources": [
    "/home/runner/work/CometVisu/CometVisu/source/class/cv/ui/manager/control/FileHandlerRegistry.js"
  ],
  "sourcesContent": [
    "/* FileHandlerRegistry.js\n *\n * copyright (c) 2010-2022, Christian Mayer and the CometVisu contributers.\n *\n * This program is free software; you can redistribute it and/or modify it\n * under the terms of the GNU General Public License as published by the Free\n * Software Foundation; either version 3 of the License, or (at your option)\n * any later version.\n *\n * This program is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for\n * more details.\n *\n * You should have received a copy of the GNU General Public License along\n * with this program; if not, write to the Free Software Foundation, Inc.,\n * 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA\n */\n\n/**\n * Central registry for all available file editors/viewers.\n */\nqx.Class.define('cv.ui.manager.control.FileHandlerRegistry', {\n  extend: qx.core.Object,\n  type: 'singleton',\n\n  /*\n  ***********************************************\n    CONSTRUCTOR\n  ***********************************************\n  */\n  construct() {\n    super();\n    this.__registry = {};\n    this.__defaults = [];\n\n    // register viewers\n    this.registerFileHandler(\n      new RegExp('\\\\.(' + cv.ui.manager.viewer.Image.SUPPORTED_FILES.join('|') + ')$', 'i'),\n\n      cv.ui.manager.viewer.Image,\n      { type: 'view' }\n    );\n\n    this.registerFileHandler(cv.ui.manager.viewer.Config.SUPPORTED_FILES, cv.ui.manager.viewer.Config, {\n      type: 'view'\n    });\n\n    this.registerFileHandler(cv.ui.manager.viewer.Icons.SUPPORTED_FILES, cv.ui.manager.viewer.Icons, { type: 'view' });\n\n    this.registerFileHandler(cv.ui.manager.viewer.Folder.SUPPORTED_FILES, cv.ui.manager.viewer.Folder, {\n      type: 'view'\n    });\n\n    this.registerFileHandler(null, cv.ui.manager.Start, { type: 'view' });\n\n    // register the basic editors\n    this.registerFileHandler(cv.ui.manager.editor.Source.SUPPORTED_FILES, cv.ui.manager.editor.Source, {\n      type: 'edit'\n    });\n\n    this.registerFileHandler(cv.ui.manager.editor.Tree.SUPPORTED_FILES, cv.ui.manager.editor.Tree, {\n      preview: false,\n      type: 'edit'\n    });\n\n    this.registerFileHandler(cv.ui.manager.model.CompareFiles, cv.ui.manager.editor.Diff, { type: 'view' });\n\n    this.registerFileHandler('hidden.php', cv.ui.manager.editor.Config, {\n      type: 'edit'\n    });\n\n    cv.ui.manager.model.Preferences.getInstance().addListener(\n      'changeDefaultConfigEditor',\n      this._onChangesDefaultConfigEditor,\n      this\n    );\n\n    this._onChangesDefaultConfigEditor();\n  },\n\n  /*\n  ***********************************************\n    MEMBERS\n  ***********************************************\n  */\n  members: {\n    __registry: null,\n    __defaults: null,\n\n    /**\n     * Registers an editor for a specific file, that is identified by the given selector.\n     * @param selector {String|RegExp|Class|Function|null} filename-/path or regular expression. If null this is a special handler that must be loaded manually (like cv.ui.manager.Start)\n     * @param clazz {qx.ui.core.Widget} widget class that handles those type of files\n     * @param options {Map?} additional options to store in the registry\n     */\n    registerFileHandler(selector, clazz, options) {\n      if (qx.core.Environment.get('qx.debug')) {\n        qx.core.Assert.assertTrue(qx.Interface.classImplements(clazz, cv.ui.manager.editor.IEditor));\n      }\n      const config = Object.assign(\n        {\n          Clazz: clazz,\n          instance: null\n        },\n\n        options || {}\n      );\n\n      if (qx.Class.isClass(selector)) {\n        config.instanceOf = selector;\n        config.selectorId = 'instanceOf:' + selector.classname;\n        // highest priority\n        config.priority = 0;\n      } else if (qx.lang.Type.isRegExp(selector)) {\n        config.regex = selector;\n        config.selectorId = 'regex:' + selector.toString();\n        config.priority = 4;\n      } else if (qx.lang.Type.isFunction(selector)) {\n        config.selectorId = 'function:' + selector.name;\n        config.priority = 3;\n        config.function = selector;\n      } else if (qx.lang.Type.isString(selector)) {\n        // simple file matcher\n        if (selector.includes('/')) {\n          config.fullPath = selector;\n          config.selectorId = 'fullPath:' + selector;\n          config.priority = 1;\n        } else {\n          config.fileName = selector;\n          config.selectorId = 'fileName:' + selector;\n          config.priority = 2;\n        }\n      } else {\n        config.selectorId = 'none';\n        config.priority = 10;\n      }\n      this.__registry[clazz.classname] = config;\n    },\n\n    getFileHandler(file, type) {\n      const handlers = [];\n      if (!(file instanceof cv.ui.manager.model.CompareFiles)) {\n        // check if there is a default first\n        let defaultHandler;\n        Object.keys(this.__defaults).some(function (key) {\n          if (\n            this.__defaults[key].regex.test(file.getFullPath()) &&\n            (!file.isTemporary() || !this.__defaults[key].noTemporaryFiles) &&\n            (file.isWriteable() || !this.__defaults[key].noReadOnlyFiles)\n          ) {\n            if (type) {\n              const config = this.getFileHandlerById(this.__defaults[key].clazz.classname);\n\n              if (config.type === type) {\n                defaultHandler = config;\n              }\n            } else {\n              defaultHandler = this.getFileHandlerById(this.__defaults[key].clazz.classname);\n            }\n          }\n          return !!defaultHandler;\n        }, this);\n        if (defaultHandler) {\n          return defaultHandler;\n        }\n      }\n\n      Object.keys(this.__registry).forEach(function (classname) {\n        const config = this.__registry[classname];\n        if (this.__canHandle(config, file) && (!type || config.type === type)) {\n          handlers.push(config);\n        }\n      }, this);\n      if (handlers.length === 0) {\n        if (!file.isFake() && file.getDisplayName().split('.').length === 1) {\n          // file without file ending => use the source code editor\n          return this.getFileHandlerById('cv.ui.manager.editor.Source');\n        }\n        // no editors found\n        return null;\n      } else if (handlers.length === 1) {\n        return handlers[0];\n      }\n      // sort by selector priority (instance, fullpath, filename, regex)\n      handlers.sort(function (a, b) {\n        return a.priority - b.priority;\n      });\n      // no default handler, just take the first one\n      return handlers[0];\n    },\n\n    getFileHandlerById(handlerId) {\n      return this.__registry[handlerId];\n    },\n\n    hasFileHandler(file, type) {\n      return Object.keys(this.__registry).some(function (classname) {\n        const config = this.__registry[classname];\n        return this.__canHandle(config, file) && (!type || config.type === type);\n      }, this);\n    },\n\n    /**\n     * Mark the handler with the given classname as default for the selector-id and all others with the same selector id not,\n     * @param selector {RegExp}\n     * @param clazz {qx.Class}\n     * @param noTemporaryFiles {Boolean} flag to prevent this default editor from being used to open temporary files.\n     * @param noReadOnlyFiles {Boolean} fleag to prevent this default editor from being used to open file that are not writeable\n     */\n    setDefault(selector, clazz, noTemporaryFiles, noReadOnlyFiles) {\n      if (qx.core.Environment.get('qx.debug')) {\n        qx.core.Assert.assertRegExp(selector);\n        qx.core.Assert.assertTrue(qx.Class.isClass(clazz));\n      }\n      this.__defaults[selector.toString()] = {\n        regex: selector,\n        clazz: clazz,\n        noTemporaryFiles: noTemporaryFiles,\n        noReadOnlyFiles: noReadOnlyFiles\n      };\n    },\n\n    _onChangesDefaultConfigEditor() {\n      switch (cv.ui.manager.model.Preferences.getInstance().getDefaultConfigEditor()) {\n        case 'source':\n          this.setDefault(cv.ui.manager.editor.Source.DEFAULT_FOR, cv.ui.manager.editor.Source);\n\n          break;\n\n        case 'xml':\n          this.setDefault(cv.ui.manager.editor.Tree.SUPPORTED_FILES, cv.ui.manager.editor.Tree);\n\n          break;\n      }\n    },\n\n    __canHandle(config, file) {\n      if (config.noTemporaryFiles === true && file.isTemporary()) {\n        return false;\n      } else if (config.noReadOnlyFiles === true && !file.isWriteable()) {\n        return false;\n      } else if (config.fileName && file.getName() === config.fileName) {\n        return true;\n      } else if (config.fullPath && file.getFullPath() === config.fullPath) {\n        return true;\n      } else if (config.regex && config.regex.test(file.getFullPath().toLowerCase())) {\n        return true;\n      } else if (config.instanceOf && file instanceof config.instanceOf) {\n        return true;\n      } else if (config.function && config.function(file)) {\n        return true;\n      }\n      return false;\n    },\n\n    getAllFileHandlers(file, type) {\n      if (qx.core.Environment.get('qx.debug')) {\n        qx.core.Assert.assertTrue(\n          file instanceof cv.ui.manager.model.FileItem || file instanceof cv.ui.manager.model.CompareFiles\n        );\n      }\n      return Object.keys(this.__registry)\n        .filter(function (key) {\n          return this.__canHandle(this.__registry[key], file) && (!type || this.__registry[key].type === type);\n        }, this)\n        .map(function (key) {\n          return this.__registry[key];\n        }, this);\n    }\n  },\n\n  /*\n  ***********************************************\n    DESTRUCTOR\n  ***********************************************\n  */\n  destruct() {\n    // cleanup handler instances\n    Object.keys(this.__registry).forEach(function (regex) {\n      if (this.__registry[regex].instance) {\n        this.__registry[regex].instance.dispose();\n        this.__registry[regex].instance = null;\n      }\n    }, this);\n\n    cv.ui.manager.model.Preferences.getInstance().removeListener(\n      'changeDefaultConfigEditor',\n      this._onChangesDefaultConfigEditor,\n      this\n    );\n  }\n});\n"
  ],
  "mappings": "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"
}