{
  "version": 3,
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "extend",
    "ui",
    "menu",
    "Menu",
    "construct",
    "file",
    "noCompare",
    "_noCompare",
    "_commandGroup",
    "core",
    "Init",
    "getApplication",
    "getCommandManager",
    "getActive",
    "_init",
    "_dateFormat",
    "util",
    "format",
    "DateFormat",
    "locale",
    "Date",
    "getDateFormat",
    "_timeFormat",
    "getTimeFormat",
    "configure",
    "addListener",
    "setActive",
    "properties",
    "appearance",
    "refine",
    "init",
    "active",
    "check",
    "members",
    "_selectedNode",
    "_renameDialog",
    "isFolder",
    "getType",
    "folder",
    "getParent",
    "isBackup",
    "getFullPath",
    "startsWith",
    "getChildControl",
    "exclude",
    "set",
    "enabled",
    "isWriteable",
    "visibility",
    "setVisibility",
    "isConfigFile",
    "isMounted",
    "setLabel",
    "isTrash",
    "tr",
    "compareMenu",
    "removeAll",
    "show",
    "backups",
    "cv",
    "manager",
    "model",
    "BackupFolder",
    "getInstance",
    "getBackupFiles",
    "setEnabled",
    "length",
    "sort",
    "a",
    "b",
    "date",
    "getTime",
    "group",
    "forEach",
    "backupEntry",
    "add",
    "Separator",
    "groupButton",
    "Button",
    "button",
    "setUserData",
    "_onCompareWith",
    "defaultHandler",
    "control",
    "FileHandlerRegistry",
    "getFileHandler",
    "openWithMenu",
    "availableHandlers",
    "getAllFileHandlers",
    "Clazz",
    "constructor",
    "TITLE",
    "toString",
    "localeCompare",
    "handlerConf",
    "ICON",
    "setAppearance",
    "classname",
    "addState",
    "_onOpenWith",
    "_replacementManager",
    "setFilename",
    "getName",
    "setFolder",
    "controlName",
    "isFake",
    "isInTrash",
    "label",
    "_noNew",
    "sep",
    "bind",
    "ev",
    "isActive",
    "compareWith",
    "getTarget",
    "getUserData",
    "event",
    "message",
    "Bus",
    "dispatchByName",
    "CompareFiles",
    "handlerId",
    "handler",
    "_onRename",
    "dialog",
    "Prompt",
    "callback",
    "name",
    "FileController",
    "rename",
    "context",
    "value",
    "caption",
    "filter",
    "setValue",
    "setCallback",
    "_onDownload",
    "download",
    "_onRestore",
    "restore",
    "_onValidate",
    "validate",
    "_onClone",
    "_onConvert",
    "_createChildControlImpl",
    "id",
    "theme",
    "dark",
    "Images",
    "getIcon",
    "com",
    "zenesis",
    "upload",
    "UploadMenuButton",
    "UploadMgr",
    "setForce",
    "addWidget",
    "destruct",
    "_disposeObjects",
    "contextmenu",
    "FileItem"
  ],
  "sources": [
    "/home/runner/work/CometVisu/CometVisu/source/class/cv/ui/manager/contextmenu/FileItem.js"
  ],
  "sourcesContent": [
    "/* FileItem.js\n *\n * copyright (c) 2010-2022, Christian Mayer and the CometVisu contributers.\n *\n * This program is free software; you can redistribute it and/or modify it\n * under the terms of the GNU General Public License as published by the Free\n * Software Foundation; either version 3 of the License, or (at your option)\n * any later version.\n *\n * This program is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for\n * more details.\n *\n * You should have received a copy of the GNU General Public License along\n * with this program; if not, write to the Free Software Foundation, Inc.,\n * 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA\n */\n\n/**\n *\n */\nqx.Class.define('cv.ui.manager.contextmenu.FileItem', {\n  extend: qx.ui.menu.Menu,\n\n  /*\n  ***********************************************\n    CONSTRUCTOR\n  ***********************************************\n  */\n  construct(file, noCompare) {\n    super();\n    this._noCompare = noCompare === true;\n    this._commandGroup = qx.core.Init.getApplication().getCommandManager().getActive();\n    this._init();\n    this._dateFormat = new qx.util.format.DateFormat(qx.locale.Date.getDateFormat('medium'));\n\n    this._timeFormat = new qx.util.format.DateFormat(qx.locale.Date.getTimeFormat('medium'));\n\n    if (file) {\n      this.configure(file);\n    }\n\n    // only react to events when this menu is visible\n    this.addListener('appear', function () {\n      this.setActive(true);\n    });\n    this.addListener('disappear', function () {\n      this.setActive(false);\n    });\n  },\n\n  /*\n  ***********************************************\n    PROPERTIES\n  ***********************************************\n  */\n  properties: {\n    appearance: {\n      refine: true,\n      init: 'cv-file-contextmenu'\n    },\n\n    /* This flag enables the event handling for this menu */\n    active: {\n      check: 'Boolean',\n      init: false\n    }\n  },\n\n  /*\n  ***********************************************\n    MEMBERS\n  ***********************************************\n  */\n  members: {\n    _commandGroup: null,\n    _selectedNode: null,\n    _dateFormat: null,\n    _timeFormat: null,\n    _renameDialog: null,\n    _noCompare: false,\n\n    configure(file) {\n      this._selectedNode = file;\n      if (file) {\n        const isFolder = file.getType() === 'dir';\n        const folder = isFolder ? file : file.getParent();\n        let isBackup = false;\n        if ((folder && folder.getFullPath().startsWith('backup')) || file.getFullPath().startsWith('backup')) {\n          isBackup = true;\n        }\n        if (!isFolder) {\n          this.getChildControl('new-file-button').exclude();\n          this.getChildControl('new-folder-button').exclude();\n        } else {\n          this.getChildControl('new-file-button').set({\n            enabled: folder && !isBackup ? folder.isWriteable() : false,\n            visibility: 'visible'\n          });\n\n          this.getChildControl('new-folder-button').set({\n            enabled: folder && !isBackup ? folder.isWriteable() : false,\n            visibility: 'visible'\n          });\n        }\n        this.getChildControl('clone-file-button').setVisibility(\n          file.isConfigFile() && !isBackup ? 'visible' : 'excluded'\n        );\n\n        this.getChildControl('convert-file-button').setVisibility(\n          file.isConfigFile() && !file.isMounted() && !isBackup ? 'visible' : 'excluded'\n        );\n\n        this.getChildControl('delete-button').setLabel(file.isTrash() ? this.tr('Clear') : this.tr('Delete'));\n\n        // create compare menu\n        if (!this._noCompare) {\n          const compareMenu = this.getChildControl('compare-menu');\n          compareMenu.removeAll();\n          if (!isBackup) {\n            this.getChildControl('compare-with-button').show();\n            const backups = cv.ui.manager.model.BackupFolder.getInstance().getBackupFiles(file);\n\n            this.getChildControl('compare-with-button').setEnabled(backups.length > 0);\n\n            backups.sort(function (a, b) {\n              return b.date.getTime() - a.date.getTime();\n            });\n            let group = null;\n            backups.forEach(function (backupEntry) {\n              const date = this._dateFormat.format(backupEntry.date);\n              if (group !== date) {\n                if (group !== null) {\n                  compareMenu.add(new qx.ui.menu.Separator());\n                }\n                const groupButton = new qx.ui.menu.Button(date);\n                groupButton.setEnabled(false);\n                compareMenu.add(groupButton);\n                group = date;\n              }\n              const button = new qx.ui.menu.Button(\n                this.tr('Backup from %1', this._timeFormat.format(backupEntry.date))\n              );\n\n              button.setUserData('file', backupEntry.file);\n              button.addListener('execute', this._onCompareWith, this);\n              compareMenu.add(button);\n            }, this);\n          } else {\n            this.getChildControl('compare-with-button').exclude();\n          }\n        }\n\n        const defaultHandler = cv.ui.manager.control.FileHandlerRegistry.getInstance().getFileHandler(file);\n\n        // open with menu\n        const openWithMenu = this.getChildControl('open-with-menu');\n        openWithMenu.removeAll();\n        if (!isBackup) {\n          this.getChildControl('open-with-button').show();\n          const availableHandlers = cv.ui.manager.control.FileHandlerRegistry.getInstance().getAllFileHandlers(file);\n\n          // this menu only makes sense when there is more than one option to select from\n          this.getChildControl('open-with-button').setEnabled(availableHandlers.length > 1);\n\n          availableHandlers.sort(function (a, b) {\n            return a.Clazz.constructor.TITLE.toString().localeCompare(b.Clazz.constructor.TITLE.toString());\n          });\n          availableHandlers.forEach(function (handlerConf) {\n            const button = new qx.ui.menu.Button(\n              handlerConf.Clazz.constructor.TITLE,\n              handlerConf.Clazz.constructor.ICON\n            );\n\n            button.setAppearance('open-with-button');\n            if (defaultHandler.Clazz.classname === handlerConf.Clazz.classname) {\n              button.addState('default');\n            }\n            button.setUserData('handlerId', handlerConf.Clazz.classname);\n            button.addListener('execute', this._onOpenWith, this);\n            openWithMenu.add(button);\n          }, this);\n        } else {\n          this.getChildControl('open-with-button').exclude();\n        }\n\n        // validate button\n        this.getChildControl('validate-config-button').setVisibility(\n          file.isConfigFile() && !file.isMounted() && !isBackup ? 'visible' : 'excluded'\n        );\n\n        // replacement button\n        if (!isFolder && !isBackup) {\n          this.getChildControl('replace-button').show();\n          this._replacementManager.setFilename(file.getName());\n          this._replacementManager.setFolder(file.getParent());\n        } else {\n          this.getChildControl('replace-button').exclude();\n        }\n        // buttons that need write access\n        ['delete-button', 'replace-button', 'rename-button'].forEach(function (controlName) {\n          this.getChildControl(controlName).setEnabled(\n            !file.isFake() && file.isWriteable() && (!isBackup || controlName === 'delete-button')\n          );\n        }, this);\n        this.getChildControl('download-button').setEnabled(!file.isFake() && file.getType() === 'file');\n\n        this.getChildControl('restore-button').setVisibility(file.isInTrash() || isBackup ? 'visible' : 'excluded');\n      } else {\n        this.getChildControl('delete-button').set({\n          label: this.tr('Delete'),\n          enabled: false\n        });\n\n        this.getChildControl('replace-button').exclude();\n        this.getChildControl('download-button').setEnabled(false);\n        this.getChildControl('restore-button').exclude();\n      }\n    },\n\n    _init() {\n      if (!this._noNew) {\n        this.add(this.getChildControl('new-file-button'));\n      }\n      this.add(this.getChildControl('clone-file-button'));\n      this.add(this.getChildControl('convert-file-button'));\n      if (!this._noNew) {\n        this.add(this.getChildControl('new-folder-button'));\n      }\n      this.add(new qx.ui.menu.Separator());\n      this.add(this.getChildControl('open-button'));\n      this.add(this.getChildControl('open-with-button'));\n      if (!this._noCompare) {\n        this.add(this.getChildControl('compare-with-button'));\n      }\n      this.add(new qx.ui.menu.Separator());\n      this.add(this.getChildControl('rename-button'));\n      this.add(this.getChildControl('delete-button'));\n      this.add(this.getChildControl('restore-button'));\n      this.add(new qx.ui.menu.Separator());\n      this.add(this.getChildControl('download-button'));\n      let sep = new qx.ui.menu.Separator();\n      let button = this.getChildControl('replace-button');\n      this.add(sep);\n      this.add(button);\n      button.bind('visibility', sep, 'visibility');\n      sep = new qx.ui.menu.Separator();\n      button = this.getChildControl('validate-config-button');\n      button.bind('visibility', sep, 'visibility');\n      this.add(sep);\n      this.add(button);\n    },\n\n    _onCompareWith(ev) {\n      if (this.isActive()) {\n        const compareWith = ev.getTarget().getUserData('file');\n        qx.event.message.Bus.dispatchByName(\n          'cv.manager.compareFiles',\n          new cv.ui.manager.model.CompareFiles(compareWith, this._selectedNode)\n        );\n      }\n    },\n\n    _onOpenWith(ev) {\n      if (this.isActive()) {\n        const handlerId = ev.getTarget().getUserData('handlerId');\n        qx.event.message.Bus.dispatchByName('cv.manager.openWith', {\n          file: this._selectedNode,\n          handler: handlerId\n        });\n      }\n    },\n\n    _onRename() {\n      if (this._selectedNode && this.isActive()) {\n        if (!this._renameDialog) {\n          this._renameDialog = new cv.ui.manager.dialog.Prompt({\n            message: this.tr('New name'),\n            callback: name => {\n              if (name && name !== this._selectedNode.getName()) {\n                cv.ui.manager.control.FileController.getInstance().rename(this._selectedNode, name);\n              }\n            },\n            context: this,\n            value: this._selectedNode.getName(),\n            caption: this.tr('Rename file'),\n            filter: /[\\w\\d_\\-\\.\\s]/\n          });\n        } else {\n          this._renameDialog.setValue(this._selectedNode.getName());\n          this._renameDialog.setCallback(name => {\n            if (name && name !== this._selectedNode.getName()) {\n              cv.ui.manager.control.FileController.getInstance().rename(this._selectedNode, name);\n            }\n          });\n        }\n        this._renameDialog.show();\n      }\n    },\n\n    _onDownload() {\n      if (this._selectedNode && this.isActive()) {\n        cv.ui.manager.control.FileController.getInstance().download(this._selectedNode);\n      }\n    },\n\n    _onRestore() {\n      if (this._selectedNode && this.isActive()) {\n        cv.ui.manager.control.FileController.getInstance().restore(this._selectedNode);\n      }\n    },\n\n    _onValidate() {\n      if (this._selectedNode && this.isActive()) {\n        cv.ui.manager.control.FileController.getInstance().validate(this._selectedNode);\n      }\n    },\n\n    _onClone() {\n      if (this._selectedNode && this.isActive()) {\n        qx.event.message.Bus.dispatchByName('cv.manager.action.clone', {\n          file: this._selectedNode\n        });\n      }\n    },\n\n    _onConvert() {\n      if (this._selectedNode && this.isActive()) {\n        qx.event.message.Bus.dispatchByName('cv.manager.action.convertToTile', {\n          file: this._selectedNode\n        });\n      }\n    },\n\n    // overridden\n    _createChildControlImpl(id) {\n      let control;\n\n      switch (id) {\n        case 'new-file-button':\n          control = new qx.ui.menu.Button(this.tr('New file'), cv.theme.dark.Images.getIcon('new-file', 18));\n\n          control.addListener('execute', () => {\n            if (this._selectedNode.isConfigFile()) {\n              qx.event.message.Bus.dispatchByName('cv.manager.action.new-config-file', this._selectedNode.getParent());\n            } else {\n              qx.event.message.Bus.dispatchByName(\n                'cv.manager.action.new-file',\n                this._selectedNode.getType() === 'dir' ? this._selectedNode : this._selectedNode.getParent()\n              );\n            }\n          });\n          break;\n\n        case 'clone-file-button':\n          control = new qx.ui.menu.Button(this.tr('Clone file'), cv.theme.dark.Images.getIcon('clone-file', 18));\n\n          control.exclude();\n          control.addListener('execute', this._onClone, this);\n          break;\n\n        case 'new-folder-button':\n          control = new qx.ui.menu.Button(this.tr('New folder'), cv.theme.dark.Images.getIcon('new-folder', 18));\n\n          control.addListener('execute', () => {\n            qx.event.message.Bus.dispatchByName(\n              'cv.manager.action.new-folder',\n              this._selectedNode.getType() === 'dir' ? this._selectedNode : this._selectedNode.getParent()\n            );\n          });\n          break;\n\n        case 'rename-button':\n          control = new qx.ui.menu.Button(this.tr('Rename'), cv.theme.dark.Images.getIcon('rename', 18));\n\n          control.addListener('execute', this._onRename, this);\n          break;\n\n        case 'delete-button':\n          control = new qx.ui.menu.Button(this.tr('Delete'), cv.theme.dark.Images.getIcon('delete', 18));\n\n          control.addListener('execute', () => {\n            qx.event.message.Bus.dispatchByName('cv.manager.action.delete', this._selectedNode);\n          });\n          break;\n\n        case 'download-button':\n          control = new qx.ui.menu.Button(this.tr('Download'), cv.theme.dark.Images.getIcon('download', 18));\n\n          control.addListener('execute', this._onDownload, this);\n          break;\n\n        case 'open-button':\n          control = new qx.ui.menu.Button(this.tr('Open'), cv.theme.dark.Images.getIcon('open', 18));\n\n          control.addListener('execute', () => {\n            qx.event.message.Bus.dispatchByName('cv.manager.open', this._selectedNode);\n          });\n          break;\n\n        case 'restore-button':\n          control = new qx.ui.menu.Button(this.tr('Restore'), cv.theme.dark.Images.getIcon('trash', 18));\n\n          control.exclude();\n          control.addListener('execute', this._onRestore, this);\n          break;\n\n        case 'validate-config-button':\n          control = new qx.ui.menu.Button(this.tr('Validate'), cv.theme.dark.Images.getIcon('validate', 18));\n\n          control.exclude();\n          control.addListener('execute', this._onValidate, this);\n          break;\n\n        case 'replace-button':\n          control = new com.zenesis.qx.upload.UploadMenuButton(\n            this.tr('Replace'),\n            cv.theme.dark.Images.getIcon('upload', 18)\n          );\n\n          control.exclude();\n          this._replacementManager = new cv.ui.manager.upload.UploadMgr();\n          this._replacementManager.setForce(true);\n          this._replacementManager.addWidget(control);\n          break;\n\n        case 'compare-menu':\n          control = new qx.ui.menu.Menu();\n          break;\n\n        case 'compare-with-button':\n          control = new qx.ui.menu.Button(\n            this.tr('Compare with...'),\n            cv.theme.dark.Images.getIcon('compare', 18),\n            null,\n            this.getChildControl('compare-menu')\n          );\n\n          break;\n\n        case 'open-with-button':\n          control = new qx.ui.menu.Button(\n            this.tr('Open with...'),\n            cv.theme.dark.Images.getIcon('open-with', 18),\n            null,\n            this.getChildControl('open-with-menu')\n          );\n\n          break;\n\n        case 'open-with-menu':\n          control = new qx.ui.menu.Menu();\n          break;\n\n        case 'convert-file-button':\n          control = new qx.ui.menu.Button(\n            this.tr('Convert to tile structure'),\n            cv.theme.dark.Images.getIcon('convert', 18)\n          );\n\n          control.addListener('execute', this._onConvert, this);\n          break;\n      }\n\n      return control || super._createChildControlImpl(id);\n    }\n  },\n\n  /*\n  ***********************************************\n    DESTRUCTOR\n  ***********************************************\n  */\n  destruct() {\n    this._commandGroup = null;\n    this._renameDialog = null;\n    this._disposeObjects('_dateFormat', '_timeFormat');\n  }\n});\n"
  ],
  "mappings": "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"
}