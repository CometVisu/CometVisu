{
  "version": 3,
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "extend",
    "ui",
    "core",
    "Widget",
    "construct",
    "_setLayout",
    "layout",
    "HBox",
    "_createChildControl",
    "properties",
    "appearance",
    "refine",
    "init",
    "model",
    "check",
    "nullable",
    "apply",
    "readOnly",
    "event",
    "events",
    "add",
    "members",
    "setLabel",
    "label",
    "setIcon",
    "_applyModel",
    "value",
    "old",
    "keyField",
    "getChildControl",
    "valueField",
    "keyTitleField",
    "valueTitleField",
    "__unbindModel",
    "bind",
    "show",
    "exclude",
    "hide",
    "removeRelatedBindings",
    "_createChildControlImpl",
    "id",
    "control",
    "form",
    "TextField",
    "set",
    "liveUpdate",
    "required",
    "_add",
    "width",
    "Button",
    "cv",
    "theme",
    "dark",
    "Images",
    "getIcon",
    "setToolTipText",
    "tr",
    "addListener",
    "fireDataEvent",
    "getModel",
    "converter",
    "fireEvent",
    "basic",
    "Label",
    "destruct",
    "manager",
    "OptionListItem"
  ],
  "sources": [
    "/home/runner/work/CometVisu/CometVisu/source/class/cv/ui/manager/form/OptionListItem.js"
  ],
  "sourcesContent": [
    "/* OptionListItem.js\n *\n * copyright (c) 2010-2022, Christian Mayer and the CometVisu contributers.\n *\n * This program is free software; you can redistribute it and/or modify it\n * under the terms of the GNU General Public License as published by the Free\n * Software Foundation; either version 3 of the License, or (at your option)\n * any later version.\n *\n * This program is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for\n * more details.\n *\n * You should have received a copy of the GNU General Public License along\n * with this program; if not, write to the Free Software Foundation, Inc.,\n * 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA\n */\n\n/**\n * This widgets shows and editable config option in a list.\n */\nqx.Class.define('cv.ui.manager.form.OptionListItem', {\n  extend: qx.ui.core.Widget,\n\n  /*\n  ***********************************************\n    CONSTRUCTOR\n  ***********************************************\n  */\n  construct() {\n    super();\n    this._setLayout(new qx.ui.layout.HBox(8));\n    this._createChildControl('key');\n    this._createChildControl('value');\n    this._createChildControl('key-title');\n    this._createChildControl('value-title');\n    this._createChildControl('delete');\n    this._createChildControl('add');\n  },\n\n  /*\n  ***********************************************\n    PROPERTIES\n  ***********************************************\n  */\n  properties: {\n    appearance: {\n      refine: true,\n      init: 'cv-editor-config-option'\n    },\n\n    model: {\n      check: 'cv.ui.manager.model.config.Option',\n      nullable: true,\n      apply: '_applyModel'\n    },\n\n    readOnly: {\n      check: 'Boolean',\n      init: false,\n      event: 'changeReadOnly'\n    }\n  },\n\n  /*\n  ***********************************************\n    EVENTS\n  ***********************************************\n  */\n  events: {\n    delete: 'qx.event.type.Data',\n    add: 'qx.event.type.Event'\n  },\n\n  /*\n  ***********************************************\n    MEMBERS\n  ***********************************************\n  */\n  members: {\n    // list controller with allowNull calls setLabel\n    setLabel(label) {},\n\n    // list controller with allowNull calls setIcon\n    setIcon() {},\n\n    _applyModel(value, old) {\n      const keyField = this.getChildControl('key');\n      const valueField = this.getChildControl('value');\n      const keyTitleField = this.getChildControl('key-title');\n      const valueTitleField = this.getChildControl('value-title');\n      this.__unbindModel(old);\n      if (value) {\n        // bi-directional bind\n        value.bind('key', keyField, 'value');\n        value.bind('value', valueField, 'value');\n        keyField.bind('value', value, 'key');\n        valueField.bind('value', value, 'value');\n        keyField.show();\n        valueField.show();\n        keyTitleField.exclude();\n        valueTitleField.exclude();\n        this.getChildControl('delete').show();\n        this.getChildControl('add').show();\n      } else {\n        keyField.exclude();\n        valueField.exclude();\n        keyTitleField.show();\n        valueTitleField.show();\n        this.getChildControl('delete').hide();\n        this.getChildControl('add').hide();\n      }\n    },\n\n    __unbindModel(model) {\n      if (model) {\n        const keyField = this.getChildControl('key');\n        const valueField = this.getChildControl('value');\n        if (model) {\n          model.removeRelatedBindings(keyField);\n          model.removeRelatedBindings(valueField);\n          keyField.removeRelatedBindings(model);\n          valueField.removeRelatedBindings(model);\n        }\n      }\n    },\n\n    // overridden\n    _createChildControlImpl(id) {\n      let control;\n\n      switch (id) {\n        case 'key':\n          control = new qx.ui.form.TextField();\n          control.set({\n            liveUpdate: true,\n            required: true\n          });\n\n          this.bind('readOnly', control, 'readOnly');\n          this._add(control, { width: '40%' });\n          break;\n\n        case 'value':\n          control = new qx.ui.form.TextField();\n          control.set({\n            liveUpdate: true\n          });\n\n          this.bind('readOnly', control, 'readOnly');\n          this._add(control, { width: '40%' });\n          break;\n\n        case 'delete':\n          control = new qx.ui.form.Button(null, cv.theme.dark.Images.getIcon('delete', 22));\n\n          control.setToolTipText(this.tr('Delete option'));\n          control.addListener('execute', () => {\n            this.fireDataEvent('delete', this.getModel());\n          });\n          this.bind('readOnly', control, 'visibility', {\n            converter(value) {\n              return value ? 'hidden' : 'visible';\n            }\n          });\n\n          this._add(control);\n          break;\n\n        case 'add':\n          control = new qx.ui.form.Button(null, cv.theme.dark.Images.getIcon('add', 18));\n\n          control.setToolTipText(this.tr('Add option'));\n          control.addListener('execute', () => {\n            this.fireEvent('add');\n          });\n          this.bind('readOnly', control, 'visibility', {\n            converter(value) {\n              return value ? 'hidden' : 'visible';\n            }\n          });\n\n          this._add(control);\n          break;\n\n        case 'key-title':\n          control = new qx.ui.basic.Label(this.tr('Key'));\n          control.exclude();\n          this._add(control, { width: '40%' });\n          break;\n\n        case 'value-title':\n          control = new qx.ui.basic.Label(this.tr('Value'));\n          control.exclude();\n          this._add(control, { width: '40%' });\n          break;\n      }\n\n      return control || super._createChildControlImpl(id);\n    }\n  },\n\n  /*\n  ***********************************************\n    DESTRUCTOR\n  ***********************************************\n  */\n  destruct() {\n    this.__unbindModel(this.getModel());\n  }\n});\n"
  ],
  "mappings": "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"
}