{
  "version": 3,
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "extend",
    "ui",
    "core",
    "Widget",
    "construct",
    "_setLayout",
    "layout",
    "HBox",
    "_createChildControl",
    "properties",
    "appearance",
    "refine",
    "init",
    "model",
    "check",
    "nullable",
    "apply",
    "readOnly",
    "event",
    "events",
    "add",
    "members",
    "setLabel",
    "label",
    "setIcon",
    "_applyModel",
    "value",
    "old",
    "keyField",
    "getChildControl",
    "valueField",
    "keyTitleField",
    "valueTitleField",
    "__unbindModel",
    "bind",
    "show",
    "exclude",
    "hide",
    "removeRelatedBindings",
    "_createChildControlImpl",
    "id",
    "control",
    "form",
    "TextField",
    "set",
    "liveUpdate",
    "required",
    "_add",
    "width",
    "Button",
    "cv",
    "theme",
    "dark",
    "Images",
    "getIcon",
    "setToolTipText",
    "tr",
    "addListener",
    "fireDataEvent",
    "getModel",
    "converter",
    "fireEvent",
    "basic",
    "Label",
    "destruct",
    "manager",
    "OptionListItem"
  ],
  "sources": [
    "/home/runner/work/CometVisu/CometVisu/source/class/cv/ui/manager/form/OptionListItem.js"
  ],
  "sourcesContent": [
    "/* OptionListItem.js\n *\n * copyright (c) 2010-2022, Christian Mayer and the CometVisu contributers.\n *\n * This program is free software; you can redistribute it and/or modify it\n * under the terms of the GNU General Public License as published by the Free\n * Software Foundation; either version 3 of the License, or (at your option)\n * any later version.\n *\n * This program is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for\n * more details.\n *\n * You should have received a copy of the GNU General Public License along\n * with this program; if not, write to the Free Software Foundation, Inc.,\n * 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA\n */\n\n/**\n * This widgets shows and editable config option in a list.\n */\nqx.Class.define('cv.ui.manager.form.OptionListItem', {\n  extend: qx.ui.core.Widget,\n\n  /*\n  ***********************************************\n    CONSTRUCTOR\n  ***********************************************\n  */\n  construct() {\n    super();\n    this._setLayout(new qx.ui.layout.HBox(8));\n    this._createChildControl('key');\n    this._createChildControl('value');\n    this._createChildControl('key-title');\n    this._createChildControl('value-title');\n    this._createChildControl('delete');\n    this._createChildControl('add');\n  },\n\n  /*\n  ***********************************************\n    PROPERTIES\n  ***********************************************\n  */\n  properties: {\n    appearance: {\n      refine: true,\n      init: 'cv-editor-config-option'\n    },\n\n    model: {\n      check: 'cv.ui.manager.model.config.Option',\n      nullable: true,\n      apply: '_applyModel'\n    },\n\n    readOnly: {\n      check: 'Boolean',\n      init: false,\n      event: 'changeReadOnly'\n    }\n  },\n\n  /*\n  ***********************************************\n    EVENTS\n  ***********************************************\n  */\n  events: {\n    delete: 'qx.event.type.Data',\n    add: 'qx.event.type.Event'\n  },\n\n  /*\n  ***********************************************\n    MEMBERS\n  ***********************************************\n  */\n  members: {\n    // list controller with allowNull calls setLabel\n    setLabel(label) {},\n\n    // list controller with allowNull calls setIcon\n    setIcon() {},\n\n    _applyModel(value, old) {\n      const keyField = this.getChildControl('key');\n      const valueField = this.getChildControl('value');\n      const keyTitleField = this.getChildControl('key-title');\n      const valueTitleField = this.getChildControl('value-title');\n      this.__unbindModel(old);\n      if (value) {\n        // bi-directional bind\n        value.bind('key', keyField, 'value');\n        value.bind('value', valueField, 'value');\n        keyField.bind('value', value, 'key');\n        valueField.bind('value', value, 'value');\n        keyField.show();\n        valueField.show();\n        keyTitleField.exclude();\n        valueTitleField.exclude();\n        this.getChildControl('delete').show();\n        this.getChildControl('add').show();\n      } else {\n        keyField.exclude();\n        valueField.exclude();\n        keyTitleField.show();\n        valueTitleField.show();\n        this.getChildControl('delete').hide();\n        this.getChildControl('add').hide();\n      }\n    },\n\n    __unbindModel(model) {\n      if (model) {\n        const keyField = this.getChildControl('key');\n        const valueField = this.getChildControl('value');\n        if (model) {\n          model.removeRelatedBindings(keyField);\n          model.removeRelatedBindings(valueField);\n          keyField.removeRelatedBindings(model);\n          valueField.removeRelatedBindings(model);\n        }\n      }\n    },\n\n    // overridden\n    _createChildControlImpl(id) {\n      let control;\n\n      switch (id) {\n        case 'key':\n          control = new qx.ui.form.TextField();\n          control.set({\n            liveUpdate: true,\n            required: true\n          });\n\n          this.bind('readOnly', control, 'readOnly');\n          this._add(control, { width: '40%' });\n          break;\n\n        case 'value':\n          control = new qx.ui.form.TextField();\n          control.set({\n            liveUpdate: true\n          });\n\n          this.bind('readOnly', control, 'readOnly');\n          this._add(control, { width: '40%' });\n          break;\n\n        case 'delete':\n          control = new qx.ui.form.Button(null, cv.theme.dark.Images.getIcon('delete', 22));\n\n          control.setToolTipText(this.tr('Delete option'));\n          control.addListener('execute', () => {\n            this.fireDataEvent('delete', this.getModel());\n          });\n          this.bind('readOnly', control, 'visibility', {\n            converter(value) {\n              return value ? 'hidden' : 'visible';\n            }\n          });\n\n          this._add(control);\n          break;\n\n        case 'add':\n          control = new qx.ui.form.Button(null, cv.theme.dark.Images.getIcon('add', 18));\n\n          control.setToolTipText(this.tr('Add option'));\n          control.addListener('execute', () => {\n            this.fireEvent('add');\n          });\n          this.bind('readOnly', control, 'visibility', {\n            converter(value) {\n              return value ? 'hidden' : 'visible';\n            }\n          });\n\n          this._add(control);\n          break;\n\n        case 'key-title':\n          control = new qx.ui.basic.Label(this.tr('Key'));\n          control.exclude();\n          this._add(control, { width: '40%' });\n          break;\n\n        case 'value-title':\n          control = new qx.ui.basic.Label(this.tr('Value'));\n          control.exclude();\n          this._add(control, { width: '40%' });\n          break;\n      }\n\n      return control || super._createChildControlImpl(id);\n    }\n  },\n\n  /*\n  ***********************************************\n    DESTRUCTOR\n  ***********************************************\n  */\n  destruct() {\n    this.__unbindModel(this.getModel());\n  }\n});\n"
  ],
  "mappings": "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"
}