{
  "version": 3,
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "extend",
    "ui",
    "core",
    "Widget",
    "implement",
    "form",
    "IModel",
    "include",
    "cv",
    "manager",
    "upload",
    "MDragUpload",
    "construct",
    "label",
    "icon",
    "model",
    "layout",
    "Canvas",
    "setDesktop",
    "_setLayout",
    "setModel",
    "addListener",
    "_onPointerOver",
    "_onPointerOut",
    "Preferences",
    "getInstance",
    "_maintainFileActions",
    "setUploadHint",
    "tr",
    "events",
    "action",
    "properties",
    "appearance",
    "refine",
    "init",
    "nullable",
    "event",
    "apply",
    "dereference",
    "check",
    "showFileActions",
    "themeable",
    "gap",
    "show",
    "inheritable",
    "iconPosition",
    "center",
    "acceptUpload",
    "viewMode",
    "members",
    "_uploadManager",
    "_forwardStates",
    "focused",
    "selected",
    "dragover",
    "hovered",
    "_applyViewMode",
    "getViewMode",
    "addState",
    "getChildControl",
    "setLayoutProperties",
    "left",
    "top",
    "bottom",
    "right",
    "removeState",
    "_isDroppable",
    "files",
    "length",
    "getModel",
    "getSpecial",
    "myMime",
    "tree",
    "FileSystem",
    "getMimetypeFromSuffix",
    "getName",
    "split",
    "pop",
    "type",
    "_onDrop",
    "ev",
    "preventDefault",
    "uploadFile",
    "getFiles",
    "qxl",
    "dialog",
    "Dialog",
    "confirm",
    "confirmed",
    "newFile",
    "_onStopDragging",
    "_applyModel",
    "value",
    "getType",
    "control",
    "isFake",
    "name",
    "setToolTipText",
    "handled",
    "setValue",
    "lang",
    "String",
    "firstUp",
    "exclude",
    "resetToolTipText",
    "_onOpenWith",
    "handlerId",
    "getTarget",
    "getUserData",
    "message",
    "Bus",
    "dispatchByName",
    "file",
    "handler",
    "_applyIcon",
    "old",
    "startsWith",
    "viewer",
    "Image",
    "getImageData",
    "addListenerOnce",
    "__scaleWithAspect",
    "isShowFileActions",
    "setVisibility",
    "editorConf",
    "FileHandlerRegistry",
    "getFileHandler",
    "viewerConf",
    "openButton",
    "editButton",
    "isWriteable",
    "setUserData",
    "Clazz",
    "classname",
    "set",
    "ICON",
    "theme",
    "dark",
    "Images",
    "getIcon",
    "enabled",
    "toolTipText",
    "TITLE",
    "translate",
    "toString",
    "data",
    "sizeHint",
    "getSizeHint",
    "width",
    "height",
    "Math",
    "round",
    "aspectRatio",
    "padding",
    "setPadding",
    "_maintainFileTypePosition",
    "iconBounds",
    "getBounds",
    "_createChildControlImpl",
    "id",
    "basic",
    "Atom",
    "forEach",
    "prop",
    "bind",
    "setAnonymous",
    "_add",
    "Label",
    "zIndex",
    "anonymous",
    "font",
    "textAlign",
    "textColor",
    "minWidth",
    "container",
    "Composite",
    "HBox",
    "Button",
    "FileController",
    "download",
    "add",
    "fireEvent",
    "Tap",
    "getNativeEvent",
    "_createMDragUploadChildControlImpl",
    "capture",
    "getFile",
    "releaseCapture",
    "destruct",
    "removeListener",
    "_disposeObjects",
    "FileListItem"
  ],
  "sources": [
    "/home/runner/work/CometVisu/CometVisu/source/class/cv/ui/manager/form/FileListItem.js"
  ],
  "sourcesContent": [
    "/* FileListItem.js\n *\n * copyright (c) 2010-2022, Christian Mayer and the CometVisu contributers.\n *\n * This program is free software; you can redistribute it and/or modify it\n * under the terms of the GNU General Public License as published by the Free\n * Software Foundation; either version 3 of the License, or (at your option)\n * any later version.\n *\n * This program is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for\n * more details.\n *\n * You should have received a copy of the GNU General Public License along\n * with this program; if not, write to the Free Software Foundation, Inc.,\n * 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA\n */\n\n/**\n * A qx.ui.form.ListItem with an additional label overlay over the icon to show the file type\n */\nqx.Class.define('cv.ui.manager.form.FileListItem', {\n  extend: qx.ui.core.Widget,\n  implement: [qx.ui.form.IModel],\n  include: [cv.ui.manager.upload.MDragUpload],\n\n  /*\n  ***********************************************\n    CONSTRUCTOR\n  ***********************************************\n  */\n  construct(label, icon, model) {\n    super(label, icon);\n    const layout = new qx.ui.layout.Canvas();\n    layout.setDesktop(true);\n    this._setLayout(layout);\n\n    if (model) {\n      this.setModel(model);\n    }\n    this.addListener('pointerover', this._onPointerOver, this);\n    this.addListener('pointerout', this._onPointerOut, this);\n\n    cv.ui.manager.model.Preferences.getInstance().addListener(\n      'changeDefaultConfigEditor',\n      this._maintainFileActions,\n      this\n    );\n\n    this.setUploadHint(this.tr('Drop the file here to replace the content.'));\n  },\n\n  /*\n  *****************************************************************************\n     EVENTS\n  *****************************************************************************\n  */\n  events: {\n    /** (Fired by {@link qx.ui.form.List}) */\n    action: 'qx.event.type.Event'\n  },\n\n  /*\n  ***********************************************\n    PROPERTIES\n  ***********************************************\n  */\n  properties: {\n    appearance: {\n      refine: true,\n      init: 'cv-file-item'\n    },\n\n    model: {\n      nullable: true,\n      event: 'changeModel',\n      apply: '_applyModel',\n      dereference: true,\n      check: 'cv.ui.manager.model.FileItem'\n    },\n\n    /**\n     * Show the action buttons.\n     */\n    showFileActions: {\n      check: 'Boolean',\n      init: false,\n      apply: '_maintainFileActions'\n    },\n\n    /** The label/caption/text of the qx.ui.basic.Atom instance */\n    label: {\n      nullable: true,\n      check: 'String',\n      event: 'changeLabel'\n    },\n\n    /** Any URI String supported by qx.ui.basic.Image to display an icon */\n    icon: {\n      check: 'String',\n      nullable: true,\n      themeable: true,\n      event: 'changeIcon'\n    },\n\n    /**\n     * The space between the icon and the label\n     */\n    gap: {\n      check: 'Integer',\n      nullable: false,\n      event: 'changeGap',\n      themeable: true,\n      init: 4\n    },\n\n    /**\n     * Configure the visibility of the sub elements/widgets.\n     * Possible values: both, label, icon\n     */\n    show: {\n      init: 'both',\n      check: ['both', 'label', 'icon'],\n      themeable: true,\n      inheritable: true,\n      event: 'changeShow'\n    },\n\n    /**\n     * The position of the icon in relation to the text.\n     * Only useful/needed if text and icon is configured and 'show' is configured as 'both' (default)\n     */\n    iconPosition: {\n      init: 'left',\n      check: ['top', 'right', 'bottom', 'left', 'top-left', 'bottom-left', 'top-right', 'bottom-right'],\n\n      themeable: true,\n      event: 'changeIconPosition'\n    },\n\n    /**\n     * Whether the content should be rendered centrally when to much space\n     * is available. Enabling this property centers in both axis. The behavior\n     * when disabled of the centering depends on the {@link #iconPosition} property.\n     * If the icon position is <code>left</code> or <code>right</code>, the X axis\n     * is not centered, only the Y axis. If the icon position is <code>top</code>\n     * or <code>bottom</code>, the Y axis is not centered. In case of e.g. an\n     * icon position of <code>top-left</code> no axis is centered.\n     */\n    center: {\n      init: false,\n      check: 'Boolean',\n      themeable: true,\n      event: 'changeCenter'\n    },\n\n    /**\n     * Restrict possible file uploads (not supported by every browxer)\n     */\n    acceptUpload: {\n      init: null,\n      nullable: true,\n      check: 'String'\n    },\n\n    viewMode: {\n      check: ['list', 'preview'],\n      init: 'preview',\n      apply: '_applyViewMode'\n    }\n  },\n\n  /*\n  ***********************************************\n    MEMBERS\n  ***********************************************\n  */\n  /* eslint-disable @qooxdoo/qx/no-refs-in-members */\n  members: {\n    _uploadManager: null,\n\n    // overridden\n    /**\n     * @lint ignoreReferenceField(_forwardStates)\n     */\n    _forwardStates: {\n      focused: true,\n      selected: true,\n      dragover: true,\n      hovered: true\n    },\n\n    _applyViewMode() {\n      switch (this.getViewMode()) {\n        case 'list':\n          this.addState('list');\n          this.getChildControl('atom').setLayoutProperties({\n            left: 10,\n            top: 0,\n            bottom: 0,\n            right: null\n          });\n\n          this.getChildControl('bottom-bar').setLayoutProperties({\n            top: 0,\n            bottom: 0,\n            right: 0,\n            left: null\n          });\n\n          break;\n\n        case 'preview':\n          this.removeState('list');\n          this.getChildControl('atom').setLayoutProperties({\n            left: 0,\n            top: 0,\n            bottom: 34,\n            right: 0\n          });\n\n          this.getChildControl('bottom-bar').setLayoutProperties({\n            left: 0,\n            bottom: 0,\n            right: 0,\n            top: null\n          });\n\n          break;\n      }\n    },\n\n    /**\n     * Event handler for the pointer over event.\n     */\n    _onPointerOver() {\n      this.addState('hovered');\n    },\n\n    /**\n     * Event handler for the pointer out event.\n     */\n    _onPointerOut() {\n      this.removeState('hovered');\n    },\n\n    _isDroppable(files) {\n      if (files.length === 1) {\n        if (this.getModel().getSpecial() === 'add-file') {\n          return true;\n        }\n        const myMime = cv.ui.manager.tree.FileSystem.getMimetypeFromSuffix(this.getModel().getName().split('.').pop());\n\n        return myMime === files[0].type;\n      }\n      return false;\n    },\n\n    _onDrop(ev) {\n      ev.preventDefault();\n      if (this.getModel().getSpecial() === 'add-file') {\n        cv.ui.manager.upload.MDragUpload.uploadFile(cv.ui.manager.upload.MDragUpload.getFiles(ev)[0]);\n      } else {\n        qxl.dialog.Dialog.confirm(\n          this.tr('Do you really want to replace the \\'%1\\' with the uploaded files content?', this.getModel().getName()),\n\n          function (confirmed) {\n            if (confirmed) {\n              const newFile = cv.ui.manager.upload.MDragUpload.getFiles(ev)[0];\n              cv.ui.manager.upload.MDragUpload.uploadFile(newFile, this.getModel());\n            }\n          },\n          this\n        );\n      }\n      this._onStopDragging(ev);\n    },\n\n    _applyModel(value) {\n      if (value && value.getType() === 'file') {\n        const control = this.getChildControl('file-type');\n        if (!value.isFake()) {\n          const name = value.getName();\n          this.getChildControl('atom').setToolTipText(this.tr('Double click to open \"%1\"', name));\n\n          let type = name.split('.').pop();\n\n          // do not use file types that are longer than 4 chars (not enough space)\n          if (type.length <= 4) {\n            let handled = false;\n            switch (type) {\n              case 'xml':\n                control.setValue('</>');\n                handled = true;\n                break;\n\n              case 'js':\n                type = qx.lang.String.firstUp(type);\n              // eslint-disable-next-line no-fallthrough\n              case 'css':\n              case 'conf':\n                control.setValue(type);\n                handled = true;\n                break;\n            }\n\n            if (handled && this.getViewMode() === 'preview') {\n              control.show();\n            } else {\n              control.exclude();\n            }\n          } else {\n            control.exclude();\n          }\n        }\n      } else {\n        this.getChildControl('file-type').exclude();\n        this.getChildControl('atom').resetToolTipText();\n      }\n      // this.getChildControl('bottom-bar').show();\n      // this.setUploadHint(this.tr('Drop the file here to replace the content.'));\n      // this.getChildControl('atom').setToolTipText(this.tr('Double click to open'));\n      this._maintainFileActions();\n      // if (this._uploadManager) {\n      //   try {\n      //     this._uploadManager.removeWidget(this);\n      //   } catch (e) {}\n      // }\n    },\n\n    _onOpenWith(ev) {\n      const handlerId = ev.getTarget().getUserData('handlerId');\n      qx.event.message.Bus.dispatchByName('cv.manager.openWith', {\n        file: this.getModel(),\n        handler: handlerId\n      });\n    },\n\n    _applyIcon(value, old) {\n      super._applyIcon(value, old);\n      if (value && !value.startsWith('@')) {\n        const control = this.getChildControl('atom').getChildControl('icon');\n        if (!cv.ui.manager.viewer.Image.getImageData(value)) {\n          // wait for image to be loaded\n          control.addListenerOnce('loaded', this.__scaleWithAspect, this);\n        } else {\n          this.__scaleWithAspect();\n        }\n      }\n    },\n\n    _maintainFileActions() {\n      const file = this.getModel();\n      if (this.isShowFileActions() && file) {\n        this.getChildControl('download-button').setVisibility(\n          file.getType() === 'dir' || file.isFake() ? 'excluded' : 'visible'\n        );\n\n        this.getChildControl('action-button').setVisibility(file.isFake() ? 'excluded' : 'visible');\n\n        const editorConf = cv.ui.manager.control.FileHandlerRegistry.getInstance().getFileHandler(file, 'edit');\n\n        const viewerConf = cv.ui.manager.control.FileHandlerRegistry.getInstance().getFileHandler(file, 'view');\n\n        const openButton = this.getChildControl('open-button');\n        const editButton = this.getChildControl('edit-button');\n        if (file.isWriteable() && editorConf) {\n          editButton.setUserData('handlerId', editorConf.Clazz.classname);\n          editButton.set({\n            icon: editorConf.Clazz.ICON || cv.theme.dark.Images.getIcon('edit', 18),\n            enabled: true,\n            toolTipText: editorConf.Clazz.TITLE ? editorConf.Clazz.TITLE.translate().toString() : ''\n          });\n\n          editButton.show();\n        } else {\n          editButton.exclude();\n        }\n        if (viewerConf) {\n          openButton.setUserData('handlerId', viewerConf.Clazz.classname);\n          openButton.set({\n            icon: viewerConf.Clazz.ICON || cv.theme.dark.Images.getIcon('preview', 18),\n            enabled: true,\n            toolTipText: viewerConf.Clazz.TITLE ? viewerConf.Clazz.TITLE.translate().toString() : ''\n          });\n\n          openButton.show();\n        } else {\n          openButton.exclude();\n        }\n        this.getChildControl('action-button');\n        this.getChildControl('bottom-bar').show();\n      } else {\n        this.getChildControl('bottom-bar').exclude();\n      }\n    },\n\n    __scaleWithAspect() {\n      const data = cv.ui.manager.viewer.Image.getImageData(this.getIcon());\n      const control = this.getChildControl('atom').getChildControl('icon');\n      const sizeHint = control.getSizeHint();\n      let width = sizeHint.width;\n      let height = Math.round((1 / data.aspectRatio) * width);\n      const padding = [0, 0, 0, 0];\n      if (height > sizeHint.height) {\n        height = sizeHint.height;\n        width = Math.round(data.aspectRatio * height);\n        padding[1] = Math.round((sizeHint.width - width) / 2);\n        padding[3] = padding[1];\n      } else {\n        padding[0] = Math.round((sizeHint.height - height) / 2);\n        padding[2] = padding[0];\n      }\n      control.setPadding(padding);\n    },\n\n    _maintainFileTypePosition() {\n      const iconBounds = this.getChildControl('atom').getChildControl('icon').getBounds();\n      const top = Math.round(iconBounds.top + iconBounds.height / 2);\n      this.getChildControl('file-type').setLayoutProperties({\n        left: iconBounds.left,\n        top: top,\n        right: iconBounds.left + iconBounds.width,\n        bottom: top + 18\n      });\n    },\n\n    // overridden\n    _createChildControlImpl(id) {\n      let control;\n\n      switch (id) {\n        case 'atom':\n          control = new qx.ui.basic.Atom();\n          ['label', 'icon', 'gap', 'iconPosition', 'show', 'center'].forEach(function (prop) {\n            this.bind(prop, control, prop);\n          }, this);\n\n          control.setAnonymous(true);\n          this._add(control, { top: 0, left: 0, right: 0, bottom: 34 });\n          break;\n\n        case 'file-type': {\n          control = new qx.ui.basic.Label();\n          control.set({\n            zIndex: 100,\n            anonymous: true,\n            font: 'title',\n            textAlign: 'center',\n            textColor: 'surface',\n            minWidth: 70\n          });\n\n          const icon = this.getChildControl('atom').getChildControl('icon');\n          icon.bind('visibility', control, 'visibility');\n          icon.addListener('resize', this._maintainFileTypePosition, this);\n          this._add(control, { width: '100%' });\n          break;\n        }\n\n        case 'bottom-bar':\n          control = new qx.ui.container.Composite(new qx.ui.layout.HBox(4, 'center'));\n\n          control.setAnonymous(true);\n          this._add(control, { left: 0, bottom: 0, right: 0 });\n          break;\n\n        case 'download-button':\n          control = new qx.ui.form.Button(null, cv.theme.dark.Images.getIcon('download', 18));\n\n          control.setToolTipText(this.tr('Download file'));\n          control.addListener('execute', () => {\n            cv.ui.manager.control.FileController.getInstance().download(this.getModel());\n          });\n          this.getChildControl('bottom-bar').add(control);\n          break;\n\n        case 'action-button':\n          control = new qx.ui.form.Button(null, cv.theme.dark.Images.getIcon('menu', 18));\n\n          control.setToolTipText(this.tr('Other file actions'));\n          this.getChildControl('bottom-bar').add(control);\n          control.addListener('tap', ev => {\n            this.fireEvent('action', qx.event.type.Tap, [ev.getNativeEvent(), this, ev.getTarget(), false, true]);\n          });\n          break;\n\n        case 'open-button':\n          control = new qx.ui.form.Button(null, cv.theme.dark.Images.getIcon('preview', 18));\n\n          control.addListener('execute', () => {\n            qx.event.message.Bus.dispatchByName('cv.manager.openWith', {\n              file: this.getModel(),\n              handler: control.getUserData('handlerId')\n            });\n          });\n          this.getChildControl('bottom-bar').add(control);\n          break;\n\n        case 'edit-button':\n          control = new qx.ui.form.Button(null, cv.theme.dark.Images.getIcon('preview', 18));\n\n          control.addListener('execute', () => {\n            qx.event.message.Bus.dispatchByName('cv.manager.openWith', {\n              file: this.getModel(),\n              handler: control.getUserData('handlerId')\n            });\n          });\n          this.getChildControl('bottom-bar').add(control);\n          break;\n      }\n\n      if (!control) {\n        control = this._createMDragUploadChildControlImpl(id);\n      }\n\n      return control || super._createChildControlImpl(id);\n    },\n\n    // overridden\n    capture() {\n      // do not fire capture method for upload-items (see: com.zenesis.qx.upload.MUploadButton)\n      if (!this.getFile() || this.getFile().getSpecial() !== 'add-file') {\n        super.capture();\n      }\n    },\n\n    // overridden\n    releaseCapture() {\n      // do not fire capture method for upload-items (see: com.zenesis.qx.upload.MUploadButton)\n      if (!this.getFile() || this.getFile().getSpecial() !== 'add-file') {\n        super.releaseCapture();\n      }\n    }\n  },\n\n  /*\n  ***********************************************\n    DESTRUCTOR\n  ***********************************************\n  */\n  destruct() {\n    this.removeListener('pointerover', this._onPointerOver, this);\n    this.removeListener('pointerout', this._onPointerOut, this);\n\n    this._disposeObjects('_uploadManager');\n    cv.ui.manager.model.Preferences.getInstance().removeListener(\n      'changeDefaultConfigEditor',\n      this._maintainFileActions,\n      this\n    );\n  }\n});\n"
  ],
  "mappings": "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"
}