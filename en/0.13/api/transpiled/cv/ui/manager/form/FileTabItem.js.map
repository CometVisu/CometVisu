{
  "version": 3,
  "sources": [
    "/home/runner/work/CometVisu/CometVisu/source/class/cv/ui/manager/form/FileTabItem.js"
  ],
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "extend",
    "ui",
    "core",
    "Widget",
    "implement",
    "form",
    "IModel",
    "construct",
    "_setLayout",
    "layout",
    "HBox",
    "_createChildControl",
    "addListener",
    "_onPointerOver",
    "_onPointerOut",
    "events",
    "properties",
    "appearance",
    "refine",
    "init",
    "model",
    "nullable",
    "event",
    "apply",
    "dereference",
    "label",
    "check",
    "transform",
    "icon",
    "permanent",
    "modified",
    "closeable",
    "writeable",
    "members",
    "_forwardStates",
    "focused",
    "hovered",
    "selected",
    "dragover",
    "addState",
    "_transformFilename",
    "name",
    "removeState",
    "_applyPermanent",
    "value",
    "setFont",
    "_applyCloseable",
    "getChildControl",
    "setVisibility",
    "_applyModel",
    "old",
    "removeRelatedBindings",
    "bind",
    "_applyIcon",
    "control",
    "setSource",
    "show",
    "exclude",
    "_applyLabel",
    "getLabel",
    "labelValue",
    "isWriteable",
    "getModel",
    "getFile",
    "isFake",
    "getName",
    "setToolTipText",
    "tr",
    "resetToolTipText",
    "isModified",
    "setValue",
    "_onClose",
    "isCloseable",
    "fireDataEvent",
    "_createChildControlImpl",
    "id",
    "basic",
    "Image",
    "setAppearance",
    "setAnonymous",
    "_addAt",
    "Label",
    "destruct",
    "removeListener",
    "cv",
    "manager",
    "FileTabItem"
  ],
  "mappings": "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",
  "sourcesContent": [
    "/**\n *\n */\nqx.Class.define('cv.ui.manager.form.FileTabItem', {\n  extend: qx.ui.core.Widget,\n  implement : [qx.ui.form.IModel],\n\n  /*\n  ***********************************************\n    CONSTRUCTOR\n  ***********************************************\n  */\n  construct: function () {\n    this.base(arguments);\n    this._setLayout(new qx.ui.layout.HBox());\n    this._createChildControl('icon');\n    this._createChildControl('label');\n    this._createChildControl('close');\n\n    this.addListener('pointerover', this._onPointerOver, this);\n    this.addListener('pointerout', this._onPointerOut, this);\n  },\n\n  /*\n  ***********************************************\n    EVENTS\n  ***********************************************\n  */\n  events: {\n    'close': 'qx.event.type.Data',\n\n    /** (Fired by {@link qx.ui.form.List}) */\n    'action' : 'qx.event.type.Event'\n  },\n\n  /*\n  ***********************************************\n    PROPERTIES\n  ***********************************************\n  */\n  properties: {\n    appearance: {\n      refine: true,\n      init: 'open-file-item'\n    },\n\n    model: {\n      nullable: true,\n      event: 'changeModel',\n      apply: '_applyModel',\n      dereference: true\n    },\n\n    label: {\n      check: 'String',\n      nullable: true,\n      transform: '_transformFilename',\n      event: 'changeLabel',\n      apply: '_applyLabel'\n    },\n\n    icon: {\n      check: 'String',\n      nullable: true,\n      apply: '_applyIcon'\n    },\n\n    permanent: {\n      check: 'Boolean',\n      init: false,\n      apply: '_applyPermanent'\n    },\n\n    modified: {\n      check: 'Boolean',\n      init: false,\n      apply: '_applyLabel'\n    },\n\n    closeable: {\n      check: 'Boolean',\n      init: true,\n      apply: '_applyCloseable'\n    },\n\n    writeable:{\n      check: 'Boolean',\n      init: true,\n      apply: '_applyLabel'\n    }\n  },\n\n  /*\n  ***********************************************\n    MEMBERS\n  ***********************************************\n  */\n  members: { // eslint-disable-line @qooxdoo/qx/no-refs-in-members\n    // overridden\n    /**\n     * @lint ignoreReferenceField(_forwardStates)\n     */\n    _forwardStates :\n      {\n        focused : true,\n        hovered : true,\n        selected : true,\n        dragover : true\n      },\n\n\n    /**\n     * Event handler for the pointer over event.\n     */\n    _onPointerOver : function() {\n      this.addState('hovered');\n    },\n\n    _transformFilename: function(name) {\n      if (name === '.') {\n        return '';\n      }\n      return name;\n    },\n\n    /**\n     * Event handler for the pointer out event.\n     */\n    _onPointerOut : function() {\n      this.removeState('hovered');\n    },\n\n    _applyPermanent: function (value) {\n      this.setFont(value ? 'default' : 'italic');\n    },\n\n    _applyCloseable: function (value) {\n      this.getChildControl('close').setVisibility(value ? 'visible' : 'excluded');\n    },\n\n    _applyModel: function (value, old) {\n      if (old) {\n        old.removeRelatedBindings(this);\n      }\n      if (value) {\n        value.bind('file.writeable', this, 'writeable');\n      }\n    },\n\n    _applyIcon: function (value) {\n      const control = this.getChildControl('icon');\n      control.setSource(value);\n      if (value) {\n        control.show();\n      } else {\n        control.exclude();\n      }\n    },\n\n    _applyLabel: function () {\n      const label = this.getChildControl('label');\n      const value = this.getLabel();\n      if (value) {\n        let labelValue = this.getLabel();\n        // special treatment for hidden.php which is marked as fake, but has a special editor, so it has to be marked as not writeable\n        if (!this.isWriteable() && (!this.getModel().getFile().isFake() || this.getModel().getFile().getName() === 'hidden.php')) {\n          labelValue += ' !';\n          this.setToolTipText(this.tr('This file is not writeable'));\n        } else {\n          this.resetToolTipText();\n        }\n        if (this.isModified()) {\n          labelValue += ' *';\n        }\n        label.setValue(labelValue);\n        label.show();\n      } else {\n        label.exclude();\n        this.resetToolTipText();\n      }\n    },\n\n    _onClose: function () {\n      if (this.isCloseable()) {\n        this.fireDataEvent('close', this.getModel());\n      }\n    },\n\n    // overridden\n    _createChildControlImpl : function(id) {\n      let control;\n\n      switch (id) {\n         case 'icon':\n           control = new qx.ui.basic.Image();\n           control.setAppearance('open-file-item/icon');\n           control.setAnonymous(true);\n           control.exclude();\n           this._addAt(control, 0);\n           break;\n\n         case 'label':\n           control = new qx.ui.basic.Label();\n           control.setAppearance('open-file-item/label');\n           control.setAnonymous(true);\n           this._addAt(control, 1);\n           break;\n\n         case 'close':\n           control = new qx.ui.basic.Image('decoration/tabview/close.gif');\n           control.setAppearance('open-file-item/close');\n           if (this.isCloseable()) {\n             control.addListener('tap', this._onClose, this);\n           } else {\n             control.exclude();\n           }\n           this._addAt(control, 2);\n           break;\n       }\n\n       return control || this.base(arguments, id);\n    }\n  },\n\n  /*\n  ***********************************************\n    DESTRUCTOR\n  ***********************************************\n  */\n  destruct: function () {\n    this.removeListener('pointerover', this._onPointerOver, this);\n    this.removeListener('pointerout', this._onPointerOut, this);\n  }\n});\n"
  ]
}