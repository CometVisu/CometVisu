{
  "version": 3,
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "extend",
    "cv",
    "ui",
    "manager",
    "viewer",
    "Folder",
    "construct",
    "_disableFileEvents",
    "statics",
    "SUPPORTED_FILES",
    "TITLE",
    "locale",
    "Manager",
    "tr",
    "ICON",
    "theme",
    "dark",
    "Images",
    "getIcon",
    "members",
    "_getDelegate",
    "createItem",
    "core",
    "IconAtom",
    "bindItem",
    "controller",
    "item",
    "index",
    "bindProperty",
    "_onFilter",
    "filterString",
    "getChildControl",
    "getValue",
    "filtered",
    "getModel",
    "filter",
    "entry",
    "includes",
    "_controller",
    "setModel",
    "_applyFile",
    "file",
    "old",
    "container",
    "data",
    "List",
    "setDelegate",
    "model",
    "handler",
    "IconHandler",
    "getInstance",
    "Object",
    "keys",
    "IconConfig",
    "DB",
    "forEach",
    "name",
    "push",
    "getIconSource",
    "getPermanentFilter",
    "resetModel",
    "Icons"
  ],
  "sources": [
    "/home/runner/work/CometVisu/CometVisu/source/class/cv/ui/manager/viewer/Icons.js"
  ],
  "sourcesContent": [
    "/* Icons.js\n *\n * copyright (c) 2010-2022, Christian Mayer and the CometVisu contributers.\n *\n * This program is free software; you can redistribute it and/or modify it\n * under the terms of the GNU General Public License as published by the Free\n * Software Foundation; either version 3 of the License, or (at your option)\n * any later version.\n *\n * This program is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for\n * more details.\n *\n * You should have received a copy of the GNU General Public License along\n * with this program; if not, write to the Free Software Foundation, Inc.,\n * 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA\n */\n\n/**\n * Shows the available icons.\n */\nqx.Class.define('cv.ui.manager.viewer.Icons', {\n  extend: cv.ui.manager.viewer.Folder,\n\n  /*\n  ***********************************************\n    CONSTRUCTOR\n  ***********************************************\n  */\n  construct() {\n    this._disableFileEvents = true;\n    super(true);\n  },\n\n  /*\n  ***********************************************\n    STATICS\n  ***********************************************\n  */\n  statics: {\n    SUPPORTED_FILES: /^CometVisu-Icons$/i,\n    TITLE: qx.locale.Manager.tr('Show icons'),\n    ICON: cv.theme.dark.Images.getIcon('icons', 18)\n  },\n\n  /*\n  ***********************************************\n    MEMBERS\n  ***********************************************\n  */\n  members: {\n    _getDelegate() {\n      return {\n        createItem() {\n          return new cv.ui.manager.core.IconAtom();\n        },\n\n        bindItem(controller, item, index) {\n          controller.bindProperty('', 'model', null, item, index);\n        }\n      };\n    },\n\n    _onFilter() {\n      const filterString = this.getChildControl('filter').getValue();\n      const filtered = this.getModel().filter(function (entry) {\n        return entry[0].includes(filterString);\n      });\n      this._controller.setModel(filtered);\n    },\n\n    _applyFile(file, old) {\n      if (file) {\n        const container = this.getChildControl('list');\n        if (!this._controller) {\n          this._controller = new qx.data.controller.List(null, container);\n          this._controller.setDelegate(this._getDelegate());\n        }\n        const model = this.getModel();\n        const handler = cv.IconHandler.getInstance();\n        // as the file is just a fake file, we do not really care about it\n        Object.keys(cv.IconConfig.DB).forEach(name => {\n          model.push([name, handler.getIconSource(name, 'icon-preview')]);\n        });\n        if (this.getChildControl('filter').getValue() || this.getPermanentFilter()) {\n          this._onFilter();\n        } else {\n          this._controller.setModel(model);\n        }\n      } else if (this._controller) {\n        this._controller.resetModel();\n      }\n    }\n  }\n});\n"
  ],
  "mappings": "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"
}