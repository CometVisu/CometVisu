{
  "version": 3,
  "sources": [
    "/home/runner/work/CometVisu/CometVisu/source/class/cv/ui/manager/basic/Image.js"
  ],
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "extend",
    "ui",
    "core",
    "Widget",
    "construct",
    "source",
    "__contentElements",
    "setSource",
    "properties",
    "check",
    "init",
    "nullable",
    "event",
    "apply",
    "themeable",
    "transform",
    "scale",
    "forceScale",
    "forceRatio",
    "allowScaleUp",
    "appearance",
    "refine",
    "allowShrinkX",
    "allowShrinkY",
    "allowGrowX",
    "allowGrowY",
    "events",
    "loadingFailed",
    "loaded",
    "aborted",
    "statics",
    "PLACEHOLDER_IMAGE",
    "members",
    "__width",
    "__height",
    "__mode",
    "__currentContentElement",
    "__wrapper",
    "__requestId",
    "_transformSource",
    "value",
    "startsWith",
    "ResourceManager",
    "util",
    "getInstance",
    "has",
    "substring",
    "length",
    "_onChangeTheme",
    "_styleSource",
    "getContentElement",
    "__getSuitableContentElement",
    "_createContentElement",
    "_getContentHint",
    "width",
    "height",
    "_applyDecorator",
    "old",
    "getSource",
    "AliasManager",
    "resolve",
    "el",
    "getChild",
    "__setSource",
    "_applyTextColor",
    "__getMode",
    "setStyle",
    "theme",
    "manager",
    "Color",
    "removeStyle",
    "_applyPadding",
    "name",
    "element",
    "setStyles",
    "top",
    "getPaddingTop",
    "left",
    "getPaddingLeft",
    "html",
    "Image",
    "setPadding",
    "renderLayout",
    "getPaddingRight",
    "getPaddingBottom",
    "_applyEnabled",
    "_applySource",
    "io",
    "ImageLoader",
    "isLoading",
    "abort",
    "_applyScale",
    "__setMode",
    "mode",
    "lang",
    "String",
    "isPng",
    "endsWith",
    "getScale",
    "Environment",
    "get",
    "getForceScale",
    "__createSuitableContentElement",
    "tagName",
    "Clazz",
    "Element",
    "Label",
    "connectWidget",
    "setRich",
    "setScale",
    "wrapper",
    "add",
    "$$disposed",
    "__resetSource",
    "__checkForContentElementSwitch",
    "parseInt",
    "repeat",
    "tagNameHint",
    "bom",
    "Decoration",
    "getTagName",
    "contentEl",
    "__getContentElement",
    "isFontUri",
    "__setManagedImage",
    "color",
    "getTextColor",
    "Type",
    "isString",
    "highResolutionSource",
    "findHighResolutionSource",
    "imageWidth",
    "getImageWidth",
    "imageHeight",
    "getImageHeight",
    "setWidth",
    "setHeight",
    "backgroundSize",
    "__fireLoadEvent",
    "isLoaded",
    "__setUnmanagedImage",
    "__loadUnmanagedImage",
    "AnimationFrame",
    "request",
    "rId",
    "fireEvent",
    "bind",
    "select",
    "alphaImageLoader",
    "isFont",
    "isSvg",
    "__checkForContentElementReplacement",
    "elementToAdd",
    "currentContentElement",
    "pixel",
    "styles",
    "currentStyles",
    "getAllStyles",
    "prop",
    "backgroundImage",
    "bounds",
    "getBounds",
    "insets",
    "getInsets",
    "getStyle",
    "zIndex",
    "newEl",
    "setSelectable",
    "getSelectable",
    "isVisible",
    "hide",
    "show",
    "isIncluded",
    "exclude",
    "include",
    "container",
    "getParent",
    "index",
    "getChildren",
    "indexOf",
    "removeAt",
    "addAt",
    "hint",
    "getNodeName",
    "setValue",
    "removeAll",
    "currentEl",
    "setAttribute",
    "getAttribute",
    "flush",
    "currentDomEl",
    "getDomElement",
    "newDomEl",
    "listeners",
    "getListeners",
    "forEach",
    "listenerData",
    "addListener",
    "type",
    "handler",
    "self",
    "capture",
    "currentHash",
    "$$hash",
    "getEnabled",
    "disabled",
    "replace",
    "addState",
    "removeState",
    "split",
    "getSizeHint",
    "getWidth",
    "getHeight",
    "font",
    "Font",
    "match",
    "size",
    "getSize",
    "__updateContentHint",
    "_applyDimension",
    "isFailed",
    "load",
    "__loaderCallback",
    "resetSource",
    "resetValue",
    "child",
    "useMarkup",
    "sparts",
    "fontSource",
    "fontStyles",
    "Object",
    "clone",
    "getStyles",
    "resource",
    "getData",
    "fromCharCode",
    "charCode",
    "decorator",
    "getDecorator",
    "hasGradient",
    "getStartColor",
    "getEndColor",
    "hasBackground",
    "getBackgroundImage",
    "attr",
    "getAttributes",
    "decoratorStyle",
    "combinedStyles",
    "style",
    "backgroundPosition",
    "backgroundRepeat",
    "getBackgroundRepeat",
    "imageInfo",
    "failed",
    "warn",
    "undefined",
    "_recalc",
    "queue",
    "Layout",
    "originalWidth",
    "originalHeight",
    "maxWidth",
    "getMaxWidth",
    "maxHeight",
    "getMaxHeight",
    "minWidth",
    "getMinWidth",
    "minHeight",
    "getMinHeight",
    "ratio",
    "getForceRatio",
    "isAllowScaleUp",
    "Math",
    "round",
    "destruct",
    "prototype",
    "hasOwnProperty",
    "call",
    "disconnectWidget",
    "_disposeMap",
    "cv",
    "basic"
  ],
  "mappings": "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",
  "sourcesContent": [
    "/* Image.js \n * \n * copyright (c) 2010-2022, Christian Mayer and the CometVisu contributers.\n * \n * This program is free software; you can redistribute it and/or modify it\n * under the terms of the GNU General Public License as published by the Free\n * Software Foundation; either version 3 of the License, or (at your option)\n * any later version.\n *\n * This program is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for\n * more details.\n *\n * You should have received a copy of the GNU General Public License along\n * with this program; if not, write to the Free Software Foundation, Inc.,\n * 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA\n */\n\n\n/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Fabian Jakobs (fjakobs)\n     * Sebastian Werner (wpbasti)\n\n************************************************************************ */\n\n/**\n * The image class displays an image file\n *\n * This class supports image clipping, which means that multiple images can be combined\n * into one large image and only the relevant part is shown.\n *\n * *Example*\n *\n * Here is a little example of how to use the widget.\n *\n * <pre class='javascript'>\n *   var image = new qx.ui.basic.Image(\"icon/32/actions/format-justify-left.png\");\n *\n *   this.getRoot().add(image);\n * </pre>\n *\n * This example create a widget to display the image\n * <code>icon/32/actions/format-justify-left.png</code>.\n *\n * *External Documentation*\n *\n * <a href='http://qooxdoo.org/docs/#desktop/widget/image.md' target='_blank'>\n * Documentation of this widget in the qooxdoo manual.</a>\n *\n * NOTE: Instances of this class must be disposed of after use\n *\n */\nqx.Class.define('cv.ui.manager.basic.Image',\n  {\n    extend : qx.ui.core.Widget,\n\n\n\n    /*\n    *****************************************************************************\n       CONSTRUCTOR\n    *****************************************************************************\n    */\n\n    /**\n     * @param source {String?null} The URL of the image to display.\n     */\n    construct : function(source) {\n      this.__contentElements = {};\n\n      this.base(arguments);\n\n      if (source) {\n        this.setSource(source);\n      }\n    },\n\n\n\n\n    /*\n    *****************************************************************************\n       PROPERTIES\n    *****************************************************************************\n    */\n\n    properties :\n      {\n        /** The URL of the image. Setting it will possibly abort loading of current image. */\n        source :\n          {\n            check : 'String',\n            init : null,\n            nullable : true,\n            event : 'changeSource',\n            apply : '_applySource',\n            themeable : true,\n            transform: '_transformSource'\n          },\n\n\n        /**\n         * Whether the image should be scaled to the given dimensions\n         *\n         * This is disabled by default because it prevents the usage\n         * of image clipping when enabled.\n         */\n        scale :\n          {\n            check : 'Boolean',\n            init : false,\n            event : 'changeScale',\n            themeable : true,\n            apply : '_applyScale'\n          },\n\n        forceScale: {\n          check: 'Boolean',\n          init: false\n        },\n\n        /**\n         * Whether to preserve the image ratio (ie prevent distortion), and which dimension\n         * to prioritise\n         */\n        forceRatio : {\n          init : 'auto',\n          check : [ 'disabled', 'height', 'width', 'auto' ],\n          apply : '_applyDimension'\n        },\n\n        /**\n         * Whether to allow scaling the image up\n         */\n        allowScaleUp : {\n          init : false,\n          check : 'Boolean',\n          apply : '_applyDimension'\n        },\n\n        // overridden\n        appearance :\n          {\n            refine : true,\n            init : 'image'\n          },\n\n\n        // overridden\n        allowShrinkX :\n          {\n            refine : true,\n            init : false\n          },\n\n\n        // overridden\n        allowShrinkY :\n          {\n            refine : true,\n            init : false\n          },\n\n\n        // overridden\n        allowGrowX :\n          {\n            refine : true,\n            init : false\n          },\n\n\n        // overridden\n        allowGrowY :\n          {\n            refine : true,\n            init : false\n          }\n      },\n\n\n    /*\n    *****************************************************************************\n       EVENTS\n    *****************************************************************************\n    */\n\n    events :\n      {\n        /**\n         * Fired if the image source can not be loaded. This event can only be\n         * fired for the first loading of an unmanaged resource (external image).\n         */\n        loadingFailed : 'qx.event.type.Event',\n\n\n        /**\n         * Fired if the image has been loaded. This is even true for managed\n         * resources (images known by generator).\n         */\n        loaded : 'qx.event.type.Event',\n\n\n        /** Fired when the pending request has been aborted. */\n        aborted : 'qx.event.type.Event'\n      },\n\n\n    statics:\n      {\n        PLACEHOLDER_IMAGE: 'data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7'\n      },\n\n    /*\n    *****************************************************************************\n       MEMBERS\n    *****************************************************************************\n    */\n\n    members :\n      {\n        __width : null,\n        __height : null,\n        __mode : null,\n        __contentElements : null,\n        __currentContentElement : null,\n        __wrapper : null,\n        __requestId : 0,\n\n        /**\n         * Remove the \"resource/\" prefix when the ResourceManager knows the image\n         * @param value\n         * @return {*}\n         * @private\n         */\n        _transformSource: function (value) {\n          if (value && value.startsWith('resource/')) {\n            const ResourceManager = qx.util.ResourceManager.getInstance();\n            if (ResourceManager.has(value.substring('resource/'.length))) {\n              return value.substring('resource/'.length);\n            }\n          }\n          return value;\n        },\n\n\n        // overridden\n        _onChangeTheme : function() {\n          this.base(arguments);\n          // restyle source (theme change might have changed the resolved url)\n          this._styleSource();\n        },\n\n        /*\n        ---------------------------------------------------------------------------\n          WIDGET API\n        ---------------------------------------------------------------------------\n        */\n\n        // overridden\n        getContentElement : function() {\n          return this.__getSuitableContentElement();\n        },\n\n\n        // overridden\n        _createContentElement : function() {\n          return this.__getSuitableContentElement();\n        },\n\n\n        // overridden\n        _getContentHint : function() {\n          return {\n            width : this.__width || 0,\n            height : this.__height || 0\n          };\n        },\n\n        // overridden\n        _applyDecorator : function(value, old) {\n          this.base(arguments, value, old);\n\n          let source = this.getSource();\n          source = qx.util.AliasManager.getInstance().resolve(source);\n          let el = this.getContentElement();\n          if (this.__wrapper) {\n            el = el.getChild(0);\n          }\n          this.__setSource(el, source);\n        },\n\n        // overridden\n        _applyTextColor : function(value) {\n          if (this.__getMode() === 'font') {\n            let el = this.getContentElement();\n            if (this.__wrapper) {\n              el = el.getChild(0);\n            }\n\n            if (value) {\n              el.setStyle('color', qx.theme.manager.Color.getInstance().resolve(value));\n            } else {\n              el.removeStyle('color');\n            }\n          }\n        },\n\n        // overridden\n        _applyPadding : function(value, old, name) {\n          this.base(arguments, value, old, name);\n\n          const element = this.getContentElement();\n          if (this.__wrapper) {\n            element.getChild(0).setStyles({\n              top: this.getPaddingTop() || 0,\n              left: this.getPaddingLeft() || 0\n            });\n          } else if (this.__getMode() === 'font') {\n            element.setStyles({\n              top: this.getPaddingTop() || 0,\n              left: this.getPaddingLeft() || 0\n            });\n          } else if (element instanceof qx.html.Image) {\n            element.setPadding(\n              this.getPaddingLeft() || 0, this.getPaddingTop() || 0\n            );\n          }\n        },\n\n        renderLayout : function(left, top, width, height) {\n          this.base(arguments, left, top, width, height);\n\n          const element = this.getContentElement();\n          if (this.__wrapper) {\n            element.getChild(0).setStyles({\n              width: width - (this.getPaddingLeft() || 0) - (this.getPaddingRight() || 0),\n              height: height - (this.getPaddingTop() || 0) - (this.getPaddingBottom() || 0),\n              top: this.getPaddingTop() || 0,\n              left: this.getPaddingLeft() || 0\n            });\n          }\n        },\n\n\n\n\n        /*\n        ---------------------------------------------------------------------------\n          IMAGE API\n        ---------------------------------------------------------------------------\n        */\n\n        // property apply, overridden\n        _applyEnabled : function(value, old) {\n          this.base(arguments, value, old);\n\n          if (this.getSource()) {\n            this._styleSource();\n          }\n        },\n\n\n        // property apply\n        _applySource : function(value, old) {\n          // abort loading current image\n          if (old) {\n            if (qx.io.ImageLoader.isLoading(old)) {\n              qx.io.ImageLoader.abort(old);\n            }\n          }\n\n          this._styleSource();\n        },\n\n\n        // property apply\n        _applyScale : function(value) {\n          this._styleSource();\n        },\n\n\n        /**\n         * Remembers the mode to keep track which contentElement is currently in use.\n         * @param mode {String} internal mode (alphaScaled|scaled|nonScaled)\n         */\n        __setMode : function(mode) {\n          this.__mode = mode;\n        },\n\n\n        /**\n         * Returns the current mode if set. Otherwise checks the current source and\n         * the current scaling to determine the current mode.\n         *\n         * @return {String} current internal mode\n         */\n        __getMode : function() {\n          if (this.__mode === null) {\n            const source = this.getSource();\n\n            if (source && qx.lang.String.startsWith(source, '@')) {\n              this.__mode = 'font';\n            } else if (source && source.startsWith('<svg')) {\n              this.__mode = 'svg';\n            } else {\n              let isPng = false;\n              if (source !== null) {\n                isPng = source.endsWith('.png');\n              }\n\n              if (this.getScale() && isPng && qx.core.Environment.get('css.alphaimageloaderneeded')) {\n                this.__mode = 'alphaScaled';\n              } else if (this.getScale() || this.getForceScale()) {\n                this.__mode = 'scaled';\n              } else {\n                this.__mode = 'nonScaled';\n              }\n            }\n          }\n\n          return this.__mode;\n        },\n\n\n        /**\n         * Creates a contentElement suitable for the current mode\n         *\n         * @param mode {String} internal mode\n         * @return {qx.html.Image} suitable image content element\n         */\n        __createSuitableContentElement : function(mode) {\n          let scale;\n          let tagName;\n          let Clazz = qx.html.Image;\n\n          switch (mode) {\n            case 'svg':\n              Clazz = qx.html.Element;\n              tagName = 'div';\n              break;\n            case 'font':\n              Clazz = qx.html.Label;\n              scale = true;\n              tagName = 'div';\n              break;\n            case 'alphaScaled':\n              scale = true;\n              tagName = 'div';\n              break;\n            case 'nonScaled':\n              scale = false;\n              tagName = 'div';\n              break;\n            default:\n              scale = true;\n              tagName = 'img';\n              break;\n          }\n\n          const element = new (Clazz)(tagName);\n          element.connectWidget(this);\n          element.setStyles({\n            'overflowX': 'hidden',\n            'overflowY': 'hidden',\n            'boxSizing': 'border-box'\n          });\n\n          if (mode === 'font') {\n            element.setRich(true);\n          } else if (mode !== 'svg') {\n            element.setScale(scale);\n\n            if (qx.core.Environment.get('css.alphaimageloaderneeded')) {\n              const wrapper = this.__wrapper = new qx.html.Element('div');\n              element.connectWidget(this);\n              wrapper.setStyle('position', 'absolute');\n              wrapper.add(element);\n              return wrapper;\n            }\n          }\n\n          return element;\n        },\n\n\n        /**\n         * Returns a contentElement suitable for the current mode\n         *\n         * @return {qx.html.Image} suitable image contentElement\n         */\n        __getSuitableContentElement : function() {\n          if (this.$$disposed) {\n            return null;\n          }\n\n          const mode = this.__getMode();\n\n          if (!this.__contentElements[mode]) {\n            this.__contentElements[mode] = this.__createSuitableContentElement(mode);\n          }\n\n          const element = this.__contentElements[mode];\n\n          if (!this.__currentContentElement) {\n            this.__currentContentElement = element;\n          }\n\n          return element;\n        },\n\n\n        /**\n         * Applies the source to the clipped image instance or preload\n         * an image to detect sizes and apply it afterwards.\n         *\n         */\n        _styleSource : function() {\n          const AliasManager = qx.util.AliasManager.getInstance();\n          const ResourceManager = qx.util.ResourceManager.getInstance();\n\n          let source = AliasManager.resolve(this.getSource());\n\n          let element = this.getContentElement();\n          if (this.__wrapper) {\n            element = element.getChild(0);\n          }\n\n          if (!source) {\n            this.__resetSource(element);\n            return;\n          }\n\n          this.__checkForContentElementSwitch(source);\n\n          if ((qx.core.Environment.get('engine.name') == 'mshtml') &&\n            (parseInt(qx.core.Environment.get('engine.version'), 10) < 9 ||\n              qx.core.Environment.get('browser.documentmode') < 9)) {\n            const repeat = this.getScale() ? 'scale' : 'no-repeat';\n            element.tagNameHint = qx.bom.element.Decoration.getTagName(repeat, source);\n          }\n\n          const contentEl = this.__getContentElement();\n\n          // Detect if the image registry knows this image\n          if (ResourceManager.isFontUri(source)) {\n            this.__setManagedImage(contentEl, source);\n            const color = this.getTextColor();\n            if (qx.lang.Type.isString(color)) {\n              this._applyTextColor(color, null);\n            }\n          } else if (source && source.startsWith('<svg')) {\n            this.__setManagedImage(contentEl, source);\n          } else if (ResourceManager.has(source)) {\n            const highResolutionSource = ResourceManager.findHighResolutionSource(source);\n            if (highResolutionSource) {\n              const imageWidth = ResourceManager.getImageWidth(source);\n              const imageHeight = ResourceManager.getImageHeight(source);\n              this.setWidth(imageWidth);\n              this.setHeight(imageHeight);\n\n              // set background size on current element (div or img)\n              const backgroundSize = imageWidth + 'px, ' + imageHeight + 'px';\n              this.__currentContentElement.setStyle('background-size', backgroundSize);\n\n              this.setSource(highResolutionSource);\n              source = highResolutionSource;\n            }\n            this.__setManagedImage(contentEl, source);\n            this.__fireLoadEvent();\n          } else if (qx.io.ImageLoader.isLoaded(source)) {\n            this.__setUnmanagedImage(contentEl, source);\n            this.__fireLoadEvent();\n          } else {\n            this.__loadUnmanagedImage(contentEl, source);\n          }\n        },\n\n\n        /**\n         * Helper function, which fires <code>loaded</code> event asynchronously.\n         * It emulates native <code>loaded</code> event of an image object. This\n         * helper will be called, if you try to load a managed image or an\n         * previously loaded unmanaged image.\n         */\n        __fireLoadEvent : function() {\n          this.__requestId++;\n          qx.bom.AnimationFrame.request(function(rId) {\n            // prevent firing of the event if source changed in the meantime\n            if (rId === this.__requestId) {\n              this.fireEvent('loaded');\n            } else {\n              this.fireEvent('aborted');\n            }\n          }.bind(this, this.__requestId));\n        },\n\n\n        /**\n         * Returns the content element.\n         * @return {qx.html.Image} content element\n         */\n        __getContentElement : function() {\n          let contentEl = this.__currentContentElement;\n          if (this.__wrapper) {\n            contentEl = contentEl.getChild(0);\n          }\n\n          return contentEl;\n        },\n\n\n        /**\n         * Checks if the current content element is capable to display the image\n         * with the current settings (scaling, alpha PNG)\n         *\n         * @param source {String} source of the image\n         */\n        __checkForContentElementSwitch : qx.core.Environment.select('engine.name',\n          {\n            'mshtml' : function(source) {\n              const alphaImageLoader = qx.core.Environment.get('css.alphaimageloaderneeded');\n              const isPng = source.endsWith('.png');\n              const isFont = source.startsWith('@');\n              const isSvg = source.startsWith('<svg');\n              const scale = this.getScale() || this.getForceScale();\n\n              if (isFont) {\n                this.__setMode('font');\n              } else if (isSvg) {\n                this.__setMode('svg');\n              } else if (alphaImageLoader && isPng) {\n                if (scale && this.__getMode() !== 'alphaScaled') {\n                  this.__setMode('alphaScaled');\n                } else if (!scale && this.__getMode() !== 'nonScaled') {\n                  this.__setMode('nonScaled');\n                }\n              } else if (scale && this.__getMode() !== 'scaled') {\n                  this.__setMode('scaled');\n                } else if (!scale && this.__getMode() !== 'nonScaled') {\n                  this.__setMode('nonScaled');\n                }\n\n              this.__checkForContentElementReplacement(this.__getSuitableContentElement());\n            },\n\n            'default' : function(source) {\n              const isFont = source && qx.lang.String.startsWith(source, '@');\n              const isSvg = source.startsWith('<svg');\n              const scale = this.getScale() || this.getForceScale();\n\n              if (isFont) {\n                this.__setMode('font');\n              } else if (isSvg) {\n                this.__setMode('svg');\n              } else if (scale && this.__getMode() !== 'scaled') {\n                this.__setMode('scaled');\n              } else if (!scale && this.__getMode() !== 'nonScaled') {\n                this.__setMode('nonScaled');\n              }\n\n              this.__checkForContentElementReplacement(this.__getSuitableContentElement());\n            }\n          }),\n\n\n        /**\n         * Checks the current child and replaces it if necessary\n         *\n         * @param elementToAdd {qx.html.Image} content element to add\n         */\n        __checkForContentElementReplacement : function(elementToAdd) {\n          const currentContentElement = this.__currentContentElement;\n\n          if (currentContentElement !== elementToAdd) {\n            if (currentContentElement !== null) {\n              const pixel = 'px';\n              const styles = {};\n\n              //inherit styles from current element\n              const currentStyles = currentContentElement.getAllStyles();\n              if (currentStyles) {\n                for (let prop in currentStyles) {\n                  styles[prop] = currentStyles[prop];\n                }\n              }\n\n              // Don't transfer background image when switching from image to icon font\n              if (this.__getMode() === 'font' || this.__getMode() === 'svg') {\n                delete styles.backgroundImage;\n              }\n\n              // Copy dimension and location of the current content element\n              const bounds = this.getBounds();\n              if (bounds !== null) {\n                styles.width = bounds.width + pixel;\n                styles.height = bounds.height + pixel;\n              }\n\n              const insets = this.getInsets();\n              styles.left = parseInt(currentContentElement.getStyle('left') || insets.left) + pixel;\n              styles.top = parseInt(currentContentElement.getStyle('top') || insets.top) + pixel;\n\n              styles.zIndex = 10;\n\n              const newEl = this.__wrapper ? elementToAdd.getChild(0) : elementToAdd;\n              newEl.setStyles(styles, true);\n              newEl.setSelectable(this.getSelectable());\n\n              if (!currentContentElement.isVisible()) {\n                elementToAdd.hide();\n              } else if (!elementToAdd.isVisible()) {\n                elementToAdd.show();\n              }\n\n              if (!currentContentElement.isIncluded()) {\n                elementToAdd.exclude();\n              } else if (!elementToAdd.isIncluded()) {\n                elementToAdd.include();\n              }\n\n              const container = currentContentElement.getParent();\n\n              if (container) {\n                const index = container.getChildren().indexOf(currentContentElement);\n                container.removeAt(index);\n                container.addAt(elementToAdd, index);\n              }\n              // force re-application of source so __setSource is called again\n              const hint = newEl.getNodeName();\n              if (newEl.setSource) {\n                newEl.setSource(null);\n              } else if (newEl.setValue) {\n                newEl.setValue('');\n              } else {\n                newEl.removeAll();\n              }\n              const currentEl = this.__getContentElement();\n              newEl.tagNameHint = hint;\n              newEl.setAttribute('class', currentEl.getAttribute('class'));\n\n              // Flush elements to make sure the DOM elements are created.\n              qx.html.Element.flush();\n              const currentDomEl = currentEl.getDomElement();\n              const newDomEl = elementToAdd.getDomElement();\n\n              // copy event listeners\n              const listeners = currentContentElement.getListeners() || [];\n              listeners.forEach(function(listenerData) {\n                elementToAdd.addListener(listenerData.type, listenerData.handler, listenerData.self, listenerData.capture);\n              });\n\n              if (currentDomEl && newDomEl) {\n                // Switch the DOM elements' hash codes. This is required for the event\n                // layer to work [BUG #7447]\n                const currentHash = currentDomEl.$$hash;\n                currentDomEl.$$hash = newDomEl.$$hash;\n                newDomEl.$$hash = currentHash;\n              }\n\n              this.__currentContentElement = elementToAdd;\n            }\n          }\n        },\n\n\n        /**\n         * Use the ResourceManager to set a managed image\n         *\n         * @param el {Element} image DOM element\n         * @param source {String} source path\n         */\n        __setManagedImage : function(el, source) {\n          const ResourceManager = qx.util.ResourceManager.getInstance();\n          const isFont = ResourceManager.isFontUri(source);\n          const isSvg = source.startsWith('<svg');\n\n          // Try to find a disabled image in registry\n          if (!this.getEnabled()) {\n            const disabled = source.replace(/\\.([a-z]+)$/, '-disabled.$1');\n            if (!isFont && ResourceManager.has(disabled)) {\n              source = disabled;\n              this.addState('replacement');\n            } else {\n              this.removeState('replacement');\n            }\n          }\n\n          // Optimize case for enabled changes when no disabled image was found\n          if (!isFont && !isSvg && el.getSource() === source) {\n            return;\n          }\n\n          // Special case for non resource manager handled font icons\n          if (isFont) {\n            // Don't use scale if size is set via postfix\n            if (this.getScale() && parseInt(source.split('/')[2], 10)) {\n              this.setScale(false);\n            }\n\n            // Adjust size if scaling is applied\n            let width;\n            let height;\n            if (this.getScale()) {\n              const hint = this.getSizeHint();\n              width = this.getWidth() || hint.width;\n              height = this.getHeight() || hint.height;\n            } else {\n              const font = qx.theme.manager.Font.getInstance().resolve(source.match(/@([^/]+)/)[1]);\n              if (qx.core.Environment.get('qx.debug')) {\n                this.assertObject(font, 'Virtual image source contains unkown font descriptor');\n              }\n              const size = parseInt(source.split('/')[2] || font.getSize(), 10);\n              width = ResourceManager.getImageWidth(source) || size;\n              height = ResourceManager.getImageHeight(source) || size;\n            }\n\n            this.__updateContentHint(width, height);\n            this.__setSource(el, source);\n          } else if (isSvg) {\n            // Apply source\n            this.__setSource(el, source);\n\n            // Adjust size\n            this.__updateContentHint(40, 40);\n          } else {\n            // Apply source\n            this.__setSource(el, source);\n\n            // Compare with old sizes and relayout if necessary\n            this.__updateContentHint(\n              ResourceManager.getImageWidth(source),\n              ResourceManager.getImageHeight(source)\n            );\n          }\n        },\n\n        _applyDimension : function() {\n          this.base(arguments);\n\n          const isFont = this.getSource() && qx.lang.String.startsWith(this.getSource(), '@');\n          if (isFont) {\n            const el = this.getContentElement();\n            if (el) {\n              if (this.getScale()) {\n                const hint = this.getSizeHint();\n                const width = this.getWidth() || hint.width || 40;\n                const height = this.getHeight() || hint.height || 40;\n                el.setStyle('fontSize', (width > height ? height : width) + 'px');\n              } else {\n                const font = qx.theme.manager.Font.getInstance().resolve(this.getSource().match(/@([^/]+)/)[1]);\n                el.setStyle('fontSize', font.getSize() + 'px');\n              }\n            }\n          } else {\n            this.__updateContentHint();\n          }\n        },\n\n        /**\n         * Use the infos of the ImageLoader to set an unmanaged image\n         *\n         * @param el {Element} image DOM element\n         * @param source {String} source path\n         */\n        __setUnmanagedImage : function(el, source) {\n          const ImageLoader = qx.io.ImageLoader;\n\n          // Apply source\n          this.__setSource(el, source);\n\n          // Compare with old sizes and relayout if necessary\n          const width = ImageLoader.getWidth(source);\n          const height = ImageLoader.getHeight(source);\n          this.__updateContentHint(width, height);\n        },\n\n\n        /**\n         * Use the ImageLoader to load an unmanaged image\n         *\n         * @param el {Element} image DOM element\n         * @param source {String} source path\n         */\n        __loadUnmanagedImage : function(el, source) {\n          const ImageLoader = qx.io.ImageLoader;\n\n          if (qx.core.Environment.get('qx.debug')) {\n            // loading external images via HTTP/HTTPS is a common usecase, as is\n            // using data URLs.\n            const sourceLC = source.toLowerCase();\n            if (!sourceLC.startsWith('http') &&\n              !sourceLC.startsWith('data:image/')) {\n              const self = this.self(arguments);\n\n              if (!self.__warned) {\n                self.__warned = {};\n              }\n\n              if (!self.__warned[source]) {\n                this.debug('try to load an unmanaged relative image: ' + source);\n                self.__warned[source] = true;\n              }\n            }\n          }\n\n          // only try to load the image if it not already failed\n          if (!ImageLoader.isFailed(source)) {\n            ImageLoader.load(source, this.__loaderCallback, this);\n          } else {\n            this.__resetSource(el);\n          }\n        },\n\n        /**\n         * Reset source displayed by the DOM element.\n         *\n         * @param el {Element} image DOM element\n         */\n        __resetSource : function(el) {\n          if (el !== null) {\n            if (el instanceof qx.html.Image) {\n              el.resetSource();\n            } else if (el instanceof qx.html.Label) {\n              el.resetValue();\n            } else {\n              el.removeAll();\n            }\n          }\n        },\n\n        /**\n         * Combines the decorator's image styles with our own image to make sure\n         * gradient and backgroundImage decorators work on Images.\n         *\n         * @param el {Element} image DOM element\n         * @param source {String} source path\n         */\n        __setSource: function (el, source) {\n          const isFont = source && qx.lang.String.startsWith(source, '@');\n          const isSvg = source && qx.lang.String.startsWith(source, '<svg');\n\n          if (isSvg) {\n            const child = new qx.html.Element('svg');\n            child.useMarkup(source);\n            el.removeAll();\n            el.add(child);\n          } else if (isFont) {\n            const sparts = source.split('/');\n            let fontSource = source;\n            if (sparts.length > 2) {\n              fontSource = sparts[0] + '/' + sparts[1];\n            }\n\n\n            const ResourceManager = qx.util.ResourceManager.getInstance();\n            const font = qx.theme.manager.Font.getInstance().resolve(source.match(/@([^/]+)/)[1]);\n            const fontStyles = qx.lang.Object.clone(font.getStyles());\n            delete fontStyles.color;\n            el.setStyles(fontStyles);\n            el.setStyle('font');\n            el.setStyle('display', 'table-cell');\n            el.setStyle('verticalAlign', 'middle');\n            el.setStyle('textAlign', 'center');\n\n            if (this.getScale()) {\n              el.setStyle('fontSize', (this.__width > this.__height ? this.__height : this.__width) + 'px');\n            } else {\n              const size = parseInt(sparts[2] || qx.theme.manager.Font.getInstance().resolve(source.match(/@([^/]+)/)[1]).getSize());\n              el.setStyle('fontSize', size + 'px');\n            }\n\n            const resource = ResourceManager.getData(fontSource);\n            if (resource) {\n              el.setValue(String.fromCharCode(resource[2]));\n            } else {\n              const charCode = parseInt(qx.theme.manager.Font.getInstance().resolve(source.match(/@([^/]+)\\/(.*)$/)[2]), 16);\n              if (qx.core.Environment.get('qx.debug')) {\n                this.assertNumber(charCode, 'Font source needs either a glyph name or the unicode number in hex');\n              }\n              el.setValue(String.fromCharCode(charCode));\n            }\n\n            return;\n          } else if (el.getNodeName() === 'div') {\n            // checks if a decorator already set.\n            // In this case we have to merge background styles\n            const decorator = qx.theme.manager.Decoration.getInstance().resolve(this.getDecorator());\n            if (decorator) {\n              const hasGradient = (decorator.getStartColor() && decorator.getEndColor());\n              const hasBackground = decorator.getBackgroundImage();\n              if (hasGradient || hasBackground) {\n                const repeat = this.getScale() ? 'scale' : 'no-repeat';\n\n                // get the style attributes for the given source\n                const attr = qx.bom.element.Decoration.getAttributes(source, repeat);\n                // get the background image(s) defined by the decorator\n                const decoratorStyle = decorator.getStyles(true);\n\n                const combinedStyles = {\n                  'backgroundImage': attr.style.backgroundImage,\n                  'backgroundPosition': (attr.style.backgroundPosition || '0 0'),\n                  'backgroundRepeat': (attr.style.backgroundRepeat || 'no-repeat')\n                };\n\n                if (hasBackground) {\n                  combinedStyles['backgroundPosition'] += ',' + decoratorStyle['background-position'] || '0 0';\n                  combinedStyles['backgroundRepeat'] += ', ' + decorator.getBackgroundRepeat();\n                }\n\n                if (hasGradient) {\n                  combinedStyles['backgroundPosition'] += ', 0 0';\n                  combinedStyles['backgroundRepeat'] += ', no-repeat';\n                }\n\n                combinedStyles['backgroundImage'] += ',' + (decoratorStyle['background-image'] || decoratorStyle['background']);\n\n                // apply combined background images\n                el.setStyles(combinedStyles);\n\n                return;\n              }\n            } else if (el.setSource) {\n              // force re-apply to remove old decorator styles\n              el.setSource(null);\n            }\n          }\n          if (el.setSource) {\n            el.setSource(source);\n          }\n        },\n\n        /**\n         * Event handler fired after the preloader has finished loading the icon\n         *\n         * @param source {String} Image source which was loaded\n         * @param imageInfo {Map} Dimensions of the loaded image\n         */\n        __loaderCallback : function(source, imageInfo) {\n          // Ignore the callback on already disposed images\n          if (this.$$disposed === true) {\n            return;\n          }\n\n          // Ignore when the source has already been modified\n          if (source !== qx.util.AliasManager.getInstance().resolve(this.getSource())) {\n            this.fireEvent('aborted');\n            return;\n          }\n\n          /// Output a warning if the image could not loaded and quit\n          if (imageInfo.failed) {\n            this.warn('Image could not be loaded: ' + source);\n            this.fireEvent('loadingFailed');\n          } else if (imageInfo.aborted) {\n            this.fireEvent('aborted');\n            return;\n          } else {\n            this.fireEvent('loaded');\n          }\n\n          // Update image\n          this.__setUnmanagedImage(this.__getContentElement(), source);\n        },\n\n\n        /**\n         * Updates the content hint when the image size has been changed\n         *\n         * @param width {Integer} width of the image\n         * @param height {Integer} height of the image\n         */\n        __updateContentHint : function(width, height) {\n          if (width === undefined) {\n            width = this.__width;\n          }\n          if (height === undefined) {\n            height = this.__height;\n          }\n          if (this._recalc(width, height)) {\n            qx.ui.core.queue.Layout.add(this);\n          }\n        },\n\n\n        /**\n         * Recalculates the size of the image, according to scaling parameters\n         * @param originalWidth\n         * @param originalHeight\n         */\n        _recalc: function(originalWidth, originalHeight) {\n          const maxWidth = this.getMaxWidth();\n          const maxHeight = this.getMaxHeight();\n          const minWidth = this.getMinWidth();\n          const minHeight = this.getMinHeight();\n\n          let width = originalWidth;\n          let height = originalHeight;\n\n          const ratio = originalHeight / originalWidth;\n\n          switch (this.getForceRatio()) {\n            case 'height':\n              if (maxHeight !== null && height > maxHeight) {\n                height = maxHeight;\n                width = height / ratio;\n              } else if (height < minHeight) {\n                height = minHeight;\n                width = height / ratio;\n              }\n              if (height < maxHeight && this.isAllowScaleUp()) {\n                height = maxHeight;\n                width = height / ratio;\n              }\n              break;\n\n            case 'width':\n              if (maxWidth !== null && width > maxWidth) {\n                width = maxWidth;\n                height = width * ratio;\n              } else if (width < minWidth) {\n                width = minWidth;\n                height = width * ratio;\n              }\n              if (width < maxWidth && this.isAllowScaleUp()) {\n                width = maxWidth;\n                height = width * ratio;\n              }\n              break;\n\n            case 'auto':\n            case 'bestfit':\n              if (maxWidth !== null && width > maxWidth) {\n                width = maxWidth;\n                height = width * ratio;\n              } else if (width < minWidth) {\n                width = minWidth;\n                height = width * ratio;\n              }\n              if (width < maxWidth && this.isAllowScaleUp()) {\n                width = maxWidth;\n                height = width * ratio;\n              }\n              if (maxHeight !== null && height > maxHeight) {\n                height = maxHeight;\n                width = height / ratio;\n              }\n              break;\n          }\n\n          width = Math.round(width);\n          height = Math.round(height);\n          if (width != this.__width || height != this.__height) {\n            this.__width = width;\n            this.__height = height;\n            return true;\n          }\n          return false;\n        }\n      },\n\n\n    /*\n    *****************************************************************************\n       DESTRUCTOR\n    *****************************************************************************\n    */\n\n    destruct : function() {\n      for (let mode in this.__contentElements) {\n        if (Object.prototype.hasOwnProperty.call(this.__contentElements, mode)) {\n          this.__contentElements[mode].disconnectWidget(this);\n        }\n      }\n\n      delete this.__currentContentElement;\n      if (this.__wrapper) {\n        delete this.__wrapper;\n      }\n\n      this._disposeMap('__contentElements');\n    }\n  });\n"
  ]
}