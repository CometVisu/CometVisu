{
  "version": 3,
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "extend",
    "ui",
    "core",
    "Widget",
    "construct",
    "source",
    "__contentElements",
    "constructor",
    "call",
    "setSource",
    "properties",
    "check",
    "init",
    "nullable",
    "event",
    "apply",
    "themeable",
    "transform",
    "scale",
    "forceScale",
    "forceRatio",
    "allowScaleUp",
    "appearance",
    "refine",
    "allowShrinkX",
    "allowShrinkY",
    "allowGrowX",
    "allowGrowY",
    "events",
    "loadingFailed",
    "loaded",
    "aborted",
    "statics",
    "PLACEHOLDER_IMAGE",
    "members",
    "__width",
    "__height",
    "__mode",
    "__currentContentElement",
    "__wrapper",
    "__requestId",
    "_transformSource",
    "value",
    "startsWith",
    "ResourceManager",
    "util",
    "getInstance",
    "has",
    "substring",
    "length",
    "_onChangeTheme",
    "cv",
    "manager",
    "basic",
    "Image",
    "superclass",
    "prototype",
    "_styleSource",
    "getContentElement",
    "__getSuitableContentElement",
    "_createContentElement",
    "_getContentHint",
    "width",
    "height",
    "_applyDecorator",
    "old",
    "getSource",
    "AliasManager",
    "resolve",
    "el",
    "getChild",
    "__setSource",
    "_applyTextColor",
    "__getMode",
    "setStyle",
    "theme",
    "Color",
    "removeStyle",
    "_applyPadding",
    "name",
    "element",
    "setStyles",
    "top",
    "getPaddingTop",
    "left",
    "getPaddingLeft",
    "html",
    "setPadding",
    "renderLayout",
    "getPaddingRight",
    "getPaddingBottom",
    "_applyEnabled",
    "_applySource",
    "io",
    "ImageLoader",
    "isLoading",
    "abort",
    "_applyScale",
    "__setMode",
    "mode",
    "lang",
    "String",
    "isPng",
    "endsWith",
    "getScale",
    "Environment",
    "get",
    "getForceScale",
    "__createSuitableContentElement",
    "tagName",
    "Clazz",
    "Element",
    "Label",
    "connectWidget",
    "overflowX",
    "overflowY",
    "boxSizing",
    "setRich",
    "setScale",
    "wrapper",
    "add",
    "$$disposed",
    "__resetSource",
    "__checkForContentElementSwitch",
    "parseInt",
    "repeat",
    "tagNameHint",
    "bom",
    "Decoration",
    "getTagName",
    "contentEl",
    "__getContentElement",
    "isFontUri",
    "__setManagedImage",
    "color",
    "getTextColor",
    "Type",
    "isString",
    "highResolutionSource",
    "findHighResolutionSource",
    "imageWidth",
    "getImageWidth",
    "imageHeight",
    "getImageHeight",
    "setWidth",
    "setHeight",
    "backgroundSize",
    "__fireLoadEvent",
    "isLoaded",
    "__setUnmanagedImage",
    "__loadUnmanagedImage",
    "AnimationFrame",
    "request",
    "rId",
    "fireEvent",
    "bind",
    "select",
    "mshtml",
    "alphaImageLoader",
    "isFont",
    "isSvg",
    "__checkForContentElementReplacement",
    "default",
    "elementToAdd",
    "currentContentElement",
    "pixel",
    "styles",
    "currentStyles",
    "getAllStyles",
    "prop",
    "backgroundImage",
    "bounds",
    "getBounds",
    "insets",
    "getInsets",
    "getStyle",
    "zIndex",
    "newEl",
    "setSelectable",
    "getSelectable",
    "isVisible",
    "hide",
    "show",
    "isIncluded",
    "exclude",
    "include",
    "container",
    "getParent",
    "index",
    "getChildren",
    "indexOf",
    "removeAt",
    "addAt",
    "hint",
    "getNodeName",
    "setValue",
    "removeAll",
    "currentEl",
    "setAttribute",
    "getAttribute",
    "flush",
    "currentDomEl",
    "getDomElement",
    "newDomEl",
    "listeners",
    "getListeners",
    "forEach",
    "listenerData",
    "addListener",
    "type",
    "handler",
    "self",
    "capture",
    "currentHash",
    "$$hash",
    "getEnabled",
    "disabled",
    "replace",
    "addState",
    "removeState",
    "split",
    "getSizeHint",
    "getWidth",
    "getHeight",
    "font",
    "Font",
    "match",
    "size",
    "getSize",
    "__updateContentHint",
    "_applyDimension",
    "isFailed",
    "load",
    "__loaderCallback",
    "resetSource",
    "resetValue",
    "child",
    "useMarkup",
    "sparts",
    "fontSource",
    "fontStyles",
    "Object",
    "clone",
    "getStyles",
    "resource",
    "getData",
    "fromCharCode",
    "charCode",
    "decorator",
    "getDecorator",
    "hasGradient",
    "getStartColor",
    "getEndColor",
    "hasBackground",
    "getBackgroundImage",
    "attr",
    "getAttributes",
    "decoratorStyle",
    "combinedStyles",
    "style",
    "backgroundPosition",
    "backgroundRepeat",
    "getBackgroundRepeat",
    "imageInfo",
    "failed",
    "warn",
    "undefined",
    "_recalc",
    "queue",
    "Layout",
    "originalWidth",
    "originalHeight",
    "maxWidth",
    "getMaxWidth",
    "maxHeight",
    "getMaxHeight",
    "minWidth",
    "getMinWidth",
    "minHeight",
    "getMinHeight",
    "ratio",
    "getForceRatio",
    "isAllowScaleUp",
    "Math",
    "round",
    "destruct",
    "hasOwnProperty",
    "disconnectWidget",
    "_disposeMap"
  ],
  "sources": [
    "/home/runner/work/CometVisu/CometVisu/source/class/cv/ui/manager/basic/Image.js"
  ],
  "sourcesContent": [
    "/* Image.js\n *\n * copyright (c) 2010-2022, Christian Mayer and the CometVisu contributers.\n *\n * This program is free software; you can redistribute it and/or modify it\n * under the terms of the GNU General Public License as published by the Free\n * Software Foundation; either version 3 of the License, or (at your option)\n * any later version.\n *\n * This program is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for\n * more details.\n *\n * You should have received a copy of the GNU General Public License along\n * with this program; if not, write to the Free Software Foundation, Inc.,\n * 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA\n */\n\n/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Fabian Jakobs (fjakobs)\n     * Sebastian Werner (wpbasti)\n\n************************************************************************ */\n\n/**\n * The image class displays an image file\n *\n * This class supports image clipping, which means that multiple images can be combined\n * into one large image and only the relevant part is shown.\n *\n * *Example*\n *\n * Here is a little example of how to use the widget.\n *\n * <pre class='javascript'>\n *   var image = new qx.ui.basic.Image(\"icon/32/actions/format-justify-left.png\");\n *\n *   this.getRoot().add(image);\n * </pre>\n *\n * This example create a widget to display the image\n * <code>icon/32/actions/format-justify-left.png</code>.\n *\n * *External Documentation*\n *\n * <a href='http://qooxdoo.org/docs/#desktop/widget/image.md' target='_blank'>\n * Documentation of this widget in the qooxdoo manual.</a>\n *\n * NOTE: Instances of this class must be disposed of after use\n *\n */\nqx.Class.define('cv.ui.manager.basic.Image', {\n  extend: qx.ui.core.Widget,\n\n  /*\n  *****************************************************************************\n     CONSTRUCTOR\n  *****************************************************************************\n  */\n\n  /**\n   * @param source {String?null} The URL of the image to display.\n   */\n  construct(source) {\n    this.__contentElements = {};\n\n    super();\n\n    if (source) {\n      this.setSource(source);\n    }\n  },\n\n  /*\n  *****************************************************************************\n     PROPERTIES\n  *****************************************************************************\n  */\n\n  properties: {\n    /** The URL of the image. Setting it will possibly abort loading of current image. */\n    source: {\n      check: 'String',\n      init: null,\n      nullable: true,\n      event: 'changeSource',\n      apply: '_applySource',\n      themeable: true,\n      transform: '_transformSource'\n    },\n\n    /**\n     * Whether the image should be scaled to the given dimensions\n     *\n     * This is disabled by default because it prevents the usage\n     * of image clipping when enabled.\n     */\n    scale: {\n      check: 'Boolean',\n      init: false,\n      event: 'changeScale',\n      themeable: true,\n      apply: '_applyScale'\n    },\n\n    forceScale: {\n      check: 'Boolean',\n      init: false\n    },\n\n    /**\n     * Whether to preserve the image ratio (ie prevent distortion), and which dimension\n     * to prioritise\n     */\n    forceRatio: {\n      init: 'auto',\n      check: ['disabled', 'height', 'width', 'auto'],\n      apply: '_applyDimension'\n    },\n\n    /**\n     * Whether to allow scaling the image up\n     */\n    allowScaleUp: {\n      init: false,\n      check: 'Boolean',\n      apply: '_applyDimension'\n    },\n\n    // overridden\n    appearance: {\n      refine: true,\n      init: 'image'\n    },\n\n    // overridden\n    allowShrinkX: {\n      refine: true,\n      init: false\n    },\n\n    // overridden\n    allowShrinkY: {\n      refine: true,\n      init: false\n    },\n\n    // overridden\n    allowGrowX: {\n      refine: true,\n      init: false\n    },\n\n    // overridden\n    allowGrowY: {\n      refine: true,\n      init: false\n    }\n  },\n\n  /*\n  *****************************************************************************\n     EVENTS\n  *****************************************************************************\n  */\n\n  events: {\n    /**\n     * Fired if the image source can not be loaded. This event can only be\n     * fired for the first loading of an unmanaged resource (external image).\n     */\n    loadingFailed: 'qx.event.type.Event',\n\n    /**\n     * Fired if the image has been loaded. This is even true for managed\n     * resources (images known by generator).\n     */\n    loaded: 'qx.event.type.Event',\n\n    /** Fired when the pending request has been aborted. */\n    aborted: 'qx.event.type.Event'\n  },\n\n  statics: {\n    PLACEHOLDER_IMAGE: 'data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7'\n  },\n\n  /*\n  *****************************************************************************\n     MEMBERS\n  *****************************************************************************\n  */\n\n  members: {\n    __width: null,\n    __height: null,\n    __mode: null,\n    __contentElements: null,\n    __currentContentElement: null,\n    __wrapper: null,\n    __requestId: 0,\n\n    /**\n     * Remove the \"resource/\" prefix when the ResourceManager knows the image\n     * @param value\n     * @return {*}\n     * @private\n     */\n    _transformSource(value) {\n      if (value && value.startsWith('resource/')) {\n        const ResourceManager = qx.util.ResourceManager.getInstance();\n        if (ResourceManager.has(value.substring('resource/'.length))) {\n          return value.substring('resource/'.length);\n        }\n      }\n      return value;\n    },\n\n    // overridden\n    _onChangeTheme() {\n      super._onChangeTheme();\n      // restyle source (theme change might have changed the resolved url)\n      this._styleSource();\n    },\n\n    /*\n    ---------------------------------------------------------------------------\n      WIDGET API\n    ---------------------------------------------------------------------------\n    */\n\n    // overridden\n    getContentElement() {\n      return this.__getSuitableContentElement();\n    },\n\n    // overridden\n    _createContentElement() {\n      return this.__getSuitableContentElement();\n    },\n\n    // overridden\n    _getContentHint() {\n      return {\n        width: this.__width || 0,\n        height: this.__height || 0\n      };\n    },\n\n    // overridden\n    _applyDecorator(value, old) {\n      super._applyDecorator(value, old);\n\n      let source = this.getSource();\n      source = qx.util.AliasManager.getInstance().resolve(source);\n      let el = this.getContentElement();\n      if (this.__wrapper) {\n        el = el.getChild(0);\n      }\n      this.__setSource(el, source);\n    },\n\n    // overridden\n    _applyTextColor(value) {\n      if (this.__getMode() === 'font') {\n        let el = this.getContentElement();\n        if (this.__wrapper) {\n          el = el.getChild(0);\n        }\n\n        if (value) {\n          el.setStyle('color', qx.theme.manager.Color.getInstance().resolve(value));\n        } else {\n          el.removeStyle('color');\n        }\n      }\n    },\n\n    // overridden\n    _applyPadding(value, old, name) {\n      super._applyPadding(value, old, name);\n\n      const element = this.getContentElement();\n      if (this.__wrapper) {\n        element.getChild(0).setStyles({\n          top: this.getPaddingTop() || 0,\n          left: this.getPaddingLeft() || 0\n        });\n      } else if (this.__getMode() === 'font') {\n        element.setStyles({\n          top: this.getPaddingTop() || 0,\n          left: this.getPaddingLeft() || 0\n        });\n      } else if (element instanceof qx.html.Image) {\n        element.setPadding(this.getPaddingLeft() || 0, this.getPaddingTop() || 0);\n      }\n    },\n\n    renderLayout(left, top, width, height) {\n      super.renderLayout(left, top, width, height);\n\n      const element = this.getContentElement();\n      if (this.__wrapper) {\n        element.getChild(0).setStyles({\n          width: width - (this.getPaddingLeft() || 0) - (this.getPaddingRight() || 0),\n          height: height - (this.getPaddingTop() || 0) - (this.getPaddingBottom() || 0),\n          top: this.getPaddingTop() || 0,\n          left: this.getPaddingLeft() || 0\n        });\n      }\n    },\n\n    /*\n    ---------------------------------------------------------------------------\n      IMAGE API\n    ---------------------------------------------------------------------------\n    */\n\n    // property apply, overridden\n    _applyEnabled(value, old) {\n      super._applyEnabled(value, old);\n\n      if (this.getSource()) {\n        this._styleSource();\n      }\n    },\n\n    // property apply\n    _applySource(value, old) {\n      // abort loading current image\n      if (old) {\n        if (qx.io.ImageLoader.isLoading(old)) {\n          qx.io.ImageLoader.abort(old);\n        }\n      }\n\n      this._styleSource();\n    },\n\n    // property apply\n    _applyScale(value) {\n      this._styleSource();\n    },\n\n    /**\n     * Remembers the mode to keep track which contentElement is currently in use.\n     * @param mode {String} internal mode (alphaScaled|scaled|nonScaled)\n     */\n    __setMode(mode) {\n      this.__mode = mode;\n    },\n\n    /**\n     * Returns the current mode if set. Otherwise checks the current source and\n     * the current scaling to determine the current mode.\n     *\n     * @return {String} current internal mode\n     */\n    __getMode() {\n      if (this.__mode === null) {\n        const source = this.getSource();\n\n        if (source && qx.lang.String.startsWith(source, '@')) {\n          this.__mode = 'font';\n        } else if (source && source.startsWith('<svg')) {\n          this.__mode = 'svg';\n        } else {\n          let isPng = false;\n          if (source !== null) {\n            isPng = source.endsWith('.png');\n          }\n\n          if (this.getScale() && isPng && qx.core.Environment.get('css.alphaimageloaderneeded')) {\n            this.__mode = 'alphaScaled';\n          } else if (this.getScale() || this.getForceScale()) {\n            this.__mode = 'scaled';\n          } else {\n            this.__mode = 'nonScaled';\n          }\n        }\n      }\n\n      return this.__mode;\n    },\n\n    /**\n     * Creates a contentElement suitable for the current mode\n     *\n     * @param mode {String} internal mode\n     * @return {qx.html.Image} suitable image content element\n     */\n    __createSuitableContentElement(mode) {\n      let scale;\n      let tagName;\n      let Clazz = qx.html.Image;\n\n      switch (mode) {\n        case 'svg':\n          Clazz = qx.html.Element;\n          tagName = 'div';\n          break;\n        case 'font':\n          Clazz = qx.html.Label;\n          scale = true;\n          tagName = 'div';\n          break;\n        case 'alphaScaled':\n          scale = true;\n          tagName = 'div';\n          break;\n        case 'nonScaled':\n          scale = false;\n          tagName = 'div';\n          break;\n        default:\n          scale = true;\n          tagName = 'img';\n          break;\n      }\n\n      const element = new Clazz(tagName);\n      element.connectWidget(this);\n      element.setStyles({\n        overflowX: 'hidden',\n        overflowY: 'hidden',\n        boxSizing: 'border-box'\n      });\n\n      if (mode === 'font') {\n        element.setRich(true);\n      } else if (mode !== 'svg') {\n        element.setScale(scale);\n\n        if (qx.core.Environment.get('css.alphaimageloaderneeded')) {\n          const wrapper = (this.__wrapper = new qx.html.Element('div'));\n          element.connectWidget(this);\n          wrapper.setStyle('position', 'absolute');\n          wrapper.add(element);\n          return wrapper;\n        }\n      }\n\n      return element;\n    },\n\n    /**\n     * Returns a contentElement suitable for the current mode\n     *\n     * @return {qx.html.Image} suitable image contentElement\n     */\n    __getSuitableContentElement() {\n      if (this.$$disposed) {\n        return null;\n      }\n\n      const mode = this.__getMode();\n\n      if (!this.__contentElements[mode]) {\n        this.__contentElements[mode] = this.__createSuitableContentElement(mode);\n      }\n\n      const element = this.__contentElements[mode];\n\n      if (!this.__currentContentElement) {\n        this.__currentContentElement = element;\n      }\n\n      return element;\n    },\n\n    /**\n     * Applies the source to the clipped image instance or preload\n     * an image to detect sizes and apply it afterwards.\n     *\n     */\n    _styleSource() {\n      const AliasManager = qx.util.AliasManager.getInstance();\n      const ResourceManager = qx.util.ResourceManager.getInstance();\n\n      let source = AliasManager.resolve(this.getSource());\n\n      let element = this.getContentElement();\n      if (this.__wrapper) {\n        element = element.getChild(0);\n      }\n\n      if (!source) {\n        this.__resetSource(element);\n        return;\n      }\n\n      this.__checkForContentElementSwitch(source);\n\n      if (\n        qx.core.Environment.get('engine.name') == 'mshtml' &&\n        (parseInt(qx.core.Environment.get('engine.version'), 10) < 9 ||\n          qx.core.Environment.get('browser.documentmode') < 9)\n      ) {\n        const repeat = this.getScale() ? 'scale' : 'no-repeat';\n        element.tagNameHint = qx.bom.element.Decoration.getTagName(repeat, source);\n      }\n\n      const contentEl = this.__getContentElement();\n\n      // Detect if the image registry knows this image\n      if (ResourceManager.isFontUri(source)) {\n        this.__setManagedImage(contentEl, source);\n        const color = this.getTextColor();\n        if (qx.lang.Type.isString(color)) {\n          this._applyTextColor(color, null);\n        }\n      } else if (source && source.startsWith('<svg')) {\n        this.__setManagedImage(contentEl, source);\n      } else if (ResourceManager.has(source)) {\n        const highResolutionSource = ResourceManager.findHighResolutionSource(source);\n        if (highResolutionSource) {\n          const imageWidth = ResourceManager.getImageWidth(source);\n          const imageHeight = ResourceManager.getImageHeight(source);\n          this.setWidth(imageWidth);\n          this.setHeight(imageHeight);\n\n          // set background size on current element (div or img)\n          const backgroundSize = imageWidth + 'px, ' + imageHeight + 'px';\n          this.__currentContentElement.setStyle('background-size', backgroundSize);\n\n          this.setSource(highResolutionSource);\n          source = highResolutionSource;\n        }\n        this.__setManagedImage(contentEl, source);\n        this.__fireLoadEvent();\n      } else if (qx.io.ImageLoader.isLoaded(source)) {\n        this.__setUnmanagedImage(contentEl, source);\n        this.__fireLoadEvent();\n      } else {\n        this.__loadUnmanagedImage(contentEl, source);\n      }\n    },\n\n    /**\n     * Helper function, which fires <code>loaded</code> event asynchronously.\n     * It emulates native <code>loaded</code> event of an image object. This\n     * helper will be called, if you try to load a managed image or an\n     * previously loaded unmanaged image.\n     */\n    __fireLoadEvent() {\n      this.__requestId++;\n      qx.bom.AnimationFrame.request(\n        function (rId) {\n          // prevent firing of the event if source changed in the meantime\n          if (rId === this.__requestId) {\n            this.fireEvent('loaded');\n          } else {\n            this.fireEvent('aborted');\n          }\n        }.bind(this, this.__requestId)\n      );\n    },\n\n    /**\n     * Returns the content element.\n     * @return {qx.html.Image} content element\n     */\n    __getContentElement() {\n      let contentEl = this.__currentContentElement;\n      if (this.__wrapper) {\n        contentEl = contentEl.getChild(0);\n      }\n\n      return contentEl;\n    },\n\n    /**\n     * Checks if the current content element is capable to display the image\n     * with the current settings (scaling, alpha PNG)\n     *\n     * @param source {String} source of the image\n     */\n    __checkForContentElementSwitch: qx.core.Environment.select('engine.name', {\n      mshtml(source) {\n        const alphaImageLoader = qx.core.Environment.get('css.alphaimageloaderneeded');\n\n        const isPng = source.endsWith('.png');\n        const isFont = source.startsWith('@');\n        const isSvg = source.startsWith('<svg');\n        const scale = this.getScale() || this.getForceScale();\n\n        if (isFont) {\n          this.__setMode('font');\n        } else if (isSvg) {\n          this.__setMode('svg');\n        } else if (alphaImageLoader && isPng) {\n          if (scale && this.__getMode() !== 'alphaScaled') {\n            this.__setMode('alphaScaled');\n          } else if (!scale && this.__getMode() !== 'nonScaled') {\n            this.__setMode('nonScaled');\n          }\n        } else if (scale && this.__getMode() !== 'scaled') {\n          this.__setMode('scaled');\n        } else if (!scale && this.__getMode() !== 'nonScaled') {\n          this.__setMode('nonScaled');\n        }\n\n        this.__checkForContentElementReplacement(this.__getSuitableContentElement());\n      },\n\n      default(source) {\n        const isFont = source && qx.lang.String.startsWith(source, '@');\n        const isSvg = source.startsWith('<svg');\n        const scale = this.getScale() || this.getForceScale();\n\n        if (isFont) {\n          this.__setMode('font');\n        } else if (isSvg) {\n          this.__setMode('svg');\n        } else if (scale && this.__getMode() !== 'scaled') {\n          this.__setMode('scaled');\n        } else if (!scale && this.__getMode() !== 'nonScaled') {\n          this.__setMode('nonScaled');\n        }\n\n        this.__checkForContentElementReplacement(this.__getSuitableContentElement());\n      }\n    }),\n\n    /**\n     * Checks the current child and replaces it if necessary\n     *\n     * @param elementToAdd {qx.html.Image} content element to add\n     */\n    __checkForContentElementReplacement(elementToAdd) {\n      const currentContentElement = this.__currentContentElement;\n\n      if (currentContentElement !== elementToAdd) {\n        if (currentContentElement !== null) {\n          const pixel = 'px';\n          const styles = {};\n\n          //inherit styles from current element\n          const currentStyles = currentContentElement.getAllStyles();\n          if (currentStyles) {\n            for (let prop in currentStyles) {\n              styles[prop] = currentStyles[prop];\n            }\n          }\n\n          // Don't transfer background image when switching from image to icon font\n          if (this.__getMode() === 'font' || this.__getMode() === 'svg') {\n            delete styles.backgroundImage;\n          }\n\n          // Copy dimension and location of the current content element\n          const bounds = this.getBounds();\n          if (bounds !== null) {\n            styles.width = bounds.width + pixel;\n            styles.height = bounds.height + pixel;\n          }\n\n          const insets = this.getInsets();\n          styles.left = parseInt(currentContentElement.getStyle('left') || insets.left) + pixel;\n          styles.top = parseInt(currentContentElement.getStyle('top') || insets.top) + pixel;\n\n          styles.zIndex = 10;\n\n          const newEl = this.__wrapper ? elementToAdd.getChild(0) : elementToAdd;\n          newEl.setStyles(styles, true);\n          newEl.setSelectable(this.getSelectable());\n\n          if (!currentContentElement.isVisible()) {\n            elementToAdd.hide();\n          } else if (!elementToAdd.isVisible()) {\n            elementToAdd.show();\n          }\n\n          if (!currentContentElement.isIncluded()) {\n            elementToAdd.exclude();\n          } else if (!elementToAdd.isIncluded()) {\n            elementToAdd.include();\n          }\n\n          const container = currentContentElement.getParent();\n\n          if (container) {\n            const index = container.getChildren().indexOf(currentContentElement);\n            container.removeAt(index);\n            container.addAt(elementToAdd, index);\n          }\n          // force re-application of source so __setSource is called again\n          const hint = newEl.getNodeName();\n          if (newEl.setSource) {\n            newEl.setSource(null);\n          } else if (newEl.setValue) {\n            newEl.setValue('');\n          } else {\n            newEl.removeAll();\n          }\n          const currentEl = this.__getContentElement();\n          newEl.tagNameHint = hint;\n          newEl.setAttribute('class', currentEl.getAttribute('class'));\n\n          // Flush elements to make sure the DOM elements are created.\n          qx.html.Element.flush();\n          const currentDomEl = currentEl.getDomElement();\n          const newDomEl = elementToAdd.getDomElement();\n\n          // copy event listeners\n          const listeners = currentContentElement.getListeners() || [];\n          listeners.forEach(function (listenerData) {\n            elementToAdd.addListener(listenerData.type, listenerData.handler, listenerData.self, listenerData.capture);\n          });\n\n          if (currentDomEl && newDomEl) {\n            // Switch the DOM elements' hash codes. This is required for the event\n            // layer to work [BUG #7447]\n            const currentHash = currentDomEl.$$hash;\n            currentDomEl.$$hash = newDomEl.$$hash;\n            newDomEl.$$hash = currentHash;\n          }\n\n          this.__currentContentElement = elementToAdd;\n        }\n      }\n    },\n\n    /**\n     * Use the ResourceManager to set a managed image\n     *\n     * @param el {Element} image DOM element\n     * @param source {String} source path\n     */\n    __setManagedImage(el, source) {\n      const ResourceManager = qx.util.ResourceManager.getInstance();\n      const isFont = ResourceManager.isFontUri(source);\n      const isSvg = source.startsWith('<svg');\n\n      // Try to find a disabled image in registry\n      if (!this.getEnabled()) {\n        const disabled = source.replace(/\\.([a-z]+)$/, '-disabled.$1');\n        if (!isFont && ResourceManager.has(disabled)) {\n          source = disabled;\n          this.addState('replacement');\n        } else {\n          this.removeState('replacement');\n        }\n      }\n\n      // Optimize case for enabled changes when no disabled image was found\n      if (!isFont && !isSvg && el.getSource() === source) {\n        return;\n      }\n\n      // Special case for non resource manager handled font icons\n      if (isFont) {\n        // Don't use scale if size is set via postfix\n        if (this.getScale() && parseInt(source.split('/')[2], 10)) {\n          this.setScale(false);\n        }\n\n        // Adjust size if scaling is applied\n        let width;\n        let height;\n        if (this.getScale()) {\n          const hint = this.getSizeHint();\n          width = this.getWidth() || hint.width;\n          height = this.getHeight() || hint.height;\n        } else {\n          const font = qx.theme.manager.Font.getInstance().resolve(source.match(/@([^/]+)/)[1]);\n\n          if (qx.core.Environment.get('qx.debug')) {\n            this.assertObject(font, 'Virtual image source contains unkown font descriptor');\n          }\n          const size = parseInt(source.split('/')[2] || font.getSize(), 10);\n          width = ResourceManager.getImageWidth(source) || size;\n          height = ResourceManager.getImageHeight(source) || size;\n        }\n\n        this.__updateContentHint(width, height);\n        this.__setSource(el, source);\n      } else if (isSvg) {\n        // Apply source\n        this.__setSource(el, source);\n\n        // Adjust size\n        this.__updateContentHint(40, 40);\n      } else {\n        // Apply source\n        this.__setSource(el, source);\n\n        // Compare with old sizes and relayout if necessary\n        this.__updateContentHint(ResourceManager.getImageWidth(source), ResourceManager.getImageHeight(source));\n      }\n    },\n\n    _applyDimension() {\n      super._applyDimension();\n\n      const isFont = this.getSource() && qx.lang.String.startsWith(this.getSource(), '@');\n      if (isFont) {\n        const el = this.getContentElement();\n        if (el) {\n          if (this.getScale()) {\n            const hint = this.getSizeHint();\n            const width = this.getWidth() || hint.width || 40;\n            const height = this.getHeight() || hint.height || 40;\n            el.setStyle('fontSize', (width > height ? height : width) + 'px');\n          } else {\n            const font = qx.theme.manager.Font.getInstance().resolve(this.getSource().match(/@([^/]+)/)[1]);\n\n            el.setStyle('fontSize', font.getSize() + 'px');\n          }\n        }\n      } else {\n        this.__updateContentHint();\n      }\n    },\n\n    /**\n     * Use the infos of the ImageLoader to set an unmanaged image\n     *\n     * @param el {Element} image DOM element\n     * @param source {String} source path\n     */\n    __setUnmanagedImage(el, source) {\n      const ImageLoader = qx.io.ImageLoader;\n\n      // Apply source\n      this.__setSource(el, source);\n\n      // Compare with old sizes and relayout if necessary\n      const width = ImageLoader.getWidth(source);\n      const height = ImageLoader.getHeight(source);\n      this.__updateContentHint(width, height);\n    },\n\n    /**\n     * Use the ImageLoader to load an unmanaged image\n     *\n     * @param el {Element} image DOM element\n     * @param source {String} source path\n     */\n    __loadUnmanagedImage(el, source) {\n      const ImageLoader = qx.io.ImageLoader;\n\n      if (qx.core.Environment.get('qx.debug')) {\n        // loading external images via HTTP/HTTPS is a common usecase, as is\n        // using data URLs.\n        const sourceLC = source.toLowerCase();\n        if (!sourceLC.startsWith('http') && !sourceLC.startsWith('data:image/')) {\n          const self = this.self(arguments);\n\n          if (!self.__warned) {\n            self.__warned = {};\n          }\n\n          if (!self.__warned[source]) {\n            this.debug('try to load an unmanaged relative image: ' + source);\n            self.__warned[source] = true;\n          }\n        }\n      }\n\n      // only try to load the image if it not already failed\n      if (!ImageLoader.isFailed(source)) {\n        ImageLoader.load(source, this.__loaderCallback, this);\n      } else {\n        this.__resetSource(el);\n      }\n    },\n\n    /**\n     * Reset source displayed by the DOM element.\n     *\n     * @param el {Element} image DOM element\n     */\n    __resetSource(el) {\n      if (el !== null) {\n        if (el instanceof qx.html.Image) {\n          el.resetSource();\n        } else if (el instanceof qx.html.Label) {\n          el.resetValue();\n        } else {\n          el.removeAll();\n        }\n      }\n    },\n\n    /**\n     * Combines the decorator's image styles with our own image to make sure\n     * gradient and backgroundImage decorators work on Images.\n     *\n     * @param el {Element} image DOM element\n     * @param source {String} source path\n     */\n    __setSource(el, source) {\n      const isFont = source && qx.lang.String.startsWith(source, '@');\n      const isSvg = source && qx.lang.String.startsWith(source, '<svg');\n\n      if (isSvg) {\n        const child = new qx.html.Element('svg');\n        child.useMarkup(source);\n        el.removeAll();\n        el.add(child);\n      } else if (isFont) {\n        const sparts = source.split('/');\n        let fontSource = source;\n        if (sparts.length > 2) {\n          fontSource = sparts[0] + '/' + sparts[1];\n        }\n\n        const ResourceManager = qx.util.ResourceManager.getInstance();\n        const font = qx.theme.manager.Font.getInstance().resolve(source.match(/@([^/]+)/)[1]);\n\n        const fontStyles = qx.lang.Object.clone(font.getStyles());\n        delete fontStyles.color;\n        el.setStyles(fontStyles);\n        el.setStyle('font');\n        el.setStyle('display', 'table-cell');\n        el.setStyle('verticalAlign', 'middle');\n        el.setStyle('textAlign', 'center');\n\n        if (this.getScale()) {\n          el.setStyle('fontSize', (this.__width > this.__height ? this.__height : this.__width) + 'px');\n        } else {\n          const size = parseInt(\n            sparts[2] ||\n              qx.theme.manager.Font.getInstance()\n                .resolve(source.match(/@([^/]+)/)[1])\n                .getSize()\n          );\n\n          el.setStyle('fontSize', size + 'px');\n        }\n\n        const resource = ResourceManager.getData(fontSource);\n        if (resource) {\n          el.setValue(String.fromCharCode(resource[2]));\n        } else {\n          const charCode = parseInt(\n            qx.theme.manager.Font.getInstance().resolve(source.match(/@([^/]+)\\/(.*)$/)[2]),\n\n            16\n          );\n\n          if (qx.core.Environment.get('qx.debug')) {\n            this.assertNumber(charCode, 'Font source needs either a glyph name or the unicode number in hex');\n          }\n          el.setValue(String.fromCharCode(charCode));\n        }\n\n        return;\n      } else if (el.getNodeName() === 'div') {\n        // checks if a decorator already set.\n        // In this case we have to merge background styles\n        const decorator = qx.theme.manager.Decoration.getInstance().resolve(this.getDecorator());\n\n        if (decorator) {\n          const hasGradient = decorator.getStartColor() && decorator.getEndColor();\n          const hasBackground = decorator.getBackgroundImage();\n          if (hasGradient || hasBackground) {\n            const repeat = this.getScale() ? 'scale' : 'no-repeat';\n\n            // get the style attributes for the given source\n            const attr = qx.bom.element.Decoration.getAttributes(source, repeat);\n\n            // get the background image(s) defined by the decorator\n            const decoratorStyle = decorator.getStyles(true);\n\n            const combinedStyles = {\n              backgroundImage: attr.style.backgroundImage,\n              backgroundPosition: attr.style.backgroundPosition || '0 0',\n              backgroundRepeat: attr.style.backgroundRepeat || 'no-repeat'\n            };\n\n            if (hasBackground) {\n              combinedStyles['backgroundPosition'] += ',' + decoratorStyle['background-position'] || '0 0';\n              combinedStyles['backgroundRepeat'] += ', ' + decorator.getBackgroundRepeat();\n            }\n\n            if (hasGradient) {\n              combinedStyles['backgroundPosition'] += ', 0 0';\n              combinedStyles['backgroundRepeat'] += ', no-repeat';\n            }\n\n            combinedStyles['backgroundImage'] +=\n              ',' + (decoratorStyle['background-image'] || decoratorStyle['background']);\n\n            // apply combined background images\n            el.setStyles(combinedStyles);\n\n            return;\n          }\n        } else if (el.setSource) {\n          // force re-apply to remove old decorator styles\n          el.setSource(null);\n        }\n      }\n      if (el.setSource) {\n        el.setSource(source);\n      }\n    },\n\n    /**\n     * Event handler fired after the preloader has finished loading the icon\n     *\n     * @param source {String} Image source which was loaded\n     * @param imageInfo {Map} Dimensions of the loaded image\n     */\n    __loaderCallback(source, imageInfo) {\n      // Ignore the callback on already disposed images\n      if (this.$$disposed === true) {\n        return;\n      }\n\n      // Ignore when the source has already been modified\n      if (source !== qx.util.AliasManager.getInstance().resolve(this.getSource())) {\n        this.fireEvent('aborted');\n        return;\n      }\n\n      /// Output a warning if the image could not loaded and quit\n      if (imageInfo.failed) {\n        this.warn('Image could not be loaded: ' + source);\n        this.fireEvent('loadingFailed');\n      } else if (imageInfo.aborted) {\n        this.fireEvent('aborted');\n        return;\n      } else {\n        this.fireEvent('loaded');\n      }\n\n      // Update image\n      this.__setUnmanagedImage(this.__getContentElement(), source);\n    },\n\n    /**\n     * Updates the content hint when the image size has been changed\n     *\n     * @param width {Integer} width of the image\n     * @param height {Integer} height of the image\n     */\n    __updateContentHint(width, height) {\n      if (width === undefined) {\n        width = this.__width;\n      }\n      if (height === undefined) {\n        height = this.__height;\n      }\n      if (this._recalc(width, height)) {\n        qx.ui.core.queue.Layout.add(this);\n      }\n    },\n\n    /**\n     * Recalculates the size of the image, according to scaling parameters\n     * @param originalWidth\n     * @param originalHeight\n     */\n    _recalc(originalWidth, originalHeight) {\n      const maxWidth = this.getMaxWidth();\n      const maxHeight = this.getMaxHeight();\n      const minWidth = this.getMinWidth();\n      const minHeight = this.getMinHeight();\n\n      let width = originalWidth;\n      let height = originalHeight;\n\n      const ratio = originalHeight / originalWidth;\n\n      switch (this.getForceRatio()) {\n        case 'height':\n          if (maxHeight !== null && height > maxHeight) {\n            height = maxHeight;\n            width = height / ratio;\n          } else if (height < minHeight) {\n            height = minHeight;\n            width = height / ratio;\n          }\n          if (height < maxHeight && this.isAllowScaleUp()) {\n            height = maxHeight;\n            width = height / ratio;\n          }\n          break;\n\n        case 'width':\n          if (maxWidth !== null && width > maxWidth) {\n            width = maxWidth;\n            height = width * ratio;\n          } else if (width < minWidth) {\n            width = minWidth;\n            height = width * ratio;\n          }\n          if (width < maxWidth && this.isAllowScaleUp()) {\n            width = maxWidth;\n            height = width * ratio;\n          }\n          break;\n\n        case 'auto':\n        case 'bestfit':\n          if (maxWidth !== null && width > maxWidth) {\n            width = maxWidth;\n            height = width * ratio;\n          } else if (width < minWidth) {\n            width = minWidth;\n            height = width * ratio;\n          }\n          if (width < maxWidth && this.isAllowScaleUp()) {\n            width = maxWidth;\n            height = width * ratio;\n          }\n          if (maxHeight !== null && height > maxHeight) {\n            height = maxHeight;\n            width = height / ratio;\n          }\n          break;\n      }\n\n      width = Math.round(width);\n      height = Math.round(height);\n      if (width != this.__width || height != this.__height) {\n        this.__width = width;\n        this.__height = height;\n        return true;\n      }\n      return false;\n    }\n  },\n\n  /*\n  *****************************************************************************\n     DESTRUCTOR\n  *****************************************************************************\n  */\n\n  destruct() {\n    for (let mode in this.__contentElements) {\n      if (Object.prototype.hasOwnProperty.call(this.__contentElements, mode)) {\n        this.__contentElements[mode].disconnectWidget(this);\n      }\n    }\n\n    delete this.__currentContentElement;\n    if (this.__wrapper) {\n      delete this.__wrapper;\n    }\n\n    this._disposeMap('__contentElements');\n  }\n});\n"
  ],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;EAAAA,EAAE,CAACC,SAAS,CAACC,oBAAoB,CAACC,aAAa,CAAC;EAAhD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;EAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;EAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EACAH,EAAE,CAACI,KAAK,CAACC,MAAM,CAAC,2BAA2B,EAAE;IAC3CC,MAAM,EAAEN,EAAE,CAACO,EAAE,CAACC,IAAI,CAACC,MAAM;IAEzB;AACF;AACA;AACA;AACA;IAEE;AACF;AACA;IACEC,SAAS,WAATA,SAASA,CAACC,MAAM,EAAE;MAChB,IAAI,CAACC,QAAiB,GAAG,CAAC,CAAC;MAE3BZ,EAAA,CAAAO,EAAA,CAAAC,IAAA,CAAAC,MAAA,CAAAI,WAAA,CAAAC,IAAA;MAEA,IAAIH,MAAM,EAAE;QACV,IAAI,CAACI,SAAS,CAACJ,MAAM,CAAC;MACxB;IACF,CAAC;IAED;AACF;AACA;AACA;AACA;;IAEEK,UAAU,EAAE;MACV;MACAL,MAAM,EAAE;QACNM,KAAK,EAAE,QAAQ;QACfC,IAAI,EAAE,IAAI;QACVC,QAAQ,EAAE,IAAI;QACdC,KAAK,EAAE,cAAc;QACrBC,KAAK,EAAE,cAAc;QACrBC,SAAS,EAAE,IAAI;QACfC,SAAS,EAAE;MACb,CAAC;MAED;AACJ;AACA;AACA;AACA;AACA;MACIC,KAAK,EAAE;QACLP,KAAK,EAAE,SAAS;QAChBC,IAAI,EAAE,KAAK;QACXE,KAAK,EAAE,aAAa;QACpBE,SAAS,EAAE,IAAI;QACfD,KAAK,EAAE;MACT,CAAC;MAEDI,UAAU,EAAE;QACVR,KAAK,EAAE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",
  "ignoreList": []
}