{
  "version": 3,
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "extend",
    "core",
    "Object",
    "type",
    "include",
    "cv",
    "ui",
    "manager",
    "control",
    "MFileEventHandler",
    "implement",
    "IActionHandler",
    "IFileEventHandler",
    "construct",
    "_this",
    "constructor",
    "call",
    "model",
    "BackupFolder",
    "getInstance",
    "_checkEnvironment",
    "initOpenFiles",
    "data",
    "Array",
    "__actionDispatcher",
    "ActionDispatcher",
    "setMain",
    "__initCommands",
    "_draw",
    "event",
    "message",
    "Bus",
    "subscribe",
    "_onManagerEvent",
    "tooltip",
    "Manager",
    "window",
    "addEventListener",
    "_onBeforeUnload",
    "statics",
    "ROOT",
    "properties",
    "openFiles",
    "check",
    "deferredInit",
    "writeableFolder",
    "init",
    "currentFolder",
    "nullable",
    "apply",
    "currentSelection",
    "deleteableSelection",
    "renameableSelection",
    "visible",
    "members",
    "__previewFileIndex",
    "__root",
    "_pane",
    "_tree",
    "_stack",
    "_oldCommandGroup",
    "_managerCommands",
    "_mainContent",
    "_openFilesController",
    "_hiddenConfigFakeFile",
    "_applyVisible",
    "value",
    "Init",
    "getApplication",
    "getCommandManager",
    "setActive",
    "bom",
    "element",
    "Style",
    "set",
    "__getRoot",
    "io",
    "rest",
    "Client",
    "getFsClient",
    "checkEnvironmentSync",
    "err",
    "res",
    "snackbar",
    "Controller",
    "error",
    "forEach",
    "env",
    "refreshActions",
    "entity",
    "state",
    "locale",
    "tr",
    "FileItem",
    "setReadable",
    "setWriteable",
    "widget",
    "getFocusedWidget",
    "resetFocusedWidget",
    "setFocusedWidget",
    "canHandleAction",
    "actionName",
    "getCurrentSelection",
    "isWriteable",
    "actions",
    "getCurrentFolder",
    "push",
    "includes",
    "_doClose",
    "document",
    "querySelector",
    "configLoader",
    "util",
    "ConfigLoader",
    "app",
    "load",
    "bootstrap",
    "setVisible",
    "handleAction",
    "unsavedFiles",
    "closeCurrentFile",
    "closeFile",
    "getOpenFiles",
    "filter",
    "openFile",
    "getFile",
    "isModified",
    "length",
    "dialog",
    "qxl",
    "Confirm",
    "callback",
    "confirmed",
    "save",
    "dispose",
    "context",
    "caption",
    "yesButtonLabel",
    "noButtonLabel",
    "useBlocker",
    "show",
    "_onCreate",
    "readSync",
    "path",
    "file",
    "getFullPath",
    "isConfigFile",
    "converter",
    "ConfigUpgrader",
    "_converter$convertPur",
    "convertPureToTile",
    "_converter$convertPur2",
    "_slicedToArray",
    "convertedContent",
    "suggestedName",
    "match",
    "exec",
    "getName",
    "_onDelete",
    "_showAbout",
    "warn",
    "ev",
    "preventDefault",
    "returnValue",
    "configureButton",
    "button",
    "unConfigureButton",
    "_handleFileEvent",
    "getData",
    "action",
    "copy",
    "some",
    "isRelated",
    "resetCurrentFolder",
    "refresh",
    "__findConfigFile",
    "name",
    "demoFolder",
    "getChildren",
    "child",
    "startsWith",
    "substr",
    "handler",
    "handlerOptions",
    "_onChangeTreeSelection",
    "Preferences",
    "isQuickPreview",
    "mode",
    "__openSelectedFile",
    "node",
    "getType",
    "setCurrentFolder",
    "getParent",
    "setCurrentSelection",
    "resetCurrentSelection",
    "setEditing",
    "_applyCurrentFolder",
    "old",
    "removeRelatedBindings",
    "bind",
    "resetWriteableFolder",
    "_applyCurrentSelection",
    "resetDeleteableSelection",
    "_onChangeFileSelection",
    "sel",
    "getSelection",
    "getItem",
    "editorConfig",
    "handlerId",
    "getHandlerId",
    "FileHandlerRegistry",
    "getFileHandlerById",
    "getFileHandler",
    "instance",
    "Clazz",
    "setFile",
    "indexOf",
    "add",
    "editor",
    "AbstractEditor",
    "setHandlerOptions",
    "getHandlerOptions",
    "setSelection",
    "GlobalState",
    "setOpenedFocusedFile",
    "resetOpenedFocusedFile",
    "preview",
    "handlerType",
    "handlerConf",
    "info",
    "classname",
    "isExternal",
    "isOpen",
    "of",
    "OpenFile",
    "resetHandlerOptions",
    "isPermanent",
    "setItem",
    "setPermanent",
    "getTarget",
    "setModelSelection",
    "checkUnsavedChanged",
    "_this2",
    "found",
    "f",
    "isTemporary",
    "resetModified",
    "dispatchByName",
    "noButtonIcon",
    "allowCancel",
    "force",
    "isCloseable",
    "resetPermanent",
    "selectionIndex",
    "remove",
    "currentHandler",
    "hasInterface",
    "IEditor",
    "Start",
    "resetFile",
    "resetSelection",
    "replace",
    "CompareFiles",
    "fileHandlerConf",
    "clear",
    "destroy",
    "monaco",
    "oldModel",
    "getModel",
    "getUri",
    "selected",
    "_onCloseFile",
    "dom",
    "Element",
    "create",
    "id",
    "style",
    "insertEnd",
    "body",
    "theme",
    "Meta",
    "setTheme",
    "Dark",
    "group",
    "command",
    "Group",
    "Command",
    "renameCommand",
    "getActive",
    "item",
    "FileController",
    "_onChangeStackSelection",
    "selection",
    "page",
    "toArray",
    "find",
    "__getFileNamePrompt",
    "prompt",
    "Prompt",
    "content",
    "folder",
    "existsMessage",
    "handlePrompt",
    "filename",
    "exists",
    "readable",
    "writeable",
    "loaded",
    "modified",
    "temporary",
    "parentFolder",
    "createSync",
    "getBusTopic",
    "source",
    "addChild",
    "sortElements",
    "__findDroppable",
    "elem",
    "nodeType",
    "getAttribute",
    "parentNode",
    "_this3",
    "domRoot",
    "root",
    "Inline",
    "addListenerOnce",
    "getContentElement",
    "getDomElement",
    "target",
    "setRoot",
    "setLayout",
    "layout",
    "Canvas",
    "bottom",
    "left",
    "resize",
    "bounds",
    "getBounds",
    "setLayoutProperties",
    "Math",
    "round",
    "width",
    "setMaxHeight",
    "height",
    "addListener",
    "innerHeight",
    "main",
    "container",
    "Composite",
    "Dock",
    "edge",
    "menuBar",
    "MenuBar",
    "uploadButton",
    "getButton",
    "uploadManager",
    "upload",
    "UploadMgr",
    "splitpane",
    "Pane",
    "rootFolder",
    "fakeIconFile",
    "getIconFile",
    "overrideIcon",
    "open",
    "fakeChildren",
    "icon",
    "dark",
    "Images",
    "getIcon",
    "tree",
    "FileSystem",
    "leftContainer",
    "VBox",
    "leftBar",
    "ToolBar",
    "reload",
    "buttonConfig",
    "getButtonConfiguration",
    "args",
    "flex",
    "list",
    "form",
    "List",
    "setAppearance",
    "controller",
    "setDelegate",
    "createItem",
    "FileTabItem",
    "bindItem",
    "index",
    "bindDefaultProperties",
    "bindProperty",
    "Stack",
    "startOpenFile",
    "setCloseable",
    "dialogConf",
    "modal",
    "minWidth",
    "min",
    "Viewport",
    "getWidth",
    "maxHeight",
    "getHeight",
    "concat",
    "Version",
    "VERSION",
    "DATE",
    "REV",
    "LIBRARY_VERSION_PURE",
    "LIBRARY_VERSION_TILE",
    "getServer",
    "getServerPhpVersion",
    "BigAlert",
    "destruct",
    "_disposeObjects",
    "application",
    "DeferredCall",
    "resetRoot",
    "schedule",
    "removeChild",
    "unsubscribe",
    "Main",
    "$$instance"
  ],
  "sources": [
    "/home/runner/work/CometVisu/CometVisu/source/class/cv/ui/manager/Main.js"
  ],
  "sourcesContent": [
    "/* Main.js\n *\n * copyright (c) 2010-2022, Christian Mayer and the CometVisu contributers.\n *\n * This program is free software; you can redistribute it and/or modify it\n * under the terms of the GNU General Public License as published by the Free\n * Software Foundation; either version 3 of the License, or (at your option)\n * any later version.\n *\n * This program is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for\n * more details.\n *\n * You should have received a copy of the GNU General Public License along\n * with this program; if not, write to the Free Software Foundation, Inc.,\n * 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA\n */\n\n/**\n * Main class of the CometVisu file manager.\n * @author Tobias BrÃ¤utigam\n * @since 0.12.0\n *\n * @asset(manager/*)\n */\nqx.Class.define('cv.ui.manager.Main', {\n  extend: qx.core.Object,\n  type: 'singleton',\n  include: [cv.ui.manager.control.MFileEventHandler],\n\n  implement: [cv.ui.manager.IActionHandler, cv.ui.manager.control.IFileEventHandler],\n\n  /*\n  ***********************************************\n    CONSTRUCTOR\n  ***********************************************\n  */\n  construct() {\n    super();\n    cv.ui.manager.model.BackupFolder.getInstance();\n    this._checkEnvironment();\n    this.initOpenFiles(new qx.data.Array());\n    this.__actionDispatcher = cv.ui.manager.control.ActionDispatcher.getInstance();\n    this.__actionDispatcher.setMain(this);\n\n    this.__initCommands();\n    this._draw();\n\n    qx.event.message.Bus.subscribe('cv.manager.*', this._onManagerEvent, this);\n\n    // Initialize tooltip manager\n    qx.ui.tooltip.Manager.getInstance();\n\n    //qx.event.Registration.addListener(window, 'beforeunload', this._onBeforeUnload, this);\n    window.addEventListener('beforeunload', event => {\n      this._onBeforeUnload(event);\n    });\n  },\n\n  /*\n  ***********************************************\n    STATICS\n  ***********************************************\n  */\n  statics: {\n    ROOT: null\n  },\n\n  /*\n  ***********************************************\n    PROPERTIES\n  ***********************************************\n  */\n  properties: {\n    openFiles: {\n      check: 'qx.data.Array',\n      deferredInit: true\n    },\n\n    /**\n     * Current selected folder (if a file is selected its parent folder) is writeable.\n     */\n    writeableFolder: {\n      check: 'Boolean',\n      init: false,\n      event: 'changeWriteableFolder'\n    },\n\n    currentFolder: {\n      check: 'cv.ui.manager.model.FileItem',\n      nullable: true,\n      apply: '_applyCurrentFolder',\n      event: 'changeCurrentFolder'\n    },\n\n    currentSelection: {\n      check: 'cv.ui.manager.model.FileItem',\n      nullable: true,\n      apply: '_applyCurrentSelection',\n      event: 'changeCurrentSelection'\n    },\n\n    deleteableSelection: {\n      check: 'Boolean',\n      init: false,\n      event: 'changeDeleteableSelection'\n    },\n\n    renameableSelection: {\n      check: 'Boolean',\n      init: false,\n      event: 'changeRenameableSelection'\n    },\n\n    visible: {\n      check: 'Boolean',\n      init: true,\n      event: 'changeVisible',\n      apply: '_applyVisible'\n    }\n  },\n\n  /*\n  ***********************************************\n    MEMBERS\n  ***********************************************\n  */\n  members: {\n    __previewFileIndex: null,\n    __root: null,\n    _pane: null,\n    _tree: null,\n    _stack: null,\n    _oldCommandGroup: null,\n    _managerCommands: null,\n    _mainContent: null,\n    _openFilesController: null,\n    _hiddenConfigFakeFile: null,\n    __actionDispatcher: null,\n\n    _applyVisible(value) {\n      const manager = qx.core.Init.getApplication().getCommandManager();\n      if (value) {\n        manager.setActive(this._managerCommands);\n        qx.bom.element.Style.set(this.__getRoot(), 'display', 'block');\n      } else {\n        manager.setActive(this._oldCommandGroup);\n        qx.bom.element.Style.set(this.__getRoot(), 'display', 'none');\n      }\n    },\n\n    _checkEnvironment() {\n      cv.io.rest.Client.getFsClient().checkEnvironmentSync(function (err, res) {\n        if (err) {\n          cv.ui.manager.snackbar.Controller.error(err);\n        } else if (res) {\n          res.forEach(function (env) {\n            let refreshActions = false;\n            switch (env.entity) {\n              case '.':\n                // config folder must be writeable\n                if ((env.state & 1) === 0) {\n                  cv.ui.manager.snackbar.Controller.error(qx.locale.Manager.tr('config folder does not exists'));\n                } else if ((env.state & 2) === 0) {\n                  cv.ui.manager.model.FileItem.ROOT.setReadable(false);\n                  refreshActions = true;\n                  cv.ui.manager.snackbar.Controller.error(qx.locale.Manager.tr('config folder is not readable'));\n                } else if ((env.state & 4) === 0) {\n                  cv.ui.manager.model.FileItem.ROOT.setWriteable(false);\n                  refreshActions = true;\n                  cv.ui.manager.snackbar.Controller.error(qx.locale.Manager.tr('config folder is not writeable'));\n                }\n                if (refreshActions) {\n                  const widget = this.__actionDispatcher.getFocusedWidget();\n                  this.__actionDispatcher.resetFocusedWidget();\n                  this.__actionDispatcher.setFocusedWidget(widget);\n                }\n                break;\n\n              case 'backup':\n                if ((env.state & 4) === 0 && (env.state & 1) === 1) {\n                  cv.ui.manager.snackbar.Controller.error(qx.locale.Manager.tr('backup folder is not writeable'));\n                }\n                break;\n\n              case 'media':\n                if ((env.state & 4) === 0 && (env.state & 1) === 1) {\n                  cv.ui.manager.snackbar.Controller.error(qx.locale.Manager.tr('media folder is not writeable'));\n                }\n                break;\n\n              case 'hidden.php':\n                if ((env.state & 4) === 0 && (env.state & 1) === 1) {\n                  cv.ui.manager.snackbar.Controller.error(\n                    qx.locale.Manager.tr('Hidden configuration file (hidden.php) not writeable')\n                  );\n                }\n                break;\n            }\n          }, this);\n        }\n      }, this);\n    },\n\n    canHandleAction(actionName) {\n      if (actionName === 'delete' && this.getCurrentSelection() && !this.getCurrentSelection().isWriteable()) {\n        // needs a writeable file\n        return false;\n      }\n      let actions = ['close', 'quit', 'about'];\n      const currentFolder = this.getCurrentFolder();\n      if (currentFolder.isWriteable()) {\n        actions.push('new-file');\n        actions.push('new-folder');\n        actions.push('delete');\n        actions.push('upload');\n        actions.push('clone');\n        actions.push('convertToTile');\n      }\n      if (cv.ui.manager.model.FileItem.ROOT.isWriteable()) {\n        actions.push('new-config-file');\n      }\n      return actions.includes(actionName);\n    },\n\n    _doClose() {\n      if (document.querySelector('#main.loading')) {\n        // there is no config file loaded, load the default one\n        let configLoader = new cv.util.ConfigLoader();\n        let app = qx.core.Init.getApplication();\n        configLoader.load(app.bootstrap, app);\n      }\n      this.setVisible(false);\n    },\n\n    handleAction(actionName, data) {\n      let unsavedFiles;\n      switch (actionName) {\n        case 'close':\n          if (!data) {\n            this.closeCurrentFile();\n          } else {\n            this.closeFile(data);\n          }\n          break;\n\n        case 'quit':\n          unsavedFiles = this.getOpenFiles().filter(openFile => openFile.getFile().isModified());\n\n          if (unsavedFiles.length > 0) {\n            const dialog = new qxl.dialog.Confirm({\n              message: qx.locale.Manager.tr('You have files opened with unsaved changes, you should save them now.'),\n\n              callback(confirmed) {\n                if (confirmed) {\n                  unsavedFiles.forEach(openFile => {\n                    openFile.save();\n                  });\n                }\n                dialog.dispose();\n                this._doClose();\n              },\n              context: this,\n              caption: qx.locale.Manager.tr('Unsaved changes'),\n              yesButtonLabel: qx.locale.Manager.tr('Save & quit'),\n              noButtonLabel: qx.locale.Manager.tr('Quit without saving'),\n              useBlocker: true\n            });\n\n            dialog.show();\n          } else {\n            this._doClose();\n          }\n          break;\n\n        case 'new-file':\n          this._onCreate('file', null, data);\n          break;\n\n        case 'new-config-file':\n          cv.io.rest.Client.getFsClient().readSync(\n            { path: 'demo/templates/visu_config.xml' },\n            function (err, res) {\n              if (err) {\n                cv.ui.manager.snackbar.Controller.error(qx.locale.Manager.tr('Cannot load config template'));\n              } else {\n                this._onCreate('config', res, cv.ui.manager.model.FileItem.ROOT);\n              }\n            },\n            this\n          );\n\n          break;\n\n        case 'clone':\n          cv.io.rest.Client.getFsClient().readSync(\n            { path: data.file.getFullPath() },\n            function (err, res) {\n              if (err) {\n                cv.ui.manager.snackbar.Controller.error(qx.locale.Manager.tr('Cannot load file content'));\n              } else if (data.file.isConfigFile()) {\n                // config files need to be cloned in the root folder\n                this._onCreate('config', res, cv.ui.manager.model.FileItem.ROOT);\n              } else {\n                this._onCreate('file', res);\n              }\n            },\n            this\n          );\n\n          break;\n\n        case 'convertToTile':\n          cv.io.rest.Client.getFsClient().readSync(\n            { path: data.file.getFullPath() },\n            function (err, res) {\n              if (err) {\n                cv.ui.manager.snackbar.Controller.error(qx.locale.Manager.tr('Cannot load file content'));\n              } else if (data.file.isConfigFile()) {\n                const converter = new cv.util.ConfigUpgrader();\n                const [err, convertedContent] = converter.convertPureToTile(res);\n                if (err) {\n                  cv.ui.manager.snackbar.Controller.error(err);\n                } else {\n                  let suggestedName = 'tile';\n                  const match = /visu[_-]config[_-]([\\w\\d_-]+)(\\.xml)?/.exec(data.file.getName());\n\n                  if (match) {\n                    suggestedName = 'tile-' + match[1];\n                  }\n                  // config files need to be cloned in the root folder\n                  this._onCreate(\n                    'config',\n                    convertedContent,\n                    cv.ui.manager.model.FileItem.ROOT,\n                    'cv.ui.manager.editor.Source',\n                    suggestedName\n                  );\n                }\n              }\n            },\n            this\n          );\n\n          break;\n\n        case 'new-folder':\n          this._onCreate('dir', null, data);\n          break;\n\n        case 'delete':\n          this._onDelete(data);\n          break;\n\n        case 'upload':\n          // nothing to to, this is handled in another way\n          break;\n\n        case 'about':\n          this._showAbout();\n          break;\n\n        default:\n          this.warn(actionName + ' handling is not implemented yet!');\n          break;\n      }\n    },\n\n    _onBeforeUnload(ev) {\n      const unsavedFiles = this.getOpenFiles().filter(openFile => openFile.getFile().isModified());\n\n      if (unsavedFiles.length > 0) {\n        ev.preventDefault();\n        ev.returnValue = '';\n      } else {\n        delete ev['returnValue'];\n      }\n    },\n\n    configureButton(button) {},\n    unConfigureButton(button) {},\n\n    _handleFileEvent(ev) {\n      const data = ev.getData();\n      if (data.action === 'deleted') {\n        // check if file is currently opened and close it\n        const openFiles = this.getOpenFiles().copy();\n        openFiles.some(function (openFile) {\n          if (openFile.getFile().isRelated(data.path)) {\n            this.closeFile(openFile);\n          }\n          return false;\n        }, this);\n        if (this.getCurrentFolder() && this.getCurrentFolder().getFullPath() === data.path) {\n          this.resetCurrentFolder();\n        }\n      } else {\n        this.warn('unhandled file event', data.action);\n      }\n      this._tree.refresh();\n    },\n\n    __findConfigFile(name) {\n      let file = null;\n      let demoFolder = null;\n      cv.ui.manager.model.FileItem.ROOT.getChildren().some(child => {\n        if (child.getName() === 'demo') {\n          demoFolder = child;\n        } else if (child.getName() === name) {\n          file = child;\n          return true;\n        }\n        return false;\n      });\n      if (!file && demoFolder) {\n        if (name.startsWith('demo/')) {\n          name = name.substr(5);\n        }\n        // check demo configs\n        demoFolder.getChildren().some(child => {\n          if (child.getName() === name) {\n            file = child;\n            return true;\n          }\n          return false;\n        });\n      }\n      return file;\n    },\n\n    _onManagerEvent(ev) {\n      let data = ev.getData();\n      switch (ev.getName()) {\n        case 'cv.manager.compareFiles':\n          this.openFile(data, false);\n          break;\n\n        case 'cv.manager.openWith':\n          if (typeof data.file === 'string') {\n            // this can only by a file in the root dir (a config)\n            data.file = this.__findConfigFile(data.file);\n          }\n          this.openFile(data.file || this.getCurrentSelection(), false, data.handler, null, data.handlerOptions);\n\n          break;\n\n        case 'cv.manager.open':\n          if (typeof data === 'string') {\n            // this can only by a file in the root dir (a config)\n            data = this.__findConfigFile(data);\n          }\n          this.openFile(data || this.getCurrentSelection(), false);\n          break;\n      }\n    },\n\n    /**\n     * open selected file in preview mode\n     * @param ev\n     * @private\n     */\n    _onChangeTreeSelection(ev) {\n      const data = ev.getData();\n      if (\n        (cv.ui.manager.model.Preferences.getInstance().isQuickPreview() && data.mode === 'tap') ||\n        data.mode === 'dbltap'\n      ) {\n        this.__openSelectedFile(data.node, data.mode);\n      }\n      const node = data.node;\n      if (node) {\n        if (data.node.getType() === 'file') {\n          this.setCurrentFolder(data.node.getParent());\n        } else {\n          this.setCurrentFolder(node);\n        }\n        this.setCurrentSelection(node);\n      } else {\n        this.resetCurrentFolder();\n        this.resetCurrentSelection();\n      }\n    },\n\n    __openSelectedFile(node, mode) {\n      if (node) {\n        if (node.getType() === 'file') {\n          this.openFile(node, mode === 'tap');\n        } else if (mode === 'dbltap') {\n          // edit folder name on dbltap\n          node.setEditing(true);\n        }\n      }\n    },\n\n    _applyCurrentFolder(value, old) {\n      if (old) {\n        old.removeRelatedBindings(this);\n      }\n      if (value) {\n        value.bind('writeable', this, 'writeableFolder');\n      } else {\n        this.resetWriteableFolder();\n      }\n    },\n\n    _applyCurrentSelection(value, old) {\n      if (old) {\n        old.removeRelatedBindings(this);\n      }\n      if (value) {\n        value.bind('writeable', this, 'deleteableSelection');\n        value.bind('inTrash', this, 'renameableSelection', {\n          converter(value) {\n            return !value;\n          }\n        });\n      } else {\n        this.resetDeleteableSelection();\n      }\n    },\n\n    _onChangeFileSelection() {\n      const sel = this._openFilesController.getSelection();\n      if (sel.length > 0) {\n        const openFile = sel.getItem(0);\n        const file = openFile.getFile();\n        let editorConfig;\n        const handlerId = openFile.getHandlerId();\n        if (handlerId) {\n          editorConfig = cv.ui.manager.control.FileHandlerRegistry.getInstance().getFileHandlerById(handlerId);\n        } else {\n          editorConfig = cv.ui.manager.control.FileHandlerRegistry.getInstance().getFileHandler(file);\n        }\n        if (!editorConfig.instance) {\n          editorConfig.instance = new editorConfig.Clazz();\n        }\n        editorConfig.instance.setFile(file);\n        if (this._stack.indexOf(editorConfig.instance) < 0) {\n          this._stack.add(editorConfig.instance);\n        }\n        if (editorConfig.instance instanceof cv.ui.manager.editor.AbstractEditor) {\n          editorConfig.instance.setHandlerOptions(openFile.getHandlerOptions());\n        }\n        this._stack.setSelection([editorConfig.instance]);\n        this.__actionDispatcher.setFocusedWidget(editorConfig.instance);\n\n        cv.ui.manager.core.GlobalState.getInstance().setOpenedFocusedFile(file);\n      } else {\n        cv.ui.manager.core.GlobalState.getInstance().resetOpenedFocusedFile();\n      }\n    },\n\n    /**\n     * @param file {cv.ui.manager.model.FileItem} the file to open\n     * @param preview {Boolean} open the file in preview mode\n     * @param handlerId {String} use this handler to open the file (classname as string)\n     * @param handlerType {String} use a special handler type, e.g. 'edit' if you want to open the file with an editor and not a viewer\n     * @param handlerOptions\n     */\n    openFile(file, preview, handlerId, handlerType, handlerOptions) {\n      const openFiles = this.getOpenFiles();\n      let openFile;\n      let handlerConf;\n      if (!handlerId) {\n        handlerConf = cv.ui.manager.control.FileHandlerRegistry.getInstance().getFileHandler(file, handlerType);\n\n        if (!handlerConf) {\n          // no handler\n          cv.ui.manager.snackbar.Controller.info(qx.locale.Manager.tr('Cannot open file: \"%1\"', file.getName()));\n\n          return;\n        }\n        handlerId = handlerConf.Clazz.classname;\n      } else {\n        // check if this handler opens the file in a external frame that is not connected to the manager\n        handlerConf = cv.ui.manager.control.FileHandlerRegistry.getInstance().getFileHandlerById(handlerId);\n\n        if (!handlerConf.instance) {\n          handlerConf.instance = new handlerConf.Clazz();\n        }\n        if (handlerConf.instance.isExternal()) {\n          handlerConf.instance.setFile(file);\n          return;\n        }\n      }\n      const isOpen = openFiles.some(function (of) {\n        if (of.getFile() === file && handlerId === of.getHandlerId()) {\n          openFile = of;\n          return true;\n        }\n        return false;\n      });\n      if (!openFile) {\n        openFile = new cv.ui.manager.model.OpenFile(file, handlerId);\n      }\n      if (handlerOptions) {\n        openFile.setHandlerOptions(handlerOptions);\n      } else {\n        openFile.resetHandlerOptions();\n      }\n      if (preview === true) {\n        if (!openFile.isPermanent()) {\n          if (\n            this.__previewFileIndex !== null &&\n            openFiles.getItem(this.__previewFileIndex) &&\n            !openFiles.getItem(this.__previewFileIndex).isPermanent()\n          ) {\n            openFiles.setItem(this.__previewFileIndex, openFile);\n          } else {\n            this.__previewFileIndex = openFiles.length;\n            openFiles.push(openFile);\n          }\n          // do not 'downgrade' the permanent state\n          openFile.setPermanent(false);\n        }\n      } else {\n        if (!isOpen && (this.__previewFileIndex === null || openFiles.indexOf(openFile) !== this.__previewFileIndex)) {\n          openFiles.push(openFile);\n        }\n        openFile.setPermanent(true);\n        this.__previewFileIndex = null;\n      }\n      this._openFilesController.getTarget().setModelSelection([openFile]);\n    },\n\n    /**\n     * Opens a confirm dialog on how to treat the unsaved changes in the file if it has been modified and not saved.\n     * @param openFile {cv.ui.manager.model.OpenFile|cv.ui.manager.model.FileItem} file to check\n     * @return {boolean} true if the confirm dialog has been shown\n     */\n    checkUnsavedChanged(openFile) {\n      if (openFile instanceof cv.ui.manager.model.FileItem) {\n        // find the opened file\n        const found = this.getOpenFiles().some(function (f) {\n          if (f.getFile().getFullPath() === openFile.getFullPath()) {\n            openFile = f;\n            return true;\n          }\n          return false;\n        });\n        if (!found) {\n          return false;\n        }\n      }\n      const file = openFile.getFile();\n      if (file.isModified()) {\n        // check if temporary\n        let message = qx.locale.Manager.tr(\n          'This file has unsaved changes that will be lost when you close it without saving.'\n        );\n\n        if (file.isTemporary()) {\n          message = qx.locale.Manager.tr(\n            'This file has not been saved on the backend yet. It will be lost when you close it without saving.'\n          );\n        }\n        const dialog = new qxl.dialog.Confirm({\n          message: message,\n          callback: confirmed => {\n            if (confirmed === true) {\n              openFile.save();\n              this.closeFile(openFile, true);\n            } else if (confirmed === false) {\n              file.resetModified();\n              if (file.isTemporary()) {\n                qx.event.message.Bus.dispatchByName('cv.manager.file', {\n                  action: 'deleted',\n                  path: file.getFullPath()\n                });\n              }\n              this.closeFile(openFile, true);\n            } else {\n              // cancel closing, do nothing\n            }\n            dialog.dispose();\n          },\n          context: this,\n          caption: qx.locale.Manager.tr('Unsaved changes'),\n          yesButtonLabel: qx.locale.Manager.tr('Save & close'),\n          noButtonLabel: qx.locale.Manager.tr('Discard & close'),\n          noButtonIcon: 'qxl.dialog.icon.delete',\n          useBlocker: true,\n          allowCancel: true\n        });\n\n        dialog.show();\n        return true;\n      }\n      return false;\n    },\n\n    closeFile(openFile, force) {\n      if (openFile instanceof cv.ui.manager.model.FileItem) {\n        // find the opened file\n        const found = this.getOpenFiles().some(function (f) {\n          if (f.getFile().getFullPath() === openFile.getFullPath()) {\n            openFile = f;\n            return true;\n          }\n          return false;\n        });\n        if (!found) {\n          return;\n        }\n      }\n      if (!openFile || !openFile.isCloseable()) {\n        return;\n      }\n      const file = openFile.getFile();\n\n      // check if this file is modified\n      if (!force && this.checkUnsavedChanged(openFile)) {\n        return;\n      }\n      if (openFile instanceof cv.ui.manager.model.OpenFile) {\n        openFile.resetPermanent();\n      }\n      const currentSelection = this._openFilesController.getSelection();\n      let selectionIndex = -1;\n      const openFiles = this.getOpenFiles();\n      if (currentSelection.length > 0 && currentSelection.getItem(0) === openFile) {\n        // we need to select another file after this one got closed\n        selectionIndex = openFiles.indexOf(openFile);\n      }\n      openFiles.remove(openFile);\n      const currentHandler = this._stack.getSelection()[0];\n      if (\n        qx.Class.hasInterface(currentHandler.constructor, cv.ui.manager.editor.IEditor) &&\n        !(currentHandler instanceof cv.ui.manager.Start)\n      ) {\n        // reset the handlers file\n        currentHandler.resetFile();\n      }\n      if (this.getOpenFiles().length === 0) {\n        this._stack.resetSelection();\n        this.__actionDispatcher.resetFocusedWidget();\n        this.__previewFileIndex = null;\n      }\n      if (selectionIndex > 0) {\n        this._openFilesController.getSelection().replace(openFiles.getItem(selectionIndex - 1));\n      } else if (selectionIndex === 0 && openFiles.length > 0) {\n        this._openFilesController.getSelection().replace(openFiles.getItem(0));\n      }\n\n      if (file instanceof cv.ui.manager.model.CompareFiles) {\n        const fileHandlerConf = cv.ui.manager.control.FileHandlerRegistry.getInstance().getFileHandler(file);\n\n        fileHandlerConf.instance.clear();\n        if (\n          openFiles.filter(function (openFile) {\n            return openFile.getFile() instanceof cv.ui.manager.model.CompareFiles;\n          }).length === 0\n        ) {\n          fileHandlerConf.instance.destroy();\n          fileHandlerConf.instance = null;\n        }\n      } else if (window.monaco && openFile.getHandlerId() === 'cv.ui.manager.editor.Source') {\n        // close textmodel in monaco editor if exists\n        const oldModel = window.monaco.editor.getModel(file.getUri());\n        if (oldModel) {\n          oldModel.dispose();\n        }\n      }\n    },\n\n    closeCurrentFile() {\n      const selected =\n        this._openFilesController.getSelection().length > 0\n          ? this._openFilesController.getSelection().getItem(0)\n          : null;\n      if (selected) {\n        this.closeFile(selected);\n      }\n    },\n\n    _onCloseFile(ev) {\n      this.closeFile(ev.getData());\n    },\n\n    __getRoot() {\n      if (!this.__root) {\n        this.__root = qx.dom.Element.create('div', {\n          id: 'manager',\n          style: 'position: absolute; top: 0; left: 0; right: 0; bottom: 0;'\n        });\n\n        qx.dom.Element.insertEnd(this.__root, document.body);\n        qx.theme.manager.Meta.getInstance().setTheme(cv.theme.Dark);\n      }\n      return this.__root;\n    },\n\n    __initCommands() {\n      const group = (this._managerCommands = new qx.ui.command.Group());\n      group.add('save', new qx.ui.command.Command('Ctrl+S'));\n      group.add('save-as', new qx.ui.command.Command('Ctrl+Shift+S'));\n      // this command will close the browser window, thats not what we want\n      // group.add('close', new qx.ui.command.Command('Ctrl+W'));\n      group.add('new-file', new qx.ui.command.Command('Ctrl+N'));\n      group.add('new-folder', new qx.ui.command.Command('Ctrl+Shift+N'));\n      group.add('quit', new qx.ui.command.Command('Ctrl+Q'));\n      // group.add('delete', new qx.ui.command.Command('Ctrl+Del'));\n\n      const renameCommand = new qx.ui.command.Command('F2');\n      group.add('rename', renameCommand);\n      this.bind('renameableSelection', renameCommand, 'enabled');\n\n      group.add('undo', new qx.ui.command.Command('Ctrl+Z'));\n      group.add('redo', new qx.ui.command.Command('Ctrl+Y'));\n\n      // edit commands (adding cut/copy/paste command will deactivate the native browser functions)\n      // and as we cannot simulate pasting from clipboard, we do not use them here\n      group.add('cut', new qx.ui.command.Command('Ctrl+X'));\n      group.add('copy', new qx.ui.command.Command('Ctrl+C'));\n      group.add('paste', new qx.ui.command.Command('Ctrl+V'));\n\n      group.add('help', new qx.ui.command.Command('F1'));\n\n      const manager = qx.core.Init.getApplication().getCommandManager();\n      this._oldCommandGroup = manager.getActive();\n      manager.add(group);\n      manager.setActive(group);\n    },\n\n    _onDelete(file) {\n      const item = file || this.getCurrentSelection();\n      if (item) {\n        cv.ui.manager.control.FileController.getInstance().delete(item);\n      }\n    },\n\n    _onChangeStackSelection(ev) {\n      const selection = ev.getData();\n      const openFiles = [];\n      // sync tab selection with currently visible page\n      selection.forEach(function (page) {\n        const openFile = this.getOpenFiles()\n          .toArray()\n          .find(function (openFile) {\n            return openFile.getFile() === page.getFile() && openFile.getHandlerId() === page.classname;\n          });\n        if (openFile) {\n          openFiles.push(openFile);\n        }\n      }, this);\n\n      this._openFilesController.getSelection().replace(openFiles);\n    },\n\n    __getFileNamePrompt(message, callback, context, value, caption) {\n      const prompt = new cv.ui.manager.dialog.Prompt({\n        message: message,\n        callback: callback || null,\n        context: context || null,\n        value: value || null,\n        caption: caption || '',\n        filter: /[\\w\\d_\\-\\.\\s]/\n      });\n\n      prompt.show();\n      return prompt;\n    },\n\n    _onCreate(type, content, folder, handlerId, suggestedName) {\n      const currentFolder = folder || this.getCurrentFolder();\n      if (!currentFolder) {\n        return;\n      }\n      let message;\n      let existsMessage;\n      if (type === 'config') {\n        message = qx.locale.Manager.tr(\n          'Please enter the name of the new configuration (without \"visu_config_\" at the beginning and \".xml\" at the end)'\n        );\n\n        existsMessage = qx.locale.Manager.tr('A configuration with this name already exists.');\n      } else if (type === 'file') {\n        message = qx.locale.Manager.tr('Please enter the file name.');\n        existsMessage = qx.locale.Manager.tr('A file with this name already exists.');\n      } else {\n        message = qx.locale.Manager.tr('Please enter the folder name.');\n        existsMessage = qx.locale.Manager.tr('A folder with this name already exists.');\n      }\n      const handlePrompt = function (name) {\n        if (!name) {\n          // canceled\n          return;\n        }\n        let filename = name;\n        // add visu_config_..-xml\n        if (type === 'config') {\n          const match = /visu[_-]config[_-]([\\w\\d_-]+)(\\.xml)?/.exec(name);\n          if (match) {\n            name = match[1];\n          }\n          filename = 'visu_config_' + name + '.xml';\n        }\n        // check if name does not exist\n        const exists = currentFolder.getChildren().some(function (child) {\n          return child.getName() === filename && child.getType() === type;\n        }, this);\n\n        if (exists) {\n          cv.ui.manager.snackbar.Controller.error(existsMessage);\n          this.__getFileNamePrompt(message, handlePrompt, this, name);\n        } else {\n          const item = new cv.ui.manager.model.FileItem(filename, currentFolder.getFullPath(), currentFolder);\n\n          item.set({\n            type: type === 'config' ? 'file' : type,\n            readable: true,\n            writeable: true,\n            loaded: true,\n            modified: true,\n            temporary: true,\n            parentFolder: currentFolder.getFullPath(),\n            content: content || ''\n          });\n\n          if (type === 'dir') {\n            // create directory directly\n            cv.io.rest.Client.getFsClient().createSync(\n              {\n                path: item.getFullPath(),\n                type: type\n              },\n\n              null,\n              function (err) {\n                if (err) {\n                  cv.ui.manager.snackbar.Controller.error(err);\n                } else {\n                  cv.ui.manager.snackbar.Controller.info(qx.locale.Manager.tr('Folder has been created'));\n\n                  item.set({\n                    modified: false,\n                    temporary: false\n                  });\n\n                  qx.event.message.Bus.dispatchByName(item.getBusTopic(), {\n                    type: 'created',\n                    file: item,\n                    data: '',\n                    source: this\n                  });\n                }\n              },\n              this\n            );\n          }\n          currentFolder.addChild(item);\n          currentFolder.sortElements();\n          this._tree.refresh();\n          this._tree.setSelection(item);\n          // do not open new folders\n          if (type !== 'dir') {\n            // open the file in an editor\n            this.openFile(item, false, handlerId, 'edit');\n          }\n        }\n      };\n\n      this.__getFileNamePrompt(message, handlePrompt, this, suggestedName);\n    },\n\n    /**\n     * Finds next droppable parent of the given element. Maybe the element itself as well.\n     *\n     * Looks for the attribute <code>qxDroppable</code> with the value <code>on</code>.\n     *\n     * @param elem {Element} The element to query\n     * @return {Element} The next parent element which is droppable. May also be <code>null</code>\n     */\n    __findDroppable(elem) {\n      while (elem && elem.nodeType === 1) {\n        if (elem.getAttribute('qxDroppable') === 'on') {\n          return elem;\n        }\n\n        elem = elem.parentNode;\n      }\n\n      return null;\n    },\n\n    // overridden\n    _draw() {\n      const domRoot = this.__getRoot();\n      const root = new qx.ui.root.Inline(domRoot, true, true);\n      this.bind('visible', root, 'visibility', {\n        converter(visible) {\n          return visible ? 'visible' : 'excluded';\n        }\n      });\n\n      root.addListenerOnce('appear', () => {\n        // disable file drop\n        const element = root.getContentElement().getDomElement();\n        element.addEventListener(\n          'drop',\n          function (ev) {\n            const target = this.__findDroppable(ev.target);\n            if (!target) {\n              ev.preventDefault();\n            }\n          }.bind(this)\n        );\n\n        element.addEventListener(\n          'dragover',\n          function (ev) {\n            const target = this.__findDroppable(ev.target);\n            if (!target) {\n              ev.preventDefault();\n            }\n          }.bind(this)\n        );\n      });\n      qx.core.Init.getApplication().setRoot(root);\n      root.setLayout(new qx.ui.layout.Canvas());\n\n      const snackbar = cv.ui.manager.snackbar.Controller.getInstance();\n      root.add(snackbar, {\n        bottom: 10,\n        left: 200\n      });\n\n      /**\n       *\n       */\n      function resize() {\n        const bounds = root.getBounds();\n        snackbar.setLayoutProperties({\n          bottom: 10,\n          left: Math.round(bounds.width / 2) - 150\n        });\n\n        snackbar.setMaxHeight(bounds.height - 40);\n      }\n      root.addListener('resize', resize, this);\n      root.addListener('appear', resize, this);\n      window.addEventListener('resize', function () {\n        // sync window height with manager height\n        domRoot.style.height = window.innerHeight + 'px';\n      });\n\n      const main = new qx.ui.container.Composite(new qx.ui.layout.Dock());\n      root.add(main, { edge: 0 });\n      // menu on top\n      const menuBar = cv.ui.manager.MenuBar.getInstance();\n      main.add(menuBar, { edge: 'north' });\n\n      const uploadButton = menuBar.getButton('upload');\n      const uploadManager = new cv.ui.manager.upload.UploadMgr(uploadButton);\n      this.bind('currentFolder', uploadManager, 'folder');\n\n      this._pane = new qx.ui.splitpane.Pane();\n      main.add(this._pane, { edge: 'center' });\n\n      const rootFolder = (cv.ui.manager.model.FileItem.ROOT = new cv.ui.manager.model.FileItem('.'));\n      const fakeIconFile = cv.ui.manager.model.FileItem.getIconFile();\n      // TODO: needs to be verified by the backend\n      rootFolder.set({\n        overrideIcon: true,\n        writeable: true,\n        readable: true,\n        open: true,\n        fakeChildren: [fakeIconFile],\n        icon: cv.theme.dark.Images.getIcon('home', 18)\n      });\n\n      this.setCurrentFolder(rootFolder);\n      this._tree = new cv.ui.manager.tree.FileSystem(rootFolder);\n      this._tree.addListener('changeSelection', this._onChangeTreeSelection, this);\n\n      // left container\n      const leftContainer = new qx.ui.container.Composite(new qx.ui.layout.VBox());\n\n      // left toolbar\n      const leftBar = new cv.ui.manager.ToolBar(uploadManager);\n      this.bind('currentFolder', leftBar, 'folder');\n      this.bind('currentSelection', leftBar, 'file');\n      leftBar.addListener('reload', this._tree.reload, this._tree);\n\n      // globally bind writeable folder to command for new files\n      const buttonConfig = menuBar.getButtonConfiguration();\n      this.bind('writeableFolder', buttonConfig['new-file'].args[2], 'enabled');\n      this.bind('writeableFolder', buttonConfig['new-folder'].args[2], 'enabled');\n\n      // this.bind('deleteableSelection', buttonConfig['delete'].args[2], 'enabled');\n\n      leftContainer.add(leftBar);\n      leftContainer.add(this._tree, { flex: 1 });\n      this._pane.add(leftContainer, 0);\n      cv.ui.manager.model.Preferences.getInstance().bind('expertMode', leftContainer, 'visibility', {\n        converter(value) {\n          return value ? 'visible' : 'excluded';\n        }\n      });\n\n      this._mainContent = new qx.ui.container.Composite(new qx.ui.layout.VBox());\n\n      // tab list\n      const list = new qx.ui.form.List(true);\n      list.setAppearance('open-files-tabs');\n      this._openFilesController = new qx.data.controller.List(this.getOpenFiles(), list, 'file.name');\n\n      this._openFilesController.setDelegate({\n        createItem: function () {\n          const item = new cv.ui.manager.form.FileTabItem();\n          item.addListener('close', this._onCloseFile, this);\n          return item;\n        }.bind(this),\n\n        bindItem(controller, item, index) {\n          controller.bindDefaultProperties(item, index);\n          controller.bindProperty('file.permanent', 'permanent', null, item, index);\n\n          controller.bindProperty('file.modified', 'modified', null, item, index);\n\n          controller.bindProperty('icon', 'icon', null, item, index);\n          controller.bindProperty('closeable', 'closeable', null, item, index);\n        }\n      });\n\n      list.addListener('changeSelection', this._onChangeFileSelection, this);\n      this._mainContent.add(list);\n\n      this._stack = new qx.ui.container.Stack();\n      this._stack.addListener('changeSelection', this._onChangeStackSelection, this);\n\n      this._mainContent.add(this._stack, { flex: 1 });\n      this._pane.add(this._mainContent, 1);\n\n      const startOpenFile = new cv.ui.manager.model.OpenFile(rootFolder, 'cv.ui.manager.Start');\n\n      startOpenFile.setCloseable(false);\n      this.getOpenFiles().push(startOpenFile);\n      list.setModelSelection([startOpenFile]);\n    },\n\n    _showAbout() {\n      const app = qx.core.Init.getApplication();\n      const dialogConf = {\n        caption: qx.locale.Manager.tr('About'),\n        modal: true,\n        minWidth: Math.min(500, qx.bom.Viewport.getWidth()),\n        maxHeight: qx.bom.Viewport.getHeight(),\n        message: `\n<div class=\"about-cv\">\n <img src=\"resource/icons/comet_icon_128x128_ff8000.png\" width=\"128\" height=\"128\"/>\n <h2>CometVisu ${cv.Version.VERSION}</h2>\n <div class=\"info\">\n   <label for=\"date\">${qx.locale.Manager.tr('Build date')}: </label>\n   <span id=\"date\">${cv.Version.DATE}</span><br/>\n   <label for=\"build\">${qx.locale.Manager.tr('Build revision')}: </label>\n   <span id=\"build\">${cv.Version.REV}</span><br/>\n   <label for=\"lib-version\">${qx.locale.Manager.tr('Library version')}: </label>\n   <span id=\"lib-version\">Pure: ${cv.Version.LIBRARY_VERSION_PURE}, Tile: ${cv.Version.LIBRARY_VERSION_TILE}</span><br/>\n   <label for=\"server\">${qx.locale.Manager.tr('Server')}: </label>\n   <span id=\"server\">${app.getServer() || '?'}</span><br/>\n   <label for=\"php-version\">${qx.locale.Manager.tr('PHP version') || '?'}: </label>\n   <span id=\"php-version\">${app.getServerPhpVersion()}</span>\n </div>\n</div>`\n      };\n\n      new cv.ui.manager.dialog.BigAlert(dialogConf).show();\n    }\n  },\n\n  /*\n  ***********************************************\n    DESTRUCTOR\n  ***********************************************\n  */\n  destruct() {\n    this._disposeObjects('_pane', '_tree', '_stack', '_mainContent', '_openFilesController');\n\n    // restore former command group\n    const application = qx.core.Init.getApplication();\n    const manager = application.getCommandManager();\n    manager.setActive(this._oldCommandGroup);\n    this._oldCommandGroup = null;\n\n    // defer the reset to let the dispose queue to be emptied before removing the root\n    new qx.util.DeferredCall(function () {\n      application.resetRoot();\n    }).schedule();\n\n    document.body.removeChild(this.__root);\n    this.__root = null;\n    this.__actionDispatcher = null;\n\n    qx.event.message.Bus.unsubscribe('cv.manager.*', this._onManagerEvent, this);\n\n    // destroy the singleton instance\n    delete cv.ui.manager.Main.$$instance;\n  }\n});\n"
  ],
  "mappings": "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",
  "ignoreList": []
}