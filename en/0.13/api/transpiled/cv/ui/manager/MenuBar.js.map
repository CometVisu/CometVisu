{
  "version": 3,
  "sources": [
    "/home/runner/work/CometVisu/CometVisu/source/class/cv/ui/manager/MenuBar.js"
  ],
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "extend",
    "ui",
    "menubar",
    "MenuBar",
    "type",
    "construct",
    "_commandGroup",
    "core",
    "Init",
    "getApplication",
    "getCommandManager",
    "getActive",
    "__buttons",
    "_draw",
    "members",
    "__defaultButtonConfiguration",
    "__buttonConfiguration",
    "_createChildControl",
    "add",
    "Spacer",
    "flex",
    "editorGroup",
    "form",
    "RadioGroup",
    "menu",
    "args",
    "tr",
    "cv",
    "theme",
    "dark",
    "Images",
    "getIcon",
    "get",
    "enabled",
    "separator",
    "clazz",
    "com",
    "zenesis",
    "upload",
    "UploadMenuButton",
    "hidden",
    "RadioButton",
    "general",
    "properties",
    "model",
    "group",
    "CheckBox",
    "maintainButtons",
    "prefs",
    "manager",
    "Preferences",
    "getInstance",
    "bind",
    "converter",
    "value",
    "getModelSelection",
    "addListener",
    "setDefaultConfigEditor",
    "getItem",
    "__bindToPreference",
    "buttonName",
    "preferenceName",
    "button",
    "getButton",
    "config",
    "Object",
    "merge",
    "keys",
    "forEach",
    "id",
    "buttonConf",
    "prototype",
    "hasOwnProperty",
    "call",
    "label",
    "icon",
    "command",
    "ButtonClass",
    "Button",
    "lang",
    "Type",
    "isString",
    "getChildControl",
    "setValue",
    "event",
    "message",
    "Bus",
    "dispatchByName",
    "Error",
    "Separator",
    "onAfterCreate",
    "setEnabled",
    "set",
    "getButtonConfiguration",
    "_createChildControlImpl",
    "control",
    "basic",
    "Label",
    "Menu",
    "destruct"
  ],
  "mappings": "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",
  "sourcesContent": [
    "/* MenuBar.js \n * \n * copyright (c) 2010-2022, Christian Mayer and the CometVisu contributers.\n * \n * This program is free software; you can redistribute it and/or modify it\n * under the terms of the GNU General Public License as published by the Free\n * Software Foundation; either version 3 of the License, or (at your option)\n * any later version.\n *\n * This program is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for\n * more details.\n *\n * You should have received a copy of the GNU General Public License along\n * with this program; if not, write to the Free Software Foundation, Inc.,\n * 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA\n */\n\n\n/**\n * Main toolbar on top.\n */\nqx.Class.define('cv.ui.manager.MenuBar', {\n  extend: qx.ui.menubar.MenuBar,\n  type: 'singleton',\n\n  /*\n  ***********************************************\n    CONSTRUCTOR\n  ***********************************************\n  */\n  construct: function () {\n    this.base(arguments);\n    this._commandGroup = qx.core.Init.getApplication().getCommandManager().getActive();\n    this.__buttons = {};\n\n    this._draw();\n  },\n\n  /*\n  ***********************************************\n    MEMBERS\n  ***********************************************\n  */\n  members: {\n    _commandGroup: null,\n    __buttons: null,\n    __defaultButtonConfiguration: null,\n    __buttonConfiguration: null,\n\n    _draw: function () {\n      this._createChildControl('file');\n      this._createChildControl('edit');\n      this._createChildControl('preferences');\n      this.add(new qx.ui.core.Spacer(), {flex: 1});\n\n      this._createChildControl('title');\n      this.add(new qx.ui.core.Spacer(), {flex: 1});\n      this._createChildControl('help');\n\n      const editorGroup = new qx.ui.form.RadioGroup();\n\n      this.__defaultButtonConfiguration = {\n        'new-file': {\n          menu: 'new-menu',\n          args: [this.tr('New file'), cv.theme.dark.Images.getIcon('new-file', 18), this._commandGroup.get('new-file')],\n          enabled: true\n        },\n        'new-folder': {\n          menu: 'new-menu',\n          args: [this.tr('New folder'), cv.theme.dark.Images.getIcon('new-folder', 18), this._commandGroup.get('new-folder')],\n          enabled: true,\n          separator: 'after'\n        },\n        'new-config-file': {\n          menu: 'new-menu',\n          args: [this.tr('New config file')],\n          enabled: true\n        },\n        'upload': {\n          menu: 'file-menu',\n          clazz: com.zenesis.qx.upload.UploadMenuButton,\n          args: [this.tr('Upload file'), cv.theme.dark.Images.getIcon('upload', 18)],\n          enabled: true,\n          separator: 'before'\n        },\n        'save': {\n          menu: 'file-menu',\n          args: [this.tr('Save'), cv.theme.dark.Images.getIcon('save', 18), this._commandGroup.get('save')],\n          enabled: false,\n          separator: 'before'\n        },\n        'save-as': {\n          menu: 'file-menu',\n          args: [this.tr('Save as...'), null, this._commandGroup.get('save-as')],\n          enabled: false\n        },\n        'delete': {\n          args: [this.tr('Delete'), cv.theme.dark.Images.getIcon('delete', 18), this._commandGroup.get('delete')],\n          enabled: false,\n          hidden: true\n        },\n        'quit': {\n          menu: 'file-menu',\n          args: [this.tr('Quit'), cv.theme.dark.Images.getIcon('quit', 18), this._commandGroup.get('quit')],\n          enabled: true,\n          separator: 'before'\n        },\n        // edit menu basics\n        'undo': {\n          menu: 'edit-menu',\n          args: [this.tr('Undo'), cv.theme.dark.Images.getIcon('undo', 18), this._commandGroup.get('undo')],\n          enabled: true\n        },\n        'redo': {\n          menu: 'edit-menu',\n          args: [this.tr('Redo'), cv.theme.dark.Images.getIcon('redo', 18), this._commandGroup.get('redo')],\n          enabled: true\n        },\n        'cut': {\n          menu: 'edit-menu',\n          args: [this.tr('Cut'), cv.theme.dark.Images.getIcon('cut', 18), this._commandGroup.get('cut')],\n          enabled: false,\n          separator: 'before'\n        },\n        'copy': {\n          menu: 'edit-menu',\n          args: [this.tr('Copy'), cv.theme.dark.Images.getIcon('copy', 18), this._commandGroup.get('copy')],\n          enabled: false\n        },\n        'paste': {\n          menu: 'edit-menu',\n          args: [this.tr('Paste'), cv.theme.dark.Images.getIcon('paste', 18), this._commandGroup.get('paste')],\n          enabled: false\n        },\n        // preferences\n        'source-editor': {\n          menu: 'preferences-menu',\n          clazz: qx.ui.menu.RadioButton,\n          args: [this.tr('Use text editor')],\n          general: true,\n          enabled: true,\n          properties: {\n            model: 'source',\n            group: editorGroup\n          }\n        },\n        'xml-editor': {\n          menu: 'preferences-menu',\n          clazz: qx.ui.menu.RadioButton,\n          args: [this.tr('Use xml editor')],\n          general: true,\n          enabled: true,\n          properties: {\n            model: 'xml',\n            group: editorGroup\n          }\n        },\n        'quick-preview': {\n          menu: 'preferences-menu',\n          clazz: qx.ui.menu.CheckBox,\n          args: [this.tr('Enable quick preview')],\n          general: true,\n          enabled: true,\n          separator: 'before'\n        },\n        'expert-mode': {\n          menu: 'preferences-menu',\n          clazz: qx.ui.menu.CheckBox,\n          args: [this.tr('Expert mode')],\n          general: true,\n          enabled: true\n        },\n        'help': {\n          menu: 'help-menu',\n          args: [this.tr('Help'), cv.theme.dark.Images.getIcon('help', 18), this._commandGroup.get('help')],\n          enabled: false\n        },\n        'about': {\n          menu: 'help-menu',\n          args: [this.tr('About')],\n          enabled: false\n        }\n      };\n      this.maintainButtons();\n\n      const prefs = cv.ui.manager.model.Preferences.getInstance();\n\n      prefs.bind('defaultConfigEditor', editorGroup, 'modelSelection', {\n        converter: function (value) {\n          return [value];\n        }\n      });\n      editorGroup.getModelSelection().addListener('change', function () {\n        prefs.setDefaultConfigEditor(editorGroup.getModelSelection().getItem(0));\n      }, this);\n\n      this.__bindToPreference('quick-preview', 'quickPreview');\n      this.__bindToPreference('expert-mode', 'expertMode');\n    },\n\n    __bindToPreference: function (buttonName, preferenceName) {\n      const button = this.getButton(buttonName);\n      const prefs = cv.ui.manager.model.Preferences.getInstance();\n      prefs.bind(preferenceName, button, 'value');\n      button.bind('value', prefs, preferenceName);\n    },\n\n    maintainButtons: function (config) {\n      if (!config) {\n        config = this.__defaultButtonConfiguration;\n      } else {\n        config = Object.merge(this.__defaultButtonConfiguration, config);\n        this.__buttonConfiguration = config;\n      }\n      Object.keys(config).forEach(function (id) {\n        let button;\n        const buttonConf = config[id];\n        if (!Object.prototype.hasOwnProperty.call(this.__buttons, id)) {\n          // create button\n          const label = buttonConf.args[0];\n          const icon = buttonConf.args[1];\n          const command = buttonConf.args[2];\n          const ButtonClass = buttonConf.clazz || qx.ui.menu.Button;\n          if (qx.lang.Type.isString(command) || !command) {\n            // no command connected\n            button = new ButtonClass(label, icon);\n            if (command) {\n              // just add the string as shortcut hint\n              button.getChildControl('shortcut').setValue(command);\n            }\n          } else {\n            button = new ButtonClass(label, icon, command);\n            if (qx.core.Environment.get('qx.command.bindEnabled')) {\n              button.bind('enabled', command, 'enabled');\n            }\n          }\n          button.addListener('execute', function () {\n            qx.event.message.Bus.dispatchByName('cv.manager.action.' + id);\n          }, this);\n          if (!buttonConf.hidden) {\n            const menu = this.getChildControl(buttonConf.menu);\n            if (!menu) {\n              throw new Error('no menu named ' + buttonConf.menu + ' found!');\n            }\n            if (buttonConf.separator === 'before') {\n              menu.add(new qx.ui.menu.Separator());\n            }\n            menu.add(button);\n            if (buttonConf.separator === 'after') {\n              menu.add(new qx.ui.menu.Separator());\n            }\n          }\n          this.__buttons[id] = button;\n\n          if (Object.prototype.hasOwnProperty.call(buttonConf, 'onAfterCreate')) {\n            buttonConf.onAfterCreate(button);\n          }\n        } else {\n          button = this.__buttons[id];\n        }\n        button.setEnabled(buttonConf.enabled);\n        if (buttonConf.properties) {\n          button.set(buttonConf.properties);\n        }\n      }, this);\n    },\n\n    getButton: function (id) {\n      return this.__buttons[id];\n    },\n\n    getButtonConfiguration: function () {\n      return this.__buttonConfiguration || this.__defaultButtonConfiguration;\n    },\n\n    // overridden\n    _createChildControlImpl : function(id) {\n      let control;\n\n      switch (id) {\n         case 'title':\n           control = new qx.ui.basic.Label(this.tr('CometVisu Manager'));\n           this.add(control);\n           break;\n\n         case 'file':\n           control = new qx.ui.menubar.Button(this.tr('File'), null, this.getChildControl('file-menu'));\n           this.add(control);\n           break;\n\n         case 'edit':\n           control = new qx.ui.menubar.Button(this.tr('Edit'), null, this.getChildControl('edit-menu'));\n           this.add(control);\n           break;\n\n         case 'help':\n           control = new qx.ui.menubar.Button(this.tr('Help'), null, this.getChildControl('help-menu'));\n           this.add(control);\n           break;\n\n         case 'about':\n           control = new qx.ui.menubar.Button(this.tr('About'), null, this.getChildControl('help-menu'));\n           this.add(control);\n           break;\n\n         case 'new':\n           control = new qx.ui.menu.Button(this.tr('New'), null, null, this.getChildControl('new-menu'));\n           break;\n\n         case 'preferences':\n           control = new qx.ui.menubar.Button(this.tr('Preferences'), null, this.getChildControl('preferences-menu'));\n           this.add(control);\n           break;\n\n         case 'new-menu':\n           control = new qx.ui.menu.Menu();\n           break;\n\n         case 'file-menu':\n           control = new qx.ui.menu.Menu();\n           control.add(this.getChildControl('new'));\n           break;\n\n         case 'edit-menu':\n           control = new qx.ui.menu.Menu();\n           break;\n\n         case 'preferences-menu':\n           control = new qx.ui.menu.Menu();\n           break;\n\n         case 'help-menu':\n           control = new qx.ui.menu.Menu();\n           break;\n       }\n\n       return control || this.base(arguments, id);\n    }\n  },\n\n  /*\n  ***********************************************\n    DESTRUCTOR\n  ***********************************************\n  */\n  destruct: function () {\n    this._commandGroup = null;\n  }\n});\n"
  ]
}