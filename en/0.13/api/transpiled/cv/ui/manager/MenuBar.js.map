{
  "version": 3,
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "extend",
    "ui",
    "menubar",
    "MenuBar",
    "type",
    "construct",
    "_commandGroup",
    "core",
    "Init",
    "getApplication",
    "getCommandManager",
    "getActive",
    "__buttons",
    "_draw",
    "members",
    "__defaultButtonConfiguration",
    "__buttonConfiguration",
    "_createChildControl",
    "add",
    "Spacer",
    "flex",
    "editorGroup",
    "form",
    "RadioGroup",
    "menu",
    "args",
    "tr",
    "cv",
    "theme",
    "dark",
    "Images",
    "getIcon",
    "get",
    "enabled",
    "separator",
    "upload",
    "clazz",
    "com",
    "zenesis",
    "UploadMenuButton",
    "save",
    "hidden",
    "quit",
    "undo",
    "redo",
    "cut",
    "copy",
    "paste",
    "RadioButton",
    "general",
    "properties",
    "model",
    "group",
    "CheckBox",
    "help",
    "about",
    "maintainButtons",
    "prefs",
    "manager",
    "Preferences",
    "getInstance",
    "bind",
    "converter",
    "value",
    "getModelSelection",
    "addListener",
    "setDefaultConfigEditor",
    "getItem",
    "__bindToPreference",
    "buttonName",
    "preferenceName",
    "button",
    "getButton",
    "config",
    "Object",
    "merge",
    "keys",
    "forEach",
    "id",
    "buttonConf",
    "prototype",
    "hasOwnProperty",
    "call",
    "label",
    "icon",
    "command",
    "ButtonClass",
    "Button",
    "lang",
    "Type",
    "isString",
    "getChildControl",
    "setValue",
    "event",
    "message",
    "Bus",
    "dispatchByName",
    "Error",
    "Separator",
    "onAfterCreate",
    "setEnabled",
    "set",
    "getButtonConfiguration",
    "_createChildControlImpl",
    "control",
    "basic",
    "Label",
    "Menu",
    "destruct"
  ],
  "sources": [
    "/home/runner/work/CometVisu/CometVisu/source/class/cv/ui/manager/MenuBar.js"
  ],
  "sourcesContent": [
    "/* MenuBar.js\n *\n * copyright (c) 2010-2022, Christian Mayer and the CometVisu contributers.\n *\n * This program is free software; you can redistribute it and/or modify it\n * under the terms of the GNU General Public License as published by the Free\n * Software Foundation; either version 3 of the License, or (at your option)\n * any later version.\n *\n * This program is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for\n * more details.\n *\n * You should have received a copy of the GNU General Public License along\n * with this program; if not, write to the Free Software Foundation, Inc.,\n * 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA\n */\n\n/**\n * Main toolbar on top.\n */\nqx.Class.define('cv.ui.manager.MenuBar', {\n  extend: qx.ui.menubar.MenuBar,\n  type: 'singleton',\n\n  /*\n  ***********************************************\n    CONSTRUCTOR\n  ***********************************************\n  */\n  construct() {\n    super();\n    this._commandGroup = qx.core.Init.getApplication().getCommandManager().getActive();\n    this.__buttons = {};\n\n    this._draw();\n  },\n\n  /*\n  ***********************************************\n    MEMBERS\n  ***********************************************\n  */\n  members: {\n    _commandGroup: null,\n    __buttons: null,\n    __defaultButtonConfiguration: null,\n    __buttonConfiguration: null,\n\n    _draw() {\n      this._createChildControl('file');\n      this._createChildControl('edit');\n      this._createChildControl('preferences');\n      this.add(new qx.ui.core.Spacer(), { flex: 1 });\n\n      this._createChildControl('title');\n      this.add(new qx.ui.core.Spacer(), { flex: 1 });\n      this._createChildControl('help');\n\n      const editorGroup = new qx.ui.form.RadioGroup();\n\n      this.__defaultButtonConfiguration = {\n        'new-file': {\n          menu: 'new-menu',\n          args: [this.tr('New file'), cv.theme.dark.Images.getIcon('new-file', 18), this._commandGroup.get('new-file')],\n\n          enabled: true\n        },\n\n        'new-folder': {\n          menu: 'new-menu',\n          args: [\n            this.tr('New folder'),\n            cv.theme.dark.Images.getIcon('new-folder', 18),\n            this._commandGroup.get('new-folder')\n          ],\n\n          enabled: true,\n          separator: 'after'\n        },\n\n        'new-config-file': {\n          menu: 'new-menu',\n          args: [this.tr('New config file')],\n          enabled: true\n        },\n\n        upload: {\n          menu: 'file-menu',\n          clazz: com.zenesis.qx.upload.UploadMenuButton,\n          args: [this.tr('Upload file'), cv.theme.dark.Images.getIcon('upload', 18)],\n\n          enabled: true,\n          separator: 'before'\n        },\n\n        save: {\n          menu: 'file-menu',\n          args: [this.tr('Save'), cv.theme.dark.Images.getIcon('save', 18), this._commandGroup.get('save')],\n\n          enabled: false,\n          separator: 'before'\n        },\n\n        'save-as': {\n          menu: 'file-menu',\n          args: [this.tr('Save as...'), null, this._commandGroup.get('save-as')],\n\n          enabled: false\n        },\n\n        delete: {\n          args: [this.tr('Delete'), cv.theme.dark.Images.getIcon('delete', 18), this._commandGroup.get('delete')],\n\n          enabled: false,\n          hidden: true\n        },\n\n        quit: {\n          menu: 'file-menu',\n          args: [this.tr('Quit'), cv.theme.dark.Images.getIcon('quit', 18), this._commandGroup.get('quit')],\n\n          enabled: true,\n          separator: 'before'\n        },\n\n        // edit menu basics\n        undo: {\n          menu: 'edit-menu',\n          args: [this.tr('Undo'), cv.theme.dark.Images.getIcon('undo', 18), this._commandGroup.get('undo')],\n\n          enabled: true\n        },\n\n        redo: {\n          menu: 'edit-menu',\n          args: [this.tr('Redo'), cv.theme.dark.Images.getIcon('redo', 18), this._commandGroup.get('redo')],\n\n          enabled: true\n        },\n\n        cut: {\n          menu: 'edit-menu',\n          args: [this.tr('Cut'), cv.theme.dark.Images.getIcon('cut', 18), this._commandGroup.get('cut')],\n\n          enabled: false,\n          separator: 'before'\n        },\n\n        copy: {\n          menu: 'edit-menu',\n          args: [this.tr('Copy'), cv.theme.dark.Images.getIcon('copy', 18), this._commandGroup.get('copy')],\n\n          enabled: false\n        },\n\n        paste: {\n          menu: 'edit-menu',\n          args: [this.tr('Paste'), cv.theme.dark.Images.getIcon('paste', 18), this._commandGroup.get('paste')],\n\n          enabled: false\n        },\n\n        // preferences\n        'source-editor': {\n          menu: 'preferences-menu',\n          clazz: qx.ui.menu.RadioButton,\n          args: [this.tr('Use text editor')],\n          general: true,\n          enabled: true,\n          properties: {\n            model: 'source',\n            group: editorGroup\n          }\n        },\n\n        'xml-editor': {\n          menu: 'preferences-menu',\n          clazz: qx.ui.menu.RadioButton,\n          args: [this.tr('Use xml editor')],\n          general: true,\n          enabled: true,\n          properties: {\n            model: 'xml',\n            group: editorGroup\n          }\n        },\n\n        'quick-preview': {\n          menu: 'preferences-menu',\n          clazz: qx.ui.menu.CheckBox,\n          args: [this.tr('Enable quick preview')],\n          general: true,\n          enabled: true,\n          separator: 'before'\n        },\n\n        'expert-mode': {\n          menu: 'preferences-menu',\n          clazz: qx.ui.menu.CheckBox,\n          args: [this.tr('Expert mode')],\n          general: true,\n          enabled: true\n        },\n\n        help: {\n          menu: 'help-menu',\n          args: [this.tr('Help'), cv.theme.dark.Images.getIcon('help', 18), this._commandGroup.get('help')],\n\n          enabled: false\n        },\n\n        about: {\n          menu: 'help-menu',\n          args: [this.tr('About')],\n          enabled: false\n        }\n      };\n\n      this.maintainButtons();\n\n      const prefs = cv.ui.manager.model.Preferences.getInstance();\n\n      prefs.bind('defaultConfigEditor', editorGroup, 'modelSelection', {\n        converter(value) {\n          return [value];\n        }\n      });\n\n      editorGroup.getModelSelection().addListener('change', () => {\n        prefs.setDefaultConfigEditor(editorGroup.getModelSelection().getItem(0));\n      });\n\n      this.__bindToPreference('quick-preview', 'quickPreview');\n      this.__bindToPreference('expert-mode', 'expertMode');\n    },\n\n    __bindToPreference(buttonName, preferenceName) {\n      const button = this.getButton(buttonName);\n      const prefs = cv.ui.manager.model.Preferences.getInstance();\n      prefs.bind(preferenceName, button, 'value');\n      button.bind('value', prefs, preferenceName);\n    },\n\n    maintainButtons(config) {\n      if (!config) {\n        config = this.__defaultButtonConfiguration;\n      } else {\n        config = Object.merge(this.__defaultButtonConfiguration, config);\n        this.__buttonConfiguration = config;\n      }\n      Object.keys(config).forEach(function (id) {\n        let button;\n        const buttonConf = config[id];\n        if (!Object.prototype.hasOwnProperty.call(this.__buttons, id)) {\n          // create button\n          const label = buttonConf.args[0];\n          const icon = buttonConf.args[1];\n          const command = buttonConf.args[2];\n          const ButtonClass = buttonConf.clazz || qx.ui.menu.Button;\n          if (qx.lang.Type.isString(command) || !command) {\n            // no command connected\n            button = new ButtonClass(label, icon);\n            if (command) {\n              // just add the string as shortcut hint\n              button.getChildControl('shortcut').setValue(command);\n            }\n          } else {\n            button = new ButtonClass(label, icon, command);\n            if (qx.core.Environment.get('qx.command.bindEnabled')) {\n              button.bind('enabled', command, 'enabled');\n            }\n          }\n          button.addListener('execute', () => {\n            qx.event.message.Bus.dispatchByName('cv.manager.action.' + id);\n          });\n          if (!buttonConf.hidden) {\n            const menu = this.getChildControl(buttonConf.menu);\n            if (!menu) {\n              throw new Error('no menu named ' + buttonConf.menu + ' found!');\n            }\n            if (buttonConf.separator === 'before') {\n              menu.add(new qx.ui.menu.Separator());\n            }\n            menu.add(button);\n            if (buttonConf.separator === 'after') {\n              menu.add(new qx.ui.menu.Separator());\n            }\n          }\n          this.__buttons[id] = button;\n\n          if (Object.prototype.hasOwnProperty.call(buttonConf, 'onAfterCreate')) {\n            buttonConf.onAfterCreate(button);\n          }\n        } else {\n          button = this.__buttons[id];\n        }\n        button.setEnabled(buttonConf.enabled);\n        if (buttonConf.properties) {\n          button.set(buttonConf.properties);\n        }\n      }, this);\n    },\n\n    getButton(id) {\n      return this.__buttons[id];\n    },\n\n    getButtonConfiguration() {\n      return this.__buttonConfiguration || this.__defaultButtonConfiguration;\n    },\n\n    // overridden\n    _createChildControlImpl(id) {\n      let control;\n\n      switch (id) {\n        case 'title':\n          control = new qx.ui.basic.Label(this.tr('CometVisu Manager'));\n          this.add(control);\n          break;\n\n        case 'file':\n          control = new qx.ui.menubar.Button(this.tr('File'), null, this.getChildControl('file-menu'));\n\n          this.add(control);\n          break;\n\n        case 'edit':\n          control = new qx.ui.menubar.Button(this.tr('Edit'), null, this.getChildControl('edit-menu'));\n\n          this.add(control);\n          break;\n\n        case 'help':\n          control = new qx.ui.menubar.Button(this.tr('Help'), null, this.getChildControl('help-menu'));\n\n          this.add(control);\n          break;\n\n        case 'about':\n          control = new qx.ui.menubar.Button(this.tr('About'), null, this.getChildControl('help-menu'));\n\n          this.add(control);\n          break;\n\n        case 'new':\n          control = new qx.ui.menu.Button(this.tr('New'), null, null, this.getChildControl('new-menu'));\n\n          break;\n\n        case 'preferences':\n          control = new qx.ui.menubar.Button(this.tr('Preferences'), null, this.getChildControl('preferences-menu'));\n\n          this.add(control);\n          break;\n\n        case 'new-menu':\n          control = new qx.ui.menu.Menu();\n          break;\n\n        case 'file-menu':\n          control = new qx.ui.menu.Menu();\n          control.add(this.getChildControl('new'));\n          break;\n\n        case 'edit-menu':\n          control = new qx.ui.menu.Menu();\n          break;\n\n        case 'preferences-menu':\n          control = new qx.ui.menu.Menu();\n          break;\n\n        case 'help-menu':\n          control = new qx.ui.menu.Menu();\n          break;\n      }\n\n      return control || super._createChildControlImpl(id);\n    }\n  },\n\n  /*\n  ***********************************************\n    DESTRUCTOR\n  ***********************************************\n  */\n  destruct() {\n    this._commandGroup = null;\n  }\n});\n"
  ],
  "mappings": "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"
}