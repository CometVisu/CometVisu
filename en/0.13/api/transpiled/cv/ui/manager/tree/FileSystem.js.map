{
  "version": 3,
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "extend",
    "ui",
    "core",
    "Widget",
    "include",
    "cv",
    "manager",
    "upload",
    "MDragUpload",
    "construct",
    "rootFolder",
    "_setLayout",
    "layout",
    "Grow",
    "setRootFolder",
    "event",
    "message",
    "Bus",
    "subscribe",
    "_onEnableTree",
    "statics",
    "MIMETYPES",
    "getMimetypeFromSuffix",
    "suffix",
    "Object",
    "keys",
    "find",
    "mime",
    "isAccepted",
    "mimetype",
    "prototype",
    "hasOwnProperty",
    "call",
    "events",
    "changeSelection",
    "properties",
    "appearance",
    "refine",
    "init",
    "check",
    "apply",
    "selectedNode",
    "nullable",
    "members",
    "__selectionTimer",
    "__doubleTapWaitingTime",
    "__ignoreSelectionChange",
    "_replacementManager",
    "reload",
    "tree",
    "getChildControl",
    "openPaths",
    "getOpenNodes",
    "map",
    "node",
    "getFullPath",
    "root",
    "getModel",
    "refresh",
    "setOpen",
    "forEach",
    "openPath",
    "path",
    "_applyRootFolder",
    "value",
    "setModel",
    "load",
    "setHideRoot",
    "_applySelectedNode",
    "contextMenu",
    "contextmenu",
    "GlobalFileItem",
    "getInstance",
    "configure",
    "setContextMenu",
    "setSelection",
    "getSelection",
    "replace",
    "_onDblTapTreeSelection",
    "sel",
    "getSelectedNode",
    "stop",
    "getType",
    "fireDataEvent",
    "mode",
    "_onChangeTreeSelection",
    "length",
    "getItem",
    "setSelectedNode",
    "Timer",
    "once",
    "resetContextMenu",
    "resetSelectedNode",
    "_onFsItemRightClick",
    "ev",
    "widget",
    "getTarget",
    "VirtualFsItem",
    "setEnabled",
    "getData",
    "_createChildControlImpl",
    "id",
    "control",
    "VirtualTree",
    "set",
    "selectionMode",
    "minWidth",
    "showTopLevelOpenCloseIcons",
    "model",
    "Preferences",
    "bind",
    "converter",
    "setDelegate",
    "createItem",
    "item",
    "addListener",
    "bindItem",
    "controller",
    "index",
    "bindProperty",
    "bindPropertyReverse",
    "_add",
    "_createMDragUploadChildControlImpl",
    "destruct",
    "unsubscribe",
    "_disposeObjects",
    "FileSystem"
  ],
  "sources": [
    "/home/runner/work/CometVisu/CometVisu/source/class/cv/ui/manager/tree/FileSystem.js"
  ],
  "sourcesContent": [
    "/* FileSystem.js\n *\n * copyright (c) 2010-2022, Christian Mayer and the CometVisu contributers.\n *\n * This program is free software; you can redistribute it and/or modify it\n * under the terms of the GNU General Public License as published by the Free\n * Software Foundation; either version 3 of the License, or (at your option)\n * any later version.\n *\n * This program is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for\n * more details.\n *\n * You should have received a copy of the GNU General Public License along\n * with this program; if not, write to the Free Software Foundation, Inc.,\n * 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA\n */\n\n/**\n * Shows filesystem content in a tree.\n */\nqx.Class.define('cv.ui.manager.tree.FileSystem', {\n  extend: qx.ui.core.Widget,\n  include: [cv.ui.manager.upload.MDragUpload],\n\n  /*\n  ***********************************************\n    CONSTRUCTOR\n  ***********************************************\n  */\n  construct(rootFolder) {\n    super();\n    this._setLayout(new qx.ui.layout.Grow());\n    this.setRootFolder(rootFolder);\n\n    qx.event.message.Bus.subscribe('cv.manager.tree.enable', this._onEnableTree, this);\n  },\n\n  /*\n  ***********************************************\n    STATICS\n  ***********************************************\n  */\n  statics: {\n    MIMETYPES: {\n      'text/xml': 'xml',\n      'application/xml': 'xml',\n      'text/javascript': 'js',\n      'application/x-httpd-php': 'php',\n      'text/css': 'css',\n      'image/png': 'png',\n      'image/svg+xml': 'svg',\n      'text/plain': ''\n    },\n\n    getMimetypeFromSuffix(suffix) {\n      return Object.keys(this.MIMETYPES).find(function (mime) {\n        return this.MIMETYPES[mime] === suffix;\n      }, this);\n    },\n\n    isAccepted(mimetype) {\n      return Object.prototype.hasOwnProperty.call(this.MIMETYPES, mimetype);\n    }\n  },\n\n  /*\n  ***********************************************\n    EVENTS\n  ***********************************************\n  */\n  events: {\n    changeSelection: 'qx.event.type.Data'\n  },\n\n  /*\n  ***********************************************\n    PROPERTIES\n  ***********************************************\n  */\n  properties: {\n    appearance: {\n       refine: true,\n       init: 'cv-filesystem'\n    },\n\n    rootFolder: {\n      check: 'cv.ui.manager.model.FileItem',\n      apply: '_applyRootFolder'\n    },\n\n    selectedNode: {\n      check: 'cv.ui.manager.model.FileItem',\n      apply: '_applySelectedNode',\n      nullable: true\n    }\n  },\n\n  /*\n  ***********************************************\n    MEMBERS\n  ***********************************************\n  */\n  members: {\n    __selectionTimer: null,\n    __doubleTapWaitingTime: 500,\n    __ignoreSelectionChange: false,\n    _replacementManager: null,\n\n    reload() {\n      const tree = this.getChildControl('tree');\n      const openPaths = tree.getOpenNodes().map(function (node) {\n        return node.getFullPath();\n      });\n      const root = tree.getModel();\n      root.reload(function () {\n        this.getChildControl('tree').refresh();\n        root.setOpen(true);\n        openPaths.forEach(this.openPath, this);\n      }, this);\n    },\n\n    openPath(path) {\n      const root = this.getChildControl('tree').getModel();\n      if (path === '.') {\n        root.setOpen(true);\n      } else {\n        root.setOpen(true);\n        root.openPath(path);\n      }\n    },\n\n    refresh() {\n      this.getChildControl('tree').refresh();\n    },\n\n    _applyRootFolder(value) {\n      if (value) {\n        const tree = this.getChildControl('tree');\n        tree.setModel(value);\n        value.load(function () {\n          tree.setHideRoot(true);\n        }, this);\n      }\n    },\n\n    _applySelectedNode(value) {\n      const tree = this.getChildControl('tree');\n      const contextMenu = cv.ui.manager.contextmenu.GlobalFileItem.getInstance();\n      contextMenu.configure(value);\n      if (value) {\n        tree.setContextMenu(contextMenu);\n      }\n    },\n\n    setSelection(node) {\n      this.getChildControl('tree').getSelection().replace([node]);\n    },\n\n    _onDblTapTreeSelection() {\n      const sel = this.getSelectedNode();\n      if (sel) {\n        if (this.__selectionTimer) {\n          this.__selectionTimer.stop();\n        }\n        // only files show a different behaviour when double-clicked (permanent vs. preview mode)\n        if (sel.getType() === 'file') {\n          this.fireDataEvent('changeSelection', {\n            node: sel,\n            mode: 'dbltap'\n          });\n        }\n      }\n    },\n\n    _onChangeTreeSelection() {\n      if (this.__selectionTimer) {\n        this.__selectionTimer.stop();\n      }\n      if (this.__ignoreSelectionChange === true) {\n        return;\n      }\n      const tree = this.getChildControl('tree');\n      const sel = tree.getSelection();\n      if (sel.length > 0) {\n        const node = sel.getItem(0);\n        this.setSelectedNode(node);\n        // wait for double tap\n        if (node.getType() === 'file') {\n          this.__selectionTimer = qx.event.Timer.once(\n            function () {\n              this.fireDataEvent('changeSelection', {\n                node: this.getSelectedNode(),\n                mode: 'tap'\n              });\n\n              this.__selectionTimer = null;\n            },\n            this,\n            this.__doubleTapWaitingTime\n          );\n        } else {\n          this.fireDataEvent('changeSelection', {\n            node: node,\n            mode: 'tap'\n          });\n        }\n      } else {\n        tree.resetContextMenu();\n        this.resetSelectedNode();\n      }\n    },\n\n    _onFsItemRightClick(ev) {\n      const tree = this.getChildControl('tree');\n      const widget = ev.getTarget();\n      if (widget instanceof cv.ui.manager.tree.VirtualFsItem) {\n        const node = widget.getModel();\n        if (node) {\n          this.__ignoreSelectionChange = true;\n          tree.getSelection().replace([node]);\n          this.setSelectedNode(node);\n          this.fireDataEvent('changeSelection', {\n            node: node,\n            mode: 'contextmenu'\n          });\n\n          this.__ignoreSelectionChange = false;\n        }\n      }\n    },\n\n    /**\n     * Handle message on 'cv.manager.tree.enable' topic.\n     * @param ev {Event}\n     * @protected\n     */\n    _onEnableTree(ev) {\n      this.getChildControl('tree').setEnabled(ev.getData());\n    },\n\n    // overridden\n    _createChildControlImpl(id) {\n      let control;\n\n      switch (id) {\n        case 'tree':\n          control = new qx.ui.tree.VirtualTree(null, 'name', 'children');\n          control.set({\n            selectionMode: 'single',\n            minWidth: 250,\n            showTopLevelOpenCloseIcons: true\n          });\n\n          cv.ui.manager.model.Preferences.getInstance().bind('quickPreview', control, 'openMode', {\n            converter(value) {\n              return value ? 'tap' : 'dbltap';\n            }\n          });\n\n          control.setDelegate({\n            createItem: function () {\n              const item = new cv.ui.manager.tree.VirtualFsItem();\n              item.addListener('dbltap', this._onDblTapTreeSelection, this);\n              item.addListener('contextmenu', this._onFsItemRightClick, this);\n              return item;\n            }.bind(this),\n\n            // Bind properties from the item to the tree-widget and vice versa\n            bindItem(controller, item, index) {\n              controller.bindProperty('', 'model', null, item, index);\n              controller.bindPropertyReverse('open', 'open', null, item, index);\n              controller.bindProperty('open', 'open', null, item, index);\n              controller.bindProperty('readable', 'enabled', null, item, index);\n              controller.bindProperty('icon', 'icon', null, item, index);\n              controller.bindProperty('editing', 'editing', null, item, index);\n            }\n          });\n\n          control.getSelection().addListener('change', this._onChangeTreeSelection, this);\n          this._add(control);\n          break;\n      }\n\n      if (!control) {\n        control = this._createMDragUploadChildControlImpl(id);\n      }\n\n      return control || super._createChildControlImpl(id);\n    }\n  },\n\n  /*\n  ***********************************************\n    DESTRUCTOR\n  ***********************************************\n  */\n  destruct() {\n    qx.event.message.Bus.unsubscribe('cv.manager.tree.enable', this._onEnableTree, this);\n\n    this._disposeObjects('_dateFormat', '_timeFormat', '_replacementManager');\n  }\n});\n"
  ],
  "mappings": "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"
}