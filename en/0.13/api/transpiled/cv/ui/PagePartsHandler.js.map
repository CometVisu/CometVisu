{
  "version": 3,
  "sources": [
    "/home/runner/work/CometVisu/CometVisu/source/class/cv/ui/PagePartsHandler.js"
  ],
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "extend",
    "core",
    "Object",
    "construct",
    "navbars",
    "top",
    "dynamic",
    "fadeVisible",
    "left",
    "right",
    "bottom",
    "members",
    "updateTopNavigation",
    "path",
    "split",
    "pop",
    "id",
    "pathNode",
    "document",
    "querySelector",
    "innerHTML",
    "pageTitle",
    "textContent",
    "nav",
    "createElement",
    "setAttribute",
    "appendChild",
    "createTextNode",
    "i",
    "length",
    "pageElem",
    "classList",
    "contains",
    "span",
    "navbarSetSize",
    "position",
    "size",
    "cssSize",
    "isFinite",
    "navbar",
    "style",
    "width",
    "getBoundingClientRect",
    "cv",
    "ui",
    "layout",
    "ResizeHandler",
    "invalidateNavbar",
    "getNavbarsVisibility",
    "page",
    "TemplateEngine",
    "getInstance",
    "getCurrentPage",
    "structure",
    "WidgetFactory",
    "getInstanceById",
    "attributes",
    "getAttribute",
    "getShowNavbarTop",
    "getShowNavbarBottom",
    "getShowNavbarLeft",
    "getShowNavbarRight",
    "updatePageParts",
    "speed",
    "showtopnavigation",
    "showfooter",
    "isInitialized",
    "self",
    "addListenerOnce",
    "getShowTopNavigation",
    "getShowFooter",
    "topDisplay",
    "window",
    "getComputedStyle",
    "bottomDisplay",
    "querySelectorAll",
    "forEach",
    "elem",
    "display",
    "removeInactiveNavbars",
    "getPath",
    "fadeNavbar",
    "direction",
    "undefined",
    "main_scroll",
    "getSpeed",
    "initCss",
    "targetCss",
    "key",
    "toLowerCase",
    "onAnimationEnd",
    "height",
    "entries",
    "key_value",
    "spec",
    "duration",
    "timing",
    "getEasing",
    "keep",
    "keyFrames",
    "anim",
    "bom",
    "element",
    "Animation",
    "animate",
    "initializeNavbars",
    "page_id",
    "tree",
    "Array",
    "from",
    "parts",
    "subPath",
    "slice",
    "join",
    "item",
    "push",
    "level",
    "positions",
    "pos",
    "data",
    "Model",
    "getWidgetData",
    "scope",
    "add",
    "remove",
    "navBarPath",
    "expr",
    "RegExp",
    "test",
    "PagePartsHandler"
  ],
  "mappings": "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",
  "sourcesContent": [
    "/* PagePartsHandler.js \n * \n * copyright (c) 2010-2022, Christian Mayer and the CometVisu contributers.\n * \n * This program is free software; you can redistribute it and/or modify it\n * under the terms of the GNU General Public License as published by the Free\n * Software Foundation; either version 3 of the License, or (at your option)\n * any later version.\n *\n * This program is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for\n * more details.\n *\n * You should have received a copy of the GNU General Public License along\n * with this program; if not, write to the Free Software Foundation, Inc.,\n * 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA\n */\n\n\n/**\n * @author Christian Mayer\n * @since 2010\n */\nqx.Class.define('cv.ui.PagePartsHandler', {\n  extend: qx.core.Object,\n\n  /*\n   ******************************************************\n   CONSTRUCTOR\n   ******************************************************\n   */\n  construct: function () {\n    this.navbars = {\n      top: {\n        dynamic: null,\n        fadeVisible: true\n      },\n      left: {\n        dynamic: null,\n        fadeVisible: true\n      },\n      right: {\n        dynamic: null,\n        fadeVisible: true\n      },\n      bottom: {\n        dynamic: null,\n        fadeVisible: true\n      }\n    };\n  },\n\n  /*\n   ******************************************************\n   MEMBERS\n   ******************************************************\n   */\n  members: {\n    navbars: null,\n\n    updateTopNavigation: function (path) {\n      path = path.split('_');\n      path.pop();\n      let id = 'id_'; //path[0];\n      const pathNode = document.querySelector('.nav_path');\n      pathNode.innerHTML = '';\n      let pageTitle = document.querySelector('#'+id+' h1').textContent;\n      let nav = document.createElement('a');\n      // eslint-disable-next-line no-script-url\n      nav.setAttribute('href', 'javascript:cv.TemplateEngine.getInstance().scrollToPage(\\'' + id + '\\')');\n      nav.setAttribute('id', 'breadcrump_pagejump_' + id);\n      nav.appendChild(document.createTextNode(pageTitle));\n      pathNode.appendChild(nav);\n      for (let i = 1; i < path.length; i++) { // element 0 is id_ (JNK)\n        id += path[i] + '_';\n        let pageElem = document.querySelector('#'+id);\n        if (pageElem && pageElem.classList.contains('page')) { // FIXME is this still needed?!?\n          pageTitle = document.querySelector('#'+id+' h1').textContent;\n          let span = document.createElement('span');\n          span.innerHTML = ' &#x25ba; ';\n          pathNode.appendChild(span);\n          nav = document.createElement('a');\n          // eslint-disable-next-line no-script-url\n          nav.setAttribute('href', 'javascript:cv.TemplateEngine.getInstance().scrollToPage(\\'' + id + '\\')');\n          nav.setAttribute('id', 'breadcrump_pagejump_' + id);\n          nav.appendChild(document.createTextNode(pageTitle));\n          pathNode.appendChild(nav);\n        }\n      }\n      // cv.TemplateEngine.getInstance().handleResize(); - TODO CM160528: why? This shouldn't have\n      //                             any effect on the page size => commented out\n    },\n\n    /**\n     * Change the size of the selected navbar\n     *\n     * currently only \"left\" and \"right\" are implemented\n     * @param position\n     * @param size\n     */\n    navbarSetSize: function (position, size) {\n      const cssSize = size + (isFinite(size) ? 'px' : '');\n      let navbar;\n      switch (position) {\n        case 'left':\n          navbar = document.querySelector('#navbarLeft');\n          navbar.style.width = cssSize;\n          if (!this.navbars.left.fadeVisible) {\n            navbar.style.left = -navbar.getBoundingClientRect().width + 'px';\n          }\n          cv.ui.layout.ResizeHandler.invalidateNavbar();\n          break;\n\n        case 'right':\n          document.querySelector('#centerContainer').style['padding-right'] = cssSize;\n          navbar = document.querySelector('#navbarRight');\n          navbar.style.width = cssSize;\n          navbar.style['margin-right'] = '-' + cssSize;\n          if (!this.navbars.right.fadeVisible) {\n            navbar.style.right = -navbar.getBoundingClientRect().width + 'px';\n          }\n          cv.ui.layout.ResizeHandler.invalidateNavbar();\n          break;\n      }\n    },\n\n    getNavbarsVisibility: function (page) {\n      if (!page) {\n        page = cv.TemplateEngine.getInstance().getCurrentPage();\n      }\n      if (!page) {\n        return {top: true, bottom: true, left: true, right: true};\n      }\n      if (typeof page === 'string') {\n        page = cv.ui.structure.WidgetFactory.getInstanceById(page);\n      } else if (page.attributes) {\n        page = cv.ui.structure.WidgetFactory.getInstanceById(page.getAttribute('id'));\n      }\n\n      if (!page) {\n        return {top: true, bottom: true, left: true, right: true};\n      }\n\n      return {\n        top: page.getShowNavbarTop(),\n        bottom: page.getShowNavbarBottom(),\n        left: page.getShowNavbarLeft(),\n        right: page.getShowNavbarRight()\n      };\n    },\n\n    /**\n     * update the visibility of top-navigation, footer and navbar for this page\n     *\n     * @param page {cv.ui.structure.pure.Page} page to update the parts for\n     * @param speed {Number} animation duration for changes\n     */\n    updatePageParts: function (page, speed) {\n      // default values\n      let showtopnavigation = true;\n      let showfooter = true;\n\n      if (page) {\n        if (!page.isInitialized()) {\n          // page is not ready, defer this update\n          const self = this;\n          page.addListenerOnce('changeInitialized', function () {\n            self.updatePageParts(page, speed);\n          }, this);\n          return;\n        }\n        showtopnavigation = page.getShowTopNavigation();\n        showfooter = page.getShowFooter();\n      }\n      const topDisplay = window.getComputedStyle(document.querySelector('#top'))['display'];\n      const bottomDisplay = window.getComputedStyle(document.querySelector('#bottom'))['display'];\n      if (showtopnavigation) {\n        if (topDisplay === 'none') {\n          document.querySelectorAll('#top, #top > *').forEach(function(elem) {\n            elem.style.display = 'block';\n          }, this);\n          this.removeInactiveNavbars(page.getPath());\n        }\n      } else if (topDisplay !== 'none') {\n          document.querySelector('#top').style.display = 'none';\n          this.removeInactiveNavbars(page.getPath());\n        }\n      if (showfooter) {\n        if (bottomDisplay === 'none') {\n          document.querySelector('#bottom').style.display = 'block';\n          this.removeInactiveNavbars(page.getPath());\n        }\n      } else if (bottomDisplay !== 'none') {\n          document.querySelector('#bottom').style.display = 'none';\n          this.removeInactiveNavbars(page.getPath());\n        }\n      cv.ui.layout.ResizeHandler.invalidateNavbar();\n    },\n\n    /**\n     * fades in/out a navbar\n     *\n     * @param position {String}  [Top|Left|Right|Bottom]\n     * @param direction {String} [in|out]\n     * @param speed {Number} time in milliseconds\n     */\n    fadeNavbar: function (position, direction, speed) {\n      speed = (speed !== undefined) ? speed : cv.TemplateEngine.getInstance().main_scroll.getSpeed();\n      const initCss = {};\n      const targetCss = {};\n      const navbar = document.querySelector('#navbar' + position);\n      if (navbar) {\n        const key = position.toLowerCase();\n        const self = this;\n        const onAnimationEnd = function () {\n          self.navbars[key].fadeVisible = direction === 'in';\n          cv.ui.layout.ResizeHandler.invalidateNavbar();\n        };\n        switch (direction) {\n          case 'in':\n            if (window.getComputedStyle(navbar).display === 'none') {\n              initCss.display = 'block';\n            }\n            targetCss[key] = 0;\n            switch (position) {\n              case 'Top':\n              case 'Bottom':\n                initCss[key] = -navbar.getBoundingClientRect().height + 'px';\n                break;\n              case 'Left':\n              case 'Right':\n                initCss[key] = -navbar.getBoundingClientRect().width + 'px';\n                break;\n            }\n            break;\n          case 'out':\n            initCss[key] = 0;\n            switch (position) {\n              case 'Top':\n              case 'Bottom':\n                targetCss[key] = -navbar.getBoundingClientRect().height + 'px';\n                break;\n              case 'Left':\n              case 'Right':\n                targetCss[key] = -navbar.getBoundingClientRect().width + 'px';\n                break;\n            }\n            break;\n        }\n        Object.entries(initCss).forEach(function (key_value) {\n          navbar.style[key_value[0]] = key_value[1];\n        });\n        if (speed === 0) {\n          Object.entries(targetCss).forEach(function (key_value) {\n            navbar.style[key_value[0]] = key_value[1];\n          });\n          onAnimationEnd();\n        } else {\n          const spec = {\n            duration: speed,\n            timing: cv.TemplateEngine.getInstance().main_scroll.getEasing(),\n            keep: 100,\n            keyFrames: {\n              0: initCss,\n              100: targetCss\n            }\n          };\n          const anim = qx.bom.element.Animation.animate(navbar, spec);\n          anim.addListenerOnce('end', onAnimationEnd, this);\n        }\n      }\n    },\n\n    /**\n     * traverse down the page tree from root page id_ -> .. -> page_id activate\n     * all navbars in that path deactivate all others\n     *\n     * @param page_id {String}\n     */\n    initializeNavbars: function (page_id) {\n      const self = this;\n      this.removeInactiveNavbars(page_id);\n      const tree = Array.from(document.querySelectorAll('#id_'));\n      if (page_id !== 'id_') {\n        const parts = page_id.split('_');\n        parts.pop();\n        parts[0] = '';\n        for (let i = 0; i < parts.length; i++) {\n          const subPath = parts.slice(0, i + 1).join('_');\n          if (subPath) {\n            const item = document.querySelectorAll('#id' + subPath + '_.page');\n            if (item.length === 1) {\n              tree.push(item[0]);\n            }\n          }\n        }\n      }\n      let level = 1;\n      const size = {top: 0, right: 0, bottom: 0, left: 0};\n      const dynamic = {top: null, right: null, bottom: null, left: null};\n      const positions = ['top', 'right', 'bottom', 'left'];\n      tree.forEach(function (elem) {\n        const id = elem.getAttribute('id');\n        positions.forEach(function (pos) {\n          const nav = document.querySelector('#' + id + pos + '_navbar');\n          if (nav) {\n            const data = cv.data.Model.getInstance().getWidgetData(id + pos + '_navbar');\n            if (tree.length-level > data.scope) {\n              // navbar that is not visible at the moment -> ignore it\n              return;\n            }\n            if (data.dynamic !== null) {\n              dynamic[pos] = data.dynamic;\n            }\n            self.navbars[pos].dynamic = dynamic[pos];\n            if (data.scope === undefined || data.scope < 0 || tree.length - level <= data.scope) {\n              nav.classList.add('navbarActive');\n            } else {\n              nav.classList.remove('navbarActive');\n            }\n            if (data.width !== null) {\n              size[pos] = data.width;\n            } else if (size[pos] === 0) {\n              // navbar with content but no size given so far => use default\n              size[pos] = 300;\n            }\n          }\n        });\n        level++;\n      });\n      positions.forEach(function (pos) {\n        self.navbarSetSize(pos, size[pos]);\n      });\n      cv.ui.layout.ResizeHandler.invalidateNavbar();\n    },\n\n    removeInactiveNavbars: function (page_id) {\n      // remove all navbars that do not belong to this page\n      document.querySelectorAll('.navbar.navbarActive').forEach(function (elem) {\n        let navBarPath = elem.getAttribute('id').split('_');\n        // skip last 2 elements e.g. '_top_navbar'\n        navBarPath = navBarPath.slice(0, navBarPath.length - 2).join('_');\n        const expr = new RegExp('^' + navBarPath + '.*', 'i');\n        if (navBarPath !== page_id && !expr.test(page_id)) {\n          elem.classList.remove('navbarActive');\n        }\n      });\n    }\n  }\n});\n"
  ]
}