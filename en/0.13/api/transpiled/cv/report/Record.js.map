{
  "version": 3,
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "extend",
    "core",
    "Object",
    "type",
    "construct",
    "__log",
    "__listeners",
    "__start",
    "Date",
    "now",
    "__xhr",
    "response",
    "request",
    "__data",
    "__deltas",
    "statics",
    "CONFIG",
    "BACKEND",
    "USER",
    "CACHE",
    "XHR",
    "SCREEN",
    "RUNTIME",
    "STORAGE",
    "REPLAYING",
    "data",
    "USER_EVENTS",
    "prepare",
    "cv",
    "Config",
    "reporting",
    "report",
    "Record",
    "Application",
    "registerConsoleCommand",
    "download",
    "record",
    "getInstance",
    "EVENT_RECORDER",
    "recordNativeEvent",
    "bind",
    "patch",
    "io",
    "Xhr",
    "utils",
    "MXhrHook",
    "Reg",
    "event",
    "Registration",
    "addListener",
    "window",
    "w",
    "document",
    "documentElement",
    "clientWidth",
    "h",
    "clientHeight",
    "message",
    "Bus",
    "subscribe",
    "throttled",
    "util",
    "Function",
    "throttle",
    "recordScroll",
    "querySelectorAll",
    "forEach",
    "page",
    "getClientData",
    "req",
    "Uri",
    "parseUri",
    "location",
    "href",
    "queryKey",
    "Env",
    "Environment",
    "runtime",
    "browserName",
    "get",
    "browserVersion",
    "deviceName",
    "deviceType",
    "pixelRatio",
    "touch",
    "osName",
    "osVersion",
    "build",
    "locale",
    "bom",
    "client",
    "Locale",
    "getLocale",
    "width",
    "height",
    "anchor",
    "query",
    "path",
    "relative",
    "getOwnPropertyNames",
    "Version",
    "name",
    "test",
    "category",
    "options",
    "logCache",
    "ConfigCache",
    "getData",
    "then",
    "configSuffix",
    "logLocalStorage",
    "localStorage",
    "preferences",
    "normalizeUrl",
    "url",
    "parsed",
    "getAbsolute",
    "filteredParams",
    "keys",
    "filter",
    "length",
    "map",
    "param",
    "concat",
    "join",
    "e",
    "indexOf",
    "replace",
    "getFileName",
    "members",
    "__delta",
    "__minDelta",
    "__maxDelta",
    "__ID",
    "__scrubSensitiveContent",
    "t",
    "push",
    "prototype",
    "hasOwnProperty",
    "call",
    "c",
    "i",
    "d",
    "o",
    "ID",
    "__P_534_10",
    "includes",
    "rest",
    "Client",
    "BASE_URL",
    "body",
    "content",
    "JSON",
    "parse",
    "sectionName",
    "optionName",
    "stringify",
    "error",
    "toString",
    "endsWith",
    "replaceAll",
    "__extractDataFromEvent",
    "__P_534_11",
    "nativeEvent",
    "eventClass",
    "constructor",
    "bubbles",
    "button",
    "clientX",
    "Math",
    "round",
    "clientY",
    "currentTarget",
    "__getDomPath",
    "undefined",
    "relatedTarget",
    "pageX",
    "pageY",
    "returnValue",
    "screenX",
    "screenY",
    "wheelDelta",
    "wheelDeltaX",
    "wheelDeltaY",
    "delta",
    "deltaX",
    "deltaY",
    "deltaZ",
    "detail",
    "axis",
    "wheelX",
    "wheelY",
    "view",
    "HORIZONTAL_AXIS",
    "x",
    "y",
    "assign",
    "pointerId",
    "pressure",
    "tiltX",
    "tiltY",
    "pointerType",
    "isPrimary",
    "deltaMode",
    "code",
    "composed",
    "charCode",
    "key",
    "keyCode",
    "ctrlKey",
    "altKey",
    "ev",
    "$$RID",
    "lastDelta",
    "abs",
    "target",
    "debug",
    "getTarget",
    "getAttribute",
    "getType",
    "scrollLeft",
    "scrollTop",
    "__P_534_12",
    "el",
    "stack",
    "parentNode",
    "sibCount",
    "sibIndex",
    "childNodes",
    "sib",
    "nodeName",
    "hasAttribute",
    "id",
    "unshift",
    "toLowerCase",
    "slice",
    "dontStop",
    "start",
    "xhr",
    "log",
    "end",
    "ts",
    "getFullYear",
    "getMonth",
    "padStart",
    "getDate",
    "getHours",
    "getMinutes",
    "getSeconds",
    "console",
    "a",
    "createElement",
    "URL",
    "createObjectURL",
    "Blob",
    "appendChild",
    "click",
    "removeChild"
  ],
  "sources": [
    "/home/runner/work/CometVisu/CometVisu/source/class/cv/report/Record.js"
  ],
  "sourcesContent": [
    "/* Record.js\n *\n * copyright (c) 2010-2022, Christian Mayer and the CometVisu contributers.\n *\n * This program is free software; you can redistribute it and/or modify it\n * under the terms of the GNU General Public License as published by the Free\n * Software Foundation; either version 3 of the License, or (at your option)\n * any later version.\n *\n * This program is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for\n * more details.\n *\n * You should have received a copy of the GNU General Public License along\n * with this program; if not, write to the Free Software Foundation, Inc.,\n * 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA\n */\n\n/**\n * Recording tool for user interactions on existing configs. Used for bug reproduction.\n\n * @author Tobias BrÃ¤utigam\n * @since 0.11.0 (2017)\n */\nqx.Class.define('cv.report.Record', {\n  extend: qx.core.Object,\n  type: 'singleton',\n\n  /*\n  ******************************************************\n    CONSTRUCTOR\n  ******************************************************\n  */\n  construct() {\n    this.__log = [];\n    this.__listeners = {};\n    this.__start = Date.now();\n    this.__xhr = { response: [], request: [] };\n    this.__data = {};\n    this.__deltas = {};\n  },\n\n  /*\n  ******************************************************\n    STATICS\n  ******************************************************\n  */\n  statics: {\n    CONFIG: 'config',\n    BACKEND: 'backend',\n    USER: 'user',\n    CACHE: 'cache',\n    XHR: 'xhr',\n    SCREEN: 'screen',\n    RUNTIME: 'runtime',\n    STORAGE: 'storage',\n    REPLAYING: false,\n    data: null,\n\n    // Events that should be recorded\n    USER_EVENTS: /(.+(down|up|cancel|move)|.*click|contextmenu|touch.*|.*wheel)/i,\n\n    prepare() {\n      if (cv.Config.reporting === true && !cv.report.Record.REPLAYING) {\n        cv.Application.registerConsoleCommand('downloadLog', cv.report.Record.download, 'Download recorded log file.');\n\n        // apply event recorder\n        const record = cv.report.Record.getInstance();\n        EVENT_RECORDER = record.recordNativeEvent.bind(record);\n\n        // patch XHR\n        qx.Class.patch(qx.io.request.Xhr, cv.report.utils.MXhrHook);\n\n        const Reg = qx.event.Registration;\n\n        // add resize listener\n        Reg.addListener(\n          window,\n          'resize',\n          function () {\n            this.record(this.SCREEN, 'resize', {\n              w: document.documentElement.clientWidth,\n              h: document.documentElement.clientHeight\n            });\n          },\n          this\n        );\n\n        // add scroll listeners to all pages\n        qx.event.message.Bus.subscribe(\n          'setup.dom.finished',\n          function () {\n            const throttled = qx.util.Function.throttle(record.recordScroll, 250, true);\n\n            document.querySelectorAll('#pages > .page').forEach(function (page) {\n              Reg.addListener(page, 'scroll', throttled, record);\n            }, this);\n          },\n          this\n        );\n\n        this.record(this.RUNTIME, 'config', this.getClientData());\n\n        // save initial size\n        this.record(this.SCREEN, 'resize', {\n          w: document.documentElement.clientWidth,\n          h: document.documentElement.clientHeight\n        });\n      }\n    },\n\n    getClientData() {\n      // save browser settings\n      const req = qx.util.Uri.parseUri(window.location.href);\n      // delete reporting queryKey\n      delete req.queryKey.reporting;\n      const Env = qx.core.Environment;\n      const runtime = {\n        browserName: Env.get('browser.name'),\n        browserVersion: Env.get('browser.version'),\n        deviceName: Env.get('device.name'),\n        deviceType: Env.get('device.type'),\n        pixelRatio: Env.get('device.pixelRatio'),\n        touch: Env.get('device.touch'),\n        osName: Env.get('os.name'),\n        osVersion: Env.get('os.version'),\n        build: Env.get('cv.build'),\n        locale: qx.bom.client.Locale.getLocale(),\n        cv: {},\n        width: document.documentElement.clientWidth,\n        height: document.documentElement.clientHeight,\n        anchor: req.anchor,\n        query: req.queryKey,\n        path: req.relative\n      };\n\n      // save CometVisu build information\n      Object.getOwnPropertyNames(cv.Version).forEach(function (name) {\n        if (/^[A-Z]+$/.test(name)) {\n          runtime.cv[name] = cv.Version[name];\n        }\n      });\n      return runtime;\n    },\n\n    record(category, path, data, options) {\n      if (cv.Config.reporting === true && !cv.report.Record.REPLAYING) {\n        cv.report.Record.getInstance().record(category, path, data, options);\n      }\n    },\n\n    /**\n     * Save cache in\n     */\n    logCache() {\n      if (cv.Config.reporting === true && !cv.report.Record.REPLAYING) {\n        cv.ConfigCache.getData().then(data => {\n          cv.report.Record.record(cv.report.Record.CACHE, cv.Config.configSuffix, data);\n        });\n      }\n    },\n\n    logLocalStorage() {\n      cv.report.Record.record(cv.report.Record.STORAGE, 'preferences', window.localStorage.preferences);\n    },\n\n    normalizeUrl(url) {\n      try {\n        const parsed = qx.util.Uri.parseUri(qx.util.Uri.getAbsolute(url));\n        url = parsed.path;\n        const filteredParams = Object.keys(parsed.queryKey).filter(name => name !== 'nocache' && name !== 'ts');\n\n        if (filteredParams.length > 0) {\n          url += '?';\n          url += filteredParams.map(param => `${param}=${parsed.queryKey[param]}`).join('&');\n        }\n      } catch (e) {\n        if (url.indexOf('nocache=') >= 0) {\n          url = url.replace(/[\\?|&]nocache=[0-9]+/, '');\n        }\n        if (url.indexOf('ts=') >= 0) {\n          url = url.replace(/[\\?|&]ts=[0-9]+/, '');\n        }\n      }\n      return url;\n    },\n\n    download() {\n      if (cv.Config.reporting === true && !cv.report.Record.REPLAYING) {\n        return cv.report.Record.getInstance().download();\n      }\n      return null;\n    },\n\n    getData() {\n      if (cv.Config.reporting === true && !cv.report.Record.REPLAYING) {\n        return cv.report.Record.getInstance().getData();\n      }\n      return null;\n    },\n\n    getFileName() {\n      return cv.report.Record.getInstance().getFileName();\n    }\n  },\n\n  /*\n  ******************************************************\n    MEMBERS\n  ******************************************************\n  */\n  members: {\n    __start: null,\n    __log: null,\n    __xhr: null,\n    __listeners: null,\n    __data: null,\n    __delta: 50,\n    __minDelta: 1,\n    __maxDelta: 50,\n    __deltas: null,\n    __ID: 0,\n\n    record(category, path, data, options) {\n      switch (category) {\n        case cv.report.Record.XHR:\n          if (path === 'response') {\n            this.__scrubSensitiveContent(category, data);\n          }\n          data.t = Date.now();\n          this.__xhr[path].push(data);\n          break;\n\n        case cv.report.Record.CACHE:\n        case cv.report.Record.RUNTIME:\n          this.__data[category] = data;\n          break;\n\n        case cv.report.Record.STORAGE:\n          if (!Object.prototype.hasOwnProperty.call(this.__data, category)) {\n            this.__data[category] = {};\n          }\n          this.__data[category][path] = data;\n          break;\n\n        default:\n          this.__log.push({\n            c: category,\n            t: Date.now(),\n            i: path,\n            d: data,\n            o: options,\n            ID: this.__ID\n          });\n      }\n\n      this.__ID++;\n    },\n\n    /**\n     * Prevent sensitive data like passwords from being recorded (e.g. content of the hidden config\n     * @param category {String} recording category\n     * @param data {Object} recorded content\n     * @private\n     */\n    __scrubSensitiveContent(category, data) {\n      if (category === cv.report.Record.XHR) {\n        if (data.url.includes(cv.io.rest.Client.BASE_URL + '/config/hidden') && data.body) {\n          try {\n            const content = JSON.parse(data.body);\n            Object.keys(content).forEach(sectionName => {\n              Object.keys(content[sectionName]).forEach(optionName => {\n                switch (optionName) {\n                  case 'uri':\n                    content[sectionName][optionName] = 'http://127.0.0.1';\n                    break;\n                  case 'username':\n                  case 'user':\n                    content[sectionName][optionName] = 'xxxxx';\n                    break;\n                  case 'pass':\n                  case 'passwd':\n                  case 'password':\n                    content[sectionName][optionName] = 'xxx';\n                    break;\n                }\n              });\n            });\n            data.body = JSON.stringify(content);\n          } catch (e) {\n            this.error(e);\n            data.body = '{}';\n            data.error = 'Invalid JSON content: ' + e.toString();\n          }\n        } else if (data.url.includes('/config/visu_config') && data.url.endsWith('.xml') && data.body) {\n          data.body = data.body.replaceAll(/username=\"[^\"]+\"/gi, 'username=\"replay\"');\n          data.body = data.body.replaceAll(/password=\"[^\"]+\"/gi, 'password=\"***\"');\n        }\n      }\n    },\n\n    /**\n     * Extract useful data we need from every event\n     * @param nativeEvent {Event}\n     */\n    __extractDataFromEvent(nativeEvent) {\n      const data = {\n        eventClass: nativeEvent.constructor.name,\n        native: {\n          bubbles: nativeEvent.bubbles,\n          button: nativeEvent.button,\n          clientX: Math.round(nativeEvent.clientX),\n          clientY: Math.round(nativeEvent.clientY),\n          currentTarget: nativeEvent.currentTarget ? this.__getDomPath(nativeEvent.currentTarget) : undefined,\n          relatedTarget: nativeEvent.relatedTarget ? this.__getDomPath(nativeEvent.relatedTarget) : undefined,\n          pageX: nativeEvent.pageX ? Math.round(nativeEvent.pageX) : undefined,\n          pageY: nativeEvent.pageY ? Math.round(nativeEvent.pageY) : undefined,\n          returnValue: nativeEvent.returnValue,\n          screenX: Math.round(nativeEvent.screenX),\n          screenY: Math.round(nativeEvent.screenY),\n          wheelDelta: nativeEvent.wheelDelta,\n          wheelDeltaX: nativeEvent.wheelDeltaX,\n          wheelDeltaY: nativeEvent.wheelDeltaY,\n          delta: nativeEvent.delta,\n          deltaX: nativeEvent.deltaX,\n          deltaY: nativeEvent.deltaY,\n          deltaZ: nativeEvent.deltaZ,\n          detail: nativeEvent.detail,\n          axis: nativeEvent.axis,\n          wheelX: nativeEvent.wheelX,\n          wheelY: nativeEvent.wheelY,\n          view: nativeEvent.view ? nativeEvent.view.constructor.name : undefined,\n          HORIZONTAL_AXIS: nativeEvent.HORIZONTAL_AXIS,\n          type: nativeEvent.type,\n          x: nativeEvent.x,\n          y: nativeEvent.y\n        }\n      };\n\n      if (data.eventClass === 'PointerEvent') {\n        Object.assign(data.native, {\n          pointerId: nativeEvent.pointerId,\n          width: nativeEvent.width,\n          height: nativeEvent.height,\n          pressure: nativeEvent.pressure,\n          tiltX: nativeEvent.tiltX,\n          tiltY: nativeEvent.tiltY,\n          pointerType: nativeEvent.pointerType,\n          isPrimary: nativeEvent.isPrimary\n        });\n      } else if (data.eventClass === 'WheelEvent') {\n        Object.assign(data.native, {\n          deltaX: nativeEvent.deltaX,\n          deltaY: nativeEvent.deltaY,\n          deltaZ: nativeEvent.deltaZ,\n          deltaMode: nativeEvent.deltaMode\n        });\n      } else if (data.eventClass === 'KeyboardEvent') {\n        Object.assign(data.native, {\n          code: nativeEvent.code,\n          composed: nativeEvent.composed,\n          charCode: nativeEvent.charCode,\n          key: nativeEvent.key,\n          keyCode: nativeEvent.keyCode,\n          ctrlKey: nativeEvent.ctrlKey,\n          altKey: nativeEvent.altKey\n        });\n      }\n\n      // delete undefined values\n      Object.keys(data.native).forEach(function (key) {\n        if (data.native[key] === undefined || data.native[key] === null) {\n          delete data.native[key];\n        }\n      });\n      return data;\n    },\n\n    recordNativeEvent(ev) {\n      if (!cv.report.Record.USER_EVENTS.test(ev.type) || ev.$$RID || ev.constructor.name === 'CustomEvent') {\n        return;\n      }\n      ev.$$RID = this.__ID;\n      if (ev.type.endsWith('down') || ev.type.endsWith('start')) {\n        this.__delta = this.__minDelta;\n      } else if (ev.type.endsWith('up') || ev.type.endsWith('end')) {\n        this.__delta = this.__maxDelta;\n      }\n      if (/.+(move|over|out)/.test(ev.type)) {\n        if (!this.__deltas[ev.type]) {\n          this.__deltas[ev.type] = { x: ev.clientX, y: ev.clientY };\n        } else {\n          const lastDelta = this.__deltas[ev.type];\n          if (\n            Math.abs(lastDelta.x - ev.clientX) <= this.__delta ||\n            Math.abs(lastDelta.y - ev.clientY) <= this.__delta\n          ) {\n            // below delta -> skip this event\n            return;\n          }\n          this.__deltas[ev.type] = { x: ev.clientX, y: ev.clientY };\n        }\n      }\n      // get path\n      const path = this.__getDomPath(ev.target);\n      if (!path) {\n        return;\n      }\n      this.debug('recording ' + ev.type + ' on ' + path);\n      const data = this.__extractDataFromEvent(ev);\n      this.record(cv.report.Record.USER, path, data);\n    },\n\n    recordScroll(ev) {\n      const page = ev.getTarget();\n      const path = undefined !== page && 'getAttribute' in page ? page.getAttribute('id') : undefined;\n      const data = {\n        type: ev.getType(),\n        page: path,\n        x: page.scrollLeft,\n        y: page.scrollTop\n      };\n\n      this.record(cv.report.Record.USER, 'scroll', data);\n    },\n\n    __getDomPath(el) {\n      if (el === window) {\n        return 'Window';\n      } else if (el === document) {\n        return 'document';\n      }\n      const stack = [];\n      while (el.parentNode !== null) {\n        let sibCount = 0;\n        let sibIndex = 0;\n        for (let i = 0; i < el.parentNode.childNodes.length; i++) {\n          const sib = el.parentNode.childNodes[i];\n          if (sib.nodeName === el.nodeName) {\n            if (sib === el) {\n              sibIndex = sibCount;\n            }\n            sibCount++;\n          }\n        }\n        if (el.hasAttribute('id') && el.id !== '') {\n          stack.unshift(el.nodeName.toLowerCase() + '#' + el.id);\n          return stack.join('>');\n        } else if (sibCount > 1) {\n          stack.unshift(el.nodeName.toLowerCase() + ':nth-child(' + (sibIndex + 1) + ')');\n        } else {\n          stack.unshift(el.nodeName.toLowerCase());\n        }\n        el = el.parentNode;\n      }\n\n      return stack.slice(1).join('>'); // removes the html element\n    },\n\n    getData(dontStop) {\n      if (!dontStop) {\n        cv.Config.reporting = false;\n      }\n      return {\n        data: this.__data,\n        start: this.__start,\n        xhr: this.__xhr,\n        log: this.__log,\n        configSuffix: cv.Config.configSuffix,\n        end: Date.now()\n      };\n    },\n\n    getFileName() {\n      const d = new Date();\n      const ts =\n        d.getFullYear() +\n        ('' + (d.getMonth() + 1)).padStart(2, '0') +\n        ('' + d.getDate()).padStart(2, '0') +\n        '-' +\n        ('' + d.getHours()).padStart(2, '0') +\n        ('' + d.getMinutes()).padStart(2, '0') +\n        ('' + d.getSeconds()).padStart(2, '0');\n      return 'CometVisu-replay-' + ts + '.json';\n    },\n\n    /**\n     * Download Log as file\n     */\n    download() {\n      const data = this.getData();\n      // show the user what he gets\n      // eslint-disable-next-line no-console\n      console.log(data);\n\n      const a = window.document.createElement('a');\n      a.href = window.URL.createObjectURL(new Blob([JSON.stringify(data)], { type: 'application/json' }));\n\n      a.download = this.getFileName();\n\n      // Append anchor to body.\n      document.body.appendChild(a);\n      a.click();\n\n      // Remove anchor from body\n      document.body.removeChild(a);\n      return a.download;\n    }\n  }\n});\n"
  ],
  "mappings": "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"
}