{
  "version": 3,
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "type",
    "statics",
    "getBBox",
    "element",
    "bbox",
    "x",
    "y",
    "cx",
    "cy",
    "width",
    "height",
    "svg",
    "ownerSVGElement",
    "core",
    "Environment",
    "get",
    "includes",
    "r",
    "baseVal",
    "value",
    "p",
    "createSVGPoint",
    "matrix",
    "getScreenCTM",
    "inverse",
    "multiply",
    "a",
    "matrixTransform",
    "b",
    "c",
    "d",
    "minX",
    "Math",
    "min",
    "maxX",
    "max",
    "minY",
    "maxY",
    "cv",
    "util",
    "Svg"
  ],
  "sources": [
    "/home/runner/work/CometVisu/CometVisu/source/class/cv/util/Svg.js"
  ],
  "sourcesContent": [
    "/*\n * Copyright (c) 2023, Christian Mayer and the CometVisu contributors.\n *\n * This program is free software; you can redistribute it and/or modify it\n * under the terms of the GNU General Public License as published by the Free\n * Software Foundation; either version 3 of the License, or (at your option)\n * any later version.\n *\n * This program is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for\n * more details.\n *\n * You should have received a copy of the GNU General Public License along\n * with this program; if not, write to the Free Software Foundation, Inc.,\n * 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA\n *\n */\n/**\n * Helper functions for SVG elements.\n */\nqx.Class.define('cv.util.Svg', {\n  type: 'static',\n  /*\n  ***********************************************\n    STATICS\n  ***********************************************\n  */\n  statics: {\n    getBBox(element) {\n      const bbox = { x: 0, y: 0, cx: 0, cy: 0, width: 0, height: 0 };\n      const svg = element.ownerSVGElement;\n      if (svg) {\n        if (qx.core.Environment.get('browser.name').includes('firefox')) {\n          // firefox getScreenCTM does not work well, we have to do it manually\n          // works only because we do not use scaling / rotation and transforms yet\n          const r = element.getBBox();\n          const x = element.x.baseVal.value + r.x;\n          const y = element.y.baseVal.value + r.y;\n          bbox.x = x;\n          bbox.y = y;\n          bbox.width = r.width;\n          bbox.height = r.height;\n          bbox.cx = x + bbox.width / 2;\n          bbox.cy = y + bbox.height / 2;\n        } else {\n          const r = element.getBBox();\n          const p = svg.createSVGPoint();\n          const matrix = svg.getScreenCTM().inverse().multiply(element.getScreenCTM());\n          p.x = r.x;\n          p.y = r.y;\n          const a = p.matrixTransform(matrix);\n\n          p.x = r.x + r.width;\n          p.y = r.y;\n          const b = p.matrixTransform(matrix);\n\n          p.x = r.x + r.width;\n          p.y = r.y + r.height;\n          const c = p.matrixTransform(matrix);\n\n          p.x = r.x;\n          p.y = r.y + r.height;\n          const d = p.matrixTransform(matrix);\n\n          const minX = Math.min(a.x, b.x, c.x, d.x);\n          const maxX = Math.max(a.x, b.x, c.x, d.x);\n          const minY = Math.min(a.y, b.y, c.y, d.y);\n          const maxY = Math.max(a.y, b.y, c.y, d.y);\n\n          bbox.x = minX;\n          bbox.y = minY;\n          bbox.width = maxX - minX;\n          bbox.height = maxY - minY;\n          bbox.cx = minX + bbox.width / 2;\n          bbox.cy = minY + bbox.height / 2;\n        }\n      }\n      return bbox;\n    }\n  }\n});\n\n"
  ],
  "mappings": "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",
  "ignoreList": []
}