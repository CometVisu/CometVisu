{
  "version": 3,
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "extend",
    "core",
    "Object",
    "members",
    "__indentation",
    "__log",
    "upgrade",
    "source",
    "xml",
    "Document",
    "fromString",
    "pagesNode",
    "documentElement",
    "isTileStructure",
    "tagName",
    "toLowerCase",
    "systemLibVersion",
    "cv",
    "Version",
    "LIBRARY_VERSION_TILE",
    "LIBRARY_VERSION_PURE",
    "version",
    "parseInt",
    "getAttribute",
    "suffix",
    "method",
    "call",
    "locale",
    "Manager",
    "tr",
    "info",
    "join",
    "from7to8Pure",
    "c",
    "querySelectorAll",
    "forEach",
    "node",
    "parent",
    "parentNode",
    "indentNode",
    "previousSibling",
    "removeChild",
    "nodeType",
    "__setVersion",
    "push",
    "from8to9Pure",
    "singleIndent",
    "padEnd",
    "level",
    "__getLevel",
    "indent",
    "buttonConf",
    "attributesToDelete",
    "nameRegex",
    "i",
    "l",
    "attributes",
    "length",
    "match",
    "exec",
    "name",
    "prototype",
    "hasOwnProperty",
    "value",
    "attr",
    "removeAttributeNode",
    "buttonIds",
    "keys",
    "sort",
    "buttons",
    "createElement",
    "bid",
    "button",
    "textContent",
    "label",
    "setAttribute",
    "ind",
    "createTextNode",
    "appendChild",
    "nodeName",
    "isTile",
    "convertPureToTile",
    "sourceXml",
    "rootNode",
    "target",
    "document",
    "implementation",
    "createDocument",
    "targetRoot",
    "createAttributeNS",
    "setAttributeNodeNS",
    "header",
    "nav",
    "menu",
    "main",
    "_convertElement",
    "pageIds",
    "util",
    "Prettifier",
    "element",
    "options",
    "id",
    "postfix",
    "startsWith",
    "backends",
    "debug",
    "hasAttribute",
    "child",
    "clonedChild",
    "elem",
    "childNodes",
    "Node",
    "CDATA_SECTION_NODE",
    "COMMENT_NODE",
    "cloneNode",
    "ELEMENT_NODE",
    "ownerDocument",
    "mapping",
    "_copyAttributes",
    "_copyChildren",
    "styling",
    "fileNode",
    "loader",
    "trim",
    "icon",
    "indexOf",
    "parentElement",
    "remove",
    "entry",
    "removeAttribute",
    "backend",
    "type",
    "username",
    "password",
    "insertBefore",
    "firstChild",
    "querySelector",
    "warn",
    "on_value",
    "off_value",
    "_copyAddresses",
    "_copyLabel",
    "format",
    "address",
    "down",
    "up",
    "upAddress",
    "tile",
    "append",
    "sourceLabel",
    "row",
    "createComment",
    "TEXT_NODE",
    "outerHTML",
    "replaceAll",
    "converters",
    "converter",
    "addresses",
    "slotName",
    "callback",
    "e",
    "ConfigUpgrader"
  ],
  "sources": [
    "/home/runner/work/CometVisu/CometVisu/source/class/cv/util/ConfigUpgrader.js"
  ],
  "sourcesContent": [
    "/* ConfigUpgrader.js\n *\n * copyright (c) 2010-2022, Christian Mayer and the CometVisu contributers.\n *\n * This program is free software; you can redistribute it and/or modify it\n * under the terms of the GNU General Public License as published by the Free\n * Software Foundation; either version 3 of the License, or (at your option)\n * any later version.\n *\n * This program is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for\n * more details.\n *\n * You should have received a copy of the GNU General Public License along\n * with this program; if not, write to the Free Software Foundation, Inc.,\n * 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA\n */\n\n/**\n * Upgrade config file to the current library version\n * @since 0.12.0\n * @author Tobias Br√§utigam\n */\nqx.Class.define('cv.util.ConfigUpgrader', {\n  extend: qx.core.Object,\n\n  /*\n  ***********************************************\n    MEMBERS\n  ***********************************************\n  */\n  members: {\n    __indentation: 2,\n    __log: null,\n\n    /**\n     * Upgrade config source\n     * @param source {String|Document} content of a config file\n     */\n    upgrade(source) {\n      this.__log = [];\n      if (typeof source === 'string') {\n        source = qx.xml.Document.fromString(source);\n      }\n      // read version from config\n      const pagesNode = source.documentElement;\n      const isTileStructure = pagesNode.tagName.toLowerCase() === 'config';\n      const systemLibVersion = isTileStructure ? cv.Version.LIBRARY_VERSION_TILE : cv.Version.LIBRARY_VERSION_PURE;\n      let version = isTileStructure\n        ? parseInt(pagesNode.getAttribute('version'))\n        : parseInt(pagesNode.getAttribute('lib_version'));\n      if (version === cv.Version.LIBRARY_VERSION_PURE) {\n        // nothing to do\n        return [null, source, this.__log];\n      }\n      const suffix = isTileStructure ? 'Tile' : 'Pure';\n      while (version < systemLibVersion) {\n        // upgrade step by step\n        const method = this['from' + version + 'to' + (version + 1) + suffix];\n        if (method) {\n          version = method.call(this, source);\n        } else {\n          return [qx.locale.Manager.tr('Upgrader from version %1 not implemented', version), source, this.__log];\n        }\n      }\n      this.info('  - ' + this.__log.join('\\n  - '));\n      return [null, source, this.__log];\n    },\n\n    from7to8Pure(source) {\n      let c = 0;\n      source.querySelectorAll('plugins > plugin[name=\\'gweather\\']').forEach(node => {\n        const parent = node.parentNode;\n        const indentNode = node.previousSibling;\n        parent.removeChild(node);\n        if (indentNode.nodeType === 3) {\n          parent.removeChild(indentNode);\n        }\n        c++;\n      });\n      this.__setVersion(source, 8);\n      if (c > 0) {\n        this.__log.push('removed ' + c + ' \\'plugin\\'-nodes with obsolete plugin (gweather)');\n      }\n      return 8;\n    },\n\n    from8to9Pure(source) {\n      let c = 0;\n      const singleIndent = ''.padEnd(this.__indentation, ' ');\n      source.querySelectorAll('multitrigger').forEach(node => {\n        let level = this.__getLevel(node);\n        level++;\n        const indent = ''.padEnd(this.__indentation * level, ' ');\n        const buttonConf = {};\n        const attributesToDelete = [];\n        const nameRegex = /^button([\\d]+)(label|value)$/;\n        for (let i = 0, l = node.attributes.length; i < l; i++) {\n          const match = nameRegex.exec(node.attributes[i].name);\n          if (match) {\n            if (!Object.prototype.hasOwnProperty.call(buttonConf, match[1])) {\n              buttonConf[match[1]] = {};\n            }\n            buttonConf[match[1]][match[2]] = node.attributes[i].value;\n            attributesToDelete.push(node.attributes[i]);\n          }\n        }\n        attributesToDelete.forEach(attr => node.removeAttributeNode(attr));\n        const buttonIds = Object.keys(buttonConf).sort();\n        if (buttonIds.length > 0) {\n          const buttons = source.createElement('buttons');\n          buttonIds.forEach(bid => {\n            const button = source.createElement('button');\n            button.textContent = buttonConf[bid].value;\n            if (buttonConf[bid].label) {\n              button.setAttribute('label', buttonConf[bid].label);\n            }\n            const ind = source.createTextNode('\\n' + indent + singleIndent);\n            buttons.appendChild(ind);\n            buttons.appendChild(button);\n          });\n          buttons.appendChild(source.createTextNode('\\n' + indent));\n          node.appendChild(source.createTextNode(singleIndent));\n          node.appendChild(buttons);\n          node.appendChild(source.createTextNode('\\n' + ''.padEnd(this.__indentation * (level - 1), ' ')));\n\n          c++;\n        }\n      });\n      if (c > 0) {\n        this.__log.push('converted ' + c + ' \\'multitrigger\\'-nodes to new button configuration');\n      }\n      c = 0;\n      source.querySelectorAll('plugins > plugin[name=\\'colorchooser\\']').forEach(node => {\n        const parent = node.parentNode;\n        const indentNode = node.previousSibling;\n        parent.removeChild(node);\n        if (indentNode.nodeType === 3) {\n          parent.removeChild(indentNode);\n        }\n        c++;\n      });\n      if (c > 0) {\n        this.__log.push('removed ' + c + ' \\'plugin\\'-nodes with obsolete plugin (colorchooser)');\n      }\n      this.__setVersion(source, 9);\n      return 9;\n    },\n\n    __getLevel(node) {\n      let level = 1;\n      let parent = node.parentNode;\n      while (parent && parent.nodeName !== 'pages') {\n        parent = parent.parentNode;\n        level++;\n      }\n      return level;\n    },\n\n    __setVersion(xml, version, isTile) {\n      if (isTile === true) {\n        xml.documentElement.setAttribute('version', version);\n      } else {\n        xml.documentElement.setAttribute('lib_version', version);\n      }\n    },\n\n    /**\n     * Converts a pure-config file to a tile-config file. Currently only a small amount widgets can be converted\n     * because they have a similar equivalent in the tile-structure. This is the list of converted widgets:\n     *  - Pages\n     *  - Meta-Area (only mappings, stylings and files)\n     *  - Switch (without mappings, stylings)\n     *  - Info\n     *  - Pushbutton (without mappings, stylings)\n     *  - Trigger (without mappings, stylings)\n     *  - Group (only the ones that do not have nowidget=\"true\")\n     *\n     *  Whats not working:\n     *  - Everything that uses templates\n     *  - All other widgets that have not been mentioned above\n     *\n     * @param sourceXml {XMLDocument|string}\n     * @return [{String}, {String}] Error, Result\n     */\n    convertPureToTile(sourceXml) {\n      if (typeof sourceXml === 'string') {\n        sourceXml = qx.xml.Document.fromString(sourceXml);\n      }\n      const rootNode = sourceXml.documentElement;\n      if (rootNode.tagName.toLowerCase() === 'pages') {\n        const target = document.implementation.createDocument(null, 'config');\n        const targetRoot = target.documentElement;\n        targetRoot.setAttribute('version', '1');\n        const attr = target.createAttributeNS('http://www.w3.org/2001/XMLSchema-instance', 'noNamespaceSchemaLocation');\n\n        attr.value = '../visu_config_tile.xsd';\n        targetRoot.setAttributeNodeNS(attr);\n\n        // add some basics\n        const header = target.createElement('header');\n        const nav = target.createElement('nav');\n        const menu = target.createElement('cv-menu');\n        menu.setAttribute('model', 'pages');\n        nav.appendChild(menu);\n        header.appendChild(nav);\n        targetRoot.appendChild(header);\n        const main = target.createElement('main');\n        targetRoot.appendChild(main);\n\n        this._convertElement(targetRoot, rootNode, { pageIds: [] });\n        //console.log(new XMLSerializer().serializeToString(target));\n        return ['', cv.util.Prettifier.xml(target)];\n      }\n      return [qx.locale.Manager.tr('This is no pure-structure config, root element pages not found'), ''];\n    },\n\n    /**\n     * @param target {Element}\n     * @param element {Element}\n     * @param options {Object}\n     * @private\n     */\n    _convertElement(target, element, options) {\n      if (!options) {\n        options = {};\n      }\n      const tagName = element.tagName.toLowerCase();\n      let attr;\n      let id;\n      let postfix;\n\n      switch (tagName) {\n        case 'pages':\n          for (let i = element.attributes.length - 1; i >= 0; i--) {\n            attr = element.attributes[i];\n            if (attr.name.startsWith('backend')) {\n              if (!options.backends) {\n                options.backends = {};\n              }\n              options.backends[attr.name] = attr.value;\n            } else {\n              switch (attr.name) {\n                case 'username':\n                case 'password':\n                  if (!options.backends) {\n                    options.backends = {};\n                  }\n                  options.backends[attr.name] = attr.value;\n                  break;\n\n                default:\n                  this.debug(`ignoring attribute ${attr.name} from element ${tagName}`);\n\n                  break;\n              }\n            }\n          }\n          break;\n\n        case 'page':\n          postfix = options.pageIds.length;\n          id = 'page-' + postfix;\n          if (element.hasAttribute('name')) {\n            target.setAttribute('name', element.getAttribute('name'));\n          }\n          target.setAttribute('id', id);\n          options.pageIds.push(id);\n          break;\n      }\n\n      // traverse children\n      let child;\n      let clonedChild;\n      let elem;\n      let value;\n      for (let i = 0; i < element.childNodes.length; i++) {\n        child = element.childNodes[i];\n        switch (child.nodeType) {\n          case Node.CDATA_SECTION_NODE:\n          case Node.COMMENT_NODE:\n            // just copy\n            target.appendChild(child.cloneNode());\n            break;\n\n          case Node.ELEMENT_NODE:\n            switch (child.tagName.toLowerCase()) {\n              case 'meta':\n                clonedChild = target.ownerDocument.createElement('cv-' + child.tagName);\n\n                // copy mappings\n                child.querySelectorAll('mappings > mapping').forEach(node => {\n                  const mapping = target.ownerDocument.createElement('cv-mapping');\n                  this._copyAttributes(node, mapping);\n                  this._copyChildren(node, mapping);\n                  clonedChild.appendChild(mapping);\n                });\n                child.querySelectorAll('stylings > styling').forEach(node => {\n                  const styling = target.ownerDocument.createElement('cv-styling');\n                  this._copyAttributes(node, styling);\n                  this._copyChildren(node, styling);\n                  clonedChild.appendChild(styling);\n                });\n                // convert files to loader\n                child.querySelectorAll('file').forEach(fileNode => {\n                  const loader = target.ownerDocument.createElement('cv-loader');\n                  loader.setAttribute('type', fileNode.getAttribute('type'));\n                  loader.setAttribute('src', fileNode.textContent.trim());\n                  clonedChild.appendChild(loader);\n                });\n                // prefix all icons with knxuf-\n                clonedChild.querySelectorAll('icon').forEach(icon => {\n                  // there is no real check if this is an KNXUF icon, so we only check for '_' in string\n                  let name = icon.getAttribute('name');\n                  if (name.indexOf('_') >= 0) {\n                    name = 'knxuf-' + name;\n                  }\n                  icon.parentElement.textContent = name;\n                  icon.remove();\n                });\n\n                clonedChild.querySelectorAll('entry').forEach(entry => {\n                  if (entry.hasAttribute('range_min')) {\n                    entry.setAttribute('range-min', entry.getAttribute('range_min'));\n\n                    entry.removeAttribute('range_min');\n                  }\n                  if (entry.hasAttribute('range_max')) {\n                    entry.setAttribute('range-max', entry.getAttribute('range_max'));\n\n                    entry.removeAttribute('range_max');\n                  }\n                });\n\n                if (options.backends) {\n                  if (options.backends.backend) {\n                    const backend = target.ownerDocument.createElement('cv-backend');\n                    let type;\n                    switch (options.backends.backend) {\n                      case 'oh2':\n                      case 'oh':\n                      case 'openhab2':\n                        type = 'openhab';\n                        break;\n\n                      case 'default':\n                      case 'cgi-bin':\n                        type = 'knxd';\n                        break;\n\n                      default:\n                        type = options.backends.backend;\n                        break;\n                    }\n\n                    backend.setAttribute('type', type);\n                    if (options.backends['backend-' + type + '-url']) {\n                      backend.setAttribute('uri', options.backends['backend-' + type + '-url']);\n                    }\n                    if (options.backends.username) {\n                      backend.setAttribute('username', options.backends.username);\n                    }\n                    if (options.backends.password) {\n                      backend.setAttribute('password', options.backends.password);\n                    }\n                  }\n                }\n                target.ownerDocument.documentElement.insertBefore(\n                  clonedChild,\n                  target.ownerDocument.documentElement.firstChild\n                );\n\n                break;\n\n              case 'page':\n                clonedChild = target.ownerDocument.createElement('cv-' + child.tagName);\n\n                // flatten first two page levels\n                if (\n                  child.parentElement.tagName.toLowerCase() === 'pages' ||\n                  child.parentElement.parentElement.tagName.toLowerCase() === 'pages'\n                ) {\n                  const main = target.ownerDocument.querySelector('main');\n                  main.appendChild(clonedChild);\n                } else {\n                  target.appendChild(clonedChild);\n                }\n                this._convertElement(clonedChild, child, options);\n                break;\n\n              case 'group':\n                if (child.getAttribute('nowidget') === 'true') {\n                  this.warn('skipping nowidget-groups');\n                } else {\n                  clonedChild = target.ownerDocument.createElement('cv-' + child.tagName);\n\n                  clonedChild.setAttribute('open', 'true');\n                  if (child.hasAttribute('name')) {\n                    clonedChild.setAttribute('name', child.getAttribute('name'));\n                  }\n                  target.appendChild(clonedChild);\n                  this._convertElement(clonedChild, child, options);\n                }\n                break;\n\n              case 'switch':\n                clonedChild = target.ownerDocument.createElement('cv-' + child.tagName);\n\n                // do not copy mappings and styling as they might not work for switched in most of the cases\n                // and we want to used the default ones in the first place\n                this._copyAttributes(child, clonedChild, {\n                  on_value: 'on-value',\n                  off_value: 'off-value'\n                });\n\n                if (child.getAttribute('bind_click_to_widget') === 'false') {\n                  // only copy when this ix explicitly set\n                  clonedChild.setAttribute('whole-tile', 'false');\n                }\n                this._copyAddresses(child.querySelectorAll(':scope > address'), clonedChild, 'address');\n\n                this._copyLabel(child.querySelector(':scope > label'), clonedChild, 'primaryLabel');\n\n                target.appendChild(clonedChild);\n                break;\n\n              case 'trigger':\n                clonedChild = target.ownerDocument.createElement('cv-switch');\n                this._copyAttributes(child, clonedChild, {\n                  format: true\n                });\n\n                value = child.getAttribute('value');\n                this._copyAddresses(\n                  child.querySelectorAll(':scope > address'),\n                  clonedChild,\n                  'address',\n                  null,\n                  address => {\n                    address.setAttribute('mode', 'write');\n                    address.setAttribute('value', value);\n                  }\n                );\n\n                this._copyLabel(child.querySelector(':scope > label'), clonedChild, 'primaryLabel');\n\n                target.appendChild(clonedChild);\n                break;\n\n              case 'pushbutton':\n                clonedChild = target.ownerDocument.createElement('cv-switch');\n                this._copyAttributes(child, clonedChild, {\n                  format: true\n                });\n\n                value = {\n                  down: child.getAttribute('downValue'),\n                  up: child.getAttribute('upValue')\n                };\n\n                this._copyAddresses(\n                  child.querySelectorAll(':scope > address'),\n                  clonedChild,\n                  'address',\n                  null,\n                  address => {\n                    if (!address.hasAttribute('variant')) {\n                      address.setAttribute('value', value.down);\n                      address.setAttribute('on', 'down');\n                      const upAddress = address.cloneNode(true);\n                      upAddress.setAttribute('value', value.up);\n                      upAddress.setAttribute('on', 'up');\n                      clonedChild.appendChild(upAddress);\n                    } else {\n                      address.setAttribute('value', address.getAttribute('variant') === 'up' ? value.up : value.down);\n\n                      address.setAttribute('on', address.getAttribute('variant'));\n\n                      address.removeAttribute('variant');\n                    }\n                  }\n                );\n\n                this._copyLabel(child.querySelector(':scope > label'), clonedChild, 'primaryLabel');\n\n                target.appendChild(clonedChild);\n                break;\n\n              case 'info':\n                // use cv-value > cv-icon when the mapping uses icons\n                if (\n                  child.hasAttribute('mapping') &&\n                  child.ownerDocument.querySelector(\n                    'mapping[name=\"' + child.getAttribute('mapping') + '\"] > entry > icon'\n                  )\n                ) {\n                  clonedChild = target.ownerDocument.createElement('cv-widget');\n                  let tile = target.ownerDocument.createElement('cv-tile');\n                  clonedChild.append(tile);\n\n                  const sourceLabel = child.querySelector(':scope > label');\n                  if (sourceLabel) {\n                    const row = target.ownerDocument.createElement('cv-row');\n                    row.setAttribute('colspan', '3');\n                    row.setAttribute('row', 'last');\n\n                    const label = target.ownerDocument.createElement('label');\n                    label.setAttribute('class', 'primary');\n                    label.textContent = sourceLabel.textContent.trim();\n                    row.appendChild(label);\n                    tile.appendChild(row);\n                  }\n\n                  const value = target.ownerDocument.createElement('cv-value');\n                  value.setAttribute('colspan', '3');\n                  value.setAttribute('row', '2');\n                  this._copyAttributes(child, value, {\n                    mapping: true,\n                    styling: true,\n                    format: true\n                  });\n\n                  const icon = target.ownerDocument.createElement('cv-icon');\n                  icon.setAttribute('class', 'value');\n                  icon.setAttribute('size', 'xxx-large');\n                  value.appendChild(icon);\n\n                  this._copyAddresses(child.querySelectorAll(':scope > address'), value);\n\n                  tile.appendChild(value);\n                } else {\n                  clonedChild = target.ownerDocument.createElement('cv-' + child.tagName);\n\n                  this._copyAddresses(child.querySelectorAll(':scope > address'), clonedChild, 'address');\n\n                  this._copyLabel(child.querySelector(':scope > label'), clonedChild, 'label');\n\n                  this._copyAttributes(child, clonedChild, {\n                    mapping: true,\n                    styling: true,\n                    format: true\n                  });\n                }\n                target.appendChild(clonedChild);\n                break;\n\n              case 'infoaction':\n                clonedChild = target.ownerDocument.createElement('cv-widget-pair');\n                target.appendChild(clonedChild);\n                if (child.querySelector('widgetinfo')) {\n                  this._convertElement(clonedChild, child.querySelector('widgetinfo'), options);\n\n                  if (child.querySelector(':scope > label')) {\n                    elem = clonedChild.querySelector(':scope > cv-info');\n                    if (elem) {\n                      this._copyLabel(child.querySelector(':scope > label'), elem, 'label');\n                    }\n                  }\n                }\n                if (child.querySelector('widgetaction')) {\n                  this._convertElement(clonedChild, child.querySelector('widgetaction'), options);\n                }\n                break;\n\n              case 'layout':\n                // silently ignore those\n                break;\n\n              default:\n                this.info('cannot convert', child.nodeName);\n                // no conversion possible, add as comment placeholder for manual conversion\n                clonedChild = target.ownerDocument.createComment(`\n                \n###########################################################\n### Automatic conversion to tile-structure not possible ###\n###########################################################\n${child.previousSibling.nodeType === Node.TEXT_NODE ? child.previousSibling.textContent : ''}${child.outerHTML\n                  .replaceAll('<!--', '')\n                  .replaceAll('-->', '')}`);\n                target.appendChild(clonedChild);\n                break;\n            }\n\n            break;\n        }\n      }\n    },\n\n    /**\n     * @param source {Element}\n     * @param target {Element}\n     * @param converters {Object|null}\n     * @private\n     */\n    _copyAttributes(source, target, converters) {\n      let converter;\n      for (let i = 0; i < source.attributes.length; i++) {\n        if (!converters) {\n          target.setAttribute(source.attributes[i].name, source.attributes[i].value);\n        } else {\n          converter = converters[source.attributes[i].name];\n          if (converter === true) {\n            target.setAttribute(source.attributes[i].name, source.attributes[i].value);\n          } else if (typeof converter === 'string') {\n            target.setAttribute(converter, source.attributes[i].value);\n          }\n        }\n      }\n    },\n\n    _copyAddresses(addresses, target, slotName, converters, callback) {\n      addresses.forEach(e => {\n        let address = target.ownerDocument.createElement('cv-address');\n        if (slotName) {\n          address.setAttribute('slot', slotName);\n        }\n        this._copyAttributes(e, address, converters);\n        address.textContent = e.textContent.trim();\n        if (callback) {\n          callback(address);\n        }\n        target.appendChild(address);\n      });\n    },\n\n    _copyLabel(sourceLabel, target, slotName) {\n      if (sourceLabel) {\n        // <span slot=\"primaryLabel\">Default</span>\n        let label = target.ownerDocument.createElement('span');\n        label.setAttribute('slot', slotName);\n        let child;\n        for (let i = 0; i < sourceLabel.childNodes.length; i++) {\n          child = sourceLabel.childNodes[i];\n          if (child.nodeType === Node.TEXT_NODE) {\n            label.appendChild(child.cloneNode());\n          } else if (child.nodeType === Node.ELEMENT_NODE && child.tagName.toLowerCase() === 'icon') {\n            const icon = target.ownerDocument.createElement('cv-icon');\n            let name = child.getAttribute('name');\n            if (name.indexOf('_') >= 0) {\n              name = 'knxuf-' + name;\n            }\n            icon.textContent = name;\n            label.appendChild(icon);\n          }\n        }\n        target.appendChild(label);\n      }\n    },\n\n    /**\n     * @param source {Element}\n     * @param target {Element}\n     * @private\n     */\n    _copyChildren(source, target) {\n      for (let i = 0; i < source.childNodes.length; i++) {\n        target.appendChild(source.childNodes[i].cloneNode(true));\n      }\n    }\n  }\n});\n"
  ],
  "mappings": "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"
}