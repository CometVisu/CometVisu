{
  "version": 3,
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "extend",
    "core",
    "Object",
    "construct",
    "constructor",
    "call",
    "__loadQueue",
    "data",
    "Array",
    "members",
    "__doneCallback",
    "__doneCallbackContext",
    "__xml",
    "load",
    "callback",
    "context",
    "_this",
    "uri",
    "util",
    "ResourceManager",
    "getInstance",
    "toUri",
    "cv",
    "Config",
    "configSuffix",
    "testMode",
    "indexOf",
    "replace",
    "debug",
    "ajaxRequest",
    "io",
    "request",
    "Xhr",
    "push",
    "set",
    "accept",
    "cache",
    "forceReload",
    "setUserData",
    "addListenerOnce",
    "e",
    "Init",
    "getApplication",
    "block",
    "req",
    "getTarget",
    "configServer",
    "getResponseHeader",
    "isTileStructure",
    "test",
    "getResponseText",
    "xml",
    "getResponse",
    "parser",
    "DOMParser",
    "parseFromString",
    "documentElement",
    "getElementsByTagName",
    "length",
    "configError",
    "xmlns",
    "rawContent",
    "querySelectorAll",
    "forEach",
    "loadInclude",
    "remove",
    "getUrl",
    "systemLibVersion",
    "Version",
    "LIBRARY_VERSION_TILE",
    "LIBRARY_VERSION_PURE",
    "xmlLibVersion",
    "getAttribute",
    "undefined",
    "parseInt",
    "libraryCheck",
    "server",
    "backendName",
    "error",
    "backendUrl",
    "endsWith",
    "backendKnxdUrl",
    "backendOpenHABUrl",
    "startsWith",
    "backendMQTTUrl",
    "backend",
    "_checkQueue",
    "addListener",
    "status",
    "getTransport",
    "Request",
    "isSuccessful",
    "getUserData",
    "demoUrl",
    "setUrl",
    "send",
    "includeElem",
    "_this2",
    "url",
    "LibraryManager",
    "get",
    "xhr",
    "async",
    "Document",
    "fromString",
    "replaceWith",
    "apply",
    "_toConsumableArray",
    "firstChild",
    "childNodes",
    "dispose",
    "textStatus",
    "additionalErrorInfo",
    "title",
    "locale",
    "Manager",
    "tr",
    "translate",
    "toString",
    "message",
    "actions",
    "link",
    "window",
    "location",
    "href",
    "split",
    "type",
    "action",
    "showManager",
    "needsConfirmation",
    "notification",
    "topic",
    "severity",
    "unique",
    "notifications",
    "Router",
    "dispatchMessage",
    "destruct",
    "ConfigLoader"
  ],
  "sources": [
    "/home/runner/work/CometVisu/CometVisu/source/class/cv/util/ConfigLoader.js"
  ],
  "sourcesContent": [
    "/* ConfigLoader.js\n *\n * copyright (c) 2010-2022, Christian Mayer and the CometVisu contributers.\n *\n * This program is free software; you can redistribute it and/or modify it\n * under the terms of the GNU General Public License as published by the Free\n * Software Foundation; either version 3 of the License, or (at your option)\n * any later version.\n *\n * This program is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for\n * more details.\n *\n * You should have received a copy of the GNU General Public License along\n * with this program; if not, write to the Free Software Foundation, Inc.,\n * 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA\n */\n\n/**\n * The ConfigLoader loads CometVisu config files from the backend. If the loaded config file contains\n * <include> elements those config parts are loaded and add to the XML-Document.\n *\n * @author Tobias Br√§utigam <tbraeutigam@gmail.com>\n * @since 2018\n */\n\nqx.Class.define('cv.util.ConfigLoader', {\n  extend: qx.core.Object,\n\n  /*\n  ******************************************************\n    CONSTRUCTOR\n  ******************************************************\n  */\n  construct() {\n    super();\n    this.__loadQueue = new qx.data.Array();\n  },\n\n  /*\n  ******************************************************\n    MEMBERS\n  ******************************************************\n  */\n  members: {\n    __loadQueue: null,\n    __doneCallback: null,\n    __doneCallbackContext: null,\n    __xml: null,\n\n    /**\n     * Load a config file\n     * @param callback\n     * @param context\n     */\n    load(callback, context) {\n      this.__doneCallback = callback;\n      this.__doneCallbackContext = context;\n      // get the data once the page was loaded\n      let uri = qx.util.ResourceManager.getInstance().toUri(\n        'config/visu_config' + (cv.Config.configSuffix ? '_' + cv.Config.configSuffix : '') + '.xml'\n      );\n\n      if (cv.Config.testMode) {\n        // workaround for e2e-tests\n        uri = 'resource/config/visu_config' + (cv.Config.configSuffix ? '_' + cv.Config.configSuffix : '') + '.xml';\n      } else if (uri.indexOf('resource/') === -1) {\n        // unknown config, try to add the resource part manually\n        uri = uri.replace('config/', 'resource/config/');\n      }\n      this.debug('Requesting ' + uri);\n      const ajaxRequest = new qx.io.request.Xhr(uri);\n      this.__loadQueue.push(uri);\n      ajaxRequest.set({\n        accept: 'application/xml',\n        cache: !cv.Config.forceReload\n      });\n\n      ajaxRequest.setUserData('noDemo', true);\n      ajaxRequest.addListenerOnce('success', e => {\n        qx.core.Init.getApplication().block(false);\n        const req = e.getTarget();\n        cv.Config.configServer = req.getResponseHeader('Server');\n        const isTileStructure = /<config/m.test(req.getResponseText());\n        // Response parsed according to the server's response content type\n        let xml = req.getResponse();\n        if (xml && typeof xml === 'string') {\n          const parser = new DOMParser();\n          if (isTileStructure) {\n            xml = xml.replace('<config', '<config xmlns=\"http://www.w3.org/1999/xhtml\"');\n          }\n          xml = parser.parseFromString(xml, 'text/xml');\n        }\n\n        if (!xml || !xml.documentElement || xml.getElementsByTagName('parsererror').length) {\n          this.configError('parsererror');\n        } else {\n          if (isTileStructure && !xml.documentElement.xmlns) {\n            // wrong namespace\n            const rawContent = req.getResponseText().replace('<config', '<config xmlns=\"http://www.w3.org/1999/xhtml\"');\n\n            const parser = new DOMParser();\n            xml = parser.parseFromString(rawContent, 'text/xml');\n          }\n          this.__xml = xml;\n          xml.querySelectorAll('include').forEach(this.loadInclude, this);\n          this.__loadQueue.remove(ajaxRequest.getUrl());\n\n          const systemLibVersion = isTileStructure ? cv.Version.LIBRARY_VERSION_TILE : cv.Version.LIBRARY_VERSION_PURE;\n          // check the library version\n          let xmlLibVersion = isTileStructure\n            ? xml.documentElement.getAttribute('version')\n            : xml.documentElement.getAttribute('lib_version');\n          if (xmlLibVersion === undefined || xmlLibVersion === null) {\n            xmlLibVersion = -1;\n          } else if (xmlLibVersion === '0') {\n            // special wildcard mode used in screenshot generation fixtures\n            xmlLibVersion = systemLibVersion;\n          } else {\n            xmlLibVersion = parseInt(xmlLibVersion);\n          }\n          if (cv.Config.libraryCheck && xmlLibVersion < systemLibVersion) {\n            this.configError('libraryerror');\n          } else {\n            cv.Config.server = {};\n            let backendName = '';\n            if (req.getResponseHeader('X-CometVisu-Backend-Name')) {\n              backendName = req.getResponseHeader('X-CometVisu-Backend-Name');\n            }\n            if (req.getResponseHeader('X-CometVisu-Backend-LoginUrl')) {\n              this.error('The usage of \"X-CometVisu-Backend-LoginUrl\" is deprecated. Please update the server setup.');\n\n              let backendUrl = req.getResponseHeader('X-CometVisu-Backend-LoginUrl');\n\n              if (!backendUrl.endsWith('/')) {\n                backendUrl += '/';\n              }\n              cv.Config.server.backendKnxdUrl = backendUrl;\n              cv.Config.server.backendOpenHABUrl = backendUrl;\n              if (!backendName && backendUrl.startsWith('/rest/')) {\n                backendName = 'openhab';\n              }\n            }\n            if (req.getResponseHeader('X-CometVisu-Backend-KNXD-Url')) {\n              cv.Config.server.backendKnxdUrl = req.getResponseHeader('X-CometVisu-Backend-KNXD-Url');\n\n              if (backendName === '') {\n                backendName = 'knxd';\n              }\n            }\n            if (req.getResponseHeader('X-CometVisu-Backend-MQTT-Url')) {\n              cv.Config.server.backendMQTTUrl = req.getResponseHeader('X-CometVisu-Backend-MQTT-Url');\n\n              if (backendName === '') {\n                backendName = 'mqtt';\n              }\n            }\n            if (req.getResponseHeader('X-CometVisu-Backend-OpenHAB-Url')) {\n              cv.Config.server.backendOpenHABUrl = req.getResponseHeader('X-CometVisu-Backend-OpenHAB-Url');\n\n              if (backendName === '') {\n                backendName = 'openhab';\n              }\n            }\n            if (backendName) {\n              cv.Config.server.backend = backendName;\n            }\n            this._checkQueue();\n          }\n        }\n      });\n\n      ajaxRequest.addListener('statusError', e => {\n        const status = e.getTarget().getTransport().status;\n        if (!qx.util.Request.isSuccessful(status) && ajaxRequest.getUserData('noDemo')) {\n          ajaxRequest.setUserData('noDemo', false);\n          ajaxRequest.setUserData('origUrl', ajaxRequest.getUrl());\n          this.__loadQueue.remove(ajaxRequest.getUrl());\n          const demoUrl = ajaxRequest.getUrl().replace('config/', 'demo/');\n          ajaxRequest.setUrl(demoUrl);\n          this.__loadQueue.push(demoUrl);\n          ajaxRequest.send();\n        } else if (!qx.util.Request.isSuccessful(status)) {\n          this.configError('filenotfound', [ajaxRequest.getUserData('origUrl'), ajaxRequest.getUrl()]);\n        } else {\n          this.configError(status, null);\n        }\n      });\n\n      ajaxRequest.send();\n    },\n\n    /**\n     * Load an include source and replace it with the loaded content\n     * @param includeElem {Element}\n     */\n    loadInclude(includeElem) {\n      let url = includeElem.getAttribute('src');\n      if (!url.startsWith('/')) {\n        url = qx.util.LibraryManager.getInstance().get('cv', 'resourceUri') + '/' + url;\n      }\n      this.__loadQueue.push(url);\n      const xhr = new qx.io.request.Xhr(url);\n      xhr.set({\n        accept: 'text/plain',\n        async: false\n      });\n\n      xhr.addListenerOnce('success', e => {\n        const req = e.getTarget();\n        const xml = qx.xml.Document.fromString('<root>' + req.getResponseText() + '</root>');\n\n        includeElem.replaceWith(...xml.firstChild.childNodes);\n        this.__loadQueue.remove(url);\n        this._checkQueue();\n      });\n      xhr.addListener('statusError', e => {\n        const status = e.getTarget().getTransport().status;\n        if (!qx.util.Request.isSuccessful(status)) {\n          this.configError('filenotfound', [xhr.getUrl(), '']);\n        } else {\n          this.configError(status, null);\n        }\n      });\n      xhr.send();\n    },\n\n    /**\n     * Check if everything is loaded and call the callback in this case\n     * @private\n     */\n    _checkQueue() {\n      if (this.__loadQueue.length === 0) {\n        this.__doneCallback.call(this.__doneCallbackContext, this.__xml);\n        this.dispose();\n      }\n    },\n\n    /**\n     * Handle errors that occur during loading ot the config file\n     * @param textStatus {String} error status\n     * @param additionalErrorInfo {String} error message\n     */\n    configError(textStatus, additionalErrorInfo) {\n      const configSuffix = cv.Config.configSuffix ? cv.Config.configSuffix : '';\n      const title = qx.locale.Manager.tr('Config-File Error!').translate().toString();\n      let message = '';\n      let actions;\n      switch (textStatus) {\n        case 'parsererror':\n          message =\n            qx.locale.Manager.tr('Invalid config file!') +\n            '<br/><a href=\"javascript:showConfigErrors(\\'' +\n            configSuffix +\n            '\\')\">' +\n            qx.locale.Manager.tr('Please check!') +\n            '</a>';\n          break;\n        case 'libraryerror': {\n          let link = window.location.href.split('#')[0];\n          if (link.indexOf('?') <= 0) {\n            link += '?';\n          }\n          link += '&libraryCheck=false';\n          message =\n            qx.locale.Manager.tr('Config file has wrong library version!').translate().toString() +\n            '<br/>' +\n            qx.locale.Manager.tr('This can cause problems with your configuration').translate().toString() +\n            '</br>' +\n            '<p>' +\n            qx.locale.Manager.tr(\n              'You can run the %1Configuration Upgrader%2.',\n              '<a href=\"javascript:showConfigErrors(\\'' + configSuffix + '\\', {upgradeVersion: true})\">',\n              '</a>'\n            )\n              .translate()\n              .toString() +\n            '</br>' +\n            qx.locale.Manager.tr(\n              'Or you can start without upgrading %1with possible configuration problems%2',\n              '<a href=\"' + link + '\">',\n              '</a>'\n            )\n              .translate()\n              .toString() +\n            '</p>';\n          break;\n        }\n        case 'filenotfound':\n          message = qx.locale.Manager.tr(\n            '404: Config file not found. Neither as normal config (%1) nor as demo config (%2).',\n            additionalErrorInfo[0],\n            additionalErrorInfo[1]\n          )\n            .translate()\n            .toString();\n          message +=\n            '<br/>' +\n            qx.locale.Manager.tr('You can open the manager to create or upload a config file.').translate().toString();\n          actions = {\n            link: [\n              {\n                title: qx.locale.Manager.tr('Open manager'),\n                type: 'manager',\n                action: () => {\n                  qx.core.Init.getApplication().showManager();\n                },\n                needsConfirmation: false\n              }\n            ]\n          };\n\n          break;\n        default:\n          message = qx.locale.Manager.tr('Unhandled error of type \"%1\"', textStatus).translate().toString();\n          if (additionalErrorInfo) {\n            message += ': ' + additionalErrorInfo;\n          } else {\n            message += '.';\n          }\n      }\n\n      const notification = {\n        topic: 'cv.config.error',\n        title: title,\n        message: message,\n        severity: 'urgent',\n        unique: true\n      };\n\n      if (actions) {\n        notification.actions = actions;\n      }\n      cv.core.notifications.Router.dispatchMessage(notification.topic, notification);\n\n      this.error(this, message.toString());\n      qx.core.Init.getApplication().block(false);\n    }\n  },\n\n  /*\n  ******************************************************\n    DESTRUCTOR\n  ******************************************************\n  */\n  destruct() {\n    // remove references\n    this.__xml = null;\n    this.__doneCallback = null;\n    this.__doneCallbackContext = null;\n  }\n});\n"
  ],
  "mappings": "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",
  "ignoreList": []
}