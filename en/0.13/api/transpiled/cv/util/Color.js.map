{
  "version": 3,
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "extend",
    "core",
    "Object",
    "statics",
    "solve2d",
    "A00",
    "A10",
    "A01",
    "A11",
    "y0",
    "y1",
    "detInv",
    "solve3d",
    "A20",
    "A21",
    "A02",
    "A12",
    "A22",
    "y2",
    "det",
    "intersect",
    "p1",
    "p2",
    "p3",
    "p4",
    "x12",
    "x",
    "y12",
    "y",
    "x34",
    "y34",
    "x31",
    "y31",
    "factors",
    "cv",
    "util",
    "Color",
    "wavelength2xy",
    "wave",
    "x_t1",
    "x_t2",
    "x_t3",
    "X",
    "Math",
    "exp",
    "y_t1",
    "y_t2",
    "Y",
    "z_t1",
    "z_t2",
    "Z",
    "temperature2xy",
    "T",
    "max",
    "min",
    "xy2sRGB",
    "xy",
    "R",
    "G",
    "B",
    "scale",
    "gamma",
    "u",
    "r",
    "g",
    "b",
    "curve",
    "component",
    "Array",
    "isArray",
    "length",
    "log10",
    "spacing",
    "position",
    "lower",
    "floor",
    "higher",
    "ceil",
    "alpha",
    "invCurve",
    "value",
    "normalized",
    "findIndex",
    "ratio",
    "construct",
    "Rxy",
    "undefined",
    "Gxy",
    "Bxy",
    "Wxy",
    "__R",
    "__G",
    "__B",
    "normFac",
    "__W",
    "__hsv",
    "h",
    "s",
    "v",
    "__syncHSV2xy",
    "members",
    "__x",
    "__y",
    "__Y",
    "__HSV_h_last",
    "__LCh_h_last",
    "__rbg",
    "__rbgw",
    "__T",
    "__Lab",
    "__LCh",
    "__getXYZ",
    "__setXYZ",
    "XYZ",
    "__gamutMap",
    "iRG",
    "iGB",
    "iBR",
    "__validateHSV",
    "force",
    "solve",
    "A1",
    "A2",
    "A3",
    "B1",
    "B2",
    "B3",
    "C1",
    "C2",
    "C3",
    "D1",
    "D2",
    "D3",
    "colorAdd",
    "a",
    "hues",
    "thisXYZ",
    "i",
    "inter1",
    "inter2",
    "fac",
    "fac2",
    "__validateRGB",
    "__rgb",
    "__validateRGBW",
    "__rgbw",
    "w2rgb",
    "w",
    "__validateT",
    "n",
    "__validateLab",
    "Xn",
    "Yn",
    "Zn",
    "f",
    "t",
    "L",
    "__validateLCh",
    "C",
    "sqrt",
    "atan2",
    "PI",
    "__invalidateBut",
    "keep",
    "keep2",
    "forEach",
    "cache",
    "d",
    "__syncRGB2xy",
    "__syncRGBW2xy",
    "__syncT2xy",
    "__syncY2xy",
    "__syncLab2xy",
    "keepLCh",
    "fInv",
    "Lab",
    "L16",
    "__syncLCh2xy",
    "cos",
    "sin",
    "changeComponent",
    "clamp",
    "split",
    "_forceHSV",
    "hsv",
    "_forceLCh",
    "LCh",
    "getComponent",
    "gamutMap",
    "Number",
    "isFinite",
    "map",
    "copy",
    "assign",
    "delta",
    "otherColor",
    "dL",
    "da",
    "db",
    "blend",
    "c",
    "c1",
    "c2",
    "abs",
    "e"
  ],
  "sources": [
    "/home/runner/work/CometVisu/CometVisu/source/class/cv/util/Color.js"
  ],
  "sourcesContent": [
    "/* Color.js\n *\n * copyright (c) 2010-2022, Christian Mayer and the CometVisu contributers.\n *\n * This program is free software; you can redistribute it and/or modify it\n * under the terms of the GNU General Public License as published by the Free\n * Software Foundation; either version 3 of the License, or (at your option)\n * any later version.\n *\n * This program is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for\n * more details.\n *\n * You should have received a copy of the GNU General Public License along\n * with this program; if not, write to the Free Software Foundation, Inc.,\n * 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA\n */\n\n/**\n * Color\n *\n * @author ChristianMayer\n * @since 2021\n */\n\nqx.Class.define('cv.util.Color', {\n  extend: qx.core.Object,\n\n  /*\n  ******************************************************\n    STATICS\n  ******************************************************\n  */\n  statics: {\n    /**\n     * Solve the 2 dimensional linear equation\n     * <pre>\n     *    ( A00 A01 ) (x0) = (y0)\n     *    ( A10 A11 ) (x1)   (y1)\n     * </pre>\n     * @param {number} A00\n     * @param {number} A10\n     * @param {number} A01\n     * @param {number} A11\n     * @param {number} y0\n     * @param {number} y1\n     * @returns {number[]}\n     */\n    solve2d(A00, A10, A01, A11, y0, y1) {\n      const detInv = 1 / (A00 * A11 - A01 * A10);\n      return [(y0 * A11 - A01 * y1) * detInv, (A00 * y1 - y0 * A10) * detInv];\n    },\n\n    /**\n     * Solve the 3 dimensional linear equation\n     * <pre>\n     *    ( A00 A01 A02 ) (x0)   (y0)\n     *    ( A10 A11 A12 ) (x1) = (y1)\n     *    ( A20 A21 A22 ) (x2)   (y2)\n     * </pre>\n     * @param {number} A00\n     * @param {number} A10\n     * @param {number} A20\n     * @param {number} A01\n     * @param {number} A11\n     * @param {number} A21\n     * @param {number} A02\n     * @param {number} A12\n     * @param {number} A22\n     * @param {number} y0\n     * @param {number} y1\n     * @param {number} y2\n     * @returns {number[]}\n     */\n    solve3d(A00, A10, A20, A01, A11, A21, A02, A12, A22, y0, y1, y2) {\n      /**\n       * @param A00\n       * @param A10\n       * @param A20\n       * @param A01\n       * @param A11\n       * @param A21\n       * @param A02\n       * @param A12\n       * @param A22\n       */\n      function det(A00, A10, A20, A01, A11, A21, A02, A12, A22) {\n        // eslint-disable-line\n        return (\n          A00 * A11 * A22 + A01 * A12 * A20 + A02 * A10 * A21 - A20 * A11 * A02 - A21 * A12 * A00 - A22 * A10 * A01\n        );\n      }\n      const detInv = 1 / det(A00, A10, A20, A01, A11, A21, A02, A12, A22);\n      return [\n        det(y0, y1, y2, A01, A11, A21, A02, A12, A22) * detInv, // eslint-disable-line\n        det(A00, A10, A20, y0, y1, y2, A02, A12, A22) * detInv, // eslint-disable-line\n        det(A00, A10, A20, A01, A11, A21, y0, y1, y2) * detInv // eslint-disable-line\n      ];\n    },\n\n    /**\n     * calculate the intersection point between lines 1-2 and 3-4 as well as\n     * points 3 and 4 are on different sides of the line 1-2\n     * @param {{x: number, y: number}} p1\n     * @param {{x: number, y: number}} p2\n     * @param {{x: number, y: number}} p3\n     * @param {{x: number, y: number}} p4\n     * @returns {{x: number, y: number, factors: number[]}}\n     */\n    intersect(p1, p2, p3, p4) {\n      const x12 = p2.x - p1.x;\n      const y12 = p2.y - p1.y;\n      const x34 = p4.x - p3.x;\n      const y34 = p4.y - p3.y;\n      const x31 = p1.x - p3.x;\n      const y31 = p1.y - p3.y;\n      const factors = cv.util.Color.solve2d(x34, y34, -x12, -y12, x31, y31);\n      return {\n        x: p3.x + factors[0] * x34,\n        y: p3.y + factors[0] * y34,\n        factors: factors\n      };\n    },\n\n    /**\n     * Get the CIE xy coordinates for a light wavelength.\n     * Algorithm as of: http://jcgt.org/published/0002/02/01/\n     * @param {number} wave wavelength in nanometers\n     * @returns {{x: number, y: number}}\n     */\n    wavelength2xy(wave) {\n      const x_t1 = (wave - 442.0) * (wave < 442.0 ? 0.0624 : 0.0374);\n      const x_t2 = (wave - 599.8) * (wave < 599.8 ? 0.0264 : 0.0323);\n      const x_t3 = (wave - 501.1) * (wave < 501.1 ? 0.049 : 0.0382);\n      const X =\n        0.362 * Math.exp(-0.5 * x_t1 * x_t1) +\n        1.056 * Math.exp(-0.5 * x_t2 * x_t2) -\n        0.065 * Math.exp(-0.5 * x_t3 * x_t3);\n      const y_t1 = (wave - 568.8) * (wave < 568.8 ? 0.0213 : 0.0247);\n      const y_t2 = (wave - 530.9) * (wave < 530.9 ? 0.0613 : 0.0322);\n      const Y = 0.821 * Math.exp(-0.5 * y_t1 * y_t1) + 0.286 * Math.exp(-0.5 * y_t2 * y_t2);\n      const z_t1 = (wave - 437.0) * (wave < 437.0 ? 0.0845 : 0.0278);\n      const z_t2 = (wave - 459.0) * (wave < 459.0 ? 0.0385 : 0.0725);\n      const Z = 1.217 * Math.exp(-0.5 * z_t1 * z_t1) + 0.681 * Math.exp(-0.5 * z_t2 * z_t2);\n      return { x: X / (X + Y + Z), y: Y / (X + Y + Z) };\n    },\n\n    /**\n     * Get the CIE xy coordinates for a white given its temperature\n     * @param {number} T temperature in Kelvin, 1667 K <= T <= 25000 K\n     * @returns {{x: number, y: number}}\n     */\n    temperature2xy(T) {\n      T = Math.max(1667, Math.min(T, 25000));\n      let x =\n        T <= 4000\n          ? ((-0.2661239e9 / T - 0.2343589e6) / T + 0.8776956e3) / T + 0.17991\n          : ((-3.0258469e9 / T + 2.1070379e6) / T + 0.2226347e3) / T + 0.24039;\n      return {\n        x: x,\n        y:\n          T <= 2222\n            ? ((-1.1063814 * x - 1.3481102) * x + 2.18555832) * x - 0.20219683\n            : T <= 4000\n            ? ((-0.9549476 * x - 1.37418593) * x + 2.09137015) * x - 0.16748867\n            : ((3.081758 * x - 5.8733867) * x + 3.75112997) * x - 0.37001483 // eslint-disable-line space-in-parens\n      };\n    },\n\n    /**\n     * Convert xy coordinates to sRGB (D65) for display on the screen, including\n     * gamma correction and simple gamut mapping\n     * @param {{x: number, y: number}} xy The `x` and `y` values of the xyY color\n     * @param {number} Y The `Y` value of the xyY color\n     * @returns {{r: number, g: number, b: number}}\n     */\n    xy2sRGB(xy, Y = 1) {\n      const X = (Y * xy.x) / xy.y;\n      const Z = (Y * (1 - xy.x - xy.y)) / xy.y;\n      const R = 3.2404542 * X - 1.5371385 * Y - 0.4985314 * Z;\n      const G = -0.969266 * X + 1.8760108 * Y + 0.041556 * Z;\n      const B = 0.0556434 * X - 0.2040259 * Y + 1.0572252 * Z;\n      const scale = 1 / Math.max(1, R, G, B); // very simple gamut mapping\n      const gamma = u => (u <= 0.0031308 ? 12.92 * u : 1.055 * u ** (1 / 2.4) - 0.055);\n      return {\n        r: gamma(Math.max(R * scale, 0)),\n        g: gamma(Math.max(G * scale, 0)),\n        b: gamma(Math.max(B * scale, 0))\n      };\n    },\n\n    /**\n     * Convert a color component to a real world value by applying the dim curve\n     * @param {number} component the color component (i.e. r, g or b value) to convert\n     * @param {(string|number[])} curve -the curve type (`log` or `exp`), an one element array with the gamma value or an array with the lookup table\n     * @param {number} scale the maximal number of the real world value, usually 1, 100 or 255\n     * @returns {number}\n     */\n    curve(component, curve, scale) {\n      if (component <= 0) {\n        return Array.isArray(curve) && curve.length > 1 ? curve[0] * scale : 0;\n      }\n      if (component >= 1) {\n        return Array.isArray(curve) && curve.length > 1 ? curve[curve.length - 1] * scale : scale;\n      }\n      if (curve === 'log') {\n        return scale * Math.max(0, Math.min(1 - Math.log10(component) / -3, 1));\n      }\n      if (curve === 'exp') {\n        return scale * Math.max(0, Math.min(10 ** (-3 * (1 - component)), 1));\n      }\n      if (curve.length === 1) {\n        return scale * component ** (1 / curve[0]);\n      }\n      // otherwise: table conversion\n      const spacing = 1 / (curve.length - 1); // the distance between two values\n      const position = component / spacing;\n      const lower = Math.max(Math.floor(position), 0);\n      const higher = Math.min(Math.ceil(position), curve.length - 1);\n      const alpha = position - lower;\n      return scale * (curve[lower] * (1 - alpha) + curve[higher] * alpha);\n    },\n\n    /**\n     * Convert a real world value to a color component by applying the inverse dim curve\n     * @param {number} value\n     * @param {(string|number[])} curve -the curve type (`log` or `exp`), an one element array with the gamma value or an array with the lookup table\n     * @param {number} scale\n     * @returns {number}\n     */\n    invCurve(value, curve, scale) {\n      if (value <= 0) {\n        return 0;\n      }\n      if (value >= scale) {\n        return 1;\n      }\n      if (curve === 'log') {\n        return Math.max(0, Math.min(10 ** (-3 * (1 - value / scale)), 1));\n      }\n      if (curve === 'exp') {\n        return Math.max(0, Math.min(1 - Math.log10(value / scale) / -3, 1));\n      }\n      if (curve.length === 1) {\n        return curve[0] > 0 ? (value / scale) ** curve[0] : 0;\n      }\n      // otherwise: table conversion\n      let normalized = value / scale;\n      let higher = curve.findIndex(x => x > normalized);\n      if (higher < 0) {\n        // nothing found -> limit to highest index\n        higher = curve.length - 1;\n      }\n      let lower = Math.max(higher - 1, 0);\n      if (lower === higher) {\n        return lower / (curve.length - 1);\n      }\n      let ratio = (normalized - curve[lower]) / (curve[higher] - curve[lower]);\n      return Math.min((lower + ratio) / (curve.length - 1), 1);\n    }\n  },\n\n  /*\n  ******************************************************\n    CONSTRUCTOR\n  ******************************************************\n  */\n\n  /**\n   * Construct a color with given primary colors and an optional white\n   * channel.\n   * When no coordinates are give they default to the sRGB coordinates.\n   * @param {{x: number, y: number, Y: number}} [Rxy]\n   * @param {{x: number, y: number, Y: number}} [Gxy]\n   * @param {{x: number, y: number, Y: number}} [Bxy]\n   * @param {{x: number, y: number, Y: number}} [Wxy]\n   */\n  construct(Rxy = undefined, Gxy = undefined, Bxy = undefined, Wxy = undefined) {\n    this.__R = Rxy === undefined ? { x: 0.64, y: 0.33, Y: 0.2126 } : Rxy; // default: sRGB\n    this.__G = Gxy === undefined ? { x: 0.3, y: 0.6, Y: 0.7152 } : Gxy;\n    this.__B = Bxy === undefined ? { x: 0.15, y: 0.06, Y: 0.0722 } : Bxy;\n\n    if (this.__R.Y === undefined) {\n      this.__R.Y = 1;\n    }\n    if (this.__G.Y === undefined) {\n      this.__G.Y = 1;\n    }\n    if (this.__B.Y === undefined) {\n      this.__B.Y = 1;\n    }\n\n    // normalize luminances\n    let normFac = 1 / (this.__R.Y + this.__G.Y + this.__B.Y);\n    this.__R.Y *= normFac;\n    this.__G.Y *= normFac;\n    this.__B.Y *= normFac;\n\n    // precalculate X and Z\n    this.__R.X = (this.__R.x * this.__R.Y) / this.__R.y;\n    this.__R.Z = ((1 - this.__R.x - this.__R.y) * this.__R.Y) / this.__R.y;\n    this.__G.X = (this.__G.x * this.__G.Y) / this.__G.y;\n    this.__G.Z = ((1 - this.__G.x - this.__G.y) * this.__G.Y) / this.__G.y;\n    this.__B.X = (this.__B.x * this.__B.Y) / this.__B.y;\n    this.__B.Z = ((1 - this.__B.x - this.__B.y) * this.__B.Y) / this.__B.y;\n\n    if (undefined !== Wxy) {\n      this.__W = Wxy;\n      if (this.__W.Y === undefined) {\n        this.__W.Y = 1;\n      }\n      this.__W.X = (this.__W.x * this.__W.Y) / this.__W.y;\n      this.__W.Z = ((1 - this.__W.x - this.__W.y) * this.__W.Y) / this.__W.y;\n    } else {\n      this.__W = {\n        X: this.__R.X + this.__G.X + this.__B.X,\n        Y: this.__R.Y + this.__G.Y + this.__B.Y,\n        Z: this.__R.Z + this.__G.Z + this.__B.Z\n      };\n\n      this.__W.x = this.__W.X / (this.__W.X + this.__W.Y + this.__W.Z);\n      this.__W.y = this.__W.Y / (this.__W.X + this.__W.Y + this.__W.Z);\n    }\n\n    // start color is a complete unsaturated red hue that is black:\n    this.__hsv = { h: 0, s: 0, v: 0 };\n    this.__syncHSV2xy();\n  },\n  /*\n  ******************************************************\n    MEMBERS\n  ******************************************************\n  */\n  members: {\n    // the base colors defining the color space of this color\n    __R: undefined,\n    __G: undefined,\n    __B: undefined,\n    __W: undefined,\n\n    // the color itself\n    /**\n     * CIE 1931 XYZ color space: x of xyY\n     * @type {number}\n     */\n    __x: 1 / 3,\n    /**\n     * CIE 1931 XYZ color space: y of xyY\n     * @type {number}\n     */\n    __y: 1 / 3,\n    /**\n     * CIE 1931 XYZ color space: Y of xyY or XYZ - normalized to be between 0...1\n     * @type {number}\n     */\n    __Y: 0,\n\n    // derived color representations, cached to allow partial change\n    /**\n     * HSV color space - h, s and v are normalized to the range 0...1\n     * @type {{h: number, s: number, v: number}}\n     */\n    __hsv: undefined,\n    /**\n     * HSV color space - last known value of h\n     * @type {number}\n     */\n    __HSV_h_last: 0,\n    /**\n     * LCh color space - last known value of h\n     * @type {number}\n     */\n    __LCh_h_last: 0,\n    /**\n     * RGB color space - r, g and b are normalized to the range 0...1\n     * @type {{r: number, g: number, b: number}}\n     */\n    __rbg: undefined,\n    /**\n     * RGBW color space - r, g, b and w are normalized to the range 0...1\n     * @type {{r: number, g: number, b: number, w: number}}\n     */\n    __rbgw: undefined,\n    /**\n     * Color temperature in Kelvin\n     * @type {number}\n     */\n    __T: undefined,\n    /**\n     * L*a*b* color space - with L in 0...100, a* and b* in roughly -150...150\n     * @type {{L: number, a: number, b: number}}\n     */\n    __Lab: undefined,\n    /**\n     * L*C*h° color space - with L in 0...1 instead of 0...100; C in 0...1 instead of 0...150\n     * @type {{L: number, C: number, h: number}}\n     */\n    __LCh: undefined,\n\n    /**\n     * Get X, Y, Z from this color\n     * @private\n     * @returns {{X: number, Y: number, Z: number}}\n     */\n    __getXYZ() {\n      return {\n        X: this.__x * (this.__Y / Math.max(0.001, this.__y)),\n        Y: this.__Y,\n        Z: (1 - this.__x - this.__y) * (this.__Y / Math.max(0.001, this.__y))\n      };\n    },\n    /**\n     * Set internal __x, __y and __Y from XYZ color\n     * @private\n     * @param {number} X\n     * @param {number} Y\n     * @param {number} Z\n     */\n    __setXYZ(X, Y, Z) {\n      const XYZ = X + Y + Z;\n      // best guess for a total black: completely unsaturated, i.e. the white point\n      this.__x = XYZ > 0 ? X / XYZ : this.__W.x;\n      this.__y = XYZ > 0 ? Y / XYZ : this.__W.y;\n      this.__Y = Y;\n    },\n\n    /**\n     * move x and y to be inside the color range that the R, G and B span\n     * @private\n     * @param {number} x\n     * @param {number} y\n     * @returns {{x: number, y: number}}\n     */\n    __gamutMap(x = this.__x, y = this.__y) {\n      // is x-y on the same side of the R-G axis as the white point?\n      let iRG = cv.util.Color.intersect(this.__R, this.__G, this.__W, {\n        x: x,\n        y: y\n      });\n\n      if (iRG.factors[0] >= 0 && iRG.factors[0] <= 1) {\n        // no -> move it to be on the line\n        x = iRG.x;\n        y = iRG.y;\n      }\n      // is x-y on the same side of the G-B axis as the white point?\n      let iGB = cv.util.Color.intersect(this.__G, this.__B, this.__W, {\n        x: x,\n        y: y\n      });\n\n      if (iGB.factors[0] >= 0 && iGB.factors[0] <= 1) {\n        // no -> move it to be on the line\n        x = iGB.x;\n        y = iGB.y;\n      }\n      // is x-y on the same side of the B-R axis as the white point?\n      let iBR = cv.util.Color.intersect(this.__B, this.__R, this.__W, {\n        x: x,\n        y: y\n      });\n\n      if (iBR.factors[0] >= 0 && iBR.factors[0] <= 1) {\n        // no -> move it to be on the line\n        x = iBR.x;\n        y = iBR.y;\n      }\n      return { x: x, y: y };\n    },\n\n    // make derived color valid\n    __validateHSV(force) {\n      /**\n       * solve a special set of equations:\n       * <pre>\n       *    A1 * x*y*z + B1 * y*z + C1 * z = D1\n       *    A2 * x*y*z + B2 * y*z + C2 * z = D2\n       *    A3 * x*y*z + B3 * y*z + C3 * z = D3\n       * </pre>\n       * Wolfram Language code: Solve[{C1 z + B1 y z + A1 x y z == D1, C2 z + B2 y z + A2 x y z == D2, C3 z + B3 y z + A3 x y z == D3}, {x, y, z}]\n       *\n       * @param {number} A1\n       * @param {number} A2\n       * @param {number} A3\n       * @param {number} B1\n       * @param {number} B2\n       * @param {number} B3\n       * @param {number} C1\n       * @param {number} C2\n       * @param {number} C3\n       * @param {number} D1\n       * @param {number} D2\n       * @param {number} D3\n       * @returns {number[]}\n       */\n      function solve(A1, A2, A3, B1, B2, B3, C1, C2, C3, D1, D2, D3) {\n        return [\n          (B1 * C2 * D3 - B1 * C3 * D2 - B2 * C1 * D3 + B2 * C3 * D1 + B3 * C1 * D2 - B3 * C2 * D1) /\n            (-A1 * C2 * D3 + A1 * C3 * D2 + A2 * C1 * D3 - A2 * C3 * D1 - A3 * C1 * D2 + A3 * C2 * D1), // eslint-disable-line\n          (A1 * C2 * D3 - A1 * C3 * D2 - A2 * C1 * D3 + A2 * C3 * D1 + A3 * C1 * D2 - A3 * C2 * D1) /\n            (-A1 * B2 * D3 + A1 * B3 * D2 + A2 * B1 * D3 - A2 * B3 * D1 - A3 * B1 * D2 + A3 * B2 * D1), // eslint-disable-line\n          (-A1 * B2 * D3 + A1 * B3 * D2 + A2 * B1 * D3 - A2 * B3 * D1 - A3 * B1 * D2 + A3 * B2 * D1) /\n            (-A1 * B2 * C3 + A1 * B3 * C2 + A2 * B1 * C3 - A2 * B3 * C1 - A3 * B1 * C2 + A3 * B2 * C1) // eslint-disable-line\n        ];\n      }\n\n      if (this.__hsv === undefined || force) {\n        if (this.__Y < 1e-4) {\n          this.__hsv = { h: this.__HSV_h_last, s: 0, v: this.__Y };\n          return;\n        }\n\n        const colorAdd = function (a, b) {\n          const X = a.X + b.X;\n          const Y = a.Y + b.Y;\n          const Z = a.Z + b.Z;\n          return { x: X / (X + Y + Z), y: Y / (X + Y + Z), X: X, Y: Y, Z: Z };\n        };\n        const hues = [this.__R, this.__G, this.__B, this.__R];\n        const thisXYZ = {\n          X: (this.__x * this.__Y) / this.__y,\n          Y: this.__Y,\n          Z: ((1 - this.__x - this.__y) * this.__Y) / this.__y\n        };\n\n        if ((this.__x - this.__W.x) ** 2 + (this.__y - this.__W.y) ** 2 < 1e-6) {\n          // color is white\n          this.__hsv = { h: this.__HSV_h_last, s: 0, v: this.__Y };\n          return;\n        }\n        for (let i = 0; i < 3; i++) {\n          const inter1 = cv.util.Color.intersect(hues[i], colorAdd(hues[i], hues[i + 1]), this.__W, {\n            x: this.__x,\n            y: this.__y\n          });\n\n          const inter2 = cv.util.Color.intersect(colorAdd(hues[i], hues[i + 1]), hues[i + 1], this.__W, {\n            x: this.__x,\n            y: this.__y\n          });\n\n          // hues[i] -> (hues[i]+hues[i+1])\n          const fac = solve(\n            hues[i + 1].X,\n            hues[i + 1].Y,\n            hues[i + 1].Z,\n            hues[i].X - this.__W.X,\n            hues[i].Y - this.__W.Y,\n            hues[i].Z - this.__W.Z,\n            this.__W.X,\n            this.__W.Y,\n            this.__W.Z,\n            thisXYZ.X,\n            thisXYZ.Y,\n            thisXYZ.Z\n          );\n\n          if (inter1.factors[0] >= 0 && inter1.factors[1] >= 0 && inter1.factors[1] <= 1) {\n            this.__hsv = { h: (2 * i) / 6 + fac[0] / 6, s: fac[1], v: fac[2] };\n            this.__HSV_h_last = this.__hsv.h;\n            break;\n          }\n\n          // (hues[i]+hues[i+1]) -> hues[i+1]\n          const fac2 = solve(\n            -hues[i].X,\n            -hues[i].Y,\n            -hues[i].Z,\n            hues[i].X + hues[i + 1].X - this.__W.X,\n            hues[i].Y + hues[i + 1].Y - this.__W.Y,\n            hues[i].Z + hues[i + 1].Z - this.__W.Z,\n            this.__W.X,\n            this.__W.Y,\n            this.__W.Z,\n            thisXYZ.X,\n            thisXYZ.Y,\n            thisXYZ.Z\n          );\n\n          if (inter2.factors[0] >= 0 && inter2.factors[1] >= 0 && inter2.factors[1] <= 1) {\n            this.__hsv = {\n              h: (2 * i + 1) / 6 + fac2[0] / 6,\n              s: fac2[1],\n              v: fac2[2]\n            };\n\n            this.__HSV_h_last = this.__hsv.h;\n            break;\n          }\n          this.__hsv = { h: 0, s: 0, v: this.__Y };\n          this.__HSV_h_last = this.__hsv.h;\n        }\n      }\n    },\n\n    __validateRGB(force) {\n      if (this.__rgb === undefined || force) {\n        this.__rgb = {};\n        const { X, Y, Z } = this.__getXYZ();\n        [this.__rgb.r, this.__rgb.g, this.__rgb.b] = cv.util.Color.solve3d(\n          this.__R.X,\n          this.__R.Y,\n          this.__R.Z,\n          this.__G.X,\n          this.__G.Y,\n          this.__G.Z,\n          this.__B.X,\n          this.__B.Y,\n          this.__B.Z,\n          X,\n          Y,\n          Z\n        );\n\n        // scale and clamp:\n        let max = Math.max(this.__rgb.r, this.__rgb.g, this.__rgb.b);\n        if (max < 1) {\n          max = 1;\n        }\n        this.__rgb.r = Math.max(0, this.__rgb.r / max);\n        this.__rgb.g = Math.max(0, this.__rgb.g / max);\n        this.__rgb.b = Math.max(0, this.__rgb.b / max);\n      }\n    },\n\n    __validateRGBW(force) {\n      if (this.__rgbw === undefined || force) {\n        const { X, Y, Z } = this.__getXYZ();\n        let w2rgb = cv.util.Color.solve3d(\n          this.__R.X,\n          this.__R.Y,\n          this.__R.Z,\n          this.__G.X,\n          this.__G.Y,\n          this.__G.Z,\n          this.__B.X,\n          this.__B.Y,\n          this.__B.Z,\n          this.__W.X,\n          this.__W.Y,\n          this.__W.Z\n        );\n\n        this.__rgbw = {};\n        [this.__rgbw.r, this.__rgbw.g, this.__rgbw.b] = cv.util.Color.solve3d(\n          this.__R.X,\n          this.__R.Y,\n          this.__R.Z,\n          this.__G.X,\n          this.__G.Y,\n          this.__G.Z,\n          this.__B.X,\n          this.__B.Y,\n          this.__B.Z,\n          X,\n          Y,\n          Z\n        );\n\n        this.__rgbw.w = Math.min(this.__rgbw.r / w2rgb[0], this.__rgbw.g / w2rgb[1], this.__rgbw.b / w2rgb[2]);\n\n        this.__rgbw.r -= this.__rgbw.w * w2rgb[0];\n        this.__rgbw.g -= this.__rgbw.w * w2rgb[1];\n        this.__rgbw.b -= this.__rgbw.w * w2rgb[2];\n\n        // scale and clamp:\n        let max = Math.max(this.__rgbw.r, this.__rgbw.g, this.__rgbw.b, this.__rgbw.w);\n\n        if (max < 1) {\n          max = 1;\n        }\n        this.__rgbw.r = Math.max(0, this.__rgbw.r / max);\n        this.__rgbw.g = Math.max(0, this.__rgbw.g / max);\n        this.__rgbw.b = Math.max(0, this.__rgbw.b / max);\n        this.__rgbw.w = Math.max(0, this.__rgbw.w / max);\n      }\n    },\n\n    __validateT(force) {\n      // getting the color temperature from xy is only giving the correlated\n      // color temperature, the temperature of the Planckian radiator whose\n      // perceived color most closely resembles that of a given stimulus at the\n      // same brightness and under specified viewing conditions\n      // This formula works for CCT between 2000 K and 12500 K.\n      if (this.__T === undefined || force) {\n        const n = (this.__x - 0.332) / (this.__y - 0.1858);\n        const T = ((-449 * n + 3525) * n - 6823.3) * n + 5520.33;\n        this.__T = Math.max(2000, Math.min(T, 12500));\n      }\n    },\n\n    __validateLab(force) {\n      if (this.__Lab === undefined || force) {\n        const Xn = this.__W.X;\n        const Yn = this.__W.Y;\n        const Zn = this.__W.Z;\n        const { X, Y, Z } = this.__getXYZ();\n        const f = function (t) {\n          if (t < 216 / 24389) {\n            return ((24389 / 27) * t + 16) / 116;\n          }\n          return t ** (1 / 3);\n        };\n        this.__Lab = {\n          L: 116 * f(Y / Yn) - 16,\n          a: 500 * (f(X / Xn) - f(Y / Yn)),\n          b: 200 * (f(Y / Yn) - f(Z / Zn))\n        };\n      }\n    },\n\n    __validateLCh(force) {\n      this.__validateLab();\n      if (this.__LCh === undefined || force) {\n        this.__LCh = {\n          L: this.__Lab.L / 100, // map to 0...1\n          C: Math.sqrt(this.__Lab.a ** 2 + this.__Lab.b ** 2) / 150, // map to 0...1\n          h: (Math.atan2(this.__Lab.b, this.__Lab.a) / (2 * Math.PI) + 1) % 1 // map angle to 0...1\n        };\n        if (this.__LCh.C < 1e-5) {\n          this.__LCh.h = this.__LCh_h_last;\n        } else {\n          this.__LCh_h_last = this.__LCh.h;\n        }\n      }\n    },\n\n    /**\n     * Invalidate all cached values but the one to keep\n     * @private\n     * @param {string} keep\n     * @param {string} [keep2]\n     */\n    __invalidateBut(keep, keep2 = '') {\n      ['__rgb', '__rgbw', '__hsv', '__Lab', '__LCh', '__T'].forEach(cache => {\n        if (cache !== keep && cache !== keep2) {\n          this[cache] = undefined;\n        }\n      });\n    },\n\n    // synchronise xyY\n    __syncHSV2xy() {\n      // first step: get maximum saturated RGB values\n      let r;\n      let g;\n      let b;\n      let u;\n      let d; // eslint-disable-line max-statements-per-line\n      if (this.__hsv.h < 1 / 6) {\n        let u = (this.__hsv.h - 0 / 6) * 6;\n        r = 1;\n        g = u;\n        b = 0; // eslint-disable-line max-statements-per-line\n      } else if (this.__hsv.h < 2 / 6) {\n        u = (this.__hsv.h - 1 / 6) * 6;\n        d = 1 - u; // eslint-disable-line max-statements-per-line\n        r = d;\n        g = 1;\n        b = 0; // eslint-disable-line max-statements-per-line\n      } else if (this.__hsv.h < 3 / 6) {\n        let u = (this.__hsv.h - 2 / 6) * 6;\n        r = 0;\n        g = 1;\n        b = u; // eslint-disable-line max-statements-per-line\n      } else if (this.__hsv.h < 4 / 6) {\n        u = (this.__hsv.h - 3 / 6) * 6;\n        d = 1 - u; // eslint-disable-line max-statements-per-line\n        r = 0;\n        g = d;\n        b = 1; // eslint-disable-line max-statements-per-line\n      } else if (this.__hsv.h < 5 / 6) {\n        u = (this.__hsv.h - 4 / 6) * 6;\n        r = u;\n        g = 0;\n        b = 1; // eslint-disable-line max-statements-per-line\n      } else {\n        u = (this.__hsv.h - 5 / 6) * 6;\n        d = 1 - u; // eslint-disable-line max-statements-per-line\n        r = 1;\n        g = 0;\n        b = d; // eslint-disable-line max-statements-per-line\n      }\n\n      // second step: blend with white to take saturation into account and scale with brightness\n      const X =\n        ((this.__R.X * r + this.__G.X * g + this.__B.X * b) * this.__hsv.s + (1 - this.__hsv.s) * this.__W.X) *\n        this.__hsv.v;\n      const Y =\n        ((this.__R.Y * r + this.__G.Y * g + this.__B.Y * b) * this.__hsv.s + (1 - this.__hsv.s) * this.__W.Y) *\n        this.__hsv.v;\n      const Z =\n        ((this.__R.Z * r + this.__G.Z * g + this.__B.Z * b) * this.__hsv.s + (1 - this.__hsv.s) * this.__W.Z) *\n        this.__hsv.v;\n      this.__setXYZ(X, Y, Z);\n      this.__invalidateBut('__hsv');\n    },\n\n    __syncRGB2xy() {\n      this.__Y = Math.max(this.__rgb.r, this.__rgb.g, this.__rgb.b);\n      if (this.__Y > 0) {\n        const X = this.__R.X * this.__rgb.r + this.__G.X * this.__rgb.g + this.__B.X * this.__rgb.b;\n        const Y = this.__R.Y * this.__rgb.r + this.__G.Y * this.__rgb.g + this.__B.Y * this.__rgb.b;\n        const Z = this.__R.Z * this.__rgb.r + this.__G.Z * this.__rgb.g + this.__B.Z * this.__rgb.b;\n        this.__setXYZ(X, Y, Z);\n      } // else: do nothing and keep the current x and y to be able to restore it's value when just the brightness will be increased again\n      this.__invalidateBut('__rgb');\n    },\n\n    __syncRGBW2xy() {\n      this.__Y = Math.max(this.__rgbw.r, this.__rgbw.g, this.__rgbw.b, this.__rgbw.w);\n\n      if (this.__Y > 0) {\n        const X =\n          this.__R.X * this.__rgbw.r +\n          this.__G.X * this.__rgbw.g +\n          this.__B.X * this.__rgbw.b +\n          this.__W.X * this.__rgbw.w;\n        const Y =\n          this.__R.Y * this.__rgbw.r +\n          this.__G.Y * this.__rgbw.g +\n          this.__B.Y * this.__rgbw.b +\n          this.__W.Y * this.__rgbw.w;\n        const Z =\n          this.__R.Z * this.__rgbw.r +\n          this.__G.Z * this.__rgbw.g +\n          this.__B.Z * this.__rgbw.b +\n          this.__W.Z * this.__rgbw.w;\n        this.__setXYZ(X, Y, Z);\n      } // else: do nothing and keep the current x and y to be able to restore it's value when just the brightness will be increased again\n      this.__invalidateBut('__rgbw');\n    },\n\n    __syncT2xy() {\n      let xy = cv.util.Color.temperature2xy(this.__T);\n      this.__x = xy.x;\n      this.__y = xy.y;\n      this.__invalidateBut('__T');\n    },\n\n    __syncY2xy() {\n      this.__invalidateBut('__T');\n    },\n\n    __syncLab2xy(keepLCh = false) {\n      const Xn = this.__W.X;\n      const Yn = this.__W.Y;\n      const Zn = this.__W.Z;\n      const fInv = function (t) {\n        if (t < 6 / 29) {\n          return 3 * (6 / 29) ** 2 * (t - 4 / 29);\n        }\n        return t ** 3;\n      };\n      const Lab = this.__Lab;\n      const L16 = (Lab.L + 16) / 116;\n      const X = Xn * fInv(L16 + Lab.a / 500);\n      const Y = Yn * fInv(L16);\n      const Z = Zn * fInv(L16 - Lab.b / 200);\n      this.__setXYZ(X, Y, Z);\n\n      this.__invalidateBut('__Lab', keepLCh ? '__LCh' : '');\n    },\n\n    __syncLCh2xy() {\n      this.__Lab = {\n        L: this.__LCh.L * 100,\n        a: this.__LCh.C * Math.cos(this.__LCh.h * 2 * Math.PI) * 150,\n        b: this.__LCh.C * Math.sin(this.__LCh.h * 2 * Math.PI) * 150\n      };\n\n      this.__syncLab2xy(true);\n    },\n\n    /**\n     * Change the color by changing one of it's components.\n     *\n     * Expected values are:\n     * - h, s, v: 0...1\n     * - r, g, b, w: 0...1\n     * - T: 1667...25000 Kelvin\n     * - x, y, Y: 0...1\n     * - L, C, h: 0...1\n     *\n     * @param {string} component\n     * @param {(number|number[]|{h:number,s:number,v:number}|{r:number,g:number,b:number,w:number}|{x:number,y:number,Y:number})} value\n     */\n    changeComponent(component, value) {\n      /**\n       * Clamp the value to the given range\n       * @param {number} value\n       * @param {number} [min]\n       * @param {number} [max]\n       * @returns {number}\n       */\n      function clamp(value, min = 0, max = 1) {\n        return Math.min(Math.max(min, value), max);\n      }\n\n      switch (component) {\n        case 'h':\n        case 's':\n        case 'v':\n          this.__validateHSV();\n          this.__hsv[component] = clamp(value);\n          this.__syncHSV2xy();\n          break;\n\n        case 'sv':\n          this.__validateHSV();\n          this.__hsv.s = clamp(value[0]);\n          this.__hsv.v = clamp(value[1]);\n          this.__syncHSV2xy();\n          break;\n\n        case 'hsv':\n          this.__hsv = {\n            h: clamp(value.h),\n            s: clamp(value.s),\n            v: clamp(value.v)\n          };\n\n          this.__syncHSV2xy();\n          break;\n\n        case 'RGB-r':\n        case 'RGB-g':\n        case 'RGB-b':\n          this.__validateRGB();\n          this.__rgb[component.split('-')[1]] = clamp(value);\n          this.__syncRGB2xy();\n          break;\n\n        case 'rgb':\n          this.__rgb = {\n            r: clamp(value.r),\n            g: clamp(value.g),\n            b: clamp(value.b)\n          };\n\n          this.__syncRGB2xy();\n          break;\n\n        case 'RGBW-r':\n        case 'RGBW-g':\n        case 'RGBW-b':\n        case 'RGBW-w':\n          this.__validateRGBW();\n          this.__rgbw[component.split('-')[1]] = clamp(value);\n          this.__syncRGBW2xy();\n          break;\n\n        case 'rgbw':\n          this.__rgbw = {\n            r: clamp(value.r),\n            g: clamp(value.g),\n            b: clamp(value.b),\n            w: clamp(value.w)\n          };\n\n          this.__syncRGBW2xy();\n          break;\n\n        case 'T':\n          this.__T = Math.max(1667, Math.min(value, 25000));\n          this.__syncT2xy();\n          break;\n\n        case 'x':\n          this.__x = clamp(value);\n          this.__invalidateBut(''); // all precalculated colors are invalid now\n          break;\n\n        case 'y':\n          this.__y = clamp(value);\n          this.__invalidateBut(''); // all precalculated colors are invalid now\n          break;\n\n        case 'xy':\n          this.__x = clamp(value.x);\n          this.__y = clamp(value.y);\n          this.__invalidateBut(''); // all precalculated colors are invalid now\n          break;\n\n        case 'Y':\n          this.__Y = clamp(value);\n          this.__syncY2xy();\n          break;\n\n        case 'xyY':\n          this.__x = clamp(value.x);\n          this.__y = clamp(value.y);\n          this.__Y = clamp(value.Y);\n          this.__invalidateBut(''); // all precalculated colors are invalid now\n          break;\n\n        case 'LCh-L':\n        case 'LCh-C':\n          this.__validateLCh();\n          this.__LCh[component.split('-')[1]] = clamp(value);\n          this.__syncLCh2xy();\n          break;\n\n        case 'LCh-h':\n          this.__validateLCh();\n          this.__LCh[component.split('-')[1]] = clamp(value);\n          this.__LCh_h_last = this.__LCh.h;\n          this.__syncLCh2xy();\n          break;\n\n        case 'LCh-CL':\n          this.__validateLCh();\n          this.__LCh.C = clamp(value[0]);\n          this.__LCh.L = clamp(value[1]);\n          this.__syncLCh2xy();\n          break;\n      }\n    },\n\n    /**\n     * Set the internal value to the given HSV value without a check.\n     * THIS IS FOR INTERNAL USE ONLY! DO NOT USE!\n     * @private\n     * @param {{h: number, s: number, v: number}} hsv\n     */\n    _forceHSV(hsv) {\n      this.__hsv = hsv;\n      this.__syncHSV2xy();\n    },\n    _forceLCh(LCh) {\n      this.__LCh = LCh;\n      this.__syncLCh2xy();\n    },\n\n    /**\n     * Get the value(s) of the specified component\n     *\n     * Value ranges are:\n     * - h, s, v: 0...1\n     * - r, g, b, w: 0...1\n     * - T: 1667...25000 Kelvin\n     * - x, y, Y: 0...1\n     * - L, a, b: 0...100 for `L` and roughly -150...150 for `a` and `b`\n     * - L, C, h: 0...1\n     *\n     * @param {string} component\n     * @param {boolean} gamutMap\n     * @param {boolean} force\n     * @returns {(number|{x:number, y:number}|{h:number,s:number,v:number}|{r:number,g:number,b:number}|{r:number,g:number,b:number,w:number}|{L:number,a:number,b:number}|{L:number,C:number,h:number})}\n     */\n    getComponent(component, gamutMap = true, force = false) {\n      const clamp = (min, x, max) => (Number.isFinite(x) ? (gamutMap ? Math.max(min, Math.min(x, max)) : x) : 0);\n\n      switch (component) {\n        case 'xy':\n          return { x: clamp(0, this.__x, 1), y: clamp(0, this.__y, 1) };\n        case 'Y':\n          return clamp(0, this.__Y, 1);\n        case 'xyY':\n          return {\n            x: clamp(0, this.__x, 1),\n            y: clamp(0, this.__y, 1),\n            Y: clamp(0, this.__Y, 1)\n          };\n\n        case 'h':\n        case 's':\n        case 'v':\n          this.__validateHSV(force);\n          return clamp(0, this.__hsv[component], 1);\n\n        case 'hsv':\n          this.__validateHSV(force);\n          return {\n            h: clamp(0, this.__hsv.h, 1),\n            s: clamp(0, this.__hsv.s, 1),\n            v: clamp(0, this.__hsv.v, 1)\n          };\n\n        case 'RGB-r':\n        case 'RGB-g':\n        case 'RGB-b': {\n          this.__validateRGB(force);\n          const map = gamutMap ? 1 / Math.max(this.__rgb.r, this.__rgb.g, this.__rgb.b, 1) : 1;\n          return map * this.__rgb[component.split('-')[1]];\n        }\n\n        case 'rgb': {\n          this.__validateRGB(force);\n          const map = gamutMap ? 1 / Math.max(this.__rgb.r, this.__rgb.g, this.__rgb.b, 1) : 1;\n          return {\n            r: map * this.__rgb.r,\n            g: map * this.__rgb.g,\n            b: map * this.__rgb.b\n          };\n        }\n\n        case 'RGBW-r':\n        case 'RGBW-g':\n        case 'RGBW-b':\n        case 'RGBW-w': {\n          this.__validateRGBW(force);\n          const map = gamutMap ? 1 / Math.max(this.__rgbw.r, this.__rgbw.g, this.__rgbw.b, this.__rgbw.w, 1) : 1;\n          return map * this.__rgbw[component.split('-')[1]];\n        }\n\n        case 'rgbw': {\n          this.__validateRGBW(force);\n          const map = gamutMap ? 1 / Math.max(this.__rgbw.r, this.__rgbw.g, this.__rgbw.b, this.__rgbw.w, 1) : 1;\n          return {\n            r: map * this.__rgbw.r,\n            g: map * this.__rgbw.g,\n            b: map * this.__rgbw.b,\n            w: map * this.__rgbw.w\n          };\n        }\n\n        case 'T':\n          this.__validateT(force);\n          return clamp(1667, this.__T, 25000);\n\n        case 'Lab':\n          this.__validateLab(force);\n          return this.__Lab;\n\n        case 'LCh-L':\n        case 'LCh-C':\n        case 'LCh-h':\n          this.__validateLCh(force);\n          return clamp(0, this.__LCh[component.split('-')[1]], 1);\n\n        case 'LCh':\n          this.__validateLCh(force);\n          return {\n            L: clamp(0, this.__LCh.L, 1),\n            C: clamp(0, this.__LCh.C, 1),\n            h: clamp(0, this.__LCh.h, 1)\n          };\n      }\n\n      return undefined; // unknown component\n    },\n\n    /**\n     * Return a copy from this color\n     * @returns {cv.util.Color}\n     */\n    copy() {\n      return Object.assign(new cv.util.Color(), this);\n    },\n\n    /**\n     * Calculate the distance (difference) between this color and the otherColor\n     * in Lab color space, i.e. calculate the Delta E.\n     * @param {cv.util.Color} otherColor\n     * @returns {number}\n     */\n    delta(otherColor) {\n      this.__validateLab();\n      otherColor.__validateLab();\n      const Lab = otherColor.__Lab;\n      const dL = this.__Lab.L - Lab.L;\n      const da = this.__Lab.a - Lab.a;\n      const db = this.__Lab.b - Lab.b;\n      return Math.sqrt(dL * dL + da * da + db * db);\n    },\n\n    /**\n     * Create a new color by calculating (1-ratio)*thisColor + ratio*otherColor.\n     * The blending is done by mixing the LCh coordinates.\n     * otherColor must have the same base colors xy coordinates, as this\n     * is not checked or even enforced doing a blend between such different\n     * colors will create an undesired result.\n     * @param {cv.util.Color} otherColor\n     * @param {number} ratio\n     * @returns {cv.util.Color}\n     */\n    blend(otherColor, ratio) {\n      this.__validateLCh();\n      otherColor.__validateLCh();\n      const b = (x, y) => (1 - ratio) * x + ratio * y;\n      const c = this.copy();\n      const c1 = this.__LCh;\n      const c2 = otherColor.__LCh;\n      const s = Math.abs(c2.h - c1.h + 1) > Math.abs(c2.h - c1.h);\n      const e = Math.abs(c2.h - c1.h - 1) > Math.abs(c2.h - c1.h);\n\n      c._forceLCh({\n        h: b(c1.h + s, c2.h + e) % 1, // handle 360° === 0° to always take shortest distance\n        L: b(c1.L, c2.L),\n        C: b(c1.C, c2.C)\n      });\n\n      return c;\n    }\n  }\n});\n"
  ],
  "mappings": "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"
}