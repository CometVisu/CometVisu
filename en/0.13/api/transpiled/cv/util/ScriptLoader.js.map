{
  "version": 3,
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "extend",
    "core",
    "Object",
    "type",
    "construct",
    "constructor",
    "call",
    "__scriptQueue",
    "data",
    "Array",
    "__loaders",
    "__delayedScriptQueue",
    "__markedAsLoaded",
    "statics",
    "markAsLoaded",
    "path",
    "getInstance",
    "isMarkedAsLoaded",
    "includeStylesheet",
    "href",
    "media",
    "_this",
    "Promise",
    "res",
    "rej",
    "el",
    "document",
    "createElement",
    "rel",
    "onload",
    "onerror",
    "log",
    "Logger",
    "error",
    "head",
    "getElementsByTagName",
    "appendChild",
    "includeScript",
    "src",
    "querySelector",
    "concat",
    "properties",
    "allQueued",
    "check",
    "init",
    "apply",
    "event",
    "finished",
    "events",
    "stylesLoaded",
    "designError",
    "members",
    "__listener",
    "addStyles",
    "styleArr",
    "_this2",
    "queue",
    "suffix",
    "cv",
    "Config",
    "forceReload",
    "Date",
    "now",
    "promises",
    "forEach",
    "style",
    "_typeof",
    "uri",
    "resPath",
    "util",
    "ResourceManager",
    "toUri",
    "scssStyle",
    "replace",
    "scssPath",
    "push",
    "ScriptLoader",
    "all",
    "then",
    "debug",
    "fireEvent",
    "reason",
    "includes",
    "addScripts",
    "scriptArr",
    "order",
    "realQueue",
    "i",
    "l",
    "length",
    "resetFinished",
    "append",
    "processQueue",
    "loadIndex",
    "shift",
    "script",
    "splice",
    "loader",
    "__loadSingleScript",
    "addListener",
    "bind",
    "__P_531_5",
    "_this3",
    "DynamicScriptLoader",
    "_onLoaded",
    "_onFailed",
    "addListenerOnce",
    "remove",
    "removeListener",
    "start",
    "ev",
    "getData",
    "_checkQueue",
    "startsWith",
    "failedDesign",
    "split",
    "fireDataEvent",
    "match",
    "exec",
    "notifications",
    "Router",
    "dispatchMessage",
    "title",
    "locale",
    "Manager",
    "tr",
    "message",
    "severity",
    "deletable",
    "_this4",
    "isAllQueued",
    "setFinished",
    "removeListenerById"
  ],
  "sources": [
    "/home/runner/work/CometVisu/CometVisu/source/class/cv/util/ScriptLoader.js"
  ],
  "sourcesContent": [
    "/* ScriptLoader.js\n *\n * copyright (c) 2010-2022, Christian Mayer and the CometVisu contributers.\n *\n * This program is free software; you can redistribute it and/or modify it\n * under the terms of the GNU General Public License as published by the Free\n * Software Foundation; either version 3 of the License, or (at your option)\n * any later version.\n *\n * This program is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for\n * more details.\n *\n * You should have received a copy of the GNU General Public License along\n * with this program; if not, write to the Free Software Foundation, Inc.,\n * 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA\n */\n\nqx.Class.define('cv.util.ScriptLoader', {\n  extend: qx.core.Object,\n  type: 'singleton',\n\n  /*\n  ******************************************************\n    CONSTRUCTOR\n  ******************************************************\n  */\n  construct() {\n    super();\n    this.__scriptQueue = new qx.data.Array();\n    this.__loaders = new qx.data.Array();\n    this.__delayedScriptQueue = new qx.data.Array();\n    this.__markedAsLoaded = [];\n  },\n\n  /*\n  ***********************************************\n    STATICS\n  ***********************************************\n  */\n  statics: {\n    markAsLoaded(path) {\n      return this.getInstance().markAsLoaded(path);\n    },\n\n    isMarkedAsLoaded(path) {\n      return this.getInstance().isMarkedAsLoaded(path);\n    },\n\n    /**\n     * Include a CSS file\n     *\n     * @param href {String} Href value\n     * @param media {string?} Content of the media attribute\n     */\n    includeStylesheet(href, media) {\n      return new Promise((res, rej) => {\n        const el = document.createElement('link');\n        el.type = 'text/css';\n        el.rel = 'stylesheet';\n        el.href = href;\n        if (media) {\n          el.media = media;\n        }\n        el.onload = res;\n        el.onerror = () => {\n          qx.log.Logger.error(this, 'error loading ' + href);\n          // always resolve\n          res();\n        };\n        const head = document.getElementsByTagName('head')[0];\n        head.appendChild(el);\n      });\n    },\n\n    /**\n     * Include a JS file with module support\n     *\n     * @param src {String} Href value\n     * @param type {string?} Content of the type attribute\n     */\n    includeScript(src, type) {\n      return new Promise((res, rej) => {\n        const head = document.getElementsByTagName('head')[0];\n        if (!head.querySelector(`:scope > script[src='${src}']`)) {\n          const el = document.createElement('script');\n          if (type) {\n            el.type = type;\n          }\n          el.onload = res;\n          el.onerror = rej;\n          el.src = src;\n          head.appendChild(el);\n        } else {\n          res();\n        }\n      });\n    }\n  },\n\n  /*\n  ******************************************************\n    PROPERTIES\n  ******************************************************\n  */\n  properties: {\n    allQueued: {\n      check: 'Boolean',\n      init: false,\n      apply: '_checkQueue',\n      event: 'changeAllQueued'\n    },\n\n    finished: {\n      check: 'Boolean',\n      init: false,\n      event: 'changeFinished'\n    }\n  },\n\n  /*\n  ******************************************************\n    EVENTS\n  ******************************************************\n  */\n  events: {\n    finished: 'qx.event.type.Event',\n    stylesLoaded: 'qx.event.type.Event',\n    designError: 'qx.event.type.Data'\n  },\n\n  /*\n  ******************************************************\n    MEMBERS\n  ******************************************************\n  */\n  members: {\n    __scriptQueue: null,\n    __loaders: null,\n    __listener: null,\n    __markedAsLoaded: null,\n\n    addStyles(styleArr) {\n      const queue = typeof styleArr === 'string' ? [styleArr] : styleArr.concat();\n      const suffix = cv.Config.forceReload === true ? '?' + Date.now() : '';\n      let promises = [];\n      queue.forEach(function (style) {\n        let media;\n        let src;\n        if (typeof style === 'string') {\n          src = style;\n        } else if (typeof style === 'object') {\n          src = style.uri;\n          media = style.media;\n        } else {\n          this.error('unknown style parameter type', typeof style);\n        }\n        if (src) {\n          let resPath = qx.util.ResourceManager.getInstance().toUri(src);\n          if (resPath === src) {\n            // this file is unknown to the resource manager, might be a scss source\n            const scssStyle = src.replace(/\\.css$/, '.scss');\n            const scssPath = qx.util.ResourceManager.getInstance().toUri(scssStyle);\n            if (scssStyle !== scssPath) {\n              resPath = scssPath.replace(/\\.scss$/, '.css');\n            }\n          }\n          promises.push(cv.util.ScriptLoader.includeStylesheet(resPath + suffix, media));\n        }\n      }, this);\n      Promise.all(promises)\n        .then(() => {\n          this.debug('styles have been loaded');\n          this.fireEvent('stylesLoaded');\n        })\n        .catch(reason => {\n          this.error('error loading styles', reason);\n          // fire this event anyways, because a non loaded CSS file is no blocker\n          this.fireEvent('stylesLoaded');\n        });\n    },\n\n    markAsLoaded(path) {\n      if (!this.__markedAsLoaded.includes(path)) {\n        this.debug('marking ' + path + ' as loaded');\n        this.__markedAsLoaded.push(path);\n      }\n    },\n\n    isMarkedAsLoaded(path) {\n      return this.__markedAsLoaded.includes(path);\n    },\n\n    addScripts(scriptArr, order) {\n      const queue = typeof scriptArr === 'string' ? [scriptArr] : scriptArr;\n      // make sure that no cached scripts are loaded\n      const suffix = cv.Config.forceReload === true ? '?' + Date.now() : '';\n      const realQueue = [];\n      let i = 0;\n      const l = queue.length;\n      for (; i < l; i++) {\n        if (!this.__markedAsLoaded.includes(queue[i])) {\n          realQueue.push(qx.util.ResourceManager.getInstance().toUri(queue[i]) + suffix);\n        }\n      }\n      if (realQueue.length === 0) {\n        return;\n      }\n      this.debug('queueing ' + realQueue.length + ' scripts');\n      this.resetFinished();\n      this.__scriptQueue.append(realQueue);\n      if (order) {\n        const processQueue = function () {\n          if (order.length > 0) {\n            const loadIndex = order.shift();\n            const script = realQueue.splice(loadIndex, 1)[0];\n            const loader = this.__loadSingleScript(script);\n            loader.addListener('ready', processQueue, this);\n          } else {\n            realQueue.forEach(this.__loadSingleScript, this);\n          }\n        }.bind(this);\n        processQueue();\n      } else {\n        // use an extra DynamicScriptLoader for every single script because loading errors stop the process\n        // and the loader would not try to load the other scripts\n        // queue.forEach(this.__loadSingleScript, this);\n        this.__loadSingleScript(realQueue);\n      }\n    },\n\n    /**\n     * Load one script\n     *\n     * @param script {String} path to script\n     */\n    __loadSingleScript(script) {\n      const loader = new qx.util.DynamicScriptLoader(script);\n      this.__loaders.push(loader);\n      loader.addListener('loaded', this._onLoaded, this);\n      loader.addListener('failed', this._onFailed, this);\n      loader.addListenerOnce('ready', () => {\n        this.__loaders.remove(loader);\n        loader.removeListener('loaded', this._onLoaded, this);\n        loader.removeListener('failed', this._onFailed, this);\n      });\n      loader.start();\n      return loader;\n    },\n\n    _onLoaded(ev) {\n      const data = ev.getData();\n      this.__scriptQueue.remove(data.script);\n      this.debug(data.script + ' loaded');\n      this._checkQueue();\n    },\n\n    _onFailed(ev) {\n      const data = ev.getData();\n      this.__scriptQueue.remove(data.script);\n      if (data.script.startsWith('design')) {\n        const failedDesign = data.script.split('/')[1];\n        this.fireDataEvent('designError', failedDesign);\n      } else if (data.script.includes('/plugins/')) {\n        const match = /.+\\/plugins\\/([\\w]+)\\/index\\.js.*/.exec(data.script);\n        if (match) {\n          cv.core.notifications.Router.dispatchMessage('cv.loading.error', {\n            title: qx.locale.Manager.tr('Error loading plugin \"%1\"', match[1]),\n            message: qx.locale.Manager.tr('File %1 could not be loaded.', data.script),\n\n            severity: 'high',\n            deletable: true\n          });\n        }\n      } else {\n        cv.core.notifications.Router.dispatchMessage('cv.loading.error', {\n          title: qx.locale.Manager.tr('File loading error'),\n          message: qx.locale.Manager.tr('File %1 could not be loaded.', data.script),\n\n          severity: 'high',\n          deletable: true\n        });\n      }\n      this._checkQueue();\n    },\n\n    // property apply\n    _checkQueue() {\n      if (this.__scriptQueue.length === 0) {\n        if (this.isAllQueued()) {\n          this.debug('script loader finished');\n          this.fireEvent('finished');\n          this.setFinished(true);\n        } else if (!this.__listener) {\n          this.debug('script loader waiting for all scripts beeing queued');\n\n          this.__listener = this.addListener('changeAllQueued', ev => {\n            if (ev.getData() === true) {\n              if (this.__scriptQueue.length === 0) {\n                this.debug('script loader finished');\n                this.fireEvent('finished');\n                this.setFinished(true);\n              }\n              this.removeListenerById(this.__listener);\n              this.__listener = null;\n            }\n          });\n        }\n      } else {\n        this.debug(this.__scriptQueue.length + ' scripts remaining');\n      }\n    }\n  }\n});\n"
  ],
  "mappings": "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"
}