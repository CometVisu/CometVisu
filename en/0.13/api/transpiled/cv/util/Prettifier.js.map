{
  "version": 3,
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "type",
    "statics",
    "xml",
    "_prettifyNode",
    "documentElement",
    "node",
    "level",
    "noFormat",
    "tabs",
    "Array",
    "fill",
    "join",
    "newLine",
    "nodeType",
    "Node",
    "TEXT_NODE",
    "textContent",
    "trim",
    "String",
    "escape",
    "COMMENT_NODE",
    "CDATA_SECTION_NODE",
    "tagName",
    "firstChild",
    "output",
    "attr",
    "prefix",
    "namespaces",
    "attributesOutput",
    "i",
    "attributes",
    "length",
    "namespaceURI",
    "nsIndex",
    "indexOf",
    "push",
    "name",
    "value",
    "forEach",
    "ns",
    "index",
    "childNodes",
    "hasTextChild",
    "prototype",
    "some",
    "call",
    "child",
    "cv",
    "util",
    "Prettifier"
  ],
  "sources": [
    "/home/runner/work/CometVisu/CometVisu/source/class/cv/util/Prettifier.js"
  ],
  "sourcesContent": [
    "/* Prettifier.js\n *\n * copyright (c) 2010-2022, Christian Mayer and the CometVisu contributers.\n *\n * This program is free software; you can redistribute it and/or modify it\n * under the terms of the GNU General Public License as published by the Free\n * Software Foundation; either version 3 of the License, or (at your option)\n * any later version.\n *\n * This program is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for\n * more details.\n *\n * You should have received a copy of the GNU General Public License along\n * with this program; if not, write to the Free Software Foundation, Inc.,\n * 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA\n */\n\n/**\n *\n */\nqx.Class.define('cv.util.Prettifier', {\n  type: 'static',\n\n  /*\n  ***********************************************\n    STATICS\n  ***********************************************\n  */\n  statics: {\n    /**\n     * Dumps an XML file with formatted content\n     * @param xml {XMLDocument}\n     * @returns {string}\n     */\n    xml(xml) {\n      return '<?xml version=\"1.0\" encoding=\"UTF-8\"?>\\n' + this._prettifyNode(xml.documentElement, 0);\n    },\n\n    _prettifyNode(node, level, noFormat) {\n      let tabs = Array(level).fill('  ').join('');\n      let newLine = '\\n';\n      if (node.nodeType === Node.TEXT_NODE) {\n        if (node.textContent.trim()) {\n          return (noFormat ? '' : tabs) + qx.xml.String.escape(node.textContent) + (noFormat ? '' : newLine);\n        }\n        return '';\n      }\n      if (node.nodeType === Node.COMMENT_NODE) {\n        return (noFormat ? '' : tabs) + `<!--${node.textContent}--> ${noFormat ? '' : newLine}`;\n      } else if (node.nodeType === Node.CDATA_SECTION_NODE) {\n        return (noFormat ? '' : tabs) + `<![CDATA[${node.textContent}]]> ${noFormat ? '' : newLine}`;\n      }\n      if (!node.tagName) {\n        return this._prettifyNode(node.firstChild, level);\n      }\n      let output = (noFormat ? '' : tabs) + `<${node.tagName}`; // >\\n\n      let attr;\n      let prefix;\n      const namespaces = [];\n      let attributesOutput = '';\n      for (let i = 0; i < node.attributes.length; i++) {\n        attr = node.attributes[i];\n        prefix = '';\n        if (attr.namespaceURI) {\n          let nsIndex = namespaces.indexOf(attr.namespaceURI);\n          if (!attr.prefix) {\n            if (nsIndex < 0) {\n              namespaces.push(attr.namespaceURI);\n              nsIndex = namespaces.length - 1;\n            }\n            prefix = `ns${nsIndex + 1}:`;\n          }\n        }\n        attributesOutput += ` ${prefix}${attr.name}=\"${attr.value}\"`;\n      }\n      namespaces.forEach((ns, index) => {\n        output += ` xmlns:ns${index + 1}=\"${ns}\"`;\n      });\n      output += attributesOutput;\n      if (node.childNodes.length === 0) {\n        return output + ' />' + (!noFormat ? newLine : '');\n      }\n      output += '>';\n\n      let hasTextChild = Array.prototype.some.call(\n        node.childNodes,\n        child => child.nodeType === Node.TEXT_NODE && child.textContent.trim()\n      );\n\n      if (!noFormat && !hasTextChild) {\n        output += newLine;\n      }\n      for (let i = 0; i < node.childNodes.length; i++) {\n        output += this._prettifyNode(node.childNodes[i], level + 1, hasTextChild);\n      }\n      return output + (hasTextChild || noFormat ? '' : tabs) + `</${node.tagName}>` + (!noFormat ? newLine : '');\n    }\n  }\n});\n"
  ],
  "mappings": "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"
}