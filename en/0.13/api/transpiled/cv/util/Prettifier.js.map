{
  "version": 3,
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "type",
    "statics",
    "xml",
    "_prettifyNode",
    "documentElement",
    "node",
    "level",
    "noFormat",
    "tabs",
    "Array",
    "fill",
    "join",
    "newLine",
    "nodeType",
    "Node",
    "TEXT_NODE",
    "textContent",
    "trim",
    "String",
    "escape",
    "COMMENT_NODE",
    "CDATA_SECTION_NODE",
    "tagName",
    "firstChild",
    "output",
    "attr",
    "prefix",
    "namespaces",
    "attributesOutput",
    "i",
    "attributes",
    "length",
    "namespaceURI",
    "nsIndex",
    "indexOf",
    "push",
    "name",
    "value",
    "forEach",
    "ns",
    "index",
    "childNodes",
    "hasTextChild",
    "prototype",
    "some",
    "call",
    "child",
    "cv",
    "util",
    "Prettifier"
  ],
  "sources": [
    "/home/runner/work/CometVisu/CometVisu/source/class/cv/util/Prettifier.js"
  ],
  "sourcesContent": [
    "/* Prettifier.js\n *\n * copyright (c) 2010-2022, Christian Mayer and the CometVisu contributers.\n *\n * This program is free software; you can redistribute it and/or modify it\n * under the terms of the GNU General Public License as published by the Free\n * Software Foundation; either version 3 of the License, or (at your option)\n * any later version.\n *\n * This program is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for\n * more details.\n *\n * You should have received a copy of the GNU General Public License along\n * with this program; if not, write to the Free Software Foundation, Inc.,\n * 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA\n */\n\n/**\n *\n */\nqx.Class.define('cv.util.Prettifier', {\n  type: 'static',\n\n  /*\n  ***********************************************\n    STATICS\n  ***********************************************\n  */\n  statics: {\n    /**\n     * Dumps an XML file with formatted content\n     * @param xml {XMLDocument}\n     * @returns {string}\n     */\n    xml(xml) {\n      return '<?xml version=\"1.0\" encoding=\"UTF-8\"?>\\n' + this._prettifyNode(xml.documentElement, 0);\n    },\n\n    _prettifyNode(node, level, noFormat) {\n      let tabs = Array(level).fill('  ').join('');\n      let newLine = '\\n';\n      if (node.nodeType === Node.TEXT_NODE) {\n        if (node.textContent.trim()) {\n          return (noFormat ? '' : tabs) + qx.xml.String.escape(node.textContent) + (noFormat ? '' : newLine);\n        }\n        return '';\n      }\n      if (node.nodeType === Node.COMMENT_NODE) {\n        return (noFormat ? '' : tabs) + `<!--${node.textContent}--> ${noFormat ? '' : newLine}`;\n      } else if (node.nodeType === Node.CDATA_SECTION_NODE) {\n        return (noFormat ? '' : tabs) + `<![CDATA[${node.textContent}]]> ${noFormat ? '' : newLine}`;\n      }\n      if (!node.tagName) {\n        return this._prettifyNode(node.firstChild, level);\n      }\n      let output = (noFormat ? '' : tabs) + `<${node.tagName}`; // >\\n\n      let attr;\n      let prefix;\n      const namespaces = [];\n      let attributesOutput = '';\n      for (let i = 0; i < node.attributes.length; i++) {\n        attr = node.attributes[i];\n        prefix = '';\n        if (attr.namespaceURI) {\n          let nsIndex = namespaces.indexOf(attr.namespaceURI);\n          if (!attr.prefix) {\n            if (nsIndex < 0) {\n              namespaces.push(attr.namespaceURI);\n              nsIndex = namespaces.length - 1;\n            }\n            prefix = `ns${nsIndex + 1}:`;\n          }\n        }\n        attributesOutput += ` ${prefix}${attr.name}=\"${attr.value}\"`;\n      }\n      namespaces.forEach((ns, index) => {\n        output += ` xmlns:ns${index + 1}=\"${ns}\"`;\n      });\n      output += attributesOutput;\n      if (node.childNodes.length === 0) {\n        return output + ' />' + (!noFormat ? newLine : '');\n      }\n      output += '>';\n\n      let hasTextChild = Array.prototype.some.call(\n        node.childNodes,\n        child => child.nodeType === Node.TEXT_NODE && child.textContent.trim()\n      );\n\n      if (!noFormat && !hasTextChild) {\n        output += newLine;\n      }\n      for (let i = 0; i < node.childNodes.length; i++) {\n        output += this._prettifyNode(node.childNodes[i], level + 1, hasTextChild);\n      }\n      return output + (hasTextChild || noFormat ? '' : tabs) + `</${node.tagName}>` + (!noFormat ? newLine : '');\n    }\n  }\n});\n"
  ],
  "mappings": "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"
}