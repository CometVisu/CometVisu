{
  "version": 3,
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "extend",
    "cv",
    "ui",
    "structure",
    "pure",
    "AbstractWidget",
    "include",
    "common",
    "Refresh",
    "Update",
    "Operate",
    "properties",
    "src",
    "check",
    "nullable",
    "transform",
    "apply",
    "database",
    "delay",
    "init",
    "filter",
    "datetime",
    "mode",
    "limit",
    "timeformat",
    "itemoffset",
    "itemack",
    "future",
    "width",
    "height",
    "statics",
    "parse",
    "xml",
    "path",
    "flavour",
    "pageType",
    "data",
    "parser",
    "WidgetParser",
    "parseElement",
    "getAttributeToPropertyMappings",
    "parseFormat",
    "parseAddress",
    "parseRefresh",
    "parseInt",
    "value",
    "parseFloat",
    "query",
    "members",
    "__request",
    "__html",
    "__wrapper",
    "__fixedRequestData",
    "__external",
    "__separatordate",
    "__separatoradd",
    "__isFuture",
    "__separatorprevday",
    "normalizeUrl",
    "indexOf",
    "parts",
    "util",
    "Uri",
    "parseUri",
    "substring",
    "queryKey",
    "getDatabase",
    "_applySrc",
    "match",
    "error",
    "_getInnerDomString",
    "style",
    "getWidth",
    "getHeight",
    "getPath",
    "_setupRefreshAction",
    "_this",
    "_timer",
    "event",
    "Timer",
    "getRefresh",
    "addListener",
    "refreshRSSlog",
    "start",
    "_onDomReady",
    "$$domReady",
    "plugins",
    "RssLog",
    "superclass",
    "prototype",
    "call",
    "message",
    "Bus",
    "subscribe",
    "getParentPage",
    "getDatetime",
    "Config",
    "currentPageId",
    "_update",
    "_this2",
    "setTimeout",
    "getDelay",
    "_action",
    "brss",
    "String",
    "htmlStringToDomElement",
    "label",
    "document",
    "querySelector",
    "title",
    "innerText",
    "popup",
    "PopupHandler",
    "showPopup",
    "content",
    "parent",
    "Tree",
    "getParent",
    "Object",
    "entries",
    "margin",
    "forEach",
    "key_value",
    "stop",
    "Registration",
    "stopPropagation",
    "getCurrentDomElement",
    "classList",
    "contains",
    "getItemack",
    "once",
    "adddressSettings",
    "addr",
    "getAddress",
    "Model",
    "isWriteAddress",
    "client",
    "io",
    "BackendConnections",
    "getClient",
    "backendType",
    "write",
    "Transform",
    "encode",
    "overflow",
    "isBig",
    "getSrc",
    "__refreshRss",
    "setUserData",
    "request",
    "Xhr",
    "send",
    "refresh",
    "isEnabled",
    "_this3",
    "requestData",
    "assign",
    "getFilter",
    "f",
    "getLimit",
    "getFuture",
    "j",
    "ResourceManager",
    "getInstance",
    "toUri",
    "set",
    "accept",
    "method",
    "__updateRssContent",
    "ev",
    "getTarget",
    "getResponse",
    "__prepareContentElement",
    "ul",
    "c",
    "replaceChildren",
    "appendChild",
    "displayrows",
    "dataset",
    "innerHTML",
    "dummyDiv",
    "rect",
    "getBoundingClientRect",
    "itemheight",
    "Math",
    "round",
    "bottom",
    "top",
    "parentNode",
    "removeChild",
    "widget",
    "widgetRect",
    "displayheight",
    "labelElem",
    "labelElemRect",
    "floor",
    "last_rowcount",
    "result",
    "getResponseContentType",
    "__updateContent",
    "responseData",
    "feed",
    "items",
    "getUserData",
    "selector",
    "debug",
    "getAttribute",
    "createElement",
    "itemnum",
    "length",
    "getMode",
    "row",
    "last",
    "Date",
    "strftime",
    "i",
    "idx",
    "item",
    "itemHtml",
    "__getItemHtml",
    "rowElem",
    "dom",
    "Element",
    "create",
    "mapping",
    "mappedValue",
    "applyMapping",
    "state",
    "span",
    "defaultValue2DOM",
    "add",
    "id",
    "tags",
    "tmp",
    "Array",
    "isArray",
    "x",
    "map",
    "trim",
    "_onTap",
    "replace",
    "entryDate",
    "publishedDate",
    "getTimeformat",
    "toLocaleDateString",
    "toLocaleTimeString",
    "thisday",
    "getLink",
    "getTitle",
    "getDescription",
    "getCurrentTarget",
    "toggle",
    "req",
    "getUrl",
    "u",
    "defer",
    "loader",
    "ScriptLoader",
    "addStyles",
    "addHandler",
    "WidgetFactory",
    "registerClass"
  ],
  "sources": [
    "/home/runner/work/CometVisu/CometVisu/source/class/cv/plugins/RssLog.js"
  ],
  "sourcesContent": [
    "/* RssLog.js\n *\n * copyright (c) 2010-2022, Christian Mayer and the CometVisu contributers.\n *\n * This program is free software; you can redistribute it and/or modify it\n * under the terms of the GNU General Public License as published by the Free\n * Software Foundation; either version 3 of the License, or (at your option)\n * any later version.\n *\n * This program is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for\n * more details.\n *\n * You should have received a copy of the GNU General Public License along\n * with this program; if not, write to the Free Software Foundation, Inc.,\n * 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA\n */\n\n/**\n * @author Michael Markstaller\n * @since 2011\n * @asset(plugins/rsslog/*)\n */\nqx.Class.define('cv.plugins.RssLog', {\n  extend: cv.ui.structure.pure.AbstractWidget,\n  include: [cv.ui.common.Refresh, cv.ui.common.Update, cv.ui.common.Operate],\n\n  /*\n  ******************************************************\n    PROPERTIES\n  ******************************************************\n  */\n  properties: {\n    src: {\n      check: 'String',\n      nullable: true,\n      transform: 'normalizeUrl',\n      apply: '_applySrc'\n    },\n\n    database: {\n      check: 'String',\n      nullable: true\n    },\n\n    delay: {\n      check: 'Number',\n      init: 0\n    },\n\n    filter: {\n      check: 'String',\n      nullable: true\n    },\n\n    datetime: {\n      check: 'Boolean',\n      init: true\n    },\n\n    mode: {\n      check: 'String',\n      init: 'last'\n    },\n\n    limit: {\n      check: 'Number',\n      init: 0\n    },\n\n    timeformat: {\n      check: 'String',\n      nullable: true\n    },\n\n    itemoffset: {\n      check: 'Number',\n      init: 0\n    },\n\n    itemack: {\n      check: ['modify', 'display', 'disable'],\n      init: 'modify'\n    },\n\n    future: {\n      check: 'String',\n      nullable: true\n    },\n\n    width: {\n      check: 'String',\n      nullable: true\n    },\n\n    height: {\n      check: 'String',\n      nullable: true\n    }\n  },\n\n  /*\n  ******************************************************\n    STATICS\n  ******************************************************\n  */\n  statics: {\n    /**\n     * Parses the widgets XML configuration and extracts the given information\n     * to a simple key/value map.\n     *\n     * @param xml {Element} XML-Element\n     * @param path {String} internal path of the widget\n     * @param flavour {String} Flavour of the widget\n     * @param pageType {String} Page type (2d, 3d, ...)\n     * @return {Map} extracted data from config element as key/value map\n     */\n    parse(xml, path, flavour, pageType) {\n      const data = cv.parser.pure.WidgetParser.parseElement(\n        this,\n        xml,\n        path,\n        flavour,\n        pageType,\n        this.getAttributeToPropertyMappings()\n      );\n\n      cv.parser.pure.WidgetParser.parseFormat(xml, path);\n      cv.parser.pure.WidgetParser.parseAddress(xml, path);\n      cv.parser.pure.WidgetParser.parseRefresh(xml, path);\n      return data;\n    },\n\n    getAttributeToPropertyMappings() {\n      return {\n        src: {},\n        database: {},\n        delay: { default: 0, transform: parseInt },\n        width: {},\n        height: {},\n        filter: {},\n        datetime: {\n          default: true,\n          transform(value) {\n            if (typeof value === 'boolean') {\n              return value;\n            }\n            return value === 'true';\n          }\n        },\n\n        mode: { default: 'last' },\n        limit: { default: 0, transform: parseFloat },\n        timeformat: {},\n        itemack: { default: 'modify' }, // allowed: modify, display, disable\n        future: {},\n        query: {}\n      };\n    }\n  },\n\n  /*\n  ******************************************************\n    MEMBERS\n  ******************************************************\n  */\n  members: {\n    __request: null,\n    __html: null,\n    __wrapper: null,\n    __fixedRequestData: null,\n    __external: false,\n\n    __separatordate: null,\n    __separatoradd: null,\n    __isFuture: null,\n    __separatorprevday: null,\n\n    /**\n     * Strip querystring from URL and store it as Map\n     * @param value {String} URL\n     * @return {String} normalized URL\n     */\n    normalizeUrl(value) {\n      this.__fixedRequestData = {};\n      if (value && value.indexOf('?') > 0) {\n        const parts = qx.util.Uri.parseUri(value);\n        value = value.substring(0, value.indexOf('?'));\n        this.__fixedRequestData = parts.queryKey;\n      }\n      if (this.getDatabase()) {\n        this.__fixedRequestData.database = this.getDatabase();\n      }\n      return value;\n    },\n\n    // property apply\n    _applySrc(value) {\n      if (value.match(/rsslog_mysql\\.php/)) {\n        this.error('Use of rsslog_mysql.php is depreciated. Please consult the documentation.');\n      }\n      this.__external =\n        !value.match(/rsslog\\.php/) && !value.match(/rsslog_mysql\\.php/) && !value.match(/rsslog_oh\\.php/);\n    },\n\n    _getInnerDomString() {\n      let style = '';\n      if (this.getWidth()) {\n        style += 'width:' + this.getWidth() + ';';\n      }\n      if (this.getHeight()) {\n        style += 'height:' + this.getHeight();\n      }\n\n      return (\n        '<div class=\"actor rsslogBody\"><div class=\"rsslog_inline\" id=\"rss_' +\n        this.getPath() +\n        '\" style=\"' +\n        style +\n        '\"></div></div>'\n      );\n    },\n\n    _setupRefreshAction() {\n      this._timer = new qx.event.Timer(this.getRefresh());\n      this._timer.addListener('interval', () => {\n        this.refreshRSSlog();\n      });\n      this._timer.start();\n    },\n\n    _onDomReady() {\n      if (!this.$$domReady) {\n        super._onDomReady();\n        qx.event.message.Bus.subscribe(\n          'path.' + this.getParentPage().getPath() + '.beforePageChange',\n          this.refreshRSSlog,\n          this\n        );\n\n        this.__html = '<span class=\"mappedValue\"></span><span>{text}</span>';\n        if (this.getDatetime()) {\n          this.__html = '{date}: ' + this.__html;\n        }\n        this.__wrapper = 'li';\n\n        if (cv.Config.currentPageId === this.getParentPage().getPath()) {\n          this.refreshRSSlog();\n        }\n      }\n    },\n\n    _update() {\n      setTimeout(() => this.refreshRSSlog(), this.getDelay());\n    },\n\n    _action() {\n      const brss = cv.util.String.htmlStringToDomElement(\n        '<div class=\"rsslog_popup\" id=\"rss_' + this.getPath() + '_big\"/>'\n      );\n\n      const label = document.querySelector('#' + this.getPath() + ' .label');\n      const title = label ? label.innerText || '' : '';\n      const popup = cv.ui.PopupHandler.showPopup('rsslog', {\n        title: title,\n        content: brss\n      });\n\n      const parent = cv.util.Tree.getParent(brss, 'div', null, 1)[0];\n      Object.entries({ height: '90%', width: '90%', margin: 'auto' }).forEach(function (key_value) {\n        parent.style[key_value[0]] = key_value[1];\n      });\n\n      // define parent as 100%!\n      if (this._timer) {\n        this._timer.stop();\n      }\n      qx.event.Registration.addListener(\n        brss,\n        'tap',\n        function (event) {\n          // don't let the popup know about the click, or it will close on touch-displays\n          event.stopPropagation();\n        },\n        this\n      );\n\n      qx.event.Registration.addListener(\n        popup,\n        'close',\n        function () {\n          // reload main data - but only once (popup and popup_background are caught\n          // here).\n          // But delay it so that any change done to the data has a chance to\n          // arrive here.\n\n          if (\n            popup.getCurrentDomElement() &&\n            popup.getCurrentDomElement().classList.contains('popup') &&\n            this.getItemack() === 'modify'\n          ) {\n            qx.event.Timer.once(\n              function () {\n                this.refreshRSSlog();\n              },\n              this,\n              100\n            );\n\n            let adddressSettings;\n            for (let addr in this.getAddress()) {\n              adddressSettings = this.getAddress()[addr];\n              if (!cv.data.Model.isWriteAddress(adddressSettings)) {\n                continue;\n              } // skip when write flag not set\n              const client = cv.io.BackendConnections.getClient(adddressSettings.backendType);\n              if (client) {\n                client.write(addr, cv.Transform.encode(this.getAddress()[addr], 0));\n              }\n            }\n          }\n        },\n        this\n      );\n\n      popup.getCurrentDomElement().querySelector('.main').style.overflow = 'auto';\n      this.refreshRSSlog(true);\n    },\n\n    refreshRSSlog(isBig) {\n      const src = this.getSrc();\n      if (!src) {\n        this.error('no src given, aborting RSS-Log refresh');\n        return;\n      }\n      if (!this.__request) {\n        if (!this.__external) {\n          this.__refreshRss();\n        } else {\n          this.error('external sources are no longer supported');\n        }\n      }\n      this.__request.setUserData('big', isBig);\n      if (this.__request instanceof qx.io.request.Xhr) {\n        this.__request.send();\n      }\n\n      const refresh = this.getRefresh();\n      if (typeof refresh !== 'undefined' && refresh) {\n        // reload regularly\n        if (this._timer && this._timer.isEnabled()) {\n          this._timer.start();\n        }\n      }\n    },\n\n    /**\n     * Fetch data from builtin PHP script\n     */\n    __refreshRss() {\n      const src = this.getSrc();\n      const requestData = Object.assign({}, this.__fixedRequestData);\n      if (this.getFilter()) {\n        requestData.f = this.getFilter();\n      }\n      if (this.getLimit()) {\n        requestData.limit = this.getLimit();\n      }\n      if (this.getFuture()) {\n        requestData.future = this.getFuture();\n      }\n      requestData.j = 1;\n      this.__request = new qx.io.request.Xhr(qx.util.ResourceManager.getInstance().toUri(src));\n\n      this.__request.set({\n        accept: 'application/json',\n        requestData: requestData,\n        method: 'GET'\n      });\n\n      this.__request.addListener('success', this.__updateRssContent, this);\n      this.__request.addListener('error', ev => {\n        this.error('C: #rss_%s, Error: %s, Feed: %s', this.getPath(), ev.getTarget().getResponse(), src);\n      });\n    },\n\n    __prepareContentElement(ul, c) {\n      c.replaceChildren(); // delete anything inside\n\n      c.appendChild(ul);\n\n      // get height of one entry, calc max num of display items in widget\n      let displayrows = parseInt(c.dataset['last_rowcount'], 10) || 0;\n      ul.innerHTML = '<li class=\"rsslogRow odd\" id=\"dummydiv\">.</li>';\n      const dummyDiv = c.querySelector('#dummydiv');\n      const rect = dummyDiv.getBoundingClientRect();\n      const itemheight = Math.round(rect.bottom - rect.top);\n      dummyDiv.parentNode.removeChild(dummyDiv);\n      if (itemheight !== 0) {\n        const widget = c.parentNode.parentNode; // get the parent widget\n        const widgetRect = widget.getBoundingClientRect();\n        let displayheight = Math.round(widgetRect.bottom - widgetRect.top);\n        const labelElem = widget.querySelector('.label');\n        if (labelElem) {\n          // max. height of actor is widget-label(if exists)\n          const labelElemRect = labelElem.getBoundingClientRect();\n          displayheight -= Math.round(labelElemRect.bottom - labelElemRect.top);\n        }\n        displayrows = Math.floor(displayheight / itemheight);\n      }\n      c.dataset.last_rowcount = displayrows;\n      return displayrows;\n    },\n\n    __updateRssContent(ev) {\n      const result = ev.getTarget().getResponse();\n      if (typeof result === 'string') {\n        // no json -> error\n        this.error('Expected JSON, but got response MIME:', ev.getTarget().getResponseContentType());\n\n        this.error(result);\n        return;\n      }\n      this.__updateContent(result.responseData.feed.entries);\n    },\n\n    __updateContent(items) {\n      const isBig = this.__request.getUserData('big');\n      const selector = '#rss_' + this.getPath() + (isBig === true ? '_big' : '');\n      const c = document.querySelector(selector);\n      const itemack =\n        isBig === true ? this.getItemack() : this.getItemack() === 'modify' ? 'display' : this.getItemack();\n\n      this.debug('ID: ' + c.getAttribute('id') + ', Feed: ' + this.getSrc());\n\n      const ul = document.createElement('ul');\n      const displayrows = this.__prepareContentElement(ul, c);\n\n      const itemnum = items.length;\n      this.debug(\n        'C: #' + this.getPath() + ', ' + itemnum + ' element(s) found, ' + displayrows + ' displayrow(s) available'\n      );\n\n      let itemoffset = 0; // correct if mode='last' or itemnum<=displayrows\n\n      if (itemnum > displayrows) {\n        // no need to check mode if items are less than rows\n        if (this.getMode() === 'first') {\n          itemoffset = itemnum - displayrows;\n        }\n        if (this.getMode() === 'rollover') {\n          itemoffset = parseInt(c.dataset.itemoffset, 10) || 0;\n          if (itemoffset === itemnum) {\n            itemoffset = 0;\n          }\n          c.dataset.itemoffset = itemoffset + 1;\n        }\n      }\n\n      let row = 'rsslogodd';\n      let last = itemoffset + displayrows;\n      last = last > itemnum ? itemnum : last;\n\n      this.__separatordate = new Date().strftime('%d');\n      this.__separatoradd = false;\n      this.__separatorprevday = false;\n      this.__isFuture = false;\n\n      for (let i = itemoffset; i < last; i++) {\n        this.debug('C: #' + this.getPath() + ', processing item: ' + i + ' of ' + itemnum);\n\n        let idx = i;\n        idx = i >= itemnum ? (idx -= itemnum) : idx;\n\n        const item = items[idx];\n        const itemHtml = this.__getItemHtml(item, isBig);\n\n        const rowElem = qx.dom.Element.create('li', {\n          class: 'rsslogRow ' + row\n        });\n\n        rowElem.innerHTML = itemHtml;\n\n        if (item.mapping && item.mapping !== '') {\n          const mappedValue = this.applyMapping(itemack === 'disable' ? 0 : item.state, item.mapping);\n\n          const span = rowElem.querySelector('.mappedValue');\n          this.defaultValue2DOM(mappedValue, span);\n        }\n        if (this.__separatoradd && idx !== 0) {\n          rowElem.classList.add('rsslog_separator');\n          this.__separatorprevday = true;\n        } else {\n          this.__separatorprevday = false;\n        }\n\n        if (this.__separatorprevday === true) {\n          rowElem.classList.add('rsslog_prevday');\n        }\n\n        if (this.__isFuture) {\n          rowElem.classList.add(row === 'rsslogodd' ? 'rsslog_futureeven' : 'rsslog_futureodd');\n        }\n\n        rowElem.dataset.id = item.id;\n        rowElem.dataset.mapping = item.mapping;\n        if (item.tags) {\n          const tmp = rowElem.querySelector('span');\n          if (Array.isArray(item.tags)) {\n            const tags = item.tags.filter(x => x !== '').map(x => x.trim());\n            if (tags.length > 0) {\n              tmp.classList.add.apply(tmp.classList, item.tags);\n            }\n          } else {\n            tmp.classList.add(item.tags.trim());\n          }\n        }\n        if (item.state === '1' && itemack !== 'disable') {\n          rowElem.classList.add('rsslog_ack');\n        }\n\n        if (itemack === 'modify') {\n          qx.event.Registration.addListener(rowElem, 'tap', this._onTap, this);\n        }\n        ul.appendChild(rowElem);\n\n        // Alternate row classes\n        row = row === 'rsslogodd' ? 'rsslogeven' : 'rsslogodd';\n      }\n    },\n\n    __getItemHtml(item, isBig) {\n      let itemHtml = '';\n      if (!this.__external) {\n        itemHtml = this.__html;\n\n        itemHtml = itemHtml.replace(/\\{text\\}/, item.content);\n        const entryDate = new Date(item.publishedDate);\n        if (entryDate) {\n          itemHtml = this.getTimeformat()\n            ? itemHtml.replace(/\\{date\\}/, entryDate.strftime(this.getTimeformat()) + '&nbsp;')\n            : itemHtml.replace(\n                /\\{date\\}/,\n                entryDate.toLocaleDateString() + ' ' + entryDate.toLocaleTimeString() + '&nbsp;'\n              );\n\n          const thisday = entryDate.strftime('%d');\n          this.__separatoradd = this.__separatordate > 0 && this.__separatordate !== thisday;\n          this.__separatordate = thisday;\n          this.__isFuture = entryDate > new Date();\n        } else {\n          itemHtml = itemHtml.replace(/\\{date\\}/, '');\n        }\n      } else {\n        if (isBig) {\n          return '<b><a href=\"' + item.getLink() + '\">' + item.getTitle() + '</a></b><br/>' + item.getDescription();\n        }\n        return '<b>' + item.getTitle() + '</b><br/>' + item.getDescription();\n      }\n\n      return itemHtml;\n    },\n\n    _onTap(ev) {\n      const item = ev.getCurrentTarget();\n\n      const id = item.dataset.id;\n      const mapping = item.dataset.mapping;\n      item.classList.toggle('rsslog_ack');\n      const state = +item.classList.contains('rsslog_ack'); // the new state is the same as hasClass\n      if (mapping && mapping !== '') {\n        const mappedValue = this.applyMapping(state, mapping);\n        let span = item.querySelector('.mappedValue');\n        span.replaceChildren(); // delete anything inside\n        this.defaultValue2DOM(mappedValue, span);\n      }\n      const req = new qx.io.request.Xhr(this.__request.getUrl());\n      req.set({\n        method: 'GET',\n        requestData: Object.assign({}, this.__fixedRequestData, {\n          u: id,\n          state: state\n        }),\n\n        accept: 'application/json'\n      });\n\n      req.send();\n    }\n  },\n\n  defer(statics) {\n    const loader = cv.util.ScriptLoader.getInstance();\n    loader.addStyles('plugins/rsslog/rsslog.css');\n    cv.parser.pure.WidgetParser.addHandler('rsslog', cv.plugins.RssLog);\n    cv.ui.structure.WidgetFactory.registerClass('rsslog', statics);\n  }\n});\n"
  ],
  "mappings": "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",
  "ignoreList": []
}