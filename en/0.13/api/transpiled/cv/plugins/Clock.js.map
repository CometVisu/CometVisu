{
  "version": 3,
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "extend",
    "cv",
    "ui",
    "structure",
    "pure",
    "AbstractWidget",
    "include",
    "common",
    "Update",
    "Operate",
    "construct",
    "props",
    "value",
    "Date",
    "setHours",
    "__timeToShow",
    "__Elements",
    "properties",
    "src",
    "check",
    "srcPopup",
    "titlePopup",
    "hide24h",
    "init",
    "hide24hPopup",
    "hideAMPM",
    "hideAMPMPopup",
    "hideDigits",
    "hideDigitsPopup",
    "hideSeconds",
    "hideSecondsPopup",
    "sendOnFinish",
    "statics",
    "parse",
    "xml",
    "path",
    "flavour",
    "pageType",
    "data",
    "parser",
    "WidgetParser",
    "parseElement",
    "getAttributeToPropertyMappings",
    "parseFormat",
    "parseAddress",
    "transformValueTrue",
    "src_popup",
    "target",
    "title_popup",
    "hide_24h",
    "transform",
    "hide_24h_popup",
    "hide_am_pm",
    "hide_am_pm_popup",
    "hide_digits",
    "hide_digits_popup",
    "hide_seconds",
    "hide_seconds_popup",
    "send_on_finish",
    "getElements",
    "svg",
    "elements",
    "hour24",
    "querySelector",
    "hour",
    "minute",
    "second",
    "am",
    "pm",
    "digits",
    "tspan",
    "hour24Group",
    "setAttribute",
    "members",
    "__svg",
    "__inDrag",
    "__valueIsString",
    "_getInnerDomString",
    "_onDomReady",
    "__throttled",
    "util",
    "Function",
    "throttle",
    "dragAction",
    "trailing",
    "uri",
    "ResourceManager",
    "getInstance",
    "toUri",
    "getSrc",
    "uriPopup",
    "getSrcPopup",
    "promises",
    "window",
    "fetch",
    "push",
    "Promise",
    "all",
    "then",
    "responses",
    "result",
    "ok",
    "Error",
    "text",
    "texts",
    "actor",
    "getActor",
    "innerHTML",
    "firstElementChild",
    "getAttribute",
    "width",
    "height",
    "plugins",
    "Clock",
    "getHide24h",
    "getHideAMPM",
    "getHideDigits",
    "getHideSeconds",
    "length",
    "popup",
    "document",
    "createElement",
    "title",
    "getTitlePopup",
    "addEventListener",
    "PopupHandler",
    "showPopup",
    "content",
    "getHide24hPopup",
    "getHideAMPMPopup",
    "getHideDigitsPopup",
    "getHideSecondsPopup",
    "HotSpotHour",
    "HotSpotMinute",
    "HotSpotSecond",
    "_updateHands",
    "error",
    "initListeners",
    "_update",
    "address",
    "isDataAlreadyHandled",
    "applyTransform",
    "getHours",
    "getMinutes",
    "getSeconds",
    "setValue",
    "split",
    "date",
    "handleEvent",
    "event",
    "dragMode",
    "none",
    "type",
    "id",
    "preventDefault",
    "stopPropagation",
    "buttons",
    "dragHelper",
    "removeEventListener",
    "getSendOnFinish",
    "call",
    "CTM",
    "getScreenCTM",
    "x",
    "clientX",
    "e",
    "a",
    "y",
    "clientY",
    "f",
    "d",
    "angle",
    "Math",
    "atan2",
    "PI",
    "time",
    "getValue",
    "minutes",
    "oldHours",
    "hours",
    "floor",
    "setDate",
    "getDate",
    "setMinutes",
    "round",
    "oldMinutes",
    "setSeconds",
    "seconds",
    "oldSeconds",
    "toTimeString",
    "__lastBusValue",
    "sendToBackend",
    "Array",
    "isArray",
    "forEach",
    "showSeconds",
    "textContent",
    "sprintf",
    "defer",
    "addHandler",
    "WidgetFactory",
    "registerClass"
  ],
  "sources": [
    "/home/runner/work/CometVisu/CometVisu/source/class/cv/plugins/Clock.js"
  ],
  "sourcesContent": [
    "/* Clock.js\n *\n * copyright (c) 2010-2022, Christian Mayer and the CometVisu contributers.\n *\n * This program is free software; you can redistribute it and/or modify it\n * under the terms of the GNU General Public License as published by the Free\n * Software Foundation; either version 3 of the License, or (at your option)\n * any later version.\n *\n * This program is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for\n * more details.\n *\n * You should have received a copy of the GNU General Public License along\n * with this program; if not, write to the Free Software Foundation, Inc.,\n * 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA\n */\n\n/**\n * @asset(plugins/clock/*)\n */\nqx.Class.define('cv.plugins.Clock', {\n  extend: cv.ui.structure.pure.AbstractWidget,\n  include: [cv.ui.common.Update, cv.ui.common.Operate],\n  /*\n  ***********************************************\n    CONSTRUCTOR\n  ***********************************************\n  */\n  construct(props) {\n    props.value = new Date();\n    props.value.setHours(0, 0, 0, 0);\n    this.__timeToShow = [0, 0, 0];\n    this.__Elements = [];\n    super(props);\n  },\n\n  /*\n  ******************************************************\n  PROPERTIES\n  ******************************************************\n  */\n  properties: {\n    src: {\n      check: 'String'\n    },\n\n    srcPopup: {\n      check: 'String'\n    },\n\n    titlePopup: {\n      check: 'String'\n    },\n\n    hide24h: {\n      check: 'Boolean',\n      init: false\n    },\n\n    hide24hPopup: {\n      check: 'Boolean',\n      init: false\n    },\n\n    hideAMPM: {\n      check: 'Boolean',\n      init: false\n    },\n\n    hideAMPMPopup: {\n      check: 'Boolean',\n      init: false\n    },\n\n    hideDigits: {\n      check: 'Boolean',\n      init: false\n    },\n\n    hideDigitsPopup: {\n      check: 'Boolean',\n      init: false\n    },\n\n    hideSeconds: {\n      check: 'Boolean',\n      init: false\n    },\n\n    hideSecondsPopup: {\n      check: 'Boolean',\n      init: false\n    },\n\n    sendOnFinish: {\n      check: 'Boolean',\n      init: false\n    }\n  },\n\n  /*\n  ******************************************************\n    STATICS\n  ******************************************************\n  */\n  statics: {\n    /**\n     * Parses the widgets XML configuration and extracts the given information\n     * to a simple key/value map.\n     *\n     * @param xml {Element} XML-Element\n     * @param path {String} internal path of the widget\n     * @param flavour {String} Flavour of the widget\n     * @param pageType {String} Page type (2d, 3d, ...)\n     * @return {Map} extracted data from config element as key/value map\n     */\n    parse(xml, path, flavour, pageType) {\n      const data = cv.parser.pure.WidgetParser.parseElement(\n        this,\n        xml,\n        path,\n        flavour,\n        pageType,\n        this.getAttributeToPropertyMappings()\n      );\n\n      cv.parser.pure.WidgetParser.parseFormat(xml, path);\n      cv.parser.pure.WidgetParser.parseAddress(xml, path);\n      return data;\n    },\n\n    getAttributeToPropertyMappings() {\n      let transformValueTrue = function (value) {\n        return value === 'true';\n      };\n\n      return {\n        src: {\n          default: 'plugins/clock/clock_pure.svg'\n        },\n\n        src_popup: {\n          target: 'srcPopup',\n          default: ''\n        },\n\n        title_popup: {\n          target: 'titlePopup',\n          default: ''\n        },\n\n        hide_24h: {\n          target: 'hide24h',\n          default: false,\n          transform: transformValueTrue\n        },\n\n        hide_24h_popup: {\n          target: 'hide24hPopup',\n          default: false,\n          transform: transformValueTrue\n        },\n\n        hide_am_pm: {\n          target: 'hideAMPM',\n          default: false,\n          transform: transformValueTrue\n        },\n\n        hide_am_pm_popup: {\n          target: 'hideAMPMPopup',\n          default: false,\n          transform: transformValueTrue\n        },\n\n        hide_digits: {\n          target: 'hideDigits',\n          default: false,\n          transform: transformValueTrue\n        },\n\n        hide_digits_popup: {\n          target: 'hideDigitsPopup',\n          default: false,\n          transform: transformValueTrue\n        },\n\n        hide_seconds: {\n          target: 'hideSeconds',\n          default: false,\n          transform: transformValueTrue\n        },\n\n        hide_seconds_popup: {\n          target: 'hideSecondsPopup',\n          default: false,\n          transform: transformValueTrue\n        },\n\n        send_on_finish: {\n          target: 'sendOnFinish',\n          default: false,\n          transform: transformValueTrue\n        }\n      };\n    },\n\n    getElements(svg, hide24h, hideAMPM, hideDigits, hideSeconds) {\n      let elements = {\n        hour24: svg.querySelector('#Hour24'),\n        hour: svg.querySelector('#Hour'),\n        minute: svg.querySelector('#Minute'),\n        second: svg.querySelector('#Second'),\n        am: svg.querySelector('#AM'),\n        pm: svg.querySelector('#PM'),\n        digits: svg.querySelector('#Digits')\n      };\n\n      let tspan;\n      while (elements.digits !== null && (tspan = elements.digits.querySelector('tspan')) !== null) {\n        elements.digits = tspan;\n      }\n      let hour24Group = svg.querySelector('#Hour24Group');\n\n      if (hide24h && hour24Group !== null) {\n        hour24Group.setAttribute('display', 'none');\n      }\n      if (hideAMPM) {\n        if (elements.am !== null) {\n          elements.am.setAttribute('display', 'none');\n          elements.am = null;\n        }\n        if (elements.pm !== null) {\n          elements.pm.setAttribute('display', 'none');\n          elements.pm = null;\n        }\n      }\n      if (hideDigits && elements.digits !== null) {\n        elements.digits.setAttribute('display', 'none');\n      }\n      if (hideSeconds && elements.second !== null) {\n        elements.second.setAttribute('display', 'none');\n      }\n\n      return elements;\n    }\n  },\n\n  /*\n  ******************************************************\n    MEMBERS\n  ******************************************************\n  */\n  members: {\n    __svg: null, // cached access to the SVG in the DOM\n    __Elements: null, // cached access to the individual clock parts\n    __inDrag: 0, // is the handle currently dragged?\n    __timeToShow: null, // time to show on the clock\n    /**\n     *  to handle legacy mode, when a time string is used and not a `Date` object\n     */\n    __valueIsString: false,\n\n    _getInnerDomString() {\n      return '<div class=\"actor\" style=\"width:100%;height:100%\"></div>';\n    },\n\n    _onDomReady() {\n      super._onDomReady();\n\n      this.__throttled = cv.util.Function.throttle(this.dragAction, 250, { trailing: true }, this);\n\n      let uri = qx.util.ResourceManager.getInstance().toUri(this.getSrc());\n      let uriPopup = this.getSrcPopup();\n      let promises = [window.fetch(uri)];\n      if (uriPopup !== '') {\n        uriPopup = qx.util.ResourceManager.getInstance().toUri(uriPopup);\n        promises.push(window.fetch(uriPopup));\n      }\n      Promise.all(promises)\n        .then(responses => {\n          let result = [];\n          if (!responses[0].ok) {\n            throw new Error('Not 2xx response for URI \"' + uri + '\"');\n          } else {\n            result.push(responses[0].text());\n          }\n          if (uriPopup !== '') {\n            if (!responses[1].ok) {\n              throw new Error('Not 2xx response for popup URI \"' + uriPopup + '\"');\n            } else {\n              result.push(responses[1].text());\n            }\n          }\n          return Promise.all(result);\n        })\n        .then(texts => {\n          let actor = this.getActor();\n          actor.innerHTML = texts[0];\n          let svg = actor.firstElementChild;\n\n          // make sure that the SVG fits exactly to the available space\n          if (!svg.getAttribute('viewBox')) {\n            // fix SVGs that don't contain a viewBox\n            let width = svg.getAttribute('width') || 300;\n            let height = svg.getAttribute('height') || 150;\n            svg.setAttribute('viewBox', '0 0 ' + width + ' ' + height);\n          }\n          svg.setAttribute('width', '100%');\n          svg.setAttribute('height', '100%');\n          this.__Elements = [\n            cv.plugins.Clock.getElements(\n              svg,\n              this.getHide24h(),\n              this.getHideAMPM(),\n              this.getHideDigits(),\n              this.getHideSeconds()\n            )\n          ];\n\n          if (texts.length > 1) {\n            let popup = document.createElement('div');\n            let title = this.getTitlePopup();\n            popup.setAttribute('style', 'width:100%;height:100%;position:absolute;');\n\n            popup.innerHTML = texts[1];\n\n            svg.addEventListener('click', function () {\n              cv.ui.PopupHandler.showPopup('clock', {\n                title: title,\n                content: popup\n              });\n            });\n            svg = popup.firstElementChild;\n\n            // make sure that also this SVG fits exactly to the available space\n            if (!svg.getAttribute('viewBox')) {\n              // fix SVGs that don't contain a viewBox\n              let width = svg.getAttribute('width') || 300;\n              let height = svg.getAttribute('height') || 150;\n              svg.setAttribute('viewBox', '0 0 ' + width + ' ' + height);\n            }\n            svg.setAttribute('width', '100%');\n            svg.setAttribute('height', '100%');\n\n            this.__Elements.push(\n              cv.plugins.Clock.getElements(\n                svg,\n                this.getHide24hPopup(),\n                this.getHideAMPMPopup(),\n                this.getHideDigitsPopup(),\n                this.getHideSecondsPopup()\n              )\n            );\n          }\n\n          svg.setAttribute('style', 'touch-action: none'); // prevent scroll interference\n\n          let HotSpotHour = svg.querySelector('#HotSpotHour');\n          if (HotSpotHour) {\n            HotSpotHour.addEventListener('pointerdown', this);\n          }\n          let HotSpotMinute = svg.querySelector('#HotSpotMinute');\n          if (HotSpotMinute) {\n            HotSpotMinute.addEventListener('pointerdown', this);\n          }\n          let HotSpotSecond = svg.querySelector('#HotSpotSecond');\n          if (HotSpotSecond) {\n            HotSpotSecond.addEventListener('pointerdown', this);\n          }\n          this.__svg = svg;\n          this._updateHands();\n        })\n        .catch(error => {\n          this.error('There has been a problem with the reading of the clock SVG:', error);\n        });\n    },\n\n    // overridden\n    initListeners() {},\n\n    // overridden\n    _update(address, data, isDataAlreadyHandled) {\n      let value = isDataAlreadyHandled ? data : this.applyTransform(address, data);\n      if (value instanceof Date) {\n        this.__valueIsString = false;\n        this.__timeToShow = [value.getHours(), value.getMinutes(), value.getSeconds()];\n\n        this.setValue(value);\n      } else {\n        this.__valueIsString = true;\n        this.__timeToShow = typeof value === 'string' ? value.split(':') : [0, 0, 0];\n        this.__timeToShow[0] = this.__timeToShow[0] >= 0 && this.__timeToShow[0] <= 23 ? this.__timeToShow[0] : 0;\n        this.__timeToShow[1] = this.__timeToShow[1] >= 0 && this.__timeToShow[1] <= 59 ? this.__timeToShow[1] : 0;\n        this.__timeToShow[2] = this.__timeToShow[2] >= 0 && this.__timeToShow[2] <= 59 ? this.__timeToShow[2] : 0;\n        let date = new Date(); // assume today\n        date.setHours(this.__timeToShow[0], this.__timeToShow[1], this.__timeToShow[2], 0);\n\n        this.setValue(date);\n      }\n      this._updateHands();\n    },\n\n    handleEvent(event) {\n      const dragMode = {\n        none: 0,\n        hour: 1,\n        minute: 2,\n        second: 3\n      };\n\n      switch (event.type) {\n        case 'pointerdown':\n          switch (event.target.id) {\n            case 'HotSpotHour':\n              this.__inDrag = dragMode.hour;\n              break;\n\n            case 'HotSpotMinute':\n              this.__inDrag = dragMode.minute;\n              break;\n\n            case 'HotSpotSecond':\n              this.__inDrag = dragMode.second;\n              break;\n\n            default:\n              this.__inDrag = dragMode.none;\n              return; // early exit\n          }\n          document.addEventListener('pointermove', this);\n          document.addEventListener('pointerup', this);\n          event.preventDefault();\n          event.stopPropagation();\n          break;\n\n        case 'pointermove':\n          if (this.__inDrag === dragMode.none) {\n            return;\n          }\n          event.preventDefault();\n          event.stopPropagation();\n          if (event.buttons > 0) {\n            this.dragHelper(event);\n            break;\n          }\n        // pass through to end drag when no buttons are pressed anymore\n\n        // eslint-disable-next-line no-fallthrough\n        case 'pointerup':\n        case 'pointercancel':\n          this.dragHelper(event);\n          this.__inDrag = dragMode.none;\n          document.removeEventListener('pointermove', this);\n          document.removeEventListener('pointerup', this);\n          break;\n      }\n\n      if (!this.getSendOnFinish() || event.type === 'pointerup') {\n        this.__throttled.call();\n      }\n    },\n\n    dragHelper(event) {\n      const dragMode = {\n        none: 0,\n        hour: 1,\n        minute: 2,\n        second: 3\n      };\n\n      let CTM = this.__svg.getScreenCTM(); // get the Current Transformation Matrix\n      let x = (event.clientX - CTM.e) / CTM.a - 60;\n      let y = 60 - (event.clientY - CTM.f) / CTM.d;\n      let angle = ((Math.atan2(x, y) * 180) / Math.PI + 360) % 360;\n\n      let time = this.getValue();\n      let minutes;\n      switch (this.__inDrag) {\n        case dragMode.hour: {\n          let oldHours = time.getHours();\n          let pm = oldHours >= 12;\n          let hours = Math.floor(angle / 30);\n          minutes = (angle % 30) * 2;\n\n          if (oldHours % 12 > 9 && hours < 3) {\n            if (pm) {\n              pm = false;\n              time.setDate(time.getDate() + 1);\n            } else {\n              pm = true;\n            }\n          } else if (hours > 9 && oldHours % 12 < 3) {\n            if (pm) {\n              pm = false;\n            } else {\n              pm = true;\n              time.setDate(time.getDate() - 1);\n            }\n          }\n\n          time.setHours(hours + pm * 12);\n          time.setMinutes(minutes);\n          break;\n        }\n\n        case dragMode.minute: {\n          if (this.getHideSeconds()) {\n            minutes = Math.round(angle / 6);\n          } else {\n            minutes = Math.floor(angle / 6);\n          }\n          let oldMinutes = time.getMinutes();\n\n          if (oldMinutes > 45 && minutes < 15) {\n            time.setHours(time.getHours() + 1);\n          } else if (minutes > 45 && oldMinutes < 15) {\n            time.setHours(time.getHours() - 1);\n          }\n          time.setMinutes(minutes);\n          time.setSeconds((angle % 6) * 10);\n          break;\n        }\n\n        case dragMode.second: {\n          let seconds = Math.round(angle / 6) % 60;\n          let oldSeconds = time.getSeconds();\n\n          if (oldSeconds > 45 && seconds < 15) {\n            time.setMinutes(time.getMinutes() + 1);\n          } else if (seconds > 45 && oldSeconds < 15) {\n            time.setMinutes(time.getMinutes() - 1);\n          }\n          time.setSeconds(seconds);\n          break;\n        }\n      }\n\n      if (this.getHideSeconds()) {\n        time.setSeconds(0);\n      }\n      this.__timeToShow = [time.getHours(), time.getMinutes(), time.getSeconds()];\n\n      this._updateHands();\n    },\n\n    dragAction() {\n      const value = this.__valueIsString ? this.getValue().toTimeString().split(' ')[0] : this.getValue();\n      this.__lastBusValue = this.sendToBackend(value, false, this.__lastBusValue);\n    },\n\n    _updateHands() {\n      const [hour, minute, second] = this.__timeToShow;\n      Array.isArray(this.__Elements) &&\n        this.__Elements.forEach(e => {\n          let showSeconds = true;\n          if (e.hour !== null) {\n            if (showSeconds) {\n              e.hour.setAttribute(\n                'transform',\n                'rotate(' + (((hour % 12) * 360) / 12 + (minute * 30) / 60 + (second * 30) / 60 / 60) + ',0,0)'\n              );\n            } else {\n              e.hour.setAttribute('transform', 'rotate(' + (((hour % 12) * 360) / 12 + (minute * 30) / 60) + ',0,0)');\n            }\n          }\n          if (e.minute !== null) {\n            if (showSeconds) {\n              e.minute.setAttribute('transform', 'rotate(' + (minute * 6 + (second * 6) / 60) + ',0,0)');\n            } else {\n              e.minute.setAttribute('transform', 'rotate(' + minute * 6 + ',0,0)');\n            }\n          }\n          if (e.second !== null) {\n            e.second.setAttribute('transform', 'rotate(' + second * 6 + ',0,0)');\n          }\n          if (e.hour24 !== null) {\n            e.hour24.setAttribute('transform', 'rotate(' + (((hour % 24) * 360) / 24 + (minute * 15) / 60) + ',0,0)');\n          }\n          if (e.am !== null) {\n            e.am.setAttribute('display', hour < 12 ? '' : 'none');\n          }\n          if (e.pm !== null) {\n            e.pm.setAttribute('display', hour < 12 ? 'none' : '');\n          }\n          if (e.digits !== null) {\n            if (this.getHideSeconds()) {\n              e.digits.textContent = sprintf('%02d:%02d', hour, minute);\n            } else {\n              e.digits.textContent = sprintf('%02d:%02d:%02d', hour, minute, second);\n            }\n          }\n        });\n    }\n  },\n\n  defer(statics) {\n    cv.parser.pure.WidgetParser.addHandler('clock', cv.plugins.Clock);\n    cv.ui.structure.WidgetFactory.registerClass('clock', statics);\n  }\n});\n"
  ],
  "mappings": "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"
}