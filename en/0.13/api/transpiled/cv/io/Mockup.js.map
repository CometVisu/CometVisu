{
  "version": 3,
  "sources": [
    "/home/runner/work/CometVisu/CometVisu/source/class/cv/io/Mockup.js"
  ],
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "extend",
    "core",
    "Object",
    "implement",
    "cv",
    "io",
    "IClient",
    "construct",
    "Client",
    "CLIENTS",
    "push",
    "window",
    "_receive",
    "receive",
    "bind",
    "model",
    "data",
    "Model",
    "getInstance",
    "_widgetDataGet",
    "getWidgetData",
    "_getWidgetDataModel",
    "getWidgetDataModel",
    "writeHistory",
    "testMode",
    "__loadTestData",
    "addresses",
    "properties",
    "dataReceived",
    "check",
    "init",
    "server",
    "connected",
    "event",
    "members",
    "backendName",
    "__xhr",
    "__sequence",
    "__sequenceIndex",
    "__simulations",
    "getType",
    "r",
    "request",
    "Xhr",
    "addListener",
    "e",
    "Config",
    "initialDemoData",
    "getTarget",
    "getResponse",
    "__applyTestData",
    "send",
    "xhr",
    "now",
    "Date",
    "url",
    "startsWith",
    "forEach",
    "d",
    "body",
    "offset",
    "length",
    "entry",
    "responseData",
    "feed",
    "entries",
    "date",
    "setDate",
    "getDate",
    "publishedDate",
    "toUTCString",
    "setTime",
    "getTime",
    "that",
    "sinon",
    "FakeXMLHttpRequest",
    "prototype",
    "open",
    "method",
    "async",
    "username",
    "password",
    "responseText",
    "responseXML",
    "requestHeaders",
    "sendFlag",
    "useFilters",
    "xhrArgs",
    "arguments",
    "defake",
    "filters",
    "some",
    "filter",
    "call",
    "apply",
    "setRequestHeader",
    "readyStateChange",
    "OPENED",
    "dev",
    "FakeServer",
    "addFilter",
    "args",
    "indexOf",
    "test",
    "path",
    "split",
    "pop",
    "suffix",
    "location",
    "pathname",
    "getFakeServer",
    "respondWith",
    "parsed",
    "util",
    "Uri",
    "parseUri",
    "host",
    "report",
    "Record",
    "normalizeUrl",
    "substr",
    "log",
    "Logger",
    "error",
    "debug",
    "response",
    "shift",
    "readyState",
    "status",
    "respond",
    "headers",
    "JSON",
    "stringify",
    "fakeXhr",
    "workingXHR",
    "copyAttrs",
    "attr",
    "navigator",
    "userAgent",
    "stateChange",
    "HEADERS_RECEIVED",
    "LOADING",
    "DONE",
    "onreadystatechange",
    "target",
    "addEventListener",
    "eventListeners",
    "hasOwnProperty",
    "handler",
    "json",
    "client",
    "update",
    "login",
    "loginOnly",
    "credentials",
    "callback",
    "context",
    "_registerSimulations",
    "simulations",
    "keys",
    "mainAddress",
    "simulation",
    "additionalAddresses",
    "addr",
    "_startSequence",
    "Timer",
    "once",
    "i",
    "delay",
    "_processSimulation",
    "address",
    "value",
    "start",
    "stop",
    "startValues",
    "stopValues",
    "type",
    "direction",
    "initValue",
    "getState",
    "targetAddress",
    "undefined",
    "timer",
    "interval",
    "stepSize",
    "newValue",
    "subscribe",
    "write",
    "REPLAYING",
    "ts",
    "answer",
    "parseInt",
    "substring",
    "restart",
    "getResourcePath",
    "name",
    "getLastError",
    "getBackend",
    "authorize",
    "req",
    "terminate",
    "record",
    "showError",
    "message",
    "setInitialAddresses",
    "hasCustomChartsDataProcessor",
    "processChartsData",
    "hasProvider",
    "getProviderUrl",
    "getProviderConvertFunction",
    "format",
    "Mockup"
  ],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAAA,EAAAA,EAAE,CAACC,SAAH,CAAaC,oBAAb,CAAkCC,aAAlC;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAGA;AACA;AACA;AACA;AACA;AACA;;AACA;AACAH,EAAAA,EAAE,CAACI,KAAH,CAASC,MAAT,CAAgB,cAAhB,EAAgC;AAC9BC,IAAAA,MAAM,EAAEN,EAAE,CAACO,IAAH,CAAQC,MADc;AAE9BC,IAAAA,SAAS,EAAEC,EAAE,CAACC,EAAH,CAAMC,OAFa;;AAI9B;AACF;AACA;AACA;AACA;AACEC,IAAAA,SAAS,EAAE,qBAAW;AACpB;AACAH,MAAAA,EAAE,CAACC,EAAH,CAAMG,MAAN,CAAaC,OAAb,CAAqBC,IAArB,CAA0B,IAA1B,EAFoB,CAGpB;;AACAC,MAAAA,MAAM,CAACC,QAAP,GAAkB,KAAKC,OAAL,CAAaC,IAAb,CAAkB,IAAlB,CAAlB;AACA,UAAMC,KAAK,GAAGX,EAAE,CAACY,IAAH,CAAQC,KAAR,CAAcC,WAAd,EAAd;AACAP,MAAAA,MAAM,CAACQ,cAAP,GAAwBJ,KAAK,CAACK,aAAN,CAAoBN,IAApB,CAAyBC,KAAzB,CAAxB;AACAJ,MAAAA,MAAM,CAACU,mBAAP,GAA6BN,KAAK,CAACO,kBAAN,CAAyBR,IAAzB,CAA8BC,KAA9B,CAA7B;AACAJ,MAAAA,MAAM,CAACY,YAAP,GAAsB,EAAtB;AAEA,UAAMC,QAAQ,QAAd;;AACA,UAAI,OAAOA,QAAP,KAAoB,QAApB,IAAgCA,QAAQ,KAAK,MAAjD,EAAyD;AACvD,aAAKC,SAAL;AACD;;AACD,WAAKC,SAAL,GAAiB,EAAjB;AACD,KAxB6B;;AA0B9B;AACF;AACA;AACA;AACA;AACEC,IAAAA,UAAU,EAAE;AACVC,MAAAA,YAAY,EAAG;AACbC,QAAAA,KAAK,EAAE,SADM;AAEbC,QAAAA,IAAI,EAAE;AAFO,OADL;AAKVC,MAAAA,MAAM,EAAE;AACNF,QAAAA,KAAK,EAAE,QADD;AAENC,QAAAA,IAAI,EAAE;AAFA,OALE;AASVE,MAAAA,SAAS,EAAE;AACTH,QAAAA,KAAK,EAAE,SADE;AAETC,QAAAA,IAAI,EAAE,IAFG;AAGTG,QAAAA,KAAK,EAAE;AAHE;AATD,KA/BkB;;AA+C9B;AACF;AACA;AACA;AACA;AACEC,IAAAA,OAAO,EAAE;AACPC,MAAAA,WAAW,EAAE,QADN;AAEPT,MAAAA,SAAS,EAAE,IAFJ;AAGPU,MAAAA,SAAK,EAAE,IAHA;AAIPC,MAAAA,SAAU,EAAE,IAJL;AAKPC,MAAAA,SAAe,EAAE,CALV;AAMPC,MAAAA,SAAa,EAAE,IANR;AAQPC,MAAAA,OARO,qBAQG;AACR,eAAO,KAAKL,WAAZ;AACD,OAVM;AAYPV,MAAAA,SAAc,EAAE,qBAAY;AAC1B;AACA,YAAMgB,CAAC,GAAG,IAAI/C,EAAE,CAACW,EAAH,CAAMqC,OAAN,CAAcC,GAAlB,OAAV;AACAF,QAAAA,CAAC,CAACG,WAAF,CAAc,SAAd,EAAyB,UAAUC,CAAV,EAAa;AACpCzC,UAAAA,EAAE,CAAC0C,MAAH,CAAUC,eAAV,GAA4BF,CAAC,CAACG,SAAF,GAAcC,WAAd,EAA5B;;AACA,eAAKC,SAAL;AACD,SAHD,EAGG,IAHH;AAIAT,QAAAA,CAAC,CAACU,IAAF;AACD,OApBM;AAsBPD,MAAAA,SAAe,EAAE,qBAAY;AAC3B,aAAKd,SAAL,GAAahC,EAAE,CAAC0C,MAAH,CAAUC,eAAV,CAA0BK,GAAvC,CAD2B,CAG3B;;AACA,YAAMC,GAAG,GAAGC,IAAI,CAACD,GAAL,EAAZ;;AACA,aAAK,IAAIE,GAAT,IAAgB,KAAKnB,SAArB,EAA4B;AAC1B,cAAImB,GAAG,CAACC,UAAJ,CAAe,KAAf,CAAJ,EAA2B;AACzB,iBAAKpB,SAAL,CAAWmB,GAAX,EAAgBE,OAAhB,CAAwB,UAAAC,CAAC,EAAI;AAC3B,kBAAM1C,IAAI,GAAG0C,CAAC,CAACC,IAAf;AACA,kBAAMC,MAAM,GAAGP,GAAG,GAAGrC,IAAI,CAACA,IAAI,CAAC6C,MAAL,GAAc,CAAf,CAAJ,CAAsB,CAAtB,CAArB;AACA7C,cAAAA,IAAI,CAACyC,OAAL,CAAa,UAAAK,KAAK;AAAA,uBAAIA,KAAK,CAAC,CAAD,CAAL,IAAYF,MAAhB;AAAA,eAAlB;AACD,aAJD;AAKD,WAND,MAMO,IAAIL,GAAG,CAACC,UAAJ,CAAe,4BAAf,CAAJ,EAAkD;AACvD,iBAAKpB,SAAL,CAAWmB,GAAX,EAAgBE,OAAhB,CAAwB,UAAAC,CAAC,EAAI;AAC3B,kBAAM1C,IAAI,GAAG0C,CAAC,CAACC,IAAF,CAAOI,YAAP,CAAoBC,IAApB,CAAyBC,OAAtC;AACA,kBAAIC,IAAI,GAAG,IAAIZ,IAAJ,EAAX;AACAY,cAAAA,IAAI,CAACC,OAAL,CAAaD,IAAI,CAACE,OAAL,KAAe,CAA5B;AACApD,cAAAA,IAAI,CAACyC,OAAL,CAAa,UAAAK,KAAK,EAAI;AACpBA,gBAAAA,KAAK,CAACO,aAAN,GAAsBH,IAAI,CAACI,WAAL,EAAtB;AACAJ,gBAAAA,IAAI,CAACK,OAAL,CAAaL,IAAI,CAACM,OAAL,YAAb;AACD,eAHD;AAID,aARD;AASD;AACF;;AAED,YAAMC,IAAI,GAAG,IAAb,CAzB2B,CA2B3B;AACA;;AACAC,QAAAA,KAAK,CAACC,kBAAN,CAAyBC,SAAzB,CAAmCC,IAAnC,GAA0C,SAASA,IAAT,CAAcC,MAAd,EAAsBvB,GAAtB,EAA2BwB,KAA3B,EAAkCC,QAAlC,EAA4CC,QAA5C,EAAsD;AAC9F,eAAKH,MAAL,GAAcA,MAAd;AACA,eAAKvB,GAAL,GAAWA,GAAX;AACA,eAAKwB,KAAL,GAAa,OAAOA,KAAP,IAAgB,SAAhB,GAA4BA,KAA5B,GAAoC,IAAjD;AACA,eAAKC,QAAL,GAAgBA,QAAhB;AACA,eAAKC,QAAL,GAAgBA,QAAhB;AACA,eAAKC,YAAL,GAAoB,IAApB;AACA,eAAKC,WAAL,GAAmB,IAAnB;AACA,eAAKC,cAAL,GAAsB,EAAtB;AACA,eAAKC,QAAL,GAAgB,KAAhB;;AACA,cAAIX,KAAK,CAACC,kBAAN,CAAyBW,UAAzB,KAAwC,IAA5C,EAAkD;AAChD,gBAAIC,OAAO,GAAGC,SAAd;AACA,gBAAIC,MAAM,GAAGf,KAAK,CAACC,kBAAN,CAAyBe,OAAzB,CAAiCC,IAAjC,CAAsC,UAASC,MAAT,EAAiB;AAClE,qBAAOA,MAAM,CAACC,IAAP,CAAY,IAAZ,EAAkBN,OAAlB,CAAP;AACD,aAFY,CAAb;;AAGA,gBAAIE,MAAJ,EAAY;AACV,kBAAMrC,GAAG,GAAGqB,IAAI,CAACgB,MAAL,CAAY,IAAZ,EAAkBF,OAAlB,CAAZ;AACAnC,cAAAA,GAAG,CAACyB,IAAJ,CAASiB,KAAT,CAAe1C,GAAf,EAAoBmC,OAApB;AACAnC,cAAAA,GAAG,CAAC2C,gBAAJ,CAAqB,QAArB,EAA+B,iBAA/B;AACA;AACD;AACF;;AACD,eAAKC,gBAAL,CAAsBtB,KAAK,CAACC,kBAAN,CAAyBsB,MAA/C;AACD,SAvBD,CA7B2B,CAsD3B;;;AACAvG,QAAAA,EAAE,CAACwG,GAAH,CAAOC,UAAP,CAAkBjF,WAAlB,GAAgCkF,SAAhC,CAA0C,UAAUC,IAAV,EAAgB;AACxD,cAAMvB,MAAM,GAAGuB,IAAI,CAAC,CAAD,CAAnB;AACA,cAAM9C,GAAG,GAAG8C,IAAI,CAAC,CAAD,CAAhB;;AACA,cAAI9C,GAAG,CAACC,UAAJ,CAAe,mBAAf,CAAJ,EAAyC;AACvC,mBAAO,IAAP;AACD,WAFD,MAEO,IAAIsB,MAAM,KAAK,KAAX,KACTvB,GAAG,CAAC+C,OAAJ,CAAY,sBAAZ,KAAuC,CAAvC,IACA/C,GAAG,CAAC+C,OAAJ,CAAY,2BAAZ,KAA4C,CAD5C,IAEA/C,GAAG,CAAC+C,OAAJ,CAAY,6BAAZ,KAA8C,CAF9C,IAGA/C,GAAG,CAAC+C,OAAJ,CAAY,mBAAZ,KAAoC,CAJ3B,CAAJ,EAKJ;AACD,mBAAO,IAAP;AACD,WAPM,MAOA,IAAIxB,MAAM,KAAK,KAAX,IAAoB,gDAAgDyB,IAAhD,CAAqDhD,GAArD,CAAxB,EAAmF;AACxF;AACA,gBAAMiD,IAAI,GAAGjD,GAAG,CAACkD,KAAJ,CAAU,GAAV,EAAeC,GAAf,EAAb;AACA,gBAAMC,MAAM,GAAGH,IAAI,CAAChD,UAAL,CAAgB,OAAhB,IAA2B,EAA3B,GAAgC,SAA/C;AACA6C,YAAAA,IAAI,CAAC,CAAD,CAAJ,GAAU1F,MAAM,CAACiG,QAAP,CAAgBC,QAAhB,GAA2B,WAA3B,GAAyCF,MAAzC,GAAkDH,IAA5D;AACA,mBAAO,IAAP;AACD;;AACD,iBAAO,KAAP;AACD,SApBD,EAoBG,IApBH;AAqBA,YAAMzE,MAAM,GAAGrC,EAAE,CAACwG,GAAH,CAAOC,UAAP,CAAkBjF,WAAlB,GAAgC4F,aAAhC,EAAf;AACA/E,QAAAA,MAAM,CAACgF,WAAP,CAAmB,UAAUrE,OAAV,EAAmB;AACpC,cAAMsE,MAAM,GAAGtH,EAAE,CAACuH,IAAH,CAAQC,GAAR,CAAYC,QAAZ,CAAqBzE,OAAO,CAACa,GAA7B,CAAf;AACA,cAAIA,GAAG,GAAGb,OAAO,CAACa,GAAlB;;AACA,cAAI,CAACyD,MAAM,CAACI,IAAR,IAAgBJ,MAAM,CAACI,IAAP,KAAgBzG,MAAM,CAACiG,QAAP,CAAgBQ,IAApD,EAA0D;AACxD7D,YAAAA,GAAG,GAAGnD,EAAE,CAACiH,MAAH,CAAUC,MAAV,CAAiBC,YAAjB,CAA8B7E,OAAO,CAACa,GAAtC,CAAN;;AACA,gBAAIA,GAAG,CAACC,UAAJ,CAAe7C,MAAM,CAACiG,QAAP,CAAgBC,QAA/B,CAAJ,EAA8C;AAC5CtD,cAAAA,GAAG,GAAGA,GAAG,CAACiE,MAAJ,CAAW7G,MAAM,CAACiG,QAAP,CAAgBC,QAAhB,CAAyBhD,MAAzB,GAAgC,CAA3C,CAAN;AACD;AACF;;AACD,cAAI,CAAC,KAAKzB,SAAL,CAAWmB,GAAX,CAAD,IAAoB,KAAKnB,SAAL,CAAWmB,GAAX,EAAgBM,MAAhB,KAA2B,CAAnD,EAAsD;AACpDnE,YAAAA,EAAE,CAAC+H,GAAH,CAAOC,MAAP,CAAcC,KAAd,CAAoB,IAApB,EAA0B,sCAAsCpE,GAAtC,GAA4C,QAAtE;AACD,WAFD,MAEO;AACL7D,YAAAA,EAAE,CAAC+H,GAAH,CAAOC,MAAP,CAAcE,KAAd,CAAoB,IAApB,EAA0B,yBAAyBrE,GAAnD;AACA,gBAAIsE,QAAQ,GAAG,EAAf;;AACA,gBAAI,KAAKzF,SAAL,CAAWmB,GAAX,EAAgBM,MAAhB,KAA2B,CAA/B,EAAkC;AAChCgE,cAAAA,QAAQ,GAAG,KAAKzF,SAAL,CAAWmB,GAAX,EAAgB,CAAhB,CAAX;AACD,aAFD,MAEO;AACL;AACAsE,cAAAA,QAAQ,GAAG,KAAKzF,SAAL,CAAWmB,GAAX,EAAgBuE,KAAhB,EAAX;AACD;;AAED,gBAAIpF,OAAO,CAACqF,UAAR,KAAuB,CAAvB,IAA4BrF,OAAO,CAACsF,MAAR,KAAmB,GAAnD,EAAwD;AACtD;AACA;AACAtF,cAAAA,OAAO,CAACqF,UAAR,GAAqB,CAArB;AACD;;AACDrF,YAAAA,OAAO,CAACuF,OAAR,CAAgBJ,QAAQ,CAACG,MAAzB,EAAiCH,QAAQ,CAACK,OAA1C,EAAmDC,IAAI,CAACC,SAAL,CAAeP,QAAQ,CAAClE,IAAxB,CAAnD;AACD;AACF,SA5BkB,CA4BjB7C,IA5BiB,CA4BZ,IA5BY,CAAnB;AA6BD,OAhIM;AAkIP2E,MAAAA,MAAM,EAAE,gBAAS4C,OAAT,EAAkB9C,OAAlB,EAA2B;AACjC;AACA,YAAMnC,GAAG,GAAG,IAAIsB,KAAK,CAACtB,GAAN,CAAUkF,UAAd,EAAZ;AACA,SAAC,MAAD,EAAS,kBAAT,EAA6B,MAA7B,EAAqC,OAArC,EAA8C,mBAA9C,EACI,uBADJ,EAC6B,kBAD7B,EACiD,kBADjD,EACqE,qBADrE,EAC4F7E,OAD5F,CACoG,UAASqB,MAAT,EAAiB;AACjHuD,UAAAA,OAAO,CAACvD,MAAD,CAAP,GAAkB,YAAW;AAC3B,mBAAO1B,GAAG,CAAC0B,MAAD,CAAH,CAAYgB,KAAZ,CAAkB1C,GAAlB,EAAuBoC,SAAvB,CAAP;AACD,WAFD;AAGD,SALH;;AAOA,YAAM+C,SAAS,GAAG,SAAZA,SAAY,CAASlC,IAAT,EAAe;AAC/BA,UAAAA,IAAI,CAAC5C,OAAL,CAAa,UAAS+E,IAAT,EAAe;AAC1B,gBAAI;AACFH,cAAAA,OAAO,CAACG,IAAD,CAAP,GAAgBpF,GAAG,CAACoF,IAAD,CAAnB;AACD,aAFD,CAEE,OAAO3F,CAAP,EAAU;AACV,kBAAI,CAAC,SAAS0D,IAAT,CAAckC,SAAS,CAACC,SAAxB,CAAL,EAAyC;AACxC,sBAAM7F,CAAN;AACA;AACF;AACF,WARD;AASD,SAVD;;AAYA,YAAM8F,WAAW,GAAG,SAAdA,WAAc,GAAW;AAC7BN,UAAAA,OAAO,CAACN,UAAR,GAAqB3E,GAAG,CAAC2E,UAAzB;;AACA,cAAI3E,GAAG,CAAC2E,UAAJ,IAAkBrD,KAAK,CAACC,kBAAN,CAAyBiE,gBAA/C,EAAiE;AAC/DL,YAAAA,SAAS,CAAC,CAAC,QAAD,EAAW,YAAX,CAAD,CAAT;AACD;;AACD,cAAInF,GAAG,CAAC2E,UAAJ,IAAkBrD,KAAK,CAACC,kBAAN,CAAyBkE,OAA/C,EAAwD;AACtDN,YAAAA,SAAS,CAAC,CAAC,cAAD,CAAD,CAAT;AACD;;AACD,cAAInF,GAAG,CAAC2E,UAAJ,KAAmBrD,KAAK,CAACC,kBAAN,CAAyBmE,IAAhD,EAAsD;AACpDP,YAAAA,SAAS,CAAC,CAAC,aAAD,CAAD,CAAT;AACD;;AACD,cAAIF,OAAO,CAACU,kBAAZ,EAAgC;AAC9BV,YAAAA,OAAO,CAACU,kBAAR,CAA2B;AAAEC,cAAAA,MAAM,EAAEX;AAAV,aAA3B;AACD;AACF,SAdD;;AAeA,YAAIjF,GAAG,CAAC6F,gBAAR,EAA0B;AAAA,qCACfhH,KADe;AAEtB;AACA,gBAAIoG,OAAO,CAACa,cAAR,CAAuBC,cAAvB,CAAsClH,KAAtC,CAAJ,EAAkD;AAChDoG,cAAAA,OAAO,CAACa,cAAR,CAAuBjH,KAAvB,EAA8BwB,OAA9B,CAAsC,UAAS2F,OAAT,EAAkB;AACtDhG,gBAAAA,GAAG,CAAC6F,gBAAJ,CAAqBhH,KAArB,EAA4BmH,OAA5B;AACD,eAFD;AAGD;AAPqB;;AACxB,eAAK,IAAInH,KAAT,IAAkBoG,OAAO,CAACa,cAA1B,EAA0C;AAAA,kBAAjCjH,KAAiC;AAOzC;;AACDmB,UAAAA,GAAG,CAAC6F,gBAAJ,CAAqB,kBAArB,EAAyCN,WAAzC;AACD,SAVD,MAUO;AACLvF,UAAAA,GAAG,CAAC2F,kBAAJ,GAAyBJ,WAAzB;AACD;;AACD,eAAOvF,GAAP;AACD,OArLM;;AAuLP;AACJ;AACA;AACA;AACIvC,MAAAA,OAAO,EAAE,iBAAUwI,IAAV,EAAgB;AACvB,YAAIA,IAAJ,EAAU;AACRjJ,UAAAA,EAAE,CAACC,EAAH,CAAMG,MAAN,CAAaC,OAAb,CAAqBgD,OAArB,CAA6B,UAAU6F,MAAV,EAAkB;AAC7CA,YAAAA,MAAM,CAACC,MAAP,CAAcF,IAAI,CAAC3F,CAAnB;AACD,WAFD;AAGD;AACF,OAjMM;AAmMP8F,MAAAA,KAAK,EAAE,eAAUC,SAAV,EAAqBC,WAArB,EAAkCC,QAAlC,EAA4CC,OAA5C,EAAqD;AAC1D,YAAID,QAAJ,EAAc;AACZA,UAAAA,QAAQ,CAAC9D,IAAT,CAAc+D,OAAd;AAkBD;AACF,OAxNM;AA0NPC,MAAAA,oBAAoB,EAAE,8BAAUC,WAAV,EAAuB;AAC3C,aAAKvH,SAAL,GAAqB,EAArB;AACArC,QAAAA,MAAM,CAAC6J,IAAP,CAAYD,WAAZ,EAAyBrG,OAAzB,CAAiC,UAAUuG,WAAV,EAAuB;AACtD,cAAMC,UAAU,GAAGH,WAAW,CAACE,WAAD,CAA9B;AACA,eAAKzH,SAAL,CAAmByH,WAAnB,IAAkCC,UAAlC;;AACA,cAAI/J,MAAM,CAAC0E,SAAP,CAAiBuE,cAAjB,CAAgCtD,IAAhC,CAAqCoE,UAArC,EAAiD,qBAAjD,CAAJ,EAA6E;AAC3EA,YAAAA,UAAU,CAACC,mBAAX,CAA+BzG,OAA/B,CAAuC,UAAU0G,IAAV,EAAgB;AACrD,mBAAK5H,SAAL,CAAmB4H,IAAnB,IAA2BF,UAA3B;AACD,aAFD,EAEG,IAFH;AAGD;AACF,SARD,EAQG,IARH;AASD,OArOM;AAuOPG,MAAAA,cAAc,EAAE,0BAAY;AAC1B,YAAI,KAAK/H,SAAL,CAAgBwB,MAAhB,IAA0B,KAAKvB,SAAnC,EAAoD;AAClD;AACA,eAAKA,SAAL,GAAuB,CAAvB;AACD;;AACD5C,QAAAA,EAAE,CAACuC,KAAH,CAASoI,KAAT,CAAeC,IAAf,CAAoB,YAAY;AAC9B,eAAKzJ,OAAL,CAAa;AACX0J,YAAAA,CAAC,EAAE,IAAIjH,IAAJ,GAAWkB,OAAX,EADQ;AAEXd,YAAAA,CAAC,EAAE,KAAKrB,SAAL,CAAgB,KAAKC,SAArB,EAAsCtB;AAF9B,WAAb;AAIA,eAAKsB,SAAL;;AACA,eAAK8H,cAAL;AACD,SAPD,EAOG,IAPH,EAOS,KAAK/H,SAAL,CAAgB,KAAKC,SAArB,EAAsCkI,KAP/C;AAQD,OApPM;AAsPPC,MAAAA,kBAAkB,EAAE,4BAAUC,OAAV,EAAmBC,KAAnB,EAA0B;AAC5C,YAAMV,UAAU,GAAG,KAAK1H,SAAL,CAAmBmI,OAAnB,CAAnB;;AACA,YAAI,CAACT,UAAL,EAAiB;AACf;AACD;;AACD,YAAIW,KAAK,GAAG,KAAZ;AACA,YAAIC,IAAI,GAAG,KAAX;;AACA,YAAI3K,MAAM,CAAC0E,SAAP,CAAiBuE,cAAjB,CAAgCtD,IAAhC,CAAqCoE,UAArC,EAAiD,aAAjD,CAAJ,EAAqE;AACnE;AACAW,UAAAA,KAAK,GAAGX,UAAU,CAACa,WAAX,CAAuBxE,OAAvB,CAA+BoE,OAAO,GAAG,GAAV,GAAgBC,KAA/C,KAAyD,CAAjE;;AACA,cAAIzK,MAAM,CAAC0E,SAAP,CAAiBuE,cAAjB,CAAgCtD,IAAhC,CAAqCoE,UAArC,EAAiD,YAAjD,CAAJ,EAAoE;AAClEY,YAAAA,IAAI,GAAGZ,UAAU,CAACc,UAAX,CAAsBzE,OAAtB,CAA8BoE,OAAO,GAAG,GAAV,GAAgBC,KAA9C,KAAwD,CAA/D;AACD;;AACD,cAAI,CAACE,IAAL,EAAW;AACT;AACAD,YAAAA,KAAK,GAAGX,UAAU,CAACa,WAAX,CAAuBxE,OAAvB,CAA+BqE,KAA/B,KAAyC,CAAjD;AACAE,YAAAA,IAAI,GAAGZ,UAAU,CAACa,WAAX,CAAuBxE,OAAvB,CAA+BqE,KAA/B,KAAyC,CAAhD;AACD;AACF;;AACD,YAAIC,KAAJ,EAAW;AACT;AACA,cAAIX,UAAU,CAACe,IAAX,KAAoB,SAAxB,EAAmC;AACjCf,YAAAA,UAAU,CAACgB,SAAX,GAAuBN,KAAK,KAAK,GAAV,GAAgB,IAAhB,GAAuB,MAA9C;AACA,gBAAIO,SAAS,GAAG9K,EAAE,CAACY,IAAH,CAAQC,KAAR,CAAcC,WAAd,GAA4BiK,QAA5B,CAAqClB,UAAU,CAACmB,aAAhD,CAAhB;;AACA,gBAAIF,SAAS,KAAKG,SAAlB,EAA6B;AAC3BH,cAAAA,SAAS,GAAG,CAAZ;AACD;;AACDjB,YAAAA,UAAU,CAACU,KAAX,GAAmBO,SAAnB;;AAEA,gBAAIjB,UAAU,CAACqB,KAAf,EAAsB;AACpBrB,cAAAA,UAAU,CAACqB,KAAX,CAAiBT,IAAjB;AACD,aAFD,MAEO;AACLZ,cAAAA,UAAU,CAACqB,KAAX,GAAmB,IAAI5L,EAAE,CAACuC,KAAH,CAASoI,KAAb,CAAmBJ,UAAU,CAACsB,QAAX,IAAuB,GAA1C,CAAnB;AACA,kBAAMC,QAAQ,GAAGvB,UAAU,CAACuB,QAAX,IAAuB,EAAxC;AACAvB,cAAAA,UAAU,CAACqB,KAAX,CAAiB1I,WAAjB,CAA6B,UAA7B,EAAyC,YAAY;AACnD,oBAAI6I,QAAQ,GAAGxB,UAAU,CAACU,KAA1B;;AACA,oBAAIV,UAAU,CAACgB,SAAX,KAAyB,IAA7B,EAAmC;AACjC;AACAQ,kBAAAA,QAAQ,GAAGxB,UAAU,CAACU,KAAX,GAAmBa,QAA9B;;AACA,sBAAIC,QAAQ,GAAG,GAAf,EAAoB;AAClBxB,oBAAAA,UAAU,CAACqB,KAAX,CAAiBT,IAAjB;AACA;AACD;AACF,iBAPD,MAOO;AACL;AACAY,kBAAAA,QAAQ,GAAGxB,UAAU,CAACU,KAAX,GAAmBa,QAA9B;;AACA,sBAAIC,QAAQ,GAAG,CAAf,EAAkB;AAChBxB,oBAAAA,UAAU,CAACqB,KAAX,CAAiBT,IAAjB;AACA;AACD;AACF;;AACD,oBAAMtB,MAAM,GAAG;AACbgB,kBAAAA,CAAC,EAAE,IAAIjH,IAAJ,GAAWkB,OAAX,EADU;AAEbd,kBAAAA,CAAC,EAAE;AAFU,iBAAf;AAIA6F,gBAAAA,MAAM,CAAC7F,CAAP,CAASuG,UAAU,CAACmB,aAApB,IAAqCK,QAArC;AACA,qBAAK5K,OAAL,CAAa0I,MAAb;;AACA,oBAAIU,UAAU,CAACU,KAAX,KAAqBc,QAAzB,EAAmC;AACjCxB,kBAAAA,UAAU,CAACU,KAAX,GAAmBc,QAAnB;AACD;AACF,eA1BD,EA0BG,IA1BH;AA2BD;;AACDxB,YAAAA,UAAU,CAACqB,KAAX,CAAiBV,KAAjB;AACD;AACF,SA7CD,MA6CO,IAAIC,IAAJ,EAAU;AACf;AACA,cAAIZ,UAAU,CAACqB,KAAf,EAAsB;AACpBrB,YAAAA,UAAU,CAACqB,KAAX,CAAiBT,IAAjB;AACD;AACF;AACF,OA5TM;;AA8TP;AACJ;AACA;AACA;AACIa,MAAAA,SAAS,EAAE,mBAAUhK,SAAV,EAAqB;AAC9B,aAAKA,SAAL,GAAiBA,SAAS,GAAGA,SAAH,GAAe,EAAzC;AACD,OApUM;;AAsUP;AACJ;AACA;AACA;AACA;AACIiK,MAAAA,KAAK,EAAE,eAAUjB,OAAV,EAAmBC,KAAnB,EAA0B;AAC/B,YAAIvK,EAAE,CAACiH,MAAH,CAAUC,MAAV,CAAiBsE,SAAjB,KAA+B,IAAnC,EAAyC;AACvC;AACA;AACD;;AACD,YAAMC,EAAE,GAAG,IAAIvI,IAAJ,GAAWkB,OAAX,EAAX,CAL+B,CAM/B;;AACA7D,QAAAA,MAAM,CAACY,YAAP,CAAoBb,IAApB,CAAyB;AACvBgK,UAAAA,OAAO,EAAEA,OADc;AAEvBC,UAAAA,KAAK,EAAEA,KAFgB;AAGvBkB,UAAAA,EAAE,EAAEA;AAHmB,SAAzB;;AAMA,YAAI,KAAKtJ,SAAL,IAAsBrC,MAAM,CAAC0E,SAAP,CAAiBuE,cAAjB,CAAgCtD,IAAhC,CAAqC,KAAKtD,SAA1C,EAAyDmI,OAAzD,CAA1B,EAA6F;AAC3F,eAAKD,kBAAL,CAAwBC,OAAxB,EAAiCC,KAAjC;AACD,SAFD,MAEO;AACL;AACA,cAAMmB,MAAM,GAAG;AACbvB,YAAAA,CAAC,EAAEsB,EADU;AAEbnI,YAAAA,CAAC,EAAE;AAFU,WAAf;;AAIA,cAAI,4BAA4B6C,IAA5B,CAAiCmE,OAAjC,CAAJ,EAA+C;AAC7C,gBAAIC,KAAK,CAAC9G,MAAN,KAAiB,CAArB,EAAwB;AACtB8G,cAAAA,KAAK,GAAG,MAAMoB,QAAQ,CAACpB,KAAD,EAAQ,EAAR,CAAR,GAAsB,EAA5B,CAAR;AACD,aAFD,MAEO;AACLA,cAAAA,KAAK,GAAGA,KAAK,CAACqB,SAAN,CAAgB,CAAhB,CAAR;AACD;AACF;;AACDF,UAAAA,MAAM,CAACpI,CAAP,CAASgH,OAAT,IAAoBC,KAApB;AACA,eAAK/C,KAAL,CAAW,oBAAoB+C,KAApB,GAA4B,eAA5B,GAA8CD,OAAzD;AACA,eAAK7J,OAAL,CAAaiL,MAAb;AACD;AACF,OA3WM;AA6WPG,MAAAA,OAAO,EAAE,mBAAW,CAAE,CA7Wf;AA+WPpB,MAAAA,IAAI,EAAE,gBAAY,CAAE,CA/Wb;AAiXPqB,MAAAA,eAAe,EAAE,yBAAUC,IAAV,EAAgB;AAC/B,YAAIA,IAAI,KAAK,QAAb,EAAuB;AACrB,iBAAO,IAAP;AACD;;AACD,eAAOA,IAAP;AACD,OAtXM;AAwXPC,MAAAA,YAAY,EAAE,wBAAY;AACxB,eAAO,IAAP;AACD,OA1XM;AA4XPC,MAAAA,UAAU,EAAE,sBAAY;AACtB,eAAO,EAAP;AACD,OA9XM;AAgYPC,MAAAA,SAAS,EAAE,mBAAUC,GAAV,EAAe,CACzB,CAjYM;AAmYPC,MAAAA,SAAS,EAAE,qBAAY,CAAE,CAnYlB;AAqYPjD,MAAAA,MAAM,EAAE,gBAASF,IAAT,EAAe,CAAE,CArYlB;AAsYPoD,MAAAA,MAAM,EAAE,gBAASzB,IAAT,EAAehK,IAAf,EAAqB,CAAE,CAtYxB;AAuYP0L,MAAAA,SAAS,EAAE,mBAAS1B,IAAT,EAAe2B,OAAf,EAAwBtG,IAAxB,EAA8B,CAAE,CAvYpC;AAyYP;AACAuG,MAAAA,mBAAmB,EAAE,6BAASlL,SAAT,EAAoB,CACxC,CA3YM;AA6YPmL,MAAAA,4BAA4B,EAAG,wCAAY;AACzC,eAAO,KAAP;AACD,OA/YM;AAgZPC,MAAAA,iBAAiB,EAAG,2BAAU9L,IAAV,EAAgB;AAClC,eAAOA,IAAP;AACD,OAlZM;AAmZP+L,MAAAA,WAAW,EAAE,qBAAUZ,IAAV,EAAgB;AAC3B,eAAO,KAAP;AACD,OArZM;AAsZPa,MAAAA,cAAc,EAAE,wBAAUb,IAAV,EAAgB;AAC9B,eAAO,IAAP;AACD,OAxZM;AAyZPc,MAAAA,0BAA0B,EAAG,oCAAUd,IAAV,EAAgBe,MAAhB,EAAwB;AACnD,eAAO,IAAP;AACD;AA3ZM;AApDqB,GAAhC;AA3BA9M,EAAAA,EAAE,CAACC,EAAH,CAAM8M,MAAN,CAAatN,aAAb,GAA6BA,aAA7B",
  "sourcesContent": [
    "/* Mockup.js \n * \n * copyright (c) 2010-2022, Christian Mayer and the CometVisu contributers.\n * \n * This program is free software; you can redistribute it and/or modify it\n * under the terms of the GNU General Public License as published by the Free\n * Software Foundation; either version 3 of the License, or (at your option)\n * any later version.\n *\n * This program is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for\n * more details.\n *\n * You should have received a copy of the GNU General Public License along\n * with this program; if not, write to the Free Software Foundation, Inc.,\n * 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA\n */\n\n\n/**\n * Mockup simulating a backend + client for the Cometvisu protocol\n *\n * @author Tobias BrÃ¤utigam\n * @since 2016\n */\n/* istanbul ignore next */\nqx.Class.define('cv.io.Mockup', {\n  extend: qx.core.Object,\n  implement: cv.io.IClient,\n\n  /*\n  ******************************************************\n    CONSTRUCTOR\n  ******************************************************\n  */\n  construct: function() {\n    this.base(arguments);\n    cv.io.Client.CLIENTS.push(this);\n    // make some functions accessible for the protractor runner\n    window._receive = this.receive.bind(this);\n    const model = cv.data.Model.getInstance();\n    window._widgetDataGet = model.getWidgetData.bind(model);\n    window._getWidgetDataModel = model.getWidgetDataModel.bind(model);\n    window.writeHistory = [];\n\n    const testMode = qx.core.Environment.get('cv.testMode');\n    if (typeof testMode === 'string' && testMode !== 'true') {\n      this.__loadTestData();\n    }\n    this.addresses = [];\n  },\n\n  /*\n  ******************************************************\n    PROPERTIES\n  ******************************************************\n  */\n  properties: {\n    dataReceived : {\n      check: 'Boolean',\n      init: true\n    },\n    server: {\n      check: 'String',\n      init: 'Mockup'\n    },\n    connected: {\n      check: 'Boolean',\n      init: true,\n      event: 'changeConnected'\n    }\n  },\n\n  /*\n  ******************************************************\n    MEMBERS\n  ******************************************************\n  */\n  members: {\n    backendName: 'mockup',\n    addresses: null,\n    __xhr: null,\n    __sequence: null,\n    __sequenceIndex: 0,\n    __simulations: null,\n\n    getType() {\n      return this.backendName;\n    },\n\n    __loadTestData: function () {\n      // load the demo data to fill the visu with some values\n      const r = new qx.io.request.Xhr(qx.core.Environment.get('cv.testMode'));\n      r.addListener('success', function (e) {\n        cv.Config.initialDemoData = e.getTarget().getResponse();\n        this.__applyTestData();\n      }, this);\n      r.send();\n    },\n\n    __applyTestData: function () {\n      this.__xhr = cv.Config.initialDemoData.xhr;\n\n      // we need to adjust the timestamps of the chart data\n      const now = Date.now();\n      for (let url in this.__xhr) {\n        if (url.startsWith('rrd')) {\n          this.__xhr[url].forEach(d => {\n            const data = d.body;\n            const offset = now - data[data.length - 1][0];\n            data.forEach(entry => entry[0] += offset);\n          });\n        } else if (url.startsWith('resource/plugin/rsslog.php')) {\n          this.__xhr[url].forEach(d => {\n            const data = d.body.responseData.feed.entries;\n            let date = new Date();\n            date.setDate(date.getDate()-1);\n            data.forEach(entry => {\n              entry.publishedDate = date.toUTCString();\n              date.setTime(date.getTime() + 60*60*1000);\n            });\n          });\n        }\n      }\n\n      const that = this;\n\n      // override sinons filter handling to be able to manipulate the target URL from the filter\n      // eslint-disable-next-line consistent-return\n      sinon.FakeXMLHttpRequest.prototype.open = function open(method, url, async, username, password) {\n        this.method = method;\n        this.url = url;\n        this.async = typeof async == 'boolean' ? async : true;\n        this.username = username;\n        this.password = password;\n        this.responseText = null;\n        this.responseXML = null;\n        this.requestHeaders = {};\n        this.sendFlag = false;\n        if (sinon.FakeXMLHttpRequest.useFilters === true) {\n          let xhrArgs = arguments;\n          let defake = sinon.FakeXMLHttpRequest.filters.some(function(filter) {\n            return filter.call(this, xhrArgs);\n          });\n          if (defake) {\n            const xhr = that.defake(this, xhrArgs);\n            xhr.open.apply(xhr, xhrArgs);\n            xhr.setRequestHeader('Accept', 'text/*, image/*');\n            return;\n          }\n        }\n        this.readyStateChange(sinon.FakeXMLHttpRequest.OPENED);\n      };\n\n      // configure server\n      qx.dev.FakeServer.getInstance().addFilter(function (args) {\n        const method = args[0];\n        const url = args[1];\n        if (url.startsWith('https://sentry.io')) {\n          return true;\n        } else if (method === 'GET' && (\n          url.indexOf('resource/visu_config') >= 0 ||\n          url.indexOf('resource/demo/visu_config') >= 0 ||\n          url.indexOf('resource/hidden-schema.json') >= 0 ||\n          url.indexOf('resource/manager/') >= 0\n        )) {\n          return true;\n        } else if (method === 'GET' && /rest\\/manager\\/index.php\\/fs\\?path=.+\\.[\\w]+$/.test(url)) {\n          // change url to avoid API access and do a real request\n          const path = url.split('=').pop();\n          const suffix = path.startsWith('demo/') ? '' : 'config/';\n          args[1] = window.location.pathname + 'resource/' + suffix + path;\n          return true;\n        }\n        return false;\n      }, this);\n      const server = qx.dev.FakeServer.getInstance().getFakeServer();\n      server.respondWith(function (request) {\n        const parsed = qx.util.Uri.parseUri(request.url);\n        let url = request.url;\n        if (!parsed.host || parsed.host === window.location.host) {\n          url = cv.report.Record.normalizeUrl(request.url);\n          if (url.startsWith(window.location.pathname)) {\n            url = url.substr(window.location.pathname.length-1);\n          }\n        }\n        if (!this.__xhr[url] || this.__xhr[url].length === 0) {\n          qx.log.Logger.error(this, '404: no logged responses for URI ' + url + ' found');\n        } else {\n          qx.log.Logger.debug(this, 'faking response for ' + url);\n          let response = '';\n          if (this.__xhr[url].length === 1) {\n            response = this.__xhr[url][0];\n          } else {\n            // multiple responses recorded use them as LIFO stack\n            response = this.__xhr[url].shift();\n          }\n\n          if (request.readyState === 4 && request.status === 404) {\n            // This is a hack, sometimes the request has a 404 status and send readystate\n            // the respond would fail if we do not override it here\n            request.readyState = 1;\n          }\n          request.respond(response.status, response.headers, JSON.stringify(response.body));\n        }\n      }.bind(this));\n    },\n\n    defake: function(fakeXhr, xhrArgs) {\n      // eslint-disable-next-line new-cap\n      const xhr = new sinon.xhr.workingXHR();\n      ['open', 'setRequestHeader', 'send', 'abort', 'getResponseHeader',\n          'getAllResponseHeaders', 'addEventListener', 'overrideMimeType', 'removeEventListener'].forEach(function(method) {\n          fakeXhr[method] = function() {\n            return xhr[method].apply(xhr, arguments);\n          };\n        });\n\n      const copyAttrs = function(args) {\n        args.forEach(function(attr) {\n          try {\n            fakeXhr[attr] = xhr[attr];\n          } catch (e) {\n            if (!/MSIE 6/.test(navigator.userAgent)) {\n             throw e;\n            }\n          }\n        });\n      };\n\n      const stateChange = function() {\n        fakeXhr.readyState = xhr.readyState;\n        if (xhr.readyState >= sinon.FakeXMLHttpRequest.HEADERS_RECEIVED) {\n          copyAttrs(['status', 'statusText']);\n        }\n        if (xhr.readyState >= sinon.FakeXMLHttpRequest.LOADING) {\n          copyAttrs(['responseText']);\n        }\n        if (xhr.readyState === sinon.FakeXMLHttpRequest.DONE) {\n          copyAttrs(['responseXML']);\n        }\n        if (fakeXhr.onreadystatechange) {\n          fakeXhr.onreadystatechange({ target: fakeXhr });\n        }\n      };\n      if (xhr.addEventListener) {\n        for (let event in fakeXhr.eventListeners) {\n          // eslint-disable-next-line no-prototype-builtins\n          if (fakeXhr.eventListeners.hasOwnProperty(event)) {\n            fakeXhr.eventListeners[event].forEach(function(handler) {\n              xhr.addEventListener(event, handler);\n            });\n          }\n        }\n        xhr.addEventListener('readystatechange', stateChange);\n      } else {\n        xhr.onreadystatechange = stateChange;\n      }\n      return xhr;\n    },\n\n    /**\n     * This function gets called once the communication is established and session information is available\n     * @param json\n     */\n    receive: function (json) {\n      if (json) {\n        cv.io.Client.CLIENTS.forEach(function (client) {\n          client.update(json.d);\n        });\n      }\n    },\n\n    login: function (loginOnly, credentials, callback, context) {\n      if (callback) {\n        callback.call(context);\n        if (qx.core.Environment.get('cv.testMode')) {\n          if (cv.Config.initialDemoData) {\n            this.receive({\n              i: new Date().getTime(),\n              d: cv.Config.initialDemoData.states\n            });\n\n            if (cv.Config.initialDemoData.sequence) {\n              this.__sequence = cv.Config.initialDemoData.sequence;\n              this._startSequence();\n            }\n            if (cv.Config.initialDemoData.simulations) {\n              this._registerSimulations(cv.Config.initialDemoData.simulations);\n            }\n            cv.Config.initialDemoData = null;\n          }\n        }\n      }\n    },\n\n    _registerSimulations: function (simulations) {\n      this.__simulations = {};\n      Object.keys(simulations).forEach(function (mainAddress) {\n        const simulation = simulations[mainAddress];\n        this.__simulations[mainAddress] = simulation;\n        if (Object.prototype.hasOwnProperty.call(simulation, 'additionalAddresses')) {\n          simulation.additionalAddresses.forEach(function (addr) {\n            this.__simulations[addr] = simulation;\n          }, this);\n        }\n      }, this);\n    },\n\n    _startSequence: function () {\n      if (this.__sequence.length <= this.__sequenceIndex) {\n        // start again\n        this.__sequenceIndex = 0;\n      }\n      qx.event.Timer.once(function () {\n        this.receive({\n          i: new Date().getTime(),\n          d: this.__sequence[this.__sequenceIndex].data\n        });\n        this.__sequenceIndex++;\n        this._startSequence();\n      }, this, this.__sequence[this.__sequenceIndex].delay);\n    },\n\n    _processSimulation: function (address, value) {\n      const simulation = this.__simulations[address];\n      if (!simulation) {\n        return;\n      }\n      let start = false;\n      let stop = false;\n      if (Object.prototype.hasOwnProperty.call(simulation, 'startValues')) {\n        // try the more specific matches with address included\n        start = simulation.startValues.indexOf(address + '|' + value) >= 0;\n        if (Object.prototype.hasOwnProperty.call(simulation, 'stopValues')) {\n          stop = simulation.stopValues.indexOf(address + '|' + value) >= 0;\n        }\n        if (!stop) {\n          // the the more general ones\n          start = simulation.startValues.indexOf(value) >= 0;\n          stop = simulation.startValues.indexOf(value) >= 0;\n        }\n      }\n      if (start) {\n        // start simulation\n        if (simulation.type === 'shutter') {\n          simulation.direction = value === '0' ? 'up' : 'down';\n          let initValue = cv.data.Model.getInstance().getState(simulation.targetAddress);\n          if (initValue === undefined) {\n            initValue = 0;\n          }\n          simulation.value = initValue;\n\n          if (simulation.timer) {\n            simulation.timer.stop();\n          } else {\n            simulation.timer = new qx.event.Timer(simulation.interval || 100);\n            const stepSize = simulation.stepSize || 10;\n            simulation.timer.addListener('interval', function () {\n              let newValue = simulation.value;\n              if (simulation.direction === 'up') {\n                // drive up\n                newValue = simulation.value + stepSize;\n                if (newValue > 100) {\n                  simulation.timer.stop();\n                  return;\n                }\n              } else {\n                // drive down\n                newValue = simulation.value - stepSize;\n                if (newValue < 0) {\n                  simulation.timer.stop();\n                  return;\n                }\n              }\n              const update = {\n                i: new Date().getTime(),\n                d: {}\n              };\n              update.d[simulation.targetAddress] = newValue;\n              this.receive(update);\n              if (simulation.value !== newValue) {\n                simulation.value = newValue;\n              }\n            }, this);\n          }\n          simulation.timer.start();\n        }\n      } else if (stop) {\n        // stop simulation\n        if (simulation.timer) {\n          simulation.timer.stop();\n        }\n      }\n    },\n\n    /**\n     * Subscribe to the addresses in the parameter\n     * @param addresses\n     */\n    subscribe: function (addresses) {\n      this.addresses = addresses ? addresses : [];\n    },\n\n    /**\n     * This function sends a value\n     * @param address\n     * @param value\n     */\n    write: function (address, value) {\n      if (cv.report.Record.REPLAYING === true) {\n        // do nothing in replay mode\n        return;\n      }\n      const ts = new Date().getTime();\n      // store in window, to make it accessible for protractor\n      window.writeHistory.push({\n        address: address,\n        value: value,\n        ts: ts\n      });\n\n      if (this.__simulations && Object.prototype.hasOwnProperty.call(this.__simulations, address)) {\n        this._processSimulation(address, value);\n      } else {\n        // send update\n        const answer = {\n          i: ts,\n          d: {}\n        };\n        if (/\\d{1,2}\\/\\d{1,2}\\/\\d{1,2}/.test(address)) {\n          if (value.length === 2) {\n            value = \"\" + (parseInt(value, 16) & 63);\n          } else {\n            value = value.substring(2);\n          }\n        }\n        answer.d[address] = value;\n        this.debug('sending value: ' + value + ' to address: ' + address);\n        this.receive(answer);\n      }\n    },\n\n    restart: function() {},\n\n    stop: function () {},\n\n    getResourcePath: function (name) {\n      if (name === 'charts') {\n        return null;\n      }\n      return name;\n    },\n\n    getLastError: function () {\n      return null;\n    },\n\n    getBackend: function () {\n      return {};\n    },\n\n    authorize: function (req) {\n    },\n\n    terminate: function () {},\n\n    update: function(json) {},\n    record: function(type, data) {},\n    showError: function(type, message, args) {},\n\n    // not used / needed in this client\n    setInitialAddresses: function(addresses) {\n    },\n\n    hasCustomChartsDataProcessor : function () {\n      return false;\n    },\n    processChartsData : function (data) {\n      return data;\n    },\n    hasProvider: function (name) {\n      return false;\n    },\n    getProviderUrl: function (name) {\n      return null;\n    },\n    getProviderConvertFunction : function (name, format) {\n      return null;\n    }\n  }\n});\n"
  ]
}