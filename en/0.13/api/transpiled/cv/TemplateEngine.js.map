{
  "version": 3,
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "extend",
    "core",
    "Object",
    "type",
    "construct",
    "lazyPlugins",
    "__partQueue",
    "data",
    "Array",
    "_domFinishedQueue",
    "addListener",
    "ev",
    "setPartsLoaded",
    "getData",
    "__clients",
    "defaults",
    "widget",
    "plugin",
    "group",
    "ui",
    "command",
    "Group",
    "setCommands",
    "app",
    "Init",
    "getApplication",
    "manager",
    "getCommandManager",
    "add",
    "setActive",
    "properties",
    "partsLoaded",
    "check",
    "init",
    "apply",
    "event",
    "scriptsLoaded",
    "ready",
    "currentPage",
    "nullable",
    "domFinished",
    "commands",
    "highlightedWidget",
    "configSource",
    "configHash",
    "members",
    "pluginsToLoadCount",
    "_applyConfigSource",
    "xml",
    "cv",
    "Config",
    "enableCache",
    "setConfigHash",
    "ConfigCache",
    "toHash",
    "resetConfigHash",
    "loadParts",
    "parts",
    "isArray",
    "loadLazyParts",
    "filter",
    "part",
    "indexOf",
    "length",
    "p",
    "includes",
    "append",
    "waitingFor",
    "io",
    "PartLoader",
    "require",
    "states",
    "forEach",
    "idx",
    "remove",
    "debug",
    "startsWith",
    "loadedStructure",
    "substring",
    "setStructureLoaded",
    "error",
    "Promise",
    "resolve",
    "reject",
    "timer",
    "setTimeout",
    "getLength",
    "clearTimeout",
    "_applyReady",
    "value",
    "setupUI",
    "_applyLoaded",
    "old",
    "name",
    "isPartsLoaded",
    "isScriptsLoaded",
    "setReady",
    "_applyDomFinished",
    "document",
    "body",
    "style",
    "visibility",
    "message",
    "Bus",
    "dispatchByName",
    "entry",
    "callback",
    "shift",
    "context",
    "BackendConnections",
    "initSystemBackend",
    "executeWhenDomFinished",
    "isDomFinished",
    "push",
    "prototype",
    "slice",
    "call",
    "arguments",
    "parse",
    "settings",
    "configSettings",
    "rootNode",
    "getConfigSource",
    "documentElement",
    "predefinedDesign",
    "getAttribute",
    "tagName",
    "toLowerCase",
    "clientDesign",
    "selectDesign",
    "scriptsToLoad",
    "stylesToLoad",
    "design",
    "getDesign",
    "baseUri",
    "uri",
    "media",
    "maxMobileScreenWidth",
    "loader",
    "util",
    "ScriptLoader",
    "getInstance",
    "addListenerOnce",
    "alternativeStyles",
    "maxMobileScreenWidthh",
    "addStyles",
    "addScripts",
    "generateManifest",
    "getStructure",
    "Application",
    "structureController",
    "parseBackendSettings",
    "initBackendClients",
    "parseSettings",
    "preParse",
    "color",
    "getComputedStyle",
    "getPropertyValue",
    "baseUrl",
    "window",
    "location",
    "pathname",
    "endsWith",
    "split",
    "pop",
    "join",
    "origin",
    "startUrl",
    "search",
    "manifest",
    "assign",
    "defaultManifest",
    "start_url",
    "scope",
    "theme_color",
    "background_color",
    "icons",
    "icon",
    "src",
    "stringManifest",
    "JSON",
    "stringify",
    "blob",
    "Blob",
    "manifestURL",
    "URL",
    "createObjectURL",
    "querySelector",
    "setAttribute",
    "themeColorElement",
    "createElement",
    "appendChild",
    "createUI",
    "resetConfigSource",
    "startScreensaver",
    "screensave_time",
    "screensave",
    "Timer",
    "doScreenSave",
    "start",
    "Registration",
    "restart",
    "_applyHighlightedWidget",
    "oldElement",
    "classList",
    "element",
    "querySelectorAll",
    "elem",
    "display",
    "div",
    "dom",
    "Element",
    "create",
    "id",
    "entries",
    "background",
    "width",
    "margin",
    "padding",
    "key_value",
    "innerHTML",
    "store",
    "Json",
    "ResourceManager",
    "toUri",
    "html",
    "getModel",
    "myDiv",
    "cursor",
    "borderBottom",
    "position",
    "tDiv",
    "height",
    "zIndex",
    "pos",
    "getBoundingClientRect",
    "left",
    "top",
    "href",
    "hash",
    "destruct",
    "_disposeObjects",
    "TemplateEngine"
  ],
  "sources": [
    "/home/runner/work/CometVisu/CometVisu/source/class/cv/TemplateEngine.js"
  ],
  "sourcesContent": [
    "/* TemplateEngine.js\n *\n * copyright (c) 2010-2022, Christian Mayer and the CometVisu contributers.\n *\n * This program is free software; you can redistribute it and/or modify it\n * under the terms of the GNU General Public License as published by the Free\n * Software Foundation; either version 3 of the License, or (at your option)\n * any later version.\n *\n * This program is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for\n * more details.\n *\n * You should have received a copy of the GNU General Public License along\n * with this program; if not, write to the Free Software Foundation, Inc.,\n * 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA\n */\n\n/**\n *\n */\nqx.Class.define('cv.TemplateEngine', {\n  extend: qx.core.Object,\n  type: 'singleton',\n\n  construct() {\n    // this.base(arguments);\n    this.lazyPlugins = ['plugin-openhab'];\n\n    this.__partQueue = new qx.data.Array();\n    this._domFinishedQueue = [];\n    this.__partQueue.addListener('changeLength', ev => {\n      this.setPartsLoaded(ev.getData() === 0);\n    });\n    this.__clients = {};\n\n    this.defaults = { widget: {}, plugin: {} };\n    const group = new qx.ui.command.Group();\n    this.setCommands(group);\n    const app = qx.core.Init.getApplication();\n    if (app) {\n      // application is not available in tests\n      const manager = app.getCommandManager();\n      manager.add(group);\n      manager.setActive(group);\n    }\n  },\n\n  properties: {\n    /**\n     * Shows the loading state of the parts\n     */\n    partsLoaded: {\n      check: 'Boolean',\n      init: false,\n      apply: '_applyLoaded',\n      event: 'changePartsLoaded'\n    },\n\n    /**\n     * Shows the loading state of the scripts\n     */\n    scriptsLoaded: {\n      check: 'Boolean',\n      init: false,\n      apply: '_applyLoaded'\n    },\n\n    /**\n     * Shows the initialization state of the TemplateEngine. It gets true when all\n     * external stuff (parts, scripts, etc.) has been loaded.\n     */\n    ready: {\n      check: 'Boolean',\n      init: false,\n      event: 'changeReady',\n      apply: '_applyReady'\n    },\n\n    currentPage: {\n      check: 'cv.ui.structure.IPage',\n      nullable: true,\n      event: 'changeCurrentPage'\n    },\n\n    domFinished: {\n      check: 'Boolean',\n      init: false,\n      apply: '_applyDomFinished',\n      event: 'changeDomFinished'\n    },\n\n    commands: {\n      check: 'qx.ui.command.Group',\n      nullable: true\n    },\n\n    // highlight a widget\n    highlightedWidget: {\n      check: 'String',\n      nullable: true,\n      apply: '_applyHighlightedWidget'\n    },\n\n    configSource: {\n      check: 'XMLDocument',\n      nullable: true,\n      apply: '_applyConfigSource'\n    },\n\n    configHash: {\n      check: 'Number',\n      nullable: true\n    }\n  },\n\n  /*\n   ******************************************************\n   MEMBERS\n   ******************************************************\n   */\n  members: {\n    /**\n     * Structure where a design can set a default value that a widget or plugin\n     * can use.\n     * This is especially important for design relevant information like colors\n     * that can not be set though CSS.\n     *\n     * Usage: this.defaults.plugin.foo = {bar: 'baz'};\n     */\n    defaults: null,\n\n    pluginsToLoadCount: 0,\n\n    __partQueue: null,\n    _domFinishedQueue: null,\n\n    // plugins that do not need to be loaded to proceed with the initial setup\n    lazyPlugins: null,\n\n    _applyConfigSource(xml) {\n      if (cv.Config.enableCache && xml) {\n        this.setConfigHash(cv.ConfigCache.toHash(xml));\n      } else {\n        this.resetConfigHash();\n      }\n    },\n\n    /**\n     * Load parts (e.g. plugins, structure)\n     *\n     * @param parts {String[]|String} parts to load\n     */\n    loadParts(parts) {\n      if (!Array.isArray(parts)) {\n        parts = [parts];\n      }\n      const loadLazyParts = this.lazyPlugins.filter(function (part) {\n        return parts.indexOf(part) >= 0;\n      });\n      if (loadLazyParts.length) {\n        parts = parts.filter(function (p) {\n          return !loadLazyParts.includes(p);\n        });\n      }\n      this.__partQueue.append(parts);\n      const waitingFor = new qx.data.Array(parts);\n      qx.io.PartLoader.require(\n        parts,\n        function (states) {\n          parts.forEach(function (part, idx) {\n            if (states[idx] === 'complete') {\n              this.__partQueue.remove(part);\n              this.debug('successfully loaded part ' + part);\n              if (part.startsWith('structure-')) {\n                if (!cv.Config.loadedStructure) {\n                  cv.Config.loadedStructure = part.substring(10);\n                }\n                qx.core.Init.getApplication().setStructureLoaded(true);\n              }\n              this.__partQueue.remove(part);\n              waitingFor.remove(part);\n            } else {\n              this.error('error loading part ' + part);\n            }\n          }, this);\n        },\n        this\n      );\n\n      // load the lazy plugins no one needs to wait for\n      qx.io.PartLoader.require(\n        loadLazyParts,\n        function (states) {\n          loadLazyParts.forEach(function (part, idx) {\n            if (states[idx] === 'complete') {\n              this.debug('successfully loaded lazy part ' + part);\n              waitingFor.remove(part);\n            } else {\n              this.error('error loading lazy part ' + part);\n            }\n          }, this);\n        },\n        this\n      );\n\n      return new Promise((resolve, reject) => {\n        const timer = setTimeout(reject, 2000);\n        if (waitingFor.getLength() === 0) {\n          resolve();\n          clearTimeout(timer);\n        } else {\n          waitingFor.addListener('changeLength', ev => {\n            if (ev.getData() === 0) {\n              resolve();\n              clearTimeout(timer);\n            }\n          });\n        }\n      });\n    },\n\n    // property apply\n    _applyReady(value) {\n      if (value === true) {\n        this.setupUI();\n      }\n    },\n\n    // property apply\n    _applyLoaded(value, old, name) {\n      this.debug(name + ' is ' + value + ' now');\n      if (this.isPartsLoaded() && this.isScriptsLoaded()) {\n        this.setReady(true);\n      }\n    },\n\n    // property apply\n    _applyDomFinished(value) {\n      if (value) {\n        document.body.style.visibility = '';\n        qx.event.message.Bus.dispatchByName('setup.dom.finished');\n        // flush the queue\n        this._domFinishedQueue.forEach(function (entry) {\n          const callback = entry.shift();\n          const context = entry.shift();\n          callback.apply(context, entry);\n        }, this);\n        this._domFinishedQueue = [];\n        cv.io.BackendConnections.initSystemBackend();\n      }\n    },\n\n    /**\n     * Adds a callback to a queue which is executed after DOM has been rendered\n     * @param callback {Function}\n     * @param context {Object}\n     */\n    executeWhenDomFinished(callback, context) {\n      if (!this.isDomFinished()) {\n        // queue callback\n        this._domFinishedQueue.push(Array.prototype.slice.call(arguments));\n      } else {\n        callback.apply(context, Array.prototype.slice.call(arguments, 2));\n      }\n    },\n\n    /**\n     * Read basic settings and detect and load the structure for this config to do the rest.\n     */\n    async parse() {\n      /*\n       * First, we try to get a design by url. Secondly, we try to get a predefined\n       */\n      // read predefined design in config\n      const settings = cv.Config.configSettings;\n      // all config files must have a root with some attributes to be able to detect at least the design\n      // if not provides via URL, because the design is needed to detect the structure that can load the config\n      const rootNode = this.getConfigSource().documentElement;\n\n      const xml = this.getConfigSource();\n\n      let predefinedDesign = rootNode.getAttribute('design');\n      if (!predefinedDesign) {\n        switch (rootNode.tagName.toLowerCase()) {\n          case 'config':\n            predefinedDesign = 'tile';\n            break;\n\n          case 'pages':\n            predefinedDesign = 'pure';\n            break;\n        }\n      }\n      // design by url\n      // design by config file\n      if (!cv.Config.clientDesign && !settings.clientDesign) {\n        if (predefinedDesign) {\n          settings.clientDesign = predefinedDesign;\n        } else {\n          // selection dialog\n          this.selectDesign();\n        }\n      }\n\n      settings.scriptsToLoad = [];\n      settings.stylesToLoad = [];\n      const design = cv.Config.getDesign();\n      if (design) {\n        let baseUri = 'designs/' + design;\n        settings.stylesToLoad.push(baseUri + '/basic.css');\n        settings.stylesToLoad.push({\n          uri: baseUri + '/mobile.css',\n          media: `screen and (max-width:${cv.Config.maxMobileScreenWidth}px)`\n        });\n\n        settings.stylesToLoad.push(baseUri + '/custom.css');\n        settings.scriptsToLoad.push('designs/' + design + '/design_setup.js');\n\n        const loader = cv.util.ScriptLoader.getInstance();\n        loader.addListenerOnce('designError', ev => {\n          if (ev.getData() === design) {\n            this.error(\n              'Failed to load \"' + design + '\" design! Falling back to simplified \"' + cv.Config.loadedStructure + '\"'\n            );\n\n            baseUri = 'designs/' + cv.Config.loadedStructure;\n            const alternativeStyles = [baseUri + '/basic.css'];\n            alternativeStyles.push({\n              uri: baseUri + '/mobile.css',\n              media: `screen and (max-width:${cv.Config.maxMobileScreenWidthh}px)`\n            });\n\n            alternativeStyles.push(baseUri + '/custom.css');\n            cv.util.ScriptLoader.getInstance().addStyles(alternativeStyles);\n            cv.util.ScriptLoader.getInstance().addScripts(baseUri + '/design_setup.js');\n          }\n        });\n        loader.addListenerOnce('stylesLoaded', this.generateManifest, this);\n      }\n      // load structure-part\n      await this.loadParts([cv.Config.getStructure()]);\n      if (cv.Application.structureController.parseBackendSettings(xml)) {\n        cv.io.BackendConnections.initBackendClients();\n      }\n      cv.Application.structureController.parseSettings(xml);\n      await cv.Application.structureController.preParse(xml);\n    },\n\n    generateManifest() {\n      const color = getComputedStyle(document.body).getPropertyValue('background-color');\n      let baseUrl = window.location.pathname;\n      if (baseUrl.endsWith('/index.html')) {\n        const parts = baseUrl.split('/');\n        parts.pop();\n        baseUrl = parts.join('/') + '/';\n      }\n      baseUrl = window.location.origin + baseUrl;\n\n      const startUrl = window.location.origin + window.location.pathname + window.location.search;\n      const manifest = Object.assign(cv.Config.defaultManifest, {\n        start_url: startUrl,\n        scope: startUrl,\n        theme_color: color,\n        background_color: color\n      });\n      for (const icon of manifest.icons) {\n        icon.src = baseUrl + icon.src;\n      }\n      const stringManifest = JSON.stringify(manifest);\n      const blob = new Blob([stringManifest], { type: 'application/json' });\n      const manifestURL = URL.createObjectURL(blob);\n      document.querySelector('#app-manifest').setAttribute('href', manifestURL);\n      let themeColorElement = document.querySelector('#app-theme-color');\n      if (!themeColorElement) {\n        themeColorElement = document.createElement('meta');\n        themeColorElement.setAttribute('id', 'app-theme-color');\n        themeColorElement.setAttribute('name', 'theme-color');\n        document.querySelector('html > head').appendChild(themeColorElement);\n      }\n      document.querySelector('#app-theme-color').setAttribute('content', color);\n    },\n\n    /**\n     * Main setup to get everything running and show the initial UI page.\n     */\n    setupUI() {\n      // and now setup the UI\n      this.debug('setup');\n      cv.Application.structureController.createUI(this.getConfigSource());\n      this.resetConfigSource(); // not needed anymore - free the space\n      this.startScreensaver();\n      if (qx.core.Environment.get('qx.aspects')) {\n        qx.dev.Profile.stop();\n        qx.dev.Profile.showResults(50);\n      }\n    },\n\n    /**\n     * Start the screensaver if a screensave time is set\n     */\n    startScreensaver() {\n      if (typeof cv.Config.configSettings.screensave_time === 'number') {\n        this.screensave = new qx.event.Timer(cv.Config.configSettings.screensave_time * 1000);\n\n        this.screensave.addListener(\n          'interval',\n          cv.Application.structureController.doScreenSave,\n          cv.Application.structureController\n        );\n\n        this.screensave.start();\n        qx.event.Registration.addListener(window, 'useraction', this.screensave.restart, this.screensave);\n      }\n    },\n\n    _applyHighlightedWidget(value, old) {\n      if (old) {\n        const oldElement = document.querySelector(old);\n        if (oldElement) {\n          oldElement.classList.remove('highlightedWidget');\n        }\n      }\n      if (value) {\n        const element = document.querySelector(value);\n        if (element) {\n          element.classList.add('highlightedWidget');\n        }\n      }\n    },\n\n    selectDesign() {\n      const body = document.querySelector('body');\n\n      document.querySelectorAll('body > *').forEach(function (elem) {\n        elem.style.display = 'none';\n      }, this);\n      body.style['background-color'] = 'black';\n\n      const div = qx.dom.Element.create('div', { id: 'designSelector' });\n      Object.entries({\n        background: '#808080',\n        width: '400px',\n        color: 'white',\n        margin: 'auto',\n        padding: '0.5em'\n      }).forEach(function (key_value) {\n        body.style[key_value[0]] = key_value[1];\n      });\n      div.innerHTML = 'Loading ...';\n\n      body.appendChild(div);\n\n      const store = new qx.data.store.Json(qx.util.ResourceManager.getInstance().toUri('designs/get_designs.php'));\n\n      store.addListener('loaded', function () {\n        let html = '<h1>Please select design</h1>';\n        html +=\n          '<p>The Location/URL will change after you have chosen your design. Please bookmark the new URL if you do not want to select the design every time.</p>';\n\n        div.innerHTML = html;\n\n        store.getModel().forEach(function (element) {\n          const myDiv = qx.dom.Element.create('div', {\n            cursor: 'pointer',\n            padding: '0.5em 1em',\n            borderBottom: '1px solid black',\n            margin: 'auto',\n            width: '262px',\n            position: 'relative'\n          });\n\n          myDiv.innerHTML = '<div style=\"font-weight: bold; margin: 1em 0 .5em;\">Design: ' + element + '</div>';\n          myDiv.innerHTML +=\n            '<iframe src=\"' +\n            qx.util.ResourceManager.getInstance().toUri('designs/design_preview.html') +\n            '?design=' +\n            element +\n            '\" width=\"160\" height=\"90\" border=\"0\" scrolling=\"auto\" frameborder=\"0\" style=\"z-index: 1;\"></iframe>';\n          myDiv.innerHTML +=\n            '<img width=\"60\" height=\"30\" src=\"' +\n            qx.util.ResourceManager.getInstance().toUri('demo/media/arrow.png') +\n            '\" alt=\"select\" border=\"0\" style=\"margin: 60px 10px 10px 30px;\"/>';\n\n          div.appendChild(myDiv);\n\n          const tDiv = qx.dom.Element.create('div', {\n            background: 'transparent',\n            position: 'absolute',\n            height: '90px',\n            width: '160px',\n            zIndex: 2\n          });\n\n          const pos = document.querySelector('iframe').getBoundingClientRect();\n          Object.entries({\n            left: pos.left + 'px',\n            top: pos.top + 'px'\n          }).forEach(function (key_value) {\n            tDiv.style[key_value[0]] = key_value[1];\n          });\n          myDiv.appendChild(tDiv);\n\n          qx.event.Registration.addListener(\n            myDiv,\n            'pointerover',\n            function () {\n              myDiv.style.background = '#bbbbbb';\n            },\n            this\n          );\n\n          qx.event.Registration.addListener(\n            myDiv,\n            'pointerout',\n            function () {\n              myDiv.style.background = 'transparent';\n            },\n            this\n          );\n\n          qx.event.Registration.addListener(myDiv, 'tap', function () {\n            let href = document.location.href;\n            if (document.location.hash) {\n              href = href.split('#')[0];\n            }\n            if (document.location.search === '') {\n              document.location.href = href + '?design=' + element;\n            } else {\n              document.location.href = href + '&design=' + element;\n            }\n          });\n        });\n      });\n    }\n  },\n\n  /*\n  ***********************************************\n    DESTRUCTOR\n  ***********************************************\n  */\n  destruct() {\n    this._disposeObjects('__activeChangedTimer');\n  }\n});\n"
  ],
  "mappings": ";;;;;;;;+CACA,oJ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;EADAA,EAAE,CAACC,SAAH,CAAaC,oBAAb,CAAkCC,aAAlC;;EAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;EAEA;AACA;AACA;EACAH,EAAE,CAACI,KAAH,CAASC,MAAT,CAAgB,mBAAhB,EAAqC;IACnCC,MAAM,EAAEN,EAAE,CAACO,IAAH,CAAQC,MADmB;IAEnCC,IAAI,EAAE,WAF6B;IAInCC,SAJmC,uBAIvB;MAAA;;MACV;MACA,KAAKC,WAAL,GAAmB,CAAC,gBAAD,CAAnB;MAEA,KAAKC,SAAL,GAAmB,IAAIZ,EAAE,CAACa,IAAH,CAAQC,KAAZ,EAAnB;MACA,KAAKC,iBAAL,GAAyB,EAAzB;;MACA,KAAKH,SAAL,CAAiBI,WAAjB,CAA6B,cAA7B,EAA6C,UAAAC,EAAE,EAAI;QACjD,KAAI,CAACC,cAAL,CAAoBD,EAAE,CAACE,OAAH,OAAiB,CAArC;MACD,CAFD;;MAGA,KAAKC,SAAL,GAAiB,EAAjB;MAEA,KAAKC,QAAL,GAAgB;QAAEC,MAAM,EAAE,EAAV;QAAcC,MAAM,EAAE;MAAtB,CAAhB;MACA,IAAMC,KAAK,GAAG,IAAIxB,EAAE,CAACyB,EAAH,CAAMC,OAAN,CAAcC,KAAlB,EAAd;MACA,KAAKC,WAAL,CAAiBJ,KAAjB;MACA,IAAMK,GAAG,GAAG7B,EAAE,CAACO,IAAH,CAAQuB,IAAR,CAAaC,cAAb,EAAZ;;MACA,IAAIF,GAAJ,EAAS;QACP;QACA,IAAMG,OAAO,GAAGH,GAAG,CAACI,iBAAJ,EAAhB;QACAD,OAAO,CAACE,GAAR,CAAYV,KAAZ;QACAQ,OAAO,CAACG,SAAR,CAAkBX,KAAlB;MACD;IACF,CAzBkC;IA2BnCY,UAAU,EAAE;MACV;AACJ;AACA;MACIC,WAAW,EAAE;QACXC,KAAK,EAAE,SADI;QAEXC,IAAI,EAAE,KAFK;QAGXC,KAAK,EAAE,cAHI;QAIXC,KAAK,EAAE;MAJI,CAJH;;MAWV;AACJ;AACA;MACIC,aAAa,EAAE;QACbJ,KAAK,EAAE,SADM;QAEbC,IAAI,EAAE,KAFO;QAGbC,KAAK,EAAE;MAHM,CAdL;;MAoBV;AACJ;AACA;AACA;MACIG,KAAK,EAAE;QACLL,KAAK,EAAE,SADF;QAELC,IAAI,EAAE,KAFD;QAGLE,KAAK,EAAE,aAHF;QAILD,KAAK,EAAE;MAJF,CAxBG;MA+BVI,WAAW,EAAE;QACXN,KAAK,EAAE,uBADI;QAEXO,QAAQ,EAAE,IAFC;QAGXJ,KAAK,EAAE;MAHI,CA/BH;MAqCVK,WAAW,EAAE;QACXR,KAAK,EAAE,SADI;QAEXC,IAAI,EAAE,KAFK;QAGXC,KAAK,EAAE,mBAHI;QAIXC,KAAK,EAAE;MAJI,CArCH;MA4CVM,QAAQ,EAAE;QACRT,KAAK,EAAE,qBADC;QAERO,QAAQ,EAAE;MAFF,CA5CA;MAiDV;MACAG,iBAAiB,EAAE;QACjBV,KAAK,EAAE,QADU;QAEjBO,QAAQ,EAAE,IAFO;QAGjBL,KAAK,EAAE;MAHU,CAlDT;MAwDVS,YAAY,EAAE;QACZX,KAAK,EAAE,aADK;QAEZO,QAAQ,EAAE,IAFE;QAGZL,KAAK,EAAE;MAHK,CAxDJ;MA8DVU,UAAU,EAAE;QACVZ,KAAK,EAAE,QADG;QAEVO,QAAQ,EAAE;MAFA;IA9DF,CA3BuB;;IA+FnC;AACF;AACA;AACA;AACA;IACEM,OAAO,EAAE;MACP;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;MACI9B,QAAQ,EAAE,IATH;MAWP+B,kBAAkB,EAAE,CAXb;MAaPxC,SAAW,EAAE,IAbN;MAcPG,iBAAiB,EAAE,IAdZ;MAgBP;MACAJ,WAAW,EAAE,IAjBN;MAmBP0C,kBAnBO,8BAmBYC,GAnBZ,EAmBiB;QACtB,IAAIC,EAAE,CAACC,MAAH,CAAUC,WAAV,IAAyBH,GAA7B,EAAkC;UAChC,KAAKI,aAAL,CAAmBH,EAAE,CAACI,WAAH,CAAeC,MAAf,CAAsBN,GAAtB,CAAnB;QACD,CAFD,MAEO;UACL,KAAKO,eAAL;QACD;MACF,CAzBM;;MA2BP;AACJ;AACA;AACA;AACA;MACIC,SAhCO,qBAgCGC,KAhCH,EAgCU;QACf,IAAI,CAACjD,KAAK,CAACkD,OAAN,CAAcD,KAAd,CAAL,EAA2B;UACzBA,KAAK,GAAG,CAACA,KAAD,CAAR;QACD;;QACD,IAAME,aAAa,GAAG,KAAKtD,WAAL,CAAiBuD,MAAjB,CAAwB,UAAUC,IAAV,EAAgB;UAC5D,OAAOJ,KAAK,CAACK,OAAN,CAAcD,IAAd,KAAuB,CAA9B;QACD,CAFqB,CAAtB;;QAGA,IAAIF,aAAa,CAACI,MAAlB,EAA0B;UACxBN,KAAK,GAAGA,KAAK,CAACG,MAAN,CAAa,UAAUI,CAAV,EAAa;YAChC,OAAO,CAACL,aAAa,CAACM,QAAd,CAAuBD,CAAvB,CAAR;UACD,CAFO,CAAR;QAGD;;QACD,KAAK1D,SAAL,CAAiB4D,MAAjB,CAAwBT,KAAxB;;QACA,IAAMU,UAAU,GAAG,IAAIzE,EAAE,CAACa,IAAH,CAAQC,KAAZ,CAAkBiD,KAAlB,CAAnB;;QACA/D,EAAE,CAAC0E,EAAH,CAAMC,UAAN,CAAiBC,OAAjB,CACEb,KADF,EAEE,UAAUc,MAAV,EAAkB;UAChBd,KAAK,CAACe,OAAN,CAAc,UAAUX,IAAV,EAAgBY,GAAhB,EAAqB;YACjC,IAAIF,MAAM,CAACE,GAAD,CAAN,KAAgB,UAApB,EAAgC;cAC9B,KAAKnE,SAAL,CAAiBoE,MAAjB,CAAwBb,IAAxB;;cACA,KAAKc,KAAL,CAAW,8BAA8Bd,IAAzC;;cACA,IAAIA,IAAI,CAACe,UAAL,CAAgB,YAAhB,CAAJ,EAAmC;gBACjC,IAAI,CAAC3B,EAAE,CAACC,MAAH,CAAU2B,eAAf,EAAgC;kBAC9B5B,EAAE,CAACC,MAAH,CAAU2B,eAAV,GAA4BhB,IAAI,CAACiB,SAAL,CAAe,EAAf,CAA5B;gBACD;;gBACDpF,EAAE,CAACO,IAAH,CAAQuB,IAAR,CAAaC,cAAb,GAA8BsD,kBAA9B,CAAiD,IAAjD;cACD;;cACD,KAAKzE,SAAL,CAAiBoE,MAAjB,CAAwBb,IAAxB;;cACAM,UAAU,CAACO,MAAX,CAAkBb,IAAlB;YACD,CAXD,MAWO;cACL,KAAKmB,KAAL,CAAW,wBAAwBnB,IAAnC;YACD;UACF,CAfD,EAeG,IAfH;QAgBD,CAnBH,EAoBE,IApBF,EAde,CAqCf;;;QACAnE,EAAE,CAAC0E,EAAH,CAAMC,UAAN,CAAiBC,OAAjB,CACEX,aADF,EAEE,UAAUY,MAAV,EAAkB;UAChBZ,aAAa,CAACa,OAAd,CAAsB,UAAUX,IAAV,EAAgBY,GAAhB,EAAqB;YACzC,IAAIF,MAAM,CAACE,GAAD,CAAN,KAAgB,UAApB,EAAgC;cAC9B,KAAKE,KAAL,CAAW,mCAAmCd,IAA9C;cACAM,UAAU,CAACO,MAAX,CAAkBb,IAAlB;YACD,CAHD,MAGO;cACL,KAAKmB,KAAL,CAAW,6BAA6BnB,IAAxC;YACD;UACF,CAPD,EAOG,IAPH;QAQD,CAXH,EAYE,IAZF;;QAeA,OAAO,IAAIoB,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;UACtC,IAAMC,KAAK,GAAGC,UAAU,CAACF,MAAD,EAAS,IAAT,CAAxB;;UACA,IAAIhB,UAAU,CAACmB,SAAX,OAA2B,CAA/B,EAAkC;YAChCJ,OAAO;YACPK,YAAY,CAACH,KAAD,CAAZ;UACD,CAHD,MAGO;YACLjB,UAAU,CAACzD,WAAX,CAAuB,cAAvB,EAAuC,UAAAC,EAAE,EAAI;cAC3C,IAAIA,EAAE,CAACE,OAAH,OAAiB,CAArB,EAAwB;gBACtBqE,OAAO;gBACPK,YAAY,CAACH,KAAD,CAAZ;cACD;YACF,CALD;UAMD;QACF,CAbM,CAAP;MAcD,CAnGM;MAqGP;MACAI,WAtGO,uBAsGKC,KAtGL,EAsGY;QACjB,IAAIA,KAAK,KAAK,IAAd,EAAoB;UAClB,KAAKC,OAAL;QACD;MACF,CA1GM;MA4GP;MACAC,YA7GO,wBA6GMF,KA7GN,EA6GaG,GA7Gb,EA6GkBC,IA7GlB,EA6GwB;QAC7B,KAAKlB,KAAL,CAAWkB,IAAI,GAAG,MAAP,GAAgBJ,KAAhB,GAAwB,MAAnC;;QACA,IAAI,KAAKK,aAAL,MAAwB,KAAKC,eAAL,EAA5B,EAAoD;UAClD,KAAKC,QAAL,CAAc,IAAd;QACD;MACF,CAlHM;MAoHP;MACAC,iBArHO,6BAqHWR,KArHX,EAqHkB;QACvB,IAAIA,KAAJ,EAAW;UACTS,QAAQ,CAACC,IAAT,CAAcC,KAAd,CAAoBC,UAApB,GAAiC,EAAjC;UACA3G,EAAE,CAACyC,KAAH,CAASmE,OAAT,CAAiBC,GAAjB,CAAqBC,cAArB,CAAoC,oBAApC,EAFS,CAGT;;UACA,KAAK/F,iBAAL,CAAuB+D,OAAvB,CAA+B,UAAUiC,KAAV,EAAiB;YAC9C,IAAMC,QAAQ,GAAGD,KAAK,CAACE,KAAN,EAAjB;YACA,IAAMC,OAAO,GAAGH,KAAK,CAACE,KAAN,EAAhB;YACAD,QAAQ,CAACxE,KAAT,CAAe0E,OAAf,EAAwBH,KAAxB;UACD,CAJD,EAIG,IAJH;;UAKA,KAAKhG,iBAAL,GAAyB,EAAzB;UACAwC,EAAE,CAACmB,EAAH,CAAMyC,kBAAN,CAAyBC,iBAAzB;QACD;MACF,CAlIM;;MAoIP;AACJ;AACA;AACA;AACA;MACIC,sBAzIO,kCAyIgBL,QAzIhB,EAyI0BE,OAzI1B,EAyImC;QACxC,IAAI,CAAC,KAAKI,aAAL,EAAL,EAA2B;UACzB;UACA,KAAKvG,iBAAL,CAAuBwG,IAAvB,CAA4BzG,KAAK,CAAC0G,SAAN,CAAgBC,KAAhB,CAAsBC,IAAtB,CAA2BC,SAA3B,CAA5B;QACD,CAHD,MAGO;UACLX,QAAQ,CAACxE,KAAT,CAAe0E,OAAf,EAAwBpG,KAAK,CAAC0G,SAAN,CAAgBC,KAAhB,CAAsBC,IAAtB,CAA2BC,SAA3B,EAAsC,CAAtC,CAAxB;QACD;MACF,CAhJM;;MAkJP;AACJ;AACA;MACUC,KArJC,mBAqJO;QAAA;;QAAA;UAAA;UAAA;YAAA;cAAA;gBACZ;AACN;AACA;gBACM;gBACMC,QALM,GAKKtE,EAAE,CAACC,MAAH,CAAUsE,cALf,EAMZ;gBACA;;gBACMC,QARM,GAQK,MAAI,CAACC,eAAL,GAAuBC,eAR5B;gBAUN3E,GAVM,GAUA,MAAI,CAAC0E,eAAL,EAVA;gBAYRE,gBAZQ,GAYWH,QAAQ,CAACI,YAAT,CAAsB,QAAtB,CAZX;;gBAAA,IAaPD,gBAbO;kBAAA;kBAAA;gBAAA;;gBAAA,cAcFH,QAAQ,CAACK,OAAT,CAAiBC,WAAjB,EAdE;gBAAA,gCAeH,QAfG,uBAmBH,OAnBG;gBAAA;;cAAA;gBAgBNH,gBAAgB,GAAG,MAAnB;gBAhBM;;cAAA;gBAoBNA,gBAAgB,GAAG,MAAnB;gBApBM;;cAAA;gBAwBZ;gBACA;gBACA,IAAI,CAAC3E,EAAE,CAACC,MAAH,CAAU8E,YAAX,IAA2B,CAACT,QAAQ,CAACS,YAAzC,EAAuD;kBACrD,IAAIJ,gBAAJ,EAAsB;oBACpBL,QAAQ,CAACS,YAAT,GAAwBJ,gBAAxB;kBACD,CAFD,MAEO;oBACL;oBACA,MAAI,CAACK,YAAL;kBACD;gBACF;;gBAEDV,QAAQ,CAACW,aAAT,GAAyB,EAAzB;gBACAX,QAAQ,CAACY,YAAT,GAAwB,EAAxB;gBACMC,MArCM,GAqCGnF,EAAE,CAACC,MAAH,CAAUmF,SAAV,EArCH;;gBAsCZ,IAAID,MAAJ,EAAY;kBACNE,OADM,GACI,aAAaF,MADjB;kBAEVb,QAAQ,CAACY,YAAT,CAAsBlB,IAAtB,CAA2BqB,OAAO,GAAG,YAArC;kBACAf,QAAQ,CAACY,YAAT,CAAsBlB,IAAtB,CAA2B;oBACzBsB,GAAG,EAAED,OAAO,GAAG,aADU;oBAEzBE,KAAK,kCAA2BvF,EAAE,CAACC,MAAH,CAAUuF,oBAArC;kBAFoB,CAA3B;kBAKAlB,QAAQ,CAACY,YAAT,CAAsBlB,IAAtB,CAA2BqB,OAAO,GAAG,aAArC;kBACAf,QAAQ,CAACW,aAAT,CAAuBjB,IAAvB,CAA4B,aAAamB,MAAb,GAAsB,kBAAlD;kBAEMM,MAXI,GAWKzF,EAAE,CAAC0F,IAAH,CAAQC,YAAR,CAAqBC,WAArB,EAXL;kBAYVH,MAAM,CAACI,eAAP,CAAuB,aAAvB,EAAsC,UAAAnI,EAAE,EAAI;oBAC1C,IAAIA,EAAE,CAACE,OAAH,OAAiBuH,MAArB,EAA6B;sBAC3B,MAAI,CAACpD,KAAL,CACE,qBAAqBoD,MAArB,GAA8B,wCAA9B,GAAyEnF,EAAE,CAACC,MAAH,CAAU2B,eAAnF,GAAqG,GADvG;;sBAIAyD,OAAO,GAAG,aAAarF,EAAE,CAACC,MAAH,CAAU2B,eAAjC;sBACA,IAAMkE,iBAAiB,GAAG,CAACT,OAAO,GAAG,YAAX,CAA1B;sBACAS,iBAAiB,CAAC9B,IAAlB,CAAuB;wBACrBsB,GAAG,EAAED,OAAO,GAAG,aADM;wBAErBE,KAAK,kCAA2BvF,EAAE,CAACC,MAAH,CAAU8F,qBAArC;sBAFgB,CAAvB;sBAKAD,iBAAiB,CAAC9B,IAAlB,CAAuBqB,OAAO,GAAG,aAAjC;sBACArF,EAAE,CAAC0F,IAAH,CAAQC,YAAR,CAAqBC,WAArB,GAAmCI,SAAnC,CAA6CF,iBAA7C;sBACA9F,EAAE,CAAC0F,IAAH,CAAQC,YAAR,CAAqBC,WAArB,GAAmCK,UAAnC,CAA8CZ,OAAO,GAAG,kBAAxD;oBACD;kBACF,CAjBD;kBAkBAI,MAAM,CAACI,eAAP,CAAuB,cAAvB,EAAuC,MAAI,CAACK,gBAA5C,EAA8D,MAA9D;gBACD,CArEW,CAsEZ;;;gBAtEY;gBAAA,OAuEN,MAAI,CAAC3F,SAAL,CAAe,CAACP,EAAE,CAACC,MAAH,CAAUkG,YAAV,EAAD,CAAf,CAvEM;;cAAA;gBAwEZ,IAAInG,EAAE,CAACoG,WAAH,CAAeC,mBAAf,CAAmCC,oBAAnC,CAAwDvG,GAAxD,CAAJ,EAAkE;kBAChEC,EAAE,CAACmB,EAAH,CAAMyC,kBAAN,CAAyB2C,kBAAzB;gBACD;;gBACDvG,EAAE,CAACoG,WAAH,CAAeC,mBAAf,CAAmCG,aAAnC,CAAiDzG,GAAjD;gBA3EY;gBAAA,OA4ENC,EAAE,CAACoG,WAAH,CAAeC,mBAAf,CAAmCI,QAAnC,CAA4C1G,GAA5C,CA5EM;;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MA6Eb,CAlOM;MAoOPmG,gBApOO,8BAoOY;QACjB,IAAMQ,KAAK,GAAGC,gBAAgB,CAAC1D,QAAQ,CAACC,IAAV,CAAhB,CAAgC0D,gBAAhC,CAAiD,kBAAjD,CAAd;QACA,IAAIC,OAAO,GAAGC,MAAM,CAACC,QAAP,CAAgBC,QAA9B;;QACA,IAAIH,OAAO,CAACI,QAAR,CAAiB,aAAjB,CAAJ,EAAqC;UACnC,IAAMzG,KAAK,GAAGqG,OAAO,CAACK,KAAR,CAAc,GAAd,CAAd;UACA1G,KAAK,CAAC2G,GAAN;UACAN,OAAO,GAAGrG,KAAK,CAAC4G,IAAN,CAAW,GAAX,IAAkB,GAA5B;QACD;;QACDP,OAAO,GAAGC,MAAM,CAACC,QAAP,CAAgBM,MAAhB,GAAyBR,OAAnC;QAEA,IAAMS,QAAQ,GAAGR,MAAM,CAACC,QAAP,CAAgBM,MAAhB,GAAyBP,MAAM,CAACC,QAAP,CAAgBC,QAAzC,GAAoDF,MAAM,CAACC,QAAP,CAAgBQ,MAArF;QACA,IAAMC,QAAQ,GAAGvK,MAAM,CAACwK,MAAP,CAAczH,EAAE,CAACC,MAAH,CAAUyH,eAAxB,EAAyC;UACxDC,SAAS,EAAEL,QAD6C;UAExDM,KAAK,EAAEN,QAFiD;UAGxDO,WAAW,EAAEnB,KAH2C;UAIxDoB,gBAAgB,EAAEpB;QAJsC,CAAzC,CAAjB;;QAXiB,2CAiBEc,QAAQ,CAACO,KAjBX;QAAA;;QAAA;UAiBjB,oDAAmC;YAAA,IAAxBC,IAAwB;YACjCA,IAAI,CAACC,GAAL,GAAWpB,OAAO,GAAGmB,IAAI,CAACC,GAA1B;UACD;QAnBgB;UAAA;QAAA;UAAA;QAAA;;QAoBjB,IAAMC,cAAc,GAAGC,IAAI,CAACC,SAAL,CAAeZ,QAAf,CAAvB;QACA,IAAMa,IAAI,GAAG,IAAIC,IAAJ,CAAS,CAACJ,cAAD,CAAT,EAA2B;UAAEhL,IAAI,EAAE;QAAR,CAA3B,CAAb;QACA,IAAMqL,WAAW,GAAGC,GAAG,CAACC,eAAJ,CAAoBJ,IAApB,CAApB;QACApF,QAAQ,CAACyF,aAAT,CAAuB,eAAvB,EAAwCC,YAAxC,CAAqD,MAArD,EAA6DJ,WAA7D;QACA,IAAIK,iBAAiB,GAAG3F,QAAQ,CAACyF,aAAT,CAAuB,kBAAvB,CAAxB;;QACA,IAAI,CAACE,iBAAL,EAAwB;UACtBA,iBAAiB,GAAG3F,QAAQ,CAAC4F,aAAT,CAAuB,MAAvB,CAApB;UACAD,iBAAiB,CAACD,YAAlB,CAA+B,IAA/B,EAAqC,iBAArC;UACAC,iBAAiB,CAACD,YAAlB,CAA+B,MAA/B,EAAuC,aAAvC;UACA1F,QAAQ,CAACyF,aAAT,CAAuB,aAAvB,EAAsCI,WAAtC,CAAkDF,iBAAlD;QACD;;QACD3F,QAAQ,CAACyF,aAAT,CAAuB,kBAAvB,EAA2CC,YAA3C,CAAwD,SAAxD,EAAmEjC,KAAnE;MACD,CApQM;;MAsQP;AACJ;AACA;MACIjE,OAzQO,qBAyQG;QACR;QACA,KAAKf,KAAL,CAAW,OAAX;QACA1B,EAAE,CAACoG,WAAH,CAAeC,mBAAf,CAAmC0C,QAAnC,CAA4C,KAAKtE,eAAL,EAA5C;QACA,KAAKuE,iBAAL,GAJQ,CAIkB;;QAC1B,KAAKC,gBAAL;MAKD,CAnRM;;MAqRP;AACJ;AACA;MACIA,gBAxRO,8BAwRY;QACjB,IAAI,OAAOjJ,EAAE,CAACC,MAAH,CAAUsE,cAAV,CAAyB2E,eAAhC,KAAoD,QAAxD,EAAkE;UAChE,KAAKC,UAAL,GAAkB,IAAI1M,EAAE,CAACyC,KAAH,CAASkK,KAAb,CAAmBpJ,EAAE,CAACC,MAAH,CAAUsE,cAAV,CAAyB2E,eAAzB,GAA2C,IAA9D,CAAlB;UAEA,KAAKC,UAAL,CAAgB1L,WAAhB,CACE,UADF,EAEEuC,EAAE,CAACoG,WAAH,CAAeC,mBAAf,CAAmCgD,YAFrC,EAGErJ,EAAE,CAACoG,WAAH,CAAeC,mBAHjB;UAMA,KAAK8C,UAAL,CAAgBG,KAAhB;UACA7M,EAAE,CAACyC,KAAH,CAASqK,YAAT,CAAsB9L,WAAtB,CAAkCqJ,MAAlC,EAA0C,YAA1C,EAAwD,KAAKqC,UAAL,CAAgBK,OAAxE,EAAiF,KAAKL,UAAtF;QACD;MACF,CArSM;MAuSPM,uBAvSO,mCAuSiBjH,KAvSjB,EAuSwBG,GAvSxB,EAuS6B;QAClC,IAAIA,GAAJ,EAAS;UACP,IAAM+G,UAAU,GAAGzG,QAAQ,CAACyF,aAAT,CAAuB/F,GAAvB,CAAnB;;UACA,IAAI+G,UAAJ,EAAgB;YACdA,UAAU,CAACC,SAAX,CAAqBlI,MAArB,CAA4B,mBAA5B;UACD;QACF;;QACD,IAAIe,KAAJ,EAAW;UACT,IAAMoH,OAAO,GAAG3G,QAAQ,CAACyF,aAAT,CAAuBlG,KAAvB,CAAhB;;UACA,IAAIoH,OAAJ,EAAa;YACXA,OAAO,CAACD,SAAR,CAAkBhL,GAAlB,CAAsB,mBAAtB;UACD;QACF;MACF,CApTM;MAsTPqG,YAtTO,0BAsTQ;QACb,IAAM9B,IAAI,GAAGD,QAAQ,CAACyF,aAAT,CAAuB,MAAvB,CAAb;QAEAzF,QAAQ,CAAC4G,gBAAT,CAA0B,UAA1B,EAAsCtI,OAAtC,CAA8C,UAAUuI,IAAV,EAAgB;UAC5DA,IAAI,CAAC3G,KAAL,CAAW4G,OAAX,GAAqB,MAArB;QACD,CAFD,EAEG,IAFH;QAGA7G,IAAI,CAACC,KAAL,CAAW,kBAAX,IAAiC,OAAjC;QAEA,IAAM6G,GAAG,GAAGvN,EAAE,CAACwN,GAAH,CAAOC,OAAP,CAAeC,MAAf,CAAsB,KAAtB,EAA6B;UAAEC,EAAE,EAAE;QAAN,CAA7B,CAAZ;QACAnN,MAAM,CAACoN,OAAP,CAAe;UACbC,UAAU,EAAE,SADC;UAEbC,KAAK,EAAE,OAFM;UAGb7D,KAAK,EAAE,OAHM;UAIb8D,MAAM,EAAE,MAJK;UAKbC,OAAO,EAAE;QALI,CAAf,EAMGlJ,OANH,CAMW,UAAUmJ,SAAV,EAAqB;UAC9BxH,IAAI,CAACC,KAAL,CAAWuH,SAAS,CAAC,CAAD,CAApB,IAA2BA,SAAS,CAAC,CAAD,CAApC;QACD,CARD;QASAV,GAAG,CAACW,SAAJ,GAAgB,aAAhB;QAEAzH,IAAI,CAAC4F,WAAL,CAAiBkB,GAAjB;QAEA,IAAMY,KAAK,GAAG,IAAInO,EAAE,CAACa,IAAH,CAAQsN,KAAR,CAAcC,IAAlB,CAAuBpO,EAAE,CAACiJ,IAAH,CAAQoF,eAAR,CAAwBlF,WAAxB,GAAsCmF,KAAtC,CAA4C,yBAA5C,CAAvB,CAAd;QAEAH,KAAK,CAACnN,WAAN,CAAkB,QAAlB,EAA4B,YAAY;UACtC,IAAIuN,IAAI,GAAG,+BAAX;UACAA,IAAI,IACF,wJADF;UAGAhB,GAAG,CAACW,SAAJ,GAAgBK,IAAhB;UAEAJ,KAAK,CAACK,QAAN,GAAiB1J,OAAjB,CAAyB,UAAUqI,OAAV,EAAmB;YAC1C,IAAMsB,KAAK,GAAGzO,EAAE,CAACwN,GAAH,CAAOC,OAAP,CAAeC,MAAf,CAAsB,KAAtB,EAA6B;cACzCgB,MAAM,EAAE,SADiC;cAEzCV,OAAO,EAAE,WAFgC;cAGzCW,YAAY,EAAE,iBAH2B;cAIzCZ,MAAM,EAAE,MAJiC;cAKzCD,KAAK,EAAE,OALkC;cAMzCc,QAAQ,EAAE;YAN+B,CAA7B,CAAd;YASAH,KAAK,CAACP,SAAN,GAAkB,iEAAiEf,OAAjE,GAA2E,QAA7F;YACAsB,KAAK,CAACP,SAAN,IACE,kBACAlO,EAAE,CAACiJ,IAAH,CAAQoF,eAAR,CAAwBlF,WAAxB,GAAsCmF,KAAtC,CAA4C,6BAA5C,CADA,GAEA,UAFA,GAGAnB,OAHA,GAIA,qGALF;YAMAsB,KAAK,CAACP,SAAN,IACE,sCACAlO,EAAE,CAACiJ,IAAH,CAAQoF,eAAR,CAAwBlF,WAAxB,GAAsCmF,KAAtC,CAA4C,sBAA5C,CADA,GAEA,kEAHF;YAKAf,GAAG,CAAClB,WAAJ,CAAgBoC,KAAhB;YAEA,IAAMI,IAAI,GAAG7O,EAAE,CAACwN,GAAH,CAAOC,OAAP,CAAeC,MAAf,CAAsB,KAAtB,EAA6B;cACxCG,UAAU,EAAE,aAD4B;cAExCe,QAAQ,EAAE,UAF8B;cAGxCE,MAAM,EAAE,MAHgC;cAIxChB,KAAK,EAAE,OAJiC;cAKxCiB,MAAM,EAAE;YALgC,CAA7B,CAAb;YAQA,IAAMC,GAAG,GAAGxI,QAAQ,CAACyF,aAAT,CAAuB,QAAvB,EAAiCgD,qBAAjC,EAAZ;YACAzO,MAAM,CAACoN,OAAP,CAAe;cACbsB,IAAI,EAAEF,GAAG,CAACE,IAAJ,GAAW,IADJ;cAEbC,GAAG,EAAEH,GAAG,CAACG,GAAJ,GAAU;YAFF,CAAf,EAGGrK,OAHH,CAGW,UAAUmJ,SAAV,EAAqB;cAC9BY,IAAI,CAACnI,KAAL,CAAWuH,SAAS,CAAC,CAAD,CAApB,IAA2BA,SAAS,CAAC,CAAD,CAApC;YACD,CALD;YAMAQ,KAAK,CAACpC,WAAN,CAAkBwC,IAAlB;YAEA7O,EAAE,CAACyC,KAAH,CAASqK,YAAT,CAAsB9L,WAAtB,CACEyN,KADF,EAEE,aAFF,EAGE,YAAY;cACVA,KAAK,CAAC/H,KAAN,CAAYmH,UAAZ,GAAyB,SAAzB;YACD,CALH,EAME,IANF;YASA7N,EAAE,CAACyC,KAAH,CAASqK,YAAT,CAAsB9L,WAAtB,CACEyN,KADF,EAEE,YAFF,EAGE,YAAY;cACVA,KAAK,CAAC/H,KAAN,CAAYmH,UAAZ,GAAyB,aAAzB;YACD,CALH,EAME,IANF;YASA7N,EAAE,CAACyC,KAAH,CAASqK,YAAT,CAAsB9L,WAAtB,CAAkCyN,KAAlC,EAAyC,KAAzC,EAAgD,YAAY;cAC1D,IAAIW,IAAI,GAAG5I,QAAQ,CAAC8D,QAAT,CAAkB8E,IAA7B;;cACA,IAAI5I,QAAQ,CAAC8D,QAAT,CAAkB+E,IAAtB,EAA4B;gBAC1BD,IAAI,GAAGA,IAAI,CAAC3E,KAAL,CAAW,GAAX,EAAgB,CAAhB,CAAP;cACD;;cACD,IAAIjE,QAAQ,CAAC8D,QAAT,CAAkBQ,MAAlB,KAA6B,EAAjC,EAAqC;gBACnCtE,QAAQ,CAAC8D,QAAT,CAAkB8E,IAAlB,GAAyBA,IAAI,GAAG,UAAP,GAAoBjC,OAA7C;cACD,CAFD,MAEO;gBACL3G,QAAQ,CAAC8D,QAAT,CAAkB8E,IAAlB,GAAyBA,IAAI,GAAG,UAAP,GAAoBjC,OAA7C;cACD;YACF,CAVD;UAWD,CAtED;QAuED,CA9ED;MA+ED;IA7ZM,CApG0B;;IAogBnC;AACF;AACA;AACA;AACA;IACEmC,QAzgBmC,sBAygBxB;MACT,KAAKC,eAAL,CAAqB,sBAArB;IACD;EA3gBkC,CAArC;EAtBAhM,EAAE,CAACiM,cAAH,CAAkBrP,aAAlB,GAAkCA,aAAlC"
}