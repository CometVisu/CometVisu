{
  "version": 3,
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "type",
    "statics",
    "__handlers",
    "lookupM",
    "lookupS",
    "model",
    "cv",
    "data",
    "Model",
    "getInstance",
    "__templates",
    "getTemplates",
    "addTemplate",
    "name",
    "templateData",
    "addHandler",
    "tagName",
    "handler",
    "toLowerCase",
    "getHandler",
    "unknown",
    "renderTemplates",
    "rootPage",
    "querySelectorAll",
    "forEach",
    "elem",
    "templateName",
    "getAttribute",
    "variables",
    "Array",
    "prototype",
    "call",
    "children",
    "variable",
    "innerHTML",
    "Object",
    "hasOwnProperty",
    "renderedString",
    "bom",
    "Template",
    "render",
    "replace",
    "trim",
    "helperNode",
    "ownerDocument",
    "createElement",
    "substring",
    "length",
    "replacement",
    "firstElementChild",
    "next",
    "nextElementSibling",
    "parent",
    "parentNode",
    "replaceChild",
    "insertBefore",
    "parse",
    "xml",
    "path",
    "flavour",
    "pageType",
    "tag",
    "nodeName",
    "parser",
    "result",
    "log",
    "Logger",
    "debug",
    "parseBasicElement",
    "element",
    "setWidgetData",
    "$$type",
    "pure",
    "WidgetParser",
    "getElementType",
    "parseElement",
    "mappings",
    "createDefaultWidget",
    "key",
    "map",
    "value",
    "undefined",
    "transform",
    "target",
    "parseStyling",
    "__getAttributeToPropertyMappings",
    "__P_9_2",
    "getAttributeToPropertyMappings",
    "getDefaultClasses",
    "widgetType",
    "layout",
    "parseLayout",
    "from",
    "filter",
    "m",
    "matches",
    "style",
    "keys",
    "extractLayout",
    "classes",
    "setWidgetLayout",
    "split",
    "className",
    "label",
    "parseLabel",
    "querySelector",
    "bindClickToWidget",
    "Config",
    "configSettings",
    "prop",
    "responsive",
    "find",
    "endsWith",
    "defaultValues",
    "ret_val",
    "__extractLayoutAttribute",
    "__P_9_3",
    "property",
    "x",
    "y",
    "width",
    "height",
    "extractLayout3d",
    "z",
    "floor",
    "floorFilter",
    "roomFilter",
    "labelClass",
    "Application",
    "structureController",
    "elementData",
    "getWidgetData",
    "rowspan",
    "colspan",
    "Element",
    "getAttributeNS",
    "colspanM",
    "colspanS",
    "parseFloat",
    "document",
    "dataset",
    "Math",
    "rowspanClass",
    "ui",
    "structure",
    "Manager",
    "parseFormat",
    "format",
    "parseAddress",
    "makeAddressListFn",
    "address",
    "makeAddressList",
    "id",
    "skipAdding",
    "src",
    "textContent",
    "addressInfo",
    "formatPos",
    "mode",
    "backendType",
    "getDefaultBackendName",
    "testMode",
    "window",
    "cvTestMode",
    "selector",
    "ignoreError",
    "qos",
    "retain",
    "error",
    "outerHTML",
    "backendName",
    "hasAttribute",
    "variantInfo",
    "addAddress",
    "parseRefresh",
    "doCacheControl",
    "refresh",
    "parseInt",
    "cachecontrol",
    "styling",
    "parseChildren",
    "getStoragePath",
    "childs",
    "child",
    "indexOf",
    "idx",
    "childData",
    "isArray",
    "i",
    "l",
    "push"
  ],
  "sources": [
    "/home/runner/work/CometVisu/CometVisu/source/class/cv/parser/pure/WidgetParser.js"
  ],
  "sourcesContent": [
    "/* WidgetParser.js\n *\n * copyright (c) 2010-2022, Christian Mayer and the CometVisu contributers.\n *\n * This program is free software; you can redistribute it and/or modify it\n * under the terms of the GNU General Public License as published by the Free\n * Software Foundation; either version 3 of the License, or (at your option)\n * any later version.\n *\n * This program is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for\n * more details.\n *\n * You should have received a copy of the GNU General Public License along\n * with this program; if not, write to the Free Software Foundation, Inc.,\n * 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA\n */\n\n//noinspection JSUnusedGlobalSymbols\nqx.Class.define('cv.parser.pure.WidgetParser', {\n  type: 'static',\n\n  /*\n   ******************************************************\n   STATICS\n   ******************************************************\n   */\n  statics: {\n    __handlers: {},\n    lookupM: [0, 2, 4, 6, 6, 6, 6, 12, 12, 12, 12, 12, 12],\n    lookupS: [0, 3, 6, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12],\n    model: cv.data.Model.getInstance(),\n    __templates: {},\n\n    getTemplates() {\n      return this.__templates;\n    },\n\n    addTemplate(name, templateData) {\n      this.__templates[name] = templateData;\n    },\n\n    addHandler(tagName, handler) {\n      this.__handlers[tagName.toLowerCase()] = handler;\n    },\n\n    getHandler(tagName) {\n      return this.__handlers[tagName.toLowerCase()] || this.__handlers.unknown;\n    },\n\n    /**\n     * Renders templates into the config file, if they are used\n     * @param rootPage\n     */\n    renderTemplates(rootPage) {\n      rootPage.querySelectorAll('template').forEach(function (elem) {\n        const templateName = elem.getAttribute('name');\n        const variables = {};\n        Array.prototype.forEach.call(elem.children, function (variable) {\n          variables[variable.getAttribute('name')] = variable.innerHTML;\n        });\n\n        if (Object.prototype.hasOwnProperty.call(this.__templates, templateName)) {\n          const renderedString = qx.bom.Template.render(this.__templates[templateName], variables)\n            .replace('\\n', '')\n            .trim();\n          const helperNode = elem.ownerDocument.createElement('template');\n          helperNode.innerHTML = renderedString.substring(6, renderedString.length - 7).trim();\n          // replace existing element with the rendered templates child\n          const replacement = helperNode.firstElementChild;\n          const next = elem.nextElementSibling;\n          const parent = elem.parentNode;\n          parent.replaceChild(replacement, elem);\n          while (helperNode.children.length > 0) {\n            // append the rest\n            parent.insertBefore(helperNode.children[0], next);\n          }\n        }\n      }, this);\n    },\n\n    /**\n     * Parses the widgets XML configuration and extracts the given information\n     * to a simple key/value map.\n     *\n     * @param xml {Element} XML-Element\n     * @param path {String} internal path of the widget\n     * @param flavour {String} Flavour of the widget\n     * @param pageType {String} Page type (2d, 3d, ...)\n     * @return {Map} widget data\n     */\n    parse(xml, path, flavour, pageType) {\n      let tag = xml.nodeName.toLowerCase();\n      if (tag === 'custom') {\n        // use the child of the custom element\n        xml = xml.children[0];\n        tag = xml.nodeName.toLowerCase();\n      }\n      const parser = this.getHandler(tag);\n      let result = null;\n      if (parser) {\n        result = parser.parse(xml, path, flavour, pageType);\n      } else {\n        qx.log.Logger.debug(this, 'no parse handler registered for type: ' + tag.toLowerCase());\n      }\n      return result;\n    },\n\n    parseBasicElement(element, path, flavour, pageType) {\n      return this.model.setWidgetData(path, {\n        path: path,\n        $$type: cv.parser.pure.WidgetParser.getElementType(element),\n        pageType: pageType\n      });\n    },\n\n    /**\n     * Parses the widgets XML configuration and extracts the given information\n     * to a simple key/value map.\n     * @param handler {Class} Handler class that parses this element\n     * @param element {Element} XML-Element\n     * @param path {String} internal path of the widget\n     * @param flavour {String} Flavour of the widget\n     * @param pageType {String} Page type (2d, 3d, ...)\n     * @param mappings\n     * @return {Map} HTML code\n     */\n    parseElement(handler, element, path, flavour, pageType, mappings) {\n      // and fill in widget specific data\n      const data = this.createDefaultWidget(handler, this.getElementType(element), element, path, flavour, pageType);\n\n      if (mappings) {\n        for (let key in mappings) {\n          if (Object.prototype.hasOwnProperty.call(mappings, key)) {\n            const map = mappings[key];\n            let value = element.getAttribute(key);\n            if (map['default'] !== undefined && (value === undefined || value === null)) {\n              value = map['default'];\n            }\n            if (map.transform) {\n              value = map.transform(value);\n            }\n            data[map.target || key] = value;\n          }\n        }\n      }\n      this.parseStyling(element, path);\n      return data;\n    },\n\n    /**\n     * Get the mappings needed for parsing from the handler\n     *\n     * @param handler {Class} parser handler\n     * @return {Map} parser configuration: describes how Attributes are mapped to properties\n     */\n    __getAttributeToPropertyMappings(handler) {\n      return handler && handler.getAttributeToPropertyMappings ? handler.getAttributeToPropertyMappings() : {};\n    },\n\n    getElementType(element) {\n      let type = element.nodeName.toLowerCase();\n      if (type === 'img') {\n        // workaround for unittests (<image> gets replaced by <img>\n        type = 'image';\n      }\n      return type;\n    },\n\n    getDefaultClasses(type) {\n      return 'widget clearfix ' + type.toLowerCase();\n    },\n\n    /**\n     * Create a default widget to be filled by the creator afterwards.\n     * Note: the receiver of the returned string must add an </div> closing element!\n     *\n     * @param handler {cv.parser.pure.widgets} the parser that can parse this element\n     * @param widgetType {String} of the widget type\n     * @param element   {Object} the XML element\n     * @param path       {String} of the path ID\n     * @param flavour   {String} Flavour\n     * @param pageType  {String} one of text, 2d and 3d\n     * @return {Map} parsed widget data\n     */\n    createDefaultWidget(handler, widgetType, element, path, flavour, pageType) {\n      if (handler.createDefaultWidget) {\n        return handler.createDefaultWidget(widgetType, element, path, flavour, pageType);\n      }\n\n      const layout = this.parseLayout(\n        Array.from(element.children).filter(function (m) {\n          return m.matches('layout');\n        })[0]\n      );\n\n      const style = Object.keys(layout).length === 0 ? '' : 'style=\"' + this.extractLayout(layout, pageType) + '\"';\n      let classes = handler.getDefaultClasses\n        ? handler.getDefaultClasses(widgetType)\n        : this.getDefaultClasses(widgetType);\n      // the group widgets align attribute is just targeting the group header and is handled by the widget itself, so we skip it here\n      if (element.getAttribute('align') && widgetType !== 'group') {\n        classes += ' ' + element.getAttribute('align');\n      }\n      classes += ' ' + this.setWidgetLayout(element, path);\n      if (element.getAttribute('flavour')) {\n        flavour = element.getAttribute('flavour');\n      } // sub design choice\n      if (flavour) {\n        classes += ' flavour_' + flavour;\n      }\n      if (element.getAttribute('class')) {\n        element\n          .getAttribute('class')\n          .split(' ')\n          .forEach(className => {\n            classes += ' custom_' + className;\n          });\n      }\n      const label =\n        widgetType === 'text'\n          ? this.parseLabel(element.querySelector('label'), flavour, '')\n          : this.parseLabel(element.querySelector('label'), flavour);\n\n      let bindClickToWidget = cv.Config.configSettings.bindClickToWidget;\n      if (element.getAttribute('bind_click_to_widget')) {\n        bindClickToWidget = element.getAttribute('bind_click_to_widget') === 'true';\n      }\n\n      const data = {\n        path: path,\n        $$type: widgetType.toLowerCase(),\n        pageType: pageType\n      };\n\n      data.bindClickToWidget = bindClickToWidget;\n      ['mapping', 'align', 'align'].forEach(function (prop) {\n        data[prop] = element.getAttribute(prop) || null;\n      }, this);\n\n      data.layout = layout || null;\n      data.label = label || '';\n      data.classes = classes || '';\n      data.style = style || '';\n      data.responsive = !!Object.keys(layout).find(function (prop) {\n        return prop.endsWith('-m') || prop.endsWith('-s');\n      });\n\n      return this.model.setWidgetData(path, data);\n    },\n\n    /**\n     * Parse config file layout element and convert it to an object\n     *\n     * @param layout {Element} XML config element &lt;layout&gt;\n     * @param defaultValues {Map} default layout values\n     * @return {Map}\n     */\n    parseLayout(layout, defaultValues) {\n      const ret_val = {};\n\n      if (!layout) {\n        return ret_val;\n      }\n\n      if (undefined === defaultValues) {\n        defaultValues = {};\n      }\n      ['x', 'y', 'width', 'height', 'scale', 'rowspan', 'colspan'].forEach(function (prop) {\n        this.__extractLayoutAttribute(ret_val, prop, layout, defaultValues);\n        this.__extractLayoutAttribute(ret_val, prop + '-m', layout, defaultValues);\n\n        this.__extractLayoutAttribute(ret_val, prop + '-s', layout, defaultValues);\n      }, this);\n\n      return ret_val;\n    },\n\n    __extractLayoutAttribute(ret_val, property, layout, defaultValues) {\n      if (layout.getAttribute(property)) {\n        ret_val[property] = layout.getAttribute(property);\n      } else if (defaultValues[property]) {\n        ret_val[property] = defaultValues[property];\n      }\n    },\n\n    extractLayout(layout, pageType) {\n      let ret_val = pageType === '2d' ? 'position:absolute;' : '';\n      if (layout.x) {\n        ret_val += 'left:' + layout.x + ';';\n      }\n      if (layout.y) {\n        ret_val += 'top:' + layout.y + ';';\n      }\n      if (layout.width) {\n        ret_val += 'width:' + layout.width + ';';\n      }\n      if (layout.height) {\n        ret_val += 'height:' + layout.height + ';';\n      }\n\n      return ret_val;\n    },\n\n    extractLayout3d(layout) {\n      const ret_val = {};\n      if (layout.getAttribute('x')) {\n        ret_val.x = layout.getAttribute('x');\n      }\n      if (layout.getAttribute('y')) {\n        ret_val.y = layout.getAttribute('y');\n      }\n      if (layout.getAttribute('z')) {\n        ret_val.z = layout.getAttribute('z');\n      }\n      if (layout.getAttribute('floor')) {\n        ret_val.floor = layout.getAttribute('floor');\n      }\n      if (layout.getAttribute('floorFilter')) {\n        ret_val.floorFilter = layout.getAttribute('floorFilter');\n      }\n      if (layout.getAttribute('roomFilter')) {\n        ret_val.roomFilter = layout.getAttribute('roomFilter');\n      }\n      return ret_val;\n    },\n\n    parseLabel(label, flavour, labelClass, style) {\n      return cv.Application.structureController.parseLabel(label, flavour, labelClass, style);\n    },\n\n    /**\n     * this function implements all widget layouts that are identical (JNK)\n     * implemented: rowspan, colspan\n     *\n     * @param element {Element} XML-Element from the config file for this widget\n     * @param path {String}\n     * @return {String} rowspan class or empty string\n     */\n    setWidgetLayout(element, path) {\n      const elementData = this.model.getWidgetData(path);\n      const layout = Array.from(element.children).filter(function (m) {\n        return m.matches('layout');\n      })[0];\n      let ret_val = '';\n      let rowspan = null;\n\n      if (layout) {\n        elementData.colspan = qx.xml.Element.getAttributeNS(layout, '', 'colspan');\n\n        elementData.colspanM = qx.xml.Element.getAttributeNS(layout, '', 'colspan-m');\n\n        elementData.colspanS = qx.xml.Element.getAttributeNS(layout, '', 'colspan-s');\n\n        rowspan = qx.xml.Element.getAttributeNS(layout, '', 'rowspan');\n      }\n      elementData.colspan = parseFloat(\n        elementData.colspan || document.querySelector('head').dataset['colspanDefault'] || 6\n      );\n\n      elementData.colspanM = parseFloat(\n        elementData.colspanM ||\n          cv.parser.pure.WidgetParser.lookupM[Math.floor(elementData.colspan)] ||\n          elementData.colspan\n      );\n\n      elementData.colspanS = parseFloat(\n        elementData.colspanS ||\n          cv.parser.pure.WidgetParser.lookupS[Math.floor(elementData.colspan)] ||\n          elementData.colspan\n      );\n\n      if (rowspan) {\n        elementData.rowspanClass = cv.ui.structure.pure.layout.Manager.rowspanClass(parseFloat(rowspan || 1));\n\n        ret_val = 'innerrowspan';\n      }\n      return ret_val;\n    },\n\n    /**\n     * Parse the format setting\n     * @param xml {Element} XML-Element from config\n     * @param path {String} path to the widget\n     */\n    parseFormat(xml, path) {\n      const data = this.model.getWidgetData(path);\n      const value = xml.getAttribute('format');\n      if (value) {\n        data.format = value;\n      }\n    },\n\n    /**\n     * Parses the address element\n     * @param xml {Element} address XML-Element from config\n     * @param path {String} path to the widget\n     * @param makeAddressListFn {Function?} callback for parsing address variants\n     */\n    parseAddress(xml, path, makeAddressListFn) {\n      if (xml.nodeName.toLowerCase() !== 'page') {\n        const data = this.model.getWidgetData(path);\n        data.address = cv.parser.pure.WidgetParser.makeAddressList(xml, path, makeAddressListFn);\n      }\n    },\n\n    /**\n     * this function extracts all addresses with attributes (JNK)\n     *                       elements. The first is a boolean that determins if\n     *                       the visu should listen for that address. The second\n     *                       is added as it is to the returned object.\n     *\n     * @param element {Element} address XML-Element from the config file\n     * @param id {String} id / path to the widget\n     * @param makeAddressListFn {Function?} callback for parsing address variants\n     * @param skipAdding {Boolean?} do not add address to model if true\n     * @return {Object} address\n     */\n    makeAddressList(element, id, makeAddressListFn, skipAdding) {\n      let address = {};\n      element.querySelectorAll('address').forEach(function (elem) {\n        let src = elem.textContent;\n        let transform = elem.getAttribute('transform');\n        let addressInfo = {};\n        let formatPos = +(elem.getAttribute('format-pos') || 1) | 0; // force integer\n        let mode = 1 | 2; // Bit 0 = read, Bit 1 = write  => 1|2 = 3 = readwrite\n        let backendType = cv.data.Model.getInstance().getDefaultBackendName();\n        if (!cv.Config.testMode && !window.cvTestMode) {\n          if (transform) {\n            // only check transform when not in testMode\n            switch (transform.split(':')[0].toLowerCase()) {\n              case 'dpt':\n                backendType = 'knxd';\n                break;\n\n              case 'oh':\n                backendType = 'openhab';\n                break;\n\n              case 'mqtt':\n                backendType = 'mqtt';\n                break;\n            }\n          } else {\n            backendType = 'system';\n          }\n        }\n        addressInfo.backendType = backendType;\n\n        addressInfo.selector = elem.getAttribute('selector');\n        addressInfo.ignoreError = elem.getAttribute('ignore-error') === 'true';\n        addressInfo.qos = (elem.getAttribute('qos') || 0) | 0; // force integer\n        addressInfo.retain = elem.getAttribute('retain') === 'true';\n\n        if (!src || !transform) {\n          // fix broken address-entries in config\n          qx.log.Logger.error(this, 'Either address or transform is missing in address element %1', element.outerHTML);\n\n          return;\n        }\n        switch (elem.getAttribute('mode')) {\n          case 'disable':\n            mode = 0;\n            break;\n          case 'read':\n            mode = 1;\n            break;\n          case 'write':\n            mode = 2;\n            break;\n          case 'readwrite':\n            mode = 1 | 2;\n            break;\n        }\n\n        let backendName = backendType;\n        if (elem.hasAttribute('backend')) {\n          backendName = elem.getAttribute('backend');\n        }\n        let variantInfo = makeAddressListFn\n          ? makeAddressListFn(src, transform, mode, elem.getAttribute('variant'))\n          : [true, undefined];\n        if (!skipAdding && mode & 1 && variantInfo[0]) {\n          // add only addresses when reading from them\n          this.model.addAddress(src, id, backendName);\n        }\n        if (address[src]) {\n          // we already have an entry for this address, merge the modes if the other attribute values are equal\n          if (\n            address[src].transform === transform &&\n            address[src].variantInfo === variantInfo[1] &&\n            address[src].formatPos === formatPos\n          ) {\n            mode |= address[src].mode;\n          } else {\n            qx.log.Logger.error(\n              this,\n              'multiple address entries with different configuration:',\n              address[src],\n              [transform, mode, variantInfo[1], formatPos],\n              'they are only allowed to differ in mode'\n            );\n          }\n        }\n        addressInfo.transform = transform;\n        addressInfo.mode = mode;\n        addressInfo.variantInfo = variantInfo[1];\n        addressInfo.formatPos = formatPos;\n        address[src] = addressInfo;\n      }, this);\n      return address;\n    },\n\n    parseRefresh(xml, path, doCacheControl) {\n      const data = this.model.getWidgetData(path);\n      data.refresh = xml.getAttribute('refresh') ? parseInt(xml.getAttribute('refresh')) * 1000 : 0;\n      if (doCacheControl) {\n        data.cachecontrol = (function (x) {\n          switch (x) {\n            case 'full':\n            case 'force':\n            case 'weak':\n            case 'none':\n              return x;\n\n            case 'false':\n              return 'none';\n\n            case 'true':\n            default:\n              return 'full';\n          }\n        })(xml.getAttribute('cachecontrol'));\n      }\n    },\n\n    parseStyling(xml, path) {\n      const data = this.model.getWidgetData(path);\n      data.styling = xml.getAttribute('styling');\n    },\n\n    // this might have been called from the cv.parser.pure.WidgetParser with the including class as context\n    parseChildren(xml, path, flavour, pageType) {\n      const data = this.model.getWidgetData(this.getStoragePath(xml, path));\n\n      if (!data.children) {\n        data.children = [];\n      }\n      const childs = Array.from(xml.children).filter(function (child) {\n        return ['layout', 'label', 'address'].indexOf(child.nodeName.toLowerCase()) === -1;\n      }, this);\n      childs.forEach(function (child, idx) {\n        const childData = cv.parser.pure.WidgetParser.parse(child, path + '_' + idx, flavour, pageType);\n\n        if (childData) {\n          if (Array.isArray(childData)) {\n            let i = 0;\n            const l = childData.length;\n            for (; i < l; i++) {\n              data.children.push(childData[i].path);\n            }\n          } else if (childData.path) {\n            data.children.push(childData.path);\n          }\n        }\n      }, this);\n      return data;\n    },\n\n    /**\n     * Returns the path where the widget data is stored, usually this is the same path, but there are\n     * exceptions for pages which are handled here\n     *\n     * @param xml {Element} widgets XML config element\n     * @param path {String} internal widget path e.g. id_0_2\n     */\n    getStoragePath(xml, path) {\n      if (xml.length === 1) {\n        xml = xml[0];\n      }\n      switch (xml.nodeName.toLowerCase()) {\n        case 'page':\n          return path + '_';\n        default:\n          return path;\n      }\n    }\n  }\n});\n"
  ],
  "mappings": "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"
}