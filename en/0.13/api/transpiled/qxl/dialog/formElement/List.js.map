{
  "version": 3,
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "statics",
    "register",
    "qxl",
    "dialog",
    "Dialog",
    "registerFormElementHandlers",
    "_registration",
    "initElement",
    "fieldType",
    "fieldData",
    "key",
    "formElement",
    "ui",
    "form",
    "List",
    "selectionMode",
    "setSelectionMode",
    "dragSelection",
    "mode",
    "getSelectionMode",
    "debug",
    "setDragSelection",
    "model",
    "data",
    "marshal",
    "Json",
    "createModel",
    "options",
    "controller",
    "addToFormController",
    "_formController",
    "addTarget",
    "converter",
    "value",
    "selected",
    "selectables",
    "getSelectables",
    "forEach",
    "selectable",
    "Array",
    "includes",
    "getModel",
    "getValue",
    "push",
    "selection"
  ],
  "sources": [
    "/home/runner/work/CometVisu/CometVisu/qx_packages/qooxdoo_qxl_dialog_v5_0_0/source/class/qxl/dialog/formElement/List.js"
  ],
  "sourcesContent": [
    "/* ************************************************************************\n\n   qooxdoo dialog library\n   https://github.com/qooxdoo/qxl.dialog\n\n   Copyright:\n     2020 Christian Boulanger, Derrell Lipman\n\n   License:\n     LGPL: http://www.gnu.org/licenses/lgpl.html\n     EPL: http://www.eclipse.org/org/documents/epl-v10.php\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     *  Christian Boulanger (cboulanger)\n     *  Derrell Lipman (derrell)\n\n************************************************************************ */\n\nqx.Class.define(\"qxl.dialog.formElement.List\", {\n  statics: {\n    register() {\n      qxl.dialog.Dialog.registerFormElementHandlers(\"list\", this._registration);\n    },\n\n    _registration: {\n      initElement(fieldType, fieldData, key) {\n        let formElement = new qx.ui.form.List();\n        if (fieldData.selectionMode) {\n          formElement.setSelectionMode(fieldData.selectionMode);\n        }\n        if (fieldData.dragSelection) {\n          var mode = formElement.getSelectionMode();\n          if (mode == \"single\" || mode == \"one\") {\n            this.debug(\"Drag selection not available in \" + mode);\n          } else {\n            formElement.setDragSelection(fieldData.dragSelection);\n          }\n        }\n        let model = qx.data.marshal.Json.createModel(fieldData.options);\n        new qx.data.controller.List(model, formElement, \"label\");\n        return formElement;\n      },\n\n      addToFormController(fieldType, fieldData, key, formElement) {\n        this._formController.addTarget(\n          formElement,\n          \"selection\",\n          key,\n          true,\n          {\n            converter(value) {\n              var selected = [];\n              var selectables = formElement.getSelectables();\n              selectables.forEach(function (selectable) {\n                if (\n                  (value instanceof Array || value instanceof qx.data.Array) &&\n                  value.includes(selectable.getModel().getValue())\n                ) {\n                  selected.push(selectable);\n                }\n              });\n\n              return selected;\n            },\n          },\n\n          {\n            converter(selection) {\n              var value = [];\n              selection.forEach(function (selected) {\n                value.push(selected.getModel().getValue());\n              });\n              return value;\n            },\n          }\n        );\n      },\n    },\n  },\n});\n"
  ],
  "mappings": ";;;;;;;;;;;;;;EAAAA,EAAE,CAACC,SAAS,CAACC,oBAAoB,CAACC,aAAa,CAAC;EAAhD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;EAEAH,EAAE,CAACI,KAAK,CAACC,MAAM,CAAC,6BAA6B,EAAE;IAC7CC,OAAO,EAAE;MACPC,QAAQ,WAAAA,SAAA,EAAG;QACTC,GAAG,CAACC,MAAM,CAACC,MAAM,CAACC,2BAA2B,CAAC,MAAM,EAAE,IAAI,CAACC,aAAa,CAAC;MAC3E,CAAC;MAEDA,aAAa,EAAE;QACbC,WAAW,WAAAA,YAACC,SAAS,EAAEC,SAAS,EAAEC,GAAG,EAAE;UACrC,IAAIC,WAAW,GAAG,IAAIjB,EAAE,CAACkB,EAAE,CAACC,IAAI,CAACC,IAAI,CAAC,CAAC;UACvC,IAAIL,SAAS,CAACM,aAAa,EAAE;YAC3BJ,WAAW,CAACK,gBAAgB,CAACP,SAAS,CAACM,aAAa,CAAC;UACvD;UACA,IAAIN,SAAS,CAACQ,aAAa,EAAE;YAC3B,IAAIC,IAAI,GAAGP,WAAW,CAACQ,gBAAgB,CAAC,CAAC;YACzC,IAAID,IAAI,IAAI,QAAQ,IAAIA,IAAI,IAAI,KAAK,EAAE;cACrC,IAAI,CAACE,KAAK,CAAC,kCAAkC,GAAGF,IAAI,CAAC;YACvD,CAAC,MAAM;cACLP,WAAW,CAACU,gBAAgB,CAACZ,SAAS,CAACQ,aAAa,CAAC;YACvD;UACF;UACA,IAAIK,KAAK,GAAG5B,EAAE,CAAC6B,IAAI,CAACC,OAAO,CAACC,IAAI,CAACC,WAAW,CAACjB,SAAS,CAACkB,OAAO,CAAC;UAC/D,IAAIjC,EAAE,CAAC6B,IAAI,CAACK,UAAU,CAACd,IAAI,CAACQ,KAAK,EAAEX,WAAW,EAAE,OAAO,CAAC;UACxD,OAAOA,WAAW;QACpB,CAAC;QAEDkB,mBAAmB,WAAAA,oBAACrB,SAAS,EAAEC,SAAS,EAAEC,GAAG,EAAEC,WAAW,EAAE;UAC1D,IAAI,CAACmB,eAAe,CAACC,SAAS,CAC5BpB,WAAW,EACX,WAAW,EACXD,GAAG,EACH,IAAI,EACJ;YACEsB,SAAS,WAAAA,UAACC,KAAK,EAAE;cACf,IAAIC,QAAQ,GAAG,EAAE;cACjB,IAAIC,WAAW,GAAGxB,WAAW,CAACyB,cAAc,CAAC,CAAC;cAC9CD,WAAW,CAACE,OAAO,CAAC,UAAUC,UAAU,EAAE;gBACxC,IACE,CAACL,KAAK,YAAYM,KAAK,IAAIN,KAAK,YAAYvC,EAAE,CAAC6B,IAAI,CAACgB,KAAK,KACzDN,KAAK,CAACO,QAAQ,CAACF,UAAU,CAACG,QAAQ,CAAC,CAAC,CAACC,QAAQ,CAAC,CAAC,CAAC,EAChD;kBACAR,QAAQ,CAACS,IAAI,CAACL,UAAU,CAAC;gBAC3B;cACF,CAAC,CAAC;cAEF,OAAOJ,QAAQ;YACjB;UACF,CAAC,EAED;YACEF,SAAS,WAAAA,UAACY,SAAS,EAAE;cACnB,IAAIX,KAAK,GAAG,EAAE;cACdW,SAAS,CAACP,OAAO,CAAC,UAAUH,QAAQ,EAAE;gBACpCD,KAAK,CAACU,IAAI,CAACT,QAAQ,CAACO,QAAQ,CAAC,CAAC,CAACC,QAAQ,CAAC,CAAC,CAAC;cAC5C,CAAC,CAAC;cACF,OAAOT,KAAK;YACd;UACF,CACF,CAAC;QACH;MACF;IACF;EACF,CAAC,CAAC;EAhFF/B,GAAG,CAACC,MAAM,CAACQ,WAAW,CAACG,IAAI,CAACjB,aAAa,GAAGA,aAAa;AAAC"
}