{
  "version": 3,
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Mixin",
    "define",
    "statics",
    "getInstanceByType",
    "type",
    "qxl",
    "dialog",
    "lang",
    "String",
    "firstUp",
    "e",
    "Error",
    "properties",
    "callback",
    "check",
    "nullable",
    "context",
    "image",
    "apply",
    "message",
    "allowCancel",
    "init",
    "event",
    "cancelOnEscape",
    "events",
    "ok",
    "cancel",
    "members",
    "_container",
    "_buttons",
    "_image",
    "_message",
    "_okButton",
    "_cancelButton",
    "_createWidgetContent",
    "error",
    "_createDialogContainer",
    "ui",
    "container",
    "Composite",
    "layout",
    "VBox",
    "_createButtonPane",
    "buttons",
    "HBox",
    "getLayout",
    "setAlignX",
    "core",
    "Environment",
    "get",
    "setQxObjectId",
    "addOwnedQxObject",
    "_createOkButton",
    "noFocus",
    "arguments",
    "length",
    "undefined",
    "okButton",
    "form",
    "Button",
    "tr",
    "setIcon",
    "getChildControl",
    "set",
    "width",
    "height",
    "scale",
    "setAllowStretchX",
    "addListener",
    "_handleOk",
    "focus",
    "getQxObject",
    "_createCancelButton",
    "cancelButton",
    "_handleCancel",
    "bind",
    "converter",
    "value",
    "_applyImage",
    "old",
    "setSource",
    "setVisibility",
    "_applyMessage",
    "setValue",
    "getDialogContainer",
    "promise",
    "Promise",
    "resolve",
    "reject",
    "setCallback",
    "resetCallback",
    "hide",
    "fireEvent",
    "getCallback",
    "call",
    "getContext",
    "isAllowCancel",
    "_handleEscape",
    "isCancelOnEscape",
    "getKeyCode",
    "getContentElement",
    "isSeeable",
    "MDialog"
  ],
  "sources": [
    "/home/runner/work/CometVisu/CometVisu/qx_packages/qooxdoo_qxl_dialog_v5_0_0/source/class/qxl/dialog/MDialog.js"
  ],
  "sourcesContent": [
    "/* ************************************************************************\n\n   qooxdoo dialog library\n   https://github.com/qooxdoo/qxl.dialog\n\n   Copyright:\n     2007-2020 Christian Boulanger and others\n\n   License:\n     LGPL: http://www.gnu.org/licenses/lgpl.html\n     EPL: http://www.eclipse.org/org/documents/epl-v10.php\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     *  Christian Boulanger (cboulanger)\n     *  Derrell Lipman (derrell)\n\n************************************************************************ */\n\n/**\n * Mixin that provides base functionality for Window and embedded dialog\n * @ignore(qxl.dialog.alert)\n * @ignore(qxl.dialog.error)\n * @ignore(qxl.dialog.warning)\n * @ignore(qxl.dialog.confirm)\n * @ignore(qxl.dialog.prompt)\n * @ignore(qxl.dialog.form)\n * @ignore(qxl.dialog.select)\n * @ignore(Promise)\n *\n */\nqx.Mixin.define(\"qxl.dialog.MDialog\", {\n  statics: {\n    /**\n     * Returns a dialog instance by type\n     * @param type {String} The dialog type to get\n     * @return {qxl.dialog.Dialog}\n     */\n    getInstanceByType(type) {\n      try {\n        return new qxl.dialog[qx.lang.String.firstUp(type)]();\n      } catch (e) {\n        throw new Error(type + \" is not a valid dialog type\");\n      }\n    },\n  },\n\n  properties: {\n    /**\n     * Callback function that will be called when the user\n     * has interacted with the widget. See sample callback\n     * method supplied in the source code of each dialog\n     * widget.\n     */\n    callback: {\n      check: \"Function\",\n      nullable: true,\n    },\n\n    /**\n     * The context for the callback function\n     */\n    context: {\n      check: \"Object\",\n      nullable: true,\n    },\n\n    /**\n     * A banner image/logo that is displayed on the widget,\n     * if applicable\n     */\n    image: {\n      check: \"String\",\n      nullable: true,\n      apply: \"_applyImage\",\n    },\n\n    /**\n     * The message that is displayed\n     */\n    message: {\n      check: \"String\",\n      nullable: true,\n      apply: \"_applyMessage\",\n    },\n\n    /**\n     * Whether to allow cancelling the dialog\n     */\n    allowCancel: {\n      check: \"Boolean\",\n      init: true,\n      event: \"changeAllowCancel\",\n    },\n\n    /**\n     * Whether to triger the cancel button on pressing the \"escape\" key\n     * (default: true). Depends on the 'allowCancel' property.\n     */\n    cancelOnEscape: {\n      check: \"Boolean\",\n      init: true,\n    },\n  },\n\n  events: {\n    /**\n     * Dispatched when user clicks on the \"OK\" Button\n     * @type {String}\n     */\n    ok: \"qx.event.type.Event\",\n\n    /**\n     * Dispatched when user clicks on the \"Cancel\" Button\n     * @type {String}\n     */\n    cancel: \"qx.event.type.Event\",\n  },\n\n  members: {\n    /**\n     * The container widget\n     * @var {qx.ui.container.Composite}\n     */\n    _container: null,\n\n    /**\n     * The button pane\n     * @var {qx.ui.basic.Label}\n     */\n    _buttons: null,\n\n    /**\n     * The dialog image\n     * @var {qx.ui.basic.Image}\n     */\n    _image: null,\n\n    /**\n     * The dialog message\n     * @var {qx.ui.basic.Label}\n     */\n    _message: null,\n\n    /**\n     * The OK Button\n     * @var {qx.ui.form.Button}\n     */\n    _okButton: null,\n\n    /**\n     * The cancel button\n     * @var {qx.ui.form.Button}\n     */\n    _cancelButton: null,\n\n    /**\n     * Create the content of the qxl.dialog.\n     * Extending classes must implement this method.\n     * @param properties\n     */\n    _createWidgetContent(properties) {\n      this.error(\"_createWidgetContent not implemented!\");\n    },\n\n    /**\n     * Creates the default container (VBox)\n     * @return {qx.ui.container.Composite}\n     */\n    _createDialogContainer() {\n      this._container = new qx.ui.container.Composite(\n        new qx.ui.layout.VBox(10)\n      );\n\n      return this._container;\n    },\n\n    /**\n     * Creates the button pane (HBox)\n     * @return {qx.ui.container.Composite}\n     */\n    _createButtonPane() {\n      let buttons = new qx.ui.container.Composite(new qx.ui.layout.HBox(5));\n      buttons.getLayout().setAlignX(\"center\");\n      if (qx.core.Environment.get(\"module.objectid\") === true) {\n        buttons.setQxObjectId(\"buttons\");\n        this.addOwnedQxObject(buttons);\n      }\n      return buttons;\n    },\n\n    /**\n     * Create an OK button\n     * @param noFocus\n     * @return {qx.ui.form.Button}\n     */\n    _createOkButton(noFocus = false) {\n      let okButton = (this._okButton = new qx.ui.form.Button(this.tr(\"OK\")));\n      okButton.setIcon(\"qxl.dialog.icon.ok\");\n      okButton.getChildControl(\"icon\").set({\n        width: 16,\n        height: 16,\n        scale: true,\n      });\n\n      okButton.setAllowStretchX(false);\n      okButton.addListener(\"execute\", this._handleOk, this);\n      if (!noFocus) {\n        this.addListener(\"appear\", () => okButton.focus());\n      }\n      if (qx.core.Environment.get(\"module.objectid\") === true) {\n        okButton.setQxObjectId(\"ok\");\n        this.getQxObject(\"buttons\").addOwnedQxObject(okButton);\n      }\n      return okButton;\n    },\n\n    /**\n     * Create a cancel button, which is hidden by default and will be shown\n     * if allowCancel property is set to true.\n     * @return {qx.ui.form.Button}\n     */\n    _createCancelButton() {\n      let cancelButton = (this._cancelButton = new qx.ui.form.Button(\n        this.tr(\"Cancel\")\n      ));\n\n      cancelButton.setAllowStretchX(false);\n      cancelButton.setIcon(\"qxl.dialog.icon.cancel\");\n      cancelButton.getChildControl(\"icon\").set({\n        width: 16,\n        height: 16,\n        scale: true,\n      });\n\n      cancelButton.addListener(\"execute\", this._handleCancel, this);\n      this.bind(\"allowCancel\", cancelButton, \"visibility\", {\n        converter(value) {\n          return value ? \"visible\" : \"excluded\";\n        },\n      });\n\n      if (qx.core.Environment.get(\"module.objectid\") === true) {\n        cancelButton.setQxObjectId(\"cancel\");\n        this.getQxObject(\"buttons\").addOwnedQxObject(cancelButton);\n      }\n      return cancelButton;\n    },\n\n    /**\n     * Called when the 'image' property is set\n     * @param value {String} The current value\n     * @param old {String|null} old The previous value\n     * @return {void}\n     */\n    _applyImage(value, old) {\n      this._image.setSource(value);\n      this._image.setVisibility(value ? \"visible\" : \"excluded\");\n    },\n\n    /**\n     * Called when the 'message' property is set\n     * @param value {String} The current value\n     * @param old {String|null} old The previous value\n     * @return {void}\n     */\n    _applyMessage(value, old) {\n      this._message.setValue(value);\n      this._message.setVisibility(value ? \"visible\" : \"excluded\");\n    },\n\n    /**\n     * Returns the widgets that is the container of the dialog\n     * @return {qx.ui.core.LayoutItem}\n     */\n    getDialogContainer() {\n      if (!this._container) {\n        return this._createDialogContainer();\n      }\n      return this._container;\n    },\n\n    /**\n     * Promise interface method, avoids callbacks\n     * @return {Promise} A promise that resolves with the result of the dialog\n     * action\n     */\n    promise() {\n      return new Promise(\n        function (resolve, reject) {\n          this.setCallback(\n            function (value) {\n              this.resetCallback();\n              resolve(value);\n            }.bind(this)\n          );\n        }.bind(this)\n      );\n    },\n\n    /**\n     * Handle click on ok button. Calls callback with a \"true\" argument\n     */\n    _handleOk() {\n      this.hide();\n      this.fireEvent(\"ok\");\n      if (this.getCallback()) {\n        this.getCallback().call(this.getContext(), true);\n      }\n      this.resetCallback();\n    },\n\n    /**\n     * Handle click on cancel button. Calls callback with\n     * an \"undefined\" argument\n     */\n    _handleCancel() {\n      this.hide();\n      this.fireEvent(\"cancel\");\n      if (this.isAllowCancel() && this.getCallback()) {\n        this.getCallback().call(this.getContext());\n      }\n      this.resetCallback();\n    },\n\n    /**\n     * Handles the press on the 'Escape' key\n     * @param  e {qx.event.type.KeyInput}\n     */\n    _handleEscape(e) {\n      if (\n        this.isCancelOnEscape() &&\n        e.getKeyCode() === 27 &&\n        this.getContentElement() &&\n        this.isSeeable()\n      ) {\n        this._handleCancel();\n      }\n    },\n  },\n});\n"
  ],
  "mappings": "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"
}