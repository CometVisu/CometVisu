{
  "version": 3,
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Mixin",
    "define",
    "statics",
    "getInstanceByType",
    "type",
    "qxl",
    "dialog",
    "lang",
    "String",
    "firstUp",
    "e",
    "Error",
    "properties",
    "callback",
    "check",
    "nullable",
    "context",
    "image",
    "apply",
    "message",
    "allowCancel",
    "init",
    "event",
    "cancelOnEscape",
    "events",
    "ok",
    "cancel",
    "members",
    "_container",
    "_buttons",
    "_image",
    "_message",
    "_okButton",
    "_cancelButton",
    "_createWidgetContent",
    "error",
    "_createDialogContainer",
    "ui",
    "container",
    "Composite",
    "layout",
    "VBox",
    "_createButtonPane",
    "buttons",
    "HBox",
    "getLayout",
    "setAlignX",
    "core",
    "Environment",
    "get",
    "setQxObjectId",
    "addOwnedQxObject",
    "_createOkButton",
    "noFocus",
    "okButton",
    "form",
    "Button",
    "tr",
    "setIcon",
    "getChildControl",
    "set",
    "width",
    "height",
    "scale",
    "setAllowStretchX",
    "addListener",
    "_handleOk",
    "focus",
    "getQxObject",
    "_createCancelButton",
    "cancelButton",
    "_handleCancel",
    "bind",
    "converter",
    "value",
    "_applyImage",
    "old",
    "setSource",
    "setVisibility",
    "_applyMessage",
    "setValue",
    "getDialogContainer",
    "promise",
    "Promise",
    "resolve",
    "reject",
    "setCallback",
    "resetCallback",
    "hide",
    "fireEvent",
    "getCallback",
    "call",
    "getContext",
    "isAllowCancel",
    "_handleEscape",
    "isCancelOnEscape",
    "getKeyCode",
    "getContentElement",
    "isSeeable",
    "MDialog"
  ],
  "sources": [
    "/home/runner/work/CometVisu/CometVisu/qx_packages/qooxdoo_qxl_dialog_v5_0_0/source/class/qxl/dialog/MDialog.js"
  ],
  "sourcesContent": [
    "/* ************************************************************************\n\n   qooxdoo dialog library\n   https://github.com/qooxdoo/qxl.dialog\n\n   Copyright:\n     2007-2020 Christian Boulanger and others\n\n   License:\n     LGPL: http://www.gnu.org/licenses/lgpl.html\n     EPL: http://www.eclipse.org/org/documents/epl-v10.php\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     *  Christian Boulanger (cboulanger)\n     *  Derrell Lipman (derrell)\n\n************************************************************************ */\n\n/**\n * Mixin that provides base functionality for Window and embedded dialog\n * @ignore(qxl.dialog.alert)\n * @ignore(qxl.dialog.error)\n * @ignore(qxl.dialog.warning)\n * @ignore(qxl.dialog.confirm)\n * @ignore(qxl.dialog.prompt)\n * @ignore(qxl.dialog.form)\n * @ignore(qxl.dialog.select)\n * @ignore(Promise)\n *\n */\nqx.Mixin.define(\"qxl.dialog.MDialog\", {\n  statics: {\n    /**\n     * Returns a dialog instance by type\n     * @param type {String} The dialog type to get\n     * @return {qxl.dialog.Dialog}\n     */\n    getInstanceByType(type) {\n      try {\n        return new qxl.dialog[qx.lang.String.firstUp(type)]();\n      } catch (e) {\n        throw new Error(type + \" is not a valid dialog type\");\n      }\n    },\n  },\n\n  properties: {\n    /**\n     * Callback function that will be called when the user\n     * has interacted with the widget. See sample callback\n     * method supplied in the source code of each dialog\n     * widget.\n     */\n    callback: {\n      check: \"Function\",\n      nullable: true,\n    },\n\n    /**\n     * The context for the callback function\n     */\n    context: {\n      check: \"Object\",\n      nullable: true,\n    },\n\n    /**\n     * A banner image/logo that is displayed on the widget,\n     * if applicable\n     */\n    image: {\n      check: \"String\",\n      nullable: true,\n      apply: \"_applyImage\",\n    },\n\n    /**\n     * The message that is displayed\n     */\n    message: {\n      check: \"String\",\n      nullable: true,\n      apply: \"_applyMessage\",\n    },\n\n    /**\n     * Whether to allow cancelling the dialog\n     */\n    allowCancel: {\n      check: \"Boolean\",\n      init: true,\n      event: \"changeAllowCancel\",\n    },\n\n    /**\n     * Whether to triger the cancel button on pressing the \"escape\" key\n     * (default: true). Depends on the 'allowCancel' property.\n     */\n    cancelOnEscape: {\n      check: \"Boolean\",\n      init: true,\n    },\n  },\n\n  events: {\n    /**\n     * Dispatched when user clicks on the \"OK\" Button\n     * @type {String}\n     */\n    ok: \"qx.event.type.Event\",\n\n    /**\n     * Dispatched when user clicks on the \"Cancel\" Button\n     * @type {String}\n     */\n    cancel: \"qx.event.type.Event\",\n  },\n\n  members: {\n    /**\n     * The container widget\n     * @var {qx.ui.container.Composite}\n     */\n    _container: null,\n\n    /**\n     * The button pane\n     * @var {qx.ui.basic.Label}\n     */\n    _buttons: null,\n\n    /**\n     * The dialog image\n     * @var {qx.ui.basic.Image}\n     */\n    _image: null,\n\n    /**\n     * The dialog message\n     * @var {qx.ui.basic.Label}\n     */\n    _message: null,\n\n    /**\n     * The OK Button\n     * @var {qx.ui.form.Button}\n     */\n    _okButton: null,\n\n    /**\n     * The cancel button\n     * @var {qx.ui.form.Button}\n     */\n    _cancelButton: null,\n\n    /**\n     * Create the content of the qxl.dialog.\n     * Extending classes must implement this method.\n     * @param properties\n     */\n    _createWidgetContent(properties) {\n      this.error(\"_createWidgetContent not implemented!\");\n    },\n\n    /**\n     * Creates the default container (VBox)\n     * @return {qx.ui.container.Composite}\n     */\n    _createDialogContainer() {\n      this._container = new qx.ui.container.Composite(\n        new qx.ui.layout.VBox(10)\n      );\n\n      return this._container;\n    },\n\n    /**\n     * Creates the button pane (HBox)\n     * @return {qx.ui.container.Composite}\n     */\n    _createButtonPane() {\n      let buttons = new qx.ui.container.Composite(new qx.ui.layout.HBox(5));\n      buttons.getLayout().setAlignX(\"center\");\n      if (qx.core.Environment.get(\"module.objectid\") === true) {\n        buttons.setQxObjectId(\"buttons\");\n        this.addOwnedQxObject(buttons);\n      }\n      return buttons;\n    },\n\n    /**\n     * Create an OK button\n     * @param noFocus\n     * @return {qx.ui.form.Button}\n     */\n    _createOkButton(noFocus = false) {\n      let okButton = (this._okButton = new qx.ui.form.Button(this.tr(\"OK\")));\n      okButton.setIcon(\"qxl.dialog.icon.ok\");\n      okButton.getChildControl(\"icon\").set({\n        width: 16,\n        height: 16,\n        scale: true,\n      });\n\n      okButton.setAllowStretchX(false);\n      okButton.addListener(\"execute\", this._handleOk, this);\n      if (!noFocus) {\n        this.addListener(\"appear\", () => okButton.focus());\n      }\n      if (qx.core.Environment.get(\"module.objectid\") === true) {\n        okButton.setQxObjectId(\"ok\");\n        this.getQxObject(\"buttons\").addOwnedQxObject(okButton);\n      }\n      return okButton;\n    },\n\n    /**\n     * Create a cancel button, which is hidden by default and will be shown\n     * if allowCancel property is set to true.\n     * @return {qx.ui.form.Button}\n     */\n    _createCancelButton() {\n      let cancelButton = (this._cancelButton = new qx.ui.form.Button(\n        this.tr(\"Cancel\")\n      ));\n\n      cancelButton.setAllowStretchX(false);\n      cancelButton.setIcon(\"qxl.dialog.icon.cancel\");\n      cancelButton.getChildControl(\"icon\").set({\n        width: 16,\n        height: 16,\n        scale: true,\n      });\n\n      cancelButton.addListener(\"execute\", this._handleCancel, this);\n      this.bind(\"allowCancel\", cancelButton, \"visibility\", {\n        converter(value) {\n          return value ? \"visible\" : \"excluded\";\n        },\n      });\n\n      if (qx.core.Environment.get(\"module.objectid\") === true) {\n        cancelButton.setQxObjectId(\"cancel\");\n        this.getQxObject(\"buttons\").addOwnedQxObject(cancelButton);\n      }\n      return cancelButton;\n    },\n\n    /**\n     * Called when the 'image' property is set\n     * @param value {String} The current value\n     * @param old {String|null} old The previous value\n     * @return {void}\n     */\n    _applyImage(value, old) {\n      this._image.setSource(value);\n      this._image.setVisibility(value ? \"visible\" : \"excluded\");\n    },\n\n    /**\n     * Called when the 'message' property is set\n     * @param value {String} The current value\n     * @param old {String|null} old The previous value\n     * @return {void}\n     */\n    _applyMessage(value, old) {\n      this._message.setValue(value);\n      this._message.setVisibility(value ? \"visible\" : \"excluded\");\n    },\n\n    /**\n     * Returns the widgets that is the container of the dialog\n     * @return {qx.ui.core.LayoutItem}\n     */\n    getDialogContainer() {\n      if (!this._container) {\n        return this._createDialogContainer();\n      }\n      return this._container;\n    },\n\n    /**\n     * Promise interface method, avoids callbacks\n     * @return {Promise} A promise that resolves with the result of the dialog\n     * action\n     */\n    promise() {\n      return new Promise(\n        function (resolve, reject) {\n          this.setCallback(\n            function (value) {\n              this.resetCallback();\n              resolve(value);\n            }.bind(this)\n          );\n        }.bind(this)\n      );\n    },\n\n    /**\n     * Handle click on ok button. Calls callback with a \"true\" argument\n     */\n    _handleOk() {\n      this.hide();\n      this.fireEvent(\"ok\");\n      if (this.getCallback()) {\n        this.getCallback().call(this.getContext(), true);\n      }\n      this.resetCallback();\n    },\n\n    /**\n     * Handle click on cancel button. Calls callback with\n     * an \"undefined\" argument\n     */\n    _handleCancel() {\n      this.hide();\n      this.fireEvent(\"cancel\");\n      if (this.isAllowCancel() && this.getCallback()) {\n        this.getCallback().call(this.getContext());\n      }\n      this.resetCallback();\n    },\n\n    /**\n     * Handles the press on the 'Escape' key\n     * @param  e {qx.event.type.KeyInput}\n     */\n    _handleEscape(e) {\n      if (\n        this.isCancelOnEscape() &&\n        e.getKeyCode() === 27 &&\n        this.getContentElement() &&\n        this.isSeeable()\n      ) {\n        this._handleCancel();\n      }\n    },\n  },\n});\n"
  ],
  "mappings": "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"
}