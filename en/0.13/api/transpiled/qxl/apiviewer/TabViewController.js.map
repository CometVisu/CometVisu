{
  "version": 3,
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "extend",
    "core",
    "Object",
    "construct",
    "widgetRegistry",
    "constructor",
    "call",
    "qxl",
    "apiviewer",
    "TabViewController",
    "instance",
    "_tabView",
    "getWidgetById",
    "addListener",
    "__onChangeSelection",
    "events",
    "classLinkTapped",
    "changeSelection",
    "members",
    "isLoaded",
    "callback",
    "page",
    "getSelection",
    "child",
    "getChildren",
    "isValid",
    "addListenerOnce",
    "showTabView",
    "show",
    "onSelectItem",
    "itemName",
    "fireDataEvent",
    "showItem",
    "setUserData",
    "openPackage",
    "classNode",
    "newTab",
    "__open",
    "ui",
    "tabview",
    "PackagePage",
    "openClass",
    "ClassPage",
    "__P_571_1",
    "clazz",
    "currentPage",
    "remove",
    "destroy",
    "add",
    "setSelection",
    "setClassNodeAsync",
    "__P_571_0",
    "event",
    "oldData",
    "getOldData",
    "data",
    "getData",
    "destruct"
  ],
  "sources": [
    "/home/runner/work/CometVisu/CometVisu/qx_packages/qooxdoo_qxl_apiviewer_v2_0_0/source/class/qxl/apiviewer/TabViewController.js"
  ],
  "sourcesContent": [
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n     2018 Zenesis Limited, http://www.zenesis.com\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * John Spackman (johnspackman)\n     * Fabian Jakobs (fjakobs)\n     * Henner Kollmann (hkollmann)\n\n************************************************************************ */\nqx.Class.define(\"qxl.apiviewer.TabViewController\", {\n  extend: qx.core.Object,\n\n  construct(widgetRegistry) {\n    super();\n\n    qxl.apiviewer.TabViewController.instance = this;\n\n    this._tabView = widgetRegistry.getWidgetById(\"tabView\");\n    this._tabView.addListener(\n      \"changeSelection\",\n      this.__onChangeSelection,\n      this\n    );\n  },\n\n  events: {\n    /** This event if dispatched if one of the internal links is tapped */\n    classLinkTapped: \"qx.event.type.Data\",\n\n    changeSelection: \"qx.event.type.Data\",\n  },\n\n  members: {\n    isLoaded(callback) {\n      var page = this._tabView.getSelection()[0];\n      var child = page.getChildren()[0];\n      if (child.isValid()) {\n        callback();\n        return;\n      }\n      child.addListenerOnce(\"synced\", callback);\n    },\n\n    showTabView() {\n      this._tabView.show();\n    },\n\n    /**\n     * Callback for internal links to other classes/items.\n     * This code is called directly from the generated HTML of the\n     * class viewer.\n     * @param itemName\n     */\n    onSelectItem(itemName) {\n      this.fireDataEvent(\"classLinkTapped\", itemName);\n    },\n\n    showItem(itemName) {\n      var page = this._tabView.getSelection()[0];\n      page.setUserData(\"itemName\", itemName);\n      var child = page.getChildren()[0];\n      return child.showItem(itemName);\n    },\n\n    openPackage(classNode, newTab) {\n      return this.__open(\n        classNode,\n        qxl.apiviewer.ui.tabview.PackagePage,\n        newTab\n      );\n    },\n\n    openClass(classNode, newTab) {\n      return this.__open(classNode, qxl.apiviewer.ui.tabview.ClassPage, newTab);\n    },\n\n    __open(classNode, clazz, newTab) {\n      var currentPage = this._tabView.getSelection()[0] || null;\n\n      if (currentPage && (!(currentPage instanceof clazz) || newTab)) {\n        this._tabView.remove(currentPage);\n        currentPage.destroy();\n        currentPage = null;\n      }\n\n      if (!currentPage) {\n        /* eslint-disable-next-line new-cap */\n        currentPage = new clazz(classNode);\n        this._tabView.add(currentPage);\n      }\n\n      this._tabView.setSelection([currentPage]);\n\n      currentPage.setUserData(\"itemName\", null);\n      return currentPage.setClassNodeAsync(classNode);\n    },\n\n    __onChangeSelection(event) {\n      var oldData = event.getOldData();\n      var data = event.getData();\n      this.fireDataEvent(\"changeSelection\", data, oldData);\n    },\n  },\n\n  destruct() {\n    this._tabView.destroy();\n    this._tabView = null;\n  },\n});\n"
  ],
  "mappings": "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"
}