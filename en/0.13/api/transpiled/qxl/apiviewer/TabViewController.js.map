{
  "version": 3,
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "extend",
    "core",
    "Object",
    "construct",
    "widgetRegistry",
    "qxl",
    "apiviewer",
    "TabViewController",
    "instance",
    "_tabView",
    "getWidgetById",
    "addListener",
    "__onChangeSelection",
    "events",
    "classLinkTapped",
    "changeSelection",
    "members",
    "isLoaded",
    "callback",
    "page",
    "getSelection",
    "child",
    "getChildren",
    "isValid",
    "addListenerOnce",
    "showTabView",
    "show",
    "onSelectItem",
    "itemName",
    "fireDataEvent",
    "showItem",
    "setUserData",
    "openPackage",
    "classNode",
    "newTab",
    "__open",
    "ui",
    "tabview",
    "PackagePage",
    "openClass",
    "ClassPage",
    "clazz",
    "currentPage",
    "remove",
    "destroy",
    "add",
    "setSelection",
    "setClassNodeAsync",
    "event",
    "oldData",
    "getOldData",
    "data",
    "getData",
    "destruct"
  ],
  "sources": [
    "/home/runner/work/CometVisu/CometVisu/qx_packages/qooxdoo_qxl_apiviewer_v2_0_0/source/class/qxl/apiviewer/TabViewController.js"
  ],
  "sourcesContent": [
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n     2018 Zenesis Limited, http://www.zenesis.com\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * John Spackman (johnspackman)\n     * Fabian Jakobs (fjakobs)\n     * Henner Kollmann (hkollmann)\n\n************************************************************************ */\nqx.Class.define(\"qxl.apiviewer.TabViewController\", {\n  extend: qx.core.Object,\n\n  construct(widgetRegistry) {\n    super();\n\n    qxl.apiviewer.TabViewController.instance = this;\n\n    this._tabView = widgetRegistry.getWidgetById(\"tabView\");\n    this._tabView.addListener(\n      \"changeSelection\",\n      this.__onChangeSelection,\n      this\n    );\n  },\n\n  events: {\n    /** This event if dispatched if one of the internal links is tapped */\n    classLinkTapped: \"qx.event.type.Data\",\n\n    changeSelection: \"qx.event.type.Data\",\n  },\n\n  members: {\n    isLoaded(callback) {\n      var page = this._tabView.getSelection()[0];\n      var child = page.getChildren()[0];\n      if (child.isValid()) {\n        callback();\n        return;\n      }\n      child.addListenerOnce(\"synced\", callback);\n    },\n\n    showTabView() {\n      this._tabView.show();\n    },\n\n    /**\n     * Callback for internal links to other classes/items.\n     * This code is called directly from the generated HTML of the\n     * class viewer.\n     * @param itemName\n     */\n    onSelectItem(itemName) {\n      this.fireDataEvent(\"classLinkTapped\", itemName);\n    },\n\n    showItem(itemName) {\n      var page = this._tabView.getSelection()[0];\n      page.setUserData(\"itemName\", itemName);\n      var child = page.getChildren()[0];\n      return child.showItem(itemName);\n    },\n\n    openPackage(classNode, newTab) {\n      return this.__open(\n        classNode,\n        qxl.apiviewer.ui.tabview.PackagePage,\n        newTab\n      );\n    },\n\n    openClass(classNode, newTab) {\n      return this.__open(classNode, qxl.apiviewer.ui.tabview.ClassPage, newTab);\n    },\n\n    __open(classNode, clazz, newTab) {\n      var currentPage = this._tabView.getSelection()[0] || null;\n\n      if (currentPage && (!(currentPage instanceof clazz) || newTab)) {\n        this._tabView.remove(currentPage);\n        currentPage.destroy();\n        currentPage = null;\n      }\n\n      if (!currentPage) {\n        /* eslint-disable-next-line new-cap */\n        currentPage = new clazz(classNode);\n        this._tabView.add(currentPage);\n      }\n\n      this._tabView.setSelection([currentPage]);\n\n      currentPage.setUserData(\"itemName\", null);\n      return currentPage.setClassNodeAsync(classNode);\n    },\n\n    __onChangeSelection(event) {\n      var oldData = event.getOldData();\n      var data = event.getData();\n      this.fireDataEvent(\"changeSelection\", data, oldData);\n    },\n  },\n\n  destruct() {\n    this._tabView.destroy();\n    this._tabView = null;\n  },\n});\n"
  ],
  "mappings": "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"
}