{
  "version": 3,
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "extend",
    "core",
    "Object",
    "construct",
    "widgetRegistry",
    "_widgetRegistry",
    "qxl",
    "apiviewer",
    "MWidgetRegistry",
    "_titlePrefix",
    "document",
    "title",
    "ClassLoader",
    "setBaseUri",
    "$$appRoot",
    "RESOURCEPATH",
    "_detailLoader",
    "getWidgetById",
    "_tabViewController",
    "TabViewController",
    "__bindTabViewController",
    "_tree",
    "__bindTree",
    "__bindToolbar",
    "btn_inherited",
    "btn_included",
    "addListener",
    "__syncMenuButton",
    "_history",
    "bom",
    "History",
    "getInstance",
    "__bindHistory",
    "Init",
    "getApplication",
    "getRoot",
    "e",
    "__openInNewTab",
    "isShiftPressed",
    "isCtrlOrCommandPressed",
    "members",
    "$$logCategory",
    "load",
    "classes",
    "setTimeout",
    "start",
    "Date",
    "classname",
    "dao",
    "getClassByName",
    "rootPackage",
    "Package",
    "getPackage",
    "end",
    "setTreeData",
    "state",
    "getState",
    "__selectItem",
    "__decodeState",
    "evt",
    "_updateHistory",
    "getData",
    "page",
    "_ignoreTabViewSelection",
    "getUserData",
    "nodeName",
    "itemName",
    "resetSelection",
    "treeNode",
    "_ignoreTreeSelection",
    "uiModel",
    "UiModel",
    "bind",
    "btn_expand",
    "btn_protected",
    "btn_private",
    "btn_internal",
    "menuButton",
    "showInherited",
    "getValue",
    "showMixins",
    "setIcon",
    "item",
    "className",
    "newTitle",
    "addToHistory",
    "__encodeState",
    "_selectClass",
    "classNode",
    "callback",
    "self",
    "exclude",
    "showTabView",
    "loadDependedClasses",
    "openClass",
    "openPackage",
    "call",
    "fullItemName",
    "LoadingIndicator",
    "show",
    "hashPos",
    "indexOf",
    "substring",
    "parenPos",
    "trim",
    "selectTreeNodeByClassName",
    "then",
    "couldSelectTreeNode",
    "error",
    "hide",
    "sel",
    "getSelection",
    "getClassOrPackage",
    "isLoaded",
    "showItem",
    "replace",
    "encodedState",
    "destruct",
    "_disposeObjects",
    "Controller"
  ],
  "sources": [
    "/home/runner/work/CometVisu/CometVisu/qx_packages/qooxdoo_qxl_apiviewer_v2_0_0/source/class/qxl/apiviewer/Controller.js"
  ],
  "sourcesContent": [
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n     2018 Zenesis Limited, http://www.zenesis.com\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * John Spackman (johnspackman)\n     * Til Schneider (til132)\n     * Sebastian Werner (wpbasti)\n     * Andreas Ecker (ecker)\n     * Fabian Jakobs (fjakobs)\n     * Jonathan WeiÃŸ (jonathan_rass)\n     * Henner Kollmann (hkollmann)\n\n************************************************************************ */\n\n/**\n * Implements the dynamic behavior of the API viewer. The GUI is defined in\n * {@link Viewer}.\n *\n */\nqx.Class.define(\"qxl.apiviewer.Controller\", {\n  extend: qx.core.Object,\n\n  /*\n   * ****************************************************************************\n   * CONSTRUCTOR\n   * ****************************************************************************\n   */\n  /**\n   * @param widgetRegistry\n   *          {Viewer} the GUI\n   *\n   * @ignore (qx.$$appRoot)\n   *\n   */\n  construct(widgetRegistry) {\n    super();\n\n    this._widgetRegistry = qxl.apiviewer.MWidgetRegistry;\n\n    this._titlePrefix = \"API Documentation\";\n    document.title = this._titlePrefix;\n\n    qxl.apiviewer.ClassLoader.setBaseUri(\n      `${qx.$$appRoot}../resource/${qxl.apiviewer.ClassLoader.RESOURCEPATH}/`\n    );\n\n    this._detailLoader = this._widgetRegistry.getWidgetById(\"detail_loader\");\n    this._tabViewController = new qxl.apiviewer.TabViewController(\n      this._widgetRegistry\n    );\n    this.__bindTabViewController();\n\n    this._tree = this._widgetRegistry.getWidgetById(\"tree\");\n    this.__bindTree();\n\n    this.__bindToolbar();\n\n    var btn_inherited = this._widgetRegistry.getWidgetById(\"btn_inherited\");\n    var btn_included = this._widgetRegistry.getWidgetById(\"btn_included\");\n\n    btn_inherited.addListener(\"changeValue\", this.__syncMenuButton, this);\n    btn_included.addListener(\"changeValue\", this.__syncMenuButton, this);\n\n    this._history = qx.bom.History.getInstance();\n    this.__bindHistory();\n\n    qx.core.Init.getApplication()\n      .getRoot()\n      .addListener(\n        \"pointerdown\",\n        function (e) {\n          this.__openInNewTab =\n            e.isShiftPressed() || e.isCtrlOrCommandPressed();\n        },\n        this,\n        true\n      );\n  },\n\n  members: {\n    __openInNewTab: false,\n\n    // overridden\n    $$logCategory: \"application\",\n\n    /**\n     * Loads the API doc tree from the enviroment\n     * doc tree.\n     *\n     * @param classes [] all classes to show\n     */\n    load(classes) {\n      setTimeout(() => {\n        var start = new Date();\n        for (var classname of classes) {\n          qxl.apiviewer.dao.Class.getClassByName(classname, true);\n        }\n        var rootPackage = qxl.apiviewer.dao.Package.getPackage(null);\n        var end = new Date();\n        if (qx.core.Environment.get(\"qx.debug\")) {\n          this.debug(\n            \"Time to build data tree: \" +\n              (end.getTime() - start.getTime()) +\n              \"ms\"\n          );\n        }\n        start = new Date();\n        this._tree.setTreeData(rootPackage);\n        end = new Date();\n        if (qx.core.Environment.get(\"qx.debug\")) {\n          this.debug(\n            \"Time to update tree: \" + (end.getTime() - start.getTime()) + \"ms\"\n          );\n        }\n        setTimeout(() => {\n          // Handle bookmarks\n          var state = this._history.getState();\n          if (state) {\n            this.__selectItem(this.__decodeState(state));\n          } else {\n            this.__selectItem(\"\");\n          }\n        });\n      });\n    },\n\n    /**\n     * binds the events of the TabView controller\n     */\n    __bindTabViewController() {\n      this._tabViewController.addListener(\n        \"classLinkTapped\",\n        function (evt) {\n          this._updateHistory(evt.getData());\n        },\n        this\n      );\n\n      this._tabViewController.addListener(\n        \"changeSelection\",\n        function (evt) {\n          var page = evt.getData()[0];\n\n          if (this._ignoreTabViewSelection == true) {\n            return;\n          }\n\n          if (page && page.getUserData(\"nodeName\")) {\n            var nodeName = page.getUserData(\"nodeName\");\n            var itemName = page.getUserData(\"itemName\");\n\n            if (itemName === null) {\n              this._updateHistory(nodeName);\n            } else {\n              this._updateHistory(nodeName + \"#\" + itemName);\n            }\n          } else {\n            this._tree.resetSelection();\n          }\n        },\n        this\n      );\n    },\n\n    /**\n     * binds the selection event of the package tree.\n     */\n    __bindTree() {\n      this._tree.addListener(\n        \"changeSelection\",\n        function (evt) {\n          var treeNode = evt.getData()[0];\n          if (\n            treeNode &&\n            treeNode.getUserData(\"nodeName\") &&\n            !this._ignoreTreeSelection\n          ) {\n            var nodeName = treeNode.getUserData(\"nodeName\");\n\n            // the history update will cause _selectClass to be called.\n            this._updateHistory(nodeName);\n          }\n        },\n        this\n      );\n    },\n\n    /**\n     * binds the actions of the toolbar buttons.\n     */\n    __bindToolbar() {\n      var uiModel = qxl.apiviewer.UiModel.getInstance();\n\n      var btn_inherited = this._widgetRegistry.getWidgetById(\"btn_inherited\");\n      btn_inherited.bind(\"value\", uiModel, \"showInherited\");\n      uiModel.bind(\"showInherited\", btn_inherited, \"value\");\n\n      var btn_included = this._widgetRegistry.getWidgetById(\"btn_included\");\n      btn_included.bind(\"value\", uiModel, \"showIncluded\");\n      uiModel.bind(\"showIncluded\", btn_included, \"value\");\n\n      var btn_expand = this._widgetRegistry.getWidgetById(\"btn_expand\");\n      btn_expand.bind(\"value\", uiModel, \"expandProperties\");\n      uiModel.bind(\"expandProperties\", btn_expand, \"value\");\n\n      var btn_protected = this._widgetRegistry.getWidgetById(\"btn_protected\");\n      btn_protected.bind(\"value\", uiModel, \"showProtected\");\n      uiModel.bind(\"showProtected\", btn_protected, \"value\");\n\n      var btn_private = this._widgetRegistry.getWidgetById(\"btn_private\");\n      btn_private.bind(\"value\", uiModel, \"showPrivate\");\n      uiModel.bind(\"showPrivate\", btn_private, \"value\");\n\n      var btn_internal = this._widgetRegistry.getWidgetById(\"btn_internal\");\n      btn_internal.bind(\"value\", uiModel, \"showInternal\");\n      uiModel.bind(\"showInternal\", btn_internal, \"value\");\n    },\n\n    /**\n     * Keeps the icon of the menubutton in sync with the menu checkboxes of\n     * inherited and mixin includes.\n     *\n     */\n    __syncMenuButton() {\n      var menuButton = this._widgetRegistry.getWidgetById(\"menubtn_includes\");\n      var btn_inherited = this._widgetRegistry.getWidgetById(\"btn_inherited\");\n      var btn_included = this._widgetRegistry.getWidgetById(\"btn_included\");\n      var showInherited = btn_inherited.getValue();\n      var showMixins = btn_included.getValue();\n      if (showMixins && showInherited) {\n        menuButton.setIcon(\n          \"qxl/apiviewer/image/inherited_and_mixins_included.gif\"\n        );\n      }\n      if (showInherited && !showMixins) {\n        menuButton.setIcon(\"qxl/apiviewer/image/method_public_inherited18.gif\");\n      }\n      if (!showInherited && showMixins) {\n        menuButton.setIcon(\"qxl/apiviewer/image/overlay_mixin18.gif\");\n      }\n      if (!showInherited && !showMixins) {\n        menuButton.setIcon(\"qxl/apiviewer/image/includes.gif\");\n      }\n    },\n\n    /**\n     * bind history events\n     */\n    __bindHistory() {\n      this._history.addListener(\n        \"changeState\",\n        function (evt) {\n          var item = this.__decodeState(evt.getData());\n          if (item) {\n            this.__selectItem(item);\n          }\n        },\n        this\n      );\n    },\n\n    /**\n     * Push the class to the browser history\n     *\n     * @param className\n     *          {String} name of the class\n     */\n    _updateHistory(className) {\n      var newTitle = className + \" - \" + this._titlePrefix;\n      qx.bom.History.getInstance().addToHistory(\n        this.__encodeState(className),\n        newTitle\n      );\n    },\n\n    /**\n     * Display information about a class\n     * @param classNode\n     * {qxl.apiviewer.dao.Class} class node to display\n     * @param callback\n     * @param self\n     */\n    async _selectClass(classNode, callback, self) {\n      this._detailLoader.exclude();\n      this._tabViewController.showTabView();\n      await classNode.loadDependedClasses();\n      if (classNode instanceof qxl.apiviewer.dao.Class) {\n        await this._tabViewController.openClass(classNode, this.__openInNewTab);\n      } else {\n        await this._tabViewController.openPackage(\n          classNode,\n          this.__openInNewTab\n        );\n      }\n      callback && callback.call(self);\n    },\n\n    /**\n     * Selects an item (class, property, method or constant).\n     *\n     * @param fullItemName\n     *          {String} the full name of the item to select. (e.g.\n     *          \"qx.mypackage.MyClass\" or \"qx.mypackage.MyClass#myProperty\")\n     *\n     */\n    __selectItem(fullItemName) {\n      qxl.apiviewer.LoadingIndicator.getInstance().show();\n      var className = fullItemName;\n      var itemName = null;\n      var hashPos = fullItemName.indexOf(\"#\");\n\n      if (hashPos != -1) {\n        className = fullItemName.substring(0, hashPos);\n        itemName = fullItemName.substring(hashPos + 1);\n\n        var parenPos = itemName.indexOf(\"(\");\n\n        if (parenPos != -1) {\n          itemName = itemName.substring(0, parenPos).trim();\n        }\n      }\n\n      // ignore changeSelection events\n      this._ignoreTreeSelection = true;\n      this._tree\n        .selectTreeNodeByClassName(className)\n        .then((couldSelectTreeNode) => {\n          this._ignoreTreeSelection = false;\n\n          if (!couldSelectTreeNode) {\n            this.error(\"Unknown class: \" + className);\n            qxl.apiviewer.LoadingIndicator.getInstance().hide();\n            return;\n          }\n\n          var sel = this._tree.getSelection();\n          var nodeName = sel[0].getUserData(\"nodeName\") || className;\n\n          this._ignoreTabViewSelection = true;\n          this._selectClass(\n            qxl.apiviewer.ClassLoader.getClassOrPackage(nodeName),\n            () => {\n              if (itemName) {\n                this._tabViewController.isLoaded(() => {\n                  if (!this._tabViewController.showItem(itemName)) {\n                    this.error(\n                      \"Unknown item of class '\" + className + \"': \" + itemName\n                    );\n                    qxl.apiviewer.LoadingIndicator.getInstance().hide();\n                    this._updateHistory(className);\n                    this._ignoreTabViewSelection = false;\n                    return;\n                  }\n                  this._updateHistory(fullItemName);\n                  qxl.apiviewer.LoadingIndicator.getInstance().hide();\n                  this._ignoreTabViewSelection = false;\n                });\n              } else {\n                qxl.apiviewer.LoadingIndicator.getInstance().hide();\n                this._ignoreTabViewSelection = false;\n              }\n            }\n          );\n        });\n    },\n\n    __encodeState(state) {\n      return state.replace(/(.*)#(.*)/g, \"$1~$2\");\n    },\n\n    __decodeState(encodedState) {\n      return encodedState.replace(/(.*)~(.*)/g, \"$1#$2\");\n    },\n  },\n\n  /*\n   * ****************************************************************************\n   * DESTRUCTOR\n   * ****************************************************************************\n   */\n\n  destruct() {\n    this._widgetRegistry = null;\n    this._disposeObjects(\n      \"_detailLoader\",\n      \"_tree\",\n      \"_history\",\n      \"_tabViewController\"\n    );\n  },\n});\n"
  ],
  "mappings": "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"
}