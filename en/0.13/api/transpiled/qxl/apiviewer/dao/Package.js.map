{
  "version": 3,
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "extend",
    "core",
    "Object",
    "construct",
    "packageName",
    "_packageName",
    "_classes",
    "_packages",
    "_parentPackage",
    "qxl",
    "apiviewer",
    "dao",
    "Package",
    "getParentPackage",
    "addPackage",
    "members",
    "_loadingPromise",
    "_loaded",
    "load",
    "url",
    "ClassLoader",
    "getBaseUri",
    "replace",
    "RequestUtil",
    "get",
    "then",
    "content",
    "_desc",
    "e",
    "error",
    "message",
    "isLoaded",
    "getName",
    "getFullName",
    "getDescription",
    "getClasses",
    "values",
    "getPackages",
    "getPackage",
    "addClass",
    "clazz",
    "getClassByName",
    "name",
    "getPackageByName",
    "pkg",
    "loadDependedClasses",
    "loadClassList",
    "hasWarning",
    "statics",
    "__rootPackage",
    "create",
    "root",
    "current",
    "segs",
    "split",
    "parentName",
    "i",
    "length",
    "tmp",
    "Error",
    "pos",
    "lastIndexOf",
    "substring"
  ],
  "sources": [
    "/home/runner/work/CometVisu/CometVisu/qx_packages/qooxdoo_qxl_apiviewer_v2_0_0/source/class/qxl/apiviewer/dao/Package.js"
  ],
  "sourcesContent": [
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n     2018 Zenesis Limited, http://www.zenesis.com\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * John Spackman (johnspackman)\n     * Fabian Jakobs (fjakobs)\n\n************************************************************************ */\n\nqx.Class.define(\"qxl.apiviewer.dao.Package\", {\n  extend: qx.core.Object,\n\n  construct(packageName) {\n    this.base(arguments);\n    this._packageName = packageName;\n    this._classes = {};\n    this._packages = {};\n    if (packageName) {\n      this._parentPackage =\n        qxl.apiviewer.dao.Package.getParentPackage(packageName);\n      this._parentPackage.addPackage(this);\n    }\n  },\n\n  members: {\n    _packageName: null,\n    _parentPackage: null,\n    _classes: null,\n    _packages: null,\n    _loadingPromise: null,\n    _loaded: false,\n\n    /**\n     * Loads the class\n     *\n     * @return {Promise}\n     */\n    load() {\n      if (this._loadingPromise) {\n        return this._loadingPromise;\n      }\n      var url =\n        qxl.apiviewer.ClassLoader.getBaseUri() +\n        this._packageName.replace(/\\./g, \"/\") +\n        \"/package.html\";\n      return (this._loadingPromise = qxl.apiviewer.RequestUtil.get(url)\n        .then((content) => {\n          this._desc = content;\n          this._loaded = true;\n        })\n        .catch((e) => {\n          this.error(\"Couldn't load file: \" + url + \" \" + e.message);\n          this._loaded = true;\n        }));\n    },\n\n    isLoaded() {\n      return this._loaded;\n    },\n\n    getName() {\n      return this._packageName;\n    },\n\n    getFullName() {\n      return this._packageName;\n    },\n\n    getDescription() {\n      return this._desc || \"\";\n    },\n\n    getClasses() {\n      return Object.values(this._classes);\n    },\n\n    getPackages() {\n      return Object.values(this._packages);\n    },\n\n    getPackage() {\n      return this._parentPackage;\n    },\n\n    addClass(clazz) {\n      this._classes[clazz.getFullName()] = clazz;\n    },\n\n    getClassByName(name) {\n      return this._classes[name];\n    },\n\n    getPackageByName(name) {\n      return this._packages[name];\n    },\n\n    addPackage(pkg) {\n      this._packages[pkg.getFullName()] = pkg;\n    },\n\n    loadDependedClasses() {\n      return qxl.apiviewer.ClassLoader.loadClassList(this.getClasses());\n    },\n\n    hasWarning() {\n      return false;\n    },\n  },\n\n  statics: {\n    __rootPackage: null,\n\n    /**\n     * Locates a package by name\n     * @param name {String} package name, null or \"\" for top level\n     * @param create\n     * @return {Package?}\n     */\n    getPackage(name, create) {\n      var root = qxl.apiviewer.dao.Package.__rootPackage;\n      if (!root) {\n        root = qxl.apiviewer.dao.Package.__rootPackage =\n          new qxl.apiviewer.dao.Package(\"\");\n      }\n      if (!name) {\n        return root;\n      }\n\n      var current = root;\n      var segs = name.split(\".\");\n\n      var parentName = \"\";\n      for (var i = 0; i < segs.length; i++) {\n        var tmp = current.getPackageByName(parentName + segs[i]);\n        if (!tmp) {\n          if (!create) {\n            return null;\n          }\n          tmp = new qxl.apiviewer.dao.Package(\n            i == 0 ? segs[i] : current.getFullName() + \".\" + segs[i]\n          );\n        }\n        current = tmp;\n        parentName += segs[i] + \".\";\n      }\n\n      return current;\n    },\n\n    /**\n     * Returns the package that a given package or class is a direct child of\n     *\n     * @param name {String} the name\n     * @return {Package} the package\n     */\n    getParentPackage(name) {\n      if (!name) {\n        throw new Error(\"Cannot get the parent package of a root package\");\n      }\n      var pos = name.lastIndexOf(\".\");\n      if (pos < 0) {\n        return qxl.apiviewer.dao.Package.getPackage(\"\");\n      }\n      var parentName = name.substring(0, pos);\n      return qxl.apiviewer.dao.Package.getPackage(parentName, true);\n    },\n  },\n});\n"
  ],
  "mappings": ";;;;;;;;;;;;;;;EAAAA,EAAE,CAACC,SAAH,CAAaC,oBAAb,CAAkCC,aAAlC;;EAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EAEAH,EAAE,CAACI,KAAH,CAASC,MAAT,CAAgB,2BAAhB,EAA6C;IAC3CC,MAAM,EAAEN,EAAE,CAACO,IAAH,CAAQC,MAD2B;IAG3CC,SAH2C,qBAGjCC,WAHiC,EAGpB;MACrB;MACA,KAAKC,YAAL,GAAoBD,WAApB;MACA,KAAKE,QAAL,GAAgB,EAAhB;MACA,KAAKC,SAAL,GAAiB,EAAjB;;MACA,IAAIH,WAAJ,EAAiB;QACf,KAAKI,cAAL,GACEC,GAAG,CAACC,SAAJ,CAAcC,GAAd,CAAkBC,OAAlB,CAA0BC,gBAA1B,CAA2CT,WAA3C,CADF;;QAEA,KAAKI,cAAL,CAAoBM,UAApB,CAA+B,IAA/B;MACD;IACF,CAb0C;IAe3CC,OAAO,EAAE;MACPV,YAAY,EAAE,IADP;MAEPG,cAAc,EAAE,IAFT;MAGPF,QAAQ,EAAE,IAHH;MAIPC,SAAS,EAAE,IAJJ;MAKPS,eAAe,EAAE,IALV;MAMPC,OAAO,EAAE,KANF;;MAQP;AACJ;AACA;AACA;AACA;MACIC,IAbO,kBAaA;QAAA;;QACL,IAAI,KAAKF,eAAT,EAA0B;UACxB,OAAO,KAAKA,eAAZ;QACD;;QACD,IAAIG,GAAG,GACLV,GAAG,CAACC,SAAJ,CAAcU,WAAd,CAA0BC,UAA1B,KACA,KAAKhB,YAAL,CAAkBiB,OAAlB,CAA0B,KAA1B,EAAiC,GAAjC,CADA,GAEA,eAHF;QAIA,OAAQ,KAAKN,eAAL,GAAuBP,GAAG,CAACC,SAAJ,CAAca,WAAd,CAA0BC,GAA1B,CAA8BL,GAA9B,EAC5BM,IAD4B,CACvB,UAACC,OAAD,EAAa;UACjB,KAAI,CAACC,KAAL,GAAaD,OAAb;UACA,KAAI,CAACT,OAAL,GAAe,IAAf;QACD,CAJ4B,WAKtB,UAACW,CAAD,EAAO;UACZ,KAAI,CAACC,KAAL,CAAW,yBAAyBV,GAAzB,GAA+B,GAA/B,GAAqCS,CAAC,CAACE,OAAlD;;UACA,KAAI,CAACb,OAAL,GAAe,IAAf;QACD,CAR4B,CAA/B;MASD,CA9BM;MAgCPc,QAhCO,sBAgCI;QACT,OAAO,KAAKd,OAAZ;MACD,CAlCM;MAoCPe,OApCO,qBAoCG;QACR,OAAO,KAAK3B,YAAZ;MACD,CAtCM;MAwCP4B,WAxCO,yBAwCO;QACZ,OAAO,KAAK5B,YAAZ;MACD,CA1CM;MA4CP6B,cA5CO,4BA4CU;QACf,OAAO,KAAKP,KAAL,IAAc,EAArB;MACD,CA9CM;MAgDPQ,UAhDO,wBAgDM;QACX,OAAOjC,MAAM,CAACkC,MAAP,CAAc,KAAK9B,QAAnB,CAAP;MACD,CAlDM;MAoDP+B,WApDO,yBAoDO;QACZ,OAAOnC,MAAM,CAACkC,MAAP,CAAc,KAAK7B,SAAnB,CAAP;MACD,CAtDM;MAwDP+B,UAxDO,wBAwDM;QACX,OAAO,KAAK9B,cAAZ;MACD,CA1DM;MA4DP+B,QA5DO,oBA4DEC,KA5DF,EA4DS;QACd,KAAKlC,QAAL,CAAckC,KAAK,CAACP,WAAN,EAAd,IAAqCO,KAArC;MACD,CA9DM;MAgEPC,cAhEO,0BAgEQC,IAhER,EAgEc;QACnB,OAAO,KAAKpC,QAAL,CAAcoC,IAAd,CAAP;MACD,CAlEM;MAoEPC,gBApEO,4BAoEUD,IApEV,EAoEgB;QACrB,OAAO,KAAKnC,SAAL,CAAemC,IAAf,CAAP;MACD,CAtEM;MAwEP5B,UAxEO,sBAwEI8B,GAxEJ,EAwES;QACd,KAAKrC,SAAL,CAAeqC,GAAG,CAACX,WAAJ,EAAf,IAAoCW,GAApC;MACD,CA1EM;MA4EPC,mBA5EO,iCA4Ee;QACpB,OAAOpC,GAAG,CAACC,SAAJ,CAAcU,WAAd,CAA0B0B,aAA1B,CAAwC,KAAKX,UAAL,EAAxC,CAAP;MACD,CA9EM;MAgFPY,UAhFO,wBAgFM;QACX,OAAO,KAAP;MACD;IAlFM,CAfkC;IAoG3CC,OAAO,EAAE;MACPC,SAAa,EAAE,IADR;;MAGP;AACJ;AACA;AACA;AACA;AACA;MACIX,UATO,sBASII,IATJ,EASUQ,MATV,EASkB;QACvB,IAAIC,IAAI,GAAG1C,GAAG,CAACC,SAAJ,CAAcC,GAAd,CAAkBC,OAAlB,CAA0BqC,SAArC;;QACA,IAAI,CAACE,IAAL,EAAW;UACTA,IAAI,GAAG1C,GAAG,CAACC,SAAJ,CAAcC,GAAd,CAAkBC,OAAlB,CAA0BqC,SAA1B,GACL,IAAIxC,GAAG,CAACC,SAAJ,CAAcC,GAAd,CAAkBC,OAAtB,CAA8B,EAA9B,CADF;QAED;;QACD,IAAI,CAAC8B,IAAL,EAAW;UACT,OAAOS,IAAP;QACD;;QAED,IAAIC,OAAO,GAAGD,IAAd;QACA,IAAIE,IAAI,GAAGX,IAAI,CAACY,KAAL,CAAW,GAAX,CAAX;QAEA,IAAIC,UAAU,GAAG,EAAjB;;QACA,KAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGH,IAAI,CAACI,MAAzB,EAAiCD,CAAC,EAAlC,EAAsC;UACpC,IAAIE,GAAG,GAAGN,OAAO,CAACT,gBAAR,CAAyBY,UAAU,GAAGF,IAAI,CAACG,CAAD,CAA1C,CAAV;;UACA,IAAI,CAACE,GAAL,EAAU;YACR,IAAI,CAACR,MAAL,EAAa;cACX,OAAO,IAAP;YACD;;YACDQ,GAAG,GAAG,IAAIjD,GAAG,CAACC,SAAJ,CAAcC,GAAd,CAAkBC,OAAtB,CACJ4C,CAAC,IAAI,CAAL,GAASH,IAAI,CAACG,CAAD,CAAb,GAAmBJ,OAAO,CAACnB,WAAR,KAAwB,GAAxB,GAA8BoB,IAAI,CAACG,CAAD,CADjD,CAAN;UAGD;;UACDJ,OAAO,GAAGM,GAAV;UACAH,UAAU,IAAIF,IAAI,CAACG,CAAD,CAAJ,GAAU,GAAxB;QACD;;QAED,OAAOJ,OAAP;MACD,CAtCM;;MAwCP;AACJ;AACA;AACA;AACA;AACA;MACIvC,gBA9CO,4BA8CU6B,IA9CV,EA8CgB;QACrB,IAAI,CAACA,IAAL,EAAW;UACT,MAAM,IAAIiB,KAAJ,CAAU,iDAAV,CAAN;QACD;;QACD,IAAIC,GAAG,GAAGlB,IAAI,CAACmB,WAAL,CAAiB,GAAjB,CAAV;;QACA,IAAID,GAAG,GAAG,CAAV,EAAa;UACX,OAAOnD,GAAG,CAACC,SAAJ,CAAcC,GAAd,CAAkBC,OAAlB,CAA0B0B,UAA1B,CAAqC,EAArC,CAAP;QACD;;QACD,IAAIiB,UAAU,GAAGb,IAAI,CAACoB,SAAL,CAAe,CAAf,EAAkBF,GAAlB,CAAjB;QACA,OAAOnD,GAAG,CAACC,SAAJ,CAAcC,GAAd,CAAkBC,OAAlB,CAA0B0B,UAA1B,CAAqCiB,UAArC,EAAiD,IAAjD,CAAP;MACD;IAxDM;EApGkC,CAA7C;EApBA9C,GAAG,CAACC,SAAJ,CAAcC,GAAd,CAAkBC,OAAlB,CAA0Bf,aAA1B,GAA0CA,aAA1C"
}