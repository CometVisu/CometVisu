{
  "version": 3,
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "define",
    "extend",
    "Object",
    "implement",
    "core",
    "IDisposable",
    "statics",
    "MOUSE_TO_POINTER_MAPPING",
    "mousedown",
    "mouseup",
    "mousemove",
    "mouseout",
    "mouseover",
    "TOUCH_TO_POINTER_MAPPING",
    "touchstart",
    "touchend",
    "touchmove",
    "touchcancel",
    "MSPOINTER_TO_POINTER_MAPPING",
    "MSPointerDown",
    "MSPointerMove",
    "MSPointerUp",
    "MSPointerCancel",
    "MSPointerLeave",
    "MSPointerEnter",
    "MSPointerOver",
    "MSPointerOut",
    "POINTER_TO_GESTURE_MAPPING",
    "pointerdown",
    "pointerup",
    "pointercancel",
    "pointermove",
    "LEFT_BUTTON",
    "Environment",
    "get",
    "SIM_MOUSE_DISTANCE",
    "SIM_MOUSE_DELAY",
    "__lastTouch",
    "construct",
    "target",
    "emitter",
    "__defaultTarget",
    "__emitter",
    "__eventNames",
    "__buttonStates",
    "__activeTouches",
    "_processedFlag",
    "classname",
    "substr",
    "lastIndexOf",
    "engineName",
    "docMode",
    "parseInt",
    "_initPointerObserver",
    "__nativePointerEvents",
    "_initObserver",
    "_onTouchEvent",
    "_onMouseEvent",
    "members",
    "__wrappedListener",
    "__lastButtonState",
    "__primaryIdentifier",
    "_onPointerEvent",
    "callback",
    "useEmitter",
    "lang",
    "Function",
    "listener",
    "forEach",
    "type",
    "dom",
    "Node",
    "isDocument",
    "$$emitter",
    "event",
    "Emitter",
    "on",
    "bom",
    "Event",
    "addNativeListener",
    "bind",
    "domEvent",
    "toLowerCase",
    "indexOf",
    "stopPropagation",
    "handler",
    "PointerCore",
    "getTarget",
    "evt",
    "Pointer",
    "_fireEvent",
    "changedTouches",
    "_determineActiveTouches",
    "touches",
    "length",
    "i",
    "cancelEvent",
    "identifier",
    "pointerType",
    "pointerId",
    "l",
    "touch",
    "touchTarget",
    "view",
    "document",
    "elementFromPoint",
    "clientX",
    "clientY",
    "touchProps",
    "pageX",
    "pageY",
    "screenX",
    "screenY",
    "overEvt",
    "isPrimary",
    "button",
    "buttons",
    "x",
    "y",
    "time",
    "Date",
    "getTime",
    "outEvt",
    "_isSimulatedMouseEvent",
    "which",
    "ctrlKey",
    "buttonsPressed",
    "Array",
    "sum",
    "mouseProps",
    "moveEvt",
    "push",
    "updatedActiveTouches",
    "add",
    "j",
    "timeSinceTouch",
    "dist",
    "distX",
    "Math",
    "abs",
    "distY",
    "_stopObserver",
    "removeNativeListener",
    "gestureEvent",
    "normalize",
    "srcElement",
    "ex",
    "tracker",
    "Utils",
    "then",
    "dispatchEvent",
    "promise",
    "currentTarget",
    "_stopped",
    "emit",
    "parentNode",
    "dispose"
  ],
  "sources": [
    "/home/runner/work/CometVisu/CometVisu/node_modules/@qooxdoo/framework/source/class/qx/event/handler/PointerCore.js"
  ],
  "sourcesContent": [
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2014 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Christopher Zuendorf (czuendorf)\n     * Daniel Wagner (danielwagner)\n\n************************************************************************ */\n\n/**\n * Low-level pointer event handler.\n *\n * @require(qx.bom.client.Event)\n * @require(qx.bom.client.Device)\n */\nqx.Bootstrap.define(\"qx.event.handler.PointerCore\", {\n  extend: Object,\n  implement: [qx.core.IDisposable],\n\n  statics: {\n    MOUSE_TO_POINTER_MAPPING: {\n      mousedown: \"pointerdown\",\n      mouseup: \"pointerup\",\n      mousemove: \"pointermove\",\n      mouseout: \"pointerout\",\n      mouseover: \"pointerover\"\n    },\n\n    TOUCH_TO_POINTER_MAPPING: {\n      touchstart: \"pointerdown\",\n      touchend: \"pointerup\",\n      touchmove: \"pointermove\",\n      touchcancel: \"pointercancel\"\n    },\n\n    MSPOINTER_TO_POINTER_MAPPING: {\n      MSPointerDown: \"pointerdown\",\n      MSPointerMove: \"pointermove\",\n      MSPointerUp: \"pointerup\",\n      MSPointerCancel: \"pointercancel\",\n      MSPointerLeave: \"pointerleave\",\n      MSPointerEnter: \"pointerenter\",\n      MSPointerOver: \"pointerover\",\n      MSPointerOut: \"pointerout\"\n    },\n\n    POINTER_TO_GESTURE_MAPPING: {\n      pointerdown: \"gesturebegin\",\n      pointerup: \"gesturefinish\",\n      pointercancel: \"gesturecancel\",\n      pointermove: \"gesturemove\"\n    },\n\n    LEFT_BUTTON:\n      qx.core.Environment.get(\"engine.name\") == \"mshtml\" &&\n      qx.core.Environment.get(\"browser.documentmode\") <= 8\n        ? 1\n        : 0,\n\n    SIM_MOUSE_DISTANCE: 25,\n\n    SIM_MOUSE_DELAY: 2500,\n\n    /**\n     * Coordinates of the last touch. This needs to be static because the target could\n     * change between touch and simulated mouse events. Touch events will be detected\n     * by one instance which moves the target. The simulated mouse events will be fired with\n     * a delay which causes another target and with that, another instance of this handler.\n     * last touch was.\n     */\n    __lastTouch: null\n  },\n\n  /**\n   * Create a new instance\n   *\n   * @param target {Element} element on which to listen for native touch events\n   * @param emitter {qx.event.Emitter?} Event emitter (used if dispatchEvent\n   * is not supported, e.g. in IE8)\n   */\n  construct(target, emitter) {\n    this.__defaultTarget = target;\n    this.__emitter = emitter;\n    this.__eventNames = [];\n    this.__buttonStates = [];\n    this.__activeTouches = [];\n    this._processedFlag =\n      \"$$qx\" +\n      this.classname.substr(this.classname.lastIndexOf(\".\") + 1) +\n      \"Processed\";\n\n    var engineName = qx.core.Environment.get(\"engine.name\");\n    var docMode = parseInt(qx.core.Environment.get(\"browser.documentmode\"), 10);\n    if (engineName == \"mshtml\" && docMode == 10) {\n      // listen to native prefixed events and custom unprefixed (see bug #8921)\n      this.__eventNames = [\n        \"MSPointerDown\",\n        \"MSPointerMove\",\n        \"MSPointerUp\",\n        \"MSPointerCancel\",\n        \"MSPointerOver\",\n        \"MSPointerOut\",\n        \"pointerdown\",\n        \"pointermove\",\n        \"pointerup\",\n        \"pointercancel\",\n        \"pointerover\",\n        \"pointerout\"\n      ];\n\n      this._initPointerObserver();\n    } else {\n      if (qx.core.Environment.get(\"event.mspointer\")) {\n        this.__nativePointerEvents = true;\n      }\n      this.__eventNames = [\n        \"pointerdown\",\n        \"pointermove\",\n        \"pointerup\",\n        \"pointercancel\",\n        \"pointerover\",\n        \"pointerout\"\n      ];\n\n      this._initPointerObserver();\n    }\n    if (!qx.core.Environment.get(\"event.mspointer\")) {\n      if (qx.core.Environment.get(\"device.touch\")) {\n        this.__eventNames = [\n          \"touchstart\",\n          \"touchend\",\n          \"touchmove\",\n          \"touchcancel\"\n        ];\n\n        this._initObserver(this._onTouchEvent);\n      }\n\n      this.__eventNames = [\n        \"mousedown\",\n        \"mouseup\",\n        \"mousemove\",\n        \"mouseover\",\n        \"mouseout\",\n        \"contextmenu\"\n      ];\n\n      this._initObserver(this._onMouseEvent);\n    }\n  },\n\n  members: {\n    __defaultTarget: null,\n    __emitter: null,\n    __eventNames: null,\n    __nativePointerEvents: false,\n    __wrappedListener: null,\n    __lastButtonState: 0,\n    __buttonStates: null,\n    __primaryIdentifier: null,\n    __activeTouches: null,\n    _processedFlag: null,\n\n    /**\n     * Adds listeners to native pointer events if supported\n     */\n    _initPointerObserver() {\n      this._initObserver(this._onPointerEvent);\n    },\n\n    /**\n     * Register native event listeners\n     * @param callback {Function} listener callback\n     * @param useEmitter {Boolean} attach listener to Emitter instead of\n     * native event\n     */\n    _initObserver(callback, useEmitter) {\n      this.__wrappedListener = qx.lang.Function.listener(callback, this);\n      this.__eventNames.forEach(\n        function (type) {\n          if (useEmitter && qx.dom.Node.isDocument(this.__defaultTarget)) {\n            if (!this.__defaultTarget.$$emitter) {\n              this.__defaultTarget.$$emitter = new qx.event.Emitter();\n            }\n            this.__defaultTarget.$$emitter.on(type, this.__wrappedListener);\n          } else {\n            qx.bom.Event.addNativeListener(\n              this.__defaultTarget,\n              type,\n              this.__wrappedListener\n            );\n          }\n        }.bind(this)\n      );\n    },\n\n    /**\n     * Handler for native pointer events\n     * @param domEvent {Event}  Native DOM event\n     */\n    _onPointerEvent(domEvent) {\n      if (\n        !qx.core.Environment.get(\"event.mspointer\") ||\n        // workaround for bug #8533\n        (qx.core.Environment.get(\"browser.documentmode\") === 10 &&\n          domEvent.type.toLowerCase().indexOf(\"ms\") == -1)\n      ) {\n        return;\n      }\n      if (!this.__nativePointerEvents) {\n        domEvent.stopPropagation();\n      }\n      var type =\n        qx.event.handler.PointerCore.MSPOINTER_TO_POINTER_MAPPING[\n          domEvent.type\n        ] || domEvent.type;\n      var target = qx.bom.Event.getTarget(domEvent);\n      var evt = new qx.event.type.dom.Pointer(type, domEvent);\n      this._fireEvent(evt, type, target);\n    },\n\n    /**\n     * Handler for touch events\n     * @param domEvent {Event} Native DOM event\n     */\n    _onTouchEvent(domEvent) {\n      if (domEvent[this._processedFlag]) {\n        return;\n      }\n      domEvent[this._processedFlag] = true;\n      var type =\n        qx.event.handler.PointerCore.TOUCH_TO_POINTER_MAPPING[domEvent.type];\n      var changedTouches = domEvent.changedTouches;\n\n      this._determineActiveTouches(domEvent.type, changedTouches);\n\n      // Detecting vacuum touches. (Touches which are not active anymore, but did not fire a touchcancel event)\n      if (domEvent.touches.length < this.__activeTouches.length) {\n        // Firing pointer cancel for previously active touches.\n        for (var i = this.__activeTouches.length - 1; i >= 0; i--) {\n          var cancelEvent = new qx.event.type.dom.Pointer(\n            \"pointercancel\",\n            domEvent,\n            {\n              identifier: this.__activeTouches[i].identifier,\n              target: domEvent.target,\n              pointerType: \"touch\",\n              pointerId: this.__activeTouches[i].identifier + 2\n            }\n          );\n\n          this._fireEvent(cancelEvent, \"pointercancel\", domEvent.target);\n        }\n\n        // Reset primary identifier\n        this.__primaryIdentifier = null;\n\n        // cleanup of active touches array.\n        this.__activeTouches = [];\n\n        // Do nothing after pointer cancel.\n        return;\n      }\n\n      if (domEvent.type == \"touchstart\" && this.__primaryIdentifier === null) {\n        this.__primaryIdentifier = changedTouches[0].identifier;\n      }\n\n      for (var i = 0, l = changedTouches.length; i < l; i++) {\n        var touch = changedTouches[i];\n\n        var touchTarget =\n          domEvent.view.document.elementFromPoint(\n            touch.clientX,\n            touch.clientY\n          ) || domEvent.target;\n\n        var touchProps = {\n          clientX: touch.clientX,\n          clientY: touch.clientY,\n          pageX: touch.pageX,\n          pageY: touch.pageY,\n          identifier: touch.identifier,\n          screenX: touch.screenX,\n          screenY: touch.screenY,\n          target: touchTarget,\n          pointerType: \"touch\",\n          pointerId: touch.identifier + 2\n        };\n\n        if (domEvent.type == \"touchstart\") {\n          // Fire pointerenter before pointerdown\n          var overEvt = new qx.event.type.dom.Pointer(\n            \"pointerover\",\n            domEvent,\n            touchProps\n          );\n\n          this._fireEvent(overEvt, \"pointerover\", touchProps.target);\n        }\n\n        if (touch.identifier == this.__primaryIdentifier) {\n          touchProps.isPrimary = true;\n          // always simulate left click on touch interactions for primary pointer\n          touchProps.button = 0;\n          touchProps.buttons = 1;\n          qx.event.handler.PointerCore.__lastTouch = {\n            x: touch.clientX,\n            y: touch.clientY,\n            time: new Date().getTime()\n          };\n        }\n\n        var evt = new qx.event.type.dom.Pointer(type, domEvent, touchProps);\n\n        this._fireEvent(evt, type, touchProps.target);\n\n        if (domEvent.type == \"touchend\" || domEvent.type == \"touchcancel\") {\n          // Fire pointerout after pointerup\n          var outEvt = new qx.event.type.dom.Pointer(\n            \"pointerout\",\n            domEvent,\n            touchProps\n          );\n\n          // fire on the original target to make sure over / out event are on the same target\n          this._fireEvent(outEvt, \"pointerout\", domEvent.target);\n\n          if (this.__primaryIdentifier == touch.identifier) {\n            this.__primaryIdentifier = null;\n          }\n        }\n      }\n    },\n\n    /**\n     * Handler for touch events\n     * @param domEvent {Event} Native DOM event\n     */\n    _onMouseEvent(domEvent) {\n      if (domEvent[this._processedFlag]) {\n        return;\n      }\n      domEvent[this._processedFlag] = true;\n\n      if (this._isSimulatedMouseEvent(domEvent.clientX, domEvent.clientY)) {\n        /*\n          Simulated MouseEvents are fired by browsers directly after TouchEvents\n          for improving compatibility. They should not trigger PointerEvents.\n        */\n        return;\n      }\n\n      if (domEvent.type == \"mousedown\") {\n        this.__buttonStates[domEvent.which] = 1;\n      } else if (domEvent.type == \"mouseup\") {\n        if (\n          qx.core.Environment.get(\"os.name\") == \"osx\" &&\n          qx.core.Environment.get(\"engine.name\") == \"gecko\"\n        ) {\n          if (this.__buttonStates[domEvent.which] != 1 && domEvent.ctrlKey) {\n            this.__buttonStates[1] = 0;\n          }\n        }\n\n        this.__buttonStates[domEvent.which] = 0;\n      }\n\n      var type =\n        qx.event.handler.PointerCore.MOUSE_TO_POINTER_MAPPING[domEvent.type];\n      var target = qx.bom.Event.getTarget(domEvent);\n\n      var buttonsPressed = qx.lang.Array.sum(this.__buttonStates);\n\n      var mouseProps = { pointerType: \"mouse\", pointerId: 1 };\n\n      // if the button state changes but not from or to zero\n      if (\n        this.__lastButtonState != buttonsPressed &&\n        buttonsPressed !== 0 &&\n        this.__lastButtonState !== 0\n      ) {\n        var moveEvt = new qx.event.type.dom.Pointer(\n          \"pointermove\",\n          domEvent,\n          mouseProps\n        );\n\n        this._fireEvent(moveEvt, \"pointermove\", target);\n      }\n      this.__lastButtonState = buttonsPressed;\n\n      // pointerdown should only trigger form the first pressed button.\n      if (domEvent.type == \"mousedown\" && buttonsPressed > 1) {\n        return;\n      }\n\n      // pointerup should only trigger if user releases all buttons.\n      if (domEvent.type == \"mouseup\" && buttonsPressed > 0) {\n        return;\n      }\n\n      if (domEvent.type == \"contextmenu\") {\n        this.__buttonStates[domEvent.which] = 0;\n        return;\n      }\n\n      var evt = new qx.event.type.dom.Pointer(type, domEvent, mouseProps);\n      this._fireEvent(evt, type, target);\n    },\n\n    /**\n     * Determines the current active touches.\n     * @param type {String} the DOM event type.\n     * @param changedTouches {Array} the current changed touches.\n     */\n    _determineActiveTouches(type, changedTouches) {\n      if (type == \"touchstart\") {\n        for (var i = 0; i < changedTouches.length; i++) {\n          this.__activeTouches.push(changedTouches[i]);\n        }\n      } else if (type == \"touchend\" || type == \"touchcancel\") {\n        var updatedActiveTouches = [];\n\n        for (var i = 0; i < this.__activeTouches.length; i++) {\n          var add = true;\n          for (var j = 0; j < changedTouches.length; j++) {\n            if (\n              this.__activeTouches[i].identifier == changedTouches[j].identifier\n            ) {\n              add = false;\n              break;\n            }\n          }\n\n          if (add) {\n            updatedActiveTouches.push(this.__activeTouches[i]);\n          }\n        }\n        this.__activeTouches = updatedActiveTouches;\n      }\n    },\n\n    /**\n     * Detects whether the given MouseEvent position is identical to the previously fired TouchEvent position.\n     * If <code>true</code> the corresponding event can be identified as simulated.\n     * @param x {Integer} current mouse x\n     * @param y {Integer} current mouse y\n     * @return {Boolean} <code>true</code> if passed mouse position is a synthetic MouseEvent.\n     */\n    _isSimulatedMouseEvent(x, y) {\n      var touch = qx.event.handler.PointerCore.__lastTouch;\n      if (touch) {\n        var timeSinceTouch = new Date().getTime() - touch.time;\n        var dist = qx.event.handler.PointerCore.SIM_MOUSE_DISTANCE;\n        var distX = Math.abs(x - qx.event.handler.PointerCore.__lastTouch.x);\n        var distY = Math.abs(y - qx.event.handler.PointerCore.__lastTouch.y);\n        if (timeSinceTouch < qx.event.handler.PointerCore.SIM_MOUSE_DELAY) {\n          if (distX < dist || distY < dist) {\n            return true;\n          }\n        }\n      }\n      return false;\n    },\n\n    /**\n     * Removes native pointer event listeners.\n     */\n    _stopObserver() {\n      for (var i = 0; i < this.__eventNames.length; i++) {\n        qx.bom.Event.removeNativeListener(\n          this.__defaultTarget,\n          this.__eventNames[i],\n          this.__wrappedListener\n        );\n      }\n    },\n\n    /**\n     * Fire a touch event with the given parameters\n     *\n     * @param domEvent {Event} DOM event\n     * @param type {String ? null} type of the event\n     * @param target {Element ? null} event target\n     * @return {qx.Promise?} a promise, if one was returned by event handlers\n     */\n    _fireEvent(domEvent, type, target) {\n      target = target || domEvent.target;\n      type = type || domEvent.type;\n\n      var gestureEvent;\n      if (\n        (domEvent.pointerType !== \"mouse\" ||\n          domEvent.button <= qx.event.handler.PointerCore.LEFT_BUTTON) &&\n        (type == \"pointerdown\" || type == \"pointerup\" || type == \"pointermove\")\n      ) {\n        gestureEvent = new qx.event.type.dom.Pointer(\n          qx.event.handler.PointerCore.POINTER_TO_GESTURE_MAPPING[type],\n          domEvent\n        );\n\n        qx.event.type.dom.Pointer.normalize(gestureEvent);\n        try {\n          gestureEvent.srcElement = target;\n        } catch (ex) {\n          // Nothing - strict mode prevents writing to read only properties\n        }\n      }\n\n      if (qx.core.Environment.get(\"event.dispatchevent\")) {\n        var tracker = {};\n        if (!this.__nativePointerEvents) {\n          qx.event.Utils.then(tracker, function () {\n            return target.dispatchEvent(domEvent);\n          });\n        }\n        if (gestureEvent) {\n          qx.event.Utils.then(tracker, function () {\n            return target.dispatchEvent(gestureEvent);\n          });\n        }\n        return tracker.promise;\n      } else {\n        if (\n          qx.core.Environment.get(\"browser.name\") === \"msie\" &&\n          qx.core.Environment.get(\"browser.version\") < 9\n        ) {\n          // ensure compatibility with native events for IE8\n          try {\n            domEvent.srcElement = target;\n          } catch (ex) {\n            // Nothing - strict mode prevents writing to read only properties\n          }\n        }\n\n        while (target) {\n          if (target.$$emitter) {\n            domEvent.currentTarget = target;\n            if (!domEvent._stopped) {\n              target.$$emitter.emit(type, domEvent);\n            }\n            if (gestureEvent && !gestureEvent._stopped) {\n              gestureEvent.currentTarget = target;\n              target.$$emitter.emit(gestureEvent.type, gestureEvent);\n            }\n          }\n          target = target.parentNode;\n        }\n      }\n    },\n\n    /**\n     * Dispose this object\n     */\n    dispose() {\n      this._stopObserver();\n      this.__defaultTarget = this.__emitter = null;\n    }\n  }\n});\n"
  ],
  "mappings": "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"
}