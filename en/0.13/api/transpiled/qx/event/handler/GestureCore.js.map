{
  "version": 3,
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "define",
    "extend",
    "Object",
    "implement",
    "core",
    "IDisposable",
    "statics",
    "TYPES",
    "GESTURE_EVENTS",
    "TAP_MAX_DISTANCE",
    "touch",
    "mouse",
    "pen",
    "DOUBLETAP_MAX_DISTANCE",
    "SWIPE_DIRECTION",
    "x",
    "y",
    "LONGTAP_TIME",
    "Environment",
    "get",
    "DOUBLETAP_TIME",
    "ROLL_FACTOR",
    "TOUCHPAD_ROLL_FACTOR",
    "TOUCHPAD_WHEEL_EVENTS_THRESHOLD",
    "TOUCHPAD_WHEEL_EVENTS_PERIOD",
    "TOUCHPAD_WHEEL_EVENTS_TIMEOUT",
    "construct",
    "target",
    "emitter",
    "__defaultTarget",
    "__emitter",
    "__gesture",
    "__lastTap",
    "__stopMomentum",
    "__momentum",
    "__rollEvents",
    "_initObserver",
    "members",
    "__eventName",
    "__primaryTarget",
    "__isMultiPointerGesture",
    "__initialAngle",
    "__rollImpulseId",
    "__initialDistance",
    "__rollEventsCountStart",
    "__rollEventsCount",
    "__touchPadDetectionPerformed",
    "__lastRollEventTime",
    "event",
    "handler",
    "GestureCore",
    "forEach",
    "gestureType",
    "qxWeb",
    "on",
    "checkAndFireGesture",
    "bind",
    "_onDblClick",
    "data",
    "type",
    "_fireRoll",
    "_stopObserver",
    "pointerType",
    "off",
    "domEvent",
    "bom",
    "Event",
    "getTarget",
    "gestureBegin",
    "gestureMove",
    "gestureFinish",
    "gestureCancel",
    "pointerId",
    "__stopLongTapTimer",
    "_hasIntermediaryHandler",
    "startTime",
    "Date",
    "getTime",
    "lastEventTime",
    "startX",
    "clientX",
    "startY",
    "clientY",
    "velocityX",
    "velocityY",
    "isTap",
    "isPrimary",
    "longTapTimer",
    "window",
    "setTimeout",
    "__fireLongTap",
    "__fireTrack",
    "keys",
    "length",
    "_calcAngle",
    "_calcDistance",
    "gesture",
    "oldClientX",
    "oldClientY",
    "__fireRotate",
    "__firePinch",
    "_isBelowTapMaxDistance",
    "$$gestureHandler",
    "parentNode",
    "__handleRollImpulse",
    "_fireEvent",
    "isDblTap",
    "limit",
    "now",
    "time",
    "lastTap",
    "isBelowDoubleTapDistance",
    "__isBelowDoubleTapDistance",
    "getPointerType",
    "isSameTarget",
    "isSameButton",
    "button",
    "swipe",
    "__getSwipeGesture",
    "stopMomentum",
    "id",
    "updateGestureTarget",
    "deltaX",
    "deltaY",
    "oldTimeoutId",
    "timeoutId",
    "Math",
    "abs",
    "getWindow",
    "startFactor",
    "AnimationFrame",
    "request",
    "lang",
    "Function",
    "round",
    "delta",
    "momentum",
    "pointerA",
    "pointerB",
    "atan2",
    "PI",
    "scale",
    "sqrt",
    "pow",
    "_getDeltaCoordinates",
    "maxDistance",
    "x1",
    "y1",
    "x2",
    "y2",
    "clazz",
    "inX",
    "inY",
    "axis",
    "evt",
    "dom",
    "Custom",
    "bubbles",
    "angle",
    "dispatchEvent",
    "currentTarget",
    "srcElement",
    "emit",
    "deltaCoordinates",
    "duration",
    "distance",
    "direction",
    "velocity",
    "__fireRollEvent",
    "rollFactor",
    "util",
    "Wheel",
    "getDelta",
    "__performAdaptativeRollScrolling",
    "IS_TOUCHPAD",
    "reLength",
    "i",
    "__endTouchPadDetection",
    "_isTouchPadDetectionEnabled",
    "detectionTimeout",
    "Timer",
    "once",
    "push",
    "clearTimeout",
    "dispose"
  ],
  "sources": [
    "/home/runner/work/CometVisu/CometVisu/node_modules/@qooxdoo/framework/source/class/qx/event/handler/GestureCore.js"
  ],
  "sourcesContent": [
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2014 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Christopher Zuendorf (czuendorf)\n     * Daniel Wagner (danielwagner)\n\n************************************************************************ */\n\n/**\n * Listens for (native or synthetic) pointer events and fires events\n * for gestures like \"tap\" or \"swipe\"\n */\nqx.Bootstrap.define(\"qx.event.handler.GestureCore\", {\n  extend: Object,\n  implement: [qx.core.IDisposable],\n\n  statics: {\n    TYPES: [\n      \"tap\",\n      \"swipe\",\n      \"longtap\",\n      \"dbltap\",\n      \"track\",\n      \"trackstart\",\n      \"trackend\",\n      \"rotate\",\n      \"pinch\",\n      \"roll\"\n    ],\n\n    GESTURE_EVENTS: [\n      \"gesturebegin\",\n      \"gesturefinish\",\n      \"gesturemove\",\n      \"gesturecancel\"\n    ],\n\n    /** @type {Map} Maximum distance between a pointer-down and pointer-up event, values are configurable */\n    TAP_MAX_DISTANCE: { touch: 40, mouse: 5, pen: 20 }, // values are educated guesses\n\n    /** @type {Map} Maximum distance between two subsequent taps, values are configurable */\n    DOUBLETAP_MAX_DISTANCE: { touch: 10, mouse: 4, pen: 10 }, // values are educated guesses\n\n    /** @type {Map} The direction of a swipe relative to the axis */\n    SWIPE_DIRECTION: {\n      x: [\"left\", \"right\"],\n      y: [\"up\", \"down\"]\n    },\n\n    /**\n     * @type {Integer} The time delta in milliseconds to fire a long tap event.\n     */\n    LONGTAP_TIME: qx.core.Environment.get(\"device.touch\") ? 500 : 99999,\n\n    /**\n     * @type {Integer} Maximum time between two tap events that will still trigger a\n     * dbltap event.\n     */\n    DOUBLETAP_TIME: 500,\n\n    /**\n     * @type {Integer} Factor which is used for adapting the delta of the mouse wheel\n     * event to the roll events,\n     */\n    ROLL_FACTOR: 18,\n\n    /**\n     * @type {Integer} Factor which is used for adapting the delta of the touchpad gesture\n     * event to the roll events,\n     */\n    TOUCHPAD_ROLL_FACTOR: 1,\n\n    /**\n     * @type {Integer} Minimum number of wheel events to receive during the\n     * TOUCHPAD_WHEEL_EVENTS_PERIOD to detect a touchpad.\n     */\n    TOUCHPAD_WHEEL_EVENTS_THRESHOLD: 10,\n\n    /**\n     * @type {Integer} Period (in ms) during which the wheel events are counted in order\n     * to detect a touchpad.\n     */\n    TOUCHPAD_WHEEL_EVENTS_PERIOD: 100,\n\n    /**\n     * @type {Integer} Timeout (in ms) after which the touchpad detection is reset if no wheel\n     * events are received in the meantime.\n     */\n    TOUCHPAD_WHEEL_EVENTS_TIMEOUT: 5000\n  },\n\n  /**\n   * @param target {Element} DOM Element that should fire gesture events\n   * @param emitter {qx.event.Emitter?} Event emitter (used if dispatchEvent\n   * is not supported, e.g. in IE8)\n   */\n  construct(target, emitter) {\n    this.__defaultTarget = target;\n    this.__emitter = emitter;\n    this.__gesture = {};\n    this.__lastTap = {};\n    this.__stopMomentum = {};\n    this.__momentum = {};\n    this.__rollEvents = [];\n    this._initObserver();\n  },\n\n  members: {\n    __defaultTarget: null,\n    __emitter: null,\n    __gesture: null,\n    __eventName: null,\n    __primaryTarget: null,\n    __isMultiPointerGesture: null,\n    __initialAngle: null,\n    __lastTap: null,\n    __rollImpulseId: null,\n    __stopMomentum: null,\n    __initialDistance: null,\n    __momentum: null,\n    __rollEvents: null,\n    __rollEventsCountStart: 0,\n    __rollEventsCount: 0,\n    __touchPadDetectionPerformed: false,\n    __lastRollEventTime: 0,\n\n    /**\n     * Register pointer event listeners\n     */\n    _initObserver() {\n      qx.event.handler.GestureCore.GESTURE_EVENTS.forEach(\n        function (gestureType) {\n          qxWeb(this.__defaultTarget).on(\n            gestureType,\n            this.checkAndFireGesture,\n            this\n          );\n        }.bind(this)\n      );\n\n      if (\n        qx.core.Environment.get(\"engine.name\") == \"mshtml\" &&\n        qx.core.Environment.get(\"browser.documentmode\") < 9\n      ) {\n        qxWeb(this.__defaultTarget).on(\"dblclick\", this._onDblClick, this);\n      }\n\n      // list to wheel events\n      var data = qx.core.Environment.get(\"event.mousewheel\");\n      qxWeb(data.target).on(data.type, this._fireRoll, this);\n    },\n\n    /**\n     * Remove native pointer event listeners.\n     */\n    _stopObserver() {\n      qx.event.handler.GestureCore.GESTURE_EVENTS.forEach(\n        function (pointerType) {\n          qxWeb(this.__defaultTarget).off(\n            pointerType,\n            this.checkAndFireGesture,\n            this\n          );\n        }.bind(this)\n      );\n\n      if (\n        qx.core.Environment.get(\"engine.name\") == \"mshtml\" &&\n        qx.core.Environment.get(\"browser.documentmode\") < 9\n      ) {\n        qxWeb(this.__defaultTarget).off(\"dblclick\", this._onDblClick, this);\n      }\n\n      var data = qx.core.Environment.get(\"event.mousewheel\");\n      qxWeb(data.target).off(data.type, this._fireRoll, this);\n    },\n\n    /**\n     * Checks if a gesture was made and fires the gesture event.\n     *\n     * @param domEvent {qx.event.type.Pointer} DOM event\n     * @param type {String ? null} type of the event\n     * @param target {Element ? null} event target\n     */\n    checkAndFireGesture(domEvent, type, target) {\n      if (!type) {\n        type = domEvent.type;\n      }\n\n      if (!target) {\n        target = qx.bom.Event.getTarget(domEvent);\n      }\n\n      if (type == \"gesturebegin\") {\n        this.gestureBegin(domEvent, target);\n      } else if (type == \"gesturemove\") {\n        this.gestureMove(domEvent, target);\n      } else if (type == \"gesturefinish\") {\n        this.gestureFinish(domEvent, target);\n      } else if (type == \"gesturecancel\") {\n        this.gestureCancel(domEvent.pointerId);\n      }\n    },\n\n    /**\n     * Helper method for gesture start.\n     *\n     * @param domEvent {Event} DOM event\n     * @param target {Element} event target\n     */\n    gestureBegin(domEvent, target) {\n      if (this.__gesture[domEvent.pointerId]) {\n        this.__stopLongTapTimer(this.__gesture[domEvent.pointerId]);\n        delete this.__gesture[domEvent.pointerId];\n      }\n\n      /*\n        If the dom event's target or one of its ancestors have\n        a gesture handler, we don't need to fire the gesture again\n        since it bubbles.\n       */\n      if (this._hasIntermediaryHandler(target)) {\n        return;\n      }\n\n      this.__gesture[domEvent.pointerId] = {\n        startTime: new Date().getTime(),\n        lastEventTime: new Date().getTime(),\n        startX: domEvent.clientX,\n        startY: domEvent.clientY,\n        clientX: domEvent.clientX,\n        clientY: domEvent.clientY,\n        velocityX: 0,\n        velocityY: 0,\n        target: target,\n        isTap: true,\n        isPrimary: domEvent.isPrimary,\n        longTapTimer: window.setTimeout(\n          this.__fireLongTap.bind(this, domEvent, target),\n          qx.event.handler.GestureCore.LONGTAP_TIME\n        )\n      };\n\n      if (domEvent.isPrimary) {\n        this.__isMultiPointerGesture = false;\n        this.__primaryTarget = target;\n        this.__fireTrack(\"trackstart\", domEvent, target);\n      } else {\n        this.__isMultiPointerGesture = true;\n        if (Object.keys(this.__gesture).length === 2) {\n          this.__initialAngle = this._calcAngle();\n          this.__initialDistance = this._calcDistance();\n        }\n      }\n    },\n\n    /**\n     * Helper method for gesture move.\n     *\n     * @param domEvent {Event} DOM event\n     * @param target {Element} event target\n     */\n    gestureMove(domEvent, target) {\n      var gesture = this.__gesture[domEvent.pointerId];\n\n      if (gesture) {\n        var oldClientX = gesture.clientX;\n        var oldClientY = gesture.clientY;\n\n        gesture.clientX = domEvent.clientX;\n        gesture.clientY = domEvent.clientY;\n        gesture.lastEventTime = new Date().getTime();\n\n        if (oldClientX) {\n          gesture.velocityX = gesture.clientX - oldClientX;\n        }\n        if (oldClientY) {\n          gesture.velocityY = gesture.clientY - oldClientY;\n        }\n\n        if (Object.keys(this.__gesture).length === 2) {\n          this.__fireRotate(domEvent, gesture.target);\n          this.__firePinch(domEvent, gesture.target);\n        }\n\n        if (!this.__isMultiPointerGesture) {\n          this.__fireTrack(\"track\", domEvent, gesture.target);\n          this._fireRoll(domEvent, \"touch\", gesture.target);\n        }\n\n        // abort long tap timer if the distance is too big\n        if (gesture.isTap) {\n          gesture.isTap = this._isBelowTapMaxDistance(domEvent);\n          if (!gesture.isTap) {\n            this.__stopLongTapTimer(gesture);\n          }\n        }\n      }\n    },\n\n    /**\n     * Checks if a DOM element located between the target of a gesture\n     * event and the element this handler is attached to has a gesture\n     * handler of its own.\n     *\n     * @param target {Element} The gesture event's target\n     * @return {Boolean}\n     */\n    _hasIntermediaryHandler(target) {\n      while (target && target !== this.__defaultTarget) {\n        if (target.$$gestureHandler) {\n          return true;\n        }\n        target = target.parentNode;\n      }\n      return false;\n    },\n\n    /**\n     * Helper method for gesture end.\n     *\n     * @param domEvent {Event} DOM event\n     * @param target {Element} event target\n     */\n    gestureFinish(domEvent, target) {\n      // If no start position is available for this pointerup event, cancel gesture recognition.\n      if (!this.__gesture[domEvent.pointerId]) {\n        return;\n      }\n\n      var gesture = this.__gesture[domEvent.pointerId];\n      // delete the long tap\n      this.__stopLongTapTimer(gesture);\n\n      /*\n        If the dom event's target or one of its ancestors have\n        a gesture handler, we don't need to fire the gesture again\n        since it bubbles.\n       */\n      if (this._hasIntermediaryHandler(target)) {\n        return;\n      }\n\n      // always start the roll impulse on the original target\n      this.__handleRollImpulse(\n        gesture.velocityX,\n        gesture.velocityY,\n        domEvent,\n        gesture.target\n      );\n\n      this.__fireTrack(\"trackend\", domEvent, gesture.target);\n\n      if (gesture.isTap) {\n        if (target !== gesture.target) {\n          delete this.__gesture[domEvent.pointerId];\n          return;\n        }\n\n        this._fireEvent(domEvent, \"tap\", domEvent.target || target);\n\n        var isDblTap = false;\n        if (Object.keys(this.__lastTap).length > 0) {\n          // delete old tap entries\n          var limit = Date.now() - qx.event.handler.GestureCore.DOUBLETAP_TIME;\n          for (var time in this.__lastTap) {\n            if (time < limit) {\n              delete this.__lastTap[time];\n            } else {\n              var lastTap = this.__lastTap[time];\n              var isBelowDoubleTapDistance = this.__isBelowDoubleTapDistance(\n                lastTap.x,\n                lastTap.y,\n                domEvent.clientX,\n                domEvent.clientY,\n                domEvent.getPointerType()\n              );\n\n              var isSameTarget = lastTap.target === (domEvent.target || target);\n              var isSameButton = lastTap.button === domEvent.button;\n\n              if (isBelowDoubleTapDistance && isSameButton && isSameTarget) {\n                isDblTap = true;\n                delete this.__lastTap[time];\n                this._fireEvent(domEvent, \"dbltap\", domEvent.target || target);\n              }\n            }\n          }\n        }\n\n        if (!isDblTap) {\n          this.__lastTap[Date.now()] = {\n            x: domEvent.clientX,\n            y: domEvent.clientY,\n            target: domEvent.target || target,\n            button: domEvent.button\n          };\n        }\n      } else if (!this._isBelowTapMaxDistance(domEvent)) {\n        var swipe = this.__getSwipeGesture(domEvent, target);\n        if (swipe) {\n          domEvent.swipe = swipe;\n          this._fireEvent(domEvent, \"swipe\", gesture.target || target);\n        }\n      }\n\n      delete this.__gesture[domEvent.pointerId];\n    },\n\n    /**\n     * Stops the momentum scrolling currently running.\n     *\n     * @param id {Integer} The timeoutId of a 'roll' event\n     */\n    stopMomentum(id) {\n      this.__stopMomentum[id] = true;\n    },\n\n    /**\n     * Cancels the gesture if running.\n     * @param id {Number} The pointer Id.\n     */\n    gestureCancel(id) {\n      if (this.__gesture[id]) {\n        this.__stopLongTapTimer(this.__gesture[id]);\n        delete this.__gesture[id];\n      }\n      if (this.__momentum[id]) {\n        this.stopMomentum(this.__momentum[id]);\n        delete this.__momentum[id];\n      }\n    },\n\n    /**\n     * Update the target of a running gesture. This is used in virtual widgets\n     * when the DOM element changes.\n     *\n     * @param id {String} The pointer id.\n     * @param target {Element} The new target element.\n     * @internal\n     */\n    updateGestureTarget(id, target) {\n      this.__gesture[id].target = target;\n    },\n\n    /**\n     * Method which will be called recursively to provide a momentum scrolling.\n     * @param deltaX {Number} The last offset in X direction\n     * @param deltaY {Number} The last offset in Y direction\n     * @param domEvent {Event} The original gesture event\n     * @param target {Element} The target of the momentum roll events\n     * @param time {Number ?} The time in ms between the last two calls\n     */\n    __handleRollImpulse(deltaX, deltaY, domEvent, target, time) {\n      var oldTimeoutId = domEvent.timeoutId;\n      if (!time && this.__momentum[domEvent.pointerId]) {\n        // new roll impulse started, stop the old one\n        this.stopMomentum(this.__momentum[domEvent.pointerId]);\n      }\n      // do nothing if we don't need to scroll\n      if (\n        (Math.abs(deltaY) < 1 && Math.abs(deltaX) < 1) ||\n        this.__stopMomentum[oldTimeoutId] ||\n        !this.getWindow()\n      ) {\n        delete this.__stopMomentum[oldTimeoutId];\n        delete this.__momentum[domEvent.pointerId];\n        return;\n      }\n\n      if (!time) {\n        time = 1;\n        var startFactor = 2.8;\n        deltaY = deltaY / startFactor;\n        deltaX = deltaX / startFactor;\n      }\n      time += 0.0006;\n\n      deltaY = deltaY / time;\n      deltaX = deltaX / time;\n\n      // set up a new timer with the new delta\n      var timeoutId = qx.bom.AnimationFrame.request(\n        qx.lang.Function.bind(\n          function (deltaX, deltaY, domEvent, target, time) {\n            this.__handleRollImpulse(deltaX, deltaY, domEvent, target, time);\n          },\n          this,\n          deltaX,\n          deltaY,\n          domEvent,\n          target,\n          time\n        )\n      );\n\n      deltaX = Math.round(deltaX * 100) / 100;\n      deltaY = Math.round(deltaY * 100) / 100;\n\n      // scroll the desired new delta\n      domEvent.delta = {\n        x: -deltaX,\n        y: -deltaY\n      };\n\n      domEvent.momentum = true;\n      domEvent.timeoutId = timeoutId;\n      this.__momentum[domEvent.pointerId] = timeoutId;\n      this._fireEvent(domEvent, \"roll\", domEvent.target || target);\n    },\n\n    /**\n     * Calculates the angle of the primary and secondary pointer.\n     * @return {Number} the rotation angle of the 2 pointers.\n     */\n    _calcAngle() {\n      var pointerA = null;\n      var pointerB = null;\n\n      for (var pointerId in this.__gesture) {\n        var gesture = this.__gesture[pointerId];\n        if (pointerA === null) {\n          pointerA = gesture;\n        } else {\n          pointerB = gesture;\n        }\n      }\n\n      var x = pointerA.clientX - pointerB.clientX;\n      var y = pointerA.clientY - pointerB.clientY;\n\n      return (360 + Math.atan2(y, x) * (180 / Math.PI)) % 360;\n    },\n\n    /**\n     * Calculates the scaling distance between two pointers.\n     * @return {Number} the calculated distance.\n     */\n    _calcDistance() {\n      var pointerA = null;\n      var pointerB = null;\n\n      for (var pointerId in this.__gesture) {\n        var gesture = this.__gesture[pointerId];\n        if (pointerA === null) {\n          pointerA = gesture;\n        } else {\n          pointerB = gesture;\n        }\n      }\n\n      var scale = Math.sqrt(\n        Math.pow(pointerA.clientX - pointerB.clientX, 2) +\n          Math.pow(pointerA.clientY - pointerB.clientY, 2)\n      );\n\n      return scale;\n    },\n\n    /**\n     * Checks if the distance between the x/y coordinates of DOM event\n     * exceeds TAP_MAX_DISTANCE and returns the result.\n     *\n     * @param domEvent {Event} The DOM event from the browser.\n     * @return {Boolean|null} true if distance is below TAP_MAX_DISTANCE.\n     */\n    _isBelowTapMaxDistance(domEvent) {\n      var delta = this._getDeltaCoordinates(domEvent);\n      var maxDistance =\n        qx.event.handler.GestureCore.TAP_MAX_DISTANCE[\n          domEvent.getPointerType()\n        ];\n\n      if (!delta) {\n        return null;\n      }\n\n      return (\n        Math.abs(delta.x) <= maxDistance && Math.abs(delta.y) <= maxDistance\n      );\n    },\n\n    /**\n     * Checks if the distance between the x1/y1 and x2/y2 is\n     * below the TAP_MAX_DISTANCE and returns the result.\n     *\n     * @param x1 {Number} The x position of point one.\n     * @param y1 {Number} The y position of point one.\n     * @param x2 {Number} The x position of point two.\n     * @param y2 {Number} The y position of point two.\n     * @param type {String} The pointer type e.g. \"mouse\"\n     * @return {Boolean} <code>true</code>, if points are in range\n     */\n    __isBelowDoubleTapDistance(x1, y1, x2, y2, type) {\n      var clazz = qx.event.handler.GestureCore;\n\n      var inX = Math.abs(x1 - x2) < clazz.DOUBLETAP_MAX_DISTANCE[type];\n      var inY = Math.abs(y1 - y2) < clazz.DOUBLETAP_MAX_DISTANCE[type];\n\n      return inX && inY;\n    },\n\n    /**\n     * Calculates the delta coordinates in relation to the position on <code>pointerstart</code> event.\n     * @param domEvent {Event} The DOM event from the browser.\n     * @return {Map} containing the deltaX as x, and deltaY as y.\n     */\n    _getDeltaCoordinates(domEvent) {\n      var gesture = this.__gesture[domEvent.pointerId];\n      if (!gesture) {\n        return null;\n      }\n\n      var deltaX = domEvent.clientX - gesture.startX;\n      var deltaY = domEvent.clientY - gesture.startY;\n\n      var axis = \"x\";\n      if (Math.abs(deltaX / deltaY) < 1) {\n        axis = \"y\";\n      }\n\n      return {\n        x: deltaX,\n        y: deltaY,\n        axis: axis\n      };\n    },\n\n    /**\n     * Fire a gesture event with the given parameters\n     *\n     * @param domEvent {Event} DOM event\n     * @param type {String} type of the event\n     * @param target {Element ? null} event target\n     * @return {qx.Promise?} a promise, if one or more of the event handlers returned a promise\n     */\n    _fireEvent(domEvent, type, target) {\n      // The target may have been removed, e.g. menu hide on tap\n      if (!this.__defaultTarget) {\n        return;\n      }\n      var evt;\n      if (qx.core.Environment.get(\"event.dispatchevent\")) {\n        evt = new qx.event.type.dom.Custom(type, domEvent, {\n          bubbles: true,\n          swipe: domEvent.swipe,\n          scale: domEvent.scale,\n          angle: domEvent.angle,\n          delta: domEvent.delta,\n          pointerType: domEvent.pointerType,\n          momentum: domEvent.momentum\n        });\n\n        return target.dispatchEvent(evt);\n      } else if (this.__emitter) {\n        evt = new qx.event.type.dom.Custom(type, domEvent, {\n          target: this.__defaultTarget,\n          currentTarget: this.__defaultTarget,\n          srcElement: this.__defaultTarget,\n          swipe: domEvent.swipe,\n          scale: domEvent.scale,\n          angle: domEvent.angle,\n          delta: domEvent.delta,\n          pointerType: domEvent.pointerType,\n          momentum: domEvent.momentum\n        });\n\n        this.__emitter.emit(type, domEvent);\n      }\n    },\n\n    /**\n     * Fire \"tap\" and \"dbltap\" events after a native \"dblclick\"\n     * event to fix IE 8's broken mouse event sequence.\n     *\n     * @param domEvent {Event} dblclick event\n     */\n    _onDblClick(domEvent) {\n      var target = qx.bom.Event.getTarget(domEvent);\n      this._fireEvent(domEvent, \"tap\", target);\n      this._fireEvent(domEvent, \"dbltap\", target);\n    },\n\n    /**\n     * Returns the swipe gesture when the user performed a swipe.\n     *\n     * @param domEvent {Event} DOM event\n     * @param target {Element} event target\n     * @return {Map|null} returns the swipe data when the user performed a swipe, null if the gesture was no swipe.\n     */\n    __getSwipeGesture(domEvent, target) {\n      var gesture = this.__gesture[domEvent.pointerId];\n      if (!gesture) {\n        return null;\n      }\n\n      var clazz = qx.event.handler.GestureCore;\n      var deltaCoordinates = this._getDeltaCoordinates(domEvent);\n      var duration = new Date().getTime() - gesture.startTime;\n      var axis =\n        Math.abs(deltaCoordinates.x) >= Math.abs(deltaCoordinates.y)\n          ? \"x\"\n          : \"y\";\n      var distance = deltaCoordinates[axis];\n      var direction = clazz.SWIPE_DIRECTION[axis][distance < 0 ? 0 : 1];\n      var velocity = duration !== 0 ? distance / duration : 0;\n\n      var swipe = {\n        startTime: gesture.startTime,\n        duration: duration,\n        axis: axis,\n        direction: direction,\n        distance: distance,\n        velocity: velocity\n      };\n\n      return swipe;\n    },\n\n    /**\n     * Fires a track event.\n     *\n     * @param type {String} the track type\n     * @param domEvent {Event} DOM event\n     * @param target {Element} event target\n     */\n    __fireTrack(type, domEvent, target) {\n      domEvent.delta = this._getDeltaCoordinates(domEvent);\n      this._fireEvent(domEvent, type, domEvent.target || target);\n    },\n\n    /**\n     * Fires a roll event.\n     *\n     * @param domEvent {Event} DOM event\n     * @param target {Element} event target\n     * @param rollFactor {Integer} the roll factor to apply\n     */\n    __fireRollEvent(domEvent, target, rollFactor) {\n      domEvent.delta = {\n        x: qx.util.Wheel.getDelta(domEvent, \"x\") * rollFactor,\n        y: qx.util.Wheel.getDelta(domEvent, \"y\") * rollFactor\n      };\n\n      domEvent.delta.axis =\n        Math.abs(domEvent.delta.x / domEvent.delta.y) < 1 ? \"y\" : \"x\";\n      domEvent.pointerType = \"wheel\";\n      this._fireEvent(domEvent, \"roll\", domEvent.target || target);\n    },\n\n    /**\n     * Triggers the adaptative roll scrolling.\n     *\n     * @param target {Element} event target\n     */\n    __performAdaptativeRollScrolling(target) {\n      var rollFactor = qx.event.handler.GestureCore.ROLL_FACTOR;\n      if (qx.util.Wheel.IS_TOUCHPAD) {\n        // The domEvent was generated by a touchpad\n        rollFactor = qx.event.handler.GestureCore.TOUCHPAD_ROLL_FACTOR;\n      }\n      this.__lastRollEventTime = new Date().getTime();\n      var reLength = this.__rollEvents.length;\n      for (var i = 0; i < reLength; i++) {\n        var domEvent = this.__rollEvents[i];\n        this.__fireRollEvent(domEvent, target, rollFactor);\n      }\n      this.__rollEvents = [];\n    },\n\n    /**\n     * Ends touch pad detection process.\n     */\n    __endTouchPadDetection() {\n      if (\n        this.__rollEvents.length >\n        qx.event.handler.GestureCore.TOUCHPAD_WHEEL_EVENTS_THRESHOLD\n      ) {\n        qx.util.Wheel.IS_TOUCHPAD = true;\n      } else {\n        qx.util.Wheel.IS_TOUCHPAD = false;\n      }\n      if (qx.core.Environment.get(\"qx.debug.touchpad.detection\")) {\n        qx.log.Logger.debug(this, \"IS_TOUCHPAD : \" + qx.util.Wheel.IS_TOUCHPAD);\n      }\n      this.__touchPadDetectionPerformed = true;\n    },\n\n    /**\n     * Is touchpad detection enabled ? Default implementation activates it only for Mac OS after Sierra (>= 10.12).\n     * @return {boolean} true if touchpad detection should occur.\n     * @internal\n     */\n    _isTouchPadDetectionEnabled() {\n      return (\n        qx.core.Environment.get(\"os.name\") == \"osx\" &&\n        qx.core.Environment.get(\"os.version\") >= 10.12\n      );\n    },\n\n    /**\n     * Fires a roll event after determining the roll factor to apply. Mac OS Sierra (10.12+)\n     * introduces a lot more wheel events fired from the trackpad, so the roll factor to be applied\n     * has to be reduced in order to make the scrolling less sensitive.\n     *\n     * @param domEvent {Event} DOM event\n     * @param type {String} The type of the dom event\n     * @param target {Element} event target\n     */\n    _fireRoll(domEvent, type, target) {\n      var now;\n      var detectionTimeout;\n      if (domEvent.type === qx.core.Environment.get(\"event.mousewheel\").type) {\n        if (this._isTouchPadDetectionEnabled()) {\n          now = new Date().getTime();\n          detectionTimeout =\n            qx.event.handler.GestureCore.TOUCHPAD_WHEEL_EVENTS_TIMEOUT;\n          if (\n            this.__lastRollEventTime > 0 &&\n            now - this.__lastRollEventTime > detectionTimeout\n          ) {\n            // The detection timeout was reached. A new detection step should occur.\n            this.__touchPadDetectionPerformed = false;\n            this.__rollEvents = [];\n            this.__lastRollEventTime = 0;\n          }\n          if (!this.__touchPadDetectionPerformed) {\n            // We are into a detection session. We count the events so that we can decide if\n            // they were fired by a real mouse wheel or a touchpad. Just swallow them until the\n            // detection period is over.\n            if (this.__rollEvents.length === 0) {\n              // detection starts\n              this.__rollEventsCountStart = now;\n              qx.event.Timer.once(\n                function () {\n                  if (!this.__touchPadDetectionPerformed) {\n                    // There were not enough events during the TOUCHPAD_WHEEL_EVENTS_PERIOD to actually\n                    // trigger a scrolling. Trigger it manually.\n                    this.__endTouchPadDetection();\n                    this.__performAdaptativeRollScrolling(target);\n                  }\n                },\n                this,\n                qx.event.handler.GestureCore.TOUCHPAD_WHEEL_EVENTS_PERIOD + 50\n              );\n            }\n            this.__rollEvents.push(domEvent);\n            this.__rollEventsCount++;\n            if (\n              now - this.__rollEventsCountStart >\n              qx.event.handler.GestureCore.TOUCHPAD_WHEEL_EVENTS_PERIOD\n            ) {\n              this.__endTouchPadDetection();\n            }\n          }\n          if (this.__touchPadDetectionPerformed) {\n            if (this.__rollEvents.length === 0) {\n              this.__rollEvents.push(domEvent);\n            }\n            // Detection is done. We can now decide the roll factor to apply to the delta.\n            // Default to a real mouse wheel event as opposed to a touchpad one.\n            this.__performAdaptativeRollScrolling(target);\n          }\n        } else {\n          this.__fireRollEvent(\n            domEvent,\n            target,\n            qx.event.handler.GestureCore.ROLL_FACTOR\n          );\n        }\n      } else {\n        var gesture = this.__gesture[domEvent.pointerId];\n        domEvent.delta = {\n          x: -gesture.velocityX,\n          y: -gesture.velocityY,\n          axis: Math.abs(gesture.velocityX / gesture.velocityY) < 1 ? \"y\" : \"x\"\n        };\n\n        this._fireEvent(domEvent, \"roll\", domEvent.target || target);\n      }\n    },\n\n    /**\n     * Fires a rotate event.\n     *\n     * @param domEvent {Event} DOM event\n     * @param target {Element} event target\n     */\n    __fireRotate(domEvent, target) {\n      if (!domEvent.isPrimary) {\n        var angle = this._calcAngle();\n        domEvent.angle = Math.round((angle - this.__initialAngle) % 360);\n        this._fireEvent(domEvent, \"rotate\", this.__primaryTarget);\n      }\n    },\n\n    /**\n     * Fires a pinch event.\n     *\n     * @param domEvent {Event} DOM event\n     * @param target {Element} event target\n     */\n    __firePinch(domEvent, target) {\n      if (!domEvent.isPrimary) {\n        var distance = this._calcDistance();\n        var scale = distance / this.__initialDistance;\n        domEvent.scale = Math.round(scale * 100) / 100;\n        this._fireEvent(domEvent, \"pinch\", this.__primaryTarget);\n      }\n    },\n\n    /**\n     * Fires the long tap event.\n     *\n     * @param domEvent {Event} DOM event\n     * @param target {Element} event target\n     */\n    __fireLongTap(domEvent, target) {\n      var gesture = this.__gesture[domEvent.pointerId];\n      if (gesture) {\n        this._fireEvent(domEvent, \"longtap\", domEvent.target || target);\n        gesture.longTapTimer = null;\n        gesture.isTap = false;\n      }\n    },\n\n    /**\n     * Stops the time for the long tap event.\n     * @param gesture {Map} Data may representing the gesture.\n     */\n    __stopLongTapTimer(gesture) {\n      if (gesture.longTapTimer) {\n        window.clearTimeout(gesture.longTapTimer);\n        gesture.longTapTimer = null;\n      }\n    },\n\n    /**\n     * Dispose the current instance\n     */\n    dispose() {\n      for (var gesture in this.__gesture) {\n        this.__stopLongTapTimer(gesture);\n      }\n\n      this._stopObserver();\n      this.__defaultTarget = this.__emitter = null;\n    }\n  }\n});\n"
  ],
  "mappings": "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"
}