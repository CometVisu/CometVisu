{
  "version": 3,
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "define",
    "extend",
    "Object",
    "implement",
    "core",
    "IDisposable",
    "statics",
    "TAP_MAX_DISTANCE",
    "Environment",
    "get",
    "SWIPE_DIRECTION",
    "x",
    "y",
    "SWIPE_MIN_DISTANCE",
    "SWIPE_MIN_VELOCITY",
    "LONGTAP_TIME",
    "construct",
    "target",
    "emitter",
    "__target",
    "__emitter",
    "_initTouchObserver",
    "__pointers",
    "__touchStartPosition",
    "members",
    "__onTouchEventWrapper",
    "__originalTarget",
    "__startTime",
    "__beginScalingDistance",
    "__beginRotation",
    "__touchEventNames",
    "lang",
    "Function",
    "listener",
    "_onTouchEvent",
    "engineVersion",
    "parseInt",
    "i",
    "length",
    "bom",
    "Event",
    "addNativeListener",
    "_stopTouchObserver",
    "removeNativeListener",
    "domEvent",
    "_commonTouchEventHandler",
    "_getScalingDistance",
    "touch0",
    "touch1",
    "Math",
    "sqrt",
    "pow",
    "pageX",
    "pageY",
    "_getRotationAngle",
    "atan2",
    "PI",
    "_calcTouchesDelta",
    "touches",
    "delta",
    "push",
    "_calcSingleTouchDelta",
    "touch",
    "hasOwnProperty",
    "identifier",
    "touchStartPosition",
    "deltaX",
    "floor",
    "clientX",
    "deltaY",
    "clientY",
    "axis",
    "abs",
    "type",
    "_mapPointerEvent",
    "_detectTouchesByPointer",
    "changedTouches",
    "targetTouches",
    "_getTarget",
    "scale",
    "currentScalingDistance",
    "rotation",
    "currentRotation",
    "_rotation",
    "_fireEvent",
    "pointerId",
    "pointer",
    "toLowerCase",
    "indexOf",
    "getTarget",
    "nodeType",
    "parentNode",
    "targetForIE",
    "__evaluateTarget",
    "__P_224_10",
    "hitTargets",
    "document",
    "msElementsFromPoint",
    "currentTarget",
    "pointerEvents",
    "element",
    "Style",
    "emit",
    "dispose",
    "event",
    "handler",
    "TouchCore"
  ],
  "sources": [
    "/home/runner/work/CometVisu/CometVisu/node_modules/@qooxdoo/framework/source/class/qx/event/handler/TouchCore.js"
  ],
  "sourcesContent": [
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2012 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Martin Wittemann (martinwittemann)\n     * Tino Butz (tbtz)\n     * Christian Hagendorn (chris_schmidt)\n     * Daniel Wagner (danielwagner)\n\n************************************************************************ */\n\n/**\n * Listens for native touch events and fires composite events like \"tap\" and\n * \"swipe\"\n *\n * @ignore(qx.event.*)\n */\nqx.Bootstrap.define(\"qx.event.handler.TouchCore\", {\n  extend: Object,\n  implement: [qx.core.IDisposable],\n\n  statics: {\n    /** @type {Integer} The maximum distance of a tap. Only if the x or y distance of\n     *      the performed tap is less or equal the value of this constant, a tap\n     *      event is fired.\n     */\n    TAP_MAX_DISTANCE: qx.core.Environment.get(\"os.name\") != \"android\" ? 10 : 40,\n\n    /** @type {Map} The direction of a swipe relative to the axis */\n    SWIPE_DIRECTION: {\n      x: [\"left\", \"right\"],\n      y: [\"up\", \"down\"]\n    },\n\n    /** @type {Integer} The minimum distance of a swipe. Only if the x or y distance\n     *      of the performed swipe is greater as or equal the value of this\n     *      constant, a swipe event is fired.\n     */\n    SWIPE_MIN_DISTANCE:\n      qx.core.Environment.get(\"os.name\") != \"android\" ? 11 : 41,\n\n    /** @type {Integer} The minimum velocity of a swipe. Only if the velocity of the\n     *      performed swipe is greater as or equal the value of this constant, a\n     *      swipe event is fired.\n     */\n    SWIPE_MIN_VELOCITY: 0,\n\n    /**\n     * @type {Integer} The time delta in milliseconds to fire a long tap event.\n     */\n    LONGTAP_TIME: qx.core.Environment.get(\"device.touch\") ? 500 : 99999\n  },\n\n  /**\n   * Create a new instance\n   *\n   * @param target {Element} element on which to listen for native touch events\n   * @param emitter {qx.event.Emitter} Event emitter object\n   */\n  construct(target, emitter) {\n    this.__target = target;\n    this.__emitter = emitter;\n    this._initTouchObserver();\n    this.__pointers = [];\n\n    this.__touchStartPosition = {};\n  },\n\n  members: {\n    __target: null,\n    __emitter: null,\n    __onTouchEventWrapper: null,\n\n    __originalTarget: null,\n\n    __touchStartPosition: null,\n    __startTime: null,\n\n    __beginScalingDistance: null,\n    __beginRotation: null,\n\n    __pointers: null,\n\n    __touchEventNames: null,\n\n    /*\n    ---------------------------------------------------------------------------\n      OBSERVER INIT\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Initializes the native touch event listeners.\n     */\n    _initTouchObserver() {\n      this.__onTouchEventWrapper = qx.lang.Function.listener(\n        this._onTouchEvent,\n        this\n      );\n\n      this.__touchEventNames = [\n        \"touchstart\",\n        \"touchmove\",\n        \"touchend\",\n        \"touchcancel\"\n      ];\n\n      if (qx.core.Environment.get(\"event.mspointer\")) {\n        var engineVersion = parseInt(\n          qx.core.Environment.get(\"engine.version\"),\n          10\n        );\n\n        if (engineVersion == 10) {\n          // IE 10\n          this.__touchEventNames = [\n            \"MSPointerDown\",\n            \"MSPointerMove\",\n            \"MSPointerUp\",\n            \"MSPointerCancel\"\n          ];\n        } else {\n          // IE 11+\n          this.__touchEventNames = [\n            \"pointerdown\",\n            \"pointermove\",\n            \"pointerup\",\n            \"pointercancel\"\n          ];\n        }\n      }\n\n      for (var i = 0; i < this.__touchEventNames.length; i++) {\n        qx.bom.Event.addNativeListener(\n          this.__target,\n          this.__touchEventNames[i],\n          this.__onTouchEventWrapper\n        );\n      }\n    },\n\n    /*\n    ---------------------------------------------------------------------------\n      OBSERVER STOP\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Disconnects the native touch event listeners.\n     */\n    _stopTouchObserver() {\n      for (var i = 0; i < this.__touchEventNames.length; i++) {\n        qx.bom.Event.removeNativeListener(\n          this.__target,\n          this.__touchEventNames[i],\n          this.__onTouchEventWrapper\n        );\n      }\n    },\n\n    /*\n    ---------------------------------------------------------------------------\n      NATIVE EVENT OBSERVERS\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Handler for native touch events.\n     *\n     * @param domEvent {Event} The touch event from the browser.\n     */\n    _onTouchEvent(domEvent) {\n      this._commonTouchEventHandler(domEvent);\n    },\n\n    /**\n     * Calculates the scaling distance between two touches.\n     * @param touch0 {Event} The touch event from the browser.\n     * @param touch1 {Event} The touch event from the browser.\n     * @return {Number} the calculated distance.\n     */\n    _getScalingDistance(touch0, touch1) {\n      return Math.sqrt(\n        Math.pow(touch0.pageX - touch1.pageX, 2) +\n          Math.pow(touch0.pageY - touch1.pageY, 2)\n      );\n    },\n\n    /**\n     * Calculates the rotation between two touches.\n     * @param touch0 {Event} The touch event from the browser.\n     * @param touch1 {Event} The touch event from the browser.\n     * @return {Number} the calculated rotation.\n     */\n    _getRotationAngle(touch0, touch1) {\n      var x = touch0.pageX - touch1.pageX;\n      var y = touch0.pageY - touch1.pageY;\n      return (Math.atan2(y, x) * 180) / Math.PI;\n    },\n\n    /**\n     * Calculates the delta of the touch position relative to its position when <code>touchstart/code> event occurred.\n     * @param touches {Array} an array with the current active touches, provided by <code>touchmove/code> event.\n     * @return {Array} an array containing objects with the calculated delta as <code>x</code>,\n     * <code>y</code> and the identifier of the corresponding touch.\n     */\n    _calcTouchesDelta(touches) {\n      var delta = [];\n      for (var i = 0; i < touches.length; i++) {\n        delta.push(this._calcSingleTouchDelta(touches[i]));\n      }\n      return delta;\n    },\n\n    /**\n     * Calculates the delta of one single touch position relative to its position when <code>touchstart/code> event occurred.\n     * @param touch {Event} the current active touch, provided by <code>touchmove/code> event.\n     * @return {Map} a map containing deltaX as <code>x</code>, deltaY as <code>y</code>, the direction of the movement as <code>axis</code> and the touch identifier as <code>identifier</code>.\n     */\n    _calcSingleTouchDelta(touch) {\n      if (this.__touchStartPosition.hasOwnProperty(touch.identifier)) {\n        var touchStartPosition = this.__touchStartPosition[touch.identifier];\n        var deltaX = Math.floor(touch.clientX - touchStartPosition[0]);\n        var deltaY = Math.floor(touch.clientY - touchStartPosition[1]);\n        var axis = \"x\";\n        if (Math.abs(deltaX / deltaY) < 1) {\n          axis = \"y\";\n        }\n        return {\n          x: deltaX,\n          y: deltaY,\n          axis: axis,\n          identifier: touch.identifier\n        };\n      } else {\n        return {\n          x: 0,\n          y: 0,\n          axis: null,\n          identifier: touch.identifier\n        };\n      }\n    },\n\n    /**\n     * Called by an event handler.\n     *\n     * @param domEvent {Event} DOM event\n     * @param type {String ? null} type of the event\n     */\n    _commonTouchEventHandler(domEvent, type) {\n      var type = type || domEvent.type;\n      if (qx.core.Environment.get(\"event.mspointer\")) {\n        type = this._mapPointerEvent(type);\n        var touches = this._detectTouchesByPointer(domEvent, type);\n\n        domEvent.changedTouches = touches;\n        domEvent.targetTouches = touches;\n        domEvent.touches = touches;\n      }\n\n      domEvent.delta = [];\n\n      if (type == \"touchstart\") {\n        this.__originalTarget = this._getTarget(domEvent);\n\n        if (domEvent.touches && domEvent.touches.length > 1) {\n          this.__beginScalingDistance = this._getScalingDistance(\n            domEvent.touches[0],\n            domEvent.touches[1]\n          );\n\n          this.__beginRotation = this._getRotationAngle(\n            domEvent.touches[0],\n            domEvent.touches[1]\n          );\n        }\n\n        for (var i = 0; i < domEvent.changedTouches.length; i++) {\n          var touch = domEvent.changedTouches[i];\n          this.__touchStartPosition[touch.identifier] = [\n            touch.clientX,\n            touch.clientY\n          ];\n        }\n      }\n\n      if (type == \"touchmove\") {\n        // Polyfill for scale\n        if (\n          typeof domEvent.scale == \"undefined\" &&\n          domEvent.targetTouches.length > 1\n        ) {\n          var currentScalingDistance = this._getScalingDistance(\n            domEvent.targetTouches[0],\n            domEvent.targetTouches[1]\n          );\n\n          domEvent.scale = currentScalingDistance / this.__beginScalingDistance;\n        }\n        // Polyfill for rotation\n        if (\n          (typeof domEvent.rotation == \"undefined\" ||\n            qx.core.Environment.get(\"event.mspointer\")) &&\n          domEvent.targetTouches.length > 1\n        ) {\n          var currentRotation = this._getRotationAngle(\n            domEvent.targetTouches[0],\n            domEvent.targetTouches[1]\n          );\n\n          domEvent._rotation = currentRotation - this.__beginRotation;\n        }\n\n        domEvent.delta = this._calcTouchesDelta(domEvent.targetTouches);\n      }\n\n      this._fireEvent(domEvent, type, this.__originalTarget);\n\n      if (qx.core.Environment.get(\"event.mspointer\")) {\n        if (type == \"touchend\" || type == \"touchcancel\") {\n          delete this.__pointers[domEvent.pointerId];\n        }\n      }\n\n      if (\n        (type == \"touchend\" || type == \"touchcancel\") &&\n        domEvent.changedTouches[0]\n      ) {\n        delete this.__touchStartPosition[domEvent.changedTouches[0].identifier];\n      }\n    },\n\n    /**\n     * Creates an array with all current used touches out of multiple serial pointer events.\n     * Needed because pointerEvents do not provide a touch list.\n     * @param domEvent {Event} DOM event\n     * @param type {String ? null} type of the event\n     * @return {Array} touch list array.\n     */\n    _detectTouchesByPointer(domEvent, type) {\n      var touches = [];\n      if (type == \"touchstart\") {\n        this.__pointers[domEvent.pointerId] = domEvent;\n      } else if (type == \"touchmove\") {\n        this.__pointers[domEvent.pointerId] = domEvent;\n      }\n\n      for (var pointerId in this.__pointers) {\n        var pointer = this.__pointers[pointerId];\n        touches.push(pointer);\n      }\n\n      return touches;\n    },\n\n    /**\n     * Maps a pointer event type to the corresponding touch event type.\n     * @param type {String} the event type to parse.\n     * @return {String} the parsed event name.\n     */\n    _mapPointerEvent(type) {\n      type = type.toLowerCase();\n\n      if (type.indexOf(\"pointerdown\") !== -1) {\n        return \"touchstart\";\n      } else if (type.indexOf(\"pointerup\") !== -1) {\n        return \"touchend\";\n      } else if (type.indexOf(\"pointermove\") !== -1) {\n        return \"touchmove\";\n      } else if (type.indexOf(\"pointercancel\") !== -1) {\n        return \"touchcancel\";\n      }\n\n      return type;\n    },\n\n    /**\n     * Return the target of the event.\n     *\n     * @param domEvent {Event} DOM event\n     * @return {Element} Event target\n     */\n    _getTarget(domEvent) {\n      var target = qx.bom.Event.getTarget(domEvent);\n\n      // Text node. Fix Safari Bug, see http://www.quirksmode.org/js/events_properties.html\n      if (qx.core.Environment.get(\"engine.name\") == \"webkit\") {\n        if (target && target.nodeType == 3) {\n          target = target.parentNode;\n        }\n      } else if (\n        qx.core.Environment.get(\"engine.name\") == \"mshtml\" &&\n        qx.core.Environment.get(\"browser.documentmode\") < 11\n      ) {\n        // Fix for IE10 and pointer-events:none\n        //\n        // Changed the condition above to match exactly those browsers\n        // for which the fix was intended\n        // See: https://github.com/qooxdoo/qooxdoo/issues/9481\n        //\n        var targetForIE = this.__evaluateTarget(domEvent);\n        if (targetForIE) {\n          target = targetForIE;\n        }\n      }\n\n      return target;\n    },\n\n    /**\n     * This method fixes \"pointer-events:none\" for Internet Explorer 10.\n     * Checks which elements are placed to position x/y and traverses the array\n     * till one element has no \"pointer-events:none\" inside its style attribute.\n     * @param domEvent {Event} DOM event\n     * @return {Element|null} Event target\n     */\n    __evaluateTarget(domEvent) {\n      var clientX = null;\n      var clientY = null;\n      if (domEvent && domEvent.touches && domEvent.touches.length !== 0) {\n        clientX = domEvent.touches[0].clientX;\n        clientY = domEvent.touches[0].clientY;\n      }\n\n      // Retrieve an array with elements on point X/Y.\n      var hitTargets = document.msElementsFromPoint(clientX, clientY);\n      if (hitTargets) {\n        // Traverse this array for the elements which has no pointer-events:none inside.\n        for (var i = 0; i < hitTargets.length; i++) {\n          var currentTarget = hitTargets[i];\n          var pointerEvents = qx.bom.element.Style.get(\n            currentTarget,\n            \"pointer-events\",\n            3\n          );\n\n          if (pointerEvents != \"none\") {\n            return currentTarget;\n          }\n        }\n      }\n\n      return null;\n    },\n\n    /**\n     * Fire a touch event with the given parameters\n     *\n     * @param domEvent {Event} DOM event\n     * @param type {String ? null} type of the event\n     * @param target {Element ? null} event target\n     */\n    _fireEvent(domEvent, type, target) {\n      if (!target) {\n        target = this._getTarget(domEvent);\n      }\n\n      var type = type || domEvent.type;\n\n      if (target && target.nodeType && this.__emitter) {\n        this.__emitter.emit(type, domEvent);\n      }\n    },\n\n    /**\n     * Dispose this object\n     */\n    dispose() {\n      this._stopTouchObserver();\n      this.__originalTarget =\n        this.__target =\n        this.__touchEventNames =\n        this.__pointers =\n        this.__emitter =\n        this.__beginScalingDistance =\n        this.__beginRotation =\n          null;\n    }\n  }\n});\n"
  ],
  "mappings": "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"
}