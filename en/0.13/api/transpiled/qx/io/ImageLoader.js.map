{
  "version": 3,
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "define",
    "statics",
    "__data",
    "__defaultSize",
    "width",
    "height",
    "__knownImageTypesRegExp",
    "__dataUrlRegExp",
    "isLoaded",
    "source",
    "entry",
    "loaded",
    "isFailed",
    "failed",
    "isLoading",
    "loading",
    "getFormat",
    "format",
    "result",
    "exec",
    "lang",
    "Type",
    "isNumber",
    "getSize",
    "getWidth",
    "getHeight",
    "load",
    "callback",
    "context",
    "window",
    "callbacks",
    "push",
    "call",
    "ResourceManager",
    "util",
    "getInstance",
    "isFontUri",
    "el",
    "document",
    "createElement",
    "charCode",
    "fromFontUriToCharCode",
    "value",
    "String",
    "fromCharCode",
    "element",
    "boundCallback",
    "Function",
    "listener",
    "__onload",
    "onload",
    "onerror",
    "src",
    "abort",
    "aborted",
    "i",
    "l",
    "length",
    "__P_245_4",
    "core",
    "Environment",
    "select",
    "event",
    "GlobalError",
    "observeMethod",
    "__onLoadHandler",
    "apply",
    "arguments",
    "__P_245_5",
    "bom",
    "client",
    "Engine",
    "getName",
    "parseFloat",
    "getVersion",
    "body",
    "appendChild",
    "isImageAvailable",
    "imgElem",
    "type",
    "removeChild",
    "dispose",
    "io",
    "ImageLoader"
  ],
  "sources": [
    "/home/runner/work/CometVisu/CometVisu/node_modules/@qooxdoo/framework/source/class/qx/io/ImageLoader.js"
  ],
  "sourcesContent": [
    "/* ************************************************************************\r\n\r\n   qooxdoo - the new era of web development\r\n\r\n   http://qooxdoo.org\r\n\r\n   Copyright:\r\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\r\n\r\n   License:\r\n     MIT: https://opensource.org/licenses/MIT\r\n     See the LICENSE file in the project's top-level directory for details.\r\n\r\n   Authors:\r\n     * Sebastian Werner (wpbasti)\r\n\r\n************************************************************************ */\r\n\r\n/**\r\n * The ImageLoader can preload and manage loaded image resources. It easily\r\n * handles multiple requests and supports callbacks for successful and failed\r\n * requests.\r\n *\r\n * After loading of an image the dimension of the image is stored as long\r\n * as the application is running. This is quite useful for in-memory layouting.\r\n *\r\n * Use {@link #load} to preload your own images.\r\n */\r\nqx.Bootstrap.define(\"qx.io.ImageLoader\", {\r\n  statics: {\r\n    /** @type {Map} Internal data structure to cache image sizes */\r\n    __data: {},\r\n\r\n    /** @type {Map} Default image size */\r\n    __defaultSize: {\r\n      width: null,\r\n      height: null\r\n    },\r\n\r\n    /** @type {RegExp} Known image types */\r\n    __knownImageTypesRegExp: /\\.(png|gif|jpg|jpeg|bmp)\\b/i,\r\n\r\n    /** @type {RegExp} Image types of a data URL */\r\n    __dataUrlRegExp: /^data:image\\/(png|gif|jpg|jpeg|bmp)\\b/i,\r\n\r\n    /**\r\n     * Whether the given image has previously been loaded using the\r\n     * {@link #load} method.\r\n     *\r\n     * @param source {String} Image source to query\r\n     * @return {Boolean} <code>true</code> when the image is loaded\r\n     */\r\n    isLoaded(source) {\r\n      var entry = this.__data[source];\r\n      return !!(entry && entry.loaded);\r\n    },\r\n\r\n    /**\r\n     * Whether the given image has previously been requested using the\r\n     * {@link #load} method but failed.\r\n     *\r\n     * @param source {String} Image source to query\r\n     * @return {Boolean} <code>true</code> when the image loading failed\r\n     */\r\n    isFailed(source) {\r\n      var entry = this.__data[source];\r\n      return !!(entry && entry.failed);\r\n    },\r\n\r\n    /**\r\n     * Whether the given image is currently loading.\r\n     *\r\n     * @param source {String} Image source to query\r\n     * @return {Boolean} <code>true</code> when the image is loading in the moment.\r\n     */\r\n    isLoading(source) {\r\n      var entry = this.__data[source];\r\n      return !!(entry && entry.loading);\r\n    },\r\n\r\n    /**\r\n     * Returns the format of a previously loaded image\r\n     *\r\n     * @param source {String} Image source to query\r\n     * @return {String ? null} The format of the image or <code>null</code>\r\n     */\r\n    getFormat(source) {\r\n      var entry = this.__data[source];\r\n\r\n      if (!entry || !entry.format) {\r\n        var result = this.__dataUrlRegExp.exec(source);\r\n        if (result != null) {\r\n          // If width and height aren't defined, provide some defaults\r\n          var width =\r\n            entry && qx.lang.Type.isNumber(entry.width)\r\n              ? entry.width\r\n              : this.__defaultSize.width;\r\n\r\n          var height =\r\n            entry && qx.lang.Type.isNumber(entry.height)\r\n              ? entry.height\r\n              : this.__defaultSize.height;\r\n\r\n          entry = {\r\n            loaded: true,\r\n            format: result[1],\r\n            width: width,\r\n            height: height\r\n          };\r\n        }\r\n      }\r\n      return entry ? entry.format : null;\r\n    },\r\n\r\n    /**\r\n     * Returns the size of a previously loaded image\r\n     *\r\n     * @param source {String} Image source to query\r\n     * @return {Map} The dimension of the image (<code>width</code> and\r\n     *    <code>height</code> as key). If the image is not yet loaded, the\r\n     *    dimensions are given as <code>null</code> for width and height.\r\n     */\r\n    getSize(source) {\r\n      var entry = this.__data[source];\r\n      return entry\r\n        ? { width: entry.width, height: entry.height }\r\n        : this.__defaultSize;\r\n    },\r\n\r\n    /**\r\n     * Returns the image width\r\n     *\r\n     * @param source {String} Image source to query\r\n     * @return {Integer} The width or <code>null</code> when the image is not loaded\r\n     */\r\n    getWidth(source) {\r\n      var entry = this.__data[source];\r\n      return entry ? entry.width : null;\r\n    },\r\n\r\n    /**\r\n     * Returns the image height\r\n     *\r\n     * @param source {String} Image source to query\r\n     * @return {Integer} The height or <code>null</code> when the image is not loaded\r\n     */\r\n    getHeight(source) {\r\n      var entry = this.__data[source];\r\n      return entry ? entry.height : null;\r\n    },\r\n\r\n    /**\r\n     * Loads the given image. Supports a callback which is\r\n     * executed when the image is loaded.\r\n     *\r\n     * This method works asynchronous.\r\n     *\r\n     * @param source {String} Image source to load\r\n     * @param callback {Function?} Callback function to execute\r\n     *   The first parameter of the callback is the given source url, the\r\n     *   second parameter is the data entry which contains additional\r\n     *   information about the image.\r\n     * @param context {Object?} Context in which the given callback should be executed\r\n     */\r\n    load(source, callback, context) {\r\n      // Shorthand\r\n      var entry = this.__data[source];\r\n\r\n      if (!entry) {\r\n        entry = this.__data[source] = {};\r\n      }\r\n\r\n      // Normalize context\r\n      if (callback && !context) {\r\n        context = window;\r\n      }\r\n\r\n      // Already known image source\r\n      if (entry.loaded || entry.loading || entry.failed) {\r\n        if (callback) {\r\n          if (entry.loading) {\r\n            entry.callbacks.push(callback, context);\r\n          } else {\r\n            callback.call(context, source, entry);\r\n          }\r\n        }\r\n      } else {\r\n        // Updating entry\r\n        entry.loading = true;\r\n        entry.callbacks = [];\r\n\r\n        if (callback) {\r\n          entry.callbacks.push(callback, context);\r\n        }\r\n\r\n        var ResourceManager = qx.util.ResourceManager.getInstance();\r\n        if (ResourceManager.isFontUri(source)) {\r\n          var el = document.createElement(\"div\");\r\n          var charCode = ResourceManager.fromFontUriToCharCode(source);\r\n          el.value = String.fromCharCode(charCode);\r\n          entry.element = el;\r\n          return;\r\n        }\r\n\r\n        // Create image element\r\n        var el = document.createElement(\"img\");\r\n\r\n        // Create common callback routine\r\n        var boundCallback = qx.lang.Function.listener(\r\n          this.__onload,\r\n          this,\r\n          el,\r\n          source\r\n        );\r\n\r\n        // Assign callback to element\r\n        el.onload = boundCallback;\r\n        el.onerror = boundCallback;\r\n\r\n        // Start loading of image\r\n        el.src = source;\r\n\r\n        // save the element for aborting\r\n        entry.element = el;\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Abort the loading for the given url.\r\n     *\r\n     * @param source {String} URL of the image to abort its loading.\r\n     */\r\n    abort(source) {\r\n      var entry = this.__data[source];\r\n\r\n      if (entry && !entry.loaded) {\r\n        entry.aborted = true;\r\n\r\n        var callbacks = entry.callbacks;\r\n        var element = entry.element;\r\n\r\n        // Cleanup listeners\r\n        element.onload = element.onerror = null;\r\n\r\n        // prevent further loading\r\n        element.src = \"\";\r\n\r\n        // Cleanup entry\r\n        delete entry.callbacks;\r\n        delete entry.element;\r\n        delete entry.loading;\r\n\r\n        for (var i = 0, l = callbacks.length; i < l; i += 2) {\r\n          callbacks[i].call(callbacks[i + 1], source, entry);\r\n        }\r\n      }\r\n\r\n      this.__data[source] = null;\r\n    },\r\n\r\n    /**\r\n     * Calls a method based on qx.globalErrorHandling\r\n     */\r\n    __onload() {\r\n      var callback = qx.core.Environment.select(\"qx.globalErrorHandling\", {\r\n        true: qx.event.GlobalError.observeMethod(this.__onLoadHandler),\r\n        false: this.__onLoadHandler\r\n      });\r\n\r\n      callback.apply(this, arguments);\r\n    },\r\n\r\n    /**\r\n     * Internal event listener for all load/error events.\r\n     *\r\n     * @signature function(event, element, source)\r\n     *\r\n     * @param event {Event} Native event object\r\n     * @param element {Element} DOM element which represents the image\r\n     * @param source {String} The image source loaded\r\n     */\r\n    __onLoadHandler(event, element, source) {\r\n      // Shorthand\r\n      var entry = this.__data[source];\r\n\r\n      // [BUG #9149]: When loading a SVG IE11 won't have\r\n      // the width/height of the element set, unless\r\n      // it is inserted into the DOM.\r\n      if (\r\n        qx.bom.client.Engine.getName() == \"mshtml\" &&\r\n        parseFloat(qx.bom.client.Engine.getVersion()) === 11\r\n      ) {\r\n        document.body.appendChild(element);\r\n      }\r\n\r\n      var isImageAvailable = function (imgElem) {\r\n        return imgElem && imgElem.height !== 0;\r\n      };\r\n\r\n      // [BUG #7497]: IE11 doesn't properly emit an error event\r\n      // when loading fails so augment success check\r\n      if (event.type === \"load\" && isImageAvailable(element)) {\r\n        // Store dimensions\r\n        entry.loaded = true;\r\n        entry.width = element.width;\r\n        entry.height = element.height;\r\n\r\n        // try to determine the image format\r\n        var result = this.__knownImageTypesRegExp.exec(source);\r\n        if (result != null) {\r\n          entry.format = result[1];\r\n        }\r\n      } else {\r\n        entry.failed = true;\r\n      }\r\n\r\n      if (\r\n        qx.bom.client.Engine.getName() == \"mshtml\" &&\r\n        parseFloat(qx.bom.client.Engine.getVersion()) === 11\r\n      ) {\r\n        document.body.removeChild(element);\r\n      }\r\n\r\n      // Cleanup listeners\r\n      element.onload = element.onerror = null;\r\n\r\n      // Cache callbacks\r\n      var callbacks = entry.callbacks;\r\n\r\n      // Cleanup entry\r\n      delete entry.loading;\r\n      delete entry.callbacks;\r\n      delete entry.element;\r\n\r\n      // Execute callbacks\r\n      for (var i = 0, l = callbacks.length; i < l; i += 2) {\r\n        callbacks[i].call(callbacks[i + 1], source, entry);\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Dispose stored images.\r\n     */\r\n    dispose() {\r\n      this.__data = {};\r\n    }\r\n  }\r\n});\r\n"
  ],
  "mappings": "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"
}