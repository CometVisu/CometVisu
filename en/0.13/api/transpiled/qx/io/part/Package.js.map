{
  "version": 3,
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "define",
    "construct",
    "urls",
    "id",
    "loaded",
    "__readyState",
    "__urls",
    "__id",
    "members",
    "__closure",
    "__loadWithClosure",
    "__timeoutId",
    "__notifyPackageResult",
    "getId",
    "getReadyState",
    "getUrls",
    "saveClosure",
    "closure",
    "execute",
    "clearTimeout",
    "$$packageData",
    "__importPackageData",
    "loadClosure",
    "notifyPackageResult",
    "self",
    "bind",
    "__loadScriptList",
    "call",
    "pkg",
    "setTimeout",
    "Part",
    "TIMEOUT",
    "load",
    "__P_257_8",
    "urlList",
    "callback",
    "errBack",
    "length",
    "urlsLoaded",
    "loadScripts",
    "loader",
    "bom",
    "request",
    "Script",
    "open",
    "shift",
    "onload",
    "dispose",
    "client",
    "Engine",
    "getName",
    "onerror",
    "window",
    "send",
    "concat",
    "$$loader",
    "importPackageData",
    "io",
    "part",
    "Package"
  ],
  "sources": [
    "/home/runner/work/CometVisu/CometVisu/node_modules/@qooxdoo/framework/source/class/qx/io/part/Package.js"
  ],
  "sourcesContent": [
    "/* ************************************************************************\r\n\r\n   qooxdoo - the new era of web development\r\n\r\n   http://qooxdoo.org\r\n\r\n   Copyright:\r\n     2004-2009 1&1 Internet AG, Germany, http://www.1und1.de\r\n\r\n   License:\r\n     MIT: https://opensource.org/licenses/MIT\r\n     See the LICENSE file in the project's top-level directory for details.\r\n\r\n   Authors:\r\n     * Fabian Jakobs (fjakobs)\r\n     * Martin Wittemann (martinwittemann)\r\n\r\n************************************************************************ */\r\n\r\n/**\r\n * The Package wraps a list of related script URLs, which are required by one\r\n * or more parts.\r\n *\r\n * @internal\r\n * @ignore(qx.util.ResourceManager)\r\n */\r\nqx.Bootstrap.define(\"qx.io.part.Package\", {\r\n  /**\r\n   * @param urls {String[]} A list of script URLs\r\n   * @param id {var} Unique package hash key\r\n   * @param loaded {Boolean?false} Whether the package is already loaded\r\n   */\r\n  construct(urls, id, loaded) {\r\n    this.__readyState = loaded ? \"complete\" : \"initialized\";\r\n    this.__urls = urls;\r\n    this.__id = id;\r\n  },\r\n\r\n  members: {\r\n    __readyState: null,\r\n    __urls: null,\r\n    __id: null,\r\n    __closure: null,\r\n    __loadWithClosure: null,\r\n    __timeoutId: null,\r\n    __notifyPackageResult: null,\r\n\r\n    /**\r\n     * Get the package ID.\r\n     *\r\n     * @return {String} The package id\r\n     */\r\n    getId() {\r\n      return this.__id;\r\n    },\r\n\r\n    /**\r\n     * Get the ready state of the package. The value is one of\r\n     * <ul>\r\n     * <li>\r\n     *   <b>initialized</b>: The package is initialized. The {@link #load}\r\n     *   method has not yet been called\r\n     * </li>\r\n     * <li><b>loading</b>: The package is still loading.</li>\r\n     * <li><b>complete</b>: The package has been loaded successfully</li>\r\n     * <li><b>cached</b>: The package is loaded but is not executed\r\n     *   (for closure parts)</li>\r\n     * </li>\r\n     *\r\n     * @return {String} The ready state.\r\n     */\r\n    getReadyState() {\r\n      return this.__readyState;\r\n    },\r\n\r\n    /**\r\n     * Returns the urlsstored stored in the package.\r\n     *\r\n     * @internal\r\n     * @return {String[]} An array of urls of this package.\r\n     */\r\n    getUrls() {\r\n      return this.__urls;\r\n    },\r\n\r\n    /**\r\n     * Method for storing the closure for this package. This is only relevant\r\n     * if a {@link qx.io.part.ClosurePart} is used.\r\n     *\r\n     * @param closure {Function} The code of this package wrapped in a closure.\r\n     */\r\n    saveClosure(closure) {\r\n      if (this.__readyState == \"error\") {\r\n        return;\r\n      }\r\n\r\n      this.__closure = closure;\r\n\r\n      if (!this.__loadWithClosure) {\r\n        this.execute();\r\n      } else {\r\n        clearTimeout(this.__timeoutId);\r\n        this.__readyState = \"cached\";\r\n        this.__notifyPackageResult(this);\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Executes the stored closure. This is only relevant if a\r\n     * {@link qx.io.part.ClosurePart} is used.\r\n     */\r\n    execute() {\r\n      if (this.__closure) {\r\n        this.__closure();\r\n        delete this.__closure;\r\n      }\r\n\r\n      if (qx.$$packageData[this.__id]) {\r\n        this.__importPackageData(qx.$$packageData[this.__id]);\r\n        delete qx.$$packageData[this.__id];\r\n      }\r\n      this.__readyState = \"complete\";\r\n    },\r\n\r\n    /**\r\n     * Load method if the package loads a closure. This is only relevant if a\r\n     * {@link qx.io.part.ClosurePart} is used.\r\n     *\r\n     * @param notifyPackageResult {Function} The callback if all scripts are\r\n     *   done loading in this package.\r\n     * @param self {Object?} The context of the callback.\r\n     */\r\n    loadClosure(notifyPackageResult, self) {\r\n      if (this.__readyState !== \"initialized\") {\r\n        return;\r\n      }\r\n\r\n      this.__loadWithClosure = true;\r\n\r\n      this.__readyState = \"loading\";\r\n\r\n      this.__notifyPackageResult = qx.Bootstrap.bind(notifyPackageResult, self);\r\n\r\n      this.__loadScriptList(\r\n        this.__urls,\r\n        function () {},\r\n        function () {\r\n          this.__readyState = \"error\";\r\n          notifyPackageResult.call(self, this);\r\n        },\r\n        this\r\n      );\r\n\r\n      var pkg = this;\r\n      this.__timeoutId = setTimeout(function () {\r\n        pkg.__readyState = \"error\";\r\n        notifyPackageResult.call(self, pkg);\r\n      }, qx.Part.TIMEOUT);\r\n    },\r\n\r\n    /**\r\n     * Load the part's script URLs in the correct order.\r\n     *\r\n     * @param notifyPackageResult {Function} The callback if all scripts are\r\n     *   done loading in this package.\r\n     * @param self {Object?} The context of the callback.\r\n     */\r\n    load(notifyPackageResult, self) {\r\n      if (this.__readyState !== \"initialized\") {\r\n        return;\r\n      }\r\n\r\n      this.__loadWithClosure = false;\r\n\r\n      this.__readyState = \"loading\";\r\n\r\n      this.__loadScriptList(\r\n        this.__urls,\r\n        function () {\r\n          this.__readyState = \"complete\";\r\n          this.execute();\r\n          notifyPackageResult.call(self, this);\r\n        },\r\n        function () {\r\n          this.__readyState = \"error\";\r\n          notifyPackageResult.call(self, this);\r\n        },\r\n        this\r\n      );\r\n    },\r\n\r\n    /**\r\n     * Loads a list of scripts in the correct order.\r\n     *\r\n     * @param urlList {String[]} List of script urls\r\n     * @param callback {Function} Function to execute on completion\r\n     * @param errBack {Function} Function to execute on error\r\n     * @param self {Object?window} Context to execute the given function in\r\n     */\r\n    __loadScriptList(urlList, callback, errBack, self) {\r\n      if (urlList.length == 0) {\r\n        callback.call(self);\r\n        return;\r\n      }\r\n\r\n      var urlsLoaded = 0;\r\n      var self = this;\r\n      var loadScripts = function (urls) {\r\n        if (urlsLoaded >= urlList.length) {\r\n          callback.call(self);\r\n          return;\r\n        }\r\n\r\n        var loader = new qx.bom.request.Script();\r\n        loader.open(\"GET\", urls.shift());\r\n\r\n        loader.onload = function () {\r\n          urlsLoaded += 1;\r\n          loader.dispose();\r\n\r\n          // Important to use engine detection directly to keep the minimal\r\n          // package size small [BUG #5068]\r\n          if (qx.bom.client.Engine.getName() == \"webkit\") {\r\n            // force asynchronous load\r\n            // Safari fails with an \"maximum recursion depth exceeded\" error if it is\r\n            // called sync.\r\n            setTimeout(function () {\r\n              loadScripts.call(self, urls, callback, self);\r\n            }, 0);\r\n          } else {\r\n            loadScripts.call(self, urls, callback, self);\r\n          }\r\n        };\r\n\r\n        loader.onerror = function () {\r\n          if (self.__readyState == \"loading\") {\r\n            clearTimeout(self.__timeoutId);\r\n            loader.dispose();\r\n            return errBack.call(self);\r\n          }\r\n        };\r\n\r\n        // Force loading script asynchronously (IE may load synchronously)\r\n        window.setTimeout(function () {\r\n          loader.send();\r\n        });\r\n      };\r\n\r\n      loadScripts(urlList.concat());\r\n    },\r\n\r\n    /**\r\n     * Import the data of a package. The function is defined in the loader\r\n     * script.\r\n     *\r\n     * @signature function(packageData)\r\n     * @param packageData {Map} Map of package data categories (\"resources\",...)\r\n     */\r\n    __importPackageData: qx.$$loader.importPackageData\r\n  }\r\n});\r\n"
  ],
  "mappings": "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"
}