{
  "version": 3,
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "extend",
    "io",
    "graphql",
    "protocol",
    "Message",
    "properties",
    "operationName",
    "check",
    "nullable",
    "event",
    "query",
    "init",
    "variables",
    "transform",
    "validate",
    "members",
    "toString",
    "lang",
    "Json",
    "stringify",
    "toObject",
    "_jsonReplacer",
    "key",
    "value",
    "undefined",
    "_transformVariables",
    "val",
    "model",
    "includes",
    "data",
    "marshal",
    "createModel",
    "_validateVariables",
    "Type",
    "isObject",
    "core",
    "ValidationError",
    "Request"
  ],
  "sources": [
    "/home/runner/work/CometVisu/CometVisu/node_modules/@qooxdoo/framework/source/class/qx/io/graphql/protocol/Request.js"
  ],
  "sourcesContent": [
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n      2020 Christian Boulanger\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Christian Boulanger (cboulanger)\n\n************************************************************************ */\n\n/**\n * An Object modelling a GraphQL request based on the GraphQL language\n * (see http://spec.graphql.org/draft/#sec-Language) usually sent as JSON via\n * a HTTP request (https://graphql.org/learn/serving-over-http)\n * @experimental The API might change. Feedback is appreciated.\n */\nqx.Class.define(\"qx.io.graphql.protocol.Request\", {\n  extend: qx.io.graphql.protocol.Message,\n  properties: {\n    /**\n     * An optional field that only needs to be provided if multiple operations are present in the query\n     */\n    operationName: {\n      check: \"String\",\n      nullable: true,\n      event: \"changeOperationName\"\n    },\n\n    /**\n     * The query as a string which will be parsed and executed on the server\n     */\n    query: {\n      check: \"String\",\n      nullable: false,\n      init: \"\",\n      event: \"changeQuery\"\n    },\n\n    /**\n     * A qooxdoo object that maps variable names to variable values\n     */\n    variables: {\n      check: \"qx.core.Object\",\n      nullable: true,\n      event: \"changeVariables\",\n      transform: \"_transformVariables\",\n      validate: \"_validateVariables\"\n    }\n  },\n\n  members: {\n    // overriden\n    toString() {\n      return qx.lang.Json.stringify(this.toObject(), this._jsonReplacer);\n    },\n\n    _jsonReplacer(key, value) {\n      if (key === \"variables\" || key === \"operationName\") {\n        return value !== null ? value : undefined;\n      }\n      // everything else is returned as it is\n      return value;\n    },\n\n    /**\n     * Transforms the variables object to a qooxdoo model. Called automaticaly\n     * when the variables property is set.\n     */\n    _transformVariables(val) {\n      let model = null;\n      if (![null, undefined].includes(val)) {\n        model = qx.data.marshal.Json.createModel(val);\n      }\n      return model;\n    },\n\n    _validateVariables(val) {\n      if (!qx.lang.Type.isObject(val) && val !== null) {\n        throw new qx.core.ValidationError(\n          \"Validation Error: \" + val + \" is not an object or null.\"\n        );\n      }\n    }\n  }\n});\n"
  ],
  "mappings": ";;;;;;;;;;;;;;;;;EAAAA,EAAE,CAACC,SAAS,CAACC,oBAAoB,CAACC,aAAa,CAAC;EAAhD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;EAEA;AACA;AACA;AACA;AACA;AACA;EACAH,EAAE,CAACI,KAAK,CAACC,MAAM,CAAC,gCAAgC,EAAE;IAChDC,MAAM,EAAEN,EAAE,CAACO,EAAE,CAACC,OAAO,CAACC,QAAQ,CAACC,OAAO;IACtCC,UAAU,EAAE;MACV;AACJ;AACA;MACIC,aAAa,EAAE;QACbC,KAAK,EAAE,QAAQ;QACfC,QAAQ,EAAE,IAAI;QACdC,KAAK,EAAE;MACT,CAAC;MAED;AACJ;AACA;MACIC,KAAK,EAAE;QACLH,KAAK,EAAE,QAAQ;QACfC,QAAQ,EAAE,KAAK;QACfG,IAAI,EAAE,EAAE;QACRF,KAAK,EAAE;MACT,CAAC;MAED;AACJ;AACA;MACIG,SAAS,EAAE;QACTL,KAAK,EAAE,gBAAgB;QACvBC,QAAQ,EAAE,IAAI;QACdC,KAAK,EAAE,iBAAiB;QACxBI,SAAS,EAAE,qBAAqB;QAChCC,QAAQ,EAAE;MACZ;IACF,CAAC;IAEDC,OAAO,EAAE;MACP;MACAC,QAAQ,WAAAA,SAAA,EAAG;QACT,OAAOtB,EAAE,CAACuB,IAAI,CAACC,IAAI,CAACC,SAAS,CAAC,IAAI,CAACC,QAAQ,EAAE,EAAE,IAAI,CAACC,aAAa,CAAC;MACpE,CAAC;MAEDA,aAAa,WAAAA,cAACC,GAAG,EAAEC,KAAK,EAAE;QACxB,IAAID,GAAG,KAAK,WAAW,IAAIA,GAAG,KAAK,eAAe,EAAE;UAClD,OAAOC,KAAK,KAAK,IAAI,GAAGA,KAAK,GAAGC,SAAS;QAC3C;QACA;QACA,OAAOD,KAAK;MACd,CAAC;MAED;AACJ;AACA;AACA;MACIE,mBAAmB,WAAAA,oBAACC,GAAG,EAAE;QACvB,IAAIC,KAAK,GAAG,IAAI;QAChB,IAAI,CAAC,CAAC,IAAI,EAAEH,SAAS,CAAC,CAACI,QAAQ,CAACF,GAAG,CAAC,EAAE;UACpCC,KAAK,GAAGjC,EAAE,CAACmC,IAAI,CAACC,OAAO,CAACZ,IAAI,CAACa,WAAW,CAACL,GAAG,CAAC;QAC/C;QACA,OAAOC,KAAK;MACd,CAAC;MAEDK,kBAAkB,WAAAA,mBAACN,GAAG,EAAE;QACtB,IAAI,CAAChC,EAAE,CAACuB,IAAI,CAACgB,IAAI,CAACC,QAAQ,CAACR,GAAG,CAAC,IAAIA,GAAG,KAAK,IAAI,EAAE;UAC/C,MAAM,IAAIhC,EAAE,CAACyC,IAAI,CAACC,eAAe,CAC/B,oBAAoB,GAAGV,GAAG,GAAG,4BAA4B,CAC1D;QACH;MACF;IACF;EACF,CAAC,CAAC;EA5FFhC,EAAE,CAACO,EAAE,CAACC,OAAO,CAACC,QAAQ,CAACkC,OAAO,CAACxC,aAAa,GAAGA,aAAa;AAAC"
}