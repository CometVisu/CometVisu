{
  "version": 3,
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "extend",
    "core",
    "Object",
    "type",
    "statics",
    "registerTransport",
    "uriRegExp",
    "transportClass",
    "constructor",
    "__transports",
    "lang",
    "Type",
    "isRegExp",
    "Error",
    "Interface",
    "classImplements",
    "io",
    "transport",
    "ITransport",
    "push",
    "properties",
    "check",
    "members",
    "selectTransport",
    "transportOrUri",
    "uri",
    "isString",
    "_iterator",
    "_createForOfIteratorHelper",
    "reverse",
    "_step",
    "s",
    "n",
    "done",
    "registeredTransport",
    "value",
    "match",
    "err",
    "e",
    "f",
    "exception",
    "Transport",
    "concat",
    "INVALID_URI",
    "setTransport",
    "AbstractClient"
  ],
  "sources": [
    "/home/runner/work/CometVisu/CometVisu/node_modules/@qooxdoo/framework/source/class/qx/io/transport/AbstractClient.js"
  ],
  "sourcesContent": [
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n      2020 Christian Boulanger\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Christian Boulanger (cboulanger)\n\n************************************************************************ */\n\n/**\n * This class provides a the base class for all clients that use the\n * transport implementations in this namespace. Since the static method\n * `registerTransport` cannot be inherited by subclasses, they mus proxy it\n * by adding `registerTransport : qx.io.transport.AbstractClient.registerTransport`\n * to their `statics` section.\n *\n */\nqx.Class.define(\"qx.io.transport.AbstractClient\", {\n  extend: qx.core.Object,\n  type: \"abstract\",\n\n  statics: {\n    /**\n     * Register a transport class for use with uris that match the given\n     * regular expression. The client will use the transport which first\n     * matches, starting with the last added transport\n     * @param {RegExp} uriRegExp\n     *    A regular expression which the URI must match\n     * @param {qx.io.transport.ITransport}  transportClass\n     *    The qooxdoo class implementing the transport\n     */\n    registerTransport(uriRegExp, transportClass) {\n      if (!this.constructor.__transports) {\n        this.constructor.__transports = [];\n      }\n      if (!qx.lang.Type.isRegExp(uriRegExp)) {\n        throw new Error(\"First argument must be a regular expression!\");\n      }\n      if (\n        !qx.Interface.classImplements(\n          transportClass,\n          qx.io.transport.ITransport\n        )\n      ) {\n        throw new Error(\n          \"Transport class must implement qx.io.transport.ITransport\"\n        );\n      }\n      this.constructor.__transports.push({\n        uriRegExp,\n        transport: transportClass\n      });\n    }\n  },\n\n  properties: {\n    /**\n     * The transport object\n     */\n    transport: {\n      check: \"qx.io.transport.ITransport\"\n    }\n  },\n\n  members: {\n    /**\n     * Given a transport object implementing {@link qx.io.transport.ITransport}\n     * select that transport; if a string URI is passed, select one that has\n     * been registered for that class of URIs.\n     * @param {qx.io.transport.ITransport|String} transportOrUri\n     * @throws qx.io.exception.Transport\n     */\n    selectTransport(transportOrUri) {\n      let transport;\n      let uri;\n      if (qx.lang.Type.isString(transportOrUri)) {\n        if (!this.constructor.__transports) {\n          throw new Error(\n            \"No transport has been registered. Put @use(qx.io.transport.X) in the doc block of your class, X being the transport class of your choice (such as qx.io.transport.Xhr for http transport).\"\n          );\n        }\n        uri = transportOrUri;\n        for (let registeredTransport of this.constructor.__transports.reverse()) {\n          if (uri.match(registeredTransport.uriRegExp)) {\n            // eslint-disable-next-line new-cap\n            transport = new registeredTransport.transport(uri);\n          }\n        }\n        if (!transport) {\n          throw new qx.io.exception.Transport(\n            `No matching transport for URI '${transportOrUri}'`,\n            qx.io.exception.Transport.INVALID_URI\n          );\n        }\n      } else {\n        if (\n          !(transportOrUri instanceof qx.core.Object) ||\n          !qx.Interface.classImplements(\n            transportOrUri.constructor,\n            qx.io.transport.ITransport\n          )\n        ) {\n          throw new Error(\n            \"Argument must be an qooxdoo object implementing qx.io.transport.ITransport\"\n          );\n        }\n        transport = transportOrUri;\n      }\n      this.setTransport(transport);\n    }\n  }\n});\n"
  ],
  "mappings": "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"
}