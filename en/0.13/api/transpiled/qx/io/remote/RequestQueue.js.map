{
  "version": 3,
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "type",
    "extend",
    "core",
    "Object",
    "implement",
    "IDisposable",
    "construct",
    "constructor",
    "call",
    "__queue",
    "__active",
    "__totalRequests",
    "__timer",
    "event",
    "Timer",
    "addListener",
    "_oninterval",
    "properties",
    "enabled",
    "init",
    "check",
    "apply",
    "maxTotalRequests",
    "nullable",
    "maxConcurrentRequests",
    "Environment",
    "get",
    "defaultTimeout",
    "members",
    "getRequestQueue",
    "getActiveQueue",
    "_debug",
    "_check",
    "length",
    "stop",
    "getEnabled",
    "isAsynchronous",
    "getMaxConcurrentRequests",
    "getMaxTotalRequests",
    "vRequest",
    "shift",
    "vTransport",
    "io",
    "remote",
    "Exchange",
    "push",
    "_onsending",
    "_onreceiving",
    "_oncompleted",
    "_start",
    "Date",
    "valueOf",
    "send",
    "_remove",
    "lang",
    "Array",
    "remove",
    "dispose",
    "__activeCount",
    "e",
    "getTarget",
    "getRequest",
    "request",
    "requestHandler",
    "getType",
    "ex",
    "error",
    "Registration",
    "createEvent",
    "Event",
    "ex1",
    "vActive",
    "vCurrent",
    "vDefaultTimeout",
    "getDefaultTimeout",
    "vTimeout",
    "vTime",
    "i",
    "getTimeout",
    "warn",
    "toHashCode",
    "timeout",
    "_applyEnabled",
    "value",
    "old",
    "setEnabled",
    "add",
    "setState",
    "unshift",
    "start",
    "abort",
    "getTransport",
    "includes",
    "destruct",
    "_disposeArray",
    "_disposeObjects",
    "RequestQueue"
  ],
  "sources": [
    "/home/runner/work/CometVisu/CometVisu/qx_packages/qooxdoo_deprecated_qx_io_remote_v1_0_2/source/class/qx/io/remote/RequestQueue.js"
  ],
  "sourcesContent": [
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n     2006 Derrell Lipman\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Sebastian Werner (wpbasti)\n     * Andreas Ecker (ecker)\n     * Derrell Lipman (derrell)\n\n************************************************************************ */\n\n/**\n * Handles scheduling of requests to be sent to a server.\n *\n * This class is a singleton and is used by qx.io.remote.Request to schedule its\n * requests. It should not be used directly.\n *\n * NOTE: Instances of this class must be disposed of after use\n *\n * @internal\n * @require(qx.bom.client.Transport)\n */\nqx.Class.define(\"qx.io.remote.RequestQueue\", {\n  type: \"singleton\",\n  extend: qx.core.Object,\n  implement: [qx.core.IDisposable],\n\n  /*\n  *****************************************************************************\n     CONSTRUCTOR\n  *****************************************************************************\n  */\n\n  construct() {\n    super();\n\n    this.__queue = [];\n    this.__active = [];\n\n    this.__totalRequests = 0;\n\n    // timeout handling\n    this.__timer = new qx.event.Timer(500);\n    this.__timer.addListener(\"interval\", this._oninterval, this);\n  },\n\n  /*\n  *****************************************************************************\n     PROPERTIES\n  *****************************************************************************\n  */\n\n  properties: {\n    /**\n     * Indicates whether queue is enabled or not.\n     */\n    enabled: {\n      init: true,\n      check: \"Boolean\",\n      apply: \"_applyEnabled\",\n    },\n\n    /**\n     * The maximum number of total requests.\n     */\n    maxTotalRequests: {\n      check: \"Integer\",\n      nullable: true,\n    },\n\n    /**\n     * Maximum number of parallel requests.\n     */\n    maxConcurrentRequests: {\n      check: \"Integer\",\n      init: qx.core.Environment.get(\"io.maxrequests\"),\n    },\n\n    /**\n     * Default timeout for remote requests in milliseconds.\n     */\n    defaultTimeout: {\n      check: \"Integer\",\n      init: 5000,\n    },\n  },\n\n  /*\n  *****************************************************************************\n     MEMBERS\n  *****************************************************************************\n  */\n\n  members: {\n    __queue: null,\n    __active: null,\n    __totalRequests: null,\n    __timer: null,\n\n    /*\n    ---------------------------------------------------------------------------\n      QUEUE HANDLING\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Get a list of queued requests\n     *\n     * @return {qx.io.remote.Request[]} The list of queued requests\n     */\n    getRequestQueue() {\n      return this.__queue;\n    },\n\n    /**\n     * Get a list of active queued requests, each one wrapped in an instance of\n     * {@link qx.io.remote.Exchange}\n     *\n     * @return {qx.io.remote.Exchange[]} The list of active queued requests, each one\n     *   wrapped in an instance of {@link qx.io.remote.Exchange}\n     */\n    getActiveQueue() {\n      return this.__active;\n    },\n\n    /**\n     * Generates debug output\n     */\n    _debug() {\n      if (qx.core.Environment.get(\"qx.debug\")) {\n        if (qx.core.Environment.get(\"qx.debug.io.remote\")) {\n          // Debug output\n          var vText =\n            this.__active.length +\n            \"/\" +\n            (this.__queue.length + this.__active.length);\n\n          this.debug(\"Progress: \" + vText);\n          window.status = \"Request-Queue Progress: \" + vText;\n        }\n      }\n    },\n\n    /**\n     * Checks the queue if any request is left to send and uses the transport\n     * layer to send the open requests.\n     * This method calls itself until every request in the queue is send.\n     *\n     */\n    _check() {\n      // Debug output\n      this._debug();\n\n      // Check queues and stop timer if not needed anymore\n      if (this.__active.length == 0 && this.__queue.length == 0) {\n        this.__timer.stop();\n      }\n\n      // Checking if enabled\n      if (!this.getEnabled()) {\n        return;\n      }\n\n      // Checking active queue fill\n      if (\n        this.__queue.length == 0 ||\n        (this.__queue[0].isAsynchronous() &&\n          this.__active.length >= this.getMaxConcurrentRequests())\n      ) {\n        return;\n      }\n\n      // Checking number of total requests\n      if (\n        this.getMaxTotalRequests() != null &&\n        this.__totalRequests >= this.getMaxTotalRequests()\n      ) {\n        return;\n      }\n\n      var vRequest = this.__queue.shift();\n      var vTransport = new qx.io.remote.Exchange(vRequest);\n\n      // Increment counter\n      this.__totalRequests++;\n\n      // Add to active queue\n      this.__active.push(vTransport);\n\n      // Debug output\n      this._debug();\n\n      // Establish event connection between qx.io.remote.Exchange and me.\n      vTransport.addListener(\"sending\", this._onsending, this);\n      vTransport.addListener(\"receiving\", this._onreceiving, this);\n      vTransport.addListener(\"completed\", this._oncompleted, this);\n      vTransport.addListener(\"aborted\", this._oncompleted, this);\n      vTransport.addListener(\"timeout\", this._oncompleted, this);\n      vTransport.addListener(\"failed\", this._oncompleted, this);\n\n      // Store send timestamp\n      vTransport._start = new Date().valueOf();\n\n      // Send\n      vTransport.send();\n\n      // Retry\n      if (this.__queue.length > 0) {\n        this._check();\n      }\n    },\n\n    /**\n     * Removes a transport object from the active queue and disposes the\n     * transport object in order stop the request.\n     *\n     * @param vTransport {qx.io.remote.Exchange} Transport object\n     */\n    _remove(vTransport) {\n      // Remove from active transports\n      qx.lang.Array.remove(this.__active, vTransport);\n\n      // Dispose transport object\n      vTransport.dispose();\n\n      // Check again\n      this._check();\n    },\n\n    /*\n    ---------------------------------------------------------------------------\n      EVENT HANDLING\n    ---------------------------------------------------------------------------\n    */\n\n    __activeCount: 0,\n\n    /**\n     * Listens for the \"sending\" event of the transport object and increases\n     * the counter for active requests.\n     *\n     * @param e {qx.event.type.Event} event object\n     */\n    _onsending(e) {\n      if (qx.core.Environment.get(\"qx.debug\")) {\n        if (qx.core.Environment.get(\"qx.debug.io.remote\")) {\n          this.__activeCount++;\n          e.getTarget()._counted = true;\n\n          this.debug(\"ActiveCount: \" + this.__activeCount);\n        }\n      }\n\n      e.getTarget().getRequest()._onsending(e);\n    },\n\n    /**\n     * Listens for the \"receiving\" event of the transport object and delegate\n     * the event to the current request object.\n     *\n     * @param e {qx.event.type.Event} event object\n     */\n    _onreceiving(e) {\n      e.getTarget().getRequest()._onreceiving(e);\n    },\n\n    /**\n     * Listens for the \"completed\" event of the transport object and decreases\n     * the counter for active requests.\n     *\n     * @param e {qx.event.type.Event} event object\n     */\n    _oncompleted(e) {\n      if (qx.core.Environment.get(\"qx.debug\")) {\n        if (qx.core.Environment.get(\"qx.debug.io.remote\")) {\n          if (e.getTarget()._counted) {\n            this.__activeCount--;\n            this.debug(\"ActiveCount: \" + this.__activeCount);\n          }\n        }\n      }\n\n      // delegate the event to the handler method of the request depending\n      // on the current type of the event ( completed|aborted|timeout|failed )\n      var request = e.getTarget().getRequest();\n      var requestHandler = \"_on\" + e.getType();\n\n      // remove the request from the queue,\n      // keep local reference, see [BUG #4422]\n      this._remove(e.getTarget());\n\n      // It's possible that the request handler can fail, possibly due to\n      // being sent garbage data. We want to prevent that from crashing\n      // the program, but instead display an error.\n      try {\n        if (request[requestHandler]) {\n          request[requestHandler](e);\n        }\n      } catch (ex) {\n        this.error(\n          \"Request \" +\n            request +\n            \" handler \" +\n            requestHandler +\n            \" threw an error: \",\n          ex\n        );\n\n        // Issue an \"aborted\" event so the application gets notified.\n        // If that too fails, or if there's no \"aborted\" handler, ignore it.\n        try {\n          if (request[\"_onaborted\"]) {\n            var event = qx.event.Registration.createEvent(\n              \"aborted\",\n              qx.event.type.Event\n            );\n            request[\"_onaborted\"](event);\n          }\n        } catch (ex1) {}\n      }\n    },\n\n    /*\n    ---------------------------------------------------------------------------\n      TIMEOUT HANDLING\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Listens for the \"interval\" event of the transport object and checks\n     * if the active requests are timed out.\n     *\n     * @param e {qx.event.type.Event} event object\n     */\n    _oninterval(e) {\n      var vActive = this.__active;\n\n      if (vActive.length == 0) {\n        this.__timer.stop();\n        return;\n      }\n\n      var vCurrent = new Date().valueOf();\n      var vTransport;\n      var vRequest;\n      var vDefaultTimeout = this.getDefaultTimeout();\n      var vTimeout;\n      var vTime;\n\n      for (var i = vActive.length - 1; i >= 0; i--) {\n        vTransport = vActive[i];\n        vRequest = vTransport.getRequest();\n\n        if (vRequest.isAsynchronous()) {\n          vTimeout = vRequest.getTimeout();\n\n          // if timer is disabled...\n          if (vTimeout == 0) {\n            // then ignore it.\n            continue;\n          }\n\n          if (vTimeout == null) {\n            vTimeout = vDefaultTimeout;\n          }\n\n          vTime = vCurrent - vTransport._start;\n\n          if (vTime > vTimeout) {\n            this.warn(\"Timeout: transport \" + vTransport.toHashCode());\n            this.warn(vTime + \"ms > \" + vTimeout + \"ms\");\n            vTransport.timeout();\n          }\n        }\n      }\n    },\n\n    /*\n    ---------------------------------------------------------------------------\n      MODIFIERS\n    ---------------------------------------------------------------------------\n    */\n\n    // property apply\n    _applyEnabled(value, old) {\n      if (value) {\n        this._check();\n      }\n\n      this.__timer.setEnabled(value);\n    },\n\n    /*\n    ---------------------------------------------------------------------------\n      CORE METHODS\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Add the request to the pending requests queue.\n     *\n     * @param vRequest {var} The request\n     */\n    add(vRequest) {\n      vRequest.setState(\"queued\");\n\n      if (vRequest.isAsynchronous()) {\n        this.__queue.push(vRequest);\n      } else {\n        this.__queue.unshift(vRequest);\n      }\n\n      this._check();\n\n      if (this.getEnabled()) {\n        this.__timer.start();\n      }\n    },\n\n    /**\n     * Remove the request from the pending requests queue.\n     *\n     *  The underlying transport of the request is forced into the aborted\n     *  state (\"aborted\") and listeners of the \"aborted\"\n     *  signal are notified about the event. If the request isn't in the\n     *  pending requests queue, this method is a noop.\n     *\n     * @param vRequest {var} The request\n     */\n    abort(vRequest) {\n      var vTransport = vRequest.getTransport();\n\n      if (vTransport) {\n        vTransport.abort();\n      } else if (this.__queue.includes(vRequest)) {\n        qx.lang.Array.remove(this.__queue, vRequest);\n      }\n    },\n  },\n\n  /*\n  *****************************************************************************\n     DESTRUCTOR\n  *****************************************************************************\n  */\n\n  destruct() {\n    this._disposeArray(\"__active\");\n    this._disposeObjects(\"__timer\");\n    this.__queue = null;\n  },\n});\n"
  ],
  "mappings": "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",
  "ignoreList": []
}