{
  "version": 3,
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "type",
    "extend",
    "core",
    "Object",
    "implement",
    "IDisposable",
    "construct",
    "url",
    "constructor",
    "call",
    "undefined",
    "setUrl",
    "__requestHeaders",
    "transport",
    "_transport",
    "_createTransport",
    "_setPhase",
    "__onReadyStateChangeBound",
    "lang",
    "Function",
    "bind",
    "_onReadyStateChange",
    "__onLoadBound",
    "_onLoad",
    "__onLoadEndBound",
    "_onLoadEnd",
    "__onAbortBound",
    "_onAbort",
    "__onTimeoutBound",
    "_onTimeout",
    "__onErrorBound",
    "_onError",
    "onreadystatechange",
    "onload",
    "onloadend",
    "onabort",
    "ontimeout",
    "onerror",
    "events",
    "readyStateChange",
    "success",
    "load",
    "loadEnd",
    "abort",
    "timeout",
    "error",
    "statusError",
    "parseError",
    "fail",
    "changeResponse",
    "changePhase",
    "properties",
    "check",
    "nullable",
    "init",
    "requestData",
    "value",
    "Type",
    "isString",
    "isSubClassOf",
    "isObject",
    "isArray",
    "getClass",
    "authentication",
    "members",
    "__response",
    "__abort",
    "__phase",
    "__requestHeadersDeprecated",
    "_parserFailed",
    "Error",
    "_getConfiguredUrl",
    "_getConfiguredRequestHeaders",
    "_getParsedResponse",
    "_getMethod",
    "_isAsync",
    "send",
    "method",
    "async",
    "test",
    "replace",
    "getTimeout",
    "Environment",
    "get",
    "debug",
    "open",
    "getRequestData",
    "indexOf",
    "_serializeData",
    "_setRequestHeaders",
    "sendWithPromise",
    "context",
    "req",
    "promise",
    "Promise",
    "resolve",
    "reject",
    "listeners",
    "changeResponseListener",
    "addListener",
    "e",
    "forEach",
    "removeListenerById",
    "push",
    "statusErrorListener",
    "failMessage",
    "String",
    "format",
    "getStatus",
    "getStatusText",
    "err",
    "BaseError",
    "timeoutListener",
    "parseErrorListener",
    "abortListener",
    "errorListener",
    "getReadyState",
    "requestHeaders",
    "_getAllRequestHeaders",
    "key",
    "setRequestHeader",
    "mergeWith",
    "__getAuthRequestHeaders",
    "__P_259_11",
    "auth",
    "getAuthentication",
    "headers",
    "getAuthHeaders",
    "header",
    "getRequestHeader",
    "removeRequestHeader",
    "getTransport",
    "readyState",
    "getPhase",
    "status",
    "statusText",
    "getResponseText",
    "responseText",
    "getAllResponseHeaders",
    "getResponseHeader",
    "overrideResponseContentType",
    "contentType",
    "overrideMimeType",
    "getResponseContentType",
    "isDone",
    "getResponse",
    "_setResponse",
    "response",
    "oldResponse",
    "fireEvent",
    "event",
    "Data",
    "__onReadyStateDone",
    "__P_259_12",
    "util",
    "Request",
    "isSuccessful",
    "_fireStatefulEvent",
    "evt",
    "phase",
    "previousPhase",
    "fireDataEvent",
    "data",
    "isPost",
    "getMethod",
    "isJson",
    "Serializer",
    "toUriParameter",
    "Json",
    "stringify",
    "Uri",
    "toParameter",
    "environment",
    "destruct",
    "noop",
    "window",
    "setTimeout",
    "dispose",
    "io",
    "request",
    "AbstractRequest"
  ],
  "sources": [
    "/home/runner/work/CometVisu/CometVisu/node_modules/@qooxdoo/framework/source/class/qx/io/request/AbstractRequest.js"
  ],
  "sourcesContent": [
    "/* ************************************************************************\r\n\r\n   qooxdoo - the new era of web development\r\n\r\n   http://qooxdoo.org\r\n\r\n   Copyright:\r\n     2004-2011 1&1 Internet AG, Germany, http://www.1und1.de\r\n\r\n   License:\r\n     MIT: https://opensource.org/licenses/MIT\r\n     See the LICENSE file in the project's top-level directory for details.\r\n\r\n   Authors:\r\n     * Tristan Koch (tristankoch)\r\n\r\n************************************************************************ */\r\n\r\n/**\r\n * AbstractRequest serves as a base class for {@link qx.io.request.Xhr}\r\n * and {@link qx.io.request.Jsonp}. It contains methods to conveniently\r\n * communicate with transports found in {@link qx.bom.request}.\r\n *\r\n * The general procedure to derive a new request is to choose a\r\n * transport (override {@link #_createTransport}) and link\r\n * the transport’s response (override {@link #_getParsedResponse}).\r\n * The transport must implement {@link qx.bom.request.IRequest}.\r\n *\r\n * To adjust the behavior of {@link #send} override\r\n * {@link #_getConfiguredUrl} and {@link #_getConfiguredRequestHeaders}.\r\n *\r\n * NOTE: Instances of this class must be disposed of after use\r\n *\r\n */\r\nqx.Class.define(\"qx.io.request.AbstractRequest\", {\r\n  type: \"abstract\",\r\n\r\n  extend: qx.core.Object,\r\n  implement: [qx.core.IDisposable],\r\n\r\n  /**\r\n   * @param url {String?} The URL of the resource to request.\r\n   */\r\n  construct(url) {\r\n    super();\r\n\r\n    if (url !== undefined) {\r\n      this.setUrl(url);\r\n    }\r\n\r\n    this.__requestHeaders = {};\r\n\r\n    var transport = (this._transport = this._createTransport());\r\n    this._setPhase(\"unsent\");\r\n\r\n    this.__onReadyStateChangeBound = qx.lang.Function.bind(\r\n      this._onReadyStateChange,\r\n      this\r\n    );\r\n\r\n    this.__onLoadBound = qx.lang.Function.bind(this._onLoad, this);\r\n    this.__onLoadEndBound = qx.lang.Function.bind(this._onLoadEnd, this);\r\n    this.__onAbortBound = qx.lang.Function.bind(this._onAbort, this);\r\n    this.__onTimeoutBound = qx.lang.Function.bind(this._onTimeout, this);\r\n    this.__onErrorBound = qx.lang.Function.bind(this._onError, this);\r\n\r\n    transport.onreadystatechange = this.__onReadyStateChangeBound;\r\n    transport.onload = this.__onLoadBound;\r\n    transport.onloadend = this.__onLoadEndBound;\r\n    transport.onabort = this.__onAbortBound;\r\n    transport.ontimeout = this.__onTimeoutBound;\r\n    transport.onerror = this.__onErrorBound;\r\n  },\r\n\r\n  events: {\r\n    /**\r\n     * Fired on every change of the transport’s readyState.\r\n     */\r\n    readyStateChange: \"qx.event.type.Event\",\r\n\r\n    /**\r\n     * Fired when request completes without error and transport’s status\r\n     * indicates success.\r\n     */\r\n    success: \"qx.event.type.Event\",\r\n\r\n    /**\r\n     * Fired when request completes without error.\r\n     */\r\n    load: \"qx.event.type.Event\",\r\n\r\n    /**\r\n     * Fired when request completes with or without error.\r\n     */\r\n    loadEnd: \"qx.event.type.Event\",\r\n\r\n    /**\r\n     * Fired when request is aborted.\r\n     */\r\n    abort: \"qx.event.type.Event\",\r\n\r\n    /**\r\n     * Fired when request reaches timeout limit.\r\n     */\r\n    timeout: \"qx.event.type.Event\",\r\n\r\n    /**\r\n     * Fired when request completes with error.\r\n     */\r\n    error: \"qx.event.type.Event\",\r\n\r\n    /**\r\n     * Fired when request completes without error but erroneous HTTP status.\r\n     */\r\n    statusError: \"qx.event.type.Event\",\r\n\r\n    /**\r\n     * Fired when the configured parser runs into an unrecoverable error.\r\n     */\r\n    parseError: \"qx.event.type.Data\",\r\n\r\n    /**\r\n     * Fired on timeout, error or remote error.\r\n     *\r\n     * This event is fired for convenience. Usually, it is recommended\r\n     * to handle error related events in a more fine-grained approach.\r\n     */\r\n    fail: \"qx.event.type.Event\",\r\n\r\n    /**\r\n     * Fired on change of the parsed response.\r\n     *\r\n     * This event allows to use data binding with the\r\n     * parsed response as source.\r\n     *\r\n     * For example, to bind the response to the value of a label:\r\n     *\r\n     * <pre class=\"javascript\">\r\n     * // req is an instance of qx.io.request.*,\r\n     * // label an instance of qx.ui.basic.Label\r\n     * req.bind(\"response\", label, \"value\");\r\n     * </pre>\r\n     *\r\n     * The response is parsed (and therefore changed) only\r\n     * after the request completes successfully. This means\r\n     * that when a new request is made the initial empty value\r\n     * is ignored, instead only the final value is bound.\r\n     *\r\n     */\r\n    changeResponse: \"qx.event.type.Data\",\r\n\r\n    /**\r\n     * Fired on change of the phase.\r\n     */\r\n    changePhase: \"qx.event.type.Data\"\r\n  },\r\n\r\n  properties: {\r\n    /**\r\n     * The URL of the resource to request.\r\n     *\r\n     * Note: Depending on the configuration of the request\r\n     * and/or the transport chosen, query params may be appended\r\n     * automatically.\r\n     */\r\n    url: {\r\n      check: \"String\"\r\n    },\r\n\r\n    /**\r\n     * Timeout limit in milliseconds. Default (0) means no limit.\r\n     */\r\n    timeout: {\r\n      check: \"Number\",\r\n      nullable: true,\r\n      init: 0\r\n    },\r\n\r\n    /**\r\n     * Data to be sent as part of the request.\r\n     *\r\n     * Supported types:\r\n     *\r\n     * * String\r\n     * * Map\r\n     * * qooxdoo Object\r\n     * * Blob\r\n     * * ArrayBuffer\r\n     * * FormData\r\n     *\r\n     * For maps, Arrays and qooxdoo objects, a URL encoded string\r\n     * with unsafe characters escaped is internally generated and sent\r\n     * as part of the request.\r\n     *\r\n     * Depending on the underlying transport and its configuration, the request\r\n     * data is transparently included as URL query parameters or embedded in the\r\n     * request body as form data.\r\n     *\r\n     * If a string is given the user must make sure it is properly formatted and\r\n     * escaped. See {@link qx.util.Serializer#toUriParameter}.\r\n     *\r\n     */\r\n    requestData: {\r\n      check(value) {\r\n        return (\r\n          qx.lang.Type.isString(value) ||\r\n          qx.Class.isSubClassOf(value.constructor, qx.core.Object) ||\r\n          qx.lang.Type.isObject(value) ||\r\n          qx.lang.Type.isArray(value) ||\r\n          qx.Bootstrap.getClass(value) == \"Blob\" ||\r\n          qx.Bootstrap.getClass(value) == \"ArrayBuffer\" ||\r\n          qx.Bootstrap.getClass(value) == \"FormData\"\r\n        );\r\n      },\r\n      nullable: true\r\n    },\r\n\r\n    /**\r\n     * Authentication delegate.\r\n     *\r\n     * The delegate must implement {@link qx.io.request.authentication.IAuthentication}.\r\n     */\r\n    authentication: {\r\n      check: \"qx.io.request.authentication.IAuthentication\",\r\n      nullable: true\r\n    }\r\n  },\r\n\r\n  members: {\r\n    /**\r\n     * Bound handlers.\r\n     */\r\n    __onReadyStateChangeBound: null,\r\n    __onLoadBound: null,\r\n    __onLoadEndBound: null,\r\n    __onAbortBound: null,\r\n    __onTimeoutBound: null,\r\n    __onErrorBound: null,\r\n\r\n    /**\r\n     * Parsed response.\r\n     */\r\n    __response: null,\r\n\r\n    /**\r\n     * Abort flag.\r\n     */\r\n    __abort: null,\r\n\r\n    /**\r\n     * Current phase.\r\n     */\r\n    __phase: null,\r\n\r\n    /**\r\n     * Request headers.\r\n     */\r\n    __requestHeaders: null,\r\n\r\n    /**\r\n     * Request headers (deprecated).\r\n     */\r\n    __requestHeadersDeprecated: null,\r\n\r\n    /**\r\n     * Holds transport.\r\n     */\r\n    _transport: null,\r\n\r\n    /**\r\n     * Holds information about the parser status for the last request.\r\n     */\r\n    _parserFailed: false,\r\n\r\n    /*\r\n    ---------------------------------------------------------------------------\r\n      CONFIGURE TRANSPORT\r\n    ---------------------------------------------------------------------------\r\n    */\r\n\r\n    /**\r\n     * Create and return transport.\r\n     *\r\n     * This method MUST be overridden, unless the constructor is overridden as\r\n     * well. It is called by the constructor and should return the transport that\r\n     * is to be interfaced.\r\n     *\r\n     * @return {qx.bom.request} Transport.\r\n     */\r\n    _createTransport() {\r\n      throw new Error(\"Abstract method call\");\r\n    },\r\n\r\n    /**\r\n     * Get configured URL.\r\n     *\r\n     * A configured URL typically includes a query string that\r\n     * encapsulates transport specific settings such as request\r\n     * data or no-cache settings.\r\n     *\r\n     * This method MAY be overridden. It is called in {@link #send}\r\n     * before the request is initialized.\r\n     *\r\n     * @return {String} The configured URL.\r\n     */\r\n    _getConfiguredUrl() {},\r\n\r\n    /**\r\n     * Get configuration related request headers.\r\n     *\r\n     * This method MAY be overridden to add request headers for features limited\r\n     * to a certain transport.\r\n     *\r\n     * @return {Map} Map of request headers.\r\n     */\r\n    _getConfiguredRequestHeaders() {},\r\n\r\n    /**\r\n     * Get parsed response.\r\n     *\r\n     * Is called in the {@link #_onReadyStateChange} event handler\r\n     * to parse and store the transport’s response.\r\n     *\r\n     * This method MUST be overridden.\r\n     *\r\n     * @return {String} The parsed response of the request.\r\n     */\r\n    _getParsedResponse() {\r\n      throw new Error(\"Abstract method call\");\r\n    },\r\n\r\n    /**\r\n     * Get method.\r\n     *\r\n     * This method MAY be overridden. It is called in {@link #send}\r\n     * before the request is initialized.\r\n     *\r\n     * @return {String} The method.\r\n     */\r\n    _getMethod() {\r\n      return \"GET\";\r\n    },\r\n\r\n    /**\r\n     * Whether async.\r\n     *\r\n     * This method MAY be overridden. It is called in {@link #send}\r\n     * before the request is initialized.\r\n     *\r\n     * @return {Boolean} Whether to process asynchronously.\r\n     */\r\n    _isAsync() {\r\n      return true;\r\n    },\r\n\r\n    /*\r\n    ---------------------------------------------------------------------------\r\n      INTERACT WITH TRANSPORT\r\n    ---------------------------------------------------------------------------\r\n    */\r\n\r\n    /**\r\n     * Send request.\r\n     */\r\n    send() {\r\n      var transport = this._transport,\r\n        url,\r\n        method,\r\n        async,\r\n        requestData;\r\n\r\n      //\r\n      // Open request\r\n      //\r\n\r\n      url = this._getConfiguredUrl();\r\n\r\n      // Drop fragment (anchor) from URL as per\r\n      // http://www.w3.org/TR/XMLHttpRequest/#the-open-method\r\n      if (/\\#/.test(url)) {\r\n        url = url.replace(/\\#.*/, \"\");\r\n      }\r\n\r\n      transport.timeout = this.getTimeout();\r\n\r\n      // Support transports with enhanced feature set\r\n      method = this._getMethod();\r\n      async = this._isAsync();\r\n\r\n      // Open\r\n      if (qx.core.Environment.get(\"qx.debug.io\")) {\r\n        this.debug(\r\n          \"Open low-level request with method: \" +\r\n            method +\r\n            \", url: \" +\r\n            url +\r\n            \", async: \" +\r\n            async\r\n        );\r\n      }\r\n\r\n      transport.open(method, url, async);\r\n      this._setPhase(\"opened\");\r\n\r\n      //\r\n      // Send request\r\n      //\r\n\r\n      requestData = this.getRequestData();\r\n      if (\r\n        [\"ArrayBuffer\", \"Blob\", \"FormData\"].indexOf(\r\n          qx.Bootstrap.getClass(requestData)\r\n        ) == -1\r\n      ) {\r\n        requestData = this._serializeData(requestData);\r\n      }\r\n\r\n      this._setRequestHeaders();\r\n\r\n      // Send\r\n      if (qx.core.Environment.get(\"qx.debug.io\")) {\r\n        this.debug(\"Send low-level request\");\r\n      }\r\n\r\n      method == \"GET\" ? transport.send() : transport.send(requestData);\r\n      this._setPhase(\"sent\");\r\n    },\r\n\r\n    /**\r\n     * The same as send() but also return a `qx.Promise` object. The promise\r\n     * is resolved to this object if the request is successful.\r\n     *\r\n     * Calling `abort()` on the request object, rejects the promise. Calling\r\n     * `cancel()` on the promise aborts the request if the request is not in a\r\n     * final state.\r\n     * If the promise has other listener paths, then cancelation of one path will\r\n     * not have any effect on the request and consequently that call will not\r\n     * affect the other paths.\r\n     *\r\n     * @param context {Object?} optional context to bind the qx.Promise.\r\n     * @return {qx.Promise} The qx.Promise object\r\n     * @throws {qx.type.BaseError} If the environment setting `qx.promise` is set to false\r\n     */\r\n    sendWithPromise(context) {\r\n      if (qx.core.Environment.get(\"qx.promise\")) {\r\n        context = context || this;\r\n\r\n        // save this object's context\r\n        var req = this;\r\n\r\n        var promise = new qx.Promise(function (resolve, reject) {\r\n          var listeners = [];\r\n\r\n          var changeResponseListener = req.addListener(\"success\", e => {\r\n            listeners.forEach(req.removeListenerById.bind(req));\r\n            resolve(req);\r\n          });\r\n\r\n          listeners.push(changeResponseListener);\r\n\r\n          var statusErrorListener = req.addListener(\"statusError\", e => {\r\n            listeners.forEach(req.removeListenerById.bind(req));\r\n            var failMessage = qx.lang.String.format(\"%1: %2.\", [\r\n              req.getStatus(),\r\n              req.getStatusText()\r\n            ]);\r\n\r\n            var err = new qx.type.BaseError(\"statusError\", failMessage);\r\n            reject(err);\r\n          });\r\n\r\n          listeners.push(statusErrorListener);\r\n\r\n          var timeoutListener = req.addListener(\"timeout\", e => {\r\n            listeners.forEach(req.removeListenerById.bind(req));\r\n            var failMessage = qx.lang.String.format(\r\n              \"Request failed with timeout after %1 ms.\",\r\n              [req.getTimeout()]\r\n            );\r\n\r\n            var err = new qx.type.BaseError(\"timeout\", failMessage);\r\n            reject(err);\r\n          });\r\n\r\n          listeners.push(timeoutListener);\r\n\r\n          var parseErrorListener = req.addListener(\"parseError\", e => {\r\n            listeners.forEach(req.removeListenerById.bind(req));\r\n            var failMessage = \"Error parsing the response.\";\r\n            var err = new qx.type.BaseError(\"parseError\", failMessage);\r\n            reject(err);\r\n          });\r\n\r\n          listeners.push(parseErrorListener);\r\n\r\n          var abortListener = req.addListener(\"abort\", e => {\r\n            listeners.forEach(req.removeListenerById.bind(req));\r\n            var failMessage = \"Request aborted.\";\r\n            var err = new qx.type.BaseError(\"abort\", failMessage);\r\n            reject(err);\r\n          });\r\n\r\n          listeners.push(abortListener);\r\n\r\n          var errorListener = req.addListener(\"error\", e => {\r\n            listeners.forEach(req.removeListenerById.bind(req));\r\n            var failMessage = \"Request failed.\";\r\n            var err = new qx.type.BaseError(\"error\", failMessage);\r\n            reject(err);\r\n          });\r\n\r\n          listeners.push(errorListener);\r\n\r\n          req.send();\r\n        }, context).finally(function () {\r\n          if (req.getReadyState() !== 4) {\r\n            req.abort();\r\n          }\r\n        });\r\n\r\n        return promise;\r\n        // eslint-disable-next-line no-else-return\r\n      } else {\r\n        // fail loudly\r\n        throw new qx.type.BaseError(\r\n          \"Error\",\r\n          \"Environment setting qx.promise is set to false.\"\r\n        );\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Abort request.\r\n     */\r\n    abort() {\r\n      if (qx.core.Environment.get(\"qx.debug.io\")) {\r\n        this.debug(\"Abort request\");\r\n      }\r\n      this.__abort = true;\r\n\r\n      // Update phase to \"abort\" before user handler are invoked [BUG #5485]\r\n      this.__phase = \"abort\";\r\n\r\n      this._transport.abort();\r\n    },\r\n\r\n    /*\r\n    ---------------------------------------------------------------------------\r\n     REQUEST HEADERS\r\n    ---------------------------------------------------------------------------\r\n    */\r\n\r\n    /**\r\n     * Apply configured request headers to transport.\r\n     *\r\n     * This method MAY be overridden to customize application of request headers\r\n     * to transport.\r\n     */\r\n    _setRequestHeaders() {\r\n      var transport = this._transport,\r\n        requestHeaders = this._getAllRequestHeaders();\r\n\r\n      for (var key in requestHeaders) {\r\n        transport.setRequestHeader(key, requestHeaders[key]);\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Get all request headers.\r\n     *\r\n     * @return {Map} All request headers.\r\n     */\r\n    _getAllRequestHeaders() {\r\n      var requestHeaders = {};\r\n      // Transport specific headers\r\n      qx.lang.Object.mergeWith(\r\n        requestHeaders,\r\n        this._getConfiguredRequestHeaders()\r\n      );\r\n\r\n      // Authentication delegate\r\n      qx.lang.Object.mergeWith(requestHeaders, this.__getAuthRequestHeaders());\r\n      // User-defined, requestHeaders property (deprecated)\r\n      qx.lang.Object.mergeWith(requestHeaders, this.__requestHeadersDeprecated);\r\n      // User-defined\r\n      qx.lang.Object.mergeWith(requestHeaders, this.__requestHeaders);\r\n\r\n      return requestHeaders;\r\n    },\r\n\r\n    /**\r\n     * Retrieve authentication headers from auth delegate.\r\n     *\r\n     * @return {Map} Authentication related request headers.\r\n     */\r\n    __getAuthRequestHeaders() {\r\n      var auth = this.getAuthentication(),\r\n        headers = {};\r\n\r\n      if (auth) {\r\n        auth.getAuthHeaders().forEach(function (header) {\r\n          headers[header.key] = header.value;\r\n        });\r\n        return headers;\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Set a request header.\r\n     *\r\n     * Note: Setting request headers has no effect after the request was send.\r\n     *\r\n     * @param key {String} Key of the header.\r\n     * @param value {String} Value of the header.\r\n     */\r\n    setRequestHeader(key, value) {\r\n      this.__requestHeaders[key] = value;\r\n    },\r\n\r\n    /**\r\n     * Get a request header.\r\n     *\r\n     * @param key {String} Key of the header.\r\n     * @return {String} The value of the header.\r\n     */\r\n    getRequestHeader(key) {\r\n      return this.__requestHeaders[key];\r\n    },\r\n\r\n    /**\r\n     * Remove a request header.\r\n     *\r\n     * Note: Removing request headers has no effect after the request was send.\r\n     *\r\n     * @param key {String} Key of the header.\r\n     */\r\n    removeRequestHeader(key) {\r\n      if (this.__requestHeaders[key]) {\r\n        delete this.__requestHeaders[key];\r\n      }\r\n    },\r\n\r\n    /*\r\n    ---------------------------------------------------------------------------\r\n     QUERY TRANSPORT\r\n    ---------------------------------------------------------------------------\r\n    */\r\n\r\n    /**\r\n     * Get low-level transport.\r\n     *\r\n     * Note: To be used with caution!\r\n     *\r\n     * This method can be used to query the transport directly,\r\n     * but should be used with caution. Especially, it\r\n     * is not advisable to call any destructive methods\r\n     * such as <code>open</code> or <code>send</code>.\r\n     *\r\n     * @return {Object} An instance of a class found in\r\n     *  <code>qx.bom.request.*</code>\r\n     */\r\n\r\n    // This method mainly exists so that some methods found in the\r\n    // low-level transport can be deliberately omitted here,\r\n    // but still be accessed should it be absolutely necessary.\r\n    //\r\n    // Valid use cases include to query the transport’s responseXML\r\n    // property if performance is critical and any extra parsing\r\n    // should be avoided at all costs.\r\n    //\r\n    getTransport() {\r\n      return this._transport;\r\n    },\r\n\r\n    /**\r\n     * Get current ready state.\r\n     *\r\n     * States can be:\r\n     * UNSENT:           0,\r\n     * OPENED:           1,\r\n     * HEADERS_RECEIVED: 2,\r\n     * LOADING:          3,\r\n     * DONE:             4\r\n     *\r\n     * @return {Number} Ready state.\r\n     */\r\n    getReadyState() {\r\n      return this._transport.readyState;\r\n    },\r\n\r\n    /**\r\n     * Get current phase.\r\n     *\r\n     * A more elaborate version of {@link #getReadyState}, this method indicates\r\n     * the current phase of the request. Maps to stateful (i.e. deterministic)\r\n     * events (success, abort, timeout, statusError) and intermediate\r\n     * readyStates (unsent, configured, loading, load).\r\n     *\r\n     * When the requests is successful, it progresses the states:<br>\r\n     * 'unsent', 'opened', 'sent', 'loading', 'load', 'success'\r\n     *\r\n     * In case of failure, the final state is one of:<br>\r\n     * 'abort', 'timeout', 'statusError'\r\n     *\r\n     * For each change of the phase, a {@link #changePhase} data event is fired.\r\n     *\r\n     * @return {String} Current phase.\r\n     *\r\n     */\r\n    getPhase() {\r\n      return this.__phase;\r\n    },\r\n\r\n    /**\r\n     * Get status code.\r\n     *\r\n     * @return {Number} The transport’s status code.\r\n     */\r\n    getStatus() {\r\n      return this._transport.status;\r\n    },\r\n\r\n    /**\r\n     * Get status text.\r\n     *\r\n     * @return {String} The transport’s status text.\r\n     */\r\n    getStatusText() {\r\n      return this._transport.statusText;\r\n    },\r\n\r\n    /**\r\n     * Get raw (unprocessed) response.\r\n     *\r\n     * @return {String} The raw response of the request.\r\n     */\r\n    getResponseText() {\r\n      return this._transport.responseText;\r\n    },\r\n\r\n    /**\r\n     * Get all response headers from response.\r\n     *\r\n     * @return {String} All response headers.\r\n     */\r\n    getAllResponseHeaders() {\r\n      return this._transport.getAllResponseHeaders();\r\n    },\r\n\r\n    /**\r\n     * Get a single response header from response.\r\n     *\r\n     * @param key {String}\r\n     *   Key of the header to get the value from.\r\n     * @return {String}\r\n     *   Response header.\r\n     */\r\n    getResponseHeader(key) {\r\n      return this._transport.getResponseHeader(key);\r\n    },\r\n\r\n    /**\r\n     * Override the content type response header from response.\r\n     *\r\n     * @param contentType {String}\r\n     *   Content type for overriding.\r\n     * @see qx.bom.request.Xhr#overrideMimeType\r\n     */\r\n    overrideResponseContentType(contentType) {\r\n      return this._transport.overrideMimeType(contentType);\r\n    },\r\n\r\n    /**\r\n     * Get the content type response header from response.\r\n     *\r\n     * @return {String}\r\n     *   Content type response header.\r\n     */\r\n    getResponseContentType() {\r\n      return this.getResponseHeader(\"Content-Type\");\r\n    },\r\n\r\n    /**\r\n     * Whether request completed (is done).\r\n     */\r\n    isDone() {\r\n      return this.getReadyState() === 4;\r\n    },\r\n\r\n    /*\r\n    ---------------------------------------------------------------------------\r\n      RESPONSE\r\n    ---------------------------------------------------------------------------\r\n    */\r\n\r\n    /**\r\n     * Get parsed response.\r\n     *\r\n     * @return {String} The parsed response of the request.\r\n     */\r\n    getResponse() {\r\n      return this.__response;\r\n    },\r\n\r\n    /**\r\n     * Set response.\r\n     *\r\n     * @param response {String} The parsed response of the request.\r\n     */\r\n    _setResponse(response) {\r\n      var oldResponse = response;\r\n\r\n      if (this.__response !== response) {\r\n        this.__response = response;\r\n        this.fireEvent(\"changeResponse\", qx.event.type.Data, [\r\n          this.__response,\r\n          oldResponse\r\n        ]);\r\n      }\r\n    },\r\n\r\n    /*\r\n    ---------------------------------------------------------------------------\r\n      EVENT HANDLING\r\n    ---------------------------------------------------------------------------\r\n    */\r\n\r\n    /**\r\n     * Handle \"readyStateChange\" event.\r\n     */\r\n    _onReadyStateChange() {\r\n      var readyState = this.getReadyState();\r\n\r\n      if (qx.core.Environment.get(\"qx.debug.io\")) {\r\n        this.debug(\"Fire readyState: \" + readyState);\r\n      }\r\n\r\n      this.fireEvent(\"readyStateChange\");\r\n\r\n      // Transport switches to readyState DONE on abort and may already\r\n      // have successful HTTP status when response is served from cache.\r\n      //\r\n      // Not fire custom event \"loading\" (or \"success\", when cached).\r\n      if (this.__abort) {\r\n        return;\r\n      }\r\n\r\n      if (readyState === 3) {\r\n        this._setPhase(\"loading\");\r\n      }\r\n\r\n      if (this.isDone()) {\r\n        this.__onReadyStateDone();\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Called internally when readyState is DONE.\r\n     */\r\n    __onReadyStateDone() {\r\n      if (qx.core.Environment.get(\"qx.debug.io\")) {\r\n        this.debug(\"Request completed with HTTP status: \" + this.getStatus());\r\n      }\r\n\r\n      // Event \"load\" fired in onLoad\r\n      this._setPhase(\"load\");\r\n\r\n      // Successful HTTP status\r\n      if (qx.util.Request.isSuccessful(this.getStatus())) {\r\n        // Parse response\r\n        if (qx.core.Environment.get(\"qx.debug.io\")) {\r\n          this.debug(\r\n            \"Response is of type: '\" + this.getResponseContentType() + \"'\"\r\n          );\r\n        }\r\n\r\n        this._setResponse(this._getParsedResponse());\r\n\r\n        if (this._parserFailed) {\r\n          this.fireEvent(\"fail\");\r\n        } else {\r\n          this._fireStatefulEvent(\"success\");\r\n        }\r\n\r\n        // Erroneous HTTP status\r\n      } else {\r\n        try {\r\n          this._setResponse(this._getParsedResponse());\r\n        } catch (e) {\r\n          // ignore if it does not work\r\n        }\r\n\r\n        // A remote error failure\r\n        if (this.getStatus() !== 0) {\r\n          this._fireStatefulEvent(\"statusError\");\r\n          this.fireEvent(\"fail\");\r\n        }\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Handle \"load\" event.\r\n     */\r\n    _onLoad() {\r\n      this.fireEvent(\"load\");\r\n    },\r\n\r\n    /**\r\n     * Handle \"loadEnd\" event.\r\n     */\r\n    _onLoadEnd() {\r\n      this.fireEvent(\"loadEnd\");\r\n    },\r\n\r\n    /**\r\n     * Handle \"abort\" event.\r\n     */\r\n    _onAbort() {\r\n      this._fireStatefulEvent(\"abort\");\r\n    },\r\n\r\n    /**\r\n     * Handle \"timeout\" event.\r\n     */\r\n    _onTimeout() {\r\n      this._fireStatefulEvent(\"timeout\");\r\n\r\n      // A network error failure\r\n      this.fireEvent(\"fail\");\r\n    },\r\n\r\n    /**\r\n     * Handle \"error\" event.\r\n     */\r\n    _onError() {\r\n      this.fireEvent(\"error\");\r\n\r\n      // A network error failure\r\n      this.fireEvent(\"fail\");\r\n    },\r\n\r\n    /*\r\n    ---------------------------------------------------------------------------\r\n      INTERNAL / HELPERS\r\n    ---------------------------------------------------------------------------\r\n    */\r\n\r\n    /**\r\n     * Fire stateful event.\r\n     *\r\n     * Fires event and sets phase to name of event.\r\n     *\r\n     * @param evt {String} Name of the event to fire.\r\n     */\r\n    _fireStatefulEvent(evt) {\r\n      if (qx.core.Environment.get(\"qx.debug\")) {\r\n        qx.core.Assert.assertString(evt);\r\n      }\r\n      this._setPhase(evt);\r\n      this.fireEvent(evt);\r\n    },\r\n\r\n    /**\r\n     * Set phase.\r\n     *\r\n     * @param phase {String} The phase to set.\r\n     */\r\n    _setPhase(phase) {\r\n      var previousPhase = this.__phase;\r\n\r\n      if (qx.core.Environment.get(\"qx.debug\")) {\r\n        qx.core.Assert.assertString(phase);\r\n        qx.core.Assert.assertMatch(\r\n          phase,\r\n          /^(unsent)|(opened)|(sent)|(loading)|(load)|(success)|(abort)|(timeout)|(statusError)$/\r\n        );\r\n      }\r\n\r\n      this.__phase = phase;\r\n      this.fireDataEvent(\"changePhase\", phase, previousPhase);\r\n    },\r\n\r\n    /**\r\n     * Serialize data.\r\n     *\r\n     * @param data {String|Map|qx.core.Object} Data to serialize.\r\n     * @return {String|null} Serialized data.\r\n     */\r\n    _serializeData(data) {\r\n      var isPost =\r\n          typeof this.getMethod !== \"undefined\" && this.getMethod() == \"POST\",\r\n        isJson = /application\\/.*\\+?json/.test(\r\n          this.getRequestHeader(\"Content-Type\")\r\n        );\r\n\r\n      if (!data) {\r\n        return null;\r\n      }\r\n\r\n      if (qx.lang.Type.isString(data)) {\r\n        return data;\r\n      }\r\n\r\n      if (qx.Class.isSubClassOf(data.constructor, qx.core.Object)) {\r\n        return qx.util.Serializer.toUriParameter(data);\r\n      }\r\n\r\n      if (\r\n        isJson &&\r\n        (qx.lang.Type.isObject(data) || qx.lang.Type.isArray(data))\r\n      ) {\r\n        return qx.lang.Json.stringify(data);\r\n      }\r\n\r\n      if (qx.lang.Type.isObject(data)) {\r\n        return qx.util.Uri.toParameter(data, isPost);\r\n      }\r\n\r\n      return null;\r\n    }\r\n  },\r\n\r\n  environment: {\r\n    \"qx.debug.io\": false\r\n  },\r\n\r\n  destruct() {\r\n    var transport = this._transport,\r\n      noop = function () {};\r\n\r\n    if (this._transport) {\r\n      transport.onreadystatechange =\r\n        transport.onload =\r\n        transport.onloadend =\r\n        transport.onabort =\r\n        transport.ontimeout =\r\n        transport.onerror =\r\n          noop;\r\n\r\n      // [BUG #8315] dispose asynchronously to work with Sinon.js fake server\r\n      window.setTimeout(function () {\r\n        transport.dispose();\r\n      }, 0);\r\n    }\r\n    this.__response = null;\r\n  }\r\n});\r\n"
  ],
  "mappings": "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"
}