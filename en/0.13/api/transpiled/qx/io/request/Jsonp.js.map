{
  "version": 3,
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "extend",
    "io",
    "request",
    "AbstractRequest",
    "events",
    "success",
    "load",
    "statusError",
    "properties",
    "cache",
    "check",
    "init",
    "members",
    "_createTransport",
    "bom",
    "Jsonp",
    "_getConfiguredUrl",
    "url",
    "getUrl",
    "serializedData",
    "getRequestData",
    "_serializeData",
    "util",
    "Uri",
    "appendParamsToUrl",
    "getCache",
    "nocache",
    "Date",
    "valueOf",
    "_getParsedResponse",
    "_transport",
    "responseJson",
    "setCallbackParam",
    "param",
    "setCallbackName",
    "name"
  ],
  "sources": [
    "/home/runner/work/CometVisu/CometVisu/node_modules/@qooxdoo/framework/source/class/qx/io/request/Jsonp.js"
  ],
  "sourcesContent": [
    "/* ************************************************************************\r\n\r\n   qooxdoo - the new era of web development\r\n\r\n   http://qooxdoo.org\r\n\r\n   Copyright:\r\n     2004-2011 1&1 Internet AG, Germany, http://www.1und1.de\r\n\r\n   License:\r\n     MIT: https://opensource.org/licenses/MIT\r\n     See the LICENSE file in the project's top-level directory for details.\r\n\r\n   Authors:\r\n     * Tristan Koch (tristankoch)\r\n\r\n************************************************************************ */\r\n\r\n/**\r\n * Query JSONP services using the script element. Requests may be cross-origin.\r\n *\r\n * Configuration of the request is done with properties. Events are fired for\r\n * various states in the life cycle of a request, such as \"success\". Request\r\n * data is transparently processed.\r\n *\r\n * For an introduction to JSONP, please refer to\r\n * <a href=\"http://ajaxian.com/archives/jsonp-json-with-padding\">Ajaxian.com</a>.\r\n *\r\n * Here is how to request a JSON file from a REST service and listen to\r\n * the \"success\" event:\r\n *\r\n * <pre class=\"javascript\">\r\n * var req = new qx.io.request.Jsonp();\r\n * req.setUrl(\"http://feeds.delicious.com/v2/json/popular\");\r\n *\r\n * // Some services have a fixed callback name\r\n * // req.setCallbackName(\"callback\");\r\n *\r\n * req.addListener(\"success\", function(e) {\r\n *   var req = e.getTarget();\r\n *\r\n *   // HTTP status code indicating success, e.g. 200\r\n *   req.getStatus();\r\n *\r\n *   // \"success\"\r\n *   req.getPhase();\r\n *\r\n *   // JSON response\r\n *   req.getResponse();\r\n * }, this);\r\n *\r\n * // Send request\r\n * req.send();\r\n * </pre>\r\n *\r\n * Some noteable features:\r\n *\r\n * * Abstraction of low-level request\r\n * * Convenient setup using properties\r\n * * Fine-grained events\r\n * * Symbolic phases\r\n * * Transparent processing of request data\r\n * * Stream-lined authentication\r\n * * Flexible callback handling\r\n * * Cross-origin requests\r\n *\r\n * In order to debug requests, set the environment flag\r\n * <code>qx.debug.io</code>.\r\n *\r\n * Internally uses {@link qx.bom.request.Jsonp}.\r\n */\r\nqx.Class.define(\"qx.io.request.Jsonp\", {\r\n  extend: qx.io.request.AbstractRequest,\r\n\r\n  events: {\r\n    /**\r\n     * Fired when request completes without error and data has been received.\r\n     */\r\n    success: \"qx.event.type.Event\",\r\n\r\n    /**\r\n     * Fired when request completes without error.\r\n     *\r\n     * Every request receiving a response completes without error. This means\r\n     * that even for responses that do not call the callback, a \"load\" event\r\n     * is fired. If you are only interested in the JSON data received, consider\r\n     * listening to the {@link #success} event instead.\r\n     */\r\n    load: \"qx.event.type.Event\",\r\n\r\n    /**\r\n     * Fired when request completes without error but no data was received.\r\n     *\r\n     * The underlying script transport does not know the HTTP status of the\r\n     * response. However, if the callback was not called (no data received)\r\n     * an erroneous status (500) is assigned to the transport’s status\r\n     * property.\r\n     *\r\n     * Note: If you receive an unexpected \"statusError\", check that the JSONP\r\n     * service accepts arbitrary callback names given as the \"callback\"\r\n     * parameter. In case the service expects another parameter for the callback\r\n     * name, use {@link #setCallbackParam}. Should the service respond with a\r\n     * hard-coded callback, set a custom callback name with\r\n     * {@link #setCallbackName}.\r\n     */\r\n    statusError: \"qx.event.type.Event\"\r\n  },\r\n\r\n  properties: {\r\n    /**\r\n     * Whether to allow request to be answered from cache.\r\n     *\r\n     * Allowed values:\r\n     *\r\n     * * <code>true</code>: Allow caching (Default)\r\n     * * <code>false</code>: Prohibit caching. Appends nocache parameter to URL.\r\n     */\r\n    cache: {\r\n      check: \"Boolean\",\r\n      init: true\r\n    }\r\n  },\r\n\r\n  members: {\r\n    /*\r\n    ---------------------------------------------------------------------------\r\n      CONFIGURE TRANSPORT\r\n    ---------------------------------------------------------------------------\r\n    */\r\n\r\n    /**\r\n     * Create JSONP transport.\r\n     *\r\n     * @return {qx.bom.request.Jsonp} Transport.\r\n     */\r\n    _createTransport() {\r\n      return new qx.bom.request.Jsonp();\r\n    },\r\n\r\n    /**\r\n     * Get configured URL.\r\n     *\r\n     * Append request data to URL. Also append random string\r\n     * to URL if required by value of {@link #cache}.\r\n     *\r\n     * @return {String} The configured URL.\r\n     */\r\n    _getConfiguredUrl() {\r\n      var url = this.getUrl(),\r\n        serializedData;\r\n\r\n      if (this.getRequestData()) {\r\n        serializedData = this._serializeData(this.getRequestData());\r\n        url = qx.util.Uri.appendParamsToUrl(url, serializedData);\r\n      }\r\n\r\n      if (!this.getCache()) {\r\n        // Make sure URL cannot be served from cache and new request is made\r\n        url = qx.util.Uri.appendParamsToUrl(url, {\r\n          nocache: new Date().valueOf()\r\n        });\r\n      }\r\n\r\n      return url;\r\n    },\r\n\r\n    /**\r\n     * Return the transport’s responseJson property.\r\n     *\r\n     * See {@link qx.bom.request.Jsonp}.\r\n     *\r\n     * @return {Object} The parsed response of the request.\r\n     */\r\n    _getParsedResponse() {\r\n      return this._transport.responseJson;\r\n    },\r\n\r\n    /*\r\n    ---------------------------------------------------------------------------\r\n      CALLBACK MANAGEMENT\r\n    ---------------------------------------------------------------------------\r\n    */\r\n\r\n    /**\r\n     * Set callback parameter.\r\n     *\r\n     * See {@link qx.bom.request.Jsonp#setCallbackParam}.\r\n     *\r\n     * @param param {String} Name of the callback parameter.\r\n     */\r\n    setCallbackParam(param) {\r\n      this._transport.setCallbackParam(param);\r\n    },\r\n\r\n    /**\r\n     * Set callback name.\r\n     *\r\n     * See {@link qx.bom.request.Jsonp#setCallbackName}.\r\n     *\r\n     * @param name {String} Name of the callback function.\r\n     */\r\n    setCallbackName(name) {\r\n      this._transport.setCallbackName(name);\r\n    }\r\n  }\r\n});\r\n"
  ],
  "mappings": ";;;;;;;;;;;;;;EAAAA,EAAE,CAACC,SAAS,CAACC,oBAAoB,CAACC,aAAa,CAAC;EAAhD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;EAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EACAH,EAAE,CAACI,KAAK,CAACC,MAAM,CAAC,qBAAqB,EAAE;IACrCC,MAAM,EAAEN,EAAE,CAACO,EAAE,CAACC,OAAO,CAACC,eAAe;IAErCC,MAAM,EAAE;MACN;AACJ;AACA;MACIC,OAAO,EAAE,qBAAqB;MAE9B;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;MACIC,IAAI,EAAE,qBAAqB;MAE3B;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;MACIC,WAAW,EAAE;IACf,CAAC;IAEDC,UAAU,EAAE;MACV;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;MACIC,KAAK,EAAE;QACLC,KAAK,EAAE,SAAS;QAChBC,IAAI,EAAE;MACR;IACF,CAAC;IAEDC,OAAO,EAAE;MACP;AACJ;AACA;AACA;AACA;MAEI;AACJ;AACA;AACA;AACA;MACIC,gBAAgB,WAAAA,iBAAA,EAAG;QACjB,OAAO,IAAInB,EAAE,CAACoB,GAAG,CAACZ,OAAO,CAACa,KAAK,CAAC,CAAC;MACnC,CAAC;MAED;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;MACIC,iBAAiB,WAAAA,kBAAA,EAAG;QAClB,IAAIC,GAAG,GAAG,IAAI,CAACC,MAAM,CAAC,CAAC;UACrBC,cAAc;QAEhB,IAAI,IAAI,CAACC,cAAc,CAAC,CAAC,EAAE;UACzBD,cAAc,GAAG,IAAI,CAACE,cAAc,CAAC,IAAI,CAACD,cAAc,CAAC,CAAC,CAAC;UAC3DH,GAAG,GAAGvB,EAAE,CAAC4B,IAAI,CAACC,GAAG,CAACC,iBAAiB,CAACP,GAAG,EAAEE,cAAc,CAAC;QAC1D;QAEA,IAAI,CAAC,IAAI,CAACM,QAAQ,CAAC,CAAC,EAAE;UACpB;UACAR,GAAG,GAAGvB,EAAE,CAAC4B,IAAI,CAACC,GAAG,CAACC,iBAAiB,CAACP,GAAG,EAAE;YACvCS,OAAO,EAAE,IAAIC,IAAI,CAAC,CAAC,CAACC,OAAO,CAAC;UAC9B,CAAC,CAAC;QACJ;QAEA,OAAOX,GAAG;MACZ,CAAC;MAED;AACJ;AACA;AACA;AACA;AACA;AACA;MACIY,kBAAkB,WAAAA,mBAAA,EAAG;QACnB,OAAO,IAAI,CAACC,UAAU,CAACC,YAAY;MACrC,CAAC;MAED;AACJ;AACA;AACA;AACA;MAEI;AACJ;AACA;AACA;AACA;AACA;AACA;MACIC,gBAAgB,WAAAA,iBAACC,KAAK,EAAE;QACtB,IAAI,CAACH,UAAU,CAACE,gBAAgB,CAACC,KAAK,CAAC;MACzC,CAAC;MAED;AACJ;AACA;AACA;AACA;AACA;AACA;MACIC,eAAe,WAAAA,gBAACC,IAAI,EAAE;QACpB,IAAI,CAACL,UAAU,CAACI,eAAe,CAACC,IAAI,CAAC;MACvC;IACF;EACF,CAAC,CAAC;EA7MFzC,EAAE,CAACO,EAAE,CAACC,OAAO,CAACa,KAAK,CAAClB,aAAa,GAAGA,aAAa;AAAC"
}