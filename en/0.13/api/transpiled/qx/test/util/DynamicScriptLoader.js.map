{
  "version": 3,
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "extend",
    "dev",
    "unit",
    "TestCase",
    "members",
    "setUp",
    "test",
    "DYNAMICSCRIPTTEST",
    "tearDown",
    "test1DynamicParallelLoading",
    "_this",
    "l1",
    "util",
    "DynamicScriptLoader",
    "l2",
    "l1Ready",
    "l2Ready",
    "addListenerOnce",
    "resume",
    "assertTrue",
    "assertEquals",
    "second",
    "third",
    "start",
    "wait",
    "test2DoNotLoadAgain",
    "_this2",
    "loader",
    "noEvent",
    "checkId",
    "addListener",
    "e",
    "getData",
    "status",
    "test3FailToLoad",
    "_this3",
    "data",
    "script",
    "test4DoubleStart",
    "message"
  ],
  "sources": [
    "/home/runner/work/CometVisu/CometVisu/node_modules/@qooxdoo/framework/source/class/qx/test/util/DynamicScriptLoader.js"
  ],
  "sourcesContent": [
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2016 Visionet GmbH, http://www.visionet.de\n     2016 OETIKER+PARTNER AG, https://www.oetiker.ch\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Dietrich Streifert (level420)\n     * Tobias Oetiker (oetiker)\n\n************************************************************************ */\n\n/* ************************************************************************\n ************************************************************************ */\n/**\n *\n * @asset(qx/test/dynamicscriptloader/*)\n *\n * @ignore(qx.test.DYNAMICSCRIPTTEST.*)\n * @ignore(qx.dynamicScriptLoadTest.*)\n */\n\nqx.Class.define(\"qx.test.util.DynamicScriptLoader\", {\n  extend: qx.dev.unit.TestCase,\n\n  members: {\n    setUp() {\n      if (qx.test.DYNAMICSCRIPTTEST) {\n        delete qx.test.DYNAMICSCRIPTTEST;\n      }\n    },\n\n    tearDown() {\n      if (qx.test.DYNAMICSCRIPTTEST) {\n        delete qx.test.DYNAMICSCRIPTTEST;\n      }\n    },\n\n    \"test 1: dynamic parallel loading\"() {\n      var l1 = new qx.util.DynamicScriptLoader([\n        \"qx/test/dynamicscriptloader/first.js\",\n        \"qx/test/dynamicscriptloader/second.js\",\n        \"qx/test/dynamicscriptloader/third.js\"\n      ]);\n\n      var l2 = new qx.util.DynamicScriptLoader([\n        \"qx/test/dynamicscriptloader/first.js\",\n        \"qx/test/dynamicscriptloader/second.js\"\n      ]);\n\n      var l1Ready = false;\n      var l2Ready = false;\n      l1.addListenerOnce(\"ready\", () => {\n        l1Ready = true;\n        this.resume(function () {\n          this.assertTrue(l1Ready && l2Ready);\n          this.assertEquals(\n            qx.test.DYNAMICSCRIPTTEST.second.third,\n            \"dynamically loaded\"\n          );\n        }, this);\n      });\n\n      l2.addListenerOnce(\"ready\", () => {\n        l2Ready = true;\n        this.assertTrue(!l1Ready && l2Ready);\n      });\n\n      l1.start();\n      l2.start();\n      this.wait();\n    },\n\n    \"test 2: do not load again\"() {\n      var loader = new qx.util.DynamicScriptLoader([\n        \"qx/test/dynamicscriptloader/first.js\",\n        \"qx/test/dynamicscriptloader/second.js\",\n        \"qx/test/dynamicscriptloader/third.js\"\n      ]);\n\n      var noEvent = true;\n      var checkId = loader.addListener(\"loaded\", function (e) {\n        if (e.getData().status !== \"preloaded\") {\n          noEvent = false;\n        }\n      });\n      loader.addListenerOnce(\"ready\", () => {\n        this.assertTrue(noEvent);\n      });\n\n      loader.start();\n    },\n    \"test 3: fail to load\"() {\n      var loader = new qx.util.DynamicScriptLoader([\n        \"qx/test/dynamicscriptloader/xyc.js\"\n      ]);\n\n      loader.addListenerOnce(\"failed\", e => {\n        var data = e.getData();\n        this.resume(function () {\n          this.assertEquals(data.script, \"qx/test/dynamicscriptloader/xyc.js\");\n        }, this);\n      });\n\n      loader.start();\n      this.wait();\n    },\n    \"test 4: double start\"() {\n      var loader = new qx.util.DynamicScriptLoader(\n        \"qx/test/dynamicscriptloader/first.js\"\n      );\n\n      loader.start();\n      try {\n        loader.start();\n      } catch (e) {\n        this.assertEquals(\n          e.message,\n          \"you can only call start once per instance\"\n        );\n      }\n    }\n  }\n});\n"
  ],
  "mappings": "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",
  "ignoreList": []
}