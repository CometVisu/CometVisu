{
  "version": 3,
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "extend",
    "test",
    "mobile",
    "MobileTestCase",
    "include",
    "dev",
    "unit",
    "MMock",
    "members",
    "testInit",
    "model",
    "data",
    "Array",
    "model2",
    "menu",
    "ui",
    "dialog",
    "Menu",
    "setSelectedIndex",
    "setItems",
    "destroy",
    "testSetListHeight",
    "visibleItems",
    "setVisibleListItems",
    "show",
    "expected",
    "getSelectionList",
    "getListItemHeight",
    "listHeight",
    "bom",
    "element",
    "Style",
    "get",
    "_getListScroller",
    "getContentElement",
    "Math",
    "floor",
    "parseFloat",
    "assertEquals",
    "testMaxListHeight",
    "stub",
    "Dimension",
    "parentHeight",
    "Popup",
    "ROOT",
    "getHeight",
    "parseInt",
    "expectedListHeight",
    "restore"
  ],
  "sources": [
    "/home/runner/work/CometVisu/CometVisu/node_modules/@qooxdoo/framework/source/class/qx/test/mobile/dialog/Menu.js"
  ],
  "sourcesContent": [
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2011 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Christopher Zuendorf (czuendorf)\n\n************************************************************************ */\n\nqx.Class.define(\"qx.test.mobile.dialog.Menu\", {\n  extend: qx.test.mobile.MobileTestCase,\n  include: [qx.dev.unit.MMock],\n\n  members: {\n    testInit() {\n      // SMOKE TEST for menu.\n      var model = new qx.data.Array([\"item1\", \"item2\", \"item3\"]);\n      var model2 = new qx.data.Array([\"item4\", \"item5\", \"item6\"]);\n\n      var menu = new qx.ui.mobile.dialog.Menu(model);\n      menu.setSelectedIndex(2);\n\n      menu.setItems(model2);\n      menu.setSelectedIndex(1);\n\n      menu.destroy();\n    },\n\n    testSetListHeight() {\n      var model = new qx.data.Array([\"item1\", \"item2\", \"item3\"]);\n\n      var menu = new qx.ui.mobile.dialog.Menu(model);\n\n      var visibleItems = 2;\n\n      menu.setVisibleListItems(visibleItems);\n      menu.show();\n\n      var expected = menu.getSelectionList().getListItemHeight() * visibleItems;\n\n      var listHeight = qx.bom.element.Style.get(\n        menu._getListScroller().getContentElement(),\n        \"height\"\n      );\n\n      listHeight = Math.floor(parseFloat(listHeight, 10) * 100);\n      expected = Math.floor(expected * 100);\n\n      this.assertEquals(listHeight, expected);\n\n      menu.destroy();\n    },\n\n    testMaxListHeight() {\n      var stub = this.stub(qx.bom.element.Dimension, \"getHeight\", function () {\n        return 500;\n      });\n\n      var model = new qx.data.Array([\n        \"item1\",\n        \"item2\",\n        \"item3\",\n        \"item1\",\n        \"item2\",\n        \"item3\",\n        \"item1\",\n        \"item2\",\n        \"item3\",\n        \"item1\",\n        \"item2\",\n        \"item3\",\n        \"item2\",\n        \"item3\",\n        \"item2\",\n        \"item3\",\n        \"item1\",\n        \"item2\",\n        \"item3\",\n        \"item1\",\n        \"item2\",\n        \"item3\"\n      ]);\n\n      var menu = new qx.ui.mobile.dialog.Menu(model);\n\n      menu.setVisibleListItems(1000);\n      menu.show();\n\n      var parentHeight = qx.ui.mobile.dialog.Popup.ROOT.getHeight();\n      parentHeight = parseInt(parentHeight, 10);\n      parentHeight = parentHeight * 0.75;\n\n      var expectedListHeight = parseInt(parentHeight, 10);\n\n      var listHeight = qx.bom.element.Style.get(\n        menu._getListScroller().getContentElement(),\n        \"height\"\n      );\n\n      listHeight = parseInt(listHeight, 10);\n\n      this.assertEquals(expectedListHeight, listHeight);\n\n      menu.destroy();\n      stub.restore();\n    }\n  }\n});\n"
  ],
  "mappings": "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",
  "ignoreList": []
}