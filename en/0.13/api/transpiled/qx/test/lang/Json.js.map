{
  "version": 3,
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "extend",
    "dev",
    "unit",
    "TestCase",
    "members",
    "setUp",
    "JSON",
    "lang",
    "Json",
    "testStringifyArray",
    "text",
    "stringify",
    "pluribus",
    "assertEquals",
    "testFormattingString",
    "str",
    "expected",
    "assertMatch",
    "testFormattingNumber",
    "testReplacer",
    "obj",
    "Date",
    "self",
    "replacer",
    "key",
    "value",
    "getTime",
    "json",
    "testReplacerNestedObject",
    "prop",
    "testReplacerWhiteList",
    "list",
    "name",
    "last",
    "testStringifyObject",
    "test",
    "testStringifyDate",
    "data",
    "start",
    "RegExp",
    "testCustomDateSerializer",
    "date",
    "toJSON",
    "valueOf",
    "result",
    "assert",
    "charCodeAt",
    "testToJson",
    "testToJsonKey",
    "isFirefox",
    "isIe8",
    "RequirementError",
    "juhu",
    "testStringifyRecursiveObject",
    "foo",
    "assertException",
    "testIgnoreNamedPropertiesInArrays",
    "testIgnoreFunction",
    "testSimpleParse",
    "parse",
    "sort",
    "toString",
    "Object",
    "keys",
    "age",
    "assertArrayEquals",
    "testParseNumber",
    "testParseRevive",
    "core",
    "Environment",
    "get"
  ],
  "sources": [
    "/home/runner/work/CometVisu/CometVisu/node_modules/@qooxdoo/framework/source/class/qx/test/lang/Json.js"
  ],
  "sourcesContent": [
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2007-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Fabian Jakobs (fjakobs)\n\n************************************************************************ */\n\nqx.Class.define(\"qx.test.lang.Json\", {\n  extend: qx.dev.unit.TestCase,\n\n  members: {\n    setUp() {\n      // Test either native (when available) or emulated JSON,\n      // see [BUG #5037]\n      this.JSON = qx.lang.Json;\n    },\n\n    testStringifyArray() {\n      var text = this.JSON.stringify([\"e\", { pluribus: \"unum\" }]);\n      this.assertEquals('[\"e\",{\"pluribus\":\"unum\"}]', text);\n    },\n\n    testFormattingString() {\n      var str = this.JSON.stringify([\"e\", { pluribus: \"unum\" }], null, \"\\t\");\n      var expected = /[\\n\\t\"e\",\\n\\t{\\n\\t\\t\"pluribus\":\\s?\"unum\"\\n\\t}\\n]/;\n      this.assertMatch(str, expected);\n    },\n\n    testFormattingNumber() {\n      var str = this.JSON.stringify([\"e\", { pluribus: \"unum\" }], null, 2);\n      var expected = /[\\n  \"e\",\\n  {\\n    \"pluribus\":\\s\"unum\"\\n  }\\n]/;\n      this.assertMatch(str, expected);\n    },\n\n    testReplacer() {\n      var obj = [new Date(0), \"foo\"];\n\n      var self = this;\n      var replacer = function (key, value) {\n        return this[key] instanceof Date\n          ? \"Date(\" + this[key].getTime() + \")\"\n          : value;\n      };\n\n      var json = this.JSON.stringify(obj, replacer);\n      this.assertEquals('[\"Date(0)\",\"foo\"]', json);\n    },\n\n    // Uncovers browser bug found in Firefox >=3.5 && < 4, see\n    // https://bugzilla.mozilla.org/show_bug.cgi?id=509184\n    testReplacerNestedObject() {\n      var obj = { prop: \"value\" };\n\n      var replacer = function (key, value) {\n        if (value == \"value\") {\n          return \"replaced\";\n        }\n        return value;\n      };\n\n      var json = this.JSON.stringify(obj, replacer);\n      this.assertMatch(json, /replaced/);\n    },\n\n    testReplacerWhiteList() {\n      var list = [\"name\"];\n      var text = this.JSON.stringify({ name: \"Peter\", last: \"Pan\" }, list);\n\n      this.assertEquals('{\"name\":\"Peter\"}', text);\n    },\n\n    testStringifyObject() {\n      this.assertEquals('{\"test\":123}', this.JSON.stringify({ test: 123 }));\n    },\n\n    testStringifyDate() {\n      var data = {\n        start: new Date(0)\n      };\n\n      this.assertMatch(\n        this.JSON.stringify(data),\n        new RegExp('{\"start\":\"1970-01-01T00:00:00(.0*)?Z\"}')\n      );\n    },\n\n    testCustomDateSerializer() {\n      var date = new Date(0);\n      date.toJSON = function (key) {\n        return this.valueOf();\n      };\n\n      var result = this.JSON.stringify(date);\n\n      // Expected '0' but found '0'! in Opera\n      // this.assertEquals(\"0\", result);\n\n      this.assert(\"0\".charCodeAt() == result.charCodeAt());\n    },\n\n    testToJson() {\n      var obj = {\n        toJSON(key) {\n          return \"##\";\n        }\n      };\n\n      this.assertEquals('\"##\"', this.JSON.stringify(obj));\n    },\n\n    testToJsonKey() {\n      // Known to fail in some browsers:\n      //\n      // Firefox: toJSON is passed no parameter, i.e. key is undefined\n      //          undefined + \"\" is \"undefined\" in Firefox\n      //\n      // IE 8:    toJSON is passed the string \"\\u0082\\u0000\\u0000\\u0000\",\n      //          which is the equivalent of \"BREAK PERMITTED HERE\" and two\n      //          \"NUL\".\n      //\n      if (this.isFirefox() || this.isIe8()) {\n        throw new qx.dev.unit.RequirementError();\n      }\n\n      var obj = {\n        toJSON(key) {\n          return \"#\" + key + \"#\";\n        }\n      };\n\n      var str = this.JSON.stringify({ juhu: obj });\n      this.assertMatch(str, /#juhu#/);\n    },\n\n    testStringifyRecursiveObject() {\n      var obj = {};\n      obj.foo = obj;\n\n      this.assertException(function () {\n        var text = this.JSON.stringify(obj);\n      });\n\n      obj = [];\n      obj[0] = obj;\n\n      this.assertException(function () {\n        var text = this.JSON.stringify(obj);\n      });\n    },\n\n    testIgnoreNamedPropertiesInArrays() {\n      var data = [1, \"foo\"];\n      data.juhu = \"kinners\"; // must be ignored\n\n      this.assertEquals('[1,\"foo\"]', this.JSON.stringify(data));\n    },\n\n    testIgnoreFunction() {\n      var data = {\n        juhu: \"kinners\",\n        foo() {}\n      };\n\n      this.assertEquals('{\"juhu\":\"kinners\"}', this.JSON.stringify(data));\n    },\n\n    testSimpleParse() {\n      var data = this.JSON.parse('{\"juhu\":\"kinners\",\"age\":23,\"foo\":[1,2,3]}');\n\n      // check keys\n      this.assertEquals(\n        [\"juhu\", \"foo\", \"age\"].sort().toString(),\n        Object.keys(data).sort().toString()\n      );\n\n      // check values\n      this.assertEquals(\"kinners\", data.juhu);\n      this.assertEquals(23, data.age);\n      this.assertArrayEquals([1, 2, 3], data.foo);\n    },\n\n    testParseNumber() {\n      this.assertEquals(1234, this.JSON.parse(\"1234\"));\n      this.assertEquals(1234, this.JSON.parse(\" 1234\"));\n    },\n\n    testParseRevive() {\n      var json = '{\"prop\": \"value\"}';\n\n      var obj = this.JSON.parse(json, function (key, value) {\n        if (value == \"value\") {\n          return \"revived\";\n        }\n        return value;\n      });\n\n      this.assertEquals(\"revived\", obj.prop);\n    },\n\n    isIe8() {\n      return (\n        qx.core.Environment.get(\"engine.name\") === \"mshtml\" &&\n        (qx.core.Environment.get(\"engine.version\") == 8 ||\n          qx.core.Environment.get(\"browser.documentmode\") == 8)\n      );\n    },\n\n    isFirefox() {\n      return qx.core.Environment.get(\"engine.name\") === \"gecko\";\n    }\n  }\n});\n"
  ],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;EAAAA,EAAE,CAACC,SAAS,CAACC,oBAAoB,CAACC,aAAa,CAAC;EAAhD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;EAEAH,EAAE,CAACI,KAAK,CAACC,MAAM,CAAC,mBAAmB,EAAE;IACnCC,MAAM,EAAEN,EAAE,CAACO,GAAG,CAACC,IAAI,CAACC,QAAQ;IAE5BC,OAAO,EAAE;MACPC,KAAK,WAALA,KAAKA,CAAA,EAAG;QACN;QACA;QACA,IAAI,CAACC,IAAI,GAAGZ,EAAE,CAACa,IAAI,CAACC,IAAI;MAC1B,CAAC;MAEDC,kBAAkB,WAAlBA,kBAAkBA,CAAA,EAAG;QACnB,IAAIC,IAAI,GAAG,IAAI,CAACJ,IAAI,CAACK,SAAS,CAAC,CAAC,GAAG,EAAE;UAAEC,QAAQ,EAAE;QAAO,CAAC,CAAC,CAAC;QAC3D,IAAI,CAACC,YAAY,CAAC,2BAA2B,EAAEH,IAAI,CAAC;MACtD,CAAC;MAEDI,oBAAoB,WAApBA,oBAAoBA,CAAA,EAAG;QACrB,IAAIC,GAAG,GAAG,IAAI,CAACT,IAAI,CAACK,SAAS,CAAC,CAAC,GAAG,EAAE;UAAEC,QAAQ,EAAE;QAAO,CAAC,CAAC,EAAE,IAAI,EAAE,IAAI,CAAC;QACtE,IAAII,QAAQ,GAAG,kDAAkD;QACjE,IAAI,CAACC,WAAW,CAACF,GAAG,EAAEC,QAAQ,CAAC;MACjC,CAAC;MAEDE,oBAAoB,WAApBA,oBAAoBA,CAAA,EAAG;QACrB,IAAIH,GAAG,GAAG,IAAI,CAACT,IAAI,CAACK,SAAS,CAAC,CAAC,GAAG,EAAE;UAAEC,QAAQ,EAAE;QAAO,CAAC,CAAC,EAAE,IAAI,EAAE,CAAC,CAAC;QACnE,IAAII,QAAQ,GAAG,iDAAiD;QAChE,IAAI,CAACC,WAAW,CAACF,GAAG,EAAEC,QAAQ,CAAC;MACjC,CAAC;MAEDG,YAAY,WAAZA,YAAYA,CAAA,EAAG;QACb,IAAIC,GAAG,GAAG,CAAC,IAAIC,IAAI,CAAC,CAAC,CAAC,EAAE,KAAK,CAAC;QAE9B,IAAIC,IAAI,GAAG,IAAI;QACf,IAAIC,QAAQ,GAAG,SAAXA,QAAQA,CAAaC,GAAG,EAAEC,KAAK,EAAE;UACnC,OAAO,IAAI,CAACD,GAAG,CAAC,YAAYH,IAAI,GAC5B,OAAO,GAAG,IAAI,CAACG,GAAG,CAAC,CAACE,OAAO,CAAC,CAAC,GAAG,GAAG,GACnCD,KAAK;QACX,CAAC;QAED,IAAIE,IAAI,GAAG,IAAI,CAACrB,IAAI,CAACK,SAAS,CAACS,GAAG,EAAEG,QAAQ,CAAC;QAC7C,IAAI,CAACV,YAAY,CAAC,mBAAmB,EAAEc,IAAI,CAAC;MAC9C,CAAC;MAED;MACA;MACAC,wBAAwB,WAAxBA,wBAAwBA,CAAA,EAAG;QACzB,IAAIR,GAAG,GAAG;UAAES,IAAI,EAAE;QAAQ,CAAC;QAE3B,IAAIN,QAAQ,GAAG,SAAXA,QAAQA,CAAaC,GAAG,EAAEC,KAAK,EAAE;UACnC,IAAIA,KAAK,IAAI,OAAO,EAAE;YACpB,OAAO,UAAU;UACnB;UACA,OAAOA,KAAK;QACd,CAAC;QAED,IAAIE,IAAI,GAAG,IAAI,CAACrB,IAAI,CAACK,SAAS,CAACS,GAAG,EAAEG,QAAQ,CAAC;QAC7C,IAAI,CAACN,WAAW,CAACU,IAAI,EAAE,UAAU,CAAC;MACpC,CAAC;MAEDG,qBAAqB,WAArBA,qBAAqBA,CAAA,EAAG;QACtB,IAAIC,IAAI,GAAG,CAAC,MAAM,CAAC;QACnB,IAAIrB,IAAI,GAAG,IAAI,CAACJ,IAAI,CAACK,SAAS,CAAC;UAAEqB,IAAI,EAAE,OAAO;UAAEC,IAAI,EAAE;QAAM,CAAC,EAAEF,IAAI,CAAC;QAEpE,IAAI,CAAClB,YAAY,CAAC,kBAAkB,EAAEH,IAAI,CAAC;MAC7C,CAAC;MAEDwB,mBAAmB,WAAnBA,mBAAmBA,CAAA,EAAG;QACpB,IAAI,CAACrB,YAAY,CAAC,cAAc,EAAE,IAAI,CAACP,IAAI,CAACK,SAAS,CAAC;UAAEwB,IAAI,EAAE;QAAI,CAAC,CAAC,CAAC;MACvE,CAAC;MAEDC,iBAAiB,WAAjBA,iBAAiBA,CAAA,EAAG;QAClB,IAAIC,IAAI,GAAG;UACTC,KAAK,EAAE,IAAIjB,IAAI,CAAC,CAAC;QACnB,CAAC;QAED,IAAI,CAACJ,WAAW,CACd,IAAI,CAACX,IAAI,CAACK,SAAS,CAAC0B,IAAI,CAAC,EACzB,IAAIE,MAAM,CAAC,wCAAwC,CACrD,CAAC;MACH,CAAC;MAEDC,wBAAwB,WAAxBA,wBAAwBA,CAAA,EAAG;QACzB,IAAIC,IAAI,GAAG,IAAIpB,IAAI,CAAC,CAAC,CAAC;QACtBoB,IAAI,CAACC,MAAM,GAAG,UAAUlB,GAAG,EAAE;UAC3B,OAAO,IAAI,CAACmB,OAAO,CAAC,CAAC;QACvB,CAAC;QAED,IAAIC,MAAM,GAAG,IAAI,CAACtC,IAAI,CAACK,SAAS,CAAC8B,IAAI,CAAC;;QAEtC;QACA;;QAEA,IAAI,CAACI,MAAM,CAAC,GAAG,CAACC,UAAU,CAAC,CAAC,IAAIF,MAAM,CAACE,UAAU,CAAC,CAAC,CAAC;MACtD,CAAC;MAEDC,UAAU,WAAVA,UAAUA,CAAA,EAAG;QACX,IAAI3B,GAAG,GAAG;UACRsB,MAAM,WAANA,MAAMA,CAAClB,GAAG,EAAE;YACV,OAAO,IAAI;UACb;QACF,CAAC;QAED,IAAI,CAACX,YAAY,CAAC,MAAM,EAAE,IAAI,CAACP,IAAI,CAACK,SAAS,CAACS,GAAG,CAAC,CAAC;MACrD,CAAC;MAED4B,aAAa,WAAbA,aAAaA,CAAA,EAAG;QACd;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,IAAI,IAAI,CAACC,SAAS,CAAC,CAAC,IAAI,IAAI,CAACC,KAAK,CAAC,CAAC,EAAE;UACpC,MAAM,IAAIxD,EAAE,CAACO,GAAG,CAACC,IAAI,CAACiD,gBAAgB,CAAC,CAAC;QAC1C;QAEA,IAAI/B,GAAG,GAAG;UACRsB,MAAM,WAANA,MAAMA,CAAClB,GAAG,EAAE;YACV,OAAO,GAAG,GAAGA,GAAG,GAAG,GAAG;UACxB;QACF,CAAC;QAED,IAAIT,GAAG,GAAG,IAAI,CAACT,IAAI,CAACK,SAAS,CAAC;UAAEyC,IAAI,EAAEhC;QAAI,CAAC,CAAC;QAC5C,IAAI,CAACH,WAAW,CAACF,GAAG,EAAE,QAAQ,CAAC;MACjC,CAAC;MAEDsC,4BAA4B,WAA5BA,4BAA4BA,CAAA,EAAG;QAC7B,IAAIjC,GAAG,GAAG,CAAC,CAAC;QACZA,GAAG,CAACkC,GAAG,GAAGlC,GAAG;QAEb,IAAI,CAACmC,eAAe,CAAC,YAAY;UAC/B,IAAI7C,IAAI,GAAG,IAAI,CAACJ,IAAI,CAACK,SAAS,CAACS,GAAG,CAAC;QACrC,CAAC,CAAC;QAEFA,GAAG,GAAG,EAAE;QACRA,GAAG,CAAC,CAAC,CAAC,GAAGA,GAAG;QAEZ,IAAI,CAACmC,eAAe,CAAC,YAAY;UAC/B,IAAI7C,IAAI,GAAG,IAAI,CAACJ,IAAI,CAACK,SAAS,CAACS,GAAG,CAAC;QACrC,CAAC,CAAC;MACJ,CAAC;MAEDoC,iCAAiC,WAAjCA,iCAAiCA,CAAA,EAAG;QAClC,IAAInB,IAAI,GAAG,CAAC,CAAC,EAAE,KAAK,CAAC;QACrBA,IAAI,CAACe,IAAI,GAAG,SAAS,CAAC,CAAC;;QAEvB,IAAI,CAACvC,YAAY,CAAC,WAAW,EAAE,IAAI,CAACP,IAAI,CAACK,SAAS,CAAC0B,IAAI,CAAC,CAAC;MAC3D,CAAC;MAEDoB,kBAAkB,WAAlBA,kBAAkBA,CAAA,EAAG;QACnB,IAAIpB,IAAI,GAAG;UACTe,IAAI,EAAE,SAAS;UACfE,GAAG,WAAHA,GAAGA,CAAA,EAAG,CAAC;QACT,CAAC;QAED,IAAI,CAACzC,YAAY,CAAC,oBAAoB,EAAE,IAAI,CAACP,IAAI,CAACK,SAAS,CAAC0B,IAAI,CAAC,CAAC;MACpE,CAAC;MAEDqB,eAAe,WAAfA,eAAeA,CAAA,EAAG;QAChB,IAAIrB,IAAI,GAAG,IAAI,CAAC/B,IAAI,CAACqD,KAAK,CAAC,2CAA2C,CAAC;;QAEvE;QACA,IAAI,CAAC9C,YAAY,CACf,CAAC,MAAM,EAAE,KAAK,EAAE,KAAK,CAAC,CAAC+C,IAAI,CAAC,CAAC,CAACC,QAAQ,CAAC,CAAC,EACxCC,MAAM,CAACC,IAAI,CAAC1B,IAAI,CAAC,CAACuB,IAAI,CAAC,CAAC,CAACC,QAAQ,CAAC,CACpC,CAAC;;QAED;QACA,IAAI,CAAChD,YAAY,CAAC,SAAS,EAAEwB,IAAI,CAACe,IAAI,CAAC;QACvC,IAAI,CAACvC,YAAY,CAAC,EAAE,EAAEwB,IAAI,CAAC2B,GAAG,CAAC;QAC/B,IAAI,CAACC,iBAAiB,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE5B,IAAI,CAACiB,GAAG,CAAC;MAC7C,CAAC;MAEDY,eAAe,WAAfA,eAAeA,CAAA,EAAG;QAChB,IAAI,CAACrD,YAAY,CAAC,IAAI,EAAE,IAAI,CAACP,IAAI,CAACqD,KAAK,CAAC,MAAM,CAAC,CAAC;QAChD,IAAI,CAAC9C,YAAY,CAAC,IAAI,EAAE,IAAI,CAACP,IAAI,CAACqD,KAAK,CAAC,OAAO,CAAC,CAAC;MACnD,CAAC;MAEDQ,eAAe,WAAfA,eAAeA,CAAA,EAAG;QAChB,IAAIxC,IAAI,GAAG,mBAAmB;QAE9B,IAAIP,GAAG,GAAG,IAAI,CAACd,IAAI,CAACqD,KAAK,CAAChC,IAAI,EAAE,UAAUH,GAAG,EAAEC,KAAK,EAAE;UACpD,IAAIA,KAAK,IAAI,OAAO,EAAE;YACpB,OAAO,SAAS;UAClB;UACA,OAAOA,KAAK;QACd,CAAC,CAAC;QAEF,IAAI,CAACZ,YAAY,CAAC,SAAS,EAAEO,GAAG,CAACS,IAAI,CAAC;MACxC,CAAC;MAEDqB,KAAK,WAALA,KAAKA,CAAA,EAAG;QACN,OACExD,EAAE,CAAC0E,IAAI,CAACC,WAAW,CAACC,GAAG,CAAC,aAAa,CAAC,KAAK,QAAQ,KAClD5E,EAAE,CAAC0E,IAAI,CAACC,WAAW,CAACC,GAAG,CAAC,gBAAgB,CAAC,IAAI,CAAC,IAC7C5E,EAAE,CAAC0E,IAAI,CAACC,WAAW,CAACC,GAAG,CAAC,sBAAsB,CAAC,IAAI,CAAC,CAAC;MAE3D,CAAC;MAEDrB,SAAS,WAATA,SAASA,CAAA,EAAG;QACV,OAAOvD,EAAE,CAAC0E,IAAI,CAACC,WAAW,CAACC,GAAG,CAAC,aAAa,CAAC,KAAK,OAAO;MAC3D;IACF;EACF,CAAC,CAAC;EA9NF5E,EAAE,CAACyC,IAAI,CAAC5B,IAAI,CAACC,IAAI,CAACX,aAAa,GAAGA,aAAa;AAAC",
  "ignoreList": []
}