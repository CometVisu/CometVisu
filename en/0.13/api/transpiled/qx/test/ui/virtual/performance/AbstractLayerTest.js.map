{
  "version": 3,
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "extend",
    "test",
    "ui",
    "LayoutTestCase",
    "type",
    "construct",
    "constructor",
    "call",
    "rowCount",
    "rowHeight",
    "colCount",
    "colWidth",
    "members",
    "ITERATIONS",
    "setUp",
    "layer",
    "getLayer",
    "set",
    "width",
    "height",
    "getRoot",
    "add",
    "flush",
    "rowSizes",
    "i",
    "push",
    "colSizes",
    "tearDown",
    "destroy",
    "Error",
    "testFullUpdateSameWindow",
    "profile",
    "fullUpdate",
    "testFullUpdateScrollDown",
    "startRow",
    "testUpdateLayerWindowScrollDown",
    "updateLayerWindow",
    "testUpdateLayerWindowScrollRight",
    "startCol",
    "testUpdateLayerData",
    "updateLayerData",
    "name",
    "fcn",
    "context",
    "count",
    "window",
    "console",
    "classname",
    "times",
    "l",
    "start",
    "Date",
    "duration",
    "sort",
    "a",
    "b",
    "avg",
    "Math",
    "round",
    "lang",
    "Array",
    "sum",
    "slice",
    "length",
    "warn",
    "join",
    "profileEnd",
    "virtual",
    "performance",
    "AbstractLayerTest"
  ],
  "sources": [
    "/home/runner/work/CometVisu/CometVisu/node_modules/@qooxdoo/framework/source/class/qx/test/ui/virtual/performance/AbstractLayerTest.js"
  ],
  "sourcesContent": [
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2009 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Jonathan Wei√ü (jonathan_rass)\n\n************************************************************************ */\n\nqx.Class.define(\"qx.test.ui.virtual.performance.AbstractLayerTest\", {\n  extend: qx.test.ui.LayoutTestCase,\n  type: \"abstract\",\n\n  construct() {\n    super();\n\n    this.rowCount = 30;\n    this.rowHeight = 20;\n    this.colCount = 20;\n    this.colWidth = 40;\n  },\n\n  members: {\n    ITERATIONS: 2, // was 24\n\n    setUp() {\n      this.layer = this.getLayer().set({\n        width: 1000,\n        height: 1000\n      });\n\n      this.getRoot().add(this.layer);\n      this.flush();\n\n      this.rowSizes = [];\n      for (var i = 0; i < this.rowCount; i++) {\n        this.rowSizes.push(this.rowHeight);\n      }\n\n      this.colSizes = [];\n      for (var i = 0; i < this.colCount; i++) {\n        this.colSizes.push(this.colWidth);\n      }\n    },\n\n    tearDown() {\n      this.layer.destroy();\n    },\n\n    getLayer() {\n      // throw an exception if the method is called on the abstract class\n      throw new Error(\n        \"Abstract method call (getLayer) in 'AbstractLayerTest'!\"\n      );\n    },\n\n    testFullUpdateSameWindow() {\n      this.profile(\n        \"fullUpdate (same window)\",\n        function () {\n          this.layer.fullUpdate(0, 0, this.rowSizes, this.colSizes);\n        },\n        this,\n        this.ITERATIONS\n      );\n    },\n\n    testFullUpdateScrollDown() {\n      var startRow = 0;\n\n      this.profile(\n        \"fullUpdate (scroll)\",\n        function () {\n          this.layer.fullUpdate(startRow, 0, this.rowSizes, this.colSizes);\n          startRow++;\n        },\n        this,\n        this.ITERATIONS\n      );\n    },\n\n    testUpdateLayerWindowScrollDown() {\n      var startRow = 0;\n\n      this.profile(\n        \"scroll down 10 lines\",\n        function () {\n          this.layer.updateLayerWindow(\n            startRow,\n            0,\n            this.rowSizes,\n            this.colSizes\n          );\n\n          startRow += 10;\n        },\n        this,\n        this.ITERATIONS\n      );\n    },\n\n    testUpdateLayerWindowScrollRight() {\n      var startCol = 0;\n\n      this.profile(\n        \"scroll right 10 columns\",\n        function () {\n          this.layer.updateLayerWindow(\n            0,\n            startCol,\n            this.rowSizes,\n            this.colSizes\n          );\n\n          startCol += 10;\n        },\n        this,\n        this.ITERATIONS\n      );\n    },\n\n    testUpdateLayerData() {\n      this.layer.fullUpdate(0, 0, this.rowSizes, this.colSizes);\n      this.flush();\n\n      this.profile(\n        \"update layer data\",\n        function () {\n          this.layer.updateLayerData();\n        },\n        this,\n        this.ITERATIONS\n      );\n    },\n\n    profile(name, fcn, context, count) {\n      if (window.console && window.console.profile) {\n        console.profile(name + \"; \" + this.classname);\n      }\n\n      var times = [];\n      for (var i = 0, l = count; i < l; i++) {\n        var start = new Date();\n\n        fcn.call(context);\n        this.flush();\n\n        var duration = new Date() - start;\n        times.push(duration);\n      }\n      times.sort(function (a, b) {\n        return a < b ? -1 : 1;\n      });\n      var avg = Math.round(\n        qx.lang.Array.sum(times.slice(1, -1)) / (times.length - 2)\n      );\n\n      //this.warn(\";\" + name + \"; avg(\" + avg + \"ms); \" + times.join(\"ms; \") + \"ms;\");\n      this.warn(\";\" + name + \";avg:\" + avg + \";\" + times.join(\";\"));\n\n      if (window.console && window.console.profile) {\n        console.profileEnd(name + \" \" + this.classname);\n      }\n    }\n  }\n});\n"
  ],
  "mappings": "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",
  "ignoreList": []
}