{
  "version": 3,
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "extend",
    "test",
    "ui",
    "list",
    "AbstractListTest",
    "members",
    "setUp",
    "core",
    "MultiSelection",
    "superclass",
    "prototype",
    "call",
    "_list",
    "setSelectionMode",
    "createModelData",
    "model",
    "data",
    "Array",
    "i",
    "push",
    "testSelection",
    "selection",
    "getSelection",
    "_model",
    "getItem",
    "flush",
    "assertEquals",
    "getLength",
    "expectedSelection",
    "assertDataArrayEquals",
    "dispose",
    "selectionFromManager",
    "_manager",
    "length",
    "_getDataFromRow",
    "testSelectionByUserInteraction",
    "replaceSelection",
    "assertTrue",
    "equals",
    "testSelectionEventByUserInteraction",
    "self",
    "assertEventFired",
    "e",
    "testSelectionWithSorter",
    "setDelegate",
    "sorter",
    "a",
    "b",
    "testOneSelection",
    "testOneSelectionByChangingModel",
    "oldModel",
    "copy",
    "removeAll",
    "setModel",
    "testOneSelectionWithEmptyModel"
  ],
  "sources": [
    "/home/runner/work/CometVisu/CometVisu/node_modules/@qooxdoo/framework/source/class/qx/test/ui/list/core/MultiSelection.js"
  ],
  "sourcesContent": [
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2010 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Christian Hagendorn (chris_schmidt)\n\n************************************************************************ */\n\nqx.Class.define(\"qx.test.ui.list.core.MultiSelection\", {\n  extend: qx.test.ui.list.AbstractListTest,\n\n  members: {\n    setUp() {\n      super.setUp();\n      this._list.setSelectionMode(\"multi\");\n    },\n\n    createModelData() {\n      var model = new qx.data.Array();\n\n      for (var i = 0; i < 100; i++) {\n        model.push(\"item \" + (i + 1));\n      }\n\n      return model;\n    },\n\n    testSelection() {\n      var selection = this._list.getSelection();\n      selection.push(this._model.getItem(1));\n      selection.push(this._model.getItem(2));\n      selection.push(this._model.getItem(3));\n      this.flush();\n\n      // check selection on list\n      this.assertEquals(3, this._list.getSelection().getLength(), \"On List\");\n      var expectedSelection = new qx.data.Array([\n        this._model.getItem(1),\n        this._model.getItem(2),\n        this._model.getItem(3)\n      ]);\n\n      this.assertDataArrayEquals(selection, expectedSelection, \"On List\");\n      expectedSelection.dispose();\n\n      // check selection on manager\n      var selectionFromManager = this._list._manager.getSelection();\n      for (var i = 0; i < selectionFromManager.length; i++) {\n        selectionFromManager[i] = this._list._getDataFromRow(\n          selectionFromManager[i]\n        );\n      }\n      this.assertEquals(3, selectionFromManager.length, \"On selection manager\");\n      expectedSelection = new qx.data.Array(selectionFromManager);\n      this.assertDataArrayEquals(\n        selection,\n        expectedSelection,\n        \"On selection manager\"\n      );\n\n      expectedSelection.dispose();\n    },\n\n    testSelectionByUserInteraction() {\n      var selection = this._list.getSelection();\n      this._list._manager.replaceSelection([2, 3, 4, 7, 8, 9]);\n      this.flush();\n\n      // check selection on manager\n      var selectionFromManager = this._list._manager.getSelection();\n      for (var i = 0; i < selectionFromManager.length; i++) {\n        selectionFromManager[i] = this._list._getDataFromRow(\n          selectionFromManager[i]\n        );\n      }\n      this.assertEquals(6, selectionFromManager.length, \"On selection manager\");\n      var expectedSelection = new qx.data.Array(selectionFromManager);\n      this.assertTrue(\n        selection.equals(expectedSelection),\n        \"On selection manager\"\n      );\n\n      expectedSelection.dispose();\n\n      // check selection on list\n      this.assertEquals(6, selection.getLength(), \"On List\");\n      expectedSelection = new qx.data.Array([\n        this._model.getItem(2),\n        this._model.getItem(3),\n        this._model.getItem(4),\n        this._model.getItem(7),\n        this._model.getItem(8),\n        this._model.getItem(9)\n      ]);\n\n      this.assertDataArrayEquals(selection, expectedSelection, \"On List\");\n      expectedSelection.dispose();\n    },\n\n    testSelectionEventByUserInteraction() {\n      var selection = this._list.getSelection();\n\n      var self = this;\n      this.assertEventFired(\n        selection,\n        \"change\",\n        function () {\n          self._list._manager.replaceSelection([2, 3, 4, 7, 8, 9]);\n          self.flush();\n        },\n        function (e) {\n          // check selection on manager\n          var selectionFromManager = self._list._manager.getSelection();\n          for (var i = 0; i < selectionFromManager.length; i++) {\n            selectionFromManager[i] = self._list._getDataFromRow(\n              selectionFromManager[i]\n            );\n          }\n          self.assertEquals(\n            6,\n            selectionFromManager.length,\n            \"On selection manager\"\n          );\n\n          var expectedSelection = new qx.data.Array(selectionFromManager);\n          self.assertDataArrayEquals(\n            selection,\n            expectedSelection,\n            \"On selection manager\"\n          );\n\n          expectedSelection.dispose();\n\n          // check selection on list\n          self.assertEquals(6, selection.getLength(), \"On List\");\n          expectedSelection = new qx.data.Array([\n            self._model.getItem(2),\n            self._model.getItem(3),\n            self._model.getItem(4),\n            self._model.getItem(7),\n            self._model.getItem(8),\n            self._model.getItem(9)\n          ]);\n\n          self.assertDataArrayEquals(selection, expectedSelection, \"On List\");\n          expectedSelection.dispose();\n        }\n      );\n    },\n\n    testSelectionWithSorter() {\n      this._list.setDelegate({\n        sorter(a, b) {\n          return a < b ? 1 : a > b ? -1 : 0;\n        }\n      });\n\n      this.testSelection();\n    },\n\n    testOneSelection() {\n      var selection = this._list.getSelection();\n\n      this.assertEquals(0, selection.getLength());\n\n      this._list.setSelectionMode(\"one\");\n\n      this.assertEquals(1, selection.getLength());\n      this.assertEquals(this._model.getItem(0), selection.getItem(0));\n    },\n\n    testOneSelectionByChangingModel() {\n      var selection = this._list.getSelection();\n\n      this.assertEquals(0, selection.getLength());\n\n      var oldModel = this._model.copy();\n      this._model.removeAll();\n\n      this._list.setSelectionMode(\"one\");\n      this.assertEquals(0, selection.getLength());\n\n      this._model.dispose();\n      this._model = oldModel;\n      this._list.setModel(this._model);\n\n      this.assertEquals(1, selection.getLength());\n      this.assertEquals(this._model.getItem(0), selection.getItem(0));\n    },\n\n    testOneSelectionWithEmptyModel() {\n      var selection = this._list.getSelection();\n      var oldModel = this._model.copy();\n      this._model.removeAll();\n      this._list.setSelectionMode(\"one\");\n\n      this.assertEquals(0, selection.getLength());\n\n      this._model.push(oldModel.getItem(2));\n\n      this.assertEquals(1, selection.getLength());\n      this.assertEquals(this._model.getItem(0), selection.getItem(0));\n      oldModel.dispose();\n    }\n  }\n});\n"
  ],
  "mappings": "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",
  "ignoreList": []
}