{
  "version": 3,
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "extend",
    "test",
    "ui",
    "LayoutTestCase",
    "members",
    "__iframe",
    "setUp",
    "embed",
    "Iframe",
    "set",
    "width",
    "height",
    "tearDown",
    "destroy",
    "testHiddenSetSourceInitial",
    "visibility",
    "getRoot",
    "add",
    "core",
    "queue",
    "Manager",
    "flush",
    "assertNotNull",
    "getContentElement",
    "getDomElement",
    "testHiddenSetSource",
    "_this",
    "hide",
    "src",
    "util",
    "ResourceManager",
    "getInstance",
    "toUri",
    "Uri",
    "getAbsolute",
    "setSource",
    "addListenerOnce",
    "resume",
    "assertEquals",
    "getSource",
    "getWindow",
    "location",
    "href",
    "wait",
    "testGetWindow",
    "_this2",
    "addListener",
    "testSyncSourceAfterDOMMove",
    "Environment",
    "get",
    "skip",
    "CI",
    "require",
    "env",
    "e",
    "rm",
    "src1",
    "src2",
    "iframe",
    "container0",
    "container",
    "Composite",
    "layout",
    "VBox",
    "container1",
    "container2",
    "flex",
    "window",
    "setTimeout",
    "innerText",
    "document",
    "body",
    "replace",
    "bind"
  ],
  "sources": [
    "/home/runner/work/CometVisu/CometVisu/node_modules/@qooxdoo/framework/source/class/qx/test/ui/embed/Iframe.js"
  ],
  "sourcesContent": [
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2007-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Alexander Steitz (aback)\n\n************************************************************************ */\n\nqx.Class.define(\"qx.test.ui.embed.Iframe\", {\n  extend: qx.test.ui.LayoutTestCase,\n\n  members: {\n    __iframe: null,\n\n    setUp() {\n      this.__iframe = new qx.ui.embed.Iframe();\n      this.__iframe.set({ width: 200, height: 500 });\n    },\n\n    tearDown() {\n      this.__iframe.destroy();\n    },\n\n    testHiddenSetSourceInitial() {\n      this.__iframe.set({\n        visibility: \"hidden\"\n      });\n\n      this.getRoot().add(this.__iframe);\n\n      qx.ui.core.queue.Manager.flush();\n      this.assertNotNull(this.__iframe.getContentElement().getDomElement());\n    },\n\n    testHiddenSetSource() {\n      this.getRoot().add(this.__iframe);\n\n      qx.ui.core.queue.Manager.flush();\n      this.__iframe.hide();\n      qx.ui.core.queue.Manager.flush();\n\n      var src = qx.util.ResourceManager.getInstance().toUri(\n        \"qx/static/blank.html\"\n      );\n\n      src = qx.util.Uri.getAbsolute(src);\n      this.__iframe.setSource(src);\n      qx.ui.core.queue.Manager.flush();\n\n      this.__iframe.addListenerOnce(\"load\", () => {\n        this.resume(function () {\n          this.assertEquals(\n            this.__iframe.getSource(),\n            this.__iframe.getWindow().location.href\n          );\n        });\n      });\n\n      this.wait(10000);\n    },\n\n    testGetWindow() {\n      this.getRoot().add(this.__iframe);\n\n      this.__iframe.addListener(\"load\", () => {\n        this.resume(function () {\n          this.assertNotNull(this.__iframe.getWindow());\n        }, this);\n      });\n\n      var src = qx.util.ResourceManager.getInstance().toUri(\n        \"qx/static/blank.html\"\n      );\n\n      this.__iframe.setSource(src);\n      this.wait(10000);\n    },\n\n    /** @ignore(require) */\n    testSyncSourceAfterDOMMove() {\n      // This breaks (very) frequently when run under headless chrome on Travis; we can't\n      //  track down the cause and it works just fine elsewhere.  Disabling this test on\n      //  Chrome is an effective quick hack until someone can figure it out.\n      if (qx.core.Environment.get(\"browser.name\") == \"chrome\") {\n        this.skip(\n          \"Optimization makes this test fail frequently for chrome - skipping\"\n        );\n      }\n\n      //  This also breaks on MacOS runners on GitHub with webkit\n      try {\n        let CI = require(\"process\").env.CI;\n        if (CI && qx.core.Environment.get(\"browser.name\") === \"webkit\") {\n          this.skip(\"Skipping for Webkit for MacOS\");\n        }\n      } catch (e) {} // not on GitHub\n\n      var rm = qx.util.ResourceManager.getInstance();\n      var src1 = rm.toUri(\"qx/static/blank.html\"); // <body></body>\n      var src2 = rm.toUri(\"qx/test/hello.html\"); // <body>Hello World!</body>\n\n      var iframe = this.__iframe;\n      var container0 = new qx.ui.container.Composite(new qx.ui.layout.VBox());\n      var container1 = new qx.ui.container.Composite(new qx.ui.layout.VBox());\n      var container2 = new qx.ui.container.Composite(new qx.ui.layout.VBox());\n\n      container0.add(container1, { flex: 1 });\n      container0.add(container2, { flex: 1 });\n      this.getRoot().add(container0);\n\n      iframe.setSource(src1); // \"qx/static/blank.html\"\n      container1.add(iframe, { flex: 1 });\n\n      // Move iframe to another DOM location after half a second\n      window.setTimeout(function () {\n        iframe.setSource(src2); // \"qx/test/hello.html\"\n        container2.add(iframe, { flex: 1 });\n      }, 500);\n\n      // Check iframe body content after one second\n      window.setTimeout(\n        function () {\n          this.resume(function () {\n            var innerText = iframe.getWindow().document.body.innerText;\n\n            // IE and edge deliver an extra blank at the end of\n            // body.innerText\n            if (\n              typeof innerText == \"string\" &&\n              (qx.core.Environment.get(\"browser.name\") == \"edge\" ||\n                qx.core.Environment.get(\"browser.name\") == \"ie\")\n            ) {\n              innerText = innerText.replace(/\\s$/gm, \"\");\n            }\n            this.assertEquals(\"Hello World!\", innerText);\n          });\n        }.bind(this),\n        4000\n      );\n\n      this.wait(10000);\n    }\n  }\n});\n"
  ],
  "mappings": "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",
  "ignoreList": []
}