{
  "version": 3,
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "extend",
    "dev",
    "unit",
    "TestCase",
    "include",
    "MMock",
    "members",
    "__m",
    "setUp",
    "event",
    "Messaging",
    "testTwoChannels",
    "handlerGet",
    "spy",
    "handlerPost",
    "ctx",
    "a",
    "data",
    "on",
    "emit",
    "assertCalledOnce",
    "assertCalledOn",
    "assertCalledWith",
    "customData",
    "params",
    "path",
    "assertNotCalled",
    "testGet",
    "handler",
    "testRegExp",
    "testGetAll",
    "assertCalledTwice",
    "testAny",
    "onAny",
    "testTwice",
    "testParam",
    "undefined",
    "id",
    "testMultipleParam",
    "name",
    "testRemove",
    "remove",
    "testHas",
    "assertTrue",
    "has",
    "assertFalse",
    "test"
  ],
  "sources": [
    "/home/runner/work/CometVisu/CometVisu/node_modules/@qooxdoo/framework/source/class/qx/test/event/Messaging.js"
  ],
  "sourcesContent": [
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2007-2012 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Martin Wittemann (wittemann)\n\n************************************************************************ */\n\nqx.Class.define(\"qx.test.event.Messaging\", {\n  extend: qx.dev.unit.TestCase,\n  include: qx.dev.unit.MMock,\n\n  members: {\n    __m: null,\n\n    setUp() {\n      this.__m = new qx.event.Messaging();\n    },\n\n    testTwoChannels() {\n      var handlerGet = this.spy();\n      var handlerPost = this.spy();\n      var ctx = { a: 12 };\n      var data = { data: \"test\" };\n      this.__m.on(\"GET\", \"/get\", handlerGet, ctx);\n      this.__m.emit(\"GET\", \"/get\", null, data);\n      this.assertCalledOnce(handlerGet);\n      this.assertCalledOn(handlerGet, ctx);\n      this.assertCalledWith(handlerGet, {\n        customData: data,\n        params: {},\n        path: \"/get\"\n      });\n\n      this.assertNotCalled(handlerPost);\n\n      this.__m.on(\"POST\", \"/post\", handlerPost, ctx);\n      this.__m.emit(\"POST\", \"/post\", null, data);\n      this.assertCalledOnce(handlerPost);\n      this.assertCalledOn(handlerPost, ctx);\n      this.assertCalledWith(handlerPost, {\n        customData: data,\n        params: {},\n        path: \"/post\"\n      });\n\n      this.assertCalledOnce(handlerGet);\n    },\n\n    testGet() {\n      var handler = this.spy();\n      var ctx = { a: 12 };\n      var data = { data: \"test\" };\n      this.__m.on(\"get\", \"/\", handler, ctx);\n      this.__m.emit(\"get\", \"/\", null, data);\n      this.assertCalledOnce(handler);\n      this.assertCalledOn(handler, ctx);\n      this.assertCalledWith(handler, {\n        customData: data,\n        params: {},\n        path: \"/\"\n      });\n    },\n\n    testRegExp() {\n      var handler = this.spy();\n      var ctx = { a: 12 };\n      var data = { data: \"abcdef\" };\n      this.__m.on(\"xyz\", /^xyz/g, handler, ctx);\n      this.__m.emit(\"xyz\", \"xyzabc\", null, data);\n      this.__m.emit(\"xyz\", \"abcxyz\", null, data);\n      this.assertCalledOnce(handler);\n      this.assertCalledOn(handler, ctx);\n      this.assertCalledWith(handler, {\n        customData: data,\n        params: {},\n        path: \"xyzabc\"\n      });\n    },\n\n    testGetAll() {\n      var handler = this.spy();\n      this.__m.on(\"a\", /.*/, handler);\n      this.__m.emit(\"a\", \"xyzabc\");\n      this.__m.emit(\"a\", \"abcxyz\");\n      this.assertCalledTwice(handler);\n    },\n\n    testAny() {\n      var handler = this.spy();\n      this.__m.onAny(/.*/, handler);\n      this.__m.emit(\"a\", \"xyzabc\");\n      this.__m.emit(\"b\", \"abcxyz\");\n      this.assertCalledTwice(handler);\n    },\n\n    testTwice() {\n      var handler = this.spy();\n      var ctx = { a: 12 };\n      var data = { data: \"test\" };\n      this.__m.on(\"GET\", \"/\", handler, ctx);\n      this.__m.emit(\"GET\", \"/\", null, data);\n      this.__m.emit(\"GET\", \"/\", null, data);\n      this.assertCalledTwice(handler);\n      this.assertCalledOn(handler, ctx);\n      this.assertCalledWith(handler, {\n        customData: data,\n        params: {},\n        path: \"/\"\n      });\n    },\n\n    testParam() {\n      var handler = this.spy();\n      var ctx = { a: 12 };\n      var data = { data: \"test\" };\n      this.__m.on(\"POST\", \"/{id}/affe\", handler, ctx);\n      this.__m.emit(\"POST\", \"/123456/affe\", data);\n      this.assertCalledOnce(handler);\n      this.assertCalledOn(handler, ctx);\n      this.assertCalledWith(handler, {\n        customData: undefined,\n        params: { id: \"123456\", data: \"test\" },\n        path: \"/123456/affe\"\n      });\n    },\n\n    testMultipleParam() {\n      var handler = this.spy();\n      var data = { data: \"test\" };\n      this.__m.on(\"POST\", \"/{id}-{name}/affe\", handler);\n      this.__m.emit(\"POST\", \"/123456-xyz/affe\", data);\n      this.assertCalledOnce(handler);\n      this.assertCalledWith(handler, {\n        customData: undefined,\n        params: { id: \"123456\", name: \"xyz\", data: \"test\" },\n        path: \"/123456-xyz/affe\"\n      });\n    },\n\n    testRemove() {\n      var handler = this.spy();\n      var id = this.__m.on(\"GET\", \"/\", handler);\n      this.__m.emit(\"GET\", \"/\");\n      this.assertCalledOnce(handler);\n\n      this.__m.remove(id);\n      this.__m.emit(\"GET\", \"/\");\n      this.assertCalledOnce(handler);\n    },\n\n    testHas() {\n      this.__m.on(\"GET\", \"/affe\", function () {});\n      this.__m.on(\"POST\", \"/affe\", function () {});\n\n      this.assertTrue(this.__m.has(\"GET\", \"/affe\"));\n      this.assertTrue(this.__m.has(\"POST\", \"/affe\"));\n\n      this.assertFalse(this.__m.has(\"get\", \"/affe\"));\n      this.assertFalse(this.__m.has(\"GET\", \"/banane\"));\n      this.assertFalse(this.__m.has(\"PUT\", \"/affe\"));\n      this.assertFalse(this.__m.has(\"banane\", \"/affe\"));\n    }\n  }\n});\n"
  ],
  "mappings": "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",
  "ignoreList": []
}