{
  "version": 3,
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "fs",
    "require",
    "async",
    "Class",
    "define",
    "extend",
    "core",
    "Object",
    "construct",
    "root",
    "constructor",
    "call",
    "__root",
    "properties",
    "matchFiles",
    "init",
    "nullable",
    "check",
    "members",
    "scan",
    "notify",
    "cb",
    "t",
    "scanImpl",
    "path",
    "waterfall",
    "readdir",
    "files",
    "forEach",
    "file",
    "stat",
    "err",
    "isDirectory",
    "isFile",
    "_onFindFile",
    "re",
    "getMatchFiles",
    "test",
    "tool",
    "utils",
    "FindFiles"
  ],
  "sources": [
    "/home/runner/work/CometVisu/CometVisu/node_modules/@qooxdoo/framework/source/class/qx/tool/utils/files/FindFiles.js"
  ],
  "sourcesContent": [
    "/* ************************************************************************\n *\n *    qooxdoo-compiler - node.js based replacement for the Qooxdoo python\n *    toolchain\n *\n *    https://github.com/qooxdoo/qooxdoo\n *\n *    Copyright:\n *      2011-2017 Zenesis Limited, http://www.zenesis.com\n *\n *    License:\n *      MIT: https://opensource.org/licenses/MIT\n *\n *      This software is provided under the same licensing terms as Qooxdoo,\n *      please see the LICENSE file in the Qooxdoo project's top-level directory\n *      for details.\n *\n *    Authors:\n *      * John Spackman (john.spackman@zenesis.com, @johnspackman)\n *\n * *********************************************************************** */\n\nvar fs = require(\"fs\");\nvar async = require(\"async\");\n\nqx.Class.define(\"qx.tool.utils.files.FindFiles\", {\n  extend: qx.core.Object,\n\n  construct(root) {\n    super();\n    this.__root = root;\n  },\n\n  properties: {\n    matchFiles: {\n      init: null,\n      nullable: true,\n      check: \"RegEx\"\n    }\n  },\n\n  members: {\n    __root: null,\n\n    scan(notify, cb) {\n      cb = cb || function () {};\n\n      var t = this;\n\n      function scanImpl(path, cb) {\n        async.waterfall(\n          [\n            function (cb) {\n              fs.readdir(path, cb);\n            },\n\n            function (files, cb) {\n              async.forEach(\n                files,\n                function (file, cb) {\n                  fs.stat(path + \"/\" + file, function (err, stat) {\n                    if (err) {\n                      cb(err);\n                      return;\n                    }\n                    if (stat.isDirectory()) {\n                      scanImpl(path + \"/\" + file, cb);\n                      return;\n                    }\n                    if (stat.isFile()) {\n                      t._onFindFile(path + \"/\" + file, notify, cb);\n                      return;\n                    }\n                    cb();\n                  });\n                },\n                cb\n              );\n            }\n          ],\n\n          cb\n        );\n      }\n\n      scanImpl(this.__root, cb);\n    },\n\n    _onFindFile(file, notify, cb) {\n      var re = this.getMatchFiles();\n      if (re && !re.test(file)) {\n        return;\n      }\n      notify(file, cb);\n    }\n  }\n});\n"
  ],
  "mappings": ";;;;;;;;;;;;;EAAAA,EAAE,CAACC,SAAS,CAACC,oBAAoB,CAACC,aAAa,CAAC;EAAhD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;EAEA,IAAIC,EAAE,GAAGC,OAAO,CAAC,IAAI,CAAC;EACtB,IAAIC,KAAK,GAAGD,OAAO,CAAC,OAAO,CAAC;EAE5BL,EAAE,CAACO,KAAK,CAACC,MAAM,CAAC,+BAA+B,EAAE;IAC/CC,MAAM,EAAET,EAAE,CAACU,IAAI,CAACC,MAAM;IAEtBC,SAAS,WAAAA,UAACC,IAAI,EAAE;MACdb,EAAA,CAAAU,IAAA,CAAAC,MAAA,CAAAG,WAAA,CAAAC,IAAA;MACA,IAAI,CAACC,SAAM,GAAGH,IAAI;IACpB,CAAC;IAEDI,UAAU,EAAE;MACVC,UAAU,EAAE;QACVC,IAAI,EAAE,IAAI;QACVC,QAAQ,EAAE,IAAI;QACdC,KAAK,EAAE;MACT;IACF,CAAC;IAEDC,OAAO,EAAE;MACPN,SAAM,EAAE,IAAI;MAEZO,IAAI,WAAAA,KAACC,MAAM,EAAEC,EAAE,EAAE;QACfA,EAAE,GAAGA,EAAE,IAAI,YAAY,CAAC,CAAC;QAEzB,IAAIC,CAAC,GAAG,IAAI;QAEZ,SAASC,QAAQA,CAACC,IAAI,EAAEH,EAAE,EAAE;UAC1BnB,KAAK,CAACuB,SAAS,CACb,CACE,UAAUJ,EAAE,EAAE;YACZrB,EAAE,CAAC0B,OAAO,CAACF,IAAI,EAAEH,EAAE,CAAC;UACtB,CAAC,EAED,UAAUM,KAAK,EAAEN,EAAE,EAAE;YACnBnB,KAAK,CAAC0B,OAAO,CACXD,KAAK,EACL,UAAUE,IAAI,EAAER,EAAE,EAAE;cAClBrB,EAAE,CAAC8B,IAAI,CAACN,IAAI,GAAG,GAAG,GAAGK,IAAI,EAAE,UAAUE,GAAG,EAAED,IAAI,EAAE;gBAC9C,IAAIC,GAAG,EAAE;kBACPV,EAAE,CAACU,GAAG,CAAC;kBACP;gBACF;gBACA,IAAID,IAAI,CAACE,WAAW,CAAC,CAAC,EAAE;kBACtBT,QAAQ,CAACC,IAAI,GAAG,GAAG,GAAGK,IAAI,EAAER,EAAE,CAAC;kBAC/B;gBACF;gBACA,IAAIS,IAAI,CAACG,MAAM,CAAC,CAAC,EAAE;kBACjBX,CAAC,CAACY,WAAW,CAACV,IAAI,GAAG,GAAG,GAAGK,IAAI,EAAET,MAAM,EAAEC,EAAE,CAAC;kBAC5C;gBACF;gBACAA,EAAE,CAAC,CAAC;cACN,CAAC,CAAC;YACJ,CAAC,EACDA,EACF,CAAC;UACH,CAAC,CACF,EAEDA,EACF,CAAC;QACH;QAEAE,QAAQ,CAAC,IAAI,CAACX,SAAM,EAAES,EAAE,CAAC;MAC3B,CAAC;MAEDa,WAAW,WAAAA,YAACL,IAAI,EAAET,MAAM,EAAEC,EAAE,EAAE;QAC5B,IAAIc,EAAE,GAAG,IAAI,CAACC,aAAa,CAAC,CAAC;QAC7B,IAAID,EAAE,IAAI,CAACA,EAAE,CAACE,IAAI,CAACR,IAAI,CAAC,EAAE;UACxB;QACF;QACAT,MAAM,CAACS,IAAI,EAAER,EAAE,CAAC;MAClB;IACF;EACF,CAAC,CAAC;EAhGFzB,EAAE,CAAC0C,IAAI,CAACC,KAAK,CAACZ,KAAK,CAACa,SAAS,CAACzC,aAAa,GAAGA,aAAa;AAAC",
  "ignoreList": []
}