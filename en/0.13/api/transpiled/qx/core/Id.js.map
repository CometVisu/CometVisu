{
  "version": 3,
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "extend",
    "core",
    "Object",
    "type",
    "members",
    "__registeredObjects",
    "__registeredIdHashes",
    "_createQxObject",
    "id",
    "result",
    "_createQxObjectImpl",
    "obj",
    "undefined",
    "Init",
    "getApplication",
    "getAbsoluteIdOf",
    "suppressWarnings",
    "toHashCode",
    "getQxObjectId",
    "segs",
    "application",
    "error",
    "join",
    "unshift",
    "owner",
    "getQxOwner",
    "ownerId",
    "path",
    "register",
    "_cascadeQxObjectIdChanges",
    "unregister",
    "data",
    "hash",
    "getRegisteredObjects",
    "statics",
    "getQxObject",
    "getInstance",
    "Id"
  ],
  "sources": [
    "/home/runner/work/CometVisu/CometVisu/node_modules/@qooxdoo/framework/source/class/qx/core/Id.js"
  ],
  "sourcesContent": [
    "/* ************************************************************************\r\n\r\n   qooxdoo - the new era of web development\r\n\r\n   http://qooxdoo.org\r\n\r\n   Copyright:\r\n     2017 Zenesis Limited, http://www.zenesis.com\r\n\r\n   License:\r\n     MIT: https://opensource.org/licenses/MIT\r\n     See the LICENSE file in the project's top-level directory for details.\r\n\r\n   Authors:\r\n     * John Spackman (john.spackman@zenesis.com, @johnspackman)\r\n\r\n************************************************************************ */\r\n\r\n/**\r\n * Provides a registry of top level objects\r\n */\r\nqx.Class.define(\"qx.core.Id\", {\r\n  extend: qx.core.Object,\r\n  type: \"singleton\",\r\n\r\n  members: {\r\n    __registeredObjects: null,\r\n    __registeredIdHashes: null,\r\n\r\n    /*\r\n     * @Override\r\n     */\r\n    _createQxObject(id) {\r\n      // Create the object, but don't add it to the list of owned objects\r\n      var result = this._createQxObjectImpl(id);\r\n      return result;\r\n    },\r\n\r\n    /*\r\n     * @Override\r\n     */\r\n    _createQxObjectImpl(id) {\r\n      if (this.__registeredObjects) {\r\n        var obj = this.__registeredObjects[id];\r\n        if (obj !== undefined) {\r\n          return obj;\r\n        }\r\n      }\r\n\r\n      switch (id) {\r\n        case \"application\":\r\n          return qx.core.Init.getApplication() || undefined;\r\n      }\r\n\r\n      return undefined;\r\n    },\r\n\r\n    /**\r\n     * Returns an object path which can be used to locate an object anywhere in the application\r\n     * with a call to `qx.core.Id.getQxObject()`.\r\n     *\r\n     * This will return null if it is not possible to calculate a path because one of the\r\n     * ancestors has a null `qxObjectId`.\r\n     *\r\n     * This will also return null if the top-most ancestor is not one of the globals registered\r\n     * with `registerObject` or a known global (such as the application); however, by passing\r\n     * `true` as the `suppressWarnings` parameter, this will prevent errors from appearing in\r\n     * the console when this happens\r\n     *\r\n     * @param obj {qx.core.Object} the object\r\n     * @param suppressWarnings {Boolean?} default: false; silently returns null if an ID cannot be created\r\n     * @return {String} full path to the object\r\n     */\r\n    getAbsoluteIdOf(obj, suppressWarnings) {\r\n      if (\r\n        this.__registeredIdHashes &&\r\n        this.__registeredIdHashes[obj.toHashCode()]\r\n      ) {\r\n        return obj.getQxObjectId();\r\n      }\r\n      var segs = [];\r\n      var application = qx.core.Init.getApplication();\r\n      while (obj) {\r\n        var id = obj.getQxObjectId();\r\n        if (!id) {\r\n          if (!suppressWarnings) {\r\n            this.error(\r\n              \"Cannot determine an absolute Object ID because one of the ancestor ObjectID's is null (got as far as \" +\r\n                segs.join(\"/\") +\r\n                \")\"\r\n            );\r\n          }\r\n          return null;\r\n        }\r\n        segs.unshift(id);\r\n        var owner = obj.getQxOwner();\r\n        if (owner) {\r\n          // Find the ID of the owner, *if* it is registered as a top level object\r\n          var ownerId = null;\r\n          if (owner === application) {\r\n            ownerId = \"application\";\r\n          } else {\r\n            ownerId =\r\n              (this.__registeredIdHashes &&\r\n                this.__registeredIdHashes[owner.toHashCode()]) ||\r\n              null;\r\n          }\r\n\r\n          // When we have found the ID of a top level object, add it to the path and stop\r\n          if (ownerId) {\r\n            segs.unshift(ownerId);\r\n            break;\r\n          }\r\n        } else {\r\n          if (!suppressWarnings) {\r\n            this.error(\r\n              \"Cannot determine a global absolute Object ID because the topmost object is not registered\"\r\n            );\r\n          }\r\n          return null;\r\n        }\r\n        obj = owner;\r\n      }\r\n      var path = segs.join(\"/\");\r\n      return path;\r\n    },\r\n\r\n    /**\r\n     * Registers an object with an ID; as this is registering a global object which is the root of a tree\r\n     * of objects with IDs, the `id` parameter can be provided to set the ID used for the root object - this\r\n     * allows an object to be registered under a well known, common name without affecting the API of the\r\n     * object.\r\n     *\r\n     * @param obj {qx.core.Object} the object to register\r\n     * @param id {String?} the ID to register the object under, otherwise the object's own Object Id is used\r\n     */\r\n    register(obj, id) {\r\n      if (!this.__registeredObjects) {\r\n        this.__registeredObjects = {};\r\n        this.__registeredIdHashes = {};\r\n      }\r\n      if (!id) {\r\n        id = obj.getQxObjectId();\r\n      }\r\n      this.__registeredObjects[id] = obj;\r\n      this.__registeredIdHashes[obj.toHashCode()] = id;\r\n      obj._cascadeQxObjectIdChanges();\r\n    },\r\n\r\n    /**\r\n     * Unregisters a previously registered object with an ID\r\n     *\r\n     * @param data {Object|String} the object to unregister, or the ID of the object\r\n     * @return {Boolean} whether there was an object to unregister\r\n     */\r\n    unregister(data) {\r\n      if (!this.__registeredObjects) {\r\n        return false;\r\n      }\r\n\r\n      var id;\r\n      if (typeof data == \"string\") {\r\n        id = data;\r\n      } else {\r\n        var hash = data.toHashCode();\r\n        id = this.__registeredIdHashes[hash];\r\n        if (!id) {\r\n          return false;\r\n        }\r\n      }\r\n\r\n      var obj = this.__registeredObjects[id];\r\n      if (obj) {\r\n        delete this.__registeredObjects[id];\r\n        delete this.__registeredIdHashes[obj.toHashCode()];\r\n        obj._cascadeQxObjectIdChanges();\r\n        return true;\r\n      }\r\n\r\n      return false;\r\n    },\r\n\r\n    /**\r\n     * Returns a map of the objects that have been registered as id roots, with\r\n     * the topmost part of the ID as key.\r\n     * @return {Object}\r\n     */\r\n    getRegisteredObjects() {\r\n      return this.__registeredObjects;\r\n    }\r\n  },\r\n\r\n  statics: {\r\n    /**\r\n     * Returns a top level instance\r\n     *\r\n     * @param id {String} the ID to look for\r\n     * @return {qx.core.Object?} the object\r\n     */\r\n    getQxObject(id) {\r\n      return this.getInstance().getQxObject(id);\r\n    },\r\n\r\n    /**\r\n     * Helper for `qx.core.Id.getAbsoluteIdOf`\r\n     *\r\n     * @param obj {qx.core.Object} the object\r\n     * @param suppressWarnings {Boolean?} default: false; silently returns null if an ID cannot be created\r\n     * @return {String} full path to the object\r\n     */\r\n    getAbsoluteIdOf(obj, suppressWarnings) {\r\n      return this.getInstance().getAbsoluteIdOf(obj, suppressWarnings);\r\n    }\r\n  }\r\n});\r\n"
  ],
  "mappings": "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"
}