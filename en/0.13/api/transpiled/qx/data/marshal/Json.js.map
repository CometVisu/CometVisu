{
  "version": 3,
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "extend",
    "core",
    "Object",
    "implement",
    "data",
    "marshal",
    "IMarshaler",
    "construct",
    "delegate",
    "__delegate",
    "statics",
    "$$instance",
    "createModel",
    "includeBubbleEvents",
    "Json",
    "toClass",
    "toModel",
    "legacyJsonHash",
    "keys",
    "sort",
    "join",
    "members",
    "__jsonToHash",
    "getJsonHash",
    "__jsonToBestHash",
    "hash",
    "bubbleClassHash",
    "bubbleClassName",
    "isDefined",
    "__toClass",
    "parentProperty",
    "depth",
    "lang",
    "Type",
    "isObject",
    "$$isString",
    "Array",
    "getClass",
    "i",
    "length",
    "__ignore",
    "key",
    "getModelClass",
    "properties",
    "__disposeItem",
    "getPropertyMapping",
    "replace",
    "nullable",
    "event",
    "String",
    "firstUp",
    "apply",
    "getValidationRule",
    "rule",
    "validate",
    "getModelSuperClass",
    "superClass",
    "mixins",
    "getModelMixins",
    "delegateMixins",
    "isArray",
    "push",
    "MEventBubbling",
    "newClass",
    "include",
    "item",
    "isDisposed",
    "dispose",
    "__createInstance",
    "delegateClass",
    "className",
    "clazz",
    "getByName",
    "noBubbleClassName",
    "Error",
    "del",
    "ignore",
    "__toModel",
    "arrayClass",
    "getArrayClass",
    "customArrayClass",
    "array",
    "setAutoDisposeItems",
    "model",
    "propertyName",
    "propertyNameReplaced",
    "setterName"
  ],
  "sources": [
    "/home/runner/work/CometVisu/CometVisu/node_modules/@qooxdoo/framework/source/class/qx/data/marshal/Json.js"
  ],
  "sourcesContent": [
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2009 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Martin Wittemann (martinwittemann)\n\n************************************************************************ */\n\n/**\n * This class is responsible for converting json data to class instances\n * including the creation of the classes.\n * To retrieve the native data of created models use the methods\n *   described in {@link qx.util.Serializer}.\n */\nqx.Class.define(\"qx.data.marshal.Json\", {\n  extend: qx.core.Object,\n  implement: [qx.data.marshal.IMarshaler],\n\n  /**\n   * @param delegate {Object} An object containing one of the methods described\n   *   in {@link qx.data.marshal.IMarshalerDelegate}.\n   */\n  construct(delegate) {\n    super();\n\n    this.__delegate = delegate;\n  },\n\n  statics: {\n    $$instance: null,\n\n    /**\n     * Creates a qooxdoo object based on the given json data. This function\n     * is just a static wrapper. If you want to configure the creation\n     * process of the class, use {@link qx.data.marshal.Json} directly.\n     *\n     * @param data {Object} The object for which classes should be created.\n     * @param includeBubbleEvents {Boolean} Whether the model should support\n     *   the bubbling of change events or not.\n     *\n     * @return {qx.core.Object} An instance of the corresponding class.\n     */\n    createModel(data, includeBubbleEvents) {\n      // singleton for the json marshaler\n      if (this.$$instance === null) {\n        this.$$instance = new qx.data.marshal.Json();\n      }\n      // be sure to create the classes first\n      this.$$instance.toClass(data, includeBubbleEvents);\n      // return the model\n      return this.$$instance.toModel(data);\n    },\n\n    /**\n     * Legacy json hash method used as default in Qooxdoo < v6.0.\n     * You can go back to the old behaviour like this:\n     *\n     * <code>\n     *  var marshaller = new qx.data.marshal.Json({\n     *   getJsonHash: qx.data.marshal.Json.legacyJsonHash\n     *  });\n     * </code>\n     */\n    legacyJsonHash(data, includeBubbleEvents) {\n      return (\n        Object.keys(data).sort().join('\"') +\n        (includeBubbleEvents === true ? \"♥\" : \"\")\n      );\n    }\n  },\n\n  members: {\n    __delegate: null,\n\n    /**\n     * Converts a given object into a hash which will be used to identify the\n     * classes under the namespace <code>qx.data.model</code>.\n     *\n     * @param data {Object} The JavaScript object from which the hash is\n     *   required.\n     * @param includeBubbleEvents {Boolean?false} Whether the model should\n     *   support the bubbling of change events or not.\n     * @return {String} The hash representation of the given JavaScript object.\n     */\n    __jsonToHash(data, includeBubbleEvents) {\n      if (this.__delegate && this.__delegate.getJsonHash) {\n        return this.__delegate.getJsonHash(data, includeBubbleEvents);\n      }\n      return (\n        Object.keys(data).sort().join(\"|\") +\n        (includeBubbleEvents === true ? \"♥\" : \"\")\n      );\n    },\n\n    /**\n     * Get the \"most enhanced\" hash for a given object.  That is the hash for\n     * the class that is most feature rich in respect of the bubble event\n     * feature. If there are two equal classes available (defined), one with\n     * and one without the bubble event feature, this method will return the\n     * hash of the class that includes the bubble event.\n     *\n     * @param data {Object} The JavaScript object from which the hash is\n     *   required.\n     * @param includeBubbleEvents {Boolean} Whether the preferred model should\n     *   support the bubbling of change events or not.\n     *   If <code>null</code>, an automatic selection will take place which\n     *   selects the \"best\" model currently available.\n     * @return {String} The hash representation of the given JavaScript object.\n     */\n    __jsonToBestHash(data, includeBubbleEvents) {\n      // forced mode?\n      //\n      if (includeBubbleEvents === true) {\n        return this.__jsonToHash(data, true);\n      }\n      if (includeBubbleEvents === false) {\n        return this.__jsonToHash(data, false);\n      }\n\n      // automatic mode!\n      //\n      var hash = this.__jsonToHash(data); // without bubble event feature\n      var bubbleClassHash = hash + \"♥\"; // with bubble event feature\n      var bubbleClassName = \"qx.data.model.\" + bubbleClassHash;\n\n      // In case there's a class with bubbling, we *always* prefer that one!\n      return qx.Class.isDefined(bubbleClassName) ? bubbleClassHash : hash;\n    },\n\n    /**\n     * Creates for the given data the needed classes. The classes contain for\n     * every key in the data a property. The classname is always the prefix\n     * <code>qx.data.model</code> and the hash of the data created by\n     * {@link #__jsonToHash}. Two objects containing the same keys will not\n     * create two different classes. The class creation process also supports\n     * the functions provided by its delegate.\n     *\n     * Important, please keep in mind that only valid JavaScript identifiers\n     * can be used as keys in the data map. For convenience '-' in keys will\n     * be removed (a-b will be ab in the end).\n     *\n     * @see qx.data.store.IStoreDelegate\n     *\n     * @param data {Object} The object for which classes should be created.\n     * @param includeBubbleEvents {Boolean} Whether the model should support\n     *   the bubbling of change events or not.\n     */\n    toClass(data, includeBubbleEvents) {\n      this.__toClass(data, includeBubbleEvents, null, 0);\n    },\n\n    /**\n     * Implementation of {@link #toClass} used for recursion.\n     *\n     * @param data {Object} The object for which classes should be created.\n     * @param includeBubbleEvents {Boolean} Whether the model should support\n     *   the bubbling of change events or not.\n     * @param parentProperty {String|null} The name of the property the\n     *   data will be stored in.\n     * @param depth {Number} The depth of the data relative to the data's root.\n     */\n    __toClass(data, includeBubbleEvents, parentProperty, depth) {\n      // break on all primitive json types and qooxdoo objects\n      if (\n        !qx.lang.Type.isObject(data) ||\n        !!data.$$isString || // check for localized strings\n        data instanceof qx.core.Object\n      ) {\n        // check for arrays\n        if (data instanceof Array || qx.Bootstrap.getClass(data) == \"Array\") {\n          for (var i = 0; i < data.length; i++) {\n            this.__toClass(\n              data[i],\n              includeBubbleEvents,\n              parentProperty + \"[\" + i + \"]\",\n              depth + 1\n            );\n          }\n        }\n\n        // ignore arrays and primitive types\n        return;\n      }\n\n      var hash = this.__jsonToHash(data, includeBubbleEvents);\n\n      // ignore rules\n      if (this.__ignore(hash, parentProperty, depth)) {\n        return;\n      }\n\n      // check for the possible child classes\n      for (var key in data) {\n        this.__toClass(data[key], includeBubbleEvents, key, depth + 1);\n      }\n\n      // class already exists\n      if (qx.Class.isDefined(\"qx.data.model.\" + hash)) {\n        return;\n      }\n\n      // class is defined by the delegate\n      if (\n        this.__delegate &&\n        this.__delegate.getModelClass &&\n        this.__delegate.getModelClass(hash, data, parentProperty, depth) != null\n      ) {\n        return;\n      }\n\n      // create the properties map\n      var properties = {};\n      // include the disposeItem for the dispose process.\n      var members = { __disposeItem: this.__disposeItem };\n      for (var key in data) {\n        // apply the property names mapping\n        if (this.__delegate && this.__delegate.getPropertyMapping) {\n          key = this.__delegate.getPropertyMapping(key, hash);\n        }\n\n        // strip the unwanted characters\n        key = key.replace(/-|\\.|\\s+/g, \"\");\n        // check for valid JavaScript identifier (leading numbers are ok)\n        if (qx.core.Environment.get(\"qx.debug\")) {\n          this.assertTrue(\n            /^[$0-9A-Za-z_]*$/.test(key),\n            \"The key '\" + key + \"' is not a valid JavaScript identifier.\"\n          );\n        }\n\n        properties[key] = {};\n        properties[key].nullable = true;\n        properties[key].event = \"change\" + qx.lang.String.firstUp(key);\n        // bubble events\n        if (includeBubbleEvents) {\n          properties[key].apply = \"_applyEventPropagation\";\n        }\n        // validation rules\n        if (this.__delegate && this.__delegate.getValidationRule) {\n          var rule = this.__delegate.getValidationRule(hash, key);\n          if (rule) {\n            properties[key].validate = \"_validate\" + key;\n            members[\"_validate\" + key] = rule;\n          }\n        }\n      }\n\n      // try to get the superclass, qx.core.Object as default\n      if (this.__delegate && this.__delegate.getModelSuperClass) {\n        var superClass =\n          this.__delegate.getModelSuperClass(hash, parentProperty, depth) ||\n          qx.core.Object;\n      } else {\n        var superClass = qx.core.Object;\n      }\n\n      // try to get the mixins\n      var mixins = [];\n      if (this.__delegate && this.__delegate.getModelMixins) {\n        var delegateMixins = this.__delegate.getModelMixins(\n          hash,\n          parentProperty,\n          depth\n        );\n\n        // check if its an array\n        if (!qx.lang.Type.isArray(delegateMixins)) {\n          if (delegateMixins != null) {\n            mixins = [delegateMixins];\n          }\n        } else {\n          mixins = delegateMixins;\n        }\n      }\n\n      // include the mixin for the event bubbling\n      if (includeBubbleEvents) {\n        mixins.push(qx.data.marshal.MEventBubbling);\n      }\n\n      // create the map for the class\n      var newClass = {\n        extend: superClass,\n        include: mixins,\n        properties: properties,\n        members: members\n      };\n\n      qx.Class.define(\"qx.data.model.\" + hash, newClass);\n    },\n\n    /**\n     * Helper for disposing items of the created class.\n     *\n     * @param item {var} The item to dispose.\n     */\n    __disposeItem(item) {\n      if (!(item instanceof qx.core.Object)) {\n        // ignore all non objects\n        return;\n      }\n      // ignore already disposed items (could happen during shutdown)\n      if (item.isDisposed()) {\n        return;\n      }\n      item.dispose();\n    },\n\n    /**\n     * Creates an instance for the given data hash.\n     *\n     * @param hash {String} The hash of the data for which an instance should\n     *   be created.\n     * @param parentProperty {String|null} The name of the property the data\n     *   will be stored in.\n     * @param depth {Number} The depth of the object relative to the data root.\n     * @param data {Map} The data for which an instance should be created.\n     * @return {qx.core.Object} An instance of the corresponding class.\n     */\n    __createInstance(hash, data, parentProperty, depth) {\n      var delegateClass;\n      // get the class from the delegate\n      if (this.__delegate && this.__delegate.getModelClass) {\n        delegateClass = this.__delegate.getModelClass(\n          hash,\n          data,\n          parentProperty,\n          depth\n        );\n      }\n      if (delegateClass != null) {\n        return new delegateClass();\n      } else {\n        var className = \"qx.data.model.\" + hash;\n        var clazz = qx.Class.getByName(className);\n        if (!clazz) {\n          // Extra check for possible bubble-event feature inconsistency\n          var noBubbleClassName = className.replace(\"♥\", \"\");\n          if (qx.Class.getByName(noBubbleClassName)) {\n            throw new Error(\n              \"Class '\" +\n                noBubbleClassName +\n                \"' found, \" +\n                \"but it does not support changeBubble event.\"\n            );\n          }\n          throw new Error(\"Class '\" + className + \"' could not be found.\");\n        }\n        return new clazz();\n      }\n    },\n\n    /**\n     * Helper to decide if the delegate decides to ignore a data set.\n     * @param hash {String} The property names.\n     * @param parentProperty {String|null} The name of the property the data\n     *   will be stored in.\n     * @param depth {Number} The depth of the object relative to the data root.\n     * @return {Boolean} <code>true</code> if the set should be ignored\n     */\n    __ignore(hash, parentProperty, depth) {\n      var del = this.__delegate;\n      return del && del.ignore && del.ignore(hash, parentProperty, depth);\n    },\n\n    /**\n     * Creates for the given data the needed models. Be sure to have the classes\n     * created with {@link #toClass} before calling this method. The creation\n     * of the class itself is delegated to the {@link #__createInstance} method,\n     * which could use the {@link qx.data.store.IStoreDelegate} methods, if\n     * given.\n     *\n     * @param data {Object} The object for which models should be created.\n     * @param includeBubbleEvents {Boolean?null} Whether the model should\n     *   support the bubbling of change events or not.\n     *   If omitted or <code>null</code>, an automatic selection will take place\n     *   which selects the \"best\" model currently available.\n     * @return {qx.core.Object} The created model object.\n     */\n    toModel(data, includeBubbleEvents) {\n      return this.__toModel(data, includeBubbleEvents, null, 0);\n    },\n\n    /**\n     * Implementation of {@link #toModel} used for recursion.\n     *\n     * @param data {Object} The object for which models should be created.\n     * @param includeBubbleEvents {Boolean|null} Whether the model should\n     *   support the bubbling of change events or not.\n     *   If <code>null</code>, an automatic selection will take place which\n     *   selects the \"best\" model currently available.\n     * @param parentProperty {String|null} The name of the property the\n     *   data will be stored in.\n     * @param depth {Number} The depth of the data relative to the data's root.\n     * @return {qx.core.Object} The created model object.\n     */\n    __toModel(data, includeBubbleEvents, parentProperty, depth) {\n      var isObject = qx.lang.Type.isObject(data);\n      var isArray =\n        data instanceof Array || qx.Bootstrap.getClass(data) == \"Array\";\n\n      if (\n        (!isObject && !isArray) ||\n        !!data.$$isString || // check for localized strings\n        data instanceof qx.core.Object\n      ) {\n        return data;\n\n        // ignore rules\n      } else if (\n        this.__ignore(\n          this.__jsonToBestHash(data, includeBubbleEvents),\n          parentProperty,\n          depth\n        )\n      ) {\n        return data;\n      } else if (isArray) {\n        var arrayClass = qx.data.Array;\n        if (this.__delegate && this.__delegate.getArrayClass) {\n          var customArrayClass = this.__delegate.getArrayClass(\n            parentProperty,\n            depth\n          );\n\n          arrayClass = customArrayClass || arrayClass;\n        }\n\n        var array = new arrayClass();\n        // set the auto dispose for the array\n        array.setAutoDisposeItems(true);\n\n        for (var i = 0; i < data.length; i++) {\n          array.push(\n            this.__toModel(\n              data[i],\n              includeBubbleEvents,\n              parentProperty + \"[\" + i + \"]\",\n              depth + 1\n            )\n          );\n        }\n        return array;\n      } else if (isObject) {\n        // create an instance for the object\n        var hash = this.__jsonToBestHash(data, includeBubbleEvents);\n        var model = this.__createInstance(hash, data, parentProperty, depth);\n\n        // go threw all element in the data\n        for (var key in data) {\n          // apply the property names mapping\n          var propertyName = key;\n          if (this.__delegate && this.__delegate.getPropertyMapping) {\n            propertyName = this.__delegate.getPropertyMapping(key, hash);\n          }\n          var propertyNameReplaced = propertyName.replace(/-|\\.|\\s+/g, \"\");\n          // warn if there has been a replacement\n          if (\n            qx.core.Environment.get(\"qx.debug\") &&\n            qx.core.Environment.get(\"qx.debug.databinding\")\n          ) {\n            if (propertyNameReplaced != propertyName) {\n              this.warn(\n                \"The model contained an illegal name: '\" +\n                  key +\n                  \"'. Replaced it with '\" +\n                  propertyName +\n                  \"'.\"\n              );\n            }\n          }\n          propertyName = propertyNameReplaced;\n          // only set the properties if they are available [BUG #5909]\n          var setterName = \"set\" + qx.lang.String.firstUp(propertyName);\n          if (model[setterName]) {\n            model[setterName](\n              this.__toModel(data[key], includeBubbleEvents, key, depth + 1)\n            );\n          }\n        }\n        return model;\n      }\n\n      throw new Error(\"Unsupported type!\");\n    }\n  }\n});\n"
  ],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;EAAAA,EAAE,CAACC,SAAH,CAAaC,oBAAb,CAAkCC,aAAlC;;EAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;EAEA;AACA;AACA;AACA;AACA;AACA;EACAH,EAAE,CAACI,KAAH,CAASC,MAAT,CAAgB,sBAAhB,EAAwC;IACtCC,MAAM,EAAEN,EAAE,CAACO,IAAH,CAAQC,MADsB;IAEtCC,SAAS,EAAE,CAACT,EAAE,CAACU,IAAH,CAAQC,OAAR,CAAgBC,UAAjB,CAF2B;;IAItC;AACF;AACA;AACA;IACEC,SARsC,qBAQ5BC,QAR4B,EAQlB;MAClB;MAEA,KAAKC,SAAL,GAAkBD,QAAlB;IACD,CAZqC;IActCE,OAAO,EAAE;MACPC,UAAU,EAAE,IADL;;MAGP;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;MACIC,WAdO,uBAcKR,IAdL,EAcWS,mBAdX,EAcgC;QACrC;QACA,IAAI,KAAKF,UAAL,KAAoB,IAAxB,EAA8B;UAC5B,KAAKA,UAAL,GAAkB,IAAIjB,EAAE,CAACU,IAAH,CAAQC,OAAR,CAAgBS,IAApB,EAAlB;QACD,CAJoC,CAKrC;;;QACA,KAAKH,UAAL,CAAgBI,OAAhB,CAAwBX,IAAxB,EAA8BS,mBAA9B,EANqC,CAOrC;;QACA,OAAO,KAAKF,UAAL,CAAgBK,OAAhB,CAAwBZ,IAAxB,CAAP;MACD,CAvBM;;MAyBP;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;MACIa,cAnCO,0BAmCQb,IAnCR,EAmCcS,mBAnCd,EAmCmC;QACxC,OACEX,MAAM,CAACgB,IAAP,CAAYd,IAAZ,EAAkBe,IAAlB,GAAyBC,IAAzB,CAA8B,GAA9B,KACCP,mBAAmB,KAAK,IAAxB,GAA+B,GAA/B,GAAqC,EADtC,CADF;MAID;IAxCM,CAd6B;IAyDtCQ,OAAO,EAAE;MACPZ,SAAU,EAAE,IADL;;MAGP;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;MACIa,SAbO,qBAaMlB,IAbN,EAaYS,mBAbZ,EAaiC;QACtC,IAAI,KAAKJ,SAAL,IAAmB,KAAKA,SAAL,CAAgBc,WAAvC,EAAoD;UAClD,OAAO,KAAKd,SAAL,CAAgBc,WAAhB,CAA4BnB,IAA5B,EAAkCS,mBAAlC,CAAP;QACD;;QACD,OACEX,MAAM,CAACgB,IAAP,CAAYd,IAAZ,EAAkBe,IAAlB,GAAyBC,IAAzB,CAA8B,GAA9B,KACCP,mBAAmB,KAAK,IAAxB,GAA+B,GAA/B,GAAqC,EADtC,CADF;MAID,CArBM;;MAuBP;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;MACIW,SAtCO,qBAsCUpB,IAtCV,EAsCgBS,mBAtChB,EAsCqC;QAC1C;QACA;QACA,IAAIA,mBAAmB,KAAK,IAA5B,EAAkC;UAChC,OAAO,KAAKS,SAAL,CAAkBlB,IAAlB,EAAwB,IAAxB,CAAP;QACD;;QACD,IAAIS,mBAAmB,KAAK,KAA5B,EAAmC;UACjC,OAAO,KAAKS,SAAL,CAAkBlB,IAAlB,EAAwB,KAAxB,CAAP;QACD,CARyC,CAU1C;QACA;;;QACA,IAAIqB,IAAI,GAAG,KAAKH,SAAL,CAAkBlB,IAAlB,CAAX,CAZ0C,CAYN;;;QACpC,IAAIsB,eAAe,GAAGD,IAAI,GAAG,GAA7B,CAb0C,CAaR;;QAClC,IAAIE,eAAe,GAAG,mBAAmBD,eAAzC,CAd0C,CAgB1C;;QACA,OAAOhC,EAAE,CAACI,KAAH,CAAS8B,SAAT,CAAmBD,eAAnB,IAAsCD,eAAtC,GAAwDD,IAA/D;MACD,CAxDM;;MA0DP;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;MACIV,OA5EO,mBA4ECX,IA5ED,EA4EOS,mBA5EP,EA4E4B;QACjC,KAAKgB,SAAL,CAAezB,IAAf,EAAqBS,mBAArB,EAA0C,IAA1C,EAAgD,CAAhD;MACD,CA9EM;;MAgFP;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;MACIgB,SA1FO,qBA0FGzB,IA1FH,EA0FSS,mBA1FT,EA0F8BiB,cA1F9B,EA0F8CC,KA1F9C,EA0FqD;QAC1D;QACA,IACE,CAACrC,EAAE,CAACsC,IAAH,CAAQC,IAAR,CAAaC,QAAb,CAAsB9B,IAAtB,CAAD,IACA,CAAC,CAACA,IAAI,CAAC+B,UADP,IACqB;QACrB/B,IAAI,YAAYV,EAAE,CAACO,IAAH,CAAQC,MAH1B,EAIE;UACA;UACA,IAAIE,IAAI,YAAYgC,KAAhB,IAAyB1C,EAAE,CAACC,SAAH,CAAa0C,QAAb,CAAsBjC,IAAtB,KAA+B,OAA5D,EAAqE;YACnE,KAAK,IAAIkC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGlC,IAAI,CAACmC,MAAzB,EAAiCD,CAAC,EAAlC,EAAsC;cACpC,KAAKT,SAAL,CACEzB,IAAI,CAACkC,CAAD,CADN,EAEEzB,mBAFF,EAGEiB,cAAc,GAAG,GAAjB,GAAuBQ,CAAvB,GAA2B,GAH7B,EAIEP,KAAK,GAAG,CAJV;YAMD;UACF,CAXD,CAaA;;;UACA;QACD;;QAED,IAAIN,IAAI,GAAG,KAAKH,SAAL,CAAkBlB,IAAlB,EAAwBS,mBAAxB,CAAX,CAvB0D,CAyB1D;;;QACA,IAAI,KAAK2B,SAAL,CAAcf,IAAd,EAAoBK,cAApB,EAAoCC,KAApC,CAAJ,EAAgD;UAC9C;QACD,CA5ByD,CA8B1D;;;QACA,KAAK,IAAIU,GAAT,IAAgBrC,IAAhB,EAAsB;UACpB,KAAKyB,SAAL,CAAezB,IAAI,CAACqC,GAAD,CAAnB,EAA0B5B,mBAA1B,EAA+C4B,GAA/C,EAAoDV,KAAK,GAAG,CAA5D;QACD,CAjCyD,CAmC1D;;;QACA,IAAIrC,EAAE,CAACI,KAAH,CAAS8B,SAAT,CAAmB,mBAAmBH,IAAtC,CAAJ,EAAiD;UAC/C;QACD,CAtCyD,CAwC1D;;;QACA,IACE,KAAKhB,SAAL,IACA,KAAKA,SAAL,CAAgBiC,aADhB,IAEA,KAAKjC,SAAL,CAAgBiC,aAAhB,CAA8BjB,IAA9B,EAAoCrB,IAApC,EAA0C0B,cAA1C,EAA0DC,KAA1D,KAAoE,IAHtE,EAIE;UACA;QACD,CA/CyD,CAiD1D;;;QACA,IAAIY,UAAU,GAAG,EAAjB,CAlD0D,CAmD1D;;QACA,IAAItB,OAAO,GAAG;UAAEuB,SAAa,EAAE,KAAKA;QAAtB,CAAd;;QACA,KAAK,IAAIH,GAAT,IAAgBrC,IAAhB,EAAsB;UACpB;UACA,IAAI,KAAKK,SAAL,IAAmB,KAAKA,SAAL,CAAgBoC,kBAAvC,EAA2D;YACzDJ,GAAG,GAAG,KAAKhC,SAAL,CAAgBoC,kBAAhB,CAAmCJ,GAAnC,EAAwChB,IAAxC,CAAN;UACD,CAJmB,CAMpB;;;UACAgB,GAAG,GAAGA,GAAG,CAACK,OAAJ,CAAY,WAAZ,EAAyB,EAAzB,CAAN,CAPoB,CAQpB;;UAQAH,UAAU,CAACF,GAAD,CAAV,GAAkB,EAAlB;UACAE,UAAU,CAACF,GAAD,CAAV,CAAgBM,QAAhB,GAA2B,IAA3B;UACAJ,UAAU,CAACF,GAAD,CAAV,CAAgBO,KAAhB,GAAwB,WAAWtD,EAAE,CAACsC,IAAH,CAAQiB,MAAR,CAAeC,OAAf,CAAuBT,GAAvB,CAAnC,CAlBoB,CAmBpB;;UACA,IAAI5B,mBAAJ,EAAyB;YACvB8B,UAAU,CAACF,GAAD,CAAV,CAAgBU,KAAhB,GAAwB,wBAAxB;UACD,CAtBmB,CAuBpB;;;UACA,IAAI,KAAK1C,SAAL,IAAmB,KAAKA,SAAL,CAAgB2C,iBAAvC,EAA0D;YACxD,IAAIC,IAAI,GAAG,KAAK5C,SAAL,CAAgB2C,iBAAhB,CAAkC3B,IAAlC,EAAwCgB,GAAxC,CAAX;;YACA,IAAIY,IAAJ,EAAU;cACRV,UAAU,CAACF,GAAD,CAAV,CAAgBa,QAAhB,GAA2B,cAAcb,GAAzC;cACApB,OAAO,CAAC,cAAcoB,GAAf,CAAP,GAA6BY,IAA7B;YACD;UACF;QACF,CApFyD,CAsF1D;;;QACA,IAAI,KAAK5C,SAAL,IAAmB,KAAKA,SAAL,CAAgB8C,kBAAvC,EAA2D;UACzD,IAAIC,UAAU,GACZ,KAAK/C,SAAL,CAAgB8C,kBAAhB,CAAmC9B,IAAnC,EAAyCK,cAAzC,EAAyDC,KAAzD,KACArC,EAAE,CAACO,IAAH,CAAQC,MAFV;QAGD,CAJD,MAIO;UACL,IAAIsD,UAAU,GAAG9D,EAAE,CAACO,IAAH,CAAQC,MAAzB;QACD,CA7FyD,CA+F1D;;;QACA,IAAIuD,MAAM,GAAG,EAAb;;QACA,IAAI,KAAKhD,SAAL,IAAmB,KAAKA,SAAL,CAAgBiD,cAAvC,EAAuD;UACrD,IAAIC,cAAc,GAAG,KAAKlD,SAAL,CAAgBiD,cAAhB,CACnBjC,IADmB,EAEnBK,cAFmB,EAGnBC,KAHmB,CAArB,CADqD,CAOrD;;;UACA,IAAI,CAACrC,EAAE,CAACsC,IAAH,CAAQC,IAAR,CAAa2B,OAAb,CAAqBD,cAArB,CAAL,EAA2C;YACzC,IAAIA,cAAc,IAAI,IAAtB,EAA4B;cAC1BF,MAAM,GAAG,CAACE,cAAD,CAAT;YACD;UACF,CAJD,MAIO;YACLF,MAAM,GAAGE,cAAT;UACD;QACF,CAhHyD,CAkH1D;;;QACA,IAAI9C,mBAAJ,EAAyB;UACvB4C,MAAM,CAACI,IAAP,CAAYnE,EAAE,CAACU,IAAH,CAAQC,OAAR,CAAgByD,cAA5B;QACD,CArHyD,CAuH1D;;;QACA,IAAIC,QAAQ,GAAG;UACb/D,MAAM,EAAEwD,UADK;UAEbQ,OAAO,EAAEP,MAFI;UAGbd,UAAU,EAAEA,UAHC;UAIbtB,OAAO,EAAEA;QAJI,CAAf;QAOA3B,EAAE,CAACI,KAAH,CAASC,MAAT,CAAgB,mBAAmB0B,IAAnC,EAAyCsC,QAAzC;MACD,CA1NM;;MA4NP;AACJ;AACA;AACA;AACA;MACInB,SAjOO,qBAiOOqB,IAjOP,EAiOa;QAClB,IAAI,EAAEA,IAAI,YAAYvE,EAAE,CAACO,IAAH,CAAQC,MAA1B,CAAJ,EAAuC;UACrC;UACA;QACD,CAJiB,CAKlB;;;QACA,IAAI+D,IAAI,CAACC,UAAL,EAAJ,EAAuB;UACrB;QACD;;QACDD,IAAI,CAACE,OAAL;MACD,CA3OM;;MA6OP;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;MACIC,SAxPO,qBAwPU3C,IAxPV,EAwPgBrB,IAxPhB,EAwPsB0B,cAxPtB,EAwPsCC,KAxPtC,EAwP6C;QAClD,IAAIsC,aAAJ,CADkD,CAElD;;QACA,IAAI,KAAK5D,SAAL,IAAmB,KAAKA,SAAL,CAAgBiC,aAAvC,EAAsD;UACpD2B,aAAa,GAAG,KAAK5D,SAAL,CAAgBiC,aAAhB,CACdjB,IADc,EAEdrB,IAFc,EAGd0B,cAHc,EAIdC,KAJc,CAAhB;QAMD;;QACD,IAAIsC,aAAa,IAAI,IAArB,EAA2B;UACzB,OAAO,IAAIA,aAAJ,EAAP;QACD,CAFD,MAEO;UACL,IAAIC,SAAS,GAAG,mBAAmB7C,IAAnC;UACA,IAAI8C,KAAK,GAAG7E,EAAE,CAACI,KAAH,CAAS0E,SAAT,CAAmBF,SAAnB,CAAZ;;UACA,IAAI,CAACC,KAAL,EAAY;YACV;YACA,IAAIE,iBAAiB,GAAGH,SAAS,CAACxB,OAAV,CAAkB,GAAlB,EAAuB,EAAvB,CAAxB;;YACA,IAAIpD,EAAE,CAACI,KAAH,CAAS0E,SAAT,CAAmBC,iBAAnB,CAAJ,EAA2C;cACzC,MAAM,IAAIC,KAAJ,CACJ,YACED,iBADF,GAEE,WAFF,GAGE,6CAJE,CAAN;YAMD;;YACD,MAAM,IAAIC,KAAJ,CAAU,YAAYJ,SAAZ,GAAwB,uBAAlC,CAAN;UACD;;UACD,OAAO,IAAIC,KAAJ,EAAP;QACD;MACF,CAvRM;;MAyRP;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;MACI/B,SAjSO,qBAiSEf,IAjSF,EAiSQK,cAjSR,EAiSwBC,KAjSxB,EAiS+B;QACpC,IAAI4C,GAAG,GAAG,KAAKlE,SAAf;QACA,OAAOkE,GAAG,IAAIA,GAAG,CAACC,MAAX,IAAqBD,GAAG,CAACC,MAAJ,CAAWnD,IAAX,EAAiBK,cAAjB,EAAiCC,KAAjC,CAA5B;MACD,CApSM;;MAsSP;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;MACIf,OApTO,mBAoTCZ,IApTD,EAoTOS,mBApTP,EAoT4B;QACjC,OAAO,KAAKgE,SAAL,CAAezE,IAAf,EAAqBS,mBAArB,EAA0C,IAA1C,EAAgD,CAAhD,CAAP;MACD,CAtTM;;MAwTP;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;MACIgE,SArUO,qBAqUGzE,IArUH,EAqUSS,mBArUT,EAqU8BiB,cArU9B,EAqU8CC,KArU9C,EAqUqD;QAC1D,IAAIG,QAAQ,GAAGxC,EAAE,CAACsC,IAAH,CAAQC,IAAR,CAAaC,QAAb,CAAsB9B,IAAtB,CAAf;QACA,IAAIwD,OAAO,GACTxD,IAAI,YAAYgC,KAAhB,IAAyB1C,EAAE,CAACC,SAAH,CAAa0C,QAAb,CAAsBjC,IAAtB,KAA+B,OAD1D;;QAGA,IACG,CAAC8B,QAAD,IAAa,CAAC0B,OAAf,IACA,CAAC,CAACxD,IAAI,CAAC+B,UADP,IACqB;QACrB/B,IAAI,YAAYV,EAAE,CAACO,IAAH,CAAQC,MAH1B,EAIE;UACA,OAAOE,IAAP,CADA,CAGA;QACD,CARD,MAQO,IACL,KAAKoC,SAAL,CACE,KAAKhB,SAAL,CAAsBpB,IAAtB,EAA4BS,mBAA5B,CADF,EAEEiB,cAFF,EAGEC,KAHF,CADK,EAML;UACA,OAAO3B,IAAP;QACD,CARM,MAQA,IAAIwD,OAAJ,EAAa;UAClB,IAAIkB,UAAU,GAAGpF,EAAE,CAACU,IAAH,CAAQgC,KAAzB;;UACA,IAAI,KAAK3B,SAAL,IAAmB,KAAKA,SAAL,CAAgBsE,aAAvC,EAAsD;YACpD,IAAIC,gBAAgB,GAAG,KAAKvE,SAAL,CAAgBsE,aAAhB,CACrBjD,cADqB,EAErBC,KAFqB,CAAvB;;YAKA+C,UAAU,GAAGE,gBAAgB,IAAIF,UAAjC;UACD;;UAED,IAAIG,KAAK,GAAG,IAAIH,UAAJ,EAAZ,CAXkB,CAYlB;;UACAG,KAAK,CAACC,mBAAN,CAA0B,IAA1B;;UAEA,KAAK,IAAI5C,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGlC,IAAI,CAACmC,MAAzB,EAAiCD,CAAC,EAAlC,EAAsC;YACpC2C,KAAK,CAACpB,IAAN,CACE,KAAKgB,SAAL,CACEzE,IAAI,CAACkC,CAAD,CADN,EAEEzB,mBAFF,EAGEiB,cAAc,GAAG,GAAjB,GAAuBQ,CAAvB,GAA2B,GAH7B,EAIEP,KAAK,GAAG,CAJV,CADF;UAQD;;UACD,OAAOkD,KAAP;QACD,CA1BM,MA0BA,IAAI/C,QAAJ,EAAc;UACnB;UACA,IAAIT,IAAI,GAAG,KAAKD,SAAL,CAAsBpB,IAAtB,EAA4BS,mBAA5B,CAAX;;UACA,IAAIsE,KAAK,GAAG,KAAKf,SAAL,CAAsB3C,IAAtB,EAA4BrB,IAA5B,EAAkC0B,cAAlC,EAAkDC,KAAlD,CAAZ,CAHmB,CAKnB;;;UACA,KAAK,IAAIU,GAAT,IAAgBrC,IAAhB,EAAsB;YACpB;YACA,IAAIgF,YAAY,GAAG3C,GAAnB;;YACA,IAAI,KAAKhC,SAAL,IAAmB,KAAKA,SAAL,CAAgBoC,kBAAvC,EAA2D;cACzDuC,YAAY,GAAG,KAAK3E,SAAL,CAAgBoC,kBAAhB,CAAmCJ,GAAnC,EAAwChB,IAAxC,CAAf;YACD;;YACD,IAAI4D,oBAAoB,GAAGD,YAAY,CAACtC,OAAb,CAAqB,WAArB,EAAkC,EAAlC,CAA3B,CANoB,CAOpB;;YAeAsC,YAAY,GAAGC,oBAAf,CAtBoB,CAuBpB;;YACA,IAAIC,UAAU,GAAG,QAAQ5F,EAAE,CAACsC,IAAH,CAAQiB,MAAR,CAAeC,OAAf,CAAuBkC,YAAvB,CAAzB;;YACA,IAAID,KAAK,CAACG,UAAD,CAAT,EAAuB;cACrBH,KAAK,CAACG,UAAD,CAAL,CACE,KAAKT,SAAL,CAAezE,IAAI,CAACqC,GAAD,CAAnB,EAA0B5B,mBAA1B,EAA+C4B,GAA/C,EAAoDV,KAAK,GAAG,CAA5D,CADF;YAGD;UACF;;UACD,OAAOoD,KAAP;QACD;;QAED,MAAM,IAAIT,KAAJ,CAAU,mBAAV,CAAN;MACD;IA7ZM;EAzD6B,CAAxC;EAxBAhF,EAAE,CAACU,IAAH,CAAQC,OAAR,CAAgBS,IAAhB,CAAqBjB,aAArB,GAAqCA,aAArC"
}