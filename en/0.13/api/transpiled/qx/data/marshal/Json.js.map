{
  "version": 3,
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "extend",
    "core",
    "Object",
    "implement",
    "data",
    "marshal",
    "IMarshaler",
    "construct",
    "delegate",
    "constructor",
    "call",
    "__delegate",
    "statics",
    "$$instance",
    "createModel",
    "includeBubbleEvents",
    "Json",
    "toClass",
    "toModel",
    "legacyJsonHash",
    "keys",
    "sort",
    "join",
    "members",
    "__jsonToHash",
    "__P_179_1",
    "getJsonHash",
    "__jsonToBestHash",
    "__P_179_2",
    "hash",
    "bubbleClassHash",
    "bubbleClassName",
    "isDefined",
    "__toClass",
    "__P_179_3",
    "parentProperty",
    "depth",
    "lang",
    "Type",
    "isObject",
    "$$isString",
    "Array",
    "getClass",
    "i",
    "length",
    "__ignore",
    "key",
    "getModelClass",
    "properties",
    "__disposeItem",
    "getPropertyMapping",
    "replace",
    "nullable",
    "event",
    "String",
    "firstUp",
    "apply",
    "getValidationRule",
    "rule",
    "validate",
    "getModelSuperClass",
    "superClass",
    "mixins",
    "getModelMixins",
    "delegateMixins",
    "isArray",
    "push",
    "MEventBubbling",
    "newClass",
    "include",
    "__P_179_5",
    "item",
    "isDisposed",
    "dispose",
    "__createInstance",
    "__P_179_6",
    "delegateClass",
    "className",
    "clazz",
    "getByName",
    "noBubbleClassName",
    "Error",
    "__P_179_4",
    "del",
    "ignore",
    "__toModel",
    "__P_179_7",
    "arrayClass",
    "getArrayClass",
    "customArrayClass",
    "array",
    "setAutoDisposeItems",
    "model",
    "propertyName",
    "propertyNameReplaced",
    "setterName"
  ],
  "sources": [
    "/home/runner/work/CometVisu/CometVisu/node_modules/@qooxdoo/framework/source/class/qx/data/marshal/Json.js"
  ],
  "sourcesContent": [
    "/* ************************************************************************\r\n\r\n   qooxdoo - the new era of web development\r\n\r\n   http://qooxdoo.org\r\n\r\n   Copyright:\r\n     2004-2009 1&1 Internet AG, Germany, http://www.1und1.de\r\n\r\n   License:\r\n     MIT: https://opensource.org/licenses/MIT\r\n     See the LICENSE file in the project's top-level directory for details.\r\n\r\n   Authors:\r\n     * Martin Wittemann (martinwittemann)\r\n\r\n************************************************************************ */\r\n\r\n/**\r\n * This class is responsible for converting json data to class instances\r\n * including the creation of the classes.\r\n * To retrieve the native data of created models use the methods\r\n *   described in {@link qx.util.Serializer}.\r\n */\r\nqx.Class.define(\"qx.data.marshal.Json\", {\r\n  extend: qx.core.Object,\r\n  implement: [qx.data.marshal.IMarshaler],\r\n\r\n  /**\r\n   * @param delegate {Object} An object containing one of the methods described\r\n   *   in {@link qx.data.marshal.IMarshalerDelegate}.\r\n   */\r\n  construct(delegate) {\r\n    super();\r\n\r\n    this.__delegate = delegate;\r\n  },\r\n\r\n  statics: {\r\n    $$instance: null,\r\n\r\n    /**\r\n     * Creates a qooxdoo object based on the given json data. This function\r\n     * is just a static wrapper. If you want to configure the creation\r\n     * process of the class, use {@link qx.data.marshal.Json} directly.\r\n     *\r\n     * @param data {Object} The object for which classes should be created.\r\n     * @param includeBubbleEvents {Boolean} Whether the model should support\r\n     *   the bubbling of change events or not.\r\n     *\r\n     * @return {qx.core.Object} An instance of the corresponding class.\r\n     */\r\n    createModel(data, includeBubbleEvents) {\r\n      // singleton for the json marshaler\r\n      if (this.$$instance === null) {\r\n        this.$$instance = new qx.data.marshal.Json();\r\n      }\r\n      // be sure to create the classes first\r\n      this.$$instance.toClass(data, includeBubbleEvents);\r\n      // return the model\r\n      return this.$$instance.toModel(data);\r\n    },\r\n\r\n    /**\r\n     * Legacy json hash method used as default in Qooxdoo < v6.0.\r\n     * You can go back to the old behaviour like this:\r\n     *\r\n     * <code>\r\n     *  var marshaller = new qx.data.marshal.Json({\r\n     *   getJsonHash: qx.data.marshal.Json.legacyJsonHash\r\n     *  });\r\n     * </code>\r\n     */\r\n    legacyJsonHash(data, includeBubbleEvents) {\r\n      return (\r\n        Object.keys(data).sort().join('\"') +\r\n        (includeBubbleEvents === true ? \"♥\" : \"\")\r\n      );\r\n    }\r\n  },\r\n\r\n  members: {\r\n    __delegate: null,\r\n\r\n    /**\r\n     * Converts a given object into a hash which will be used to identify the\r\n     * classes under the namespace <code>qx.data.model</code>.\r\n     *\r\n     * @param data {Object} The JavaScript object from which the hash is\r\n     *   required.\r\n     * @param includeBubbleEvents {Boolean?false} Whether the model should\r\n     *   support the bubbling of change events or not.\r\n     * @return {String} The hash representation of the given JavaScript object.\r\n     */\r\n    __jsonToHash(data, includeBubbleEvents) {\r\n      if (this.__delegate && this.__delegate.getJsonHash) {\r\n        return this.__delegate.getJsonHash(data, includeBubbleEvents);\r\n      }\r\n      return (\r\n        Object.keys(data).sort().join(\"|\") +\r\n        (includeBubbleEvents === true ? \"♥\" : \"\")\r\n      );\r\n    },\r\n\r\n    /**\r\n     * Get the \"most enhanced\" hash for a given object.  That is the hash for\r\n     * the class that is most feature rich in respect of the bubble event\r\n     * feature. If there are two equal classes available (defined), one with\r\n     * and one without the bubble event feature, this method will return the\r\n     * hash of the class that includes the bubble event.\r\n     *\r\n     * @param data {Object} The JavaScript object from which the hash is\r\n     *   required.\r\n     * @param includeBubbleEvents {Boolean} Whether the preferred model should\r\n     *   support the bubbling of change events or not.\r\n     *   If <code>null</code>, an automatic selection will take place which\r\n     *   selects the \"best\" model currently available.\r\n     * @return {String} The hash representation of the given JavaScript object.\r\n     */\r\n    __jsonToBestHash(data, includeBubbleEvents) {\r\n      // forced mode?\r\n      //\r\n      if (includeBubbleEvents === true) {\r\n        return this.__jsonToHash(data, true);\r\n      }\r\n      if (includeBubbleEvents === false) {\r\n        return this.__jsonToHash(data, false);\r\n      }\r\n\r\n      // automatic mode!\r\n      //\r\n      var hash = this.__jsonToHash(data); // without bubble event feature\r\n      var bubbleClassHash = hash + \"♥\"; // with bubble event feature\r\n      var bubbleClassName = \"qx.data.model.\" + bubbleClassHash;\r\n\r\n      // In case there's a class with bubbling, we *always* prefer that one!\r\n      return qx.Class.isDefined(bubbleClassName) ? bubbleClassHash : hash;\r\n    },\r\n\r\n    /**\r\n     * Creates for the given data the needed classes. The classes contain for\r\n     * every key in the data a property. The classname is always the prefix\r\n     * <code>qx.data.model</code> and the hash of the data created by\r\n     * {@link #__jsonToHash}. Two objects containing the same keys will not\r\n     * create two different classes. The class creation process also supports\r\n     * the functions provided by its delegate.\r\n     *\r\n     * Important, please keep in mind that only valid JavaScript identifiers\r\n     * can be used as keys in the data map. For convenience '-' in keys will\r\n     * be removed (a-b will be ab in the end).\r\n     *\r\n     * @see qx.data.store.IStoreDelegate\r\n     *\r\n     * @param data {Object} The object for which classes should be created.\r\n     * @param includeBubbleEvents {Boolean} Whether the model should support\r\n     *   the bubbling of change events or not.\r\n     */\r\n    toClass(data, includeBubbleEvents) {\r\n      this.__toClass(data, includeBubbleEvents, null, 0);\r\n    },\r\n\r\n    /**\r\n     * Implementation of {@link #toClass} used for recursion.\r\n     *\r\n     * @param data {Object} The object for which classes should be created.\r\n     * @param includeBubbleEvents {Boolean} Whether the model should support\r\n     *   the bubbling of change events or not.\r\n     * @param parentProperty {String|null} The name of the property the\r\n     *   data will be stored in.\r\n     * @param depth {Number} The depth of the data relative to the data's root.\r\n     */\r\n    __toClass(data, includeBubbleEvents, parentProperty, depth) {\r\n      // break on all primitive json types and qooxdoo objects\r\n      if (\r\n        !qx.lang.Type.isObject(data) ||\r\n        !!data.$$isString || // check for localized strings\r\n        data instanceof qx.core.Object\r\n      ) {\r\n        // check for arrays\r\n        if (data instanceof Array || qx.Bootstrap.getClass(data) == \"Array\") {\r\n          for (var i = 0; i < data.length; i++) {\r\n            this.__toClass(\r\n              data[i],\r\n              includeBubbleEvents,\r\n              parentProperty + \"[\" + i + \"]\",\r\n              depth + 1\r\n            );\r\n          }\r\n        }\r\n\r\n        // ignore arrays and primitive types\r\n        return;\r\n      }\r\n\r\n      var hash = this.__jsonToHash(data, includeBubbleEvents);\r\n\r\n      // ignore rules\r\n      if (this.__ignore(hash, parentProperty, depth)) {\r\n        return;\r\n      }\r\n\r\n      // check for the possible child classes\r\n      for (var key in data) {\r\n        this.__toClass(data[key], includeBubbleEvents, key, depth + 1);\r\n      }\r\n\r\n      // class already exists\r\n      if (qx.Class.isDefined(\"qx.data.model.\" + hash)) {\r\n        return;\r\n      }\r\n\r\n      // class is defined by the delegate\r\n      if (\r\n        this.__delegate &&\r\n        this.__delegate.getModelClass &&\r\n        this.__delegate.getModelClass(hash, data, parentProperty, depth) != null\r\n      ) {\r\n        return;\r\n      }\r\n\r\n      // create the properties map\r\n      var properties = {};\r\n      // include the disposeItem for the dispose process.\r\n      var members = { __disposeItem: this.__disposeItem };\r\n      for (var key in data) {\r\n        // apply the property names mapping\r\n        if (this.__delegate && this.__delegate.getPropertyMapping) {\r\n          key = this.__delegate.getPropertyMapping(key, hash);\r\n        }\r\n\r\n        // strip the unwanted characters\r\n        key = key.replace(/-|\\.|\\s+/g, \"\");\r\n        // check for valid JavaScript identifier (leading numbers are ok)\r\n        if (qx.core.Environment.get(\"qx.debug\")) {\r\n          this.assertTrue(\r\n            /^[$0-9A-Za-z_]*$/.test(key),\r\n            \"The key '\" + key + \"' is not a valid JavaScript identifier.\"\r\n          );\r\n        }\r\n\r\n        properties[key] = {};\r\n        properties[key].nullable = true;\r\n        properties[key].event = \"change\" + qx.lang.String.firstUp(key);\r\n        // bubble events\r\n        if (includeBubbleEvents) {\r\n          properties[key].apply = \"_applyEventPropagation\";\r\n        }\r\n        // validation rules\r\n        if (this.__delegate && this.__delegate.getValidationRule) {\r\n          var rule = this.__delegate.getValidationRule(hash, key);\r\n          if (rule) {\r\n            properties[key].validate = \"_validate\" + key;\r\n            members[\"_validate\" + key] = rule;\r\n          }\r\n        }\r\n      }\r\n\r\n      // try to get the superclass, qx.core.Object as default\r\n      if (this.__delegate && this.__delegate.getModelSuperClass) {\r\n        var superClass =\r\n          this.__delegate.getModelSuperClass(hash, parentProperty, depth) ||\r\n          qx.core.Object;\r\n      } else {\r\n        var superClass = qx.core.Object;\r\n      }\r\n\r\n      // try to get the mixins\r\n      var mixins = [];\r\n      if (this.__delegate && this.__delegate.getModelMixins) {\r\n        var delegateMixins = this.__delegate.getModelMixins(\r\n          hash,\r\n          parentProperty,\r\n          depth\r\n        );\r\n\r\n        // check if its an array\r\n        if (!qx.lang.Type.isArray(delegateMixins)) {\r\n          if (delegateMixins != null) {\r\n            mixins = [delegateMixins];\r\n          }\r\n        } else {\r\n          mixins = delegateMixins;\r\n        }\r\n      }\r\n\r\n      // include the mixin for the event bubbling\r\n      if (includeBubbleEvents) {\r\n        mixins.push(qx.data.marshal.MEventBubbling);\r\n      }\r\n\r\n      // create the map for the class\r\n      var newClass = {\r\n        extend: superClass,\r\n        include: mixins,\r\n        properties: properties,\r\n        members: members\r\n      };\r\n\r\n      qx.Class.define(\"qx.data.model.\" + hash, newClass);\r\n    },\r\n\r\n    /**\r\n     * Helper for disposing items of the created class.\r\n     *\r\n     * @param item {var} The item to dispose.\r\n     */\r\n    __disposeItem(item) {\r\n      if (!(item instanceof qx.core.Object)) {\r\n        // ignore all non objects\r\n        return;\r\n      }\r\n      // ignore already disposed items (could happen during shutdown)\r\n      if (item.isDisposed()) {\r\n        return;\r\n      }\r\n      item.dispose();\r\n    },\r\n\r\n    /**\r\n     * Creates an instance for the given data hash.\r\n     *\r\n     * @param hash {String} The hash of the data for which an instance should\r\n     *   be created.\r\n     * @param parentProperty {String|null} The name of the property the data\r\n     *   will be stored in.\r\n     * @param depth {Number} The depth of the object relative to the data root.\r\n     * @param data {Map} The data for which an instance should be created.\r\n     * @return {qx.core.Object} An instance of the corresponding class.\r\n     */\r\n    __createInstance(hash, data, parentProperty, depth) {\r\n      var delegateClass;\r\n      // get the class from the delegate\r\n      if (this.__delegate && this.__delegate.getModelClass) {\r\n        delegateClass = this.__delegate.getModelClass(\r\n          hash,\r\n          data,\r\n          parentProperty,\r\n          depth\r\n        );\r\n      }\r\n      if (delegateClass != null) {\r\n        return new delegateClass();\r\n      } else {\r\n        var className = \"qx.data.model.\" + hash;\r\n        var clazz = qx.Class.getByName(className);\r\n        if (!clazz) {\r\n          // Extra check for possible bubble-event feature inconsistency\r\n          var noBubbleClassName = className.replace(\"♥\", \"\");\r\n          if (qx.Class.getByName(noBubbleClassName)) {\r\n            throw new Error(\r\n              \"Class '\" +\r\n                noBubbleClassName +\r\n                \"' found, \" +\r\n                \"but it does not support changeBubble event.\"\r\n            );\r\n          }\r\n          throw new Error(\"Class '\" + className + \"' could not be found.\");\r\n        }\r\n        return new clazz();\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Helper to decide if the delegate decides to ignore a data set.\r\n     * @param hash {String} The property names.\r\n     * @param parentProperty {String|null} The name of the property the data\r\n     *   will be stored in.\r\n     * @param depth {Number} The depth of the object relative to the data root.\r\n     * @return {Boolean} <code>true</code> if the set should be ignored\r\n     */\r\n    __ignore(hash, parentProperty, depth) {\r\n      var del = this.__delegate;\r\n      return del && del.ignore && del.ignore(hash, parentProperty, depth);\r\n    },\r\n\r\n    /**\r\n     * Creates for the given data the needed models. Be sure to have the classes\r\n     * created with {@link #toClass} before calling this method. The creation\r\n     * of the class itself is delegated to the {@link #__createInstance} method,\r\n     * which could use the {@link qx.data.store.IStoreDelegate} methods, if\r\n     * given.\r\n     *\r\n     * @param data {Object} The object for which models should be created.\r\n     * @param includeBubbleEvents {Boolean?null} Whether the model should\r\n     *   support the bubbling of change events or not.\r\n     *   If omitted or <code>null</code>, an automatic selection will take place\r\n     *   which selects the \"best\" model currently available.\r\n     * @return {qx.core.Object} The created model object.\r\n     */\r\n    toModel(data, includeBubbleEvents) {\r\n      return this.__toModel(data, includeBubbleEvents, null, 0);\r\n    },\r\n\r\n    /**\r\n     * Implementation of {@link #toModel} used for recursion.\r\n     *\r\n     * @param data {Object} The object for which models should be created.\r\n     * @param includeBubbleEvents {Boolean|null} Whether the model should\r\n     *   support the bubbling of change events or not.\r\n     *   If <code>null</code>, an automatic selection will take place which\r\n     *   selects the \"best\" model currently available.\r\n     * @param parentProperty {String|null} The name of the property the\r\n     *   data will be stored in.\r\n     * @param depth {Number} The depth of the data relative to the data's root.\r\n     * @return {qx.core.Object} The created model object.\r\n     */\r\n    __toModel(data, includeBubbleEvents, parentProperty, depth) {\r\n      var isObject = qx.lang.Type.isObject(data);\r\n      var isArray =\r\n        data instanceof Array || qx.Bootstrap.getClass(data) == \"Array\";\r\n\r\n      if (\r\n        (!isObject && !isArray) ||\r\n        !!data.$$isString || // check for localized strings\r\n        data instanceof qx.core.Object\r\n      ) {\r\n        return data;\r\n\r\n        // ignore rules\r\n      } else if (\r\n        this.__ignore(\r\n          this.__jsonToBestHash(data, includeBubbleEvents),\r\n          parentProperty,\r\n          depth\r\n        )\r\n      ) {\r\n        return data;\r\n      } else if (isArray) {\r\n        var arrayClass = qx.data.Array;\r\n        if (this.__delegate && this.__delegate.getArrayClass) {\r\n          var customArrayClass = this.__delegate.getArrayClass(\r\n            parentProperty,\r\n            depth\r\n          );\r\n\r\n          arrayClass = customArrayClass || arrayClass;\r\n        }\r\n\r\n        var array = new arrayClass();\r\n        // set the auto dispose for the array\r\n        array.setAutoDisposeItems(true);\r\n\r\n        for (var i = 0; i < data.length; i++) {\r\n          array.push(\r\n            this.__toModel(\r\n              data[i],\r\n              includeBubbleEvents,\r\n              parentProperty + \"[\" + i + \"]\",\r\n              depth + 1\r\n            )\r\n          );\r\n        }\r\n        return array;\r\n      } else if (isObject) {\r\n        // create an instance for the object\r\n        var hash = this.__jsonToBestHash(data, includeBubbleEvents);\r\n        var model = this.__createInstance(hash, data, parentProperty, depth);\r\n\r\n        // go threw all element in the data\r\n        for (var key in data) {\r\n          // apply the property names mapping\r\n          var propertyName = key;\r\n          if (this.__delegate && this.__delegate.getPropertyMapping) {\r\n            propertyName = this.__delegate.getPropertyMapping(key, hash);\r\n          }\r\n          var propertyNameReplaced = propertyName.replace(/-|\\.|\\s+/g, \"\");\r\n          // warn if there has been a replacement\r\n          if (\r\n            qx.core.Environment.get(\"qx.debug\") &&\r\n            qx.core.Environment.get(\"qx.debug.databinding\")\r\n          ) {\r\n            if (propertyNameReplaced != propertyName) {\r\n              this.warn(\r\n                \"The model contained an illegal name: '\" +\r\n                  key +\r\n                  \"'. Replaced it with '\" +\r\n                  propertyName +\r\n                  \"'.\"\r\n              );\r\n            }\r\n          }\r\n          propertyName = propertyNameReplaced;\r\n          // only set the properties if they are available [BUG #5909]\r\n          var setterName = \"set\" + qx.lang.String.firstUp(propertyName);\r\n          if (model[setterName]) {\r\n            model[setterName](\r\n              this.__toModel(data[key], includeBubbleEvents, key, depth + 1)\r\n            );\r\n          }\r\n        }\r\n        return model;\r\n      }\r\n\r\n      throw new Error(\"Unsupported type!\");\r\n    }\r\n  }\r\n});\r\n"
  ],
  "mappings": "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"
}