{
  "version": 3,
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Mixin",
    "define",
    "construct",
    "Class",
    "hasProperty",
    "constructor",
    "Error",
    "getSelection",
    "__ownSelection",
    "data",
    "Array",
    "setSelection",
    "properties",
    "selection",
    "check",
    "event",
    "apply",
    "init",
    "events",
    "changeSelection",
    "changeValue",
    "members",
    "_modifingSelection",
    "__selectionListenerId",
    "__selectionArrayListenerId",
    "setValue",
    "resetSelection",
    "getValue",
    "resetValue",
    "_applySelection",
    "value",
    "old",
    "undefined",
    "removeListenerById",
    "addListener",
    "__changeSelectionArray",
    "_updateSelection",
    "_changeTargetSelection",
    "getTarget",
    "__targetSupportsMultiSelection",
    "__targetSupportsSingleSelection",
    "_inSelectionModification",
    "targetSelection",
    "spliceArgs",
    "getLength",
    "i",
    "length",
    "model",
    "getModel",
    "push",
    "splice",
    "dispose",
    "fireDataEvent",
    "_addChangeTargetListener",
    "_startSelectionModification",
    "getItem",
    "selectable",
    "__getSelectableForModel",
    "targetSelectionItems",
    "includes",
    "item",
    "__selectItem",
    "_endSelectionModification",
    "targetClass",
    "implementsInterface",
    "ui",
    "core",
    "IMultiSelection",
    "ISingleSelection",
    "addToSelection",
    "children",
    "getSelectables",
    "destruct",
    "controller",
    "MSelection"
  ],
  "sources": [
    "/home/runner/work/CometVisu/CometVisu/node_modules/@qooxdoo/framework/source/class/qx/data/controller/MSelection.js"
  ],
  "sourcesContent": [
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2009 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Martin Wittemann (martinwittemann)\n\n************************************************************************ */\n\n/**\n * Mixin for the selection in the data binding controller.\n * It contains an selection property which can be manipulated.\n * Remember to call the method {@link #_addChangeTargetListener} on every\n * change of the target.\n * It is also important that the elements stored in the target e.g. ListItems\n * do have the corresponding model stored as user data under the \"model\" key.\n */\nqx.Mixin.define(\"qx.data.controller.MSelection\", {\n  /*\n  *****************************************************************************\n     CONSTRUCTOR\n  *****************************************************************************\n  */\n\n  construct() {\n    // check for a target property\n    if (!qx.Class.hasProperty(this.constructor, \"target\")) {\n      throw new Error(\"Target property is needed.\");\n    }\n\n    // create a default selection array\n    if (this.getSelection() == null) {\n      this.__ownSelection = new qx.data.Array();\n      this.setSelection(this.__ownSelection);\n    }\n  },\n\n  /*\n  *****************************************************************************\n     PROPERTIES\n  *****************************************************************************\n  */\n\n  properties: {\n    /**\n     * Data array containing the selected model objects. This property can be\n     * manipulated directly which means that a push to the selection will also\n     * select the corresponding element in the target.\n     */\n    selection: {\n      check: \"qx.data.Array\",\n      event: \"changeSelection\",\n      apply: \"_applySelection\",\n      init: null\n    }\n  },\n\n  events: {\n    /**\n     * This event is fired as soon as the content of the selection property changes, but\n     * this is not equal to the change of the selection of the widget. If the selection\n     * of the widget changes, the content of the array stored in the selection property\n     * changes. This means you have to listen to the change event of the selection array\n     * to get an event as soon as the user changes the selected item.\n     * <pre class=\"javascript\">obj.getSelection().addListener(\"change\", listener, this);</pre>\n     */\n    changeSelection: \"qx.event.type.Data\",\n\n    /** Fires after the value was modified */\n    changeValue: \"qx.event.type.Data\"\n  },\n\n  /*\n  *****************************************************************************\n     MEMBERS\n  *****************************************************************************\n  */\n\n  members: {\n    // private members //\n    // set the semaphore-like variable for the selection change\n    _modifingSelection: 0,\n    __selectionListenerId: null,\n    __selectionArrayListenerId: null,\n    __ownSelection: null,\n\n    /**\n     * setValue implements part of the {@link qx.ui.form.IField} interface.\n     *\n     * @param selection {qx.data.IListData|null} List data to select as value.\n     * @return {null} The status of this operation.\n     */\n    setValue(selection) {\n      if (null === selection) {\n        this.resetSelection();\n      } else {\n        this.setSelection(selection);\n      }\n\n      return null;\n    },\n\n    /**\n     * getValue implements part of the {@link qx.ui.form.IField} interface.\n     *\n     * @return {qx.data.IListData} The current selection.\n     */\n    getValue() {\n      return this.getSelection();\n    },\n\n    /**\n     * resetValue implements part of the {@link qx.ui.form.IField} interface.\n     */\n    resetValue() {\n      this.resetSelection();\n    },\n\n    /*\n    ---------------------------------------------------------------------------\n       APPLY METHODS\n    ---------------------------------------------------------------------------\n    */\n    /**\n     * Apply-method for setting a new selection array. Only the change listener\n     * will be removed from the old array and added to the new.\n     *\n     * @param value {qx.data.Array} The new data array for the selection.\n     * @param old {qx.data.Array|null} The old data array for the selection.\n     */\n    _applySelection(value, old) {\n      // remove the old listener if necessary\n      if (this.__selectionArrayListenerId != undefined && old != undefined) {\n        old.removeListenerById(this.__selectionArrayListenerId);\n        this.__selectionArrayListenerId = null;\n      }\n      // add a new change listener to the changeArray\n      if (value) {\n        this.__selectionArrayListenerId = value.addListener(\n          \"change\",\n          this.__changeSelectionArray,\n          this\n        );\n      }\n\n      // apply the new selection\n      this._updateSelection();\n    },\n\n    /*\n    ---------------------------------------------------------------------------\n       EVENT HANDLER\n    ---------------------------------------------------------------------------\n    */\n    /**\n     * Event handler for the change of the data array holding the selection.\n     * If a change is in the selection array, the selection update will be\n     * invoked.\n     */\n    __changeSelectionArray() {\n      this._updateSelection();\n    },\n\n    /**\n     * Event handler for a change in the target selection.\n     * If the selection in the target has changed, the selected model objects\n     * will be found and added to the selection array.\n     */\n    _changeTargetSelection() {\n      // dont do anything without a target\n      if (this.getTarget() == null) {\n        return;\n      }\n\n      // if a selection API is supported\n      if (\n        !this.__targetSupportsMultiSelection() &&\n        !this.__targetSupportsSingleSelection()\n      ) {\n        return;\n      }\n\n      // if __changeSelectionArray is currently working, do nothing\n      if (this._inSelectionModification()) {\n        return;\n      }\n\n      // get both selections\n      var targetSelection = this.getTarget().getSelection();\n      var selection = this.getSelection();\n      if (selection == null) {\n        selection = new qx.data.Array();\n        this.__ownSelection = selection;\n        this.setSelection(selection);\n      }\n\n      // go through the target selection\n      var spliceArgs = [0, selection.getLength()];\n      for (var i = 0; i < targetSelection.length; i++) {\n        var model = targetSelection[i].getModel();\n        if (model !== null) {\n          spliceArgs.push(model);\n        }\n      }\n      // use splice to ensure a correct change event [BUG #4728]\n      selection.splice.apply(selection, spliceArgs).dispose();\n\n      // fire the change event manually\n      this.fireDataEvent(\"changeSelection\", this.getSelection());\n    },\n\n    /*\n    ---------------------------------------------------------------------------\n       SELECTION\n    ---------------------------------------------------------------------------\n    */\n    /**\n     * Helper method which should be called by the classes including this\n     * Mixin when the target changes.\n     *\n     * @param value {qx.ui.core.Widget|null} The new target.\n     * @param old {qx.ui.core.Widget|null} The old target.\n     */\n    _addChangeTargetListener(value, old) {\n      // remove the old selection listener\n      if (this.__selectionListenerId != undefined && old != undefined) {\n        old.removeListenerById(this.__selectionListenerId);\n      }\n\n      if (value != null) {\n        // if a selection API is supported\n        if (\n          this.__targetSupportsMultiSelection() ||\n          this.__targetSupportsSingleSelection()\n        ) {\n          // add a new selection listener\n          this.__selectionListenerId = value.addListener(\n            \"changeSelection\",\n            this._changeTargetSelection,\n            this\n          );\n        }\n      }\n    },\n\n    /**\n     * Method for updating the selection. It checks for the case of single or\n     * multi selection and after that checks if the selection in the selection\n     * array is the same as in the target widget.\n     */\n    _updateSelection() {\n      // do not update if no target is given\n      if (!this.getTarget() || !this.getSelection()) {\n        return;\n      }\n      // mark the change process in a flag\n      this._startSelectionModification();\n\n      // if its a multi selection target\n      if (this.__targetSupportsMultiSelection()) {\n        var targetSelection = [];\n        // go through the selection array\n        for (var i = 0; i < this.getSelection().length; i++) {\n          // store each item\n          var model = this.getSelection().getItem(i);\n          var selectable = this.__getSelectableForModel(model);\n          if (selectable != null) {\n            targetSelection.push(selectable);\n          }\n        }\n        this.getTarget().setSelection(targetSelection);\n\n        // get the selection of the target\n        targetSelection = this.getTarget().getSelection();\n        // get all items selected in the list\n        var targetSelectionItems = [];\n        for (var i = 0; i < targetSelection.length; i++) {\n          targetSelectionItems[i] = targetSelection[i].getModel();\n        }\n\n        // go through the controller selection\n        for (var i = this.getSelection().length - 1; i >= 0; i--) {\n          // if the item in the controller selection is not selected in the list\n          if (!targetSelectionItems.includes(this.getSelection().getItem(i))) {\n            // remove the current element and get rid of the return array\n            this.getSelection().splice(i, 1).dispose();\n          }\n        }\n\n        // if its a single selection target\n      } else if (this.__targetSupportsSingleSelection()) {\n        // get the model which should be selected\n        var item = this.getSelection().getItem(this.getSelection().length - 1);\n        if (item !== undefined) {\n          // select the last selected item (old selection will be removed anyway)\n          this.__selectItem(item);\n          // remove the other items from the selection data array and get\n          // rid of the return array\n          this.getSelection()\n            .splice(0, this.getSelection().getLength() - 1)\n            .dispose();\n        } else {\n          // if there is no item to select (e.g. new model set [BUG #4125]),\n          // reset the selection\n          this.getTarget().resetSelection();\n        }\n      }\n\n      // reset the changing flag\n      this._endSelectionModification();\n      this.fireDataEvent(\"changeValue\", this.getSelection());\n    },\n\n    /**\n     * Helper-method returning true, if the target supports multi selection.\n     * @return {Boolean} true, if the target supports multi selection.\n     */\n    __targetSupportsMultiSelection() {\n      var targetClass = this.getTarget().constructor;\n      return qx.Class.implementsInterface(\n        targetClass,\n        qx.ui.core.IMultiSelection\n      );\n    },\n\n    /**\n     * Helper-method returning true, if the target supports single selection.\n     * @return {Boolean} true, if the target supports single selection.\n     */\n    __targetSupportsSingleSelection() {\n      var targetClass = this.getTarget().constructor;\n      return qx.Class.implementsInterface(\n        targetClass,\n        qx.ui.core.ISingleSelection\n      );\n    },\n\n    /**\n     * Internal helper for selecting an item in the target. The item to select\n     * is defined by a given model item.\n     *\n     * @param item {qx.core.Object} A model element.\n     */\n    __selectItem(item) {\n      var selectable = this.__getSelectableForModel(item);\n      // if no selectable could be found, just return\n      if (selectable == null) {\n        return;\n      }\n      // if the target is multi selection able\n      if (this.__targetSupportsMultiSelection()) {\n        // select the item in the target\n        this.getTarget().addToSelection(selectable);\n        // if the target is single selection able\n      } else if (this.__targetSupportsSingleSelection()) {\n        this.getTarget().setSelection([selectable]);\n      }\n    },\n\n    /**\n     * Returns the list item storing the given model in its model property.\n     *\n     * @param model {var} The representing model of a selectable.\n     * @return {Object|null} List item or <code>null</code> if none was found\n     */\n    __getSelectableForModel(model) {\n      // get all list items\n      var children = this.getTarget().getSelectables(true);\n\n      // go through all children and search for the child to select\n      for (var i = 0; i < children.length; i++) {\n        if (children[i].getModel() == model) {\n          return children[i];\n        }\n      }\n      // if no selectable was found\n      return null;\n    },\n\n    /**\n     * Helper-Method signaling that currently the selection of the target is\n     * in change. That will block the change of the internal selection.\n     * {@link #_endSelectionModification}\n     */\n    _startSelectionModification() {\n      this._modifingSelection++;\n    },\n\n    /**\n     * Helper-Method signaling that the internal changing of the targets\n     * selection is over.\n     * {@link #_startSelectionModification}\n     */\n    _endSelectionModification() {\n      this._modifingSelection > 0 ? this._modifingSelection-- : null;\n    },\n\n    /**\n     * Helper-Method for checking the state of the selection modification.\n     * {@link #_startSelectionModification}\n     * {@link #_endSelectionModification}\n     * @return {Boolean} <code>true</code> if selection modification is active\n     */\n    _inSelectionModification() {\n      return this._modifingSelection > 0;\n    }\n  },\n\n  /*\n  *****************************************************************************\n     DESTRUCTOR\n  *****************************************************************************\n  */\n\n  destruct() {\n    if (this.__ownSelection) {\n      this.__ownSelection.dispose();\n    }\n  }\n});\n"
  ],
  "mappings": "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"
}