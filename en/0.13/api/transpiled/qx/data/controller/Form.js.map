{
  "version": 3,
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "extend",
    "core",
    "Object",
    "implement",
    "IDisposable",
    "construct",
    "model",
    "target",
    "selfUpdate",
    "constructor",
    "call",
    "_selfUpdate",
    "__bindingOptions",
    "setModel",
    "setTarget",
    "properties",
    "check",
    "apply",
    "event",
    "nullable",
    "dereference",
    "init",
    "members",
    "__objectController",
    "addBindingOptions",
    "name",
    "model2target",
    "target2model",
    "getModel",
    "getTarget",
    "item",
    "getItems",
    "targetProperty",
    "__isModelSelectable",
    "removeTarget",
    "addTarget",
    "createModel",
    "includeBubbleEvents",
    "Error",
    "items",
    "data",
    "names",
    "split",
    "currentData",
    "i",
    "length",
    "clazz",
    "itemValue",
    "hasInterface",
    "ui",
    "ISingleSelection",
    "getModelSelection",
    "getItem",
    "getValue",
    "converter",
    "marshal",
    "Json",
    "updateModel",
    "sourceProperty",
    "options",
    "SingleValueBinding",
    "updateTarget",
    "_applyTarget",
    "value",
    "old",
    "__tearDownBinding",
    "__setUpBinding",
    "_applyModel",
    "getValidationManager",
    "reset",
    "__P_173_4",
    "controller",
    "ex",
    "redefineResetter",
    "__P_173_3",
    "oldTarget",
    "__P_173_2",
    "form",
    "IModelSelection",
    "destruct",
    "dispose",
    "Form"
  ],
  "sources": [
    "/home/runner/work/CometVisu/CometVisu/node_modules/@qooxdoo/framework/source/class/qx/data/controller/Form.js"
  ],
  "sourcesContent": [
    "/* ************************************************************************\r\n\r\n   qooxdoo - the new era of web development\r\n\r\n   http://qooxdoo.org\r\n\r\n   Copyright:\r\n     2004-2009 1&1 Internet AG, Germany, http://www.1und1.de\r\n\r\n   License:\r\n     MIT: https://opensource.org/licenses/MIT\r\n     See the LICENSE file in the project's top-level directory for details.\r\n\r\n   Authors:\r\n     * Martin Wittemann (martinwittemann)\r\n\r\n************************************************************************ */\r\n/**\r\n * <h2>Form Controller</h2>\r\n *\r\n * *General idea*\r\n *\r\n * The form controller is responsible for connecting a form with a model. If no\r\n * model is given, a model can be created. This created model will fit exactly\r\n * to the given form and can be used for serialization. All the connections\r\n * between the form items and the model are handled by an internal\r\n * {@link qx.data.controller.Object}.\r\n *\r\n * *Features*\r\n *\r\n * * Connect a form to a model (bidirectional)\r\n * * Create a model for a given form\r\n *\r\n * *Usage*\r\n *\r\n * The controller only works if both a controller and a model are set.\r\n * Creating a model will automatically set the created model.\r\n *\r\n * *Cross reference*\r\n *\r\n * * If you want to bind single values, use {@link qx.data.controller.Object}\r\n * * If you want to bind a list like widget, use {@link qx.data.controller.List}\r\n * * If you want to bind a tree widget, use {@link qx.data.controller.Tree}\r\n */\r\nqx.Class.define(\"qx.data.controller.Form\", {\r\n  extend: qx.core.Object,\r\n  implement: [qx.core.IDisposable],\r\n\r\n  /**\r\n   * @param model {qx.core.Object | null} The model to bind the target to. The\r\n   *   given object will be set as {@link #model} property.\r\n   * @param target {qx.ui.form.Form | null} The form which contains the form\r\n   *   items. The given form will be set as {@link #target} property.\r\n   * @param selfUpdate {Boolean?false} If set to true, you need to call the\r\n   *   {@link #updateModel} method to get the data in the form to the model.\r\n   *   Otherwise, the data will be synced automatically on every change of\r\n   *   the form.\r\n   */\r\n  construct(model, target, selfUpdate) {\r\n    super();\r\n\r\n    this._selfUpdate = !!selfUpdate;\r\n    this.__bindingOptions = {};\r\n\r\n    if (model != null) {\r\n      this.setModel(model);\r\n    }\r\n\r\n    if (target != null) {\r\n      this.setTarget(target);\r\n    }\r\n  },\r\n\r\n  properties: {\r\n    /** Data object containing the data which should be shown in the target. */\r\n    model: {\r\n      check: \"qx.core.Object\",\r\n      apply: \"_applyModel\",\r\n      event: \"changeModel\",\r\n      nullable: true,\r\n      dereference: true\r\n    },\r\n\r\n    /** The target widget which should show the data. */\r\n    target: {\r\n      check: \"qx.ui.form.Form\",\r\n      apply: \"_applyTarget\",\r\n      event: \"changeTarget\",\r\n      nullable: true,\r\n      init: null,\r\n      dereference: true\r\n    }\r\n  },\r\n\r\n  members: {\r\n    __objectController: null,\r\n    __bindingOptions: null,\r\n\r\n    /**\r\n     * The form controller uses for setting up the bindings the fundamental\r\n     * binding layer, the {@link qx.data.SingleValueBinding}. To achieve a\r\n     * binding in both directions, two bindings are needed. With this method,\r\n     * you have the opportunity to set the options used for the bindings.\r\n     *\r\n     * @param name {String} The name of the form item for which the options\r\n     *   should be used.\r\n     * @param model2target {Map} Options map used for the binding from model\r\n     *   to target. The possible options can be found in the\r\n     *   {@link qx.data.SingleValueBinding} class.\r\n     * @param target2model {Map} Options map used for the binding from target\r\n     *   to model. The possible options can be found in the\r\n     *   {@link qx.data.SingleValueBinding} class.\r\n     */\r\n    addBindingOptions(name, model2target, target2model) {\r\n      this.__bindingOptions[name] = [model2target, target2model];\r\n\r\n      // return if not both, model and target are given\r\n      if (this.getModel() == null || this.getTarget() == null) {\r\n        return;\r\n      }\r\n\r\n      // renew the affected binding\r\n      var item = this.getTarget().getItems()[name];\r\n      var targetProperty = this.__isModelSelectable(item)\r\n        ? \"modelSelection[0]\"\r\n        : \"value\";\r\n\r\n      // remove the binding\r\n      this.__objectController.removeTarget(item, targetProperty, name);\r\n      // set up the new binding with the options\r\n      this.__objectController.addTarget(\r\n        item,\r\n        targetProperty,\r\n        name,\r\n        !this._selfUpdate,\r\n        model2target,\r\n        target2model\r\n      );\r\n    },\r\n\r\n    /**\r\n     * Creates and sets a model using the {@link qx.data.marshal.Json} object.\r\n     * Remember that this method can only work if the form is set. The created\r\n     * model will fit exactly that form. Changing the form or adding an item to\r\n     * the form will need a new model creation.\r\n     *\r\n     * @param includeBubbleEvents {Boolean} Whether the model should support\r\n     *   the bubbling of change events or not.\r\n     * @return {qx.core.Object} The created model.\r\n     */\r\n    createModel(includeBubbleEvents) {\r\n      var target = this.getTarget();\r\n\r\n      // throw an error if no target is set\r\n      if (target == null) {\r\n        throw new Error(\"No target is set.\");\r\n      }\r\n\r\n      var items = target.getItems();\r\n      var data = {};\r\n      for (var name in items) {\r\n        var names = name.split(\".\");\r\n        var currentData = data;\r\n        for (var i = 0; i < names.length; i++) {\r\n          // if its the last item\r\n          if (i + 1 == names.length) {\r\n            // check if the target is a selection\r\n            var clazz = items[name].constructor;\r\n            var itemValue = null;\r\n            if (qx.Class.hasInterface(clazz, qx.ui.core.ISingleSelection)) {\r\n              // use the first element of the selection because passed to the\r\n              // marshaler (and its single selection anyway) [BUG #3541]\r\n              itemValue = items[name].getModelSelection().getItem(0) || null;\r\n            } else {\r\n              itemValue = items[name].getValue();\r\n            }\r\n            // call the converter if available [BUG #4382]\r\n            if (this.__bindingOptions[name] && this.__bindingOptions[name][1]) {\r\n              itemValue = this.__bindingOptions[name][1].converter(itemValue);\r\n            }\r\n            currentData[names[i]] = itemValue;\r\n          } else {\r\n            // if its not the last element, check if the object exists\r\n            if (!currentData[names[i]]) {\r\n              currentData[names[i]] = {};\r\n            }\r\n            currentData = currentData[names[i]];\r\n          }\r\n        }\r\n      }\r\n\r\n      var model = qx.data.marshal.Json.createModel(data, includeBubbleEvents);\r\n      this.setModel(model);\r\n\r\n      return model;\r\n    },\r\n\r\n    /**\r\n     * Responsible for syncing the data from entered in the form to the model.\r\n     * Please keep in mind that this method only works if you create the form\r\n     * controller with <code>selfUpdate</code> parameter set to true. Otherwise,\r\n     * this method will do nothing because updates will be synced automatically\r\n     * on every change.\r\n     */\r\n    updateModel() {\r\n      // only do stuff if self update is enabled and a model or target is set\r\n      if (!this._selfUpdate || !this.getModel() || !this.getTarget()) {\r\n        return;\r\n      }\r\n\r\n      var items = this.getTarget().getItems();\r\n      for (var name in items) {\r\n        var item = items[name];\r\n        var sourceProperty = this.__isModelSelectable(item)\r\n          ? \"modelSelection[0]\"\r\n          : \"value\";\r\n\r\n        var options = this.__bindingOptions[name];\r\n        options = options && this.__bindingOptions[name][1];\r\n\r\n        qx.data.SingleValueBinding.updateTarget(\r\n          item,\r\n          sourceProperty,\r\n          this.getModel(),\r\n          name,\r\n          options\r\n        );\r\n      }\r\n    },\r\n\r\n    // apply method\r\n    _applyTarget(value, old) {\r\n      // if an old target is given, remove the binding\r\n      if (old != null) {\r\n        this.__tearDownBinding(old);\r\n      }\r\n\r\n      // do nothing if no target is set\r\n      if (this.getModel() == null) {\r\n        return;\r\n      }\r\n\r\n      // target and model are available\r\n      if (value != null) {\r\n        this.__setUpBinding();\r\n      }\r\n    },\r\n\r\n    // apply method\r\n    _applyModel(value, old) {\r\n      // set the model to null to reset all items before removing them\r\n      if (this.__objectController != null && value == null) {\r\n        this.__objectController.setModel(null);\r\n      }\r\n\r\n      // first, get rid off all bindings (avoids wrong data population)\r\n      if (this.__objectController != null && this.getTarget() != null) {\r\n        var items = this.getTarget().getItems();\r\n        for (var name in items) {\r\n          var item = items[name];\r\n          var targetProperty = this.__isModelSelectable(item)\r\n            ? \"modelSelection[0]\"\r\n            : \"value\";\r\n          this.__objectController.removeTarget(item, targetProperty, name);\r\n        }\r\n      }\r\n\r\n      // set the model of the object controller if available\r\n      if (this.__objectController != null) {\r\n        this.__objectController.setModel(value);\r\n      }\r\n\r\n      // do nothing is no target is set\r\n      if (this.getTarget() == null) {\r\n        return;\r\n      } else {\r\n        // if form was validated with errors and model changes\r\n        // the errors should be cleared see #8977\r\n        this.getTarget().getValidationManager().reset();\r\n      }\r\n\r\n      // model and target are available\r\n      if (value != null) {\r\n        this.__setUpBinding();\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Internal helper for setting up the bindings using\r\n     * {@link qx.data.controller.Object#addTarget}. All bindings are set\r\n     * up bidirectional.\r\n     */\r\n    __setUpBinding() {\r\n      // create the object controller\r\n      if (this.__objectController == null) {\r\n        this.__objectController = new qx.data.controller.Object(\r\n          this.getModel()\r\n        );\r\n      }\r\n\r\n      // get the form items\r\n      var items = this.getTarget().getItems();\r\n\r\n      // connect all items\r\n      for (var name in items) {\r\n        var item = items[name];\r\n        var targetProperty = this.__isModelSelectable(item)\r\n          ? \"modelSelection[0]\"\r\n          : \"value\";\r\n        var options = this.__bindingOptions[name];\r\n\r\n        // try to bind all given items in the form\r\n        try {\r\n          if (options == null) {\r\n            this.__objectController.addTarget(\r\n              item,\r\n              targetProperty,\r\n              name,\r\n              !this._selfUpdate\r\n            );\r\n          } else {\r\n            this.__objectController.addTarget(\r\n              item,\r\n              targetProperty,\r\n              name,\r\n              !this._selfUpdate,\r\n              options[0],\r\n              options[1]\r\n            );\r\n          }\r\n          // ignore not working items\r\n        } catch (ex) {\r\n          if (qx.core.Environment.get(\"qx.debug\")) {\r\n            this.warn(\r\n              \"Could not bind property \" +\r\n                name +\r\n                \" of \" +\r\n                this.getModel() +\r\n                \":\\n\" +\r\n                ex.stack\r\n            );\r\n          }\r\n        }\r\n      }\r\n      // make sure the initial values of the model are taken for resetting [BUG #5874]\r\n      this.getTarget().redefineResetter();\r\n    },\r\n\r\n    /**\r\n     * Internal helper for removing all set up bindings using\r\n     * {@link qx.data.controller.Object#removeTarget}.\r\n     *\r\n     * @param oldTarget {qx.ui.form.Form} The form which has been removed.\r\n     */\r\n    __tearDownBinding(oldTarget) {\r\n      // do nothing if the object controller has not been created\r\n      if (this.__objectController == null) {\r\n        return;\r\n      }\r\n\r\n      // get the items\r\n      var items = oldTarget.getItems();\r\n\r\n      // disconnect all items\r\n      for (var name in items) {\r\n        var item = items[name];\r\n        var targetProperty = this.__isModelSelectable(item)\r\n          ? \"modelSelection[0]\"\r\n          : \"value\";\r\n        this.__objectController.removeTarget(item, targetProperty, name);\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Returns whether the given item implements\r\n     * {@link qx.ui.core.ISingleSelection} and\r\n     * {@link qx.ui.form.IModelSelection}.\r\n     *\r\n     * @param item {qx.ui.form.IForm} The form item to check.\r\n     *\r\n     * @return {Boolean} true, if given item fits.\r\n     */\r\n    __isModelSelectable(item) {\r\n      return (\r\n        qx.Class.hasInterface(item.constructor, qx.ui.core.ISingleSelection) &&\r\n        qx.Class.hasInterface(item.constructor, qx.ui.form.IModelSelection)\r\n      );\r\n    }\r\n  },\r\n\r\n  /*\r\n   *****************************************************************************\r\n      DESTRUCTOR\r\n   *****************************************************************************\r\n   */\r\n\r\n  destruct() {\r\n    // dispose the object controller because the bindings need to be removed\r\n    if (this.__objectController) {\r\n      this.__objectController.dispose();\r\n    }\r\n  }\r\n});\r\n"
  ],
  "mappings": "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"
}