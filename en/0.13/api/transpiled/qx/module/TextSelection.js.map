{
  "version": 3,
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "define",
    "statics",
    "__isInput",
    "__P_293_0",
    "el",
    "tag",
    "tagName",
    "toLowerCase",
    "__getTextNode",
    "__P_293_1",
    "i",
    "l",
    "childNodes",
    "length",
    "nodeType",
    "members",
    "getTextSelection",
    "module",
    "TextSelection",
    "bom",
    "Selection",
    "get",
    "getTextSelectionLength",
    "getLength",
    "getTextSelectionStart",
    "getStart",
    "getTextSelectionEnd",
    "getEnd",
    "setTextSelection",
    "start",
    "end",
    "set",
    "clearTextSelection",
    "_forEachElement",
    "clear",
    "defer",
    "qxWeb",
    "$attachAll"
  ],
  "sources": [
    "/home/runner/work/CometVisu/CometVisu/node_modules/@qooxdoo/framework/source/class/qx/module/TextSelection.js"
  ],
  "sourcesContent": [
    "/* ************************************************************************\r\n\r\n   qooxdoo - the new era of web development\r\n\r\n   http://qooxdoo.org\r\n\r\n   Copyright:\r\n     2011-2012 1&1 Internet AG, Germany, http://www.1und1.de\r\n\r\n   License:\r\n     MIT: https://opensource.org/licenses/MIT\r\n     See the LICENSE file in the project's top-level directory for details.\r\n\r\n   Authors:\r\n     * Martin Wittemann (wittemann)\r\n     * Daniel Wagner (danielwagner)\r\n\r\n************************************************************************ */\r\n/**\r\n * Text selection manipulation module\r\n */\r\nqx.Bootstrap.define(\"qx.module.TextSelection\", {\r\n  statics: {\r\n    /**\r\n     * Checks if the given DOM node is a text input field or textarea\r\n     *\r\n     * @param el {Element} The node to check\r\n     * @return {Boolean} <code>true</code> if the given node is an input field\r\n     *\r\n     * @attach {qxWeb}\r\n     */\r\n    __isInput(el) {\r\n      var tag = el.tagName ? el.tagName.toLowerCase() : null;\r\n      return tag === \"input\" || tag === \"textarea\";\r\n    },\r\n\r\n    /**\r\n     * Returns the first text child node of the given element\r\n     *\r\n     * @param el {Element} DOM element\r\n     * @return {Node|null} text node\r\n     *\r\n     * @attach {qxWeb}\r\n     */\r\n    __getTextNode(el) {\r\n      for (var i = 0, l = el.childNodes.length; i < l; i++) {\r\n        if (el.childNodes[i].nodeType === 3) {\r\n          return el.childNodes[i];\r\n        }\r\n      }\r\n      return null;\r\n    }\r\n  },\r\n\r\n  members: {\r\n    /**\r\n     * Get the text selection of the first element.\r\n     *\r\n     * @return {String|null}\r\n     */\r\n    getTextSelection() {\r\n      var el = this[0];\r\n      if (el) {\r\n        if (!qx.module.TextSelection.__isInput(el)) {\r\n          el = qx.module.TextSelection.__getTextNode(el);\r\n        }\r\n        return el ? qx.bom.Selection.get(el) : null;\r\n      }\r\n\r\n      return null;\r\n    },\r\n\r\n    /**\r\n     * Get the length of the text selection of the first element.\r\n     *\r\n     *\r\n     * @return {Integer|null}\r\n     *\r\n     * @attach {qxWeb}\r\n     */\r\n    getTextSelectionLength() {\r\n      var el = this[0];\r\n      if (el) {\r\n        if (!qx.module.TextSelection.__isInput(el)) {\r\n          el = qx.module.TextSelection.__getTextNode(el);\r\n        }\r\n        return el ? qx.bom.Selection.getLength(el) : null;\r\n      }\r\n\r\n      return null;\r\n    },\r\n\r\n    /**\r\n     * Get the start of the text selection of the first element.\r\n     *\r\n     * @return {Integer|null}\r\n     *\r\n     * @attach {qxWeb}\r\n     */\r\n    getTextSelectionStart() {\r\n      var el = this[0];\r\n      if (el) {\r\n        if (!qx.module.TextSelection.__isInput(el)) {\r\n          el = qx.module.TextSelection.__getTextNode(el);\r\n        }\r\n        return el ? qx.bom.Selection.getStart(el) : null;\r\n      }\r\n\r\n      return null;\r\n    },\r\n\r\n    /**\r\n     * Get the end of the text selection of the first element.\r\n     *\r\n     * @return {Integer|null}\r\n     *\r\n     * @attach {qxWeb}\r\n     */\r\n    getTextSelectionEnd() {\r\n      var el = this[0];\r\n      if (el) {\r\n        if (!qx.module.TextSelection.__isInput(el)) {\r\n          el = qx.module.TextSelection.__getTextNode(el);\r\n        }\r\n        return el ? qx.bom.Selection.getEnd(el) : null;\r\n      }\r\n\r\n      return null;\r\n    },\r\n\r\n    /**\r\n     * Set the text selection of the first element in the collection\r\n     * with the given start and end value.\r\n     * If no end value is passed the selection will extend to the end.\r\n     *\r\n     * @param start {Integer} start of the selection (zero based)\r\n     * @param end {Integer} end of the selection\r\n     * @return {qxWeb} The collection for chaining.\r\n     *\r\n     * @attach {qxWeb}\r\n     */\r\n    setTextSelection(start, end) {\r\n      var el = this[0];\r\n      if (el) {\r\n        if (!qx.module.TextSelection.__isInput(el)) {\r\n          el = qx.module.TextSelection.__getTextNode(el);\r\n        }\r\n        if (el) {\r\n          qx.bom.Selection.set(el, start, end);\r\n        }\r\n      }\r\n\r\n      return this;\r\n    },\r\n\r\n    /**\r\n     * Clears the text selection of all elements.\r\n     *\r\n     * @return {qxWeb} The collection for chaining.\r\n     *\r\n     * @attach {qxWeb}\r\n     */\r\n    clearTextSelection() {\r\n      this._forEachElement(function (el) {\r\n        if (!qx.module.TextSelection.__isInput(el)) {\r\n          el = qx.module.TextSelection.__getTextNode(el);\r\n        }\r\n        if (el) {\r\n          qx.bom.Selection.clear(el);\r\n        }\r\n      });\r\n      return this;\r\n    }\r\n  },\r\n\r\n  defer(statics) {\r\n    qxWeb.$attachAll(this);\r\n  }\r\n});\r\n"
  ],
  "mappings": "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"
}