{
  "version": 3,
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "define",
    "statics",
    "TYPES",
    "BIND_METHODS",
    "getKeyIdentifier",
    "type",
    "qxWeb",
    "env",
    "get",
    "charCode",
    "event",
    "util",
    "Keyboard",
    "charCodeToIdentifier",
    "keyCode",
    "keyCodeToIdentifier",
    "normalize",
    "element",
    "bindMethods",
    "module",
    "i",
    "l",
    "length",
    "bind",
    "registerInputFix",
    "__inputFix",
    "on",
    "_inputFix",
    "unregisterInputFix",
    "hasListener",
    "off",
    "ev",
    "target",
    "getTarget",
    "newValue",
    "getValue",
    "__oldInputValue",
    "_type",
    "$$emitter",
    "emit",
    "defer",
    "$registerEventNormalization",
    "$registerEventHook"
  ],
  "sources": [
    "/home/runner/work/CometVisu/CometVisu/node_modules/@qooxdoo/framework/source/class/qx/module/event/Keyboard.js"
  ],
  "sourcesContent": [
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2012 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Daniel Wagner (danielwagner)\n\n************************************************************************ */\n\n/**\n * Normalization for native keyboard events.\n *\n * NOTE: Some browsers won't fire the <code>keypress</code> event for all keys.\n * It's generally better to listen for <code>keyup</code> or <code>keydown</code>\n * instead.\n *\n * @require(qx.module.Event)\n * @require(qx.module.Environment)\n *\n * @group (Event_Normalization)\n */\nqx.Bootstrap.define(\"qx.module.event.Keyboard\", {\n  statics: {\n    /**\n     * List of event types to be normalized\n     */\n    TYPES: [\"keydown\", \"keypress\", \"keyup\"],\n\n    /**\n     * List qx.module.event.Keyboard methods to be attached to native mouse event\n     * objects\n     * @internal\n     */\n    BIND_METHODS: [\"getKeyIdentifier\"],\n\n    /**\n     * Identifier of the pressed key. This property is modeled after the <em>KeyboardEvent.keyIdentifier</em> property\n     * of the W3C DOM 3 event specification\n     * (http://www.w3.org/TR/2003/NOTE-DOM-Level-3-Events-20031107/events.html#Events-KeyboardEvent-keyIdentifier).\n     *\n     * Printable keys are represented by an unicode string, non-printable keys\n     * have one of the following values:\n     *\n     * <table>\n     * <tr><th>Backspace</th><td>The Backspace (Back) key.</td></tr>\n     * <tr><th>Tab</th><td>The Horizontal Tabulation (Tab) key.</td></tr>\n     * <tr><th>Space</th><td>The Space (Spacebar) key.</td></tr>\n     * <tr><th>Enter</th><td>The Enter key. Note: This key identifier is also used for the Return (Macintosh numpad) key.</td></tr>\n     * <tr><th>Shift</th><td>The Shift key.</td></tr>\n     * <tr><th>Control</th><td>The Control (Ctrl) key.</td></tr>\n     * <tr><th>Alt</th><td>The Alt (Menu) key.</td></tr>\n     * <tr><th>CapsLock</th><td>The CapsLock key</td></tr>\n     * <tr><th>Meta</th><td>The Meta key. (Apple Meta and Windows key)</td></tr>\n     * <tr><th>Escape</th><td>The Escape (Esc) key.</td></tr>\n     * <tr><th>Left</th><td>The Left Arrow key.</td></tr>\n     * <tr><th>Up</th><td>The Up Arrow key.</td></tr>\n     * <tr><th>Right</th><td>The Right Arrow key.</td></tr>\n     * <tr><th>Down</th><td>The Down Arrow key.</td></tr>\n     * <tr><th>PageUp</th><td>The Page Up key.</td></tr>\n     * <tr><th>PageDown</th><td>The Page Down (Next) key.</td></tr>\n     * <tr><th>End</th><td>The End key.</td></tr>\n     * <tr><th>Home</th><td>The Home key.</td></tr>\n     * <tr><th>Insert</th><td>The Insert (Ins) key. (Does not fire in Opera/Win)</td></tr>\n     * <tr><th>Delete</th><td>The Delete (Del) Key.</td></tr>\n     * <tr><th>F1</th><td>The F1 key.</td></tr>\n     * <tr><th>F2</th><td>The F2 key.</td></tr>\n     * <tr><th>F3</th><td>The F3 key.</td></tr>\n     * <tr><th>F4</th><td>The F4 key.</td></tr>\n     * <tr><th>F5</th><td>The F5 key.</td></tr>\n     * <tr><th>F6</th><td>The F6 key.</td></tr>\n     * <tr><th>F7</th><td>The F7 key.</td></tr>\n     * <tr><th>F8</th><td>The F8 key.</td></tr>\n     * <tr><th>F9</th><td>The F9 key.</td></tr>\n     * <tr><th>F10</th><td>The F10 key.</td></tr>\n     * <tr><th>F11</th><td>The F11 key.</td></tr>\n     * <tr><th>F12</th><td>The F12 key.</td></tr>\n     * <tr><th>NumLock</th><td>The Num Lock key.</td></tr>\n     * <tr><th>PrintScreen</th><td>The Print Screen (PrintScrn, SnapShot) key.</td></tr>\n     * <tr><th>Scroll</th><td>The scroll lock key</td></tr>\n     * <tr><th>Pause</th><td>The pause/break key</td></tr>\n     * <tr><th>Win</th><td>The Windows Logo key</td></tr>\n     * <tr><th>Apps</th><td>The Application key (Windows Context Menu)</td></tr>\n     * </table>\n     *\n     * @return {String} The key identifier\n     */\n    getKeyIdentifier() {\n      if (\n        this.type == \"keypress\" &&\n        (qxWeb.env.get(\"engine.name\") != \"gecko\" || this.charCode !== 0)\n      ) {\n        return qx.event.util.Keyboard.charCodeToIdentifier(\n          this.charCode || this.keyCode\n        );\n      }\n      return qx.event.util.Keyboard.keyCodeToIdentifier(this.keyCode);\n    },\n\n    /**\n     * Manipulates the native event object, adding methods if they're not\n     * already present\n     *\n     * @param event {Event} Native event object\n     * @param element {Element} DOM element the listener was attached to\n     * @return {Event} Normalized event object\n     * @internal\n     */\n    normalize(event, element) {\n      if (!event) {\n        return event;\n      }\n      var bindMethods = qx.module.event.Keyboard.BIND_METHODS;\n      for (var i = 0, l = bindMethods.length; i < l; i++) {\n        if (typeof event[bindMethods[i]] != \"function\") {\n          event[bindMethods[i]] =\n            qx.module.event.Keyboard[bindMethods[i]].bind(event);\n        }\n      }\n\n      return event;\n    },\n\n    /**\n     * IE9 will not fire an \"input\" event on text input elements if the user changes\n     * the field's value by pressing the Backspace key. We fix this by listening\n     * for the \"keyup\" event and emitting the missing event if necessary\n     *\n     * @param element {Element} Target element\n     * @internal\n     */\n    registerInputFix(element) {\n      if (\n        element.type === \"text\" ||\n        element.type === \"password\" ||\n        element.type === \"textarea\"\n      ) {\n        if (!element.__inputFix) {\n          element.__inputFix = qxWeb(element).on(\n            \"keyup\",\n            qx.module.event.Keyboard._inputFix\n          );\n        }\n      }\n    },\n\n    /**\n     * Removes the IE9 input event fix\n     *\n     * @param element {Element} target element\n     * @internal\n     */\n    unregisterInputFix(element) {\n      if (element.__inputFix && !qxWeb(element).hasListener(\"input\")) {\n        qxWeb(element).off(\"keyup\", qx.module.event.Keyboard._inputFix);\n        element.__inputFix = null;\n      }\n    },\n\n    /**\n     * IE9 fix: Emits an \"input\" event if a text input element's value was changed\n     * using the Backspace key\n     * @param ev {Event} Keyup event\n     */\n    _inputFix(ev) {\n      if (ev.getKeyIdentifier() !== \"Backspace\") {\n        return;\n      }\n      var target = ev.getTarget();\n      var newValue = qxWeb(target).getValue();\n\n      if (!target.__oldInputValue || target.__oldInputValue !== newValue) {\n        target.__oldInputValue = newValue;\n        ev.type = ev._type = \"input\";\n        target.$$emitter.emit(\"input\", ev);\n      }\n    }\n  },\n\n  defer(statics) {\n    qxWeb.$registerEventNormalization(\n      qx.module.event.Keyboard.TYPES,\n      statics.normalize\n    );\n\n    if (\n      qxWeb.env.get(\"engine.name\") === \"mshtml\" &&\n      qxWeb.env.get(\"browser.documentmode\") === 9\n    ) {\n      qxWeb.$registerEventHook(\n        \"input\",\n        statics.registerInputFix,\n        statics.unregisterInputFix\n      );\n    }\n  }\n});\n"
  ],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;EAAAA,EAAE,CAACC,SAAH,CAAaC,oBAAb,CAAkCC,aAAlC;;EAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;EAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EACAH,EAAE,CAACC,SAAH,CAAaG,MAAb,CAAoB,0BAApB,EAAgD;IAC9CC,OAAO,EAAE;MACP;AACJ;AACA;MACIC,KAAK,EAAE,CAAC,SAAD,EAAY,UAAZ,EAAwB,OAAxB,CAJA;;MAMP;AACJ;AACA;AACA;AACA;MACIC,YAAY,EAAE,CAAC,kBAAD,CAXP;;MAaP;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;MACIC,gBAhEO,8BAgEY;QACjB,IACE,KAAKC,IAAL,IAAa,UAAb,KACCC,KAAK,CAACC,GAAN,CAAUC,GAAV,CAAc,aAAd,KAAgC,OAAhC,IAA2C,KAAKC,QAAL,KAAkB,CAD9D,CADF,EAGE;UACA,OAAOb,EAAE,CAACc,KAAH,CAASC,IAAT,CAAcC,QAAd,CAAuBC,oBAAvB,CACL,KAAKJ,QAAL,IAAiB,KAAKK,OADjB,CAAP;QAGD;;QACD,OAAOlB,EAAE,CAACc,KAAH,CAASC,IAAT,CAAcC,QAAd,CAAuBG,mBAAvB,CAA2C,KAAKD,OAAhD,CAAP;MACD,CA1EM;;MA4EP;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;MACIE,SArFO,qBAqFGN,KArFH,EAqFUO,OArFV,EAqFmB;QACxB,IAAI,CAACP,KAAL,EAAY;UACV,OAAOA,KAAP;QACD;;QACD,IAAIQ,WAAW,GAAGtB,EAAE,CAACuB,MAAH,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"
}