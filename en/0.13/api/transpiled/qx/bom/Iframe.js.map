{
  "version": 3,
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "statics",
    "DEFAULT_ATTRIBUTES",
    "frameBorder",
    "frameSpacing",
    "marginWidth",
    "marginHeight",
    "hspace",
    "vspace",
    "border",
    "allowTransparency",
    "create",
    "attributes",
    "win",
    "lang",
    "Object",
    "clone",
    "initValues",
    "bom",
    "Iframe",
    "key",
    "elem",
    "dom",
    "Element",
    "onload",
    "event",
    "handler",
    "onevent",
    "getWindow",
    "iframe",
    "contentWindow",
    "ex",
    "getDocument",
    "contentDocument",
    "document",
    "getBody",
    "doc",
    "getElementsByTagName",
    "setSource",
    "source",
    "Hierarchy",
    "isRendered",
    "core",
    "Environment",
    "get",
    "stop",
    "location",
    "replace",
    "src",
    "__rememberUrl",
    "log",
    "Logger",
    "warn",
    "queryCurrentUrl",
    "href",
    "__P_105_0",
    "callback",
    "Event",
    "removeNativeListener",
    "$$url",
    "addNativeListener"
  ],
  "sources": [
    "/home/runner/work/CometVisu/CometVisu/node_modules/@qooxdoo/framework/source/class/qx/bom/Iframe.js"
  ],
  "sourcesContent": [
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Sebastian Werner (wpbasti)\n     * Andreas Ecker (ecker)\n     * Jonathan Wei√ü (jonathan_rass)\n     * Christian Hagendorn (Chris_schmidt)\n\n************************************************************************ */\n\n/**\n * Cross browser abstractions to work with iframes.\n *\n * @require(qx.event.handler.Iframe)\n */\nqx.Class.define(\"qx.bom.Iframe\", {\n  /*\n  *****************************************************************************\n     STATICS\n  *****************************************************************************\n  */\n\n  statics: {\n    /**\n     * @type {Map} Default attributes for creation {@link #create}.\n     */\n    DEFAULT_ATTRIBUTES: {\n      frameBorder: 0,\n      frameSpacing: 0,\n      marginWidth: 0,\n      marginHeight: 0,\n      hspace: 0,\n      vspace: 0,\n      border: 0,\n      allowTransparency: true\n    },\n\n    /**\n     * Creates an DOM element.\n     *\n     * Attributes may be given directly with this call. This is critical\n     * for some attributes e.g. name, type, ... in many clients.\n     *\n     * @param attributes {Map?null} Map of attributes to apply\n     * @param win {Window?null} Window to create the element for\n     * @return {Element} The created iframe node\n     */\n    create(attributes, win) {\n      // Work on a copy to not modify given attributes map\n      var attributes = attributes ? qx.lang.Object.clone(attributes) : {};\n      var initValues = qx.bom.Iframe.DEFAULT_ATTRIBUTES;\n\n      for (var key in initValues) {\n        if (!(key in attributes)) {\n          attributes[key] = initValues[key];\n        }\n      }\n\n      var elem = qx.dom.Element.create(\"iframe\", attributes, win);\n      if (!(\"onload\" in attributes)) {\n        elem.onload = function () {\n          qx.event.handler.Iframe.onevent(elem);\n        };\n      }\n      return elem;\n    },\n\n    /**\n     * Get the DOM window object of an iframe.\n     *\n     * @param iframe {Element} DOM element of the iframe.\n     * @return {Window?null} The DOM window object of the iframe or null.\n     * @signature function(iframe)\n     */\n    getWindow(iframe) {\n      try {\n        return iframe.contentWindow;\n      } catch (ex) {\n        return null;\n      }\n    },\n\n    /**\n     * Get the DOM document object of an iframe.\n     *\n     * @param iframe {Element} DOM element of the iframe.\n     * @return {Document} The DOM document object of the iframe.\n     */\n    getDocument(iframe) {\n      if (\"contentDocument\" in iframe) {\n        try {\n          return iframe.contentDocument;\n        } catch (ex) {\n          return null;\n        }\n      }\n\n      try {\n        var win = this.getWindow(iframe);\n        return win ? win.document : null;\n      } catch (ex) {\n        return null;\n      }\n    },\n\n    /**\n     * Get the HTML body element of the iframe.\n     *\n     * @param iframe {Element} DOM element of the iframe.\n     * @return {Element} The DOM node of the <code>body</code> element of the iframe.\n     */\n    getBody(iframe) {\n      try {\n        var doc = this.getDocument(iframe);\n        return doc ? doc.getElementsByTagName(\"body\")[0] : null;\n      } catch (ex) {\n        return null;\n      }\n    },\n\n    /**\n     * Sets iframe's source attribute to given value\n     *\n     * @param iframe {Element} DOM element of the iframe.\n     * @param source {String} URL to be set.\n     * @signature function(iframe, source)\n     */\n    setSource(iframe, source) {\n      try {\n        // the guru says ...\n        // it is better to use 'replace' than 'src'-attribute, since 'replace'\n        // does not interfere with the history (which is taken care of by the\n        // history manager), but there has to be a loaded document\n        if (this.getWindow(iframe) && qx.dom.Hierarchy.isRendered(iframe)) {\n          /*\n            Some gecko users might have an exception here:\n            Exception... \"Component returned failure code: 0x805e000a\n            [nsIDOMLocation.replace]\"  nsresult: \"0x805e000a (<unknown>)\"\n          */\n          try {\n            // Webkit on Mac can't set the source when the iframe is still\n            // loading its current page\n            if (\n              qx.core.Environment.get(\"engine.name\") == \"webkit\" &&\n              qx.core.Environment.get(\"os.name\") == \"osx\"\n            ) {\n              var contentWindow = this.getWindow(iframe);\n              if (contentWindow) {\n                contentWindow.stop();\n              }\n            }\n            this.getWindow(iframe).location.replace(source);\n          } catch (ex) {\n            iframe.src = source;\n          }\n        } else {\n          iframe.src = source;\n        }\n\n        // This is a programmer provided source. Remember URL for this source\n        // for later comparison with current URL. The current URL can diverge\n        // if the end-user navigates in the Iframe.\n        this.__rememberUrl(iframe);\n      } catch (ex) {\n        qx.log.Logger.warn(\"Iframe source could not be set!\");\n      }\n    },\n\n    /**\n     * Returns the current (served) URL inside the iframe\n     *\n     * @param iframe {Element} DOM element of the iframe.\n     * @return {String} Returns the location href or null (if a query is not possible/allowed)\n     */\n    queryCurrentUrl(iframe) {\n      var doc = this.getDocument(iframe);\n\n      try {\n        if (doc && doc.location) {\n          return doc.location.href;\n        }\n      } catch (ex) {}\n\n      return \"\";\n    },\n\n    /**\n     * Remember actual URL of iframe.\n     *\n     * @param iframe {Element} DOM element of the iframe.\n     */\n    __rememberUrl(iframe) {\n      // URL can only be detected after load. Retrieve and store URL once.\n      var callback = function () {\n        qx.bom.Event.removeNativeListener(iframe, \"load\", callback);\n        iframe.$$url = qx.bom.Iframe.queryCurrentUrl(iframe);\n      };\n\n      qx.bom.Event.addNativeListener(iframe, \"load\", callback);\n    }\n  }\n});\n"
  ],
  "mappings": "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"
}