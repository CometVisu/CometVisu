{
  "version": 3,
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "statics",
    "DEFAULT_ATTRIBUTES",
    "frameBorder",
    "frameSpacing",
    "marginWidth",
    "marginHeight",
    "hspace",
    "vspace",
    "border",
    "allowTransparency",
    "create",
    "attributes",
    "win",
    "lang",
    "Object",
    "clone",
    "initValues",
    "bom",
    "Iframe",
    "key",
    "elem",
    "dom",
    "Element",
    "onload",
    "event",
    "handler",
    "onevent",
    "getWindow",
    "iframe",
    "contentWindow",
    "ex",
    "getDocument",
    "contentDocument",
    "document",
    "getBody",
    "doc",
    "getElementsByTagName",
    "setSource",
    "source",
    "Hierarchy",
    "isRendered",
    "core",
    "Environment",
    "get",
    "stop",
    "location",
    "replace",
    "src",
    "__rememberUrl",
    "log",
    "Logger",
    "warn",
    "queryCurrentUrl",
    "href",
    "callback",
    "Event",
    "removeNativeListener",
    "$$url",
    "addNativeListener"
  ],
  "sources": [
    "/home/runner/work/CometVisu/CometVisu/node_modules/@qooxdoo/framework/source/class/qx/bom/Iframe.js"
  ],
  "sourcesContent": [
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Sebastian Werner (wpbasti)\n     * Andreas Ecker (ecker)\n     * Jonathan Wei√ü (jonathan_rass)\n     * Christian Hagendorn (Chris_schmidt)\n\n************************************************************************ */\n\n/**\n * Cross browser abstractions to work with iframes.\n *\n * @require(qx.event.handler.Iframe)\n */\nqx.Class.define(\"qx.bom.Iframe\", {\n  /*\n  *****************************************************************************\n     STATICS\n  *****************************************************************************\n  */\n\n  statics: {\n    /**\n     * @type {Map} Default attributes for creation {@link #create}.\n     */\n    DEFAULT_ATTRIBUTES: {\n      frameBorder: 0,\n      frameSpacing: 0,\n      marginWidth: 0,\n      marginHeight: 0,\n      hspace: 0,\n      vspace: 0,\n      border: 0,\n      allowTransparency: true\n    },\n\n    /**\n     * Creates an DOM element.\n     *\n     * Attributes may be given directly with this call. This is critical\n     * for some attributes e.g. name, type, ... in many clients.\n     *\n     * @param attributes {Map?null} Map of attributes to apply\n     * @param win {Window?null} Window to create the element for\n     * @return {Element} The created iframe node\n     */\n    create(attributes, win) {\n      // Work on a copy to not modify given attributes map\n      var attributes = attributes ? qx.lang.Object.clone(attributes) : {};\n      var initValues = qx.bom.Iframe.DEFAULT_ATTRIBUTES;\n\n      for (var key in initValues) {\n        if (!(key in attributes)) {\n          attributes[key] = initValues[key];\n        }\n      }\n\n      var elem = qx.dom.Element.create(\"iframe\", attributes, win);\n      if (!(\"onload\" in attributes)) {\n        elem.onload = function () {\n          qx.event.handler.Iframe.onevent(elem);\n        };\n      }\n      return elem;\n    },\n\n    /**\n     * Get the DOM window object of an iframe.\n     *\n     * @param iframe {Element} DOM element of the iframe.\n     * @return {Window?null} The DOM window object of the iframe or null.\n     * @signature function(iframe)\n     */\n    getWindow(iframe) {\n      try {\n        return iframe.contentWindow;\n      } catch (ex) {\n        return null;\n      }\n    },\n\n    /**\n     * Get the DOM document object of an iframe.\n     *\n     * @param iframe {Element} DOM element of the iframe.\n     * @return {Document} The DOM document object of the iframe.\n     */\n    getDocument(iframe) {\n      if (\"contentDocument\" in iframe) {\n        try {\n          return iframe.contentDocument;\n        } catch (ex) {\n          return null;\n        }\n      }\n\n      try {\n        var win = this.getWindow(iframe);\n        return win ? win.document : null;\n      } catch (ex) {\n        return null;\n      }\n    },\n\n    /**\n     * Get the HTML body element of the iframe.\n     *\n     * @param iframe {Element} DOM element of the iframe.\n     * @return {Element} The DOM node of the <code>body</code> element of the iframe.\n     */\n    getBody(iframe) {\n      try {\n        var doc = this.getDocument(iframe);\n        return doc ? doc.getElementsByTagName(\"body\")[0] : null;\n      } catch (ex) {\n        return null;\n      }\n    },\n\n    /**\n     * Sets iframe's source attribute to given value\n     *\n     * @param iframe {Element} DOM element of the iframe.\n     * @param source {String} URL to be set.\n     * @signature function(iframe, source)\n     */\n    setSource(iframe, source) {\n      try {\n        // the guru says ...\n        // it is better to use 'replace' than 'src'-attribute, since 'replace'\n        // does not interfere with the history (which is taken care of by the\n        // history manager), but there has to be a loaded document\n        if (this.getWindow(iframe) && qx.dom.Hierarchy.isRendered(iframe)) {\n          /*\n            Some gecko users might have an exception here:\n            Exception... \"Component returned failure code: 0x805e000a\n            [nsIDOMLocation.replace]\"  nsresult: \"0x805e000a (<unknown>)\"\n          */\n          try {\n            // Webkit on Mac can't set the source when the iframe is still\n            // loading its current page\n            if (\n              qx.core.Environment.get(\"engine.name\") == \"webkit\" &&\n              qx.core.Environment.get(\"os.name\") == \"osx\"\n            ) {\n              var contentWindow = this.getWindow(iframe);\n              if (contentWindow) {\n                contentWindow.stop();\n              }\n            }\n            this.getWindow(iframe).location.replace(source);\n          } catch (ex) {\n            iframe.src = source;\n          }\n        } else {\n          iframe.src = source;\n        }\n\n        // This is a programmer provided source. Remember URL for this source\n        // for later comparison with current URL. The current URL can diverge\n        // if the end-user navigates in the Iframe.\n        this.__rememberUrl(iframe);\n      } catch (ex) {\n        qx.log.Logger.warn(\"Iframe source could not be set!\");\n      }\n    },\n\n    /**\n     * Returns the current (served) URL inside the iframe\n     *\n     * @param iframe {Element} DOM element of the iframe.\n     * @return {String} Returns the location href or null (if a query is not possible/allowed)\n     */\n    queryCurrentUrl(iframe) {\n      var doc = this.getDocument(iframe);\n\n      try {\n        if (doc && doc.location) {\n          return doc.location.href;\n        }\n      } catch (ex) {}\n\n      return \"\";\n    },\n\n    /**\n     * Remember actual URL of iframe.\n     *\n     * @param iframe {Element} DOM element of the iframe.\n     */\n    __rememberUrl(iframe) {\n      // URL can only be detected after load. Retrieve and store URL once.\n      var callback = function () {\n        qx.bom.Event.removeNativeListener(iframe, \"load\", callback);\n        iframe.$$url = qx.bom.Iframe.queryCurrentUrl(iframe);\n      };\n\n      qx.bom.Event.addNativeListener(iframe, \"load\", callback);\n    }\n  }\n});\n"
  ],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;EAAAA,EAAE,CAACC,SAAH,CAAaC,oBAAb,CAAkCC,aAAlC;;EAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;EAEA;AACA;AACA;AACA;AACA;EACAH,EAAE,CAACI,KAAH,CAASC,MAAT,CAAgB,eAAhB,EAAiC;IAC/B;AACF;AACA;AACA;AACA;IAEEC,OAAO,EAAE;MACP;AACJ;AACA;MACIC,kBAAkB,EAAE;QAClBC,WAAW,EAAE,CADK;QAElBC,YAAY,EAAE,CAFI;QAGlBC,WAAW,EAAE,CAHK;QAIlBC,YAAY,EAAE,CAJI;QAKlBC,MAAM,EAAE,CALU;QAMlBC,MAAM,EAAE,CANU;QAOlBC,MAAM,EAAE,CAPU;QAQlBC,iBAAiB,EAAE;MARD,CAJb;;MAeP;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;MACIC,MAzBO,kBAyBAC,UAzBA,EAyBYC,GAzBZ,EAyBiB;QACtB;QACA,IAAID,UAAU,GAAGA,UAAU,GAAGjB,EAAE,CAACmB,IAAH,CAAQC,MAAR,CAAeC,KAAf,CAAqBJ,UAArB,CAAH,GAAsC,EAAjE;QACA,IAAIK,UAAU,GAAGtB,EAAE,CAACuB,GAAH,CAAOC,MAAP,CAAcjB,kBAA/B;;QAEA,KAAK,IAAIkB,GAAT,IAAgBH,UAAhB,EAA4B;UAC1B,IAAI,EAAEG,GAAG,IAAIR,UAAT,CAAJ,EAA0B;YACxBA,UAAU,CAACQ,GAAD,CAAV,GAAkBH,UAAU,CAACG,GAAD,CAA5B;UACD;QACF;;QAED,IAAIC,IAAI,GAAG1B,EAAE,CAAC2B,GAAH,CAAOC,OAAP,CAAeZ,MAAf,CAAsB,QAAtB,EAAgCC,UAAhC,EAA4CC,GAA5C,CAAX;;QACA,IAAI,EAAE,YAAYD,UAAd,CAAJ,EAA+B;UAC7BS,IAAI,CAACG,MAAL,GAAc,YAAY;YACxB7B,EAAE,CAAC8B,KAAH,CAASC,OAAT,CAAiBP,MAAjB,CAAwBQ,OAAxB,CAAgCN,IAAhC;UACD,CAFD;QAGD;;QACD,OAAOA,IAAP;MACD,CA3CM;;MA6CP;AACJ;AACA;AACA;AACA;AACA;AACA;MACIO,SApDO,qBAoDGC,MApDH,EAoDW;QAChB,IAAI;UACF,OAAOA,MAAM,CAACC,aAAd;QACD,CAFD,CAEE,OAAOC,EAAP,EAAW;UACX,OAAO,IAAP;QACD;MACF,CA1DM;;MA4DP;AACJ;AACA;AACA;AACA;AACA;MACIC,WAlEO,uBAkEKH,MAlEL,EAkEa;QAClB,IAAI,qBAAqBA,MAAzB,EAAiC;UAC/B,IAAI;YACF,OAAOA,MAAM,CAACI,eAAd;UACD,CAFD,CAEE,OAAOF,EAAP,EAAW;YACX,OAAO,IAAP;UACD;QACF;;QAED,IAAI;UACF,IAAIlB,GAAG,GAAG,KAAKe,SAAL,CAAeC,MAAf,CAAV;UACA,OAAOhB,GAAG,GAAGA,GAAG,CAACqB,QAAP,GAAkB,IAA5B;QACD,CAHD,CAGE,OAAOH,EAAP,EAAW;UACX,OAAO,IAAP;QACD;MACF,CAjFM;;MAmFP;AACJ;AACA;AACA;AACA;AACA;MACII,OAzFO,mBAyFCN,MAzFD,EAyFS;QACd,IAAI;UACF,IAAIO,GAAG,GAAG,KAAKJ,WAAL,CAAiBH,MAAjB,CAAV;UACA,OAAOO,GAAG,GAAGA,GAAG,CAACC,oBAAJ,CAAyB,MAAzB,EAAiC,CAAjC,CAAH,GAAyC,IAAnD;QACD,CAHD,CAGE,OAAON,EAAP,EAAW;UACX,OAAO,IAAP;QACD;MACF,CAhGM;;MAkGP;AACJ;AACA;AACA;AACA;AACA;AACA;MACIO,SAzGO,qBAyGGT,MAzGH,EAyGWU,MAzGX,EAyGmB;QACxB,IAAI;UACF;UACA;UACA;UACA;UACA,IAAI,KAAKX,SAAL,CAAeC,MAAf,KAA0BlC,EAAE,CAAC2B,GAAH,CAAOkB,SAAP,CAAiBC,UAAjB,CAA4BZ,MAA5B,CAA9B,EAAmE;YACjE;AACV;AACA;AACA;AACA;YACU,IAAI;cACF;cACA;cACA,IACElC,EAAE,CAAC+C,IAAH,CAAQC,WAAR,CAAoBC,GAApB,CAAwB,aAAxB,KAA0C,QAA1C,IACAjD,EAAE,CAAC+C,IAAH,CAAQC,WAAR,CAAoBC,GAApB,CAAwB,SAAxB,KAAsC,KAFxC,EAGE;gBACA,IAAId,aAAa,GAAG,KAAKF,SAAL,CAAeC,MAAf,CAApB;;gBACA,IAAIC,aAAJ,EAAmB;kBACjBA,aAAa,CAACe,IAAd;gBACD;cACF;;cACD,KAAKjB,SAAL,CAAeC,MAAf,EAAuBiB,QAAvB,CAAgCC,OAAhC,CAAwCR,MAAxC;YACD,CAbD,CAaE,OAAOR,EAAP,EAAW;cACXF,MAAM,CAACmB,GAAP,GAAaT,MAAb;YACD;UACF,CAtBD,MAsBO;YACLV,MAAM,CAACmB,GAAP,GAAaT,MAAb;UACD,CA7BC,CA+BF;UACA;UACA;;;UACA,KAAKU,SAAL,CAAmBpB,MAAnB;QACD,CAnCD,CAmCE,OAAOE,EAAP,EAAW;UACXpC,EAAE,CAACuD,GAAH,CAAOC,MAAP,CAAcC,IAAd,CAAmB,iCAAnB;QACD;MACF,CAhJM;;MAkJP;AACJ;AACA;AACA;AACA;AACA;MACIC,eAxJO,2BAwJSxB,MAxJT,EAwJiB;QACtB,IAAIO,GAAG,GAAG,KAAKJ,WAAL,CAAiBH,MAAjB,CAAV;;QAEA,IAAI;UACF,IAAIO,GAAG,IAAIA,GAAG,CAACU,QAAf,EAAyB;YACvB,OAAOV,GAAG,CAACU,QAAJ,CAAaQ,IAApB;UACD;QACF,CAJD,CAIE,OAAOvB,EAAP,EAAW,CAAE;;QAEf,OAAO,EAAP;MACD,CAlKM;;MAoKP;AACJ;AACA;AACA;AACA;MACIkB,SAzKO,qBAyKOpB,MAzKP,EAyKe;QACpB;QACA,IAAI0B,QAAQ,GAAG,SAAXA,QAAW,GAAY;UACzB5D,EAAE,CAACuB,GAAH,CAAOsC,KAAP,CAAaC,oBAAb,CAAkC5B,MAAlC,EAA0C,MAA1C,EAAkD0B,QAAlD;UACA1B,MAAM,CAAC6B,KAAP,GAAe/D,EAAE,CAACuB,GAAH,CAAOC,MAAP,CAAckC,eAAd,CAA8BxB,MAA9B,CAAf;QACD,CAHD;;QAKAlC,EAAE,CAACuB,GAAH,CAAOsC,KAAP,CAAaG,iBAAb,CAA+B9B,MAA/B,EAAuC,MAAvC,EAA+C0B,QAA/C;MACD;IAjLM;EAPsB,CAAjC;EA1BA5D,EAAE,CAACuB,GAAH,CAAOC,MAAP,CAAcrB,aAAd,GAA8BA,aAA9B"
}