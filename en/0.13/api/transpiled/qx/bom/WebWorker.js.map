{
  "version": 3,
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "extend",
    "core",
    "Object",
    "implement",
    "IDisposable",
    "construct",
    "src",
    "__isNative",
    "Environment",
    "get",
    "__initNative",
    "__initFake",
    "events",
    "message",
    "error",
    "members",
    "_worker",
    "_handleErrorBound",
    "_handleMessageBound",
    "__fake",
    "window",
    "Worker",
    "lang",
    "Function",
    "bind",
    "_handleMessage",
    "_handleError",
    "bom",
    "Event",
    "addNativeListener",
    "that",
    "req",
    "request",
    "Xhr",
    "onload",
    "postMessage",
    "e",
    "fireDataEvent",
    "eval",
    "responseText",
    "onmessage",
    "open",
    "send",
    "msg",
    "setTimeout",
    "data",
    "ex",
    "destruct",
    "removeNativeListener",
    "terminate",
    "WebWorker"
  ],
  "sources": [
    "/home/runner/work/CometVisu/CometVisu/node_modules/@qooxdoo/framework/source/class/qx/bom/WebWorker.js"
  ],
  "sourcesContent": [
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2011 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Tino Butz (tbtz)\n     * Adrian Olaru (adrianolaru)\n\n************************************************************************ */\n\n/**\n *\n * Web Workers allows us to run JavaScript in parallel on a web page,\n * without blocking the user interface. A 'worker' is just another script\n * file that will be loaded and executed in the background.\n *\n * NOTE: Instances of this class must be disposed of after use\n *\n * For more information see:\n * http://www.w3.org/TR/workers/\n */\nqx.Class.define(\"qx.bom.WebWorker\", {\n  extend: qx.core.Object,\n  implement: [qx.core.IDisposable],\n\n  /**\n   * Create a new instance.\n   *\n   * @param src {String} The path to worker as an URL\n   */\n  construct(src) {\n    super();\n    this.__isNative = qx.core.Environment.get(\"html.webworker\");\n    this.__isNative ? this.__initNative(src) : this.__initFake(src);\n  },\n\n  events: {\n    /** Fired when worker sends a message */\n    message: \"qx.event.type.Data\",\n\n    /** Fired when an error occurs */\n    error: \"qx.event.type.Data\"\n  },\n\n  members: {\n    _worker: null,\n    _handleErrorBound: null,\n    _handleMessageBound: null,\n\n    __isNative: true,\n    __fake: null,\n\n    /**\n     * Initialize the native worker\n     * @param src {String} The path to worker as an URL\n     */\n    __initNative(src) {\n      this._worker = new window.Worker(src);\n      this._handleMessageBound = qx.lang.Function.bind(\n        this._handleMessage,\n        this\n      );\n\n      this._handleErrorBound = qx.lang.Function.bind(this._handleError, this);\n\n      qx.bom.Event.addNativeListener(\n        this._worker,\n        \"message\",\n        this._handleMessageBound\n      );\n\n      qx.bom.Event.addNativeListener(\n        this._worker,\n        \"error\",\n        this._handleErrorBound\n      );\n    },\n\n    /**\n     * Initialize the fake worker\n     * @param src {String} The path to worker as an URL\n     * @lint ignoreDeprecated(eval)\n     */\n    __initFake(src) {\n      var that = this;\n      var req = new qx.bom.request.Xhr();\n      req.onload = function () {\n        that.__fake = (function () {\n          var postMessage = function (e) {\n            that.fireDataEvent(\"message\", e);\n          };\n          //set up context vars before evaluating the code\n          eval(\n            \"var onmessage = null, postMessage = \" +\n              postMessage +\n              \";\" +\n              req.responseText\n          );\n\n          //pick the right onmessage because of the uglyfier\n          return {\n            onmessage: eval(\"onmessage\"),\n            postMessage: postMessage\n          };\n        })();\n      };\n\n      req.open(\"GET\", src, false);\n      req.send();\n    },\n\n    /**\n     * Send a message to the worker.\n     * @param msg {String} the message\n     */\n    postMessage(msg) {\n      var that = this;\n\n      if (this.__isNative) {\n        this._worker.postMessage(msg);\n      } else {\n        setTimeout(function () {\n          try {\n            that.__fake.onmessage && that.__fake.onmessage({ data: msg });\n          } catch (ex) {\n            that.fireDataEvent(\"error\", ex);\n          }\n        }, 0);\n      }\n    },\n\n    /**\n     * Message handler\n     * @param e {Event} message event\n     */\n    _handleMessage(e) {\n      this.fireDataEvent(\"message\", e.data);\n    },\n\n    /**\n     * Error handler\n     * @param e {Event} error event\n     */\n    _handleError(e) {\n      this.fireDataEvent(\"error\", e.message);\n    }\n  },\n\n  destruct() {\n    if (this.__isNative) {\n      qx.bom.Event.removeNativeListener(\n        this._worker,\n        \"message\",\n        this._handleMessageBound\n      );\n\n      qx.bom.Event.removeNativeListener(\n        this._worker,\n        \"error\",\n        this._handleErrorBound\n      );\n\n      if (this._worker) {\n        this._worker.terminate();\n        this._worker = null;\n      }\n    } else {\n      if (this.__fake) {\n        this.__fake = null;\n      }\n    }\n  }\n});\n"
  ],
  "mappings": "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"
}