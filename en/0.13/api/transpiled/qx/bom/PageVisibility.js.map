{
  "version": 3,
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "define",
    "extend",
    "event",
    "Emitter",
    "statics",
    "getInstance",
    "$$instance",
    "bom",
    "PageVisibility",
    "construct",
    "document",
    "__doc",
    "window",
    "__checkAttributeNames",
    "self",
    "Event",
    "addNativeListener",
    "__eventName",
    "e",
    "emit",
    "events",
    "change",
    "members",
    "__hiddenAttr",
    "__visibilityAttr",
    "prefix",
    "Style",
    "VENDOR_PREFIXES",
    "i",
    "length",
    "attr",
    "toLowerCase",
    "undefined",
    "isHidden",
    "getVisibilityState"
  ],
  "sources": [
    "/home/runner/work/CometVisu/CometVisu/node_modules/@qooxdoo/framework/source/class/qx/bom/PageVisibility.js"
  ],
  "sourcesContent": [
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2012 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Martin Wittemann (wittemann)\n\n************************************************************************ */\n/**\n * This class offers a constant API over the Page Visibility Spec:\n * http://www.w3.org/TR/page-visibility/\n *\n * It forwards all the browsers support and provides always a fallback which is\n * of course visible all the time.\n */\nqx.Bootstrap.define(\"qx.bom.PageVisibility\", {\n  extend: qx.event.Emitter,\n\n  statics: {\n    /**\n     * Get an instance of the PageVisibility object using the default document.\n     * @return {qx.bom.PageVisibility} An instance of this class.\n     */\n    getInstance() {\n      if (!this.$$instance) {\n        this.$$instance = new qx.bom.PageVisibility();\n      }\n      return this.$$instance;\n    }\n  },\n\n  /**\n   * @param document {document?} Optional document element.\n   */\n  construct(document) {\n    this.__doc = document || window.document;\n\n    this.__checkAttributeNames();\n\n    var self = this;\n    // forward the event\n    qx.bom.Event.addNativeListener(this.__doc, this.__eventName, function (e) {\n      self.emit(\"change\", e);\n    });\n  },\n\n  events: {\n    /**\n     * The change event for the page visibility.\n     */\n    change: \"Event\"\n  },\n\n  members: {\n    __doc: null,\n    __hiddenAttr: null,\n    __visibilityAttr: null,\n    __eventName: null,\n\n    /**\n     * Internal helper to feature check the attribute names and the event name.\n     * As the event can not be detected using the on<name> attribute, we need\n     * to guess the event name by checking for the hidden attribute.\n     */\n    __checkAttributeNames() {\n      var prefix = qx.bom.Style.VENDOR_PREFIXES;\n\n      // check for the hidden attribute name\n      for (var i = 0; i < prefix.length; i++) {\n        var attr = prefix[i].toLowerCase() + \"Hidden\";\n        if (this.__doc[attr] != undefined) {\n          this.__hiddenAttr = attr;\n          // also use the same prefix for the event name\n          this.__eventName = prefix[i].toLowerCase() + \"visibilitychange\";\n          break;\n        }\n      }\n\n      // check for the visibilityState attribute name\n      for (var i = 0; i < prefix.length; i++) {\n        var attr = prefix[i].toLowerCase() + \"VisibilityState\";\n        if (this.__doc[attr] != undefined) {\n          this.__visibilityAttr = attr;\n          break;\n        }\n      }\n\n      // use the non prefixed if not supported prefixed\n      if (this.__hiddenAttr == null) {\n        this.__hiddenAttr = \"hidden\";\n        this.__eventName = \"visibilitychange\";\n      }\n      if (this.__visibilityAttr == null) {\n        this.__visibilityAttr = \"visibilityState\";\n      }\n    },\n\n    /**\n     * Returns weather the page is hidden or not. If we can not detect it,\n     * <code>false</code> will always be returned.\n     *\n     * @return {Boolean} <code>true</code>, if the page is hidden\n     */\n    isHidden() {\n      return !!this.__doc[this.__hiddenAttr];\n    },\n\n    /**\n     * Returns the visibility state of the page. If we can not detect it,\n     * <code>\"visible\"</code> will always be returned.\n     *\n     * @return {String} The state of the page visibility.\n     */\n    getVisibilityState() {\n      return this.__doc[this.__visibilityAttr] || \"visible\";\n    }\n  }\n});\n"
  ],
  "mappings": "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"
}