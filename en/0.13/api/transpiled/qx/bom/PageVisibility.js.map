{
  "version": 3,
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "define",
    "extend",
    "event",
    "Emitter",
    "statics",
    "getInstance",
    "$$instance",
    "bom",
    "PageVisibility",
    "construct",
    "document",
    "__doc",
    "window",
    "__checkAttributeNames",
    "self",
    "Event",
    "addNativeListener",
    "__eventName",
    "e",
    "emit",
    "events",
    "change",
    "members",
    "__hiddenAttr",
    "__visibilityAttr",
    "__P_112_1",
    "prefix",
    "Style",
    "VENDOR_PREFIXES",
    "i",
    "length",
    "attr",
    "toLowerCase",
    "undefined",
    "isHidden",
    "getVisibilityState"
  ],
  "sources": [
    "/home/runner/work/CometVisu/CometVisu/node_modules/@qooxdoo/framework/source/class/qx/bom/PageVisibility.js"
  ],
  "sourcesContent": [
    "/* ************************************************************************\r\n\r\n   qooxdoo - the new era of web development\r\n\r\n   http://qooxdoo.org\r\n\r\n   Copyright:\r\n     2004-2012 1&1 Internet AG, Germany, http://www.1und1.de\r\n\r\n   License:\r\n     MIT: https://opensource.org/licenses/MIT\r\n     See the LICENSE file in the project's top-level directory for details.\r\n\r\n   Authors:\r\n     * Martin Wittemann (wittemann)\r\n\r\n************************************************************************ */\r\n/**\r\n * This class offers a constant API over the Page Visibility Spec:\r\n * http://www.w3.org/TR/page-visibility/\r\n *\r\n * It forwards all the browsers support and provides always a fallback which is\r\n * of course visible all the time.\r\n */\r\nqx.Bootstrap.define(\"qx.bom.PageVisibility\", {\r\n  extend: qx.event.Emitter,\r\n\r\n  statics: {\r\n    /**\r\n     * Get an instance of the PageVisibility object using the default document.\r\n     * @return {qx.bom.PageVisibility} An instance of this class.\r\n     */\r\n    getInstance() {\r\n      if (!this.$$instance) {\r\n        this.$$instance = new qx.bom.PageVisibility();\r\n      }\r\n      return this.$$instance;\r\n    }\r\n  },\r\n\r\n  /**\r\n   * @param document {document?} Optional document element.\r\n   */\r\n  construct(document) {\r\n    this.__doc = document || window.document;\r\n\r\n    this.__checkAttributeNames();\r\n\r\n    var self = this;\r\n    // forward the event\r\n    qx.bom.Event.addNativeListener(this.__doc, this.__eventName, function (e) {\r\n      self.emit(\"change\", e);\r\n    });\r\n  },\r\n\r\n  events: {\r\n    /**\r\n     * The change event for the page visibility.\r\n     */\r\n    change: \"Event\"\r\n  },\r\n\r\n  members: {\r\n    __doc: null,\r\n    __hiddenAttr: null,\r\n    __visibilityAttr: null,\r\n    __eventName: null,\r\n\r\n    /**\r\n     * Internal helper to feature check the attribute names and the event name.\r\n     * As the event can not be detected using the on<name> attribute, we need\r\n     * to guess the event name by checking for the hidden attribute.\r\n     */\r\n    __checkAttributeNames() {\r\n      var prefix = qx.bom.Style.VENDOR_PREFIXES;\r\n\r\n      // check for the hidden attribute name\r\n      for (var i = 0; i < prefix.length; i++) {\r\n        var attr = prefix[i].toLowerCase() + \"Hidden\";\r\n        if (this.__doc[attr] != undefined) {\r\n          this.__hiddenAttr = attr;\r\n          // also use the same prefix for the event name\r\n          this.__eventName = prefix[i].toLowerCase() + \"visibilitychange\";\r\n          break;\r\n        }\r\n      }\r\n\r\n      // check for the visibilityState attribute name\r\n      for (var i = 0; i < prefix.length; i++) {\r\n        var attr = prefix[i].toLowerCase() + \"VisibilityState\";\r\n        if (this.__doc[attr] != undefined) {\r\n          this.__visibilityAttr = attr;\r\n          break;\r\n        }\r\n      }\r\n\r\n      // use the non prefixed if not supported prefixed\r\n      if (this.__hiddenAttr == null) {\r\n        this.__hiddenAttr = \"hidden\";\r\n        this.__eventName = \"visibilitychange\";\r\n      }\r\n      if (this.__visibilityAttr == null) {\r\n        this.__visibilityAttr = \"visibilityState\";\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Returns weather the page is hidden or not. If we can not detect it,\r\n     * <code>false</code> will always be returned.\r\n     *\r\n     * @return {Boolean} <code>true</code>, if the page is hidden\r\n     */\r\n    isHidden() {\r\n      return !!this.__doc[this.__hiddenAttr];\r\n    },\r\n\r\n    /**\r\n     * Returns the visibility state of the page. If we can not detect it,\r\n     * <code>\"visible\"</code> will always be returned.\r\n     *\r\n     * @return {String} The state of the page visibility.\r\n     */\r\n    getVisibilityState() {\r\n      return this.__doc[this.__visibilityAttr] || \"visible\";\r\n    }\r\n  }\r\n});\r\n"
  ],
  "mappings": "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"
}