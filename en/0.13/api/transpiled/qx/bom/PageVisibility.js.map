{
  "version": 3,
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "define",
    "extend",
    "event",
    "Emitter",
    "statics",
    "getInstance",
    "$$instance",
    "bom",
    "PageVisibility",
    "construct",
    "document",
    "__doc",
    "window",
    "__checkAttributeNames",
    "self",
    "Event",
    "addNativeListener",
    "__eventName",
    "e",
    "emit",
    "events",
    "change",
    "members",
    "__hiddenAttr",
    "__visibilityAttr",
    "__P_120_1",
    "prefix",
    "Style",
    "VENDOR_PREFIXES",
    "i",
    "length",
    "attr",
    "toLowerCase",
    "undefined",
    "isHidden",
    "getVisibilityState"
  ],
  "sources": [
    "/home/runner/work/CometVisu/CometVisu/node_modules/@qooxdoo/framework/source/class/qx/bom/PageVisibility.js"
  ],
  "sourcesContent": [
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2012 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Martin Wittemann (wittemann)\n\n************************************************************************ */\n/**\n * This class offers a constant API over the Page Visibility Spec:\n * http://www.w3.org/TR/page-visibility/\n *\n * It forwards all the browsers support and provides always a fallback which is\n * of course visible all the time.\n */\nqx.Bootstrap.define(\"qx.bom.PageVisibility\", {\n  extend: qx.event.Emitter,\n\n  statics: {\n    /**\n     * Get an instance of the PageVisibility object using the default document.\n     * @return {qx.bom.PageVisibility} An instance of this class.\n     */\n    getInstance() {\n      if (!this.$$instance) {\n        this.$$instance = new qx.bom.PageVisibility();\n      }\n      return this.$$instance;\n    }\n  },\n\n  /**\n   * @param document {document?} Optional document element.\n   */\n  construct(document) {\n    this.__doc = document || window.document;\n\n    this.__checkAttributeNames();\n\n    var self = this;\n    // forward the event\n    qx.bom.Event.addNativeListener(this.__doc, this.__eventName, function (e) {\n      self.emit(\"change\", e);\n    });\n  },\n\n  events: {\n    /**\n     * The change event for the page visibility.\n     */\n    change: \"Event\"\n  },\n\n  members: {\n    __doc: null,\n    __hiddenAttr: null,\n    __visibilityAttr: null,\n    __eventName: null,\n\n    /**\n     * Internal helper to feature check the attribute names and the event name.\n     * As the event can not be detected using the on<name> attribute, we need\n     * to guess the event name by checking for the hidden attribute.\n     */\n    __checkAttributeNames() {\n      var prefix = qx.bom.Style.VENDOR_PREFIXES;\n\n      // check for the hidden attribute name\n      for (var i = 0; i < prefix.length; i++) {\n        var attr = prefix[i].toLowerCase() + \"Hidden\";\n        if (this.__doc[attr] != undefined) {\n          this.__hiddenAttr = attr;\n          // also use the same prefix for the event name\n          this.__eventName = prefix[i].toLowerCase() + \"visibilitychange\";\n          break;\n        }\n      }\n\n      // check for the visibilityState attribute name\n      for (var i = 0; i < prefix.length; i++) {\n        var attr = prefix[i].toLowerCase() + \"VisibilityState\";\n        if (this.__doc[attr] != undefined) {\n          this.__visibilityAttr = attr;\n          break;\n        }\n      }\n\n      // use the non prefixed if not supported prefixed\n      if (this.__hiddenAttr == null) {\n        this.__hiddenAttr = \"hidden\";\n        this.__eventName = \"visibilitychange\";\n      }\n      if (this.__visibilityAttr == null) {\n        this.__visibilityAttr = \"visibilityState\";\n      }\n    },\n\n    /**\n     * Returns weather the page is hidden or not. If we can not detect it,\n     * <code>false</code> will always be returned.\n     *\n     * @return {Boolean} <code>true</code>, if the page is hidden\n     */\n    isHidden() {\n      return !!this.__doc[this.__hiddenAttr];\n    },\n\n    /**\n     * Returns the visibility state of the page. If we can not detect it,\n     * <code>\"visible\"</code> will always be returned.\n     *\n     * @return {String} The state of the page visibility.\n     */\n    getVisibilityState() {\n      return this.__doc[this.__visibilityAttr] || \"visible\";\n    }\n  }\n});\n"
  ],
  "mappings": "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",
  "ignoreList": []
}