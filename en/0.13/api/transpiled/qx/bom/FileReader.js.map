{
  "version": 3,
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "extend",
    "core",
    "Object",
    "implement",
    "IDisposable",
    "construct",
    "constructor",
    "call",
    "_fileReader",
    "window",
    "FileReader",
    "_handleLoadStart",
    "lang",
    "Function",
    "bind",
    "_handleProgress",
    "_handleLoad",
    "_handleAbort",
    "_handleError",
    "_handleLoadEnd",
    "bom",
    "Event",
    "addNativeListener",
    "events",
    "loadstart",
    "progress",
    "error",
    "abort",
    "load",
    "loadend",
    "statics",
    "getNumFiles",
    "inputElement",
    "files",
    "length",
    "getFile",
    "index",
    "members",
    "readAsArrayBuffer",
    "fileObj",
    "readAsBinaryString",
    "readAsText",
    "encoding",
    "readAsDataURL",
    "e",
    "fireDataEvent",
    "data",
    "content",
    "target",
    "result",
    "destruct",
    "removeNativeListener"
  ],
  "sources": [
    "/home/runner/work/CometVisu/CometVisu/node_modules/@qooxdoo/framework/source/class/qx/bom/FileReader.js"
  ],
  "sourcesContent": [
    "/* ************************************************************************\r\n\r\n   qooxdoo - the new era of web development\r\n\r\n   http://qooxdoo.org\r\n\r\n   Copyright:\r\n     2011 Derrell Lipman\r\n\r\n   License:\r\n     MIT: https://opensource.org/licenses/MIT\r\n     See the LICENSE file in the project's top-level directory for details.\r\n\r\n   Authors:\r\n     * Derrell Lipman(derrell)\r\n\r\n************************************************************************ */\r\n\r\n/**\r\n * FileReaders allow retrieving the data from a local file, after the file\r\n * name was selected by an &lt;input type=\"file\"&gt; element.\r\n *\r\n * NOTE: Instances of this class must be disposed of after use\r\n *\r\n * For more information see:\r\n * http://www.w3.org/TR/FileAPI/\r\n */\r\nqx.Class.define(\"qx.bom.FileReader\", {\r\n  extend: qx.core.Object,\r\n  implement: [qx.core.IDisposable],\r\n\r\n  /**\r\n   * Create a new instance.\r\n   */\r\n  construct() {\r\n    // Call the superclass constructor\r\n    super();\r\n\r\n    // Get a FileReader object\r\n    this._fileReader = new window.FileReader();\r\n\r\n    // Bind native handlers to this instance\r\n    this._handleLoadStart = qx.lang.Function.bind(this._handleLoadStart, this);\r\n    this._handleProgress = qx.lang.Function.bind(this._handleProgress, this);\r\n    this._handleLoad = qx.lang.Function.bind(this._handleLoad, this);\r\n    this._handleAbort = qx.lang.Function.bind(this._handleAbort, this);\r\n    this._handleError = qx.lang.Function.bind(this._handleError, this);\r\n    this._handleLoadEnd = qx.lang.Function.bind(this._handleLoadEnd, this);\r\n\r\n    // Be notified of all events\r\n    qx.bom.Event.addNativeListener(\r\n      this._fileReader,\r\n      \"loadstart\",\r\n      this._handleLoadStart\r\n    );\r\n\r\n    qx.bom.Event.addNativeListener(\r\n      this._fileReader,\r\n      \"progress\",\r\n      this._handleProgress\r\n    );\r\n\r\n    qx.bom.Event.addNativeListener(this._fileReader, \"load\", this._handleLoad);\r\n\r\n    qx.bom.Event.addNativeListener(\r\n      this._fileReader,\r\n      \"abort\",\r\n      this._handleAbort\r\n    );\r\n\r\n    qx.bom.Event.addNativeListener(\r\n      this._fileReader,\r\n      \"error\",\r\n      this._handleError\r\n    );\r\n\r\n    qx.bom.Event.addNativeListener(\r\n      this._fileReader,\r\n      \"loadend\",\r\n      this._handleLoadEnd\r\n    );\r\n  },\r\n\r\n  events: {\r\n    /** Fired when progress has begun. */\r\n    loadstart: \"qx.event.type.Data\",\r\n\r\n    /** Fired while making progress, presumably at a minimum of every 50ms */\r\n    progress: \"qx.event.type.Data\",\r\n\r\n    /** Fired when an error occurs */\r\n    error: \"qx.event.type.Data\",\r\n\r\n    /**\r\n     * Fired when progression has failed, after the last \"progress\" has been\r\n     * dispatched, or after \"loadstart\" has been dispatched, if \"progress\" has\r\n     * not been dispatched\"\r\n     */\r\n    abort: \"qx.event.type.Data\",\r\n\r\n    /** Fired when progression is successful */\r\n    load: \"qx.event.type.Data\",\r\n\r\n    /**\r\n     * Fired when progress has stopped, after any of \"error\", \"abort\", or\r\n     * \"load\" have been dispatched.\r\n     */\r\n    loadend: \"qx.event.type.Data\"\r\n  },\r\n\r\n  statics: {\r\n    /**\r\n     * Return the number of files selected by the user, from an &lt;input\r\n     * type=\"file\"&gt; element.\r\n     *\r\n     * @param inputElement {Element}\r\n     *   The Element created as a result of an &lt;input type=\"file\"&gt; tag.\r\n     *\r\n     * @return {Integer}\r\n     *   The number of selected files.\r\n     */\r\n    getNumFiles(inputElement) {\r\n      return inputElement.files.length;\r\n    },\r\n\r\n    /**\r\n     * Return the native File object selected from an &lt;input type=\"file\"&gt;\r\n     * element.\r\n     *\r\n     * @param inputElement {Element}\r\n     *   The Element created as a result of an &lt;input type=\"file\"&gt; tag.\r\n     *\r\n     * @param index {Integer}\r\n     *   The index of the selected file to return.\r\n     *\r\n     * @return {File}\r\n     *   The File object associated with the selected file name.\r\n     */\r\n    getFile(inputElement, index) {\r\n      return inputElement.files[index];\r\n    }\r\n  },\r\n\r\n  members: {\r\n    /** The native FileReader object associated this instance */\r\n    _fileReader: null,\r\n\r\n    /**\r\n     * Begin reading from the file referenced by the specified file\r\n     * object. This is an asynchronous request. When the file is fully loaded,\r\n     * the \"load\" event will be fired.\r\n     *\r\n     * The data will be provided as an ArrayBuffer object.\r\n     *\r\n     * @param fileObj {File}\r\n     *   A File object, as obtained by calling {@link #getFile} with an\r\n     *   element of type &lt;input type=\"file\"&gt;.\r\n     */\r\n    readAsArrayBuffer(fileObj) {\r\n      this._fileReader.readAsArrayBuffer(fileObj);\r\n    },\r\n\r\n    /**\r\n     * Begin reading from the file referenced by the specified file\r\n     * object. This is an asynchronous request. When the file is fully loaded,\r\n     * the \"load\" event will be fired.\r\n     *\r\n     * The data will be provided in a binary format where each byte is in the\r\n     * range [0,255].\r\n     *\r\n     * NOTE: On FireFox, this method works if the page was loaded via the\r\n     * file:// protocol. In Chrome, it does not.\r\n     *\r\n     * @param fileObj {File}\r\n     *   A File object, as obtained by calling {@link #getFile} with an\r\n     *   element of type &lt;input type=\"file\"&gt;.\r\n     */\r\n    readAsBinaryString(fileObj) {\r\n      this._fileReader.readAsBinaryString(fileObj);\r\n    },\r\n\r\n    /**\r\n     * Begin reading from the file referenced by the specified file\r\n     * object. This is an asynchronous request. When the file is fully loaded,\r\n     * the \"load\" event will be fired.\r\n     *\r\n     * The data will be provided as text, in the specified encoding.\r\n     *\r\n     * NOTE: On FireFox, this method works if the page was loaded via the\r\n     * file:// protocol. In Chrome, it does not.\r\n     *\r\n     * @param fileObj {File}\r\n     *   A File object, as obtained by calling {@link #getFile} with an\r\n     *   element of type &lt;input type=\"file\"&gt;.\r\n     *\r\n     * @param encoding {String?\"UTF-8\"}\r\n     *   The encoding for the resulting string.\r\n     */\r\n    readAsText(fileObj, encoding) {\r\n      this._fileReader.readAsText(fileObj, encoding);\r\n    },\r\n\r\n    /**\r\n     * Begin reading from the file referenced by the specified file\r\n     * object. This is an asynchronous request. When the file is fully loaded,\r\n     * the \"load\" event will be fired.\r\n     *\r\n     * The data is returned in DataURL format.\r\n     *\r\n     * NOTE: On FireFox, this method works if the page was loaded via the\r\n     * file:// protocol. In Chrome, it does not.\r\n     *\r\n     * @param fileObj {File}\r\n     *   A File object, as obtained by calling {@link #getFile} with an\r\n     *   element of type &lt;input type=\"file\"&gt;.\r\n     */\r\n    readAsDataURL(fileObj) {\r\n      this._fileReader.readAsDataURL(fileObj);\r\n    },\r\n\r\n    /**\r\n     * \"loadstart\" handler\r\n     *\r\n     * @param e {Object}\r\n     *   Object which contains a 'progress' object which contains the members:\r\n     *   - lengthComputable {Boolean} True if length is known; false otherwise\r\n     *   - loaded {Number} The number of bytes transferred so far\r\n     *   - total {Number} The length of the entire body being transferred\r\n     */\r\n    _handleLoadStart(e) {\r\n      this.fireDataEvent(\"loadstart\", { progress: e.data });\r\n    },\r\n\r\n    /**\r\n     * \"progress\" handler\r\n     *\r\n     * @param e {Object}\r\n     *   Object which contains a 'progress' object which contains the members:\r\n     *   - lengthComputable {Boolean} True if length is known; false otherwise\r\n     *   - loaded {Number} The number of bytes transferred so far\r\n     *   - total {Number} The length of the entire body being transferred\r\n     */\r\n    _handleProgress(e) {\r\n      this.fireDataEvent(\"progress\", { progress: e.data });\r\n    },\r\n\r\n    /**\r\n     * \"error\" handler\r\n     *\r\n     * @param e {Object}\r\n     *   Object which contains a 'progress' object which contains the members:\r\n     *   - lengthComputable {Boolean} True if length is known; false otherwise\r\n     *   - loaded {Number} The number of bytes transferred so far\r\n     *   - total {Number} The length of the entire body being transferred\r\n     */\r\n    _handleError(e) {\r\n      this.fireDataEvent(\"error\", { progress: e.data });\r\n    },\r\n\r\n    /**\r\n     * \"abort\" handler\r\n     *\r\n     * @param e {Object}\r\n     *   Object which contains a 'progress' object which contains the members:\r\n     *   - lengthComputable {Boolean} True if length is known; false otherwise\r\n     *   - loaded {Number} The number of bytes transferred so far\r\n     *   - total {Number} The length of the entire body being transferred\r\n     */\r\n    _handleAbort(e) {\r\n      this.fireDataEvent(\"abort\", { progress: e.data });\r\n    },\r\n\r\n    /**\r\n     * \"load\" handler\r\n     *\r\n     * @param e {Object}\r\n     *   Object which contains:\r\n     *   - A 'progress' object which contains the members:\r\n     *     - lengthComputable {Boolean} True if length is known; false otherwise\r\n     *     - loaded {Number} The number of bytes transferred so far\r\n     *     - total {Number} The length of the entire body being transferred\r\n     *   - A 'content' member which contains the loaded file content\r\n     */\r\n    _handleLoad(e) {\r\n      // Add the result to the event data\r\n      this.fireDataEvent(\"load\", {\r\n        progress: e.data,\r\n        content: e.target.result\r\n      });\r\n    },\r\n\r\n    /**\r\n     * \"loadend\" handler\r\n     *\r\n     * @param e {Object}\r\n     *   Object which contains a 'progress' object which contains  the members:\r\n     *   - lengthComputable {Boolean} True if length is known; false otherwise\r\n     *   - loaded {Number} The number of bytes transferred so far\r\n     *   - total {Number} The length of the entire body being transferred\r\n     */\r\n    _handleLoadEnd(e) {\r\n      this.fireDataEvent(\"loadend\", { progress: e.data });\r\n    }\r\n  },\r\n\r\n  destruct() {\r\n    // Remove all listeners\r\n    qx.bom.Event.removeNativeListener(\r\n      this._fileReader,\r\n      \"loadstart\",\r\n      this._handleLoadStart\r\n    );\r\n\r\n    qx.bom.Event.removeNativeListener(\r\n      this._fileReader,\r\n      \"progress\",\r\n      this._handleProgress\r\n    );\r\n\r\n    qx.bom.Event.removeNativeListener(\r\n      this._fileReader,\r\n      \"load\",\r\n      this._handleLoad\r\n    );\r\n\r\n    qx.bom.Event.removeNativeListener(\r\n      this._fileReader,\r\n      \"abort\",\r\n      this._handleAbort\r\n    );\r\n\r\n    qx.bom.Event.removeNativeListener(\r\n      this._fileReader,\r\n      \"error\",\r\n      this._handleError\r\n    );\r\n\r\n    qx.bom.Event.removeNativeListener(\r\n      this._fileReader,\r\n      \"loadend\",\r\n      this._handleLoadEnd\r\n    );\r\n\r\n    this._fileReader = null;\r\n  }\r\n});\r\n"
  ],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;EAAAA,EAAE,CAACC,SAAS,CAACC,oBAAoB,CAACC,aAAa,CAAC;EAAhD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;EAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EACAH,EAAE,CAACI,KAAK,CAACC,MAAM,CAAC,mBAAmB,EAAE;IACnCC,MAAM,EAAEN,EAAE,CAACO,IAAI,CAACC,MAAM;IACtBC,SAAS,EAAE,CAACT,EAAE,CAACO,IAAI,CAACG,WAAW,CAAC;IAEhC;AACF;AACA;IACEC,SAAS,WAAAA,UAAA,EAAG;MACV;MACAX,EAAA,CAAAO,IAAA,CAAAC,MAAA,CAAAI,WAAA,CAAAC,IAAA;;MAEA;MACA,IAAI,CAACC,WAAW,GAAG,IAAIC,MAAM,CAACC,UAAU,CAAC,CAAC;;MAE1C;MACA,IAAI,CAACC,gBAAgB,GAAGjB,EAAE,CAACkB,IAAI,CAACC,QAAQ,CAACC,IAAI,CAAC,IAAI,CAACH,gBAAgB,EAAE,IAAI,CAAC;MAC1E,IAAI,CAACI,eAAe,GAAGrB,EAAE,CAACkB,IAAI,CAACC,QAAQ,CAACC,IAAI,CAAC,IAAI,CAACC,eAAe,EAAE,IAAI,CAAC;MACxE,IAAI,CAACC,WAAW,GAAGtB,EAAE,CAACkB,IAAI,CAACC,QAAQ,CAACC,IAAI,CAAC,IAAI,CAACE,WAAW,EAAE,IAAI,CAAC;MAChE,IAAI,CAACC,YAAY,GAAGvB,EAAE,CAACkB,IAAI,CAACC,QAAQ,CAACC,IAAI,CAAC,IAAI,CAACG,YAAY,EAAE,IAAI,CAAC;MAClE,IAAI,CAACC,YAAY,GAAGxB,EAAE,CAACkB,IAAI,CAACC,QAAQ,CAACC,IAAI,CAAC,IAAI,CAACI,YAAY,EAAE,IAAI,CAAC;MAClE,IAAI,CAACC,cAAc,GAAGzB,EAAE,CAACkB,IAAI,CAACC,QAAQ,CAACC,IAAI,CAAC,IAAI,CAACK,cAAc,EAAE,IAAI,CAAC;;MAEtE;MACAzB,EAAE,CAAC0B,GAAG,CAACC,KAAK,CAACC,iBAAiB,CAC5B,IAAI,CAACd,WAAW,EAChB,WAAW,EACX,IAAI,CAACG,gBACP,CAAC;MAEDjB,EAAE,CAAC0B,GAAG,CAACC,KAAK,CAACC,iBAAiB,CAC5B,IAAI,CAACd,WAAW,EAChB,UAAU,EACV,IAAI,CAACO,eACP,CAAC;MAEDrB,EAAE,CAAC0B,GAAG,CAACC,KAAK,CAACC,iBAAiB,CAAC,IAAI,CAACd,WAAW,EAAE,MAAM,EAAE,IAAI,CAACQ,WAAW,CAAC;MAE1EtB,EAAE,CAAC0B,GAAG,CAACC,KAAK,CAACC,iBAAiB,CAC5B,IAAI,CAACd,WAAW,EAChB,OAAO,EACP,IAAI,CAACS,YACP,CAAC;MAEDvB,EAAE,CAAC0B,GAAG,CAACC,KAAK,CAACC,iBAAiB,CAC5B,IAAI,CAACd,WAAW,EAChB,OAAO,EACP,IAAI,CAACU,YACP,CAAC;MAEDxB,EAAE,CAAC0B,GAAG,CAACC,KAAK,CAACC,iBAAiB,CAC5B,IAAI,CAACd,WAAW,EAChB,SAAS,EACT,IAAI,CAACW,cACP,CAAC;IACH,CAAC;IAEDI,MAAM,EAAE;MACN;MACAC,SAAS,EAAE,oBAAoB;MAE/B;MACAC,QAAQ,EAAE,oBAAoB;MAE9B;MACAC,KAAK,EAAE,oBAAoB;MAE3B;AACJ;AACA;AACA;AACA;MACIC,KAAK,EAAE,oBAAoB;MAE3B;MACAC,IAAI,EAAE,oBAAoB;MAE1B;AACJ;AACA;AACA;MACIC,OAAO,EAAE;IACX,CAAC;IAEDC,OAAO,EAAE;MACP;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;MACIC,WAAW,WAAAA,YAACC,YAAY,EAAE;QACxB,OAAOA,YAAY,CAACC,KAAK,CAACC,MAAM;MAClC,CAAC;MAED;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;MACIC,OAAO,WAAAA,QAACH,YAAY,EAAEI,KAAK,EAAE;QAC3B,OAAOJ,YAAY,CAACC,KAAK,CAACG,KAAK,CAAC;MAClC;IACF,CAAC;IAEDC,OAAO,EAAE;MACP;MACA7B,WAAW,EAAE,IAAI;MAEjB;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;MACI8B,iBAAiB,WAAAA,kBAACC,OAAO,EAAE;QACzB,IAAI,CAAC/B,WAAW,CAAC8B,iBAAiB,CAACC,OAAO,CAAC;MAC7C,CAAC;MAED;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;MACIC,kBAAkB,WAAAA,mBAACD,OAAO,EAAE;QAC1B,IAAI,CAAC/B,WAAW,CAACgC,kBAAkB,CAACD,OAAO,CAAC;MAC9C,CAAC;MAED;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;MACIE,UAAU,WAAAA,WAACF,OAAO,EAAEG,QAAQ,EAAE;QAC5B,IAAI,CAAClC,WAAW,CAACiC,UAAU,CAACF,OAAO,EAAEG,QAAQ,CAAC;MAChD,CAAC;MAED;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;MACIC,aAAa,WAAAA,cAACJ,OAAO,EAAE;QACrB,IAAI,CAAC/B,WAAW,CAACmC,aAAa,CAACJ,OAAO,CAAC;MACzC,CAAC;MAED;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;MACI5B,gBAAgB,WAAAA,iBAACiC,CAAC,EAAE;QAClB,IAAI,CAACC,aAAa,CAAC,WAAW,EAAE;UAAEpB,QAAQ,EAAEmB,CAAC,CAACE;QAAK,CAAC,CAAC;MACvD,CAAC;MAED;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;MACI/B,eAAe,WAAAA,gBAAC6B,CAAC,EAAE;QACjB,IAAI,CAACC,aAAa,CAAC,UAAU,EAAE;UAAEpB,QAAQ,EAAEmB,CAAC,CAACE;QAAK,CAAC,CAAC;MACtD,CAAC;MAED;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;MACI5B,YAAY,WAAAA,aAAC0B,CAAC,EAAE;QACd,IAAI,CAACC,aAAa,CAAC,OAAO,EAAE;UAAEpB,QAAQ,EAAEmB,CAAC,CAACE;QAAK,CAAC,CAAC;MACnD,CAAC;MAED;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;MACI7B,YAAY,WAAAA,aAAC2B,CAAC,EAAE;QACd,IAAI,CAACC,aAAa,CAAC,OAAO,EAAE;UAAEpB,QAAQ,EAAEmB,CAAC,CAACE;QAAK,CAAC,CAAC;MACnD,CAAC;MAED;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;MACI9B,WAAW,WAAAA,YAAC4B,CAAC,EAAE;QACb;QACA,IAAI,CAACC,aAAa,CAAC,MAAM,EAAE;UACzBpB,QAAQ,EAAEmB,CAAC,CAACE,IAAI;UAChBC,OAAO,EAAEH,CAAC,CAACI,MAAM,CAACC;QACpB,CAAC,CAAC;MACJ,CAAC;MAED;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;MACI9B,cAAc,WAAAA,eAACyB,CAAC,EAAE;QAChB,IAAI,CAACC,aAAa,CAAC,SAAS,EAAE;UAAEpB,QAAQ,EAAEmB,CAAC,CAACE;QAAK,CAAC,CAAC;MACrD;IACF,CAAC;IAEDI,QAAQ,WAAAA,SAAA,EAAG;MACT;MACAxD,EAAE,CAAC0B,GAAG,CAACC,KAAK,CAAC8B,oBAAoB,CAC/B,IAAI,CAAC3C,WAAW,EAChB,WAAW,EACX,IAAI,CAACG,gBACP,CAAC;MAEDjB,EAAE,CAAC0B,GAAG,CAACC,KAAK,CAAC8B,oBAAoB,CAC/B,IAAI,CAAC3C,WAAW,EAChB,UAAU,EACV,IAAI,CAACO,eACP,CAAC;MAEDrB,EAAE,CAAC0B,GAAG,CAACC,KAAK,CAAC8B,oBAAoB,CAC/B,IAAI,CAAC3C,WAAW,EAChB,MAAM,EACN,IAAI,CAACQ,WACP,CAAC;MAEDtB,EAAE,CAAC0B,GAAG,CAACC,KAAK,CAAC8B,oBAAoB,CAC/B,IAAI,CAAC3C,WAAW,EAChB,OAAO,EACP,IAAI,CAACS,YACP,CAAC;MAEDvB,EAAE,CAAC0B,GAAG,CAACC,KAAK,CAAC8B,oBAAoB,CAC/B,IAAI,CAAC3C,WAAW,EAChB,OAAO,EACP,IAAI,CAACU,YACP,CAAC;MAEDxB,EAAE,CAAC0B,GAAG,CAACC,KAAK,CAAC8B,oBAAoB,CAC/B,IAAI,CAAC3C,WAAW,EAChB,SAAS,EACT,IAAI,CAACW,cACP,CAAC;MAED,IAAI,CAACX,WAAW,GAAG,IAAI;IACzB;EACF,CAAC,CAAC;EAzVFd,EAAE,CAAC0B,GAAG,CAACV,UAAU,CAACb,aAAa,GAAGA,aAAa;AAAC"
}