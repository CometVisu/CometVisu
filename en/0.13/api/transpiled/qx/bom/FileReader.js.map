{
  "version": 3,
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "extend",
    "core",
    "Object",
    "implement",
    "IDisposable",
    "construct",
    "_fileReader",
    "window",
    "FileReader",
    "_handleLoadStart",
    "lang",
    "Function",
    "bind",
    "_handleProgress",
    "_handleLoad",
    "_handleAbort",
    "_handleError",
    "_handleLoadEnd",
    "bom",
    "Event",
    "addNativeListener",
    "events",
    "loadstart",
    "progress",
    "error",
    "abort",
    "load",
    "loadend",
    "statics",
    "getNumFiles",
    "inputElement",
    "files",
    "length",
    "getFile",
    "index",
    "members",
    "readAsArrayBuffer",
    "fileObj",
    "readAsBinaryString",
    "readAsText",
    "encoding",
    "readAsDataURL",
    "e",
    "fireDataEvent",
    "data",
    "content",
    "target",
    "result",
    "destruct",
    "removeNativeListener"
  ],
  "sources": [
    "/home/runner/work/CometVisu/CometVisu/node_modules/@qooxdoo/framework/source/class/qx/bom/FileReader.js"
  ],
  "sourcesContent": [
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2011 Derrell Lipman\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Derrell Lipman(derrell)\n\n************************************************************************ */\n\n/**\n * FileReaders allow retrieving the data from a local file, after the file\n * name was selected by an &lt;input type=\"file\"&gt; element.\n *\n * NOTE: Instances of this class must be disposed of after use\n *\n * For more information see:\n * http://www.w3.org/TR/FileAPI/\n */\nqx.Class.define(\"qx.bom.FileReader\", {\n  extend: qx.core.Object,\n  implement: [qx.core.IDisposable],\n\n  /**\n   * Create a new instance.\n   */\n  construct() {\n    // Call the superclass constructor\n    super();\n\n    // Get a FileReader object\n    this._fileReader = new window.FileReader();\n\n    // Bind native handlers to this instance\n    this._handleLoadStart = qx.lang.Function.bind(this._handleLoadStart, this);\n    this._handleProgress = qx.lang.Function.bind(this._handleProgress, this);\n    this._handleLoad = qx.lang.Function.bind(this._handleLoad, this);\n    this._handleAbort = qx.lang.Function.bind(this._handleAbort, this);\n    this._handleError = qx.lang.Function.bind(this._handleError, this);\n    this._handleLoadEnd = qx.lang.Function.bind(this._handleLoadEnd, this);\n\n    // Be notified of all events\n    qx.bom.Event.addNativeListener(\n      this._fileReader,\n      \"loadstart\",\n      this._handleLoadStart\n    );\n\n    qx.bom.Event.addNativeListener(\n      this._fileReader,\n      \"progress\",\n      this._handleProgress\n    );\n\n    qx.bom.Event.addNativeListener(this._fileReader, \"load\", this._handleLoad);\n\n    qx.bom.Event.addNativeListener(\n      this._fileReader,\n      \"abort\",\n      this._handleAbort\n    );\n\n    qx.bom.Event.addNativeListener(\n      this._fileReader,\n      \"error\",\n      this._handleError\n    );\n\n    qx.bom.Event.addNativeListener(\n      this._fileReader,\n      \"loadend\",\n      this._handleLoadEnd\n    );\n  },\n\n  events: {\n    /** Fired when progress has begun. */\n    loadstart: \"qx.event.type.Data\",\n\n    /** Fired while making progress, presumably at a minimum of every 50ms */\n    progress: \"qx.event.type.Data\",\n\n    /** Fired when an error occurs */\n    error: \"qx.event.type.Data\",\n\n    /**\n     * Fired when progression has failed, after the last \"progress\" has been\n     * dispatched, or after \"loadstart\" has been dispatched, if \"progress\" has\n     * not been dispatched\"\n     */\n    abort: \"qx.event.type.Data\",\n\n    /** Fired when progression is successful */\n    load: \"qx.event.type.Data\",\n\n    /**\n     * Fired when progress has stopped, after any of \"error\", \"abort\", or\n     * \"load\" have been dispatched.\n     */\n    loadend: \"qx.event.type.Data\"\n  },\n\n  statics: {\n    /**\n     * Return the number of files selected by the user, from an &lt;input\n     * type=\"file\"&gt; element.\n     *\n     * @param inputElement {Element}\n     *   The Element created as a result of an &lt;input type=\"file\"&gt; tag.\n     *\n     * @return {Integer}\n     *   The number of selected files.\n     */\n    getNumFiles(inputElement) {\n      return inputElement.files.length;\n    },\n\n    /**\n     * Return the native File object selected from an &lt;input type=\"file\"&gt;\n     * element.\n     *\n     * @param inputElement {Element}\n     *   The Element created as a result of an &lt;input type=\"file\"&gt; tag.\n     *\n     * @param index {Integer}\n     *   The index of the selected file to return.\n     *\n     * @return {File}\n     *   The File object associated with the selected file name.\n     */\n    getFile(inputElement, index) {\n      return inputElement.files[index];\n    }\n  },\n\n  members: {\n    /** The native FileReader object associated this instance */\n    _fileReader: null,\n\n    /**\n     * Begin reading from the file referenced by the specified file\n     * object. This is an asynchronous request. When the file is fully loaded,\n     * the \"load\" event will be fired.\n     *\n     * The data will be provided as an ArrayBuffer object.\n     *\n     * @param fileObj {File}\n     *   A File object, as obtained by calling {@link #getFile} with an\n     *   element of type &lt;input type=\"file\"&gt;.\n     */\n    readAsArrayBuffer(fileObj) {\n      this._fileReader.readAsArrayBuffer(fileObj);\n    },\n\n    /**\n     * Begin reading from the file referenced by the specified file\n     * object. This is an asynchronous request. When the file is fully loaded,\n     * the \"load\" event will be fired.\n     *\n     * The data will be provided in a binary format where each byte is in the\n     * range [0,255].\n     *\n     * NOTE: On FireFox, this method works if the page was loaded via the\n     * file:// protocol. In Chrome, it does not.\n     *\n     * @param fileObj {File}\n     *   A File object, as obtained by calling {@link #getFile} with an\n     *   element of type &lt;input type=\"file\"&gt;.\n     */\n    readAsBinaryString(fileObj) {\n      this._fileReader.readAsBinaryString(fileObj);\n    },\n\n    /**\n     * Begin reading from the file referenced by the specified file\n     * object. This is an asynchronous request. When the file is fully loaded,\n     * the \"load\" event will be fired.\n     *\n     * The data will be provided as text, in the specified encoding.\n     *\n     * NOTE: On FireFox, this method works if the page was loaded via the\n     * file:// protocol. In Chrome, it does not.\n     *\n     * @param fileObj {File}\n     *   A File object, as obtained by calling {@link #getFile} with an\n     *   element of type &lt;input type=\"file\"&gt;.\n     *\n     * @param encoding {String?\"UTF-8\"}\n     *   The encoding for the resulting string.\n     */\n    readAsText(fileObj, encoding) {\n      this._fileReader.readAsText(fileObj, encoding);\n    },\n\n    /**\n     * Begin reading from the file referenced by the specified file\n     * object. This is an asynchronous request. When the file is fully loaded,\n     * the \"load\" event will be fired.\n     *\n     * The data is returned in DataURL format.\n     *\n     * NOTE: On FireFox, this method works if the page was loaded via the\n     * file:// protocol. In Chrome, it does not.\n     *\n     * @param fileObj {File}\n     *   A File object, as obtained by calling {@link #getFile} with an\n     *   element of type &lt;input type=\"file\"&gt;.\n     */\n    readAsDataURL(fileObj) {\n      this._fileReader.readAsDataURL(fileObj);\n    },\n\n    /**\n     * \"loadstart\" handler\n     *\n     * @param e {Object}\n     *   Object which contains a 'progress' object which contains the members:\n     *   - lengthComputable {Boolean} True if length is known; false otherwise\n     *   - loaded {Number} The number of bytes transferred so far\n     *   - total {Number} The length of the entire body being transferred\n     */\n    _handleLoadStart(e) {\n      this.fireDataEvent(\"loadstart\", { progress: e.data });\n    },\n\n    /**\n     * \"progress\" handler\n     *\n     * @param e {Object}\n     *   Object which contains a 'progress' object which contains the members:\n     *   - lengthComputable {Boolean} True if length is known; false otherwise\n     *   - loaded {Number} The number of bytes transferred so far\n     *   - total {Number} The length of the entire body being transferred\n     */\n    _handleProgress(e) {\n      this.fireDataEvent(\"progress\", { progress: e.data });\n    },\n\n    /**\n     * \"error\" handler\n     *\n     * @param e {Object}\n     *   Object which contains a 'progress' object which contains the members:\n     *   - lengthComputable {Boolean} True if length is known; false otherwise\n     *   - loaded {Number} The number of bytes transferred so far\n     *   - total {Number} The length of the entire body being transferred\n     */\n    _handleError(e) {\n      this.fireDataEvent(\"error\", { progress: e.data });\n    },\n\n    /**\n     * \"abort\" handler\n     *\n     * @param e {Object}\n     *   Object which contains a 'progress' object which contains the members:\n     *   - lengthComputable {Boolean} True if length is known; false otherwise\n     *   - loaded {Number} The number of bytes transferred so far\n     *   - total {Number} The length of the entire body being transferred\n     */\n    _handleAbort(e) {\n      this.fireDataEvent(\"abort\", { progress: e.data });\n    },\n\n    /**\n     * \"load\" handler\n     *\n     * @param e {Object}\n     *   Object which contains:\n     *   - A 'progress' object which contains the members:\n     *     - lengthComputable {Boolean} True if length is known; false otherwise\n     *     - loaded {Number} The number of bytes transferred so far\n     *     - total {Number} The length of the entire body being transferred\n     *   - A 'content' member which contains the loaded file content\n     */\n    _handleLoad(e) {\n      // Add the result to the event data\n      this.fireDataEvent(\"load\", {\n        progress: e.data,\n        content: e.target.result\n      });\n    },\n\n    /**\n     * \"loadend\" handler\n     *\n     * @param e {Object}\n     *   Object which contains a 'progress' object which contains  the members:\n     *   - lengthComputable {Boolean} True if length is known; false otherwise\n     *   - loaded {Number} The number of bytes transferred so far\n     *   - total {Number} The length of the entire body being transferred\n     */\n    _handleLoadEnd(e) {\n      this.fireDataEvent(\"loadend\", { progress: e.data });\n    }\n  },\n\n  destruct() {\n    // Remove all listeners\n    qx.bom.Event.removeNativeListener(\n      this._fileReader,\n      \"loadstart\",\n      this._handleLoadStart\n    );\n\n    qx.bom.Event.removeNativeListener(\n      this._fileReader,\n      \"progress\",\n      this._handleProgress\n    );\n\n    qx.bom.Event.removeNativeListener(\n      this._fileReader,\n      \"load\",\n      this._handleLoad\n    );\n\n    qx.bom.Event.removeNativeListener(\n      this._fileReader,\n      \"abort\",\n      this._handleAbort\n    );\n\n    qx.bom.Event.removeNativeListener(\n      this._fileReader,\n      \"error\",\n      this._handleError\n    );\n\n    qx.bom.Event.removeNativeListener(\n      this._fileReader,\n      \"loadend\",\n      this._handleLoadEnd\n    );\n\n    this._fileReader = null;\n  }\n});\n"
  ],
  "mappings": "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"
}