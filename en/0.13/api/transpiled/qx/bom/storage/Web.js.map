{
  "version": 3,
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "define",
    "statics",
    "__local",
    "__session",
    "getLocal",
    "bom",
    "storage",
    "Web",
    "getSession",
    "construct",
    "type",
    "__type",
    "members",
    "getStorage",
    "window",
    "getLength",
    "length",
    "setItem",
    "key",
    "value",
    "lang",
    "Json",
    "stringify",
    "e",
    "Error",
    "getItem",
    "item",
    "Type",
    "isString",
    "parse",
    "removeItem",
    "clear",
    "i",
    "getKey",
    "index",
    "forEach",
    "callback",
    "scope",
    "call"
  ],
  "sources": [
    "/home/runner/work/CometVisu/CometVisu/node_modules/@qooxdoo/framework/source/class/qx/bom/storage/Web.js"
  ],
  "sourcesContent": [
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2011 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Martin Wittemann (wittemann)\n\n************************************************************************ */\n\n/**\n * Storage implementation using HTML web storage:\n * http://www.w3.org/TR/webstorage/\n *\n * @require(qx.bom.storage.Web#getLength)\n * @require(qx.bom.storage.Web#setItem)\n * @require(qx.bom.storage.Web#getItem)\n * @require(qx.bom.storage.Web#removeItem)\n * @require(qx.bom.storage.Web#clear)\n * @require(qx.bom.storage.Web#getKey)\n * @require(qx.bom.storage.Web#forEach)\n */\nqx.Bootstrap.define(\"qx.bom.storage.Web\", {\n  statics: {\n    __local: null,\n    __session: null,\n\n    /**\n     * Static accessor for the local storage.\n     * @return {qx.bom.storage.Web} An instance of a local storage.\n     */\n    getLocal() {\n      if (this.__local) {\n        return this.__local;\n      }\n      return (this.__local = new qx.bom.storage.Web(\"local\"));\n    },\n\n    /**\n     * Static accessor for the session storage.\n     * @return {qx.bom.storage.Web} An instance of a session storage.\n     */\n    getSession() {\n      if (this.__session) {\n        return this.__session;\n      }\n      return (this.__session = new qx.bom.storage.Web(\"session\"));\n    }\n  },\n\n  /**\n   * Create a new instance. Usually, you should take the static\n   * accessors to get your instance.\n   *\n   * @param type {String} type of storage, either\n   *   <code>local</code> or <code>session</code>.\n   */\n  construct(type) {\n    this.__type = type;\n  },\n\n  members: {\n    __type: null,\n\n    /**\n     * Returns the internal used storage (the native object).\n     *\n     * @internal\n     * @return {Storage} The native storage implementation.\n     */\n    getStorage() {\n      return window[this.__type + \"Storage\"];\n    },\n\n    /**\n     * Returns the amount of key-value pairs stored.\n     * @return {Integer} The length of the storage.\n     */\n    getLength() {\n      return this.getStorage(this.__type).length;\n    },\n\n    /**\n     * Store an item in the storage.\n     *\n     * @param key {String} The identifier key.\n     * @param value {var} The data, which will be stored as JSON.\n     */\n    setItem(key, value) {\n      value = qx.lang.Json.stringify(value);\n      try {\n        this.getStorage(this.__type).setItem(key, value);\n      } catch (e) {\n        throw new Error(\"Storage full.\");\n      }\n    },\n\n    /**\n     * Returns the stored item.\n     *\n     * @param key {String} The identifier to get the data.\n     * @return {var} The stored data.\n     */\n    getItem(key) {\n      var item = this.getStorage(this.__type).getItem(key);\n\n      if (qx.lang.Type.isString(item)) {\n        item = qx.lang.Json.parse(item);\n        // special case for FF3\n      } else if (item && item.value && qx.lang.Type.isString(item.value)) {\n        item = qx.lang.Json.parse(item.value);\n      }\n\n      return item;\n    },\n\n    /**\n     * Removes an item form the storage.\n     * @param key {String} The identifier.\n     */\n    removeItem(key) {\n      this.getStorage(this.__type).removeItem(key);\n    },\n\n    /**\n     * Deletes every stored item in the storage.\n     */\n    clear() {\n      var storage = this.getStorage(this.__type);\n      if (!storage.clear) {\n        for (var i = storage.length - 1; i >= 0; i--) {\n          storage.removeItem(storage.key(i));\n        }\n      } else {\n        storage.clear();\n      }\n    },\n\n    /**\n     * Returns the named key at the given index.\n     * @param index {Integer} The index in the storage.\n     * @return {String} The key stored at the given index.\n     */\n    getKey(index) {\n      return this.getStorage(this.__type).key(index);\n    },\n\n    /**\n     * Helper to access every stored item.\n     *\n     * @param callback {Function} A function which will be called for every item.\n     *   The function will have two arguments, first the key and second the value\n     *    of the stored data.\n     * @param scope {var} The scope of the function.\n     */\n    forEach(callback, scope) {\n      var length = this.getLength();\n      for (var i = 0; i < length; i++) {\n        var key = this.getKey(i);\n        callback.call(scope, key, this.getItem(key));\n      }\n    }\n  }\n});\n"
  ],
  "mappings": ";;;;;;;;;;;EAAAA,EAAE,CAACC,SAAH,CAAaC,oBAAb,CAAkCC,aAAlC;;EAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;EAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EACAH,EAAE,CAACC,SAAH,CAAaG,MAAb,CAAoB,oBAApB,EAA0C;IACxCC,OAAO,EAAE;MACPC,SAAO,EAAE,IADF;MAEPC,SAAS,EAAE,IAFJ;;MAIP;AACJ;AACA;AACA;MACIC,QARO,sBAQI;QACT,IAAI,KAAKF,SAAT,EAAkB;UAChB,OAAO,KAAKA,SAAZ;QACD;;QACD,OAAQ,KAAKA,SAAL,GAAe,IAAIN,EAAE,CAACS,GAAH,CAAOC,OAAP,CAAeC,GAAnB,CAAuB,OAAvB,CAAvB;MACD,CAbM;;MAeP;AACJ;AACA;AACA;MACIC,UAnBO,wBAmBM;QACX,IAAI,KAAKL,SAAT,EAAoB;UAClB,OAAO,KAAKA,SAAZ;QACD;;QACD,OAAQ,KAAKA,SAAL,GAAiB,IAAIP,EAAE,CAACS,GAAH,CAAOC,OAAP,CAAeC,GAAnB,CAAuB,SAAvB,CAAzB;MACD;IAxBM,CAD+B;;IA4BxC;AACF;AACA;AACA;AACA;AACA;AACA;IACEE,SAnCwC,qBAmC9BC,IAnC8B,EAmCxB;MACd,KAAKC,SAAL,GAAcD,IAAd;IACD,CArCuC;IAuCxCE,OAAO,EAAE;MACPD,SAAM,EAAE,IADD;;MAGP;AACJ;AACA;AACA;AACA;AACA;MACIE,UATO,wBASM;QACX,OAAOC,MAAM,CAAC,KAAKH,SAAL,GAAc,SAAf,CAAb;MACD,CAXM;;MAaP;AACJ;AACA;AACA;MACII,SAjBO,uBAiBK;QACV,OAAO,KAAKF,UAAL,CAAgB,KAAKF,SAArB,EAA6BK,MAApC;MACD,CAnBM;;MAqBP;AACJ;AACA;AACA;AACA;AACA;MACIC,OA3BO,mBA2BCC,GA3BD,EA2BMC,KA3BN,EA2Ba;QAClBA,KAAK,GAAGvB,EAAE,CAACwB,IAAH,CAAQC,IAAR,CAAaC,SAAb,CAAuBH,KAAvB,CAAR;;QACA,IAAI;UACF,KAAKN,UAAL,CAAgB,KAAKF,SAArB,EAA6BM,OAA7B,CAAqCC,GAArC,EAA0CC,KAA1C;QACD,CAFD,CAEE,OAAOI,CAAP,EAAU;UACV,MAAM,IAAIC,KAAJ,CAAU,eAAV,CAAN;QACD;MACF,CAlCM;;MAoCP;AACJ;AACA;AACA;AACA;AACA;MACIC,OA1CO,mBA0CCP,GA1CD,EA0CM;QACX,IAAIQ,IAAI,GAAG,KAAKb,UAAL,CAAgB,KAAKF,SAArB,EAA6Bc,OAA7B,CAAqCP,GAArC,CAAX;;QAEA,IAAItB,EAAE,CAACwB,IAAH,CAAQO,IAAR,CAAaC,QAAb,CAAsBF,IAAtB,CAAJ,EAAiC;UAC/BA,IAAI,GAAG9B,EAAE,CAACwB,IAAH,CAAQC,IAAR,CAAaQ,KAAb,CAAmBH,IAAnB,CAAP,CAD+B,CAE/B;QACD,CAHD,MAGO,IAAIA,IAAI,IAAIA,IAAI,CAACP,KAAb,IAAsBvB,EAAE,CAACwB,IAAH,CAAQO,IAAR,CAAaC,QAAb,CAAsBF,IAAI,CAACP,KAA3B,CAA1B,EAA6D;UAClEO,IAAI,GAAG9B,EAAE,CAACwB,IAAH,CAAQC,IAAR,CAAaQ,KAAb,CAAmBH,IAAI,CAACP,KAAxB,CAAP;QACD;;QAED,OAAOO,IAAP;MACD,CArDM;;MAuDP;AACJ;AACA;AACA;MACII,UA3DO,sBA2DIZ,GA3DJ,EA2DS;QACd,KAAKL,UAAL,CAAgB,KAAKF,SAArB,EAA6BmB,UAA7B,CAAwCZ,GAAxC;MACD,CA7DM;;MA+DP;AACJ;AACA;MACIa,KAlEO,mBAkEC;QACN,IAAIzB,OAAO,GAAG,KAAKO,UAAL,CAAgB,KAAKF,SAArB,CAAd;;QACA,IAAI,CAACL,OAAO,CAACyB,KAAb,EAAoB;UAClB,KAAK,IAAIC,CAAC,GAAG1B,OAAO,CAACU,MAAR,GAAiB,CAA9B,EAAiCgB,CAAC,IAAI,CAAtC,EAAyCA,CAAC,EAA1C,EAA8C;YAC5C1B,OAAO,CAACwB,UAAR,CAAmBxB,OAAO,CAACY,GAAR,CAAYc,CAAZ,CAAnB;UACD;QACF,CAJD,MAIO;UACL1B,OAAO,CAACyB,KAAR;QACD;MACF,CA3EM;;MA6EP;AACJ;AACA;AACA;AACA;MACIE,MAlFO,kBAkFAC,KAlFA,EAkFO;QACZ,OAAO,KAAKrB,UAAL,CAAgB,KAAKF,SAArB,EAA6BO,GAA7B,CAAiCgB,KAAjC,CAAP;MACD,CApFM;;MAsFP;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;MACIC,OA9FO,mBA8FCC,QA9FD,EA8FWC,KA9FX,EA8FkB;QACvB,IAAIrB,MAAM,GAAG,KAAKD,SAAL,EAAb;;QACA,KAAK,IAAIiB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGhB,MAApB,EAA4BgB,CAAC,EAA7B,EAAiC;UAC/B,IAAId,GAAG,GAAG,KAAKe,MAAL,CAAYD,CAAZ,CAAV;UACAI,QAAQ,CAACE,IAAT,CAAcD,KAAd,EAAqBnB,GAArB,EAA0B,KAAKO,OAAL,CAAaP,GAAb,CAA1B;QACD;MACF;IApGM;EAvC+B,CAA1C;EA9BAtB,EAAE,CAACS,GAAH,CAAOC,OAAP,CAAeC,GAAf,CAAmBR,aAAnB,GAAmCA,aAAnC"
}