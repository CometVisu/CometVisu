{
  "version": 3,
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "define",
    "statics",
    "__local",
    "__session",
    "getLocal",
    "bom",
    "storage",
    "Web",
    "getSession",
    "construct",
    "type",
    "__type",
    "members",
    "getStorage",
    "window",
    "getLength",
    "length",
    "setItem",
    "key",
    "value",
    "lang",
    "Json",
    "stringify",
    "e",
    "Error",
    "getItem",
    "item",
    "Type",
    "isString",
    "parse",
    "removeItem",
    "clear",
    "i",
    "getKey",
    "index",
    "forEach",
    "callback",
    "scope",
    "call"
  ],
  "sources": [
    "/home/runner/work/CometVisu/CometVisu/node_modules/@qooxdoo/framework/source/class/qx/bom/storage/Web.js"
  ],
  "sourcesContent": [
    "/* ************************************************************************\r\n\r\n   qooxdoo - the new era of web development\r\n\r\n   http://qooxdoo.org\r\n\r\n   Copyright:\r\n     2004-2011 1&1 Internet AG, Germany, http://www.1und1.de\r\n\r\n   License:\r\n     MIT: https://opensource.org/licenses/MIT\r\n     See the LICENSE file in the project's top-level directory for details.\r\n\r\n   Authors:\r\n     * Martin Wittemann (wittemann)\r\n\r\n************************************************************************ */\r\n\r\n/**\r\n * Storage implementation using HTML web storage:\r\n * http://www.w3.org/TR/webstorage/\r\n *\r\n * @require(qx.bom.storage.Web#getLength)\r\n * @require(qx.bom.storage.Web#setItem)\r\n * @require(qx.bom.storage.Web#getItem)\r\n * @require(qx.bom.storage.Web#removeItem)\r\n * @require(qx.bom.storage.Web#clear)\r\n * @require(qx.bom.storage.Web#getKey)\r\n * @require(qx.bom.storage.Web#forEach)\r\n */\r\nqx.Bootstrap.define(\"qx.bom.storage.Web\", {\r\n  statics: {\r\n    __local: null,\r\n    __session: null,\r\n\r\n    /**\r\n     * Static accessor for the local storage.\r\n     * @return {qx.bom.storage.Web} An instance of a local storage.\r\n     */\r\n    getLocal() {\r\n      if (this.__local) {\r\n        return this.__local;\r\n      }\r\n      return (this.__local = new qx.bom.storage.Web(\"local\"));\r\n    },\r\n\r\n    /**\r\n     * Static accessor for the session storage.\r\n     * @return {qx.bom.storage.Web} An instance of a session storage.\r\n     */\r\n    getSession() {\r\n      if (this.__session) {\r\n        return this.__session;\r\n      }\r\n      return (this.__session = new qx.bom.storage.Web(\"session\"));\r\n    }\r\n  },\r\n\r\n  /**\r\n   * Create a new instance. Usually, you should take the static\r\n   * accessors to get your instance.\r\n   *\r\n   * @param type {String} type of storage, either\r\n   *   <code>local</code> or <code>session</code>.\r\n   */\r\n  construct(type) {\r\n    this.__type = type;\r\n  },\r\n\r\n  members: {\r\n    __type: null,\r\n\r\n    /**\r\n     * Returns the internal used storage (the native object).\r\n     *\r\n     * @internal\r\n     * @return {Storage} The native storage implementation.\r\n     */\r\n    getStorage() {\r\n      return window[this.__type + \"Storage\"];\r\n    },\r\n\r\n    /**\r\n     * Returns the amount of key-value pairs stored.\r\n     * @return {Integer} The length of the storage.\r\n     */\r\n    getLength() {\r\n      return this.getStorage(this.__type).length;\r\n    },\r\n\r\n    /**\r\n     * Store an item in the storage.\r\n     *\r\n     * @param key {String} The identifier key.\r\n     * @param value {var} The data, which will be stored as JSON.\r\n     */\r\n    setItem(key, value) {\r\n      value = qx.lang.Json.stringify(value);\r\n      try {\r\n        this.getStorage(this.__type).setItem(key, value);\r\n      } catch (e) {\r\n        throw new Error(\"Storage full.\");\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Returns the stored item.\r\n     *\r\n     * @param key {String} The identifier to get the data.\r\n     * @return {var} The stored data.\r\n     */\r\n    getItem(key) {\r\n      var item = this.getStorage(this.__type).getItem(key);\r\n\r\n      if (qx.lang.Type.isString(item)) {\r\n        item = qx.lang.Json.parse(item);\r\n        // special case for FF3\r\n      } else if (item && item.value && qx.lang.Type.isString(item.value)) {\r\n        item = qx.lang.Json.parse(item.value);\r\n      }\r\n\r\n      return item;\r\n    },\r\n\r\n    /**\r\n     * Removes an item form the storage.\r\n     * @param key {String} The identifier.\r\n     */\r\n    removeItem(key) {\r\n      this.getStorage(this.__type).removeItem(key);\r\n    },\r\n\r\n    /**\r\n     * Deletes every stored item in the storage.\r\n     */\r\n    clear() {\r\n      var storage = this.getStorage(this.__type);\r\n      if (!storage.clear) {\r\n        for (var i = storage.length - 1; i >= 0; i--) {\r\n          storage.removeItem(storage.key(i));\r\n        }\r\n      } else {\r\n        storage.clear();\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Returns the named key at the given index.\r\n     * @param index {Integer} The index in the storage.\r\n     * @return {String} The key stored at the given index.\r\n     */\r\n    getKey(index) {\r\n      return this.getStorage(this.__type).key(index);\r\n    },\r\n\r\n    /**\r\n     * Helper to access every stored item.\r\n     *\r\n     * @param callback {Function} A function which will be called for every item.\r\n     *   The function will have two arguments, first the key and second the value\r\n     *    of the stored data.\r\n     * @param scope {var} The scope of the function.\r\n     */\r\n    forEach(callback, scope) {\r\n      var length = this.getLength();\r\n      for (var i = 0; i < length; i++) {\r\n        var key = this.getKey(i);\r\n        callback.call(scope, key, this.getItem(key));\r\n      }\r\n    }\r\n  }\r\n});\r\n"
  ],
  "mappings": ";;;;;;;;;;;EAAAA,EAAE,CAACC,SAAS,CAACC,oBAAoB,CAACC,aAAa,CAAC;EAAhD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;EAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EACAH,EAAE,CAACC,SAAS,CAACG,MAAM,CAAC,oBAAoB,EAAE;IACxCC,OAAO,EAAE;MACPC,SAAO,EAAE,IAAI;MACbC,SAAS,EAAE,IAAI;MAEf;AACJ;AACA;AACA;MACIC,QAAQ,WAAAA,SAAA,EAAG;QACT,IAAI,IAAI,CAACF,SAAO,EAAE;UAChB,OAAO,IAAI,CAACA,SAAO;QACrB;QACA,OAAQ,IAAI,CAACA,SAAO,GAAG,IAAIN,EAAE,CAACS,GAAG,CAACC,OAAO,CAACC,GAAG,CAAC,OAAO,CAAC;MACxD,CAAC;MAED;AACJ;AACA;AACA;MACIC,UAAU,WAAAA,WAAA,EAAG;QACX,IAAI,IAAI,CAACL,SAAS,EAAE;UAClB,OAAO,IAAI,CAACA,SAAS;QACvB;QACA,OAAQ,IAAI,CAACA,SAAS,GAAG,IAAIP,EAAE,CAACS,GAAG,CAACC,OAAO,CAACC,GAAG,CAAC,SAAS,CAAC;MAC5D;IACF,CAAC;IAED;AACF;AACA;AACA;AACA;AACA;AACA;IACEE,SAAS,WAAAA,UAACC,IAAI,EAAE;MACd,IAAI,CAACC,SAAM,GAAGD,IAAI;IACpB,CAAC;IAEDE,OAAO,EAAE;MACPD,SAAM,EAAE,IAAI;MAEZ;AACJ;AACA;AACA;AACA;AACA;MACIE,UAAU,WAAAA,WAAA,EAAG;QACX,OAAOC,MAAM,CAAC,IAAI,CAACH,SAAM,GAAG,SAAS,CAAC;MACxC,CAAC;MAED;AACJ;AACA;AACA;MACII,SAAS,WAAAA,UAAA,EAAG;QACV,OAAO,IAAI,CAACF,UAAU,CAAC,IAAI,CAACF,SAAM,CAAC,CAACK,MAAM;MAC5C,CAAC;MAED;AACJ;AACA;AACA;AACA;AACA;MACIC,OAAO,WAAAA,QAACC,GAAG,EAAEC,KAAK,EAAE;QAClBA,KAAK,GAAGvB,EAAE,CAACwB,IAAI,CAACC,IAAI,CAACC,SAAS,CAACH,KAAK,CAAC;QACrC,IAAI;UACF,IAAI,CAACN,UAAU,CAAC,IAAI,CAACF,SAAM,CAAC,CAACM,OAAO,CAACC,GAAG,EAAEC,KAAK,CAAC;QAClD,CAAC,CAAC,OAAOI,CAAC,EAAE;UACV,MAAM,IAAIC,KAAK,CAAC,eAAe,CAAC;QAClC;MACF,CAAC;MAED;AACJ;AACA;AACA;AACA;AACA;MACIC,OAAO,WAAAA,QAACP,GAAG,EAAE;QACX,IAAIQ,IAAI,GAAG,IAAI,CAACb,UAAU,CAAC,IAAI,CAACF,SAAM,CAAC,CAACc,OAAO,CAACP,GAAG,CAAC;QAEpD,IAAItB,EAAE,CAACwB,IAAI,CAACO,IAAI,CAACC,QAAQ,CAACF,IAAI,CAAC,EAAE;UAC/BA,IAAI,GAAG9B,EAAE,CAACwB,IAAI,CAACC,IAAI,CAACQ,KAAK,CAACH,IAAI,CAAC;UAC/B;QACF,CAAC,MAAM,IAAIA,IAAI,IAAIA,IAAI,CAACP,KAAK,IAAIvB,EAAE,CAACwB,IAAI,CAACO,IAAI,CAACC,QAAQ,CAACF,IAAI,CAACP,KAAK,CAAC,EAAE;UAClEO,IAAI,GAAG9B,EAAE,CAACwB,IAAI,CAACC,IAAI,CAACQ,KAAK,CAACH,IAAI,CAACP,KAAK,CAAC;QACvC;QAEA,OAAOO,IAAI;MACb,CAAC;MAED;AACJ;AACA;AACA;MACII,UAAU,WAAAA,WAACZ,GAAG,EAAE;QACd,IAAI,CAACL,UAAU,CAAC,IAAI,CAACF,SAAM,CAAC,CAACmB,UAAU,CAACZ,GAAG,CAAC;MAC9C,CAAC;MAED;AACJ;AACA;MACIa,KAAK,WAAAA,MAAA,EAAG;QACN,IAAIzB,OAAO,GAAG,IAAI,CAACO,UAAU,CAAC,IAAI,CAACF,SAAM,CAAC;QAC1C,IAAI,CAACL,OAAO,CAACyB,KAAK,EAAE;UAClB,KAAK,IAAIC,CAAC,GAAG1B,OAAO,CAACU,MAAM,GAAG,CAAC,EAAEgB,CAAC,IAAI,CAAC,EAAEA,CAAC,EAAE,EAAE;YAC5C1B,OAAO,CAACwB,UAAU,CAACxB,OAAO,CAACY,GAAG,CAACc,CAAC,CAAC,CAAC;UACpC;QACF,CAAC,MAAM;UACL1B,OAAO,CAACyB,KAAK,CAAC,CAAC;QACjB;MACF,CAAC;MAED;AACJ;AACA;AACA;AACA;MACIE,MAAM,WAAAA,OAACC,KAAK,EAAE;QACZ,OAAO,IAAI,CAACrB,UAAU,CAAC,IAAI,CAACF,SAAM,CAAC,CAACO,GAAG,CAACgB,KAAK,CAAC;MAChD,CAAC;MAED;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;MACIC,OAAO,WAAAA,QAACC,QAAQ,EAAEC,KAAK,EAAE;QACvB,IAAIrB,MAAM,GAAG,IAAI,CAACD,SAAS,CAAC,CAAC;QAC7B,KAAK,IAAIiB,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGhB,MAAM,EAAEgB,CAAC,EAAE,EAAE;UAC/B,IAAId,GAAG,GAAG,IAAI,CAACe,MAAM,CAACD,CAAC,CAAC;UACxBI,QAAQ,CAACE,IAAI,CAACD,KAAK,EAAEnB,GAAG,EAAE,IAAI,CAACO,OAAO,CAACP,GAAG,CAAC,CAAC;QAC9C;MACF;IACF;EACF,CAAC,CAAC;EA3KFtB,EAAE,CAACS,GAAG,CAACC,OAAO,CAACC,GAAG,CAACR,aAAa,GAAGA,aAAa;AAAC"
}