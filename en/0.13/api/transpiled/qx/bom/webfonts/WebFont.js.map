{
  "version": 3,
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "extend",
    "bom",
    "Font",
    "properties",
    "valid",
    "init",
    "check",
    "event",
    "apply",
    "events",
    "changeStatus",
    "members",
    "__families",
    "__allValidPromise",
    "loadComplete",
    "promises",
    "getFamily",
    "fontFamily",
    "loader",
    "webfonts",
    "WebFontLoader",
    "getLoader",
    "fontWeight",
    "isBold",
    "getWeight",
    "fontStyle",
    "isItalic",
    "validator",
    "Validator",
    "getComparisonString",
    "setTimeout",
    "WebFont",
    "VALIDATION_TIMEOUT",
    "validate",
    "push",
    "isValid",
    "Promise",
    "all",
    "then",
    "results",
    "length",
    "indexOf",
    "setValid",
    "checkValid",
    "__applyValid",
    "value",
    "fireDataEvent",
    "family",
    "statics"
  ],
  "sources": [
    "/home/runner/work/CometVisu/CometVisu/node_modules/@qooxdoo/framework/source/class/qx/bom/webfonts/WebFont.js"
  ],
  "sourcesContent": [
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2011 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n************************************************************************ */\n\n/**\n * Requests web fonts via {@link qx.bom.webfonts.WebFontLoader} and fires events\n * when their loading status is known.\n */\nqx.Class.define(\"qx.bom.webfonts.WebFont\", {\n  extend: qx.bom.Font,\n\n  /*\n  *****************************************************************************\n     PROPERTIES\n  *****************************************************************************\n  */\n\n  properties: {\n    /**\n     * Indicates that the font has loaded successfully\n     */\n    valid: {\n      init: false,\n      check: \"Boolean\",\n      event: \"changeValid\",\n      apply: \"__applyValid\"\n    }\n  },\n\n  /*\n  *****************************************************************************\n     EVENTS\n  *****************************************************************************\n  */\n\n  events: {\n    /**\n     * Fired when the status of a web font has been determined. The event data\n     * is a map with the keys \"family\" (the font-family name) and \"valid\"\n     * (Boolean).\n     */\n    changeStatus: \"qx.event.type.Data\"\n  },\n\n  /*\n  *****************************************************************************\n     MEMBERS\n  *****************************************************************************\n  */\n\n  members: {\n    __families: null,\n    __allValidPromise: null,\n\n    /**\n     * @override\n     */\n    loadComplete() {\n      let promises = [];\n      for (let fontFamily of this.getFamily()) {\n        let loader = qx.bom.webfonts.WebFontLoader.getLoader(fontFamily);\n        if (loader) {\n          let fontWeight = this.isBold() ? \"bold\" : \"normal\";\n          if (this.getWeight() !== null) {\n            fontWeight = this.getWeight();\n          }\n          let fontStyle = this.isItalic() ? \"italic\" : \"normal\";\n\n          let validator = new qx.bom.webfonts.Validator(\n            fontFamily,\n            this.getComparisonString(),\n            fontWeight,\n            fontStyle\n          );\n\n          validator.setTimeout(qx.bom.webfonts.WebFont.VALIDATION_TIMEOUT);\n          validator.validate();\n          promises.push(validator.isValid());\n        }\n      }\n      this.__allValidPromise = qx.Promise.all(promises).then(results => {\n        if (results.length == 0 || results.indexOf(true) > -1) {\n          this.setValid(true);\n        } else {\n          this.setValid(false);\n        }\n      });\n    },\n\n    async checkValid() {\n      await this.__allValidPromise;\n    },\n\n    __applyValid(value) {\n      this.fireDataEvent(\"changeStatus\", {\n        family: this.getFamily(),\n        valid: value\n      });\n    }\n  },\n\n  statics: {\n    /**\n     * Timeout (in ms) to wait before deciding that a web font was not loaded.\n     */\n    VALIDATION_TIMEOUT: 5000\n  }\n});\n"
  ],
  "mappings": "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"
}