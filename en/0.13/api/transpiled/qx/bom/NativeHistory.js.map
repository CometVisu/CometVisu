{
  "version": 3,
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "extend",
    "bom",
    "History",
    "implement",
    "core",
    "IDisposable",
    "construct",
    "constructor",
    "call",
    "__attachListeners",
    "members",
    "__checkOnHashChange",
    "__P_110_0",
    "SUPPORTS_HASH_CHANGE_EVENT",
    "boundFunc",
    "lang",
    "Function",
    "bind",
    "__onHashChange",
    "event",
    "GlobalError",
    "observeMethod",
    "Event",
    "addNativeListener",
    "window",
    "Idle",
    "getInstance",
    "addListener",
    "__detatchListeners",
    "__P_110_3",
    "removeNativeListener",
    "removeListener",
    "__P_110_2",
    "currentState",
    "_readState",
    "Type",
    "isString",
    "getState",
    "_onHistoryLoad",
    "_decode",
    "_getHash",
    "_writeState",
    "Environment",
    "select",
    "opera",
    "state",
    "Timer",
    "once",
    "_setHash",
    "_encode",
    "_default",
    "destruct",
    "NativeHistory"
  ],
  "sources": [
    "/home/runner/work/CometVisu/CometVisu/node_modules/@qooxdoo/framework/source/class/qx/bom/NativeHistory.js"
  ],
  "sourcesContent": [
    "/* ************************************************************************\r\n\r\n   qooxdoo - the new era of web development\r\n\r\n   http://qooxdoo.org\r\n\r\n   Copyright:\r\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\r\n\r\n   License:\r\n     MIT: https://opensource.org/licenses/MIT\r\n     See the LICENSE file in the project's top-level directory for details.\r\n\r\n   Authors:\r\n     * Sebastian Werner (wpbasti)\r\n     * Andreas Ecker (ecker)\r\n     * Fabian Jakobs (fjakobs)\r\n\r\n************************************************************************ */\r\n\r\n/**\r\n * Default history manager implementation. Either polls for URL fragment\r\n * identifier (hash) changes or uses the native \"hashchange\" event.\r\n *\r\n * NOTE: Instances of this class must be disposed of after use\r\n *\r\n * @internal\r\n */\r\nqx.Class.define(\"qx.bom.NativeHistory\", {\r\n  extend: qx.bom.History,\r\n  implement: [qx.core.IDisposable],\r\n\r\n  construct() {\r\n    super();\r\n    this.__attachListeners();\r\n  },\r\n\r\n  members: {\r\n    __checkOnHashChange: null,\r\n\r\n    /**\r\n     * Attach hash change listeners\r\n     */\r\n    __attachListeners() {\r\n      if (qx.bom.History.SUPPORTS_HASH_CHANGE_EVENT) {\r\n        var boundFunc = qx.lang.Function.bind(this.__onHashChange, this);\r\n        this.__checkOnHashChange =\r\n          qx.event.GlobalError.observeMethod(boundFunc);\r\n        qx.bom.Event.addNativeListener(\r\n          window,\r\n          \"hashchange\",\r\n          this.__checkOnHashChange\r\n        );\r\n      } else {\r\n        qx.event.Idle.getInstance().addListener(\r\n          \"interval\",\r\n          this.__onHashChange,\r\n          this\r\n        );\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Remove hash change listeners\r\n     */\r\n    __detatchListeners() {\r\n      if (qx.bom.History.SUPPORTS_HASH_CHANGE_EVENT) {\r\n        qx.bom.Event.removeNativeListener(\r\n          window,\r\n          \"hashchange\",\r\n          this.__checkOnHashChange\r\n        );\r\n      } else {\r\n        qx.event.Idle.getInstance().removeListener(\r\n          \"interval\",\r\n          this.__onHashChange,\r\n          this\r\n        );\r\n      }\r\n    },\r\n\r\n    /**\r\n     * hash change event handler\r\n     */\r\n    __onHashChange() {\r\n      var currentState = this._readState();\r\n\r\n      if (\r\n        qx.lang.Type.isString(currentState) &&\r\n        currentState != this.getState()\r\n      ) {\r\n        this._onHistoryLoad(currentState);\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Browser dependent function to read the current state of the history\r\n     *\r\n     * @return {String} current state of the browser history\r\n     */\r\n    _readState() {\r\n      return this._decode(this._getHash());\r\n    },\r\n\r\n    /**\r\n     * Save a state into the browser history.\r\n     *\r\n     * @param state {String} state to save\r\n     */\r\n    _writeState: qx.core.Environment.select(\"engine.name\", {\r\n      opera(state) {\r\n        qx.event.Timer.once(\r\n          function () {\r\n            this._setHash(this._encode(state));\r\n          },\r\n          this,\r\n          0\r\n        );\r\n      },\r\n\r\n      default(state) {\r\n        this._setHash(this._encode(state));\r\n      }\r\n    })\r\n  },\r\n\r\n  destruct() {\r\n    this.__detatchListeners();\r\n  }\r\n});\r\n"
  ],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;EAAAA,EAAE,CAACC,SAAS,CAACC,oBAAoB,CAACC,aAAa,CAAC;EAAhD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;EAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EACAH,EAAE,CAACI,KAAK,CAACC,MAAM,CAAC,sBAAsB,EAAE;IACtCC,MAAM,EAAEN,EAAE,CAACO,GAAG,CAACC,OAAO;IACtBC,SAAS,EAAE,CAACT,EAAE,CAACU,IAAI,CAACC,WAAW,CAAC;IAEhCC,SAAS,WAAAA,UAAA,EAAG;MACVZ,EAAA,CAAAO,GAAA,CAAAC,OAAA,CAAAK,WAAA,CAAAC,IAAA;MACA,IAAI,CAACC,SAAiB,CAAC,CAAC;IAC1B,CAAC;IAEDC,OAAO,EAAE;MACPC,SAAmB,EAAE,IAAI;MAEzB;AACJ;AACA;MACIF,SAAiB,WAAAG,UAAA,EAAG;QAClB,IAAIlB,EAAE,CAACO,GAAG,CAACC,OAAO,CAACW,0BAA0B,EAAE;UAC7C,IAAIC,SAAS,GAAGpB,EAAE,CAACqB,IAAI,CAACC,QAAQ,CAACC,IAAI,CAAC,IAAI,CAACC,SAAc,EAAE,IAAI,CAAC;UAChE,IAAI,CAACP,SAAmB,GACtBjB,EAAE,CAACyB,KAAK,CAACC,WAAW,CAACC,aAAa,CAACP,SAAS,CAAC;UAC/CpB,EAAE,CAACO,GAAG,CAACqB,KAAK,CAACC,iBAAiB,CAC5BC,MAAM,EACN,YAAY,EACZ,IAAI,CAACb,SACP,CAAC;QACH,CAAC,MAAM;UACLjB,EAAE,CAACyB,KAAK,CAACM,IAAI,CAACC,WAAW,CAAC,CAAC,CAACC,WAAW,CACrC,UAAU,EACV,IAAI,CAACT,SAAc,EACnB,IACF,CAAC;QACH;MACF,CAAC;MAED;AACJ;AACA;MACIU,SAAkB,WAAAC,UAAA,EAAG;QACnB,IAAInC,EAAE,CAACO,GAAG,CAACC,OAAO,CAACW,0BAA0B,EAAE;UAC7CnB,EAAE,CAACO,GAAG,CAACqB,KAAK,CAACQ,oBAAoB,CAC/BN,MAAM,EACN,YAAY,EACZ,IAAI,CAACb,SACP,CAAC;QACH,CAAC,MAAM;UACLjB,EAAE,CAACyB,KAAK,CAACM,IAAI,CAACC,WAAW,CAAC,CAAC,CAACK,cAAc,CACxC,UAAU,EACV,IAAI,CAACb,SAAc,EACnB,IACF,CAAC;QACH;MACF,CAAC;MAED;AACJ;AACA;MACIA,SAAc,WAAAc,UAAA,EAAG;QACf,IAAIC,YAAY,GAAG,IAAI,CAACC,UAAU,CAAC,CAAC;QAEpC,IACExC,EAAE,CAACqB,IAAI,CAACoB,IAAI,CAACC,QAAQ,CAACH,YAAY,CAAC,IACnCA,YAAY,IAAI,IAAI,CAACI,QAAQ,CAAC,CAAC,EAC/B;UACA,IAAI,CAACC,cAAc,CAACL,YAAY,CAAC;QACnC;MACF,CAAC;MAED;AACJ;AACA;AACA;AACA;MACIC,UAAU,WAAAA,WAAA,EAAG;QACX,OAAO,IAAI,CAACK,OAAO,CAAC,IAAI,CAACC,QAAQ,CAAC,CAAC,CAAC;MACtC,CAAC;MAED;AACJ;AACA;AACA;AACA;MACIC,WAAW,EAAE/C,EAAE,CAACU,IAAI,CAACsC,WAAW,CAACC,MAAM,CAAC,aAAa,EAAE;QACrDC,KAAK,WAAAA,MAACC,KAAK,EAAE;UACXnD,EAAE,CAACyB,KAAK,CAAC2B,KAAK,CAACC,IAAI,CACjB,YAAY;YACV,IAAI,CAACC,QAAQ,CAAC,IAAI,CAACC,OAAO,CAACJ,KAAK,CAAC,CAAC;UACpC,CAAC,EACD,IAAI,EACJ,CACF,CAAC;QACH,CAAC;QAAA,oBAAAK,SAEOL,KAAK,EAAE;UACb,IAAI,CAACG,QAAQ,CAAC,IAAI,CAACC,OAAO,CAACJ,KAAK,CAAC,CAAC;QACpC;MACF,CAAC;IACH,CAAC;IAEDM,QAAQ,WAAAA,SAAA,EAAG;MACT,IAAI,CAACvB,SAAkB,CAAC,CAAC;IAC3B;EACF,CAAC,CAAC;EAjIFlC,EAAE,CAACO,GAAG,CAACmD,aAAa,CAACvD,aAAa,GAAGA,aAAa;AAAC"
}