{
  "version": 3,
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "define",
    "statics",
    "getSelectionObject",
    "core",
    "Environment",
    "select",
    "selection",
    "documentNode",
    "_default",
    "dom",
    "Node",
    "getWindow",
    "getSelection",
    "get",
    "node",
    "rng",
    "bom",
    "Range",
    "getDocument",
    "text",
    "__isInputOrTextarea",
    "value",
    "substring",
    "selectionStart",
    "selectionEnd",
    "toString",
    "getLength",
    "selectedValue",
    "split",
    "util",
    "StringSplit",
    "length",
    "selectedLength",
    "start",
    "end",
    "Selection",
    "getStart",
    "documentRange",
    "contains",
    "parentElement",
    "range",
    "len",
    "moveToBookmark",
    "getBookmark",
    "moveEnd",
    "elementRange",
    "moveToElementText",
    "ex",
    "bodyRange",
    "getBodyElement",
    "setEndPoint",
    "compareEndPoints",
    "moved",
    "steps",
    "moveStart",
    "documentElement",
    "documentSelection",
    "anchorOffset",
    "focusOffset",
    "getEnd",
    "__P_121_0",
    "isElement",
    "nodeName",
    "toLowerCase",
    "set",
    "isDocument",
    "body",
    "isText",
    "undefined",
    "collapse",
    "nodeValue",
    "parentNode",
    "childNodes",
    "newRng",
    "focus",
    "setSelectionRange",
    "validBoundaries",
    "sel",
    "isCollapsed",
    "collapseToStart",
    "setStart",
    "setEnd",
    "setEndAfter",
    "rangeCount",
    "removeAllRanges",
    "addRange",
    "setAll",
    "clear",
    "parent",
    "empty",
    "Element",
    "blur",
    "collapsed",
    "compareNode",
    "commonAncestor",
    "commonAncestorContainer"
  ],
  "sources": [
    "/home/runner/work/CometVisu/CometVisu/node_modules/@qooxdoo/framework/source/class/qx/bom/Selection.js"
  ],
  "sourcesContent": [
    "/* ************************************************************************\r\n\r\n   qooxdoo - the new era of web development\r\n\r\n   http://qooxdoo.org\r\n\r\n   Copyright:\r\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\r\n\r\n   License:\r\n     MIT: https://opensource.org/licenses/MIT\r\n     See the LICENSE file in the project's top-level directory for details.\r\n\r\n   Authors:\r\n     * Alexander Steitz (aback)\r\n\r\n************************************************************************ */\r\n\r\n/**\r\n * Low-level selection API to select elements like input and textarea elements\r\n * as well as text nodes or elements which their child nodes.\r\n *\r\n * @ignore(qx.bom.Element, qx.bom.Element.blur)\r\n */\r\nqx.Bootstrap.define(\"qx.bom.Selection\", {\r\n  /*\r\n  *****************************************************************************\r\n     STATICS\r\n  *****************************************************************************\r\n  */\r\n\r\n  statics: {\r\n    /**\r\n     * Returns the native selection object.\r\n     *\r\n     * @signature function(documentNode)\r\n     * @param documentNode {document} Document node to retrieve the connected selection from\r\n     * @return {Selection} native selection object\r\n     */\r\n    getSelectionObject: qx.core.Environment.select(\"html.selection\", {\r\n      selection(documentNode) {\r\n        return documentNode.selection;\r\n      },\r\n\r\n      // suitable for gecko, opera, webkit and mshtml >= 9\r\n      default(documentNode) {\r\n        return qx.dom.Node.getWindow(documentNode).getSelection();\r\n      }\r\n    }),\r\n\r\n    /**\r\n     * Returns the current selected text.\r\n     *\r\n     * @signature function(node)\r\n     * @param node {Node} node to retrieve the selection for\r\n     * @return {String|null} selected text as string\r\n     */\r\n    get: qx.core.Environment.select(\"html.selection\", {\r\n      selection(node) {\r\n        // to get the selected text in legacy IE you have to work with the TextRange\r\n        // of the selection object. So always pass the document node to the\r\n        // Range class to get this TextRange object.\r\n        var rng = qx.bom.Range.get(qx.dom.Node.getDocument(node));\r\n        return rng.text;\r\n      },\r\n\r\n      // suitable for gecko, opera and webkit\r\n      default(node) {\r\n        if (this.__isInputOrTextarea(node)) {\r\n          return node.value.substring(node.selectionStart, node.selectionEnd);\r\n        } else {\r\n          return this.getSelectionObject(\r\n            qx.dom.Node.getDocument(node)\r\n          ).toString();\r\n        }\r\n      }\r\n    }),\r\n\r\n    /**\r\n     * Returns the length of the selection\r\n     *\r\n     * @signature function(node)\r\n     * @param node {Node} Form node or document/window to check.\r\n     * @return {Integer|null} length of the selection or null\r\n     */\r\n    getLength: qx.core.Environment.select(\"html.selection\", {\r\n      selection(node) {\r\n        var selectedValue = this.get(node);\r\n        // get the selected part and split it by linebreaks\r\n        var split = qx.util.StringSplit.split(selectedValue, /\\r\\n/);\r\n\r\n        // return the length substracted by the count of linebreaks\r\n        // legacy IE counts linebreaks as two chars\r\n        // -> harmonize this to one char per linebreak\r\n        return selectedValue.length - (split.length - 1);\r\n      },\r\n\r\n      default(node) {\r\n        if (qx.core.Environment.get(\"engine.name\") == \"opera\") {\r\n          var selectedValue, selectedLength, split;\r\n\r\n          if (this.__isInputOrTextarea(node)) {\r\n            var start = node.selectionStart;\r\n            var end = node.selectionEnd;\r\n\r\n            selectedValue = node.value.substring(start, end);\r\n            selectedLength = end - start;\r\n          } else {\r\n            selectedValue = qx.bom.Selection.get(node);\r\n            selectedLength = selectedValue.length;\r\n          }\r\n\r\n          // get the selected part and split it by linebreaks\r\n          split = qx.util.StringSplit.split(selectedValue, /\\r\\n/);\r\n\r\n          // substract the count of linebreaks\r\n          // Opera counts each linebreak as two chars\r\n          // -> harmonize this to one char per linebreak\r\n          return selectedLength - (split.length - 1);\r\n        }\r\n\r\n        // suitable for gecko and webkit\r\n        if (this.__isInputOrTextarea(node)) {\r\n          return node.selectionEnd - node.selectionStart;\r\n        } else {\r\n          return this.get(node).length;\r\n        }\r\n      }\r\n    }),\r\n\r\n    /**\r\n     * Returns the start of the selection\r\n     *\r\n     * @signature function(node)\r\n     * @param node {Node} node to check for\r\n     * @return {Integer} start of current selection or \"-1\" if the current\r\n     *                   selection is not within the given node\r\n     */\r\n    getStart: qx.core.Environment.select(\"html.selection\", {\r\n      selection(node) {\r\n        if (this.__isInputOrTextarea(node)) {\r\n          var documentRange = qx.bom.Range.get();\r\n\r\n          // Check if the document.selection is the text range inside the input element\r\n          if (!node.contains(documentRange.parentElement())) {\r\n            return -1;\r\n          }\r\n\r\n          var range = qx.bom.Range.get(node);\r\n          var len = node.value.length;\r\n\r\n          // Synchronize range start and end points\r\n          range.moveToBookmark(documentRange.getBookmark());\r\n          range.moveEnd(\"character\", len);\r\n\r\n          return len - range.text.length;\r\n        } else {\r\n          var range = qx.bom.Range.get(node);\r\n          var parentElement = range.parentElement();\r\n\r\n          // get a range which holds the text of the parent element\r\n          var elementRange = qx.bom.Range.get();\r\n          try {\r\n            // IE throws an invalid argument error when the document has no selection\r\n            elementRange.moveToElementText(parentElement);\r\n          } catch (ex) {\r\n            return 0;\r\n          }\r\n\r\n          // Move end points of full range so it starts at the user selection\r\n          // and ends at the end of the element text.\r\n          var bodyRange = qx.bom.Range.get(qx.dom.Node.getBodyElement(node));\r\n          bodyRange.setEndPoint(\"StartToStart\", range);\r\n          bodyRange.setEndPoint(\"EndToEnd\", elementRange);\r\n\r\n          // selection is at beginning\r\n          if (elementRange.compareEndPoints(\"StartToStart\", bodyRange) == 0) {\r\n            return 0;\r\n          }\r\n\r\n          var moved;\r\n          var steps = 0;\r\n          while (true) {\r\n            moved = bodyRange.moveStart(\"character\", -1);\r\n\r\n            // Starting points of both ranges are equal\r\n            if (elementRange.compareEndPoints(\"StartToStart\", bodyRange) == 0) {\r\n              break;\r\n            }\r\n\r\n            // Moving had no effect -> range is at begin of body\r\n            if (moved == 0) {\r\n              break;\r\n            } else {\r\n              steps++;\r\n            }\r\n          }\r\n\r\n          return ++steps;\r\n        }\r\n      },\r\n\r\n      default(node) {\r\n        if (\r\n          qx.core.Environment.get(\"engine.name\") === \"gecko\" ||\r\n          qx.core.Environment.get(\"engine.name\") === \"webkit\"\r\n        ) {\r\n          if (this.__isInputOrTextarea(node)) {\r\n            return node.selectionStart;\r\n          } else {\r\n            var documentElement = qx.dom.Node.getDocument(node);\r\n            var documentSelection = this.getSelectionObject(documentElement);\r\n\r\n            // gecko and webkit do differ how the user selected the text\r\n            // \"left-to-right\" or \"right-to-left\"\r\n            if (\r\n              documentSelection.anchorOffset < documentSelection.focusOffset\r\n            ) {\r\n              return documentSelection.anchorOffset;\r\n            } else {\r\n              return documentSelection.focusOffset;\r\n            }\r\n          }\r\n        }\r\n\r\n        if (this.__isInputOrTextarea(node)) {\r\n          return node.selectionStart;\r\n        } else {\r\n          return qx.bom.Selection.getSelectionObject(\r\n            qx.dom.Node.getDocument(node)\r\n          ).anchorOffset;\r\n        }\r\n      }\r\n    }),\r\n\r\n    /**\r\n     * Returns the end of the selection\r\n     *\r\n     * @signature function(node)\r\n     * @param node {Node} node to check\r\n     * @return {Integer} end of current selection\r\n     */\r\n    getEnd: qx.core.Environment.select(\"html.selection\", {\r\n      selection(node) {\r\n        if (this.__isInputOrTextarea(node)) {\r\n          var documentRange = qx.bom.Range.get();\r\n\r\n          // Check if the document.selection is the text range inside the input element\r\n          if (!node.contains(documentRange.parentElement())) {\r\n            return -1;\r\n          }\r\n\r\n          var range = qx.bom.Range.get(node);\r\n          var len = node.value.length;\r\n\r\n          // Synchronize range start and end points\r\n          range.moveToBookmark(documentRange.getBookmark());\r\n          range.moveStart(\"character\", -len);\r\n\r\n          return range.text.length;\r\n        } else {\r\n          var range = qx.bom.Range.get(node);\r\n          var parentElement = range.parentElement();\r\n\r\n          // get a range which holds the text of the parent element\r\n          var elementRange = qx.bom.Range.get();\r\n          try {\r\n            // IE throws an invalid argument error when the document has no selection\r\n            elementRange.moveToElementText(parentElement);\r\n          } catch (ex) {\r\n            return 0;\r\n          }\r\n          var len = elementRange.text.length;\r\n\r\n          // Move end points of full range so it ends at the user selection\r\n          // and starts at the start of the element text.\r\n          var bodyRange = qx.bom.Range.get(qx.dom.Node.getBodyElement(node));\r\n          bodyRange.setEndPoint(\"EndToEnd\", range);\r\n          bodyRange.setEndPoint(\"StartToStart\", elementRange);\r\n\r\n          // selection is at beginning\r\n          if (elementRange.compareEndPoints(\"EndToEnd\", bodyRange) == 0) {\r\n            return len - 1;\r\n          }\r\n\r\n          var moved;\r\n          var steps = 0;\r\n          while (true) {\r\n            moved = bodyRange.moveEnd(\"character\", 1);\r\n\r\n            // Ending points of both ranges are equal\r\n            if (elementRange.compareEndPoints(\"EndToEnd\", bodyRange) == 0) {\r\n              break;\r\n            }\r\n\r\n            // Moving had no effect -> range is at begin of body\r\n            if (moved == 0) {\r\n              break;\r\n            } else {\r\n              steps++;\r\n            }\r\n          }\r\n\r\n          return len - ++steps;\r\n        }\r\n      },\r\n\r\n      default(node) {\r\n        if (\r\n          qx.core.Environment.get(\"engine.name\") === \"gecko\" ||\r\n          qx.core.Environment.get(\"engine.name\") === \"webkit\"\r\n        ) {\r\n          if (this.__isInputOrTextarea(node)) {\r\n            return node.selectionEnd;\r\n          } else {\r\n            var documentElement = qx.dom.Node.getDocument(node);\r\n            var documentSelection = this.getSelectionObject(documentElement);\r\n\r\n            // gecko and webkit do differ how the user selected the text\r\n            // \"left-to-right\" or \"right-to-left\"\r\n            if (\r\n              documentSelection.focusOffset > documentSelection.anchorOffset\r\n            ) {\r\n              return documentSelection.focusOffset;\r\n            } else {\r\n              return documentSelection.anchorOffset;\r\n            }\r\n          }\r\n        }\r\n\r\n        if (this.__isInputOrTextarea(node)) {\r\n          return node.selectionEnd;\r\n        } else {\r\n          return qx.bom.Selection.getSelectionObject(\r\n            qx.dom.Node.getDocument(node)\r\n          ).focusOffset;\r\n        }\r\n      }\r\n    }),\r\n\r\n    /**\r\n     * Utility method to check for an input or textarea element\r\n     *\r\n     * @param node {Node} node to check\r\n     * @return {Boolean} Whether the given node is an input or textarea element\r\n     */\r\n    __isInputOrTextarea(node) {\r\n      return (\r\n        qx.dom.Node.isElement(node) &&\r\n        (node.nodeName.toLowerCase() == \"input\" ||\r\n          node.nodeName.toLowerCase() == \"textarea\")\r\n      );\r\n    },\r\n\r\n    /**\r\n     * Sets a selection at the given node with the given start and end.\r\n     * For text nodes, input and textarea elements the start and end parameters\r\n     * set the boundaries at the text.\r\n     * For element nodes the start and end parameters are used to select the\r\n     * childNodes of the given element.\r\n     *\r\n     * @signature function(node, start, end)\r\n     * @param node {Node} node to set the selection at\r\n     * @param start {Integer} start of the selection\r\n     * @param end {Integer} end of the selection\r\n     * @return {Boolean} whether a selection is drawn\r\n     */\r\n    set: qx.core.Environment.select(\"html.selection\", {\r\n      selection(node, start, end) {\r\n        var rng;\r\n\r\n        // if the node is the document itself then work on with the body element\r\n        if (qx.dom.Node.isDocument(node)) {\r\n          node = node.body;\r\n        }\r\n\r\n        if (qx.dom.Node.isElement(node) || qx.dom.Node.isText(node)) {\r\n          switch (node.nodeName.toLowerCase()) {\r\n            case \"input\":\r\n            case \"textarea\":\r\n            case \"button\":\r\n              if (end === undefined) {\r\n                end = node.value.length;\r\n              }\r\n\r\n              if (\r\n                start >= 0 &&\r\n                start <= node.value.length &&\r\n                end >= 0 &&\r\n                end <= node.value.length\r\n              ) {\r\n                rng = qx.bom.Range.get(node);\r\n                rng.collapse(true);\r\n\r\n                rng.moveStart(\"character\", start);\r\n                rng.moveEnd(\"character\", end - start);\r\n                rng.select();\r\n\r\n                return true;\r\n              }\r\n              break;\r\n\r\n            case \"#text\":\r\n              if (end === undefined) {\r\n                end = node.nodeValue.length;\r\n              }\r\n\r\n              if (\r\n                start >= 0 &&\r\n                start <= node.nodeValue.length &&\r\n                end >= 0 &&\r\n                end <= node.nodeValue.length\r\n              ) {\r\n                // get a range of the body element\r\n                rng = qx.bom.Range.get(qx.dom.Node.getBodyElement(node));\r\n\r\n                // use the parent node -> \"moveToElementText\" expects an element\r\n                rng.moveToElementText(node.parentNode);\r\n                rng.collapse(true);\r\n\r\n                rng.moveStart(\"character\", start);\r\n                rng.moveEnd(\"character\", end - start);\r\n                rng.select();\r\n\r\n                return true;\r\n              }\r\n              break;\r\n\r\n            default:\r\n              if (end === undefined) {\r\n                end = node.childNodes.length - 1;\r\n              }\r\n\r\n              // check start and end -> childNodes\r\n              if (node.childNodes[start] && node.childNodes[end]) {\r\n                // get the TextRange of the body element\r\n                // IMPORTANT: only with a range of the body the method \"moveElementToText\" is available\r\n                rng = qx.bom.Range.get(qx.dom.Node.getBodyElement(node));\r\n                // position it at the given node\r\n                rng.moveToElementText(node.childNodes[start]);\r\n                rng.collapse(true);\r\n\r\n                // create helper range\r\n                var newRng = qx.bom.Range.get(qx.dom.Node.getBodyElement(node));\r\n                newRng.moveToElementText(node.childNodes[end]);\r\n\r\n                // set the end of the range to the end of the helper range\r\n                rng.setEndPoint(\"EndToEnd\", newRng);\r\n                rng.select();\r\n\r\n                return true;\r\n              }\r\n          }\r\n        }\r\n\r\n        return false;\r\n      },\r\n\r\n      // suitable for gecko, opera, webkit and mshtml >=9\r\n      default(node, start, end) {\r\n        // special handling for input and textarea elements\r\n        var nodeName = node.nodeName.toLowerCase();\r\n        if (\r\n          qx.dom.Node.isElement(node) &&\r\n          (nodeName == \"input\" || nodeName == \"textarea\")\r\n        ) {\r\n          // if \"end\" is not given set it to the end\r\n          if (end === undefined) {\r\n            end = node.value.length;\r\n          }\r\n\r\n          // check boundaries\r\n          if (\r\n            start >= 0 &&\r\n            start <= node.value.length &&\r\n            end >= 0 &&\r\n            end <= node.value.length\r\n          ) {\r\n            node.focus();\r\n            node.select();\r\n            // IE can throw \"Unspecified error\"\r\n            try {\r\n              node.setSelectionRange(start, end);\r\n            } catch (ex) {}\r\n            return true;\r\n          }\r\n        } else {\r\n          var validBoundaries = false;\r\n          var sel = qx.dom.Node.getWindow(node).getSelection();\r\n\r\n          var rng = qx.bom.Range.get(node);\r\n\r\n          // element or text node?\r\n          // for elements nodes the offsets are applied to childNodes\r\n          // for text nodes the offsets are applied to the text content\r\n          if (qx.dom.Node.isText(node)) {\r\n            if (end === undefined) {\r\n              end = node.length;\r\n            }\r\n\r\n            if (\r\n              start >= 0 &&\r\n              start < node.length &&\r\n              end >= 0 &&\r\n              end <= node.length\r\n            ) {\r\n              validBoundaries = true;\r\n            }\r\n          } else if (qx.dom.Node.isElement(node)) {\r\n            if (end === undefined) {\r\n              end = node.childNodes.length - 1;\r\n            }\r\n\r\n            if (\r\n              start >= 0 &&\r\n              node.childNodes[start] &&\r\n              end >= 0 &&\r\n              node.childNodes[end]\r\n            ) {\r\n              validBoundaries = true;\r\n            }\r\n          } else if (qx.dom.Node.isDocument(node)) {\r\n            // work on with the body element\r\n            node = node.body;\r\n\r\n            if (end === undefined) {\r\n              end = node.childNodes.length - 1;\r\n            }\r\n\r\n            if (\r\n              start >= 0 &&\r\n              node.childNodes[start] &&\r\n              end >= 0 &&\r\n              node.childNodes[end]\r\n            ) {\r\n              validBoundaries = true;\r\n            }\r\n          }\r\n\r\n          if (validBoundaries) {\r\n            // collapse the selection if needed\r\n            if (!sel.isCollapsed) {\r\n              sel.collapseToStart();\r\n            }\r\n\r\n            // set start and end of the range\r\n            rng.setStart(node, start);\r\n\r\n            // for element nodes set the end after the childNode\r\n            if (qx.dom.Node.isText(node)) {\r\n              rng.setEnd(node, end);\r\n            } else {\r\n              rng.setEndAfter(node.childNodes[end]);\r\n            }\r\n\r\n            // remove all existing ranges and add the new one\r\n            if (sel.rangeCount > 0) {\r\n              sel.removeAllRanges();\r\n            }\r\n\r\n            sel.addRange(rng);\r\n\r\n            return true;\r\n          }\r\n        }\r\n\r\n        return false;\r\n      }\r\n    }),\r\n\r\n    /**\r\n     * Selects all content/childNodes of the given node\r\n     *\r\n     * @param node {Node} text, element or document node\r\n     * @return {Boolean} whether a selection is drawn\r\n     */\r\n    setAll(node) {\r\n      return qx.bom.Selection.set(node, 0);\r\n    },\r\n\r\n    /**\r\n     * Clears the selection on the given node.\r\n     *\r\n     * @param node {Node} node to clear the selection for\r\n     */\r\n    clear: qx.core.Environment.select(\"html.selection\", {\r\n      selection(node) {\r\n        var rng = qx.bom.Range.get(node);\r\n        var parent = rng.parentElement();\r\n\r\n        var documentRange = qx.bom.Range.get(qx.dom.Node.getDocument(node));\r\n\r\n        // only collapse if the selection is really on the given node\r\n        // -> compare the two parent elements of the ranges with each other and\r\n        // the given node\r\n        if (qx.dom.Node.isText(node)) {\r\n          node = node.parentNode;\r\n        }\r\n        if (parent == documentRange.parentElement() && parent == node) {\r\n          var sel = qx.bom.Selection.getSelectionObject(\r\n            qx.dom.Node.getDocument(node)\r\n          );\r\n\r\n          sel.empty();\r\n        }\r\n      },\r\n\r\n      default(node) {\r\n        var sel = qx.bom.Selection.getSelectionObject(\r\n          qx.dom.Node.getDocument(node)\r\n        );\r\n\r\n        var nodeName = node.nodeName.toLowerCase();\r\n\r\n        // if the node is an input or textarea element use the specialized methods\r\n        if (\r\n          qx.dom.Node.isElement(node) &&\r\n          (nodeName == \"input\" || nodeName == \"textarea\")\r\n        ) {\r\n          // IE can throw \"Unspecified error\"\r\n          try {\r\n            node.setSelectionRange(0, 0);\r\n          } catch (ex) {}\r\n          if (qx.bom.Element && qx.bom.Element.blur) {\r\n            qx.bom.Element.blur(node);\r\n          }\r\n        }\r\n        // if the given node is the body/document node -> collapse the selection\r\n        else if (qx.dom.Node.isDocument(node) || nodeName == \"body\") {\r\n          sel.collapse(node.body ? node.body : node, 0);\r\n        }\r\n        // if an element/text node is given the current selection has to\r\n        // encompass the node. Only then the selection is cleared.\r\n        else {\r\n          var rng = qx.bom.Range.get(node);\r\n          if (!rng.collapsed) {\r\n            var compareNode;\r\n            var commonAncestor = rng.commonAncestorContainer;\r\n\r\n            // compare the parentNode of the textNode with the given node\r\n            // (if this node is an element) to decide whether the selection\r\n            // is cleared or not.\r\n            if (\r\n              qx.dom.Node.isElement(node) &&\r\n              qx.dom.Node.isText(commonAncestor)\r\n            ) {\r\n              compareNode = commonAncestor.parentNode;\r\n            } else {\r\n              compareNode = commonAncestor;\r\n            }\r\n\r\n            if (compareNode == node) {\r\n              sel.collapse(node, 0);\r\n            }\r\n          }\r\n        }\r\n      }\r\n    })\r\n  }\r\n});\r\n"
  ],
  "mappings": "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"
}