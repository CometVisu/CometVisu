{
  "version": 3,
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "define",
    "statics",
    "__sheet",
    "__rulePrefix",
    "__id",
    "__rules",
    "__transitionKeys",
    "scale",
    "rotate",
    "skew",
    "translate",
    "__cssAnimationKeys",
    "core",
    "Environment",
    "get",
    "animateReverse",
    "el",
    "desc",
    "duration",
    "_animate",
    "animate",
    "reverse",
    "__normalizeDesc",
    "keep",
    "alternate",
    "repeat",
    "bom",
    "Stylesheet",
    "createElement",
    "keyFrames",
    "undefined",
    "name",
    "__addKeyFrames",
    "style",
    "timing",
    "delay",
    "Event",
    "addNativeListener",
    "__onAnimationStart",
    "__onAnimationIteration",
    "__onAnimationEnd",
    "lang",
    "String",
    "camelCase",
    "animation",
    "element",
    "AnimationHandle",
    "$$animation",
    "origin",
    "Transform",
    "setOrigin",
    "window",
    "setTimeout",
    "AnimationCss",
    "target",
    "e",
    "emit",
    "key",
    "removeNativeListener",
    "__keepFrame",
    "ended",
    "endFrame",
    "transforms",
    "transform",
    "hasOwnProperty",
    "__validateDesc",
    "select",
    "possibleKeys",
    "indexOf",
    "warn",
    "pos",
    "frames",
    "rule",
    "position",
    "frame",
    "propName",
    "Style",
    "getPropertyName",
    "prefixed",
    "getCssName",
    "getCss",
    "selector",
    "addRule",
    "__clearCache",
    "ownerNode",
    "remove",
    "defer",
    "parseInt",
    "document",
    "addEventListener",
    "hidden"
  ],
  "sources": [
    "/home/runner/work/CometVisu/CometVisu/node_modules/@qooxdoo/framework/source/class/qx/bom/element/AnimationCss.js"
  ],
  "sourcesContent": [
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2011 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Martin Wittemann (martinwittemann)\n\n************************************************************************ */\n\n/**\n * This class is responsible for applying CSS3 animations to plain DOM elements.\n *\n * The implementation is mostly a cross-browser wrapper for applying the\n * animations, including transforms. If the browser does not support\n * CSS animations, but you have set a keep frame, the keep frame will be applied\n * immediately, thus making the animations optional.\n *\n * The API aligns closely to the spec wherever possible.\n *\n * http://www.w3.org/TR/css3-animations/\n *\n * {@link qx.bom.element.Animation} is the class, which takes care of the\n * feature detection for CSS animations and decides which implementation\n * (CSS or JavaScript) should be used. Most likely, this implementation should\n * be the one to use.\n */\nqx.Bootstrap.define(\"qx.bom.element.AnimationCss\", {\n  statics: {\n    // initialization\n    __sheet: null,\n    __rulePrefix: \"Anni\",\n    __id: 0,\n    /** Static map of rules */\n    __rules: {},\n\n    /** The used keys for transforms. */\n    __transitionKeys: {\n      scale: true,\n      rotate: true,\n      skew: true,\n      translate: true\n    },\n\n    /** Map of cross browser CSS keys. */\n    __cssAnimationKeys: qx.core.Environment.get(\"css.animation\"),\n\n    /**\n     * This is the main function to start the animation in reverse mode.\n     * For further details, take a look at the documentation of the wrapper\n     * {@link qx.bom.element.Animation}.\n     * @param el {Element} The element to animate.\n     * @param desc {Map} Animation description.\n     * @param duration {Integer?} The duration of the animation which will\n     *   override the duration given in the description.\n     * @return {qx.bom.element.AnimationHandle} The handle.\n     */\n    animateReverse(el, desc, duration) {\n      return this._animate(el, desc, duration, true);\n    },\n\n    /**\n     * This is the main function to start the animation. For further details,\n     * take a look at the documentation of the wrapper\n     * {@link qx.bom.element.Animation}.\n     * @param el {Element} The element to animate.\n     * @param desc {Map} Animation description.\n     * @param duration {Integer?} The duration of the animation which will\n     *   override the duration given in the description.\n     * @return {qx.bom.element.AnimationHandle} The handle.\n     */\n    animate(el, desc, duration) {\n      return this._animate(el, desc, duration, false);\n    },\n\n    /**\n     * Internal method to start an animation either reverse or not.\n     * {@link qx.bom.element.Animation}.\n     * @param el {Element} The element to animate.\n     * @param desc {Map} Animation description.\n     * @param duration {Integer?} The duration of the animation which will\n     *   override the duration given in the description.\n     * @param reverse {Boolean} <code>true</code>, if the animation should be\n     *   reversed.\n     * @return {qx.bom.element.AnimationHandle} The handle.\n     */\n    _animate(el, desc, duration, reverse) {\n      this.__normalizeDesc(desc);\n\n      // debug validation\n      if (qx.core.Environment.get(\"qx.debug\")) {\n        this.__validateDesc(desc);\n      }\n\n      // reverse the keep property if the animation is reverse as well\n      var keep = desc.keep;\n      if (\n        keep != null &&\n        (reverse || (desc.alternate && desc.repeat % 2 == 0))\n      ) {\n        keep = 100 - keep;\n      }\n\n      if (!this.__sheet) {\n        this.__sheet = qx.bom.Stylesheet.createElement();\n      }\n      var keyFrames = desc.keyFrames;\n\n      if (duration == undefined) {\n        duration = desc.duration;\n      }\n\n      // if animations are supported\n      if (this.__cssAnimationKeys != null) {\n        var name = this.__addKeyFrames(keyFrames, reverse);\n\n        var style =\n          name +\n          \" \" +\n          duration +\n          \"ms \" +\n          desc.timing +\n          \" \" +\n          (desc.delay ? desc.delay + \"ms \" : \"\") +\n          desc.repeat +\n          \" \" +\n          (desc.alternate ? \"alternate\" : \"\");\n\n        qx.bom.Event.addNativeListener(\n          el,\n          this.__cssAnimationKeys[\"start-event\"],\n          this.__onAnimationStart\n        );\n\n        qx.bom.Event.addNativeListener(\n          el,\n          this.__cssAnimationKeys[\"iteration-event\"],\n          this.__onAnimationIteration\n        );\n\n        qx.bom.Event.addNativeListener(\n          el,\n          this.__cssAnimationKeys[\"end-event\"],\n          this.__onAnimationEnd\n        );\n\n        if (qx.core.Environment.get(\"qx.debug\")) {\n          if (qx.bom.element.Style.get(el, \"display\") == \"none\") {\n            qx.log.Logger.warn(\n              el,\n              \"Some browsers will not animate elements with display==none\"\n            );\n          }\n        }\n\n        el.style[qx.lang.String.camelCase(this.__cssAnimationKeys[\"name\"])] =\n          style;\n        // use the fill mode property if available and suitable\n        if (keep && keep == 100 && this.__cssAnimationKeys[\"fill-mode\"]) {\n          el.style[this.__cssAnimationKeys[\"fill-mode\"]] = \"forwards\";\n        }\n      }\n\n      var animation = new qx.bom.element.AnimationHandle();\n      animation.desc = desc;\n      animation.el = el;\n      animation.keep = keep;\n      el.$$animation = animation;\n\n      // additional transform keys\n      if (desc.origin != null) {\n        qx.bom.element.Transform.setOrigin(el, desc.origin);\n      }\n\n      // fallback for browsers not supporting animations\n      if (this.__cssAnimationKeys == null) {\n        window.setTimeout(function () {\n          qx.bom.element.AnimationCss.__onAnimationEnd({ target: el });\n        }, 0);\n      }\n\n      return animation;\n    },\n\n    /**\n     * Handler for the animation start.\n     * @param e {Event} The native event from the browser.\n     */\n    __onAnimationStart(e) {\n      if (e.target.$$animation) {\n        e.target.$$animation.emit(\"start\", e.target);\n      }\n    },\n\n    /**\n     * Handler for the animation iteration.\n     * @param e {Event} The native event from the browser.\n     */\n    __onAnimationIteration(e) {\n      // It could happen that an animation end event is fired before an\n      // animation iteration appears [BUG #6928]\n      if (e.target != null && e.target.$$animation != null) {\n        e.target.$$animation.emit(\"iteration\", e.target);\n      }\n    },\n\n    /**\n     * Handler for the animation end.\n     * @param e {Event} The native event from the browser.\n     */\n    __onAnimationEnd(e) {\n      var el = e.target;\n      var animation = el.$$animation;\n\n      // ignore events when already cleaned up\n      if (!animation) {\n        return;\n      }\n\n      var desc = animation.desc;\n\n      if (qx.bom.element.AnimationCss.__cssAnimationKeys != null) {\n        // reset the styling\n        var key = qx.lang.String.camelCase(\n          qx.bom.element.AnimationCss.__cssAnimationKeys[\"name\"]\n        );\n\n        el.style[key] = \"\";\n\n        qx.bom.Event.removeNativeListener(\n          el,\n          qx.bom.element.AnimationCss.__cssAnimationKeys[\"name\"],\n          qx.bom.element.AnimationCss.__onAnimationEnd\n        );\n      }\n\n      if (desc.origin != null) {\n        qx.bom.element.Transform.setOrigin(el, \"\");\n      }\n\n      qx.bom.element.AnimationCss.__keepFrame(\n        el,\n        desc.keyFrames[animation.keep]\n      );\n\n      el.$$animation = null;\n      animation.el = null;\n      animation.ended = true;\n\n      animation.emit(\"end\", el);\n    },\n\n    /**\n     * Helper method which takes an element and a key frame description and\n     * applies the properties defined in the given frame to the element. This\n     * method is used to keep the state of the animation.\n     * @param el {Element} The element to apply the frame to.\n     * @param endFrame {Map} The description of the end frame, which is basically\n     *   a map containing CSS properties and values including transforms.\n     */\n    __keepFrame(el, endFrame) {\n      // keep the element at this animation step\n      var transforms;\n      for (var style in endFrame) {\n        if (style in qx.bom.element.AnimationCss.__transitionKeys) {\n          if (!transforms) {\n            transforms = {};\n          }\n          transforms[style] = endFrame[style];\n        } else {\n          el.style[qx.lang.String.camelCase(style)] = endFrame[style];\n        }\n      }\n\n      // transform keeping\n      if (transforms) {\n        qx.bom.element.Transform.transform(el, transforms);\n      }\n    },\n\n    /**\n     * Preprocessing of the description to make sure every necessary key is\n     * set to its default.\n     * @param desc {Map} The description of the animation.\n     */\n    __normalizeDesc(desc) {\n      if (!desc.hasOwnProperty(\"alternate\")) {\n        desc.alternate = false;\n      }\n      if (!desc.hasOwnProperty(\"keep\")) {\n        desc.keep = null;\n      }\n      if (!desc.hasOwnProperty(\"repeat\")) {\n        desc.repeat = 1;\n      }\n      if (!desc.hasOwnProperty(\"timing\")) {\n        desc.timing = \"linear\";\n      }\n      if (!desc.hasOwnProperty(\"origin\")) {\n        desc.origin = null;\n      }\n    },\n\n    /**\n     * Debugging helper to validate the description.\n     * @signature function(desc)\n     * @param desc {Map} The description of the animation.\n     */\n    __validateDesc: qx.core.Environment.select(\"qx.debug\", {\n      true(desc) {\n        var possibleKeys = [\n          \"origin\",\n          \"duration\",\n          \"keep\",\n          \"keyFrames\",\n          \"delay\",\n          \"repeat\",\n          \"timing\",\n          \"alternate\"\n        ];\n\n        // check for unknown keys\n        for (var name in desc) {\n          if (!(possibleKeys.indexOf(name) != -1)) {\n            qx.Bootstrap.warn(\n              \"Unknown key '\" + name + \"' in the animation description.\"\n            );\n          }\n        }\n\n        if (desc.keyFrames == null) {\n          qx.Bootstrap.warn(\"No 'keyFrames' given > 0\");\n        } else {\n          // check the key frames\n          for (var pos in desc.keyFrames) {\n            if (pos < 0 || pos > 100) {\n              qx.Bootstrap.warn(\n                \"Keyframe position needs to be between 0 and 100\"\n              );\n            }\n          }\n        }\n      },\n\n      default: null\n    }),\n\n    /**\n     * Helper to add the given frames to an internal CSS stylesheet. It parses\n     * the description and adds the key frames to the sheet.\n     * @param frames {Map} A map of key frames that describe the animation.\n     * @param reverse {Boolean} <code>true</code>, if the key frames should\n     *   be added in reverse order.\n     * @return {String} The generated name of the keyframes rule.\n     */\n    __addKeyFrames(frames, reverse) {\n      var rule = \"\";\n\n      // for each key frame\n      for (var position in frames) {\n        rule += (reverse ? -(position - 100) : position) + \"% {\";\n\n        var frame = frames[position];\n        var transforms;\n        // each style\n        for (var style in frame) {\n          if (style in this.__transitionKeys) {\n            if (!transforms) {\n              transforms = {};\n            }\n            transforms[style] = frame[style];\n          } else {\n            var propName = qx.bom.Style.getPropertyName(style);\n            var prefixed =\n              propName !== null ? qx.bom.Style.getCssName(propName) : \"\";\n            rule += (prefixed || style) + \":\" + frame[style] + \";\";\n          }\n        }\n\n        // transform handling\n        if (transforms) {\n          rule += qx.bom.element.Transform.getCss(transforms);\n        }\n\n        rule += \"} \";\n      }\n\n      // cached shorthand\n      if (this.__rules[rule]) {\n        return this.__rules[rule];\n      }\n\n      var name = this.__rulePrefix + this.__id++;\n      var selector = this.__cssAnimationKeys[\"keyframes\"] + \" \" + name;\n      qx.bom.Stylesheet.addRule(this.__sheet, selector, rule);\n\n      this.__rules[rule] = name;\n\n      return name;\n    },\n\n    /**\n     * Internal helper to reset the cache.\n     */\n    __clearCache() {\n      this.__id = 0;\n      if (this.__sheet) {\n        this.__sheet.ownerNode.remove();\n        this.__sheet = null;\n        this.__rules = {};\n      }\n    }\n  },\n\n  defer(statics) {\n    // iOS 8 seems to stumble over the old sheet object on tab\n    // changes or leaving the browser [BUG #8986]\n    if (\n      qx.core.Environment.get(\"os.name\") === \"ios\" &&\n      parseInt(qx.core.Environment.get(\"os.version\")) >= 8\n    ) {\n      document.addEventListener(\n        \"visibilitychange\",\n        function () {\n          if (!document.hidden) {\n            statics.__clearCache();\n          }\n        },\n        false\n      );\n    }\n  }\n});\n"
  ],
  "mappings": "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"
}