{
  "version": 3,
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "define",
    "statics",
    "__sheet",
    "__rulePrefix",
    "__id",
    "__rules",
    "__transitionKeys",
    "scale",
    "rotate",
    "skew",
    "translate",
    "__cssAnimationKeys",
    "core",
    "Environment",
    "get",
    "animateReverse",
    "el",
    "desc",
    "duration",
    "_animate",
    "animate",
    "reverse",
    "__normalizeDesc",
    "keep",
    "alternate",
    "repeat",
    "bom",
    "Stylesheet",
    "createElement",
    "keyFrames",
    "undefined",
    "name",
    "__addKeyFrames",
    "style",
    "timing",
    "delay",
    "Event",
    "addNativeListener",
    "__onAnimationStart",
    "__onAnimationIteration",
    "__onAnimationEnd",
    "lang",
    "String",
    "camelCase",
    "animation",
    "element",
    "AnimationHandle",
    "$$animation",
    "origin",
    "Transform",
    "setOrigin",
    "window",
    "setTimeout",
    "AnimationCss",
    "target",
    "__P_138_8",
    "e",
    "emit",
    "__P_138_9",
    "__P_138_10",
    "key",
    "removeNativeListener",
    "__keepFrame",
    "ended",
    "__P_138_11",
    "endFrame",
    "transforms",
    "transform",
    "__P_138_6",
    "hasOwnProperty",
    "__validateDesc",
    "select",
    "_true",
    "possibleKeys",
    "indexOf",
    "warn",
    "pos",
    "__P_138_7",
    "frames",
    "rule",
    "position",
    "frame",
    "propName",
    "Style",
    "getPropertyName",
    "prefixed",
    "getCssName",
    "getCss",
    "selector",
    "addRule",
    "__clearCache",
    "__P_138_13",
    "ownerNode",
    "remove",
    "defer",
    "parseInt",
    "document",
    "addEventListener",
    "hidden"
  ],
  "sources": [
    "/home/runner/work/CometVisu/CometVisu/node_modules/@qooxdoo/framework/source/class/qx/bom/element/AnimationCss.js"
  ],
  "sourcesContent": [
    "/* ************************************************************************\r\n\r\n   qooxdoo - the new era of web development\r\n\r\n   http://qooxdoo.org\r\n\r\n   Copyright:\r\n     2011 1&1 Internet AG, Germany, http://www.1und1.de\r\n\r\n   License:\r\n     MIT: https://opensource.org/licenses/MIT\r\n     See the LICENSE file in the project's top-level directory for details.\r\n\r\n   Authors:\r\n     * Martin Wittemann (martinwittemann)\r\n\r\n************************************************************************ */\r\n\r\n/**\r\n * This class is responsible for applying CSS3 animations to plain DOM elements.\r\n *\r\n * The implementation is mostly a cross-browser wrapper for applying the\r\n * animations, including transforms. If the browser does not support\r\n * CSS animations, but you have set a keep frame, the keep frame will be applied\r\n * immediately, thus making the animations optional.\r\n *\r\n * The API aligns closely to the spec wherever possible.\r\n *\r\n * http://www.w3.org/TR/css3-animations/\r\n *\r\n * {@link qx.bom.element.Animation} is the class, which takes care of the\r\n * feature detection for CSS animations and decides which implementation\r\n * (CSS or JavaScript) should be used. Most likely, this implementation should\r\n * be the one to use.\r\n */\r\nqx.Bootstrap.define(\"qx.bom.element.AnimationCss\", {\r\n  statics: {\r\n    // initialization\r\n    __sheet: null,\r\n    __rulePrefix: \"Anni\",\r\n    __id: 0,\r\n    /** Static map of rules */\r\n    __rules: {},\r\n\r\n    /** The used keys for transforms. */\r\n    __transitionKeys: {\r\n      scale: true,\r\n      rotate: true,\r\n      skew: true,\r\n      translate: true\r\n    },\r\n\r\n    /** Map of cross browser CSS keys. */\r\n    __cssAnimationKeys: qx.core.Environment.get(\"css.animation\"),\r\n\r\n    /**\r\n     * This is the main function to start the animation in reverse mode.\r\n     * For further details, take a look at the documentation of the wrapper\r\n     * {@link qx.bom.element.Animation}.\r\n     * @param el {Element} The element to animate.\r\n     * @param desc {Map} Animation description.\r\n     * @param duration {Integer?} The duration of the animation which will\r\n     *   override the duration given in the description.\r\n     * @return {qx.bom.element.AnimationHandle} The handle.\r\n     */\r\n    animateReverse(el, desc, duration) {\r\n      return this._animate(el, desc, duration, true);\r\n    },\r\n\r\n    /**\r\n     * This is the main function to start the animation. For further details,\r\n     * take a look at the documentation of the wrapper\r\n     * {@link qx.bom.element.Animation}.\r\n     * @param el {Element} The element to animate.\r\n     * @param desc {Map} Animation description.\r\n     * @param duration {Integer?} The duration of the animation which will\r\n     *   override the duration given in the description.\r\n     * @return {qx.bom.element.AnimationHandle} The handle.\r\n     */\r\n    animate(el, desc, duration) {\r\n      return this._animate(el, desc, duration, false);\r\n    },\r\n\r\n    /**\r\n     * Internal method to start an animation either reverse or not.\r\n     * {@link qx.bom.element.Animation}.\r\n     * @param el {Element} The element to animate.\r\n     * @param desc {Map} Animation description.\r\n     * @param duration {Integer?} The duration of the animation which will\r\n     *   override the duration given in the description.\r\n     * @param reverse {Boolean} <code>true</code>, if the animation should be\r\n     *   reversed.\r\n     * @return {qx.bom.element.AnimationHandle} The handle.\r\n     */\r\n    _animate(el, desc, duration, reverse) {\r\n      this.__normalizeDesc(desc);\r\n\r\n      // debug validation\r\n      if (qx.core.Environment.get(\"qx.debug\")) {\r\n        this.__validateDesc(desc);\r\n      }\r\n\r\n      // reverse the keep property if the animation is reverse as well\r\n      var keep = desc.keep;\r\n      if (\r\n        keep != null &&\r\n        (reverse || (desc.alternate && desc.repeat % 2 == 0))\r\n      ) {\r\n        keep = 100 - keep;\r\n      }\r\n\r\n      if (!this.__sheet) {\r\n        this.__sheet = qx.bom.Stylesheet.createElement();\r\n      }\r\n      var keyFrames = desc.keyFrames;\r\n\r\n      if (duration == undefined) {\r\n        duration = desc.duration;\r\n      }\r\n\r\n      // if animations are supported\r\n      if (this.__cssAnimationKeys != null) {\r\n        var name = this.__addKeyFrames(keyFrames, reverse);\r\n\r\n        var style =\r\n          name +\r\n          \" \" +\r\n          duration +\r\n          \"ms \" +\r\n          desc.timing +\r\n          \" \" +\r\n          (desc.delay ? desc.delay + \"ms \" : \"\") +\r\n          desc.repeat +\r\n          \" \" +\r\n          (desc.alternate ? \"alternate\" : \"\");\r\n\r\n        qx.bom.Event.addNativeListener(\r\n          el,\r\n          this.__cssAnimationKeys[\"start-event\"],\r\n          this.__onAnimationStart\r\n        );\r\n\r\n        qx.bom.Event.addNativeListener(\r\n          el,\r\n          this.__cssAnimationKeys[\"iteration-event\"],\r\n          this.__onAnimationIteration\r\n        );\r\n\r\n        qx.bom.Event.addNativeListener(\r\n          el,\r\n          this.__cssAnimationKeys[\"end-event\"],\r\n          this.__onAnimationEnd\r\n        );\r\n\r\n        if (qx.core.Environment.get(\"qx.debug\")) {\r\n          if (qx.bom.element.Style.get(el, \"display\") == \"none\") {\r\n            qx.log.Logger.warn(\r\n              el,\r\n              \"Some browsers will not animate elements with display==none\"\r\n            );\r\n          }\r\n        }\r\n\r\n        el.style[qx.lang.String.camelCase(this.__cssAnimationKeys[\"name\"])] =\r\n          style;\r\n        // use the fill mode property if available and suitable\r\n        if (keep && keep == 100 && this.__cssAnimationKeys[\"fill-mode\"]) {\r\n          el.style[this.__cssAnimationKeys[\"fill-mode\"]] = \"forwards\";\r\n        }\r\n      }\r\n\r\n      var animation = new qx.bom.element.AnimationHandle();\r\n      animation.desc = desc;\r\n      animation.el = el;\r\n      animation.keep = keep;\r\n      el.$$animation = animation;\r\n\r\n      // additional transform keys\r\n      if (desc.origin != null) {\r\n        qx.bom.element.Transform.setOrigin(el, desc.origin);\r\n      }\r\n\r\n      // fallback for browsers not supporting animations\r\n      if (this.__cssAnimationKeys == null) {\r\n        window.setTimeout(function () {\r\n          qx.bom.element.AnimationCss.__onAnimationEnd({ target: el });\r\n        }, 0);\r\n      }\r\n\r\n      return animation;\r\n    },\r\n\r\n    /**\r\n     * Handler for the animation start.\r\n     * @param e {Event} The native event from the browser.\r\n     */\r\n    __onAnimationStart(e) {\r\n      if (e.target.$$animation) {\r\n        e.target.$$animation.emit(\"start\", e.target);\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Handler for the animation iteration.\r\n     * @param e {Event} The native event from the browser.\r\n     */\r\n    __onAnimationIteration(e) {\r\n      // It could happen that an animation end event is fired before an\r\n      // animation iteration appears [BUG #6928]\r\n      if (e.target != null && e.target.$$animation != null) {\r\n        e.target.$$animation.emit(\"iteration\", e.target);\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Handler for the animation end.\r\n     * @param e {Event} The native event from the browser.\r\n     */\r\n    __onAnimationEnd(e) {\r\n      var el = e.target;\r\n      var animation = el.$$animation;\r\n\r\n      // ignore events when already cleaned up\r\n      if (!animation) {\r\n        return;\r\n      }\r\n\r\n      var desc = animation.desc;\r\n\r\n      if (qx.bom.element.AnimationCss.__cssAnimationKeys != null) {\r\n        // reset the styling\r\n        var key = qx.lang.String.camelCase(\r\n          qx.bom.element.AnimationCss.__cssAnimationKeys[\"name\"]\r\n        );\r\n\r\n        el.style[key] = \"\";\r\n\r\n        qx.bom.Event.removeNativeListener(\r\n          el,\r\n          qx.bom.element.AnimationCss.__cssAnimationKeys[\"name\"],\r\n          qx.bom.element.AnimationCss.__onAnimationEnd\r\n        );\r\n      }\r\n\r\n      if (desc.origin != null) {\r\n        qx.bom.element.Transform.setOrigin(el, \"\");\r\n      }\r\n\r\n      qx.bom.element.AnimationCss.__keepFrame(\r\n        el,\r\n        desc.keyFrames[animation.keep]\r\n      );\r\n\r\n      el.$$animation = null;\r\n      animation.el = null;\r\n      animation.ended = true;\r\n\r\n      animation.emit(\"end\", el);\r\n    },\r\n\r\n    /**\r\n     * Helper method which takes an element and a key frame description and\r\n     * applies the properties defined in the given frame to the element. This\r\n     * method is used to keep the state of the animation.\r\n     * @param el {Element} The element to apply the frame to.\r\n     * @param endFrame {Map} The description of the end frame, which is basically\r\n     *   a map containing CSS properties and values including transforms.\r\n     */\r\n    __keepFrame(el, endFrame) {\r\n      // keep the element at this animation step\r\n      var transforms;\r\n      for (var style in endFrame) {\r\n        if (style in qx.bom.element.AnimationCss.__transitionKeys) {\r\n          if (!transforms) {\r\n            transforms = {};\r\n          }\r\n          transforms[style] = endFrame[style];\r\n        } else {\r\n          el.style[qx.lang.String.camelCase(style)] = endFrame[style];\r\n        }\r\n      }\r\n\r\n      // transform keeping\r\n      if (transforms) {\r\n        qx.bom.element.Transform.transform(el, transforms);\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Preprocessing of the description to make sure every necessary key is\r\n     * set to its default.\r\n     * @param desc {Map} The description of the animation.\r\n     */\r\n    __normalizeDesc(desc) {\r\n      if (!desc.hasOwnProperty(\"alternate\")) {\r\n        desc.alternate = false;\r\n      }\r\n      if (!desc.hasOwnProperty(\"keep\")) {\r\n        desc.keep = null;\r\n      }\r\n      if (!desc.hasOwnProperty(\"repeat\")) {\r\n        desc.repeat = 1;\r\n      }\r\n      if (!desc.hasOwnProperty(\"timing\")) {\r\n        desc.timing = \"linear\";\r\n      }\r\n      if (!desc.hasOwnProperty(\"origin\")) {\r\n        desc.origin = null;\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Debugging helper to validate the description.\r\n     * @signature function(desc)\r\n     * @param desc {Map} The description of the animation.\r\n     */\r\n    __validateDesc: qx.core.Environment.select(\"qx.debug\", {\r\n      true(desc) {\r\n        var possibleKeys = [\r\n          \"origin\",\r\n          \"duration\",\r\n          \"keep\",\r\n          \"keyFrames\",\r\n          \"delay\",\r\n          \"repeat\",\r\n          \"timing\",\r\n          \"alternate\"\r\n        ];\r\n\r\n        // check for unknown keys\r\n        for (var name in desc) {\r\n          if (!(possibleKeys.indexOf(name) != -1)) {\r\n            qx.Bootstrap.warn(\r\n              \"Unknown key '\" + name + \"' in the animation description.\"\r\n            );\r\n          }\r\n        }\r\n\r\n        if (desc.keyFrames == null) {\r\n          qx.Bootstrap.warn(\"No 'keyFrames' given > 0\");\r\n        } else {\r\n          // check the key frames\r\n          for (var pos in desc.keyFrames) {\r\n            if (pos < 0 || pos > 100) {\r\n              qx.Bootstrap.warn(\r\n                \"Keyframe position needs to be between 0 and 100\"\r\n              );\r\n            }\r\n          }\r\n        }\r\n      },\r\n\r\n      default: null\r\n    }),\r\n\r\n    /**\r\n     * Helper to add the given frames to an internal CSS stylesheet. It parses\r\n     * the description and adds the key frames to the sheet.\r\n     * @param frames {Map} A map of key frames that describe the animation.\r\n     * @param reverse {Boolean} <code>true</code>, if the key frames should\r\n     *   be added in reverse order.\r\n     * @return {String} The generated name of the keyframes rule.\r\n     */\r\n    __addKeyFrames(frames, reverse) {\r\n      var rule = \"\";\r\n\r\n      // for each key frame\r\n      for (var position in frames) {\r\n        rule += (reverse ? -(position - 100) : position) + \"% {\";\r\n\r\n        var frame = frames[position];\r\n        var transforms;\r\n        // each style\r\n        for (var style in frame) {\r\n          if (style in this.__transitionKeys) {\r\n            if (!transforms) {\r\n              transforms = {};\r\n            }\r\n            transforms[style] = frame[style];\r\n          } else {\r\n            var propName = qx.bom.Style.getPropertyName(style);\r\n            var prefixed =\r\n              propName !== null ? qx.bom.Style.getCssName(propName) : \"\";\r\n            rule += (prefixed || style) + \":\" + frame[style] + \";\";\r\n          }\r\n        }\r\n\r\n        // transform handling\r\n        if (transforms) {\r\n          rule += qx.bom.element.Transform.getCss(transforms);\r\n        }\r\n\r\n        rule += \"} \";\r\n      }\r\n\r\n      // cached shorthand\r\n      if (this.__rules[rule]) {\r\n        return this.__rules[rule];\r\n      }\r\n\r\n      var name = this.__rulePrefix + this.__id++;\r\n      var selector = this.__cssAnimationKeys[\"keyframes\"] + \" \" + name;\r\n      qx.bom.Stylesheet.addRule(this.__sheet, selector, rule);\r\n\r\n      this.__rules[rule] = name;\r\n\r\n      return name;\r\n    },\r\n\r\n    /**\r\n     * Internal helper to reset the cache.\r\n     */\r\n    __clearCache() {\r\n      this.__id = 0;\r\n      if (this.__sheet) {\r\n        this.__sheet.ownerNode.remove();\r\n        this.__sheet = null;\r\n        this.__rules = {};\r\n      }\r\n    }\r\n  },\r\n\r\n  defer(statics) {\r\n    // iOS 8 seems to stumble over the old sheet object on tab\r\n    // changes or leaving the browser [BUG #8986]\r\n    if (\r\n      qx.core.Environment.get(\"os.name\") === \"ios\" &&\r\n      parseInt(qx.core.Environment.get(\"os.version\")) >= 8\r\n    ) {\r\n      document.addEventListener(\r\n        \"visibilitychange\",\r\n        function () {\r\n          if (!document.hidden) {\r\n            statics.__clearCache();\r\n          }\r\n        },\r\n        false\r\n      );\r\n    }\r\n  }\r\n});\r\n"
  ],
  "mappings": "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"
}