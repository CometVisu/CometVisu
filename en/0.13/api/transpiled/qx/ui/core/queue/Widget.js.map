{
  "version": 3,
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "statics",
    "__queue",
    "__jobs",
    "remove",
    "widget",
    "job",
    "queue",
    "includes",
    "hash",
    "toHashCode",
    "lang",
    "Array",
    "Object",
    "getLength",
    "add",
    "unshift",
    "ui",
    "core",
    "Manager",
    "scheduleFlush",
    "flush",
    "obj",
    "jobs",
    "i",
    "length",
    "splice",
    "syncWidget",
    "Widget"
  ],
  "sources": [
    "/home/runner/work/CometVisu/CometVisu/node_modules/@qooxdoo/framework/source/class/qx/ui/core/queue/Widget.js"
  ],
  "sourcesContent": [
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Sebastian Werner (wpbasti)\n     * Fabian Jakobs (fjakobs)\n     * Mustafa Sak (msak)\n\n************************************************************************ */\n\n/**\n * The widget queue handles the deferred computation of certain widget properties.\n * It is used e.g. for the tree to update the indentation of tree nodes.\n *\n * This queue calls the method {@link qx.ui.core.Widget#syncWidget} of each\n * queued widget before the layout queues are processed.\n */\nqx.Class.define(\"qx.ui.core.queue.Widget\", {\n  statics: {\n    /** @type {Array} This contains all the queued widgets for the next flush. */\n    __queue: [],\n\n    /**\n     * @type {Object} This contains a map of widgets hash ($$hash) and their\n     * corresponding map of jobs.\n     */\n    __jobs: {},\n\n    /**\n     * Clears given job of a widget from the internal queue. If no jobs left, the\n     * widget will be removed completely from queue. If job param is <code>null</code>\n     * or <code>undefined</code> widget will be removed completely from queue.\n     * Normally only used during interims disposes of one or a few widgets.\n     *\n     * @param widget {qx.ui.core.Widget} The widget to clear\n     * @param job {String?} Job identifier. If not used, it will be converted to\n     * \"$$default\".\n     */\n    remove(widget, job) {\n      var queue = this.__queue;\n\n      if (!queue.includes(widget)) {\n        return;\n      }\n\n      var hash = widget.toHashCode();\n\n      // remove widget and all corresponding jobs, if job param is not given.\n      if (job == null) {\n        qx.lang.Array.remove(queue, widget);\n        delete this.__jobs[hash];\n        return;\n      }\n\n      if (this.__jobs[hash]) {\n        delete this.__jobs[hash][job];\n\n        if (qx.lang.Object.getLength(this.__jobs[hash]) == 0) {\n          qx.lang.Array.remove(queue, widget);\n        }\n      }\n    },\n\n    /**\n     * Adds a widget to the queue. The second param can be used to identify\n     * several jobs. You can add one job at once, which will be returned as\n     * an map at flushing on method {@link qx.ui.core.Widget#syncWidget}.\n     *\n     * @param widget {qx.ui.core.Widget} The widget to add.\n     * @param job {String?} Job identifier. If not used, it will be converted to\n     * \"$$default\".\n     */\n    add(widget, job) {\n      var queue = this.__queue;\n      //add widget if not containing\n      if (!queue.includes(widget)) {\n        queue.unshift(widget);\n      }\n\n      //add job\n      if (job == null) {\n        job = \"$$default\";\n      }\n      var hash = widget.toHashCode();\n      if (!this.__jobs[hash]) {\n        this.__jobs[hash] = {};\n      }\n      this.__jobs[hash][job] = true;\n\n      qx.ui.core.queue.Manager.scheduleFlush(\"widget\");\n    },\n\n    /**\n     * Flushes the widget queue.\n     *\n     * This is used exclusively by the {@link qx.ui.core.queue.Manager}.\n     */\n    flush() {\n      // Process all registered widgets\n      var queue = this.__queue;\n      var obj, jobs;\n      for (var i = queue.length - 1; i >= 0; i--) {\n        // Order is important to allow the same widget to be requeued directly\n        obj = queue[i];\n        jobs = this.__jobs[obj.toHashCode()];\n\n        queue.splice(i, 1);\n        obj.syncWidget(jobs);\n      }\n\n      // Empty check\n      if (queue.length != 0) {\n        return;\n      }\n\n      // Recreate the array is cheaper compared to keep a sparse array over time\n      this.__queue = [];\n      this.__jobs = {};\n    }\n  }\n});\n"
  ],
  "mappings": ";;;;;;;;;;;;EAAAA,EAAE,CAACC,SAAS,CAACC,oBAAoB,CAACC,aAAa,CAAC;EAAhD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;EAEA;AACA;AACA;AACA;AACA;AACA;AACA;EACAH,EAAE,CAACI,KAAK,CAACC,MAAM,CAAC,yBAAyB,EAAE;IACzCC,OAAO,EAAE;MACP;MACAC,SAAO,EAAE,EAAE;MAEX;AACJ;AACA;AACA;MACIC,SAAM,EAAE,CAAC,CAAC;MAEV;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;MACIC,MAAM,WAANA,MAAMA,CAACC,MAAM,EAAEC,GAAG,EAAE;QAClB,IAAIC,KAAK,GAAG,IAAI,CAACL,SAAO;QAExB,IAAI,CAACK,KAAK,CAACC,QAAQ,CAACH,MAAM,CAAC,EAAE;UAC3B;QACF;QAEA,IAAII,IAAI,GAAGJ,MAAM,CAACK,UAAU,CAAC,CAAC;;QAE9B;QACA,IAAIJ,GAAG,IAAI,IAAI,EAAE;UACfX,EAAE,CAACgB,IAAI,CAACC,KAAK,CAACR,MAAM,CAACG,KAAK,EAAEF,MAAM,CAAC;UACnC,OAAO,IAAI,CAACF,SAAM,CAACM,IAAI,CAAC;UACxB;QACF;QAEA,IAAI,IAAI,CAACN,SAAM,CAACM,IAAI,CAAC,EAAE;UACrB,OAAO,IAAI,CAACN,SAAM,CAACM,IAAI,CAAC,CAACH,GAAG,CAAC;UAE7B,IAAIX,EAAE,CAACgB,IAAI,CAACE,MAAM,CAACC,SAAS,CAAC,IAAI,CAACX,SAAM,CAACM,IAAI,CAAC,CAAC,IAAI,CAAC,EAAE;YACpDd,EAAE,CAACgB,IAAI,CAACC,KAAK,CAACR,MAAM,CAACG,KAAK,EAAEF,MAAM,CAAC;UACrC;QACF;MACF,CAAC;MAED;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;MACIU,GAAG,WAAHA,GAAGA,CAACV,MAAM,EAAEC,GAAG,EAAE;QACf,IAAIC,KAAK,GAAG,IAAI,CAACL,SAAO;QACxB;QACA,IAAI,CAACK,KAAK,CAACC,QAAQ,CAACH,MAAM,CAAC,EAAE;UAC3BE,KAAK,CAACS,OAAO,CAACX,MAAM,CAAC;QACvB;;QAEA;QACA,IAAIC,GAAG,IAAI,IAAI,EAAE;UACfA,GAAG,GAAG,WAAW;QACnB;QACA,IAAIG,IAAI,GAAGJ,MAAM,CAACK,UAAU,CAAC,CAAC;QAC9B,IAAI,CAAC,IAAI,CAACP,SAAM,CAACM,IAAI,CAAC,EAAE;UACtB,IAAI,CAACN,SAAM,CAACM,IAAI,CAAC,GAAG,CAAC,CAAC;QACxB;QACA,IAAI,CAACN,SAAM,CAACM,IAAI,CAAC,CAACH,GAAG,CAAC,GAAG,IAAI;QAE7BX,EAAE,CAACsB,EAAE,CAACC,IAAI,CAACX,KAAK,CAACY,OAAO,CAACC,aAAa,CAAC,QAAQ,CAAC;MAClD,CAAC;MAED;AACJ;AACA;AACA;AACA;MACIC,KAAK,WAALA,KAAKA,CAAA,EAAG;QACN;QACA,IAAId,KAAK,GAAG,IAAI,CAACL,SAAO;QACxB,IAAIoB,GAAG,EAAEC,IAAI;QACb,KAAK,IAAIC,CAAC,GAAGjB,KAAK,CAACkB,MAAM,GAAG,CAAC,EAAED,CAAC,IAAI,CAAC,EAAEA,CAAC,EAAE,EAAE;UAC1C;UACAF,GAAG,GAAGf,KAAK,CAACiB,CAAC,CAAC;UACdD,IAAI,GAAG,IAAI,CAACpB,SAAM,CAACmB,GAAG,CAACZ,UAAU,CAAC,CAAC,CAAC;UAEpCH,KAAK,CAACmB,MAAM,CAACF,CAAC,EAAE,CAAC,CAAC;UAClBF,GAAG,CAACK,UAAU,CAACJ,IAAI,CAAC;QACtB;;QAEA;QACA,IAAIhB,KAAK,CAACkB,MAAM,IAAI,CAAC,EAAE;UACrB;QACF;;QAEA;QACA,IAAI,CAACvB,SAAO,GAAG,EAAE;QACjB,IAAI,CAACC,SAAM,GAAG,CAAC,CAAC;MAClB;IACF;EACF,CAAC,CAAC;EAlIFR,EAAE,CAACsB,EAAE,CAACC,IAAI,CAACX,KAAK,CAACqB,MAAM,CAAC9B,aAAa,GAAGA,aAAa;AAAC",
  "ignoreList": []
}