{
  "version": 3,
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "extend",
    "core",
    "Object",
    "construct",
    "selectionProvider",
    "constructor",
    "call",
    "__selectionProvider",
    "events",
    "changeSelected",
    "properties",
    "allowEmptySelection",
    "check",
    "init",
    "apply",
    "members",
    "__selected",
    "getSelected",
    "setSelected",
    "item",
    "__isChildElement",
    "Error",
    "__setSelected",
    "resetSelected",
    "isSelected",
    "isSelectionEmpty",
    "getSelectables",
    "all",
    "items",
    "getItems",
    "result",
    "i",
    "length",
    "isItemSelectable",
    "push",
    "getEnabled",
    "splice",
    "__applyAllowEmptySelection",
    "__P_320_1",
    "value",
    "old",
    "__P_320_4",
    "oldSelected",
    "newSelected",
    "isAllowEmptySelection",
    "firstElement",
    "fireDataEvent",
    "__P_320_3",
    "destruct",
    "toHashCode",
    "_disposeObjects",
    "ui",
    "SingleSelectionManager"
  ],
  "sources": [
    "/home/runner/work/CometVisu/CometVisu/node_modules/@qooxdoo/framework/source/class/qx/ui/core/SingleSelectionManager.js"
  ],
  "sourcesContent": [
    "/* ************************************************************************\r\n\r\n   qooxdoo - the new era of web development\r\n\r\n   http://qooxdoo.org\r\n\r\n   Copyright:\r\n     2008 1&1 Internet AG, Germany, http://www.1und1.de\r\n\r\n   License:\r\n     MIT: https://opensource.org/licenses/MIT\r\n     See the LICENSE file in the project's top-level directory for details.\r\n\r\n   Authors:\r\n     * Christian Hagendorn (chris_schmidt)\r\n\r\n************************************************************************ */\r\n\r\n/**\r\n * Responsible for the single selection management.\r\n *\r\n * The class manage a list of {@link qx.ui.core.Widget} which are returned from\r\n * {@link qx.ui.core.ISingleSelectionProvider#getItems}.\r\n *\r\n * @internal\r\n */\r\nqx.Class.define(\"qx.ui.core.SingleSelectionManager\", {\r\n  extend: qx.core.Object,\r\n\r\n  /*\r\n  *****************************************************************************\r\n     CONSTRUCTOR\r\n  *****************************************************************************\r\n  */\r\n\r\n  /**\r\n   * Construct the single selection manager.\r\n   *\r\n   * @param selectionProvider {qx.ui.core.ISingleSelectionProvider} The provider\r\n   * for selection.\r\n   */\r\n  construct(selectionProvider) {\r\n    super();\r\n\r\n    if (qx.core.Environment.get(\"qx.debug\")) {\r\n      qx.core.Assert.assertInterface(\r\n        selectionProvider,\r\n        qx.ui.core.ISingleSelectionProvider,\r\n        \"Invalid selectionProvider!\"\r\n      );\r\n    }\r\n\r\n    this.__selectionProvider = selectionProvider;\r\n  },\r\n\r\n  /*\r\n  *****************************************************************************\r\n     EVENTS\r\n  *****************************************************************************\r\n  */\r\n\r\n  events: {\r\n    /** Fires after the selection was modified */\r\n    changeSelected: \"qx.event.type.Data\"\r\n  },\r\n\r\n  /*\r\n  *****************************************************************************\r\n     PROPERTIES\r\n  *****************************************************************************\r\n  */\r\n\r\n  properties: {\r\n    /**\r\n     * If the value is <code>true</code> the manager allows an empty selection,\r\n     * otherwise the first selectable element returned from the\r\n     * <code>qx.ui.core.ISingleSelectionProvider</code> will be selected.\r\n     */\r\n    allowEmptySelection: {\r\n      check: \"Boolean\",\r\n      init: true,\r\n      apply: \"__applyAllowEmptySelection\"\r\n    }\r\n  },\r\n\r\n  /*\r\n  *****************************************************************************\r\n     MEMBERS\r\n  *****************************************************************************\r\n  */\r\n\r\n  members: {\r\n    /** @type {qx.ui.core.Widget} The selected widget. */\r\n    __selected: null,\r\n\r\n    /** @type {qx.ui.core.ISingleSelectionProvider} The provider for selection management */\r\n    __selectionProvider: null,\r\n\r\n    /*\r\n    ---------------------------------------------------------------------------\r\n       PUBLIC API\r\n    ---------------------------------------------------------------------------\r\n    */\r\n\r\n    /**\r\n     * Returns the current selected element.\r\n     *\r\n     * @return {qx.ui.core.Widget|null} The current selected widget or\r\n     *    <code>null</code> if the selection is empty.\r\n     */\r\n    getSelected() {\r\n      return this.__selected;\r\n    },\r\n\r\n    /**\r\n     * Selects the passed element.\r\n     *\r\n     * @param item {qx.ui.core.Widget} Element to select.\r\n     * @throws {Error} if the element is not a child element.\r\n     */\r\n    setSelected(item) {\r\n      if (!this.__isChildElement(item)) {\r\n        throw new Error(\r\n          \"Could not select \" + item + \", because it is not a child element!\"\r\n        );\r\n      }\r\n\r\n      this.__setSelected(item);\r\n    },\r\n\r\n    /**\r\n     * Reset the current selection. If {@link #allowEmptySelection} is set to\r\n     * <code>true</code> the first element will be selected.\r\n     */\r\n    resetSelected() {\r\n      this.__setSelected(null);\r\n    },\r\n\r\n    /**\r\n     * Return <code>true</code> if the passed element is selected.\r\n     *\r\n     * @param item {qx.ui.core.Widget} Element to check if selected.\r\n     * @return {Boolean} <code>true</code> if passed element is selected,\r\n     *    <code>false</code> otherwise.\r\n     * @throws {Error} if the element is not a child element.\r\n     */\r\n    isSelected(item) {\r\n      if (!this.__isChildElement(item)) {\r\n        throw new Error(\r\n          \"Could not check if \" +\r\n            item +\r\n            \" is selected,\" +\r\n            \" because it is not a child element!\"\r\n        );\r\n      }\r\n      return this.__selected === item;\r\n    },\r\n\r\n    /**\r\n     * Returns <code>true</code> if selection is empty.\r\n     *\r\n     * @return {Boolean} <code>true</code> if selection is empty,\r\n     *    <code>false</code> otherwise.\r\n     */\r\n    isSelectionEmpty() {\r\n      return this.__selected == null;\r\n    },\r\n\r\n    /**\r\n     * Returns all elements which are selectable.\r\n     *\r\n     * @param all {Boolean} true for all selectables, false for the\r\n     *   selectables the user can interactively select\r\n     * @return {qx.ui.core.Widget[]} The contained items.\r\n     */\r\n    getSelectables(all) {\r\n      var items = this.__selectionProvider.getItems();\r\n      var result = [];\r\n\r\n      for (var i = 0; i < items.length; i++) {\r\n        if (this.__selectionProvider.isItemSelectable(items[i])) {\r\n          result.push(items[i]);\r\n        }\r\n      }\r\n\r\n      // in case of an user selectable list, remove the enabled items\r\n      if (!all) {\r\n        for (var i = result.length - 1; i >= 0; i--) {\r\n          if (!result[i].getEnabled()) {\r\n            result.splice(i, 1);\r\n          }\r\n        }\r\n      }\r\n\r\n      return result;\r\n    },\r\n\r\n    /*\r\n    ---------------------------------------------------------------------------\r\n       APPLY METHODS\r\n    ---------------------------------------------------------------------------\r\n    */\r\n\r\n    // apply method\r\n    __applyAllowEmptySelection(value, old) {\r\n      if (!value) {\r\n        this.__setSelected(this.__selected);\r\n      }\r\n    },\r\n\r\n    /*\r\n    ---------------------------------------------------------------------------\r\n       HELPERS\r\n    ---------------------------------------------------------------------------\r\n    */\r\n\r\n    /**\r\n     * Set selected element.\r\n     *\r\n     * If passes value is <code>null</code>, the selection will be reseted.\r\n     *\r\n     * @param item {qx.ui.core.Widget | null} element to select, or\r\n     *    <code>null</code> to reset selection.\r\n     */\r\n    __setSelected(item) {\r\n      var oldSelected = this.__selected;\r\n      var newSelected = item;\r\n\r\n      if (newSelected != null && oldSelected === newSelected) {\r\n        return;\r\n      }\r\n\r\n      if (!this.isAllowEmptySelection() && newSelected == null) {\r\n        var firstElement = this.getSelectables(true)[0];\r\n\r\n        if (firstElement) {\r\n          newSelected = firstElement;\r\n        }\r\n      }\r\n\r\n      this.__selected = newSelected;\r\n      this.fireDataEvent(\"changeSelected\", newSelected, oldSelected);\r\n    },\r\n\r\n    /**\r\n     * Checks if passed element is a child element.\r\n     *\r\n     * @param item {qx.ui.core.Widget} Element to check if child element.\r\n     * @return {Boolean} <code>true</code> if element is child element,\r\n     *    <code>false</code> otherwise.\r\n     */\r\n    __isChildElement(item) {\r\n      var items = this.__selectionProvider.getItems();\r\n\r\n      for (var i = 0; i < items.length; i++) {\r\n        if (items[i] === item) {\r\n          return true;\r\n        }\r\n      }\r\n      return false;\r\n    }\r\n  },\r\n\r\n  /*\r\n   *****************************************************************************\r\n      DESTRUCTOR\r\n   *****************************************************************************\r\n   */\r\n  destruct() {\r\n    if (this.__selectionProvider.toHashCode) {\r\n      this._disposeObjects(\"__selectionProvider\");\r\n    } else {\r\n      this.__selectionProvider = null;\r\n    }\r\n\r\n    this._disposeObjects(\"__selected\");\r\n  }\r\n});\r\n"
  ],
  "mappings": "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"
}