{
  "version": 3,
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "extend",
    "core",
    "Object",
    "type",
    "construct",
    "constructor",
    "call",
    "__roots",
    "properties",
    "useTabNavigation",
    "check",
    "init",
    "members",
    "__activeChild",
    "__focusedChild",
    "__currentRoot",
    "connectTo",
    "root",
    "addListener",
    "__onKeyPress",
    "_onFocusIn",
    "_onFocusOut",
    "_onActivate",
    "_onDeactivate",
    "addRoot",
    "widget",
    "toHashCode",
    "removeRoot",
    "getActiveWidget",
    "isActive",
    "getFocusedWidget",
    "isFocused",
    "isFocusRoot",
    "e",
    "target",
    "getTarget",
    "__findFocusRoot",
    "visualizeFocus",
    "visualizeBlur",
    "__P_316_4",
    "getKeyIdentifier",
    "isUseTabNavigation",
    "stopPropagation",
    "preventDefault",
    "current",
    "isShiftPressed",
    "next",
    "__getWidgetAfter",
    "__getFirstWidget",
    "__getWidgetBefore",
    "__getLastWidget",
    "tabFocus",
    "__P_316_5",
    "roots",
    "getLayoutParent",
    "__compareTabOrder",
    "__P_316_10",
    "widget1",
    "widget2",
    "tab1",
    "getTabIndex",
    "tab2",
    "el1",
    "getContentElement",
    "getDomElement",
    "el2",
    "Location",
    "bom",
    "element",
    "loc1",
    "get",
    "loc2",
    "top",
    "left",
    "z1",
    "getZIndex",
    "z2",
    "__P_316_7",
    "__getFirst",
    "__P_316_9",
    "__getLast",
    "__P_316_6",
    "getAnonymous",
    "result",
    "__collectAllAfter",
    "sort",
    "len",
    "length",
    "__P_316_8",
    "__collectAllBefore",
    "__P_316_13",
    "parent",
    "children",
    "getLayoutChildren",
    "child",
    "i",
    "l",
    "ui",
    "Widget",
    "isEnabled",
    "isVisible",
    "isTabable",
    "push",
    "__P_316_14",
    "__P_316_11",
    "firstWidget",
    "__P_316_12",
    "lastWidget",
    "destruct",
    "_disposeMap",
    "FocusHandler"
  ],
  "sources": [
    "/home/runner/work/CometVisu/CometVisu/node_modules/@qooxdoo/framework/source/class/qx/ui/core/FocusHandler.js"
  ],
  "sourcesContent": [
    "/* ************************************************************************\r\n\r\n   qooxdoo - the new era of web development\r\n\r\n   http://qooxdoo.org\r\n\r\n   Copyright:\r\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\r\n\r\n   License:\r\n     MIT: https://opensource.org/licenses/MIT\r\n     See the LICENSE file in the project's top-level directory for details.\r\n\r\n   Authors:\r\n     * Sebastian Werner (wpbasti)\r\n     * Andreas Ecker (ecker)\r\n\r\n************************************************************************ */\r\n\r\n/**\r\n * Each focus root delegates the focus handling to instances of the FocusHandler.\r\n */\r\nqx.Class.define(\"qx.ui.core.FocusHandler\", {\r\n  extend: qx.core.Object,\r\n  type: \"singleton\",\r\n\r\n  /*\r\n  *****************************************************************************\r\n     CONSTRUCTOR\r\n  *****************************************************************************\r\n  */\r\n\r\n  construct() {\r\n    super();\r\n\r\n    // Create data structure\r\n    this.__roots = {};\r\n  },\r\n\r\n  /*\r\n  ***********************************************\r\n    PROPERTIES\r\n  ***********************************************\r\n  */\r\n  properties: {\r\n    /**\r\n     * Activate changing focus with the tab key (default: true)\r\n     */\r\n    useTabNavigation: {\r\n      check: \"Boolean\",\r\n      init: true\r\n    }\r\n  },\r\n\r\n  /*\r\n  *****************************************************************************\r\n     MEMBERS\r\n  *****************************************************************************\r\n  */\r\n\r\n  members: {\r\n    __roots: null,\r\n    __activeChild: null,\r\n    __focusedChild: null,\r\n    __currentRoot: null,\r\n\r\n    /**\r\n     * Connects to a top-level root element (which initially receives\r\n     * all events of the root). This are normally all page and application\r\n     * roots, but no inline roots (they are typically sitting inside\r\n     * another root).\r\n     *\r\n     * @param root {qx.ui.root.Abstract} Any root\r\n     */\r\n    connectTo(root) {\r\n      // this.debug(\"Connect to: \" + root);\r\n      root.addListener(\"keypress\", this.__onKeyPress, this);\r\n      root.addListener(\"focusin\", this._onFocusIn, this, true);\r\n      root.addListener(\"focusout\", this._onFocusOut, this, true);\r\n      root.addListener(\"activate\", this._onActivate, this, true);\r\n      root.addListener(\"deactivate\", this._onDeactivate, this, true);\r\n    },\r\n\r\n    /**\r\n     * Registers a widget as a focus root. A focus root comes\r\n     * with an separate tab sequence handling.\r\n     *\r\n     * @param widget {qx.ui.core.Widget} The widget to register\r\n     */\r\n    addRoot(widget) {\r\n      // this.debug(\"Add focusRoot: \" + widget);\r\n      this.__roots[widget.toHashCode()] = widget;\r\n    },\r\n\r\n    /**\r\n     * Deregisters a previous added widget.\r\n     *\r\n     * @param widget {qx.ui.core.Widget} The widget to deregister\r\n     */\r\n    removeRoot(widget) {\r\n      // this.debug(\"Remove focusRoot: \" + widget);\r\n      delete this.__roots[widget.toHashCode()];\r\n    },\r\n\r\n    /**\r\n     * Get the active widget\r\n     *\r\n     * @return {qx.ui.core.Widget|null} The active widget or <code>null</code>\r\n     *    if no widget is active\r\n     */\r\n    getActiveWidget() {\r\n      return this.__activeChild;\r\n    },\r\n\r\n    /**\r\n     * Whether the given widget is the active one\r\n     *\r\n     * @param widget {qx.ui.core.Widget} The widget to check\r\n     * @return {Boolean} <code>true</code> if the given widget is active\r\n     */\r\n    isActive(widget) {\r\n      return this.__activeChild == widget;\r\n    },\r\n\r\n    /**\r\n     * Get the focused widget\r\n     *\r\n     * @return {qx.ui.core.Widget|null} The focused widget or <code>null</code>\r\n     *    if no widget has the focus\r\n     */\r\n    getFocusedWidget() {\r\n      return this.__focusedChild;\r\n    },\r\n\r\n    /**\r\n     * Whether the given widget is the focused one.\r\n     *\r\n     * @param widget {qx.ui.core.Widget} The widget to check\r\n     * @return {Boolean} <code>true</code> if the given widget is focused\r\n     */\r\n    isFocused(widget) {\r\n      return this.__focusedChild == widget;\r\n    },\r\n\r\n    /**\r\n     * Whether the given widgets acts as a focus root.\r\n     *\r\n     * @param widget {qx.ui.core.Widget} The widget to check\r\n     * @return {Boolean} <code>true</code> if the given widget is a focus root\r\n     */\r\n    isFocusRoot(widget) {\r\n      return !!this.__roots[widget.toHashCode()];\r\n    },\r\n\r\n    /*\r\n    ---------------------------------------------------------------------------\r\n      EVENT HANDLER\r\n    ---------------------------------------------------------------------------\r\n    */\r\n\r\n    /**\r\n     * Internal event handler for activate event.\r\n     *\r\n     * @param e {qx.event.type.Focus} Focus event\r\n     */\r\n    _onActivate(e) {\r\n      var target = e.getTarget();\r\n      this.__activeChild = target;\r\n      //this.debug(\"active: \" + target);\r\n\r\n      var root = this.__findFocusRoot(target);\r\n      if (root != this.__currentRoot) {\r\n        this.__currentRoot = root;\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Internal event handler for deactivate event.\r\n     *\r\n     * @param e {qx.event.type.Focus} Focus event\r\n     */\r\n    _onDeactivate(e) {\r\n      var target = e.getTarget();\r\n      if (this.__activeChild == target) {\r\n        this.__activeChild = null;\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Internal event handler for focusin event.\r\n     *\r\n     * @param e {qx.event.type.Focus} Focus event\r\n     */\r\n    _onFocusIn(e) {\r\n      var target = e.getTarget();\r\n      if (target != this.__focusedChild) {\r\n        this.__focusedChild = target;\r\n        target.visualizeFocus();\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Internal event handler for focusout event.\r\n     *\r\n     * @param e {qx.event.type.Focus} Focus event\r\n     */\r\n    _onFocusOut(e) {\r\n      var target = e.getTarget();\r\n      if (target == this.__focusedChild) {\r\n        this.__focusedChild = null;\r\n        target.visualizeBlur();\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Internal event handler for TAB key.\r\n     *\r\n     * @param e {qx.event.type.KeySequence} Key event\r\n     */\r\n    __onKeyPress(e) {\r\n      if (e.getKeyIdentifier() != \"Tab\" || !this.isUseTabNavigation()) {\r\n        return;\r\n      }\r\n\r\n      if (!this.__currentRoot) {\r\n        return;\r\n      }\r\n\r\n      // Stop all key-events with a TAB keycode\r\n      e.stopPropagation();\r\n      e.preventDefault();\r\n\r\n      // Support shift key to reverse widget detection order\r\n      var current = this.__focusedChild;\r\n      if (!e.isShiftPressed()) {\r\n        var next = current\r\n          ? this.__getWidgetAfter(current)\r\n          : this.__getFirstWidget();\r\n      } else {\r\n        var next = current\r\n          ? this.__getWidgetBefore(current)\r\n          : this.__getLastWidget();\r\n      }\r\n\r\n      // If there was a widget found, focus it\r\n      if (next) {\r\n        next.tabFocus();\r\n      }\r\n    },\r\n\r\n    /*\r\n    ---------------------------------------------------------------------------\r\n      UTILS\r\n    ---------------------------------------------------------------------------\r\n    */\r\n\r\n    /**\r\n     * Finds the next focus root, starting with the given widget.\r\n     *\r\n     * @param widget {qx.ui.core.Widget} The widget to find a focus root for.\r\n     * @return {qx.ui.core.Widget|null} The focus root for the given widget or\r\n     * <code>true</code> if no focus root could be found\r\n     */\r\n    __findFocusRoot(widget) {\r\n      var roots = this.__roots;\r\n      while (widget) {\r\n        if (roots[widget.toHashCode()]) {\r\n          return widget;\r\n        }\r\n\r\n        widget = widget.getLayoutParent();\r\n      }\r\n\r\n      return null;\r\n    },\r\n\r\n    /*\r\n    ---------------------------------------------------------------------------\r\n      TAB SUPPORT IMPLEMENTATION\r\n    ---------------------------------------------------------------------------\r\n    */\r\n\r\n    /**\r\n     * Compares the order of two widgets\r\n     *\r\n     * @param widget1 {qx.ui.core.Widget} Widget A\r\n     * @param widget2 {qx.ui.core.Widget} Widget B\r\n     * @return {Integer} A sort() compatible integer with values\r\n     *   small than 0, exactly 0 or bigger than 0.\r\n     */\r\n    __compareTabOrder(widget1, widget2) {\r\n      if (widget1 === widget2) {\r\n        return 0;\r\n      }\r\n\r\n      // Sort-Check #1: Tab-Index\r\n      var tab1 = widget1.getTabIndex() || 0;\r\n      var tab2 = widget2.getTabIndex() || 0;\r\n\r\n      if (tab1 != tab2) {\r\n        return tab1 - tab2;\r\n      }\r\n\r\n      // Computing location\r\n      var el1 = widget1.getContentElement().getDomElement();\r\n      var el2 = widget2.getContentElement().getDomElement();\r\n\r\n      var Location = qx.bom.element.Location;\r\n\r\n      var loc1 = Location.get(el1);\r\n      var loc2 = Location.get(el2);\r\n\r\n      // Sort-Check #2: Top-Position\r\n      if (loc1.top != loc2.top) {\r\n        return loc1.top - loc2.top;\r\n      }\r\n\r\n      // Sort-Check #3: Left-Position\r\n      if (loc1.left != loc2.left) {\r\n        return loc1.left - loc2.left;\r\n      }\r\n\r\n      // Sort-Check #4: zIndex\r\n      var z1 = widget1.getZIndex();\r\n      var z2 = widget2.getZIndex();\r\n\r\n      if (z1 != z2) {\r\n        return z1 - z2;\r\n      }\r\n\r\n      return 0;\r\n    },\r\n\r\n    /**\r\n     * Returns the first widget.\r\n     *\r\n     * @return {qx.ui.core.Widget} Returns the first (positioned) widget from\r\n     *    the current root.\r\n     */\r\n    __getFirstWidget() {\r\n      return this.__getFirst(this.__currentRoot, null);\r\n    },\r\n\r\n    /**\r\n     * Returns the last widget.\r\n     *\r\n     * @return {qx.ui.core.Widget} Returns the last (positioned) widget from\r\n     *    the current root.\r\n     */\r\n    __getLastWidget() {\r\n      return this.__getLast(this.__currentRoot, null);\r\n    },\r\n\r\n    /**\r\n     * Returns the widget after the given one.\r\n     *\r\n     * @param widget {qx.ui.core.Widget} Widget to start with\r\n     * @return {qx.ui.core.Widget} The found widget.\r\n     */\r\n    __getWidgetAfter(widget) {\r\n      var root = this.__currentRoot;\r\n      if (root == widget) {\r\n        return this.__getFirstWidget();\r\n      }\r\n\r\n      while (widget && widget.getAnonymous()) {\r\n        widget = widget.getLayoutParent();\r\n      }\r\n\r\n      if (widget == null) {\r\n        return [];\r\n      }\r\n\r\n      var result = [];\r\n      this.__collectAllAfter(root, widget, result);\r\n      result.sort(this.__compareTabOrder);\r\n\r\n      var len = result.length;\r\n      return len > 0 ? result[0] : this.__getFirstWidget();\r\n    },\r\n\r\n    /**\r\n     * Returns the widget before the given one.\r\n     *\r\n     * @param widget {qx.ui.core.Widget} Widget to start with\r\n     * @return {qx.ui.core.Widget} The found widget.\r\n     */\r\n    __getWidgetBefore(widget) {\r\n      var root = this.__currentRoot;\r\n      if (root == widget) {\r\n        return this.__getLastWidget();\r\n      }\r\n\r\n      while (widget && widget.getAnonymous()) {\r\n        widget = widget.getLayoutParent();\r\n      }\r\n\r\n      if (widget == null) {\r\n        return [];\r\n      }\r\n\r\n      var result = [];\r\n      this.__collectAllBefore(root, widget, result);\r\n      result.sort(this.__compareTabOrder);\r\n\r\n      var len = result.length;\r\n      return len > 0 ? result[len - 1] : this.__getLastWidget();\r\n    },\r\n\r\n    /*\r\n    ---------------------------------------------------------------------------\r\n      INTERNAL API USED BY METHODS ABOVE\r\n    ---------------------------------------------------------------------------\r\n    */\r\n\r\n    /**\r\n     * Collects all widgets which are after the given widget in\r\n     * the given parent widget. Append all found children to the\r\n     * <code>list</code>.\r\n     *\r\n     * @param parent {qx.ui.core.Widget} Parent widget\r\n     * @param widget {qx.ui.core.Widget} Child widget to start with\r\n     * @param result {Array} Result list\r\n     */\r\n    __collectAllAfter(parent, widget, result) {\r\n      var children = parent.getLayoutChildren();\r\n      var child;\r\n\r\n      for (var i = 0, l = children.length; i < l; i++) {\r\n        child = children[i];\r\n\r\n        // Filter spacers etc.\r\n        if (!(child instanceof qx.ui.core.Widget)) {\r\n          continue;\r\n        }\r\n\r\n        if (\r\n          !this.isFocusRoot(child) &&\r\n          child.isEnabled() &&\r\n          child.isVisible()\r\n        ) {\r\n          if (child.isTabable() && this.__compareTabOrder(widget, child) < 0) {\r\n            result.push(child);\r\n          }\r\n\r\n          this.__collectAllAfter(child, widget, result);\r\n        }\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Collects all widgets which are before the given widget in\r\n     * the given parent widget. Append all found children to the\r\n     * <code>list</code>.\r\n     *\r\n     * @param parent {qx.ui.core.Widget} Parent widget\r\n     * @param widget {qx.ui.core.Widget} Child widget to start with\r\n     * @param result {Array} Result list\r\n     */\r\n    __collectAllBefore(parent, widget, result) {\r\n      var children = parent.getLayoutChildren();\r\n      var child;\r\n\r\n      for (var i = 0, l = children.length; i < l; i++) {\r\n        child = children[i];\r\n\r\n        // Filter spacers etc.\r\n        if (!(child instanceof qx.ui.core.Widget)) {\r\n          continue;\r\n        }\r\n\r\n        if (\r\n          !this.isFocusRoot(child) &&\r\n          child.isEnabled() &&\r\n          child.isVisible()\r\n        ) {\r\n          if (child.isTabable() && this.__compareTabOrder(widget, child) > 0) {\r\n            result.push(child);\r\n          }\r\n\r\n          this.__collectAllBefore(child, widget, result);\r\n        }\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Find first (positioned) widget. (Sorted by coordinates, zIndex, etc.)\r\n     *\r\n     * @param parent {qx.ui.core.Widget} Parent widget\r\n     * @param firstWidget {qx.ui.core.Widget?null} Current first widget\r\n     * @return {qx.ui.core.Widget} The first (positioned) widget\r\n     */\r\n    __getFirst(parent, firstWidget) {\r\n      var children = parent.getLayoutChildren();\r\n      var child;\r\n\r\n      for (var i = 0, l = children.length; i < l; i++) {\r\n        child = children[i];\r\n\r\n        // Filter spacers etc.\r\n        if (!(child instanceof qx.ui.core.Widget)) {\r\n          continue;\r\n        }\r\n\r\n        // Ignore focus roots completely\r\n        if (\r\n          !this.isFocusRoot(child) &&\r\n          child.isEnabled() &&\r\n          child.isVisible()\r\n        ) {\r\n          if (child.isTabable()) {\r\n            if (\r\n              firstWidget == null ||\r\n              this.__compareTabOrder(child, firstWidget) < 0\r\n            ) {\r\n              firstWidget = child;\r\n            }\r\n          }\r\n\r\n          // Deep iteration into children hierarchy\r\n          firstWidget = this.__getFirst(child, firstWidget);\r\n        }\r\n      }\r\n\r\n      return firstWidget;\r\n    },\r\n\r\n    /**\r\n     * Find last (positioned) widget. (Sorted by coordinates, zIndex, etc.)\r\n     *\r\n     * @param parent {qx.ui.core.Widget} Parent widget\r\n     * @param lastWidget {qx.ui.core.Widget?null} Current last widget\r\n     * @return {qx.ui.core.Widget} The last (positioned) widget\r\n     */\r\n    __getLast(parent, lastWidget) {\r\n      var children = parent.getLayoutChildren();\r\n      var child;\r\n\r\n      for (var i = 0, l = children.length; i < l; i++) {\r\n        child = children[i];\r\n\r\n        // Filter spacers etc.\r\n        if (!(child instanceof qx.ui.core.Widget)) {\r\n          continue;\r\n        }\r\n\r\n        // Ignore focus roots completely\r\n        if (\r\n          !this.isFocusRoot(child) &&\r\n          child.isEnabled() &&\r\n          child.isVisible()\r\n        ) {\r\n          if (child.isTabable()) {\r\n            if (\r\n              lastWidget == null ||\r\n              this.__compareTabOrder(child, lastWidget) > 0\r\n            ) {\r\n              lastWidget = child;\r\n            }\r\n          }\r\n\r\n          // Deep iteration into children hierarchy\r\n          lastWidget = this.__getLast(child, lastWidget);\r\n        }\r\n      }\r\n\r\n      return lastWidget;\r\n    }\r\n  },\r\n\r\n  /*\r\n  *****************************************************************************\r\n     DESTRUCTOR\r\n  *****************************************************************************\r\n  */\r\n\r\n  destruct() {\r\n    this._disposeMap(\"__roots\");\r\n    this.__focusedChild = this.__activeChild = this.__currentRoot = null;\r\n  }\r\n});\r\n"
  ],
  "mappings": "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"
}