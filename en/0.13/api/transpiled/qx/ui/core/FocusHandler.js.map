{
  "version": 3,
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "extend",
    "core",
    "Object",
    "type",
    "construct",
    "__roots",
    "properties",
    "useTabNavigation",
    "check",
    "init",
    "members",
    "__activeChild",
    "__focusedChild",
    "__currentRoot",
    "connectTo",
    "root",
    "addListener",
    "__onKeyPress",
    "_onFocusIn",
    "_onFocusOut",
    "_onActivate",
    "_onDeactivate",
    "addRoot",
    "widget",
    "toHashCode",
    "removeRoot",
    "getActiveWidget",
    "isActive",
    "getFocusedWidget",
    "isFocused",
    "isFocusRoot",
    "e",
    "target",
    "getTarget",
    "__findFocusRoot",
    "visualizeFocus",
    "visualizeBlur",
    "getKeyIdentifier",
    "isUseTabNavigation",
    "stopPropagation",
    "preventDefault",
    "current",
    "isShiftPressed",
    "next",
    "__getWidgetAfter",
    "__getFirstWidget",
    "__getWidgetBefore",
    "__getLastWidget",
    "tabFocus",
    "roots",
    "getLayoutParent",
    "__compareTabOrder",
    "widget1",
    "widget2",
    "tab1",
    "getTabIndex",
    "tab2",
    "el1",
    "getContentElement",
    "getDomElement",
    "el2",
    "Location",
    "bom",
    "element",
    "loc1",
    "get",
    "loc2",
    "top",
    "left",
    "z1",
    "getZIndex",
    "z2",
    "__getFirst",
    "__getLast",
    "getAnonymous",
    "result",
    "__collectAllAfter",
    "sort",
    "len",
    "length",
    "__collectAllBefore",
    "parent",
    "children",
    "getLayoutChildren",
    "child",
    "i",
    "l",
    "ui",
    "Widget",
    "isEnabled",
    "isVisible",
    "isTabable",
    "push",
    "firstWidget",
    "lastWidget",
    "destruct",
    "_disposeMap",
    "FocusHandler"
  ],
  "sources": [
    "/home/runner/work/CometVisu/CometVisu/node_modules/@qooxdoo/framework/source/class/qx/ui/core/FocusHandler.js"
  ],
  "sourcesContent": [
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Sebastian Werner (wpbasti)\n     * Andreas Ecker (ecker)\n\n************************************************************************ */\n\n/**\n * Each focus root delegates the focus handling to instances of the FocusHandler.\n */\nqx.Class.define(\"qx.ui.core.FocusHandler\", {\n  extend: qx.core.Object,\n  type: \"singleton\",\n\n  /*\n  *****************************************************************************\n     CONSTRUCTOR\n  *****************************************************************************\n  */\n\n  construct() {\n    super();\n\n    // Create data structure\n    this.__roots = {};\n  },\n\n  /*\n  ***********************************************\n    PROPERTIES\n  ***********************************************\n  */\n  properties: {\n    /**\n     * Activate changing focus with the tab key (default: true)\n     */\n    useTabNavigation: {\n      check: \"Boolean\",\n      init: true\n    }\n  },\n\n  /*\n  *****************************************************************************\n     MEMBERS\n  *****************************************************************************\n  */\n\n  members: {\n    __roots: null,\n    __activeChild: null,\n    __focusedChild: null,\n    __currentRoot: null,\n\n    /**\n     * Connects to a top-level root element (which initially receives\n     * all events of the root). This are normally all page and application\n     * roots, but no inline roots (they are typically sitting inside\n     * another root).\n     *\n     * @param root {qx.ui.root.Abstract} Any root\n     */\n    connectTo(root) {\n      // this.debug(\"Connect to: \" + root);\n      root.addListener(\"keypress\", this.__onKeyPress, this);\n      root.addListener(\"focusin\", this._onFocusIn, this, true);\n      root.addListener(\"focusout\", this._onFocusOut, this, true);\n      root.addListener(\"activate\", this._onActivate, this, true);\n      root.addListener(\"deactivate\", this._onDeactivate, this, true);\n    },\n\n    /**\n     * Registers a widget as a focus root. A focus root comes\n     * with an separate tab sequence handling.\n     *\n     * @param widget {qx.ui.core.Widget} The widget to register\n     */\n    addRoot(widget) {\n      // this.debug(\"Add focusRoot: \" + widget);\n      this.__roots[widget.toHashCode()] = widget;\n    },\n\n    /**\n     * Deregisters a previous added widget.\n     *\n     * @param widget {qx.ui.core.Widget} The widget to deregister\n     */\n    removeRoot(widget) {\n      // this.debug(\"Remove focusRoot: \" + widget);\n      delete this.__roots[widget.toHashCode()];\n    },\n\n    /**\n     * Get the active widget\n     *\n     * @return {qx.ui.core.Widget|null} The active widget or <code>null</code>\n     *    if no widget is active\n     */\n    getActiveWidget() {\n      return this.__activeChild;\n    },\n\n    /**\n     * Whether the given widget is the active one\n     *\n     * @param widget {qx.ui.core.Widget} The widget to check\n     * @return {Boolean} <code>true</code> if the given widget is active\n     */\n    isActive(widget) {\n      return this.__activeChild == widget;\n    },\n\n    /**\n     * Get the focused widget\n     *\n     * @return {qx.ui.core.Widget|null} The focused widget or <code>null</code>\n     *    if no widget has the focus\n     */\n    getFocusedWidget() {\n      return this.__focusedChild;\n    },\n\n    /**\n     * Whether the given widget is the focused one.\n     *\n     * @param widget {qx.ui.core.Widget} The widget to check\n     * @return {Boolean} <code>true</code> if the given widget is focused\n     */\n    isFocused(widget) {\n      return this.__focusedChild == widget;\n    },\n\n    /**\n     * Whether the given widgets acts as a focus root.\n     *\n     * @param widget {qx.ui.core.Widget} The widget to check\n     * @return {Boolean} <code>true</code> if the given widget is a focus root\n     */\n    isFocusRoot(widget) {\n      return !!this.__roots[widget.toHashCode()];\n    },\n\n    /*\n    ---------------------------------------------------------------------------\n      EVENT HANDLER\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Internal event handler for activate event.\n     *\n     * @param e {qx.event.type.Focus} Focus event\n     */\n    _onActivate(e) {\n      var target = e.getTarget();\n      this.__activeChild = target;\n      //this.debug(\"active: \" + target);\n\n      var root = this.__findFocusRoot(target);\n      if (root != this.__currentRoot) {\n        this.__currentRoot = root;\n      }\n    },\n\n    /**\n     * Internal event handler for deactivate event.\n     *\n     * @param e {qx.event.type.Focus} Focus event\n     */\n    _onDeactivate(e) {\n      var target = e.getTarget();\n      if (this.__activeChild == target) {\n        this.__activeChild = null;\n      }\n    },\n\n    /**\n     * Internal event handler for focusin event.\n     *\n     * @param e {qx.event.type.Focus} Focus event\n     */\n    _onFocusIn(e) {\n      var target = e.getTarget();\n      if (target != this.__focusedChild) {\n        this.__focusedChild = target;\n        target.visualizeFocus();\n      }\n    },\n\n    /**\n     * Internal event handler for focusout event.\n     *\n     * @param e {qx.event.type.Focus} Focus event\n     */\n    _onFocusOut(e) {\n      var target = e.getTarget();\n      if (target == this.__focusedChild) {\n        this.__focusedChild = null;\n        target.visualizeBlur();\n      }\n    },\n\n    /**\n     * Internal event handler for TAB key.\n     *\n     * @param e {qx.event.type.KeySequence} Key event\n     */\n    __onKeyPress(e) {\n      if (e.getKeyIdentifier() != \"Tab\" || !this.isUseTabNavigation()) {\n        return;\n      }\n\n      if (!this.__currentRoot) {\n        return;\n      }\n\n      // Stop all key-events with a TAB keycode\n      e.stopPropagation();\n      e.preventDefault();\n\n      // Support shift key to reverse widget detection order\n      var current = this.__focusedChild;\n      if (!e.isShiftPressed()) {\n        var next = current\n          ? this.__getWidgetAfter(current)\n          : this.__getFirstWidget();\n      } else {\n        var next = current\n          ? this.__getWidgetBefore(current)\n          : this.__getLastWidget();\n      }\n\n      // If there was a widget found, focus it\n      if (next) {\n        next.tabFocus();\n      }\n    },\n\n    /*\n    ---------------------------------------------------------------------------\n      UTILS\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Finds the next focus root, starting with the given widget.\n     *\n     * @param widget {qx.ui.core.Widget} The widget to find a focus root for.\n     * @return {qx.ui.core.Widget|null} The focus root for the given widget or\n     * <code>true</code> if no focus root could be found\n     */\n    __findFocusRoot(widget) {\n      var roots = this.__roots;\n      while (widget) {\n        if (roots[widget.toHashCode()]) {\n          return widget;\n        }\n\n        widget = widget.getLayoutParent();\n      }\n\n      return null;\n    },\n\n    /*\n    ---------------------------------------------------------------------------\n      TAB SUPPORT IMPLEMENTATION\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Compares the order of two widgets\n     *\n     * @param widget1 {qx.ui.core.Widget} Widget A\n     * @param widget2 {qx.ui.core.Widget} Widget B\n     * @return {Integer} A sort() compatible integer with values\n     *   small than 0, exactly 0 or bigger than 0.\n     */\n    __compareTabOrder(widget1, widget2) {\n      if (widget1 === widget2) {\n        return 0;\n      }\n\n      // Sort-Check #1: Tab-Index\n      var tab1 = widget1.getTabIndex() || 0;\n      var tab2 = widget2.getTabIndex() || 0;\n\n      if (tab1 != tab2) {\n        return tab1 - tab2;\n      }\n\n      // Computing location\n      var el1 = widget1.getContentElement().getDomElement();\n      var el2 = widget2.getContentElement().getDomElement();\n\n      var Location = qx.bom.element.Location;\n\n      var loc1 = Location.get(el1);\n      var loc2 = Location.get(el2);\n\n      // Sort-Check #2: Top-Position\n      if (loc1.top != loc2.top) {\n        return loc1.top - loc2.top;\n      }\n\n      // Sort-Check #3: Left-Position\n      if (loc1.left != loc2.left) {\n        return loc1.left - loc2.left;\n      }\n\n      // Sort-Check #4: zIndex\n      var z1 = widget1.getZIndex();\n      var z2 = widget2.getZIndex();\n\n      if (z1 != z2) {\n        return z1 - z2;\n      }\n\n      return 0;\n    },\n\n    /**\n     * Returns the first widget.\n     *\n     * @return {qx.ui.core.Widget} Returns the first (positioned) widget from\n     *    the current root.\n     */\n    __getFirstWidget() {\n      return this.__getFirst(this.__currentRoot, null);\n    },\n\n    /**\n     * Returns the last widget.\n     *\n     * @return {qx.ui.core.Widget} Returns the last (positioned) widget from\n     *    the current root.\n     */\n    __getLastWidget() {\n      return this.__getLast(this.__currentRoot, null);\n    },\n\n    /**\n     * Returns the widget after the given one.\n     *\n     * @param widget {qx.ui.core.Widget} Widget to start with\n     * @return {qx.ui.core.Widget} The found widget.\n     */\n    __getWidgetAfter(widget) {\n      var root = this.__currentRoot;\n      if (root == widget) {\n        return this.__getFirstWidget();\n      }\n\n      while (widget && widget.getAnonymous()) {\n        widget = widget.getLayoutParent();\n      }\n\n      if (widget == null) {\n        return [];\n      }\n\n      var result = [];\n      this.__collectAllAfter(root, widget, result);\n      result.sort(this.__compareTabOrder);\n\n      var len = result.length;\n      return len > 0 ? result[0] : this.__getFirstWidget();\n    },\n\n    /**\n     * Returns the widget before the given one.\n     *\n     * @param widget {qx.ui.core.Widget} Widget to start with\n     * @return {qx.ui.core.Widget} The found widget.\n     */\n    __getWidgetBefore(widget) {\n      var root = this.__currentRoot;\n      if (root == widget) {\n        return this.__getLastWidget();\n      }\n\n      while (widget && widget.getAnonymous()) {\n        widget = widget.getLayoutParent();\n      }\n\n      if (widget == null) {\n        return [];\n      }\n\n      var result = [];\n      this.__collectAllBefore(root, widget, result);\n      result.sort(this.__compareTabOrder);\n\n      var len = result.length;\n      return len > 0 ? result[len - 1] : this.__getLastWidget();\n    },\n\n    /*\n    ---------------------------------------------------------------------------\n      INTERNAL API USED BY METHODS ABOVE\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Collects all widgets which are after the given widget in\n     * the given parent widget. Append all found children to the\n     * <code>list</code>.\n     *\n     * @param parent {qx.ui.core.Widget} Parent widget\n     * @param widget {qx.ui.core.Widget} Child widget to start with\n     * @param result {Array} Result list\n     */\n    __collectAllAfter(parent, widget, result) {\n      var children = parent.getLayoutChildren();\n      var child;\n\n      for (var i = 0, l = children.length; i < l; i++) {\n        child = children[i];\n\n        // Filter spacers etc.\n        if (!(child instanceof qx.ui.core.Widget)) {\n          continue;\n        }\n\n        if (\n          !this.isFocusRoot(child) &&\n          child.isEnabled() &&\n          child.isVisible()\n        ) {\n          if (child.isTabable() && this.__compareTabOrder(widget, child) < 0) {\n            result.push(child);\n          }\n\n          this.__collectAllAfter(child, widget, result);\n        }\n      }\n    },\n\n    /**\n     * Collects all widgets which are before the given widget in\n     * the given parent widget. Append all found children to the\n     * <code>list</code>.\n     *\n     * @param parent {qx.ui.core.Widget} Parent widget\n     * @param widget {qx.ui.core.Widget} Child widget to start with\n     * @param result {Array} Result list\n     */\n    __collectAllBefore(parent, widget, result) {\n      var children = parent.getLayoutChildren();\n      var child;\n\n      for (var i = 0, l = children.length; i < l; i++) {\n        child = children[i];\n\n        // Filter spacers etc.\n        if (!(child instanceof qx.ui.core.Widget)) {\n          continue;\n        }\n\n        if (\n          !this.isFocusRoot(child) &&\n          child.isEnabled() &&\n          child.isVisible()\n        ) {\n          if (child.isTabable() && this.__compareTabOrder(widget, child) > 0) {\n            result.push(child);\n          }\n\n          this.__collectAllBefore(child, widget, result);\n        }\n      }\n    },\n\n    /**\n     * Find first (positioned) widget. (Sorted by coordinates, zIndex, etc.)\n     *\n     * @param parent {qx.ui.core.Widget} Parent widget\n     * @param firstWidget {qx.ui.core.Widget?null} Current first widget\n     * @return {qx.ui.core.Widget} The first (positioned) widget\n     */\n    __getFirst(parent, firstWidget) {\n      var children = parent.getLayoutChildren();\n      var child;\n\n      for (var i = 0, l = children.length; i < l; i++) {\n        child = children[i];\n\n        // Filter spacers etc.\n        if (!(child instanceof qx.ui.core.Widget)) {\n          continue;\n        }\n\n        // Ignore focus roots completely\n        if (\n          !this.isFocusRoot(child) &&\n          child.isEnabled() &&\n          child.isVisible()\n        ) {\n          if (child.isTabable()) {\n            if (\n              firstWidget == null ||\n              this.__compareTabOrder(child, firstWidget) < 0\n            ) {\n              firstWidget = child;\n            }\n          }\n\n          // Deep iteration into children hierarchy\n          firstWidget = this.__getFirst(child, firstWidget);\n        }\n      }\n\n      return firstWidget;\n    },\n\n    /**\n     * Find last (positioned) widget. (Sorted by coordinates, zIndex, etc.)\n     *\n     * @param parent {qx.ui.core.Widget} Parent widget\n     * @param lastWidget {qx.ui.core.Widget?null} Current last widget\n     * @return {qx.ui.core.Widget} The last (positioned) widget\n     */\n    __getLast(parent, lastWidget) {\n      var children = parent.getLayoutChildren();\n      var child;\n\n      for (var i = 0, l = children.length; i < l; i++) {\n        child = children[i];\n\n        // Filter spacers etc.\n        if (!(child instanceof qx.ui.core.Widget)) {\n          continue;\n        }\n\n        // Ignore focus roots completely\n        if (\n          !this.isFocusRoot(child) &&\n          child.isEnabled() &&\n          child.isVisible()\n        ) {\n          if (child.isTabable()) {\n            if (\n              lastWidget == null ||\n              this.__compareTabOrder(child, lastWidget) > 0\n            ) {\n              lastWidget = child;\n            }\n          }\n\n          // Deep iteration into children hierarchy\n          lastWidget = this.__getLast(child, lastWidget);\n        }\n      }\n\n      return lastWidget;\n    }\n  },\n\n  /*\n  *****************************************************************************\n     DESTRUCTOR\n  *****************************************************************************\n  */\n\n  destruct() {\n    this._disposeMap(\"__roots\");\n    this.__focusedChild = this.__activeChild = this.__currentRoot = null;\n  }\n});\n"
  ],
  "mappings": "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"
}