{
  "version": 3,
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "extend",
    "ui",
    "table",
    "cellrenderer",
    "Abstract",
    "type",
    "construct",
    "constructor",
    "call",
    "clazz",
    "AbstractImage",
    "stylesheet",
    "bom",
    "Stylesheet",
    "createElement",
    "properties",
    "repeat",
    "check",
    "value",
    "valid",
    "includes",
    "init",
    "members",
    "__defaultWidth",
    "__defaultHeight",
    "__imageData",
    "_identifyImage",
    "cellInfo",
    "Error",
    "_getImageInfos",
    "imageData",
    "url",
    "tooltip",
    "imageWidth",
    "imageHeight",
    "sizes",
    "__getImageSize",
    "width",
    "height",
    "__P_446_3",
    "source",
    "ResourceManager",
    "util",
    "getInstance",
    "ImageLoader",
    "io",
    "has",
    "getImageWidth",
    "getImageHeight",
    "isLoaded",
    "getWidth",
    "getHeight",
    "createDataCellHtml",
    "htmlArr",
    "superclass",
    "prototype",
    "_getCellClass",
    "_getContentHtml",
    "content",
    "srcUrl",
    "highResolutionSource",
    "findHighResolutionSource",
    "style",
    "display",
    "core",
    "Environment",
    "get",
    "verticalAlign",
    "position",
    "getCombinedFormat",
    "element",
    "Decoration",
    "create",
    "getRepeat",
    "_getCellAttributes",
    "baseAttrs",
    "destruct"
  ],
  "sources": [
    "/home/runner/work/CometVisu/CometVisu/node_modules/@qooxdoo/framework/source/class/qx/ui/table/cellrenderer/AbstractImage.js"
  ],
  "sourcesContent": [
    "/* ************************************************************************\r\n\r\n   qooxdoo - the new era of web development\r\n\r\n   http://qooxdoo.org\r\n\r\n   Copyright:\r\n     2006 STZ-IDA, Germany, http://www.stz-ida.de\r\n\r\n   License:\r\n     MIT: https://opensource.org/licenses/MIT\r\n     See the LICENSE file in the project's top-level directory for details.\r\n\r\n   Authors:\r\n     * Til Schneider (til132)\r\n     * Carsten Lergenmueller (carstenl)\r\n\r\n************************************************************************ */\r\n\r\n/**\r\n * A template class for cell renderer, which display images. Concrete\r\n * implementations must implement the method {@link #_identifyImage}.\r\n */\r\nqx.Class.define(\"qx.ui.table.cellrenderer.AbstractImage\", {\r\n  extend: qx.ui.table.cellrenderer.Abstract,\r\n  type: \"abstract\",\r\n\r\n  /*\r\n  *****************************************************************************\r\n     CONSTRUCTOR\r\n  *****************************************************************************\r\n  */\r\n\r\n  construct() {\r\n    super();\r\n\r\n    var clazz = this.self(arguments);\r\n    if (!clazz.stylesheet) {\r\n      clazz.stylesheet = qx.bom.Stylesheet.createElement(\r\n        \".qooxdoo-table-cell-icon {\" + \"  text-align:center;\" + \"}\"\r\n      );\r\n    }\r\n  },\r\n\r\n  /*\r\n  *****************************************************************************\r\n     PROPERTIES\r\n  *****************************************************************************\r\n  */\r\n  properties: {\r\n    /**\r\n     * Whether to repeat or scale the image.\r\n     *\r\n     * @param repeat {String}\r\n     *   One of\r\n     *     <code>scale</code>,\r\n     *     <code>scale-x</code>,\r\n     *     <code>scale-y</code>,\r\n     *     <code>repeat</code>,\r\n     *     <code>repeat-x</code>,\r\n     *     <code>repeat-y</code>,\r\n     *     <code>no-repeat</code>\r\n     */\r\n    repeat: {\r\n      check(value) {\r\n        var valid = [\r\n          \"scale\",\r\n          \"scale-x\",\r\n          \"scale-y\",\r\n          \"repeat\",\r\n          \"repeat-x\",\r\n          \"repeat-y\",\r\n          \"no-repeat\"\r\n        ];\r\n\r\n        return valid.includes(value);\r\n      },\r\n      init: \"no-repeat\"\r\n    }\r\n  },\r\n\r\n  /*\r\n  *****************************************************************************\r\n     MEMBERS\r\n  *****************************************************************************\r\n  */\r\n\r\n  members: {\r\n    __defaultWidth: 16,\r\n    __defaultHeight: 16,\r\n    __imageData: null,\r\n\r\n    /**\r\n     * Identifies the Image to show. This is a template method, which must be\r\n     * implemented by sub classes.\r\n     *\r\n     * @abstract\r\n     * @param cellInfo {Map} The information about the cell.\r\n     *          See {@link qx.ui.table.cellrenderer.Abstract#createDataCellHtml}.\r\n     * @return {Map} A map having the following attributes:\r\n     *           <ul>\r\n     *           <li>\r\n     *             \"url\": (type string) must be the URL of the image to show.\r\n     *             The url given must either be managed by the {@link qx.util.ResourceManager}\r\n     *             or pre-loaded with {@link qx.io.ImageLoader}. This is to make sure that\r\n     *             the renderer knows the dimensions and the format of the image.\r\n     *           </li>\r\n     *           <li>\"imageWidth\": (type int) the width of the image in pixels.</li>\r\n     *           <li>\"imageHeight\": (type int) the height of the image in pixels.</li>\r\n     *           <li>\"tooltip\": (type string) must be the image tooltip text.</li>\r\n     *           </ul>\r\n     * @throws {Error} the abstract function warning.\r\n     */\r\n    _identifyImage(cellInfo) {\r\n      throw new Error(\"_identifyImage is abstract\");\r\n    },\r\n\r\n    /**\r\n     * Retrieves the image infos.\r\n     *\r\n     * @param cellInfo {Map} The information about the cell.\r\n     *          See {@link qx.ui.table.cellrenderer.Abstract#createDataCellHtml}.\r\n     * @return {Map} Map with an \"url\" attribute (type string)\r\n     *                 holding the URL of the image to show\r\n     *                 and a \"tooltip\" attribute\r\n     *                 (type string) being the tooltip text (or null if none was specified)\r\n     */\r\n    _getImageInfos(cellInfo) {\r\n      // Query the subclass about image and tooltip\r\n      var imageData = this._identifyImage(cellInfo);\r\n\r\n      // If subclass refuses to give map, construct it with required properties\r\n      // If no map is given, but instead a string, assume that this string is\r\n      // the URL of the image [BUG #4289]\r\n      if (imageData == null || typeof imageData == \"string\") {\r\n        imageData = {\r\n          url: imageData,\r\n          tooltip: null\r\n        };\r\n      }\r\n\r\n      // If sizes are not included in map given by subclass,\r\n      // fall-back to calculated image size\r\n      if (!imageData.imageWidth || !imageData.imageHeight) {\r\n        var sizes = this.__getImageSize(imageData.url);\r\n\r\n        imageData.imageWidth = sizes.width;\r\n        imageData.imageHeight = sizes.height;\r\n      }\r\n\r\n      // Add width and height keys to map [BUG #4289]\r\n      // - [width|height] is read by _getContentHtml()\r\n      // - [imageWidth|imageHeight] is possibly read in legacy applications\r\n      imageData.width = imageData.imageWidth;\r\n      imageData.height = imageData.imageHeight;\r\n\r\n      return imageData;\r\n    },\r\n\r\n    /**\r\n     * Compute the size of the given image\r\n     *\r\n     * @param source {String} the image URL\r\n     * @return {Map} A map containing the image's <code>width</code> and\r\n     *    <code>height</code>\r\n     */\r\n    __getImageSize(source) {\r\n      var ResourceManager = qx.util.ResourceManager.getInstance();\r\n      var ImageLoader = qx.io.ImageLoader;\r\n      var width, height;\r\n\r\n      // Detect if the image registry knows this image\r\n      if (ResourceManager.has(source)) {\r\n        width = ResourceManager.getImageWidth(source);\r\n        height = ResourceManager.getImageHeight(source);\r\n      } else if (ImageLoader.isLoaded(source)) {\r\n        width = ImageLoader.getWidth(source);\r\n        height = ImageLoader.getHeight(source);\r\n      } else {\r\n        width = this.__defaultWidth;\r\n        height = this.__defaultHeight;\r\n      }\r\n\r\n      return { width: width, height: height };\r\n    },\r\n\r\n    // overridden\r\n    createDataCellHtml(cellInfo, htmlArr) {\r\n      this.__imageData = this._getImageInfos(cellInfo);\r\n      return super.createDataCellHtml(cellInfo, htmlArr);\r\n    },\r\n\r\n    // overridden\r\n    _getCellClass(cellInfo) {\r\n      return super._getCellClass() + \" qooxdoo-table-cell-icon\";\r\n    },\r\n\r\n    // overridden\r\n    _getContentHtml(cellInfo) {\r\n      var content = \"<div></div>\";\r\n      // set image\r\n      if (this.__imageData.url) {\r\n        var srcUrl = this.__imageData.url;\r\n        var highResolutionSource =\r\n          qx.util.ResourceManager.getInstance().findHighResolutionSource(\r\n            this.__imageData.url\r\n          );\r\n\r\n        if (highResolutionSource) {\r\n          srcUrl = highResolutionSource;\r\n        }\r\n        var style = {\r\n          width: this.__imageData.width + \"px\",\r\n          height: this.__imageData.height + \"px\",\r\n          display: qx.core.Environment.get(\"css.inlineblock\"),\r\n          verticalAlign: \"middle\",\r\n          position: \"static\"\r\n        };\r\n\r\n        if (\r\n          qx.util.ResourceManager.getInstance().getCombinedFormat(\r\n            this.__imageData.url\r\n          ) === \"\"\r\n        ) {\r\n          // background size is critical for high-resolution images but breaks combined images\r\n          style[\"background-size\"] =\r\n            this.__imageData.width + \"px \" + this.__imageData.height + \"px\";\r\n        }\r\n        content = qx.bom.element.Decoration.create(\r\n          srcUrl,\r\n          this.getRepeat(),\r\n          style\r\n        );\r\n      }\r\n      return content;\r\n    },\r\n\r\n    // overridden\r\n    _getCellAttributes(cellInfo) {\r\n      let baseAttrs = super._getCellAttributes(cellInfo);\r\n      if (!baseAttrs) {\r\n        baseAttrs = \"\";\r\n      }\r\n\r\n      var tooltip = this.__imageData.tooltip;\r\n      if (tooltip) {\r\n        return baseAttrs + \" title='\" + tooltip + \"'\";\r\n      } else {\r\n        return baseAttrs;\r\n      }\r\n    }\r\n  },\r\n\r\n  /*\r\n  *****************************************************************************\r\n     DESTRUCTOR\r\n  *****************************************************************************\r\n  */\r\n\r\n  destruct() {\r\n    this.__imageData = null;\r\n  }\r\n});\r\n"
  ],
  "mappings": "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"
}