{
  "version": 3,
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "extend",
    "ui",
    "core",
    "Widget",
    "include",
    "scroll",
    "MScrollBarFactory",
    "construct",
    "table",
    "constructor",
    "call",
    "__table",
    "grid",
    "layout",
    "Grid",
    "setColumnFlex",
    "setRowFlex",
    "_setLayout",
    "__header",
    "_showChildControl",
    "__tablePane",
    "__top",
    "container",
    "Composite",
    "HBox",
    "set",
    "minWidth",
    "_add",
    "row",
    "column",
    "colSpan",
    "_headerClipper",
    "_createHeaderClipper",
    "add",
    "addListener",
    "_onChangeCaptureHeader",
    "_onPointermoveHeader",
    "_onPointerdownHeader",
    "_onPointerupHeader",
    "_onTapHeader",
    "flex",
    "_paneClipper",
    "_createPaneClipper",
    "_onRoll",
    "_onPointermovePane",
    "_onPointerdownPane",
    "_onTapPane",
    "_onContextMenu",
    "Environment",
    "get",
    "_onDbltapPane",
    "_onResizePane",
    "__clipperContainer",
    "setLayout",
    "Canvas",
    "edge",
    "__horScrollBar",
    "__verScrollBar",
    "__focusIndicator",
    "getChildControl",
    "initShowCellFocusIndicator",
    "hide",
    "_onPointerout",
    "_onAppear",
    "_onDisappear",
    "__timer",
    "event",
    "Timer",
    "_oninterval",
    "initScrollTimeout",
    "statics",
    "MIN_COLUMN_WIDTH",
    "RESIZE_REGION_RADIUS",
    "TAP_TOLERANCE",
    "HORIZONTAL_SCROLLBAR",
    "VERTICAL_SCROLLBAR",
    "events",
    "changeScrollY",
    "changeScrollX",
    "cellTap",
    "cellDbltap",
    "cellContextmenu",
    "beforeSort",
    "properties",
    "horizontalScrollBarVisible",
    "check",
    "init",
    "apply",
    "nullable",
    "verticalScrollBarVisible",
    "tablePaneModel",
    "liveResize",
    "focusCellOnPointerMove",
    "selectBeforeFocus",
    "showCellFocusIndicator",
    "contextMenuFromDataCellsOnly",
    "resetSelectionOnHeaderTap",
    "resetSelectionOnTapBelowRows",
    "scrollTimeout",
    "appearance",
    "refine",
    "minCellEditHeight",
    "members",
    "__lastRowCount",
    "__updateInterval",
    "__updateContentPlanned",
    "__onintervalWrapper",
    "_moveColumn",
    "__lastMoveColPos",
    "_lastMoveTargetX",
    "_lastMoveTargetScroller",
    "__lastMovePointerPageX",
    "__resizeColumn",
    "__lastResizePointerPageX",
    "__lastResizeWidth",
    "__lastPointerDownCell",
    "__firedTapEvent",
    "__ignoreTap",
    "__lastPointerPageX",
    "__lastPointerPageY",
    "__focusedCol",
    "__focusedRow",
    "_cellEditor",
    "__cellEditorFactory",
    "__topRightWidget",
    "__focusIndicatorPointerDownListener",
    "getPaneInsetRight",
    "topRight",
    "getTopRightWidget",
    "topRightWidth",
    "isVisible",
    "getBounds",
    "width",
    "getMarginLeft",
    "getMarginRight",
    "scrollBar",
    "scrollBarWidth",
    "getVerticalScrollBarVisible",
    "getVerticalScrollBarWidth",
    "Math",
    "max",
    "setPaneWidth",
    "isVerticalScrollBarVisible",
    "setWidth",
    "_createChildControlImpl",
    "id",
    "hash",
    "control",
    "getTable",
    "getNewTablePaneHeader",
    "getNewTablePane",
    "pane",
    "FocusIndicator",
    "setUserBounds",
    "setZIndex",
    "_onPointerupFocusIndicator",
    "show",
    "setDecorator",
    "_createScrollBar",
    "alignY",
    "_onScrollX",
    "setMinHeight",
    "AbstractScrollArea",
    "DEFAULT_SCROLLBAR_WIDTH",
    "bottom",
    "right",
    "left",
    "_onScrollY",
    "top",
    "Scroller",
    "superclass",
    "prototype",
    "_applyHorizontalScrollBarVisible",
    "value",
    "old",
    "setVisibility",
    "_applyVerticalScrollBarVisible",
    "_applyTablePaneModel",
    "removeListener",
    "_onPaneModelChanged",
    "_applyShowCellFocusIndicator",
    "_updateFocusIndicator",
    "getScrollY",
    "getPosition",
    "setScrollY",
    "scrollY",
    "renderSync",
    "scrollTo",
    "_updateContent",
    "getScrollX",
    "setScrollX",
    "scrollX",
    "Clipper",
    "onColVisibilityChanged",
    "updateHorScrollBarMaximum",
    "setColumnWidth",
    "col",
    "paneModel",
    "getTablePaneModel",
    "x",
    "getX",
    "onColOrderChanged",
    "onTableModelDataChanged",
    "firstRow",
    "lastRow",
    "firstColumn",
    "lastColumn",
    "rowCount",
    "getTableModel",
    "getRowCount",
    "updateVerScrollBarMaximum",
    "focusedRow",
    "getFocusedRow",
    "setFocusedCell",
    "getFocusedColumn",
    "onSelectionChanged",
    "onFocusChanged",
    "onTableModelMetaDataChanged",
    "onPaneModelChanged",
    "_updateScrollBarVisibility",
    "paneSize",
    "getInnerSize",
    "scrollSize",
    "getTotalWidth",
    "setMaximum",
    "setKnobFactor",
    "pos",
    "setPosition",
    "min",
    "tableModel",
    "getKeepFirstVisibleRowComplete",
    "rowHeight",
    "getRowHeight",
    "height",
    "onKeepFirstVisibleRowCompleteChanged",
    "_startInterval",
    "getScrollTimeout",
    "_stopInterval",
    "e",
    "scrollLeft",
    "getData",
    "fireDataEvent",
    "getOldData",
    "scrollToX",
    "__inOnScrollY",
    "scrollbar",
    "delta",
    "abs",
    "getMaximum",
    "_postponedUpdateContent",
    "getPointerType",
    "getEnabled",
    "getDelta",
    "y",
    "scrollBy",
    "parseInt",
    "scrolled",
    "__isAtEdge",
    "getFocusCellOnPointerMove",
    "_focusCellAtPagePos",
    "stop",
    "stopMomentum",
    "__P_461_29",
    "position",
    "__handleResizeColumn",
    "__P_461_30",
    "pageX",
    "headerCell",
    "getHeaderWidgetAtColumn",
    "minColumnWidth",
    "getSizeHint",
    "newWidth",
    "getLiveResize",
    "columnModel",
    "getTableColumnModel",
    "_showResizeLine",
    "getColumnLeft",
    "__handleMoveColumn",
    "__P_461_31",
    "tapTolerance",
    "isShowingColumnMoveFeedback",
    "showColumnMoveFeedback",
    "targetScroller",
    "getTablePaneScrollerAtPageX",
    "hideColumnMoveFeedback",
    "useResizeCursor",
    "pointerOverColumn",
    "getDocumentLeft",
    "pageY",
    "getDocumentTop",
    "stopPropagation",
    "resizeCol",
    "_getResizeColumnForPageX",
    "_getColumnForPageX",
    "isColumnSortable",
    "cursor",
    "getApplicationRoot",
    "setGlobalCursor",
    "setCursor",
    "setPointerOverColumn",
    "_getRowForPagePos",
    "_startResizeHeader",
    "moveCol",
    "_startMoveHeader",
    "getColumnWidth",
    "capture",
    "isEditing",
    "stopEditing",
    "getRow",
    "getColumn",
    "fireEvent",
    "CellEvent",
    "_stopResizeHeader",
    "_stopMoveHeader",
    "_hideResizeLine",
    "releaseCapture",
    "fromVisXPos",
    "getFirstColumnX",
    "toVisXPos",
    "fromCol",
    "getVisibleColumnAtX",
    "toCol",
    "fromOverXPos",
    "getOverallX",
    "toOverXPos",
    "getOverallColumnCount",
    "moveColumn",
    "sortCol",
    "getSortColumnIndex",
    "ascending",
    "isSortAscending",
    "data",
    "tapEvent",
    "sortByColumn",
    "getResetSelectionOnHeaderTap",
    "getSelectionModel",
    "resetSelection",
    "getSelectBeforeFocus",
    "getSelectionManager",
    "handleTap",
    "isHidden",
    "getResetSelectionOnTapBelowRows",
    "getContextMenuFromDataCellsOnly",
    "getShowCellFocusIndicator",
    "menu",
    "getContextMenu",
    "getChildren",
    "length",
    "openAtPointer",
    "exclude",
    "preventDefault",
    "_onContextMenuOpen",
    "startEditing",
    "resizeLine",
    "getWidth",
    "paneBounds",
    "round",
    "_excludeChildControl",
    "paneLeft",
    "getContentLocation",
    "colCount",
    "getColumnCount",
    "targetXPos",
    "targetX",
    "currX",
    "xPos",
    "getColumnAtX",
    "colWidth",
    "scrollerLeft",
    "scrollerWidth",
    "lang",
    "Number",
    "limit",
    "scrollCellVisible",
    "clipperSize",
    "colLeft",
    "rowTop",
    "minScrollX",
    "maxScrollX",
    "minScrollY",
    "maxScrollY",
    "_this",
    "isColumnEditable",
    "getValue",
    "getCellEditorFactory",
    "cellInfo",
    "createCellEditor",
    "window",
    "Window",
    "setModal",
    "setShowClose",
    "_onCellEditorModalWindowClose",
    "f",
    "getModalCellEditorPreOpenFunction",
    "open",
    "addState",
    "setKeepActive",
    "focus",
    "activate",
    "flushEditor",
    "cancel",
    "getCellEditorValue",
    "oldValue",
    "setValue",
    "cancelEditing",
    "removeState",
    "removeListenerById",
    "destroy",
    "contentLocation",
    "regionRadius",
    "panePos",
    "getRenderedRowHeight",
    "floor",
    "tableY",
    "headerPos",
    "setTopRightWidget",
    "widget",
    "oldWidget",
    "remove",
    "getHeader",
    "getTablePane",
    "getNeededScrollBars",
    "forceHorizontal",
    "preventVertical",
    "verScrollBar",
    "verBarWidth",
    "horScrollBar",
    "horBarHeight",
    "getMarginTop",
    "getMarginBottom",
    "viewWidth",
    "viewHeight",
    "getHorizontalScrollBarVisible",
    "paneWidth",
    "paneHeight",
    "horNeeded",
    "verNeeded",
    "horBar",
    "verBar",
    "getPaneClipper",
    "getScrollAreaContainer",
    "_applyScrollTimeout",
    "timeout",
    "setInterval",
    "start",
    "GlobalError",
    "observeMethod",
    "_layoutPending",
    "oldFirstRow",
    "getFirstVisibleRow",
    "setFirstVisibleRow",
    "visibleRowCount",
    "ceil",
    "paneOffset",
    "firstVisibleRowComplete",
    "setVisibleRowCount",
    "scrollToY",
    "editing",
    "moveToCell",
    "destruct",
    "dispose",
    "_disposeObjects"
  ],
  "sources": [
    "/home/runner/work/CometVisu/CometVisu/node_modules/@qooxdoo/framework/source/class/qx/ui/table/pane/Scroller.js"
  ],
  "sourcesContent": [
    "/* ************************************************************************\r\n\r\n   qooxdoo - the new era of web development\r\n\r\n   http://qooxdoo.org\r\n\r\n   Copyright:\r\n     2006 STZ-IDA, Germany, http://www.stz-ida.de\r\n\r\n   License:\r\n     MIT: https://opensource.org/licenses/MIT\r\n     See the LICENSE file in the project's top-level directory for details.\r\n\r\n   Authors:\r\n     * Til Schneider (til132)\r\n     * Jonathan WeiÃŸ (jonathan_rass)\r\n\r\n************************************************************************ */\r\n\r\n/**\r\n * Shows a whole meta column. This includes a {@link Header},\r\n * a {@link Pane} and the needed scroll bars. This class handles the\r\n * virtual scrolling and does all the pointer event handling.\r\n *\r\n * @childControl header {qx.ui.table.pane.Header} header pane\r\n * @childControl pane {qx.ui.table.pane.Pane} table pane to show the data\r\n * @childControl focus-indicator {qx.ui.table.pane.FocusIndicator} shows the current focused cell\r\n * @childControl resize-line {qx.ui.core.Widget} resize line widget\r\n * @childControl scrollbar-x {qx.ui.core.scroll.ScrollBar?qx.ui.core.scroll.NativeScrollBar}\r\n *               horizontal scrollbar widget (depends on the \"qx.nativeScrollBars\" setting which implementation is used)\r\n * @childControl scrollbar-y {qx.ui.core.scroll.ScrollBar?qx.ui.core.scroll.NativeScrollBar}\r\n *               vertical scrollbar widget (depends on the \"qx.nativeScrollBars\" setting which implementation is used)\r\n */\r\nqx.Class.define(\"qx.ui.table.pane.Scroller\", {\r\n  extend: qx.ui.core.Widget,\r\n  include: [qx.ui.core.scroll.MScrollBarFactory],\r\n\r\n  /*\r\n  *****************************************************************************\r\n     CONSTRUCTOR\r\n  *****************************************************************************\r\n  */\r\n\r\n  /**\r\n   * @param table {qx.ui.table.Table} the table the scroller belongs to.\r\n   */\r\n  construct(table) {\r\n    super();\r\n\r\n    this.__table = table;\r\n\r\n    // init layout\r\n    var grid = new qx.ui.layout.Grid();\r\n    grid.setColumnFlex(0, 1);\r\n    grid.setRowFlex(1, 1);\r\n    this._setLayout(grid);\r\n\r\n    // init child controls\r\n    this.__header = this._showChildControl(\"header\");\r\n    this.__tablePane = this._showChildControl(\"pane\");\r\n\r\n    // the top line containing the header clipper and the top right widget\r\n    this.__top = new qx.ui.container.Composite(new qx.ui.layout.HBox()).set({\r\n      minWidth: 0\r\n    });\r\n\r\n    this._add(this.__top, { row: 0, column: 0, colSpan: 2 });\r\n\r\n    // embed header into a scrollable container\r\n    this._headerClipper = this._createHeaderClipper();\r\n    this._headerClipper.add(this.__header);\r\n    this._headerClipper.addListener(\r\n      \"losecapture\",\r\n      this._onChangeCaptureHeader,\r\n      this\r\n    );\r\n\r\n    this._headerClipper.addListener(\r\n      \"pointermove\",\r\n      this._onPointermoveHeader,\r\n      this\r\n    );\r\n\r\n    this._headerClipper.addListener(\r\n      \"pointerdown\",\r\n      this._onPointerdownHeader,\r\n      this\r\n    );\r\n\r\n    this._headerClipper.addListener(\"pointerup\", this._onPointerupHeader, this);\r\n    this._headerClipper.addListener(\"tap\", this._onTapHeader, this);\r\n    this.__top.add(this._headerClipper, { flex: 1 });\r\n\r\n    // embed pane into a scrollable container\r\n    this._paneClipper = this._createPaneClipper();\r\n    this._paneClipper.add(this.__tablePane);\r\n    this._paneClipper.addListener(\"roll\", this._onRoll, this);\r\n    this._paneClipper.addListener(\"pointermove\", this._onPointermovePane, this);\r\n    this._paneClipper.addListener(\"pointerdown\", this._onPointerdownPane, this);\r\n    this._paneClipper.addListener(\"tap\", this._onTapPane, this);\r\n    this._paneClipper.addListener(\"contextmenu\", this._onTapPane, this);\r\n    this._paneClipper.addListener(\"contextmenu\", this._onContextMenu, this);\r\n    if (qx.core.Environment.get(\"device.type\") === \"desktop\") {\r\n      this._paneClipper.addListener(\"dblclick\", this._onDbltapPane, this);\r\n    } else {\r\n      this._paneClipper.addListener(\"dbltap\", this._onDbltapPane, this);\r\n    }\r\n    this._paneClipper.addListener(\"resize\", this._onResizePane, this);\r\n\r\n    // if we have overlayed scroll bars, we should use a separate container\r\n    if (qx.core.Environment.get(\"os.scrollBarOverlayed\")) {\r\n      this.__clipperContainer = new qx.ui.container.Composite();\r\n      this.__clipperContainer.setLayout(new qx.ui.layout.Canvas());\r\n      this.__clipperContainer.add(this._paneClipper, { edge: 0 });\r\n      this._add(this.__clipperContainer, { row: 1, column: 0 });\r\n    } else {\r\n      this._add(this._paneClipper, { row: 1, column: 0 });\r\n    }\r\n\r\n    // init scroll bars\r\n    this.__horScrollBar = this._showChildControl(\"scrollbar-x\");\r\n    this.__verScrollBar = this._showChildControl(\"scrollbar-y\");\r\n\r\n    // init focus indicator\r\n    this.__focusIndicator = this.getChildControl(\"focus-indicator\");\r\n    // need to run the apply method at least once [BUG #4057]\r\n    this.initShowCellFocusIndicator();\r\n\r\n    // force creation of the resize line\r\n    this.getChildControl(\"resize-line\").hide();\r\n\r\n    this.addListener(\"pointerout\", this._onPointerout, this);\r\n    this.addListener(\"appear\", this._onAppear, this);\r\n    this.addListener(\"disappear\", this._onDisappear, this);\r\n\r\n    this.__timer = new qx.event.Timer();\r\n    this.__timer.addListener(\"interval\", this._oninterval, this);\r\n    this.initScrollTimeout();\r\n  },\r\n\r\n  /*\r\n  *****************************************************************************\r\n     STATICS\r\n  *****************************************************************************\r\n  */\r\n\r\n  statics: {\r\n    /** @type {int} The minimum width a column could get in pixels. */\r\n    MIN_COLUMN_WIDTH: 10,\r\n\r\n    /** @type {int} The radius of the resize region in pixels. */\r\n    RESIZE_REGION_RADIUS: 5,\r\n\r\n    /**\r\n     * (int) The number of pixels the pointer may move between pointer down and pointer up\r\n     * in order to count as a tap.\r\n     */\r\n    TAP_TOLERANCE: 5,\r\n\r\n    /**\r\n     * (int) The mask for the horizontal scroll bar.\r\n     * May be combined with {@link #VERTICAL_SCROLLBAR}.\r\n     *\r\n     * @see #getNeededScrollBars\r\n     */\r\n    HORIZONTAL_SCROLLBAR: 1,\r\n\r\n    /**\r\n     * (int) The mask for the vertical scroll bar.\r\n     * May be combined with {@link #HORIZONTAL_SCROLLBAR}.\r\n     *\r\n     * @see #getNeededScrollBars\r\n     */\r\n    VERTICAL_SCROLLBAR: 2\r\n  },\r\n\r\n  /*\r\n  *****************************************************************************\r\n     EVENTS\r\n  *****************************************************************************\r\n  */\r\n\r\n  events: {\r\n    /** Dispatched if the pane is scrolled horizontally */\r\n    changeScrollY: \"qx.event.type.Data\",\r\n\r\n    /** Dispatched if the pane is scrolled vertically */\r\n    changeScrollX: \"qx.event.type.Data\",\r\n\r\n    /**See {@link qx.ui.table.Table#cellTap}.*/\r\n    cellTap: \"qx.ui.table.pane.CellEvent\",\r\n\r\n    /*** See {@link qx.ui.table.Table#cellDbltap}.*/\r\n    cellDbltap: \"qx.ui.table.pane.CellEvent\",\r\n\r\n    /**See {@link qx.ui.table.Table#cellContextmenu}.*/\r\n    cellContextmenu: \"qx.ui.table.pane.CellEvent\",\r\n\r\n    /** Dispatched when a sortable header was tapped */\r\n    beforeSort: \"qx.event.type.Data\"\r\n  },\r\n\r\n  /*\r\n  *****************************************************************************\r\n     PROPERTIES\r\n  *****************************************************************************\r\n  */\r\n\r\n  properties: {\r\n    /**\r\n     * Whether to show the horizontal scroll bar. This is a tri-state\r\n     * value. `true` means show the scroll bar; `false` means exclude it; null\r\n     * means hide it so it retains its space but doesn't show a scroll bar.\r\n     */\r\n    horizontalScrollBarVisible: {\r\n      check: \"Boolean\",\r\n      init: false,\r\n      apply: \"_applyHorizontalScrollBarVisible\",\r\n      event: \"changeHorizontalScrollBarVisible\",\r\n      nullable: true\r\n    },\r\n\r\n    /** Whether to show the vertical scroll bar */\r\n    verticalScrollBarVisible: {\r\n      check: \"Boolean\",\r\n      init: false,\r\n      apply: \"_applyVerticalScrollBarVisible\",\r\n      event: \"changeVerticalScrollBarVisible\"\r\n    },\r\n\r\n    /** The table pane model. */\r\n    tablePaneModel: {\r\n      check: \"qx.ui.table.pane.Model\",\r\n      apply: \"_applyTablePaneModel\",\r\n      event: \"changeTablePaneModel\"\r\n    },\r\n\r\n    /**\r\n     * Whether column resize should be live. If false, during resize only a line is\r\n     * shown and the real resize happens when the user releases the pointer button.\r\n     */\r\n    liveResize: {\r\n      check: \"Boolean\",\r\n      init: false\r\n    },\r\n\r\n    /**\r\n     * Whether the focus should moved when the pointer is moved over a cell. If false\r\n     * the focus is only moved on pointer taps.\r\n     */\r\n    focusCellOnPointerMove: {\r\n      check: \"Boolean\",\r\n      init: false\r\n    },\r\n\r\n    /**\r\n     * Whether to handle selections via the selection manager before setting the\r\n     * focus.  The traditional behavior is to handle selections after setting the\r\n     * focus, but setting the focus means redrawing portions of the table, and\r\n     * some subclasses may want to modify the data to be displayed based on the\r\n     * selection.\r\n     */\r\n    selectBeforeFocus: {\r\n      check: \"Boolean\",\r\n      init: false\r\n    },\r\n\r\n    /**\r\n     * Whether the cell focus indicator should be shown\r\n     */\r\n    showCellFocusIndicator: {\r\n      check: \"Boolean\",\r\n      init: true,\r\n      apply: \"_applyShowCellFocusIndicator\"\r\n    },\r\n\r\n    /**\r\n     * By default, the \"cellContextmenu\" event is fired only when a data cell\r\n     * is right-clicked. It is not fired when a right-click occurs in the\r\n     * empty area of the table below the last data row. By turning on this\r\n     * property, \"cellContextMenu\" events will also be generated when a\r\n     * right-click occurs in that empty area. In such a case, row identifier\r\n     * in the event data will be null, so event handlers can check (row ===\r\n     * null) to handle this case.\r\n     */\r\n    contextMenuFromDataCellsOnly: {\r\n      check: \"Boolean\",\r\n      init: true\r\n    },\r\n\r\n    /**\r\n     * Whether to reset the selection when a header cell is tapped. Since\r\n     * most data models do not have provisions to retain a selection after\r\n     * sorting, the default is to reset the selection in this case. Some data\r\n     * models, however, do have the capability to retain the selection, so\r\n     * when using those, this property should be set to false.\r\n     */\r\n    resetSelectionOnHeaderTap: {\r\n      check: \"Boolean\",\r\n      init: true\r\n    },\r\n\r\n    /**\r\n     * Whether to reset the selection when the unpopulated table area is tapped.\r\n     * The default is false which keeps the behaviour as before\r\n     */\r\n    resetSelectionOnTapBelowRows: {\r\n      check: \"Boolean\",\r\n      init: false\r\n    },\r\n\r\n    /**\r\n     * Interval time (in milliseconds) for the table update timer.\r\n     * Setting this to 0 clears the timer.\r\n     */\r\n    scrollTimeout: {\r\n      check: \"Integer\",\r\n      init: 100,\r\n      apply: \"_applyScrollTimeout\"\r\n    },\r\n\r\n    appearance: {\r\n      refine: true,\r\n      init: \"table-scroller\"\r\n    },\r\n\r\n    /**\r\n     * If set then defines the minimum height of the focus indicator when editing\r\n     */\r\n    minCellEditHeight: {\r\n      check: \"Integer\",\r\n      init: null,\r\n      nullable: true\r\n    }\r\n  },\r\n\r\n  /*\r\n  *****************************************************************************\r\n     MEMBERS\r\n  *****************************************************************************\r\n  */\r\n\r\n  members: {\r\n    __lastRowCount: null,\r\n    __table: null,\r\n\r\n    __updateInterval: null,\r\n    __updateContentPlanned: null,\r\n    __onintervalWrapper: null,\r\n\r\n    _moveColumn: null,\r\n    __lastMoveColPos: null,\r\n    _lastMoveTargetX: null,\r\n    _lastMoveTargetScroller: null,\r\n    __lastMovePointerPageX: null,\r\n\r\n    __resizeColumn: null,\r\n    __lastResizePointerPageX: null,\r\n    __lastResizeWidth: null,\r\n\r\n    __lastPointerDownCell: null,\r\n    __firedTapEvent: false,\r\n    __ignoreTap: null,\r\n    __lastPointerPageX: null,\r\n    __lastPointerPageY: null,\r\n\r\n    __focusedCol: null,\r\n    __focusedRow: null,\r\n\r\n    _cellEditor: null,\r\n    __cellEditorFactory: null,\r\n\r\n    __topRightWidget: null,\r\n    __horScrollBar: null,\r\n    __verScrollBar: null,\r\n    __header: null,\r\n    _headerClipper: null,\r\n    __tablePane: null,\r\n    _paneClipper: null,\r\n    __clipperContainer: null,\r\n    __focusIndicator: null,\r\n    __top: null,\r\n\r\n    __timer: null,\r\n\r\n    __focusIndicatorPointerDownListener: null,\r\n\r\n    /**\r\n     * The right inset of the pane. The right inset is the maximum of the\r\n     * top right widget width and the scrollbar width (if visible).\r\n     *\r\n     * @return {Integer} The right inset of the pane\r\n     */\r\n    getPaneInsetRight() {\r\n      var topRight = this.getTopRightWidget();\r\n      var topRightWidth =\r\n        topRight && topRight.isVisible() && topRight.getBounds()\r\n          ? topRight.getBounds().width +\r\n            topRight.getMarginLeft() +\r\n            topRight.getMarginRight()\r\n          : 0;\r\n\r\n      var scrollBar = this.__verScrollBar;\r\n      var scrollBarWidth = this.getVerticalScrollBarVisible()\r\n        ? this.getVerticalScrollBarWidth() +\r\n          scrollBar.getMarginLeft() +\r\n          scrollBar.getMarginRight()\r\n        : 0;\r\n\r\n      return Math.max(topRightWidth, scrollBarWidth);\r\n    },\r\n\r\n    /**\r\n     * Set the pane's width\r\n     *\r\n     * @param width {Integer} The pane's width\r\n     */\r\n    setPaneWidth(width) {\r\n      if (this.isVerticalScrollBarVisible()) {\r\n        width += this.getPaneInsetRight();\r\n      }\r\n      this.setWidth(width);\r\n    },\r\n\r\n    // overridden\r\n    _createChildControlImpl(id, hash) {\r\n      var control;\r\n\r\n      switch (id) {\r\n        case \"header\":\r\n          control = this.getTable().getNewTablePaneHeader()(this);\r\n          break;\r\n\r\n        case \"pane\":\r\n          control = this.getTable().getNewTablePane()(this);\r\n          break;\r\n\r\n        case \"focus-indicator\":\r\n          control = new qx.ui.table.pane.FocusIndicator(this);\r\n          control.setUserBounds(0, 0, 0, 0);\r\n          control.setZIndex(1000);\r\n          control.addListener(\r\n            \"pointerup\",\r\n            this._onPointerupFocusIndicator,\r\n            this\r\n          );\r\n\r\n          this._paneClipper.add(control);\r\n          control.show(); // must be active for editor to operate\r\n          control.setDecorator(null); // it can be initially invisible, though.\r\n          break;\r\n\r\n        case \"resize-line\":\r\n          control = new qx.ui.core.Widget();\r\n          control.setUserBounds(0, 0, 0, 0);\r\n          control.setZIndex(1000);\r\n          this._paneClipper.add(control);\r\n          break;\r\n\r\n        case \"scrollbar-x\":\r\n          control = this._createScrollBar(\"horizontal\").set({\r\n            alignY: \"bottom\"\r\n          });\r\n\r\n          control.addListener(\"scroll\", this._onScrollX, this);\r\n\r\n          if (this.__clipperContainer != null) {\r\n            control.setMinHeight(\r\n              qx.ui.core.scroll.AbstractScrollArea.DEFAULT_SCROLLBAR_WIDTH\r\n            );\r\n\r\n            this.__clipperContainer.add(control, {\r\n              bottom: 0,\r\n              right: 0,\r\n              left: 0\r\n            });\r\n          } else {\r\n            this._add(control, { row: 2, column: 0 });\r\n          }\r\n          break;\r\n\r\n        case \"scrollbar-y\":\r\n          control = this._createScrollBar(\"vertical\");\r\n          control.addListener(\"scroll\", this._onScrollY, this);\r\n\r\n          if (this.__clipperContainer != null) {\r\n            this.__clipperContainer.add(control, {\r\n              right: 0,\r\n              bottom: 0,\r\n              top: 0\r\n            });\r\n          } else {\r\n            this._add(control, { row: 1, column: 1 });\r\n          }\r\n          break;\r\n      }\r\n\r\n      return control || super._createChildControlImpl(id);\r\n    },\r\n\r\n    // property modifier\r\n    _applyHorizontalScrollBarVisible(value, old) {\r\n      if (value === null) {\r\n        this.__horScrollBar.setVisibility(\"hidden\");\r\n      } else {\r\n        this.__horScrollBar.setVisibility(value ? \"visible\" : \"excluded\");\r\n      }\r\n    },\r\n\r\n    // property modifier\r\n    _applyVerticalScrollBarVisible(value, old) {\r\n      this.__verScrollBar.setVisibility(value ? \"visible\" : \"excluded\");\r\n    },\r\n\r\n    // property modifier\r\n    _applyTablePaneModel(value, old) {\r\n      if (old != null) {\r\n        old.removeListener(\"modelChanged\", this._onPaneModelChanged, this);\r\n      }\r\n\r\n      value.addListener(\"modelChanged\", this._onPaneModelChanged, this);\r\n    },\r\n\r\n    // property modifier\r\n    _applyShowCellFocusIndicator(value, old) {\r\n      if (value) {\r\n        this.__focusIndicator.setDecorator(\"table-scroller-focus-indicator\");\r\n        this._updateFocusIndicator();\r\n      } else {\r\n        if (this.__focusIndicator) {\r\n          this.__focusIndicator.setDecorator(null);\r\n        }\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Get the current position of the vertical scroll bar.\r\n     *\r\n     * @return {Integer} The current scroll position.\r\n     */\r\n    getScrollY() {\r\n      return this.__verScrollBar.getPosition();\r\n    },\r\n\r\n    /**\r\n     * Set the current position of the vertical scroll bar.\r\n     *\r\n     * @param scrollY {Integer} The new scroll position.\r\n     * @param renderSync {Boolean?false} Whether the table update should be\r\n     *     performed synchronously.\r\n     */\r\n    setScrollY(scrollY, renderSync) {\r\n      this.__verScrollBar.scrollTo(scrollY);\r\n      if (renderSync) {\r\n        this._updateContent();\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Get the current position of the vertical scroll bar.\r\n     *\r\n     * @return {Integer} The current scroll position.\r\n     */\r\n    getScrollX() {\r\n      return this.__horScrollBar.getPosition();\r\n    },\r\n\r\n    /**\r\n     * Set the current position of the vertical scroll bar.\r\n     *\r\n     * @param scrollX {Integer} The new scroll position.\r\n     */\r\n    setScrollX(scrollX) {\r\n      this.__horScrollBar.scrollTo(scrollX);\r\n    },\r\n\r\n    /**\r\n     * Returns the table this scroller belongs to.\r\n     *\r\n     * @return {qx.ui.table.Table} the table.\r\n     */\r\n    getTable() {\r\n      return this.__table;\r\n    },\r\n\r\n    /**\r\n     * Creates and returns an instance of pane clipper.\r\n     *\r\n     * @return {qx.ui.table.pane.Clipper} pane clipper.\r\n     */\r\n    _createPaneClipper() {\r\n      return new qx.ui.table.pane.Clipper();\r\n    },\r\n\r\n    /**\r\n     * Creates and returns an instance of header clipper.\r\n     *\r\n     * @return {qx.ui.table.pane.Clipper} pane clipper.\r\n     */\r\n    _createHeaderClipper() {\r\n      return new qx.ui.table.pane.Clipper();\r\n    },\r\n\r\n    /**\r\n     * Event handler. Called when the visibility of a column has changed.\r\n     */\r\n    onColVisibilityChanged() {\r\n      this.updateHorScrollBarMaximum();\r\n      this._updateFocusIndicator();\r\n    },\r\n\r\n    /**\r\n     * Sets the column width.\r\n     *\r\n     * @param col {Integer} the column to change the width for.\r\n     * @param width {Integer} the new width.\r\n     */\r\n    setColumnWidth(col, width) {\r\n      this.__header.setColumnWidth(col, width);\r\n      this.__tablePane.setColumnWidth(col, width);\r\n\r\n      var paneModel = this.getTablePaneModel();\r\n      var x = paneModel.getX(col);\r\n\r\n      if (x != -1) {\r\n        // The change was in this scroller\r\n        this.updateHorScrollBarMaximum();\r\n        this._updateFocusIndicator();\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Event handler. Called when the column order has changed.\r\n     *\r\n     */\r\n    onColOrderChanged() {\r\n      this.__header.onColOrderChanged();\r\n      this.__tablePane.onColOrderChanged();\r\n\r\n      this.updateHorScrollBarMaximum();\r\n    },\r\n\r\n    /**\r\n     * Event handler. Called when the table model has changed.\r\n     *\r\n     * @param firstRow {Integer} The index of the first row that has changed.\r\n     * @param lastRow {Integer} The index of the last row that has changed.\r\n     * @param firstColumn {Integer} The model index of the first column that has changed.\r\n     * @param lastColumn {Integer} The model index of the last column that has changed.\r\n     */\r\n    onTableModelDataChanged(firstRow, lastRow, firstColumn, lastColumn) {\r\n      this.__tablePane.onTableModelDataChanged(\r\n        firstRow,\r\n        lastRow,\r\n        firstColumn,\r\n        lastColumn\r\n      );\r\n\r\n      var rowCount = this.getTable().getTableModel().getRowCount();\r\n\r\n      if (rowCount != this.__lastRowCount) {\r\n        this.updateVerScrollBarMaximum();\r\n\r\n        const focusedRow = this.getFocusedRow();\r\n        if (focusedRow !== null && focusedRow >= rowCount) {\r\n          if (rowCount == 0) {\r\n            this.setFocusedCell(null, null);\r\n          } else {\r\n            this.setFocusedCell(this.getFocusedColumn(), rowCount - 1);\r\n          }\r\n        }\r\n        this.__lastRowCount = rowCount;\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Event handler. Called when the selection has changed.\r\n     */\r\n    onSelectionChanged() {\r\n      this.__tablePane.onSelectionChanged();\r\n    },\r\n\r\n    /**\r\n     * Event handler. Called when the table gets or looses the focus.\r\n     */\r\n    onFocusChanged() {\r\n      this.__tablePane.onFocusChanged();\r\n    },\r\n\r\n    /**\r\n     * Event handler. Called when the table model meta data has changed.\r\n     *\r\n     */\r\n    onTableModelMetaDataChanged() {\r\n      this.__header.onTableModelMetaDataChanged();\r\n      this.__tablePane.onTableModelMetaDataChanged();\r\n    },\r\n\r\n    /**\r\n     * Event handler. Called when the pane model has changed.\r\n     */\r\n    _onPaneModelChanged() {\r\n      this.__header.onPaneModelChanged();\r\n      this.__tablePane.onPaneModelChanged();\r\n    },\r\n\r\n    /**\r\n     * Event listener for the pane clipper's resize event\r\n     */\r\n    _onResizePane() {\r\n      this.updateHorScrollBarMaximum();\r\n      this.updateVerScrollBarMaximum();\r\n\r\n      // The height has changed -> Update content\r\n      this._updateContent();\r\n      this.__header._updateContent();\r\n      this.__table._updateScrollBarVisibility();\r\n    },\r\n\r\n    /**\r\n     * Updates the maximum of the horizontal scroll bar, so it corresponds to the\r\n     * total width of the columns in the table pane.\r\n     */\r\n    updateHorScrollBarMaximum() {\r\n      var paneSize = this._paneClipper.getInnerSize();\r\n      if (!paneSize) {\r\n        // will be called on the next resize event again\r\n        return;\r\n      }\r\n      var scrollSize = this.getTablePaneModel().getTotalWidth();\r\n\r\n      var scrollBar = this.__horScrollBar;\r\n\r\n      if (paneSize.width < scrollSize) {\r\n        var max = Math.max(0, scrollSize - paneSize.width);\r\n\r\n        scrollBar.setMaximum(max);\r\n        scrollBar.setKnobFactor(paneSize.width / scrollSize);\r\n\r\n        var pos = scrollBar.getPosition();\r\n        scrollBar.setPosition(Math.min(pos, max));\r\n      } else {\r\n        scrollBar.setMaximum(0);\r\n        scrollBar.setKnobFactor(1);\r\n        scrollBar.setPosition(0);\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Updates the maximum of the vertical scroll bar, so it corresponds to the\r\n     * number of rows in the table.\r\n     */\r\n    updateVerScrollBarMaximum() {\r\n      var paneSize = this._paneClipper.getInnerSize();\r\n      if (!paneSize) {\r\n        // will be called on the next resize event again\r\n        return;\r\n      }\r\n\r\n      var tableModel = this.getTable().getTableModel();\r\n      var rowCount = tableModel.getRowCount();\r\n\r\n      if (this.getTable().getKeepFirstVisibleRowComplete()) {\r\n        rowCount += 1;\r\n      }\r\n\r\n      var rowHeight = this.getTable().getRowHeight();\r\n      var scrollSize = rowCount * rowHeight;\r\n      var scrollBar = this.__verScrollBar;\r\n\r\n      if (paneSize.height < scrollSize) {\r\n        var max = Math.max(0, scrollSize - paneSize.height);\r\n\r\n        scrollBar.setMaximum(max);\r\n        scrollBar.setKnobFactor(paneSize.height / scrollSize);\r\n\r\n        var pos = scrollBar.getPosition();\r\n        scrollBar.setPosition(Math.min(pos, max));\r\n      } else {\r\n        scrollBar.setMaximum(0);\r\n        scrollBar.setKnobFactor(1);\r\n        scrollBar.setPosition(0);\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Event handler. Called when the table property \"keepFirstVisibleRowComplete\"\r\n     * changed.\r\n     */\r\n    onKeepFirstVisibleRowCompleteChanged() {\r\n      this.updateVerScrollBarMaximum();\r\n      this._updateContent();\r\n    },\r\n\r\n    /**\r\n     * Event handler for the scroller's appear event\r\n     */\r\n    _onAppear() {\r\n      // after the Scroller appears we start the interval again\r\n      this._startInterval(this.getScrollTimeout());\r\n    },\r\n\r\n    /**\r\n     * Event handler for the disappear event\r\n     */\r\n    _onDisappear() {\r\n      // before the scroller disappears we need to stop it\r\n      this._stopInterval();\r\n    },\r\n\r\n    /**\r\n     * Event handler. Called when the horizontal scroll bar moved.\r\n     *\r\n     * @param e {Map} the event.\r\n     */\r\n    _onScrollX(e) {\r\n      var scrollLeft = e.getData();\r\n\r\n      this.fireDataEvent(\"changeScrollX\", scrollLeft, e.getOldData());\r\n      this._headerClipper.scrollToX(scrollLeft);\r\n      this._paneClipper.scrollToX(scrollLeft);\r\n    },\r\n\r\n    /**\r\n     * Event handler. Called when the vertical scroll bar moved.\r\n     *\r\n     * @param e {Map} the event.\r\n     */\r\n    __inOnScrollY: false,\r\n    _onScrollY(e) {\r\n      if (this.__inOnScrollY) {\r\n        return;\r\n      }\r\n      var scrollbar = this.__verScrollBar;\r\n      this.__inOnScrollY = true;\r\n      // calculate delta so that one row is scrolled at a minimum\r\n      var rowHeight = this.getTable().getRowHeight();\r\n      var delta = e.getData() - e.getOldData();\r\n      if (Math.abs(delta) > 1 && Math.abs(delta) < rowHeight) {\r\n        delta =\r\n          delta < 0 ? e.getOldData() - rowHeight : e.getOldData() + rowHeight;\r\n        if (\r\n          delta >= 0 &&\r\n          delta <= scrollbar.getMaximum() &&\r\n          Math.abs(scrollbar.getPosition() - delta) > rowHeight\r\n        ) {\r\n          scrollbar.setPosition(delta);\r\n        }\r\n      }\r\n      this.__inOnScrollY = false;\r\n      this.fireDataEvent(\r\n        \"changeScrollY\",\r\n        scrollbar.getPosition(),\r\n        e.getOldData()\r\n      );\r\n\r\n      this._postponedUpdateContent();\r\n    },\r\n\r\n    /**\r\n     * Event handler. Called when the user moved the mouse wheel.\r\n     *\r\n     * @param e {qx.event.type.Roll} the event.\r\n     */\r\n    _onRoll(e) {\r\n      var table = this.getTable();\r\n\r\n      if (e.getPointerType() == \"mouse\" || !table.getEnabled()) {\r\n        return;\r\n      }\r\n\r\n      // vertical scrolling\r\n      var delta = e.getDelta();\r\n      // normalize that at least one step is scrolled at a time\r\n      if (delta.y > 0 && delta.y < 1) {\r\n        delta.y = 1;\r\n      } else if (delta.y < 0 && delta.y > -1) {\r\n        delta.y = -1;\r\n      }\r\n      this.__verScrollBar.scrollBy(parseInt(delta.y, 10));\r\n\r\n      var scrolled =\r\n        delta.y != 0 && !this.__isAtEdge(this.__verScrollBar, delta.y);\r\n\r\n      // horizontal scrolling\r\n      // normalize that at least one step is scrolled at a time\r\n      if (delta.x > 0 && delta.x < 1) {\r\n        delta.x = 1;\r\n      } else if (delta.x < 0 && delta.x > -1) {\r\n        delta.x = -1;\r\n      }\r\n      this.__horScrollBar.scrollBy(parseInt(delta.x, 10));\r\n\r\n      // Update the focus\r\n      if (this.__lastPointerPageX && this.getFocusCellOnPointerMove()) {\r\n        this._focusCellAtPagePos(\r\n          this.__lastPointerPageX,\r\n          this.__lastPointerPageY\r\n        );\r\n      }\r\n\r\n      scrolled =\r\n        scrolled ||\r\n        (delta.x != 0 && !this.__isAtEdge(this.__horScrollBar, delta.x));\r\n\r\n      // pass the event to the parent if the scrollbar is at an edge\r\n      if (scrolled) {\r\n        e.stop();\r\n      } else {\r\n        e.stopMomentum();\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Checks if the table has been scrolled.\r\n     * @param scrollBar {qx.ui.core.scroll.IScrollBar} The scrollbar to check\r\n     * @param delta {Number} The scroll delta.\r\n     * @return {Boolean} <code>true</code>, if the scrolling is a the edge\r\n     */\r\n    __isAtEdge(scrollBar, delta) {\r\n      var position = scrollBar.getPosition();\r\n      return (\r\n        (delta < 0 && position <= 0) ||\r\n        (delta > 0 && position >= scrollBar.getMaximum())\r\n      );\r\n    },\r\n\r\n    /**\r\n     * Common column resize logic.\r\n     *\r\n     * @param pageX {Integer} the current pointer x position.\r\n     */\r\n    __handleResizeColumn(pageX) {\r\n      var table = this.getTable();\r\n      // We are currently resizing -> Update the position\r\n      var headerCell = this.__header.getHeaderWidgetAtColumn(\r\n        this.__resizeColumn\r\n      );\r\n\r\n      var minColumnWidth = headerCell.getSizeHint().minWidth;\r\n\r\n      var newWidth = Math.max(\r\n        minColumnWidth,\r\n        this.__lastResizeWidth + pageX - this.__lastResizePointerPageX\r\n      );\r\n\r\n      if (this.getLiveResize()) {\r\n        var columnModel = table.getTableColumnModel();\r\n        columnModel.setColumnWidth(this.__resizeColumn, newWidth, true);\r\n      } else {\r\n        var paneModel = this.getTablePaneModel();\r\n        this._showResizeLine(\r\n          paneModel.getColumnLeft(this.__resizeColumn) + newWidth\r\n        );\r\n      }\r\n\r\n      this.__lastResizePointerPageX += newWidth - this.__lastResizeWidth;\r\n      this.__lastResizeWidth = newWidth;\r\n    },\r\n\r\n    /**\r\n     * Common column move logic.\r\n     *\r\n     * @param pageX {Integer} the current pointer x position.\r\n     *\r\n     */\r\n    __handleMoveColumn(pageX) {\r\n      // We are moving a column\r\n\r\n      // Check whether we moved outside the tap tolerance so we can start\r\n      // showing the column move feedback\r\n      // (showing the column move feedback prevents the ontap event)\r\n      var tapTolerance = qx.ui.table.pane.Scroller.TAP_TOLERANCE;\r\n      if (\r\n        this.__header.isShowingColumnMoveFeedback() ||\r\n        pageX > this.__lastMovePointerPageX + tapTolerance ||\r\n        pageX < this.__lastMovePointerPageX - tapTolerance\r\n      ) {\r\n        this.__lastMoveColPos += pageX - this.__lastMovePointerPageX;\r\n\r\n        this.__header.showColumnMoveFeedback(\r\n          this._moveColumn,\r\n          this.__lastMoveColPos\r\n        );\r\n\r\n        // Get the responsible scroller\r\n        var targetScroller = this.__table.getTablePaneScrollerAtPageX(pageX);\r\n        if (\r\n          this._lastMoveTargetScroller &&\r\n          this._lastMoveTargetScroller != targetScroller\r\n        ) {\r\n          this._lastMoveTargetScroller.hideColumnMoveFeedback();\r\n        }\r\n        if (targetScroller != null) {\r\n          this._lastMoveTargetX = targetScroller.showColumnMoveFeedback(pageX);\r\n        } else {\r\n          this._lastMoveTargetX = null;\r\n        }\r\n\r\n        this._lastMoveTargetScroller = targetScroller;\r\n        this.__lastMovePointerPageX = pageX;\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Event handler. Called when the user moved the pointer over the header.\r\n     *\r\n     * @param e {Map} the event.\r\n     */\r\n    _onPointermoveHeader(e) {\r\n      var table = this.getTable();\r\n\r\n      if (!table.getEnabled()) {\r\n        return;\r\n      }\r\n\r\n      var useResizeCursor = false;\r\n      var pointerOverColumn = null;\r\n\r\n      var pageX = e.getDocumentLeft();\r\n      var pageY = e.getDocumentTop();\r\n\r\n      // Workaround: In onmousewheel the event has wrong coordinates for pageX\r\n      //       and pageY. So we remember the last move event.\r\n      this.__lastPointerPageX = pageX;\r\n      this.__lastPointerPageY = pageY;\r\n\r\n      if (this.__resizeColumn != null) {\r\n        // We are currently resizing -> Update the position\r\n        this.__handleResizeColumn(pageX);\r\n        useResizeCursor = true;\r\n        e.stopPropagation();\r\n      } else if (this._moveColumn != null) {\r\n        // We are moving a column\r\n        this.__handleMoveColumn(pageX);\r\n        e.stopPropagation();\r\n      } else {\r\n        var resizeCol = this._getResizeColumnForPageX(pageX);\r\n        if (resizeCol != -1) {\r\n          // The pointer is over a resize region -> Show the right cursor\r\n          useResizeCursor = true;\r\n        } else {\r\n          var tableModel = table.getTableModel();\r\n          var col = this._getColumnForPageX(pageX);\r\n          if (col != null && tableModel.isColumnSortable(col)) {\r\n            pointerOverColumn = col;\r\n          }\r\n        }\r\n      }\r\n\r\n      var cursor = useResizeCursor ? \"col-resize\" : null;\r\n      this.getApplicationRoot().setGlobalCursor(cursor);\r\n      this.setCursor(cursor);\r\n      this.__header.setPointerOverColumn(pointerOverColumn);\r\n    },\r\n\r\n    /**\r\n     * Event handler. Called when the user moved the pointer over the pane.\r\n     *\r\n     * @param e {Map} the event.\r\n     */\r\n    _onPointermovePane(e) {\r\n      var table = this.getTable();\r\n\r\n      if (!table.getEnabled()) {\r\n        return;\r\n      }\r\n\r\n      //var useResizeCursor = false;\r\n\r\n      var pageX = e.getDocumentLeft();\r\n      var pageY = e.getDocumentTop();\r\n\r\n      // Workaround: In onpointerwheel the event has wrong coordinates for pageX\r\n      //       and pageY. So we remember the last move event.\r\n      this.__lastPointerPageX = pageX;\r\n      this.__lastPointerPageY = pageY;\r\n\r\n      var useResizeCursor = false;\r\n      var resizeCol = this._getResizeColumnForPageX(pageX);\r\n      if (resizeCol != -1) {\r\n        // The pointer is over a resize region -> Show the right cursor\r\n        useResizeCursor = true;\r\n      }\r\n      var cursor = useResizeCursor ? \"col-resize\" : null;\r\n      this.getApplicationRoot().setGlobalCursor(cursor);\r\n      this.setCursor(cursor);\r\n\r\n      var row = this._getRowForPagePos(pageX, pageY);\r\n      if (row != null && this._getColumnForPageX(pageX) != null) {\r\n        // The pointer is over the data -> update the focus\r\n        if (this.getFocusCellOnPointerMove()) {\r\n          this._focusCellAtPagePos(pageX, pageY);\r\n        }\r\n      }\r\n      this.__header.setPointerOverColumn(null);\r\n    },\r\n\r\n    /**\r\n     * Event handler. Called when the user pressed a pointer button over the header.\r\n     *\r\n     * @param e {Map} the event.\r\n     */\r\n    _onPointerdownHeader(e) {\r\n      if (!this.getTable().getEnabled()) {\r\n        return;\r\n      }\r\n\r\n      var pageX = e.getDocumentLeft();\r\n\r\n      // pointer is in header\r\n      var resizeCol = this._getResizeColumnForPageX(pageX);\r\n      if (resizeCol != -1) {\r\n        // The pointer is over a resize region -> Start resizing\r\n        this._startResizeHeader(resizeCol, pageX);\r\n        e.stop();\r\n      } else {\r\n        // The pointer is not in a resize region\r\n        var moveCol = this._getColumnForPageX(pageX);\r\n        if (moveCol != null) {\r\n          this._startMoveHeader(moveCol, pageX);\r\n          e.stop();\r\n        }\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Start a resize session of the header.\r\n     *\r\n     * @param resizeCol {Integer} the column index\r\n     * @param pageX {Integer} x coordinate of the pointer event\r\n     */\r\n    _startResizeHeader(resizeCol, pageX) {\r\n      var columnModel = this.getTable().getTableColumnModel();\r\n\r\n      // The pointer is over a resize region -> Start resizing\r\n      this.__resizeColumn = resizeCol;\r\n      this.__lastResizePointerPageX = pageX;\r\n      this.__lastResizeWidth = columnModel.getColumnWidth(this.__resizeColumn);\r\n      this._headerClipper.capture();\r\n    },\r\n\r\n    /**\r\n     * Start a move session of the header.\r\n     *\r\n     * @param moveCol {Integer} the column index\r\n     * @param pageX {Integer} x coordinate of the pointer event\r\n     */\r\n    _startMoveHeader(moveCol, pageX) {\r\n      // Prepare column moving\r\n      this._moveColumn = moveCol;\r\n      this.__lastMovePointerPageX = pageX;\r\n      this.__lastMoveColPos = this.getTablePaneModel().getColumnLeft(moveCol);\r\n      this._headerClipper.capture();\r\n    },\r\n\r\n    /**\r\n     * Event handler. Called when the user pressed a pointer button over the pane.\r\n     *\r\n     * @param e {Map} the event.\r\n     */\r\n    _onPointerdownPane(e) {\r\n      var table = this.getTable();\r\n\r\n      if (!table.getEnabled()) {\r\n        return;\r\n      }\r\n\r\n      if (table.isEditing()) {\r\n        table.stopEditing();\r\n      }\r\n\r\n      var pageX = e.getDocumentLeft();\r\n\r\n      // pointer is in header\r\n      var resizeCol = this._getResizeColumnForPageX(pageX);\r\n      if (resizeCol != -1) {\r\n        // The pointer is over a resize region -> Start resizing\r\n        this._startResizeHeader(resizeCol, pageX);\r\n        e.stop();\r\n        return;\r\n      }\r\n\r\n      var pageY = e.getDocumentTop();\r\n      var row = this._getRowForPagePos(pageX, pageY);\r\n      var col = this._getColumnForPageX(pageX);\r\n\r\n      if (row !== null) {\r\n        // The focus indicator blocks the tap event on the scroller so we\r\n        // store the current cell and listen for the pointerup event on the\r\n        // focus indicator\r\n        //\r\n        // INVARIANT:\r\n        //  The members of this object always contain the last position of\r\n        //  the cell on which the pointerdown event occurred.\r\n        //  *** These values are never cleared! ***.\r\n        //  Different browsers/OS combinations issue events in different\r\n        //  orders, and the context menu event, in particular, can be issued\r\n        //  early or late (Firefox on Linux issues it early; Firefox on\r\n        //  Windows issues it late) so no one may clear these values.\r\n        //\r\n        this.__lastPointerDownCell = {\r\n          row: row,\r\n          col: col\r\n        };\r\n\r\n        // On the other hand, we need to know if we've issued the tap event\r\n        // so we don't issue it twice, both from pointer-up on the focus\r\n        // indicator, and from the tap even on the pane. Both possibilities\r\n        // are necessary, however, to maintain the qooxdoo order of events.\r\n        this.__firedTapEvent = false;\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Event handler for the focus indicator's pointerup event\r\n     *\r\n     * @param e {qx.event.type.Pointer} The pointer event\r\n     */\r\n    _onPointerupFocusIndicator(e) {\r\n      if (\r\n        this.__lastPointerDownCell &&\r\n        !this.__firedTapEvent &&\r\n        !this.isEditing() &&\r\n        this.__focusIndicator.getRow() == this.__lastPointerDownCell.row &&\r\n        this.__focusIndicator.getColumn() == this.__lastPointerDownCell.col\r\n      ) {\r\n        this.fireEvent(\r\n          \"cellTap\",\r\n          qx.ui.table.pane.CellEvent,\r\n          [\r\n            this,\r\n            e,\r\n            this.__lastPointerDownCell.row,\r\n            this.__lastPointerDownCell.col\r\n          ],\r\n\r\n          true\r\n        );\r\n\r\n        this.__firedTapEvent = true;\r\n      } else if (!this.isEditing()) {\r\n        // if no cellTap event should be fired, act like a pointerdown which\r\n        // invokes the change of the selection e.g. [BUG #1632]\r\n        this._onPointerdownPane(e);\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Event handler. Called when the event capturing of the header changed.\r\n     * Stops/finishes an active header resize/move session if it lost capturing\r\n     * during the session to stay in a stable state.\r\n     *\r\n     * @param e {qx.event.type.Data} The data event\r\n     */\r\n    _onChangeCaptureHeader(e) {\r\n      if (this.__resizeColumn != null) {\r\n        this._stopResizeHeader();\r\n      }\r\n\r\n      if (this._moveColumn != null) {\r\n        this._stopMoveHeader();\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Stop a resize session of the header.\r\n     *\r\n     */\r\n    _stopResizeHeader() {\r\n      var columnModel = this.getTable().getTableColumnModel();\r\n\r\n      // We are currently resizing -> Finish resizing\r\n      if (!this.getLiveResize()) {\r\n        this._hideResizeLine();\r\n        columnModel.setColumnWidth(\r\n          this.__resizeColumn,\r\n          this.__lastResizeWidth,\r\n          true\r\n        );\r\n      }\r\n\r\n      this.__resizeColumn = null;\r\n      this._headerClipper.releaseCapture();\r\n\r\n      this.getApplicationRoot().setGlobalCursor(null);\r\n      this.setCursor(null);\r\n    },\r\n\r\n    /**\r\n     * Stop a move session of the header.\r\n     *\r\n     */\r\n    _stopMoveHeader() {\r\n      var columnModel = this.getTable().getTableColumnModel();\r\n      var paneModel = this.getTablePaneModel();\r\n\r\n      // We are moving a column -> Drop the column\r\n      this.__header.hideColumnMoveFeedback();\r\n      if (this._lastMoveTargetScroller) {\r\n        this._lastMoveTargetScroller.hideColumnMoveFeedback();\r\n      }\r\n\r\n      if (this._lastMoveTargetX != null) {\r\n        var fromVisXPos =\r\n          paneModel.getFirstColumnX() + paneModel.getX(this._moveColumn);\r\n        var toVisXPos = this._lastMoveTargetX;\r\n        if (toVisXPos != fromVisXPos && toVisXPos != fromVisXPos + 1) {\r\n          // The column was really moved to another position\r\n          // (and not moved before or after itself, which is a noop)\r\n\r\n          // Translate visible positions to overall positions\r\n          var fromCol = columnModel.getVisibleColumnAtX(fromVisXPos);\r\n          var toCol = columnModel.getVisibleColumnAtX(toVisXPos);\r\n          var fromOverXPos = columnModel.getOverallX(fromCol);\r\n          var toOverXPos =\r\n            toCol != null\r\n              ? columnModel.getOverallX(toCol)\r\n              : columnModel.getOverallColumnCount();\r\n\r\n          if (toOverXPos > fromOverXPos) {\r\n            // Don't count the column itself\r\n            toOverXPos--;\r\n          }\r\n\r\n          // Move the column\r\n          columnModel.moveColumn(fromOverXPos, toOverXPos);\r\n\r\n          // update the focus indicator including the editor\r\n          this._updateFocusIndicator();\r\n        }\r\n      }\r\n\r\n      this._moveColumn = null;\r\n      this._lastMoveTargetX = null;\r\n      this._headerClipper.releaseCapture();\r\n    },\r\n\r\n    /**\r\n     * Event handler. Called when the user released a pointer button over the header.\r\n     *\r\n     * @param e {Map} the event.\r\n     */\r\n    _onPointerupHeader(e) {\r\n      var table = this.getTable();\r\n\r\n      if (!table.getEnabled()) {\r\n        return;\r\n      }\r\n\r\n      if (this.__resizeColumn != null) {\r\n        this._stopResizeHeader();\r\n        this.__ignoreTap = true;\r\n        e.stop();\r\n      } else if (this._moveColumn != null) {\r\n        this._stopMoveHeader();\r\n        e.stop();\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Event handler. Called when the user tapped a pointer button over the header.\r\n     *\r\n     * @param e {Map} the event.\r\n     */\r\n    _onTapHeader(e) {\r\n      if (this.__ignoreTap) {\r\n        this.__ignoreTap = false;\r\n        return;\r\n      }\r\n\r\n      var table = this.getTable();\r\n\r\n      if (!table.getEnabled()) {\r\n        return;\r\n      }\r\n\r\n      var tableModel = table.getTableModel();\r\n\r\n      var pageX = e.getDocumentLeft();\r\n\r\n      var resizeCol = this._getResizeColumnForPageX(pageX);\r\n\r\n      if (resizeCol == -1) {\r\n        // pointer is not in a resize region\r\n        var col = this._getColumnForPageX(pageX);\r\n\r\n        if (col != null && tableModel.isColumnSortable(col)) {\r\n          // Sort that column\r\n          var sortCol = tableModel.getSortColumnIndex();\r\n          var ascending = col != sortCol ? true : !tableModel.isSortAscending();\r\n\r\n          var data = {\r\n            column: col,\r\n            ascending: ascending,\r\n            tapEvent: e\r\n          };\r\n\r\n          if (this.fireDataEvent(\"beforeSort\", data, null, true)) {\r\n            // Stop cell editing\r\n            if (table.isEditing()) {\r\n              table.stopEditing();\r\n            }\r\n\r\n            tableModel.sortByColumn(col, ascending);\r\n            if (this.getResetSelectionOnHeaderTap()) {\r\n              table.getSelectionModel().resetSelection();\r\n            }\r\n          }\r\n        }\r\n      }\r\n\r\n      e.stop();\r\n    },\r\n\r\n    /**\r\n     * Event handler. Called when the user tapped a pointer button over the pane.\r\n     *\r\n     * @param e {Map} the event.\r\n     */\r\n    _onTapPane(e) {\r\n      var table = this.getTable();\r\n\r\n      if (!table.getEnabled()) {\r\n        return;\r\n      }\r\n\r\n      var pageX = e.getDocumentLeft();\r\n      var pageY = e.getDocumentTop();\r\n      var row = this._getRowForPagePos(pageX, pageY);\r\n      var col = this._getColumnForPageX(pageX);\r\n\r\n      if (row != null && col != null) {\r\n        var selectBeforeFocus = this.getSelectBeforeFocus();\r\n\r\n        if (selectBeforeFocus) {\r\n          table.getSelectionManager().handleTap(row, e);\r\n        }\r\n\r\n        // The pointer is over the data -> update the focus\r\n        if (!this.getFocusCellOnPointerMove()) {\r\n          this._focusCellAtPagePos(pageX, pageY);\r\n        }\r\n\r\n        if (!selectBeforeFocus) {\r\n          table.getSelectionManager().handleTap(row, e);\r\n        }\r\n\r\n        if (\r\n          this.__focusIndicator.isHidden() ||\r\n          (this.__lastPointerDownCell &&\r\n            !this.__firedTapEvent &&\r\n            !this.isEditing() &&\r\n            row == this.__lastPointerDownCell.row &&\r\n            col == this.__lastPointerDownCell.col)\r\n        ) {\r\n          this.fireEvent(\r\n            \"cellTap\",\r\n            qx.ui.table.pane.CellEvent,\r\n            [this, e, row, col],\r\n            true\r\n          );\r\n\r\n          this.__firedTapEvent = true;\r\n        }\r\n      } else {\r\n        if (row == null && this.getResetSelectionOnTapBelowRows()) {\r\n          table.getSelectionModel().resetSelection();\r\n        }\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Event handler. Called when a context menu is invoked in a cell.\r\n     *\r\n     * @param e {qx.event.type.Pointer} the event.\r\n     */\r\n    _onContextMenu(e) {\r\n      var pageX = e.getDocumentLeft();\r\n      var pageY = e.getDocumentTop();\r\n      var row = this._getRowForPagePos(pageX, pageY);\r\n      var col = this._getColumnForPageX(pageX);\r\n\r\n      /*\r\n       * The 'row' value will be null if the right-click was in the blank\r\n       * area below the last data row. Some applications desire to receive\r\n       * the context menu event anyway, and can set the property value of\r\n       * contextMenuFromDataCellsOnly to false to achieve that.\r\n       */\r\n      if (row === null && this.getContextMenuFromDataCellsOnly()) {\r\n        return;\r\n      }\r\n\r\n      if (\r\n        !this.getShowCellFocusIndicator() ||\r\n        row === null ||\r\n        (this.__lastPointerDownCell &&\r\n          row == this.__lastPointerDownCell.row &&\r\n          col == this.__lastPointerDownCell.col)\r\n      ) {\r\n        this.fireEvent(\r\n          \"cellContextmenu\",\r\n          qx.ui.table.pane.CellEvent,\r\n          [this, e, row, col],\r\n          true\r\n        );\r\n\r\n        // Now that the cellContextmenu handler has had a chance to build\r\n        // the menu for this cell, display it (if there is one).\r\n        var menu = this.getTable().getContextMenu();\r\n        if (menu) {\r\n          // A menu with no children means don't display any context menu\r\n          // including the default context menu even if the default context\r\n          // menu is allowed to be displayed normally. There's no need to\r\n          // actually show an empty menu, though.\r\n          if (menu.getChildren().length > 0) {\r\n            menu.openAtPointer(e);\r\n          } else {\r\n            menu.exclude();\r\n          }\r\n\r\n          // Do not show native menu\r\n          e.preventDefault();\r\n        }\r\n      }\r\n    },\r\n\r\n    // overridden\r\n    _onContextMenuOpen(e) {\r\n      // This is Widget's context menu handler which typically retrieves\r\n      // and displays the menu as soon as it receives a \"contextmenu\" event.\r\n      // We want to allow the cellContextmenu handler to create the menu,\r\n      // so we'll override this method with a null one, and do the menu\r\n      // placement and display handling in our _onContextMenu method.\r\n    },\r\n\r\n    /**\r\n     * Event handler. Called when the user double tapped a pointer button over the pane.\r\n     *\r\n     * @param e {Map} the event.\r\n     */\r\n    _onDbltapPane(e) {\r\n      var pageX = e.getDocumentLeft();\r\n      var pageY = e.getDocumentTop();\r\n      var col = this._getColumnForPageX(pageX);\r\n\r\n      if (col !== null) {\r\n        this._focusCellAtPagePos(pageX, pageY);\r\n        this.startEditing();\r\n\r\n        var row = this._getRowForPagePos(pageX, pageY);\r\n        if (row != -1 && row != null) {\r\n          this.fireEvent(\r\n            \"cellDbltap\",\r\n            qx.ui.table.pane.CellEvent,\r\n            [this, e, row],\r\n            true\r\n          );\r\n        }\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Event handler. Called when the pointer moved out.\r\n     *\r\n     * @param e {Map} the event.\r\n     */\r\n    _onPointerout(e) {\r\n      var table = this.getTable();\r\n\r\n      if (!table.getEnabled()) {\r\n        return;\r\n      }\r\n\r\n      // Reset the resize cursor when the pointer leaves the header\r\n      // If currently a column is resized then do nothing\r\n      // (the cursor will be reset on pointerup)\r\n      if (this.__resizeColumn == null) {\r\n        this.setCursor(null);\r\n        this.getApplicationRoot().setGlobalCursor(null);\r\n      }\r\n\r\n      this.__header.setPointerOverColumn(null);\r\n\r\n      // in case the focus follows the pointer, it should be remove on pointerout\r\n      if (this.getFocusCellOnPointerMove()) {\r\n        this.__table.setFocusedCell();\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Shows the resize line.\r\n     *\r\n     * @param x {Integer} the position where to show the line (in pixels, relative to\r\n     *      the left side of the pane).\r\n     */\r\n    _showResizeLine(x) {\r\n      var resizeLine = this._showChildControl(\"resize-line\");\r\n\r\n      var width = resizeLine.getWidth();\r\n      var paneBounds = this._paneClipper.getBounds();\r\n      resizeLine.setUserBounds(\r\n        x - Math.round(width / 2),\r\n        0,\r\n        width,\r\n        paneBounds.height\r\n      );\r\n    },\r\n\r\n    /**\r\n     * Hides the resize line.\r\n     */\r\n    _hideResizeLine() {\r\n      this._excludeChildControl(\"resize-line\");\r\n    },\r\n\r\n    /**\r\n     * Shows the feedback shown while a column is moved by the user.\r\n     *\r\n     * @param pageX {Integer} the x position of the pointer in the page (in pixels).\r\n     * @return {Integer} the visible x position of the column in the whole table.\r\n     */\r\n    showColumnMoveFeedback(pageX) {\r\n      var paneModel = this.getTablePaneModel();\r\n      var columnModel = this.getTable().getTableColumnModel();\r\n      var paneLeft = this.__tablePane.getContentLocation().left;\r\n      var colCount = paneModel.getColumnCount();\r\n\r\n      var targetXPos = 0;\r\n      var targetX = 0;\r\n      var currX = paneLeft;\r\n\r\n      for (var xPos = 0; xPos < colCount; xPos++) {\r\n        var col = paneModel.getColumnAtX(xPos);\r\n        var colWidth = columnModel.getColumnWidth(col);\r\n\r\n        if (pageX < currX + colWidth / 2) {\r\n          break;\r\n        }\r\n\r\n        currX += colWidth;\r\n        targetXPos = xPos + 1;\r\n        targetX = currX - paneLeft;\r\n      }\r\n\r\n      // Ensure targetX is visible\r\n      var scrollerLeft = this._paneClipper.getContentLocation().left;\r\n      var scrollerWidth = this._paneClipper.getBounds().width;\r\n      var scrollX = scrollerLeft - paneLeft;\r\n\r\n      // NOTE: +2/-1 because of feedback width\r\n      targetX = qx.lang.Number.limit(\r\n        targetX,\r\n        scrollX + 2,\r\n        scrollX + scrollerWidth - 1\r\n      );\r\n\r\n      this._showResizeLine(targetX);\r\n\r\n      // Return the overall target x position\r\n      return paneModel.getFirstColumnX() + targetXPos;\r\n    },\r\n\r\n    /**\r\n     * Hides the feedback shown while a column is moved by the user.\r\n     */\r\n    hideColumnMoveFeedback() {\r\n      this._hideResizeLine();\r\n    },\r\n\r\n    /**\r\n     * Sets the focus to the cell that's located at the page position\r\n     * <code>pageX</code>/<code>pageY</code>. If there is no cell at that position,\r\n     * nothing happens.\r\n     *\r\n     * @param pageX {Integer} the x position in the page (in pixels).\r\n     * @param pageY {Integer} the y position in the page (in pixels).\r\n     */\r\n    _focusCellAtPagePos(pageX, pageY) {\r\n      var row = this._getRowForPagePos(pageX, pageY);\r\n\r\n      if (row != -1 && row != null) {\r\n        // The pointer is over the data -> update the focus\r\n        var col = this._getColumnForPageX(pageX);\r\n        this.__table.setFocusedCell(col, row);\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Sets the currently focused cell.\r\n     *\r\n     * @param col {Integer} the model index of the focused cell's column.\r\n     * @param row {Integer} the model index of the focused cell's row.\r\n     */\r\n    setFocusedCell(col, row) {\r\n      if (!this.isEditing()) {\r\n        this.__tablePane.setFocusedCell(col, row, this.__updateContentPlanned);\r\n\r\n        this.__focusedCol = col;\r\n        this.__focusedRow = row;\r\n\r\n        this._updateFocusIndicator();\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Returns the column of currently focused cell.\r\n     *\r\n     * @return {Integer} the model index of the focused cell's column.\r\n     */\r\n    getFocusedColumn() {\r\n      return this.__focusedCol;\r\n    },\r\n\r\n    /**\r\n     * Returns the row of currently focused cell.\r\n     *\r\n     * @return {Integer} the model index of the focused cell's column.\r\n     */\r\n    getFocusedRow() {\r\n      return this.__focusedRow;\r\n    },\r\n\r\n    /**\r\n     * Scrolls a cell visible.\r\n     *\r\n     * @param col {Integer} the model index of the column the cell belongs to.\r\n     * @param row {Integer} the model index of the row the cell belongs to.\r\n     */\r\n    scrollCellVisible(col, row) {\r\n      var paneModel = this.getTablePaneModel();\r\n      var xPos = paneModel.getX(col);\r\n\r\n      if (xPos != -1) {\r\n        var clipperSize = this._paneClipper.getInnerSize();\r\n        if (!clipperSize) {\r\n          return;\r\n        }\r\n\r\n        var columnModel = this.getTable().getTableColumnModel();\r\n\r\n        var colLeft = paneModel.getColumnLeft(col);\r\n        var colWidth = columnModel.getColumnWidth(col);\r\n        var rowHeight = this.getTable().getRowHeight();\r\n        var rowTop = row * rowHeight;\r\n\r\n        var scrollX = this.getScrollX();\r\n        var scrollY = this.getScrollY();\r\n\r\n        // NOTE: We don't use qx.lang.Number.limit, because min should win if max < min\r\n        var minScrollX = Math.min(\r\n          colLeft,\r\n          colLeft + colWidth - clipperSize.width\r\n        );\r\n\r\n        var maxScrollX = colLeft;\r\n        this.setScrollX(Math.max(minScrollX, Math.min(maxScrollX, scrollX)));\r\n\r\n        var minScrollY = rowTop + rowHeight - clipperSize.height;\r\n\r\n        if (this.getTable().getKeepFirstVisibleRowComplete()) {\r\n          minScrollY += rowHeight;\r\n        }\r\n\r\n        var maxScrollY = rowTop;\r\n        this.setScrollY(\r\n          Math.max(minScrollY, Math.min(maxScrollY, scrollY)),\r\n          true\r\n        );\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Returns whether currently a cell is editing.\r\n     *\r\n     * @return {var} whether currently a cell is editing.\r\n     */\r\n    isEditing() {\r\n      return this._cellEditor != null;\r\n    },\r\n\r\n    /**\r\n     * Starts editing the currently focused cell. Does nothing if already\r\n     * editing, if the column is not editable, or if the cell editor for the\r\n     * column ascertains that the particular cell is not editable.\r\n     *\r\n     * @return {Boolean} whether editing was started\r\n     */\r\n    startEditing() {\r\n      var table = this.getTable();\r\n      var tableModel = table.getTableModel();\r\n      var col = this.__focusedCol;\r\n\r\n      if (\r\n        !this.isEditing() &&\r\n        col != null &&\r\n        tableModel.isColumnEditable(col)\r\n      ) {\r\n        var row = this.__focusedRow;\r\n        var xPos = this.getTablePaneModel().getX(col);\r\n        var value = tableModel.getValue(col, row);\r\n\r\n        // scroll cell into view\r\n        this.scrollCellVisible(col, row);\r\n\r\n        this.__cellEditorFactory = table\r\n          .getTableColumnModel()\r\n          .getCellEditorFactory(col);\r\n\r\n        var cellInfo = {\r\n          col: col,\r\n          row: row,\r\n          xPos: xPos,\r\n          value: value,\r\n          table: table\r\n        };\r\n\r\n        // Get a cell editor\r\n        this._cellEditor = this.__cellEditorFactory.createCellEditor(cellInfo);\r\n\r\n        // We handle two types of cell editors: the traditional in-place\r\n        // editor, where the cell editor returned by the factory must fit in\r\n        // the space of the table cell; and a modal window in which the\r\n        // editing takes place.  Additionally, if the cell editor determines\r\n        // that it does not want to edit the particular cell being requested,\r\n        // it may return null to indicate that that cell is not editable.\r\n        if (this._cellEditor === null) {\r\n          // This cell is not editable even though its column is.\r\n          return false;\r\n        } else if (this._cellEditor instanceof qx.ui.window.Window) {\r\n          // It's a window.  Ensure that it's modal.\r\n          this._cellEditor.setModal(true);\r\n\r\n          // At least for the time being, we disallow the close button.  It\r\n          // acts differently than a cellEditor.close(), and invokes a bug\r\n          // someplace.  Modal window cell editors should provide their own\r\n          // buttons or means to activate a cellEditor.close() or equivalently\r\n          // cellEditor.hide().\r\n          this._cellEditor.setShowClose(false);\r\n\r\n          // Arrange to be notified when it is closed.\r\n          this._cellEditor.addListener(\r\n            \"close\",\r\n            this._onCellEditorModalWindowClose,\r\n            this\r\n          );\r\n\r\n          // If there's a pre-open function defined for the table...\r\n          var f = table.getModalCellEditorPreOpenFunction();\r\n          if (f != null) {\r\n            f(this._cellEditor, cellInfo);\r\n          }\r\n\r\n          // Open it now.\r\n          this._cellEditor.open();\r\n        } else {\r\n          // prevent tap event from bubbling up to the table\r\n          this.__focusIndicatorPointerDownListener =\r\n            this.__focusIndicator.addListener(\"pointerdown\", e => {\r\n              this.__lastPointerDownCell = {\r\n                row: this.__focusedRow,\r\n                col: this.__focusedCol\r\n              };\r\n\r\n              e.stopPropagation();\r\n            });\r\n\r\n          this._updateFocusIndicator(true);\r\n          this.__focusIndicator.add(this._cellEditor);\r\n          this.__focusIndicator.addState(\"editing\");\r\n          this.__focusIndicator.setKeepActive(false);\r\n\r\n          // Make the focus indicator visible during editing\r\n          this.__focusIndicator.setDecorator(\"table-scroller-focus-indicator\");\r\n\r\n          this._cellEditor.focus();\r\n          this._cellEditor.activate();\r\n        }\r\n\r\n        return true;\r\n      }\r\n\r\n      return false;\r\n    },\r\n\r\n    /**\r\n     * Stops editing and writes the editor's value to the model.\r\n     */\r\n    stopEditing() {\r\n      // If the focus indicator is not being shown normally...\r\n      if (!this.getShowCellFocusIndicator()) {\r\n        // ... then hide it again\r\n        this.__focusIndicator.setDecorator(null);\r\n      }\r\n\r\n      this.flushEditor(true);\r\n    },\r\n\r\n    /**\r\n     * Writes the editor's value to the model\r\n     *\r\n     * @param cancel {Boolean ? false} Whether to also cancel\r\n     *      editing before firing the 'dateEdited' event.\r\n     */\r\n    flushEditor(cancel) {\r\n      if (this.isEditing()) {\r\n        var value = this.__cellEditorFactory.getCellEditorValue(\r\n          this._cellEditor\r\n        );\r\n\r\n        var oldValue = this.getTable()\r\n          .getTableModel()\r\n          .getValue(this.__focusedCol, this.__focusedRow);\r\n        this.getTable()\r\n          .getTableModel()\r\n          .setValue(this.__focusedCol, this.__focusedRow, value);\r\n\r\n        this.__table.focus();\r\n\r\n        if (cancel) {\r\n          this.cancelEditing();\r\n        }\r\n\r\n        // Fire an event containing the value change.\r\n        this.__table.fireDataEvent(\"dataEdited\", {\r\n          row: this.__focusedRow,\r\n          col: this.__focusedCol,\r\n          oldValue: oldValue,\r\n          value: value\r\n        });\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Stops editing without writing the editor's value to the model.\r\n     */\r\n    cancelEditing() {\r\n      if (this.isEditing()) {\r\n        if (!(this._cellEditor instanceof qx.ui.window.Window)) {\r\n          this.__focusIndicator.removeState(\"editing\");\r\n          this.__focusIndicator.setKeepActive(true);\r\n\r\n          if (this.__focusIndicatorPointerDownListener !== null) {\r\n            this.__focusIndicator.removeListenerById(\r\n              this.__focusIndicatorPointerDownListener\r\n            );\r\n\r\n            this.__focusIndicatorPointerDownListener = null;\r\n          }\r\n          this._updateFocusIndicator();\r\n        }\r\n        this._cellEditor.destroy();\r\n        this._cellEditor = null;\r\n        this.__cellEditorFactory = null;\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Event handler. Called when the modal window of the cell editor closes.\r\n     *\r\n     * @param e {Map} the event.\r\n     */\r\n    _onCellEditorModalWindowClose(e) {\r\n      this.stopEditing();\r\n    },\r\n\r\n    /**\r\n     * Returns the model index of the column the pointer is over or null if the pointer\r\n     * is not over a column.\r\n     *\r\n     * @param pageX {Integer} the x position of the pointer in the page (in pixels).\r\n     * @return {Integer} the model index of the column the pointer is over.\r\n     */\r\n    _getColumnForPageX(pageX) {\r\n      var columnModel = this.getTable().getTableColumnModel();\r\n      var paneModel = this.getTablePaneModel();\r\n      var colCount = paneModel.getColumnCount();\r\n      var currX = this.__tablePane.getContentLocation().left;\r\n\r\n      for (var x = 0; x < colCount; x++) {\r\n        var col = paneModel.getColumnAtX(x);\r\n        var colWidth = columnModel.getColumnWidth(col);\r\n        currX += colWidth;\r\n\r\n        if (pageX < currX) {\r\n          return col;\r\n        }\r\n      }\r\n\r\n      return null;\r\n    },\r\n\r\n    /**\r\n     * Returns the model index of the column that should be resized when dragging\r\n     * starts here. Returns -1 if the pointer is in no resize region of any column.\r\n     *\r\n     * @param pageX {Integer} the x position of the pointer in the page (in pixels).\r\n     * @return {Integer} the column index.\r\n     */\r\n    _getResizeColumnForPageX(pageX) {\r\n      var contentLocation =\r\n        this.__header.getContentLocation() ||\r\n        this.__tablePane.getContentLocation();\r\n      if (contentLocation) {\r\n        var currX = contentLocation.left;\r\n        var columnModel = this.getTable().getTableColumnModel();\r\n        var paneModel = this.getTablePaneModel();\r\n        var colCount = paneModel.getColumnCount();\r\n        var regionRadius = qx.ui.table.pane.Scroller.RESIZE_REGION_RADIUS;\r\n\r\n        for (var x = 0; x < colCount; x++) {\r\n          var col = paneModel.getColumnAtX(x);\r\n          var colWidth = columnModel.getColumnWidth(col);\r\n          currX += colWidth;\r\n\r\n          if (pageX >= currX - regionRadius && pageX <= currX + regionRadius) {\r\n            return col;\r\n          }\r\n        }\r\n      }\r\n\r\n      return -1;\r\n    },\r\n\r\n    /**\r\n     * Returns the model index of the row the pointer is currently over. Returns -1 if\r\n     * the pointer is over the header. Returns null if the pointer is not over any\r\n     * column.\r\n     *\r\n     * @param pageX {Integer} the pointer x position in the page.\r\n     * @param pageY {Integer} the pointer y position in the page.\r\n     * @return {Integer} the model index of the row the pointer is currently over.\r\n     */\r\n    _getRowForPagePos(pageX, pageY) {\r\n      var panePos = this.__tablePane.getContentLocation();\r\n\r\n      if (panePos === null || pageX < panePos.left || pageX > panePos.right) {\r\n        // There was no cell or header cell hit\r\n        return null;\r\n      }\r\n\r\n      if (pageY >= panePos.top && pageY <= panePos.bottom) {\r\n        // This event is in the pane -> Get the row\r\n        var rowHeight = this.__tablePane.getRenderedRowHeight();\r\n\r\n        var scrollY = this.__verScrollBar.getPosition();\r\n\r\n        if (this.getTable().getKeepFirstVisibleRowComplete()) {\r\n          scrollY =\r\n            Math.floor(scrollY / this.getTable().getRowHeight()) * rowHeight;\r\n        }\r\n\r\n        var tableY = scrollY + pageY - panePos.top;\r\n        var row = Math.floor(tableY / rowHeight);\r\n\r\n        var tableModel = this.getTable().getTableModel();\r\n        var rowCount = tableModel.getRowCount();\r\n\r\n        return row < rowCount ? row : null;\r\n      }\r\n\r\n      var headerPos = this.__header.getContentLocation();\r\n\r\n      if (\r\n        headerPos !== null &&\r\n        pageY >= headerPos.top &&\r\n        pageY <= headerPos.bottom &&\r\n        pageX <= headerPos.right\r\n      ) {\r\n        // This event is in the pane -> Return -1 for the header\r\n        return -1;\r\n      }\r\n\r\n      return null;\r\n    },\r\n\r\n    /**\r\n     * Sets the widget that should be shown in the top right corner.\r\n     *\r\n     * The widget will not be disposed, when this table scroller is disposed. So the\r\n     * caller has to dispose it.\r\n     *\r\n     * @param widget {qx.ui.core.Widget} The widget to set. May be null.\r\n     */\r\n    setTopRightWidget(widget) {\r\n      var oldWidget = this.__topRightWidget;\r\n\r\n      if (oldWidget != null) {\r\n        this.__top.remove(oldWidget);\r\n      }\r\n\r\n      if (widget != null) {\r\n        this.__top.add(widget);\r\n      }\r\n\r\n      this.__topRightWidget = widget;\r\n    },\r\n\r\n    /**\r\n     * Get the top right widget\r\n     *\r\n     * @return {qx.ui.core.Widget} The top right widget.\r\n     */\r\n    getTopRightWidget() {\r\n      return this.__topRightWidget;\r\n    },\r\n\r\n    /**\r\n     * Returns the header.\r\n     *\r\n     * @return {qx.ui.table.pane.Header} the header.\r\n     */\r\n    getHeader() {\r\n      return this.__header;\r\n    },\r\n\r\n    /**\r\n     * Returns the table pane.\r\n     *\r\n     * @return {qx.ui.table.pane.Pane} the table pane.\r\n     */\r\n    getTablePane() {\r\n      return this.__tablePane;\r\n    },\r\n\r\n    /**\r\n     * Get the rendered width of the vertical scroll bar. The return value is\r\n     * <code>0</code> if the scroll bar is invisible or not yet rendered.\r\n     *\r\n     * @internal\r\n     * @return {Integer} The width of the vertical scroll bar\r\n     */\r\n    getVerticalScrollBarWidth() {\r\n      var scrollBar = this.__verScrollBar;\r\n      return scrollBar.isVisible() ? scrollBar.getSizeHint().width || 0 : 0;\r\n    },\r\n\r\n    /**\r\n     * Returns which scrollbars are needed.\r\n     *\r\n     * @param forceHorizontal {Boolean ? false} Whether to show the horizontal\r\n     *      scrollbar always.\r\n     * @param preventVertical {Boolean ? false} Whether to show the vertical scrollbar\r\n     *      never.\r\n     * @return {Integer} which scrollbars are needed. This may be any combination of\r\n     *      {@link #HORIZONTAL_SCROLLBAR} or {@link #VERTICAL_SCROLLBAR}\r\n     *      (combined by OR).\r\n     */\r\n    getNeededScrollBars(forceHorizontal, preventVertical) {\r\n      var verScrollBar = this.__verScrollBar;\r\n      var verBarWidth =\r\n        verScrollBar.getSizeHint().width +\r\n        verScrollBar.getMarginLeft() +\r\n        verScrollBar.getMarginRight();\r\n\r\n      var horScrollBar = this.__horScrollBar;\r\n      var horBarHeight =\r\n        horScrollBar.getSizeHint().height +\r\n        horScrollBar.getMarginTop() +\r\n        horScrollBar.getMarginBottom();\r\n\r\n      // Get the width and height of the view (without scroll bars)\r\n      var clipperSize = this._paneClipper.getInnerSize();\r\n      var viewWidth = clipperSize ? clipperSize.width : 0;\r\n\r\n      if (this.getVerticalScrollBarVisible()) {\r\n        viewWidth += verBarWidth;\r\n      }\r\n\r\n      var viewHeight = clipperSize ? clipperSize.height : 0;\r\n\r\n      if (this.getHorizontalScrollBarVisible()) {\r\n        viewHeight += horBarHeight;\r\n      }\r\n\r\n      var tableModel = this.getTable().getTableModel();\r\n      var rowCount = tableModel.getRowCount();\r\n\r\n      // Get the (virtual) width and height of the pane\r\n      var paneWidth = this.getTablePaneModel().getTotalWidth();\r\n      var paneHeight = this.getTable().getRowHeight() * rowCount;\r\n\r\n      // Check which scrollbars are needed\r\n      var horNeeded = false;\r\n      var verNeeded = false;\r\n\r\n      if (paneWidth > viewWidth) {\r\n        horNeeded = true;\r\n\r\n        if (paneHeight > viewHeight - horBarHeight) {\r\n          verNeeded = true;\r\n        }\r\n      } else if (paneHeight > viewHeight) {\r\n        verNeeded = true;\r\n\r\n        if (!preventVertical && paneWidth > viewWidth - verBarWidth) {\r\n          horNeeded = true;\r\n        }\r\n      }\r\n\r\n      // Create the mask\r\n      var horBar = qx.ui.table.pane.Scroller.HORIZONTAL_SCROLLBAR;\r\n      var verBar = qx.ui.table.pane.Scroller.VERTICAL_SCROLLBAR;\r\n      return (\r\n        (forceHorizontal || horNeeded ? horBar : 0) |\r\n        (preventVertical || !verNeeded ? 0 : verBar)\r\n      );\r\n    },\r\n\r\n    /**\r\n     * Return the pane clipper. It is sometimes required for special activities\r\n     * such as tracking events for drag&drop.\r\n     *\r\n     * @return {qx.ui.table.pane.Clipper}\r\n     *   The pane clipper for this scroller.\r\n     */\r\n    getPaneClipper() {\r\n      return this._paneClipper;\r\n    },\r\n\r\n    /**\r\n     * Returns the scroll area container widget (which enables more precise\r\n     * operations e.g. bounds retrieval for drag session scrolling).\r\n     *\r\n     * @see qx.ui.core.MDragDropScrolling#_getBounds\r\n     * @return {qx.ui.table.pane.Clipper}\r\n     *   The pane clipper for this scroller.\r\n     */\r\n    getScrollAreaContainer() {\r\n      return this.getPaneClipper();\r\n    },\r\n\r\n    // property apply method\r\n    _applyScrollTimeout(value, old) {\r\n      this._startInterval(value);\r\n    },\r\n\r\n    /**\r\n     * Starts the current running interval\r\n     *\r\n     * @param timeout {Integer} The timeout between two table updates\r\n     */\r\n    _startInterval(timeout) {\r\n      this.__timer.setInterval(timeout);\r\n      this.__timer.start();\r\n    },\r\n\r\n    /**\r\n     * stops the current running interval\r\n     */\r\n    _stopInterval() {\r\n      this.__timer.stop();\r\n    },\r\n\r\n    /**\r\n     * Does a postponed update of the content.\r\n     *\r\n     * @see #_updateContent\r\n     */\r\n    _postponedUpdateContent() {\r\n      //this.__updateContentPlanned = true;\r\n      this._updateContent();\r\n    },\r\n\r\n    /**\r\n     * Timer event handler. Periodically checks whether a table update is\r\n     * required. The update interval is controlled by the {@link #scrollTimeout}\r\n     * property.\r\n     *\r\n     * @signature function()\r\n     */\r\n    _oninterval: qx.event.GlobalError.observeMethod(function () {\r\n      if (this.__updateContentPlanned && !this.__tablePane._layoutPending) {\r\n        this.__updateContentPlanned = false;\r\n        this._updateContent();\r\n      }\r\n    }),\r\n\r\n    /**\r\n     * Updates the content. Sets the right section the table pane should show and\r\n     * does the scrolling.\r\n     */\r\n    _updateContent() {\r\n      var paneSize = this._paneClipper.getInnerSize();\r\n      if (!paneSize) {\r\n        return;\r\n      }\r\n      var paneHeight = paneSize.height;\r\n\r\n      var scrollX = this.__horScrollBar.getPosition();\r\n      var scrollY = this.__verScrollBar.getPosition();\r\n      var rowHeight = this.getTable().getRowHeight();\r\n\r\n      var firstRow = Math.floor(scrollY / rowHeight);\r\n      var oldFirstRow = this.__tablePane.getFirstVisibleRow();\r\n      this.__tablePane.setFirstVisibleRow(firstRow);\r\n\r\n      var visibleRowCount = Math.ceil(paneHeight / rowHeight);\r\n      var paneOffset = 0;\r\n      var firstVisibleRowComplete =\r\n        this.getTable().getKeepFirstVisibleRowComplete();\r\n\r\n      if (!firstVisibleRowComplete) {\r\n        // NOTE: We don't consider paneOffset, because this may cause alternating\r\n        //       adding and deleting of one row when scrolling. Instead we add one row\r\n        //       in every case.\r\n        visibleRowCount++;\r\n\r\n        paneOffset = scrollY % rowHeight;\r\n      }\r\n\r\n      this.__tablePane.setVisibleRowCount(visibleRowCount);\r\n\r\n      if (firstRow != oldFirstRow) {\r\n        this._updateFocusIndicator();\r\n      }\r\n\r\n      this._paneClipper.scrollToX(scrollX);\r\n\r\n      // Avoid expensive calls to setScrollTop if\r\n      // scrolling is not needed\r\n      if (!firstVisibleRowComplete) {\r\n        this._paneClipper.scrollToY(paneOffset);\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Updates the location and the visibility of the focus indicator.\r\n     *\r\n     * @param editing {Boolean ? false} True if editing the cell\r\n     */\r\n    _updateFocusIndicator(editing) {\r\n      var table = this.getTable();\r\n\r\n      if (!table.getEnabled()) {\r\n        return;\r\n      }\r\n\r\n      this.__focusIndicator.moveToCell(\r\n        this.__focusedCol,\r\n        this.__focusedRow,\r\n        editing\r\n      );\r\n    }\r\n  },\r\n\r\n  /*\r\n  *****************************************************************************\r\n     DESTRUCTOR\r\n  *****************************************************************************\r\n  */\r\n\r\n  destruct() {\r\n    this._stopInterval();\r\n\r\n    // this object was created by the table on init so we have to clean it up.\r\n    var tablePaneModel = this.getTablePaneModel();\r\n    if (tablePaneModel) {\r\n      tablePaneModel.dispose();\r\n    }\r\n\r\n    this.__lastPointerDownCell = this.__topRightWidget = this.__table = null;\r\n    this._disposeObjects(\r\n      \"__horScrollBar\",\r\n      \"__verScrollBar\",\r\n      \"_headerClipper\",\r\n      \"_paneClipper\",\r\n      \"__focusIndicator\",\r\n      \"__header\",\r\n      \"__tablePane\",\r\n      \"__top\",\r\n      \"__timer\",\r\n      \"__clipperContainer\"\r\n    );\r\n  }\r\n});\r\n"
  ],
  "mappings": "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"
}