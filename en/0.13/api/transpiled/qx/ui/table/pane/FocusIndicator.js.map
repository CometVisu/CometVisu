{
  "version": 3,
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "extend",
    "ui",
    "container",
    "Composite",
    "construct",
    "scroller",
    "layout",
    "Grow",
    "__scroller",
    "setKeepActive",
    "addListener",
    "_onKeyPress",
    "properties",
    "visibility",
    "refine",
    "init",
    "row",
    "check",
    "nullable",
    "column",
    "members",
    "e",
    "iden",
    "getKeyIdentifier",
    "stopPropagation",
    "moveToCell",
    "col",
    "editing",
    "getShowCellFocusIndicator",
    "getTable",
    "getTableModel",
    "isColumnEditable",
    "exclude",
    "show",
    "hide",
    "setRow",
    "setColumn",
    "xPos",
    "getTablePaneModel",
    "getX",
    "table",
    "columnModel",
    "getTableColumnModel",
    "paneModel",
    "firstRow",
    "getTablePane",
    "getFirstVisibleRow",
    "rowHeight",
    "getRowHeight",
    "wt",
    "wr",
    "wb",
    "wl",
    "decoKey",
    "getDecorator",
    "deco",
    "theme",
    "manager",
    "Decoration",
    "getInstance",
    "resolve",
    "getWidthTop",
    "getWidthRight",
    "getWidthBottom",
    "getWidthLeft",
    "userHeight",
    "renderedRowHeight",
    "getRenderedRowHeight",
    "userTop",
    "Math",
    "floor",
    "getMinCellEditHeight",
    "setUserBounds",
    "getColumnLeft",
    "getColumnWidth",
    "destruct",
    "pane",
    "FocusIndicator"
  ],
  "sources": [
    "/home/runner/work/CometVisu/CometVisu/node_modules/@qooxdoo/framework/source/class/qx/ui/table/pane/FocusIndicator.js"
  ],
  "sourcesContent": [
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2006 STZ-IDA, Germany, http://www.stz-ida.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Fabian Jakobs (fjakobs)\n\n************************************************************************ */\n\n/**\n * The focus indicator widget\n */\nqx.Class.define(\"qx.ui.table.pane.FocusIndicator\", {\n  extend: qx.ui.container.Composite,\n\n  /**\n   * @param scroller {qx.ui.table.pane.Scroller} The scroller, which contains this focus indicator\n   */\n  construct(scroller) {\n    // use the grow layout to make sure that the editing control\n    // always fills the focus indicator box.\n    super(new qx.ui.layout.Grow());\n    this.__scroller = scroller;\n\n    this.setKeepActive(true);\n    this.addListener(\"keypress\", this._onKeyPress, this);\n  },\n\n  properties: {\n    // overridden\n    visibility: {\n      refine: true,\n      init: \"excluded\"\n    },\n\n    /** Table row, where the indicator is placed. */\n    row: {\n      check: \"Integer\",\n      nullable: true\n    },\n\n    /** Table column, where the indicator is placed. */\n    column: {\n      check: \"Integer\",\n      nullable: true\n    }\n  },\n\n  members: {\n    __scroller: null,\n\n    /**\n     * Keypress handler. Suppress all key events but \"Enter\" and \"Escape\"\n     *\n     * @param e {qx.event.type.KeySequence} key event\n     */\n    _onKeyPress(e) {\n      var iden = e.getKeyIdentifier();\n      if (iden !== \"Escape\" && iden !== \"Enter\") {\n        e.stopPropagation();\n      }\n    },\n\n    /**\n     * Move the focus indicator to the given table cell.\n     *\n     * @param col {Integer?null} The table column\n     * @param row {Integer?null} The table row\n     * @param editing {Boolean?null} Whether or not the cell is being edited\n     */\n    moveToCell(col, row, editing) {\n      // check if the focus indicator is shown and if the new column is\n      // editable. if not, just exclude the indicator because the pointer events\n      // should go to the cell itself linked with HTML links [BUG #4250]\n      if (\n        !this.__scroller.getShowCellFocusIndicator() &&\n        !this.__scroller.getTable().getTableModel().isColumnEditable(col)\n      ) {\n        this.exclude();\n        return;\n      } else {\n        this.show();\n      }\n\n      if (col == null) {\n        this.hide();\n        this.setRow(null);\n        this.setColumn(null);\n      } else {\n        var xPos = this.__scroller.getTablePaneModel().getX(col);\n\n        if (xPos === -1) {\n          this.hide();\n          this.setRow(null);\n          this.setColumn(null);\n        } else {\n          var table = this.__scroller.getTable();\n          var columnModel = table.getTableColumnModel();\n          var paneModel = this.__scroller.getTablePaneModel();\n\n          var firstRow = this.__scroller.getTablePane().getFirstVisibleRow();\n          var rowHeight = table.getRowHeight();\n          var wt = 0;\n          var wr = 0;\n          var wb = 0;\n          var wl = 0;\n          var decoKey = this.getDecorator();\n          if (decoKey) {\n            var deco =\n              qx.theme.manager.Decoration.getInstance().resolve(decoKey);\n            if (deco) {\n              wt = deco.getWidthTop();\n              wr = deco.getWidthRight();\n              wb = deco.getWidthBottom();\n              wl = deco.getWidthLeft();\n            }\n          }\n          var userHeight = rowHeight + (wt + wb - 2);\n          var renderedRowHeight = this.__scroller.getTablePane().getRenderedRowHeight();\n          var userTop = Math.floor((row - firstRow) * renderedRowHeight) - (wt - 1);\n          if (\n            editing &&\n            this.__scroller.getMinCellEditHeight() &&\n            this.__scroller.getMinCellEditHeight() > userHeight\n          ) {\n            userTop -= Math.floor(\n              (this.__scroller.getMinCellEditHeight() - userHeight) / 2\n            );\n\n            userHeight = this.__scroller.getMinCellEditHeight();\n          }\n\n          this.setUserBounds(\n            paneModel.getColumnLeft(col) - (wl - 1),\n            userTop,\n            columnModel.getColumnWidth(col) + (wl + wr - 3),\n            userHeight\n          );\n\n          this.show();\n          this.setRow(row);\n          this.setColumn(col);\n        }\n      }\n    }\n  },\n\n  destruct() {\n    this.__scroller = null;\n  }\n});\n"
  ],
  "mappings": "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"
}