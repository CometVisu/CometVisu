{
  "version": 3,
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "extend",
    "ui",
    "container",
    "Composite",
    "construct",
    "scroller",
    "constructor",
    "call",
    "layout",
    "Grow",
    "__scroller",
    "setKeepActive",
    "addListener",
    "_onKeyPress",
    "properties",
    "visibility",
    "refine",
    "init",
    "row",
    "check",
    "nullable",
    "column",
    "members",
    "e",
    "iden",
    "getKeyIdentifier",
    "stopPropagation",
    "moveToCell",
    "col",
    "editing",
    "getShowCellFocusIndicator",
    "getTable",
    "getTableModel",
    "isColumnEditable",
    "exclude",
    "show",
    "hide",
    "setRow",
    "setColumn",
    "xPos",
    "getTablePaneModel",
    "getX",
    "table",
    "columnModel",
    "getTableColumnModel",
    "paneModel",
    "firstRow",
    "getTablePane",
    "getFirstVisibleRow",
    "rowHeight",
    "getRowHeight",
    "wt",
    "wr",
    "wb",
    "wl",
    "decoKey",
    "getDecorator",
    "deco",
    "theme",
    "manager",
    "Decoration",
    "getInstance",
    "resolve",
    "getWidthTop",
    "getWidthRight",
    "getWidthBottom",
    "getWidthLeft",
    "userHeight",
    "renderedRowHeight",
    "getRenderedRowHeight",
    "userTop",
    "Math",
    "floor",
    "getMinCellEditHeight",
    "setUserBounds",
    "getColumnLeft",
    "getColumnWidth",
    "destruct",
    "pane",
    "FocusIndicator"
  ],
  "sources": [
    "/home/runner/work/CometVisu/CometVisu/node_modules/@qooxdoo/framework/source/class/qx/ui/table/pane/FocusIndicator.js"
  ],
  "sourcesContent": [
    "/* ************************************************************************\r\n\r\n   qooxdoo - the new era of web development\r\n\r\n   http://qooxdoo.org\r\n\r\n   Copyright:\r\n     2006 STZ-IDA, Germany, http://www.stz-ida.de\r\n\r\n   License:\r\n     MIT: https://opensource.org/licenses/MIT\r\n     See the LICENSE file in the project's top-level directory for details.\r\n\r\n   Authors:\r\n     * Fabian Jakobs (fjakobs)\r\n\r\n************************************************************************ */\r\n\r\n/**\r\n * The focus indicator widget\r\n */\r\nqx.Class.define(\"qx.ui.table.pane.FocusIndicator\", {\r\n  extend: qx.ui.container.Composite,\r\n\r\n  /**\r\n   * @param scroller {qx.ui.table.pane.Scroller} The scroller, which contains this focus indicator\r\n   */\r\n  construct(scroller) {\r\n    // use the grow layout to make sure that the editing control\r\n    // always fills the focus indicator box.\r\n    super(new qx.ui.layout.Grow());\r\n    this.__scroller = scroller;\r\n\r\n    this.setKeepActive(true);\r\n    this.addListener(\"keypress\", this._onKeyPress, this);\r\n  },\r\n\r\n  properties: {\r\n    // overridden\r\n    visibility: {\r\n      refine: true,\r\n      init: \"excluded\"\r\n    },\r\n\r\n    /** Table row, where the indicator is placed. */\r\n    row: {\r\n      check: \"Integer\",\r\n      nullable: true\r\n    },\r\n\r\n    /** Table column, where the indicator is placed. */\r\n    column: {\r\n      check: \"Integer\",\r\n      nullable: true\r\n    }\r\n  },\r\n\r\n  members: {\r\n    __scroller: null,\r\n\r\n    /**\r\n     * Keypress handler. Suppress all key events but \"Enter\" and \"Escape\"\r\n     *\r\n     * @param e {qx.event.type.KeySequence} key event\r\n     */\r\n    _onKeyPress(e) {\r\n      var iden = e.getKeyIdentifier();\r\n      if (iden !== \"Escape\" && iden !== \"Enter\") {\r\n        e.stopPropagation();\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Move the focus indicator to the given table cell.\r\n     *\r\n     * @param col {Integer?null} The table column\r\n     * @param row {Integer?null} The table row\r\n     * @param editing {Boolean?null} Whether or not the cell is being edited\r\n     */\r\n    moveToCell(col, row, editing) {\r\n      // check if the focus indicator is shown and if the new column is\r\n      // editable. if not, just exclude the indicator because the pointer events\r\n      // should go to the cell itself linked with HTML links [BUG #4250]\r\n      if (\r\n        !this.__scroller.getShowCellFocusIndicator() &&\r\n        !this.__scroller.getTable().getTableModel().isColumnEditable(col)\r\n      ) {\r\n        this.exclude();\r\n        return;\r\n      } else {\r\n        this.show();\r\n      }\r\n\r\n      if (col == null) {\r\n        this.hide();\r\n        this.setRow(null);\r\n        this.setColumn(null);\r\n      } else {\r\n        var xPos = this.__scroller.getTablePaneModel().getX(col);\r\n\r\n        if (xPos === -1) {\r\n          this.hide();\r\n          this.setRow(null);\r\n          this.setColumn(null);\r\n        } else {\r\n          var table = this.__scroller.getTable();\r\n          var columnModel = table.getTableColumnModel();\r\n          var paneModel = this.__scroller.getTablePaneModel();\r\n\r\n          var firstRow = this.__scroller.getTablePane().getFirstVisibleRow();\r\n          var rowHeight = table.getRowHeight();\r\n          var wt = 0;\r\n          var wr = 0;\r\n          var wb = 0;\r\n          var wl = 0;\r\n          var decoKey = this.getDecorator();\r\n          if (decoKey) {\r\n            var deco =\r\n              qx.theme.manager.Decoration.getInstance().resolve(decoKey);\r\n            if (deco) {\r\n              wt = deco.getWidthTop();\r\n              wr = deco.getWidthRight();\r\n              wb = deco.getWidthBottom();\r\n              wl = deco.getWidthLeft();\r\n            }\r\n          }\r\n          var userHeight = rowHeight + (wt + wb - 2);\r\n          var renderedRowHeight = this.__scroller.getTablePane().getRenderedRowHeight();\r\n          var userTop = Math.floor((row - firstRow) * renderedRowHeight) - (wt - 1);\r\n          if (\r\n            editing &&\r\n            this.__scroller.getMinCellEditHeight() &&\r\n            this.__scroller.getMinCellEditHeight() > userHeight\r\n          ) {\r\n            userTop -= Math.floor(\r\n              (this.__scroller.getMinCellEditHeight() - userHeight) / 2\r\n            );\r\n\r\n            userHeight = this.__scroller.getMinCellEditHeight();\r\n          }\r\n\r\n          this.setUserBounds(\r\n            paneModel.getColumnLeft(col) - (wl - 1),\r\n            userTop,\r\n            columnModel.getColumnWidth(col) + (wl + wr - 3),\r\n            userHeight\r\n          );\r\n\r\n          this.show();\r\n          this.setRow(row);\r\n          this.setColumn(col);\r\n        }\r\n      }\r\n    }\r\n  },\r\n\r\n  destruct() {\r\n    this.__scroller = null;\r\n  }\r\n});\r\n"
  ],
  "mappings": "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"
}