{
  "version": 3,
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "extend",
    "core",
    "Object",
    "implement",
    "ui",
    "virtual",
    "IWidgetCellProvider",
    "tree",
    "provider",
    "IVirtualTreeProvider",
    "include",
    "MWidgetController",
    "construct",
    "constructor",
    "call",
    "_tree",
    "addListener",
    "_onChangeDelegate",
    "members",
    "_renderer",
    "getCellWidget",
    "row",
    "column",
    "item",
    "getLookupTable",
    "getItem",
    "hasChildren",
    "isNode",
    "widget",
    "setOpen",
    "isNodeOpen",
    "__onOpenChanged",
    "setUserData",
    "getChildProperty",
    "isShowLeafs",
    "getSelection",
    "contains",
    "_styleSelectabled",
    "_styleUnselectabled",
    "level",
    "getLevel",
    "isShowTopLevelOpenCloseIcons",
    "setOpenSymbolMode",
    "getOpenProperty",
    "setModel",
    "_bindItem",
    "queue",
    "Widget",
    "add",
    "poolCellWidget",
    "removeListener",
    "_removeBindingsFrom",
    "pool",
    "_onPool",
    "createLayer",
    "layer",
    "WidgetCell",
    "createRenderer",
    "createItem",
    "util",
    "Delegate",
    "getMethod",
    "getDelegate",
    "VirtualTreeItem",
    "renderer",
    "cell",
    "setDelegate",
    "createWidget",
    "styleSelectabled",
    "_layer",
    "getRenderedCellWidget",
    "styleUnselectabled",
    "isSelectable",
    "isEnabled",
    "updateStates",
    "selected",
    "onPool",
    "_onItemCreated",
    "event",
    "configureItem",
    "leaf",
    "getData",
    "dispose",
    "removeBindings",
    "__P_474_0",
    "getTarget",
    "getUserData",
    "openNodeWithoutScrolling",
    "closeNodeWithoutScrolling",
    "destruct",
    "WidgetProvider"
  ],
  "sources": [
    "/home/runner/work/CometVisu/CometVisu/node_modules/@qooxdoo/framework/source/class/qx/ui/tree/provider/WidgetProvider.js"
  ],
  "sourcesContent": [
    "/* ************************************************************************\r\n\r\n   qooxdoo - the new era of web development\r\n\r\n   http://qooxdoo.org\r\n\r\n   Copyright:\r\n     2004-2011 1&1 Internet AG, Germany, http://www.1und1.de\r\n\r\n   License:\r\n     MIT: https://opensource.org/licenses/MIT\r\n     See the LICENSE file in the project's top-level directory for details.\r\n\r\n   Authors:\r\n     * Christian Hagendorn (chris_schmidt)\r\n\r\n************************************************************************ */\r\n\r\n/**\r\n * The provider implements the {@link qx.ui.virtual.core.IWidgetCellProvider}\r\n * API, which can be used as delegate for the widget cell rendering and it\r\n * provides a API to bind the model with the rendered item.\r\n *\r\n * @internal\r\n */\r\nqx.Class.define(\"qx.ui.tree.provider.WidgetProvider\", {\r\n  extend: qx.core.Object,\r\n\r\n  implement: [\r\n    qx.ui.virtual.core.IWidgetCellProvider,\r\n    qx.ui.tree.provider.IVirtualTreeProvider\r\n  ],\r\n\r\n  include: [qx.ui.tree.core.MWidgetController],\r\n\r\n  /**\r\n   * @param tree {qx.ui.tree.VirtualTree} tree to provide.\r\n   */\r\n  construct(tree) {\r\n    super();\r\n\r\n    this._tree = tree;\r\n\r\n    this.addListener(\"changeDelegate\", this._onChangeDelegate, this);\r\n    this._onChangeDelegate();\r\n  },\r\n\r\n  members: {\r\n    /** @type {qx.ui.tree.VirtualTree} tree to provide. */\r\n    _tree: null,\r\n\r\n    /** @type {qx.ui.virtual.cell.WidgetCell} the used item renderer. */\r\n    _renderer: null,\r\n\r\n    /*\r\n    ---------------------------------------------------------------------------\r\n      PUBLIC API\r\n    ---------------------------------------------------------------------------\r\n    */\r\n\r\n    // interface implementation\r\n    getCellWidget(row, column) {\r\n      var item = this._tree.getLookupTable().getItem(row);\r\n\r\n      var hasChildren = false;\r\n      if (this._tree.isNode(item)) {\r\n        hasChildren = this._tree.hasChildren(item);\r\n      }\r\n\r\n      var widget = this._renderer.getCellWidget();\r\n      widget.setOpen(hasChildren && this._tree.isNodeOpen(item));\r\n      widget.addListener(\"changeOpen\", this.__onOpenChanged, this);\r\n      widget.setUserData(\"cell.childProperty\", this.getChildProperty());\r\n      widget.setUserData(\"cell.showLeafs\", this._tree.isShowLeafs());\r\n\r\n      if (this._tree.getSelection().contains(item)) {\r\n        this._styleSelectabled(widget);\r\n      } else {\r\n        this._styleUnselectabled(widget);\r\n      }\r\n\r\n      var level = this._tree.getLevel(row);\r\n      if (!this._tree.isShowTopLevelOpenCloseIcons()) {\r\n        level -= 1;\r\n      }\r\n      widget.setUserData(\"cell.level\", level);\r\n\r\n      if (!this._tree.isShowTopLevelOpenCloseIcons() && level == -1) {\r\n        widget.setOpenSymbolMode(\"never\");\r\n      } else {\r\n        widget.setOpenSymbolMode(\"auto\");\r\n      }\r\n\r\n      if (this._tree.getOpenProperty()) {\r\n        widget.setModel(item);\r\n      }\r\n\r\n      this._bindItem(widget, row);\r\n      qx.ui.core.queue.Widget.add(widget);\r\n\r\n      return widget;\r\n    },\r\n\r\n    // interface implementation\r\n    poolCellWidget(widget) {\r\n      widget.removeListener(\"changeOpen\", this.__onOpenChanged, this);\r\n      this._removeBindingsFrom(widget);\r\n      this._renderer.pool(widget);\r\n      this._onPool(widget);\r\n    },\r\n\r\n    // Interface implementation\r\n    createLayer() {\r\n      return new qx.ui.virtual.layer.WidgetCell(this);\r\n    },\r\n\r\n    // Interface implementation\r\n    createRenderer() {\r\n      var createItem = qx.util.Delegate.getMethod(\r\n        this.getDelegate(),\r\n        \"createItem\"\r\n      );\r\n\r\n      if (createItem == null) {\r\n        createItem = function () {\r\n          return new qx.ui.tree.VirtualTreeItem();\r\n        };\r\n      }\r\n\r\n      var renderer = new qx.ui.virtual.cell.WidgetCell();\r\n      renderer.setDelegate({\r\n        createWidget: createItem\r\n      });\r\n\r\n      return renderer;\r\n    },\r\n\r\n    // interface implementation\r\n    styleSelectabled(row) {\r\n      var widget = this._tree._layer.getRenderedCellWidget(row, 0);\r\n      this._styleSelectabled(widget);\r\n    },\r\n\r\n    // interface implementation\r\n    styleUnselectabled(row) {\r\n      var widget = this._tree._layer.getRenderedCellWidget(row, 0);\r\n      this._styleUnselectabled(widget);\r\n    },\r\n\r\n    // interface implementation\r\n    isSelectable(row) {\r\n      var widget = this._tree._layer.getRenderedCellWidget(row, 0);\r\n      if (widget != null) {\r\n        return widget.isEnabled();\r\n      } else {\r\n        return true;\r\n      }\r\n    },\r\n\r\n    /*\r\n    ---------------------------------------------------------------------------\r\n      INTERNAL API\r\n    ---------------------------------------------------------------------------\r\n    */\r\n\r\n    /**\r\n     * Styles a selected item.\r\n     *\r\n     * @param widget {qx.ui.core.Widget} widget to style.\r\n     */\r\n    _styleSelectabled(widget) {\r\n      if (widget == null) {\r\n        return;\r\n      }\r\n\r\n      this._renderer.updateStates(widget, { selected: 1 });\r\n    },\r\n\r\n    /**\r\n     * Styles a not selected item.\r\n     *\r\n     * @param widget {qx.ui.core.Widget} widget to style.\r\n     */\r\n    _styleUnselectabled(widget) {\r\n      if (widget == null) {\r\n        return;\r\n      }\r\n\r\n      this._renderer.updateStates(widget, {});\r\n    },\r\n\r\n    /**\r\n     * Calls the delegate <code>onPool</code> method when it is used in the\r\n     * {@link #delegate} property.\r\n     *\r\n     * @param item {qx.ui.core.Widget} Item to modify.\r\n     */\r\n    _onPool(item) {\r\n      var onPool = qx.util.Delegate.getMethod(this.getDelegate(), \"onPool\");\r\n\r\n      if (onPool != null) {\r\n        onPool(item);\r\n      }\r\n    },\r\n\r\n    /*\r\n    ---------------------------------------------------------------------------\r\n      EVENT HANDLERS\r\n    ---------------------------------------------------------------------------\r\n    */\r\n\r\n    /**\r\n     * Event handler for the created item's.\r\n     *\r\n     * @param event {qx.event.type.Data} fired event.\r\n     */\r\n    _onItemCreated(event) {\r\n      var configureItem = qx.util.Delegate.getMethod(\r\n        this.getDelegate(),\r\n        \"configureItem\"\r\n      );\r\n\r\n      if (configureItem != null) {\r\n        var leaf = event.getData();\r\n        configureItem(leaf);\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Event handler for the change delegate event.\r\n     *\r\n     * @param event {qx.event.type.Data} fired event.\r\n     */\r\n    _onChangeDelegate(event) {\r\n      if (this._renderer != null) {\r\n        this._renderer.dispose();\r\n        this.removeBindings();\r\n      }\r\n\r\n      this._renderer = this.createRenderer();\r\n      this._renderer.addListener(\"created\", this._onItemCreated, this);\r\n    },\r\n\r\n    /**\r\n     * Handler when a node changes opened or closed state.\r\n     *\r\n     * @param event {qx.event.type.Data} The data event.\r\n     */\r\n    __onOpenChanged(event) {\r\n      var widget = event.getTarget();\r\n\r\n      var row = widget.getUserData(\"cell.row\");\r\n      var item = this._tree.getLookupTable().getItem(row);\r\n\r\n      if (event.getData()) {\r\n        this._tree.openNodeWithoutScrolling(item);\r\n      } else {\r\n        this._tree.closeNodeWithoutScrolling(item);\r\n      }\r\n    }\r\n  },\r\n\r\n  destruct() {\r\n    this.removeBindings();\r\n    this._renderer.dispose();\r\n    this._tree = this._renderer = null;\r\n  }\r\n});\r\n"
  ],
  "mappings": "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"
}