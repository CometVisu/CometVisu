{
  "version": 3,
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "extend",
    "core",
    "Object",
    "implement",
    "ui",
    "virtual",
    "IWidgetCellProvider",
    "tree",
    "provider",
    "IVirtualTreeProvider",
    "include",
    "MWidgetController",
    "construct",
    "_tree",
    "addListener",
    "_onChangeDelegate",
    "members",
    "_renderer",
    "getCellWidget",
    "row",
    "column",
    "item",
    "getLookupTable",
    "getItem",
    "hasChildren",
    "isNode",
    "widget",
    "setOpen",
    "isNodeOpen",
    "__onOpenChanged",
    "setUserData",
    "getChildProperty",
    "isShowLeafs",
    "getSelection",
    "contains",
    "_styleSelectabled",
    "_styleUnselectabled",
    "level",
    "getLevel",
    "isShowTopLevelOpenCloseIcons",
    "setOpenSymbolMode",
    "getOpenProperty",
    "setModel",
    "_bindItem",
    "queue",
    "Widget",
    "add",
    "poolCellWidget",
    "removeListener",
    "_removeBindingsFrom",
    "pool",
    "_onPool",
    "createLayer",
    "layer",
    "WidgetCell",
    "createRenderer",
    "createItem",
    "util",
    "Delegate",
    "getMethod",
    "getDelegate",
    "VirtualTreeItem",
    "renderer",
    "cell",
    "setDelegate",
    "createWidget",
    "styleSelectabled",
    "_layer",
    "getRenderedCellWidget",
    "styleUnselectabled",
    "isSelectable",
    "isEnabled",
    "updateStates",
    "selected",
    "onPool",
    "_onItemCreated",
    "event",
    "configureItem",
    "leaf",
    "getData",
    "dispose",
    "removeBindings",
    "getTarget",
    "getUserData",
    "openNodeWithoutScrolling",
    "closeNodeWithoutScrolling",
    "destruct",
    "WidgetProvider"
  ],
  "sources": [
    "/home/runner/work/CometVisu/CometVisu/node_modules/@qooxdoo/framework/source/class/qx/ui/tree/provider/WidgetProvider.js"
  ],
  "sourcesContent": [
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2011 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Christian Hagendorn (chris_schmidt)\n\n************************************************************************ */\n\n/**\n * The provider implements the {@link qx.ui.virtual.core.IWidgetCellProvider}\n * API, which can be used as delegate for the widget cell rendering and it\n * provides a API to bind the model with the rendered item.\n *\n * @internal\n */\nqx.Class.define(\"qx.ui.tree.provider.WidgetProvider\", {\n  extend: qx.core.Object,\n\n  implement: [\n    qx.ui.virtual.core.IWidgetCellProvider,\n    qx.ui.tree.provider.IVirtualTreeProvider\n  ],\n\n  include: [qx.ui.tree.core.MWidgetController],\n\n  /**\n   * @param tree {qx.ui.tree.VirtualTree} tree to provide.\n   */\n  construct(tree) {\n    super();\n\n    this._tree = tree;\n\n    this.addListener(\"changeDelegate\", this._onChangeDelegate, this);\n    this._onChangeDelegate();\n  },\n\n  members: {\n    /** @type {qx.ui.tree.VirtualTree} tree to provide. */\n    _tree: null,\n\n    /** @type {qx.ui.virtual.cell.WidgetCell} the used item renderer. */\n    _renderer: null,\n\n    /*\n    ---------------------------------------------------------------------------\n      PUBLIC API\n    ---------------------------------------------------------------------------\n    */\n\n    // interface implementation\n    getCellWidget(row, column) {\n      var item = this._tree.getLookupTable().getItem(row);\n\n      var hasChildren = false;\n      if (this._tree.isNode(item)) {\n        hasChildren = this._tree.hasChildren(item);\n      }\n\n      var widget = this._renderer.getCellWidget();\n      widget.setOpen(hasChildren && this._tree.isNodeOpen(item));\n      widget.addListener(\"changeOpen\", this.__onOpenChanged, this);\n      widget.setUserData(\"cell.childProperty\", this.getChildProperty());\n      widget.setUserData(\"cell.showLeafs\", this._tree.isShowLeafs());\n\n      if (this._tree.getSelection().contains(item)) {\n        this._styleSelectabled(widget);\n      } else {\n        this._styleUnselectabled(widget);\n      }\n\n      var level = this._tree.getLevel(row);\n      if (!this._tree.isShowTopLevelOpenCloseIcons()) {\n        level -= 1;\n      }\n      widget.setUserData(\"cell.level\", level);\n\n      if (!this._tree.isShowTopLevelOpenCloseIcons() && level == -1) {\n        widget.setOpenSymbolMode(\"never\");\n      } else {\n        widget.setOpenSymbolMode(\"auto\");\n      }\n\n      if (this._tree.getOpenProperty()) {\n        widget.setModel(item);\n      }\n\n      this._bindItem(widget, row);\n      qx.ui.core.queue.Widget.add(widget);\n\n      return widget;\n    },\n\n    // interface implementation\n    poolCellWidget(widget) {\n      widget.removeListener(\"changeOpen\", this.__onOpenChanged, this);\n      this._removeBindingsFrom(widget);\n      this._renderer.pool(widget);\n      this._onPool(widget);\n    },\n\n    // Interface implementation\n    createLayer() {\n      return new qx.ui.virtual.layer.WidgetCell(this);\n    },\n\n    // Interface implementation\n    createRenderer() {\n      var createItem = qx.util.Delegate.getMethod(\n        this.getDelegate(),\n        \"createItem\"\n      );\n\n      if (createItem == null) {\n        createItem = function () {\n          return new qx.ui.tree.VirtualTreeItem();\n        };\n      }\n\n      var renderer = new qx.ui.virtual.cell.WidgetCell();\n      renderer.setDelegate({\n        createWidget: createItem\n      });\n\n      return renderer;\n    },\n\n    // interface implementation\n    styleSelectabled(row) {\n      var widget = this._tree._layer.getRenderedCellWidget(row, 0);\n      this._styleSelectabled(widget);\n    },\n\n    // interface implementation\n    styleUnselectabled(row) {\n      var widget = this._tree._layer.getRenderedCellWidget(row, 0);\n      this._styleUnselectabled(widget);\n    },\n\n    // interface implementation\n    isSelectable(row) {\n      var widget = this._tree._layer.getRenderedCellWidget(row, 0);\n      if (widget != null) {\n        return widget.isEnabled();\n      } else {\n        return true;\n      }\n    },\n\n    /*\n    ---------------------------------------------------------------------------\n      INTERNAL API\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Styles a selected item.\n     *\n     * @param widget {qx.ui.core.Widget} widget to style.\n     */\n    _styleSelectabled(widget) {\n      if (widget == null) {\n        return;\n      }\n\n      this._renderer.updateStates(widget, { selected: 1 });\n    },\n\n    /**\n     * Styles a not selected item.\n     *\n     * @param widget {qx.ui.core.Widget} widget to style.\n     */\n    _styleUnselectabled(widget) {\n      if (widget == null) {\n        return;\n      }\n\n      this._renderer.updateStates(widget, {});\n    },\n\n    /**\n     * Calls the delegate <code>onPool</code> method when it is used in the\n     * {@link #delegate} property.\n     *\n     * @param item {qx.ui.core.Widget} Item to modify.\n     */\n    _onPool(item) {\n      var onPool = qx.util.Delegate.getMethod(this.getDelegate(), \"onPool\");\n\n      if (onPool != null) {\n        onPool(item);\n      }\n    },\n\n    /*\n    ---------------------------------------------------------------------------\n      EVENT HANDLERS\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Event handler for the created item's.\n     *\n     * @param event {qx.event.type.Data} fired event.\n     */\n    _onItemCreated(event) {\n      var configureItem = qx.util.Delegate.getMethod(\n        this.getDelegate(),\n        \"configureItem\"\n      );\n\n      if (configureItem != null) {\n        var leaf = event.getData();\n        configureItem(leaf);\n      }\n    },\n\n    /**\n     * Event handler for the change delegate event.\n     *\n     * @param event {qx.event.type.Data} fired event.\n     */\n    _onChangeDelegate(event) {\n      if (this._renderer != null) {\n        this._renderer.dispose();\n        this.removeBindings();\n      }\n\n      this._renderer = this.createRenderer();\n      this._renderer.addListener(\"created\", this._onItemCreated, this);\n    },\n\n    /**\n     * Handler when a node changes opened or closed state.\n     *\n     * @param event {qx.event.type.Data} The data event.\n     */\n    __onOpenChanged(event) {\n      var widget = event.getTarget();\n\n      var row = widget.getUserData(\"cell.row\");\n      var item = this._tree.getLookupTable().getItem(row);\n\n      if (event.getData()) {\n        this._tree.openNodeWithoutScrolling(item);\n      } else {\n        this._tree.closeNodeWithoutScrolling(item);\n      }\n    }\n  },\n\n  destruct() {\n    this.removeBindings();\n    this._renderer.dispose();\n    this._tree = this._renderer = null;\n  }\n});\n"
  ],
  "mappings": "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"
}