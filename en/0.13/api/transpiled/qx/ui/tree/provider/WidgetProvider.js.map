{
  "version": 3,
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "extend",
    "core",
    "Object",
    "implement",
    "ui",
    "virtual",
    "IWidgetCellProvider",
    "tree",
    "provider",
    "IVirtualTreeProvider",
    "include",
    "MWidgetController",
    "construct",
    "constructor",
    "call",
    "_tree",
    "addListener",
    "_onChangeDelegate",
    "members",
    "_renderer",
    "getCellWidget",
    "row",
    "column",
    "item",
    "getLookupTable",
    "getItem",
    "hasChildren",
    "isNode",
    "widget",
    "setOpen",
    "isNodeOpen",
    "__onOpenChanged",
    "setUserData",
    "getChildProperty",
    "isShowLeafs",
    "getSelection",
    "contains",
    "_styleSelectabled",
    "_styleUnselectabled",
    "level",
    "getLevel",
    "isShowTopLevelOpenCloseIcons",
    "setOpenSymbolMode",
    "getOpenProperty",
    "setModel",
    "_bindItem",
    "queue",
    "Widget",
    "add",
    "poolCellWidget",
    "removeListener",
    "_removeBindingsFrom",
    "pool",
    "_onPool",
    "createLayer",
    "layer",
    "WidgetCell",
    "createRenderer",
    "createItem",
    "util",
    "Delegate",
    "getMethod",
    "getDelegate",
    "VirtualTreeItem",
    "renderer",
    "cell",
    "setDelegate",
    "createWidget",
    "styleSelectabled",
    "_layer",
    "getRenderedCellWidget",
    "styleUnselectabled",
    "isSelectable",
    "isEnabled",
    "updateStates",
    "selected",
    "onPool",
    "_onItemCreated",
    "event",
    "configureItem",
    "leaf",
    "getData",
    "dispose",
    "removeBindings",
    "getTarget",
    "getUserData",
    "openNodeWithoutScrolling",
    "closeNodeWithoutScrolling",
    "destruct",
    "WidgetProvider"
  ],
  "sources": [
    "/home/runner/work/CometVisu/CometVisu/node_modules/@qooxdoo/framework/source/class/qx/ui/tree/provider/WidgetProvider.js"
  ],
  "sourcesContent": [
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2011 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Christian Hagendorn (chris_schmidt)\n\n************************************************************************ */\n\n/**\n * The provider implements the {@link qx.ui.virtual.core.IWidgetCellProvider}\n * API, which can be used as delegate for the widget cell rendering and it\n * provides a API to bind the model with the rendered item.\n *\n * @internal\n */\nqx.Class.define(\"qx.ui.tree.provider.WidgetProvider\", {\n  extend: qx.core.Object,\n\n  implement: [\n    qx.ui.virtual.core.IWidgetCellProvider,\n    qx.ui.tree.provider.IVirtualTreeProvider\n  ],\n\n  include: [qx.ui.tree.core.MWidgetController],\n\n  /**\n   * @param tree {qx.ui.tree.VirtualTree} tree to provide.\n   */\n  construct(tree) {\n    super();\n\n    this._tree = tree;\n\n    this.addListener(\"changeDelegate\", this._onChangeDelegate, this);\n    this._onChangeDelegate();\n  },\n\n  members: {\n    /** @type {qx.ui.tree.VirtualTree} tree to provide. */\n    _tree: null,\n\n    /** @type {qx.ui.virtual.cell.WidgetCell} the used item renderer. */\n    _renderer: null,\n\n    /*\n    ---------------------------------------------------------------------------\n      PUBLIC API\n    ---------------------------------------------------------------------------\n    */\n\n    // interface implementation\n    getCellWidget(row, column) {\n      var item = this._tree.getLookupTable().getItem(row);\n\n      var hasChildren = false;\n      if (this._tree.isNode(item)) {\n        hasChildren = this._tree.hasChildren(item);\n      }\n\n      var widget = this._renderer.getCellWidget();\n      widget.setOpen(hasChildren && this._tree.isNodeOpen(item));\n      widget.addListener(\"changeOpen\", this.__onOpenChanged, this);\n      widget.setUserData(\"cell.childProperty\", this.getChildProperty());\n      widget.setUserData(\"cell.showLeafs\", this._tree.isShowLeafs());\n\n      if (this._tree.getSelection().contains(item)) {\n        this._styleSelectabled(widget);\n      } else {\n        this._styleUnselectabled(widget);\n      }\n\n      var level = this._tree.getLevel(row);\n      if (!this._tree.isShowTopLevelOpenCloseIcons()) {\n        level -= 1;\n      }\n      widget.setUserData(\"cell.level\", level);\n\n      if (!this._tree.isShowTopLevelOpenCloseIcons() && level == -1) {\n        widget.setOpenSymbolMode(\"never\");\n      } else {\n        widget.setOpenSymbolMode(\"auto\");\n      }\n\n      if (this._tree.getOpenProperty()) {\n        widget.setModel(item);\n      }\n\n      this._bindItem(widget, row);\n      qx.ui.core.queue.Widget.add(widget);\n\n      return widget;\n    },\n\n    // interface implementation\n    poolCellWidget(widget) {\n      widget.removeListener(\"changeOpen\", this.__onOpenChanged, this);\n      this._removeBindingsFrom(widget);\n      this._renderer.pool(widget);\n      this._onPool(widget);\n    },\n\n    // Interface implementation\n    createLayer() {\n      return new qx.ui.virtual.layer.WidgetCell(this);\n    },\n\n    // Interface implementation\n    createRenderer() {\n      var createItem = qx.util.Delegate.getMethod(\n        this.getDelegate(),\n        \"createItem\"\n      );\n\n      if (createItem == null) {\n        createItem = function () {\n          return new qx.ui.tree.VirtualTreeItem();\n        };\n      }\n\n      var renderer = new qx.ui.virtual.cell.WidgetCell();\n      renderer.setDelegate({\n        createWidget: createItem\n      });\n\n      return renderer;\n    },\n\n    // interface implementation\n    styleSelectabled(row) {\n      var widget = this._tree._layer.getRenderedCellWidget(row, 0);\n      this._styleSelectabled(widget);\n    },\n\n    // interface implementation\n    styleUnselectabled(row) {\n      var widget = this._tree._layer.getRenderedCellWidget(row, 0);\n      this._styleUnselectabled(widget);\n    },\n\n    // interface implementation\n    isSelectable(row) {\n      var widget = this._tree._layer.getRenderedCellWidget(row, 0);\n      if (widget != null) {\n        return widget.isEnabled();\n      } else {\n        return true;\n      }\n    },\n\n    /*\n    ---------------------------------------------------------------------------\n      INTERNAL API\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Styles a selected item.\n     *\n     * @param widget {qx.ui.core.Widget} widget to style.\n     */\n    _styleSelectabled(widget) {\n      if (widget == null) {\n        return;\n      }\n\n      this._renderer.updateStates(widget, { selected: 1 });\n    },\n\n    /**\n     * Styles a not selected item.\n     *\n     * @param widget {qx.ui.core.Widget} widget to style.\n     */\n    _styleUnselectabled(widget) {\n      if (widget == null) {\n        return;\n      }\n\n      this._renderer.updateStates(widget, {});\n    },\n\n    /**\n     * Calls the delegate <code>onPool</code> method when it is used in the\n     * {@link #delegate} property.\n     *\n     * @param item {qx.ui.core.Widget} Item to modify.\n     */\n    _onPool(item) {\n      var onPool = qx.util.Delegate.getMethod(this.getDelegate(), \"onPool\");\n\n      if (onPool != null) {\n        onPool(item);\n      }\n    },\n\n    /*\n    ---------------------------------------------------------------------------\n      EVENT HANDLERS\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Event handler for the created item's.\n     *\n     * @param event {qx.event.type.Data} fired event.\n     */\n    _onItemCreated(event) {\n      var configureItem = qx.util.Delegate.getMethod(\n        this.getDelegate(),\n        \"configureItem\"\n      );\n\n      if (configureItem != null) {\n        var leaf = event.getData();\n        configureItem(leaf);\n      }\n    },\n\n    /**\n     * Event handler for the change delegate event.\n     *\n     * @param event {qx.event.type.Data} fired event.\n     */\n    _onChangeDelegate(event) {\n      if (this._renderer != null) {\n        this._renderer.dispose();\n        this.removeBindings();\n      }\n\n      this._renderer = this.createRenderer();\n      this._renderer.addListener(\"created\", this._onItemCreated, this);\n    },\n\n    /**\n     * Handler when a node changes opened or closed state.\n     *\n     * @param event {qx.event.type.Data} The data event.\n     */\n    __onOpenChanged(event) {\n      var widget = event.getTarget();\n\n      var row = widget.getUserData(\"cell.row\");\n      var item = this._tree.getLookupTable().getItem(row);\n\n      if (event.getData()) {\n        this._tree.openNodeWithoutScrolling(item);\n      } else {\n        this._tree.closeNodeWithoutScrolling(item);\n      }\n    }\n  },\n\n  destruct() {\n    this.removeBindings();\n    this._renderer.dispose();\n    this._tree = this._renderer = null;\n  }\n});\n"
  ],
  "mappings": "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",
  "ignoreList": []
}