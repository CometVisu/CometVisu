{
  "version": 3,
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "extend",
    "ui",
    "core",
    "selection",
    "ScrollArea",
    "members",
    "_getSelectableLocationY",
    "item",
    "computed",
    "getBounds",
    "top",
    "_getWidget",
    "getItemTop",
    "bottom",
    "height",
    "_isSelectable",
    "_isItemSelectable",
    "tree",
    "AbstractTreeItem",
    "_getSelectableFromPointerEvent",
    "event",
    "getTreeItem",
    "getTarget",
    "getSelectables",
    "all",
    "oldUserInteraction",
    "_userInteraction",
    "widget",
    "result",
    "getRoot",
    "items",
    "getItems",
    "getHideRoot",
    "i",
    "length",
    "push",
    "_getSelectableRange",
    "item1",
    "item2",
    "selectables",
    "item1Index",
    "indexOf",
    "item2Index",
    "slice",
    "_getFirstSelectable",
    "_getLastSelectable",
    "_getRelatedSelectable",
    "relation",
    "related",
    "getPreviousNodeOf",
    "getNextNodeOf",
    "SelectionManager"
  ],
  "sources": [
    "/home/runner/work/CometVisu/CometVisu/node_modules/@qooxdoo/framework/source/class/qx/ui/tree/selection/SelectionManager.js"
  ],
  "sourcesContent": [
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Fabian Jakobs (fjakobs)\n\n************************************************************************ */\n\n/**\n * Responsible for the selection management of the {@link qx.ui.tree.Tree}.\n *\n * @internal\n */\nqx.Class.define(\"qx.ui.tree.selection.SelectionManager\", {\n  extend: qx.ui.core.selection.ScrollArea,\n\n  members: {\n    // overridden\n    _getSelectableLocationY(item) {\n      var computed = item.getBounds();\n      if (computed) {\n        var top = this._getWidget().getItemTop(item);\n        return {\n          top: top,\n          bottom: top + computed.height\n        };\n      }\n    },\n\n    // overridden\n    _isSelectable(item) {\n      return (\n        this._isItemSelectable(item) &&\n        item instanceof qx.ui.tree.core.AbstractTreeItem\n      );\n    },\n\n    // overridden\n    _getSelectableFromPointerEvent(event) {\n      return this._getWidget().getTreeItem(event.getTarget());\n    },\n\n    // overridden\n    getSelectables(all) {\n      // if only the user selectables should be returned\n      var oldUserInteraction = false;\n      if (!all) {\n        oldUserInteraction = this._userInteraction;\n        this._userInteraction = true;\n      }\n\n      var widget = this._getWidget();\n      var result = [];\n\n      if (widget.getRoot() != null) {\n        var items = widget\n          .getRoot()\n          .getItems(true, !!all, widget.getHideRoot());\n\n        for (var i = 0; i < items.length; i++) {\n          if (this._isSelectable(items[i])) {\n            result.push(items[i]);\n          }\n        }\n      }\n\n      // reset to the former user interaction state\n      this._userInteraction = oldUserInteraction;\n\n      return result;\n    },\n\n    // overridden\n    _getSelectableRange(item1, item2) {\n      // Fast path for identical items\n      if (item1 === item2) {\n        return [item1];\n      }\n\n      var selectables = this.getSelectables();\n\n      var item1Index = selectables.indexOf(item1);\n      var item2Index = selectables.indexOf(item2);\n\n      if (item1Index < 0 || item2Index < 0) {\n        return [];\n      }\n\n      if (item1Index < item2Index) {\n        return selectables.slice(item1Index, item2Index + 1);\n      } else {\n        return selectables.slice(item2Index, item1Index + 1);\n      }\n    },\n\n    // overridden\n    _getFirstSelectable() {\n      return this.getSelectables()[0] || null;\n    },\n\n    // overridden\n    _getLastSelectable() {\n      var selectables = this.getSelectables();\n      if (selectables.length > 0) {\n        return selectables[selectables.length - 1];\n      } else {\n        return null;\n      }\n    },\n\n    // overridden\n    _getRelatedSelectable(item, relation) {\n      var widget = this._getWidget();\n      var related = null;\n\n      switch (relation) {\n        case \"above\":\n          related = widget.getPreviousNodeOf(item, false);\n          break;\n\n        case \"under\":\n          related = widget.getNextNodeOf(item, false);\n          break;\n\n        case \"left\":\n        case \"right\":\n          break;\n      }\n\n      if (!related) {\n        return null;\n      }\n\n      if (this._isSelectable(related)) {\n        return related;\n      } else {\n        return this._getRelatedSelectable(related, relation);\n      }\n    }\n  }\n});\n"
  ],
  "mappings": "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"
}