{
  "version": 3,
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "extend",
    "ui",
    "core",
    "selection",
    "ScrollArea",
    "members",
    "_getSelectableLocationY",
    "item",
    "computed",
    "getBounds",
    "top",
    "_getWidget",
    "getItemTop",
    "bottom",
    "height",
    "_isSelectable",
    "_isItemSelectable",
    "tree",
    "AbstractTreeItem",
    "_getSelectableFromPointerEvent",
    "event",
    "getTreeItem",
    "getTarget",
    "getSelectables",
    "all",
    "oldUserInteraction",
    "_userInteraction",
    "widget",
    "result",
    "getRoot",
    "items",
    "getItems",
    "getHideRoot",
    "i",
    "length",
    "push",
    "_getSelectableRange",
    "item1",
    "item2",
    "selectables",
    "item1Index",
    "indexOf",
    "item2Index",
    "slice",
    "_getFirstSelectable",
    "_getLastSelectable",
    "_getRelatedSelectable",
    "relation",
    "related",
    "getPreviousNodeOf",
    "getNextNodeOf",
    "SelectionManager"
  ],
  "sources": [
    "/home/runner/work/CometVisu/CometVisu/node_modules/@qooxdoo/framework/source/class/qx/ui/tree/selection/SelectionManager.js"
  ],
  "sourcesContent": [
    "/* ************************************************************************\r\n\r\n   qooxdoo - the new era of web development\r\n\r\n   http://qooxdoo.org\r\n\r\n   Copyright:\r\n     2008 1&1 Internet AG, Germany, http://www.1und1.de\r\n\r\n   License:\r\n     MIT: https://opensource.org/licenses/MIT\r\n     See the LICENSE file in the project's top-level directory for details.\r\n\r\n   Authors:\r\n     * Fabian Jakobs (fjakobs)\r\n\r\n************************************************************************ */\r\n\r\n/**\r\n * Responsible for the selection management of the {@link qx.ui.tree.Tree}.\r\n *\r\n * @internal\r\n */\r\nqx.Class.define(\"qx.ui.tree.selection.SelectionManager\", {\r\n  extend: qx.ui.core.selection.ScrollArea,\r\n\r\n  members: {\r\n    // overridden\r\n    _getSelectableLocationY(item) {\r\n      var computed = item.getBounds();\r\n      if (computed) {\r\n        var top = this._getWidget().getItemTop(item);\r\n        return {\r\n          top: top,\r\n          bottom: top + computed.height\r\n        };\r\n      }\r\n    },\r\n\r\n    // overridden\r\n    _isSelectable(item) {\r\n      return (\r\n        this._isItemSelectable(item) &&\r\n        item instanceof qx.ui.tree.core.AbstractTreeItem\r\n      );\r\n    },\r\n\r\n    // overridden\r\n    _getSelectableFromPointerEvent(event) {\r\n      return this._getWidget().getTreeItem(event.getTarget());\r\n    },\r\n\r\n    // overridden\r\n    getSelectables(all) {\r\n      // if only the user selectables should be returned\r\n      var oldUserInteraction = false;\r\n      if (!all) {\r\n        oldUserInteraction = this._userInteraction;\r\n        this._userInteraction = true;\r\n      }\r\n\r\n      var widget = this._getWidget();\r\n      var result = [];\r\n\r\n      if (widget.getRoot() != null) {\r\n        var items = widget\r\n          .getRoot()\r\n          .getItems(true, !!all, widget.getHideRoot());\r\n\r\n        for (var i = 0; i < items.length; i++) {\r\n          if (this._isSelectable(items[i])) {\r\n            result.push(items[i]);\r\n          }\r\n        }\r\n      }\r\n\r\n      // reset to the former user interaction state\r\n      this._userInteraction = oldUserInteraction;\r\n\r\n      return result;\r\n    },\r\n\r\n    // overridden\r\n    _getSelectableRange(item1, item2) {\r\n      // Fast path for identical items\r\n      if (item1 === item2) {\r\n        return [item1];\r\n      }\r\n\r\n      var selectables = this.getSelectables();\r\n\r\n      var item1Index = selectables.indexOf(item1);\r\n      var item2Index = selectables.indexOf(item2);\r\n\r\n      if (item1Index < 0 || item2Index < 0) {\r\n        return [];\r\n      }\r\n\r\n      if (item1Index < item2Index) {\r\n        return selectables.slice(item1Index, item2Index + 1);\r\n      } else {\r\n        return selectables.slice(item2Index, item1Index + 1);\r\n      }\r\n    },\r\n\r\n    // overridden\r\n    _getFirstSelectable() {\r\n      return this.getSelectables()[0] || null;\r\n    },\r\n\r\n    // overridden\r\n    _getLastSelectable() {\r\n      var selectables = this.getSelectables();\r\n      if (selectables.length > 0) {\r\n        return selectables[selectables.length - 1];\r\n      } else {\r\n        return null;\r\n      }\r\n    },\r\n\r\n    // overridden\r\n    _getRelatedSelectable(item, relation) {\r\n      var widget = this._getWidget();\r\n      var related = null;\r\n\r\n      switch (relation) {\r\n        case \"above\":\r\n          related = widget.getPreviousNodeOf(item, false);\r\n          break;\r\n\r\n        case \"under\":\r\n          related = widget.getNextNodeOf(item, false);\r\n          break;\r\n\r\n        case \"left\":\r\n        case \"right\":\r\n          break;\r\n      }\r\n\r\n      if (!related) {\r\n        return null;\r\n      }\r\n\r\n      if (this._isSelectable(related)) {\r\n        return related;\r\n      } else {\r\n        return this._getRelatedSelectable(related, relation);\r\n      }\r\n    }\r\n  }\r\n});\r\n"
  ],
  "mappings": "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"
}