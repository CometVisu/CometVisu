{
  "version": 3,
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "type",
    "extend",
    "core",
    "Object",
    "construct",
    "constructor",
    "call",
    "__objects",
    "el",
    "document",
    "body",
    "Registration",
    "event",
    "addListener",
    "window",
    "documentElement",
    "_onPointerDown",
    "_onRoll",
    "_onKeyUpDown",
    "_onKeyPress",
    "Environment",
    "get",
    "bom",
    "Element",
    "hideAll",
    "__openTimer",
    "Timer",
    "_onOpenInterval",
    "__closeTimer",
    "_onCloseInterval",
    "members",
    "__scheduleOpen",
    "__scheduleClose",
    "_getChild",
    "menu",
    "start",
    "iter",
    "loop",
    "children",
    "getChildren",
    "length",
    "child",
    "i",
    "isEnabled",
    "isAnonymous",
    "isVisible",
    "_isInMenu",
    "widget",
    "ui",
    "Menu",
    "getLayoutParent",
    "_isMenuOpener",
    "menus",
    "getOpener",
    "_getMenuButton",
    "AbstractButton",
    "add",
    "obj",
    "reg",
    "push",
    "setZIndex",
    "remove",
    "lang",
    "Array",
    "exclude",
    "getActiveMenu",
    "scheduleOpen",
    "cancelClose",
    "cancelOpen",
    "restartWith",
    "getOpenInterval",
    "scheduleClose",
    "getCloseInterval",
    "stop",
    "e",
    "open",
    "preventContextMenuOnce",
    "__onPreventContextMenu",
    "__P_388_5",
    "target",
    "getTarget",
    "Widget",
    "getWidgetByElement",
    "stopPropagation",
    "preventDefault",
    "removeListener",
    "getMenu",
    "__selectionKeys",
    "Enter",
    "Space",
    "__navigationKeys",
    "Tab",
    "Escape",
    "Up",
    "Down",
    "Left",
    "Right",
    "iden",
    "getKeyIdentifier",
    "getSelectedButton",
    "navigation",
    "selection",
    "_onKeyPressUp",
    "_onKeyPressDown",
    "_onKeyPressLeft",
    "_onKeyPressRight",
    "button",
    "_onKeyPressEnter",
    "_onKeyPressSpace",
    "selectedButton",
    "indexOf",
    "nextItem",
    "setSelectedButton",
    "resetSelectedButton",
    "menuOpener",
    "parentMenu",
    "resetOpenedButton",
    "menubar",
    "Button",
    "buttons",
    "getMenuBar",
    "getMenuButtons",
    "index",
    "prevButton",
    "subMenu",
    "setOpenedButton",
    "first",
    "getOpenedButton",
    "nextButton",
    "hasListener",
    "clone",
    "setBubbles",
    "setTarget",
    "dispatchEvent",
    "getMomentum",
    "destruct",
    "_disposeObjects",
    "_disposeArray",
    "Manager"
  ],
  "sources": [
    "/home/runner/work/CometVisu/CometVisu/node_modules/@qooxdoo/framework/source/class/qx/ui/menu/Manager.js"
  ],
  "sourcesContent": [
    "/* ************************************************************************\r\n\r\n   qooxdoo - the new era of web development\r\n\r\n   http://qooxdoo.org\r\n\r\n   Copyright:\r\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\r\n\r\n   License:\r\n     MIT: https://opensource.org/licenses/MIT\r\n     See the LICENSE file in the project's top-level directory for details.\r\n\r\n   Authors:\r\n     * Sebastian Werner (wpbasti)\r\n     * Andreas Ecker (ecker)\r\n\r\n************************************************************************ */\r\n\r\n/**\r\n * This singleton manages visible menu instances and supports some\r\n * core features to schedule menu open/close with timeout support.\r\n *\r\n * It also manages the whole keyboard support for the currently\r\n * registered widgets.\r\n *\r\n * The zIndex order is also managed by this class.\r\n */\r\nqx.Class.define(\"qx.ui.menu.Manager\", {\r\n  type: \"singleton\",\r\n  extend: qx.core.Object,\r\n\r\n  /*\r\n  *****************************************************************************\r\n     CONSTRUCTOR\r\n  *****************************************************************************\r\n  */\r\n\r\n  construct() {\r\n    super();\r\n\r\n    // Create data structure\r\n    this.__objects = [];\r\n\r\n    var el = document.body;\r\n    var Registration = qx.event.Registration;\r\n\r\n    // React on pointer/mouse events, but on native, to support inline applications\r\n    Registration.addListener(\r\n      window.document.documentElement,\r\n      \"pointerdown\",\r\n      this._onPointerDown,\r\n      this,\r\n      true\r\n    );\r\n\r\n    Registration.addListener(el, \"roll\", this._onRoll, this, true);\r\n\r\n    // React on keypress events\r\n    Registration.addListener(el, \"keydown\", this._onKeyUpDown, this, true);\r\n    Registration.addListener(el, \"keyup\", this._onKeyUpDown, this, true);\r\n    Registration.addListener(el, \"keypress\", this._onKeyPress, this, true);\r\n\r\n    // only use the blur event to hide windows on non touch devices [BUG #4033]\r\n    // When the menu is located on top of an iFrame, the select will fail\r\n    if (!qx.core.Environment.get(\"event.touch\")) {\r\n      // Hide all when the window is blurred\r\n      qx.bom.Element.addListener(window, \"blur\", this.hideAll, this);\r\n    }\r\n\r\n    // Create open timer\r\n    this.__openTimer = new qx.event.Timer();\r\n    this.__openTimer.addListener(\"interval\", this._onOpenInterval, this);\r\n\r\n    // Create close timer\r\n    this.__closeTimer = new qx.event.Timer();\r\n    this.__closeTimer.addListener(\"interval\", this._onCloseInterval, this);\r\n  },\r\n\r\n  /*\r\n  *****************************************************************************\r\n     MEMBERS\r\n  *****************************************************************************\r\n  */\r\n  /* eslint-disable @qooxdoo/qx/no-refs-in-members */\r\n\r\n  members: {\r\n    __scheduleOpen: null,\r\n    __scheduleClose: null,\r\n    __openTimer: null,\r\n    __closeTimer: null,\r\n    __objects: null,\r\n\r\n    /*\r\n    ---------------------------------------------------------------------------\r\n      HELPER METHODS\r\n    ---------------------------------------------------------------------------\r\n    */\r\n\r\n    /**\r\n     * Query engine for menu children.\r\n     *\r\n     * @param menu {qx.ui.menu.Menu} Any menu instance\r\n     * @param start {Integer} Child index to start with\r\n     * @param iter {Integer} Iteration count, normally <code>+1</code> or <code>-1</code>\r\n     * @param loop {Boolean?false} Whether to wrap when reaching the begin/end of the list\r\n     * @return {qx.ui.menu.Button} Any menu button or <code>null</code>\r\n     */\r\n    _getChild(menu, start, iter, loop) {\r\n      var children = menu.getChildren();\r\n      var length = children.length;\r\n      var child;\r\n\r\n      for (var i = start; i < length && i >= 0; i += iter) {\r\n        child = children[i];\r\n        if (child.isEnabled() && !child.isAnonymous() && child.isVisible()) {\r\n          return child;\r\n        }\r\n      }\r\n\r\n      if (loop) {\r\n        i = i == length ? 0 : length - 1;\r\n        for (; i != start; i += iter) {\r\n          child = children[i];\r\n          if (child.isEnabled() && !child.isAnonymous() && child.isVisible()) {\r\n            return child;\r\n          }\r\n        }\r\n      }\r\n\r\n      return null;\r\n    },\r\n\r\n    /**\r\n     * Whether the given widget is inside any Menu instance.\r\n     *\r\n     * @param widget {qx.ui.core.Widget} Any widget\r\n     * @return {Boolean} <code>true</code> when the widget is part of any menu\r\n     */\r\n    _isInMenu(widget) {\r\n      while (widget) {\r\n        if (widget instanceof qx.ui.menu.Menu) {\r\n          return true;\r\n        }\r\n\r\n        widget = widget.getLayoutParent();\r\n      }\r\n\r\n      return false;\r\n    },\r\n\r\n    /**\r\n     * Whether the given widget is one of the menu openers.\r\n     *\r\n     * @param widget {qx.ui.core.Widget} Any widget\r\n     * @return {Boolean} <code>true</code> if the widget is a menu opener\r\n     */\r\n    _isMenuOpener(widget) {\r\n      var menus = this.__objects;\r\n\r\n      for (var i = 0; i < menus.length; i++) {\r\n        if (menus[i].getOpener() === widget) {\r\n          return true;\r\n        }\r\n      }\r\n\r\n      return false;\r\n    },\r\n\r\n    /**\r\n     * Returns an instance of a menu button if the given widget is a child\r\n     *\r\n     * @param widget {qx.ui.core.Widget} any widget\r\n     * @return {qx.ui.menu.Button} Any menu button instance or <code>null</code>\r\n     */\r\n    _getMenuButton(widget) {\r\n      while (widget) {\r\n        if (widget instanceof qx.ui.menu.AbstractButton) {\r\n          return widget;\r\n        }\r\n\r\n        widget = widget.getLayoutParent();\r\n      }\r\n\r\n      return null;\r\n    },\r\n\r\n    /*\r\n    ---------------------------------------------------------------------------\r\n      PUBLIC METHODS\r\n    ---------------------------------------------------------------------------\r\n    */\r\n\r\n    /**\r\n     * Adds a menu to the list of visible menus.\r\n     *\r\n     * @param obj {qx.ui.menu.Menu} Any menu instance.\r\n     */\r\n    add(obj) {\r\n      if (qx.core.Environment.get(\"qx.debug\")) {\r\n        if (!(obj instanceof qx.ui.menu.Menu)) {\r\n          throw new Error(\"Object is no menu: \" + obj);\r\n        }\r\n      }\r\n\r\n      var reg = this.__objects;\r\n      reg.push(obj);\r\n      obj.setZIndex(1e6 + reg.length);\r\n    },\r\n\r\n    /**\r\n     * Remove a menu from the list of visible menus.\r\n     *\r\n     * @param obj {qx.ui.menu.Menu} Any menu instance.\r\n     */\r\n    remove(obj) {\r\n      if (qx.core.Environment.get(\"qx.debug\")) {\r\n        if (!(obj instanceof qx.ui.menu.Menu)) {\r\n          throw new Error(\"Object is no menu: \" + obj);\r\n        }\r\n      }\r\n\r\n      var reg = this.__objects;\r\n      if (reg) {\r\n        qx.lang.Array.remove(reg, obj);\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Hides all currently opened menus.\r\n     */\r\n    hideAll() {\r\n      var reg = this.__objects;\r\n      if (reg) {\r\n        for (var i = reg.length - 1; i >= 0; i--) {\r\n          reg[i].exclude();\r\n        }\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Returns the menu which was opened at last (which\r\n     * is the active one this way)\r\n     *\r\n     * @return {qx.ui.menu.Menu} The current active menu or <code>null</code>\r\n     */\r\n    getActiveMenu() {\r\n      var reg = this.__objects;\r\n      return reg.length > 0 ? reg[reg.length - 1] : null;\r\n    },\r\n\r\n    /*\r\n    ---------------------------------------------------------------------------\r\n      SCHEDULED OPEN/CLOSE SUPPORT\r\n    ---------------------------------------------------------------------------\r\n    */\r\n\r\n    /**\r\n     * Schedules the given menu to be opened after the\r\n     * {@link qx.ui.menu.Menu#openInterval} configured by the\r\n     * menu instance itself.\r\n     *\r\n     * @param menu {qx.ui.menu.Menu} The menu to schedule for open\r\n     */\r\n    scheduleOpen(menu) {\r\n      // Cancel close of given menu first\r\n      this.cancelClose(menu);\r\n\r\n      // When the menu is already visible\r\n      if (menu.isVisible()) {\r\n        // Cancel all other open requests\r\n        if (this.__scheduleOpen) {\r\n          this.cancelOpen(this.__scheduleOpen);\r\n        }\r\n      }\r\n\r\n      // When the menu is not visible and not scheduled already\r\n      // then schedule it for opening\r\n      else if (this.__scheduleOpen != menu) {\r\n        // menu.debug(\"Schedule open\");\r\n        this.__scheduleOpen = menu;\r\n        this.__openTimer.restartWith(menu.getOpenInterval());\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Schedules the given menu to be closed after the\r\n     * {@link qx.ui.menu.Menu#closeInterval} configured by the\r\n     * menu instance itself.\r\n     *\r\n     * @param menu {qx.ui.menu.Menu} The menu to schedule for close\r\n     */\r\n    scheduleClose(menu) {\r\n      // Cancel open of the menu first\r\n      this.cancelOpen(menu);\r\n\r\n      // When the menu is already invisible\r\n      if (!menu.isVisible()) {\r\n        // Cancel all other close requests\r\n        if (this.__scheduleClose) {\r\n          this.cancelClose(this.__scheduleClose);\r\n        }\r\n      }\r\n\r\n      // When the menu is visible and not scheduled already\r\n      // then schedule it for closing\r\n      else if (this.__scheduleClose != menu) {\r\n        // menu.debug(\"Schedule close\");\r\n        this.__scheduleClose = menu;\r\n        this.__closeTimer.restartWith(menu.getCloseInterval());\r\n      }\r\n    },\r\n\r\n    /**\r\n     * When the given menu is scheduled for open this pending\r\n     * request is canceled.\r\n     *\r\n     * @param menu {qx.ui.menu.Menu} The menu to cancel for open\r\n     */\r\n    cancelOpen(menu) {\r\n      if (this.__scheduleOpen == menu) {\r\n        // menu.debug(\"Cancel open\");\r\n        this.__openTimer.stop();\r\n        this.__scheduleOpen = null;\r\n      }\r\n    },\r\n\r\n    /**\r\n     * When the given menu is scheduled for close this pending\r\n     * request is canceled.\r\n     *\r\n     * @param menu {qx.ui.menu.Menu} The menu to cancel for close\r\n     */\r\n    cancelClose(menu) {\r\n      if (this.__scheduleClose == menu) {\r\n        // menu.debug(\"Cancel close\");\r\n        this.__closeTimer.stop();\r\n        this.__scheduleClose = null;\r\n      }\r\n    },\r\n\r\n    /*\r\n    ---------------------------------------------------------------------------\r\n      TIMER EVENT HANDLERS\r\n    ---------------------------------------------------------------------------\r\n    */\r\n\r\n    /**\r\n     * Event listener for a pending open request. Configured to the interval\r\n     * of the current menu to open.\r\n     *\r\n     * @param e {qx.event.type.Event} Interval event\r\n     */\r\n    _onOpenInterval(e) {\r\n      // Stop timer\r\n      this.__openTimer.stop();\r\n\r\n      // Open menu and reset flag\r\n      this.__scheduleOpen.open();\r\n      this.__scheduleOpen = null;\r\n    },\r\n\r\n    /**\r\n     * Event listener for a pending close request. Configured to the interval\r\n     * of the current menu to close.\r\n     *\r\n     * @param e {qx.event.type.Event} Interval event\r\n     */\r\n    _onCloseInterval(e) {\r\n      // Stop timer, reset scheduling flag\r\n      this.__closeTimer.stop();\r\n\r\n      // Close menu and reset flag\r\n      this.__scheduleClose.exclude();\r\n      this.__scheduleClose = null;\r\n    },\r\n\r\n    /*\r\n    ---------------------------------------------------------------------------\r\n      CONTEXTMENU EVENT HANDLING\r\n    ---------------------------------------------------------------------------\r\n    */\r\n\r\n    /**\r\n     * Internal function registers a handler to stop next\r\n     * <code>contextmenu</code> event.\r\n     * This function will be called by {@link qx.ui.menu.Button#_onTap}, if\r\n     * right click was pressed.\r\n     *\r\n     * @internal\r\n     */\r\n    preventContextMenuOnce() {\r\n      qx.event.Registration.addListener(\r\n        document.body,\r\n        \"contextmenu\",\r\n        this.__onPreventContextMenu,\r\n        this,\r\n        true\r\n      );\r\n    },\r\n\r\n    /**\r\n     * Internal event handler to stop <code>contextmenu</code> event bubbling,\r\n     * if target is inside the opened menu.\r\n     *\r\n     * @param e {qx.event.type.Mouse} contextmenu event\r\n     *\r\n     * @internal\r\n     */\r\n    __onPreventContextMenu(e) {\r\n      var target = e.getTarget();\r\n      target = qx.ui.core.Widget.getWidgetByElement(target, true);\r\n      if (this._isInMenu(target)) {\r\n        e.stopPropagation();\r\n        e.preventDefault();\r\n      }\r\n\r\n      // stop only once\r\n      qx.event.Registration.removeListener(\r\n        document.body,\r\n        \"contextmenu\",\r\n        this.__onPreventContextMenu,\r\n        this,\r\n        true\r\n      );\r\n    },\r\n\r\n    /*\r\n    ---------------------------------------------------------------------------\r\n      POINTER EVENT HANDLERS\r\n    ---------------------------------------------------------------------------\r\n    */\r\n\r\n    /**\r\n     * Event handler for pointerdown events\r\n     *\r\n     * @param e {qx.event.type.Pointer} pointerdown event\r\n     */\r\n    _onPointerDown(e) {\r\n      var target = e.getTarget();\r\n      target = qx.ui.core.Widget.getWidgetByElement(target, true);\r\n\r\n      // If the target is 'null' the tap appears on a DOM element witch is not\r\n      // a widget. This happens normally with an inline application, when the user\r\n      // taps not in the inline application. In this case all all currently\r\n      // open menus should be closed.\r\n      if (target == null) {\r\n        this.hideAll();\r\n        return;\r\n      }\r\n\r\n      // If the target is the one which has opened the current menu\r\n      // we ignore the pointerdown to let the button process the event\r\n      // further with toggling or ignoring the tap.\r\n      if (target.getMenu && target.getMenu() && target.getMenu().isVisible()) {\r\n        return;\r\n      }\r\n\r\n      // All taps not inside a menu will hide all currently open menus\r\n      if (this.__objects.length > 0 && !this._isInMenu(target)) {\r\n        this.hideAll();\r\n      }\r\n    },\r\n\r\n    /*\r\n    ---------------------------------------------------------------------------\r\n      KEY EVENT HANDLING\r\n    ---------------------------------------------------------------------------\r\n    */\r\n\r\n    /**\r\n     * @type {Map} Map of all keys working on an active menu selection\r\n     * @lint ignoreReferenceField(__selectionKeys)\r\n     */\r\n    __selectionKeys: {\r\n      Enter: 1,\r\n      Space: 1\r\n    },\r\n\r\n    /**\r\n     * @type {Map} Map of all keys working without a selection\r\n     * @lint ignoreReferenceField(__navigationKeys)\r\n     */\r\n    __navigationKeys: {\r\n      Tab: 1,\r\n      Escape: 1,\r\n      Up: 1,\r\n      Down: 1,\r\n      Left: 1,\r\n      Right: 1\r\n    },\r\n\r\n    /**\r\n     * Event handler for all keyup/keydown events. Stops all events\r\n     * when any menu is opened.\r\n     *\r\n     * @param e {qx.event.type.KeySequence} Keyboard event\r\n     */\r\n    _onKeyUpDown(e) {\r\n      var menu = this.getActiveMenu();\r\n      if (!menu) {\r\n        return;\r\n      }\r\n\r\n      // Stop for all supported key combos\r\n      var iden = e.getKeyIdentifier();\r\n      if (\r\n        this.__navigationKeys[iden] ||\r\n        (this.__selectionKeys[iden] && menu.getSelectedButton())\r\n      ) {\r\n        e.stopPropagation();\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Event handler for all keypress events. Delegates the event to the more\r\n     * specific methods defined in this class.\r\n     *\r\n     * Currently processes the keys: <code>Up</code>, <code>Down</code>,\r\n     * <code>Left</code>, <code>Right</code> and <code>Enter</code>.\r\n     *\r\n     * @param e {qx.event.type.KeySequence} Keyboard event\r\n     */\r\n    _onKeyPress(e) {\r\n      var menu = this.getActiveMenu();\r\n      if (!menu) {\r\n        return;\r\n      }\r\n\r\n      var iden = e.getKeyIdentifier();\r\n      var navigation = this.__navigationKeys[iden];\r\n      var selection = this.__selectionKeys[iden];\r\n\r\n      if (navigation) {\r\n        switch (iden) {\r\n          case \"Up\":\r\n            this._onKeyPressUp(menu);\r\n            break;\r\n\r\n          case \"Down\":\r\n            this._onKeyPressDown(menu);\r\n            break;\r\n\r\n          case \"Left\":\r\n            this._onKeyPressLeft(menu);\r\n            break;\r\n\r\n          case \"Right\":\r\n            this._onKeyPressRight(menu);\r\n            break;\r\n\r\n          case \"Tab\":\r\n          case \"Escape\":\r\n            this.hideAll();\r\n            break;\r\n        }\r\n\r\n        e.stopPropagation();\r\n        e.preventDefault();\r\n      } else if (selection) {\r\n        // Do not process these events when no item is hovered\r\n        var button = menu.getSelectedButton();\r\n        if (button) {\r\n          switch (iden) {\r\n            case \"Enter\":\r\n              this._onKeyPressEnter(menu, button, e);\r\n              break;\r\n\r\n            case \"Space\":\r\n              this._onKeyPressSpace(menu, button, e);\r\n              break;\r\n          }\r\n\r\n          e.stopPropagation();\r\n          e.preventDefault();\r\n        }\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Event handler for <code>Up</code> key\r\n     *\r\n     * @param menu {qx.ui.menu.Menu} The active menu\r\n     */\r\n    _onKeyPressUp(menu) {\r\n      // Query for previous child\r\n      var selectedButton = menu.getSelectedButton();\r\n      var children = menu.getChildren();\r\n      var start = selectedButton\r\n        ? menu.indexOf(selectedButton) - 1\r\n        : children.length - 1;\r\n      var nextItem = this._getChild(menu, start, -1, true);\r\n\r\n      // Reconfigure property\r\n      if (nextItem) {\r\n        menu.setSelectedButton(nextItem);\r\n      } else {\r\n        menu.resetSelectedButton();\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Event handler for <code>Down</code> key\r\n     *\r\n     * @param menu {qx.ui.menu.Menu} The active menu\r\n     */\r\n    _onKeyPressDown(menu) {\r\n      // Query for next child\r\n      var selectedButton = menu.getSelectedButton();\r\n      var start = selectedButton ? menu.indexOf(selectedButton) + 1 : 0;\r\n      var nextItem = this._getChild(menu, start, 1, true);\r\n\r\n      // Reconfigure property\r\n      if (nextItem) {\r\n        menu.setSelectedButton(nextItem);\r\n      } else {\r\n        menu.resetSelectedButton();\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Event handler for <code>Left</code> key\r\n     *\r\n     * @param menu {qx.ui.menu.Menu} The active menu\r\n     */\r\n    _onKeyPressLeft(menu) {\r\n      var menuOpener = menu.getOpener();\r\n      if (!menuOpener) {\r\n        return;\r\n      }\r\n\r\n      // Back to the \"parent\" menu\r\n      if (menuOpener instanceof qx.ui.menu.AbstractButton) {\r\n        var parentMenu = menuOpener.getLayoutParent();\r\n\r\n        parentMenu.resetOpenedButton();\r\n        parentMenu.setSelectedButton(menuOpener);\r\n      }\r\n\r\n      // Goto the previous toolbar button\r\n      else if (menuOpener instanceof qx.ui.menubar.Button) {\r\n        var buttons = menuOpener.getMenuBar().getMenuButtons();\r\n        var index = buttons.indexOf(menuOpener);\r\n\r\n        // This should not happen, definitely!\r\n        if (index === -1) {\r\n          return;\r\n        }\r\n\r\n        // Get previous button, fallback to end if first arrived\r\n        var prevButton = null;\r\n        var length = buttons.length;\r\n        for (var i = 1; i <= length; i++) {\r\n          var button = buttons[(index - i + length) % length];\r\n          if (button.isEnabled() && button.isVisible()) {\r\n            prevButton = button;\r\n            break;\r\n          }\r\n        }\r\n\r\n        if (prevButton && prevButton != menuOpener) {\r\n          prevButton.open(true);\r\n        }\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Event handler for <code>Right</code> key\r\n     *\r\n     * @param menu {qx.ui.menu.Menu} The active menu\r\n     */\r\n    _onKeyPressRight(menu) {\r\n      var selectedButton = menu.getSelectedButton();\r\n\r\n      // Open sub-menu of hovered item and select first child\r\n      if (selectedButton) {\r\n        var subMenu = selectedButton.getMenu();\r\n\r\n        if (subMenu) {\r\n          // Open previously hovered item\r\n          menu.setOpenedButton(selectedButton);\r\n\r\n          // Hover first item in new submenu\r\n          var first = this._getChild(subMenu, 0, 1);\r\n          if (first) {\r\n            subMenu.setSelectedButton(first);\r\n          }\r\n\r\n          return;\r\n        }\r\n      }\r\n\r\n      // No hover and no open item\r\n      // When first button has a menu, open it, otherwise only hover it\r\n      else if (!menu.getOpenedButton()) {\r\n        var first = this._getChild(menu, 0, 1);\r\n\r\n        if (first) {\r\n          menu.setSelectedButton(first);\r\n\r\n          if (first.getMenu()) {\r\n            menu.setOpenedButton(first);\r\n          }\r\n\r\n          return;\r\n        }\r\n      }\r\n\r\n      // Jump to the next toolbar button\r\n      var menuOpener = menu.getOpener();\r\n\r\n      // Look up opener hierarchy for menu button\r\n      if (menuOpener instanceof qx.ui.menu.Button && selectedButton) {\r\n        // From one inner selected button try to find the top level\r\n        // menu button which has opened the whole menu chain.\r\n        while (menuOpener) {\r\n          menuOpener = menuOpener.getLayoutParent();\r\n          if (menuOpener instanceof qx.ui.menu.Menu) {\r\n            menuOpener = menuOpener.getOpener();\r\n            if (menuOpener instanceof qx.ui.menubar.Button) {\r\n              break;\r\n            }\r\n          } else {\r\n            break;\r\n          }\r\n        }\r\n\r\n        if (!menuOpener) {\r\n          return;\r\n        }\r\n      }\r\n\r\n      // Ask the toolbar for the next menu button\r\n      if (menuOpener instanceof qx.ui.menubar.Button) {\r\n        var buttons = menuOpener.getMenuBar().getMenuButtons();\r\n        var index = buttons.indexOf(menuOpener);\r\n\r\n        // This should not happen, definitely!\r\n        if (index === -1) {\r\n          return;\r\n        }\r\n\r\n        // Get next button, fallback to first if end arrived\r\n        var nextButton = null;\r\n        var length = buttons.length;\r\n        for (var i = 1; i <= length; i++) {\r\n          var button = buttons[(index + i) % length];\r\n          if (button.isEnabled() && button.isVisible()) {\r\n            nextButton = button;\r\n            break;\r\n          }\r\n        }\r\n\r\n        if (nextButton && nextButton != menuOpener) {\r\n          nextButton.open(true);\r\n        }\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Event handler for <code>Enter</code> key\r\n     *\r\n     * @param menu {qx.ui.menu.Menu} The active menu\r\n     * @param button {qx.ui.menu.AbstractButton} The selected button\r\n     * @param e {qx.event.type.KeySequence} The keypress event\r\n     */\r\n    _onKeyPressEnter(menu, button, e) {\r\n      // Route keypress event to the selected button\r\n      if (button.hasListener(\"keypress\")) {\r\n        // Clone and reconfigure event\r\n        var clone = e.clone();\r\n        clone.setBubbles(false);\r\n        clone.setTarget(button);\r\n\r\n        // Finally dispatch the clone\r\n        button.dispatchEvent(clone);\r\n      }\r\n\r\n      // Hide all open menus\r\n      this.hideAll();\r\n    },\r\n\r\n    /**\r\n     * Event handler for <code>Space</code> key\r\n     *\r\n     * @param menu {qx.ui.menu.Menu} The active menu\r\n     * @param button {qx.ui.menu.AbstractButton} The selected button\r\n     * @param e {qx.event.type.KeySequence} The keypress event\r\n     */\r\n    _onKeyPressSpace(menu, button, e) {\r\n      // Route keypress event to the selected button\r\n      if (button.hasListener(\"keypress\")) {\r\n        // Clone and reconfigure event\r\n        var clone = e.clone();\r\n        clone.setBubbles(false);\r\n        clone.setTarget(button);\r\n\r\n        // Finally dispatch the clone\r\n        button.dispatchEvent(clone);\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Event handler for roll which hides all windows on scroll.\r\n     *\r\n     * @param e {qx.event.type.Roll} The roll event.\r\n     */\r\n    _onRoll(e) {\r\n      var target = e.getTarget();\r\n      target = qx.ui.core.Widget.getWidgetByElement(target, true);\r\n\r\n      if (\r\n        this.__objects.length > 0 &&\r\n        !this._isInMenu(target) &&\r\n        !this._isMenuOpener(target) &&\r\n        !e.getMomentum()\r\n      ) {\r\n        this.hideAll();\r\n      }\r\n    }\r\n  },\r\n\r\n  /*\r\n  *****************************************************************************\r\n     DESTRUCTOR\r\n  *****************************************************************************\r\n  */\r\n\r\n  destruct() {\r\n    var Registration = qx.event.Registration;\r\n    var el = document.body;\r\n\r\n    // React on pointerdown events\r\n    Registration.removeListener(\r\n      window.document.documentElement,\r\n      \"pointerdown\",\r\n      this._onPointerDown,\r\n      this,\r\n      true\r\n    );\r\n\r\n    // React on keypress events\r\n    Registration.removeListener(el, \"keydown\", this._onKeyUpDown, this, true);\r\n    Registration.removeListener(el, \"keyup\", this._onKeyUpDown, this, true);\r\n    Registration.removeListener(el, \"keypress\", this._onKeyPress, this, true);\r\n\r\n    this._disposeObjects(\"__openTimer\", \"__closeTimer\");\r\n    this._disposeArray(\"__objects\");\r\n  }\r\n});\r\n"
  ],
  "mappings": "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"
}