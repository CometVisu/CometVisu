{
  "version": 3,
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Mixin",
    "define",
    "statics",
    "Type",
    "LEAF",
    "BRANCH",
    "_addNode",
    "nodeArr",
    "parentNodeId",
    "label",
    "bOpened",
    "bHideOpenCloseButton",
    "type",
    "icon",
    "iconSelected",
    "nodeId",
    "parentNode",
    "Error",
    "ui",
    "treevirtual",
    "MTreePrimitive",
    "undefined",
    "length",
    "node",
    "bSelected",
    "bHideOpenClose",
    "bCanEdit",
    "children",
    "columnData",
    "push",
    "_getEmptyTree"
  ],
  "sources": [
    "/home/runner/work/CometVisu/CometVisu/node_modules/@qooxdoo/framework/source/class/qx/ui/treevirtual/MTreePrimitive.js"
  ],
  "sourcesContent": [
    "/* ************************************************************************\r\n\r\n   qooxdoo - the new era of web development\r\n\r\n   http://qooxdoo.org\r\n\r\n   Copyright:\r\n     2010 Derrell Lipman\r\n\r\n   License:\r\n     MIT: https://opensource.org/licenses/MIT\r\n     See the LICENSE file in the project's top-level directory for details.\r\n\r\n   Authors:\r\n     * Derrell Lipman (derrell)\r\n\r\n************************************************************************ */\r\n\r\n/**\r\n * Primitives for building trees and tree nodes.\r\n *\r\n * The methods in this mixin are included directly in the SimpleTreeDataModel\r\n * but are also useful for other types of trees (not TreeVirtual) that need\r\n * similar tree and node creation.\r\n */\r\nqx.Mixin.define(\"qx.ui.treevirtual.MTreePrimitive\", {\r\n  statics: {\r\n    /** Primitive types of tree nodes */\r\n    Type: {\r\n      LEAF: 1,\r\n      BRANCH: 2\r\n    },\r\n\r\n    /**\r\n     * Add a node to the tree.\r\n     *\r\n     * NOTE: This method is for <b>internal use</b> and should not be called by\r\n     *       users of this class. There is no guarantee that the interface to this\r\n     *       method will remain unchanged over time.\r\n     *\r\n     * @param nodeArr {Array|Map}\r\n     *   The array to which new nodes are to be added. See, however, the\r\n     *   nodeId parameter. If nodeId values will be provided, then nodeArr can\r\n     *   be a map. The traditional TreeVirtual does not provide node ids, and\r\n     *   passes an array for this parameter.\r\n     *\r\n     * @param parentNodeId {Integer}\r\n     *   The node id of the parent of the node being added\r\n     *\r\n     * @param label {String}\r\n     *   The string to display as the label for this node\r\n     *\r\n     * @param bOpened {Boolean}\r\n     *   <i>true</i> if the tree should be rendered in its opened state;\r\n     *   <i>false</i> otherwise.\r\n     *\r\n     * @param bHideOpenCloseButton {Boolean}\r\n     *   <i>true</i> if the open/close button should be hidden (not displayed);\r\n     *   </i>false</i> to display the open/close button for this node.\r\n     *\r\n     * @param type {Integer}\r\n     *   The type of node being added.  The type determines whether children\r\n     *   may be added, and determines the default icons to use.  This\r\n     *   parameter must be one of the following values:\r\n     *   <dl>\r\n     *     <dt>qx.ui.treevirtual.MTreePrimitive.Type.BRANCH</dt>\r\n     *     <dd>\r\n     *       This node is a branch.  A branch node may have children.\r\n     *     </dd>\r\n     *     <dt>qx.ui.treevirtual.MTreePrimitive.Type.LEAF</dt>\r\n     *     <dd>\r\n     *       This node is a leaf, and may not have children\r\n     *     </dd>\r\n     *   </dl>\r\n     *\r\n     * @param icon {String}\r\n     *   The relative (subject to alias expansion) or full path of the icon to\r\n     *   display for this node when it is not a selected node.\r\n     *\r\n     * @param iconSelected {String}\r\n     *   The relative (subject to alias expansion) or full path of the icon to\r\n     *   display for this node when it is a selected node.\r\n     *   <p>\r\n     *   NOTE: As of 13 Mar 2009, this feature is disabled by default, by\r\n     *         virtue of the fact that the tree's \"alwaysUpdateCells\" property\r\n     *         has a setting of 'false' now instead of 'true'. Setting this\r\n     *         property to true allows the icon to change upon selection, but\r\n     *         causes problems such as single clicks not always selecting a\r\n     *         row, and, in IE, double click operations failing\r\n     *         completely. (For more information, see bugs 605 and 2021.) To\r\n     *         re-enable the option to have an unique icon that is displayed\r\n     *         when the node is selected, issue\r\n     *         <code>tree.setAlwaysUpdateCells(true);</code>\r\n     *\r\n     * @param nodeId {Integer?}\r\n     *   The requested node id for this new node. If not provided, nodeArr\r\n     *   will be assumed to be an array, not a map, and the next available\r\n     *   index of the array will be used. If it is provided, then nodeArr may\r\n     *   be either an array or a map.\r\n     *\r\n     * @return {Integer} The node id of the newly-added node.\r\n     *\r\n     * @throws {Error} If one tries to add a child to a non-existent parent.\r\n     * @throws {Error} If one tries to add a node to a leaf.\r\n     */\r\n    _addNode(\r\n      nodeArr,\r\n      parentNodeId,\r\n      label,\r\n      bOpened,\r\n      bHideOpenCloseButton,\r\n      type,\r\n      icon,\r\n      iconSelected,\r\n      nodeId\r\n    ) {\r\n      var parentNode;\r\n\r\n      // Ensure that if parent was specified, it exists\r\n      if (parentNodeId) {\r\n        parentNode = nodeArr[parentNodeId];\r\n\r\n        if (!parentNode) {\r\n          throw new Error(\"Request to add a child to a non-existent parent\");\r\n        }\r\n\r\n        // Ensure parent isn't a leaf\r\n        if (parentNode.type == qx.ui.treevirtual.MTreePrimitive.Type.LEAF) {\r\n          throw new Error(\"Sorry, a LEAF may not have children.\");\r\n        }\r\n      } else {\r\n        // This is a child of the root\r\n        parentNode = nodeArr[0];\r\n        parentNodeId = 0;\r\n      }\r\n\r\n      // If this is a leaf, we don't present open/close icon\r\n      if (type == qx.ui.treevirtual.MTreePrimitive.Type.LEAF) {\r\n        // mask off the opened bit but retain the hide open/close button bit\r\n        bOpened = false;\r\n        bHideOpenCloseButton = false;\r\n      }\r\n\r\n      // Determine the node id of this new node\r\n      if (nodeId === undefined) {\r\n        nodeId = nodeArr.length;\r\n      }\r\n\r\n      // Set the data for this node.\r\n      var node = {\r\n        type: type,\r\n        nodeId: nodeId,\r\n        parentNodeId: parentNodeId,\r\n        label: label,\r\n        bSelected: false,\r\n        bOpened: bOpened,\r\n        bHideOpenClose: bHideOpenCloseButton,\r\n        bCanEdit: true,\r\n        icon: icon,\r\n        iconSelected: iconSelected,\r\n        children: [],\r\n        columnData: []\r\n      };\r\n\r\n      // Add this node to the array\r\n      nodeArr[nodeId] = node;\r\n\r\n      // Add this node to its parent's child array.\r\n      parentNode.children.push(nodeId);\r\n\r\n      // Return the node id we just added\r\n      return nodeId;\r\n    },\r\n\r\n    /**\r\n     * An empty tree contains only this one node\r\n     *\r\n     * @return {Map}\r\n     *   Returns a root node with all relevant fields filled.\r\n     */\r\n    _getEmptyTree() {\r\n      return {\r\n        label: \"<virtual root>\",\r\n        nodeId: 0,\r\n        bOpened: true,\r\n        children: []\r\n      };\r\n    }\r\n  }\r\n});\r\n"
  ],
  "mappings": ";;;;;;;;;EAAAA,EAAE,CAACC,SAAS,CAACC,oBAAoB,CAACC,aAAa,CAAC;EAAhD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;EAEA;AACA;AACA;AACA;AACA;AACA;AACA;EACAH,EAAE,CAACI,KAAK,CAACC,MAAM,CAAC,kCAAkC,EAAE;IAClDC,OAAO,EAAE;MACP;MACAC,IAAI,EAAE;QACJC,IAAI,EAAE,CAAC;QACPC,MAAM,EAAE;MACV,CAAC;MAED;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;MACIC,QAAQ,WAAAA,SACNC,OAAO,EACPC,YAAY,EACZC,KAAK,EACLC,OAAO,EACPC,oBAAoB,EACpBC,IAAI,EACJC,IAAI,EACJC,YAAY,EACZC,MAAM,EACN;QACA,IAAIC,UAAU;;QAEd;QACA,IAAIR,YAAY,EAAE;UAChBQ,UAAU,GAAGT,OAAO,CAACC,YAAY,CAAC;UAElC,IAAI,CAACQ,UAAU,EAAE;YACf,MAAM,IAAIC,KAAK,CAAC,iDAAiD,CAAC;UACpE;;UAEA;UACA,IAAID,UAAU,CAACJ,IAAI,IAAIhB,EAAE,CAACsB,EAAE,CAACC,WAAW,CAACC,cAAc,CAACjB,IAAI,CAACC,IAAI,EAAE;YACjE,MAAM,IAAIa,KAAK,CAAC,sCAAsC,CAAC;UACzD;QACF,CAAC,MAAM;UACL;UACAD,UAAU,GAAGT,OAAO,CAAC,CAAC,CAAC;UACvBC,YAAY,GAAG,CAAC;QAClB;;QAEA;QACA,IAAII,IAAI,IAAIhB,EAAE,CAACsB,EAAE,CAACC,WAAW,CAACC,cAAc,CAACjB,IAAI,CAACC,IAAI,EAAE;UACtD;UACAM,OAAO,GAAG,KAAK;UACfC,oBAAoB,GAAG,KAAK;QAC9B;;QAEA;QACA,IAAII,MAAM,KAAKM,SAAS,EAAE;UACxBN,MAAM,GAAGR,OAAO,CAACe,MAAM;QACzB;;QAEA;QACA,IAAIC,IAAI,GAAG;UACTX,IAAI,EAAEA,IAAI;UACVG,MAAM,EAAEA,MAAM;UACdP,YAAY,EAAEA,YAAY;UAC1BC,KAAK,EAAEA,KAAK;UACZe,SAAS,EAAE,KAAK;UAChBd,OAAO,EAAEA,OAAO;UAChBe,cAAc,EAAEd,oBAAoB;UACpCe,QAAQ,EAAE,IAAI;UACdb,IAAI,EAAEA,IAAI;UACVC,YAAY,EAAEA,YAAY;UAC1Ba,QAAQ,EAAE,EAAE;UACZC,UAAU,EAAE;QACd,CAAC;;QAED;QACArB,OAAO,CAACQ,MAAM,CAAC,GAAGQ,IAAI;;QAEtB;QACAP,UAAU,CAACW,QAAQ,CAACE,IAAI,CAACd,MAAM,CAAC;;QAEhC;QACA,OAAOA,MAAM;MACf,CAAC;MAED;AACJ;AACA;AACA;AACA;AACA;MACIe,aAAa,WAAAA,cAAA,EAAG;QACd,OAAO;UACLrB,KAAK,EAAE,gBAAgB;UACvBM,MAAM,EAAE,CAAC;UACTL,OAAO,EAAE,IAAI;UACbiB,QAAQ,EAAE;QACZ,CAAC;MACH;IACF;EACF,CAAC,CAAC;EA7LF/B,EAAE,CAACsB,EAAE,CAACC,WAAW,CAACC,cAAc,CAACrB,aAAa,GAAGA,aAAa;AAAC"
}