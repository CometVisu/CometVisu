{
  "version": 3,
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Mixin",
    "define",
    "statics",
    "Type",
    "LEAF",
    "BRANCH",
    "_addNode",
    "nodeArr",
    "parentNodeId",
    "label",
    "bOpened",
    "bHideOpenCloseButton",
    "type",
    "icon",
    "iconSelected",
    "nodeId",
    "parentNode",
    "Error",
    "ui",
    "treevirtual",
    "MTreePrimitive",
    "undefined",
    "length",
    "node",
    "bSelected",
    "bHideOpenClose",
    "bCanEdit",
    "children",
    "columnData",
    "push",
    "_getEmptyTree"
  ],
  "sources": [
    "/home/runner/work/CometVisu/CometVisu/node_modules/@qooxdoo/framework/source/class/qx/ui/treevirtual/MTreePrimitive.js"
  ],
  "sourcesContent": [
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2010 Derrell Lipman\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Derrell Lipman (derrell)\n\n************************************************************************ */\n\n/**\n * Primitives for building trees and tree nodes.\n *\n * The methods in this mixin are included directly in the SimpleTreeDataModel\n * but are also useful for other types of trees (not TreeVirtual) that need\n * similar tree and node creation.\n */\nqx.Mixin.define(\"qx.ui.treevirtual.MTreePrimitive\", {\n  statics: {\n    /** Primitive types of tree nodes */\n    Type: {\n      LEAF: 1,\n      BRANCH: 2\n    },\n\n    /**\n     * Add a node to the tree.\n     *\n     * NOTE: This method is for <b>internal use</b> and should not be called by\n     *       users of this class. There is no guarantee that the interface to this\n     *       method will remain unchanged over time.\n     *\n     * @param nodeArr {Array|Map}\n     *   The array to which new nodes are to be added. See, however, the\n     *   nodeId parameter. If nodeId values will be provided, then nodeArr can\n     *   be a map. The traditional TreeVirtual does not provide node ids, and\n     *   passes an array for this parameter.\n     *\n     * @param parentNodeId {Integer}\n     *   The node id of the parent of the node being added\n     *\n     * @param label {String}\n     *   The string to display as the label for this node\n     *\n     * @param bOpened {Boolean}\n     *   <i>true</i> if the tree should be rendered in its opened state;\n     *   <i>false</i> otherwise.\n     *\n     * @param bHideOpenCloseButton {Boolean}\n     *   <i>true</i> if the open/close button should be hidden (not displayed);\n     *   </i>false</i> to display the open/close button for this node.\n     *\n     * @param type {Integer}\n     *   The type of node being added.  The type determines whether children\n     *   may be added, and determines the default icons to use.  This\n     *   parameter must be one of the following values:\n     *   <dl>\n     *     <dt>qx.ui.treevirtual.MTreePrimitive.Type.BRANCH</dt>\n     *     <dd>\n     *       This node is a branch.  A branch node may have children.\n     *     </dd>\n     *     <dt>qx.ui.treevirtual.MTreePrimitive.Type.LEAF</dt>\n     *     <dd>\n     *       This node is a leaf, and may not have children\n     *     </dd>\n     *   </dl>\n     *\n     * @param icon {String}\n     *   The relative (subject to alias expansion) or full path of the icon to\n     *   display for this node when it is not a selected node.\n     *\n     * @param iconSelected {String}\n     *   The relative (subject to alias expansion) or full path of the icon to\n     *   display for this node when it is a selected node.\n     *   <p>\n     *   NOTE: As of 13 Mar 2009, this feature is disabled by default, by\n     *         virtue of the fact that the tree's \"alwaysUpdateCells\" property\n     *         has a setting of 'false' now instead of 'true'. Setting this\n     *         property to true allows the icon to change upon selection, but\n     *         causes problems such as single clicks not always selecting a\n     *         row, and, in IE, double click operations failing\n     *         completely. (For more information, see bugs 605 and 2021.) To\n     *         re-enable the option to have an unique icon that is displayed\n     *         when the node is selected, issue\n     *         <code>tree.setAlwaysUpdateCells(true);</code>\n     *\n     * @param nodeId {Integer?}\n     *   The requested node id for this new node. If not provided, nodeArr\n     *   will be assumed to be an array, not a map, and the next available\n     *   index of the array will be used. If it is provided, then nodeArr may\n     *   be either an array or a map.\n     *\n     * @return {Integer} The node id of the newly-added node.\n     *\n     * @throws {Error} If one tries to add a child to a non-existent parent.\n     * @throws {Error} If one tries to add a node to a leaf.\n     */\n    _addNode(\n      nodeArr,\n      parentNodeId,\n      label,\n      bOpened,\n      bHideOpenCloseButton,\n      type,\n      icon,\n      iconSelected,\n      nodeId\n    ) {\n      var parentNode;\n\n      // Ensure that if parent was specified, it exists\n      if (parentNodeId) {\n        parentNode = nodeArr[parentNodeId];\n\n        if (!parentNode) {\n          throw new Error(\"Request to add a child to a non-existent parent\");\n        }\n\n        // Ensure parent isn't a leaf\n        if (parentNode.type == qx.ui.treevirtual.MTreePrimitive.Type.LEAF) {\n          throw new Error(\"Sorry, a LEAF may not have children.\");\n        }\n      } else {\n        // This is a child of the root\n        parentNode = nodeArr[0];\n        parentNodeId = 0;\n      }\n\n      // If this is a leaf, we don't present open/close icon\n      if (type == qx.ui.treevirtual.MTreePrimitive.Type.LEAF) {\n        // mask off the opened bit but retain the hide open/close button bit\n        bOpened = false;\n        bHideOpenCloseButton = false;\n      }\n\n      // Determine the node id of this new node\n      if (nodeId === undefined) {\n        nodeId = nodeArr.length;\n      }\n\n      // Set the data for this node.\n      var node = {\n        type: type,\n        nodeId: nodeId,\n        parentNodeId: parentNodeId,\n        label: label,\n        bSelected: false,\n        bOpened: bOpened,\n        bHideOpenClose: bHideOpenCloseButton,\n        bCanEdit: true,\n        icon: icon,\n        iconSelected: iconSelected,\n        children: [],\n        columnData: []\n      };\n\n      // Add this node to the array\n      nodeArr[nodeId] = node;\n\n      // Add this node to its parent's child array.\n      parentNode.children.push(nodeId);\n\n      // Return the node id we just added\n      return nodeId;\n    },\n\n    /**\n     * An empty tree contains only this one node\n     *\n     * @return {Map}\n     *   Returns a root node with all relevant fields filled.\n     */\n    _getEmptyTree() {\n      return {\n        label: \"<virtual root>\",\n        nodeId: 0,\n        bOpened: true,\n        children: []\n      };\n    }\n  }\n});\n"
  ],
  "mappings": ";;;;;;;;;EAAAA,EAAE,CAACC,SAAH,CAAaC,oBAAb,CAAkCC,aAAlC;;EAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;EAEA;AACA;AACA;AACA;AACA;AACA;AACA;EACAH,EAAE,CAACI,KAAH,CAASC,MAAT,CAAgB,kCAAhB,EAAoD;IAClDC,OAAO,EAAE;MACP;MACAC,IAAI,EAAE;QACJC,IAAI,EAAE,CADF;QAEJC,MAAM,EAAE;MAFJ,CAFC;;MAOP;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;MACIC,QA/EO,oBAgFLC,OAhFK,EAiFLC,YAjFK,EAkFLC,KAlFK,EAmFLC,OAnFK,EAoFLC,oBApFK,EAqFLC,IArFK,EAsFLC,IAtFK,EAuFLC,YAvFK,EAwFLC,MAxFK,EAyFL;QACA,IAAIC,UAAJ,CADA,CAGA;;QACA,IAAIR,YAAJ,EAAkB;UAChBQ,UAAU,GAAGT,OAAO,CAACC,YAAD,CAApB;;UAEA,IAAI,CAACQ,UAAL,EAAiB;YACf,MAAM,IAAIC,KAAJ,CAAU,iDAAV,CAAN;UACD,CALe,CAOhB;;;UACA,IAAID,UAAU,CAACJ,IAAX,IAAmBhB,EAAE,CAACsB,EAAH,CAAMC,WAAN,CAAkBC,cAAlB,CAAiCjB,IAAjC,CAAsCC,IAA7D,EAAmE;YACjE,MAAM,IAAIa,KAAJ,CAAU,sCAAV,CAAN;UACD;QACF,CAXD,MAWO;UACL;UACAD,UAAU,GAAGT,OAAO,CAAC,CAAD,CAApB;UACAC,YAAY,GAAG,CAAf;QACD,CAnBD,CAqBA;;;QACA,IAAII,IAAI,IAAIhB,EAAE,CAACsB,EAAH,CAAMC,WAAN,CAAkBC,cAAlB,CAAiCjB,IAAjC,CAAsCC,IAAlD,EAAwD;UACtD;UACAM,OAAO,GAAG,KAAV;UACAC,oBAAoB,GAAG,KAAvB;QACD,CA1BD,CA4BA;;;QACA,IAAII,MAAM,KAAKM,SAAf,EAA0B;UACxBN,MAAM,GAAGR,OAAO,CAACe,MAAjB;QACD,CA/BD,CAiCA;;;QACA,IAAIC,IAAI,GAAG;UACTX,IAAI,EAAEA,IADG;UAETG,MAAM,EAAEA,MAFC;UAGTP,YAAY,EAAEA,YAHL;UAITC,KAAK,EAAEA,KAJE;UAKTe,SAAS,EAAE,KALF;UAMTd,OAAO,EAAEA,OANA;UAOTe,cAAc,EAAEd,oBAPP;UAQTe,QAAQ,EAAE,IARD;UASTb,IAAI,EAAEA,IATG;UAUTC,YAAY,EAAEA,YAVL;UAWTa,QAAQ,EAAE,EAXD;UAYTC,UAAU,EAAE;QAZH,CAAX,CAlCA,CAiDA;;QACArB,OAAO,CAACQ,MAAD,CAAP,GAAkBQ,IAAlB,CAlDA,CAoDA;;QACAP,UAAU,CAACW,QAAX,CAAoBE,IAApB,CAAyBd,MAAzB,EArDA,CAuDA;;QACA,OAAOA,MAAP;MACD,CAlJM;;MAoJP;AACJ;AACA;AACA;AACA;AACA;MACIe,aA1JO,2BA0JS;QACd,OAAO;UACLrB,KAAK,EAAE,gBADF;UAELM,MAAM,EAAE,CAFH;UAGLL,OAAO,EAAE,IAHJ;UAILiB,QAAQ,EAAE;QAJL,CAAP;MAMD;IAjKM;EADyC,CAApD;EAzBA/B,EAAE,CAACsB,EAAH,CAAMC,WAAN,CAAkBC,cAAlB,CAAiCrB,aAAjC,GAAiDA,aAAjD"
}