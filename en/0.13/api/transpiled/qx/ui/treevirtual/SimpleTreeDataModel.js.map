{
  "version": 3,
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "extend",
    "ui",
    "table",
    "model",
    "Abstract",
    "include",
    "treevirtual",
    "MTreePrimitive",
    "construct",
    "constructor",
    "call",
    "_rowArr",
    "_nodeArr",
    "_nodeRowMap",
    "_treeColumn",
    "_selections",
    "push",
    "_getEmptyTree",
    "__editableColArr",
    "properties",
    "filter",
    "check",
    "nullable",
    "apply",
    "members",
    "__tree",
    "__tempTreeData",
    "__recalculateLastChildFlags",
    "setTree",
    "tree",
    "getTree",
    "setEditable",
    "editable",
    "col",
    "getColumnCount",
    "fireEvent",
    "setColumnEditable",
    "columnIndex",
    "isColumnEditable",
    "getAllowNodeEdit",
    "isColumnSortable",
    "sortByColumn",
    "ascending",
    "Error",
    "getSortColumnIndex",
    "setTreeColumn",
    "getTreeColumn",
    "getRowCount",
    "length",
    "getRowData",
    "rowIndex",
    "getValue",
    "setValue",
    "value",
    "node",
    "getNodeFromRow",
    "undefined",
    "updatedNode",
    "lang",
    "Object",
    "clone",
    "label",
    "nodeId",
    "columnData",
    "hasListener",
    "data",
    "firstRow",
    "lastRow",
    "firstColumn",
    "lastColumn",
    "fireDataEvent",
    "getNode",
    "addBranch",
    "parentNodeId",
    "bOpened",
    "bHideOpenCloseButton",
    "icon",
    "iconSelected",
    "_addNode",
    "Type",
    "BRANCH",
    "addLeaf",
    "LEAF",
    "prune",
    "nodeReference",
    "bSelfAlso",
    "_typeof",
    "i",
    "children",
    "Array",
    "remove",
    "move",
    "moveNodeReference",
    "parentNodeReference",
    "moveNode",
    "moveNodeId",
    "parentNode",
    "type",
    "oldParent",
    "__inorder",
    "__P_477_4",
    "level",
    "getFilter",
    "child",
    "childNodeId",
    "numChildren",
    "index",
    "bFirstChild",
    "__setLastChildFlag",
    "rowData",
    "j",
    "bSelected",
    "selected",
    "__calculateLastChildFlags",
    "__P_477_6",
    "tempTreeData",
    "hasChildren",
    "__P_477_5",
    "isLastChild",
    "lastChild",
    "parent",
    "bLast",
    "unshift",
    "__render",
    "__P_477_7",
    "setData",
    "nodeArr",
    "_checkEditing",
    "selectionModel",
    "getSelectionModel",
    "selections",
    "setBatchMode",
    "resetSelection",
    "nRowIndex",
    "getRowFromNodeId",
    "addSelectionInterval",
    "getData",
    "clearData",
    "_clearSelections",
    "setColumnData",
    "getColumnData",
    "setState",
    "attributes",
    "suppressRedraw",
    "attribute",
    "TV",
    "TreeVirtual",
    "bChangeSelection",
    "getSelectionMode",
    "SelectionMode",
    "NONE",
    "isSelectedIndex",
    "setSelectionInterval",
    "removeSelectionInterval",
    "bHideOpenClose",
    "_resetSelection",
    "getNodeRowMap",
    "selection",
    "getSelectedNodes",
    "nodes",
    "_applyFilter",
    "old",
    "isNodeEditable",
    "bCanEdit",
    "destruct",
    "defer",
    "statics",
    "SimpleTreeDataModel"
  ],
  "sources": [
    "/home/runner/work/CometVisu/CometVisu/node_modules/@qooxdoo/framework/source/class/qx/ui/treevirtual/SimpleTreeDataModel.js"
  ],
  "sourcesContent": [
    "/* ************************************************************************\r\n\r\n   qooxdoo - the new era of web development\r\n\r\n   http://qooxdoo.org\r\n\r\n   Copyright:\r\n     2007-2010 Derrell Lipman\r\n\r\n   License:\r\n     MIT: https://opensource.org/licenses/MIT\r\n     See the LICENSE file in the project's top-level directory for details.\r\n\r\n   Authors:\r\n     * Derrell Lipman (derrell)\r\n\r\n************************************************************************ */\r\n\r\n/**\r\n * A simple tree data model used as the table model\r\n *\r\n * The object structure of a single node of the tree is:\r\n *\r\n * <pre class='javascript'>\r\n * {\r\n *   // USER-PROVIDED ATTRIBUTES\r\n *   // ------------------------\r\n *   type           : qx.ui.treevirtual.MTreePrimitive.Type.LEAF,\r\n *   parentNodeId   : 23,    // index of the parent node in _nodeArr\r\n *\r\n *   label          : \"My Documents\",\r\n *   bSelected      : true,  // true if node is selected; false otherwise.\r\n *   bOpened        : true,  // true (-), false (+)\r\n *   bHideOpenClose : false, // whether to hide the open/close button\r\n *   bCanEdit       : true,  // true if the node label can be edited, false to prevent edit\r\n *   icon           : \"images/folder.gif\",\r\n *   iconSelected   : \"images/folder_selected.gif\",\r\n *\r\n *   cellStyle      : \"background-color:cyan\"\r\n *   labelStyle     : \"background-color:red;color:white\"\r\n *\r\n *   // USER-PROVIDED COLUMN DATA\r\n *   columnData     : [\r\n *                      null, // null at index of tree column (typically 0)\r\n *                      \"text of column 1\",\r\n *                      \"text of column 2\"\r\n *                    ],\r\n *\r\n *   // APPLICATION-, MIXIN-, and SUBCLASS-PROVIDED CUSTOM DATA\r\n *   data           : {\r\n *                      application :\r\n *                      {\r\n *                          // application-specific user data goes in here\r\n *                          foo: \"bar\",\r\n *                          ...\r\n *                      },\r\n *                      MDragAndDropSupport :\r\n *                      {\r\n *                          // Data required for the Drag & Drop mixin.\r\n *                          // When a mixin is included, its constructor\r\n *                          // should create this object, named according\r\n *                          // to the mixin or subclass name (empty or\r\n *                          // otherwise)\r\n *                      },\r\n *                      ... // Additional mixins or subclasses.\r\n *                    },\r\n *\r\n *   // INTERNALLY-CALCULATED ATTRIBUTES\r\n *   // --------------------------------\r\n *   // The following properties need not (and should not) be set by the\r\n *   // caller, but are automatically calculated.  Some are used internally,\r\n *   // while others may be of use to event listeners.\r\n *\r\n *   nodeId         : 42,   // The index in _nodeArr, useful to event listeners.\r\n *   children       : [ ],  // each value is an index into _nodeArr\r\n *\r\n *   level          : 2,    // The indentation level of this tree node\r\n *   labelPos       : 40,   // The left position of the label text - stored when the cell is rendered\r\n *\r\n *   bFirstChild    : true,\r\n *   lastChild      : [ false ],  // Array where the index is the column of\r\n *                                // indentation, and the value is a boolean.\r\n *                                // These are used to locate the\r\n *                                // appropriate \"tree line\" icon.\r\n * }\r\n * </pre>\r\n */\r\nqx.Class.define(\"qx.ui.treevirtual.SimpleTreeDataModel\", {\r\n  extend: qx.ui.table.model.Abstract,\r\n\r\n  include: qx.ui.treevirtual.MTreePrimitive,\r\n\r\n  /*\r\n  *****************************************************************************\r\n     CONSTRUCTOR\r\n  *****************************************************************************\r\n  */\r\n\r\n  construct() {\r\n    super();\r\n\r\n    this._rowArr = []; // rows, resorted into tree order as necessary\r\n    this._nodeArr = []; // tree nodes, organized with hierarchy\r\n\r\n    this._nodeRowMap = []; // map nodeArr index to rowArr index.  The\r\n    // index of this array is the index of\r\n    // _nodeArr, and the values in this array are\r\n    // the indexes into _rowArr.\r\n\r\n    this._treeColumn = 0; // default column for tree nodes\r\n\r\n    this._selections = {}; // list of indexes of selected nodes\r\n\r\n    // the root node, needed to store its children\r\n    this._nodeArr.push(qx.ui.treevirtual.MTreePrimitive._getEmptyTree());\r\n\r\n    // Track which columns are editable\r\n    this.__editableColArr = null;\r\n  },\r\n\r\n  properties: {\r\n    /**\r\n     * Gives the user the opportunity to filter the model. The filter\r\n     * function is called for every node in the model. It gets as an argument the\r\n     * <code>node</code> object and has to return\r\n     * <code>true</code> if the given data should be shown and\r\n     * <code>false</code> if the given data should be ignored.\r\n     */\r\n    filter: {\r\n      check: \"Function\",\r\n      nullable: true,\r\n      apply: \"_applyFilter\"\r\n    }\r\n  },\r\n\r\n  /*\r\n  *****************************************************************************\r\n     MEMBERS\r\n  *****************************************************************************\r\n  */\r\n\r\n  members: {\r\n    __tree: null,\r\n    __editableColArr: null,\r\n    __tempTreeData: null,\r\n    __recalculateLastChildFlags: null,\r\n\r\n    /** Rows, resorted into tree order as necessary */\r\n    _rowArr: null,\r\n\r\n    /** Tree nodes, organized with hierarchy */\r\n    _nodeArr: null,\r\n\r\n    /**\r\n     * Map nodeArr index to rowArr index.  The index of this array is the\r\n     * index of _nodeArr, and the values in this array are the indexes into\r\n     * _rowArr.\r\n     */\r\n    _nodeRowMap: null,\r\n\r\n    /** Column for tree nodes */\r\n    _treeColumn: null,\r\n\r\n    /** list of indexes of selected nodes */\r\n    _selections: null,\r\n\r\n    /**\r\n     * Set the tree object for which this data model is used.\r\n     *\r\n     * @param tree {qx.ui.treevirtual.TreeVirtual}\r\n     *    The tree used to render the data in this model.\r\n     *\r\n     */\r\n    setTree(tree) {\r\n      this.__tree = tree;\r\n    },\r\n\r\n    /**\r\n     * Get the tree object for which this data model is used.\r\n     *\r\n     * @return {qx.ui.treevirtual.TreeVirtual}\r\n     */\r\n    getTree() {\r\n      return this.__tree;\r\n    },\r\n\r\n    /**\r\n     * Sets all columns editable or not editable.\r\n     *\r\n     * @param editable {Boolean}\r\n     *   Whether all columns are editable.\r\n     *\r\n     */\r\n    setEditable(editable) {\r\n      this.__editableColArr = [];\r\n\r\n      for (var col = 0; col < this.getColumnCount(); col++) {\r\n        this.__editableColArr[col] = editable;\r\n      }\r\n\r\n      this.fireEvent(\"metaDataChanged\");\r\n    },\r\n\r\n    /**\r\n     * Sets whether a column is editable.\r\n     *\r\n     * @param columnIndex {Integer}\r\n     *   The column of which to set the editable state.\r\n     *\r\n     * @param editable {Boolean}\r\n     *   Whether the column should be editable.\r\n     *\r\n     */\r\n    setColumnEditable(columnIndex, editable) {\r\n      if (editable != this.isColumnEditable(columnIndex)) {\r\n        if (this.__editableColArr == null) {\r\n          this.__editableColArr = [];\r\n        }\r\n\r\n        this.__editableColArr[columnIndex] = editable;\r\n\r\n        this.fireEvent(\"metaDataChanged\");\r\n      }\r\n    },\r\n\r\n    // overridden\r\n    isColumnEditable(columnIndex) {\r\n      if (columnIndex == this._treeColumn) {\r\n        return this.__tree.getAllowNodeEdit();\r\n      }\r\n\r\n      return this.__editableColArr\r\n        ? this.__editableColArr[columnIndex] == true\r\n        : false;\r\n    },\r\n\r\n    // overridden\r\n    isColumnSortable(columnIndex) {\r\n      return false;\r\n    },\r\n\r\n    /**\r\n     * Sorts the model by a column.\r\n     *\r\n     * @param columnIndex {Integer} the column to sort by.\r\n     * @param ascending {Boolean} whether to sort ascending.\r\n     * @throws {Error} If one tries to sort the tree by column\r\n     */\r\n    sortByColumn(columnIndex, ascending) {\r\n      throw new Error(\"Trees can not be sorted by column\");\r\n    },\r\n\r\n    /**\r\n     * Returns the column index the model is sorted by. This model is never\r\n     * sorted, so -1 is returned.\r\n     *\r\n     * @return {Integer}\r\n     *   -1, to indicate that the model is not sorted.\r\n     */\r\n    getSortColumnIndex() {\r\n      return -1;\r\n    },\r\n\r\n    /**\r\n     * Specifies which column the tree is to be displayed in.  The tree is\r\n     * displayed using the SimpleTreeDataCellRenderer.  Other columns may be\r\n     * provided which use different cell renderers.\r\n     *\r\n     * Setting the tree column involves more than simply setting this column\r\n     * index; it also requires setting an appropriate cell renderer for this\r\n     * column, that knows how to render a tree. The expected and typical\r\n     * method of setting the tree column is to provide it in the 'custom'\r\n     * parameter to the TreeVirtual constructor, which also initializes the\r\n     * proper cell renderers. This method does not set any cell renderers. If\r\n     * you wish to call this method on your own, you should also manually set\r\n     * the cell renderer for the specified column, and likely also set the\r\n     * cell renderer for column 0 (the former tree column) to something\r\n     * appropriate to your data.\r\n     *\r\n     *\r\n     * @param columnIndex {Integer}\r\n     *   The index of the column in which the tree should be displayed.\r\n     *\r\n     */\r\n    setTreeColumn(columnIndex) {\r\n      this._treeColumn = columnIndex;\r\n    },\r\n\r\n    /**\r\n     * Get the column in which the tree is to be displayed.\r\n     *\r\n     * @return {Integer}\r\n     *   The column in which the tree is to be displayed\r\n     */\r\n    getTreeColumn() {\r\n      return this._treeColumn;\r\n    },\r\n\r\n    // overridden\r\n    getRowCount() {\r\n      return this._rowArr.length;\r\n    },\r\n\r\n    // overridden\r\n    getRowData(rowIndex) {\r\n      return this._rowArr[rowIndex];\r\n    },\r\n\r\n    /**\r\n     * Returns a cell value by column index.\r\n     *\r\n     * @throws {Error} if the row index is out of bounds.\r\n     * @param columnIndex {Integer} the index of the column.\r\n     * @param rowIndex {Integer} the index of the row.\r\n     * @return {var} The value of the cell.\r\n     * @see #getValueById\r\n     */\r\n    getValue(columnIndex, rowIndex) {\r\n      if (rowIndex < 0 || rowIndex >= this._rowArr.length) {\r\n        throw new Error(\r\n          \"this._rowArr row \" +\r\n            \"(\" +\r\n            rowIndex +\r\n            \") out of bounds: \" +\r\n            this._rowArr +\r\n            \" (0..\" +\r\n            (this._rowArr.length - 1) +\r\n            \")\"\r\n        );\r\n      }\r\n\r\n      if (columnIndex < 0 || columnIndex >= this._rowArr[rowIndex].length) {\r\n        throw new Error(\r\n          \"this._rowArr column \" +\r\n            \"(\" +\r\n            columnIndex +\r\n            \") out of bounds: \" +\r\n            this._rowArr[rowIndex] +\r\n            \" (0..\" +\r\n            (this._rowArr[rowIndex].length - 1) +\r\n            \")\"\r\n        );\r\n      }\r\n\r\n      return this._rowArr[rowIndex][columnIndex];\r\n    },\r\n\r\n    // overridden\r\n    setValue(columnIndex, rowIndex, value) {\r\n      // convert from rowArr to nodeArr, and get the requested node\r\n      var node = this.getNodeFromRow(rowIndex);\r\n\r\n      if (columnIndex === this._treeColumn) {\r\n        if (!this.__tree.getAllowNodeEdit() || value[\"label\"] === undefined) {\r\n          return;\r\n        }\r\n        // only allow to set the node label via this method, clone the original node\r\n        var updatedNode = qx.lang.Object.clone(node);\r\n        updatedNode.label = value.label;\r\n        this._nodeArr[node.nodeId] = updatedNode;\r\n      } else {\r\n        if (node.columnData[columnIndex] == value) {\r\n          return;\r\n        }\r\n        node.columnData[columnIndex] = value;\r\n        this._rowArr[rowIndex][columnIndex] = value;\r\n      }\r\n      // Inform the listeners\r\n      if (this.hasListener(\"dataChanged\")) {\r\n        var data = {\r\n          firstRow: rowIndex,\r\n          lastRow: rowIndex,\r\n          firstColumn: columnIndex,\r\n          lastColumn: columnIndex\r\n        };\r\n\r\n        this.fireDataEvent(\"dataChanged\", data);\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Returns the node object specific to a currently visible row. In this\r\n     * simple tree data model, that's the same as retrieving the value of the\r\n     * tree column of the specified row.\r\n     *\r\n     * @throws {Error}\r\n     *   Thrown if the row index is out of bounds.\r\n     *\r\n     * @param rowIndex {Integer}\r\n     *   The index of the row.\r\n     *\r\n     * @return {Object}\r\n     *   The node object associated with the specified row.\r\n     */\r\n    getNode(rowIndex) {\r\n      if (rowIndex < 0 || rowIndex >= this._rowArr.length) {\r\n        throw new Error(\r\n          \"this._rowArr row \" +\r\n            \"(\" +\r\n            rowIndex +\r\n            \") out of bounds: \" +\r\n            this._rowArr +\r\n            \" (0..\" +\r\n            (this._rowArr.length - 1) +\r\n            \")\"\r\n        );\r\n      }\r\n\r\n      return this._rowArr[rowIndex][this._treeColumn];\r\n    },\r\n\r\n    /**\r\n     * Add a branch to the tree.\r\n     *\r\n     * @param parentNodeId {Integer}\r\n     *   The node id of the parent of the node being added\r\n     *\r\n     * @param label {String}\r\n     *   The string to display as the label for this node\r\n     *\r\n     * @param bOpened {Boolean}\r\n     *   <i>True</i> if the branch should be rendered in its opened state;\r\n     *   <i>false</i> otherwise.\r\n     *\r\n     * @param bHideOpenCloseButton {Boolean}\r\n     *   <i>True</i> if the open/close button should not be displayed;\r\n     *   <i>false</i> if the open/close button should be displayed\r\n     *\r\n     * @param icon {String}\r\n     *   The relative (subject to alias expansion) or full path of the icon to\r\n     *   display for this node when it is not a selected node.\r\n     *\r\n     * @param iconSelected {String}\r\n     *   The relative (subject to alias expansion) or full path of the icon to\r\n     *   display for this node when it is a selected node.\r\n     *\r\n     * @return {Integer}\r\n     *   The node id of the newly-added branch.\r\n     */\r\n    addBranch(\r\n      parentNodeId,\r\n      label,\r\n      bOpened,\r\n      bHideOpenCloseButton,\r\n      icon,\r\n      iconSelected\r\n    ) {\r\n      return qx.ui.treevirtual.MTreePrimitive._addNode(\r\n        this._nodeArr,\r\n        parentNodeId,\r\n        label,\r\n        bOpened,\r\n        bHideOpenCloseButton,\r\n        qx.ui.treevirtual.MTreePrimitive.Type.BRANCH,\r\n        icon,\r\n        iconSelected\r\n      );\r\n    },\r\n\r\n    /**\r\n     * Add a leaf to the tree.\r\n     *\r\n     * @param parentNodeId {Integer}\r\n     *   The node id of the parent of the node being added\r\n     *\r\n     * @param label {String}\r\n     *   The string to display as the label for this node\r\n     *\r\n     * @param icon {String}\r\n     *   The relative (subject to alias expansion) or full path of the icon to\r\n     *   display for this node when it is not a selected node.\r\n     *\r\n     * @param iconSelected {String}\r\n     *   The relative (subject to alias expansion) or full path of the icon to\r\n     *   display for this node when it is a selected node.\r\n     *\r\n     * @return {Integer} The node id of the newly-added leaf.\r\n     */\r\n    addLeaf(parentNodeId, label, icon, iconSelected) {\r\n      return qx.ui.treevirtual.MTreePrimitive._addNode(\r\n        this._nodeArr,\r\n        parentNodeId,\r\n        label,\r\n        false,\r\n        false,\r\n        qx.ui.treevirtual.MTreePrimitive.Type.LEAF,\r\n        icon,\r\n        iconSelected\r\n      );\r\n    },\r\n\r\n    /**\r\n     * Prune the tree by removing, recursively, all of a node's children.  If\r\n     * requested, also remove the node itself.\r\n     *\r\n     * @param nodeReference {Object | Integer}\r\n     *   The node to be pruned from the tree.  The node can be represented\r\n     *   either by the node object, or the node id (as would have been\r\n     *   returned by addBranch(), addLeaf(), etc.)\r\n     *\r\n     * @param bSelfAlso {Boolean}\r\n     *   If <i>true</i> then remove the node identified by <i>nodeId</i> as\r\n     *   well as all of the children.\r\n     *\r\n     * @throws {Error} If the node object or id is not valid.\r\n     *\r\n     */\r\n    prune(nodeReference, bSelfAlso) {\r\n      var node;\r\n      var nodeId;\r\n\r\n      if (typeof nodeReference == \"object\") {\r\n        node = nodeReference;\r\n        nodeId = node.nodeId;\r\n      } else if (typeof nodeReference == \"number\") {\r\n        nodeId = nodeReference;\r\n      } else {\r\n        throw new Error(\"Expected node object or node id\");\r\n      }\r\n\r\n      // First, recursively remove all children\r\n      for (var i = this._nodeArr[nodeId].children.length - 1; i >= 0; i--) {\r\n        this.prune(this._nodeArr[nodeId].children[i], true);\r\n      }\r\n\r\n      // Now remove ourself, if requested. (Don't try to remove the root node)\r\n      if (bSelfAlso && nodeId != 0) {\r\n        // Delete ourself from our parent's children list\r\n        node = this._nodeArr[nodeId];\r\n        qx.lang.Array.remove(this._nodeArr[node.parentNodeId].children, nodeId);\r\n\r\n        // Delete ourself from the selections list, if we're in it.\r\n        if (this._selections[nodeId]) {\r\n          delete this._selections[nodeId];\r\n        }\r\n\r\n        // We can't splice the node itself out, because that would muck up the\r\n        // nodeId == index correspondence.  Instead, just replace the node\r\n        // with null so its index just becomes unused.\r\n        this._nodeArr[nodeId] = null;\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Move a node in the tree.\r\n     *\r\n     * @param moveNodeReference {Object | Integer}\r\n     *   The node to be moved.  The node can be represented\r\n     *   either by the node object, or the node id (as would have been\r\n     *   returned by addBranch(), addLeaf(), etc.)\r\n     *\r\n     * @param parentNodeReference {Object | Integer}\r\n     *   The new parent node, which must not be a LEAF.  The node can be\r\n     *   represented either by the node object, or the node id (as would have\r\n     *   been returned by addBranch(), addLeaf(), etc.)\r\n     *\r\n     * @throws {Error} If the node object or id is not valid.\r\n     * @throws {Error} If one tries to add a child to a non-existent parent.\r\n     * @throws {Error} If one tries to add a node to a leaf.\r\n     */\r\n    move(moveNodeReference, parentNodeReference) {\r\n      var moveNode;\r\n      var moveNodeId;\r\n      var parentNode;\r\n      var parentNodeId;\r\n\r\n      // Replace null parent with node id 0\r\n      parentNodeReference = parentNodeReference || 0;\r\n\r\n      if (typeof moveNodeReference == \"object\") {\r\n        moveNode = moveNodeReference;\r\n        moveNodeId = moveNode.nodeId;\r\n      } else if (typeof moveNodeReference == \"number\") {\r\n        moveNodeId = moveNodeReference;\r\n        moveNode = this._nodeArr[moveNodeId];\r\n      } else {\r\n        throw new Error(\"Expected move node object or node id\");\r\n      }\r\n\r\n      if (typeof parentNodeReference == \"object\") {\r\n        parentNode = parentNodeReference;\r\n        parentNodeId = parentNode.nodeId;\r\n      } else if (typeof parentNodeReference == \"number\") {\r\n        parentNodeId = parentNodeReference;\r\n        parentNode = this._nodeArr[parentNodeId];\r\n      } else {\r\n        throw new Error(\"Expected parent node object or node id\");\r\n      }\r\n\r\n      // Ensure parent isn't a leaf\r\n      if (parentNode.type == qx.ui.treevirtual.MTreePrimitive.Type.LEAF) {\r\n        throw new Error(\"Sorry, a LEAF may not have children.\");\r\n      }\r\n\r\n      // Remove the node from its current parent's children list\r\n      var oldParent = this._nodeArr[moveNode.parentNodeId];\r\n      qx.lang.Array.remove(oldParent.children, moveNodeId);\r\n\r\n      // Add the node to its new parent's children list\r\n      parentNode.children.push(moveNodeId);\r\n\r\n      // Replace this node's parent reference\r\n      this._nodeArr[moveNodeId].parentNodeId = parentNodeId;\r\n    },\r\n\r\n    /**\r\n     * Orders the node and creates all data needed to render the tree.\r\n     *\r\n     * @param nodeId {Integer}\r\n     *   A node identifier, as previously returned by {@link #addBranch} or\r\n     *   {@link #addLeaf}.\r\n     * @param level {Integer} the level in the hierarchy\r\n     */\r\n    __inorder(nodeId, level) {\r\n      var filter = this.getFilter();\r\n      var child = null;\r\n      var childNodeId;\r\n\r\n      // For each child of the specified node...\r\n      var numChildren = this._nodeArr[nodeId].children.length;\r\n      var index = 0;\r\n      var children = (this.__tempTreeData[nodeId] = []);\r\n      for (var i = 0; i < numChildren; i++) {\r\n        // Determine the node id of this child\r\n        childNodeId = this._nodeArr[nodeId].children[i];\r\n\r\n        // Get the child node\r\n        child = this._nodeArr[childNodeId];\r\n\r\n        // Skip deleted nodes or apply the filter\r\n        if (child == null || (filter && !filter.call(this, child))) {\r\n          this.__recalculateLastChildFlags = true;\r\n          continue;\r\n        }\r\n\r\n        // Remember the children so that we can add the lastChild flags later\r\n        children.push(child);\r\n\r\n        // (Re-)assign this node's level\r\n        child.level = level;\r\n\r\n        // Determine if we're the first child of our parent\r\n        child.bFirstChild = index == 0;\r\n\r\n        // Set the last child flag of the node only when no node was skipped.\r\n        // Otherwise we will have to recalculate the last child flags, as\r\n        // the parent or sibling node might become the first child.\r\n        if (!this.__recalculateLastChildFlags) {\r\n          this.__setLastChildFlag(child, i == numChildren - 1);\r\n        }\r\n\r\n        // Ensure there's an entry in the columnData array for each column\r\n        if (!child.columnData) {\r\n          child.columnData = [];\r\n        }\r\n\r\n        if (child.columnData.length < this.getColumnCount()) {\r\n          child.columnData[this.getColumnCount() - 1] = null;\r\n        }\r\n\r\n        // Add this node to the row array.  Initialize a row data array.\r\n        var rowData = [];\r\n\r\n        // If additional column data is provided...\r\n        if (child.columnData) {\r\n          // ... then add each column data.\r\n          for (var j = 0; j < child.columnData.length; j++) {\r\n            // Is this the tree column?\r\n            if (j == this._treeColumn) {\r\n              // Yup.  Add the tree node data\r\n              rowData.push(child);\r\n            } else {\r\n              // Otherwise, add the column data verbatim.\r\n              rowData.push(child.columnData[j]);\r\n            }\r\n          }\r\n        } else {\r\n          // No column data.  Just add the tree node.\r\n          rowData.push(child);\r\n        }\r\n\r\n        // Track the _rowArr index for each node so we can handle\r\n        // selections.\r\n        this._nodeRowMap[child.nodeId] = this._rowArr.length;\r\n\r\n        // Add the row data to the row array\r\n        this._rowArr.push(rowData);\r\n\r\n        // If this node is selected, ...\r\n        if (child.bSelected) {\r\n          // ... indicate so for the row.\r\n          rowData.selected = true;\r\n          this._selections[child.nodeId] = true;\r\n        }\r\n\r\n        // If this child is opened, ...\r\n        if (child.bOpened) {\r\n          // ... then add its children too.\r\n          this.__inorder(childNodeId, level + 1);\r\n        }\r\n        index++;\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Calculates the lastChild flags to the nodes, so that the tree can render the\r\n     * tree lines right.\r\n     *\r\n     * @param nodeId {Integer}\r\n     *   A node identifier, as previously returned by {@link #addBranch} or\r\n     *   {@link #addLeaf}.\r\n     */\r\n    __calculateLastChildFlags(nodeId) {\r\n      var tempTreeData = this.__tempTreeData;\r\n      var children = tempTreeData[nodeId];\r\n      var numChildren = children.length;\r\n      for (var i = 0; i < numChildren; i++) {\r\n        var child = children[i];\r\n\r\n        this.__setLastChildFlag(child, i == numChildren - 1);\r\n\r\n        var hasChildren =\r\n          tempTreeData[child.nodeId] && tempTreeData[child.nodeId].length > 0;\r\n        if (hasChildren) {\r\n          this.__calculateLastChildFlags(child.nodeId);\r\n        }\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Sets the last child flag for a node and all it's parents.\r\n     *\r\n     * @param node {Object} the node object\r\n     * @param isLastChild {Boolean} whether the node is the last child\r\n     */\r\n    __setLastChildFlag(node, isLastChild) {\r\n      // Determine if we're the last child of our parent\r\n      node.lastChild = [isLastChild];\r\n\r\n      // Get our parent.\r\n      var parent = this._nodeArr[node.parentNodeId];\r\n\r\n      // For each parent node, determine if it is a last child\r\n      while (parent.nodeId) {\r\n        var bLast = parent.lastChild[parent.lastChild.length - 1];\r\n        node.lastChild.unshift(bLast);\r\n        parent = this._nodeArr[parent.parentNodeId];\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Renders the tree data.\r\n     */\r\n    __render() {\r\n      // Reset the __tempTreeData\r\n      this.__tempTreeData = [];\r\n      this.__recalculateLastChildFlags = false;\r\n\r\n      // Reset the row array\r\n      this._rowArr = [];\r\n\r\n      // Reset the _nodeArr -> _rowArr map\r\n      this._nodeRowMap = [];\r\n\r\n      // Reset the set of selections\r\n      this._selections = {};\r\n\r\n      // Begin in-order traversal of the tree from the root to regenerate\r\n      // _rowArr.\r\n      this.__inorder(0, 1);\r\n\r\n      // Reset the lastChild flags when needed, so that the tree can render the\r\n      // tree lines right.\r\n      if (this.__recalculateLastChildFlags) {\r\n        this.__calculateLastChildFlags(0);\r\n      }\r\n\r\n      // Give the memory free\r\n      this.__tempTreeData = null;\r\n\r\n      // Inform the listeners\r\n      if (this.hasListener(\"dataChanged\")) {\r\n        var data = {\r\n          firstRow: 0,\r\n          lastRow: this._rowArr.length - 1,\r\n          firstColumn: 0,\r\n          lastColumn: this.getColumnCount() - 1\r\n        };\r\n\r\n        this.fireDataEvent(\"dataChanged\", data);\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Sets the whole data en bulk, or notifies the data model that node\r\n     * modifications are complete.\r\n     *\r\n     * @param nodeArr {Array?null}\r\n     *   Pass either an Array of node objects, or null.\r\n     *\r\n     *   If non-null, nodeArr is an array of node objects containing the\r\n     *   entire tree to be displayed.  If loading the whole data en bulk in\r\n     *   this way, it is assumed that the data is correct!  No error checking\r\n     *   or validation is done.  You'd better know what you're doing!  Caveat\r\n     *   emptor.\r\n     *\r\n     *\r\n     *   If nodeArr is null, then this call is a notification that the user\r\n     *   has completed building or modifying a tree by issuing a series of\r\n     *   calls to {@link #addBranch} and/or {@link #addLeaf}.\r\n     *\r\n     *\r\n     * @throws {Error} If the parameter has the wrong type.\r\n     */\r\n    setData(nodeArr) {\r\n      this._checkEditing();\r\n      if (nodeArr instanceof Array) {\r\n        // Save the user-supplied data.\r\n        this._nodeArr = nodeArr;\r\n      } else if (nodeArr !== null && nodeArr !== undefined) {\r\n        throw new Error(\r\n          \"Expected array of node objects or null/undefined; \" +\r\n            \"got \" +\r\n            typeof nodeArr\r\n        );\r\n      }\r\n\r\n      // Re-render the row array\r\n      this.__render();\r\n\r\n      // Set selections in the selection model now\r\n      var selectionModel = this.getTree().getSelectionModel();\r\n      var selections = this._selections;\r\n\r\n      selectionModel.setBatchMode(true);\r\n      try {\r\n        selectionModel.resetSelection();\r\n        for (var nodeId in selections) {\r\n          var nRowIndex = this.getRowFromNodeId(nodeId);\r\n          selectionModel.addSelectionInterval(nRowIndex, nRowIndex);\r\n        }\r\n      } finally {\r\n        selectionModel.setBatchMode(false);\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Return the array of node data.\r\n     *\r\n     * @return {Array}\r\n     *  Array of node objects.\r\n     *  See {@link qx.ui.treevirtual.SimpleTreeDataModel} for a description\r\n     *  nodes in this array.\r\n     */\r\n    getData() {\r\n      return this._nodeArr;\r\n    },\r\n\r\n    /**\r\n     * Clears the tree of all nodes\r\n     *\r\n     */\r\n    clearData() {\r\n      this._checkEditing();\r\n      this._clearSelections();\r\n      this.setData([qx.ui.treevirtual.MTreePrimitive._getEmptyTree()]);\r\n    },\r\n\r\n    /**\r\n     * Add data to an additional column (a column other than the tree column)\r\n     * of the tree.\r\n     *\r\n     * @param nodeId {Integer}\r\n     *   A node identifier, as previously returned by {@link #addBranch} or\r\n     *   {@link #addLeaf}.\r\n     *\r\n     * @param columnIndex {Integer}\r\n     *   The column number to which the provided data applies\r\n     *\r\n     * @param data {var}\r\n     *   The cell data for the specified column\r\n     *\r\n     */\r\n    setColumnData(nodeId, columnIndex, data) {\r\n      this._nodeArr[nodeId].columnData[columnIndex] = data;\r\n    },\r\n\r\n    /**\r\n     * Retrieve the data from an additional column (a column other than the\r\n     * tree column) of the tree.\r\n     *\r\n     * @param nodeId {Integer}\r\n     *   A node identifier, as previously returned by {@link #addBranch} or\r\n     *   {@link #addLeaf}.\r\n     *\r\n     * @param columnIndex {Integer}\r\n     *   The column number to which the provided data applies\r\n     *\r\n     * @return {var} The cell data for the specified column\r\n     */\r\n    getColumnData(nodeId, columnIndex) {\r\n      return this._nodeArr[nodeId].columnData[columnIndex];\r\n    },\r\n\r\n    /**\r\n     * Set state attributes of a node.\r\n     *\r\n     * @param nodeReference {Object | Integer}\r\n     *   The node to have its attributes set.  The node can be represented\r\n     *   either by the node object, or the node id (as would have been\r\n     *   returned by addBranch(), addLeaf(), etc.)\r\n     *\r\n     * @param attributes {Map}\r\n     *   Each property name in the map may correspond to the property names of\r\n     *   a node which are specified as <i>USER-PROVIDED ATTRIBUTES</i> in\r\n     *   {@link SimpleTreeDataModel}.  Each property value will be assigned\r\n     *   to the corresponding property of the node specified by nodeId.\r\n     *\r\n     * @param suppressRedraw {Boolean}\r\n     *    If true then prevents redraw; it becomes the caller's responsibility to\r\n     *    call setData() subsequently, to cause a redraw.\r\n     *\r\n     * @throws {Error} If the node object or id is not valid.\r\n     */\r\n    setState(nodeReference, attributes, suppressRedraw) {\r\n      var node;\r\n      var nodeId;\r\n\r\n      if (typeof nodeReference == \"object\") {\r\n        node = nodeReference;\r\n        nodeId = node.nodeId;\r\n      } else if (typeof nodeReference == \"number\") {\r\n        nodeId = nodeReference;\r\n        node = this._nodeArr[nodeId];\r\n      } else {\r\n        throw new Error(\"Expected node object or node id\");\r\n      }\r\n\r\n      for (var attribute in attributes) {\r\n        // Do any attribute-specific processing\r\n        switch (attribute) {\r\n          case \"bSelected\":\r\n            var nRowIndex = this.getRowFromNodeId(nodeId);\r\n            var selectionModel = this.getTree().getSelectionModel();\r\n            var TV = qx.ui.treevirtual.TreeVirtual;\r\n            var bChangeSelection =\r\n              typeof nRowIndex === \"number\" &&\r\n              this.getTree().getSelectionMode() != TV.SelectionMode.NONE;\r\n\r\n            // The selected state is changing. Keep track of what is selected\r\n            if (attributes[attribute]) {\r\n              this._selections[nodeId] = true;\r\n\r\n              // Add selection range for node\r\n              if (\r\n                bChangeSelection &&\r\n                !selectionModel.isSelectedIndex(nRowIndex)\r\n              ) {\r\n                selectionModel.setSelectionInterval(nRowIndex, nRowIndex);\r\n              }\r\n            } else {\r\n              delete this._selections[nodeId];\r\n\r\n              // Delete selection range for node\r\n              if (\r\n                bChangeSelection &&\r\n                selectionModel.isSelectedIndex(nRowIndex)\r\n              ) {\r\n                selectionModel.removeSelectionInterval(nRowIndex, nRowIndex);\r\n              }\r\n            }\r\n            break;\r\n\r\n          case \"bOpened\":\r\n            // Don't do anything if this is a leaf, leaf has no opened/closed\r\n            if (node.type === qx.ui.treevirtual.MTreePrimitive.Type.LEAF) {\r\n              break;\r\n            }\r\n\r\n            // Don't do anything if the requested state is the same as the\r\n            // current state.\r\n            if (attributes[attribute] == node.bOpened) {\r\n              break;\r\n            }\r\n\r\n            // Get the tree to which this data model is attached\r\n            var tree = this.__tree;\r\n\r\n            // Are we opening or closing?\r\n            if (node.bOpened) {\r\n              // We're closing.  If there are listeners, generate a treeClose\r\n              // event.\r\n              tree.fireDataEvent(\"treeClose\", node);\r\n            } else {\r\n              // We're opening.  Are there any children?\r\n              if (node.children.length > 0) {\r\n                // Yup.  If there any listeners, generate a \"treeOpenWithContent\"\r\n                // event.\r\n                tree.fireDataEvent(\"treeOpenWithContent\", node);\r\n              } else {\r\n                // No children.  If there are listeners, generate a\r\n                // \"treeOpenWhileEmpty\" event.\r\n                tree.fireDataEvent(\"treeOpenWhileEmpty\", node);\r\n              }\r\n            }\r\n\r\n            // Event handler may have modified the opened state.  Check before\r\n            // toggling.\r\n            if (!node.bHideOpenClose) {\r\n              // It's still boolean.  Toggle the state\r\n              node.bOpened = !node.bOpened;\r\n\r\n              // Clear the old selections in the tree\r\n              tree.getSelectionModel()._resetSelection();\r\n            }\r\n\r\n            // Re-render the row data since formerly visible rows may now be\r\n            // invisible, or vice versa.\r\n            if (!suppressRedraw) {\r\n              this.setData();\r\n            }\r\n            break;\r\n\r\n          default:\r\n            // no attribute-specific processing required\r\n            break;\r\n        }\r\n\r\n        // Set the new attribute value\r\n        node[attribute] = attributes[attribute];\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Return the mapping of nodes to rendered rows.  This function is intended\r\n     * for use by the cell renderer, not by users of this class.\r\n     * It is also useful to select a node.\r\n     *\r\n     * @return {Array}\r\n     *   The array containing mappings of nodes to rendered rows.\r\n     */\r\n    getNodeRowMap() {\r\n      return this._nodeRowMap;\r\n    },\r\n\r\n    /**\r\n     * This operation maps nodes to rowIndexes.  It does the opposite job to {@link #getNodeFromRow}.\r\n     *\r\n     * @param nodeId {Integer}\r\n     *   The id of the node (as would have been returned by addBranch(),\r\n     *   addLeaf(), etc.) to get the row index for.\r\n     * @return {Integer} row index for the given node ID\r\n     */\r\n    getRowFromNodeId(nodeId) {\r\n      return this._nodeRowMap[nodeId];\r\n    },\r\n\r\n    /**\r\n     * This operation maps rowIndexes to nodes.  It does the opposite job to {@link #getRowFromNodeId}.\r\n     * This function is useful to map selection (row based) to nodes.\r\n     *\r\n     * @param rowIndex {Integer} zero-based row index.\r\n     * @return {Object} node associated to <tt>rowIndex</tt>.\r\n     */\r\n    getNodeFromRow(rowIndex) {\r\n      return this._nodeArr[this._rowArr[rowIndex][this._treeColumn].nodeId];\r\n    },\r\n\r\n    /**\r\n     * Clear all selections in the data model.  This method does not clear\r\n     * selections displayed in the widget, and is intended for internal use,\r\n     * not by users of this class.\r\n     *\r\n     */\r\n    _clearSelections() {\r\n      // Clear selected state for any selected nodes.\r\n      for (var selection in this._selections) {\r\n        this._nodeArr[selection].bSelected = false;\r\n      }\r\n\r\n      // Reinitialize selections array.\r\n      this._selections = {};\r\n    },\r\n\r\n    /**\r\n     * Return the nodes that are currently selected.\r\n     *\r\n     * @return {Array}\r\n     *   An array containing the nodes that are currently selected.\r\n     */\r\n    getSelectedNodes() {\r\n      var nodes = [];\r\n\r\n      for (var nodeId in this._selections) {\r\n        nodes.push(this._nodeArr[nodeId]);\r\n      }\r\n\r\n      return nodes;\r\n    },\r\n\r\n    // property apply\r\n    _applyFilter(value, old) {\r\n      this.setData();\r\n    },\r\n\r\n    /**\r\n     * This checks whether a node label is editable\r\n     * Used in the NodeEditor to check if edit is permitted\r\n     *\r\n     * @param rowIndex {Integer} zero-based row index.\r\n     * @return {Boolean} If the node has edit permitted\r\n     */\r\n    isNodeEditable(rowIndex) {\r\n      return (\r\n        this.__tree.getAllowNodeEdit() && this.getNodeFromRow(rowIndex).bCanEdit\r\n      );\r\n    }\r\n  },\r\n\r\n  destruct() {\r\n    this._rowArr =\r\n      this._nodeArr =\r\n      this._nodeRowMap =\r\n      this._selections =\r\n      this.__tree =\r\n      this.__tempTreeData =\r\n        null;\r\n  },\r\n\r\n  defer(statics) {\r\n    // For backward compatibility, ensure the Type values are available from\r\n    // this class as well as from the mixin.\r\n    statics.Type = qx.ui.treevirtual.MTreePrimitive.Type;\r\n  }\r\n});\r\n"
  ],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;EAAAA,EAAE,CAACC,SAAS,CAACC,oBAAoB,CAACC,aAAa,CAAC;EAAhD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;EAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EACAH,EAAE,CAACI,KAAK,CAACC,MAAM,CAAC,uCAAuC,EAAE;IACvDC,MAAM,EAAEN,EAAE,CAACO,EAAE,CAACC,KAAK,CAACC,KAAK,CAACC,QAAQ;IAElCC,OAAO,EAAEX,EAAE,CAACO,EAAE,CAACK,WAAW,CAACC,cAAc;IAEzC;AACF;AACA;AACA;AACA;IAEEC,SAAS,WAAAA,UAAA,EAAG;MACVd,EAAA,CAAAO,EAAA,CAAAC,KAAA,CAAAC,KAAA,CAAAC,QAAA,CAAAK,WAAA,CAAAC,IAAA;MAEA,IAAI,CAACC,OAAO,GAAG,EAAE,CAAC,CAAC;MACnB,IAAI,CAACC,QAAQ,GAAG,EAAE,CAAC,CAAC;;MAEpB,IAAI,CAACC,WAAW,GAAG,EAAE,CAAC,CAAC;MACvB;MACA;MACA;;MAEA,IAAI,CAACC,WAAW,GAAG,CAAC,CAAC,CAAC;;MAEtB,IAAI,CAACC,WAAW,GAAG,CAAC,CAAC,CAAC,CAAC;;MAEvB;MACA,IAAI,CAACH,QAAQ,CAACI,IAAI,CAACtB,EAAE,CAACO,EAAE,CAACK,WAAW,CAACC,cAAc,CAACU,aAAa,CAAC,CAAC,CAAC;;MAEpE;MACA,IAAI,CAACC,SAAgB,GAAG,IAAI;IAC9B,CAAC;IAEDC,UAAU,EAAE;MACV;AACJ;AACA;AACA;AACA;AACA;AACA;MACIC,MAAM,EAAE;QACNC,KAAK,EAAE,UAAU;QACjBC,QAAQ,EAAE,IAAI;QACdC,KAAK,EAAE;MACT;IACF,CAAC;IAED;AACF;AACA;AACA;AACA;;IAEEC,OAAO,EAAE;MACPC,SAAM,EAAE,IAAI;MACZP,SAAgB,EAAE,IAAI;MACtBQ,SAAc,EAAE,IAAI;MACpBC,SAA2B,EAAE,IAAI;MAEjC;MACAhB,OAAO,EAAE,IAAI;MAEb;MACAC,QAAQ,EAAE,IAAI;MAEd;AACJ;AACA;AACA;AACA;MACIC,WAAW,EAAE,IAAI;MAEjB;MACAC,WAAW,EAAE,IAAI;MAEjB;MACAC,WAAW,EAAE,IAAI;MAEjB;AACJ;AACA;AACA;AACA;AACA;AACA;MACIa,OAAO,WAAAA,QAACC,IAAI,EAAE;QACZ,IAAI,CAACJ,SAAM,GAAGI,IAAI;MACpB,CAAC;MAED;AACJ;AACA;AACA;AACA;MACIC,OAAO,WAAAA,QAAA,EAAG;QACR,OAAO,IAAI,CAACL,SAAM;MACpB,CAAC;MAED;AACJ;AACA;AACA;AACA;AACA;AACA;MACIM,WAAW,WAAAA,YAACC,QAAQ,EAAE;QACpB,IAAI,CAACd,SAAgB,GAAG,EAAE;QAE1B,KAAK,IAAIe,GAAG,GAAG,CAAC,EAAEA,GAAG,GAAG,IAAI,CAACC,cAAc,CAAC,CAAC,EAAED,GAAG,EAAE,EAAE;UACpD,IAAI,CAACf,SAAgB,CAACe,GAAG,CAAC,GAAGD,QAAQ;QACvC;QAEA,IAAI,CAACG,SAAS,CAAC,iBAAiB,CAAC;MACnC,CAAC;MAED;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;MACIC,iBAAiB,WAAAA,kBAACC,WAAW,EAAEL,QAAQ,EAAE;QACvC,IAAIA,QAAQ,IAAI,IAAI,CAACM,gBAAgB,CAACD,WAAW,CAAC,EAAE;UAClD,IAAI,IAAI,CAACnB,SAAgB,IAAI,IAAI,EAAE;YACjC,IAAI,CAACA,SAAgB,GAAG,EAAE;UAC5B;UAEA,IAAI,CAACA,SAAgB,CAACmB,WAAW,CAAC,GAAGL,QAAQ;UAE7C,IAAI,CAACG,SAAS,CAAC,iBAAiB,CAAC;QACnC;MACF,CAAC;MAED;MACAG,gBAAgB,WAAAA,iBAACD,WAAW,EAAE;QAC5B,IAAIA,WAAW,IAAI,IAAI,CAACvB,WAAW,EAAE;UACnC,OAAO,IAAI,CAACW,SAAM,CAACc,gBAAgB,CAAC,CAAC;QACvC;QAEA,OAAO,IAAI,CAACrB,SAAgB,GACxB,IAAI,CAACA,SAAgB,CAACmB,WAAW,CAAC,IAAI,IAAI,GAC1C,KAAK;MACX,CAAC;MAED;MACAG,gBAAgB,WAAAA,iBAACH,WAAW,EAAE;QAC5B,OAAO,KAAK;MACd,CAAC;MAED;AACJ;AACA;AACA;AACA;AACA;AACA;MACII,YAAY,WAAAA,aAACJ,WAAW,EAAEK,SAAS,EAAE;QACnC,MAAM,IAAIC,KAAK,CAAC,mCAAmC,CAAC;MACtD,CAAC;MAED;AACJ;AACA;AACA;AACA;AACA;AACA;MACIC,kBAAkB,WAAAA,mBAAA,EAAG;QACnB,OAAO,CAAC,CAAC;MACX,CAAC;MAED;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;MACIC,aAAa,WAAAA,cAACR,WAAW,EAAE;QACzB,IAAI,CAACvB,WAAW,GAAGuB,WAAW;MAChC,CAAC;MAED;AACJ;AACA;AACA;AACA;AACA;MACIS,aAAa,WAAAA,cAAA,EAAG;QACd,OAAO,IAAI,CAAChC,WAAW;MACzB,CAAC;MAED;MACAiC,WAAW,WAAAA,YAAA,EAAG;QACZ,OAAO,IAAI,CAACpC,OAAO,CAACqC,MAAM;MAC5B,CAAC;MAED;MACAC,UAAU,WAAAA,WAACC,QAAQ,EAAE;QACnB,OAAO,IAAI,CAACvC,OAAO,CAACuC,QAAQ,CAAC;MAC/B,CAAC;MAED;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;MACIC,QAAQ,WAAAA,SAACd,WAAW,EAAEa,QAAQ,EAAE;QAC9B,IAAIA,QAAQ,GAAG,CAAC,IAAIA,QAAQ,IAAI,IAAI,CAACvC,OAAO,CAACqC,MAAM,EAAE;UACnD,MAAM,IAAIL,KAAK,CACb,uBAEEO,QAAQ,GACR,mBAAmB,GACnB,IAAI,CAACvC,OAAO,GACZ,OAAO,IACN,IAAI,CAACA,OAAO,CAACqC,MAAM,GAAG,CAAC,CAAC,GACzB,GACJ,CAAC;QACH;QAEA,IAAIX,WAAW,GAAG,CAAC,IAAIA,WAAW,IAAI,IAAI,CAAC1B,OAAO,CAACuC,QAAQ,CAAC,CAACF,MAAM,EAAE;UACnE,MAAM,IAAIL,KAAK,CACb,0BAEEN,WAAW,GACX,mBAAmB,GACnB,IAAI,CAAC1B,OAAO,CAACuC,QAAQ,CAAC,GACtB,OAAO,IACN,IAAI,CAACvC,OAAO,CAACuC,QAAQ,CAAC,CAACF,MAAM,GAAG,CAAC,CAAC,GACnC,GACJ,CAAC;QACH;QAEA,OAAO,IAAI,CAACrC,OAAO,CAACuC,QAAQ,CAAC,CAACb,WAAW,CAAC;MAC5C,CAAC;MAED;MACAe,QAAQ,WAAAA,SAACf,WAAW,EAAEa,QAAQ,EAAEG,KAAK,EAAE;QACrC;QACA,IAAIC,IAAI,GAAG,IAAI,CAACC,cAAc,CAACL,QAAQ,CAAC;QAExC,IAAIb,WAAW,KAAK,IAAI,CAACvB,WAAW,EAAE;UACpC,IAAI,CAAC,IAAI,CAACW,SAAM,CAACc,gBAAgB,CAAC,CAAC,IAAIc,KAAK,CAAC,OAAO,CAAC,KAAKG,SAAS,EAAE;YACnE;UACF;UACA;UACA,IAAIC,WAAW,GAAG/D,EAAE,CAACgE,IAAI,CAACC,MAAM,CAACC,KAAK,CAACN,IAAI,CAAC;UAC5CG,WAAW,CAACI,KAAK,GAAGR,KAAK,CAACQ,KAAK;UAC/B,IAAI,CAACjD,QAAQ,CAAC0C,IAAI,CAACQ,MAAM,CAAC,GAAGL,WAAW;QAC1C,CAAC,MAAM;UACL,IAAIH,IAAI,CAACS,UAAU,CAAC1B,WAAW,CAAC,IAAIgB,KAAK,EAAE;YACzC;UACF;UACAC,IAAI,CAACS,UAAU,CAAC1B,WAAW,CAAC,GAAGgB,KAAK;UACpC,IAAI,CAAC1C,OAAO,CAACuC,QAAQ,CAAC,CAACb,WAAW,CAAC,GAAGgB,KAAK;QAC7C;QACA;QACA,IAAI,IAAI,CAACW,WAAW,CAAC,aAAa,CAAC,EAAE;UACnC,IAAIC,IAAI,GAAG;YACTC,QAAQ,EAAEhB,QAAQ;YAClBiB,OAAO,EAAEjB,QAAQ;YACjBkB,WAAW,EAAE/B,WAAW;YACxBgC,UAAU,EAAEhC;UACd,CAAC;UAED,IAAI,CAACiC,aAAa,CAAC,aAAa,EAAEL,IAAI,CAAC;QACzC;MACF,CAAC;MAED;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;MACIM,OAAO,WAAAA,QAACrB,QAAQ,EAAE;QAChB,IAAIA,QAAQ,GAAG,CAAC,IAAIA,QAAQ,IAAI,IAAI,CAACvC,OAAO,CAACqC,MAAM,EAAE;UACnD,MAAM,IAAIL,KAAK,CACb,uBAEEO,QAAQ,GACR,mBAAmB,GACnB,IAAI,CAACvC,OAAO,GACZ,OAAO,IACN,IAAI,CAACA,OAAO,CAACqC,MAAM,GAAG,CAAC,CAAC,GACzB,GACJ,CAAC;QACH;QAEA,OAAO,IAAI,CAACrC,OAAO,CAACuC,QAAQ,CAAC,CAAC,IAAI,CAACpC,WAAW,CAAC;MACjD,CAAC;MAED;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;MACI0D,SAAS,WAAAA,UACPC,YAAY,EACZZ,KAAK,EACLa,OAAO,EACPC,oBAAoB,EACpBC,IAAI,EACJC,YAAY,EACZ;QACA,OAAOnF,EAAE,CAACO,EAAE,CAACK,WAAW,CAACC,cAAc,CAACuE,QAAQ,CAC9C,IAAI,CAAClE,QAAQ,EACb6D,YAAY,EACZZ,KAAK,EACLa,OAAO,EACPC,oBAAoB,EACpBjF,EAAE,CAACO,EAAE,CAACK,WAAW,CAACC,cAAc,CAACwE,IAAI,CAACC,MAAM,EAC5CJ,IAAI,EACJC,YACF,CAAC;MACH,CAAC;MAED;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;MACII,OAAO,WAAAA,QAACR,YAAY,EAAEZ,KAAK,EAAEe,IAAI,EAAEC,YAAY,EAAE;QAC/C,OAAOnF,EAAE,CAACO,EAAE,CAACK,WAAW,CAACC,cAAc,CAACuE,QAAQ,CAC9C,IAAI,CAAClE,QAAQ,EACb6D,YAAY,EACZZ,KAAK,EACL,KAAK,EACL,KAAK,EACLnE,EAAE,CAACO,EAAE,CAACK,WAAW,CAACC,cAAc,CAACwE,IAAI,CAACG,IAAI,EAC1CN,IAAI,EACJC,YACF,CAAC;MACH,CAAC;MAED;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;MACIM,KAAK,WAAAA,MAACC,aAAa,EAAEC,SAAS,EAAE;QAC9B,IAAI/B,IAAI;QACR,IAAIQ,MAAM;QAEV,IAAIwB,OAAA,CAAOF,aAAa,KAAI,QAAQ,EAAE;UACpC9B,IAAI,GAAG8B,aAAa;UACpBtB,MAAM,GAAGR,IAAI,CAACQ,MAAM;QACtB,CAAC,MAAM,IAAI,OAAOsB,aAAa,IAAI,QAAQ,EAAE;UAC3CtB,MAAM,GAAGsB,aAAa;QACxB,CAAC,MAAM;UACL,MAAM,IAAIzC,KAAK,CAAC,iCAAiC,CAAC;QACpD;;QAEA;QACA,KAAK,IAAI4C,CAAC,GAAG,IAAI,CAAC3E,QAAQ,CAACkD,MAAM,CAAC,CAAC0B,QAAQ,CAACxC,MAAM,GAAG,CAAC,EAAEuC,CAAC,IAAI,CAAC,EAAEA,CAAC,EAAE,EAAE;UACnE,IAAI,CAACJ,KAAK,CAAC,IAAI,CAACvE,QAAQ,CAACkD,MAAM,CAAC,CAAC0B,QAAQ,CAACD,CAAC,CAAC,EAAE,IAAI,CAAC;QACrD;;QAEA;QACA,IAAIF,SAAS,IAAIvB,MAAM,IAAI,CAAC,EAAE;UAC5B;UACAR,IAAI,GAAG,IAAI,CAAC1C,QAAQ,CAACkD,MAAM,CAAC;UAC5BpE,EAAE,CAACgE,IAAI,CAAC+B,KAAK,CAACC,MAAM,CAAC,IAAI,CAAC9E,QAAQ,CAAC0C,IAAI,CAACmB,YAAY,CAAC,CAACe,QAAQ,EAAE1B,MAAM,CAAC;;UAEvE;UACA,IAAI,IAAI,CAAC/C,WAAW,CAAC+C,MAAM,CAAC,EAAE;YAC5B,OAAO,IAAI,CAAC/C,WAAW,CAAC+C,MAAM,CAAC;UACjC;;UAEA;UACA;UACA;UACA,IAAI,CAAClD,QAAQ,CAACkD,MAAM,CAAC,GAAG,IAAI;QAC9B;MACF,CAAC;MAED;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;MACI6B,IAAI,WAAAA,KAACC,iBAAiB,EAAEC,mBAAmB,EAAE;QAC3C,IAAIC,QAAQ;QACZ,IAAIC,UAAU;QACd,IAAIC,UAAU;QACd,IAAIvB,YAAY;;QAEhB;QACAoB,mBAAmB,GAAGA,mBAAmB,IAAI,CAAC;QAE9C,IAAIP,OAAA,CAAOM,iBAAiB,KAAI,QAAQ,EAAE;UACxCE,QAAQ,GAAGF,iBAAiB;UAC5BG,UAAU,GAAGD,QAAQ,CAAChC,MAAM;QAC9B,CAAC,MAAM,IAAI,OAAO8B,iBAAiB,IAAI,QAAQ,EAAE;UAC/CG,UAAU,GAAGH,iBAAiB;UAC9BE,QAAQ,GAAG,IAAI,CAAClF,QAAQ,CAACmF,UAAU,CAAC;QACtC,CAAC,MAAM;UACL,MAAM,IAAIpD,KAAK,CAAC,sCAAsC,CAAC;QACzD;QAEA,IAAI2C,OAAA,CAAOO,mBAAmB,KAAI,QAAQ,EAAE;UAC1CG,UAAU,GAAGH,mBAAmB;UAChCpB,YAAY,GAAGuB,UAAU,CAAClC,MAAM;QAClC,CAAC,MAAM,IAAI,OAAO+B,mBAAmB,IAAI,QAAQ,EAAE;UACjDpB,YAAY,GAAGoB,mBAAmB;UAClCG,UAAU,GAAG,IAAI,CAACpF,QAAQ,CAAC6D,YAAY,CAAC;QAC1C,CAAC,MAAM;UACL,MAAM,IAAI9B,KAAK,CAAC,wCAAwC,CAAC;QAC3D;;QAEA;QACA,IAAIqD,UAAU,CAACC,IAAI,IAAIvG,EAAE,CAACO,EAAE,CAACK,WAAW,CAACC,cAAc,CAACwE,IAAI,CAACG,IAAI,EAAE;UACjE,MAAM,IAAIvC,KAAK,CAAC,sCAAsC,CAAC;QACzD;;QAEA;QACA,IAAIuD,SAAS,GAAG,IAAI,CAACtF,QAAQ,CAACkF,QAAQ,CAACrB,YAAY,CAAC;QACpD/E,EAAE,CAACgE,IAAI,CAAC+B,KAAK,CAACC,MAAM,CAACQ,SAAS,CAACV,QAAQ,EAAEO,UAAU,CAAC;;QAEpD;QACAC,UAAU,CAACR,QAAQ,CAACxE,IAAI,CAAC+E,UAAU,CAAC;;QAEpC;QACA,IAAI,CAACnF,QAAQ,CAACmF,UAAU,CAAC,CAACtB,YAAY,GAAGA,YAAY;MACvD,CAAC;MAED;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;MACI0B,SAAS,WAAAC,UAACtC,MAAM,EAAEuC,KAAK,EAAE;QACvB,IAAIjF,MAAM,GAAG,IAAI,CAACkF,SAAS,CAAC,CAAC;QAC7B,IAAIC,KAAK,GAAG,IAAI;QAChB,IAAIC,WAAW;;QAEf;QACA,IAAIC,WAAW,GAAG,IAAI,CAAC7F,QAAQ,CAACkD,MAAM,CAAC,CAAC0B,QAAQ,CAACxC,MAAM;QACvD,IAAI0D,KAAK,GAAG,CAAC;QACb,IAAIlB,QAAQ,GAAI,IAAI,CAAC9D,SAAc,CAACoC,MAAM,CAAC,GAAG,EAAG;QACjD,KAAK,IAAIyB,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGkB,WAAW,EAAElB,CAAC,EAAE,EAAE;UACpC;UACAiB,WAAW,GAAG,IAAI,CAAC5F,QAAQ,CAACkD,MAAM,CAAC,CAAC0B,QAAQ,CAACD,CAAC,CAAC;;UAE/C;UACAgB,KAAK,GAAG,IAAI,CAAC3F,QAAQ,CAAC4F,WAAW,CAAC;;UAElC;UACA,IAAID,KAAK,IAAI,IAAI,IAAKnF,MAAM,IAAI,CAACA,MAAM,CAACV,IAAI,CAAC,IAAI,EAAE6F,KAAK,CAAE,EAAE;YAC1D,IAAI,CAAC5E,SAA2B,GAAG,IAAI;YACvC;UACF;;UAEA;UACA6D,QAAQ,CAACxE,IAAI,CAACuF,KAAK,CAAC;;UAEpB;UACAA,KAAK,CAACF,KAAK,GAAGA,KAAK;;UAEnB;UACAE,KAAK,CAACI,WAAW,GAAGD,KAAK,IAAI,CAAC;;UAE9B;UACA;UACA;UACA,IAAI,CAAC,IAAI,CAAC/E,SAA2B,EAAE;YACrC,IAAI,CAACiF,SAAkB,CAACL,KAAK,EAAEhB,CAAC,IAAIkB,WAAW,GAAG,CAAC,CAAC;UACtD;;UAEA;UACA,IAAI,CAACF,KAAK,CAACxC,UAAU,EAAE;YACrBwC,KAAK,CAACxC,UAAU,GAAG,EAAE;UACvB;UAEA,IAAIwC,KAAK,CAACxC,UAAU,CAACf,MAAM,GAAG,IAAI,CAACd,cAAc,CAAC,CAAC,EAAE;YACnDqE,KAAK,CAACxC,UAAU,CAAC,IAAI,CAAC7B,cAAc,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,IAAI;UACpD;;UAEA;UACA,IAAI2E,OAAO,GAAG,EAAE;;UAEhB;UACA,IAAIN,KAAK,CAACxC,UAAU,EAAE;YACpB;YACA,KAAK,IAAI+C,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGP,KAAK,CAACxC,UAAU,CAACf,MAAM,EAAE8D,CAAC,EAAE,EAAE;cAChD;cACA,IAAIA,CAAC,IAAI,IAAI,CAAChG,WAAW,EAAE;gBACzB;gBACA+F,OAAO,CAAC7F,IAAI,CAACuF,KAAK,CAAC;cACrB,CAAC,MAAM;gBACL;gBACAM,OAAO,CAAC7F,IAAI,CAACuF,KAAK,CAACxC,UAAU,CAAC+C,CAAC,CAAC,CAAC;cACnC;YACF;UACF,CAAC,MAAM;YACL;YACAD,OAAO,CAAC7F,IAAI,CAACuF,KAAK,CAAC;UACrB;;UAEA;UACA;UACA,IAAI,CAAC1F,WAAW,CAAC0F,KAAK,CAACzC,MAAM,CAAC,GAAG,IAAI,CAACnD,OAAO,CAACqC,MAAM;;UAEpD;UACA,IAAI,CAACrC,OAAO,CAACK,IAAI,CAAC6F,OAAO,CAAC;;UAE1B;UACA,IAAIN,KAAK,CAACQ,SAAS,EAAE;YACnB;YACAF,OAAO,CAACG,QAAQ,GAAG,IAAI;YACvB,IAAI,CAACjG,WAAW,CAACwF,KAAK,CAACzC,MAAM,CAAC,GAAG,IAAI;UACvC;;UAEA;UACA,IAAIyC,KAAK,CAAC7B,OAAO,EAAE;YACjB;YACA,IAAI,CAACyB,SAAS,CAACK,WAAW,EAAEH,KAAK,GAAG,CAAC,CAAC;UACxC;UACAK,KAAK,EAAE;QACT;MACF,CAAC;MAED;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;MACIO,SAAyB,WAAAC,UAACpD,MAAM,EAAE;QAChC,IAAIqD,YAAY,GAAG,IAAI,CAACzF,SAAc;QACtC,IAAI8D,QAAQ,GAAG2B,YAAY,CAACrD,MAAM,CAAC;QACnC,IAAI2C,WAAW,GAAGjB,QAAQ,CAACxC,MAAM;QACjC,KAAK,IAAIuC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGkB,WAAW,EAAElB,CAAC,EAAE,EAAE;UACpC,IAAIgB,KAAK,GAAGf,QAAQ,CAACD,CAAC,CAAC;UAEvB,IAAI,CAACqB,SAAkB,CAACL,KAAK,EAAEhB,CAAC,IAAIkB,WAAW,GAAG,CAAC,CAAC;UAEpD,IAAIW,WAAW,GACbD,YAAY,CAACZ,KAAK,CAACzC,MAAM,CAAC,IAAIqD,YAAY,CAACZ,KAAK,CAACzC,MAAM,CAAC,CAACd,MAAM,GAAG,CAAC;UACrE,IAAIoE,WAAW,EAAE;YACf,IAAI,CAACH,SAAyB,CAACV,KAAK,CAACzC,MAAM,CAAC;UAC9C;QACF;MACF,CAAC;MAED;AACJ;AACA;AACA;AACA;AACA;MACI8C,SAAkB,WAAAS,UAAC/D,IAAI,EAAEgE,WAAW,EAAE;QACpC;QACAhE,IAAI,CAACiE,SAAS,GAAG,CAACD,WAAW,CAAC;;QAE9B;QACA,IAAIE,MAAM,GAAG,IAAI,CAAC5G,QAAQ,CAAC0C,IAAI,CAACmB,YAAY,CAAC;;QAE7C;QACA,OAAO+C,MAAM,CAAC1D,MAAM,EAAE;UACpB,IAAI2D,KAAK,GAAGD,MAAM,CAACD,SAAS,CAACC,MAAM,CAACD,SAAS,CAACvE,MAAM,GAAG,CAAC,CAAC;UACzDM,IAAI,CAACiE,SAAS,CAACG,OAAO,CAACD,KAAK,CAAC;UAC7BD,MAAM,GAAG,IAAI,CAAC5G,QAAQ,CAAC4G,MAAM,CAAC/C,YAAY,CAAC;QAC7C;MACF,CAAC;MAED;AACJ;AACA;MACIkD,SAAQ,WAAAC,UAAA,EAAG;QACT;QACA,IAAI,CAAClG,SAAc,GAAG,EAAE;QACxB,IAAI,CAACC,SAA2B,GAAG,KAAK;;QAExC;QACA,IAAI,CAAChB,OAAO,GAAG,EAAE;;QAEjB;QACA,IAAI,CAACE,WAAW,GAAG,EAAE;;QAErB;QACA,IAAI,CAACE,WAAW,GAAG,CAAC,CAAC;;QAErB;QACA;QACA,IAAI,CAACoF,SAAS,CAAC,CAAC,EAAE,CAAC,CAAC;;QAEpB;QACA;QACA,IAAI,IAAI,CAACxE,SAA2B,EAAE;UACpC,IAAI,CAACsF,SAAyB,CAAC,CAAC,CAAC;QACnC;;QAEA;QACA,IAAI,CAACvF,SAAc,GAAG,IAAI;;QAE1B;QACA,IAAI,IAAI,CAACsC,WAAW,CAAC,aAAa,CAAC,EAAE;UACnC,IAAIC,IAAI,GAAG;YACTC,QAAQ,EAAE,CAAC;YACXC,OAAO,EAAE,IAAI,CAACxD,OAAO,CAACqC,MAAM,GAAG,CAAC;YAChCoB,WAAW,EAAE,CAAC;YACdC,UAAU,EAAE,IAAI,CAACnC,cAAc,CAAC,CAAC,GAAG;UACtC,CAAC;UAED,IAAI,CAACoC,aAAa,CAAC,aAAa,EAAEL,IAAI,CAAC;QACzC;MACF,CAAC;MAED;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;MACI4D,OAAO,WAAAA,QAACC,OAAO,EAAE;QACf,IAAI,CAACC,aAAa,CAAC,CAAC;QACpB,IAAID,OAAO,YAAYrC,KAAK,EAAE;UAC5B;UACA,IAAI,CAAC7E,QAAQ,GAAGkH,OAAO;QACzB,CAAC,MAAM,IAAIA,OAAO,KAAK,IAAI,IAAIA,OAAO,KAAKtE,SAAS,EAAE;UACpD,MAAM,IAAIb,KAAK,CACb,2DAAA2C,OAAA,CAESwC,OAAO,CAClB,CAAC;QACH;;QAEA;QACA,IAAI,CAACH,SAAQ,CAAC,CAAC;;QAEf;QACA,IAAIK,cAAc,GAAG,IAAI,CAAClG,OAAO,CAAC,CAAC,CAACmG,iBAAiB,CAAC,CAAC;QACvD,IAAIC,UAAU,GAAG,IAAI,CAACnH,WAAW;QAEjCiH,cAAc,CAACG,YAAY,CAAC,IAAI,CAAC;QACjC,IAAI;UACFH,cAAc,CAACI,cAAc,CAAC,CAAC;UAC/B,KAAK,IAAItE,MAAM,IAAIoE,UAAU,EAAE;YAC7B,IAAIG,SAAS,GAAG,IAAI,CAACC,gBAAgB,CAACxE,MAAM,CAAC;YAC7CkE,cAAc,CAACO,oBAAoB,CAACF,SAAS,EAAEA,SAAS,CAAC;UAC3D;QACF,CAAC,SAAS;UACRL,cAAc,CAACG,YAAY,CAAC,KAAK,CAAC;QACpC;MACF,CAAC;MAED;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;MACIK,OAAO,WAAAA,QAAA,EAAG;QACR,OAAO,IAAI,CAAC5H,QAAQ;MACtB,CAAC;MAED;AACJ;AACA;AACA;MACI6H,SAAS,WAAAA,UAAA,EAAG;QACV,IAAI,CAACV,aAAa,CAAC,CAAC;QACpB,IAAI,CAACW,gBAAgB,CAAC,CAAC;QACvB,IAAI,CAACb,OAAO,CAAC,CAACnI,EAAE,CAACO,EAAE,CAACK,WAAW,CAACC,cAAc,CAACU,aAAa,CAAC,CAAC,CAAC,CAAC;MAClE,CAAC;MAED;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;MACI0H,aAAa,WAAAA,cAAC7E,MAAM,EAAEzB,WAAW,EAAE4B,IAAI,EAAE;QACvC,IAAI,CAACrD,QAAQ,CAACkD,MAAM,CAAC,CAACC,UAAU,CAAC1B,WAAW,CAAC,GAAG4B,IAAI;MACtD,CAAC;MAED;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;MACI2E,aAAa,WAAAA,cAAC9E,MAAM,EAAEzB,WAAW,EAAE;QACjC,OAAO,IAAI,CAACzB,QAAQ,CAACkD,MAAM,CAAC,CAACC,UAAU,CAAC1B,WAAW,CAAC;MACtD,CAAC;MAED;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;MACIwG,QAAQ,WAAAA,SAACzD,aAAa,EAAE0D,UAAU,EAAEC,cAAc,EAAE;QAClD,IAAIzF,IAAI;QACR,IAAIQ,MAAM;QAEV,IAAIwB,OAAA,CAAOF,aAAa,KAAI,QAAQ,EAAE;UACpC9B,IAAI,GAAG8B,aAAa;UACpBtB,MAAM,GAAGR,IAAI,CAACQ,MAAM;QACtB,CAAC,MAAM,IAAI,OAAOsB,aAAa,IAAI,QAAQ,EAAE;UAC3CtB,MAAM,GAAGsB,aAAa;UACtB9B,IAAI,GAAG,IAAI,CAAC1C,QAAQ,CAACkD,MAAM,CAAC;QAC9B,CAAC,MAAM;UACL,MAAM,IAAInB,KAAK,CAAC,iCAAiC,CAAC;QACpD;QAEA,KAAK,IAAIqG,SAAS,IAAIF,UAAU,EAAE;UAChC;UACA,QAAQE,SAAS;YACf,KAAK,WAAW;cACd,IAAIX,SAAS,GAAG,IAAI,CAACC,gBAAgB,CAACxE,MAAM,CAAC;cAC7C,IAAIkE,cAAc,GAAG,IAAI,CAAClG,OAAO,CAAC,CAAC,CAACmG,iBAAiB,CAAC,CAAC;cACvD,IAAIgB,EAAE,GAAGvJ,EAAE,CAACO,EAAE,CAACK,WAAW,CAAC4I,WAAW;cACtC,IAAIC,gBAAgB,GAClB,OAAOd,SAAS,KAAK,QAAQ,IAC7B,IAAI,CAACvG,OAAO,CAAC,CAAC,CAACsH,gBAAgB,CAAC,CAAC,IAAIH,EAAE,CAACI,aAAa,CAACC,IAAI;;cAE5D;cACA,IAAIR,UAAU,CAACE,SAAS,CAAC,EAAE;gBACzB,IAAI,CAACjI,WAAW,CAAC+C,MAAM,CAAC,GAAG,IAAI;;gBAE/B;gBACA,IACEqF,gBAAgB,IAChB,CAACnB,cAAc,CAACuB,eAAe,CAAClB,SAAS,CAAC,EAC1C;kBACAL,cAAc,CAACwB,oBAAoB,CAACnB,SAAS,EAAEA,SAAS,CAAC;gBAC3D;cACF,CAAC,MAAM;gBACL,OAAO,IAAI,CAACtH,WAAW,CAAC+C,MAAM,CAAC;;gBAE/B;gBACA,IACEqF,gBAAgB,IAChBnB,cAAc,CAACuB,eAAe,CAAClB,SAAS,CAAC,EACzC;kBACAL,cAAc,CAACyB,uBAAuB,CAACpB,SAAS,EAAEA,SAAS,CAAC;gBAC9D;cACF;cACA;YAEF,KAAK,SAAS;cACZ;cACA,IAAI/E,IAAI,CAAC2C,IAAI,KAAKvG,EAAE,CAACO,EAAE,CAACK,WAAW,CAACC,cAAc,CAACwE,IAAI,CAACG,IAAI,EAAE;gBAC5D;cACF;;cAEA;cACA;cACA,IAAI4D,UAAU,CAACE,SAAS,CAAC,IAAI1F,IAAI,CAACoB,OAAO,EAAE;gBACzC;cACF;;cAEA;cACA,IAAI7C,IAAI,GAAG,IAAI,CAACJ,SAAM;;cAEtB;cACA,IAAI6B,IAAI,CAACoB,OAAO,EAAE;gBAChB;gBACA;gBACA7C,IAAI,CAACyC,aAAa,CAAC,WAAW,EAAEhB,IAAI,CAAC;cACvC,CAAC,MAAM;gBACL;gBACA,IAAIA,IAAI,CAACkC,QAAQ,CAACxC,MAAM,GAAG,CAAC,EAAE;kBAC5B;kBACA;kBACAnB,IAAI,CAACyC,aAAa,CAAC,qBAAqB,EAAEhB,IAAI,CAAC;gBACjD,CAAC,MAAM;kBACL;kBACA;kBACAzB,IAAI,CAACyC,aAAa,CAAC,oBAAoB,EAAEhB,IAAI,CAAC;gBAChD;cACF;;cAEA;cACA;cACA,IAAI,CAACA,IAAI,CAACoG,cAAc,EAAE;gBACxB;gBACApG,IAAI,CAACoB,OAAO,GAAG,CAACpB,IAAI,CAACoB,OAAO;;gBAE5B;gBACA7C,IAAI,CAACoG,iBAAiB,CAAC,CAAC,CAAC0B,eAAe,CAAC,CAAC;cAC5C;;cAEA;cACA;cACA,IAAI,CAACZ,cAAc,EAAE;gBACnB,IAAI,CAAClB,OAAO,CAAC,CAAC;cAChB;cACA;YAEF;cACE;cACA;UACJ;;UAEA;UACAvE,IAAI,CAAC0F,SAAS,CAAC,GAAGF,UAAU,CAACE,SAAS,CAAC;QACzC;MACF,CAAC;MAED;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;MACIY,aAAa,WAAAA,cAAA,EAAG;QACd,OAAO,IAAI,CAAC/I,WAAW;MACzB,CAAC;MAED;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;MACIyH,gBAAgB,WAAAA,iBAACxE,MAAM,EAAE;QACvB,OAAO,IAAI,CAACjD,WAAW,CAACiD,MAAM,CAAC;MACjC,CAAC;MAED;AACJ;AACA;AACA;AACA;AACA;AACA;MACIP,cAAc,WAAAA,eAACL,QAAQ,EAAE;QACvB,OAAO,IAAI,CAACtC,QAAQ,CAAC,IAAI,CAACD,OAAO,CAACuC,QAAQ,CAAC,CAAC,IAAI,CAACpC,WAAW,CAAC,CAACgD,MAAM,CAAC;MACvE,CAAC;MAED;AACJ;AACA;AACA;AACA;AACA;MACI4E,gBAAgB,WAAAA,iBAAA,EAAG;QACjB;QACA,KAAK,IAAImB,SAAS,IAAI,IAAI,CAAC9I,WAAW,EAAE;UACtC,IAAI,CAACH,QAAQ,CAACiJ,SAAS,CAAC,CAAC9C,SAAS,GAAG,KAAK;QAC5C;;QAEA;QACA,IAAI,CAAChG,WAAW,GAAG,CAAC,CAAC;MACvB,CAAC;MAED;AACJ;AACA;AACA;AACA;AACA;MACI+I,gBAAgB,WAAAA,iBAAA,EAAG;QACjB,IAAIC,KAAK,GAAG,EAAE;QAEd,KAAK,IAAIjG,MAAM,IAAI,IAAI,CAAC/C,WAAW,EAAE;UACnCgJ,KAAK,CAAC/I,IAAI,CAAC,IAAI,CAACJ,QAAQ,CAACkD,MAAM,CAAC,CAAC;QACnC;QAEA,OAAOiG,KAAK;MACd,CAAC;MAED;MACAC,YAAY,WAAAA,aAAC3G,KAAK,EAAE4G,GAAG,EAAE;QACvB,IAAI,CAACpC,OAAO,CAAC,CAAC;MAChB,CAAC;MAED;AACJ;AACA;AACA;AACA;AACA;AACA;MACIqC,cAAc,WAAAA,eAAChH,QAAQ,EAAE;QACvB,OACE,IAAI,CAACzB,SAAM,CAACc,gBAAgB,CAAC,CAAC,IAAI,IAAI,CAACgB,cAAc,CAACL,QAAQ,CAAC,CAACiH,QAAQ;MAE5E;IACF,CAAC;IAEDC,QAAQ,WAAAA,SAAA,EAAG;MACT,IAAI,CAACzJ,OAAO,GACV,IAAI,CAACC,QAAQ,GACb,IAAI,CAACC,WAAW,GAChB,IAAI,CAACE,WAAW,GAChB,IAAI,CAACU,SAAM,GACX,IAAI,CAACC,SAAc,GACjB,IAAI;IACV,CAAC;IAED2I,KAAK,WAAAA,MAACC,OAAO,EAAE;MACb;MACA;MACAA,OAAO,CAACvF,IAAI,GAAGrF,EAAE,CAACO,EAAE,CAACK,WAAW,CAACC,cAAc,CAACwE,IAAI;IACtD;EACF,CAAC,CAAC;EA9mCFrF,EAAE,CAACO,EAAE,CAACK,WAAW,CAACiK,mBAAmB,CAAC1K,aAAa,GAAGA,aAAa;AAAC"
}