{
  "version": 3,
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "extend",
    "ui",
    "table",
    "Table",
    "construct",
    "headings",
    "custom",
    "dataModel",
    "treevirtual",
    "SimpleTreeDataModel",
    "treeColumn",
    "undefined",
    "setTreeColumn",
    "treeDataCellRenderer",
    "SimpleTreeDataCellRenderer",
    "defaultDataCellRenderer",
    "DefaultDataCellRenderer",
    "dataRowRenderer",
    "SimpleTreeDataRowRenderer",
    "selectionManager",
    "obj",
    "SelectionManager",
    "tableColumnModel",
    "columnmodel",
    "Resize",
    "tablePaneScroller",
    "pane",
    "Scroller",
    "lang",
    "Type",
    "isString",
    "setColumns",
    "setTree",
    "addListener",
    "e",
    "getDataModel",
    "setData",
    "setColumnVisibilityButtonVisible",
    "length",
    "setRowHeight",
    "setMetaColumnCounts",
    "setOverflow",
    "stdcr",
    "ddcr",
    "tcm",
    "getTableColumnModel",
    "treeCol",
    "getTreeColumn",
    "i",
    "setDataCellRenderer",
    "setDataRowRenderer",
    "setCellEditorFactory",
    "celleditor",
    "NodeEditor",
    "setFocusCellOnPointerMove",
    "setShowCellFocusIndicator",
    "scrollers",
    "_getPaneScrollerArr",
    "setSelectBeforeFocus",
    "events",
    "treeOpenWithContent",
    "treeOpenWhileEmpty",
    "treeClose",
    "changeSelection",
    "statics",
    "SelectionMode",
    "NONE",
    "selection",
    "Model",
    "NO_SELECTION",
    "SINGLE",
    "SINGLE_SELECTION",
    "SINGLE_INTERVAL",
    "SINGLE_INTERVAL_SELECTION",
    "MULTIPLE_INTERVAL",
    "MULTIPLE_INTERVAL_SELECTION",
    "MULTIPLE_INTERVAL_TOGGLE",
    "MULTIPLE_INTERVAL_SELECTION_TOGGLE",
    "properties",
    "openCloseClickSelectsRow",
    "check",
    "init",
    "appearance",
    "refine",
    "allowNodeEdit",
    "members",
    "getTableModel",
    "setUseTreeLines",
    "b",
    "dcr",
    "getDataCellRenderer",
    "hasListener",
    "data",
    "firstRow",
    "lastRow",
    "getRowCount",
    "firstColumn",
    "lastColumn",
    "getColumnCount",
    "fireDataEvent",
    "getUseTreeLines",
    "setAlwaysShowOpenCloseSymbol",
    "setExcludeFirstLevelTreeLines",
    "getExcludeFirstLevelTreeLines",
    "getAlwaysShowOpenCloseSymbol",
    "getOpenCloseButtonPosition",
    "node",
    "rowPos",
    "columnPositions",
    "_getColToXPosMap",
    "left",
    "bom",
    "element",
    "Location",
    "getLeft",
    "getContentElement",
    "getDomElement",
    "visX",
    "getColumnWidth",
    "setSelectionMode",
    "mode",
    "getSelectionModel",
    "getSelectionMode",
    "getHierarchy",
    "nodeReference",
    "_this",
    "components",
    "nodeId",
    "Error",
    "addHierarchy",
    "getData",
    "unshift",
    "label",
    "parentNodeId",
    "getSelectedNodes",
    "_onKeyDown",
    "evt",
    "getEnabled",
    "identifier",
    "getKeyIdentifier",
    "consumed",
    "modifiers",
    "getModifiers",
    "dm",
    "focusedCol",
    "getFocusedColumn",
    "focusedRow",
    "getFocusedRow",
    "getNode",
    "bHideOpenClose",
    "type",
    "LEAF",
    "setState",
    "bOpened",
    "moveFocusedCell",
    "event",
    "Dom",
    "CTRL_MASK",
    "BRANCH",
    "setFocusedCell",
    "SHIFT_MASK",
    "rowIndex",
    "getRowFromNodeId",
    "_focusedCol",
    "children",
    "preventDefault",
    "stopPropagation",
    "_onSelectionChanged",
    "_clearSelections",
    "TreeVirtual",
    "selectedNodes",
    "_calculateSelectedNodes",
    "stdcm",
    "selectedRanges",
    "getSelectedRanges",
    "j",
    "minIndex",
    "maxIndex",
    "bSelected",
    "push",
    "s"
  ],
  "sources": [
    "/home/runner/work/CometVisu/CometVisu/node_modules/@qooxdoo/framework/source/class/qx/ui/treevirtual/TreeVirtual.js"
  ],
  "sourcesContent": [
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2007 Derrell Lipman\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Derrell Lipman (derrell)\n\n************************************************************************ */\n\n/**\n * A \"virtual\" tree\n * <p>\n *   A number of convenience methods are available in the following mixins:\n *   <ul>\n *     <li>{@link qx.ui.treevirtual.MNode}</li>\n *     <li>{@link qx.ui.treevirtual.MFamily}</li>\n *   </ul>\n * </p>\n */\nqx.Class.define(\"qx.ui.treevirtual.TreeVirtual\", {\n  extend: qx.ui.table.Table,\n\n  /*\n  *****************************************************************************\n     CONSTRUCTOR\n  *****************************************************************************\n  */\n\n  /**\n   * @param headings {Array | String}\n   *   An array containing a list of strings, one for each column, representing\n   *   the headings for each column.  As a special case, if only one column is\n   *   to exist, the string representing its heading need not be enclosed in an\n   *   array.\n   *\n   * @param custom {Map ? null}\n   *   A map provided (typically) by subclasses, to override the various\n   *   supplemental classes allocated within this constructor.  For normal\n   *   usage, this parameter may be omitted.  Each property must be an object\n   *   instance or a function which returns an object instance, as indicated by\n   *   the defaults listed here:\n   *\n   *   <dl>\n   *     <dt>initiallyHiddenColumns</dt>\n   *       <dd>\n   *         {Array?}\n   *         A list of column numbers that should be initially invisible. Any\n   *         column not mentioned will be initially visible, and if no array\n   *         is provided, all columns will be initially visible.\n   *       </dd>\n   *     <dt>dataModel</dt>\n   *       <dd>new qx.ui.treevirtual.SimpleTreeDataModel()</dd>\n   *     <dt>treeDataCellRenderer</dt>\n   *       <dd>\n   *         Instance of {@link qx.ui.treevirtual.SimpleTreeDataCellRenderer}.\n   *         Custom data cell renderer for the tree column.\n   *       </dd>\n   *     <dt>treeColumn</dt>\n   *       <dd>\n   *         The column number in which the tree is to reside, i.e., which\n   *         column uses the SimpleTreeDataCellRenderer or a subclass of it.\n   *       </dd>\n   *     <dt>defaultDataCellRenderer</dt>\n   *       <dd>\n   *         Instance of {@link qx.ui.treevirtual.DefaultDataCellRenderer}.\n   *         Custom data cell renderer for all columns other than the tree\n   *         column.\n   *       </dd>\n   *     <dt>dataRowRenderer</dt>\n   *       <dd>new qx.ui.treevirtual.SimpleTreeDataRowRenderer()</dd>\n   *     <dt>selectionManager</dt>\n   *       <dd><pre class='javascript'>\n   *         function(obj)\n   *         {\n   *           return new qx.ui.treevirtual.SelectionManager(obj);\n   *         }\n   *       </pre></dd>\n   *     <dt>tableColumnModel</dt>\n   *       <dd><pre class='javascript'>\n   *         function(obj)\n   *         {\n   *           return new qx.ui.table.columnmodel.Resize(obj);\n   *         }\n   *       </pre></dd>\n   *     <dt>tablePaneScroller</dt>\n   *       <dd>\n   *         Instance of {@link qx.ui.treevirtual.pane.Scroller}.\n   *         Custom table pane scroller for the tree\n   *         <pre class='javascript'>\n   *         function(obj)\n   *         {\n   *           return new qx.ui.table.columnmodel.Resize(obj);\n   *         }\n   *       </pre>\n   *       </dd>\n   *   </dl>\n   */\n  construct(headings, custom) {\n    //\n    // Allocate default objects if custom objects are not specified\n    //\n    if (!custom) {\n      custom = {};\n    }\n\n    if (!custom.dataModel) {\n      custom.dataModel = new qx.ui.treevirtual.SimpleTreeDataModel();\n    }\n\n    if (custom.treeColumn === undefined) {\n      custom.treeColumn = 0;\n      custom.dataModel.setTreeColumn(custom.treeColumn);\n    }\n\n    if (!custom.treeDataCellRenderer) {\n      custom.treeDataCellRenderer =\n        new qx.ui.treevirtual.SimpleTreeDataCellRenderer();\n    }\n\n    if (!custom.defaultDataCellRenderer) {\n      custom.defaultDataCellRenderer =\n        new qx.ui.treevirtual.DefaultDataCellRenderer();\n    }\n\n    if (!custom.dataRowRenderer) {\n      custom.dataRowRenderer =\n        new qx.ui.treevirtual.SimpleTreeDataRowRenderer();\n    }\n\n    if (!custom.selectionManager) {\n      custom.selectionManager = function (obj) {\n        return new qx.ui.treevirtual.SelectionManager(obj);\n      };\n    }\n\n    if (!custom.tableColumnModel) {\n      custom.tableColumnModel = function (obj) {\n        return new qx.ui.table.columnmodel.Resize(obj);\n      };\n    }\n\n    if (!custom.tablePaneScroller) {\n      custom.tablePaneScroller = function (obj) {\n        return new qx.ui.treevirtual.pane.Scroller(obj);\n      };\n    }\n\n    // Specify the column headings.  We accept a single string (one single\n    // column) or an array of strings (one or more columns).\n    if (qx.lang.Type.isString(headings)) {\n      headings = [headings];\n    }\n\n    custom.dataModel.setColumns(headings);\n    custom.dataModel.setTreeColumn(custom.treeColumn);\n\n    // Save a reference to the tree with the data model\n    custom.dataModel.setTree(this);\n\n    // Call our superclass constructor\n    super(custom.dataModel, custom);\n\n    // Arrange to redisplay edited data following editing\n    this.addListener(\"dataEdited\", e => {\n      this.getDataModel().setData();\n    });\n\n    // By default, present the column visibility button only if there are\n    // multiple columns.\n    this.setColumnVisibilityButtonVisible(headings.length > 1);\n\n    // Set sizes\n    this.setRowHeight(16);\n    this.setMetaColumnCounts(headings.length > 1 ? [1, -1] : [1]);\n\n    // Overflow on trees is always hidden.  The internal elements scroll.\n    this.setOverflow(\"hidden\");\n\n    // Set the data cell render.  We use the SimpleTreeDataCellRenderer for the\n    // tree column, and our DefaultDataCellRenderer for all other columns.\n    var stdcr = custom.treeDataCellRenderer;\n    var ddcr = custom.defaultDataCellRenderer;\n    var tcm = this.getTableColumnModel();\n    var treeCol = this.getDataModel().getTreeColumn();\n\n    for (var i = 0; i < headings.length; i++) {\n      tcm.setDataCellRenderer(i, i == treeCol ? stdcr : ddcr);\n    }\n\n    // Set the data row renderer.\n    this.setDataRowRenderer(custom.dataRowRenderer);\n\n    // Set the editor for the tree column, for use if allowNodeEdit is true\n    tcm.setCellEditorFactory(\n      treeCol,\n      new qx.ui.treevirtual.celleditor.NodeEditor()\n    );\n\n    // Move the focus with the mouse.  This controls the ROW focus indicator.\n    this.setFocusCellOnPointerMove(true);\n\n    // In a tree we don't typically want a visible cell focus indicator\n    this.setShowCellFocusIndicator(false);\n\n    // Get the list of pane scrollers\n    var scrollers = this._getPaneScrollerArr();\n\n    // For each scroller...\n    for (var i = 0; i < scrollers.length; i++) {\n      // Set the pane scrollers to handle the selection before\n      // displaying the focus, so we can manipulate the selected icon.\n      scrollers[i].setSelectBeforeFocus(true);\n    }\n  },\n\n  /*\n  *****************************************************************************\n     EVENTS\n  *****************************************************************************\n  */\n\n  events: {\n    /**\n     * Fired when a tree branch which already has content is opened.\n     *\n     * Event data: the node object from the data model (of the node\n     * being opened) as described in\n     * {@link qx.ui.treevirtual.SimpleTreeDataModel}\n     */\n    treeOpenWithContent: \"qx.event.type.Data\",\n\n    /**\n     * Fired when an empty tree branch is opened.\n     *\n     * Event data: the node object from the data model (of the node\n     * being opened) as described in\n     * {@link qx.ui.treevirtual.SimpleTreeDataModel}\n     */\n    treeOpenWhileEmpty: \"qx.event.type.Data\",\n\n    /**\n     * Fired when a tree branch is closed.\n     *\n     * Event data: the node object from the data model (of the node\n     * being closed) as described in\n     * {@link qx.ui.treevirtual.SimpleTreeDataModel}\n     */\n    treeClose: \"qx.event.type.Data\",\n\n    /**\n     * Fired when the selected rows change.\n     *\n     * Event data: An array of node objects (the selected rows' nodes)\n     * from the data model.  Each node object is described in\n     * {@link qx.ui.treevirtual.SimpleTreeDataModel}\n     */\n    changeSelection: \"qx.event.type.Data\"\n  },\n\n  /*\n  *****************************************************************************\n     STATICS\n  *****************************************************************************\n  */\n\n  statics: {\n    /**\n     * Selection Modes {int}\n     *\n     *   NONE\n     *     Nothing can ever be selected.\n     *\n     *   SINGLE\n     *     Allow only one selected item.\n     *\n     *   SINGLE_INTERVAL\n     *     Allow one contiguous interval of selected items.\n     *\n     *   MULTIPLE_INTERVAL\n     *     Allow any set of selected items, whether contiguous or not.\n     *\n     *   MULTIPLE_INTERVAL_TOGGLE\n     *     Like MULTIPLE_INTERVAL, but clicking on an item toggles its selection state.\n     */\n    SelectionMode: {\n      NONE: qx.ui.table.selection.Model.NO_SELECTION,\n      SINGLE: qx.ui.table.selection.Model.SINGLE_SELECTION,\n      SINGLE_INTERVAL: qx.ui.table.selection.Model.SINGLE_INTERVAL_SELECTION,\n      MULTIPLE_INTERVAL:\n        qx.ui.table.selection.Model.MULTIPLE_INTERVAL_SELECTION,\n      MULTIPLE_INTERVAL_TOGGLE:\n        qx.ui.table.selection.Model.MULTIPLE_INTERVAL_SELECTION_TOGGLE\n    }\n  },\n\n  /*\n  *****************************************************************************\n     PROPERTIES\n  *****************************************************************************\n  */\n\n  properties: {\n    /**\n     * Whether a click on the open/close button should also cause selection of\n     * the row.\n     */\n    openCloseClickSelectsRow: {\n      check: \"Boolean\",\n      init: false\n    },\n\n    appearance: {\n      refine: true,\n      init: \"treevirtual\"\n    },\n\n    allowNodeEdit: {\n      check: \"Boolean\",\n      init: false\n    }\n  },\n\n  /*\n  *****************************************************************************\n     MEMBERS\n  *****************************************************************************\n  */\n\n  members: {\n    /**\n     * Return the data model for this tree.\n     *\n     * @return {qx.ui.table.ITableModel} The data model.\n     */\n    getDataModel() {\n      return this.getTableModel();\n    },\n\n    /**\n     * Set whether lines linking tree children shall be drawn on the tree.\n     * Note that not all themes support tree lines.  As of the time of this\n     * writing, the Classic theme supports tree lines (and uses +/- icons\n     * which lend themselves to tree lines), while the Modern theme, which\n     * uses right-facing and downward-facing arrows instead of +/-, does not.\n     *\n     * @param b {Boolean}\n     *   <i>true</i> if tree lines should be shown; <i>false</i> otherwise.\n     *\n     */\n    setUseTreeLines(b) {\n      var dataModel = this.getDataModel();\n      var treeCol = dataModel.getTreeColumn();\n      var dcr = this.getTableColumnModel().getDataCellRenderer(treeCol);\n      dcr.setUseTreeLines(b);\n\n      // Inform the listeners\n      if (dataModel.hasListener(\"dataChanged\")) {\n        var data = {\n          firstRow: 0,\n          lastRow: dataModel.getRowCount() - 1,\n          firstColumn: 0,\n          lastColumn: dataModel.getColumnCount() - 1\n        };\n\n        dataModel.fireDataEvent(\"dataChanged\", data);\n      }\n    },\n\n    /**\n     * Get whether lines linking tree children shall be drawn on the tree.\n     *\n     * @return {Boolean}\n     *   <i>true</i> if tree lines are in use;\n     *   <i>false</i> otherwise.\n     */\n    getUseTreeLines() {\n      var treeCol = this.getDataModel().getTreeColumn();\n      var dcr = this.getTableColumnModel().getDataCellRenderer(treeCol);\n      return dcr.getUseTreeLines();\n    },\n\n    /**\n     * Set whether the open/close button should be displayed on a branch,\n     * even if the branch has no children.\n     *\n     * @param b {Boolean}\n     *   <i>true</i> if the open/close button should be shown;\n     *   <i>false</i> otherwise.\n     *\n     */\n    setAlwaysShowOpenCloseSymbol(b) {\n      var dataModel = this.getDataModel();\n      var treeCol = dataModel.getTreeColumn();\n      var dcr = this.getTableColumnModel().getDataCellRenderer(treeCol);\n      dcr.setAlwaysShowOpenCloseSymbol(b);\n\n      // Inform the listeners\n      if (dataModel.hasListener(\"dataChanged\")) {\n        var data = {\n          firstRow: 0,\n          lastRow: dataModel.getRowCount() - 1,\n          firstColumn: 0,\n          lastColumn: dataModel.getColumnCount() - 1\n        };\n\n        dataModel.fireDataEvent(\"dataChanged\", data);\n      }\n    },\n\n    /**\n     * Set whether drawing of first-level tree-node lines are disabled even\n     * if drawing of tree lines is enabled.\n     *\n     * @param b {Boolean}\n     *   <i>true</i> if first-level tree lines should be disabled;\n     *   <i>false</i> for normal operation.\n     *\n     */\n    setExcludeFirstLevelTreeLines(b) {\n      var dataModel = this.getDataModel();\n      var treeCol = dataModel.getTreeColumn();\n      var dcr = this.getTableColumnModel().getDataCellRenderer(treeCol);\n      dcr.setExcludeFirstLevelTreeLines(b);\n\n      // Inform the listeners\n      if (dataModel.hasListener(\"dataChanged\")) {\n        var data = {\n          firstRow: 0,\n          lastRow: dataModel.getRowCount() - 1,\n          firstColumn: 0,\n          lastColumn: dataModel.getColumnCount() - 1\n        };\n\n        dataModel.fireDataEvent(\"dataChanged\", data);\n      }\n    },\n\n    /**\n     * Get whether drawing of first-level tree lines should be disabled even\n     * if drawing of tree lines is enabled.\n     * (See also {@link #getUseTreeLines})\n     *\n     * @return {Boolean}\n     *   <i>true</i> if tree lines are in use;\n     *   <i>false</i> otherwise.\n     */\n    getExcludeFirstLevelTreeLines() {\n      var treeCol = this.getDataModel().getTreeColumn();\n      var dcr = this.getTableColumnModel().getDataCellRenderer(treeCol);\n      return dcr.getExcludeFirstLevelTreeLines();\n    },\n\n    /**\n     * Set whether the open/close button should be displayed on a branch,\n     * even if the branch has no children.\n     *\n     * @return {Boolean}\n     *   <i>true</i> if tree lines are in use;\n     *   <i>false</i> otherwise.\n     */\n    getAlwaysShowOpenCloseSymbol() {\n      var treeCol = this.getDataModel().getTreeColumn();\n      var dcr = this.getTableColumnModel().getDataCellRenderer(treeCol);\n      return dcr.getAlwaysShowOpenCloseSymbol();\n    },\n\n    /**\n     * Returns the position of the open/close button for a node\n     *\n     * @return {Object} The position of the open/close button within the tree row\n     */\n    getOpenCloseButtonPosition(node) {\n      var treeCol = this.getDataModel().getTreeColumn();\n      var dcr = this.getTableColumnModel().getDataCellRenderer(treeCol);\n      var rowPos = dcr.getOpenCloseButtonPosition(this, node);\n\n      // Get the order of the columns\n      var tcm = this.getTableColumnModel();\n      var columnPositions = tcm._getColToXPosMap();\n\n      // Calculate the position of the beginning of the tree column\n      var left = qx.bom.element.Location.getLeft(\n        this.getContentElement().getDomElement()\n      );\n\n      for (var i = 0; i < columnPositions[treeCol].visX; i++) {\n        left += tcm.getColumnWidth(columnPositions[i].visX);\n      }\n      rowPos.left += left;\n      return rowPos;\n    },\n\n    /**\n     * Set the selection mode.\n     *\n     * @param mode {Integer}\n     *   The selection mode to be used.  It may be any of:\n     *     <pre>\n     *       qx.ui.treevirtual.TreeVirtual.SelectionMode.NONE:\n     *          Nothing can ever be selected.\n     *\n     *       qx.ui.treevirtual.TreeVirtual.SelectionMode.SINGLE\n     *          Allow only one selected item.\n     *\n     *       qx.ui.treevirtual.TreeVirtual.SelectionMode.SINGLE_INTERVAL\n     *          Allow one contiguous interval of selected items.\n     *\n     *       qx.ui.treevirtual.TreeVirtual.SelectionMode.MULTIPLE_INTERVAL\n     *          Allow any selected items, whether contiguous or not.\n     *     </pre>\n     *\n     */\n    setSelectionMode(mode) {\n      this.getSelectionModel().setSelectionMode(mode);\n    },\n\n    /**\n     * Get the selection mode currently in use.\n     *\n     * @return {Integer}\n     *   One of the values documented in {@link #setSelectionMode}\n     */\n    getSelectionMode() {\n      return this.getSelectionModel().getSelectionMode();\n    },\n\n    /**\n     * Obtain the entire hierarchy of labels from the root down to the\n     * specified node.\n     *\n     * @param nodeReference {Object | Integer}\n     *   The node for which the hierarchy is desired.  The node can be\n     *   represented either by the node object, or the node id (as would have\n     *   been returned by addBranch(), addLeaf(), etc.)\n     *\n     * @return {Array}\n     *   The returned array contains one string for each label in the\n     *   hierarchy of the node specified by the parameter.  Element 0 of the\n     *   array contains the label of the root node, element 1 contains the\n     *   label of the node immediately below root in the specified node's\n     *   hierarchy, etc., down to the last element in the array contain the\n     *   label of the node referenced by the parameter.\n     */\n    getHierarchy(nodeReference) {\n      var _this = this;\n      var components = [];\n      var node;\n      var nodeId;\n\n      if (typeof nodeReference == \"object\") {\n        node = nodeReference;\n        nodeId = node.nodeId;\n      } else if (typeof nodeReference == \"number\") {\n        nodeId = nodeReference;\n      } else {\n        throw new Error(\"Expected node object or node id\");\n      }\n\n      function addHierarchy(nodeId) {\n        // If we're at the root...\n        if (!nodeId) {\n          // ... then we're done\n          return;\n        }\n\n        // Get the requested node\n        var node = _this.getDataModel().getData()[nodeId];\n\n        // Add its label to the hierarchy components\n        components.unshift(node.label);\n\n        // Call recursively to our parent node.\n        addHierarchy(node.parentNodeId);\n      }\n\n      addHierarchy(nodeId);\n      return components;\n    },\n\n    /**\n     * Return the nodes that are currently selected.\n     *\n     * @return {Array}\n     *   An array containing the nodes that are currently selected.\n     */\n    getSelectedNodes() {\n      return this.getDataModel().getSelectedNodes();\n    },\n\n    /**\n     * Event handler. Called when a key was pressed.\n     *\n     * We handle the Enter key to toggle opened/closed tree state.  All\n     * other keydown events are passed to our superclass.\n     *\n     * @param evt {Map}\n     *   The event.\n     *\n     */\n    _onKeyDown(evt) {\n      if (!this.getEnabled()) {\n        return;\n      }\n\n      var identifier = evt.getKeyIdentifier();\n\n      var consumed = false;\n      var modifiers = evt.getModifiers();\n\n      if (modifiers == 0) {\n        switch (identifier) {\n          case \"Enter\":\n            // Get the data model\n            var dm = this.getDataModel();\n\n            var focusedCol = this.getFocusedColumn();\n            var treeCol = dm.getTreeColumn();\n\n            if (focusedCol == treeCol) {\n              // Get the focused node\n              var focusedRow = this.getFocusedRow();\n              var node = dm.getNode(focusedRow);\n\n              if (\n                !node.bHideOpenClose &&\n                node.type != qx.ui.treevirtual.SimpleTreeDataModel.Type.LEAF\n              ) {\n                dm.setState(node, { bOpened: !node.bOpened });\n              }\n\n              consumed = true;\n            }\n            break;\n\n          case \"Left\":\n            this.moveFocusedCell(-1, 0);\n            break;\n\n          case \"Right\":\n            this.moveFocusedCell(1, 0);\n            break;\n        }\n      } else if (modifiers == qx.event.type.Dom.CTRL_MASK) {\n        switch (identifier) {\n          case \"Left\":\n            // Get the data model\n            var dm = this.getDataModel();\n\n            // Get the focused node\n            var focusedRow = this.getFocusedRow();\n            var treeCol = dm.getTreeColumn();\n            var node = dm.getNode(focusedRow);\n\n            // If it's an open branch and open/close is allowed...\n            if (\n              node.type == qx.ui.treevirtual.SimpleTreeDataModel.Type.BRANCH &&\n              !node.bHideOpenClose &&\n              node.bOpened\n            ) {\n              // ... then close it\n              dm.setState(node, { bOpened: !node.bOpened });\n            }\n\n            // Reset the focus to the current node\n            this.setFocusedCell(treeCol, focusedRow, true);\n\n            consumed = true;\n            break;\n\n          case \"Right\":\n            // Get the data model\n            var dm = this.getDataModel();\n\n            // Get the focused node\n            focusedRow = this.getFocusedRow();\n            treeCol = dm.getTreeColumn();\n            node = dm.getNode(focusedRow);\n\n            // If it's a closed branch and open/close is allowed...\n            if (\n              node.type == qx.ui.treevirtual.SimpleTreeDataModel.Type.BRANCH &&\n              !node.bHideOpenClose &&\n              !node.bOpened\n            ) {\n              // ... then open it\n              dm.setState(node, { bOpened: !node.bOpened });\n            }\n\n            // Reset the focus to the current node\n            this.setFocusedCell(treeCol, focusedRow, true);\n\n            consumed = true;\n            break;\n        }\n      } else if (modifiers == qx.event.type.Dom.SHIFT_MASK) {\n        switch (identifier) {\n          case \"Left\":\n            // Get the data model\n            var dm = this.getDataModel();\n\n            // Get the focused node\n            var focusedRow = this.getFocusedRow();\n            var treeCol = dm.getTreeColumn();\n            var node = dm.getNode(focusedRow);\n\n            // If we're not at the top-level already...\n            if (node.parentNodeId) {\n              // Find out what rendered row our parent node is at\n              var rowIndex = dm.getRowFromNodeId(node.parentNodeId);\n\n              // Set the focus to our parent\n              this.setFocusedCell(this._focusedCol, rowIndex, true);\n            }\n\n            consumed = true;\n            break;\n\n          case \"Right\":\n            // Get the data model\n            var dm = this.getDataModel();\n\n            // Get the focused node\n            focusedRow = this.getFocusedRow();\n            treeCol = dm.getTreeColumn();\n            node = dm.getNode(focusedRow);\n\n            // If we're on a branch and open/close is allowed...\n            if (\n              node.type == qx.ui.treevirtual.SimpleTreeDataModel.Type.BRANCH &&\n              !node.bHideOpenClose\n            ) {\n              // ... then first ensure the branch is open\n              if (!node.bOpened) {\n                dm.setState(node, { bOpened: !node.bOpened });\n              }\n\n              // If this node has children...\n              if (node.children.length > 0) {\n                // ... then move the focus to the first child\n                this.moveFocusedCell(0, 1);\n              }\n            }\n\n            consumed = true;\n            break;\n        }\n      }\n\n      // Was this one of our events that we handled?\n      if (consumed) {\n        // Yup.  Don't propagate it.\n        evt.preventDefault();\n        evt.stopPropagation();\n      } else {\n        // It's not one of ours.  Let our superclass handle this event\n        super._onKeyDown(evt);\n      }\n    },\n\n    /**\n     * Event handler. Called when the selection has changed.\n     *\n     * @param evt {Map}\n     *   The event.\n     *\n     */\n    _onSelectionChanged(evt) {\n      // Clear the old list of selected nodes\n      this.getDataModel()._clearSelections();\n\n      // If selections are allowed, pass an event to our listeners\n      if (\n        this.getSelectionMode() !=\n        qx.ui.treevirtual.TreeVirtual.SelectionMode.NONE\n      ) {\n        var selectedNodes = this._calculateSelectedNodes();\n\n        // Get the now-focused\n        this.fireDataEvent(\"changeSelection\", selectedNodes);\n      }\n\n      // Call the superclass method\n      super._onSelectionChanged(evt);\n    },\n\n    /**\n     * Calculate and return the set of nodes which are currently selected by\n     * the user, on the screen.  In the process of calculating which nodes\n     * are selected, the nodes corresponding to the selected rows on the\n     * screen are marked as selected by setting their <i>bSelected</i>\n     * property to true, and all previously-selected nodes have their\n     * <i>bSelected</i> property reset to false.\n     *\n     * @return {Array}\n     *   An array of nodes matching the set of rows which are selected on the\n     *   screen.\n     */\n    _calculateSelectedNodes() {\n      // Create an array of nodes that are now selected\n      var stdcm = this.getDataModel();\n      var selectedRanges = this.getSelectionModel().getSelectedRanges();\n      var selectedNodes = [];\n      var node;\n\n      for (var i = 0; i < selectedRanges.length; i++) {\n        for (\n          var j = selectedRanges[i].minIndex;\n          j <= selectedRanges[i].maxIndex;\n          j++\n        ) {\n          node = stdcm.getNode(j);\n          stdcm.setState(node, { bSelected: true });\n          selectedNodes.push(node);\n        }\n      }\n\n      return selectedNodes;\n    },\n\n    /**\n     * Set the overflow mode.\n     *\n     * @param s {String}\n     *   Overflow mode.  The only allowable mode is \"hidden\".\n     *\n     *\n     * @throws {Error}\n     *   Error if tree overflow mode is other than \"hidden\"\n     */\n    setOverflow(s) {\n      if (s != \"hidden\") {\n        throw new Error(\n          \"Tree overflow must be hidden.  \" +\n            \"The internal elements of it will scroll.\"\n        );\n      }\n    }\n  }\n});\n"
  ],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;EAAAA,EAAE,CAACC,SAAH,CAAaC,oBAAb,CAAkCC,aAAlC;;EAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;EAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EACAH,EAAE,CAACI,KAAH,CAASC,MAAT,CAAgB,+BAAhB,EAAiD;IAC/CC,MAAM,EAAEN,EAAE,CAACO,EAAH,CAAMC,KAAN,CAAYC,KAD2B;;IAG/C;AACF;AACA;AACA;AACA;;IAEE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;IACEC,SA9E+C,qBA8ErCC,QA9EqC,EA8E3BC,MA9E2B,EA8EnB;MAAA;;MAC1B;MACA;MACA;MACA,IAAI,CAACA,MAAL,EAAa;QACXA,MAAM,GAAG,EAAT;MACD;;MAED,IAAI,CAACA,MAAM,CAACC,SAAZ,EAAuB;QACrBD,MAAM,CAACC,SAAP,GAAmB,IAAIb,EAAE,CAACO,EAAH,CAAMO,WAAN,CAAkBC,mBAAtB,EAAnB;MACD;;MAED,IAAIH,MAAM,CAACI,UAAP,KAAsBC,SAA1B,EAAqC;QACnCL,MAAM,CAACI,UAAP,GAAoB,CAApB;QACAJ,MAAM,CAACC,SAAP,CAAiBK,aAAjB,CAA+BN,MAAM,CAACI,UAAtC;MACD;;MAED,IAAI,CAACJ,MAAM,CAACO,oBAAZ,EAAkC;QAChCP,MAAM,CAACO,oBAAP,GACE,IAAInB,EAAE,CAACO,EAA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"
}