{
  "version": 3,
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "extend",
    "ui",
    "progressive",
    "headfoot",
    "Abstract",
    "construct",
    "columnWidths",
    "labelArr",
    "constructor",
    "call",
    "setHeight",
    "setPadding",
    "__colors",
    "__linkColors",
    "set",
    "backgroundColor",
    "background",
    "__progressBar",
    "core",
    "Widget",
    "width",
    "indicatorDone",
    "add",
    "spacer",
    "indicatorUndone",
    "flex",
    "__percentDone",
    "basic",
    "Atom",
    "percentBackground",
    "textColor",
    "percentText",
    "exclude",
    "members",
    "__total",
    "_onChangeTheme",
    "Progress",
    "superclass",
    "prototype",
    "__P_428_1",
    "colorMgr",
    "theme",
    "manager",
    "Color",
    "getInstance",
    "resolve",
    "join",
    "_this",
    "addListener",
    "e",
    "getData",
    "initial",
    "show",
    "complete",
    "remaining",
    "mySize",
    "getBounds",
    "barWidth",
    "Math",
    "floor",
    "percent",
    "isNaN",
    "setMinWidth",
    "setLabel",
    "destruct",
    "_disposeObjects"
  ],
  "sources": [
    "/home/runner/work/CometVisu/CometVisu/node_modules/@qooxdoo/framework/source/class/qx/ui/progressive/headfoot/Progress.js"
  ],
  "sourcesContent": [
    "/* ************************************************************************\r\n\r\n   qooxdoo - the new era of web development\r\n\r\n   http://qooxdoo.org\r\n\r\n   Copyright:\r\n     2008 Derrell Lipman\r\n\r\n   License:\r\n     MIT: https://opensource.org/licenses/MIT\r\n     See the LICENSE file in the project's top-level directory for details.\r\n\r\n   Authors:\r\n     * Derrell Lipman (derrell)\r\n\r\n************************************************************************ */\r\n\r\n/**\r\n * The standard footer used with Progressive's Table renderer, to show\r\n * progress of loading data into the table.\r\n */\r\nqx.Class.define(\"qx.ui.progressive.headfoot.Progress\", {\r\n  extend: qx.ui.progressive.headfoot.Abstract,\r\n\r\n  /**\r\n   * @param columnWidths {qx.ui.progressive.renderer.table.Widths}\r\n   *   The set of widths, minimum widths, and maximum widths to be used for\r\n   *   each of the columns in the table.\r\n   *\r\n   * @param labelArr {Array}\r\n   *   Array of labels, one for each of the columns.\r\n   *\r\n   */\r\n  construct(columnWidths, labelArr) {\r\n    super();\r\n\r\n    // Set a default height for the progress bar\r\n    this.setHeight(16);\r\n    this.setPadding(0);\r\n\r\n    this.__colors = {};\r\n\r\n    this.__linkColors();\r\n\r\n    this.set({\r\n      backgroundColor: this.__colors.background\r\n    });\r\n\r\n    // Create a widget that continually increases its width for progress bar\r\n    this.__progressBar = new qx.ui.core.Widget();\r\n    this.__progressBar.set({\r\n      width: 0,\r\n      backgroundColor: this.__colors.indicatorDone\r\n    });\r\n\r\n    this.add(this.__progressBar);\r\n\r\n    // Create a flex area between the progress bar and the percent done\r\n    var spacer = new qx.ui.core.Widget();\r\n    spacer.set({\r\n      backgroundColor: this.__colors.indicatorUndone\r\n    });\r\n\r\n    this.add(spacer, { flex: 1 });\r\n\r\n    // We also like to show progress as a percentage done string.\r\n    this.__percentDone = new qx.ui.basic.Atom(\"0%\");\r\n    this.__percentDone.set({\r\n      width: 100,\r\n      backgroundColor: this.__colors.percentBackground,\r\n      textColor: this.__colors.percentText\r\n    });\r\n\r\n    this.add(this.__percentDone);\r\n\r\n    // We're initially invisible\r\n    this.exclude();\r\n  },\r\n\r\n  members: {\r\n    __total: null,\r\n    __colors: null,\r\n    __progressBar: null,\r\n    __percentDone: null,\r\n\r\n    // overridden\r\n    _onChangeTheme() {\r\n      super._onChangeTheme();\r\n      this.__linkColors();\r\n    },\r\n\r\n    /**\r\n     * Helper to link the theme colors to the current class.\r\n     */\r\n    __linkColors() {\r\n      // link to color theme\r\n      var colorMgr = qx.theme.manager.Color.getInstance();\r\n      this.__colors.background = colorMgr.resolve(\r\n        \"progressive-progressbar-background\"\r\n      );\r\n\r\n      this.__colors.indicatorDone = colorMgr.resolve(\r\n        \"progressive-progressbar-indicator-done\"\r\n      );\r\n\r\n      this.__colors.indicatorUndone = colorMgr.resolve(\r\n        \"progressive-progressbar-indicator-undone\"\r\n      );\r\n\r\n      this.__colors.percentBackground = colorMgr.resolve(\r\n        \"progressive-progressbar-percent-background\"\r\n      );\r\n\r\n      this.__colors.percentText = colorMgr.resolve(\r\n        \"progressive-progressbar-percent-text\"\r\n      );\r\n    },\r\n\r\n    // overridden\r\n    join(progressive) {\r\n      // Save the progressive handle\r\n      super.join(progressive);\r\n\r\n      // Listen for the \"renderStart\" event, to save the number of elements on\r\n      // the queue, and to set ourself visible\r\n      progressive.addListener(\"renderStart\", e => {\r\n        this.__total = e.getData().initial;\r\n        this.show();\r\n      });\r\n\r\n      // Listen for the \"progress\" event, to update the progress bar\r\n      progressive.addListener(\"progress\", e => {\r\n        var complete = 1.0 - e.getData().remaining / this.__total;\r\n        var mySize = this.getBounds();\r\n        if (mySize) {\r\n          var barWidth = Math.floor(\r\n            (mySize.width - this.__percentDone.getBounds().width) * complete\r\n          );\r\n\r\n          var percent = Math.floor(complete * 100) + \"%\";\r\n\r\n          if (!isNaN(barWidth)) {\r\n            this.__progressBar.setMinWidth(barWidth);\r\n            this.__percentDone.setLabel(percent);\r\n          }\r\n        }\r\n      });\r\n\r\n      // Listen for the \"renderEnd\" event to make ourself invisible\r\n      progressive.addListener(\"renderEnd\", e => {\r\n        this.exclude();\r\n      });\r\n    }\r\n  },\r\n\r\n  destruct() {\r\n    this.__colors = null;\r\n\r\n    this._disposeObjects(\"__progressBar\", \"__percentDone\");\r\n  }\r\n});\r\n"
  ],
  "mappings": ";;;;;;;;;;;;;;;;;;;;EAAAA,EAAE,CAACC,SAAS,CAACC,oBAAoB,CAACC,aAAa,CAAC;EAAhD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;EAEA;AACA;AACA;AACA;EACAH,EAAE,CAACI,KAAK,CAACC,MAAM,CAAC,qCAAqC,EAAE;IACrDC,MAAM,EAAEN,EAAE,CAACO,EAAE,CAACC,WAAW,CAACC,QAAQ,CAACC,QAAQ;IAE3C;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;IACEC,SAAS,WAAAA,UAACC,YAAY,EAAEC,QAAQ,EAAE;MAChCb,EAAA,CAAAO,EAAA,CAAAC,WAAA,CAAAC,QAAA,CAAAC,QAAA,CAAAI,WAAA,CAAAC,IAAA;;MAEA;MACA,IAAI,CAACC,SAAS,CAAC,EAAE,CAAC;MAClB,IAAI,CAACC,UAAU,CAAC,CAAC,CAAC;MAElB,IAAI,CAACC,SAAQ,GAAG,CAAC,CAAC;MAElB,IAAI,CAACC,SAAY,CAAC,CAAC;MAEnB,IAAI,CAACC,GAAG,CAAC;QACPC,eAAe,EAAE,IAAI,CAACH,SAAQ,CAACI;MACjC,CAAC,CAAC;;MAEF;MACA,IAAI,CAACC,SAAa,GAAG,IAAIvB,EAAE,CAACO,EAAE,CAACiB,IAAI,CAACC,MAAM,CAAC,CAAC;MAC5C,IAAI,CAACF,SAAa,CAACH,GAAG,CAAC;QACrBM,KAAK,EAAE,CAAC;QACRL,eAAe,EAAE,IAAI,CAACH,SAAQ,CAACS;MACjC,CAAC,CAAC;MAEF,IAAI,CAACC,GAAG,CAAC,IAAI,CAACL,SAAa,CAAC;;MAE5B;MACA,IAAIM,MAAM,GAAG,IAAI7B,EAAE,CAACO,EAAE,CAACiB,IAAI,CAACC,MAAM,CAAC,CAAC;MACpCI,MAAM,CAACT,GAAG,CAAC;QACTC,eAAe,EAAE,IAAI,CAACH,SAAQ,CAACY;MACjC,CAAC,CAAC;MAEF,IAAI,CAACF,GAAG,CAACC,MAAM,EAAE;QAAEE,IAAI,EAAE;MAAE,CAAC,CAAC;;MAE7B;MACA,IAAI,CAACC,SAAa,GAAG,IAAIhC,EAAE,CAACO,EAAE,CAAC0B,KAAK,CAACC,IAAI,CAAC,IAAI,CAAC;MAC/C,IAAI,CAACF,SAAa,CAACZ,GAAG,CAAC;QACrBM,KAAK,EAAE,GAAG;QACVL,eAAe,EAAE,IAAI,CAACH,SAAQ,CAACiB,iBAAiB;QAChDC,SAAS,EAAE,IAAI,CAAClB,SAAQ,CAACmB;MAC3B,CAAC,CAAC;MAEF,IAAI,CAACT,GAAG,CAAC,IAAI,CAACI,SAAa,CAAC;;MAE5B;MACA,IAAI,CAACM,OAAO,CAAC,CAAC;IAChB,CAAC;IAEDC,OAAO,EAAE;MACPC,SAAO,EAAE,IAAI;MACbtB,SAAQ,EAAE,IAAI;MACdK,SAAa,EAAE,IAAI;MACnBS,SAAa,EAAE,IAAI;MAEnB;MACAS,cAAc,WAAAA,eAAA,EAAG;QACfzC,EAAA,CAAAO,EAAA,CAAAC,WAAA,CAAAC,QAAA,CAAAiC,QAAA,CAAAC,UAAA,CAAAC,SAAA,CAAAH,cAAA,CAAA1B,IAAA;QACA,IAAI,CAACI,SAAY,CAAC,CAAC;MACrB,CAAC;MAED;AACJ;AACA;MACIA,SAAY,WAAA0B,UAAA,EAAG;QACb;QACA,IAAIC,QAAQ,GAAG9C,EAAE,CAAC+C,KAAK,CAACC,OAAO,CAACC,KAAK,CAACC,WAAW,CAAC,CAAC;QACnD,IAAI,CAAChC,SAAQ,CAACI,UAAU,GAAGwB,QAAQ,CAACK,OAAO,CACzC,oCACF,CAAC;QAED,IAAI,CAACjC,SAAQ,CAACS,aAAa,GAAGmB,QAAQ,CAACK,OAAO,CAC5C,wCACF,CAAC;QAED,IAAI,CAACjC,SAAQ,CAACY,eAAe,GAAGgB,QAAQ,CAACK,OAAO,CAC9C,0CACF,CAAC;QAED,IAAI,CAACjC,SAAQ,CAACiB,iBAAiB,GAAGW,QAAQ,CAACK,OAAO,CAChD,4CACF,CAAC;QAED,IAAI,CAACjC,SAAQ,CAACmB,WAAW,GAAGS,QAAQ,CAACK,OAAO,CAC1C,sCACF,CAAC;MACH,CAAC;MAED;MACAC,IAAI,WAAAA,KAAC5C,WAAW,EAAE;QAAA,IAAA6C,KAAA;QAChB;QACArD,EAAA,CAAAO,EAAA,CAAAC,WAAA,CAAAC,QAAA,CAAAiC,QAAA,CAAAC,UAAA,CAAAC,SAAA,CAAAQ,IAAA,CAAArC,IAAA,OAAWP,WAAW;;QAEtB;QACA;QACAA,WAAW,CAAC8C,WAAW,CAAC,aAAa,EAAE,UAAAC,CAAC,EAAI;UAC1CF,KAAI,CAACb,SAAO,GAAGe,CAAC,CAACC,OAAO,CAAC,CAAC,CAACC,OAAO;UAClCJ,KAAI,CAACK,IAAI,CAAC,CAAC;QACb,CAAC,CAAC;;QAEF;QACAlD,WAAW,CAAC8C,WAAW,CAAC,UAAU,EAAE,UAAAC,CAAC,EAAI;UACvC,IAAII,QAAQ,GAAG,GAAG,GAAGJ,CAAC,CAACC,OAAO,CAAC,CAAC,CAACI,SAAS,GAAGP,KAAI,CAACb,SAAO;UACzD,IAAIqB,MAAM,GAAGR,KAAI,CAACS,SAAS,CAAC,CAAC;UAC7B,IAAID,MAAM,EAAE;YACV,IAAIE,QAAQ,GAAGC,IAAI,CAACC,KAAK,CACvB,CAACJ,MAAM,CAACnC,KAAK,GAAG2B,KAAI,CAACrB,SAAa,CAAC8B,SAAS,CAAC,CAAC,CAACpC,KAAK,IAAIiC,QAC1D,CAAC;YAED,IAAIO,OAAO,GAAGF,IAAI,CAACC,KAAK,CAACN,QAAQ,GAAG,GAAG,CAAC,GAAG,GAAG;YAE9C,IAAI,CAACQ,KAAK,CAACJ,QAAQ,CAAC,EAAE;cACpBV,KAAI,CAAC9B,SAAa,CAAC6C,WAAW,CAACL,QAAQ,CAAC;cACxCV,KAAI,CAACrB,SAAa,CAACqC,QAAQ,CAACH,OAAO,CAAC;YACtC;UACF;QACF,CAAC,CAAC;;QAEF;QACA1D,WAAW,CAAC8C,WAAW,CAAC,WAAW,EAAE,UAAAC,CAAC,EAAI;UACxCF,KAAI,CAACf,OAAO,CAAC,CAAC;QAChB,CAAC,CAAC;MACJ;IACF,CAAC;IAEDgC,QAAQ,WAAAA,SAAA,EAAG;MACT,IAAI,CAACpD,SAAQ,GAAG,IAAI;MAEpB,IAAI,CAACqD,eAAe,CAAC,WAAe,EAAE,WAAe,CAAC;IACxD;EACF,CAAC,CAAC;EAjKFvE,EAAE,CAACO,EAAE,CAACC,WAAW,CAACC,QAAQ,CAACiC,QAAQ,CAACvC,aAAa,GAAGA,aAAa;AAAC"
}