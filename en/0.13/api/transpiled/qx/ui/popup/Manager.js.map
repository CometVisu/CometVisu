{
  "version": 3,
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "type",
    "extend",
    "core",
    "Object",
    "construct",
    "__objects",
    "event",
    "Registration",
    "addListener",
    "document",
    "documentElement",
    "__onPointerDown",
    "bom",
    "Element",
    "window",
    "hideAll",
    "properties",
    "containsFunction",
    "check",
    "init",
    "ui",
    "Widget",
    "contains",
    "members",
    "add",
    "obj",
    "push",
    "__updateIndexes",
    "remove",
    "lang",
    "Array",
    "l",
    "length",
    "current",
    "getAutoHide",
    "exclude",
    "min",
    "i",
    "setZIndex",
    "e",
    "target",
    "getWidgetByElement",
    "getTarget",
    "reg",
    "getContainsFunction",
    "destruct",
    "removeListener",
    "_disposeArray",
    "popup",
    "Manager"
  ],
  "sources": [
    "/home/runner/work/CometVisu/CometVisu/node_modules/@qooxdoo/framework/source/class/qx/ui/popup/Manager.js"
  ],
  "sourcesContent": [
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Sebastian Werner (wpbasti)\n     * Andreas Ecker (ecker)\n\n************************************************************************ */\n\n/**\n * This singleton is used to manager multiple instances of popups and their\n * state.\n */\nqx.Class.define(\"qx.ui.popup.Manager\", {\n  type: \"singleton\",\n  extend: qx.core.Object,\n\n  /*\n  *****************************************************************************\n     CONSTRUCTOR\n  *****************************************************************************\n  */\n\n  construct() {\n    super();\n\n    // Create data structure, use an array because order matters [BUG #4323]\n    this.__objects = [];\n\n    // Register pointerdown handler\n    qx.event.Registration.addListener(\n      document.documentElement,\n      \"pointerdown\",\n      this.__onPointerDown,\n      this,\n      true\n    );\n\n    // Hide all popups on window blur\n    qx.bom.Element.addListener(window, \"blur\", this.hideAll, this);\n  },\n\n  properties: {\n    /**\n     * Function that is used to determine if a widget is contained within another one.\n     **/\n    containsFunction: {\n      check: \"Function\",\n      init: qx.ui.core.Widget.contains\n    }\n  },\n\n  /*\n  *****************************************************************************\n     MEMBERS\n  *****************************************************************************\n  */\n\n  members: {\n    __objects: null,\n\n    /**\n     * Registers a visible popup.\n     *\n     * @param obj {qx.ui.popup.Popup} The popup to register\n     */\n    add(obj) {\n      if (qx.core.Environment.get(\"qx.debug\")) {\n        if (!(obj instanceof qx.ui.popup.Popup)) {\n          throw new Error(\"Object is no popup: \" + obj);\n        }\n      }\n\n      this.__objects.push(obj);\n      this.__updateIndexes();\n    },\n\n    /**\n     * Removes a popup from the registry\n     *\n     * @param obj {qx.ui.popup.Popup} The popup which was excluded\n     */\n    remove(obj) {\n      if (qx.core.Environment.get(\"qx.debug\")) {\n        if (!(obj instanceof qx.ui.popup.Popup)) {\n          throw new Error(\"Object is no popup: \" + obj);\n        }\n      }\n\n      qx.lang.Array.remove(this.__objects, obj);\n      this.__updateIndexes();\n    },\n\n    /**\n     * Excludes all currently open popups,\n     * except those with {@link qx.ui.popup.Popup#autoHide} set to false.\n     */\n    hideAll() {\n      var l = this.__objects.length,\n        current = {};\n\n      while (l--) {\n        current = this.__objects[l];\n        if (current.getAutoHide()) {\n          current.exclude();\n        }\n      }\n    },\n\n    /*\n    ---------------------------------------------------------------------------\n      INTERNAL HELPER\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Updates the zIndex of all registered items to push\n     * newly added ones on top of existing ones\n     *\n     */\n    __updateIndexes() {\n      var min = 1e7;\n      for (var i = 0; i < this.__objects.length; i++) {\n        this.__objects[i].setZIndex(min++);\n      }\n    },\n\n    /*\n    ---------------------------------------------------------------------------\n      EVENT HANDLER\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Event handler for pointer down events\n     *\n     * @param e {qx.event.type.Pointer} Pointer event object\n     */\n    __onPointerDown(e) {\n      // Get the corresponding widget of the target since we are dealing with\n      // DOM elements here. This is necessary because we have to be aware of\n      // Inline applications which are not covering the whole document and\n      // therefore are not able to get all pointer events when only the\n      // application root is monitored.\n      var target = qx.ui.core.Widget.getWidgetByElement(e.getTarget());\n\n      var reg = this.__objects;\n      for (var i = 0; i < reg.length; i++) {\n        var obj = reg[i];\n\n        if (\n          !obj.getAutoHide() ||\n          target == obj ||\n          this.getContainsFunction()(obj, target)\n        ) {\n          continue;\n        }\n\n        obj.exclude();\n      }\n    }\n  },\n\n  /*\n  *****************************************************************************\n     DESTRUCTOR\n  *****************************************************************************\n  */\n\n  destruct() {\n    qx.event.Registration.removeListener(\n      document.documentElement,\n      \"pointerdown\",\n      this.__onPointerDown,\n      this,\n      true\n    );\n\n    this._disposeArray(\"__objects\");\n  }\n});\n"
  ],
  "mappings": "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"
}