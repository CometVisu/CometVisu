{
  "version": 3,
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "extend",
    "ui",
    "core",
    "Widget",
    "construct",
    "canvasWidth",
    "canvasHeight",
    "constructor",
    "call",
    "__deferredDraw",
    "util",
    "DeferredCall",
    "__redraw",
    "addListener",
    "_onResize",
    "undefined",
    "setCanvasWidth",
    "setCanvasHeight",
    "events",
    "redraw",
    "properties",
    "syncDimension",
    "check",
    "init",
    "apply",
    "members",
    "_createContentElement",
    "html",
    "Canvas",
    "__P_339_1",
    "canvas",
    "getContentElement",
    "height",
    "getHeight",
    "width",
    "getWidth",
    "context",
    "getContext2d",
    "_draw",
    "fireNonBubblingEvent",
    "event",
    "type",
    "Data",
    "_applyCanvasWidth",
    "value",
    "old",
    "setWidth",
    "schedule",
    "_applyCanvasHeight",
    "setHeight",
    "update",
    "e",
    "data",
    "getData",
    "getSyncDimension",
    "destruct",
    "_disposeObjects",
    "embed"
  ],
  "sources": [
    "/home/runner/work/CometVisu/CometVisu/node_modules/@qooxdoo/framework/source/class/qx/ui/embed/Canvas.js"
  ],
  "sourcesContent": [
    "/* ************************************************************************\r\n\r\n   qooxdoo - the new era of web development\r\n\r\n   http://qooxdoo.org\r\n\r\n   Copyright:\r\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\r\n\r\n   License:\r\n     MIT: https://opensource.org/licenses/MIT\r\n     See the LICENSE file in the project's top-level directory for details.\r\n\r\n   Authors:\r\n     * Fabian Jakobs (fjakobs)\r\n\r\n************************************************************************ */\r\n\r\n/**\r\n * The Canvas widget embeds the HMTL canvas element\r\n * [<a href=\"http://www.whatwg.org/specs/web-apps/current-work/multipage/the-canvas-element.html#the-canvas\">W3C-HTML5</a>]\r\n *\r\n * Note: This widget does not work in Internet Explorer < 9!\r\n * Check for browser support with qx.core.Environment.get(\"html.canvas\").\r\n *\r\n * To paint something on the canvas and keep the content updated on resizes you\r\n * either have to override the {@link #_draw} method or redraw the content on\r\n * the {@link #redraw} event. The drawing context can be obtained by {@link #getContext2d}.\r\n *\r\n * Note that this widget operates on two different coordinate systems. The canvas\r\n * has its own coordinate system for drawing operations. This canvas coordinate\r\n * system is scaled to fit actual size of the DOM element. Each time the size of\r\n * the canvas dimensions is changed a redraw is required. In this case the\r\n * protected method {@link #_draw} is called and the event {@link #redraw}\r\n * is fired. You can synchronize the internal canvas dimension with the\r\n * CSS dimension of the canvas element by setting {@link #syncDimension} to\r\n * <code>true</code>.\r\n *\r\n * *Example*\r\n *\r\n * Here is a little example of how to use the canvas widget.\r\n *\r\n * <pre class='javascript'>\r\n * var canvas = new qx.ui.embed.Canvas().set({\r\n *   canvasWidth: 200,\r\n *   canvasHeight: 200,\r\n *   syncDimension: true\r\n * });\r\n * canvas.addListener(\"redraw\", function(e)\r\n * {\r\n *   var data = e.getData();\r\n *   var width = data.width;\r\n *   var height = data.height;\r\n *   var ctx = data.context;\r\n *\r\n *   ctx.fillStyle = \"rgb(200,0,0)\";\r\n *   ctx.fillRect (20, 20, width-5, height-5);\r\n *\r\n *   ctx.fillStyle = \"rgba(0, 0, 200, 0.5)\";\r\n *   ctx.fillRect (70, 70, 105, 100);\r\n * }, this);\r\n * </pre>\r\n *\r\n * *External Documentation*\r\n *\r\n * <a href='http://qooxdoo.org/docs/#desktop/widget/canvas.md' target='_blank'>\r\n * Documentation of this widget in the qooxdoo manual.</a>\r\n */\r\nqx.Class.define(\"qx.ui.embed.Canvas\", {\r\n  extend: qx.ui.core.Widget,\r\n\r\n  /*\r\n  *****************************************************************************\r\n     CONSTRUCTOR\r\n  *****************************************************************************\r\n  */\r\n\r\n  /**\r\n   * @param canvasWidth {Integer} The internal with of the canvas coordinates.\r\n   * @param canvasHeight {Integer} The internal height of the canvas coordinates.\r\n   */\r\n  construct(canvasWidth, canvasHeight) {\r\n    super();\r\n\r\n    this.__deferredDraw = new qx.util.DeferredCall(this.__redraw, this);\r\n    this.addListener(\"resize\", this._onResize, this);\r\n\r\n    if (canvasWidth !== undefined) {\r\n      this.setCanvasWidth(canvasWidth);\r\n    }\r\n\r\n    if (canvasHeight !== undefined) {\r\n      this.setCanvasHeight(canvasHeight);\r\n    }\r\n  },\r\n\r\n  /*\r\n   *****************************************************************************\r\n      EVENTS\r\n   *****************************************************************************\r\n   */\r\n\r\n  events: {\r\n    /**\r\n     * The redraw event is fired each time the canvas dimension change and the\r\n     * canvas needs to be updated. The data field contains a map containing the\r\n     * <code>width</code> and <code>height</code> of the canvas and the\r\n     * rendering <code>context</code>.\r\n     */\r\n    redraw: \"qx.event.type.Data\"\r\n  },\r\n\r\n  /*\r\n   *****************************************************************************\r\n      MEMBERS\r\n   *****************************************************************************\r\n   */\r\n\r\n  properties: {\r\n    /** Whether canvas and widget coordinates should be synchronized */\r\n    syncDimension: {\r\n      check: \"Boolean\",\r\n      init: false\r\n    },\r\n\r\n    /** The internal with of the canvas coordinates */\r\n    canvasWidth: {\r\n      check: \"Integer\",\r\n      init: 300,\r\n      apply: \"_applyCanvasWidth\"\r\n    },\r\n\r\n    /** The internal height of the canvas coordinates */\r\n    canvasHeight: {\r\n      check: \"Integer\",\r\n      init: 150,\r\n      apply: \"_applyCanvasHeight\"\r\n    }\r\n  },\r\n\r\n  /*\r\n  *****************************************************************************\r\n     MEMBERS\r\n  *****************************************************************************\r\n  */\r\n\r\n  members: {\r\n    /** @type {qx.util.DeferredCall} */\r\n    __deferredDraw: null,\r\n\r\n    /*\r\n    ---------------------------------------------------------------------------\r\n      WIDGET API\r\n    ---------------------------------------------------------------------------\r\n    */\r\n\r\n    // overridden\r\n    _createContentElement() {\r\n      return new qx.html.Canvas();\r\n    },\r\n\r\n    /**\r\n     * This methods triggers the redraw of the canvas' content\r\n     */\r\n    __redraw() {\r\n      var canvas = this.getContentElement();\r\n      var height = canvas.getHeight();\r\n      var width = canvas.getWidth();\r\n      var context = canvas.getContext2d();\r\n\r\n      this._draw(width, height, context);\r\n      this.fireNonBubblingEvent(\"redraw\", qx.event.type.Data, [\r\n        {\r\n          width: width,\r\n          height: height,\r\n          context: context\r\n        }\r\n      ]);\r\n    },\r\n\r\n    // property apply\r\n    _applyCanvasWidth(value, old) {\r\n      this.getContentElement().setWidth(value);\r\n      this.__deferredDraw.schedule();\r\n    },\r\n\r\n    // property apply\r\n    _applyCanvasHeight(value, old) {\r\n      this.getContentElement().setHeight(value);\r\n      this.__deferredDraw.schedule();\r\n    },\r\n\r\n    /**\r\n     * Redraw the canvas\r\n     */\r\n    update() {\r\n      this.__deferredDraw.schedule();\r\n    },\r\n\r\n    /**\r\n     * Widget resize event handler. Updates the canvas dimension if needed.\r\n     *\r\n     * @param e {qx.event.type.Data} The resize event object\r\n     */\r\n    _onResize(e) {\r\n      var data = e.getData();\r\n\r\n      if (this.getSyncDimension()) {\r\n        this.setCanvasHeight(data.height);\r\n        this.setCanvasWidth(data.width);\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Get the native canvas 2D rendering context\r\n     * [<a href=\"http://www.whatwg.org/specs/web-apps/current-work/multipage/the-canvas-element.html#canvasrenderingcontext2d\">W3C-HTML5</a>].\r\n     * All drawing operations are performed on this context.\r\n     *\r\n     * @return {CanvasRenderingContext2D} The 2D rendering context.\r\n     */\r\n    getContext2d() {\r\n      return this.getContentElement().getContext2d();\r\n    },\r\n\r\n    /**\r\n     * Template method, which can be used by derived classes to redraw the\r\n     * content. It is called each time the canvas dimension change and the\r\n     * canvas needs to be updated.\r\n     *\r\n     * @param width {Integer} New canvas width\r\n     * @param height {Integer} New canvas height\r\n     * @param context {CanvasRenderingContext2D} The rendering context to draw to\r\n     */\r\n    _draw(width, height, context) {}\r\n  },\r\n\r\n  /*\r\n   *****************************************************************************\r\n      DESTRUCT\r\n   *****************************************************************************\r\n   */\r\n  destruct() {\r\n    this._disposeObjects(\"__deferredDraw\");\r\n  }\r\n});\r\n"
  ],
  "mappings": ";;;;;;;;;;;;;;;;;;EAAAA,EAAE,CAACC,SAAS,CAACC,oBAAoB,CAACC,aAAa,CAAC;EAAhD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;EAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EACAH,EAAE,CAACI,KAAK,CAACC,MAAM,CAAC,oBAAoB,EAAE;IACpCC,MAAM,EAAEN,EAAE,CAACO,EAAE,CAACC,IAAI,CAACC,MAAM;IAEzB;AACF;AACA;AACA;AACA;IAEE;AACF;AACA;AACA;IACEC,SAAS,WAAAA,UAACC,WAAW,EAAEC,YAAY,EAAE;MACnCZ,EAAA,CAAAO,EAAA,CAAAC,IAAA,CAAAC,MAAA,CAAAI,WAAA,CAAAC,IAAA;MAEA,IAAI,CAACC,SAAc,GAAG,IAAIf,EAAE,CAACgB,IAAI,CAACC,YAAY,CAAC,IAAI,CAACC,SAAQ,EAAE,IAAI,CAAC;MACnE,IAAI,CAACC,WAAW,CAAC,QAAQ,EAAE,IAAI,CAACC,SAAS,EAAE,IAAI,CAAC;MAEhD,IAAIT,WAAW,KAAKU,SAAS,EAAE;QAC7B,IAAI,CAACC,cAAc,CAACX,WAAW,CAAC;MAClC;MAEA,IAAIC,YAAY,KAAKS,SAAS,EAAE;QAC9B,IAAI,CAACE,eAAe,CAACX,YAAY,CAAC;MACpC;IACF,CAAC;IAED;AACF;AACA;AACA;AACA;;IAEEY,MAAM,EAAE;MACN;AACJ;AACA;AACA;AACA;AACA;MACIC,MAAM,EAAE;IACV,CAAC;IAED;AACF;AACA;AACA;AACA;;IAEEC,UAAU,EAAE;MACV;MACAC,aAAa,EAAE;QACbC,KAAK,EAAE,SAAS;QAChBC,IAAI,EAAE;MACR,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"
}