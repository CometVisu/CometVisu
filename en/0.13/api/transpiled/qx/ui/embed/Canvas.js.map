{
  "version": 3,
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "extend",
    "ui",
    "core",
    "Widget",
    "construct",
    "canvasWidth",
    "canvasHeight",
    "__deferredDraw",
    "util",
    "DeferredCall",
    "__redraw",
    "addListener",
    "_onResize",
    "undefined",
    "setCanvasWidth",
    "setCanvasHeight",
    "events",
    "redraw",
    "properties",
    "syncDimension",
    "check",
    "init",
    "apply",
    "members",
    "_createContentElement",
    "html",
    "Canvas",
    "canvas",
    "getContentElement",
    "height",
    "getHeight",
    "width",
    "getWidth",
    "context",
    "getContext2d",
    "_draw",
    "fireNonBubblingEvent",
    "event",
    "type",
    "Data",
    "_applyCanvasWidth",
    "value",
    "old",
    "setWidth",
    "schedule",
    "_applyCanvasHeight",
    "setHeight",
    "update",
    "e",
    "data",
    "getData",
    "getSyncDimension",
    "destruct",
    "_disposeObjects",
    "embed"
  ],
  "sources": [
    "/home/runner/work/CometVisu/CometVisu/node_modules/@qooxdoo/framework/source/class/qx/ui/embed/Canvas.js"
  ],
  "sourcesContent": [
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Fabian Jakobs (fjakobs)\n\n************************************************************************ */\n\n/**\n * The Canvas widget embeds the HMTL canvas element\n * [<a href=\"http://www.whatwg.org/specs/web-apps/current-work/multipage/the-canvas-element.html#the-canvas\">W3C-HTML5</a>]\n *\n * Note: This widget does not work in Internet Explorer < 9!\n * Check for browser support with qx.core.Environment.get(\"html.canvas\").\n *\n * To paint something on the canvas and keep the content updated on resizes you\n * either have to override the {@link #_draw} method or redraw the content on\n * the {@link #redraw} event. The drawing context can be obtained by {@link #getContext2d}.\n *\n * Note that this widget operates on two different coordinate systems. The canvas\n * has its own coordinate system for drawing operations. This canvas coordinate\n * system is scaled to fit actual size of the DOM element. Each time the size of\n * the canvas dimensions is changed a redraw is required. In this case the\n * protected method {@link #_draw} is called and the event {@link #redraw}\n * is fired. You can synchronize the internal canvas dimension with the\n * CSS dimension of the canvas element by setting {@link #syncDimension} to\n * <code>true</code>.\n *\n * *Example*\n *\n * Here is a little example of how to use the canvas widget.\n *\n * <pre class='javascript'>\n * var canvas = new qx.ui.embed.Canvas().set({\n *   canvasWidth: 200,\n *   canvasHeight: 200,\n *   syncDimension: true\n * });\n * canvas.addListener(\"redraw\", function(e)\n * {\n *   var data = e.getData();\n *   var width = data.width;\n *   var height = data.height;\n *   var ctx = data.context;\n *\n *   ctx.fillStyle = \"rgb(200,0,0)\";\n *   ctx.fillRect (20, 20, width-5, height-5);\n *\n *   ctx.fillStyle = \"rgba(0, 0, 200, 0.5)\";\n *   ctx.fillRect (70, 70, 105, 100);\n * }, this);\n * </pre>\n *\n * *External Documentation*\n *\n * <a href='http://qooxdoo.org/docs/#desktop/widget/canvas.md' target='_blank'>\n * Documentation of this widget in the qooxdoo manual.</a>\n */\nqx.Class.define(\"qx.ui.embed.Canvas\", {\n  extend: qx.ui.core.Widget,\n\n  /*\n  *****************************************************************************\n     CONSTRUCTOR\n  *****************************************************************************\n  */\n\n  /**\n   * @param canvasWidth {Integer} The internal with of the canvas coordinates.\n   * @param canvasHeight {Integer} The internal height of the canvas coordinates.\n   */\n  construct(canvasWidth, canvasHeight) {\n    super();\n\n    this.__deferredDraw = new qx.util.DeferredCall(this.__redraw, this);\n    this.addListener(\"resize\", this._onResize, this);\n\n    if (canvasWidth !== undefined) {\n      this.setCanvasWidth(canvasWidth);\n    }\n\n    if (canvasHeight !== undefined) {\n      this.setCanvasHeight(canvasHeight);\n    }\n  },\n\n  /*\n   *****************************************************************************\n      EVENTS\n   *****************************************************************************\n   */\n\n  events: {\n    /**\n     * The redraw event is fired each time the canvas dimension change and the\n     * canvas needs to be updated. The data field contains a map containing the\n     * <code>width</code> and <code>height</code> of the canvas and the\n     * rendering <code>context</code>.\n     */\n    redraw: \"qx.event.type.Data\"\n  },\n\n  /*\n   *****************************************************************************\n      MEMBERS\n   *****************************************************************************\n   */\n\n  properties: {\n    /** Whether canvas and widget coordinates should be synchronized */\n    syncDimension: {\n      check: \"Boolean\",\n      init: false\n    },\n\n    /** The internal with of the canvas coordinates */\n    canvasWidth: {\n      check: \"Integer\",\n      init: 300,\n      apply: \"_applyCanvasWidth\"\n    },\n\n    /** The internal height of the canvas coordinates */\n    canvasHeight: {\n      check: \"Integer\",\n      init: 150,\n      apply: \"_applyCanvasHeight\"\n    }\n  },\n\n  /*\n  *****************************************************************************\n     MEMBERS\n  *****************************************************************************\n  */\n\n  members: {\n    /** @type {qx.util.DeferredCall} */\n    __deferredDraw: null,\n\n    /*\n    ---------------------------------------------------------------------------\n      WIDGET API\n    ---------------------------------------------------------------------------\n    */\n\n    // overridden\n    _createContentElement() {\n      return new qx.html.Canvas();\n    },\n\n    /**\n     * This methods triggers the redraw of the canvas' content\n     */\n    __redraw() {\n      var canvas = this.getContentElement();\n      var height = canvas.getHeight();\n      var width = canvas.getWidth();\n      var context = canvas.getContext2d();\n\n      this._draw(width, height, context);\n      this.fireNonBubblingEvent(\"redraw\", qx.event.type.Data, [\n        {\n          width: width,\n          height: height,\n          context: context\n        }\n      ]);\n    },\n\n    // property apply\n    _applyCanvasWidth(value, old) {\n      this.getContentElement().setWidth(value);\n      this.__deferredDraw.schedule();\n    },\n\n    // property apply\n    _applyCanvasHeight(value, old) {\n      this.getContentElement().setHeight(value);\n      this.__deferredDraw.schedule();\n    },\n\n    /**\n     * Redraw the canvas\n     */\n    update() {\n      this.__deferredDraw.schedule();\n    },\n\n    /**\n     * Widget resize event handler. Updates the canvas dimension if needed.\n     *\n     * @param e {qx.event.type.Data} The resize event object\n     */\n    _onResize(e) {\n      var data = e.getData();\n\n      if (this.getSyncDimension()) {\n        this.setCanvasHeight(data.height);\n        this.setCanvasWidth(data.width);\n      }\n    },\n\n    /**\n     * Get the native canvas 2D rendering context\n     * [<a href=\"http://www.whatwg.org/specs/web-apps/current-work/multipage/the-canvas-element.html#canvasrenderingcontext2d\">W3C-HTML5</a>].\n     * All drawing operations are performed on this context.\n     *\n     * @return {CanvasRenderingContext2D} The 2D rendering context.\n     */\n    getContext2d() {\n      return this.getContentElement().getContext2d();\n    },\n\n    /**\n     * Template method, which can be used by derived classes to redraw the\n     * content. It is called each time the canvas dimension change and the\n     * canvas needs to be updated.\n     *\n     * @param width {Integer} New canvas width\n     * @param height {Integer} New canvas height\n     * @param context {CanvasRenderingContext2D} The rendering context to draw to\n     */\n    _draw(width, height, context) {}\n  },\n\n  /*\n   *****************************************************************************\n      DESTRUCT\n   *****************************************************************************\n   */\n  destruct() {\n    this._disposeObjects(\"__deferredDraw\");\n  }\n});\n"
  ],
  "mappings": ";;;;;;;;;;;;;;;;;;EAAAA,EAAE,CAACC,SAAH,CAAaC,oBAAb,CAAkCC,aAAlC;;EAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;EAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EACAH,EAAE,CAACI,KAAH,CAASC,MAAT,CAAgB,oBAAhB,EAAsC;IACpCC,MAAM,EAAEN,EAAE,CAACO,EAAH,CAAMC,IAAN,CAAWC,MADiB;;IAGpC;AACF;AACA;AACA;AACA;;IAEE;AACF;AACA;AACA;IACEC,SAboC,qBAa1BC,WAb0B,EAabC,YAba,EAaC;MACnC;MAEA,KAAKC,SAAL,GAAsB,IAAIb,EAAE,CAACc,IAAH,CAAQC,YAAZ,CAAyB,KAAKC,SAA9B,EAAwC,IAAxC,CAAtB;MACA,KAAKC,WAAL,CAAiB,QAAjB,EAA2B,KAAKC,SAAhC,EAA2C,IAA3C;;MAEA,IAAIP,WAAW,KAAKQ,SAApB,EAA+B;QAC7B,KAAKC,cAAL,CAAoBT,WAApB;MACD;;MAED,IAAIC,YAAY,KAAKO,SAArB,EAAgC;QAC9B,KAAKE,eAAL,CAAqBT,YAArB;MACD;IACF,CA1BmC;;IA4BpC;AACF;AACA;AACA;AACA;IAEEU,MAAM,EAAE;MACN;AACJ;AACA;AACA;AACA;AACA;MACIC,MAAM,EAAE;IAPF,CAlC4B;;IA4CpC;AACF;AACA;AACA;AACA;IAEEC,UAAU,EAAE;MACV;MACAC,aAAa,EAAE;QACbC,KAAK,EAAE,SADM;QAEbC,IAAI,EAAE;MAFO,CAFL;;MAOV;MACAhB,WAAW,EAAE;QACXe,KAAK,EAAE,SADI;QAEXC,IAAI,EAAE,GAFK;QAGXC,KAAK,EAAE;MAHI,CARH;;MAcV;MACAhB,YAAY,EAAE;QACZc,KAAK,EAAE,SADK;QAEZC,IAAI,EAAE,GAFM;QAGZC,KAAK,EAAE;MAHK;IAfJ,CAlDwB;;IAwEpC;AACF;AACA;AACA;AACA;IAEEC,OAAO,EAAE;MACP;MACAhB,SAAc,EAAE,IAFT;;MAIP;AACJ;AACA;AACA;AACA;MAEI;MACAiB,qBAXO,mCAWiB;QACtB,OAAO,IAAI9B,EAAE,CAAC+B,IAAH,CAAQC,MAAZ,EAAP;MACD,CAbM;;MAeP;AACJ;AACA;MACIhB,SAlBO,uBAkBI;QACT,IAAIiB,MAAM,GAAG,KAAKC,iBAAL,EAAb;QACA,IAAIC,MAAM,GAAGF,MAAM,CAACG,SAAP,EAAb;QACA,IAAIC,KAAK,GAAGJ,MAAM,CAACK,QAAP,EAAZ;QACA,IAAIC,OAAO,GAAGN,MAAM,CAACO,YAAP,EAAd;;QAEA,KAAKC,KAAL,CAAWJ,KAAX,EAAkBF,MAAlB,EAA0BI,OAA1B;;QACA,KAAKG,oBAAL,CAA0B,QAA1B,EAAoC1C,EAAE,CAAC2C,KAAH,CAASC,IAAT,CAAcC,IAAlD,EAAwD,CACtD;UACER,KAAK,EAAEA,KADT;UAEEF,MAAM,EAAEA,MAFV;UAGEI,OAAO,EAAEA;QAHX,CADsD,CAAxD;MAOD,CAhCM;MAkCP;MACAO,iBAnCO,6BAmCWC,KAnCX,EAmCkBC,GAnClB,EAmCuB;QAC5B,KAAKd,iBAAL,GAAyBe,QAAzB,CAAkCF,KAAlC;;QACA,KAAKlC,SAAL,CAAoBqC,QAApB;MACD,CAtCM;MAwCP;MACAC,kBAzCO,8BAyCYJ,KAzCZ,EAyCmBC,GAzCnB,EAyCwB;QAC7B,KAAKd,iBAAL,GAAyBkB,SAAzB,CAAmCL,KAAnC;;QACA,KAAKlC,SAAL,CAAoBqC,QAApB;MACD,CA5CM;;MA8CP;AACJ;AACA;MACIG,MAjDO,oBAiDE;QACP,KAAKxC,SAAL,CAAoBqC,QAApB;MACD,CAnDM;;MAqDP;AACJ;AACA;AACA;AACA;MACIhC,SA1DO,qBA0DGoC,CA1DH,EA0DM;QACX,IAAIC,IAAI,GAAGD,CAAC,CAACE,OAAF,EAAX;;QAEA,IAAI,KAAKC,gBAAL,EAAJ,EAA6B;UAC3B,KAAKpC,eAAL,CAAqBkC,IAAI,CAACpB,MAA1B;UACA,KAAKf,cAAL,CAAoBmC,IAAI,CAAClB,KAAzB;QACD;MACF,CAjEM;;MAmEP;AACJ;AACA;AACA;AACA;AACA;AACA;MACIG,YA1EO,0BA0EQ;QACb,OAAO,KAAKN,iBAAL,GAAyBM,YAAzB,EAAP;MACD,CA5EM;;MA8EP;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;MACIC,KAvFO,iBAuFDJ,KAvFC,EAuFMF,MAvFN,EAuFcI,OAvFd,EAuFuB,CAAE;IAvFzB,CA9E2B;;IAwKpC;AACF;AACA;AACA;AACA;IACEmB,QA7KoC,sBA6KzB;MACT,KAAKC,eAAL,CAAqB,WAArB;IACD;EA/KmC,CAAtC;EApEA3D,EAAE,CAACO,EAAH,CAAMqD,KAAN,CAAY5B,MAAZ,CAAmB7B,aAAnB,GAAmCA,aAAnC"
}