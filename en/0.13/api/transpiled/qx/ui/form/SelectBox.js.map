{
  "version": 3,
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "extend",
    "ui",
    "form",
    "AbstractSelectBox",
    "implement",
    "core",
    "ISingleSelection",
    "IModelSelection",
    "IField",
    "include",
    "MSingleSelectionHandling",
    "MModelSelection",
    "construct",
    "constructor",
    "call",
    "_createChildControl",
    "addListener",
    "_onPointerOver",
    "_onPointerOut",
    "_onTap",
    "_onKeyInput",
    "__onChangeSelection",
    "properties",
    "appearance",
    "refine",
    "init",
    "rich",
    "check",
    "apply",
    "members",
    "__preSelectedItem",
    "_applyRich",
    "value",
    "oldValue",
    "getChildControl",
    "setRich",
    "_defaultFormat",
    "item",
    "isRich",
    "getLabel",
    "_createChildControlImpl",
    "id",
    "hash",
    "control",
    "Spacer",
    "_add",
    "flex",
    "basic",
    "Atom",
    "setCenter",
    "setAnonymous",
    "Image",
    "getQxObject",
    "SelectBox",
    "superclass",
    "prototype",
    "_createQxObjectImpl",
    "layout",
    "HBox",
    "set",
    "alignY",
    "container",
    "Composite",
    "allowGrowY",
    "_forwardStates",
    "focused",
    "_getItems",
    "getChildrenContainer",
    "getChildren",
    "_isAllowEmptySelection",
    "getSelectionMode",
    "__P_365_0",
    "e",
    "listItem",
    "getData",
    "list",
    "getSelection",
    "setSelection",
    "resetSelection",
    "__updateIcon",
    "__updateLabel",
    "old",
    "getOldData",
    "current",
    "getContentElement",
    "setAttribute",
    "__P_365_2",
    "atom",
    "icon",
    "getIcon",
    "resetIcon",
    "setIcon",
    "__P_365_3",
    "label",
    "format",
    "getFormat",
    "translate",
    "resetLabel",
    "setLabel",
    "isEnabled",
    "getTarget",
    "hasState",
    "removeState",
    "addState",
    "toggle",
    "_onKeyPress",
    "iden",
    "getKeyIdentifier",
    "isAltPressed",
    "stop",
    "clone",
    "setTarget",
    "_list",
    "setBubbles",
    "dispatchEvent",
    "_onListPointerDown",
    "_onListChangeSelection",
    "length",
    "removeListener",
    "popup",
    "context",
    "getSelectionContext",
    "isVisible",
    "contentEl",
    "currentContentEl",
    "getAttribute",
    "removeAttribute",
    "_onPopupChangeVisibility",
    "hasChildren",
    "distance",
    "getLayoutLocation",
    "viewPortHeight",
    "bom",
    "Viewport",
    "getHeight",
    "toTop",
    "top",
    "toBottom",
    "bottom",
    "availableHeigth",
    "maxListHeight",
    "getMaxListHeight",
    "setMaxHeight",
    "destruct"
  ],
  "sources": [
    "/home/runner/work/CometVisu/CometVisu/node_modules/@qooxdoo/framework/source/class/qx/ui/form/SelectBox.js"
  ],
  "sourcesContent": [
    "/* ************************************************************************\r\n\r\n   qooxdoo - the new era of web development\r\n\r\n   http://qooxdoo.org\r\n\r\n   Copyright:\r\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\r\n\r\n   License:\r\n     MIT: https://opensource.org/licenses/MIT\r\n     See the LICENSE file in the project's top-level directory for details.\r\n\r\n   Authors:\r\n     * Martin Wittemann (martinwittemann)\r\n     * Sebastian Werner (wpbasti)\r\n     * Jonathan Wei√ü (jonathan_rass)\r\n     * Christian Hagendorn (chris_schmidt)\r\n\r\n************************************************************************ */\r\n\r\n/**\r\n * A form widget which allows a single selection. Looks somewhat like\r\n * a normal button, but opens a list of items to select when tapping on it.\r\n *\r\n * Keep in mind that the SelectBox widget has always a selected item (due to the\r\n * single selection mode). Right after adding the first item a <code>changeSelection</code>\r\n * event is fired.\r\n *\r\n * <pre class='javascript'>\r\n * var selectBox = new qx.ui.form.SelectBox();\r\n *\r\n * selectBox.addListener(\"changeSelection\", function(e) {\r\n *   // ...\r\n * });\r\n *\r\n * // now the 'changeSelection' event is fired\r\n * selectBox.add(new qx.ui.form.ListItem(\"Item 1\"));\r\n * </pre>\r\n *\r\n * @childControl spacer {qx.ui.core.Spacer} flexible spacer widget\r\n * @childControl atom {qx.ui.basic.Atom} shows the text and icon of the content\r\n * @childControl arrow {qx.ui.basic.Image} shows the arrow to open the popup\r\n */\r\nqx.Class.define(\"qx.ui.form.SelectBox\", {\r\n  extend: qx.ui.form.AbstractSelectBox,\r\n  implement: [\r\n    qx.ui.core.ISingleSelection,\r\n    qx.ui.form.IModelSelection,\r\n    qx.ui.form.IField\r\n  ],\r\n\r\n  include: [qx.ui.core.MSingleSelectionHandling, qx.ui.form.MModelSelection],\r\n\r\n  /*\r\n  *****************************************************************************\r\n     CONSTRUCTOR\r\n  *****************************************************************************\r\n  */\r\n\r\n  construct() {\r\n    super();\r\n\r\n    this._createChildControl(\"atom\");\r\n    this._createChildControl(\"spacer\");\r\n    this._createChildControl(\"arrow\");\r\n\r\n    // Register listener\r\n    this.addListener(\"pointerover\", this._onPointerOver, this);\r\n    this.addListener(\"pointerout\", this._onPointerOut, this);\r\n    this.addListener(\"tap\", this._onTap, this);\r\n\r\n    this.addListener(\"keyinput\", this._onKeyInput, this);\r\n    this.addListener(\"changeSelection\", this.__onChangeSelection, this);\r\n  },\r\n\r\n  /*\r\n  *****************************************************************************\r\n     PROPERTIES\r\n  *****************************************************************************\r\n  */\r\n\r\n  properties: {\r\n    /**@override*/\r\n    appearance: {\r\n      refine: true,\r\n      init: \"selectbox\"\r\n    },\r\n\r\n    rich: {\r\n      init: false,\r\n      check: \"Boolean\",\r\n      apply: \"_applyRich\"\r\n    }\r\n  },\r\n\r\n  /*\r\n  *****************************************************************************\r\n     MEMBERS\r\n  *****************************************************************************\r\n  */\r\n  /* eslint-disable @qooxdoo/qx/no-refs-in-members */\r\n  members: {\r\n    /** @type {qx.ui.basic.Atom} instance */\r\n    __preSelectedItem: null,\r\n\r\n    /*\r\n    ---------------------------------------------------------------------------\r\n      WIDGET API\r\n    ---------------------------------------------------------------------------\r\n    */\r\n\r\n    _applyRich(value, oldValue) {\r\n      this.getChildControl(\"atom\").setRich(value);\r\n    },\r\n\r\n    /**@override*/\r\n    _defaultFormat(item) {\r\n      if (item) {\r\n        if (typeof item.isRich == \"function\" && item.isRich()) {\r\n          this.setRich(true);\r\n        }\r\n        return item.getLabel();\r\n      }\r\n      return null;\r\n    },\r\n\r\n    /**@override*/\r\n    _createChildControlImpl(id, hash) {\r\n      var control;\r\n\r\n      switch (id) {\r\n        case \"spacer\":\r\n          control = new qx.ui.core.Spacer();\r\n          this._add(control, { flex: 1 });\r\n          break;\r\n\r\n        case \"atom\":\r\n          control = new qx.ui.basic.Atom(\" \");\r\n          control.setCenter(false);\r\n          control.setAnonymous(true);\r\n\r\n          this._add(control, { flex: 1 });\r\n          break;\r\n\r\n        case \"arrow\":\r\n          control = new qx.ui.basic.Image();\r\n          control.setAnonymous(true);\r\n\r\n          this.getQxObject(\"arrowButton\")._add(control);\r\n          this._add(this.getQxObject(\"arrowButton\"));\r\n          break;\r\n      }\r\n\r\n      return control || super._createChildControlImpl(id);\r\n    },\r\n\r\n    /**@overload */\r\n    _createQxObjectImpl(id) {\r\n      switch (id) {\r\n        case \"arrowButton\":\r\n          var layout = new qx.ui.layout.HBox().set({ alignY: \"middle\" });\r\n          return new qx.ui.container.Composite(layout).set({\r\n            allowGrowY: true,\r\n            appearance: \"selectbox-arrow-button\"\r\n          });\r\n      }\r\n\r\n      return super._createQxObjectImpl(id);\r\n    },\r\n\r\n    /**@override*/\r\n    /**\r\n     * @lint ignoreReferenceField(_forwardStates)\r\n     */\r\n    _forwardStates: {\r\n      focused: true\r\n    },\r\n\r\n    /*\r\n    ---------------------------------------------------------------------------\r\n      HELPER METHODS FOR SELECTION API\r\n    ---------------------------------------------------------------------------\r\n    */\r\n\r\n    /**\r\n     * Returns the list items for the selection.\r\n     *\r\n     * @return {qx.ui.basic.Atom[]} List items to select.\r\n     */\r\n    _getItems() {\r\n      return this.getChildrenContainer().getChildren();\r\n    },\r\n\r\n    /**\r\n     * Returns if the selection could be empty or not.\r\n     *\r\n     * @return {Boolean} <code>true</code> If selection could be empty,\r\n     *    <code>false</code> otherwise.\r\n     */\r\n    _isAllowEmptySelection() {\r\n      return this.getChildrenContainer().getSelectionMode() !== \"one\";\r\n    },\r\n\r\n    /**\r\n     * Event handler for <code>changeSelection</code>.\r\n     *\r\n     * @param e {qx.event.type.Data} Data event.\r\n     */\r\n    __onChangeSelection(e) {\r\n      var listItem = e.getData()[0];\r\n\r\n      var list = this.getChildControl(\"list\");\r\n      if (list.getSelection()[0] != listItem) {\r\n        if (listItem) {\r\n          list.setSelection([listItem]);\r\n        } else {\r\n          list.resetSelection();\r\n        }\r\n      }\r\n\r\n      this.__updateIcon();\r\n      this.__updateLabel();\r\n\r\n      // ARIA attrs\r\n      const old = e.getOldData() ? e.getOldData()[0] : null;\r\n      const current = this.getSelection()[0];\r\n      if (old && old !== current) {\r\n        old.getContentElement().setAttribute(\"aria-selected\", false);\r\n      }\r\n      if (current) {\r\n        current.getContentElement().setAttribute(\"aria-selected\", true);\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Sets the icon inside the list to match the selected ListItem.\r\n     */\r\n    __updateIcon() {\r\n      var listItem = this.getChildControl(\"list\").getSelection()[0];\r\n      var atom = this.getChildControl(\"atom\");\r\n      var icon = listItem ? listItem.getIcon() : \"\";\r\n      icon == null ? atom.resetIcon() : atom.setIcon(icon);\r\n    },\r\n\r\n    /**\r\n     * Sets the label inside the list to match the selected ListItem.\r\n     */\r\n    __updateLabel() {\r\n      var listItem = this.getChildControl(\"list\").getSelection()[0];\r\n      var atom = this.getChildControl(\"atom\");\r\n      var label = listItem ? listItem.getLabel() : \"\";\r\n      var format = this.getFormat();\r\n      if (format != null && listItem) {\r\n        label = format.call(this, listItem);\r\n      }\r\n\r\n      // check for translation\r\n      if (label && label.translate) {\r\n        label = label.translate();\r\n      }\r\n      label == null ? atom.resetLabel() : atom.setLabel(label);\r\n    },\r\n\r\n    /*\r\n    ---------------------------------------------------------------------------\r\n      EVENT LISTENERS\r\n    ---------------------------------------------------------------------------\r\n    */\r\n\r\n    /**\r\n     * Listener method for \"pointerover\" event\r\n     * <ul>\r\n     * <li>Adds state \"hovered\"</li>\r\n     * <li>Removes \"abandoned\" and adds \"pressed\" state (if \"abandoned\" state is set)</li>\r\n     * </ul>\r\n     *\r\n     * @param e {qx.event.type.Pointer} Pointer event\r\n     */\r\n    _onPointerOver(e) {\r\n      if (!this.isEnabled() || e.getTarget() !== this) {\r\n        return;\r\n      }\r\n\r\n      if (this.hasState(\"abandoned\")) {\r\n        this.removeState(\"abandoned\");\r\n        this.addState(\"pressed\");\r\n      }\r\n\r\n      this.addState(\"hovered\");\r\n    },\r\n\r\n    /**\r\n     * Listener method for \"pointerout\" event\r\n     * <ul>\r\n     * <li>Removes \"hovered\" state</li>\r\n     * <li>Adds \"abandoned\" and removes \"pressed\" state (if \"pressed\" state is set)</li>\r\n     * </ul>\r\n     *\r\n     * @param e {qx.event.type.Pointer} Pointer event\r\n     */\r\n    _onPointerOut(e) {\r\n      if (!this.isEnabled() || e.getTarget() !== this) {\r\n        return;\r\n      }\r\n\r\n      this.removeState(\"hovered\");\r\n\r\n      if (this.hasState(\"pressed\")) {\r\n        this.removeState(\"pressed\");\r\n        this.addState(\"abandoned\");\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Toggles the popup's visibility.\r\n     *\r\n     * @param e {qx.event.type.Pointer} Pointer event\r\n     */\r\n    _onTap(e) {\r\n      this.toggle();\r\n    },\r\n\r\n    /**@override*/\r\n    _onKeyPress(e) {\r\n      var iden = e.getKeyIdentifier();\r\n      if ((iden == \"Down\" || iden == \"Up\") && e.isAltPressed()) {\r\n        this.toggle();\r\n        e.stop();\r\n      } else if (iden == \"Enter\" || iden == \"Space\") {\r\n        // Apply pre-selected item (translate quick selection to real selection)\r\n        if (this.__preSelectedItem) {\r\n          this.setSelection([this.__preSelectedItem]);\r\n          this.__preSelectedItem = null;\r\n        }\r\n\r\n        this.toggle();\r\n        e.stop();\r\n      } else {\r\n        super._onKeyPress(e);\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Forwards key event to list widget.\r\n     *\r\n     * @param e {qx.event.type.KeyInput} Key event\r\n     */\r\n    _onKeyInput(e) {\r\n      // clone the event and re-calibrate the event\r\n      var clone = e.clone();\r\n      clone.setTarget(this._list);\r\n      clone.setBubbles(false);\r\n\r\n      // forward it to the list\r\n      this.getChildControl(\"list\").dispatchEvent(clone);\r\n    },\r\n\r\n    /**@override*/\r\n    _onListPointerDown(e) {\r\n      // Apply pre-selected item (translate quick selection to real selection)\r\n      if (this.__preSelectedItem) {\r\n        this.setSelection([this.__preSelectedItem]);\r\n        this.__preSelectedItem = null;\r\n      }\r\n    },\r\n\r\n    /**@override*/\r\n    _onListChangeSelection(e) {\r\n      var current = e.getData();\r\n      var old = e.getOldData();\r\n\r\n      // Remove old listeners for icon and label changes.\r\n      if (old && old.length > 0) {\r\n        old[0].removeListener(\"changeIcon\", this.__updateIcon, this);\r\n        old[0].removeListener(\"changeLabel\", this.__updateLabel, this);\r\n      }\r\n\r\n      if (current.length > 0) {\r\n        // Ignore quick context (e.g. pointerover)\r\n        // and configure the new value when closing the popup afterwards\r\n        var popup = this.getChildControl(\"popup\");\r\n        var list = this.getChildControl(\"list\");\r\n        var context = list.getSelectionContext();\r\n\r\n        if (popup.isVisible() && (context == \"quick\" || context == \"key\")) {\r\n          this.__preSelectedItem = current[0];\r\n        } else {\r\n          this.setSelection([current[0]]);\r\n          this.__preSelectedItem = null;\r\n        }\r\n\r\n        // Add listeners for icon and label changes\r\n        current[0].addListener(\"changeIcon\", this.__updateIcon, this);\r\n        current[0].addListener(\"changeLabel\", this.__updateLabel, this);\r\n      } else {\r\n        this.resetSelection();\r\n      }\r\n\r\n      // Set aria-activedescendant\r\n      const contentEl = this.getContentElement();\r\n      if (!contentEl) {\r\n        return;\r\n      }\r\n      const currentContentEl =\r\n        current && current[0] ? current[0].getContentElement() : null;\r\n      if (currentContentEl) {\r\n        contentEl.setAttribute(\r\n          \"aria-activedescendant\",\r\n          currentContentEl.getAttribute(\"id\")\r\n        );\r\n      } else {\r\n        contentEl.removeAttribute(\"aria-activedescendant\");\r\n      }\r\n    },\r\n\r\n    /**@override*/\r\n    _onPopupChangeVisibility(e) {\r\n      super._onPopupChangeVisibility(e);\r\n\r\n      // Synchronize the current selection to the list selection\r\n      // when the popup is closed. The list selection may be invalid\r\n      // because of the quick selection handling which is not\r\n      // directly applied to the selectbox\r\n      var popup = this.getChildControl(\"popup\");\r\n      if (!popup.isVisible()) {\r\n        var list = this.getChildControl(\"list\");\r\n\r\n        // check if the list has any children before selecting\r\n        if (list.hasChildren()) {\r\n          list.setSelection(this.getSelection());\r\n        }\r\n      } else {\r\n        // ensure that the list is never bigger that the max list height and\r\n        // the available space in the viewport\r\n        var distance = popup.getLayoutLocation(this);\r\n        var viewPortHeight = qx.bom.Viewport.getHeight();\r\n        // distance to the bottom and top borders of the viewport\r\n        var toTop = distance.top;\r\n        var toBottom = viewPortHeight - distance.bottom;\r\n        var availableHeigth = toTop > toBottom ? toTop : toBottom;\r\n\r\n        var maxListHeight = this.getMaxListHeight();\r\n        var list = this.getChildControl(\"list\");\r\n        if (maxListHeight == null || maxListHeight > availableHeigth) {\r\n          list.setMaxHeight(availableHeigth);\r\n        } else if (maxListHeight < availableHeigth) {\r\n          list.setMaxHeight(maxListHeight);\r\n        }\r\n      }\r\n    }\r\n  },\r\n\r\n  /*\r\n  *****************************************************************************\r\n     DESTRUCT\r\n  *****************************************************************************\r\n  */\r\n\r\n  destruct() {\r\n    this.__preSelectedItem = null;\r\n  }\r\n});\r\n"
  ],
  "mappings": "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"
}