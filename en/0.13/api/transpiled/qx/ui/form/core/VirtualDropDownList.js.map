{
  "version": 3,
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "extend",
    "ui",
    "popup",
    "Popup",
    "construct",
    "target",
    "core",
    "Assert",
    "assertNotNull",
    "assertNotUndefined",
    "assertInterface",
    "form",
    "AbstractVirtualBox",
    "constructor",
    "call",
    "layout",
    "VBox",
    "_target",
    "_createChildControl",
    "addListener",
    "__onChangeVisibility",
    "__defaultSelection",
    "data",
    "Array",
    "initSelection",
    "properties",
    "autoHide",
    "refine",
    "init",
    "keepActive",
    "selection",
    "check",
    "event",
    "apply",
    "nullable",
    "deferredInit",
    "allowGrowDropDown",
    "events",
    "changeSelection",
    "members",
    "_preselected",
    "__ignoreSelection",
    "__ignoreListSelection",
    "__cachedMaxListItemWidth",
    "open",
    "placeToWidget",
    "show",
    "close",
    "hide",
    "setPreselected",
    "modelItem",
    "listSelection",
    "getChildControl",
    "getSelection",
    "helper",
    "__synchronizeSelection",
    "dispose",
    "_createChildControlImpl",
    "id",
    "hash",
    "control",
    "list",
    "List",
    "set",
    "focusable",
    "keepFocus",
    "height",
    "width",
    "maxHeight",
    "getMaxListHeight",
    "selectionMode",
    "quickSelection",
    "_onListChangeSelection",
    "_handlePointer",
    "_onChangeModel",
    "_onChangeModelLength",
    "_onChangeDelegate",
    "add",
    "flex",
    "VirtualDropDownList",
    "superclass",
    "prototype",
    "_handleKeyboard",
    "isVisible",
    "getKeyIdentifier",
    "__selectPreselected",
    "clone",
    "setTarget",
    "setBubbles",
    "dispatchEvent",
    "__onChangeSelection",
    "__P_373_7",
    "getItem",
    "__P_373_0",
    "_adjustSize",
    "getAllowGrowDropDown",
    "_recalculateMaxListItemWidth",
    "removeAll",
    "_applySelection",
    "value",
    "old",
    "removeListener",
    "__P_373_6",
    "splice",
    "__P_373_5",
    "source",
    "equals",
    "getLength",
    "spliceArg",
    "length",
    "concat",
    "toArray",
    "getBounds",
    "addListenerOnce",
    "_adjustWidth",
    "_adjustHeight",
    "uiList",
    "setWidth",
    "resetWidth",
    "availableHeight",
    "_getAvailableHeight",
    "itemsHeight",
    "getPane",
    "getRowConfig",
    "getTotalSize",
    "minHeight",
    "getMinHeight",
    "setMaxHeight",
    "distance",
    "getLayoutLocation",
    "viewPortHeight",
    "bom",
    "Viewport",
    "getHeight",
    "toTop",
    "top",
    "toBottom",
    "bottom",
    "maxWidth",
    "model",
    "getModel",
    "createWidget",
    "util",
    "Delegate",
    "getMethod",
    "getDelegate",
    "ListItem",
    "tempListItem",
    "syncAppearance",
    "styles",
    "font",
    "getFont",
    "theme",
    "manager",
    "Font",
    "getInstance",
    "resolve",
    "getStyles",
    "getDefaultStyles",
    "paddingX",
    "getPaddingLeft",
    "getPaddingRight",
    "getMarginLeft",
    "getMarginRight",
    "label",
    "forEach",
    "item",
    "content",
    "_typeof",
    "get",
    "getLabelPath",
    "Label",
    "getHtmlSize",
    "undefined",
    "_getMaxListItemWidth",
    "destruct"
  ],
  "sources": [
    "/home/runner/work/CometVisu/CometVisu/node_modules/@qooxdoo/framework/source/class/qx/ui/form/core/VirtualDropDownList.js"
  ],
  "sourcesContent": [
    "/* ************************************************************************\r\n\r\n   qooxdoo - the new era of web development\r\n\r\n   http://qooxdoo.org\r\n\r\n   Copyright:\r\n     2011 1&1 Internet AG, Germany, http://www.1und1.de\r\n\r\n   License:\r\n     MIT: https://opensource.org/licenses/MIT\r\n     See the LICENSE file in the project's top-level directory for details.\r\n\r\n   Authors:\r\n     * Christian Hagendorn (chris_schmidt)\r\n\r\n************************************************************************ */\r\n\r\n/**\r\n * A drop-down (popup) widget which contains a virtual list for selection.\r\n *\r\n * @childControl list {qx.ui.list.List} The virtual list.\r\n *\r\n * @internal\r\n */\r\nqx.Class.define(\"qx.ui.form.core.VirtualDropDownList\", {\r\n  extend: qx.ui.popup.Popup,\r\n\r\n  /**\r\n   * Creates the drop-down list.\r\n   *\r\n   * @param target {qx.ui.form.core.AbstractVirtualBox} The composite widget.\r\n   */\r\n  construct(target) {\r\n    qx.core.Assert.assertNotNull(target, \"Invalid parameter 'target'!\");\r\n    qx.core.Assert.assertNotUndefined(target, \"Invalid parameter 'target'!\");\r\n    qx.core.Assert.assertInterface(\r\n      target,\r\n      qx.ui.form.core.AbstractVirtualBox,\r\n      \"Invalid parameter 'target'!\"\r\n    );\r\n\r\n    super(new qx.ui.layout.VBox());\r\n\r\n    this._target = target;\r\n\r\n    this._createChildControl(\"list\");\r\n    this.addListener(\"changeVisibility\", this.__onChangeVisibility, this);\r\n\r\n    this.__defaultSelection = new qx.data.Array();\r\n    this.initSelection(this.__defaultSelection);\r\n  },\r\n\r\n  properties: {\r\n    // overridden\r\n    autoHide: {\r\n      refine: true,\r\n      init: false\r\n    },\r\n\r\n    // overridden\r\n    keepActive: {\r\n      refine: true,\r\n      init: true\r\n    },\r\n\r\n    /** Current selected items. */\r\n    selection: {\r\n      check: \"qx.data.Array\",\r\n      event: \"changeSelection\",\r\n      apply: \"_applySelection\",\r\n      nullable: false,\r\n      deferredInit: true\r\n    },\r\n\r\n    /**\r\n     * Allow the drop-down to grow wider than its parent.\r\n     */\r\n    allowGrowDropDown: {\r\n      init: false,\r\n      nullable: false,\r\n      check: \"Boolean\",\r\n      apply: \"_adjustSize\",\r\n      event: \"changeAllowGrowDropDown\"\r\n    }\r\n  },\r\n\r\n  events: {\r\n    /**\r\n     * This event is fired as soon as the content of the selection property changes, but\r\n     * this is not equal to the change of the selection of the widget. If the selection\r\n     * of the widget changes, the content of the array stored in the selection property\r\n     * changes. This means you have to listen to the change event of the selection array\r\n     * to get an event as soon as the user changes the selected item.\r\n     * <pre class=\"javascript\">obj.getSelection().addListener(\"change\", listener, this);</pre>\r\n     */\r\n    changeSelection: \"qx.event.type.Data\"\r\n  },\r\n\r\n  members: {\r\n    /** @type {qx.ui.form.core.AbstractVirtualBox} The composite widget. */\r\n    _target: null,\r\n\r\n    /** @type {var} The pre-selected model item. */\r\n    _preselected: null,\r\n\r\n    /**\r\n     * @type {Boolean} Indicator to ignore selection changes from the\r\n     * {@link #selection} array.\r\n     */\r\n    __ignoreSelection: false,\r\n\r\n    /** @type {Boolean} Indicator to ignore selection changes from the list. */\r\n    __ignoreListSelection: false,\r\n\r\n    /** @type {qx.data.Array} The initial selection array. */\r\n    __defaultSelection: null,\r\n\r\n    /**\r\n     * When the drop-down is allowed to grow wider than its parent,\r\n     * this member variable will contain the cached maximum list item width in pixels.\r\n     * This variable gets updated whenever the model or model length changes.\r\n     *\r\n     * @type {Number}\r\n     */\r\n    __cachedMaxListItemWidth: 0,\r\n\r\n    /*\r\n    ---------------------------------------------------------------------------\r\n      PUBLIC API\r\n    ---------------------------------------------------------------------------\r\n    */\r\n\r\n    /**\r\n     * Shows the drop-down.\r\n     */\r\n    open() {\r\n      this.placeToWidget(this._target, true);\r\n      this.show();\r\n    },\r\n\r\n    /**\r\n     * Hides the drop-down.\r\n     */\r\n    close() {\r\n      this.hide();\r\n    },\r\n\r\n    /**\r\n     * Pre-selects the drop-down item corresponding to the given model object.\r\n     *\r\n     * @param modelItem {Object} Item to be pre-selected.\r\n     */\r\n    setPreselected(modelItem) {\r\n      this._preselected = modelItem;\r\n      this.__ignoreListSelection = true;\r\n      var listSelection = this.getChildControl(\"list\").getSelection();\r\n      var helper = new qx.data.Array([modelItem]);\r\n      this.__synchronizeSelection(helper, listSelection);\r\n      helper.dispose();\r\n      this.__ignoreListSelection = false;\r\n    },\r\n\r\n    /*\r\n    ---------------------------------------------------------------------------\r\n      INTERNAL API\r\n    ---------------------------------------------------------------------------\r\n    */\r\n\r\n    // overridden\r\n    _createChildControlImpl(id, hash) {\r\n      var control;\r\n\r\n      switch (id) {\r\n        case \"list\":\r\n          control = new qx.ui.list.List().set({\r\n            focusable: false,\r\n            keepFocus: true,\r\n            keepActive: true,\r\n            height: null,\r\n            width: null,\r\n            maxHeight: this._target.getMaxListHeight(),\r\n            selectionMode: \"one\",\r\n            quickSelection: true\r\n          });\r\n\r\n          control\r\n            .getSelection()\r\n            .addListener(\"change\", this._onListChangeSelection, this);\r\n          control.addListener(\"tap\", this._handlePointer, this);\r\n          control.addListener(\"changeModel\", this._onChangeModel, this);\r\n          control.addListener(\r\n            \"changeModelLength\",\r\n            this._onChangeModelLength,\r\n            this\r\n          );\r\n\r\n          control.addListener(\"changeDelegate\", this._onChangeDelegate, this);\r\n\r\n          this.add(control, { flex: 1 });\r\n          break;\r\n      }\r\n\r\n      return control || super._createChildControlImpl(id, hash);\r\n    },\r\n\r\n    /*\r\n    ---------------------------------------------------------------------------\r\n      EVENT LISTENERS\r\n    ---------------------------------------------------------------------------\r\n    */\r\n\r\n    /**\r\n     * Handles the complete keyboard events dispatched on the widget.\r\n     *\r\n     * @param event {qx.event.type.KeySequence} The keyboard event.\r\n     */\r\n    _handleKeyboard(event) {\r\n      if (this.isVisible() && event.getKeyIdentifier() === \"Enter\") {\r\n        this.__selectPreselected();\r\n        return;\r\n      }\r\n\r\n      var clone = event.clone();\r\n      clone.setTarget(this.getChildControl(\"list\"));\r\n      clone.setBubbles(false);\r\n\r\n      this.getChildControl(\"list\").dispatchEvent(clone);\r\n    },\r\n\r\n    /**\r\n     * Handles all mouse events dispatched on the widget.\r\n     *\r\n     * @param event {qx.event.type.Mouse} The mouse event.\r\n     */\r\n    _handlePointer(event) {\r\n      this.__selectPreselected();\r\n    },\r\n\r\n    /**\r\n     * Handler for the local selection change. The method is responsible for\r\n     * the synchronization between the own selection and the selection\r\n     * form the drop-down.\r\n     *\r\n     * @param event {qx.event.type.Data} The data event.\r\n     */\r\n    __onChangeSelection(event) {\r\n      if (this.__ignoreSelection) {\r\n        return;\r\n      }\r\n\r\n      var selection = this.getSelection();\r\n      var listSelection = this.getChildControl(\"list\").getSelection();\r\n\r\n      this.__ignoreListSelection = true;\r\n      this.__synchronizeSelection(selection, listSelection);\r\n      this.__ignoreListSelection = false;\r\n\r\n      this.__ignoreSelection = true;\r\n      this.__synchronizeSelection(listSelection, selection);\r\n      this.__ignoreSelection = false;\r\n    },\r\n\r\n    /**\r\n     * Handler for the selection change on the list. The method is responsible\r\n     * for the synchronization between the list selection and the own selection.\r\n     *\r\n     * @param event {qx.event.type.Data} The data event.\r\n     */\r\n    _onListChangeSelection(event) {\r\n      if (this.__ignoreListSelection) {\r\n        return;\r\n      }\r\n\r\n      var listSelection = this.getChildControl(\"list\").getSelection();\r\n\r\n      if (this.isVisible()) {\r\n        this.setPreselected(listSelection.getItem(0));\r\n      } else {\r\n        this.__ignoreSelection = true;\r\n        this.__synchronizeSelection(listSelection, this.getSelection());\r\n        this.__ignoreSelection = false;\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Handler for the own visibility changes. The method is responsible that\r\n     * the list selects the current selected item.\r\n     *\r\n     * @param event {qx.event.type.Data} The event.\r\n     */\r\n    __onChangeVisibility(event) {\r\n      if (this.isVisible()) {\r\n        if (this._preselected == null) {\r\n          var selection = this.getSelection();\r\n          var listSelection = this.getChildControl(\"list\").getSelection();\r\n          this.__synchronizeSelection(selection, listSelection);\r\n        }\r\n        this._adjustSize();\r\n      } else {\r\n        this.setPreselected(null);\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Handler for the model change event.\r\n     * Called when the whole model changes, not when its length changes.\r\n     *\r\n     * @param event {qx.event.type.Data} The change event.\r\n     * @protected\r\n     */\r\n    _onChangeModel(event) {\r\n      if (this.getAllowGrowDropDown()) {\r\n        this._recalculateMaxListItemWidth();\r\n      }\r\n\r\n      this._adjustSize();\r\n    },\r\n\r\n    /**\r\n     * Handler for the model length change event.\r\n     * Called whenever items get added or removed from the model,\r\n     * not when the model itself changes.\r\n     *\r\n     * @param event {qx.event.type.Data}\r\n     * @protected\r\n     */\r\n    _onChangeModelLength(event) {\r\n      if (this.getAllowGrowDropDown()) {\r\n        this._recalculateMaxListItemWidth();\r\n      }\r\n\r\n      this._adjustSize();\r\n    },\r\n\r\n    /**\r\n     * Handler for the delegate change event.\r\n     *\r\n     * @param event {qx.event.type.Data} The change event.\r\n     */\r\n    _onChangeDelegate(event) {\r\n      this.getSelection().removeAll();\r\n    },\r\n\r\n    /*\r\n    ---------------------------------------------------------------------------\r\n      APPLY ROUTINES\r\n    ---------------------------------------------------------------------------\r\n    */\r\n\r\n    // property apply\r\n    _applySelection(value, old) {\r\n      value.addListener(\"change\", this.__onChangeSelection, this);\r\n\r\n      if (old != null) {\r\n        old.removeListener(\"change\", this.__onChangeSelection, this);\r\n      }\r\n\r\n      this.__synchronizeSelection(\r\n        value,\r\n        this.getChildControl(\"list\").getSelection(value)\r\n      );\r\n    },\r\n\r\n    /*\r\n    ---------------------------------------------------------------------------\r\n      HELPER METHODS\r\n    ---------------------------------------------------------------------------\r\n    */\r\n\r\n    /**\r\n     * Helper method to select the current preselected item, also closes the\r\n     * drop-down.\r\n     */\r\n    __selectPreselected() {\r\n      if (this._preselected != null) {\r\n        var selection = this.getSelection();\r\n        selection.splice(0, 1, this._preselected);\r\n        this._preselected = null;\r\n        this.close();\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Helper method to synchronize both selection. The target selection has\r\n     * the same selection like the source selection after the synchronization.\r\n     *\r\n     * @param source {qx.data.Array} The source selection.\r\n     * @param target {qx.data.Array} The target selection.\r\n     */\r\n    __synchronizeSelection(source, target) {\r\n      if (source.equals(target)) {\r\n        return;\r\n      }\r\n\r\n      if (source.getLength() <= 0) {\r\n        target.removeAll();\r\n      } else {\r\n        // build arguments array for splice(0, target.length, source[0], source[1], ...)\r\n        var spliceArg = [0, target.length];\r\n        spliceArg = spliceArg.concat(source.toArray());\r\n\r\n        // use apply since it allow to use an array as the argument array\r\n        // (calling splice directly with an array insert it in the array on which splice is called)\r\n        // don't forget to dispose the array created by splice\r\n        target.splice.apply(target, spliceArg).dispose();\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Adjust the drop-down to the available width and height, by calling\r\n     * {@link #_adjustWidth} and {@link #_adjustHeight}.\r\n     */\r\n    _adjustSize() {\r\n      if (!this._target.getBounds()) {\r\n        this.addListenerOnce(\"appear\", this._adjustSize, this);\r\n        return;\r\n      }\r\n\r\n      this._adjustWidth();\r\n      this._adjustHeight();\r\n    },\r\n\r\n    /**\r\n     * Adjust the drop-down to the available width. The width is limited by\r\n     * the current width from the _target, unless allowGrowDropDown is true.\r\n     */\r\n    _adjustWidth() {\r\n      var width = this._target.getBounds().width;\r\n      var uiList = this.getChildControl(\"list\");\r\n      if (this.getAllowGrowDropDown()) {\r\n        // Let the drop-down handle its own width.\r\n        this.setWidth(null);\r\n\r\n        if (this.__cachedMaxListItemWidth > 0) {\r\n          uiList.setWidth(this.__cachedMaxListItemWidth);\r\n        } else {\r\n          uiList.setWidth(width);\r\n        }\r\n      } else {\r\n        // Make the drop-down as wide as the virtual-box that it is owned by.\r\n        this.setWidth(width);\r\n        uiList.resetWidth();\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Adjust the drop-down to the available height. Ensure that the list\r\n     * is never bigger that the max list height and the available space\r\n     * in the viewport.\r\n     */\r\n    _adjustHeight() {\r\n      var availableHeight = this._getAvailableHeight();\r\n      if (availableHeight === null) {\r\n        return;\r\n      }\r\n\r\n      var maxHeight = this._target.getMaxListHeight();\r\n      var list = this.getChildControl(\"list\");\r\n      var itemsHeight = list.getPane().getRowConfig().getTotalSize();\r\n\r\n      if (maxHeight == null || itemsHeight < maxHeight) {\r\n        maxHeight = itemsHeight;\r\n      }\r\n\r\n      if (maxHeight > availableHeight) {\r\n        maxHeight = availableHeight;\r\n      }\r\n\r\n      var minHeight = list.getMinHeight();\r\n      if (null !== minHeight && minHeight > maxHeight) {\r\n        maxHeight = minHeight;\r\n      }\r\n\r\n      list.setMaxHeight(maxHeight);\r\n    },\r\n\r\n    /**\r\n     * Calculates the available height in the viewport.\r\n     *\r\n     * @return {Integer|null} Available height in the viewport.\r\n     */\r\n    _getAvailableHeight() {\r\n      var distance = this.getLayoutLocation(this._target);\r\n      if (!distance) {\r\n        return null;\r\n      }\r\n\r\n      var viewPortHeight = qx.bom.Viewport.getHeight();\r\n\r\n      // distance to the bottom and top borders of the viewport\r\n      var toTop = distance.top;\r\n      var toBottom = viewPortHeight - distance.bottom;\r\n\r\n      return toTop > toBottom ? toTop : toBottom;\r\n    },\r\n\r\n    /**\r\n     * Loop over all model items to recalculate the maximum list item width.\r\n     *\r\n     * @protected\r\n     */\r\n    _recalculateMaxListItemWidth() {\r\n      var maxWidth = 0;\r\n      var list = this.getChildControl(\"list\");\r\n      var model = list.getModel();\r\n      if (model && model.length) {\r\n        var createWidget = qx.util.Delegate.getMethod(\r\n          list.getDelegate(),\r\n          \"createItem\"\r\n        );\r\n\r\n        if (!createWidget) {\r\n          createWidget = function () {\r\n            return new qx.ui.form.ListItem();\r\n          };\r\n        }\r\n\r\n        var tempListItem = createWidget();\r\n\r\n        // Make sure the widget has the correct padding properties.\r\n        tempListItem.syncAppearance();\r\n\r\n        var styles;\r\n        var font = tempListItem.getFont();\r\n        if (font) {\r\n          styles = qx.theme.manager.Font.getInstance()\r\n            .resolve(font)\r\n            .getStyles();\r\n        }\r\n        if (!styles) {\r\n          styles = qx.bom.Font.getDefaultStyles();\r\n        }\r\n\r\n        var paddingX =\r\n          list.getPaddingLeft() +\r\n          list.getPaddingRight() +\r\n          tempListItem.getPaddingLeft() +\r\n          tempListItem.getPaddingRight() +\r\n          tempListItem.getMarginLeft() +\r\n          tempListItem.getMarginRight();\r\n\r\n        var label = tempListItem.getChildControl(\"label\");\r\n        if (label) {\r\n          // Make sure the widget has the correct padding properties.\r\n          label.syncAppearance();\r\n\r\n          paddingX +=\r\n            label.getPaddingLeft() +\r\n            label.getPaddingRight() +\r\n            label.getMarginLeft() +\r\n            label.getMarginRight();\r\n        }\r\n\r\n        model.forEach(function (item) {\r\n          var width = 0;\r\n          var content;\r\n\r\n          if (typeof item === \"string\") {\r\n            content = item;\r\n          } else if (typeof item === \"object\" && item !== null) {\r\n            content = item.get(list.getLabelPath());\r\n          }\r\n\r\n          if (content) {\r\n            width =\r\n              qx.bom.Label.getHtmlSize(content, styles, undefined).width +\r\n              paddingX;\r\n\r\n            if (width > maxWidth) {\r\n              maxWidth = width;\r\n            }\r\n          }\r\n        });\r\n\r\n        tempListItem.dispose();\r\n      }\r\n\r\n      this.__cachedMaxListItemWidth = maxWidth;\r\n    },\r\n\r\n    /**\r\n     * Get the cached maximum list item width.\r\n     *\r\n     * @return {Number}\r\n     * @protected\r\n     */\r\n    _getMaxListItemWidth() {\r\n      return this.__cachedMaxListItemWidth;\r\n    }\r\n  },\r\n\r\n  destruct() {\r\n    if (this.__defaultSelection) {\r\n      this.__defaultSelection.dispose();\r\n    }\r\n  }\r\n});\r\n"
  ],
  "mappings": "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"
}