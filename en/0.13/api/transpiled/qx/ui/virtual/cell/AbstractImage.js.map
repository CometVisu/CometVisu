{
  "version": 3,
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "extend",
    "ui",
    "virtual",
    "cell",
    "Cell",
    "type",
    "construct",
    "constructor",
    "call",
    "_aliasManager",
    "util",
    "AliasManager",
    "getInstance",
    "members",
    "__defaultWidth",
    "__defaultHeight",
    "__getImageSize",
    "__P_698_2",
    "source",
    "ResourceManager",
    "ImageLoader",
    "io",
    "width",
    "height",
    "has",
    "getImageWidth",
    "getImageHeight",
    "isLoaded",
    "getWidth",
    "getHeight",
    "__createImage",
    "__P_698_3",
    "imageData",
    "url",
    "resolve",
    "sizes",
    "tooltip",
    "_identifyImage",
    "value",
    "Error",
    "getContent",
    "states",
    "content",
    "styles",
    "display",
    "verticalAlign",
    "position",
    "tag",
    "bom",
    "element",
    "Decoration",
    "getTagName",
    "ret",
    "getAttributes",
    "css",
    "Style",
    "compile",
    "style",
    "src",
    "AbstractImage"
  ],
  "sources": [
    "/home/runner/work/CometVisu/CometVisu/node_modules/@qooxdoo/framework/source/class/qx/ui/virtual/cell/AbstractImage.js"
  ],
  "sourcesContent": [
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2006 STZ-IDA, Germany, http://www.stz-ida.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Til Schneider (til132)\n     * Carsten Lergenmueller (carstenl)\n     * Jonathan Wei√ü (jonathan_rass)\n\n************************************************************************ */\n\n/**\n * Abstract base class for image cell renderer.\n */\nqx.Class.define(\"qx.ui.virtual.cell.AbstractImage\", {\n  extend: qx.ui.virtual.cell.Cell,\n  type: \"abstract\",\n\n  /*\n  *****************************************************************************\n     CONSTRUCTOR\n  *****************************************************************************\n  */\n\n  construct() {\n    super();\n    this._aliasManager = qx.util.AliasManager.getInstance();\n  },\n\n  /*\n  *****************************************************************************\n     MEMBERS\n  *****************************************************************************\n  */\n\n  members: {\n    __defaultWidth: 16,\n    __defaultHeight: 16,\n    _aliasManager: null,\n\n    /**\n     * Compute the size of the given image\n     *\n     * @param source {String} the image URL\n     * @return {Map} A map containing the image's <code>width</code> and\n     *    <code>height</code>\n     */\n    __getImageSize(source) {\n      var ResourceManager = qx.util.ResourceManager.getInstance();\n      var ImageLoader = qx.io.ImageLoader;\n      var width, height;\n\n      // Detect if the image registry knows this image\n      if (ResourceManager.has(source)) {\n        width = ResourceManager.getImageWidth(source);\n        height = ResourceManager.getImageHeight(source);\n      } else if (ImageLoader.isLoaded(source)) {\n        width = ImageLoader.getWidth(source);\n        height = ImageLoader.getHeight(source);\n      } else {\n        width = this.__defaultWidth;\n        height = this.__defaultHeight;\n      }\n\n      return { width: width, height: height };\n    },\n\n    /**\n     * Compute image meta data\n     *\n     * @param imageData {Object|String} Either a string containing the image URL\n     *   or a map, which describes the image. Map keys:\n     *   <ul>\n     *     <li>url (required)</li>\n     *     <li>width</li>\n     *     <li>height</li>\n     *     <li>tooltip</li>\n     *   </ul>\n     * @return {Object} A map describing the image. Map keys:\n     *   <ul>\n     *     <li>url</li>\n     *     <li>width</li>\n     *     <li>height</li>\n     *     <li>tooltip (optional)</li>\n     *   </ul>\n     */\n    __createImage(imageData) {\n      if (typeof imageData == \"string\") {\n        imageData = { url: imageData };\n      }\n\n      var url = this._aliasManager.resolve(imageData.url || null);\n      var sizes;\n\n      if (imageData.width && imageData.height) {\n        sizes = { width: imageData.width, height: imageData.height };\n      } else {\n        sizes = this.__getImageSize(url);\n      }\n\n      return {\n        width: sizes.width,\n        height: sizes.height,\n        url: url,\n        tooltip: imageData.tooltip\n      };\n    },\n\n    /**\n     * Identifies the Image to show. This is a template method, which must be\n     * implements by sub classes.\n     *\n     * @abstract\n     * @param value {var} The cell's data value\n     * @return {Map} A map having the following attributes:\n     *           <ul>\n     *           <li>\"url\": (type string) must be the URL of the image to show.</li>\n     *           <li>\"width\": (type int) the width of the image in pixels.</li>\n     *           <li>\"height\": (type int) the height of the image in pixels.</li>\n     *           <li>\"tooltip\": (type string) must be the image tooltip text.</li>\n     *           </ul>\n     */\n    _identifyImage(value) {\n      throw new Error(\"_identifyImage is abstract\");\n    },\n\n    // overridden\n    getContent(value, states) {\n      if (value === null) {\n        return \"\";\n      }\n\n      var content = \"\";\n      var imageData = this.__createImage(this._identifyImage(value));\n      var tooltip = imageData.tooltip\n        ? 'title=\"' + imageData.tooltip + '\"'\n        : \"\";\n\n      var styles = {\n        width: imageData.width + \"px\",\n        height: imageData.height + \"px\",\n        display: \"inline-block\",\n        verticalAlign: \"top\",\n        position: \"static\"\n      };\n\n      var tag = qx.bom.element.Decoration.getTagName(\n        \"no-repeat\",\n        imageData.url\n      );\n\n      var ret = qx.bom.element.Decoration.getAttributes(\n        imageData.url,\n        \"no-repeat\",\n        styles\n      );\n\n      var css = qx.bom.element.Style.compile(ret.style);\n\n      if (tag === \"img\") {\n        content = '<img src=\"' + ret.src + '\" style=\"' + css + '\" ';\n        content += tooltip + \"/>\";\n      } else {\n        content = '<div style=\"' + css + '\" ';\n        content += tooltip + \"></div>\";\n      }\n      return content;\n    }\n  }\n});\n"
  ],
  "mappings": "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",
  "ignoreList": []
}