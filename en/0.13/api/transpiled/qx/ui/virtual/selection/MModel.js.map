{
  "version": 3,
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Mixin",
    "define",
    "construct",
    "_initSelectionManager",
    "__selection",
    "data",
    "Array",
    "addListener",
    "_onChangeSelection",
    "_applySelection",
    "properties",
    "selectionMode",
    "check",
    "init",
    "apply",
    "dragSelection",
    "quickSelection",
    "events",
    "changeSelection",
    "changeValue",
    "members",
    "_manager",
    "__ignoreChangeSelection",
    "__ignoreManagerChangeSelection",
    "setValue",
    "selection",
    "resetSelection",
    "setSelection",
    "getValue",
    "getSelection",
    "resetValue",
    "self",
    "selectionDelegate",
    "isItemSelectable",
    "row",
    "_provider",
    "isSelectable",
    "styleSelectable",
    "type",
    "wasAdded",
    "styleSelectabled",
    "styleUnselectabled",
    "ui",
    "virtual",
    "Row",
    "getPane",
    "attachPointerEvents",
    "attachKeyEvents",
    "_onManagerChangeSelection",
    "setAutoScrollIntoView",
    "value",
    "_autoScrollIntoView",
    "getAutoScrollIntoView",
    "_updateSelection",
    "replace",
    "removeAll",
    "initSelection",
    "warn",
    "classname",
    "old",
    "_applySelectionMode",
    "setMode",
    "_applyDragSelection",
    "setDrag",
    "_applyQuickSelection",
    "setQuick",
    "e",
    "newSelection",
    "i",
    "getLength",
    "item",
    "getItem",
    "selectables",
    "_getSelectables",
    "index",
    "indexOf",
    "_reverseLookup",
    "push",
    "_beforeApplySelection",
    "lang",
    "Type",
    "isFunction",
    "equals",
    "replaceSelection",
    "ex",
    "selectItem",
    "length",
    "__synchronizeSelection",
    "_afterApplySelection",
    "fireDataEvent",
    "getData",
    "getOldData",
    "__isSelectionEquals",
    "managerSelection",
    "_getDataFromRow",
    "__replaceSelection",
    "args",
    "concat",
    "temp",
    "splice",
    "dispose",
    "_applyDefaultSelection",
    "destruct",
    "MModel"
  ],
  "sources": [
    "/home/runner/work/CometVisu/CometVisu/node_modules/@qooxdoo/framework/source/class/qx/ui/virtual/selection/MModel.js"
  ],
  "sourcesContent": [
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2011 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Christian Hagendorn (chris_schmidt)\n\n************************************************************************ */\n\n/**\n * Implements the different selection modes single, multi, additive and one\n * selection with there drag and quick selection.\n *\n * Example how to use selection:\n * <pre class=\"javascript\">\n * var rawData = [];\n * for (var i = 0; i < 2500; i++) {\n *  rawData[i] = \"Item No \" + i;\n * }\n *\n * var model = qx.data.marshal.Json.createModel(rawData);\n * var list = new qx.ui.list.List(model);\n *\n * // Pre-Select \"Item No 20\"\n * list.getSelection().push(model.getItem(20));\n *\n * // log change selection\n * list.getSelection().addListener(\"change\", function(e) {\n *   this.debug(\"Selection: \" + list.getSelection().getItem(0));\n * }, this);\n * </pre>\n *\n * @internal\n */\nqx.Mixin.define(\"qx.ui.virtual.selection.MModel\", {\n  construct() {\n    this._initSelectionManager();\n    this.__selection = new qx.data.Array();\n    this.__selection.addListener(\"change\", this._onChangeSelection, this);\n    this._applySelection(this.__selection, null);\n  },\n\n  properties: {\n    /** Current selected items */\n    /* psuedo property - implemented manually in code below\n    selection :\n    {\n      check : \"qx.data.Array\",\n      event : \"changeSelection\",\n      apply : \"_applySelection\",\n      nullable : false,\n      deferredInit : true\n    },\n    */\n\n    /**\n     * The selection mode to use.\n     *\n     * For further details please have a look at:\n     * {@link qx.ui.core.selection.Abstract#mode}\n     */\n    selectionMode: {\n      check: [\"single\", \"multi\", \"additive\", \"one\"],\n      init: \"single\",\n      apply: \"_applySelectionMode\"\n    },\n\n    /**\n     * Enable drag selection (multi selection of items through\n     * dragging the pointer in pressed states).\n     *\n     * Only possible for the selection modes <code>multi</code> and <code>additive</code>\n     */\n    dragSelection: {\n      check: \"Boolean\",\n      init: false,\n      apply: \"_applyDragSelection\"\n    },\n\n    /**\n     * Enable quick selection mode, where no tap is needed to change the selection.\n     *\n     * Only possible for the modes <code>single</code> and <code>one</code>.\n     */\n    quickSelection: {\n      check: \"Boolean\",\n      init: false,\n      apply: \"_applyQuickSelection\"\n    }\n  },\n\n  events: {\n    /**\n     * This event is fired as soon as the content of the selection property changes, but\n     * this is not equal to the change of the selection of the widget. If the selection\n     * of the widget changes, the content of the array stored in the selection property\n     * changes. This means you have to listen to the change event of the selection array\n     * to get an event as soon as the user changes the selected item.\n     * <pre class=\"javascript\">obj.getSelection().addListener(\"change\", listener, this);</pre>\n     */\n    changeSelection: \"qx.event.type.Data\",\n\n    /** Fires after the value was modified */\n    changeValue: \"qx.event.type.Data\"\n  },\n\n  members: {\n    /** @type {qx.ui.virtual.selection.Row} selection manager */\n    _manager: null,\n\n    /** @type {Boolean} flag to ignore the selection change from {@link #selection} */\n    __ignoreChangeSelection: false,\n\n    /** @type {Boolean} flag to ignore the selection change from <code>_manager</code> */\n    __ignoreManagerChangeSelection: false,\n\n    __selection: null,\n\n    /**\n     * setValue implements part of the {@link qx.ui.form.IField} interface.\n     *\n     * @param selection {qx.data.IListData|null} List data to select as value.\n     * @return {null} The status of this operation.\n     */\n    setValue(selection) {\n      if (null === selection) {\n        this.resetSelection();\n      } else {\n        this.setSelection(selection);\n      }\n\n      return null;\n    },\n\n    /**\n     * getValue implements part of the {@link qx.ui.form.IField} interface.\n     *\n     * @return {qx.data.IListData} The current selection.\n     */\n    getValue() {\n      return this.getSelection();\n    },\n\n    /**\n     * resetValue implements part of the {@link qx.ui.form.IField} interface.\n     */\n    resetValue() {\n      this.resetSelection();\n    },\n\n    /**\n     * Initialize the selection manager with his delegate.\n     */\n    _initSelectionManager() {\n      var self = this;\n      var selectionDelegate = {\n        isItemSelectable(row) {\n          return self._provider.isSelectable(row);\n        },\n\n        styleSelectable(row, type, wasAdded) {\n          if (type != \"selected\") {\n            return;\n          }\n\n          if (wasAdded) {\n            self._provider.styleSelectabled(row);\n          } else {\n            self._provider.styleUnselectabled(row);\n          }\n        }\n      };\n\n      this._manager = new qx.ui.virtual.selection.Row(\n        this.getPane(),\n        selectionDelegate\n      );\n\n      this._manager.attachPointerEvents(this.getPane());\n      this._manager.attachKeyEvents(this);\n      this._manager.addListener(\n        \"changeSelection\",\n        this._onManagerChangeSelection,\n        this\n      );\n    },\n\n    /**\n     * Determines, if automatically scrolling of selected item is active.\n     * Set <code>false</code> to suspend auto scrolling.\n     *\n     * @param value {Boolean} Set <code>false</code> to suspend auto scrolling.\n     */\n    setAutoScrollIntoView(value) {\n      this._manager._autoScrollIntoView = value;\n    },\n\n    /**\n     * Returns true, if automatically scrolling of selected item is active.\n     *\n     * @return {Boolean} Returns <code>false</code> if auto scrolling is suspended.\n     */\n    getAutoScrollIntoView() {\n      return this._manager._autoScrollIntoView;\n    },\n\n    /**\n     * Method to update the selection, this method can be used when the model has\n     * changes.\n     */\n    _updateSelection() {\n      if (this._manager == null) {\n        return;\n      }\n\n      this._onChangeSelection();\n    },\n\n    /*\n    ---------------------------------------------------------------------------\n      APPLY ROUTINES\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Setter for selection property; takes the selection on, and does not change the\n     * array instance in `this.selection`\n     *\n     * @param value {qx.data.Array} the new selection\n     */\n    setSelection(value) {\n      if (value) {\n        this.__selection.replace(value);\n      } else {\n        this.__selection.removeAll();\n      }\n    },\n\n    /**\n     * Getter for selection property\n     *\n     * @return {qx.data.Array}\n     */\n    getSelection() {\n      return this.__selection;\n    },\n\n    /**\n     * Reset for selection property\n     */\n    resetSelection() {\n      this.__selection.removeAll();\n    },\n\n    /**\n     * Init for selection property; takes the selection on, and does not change the\n     * array instance in `this.selection`\n     *\n     * @param value {qx.data.Array} the new selection\n     */\n    initSelection(value) {\n      this.warn(\n        \"Using initSelection on \" +\n          this.classname +\n          \" is probably not what you intended - the selection instance does not change\"\n      );\n\n      this.setSelection(value);\n    },\n\n    /**\n     * Apply method for selection property\n     *\n     * @param value {qx.data.Array} new value\n     * @param old {qx.data.Array} old value\n     */\n    _applySelection(value, old) {\n      this._onChangeSelection();\n    },\n\n    // apply method\n    _applySelectionMode(value, old) {\n      this._manager.setMode(value);\n    },\n\n    // apply method\n    _applyDragSelection(value, old) {\n      this._manager.setDrag(value);\n    },\n\n    // apply method\n    _applyQuickSelection(value, old) {\n      this._manager.setQuick(value);\n    },\n\n    /*\n    ---------------------------------------------------------------------------\n      SELECTION HANDLERS\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Event handler for the internal selection change {@link #selection}.\n     *\n     * @param e {qx.event.type.Data} the change event.\n     */\n    _onChangeSelection(e) {\n      if (this.__ignoreManagerChangeSelection == true) {\n        return;\n      }\n\n      this.__ignoreChangeSelection = true;\n      var selection = this.getSelection();\n\n      var newSelection = [];\n      for (var i = 0; i < selection.getLength(); i++) {\n        var item = selection.getItem(i);\n        var selectables = this._getSelectables();\n        var index = -1;\n\n        if (selectables != null) {\n          index = selectables.indexOf(item);\n        }\n\n        var row = this._reverseLookup(index);\n\n        if (row >= 0) {\n          newSelection.push(row);\n        }\n      }\n\n      if (\n        this._beforeApplySelection != null &&\n        qx.lang.Type.isFunction(this._beforeApplySelection)\n      ) {\n        this._beforeApplySelection(newSelection);\n      }\n\n      try {\n        if (!qx.lang.Array.equals(newSelection, this._manager.getSelection())) {\n          this._manager.replaceSelection(newSelection);\n        }\n      } catch (ex) {\n        this._manager.selectItem(newSelection[newSelection.length - 1]);\n      }\n      this.__synchronizeSelection();\n\n      if (\n        this._afterApplySelection != null &&\n        qx.lang.Type.isFunction(this._afterApplySelection)\n      ) {\n        this._afterApplySelection();\n      }\n\n      this.__ignoreChangeSelection = false;\n    },\n\n    /**\n     * Event handler for the selection change from the <code>_manager</code>.\n     *\n     * @param e {qx.event.type.Data} the change event.\n     */\n    _onManagerChangeSelection(e) {\n      if (this.__ignoreChangeSelection == true) {\n        return;\n      }\n\n      this.__ignoreManagerChangeSelection = true;\n\n      this.__synchronizeSelection();\n\n      this.__ignoreManagerChangeSelection = false;\n\n      this.fireDataEvent(\"changeValue\", e.getData(), e.getOldData());\n    },\n\n    /**\n     * Synchronized the selection form the manager with the local one.\n     */\n    __synchronizeSelection() {\n      if (this.__isSelectionEquals()) {\n        return;\n      }\n\n      var managerSelection = this._manager.getSelection();\n      var newSelection = [];\n\n      for (var i = 0; i < managerSelection.length; i++) {\n        var item = this._getDataFromRow(managerSelection[i]);\n\n        if (item != null) {\n          newSelection.push(item);\n        }\n      }\n\n      this.__replaceSelection(newSelection);\n    },\n\n    /**\n     * Replace the current selection with the passed selection Array.\n     *\n     * @param newSelection {qx.data.Array} The new selection.\n     */\n    __replaceSelection(newSelection) {\n      var selection = this.getSelection();\n      if (newSelection.length > 0) {\n        var args = [0, selection.getLength()];\n        args = args.concat(newSelection);\n        // dispose data array returned by splice to avoid memory leak\n        var temp = selection.splice.apply(selection, args);\n        temp.dispose();\n      } else {\n        selection.removeAll();\n      }\n    },\n\n    /**\n     * Checks whether the local and the manager selection are equal.\n     *\n     * @return {Boolean} <code>true</code> if the selections are equal,\n     *   <code>false</code> otherwise.\n     */\n    __isSelectionEquals() {\n      var selection = this.getSelection();\n      var managerSelection = this._manager.getSelection();\n\n      if (selection.getLength() !== managerSelection.length) {\n        return false;\n      }\n\n      for (var i = 0; i < selection.getLength(); i++) {\n        var item = selection.getItem(i);\n        var selectables = this._getSelectables();\n        var index = -1;\n\n        if (selectables != null) {\n          index = selectables.indexOf(item);\n        }\n        var row = this._reverseLookup(index);\n\n        if (row !== managerSelection[i]) {\n          return false;\n        }\n      }\n      return true;\n    },\n\n    /**\n     * Helper Method to select default item.\n     */\n    _applyDefaultSelection() {\n      if (this._manager != null) {\n        this._manager._applyDefaultSelection();\n      }\n    }\n  },\n\n  destruct() {\n    this._manager.dispose();\n    this._manager = null;\n    if (this.__selection) {\n      this.__selection.dispose();\n    }\n  }\n});\n"
  ],
  "mappings": "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"
}