{
  "version": 3,
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "extend",
    "ui",
    "virtual",
    "layer",
    "HtmlCell",
    "construct",
    "htmlCellProvider",
    "rowConfig",
    "columnConfig",
    "_spanManager",
    "CellSpanManager",
    "members",
    "setCellSpan",
    "row",
    "column",
    "rowSpan",
    "columnSpan",
    "id",
    "removeCell",
    "addCell",
    "core",
    "queue",
    "Widget",
    "add",
    "__renderCell",
    "htmlArr",
    "left",
    "top",
    "width",
    "height",
    "cellProperties",
    "_cellProvider",
    "getCellProperties",
    "insets",
    "push",
    "_getCellSizeStyle",
    "style",
    "classes",
    "attributes",
    "content",
    "_fullUpdate",
    "firstRow",
    "firstColumn",
    "rowSizes",
    "columnSizes",
    "html",
    "cells",
    "findCellsInWindow",
    "length",
    "bounds",
    "getCellBounds",
    "spanMap",
    "computeCellSpanMap",
    "i",
    "l",
    "cell",
    "cellBounds",
    "x",
    "y",
    "getContentElement",
    "setAttribute",
    "join",
    "destruct",
    "_disposeObjects",
    "HtmlCellSpan"
  ],
  "sources": [
    "/home/runner/work/CometVisu/CometVisu/node_modules/@qooxdoo/framework/source/class/qx/ui/virtual/layer/HtmlCellSpan.js"
  ],
  "sourcesContent": [
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2009 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Fabian Jakobs (fjakobs)\n\n************************************************************************ */\n\n/**\n * An extended HtmlCell layer, which adds the possibility to specify row and\n * column spans for specific cells.\n */\nqx.Class.define(\"qx.ui.virtual.layer.HtmlCellSpan\", {\n  extend: qx.ui.virtual.layer.HtmlCell,\n\n  /**\n   * @param htmlCellProvider {qx.ui.virtual.core.IHtmlCellProvider} This class\n   *    provides the HTML markup for each cell.\n   * @param rowConfig {qx.ui.virtual.core.Axis} The row configuration of the pane\n   *    in which the cells will be rendered\n   * @param columnConfig {qx.ui.virtual.core.Axis} The column configuration of\n   *    the pane in which the cells will be rendered\n   */\n  construct(htmlCellProvider, rowConfig, columnConfig) {\n    super(htmlCellProvider);\n    this._spanManager = new qx.ui.virtual.layer.CellSpanManager(\n      rowConfig,\n      columnConfig\n    );\n  },\n\n  /*\n  *****************************************************************************\n     MEMBERS\n  *****************************************************************************\n  */\n\n  members: {\n    /**\n     * Set the row and column span for a specific cell\n     *\n     * @param row {PositiveInteger} The cell's row\n     * @param column {PositiveInteger} The cell's column\n     * @param rowSpan {PositiveInteger} The number of rows the cells spans\n     * @param columnSpan {PositiveInteger} The number of columns the cells spans\n     */\n    setCellSpan(row, column, rowSpan, columnSpan) {\n      var id = row + \"x\" + column;\n      this._spanManager.removeCell(id);\n      if (rowSpan > 1 || columnSpan > 1) {\n        this._spanManager.addCell(id, row, column, rowSpan, columnSpan);\n      }\n      qx.ui.core.queue.Widget.add(this);\n    },\n\n    /**\n     * Renders a cell\n     *\n     * @param htmlArr {String[]} the output array\n     * @param row {Integer} The cell's row index\n     * @param column {Integer} The cell's column index\n     * @param left {Integer} The cell's CSS left position (in pixel)\n     * @param top {Integer} The cell's CSS top position (in pixel)\n     * @param width {Integer} The cell's width\n     * @param height {Integer} The cell's height\n     */\n    __renderCell(htmlArr, row, column, left, top, width, height) {\n      var cellProperties = this._cellProvider.getCellProperties(row, column);\n      var insets = cellProperties.insets || [0, 0];\n\n      htmlArr.push(\n        \"<div \",\n        \"style='\",\n        \"left:\",\n        left,\n        \"px;\",\n        \"top:\",\n        top,\n        \"px;\",\n        this._getCellSizeStyle(width, height, insets[0], insets[1]),\n        cellProperties.style || \"\",\n        \"' \",\n        \"class='\",\n        cellProperties.classes || \"\",\n        \"' \",\n        cellProperties.attributes || \"\",\n        \">\",\n        cellProperties.content || \"\",\n        \"</div>\"\n      );\n    },\n\n    // overridden\n    _fullUpdate(firstRow, firstColumn, rowSizes, columnSizes) {\n      var html = [];\n\n      var cells = this._spanManager.findCellsInWindow(\n        firstRow,\n        firstColumn,\n        rowSizes.length,\n        columnSizes.length\n      );\n\n      if (cells.length > 0) {\n        var bounds = this._spanManager.getCellBounds(\n          cells,\n          firstRow,\n          firstColumn\n        );\n\n        var spanMap = this._spanManager.computeCellSpanMap(\n          cells,\n          firstRow,\n          firstColumn,\n          rowSizes.length,\n          columnSizes.length\n        );\n\n        // render spanning cells\n        for (var i = 0, l = cells.length; i < l; i++) {\n          var cell = cells[i];\n          var cellBounds = bounds[i];\n          this.__renderCell(\n            html,\n            cell.firstRow,\n            cell.firstColumn,\n            cellBounds.left,\n            cellBounds.top,\n            cellBounds.width,\n            cellBounds.height\n          );\n        }\n      } else {\n        // create empty dummy map\n        spanMap = [];\n        for (var i = 0; i < rowSizes.length; i++) {\n          spanMap[firstRow + i] = [];\n        }\n      }\n\n      // render non spanning cells\n      var left = 0;\n      var top = 0;\n      var row = firstRow;\n      var column = firstColumn;\n      for (var x = 0; x < rowSizes.length; x++) {\n        var left = 0;\n        var column = firstColumn;\n        var height = rowSizes[x];\n        for (var y = 0; y < columnSizes.length; y++) {\n          var width = columnSizes[y];\n\n          if (!spanMap[row][column]) {\n            this.__renderCell(html, row, column, left, top, width, height);\n          }\n\n          column++;\n          left += width;\n        }\n        top += height;\n        row++;\n      }\n\n      this.getContentElement().setAttribute(\"html\", html.join(\"\"));\n    }\n  },\n\n  /*\n  *****************************************************************************\n     DESTRUCTOR\n  *****************************************************************************\n  */\n\n  destruct() {\n    this._disposeObjects(\"_spanManager\");\n  }\n});\n"
  ],
  "mappings": "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"
}