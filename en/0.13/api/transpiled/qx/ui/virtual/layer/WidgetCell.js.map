{
  "version": 3,
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "extend",
    "ui",
    "virtual",
    "layer",
    "Abstract",
    "include",
    "core",
    "MChildrenHandling",
    "construct",
    "widgetCellProvider",
    "setZIndex",
    "_cellProvider",
    "__spacerPool",
    "properties",
    "anonymous",
    "refine",
    "init",
    "events",
    "updated",
    "members",
    "getRenderedCellWidget",
    "row",
    "column",
    "_getChildren",
    "length",
    "columnCount",
    "getColumnSizes",
    "rowCount",
    "getRowSizes",
    "firstRow",
    "getFirstRow",
    "firstColumn",
    "getFirstColumn",
    "childIndex",
    "widget",
    "getUserData",
    "_getSpacer",
    "spacer",
    "pop",
    "Spacer",
    "setUserData",
    "_activateNotEmptyChild",
    "elementToPool",
    "active",
    "FocusHandler",
    "getInstance",
    "getActiveWidget",
    "Widget",
    "contains",
    "children",
    "i",
    "activate",
    "_fullUpdate",
    "rowSizes",
    "columnSizes",
    "cellProvider",
    "concat",
    "child",
    "push",
    "poolCellWidget",
    "top",
    "left",
    "visibleItems",
    "y",
    "x",
    "item",
    "getCellWidget",
    "setUserBounds",
    "_add",
    "forEach",
    "indexOf",
    "_remove",
    "bind",
    "fireEvent",
    "_updateLayerWindow",
    "lastRow",
    "lastColumn",
    "overlap",
    "Math",
    "max",
    "min",
    "_lastRow",
    "_lastColumn",
    "lineLength",
    "widgetsToMove",
    "widgetsToMoveIndexes",
    "index",
    "destruct",
    "dispose",
    "WidgetCell"
  ],
  "sources": [
    "/home/runner/work/CometVisu/CometVisu/node_modules/@qooxdoo/framework/source/class/qx/ui/virtual/layer/WidgetCell.js"
  ],
  "sourcesContent": [
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2009 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Fabian Jakobs (fjakobs)\n     * Jonathan Weiß (jonathan_rass)\n\n************************************************************************ */\n\n/**\n * The WidgetCell layer renders each cell with a qooxdoo widget. The concrete\n * widget instance for each cell is provided by a cell provider.\n */\nqx.Class.define(\"qx.ui.virtual.layer.WidgetCell\", {\n  extend: qx.ui.virtual.layer.Abstract,\n\n  include: [qx.ui.core.MChildrenHandling],\n\n  /**\n   * @param widgetCellProvider {qx.ui.virtual.core.IWidgetCellProvider} This\n   *    class manages the life cycle of the cell widgets.\n   */\n  construct(widgetCellProvider) {\n    super();\n    this.setZIndex(12);\n\n    if (qx.core.Environment.get(\"qx.debug\")) {\n      this.assertInterface(\n        widgetCellProvider,\n        qx.ui.virtual.core.IWidgetCellProvider\n      );\n    }\n\n    this._cellProvider = widgetCellProvider;\n    this.__spacerPool = [];\n  },\n\n  /*\n   *****************************************************************************\n      PROPERTIES\n   *****************************************************************************\n   */\n\n  properties: {\n    // overridden\n    anonymous: {\n      refine: true,\n      init: false\n    }\n  },\n\n  events: {\n    /**\n     * Is fired when the {@link #_fullUpdate} or the\n     * {@link #_updateLayerWindow} is finished.\n     */\n    updated: \"qx.event.type.Event\"\n  },\n\n  /*\n  *****************************************************************************\n     MEMBERS\n  *****************************************************************************\n  */\n\n  members: {\n    __spacerPool: null,\n\n    /**\n     * Returns the widget used to render the given cell. May return null if the\n     * cell isn’t rendered currently rendered.\n     *\n     * @param row {Integer} The cell's row index\n     * @param column {Integer} The cell's column index\n     * @return {qx.ui.core.LayoutItem|null} the widget used to render the given\n     *    cell or <code>null</code>\n     */\n    getRenderedCellWidget(row, column) {\n      if (this._getChildren().length === 0) {\n        return null;\n      }\n\n      var columnCount = this.getColumnSizes().length;\n      var rowCount = this.getRowSizes().length;\n\n      var firstRow = this.getFirstRow();\n      var firstColumn = this.getFirstColumn();\n\n      if (\n        row < firstRow ||\n        row >= firstRow + rowCount ||\n        column < firstColumn ||\n        column >= firstColumn + columnCount\n      ) {\n        return null;\n      }\n\n      var childIndex = column - firstColumn + (row - firstRow) * columnCount;\n      var widget = this._getChildren()[childIndex];\n\n      if (!widget || widget.getUserData(\"cell.empty\")) {\n        return null;\n      } else {\n        return widget;\n      }\n    },\n\n    /**\n     * Get the spacer widget, for empty cells\n     *\n     * @return {qx.ui.core.Spacer} The spacer widget.\n     */\n    _getSpacer() {\n      var spacer = this.__spacerPool.pop();\n      if (!spacer) {\n        spacer = new qx.ui.core.Spacer();\n        spacer.setUserData(\"cell.empty\", 1);\n      }\n      return spacer;\n    },\n\n    /**\n     * Activates one of the still not empty items.\n     * @param elementToPool {qx.ui.core.Widget} The widget which gets pooled.\n     */\n    _activateNotEmptyChild(elementToPool) {\n      // get the current active element\n      var active = qx.ui.core.FocusHandler.getInstance().getActiveWidget();\n      // if the element to pool is active or one of its children\n      if (\n        active == elementToPool ||\n        qx.ui.core.Widget.contains(elementToPool, active)\n      ) {\n        // search for a new child to activate\n        var children = this._getChildren();\n        for (var i = children.length - 1; i >= 0; i--) {\n          if (!children[i].getUserData(\"cell.empty\")) {\n            children[i].activate();\n            break;\n          }\n        }\n      }\n    },\n\n    // overridden\n    _fullUpdate(firstRow, firstColumn, rowSizes, columnSizes) {\n      var cellProvider = this._cellProvider;\n\n      var children = this._getChildren().concat();\n      for (var i = 0; i < children.length; i++) {\n        var child = children[i];\n        if (child.getUserData(\"cell.empty\")) {\n          this.__spacerPool.push(child);\n        } else {\n          this._activateNotEmptyChild(child);\n          cellProvider.poolCellWidget(child);\n        }\n      }\n\n      var top = 0;\n      var left = 0;\n\n      var visibleItems = [];\n\n      for (var y = 0; y < rowSizes.length; y++) {\n        for (var x = 0; x < columnSizes.length; x++) {\n          var row = firstRow + y;\n          var column = firstColumn + x;\n\n          var item =\n            cellProvider.getCellWidget(row, column) || this._getSpacer();\n\n          visibleItems.push(item);\n\n          item.setUserBounds(left, top, columnSizes[x], rowSizes[y]);\n          item.setUserData(\"cell.row\", row);\n          item.setUserData(\"cell.column\", column);\n          this._add(item);\n\n          left += columnSizes[x];\n        }\n        top += rowSizes[y];\n        left = 0;\n      }\n      children.forEach(\n        function (child) {\n          if (visibleItems.indexOf(child) === -1) {\n            this._remove(child);\n          }\n        }.bind(this)\n      );\n\n      this.fireEvent(\"updated\");\n    },\n\n    _updateLayerWindow(firstRow, firstColumn, rowSizes, columnSizes) {\n      // compute overlap of old and new window\n      //\n      //      +---+\n      //      |  ##--+\n      //      |  ##  |\n      //      +--##  |\n      //         +---+\n      //\n\n      if (qx.core.Environment.get(\"qx.debug\")) {\n        this.assertPositiveInteger(firstRow);\n        this.assertPositiveInteger(firstColumn);\n        this.assertArray(rowSizes);\n        this.assertArray(columnSizes);\n      }\n\n      var lastRow = firstRow + rowSizes.length - 1;\n      var lastColumn = firstColumn + columnSizes.length - 1;\n\n      var overlap = {\n        firstRow: Math.max(firstRow, this.getFirstRow()),\n        lastRow: Math.min(lastRow, this._lastRow),\n        firstColumn: Math.max(firstColumn, this.getFirstColumn()),\n        lastColumn: Math.min(lastColumn, this._lastColumn)\n      };\n\n      this._lastColumn = lastColumn;\n      this._lastRow = lastRow;\n\n      if (\n        overlap.firstRow > overlap.lastRow ||\n        overlap.firstColumn > overlap.lastColumn\n      ) {\n        return this._fullUpdate(firstRow, firstColumn, rowSizes, columnSizes);\n      }\n\n      // collect the widgets to move\n      var children = this._getChildren();\n      var lineLength = this.getColumnSizes().length;\n      var widgetsToMove = [];\n      var widgetsToMoveIndexes = {};\n      for (var row = firstRow; row <= lastRow; row++) {\n        widgetsToMove[row] = [];\n        for (var column = firstColumn; column <= lastColumn; column++) {\n          if (\n            row >= overlap.firstRow &&\n            row <= overlap.lastRow &&\n            column >= overlap.firstColumn &&\n            column <= overlap.lastColumn\n          ) {\n            var x = column - this.getFirstColumn();\n            var y = row - this.getFirstRow();\n            var index = y * lineLength + x;\n            widgetsToMove[row][column] = children[index];\n            widgetsToMoveIndexes[index] = true;\n          }\n        }\n      }\n\n      var cellProvider = this._cellProvider;\n\n      // pool widgets\n      var children = this._getChildren().concat();\n      for (var i = 0; i < children.length; i++) {\n        if (!widgetsToMoveIndexes[i]) {\n          var child = children[i];\n          if (child.getUserData(\"cell.empty\")) {\n            this.__spacerPool.push(child);\n          } else {\n            this._activateNotEmptyChild(child);\n            cellProvider.poolCellWidget(child);\n          }\n        }\n      }\n\n      var top = 0;\n      var left = 0;\n      var visibleItems = [];\n\n      for (var y = 0; y < rowSizes.length; y++) {\n        for (var x = 0; x < columnSizes.length; x++) {\n          var row = firstRow + y;\n          var column = firstColumn + x;\n\n          var item =\n            widgetsToMove[row][column] ||\n            cellProvider.getCellWidget(row, column) ||\n            this._getSpacer();\n\n          visibleItems.push(item);\n\n          item.setUserBounds(left, top, columnSizes[x], rowSizes[y]);\n          item.setUserData(\"cell.row\", row);\n          item.setUserData(\"cell.column\", column);\n          this._add(item);\n\n          left += columnSizes[x];\n        }\n        top += rowSizes[y];\n        left = 0;\n      }\n      children.forEach(\n        function (child) {\n          if (visibleItems.indexOf(child) === -1) {\n            this._remove(child);\n          }\n        }.bind(this)\n      );\n\n      this.fireEvent(\"updated\");\n    }\n  },\n\n  destruct() {\n    var children = this._getChildren();\n    for (var i = 0; i < children.length; i++) {\n      children[i].dispose();\n    }\n\n    this._cellProvider = this.__spacerPool = null;\n  }\n});\n"
  ],
  "mappings": "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"
}