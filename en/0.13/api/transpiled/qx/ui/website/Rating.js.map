{
  "version": 3,
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "define",
    "extend",
    "ui",
    "website",
    "Widget",
    "statics",
    "_config",
    "length",
    "symbol",
    "rating",
    "initValue",
    "Rating",
    "init",
    "modified",
    "undefined",
    "getConfig",
    "setConfig",
    "render",
    "setValue",
    "construct",
    "selector",
    "context",
    "constructor",
    "call",
    "events",
    "changeValue",
    "members",
    "superclass",
    "prototype",
    "_updateSymbolLength",
    "cssPrefix",
    "getCssPrefix",
    "getAttribute",
    "setAttribute",
    "on",
    "_onFocus",
    "_onBlur",
    "getChildren",
    "addClasses",
    "_onTap",
    "value",
    "getValue",
    "children",
    "removeClass",
    "slice",
    "addClass",
    "emit",
    "not",
    "setHtml",
    "diff",
    "i",
    "qxWeb",
    "create",
    "appendTo",
    "Math",
    "abs",
    "getLast",
    "off",
    "remove",
    "e",
    "parents",
    "getTarget",
    "getParents",
    "indexOf",
    "document",
    "documentElement",
    "_onKeyDown",
    "key",
    "getKeyIdentifier",
    "dispose",
    "defer",
    "$attach"
  ],
  "sources": [
    "/home/runner/work/CometVisu/CometVisu/node_modules/@qooxdoo/framework/source/class/qx/ui/website/Rating.js"
  ],
  "sourcesContent": [
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2013 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Martin Wittemann (wittemann)\n     * Daniel Wagner (danielwagner)\n\n************************************************************************ */\n/**\n * This is a simple rating widget which can be used to display a predefined\n * number of symbols which the user can click or tap to give a rating e.g.\n * 3 out of 5 stars.\n *\n * <h2>Markup</h2>\n * Each rating item is a span element. Span elements already existing within\n * the Rating's container will be used, otherwise new elements will be added or\n * removed according to the <code>length</code> config option.\n *\n * <h2>CSS Classes</h2>\n * <table>\n *   <thead>\n *     <tr>\n *       <td>Class Name</td>\n *       <td>Applied to</td>\n *       <td>Description</td>\n *     </tr>\n *   </thead>\n *   <tbody>\n *     <tr>\n *       <td><code>qx-rating</code></td>\n *       <td>Container element</td>\n *       <td>Identifies the Rating widget</td>\n *     </tr>\n *     <tr>\n *       <td><code>qx-rating-item</code></td>\n *       <td>Rating item (span)</td>\n *       <td>Identifies and styles an active Rating item</td>\n *     </tr>\n *     <tr>\n *       <td><code>qx-rating-item-off</code></td>\n *       <td>Rating item (span)</td>\n *       <td>Identifies and styles an inactive Rating item. Applied in addition to <code>qx-rating-item</code></td>\n *     </tr>\n *   </tbody>\n * </table>\n *\n * <h2 class=\"widget-markup\">Generated DOM Structure</h2>\n *\n * @group (Widget)\n */\nqx.Bootstrap.define(\"qx.ui.website.Rating\", {\n  extend: qx.ui.website.Widget,\n\n  statics: {\n    /**\n     * *length*\n     *\n     * The length of the rating widget.\n     *\n     * Default value: <pre>5</pre>\n     *\n     *\n     * *symbol*\n     *\n     * The symbol used to render the rating items. This can be any\n     * String e.g. a UTF-8 character.\n     *\n     * Default value: <pre>★</pre>\n     */\n    _config: {\n      length: 5,\n      symbol: \"★\"\n    },\n\n    /**\n     * Factory method which converts the current collection into a collection of\n     * rating widgets. Therefore, an initialization process needs to be done which\n     * can be configured with some parameter.\n     *\n     * @param initValue {Number?0} The initial value of the rating.\n     * @param symbol {String?\"★\"} The symbol which should be used for each rating item.\n     * @param length {Number?5} The length of the rating widget.\n     * @return {qx.ui.website.Rating} A new rating collection.\n     * @attach {qxWeb}\n     */\n    rating(initValue, symbol, length) {\n      var rating = new qx.ui.website.Rating(this);\n      rating.init();\n\n      var modified = false;\n      if (length != undefined && length != rating.getConfig(\"length\")) {\n        rating.setConfig(\"length\", length);\n        modified = true;\n      }\n\n      if (symbol != undefined) {\n        rating.setConfig(\"symbol\", symbol);\n        modified = true;\n      }\n\n      if (modified) {\n        rating.render();\n      }\n\n      if (initValue != undefined) {\n        rating.setValue(initValue);\n      }\n\n      return rating;\n    }\n  },\n\n  construct(selector, context) {\n    super(selector, context);\n  },\n\n  events: {\n    /** Fired at each value change */\n    changeValue: \"Number\"\n  },\n\n  members: {\n    // overridden\n    init() {\n      if (!super.init()) {\n        return false;\n      }\n\n      this._updateSymbolLength();\n      var cssPrefix = this.getCssPrefix();\n\n      if (this.getAttribute(\"tabindex\") < 0) {\n        this.setAttribute(\"tabindex\", 0);\n      }\n      this.on(\"focus\", this._onFocus, this)\n        .on(\"blur\", this._onBlur, this)\n        .getChildren(\"span\")\n        .addClasses([cssPrefix + \"-item\", cssPrefix + \"-item-off\"])\n        .on(\"tap\", this._onTap, this);\n\n      return true;\n    },\n\n    /**\n     * Sets the given value of the raining widget's in the collection. The value will be\n     * converted to the maximum or minimum if our of range.\n     *\n     * @param value {Number} The value of the rating.\n     * @return {qx.ui.website.Rating} <code>this</code> reference for chaining.\n     */\n    setValue(value) {\n      if (this.getValue() == value) {\n        return this;\n      }\n      if (value < 0) {\n        value = 0;\n      }\n      var cssPrefix = this.getCssPrefix();\n\n      var children = this.getChildren(\"span\");\n      children.removeClass(cssPrefix + \"-item-off\");\n      children.slice(value, children.length).addClass(cssPrefix + \"-item-off\");\n      this.emit(\"changeValue\", this.getValue());\n      return this;\n    },\n\n    /**\n     * Reads the current value of the first rating widget in the collection\n     * from the DOM and returns it.\n     *\n     * @return {Number} The current value.\n     */\n    getValue() {\n      var cssPrefix = this.getCssPrefix();\n      return this.getChildren(\"span\").not(\".\" + cssPrefix + \"-item-off\").length;\n    },\n\n    // overridden\n    render() {\n      this._updateSymbolLength();\n    },\n\n    /**\n     * Checks the set length and adds / removes spans containing the rating symbol.\n     *\n     * @return {qx.ui.website.Rating} <code>this</code> reference for chaining.\n     */\n    _updateSymbolLength() {\n      var cssPrefix = this.getCssPrefix();\n      var length = this.getConfig(\"length\");\n\n      var children = this.getChildren();\n      children.setHtml(this.getConfig(\"symbol\"));\n      var diff = length - children.length;\n      if (diff > 0) {\n        for (var i = 0; i < diff; i++) {\n          qxWeb\n            .create(\"<span>\" + this.getConfig(\"symbol\") + \"</span>\")\n            .on(\"tap\", this._onTap, this)\n            .addClasses([cssPrefix + \"-item\", cssPrefix + \"-item-off\"])\n            .appendTo(this);\n        }\n      } else {\n        for (var i = 0; i < Math.abs(diff); i++) {\n          this.getChildren().getLast().off(\"tap\", this._onTap, this).remove();\n        }\n      }\n\n      return this;\n    },\n\n    /**\n     * Tap handler which updates the value depending on the selected element.\n     *\n     * @param e {Event} tap event\n     */\n    _onTap(e) {\n      var parents = qxWeb(e.getTarget()).getParents();\n      this.setValue(parents.getChildren().indexOf(e.getTarget()) + 1);\n    },\n\n    /**\n     * Attaches the keydown listener.\n     * @param e {Event} The native focus event.\n     */\n    _onFocus(e) {\n      qxWeb(document.documentElement).on(\"keydown\", this._onKeyDown, this);\n    },\n\n    /**\n     * Removes the keydown listener if the widget loses focus.\n     *\n     * @param e {Event} The native blur event.\n     */\n    _onBlur(e) {\n      qxWeb(document.documentElement).off(\"keydown\", this._onKeyDown, this);\n    },\n\n    /**\n     * Changes the value if the left or right arrow key is pressed.\n     *\n     * @param e {Event} The native keydown event.\n     */\n    _onKeyDown(e) {\n      var key = e.getKeyIdentifier();\n      if (key === \"Right\") {\n        this.setValue(this.getValue() + 1);\n      } else if (key === \"Left\") {\n        this.setValue(this.getValue() - 1);\n      }\n    },\n\n    // overridden\n    dispose() {\n      qxWeb(document.documentElement).off(\"keydown\", this._onKeyDown, this);\n      this.off(\"focus\", this._onFocus, this).off(\"blur\", this._onBlur, this);\n      this.getChildren(\"span\").off(\"tap\", this._onTap, this);\n      this.setHtml(\"\");\n\n      return super.dispose();\n    }\n  },\n\n  defer(statics) {\n    qxWeb.$attach({ rating: statics.rating });\n  }\n});\n"
  ],
  "mappings": ";;;;;;;;;;;;;;;;EAAAA,EAAE,CAACC,SAAS,CAACC,oBAAoB,CAACC,aAAa,CAAC;EAAhD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EACAH,EAAE,CAACC,SAAS,CAACG,MAAM,CAAC,sBAAsB,EAAE;IAC1CC,MAAM,EAAEL,EAAE,CAACM,EAAE,CAACC,OAAO,CAACC,MAAM;IAE5BC,OAAO,EAAE;MACP;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;MACIC,OAAO,EAAE;QACPC,MAAM,EAAE,CAAC;QACTC,MAAM,EAAE;MACV,CAAC;MAED;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;MACIC,MAAM,WAAAA,OAACC,SAAS,EAAEF,MAAM,EAAED,MAAM,EAAE;QAChC,IAAIE,MAAM,GAAG,IAAIb,EAAE,CAACM,EAAE,CAACC,OAAO,CAACQ,MAAM,CAAC,IAAI,CAAC;QAC3CF,MAAM,CAACG,IAAI,EAAE;QAEb,IAAIC,QAAQ,GAAG,KAAK;QACpB,IAAIN,MAAM,IAAIO,SAAS,IAAIP,MAAM,IAAIE,MAAM,CAACM,SAAS,CAAC,QAAQ,CAAC,EAAE;UAC/DN,MAAM,CAACO,SAAS,CAAC,QAAQ,EAAET,MAAM,CAAC;UAClCM,QAAQ,GAAG,IAAI;QACjB;QAEA,IAAIL,MAAM,IAAIM,SAAS,EAAE;UACvBL,MAAM,CAACO,SAAS,CAAC,QAAQ,EAAER,MAAM,CAAC;UAClCK,QAAQ,GAAG,IAAI;QACjB;QAEA,IAAIA,QAAQ,EAAE;UACZJ,MAAM,CAACQ,MAAM,EAAE;QACjB;QAEA,IAAIP,SAAS,IAAII,SAAS,EAAE;UAC1BL,MAAM,CAACS,QAAQ,CAACR,SAAS,CAAC;QAC5B;QAEA,OAAOD,MAAM;MACf;IACF,CAAC;IAEDU,SAAS,WAAAA,UAACC,QAAQ,EAAEC,OAAO,EAAE;MAC3BzB,EAAA,CAAAM,EAAA,CAAAC,OAAA,CAAAC,MAAA,CAAAkB,WAAA,CAAAC,IAAA,OAAMH,QAAQ,EAAEC,OAAO;IACzB,CAAC;IAEDG,MAAM,EAAE;MACN;MACAC,WAAW,EAAE;IACf,CAAC;IAEDC,OAAO,EAAE;MACP;MACAd,IAAI,WAAAA,KAAA,EAAG;QACL,IAAI,CAAAhB,EAAA,CAAAM,EAAA,CAAAC,OAAA,CAAAQ,MAAA,CAAAgB,UAAA,CAAAC,SAAA,CAAAhB,IAAA,CAAAW,IAAA,MAAa,EAAE;UACjB,OAAO,KAAK;QACd;QAEA,IAAI,CAACM,mBAAmB,EAAE;QAC1B,IAAIC,SAAS,GAAG,IAAI,CAACC,YAAY,EAAE;QAEnC,IAAI,IAAI,CAACC,YAAY,CAAC,UAAU,CAAC,GAAG,CAAC,EAAE;UACrC,IAAI,CAACC,YAAY,CAAC,UAAU,EAAE,CAAC,CAAC;QAClC;QACA,IAAI,CAACC,EAAE,CAAC,OAAO,EAAE,IAAI,CAACC,QAAQ,EAAE,IAAI,CAAC,CAClCD,EAAE,CAAC,MAAM,EAAE,IAAI,CAACE,OAAO,EAAE,IAAI,CAAC,CAC9BC,WAAW,CAAC,MAAM,CAAC,CACnBC,UAAU,CAAC,CAACR,SAAS,GAAG,OAAO,EAAEA,SAAS,GAAG,WAAW,CAAC,CAAC,CAC1DI,EAAE,CAAC,KAAK,EAAE,IAAI,CAACK,MAAM,EAAE,IAAI,CAAC;QAE/B,OAAO,IAAI;MACb,CAAC;MAED;AACJ;AACA;AACA;AACA;AACA;AACA;MACIrB,QAAQ,WAAAA,SAACsB,KAAK,EAAE;QACd,IAAI,IAAI,CAACC,QAAQ,EAAE,IAAID,KAAK,EAAE;UAC5B,OAAO,IAAI;QACb;QACA,IAAIA,KAAK,GAAG,CAAC,EAAE;UACbA,KAAK,GAAG,CAAC;QACX;QACA,IAAIV,SAAS,GAAG,IAAI,CAACC,YAAY,EAAE;QAEnC,IAAIW,QAAQ,GAAG,IAAI,CAACL,WAAW,CAAC,MAAM,CAAC;QACvCK,QAAQ,CAACC,WAAW,CAACb,SAAS,GAAG,WAAW,CAAC;QAC7CY,QAAQ,CAACE,KAAK,CAACJ,KAAK,EAAEE,QAAQ,CAACnC,MAAM,CAAC,CAACsC,QAAQ,CAACf,SAAS,GAAG,WAAW,CAAC;QACxE,IAAI,CAACgB,IAAI,CAAC,aAAa,EAAE,IAAI,CAACL,QAAQ,EAAE,CAAC;QACzC,OAAO,IAAI;MACb,CAAC;MAED;AACJ;AACA;AACA;AACA;AACA;MACIA,QAAQ,WAAAA,SAAA,EAAG;QACT,IAAIX,SAAS,GAAG,IAAI,CAACC,YAAY,EAAE;QACnC,OAAO,IAAI,CAACM,WAAW,CAAC,MAAM,CAAC,CAACU,GAAG,CAAC,GAAG,GAAGjB,SAAS,GAAG,WAAW,CAAC,CAACvB,MAAM;MAC3E,CAAC;MAED;MACAU,MAAM,WAAAA,OAAA,EAAG;QACP,IAAI,CAACY,mBAAmB,EAAE;MAC5B,CAAC;MAED;AACJ;AACA;AACA;AACA;MACIA,mBAAmB,WAAAA,oBAAA,EAAG;QACpB,IAAIC,SAAS,GAAG,IAAI,CAACC,YAAY,EAAE;QACnC,IAAIxB,MAAM,GAAG,IAAI,CAACQ,SAAS,CAAC,QAAQ,CAAC;QAErC,IAAI2B,QAAQ,GAAG,IAAI,CAACL,WAAW,EAAE;QACjCK,QAAQ,CAACM,OAAO,CAAC,IAAI,CAACjC,SAAS,CAAC,QAAQ,CAAC,CAAC;QAC1C,IAAIkC,IAAI,GAAG1C,MAAM,GAAGmC,QAAQ,CAACnC,MAAM;QACnC,IAAI0C,IAAI,GAAG,CAAC,EAAE;UACZ,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGD,IAAI,EAAEC,CAAC,EAAE,EAAE;YAC7BC,KAAK,CACFC,MAAM,CAAC,QAAQ,GAAG,IAAI,CAACrC,SAAS,CAAC,QAAQ,CAAC,GAAG,SAAS,CAAC,CACvDmB,EAAE,CAAC,KAAK,EAAE,IAAI,CAACK,MAAM,EAAE,IAAI,CAAC,CAC5BD,UAAU,CAAC,CAACR,SAAS,GAAG,OAAO,EAAEA,SAAS,GAAG,WAAW,CAAC,CAAC,CAC1DuB,QAAQ,CAAC,IAAI,CAAC;UACnB;QACF,CAAC,MAAM;UACL,KAAK,IAAIH,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGI,IAAI,CAACC,GAAG,CAACN,IAAI,CAAC,EAAEC,CAAC,EAAE,EAAE;YACvC,IAAI,CAACb,WAAW,EAAE,CAACmB,OAAO,EAAE,CAACC,GAAG,CAAC,KAAK,EAAE,IAAI,CAAClB,MAAM,EAAE,IAAI,CAAC,CAACmB,MAAM,EAAE;UACrE;QACF;QAEA,OAAO,IAAI;MACb,CAAC;MAED;AACJ;AACA;AACA;AACA;MACInB,MAAM,WAAAA,OAACoB,CAAC,EAAE;QACR,IAAIC,OAAO,GAAGT,KAAK,CAACQ,CAAC,CAACE,SAAS,EAAE,CAAC,CAACC,UAAU,EAAE;QAC/C,IAAI,CAAC5C,QAAQ,CAAC0C,OAAO,CAACvB,WAAW,EAAE,CAAC0B,OAAO,CAACJ,CAAC,CAACE,SAAS,EAAE,CAAC,GAAG,CAAC,CAAC;MACjE,CAAC;MAED;AACJ;AACA;AACA;MACI1B,QAAQ,WAAAA,SAACwB,CAAC,EAAE;QACVR,KAAK,CAACa,QAAQ,CAACC,eAAe,CAAC,CAAC/B,EAAE,CAAC,SAAS,EAAE,IAAI,CAACgC,UAAU,EAAE,IAAI,CAAC;MACtE,CAAC;MAED;AACJ;AACA;AACA;AACA;MACI9B,OAAO,WAAAA,QAACuB,CAAC,EAAE;QACTR,KAAK,CAACa,QAAQ,CAACC,eAAe,CAAC,CAACR,GAAG,CAAC,SAAS,EAAE,IAAI,CAACS,UAAU,EAAE,IAAI,CAAC;MACvE,CAAC;MAED;AACJ;AACA;AACA;AACA;MACIA,UAAU,WAAAA,WAACP,CAAC,EAAE;QACZ,IAAIQ,GAAG,GAAGR,CAAC,CAACS,gBAAgB,EAAE;QAC9B,IAAID,GAAG,KAAK,OAAO,EAAE;UACnB,IAAI,CAACjD,QAAQ,CAAC,IAAI,CAACuB,QAAQ,EAAE,GAAG,CAAC,CAAC;QACpC,CAAC,MAAM,IAAI0B,GAAG,KAAK,MAAM,EAAE;UACzB,IAAI,CAACjD,QAAQ,CAAC,IAAI,CAACuB,QAAQ,EAAE,GAAG,CAAC,CAAC;QACpC;MACF,CAAC;MAED;MACA4B,OAAO,WAAAA,QAAA,EAAG;QACRlB,KAAK,CAACa,QAAQ,CAACC,eAAe,CAAC,CAACR,GAAG,CAAC,SAAS,EAAE,IAAI,CAACS,UAAU,EAAE,IAAI,CAAC;QACrE,IAAI,CAACT,GAAG,CAAC,OAAO,EAAE,IAAI,CAACtB,QAAQ,EAAE,IAAI,CAAC,CAACsB,GAAG,CAAC,MAAM,EAAE,IAAI,CAACrB,OAAO,EAAE,IAAI,CAAC;QACtE,IAAI,CAACC,WAAW,CAAC,MAAM,CAAC,CAACoB,GAAG,CAAC,KAAK,EAAE,IAAI,CAAClB,MAAM,EAAE,IAAI,CAAC;QACtD,IAAI,CAACS,OAAO,CAAC,EAAE,CAAC;QAEhB,OAAApD,EAAA,CAAAM,EAAA,CAAAC,OAAA,CAAAQ,MAAA,CAAAgB,UAAA,CAAAC,SAAA,CAAAyC,OAAA,CAAA9C,IAAA;MACF;IACF,CAAC;IAED+C,KAAK,WAAAA,MAACjE,OAAO,EAAE;MACb8C,KAAK,CAACoB,OAAO,CAAC;QAAE9D,MAAM,EAAEJ,OAAO,CAACI;MAAO,CAAC,CAAC;IAC3C;EACF,CAAC,CAAC;EApRFb,EAAE,CAACM,EAAE,CAACC,OAAO,CAACQ,MAAM,CAACZ,aAAa,GAAGA,aAAa;AAAC"
}