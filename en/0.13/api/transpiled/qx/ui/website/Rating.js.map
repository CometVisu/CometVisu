{
  "version": 3,
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "define",
    "extend",
    "ui",
    "website",
    "Widget",
    "statics",
    "_config",
    "length",
    "symbol",
    "rating",
    "initValue",
    "Rating",
    "init",
    "modified",
    "undefined",
    "getConfig",
    "setConfig",
    "render",
    "setValue",
    "construct",
    "selector",
    "context",
    "constructor",
    "call",
    "events",
    "changeValue",
    "members",
    "superclass",
    "prototype",
    "_updateSymbolLength",
    "cssPrefix",
    "getCssPrefix",
    "getAttribute",
    "setAttribute",
    "on",
    "_onFocus",
    "_onBlur",
    "getChildren",
    "addClasses",
    "_onTap",
    "value",
    "getValue",
    "children",
    "removeClass",
    "slice",
    "addClass",
    "emit",
    "not",
    "setHtml",
    "diff",
    "i",
    "qxWeb",
    "create",
    "appendTo",
    "Math",
    "abs",
    "getLast",
    "off",
    "remove",
    "e",
    "parents",
    "getTarget",
    "getParents",
    "indexOf",
    "document",
    "documentElement",
    "_onKeyDown",
    "key",
    "getKeyIdentifier",
    "dispose",
    "defer",
    "$attach"
  ],
  "sources": [
    "/home/runner/work/CometVisu/CometVisu/node_modules/@qooxdoo/framework/source/class/qx/ui/website/Rating.js"
  ],
  "sourcesContent": [
    "/* ************************************************************************\r\n\r\n   qooxdoo - the new era of web development\r\n\r\n   http://qooxdoo.org\r\n\r\n   Copyright:\r\n     2013 1&1 Internet AG, Germany, http://www.1und1.de\r\n\r\n   License:\r\n     MIT: https://opensource.org/licenses/MIT\r\n     See the LICENSE file in the project's top-level directory for details.\r\n\r\n   Authors:\r\n     * Martin Wittemann (wittemann)\r\n     * Daniel Wagner (danielwagner)\r\n\r\n************************************************************************ */\r\n/**\r\n * This is a simple rating widget which can be used to display a predefined\r\n * number of symbols which the user can click or tap to give a rating e.g.\r\n * 3 out of 5 stars.\r\n *\r\n * <h2>Markup</h2>\r\n * Each rating item is a span element. Span elements already existing within\r\n * the Rating's container will be used, otherwise new elements will be added or\r\n * removed according to the <code>length</code> config option.\r\n *\r\n * <h2>CSS Classes</h2>\r\n * <table>\r\n *   <thead>\r\n *     <tr>\r\n *       <td>Class Name</td>\r\n *       <td>Applied to</td>\r\n *       <td>Description</td>\r\n *     </tr>\r\n *   </thead>\r\n *   <tbody>\r\n *     <tr>\r\n *       <td><code>qx-rating</code></td>\r\n *       <td>Container element</td>\r\n *       <td>Identifies the Rating widget</td>\r\n *     </tr>\r\n *     <tr>\r\n *       <td><code>qx-rating-item</code></td>\r\n *       <td>Rating item (span)</td>\r\n *       <td>Identifies and styles an active Rating item</td>\r\n *     </tr>\r\n *     <tr>\r\n *       <td><code>qx-rating-item-off</code></td>\r\n *       <td>Rating item (span)</td>\r\n *       <td>Identifies and styles an inactive Rating item. Applied in addition to <code>qx-rating-item</code></td>\r\n *     </tr>\r\n *   </tbody>\r\n * </table>\r\n *\r\n * <h2 class=\"widget-markup\">Generated DOM Structure</h2>\r\n *\r\n * @group (Widget)\r\n */\r\nqx.Bootstrap.define(\"qx.ui.website.Rating\", {\r\n  extend: qx.ui.website.Widget,\r\n\r\n  statics: {\r\n    /**\r\n     * *length*\r\n     *\r\n     * The length of the rating widget.\r\n     *\r\n     * Default value: <pre>5</pre>\r\n     *\r\n     *\r\n     * *symbol*\r\n     *\r\n     * The symbol used to render the rating items. This can be any\r\n     * String e.g. a UTF-8 character.\r\n     *\r\n     * Default value: <pre>★</pre>\r\n     */\r\n    _config: {\r\n      length: 5,\r\n      symbol: \"★\"\r\n    },\r\n\r\n    /**\r\n     * Factory method which converts the current collection into a collection of\r\n     * rating widgets. Therefore, an initialization process needs to be done which\r\n     * can be configured with some parameter.\r\n     *\r\n     * @param initValue {Number?0} The initial value of the rating.\r\n     * @param symbol {String?\"★\"} The symbol which should be used for each rating item.\r\n     * @param length {Number?5} The length of the rating widget.\r\n     * @return {qx.ui.website.Rating} A new rating collection.\r\n     * @attach {qxWeb}\r\n     */\r\n    rating(initValue, symbol, length) {\r\n      var rating = new qx.ui.website.Rating(this);\r\n      rating.init();\r\n\r\n      var modified = false;\r\n      if (length != undefined && length != rating.getConfig(\"length\")) {\r\n        rating.setConfig(\"length\", length);\r\n        modified = true;\r\n      }\r\n\r\n      if (symbol != undefined) {\r\n        rating.setConfig(\"symbol\", symbol);\r\n        modified = true;\r\n      }\r\n\r\n      if (modified) {\r\n        rating.render();\r\n      }\r\n\r\n      if (initValue != undefined) {\r\n        rating.setValue(initValue);\r\n      }\r\n\r\n      return rating;\r\n    }\r\n  },\r\n\r\n  construct(selector, context) {\r\n    super(selector, context);\r\n  },\r\n\r\n  events: {\r\n    /** Fired at each value change */\r\n    changeValue: \"Number\"\r\n  },\r\n\r\n  members: {\r\n    // overridden\r\n    init() {\r\n      if (!super.init()) {\r\n        return false;\r\n      }\r\n\r\n      this._updateSymbolLength();\r\n      var cssPrefix = this.getCssPrefix();\r\n\r\n      if (this.getAttribute(\"tabindex\") < 0) {\r\n        this.setAttribute(\"tabindex\", 0);\r\n      }\r\n      this.on(\"focus\", this._onFocus, this)\r\n        .on(\"blur\", this._onBlur, this)\r\n        .getChildren(\"span\")\r\n        .addClasses([cssPrefix + \"-item\", cssPrefix + \"-item-off\"])\r\n        .on(\"tap\", this._onTap, this);\r\n\r\n      return true;\r\n    },\r\n\r\n    /**\r\n     * Sets the given value of the raining widget's in the collection. The value will be\r\n     * converted to the maximum or minimum if our of range.\r\n     *\r\n     * @param value {Number} The value of the rating.\r\n     * @return {qx.ui.website.Rating} <code>this</code> reference for chaining.\r\n     */\r\n    setValue(value) {\r\n      if (this.getValue() == value) {\r\n        return this;\r\n      }\r\n      if (value < 0) {\r\n        value = 0;\r\n      }\r\n      var cssPrefix = this.getCssPrefix();\r\n\r\n      var children = this.getChildren(\"span\");\r\n      children.removeClass(cssPrefix + \"-item-off\");\r\n      children.slice(value, children.length).addClass(cssPrefix + \"-item-off\");\r\n      this.emit(\"changeValue\", this.getValue());\r\n      return this;\r\n    },\r\n\r\n    /**\r\n     * Reads the current value of the first rating widget in the collection\r\n     * from the DOM and returns it.\r\n     *\r\n     * @return {Number} The current value.\r\n     */\r\n    getValue() {\r\n      var cssPrefix = this.getCssPrefix();\r\n      return this.getChildren(\"span\").not(\".\" + cssPrefix + \"-item-off\").length;\r\n    },\r\n\r\n    // overridden\r\n    render() {\r\n      this._updateSymbolLength();\r\n    },\r\n\r\n    /**\r\n     * Checks the set length and adds / removes spans containing the rating symbol.\r\n     *\r\n     * @return {qx.ui.website.Rating} <code>this</code> reference for chaining.\r\n     */\r\n    _updateSymbolLength() {\r\n      var cssPrefix = this.getCssPrefix();\r\n      var length = this.getConfig(\"length\");\r\n\r\n      var children = this.getChildren();\r\n      children.setHtml(this.getConfig(\"symbol\"));\r\n      var diff = length - children.length;\r\n      if (diff > 0) {\r\n        for (var i = 0; i < diff; i++) {\r\n          qxWeb\r\n            .create(\"<span>\" + this.getConfig(\"symbol\") + \"</span>\")\r\n            .on(\"tap\", this._onTap, this)\r\n            .addClasses([cssPrefix + \"-item\", cssPrefix + \"-item-off\"])\r\n            .appendTo(this);\r\n        }\r\n      } else {\r\n        for (var i = 0; i < Math.abs(diff); i++) {\r\n          this.getChildren().getLast().off(\"tap\", this._onTap, this).remove();\r\n        }\r\n      }\r\n\r\n      return this;\r\n    },\r\n\r\n    /**\r\n     * Tap handler which updates the value depending on the selected element.\r\n     *\r\n     * @param e {Event} tap event\r\n     */\r\n    _onTap(e) {\r\n      var parents = qxWeb(e.getTarget()).getParents();\r\n      this.setValue(parents.getChildren().indexOf(e.getTarget()) + 1);\r\n    },\r\n\r\n    /**\r\n     * Attaches the keydown listener.\r\n     * @param e {Event} The native focus event.\r\n     */\r\n    _onFocus(e) {\r\n      qxWeb(document.documentElement).on(\"keydown\", this._onKeyDown, this);\r\n    },\r\n\r\n    /**\r\n     * Removes the keydown listener if the widget loses focus.\r\n     *\r\n     * @param e {Event} The native blur event.\r\n     */\r\n    _onBlur(e) {\r\n      qxWeb(document.documentElement).off(\"keydown\", this._onKeyDown, this);\r\n    },\r\n\r\n    /**\r\n     * Changes the value if the left or right arrow key is pressed.\r\n     *\r\n     * @param e {Event} The native keydown event.\r\n     */\r\n    _onKeyDown(e) {\r\n      var key = e.getKeyIdentifier();\r\n      if (key === \"Right\") {\r\n        this.setValue(this.getValue() + 1);\r\n      } else if (key === \"Left\") {\r\n        this.setValue(this.getValue() - 1);\r\n      }\r\n    },\r\n\r\n    // overridden\r\n    dispose() {\r\n      qxWeb(document.documentElement).off(\"keydown\", this._onKeyDown, this);\r\n      this.off(\"focus\", this._onFocus, this).off(\"blur\", this._onBlur, this);\r\n      this.getChildren(\"span\").off(\"tap\", this._onTap, this);\r\n      this.setHtml(\"\");\r\n\r\n      return super.dispose();\r\n    }\r\n  },\r\n\r\n  defer(statics) {\r\n    qxWeb.$attach({ rating: statics.rating });\r\n  }\r\n});\r\n"
  ],
  "mappings": "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"
}