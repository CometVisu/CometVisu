{
  "version": 3,
  "sources": [
    "/home/runner/work/CometVisu/CometVisu/node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/ui/website/Carousel.js"
  ],
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "define",
    "extend",
    "ui",
    "website",
    "Widget",
    "statics",
    "_config",
    "pageSwitchDuration",
    "carousel",
    "Carousel",
    "init",
    "construct",
    "selector",
    "context",
    "members",
    "__active",
    "__pageContainer",
    "__scrollContainer",
    "__paginationLabels",
    "__startPosLeft",
    "__pagination",
    "_ie9",
    "__blocked",
    "core",
    "Environment",
    "get",
    "setConfig",
    "addClass",
    "qxWeb",
    "window",
    "on",
    "_onResize",
    "prefix",
    "getCssPrefix",
    "create",
    "appendTo",
    "setStyle",
    "addClasses",
    "_onTrackStart",
    "_onTrack",
    "_onTrackEnd",
    "_onSwipe",
    "render",
    "pages",
    "find",
    "forEach",
    "page",
    "addPage",
    "bind",
    "length",
    "setActive",
    "eq",
    "old",
    "_update",
    "data",
    "value",
    "target",
    "emit",
    "getActive",
    "nextPage",
    "_getPages",
    "next",
    "getNext",
    "previousPage",
    "prev",
    "getPrev",
    "child",
    "paginationLabel",
    "_createPaginationLabel",
    "push",
    "append",
    "_updateWidth",
    "_updateOrder",
    "translate",
    "getWidth",
    "_updatePagination",
    "removePage",
    "remove",
    "empty",
    "_setOrder",
    "splice",
    "priorPosition",
    "i",
    "getChildren",
    "setHtml",
    "_translateTo",
    "left",
    "direction",
    "_getPositionLeft",
    "undefined",
    "index",
    "indexOf",
    "scrollDirection",
    "orderBefore",
    "_getOrder",
    "activeIndex",
    "order",
    "isRendered",
    "getProperty",
    "hasListener",
    "once",
    "containerWidth",
    "stop",
    "Math",
    "round",
    "e",
    "delta",
    "axis",
    "x",
    "setTimeout",
    "isPlaying",
    "width",
    "oldActive",
    "velocity",
    "abs",
    "getVelocity",
    "getAxis",
    "getDirection",
    "paginationIndex",
    "_onPaginationLabelTap",
    "label",
    "currentTarget",
    "distance",
    "removeClass",
    "animate",
    "duration",
    "getConfig",
    "keep",
    "timing",
    "keyFrames",
    "col",
    "setStyles",
    "msFlexOrder",
    "parseInt",
    "getStyle",
    "isNaN",
    "containerRect",
    "getBoundingClientRect",
    "parentRect",
    "dispose",
    "off",
    "defer",
    "$attach"
  ],
  "mappings": "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",
  "sourcesContent": [
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2014-2015 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n************************************************************************ */\n\n/**\n * A carousel is a widget which can switch between several sub pages {@link qx.ui.website.Widget}.\n * A page switch is triggered by a swipe to left, for next page, or a swipe to right for\n * previous page. Pages can also be switched by dragging.\n *\n * A carousel shows by default a pagination indicator at the bottom of the carousel.\n *\n * @require(qx.module.Transform)\n * @require(qx.module.event.Swipe)\n * @require(qx.module.event.GestureHandler)\n * @require(qx.module.event.Track)\n */\nqx.Bootstrap.define(\"qx.ui.website.Carousel\",\n{\n  extend : qx.ui.website.Widget,\n\n  statics: {\n\n    _config : {\n      /**\n       * The time in milliseconds for the page switch animation.\n       */\n      pageSwitchDuration: 500\n    },\n\n\n    /**\n     * Factory method which converts the current collection into a collection of\n     * Carousel widgets.\n     *\n     * @return {qx.ui.website.Carousel} A new carousel collection.\n     * @attach {qxWeb}\n     */\n    carousel: function() {\n      var carousel =  new qx.ui.website.Carousel(this);\n      carousel.init();\n\n      return carousel;\n    }\n\n  },\n\n\n  construct : function(selector, context) {\n    this.base(arguments, selector, context);\n  },\n\n\n  members: {\n    __active: null,\n    __pageContainer: null,\n    __scrollContainer: null,\n    __paginationLabels: null,\n    __startPosLeft: null,\n    __pagination: null,\n    _ie9: false,\n    __blocked : false,\n\n\n    // overridden\n    init : function() {\n      if (!this.base(arguments)) {\n        return false;\n      }\n\n      this._ie9 = qx.core.Environment.get(\"browser.documentmode\") === 9;\n\n      if (this._ie9) {\n        this.setConfig(\"pageSwitchDuration\", 10);\n      } else {\n        this.addClass(\"qx-flex-ready\");\n      }\n\n      qxWeb(window).on(\"resize\", this._onResize, this);\n\n      var prefix = this.getCssPrefix();\n\n      this.__scrollContainer = qxWeb.create(\"<div>\")\n        .addClass(prefix + \"-container\")\n        .appendTo(this);\n\n      this.__pageContainer = qxWeb.create(\"<div>\")\n        .addClass(\"qx-hbox\")\n        .setStyle(\"height\", \"100%\")\n        .appendTo(this.__scrollContainer);\n\n      this.__paginationLabels = [];\n      this.__pagination = qxWeb.create(\"<div>\")\n        .addClasses([prefix + \"-pagination\", \"qx-hbox\", \"qx-flex1\"])\n        .setStyle(\"visibility\", \"excluded\")\n        .appendTo(this);\n\n      if (this._ie9) {\n        this.__pageContainer.setStyle(\"display\", \"table\");\n        this.__pagination.setStyle(\"textAlign\", \"center\");\n      } else {\n        this.on(\"trackstart\", this._onTrackStart, this)\n          .on(\"track\", this._onTrack, this)\n          .on(\"trackend\", this._onTrackEnd, this);\n      }\n\n      this.on(\"swipe\", this._onSwipe, this);\n\n      this.render();\n\n      return true;\n    },\n\n    render: function() {\n      var pages = this.find(\".\" + this.getCssPrefix() + \"-page\");\n      pages.forEach(function(page) {\n        this.addPage(qxWeb(page));\n      }.bind(this));\n      if (pages.length > 0) {\n        this.setActive(pages.eq(0));\n      }\n\n      return this;\n    },\n\n\n    /**\n     * Sets one of the Carousel's pages as active, meaning it will be\n     * visible.\n     *\n     * @param page {qxWeb} The page to be activated\n     */\n    setActive: function(page) {\n      var old = this.__active;\n      this.__active = page;\n      this._update();\n      var data = {value: page, old: old, target: this};\n      this.emit(\"changeActive\", data);\n    },\n\n\n    /**\n     * Returns the currently active (i.e. visible) page\n     * @return {qxWeb} The active page\n     */\n    getActive: function() {\n      return this.__active;\n    },\n\n\n    /**\n     * Scrolls the carousel to the next page.\n     *\n     * @return {qx.ui.website.Carousel} Self instance for chaining\n     */\n    nextPage: function() {\n      var pages = this._getPages();\n      if (pages.length == 0) {\n        return this;\n      }\n\n      var next = this.getActive().getNext();\n      // prevent overflow if we don't use the endless loop mode\n      if (pages.length > 2) {\n        if (next.length === 0) {\n          next = pages.eq(0);\n        }\n      }\n\n      if (next.length > 0) {\n        this.setActive(next);\n      }\n\n      return this;\n    },\n\n\n    /**\n     * Scrolls the carousel to the previous page.\n     *\n     * @return {qx.ui.website.Carousel} Self instance for chaining\n     */\n    previousPage: function() {\n      var pages = this._getPages();\n      if (pages.length == 0) {\n        return this;\n      }\n\n      var prev = this.getActive().getPrev();\n      // prevent overflow if we don't use the endless loop mode\n      if (pages.length > 2) {\n        if (prev.length == 0) {\n          prev = pages.eq(pages.length - 1);\n        }\n      }\n\n      if (prev.length > 0) {\n        this.setActive(prev);\n      }\n\n      return this;\n    },\n\n\n    /**\n     * Adds a page to the Carousel. Updates the pagination,\n     * scroll position, active property and the sizing.\n     * @param child {qxWeb} The added child.\n     */\n    addPage: function(child) {\n      child.addClasses([\"qx-flex1\", this.getCssPrefix() + \"-page\"])\n        .appendTo(this.__pageContainer);\n\n      if (this.find(\".\" + this.getCssPrefix() + \"-page\").length >\n        this.__paginationLabels.length)\n      {\n        var paginationLabel = this._createPaginationLabel();\n        this.__paginationLabels.push(paginationLabel);\n        this.__pagination.append(paginationLabel);\n      }\n\n      this._updateWidth();\n\n      if (!this.getActive()) {\n        this.setActive(child);\n      } else if (this._getPages().length > 2) {\n        this._updateOrder();\n      }\n\n      if (this._ie9) {\n        child.setStyle(\"display\", \"table-cell\");\n      }\n\n      this.find(\".scroll\").setStyle(\"touchAction\", \"pan-y\");\n\n      // scroll as soon as we have the third page added\n      if (this._getPages().length === 3 && !this._ie9) {\n        this.__scrollContainer.translate([(-this.getWidth()) + \"px\", 0, 0]);\n      }\n      this._updatePagination();\n    },\n\n\n    /**\n     * Removes a page from the Carousel. Updates the pagination,\n     * scroll position, active property and the sizing.\n     * @param child {qxWeb} The removed child.\n     */\n    removePage: function(child) {\n      child.remove();\n\n      // reset the active page if we don't have any page at all\n      if (this._getPages().length == 0) {\n        this.__pagination.empty();\n        this.__paginationLabels = [];\n        this.setActive(null);\n        return;\n      }\n\n      this._updateWidth();\n\n      if (this.getActive()[0] == child[0]) {\n        this.setActive(this._getPages().eq(0));\n      } else if (this._getPages().length > 2) {\n        this._updateOrder();\n      } else {\n        // remove all order properties\n        this._setOrder(this._getPages(), 0);\n      }\n\n      this.__paginationLabels.splice(child.priorPosition, 1)[0].remove();\n      for (var i = 0; i < this.__paginationLabels.length; i++) {\n        this.__paginationLabels[i].getChildren(\".label\").setHtml((i + 1) + \"\");\n      }\n      this._updatePagination();\n    },\n\n\n    /**\n     * Updates the order, scroll position and pagination.\n     */\n    _update: function() {\n      if (!this.getActive()) {\n        return;\n      }\n\n      // special case for only one page\n      if (this._getPages().length < 2) {\n        return;\n      } else if (this._getPages().length == 2) {\n        if (this._getPages()[0] === this.getActive()[0]) {\n          this._translateTo(0);\n        } else {\n          this._translateTo(this.getWidth());\n        }\n        this._updatePagination();\n        return;\n      }\n\n      var left;\n      if (!this._ie9) {\n        var direction = this._updateOrder();\n\n        if (direction == \"right\") {\n          left = this._getPositionLeft() - this.__scrollContainer.getWidth();\n        } else if (direction == \"left\") {\n          left = this._getPositionLeft() + this.__scrollContainer.getWidth();\n        } else if (this._getPages().length >= 3) {\n          // back snapping if the order has not changed\n          this._translateTo(this.getWidth());\n          return;\n        } else {\n          // do nothing if we don't have enough pages\n          return;\n        }\n\n        if (left !== undefined) {\n          // first, translate the old page into view\n          this.__scrollContainer.translate([(-left) + \"px\", 0, 0]);\n          // animate to the new page\n          this._translateTo(this.getWidth());\n        }\n      } else {\n        var index = this._getPages().indexOf(this.getActive());\n        left = index * this.getWidth();\n        this._translateTo(left);\n      }\n\n      this._updatePagination();\n    },\n\n\n    /**\n     * Updates the CSS order property of the flexbox layout.\n     * The active page should be the second in order with a order property of '0'.\n     * The page left to the active has the order property set to '-1' and is the\n     * only one on the left side. All other pages get increasing order numbers and\n     * are aligned on the right side.\n     *\n     * @return {String} The scroll direction, either 'left' or 'right'.\n     */\n    _updateOrder: function() {\n      if (this._ie9) {\n        return \"left\";\n      }\n\n      var scrollDirection;\n\n      var pages = this._getPages();\n      var orderBefore = this._getOrder(this.getActive());\n\n      if (orderBefore > 0) {\n        scrollDirection = \"right\";\n      } else if (orderBefore < 0) {\n        scrollDirection = \"left\";\n      }\n\n      var activeIndex = pages.indexOf(this.getActive());\n\n      this._setOrder(this.getActive(), 0);// active page should always have order 0\n      var order = 1;\n\n      // order all pages with a higher index than the active page\n      for (var i = activeIndex + 1; i < pages.length; i++) {\n        // move the last page to the left of the active page\n        if (activeIndex === 0 && i == pages.length - 1) {\n          order = -1;\n        }\n        this._setOrder(pages.eq(i), order++);\n      }\n\n      // order all pages with a lower index than the active page\n      for (i = 0; i < activeIndex; i++) {\n        // move the last page to the left of the active page\n        if (i == activeIndex - 1) {\n          order = -1;\n        }\n        this._setOrder(pages.eq(i), order++);\n      }\n      return scrollDirection;\n    },\n\n\n    /**\n     * Updates the width of the container and the pages.\n     */\n    _updateWidth: function() {\n      if (!this.isRendered() || this.getProperty(\"offsetWidth\") === 0) {\n        this.setStyle(\"visibility\", \"hidden\");\n        if (!this.hasListener(\"appear\", this._updateWidth, this)) {\n          this.once(\"appear\", this._updateWidth, this);\n        }\n        return;\n      }\n\n      // set the initial transition on first appear\n      if (this._getPositionLeft() === 0 && this._getPages().length > 2 && !this._ie9) {\n        this.__scrollContainer.translate([(-this.getWidth()) + \"px\", 0, 0]);\n      }\n\n      // set the container width to total width of all pages\n      var containerWidth =\n        this.getWidth() *\n        this._getPages().length;\n      this.__pageContainer.setStyle(\"width\", containerWidth + \"px\");\n      // set the width of all pages to the carousel width\n      this._getPages().setStyle(\"width\", this.getWidth() + \"px\");\n\n      this.setStyle(\"visibility\", \"visible\");\n    },\n\n\n    /**\n     * Handler for trackstart. It saves the initial scroll position and\n     * cancels any running animation.\n     */\n    _onTrackStart: function() {\n      if (this.__blocked) {\n        return;\n      }\n\n      this.__startPosLeft = this._getPositionLeft();\n      this.__scrollContainer\n        // stop the current scroll animation\n        .stop()\n        // correct the scroll position as the stopped animation\n        // resets to its initial value\n        .translate([(-Math.round(this.__startPosLeft)) + \"px\", 0, 0]);\n    },\n\n\n    /**\n     * Track handler which updates the scroll position.\n     * @param e {Event} The track event.\n     */\n    _onTrack: function(e) {\n      if (this.__blocked) {\n        return;\n      }\n\n      if (e.delta.axis == \"x\" && this._getPages().length > 2) {\n        this.__scrollContainer.translate([-(this.__startPosLeft - e.delta.x) + \"px\", 0, 0]);\n      }\n    },\n\n\n    /**\n     * TrackEnd handler for enabling the scroll events.\n     */\n    _onTrackEnd: function() {\n      if (this.__startPosLeft == null || this.__blocked) { // don't end if we didn't start\n        return;\n      }\n\n      // make sure the trackend handling is done after the swipe handling\n      window.setTimeout(function() {\n        if (this._getPages().length < 3 || this.__scrollContainer.isPlaying()) {\n          return;\n        }\n\n        this.__startPosLeft = null;\n\n        var width = this.getWidth();\n        var pages = this._getPages();\n\n        var oldActive = this.getActive();\n\n        // if more than 50% is visible of the previous page\n        if (this._getPositionLeft() < (width - (width / 2))) {\n          var prev = this.getActive().getPrev();\n          if (prev.length == 0) {\n            prev = pages.eq(pages.length - 1);\n          }\n          this.setActive(prev);\n        // if more than 50% is visible of the next page\n        } else if (this._getPositionLeft() > (width + width / 2)) {\n          var next = this.getActive().getNext();\n          if (next.length == 0) {\n            next = pages.eq(0);\n          }\n          this.setActive(next);\n        }\n\n        if (this.getActive() == oldActive) {\n          this._update();\n        }\n      }.bind(this), 0);\n    },\n\n\n    /**\n     * Swipe handler which triggers page changes based on the\n     * velocity and the direction.\n     * @param e {Event} The swipe event.\n     */\n    _onSwipe: function(e) {\n      if (this.__blocked) {\n        return;\n      }\n      var velocity = Math.abs(e.getVelocity());\n      if (e.getAxis() == \"x\" && velocity > 0.25) {\n        if (e.getDirection() == \"left\") {\n          this.nextPage();\n        } else if (e.getDirection() == \"right\") {\n          this.previousPage();\n        }\n      }\n    },\n\n\n    /**\n     * Factory method for a paginationLabel.\n     * @return {qxWeb} the created pagination label.\n     */\n    _createPaginationLabel : function() {\n      var paginationIndex = this._getPages().length;\n\n      return qxWeb.create('<div class=\"' + this.getCssPrefix() + '-pagination-label\"></div>')\n        .on(\"tap\", this._onPaginationLabelTap, this)\n        .append(qxWeb.create('<div class=\"label\">' + paginationIndex + '</div>'));\n    },\n\n\n    /**\n     * Handles the tap on pagination labels and changes to the desired page.\n     * @param e {Event} The tap event.\n     */\n    _onPaginationLabelTap: function(e) {\n      this.__paginationLabels.forEach(function(label, index) {\n        if (label[0] === e.currentTarget) {\n          var pages = this._getPages();\n\n          // wo don't reorder with two pages there just set the active property\n          if (pages.length === 2) {\n            this.setActive(pages.eq(index));\n            return;\n          }\n\n          var activeIndex = pages.indexOf(this.getActive());\n          var distance = index - activeIndex;\n\n          // set the order to deault dom order\n          this._setOrder(pages, 0);\n          // get the active page into view\n          this.__scrollContainer.translate([(-activeIndex * this.getWidth()) + \"px\", 0, 0]);\n\n          this.__blocked = true;\n          // animate to the desired page\n          this._translateTo((activeIndex + distance) * this.getWidth());\n          this.__scrollContainer.once(\"animationEnd\", function(page) {\n            this.__blocked = false;\n            // set the viewport back to the default position\n            this.__scrollContainer.translate([(-this.getWidth()) + \"px\", 0, 0]);\n            this.setActive(page); // this also updates the order\n            this._updatePagination();\n          }.bind(this, pages.eq(index)));\n        }\n      }.bind(this));\n    },\n\n\n    /**\n     * Updates the pagination indicator of this carousel.\n     * Adds the 'active' CSS class to the currently visible page's\n     * pagination button.\n     */\n    _updatePagination : function() {\n      // hide the pagination for one page\n      this._getPages().length < 2 ?\n        this.__pagination.setStyle(\"visibility\", \"excluded\") :\n        this.__pagination.setStyle(\"visibility\", \"visible\");\n\n      this.__pagination.find(\".\" + this.getCssPrefix() + \"-pagination-label\").removeClass(\"active\");\n      var pages = this._getPages();\n      this.__paginationLabels[pages.indexOf(this.getActive())].addClass(\"active\");\n    },\n\n\n    /**\n     * Resize handler. It updates the sizes, snap points and scroll position.\n     */\n    _onResize : function() {\n      this._updateWidth();\n\n      if (this._getPages().length > 2) {\n        this.__scrollContainer.translate([(-this.getWidth()) + \"px\", 0, 0]);\n      }\n    },\n\n\n    /**\n     * Animates using CSS translations to the given left position.\n     * @param left {Number} The new left position\n     */\n    _translateTo: function(left) {\n      this.__scrollContainer.animate({\n        duration: this.getConfig(\"pageSwitchDuration\"),\n        keep: 100,\n        timing: \"ease\",\n        keyFrames: {\n          0: {},\n          100: {\n            translate: [(-left) + \"px\", 0, 0]\n          }\n        }\n      });\n    },\n\n\n    /**\n     * Sets the given order on the given collection.\n     * @param col {qxWeb} The collection to set the css property.\n     * @param value {Number|String} The value for the order property\n     */\n    _setOrder: function(col, value) {\n      col.setStyles({\n        order: value,\n        msFlexOrder: value\n      });\n    },\n\n\n    /**\n     * Returns the order css property of the given collection.\n     * @param col {qxWeb} The collection to check.\n     * @return {Number} The order as number.\n     */\n    _getOrder: function(col) {\n      var order = parseInt(col.getStyle(\"order\"));\n      if (isNaN(order)) {\n        order = parseInt(col.getStyle(\"msFlexOrder\"));\n      }\n      return order;\n    },\n\n\n    /**\n     * Returns a collection of all pages.\n     * @return {qxWeb} All pages.\n     */\n    _getPages: function() {\n      return this.__pageContainer.find(\".\" + this.getCssPrefix() + \"-page\");\n    },\n\n\n    /**\n     * Returns the current left position.\n     * @return {Number} The position in px.\n     */\n    _getPositionLeft: function() {\n      var containerRect = this.__scrollContainer[0].getBoundingClientRect();\n      var parentRect = this[0].getBoundingClientRect();\n      return -(containerRect.left - parentRect.left);\n    },\n\n\n    // overridden\n    dispose : function() {\n      qxWeb(window).off(\"resize\", this._onResize, this);\n\n      this.off(\"trackstart\", this._onTrackStart, this)\n        .off(\"track\", this._onTrack, this)\n        .off(\"swipe\", this._onSwipe, this)\n        .off(\"trackend\", this._onTrackEnd, this);\n\n      return this.base(arguments);\n    }\n  },\n\n  defer: function(statics) {\n    qxWeb.$attach({carousel : statics.carousel});\n  }\n});\n"
  ]
}