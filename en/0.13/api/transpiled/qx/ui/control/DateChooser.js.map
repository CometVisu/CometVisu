{
  "version": 3,
  "sources": [
    "/home/runner/work/CometVisu/CometVisu/node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/ui/control/DateChooser.js"
  ],
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "extend",
    "ui",
    "core",
    "Widget",
    "include",
    "MExecutable",
    "form",
    "MForm",
    "implement",
    "IExecutable",
    "IForm",
    "IDateForm",
    "construct",
    "date",
    "layout",
    "VBox",
    "_setLayout",
    "_createChildControl",
    "addListener",
    "_onKeyPress",
    "DateChooser",
    "control",
    "MONTH_YEAR_FORMAT",
    "locale",
    "Date",
    "getDateTimeFormat",
    "shownDate",
    "showMonth",
    "getMonth",
    "getFullYear",
    "Manager",
    "getInstance",
    "_updateDatePane",
    "_onPointerUpDown",
    "statics",
    "WEEKDAY_FORMAT",
    "WEEK_FORMAT",
    "properties",
    "appearance",
    "refine",
    "init",
    "width",
    "height",
    "shownMonth",
    "check",
    "nullable",
    "event",
    "shownYear",
    "value",
    "apply",
    "members",
    "__weekdayLabelArr",
    "__dayLabelArr",
    "__weekLabelArr",
    "_forwardStates",
    "invalid",
    "_createChildControlImpl",
    "id",
    "hash",
    "container",
    "Composite",
    "HBox",
    "add",
    "getChildControl",
    "flex",
    "_add",
    "tooltip",
    "ToolTip",
    "tr",
    "toolbar",
    "Button",
    "addState",
    "setFocusable",
    "setToolTip",
    "_onNavButtonTap",
    "basic",
    "Label",
    "setAllowGrowX",
    "setAnonymous",
    "setAllowGrowY",
    "setSelectable",
    "setCursor",
    "_onDayTap",
    "_onDayDblTap",
    "controlLayout",
    "Grid",
    "i",
    "setColumnFlex",
    "setRowFlex",
    "label",
    "column",
    "row",
    "push",
    "y",
    "x",
    "_applyValue",
    "old",
    "getShownMonth",
    "getShownYear",
    "newDay",
    "getDate",
    "dayLabel",
    "hasState",
    "removeState",
    "day",
    "parseInt",
    "getValue",
    "e",
    "target",
    "getTarget",
    "stopPropagation",
    "evt",
    "year",
    "month",
    "getCurrentTarget",
    "time",
    "dateTime",
    "setValue",
    "execute",
    "dayIncrement",
    "monthIncrement",
    "yearIncrement",
    "getModifiers",
    "getKeyIdentifier",
    "isShiftPressed",
    "getTime",
    "setDate",
    "setMonth",
    "setFullYear",
    "setShownMonth",
    "setShownYear",
    "handleKeyPress",
    "today",
    "todayYear",
    "todayMonth",
    "todayDayOfMonth",
    "selDate",
    "selYear",
    "selMonth",
    "selDayOfMonth",
    "startOfWeek",
    "getWeekStart",
    "helpDate",
    "monthYearFormat",
    "util",
    "format",
    "DateFormat",
    "firstDayOfWeek",
    "getDay",
    "firstSundayInMonth",
    "weekDayFormat",
    "isWeekend",
    "nrDaysOfLastMonth",
    "weekFormat",
    "week",
    "dayOfMonth",
    "isSelectedDate",
    "isToday",
    "dispose",
    "destruct",
    "removeListener"
  ],
  "mappings": "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",
  "sourcesContent": [
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2006 STZ-IDA, Germany, http://www.stz-ida.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Til Schneider (til132)\n     * Martin Wittemann (martinwittemann)\n\n************************************************************************ */\n\n/**\n * A *date chooser* is a small calendar including a navigation bar to switch the shown\n * month. It includes a column for the calendar week and shows one month. Selecting\n * a date is as easy as tapping on it.\n *\n * To be conform with all form widgets, the {@link qx.ui.form.IForm} interface\n * is implemented.\n *\n * The following example creates and adds a date chooser to the root element.\n * A listener alerts the user if a new date is selected.\n *\n * <pre class='javascript'>\n * var chooser = new qx.ui.control.DateChooser();\n * this.getRoot().add(chooser, { left : 20, top: 20});\n *\n * chooser.addListener(\"changeValue\", function(e) {\n *   alert(e.getData());\n * });\n * </pre>\n *\n * Additionally to a selection event an execute event is available which is\n * fired by doubletap or tapping the space / enter key. With this event you\n * can for example save the selection and close the date chooser.\n *\n * @childControl navigation-bar {qx.ui.container.Composite} container for the navigation bar controls\n * @childControl last-year-button-tooltip {qx.ui.tooltip.ToolTip} tooltip for the last year button\n * @childControl last-year-button {qx.ui.form.Button} button to jump to the last year\n * @childControl last-month-button-tooltip {qx.ui.tooltip.ToolTip} tooltip for the last month button\n * @childControl last-month-button {qx.ui.form.Button} button to jump to the last month\n * @childControl next-month-button-tooltip {qx.ui.tooltip.ToolTip} tooltip for the next month button\n * @childControl next-month-button {qx.ui.form.Button} button to jump to the next month\n * @childControl next-year-button-tooltip {qx.ui.tooltip.ToolTip} tooltip for the next year button\n * @childControl next-year-button {qx.ui.form.Button} button to jump to the next year\n * @childControl month-year-label {qx.ui.basic.Label} shows the current month and year\n * @childControl week {qx.ui.basic.Label} week label (used multiple times)\n * @childControl weekday {qx.ui.basic.Label} weekday label (used multiple times)\n * @childControl day {qx.ui.basic.Label} day label (used multiple times)\n * @childControl date-pane {qx.ui.container.Composite} the pane used to position the week, weekday and day labels\n *\n */\nqx.Class.define(\"qx.ui.control.DateChooser\",\n{\n  extend : qx.ui.core.Widget,\n  include : [\n    qx.ui.core.MExecutable,\n    qx.ui.form.MForm\n  ],\n  implement : [\n    qx.ui.form.IExecutable,\n    qx.ui.form.IForm,\n    qx.ui.form.IDateForm\n  ],\n\n\n  /*\n  *****************************************************************************\n     CONSTRUCTOR\n  *****************************************************************************\n  */\n\n  /**\n   * @param date {Date ? null} The initial date to show. If <code>null</code>\n   * the current day (today) is shown.\n   */\n  construct : function(date)\n  {\n    this.base(arguments);\n\n    // set the layout\n    var layout = new qx.ui.layout.VBox();\n    this._setLayout(layout);\n\n    // create the child controls\n    this._createChildControl(\"navigation-bar\");\n    this._createChildControl(\"date-pane\");\n\n    // Support for key events\n    this.addListener(\"keypress\", this._onKeyPress);\n\n    // initialize format - moved from statics{} to constructor due to [BUG #7149]\n    var DateChooser = qx.ui.control.DateChooser;\n    if (!DateChooser.MONTH_YEAR_FORMAT) {\n        DateChooser.MONTH_YEAR_FORMAT = qx.locale.Date.getDateTimeFormat(\"yyyyMMMM\", \"MMMM yyyy\");\n    }\n\n    // Show the right date\n    var shownDate = (date != null) ? date : new Date();\n    this.showMonth(shownDate.getMonth(), shownDate.getFullYear());\n\n    // listen for locale changes\n    if (qx.core.Environment.get(\"qx.dynlocale\")) {\n      qx.locale.Manager.getInstance().addListener(\"changeLocale\", this._updateDatePane, this);\n    }\n\n    // register pointer up and down handler\n    this.addListener(\"pointerdown\", this._onPointerUpDown, this);\n    this.addListener(\"pointerup\", this._onPointerUpDown, this);\n  },\n\n\n\n  /*\n  *****************************************************************************\n     STATICS\n  *****************************************************************************\n  */\n\n  statics :\n  {\n    /**\n     * @type {string} The format for the date year label at the top center.\n     */\n    MONTH_YEAR_FORMAT : null,\n\n    /**\n     * @type {string} The format for the weekday labels (the headers of the date table).\n     */\n    WEEKDAY_FORMAT : \"EE\",\n\n    /**\n     * @type {string} The format for the week numbers (the labels of the left column).\n     */\n    WEEK_FORMAT : \"ww\"\n  },\n\n\n  /*\n  *****************************************************************************\n     PROPERTIES\n  *****************************************************************************\n  */\n\n  properties :\n  {\n    // overridden\n    appearance :\n    {\n      refine : true,\n      init   : \"datechooser\"\n    },\n\n    // overridden\n    width :\n    {\n      refine : true,\n      init : 200\n    },\n\n    // overridden\n    height :\n    {\n      refine : true,\n      init : 150\n    },\n\n    /** The currently shown month. 0 = january, 1 = february, and so on. */\n    shownMonth :\n    {\n      check : \"Integer\",\n      init : null,\n      nullable : true,\n      event : \"changeShownMonth\"\n    },\n\n    /** The currently shown year. */\n    shownYear :\n    {\n      check : \"Integer\",\n      init : null,\n      nullable : true,\n      event : \"changeShownYear\"\n    },\n\n    /** The date value of the widget. */\n    value :\n    {\n      check : \"Date\",\n      init : null,\n      nullable : true,\n      event : \"changeValue\",\n      apply : \"_applyValue\"\n    }\n  },\n\n\n\n\n  /*\n  *****************************************************************************\n     MEMBERS\n  *****************************************************************************\n  */\n\n  members :\n  {\n    __weekdayLabelArr : null,\n    __dayLabelArr : null,\n    __weekLabelArr : null,\n\n\n    // overridden\n    /**\n     * @lint ignoreReferenceField(_forwardStates)\n     */\n    _forwardStates :\n    {\n      invalid : true\n    },\n\n\n    /*\n    ---------------------------------------------------------------------------\n      WIDGET INTERNALS\n    ---------------------------------------------------------------------------\n    */\n\n    // overridden\n    _createChildControlImpl : function(id, hash)\n    {\n      var control;\n\n      switch(id)\n      {\n        // NAVIGATION BAR STUFF\n        case \"navigation-bar\":\n          control = new qx.ui.container.Composite(new qx.ui.layout.HBox());\n\n          // Add the navigation bar elements\n          control.add(this.getChildControl(\"last-year-button\"));\n          control.add(this.getChildControl(\"last-month-button\"));\n          control.add(this.getChildControl(\"month-year-label\"), {flex: 1});\n          control.add(this.getChildControl(\"next-month-button\"));\n          control.add(this.getChildControl(\"next-year-button\"));\n\n          this._add(control);\n          break;\n\n        case \"last-year-button-tooltip\":\n          control = new qx.ui.tooltip.ToolTip(this.tr(\"Last year\"));\n          break;\n\n        case \"last-year-button\":\n          control = new qx.ui.toolbar.Button();\n          control.addState(\"lastYear\");\n          control.setFocusable(false);\n          control.setToolTip(this.getChildControl(\"last-year-button-tooltip\"));\n          control.addListener(\"tap\", this._onNavButtonTap, this);\n          break;\n\n        case \"last-month-button-tooltip\":\n          control = new qx.ui.tooltip.ToolTip(this.tr(\"Last month\"));\n          break;\n\n        case \"last-month-button\":\n          control = new qx.ui.toolbar.Button();\n          control.addState(\"lastMonth\");\n          control.setFocusable(false);\n          control.setToolTip(this.getChildControl(\"last-month-button-tooltip\"));\n          control.addListener(\"tap\", this._onNavButtonTap, this);\n          break;\n\n        case \"next-month-button-tooltip\":\n          control = new qx.ui.tooltip.ToolTip(this.tr(\"Next month\"));\n          break;\n\n        case \"next-month-button\":\n          control = new qx.ui.toolbar.Button();\n          control.addState(\"nextMonth\");\n          control.setFocusable(false);\n          control.setToolTip(this.getChildControl(\"next-month-button-tooltip\"));\n          control.addListener(\"tap\", this._onNavButtonTap, this);\n          break;\n\n        case \"next-year-button-tooltip\":\n          control = new qx.ui.tooltip.ToolTip(this.tr(\"Next year\"));\n          break;\n\n        case \"next-year-button\":\n          control = new qx.ui.toolbar.Button();\n          control.addState(\"nextYear\");\n          control.setFocusable(false);\n          control.setToolTip(this.getChildControl(\"next-year-button-tooltip\"));\n          control.addListener(\"tap\", this._onNavButtonTap, this);\n          break;\n\n        case \"month-year-label\":\n          control = new qx.ui.basic.Label();\n          control.setAllowGrowX(true);\n          control.setAnonymous(true);\n          break;\n\n        case \"week\":\n          control = new qx.ui.basic.Label();\n          control.setAllowGrowX(true);\n          control.setAllowGrowY(true);\n          control.setSelectable(false);\n          control.setAnonymous(true);\n          control.setCursor(\"default\");\n          break;\n\n        case \"weekday\":\n          control = new qx.ui.basic.Label();\n          control.setAllowGrowX(true);\n          control.setAllowGrowY(true);\n          control.setSelectable(false);\n          control.setAnonymous(true);\n          control.setCursor(\"default\");\n          break;\n\n        case \"day\":\n          control = new qx.ui.basic.Label();\n          control.setAllowGrowX(true);\n          control.setAllowGrowY(true);\n          control.setCursor(\"default\");\n          control.addListener(\"pointerdown\", this._onDayTap, this);\n          control.addListener(\"dbltap\", this._onDayDblTap, this);\n          break;\n\n        case \"date-pane\":\n          var controlLayout = new qx.ui.layout.Grid();\n          control = new qx.ui.container.Composite(controlLayout);\n\n          for (var i = 0; i < 8; i++) {\n            controlLayout.setColumnFlex(i, 1);\n          }\n\n          for (var i = 0; i < 7; i++) {\n            controlLayout.setRowFlex(i, 1);\n          }\n\n          // Create the weekdays\n          // Add an empty label as spacer for the week numbers\n          var label = this.getChildControl(\"week#0\");\n          label.addState(\"header\");\n          control.add(label, {column: 0, row: 0});\n\n          this.__weekdayLabelArr = [];\n          for (var i=0; i<7; i++)\n          {\n            label = this.getChildControl(\"weekday#\" + i);\n            control.add(label, {column: i + 1, row: 0});\n            this.__weekdayLabelArr.push(label);\n          }\n\n          // Add the days\n          this.__dayLabelArr = [];\n          this.__weekLabelArr = [];\n\n          for (var y = 0; y < 6; y++)\n          {\n            // Add the week label\n            var label = this.getChildControl(\"week#\" + (y+1));\n            control.add(label, {column: 0, row: y + 1});\n            this.__weekLabelArr.push(label);\n\n            // Add the day labels\n            for (var x = 0; x < 7; x++)\n            {\n              var label = this.getChildControl(\"day#\" + ((y*7)+x));\n              control.add(label, {column:x + 1, row:y + 1});\n              this.__dayLabelArr.push(label);\n            }\n          }\n\n          this._add(control);\n          break;\n      }\n\n      return control || this.base(arguments, id);\n    },\n\n\n    // apply methods\n    _applyValue : function(value, old)\n    {\n      if ((value != null) && (this.getShownMonth() != value.getMonth() || this.getShownYear() != value.getFullYear()))\n      {\n        // The new date is in another month -> Show that month\n        this.showMonth(value.getMonth(), value.getFullYear());\n      }\n      else\n      {\n        // The new date is in the current month -> Just change the states\n        var newDay = (value == null) ? -1 : value.getDate();\n\n        for (var i=0; i<6*7; i++)\n        {\n          var dayLabel = this.__dayLabelArr[i];\n\n          if (dayLabel.hasState(\"otherMonth\"))\n          {\n            if (dayLabel.hasState(\"selected\")) {\n              dayLabel.removeState(\"selected\");\n            }\n          }\n          else\n          {\n            var day = parseInt(dayLabel.getValue(), 10);\n\n            if (day == newDay) {\n              dayLabel.addState(\"selected\");\n            } else if (dayLabel.hasState(\"selected\")) {\n              dayLabel.removeState(\"selected\");\n            }\n          }\n        }\n      }\n    },\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      EVENT HANDLER\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Handler which stops the propagation of the tap event if\n     * the navigation bar or calendar headers will be tapped.\n     *\n     * @param e {qx.event.type.Pointer} The pointer up / down event\n     */\n    _onPointerUpDown : function(e) {\n      var target = e.getTarget();\n\n      if (target == this.getChildControl(\"navigation-bar\") ||\n          target == this.getChildControl(\"date-pane\")) {\n        e.stopPropagation();\n        return;\n      }\n    },\n\n\n    /**\n     * Event handler. Called when a navigation button has been tapped.\n     *\n     * @param evt {qx.event.type.Data} The data event.\n     */\n    _onNavButtonTap : function(evt)\n    {\n      var year = this.getShownYear();\n      var month = this.getShownMonth();\n\n      switch(evt.getCurrentTarget())\n      {\n        case this.getChildControl(\"last-year-button\"):\n          year--;\n          break;\n\n        case this.getChildControl(\"last-month-button\"):\n          month--;\n\n          if (month < 0)\n          {\n            month = 11;\n            year--;\n          }\n\n          break;\n\n        case this.getChildControl(\"next-month-button\"):\n          month++;\n\n          if (month >= 12)\n          {\n            month = 0;\n            year++;\n          }\n\n          break;\n\n        case this.getChildControl(\"next-year-button\"):\n          year++;\n          break;\n      }\n\n      this.showMonth(month, year);\n    },\n\n\n    /**\n     * Event handler. Called when a day has been tapped.\n     *\n     * @param evt {qx.event.type.Data} The event.\n     */\n    _onDayTap : function(evt)\n    {\n      var time = evt.getCurrentTarget().dateTime;\n      this.setValue(new Date(time));\n    },\n\n\n    /**\n     * Event handler. Called when a day has been double-tapped.\n     */\n    _onDayDblTap : function() {\n      this.execute();\n    },\n\n\n    /**\n     * Event handler. Called when a key was pressed.\n     *\n     * @param evt {qx.event.type.Data} The event.\n     */\n    _onKeyPress : function(evt)\n    {\n      var dayIncrement = null;\n      var monthIncrement = null;\n      var yearIncrement = null;\n\n      if (evt.getModifiers() == 0)\n      {\n        switch(evt.getKeyIdentifier())\n        {\n          case \"Left\":\n            dayIncrement = -1;\n            break;\n\n          case \"Right\":\n            dayIncrement = 1;\n            break;\n\n          case \"Up\":\n            dayIncrement = -7;\n            break;\n\n          case \"Down\":\n            dayIncrement = 7;\n            break;\n\n          case \"PageUp\":\n            monthIncrement = -1;\n            break;\n\n          case \"PageDown\":\n            monthIncrement = 1;\n            break;\n\n          case \"Escape\":\n            if (this.getValue() != null)\n            {\n              this.setValue(null);\n              return;\n            }\n\n            break;\n\n          case \"Enter\":\n          case \"Space\":\n            if (this.getValue() != null) {\n              this.execute();\n            }\n\n            return;\n        }\n      }\n      else if (evt.isShiftPressed())\n      {\n        switch(evt.getKeyIdentifier())\n        {\n          case \"PageUp\":\n            yearIncrement = -1;\n            break;\n\n          case \"PageDown\":\n            yearIncrement = 1;\n            break;\n        }\n      }\n\n      if (dayIncrement != null || monthIncrement != null || yearIncrement != null)\n      {\n        var date = this.getValue();\n\n        if (date != null) {\n          date = new Date(date.getTime());\n        }\n\n        if (date == null) {\n          date = new Date();\n        }\n        else\n        {\n          if (dayIncrement != null){date.setDate(date.getDate() + dayIncrement);}\n          if (monthIncrement != null){date.setMonth(date.getMonth() + monthIncrement);}\n          if (yearIncrement != null){date.setFullYear(date.getFullYear() + yearIncrement);}\n        }\n\n        this.setValue(date);\n      }\n    },\n\n\n    /**\n     * Shows a certain month.\n     *\n     * @param month {Integer ? null} the month to show (0 = january). If not set\n     *      the month will remain the same.\n     * @param year {Integer ? null} the year to show. If not set the year will\n     *      remain the same.\n     */\n    showMonth : function(month, year)\n    {\n      if ((month != null && month != this.getShownMonth()) || (year != null && year != this.getShownYear()))\n      {\n        if (month != null) {\n          this.setShownMonth(month);\n        }\n\n        if (year != null) {\n          this.setShownYear(year);\n        }\n\n        this._updateDatePane();\n      }\n    },\n\n\n    /**\n     * Event handler. Used to handle the key events.\n     *\n     * @param e {qx.event.type.Data} The event.\n     */\n    handleKeyPress : function(e) {\n      this._onKeyPress(e);\n    },\n\n\n    /**\n     * Updates the date pane.\n     */\n    _updateDatePane : function()\n    {\n      var DateChooser = qx.ui.control.DateChooser;\n\n      var today = new Date();\n      var todayYear = today.getFullYear();\n      var todayMonth = today.getMonth();\n      var todayDayOfMonth = today.getDate();\n\n      var selDate = this.getValue();\n      var selYear = (selDate == null) ? -1 : selDate.getFullYear();\n      var selMonth = (selDate == null) ? -1 : selDate.getMonth();\n      var selDayOfMonth = (selDate == null) ? -1 : selDate.getDate();\n\n      var shownMonth = this.getShownMonth();\n      var shownYear = this.getShownYear();\n\n      var startOfWeek = qx.locale.Date.getWeekStart();\n\n      // Create a help date that points to the first of the current month\n      var helpDate = new Date(this.getShownYear(), this.getShownMonth(), 1);\n\n      var monthYearFormat = new qx.util.format.DateFormat(DateChooser.MONTH_YEAR_FORMAT);\n      this.getChildControl(\"month-year-label\").setValue(monthYearFormat.format(helpDate));\n\n      // Show the day names\n      var firstDayOfWeek = helpDate.getDay();\n      var firstSundayInMonth = 1 + ((7 - firstDayOfWeek) % 7);\n      var weekDayFormat = new qx.util.format.DateFormat(DateChooser.WEEKDAY_FORMAT);\n\n      for (var i=0; i<7; i++)\n      {\n        var day = (i + startOfWeek) % 7;\n\n        var dayLabel = this.__weekdayLabelArr[i];\n\n        helpDate.setDate(firstSundayInMonth + day);\n        dayLabel.setValue(weekDayFormat.format(helpDate));\n\n        if (qx.locale.Date.isWeekend(day)) {\n          dayLabel.addState(\"weekend\");\n        } else {\n          dayLabel.removeState(\"weekend\");\n        }\n      }\n\n      // Show the days\n      helpDate = new Date(shownYear, shownMonth, 1, 12, 0, 0);\n      var nrDaysOfLastMonth = (7 + firstDayOfWeek - startOfWeek) % 7;\n      helpDate.setDate(helpDate.getDate() - nrDaysOfLastMonth);\n\n      var weekFormat = new qx.util.format.DateFormat(DateChooser.WEEK_FORMAT);\n\n      for (var week=0; week<6; week++)\n      {\n        this.__weekLabelArr[week].setValue(weekFormat.format(helpDate));\n\n        for (var i=0; i<7; i++)\n        {\n          var dayLabel = this.__dayLabelArr[week * 7 + i];\n\n          var year = helpDate.getFullYear();\n          var month = helpDate.getMonth();\n          var dayOfMonth = helpDate.getDate();\n\n          var isSelectedDate = (selYear == year && selMonth == month && selDayOfMonth == dayOfMonth);\n\n          if (isSelectedDate) {\n            dayLabel.addState(\"selected\");\n          } else {\n            dayLabel.removeState(\"selected\");\n          }\n\n          if (month != shownMonth) {\n            dayLabel.addState(\"otherMonth\");\n          } else {\n            dayLabel.removeState(\"otherMonth\");\n          }\n\n          var isToday = (year == todayYear && month == todayMonth && dayOfMonth == todayDayOfMonth);\n\n          if (isToday) {\n            dayLabel.addState(\"today\");\n          } else {\n            dayLabel.removeState(\"today\");\n          }\n\n          dayLabel.setValue(\"\" + dayOfMonth);\n          dayLabel.dateTime = helpDate.getTime();\n\n          // Go to the next day\n          helpDate.setDate(helpDate.getDate() + 1);\n        }\n      }\n\n      monthYearFormat.dispose();\n      weekDayFormat.dispose();\n      weekFormat.dispose();\n    }\n  },\n\n\n\n\n  /*\n  *****************************************************************************\n     DESTRUCTOR\n  *****************************************************************************\n  */\n\n  destruct : function()\n  {\n    if (qx.core.Environment.get(\"qx.dynlocale\")) {\n      qx.locale.Manager.getInstance().removeListener(\"changeLocale\", this._updateDatePane, this);\n    }\n\n    this.__weekdayLabelArr = this.__dayLabelArr = this.__weekLabelArr = null;\n  }\n});\n"
  ]
}