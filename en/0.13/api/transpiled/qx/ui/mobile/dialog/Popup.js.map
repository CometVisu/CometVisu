{
  "version": 3,
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "extend",
    "ui",
    "mobile",
    "core",
    "Widget",
    "statics",
    "ROOT",
    "construct",
    "widget",
    "anchor",
    "exclude",
    "dialog",
    "Popup",
    "Init",
    "getApplication",
    "getRoot",
    "add",
    "__anchor",
    "_initializeChild",
    "properties",
    "defaultCssClass",
    "refine",
    "init",
    "title",
    "apply",
    "nullable",
    "check",
    "event",
    "icon",
    "modal",
    "hideOnBlockerTap",
    "members",
    "__isShown",
    "__childrenContainer",
    "__percentageTop",
    "__widget",
    "__titleWidget",
    "__lastPopupDimension",
    "_updatePosition",
    "anchorClasses",
    "i",
    "length",
    "removeCssClass",
    "addCssClass",
    "rootHeight",
    "getHeight",
    "rootWidth",
    "getWidth",
    "rootPosition",
    "bom",
    "element",
    "Location",
    "get",
    "getContainerElement",
    "anchorPosition",
    "popupDimension",
    "Dimension",
    "getSize",
    "computedPopupPosition",
    "util",
    "placement",
    "Placement",
    "compute",
    "width",
    "left",
    "height",
    "top",
    "right",
    "bottom",
    "_resetPosition",
    "isTop",
    "isLeft",
    "isOutsideViewPort",
    "_positionToCenter",
    "placeTo",
    "show",
    "fireEvent",
    "__registerEventListener",
    "getModal",
    "Blocker",
    "getInstance",
    "getHideOnBlockerTap",
    "addListener",
    "hide",
    "__unregisterEventListener",
    "removeListener",
    "hideWithDelay",
    "delay",
    "lang",
    "Function",
    "isShown",
    "toggleVisibility",
    "_setStyle",
    "_trackUserTap",
    "evt",
    "clientX",
    "getViewportLeft",
    "clientY",
    "getViewportTop",
    "popupLocation",
    "isOutsideWidget",
    "container",
    "style",
    "position",
    "marginLeft",
    "parseInt",
    "offsetWidth",
    "marginTop",
    "offsetHeight",
    "Registration",
    "window",
    "Composite",
    "layout",
    "VBox",
    "setDefaultCssClass",
    "_add",
    "_createTitleWidget",
    "remove",
    "flex",
    "getTitle",
    "getIcon",
    "basic",
    "Atom",
    "_applyTitle",
    "value",
    "old",
    "setLabel",
    "addBefore",
    "_applyIcon",
    "setIcon",
    "removeWidget",
    "setAnchor",
    "getTitleWidget",
    "destruct",
    "_disposeObjects",
    "_anchor"
  ],
  "sources": [
    "/home/runner/work/CometVisu/CometVisu/node_modules/@qooxdoo/framework/source/class/qx/ui/mobile/dialog/Popup.js"
  ],
  "sourcesContent": [
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2011 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Gabriel Munteanu (gabios)\n     * Christopher Zuendorf (czuendorf)\n\n************************************************************************ */\n\n/**\n * The popup represents a widget that gets shown above other widgets,\n * usually to present more info/details regarding an item in the application.\n *\n * There are 3 usages for now:\n *\n * <pre class='javascript'>\n * var widget = new qx.ui.mobile.form.Button(\"Error!\");\n * var popup = new qx.ui.mobile.dialog.Popup(widget);\n * popup.show();\n * </pre>\n * Here we show a popup consisting of a single buttons alerting the user\n * that an error has occurred.\n * It will be centered to the screen.\n * <pre class='javascript'>\n * var label = new qx.ui.mobile.basic.Label(\"Item1\");\n * var widget = new qx.ui.mobile.form.Button(\"Error!\");\n * var popup = new qx.ui.mobile.dialog.Popup(widget, label);\n * popup.show();\n * widget.addListener(\"tap\", function(){\n *   popup.hide();\n * });\n *\n * </pre>\n *\n * In this case everything is as above, except that the popup will get shown next to \"label\"\n * so that the user can understand that the info presented is about the \"Item1\"\n * we also add a tap listener to the button that will hide out popup.\n *\n * Once created, the instance is reused between show/hide calls.\n *\n * <pre class='javascript'>\n * var widget = new qx.ui.mobile.form.Button(\"Error!\");\n * var popup = new qx.ui.mobile.dialog.Popup(widget);\n * popup.placeTo(25,100);\n * popup.show();\n * </pre>\n *\n * Same as the first example, but this time the popup will be shown at the 25,100 coordinates.\n *\n *\n */\nqx.Class.define(\"qx.ui.mobile.dialog.Popup\", {\n  extend: qx.ui.mobile.core.Widget,\n\n  statics: {\n    ROOT: null\n  },\n\n  /**\n   * @param widget {qx.ui.mobile.core.Widget} the widget that will be shown in the popup\n   * @param anchor {qx.ui.mobile.core.Widget?} optional parameter, a widget to attach this popup to\n   */\n  construct(widget, anchor) {\n    super();\n    this.exclude();\n\n    if (qx.ui.mobile.dialog.Popup.ROOT == null) {\n      qx.ui.mobile.dialog.Popup.ROOT = qx.core.Init.getApplication().getRoot();\n    }\n    qx.ui.mobile.dialog.Popup.ROOT.add(this);\n\n    this.__anchor = anchor;\n\n    if (widget) {\n      this._initializeChild(widget);\n    }\n  },\n\n  properties: {\n    // overridden\n    defaultCssClass: {\n      refine: true,\n      init: \"popup\"\n    },\n\n    /**\n     * The label/caption/text of the qx.ui.mobile.basic.Atom instance\n     */\n    title: {\n      apply: \"_applyTitle\",\n      nullable: true,\n      check: \"String\",\n      event: \"changeTitle\"\n    },\n\n    /**\n     * Any URI String supported by qx.ui.mobile.basic.Image to display an icon\n     */\n    icon: {\n      check: \"String\",\n      apply: \"_applyIcon\",\n      nullable: true,\n      event: \"changeIcon\"\n    },\n\n    /**\n     * Whether the popup should be displayed modal.\n     */\n    modal: {\n      init: false,\n      check: \"Boolean\",\n      nullable: false\n    },\n\n    /**\n     * Indicates whether the a modal popup should disappear when user taps/clicks on Blocker.\n     */\n    hideOnBlockerTap: {\n      check: \"Boolean\",\n      init: false\n    }\n  },\n\n  members: {\n    __isShown: false,\n    __childrenContainer: null,\n    __percentageTop: null,\n    __anchor: null,\n    __widget: null,\n    __titleWidget: null,\n    __lastPopupDimension: null,\n\n    /**\n     * Event handler. Called whenever the position of the popup should be updated.\n     */\n    _updatePosition() {\n      // Traverse single anchor classes for removal, for preventing 'domupdated' event if no CSS classes changed.\n      var anchorClasses = [\"top\", \"bottom\", \"left\", \"right\", \"anchor\"];\n      for (var i = 0; i < anchorClasses.length; i++) {\n        this.removeCssClass(anchorClasses[i]);\n      }\n\n      if (this.__anchor) {\n        this.addCssClass(\"anchor\");\n\n        var rootHeight = qx.ui.mobile.dialog.Popup.ROOT.getHeight();\n        var rootWidth = qx.ui.mobile.dialog.Popup.ROOT.getWidth();\n\n        var rootPosition = qx.bom.element.Location.get(\n          qx.ui.mobile.dialog.Popup.ROOT.getContainerElement()\n        );\n\n        var anchorPosition = qx.bom.element.Location.get(\n          this.__anchor.getContainerElement()\n        );\n\n        var popupDimension = qx.bom.element.Dimension.getSize(\n          this.getContainerElement()\n        );\n\n        this.__lastPopupDimension = popupDimension;\n\n        var computedPopupPosition = qx.util.placement.Placement.compute(\n          popupDimension,\n          {\n            width: rootPosition.left + rootWidth,\n            height: rootPosition.top + rootHeight\n          },\n\n          anchorPosition,\n          {\n            left: 0,\n            right: 0,\n            top: 0,\n            bottom: 0\n          },\n\n          \"bottom-left\",\n          \"keep-align\",\n          \"keep-align\"\n        );\n\n        // Reset Anchor.\n        this._resetPosition();\n\n        var isTop = anchorPosition.top > computedPopupPosition.top;\n        var isLeft = anchorPosition.left > computedPopupPosition.left;\n\n        computedPopupPosition.top =\n          computedPopupPosition.top - rootPosition.top;\n        computedPopupPosition.left =\n          computedPopupPosition.left - rootPosition.left;\n\n        var isOutsideViewPort =\n          computedPopupPosition.top < 0 ||\n          computedPopupPosition.left < 0 ||\n          computedPopupPosition.left + popupDimension.width > rootWidth ||\n          computedPopupPosition.top + popupDimension.height > rootHeight;\n\n        if (isOutsideViewPort) {\n          this._positionToCenter();\n        } else {\n          if (isTop) {\n            this.addCssClass(\"bottom\");\n          } else {\n            this.addCssClass(\"top\");\n          }\n          if (isLeft) {\n            this.addCssClass(\"right\");\n          } else {\n            this.addCssClass(\"left\");\n          }\n\n          this.placeTo(computedPopupPosition.left, computedPopupPosition.top);\n        }\n      } else if (this.__childrenContainer) {\n        // No Anchor\n        this._positionToCenter();\n      }\n    },\n\n    /**\n     * This method shows the popup.\n     * First it updates the position, then registers the event handlers, and shows it.\n     */\n    show() {\n      if (!this.__isShown) {\n        qx.core.Init.getApplication().fireEvent(\"popup\");\n\n        this.__registerEventListener();\n\n        // Move outside of viewport\n        this.placeTo(-1000, -1000);\n\n        // Needs to be added to screen, before rendering position, for calculating\n        // objects height.\n        super.show();\n\n        // Now render position.\n        this._updatePosition();\n      }\n      this.__isShown = true;\n\n      if (this.getModal() === true) {\n        qx.ui.mobile.core.Blocker.getInstance().show();\n\n        if (this.getHideOnBlockerTap()) {\n          qx.ui.mobile.core.Blocker.getInstance().addListener(\n            \"tap\",\n            this.hide,\n            this\n          );\n        }\n      }\n    },\n\n    /**\n     * Hides the popup.\n     */\n    hide() {\n      if (this.__isShown) {\n        this.__unregisterEventListener();\n\n        this.exclude();\n      }\n      this.__isShown = false;\n\n      if (this.getModal()) {\n        qx.ui.mobile.core.Blocker.getInstance().hide();\n      }\n\n      qx.ui.mobile.core.Blocker.getInstance().removeListener(\n        \"tap\",\n        this.hide,\n        this\n      );\n    },\n\n    /**\n     * Hides the popup after a given time delay.\n     * @param delay {Integer} time delay in ms.\n     */\n    hideWithDelay(delay) {\n      if (delay) {\n        qx.lang.Function.delay(this.hide, delay, this);\n      } else {\n        this.hide();\n      }\n    },\n\n    /**\n     * Returns the shown state of this popup.\n     * @return {Boolean} whether the popup is shown or not.\n     */\n    isShown() {\n      return this.__isShown;\n    },\n\n    /**\n     * Toggles the visibility of this popup.\n     */\n    toggleVisibility() {\n      if (this.__isShown == true) {\n        this.hide();\n      } else {\n        this.show();\n      }\n    },\n\n    /**\n     * This method positions the popup widget at the coordinates specified.\n     * @param left {Integer} - the value the will be set to container's left style property\n     * @param top {Integer} - the value the will be set to container's top style property\n     */\n    placeTo(left, top) {\n      this._setStyle(\"left\", left + \"px\");\n      this._setStyle(\"top\", top + \"px\");\n    },\n\n    /**\n     * Tracks the user tap on root and hides the widget if <code>pointerdown</code> event\n     * occurs outside of the widgets bounds.\n     * @param evt {qx.event.type.Pointer} the pointer event.\n     */\n    _trackUserTap(evt) {\n      var clientX = evt.getViewportLeft();\n      var clientY = evt.getViewportTop();\n\n      var popupLocation = qx.bom.element.Location.get(\n        this.getContainerElement()\n      );\n\n      var isOutsideWidget =\n        clientX < popupLocation.left ||\n        clientX > popupLocation.left + this.__lastPopupDimension.width ||\n        clientY > popupLocation.top + this.__lastPopupDimension.height ||\n        clientY < popupLocation.top;\n\n      if (isOutsideWidget) {\n        this.hide();\n      }\n    },\n\n    /**\n     * Centers this widget to window's center position.\n     */\n    _positionToCenter() {\n      var container = this.getContainerElement();\n      container.style.position = \"absolute\";\n      container.style.marginLeft = -parseInt(container.offsetWidth / 2) + \"px\";\n      container.style.marginTop = -parseInt(container.offsetHeight / 2) + \"px\";\n      container.style.left = \"50%\";\n      container.style.top = \"50%\";\n    },\n\n    /**\n     * Resets the position of this element (left, top, margins...)\n     */\n    _resetPosition() {\n      var container = this.getContainerElement();\n      container.style.left = \"0px\";\n      container.style.top = \"0px\";\n      container.style.marginLeft = null;\n      container.style.marginTop = null;\n    },\n\n    /**\n     * Registers all needed event listeners\n     */\n    __registerEventListener() {\n      qx.core.Init.getApplication().addListener(\"stop\", this.hide, this);\n      qx.core.Init.getApplication().addListener(\"popup\", this.hide, this);\n\n      qx.event.Registration.addListener(\n        window,\n        \"resize\",\n        this._updatePosition,\n        this\n      );\n\n      if (this.__anchor) {\n        this.__anchor.addCssClass(\"anchor-target\");\n        qx.ui.mobile.dialog.Popup.ROOT.addListener(\n          \"pointerdown\",\n          this._trackUserTap,\n          this\n        );\n      }\n    },\n\n    /**\n     * Unregisters all needed event listeners\n     */\n    __unregisterEventListener() {\n      qx.core.Init.getApplication().removeListener(\"stop\", this.hide, this);\n      qx.core.Init.getApplication().removeListener(\"popup\", this.hide, this);\n\n      qx.event.Registration.removeListener(\n        window,\n        \"resize\",\n        this._updatePosition,\n        this\n      );\n\n      if (this.__anchor) {\n        this.__anchor.removeCssClass(\"anchor-target\");\n        qx.ui.mobile.dialog.Popup.ROOT.removeListener(\n          \"pointerdown\",\n          this._trackUserTap,\n          this\n        );\n      }\n    },\n\n    /**\n     * This method creates the container where the popup's widget will be placed\n     * and adds it to the popup.\n     * @param widget {qx.ui.mobile.core.Widget} - what to show in the popup\n     *\n     */\n    _initializeChild(widget) {\n      if (this.__childrenContainer == null) {\n        this.__childrenContainer = new qx.ui.mobile.container.Composite(\n          new qx.ui.mobile.layout.VBox()\n        );\n\n        this.__childrenContainer.setDefaultCssClass(\"popup-content\");\n        this._add(this.__childrenContainer);\n      }\n\n      if (this._createTitleWidget()) {\n        this.__childrenContainer.remove(this._createTitleWidget());\n        this.__childrenContainer.add(this._createTitleWidget());\n      }\n\n      this.__childrenContainer.add(widget, {\n        flex: 1\n      });\n\n      widget.addListener(\"domupdated\", this._updatePosition, this);\n\n      this.__widget = widget;\n    },\n\n    /**\n     * Creates the title atom widget.\n     *\n     * @return {qx.ui.mobile.basic.Atom} The title atom widget.\n     */\n    _createTitleWidget() {\n      if (this.__titleWidget) {\n        return this.__titleWidget;\n      }\n      if (this.getTitle() || this.getIcon()) {\n        this.__titleWidget = new qx.ui.mobile.basic.Atom(\n          this.getTitle(),\n          this.getIcon()\n        );\n\n        this.__titleWidget.addCssClass(\"popup-title\");\n        return this.__titleWidget;\n      } else {\n        return null;\n      }\n    },\n\n    // property apply\n    _applyTitle(value, old) {\n      if (value) {\n        if (this.__titleWidget) {\n          this.__titleWidget.setLabel(value);\n        } else {\n          this.__titleWidget = new qx.ui.mobile.basic.Atom(\n            value,\n            this.getIcon()\n          );\n\n          this.__titleWidget.addCssClass(\"popup-title\");\n\n          if (this.__widget) {\n            this.__childrenContainer.addBefore(\n              this._createTitleWidget(),\n              this.__widget\n            );\n          } else {\n            if (this.__childrenContainer) {\n              this.__childrenContainer.add(this._createTitleWidget());\n            }\n          }\n        }\n      }\n    },\n\n    // property apply\n    _applyIcon(value, old) {\n      if (value) {\n        if (this.__titleWidget) {\n          this.__titleWidget.setIcon(value);\n        } else {\n          this.__titleWidget = new qx.ui.mobile.basic.Atom(\n            this.getTitle(),\n            value\n          );\n\n          this.__titleWidget.addCssClass(\"popup-title\");\n\n          if (this.__widget) {\n            this.__childrenContainer.addBefore(\n              this._createTitleWidget(),\n              this.__widget\n            );\n          } else {\n            if (this.__childrenContainer) {\n              this.__childrenContainer.add(this._createTitleWidget());\n            }\n          }\n        }\n      }\n    },\n\n    /**\n     * Adds the widget that will be shown in this popup. This method can be used in the case when you have removed the widget from the popup\n     * or you haven't passed it in the constructor.\n     * @param widget {qx.ui.mobile.core.Widget} - what to show in the popup\n     */\n    add(widget) {\n      this.removeWidget();\n      this._initializeChild(widget);\n    },\n\n    /**\n     * A widget to attach this popup to.\n     *\n     * @param widget {qx.ui.mobile.core.Widget} The anchor widget.\n     */\n    setAnchor(widget) {\n      this.__anchor = widget;\n      this._updatePosition();\n    },\n\n    /**\n     * Returns the title widget.\n     *\n     * @return {qx.ui.mobile.basic.Atom} The title widget.\n     */\n    getTitleWidget() {\n      return this.__titleWidget;\n    },\n\n    /**\n     * This method removes the widget shown in the popup.\n     * @return {qx.ui.mobile.core.Widget|null} The removed widget or <code>null</code>\n     * if the popup doesn't have an attached widget\n     */\n    removeWidget() {\n      if (this.__widget) {\n        this.__widget.removeListener(\"domupdated\", this._updatePosition, this);\n        this.__childrenContainer.remove(this.__widget);\n        return this.__widget;\n      } else {\n        if (qx.core.Environment.get(\"qx.debug\")) {\n          qx.log.Logger.debug(this, \"this popup has no widget attached yet\");\n        }\n        return null;\n      }\n    }\n  },\n\n  destruct() {\n    this.__unregisterEventListener();\n    this._disposeObjects(\"__childrenContainer\");\n\n    this.__isShown =\n      this.__percentageTop =\n      this._anchor =\n      this.__widget =\n      this.__lastPopupDimension =\n        null;\n  }\n});\n"
  ],
  "mappings": "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"
}