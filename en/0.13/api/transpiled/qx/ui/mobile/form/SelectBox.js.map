{
  "version": 3,
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "extend",
    "ui",
    "mobile",
    "core",
    "Widget",
    "include",
    "form",
    "MValue",
    "MForm",
    "MText",
    "MState",
    "implement",
    "IForm",
    "IField",
    "IModel",
    "construct",
    "_setAttribute",
    "setReadOnly",
    "addListener",
    "blur",
    "_onTap",
    "__selectionDialog",
    "_createSelectionDialog",
    "addCssClass",
    "_onChangeSelection",
    "events",
    "changeSelection",
    "properties",
    "defaultCssClass",
    "refine",
    "init",
    "activatable",
    "nullable",
    "check",
    "apply",
    "model",
    "event",
    "selection",
    "validate",
    "members",
    "_getTagName",
    "menu",
    "dialog",
    "Menu",
    "setSelectedItemClass",
    "setUnselectedItemClass",
    "setHideOnBlockerTap",
    "getSelectionDialog",
    "setDialogTitle",
    "title",
    "setTitle",
    "setClearButtonLabel",
    "value",
    "_setValue",
    "getModel",
    "isNullable",
    "setSelection",
    "indexOf",
    "_getValue",
    "_getAttribute",
    "_render",
    "length",
    "selectedItem",
    "getItem",
    "getSelection",
    "_domUpdated",
    "_applyModel",
    "old",
    "removeListener",
    "__showSelectionDialog",
    "isEnabled",
    "setSelectedIndex",
    "setItems",
    "show",
    "evt",
    "getData",
    "index",
    "getOriginalTarget",
    "focus",
    "_validateSelection",
    "lang",
    "Type",
    "isNumber",
    "ValidationError",
    "getLength",
    "_applySelection",
    "fireDataEvent",
    "item",
    "_applyNullable",
    "setNullable",
    "destruct",
    "_disposeObjects",
    "SelectBox"
  ],
  "sources": [
    "/home/runner/work/CometVisu/CometVisu/node_modules/@qooxdoo/framework/source/class/qx/ui/mobile/form/SelectBox.js"
  ],
  "sourcesContent": [
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2011 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Gabriel Munteanu (gabios)\n     * Christopher Zuendorf (czuendorf)\n\n************************************************************************ */\n\n/**\n * The SelectBox\n *\n * an example, how to use the SelectBox:\n * *Example*\n *\n * <pre class='javascript'>\n *    var page1 = new qx.ui.mobile.page.Page();\n *    page1.addListener(\"initialize\", function()\n *    {\n *      var sel = new qx.ui.mobile.form.SelectBox();\n *      page1.add(sel);\n *      var model = new qx.data.Array([\"item1\",\"item2\"]);\n *      sel.setModel(model);\n *      model.push(\"item3\");\n *\n *      var but = new qx.ui.mobile.form.Button(\"setSelection\");\n *      page1.add(but);\n *      but.addListener(\"tap\", function(){\n *        sel.setSelection(\"item3\");\n *      }, this);\n *\n *      sel.addListener(\"changeSelection\", function(evt) {\n *        console.log(evt.getData());\n *      }, this);\n *\n *      var title = new qx.ui.mobile.form.Title(\"item2\");\n *      title.bind(\"value\",sel,\"value\");\n *      sel.bind(\"value\",title,\"value\");\n *      page1.add(title);\n *   },this);\n *\n *   page1.show();\n *  </pre>\n */\nqx.Class.define(\"qx.ui.mobile.form.SelectBox\", {\n  extend: qx.ui.mobile.core.Widget,\n  include: [\n    qx.ui.mobile.form.MValue,\n    qx.ui.form.MForm,\n    qx.ui.mobile.form.MText,\n    qx.ui.mobile.form.MState\n  ],\n\n  implement: [qx.ui.form.IForm, qx.ui.form.IField, qx.ui.form.IModel],\n\n  /*\n  *****************************************************************************\n     CONSTRUCTOR\n  *****************************************************************************\n  */\n  construct() {\n    super();\n\n    // This text node is for compatibility reasons, because Firefox can not\n    // change appearance of SelectBoxes.\n    this._setAttribute(\"type\", \"text\");\n    this.setReadOnly(true);\n\n    this.addListener(\"focus\", this.blur);\n    this.addListener(\"tap\", this._onTap, this);\n\n    // Selection dialog creation.\n    this.__selectionDialog = this._createSelectionDialog();\n\n    this.addCssClass(\"gap\");\n\n    // When selectionDialogs changes selection, get chosen selectedIndex from it.\n    this.__selectionDialog.addListener(\n      \"changeSelection\",\n      this._onChangeSelection,\n      this\n    );\n  },\n\n  /*\n  *****************************************************************************\n     EVENTS\n  *****************************************************************************\n  */\n  events: {\n    /**\n     * Fired when user selects an item.\n     */\n    changeSelection: \"qx.event.type.Data\"\n  },\n\n  /*\n  *****************************************************************************\n     PROPERTIES\n  *****************************************************************************\n  */\n\n  properties: {\n    // overridden\n    defaultCssClass: {\n      refine: true,\n      init: \"selectbox\"\n    },\n\n    // overridden\n    activatable: {\n      refine: true,\n      init: true\n    },\n\n    /**\n     * Defines if the SelectBox has a clearButton, which resets the selection.\n     */\n    nullable: {\n      init: true,\n      check: \"Boolean\",\n      apply: \"_applyNullable\"\n    },\n\n    /**\n     * The model to use to render the list.\n     */\n    model: {\n      check: \"qx.data.Array\",\n      apply: \"_applyModel\",\n      event: \"changeModel\",\n      nullable: true,\n      init: null\n    },\n\n    /**\n     * The selected index of this SelectBox.\n     */\n    selection: {\n      init: null,\n      validate: \"_validateSelection\",\n      apply: \"_applySelection\",\n      nullable: true\n    }\n  },\n\n  members: {\n    __selectionDialog: null,\n\n    // overridden\n    _getTagName() {\n      // No select here, see BUG #6054\n      return \"input\";\n    },\n\n    /**\n     * Creates the menu dialog. Override this to customize the widget.\n     *\n     * @return {qx.ui.mobile.dialog.Menu} A dialog, containing a selection list.\n     */\n    _createSelectionDialog() {\n      var menu = new qx.ui.mobile.dialog.Menu();\n\n      // Special appearance for SelectBox menu items.\n      menu.setSelectedItemClass(\"selectbox-selected\");\n      menu.setUnselectedItemClass(\"selectbox-unselected\");\n\n      // Hide selectionDialog on tap on blocker.\n      menu.setHideOnBlockerTap(true);\n\n      return menu;\n    },\n\n    /**\n     * Returns the SelectionDialog.\n     * @return {qx.ui.mobile.dialog.Menu} the SelectionDialog.\n     */\n    getSelectionDialog() {\n      return this.__selectionDialog;\n    },\n\n    /**\n     * Sets the dialog title on the selection dialog.\n     * @param title {String} the title to set on selection dialog.\n     */\n    setDialogTitle(title) {\n      this.__selectionDialog.setTitle(title);\n    },\n\n    /**\n     * Set the ClearButton label of the selection dialog.\n     * @param value {String} the value to set on the ClearButton at selection dialog.\n     */\n    setClearButtonLabel(value) {\n      this.__selectionDialog.setClearButtonLabel(value);\n    },\n\n    /**\n     * Sets the selected text value of this SelectBox.\n     * @param value {String} the text value which should be selected.\n     */\n    _setValue(value) {\n      if (this.getModel() == null) {\n        return;\n      }\n\n      if (value == \"\") {\n        if (this.isNullable()) {\n          this.setSelection(null);\n        } else {\n          this.setSelection(0);\n        }\n      } else if (value != null) {\n        this.setSelection(this.getModel().indexOf(value));\n      } else {\n        this.setSelection(null);\n      }\n    },\n\n    /**\n     * Get the text value of this\n     * It is called by setValue method of qx.ui.mobile.form.MValue mixin.\n     * @return {Number} the new selected index of the SelectBox.\n     */\n    _getValue() {\n      return this._getAttribute(\"value\");\n    },\n\n    /**\n     * Renders this SelectBox. Override this if you would like to display the\n     * values of the SelectBox in a different way than the default.\n     */\n    _render() {\n      if (this.getModel() != null && this.getModel().length > 0) {\n        var selectedItem = this.getModel().getItem(this.getSelection());\n        this._setAttribute(\"value\", selectedItem);\n      }\n\n      this._domUpdated();\n    },\n\n    /**\n     * Sets the model property to the new value\n     * @param value {qx.data.Array}, the new model\n     * @param old {qx.data.Array?}, the old model\n     */\n    _applyModel(value, old) {\n      value.addListener(\"change\", this._render, this);\n      if (old != null) {\n        old.removeListener(\"change\", this._render, this);\n      }\n\n      this._render();\n    },\n\n    /**\n     * Refreshs selection dialogs model, and shows it.\n     */\n    __showSelectionDialog() {\n      if (this.isEnabled() == true) {\n        // Set index before items, because setItems() triggers rendering.\n        this.__selectionDialog.setSelectedIndex(this.getSelection());\n        this.__selectionDialog.setItems(this.getModel());\n        this.__selectionDialog.show();\n      }\n    },\n\n    /**\n     * Gets the selectedIndex out of change selection event and renders view.\n     * @param evt {qx.event.type.Data} data event.\n     */\n    _onChangeSelection(evt) {\n      this.setSelection(evt.getData().index);\n      this._render();\n    },\n\n    /**\n     * Handler for <code>tap</code> event on this widget.\n     * @param evt {qx.event.type.Tap} the handling tap event.\n     */\n    _onTap(evt) {\n      this.__showSelectionDialog();\n\n      // request focus so that it leaves previous widget\n      // such as text field and hide virtual keyboard.\n      evt.getOriginalTarget().focus();\n    },\n\n    /**\n     * Validates the selection value.\n     * @param value {Integer} the selection value to validate.\n     */\n    _validateSelection(value) {\n      if (value != null && qx.lang.Type.isNumber(value) == false) {\n        throw new qx.core.ValidationError(\n          \"Validation Error: Input value is not a number\"\n        );\n      }\n\n      if (this.getModel() === null) {\n        throw new qx.core.ValidationError(\n          \"Validation Error: Please apply model before selection\"\n        );\n      }\n\n      if (!this.isNullable() && value === null) {\n        throw new qx.core.ValidationError(\n          \"Validation Error: SelectBox is not nullable\"\n        );\n      }\n\n      if (\n        value != null &&\n        (value < 0 || value >= this.getModel().getLength())\n      ) {\n        throw new qx.core.ValidationError(\n          \"Validation Error: Input value is out of model range\"\n        );\n      }\n    },\n\n    // property apply\n    _applySelection(value, old) {\n      var selectedItem = this.getModel().getItem(value);\n      this.fireDataEvent(\"changeSelection\", {\n        index: value,\n        item: selectedItem\n      });\n\n      this._render();\n    },\n\n    // property apply\n    _applyNullable(value, old) {\n      // Delegate nullable property.\n      this.__selectionDialog.setNullable(value);\n    }\n  },\n\n  destruct() {\n    this.__selectionDialog.removeListener(\n      \"changeSelection\",\n      this._onChangeSelection,\n      this\n    );\n\n    this._disposeObjects(\"__selectionDialog\", \"__selectionDialogTitle\");\n\n    this.removeListener(\"focus\", this.blur);\n    this.removeListener(\"tap\", this._onTap, this);\n  }\n});\n"
  ],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;EAAAA,EAAE,CAACC,SAAH,CAAaC,oBAAb,CAAkCC,aAAlC;;EAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;EAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EACAH,EAAE,CAACI,KAAH,CAASC,MAAT,CAAgB,6BAAhB,EAA+C;IAC7CC,MAAM,EAAEN,EAAE,CAACO,EAAH,CAAMC,MAAN,CAAaC,IAAb,CAAkBC,MADmB;IAE7CC,OAAO,EAAE,CACPX,EAAE,CAACO,EAAH,CAAMC,MAAN,CAAaI,IAAb,CAAkBC,MADX,EAEPb,EAAE,CAACO,EAAH,CAAMK,IAAN,CAAWE,KAFJ,EAGPd,EAAE,CAACO,EAAH,CAAMC,MAAN,CAAaI,IAAb,CAAkBG,KAHX,EAIPf,EAAE,CAACO,EAAH,CAAMC,MAAN,CAAaI,IAAb,CAAkBI,MAJX,CAFoC;IAS7CC,SAAS,EAAE,CAACjB,EAAE,CAACO,EAAH,CAAMK,IAAN,CAAWM,KAAZ,EAAmBlB,EAAE,CAACO,EAAH,CAAMK,IAAN,CAAWO,MAA9B,EAAsCnB,EAAE,CAACO,EAAH,CAAMK,IAAN,CAAWQ,MAAjD,CATkC;;IAW7C;AACF;AACA;AACA;AACA;IACEC,SAhB6C,uBAgBjC;MACV,gDADU,CAGV;MACA;;MACA,KAAKC,aAAL,CAAmB,MAAnB,EAA2B,MAA3B;;MACA,KAAKC,WAAL,CAAiB,IAAjB;MAEA,KAAKC,WAAL,CAAiB,OAAjB,EAA0B,KAAKC,IAA/B;MACA,KAAKD,WAAL,CAAiB,KAAjB,EAAwB,KAAKE,MAA7B,EAAqC,IAArC,EATU,CAWV;;MACA,KAAKC,SAAL,GAAyB,KAAKC,sBAAL,EAAzB;MAEA,KAAKC,WAAL,CAAiB,KAAjB,EAdU,CAgBV;;MACA,KAAKF,SAAL,CAAuBH,WAAvB,CACE,iBADF,EAEE,KAAKM,kBAFP,EAGE,IAHF;IAKD,CAtC4C;;IAwC7C;AACF;AACA;AACA;AACA;IACEC,MAAM,EAAE;MACN;AACJ;AACA;MACIC,eAAe,EAAE;IAJX,CA7CqC;;IAoD7C;AACF;AACA;AACA;AACA;IAEEC,UAAU,EAAE;MACV;MACAC,eAAe,EAAE;QACfC,MAAM,EAAE,IADO;QAEfC,IAAI,EAAE;MAFS,CAFP;MAOV;MACAC,WAAW,EAAE;QACXF,MAAM,EAAE,IADG;QAEXC,IAAI,EAAE;MAFK,CARH;;MAaV;AACJ;AACA;MACIE,QAAQ,EAAE;QACRF,IAAI,EAAE,IADE;QAERG,KAAK,EAAE,SAFC;QAGRC,KAAK,EAAE;MAHC,CAhBA;;MAsBV;AACJ;AACA;MACIC,KAAK,EAAE;QACLF,KAAK,EAAE,eADF;QAELC,KAAK,EAAE,aAFF;QAGLE,KAAK,EAAE,aAHF;QAILJ,QAAQ,EAAE,IAJL;QAKLF,IAAI,EAAE;MALD,CAzBG;;MAiCV;AACJ;AACA;MACIO,SAAS,EAAE;QACTP,IAAI,EAAE,IADG;QAETQ,QAAQ,EAAE,oBAFD;QAGTJ,KAAK,EAAE,iBAHE;QAITF,QAAQ,EAAE;MAJD;IApCD,CA1DiC;IAsG7CO,OAAO,EAAE;MACPlB,SAAiB,EAAE,IADZ;MAGP;MACAmB,WAJO,yBAIO;QACZ;QACA,OAAO,OAAP;MACD,CAPM;;MASP;AACJ;AACA;AACA;AACA;MACIlB,sBAdO,oCAckB;QACvB,IAAImB,IAAI,GAAG,IAAI/C,EAAE,CAACO,EAAH,CAAMC,MAAN,CAAawC,MAAb,CAAoBC,IAAxB,EAAX,CADuB,CAGvB;;QACAF,IAAI,CAACG,oBAAL,CAA0B,oBAA1B;QACAH,IAAI,CAACI,sBAAL,CAA4B,sBAA5B,EALuB,CAOvB;;QACAJ,IAAI,CAACK,mBAAL,CAAyB,IAAzB;QAEA,OAAOL,IAAP;MACD,CAzBM;;MA2BP;AACJ;AACA;AACA;MACIM,kBA/BO,gCA+Bc;QACnB,OAAO,KAAK1B,SAAZ;MACD,CAjCM;;MAmCP;AACJ;AACA;AACA;MACI2B,cAvCO,0BAuCQC,KAvCR,EAuCe;QACpB,KAAK5B,SAAL,CAAuB6B,QAAvB,CAAgCD,KAAhC;MACD,CAzCM;;MA2CP;AACJ;AACA;AACA;MACIE,mBA/CO,+BA+CaC,KA/Cb,EA+CoB;QACzB,KAAK/B,SAAL,CAAuB8B,mBAAvB,CAA2CC,KAA3C;MACD,CAjDM;;MAmDP;AACJ;AACA;AACA;MACIC,SAvDO,qBAuDGD,KAvDH,EAuDU;QACf,IAAI,KAAKE,QAAL,MAAmB,IAAvB,EAA6B;UAC3B;QACD;;QAED,IAAIF,KAAK,IAAI,EAAb,EAAiB;UACf,IAAI,KAAKG,UAAL,EAAJ,EAAuB;YACrB,KAAKC,YAAL,CAAkB,IAAlB;UACD,CAFD,MAEO;YACL,KAAKA,YAAL,CAAkB,CAAlB;UACD;QACF,CAND,MAMO,IAAIJ,KAAK,IAAI,IAAb,EAAmB;UACxB,KAAKI,YAAL,CAAkB,KAAKF,QAAL,GAAgBG,OAAhB,CAAwBL,KAAxB,CAAlB;QACD,CAFM,MAEA;UACL,KAAKI,YAAL,CAAkB,IAAlB;QACD;MACF,CAvEM;;MAyEP;AACJ;AACA;AACA;AACA;MACIE,SA9EO,uBA8EK;QACV,OAAO,KAAKC,aAAL,CAAmB,OAAnB,CAAP;MACD,CAhFM;;MAkFP;AACJ;AACA;AACA;MACIC,OAtFO,qBAsFG;QACR,IAAI,KAAKN,QAAL,MAAmB,IAAnB,IAA2B,KAAKA,QAAL,GAAgBO,MAAhB,GAAyB,CAAxD,EAA2D;UACzD,IAAIC,YAAY,GAAG,KAAKR,QAAL,GAAgBS,OAAhB,CAAwB,KAAKC,YAAL,EAAxB,CAAnB;;UACA,KAAKhD,aAAL,CAAmB,OAAnB,EAA4B8C,YAA5B;QACD;;QAED,KAAKG,WAAL;MACD,CA7FM;;MA+FP;AACJ;AACA;AACA;AACA;MACIC,WApGO,uBAoGKd,KApGL,EAoGYe,GApGZ,EAoGiB;QACtBf,KAAK,CAAClC,WAAN,CAAkB,QAAlB,EAA4B,KAAK0C,OAAjC,EAA0C,IAA1C;;QACA,IAAIO,GAAG,IAAI,IAAX,EAAiB;UACfA,GAAG,CAACC,cAAJ,CAAmB,QAAnB,EAA6B,KAAKR,OAAlC,EAA2C,IAA3C;QACD;;QAED,KAAKA,OAAL;MACD,CA3GM;;MA6GP;AACJ;AACA;MACIS,SAhHO,uBAgHiB;QACtB,IAAI,KAAKC,SAAL,MAAoB,IAAxB,EAA8B;UAC5B;UACA,KAAKjD,SAAL,CAAuBkD,gBAAvB,CAAwC,KAAKP,YAAL,EAAxC;;UACA,KAAK3C,SAAL,CAAuBmD,QAAvB,CAAgC,KAAKlB,QAAL,EAAhC;;UACA,KAAKjC,SAAL,CAAuBoD,IAAvB;QACD;MACF,CAvHM;;MAyHP;AACJ;AACA;AACA;MACIjD,kBA7HO,8BA6HYkD,GA7HZ,EA6HiB;QACtB,KAAKlB,YAAL,CAAkBkB,GAAG,CAACC,OAAJ,GAAcC,KAAhC;;QACA,KAAKhB,OAAL;MACD,CAhIM;;MAkIP;AACJ;AACA;AACA;MACIxC,MAtIO,kBAsIAsD,GAtIA,EAsIK;QACV,KAAKL,SAAL,GADU,CAGV;QACA;;;QACAK,GAAG,CAACG,iBAAJ,GAAwBC,KAAxB;MACD,CA5IM;;MA8IP;AACJ;AACA;AACA;MACIC,kBAlJO,8BAkJY3B,KAlJZ,EAkJmB;QACxB,IAAIA,KAAK,IAAI,IAAT,IAAiB1D,EAAE,CAACsF,IAAH,CAAQC,IAAR,CAAaC,QAAb,CAAsB9B,KAAtB,KAAgC,KAArD,EAA4D;UAC1D,MAAM,IAAI1D,EAAE,CAACS,IAAH,CAAQgF,eAAZ,CACJ,+CADI,CAAN;QAGD;;QAED,IAAI,KAAK7B,QAAL,OAAoB,IAAxB,EAA8B;UAC5B,MAAM,IAAI5D,EAAE,CAACS,IAAH,CAAQgF,eAAZ,CACJ,uDADI,CAAN;QAGD;;QAED,IAAI,CAAC,KAAK5B,UAAL,EAAD,IAAsBH,KAAK,KAAK,IAApC,EAA0C;UACxC,MAAM,IAAI1D,EAAE,CAACS,IAAH,CAAQgF,eAAZ,CACJ,6CADI,CAAN;QAGD;;QAED,IACE/B,KAAK,IAAI,IAAT,KACCA,KAAK,GAAG,CAAR,IAAaA,KAAK,IAAI,KAAKE,QAAL,GAAgB8B,SAAhB,EADvB,CADF,EAGE;UACA,MAAM,IAAI1F,EAAE,CAACS,IAAH,CAAQgF,eAAZ,CACJ,qDADI,CAAN;QAGD;MACF,CA7KM;MA+KP;MACAE,eAhLO,2BAgLSjC,KAhLT,EAgLgBe,GAhLhB,EAgLqB;QAC1B,IAAIL,YAAY,GAAG,KAAKR,QAAL,GAAgBS,OAAhB,CAAwBX,KAAxB,CAAnB;QACA,KAAKkC,aAAL,CAAmB,iBAAnB,EAAsC;UACpCV,KAAK,EAAExB,KAD6B;UAEpCmC,IAAI,EAAEzB;QAF8B,CAAtC;;QAKA,KAAKF,OAAL;MACD,CAxLM;MA0LP;MACA4B,cA3LO,0BA2LQpC,KA3LR,EA2Lee,GA3Lf,EA2LoB;QACzB;QACA,KAAK9C,SAAL,CAAuBoE,WAAvB,CAAmCrC,KAAnC;MACD;IA9LM,CAtGoC;IAuS7CsC,QAvS6C,sBAuSlC;MACT,KAAKrE,SAAL,CAAuB+C,cAAvB,CACE,iBADF,EAEE,KAAK5C,kBAFP,EAGE,IAHF;;MAMA,KAAKmE,eAAL,CAAqB,WAArB,EAA0C,wBAA1C;;MAEA,KAAKvB,cAAL,CAAoB,OAApB,EAA6B,KAAKjD,IAAlC;MACA,KAAKiD,cAAL,CAAoB,KAApB,EAA2B,KAAKhD,MAAhC,EAAwC,IAAxC;IACD;EAlT4C,CAA/C;EAtDA1B,EAAE,CAACO,EAAH,CAAMC,MAAN,CAAaI,IAAb,CAAkBsF,SAAlB,CAA4B/F,aAA5B,GAA4CA,aAA5C"
}