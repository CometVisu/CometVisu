{
  "version": 3,
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Mixin",
    "define",
    "properties",
    "suite",
    "check",
    "nullable",
    "init",
    "members",
    "_getClassNameFromUrl",
    "params",
    "window",
    "location",
    "search",
    "className",
    "match",
    "setTestNamespace",
    "namespace",
    "dev",
    "unit",
    "TestSuite",
    "add",
    "setSuite",
    "runJsUnit",
    "testResult",
    "JsUnitTestResult",
    "getSuite",
    "run",
    "exportToJsUnit",
    "runStandAlone",
    "_this",
    "TestResult",
    "addListener",
    "e",
    "ex",
    "getData",
    "exception",
    "test",
    "error",
    "getFullName",
    "message",
    "getComment",
    "getStackTrace",
    "join",
    "getTestDescriptions",
    "desc",
    "classes",
    "getTestClasses",
    "i",
    "length",
    "cls",
    "clsDesc",
    "classname",
    "getName",
    "tests",
    "methods",
    "getTestMethods",
    "j",
    "push",
    "lang",
    "Json",
    "stringify",
    "runTests",
    "methodName",
    "runTestsFromNamespace",
    "namespaceName",
    "indexOf",
    "MTestLoader"
  ],
  "sources": [
    "/home/runner/work/CometVisu/CometVisu/node_modules/@qooxdoo/framework/source/class/qx/dev/unit/MTestLoader.js"
  ],
  "sourcesContent": [
    "/* ************************************************************************\r\n\r\n   qooxdoo - the new era of web development\r\n\r\n   http://qooxdoo.org\r\n\r\n   Copyright:\r\n     2007-2008 1&1 Internet AG, Germany, http://www.1und1.de\r\n\r\n   License:\r\n     MIT: https://opensource.org/licenses/MIT\r\n     See the LICENSE file in the project's top-level directory for details.\r\n\r\n   Authors:\r\n     * Fabian Jakobs (fjakobs)\r\n     * Daniel Wagner (d_wagner)\r\n\r\n************************************************************************ */\r\n\r\n/**\r\n * This mixin contains the methods needed to implement a loader that will\r\n * create a suite of unit tests from a given namespace and run it directly or\r\n * provide the necessary information to a more advanced runner application\r\n */\r\nqx.Mixin.define(\"qx.dev.unit.MTestLoader\", {\r\n  /*\r\n  *****************************************************************************\r\n     PROPERTIES\r\n  *****************************************************************************\r\n  */\r\n\r\n  properties: {\r\n    /** The test suite */\r\n    suite: {\r\n      check: \"qx.dev.unit.TestSuite\",\r\n      nullable: true,\r\n      init: null\r\n    }\r\n  },\r\n\r\n  /*\r\n  *****************************************************************************\r\n     PROPERTIES\r\n  *****************************************************************************\r\n  */\r\n\r\n  members: {\r\n    /**\r\n     * Parses the url parameters and tries to find the classes to test.\r\n     * The pattern is like <code>index.html?testclass=qx.test</code>\r\n     *\r\n     * @return {String} the class/namespace to test\r\n     */\r\n    _getClassNameFromUrl() {\r\n      var params = window.location.search;\r\n      var className = params.match(/[\\?&]testclass=([A-Za-z0-9_\\.]+)/);\r\n\r\n      if (className) {\r\n        className = className[1];\r\n      } else {\r\n        className = \"__unknown_class__\";\r\n      }\r\n\r\n      return className;\r\n    },\r\n\r\n    /**\r\n     * Sets the top level namespace of the test cases to test. All classes\r\n     * below this namespace extending {@link TestCase} will be tested.\r\n     *\r\n     * @param namespace {Object} Namespace to add\r\n     */\r\n    setTestNamespace(namespace) {\r\n      var suite = new qx.dev.unit.TestSuite();\r\n      suite.add(namespace);\r\n      this.setSuite(suite);\r\n    },\r\n\r\n    /**\r\n     * Run all tests and export the results to JSUnit\r\n     */\r\n    runJsUnit() {\r\n      var testResult = new qx.dev.unit.JsUnitTestResult();\r\n      this.getSuite().run(testResult);\r\n      testResult.exportToJsUnit();\r\n    },\r\n\r\n    /**\r\n     * Run tests as standalone application\r\n     */\r\n    runStandAlone() {\r\n      var testResult = new qx.dev.unit.TestResult();\r\n\r\n      testResult.addListener(\"failure\", e => {\r\n        var ex = e.getData()[0].exception;\r\n        var test = e.getData()[0].test;\r\n        this.error(\r\n          \"Test '\" +\r\n            test.getFullName() +\r\n            \"' failed: \" +\r\n            ex.message +\r\n            \" - \" +\r\n            ex.getComment()\r\n        );\r\n\r\n        if (ex.getStackTrace) {\r\n          this.error(\"Stack trace: \" + ex.getStackTrace().join(\"\\n\"));\r\n        }\r\n      });\r\n\r\n      testResult.addListener(\"error\", e => {\r\n        var ex = e.getData()[0].exception;\r\n        var test = e.getData()[0].test;\r\n        this.error(\r\n          \"The test '\" + test.getFullName() + \"' had an error: \" + ex,\r\n          ex\r\n        );\r\n      });\r\n\r\n      this.getSuite().run(testResult);\r\n    },\r\n\r\n    /**\r\n     * Get a list of test descriptions\r\n     *\r\n     * @return {String} A description of all tests.\r\n     */\r\n    getTestDescriptions() {\r\n      var desc = [];\r\n      var classes = this.getSuite().getTestClasses();\r\n\r\n      for (var i = 0; i < classes.length; i++) {\r\n        var cls = classes[i];\r\n        var clsDesc = {};\r\n        clsDesc.classname = cls.getName();\r\n        clsDesc.tests = [];\r\n        var methods = cls.getTestMethods();\r\n\r\n        for (var j = 0; j < methods.length; j++) {\r\n          clsDesc.tests.push(methods[j].getName());\r\n        }\r\n\r\n        desc.push(clsDesc);\r\n      }\r\n\r\n      return qx.lang.Json.stringify(desc);\r\n    },\r\n\r\n    /**\r\n     * Runs exactly one test from the test suite\r\n     *\r\n     * @param testResult {qx.dev.unit.TestResult} the result logger\r\n     * @param className {String} Name of the test class\r\n     * @param methodName {String} Name of the test method\r\n     */\r\n    runTests(testResult, className, methodName) {\r\n      var classes = this.getSuite().getTestClasses();\r\n\r\n      for (var i = 0; i < classes.length; i++) {\r\n        if (className == classes[i].getName()) {\r\n          var methods = classes[i].getTestMethods();\r\n\r\n          for (var j = 0; j < methods.length; j++) {\r\n            if (methodName && methods[j].getName() != methodName) {\r\n              continue;\r\n            }\r\n\r\n            methods[j].run(testResult);\r\n          }\r\n\r\n          return;\r\n        }\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Runs all tests inside of the given namespace\r\n     *\r\n     * @param testResult {qx.dev.unit.TestResult} the result logger\r\n     * @param namespaceName {String} Namespace of the tests to run\r\n     */\r\n    runTestsFromNamespace(testResult, namespaceName) {\r\n      var classes = this.getSuite().getTestClasses();\r\n\r\n      for (var i = 0; i < classes.length; i++) {\r\n        if (classes[i].getName().indexOf(namespaceName) == 0) {\r\n          classes[i].run(testResult);\r\n        }\r\n      }\r\n    }\r\n  }\r\n});\r\n"
  ],
  "mappings": "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"
}