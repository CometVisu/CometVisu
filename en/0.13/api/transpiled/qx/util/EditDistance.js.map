{
  "version": 3,
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "statics",
    "OPERATION_DELETE",
    "OPERATION_INSERT",
    "OPERATION_REPLACE",
    "__computeLevenshteinDistance",
    "dataA",
    "dataB",
    "distance",
    "posA",
    "posB",
    "cost",
    "length",
    "undefined",
    "Math",
    "min",
    "__computeEditOperations",
    "operations",
    "i",
    "push",
    "operation",
    "pos",
    "old",
    "value",
    "getEditOperations",
    "util",
    "EditDistance"
  ],
  "sources": [
    "/home/runner/work/CometVisu/CometVisu/node_modules/@qooxdoo/framework/source/class/qx/util/EditDistance.js"
  ],
  "sourcesContent": [
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Sebastian Werner (wpbasti)\n     * Fabian Jakobs (fjakobs)\n\n************************************************************************ */\n\n/**\n * Class to implement different edit distance ideas.\n *\n * <a href=\"http://en.wikipedia.org/wiki/Edit_distance\">Edit distance on Wikipedia</a>\n * <a href=\"http://en.wikipedia.org/wiki/Levenshtein_distance\">Levenshtein distance on Wikipedia</a>\n */\nqx.Class.define(\"qx.util.EditDistance\", {\n  statics: {\n    OPERATION_DELETE: 1,\n    OPERATION_INSERT: 2,\n    OPERATION_REPLACE: 3,\n\n    /**\n     * Returns a distant matrix following a concept\n     * named Levenshtein distance for two data structures\n     *\n     * @param dataA {Array} incoming source data\n     * @param dataB {Array} incoming target data\n     * @return {Integer[][]} outgoing matrix\n     */\n    __computeLevenshteinDistance(dataA, dataB) {\n      // distance is dataA table with dataA.length+1 rows and dataB.length+1 columns\n      var distance = [];\n\n      // posA and posB are used to iterate over str1 and str2\n      var posA, posB, cost;\n\n      for (posA = 0; posA <= dataA.length; posA++) {\n        distance[posA] = [];\n        distance[posA][0] = posA;\n      }\n\n      for (posB = 1; posB <= dataB.length; posB++) {\n        distance[0][posB] = posB;\n      }\n\n      for (posA = 1; posA <= dataA.length; posA++) {\n        for (posB = 1; posB <= dataB.length; posB++) {\n          cost = dataA[posA - 1] === dataB[posB - 1] ? 0 : 1;\n\n          if (distance[posA] === undefined) {\n            distance[posA] = [];\n          }\n\n          distance[posA][posB] = Math.min(\n            distance[posA - 1][posB] + 1, // deletion\n            distance[posA][posB - 1] + 1, // insertion\n            distance[posA - 1][posB - 1] + cost // substitution\n          );\n        }\n      }\n\n      return distance;\n    },\n\n    /**\n     * Computes the operations needed to transform dataA to dataB.\n     *\n     * @param distance {Integer[][]} Precomputed matrix for the data fields\n     * @param dataA {Array} incoming source data\n     * @param dataB {Array} incoming target data\n     * @return {Map[]} Array of maps describing the operations needed\n     */\n    __computeEditOperations(distance, dataA, dataB) {\n      var operations = [];\n      var posA = dataA.length;\n      var posB = dataB.length;\n\n      if (posA === 0) {\n        // insert from begin to end\n        // reverted order than in all other cases for optimal performance\n        for (var i = 0; i < posB; i++) {\n          operations.push({\n            operation: this.OPERATION_INSERT,\n            pos: i,\n            old: null,\n            value: dataB[i]\n          });\n        }\n\n        return operations;\n      }\n\n      if (posB === 0) {\n        // remove from end to begin\n        for (var i = posA - 1; i >= 0; i--) {\n          operations.push({\n            operation: this.OPERATION_DELETE,\n            pos: i,\n            old: dataA[i],\n            value: null\n          });\n        }\n\n        return operations;\n      }\n\n      while (posA !== 0 || posB !== 0) {\n        if (posA != 0 && distance[posA][posB] == distance[posA - 1][posB] + 1) {\n          operations.push({\n            operation: this.OPERATION_DELETE,\n            pos: posA - 1,\n            old: dataA[posA - 1],\n            value: null\n          });\n\n          posA -= 1;\n        } else if (\n          posB != 0 &&\n          distance[posA][posB] == distance[posA][posB - 1] + 1\n        ) {\n          operations.push({\n            operation: this.OPERATION_INSERT,\n            pos: posA,\n            old: null,\n            value: dataB[posB - 1]\n          });\n\n          posB -= 1;\n        } else {\n          if (dataA[posA - 1] !== dataB[posB - 1]) {\n            operations.push({\n              operation: this.OPERATION_REPLACE,\n              pos: posA - 1,\n              old: dataA[posA - 1],\n              value: dataB[posB - 1]\n            });\n          }\n\n          posA -= 1;\n          posB -= 1;\n        }\n      }\n\n      return operations;\n    },\n\n    /**\n     * Returns the operations needed to transform dataA to dataB.\n     *\n     * @param dataA {Array} incoming source data\n     * @param dataB {Array} incoming target data\n     * @return {Map[]} Array of maps describing the operations needed\n     */\n    getEditOperations(dataA, dataB) {\n      var distance = this.__computeLevenshteinDistance(dataA, dataB);\n      var operations = this.__computeEditOperations(distance, dataA, dataB);\n\n      return operations;\n    }\n  }\n});\n"
  ],
  "mappings": "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"
}