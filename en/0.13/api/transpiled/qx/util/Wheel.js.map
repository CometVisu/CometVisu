{
  "version": 3,
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "define",
    "statics",
    "MAXSCROLL",
    "MINSCROLL",
    "FACTOR",
    "IS_TOUCHPAD",
    "getDelta",
    "domEvent",
    "axis",
    "undefined",
    "delta",
    "wheelDelta",
    "detail",
    "deltaY",
    "__normalize",
    "x",
    "wheelDeltaX",
    "HORIZONTAL_AXIS",
    "deltaX",
    "y",
    "wheelDeltaY",
    "util",
    "Wheel",
    "absDelta",
    "Math",
    "abs",
    "__recalculateMultiplicator",
    "range",
    "ret",
    "log",
    "min",
    "max",
    "maxRet"
  ],
  "sources": [
    "/home/runner/work/CometVisu/CometVisu/node_modules/@qooxdoo/framework/source/class/qx/util/Wheel.js"
  ],
  "sourcesContent": [
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2014 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Martin Wittemann (martinwittemann)\n\n ************************************************************************ */\n\n/**\n * Util for mouse wheel normalization.\n */\nqx.Bootstrap.define(\"qx.util.Wheel\", {\n  statics: {\n    /**\n     * The maximal measured scroll wheel delta.\n     * @internal\n     */\n    MAXSCROLL: null,\n\n    /**\n     * The minimal measured scroll wheel delta.\n     * @internal\n     */\n    MINSCROLL: null,\n\n    /**\n     * The normalization factor for the speed calculation.\n     * @internal\n     */\n    FACTOR: 1,\n\n    /**\n     * Is the Wheel actually a touchpad ?\n     * @internal\n     */\n    IS_TOUCHPAD: false,\n\n    /**\n     * Get the amount the wheel has been scrolled\n     *\n     * @param domEvent {Event} The native wheel event.\n     * @param axis {String?} Optional parameter which defines the scroll axis.\n     *   The value can either be <code>\"x\"</code> or <code>\"y\"</code>.\n     * @return {Integer} Scroll wheel movement for the given axis. If no axis\n     *   is given, the y axis is used.\n     */\n    getDelta(domEvent, axis) {\n      // default case\n      if (axis === undefined) {\n        // default case\n        var delta = 0;\n        if (domEvent.wheelDelta !== undefined) {\n          delta = -domEvent.wheelDelta;\n        } else if (domEvent.detail !== 0) {\n          delta = domEvent.detail;\n        } else if (domEvent.deltaY !== undefined) {\n          // use deltaY as default for firefox\n          delta = domEvent.deltaY;\n        }\n        return this.__normalize(delta);\n      }\n\n      // get the x scroll delta\n      if (axis === \"x\") {\n        var x = 0;\n        if (domEvent.wheelDelta !== undefined) {\n          if (domEvent.wheelDeltaX !== undefined) {\n            x = domEvent.wheelDeltaX\n              ? this.__normalize(-domEvent.wheelDeltaX)\n              : 0;\n          }\n        } else {\n          if (\n            domEvent.axis &&\n            domEvent.axis == domEvent.HORIZONTAL_AXIS &&\n            domEvent.detail !== undefined &&\n            domEvent.detail > 0\n          ) {\n            x = this.__normalize(domEvent.detail);\n          } else if (domEvent.deltaX !== undefined) {\n            x = this.__normalize(domEvent.deltaX);\n          }\n        }\n        return x;\n      }\n\n      // get the y scroll delta\n      if (axis === \"y\") {\n        var y = 0;\n        if (domEvent.wheelDelta !== undefined) {\n          if (domEvent.wheelDeltaY !== undefined) {\n            y = domEvent.wheelDeltaY\n              ? this.__normalize(-domEvent.wheelDeltaY)\n              : 0;\n          } else {\n            y = this.__normalize(-domEvent.wheelDelta);\n          }\n        } else {\n          if (\n            !(domEvent.axis && domEvent.axis == domEvent.HORIZONTAL_AXIS) &&\n            domEvent.detail !== undefined &&\n            domEvent.detail > 0\n          ) {\n            y = this.__normalize(domEvent.detail);\n          } else if (domEvent.deltaY !== undefined) {\n            y = this.__normalize(domEvent.deltaY);\n          }\n        }\n        return y;\n      }\n      // default case, return 0\n      return 0;\n    },\n\n    /**\n     * Normalizer for the mouse wheel data.\n     *\n     * @param delta {Number} The mouse delta.\n     * @return {Number} The normalized delta value\n     */\n    __normalize(delta) {\n      if (qx.util.Wheel.IS_TOUCHPAD) {\n        // Reset normalization values that may be re-computed once a real mouse is plugged.\n        qx.util.Wheel.MINSCROLL = null;\n        qx.util.Wheel.MAXSCROLL = null;\n        qx.util.Wheel.FACTOR = 1;\n        return delta;\n      }\n      var absDelta = Math.abs(delta);\n\n      if (absDelta === 0) {\n        return 0;\n      }\n\n      // store the min value\n      if (\n        qx.util.Wheel.MINSCROLL == null ||\n        qx.util.Wheel.MINSCROLL > absDelta\n      ) {\n        qx.util.Wheel.MINSCROLL = absDelta;\n        this.__recalculateMultiplicator();\n      }\n\n      // store the max value\n      if (\n        qx.util.Wheel.MAXSCROLL == null ||\n        qx.util.Wheel.MAXSCROLL < absDelta\n      ) {\n        qx.util.Wheel.MAXSCROLL = absDelta;\n        this.__recalculateMultiplicator();\n      }\n\n      // special case for systems not speeding up\n      if (\n        qx.util.Wheel.MAXSCROLL === absDelta &&\n        qx.util.Wheel.MINSCROLL === absDelta\n      ) {\n        return 2 * (delta / absDelta);\n      }\n\n      var range = qx.util.Wheel.MAXSCROLL - qx.util.Wheel.MINSCROLL;\n      var ret = (delta / range) * Math.log(range) * qx.util.Wheel.FACTOR;\n\n      // return at least 1 or -1\n      return ret < 0 ? Math.min(ret, -1) : Math.max(ret, 1);\n    },\n\n    /**\n     * Recalculates the factor with which the calculated delta is normalized.\n     */\n    __recalculateMultiplicator() {\n      var max = qx.util.Wheel.MAXSCROLL || 0;\n      var min = qx.util.Wheel.MINSCROLL || max;\n      if (max <= min) {\n        return;\n      }\n      var range = max - min;\n      var maxRet = (max / range) * Math.log(range);\n      if (maxRet == 0) {\n        maxRet = 1;\n      }\n      qx.util.Wheel.FACTOR = 6 / maxRet;\n      if (qx.core.Environment.get(\"qx.debug.touchpad.detection\")) {\n        qx.log.Logger.debug(this, \"FACTOR : \" + qx.util.Wheel.FACTOR);\n      }\n    }\n  }\n});\n"
  ],
  "mappings": "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"
}