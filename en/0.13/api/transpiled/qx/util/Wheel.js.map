{
  "version": 3,
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "define",
    "statics",
    "MAXSCROLL",
    "MINSCROLL",
    "FACTOR",
    "IS_TOUCHPAD",
    "getDelta",
    "domEvent",
    "axis",
    "undefined",
    "delta",
    "wheelDelta",
    "detail",
    "deltaY",
    "__normalize",
    "x",
    "wheelDeltaX",
    "HORIZONTAL_AXIS",
    "deltaX",
    "y",
    "wheelDeltaY",
    "__P_514_0",
    "util",
    "Wheel",
    "absDelta",
    "Math",
    "abs",
    "__recalculateMultiplicator",
    "range",
    "ret",
    "log",
    "min",
    "max",
    "__P_514_1",
    "maxRet"
  ],
  "sources": [
    "/home/runner/work/CometVisu/CometVisu/node_modules/@qooxdoo/framework/source/class/qx/util/Wheel.js"
  ],
  "sourcesContent": [
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2014 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Martin Wittemann (martinwittemann)\n\n ************************************************************************ */\n\n/**\n * Util for mouse wheel normalization.\n */\nqx.Bootstrap.define(\"qx.util.Wheel\", {\n  statics: {\n    /**\n     * The maximal measured scroll wheel delta.\n     * @internal\n     */\n    MAXSCROLL: null,\n\n    /**\n     * The minimal measured scroll wheel delta.\n     * @internal\n     */\n    MINSCROLL: null,\n\n    /**\n     * The normalization factor for the speed calculation.\n     * @internal\n     */\n    FACTOR: 1,\n\n    /**\n     * Is the Wheel actually a touchpad ?\n     * @internal\n     */\n    IS_TOUCHPAD: false,\n\n    /**\n     * Get the amount the wheel has been scrolled\n     *\n     * @param domEvent {Event} The native wheel event.\n     * @param axis {String?} Optional parameter which defines the scroll axis.\n     *   The value can either be <code>\"x\"</code> or <code>\"y\"</code>.\n     * @return {Integer} Scroll wheel movement for the given axis. If no axis\n     *   is given, the y axis is used.\n     */\n    getDelta(domEvent, axis) {\n      // default case\n      if (axis === undefined) {\n        // default case\n        var delta = 0;\n        if (domEvent.wheelDelta !== undefined) {\n          delta = -domEvent.wheelDelta;\n        } else if (domEvent.detail !== 0) {\n          delta = domEvent.detail;\n        } else if (domEvent.deltaY !== undefined) {\n          // use deltaY as default for firefox\n          delta = domEvent.deltaY;\n        }\n        return this.__normalize(delta);\n      }\n\n      // get the x scroll delta\n      if (axis === \"x\") {\n        var x = 0;\n        if (domEvent.wheelDelta !== undefined) {\n          if (domEvent.wheelDeltaX !== undefined) {\n            x = domEvent.wheelDeltaX\n              ? this.__normalize(-domEvent.wheelDeltaX)\n              : 0;\n          }\n        } else {\n          if (\n            domEvent.axis &&\n            domEvent.axis == domEvent.HORIZONTAL_AXIS &&\n            domEvent.detail !== undefined &&\n            domEvent.detail > 0\n          ) {\n            x = this.__normalize(domEvent.detail);\n          } else if (domEvent.deltaX !== undefined) {\n            x = this.__normalize(domEvent.deltaX);\n          }\n        }\n        return x;\n      }\n\n      // get the y scroll delta\n      if (axis === \"y\") {\n        var y = 0;\n        if (domEvent.wheelDelta !== undefined) {\n          if (domEvent.wheelDeltaY !== undefined) {\n            y = domEvent.wheelDeltaY\n              ? this.__normalize(-domEvent.wheelDeltaY)\n              : 0;\n          } else {\n            y = this.__normalize(-domEvent.wheelDelta);\n          }\n        } else {\n          if (\n            !(domEvent.axis && domEvent.axis == domEvent.HORIZONTAL_AXIS) &&\n            domEvent.detail !== undefined &&\n            domEvent.detail > 0\n          ) {\n            y = this.__normalize(domEvent.detail);\n          } else if (domEvent.deltaY !== undefined) {\n            y = this.__normalize(domEvent.deltaY);\n          }\n        }\n        return y;\n      }\n      // default case, return 0\n      return 0;\n    },\n\n    /**\n     * Normalizer for the mouse wheel data.\n     *\n     * @param delta {Number} The mouse delta.\n     * @return {Number} The normalized delta value\n     */\n    __normalize(delta) {\n      if (qx.util.Wheel.IS_TOUCHPAD) {\n        // Reset normalization values that may be re-computed once a real mouse is plugged.\n        qx.util.Wheel.MINSCROLL = null;\n        qx.util.Wheel.MAXSCROLL = null;\n        qx.util.Wheel.FACTOR = 1;\n        return delta;\n      }\n      var absDelta = Math.abs(delta);\n\n      if (absDelta === 0) {\n        return 0;\n      }\n\n      // store the min value\n      if (\n        qx.util.Wheel.MINSCROLL == null ||\n        qx.util.Wheel.MINSCROLL > absDelta\n      ) {\n        qx.util.Wheel.MINSCROLL = absDelta;\n        this.__recalculateMultiplicator();\n      }\n\n      // store the max value\n      if (\n        qx.util.Wheel.MAXSCROLL == null ||\n        qx.util.Wheel.MAXSCROLL < absDelta\n      ) {\n        qx.util.Wheel.MAXSCROLL = absDelta;\n        this.__recalculateMultiplicator();\n      }\n\n      // special case for systems not speeding up\n      if (\n        qx.util.Wheel.MAXSCROLL === absDelta &&\n        qx.util.Wheel.MINSCROLL === absDelta\n      ) {\n        return 2 * (delta / absDelta);\n      }\n\n      var range = qx.util.Wheel.MAXSCROLL - qx.util.Wheel.MINSCROLL;\n      var ret = (delta / range) * Math.log(range) * qx.util.Wheel.FACTOR;\n\n      // return at least 1 or -1\n      return ret < 0 ? Math.min(ret, -1) : Math.max(ret, 1);\n    },\n\n    /**\n     * Recalculates the factor with which the calculated delta is normalized.\n     */\n    __recalculateMultiplicator() {\n      var max = qx.util.Wheel.MAXSCROLL || 0;\n      var min = qx.util.Wheel.MINSCROLL || max;\n      if (max <= min) {\n        return;\n      }\n      var range = max - min;\n      var maxRet = (max / range) * Math.log(range);\n      if (maxRet == 0) {\n        maxRet = 1;\n      }\n      qx.util.Wheel.FACTOR = 6 / maxRet;\n      if (qx.core.Environment.get(\"qx.debug.touchpad.detection\")) {\n        qx.log.Logger.debug(this, \"FACTOR : \" + qx.util.Wheel.FACTOR);\n      }\n    }\n  }\n});\n"
  ],
  "mappings": "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"
}