{
  "version": 3,
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "define",
    "statics",
    "MAXSCROLL",
    "MINSCROLL",
    "FACTOR",
    "IS_TOUCHPAD",
    "getDelta",
    "domEvent",
    "axis",
    "undefined",
    "delta",
    "wheelDelta",
    "detail",
    "deltaY",
    "__normalize",
    "x",
    "wheelDeltaX",
    "HORIZONTAL_AXIS",
    "deltaX",
    "y",
    "wheelDeltaY",
    "__P_514_0",
    "util",
    "Wheel",
    "absDelta",
    "Math",
    "abs",
    "__recalculateMultiplicator",
    "range",
    "ret",
    "log",
    "min",
    "max",
    "__P_514_1",
    "maxRet"
  ],
  "sources": [
    "/home/runner/work/CometVisu/CometVisu/node_modules/@qooxdoo/framework/source/class/qx/util/Wheel.js"
  ],
  "sourcesContent": [
    "/* ************************************************************************\r\n\r\n   qooxdoo - the new era of web development\r\n\r\n   http://qooxdoo.org\r\n\r\n   Copyright:\r\n     2004-2014 1&1 Internet AG, Germany, http://www.1und1.de\r\n\r\n   License:\r\n     MIT: https://opensource.org/licenses/MIT\r\n     See the LICENSE file in the project's top-level directory for details.\r\n\r\n   Authors:\r\n     * Martin Wittemann (martinwittemann)\r\n\r\n ************************************************************************ */\r\n\r\n/**\r\n * Util for mouse wheel normalization.\r\n */\r\nqx.Bootstrap.define(\"qx.util.Wheel\", {\r\n  statics: {\r\n    /**\r\n     * The maximal measured scroll wheel delta.\r\n     * @internal\r\n     */\r\n    MAXSCROLL: null,\r\n\r\n    /**\r\n     * The minimal measured scroll wheel delta.\r\n     * @internal\r\n     */\r\n    MINSCROLL: null,\r\n\r\n    /**\r\n     * The normalization factor for the speed calculation.\r\n     * @internal\r\n     */\r\n    FACTOR: 1,\r\n\r\n    /**\r\n     * Is the Wheel actually a touchpad ?\r\n     * @internal\r\n     */\r\n    IS_TOUCHPAD: false,\r\n\r\n    /**\r\n     * Get the amount the wheel has been scrolled\r\n     *\r\n     * @param domEvent {Event} The native wheel event.\r\n     * @param axis {String?} Optional parameter which defines the scroll axis.\r\n     *   The value can either be <code>\"x\"</code> or <code>\"y\"</code>.\r\n     * @return {Integer} Scroll wheel movement for the given axis. If no axis\r\n     *   is given, the y axis is used.\r\n     */\r\n    getDelta(domEvent, axis) {\r\n      // default case\r\n      if (axis === undefined) {\r\n        // default case\r\n        var delta = 0;\r\n        if (domEvent.wheelDelta !== undefined) {\r\n          delta = -domEvent.wheelDelta;\r\n        } else if (domEvent.detail !== 0) {\r\n          delta = domEvent.detail;\r\n        } else if (domEvent.deltaY !== undefined) {\r\n          // use deltaY as default for firefox\r\n          delta = domEvent.deltaY;\r\n        }\r\n        return this.__normalize(delta);\r\n      }\r\n\r\n      // get the x scroll delta\r\n      if (axis === \"x\") {\r\n        var x = 0;\r\n        if (domEvent.wheelDelta !== undefined) {\r\n          if (domEvent.wheelDeltaX !== undefined) {\r\n            x = domEvent.wheelDeltaX\r\n              ? this.__normalize(-domEvent.wheelDeltaX)\r\n              : 0;\r\n          }\r\n        } else {\r\n          if (\r\n            domEvent.axis &&\r\n            domEvent.axis == domEvent.HORIZONTAL_AXIS &&\r\n            domEvent.detail !== undefined &&\r\n            domEvent.detail > 0\r\n          ) {\r\n            x = this.__normalize(domEvent.detail);\r\n          } else if (domEvent.deltaX !== undefined) {\r\n            x = this.__normalize(domEvent.deltaX);\r\n          }\r\n        }\r\n        return x;\r\n      }\r\n\r\n      // get the y scroll delta\r\n      if (axis === \"y\") {\r\n        var y = 0;\r\n        if (domEvent.wheelDelta !== undefined) {\r\n          if (domEvent.wheelDeltaY !== undefined) {\r\n            y = domEvent.wheelDeltaY\r\n              ? this.__normalize(-domEvent.wheelDeltaY)\r\n              : 0;\r\n          } else {\r\n            y = this.__normalize(-domEvent.wheelDelta);\r\n          }\r\n        } else {\r\n          if (\r\n            !(domEvent.axis && domEvent.axis == domEvent.HORIZONTAL_AXIS) &&\r\n            domEvent.detail !== undefined &&\r\n            domEvent.detail > 0\r\n          ) {\r\n            y = this.__normalize(domEvent.detail);\r\n          } else if (domEvent.deltaY !== undefined) {\r\n            y = this.__normalize(domEvent.deltaY);\r\n          }\r\n        }\r\n        return y;\r\n      }\r\n      // default case, return 0\r\n      return 0;\r\n    },\r\n\r\n    /**\r\n     * Normalizer for the mouse wheel data.\r\n     *\r\n     * @param delta {Number} The mouse delta.\r\n     * @return {Number} The normalized delta value\r\n     */\r\n    __normalize(delta) {\r\n      if (qx.util.Wheel.IS_TOUCHPAD) {\r\n        // Reset normalization values that may be re-computed once a real mouse is plugged.\r\n        qx.util.Wheel.MINSCROLL = null;\r\n        qx.util.Wheel.MAXSCROLL = null;\r\n        qx.util.Wheel.FACTOR = 1;\r\n        return delta;\r\n      }\r\n      var absDelta = Math.abs(delta);\r\n\r\n      if (absDelta === 0) {\r\n        return 0;\r\n      }\r\n\r\n      // store the min value\r\n      if (\r\n        qx.util.Wheel.MINSCROLL == null ||\r\n        qx.util.Wheel.MINSCROLL > absDelta\r\n      ) {\r\n        qx.util.Wheel.MINSCROLL = absDelta;\r\n        this.__recalculateMultiplicator();\r\n      }\r\n\r\n      // store the max value\r\n      if (\r\n        qx.util.Wheel.MAXSCROLL == null ||\r\n        qx.util.Wheel.MAXSCROLL < absDelta\r\n      ) {\r\n        qx.util.Wheel.MAXSCROLL = absDelta;\r\n        this.__recalculateMultiplicator();\r\n      }\r\n\r\n      // special case for systems not speeding up\r\n      if (\r\n        qx.util.Wheel.MAXSCROLL === absDelta &&\r\n        qx.util.Wheel.MINSCROLL === absDelta\r\n      ) {\r\n        return 2 * (delta / absDelta);\r\n      }\r\n\r\n      var range = qx.util.Wheel.MAXSCROLL - qx.util.Wheel.MINSCROLL;\r\n      var ret = (delta / range) * Math.log(range) * qx.util.Wheel.FACTOR;\r\n\r\n      // return at least 1 or -1\r\n      return ret < 0 ? Math.min(ret, -1) : Math.max(ret, 1);\r\n    },\r\n\r\n    /**\r\n     * Recalculates the factor with which the calculated delta is normalized.\r\n     */\r\n    __recalculateMultiplicator() {\r\n      var max = qx.util.Wheel.MAXSCROLL || 0;\r\n      var min = qx.util.Wheel.MINSCROLL || max;\r\n      if (max <= min) {\r\n        return;\r\n      }\r\n      var range = max - min;\r\n      var maxRet = (max / range) * Math.log(range);\r\n      if (maxRet == 0) {\r\n        maxRet = 1;\r\n      }\r\n      qx.util.Wheel.FACTOR = 6 / maxRet;\r\n      if (qx.core.Environment.get(\"qx.debug.touchpad.detection\")) {\r\n        qx.log.Logger.debug(this, \"FACTOR : \" + qx.util.Wheel.FACTOR);\r\n      }\r\n    }\r\n  }\r\n});\r\n"
  ],
  "mappings": "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"
}