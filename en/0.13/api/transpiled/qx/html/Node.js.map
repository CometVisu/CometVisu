{
  "version": 3,
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "extend",
    "core",
    "Object",
    "implement",
    "IDisposable",
    "construct",
    "nodeName",
    "constructor",
    "call",
    "_nodeName",
    "statics",
    "fromDomNode",
    "domNode",
    "$$elementObject",
    "toVirtualNode",
    "html",
    "Factory",
    "getInstance",
    "createElement",
    "attributes",
    "useNode",
    "properties",
    "visible",
    "init",
    "nullable",
    "check",
    "apply",
    "event",
    "members",
    "_domNode",
    "_parent",
    "_qxObject",
    "_included",
    "_children",
    "_modifiedChildren",
    "_propertyJobs",
    "_properties",
    "__eventValues",
    "connectObject",
    "qxObject",
    "$$qxObjectHash",
    "toHashCode",
    "$$qxObject",
    "Environment",
    "get",
    "updateObjectId",
    "disconnectObject",
    "_createDomElement",
    "Error",
    "classname",
    "serialize",
    "writer",
    "temporaryQxObjectId",
    "getQxObjectId",
    "setQxObjectId",
    "id",
    "Id",
    "getAbsoluteIdOf",
    "isIdRoot",
    "register",
    "result",
    "undefined",
    "_serializeImpl",
    "buffer",
    "args",
    "lang",
    "Array",
    "fromArguments",
    "arguments",
    "append",
    "join",
    "unregister",
    "getAttribute",
    "self",
    "convert",
    "children",
    "fromCollection",
    "childNodes",
    "map",
    "domChild",
    "child",
    "nodeType",
    "window",
    "Node",
    "ELEMENT_NODE",
    "owningQxObjectId",
    "qxObjectId",
    "owningQxObject",
    "pos",
    "lastIndexOf",
    "substring",
    "getQxObject",
    "htmlNode",
    "install",
    "htmlChildren",
    "mapEntry",
    "_useNodeImpl",
    "rootMap",
    "flush",
    "_insertChildren",
    "newChildren",
    "_connectDomNode",
    "_copyData",
    "lookup",
    "oldChildren",
    "clone",
    "forEach",
    "parentElement",
    "removeChild",
    "appendChild",
    "_scheduleChildrenUpdate",
    "$$element",
    "isInDocument",
    "document",
    "body",
    "setAttribute",
    "_cascadeQxObjectIdChanges",
    "superclass",
    "prototype",
    "Element",
    "_modified",
    "_scheduleFlush",
    "_flush",
    "length",
    "i",
    "isVisible",
    "_syncData",
    "_syncChildren",
    "isRoot",
    "isInRoot",
    "tmp",
    "_willBeSeeable",
    "_hasRoots",
    "pa",
    "domElement",
    "createDocumentFragment",
    "dataChildren",
    "dataLength",
    "dataChild",
    "dataEl",
    "domParent",
    "domChildren",
    "domPos",
    "domEl",
    "insertBefore",
    "fromMarkup",
    "propertiesFromDom",
    "elem",
    "data",
    "domEvents",
    "manager",
    "Registration",
    "getManager",
    "findHandler",
    "type",
    "importListeners",
    "key",
    "prop",
    "value",
    "set",
    "jobs",
    "_addChildImpl",
    "__root",
    "remove",
    "_removeChildImpl",
    "_moveChildImpl",
    "getChildren",
    "getChild",
    "index",
    "hasChildren",
    "indexOf",
    "hasChild",
    "add",
    "varargs",
    "addImpl",
    "arr",
    "Type",
    "isArray",
    "push",
    "addAt",
    "insertAt",
    "childs",
    "removeImpl",
    "removeAt",
    "removeAll",
    "l",
    "getParent",
    "insertInto",
    "parent",
    "rel",
    "insertAfter",
    "moveTo",
    "oldIndex",
    "moveBefore",
    "moveAfter",
    "free",
    "getDomElement",
    "create",
    "getNodeName",
    "setNodeName",
    "name",
    "toLowerCase",
    "include",
    "exclude",
    "isIncluded",
    "_applyVisible",
    "registerProperty",
    "debug",
    "Function",
    "bind",
    "_applyProperty",
    "log",
    "Logger",
    "deprecatedMethodWarning",
    "_setProperty",
    "direct",
    "_removeProperty",
    "_getProperty",
    "fn",
    "addListener",
    "listener",
    "capture",
    "_this",
    "$$disposed",
    "registerDomEvent",
    "unique",
    "Manager",
    "getNextUniqueId",
    "supportsEvent",
    "domEventId",
    "removeListener",
    "$$wrapped_callback",
    "callback",
    "values",
    "entry",
    "removeListenerById",
    "hasListener",
    "has",
    "getListeners",
    "listeners",
    "serializeListeners",
    "listenerData",
    "handler",
    "destruct",
    "el",
    "removeAllListeners",
    "ObjectRegistry",
    "inShutDown",
    "_disposeArray"
  ],
  "sources": [
    "/home/runner/work/CometVisu/CometVisu/node_modules/@qooxdoo/framework/source/class/qx/html/Node.js"
  ],
  "sourcesContent": [
    "/* ************************************************************************\r\n\r\n   qooxdoo - the new era of web development\r\n\r\n   http://qooxdoo.org\r\n\r\n   Copyright:\r\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\r\n\r\n   License:\r\n     MIT: https://opensource.org/licenses/MIT\r\n     See the LICENSE file in the project's top-level directory for details.\r\n\r\n   Authors:\r\n     * Sebastian Werner (wpbasti)\r\n     * John Spackman (https://github.com/johnspackman)\r\n\r\n************************************************************************ */\r\n\r\n/**\r\n * High-performance, high-level DOM element creation and management.\r\n *\r\n * Mirrors the DOM structure of Node (see also Element and Text) so to provide\r\n * DOM insertion and modification with advanced logic to reduce the real transactions.\r\n *\r\n * Each child itself also has got some powerful methods to control its\r\n * position:\r\n * {@link #getParent}, {@link #free},\r\n * {@link #insertInto}, {@link #insertBefore}, {@link #insertAfter},\r\n * {@link #moveTo}, {@link #moveBefore}, {@link #moveAfter},\r\n *\r\n * NOTE: Instances of this class must be disposed of after use\r\n *\r\n * @require(qx.module.Animation)\r\n */\r\nqx.Class.define(\"qx.html.Node\", {\r\n  extend: qx.core.Object,\r\n  implement: [qx.core.IDisposable],\r\n\r\n  /**\r\n   * Creates a new Element\r\n   *\r\n   * @param nodeName {String} name of the node; will be a tag name for Elements, otherwise it's a reserved\r\n   * name eg \"#text\"\r\n   */\r\n  construct(nodeName) {\r\n    super();\r\n    this._nodeName = nodeName;\r\n  },\r\n\r\n  /*\r\n  *****************************************************************************\r\n     STATICS\r\n  *****************************************************************************\r\n  */\r\n\r\n  statics: {\r\n    /**\r\n     * Finds the Widget for a given DOM element\r\n     *\r\n     * @param domElement {DOM} the DOM element\r\n     * @return {qx.ui.core.Widget} the Widget that created the DOM element\r\n     */\r\n    fromDomNode(domNode) {\r\n      if (qx.core.Environment.get(\"qx.debug\")) {\r\n        qx.core.Assert.assertTrue(\r\n          (!domNode.$$element && !domNode.$$elementObject) ||\r\n            domNode.$$element === domNode.$$elementObject.toHashCode()\r\n        );\r\n      }\r\n      return domNode.$$elementObject;\r\n    },\r\n\r\n    /**\r\n     * Converts a DOM node into a qx.html.Node, providing the existing instance if\r\n     * there is one\r\n     *\r\n     * @param {Node} domNode\r\n     * @returns {qx.html.Node}\r\n     */\r\n    toVirtualNode(domNode) {\r\n      if (domNode.$$elementObject) {\r\n        return domNode.$$elementObject;\r\n      }\r\n\r\n      let html = qx.html.Factory.getInstance().createElement(\r\n        domNode.nodeName,\r\n        domNode.attributes\r\n      );\r\n\r\n      html.useNode(domNode);\r\n      return html;\r\n    }\r\n  },\r\n\r\n  /*\r\n  *****************************************************************************\r\n     PROPERTIES\r\n  *****************************************************************************\r\n  */\r\n\r\n  properties: {\r\n    /**\r\n     * Controls whether the element is visible which means that a previously applied\r\n     * CSS style of display=none gets removed and the element will inserted into the DOM,\r\n     * when this had not already happened before.\r\n     *\r\n     * If the element already exists in the DOM then it will kept in DOM, but configured\r\n     * hidden using a CSS style of display=none.\r\n     *\r\n     * Please note: This does not control the visibility or parent inclusion recursively.\r\n     *\r\n     * @type {Boolean} Whether the element should be visible in the render result\r\n     */\r\n    visible: {\r\n      init: true,\r\n      nullable: true,\r\n      check: \"Boolean\",\r\n      apply: \"_applyVisible\",\r\n      event: \"changeVisible\"\r\n    }\r\n  },\r\n\r\n  /*\r\n  *****************************************************************************\r\n     MEMBERS\r\n  *****************************************************************************\r\n  */\r\n\r\n  members: {\r\n    /*\r\n    ---------------------------------------------------------------------------\r\n      PROTECTED HELPERS/DATA\r\n    ---------------------------------------------------------------------------\r\n    */\r\n\r\n    /** @type {String} the name of the node */\r\n    _nodeName: null,\r\n\r\n    /** @type {Node} DOM node of this object */\r\n    _domNode: null,\r\n\r\n    /** @type {qx.html.Element} parent element */\r\n    _parent: null,\r\n\r\n    /** @type {qx.core.Object} the Qooxdoo object this node is attached to */\r\n    _qxObject: null,\r\n\r\n    /** @type {Boolean} Whether the element should be included in the render result */\r\n    _included: true,\r\n\r\n    _children: null,\r\n    _modifiedChildren: null,\r\n\r\n    _propertyJobs: null,\r\n    _properties: null,\r\n\r\n    /** @type {Map} map of event handlers */\r\n    __eventValues: null,\r\n\r\n    /**\r\n     * Connects a widget to this element, and to the DOM element in this Element.  They\r\n     * remain associated until disposed or disconnectObject is called\r\n     *\r\n     * @param qxObject {qx.core.Object} the object to associate\r\n     */\r\n    connectObject(qxObject) {\r\n      if (qx.core.Environment.get(\"qx.debug\")) {\r\n        qx.core.Assert.assertTrue(\r\n          !this._qxObject || this._qxObject === qxObject\r\n        );\r\n      }\r\n\r\n      this._qxObject = qxObject;\r\n      if (this._domNode) {\r\n        if (qx.core.Environment.get(\"qx.debug\")) {\r\n          qx.core.Assert.assertTrue(\r\n            (!this._domNode.$$qxObjectHash && !this._domNode.$$qxObject) ||\r\n              (this._domNode.$$qxObject === qxObject &&\r\n                this._domNode.$$qxObjectHash === qxObject.toHashCode())\r\n          );\r\n        }\r\n\r\n        this._domNode.$$qxObjectHash = qxObject.toHashCode();\r\n        this._domNode.$$qxObject = qxObject;\r\n      }\r\n\r\n      if (qx.core.Environment.get(\"module.objectid\")) {\r\n        this.updateObjectId();\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Disconnects a widget from this element and the DOM element.  The DOM element remains\r\n     * untouched, except that it can no longer be used to find the Widget.\r\n     *\r\n     * @param qxObject {qx.core.Object} the Widget\r\n     */\r\n    disconnectObject(qxObject) {\r\n      if (qx.core.Environment.get(\"qx.debug\")) {\r\n        qx.core.Assert.assertTrue(this._qxObject === qxObject);\r\n      }\r\n\r\n      delete this._qxObject;\r\n      if (this._domNode) {\r\n        if (qx.core.Environment.get(\"qx.debug\")) {\r\n          qx.core.Assert.assertTrue(\r\n            (!this._domNode.$$qxObjectHash && !this._domNode.$$qxObject) ||\r\n              (this._domNode.$$qxObject === qxObject &&\r\n                this._domNode.$$qxObjectHash === qxObject.toHashCode())\r\n          );\r\n        }\r\n\r\n        this._domNode.$$qxObjectHash = \"\";\r\n        delete this._domNode.$$qxObject;\r\n      }\r\n\r\n      if (qx.core.Environment.get(\"module.objectid\")) {\r\n        this.updateObjectId();\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Internal helper to generate the DOM element\r\n     *\r\n     * @return {Element} DOM element\r\n     */\r\n    _createDomElement() {\r\n      throw new Error(\r\n        \"No implementation for \" + this.classname + \"._createDomElement\"\r\n      );\r\n    },\r\n\r\n    /**\r\n     * Serializes the virtual DOM element to a writer; the `writer` function accepts\r\n     *  an varargs, which can be joined with an empty string or streamed.\r\n     *\r\n     * If writer is null, the element will be serialised to a string which is returned;\r\n     * note that if writer is not null, the return value will be null\r\n     *\r\n     * @param writer {Function?} the writer\r\n     * @return {String?} the serialised version if writer is null\r\n     */\r\n    serialize(writer) {\r\n      var temporaryQxObjectId = !this.getQxObjectId();\r\n      if (temporaryQxObjectId) {\r\n        this.setQxObjectId(this.classname);\r\n      }\r\n      var id = qx.core.Id.getAbsoluteIdOf(this, true);\r\n      var isIdRoot = !id;\r\n      if (isIdRoot) {\r\n        qx.core.Id.getInstance().register(this);\r\n      }\r\n\r\n      var result = undefined;\r\n      if (writer) {\r\n        this._serializeImpl(writer);\r\n      } else {\r\n        var buffer = [];\r\n        this._serializeImpl(function () {\r\n          var args = qx.lang.Array.fromArguments(arguments);\r\n          qx.lang.Array.append(buffer, args);\r\n        });\r\n        result = buffer.join(\"\");\r\n      }\r\n\r\n      if (isIdRoot) {\r\n        qx.core.Id.getInstance().unregister(this);\r\n      }\r\n      if (temporaryQxObjectId) {\r\n        this.setQxObjectId(null);\r\n      }\r\n\r\n      return result;\r\n    },\r\n\r\n    /**\r\n     * Serializes the virtual DOM element to a writer; the `writer` function accepts\r\n     *  an varargs, which can be joined with an empty string or streamed.\r\n     *\r\n     * @param writer {Function} the writer\r\n     */\r\n    _serializeImpl(writer) {\r\n      throw new Error(\r\n        \"No implementation for \" + this.classname + \".serializeImpl\"\r\n      );\r\n    },\r\n\r\n    /**\r\n     * Uses an existing element instead of creating one. This may be interesting\r\n     * when the DOM element is directly needed to add content etc.\r\n     *\r\n     * @param domNode {Node} DOM Node to reuse\r\n     */\r\n    useNode(domNode) {\r\n      var id = domNode.getAttribute(\"data-qx-object-id\");\r\n      if (id) {\r\n        this.setQxObjectId(id);\r\n      }\r\n      var temporaryQxObjectId = !this.getQxObjectId();\r\n      if (temporaryQxObjectId) {\r\n        this.setQxObjectId(this.classname);\r\n      }\r\n      var id = qx.core.Id.getAbsoluteIdOf(this, true);\r\n      var isIdRoot = !id;\r\n      if (isIdRoot) {\r\n        qx.core.Id.getInstance().register(this);\r\n      }\r\n\r\n      /*\r\n       * When merging children, we want to keep the original DOM nodes in\r\n       * domNode no matter what - however, where the DOM nodes have a qxObjectId\r\n       * we must reuse the original instances.\r\n       *\r\n       * The crucial thing is that the qxObjectId hierarchy and the DOM hierarchy\r\n       * are not the same (although they are often similar, the DOM will often have\r\n       * extra Nodes).\r\n       *\r\n       * However, because the objects in the qxObjectId space will typically already\r\n       * exist (eg accessed via the constructor) we do not want to discard the original\r\n       * instance of qx.html.Element because there are probably references to them in\r\n       * code.\r\n       *\r\n       * In the code below, we map the DOM heirarchy into a temporary Javascript\r\n       * hierarchy, where we can either use existing qx.html.Element instances (found\r\n       * by looking up the qxObjectId) or fabricate new ones.\r\n       *\r\n       * Once the temporary hierarchy is ready, we go back and synchronise each\r\n       * qx.html.Element with the DOM node and our new array of children.\r\n       *\r\n       * The only rule to this is that if you are going to call this `useNode`, then\r\n       * you must not keep references to objects *unless* you also access them via\r\n       * the qxObjectId mechanism.\r\n       */\r\n\r\n      var self = this;\r\n      function convert(domNode) {\r\n        var children = qx.lang.Array.fromCollection(domNode.childNodes);\r\n        children = children.map(function (domChild) {\r\n          var child = null;\r\n          if (domChild.nodeType == window.Node.ELEMENT_NODE) {\r\n            var id = domChild.getAttribute(\"data-qx-object-id\");\r\n            if (id) {\r\n              var owningQxObjectId = null;\r\n              var qxObjectId = null;\r\n              var owningQxObject = null;\r\n              var pos = id.lastIndexOf(\"/\");\r\n              if (pos > -1) {\r\n                owningQxObjectId = id.substring(0, pos);\r\n                qxObjectId = id.substring(pos + 1);\r\n                owningQxObject = qx.core.Id.getQxObject(owningQxObjectId);\r\n                child = owningQxObject.getQxObject(qxObjectId);\r\n              } else {\r\n                qxObjectId = id;\r\n                owningQxObject = self;\r\n                child = self.getQxObject(id);\r\n              }\r\n            }\r\n          }\r\n          if (!child) {\r\n            child = qx.html.Factory.getInstance().createElement(\r\n              domChild.nodeName,\r\n              domChild.attributes\r\n            );\r\n          }\r\n          return {\r\n            htmlNode: child,\r\n            domNode: domChild,\r\n            children: convert(domChild)\r\n          };\r\n        });\r\n        return children;\r\n      }\r\n\r\n      function install(map) {\r\n        var htmlChildren = map.children.map(function (mapEntry) {\r\n          install(mapEntry);\r\n          return mapEntry.htmlNode;\r\n        });\r\n        map.htmlNode._useNodeImpl(map.domNode, htmlChildren);\r\n      }\r\n\r\n      var rootMap = {\r\n        htmlNode: this,\r\n        domNode: domNode,\r\n        children: convert(domNode)\r\n      };\r\n\r\n      install(rootMap);\r\n\r\n      this.flush();\r\n      this._insertChildren();\r\n\r\n      if (isIdRoot) {\r\n        qx.core.Id.getInstance().unregister(this);\r\n      }\r\n      if (temporaryQxObjectId) {\r\n        this.setQxObjectId(null);\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Called internally to complete the connection to an existing DOM node\r\n     *\r\n     * @param domNode {DOMNode} the node we're syncing to\r\n     * @param newChildren {qx.html.Node[]} the new children\r\n     */\r\n    _useNodeImpl(domNode, newChildren) {\r\n      if (this._domNode) {\r\n        throw new Error(\"Could not overwrite existing element!\");\r\n      }\r\n\r\n      // Use incoming element\r\n      this._connectDomNode(domNode);\r\n\r\n      // Copy currently existing data over to element\r\n      this._copyData(true, true);\r\n\r\n      // Add children\r\n      var lookup = {};\r\n      var oldChildren = this._children\r\n        ? qx.lang.Array.clone(this._children)\r\n        : null;\r\n      newChildren.forEach(function (child) {\r\n        lookup[child.toHashCode()] = child;\r\n      });\r\n      this._children = newChildren;\r\n\r\n      // Make sure that unused children are disconnected\r\n      if (oldChildren) {\r\n        oldChildren.forEach(function (child) {\r\n          if (!lookup[child.toHashCode()]) {\r\n            if (child._domNode && child._domNode.parentElement) {\r\n              child._domNode.parentElement.removeChild(child._domNode);\r\n            }\r\n            child._parent = null;\r\n          }\r\n        });\r\n      }\r\n\r\n      var self = this;\r\n      this._children.forEach(function (child) {\r\n        child._parent = self;\r\n        if (child._domNode && child._domNode.parentElement !== self._domNode) {\r\n          child._domNode.parentElement.removeChild(child._domNode);\r\n          if (this._domNode) {\r\n            this._domNode.appendChild(child._domNode);\r\n          }\r\n        }\r\n      });\r\n\r\n      if (this._domNode) {\r\n        this._scheduleChildrenUpdate();\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Connects a DOM element to this Node; if this Node is already connected to a Widget\r\n     * then the Widget is also connected.\r\n     *\r\n     * @param domNode {DOM} the DOM Node to associate\r\n     */\r\n    _connectDomNode(domNode) {\r\n      if (qx.core.Environment.get(\"qx.debug\")) {\r\n        qx.core.Assert.assertTrue(!this._domNode || this._domNode === domNode);\r\n        qx.core.Assert.assertTrue(\r\n          (domNode.$$elementObject === this &&\r\n            domNode.$$element === this.toHashCode()) ||\r\n            (!domNode.$$elementObject && !domNode.$$element)\r\n        );\r\n      }\r\n\r\n      this._domNode = domNode;\r\n      domNode.$$elementObject = this;\r\n      domNode.$$element = this.toHashCode();\r\n      if (this._qxObject) {\r\n        domNode.$$qxObjectHash = this._qxObject.toHashCode();\r\n        domNode.$$qxObject = this._qxObject;\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Detects whether the DOM node has been created and is in the document\r\n     *\r\n     * @return {Boolean}\r\n     */\r\n    isInDocument() {\r\n      if (document.body) {\r\n        for (\r\n          var domNode = this._domNode;\r\n          domNode != null;\r\n          domNode = domNode.parentElement\r\n        ) {\r\n          if (domNode === document.body) {\r\n            return true;\r\n          }\r\n        }\r\n      }\r\n      return false;\r\n    },\r\n\r\n    /**\r\n     * Updates the Object ID on the element to match the QxObjectId\r\n     */\r\n    updateObjectId() {\r\n      // Copy Object Id\r\n      if (qx.core.Environment.get(\"module.objectid\")) {\r\n        var id = this.getQxObjectId();\r\n        if (!id && this._qxObject) {\r\n          id = this._qxObject.getQxObjectId();\r\n        }\r\n\r\n        this.setAttribute(\"data-qx-object-id\", id, true);\r\n      }\r\n    },\r\n\r\n    _cascadeQxObjectIdChanges() {\r\n      if (qx.core.Environment.get(\"module.objectid\")) {\r\n        this.updateObjectId();\r\n      }\r\n      super._cascadeQxObjectIdChanges();\r\n    },\r\n\r\n    /*\r\n    ---------------------------------------------------------------------------\r\n      FLUSH OBJECT\r\n    ---------------------------------------------------------------------------\r\n    */\r\n\r\n    /**\r\n     * Add the element to the global modification list.\r\n     *\r\n     */\r\n    _scheduleChildrenUpdate() {\r\n      if (this._modifiedChildren) {\r\n        return;\r\n      }\r\n\r\n      if (this._domNode) {\r\n        this._modifiedChildren = true;\r\n\r\n        qx.html.Element._modified[this.toHashCode()] = this;\r\n        qx.html.Element._scheduleFlush(\"element\");\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Syncs data of an HtmlElement object to the DOM.\r\n     *\r\n     * This is just a public wrapper around `flush`, because the scope has changed\r\n     *\r\n     * @deprecated {6.0} Please use `.flush()` instead\r\n     */\r\n    _flush() {\r\n      this.flush();\r\n    },\r\n\r\n    /**\r\n     * Syncs data of an HtmlElement object to the DOM.\r\n     *\r\n     */\r\n    flush() {\r\n      if (qx.core.Environment.get(\"qx.debug\")) {\r\n        if (this.DEBUG) {\r\n          this.debug(\"Flush: \" + this.getAttribute(\"id\"));\r\n        }\r\n      }\r\n\r\n      var length;\r\n      var children = this._children;\r\n      if (children) {\r\n        length = children.length;\r\n        var child;\r\n        for (var i = 0; i < length; i++) {\r\n          child = children[i];\r\n\r\n          if (child.isVisible() && child._included && !child._domNode) {\r\n            child.flush();\r\n          }\r\n        }\r\n      }\r\n\r\n      if (!this._domNode) {\r\n        this._connectDomNode(this._createDomElement());\r\n\r\n        this._copyData(false, false);\r\n\r\n        if (children && length > 0) {\r\n          this._insertChildren();\r\n        }\r\n      } else {\r\n        this._syncData();\r\n\r\n        if (this._modifiedChildren) {\r\n          this._syncChildren();\r\n        }\r\n      }\r\n\r\n      delete this._modifiedChildren;\r\n    },\r\n\r\n    /**\r\n     * Returns this element's root flag\r\n     *\r\n     * @return {Boolean}\r\n     */\r\n    isRoot() {\r\n      throw new Error(\"No implementation for \" + this.classname + \".isRoot\");\r\n    },\r\n\r\n    /**\r\n     * Detects whether this element is inside a root element\r\n     *\r\n     * @return {Boolean}\r\n     */\r\n    isInRoot() {\r\n      var tmp = this;\r\n      while (tmp) {\r\n        if (tmp.isRoot()) {\r\n          return true;\r\n        }\r\n        tmp = tmp._parent;\r\n      }\r\n      return false;\r\n    },\r\n\r\n    /**\r\n     * Walk up the internal children hierarchy and\r\n     * look if one of the children is marked as root.\r\n     *\r\n     * This method is quite performance hungry as it\r\n     * really walks up recursively.\r\n     * @return {Boolean} <code>true</code> if the element will be seeable\r\n     */\r\n    _willBeSeeable() {\r\n      if (!qx.html.Element._hasRoots) {\r\n        return false;\r\n      }\r\n      var pa = this;\r\n\r\n      // Any chance to cache this information in the parents?\r\n      while (pa) {\r\n        if (pa.isRoot()) {\r\n          return true;\r\n        }\r\n\r\n        if (!pa._included || !pa.isVisible()) {\r\n          return false;\r\n        }\r\n\r\n        pa = pa._parent;\r\n      }\r\n\r\n      return false;\r\n    },\r\n\r\n    /*\r\n    ---------------------------------------------------------------------------\r\n      SUPPORT FOR CHILDREN FLUSH\r\n    ---------------------------------------------------------------------------\r\n    */\r\n\r\n    /**\r\n     * Append all child nodes to the DOM\r\n     * element. This function is used when the element is initially\r\n     * created. After this initial apply {@link #_syncChildren} is used\r\n     * instead.\r\n     *\r\n     */\r\n    _insertChildren() {\r\n      var children = this._children;\r\n      if (!children) {\r\n        return;\r\n      }\r\n      var length = children.length;\r\n      var child;\r\n\r\n      if (length > 2) {\r\n        var domElement = document.createDocumentFragment();\r\n        for (var i = 0; i < length; i++) {\r\n          child = children[i];\r\n          if (child._domNode && child._included) {\r\n            domElement.appendChild(child._domNode);\r\n          }\r\n        }\r\n\r\n        this._domNode.appendChild(domElement);\r\n      } else {\r\n        var domElement = this._domNode;\r\n        for (var i = 0; i < length; i++) {\r\n          child = children[i];\r\n          if (child._domNode && child._included) {\r\n            domElement.appendChild(child._domNode);\r\n          }\r\n        }\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Synchronize internal children hierarchy to the DOM. This is used\r\n     * for further runtime updates after the element has been created\r\n     * initially.\r\n     *\r\n     */\r\n    _syncChildren() {\r\n      var dataChildren = this._children || [];\r\n      var dataLength = dataChildren.length;\r\n      var dataChild;\r\n      var dataEl;\r\n\r\n      var domParent = this._domNode;\r\n      var domChildren = domParent.childNodes;\r\n      var domPos = 0;\r\n      var domEl;\r\n\r\n      if (qx.core.Environment.get(\"qx.debug\")) {\r\n        var domOperations = 0;\r\n      }\r\n\r\n      // Remove children from DOM which are excluded or remove first\r\n      for (var i = domChildren.length - 1; i >= 0; i--) {\r\n        domEl = domChildren[i];\r\n        dataEl = qx.html.Node.fromDomNode(domEl);\r\n\r\n        if (!dataEl || !dataEl._included || dataEl._parent !== this) {\r\n          domParent.removeChild(domEl);\r\n\r\n          if (qx.core.Environment.get(\"qx.debug\")) {\r\n            domOperations++;\r\n          }\r\n        }\r\n      }\r\n\r\n      // Start from beginning and bring DOM in sync\r\n      // with the data structure\r\n      for (var i = 0; i < dataLength; i++) {\r\n        dataChild = dataChildren[i];\r\n\r\n        // Only process visible childs\r\n        if (dataChild._included) {\r\n          dataEl = dataChild._domNode;\r\n          domEl = domChildren[domPos];\r\n\r\n          if (!dataEl) {\r\n            continue;\r\n          }\r\n\r\n          // Only do something when out of sync\r\n          // If the data element is not there it may mean that it is still\r\n          // marked as visible=false\r\n          if (dataEl != domEl) {\r\n            if (domEl) {\r\n              domParent.insertBefore(dataEl, domEl);\r\n            } else {\r\n              domParent.appendChild(dataEl);\r\n            }\r\n\r\n            if (qx.core.Environment.get(\"qx.debug\")) {\r\n              domOperations++;\r\n            }\r\n          }\r\n\r\n          // Increase counter\r\n          domPos++;\r\n        }\r\n      }\r\n\r\n      // User feedback\r\n      if (qx.core.Environment.get(\"qx.debug\")) {\r\n        if (qx.html.Element.DEBUG) {\r\n          this.debug(\"Synced DOM with \" + domOperations + \" operations\");\r\n        }\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Copies data between the internal representation and the DOM. This\r\n     * simply copies all the data and only works well directly after\r\n     * element creation. After this the data must be synced using {@link #_syncData}\r\n     *\r\n     * @param fromMarkup {Boolean} Whether the copy should respect styles\r\n     *   given from markup\r\n     * @param propertiesFromDom {Boolean} whether the copy should respect the property\r\n     *  values in the dom\r\n     */\r\n    _copyData(fromMarkup, propertiesFromDom) {\r\n      var elem = this._domNode;\r\n\r\n      // Attach events\r\n      var data = this.__eventValues;\r\n      if (data) {\r\n        // Import listeners\r\n        let domEvents = {};\r\n        let manager = qx.event.Registration.getManager(elem);\r\n        for (let id in data) {\r\n          if (manager.findHandler(elem, data[id].type)) {\r\n            domEvents[id] = data[id];\r\n          }\r\n        }\r\n        qx.event.Registration.getManager(elem).importListeners(elem, domEvents);\r\n\r\n        // Cleanup event map\r\n        // Events are directly attached through event manager\r\n        // after initial creation. This differs from the\r\n        // handling of styles and attributes where queuing happens\r\n        // through the complete runtime of the application.\r\n        delete this.__eventValues;\r\n      }\r\n\r\n      // Copy properties\r\n      if (this._properties) {\r\n        for (var key in this._properties) {\r\n          var prop = this._properties[key];\r\n          if (propertiesFromDom) {\r\n            if (prop.get) {\r\n              prop.value = prop.get.call(this, key);\r\n            }\r\n          } else if (prop.value !== undefined) {\r\n            prop.set.call(this, prop.value, key);\r\n          }\r\n        }\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Synchronizes data between the internal representation and the DOM. This\r\n     * is the counterpart of {@link #_copyData} and is used for further updates\r\n     * after the element has been created.\r\n     *\r\n     */\r\n    _syncData() {\r\n      // Sync misc\r\n      var jobs = this._propertyJobs;\r\n      if (jobs && this._properties) {\r\n        for (var key in jobs) {\r\n          var prop = this._properties[key];\r\n          if (prop.value !== undefined) {\r\n            prop.set.call(this, prop.value, key);\r\n          }\r\n        }\r\n\r\n        this._propertyJobs = null;\r\n      }\r\n    },\r\n\r\n    /*\r\n    ---------------------------------------------------------------------------\r\n      PRIVATE HELPERS/DATA\r\n    ---------------------------------------------------------------------------\r\n    */\r\n\r\n    /**\r\n     * Internal helper for all children addition needs\r\n     *\r\n     * @param child {var} the element to add\r\n     * @throws {Error} if the given element is already a child\r\n     *     of this element\r\n     */\r\n    _addChildImpl(child) {\r\n      if (child._parent === this) {\r\n        throw new Error(\"Child is already in: \" + child);\r\n      }\r\n\r\n      if (child.__root) {\r\n        throw new Error(\"Root elements could not be inserted into other ones.\");\r\n      }\r\n\r\n      // Remove from previous parent\r\n      if (child._parent) {\r\n        child._parent.remove(child);\r\n      }\r\n\r\n      // Convert to child of this object\r\n      child._parent = this;\r\n\r\n      // Prepare array\r\n      if (!this._children) {\r\n        this._children = [];\r\n      }\r\n\r\n      // Schedule children update\r\n      if (this._domNode) {\r\n        this._scheduleChildrenUpdate();\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Internal helper for all children removal needs\r\n     *\r\n     * @param child {qx.html.Element} the removed element\r\n     * @throws {Error} if the given element is not a child\r\n     *     of this element\r\n     */\r\n    _removeChildImpl(child) {\r\n      if (child._parent !== this) {\r\n        throw new Error(\"Has no child: \" + child);\r\n      }\r\n\r\n      // Schedule children update\r\n      if (this._domNode) {\r\n        this._scheduleChildrenUpdate();\r\n      }\r\n\r\n      // Remove reference to old parent\r\n      delete child._parent;\r\n    },\r\n\r\n    /**\r\n     * Internal helper for all children move needs\r\n     *\r\n     * @param child {qx.html.Element} the moved element\r\n     * @throws {Error} if the given element is not a child\r\n     *     of this element\r\n     */\r\n    _moveChildImpl(child) {\r\n      if (child._parent !== this) {\r\n        throw new Error(\"Has no child: \" + child);\r\n      }\r\n\r\n      // Schedule children update\r\n      if (this._domNode) {\r\n        this._scheduleChildrenUpdate();\r\n      }\r\n    },\r\n\r\n    /*\r\n    ---------------------------------------------------------------------------\r\n      CHILDREN MANAGEMENT (EXECUTED ON THE PARENT)\r\n    ---------------------------------------------------------------------------\r\n    */\r\n\r\n    /**\r\n     * Returns a copy of the internal children structure.\r\n     *\r\n     * Please do not modify the array in place. If you need\r\n     * to work with the data in such a way make yourself\r\n     * a copy of the data first.\r\n     *\r\n     * @return {Array} the children list\r\n     */\r\n    getChildren() {\r\n      return this._children || null;\r\n    },\r\n\r\n    /**\r\n     * Get a child element at the given index\r\n     *\r\n     * @param index {Integer} child index\r\n     * @return {qx.html.Element|null} The child element or <code>null</code> if\r\n     *     no child is found at that index.\r\n     */\r\n    getChild(index) {\r\n      var children = this._children;\r\n      return (children && children[index]) || null;\r\n    },\r\n\r\n    /**\r\n     * Returns whether the element has any child nodes\r\n     *\r\n     * @return {Boolean} Whether the element has any child nodes\r\n     */\r\n    hasChildren() {\r\n      var children = this._children;\r\n      return children && children[0] !== undefined;\r\n    },\r\n\r\n    /**\r\n     * Find the position of the given child\r\n     *\r\n     * @param child {qx.html.Element} the child\r\n     * @return {Integer} returns the position. If the element\r\n     *     is not a child <code>-1</code> will be returned.\r\n     */\r\n    indexOf(child) {\r\n      var children = this._children;\r\n      return children ? children.indexOf(child) : -1;\r\n    },\r\n\r\n    /**\r\n     * Whether the given element is a child of this element.\r\n     *\r\n     * @param child {qx.html.Element} the child\r\n     * @return {Boolean} Returns <code>true</code> when the given\r\n     *    element is a child of this element.\r\n     */\r\n    hasChild(child) {\r\n      var children = this._children;\r\n      return children && children.indexOf(child) !== -1;\r\n    },\r\n\r\n    /**\r\n     * Append all given children at the end of this element.\r\n     *\r\n     * @param varargs {qx.html.Element} elements to insert\r\n     * @return {qx.html.Element} this object (for chaining support)\r\n     */\r\n    add(varargs) {\r\n      var self = this;\r\n      function addImpl(arr) {\r\n        arr.forEach(function (child) {\r\n          if (child instanceof qx.data.Array || qx.lang.Type.isArray(child)) {\r\n            addImpl(child);\r\n          } else {\r\n            self._addChildImpl(child);\r\n            self._children.push(child);\r\n          }\r\n        });\r\n      }\r\n      addImpl(qx.lang.Array.fromArguments(arguments));\r\n\r\n      // Chaining support\r\n      return this;\r\n    },\r\n\r\n    /**\r\n     * Inserts a new element into this element at the given position.\r\n     *\r\n     * @param child {qx.html.Element} the element to insert\r\n     * @param index {Integer} the index (starts at 0 for the\r\n     *     first child) to insert (the index of the following\r\n     *     children will be increased by one)\r\n     * @return {qx.html.Element} this object (for chaining support)\r\n     */\r\n    addAt(child, index) {\r\n      this._addChildImpl(child);\r\n      qx.lang.Array.insertAt(this._children, child, index);\r\n\r\n      // Chaining support\r\n      return this;\r\n    },\r\n\r\n    /**\r\n     * Removes all given children\r\n     *\r\n     * @param childs {qx.html.Element} children to remove\r\n     * @return {qx.html.Element} this object (for chaining support)\r\n     */\r\n    remove(childs) {\r\n      var children = this._children;\r\n      if (!children) {\r\n        return this;\r\n      }\r\n\r\n      var self = this;\r\n      function removeImpl(arr) {\r\n        arr.forEach(function (child) {\r\n          if (child instanceof qx.data.Array || qx.lang.Type.isArray(child)) {\r\n            removeImpl(child);\r\n          } else {\r\n            self._removeChildImpl(child);\r\n            qx.lang.Array.remove(children, child);\r\n          }\r\n        });\r\n      }\r\n      removeImpl(qx.lang.Array.fromArguments(arguments));\r\n\r\n      // Chaining support\r\n      return this;\r\n    },\r\n\r\n    /**\r\n     * Removes the child at the given index\r\n     *\r\n     * @param index {Integer} the position of the\r\n     *     child (starts at 0 for the first child)\r\n     * @return {qx.html.Element} this object (for chaining support)\r\n     */\r\n    removeAt(index) {\r\n      var children = this._children;\r\n      if (!children) {\r\n        throw new Error(\"Has no children!\");\r\n      }\r\n\r\n      var child = children[index];\r\n      if (!child) {\r\n        throw new Error(\"Has no child at this position!\");\r\n      }\r\n\r\n      this._removeChildImpl(child);\r\n      qx.lang.Array.removeAt(this._children, index);\r\n\r\n      // Chaining support\r\n      return this;\r\n    },\r\n\r\n    /**\r\n     * Remove all children from this element.\r\n     *\r\n     * @return {qx.html.Element} A reference to this.\r\n     */\r\n    removeAll() {\r\n      var children = this._children;\r\n      if (children) {\r\n        for (var i = 0, l = children.length; i < l; i++) {\r\n          this._removeChildImpl(children[i]);\r\n        }\r\n\r\n        // Clear array\r\n        children.length = 0;\r\n      }\r\n\r\n      // Chaining support\r\n      return this;\r\n    },\r\n\r\n    /*\r\n    ---------------------------------------------------------------------------\r\n      CHILDREN MANAGEMENT (EXECUTED ON THE CHILD)\r\n    ---------------------------------------------------------------------------\r\n    */\r\n\r\n    /**\r\n     * Returns the parent of this element.\r\n     *\r\n     * @return {qx.html.Element|null} The parent of this element\r\n     */\r\n    getParent() {\r\n      return this._parent || null;\r\n    },\r\n\r\n    /**\r\n     * Insert self into the given parent. Normally appends self to the end,\r\n     * but optionally a position can be defined. With index <code>0</code> it\r\n     * will be inserted at the begin.\r\n     *\r\n     * @param parent {qx.html.Element} The new parent of this element\r\n     * @param index {Integer?null} Optional position\r\n     * @return {qx.html.Element} this object (for chaining support)\r\n     */\r\n    insertInto(parent, index) {\r\n      parent._addChildImpl(this);\r\n\r\n      if (index == null) {\r\n        parent._children.push(this);\r\n      } else {\r\n        qx.lang.Array.insertAt(this._children, this, index);\r\n      }\r\n\r\n      return this;\r\n    },\r\n\r\n    /**\r\n     * Insert self before the given (related) element\r\n     *\r\n     * @param rel {qx.html.Element} the related element\r\n     * @return {qx.html.Element} this object (for chaining support)\r\n     */\r\n    insertBefore(rel) {\r\n      var parent = rel._parent;\r\n\r\n      parent._addChildImpl(this);\r\n      qx.lang.Array.insertBefore(parent._children, this, rel);\r\n\r\n      return this;\r\n    },\r\n\r\n    /**\r\n     * Insert self after the given (related) element\r\n     *\r\n     * @param rel {qx.html.Element} the related element\r\n     * @return {qx.html.Element} this object (for chaining support)\r\n     */\r\n    insertAfter(rel) {\r\n      var parent = rel._parent;\r\n\r\n      parent._addChildImpl(this);\r\n      qx.lang.Array.insertAfter(parent._children, this, rel);\r\n\r\n      return this;\r\n    },\r\n\r\n    /**\r\n     * Move self to the given index in the current parent.\r\n     *\r\n     * @param index {Integer} the index (starts at 0 for the first child)\r\n     * @return {qx.html.Element} this object (for chaining support)\r\n     * @throws {Error} when the given element is not child\r\n     *      of this element.\r\n     */\r\n    moveTo(index) {\r\n      var parent = this._parent;\r\n\r\n      parent._moveChildImpl(this);\r\n\r\n      var oldIndex = parent._children.indexOf(this);\r\n\r\n      if (oldIndex === index) {\r\n        throw new Error(\"Could not move to same index!\");\r\n      } else if (oldIndex < index) {\r\n        index--;\r\n      }\r\n\r\n      qx.lang.Array.removeAt(parent._children, oldIndex);\r\n      qx.lang.Array.insertAt(parent._children, this, index);\r\n\r\n      return this;\r\n    },\r\n\r\n    /**\r\n     * Move self before the given (related) child.\r\n     *\r\n     * @param rel {qx.html.Element} the related child\r\n     * @return {qx.html.Element} this object (for chaining support)\r\n     */\r\n    moveBefore(rel) {\r\n      var parent = this._parent;\r\n      return this.moveTo(parent._children.indexOf(rel));\r\n    },\r\n\r\n    /**\r\n     * Move self after the given (related) child.\r\n     *\r\n     * @param rel {qx.html.Element} the related child\r\n     * @return {qx.html.Element} this object (for chaining support)\r\n     */\r\n    moveAfter(rel) {\r\n      var parent = this._parent;\r\n      return this.moveTo(parent._children.indexOf(rel) + 1);\r\n    },\r\n\r\n    /**\r\n     * Remove self from the current parent.\r\n     *\r\n     * @return {qx.html.Element} this object (for chaining support)\r\n     */\r\n    free() {\r\n      var parent = this._parent;\r\n      if (!parent) {\r\n        throw new Error(\"Has no parent to remove from.\");\r\n      }\r\n\r\n      if (!parent._children) {\r\n        return this;\r\n      }\r\n\r\n      parent._removeChildImpl(this);\r\n      qx.lang.Array.remove(parent._children, this);\r\n\r\n      return this;\r\n    },\r\n\r\n    /*\r\n    ---------------------------------------------------------------------------\r\n      DOM ELEMENT ACCESS\r\n    ---------------------------------------------------------------------------\r\n    */\r\n\r\n    /**\r\n     * Returns the DOM element (if created). Please use this with caution.\r\n     * It is better to make all changes to the object itself using the public\r\n     * API rather than to the underlying DOM element.\r\n     *\r\n     * @param create {Boolean?} if true, the DOM node will be created if it does\r\n     * not exist\r\n     * @return {Element|null} The DOM element node, if available.\r\n     */\r\n    getDomElement(create) {\r\n      if (create && !this._domNode) {\r\n        this.flush();\r\n      }\r\n      return this._domNode || null;\r\n    },\r\n\r\n    /**\r\n     * Returns the nodeName of the DOM element.\r\n     *\r\n     * @return {String} The node name\r\n     */\r\n    getNodeName() {\r\n      return this._nodeName;\r\n    },\r\n\r\n    /**\r\n     * Sets the nodeName of the DOM element.\r\n     *\r\n     * @param name {String} The node name\r\n     */\r\n    setNodeName(name) {\r\n      if (\r\n        this._domNode &&\r\n        name.toLowerCase() !== this._nodeName.toLowerCase()\r\n      ) {\r\n        throw new Error(\r\n          \"Cannot change the name of the node after the DOM node has been created\"\r\n        );\r\n      }\r\n      this._nodeName = name;\r\n    },\r\n\r\n    /*\r\n    ---------------------------------------------------------------------------\r\n      EXCLUDE SUPPORT\r\n    ---------------------------------------------------------------------------\r\n    */\r\n\r\n    /**\r\n     * Marks the element as included which means it will be moved into\r\n     * the DOM again and synced with the internal data representation.\r\n     *\r\n     * @return {Node} this object (for chaining support)\r\n     */\r\n    include() {\r\n      if (this._included) {\r\n        return this;\r\n      }\r\n\r\n      delete this._included;\r\n\r\n      if (this._parent) {\r\n        this._parent._scheduleChildrenUpdate();\r\n      }\r\n\r\n      return this;\r\n    },\r\n\r\n    /**\r\n     * Marks the element as excluded which means it will be removed\r\n     * from the DOM and ignored for updates until it gets included again.\r\n     *\r\n     * @return {qx.html.Element} this object (for chaining support)\r\n     */\r\n    exclude() {\r\n      if (!this._included) {\r\n        return this;\r\n      }\r\n\r\n      this._included = false;\r\n\r\n      if (this._parent) {\r\n        this._parent._scheduleChildrenUpdate();\r\n      }\r\n\r\n      return this;\r\n    },\r\n\r\n    /**\r\n     * Whether the element is part of the DOM\r\n     *\r\n     * @return {Boolean} Whether the element is part of the DOM.\r\n     */\r\n    isIncluded() {\r\n      return this._included === true;\r\n    },\r\n\r\n    /**\r\n     * Apply method for visible property\r\n     */\r\n    _applyVisible(value) {\r\n      // Nothing - to be overridden\r\n    },\r\n\r\n    /*\r\n    ---------------------------------------------------------------------------\r\n      PROPERTY SUPPORT\r\n    ---------------------------------------------------------------------------\r\n    */\r\n\r\n    /**\r\n     * Registers a property and the implementations used to read the property value\r\n     * from the DOM and to set the property value onto the DOM.  This allows the element\r\n     * to have a simple `setProperty` method that knows how to read and write the value.\r\n     *\r\n     * You do not have to specify a getter or a setter - by default the setter will use\r\n     * `_applyProperty` for backwards compatibility, and there is no getter implementation.\r\n     *\r\n     * The functions are called with `this` set to this Element.  The getter takes\r\n     * the property name as a parameter and is expected to return a value, the setter takes\r\n     * the property name and value as parameters, and returns nothing.\r\n     *\r\n     * @param key {String} the property name\r\n     * @param getter {Function?} function to read from the DOM\r\n     * @param setter {Function?} function to copy to the DOM\r\n     * @param serialize {Function?} function to serialize the value to HTML\r\n     */\r\n    registerProperty(key, get, set, serialize) {\r\n      if (!this._properties) {\r\n        this._properties = {};\r\n      }\r\n      if (this._properties[key]) {\r\n        this.debug(\r\n          \"Overridding property \" +\r\n            key +\r\n            \" in \" +\r\n            this +\r\n            \"[\" +\r\n            this.classname +\r\n            \"]\"\r\n        );\r\n      }\r\n      if (!set) {\r\n        set = qx.lang.Function.bind(function (value, key) {\r\n          this._applyProperty(key, value);\r\n        }, this);\r\n        qx.log.Logger.deprecatedMethodWarning(\r\n          this._applyProperty,\r\n          \"The method '_applyProperty' is deprecated.  Please use `registerProperty` instead (property '\" +\r\n            key +\r\n            \"' in \" +\r\n            this.classname +\r\n            \")\"\r\n        );\r\n      }\r\n      this._properties[key] = {\r\n        get: get,\r\n        set: set,\r\n        serialize: serialize,\r\n        value: undefined\r\n      };\r\n    },\r\n\r\n    /**\r\n     * Applies a special property with the given value.\r\n     *\r\n     * This property apply routine can be easily overwritten and\r\n     * extended by sub classes to add new low level features which\r\n     * are not easily possible using styles and attributes.\r\n     *\r\n     * Note that this implementation is for backwards compatibility and\r\n     * implementations\r\n     *\r\n     * @param name {String} Unique property identifier\r\n     * @param value {var} Any valid value (depends on the property)\r\n     * @return {qx.html.Element} this object (for chaining support)\r\n     * @abstract\r\n     * @deprecated {6.0} please use `registerProperty` instead\r\n     */\r\n    _applyProperty(name, value) {\r\n      // empty implementation\r\n    },\r\n\r\n    /**\r\n     * Set up the given property.\r\n     *\r\n     * @param key {String} the name of the property\r\n     * @param value {var} the value\r\n     * @param direct {Boolean?false} Whether the value should be applied\r\n     *    directly (without queuing)\r\n     * @return {qx.html.Element} this object (for chaining support)\r\n     */\r\n    _setProperty(key, value, direct) {\r\n      if (!this._properties || !this._properties[key]) {\r\n        this.registerProperty(key, null, null);\r\n      }\r\n\r\n      if (this._properties[key].value == value) {\r\n        return this;\r\n      }\r\n\r\n      this._properties[key].value = value;\r\n\r\n      // Uncreated elements simply copy all data\r\n      // on creation. We don't need to remember any\r\n      // jobs. It is a simple full list copy.\r\n      if (this._domNode) {\r\n        // Omit queuing in direct mode\r\n        if (direct) {\r\n          this._properties[key].set.call(this, value, key);\r\n          return this;\r\n        }\r\n\r\n        // Dynamically create if needed\r\n        if (!this._propertyJobs) {\r\n          this._propertyJobs = {};\r\n        }\r\n\r\n        // Store job info\r\n        this._propertyJobs[key] = true;\r\n\r\n        // Register modification\r\n        qx.html.Element._modified[this.toHashCode()] = this;\r\n        qx.html.Element._scheduleFlush(\"element\");\r\n      }\r\n\r\n      return this;\r\n    },\r\n\r\n    /**\r\n     * Removes the given misc\r\n     *\r\n     * @param key {String} the name of the misc\r\n     * @param direct {Boolean?false} Whether the value should be removed\r\n     *    directly (without queuing)\r\n     * @return {qx.html.Element} this object (for chaining support)\r\n     */\r\n    _removeProperty(key, direct) {\r\n      return this._setProperty(key, null, direct);\r\n    },\r\n\r\n    /**\r\n     * Get the value of the given misc.\r\n     *\r\n     * @param key {String} name of the misc\r\n     * @param direct {Boolean?false} Whether the value should be obtained directly (without queuing)\r\n     * @return {var} the value of the misc\r\n     */\r\n    _getProperty(key, direct) {\r\n      if (!this._properties || !this._properties[key]) {\r\n        return null;\r\n      }\r\n\r\n      var value = this._properties[key].value;\r\n      if (this._domNode) {\r\n        if (direct || value === undefined) {\r\n          var fn = this._properties[key].get;\r\n          if (fn) {\r\n            this._properties[key].value = value = fn.call(this, key);\r\n          }\r\n        }\r\n      }\r\n\r\n      return value === undefined || value == null ? null : value;\r\n    },\r\n\r\n    /*\r\n    ---------------------------------------------------------------------------\r\n      EVENT SUPPORT\r\n    ---------------------------------------------------------------------------\r\n    */\r\n\r\n    /**\r\n     * Adds an event listener to the element.\r\n     *\r\n     * @param type {String} Name of the event\r\n     * @param listener {Function} Function to execute on event\r\n     * @param self {Object ? null} Reference to the 'this' variable inside\r\n     *         the event listener. When not given, the corresponding dispatcher\r\n     *         usually falls back to a default, which is the target\r\n     *         by convention. Note this is not a strict requirement, i.e.\r\n     *         custom dispatchers can follow a different strategy.\r\n     * @param capture {Boolean ? false} Whether capturing should be enabled\r\n     * @return {var} An opaque id, which can be used to remove the event listener\r\n     *         using the {@link #removeListenerById} method.\r\n     */\r\n    addListener(type, listener, self, capture) {\r\n      if (this.$$disposed) {\r\n        return null;\r\n      }\r\n\r\n      if (qx.core.Environment.get(\"qx.debug\")) {\r\n        var msg =\r\n          \"Failed to add event listener for type '\" +\r\n          type +\r\n          \"'\" +\r\n          \" to the target '\" +\r\n          this +\r\n          \"': \";\r\n\r\n        this.assertString(type, msg + \"Invalid event type.\");\r\n        this.assertFunction(listener, msg + \"Invalid callback function\");\r\n\r\n        if (self !== undefined) {\r\n          this.assertObject(self, \"Invalid context for callback.\");\r\n        }\r\n\r\n        if (capture !== undefined) {\r\n          this.assertBoolean(capture, \"Invalid capture flag.\");\r\n        }\r\n      }\r\n\r\n      const registerDomEvent = () => {\r\n        if (this._domNode) {\r\n          return qx.event.Registration.addListener(\r\n            this._domNode,\r\n            type,\r\n            listener,\r\n            self,\r\n            capture\r\n          );\r\n        }\r\n\r\n        if (!this.__eventValues) {\r\n          this.__eventValues = {};\r\n        }\r\n\r\n        if (capture == null) {\r\n          capture = false;\r\n        }\r\n\r\n        var unique = qx.event.Manager.getNextUniqueId();\r\n        var id = type + (capture ? \"|capture|\" : \"|bubble|\") + unique;\r\n\r\n        this.__eventValues[id] = {\r\n          type: type,\r\n          listener: listener,\r\n          self: self,\r\n          capture: capture,\r\n          unique: unique\r\n        };\r\n\r\n        return id;\r\n      };\r\n\r\n      if (qx.Class.supportsEvent(this, type)) {\r\n        let id = super.addListener(type, listener, self, capture);\r\n        id.domEventId = registerDomEvent();\r\n        return id;\r\n      }\r\n\r\n      return registerDomEvent();\r\n    },\r\n\r\n    /**\r\n     * Removes an event listener from the element.\r\n     *\r\n     * @param type {String} Name of the event\r\n     * @param listener {Function} Function to execute on event\r\n     * @param self {Object} Execution context of given function\r\n     * @param capture {Boolean ? false} Whether capturing should be enabled\r\n     * @return {qx.html.Element} this object (for chaining support)\r\n     */\r\n    removeListener(type, listener, self, capture) {\r\n      if (this.$$disposed) {\r\n        return null;\r\n      }\r\n\r\n      if (qx.core.Environment.get(\"qx.debug\")) {\r\n        var msg =\r\n          \"Failed to remove event listener for type '\" +\r\n          type +\r\n          \"'\" +\r\n          \" from the target '\" +\r\n          this +\r\n          \"': \";\r\n\r\n        this.assertString(type, msg + \"Invalid event type.\");\r\n        this.assertFunction(listener, msg + \"Invalid callback function\");\r\n\r\n        if (self !== undefined) {\r\n          this.assertObject(self, \"Invalid context for callback.\");\r\n        }\r\n\r\n        if (capture !== undefined) {\r\n          this.assertBoolean(capture, \"Invalid capture flag.\");\r\n        }\r\n      }\r\n\r\n      if (qx.Class.supportsEvent(this, type)) {\r\n        super.removeListener(type, listener, self, capture);\r\n      }\r\n\r\n      if (this._domNode) {\r\n        if (\r\n          listener.$$wrapped_callback &&\r\n          listener.$$wrapped_callback[type + this.toHashCode()]\r\n        ) {\r\n          var callback = listener.$$wrapped_callback[type + this.toHashCode()];\r\n          delete listener.$$wrapped_callback[type + this.toHashCode()];\r\n          listener = callback;\r\n        }\r\n        qx.event.Registration.removeListener(\r\n          this._domNode,\r\n          type,\r\n          listener,\r\n          self,\r\n          capture\r\n        );\r\n      } else {\r\n        var values = this.__eventValues;\r\n        var entry;\r\n\r\n        if (capture == null) {\r\n          capture = false;\r\n        }\r\n\r\n        for (var key in values) {\r\n          entry = values[key];\r\n\r\n          // Optimized for performance: Testing references first\r\n          if (\r\n            entry.listener === listener &&\r\n            entry.self === self &&\r\n            entry.capture === capture &&\r\n            entry.type === type\r\n          ) {\r\n            delete values[key];\r\n            break;\r\n          }\r\n        }\r\n      }\r\n\r\n      return this;\r\n    },\r\n\r\n    /**\r\n     * Removes an event listener from an event target by an id returned by\r\n     * {@link #addListener}\r\n     *\r\n     * @param id {var} The id returned by {@link #addListener}\r\n     * @return {qx.html.Element} this object (for chaining support)\r\n     */\r\n    removeListenerById(id) {\r\n      if (this.$$disposed) {\r\n        return null;\r\n      }\r\n\r\n      if (id.domEventId) {\r\n        if (this._domNode) {\r\n          qx.event.Registration.removeListenerById(\r\n            this._domNode,\r\n            id.domEventId\r\n          );\r\n        }\r\n        delete id.domEventId;\r\n        super.removeListenerById(id);\r\n      } else {\r\n        if (this._domNode) {\r\n          qx.event.Registration.removeListenerById(this._domNode, id);\r\n        } else {\r\n          delete this.__eventValues[id];\r\n        }\r\n      }\r\n\r\n      return this;\r\n    },\r\n\r\n    /**\r\n     * Check if there are one or more listeners for an event type.\r\n     *\r\n     * @param type {String} name of the event type\r\n     * @param capture {Boolean ? false} Whether to check for listeners of\r\n     *         the bubbling or of the capturing phase.\r\n     * @return {Boolean} Whether the object has a listener of the given type.\r\n     */\r\n    hasListener(type, capture) {\r\n      if (this.$$disposed) {\r\n        return false;\r\n      }\r\n\r\n      if (qx.Class.supportsEvent(this, type)) {\r\n        let has = super.hasListener(type, capture);\r\n        if (has) {\r\n          return true;\r\n        }\r\n      }\r\n\r\n      if (this._domNode) {\r\n        if (qx.event.Registration.hasListener(this._domNode, type, capture)) {\r\n          return true;\r\n        }\r\n      } else {\r\n        var values = this.__eventValues;\r\n        var entry;\r\n\r\n        if (capture == null) {\r\n          capture = false;\r\n        }\r\n\r\n        for (var key in values) {\r\n          entry = values[key];\r\n\r\n          // Optimized for performance: Testing fast types first\r\n          if (entry.capture === capture && entry.type === type) {\r\n            return true;\r\n          }\r\n        }\r\n      }\r\n\r\n      return false;\r\n    },\r\n\r\n    /**\r\n     * Serializes and returns all event listeners attached to this element\r\n     * @return {Map[]} an Array containing a map for each listener. The maps\r\n     * have the following keys:\r\n     * <ul>\r\n     *   <li><code>type</code> (String): Event name</li>\r\n     *   <li><code>handler</code> (Function): Callback function</li>\r\n     *   <li><code>self</code> (Object): The callback's context</li>\r\n     *   <li><code>capture</code> (Boolean): If <code>true</code>, the listener is\r\n     * attached to the capturing phase</li>\r\n     * </ul>\r\n     */\r\n    getListeners() {\r\n      if (this.$$disposed) {\r\n        return null;\r\n      }\r\n\r\n      var listeners = [];\r\n      qx.lang.Array.append(\r\n        listeners,\r\n        qx.event.Registration.serializeListeners(this) || []\r\n      );\r\n\r\n      if (this._domNode) {\r\n        qx.lang.Array.append(\r\n          listeners,\r\n          qx.event.Registration.serializeListeners(this._domNode) || []\r\n        );\r\n      }\r\n\r\n      for (var id in this.__eventValues) {\r\n        var listenerData = this.__eventValues[id];\r\n        listeners.push({\r\n          type: listenerData.type,\r\n          handler: listenerData.listener,\r\n          self: listenerData.self,\r\n          capture: listenerData.capture\r\n        });\r\n      }\r\n\r\n      return listeners;\r\n    }\r\n  },\r\n\r\n  /*\r\n  *****************************************************************************\r\n     DESTRUCT\r\n  *****************************************************************************\r\n  */\r\n\r\n  destruct() {\r\n    var el = this._domNode;\r\n    if (el) {\r\n      qx.event.Registration.getManager(el).removeAllListeners(el);\r\n      el.$$element = \"\";\r\n      delete el.$$elementObject;\r\n      el.$$qxObjectHash = \"\";\r\n      delete el.$$qxObject;\r\n    }\r\n\r\n    if (!qx.core.ObjectRegistry.inShutDown) {\r\n      var parent = this._parent;\r\n      if (parent && !parent.$$disposed) {\r\n        parent.remove(this);\r\n      }\r\n    }\r\n\r\n    this._disposeArray(\"_children\");\r\n\r\n    this._properties =\r\n      this._propertyJobs =\r\n      this._domNode =\r\n      this._parent =\r\n      this.__eventValues =\r\n        null;\r\n  }\r\n});\r\n"
  ],
  "mappings": "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"
}