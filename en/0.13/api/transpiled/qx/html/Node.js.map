{
  "version": 3,
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "extend",
    "core",
    "Object",
    "implement",
    "IDisposable",
    "construct",
    "nodeName",
    "_nodeName",
    "statics",
    "fromDomNode",
    "domNode",
    "$$elementObject",
    "toVirtualNode",
    "html",
    "Factory",
    "getInstance",
    "createElement",
    "attributes",
    "useNode",
    "properties",
    "visible",
    "init",
    "nullable",
    "check",
    "apply",
    "event",
    "members",
    "_domNode",
    "_parent",
    "_qxObject",
    "_included",
    "_children",
    "_modifiedChildren",
    "_propertyJobs",
    "_properties",
    "__eventValues",
    "connectObject",
    "qxObject",
    "$$qxObjectHash",
    "toHashCode",
    "$$qxObject",
    "Environment",
    "get",
    "updateObjectId",
    "disconnectObject",
    "_createDomElement",
    "Error",
    "classname",
    "serialize",
    "writer",
    "temporaryQxObjectId",
    "getQxObjectId",
    "setQxObjectId",
    "id",
    "Id",
    "getAbsoluteIdOf",
    "isIdRoot",
    "register",
    "result",
    "undefined",
    "_serializeImpl",
    "buffer",
    "args",
    "lang",
    "Array",
    "fromArguments",
    "arguments",
    "append",
    "join",
    "unregister",
    "getAttribute",
    "self",
    "convert",
    "children",
    "fromCollection",
    "childNodes",
    "map",
    "domChild",
    "child",
    "nodeType",
    "window",
    "Node",
    "ELEMENT_NODE",
    "owningQxObjectId",
    "qxObjectId",
    "owningQxObject",
    "pos",
    "lastIndexOf",
    "substring",
    "getQxObject",
    "htmlNode",
    "install",
    "htmlChildren",
    "mapEntry",
    "_useNodeImpl",
    "rootMap",
    "flush",
    "_insertChildren",
    "newChildren",
    "_connectDomNode",
    "_copyData",
    "lookup",
    "oldChildren",
    "clone",
    "forEach",
    "parentElement",
    "removeChild",
    "appendChild",
    "_scheduleChildrenUpdate",
    "$$element",
    "isInDocument",
    "document",
    "body",
    "setAttribute",
    "_cascadeQxObjectIdChanges",
    "Element",
    "_modified",
    "_scheduleFlush",
    "_flush",
    "length",
    "i",
    "isVisible",
    "_syncData",
    "_syncChildren",
    "isRoot",
    "isInRoot",
    "tmp",
    "_willBeSeeable",
    "_hasRoots",
    "pa",
    "domElement",
    "createDocumentFragment",
    "dataChildren",
    "dataLength",
    "dataChild",
    "dataEl",
    "domParent",
    "domChildren",
    "domPos",
    "domEl",
    "insertBefore",
    "fromMarkup",
    "propertiesFromDom",
    "elem",
    "data",
    "domEvents",
    "manager",
    "Registration",
    "getManager",
    "findHandler",
    "type",
    "importListeners",
    "key",
    "prop",
    "value",
    "call",
    "set",
    "jobs",
    "_addChildImpl",
    "__root",
    "remove",
    "_removeChildImpl",
    "_moveChildImpl",
    "getChildren",
    "getChild",
    "index",
    "hasChildren",
    "indexOf",
    "hasChild",
    "add",
    "varargs",
    "addImpl",
    "arr",
    "Type",
    "isArray",
    "push",
    "addAt",
    "insertAt",
    "childs",
    "removeImpl",
    "removeAt",
    "removeAll",
    "l",
    "getParent",
    "insertInto",
    "parent",
    "rel",
    "insertAfter",
    "moveTo",
    "oldIndex",
    "moveBefore",
    "moveAfter",
    "free",
    "getDomElement",
    "create",
    "getNodeName",
    "setNodeName",
    "name",
    "toLowerCase",
    "include",
    "exclude",
    "isIncluded",
    "_applyVisible",
    "registerProperty",
    "debug",
    "Function",
    "bind",
    "_applyProperty",
    "log",
    "Logger",
    "deprecatedMethodWarning",
    "_setProperty",
    "direct",
    "_removeProperty",
    "_getProperty",
    "fn",
    "addListener",
    "listener",
    "capture",
    "$$disposed",
    "registerDomEvent",
    "unique",
    "Manager",
    "getNextUniqueId",
    "supportsEvent",
    "domEventId",
    "removeListener",
    "$$wrapped_callback",
    "callback",
    "values",
    "entry",
    "removeListenerById",
    "hasListener",
    "has",
    "getListeners",
    "listeners",
    "serializeListeners",
    "listenerData",
    "handler",
    "destruct",
    "el",
    "removeAllListeners",
    "ObjectRegistry",
    "inShutDown",
    "_disposeArray"
  ],
  "sources": [
    "/home/runner/work/CometVisu/CometVisu/node_modules/@qooxdoo/framework/source/class/qx/html/Node.js"
  ],
  "sourcesContent": [
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Sebastian Werner (wpbasti)\n     * John Spackman (https://github.com/johnspackman)\n\n************************************************************************ */\n\n/**\n * High-performance, high-level DOM element creation and management.\n *\n * Mirrors the DOM structure of Node (see also Element and Text) so to provide\n * DOM insertion and modification with advanced logic to reduce the real transactions.\n *\n * Each child itself also has got some powerful methods to control its\n * position:\n * {@link #getParent}, {@link #free},\n * {@link #insertInto}, {@link #insertBefore}, {@link #insertAfter},\n * {@link #moveTo}, {@link #moveBefore}, {@link #moveAfter},\n *\n * NOTE: Instances of this class must be disposed of after use\n *\n * @require(qx.module.Animation)\n */\nqx.Class.define(\"qx.html.Node\", {\n  extend: qx.core.Object,\n  implement: [qx.core.IDisposable],\n\n  /**\n   * Creates a new Element\n   *\n   * @param nodeName {String} name of the node; will be a tag name for Elements, otherwise it's a reserved\n   * name eg \"#text\"\n   */\n  construct(nodeName) {\n    super();\n    this._nodeName = nodeName;\n  },\n\n  /*\n  *****************************************************************************\n     STATICS\n  *****************************************************************************\n  */\n\n  statics: {\n    /**\n     * Finds the Widget for a given DOM element\n     *\n     * @param domElement {DOM} the DOM element\n     * @return {qx.ui.core.Widget} the Widget that created the DOM element\n     */\n    fromDomNode(domNode) {\n      if (qx.core.Environment.get(\"qx.debug\")) {\n        qx.core.Assert.assertTrue(\n          (!domNode.$$element && !domNode.$$elementObject) ||\n            domNode.$$element === domNode.$$elementObject.toHashCode()\n        );\n      }\n      return domNode.$$elementObject;\n    },\n\n    /**\n     * Converts a DOM node into a qx.html.Node, providing the existing instance if\n     * there is one\n     *\n     * @param {Node} domNode\n     * @returns {qx.html.Node}\n     */\n    toVirtualNode(domNode) {\n      if (domNode.$$elementObject) {\n        return domNode.$$elementObject;\n      }\n\n      let html = qx.html.Factory.getInstance().createElement(\n        domNode.nodeName,\n        domNode.attributes\n      );\n\n      html.useNode(domNode);\n      return html;\n    }\n  },\n\n  /*\n  *****************************************************************************\n     PROPERTIES\n  *****************************************************************************\n  */\n\n  properties: {\n    /**\n     * Controls whether the element is visible which means that a previously applied\n     * CSS style of display=none gets removed and the element will inserted into the DOM,\n     * when this had not already happened before.\n     *\n     * If the element already exists in the DOM then it will kept in DOM, but configured\n     * hidden using a CSS style of display=none.\n     *\n     * Please note: This does not control the visibility or parent inclusion recursively.\n     *\n     * @type {Boolean} Whether the element should be visible in the render result\n     */\n    visible: {\n      init: true,\n      nullable: true,\n      check: \"Boolean\",\n      apply: \"_applyVisible\",\n      event: \"changeVisible\"\n    }\n  },\n\n  /*\n  *****************************************************************************\n     MEMBERS\n  *****************************************************************************\n  */\n\n  members: {\n    /*\n    ---------------------------------------------------------------------------\n      PROTECTED HELPERS/DATA\n    ---------------------------------------------------------------------------\n    */\n\n    /** @type {String} the name of the node */\n    _nodeName: null,\n\n    /** @type {Node} DOM node of this object */\n    _domNode: null,\n\n    /** @type {qx.html.Element} parent element */\n    _parent: null,\n\n    /** @type {qx.core.Object} the Qooxdoo object this node is attached to */\n    _qxObject: null,\n\n    /** @type {Boolean} Whether the element should be included in the render result */\n    _included: true,\n\n    _children: null,\n    _modifiedChildren: null,\n\n    _propertyJobs: null,\n    _properties: null,\n\n    /** @type {Map} map of event handlers */\n    __eventValues: null,\n\n    /**\n     * Connects a widget to this element, and to the DOM element in this Element.  They\n     * remain associated until disposed or disconnectObject is called\n     *\n     * @param qxObject {qx.core.Object} the object to associate\n     */\n    connectObject(qxObject) {\n      if (qx.core.Environment.get(\"qx.debug\")) {\n        qx.core.Assert.assertTrue(\n          !this._qxObject || this._qxObject === qxObject\n        );\n      }\n\n      this._qxObject = qxObject;\n      if (this._domNode) {\n        if (qx.core.Environment.get(\"qx.debug\")) {\n          qx.core.Assert.assertTrue(\n            (!this._domNode.$$qxObjectHash && !this._domNode.$$qxObject) ||\n              (this._domNode.$$qxObject === qxObject &&\n                this._domNode.$$qxObjectHash === qxObject.toHashCode())\n          );\n        }\n\n        this._domNode.$$qxObjectHash = qxObject.toHashCode();\n        this._domNode.$$qxObject = qxObject;\n      }\n\n      if (qx.core.Environment.get(\"module.objectid\")) {\n        this.updateObjectId();\n      }\n    },\n\n    /**\n     * Disconnects a widget from this element and the DOM element.  The DOM element remains\n     * untouched, except that it can no longer be used to find the Widget.\n     *\n     * @param qxObject {qx.core.Object} the Widget\n     */\n    disconnectObject(qxObject) {\n      if (qx.core.Environment.get(\"qx.debug\")) {\n        qx.core.Assert.assertTrue(this._qxObject === qxObject);\n      }\n\n      delete this._qxObject;\n      if (this._domNode) {\n        if (qx.core.Environment.get(\"qx.debug\")) {\n          qx.core.Assert.assertTrue(\n            (!this._domNode.$$qxObjectHash && !this._domNode.$$qxObject) ||\n              (this._domNode.$$qxObject === qxObject &&\n                this._domNode.$$qxObjectHash === qxObject.toHashCode())\n          );\n        }\n\n        this._domNode.$$qxObjectHash = \"\";\n        delete this._domNode.$$qxObject;\n      }\n\n      if (qx.core.Environment.get(\"module.objectid\")) {\n        this.updateObjectId();\n      }\n    },\n\n    /**\n     * Internal helper to generate the DOM element\n     *\n     * @return {Element} DOM element\n     */\n    _createDomElement() {\n      throw new Error(\n        \"No implementation for \" + this.classname + \"._createDomElement\"\n      );\n    },\n\n    /**\n     * Serializes the virtual DOM element to a writer; the `writer` function accepts\n     *  an varargs, which can be joined with an empty string or streamed.\n     *\n     * If writer is null, the element will be serialised to a string which is returned;\n     * note that if writer is not null, the return value will be null\n     *\n     * @param writer {Function?} the writer\n     * @return {String?} the serialised version if writer is null\n     */\n    serialize(writer) {\n      var temporaryQxObjectId = !this.getQxObjectId();\n      if (temporaryQxObjectId) {\n        this.setQxObjectId(this.classname);\n      }\n      var id = qx.core.Id.getAbsoluteIdOf(this, true);\n      var isIdRoot = !id;\n      if (isIdRoot) {\n        qx.core.Id.getInstance().register(this);\n      }\n\n      var result = undefined;\n      if (writer) {\n        this._serializeImpl(writer);\n      } else {\n        var buffer = [];\n        this._serializeImpl(function () {\n          var args = qx.lang.Array.fromArguments(arguments);\n          qx.lang.Array.append(buffer, args);\n        });\n        result = buffer.join(\"\");\n      }\n\n      if (isIdRoot) {\n        qx.core.Id.getInstance().unregister(this);\n      }\n      if (temporaryQxObjectId) {\n        this.setQxObjectId(null);\n      }\n\n      return result;\n    },\n\n    /**\n     * Serializes the virtual DOM element to a writer; the `writer` function accepts\n     *  an varargs, which can be joined with an empty string or streamed.\n     *\n     * @param writer {Function} the writer\n     */\n    _serializeImpl(writer) {\n      throw new Error(\n        \"No implementation for \" + this.classname + \".serializeImpl\"\n      );\n    },\n\n    /**\n     * Uses an existing element instead of creating one. This may be interesting\n     * when the DOM element is directly needed to add content etc.\n     *\n     * @param domNode {Node} DOM Node to reuse\n     */\n    useNode(domNode) {\n      var id = domNode.getAttribute(\"data-qx-object-id\");\n      if (id) {\n        this.setQxObjectId(id);\n      }\n      var temporaryQxObjectId = !this.getQxObjectId();\n      if (temporaryQxObjectId) {\n        this.setQxObjectId(this.classname);\n      }\n      var id = qx.core.Id.getAbsoluteIdOf(this, true);\n      var isIdRoot = !id;\n      if (isIdRoot) {\n        qx.core.Id.getInstance().register(this);\n      }\n\n      /*\n       * When merging children, we want to keep the original DOM nodes in\n       * domNode no matter what - however, where the DOM nodes have a qxObjectId\n       * we must reuse the original instances.\n       *\n       * The crucial thing is that the qxObjectId hierarchy and the DOM hierarchy\n       * are not the same (although they are often similar, the DOM will often have\n       * extra Nodes).\n       *\n       * However, because the objects in the qxObjectId space will typically already\n       * exist (eg accessed via the constructor) we do not want to discard the original\n       * instance of qx.html.Element because there are probably references to them in\n       * code.\n       *\n       * In the code below, we map the DOM heirarchy into a temporary Javascript\n       * hierarchy, where we can either use existing qx.html.Element instances (found\n       * by looking up the qxObjectId) or fabricate new ones.\n       *\n       * Once the temporary hierarchy is ready, we go back and synchronise each\n       * qx.html.Element with the DOM node and our new array of children.\n       *\n       * The only rule to this is that if you are going to call this `useNode`, then\n       * you must not keep references to objects *unless* you also access them via\n       * the qxObjectId mechanism.\n       */\n\n      var self = this;\n      function convert(domNode) {\n        var children = qx.lang.Array.fromCollection(domNode.childNodes);\n        children = children.map(function (domChild) {\n          var child = null;\n          if (domChild.nodeType == window.Node.ELEMENT_NODE) {\n            var id = domChild.getAttribute(\"data-qx-object-id\");\n            if (id) {\n              var owningQxObjectId = null;\n              var qxObjectId = null;\n              var owningQxObject = null;\n              var pos = id.lastIndexOf(\"/\");\n              if (pos > -1) {\n                owningQxObjectId = id.substring(0, pos);\n                qxObjectId = id.substring(pos + 1);\n                owningQxObject = qx.core.Id.getQxObject(owningQxObjectId);\n                child = owningQxObject.getQxObject(qxObjectId);\n              } else {\n                qxObjectId = id;\n                owningQxObject = self;\n                child = self.getQxObject(id);\n              }\n            }\n          }\n          if (!child) {\n            child = qx.html.Factory.getInstance().createElement(\n              domChild.nodeName,\n              domChild.attributes\n            );\n          }\n          return {\n            htmlNode: child,\n            domNode: domChild,\n            children: convert(domChild)\n          };\n        });\n        return children;\n      }\n\n      function install(map) {\n        var htmlChildren = map.children.map(function (mapEntry) {\n          install(mapEntry);\n          return mapEntry.htmlNode;\n        });\n        map.htmlNode._useNodeImpl(map.domNode, htmlChildren);\n      }\n\n      var rootMap = {\n        htmlNode: this,\n        domNode: domNode,\n        children: convert(domNode)\n      };\n\n      install(rootMap);\n\n      this.flush();\n      this._insertChildren();\n\n      if (isIdRoot) {\n        qx.core.Id.getInstance().unregister(this);\n      }\n      if (temporaryQxObjectId) {\n        this.setQxObjectId(null);\n      }\n    },\n\n    /**\n     * Called internally to complete the connection to an existing DOM node\n     *\n     * @param domNode {DOMNode} the node we're syncing to\n     * @param newChildren {qx.html.Node[]} the new children\n     */\n    _useNodeImpl(domNode, newChildren) {\n      if (this._domNode) {\n        throw new Error(\"Could not overwrite existing element!\");\n      }\n\n      // Use incoming element\n      this._connectDomNode(domNode);\n\n      // Copy currently existing data over to element\n      this._copyData(true, true);\n\n      // Add children\n      var lookup = {};\n      var oldChildren = this._children\n        ? qx.lang.Array.clone(this._children)\n        : null;\n      newChildren.forEach(function (child) {\n        lookup[child.toHashCode()] = child;\n      });\n      this._children = newChildren;\n\n      // Make sure that unused children are disconnected\n      if (oldChildren) {\n        oldChildren.forEach(function (child) {\n          if (!lookup[child.toHashCode()]) {\n            if (child._domNode && child._domNode.parentElement) {\n              child._domNode.parentElement.removeChild(child._domNode);\n            }\n            child._parent = null;\n          }\n        });\n      }\n\n      var self = this;\n      this._children.forEach(function (child) {\n        child._parent = self;\n        if (child._domNode && child._domNode.parentElement !== self._domNode) {\n          child._domNode.parentElement.removeChild(child._domNode);\n          if (this._domNode) {\n            this._domNode.appendChild(child._domNode);\n          }\n        }\n      });\n\n      if (this._domNode) {\n        this._scheduleChildrenUpdate();\n      }\n    },\n\n    /**\n     * Connects a DOM element to this Node; if this Node is already connected to a Widget\n     * then the Widget is also connected.\n     *\n     * @param domNode {DOM} the DOM Node to associate\n     */\n    _connectDomNode(domNode) {\n      if (qx.core.Environment.get(\"qx.debug\")) {\n        qx.core.Assert.assertTrue(!this._domNode || this._domNode === domNode);\n        qx.core.Assert.assertTrue(\n          (domNode.$$elementObject === this &&\n            domNode.$$element === this.toHashCode()) ||\n            (!domNode.$$elementObject && !domNode.$$element)\n        );\n      }\n\n      this._domNode = domNode;\n      domNode.$$elementObject = this;\n      domNode.$$element = this.toHashCode();\n      if (this._qxObject) {\n        domNode.$$qxObjectHash = this._qxObject.toHashCode();\n        domNode.$$qxObject = this._qxObject;\n      }\n    },\n\n    /**\n     * Detects whether the DOM node has been created and is in the document\n     *\n     * @return {Boolean}\n     */\n    isInDocument() {\n      if (document.body) {\n        for (\n          var domNode = this._domNode;\n          domNode != null;\n          domNode = domNode.parentElement\n        ) {\n          if (domNode === document.body) {\n            return true;\n          }\n        }\n      }\n      return false;\n    },\n\n    /**\n     * Updates the Object ID on the element to match the QxObjectId\n     */\n    updateObjectId() {\n      // Copy Object Id\n      if (qx.core.Environment.get(\"module.objectid\")) {\n        var id = this.getQxObjectId();\n        if (!id && this._qxObject) {\n          id = this._qxObject.getQxObjectId();\n        }\n\n        this.setAttribute(\"data-qx-object-id\", id, true);\n      }\n    },\n\n    _cascadeQxObjectIdChanges() {\n      if (qx.core.Environment.get(\"module.objectid\")) {\n        this.updateObjectId();\n      }\n      super._cascadeQxObjectIdChanges();\n    },\n\n    /*\n    ---------------------------------------------------------------------------\n      FLUSH OBJECT\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Add the element to the global modification list.\n     *\n     */\n    _scheduleChildrenUpdate() {\n      if (this._modifiedChildren) {\n        return;\n      }\n\n      if (this._domNode) {\n        this._modifiedChildren = true;\n\n        qx.html.Element._modified[this.toHashCode()] = this;\n        qx.html.Element._scheduleFlush(\"element\");\n      }\n    },\n\n    /**\n     * Syncs data of an HtmlElement object to the DOM.\n     *\n     * This is just a public wrapper around `flush`, because the scope has changed\n     *\n     * @deprecated {6.0} Please use `.flush()` instead\n     */\n    _flush() {\n      this.flush();\n    },\n\n    /**\n     * Syncs data of an HtmlElement object to the DOM.\n     *\n     */\n    flush() {\n      if (qx.core.Environment.get(\"qx.debug\")) {\n        if (this.DEBUG) {\n          this.debug(\"Flush: \" + this.getAttribute(\"id\"));\n        }\n      }\n\n      var length;\n      var children = this._children;\n      if (children) {\n        length = children.length;\n        var child;\n        for (var i = 0; i < length; i++) {\n          child = children[i];\n\n          if (child.isVisible() && child._included && !child._domNode) {\n            child.flush();\n          }\n        }\n      }\n\n      if (!this._domNode) {\n        this._connectDomNode(this._createDomElement());\n\n        this._copyData(false, false);\n\n        if (children && length > 0) {\n          this._insertChildren();\n        }\n      } else {\n        this._syncData();\n\n        if (this._modifiedChildren) {\n          this._syncChildren();\n        }\n      }\n\n      delete this._modifiedChildren;\n    },\n\n    /**\n     * Returns this element's root flag\n     *\n     * @return {Boolean}\n     */\n    isRoot() {\n      throw new Error(\"No implementation for \" + this.classname + \".isRoot\");\n    },\n\n    /**\n     * Detects whether this element is inside a root element\n     *\n     * @return {Boolean}\n     */\n    isInRoot() {\n      var tmp = this;\n      while (tmp) {\n        if (tmp.isRoot()) {\n          return true;\n        }\n        tmp = tmp._parent;\n      }\n      return false;\n    },\n\n    /**\n     * Walk up the internal children hierarchy and\n     * look if one of the children is marked as root.\n     *\n     * This method is quite performance hungry as it\n     * really walks up recursively.\n     * @return {Boolean} <code>true</code> if the element will be seeable\n     */\n    _willBeSeeable() {\n      if (!qx.html.Element._hasRoots) {\n        return false;\n      }\n      var pa = this;\n\n      // Any chance to cache this information in the parents?\n      while (pa) {\n        if (pa.isRoot()) {\n          return true;\n        }\n\n        if (!pa._included || !pa.isVisible()) {\n          return false;\n        }\n\n        pa = pa._parent;\n      }\n\n      return false;\n    },\n\n    /*\n    ---------------------------------------------------------------------------\n      SUPPORT FOR CHILDREN FLUSH\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Append all child nodes to the DOM\n     * element. This function is used when the element is initially\n     * created. After this initial apply {@link #_syncChildren} is used\n     * instead.\n     *\n     */\n    _insertChildren() {\n      var children = this._children;\n      if (!children) {\n        return;\n      }\n      var length = children.length;\n      var child;\n\n      if (length > 2) {\n        var domElement = document.createDocumentFragment();\n        for (var i = 0; i < length; i++) {\n          child = children[i];\n          if (child._domNode && child._included) {\n            domElement.appendChild(child._domNode);\n          }\n        }\n\n        this._domNode.appendChild(domElement);\n      } else {\n        var domElement = this._domNode;\n        for (var i = 0; i < length; i++) {\n          child = children[i];\n          if (child._domNode && child._included) {\n            domElement.appendChild(child._domNode);\n          }\n        }\n      }\n    },\n\n    /**\n     * Synchronize internal children hierarchy to the DOM. This is used\n     * for further runtime updates after the element has been created\n     * initially.\n     *\n     */\n    _syncChildren() {\n      var dataChildren = this._children || [];\n      var dataLength = dataChildren.length;\n      var dataChild;\n      var dataEl;\n\n      var domParent = this._domNode;\n      var domChildren = domParent.childNodes;\n      var domPos = 0;\n      var domEl;\n\n      if (qx.core.Environment.get(\"qx.debug\")) {\n        var domOperations = 0;\n      }\n\n      // Remove children from DOM which are excluded or remove first\n      for (var i = domChildren.length - 1; i >= 0; i--) {\n        domEl = domChildren[i];\n        dataEl = qx.html.Node.fromDomNode(domEl);\n\n        if (!dataEl || !dataEl._included || dataEl._parent !== this) {\n          domParent.removeChild(domEl);\n\n          if (qx.core.Environment.get(\"qx.debug\")) {\n            domOperations++;\n          }\n        }\n      }\n\n      // Start from beginning and bring DOM in sync\n      // with the data structure\n      for (var i = 0; i < dataLength; i++) {\n        dataChild = dataChildren[i];\n\n        // Only process visible childs\n        if (dataChild._included) {\n          dataEl = dataChild._domNode;\n          domEl = domChildren[domPos];\n\n          if (!dataEl) {\n            continue;\n          }\n\n          // Only do something when out of sync\n          // If the data element is not there it may mean that it is still\n          // marked as visible=false\n          if (dataEl != domEl) {\n            if (domEl) {\n              domParent.insertBefore(dataEl, domEl);\n            } else {\n              domParent.appendChild(dataEl);\n            }\n\n            if (qx.core.Environment.get(\"qx.debug\")) {\n              domOperations++;\n            }\n          }\n\n          // Increase counter\n          domPos++;\n        }\n      }\n\n      // User feedback\n      if (qx.core.Environment.get(\"qx.debug\")) {\n        if (qx.html.Element.DEBUG) {\n          this.debug(\"Synced DOM with \" + domOperations + \" operations\");\n        }\n      }\n    },\n\n    /**\n     * Copies data between the internal representation and the DOM. This\n     * simply copies all the data and only works well directly after\n     * element creation. After this the data must be synced using {@link #_syncData}\n     *\n     * @param fromMarkup {Boolean} Whether the copy should respect styles\n     *   given from markup\n     * @param propertiesFromDom {Boolean} whether the copy should respect the property\n     *  values in the dom\n     */\n    _copyData(fromMarkup, propertiesFromDom) {\n      var elem = this._domNode;\n\n      // Attach events\n      var data = this.__eventValues;\n      if (data) {\n        // Import listeners\n        let domEvents = {};\n        let manager = qx.event.Registration.getManager(elem);\n        for (let id in data) {\n          if (manager.findHandler(elem, data[id].type)) {\n            domEvents[id] = data[id];\n          }\n        }\n        qx.event.Registration.getManager(elem).importListeners(elem, domEvents);\n\n        // Cleanup event map\n        // Events are directly attached through event manager\n        // after initial creation. This differs from the\n        // handling of styles and attributes where queuing happens\n        // through the complete runtime of the application.\n        delete this.__eventValues;\n      }\n\n      // Copy properties\n      if (this._properties) {\n        for (var key in this._properties) {\n          var prop = this._properties[key];\n          if (propertiesFromDom) {\n            if (prop.get) {\n              prop.value = prop.get.call(this, key);\n            }\n          } else if (prop.value !== undefined) {\n            prop.set.call(this, prop.value, key);\n          }\n        }\n      }\n    },\n\n    /**\n     * Synchronizes data between the internal representation and the DOM. This\n     * is the counterpart of {@link #_copyData} and is used for further updates\n     * after the element has been created.\n     *\n     */\n    _syncData() {\n      // Sync misc\n      var jobs = this._propertyJobs;\n      if (jobs && this._properties) {\n        for (var key in jobs) {\n          var prop = this._properties[key];\n          if (prop.value !== undefined) {\n            prop.set.call(this, prop.value, key);\n          }\n        }\n\n        this._propertyJobs = null;\n      }\n    },\n\n    /*\n    ---------------------------------------------------------------------------\n      PRIVATE HELPERS/DATA\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Internal helper for all children addition needs\n     *\n     * @param child {var} the element to add\n     * @throws {Error} if the given element is already a child\n     *     of this element\n     */\n    _addChildImpl(child) {\n      if (child._parent === this) {\n        throw new Error(\"Child is already in: \" + child);\n      }\n\n      if (child.__root) {\n        throw new Error(\"Root elements could not be inserted into other ones.\");\n      }\n\n      // Remove from previous parent\n      if (child._parent) {\n        child._parent.remove(child);\n      }\n\n      // Convert to child of this object\n      child._parent = this;\n\n      // Prepare array\n      if (!this._children) {\n        this._children = [];\n      }\n\n      // Schedule children update\n      if (this._domNode) {\n        this._scheduleChildrenUpdate();\n      }\n    },\n\n    /**\n     * Internal helper for all children removal needs\n     *\n     * @param child {qx.html.Element} the removed element\n     * @throws {Error} if the given element is not a child\n     *     of this element\n     */\n    _removeChildImpl(child) {\n      if (child._parent !== this) {\n        throw new Error(\"Has no child: \" + child);\n      }\n\n      // Schedule children update\n      if (this._domNode) {\n        this._scheduleChildrenUpdate();\n      }\n\n      // Remove reference to old parent\n      delete child._parent;\n    },\n\n    /**\n     * Internal helper for all children move needs\n     *\n     * @param child {qx.html.Element} the moved element\n     * @throws {Error} if the given element is not a child\n     *     of this element\n     */\n    _moveChildImpl(child) {\n      if (child._parent !== this) {\n        throw new Error(\"Has no child: \" + child);\n      }\n\n      // Schedule children update\n      if (this._domNode) {\n        this._scheduleChildrenUpdate();\n      }\n    },\n\n    /*\n    ---------------------------------------------------------------------------\n      CHILDREN MANAGEMENT (EXECUTED ON THE PARENT)\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Returns a copy of the internal children structure.\n     *\n     * Please do not modify the array in place. If you need\n     * to work with the data in such a way make yourself\n     * a copy of the data first.\n     *\n     * @return {Array} the children list\n     */\n    getChildren() {\n      return this._children || null;\n    },\n\n    /**\n     * Get a child element at the given index\n     *\n     * @param index {Integer} child index\n     * @return {qx.html.Element|null} The child element or <code>null</code> if\n     *     no child is found at that index.\n     */\n    getChild(index) {\n      var children = this._children;\n      return (children && children[index]) || null;\n    },\n\n    /**\n     * Returns whether the element has any child nodes\n     *\n     * @return {Boolean} Whether the element has any child nodes\n     */\n    hasChildren() {\n      var children = this._children;\n      return children && children[0] !== undefined;\n    },\n\n    /**\n     * Find the position of the given child\n     *\n     * @param child {qx.html.Element} the child\n     * @return {Integer} returns the position. If the element\n     *     is not a child <code>-1</code> will be returned.\n     */\n    indexOf(child) {\n      var children = this._children;\n      return children ? children.indexOf(child) : -1;\n    },\n\n    /**\n     * Whether the given element is a child of this element.\n     *\n     * @param child {qx.html.Element} the child\n     * @return {Boolean} Returns <code>true</code> when the given\n     *    element is a child of this element.\n     */\n    hasChild(child) {\n      var children = this._children;\n      return children && children.indexOf(child) !== -1;\n    },\n\n    /**\n     * Append all given children at the end of this element.\n     *\n     * @param varargs {qx.html.Element} elements to insert\n     * @return {qx.html.Element} this object (for chaining support)\n     */\n    add(varargs) {\n      var self = this;\n      function addImpl(arr) {\n        arr.forEach(function (child) {\n          if (child instanceof qx.data.Array || qx.lang.Type.isArray(child)) {\n            addImpl(child);\n          } else {\n            self._addChildImpl(child);\n            self._children.push(child);\n          }\n        });\n      }\n      addImpl(qx.lang.Array.fromArguments(arguments));\n\n      // Chaining support\n      return this;\n    },\n\n    /**\n     * Inserts a new element into this element at the given position.\n     *\n     * @param child {qx.html.Element} the element to insert\n     * @param index {Integer} the index (starts at 0 for the\n     *     first child) to insert (the index of the following\n     *     children will be increased by one)\n     * @return {qx.html.Element} this object (for chaining support)\n     */\n    addAt(child, index) {\n      this._addChildImpl(child);\n      qx.lang.Array.insertAt(this._children, child, index);\n\n      // Chaining support\n      return this;\n    },\n\n    /**\n     * Removes all given children\n     *\n     * @param childs {qx.html.Element} children to remove\n     * @return {qx.html.Element} this object (for chaining support)\n     */\n    remove(childs) {\n      var children = this._children;\n      if (!children) {\n        return this;\n      }\n\n      var self = this;\n      function removeImpl(arr) {\n        arr.forEach(function (child) {\n          if (child instanceof qx.data.Array || qx.lang.Type.isArray(child)) {\n            removeImpl(child);\n          } else {\n            self._removeChildImpl(child);\n            qx.lang.Array.remove(children, child);\n          }\n        });\n      }\n      removeImpl(qx.lang.Array.fromArguments(arguments));\n\n      // Chaining support\n      return this;\n    },\n\n    /**\n     * Removes the child at the given index\n     *\n     * @param index {Integer} the position of the\n     *     child (starts at 0 for the first child)\n     * @return {qx.html.Element} this object (for chaining support)\n     */\n    removeAt(index) {\n      var children = this._children;\n      if (!children) {\n        throw new Error(\"Has no children!\");\n      }\n\n      var child = children[index];\n      if (!child) {\n        throw new Error(\"Has no child at this position!\");\n      }\n\n      this._removeChildImpl(child);\n      qx.lang.Array.removeAt(this._children, index);\n\n      // Chaining support\n      return this;\n    },\n\n    /**\n     * Remove all children from this element.\n     *\n     * @return {qx.html.Element} A reference to this.\n     */\n    removeAll() {\n      var children = this._children;\n      if (children) {\n        for (var i = 0, l = children.length; i < l; i++) {\n          this._removeChildImpl(children[i]);\n        }\n\n        // Clear array\n        children.length = 0;\n      }\n\n      // Chaining support\n      return this;\n    },\n\n    /*\n    ---------------------------------------------------------------------------\n      CHILDREN MANAGEMENT (EXECUTED ON THE CHILD)\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Returns the parent of this element.\n     *\n     * @return {qx.html.Element|null} The parent of this element\n     */\n    getParent() {\n      return this._parent || null;\n    },\n\n    /**\n     * Insert self into the given parent. Normally appends self to the end,\n     * but optionally a position can be defined. With index <code>0</code> it\n     * will be inserted at the begin.\n     *\n     * @param parent {qx.html.Element} The new parent of this element\n     * @param index {Integer?null} Optional position\n     * @return {qx.html.Element} this object (for chaining support)\n     */\n    insertInto(parent, index) {\n      parent._addChildImpl(this);\n\n      if (index == null) {\n        parent._children.push(this);\n      } else {\n        qx.lang.Array.insertAt(this._children, this, index);\n      }\n\n      return this;\n    },\n\n    /**\n     * Insert self before the given (related) element\n     *\n     * @param rel {qx.html.Element} the related element\n     * @return {qx.html.Element} this object (for chaining support)\n     */\n    insertBefore(rel) {\n      var parent = rel._parent;\n\n      parent._addChildImpl(this);\n      qx.lang.Array.insertBefore(parent._children, this, rel);\n\n      return this;\n    },\n\n    /**\n     * Insert self after the given (related) element\n     *\n     * @param rel {qx.html.Element} the related element\n     * @return {qx.html.Element} this object (for chaining support)\n     */\n    insertAfter(rel) {\n      var parent = rel._parent;\n\n      parent._addChildImpl(this);\n      qx.lang.Array.insertAfter(parent._children, this, rel);\n\n      return this;\n    },\n\n    /**\n     * Move self to the given index in the current parent.\n     *\n     * @param index {Integer} the index (starts at 0 for the first child)\n     * @return {qx.html.Element} this object (for chaining support)\n     * @throws {Error} when the given element is not child\n     *      of this element.\n     */\n    moveTo(index) {\n      var parent = this._parent;\n\n      parent._moveChildImpl(this);\n\n      var oldIndex = parent._children.indexOf(this);\n\n      if (oldIndex === index) {\n        throw new Error(\"Could not move to same index!\");\n      } else if (oldIndex < index) {\n        index--;\n      }\n\n      qx.lang.Array.removeAt(parent._children, oldIndex);\n      qx.lang.Array.insertAt(parent._children, this, index);\n\n      return this;\n    },\n\n    /**\n     * Move self before the given (related) child.\n     *\n     * @param rel {qx.html.Element} the related child\n     * @return {qx.html.Element} this object (for chaining support)\n     */\n    moveBefore(rel) {\n      var parent = this._parent;\n      return this.moveTo(parent._children.indexOf(rel));\n    },\n\n    /**\n     * Move self after the given (related) child.\n     *\n     * @param rel {qx.html.Element} the related child\n     * @return {qx.html.Element} this object (for chaining support)\n     */\n    moveAfter(rel) {\n      var parent = this._parent;\n      return this.moveTo(parent._children.indexOf(rel) + 1);\n    },\n\n    /**\n     * Remove self from the current parent.\n     *\n     * @return {qx.html.Element} this object (for chaining support)\n     */\n    free() {\n      var parent = this._parent;\n      if (!parent) {\n        throw new Error(\"Has no parent to remove from.\");\n      }\n\n      if (!parent._children) {\n        return this;\n      }\n\n      parent._removeChildImpl(this);\n      qx.lang.Array.remove(parent._children, this);\n\n      return this;\n    },\n\n    /*\n    ---------------------------------------------------------------------------\n      DOM ELEMENT ACCESS\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Returns the DOM element (if created). Please use this with caution.\n     * It is better to make all changes to the object itself using the public\n     * API rather than to the underlying DOM element.\n     *\n     * @param create {Boolean?} if true, the DOM node will be created if it does\n     * not exist\n     * @return {Element|null} The DOM element node, if available.\n     */\n    getDomElement(create) {\n      if (create && !this._domNode) {\n        this.flush();\n      }\n      return this._domNode || null;\n    },\n\n    /**\n     * Returns the nodeName of the DOM element.\n     *\n     * @return {String} The node name\n     */\n    getNodeName() {\n      return this._nodeName;\n    },\n\n    /**\n     * Sets the nodeName of the DOM element.\n     *\n     * @param name {String} The node name\n     */\n    setNodeName(name) {\n      if (\n        this._domNode &&\n        name.toLowerCase() !== this._nodeName.toLowerCase()\n      ) {\n        throw new Error(\n          \"Cannot change the name of the node after the DOM node has been created\"\n        );\n      }\n      this._nodeName = name;\n    },\n\n    /*\n    ---------------------------------------------------------------------------\n      EXCLUDE SUPPORT\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Marks the element as included which means it will be moved into\n     * the DOM again and synced with the internal data representation.\n     *\n     * @return {Node} this object (for chaining support)\n     */\n    include() {\n      if (this._included) {\n        return this;\n      }\n\n      delete this._included;\n\n      if (this._parent) {\n        this._parent._scheduleChildrenUpdate();\n      }\n\n      return this;\n    },\n\n    /**\n     * Marks the element as excluded which means it will be removed\n     * from the DOM and ignored for updates until it gets included again.\n     *\n     * @return {qx.html.Element} this object (for chaining support)\n     */\n    exclude() {\n      if (!this._included) {\n        return this;\n      }\n\n      this._included = false;\n\n      if (this._parent) {\n        this._parent._scheduleChildrenUpdate();\n      }\n\n      return this;\n    },\n\n    /**\n     * Whether the element is part of the DOM\n     *\n     * @return {Boolean} Whether the element is part of the DOM.\n     */\n    isIncluded() {\n      return this._included === true;\n    },\n\n    /**\n     * Apply method for visible property\n     */\n    _applyVisible(value) {\n      // Nothing - to be overridden\n    },\n\n    /*\n    ---------------------------------------------------------------------------\n      PROPERTY SUPPORT\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Registers a property and the implementations used to read the property value\n     * from the DOM and to set the property value onto the DOM.  This allows the element\n     * to have a simple `setProperty` method that knows how to read and write the value.\n     *\n     * You do not have to specify a getter or a setter - by default the setter will use\n     * `_applyProperty` for backwards compatibility, and there is no getter implementation.\n     *\n     * The functions are called with `this` set to this Element.  The getter takes\n     * the property name as a parameter and is expected to return a value, the setter takes\n     * the property name and value as parameters, and returns nothing.\n     *\n     * @param key {String} the property name\n     * @param getter {Function?} function to read from the DOM\n     * @param setter {Function?} function to copy to the DOM\n     * @param serialize {Function?} function to serialize the value to HTML\n     */\n    registerProperty(key, get, set, serialize) {\n      if (!this._properties) {\n        this._properties = {};\n      }\n      if (this._properties[key]) {\n        this.debug(\n          \"Overridding property \" +\n            key +\n            \" in \" +\n            this +\n            \"[\" +\n            this.classname +\n            \"]\"\n        );\n      }\n      if (!set) {\n        set = qx.lang.Function.bind(function (value, key) {\n          this._applyProperty(key, value);\n        }, this);\n        qx.log.Logger.deprecatedMethodWarning(\n          this._applyProperty,\n          \"The method '_applyProperty' is deprecated.  Please use `registerProperty` instead (property '\" +\n            key +\n            \"' in \" +\n            this.classname +\n            \")\"\n        );\n      }\n      this._properties[key] = {\n        get: get,\n        set: set,\n        serialize: serialize,\n        value: undefined\n      };\n    },\n\n    /**\n     * Applies a special property with the given value.\n     *\n     * This property apply routine can be easily overwritten and\n     * extended by sub classes to add new low level features which\n     * are not easily possible using styles and attributes.\n     *\n     * Note that this implementation is for backwards compatibility and\n     * implementations\n     *\n     * @param name {String} Unique property identifier\n     * @param value {var} Any valid value (depends on the property)\n     * @return {qx.html.Element} this object (for chaining support)\n     * @abstract\n     * @deprecated {6.0} please use `registerProperty` instead\n     */\n    _applyProperty(name, value) {\n      // empty implementation\n    },\n\n    /**\n     * Set up the given property.\n     *\n     * @param key {String} the name of the property\n     * @param value {var} the value\n     * @param direct {Boolean?false} Whether the value should be applied\n     *    directly (without queuing)\n     * @return {qx.html.Element} this object (for chaining support)\n     */\n    _setProperty(key, value, direct) {\n      if (!this._properties || !this._properties[key]) {\n        this.registerProperty(key, null, null);\n      }\n\n      if (this._properties[key].value == value) {\n        return this;\n      }\n\n      this._properties[key].value = value;\n\n      // Uncreated elements simply copy all data\n      // on creation. We don't need to remember any\n      // jobs. It is a simple full list copy.\n      if (this._domNode) {\n        // Omit queuing in direct mode\n        if (direct) {\n          this._properties[key].set.call(this, value, key);\n          return this;\n        }\n\n        // Dynamically create if needed\n        if (!this._propertyJobs) {\n          this._propertyJobs = {};\n        }\n\n        // Store job info\n        this._propertyJobs[key] = true;\n\n        // Register modification\n        qx.html.Element._modified[this.toHashCode()] = this;\n        qx.html.Element._scheduleFlush(\"element\");\n      }\n\n      return this;\n    },\n\n    /**\n     * Removes the given misc\n     *\n     * @param key {String} the name of the misc\n     * @param direct {Boolean?false} Whether the value should be removed\n     *    directly (without queuing)\n     * @return {qx.html.Element} this object (for chaining support)\n     */\n    _removeProperty(key, direct) {\n      return this._setProperty(key, null, direct);\n    },\n\n    /**\n     * Get the value of the given misc.\n     *\n     * @param key {String} name of the misc\n     * @param direct {Boolean?false} Whether the value should be obtained directly (without queuing)\n     * @return {var} the value of the misc\n     */\n    _getProperty(key, direct) {\n      if (!this._properties || !this._properties[key]) {\n        return null;\n      }\n\n      var value = this._properties[key].value;\n      if (this._domNode) {\n        if (direct || value === undefined) {\n          var fn = this._properties[key].get;\n          if (fn) {\n            this._properties[key].value = value = fn.call(this, key);\n          }\n        }\n      }\n\n      return value === undefined || value == null ? null : value;\n    },\n\n    /*\n    ---------------------------------------------------------------------------\n      EVENT SUPPORT\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Adds an event listener to the element.\n     *\n     * @param type {String} Name of the event\n     * @param listener {Function} Function to execute on event\n     * @param self {Object ? null} Reference to the 'this' variable inside\n     *         the event listener. When not given, the corresponding dispatcher\n     *         usually falls back to a default, which is the target\n     *         by convention. Note this is not a strict requirement, i.e.\n     *         custom dispatchers can follow a different strategy.\n     * @param capture {Boolean ? false} Whether capturing should be enabled\n     * @return {var} An opaque id, which can be used to remove the event listener\n     *         using the {@link #removeListenerById} method.\n     */\n    addListener(type, listener, self, capture) {\n      if (this.$$disposed) {\n        return null;\n      }\n\n      if (qx.core.Environment.get(\"qx.debug\")) {\n        var msg =\n          \"Failed to add event listener for type '\" +\n          type +\n          \"'\" +\n          \" to the target '\" +\n          this +\n          \"': \";\n\n        this.assertString(type, msg + \"Invalid event type.\");\n        this.assertFunction(listener, msg + \"Invalid callback function\");\n\n        if (self !== undefined) {\n          this.assertObject(self, \"Invalid context for callback.\");\n        }\n\n        if (capture !== undefined) {\n          this.assertBoolean(capture, \"Invalid capture flag.\");\n        }\n      }\n\n      const registerDomEvent = () => {\n        if (this._domNode) {\n          return qx.event.Registration.addListener(\n            this._domNode,\n            type,\n            listener,\n            self,\n            capture\n          );\n        }\n\n        if (!this.__eventValues) {\n          this.__eventValues = {};\n        }\n\n        if (capture == null) {\n          capture = false;\n        }\n\n        var unique = qx.event.Manager.getNextUniqueId();\n        var id = type + (capture ? \"|capture|\" : \"|bubble|\") + unique;\n\n        this.__eventValues[id] = {\n          type: type,\n          listener: listener,\n          self: self,\n          capture: capture,\n          unique: unique\n        };\n\n        return id;\n      };\n\n      if (qx.Class.supportsEvent(this, type)) {\n        let id = super.addListener(type, listener, self, capture);\n        id.domEventId = registerDomEvent();\n        return id;\n      }\n\n      return registerDomEvent();\n    },\n\n    /**\n     * Removes an event listener from the element.\n     *\n     * @param type {String} Name of the event\n     * @param listener {Function} Function to execute on event\n     * @param self {Object} Execution context of given function\n     * @param capture {Boolean ? false} Whether capturing should be enabled\n     * @return {qx.html.Element} this object (for chaining support)\n     */\n    removeListener(type, listener, self, capture) {\n      if (this.$$disposed) {\n        return null;\n      }\n\n      if (qx.core.Environment.get(\"qx.debug\")) {\n        var msg =\n          \"Failed to remove event listener for type '\" +\n          type +\n          \"'\" +\n          \" from the target '\" +\n          this +\n          \"': \";\n\n        this.assertString(type, msg + \"Invalid event type.\");\n        this.assertFunction(listener, msg + \"Invalid callback function\");\n\n        if (self !== undefined) {\n          this.assertObject(self, \"Invalid context for callback.\");\n        }\n\n        if (capture !== undefined) {\n          this.assertBoolean(capture, \"Invalid capture flag.\");\n        }\n      }\n\n      if (qx.Class.supportsEvent(this, type)) {\n        super.removeListener(type, listener, self, capture);\n      }\n\n      if (this._domNode) {\n        if (\n          listener.$$wrapped_callback &&\n          listener.$$wrapped_callback[type + this.toHashCode()]\n        ) {\n          var callback = listener.$$wrapped_callback[type + this.toHashCode()];\n          delete listener.$$wrapped_callback[type + this.toHashCode()];\n          listener = callback;\n        }\n        qx.event.Registration.removeListener(\n          this._domNode,\n          type,\n          listener,\n          self,\n          capture\n        );\n      } else {\n        var values = this.__eventValues;\n        var entry;\n\n        if (capture == null) {\n          capture = false;\n        }\n\n        for (var key in values) {\n          entry = values[key];\n\n          // Optimized for performance: Testing references first\n          if (\n            entry.listener === listener &&\n            entry.self === self &&\n            entry.capture === capture &&\n            entry.type === type\n          ) {\n            delete values[key];\n            break;\n          }\n        }\n      }\n\n      return this;\n    },\n\n    /**\n     * Removes an event listener from an event target by an id returned by\n     * {@link #addListener}\n     *\n     * @param id {var} The id returned by {@link #addListener}\n     * @return {qx.html.Element} this object (for chaining support)\n     */\n    removeListenerById(id) {\n      if (this.$$disposed) {\n        return null;\n      }\n\n      if (id.domEventId) {\n        if (this._domNode) {\n          qx.event.Registration.removeListenerById(\n            this._domNode,\n            id.domEventId\n          );\n        }\n        delete id.domEventId;\n        super.removeListenerById(id);\n      } else {\n        if (this._domNode) {\n          qx.event.Registration.removeListenerById(this._domNode, id);\n        } else {\n          delete this.__eventValues[id];\n        }\n      }\n\n      return this;\n    },\n\n    /**\n     * Check if there are one or more listeners for an event type.\n     *\n     * @param type {String} name of the event type\n     * @param capture {Boolean ? false} Whether to check for listeners of\n     *         the bubbling or of the capturing phase.\n     * @return {Boolean} Whether the object has a listener of the given type.\n     */\n    hasListener(type, capture) {\n      if (this.$$disposed) {\n        return false;\n      }\n\n      if (qx.Class.supportsEvent(this, type)) {\n        let has = super.hasListener(type, capture);\n        if (has) {\n          return true;\n        }\n      }\n\n      if (this._domNode) {\n        if (qx.event.Registration.hasListener(this._domNode, type, capture)) {\n          return true;\n        }\n      } else {\n        var values = this.__eventValues;\n        var entry;\n\n        if (capture == null) {\n          capture = false;\n        }\n\n        for (var key in values) {\n          entry = values[key];\n\n          // Optimized for performance: Testing fast types first\n          if (entry.capture === capture && entry.type === type) {\n            return true;\n          }\n        }\n      }\n\n      return false;\n    },\n\n    /**\n     * Serializes and returns all event listeners attached to this element\n     * @return {Map[]} an Array containing a map for each listener. The maps\n     * have the following keys:\n     * <ul>\n     *   <li><code>type</code> (String): Event name</li>\n     *   <li><code>handler</code> (Function): Callback function</li>\n     *   <li><code>self</code> (Object): The callback's context</li>\n     *   <li><code>capture</code> (Boolean): If <code>true</code>, the listener is\n     * attached to the capturing phase</li>\n     * </ul>\n     */\n    getListeners() {\n      if (this.$$disposed) {\n        return null;\n      }\n\n      var listeners = [];\n      qx.lang.Array.append(\n        listeners,\n        qx.event.Registration.serializeListeners(this) || []\n      );\n\n      if (this._domNode) {\n        qx.lang.Array.append(\n          listeners,\n          qx.event.Registration.serializeListeners(this._domNode) || []\n        );\n      }\n\n      for (var id in this.__eventValues) {\n        var listenerData = this.__eventValues[id];\n        listeners.push({\n          type: listenerData.type,\n          handler: listenerData.listener,\n          self: listenerData.self,\n          capture: listenerData.capture\n        });\n      }\n\n      return listeners;\n    }\n  },\n\n  /*\n  *****************************************************************************\n     DESTRUCT\n  *****************************************************************************\n  */\n\n  destruct() {\n    var el = this._domNode;\n    if (el) {\n      qx.event.Registration.getManager(el).removeAllListeners(el);\n      el.$$element = \"\";\n      delete el.$$elementObject;\n      el.$$qxObjectHash = \"\";\n      delete el.$$qxObject;\n    }\n\n    if (!qx.core.ObjectRegistry.inShutDown) {\n      var parent = this._parent;\n      if (parent && !parent.$$disposed) {\n        parent.remove(this);\n      }\n    }\n\n    this._disposeArray(\"_children\");\n\n    this._properties =\n      this._propertyJobs =\n      this._domNode =\n      this._parent =\n      this.__eventValues =\n        null;\n  }\n});\n"
  ],
  "mappings": "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"
}