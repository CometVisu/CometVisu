{
  "version": 3,
  "sources": [
    "/home/runner/work/CometVisu/CometVisu/qx_packages/johnspackman_UploadMgr_v1_0_5/source/class/com/zenesis/qx/upload/InputElement.js"
  ],
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "extend",
    "html",
    "Element",
    "construct",
    "widget",
    "name",
    "css",
    "position",
    "cursor",
    "hideFocus",
    "zIndex",
    "getZIndex",
    "opacity",
    "top",
    "right",
    "fontFamily",
    "fontSize",
    "core",
    "Environment",
    "get",
    "bom",
    "client",
    "Engine",
    "MSHTML",
    "VERSION",
    "filter",
    "width",
    "height",
    "attrs",
    "type",
    "title",
    "hasMixin",
    "constructor",
    "com",
    "zenesis",
    "upload",
    "MUploadButton",
    "bind",
    "__relatedWidget",
    "properties",
    "acceptUpload",
    "init",
    "nullable",
    "check",
    "apply",
    "multiple",
    "directory",
    "members",
    "getWidget",
    "_applyAcceptUpload",
    "value",
    "setAttribute",
    "removeAttribute",
    "_applyDirectory",
    "_applyMultiple",
    "InputElement"
  ],
  "mappings": "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",
  "sourcesContent": [
    "qx.Class.define(\"com.zenesis.qx.upload.InputElement\", {\n  extend: qx.html.Element,\n\n  construct: function(widget, name) {\n    // styling the input[type=file]\n    // element is a bit tricky. Some browsers just ignore the normal\n    // css style input. Firefox is especially tricky in this regard.\n    // since we are providing our one look via the underlying qooxdoo\n    // button anyway, all we have todo is position the ff upload\n    // button over the button element. This is tricky in itself\n    // as the ff upload button consists of a text and a button element\n    // which are not css accessible themselfes. So the best we can do,\n    // is align to the top right corner of the upload widget and set its\n    // font so large that it will cover even realy large underlying buttons.\n    var css = {\n      position: \"absolute\",\n      cursor: \"pointer\",\n      hideFocus: \"true\",\n      zIndex: widget.getZIndex() + 11,\n      opacity: 0,\n      // align to the top right hand corner\n      top: '0px',\n      right: '0px',\n      // ff ignores the width setting pick a realy large font size to get\n      // a huge button that covers the area of the upload button\n      fontFamily: 'Arial',\n      // from valums.com/ajax-upload: 4 persons reported this, the max values\n      // that worked for them were 243, 236, 236, 118\n      fontSize: '118px'\n    };\n    if ((qx.core.Environment && qx.core.Environment.get('browser.name') == 'ie' && qx.core.Environment.get('browser.version') < 9)\n        || (!qx.core.Environment && qx.bom.client.Engine.MSHTML && qx.bom.client.Engine.VERSION < 9.0)) {\n      css.filter = 'alpha(opacity=0)';\n      css.width = '200%';\n      css.height = '100%';\n    }\n\n    var attrs = {\n        type: 'file',\n        name: name,\n        title: ' '\n      };\n    this.base(arguments, 'input', css, attrs);\n    if (qx.Class.hasMixin(widget.constructor, com.zenesis.qx.upload.MUploadButton)) {\n      widget.bind(\"acceptUpload\", this, \"acceptUpload\");       \n      widget.bind(\"multiple\", this, \"multiple\");       \n      widget.bind(\"directory\", this, \"directory\");       \n   }\n   this.__relatedWidget = widget;\n  },\n\n  properties: {\n  acceptUpload: {\n      init: null,\n      nullable: true,\n      check: \"String\",\n      apply: \"_applyAcceptUpload\"\n    },\n    multiple: {\n      init: false,\n      check: \"Boolean\",\n      nullable: false,\n      apply: \"_applyMultiple\"\n    },\n    directory: {\n      init: false,\n      check: \"Boolean\",\n      nullable: false,\n      apply: \"_applyDirectory\"\n    }\n  },\n\n  members: {\n    __relatedWidget: null,\n\n    getWidget: function() {\n      return this.__relatedWidget;\n    },\n\n    _applyAcceptUpload: function(value) {\n      if (value)\n        this.setAttribute(\"accept\", value, true);\n      else\n        this.removeAttribute(\"accept\", true);\n    },\n    _applyDirectory: function(value) {\n      if (value)\n        this.setAttribute(\"webkitdirectory\", \"webkitdirectory\", true);\n      else\n        this.removeAttribute(\"webkitdirectory\", true);\n    },\n\t\n    _applyMultiple: function(value) {\n      if (value)\n        this.setAttribute(\"multiple\", \"multiple\", true);\n      else\n        this.removeAttribute(\"multiple\", true);\n    }\n  }\n});\n"
  ]
}