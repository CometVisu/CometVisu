<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>The tr064 Plugin &mdash; CometVisu</title>
      <link rel="stylesheet" href="../../../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../../../_static/theme_override.css" type="text/css" />
    <link rel="canonical" href="https://www.cometvisu.org/CometVisu/en/0.13/manual/config/widgets/plugins/tr064/index.html"/>
  <!--[if lt IE 9]>
    <script src="../../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../../../" id="documentation_options" src="../../../../_static/documentation_options.js"></script>
        <script src="../../../../_static/jquery.js"></script>
        <script src="../../../../_static/underscore.js"></script>
        <script src="../../../../_static/doctools.js"></script>
        <script src="../../../../_static/versions.js"></script>
    <script src="../../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../search.html" />
    <link rel="next" title="Addresses - the communication with the backend" href="../../../address.html" />
    <link rel="prev" title="The timeout plugin" href="../timeout/index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../../../index.html" class="icon icon-home"> CometVisu
            <img src="../../../../_static/comet_webapp_icon_android_48.png" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                0.13.0-dev
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../../install/index.html">Installation of the CometVisu</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../tutorial/index.html">Usage of the CometVisu</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../../index.html">Configuration of the CometVisu</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../../manager.html">The CometVisu Manager</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../editor.html">Graphical editor</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../hidden-config.html">Hidden configurations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../url-params.html">URL-Parameter</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../index.html#pages-and-structure-of-cometvisu">Pages and structure of CometVisu</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../index.html#navigation-elements-in-the-cometvisu">Navigation elements in the CometVisu</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../index.html#the-available-designs">The available designs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../index.html#changes-of-the-metal-design">Changes of the metal design</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../index.html#basic-elements-for-designing-the-layout">Basic elements for designing the layout</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../index.html#elements-for-conversion-and-formatting-in-the-cometvisu">Elements for conversion and formatting in the CometVisu</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../../../index.html#widgets-in-the-cometvisu">Widgets in the CometVisu</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../../index.html">Operable widgets</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../index.html#informative-widgets">Informative widgets</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../index.html#other-widgets">Other widgets</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="../../index.html#widgets-that-can-be-included-as-plugin">Widgets that can be included as plugin</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="../clock/index.html">The clock plugin</a></li>
<li class="toctree-l4"><a class="reference internal" href="../diagram/index.html">The diagram plugin</a></li>
<li class="toctree-l4"><a class="reference internal" href="../gauge/index.html">The gauge plugin</a></li>
<li class="toctree-l4"><a class="reference internal" href="../link/index.html">The link plugin</a></li>
<li class="toctree-l4"><a class="reference internal" href="../openweathermap/index.html">The openweathermap plugin</a></li>
<li class="toctree-l4"><a class="reference internal" href="../powerspectrum/index.html">The powerspectrum plugin</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rss/index.html">The rss plugin</a></li>
<li class="toctree-l4"><a class="reference internal" href="../speech/index.html">The Speech plugin</a></li>
<li class="toctree-l4"><a class="reference internal" href="../strftime/index.html">The strftime plugin</a></li>
<li class="toctree-l4"><a class="reference internal" href="../timeout/index.html">The timeout plugin</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">The tr064 Plugin</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../address.html">Addresses - the communication with the backend</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../index.html#cometvisu-examples">CometVisu - Examples</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../index.html#miscellaneous">Miscellaneous</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../colab/index.html">Help the CometVisu project</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../devel/index.html">Information for developers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../faq.html">FAQ</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../index.html">CometVisu</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="../../../index.html">Configuration of the CometVisu</a> &raquo;</li>
          <li><a href="../../index.html">Operable widgets</a> &raquo;</li>
      <li>The tr064 Plugin</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="admonition caution">
<p class="admonition-title">Caution</p>
<p>This is the documentation for the current development branch of the CometVisu.
It is possible that some of the described features are not yet available in the current release.</p>
<p>Also there might be lots of errors in this documentation as some parts of the content have been translated
by an online translation service.</p>
</div>
<section id="the-tr064-plugin">
<span id="tr064"></span><h1>The tr064 Plugin<a class="headerlink" href="#the-tr064-plugin" title="Permalink to this headline">¶</a></h1>
<div class="line"><div class="line-block">
<div class="line"><strong>Author</strong>: Christian Mayer</div>
<div class="line"><strong>Available since version</strong>: 0.11.0</div>
<div class="line"><br /></div>
</div>
</div>
<div class="admonition-todo admonition" id="id1">
<p class="admonition-title">Todo</p>
<p>automatic screenshot creation (from dummy data)</p>
</div>
<section id="description">
<h2>Description<a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h2>
<p>The plugin is an interface to routers that implement the TR-064 protocol, like
the widely used Fritz!Box. The <code class="docutils literal notranslate"><span class="pre">calllist</span></code> widget from this plugin displays
a call list that contains the name of the callers (when known to the router)
as well as the records of the answering machine.</p>
<figure class="align-default">
<img alt="../../../../_images/calllist.png" src="../../../../_images/calllist.png" />
</figure>
</section>
<section id="settings">
<h2>Settings<a class="headerlink" href="#settings" title="Permalink to this headline">¶</a></h2>
<p>For a general understanding of how the configuration files are structured and what elements and attributes are
it is recommended to read this section first: <a class="reference internal" href="../../../index.html#visu-config-details"><span class="std std-ref">Pages and structure of CometVisu</span></a>.</p>
<p>The behaviour and appearance of the powerspectrum plugins can be influenced by using certain attributes and elements.
The following tables show the allowed attributes and elements and their possible values.
The screenshots show, how both can be edited in the <a class="reference internal" href="../../../editor.html#editor"><span class="std std-ref">editor</span></a>.</p>
<p>Attributes underlined by ….. are mandatory, all the others are optional and be omitted.</p>
<section id="allowed-attributes-in-the-calllist-element">
<h3>Allowed attributes in the calllist-element<a class="headerlink" href="#allowed-attributes-in-the-calllist-element" title="Permalink to this headline">¶</a></h3>
<table class="docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 15%" />
<col style="width: 20%" />
<col style="width: 55%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Element</p></th>
<th class="head" colspan="4"><p>Attribute</p></th>
</tr>
<tr class="row-even"><th class="head"></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Content</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-odd"><td rowspan="26"><p>calllist</p></td>
<td><p><abbr title="mandatory">device</abbr></p></td>
<td><p>string</p></td>
<td><p>ID/Name of the device as used in the hidden configuration.</p></td>
</tr>
<tr class="row-even"><td><p>max</p></td>
<td><p>decimal</p></td>
<td><p>Maximum number of entries to fetch from the router.</p></td>
</tr>
<tr class="row-odd"><td><p>columns</p></td>
<td><p>string</p></td>
<td><p>By semicolon separated list of column types (allowed types: caller, date, name, nameOrCaller, tam, type)</p></td>
</tr>
<tr class="row-even"><td><p>TAM</p></td>
<td><p>string</p></td>
<td><p>Icon for telephone answering machine.</p></td>
</tr>
<tr class="row-odd"><td><p>TAMColor</p></td>
<td><p>string</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>TAMwait</p></td>
<td><p>string</p></td>
<td><p>Icon for waiting for telephone answering machine.</p></td>
</tr>
<tr class="row-odd"><td><p>TAMwaitColor</p></td>
<td><p>string</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>TAMplay</p></td>
<td><p>string</p></td>
<td><p>Icon for playing the telephone answering machine.</p></td>
</tr>
<tr class="row-odd"><td><p>TAMplayColor</p></td>
<td><p>string</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>TAMstop</p></td>
<td><p>string</p></td>
<td><p>Icon for stopping the telephone answering machine.</p></td>
</tr>
<tr class="row-odd"><td><p>TAMstopColor</p></td>
<td><p>string</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>typeIncoming</p></td>
<td><p>string</p></td>
<td><p>Icon for incoming call.</p></td>
</tr>
<tr class="row-odd"><td><p>typeIncomingColor</p></td>
<td><p>string</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>typeMissed</p></td>
<td><p>string</p></td>
<td><p>Icon for missed call.</p></td>
</tr>
<tr class="row-odd"><td><p>typeMissedColor</p></td>
<td><p>string</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>typeOutgoing</p></td>
<td><p>string</p></td>
<td><p>Icon for outgoing call.</p></td>
</tr>
<tr class="row-odd"><td><p>typeOutgoingColor</p></td>
<td><p>string</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>typeActiveIncoming</p></td>
<td><p>string</p></td>
<td><p>Icon for active incoming call.</p></td>
</tr>
<tr class="row-odd"><td><p>typeActiveIncomingColor</p></td>
<td><p>string</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>typeRejectedIncoming</p></td>
<td><p>string</p></td>
<td><p>Icon for rejected incoming call.</p></td>
</tr>
<tr class="row-odd"><td><p>typeRejectedIncomingColor</p></td>
<td><p>string</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>typeActiveOutgoing</p></td>
<td><p>string</p></td>
<td><p>Icon for active outgoing call.</p></td>
</tr>
<tr class="row-odd"><td><p>typeActiveOutgoingColor</p></td>
<td><p>string</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>typeUnknown</p></td>
<td><p>string</p></td>
<td><p>Icon for unknown call type.</p></td>
</tr>
<tr class="row-odd"><td><p>typeUnknownColor</p></td>
<td><p>string</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>refresh</p></td>
<td><p>decimal</p></td>
<td><p>Sets the update rate for the call list in seconds</p></td>
</tr>
</tbody>
</table>
<figure class="align-center" id="id4">
<img alt="../../../../_images/en_config_widgets_plugins_tr064_index_editor_attributes.png" src="../../../../_images/en_config_widgets_plugins_tr064_index_editor_attributes.png" />
<figcaption>
<p><span class="caption-text">Attributes in the editor (simple view) <a class="footnote-reference brackets" href="#f1" id="id2">1</a></span><a class="headerlink" href="#id4" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
</section>
<section id="allowed-child-elements-and-their-attributes">
<h3>Allowed child-elements and their attributes<a class="headerlink" href="#allowed-child-elements-and-their-attributes" title="Permalink to this headline">¶</a></h3>
<table class="schema-table docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 15%" />
<col style="width: 15%" />
<col style="width: 55%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Element</p></th>
<th class="head" colspan="4"><p>Attribute</p></th>
</tr>
<tr class="row-even"><th class="head"><p>Structure</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Content</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-odd"><td rowspan="17"><dl class="simple">
<dt>calllist</dt><dd><ul class="simple">
<li><p>layout</p></li>
</ul>
</dd>
</dl>
</td>
<td><p>colspan</p></td>
<td><p>decimal</p></td>
<td><p>Amount of columns this widget should be wide.</p></td>
</tr>
<tr class="row-even"><td><p>colspan-m</p></td>
<td><p>decimal</p></td>
<td><p>Overrules the amount of columns on a medium screen.</p></td>
</tr>
<tr class="row-odd"><td><p>colspan-s</p></td>
<td><p>decimal</p></td>
<td><p>Overrules the amount of columns on a small screen.</p></td>
</tr>
<tr class="row-even"><td><p>rowspan</p></td>
<td><p>decimal</p></td>
<td><p>Amount of rows this widget should be high.</p></td>
</tr>
<tr class="row-odd"><td><p>x</p></td>
<td><p>string</p></td>
<td><p>Horizontal position of the widget for 2D pages.</p></td>
</tr>
<tr class="row-even"><td><p>x-s</p></td>
<td><p>string</p></td>
<td><p>Horizontal position of the widget for 2D pages on a small screen.</p></td>
</tr>
<tr class="row-odd"><td><p>x-m</p></td>
<td><p>string</p></td>
<td><p>Horizontal position of the widget for 2D pages on a medium screen.</p></td>
</tr>
<tr class="row-even"><td><p>y</p></td>
<td><p>string</p></td>
<td><p>Vertical position of the widget for 2D pages.</p></td>
</tr>
<tr class="row-odd"><td><p>y-s</p></td>
<td><p>string</p></td>
<td><p>Vertical position of the widget for 2D pages on a small screen.</p></td>
</tr>
<tr class="row-even"><td><p>y-m</p></td>
<td><p>string</p></td>
<td><p>Vertical position of the widget for 2D pages on a medium screen.</p></td>
</tr>
<tr class="row-odd"><td><p>z</p></td>
<td><p>string</p></td>
<td><p>Reserved for future use.</p></td>
</tr>
<tr class="row-even"><td><p>width</p></td>
<td><p>string</p></td>
<td><p>Width for the widget for 2D pages.</p></td>
</tr>
<tr class="row-odd"><td><p>width-s</p></td>
<td><p>string</p></td>
<td><p>Width for the widget for 2D pages on a small screen.</p></td>
</tr>
<tr class="row-even"><td><p>width-m</p></td>
<td><p>string</p></td>
<td><p>Width for the widget for 2D pages on a medium screen.</p></td>
</tr>
<tr class="row-odd"><td><p>scale</p></td>
<td><p><em>true</em> or <em>false</em></p></td>
<td><p>Enable/Disable scaling layout values relative to backdrop on 2d pages (default: true).</p></td>
</tr>
<tr class="row-even"><td><p>scale-s</p></td>
<td><p><em>true</em> or <em>false</em></p></td>
<td><p>Enable/Disable scaling layout values relative to backdrop on 2d pages on a small screen (default: true).</p></td>
</tr>
<tr class="row-odd"><td><p>scale-m</p></td>
<td><p><em>true</em> or <em>false</em></p></td>
<td><p>Enable/Disable scaling layout values relative to backdrop on 2d pages on a medium screen (default: true).</p></td>
</tr>
</tbody>
</table>
<table class="schema-table docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 15%" />
<col style="width: 15%" />
<col style="width: 55%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Element</p></th>
<th class="head" colspan="4"><p>Attribute</p></th>
</tr>
<tr class="row-even"><th class="head"><p>Structure</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Content</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-odd"><td rowspan="6"><dl class="simple">
<dt>calllist</dt><dd><ul class="simple">
<li><p>label</p></li>
<li><p>icon</p></li>
</ul>
</dd>
</dl>
</td>
<td><p><abbr title="mandatory">name</abbr></p></td>
<td><p>string</p></td>
<td><p>Name of the icon registration.</p></td>
</tr>
<tr class="row-even"><td><p>type</p></td>
<td><p>string</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>flavour</p></td>
<td><p>string</p></td>
<td><p>Selection of a display variant. See also <a class="reference internal" href="../../../flavour.html#flavour"><span class="std std-ref">Flavour</span></a>.</p></td>
</tr>
<tr class="row-even"><td><p>color</p></td>
<td><p>string</p></td>
<td><p>Color of the icon in CSS notation (e.g. #1188FF).</p></td>
</tr>
<tr class="row-odd"><td><p>styling</p></td>
<td><p>string</p></td>
<td><p>Change the color of the displayed value depending on its value. See also <a class="reference internal" href="../../../styling.html#styling"><span class="std std-ref">Styling</span></a></p></td>
</tr>
<tr class="row-even"><td><p>class</p></td>
<td><p>string</p></td>
<td><p>Add this value to the CSS class so that it can be formatted by a user provided style sheet.</p></td>
</tr>
<tr class="row-odd"><td><dl class="simple">
<dt>calllist</dt><dd><ul class="simple">
<li><p>label</p>
<ul>
<li><p>#text</p></li>
</ul>
</li>
</ul>
</dd>
</dl>
</td>
<td></td>
<td><p>string</p></td>
<td><p>Text to display a label for the widget.</p></td>
</tr>
</tbody>
</table>
<table class="schema-table docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 15%" />
<col style="width: 15%" />
<col style="width: 55%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Element</p></th>
<th class="head" colspan="4"><p>Attribute</p></th>
</tr>
<tr class="row-even"><th class="head"><p>Structure</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Content</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-odd"><td rowspan="8"><dl class="simple">
<dt>calllist</dt><dd><ul class="simple">
<li><p>address</p></li>
</ul>
</dd>
</dl>
</td>
<td><p><abbr title="mandatory">transform</abbr></p></td>
<td><p>string</p></td>
<td><p>Transformation of the bus system value to be shown.</p></td>
</tr>
<tr class="row-even"><td><p>mode</p></td>
<td><p><em>disable</em>, <em>read</em>, <em>write</em> or <em>readwrite</em></p></td>
<td><p>“disable” deactivates the communication, “read” will only fetch data from the backend, “write” will only write to it and an address with “readwrite” will be both, read from and written to.</p></td>
</tr>
<tr class="row-odd"><td><p>variant</p></td>
<td><p>string</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>format-pos</p></td>
<td><p>decimal</p></td>
<td><p>Position for format string when multiple addresses are used.</p></td>
</tr>
<tr class="row-odd"><td><p>selector</p></td>
<td><p>string</p></td>
<td><p>Only MQTT: JSON selector</p></td>
</tr>
<tr class="row-even"><td><p>qos</p></td>
<td><p>decimal</p></td>
<td><p>Only MQTT: QoS</p></td>
</tr>
<tr class="row-odd"><td><p>retain</p></td>
<td><p><em>true</em> or <em>false</em></p></td>
<td><p>Only MQTT: retain flag</p></td>
</tr>
<tr class="row-even"><td><p>ignore-error</p></td>
<td><p><em>true</em> or <em>false</em></p></td>
<td><p>Only MQTT: ignore decode errors.</p></td>
</tr>
<tr class="row-odd"><td><dl class="simple">
<dt>calllist</dt><dd><ul class="simple">
<li><p>address</p>
<ul>
<li><p>#text</p></li>
</ul>
</li>
</ul>
</dd>
</dl>
</td>
<td></td>
<td><p>string</p></td>
<td><p>The GA (like: 12/0/7) for KNX-backends, the item name for openHAB-backend or the MQTT topic</p></td>
</tr>
</tbody>
</table>
<figure class="align-center" id="id5">
<img alt="../../../../_images/en_config_widgets_plugins_tr064_index_editor_elements.png" src="../../../../_images/en_config_widgets_plugins_tr064_index_editor_elements.png" />
<figcaption>
<p><span class="caption-text">Element in the editor</span><a class="headerlink" href="#id5" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
</section>
</section>
<section id="xml-syntax">
<h2>XML syntax<a class="headerlink" href="#xml-syntax" title="Permalink to this headline">¶</a></h2>
<p>Alternatively it is possible to manually add the tr064 plugin entry to the
<a class="reference internal" href="../../../xml-format.html#xml-format"><span class="std std-ref">visu_config.xml</span></a>.</p>
<div class="admonition caution">
<p class="admonition-title">Caution</p>
<p>In the config only the UTF-8 charset is allowed. So an editor that is
set to UTF-8 mode must be used.</p>
</div>
<p>The minimale example code for the calllist widget to create the shown
screenshot is:</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="nt">&lt;meta&gt;</span>
    <span class="nt">&lt;plugins&gt;</span>
        <span class="nt">&lt;plugin</span> <span class="na">name=</span><span class="s">&quot;tr064&quot;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;/plugins&gt;</span>
<span class="nt">&lt;/meta&gt;</span>
<span class="nt">&lt;page</span> <span class="na">name=</span><span class="s">&quot;TR-064&quot;</span> <span class="na">type=</span><span class="s">&quot;text&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;calllist</span> <span class="na">device=</span><span class="s">&quot;fritzbox&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;label&gt;</span>calllist<span class="nt">&lt;/label&gt;</span>
    <span class="nt">&lt;/calllist&gt;</span>
<span class="nt">&lt;/page&gt;</span>
</pre></div>
</div>
<figure class="align-default" id="id6">
<img alt="calllist, einfaches Beispiel" src="../../../../_images/calllist_simple.png" />
<figcaption>
<p><span class="caption-text">calllist, einfaches Beispiel</span><a class="headerlink" href="#id6" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span>...
<span class="nt">&lt;meta&gt;</span>
    <span class="nt">&lt;plugins&gt;</span>
        <span class="nt">&lt;plugin</span> <span class="na">name=</span><span class="s">&quot;tr064&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;/plugins&gt;</span>
<span class="nt">&lt;/meta&gt;</span>
...
<span class="nt">&lt;calllist</span> <span class="na">device=</span><span class="s">&quot;fritzbox&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;label&gt;</span>calllist<span class="nt">&lt;/label&gt;</span>
<span class="nt">&lt;/calllist&gt;</span>
</pre></div>
</div>
</section>
<section id="prerequisites-setup-of-the-server">
<h2>Prerequisites / setup of the server<a class="headerlink" href="#prerequisites-setup-of-the-server" title="Permalink to this headline">¶</a></h2>
<p>To be able to use the plugin the server must support PHP with the extension
of the SoapClient package.</p>
<p>On debian based systems it means that the <code class="docutils literal notranslate"><span class="pre">php-soap</span></code> package must be
installed.</p>
</section>
<section id="setup-of-the-fritz-box">
<h2>Setup of the Fritz!Box<a class="headerlink" href="#setup-of-the-fritz-box" title="Permalink to this headline">¶</a></h2>
<p>To get access to the call list of the Fritz!Box a user with according permissions
must be created (or an existing user account must be used). This is possible
on the user page:</p>
<figure class="align-default">
<img alt="../../../../_images/fritzbox_overview.png" src="../../../../_images/fritzbox_overview.png" />
</figure>
<p>The user itself needs the rights to access the call list:</p>
<figure class="align-default">
<img alt="../../../../_images/fritzbox_user.png" src="../../../../_images/fritzbox_user.png" />
</figure>
<p>The plugin needs to know the credentials to be able to use this user. This
uses the <a class="reference internal" href="../../../hidden-config.html#hidden-config"><span class="std std-ref">“hidden configuration”</span></a> infrastructure which
can be accessed by the <a class="reference internal" href="../../../manager.html#manager"><span class="std std-ref">CometVisu manager</span></a> <a class="footnote-reference brackets" href="#f2" id="id3">2</a>.</p>
<figure class="align-default">
<img alt="../../../../_images/hidden_config_en.png" src="../../../../_images/hidden_config_en.png" />
</figure>
<p>The used name must be given in the calllist widget in the attribute <code class="docutils literal notranslate"><span class="pre">device</span></code>.</p>
<p>The key and value pairs of the hidden configuration” are:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 12%" />
<col style="width: 56%" />
<col style="width: 33%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Key</p></th>
<th class="head"><p>Value</p></th>
<th class="head"><p>Example</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>uri</p></td>
<td><p>The URI to access the TR-064 interface</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">https://192.168.0.1:49443/</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>user</p></td>
<td><p>The username for the TR-064 access</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">CometVisuTestUser</span></code></p></td>
</tr>
<tr class="row-even"><td><p>pass</p></td>
<td><p>The password for the TR-64 access</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">pa3bvNM4j9z4</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>selfsigned</p></td>
<td><p>Allow self signed certificates when <code class="docutils literal notranslate"><span class="pre">true</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">false</span></code></p></td>
</tr>
</tbody>
</table>
<p>Apart from the manager it is possible to edit the file <code class="docutils literal notranslate"><span class="pre">config/hidden.php</span></code>
manually and add a line like:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>&lt;?php
// File for configurations that shouldn&#39;t be shared with the user
$hidden = array(
  &#39;fritzbox&#39; =&gt; array(&#39;uri&#39; =&gt; &#39;https://192.168.0.1:49443/&#39;, &#39;user&#39; =&gt; &#39;CometVisuTestUser&#39;, &#39;pass&#39; =&gt; &#39;pa3bvNM4j9z4&#39;)
);
?&gt;
</pre></div>
</div>
<div class="admonition hint">
<p class="admonition-title">Hint</p>
<p>When the connection to the router is secured by SSL (i.e. the URI starts with
<code class="docutils literal notranslate"><span class="pre">https</span></code>) it is usual that <code class="docutils literal notranslate"><span class="pre">selfsigned</span></code> must be set to <code class="docutils literal notranslate"><span class="pre">true</span></code> as a
router in the home network will work usually with a self signed certificate.</p>
<p>The error message
<code class="docutils literal notranslate"><span class="pre">{&quot;faultstring&quot;:&quot;Could</span> <span class="pre">not</span> <span class="pre">connect</span> <span class="pre">to</span> <span class="pre">host&quot;,&quot;faultcode&quot;:&quot;HTTP&quot;}</span></code> can be a
hint that <code class="docutils literal notranslate"><span class="pre">selfsigned</span></code> should be set to <code class="docutils literal notranslate"><span class="pre">true</span></code>.</p>
</div>
<p class="rubric">Footnotes</p>
<dl class="footnote brackets">
<dt class="label" id="f1"><span class="brackets"><a class="fn-backref" href="#id2">1</a></span></dt>
<dd><p>In the simple view some things might be not visible. The expert view
will show all entries.</p>
</dd>
<dt class="label" id="f2"><span class="brackets"><a class="fn-backref" href="#id3">2</a></span></dt>
<dd><p>The “hidden configuration” contains configuration data that is not
transmitted to the client any stay on the server. So there information
is “hidden” to the user. On the server it is still readable in clear
text. This is also true for the manager.</p>
<p>This by itself doesn’t create a secure environment, but it supports
building one. There at least the manager must be inaccessible to the
user.</p>
</dd>
</dl>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../timeout/index.html" class="btn btn-neutral float-left" title="The timeout plugin" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../../../address.html" class="btn btn-neutral float-right" title="Addresses - the communication with the backend" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2010-2022 Christian Mayer and the CometVisu contributers.</p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  

  <div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="Versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      <span class="fa fa-book"> Version</span>
      v: 0.13.0-dev
      <span class="fa fa-caret-down"></span>
    </span>
    <div class="rst-other-versions">
      <dl>
        <dt>Versions</dt>
        
          <dd><a href="../../0.10.2|0.10/manual">0.10.2|0.10</a></dd>
        
          <dd><a href="../../0.11.2|0.11/manual">0.11.2|0.11</a></dd>
        
          <dd><a href="../../0.12.0|0.12/manual">0.12.0|0.12</a></dd>
        
          <dd><a href="../../0.13.0-dev|0.13/manual">0.13.0-dev|0.13</a></dd>
        
      </dl>
    </div>
  </div>
<script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>