<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Installation on the Timberwolf server with the app &mdash; CometVisu</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=fa44fd50" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=19f00094" />
      <link rel="stylesheet" type="text/css" href="../_static/theme_override.css?v=d0aeeef9" />

  
    <link rel="canonical" href="https://www.cometvisu.org/CometVisu/en/0.13/manual/install/timberwolf.html"/>
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../_static/jquery.js?v=5d32c60e"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../_static/documentation_options.js?v=5929fcd5"></script>
        <script src="../_static/doctools.js?v=888ff710"></script>
        <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Installation on a generic Linux system" href="linux.html" />
    <link rel="prev" title="Installation of the Docker container" href="docker.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            CometVisu
              <img src="../_static/comet_webapp_icon_android_48.png" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                0.13.0-dev
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Installation of the CometVisu</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="generic.html">Prerequisites for the installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="raspberry.html">Installation on Raspberry PI</a></li>
<li class="toctree-l2"><a class="reference internal" href="install-dev.html">Developer version on the Wiregate</a></li>
<li class="toctree-l2"><a class="reference internal" href="openhab.html">Installation on a Debian System with openHAB</a></li>
<li class="toctree-l2"><a class="reference internal" href="docker_openhab.html">Installing on an Ubuntu system with openHAB and Docker</a></li>
<li class="toctree-l2"><a class="reference internal" href="docker.html">Installation of the Docker container</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Installation on the Timberwolf server with the app</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#update">Update</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#installation-on-the-timberwolf-with-portainer">Installation on the Timberwolf with Portainer</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#installation">Installation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#create-volumes">Create Volumes</a></li>
<li class="toctree-l4"><a class="reference internal" href="#creating-a-container">Creating a Container</a></li>
<li class="toctree-l4"><a class="reference internal" href="#proxy-setup">Proxy setup</a></li>
<li class="toctree-l4"><a class="reference internal" href="#influxdb-access">InfluxDB access</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#updates">Updates</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#replace-container">Replace Container</a></li>
<li class="toctree-l4"><a class="reference internal" href="#cleanup">Cleanup</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#development-version">Development version</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="linux.html">Installation on a generic Linux system</a></li>
<li class="toctree-l2"><a class="reference internal" href="nas.html">Installation on a NAS system</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#update-of-the-cometvisu">Update of the CometVisu</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#installation-on-mobile-devices">Installation on mobile devices</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../tutorial/index.html">Usage of the CometVisu</a></li>
<li class="toctree-l1"><a class="reference internal" href="../config/index.html">Configuration of the CometVisu</a></li>
<li class="toctree-l1"><a class="reference internal" href="../colab/index.html">Help the CometVisu project</a></li>
<li class="toctree-l1"><a class="reference internal" href="../devel/index.html">Information for developers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../faq.html">FAQ</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">CometVisu</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="index.html">Installation of the CometVisu</a></li>
      <li class="breadcrumb-item active">Installation on the Timberwolf server with the app</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="admonition caution">
<p class="admonition-title">Caution</p>
<p>This is the documentation for the current development branch of the CometVisu.
It is possible that some of the described features are not yet available in the current release.</p>
<p>Also there might be lots of errors in this documentation as some parts of the content have been translated
by an online translation service.</p>
</div>
<section id="installation-on-the-timberwolf-server-with-the-app">
<span id="timberwolf"></span><h1>Installation on the Timberwolf server with the app<a class="headerlink" href="#installation-on-the-timberwolf-server-with-the-app" title="Link to this heading"></a></h1>
<p>The easiest way to install the CometVisu on the <a class="reference external" href="https://wiregate.de/">Timberwolf</a>-Server is by using the
supplied app.</p>
<figure class="align-default" id="id2">
<a class="reference internal image-reference" href="../_images/timberwolf_app.png"><img alt="../_images/timberwolf_app.png" src="../_images/timberwolf_app.png" style="width: 450.5px; height: 434.5px;" /></a>
<figcaption>
<p><span class="caption-text">Selection of the CometVisu app on the Timberwolf user interface</span><a class="headerlink" href="#id2" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>When it was installed by clicking on the green “+” the CometVisu will be listed on the “active apps” section.
Behind “URL” is the link shown that can be used to directly access the CometVisu.</p>
<section id="update">
<h2>Update<a class="headerlink" href="#update" title="Link to this heading"></a></h2>
<figure class="align-default" id="id3">
<a class="reference internal image-reference" href="../_images/timberwolf_installed_app.png"><img alt="../_images/timberwolf_installed_app.png" src="../_images/timberwolf_installed_app.png" style="width: 541.5px; height: 395.5px;" /></a>
<figcaption>
<p><span class="caption-text">Installed CometVisu app</span><a class="headerlink" href="#id3" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>The app can be configured by using the pen symbol. Most important is the row “Version”. The version number given
there will be installed. By changing this number it is possible to switch to this version number.</p>
</section>
</section>
<section id="installation-on-the-timberwolf-with-portainer">
<h1>Installation on the Timberwolf with Portainer<a class="headerlink" href="#installation-on-the-timberwolf-with-portainer" title="Link to this heading"></a></h1>
<p>The advanced method to install the CometVisu on the Timberwolf server (only necessary in rare occasions, the
installation by app is recommended) is to use the Docker administration interface <cite>Portainer&lt;https://portainer.io/&gt;</cite>.
This instruction can be used mostly also for other systems that are based on Docker and Portainer.</p>
<section id="installation">
<h2>Installation<a class="headerlink" href="#installation" title="Link to this heading"></a></h2>
<p>With this tutorial the CometVisu will be available on the Timberwolf
server via HTTPS under the address <code class="docutils literal notranslate"><span class="pre">https://&lt;my</span> <span class="pre">timberwolf&gt;/proxy/visu/</span></code>.</p>
<p>Basically, these steps are also suitable as a reference for installations
via portainer on other systems, but the steps must be adapted
in detail, as there usually no proxy is available, which makes
the CometVisu accessible via HTTPS.</p>
<section id="create-volumes">
<h3>Create Volumes<a class="headerlink" href="#create-volumes" title="Link to this heading"></a></h3>
<section id="volume-for-config-files">
<h4>Volume for Config Files<a class="headerlink" href="#volume-for-config-files" title="Link to this heading"></a></h4>
<p>First, create a volume to store the configuration files and
keep them while rebooting and updating the container.</p>
<p>Necessary steps are: <em>Volumes</em> → <em>Add Volume</em> → Name:
<code class="docutils literal notranslate"><span class="pre">CometVisuConfig</span></code> → <em>Create the Volume</em></p>
<figure class="align-default" id="id4">
<a class="reference internal image-reference" href="../_images/portainer_volume_add.png"><img alt="../_images/portainer_volume_add.png" src="../_images/portainer_volume_add.png" style="width: 1362.0px; height: 615.0px;" /></a>
<figcaption>
<p><span class="caption-text">Create Volume with Portainer</span><a class="headerlink" href="#id4" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>This volume can be filled from the outside with the config
files or best by using the <a class="reference internal" href="../config/manager.html#manager"><span class="std std-ref">Config-Manager</span></a>.</p>
</section>
<section id="volume-for-rrd">
<h4>Volume for RRD<a class="headerlink" href="#volume-for-rrd" title="Link to this heading"></a></h4>
<p>This step is optional and only necessary if you want to use the
<a class="reference internal" href="../config/widgets/plugins/diagram/index.html#diagram"><span class="std std-ref">Diagram Plugin</span></a> with RRD files. When using the
InfluxDB this step can be skipped.</p>
<p>The steps for creating the <em>Volume for Config Files</em> must
be repeated, but the name <code class="docutils literal notranslate"><span class="pre">CometVisuRRD</span></code> is hereby meaningfully chosen.
The filling of this container must be external, e.g. by
another container that simultaneously incorporates this RRD container.</p>
<p><strong>Important:</strong> The internal format of the RRD files is architecture specific.
Thus, the RRG files from WireGate (32 bit architecture) can not be
used directly on the Timberwolf (64 bit architecture) [1].</p>
</section>
</section>
<section id="creating-a-container">
<h3>Creating a Container<a class="headerlink" href="#creating-a-container" title="Link to this heading"></a></h3>
<p>Under: <em>Containers</em> → <em>Add Container</em></p>
<ul>
<li><p>Name: <code class="docutils literal notranslate"><span class="pre">CometVisu</span></code></p></li>
<li><p>Image configuration: Name: <code class="docutils literal notranslate"><span class="pre">cometvisu/cometvisu:latest</span></code> for the big servers
(TWS2xxx) and for the rail mounted smaller servers</p></li>
<li><p>Port mapping: host <code class="docutils literal notranslate"><span class="pre">18080</span></code>, container <code class="docutils literal notranslate"><span class="pre">80</span></code></p></li>
<li><p>Advanced container settings:</p>
<ul>
<li><p>Volumes: Volume mapping</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">container</span></code>: <code class="docutils literal notranslate"><span class="pre">/var/www/html/config</span></code> ⭢ <code class="docutils literal notranslate"><span class="pre">volume</span></code>: <code class="docutils literal notranslate"><span class="pre">CometVisuConfig</span></code> <em>(bis einschließlich Version 0.10.2)</em></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">container</span></code>: <code class="docutils literal notranslate"><span class="pre">/var/www/html/resource/config</span></code> ⭢ <code class="docutils literal notranslate"><span class="pre">volume</span></code>: <code class="docutils literal notranslate"><span class="pre">CometVisuConfig</span></code> <em>(ab Version 0.11)</em></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">container</span></code>: <code class="docutils literal notranslate"><span class="pre">/var/www/rrd</span></code> ⭢ <code class="docutils literal notranslate"><span class="pre">volume</span></code>: <code class="docutils literal notranslate"><span class="pre">RRD</span></code> <em>(Optional, wenn RRD genutzt werden soll)</em></p></li>
</ul>
</li>
<li><p>Env: Environment variables</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">name</span></code>: <code class="docutils literal notranslate"><span class="pre">CGI_URL_PATH</span></code> with <code class="docutils literal notranslate"><span class="pre">value</span></code>: <code class="docutils literal notranslate"><span class="pre">/proxy/visu/cgi-bin/</span></code></p></li>
<li><p>Depending on the local environment, additional customizations may
be required, as specified in the section of the
<a class="reference internal" href="docker.html#dockerenvironment"><span class="std std-ref">Docker Container</span></a>.</p>
<p>So it may be necessary to set a value for <code class="docutils literal notranslate"><span class="pre">KNX_PA</span></code> other than the
default <code class="docutils literal notranslate"><span class="pre">1.1.238</span></code> if this physical address is already occupied
or if another line is to be used as <code class="docutils literal notranslate"><span class="pre">1.1</span></code>.</p>
<p>It is also important that the port of the KNX interface is correct. At the
Timberwolf it can be looked up at <em>Settings</em> → <em>KNX</em> → <em>Interfaced</em>:</p>
<figure class="align-default">
<a class="reference internal image-reference" href="../_images/timberwolf_knx_port.png"><img alt="../_images/timberwolf_knx_port.png" src="../_images/timberwolf_knx_port.png" style="width: 964.0px; height: 337.0px;" /></a>
</figure>
<p>Should it be different to the default of <code class="docutils literal notranslate"><span class="pre">3700</span></code> then the environment
variable <code class="docutils literal notranslate"><span class="pre">KNX_INTERFACE</span></code> should be changed accordingly, in this
example to <code class="docutils literal notranslate"><span class="pre">iptn:172.17.0.1:3674</span></code>.</p>
</li>
</ul>
</li>
<li><p>Restart policy: <code class="docutils literal notranslate"><span class="pre">Unless</span> <span class="pre">stopped</span></code></p></li>
</ul>
</li>
</ul>
<figure class="align-default" id="id5">
<a class="reference internal image-reference" href="../_images/portainer_container_add.png"><img alt="../_images/portainer_container_add.png" src="../_images/portainer_container_add.png" style="width: 1346.0px; height: 755.0px;" /></a>
<figcaption>
<p><span class="caption-text">Create Container at Portainer</span><a class="headerlink" href="#id5" title="Link to this image"></a></p>
</figcaption>
</figure>
<figure class="align-default" id="id6">
<a class="reference internal image-reference" href="../_images/portainer_container_volumes_add.png"><img alt="../_images/portainer_container_volumes_add.png" src="../_images/portainer_container_volumes_add.png" style="width: 1082.0px; height: 369.0px;" /></a>
<figcaption>
<p><span class="caption-text">Configure Container <em>Volumes</em> at Portainer</span><a class="headerlink" href="#id6" title="Link to this image"></a></p>
</figcaption>
</figure>
<figure class="align-default" id="id7">
<a class="reference internal image-reference" href="../_images/portainer_container_env_add.png"><img alt="../_images/portainer_container_env_add.png" src="../_images/portainer_container_env_add.png" style="width: 1081.0px; height: 259.0px;" /></a>
<figcaption>
<p><span class="caption-text">Configure Container <em>Env</em> at Portainer</span><a class="headerlink" href="#id7" title="Link to this image"></a></p>
</figcaption>
</figure>
<figure class="align-default" id="id8">
<a class="reference internal image-reference" href="../_images/portainer_container_restart_add.png"><img alt="../_images/portainer_container_restart_add.png" src="../_images/portainer_container_restart_add.png" style="width: 763.0px; height: 217.0px;" /></a>
<figcaption>
<p><span class="caption-text">Configure Container <em>Restart policy</em> at Portainer</span><a class="headerlink" href="#id8" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>Then create the container by pressing <em>Deploy the container</em>.</p>
</section>
<section id="proxy-setup">
<h3>Proxy setup<a class="headerlink" href="#proxy-setup" title="Link to this heading"></a></h3>
<p>At the Timberwolf Frontend:
<em>Settings</em> → <em>Remote Access</em> → <em>Reverse Proxy</em></p>
<ul class="simple">
<li><p>URL: <code class="docutils literal notranslate"><span class="pre">visu/</span></code>, Target <code class="docutils literal notranslate"><span class="pre">http://127.0.0.1:18080/</span></code></p></li>
</ul>
<p>Accept with <em>Add</em></p>
<figure class="align-default" id="id9">
<a class="reference internal image-reference" href="../_images/timberwolf_proxy_add.png"><img alt="../_images/timberwolf_proxy_add.png" src="../_images/timberwolf_proxy_add.png" style="width: 694.0px; height: 129.0px;" /></a>
<figcaption>
<p><span class="caption-text">Add Timberwolf Proxy-Entry</span><a class="headerlink" href="#id9" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>CometVisu is now available: <code class="docutils literal notranslate"><span class="pre">https://&lt;mein</span> <span class="pre">timberwolf&gt;/proxy/visu/</span></code></p>
</section>
<section id="influxdb-access">
<h3>InfluxDB access<a class="headerlink" href="#influxdb-access" title="Link to this heading"></a></h3>
<div class="admonition hint">
<p class="admonition-title">Hint</p>
<p>The InfluxDB access as well as the hidden config was introduced with
version 0.11.0 and isn’t available in earlier versions.</p>
</div>
<p>To access the time series in the InfluxDB its credentials must be added to the
<a class="reference internal" href="../config/hidden-config.html#hidden-config"><span class="std std-ref">hidden configuration</span></a> of the <a class="reference internal" href="../config/manager.html#manager"><span class="std std-ref">manager</span></a>.
To get them you must click at the Timberwolf server in the <em>Portainer</em>
menu on the <code class="docutils literal notranslate"><span class="pre">i</span></code> after the line <em>“How to access the time series database from
within a Docker container”</em> and note the Username and Password.</p>
<figure class="align-default" id="id10">
<a class="reference internal image-reference" href="../_images/timberwolf_influx.png"><img alt="../_images/timberwolf_influx.png" src="../_images/timberwolf_influx.png" style="width: 1070.0px; height: 332.0px;" /></a>
<figcaption>
<p><span class="caption-text">Timberwolf InfluxDB credentials</span><a class="headerlink" href="#id10" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>In the <a class="reference internal" href="../config/hidden-config.html#hidden-config"><span class="std std-ref">hidden configuration</span></a> of the
<a class="reference internal" href="../config/manager.html#manager"><span class="std std-ref">manager</span></a> you must create an entry with the properties:</p>
<ul class="simple">
<li><p>Name: <code class="docutils literal notranslate"><span class="pre">influx</span></code></p></li>
<li><p>Key and value:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">uri</span></code>: <code class="docutils literal notranslate"><span class="pre">https://172.17.0.1/proxy/ts/query</span></code> (Should you have not followed
this manual and used a different network setting you might need to change
here the IP address accordingly)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">user</span></code>: Username from the credentials</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">pass</span></code>: Password from the credentials</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">selfsigned</span></code>: <code class="docutils literal notranslate"><span class="pre">true</span></code></p></li>
</ul>
</li>
</ul>
<figure class="align-default" id="id11">
<a class="reference internal image-reference" href="../_images/timberwolf_influx_manager.png"><img alt="../_images/timberwolf_influx_manager.png" src="../_images/timberwolf_influx_manager.png" style="width: 573.0px; height: 307.0px;" /></a>
<figcaption>
<p><span class="caption-text">Timberwolf InfluxDB credentials in the manager</span><a class="headerlink" href="#id11" title="Link to this image"></a></p>
</figcaption>
</figure>
</section>
</section>
<section id="updates">
<h2>Updates<a class="headerlink" href="#updates" title="Link to this heading"></a></h2>
<section id="replace-container">
<h3>Replace Container<a class="headerlink" href="#replace-container" title="Link to this heading"></a></h3>
<p>Under <em>Containers</em> → <code class="docutils literal notranslate"><span class="pre">CometVisu</span></code> pressing the button <em>Duplicate / Edit</em>
to invoked the menu for refreshing the container.</p>
<p>Here’s to make sure <em>Always pull the image</em> is active.</p>
<p>Under <em>Advanced container settings</em> → <em>Labels</em> the labels should
be deleted in order to be able to recognize later which CometVisu
container version is installed.</p>
<p>If you want to change from version 0.10.2 to a version from the 0.11
series, then under <em>Volumes</em> the config path from
<code class="docutils literal notranslate"><span class="pre">/var/www/html/config</span></code> to <code class="docutils literal notranslate"><span class="pre">/var/www/html/resource/config</span></code>.</p>
<p><em>Actions</em> → <em>Deploy the Container</em>  will now replace the container
with the latest version.</p>
<figure class="align-default" id="id12">
<a class="reference internal image-reference" href="../_images/portainer_container_replace.png"><img alt="../_images/portainer_container_replace.png" src="../_images/portainer_container_replace.png" style="width: 836.0px; height: 863.0px;" /></a>
<figcaption>
<p><span class="caption-text">Replace Container at Portainer with a new version</span><a class="headerlink" href="#id12" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>Afterwards the security question has to be confirmed.</p>
<figure class="align-default" id="id13">
<img alt="../_images/portainer_container_replace_confirm.png" src="../_images/portainer_container_replace_confirm.png" />
<figcaption>
<p><span class="caption-text">Confirmation to replace the container at portainer with a new version</span><a class="headerlink" href="#id13" title="Link to this image"></a></p>
</figcaption>
</figure>
</section>
<section id="cleanup">
<h3>Cleanup<a class="headerlink" href="#cleanup" title="Link to this heading"></a></h3>
<p>When a container is replaced with a new one, the old one remains as
<em>Unused</em> in the system and continues to occupy space. This can
be deleted under <em>Images</em>.</p>
<p>By marking the image to be deleted (recognizable by the label
<em>Unused</em> and the corresponding tag) the image can be removed with <em>Remove</em>.</p>
<figure class="align-default" id="id14">
<a class="reference internal image-reference" href="../_images/portainer_image_remove.png"><img alt="../_images/portainer_image_remove.png" src="../_images/portainer_image_remove.png" style="width: 1349.0px; height: 601.0px;" /></a>
<figcaption>
<p><span class="caption-text">Portainer Dialog to remove an image</span><a class="headerlink" href="#id14" title="Link to this image"></a></p>
</figcaption>
</figure>
</section>
</section>
<section id="development-version">
<h2>Development version<a class="headerlink" href="#development-version" title="Link to this heading"></a></h2>
<p>Basically, the same steps as for the release have to be carried
out for the current development version. Although theoretically
the same configuration volume can be used as for the productive
version, a separate volume (for example <code class="docutils literal notranslate"><span class="pre">CometVisuTestConfig</span></code>)
should be created, as the format of the config files may change
incompatibly due to future updates.</p>
<p>As described under <a class="reference internal" href="docker.html#docker"><span class="std std-ref">Docker</span></a> the newest
Development version the tag <code class="docutils literal notranslate"><span class="pre">testing</span></code>. Thus, under
<em>Creating the container</em> as <code class="docutils literal notranslate"><span class="pre">name</span></code> <code class="docutils literal notranslate"><span class="pre">cometvisu/cometvisu:testing</span></code></p>
<blockquote>
<div><p>must be used.</p>
</div></blockquote>
<p>In order to have a uniform environment for error reporting, etc.
the testing version should be installed with these parameters:</p>
<ul class="simple">
<li><p>Container:</p>
<ul>
<li><p>Name: <code class="docutils literal notranslate"><span class="pre">CometVisuTest</span></code></p></li>
<li><p>Image configuration: Name: <code class="docutils literal notranslate"><span class="pre">cometvisu/cometvisu:testing</span></code></p></li>
<li><p>Port mapping: host <code class="docutils literal notranslate"><span class="pre">28080</span></code>, container <code class="docutils literal notranslate"><span class="pre">80</span></code></p></li>
<li><p>Advanced container settings:</p>
<ul>
<li><p>Volumes: Volume mapping</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">container</span></code>: <code class="docutils literal notranslate"><span class="pre">/var/www/html/resource/config</span></code> ⭢ <code class="docutils literal notranslate"><span class="pre">volume</span></code>: <code class="docutils literal notranslate"><span class="pre">CometVisuTestConfig</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">container</span></code>: <code class="docutils literal notranslate"><span class="pre">/var/www/rrd</span></code> ⭢ <code class="docutils literal notranslate"><span class="pre">volume</span></code>: <code class="docutils literal notranslate"><span class="pre">RRD</span></code> <em>(Optional)</em></p></li>
</ul>
</li>
<li><p>Env: Environment variables <code class="docutils literal notranslate"><span class="pre">name</span></code>: <code class="docutils literal notranslate"><span class="pre">CGI_URL_PATH</span></code> with <code class="docutils literal notranslate"><span class="pre">value</span></code>: <code class="docutils literal notranslate"><span class="pre">/proxy/visutest/cgi-bin/</span></code></p></li>
</ul>
</li>
</ul>
</li>
<li><p>Proxy:</p>
<ul>
<li><p>URL: <code class="docutils literal notranslate"><span class="pre">visutest</span></code>, Target <code class="docutils literal notranslate"><span class="pre">http://127.0.0.1:28080/</span></code></p></li>
</ul>
</li>
</ul>
<hr class="docutils" />
<aside class="footnote-list brackets">
<aside class="footnote brackets" id="id1" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></span>
<p>In order to transfer the contents of an RRD file <code class="docutils literal notranslate"><span class="pre">RRD_Name</span></code>
from one architecture to another, the command has to be
executed on the source system (eg, WireGate)</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>rrdtool<span class="w"> </span>dump<span class="w"> </span>/var/www/rrd/RRD_Name.rrd<span class="w"> </span>&gt;<span class="w"> </span>RRD_Name.xml
</pre></div>
</div>
<p>On the target system (for example, a container on the Timber Wolf)
is then the command</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>rrdtool<span class="w"> </span>restore<span class="w"> </span>-f<span class="w"> </span>RRD_Name.xml<span class="w"> </span>RRD_Name.rrd
</pre></div>
</div>
<p>executed to create a new RRD-File.</p>
<p>If you work with a localization on the source system that
uses numbers with a comma as the decimal separator
(as usual in German), then it may be that the RRD export is
done with a comma instead of a point and thus the import fails.
Here export would then be performed with generic <code class="docutils literal notranslate"><span class="pre">LANG=C</span></code>.</p>
<p>To convert a larger amount of RRD files this can be done
through a loop:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nv">LANG</span><span class="o">=</span>C<span class="p">;</span><span class="w"> </span><span class="k">for</span><span class="w"> </span>f<span class="w"> </span><span class="k">in</span><span class="w"> </span>*.rrd<span class="p">;</span><span class="w"> </span><span class="k">do</span><span class="w"> </span>rrdtool<span class="w"> </span>dump<span class="w"> </span><span class="si">${</span><span class="nv">f</span><span class="si">}</span><span class="w"> </span>&gt;<span class="w"> </span><span class="si">${</span><span class="nv">f</span><span class="si">}</span>.xml<span class="p">;</span><span class="w"> </span><span class="k">done</span>
</pre></div>
</div>
<p>or</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="k">for</span><span class="w"> </span>f<span class="w"> </span><span class="k">in</span><span class="w"> </span>*.xml<span class="p">;</span><span class="w"> </span><span class="k">do</span><span class="w"> </span>rrdtool<span class="w"> </span>restore<span class="w"> </span><span class="si">${</span><span class="nv">f</span><span class="si">}</span><span class="w"> </span><span class="si">${</span><span class="nv">f</span><span class="si">}</span>.rrd<span class="p">;</span><span class="w"> </span><span class="k">done</span>
</pre></div>
</div>
</aside>
</aside>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="docker.html" class="btn btn-neutral float-left" title="Installation of the Docker container" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="linux.html" class="btn btn-neutral float-right" title="Installation on a generic Linux system" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2010-2023 Christian Mayer and the CometVisu contributers.</p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
   
  <!--
  ~ Copyright (c) 2023, Christian Mayer and the CometVisu contributors.
  ~
  ~ This program is free software; you can redistribute it and/or modify it
  ~ under the terms of the GNU General Public License as published by the Free
  ~ Software Foundation; either version 3 of the License, or (at your option)
  ~ any later version.
  ~
  ~ This program is distributed in the hope that it will be useful, but WITHOUT
  ~ ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
  ~ FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for
  ~ more details.
  ~
  ~ You should have received a copy of the GNU General Public License along
  ~ with this program; if not, write to the Free Software Foundation, Inc.,
  ~ 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA
  ~
  -->

<div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="Versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      <span class="fa fa-book"> Version</span>
      v: 0.13.0-dev
      <span class="fa fa-caret-down"></span>
    </span>
    <div class="rst-other-versions">
      <dl>
        <dt>Versions</dt>
        
        <dd><a href="../../../0.10.2|0.10/manual">0.10.2|0.10</a>
        </dd>
        
        <dd><a href="../../../0.11.2|0.11/manual">0.11.2|0.11</a>
        </dd>
        
        <dd><a href="../../../0.12.6|0.12/manual">0.12.6|0.12</a>
        </dd>
        
        <dd><a href="../../../0.13.0-dev|0.13/manual">0.13.0-dev|0.13</a>
        </dd>
        
      </dl>
    </div>
  </div>


</body>
</html>