qx.$$packageData['128']={"locales":{},"resources":{},"translations":{"de":{},"en":{}}};
qx.Part.$$notifyLoad("128", function() {
(function(){var a="string",b="cv.ui.structure.AbstractBasicWidget",c='lang',d="",e="this browser does not support the Web Speech API",f="skipping TTS because of repetition ",g="Number",h='repeat-timeout',i="no text to speech given",j="skipping initial TTS for ",k="speech",l='speech',m="!",n='cv.plugins.Speech',o='mapping',p="String",q="changing lastSpeech from '%s' to '%s'";qx.Class.define(n,{extend:qx.core.Object,include:cv.ui.common.Update,construct:function(r){qx.core.Object.call(this);this.set(r);this.__pR={};},statics:{parse:function(u,s){if(!window.speechSynthesis){qx.log.Logger.warn(this,e);return;};var t=cv.parser.WidgetParser.makeAddressList(u,s);return cv.data.Model.getInstance().setWidgetData(s,{'path':s,'language':qx.bom.element.Attribute.get(u,c)?qx.bom.element.Attribute.get(u,c).toLowerCase():null,'address':t,'mapping':qx.bom.element.Attribute.get(u,o),'repeatTimeout':qx.bom.element.Attribute.get(u,h)?parseInt(qx.bom.element.Attribute.get(u,h)):-1,'$$type':l});}},properties:{path:{check:p},$$type:{check:p},language:{check:p},mapping:{check:p,init:d},repeatTimeout:{check:g,init:-1},parentWidget:{check:b,init:null}},members:{__pR:null,getDomString:function(){return undefined;},_processIncomingValue:function(x,v){var w=this.applyTransform(x,v);return this.applyMapping(w);},handleUpdate:function(y,z){if(!cv.TemplateEngine.getInstance().visu.getDataReceived()){this.__pR[z]={text:y,time:Date.now()};this.debug(j+y);return;};if(!y||y.length===0){this.debug(i);return;};if(typeof y===a&&y.substring(0,1)===m){y=y.substring(1);}else if(this.getRepeatTimeout()>=0){if(this.__pR[z]&&this.__pR[z].text===y&&(this.getRepeatTimeout()===0||this.getRepeatTimeout()>=Math.round((Date.now()-this.__pR[z].time)/1000))){this.__pR[z].time=Date.now();this.debug(f+y);return;};};this.debug(q,this.__pR[z]?this.__pR[z].text:d,y);this.__pR[z]={text:y,time:Date.now()};cv.core.notifications.SpeechHandler.getInstance().say(y,this.getLanguage());}},defer:function(A){cv.parser.WidgetParser.addHandler(k,cv.plugins.Speech);cv.ui.structure.WidgetFactory.registerClass(k,A);}});})();
});