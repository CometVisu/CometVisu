qx.$$packageData['256']={"locales":{},"resources":{"plugins/clock/clock_pure.svg":[100,100,"svg","cv"]},"translations":{"de":{},"en":{}}};
qx.Part.$$notifyLoad("256", function() {
(function(){var a='#Hour',b='drag',c='svg',d='HotSpotMinute',e='minute',f='dragstop',g='HotSpotHour',h=':',i='transform',j='rotate(',k="clock",l='hour',m='#Minute',n='plugins/clock/clock_pure.svg',o="transform",p='<div class="actor" style="width:200px;"></div>',q='cv.plugins.Clock',r=',50,50)';qx.Class.define(q,{extend:cv.ui.structure.AbstractWidget,include:[cv.ui.common.Update],statics:{parse:function(s,w,u,t){var v=cv.parser.WidgetParser.parseElement(this,s,w,u,t,this.getAttributeToPropertyMappings());cv.parser.WidgetParser.parseFormat(s,w);cv.parser.WidgetParser.parseAddress(s,w);return v;}},members:{_getInnerDomString:function(){return p;},_onDomReady:function(){var z=$(this.getActor());z.svg({loadURL:qx.util.ResourceManager.getInstance().toUri(n),onLoad:function(A){$(A.getElementById(g)).draggable().bind(b,{type:l,actor:z},this.dragHelper).bind(f,{actor:z},this.dragAction);$(A.getElementById(d)).draggable().bind(b,{type:e,actor:z},this.dragHelper).bind(f,{actor:z},this.dragAction);}.bind(this)});},_update:function(G,I){var E=this.getDomElement();var D=this.defaultValueHandling(G,I);var B=qx.bom.Selector.query(c,E);var F=D.split(h);var H=qx.bom.Selector.query(a,B)[0];var C=qx.bom.Selector.query(m,B)[0];qx.bom.element.Attribute.set(H,o,j+((F[0]%12)*360/12+F[1]*30/60)+r);qx.bom.element.Attribute.set(C,o,j+(F[1]*6)+r);},dragHelper:function(event){var M=event.data.actor;var K=M.find(c);var x=event.originalEvent.pageX-K.offset().left-50;var y=50-(event.originalEvent.pageY-K.offset().top);var L=(Math.atan2(x,y)*180/Math.PI+360)%360;var P=this.getCalue();var Q;if(event.data.type===l){var O=P.getHours();var R=O>=12;var J=Math.floor(L/30);Q=(L%30)*2;if(O%12>9&&J<3){if(R){R=false;P.setDate(P.getDate()+1);}else {R=true;};}else if(J>9&&O%12<3){if(R){R=false;}else {R=true;P.setDate(P.getDate()-1);};};P.setHours(J+R*12);P.setMinutes(Q);}else {Q=Math.round(L/6);var N=P.getMinutes();if(N>45&&Q<15){P.setHours(P.getHours()+1);}else if(Q>45&&N<15){P.setHours(P.getHours()-1);};P.setMinutes(Q);};M.find(a).attr(i,j+((P.getHours()%12)*360/12+P.getMinutes()*30/60)+r);M.find(m).attr(i,j+(P.getMinutes()*6)+r);},dragAction:function(){var T=this.getAddress();for(var S in T){if(T[S][1]===true){continue;};cv.TemplateEngine.getInstane().visu.write(S,cv.Transform.encode(T[S][0],this.getValue()));};}},defer:function(U){cv.parser.WidgetParser.addHandler(k,cv.plugins.Clock);cv.ui.structure.WidgetFactory.registerClass(k,U);}});})();
});