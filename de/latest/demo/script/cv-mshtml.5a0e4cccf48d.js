qx.$$packageData['551988']={"locales":{},"resources":{},"translations":{"de":{},"en":{}}};
qx.Part.$$notifyLoad("551988", function() {
(function(){var a="interval",b='String',c="changeVisible",d='force',f='canvas',g='iframe',h='position:fixed',i="",j='IMG',k='none',l='"]',m='width',n='height',o="IFRAME",p="//",q='"></body></html>',r='img',s="cv.ui.common.Refresh",t='<html><head><title></title></head><body><img src="',u="_timer",v='?',w="error",x='error',y='#',z='load',A="src",B='img[src="',C='Number',D='2d',E="setup.dom.finished",F='weak',G='full';qx.Mixin.define(s,{construct:function(){if(cv.TemplateEngine.getInstance().isDomFinished()){this.setupRefreshAction();}else {qx.event.message.Bus.subscribe(E,function(){this.setupRefreshAction();},this);};this.addListener(c,function(H){if(this._timer&&H.getData()!==H.getOldData()){if(H.getData()){this._timer.start();}else {this._timer.stop();};};},this);},properties:{refresh:{check:C,init:0},cachecontrol:{check:b,init:G}},members:{_timer:null,__re:false,setupRefreshAction:function(){if(this.getRefresh()&&this.getRefresh()>0){if(this.__re===true){return;};this.__re=true;if(this._setupRefreshAction){this._setupRefreshAction();}else if(!this._timer||!this._timer.isEnabled()){var K=this.getDomElement();var J=qx.bom.Selector.query(r,K)[0]||qx.bom.Selector.query(g,K)[0];var I=qx.bom.element.Attribute.get(J,A);if(I.indexOf(v)<0&&((J.nodeName===j&&this.getCachecontrol()===G)||J.nodeName!==j)){I+=v;};this._timer=new qx.event.Timer(this.getRefresh());this._timer.addListener(a,function(){this.refreshAction(J,I);},this);this._timer.start();};};},refreshAction:function(N,L){if(this._refreshAction){this._refreshAction();}else {var M=window.location.protocol+p+window.location.host;if(N.nodeName===o&&L.indexOf(M)!==0){qx.bom.element.Attribute.set(N,A,i);qx.event.Timer.once(function(){qx.bom.element.Attribute.set(N,A,L);},this,0);}else {var O=this.getCachecontrol();if(N.nodeName!==j&&O===d){O=G;};switch(O){case G:qx.bom.element.Attribute.set(N,A,qx.util.Uri.appendParamsToUrl(L,i+new Date().getTime()));break;case F:qx.bom.element.Attribute.set(N,A,L+y+new Date().getTime());break;case d:cv.ui.common.Refresh.__rf(L);};};};}},destruct:function(){if(this._timer){this._timer.stop();this._disposeObjects(u);};},statics:{__rf:function(Q,W){var V=0,S=qx.bom.Selector.query(B+Q+l),P=[],R=function(){S.forEach(function(bb){var ba=window.document.createElement(f);ba.width=bb.width;ba.height=bb.height;ba.style=h;ba.getContext(D).drawImage(bb,0,0);P.push(ba);bb.width=bb.width;bb.height=bb.height;bb.parentNode.insertBefore(ba,bb);qx.bom.element.Attribute.reset(bb,A);});},Y=function(){S.forEach(function(bc){qx.bom.element.Attribute.set(bc,A,Q);bc.removeAttribute(m);bc.removeAttribute(n);});P.forEach(function(bd){bd.parentNode.removeChild(bd);});},X=window.document.createElement(g),T,U=function(e){if(!V){if(W){V=1;}else {V=2;R();X.contentWindow.location.reload(true);};}else if(V===2){Y((e||window.event).type===w);if(X.parentNode){X.parentNode.removeChild(X);};};};X.style.display=k;window.parent.document.body.appendChild(X);X.addEventListener(z,U,false);X.addEventListener(x,U,false);T=X.contentWindow.document;T.open();T.write(t+Q+q);T.close();if(W){return function(be){if(!W){return;};W=false;if(be){if(V===1){V=2;R();X.contentWindow.location.reload(true);};}else {V=3;if(X.contentWindow.stop){X.contentWindow.stop();};if(X.parentNode){X.parentNode.removeChild(X);};};};};return null;}}});})();
});