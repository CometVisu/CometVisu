{
  "version": 3,
  "sources": [
    "/home/travis/build/CometVisu/CometVisu/source/class/cv/io/rest/Client.js"
  ],
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "type",
    "statics",
    "BASE_URL",
    "__configFile",
    "__dirClient",
    "__dpClient",
    "__callbacks",
    "getBaseUrl",
    "path",
    "engine",
    "cv",
    "TemplateEngine",
    "getInstance",
    "clientBackend",
    "visu",
    "getBackend",
    "resources",
    "rest",
    "util",
    "Uri",
    "parseUri",
    "window",
    "location",
    "href",
    "directory",
    "getConfigClient",
    "config",
    "get",
    "method",
    "url",
    "put",
    "post",
    "save",
    "io",
    "Resource",
    "setBaseUrl",
    "configureRequest",
    "req",
    "action",
    "setRequestHeader",
    "setAccept",
    "_enableSync",
    "getFsClient",
    "read",
    "update",
    "create",
    "move",
    "checkEnvironment",
    "params",
    "hash",
    "setUrl",
    "getUrl",
    "recursive",
    "parts",
    "split",
    "length",
    "pop",
    "mimetype",
    "ui",
    "manager",
    "tree",
    "FileSystem",
    "getMimetypeFromSuffix",
    "addListener",
    "_onSaveSuccess",
    "_onSaveError",
    "getDataProviderClient",
    "designs",
    "rrds",
    "influxdbs",
    "influxdbfields",
    "influxdbtags",
    "client",
    "Object",
    "keys",
    "forEach",
    "callName",
    "args",
    "lang",
    "Array",
    "fromArguments",
    "arguments",
    "callback",
    "context",
    "Type",
    "isFunction",
    "apply",
    "bind",
    "ev",
    "getRequest",
    "id",
    "parseInt",
    "toHashCode",
    "hasOwnProperty",
    "getData",
    "data",
    "error",
    "message",
    "status",
    "getStatus",
    "statusText",
    "getStatusText",
    "log",
    "Logger",
    "getPhase",
    "dialog",
    "Dialog",
    "locale",
    "Manager",
    "tr",
    "snackbar",
    "Controller",
    "info",
    "Client"
  ],
  "mappings": "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",
  "sourcesContent": [
    "/**\n *\n */\nqx.Class.define('cv.io.rest.Client', {\n  type: 'static',\n\n  /*\n  ***********************************************\n    STATICS\n  ***********************************************\n  */\n  statics: {\n    BASE_URL: null,\n    __configFile: null,\n    __dirClient: null,\n    __dpClient: null,\n    __callbacks: {},\n\n    getBaseUrl: function () {\n      if (!this.BASE_URL) {\n        var path = \"\"; \n        var engine = cv.TemplateEngine.getInstance();\n        var clientBackend = engine.visu ? engine.visu.getBackend() : {};\n        if (clientBackend.resources && clientBackend.resources.rest) {\n          path = clientBackend.resources.rest\n        } else {\n          path = qx.util.Uri.parseUri(window.location.href).directory + 'rest/manager/index.php';\n        }\n        this.BASE_URL = path;\n      }\n      return this.BASE_URL;\n    },\n\n    getConfigClient: function() {\n      if (!this.__configFile) {\n        var config = {\n          get: {\n            method: 'GET', url: '/config/hidden/{section}/{key}'\n          },\n          put: {\n            method: 'PUT', url: '/config/hidden/{section}/{key}'\n          },\n          post: {\n            method: 'POST', url: '/config/hidden/{section}/{key}'\n          },\n          \"delete\": {\n            method: 'DELETE', url: '/config/hidden/{section}/{key}'\n          },\n          save: {\n            method: 'PUT', url: '/config/hidden'\n          }\n        };\n        this.__configFile = new qx.io.rest.Resource(config);\n        this.__configFile.setBaseUrl(this.getBaseUrl());\n        this.__configFile.configureRequest(function (req, action) {\n          if (action === 'save') {\n            req.setRequestHeader('Content-Type', 'application/json');\n          }\n          req.setAccept('application/json');\n        });\n\n        this._enableSync(this.__configFile, config);\n      }\n      return this.__configFile;\n    },\n\n    getFsClient: function () {\n      if (!this.__dirClient) {\n        var config = {\n          read: {\n            method: 'GET', url: '/fs?path={path}'\n          },\n          update: {\n            method: 'PUT', url: '/fs?path={path}'\n          },\n          create: {\n            method: 'POST', url: '/fs?path={path}&type={type}'\n          },\n          \"delete\": {\n            method: 'DELETE', url: '/fs?path={path}&force={force}'\n          },\n          move: {\n            method: 'PUT', url: '/fs/move?src={src}&target={target}'\n          },\n          checkEnvironment: {\n            method: 'GET', url: '/fs/check'\n          }\n        };\n        this.__dirClient = new qx.io.rest.Resource(config);\n        this.__dirClient.setBaseUrl(this.getBaseUrl());\n        this.__dirClient.configureRequest(function (req, action, params) {\n          if (params.hash) {\n            req.setUrl(req.getUrl() + '&hash=' + params.hash);\n          }\n          if (params.recursive === true && action === 'read') {\n            req.setUrl(req.getUrl() + '&recursive=true');\n          }\n          if (action === 'update' || action === 'create') {\n            var parts = params.path.split('.');\n            if (parts.length > 1) {\n              var type = parts.pop();\n              var mimetype = cv.ui.manager.tree.FileSystem.getMimetypeFromSuffix(type);\n              req.setRequestHeader('Content-Type', mimetype || 'text/plain');\n            } else {\n              req.setRequestHeader('Content-Type', 'text/plain');\n            }\n            req.setAccept('application/json');\n          }\n        });\n\n\n        this._enableSync(this.__dirClient, config);\n\n        // general listeners\n        this.__dirClient.addListener('updateSuccess', this._onSaveSuccess, this);\n        this.__dirClient.addListener('createSuccess', this._onSaveSuccess, this);\n        this.__dirClient.addListener('updateError', this._onSaveError, this);\n        this.__dirClient.addListener('createError', this._onSaveError, this);\n      }\n      return this.__dirClient;\n    },\n\n    getDataProviderClient: function () {\n      if (!this.__dpClient) {\n        var config = {\n          designs: {\n            method: 'GET', url: '/data/designs'\n          },\n          rrds: {\n            method: 'GET', url: '/data/rrds'\n          },\n          influxdbs: {\n            method: 'GET', url: '/data/influxdbs?auth={auth}'\n          },\n          influxdbfields: {\n            method: 'GET', url: '/data/influxdbfields?auth={auth}&measurement={measurement}'\n          },\n          influxdbtags: {\n            method: 'GET', url: '/data/influxdbtags?auth={auth}&measurement={measurement}'\n          }\n        };\n        this.__dpClient = new qx.io.rest.Resource(config);\n        this.__dpClient.setBaseUrl(this.getBaseUrl());\n\n        this._enableSync(this.__dpClient, config);\n      }\n      return this.__dpClient;\n    },\n\n    _enableSync: function (client, config) {\n      // install the callback calls\n      Object.keys(config).forEach(function (callName) {\n        client[callName + 'Sync'] = function () {\n          var args = qx.lang.Array.fromArguments(arguments);\n          var callback;\n          var context = args.pop();\n          if (qx.lang.Type.isFunction(context)) {\n            callback = context;\n            context = this;\n          } else {\n            callback = args.pop();\n          }\n          this.__callbacks[client[callName].apply(client, args)] = callback.bind(context);\n        }.bind(this);\n      }, this);\n\n      // add the general listeners\n      client.addListener('success', function (ev) {\n        var req = ev.getRequest();\n        var id = parseInt(req.toHashCode(), 10);\n        if (this.__callbacks.hasOwnProperty(id)) {\n          this.__callbacks[id](null, ev.getData());\n          delete this.__callbacks[id];\n        }\n      }, this);\n\n      client.addListener('error', function (ev) {\n        var req = ev.getRequest();\n        var id = parseInt(req.toHashCode(), 10);\n        if (this.__callbacks.hasOwnProperty(id)) {\n          var data = ev.getData();\n          var error;\n          if (data) {\n            error = data.message;\n          } else {\n            error = {\n              status: ev.getRequest().getStatus(),\n              statusText: ev.getRequest().getStatusText()\n            };\n          }\n          qx.log.Logger.error(this, error);\n          this.__callbacks[id](error, null);\n          delete this.__callbacks[id];\n        }\n        if (req.getPhase() === 'load') {\n          // error during load phase => backend not reachable\n          dialog.Dialog.error(qx.locale.Manager.tr('Backend does not respond!'));\n        }\n      }, this);\n    },\n\n    _onSaveSuccess: function (ev) {\n      var req = ev.getRequest();\n      var id = parseInt(req.toHashCode(), 10);\n      // only handle this events, when there is no callback for it\n      if (!this.__callbacks.hasOwnProperty(id)) {\n        cv.ui.manager.snackbar.Controller.info(qx.locale.Manager.tr('File has been saved'));\n      }\n    },\n\n    _onSaveError: function (ev) {\n      var req = ev.getRequest();\n      var id = parseInt(req.toHashCode(), 10);\n      // only handle this events, when there is no callback for it\n      if (!this.__callbacks.hasOwnProperty(id)) {\n        cv.ui.manager.snackbar.Controller.error(qx.locale.Manager.tr('Error saving file'));\n      }\n    }\n  }\n});\n"
  ]
}