{
  "version": 3,
  "sources": [
    "/home/travis/build/CometVisu/CometVisu/source/class/cv/ui/PagePartsHandler.js"
  ],
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "extend",
    "core",
    "Object",
    "construct",
    "navbars",
    "top",
    "dynamic",
    "fadeVisible",
    "left",
    "right",
    "bottom",
    "members",
    "updateTopNavigation",
    "path",
    "split",
    "pop",
    "id",
    "pageTitle",
    "document",
    "querySelector",
    "textContent",
    "nav",
    "i",
    "length",
    "pageElem",
    "classList",
    "contains",
    "innerHTML",
    "navbarSetSize",
    "position",
    "size",
    "cssSize",
    "isFinite",
    "navbar",
    "style",
    "width",
    "getBoundingClientRect",
    "cv",
    "ui",
    "layout",
    "ResizeHandler",
    "invalidateNavbar",
    "getNavbarsVisibility",
    "page",
    "TemplateEngine",
    "getInstance",
    "getCurrentPage",
    "structure",
    "WidgetFactory",
    "getInstanceById",
    "attributes",
    "getAttribute",
    "getShowNavbarTop",
    "getShowNavbarBottom",
    "getShowNavbarLeft",
    "getShowNavbarRight",
    "updatePageParts",
    "speed",
    "showtopnavigation",
    "showfooter",
    "shownavbar",
    "isInitialized",
    "self",
    "addListenerOnce",
    "getShowTopNavigation",
    "getShowFooter",
    "topDisplay",
    "window",
    "getComputedStyle",
    "bottomDisplay",
    "querySelectorAll",
    "forEach",
    "elem",
    "display",
    "removeInactiveNavbars",
    "getPath",
    "fadeNavbar",
    "direction",
    "undefined",
    "main_scroll",
    "getSpeed",
    "initCss",
    "targetCss",
    "key",
    "toLowerCase",
    "onAnimationEnd",
    "height",
    "entries",
    "key_value",
    "spec",
    "duration",
    "timing",
    "getEasing",
    "keep",
    "keyFrames",
    "anim",
    "bom",
    "element",
    "Animation",
    "animate",
    "initializeNavbars",
    "page_id",
    "tree",
    "Array",
    "from",
    "parts",
    "subPath",
    "slice",
    "join",
    "item",
    "push",
    "level",
    "positions",
    "pos",
    "data",
    "Model",
    "getWidgetData",
    "scope",
    "add",
    "remove",
    "navBarPath",
    "expr",
    "RegExp",
    "test",
    "PagePartsHandler"
  ],
  "mappings": ";;;;;;;;;;;;;;;;;AAAAA,EAAAA,EAAE,CAACC,SAAH,CAAaC,oBAAb,CAAkCC,aAAlC;;AAAA;;;;;;;;;;;;;;;;;;;AAoBA;;;;AAIAH,EAAAA,EAAE,CAACI,KAAH,CAASC,MAAT,CAAgB,wBAAhB,EAA0C;AACxCC,IAAAA,MAAM,EAAEN,EAAE,CAACO,IAAH,CAAQC,MADwB;;AAGxC;;;;;AAKAC,IAAAA,SAAS,EAAE,qBAAY;AACrB,WAAKC,OAAL,GAAe;AACbC,QAAAA,GAAG,EAAE;AACHC,UAAAA,OAAO,EAAE,IADN;AAEHC,UAAAA,WAAW,EAAE;AAFV,SADQ;AAKbC,QAAAA,IAAI,EAAE;AACJF,UAAAA,OAAO,EAAE,IADL;AAEJC,UAAAA,WAAW,EAAE;AAFT,SALO;AASbE,QAAAA,KAAK,EAAE;AACLH,UAAAA,OAAO,EAAE,IADJ;AAELC,UAAAA,WAAW,EAAE;AAFR,SATM;AAabG,QAAAA,MAAM,EAAE;AACNJ,UAAAA,OAAO,EAAE,IADH;AAENC,UAAAA,WAAW,EAAE;AAFP;AAbK,OAAf;AAkBD,KA3BuC;;AA6BxC;;;;;AAKAI,IAAAA,OAAO,EAAE;AACPP,MAAAA,OAAO,EAAE,IADF;AAGPQ,MAAAA,mBAAmB,EAAE,6BAAUC,IAAV,EAAgB;AACnCA,QAAAA,IAAI,GAAGA,IAAI,CAACC,KAAL,CAAW,GAAX,CAAP;AAAwBD,QAAAA,IAAI,CAACE,GAAL;AACxB,YAAIC,EAAE,GAAG,KAAT,CAFmC,CAEnB;;AAChB,YAAIC,SAAS,GAAGC,QAAQ,CAACC,aAAT,CAAuB,MAAIH,EAAJ,GAAO,KAA9B,EAAqCI,WAArD;AACA,YAAIC,GAAG,GAAG,wEAAwEL,EAAxE,GAA6E,+BAA7E,GAA6GA,EAA7G,GAAgH,IAAhH,GACRC,SADQ,GACI,MADd;;AAEA,aAAK,IAAIK,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGT,IAAI,CAACU,MAAzB,EAAiCD,CAAC,EAAlC,EAAsC;AAAE;AACtCN,UAAAA,EAAE,IAAIH,IAAI,CAACS,CAAD,CAAJ,GAAU,GAAhB;AACA,cAAIE,QAAQ,GAAGN,QAAQ,CAACC,aAAT,CAAuB,MAAIH,EAA3B,CAAf;;AACA,cAAIQ,QAAQ,IAAIA,QAAQ,CAACC,SAAT,CAAmBC,QAAnB,CAA4B,MAA5B,CAAhB,EAAqD;AAAE;AACrDT,YAAAA,SAAS,GAAGC,QAAQ,CAACC,aAAT,CAAuB,MAAIH,EAAJ,GAAO,KAA9B,EAAqCI,WAAjD;AACAC,YAAAA,GAAG,IAAI,+FACmEL,EADnE,GACwE,+BADxE,GACwGA,EADxG,GAC2G,IAD3G,GAELC,SAFK,GAEO,MAFd;AAGD;AACF;;AACDC,QAAAA,QAAQ,CAACC,aAAT,CAAuB,WAAvB,EAAoCQ,SAApC,GAAgDN,GAAhD,CAhBmC,CAiBnC;AACA;AACD,OAtBM;;AAwBP;;;;;AAKAO,MAAAA,aAAa,EAAE,uBAAUC,QAAV,EAAoBC,IAApB,EAA0B;AACvC,YAAIC,OAAO,GAAGD,IAAI,IAAIE,QAAQ,CAACF,IAAD,CAAR,GAAiB,IAAjB,GAAwB,EAA5B,CAAlB;AACA,YAAIG,MAAJ;;AACA,gBAAQJ,QAAR;AACE,eAAK,MAAL;AACEI,YAAAA,MAAM,GAAGf,QAAQ,CAACC,aAAT,CAAuB,aAAvB,CAAT;AACAc,YAAAA,MAAM,CAACC,KAAP,CAAaC,KAAb,GAAqBJ,OAArB;;AACA,gBAAI,CAAC,KAAK3B,OAAL,CAAaI,IAAb,CAAkBD,WAAvB,EAAoC;AAClC0B,cAAAA,MAAM,CAACC,KAAP,CAAa1B,IAAb,GAAoB,CAACyB,MAAM,CAACG,qBAAP,GAA+BD,KAAhC,GAAwC,IAA5D;AACD;;AACDE,YAAAA,EAAE,CAACC,EAAH,CAAMC,MAAN,CAAaC,aAAb,CAA2BC,gBAA3B;AACA;;AAEF,eAAK,OAAL;AACEvB,YAAAA,QAAQ,CAACC,aAAT,CAAuB,kBAAvB,EAA2Ce,KAA3C,CAAiD,eAAjD,IAAoEH,OAApE;AACAE,YAAAA,MAAM,GAAGf,QAAQ,CAACC,aAAT,CAAuB,cAAvB,CAAT;AACAc,YAAAA,MAAM,CAACC,KAAP,CAAaC,KAAb,GAAqBJ,OAArB;AACAE,YAAAA,MAAM,CAACC,KAAP,CAAa,cAAb,IAA+B,MAAMH,OAArC;;AACA,gBAAI,CAAC,KAAK3B,OAAL,CAAaK,KAAb,CAAmBF,WAAxB,EAAqC;AACnC0B,cAAAA,MAAM,CAACC,KAAP,CAAazB,KAAb,GAAqB,CAACwB,MAAM,CAACG,qBAAP,GAA+BD,KAAhC,GAAwC,IAA7D;AACD;;AACDE,YAAAA,EAAE,CAACC,EAAH,CAAMC,MAAN,CAAaC,aAAb,CAA2BC,gBAA3B;AACA;AAnBJ;AAqBD,OArDM;AAuDPC,MAAAA,oBAAoB,EAAE,8BAAUC,IAAV,EAAgB;AACpC,YAAI,CAACA,IAAL,EAAW;AACTA,UAAAA,IAAI,GAAGN,EAAE,CAACO,cAAH,CAAkBC,WAAlB,GAAgCC,cAAhC,EAAP;AACD;;AACD,YAAI,CAACH,IAAL,EAAW;AAAE,iBAAO;AAACtC,YAAAA,GAAG,EAAE,IAAN;AAAYK,YAAAA,MAAM,EAAE,IAApB;AAA0BF,YAAAA,IAAI,EAAE,IAAhC;AAAsCC,YAAAA,KAAK,EAAE;AAA7C,WAAP;AAA4D;;AACzE,YAAI,OAAOkC,IAAP,KAAgB,QAApB,EAA8B;AAC5BA,UAAAA,IAAI,GAAGN,EAAE,CAACC,EAAH,CAAMS,SAAN,CAAgBC,aAAhB,CAA8BC,eAA9B,CAA8CN,IAA9C,CAAP;AACD,SAFD,MAEO,IAAIA,IAAI,CAACO,UAAT,EAAsB;AAC3BP,UAAAA,IAAI,GAAGN,EAAE,CAACC,EAAH,CAAMS,SAAN,CAAgBC,aAAhB,CAA8BC,eAA9B,CAA8CN,IAAI,CAACQ,YAAL,CAAkB,IAAlB,CAA9C,CAAP;AACD;;AAED,YAAI,CAACR,IAAL,EAAW;AACT,iBAAO;AAACtC,YAAAA,GAAG,EAAE,IAAN;AAAYK,YAAAA,MAAM,EAAE,IAApB;AAA0BF,YAAAA,IAAI,EAAE,IAAhC;AAAsCC,YAAAA,KAAK,EAAE;AAA7C,WAAP;AACD,SAFD,MAEO;AACL,iBAAO;AACLJ,YAAAA,GAAG,EAAEsC,IAAI,CAACS,gBAAL,EADA;AAEL1C,YAAAA,MAAM,EAAEiC,IAAI,CAACU,mBAAL,EAFH;AAGL7C,YAAAA,IAAI,EAAEmC,IAAI,CAACW,iBAAL,EAHD;AAIL7C,YAAAA,KAAK,EAAEkC,IAAI,CAACY,kBAAL;AAJF,WAAP;AAMD;AACF,OA5EM;;AA8EP;;;;;;AAMAC,MAAAA,eAAe,EAAE,yBAAUb,IAAV,EAAgBc,KAAhB,EAAuB;AACtC;AACA,YAAIC,iBAAiB,GAAG,IAAxB;AACA,YAAIC,UAAU,GAAG,IAAjB;AACA,YAAIC,UAAU,GAAG,KAAKlB,oBAAL,CAA0BC,IAA1B,CAAjB;;AAEA,YAAIA,IAAJ,EAAU;AACR,cAAI,CAACA,IAAI,CAACkB,aAAL,EAAL,EAA2B;AACzB;AACA,gBAAIC,IAAI,GAAG,IAAX;AACAnB,YAAAA,IAAI,CAACoB,eAAL,CAAqB,mBAArB,EAA0C,YAAU;AAACD,cAAAA,IAAI,CAACN,eAAL,CAAqBb,IAArB,EAA0Bc,KAA1B;AAAkC,aAAvF,EAAyF,IAAzF;AACA;AACD;;AACDC,UAAAA,iBAAiB,GAAGf,IAAI,CAACqB,oBAAL,EAApB;AACAL,UAAAA,UAAU,GAAGhB,IAAI,CAACsB,aAAL,EAAb;AACD;;AACD,YAAIC,UAAU,GAAGC,MAAM,CAACC,gBAAP,CAAwBlD,QAAQ,CAACC,aAAT,CAAuB,MAAvB,CAAxB,EAAwD,SAAxD,CAAjB;AACA,YAAIkD,aAAa,GAAGF,MAAM,CAACC,gBAAP,CAAwBlD,QAAQ,CAACC,aAAT,CAAuB,SAAvB,CAAxB,EAA2D,SAA3D,CAApB;;AACA,YAAIuC,iBAAJ,EAAuB;AACrB,cAAIQ,UAAU,KAAK,MAAnB,EAA2B;AACzBhD,YAAAA,QAAQ,CAACoD,gBAAT,CAA0B,gBAA1B,EAA4CC,OAA5C,CAAoD,UAASC,IAAT,EAAe;AACjEA,cAAAA,IAAI,CAACtC,KAAL,CAAWuC,OAAX,GAAqB,OAArB;AACD,aAFD,EAEG,IAFH;AAGA,iBAAKC,qBAAL,CAA2B/B,IAAI,CAACgC,OAAL,EAA3B;AACD;AACF,SAPD,MAOO;AACL,cAAIT,UAAU,KAAK,MAAnB,EAA2B;AACzBhD,YAAAA,QAAQ,CAACC,aAAT,CAAuB,MAAvB,EAA+Be,KAA/B,CAAqCuC,OAArC,GAA+C,MAA/C;AACA,iBAAKC,qBAAL,CAA2B/B,IAAI,CAACgC,OAAL,EAA3B;AACD;AACF;;AACD,YAAIhB,UAAJ,EAAgB;AACd,cAAIU,aAAa,KAAK,MAAtB,EAA8B;AAC5BnD,YAAAA,QAAQ,CAACC,aAAT,CAAuB,SAAvB,EAAkCe,KAAlC,CAAwCuC,OAAxC,GAAkD,OAAlD;AACA,iBAAKC,qBAAL,CAA2B/B,IAAI,CAACgC,OAAL,EAA3B;AACD;AACF,SALD,MAKO;AACL,cAAIN,aAAa,KAAK,MAAtB,EAA8B;AAC5BnD,YAAAA,QAAQ,CAACC,aAAT,CAAuB,SAAvB,EAAkCe,KAAlC,CAAwCuC,OAAxC,GAAkD,MAAlD;AACA,iBAAKC,qBAAL,CAA2B/B,IAAI,CAACgC,OAAL,EAA3B;AACD;AACF;;AACDtC,QAAAA,EAAE,CAACC,EAAH,CAAMC,MAAN,CAAaC,aAAb,CAA2BC,gBAA3B;AACD,OA/HM;;AAiIP;;;;;;;AAOAmC,MAAAA,UAAU,EAAE,oBAAU/C,QAAV,EAAoBgD,SAApB,EAA+BpB,KAA/B,EAAsC;AAChDA,QAAAA,KAAK,GAAIA,KAAK,KAAKqB,SAAX,GAAwBrB,KAAxB,GAAgCpB,EAAE,CAACO,cAAH,CAAkBC,WAAlB,GAAgCkC,WAAhC,CAA4CC,QAA5C,EAAxC;AACA,YAAIC,OAAO,GAAG,EAAd;AACA,YAAIC,SAAS,GAAG,EAAhB;AACA,YAAIjD,MAAM,GAAGf,QAAQ,CAACC,aAAT,CAAuB,YAAYU,QAAnC,CAAb;AACA,YAAIsD,GAAG,GAAGtD,QAAQ,CAACuD,WAAT,EAAV;AACA,YAAItB,IAAI,GAAG,IAAX;;AACA,YAAIuB,cAAc,GAAG,SAAjBA,cAAiB,GAAY;AAC/BvB,UAAAA,IAAI,CAAC1D,OAAL,CAAa+E,GAAb,EAAkB5E,WAAlB,GAAgCsE,SAAS,KAAK,IAA9C;AACAxC,UAAAA,EAAE,CAACC,EAAH,CAAMC,MAAN,CAAaC,aAAb,CAA2BC,gBAA3B;AACD,SAHD;;AAIA,gBAAQoC,SAAR;AACE,eAAK,IAAL;AACE,gBAAIV,MAAM,CAACC,gBAAP,CAAwBnC,MAAxB,EAAgCwC,OAAhC,KAA4C,MAAhD,EAAwD;AACtDQ,cAAAA,OAAO,CAACR,OAAR,GAAkB,OAAlB;AACD;;AACDS,YAAAA,SAAS,CAACC,GAAD,CAAT,GAAiB,CAAjB;;AACA,oBAAQtD,QAAR;AACE,mBAAK,KAAL;AACA,mBAAK,QAAL;AACEoD,gBAAAA,OAAO,CAACE,GAAD,CAAP,GAAe,CAAClD,MAAM,CAACG,qBAAP,GAA+BkD,MAAhC,GAAyC,IAAxD;AACA;;AACF,mBAAK,MAAL;AACA,mBAAK,OAAL;AACEL,gBAAAA,OAAO,CAACE,GAAD,CAAP,GAAe,CAAClD,MAAM,CAACG,qBAAP,GAA+BD,KAAhC,GAAwC,IAAvD;AACA;AARJ;;AAUA;;AACF,eAAK,KAAL;AACE8C,YAAAA,OAAO,CAACE,GAAD,CAAP,GAAe,CAAf;;AACA,oBAAQtD,QAAR;AACE,mBAAK,KAAL;AACA,mBAAK,QAAL;AACEqD,gBAAAA,SAAS,CAACC,GAAD,CAAT,GAAiB,CAAClD,MAAM,CAACG,qBAAP,GAA+BkD,MAAhC,GAAyC,IAA1D;AACA;;AACF,mBAAK,MAAL;AACA,mBAAK,OAAL;AACEJ,gBAAAA,SAAS,CAACC,GAAD,CAAT,GAAiB,CAAClD,MAAM,CAACG,qBAAP,GAA+BD,KAAhC,GAAwC,IAAzD;AACA;AARJ;;AAUA;AA7BJ;;AA+BAjC,QAAAA,MAAM,CAACqF,OAAP,CAAeN,OAAf,EAAwBV,OAAxB,CAAgC,UAASiB,SAAT,EAAmB;AAACvD,UAAAA,MAAM,CAACC,KAAP,CAAasD,SAAS,CAAC,CAAD,CAAtB,IAA2BA,SAAS,CAAC,CAAD,CAApC;AAAyC,SAA7F;;AACA,YAAI/B,KAAK,KAAK,CAAd,EAAiB;AACfvD,UAAAA,MAAM,CAACqF,OAAP,CAAeL,SAAf,EAA0BX,OAA1B,CAAkC,UAASiB,SAAT,EAAmB;AAACvD,YAAAA,MAAM,CAACC,KAAP,CAAasD,SAAS,CAAC,CAAD,CAAtB,IAA2BA,SAAS,CAAC,CAAD,CAApC;AAAyC,WAA/F;AACAH,UAAAA,cAAc;AACf,SAHD,MAGO;AACL,cAAII,IAAI,GAAG;AACTC,YAAAA,QAAQ,EAAEjC,KADD;AAETkC,YAAAA,MAAM,EAAEtD,EAAE,CAACO,cAAH,CAAkBC,WAAlB,GAAgCkC,WAAhC,CAA4Ca,SAA5C,EAFC;AAGTC,YAAAA,IAAI,EAAE,GAHG;AAITC,YAAAA,SAAS,EAAE;AACT,iBAAGb,OADM;AAET,mBAAKC;AAFI;AAJF,WAAX;AASA,cAAIa,IAAI,GAAGrG,EAAE,CAACsG,GAAH,CAAOC,OAAP,CAAeC,SAAf,CAAyBC,OAAzB,CAAiClE,MAAjC,EAAyCwD,IAAzC,CAAX;AACAM,UAAAA,IAAI,CAAChC,eAAL,CAAqB,KAArB,EAA4BsB,cAA5B,EAA4C,IAA5C;AACD;AACF,OAnMM;;AAqMP;;;;;;AAMAe,MAAAA,iBAAiB,EAAE,2BAAUC,OAAV,EAAmB;AACpC,YAAIvC,IAAI,GAAG,IAAX;AACA,aAAKY,qBAAL,CAA2B2B,OAA3B;AACA,YAAIC,IAAI,GAAGC,KAAK,CAACC,IAAN,CAAYtF,QAAQ,CAACoD,gBAAT,CAA0B,MAA1B,CAAZ,CAAX;;AACA,YAAI+B,OAAO,KAAK,KAAhB,EAAuB;AACrB,cAAII,KAAK,GAAGJ,OAAO,CAACvF,KAAR,CAAc,GAAd,CAAZ;AACA2F,UAAAA,KAAK,CAAC1F,GAAN;AACA0F,UAAAA,KAAK,CAAC,CAAD,CAAL,GAAW,EAAX;;AACA,eAAK,IAAInF,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGmF,KAAK,CAAClF,MAA1B,EAAkCD,CAAC,EAAnC,EAAuC;AACrC,gBAAIoF,OAAO,GAAGD,KAAK,CAACE,KAAN,CAAY,CAAZ,EAAerF,CAAC,GAAG,CAAnB,EAAsBsF,IAAtB,CAA2B,GAA3B,CAAd;;AACA,gBAAIF,OAAJ,EAAa;AACX,kBAAIG,IAAI,GAAG3F,QAAQ,CAACoD,gBAAT,CAA0B,QAAQoC,OAAR,GAAkB,QAA5C,CAAX;;AACA,kBAAIG,IAAI,CAACtF,MAAL,KAAgB,CAApB,EAAuB;AACrB+E,gBAAAA,IAAI,CAACQ,IAAL,CAAUD,IAAI,CAAC,CAAD,CAAd;AACD;AACF;AACF;AACF;;AACD,YAAIE,KAAK,GAAG,CAAZ;AACA,YAAIjF,IAAI,GAAG;AAACzB,UAAAA,GAAG,EAAE,CAAN;AAASI,UAAAA,KAAK,EAAE,CAAhB;AAAmBC,UAAAA,MAAM,EAAE,CAA3B;AAA8BF,UAAAA,IAAI,EAAE;AAApC,SAAX;AACA,YAAIF,OAAO,GAAG;AAACD,UAAAA,GAAG,EAAE,IAAN;AAAYI,UAAAA,KAAK,EAAE,IAAnB;AAAyBC,UAAAA,MAAM,EAAE,IAAjC;AAAuCF,UAAAA,IAAI,EAAE;AAA7C,SAAd;AACA,YAAIwG,SAAS,GAAG,CAAC,KAAD,EAAO,OAAP,EAAe,QAAf,EAAwB,MAAxB,CAAhB;AACAV,QAAAA,IAAI,CAAC/B,OAAL,CAAa,UAAUC,IAAV,EAAgB;AAC3B,cAAIxD,EAAE,GAAGwD,IAAI,CAACrB,YAAL,CAAkB,IAAlB,CAAT;AACA6D,UAAAA,SAAS,CAACzC,OAAV,CAAkB,UAAU0C,GAAV,EAAe;AAC/B,gBAAI5F,GAAG,GAAGH,QAAQ,CAACC,aAAT,CAAuB,MAAMH,EAAN,GAAWiG,GAAX,GAAgB,SAAvC,CAAV;;AACA,gBAAI5F,GAAJ,EAAS;AACP,kBAAI6F,IAAI,GAAG7E,EAAE,CAAC6E,IAAH,CAAQC,KAAR,CAActE,WAAd,GAA4BuE,aAA5B,CAA0CpG,EAAE,GAAGiG,GAAL,GAAW,SAArD,CAAX;;AACA,kBAAIC,IAAI,CAAC5G,OAAL,KAAiB,IAArB,EAA2B;AACzBA,gBAAAA,OAAO,CAAC2G,GAAD,CAAP,GAAeC,IAAI,CAAC5G,OAApB;AACD;;AACDwD,cAAAA,IAAI,CAAC1D,OAAL,CAAa6G,GAAb,EAAkB3G,OAAlB,GAA4BA,OAAO,CAAC2G,GAAD,CAAnC;;AACA,kBAAIC,IAAI,CAACG,KAAL,KAAevC,SAAf,IAA4BoC,IAAI,CAACG,KAAL,GAAa,CAAzC,IAA8Cf,IAAI,CAAC/E,MAAL,GAAcwF,KAAd,IAAuBG,IAAI,CAACG,KAA9E,EAAqF;AACnFhG,gBAAAA,GAAG,CAACI,SAAJ,CAAc6F,GAAd,CAAkB,cAAlB;AACD,eAFD,MAEO;AACLjG,gBAAAA,GAAG,CAACI,SAAJ,CAAc8F,MAAd,CAAqB,cAArB;AACD;;AACD,kBAAIL,IAAI,CAAC/E,KAAL,KAAe,IAAnB,EAA0B;AACxBL,gBAAAA,IAAI,CAACmF,GAAD,CAAJ,GAAYC,IAAI,CAAC/E,KAAjB;AACD,eAFD,MAEO;AACL,oBAAIL,IAAI,CAACmF,GAAD,CAAJ,KAAc,CAAlB,EAAqB;AACnB;AACAnF,kBAAAA,IAAI,CAACmF,GAAD,CAAJ,GAAY,GAAZ;AACD;AACF;AACF;AACF,WAtBD;AAuBAF,UAAAA,KAAK;AACN,SA1BD;AA2BAC,QAAAA,SAAS,CAACzC,OAAV,CAAkB,UAAU0C,GAAV,EAAe;AAC/BnD,UAAAA,IAAI,CAAClC,aAAL,CAAmBqF,GAAnB,EAAwBnF,IAAI,CAACmF,GAAD,CAA5B;AACD,SAFD;AAGA5E,QAAAA,EAAE,CAACC,EAAH,CAAMC,MAAN,CAAaC,aAAb,CAA2BC,gBAA3B;AACD,OAhQM;AAkQPiC,MAAAA,qBAAqB,EAAE,+BAAU2B,OAAV,EAAmB;AACxC;AACAnF,QAAAA,QAAQ,CAACoD,gBAAT,CAA0B,sBAA1B,EAAkDC,OAAlD,CAA0D,UAAUC,IAAV,EAAgB;AACxE,cAAIgD,UAAU,GAAGhD,IAAI,CAACrB,YAAL,CAAkB,IAAlB,EAAwBrC,KAAxB,CAA8B,GAA9B,CAAjB,CADwE,CAExE;;AACA0G,UAAAA,UAAU,GAAGA,UAAU,CAACb,KAAX,CAAiB,CAAjB,EAAoBa,UAAU,CAACjG,MAAX,GAAoB,CAAxC,EAA2CqF,IAA3C,CAAgD,GAAhD,CAAb;AACA,cAAIa,IAAI,GAAG,IAAIC,MAAJ,CAAW,MAAMF,UAAN,GAAmB,IAA9B,EAAoC,GAApC,CAAX;;AACA,cAAIA,UAAU,KAAKnB,OAAf,IAA0B,CAACoB,IAAI,CAACE,IAAL,CAAUtB,OAAV,CAA/B,EAAmD;AACjD7B,YAAAA,IAAI,CAAC/C,SAAL,CAAe8F,MAAf,CAAsB,cAAtB;AACD;AACF,SARD;AASD;AA7QM;AAlC+B,GAA1C;AAxBAlF,EAAAA,EAAE,CAACC,EAAH,CAAMsF,gBAAN,CAAuB/H,aAAvB,GAAuCA,aAAvC",
  "sourcesContent": [
    "/* PagePartsHandler.js \n * \n * copyright (c) 2010-2017, Christian Mayer and the CometVisu contributers.\n * \n * This program is free software; you can redistribute it and/or modify it\n * under the terms of the GNU General Public License as published by the Free\n * Software Foundation; either version 3 of the License, or (at your option)\n * any later version.\n *\n * This program is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for\n * more details.\n *\n * You should have received a copy of the GNU General Public License along\n * with this program; if not, write to the Free Software Foundation, Inc.,\n * 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA\n */\n\n\n/**\n * @author Christian Mayer\n * @since 2010\n */\nqx.Class.define('cv.ui.PagePartsHandler', {\n  extend: qx.core.Object,\n\n  /*\n   ******************************************************\n   CONSTRUCTOR\n   ******************************************************\n   */\n  construct: function () {\n    this.navbars = {\n      top: {\n        dynamic: null,\n        fadeVisible: true\n      },\n      left: {\n        dynamic: null,\n        fadeVisible: true\n      },\n      right: {\n        dynamic: null,\n        fadeVisible: true\n      },\n      bottom: {\n        dynamic: null,\n        fadeVisible: true\n      }\n    };\n  },\n\n  /*\n   ******************************************************\n   MEMBERS\n   ******************************************************\n   */\n  members: {\n    navbars: null,\n\n    updateTopNavigation: function (path) {\n      path = path.split('_'); path.pop();\n      var id = \"id_\"; //path[0];\n      var pageTitle = document.querySelector(\"#\"+id+\" h1\").textContent;\n      var nav = '<a href=\"javascript:cv.TemplateEngine.getInstance().scrollToPage(\\'' + id + '\\')\" id=\"breadcrump_pagejump_'+id+'\">' +\n        pageTitle + '</a>';\n      for (var i = 1; i < path.length; i++) { // element 0 is id_ (JNK)\n        id += path[i] + '_';\n        var pageElem = document.querySelector(\"#\"+id);\n        if (pageElem && pageElem.classList.contains(\"page\")) { // FIXME is this still needed?!?\n          pageTitle = document.querySelector(\"#\"+id+\" h1\").textContent;\n          nav += '<span> &#x25ba; </span>' +\n            '<a href=\"javascript:cv.TemplateEngine.getInstance().scrollToPage(\\'' + id + '\\')\" id=\"breadcrump_pagejump_'+id+'\">' +\n            pageTitle + '</a>';\n        }\n      }\n      document.querySelector(\".nav_path\").innerHTML = nav;\n      // cv.TemplateEngine.getInstance().handleResize(); - TODO CM160528: why? This shouldn't have\n      //                             any effect on the page size => commented out\n    },\n\n    /**\n     * Change the size of the selected navbar\n     *\n     * currently only \"left\" and \"right\" are implemented\n     */\n    navbarSetSize: function (position, size) {\n      var cssSize = size + (isFinite(size) ? 'px' : '');\n      var navbar;\n      switch (position) {\n        case 'left':\n          navbar = document.querySelector('#navbarLeft');\n          navbar.style.width = cssSize;\n          if (!this.navbars.left.fadeVisible) {\n            navbar.style.left = -navbar.getBoundingClientRect().width + 'px';\n          }\n          cv.ui.layout.ResizeHandler.invalidateNavbar();\n          break;\n\n        case 'right':\n          document.querySelector('#centerContainer').style[\"padding-right\"] = cssSize;\n          navbar = document.querySelector('#navbarRight');\n          navbar.style.width = cssSize;\n          navbar.style['margin-right'] = '-' + cssSize;\n          if (!this.navbars.right.fadeVisible) {\n            navbar.style.right = -navbar.getBoundingClientRect().width + 'px';\n          }\n          cv.ui.layout.ResizeHandler.invalidateNavbar();\n          break;\n      }\n    },\n\n    getNavbarsVisibility: function (page) {\n      if (!page) {\n        page = cv.TemplateEngine.getInstance().getCurrentPage();\n      }\n      if (!page) { return {top: true, bottom: true, left: true, right: true}; }\n      if (typeof page === \"string\") {\n        page = cv.ui.structure.WidgetFactory.getInstanceById(page);\n      } else if (page.attributes ) {\n        page = cv.ui.structure.WidgetFactory.getInstanceById(page.getAttribute('id'));\n      }\n\n      if (!page) {\n        return {top: true, bottom: true, left: true, right: true};\n      } else {\n        return {\n          top: page.getShowNavbarTop(),\n          bottom: page.getShowNavbarBottom(),\n          left: page.getShowNavbarLeft(),\n          right: page.getShowNavbarRight()\n        };\n      }\n    },\n\n    /**\n     * update the visibility of top-navigation, footer and navbar for this page\n     *\n     * @param page {cv.ui.structure.pure.Page} page to update the parts for\n     * @param speed {Number} animation duration for changes\n     */\n    updatePageParts: function (page, speed) {\n      // default values\n      var showtopnavigation = true;\n      var showfooter = true;\n      var shownavbar = this.getNavbarsVisibility(page);\n\n      if (page) {\n        if (!page.isInitialized()) {\n          // page is not ready, defer this update\n          var self = this;\n          page.addListenerOnce(\"changeInitialized\", function(){self.updatePageParts(page,speed);}, this);\n          return;\n        }\n        showtopnavigation = page.getShowTopNavigation();\n        showfooter = page.getShowFooter();\n      }\n      var topDisplay = window.getComputedStyle(document.querySelector(\"#top\"))[\"display\"];\n      var bottomDisplay = window.getComputedStyle(document.querySelector(\"#bottom\"))[\"display\"];\n      if (showtopnavigation) {\n        if (topDisplay === \"none\") {\n          document.querySelectorAll('#top, #top > *').forEach(function(elem) {\n            elem.style.display = \"block\";\n          }, this);\n          this.removeInactiveNavbars(page.getPath());\n        }\n      } else {\n        if (topDisplay !== \"none\") {\n          document.querySelector(\"#top\").style.display = \"none\";\n          this.removeInactiveNavbars(page.getPath());\n        }\n      }\n      if (showfooter) {\n        if (bottomDisplay === \"none\") {\n          document.querySelector(\"#bottom\").style.display = \"block\";\n          this.removeInactiveNavbars(page.getPath());\n        }\n      } else {\n        if (bottomDisplay !== \"none\") {\n          document.querySelector(\"#bottom\").style.display = \"none\";\n          this.removeInactiveNavbars(page.getPath());\n        }\n      }\n      cv.ui.layout.ResizeHandler.invalidateNavbar();\n    },\n\n    /**\n     * fades in/out a navbar\n     *\n     * @param position {String}  [Top|Left|Right|Bottom]\n     * @param direction {String} [in|out]\n     * @param speed {Number} time in milliseconds\n     */\n    fadeNavbar: function (position, direction, speed) {\n      speed = (speed !== undefined) ? speed : cv.TemplateEngine.getInstance().main_scroll.getSpeed();\n      var initCss = {};\n      var targetCss = {};\n      var navbar = document.querySelector('#navbar' + position);\n      var key = position.toLowerCase();\n      var self = this;\n      var onAnimationEnd = function () {\n        self.navbars[key].fadeVisible = direction === 'in';\n        cv.ui.layout.ResizeHandler.invalidateNavbar();\n      };\n      switch (direction) {\n        case \"in\":\n          if (window.getComputedStyle(navbar).display === 'none') {\n            initCss.display = 'block';\n          }\n          targetCss[key] = 0;\n          switch (position) {\n            case \"Top\":\n            case \"Bottom\":\n              initCss[key] = -navbar.getBoundingClientRect().height + 'px';\n              break;\n            case \"Left\":\n            case \"Right\":\n              initCss[key] = -navbar.getBoundingClientRect().width + 'px';\n              break;\n          }\n          break;\n        case \"out\":\n          initCss[key] = 0;\n          switch (position) {\n            case \"Top\":\n            case \"Bottom\":\n              targetCss[key] = -navbar.getBoundingClientRect().height + 'px';\n              break;\n            case \"Left\":\n            case \"Right\":\n              targetCss[key] = -navbar.getBoundingClientRect().width + 'px';\n              break;\n          }\n          break;\n      }\n      Object.entries(initCss).forEach(function(key_value){navbar.style[key_value[0]]=key_value[1];});\n      if (speed === 0) {\n        Object.entries(targetCss).forEach(function(key_value){navbar.style[key_value[0]]=key_value[1];});\n        onAnimationEnd();\n      } else {\n        var spec = {\n          duration: speed,\n          timing: cv.TemplateEngine.getInstance().main_scroll.getEasing(),\n          keep: 100,\n          keyFrames: {\n            0: initCss,\n            100: targetCss\n          }\n        };\n        var anim = qx.bom.element.Animation.animate(navbar, spec);\n        anim.addListenerOnce(\"end\", onAnimationEnd, this);\n      }\n    },\n\n    /**\n     * traverse down the page tree from root page id_ -> .. -> page_id activate\n     * all navbars in that path deactivate all others\n     *\n     * @param page_id {String}\n     */\n    initializeNavbars: function (page_id) {\n      var self = this;\n      this.removeInactiveNavbars(page_id);\n      var tree = Array.from( document.querySelectorAll('#id_') );\n      if (page_id !== \"id_\") {\n        var parts = page_id.split(\"_\");\n        parts.pop();\n        parts[0] = '';\n        for (var i = 0; i < parts.length; i++) {\n          var subPath = parts.slice(0, i + 1).join('_');\n          if (subPath) {\n            var item = document.querySelectorAll('#id' + subPath + \"_.page\");\n            if (item.length === 1) {\n              tree.push(item[0]);\n            }\n          }\n        }\n      }\n      var level = 1;\n      var size = {top: 0, right: 0, bottom: 0, left: 0};\n      var dynamic = {top: null, right: null, bottom: null, left: null};\n      var positions = ['top','right','bottom','left'];\n      tree.forEach(function (elem) {\n        var id = elem.getAttribute('id');\n        positions.forEach(function (pos) {\n          var nav = document.querySelector('#' + id + pos+ '_navbar');\n          if (nav) {\n            var data = cv.data.Model.getInstance().getWidgetData(id + pos + '_navbar');\n            if (data.dynamic !== null) {\n              dynamic[pos] = data.dynamic;\n            }\n            self.navbars[pos].dynamic = dynamic[pos];\n            if (data.scope === undefined || data.scope < 0 || tree.length - level <= data.scope) {\n              nav.classList.add('navbarActive');\n            } else {\n              nav.classList.remove('navbarActive');\n            }\n            if (data.width !== null ) {\n              size[pos] = data.width;\n            } else {\n              if (size[pos] === 0) {\n                // navbar with content but no size given so far => use default\n                size[pos] = 300;\n              }\n            }\n          }\n        });\n        level++;\n      });\n      positions.forEach(function (pos) {\n        self.navbarSetSize(pos, size[pos]);\n      });\n      cv.ui.layout.ResizeHandler.invalidateNavbar();\n    },\n\n    removeInactiveNavbars: function (page_id) {\n      // remove all navbars that do not belong to this page\n      document.querySelectorAll('.navbar.navbarActive').forEach(function (elem) {\n        var navBarPath = elem.getAttribute('id').split('_');\n        // skip last 2 elements e.g. '_top_navbar'\n        navBarPath = navBarPath.slice(0, navBarPath.length - 2).join('_');\n        var expr = new RegExp(\"^\" + navBarPath + \".*\", \"i\");\n        if (navBarPath !== page_id && !expr.test(page_id)) {\n          elem.classList.remove('navbarActive');\n        }\n      });\n    }\n  }\n});"
  ]
}