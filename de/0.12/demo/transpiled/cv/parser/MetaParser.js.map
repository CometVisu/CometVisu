{
  "version": 3,
  "sources": [
    "/home/runner/work/CometVisu/CometVisu/source/class/cv/parser/MetaParser.js"
  ],
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "extend",
    "core",
    "Object",
    "members",
    "parse",
    "xml",
    "done",
    "parseFiles",
    "querySelectorAll",
    "forEach",
    "parseIcons",
    "parseMappings",
    "parseStylings",
    "parseStatusBar",
    "parseStateNotifications",
    "parseTemplates",
    "files",
    "css",
    "js",
    "elem",
    "type",
    "getAttribute",
    "content",
    "push",
    "textContent",
    "cv",
    "Config",
    "configSettings",
    "pluginsToLoad",
    "warn",
    "length",
    "stylesToLoad",
    "concat",
    "scriptsToLoad",
    "iconsFromConfig",
    "__parseIconDefinition",
    "Init",
    "getApplication",
    "loadIcons",
    "name",
    "mapping",
    "formula",
    "formulaSource",
    "Function",
    "subElements",
    "subElem",
    "origin",
    "childNodes",
    "value",
    "i",
    "v",
    "nodeType",
    "nodeName",
    "toLowerCase",
    "icon",
    "IconHandler",
    "getInstance",
    "getIconElement",
    "flavour",
    "color",
    "styling",
    "trim",
    "isDefaultValue",
    "undefined",
    "defaultValue",
    "hasAttribute",
    "range",
    "parseFloat",
    "addMapping",
    "classnames",
    "addStyling",
    "code",
    "condition",
    "sPath",
    "window",
    "location",
    "pathname",
    "sPage",
    "substring",
    "lastIndexOf",
    "editMode",
    "testMode",
    "text",
    "search",
    "linkMatch",
    "linkRegex",
    "matches",
    "exec",
    "handled",
    "replace",
    "match",
    "suffix",
    "middle",
    "indexOf",
    "replacement",
    "configFile",
    "footerElement",
    "document",
    "querySelector",
    "innerHTML",
    "parsePlugins",
    "uri",
    "dynamic",
    "stateConfig",
    "target",
    "notifications",
    "Router",
    "getTarget",
    "ui",
    "NotificationCenter",
    "addressContainer",
    "config",
    "severity",
    "skipInitial",
    "deletable",
    "unique",
    "valueMapping",
    "addressMapping",
    "topic",
    "iconClasses",
    "titleElem",
    "titleTemplate",
    "messageElem",
    "messageTemplate",
    "conditionElem",
    "addresses",
    "parser",
    "WidgetParser",
    "makeAddressList",
    "getOwnPropertyNames",
    "address",
    "hasOwnProperty",
    "addressConfig",
    "assign",
    "registerStateUpdateHandler",
    "__loadQueue",
    "data",
    "Array",
    "check",
    "templates",
    "templateName",
    "log",
    "Logger",
    "debug",
    "ref",
    "areq",
    "io",
    "request",
    "Xhr",
    "set",
    "accept",
    "cache",
    "forceReload",
    "addListenerOnce",
    "e",
    "req",
    "addTemplate",
    "getResponseText",
    "remove",
    "getUrl",
    "addListener",
    "message",
    "title",
    "locale",
    "Manager",
    "tr",
    "dispatchMessage",
    "send",
    "cleaned",
    "MetaParser"
  ],
  "mappings": "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",
  "sourcesContent": [
    "/* MetaParser.js \n * \n * copyright (c) 2010-2017, Christian Mayer and the CometVisu contributers.\n * \n * This program is free software; you can redistribute it and/or modify it\n * under the terms of the GNU General Public License as published by the Free\n * Software Foundation; either version 3 of the License, or (at your option)\n * any later version.\n *\n * This program is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for\n * more details.\n *\n * You should have received a copy of the GNU General Public License along\n * with this program; if not, write to the Free Software Foundation, Inc.,\n * 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA\n */\n\n\nqx.Class.define(\"cv.parser.MetaParser\", {\n  extend: qx.core.Object,\n\n  /*\n  ******************************************************\n    MEMBERS\n  ******************************************************\n  */\n  members: {\n\n    parse: function(xml, done) {\n      // parse external files\n      this.parseFiles(xml);\n\n      // parse the icons\n      xml.querySelectorAll('meta > icons icon-definition').forEach(this.parseIcons, this);\n\n      // then the mappings\n      xml.querySelectorAll('meta > mappings mapping').forEach(this.parseMappings, this);\n\n      // then the stylings\n      xml.querySelectorAll('meta > stylings styling').forEach(this.parseStylings, this);\n\n      // then the status bar\n      this.parseStatusBar(xml);\n\n      this.parseStateNotifications(xml);\n\n      this.parseTemplates(xml, done);\n    },\n\n    parseFiles: function (xml) {\n      var files = {\n        css: [],\n        js: []\n      };\n      xml.querySelectorAll('meta > files file').forEach(function (elem) {\n        var type = elem.getAttribute('type');\n        var content = elem.getAttribute('content');\n        switch (type) {\n          case 'css':\n            files.css.push(elem.textContent);\n            break;\n\n          case 'js':\n            if (content === 'plugin') {\n              cv.Config.configSettings.pluginsToLoad.push(elem.textContent);\n            } else {\n              files.js.push(elem.textContent);\n            }\n            break;\n\n          default:\n            this.warn('ignoring unknown file type', type);\n            break;\n        }\n      }, this);\n      if (files.css.length > 0) {\n        cv.Config.configSettings.stylesToLoad = cv.Config.configSettings.stylesToLoad.concat(files.css);\n      }\n      if (files.js.length > 0) {\n        cv.Config.configSettings.scriptsToLoad = cv.Config.configSettings.scriptsToLoad.concat(files.js);\n      }\n    },\n\n    parseIcons: function(elem) {\n      cv.Config.configSettings.iconsFromConfig.push(this.__parseIconDefinition(elem));\n      qx.core.Init.getApplication().loadIcons();\n    },\n\n    parseMappings: function(elem) {\n      var name = elem.getAttribute('name');\n      var mapping = {};\n      var formula = elem.querySelectorAll('formula');\n      if (formula.length > 0) {\n        mapping.formulaSource = formula[0].textContent;\n        mapping.formula = new Function('x', 'var y;' + mapping.formulaSource + '; return y;'); // jshint ignore:line\n      }\n      var subElements = elem.querySelectorAll('entry');\n      subElements.forEach(function (subElem) {\n        var origin = subElem.childNodes;\n        var value = [];\n        for (var i = 0; i < origin.length; i++) {\n          var v = origin[i];\n          if (v && v.nodeType === 1 && v.nodeName.toLowerCase() === 'icon') {\n            var icon = this.__parseIconDefinition(v);\n            value.push(cv.IconHandler.getInstance().getIconElement(icon.name, icon.type, icon.flavour, icon.color, icon.styling, icon[\"class\"]));\n          }\n          else if (v && v.nodeType === 3 && v.textContent.trim().length) {\n            value.push(v.textContent.trim());\n          }\n        }\n        // check for default entry\n        var isDefaultValue = subElem.getAttribute('default');\n        if (isDefaultValue !== undefined) {\n          isDefaultValue = isDefaultValue === \"true\";\n        }\n        else {\n          isDefaultValue = false;\n        }\n        // now set the mapped values\n        if (subElem.getAttribute('value')) {\n          mapping[subElem.getAttribute('value')] = value.length === 1 ? value[0] : value;\n          if (isDefaultValue) {\n            mapping.defaultValue = subElem.getAttribute('value');\n          }\n        }\n        else if (subElem.hasAttribute(\"range_min\")) {\n          if (!mapping.range) {\n            mapping.range = {};\n          }\n          mapping.range[parseFloat(subElem.getAttribute('range_min'))] = [parseFloat(subElem.getAttribute('range_max')), value];\n          if (isDefaultValue) {\n            mapping.defaultValue = parseFloat(subElem.getAttribute('range_min'));\n          }\n        } else if (subElements.length === 1) {\n          // use as catchall mapping\n          mapping[\"*\"] = value.length === 1 ? value[0] : value;\n        }\n      }, this);\n      cv.Config.addMapping(name, mapping);\n    },\n\n    parseStylings: function(elem) {\n      var name = elem.getAttribute('name');\n      var classnames = '';\n      var styling = {};\n      elem.querySelectorAll('entry').forEach(function (subElem) {\n        classnames += subElem.textContent + ' ';\n        // check for default entry\n        var isDefaultValue = subElem.getAttribute('default');\n        if (isDefaultValue !== undefined) {\n          isDefaultValue = isDefaultValue === \"true\";\n        } else {\n          isDefaultValue = false;\n        }\n        // now set the styling values\n        if (subElem.getAttribute('value')) {\n          styling[subElem.getAttribute('value')] = subElem.textContent;\n          if (isDefaultValue) {\n            styling.defaultValue = subElem.getAttribute('value');\n          }\n        } else { // a range\n          if (!styling.range) {\n            styling.range = {};\n          }\n          styling.range[parseFloat(subElem.getAttribute('range_min'))] = [parseFloat(subElem.getAttribute('range_max')), subElem.textContent];\n          if (isDefaultValue) {\n            styling.defaultValue = parseFloat(subElem.getAttribute('range_min'));\n          }\n        }\n      }, this);\n      styling.classnames = classnames.trim();\n      cv.Config.addStyling(name, styling);\n    },\n\n    parseStatusBar: function(xml) {\n      var code = '';\n      xml.querySelectorAll('meta > statusbar status').forEach(function (elem) {\n        var condition = elem.getAttribute('condition');\n        var extend = elem.getAttribute('hrefextend');\n        var sPath = window.location.pathname;\n        var sPage = sPath.substring(sPath.lastIndexOf('/') + 1);\n\n        // @TODO: make this match once the new editor is finished-ish.\n        var editMode = 'edit_config.html' === sPage;\n\n        // skip this element if it's edit-only and we are non-edit, or the other\n        // way\n        // round\n        if (editMode && '!edit' === condition) {\n          return;\n        }\n        if (!editMode && 'edit' === condition) {\n          return;\n        }\n\n        if (cv.Config.testMode && '!testMode' === condition) {\n          return;\n        }\n        if (!cv.Config.testMode && 'testMode' === condition) {\n          return;\n        }\n\n        var text = elem.textContent;\n        var search;\n\n        // compability change to make existing customer configurations work with the new manager links\n        // this replaces all document links to old manager tools with the new ones\n        let linkMatch;\n        const linkRegex = /href=\"([^\"]+)\"/gm;\n        const matches = [];\n        while (linkMatch = linkRegex.exec(text)) {\n          matches.push(linkMatch);\n        }\n        let handled = false;\n        search = window.location.search.replace(/\\$/g, '$$$$');\n        search = search.replace(/.*config=([^&]*).*|.*/, '$1');\n        matches.forEach(match => {\n          switch (match[1]) {\n            case 'manager.php':\n              text = text.replace(match[0], 'href=\"#\" onclick=\"showManager()\"');\n              handled = true;\n              break;\n\n            case 'check_config.php':\n              text = text.replace(match[0], 'href=\"#\" onclick=\"qx.core.Init.getApplication().validateConfig(\\'' + search + '\\')\"');\n              handled = true;\n              break;\n\n            case 'editor/':\n            case 'editor':\n              const suffix = search ? '_' + search : '';\n              text = text.replace(match[0], 'href=\"#\" onclick=\"showManager(\\'open\\', \\'visu_config' + suffix + '.xml\\')\"');\n              handled = true;\n              break;\n          }\n        });\n\n        if (handled) {\n          // this overrides the extends\n          extend = null;\n        }\n        switch (extend) {\n          case 'all': // append all parameters\n            search = window.location.search.replace(/\\$/g, '$$$$');\n            text = text.replace(/(href=\"[^\"]*)(\")/g, '$1' + search + '$2');\n            break;\n          case 'config': // append config file info\n            search = window.location.search.replace(/\\$/g, '$$$$');\n            search = search.replace(/.*(config=[^&]*).*|.*/, '$1');\n\n            var middle = text.replace(/.*href=\"([^\"]*)\".*/g, '{$1}');\n            if (0 < middle.indexOf('?')) {\n              search = '&' + search;\n            }\n            else {\n              search = '?' + search;\n            }\n\n            text = text.replace(/(href=\"[^\"]*)(\")/g, '$1' + search + '$2');\n            break;\n\n          case 'action':\n            search = window.location.search.replace(/\\$/g, '$$$$');\n            search = search.replace(/.*config=([^&]*).*|.*/, '$1');\n            const match = /cv-action=\"([\\w]+)\"/.exec(text);\n            if (match) {\n              let replacement = 'href=\"#\" '\n              switch (match[1]) {\n                case 'validate':\n                  replacement += 'onclick=\"qx.core.Init.getApplication().validateConfig(\\'' + search + '\\')\"';\n                  break;\n\n                case 'edit':\n                  const configFile = search ? 'visu_config_' + search + '.xml' : 'visu_config.xml';\n                  replacement += 'onclick=\"showManager(\\'open\\', \\'' + configFile + '\\')\"';\n                  break;\n              }\n              text = text.replace(match[0], replacement);\n            }\n            break;\n        }\n        code += text;\n      }, this);\n      var footerElement = document.querySelector(\".footer\");\n      footerElement.innerHTML += code;\n    },\n\n    parsePlugins: function(xml) {\n      var pluginsToLoad = [];\n      xml.querySelectorAll('meta > plugins plugin').forEach(function (elem) {\n        var name = elem.getAttribute('name');\n        if (name) {\n          pluginsToLoad.push(\"plugin-\"+name);\n        }\n      });\n      return pluginsToLoad;\n    },\n\n    __parseIconDefinition: function(elem) {\n      return {\n        name : elem.getAttribute('name'),\n        uri : elem.getAttribute('uri'),\n        type : elem.getAttribute('type'),\n        flavour : elem.getAttribute('flavour'),\n        color : elem.getAttribute('color'),\n        styling : elem.getAttribute('styling'),\n        dynamic : elem.getAttribute('dynamic'),\n        'class' : elem.getAttribute('class')\n      };\n    },\n\n    parseStateNotifications: function(xml) {\n      var stateConfig = {};\n      xml.querySelectorAll('meta > notifications state-notification').forEach(function (elem) {\n        var target = cv.core.notifications.Router.getTarget(elem.getAttribute('target')) || cv.ui.NotificationCenter.getInstance();\n\n        var addressContainer = elem.querySelector('addresses');\n\n        var config = {\n          target: target,\n          severity: elem.getAttribute('severity'),\n          skipInitial: elem.getAttribute('skip-initial') !== \"false\",\n          deletable: elem.getAttribute('deletable') !== \"false\",\n          unique: elem.getAttribute('unique') === \"true\",\n          valueMapping: addressContainer.getAttribute('value-mapping'),\n          addressMapping: addressContainer.getAttribute('address-mapping')\n        };\n\n        var name = elem.getAttribute('name');\n        if (name) {\n          config.topic = \"cv.state.\"+name;\n        }\n        var icon = elem.getAttribute('icon');\n        if (icon) {\n          config.icon = icon;\n          var iconClasses = elem.getAttribute('icon-classes');\n          if (iconClasses) {\n            config.iconClasses = iconClasses;\n          }\n        }\n\n        // templates\n        var titleElem = elem.querySelector('title-template');\n        if (titleElem) {\n          config.titleTemplate = titleElem.innerHTML;\n        }\n        var messageElem = elem.querySelector('message-template');\n        if (messageElem) {\n          config.messageTemplate = messageElem.innerHTML;\n        }\n\n        // condition\n        var conditionElem = elem.querySelector('condition');\n        var condition = conditionElem.textContent;\n        if (condition === \"true\") {\n          condition = true;\n        } else if (condition === \"false\") {\n          condition = false;\n        }\n        config.condition = condition;\n\n        var addresses = cv.parser.WidgetParser.makeAddressList(addressContainer);\n        // addresses\n        Object.getOwnPropertyNames(addresses).forEach(function(address) {\n          if (!stateConfig.hasOwnProperty(address)) {\n            stateConfig[address] = [];\n          }\n          var addressConfig = Object.assign({}, config);\n          addressConfig.addressConfig = addresses[address];\n          stateConfig[address].push(addressConfig);\n        });\n      });\n      cv.core.notifications.Router.getInstance().registerStateUpdateHandler(stateConfig);\n    },\n\n    /**\n     * Parses meta template definitions and add them to the WidgetParser\n     * @param xml {HTMLElement}\n     */\n    parseTemplates: function (xml, done) {\n      var __loadQueue = new qx.data.Array();\n\n      var check = function () {\n        if (__loadQueue.length === 0 && done) {\n          done();\n        }\n      };\n      var templates = xml.querySelectorAll('meta > templates template');\n      if (templates.length === 0) {\n        done();\n      } else {\n        templates.forEach(function (elem) {\n          var templateName = elem.getAttribute('name');\n          qx.log.Logger.debug(this, 'loading template:', templateName);\n          var ref = elem.getAttribute('ref');\n          if (ref) {\n            // load template fom external file\n            var areq = new qx.io.request.Xhr(ref);\n            __loadQueue.push(ref);\n            qx.log.Logger.debug(this, 'loading template from file:', ref);\n            areq.set({\n              accept: \"text/plain\",\n              cache: !cv.Config.forceReload\n            });\n\n            areq.addListenerOnce(\"success\", function (e) {\n              var req = e.getTarget();\n              cv.parser.WidgetParser.addTemplate(\n                templateName,\n                // templates can only have one single root element, so we wrap it here\n                '<root>' + req.getResponseText() + '</root>'\n              );\n              __loadQueue.remove(areq.getUrl());\n              qx.log.Logger.debug(this, 'DONE loading template from file:', ref);\n              check();\n            }, this);\n            areq.addListener(\"statusError\", function () {\n              var message = {\n                topic: \"cv.config.error\",\n                title: qx.locale.Manager.tr(\"Template loading error\"),\n                severity: \"urgent\",\n                deletable: true,\n                message: qx.locale.Manager.tr(\"Template '%1' could not be loaded from '%2'.\", templateName, ref)\n              };\n              cv.core.notifications.Router.dispatchMessage(message.topic, message);\n            }, this);\n            areq.send();\n          } else {\n            var cleaned = elem.innerHTML.replace(/\\n\\s*/g, '').trim();\n            cv.parser.WidgetParser.addTemplate(\n              templateName,\n              // templates can only have one single root element, so we wrap it here\n              '<root>' + cleaned + '</root>'\n            );\n          }\n        }, this);\n        check();\n      }\n    }\n  }\n});\n"
  ]
}