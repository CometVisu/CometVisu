{
  "version": 3,
  "sources": [
    "/home/travis/build/CometVisu/CometVisu/node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/core/Id.js"
  ],
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "extend",
    "core",
    "Object",
    "type",
    "members",
    "__registeredObjects",
    "__registeredIdHashes",
    "_createQxObject",
    "id",
    "result",
    "_createQxObjectImpl",
    "obj",
    "undefined",
    "Init",
    "getApplication",
    "getAbsoluteIdOf",
    "suppressWarnings",
    "toHashCode",
    "getQxObjectId",
    "segs",
    "application",
    "error",
    "join",
    "unshift",
    "owner",
    "getQxOwner",
    "ownerId",
    "path",
    "register",
    "_cascadeQxObjectIdChanges",
    "unregister",
    "data",
    "hash",
    "getRegisteredObjects",
    "statics",
    "getQxObject",
    "getInstance",
    "Id"
  ],
  "mappings": "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",
  "sourcesContent": [
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2017 Zenesis Limited, http://www.zenesis.com\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * John Spackman (john.spackman@zenesis.com, @johnspackman)\n\n************************************************************************ */\n\n/**\n * Provides a registry of top level objects\n */\nqx.Class.define(\"qx.core.Id\", {\n  extend: qx.core.Object,\n  type: \"singleton\",\n\n  members: {\n\n    __registeredObjects: null,\n    __registeredIdHashes: null,\n\n    /*\n     * @Override\n     */\n    _createQxObject: function(id) {\n      // Create the object, but don't add it to the list of owned objects\n      var result = this._createQxObjectImpl(id);\n      return result;\n    },\n\n    /*\n     * @Override\n     */\n    _createQxObjectImpl: function(id) {\n      if (this.__registeredObjects) {\n        var obj = this.__registeredObjects[id];\n        if (obj !== undefined) {\n          return obj;\n        }\n      }\n\n      switch(id) {\n        case \"application\":\n          return qx.core.Init.getApplication() || undefined;\n      }\n\n      return undefined;\n    },\n\n    /**\n     * Returns an object path which can be used to locate an object anywhere in the application\n     * with a call to `qx.core.Id.getQxObject()`.\n     *\n     * This will return null if it is not possible to calculate a path because one of the\n     * ancestors has a null `qxObjectId`.\n     *\n     * This will also return null if the top-most ancestor is not one of the globals registered\n     * with `registerObject` or a known global (such as the application); however, by passing\n     * `true` as the `suppressWarnings` parameter, this will prevent errors from appearing in\n     * the console when this happens\n     *\n     * @param obj {qx.core.Object} the object\n     * @param suppressWarnings {Boolean?} default: false; silently returns null if an ID cannot be created\n     * @return {String} full path to the object\n     */\n    getAbsoluteIdOf: function(obj, suppressWarnings) {\n      if (this.__registeredIdHashes && this.__registeredIdHashes[obj.toHashCode()]) {\n        return obj.getQxObjectId();\n      }\n      var segs = [];\n      var application = qx.core.Init.getApplication();\n      while (obj) {\n        var id = obj.getQxObjectId();\n        if (!id) {\n          if (!suppressWarnings) {\n            this.error(\"Cannot determine an absolute Object ID because one of the ancestor ObjectID's is null (got as far as \" + segs.join('/') + \")\");\n          }\n          return null;\n        }\n        segs.unshift(id);\n        var owner = obj.getQxOwner();\n        if (owner) {\n          // Find the ID of the owner, *if* it is registered as a top level object\n          var ownerId = null;\n          if (owner === application) {\n            ownerId = \"application\";\n          } else {\n            ownerId = this.__registeredIdHashes && this.__registeredIdHashes[owner.toHashCode()] || null;\n          }\n\n          // When we have found the ID of a top level object, add it to the path and stop\n          if (ownerId) {\n            segs.unshift(ownerId);\n            break;\n          }\n        } else {\n          if (!suppressWarnings) {\n            this.error(\"Cannot determine a global absolute Object ID because the topmost object is not registered\");\n          }\n          return null;\n        }\n        obj = owner;\n      }\n      var path = segs.join(\"/\");\n      return path;\n    },\n\n    /**\n     * Registers an object with an ID; as this is registering a global object which is the root of a tree\n     * of objects with IDs, the `id` parameter can be provided to set the ID used for the root object - this\n     * allows an object to be registered under a well known, common name without affecting the API of the\n     * object.\n     *\n     * @param obj {qx.core.Object} the object to register\n     * @param id {String?} the ID to register the object under, otherwise the object's own Object Id is used\n     */\n    register: function(obj, id) {\n      if (!this.__registeredObjects) {\n        this.__registeredObjects = {};\n        this.__registeredIdHashes = {};\n      }\n      if (!id) {\n        id = obj.getQxObjectId();\n      }\n      this.__registeredObjects[id] = obj;\n      this.__registeredIdHashes[obj.toHashCode()] = id;\n      obj._cascadeQxObjectIdChanges();\n    },\n\n    /**\n     * Unregisters a previously registered object with an ID\n     *\n     * @param data {Object|String} the object to unregister, or the ID of the object\n     * @return {Boolean} whether there was an object to unregister\n     */\n    unregister: function(data) {\n      if (!this.__registeredObjects) {\n        return false;\n      }\n\n      var id;\n      if (typeof data == \"string\") {\n        id = data;\n      } else {\n        var hash = data.toHashCode();\n        id = this.__registeredIdHashes[hash];\n        if (!id) {\n          return false;\n        }\n      }\n\n      var obj = this.__registeredObjects[id];\n      if (obj) {\n        delete this.__registeredObjects[id];\n        delete this.__registeredIdHashes[obj.toHashCode()];\n        obj._cascadeQxObjectIdChanges();\n        return true;\n      }\n\n      return false;\n    },\n\n    /**\n     * Returns a map of the objects that have been registered as id roots, with\n     * the topmost part of the ID as key.\n     * @return {Object}\n     */\n    getRegisteredObjects: function() {\n      return this.__registeredObjects;\n    }\n  },\n\n  statics: {\n\n    /**\n     * Returns a top level instance\n     *\n     * @param id {String} the ID to look for\n     * @return {qx.core.Object?} the object\n     */\n    getQxObject: function(id) {\n      return this.getInstance().getQxObject(id);\n    },\n\n    /**\n     * Helper for `qx.core.Id.getAbsoluteIdOf`\n     *\n     * @param obj {qx.core.Object} the object\n     * @param suppressWarnings {Boolean?} default: false; silently returns null if an ID cannot be created\n     * @return {String} full path to the object\n     */\n    getAbsoluteIdOf: function(obj, suppressWarnings) {\n      return this.getInstance().getAbsoluteIdOf(obj, suppressWarnings);\n    }\n  }\n});\n"
  ]
}