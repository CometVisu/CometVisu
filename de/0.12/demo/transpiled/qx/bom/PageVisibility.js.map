{
  "version": 3,
  "sources": [
    "/home/travis/build/CometVisu/CometVisu/node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/bom/PageVisibility.js"
  ],
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "define",
    "extend",
    "event",
    "Emitter",
    "statics",
    "getInstance",
    "$$instance",
    "bom",
    "PageVisibility",
    "construct",
    "document",
    "__doc",
    "window",
    "__checkAttributeNames",
    "self",
    "Event",
    "addNativeListener",
    "__eventName",
    "e",
    "emit",
    "events",
    "members",
    "__hiddenAttr",
    "__visibilityAttr",
    "prefix",
    "Style",
    "VENDOR_PREFIXES",
    "i",
    "length",
    "attr",
    "toLowerCase",
    "undefined",
    "isHidden",
    "getVisibilityState"
  ],
  "mappings": "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",
  "sourcesContent": [
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2012 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Martin Wittemann (wittemann)\n\n************************************************************************ */\n/**\n * This class offers a constant API over the Page Visibility Spec:\n * http://www.w3.org/TR/page-visibility/\n *\n * It forwards all the browsers support and provides always a fallback which is\n * of course visible all the time.\n */\nqx.Bootstrap.define(\"qx.bom.PageVisibility\",\n{\n  extend : qx.event.Emitter,\n\n  statics : {\n    /**\n     * Get an instance of the PageVisibility object using the default document.\n     * @return {qx.bom.PageVisibility} An instance of this class.\n     */\n    getInstance : function() {\n      if (!this.$$instance) {\n        this.$$instance = new qx.bom.PageVisibility();\n      }\n      return this.$$instance;\n    }\n  },\n\n\n  /**\n   * @param document {document?} Optional document element.\n   */\n  construct : function(document) {\n    this.__doc = document || window.document;\n\n    this.__checkAttributeNames();\n\n    var self = this;\n    // forward the event\n    qx.bom.Event.addNativeListener(this.__doc, this.__eventName, function(e) {\n      self.emit(\"change\", e);\n    });\n  },\n\n  events : {\n    /**\n     * The change event for the page visibility.\n     */\n    \"change\" : \"Event\"\n  },\n\n  members :\n  {\n    __doc : null,\n    __hiddenAttr : null,\n    __visibilityAttr : null,\n    __eventName : null,\n\n\n    /**\n     * Internal helper to feature check the attribute names and the event name.\n     * As the event can not be detected using the on<name> attribute, we need\n     * to guess the event name by checking for the hidden attribute.\n     */\n    __checkAttributeNames : function() {\n      var prefix = qx.bom.Style.VENDOR_PREFIXES;\n\n      // check for the hidden attribute name\n      for (var i=0; i < prefix.length; i++) {\n        var attr = prefix[i].toLowerCase() + \"Hidden\";\n        if (this.__doc[attr] != undefined) {\n          this.__hiddenAttr = attr;\n          // also use the same prefix for the event name\n          this.__eventName = prefix[i].toLowerCase() + \"visibilitychange\";\n          break;\n        }\n      };\n\n      // check for the visibilityState attribute name\n      for (var i=0; i < prefix.length; i++) {\n        var attr = prefix[i].toLowerCase() + \"VisibilityState\";\n        if (this.__doc[attr] != undefined) {\n          this.__visibilityAttr = attr;\n          break;\n        }\n      };\n\n      // use the non prefixed if not supported prefixed\n      if (this.__hiddenAttr == null) {\n        this.__hiddenAttr = \"hidden\";\n        this.__eventName = \"visibilitychange\";\n      }\n      if (this.__visibilityAttr == null) {\n        this.__visibilityAttr = \"visibilityState\";\n      }\n    },\n\n\n    /**\n     * Returns weather the page is hidden or not. If we can not detect it,\n     * <code>false</code> will always be returned.\n     *\n     * @return {Boolean} <code>true</code>, if the page is hidden\n     */\n    isHidden : function() {\n      return !!this.__doc[this.__hiddenAttr];\n    },\n\n\n    /**\n     * Returns the visibility state of the page. If we can not detect it,\n     * <code>\"visible\"</code> will always be returned.\n     *\n     * @return {String} The state of the page visibility.\n     */\n    getVisibilityState : function() {\n      return this.__doc[this.__visibilityAttr] || \"visible\";\n    }\n  }\n});"
  ]
}