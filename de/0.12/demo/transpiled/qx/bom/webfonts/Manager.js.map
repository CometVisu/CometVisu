{
  "version": 3,
  "sources": [
    "/home/travis/build/CometVisu/CometVisu/node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/bom/webfonts/Manager.js"
  ],
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "extend",
    "core",
    "Object",
    "type",
    "construct",
    "__createdStyles",
    "__validators",
    "__queue",
    "__preferredFormats",
    "getPreferredFormats",
    "statics",
    "FONT_FORMATS",
    "VALIDATION_TIMEOUT",
    "members",
    "__styleSheet",
    "__queueInterval",
    "require",
    "familyName",
    "sourcesList",
    "callback",
    "context",
    "sourceUrls",
    "source",
    "comparisonString",
    "version",
    "fontWeight",
    "fontStyle",
    "sources",
    "i",
    "l",
    "length",
    "split",
    "src",
    "util",
    "ResourceManager",
    "getInstance",
    "toUri",
    "push",
    "Environment",
    "get",
    "parseInt",
    "event",
    "Timer",
    "addListener",
    "__flushQueue",
    "isEnabled",
    "start",
    "__require",
    "remove",
    "fontLookupKey",
    "__createFontLookupKey",
    "index",
    "__removeRule",
    "lang",
    "Array",
    "removeAt",
    "dispose",
    "preferredFormats",
    "browser",
    "browserVersion",
    "os",
    "osVersion",
    "removeStyleSheet",
    "bom",
    "Stylesheet",
    "removeSheet",
    "lookupKey",
    "includes",
    "sourcesMap",
    "__getSourcesMap",
    "rule",
    "__getRule",
    "Error",
    "createElement",
    "__addRule",
    "ex",
    "webfonts",
    "Validator",
    "setTimeout",
    "Manager",
    "addListenerOnce",
    "__onFontChangeStatus",
    "cbContext",
    "window",
    "validate",
    "stop",
    "next",
    "shift",
    "apply",
    "ev",
    "result",
    "getData",
    "valid",
    "once",
    "family",
    "formats",
    "reg",
    "RegExp",
    "join",
    "match",
    "exec",
    "rules",
    "formatList",
    "format",
    "__getSourceForFormat",
    "url",
    "completeRule",
    "cssText",
    "__fixCssText",
    "insertRule",
    "cssRules",
    "regtext",
    "document",
    "styleSheets",
    "sheet",
    "replace",
    "j",
    "m",
    "deleteRule",
    "destruct",
    "prop",
    "removeDefaultHelperElements"
  ],
  "mappings": "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",
  "sourcesContent": [
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2011 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n************************************************************************ */\n\n/**\n * Manages font-face definitions, making sure that each rule is only applied\n * once. It supports adding fonts of the same family but with different style\n * and weight. For instance, the following declaration uses 4 different source\n * files and combine them in a single font family.\n *\n * <pre class='javascript'>\n *   sources: [\n *     {\n *       family: \"Sansation\",\n *       source: [\n *         \"fonts/Sansation-Regular.ttf\"\n *       ]\n *     },\n *     {\n *       family: \"Sansation\",\n *       fontWeight: \"bold\",\n *       source: [\n *         \"fonts/Sansation-Bold.ttf\",\n *       ]\n *     },\n *     {\n *       family: \"Sansation\",\n *       fontStyle: \"italic\",\n *       source: [\n *         \"fonts/Sansation-Italic.ttf\",\n *       ]\n *     },\n *     {\n *       family: \"Sansation\",\n *       fontWeight: \"bold\",\n *       fontStyle: \"italic\",\n *       source: [\n *         \"fonts/Sansation-BoldItalic.ttf\",\n *       ]\n *     }\n *   ]\n * </pre>\n * \n * This class does not need to be disposed, except when you want to abort the loading\n * and validation process.\n */\nqx.Class.define(\"qx.bom.webfonts.Manager\", {\n\n  extend : qx.core.Object,\n\n  type : \"singleton\",\n\n\n  /*\n  *****************************************************************************\n     CONSTRUCTOR\n  *****************************************************************************\n  */\n\n  construct : function()\n  {\n    this.base(arguments);\n    this.__createdStyles = [];\n    this.__validators = {};\n    this.__queue = [];\n    this.__preferredFormats = this.getPreferredFormats();\n  },\n\n\n\n  /*\n  *****************************************************************************\n     STATICS\n  *****************************************************************************\n  */\n\n  statics :\n  {\n    /**\n     * List of known font definition formats (i.e. file extensions). Used to\n     * identify the type of each font file configured for a web font.\n     */\n    FONT_FORMATS : [\"eot\", \"woff2\", \"woff\", \"ttf\", \"svg\"],\n\n    /**\n     * Timeout (in ms) to wait before deciding that a web font was not loaded.\n     */\n    VALIDATION_TIMEOUT : 5000\n  },\n\n\n\n  /*\n  *****************************************************************************\n     MEMBERS\n  *****************************************************************************\n  */\n\n  members :\n  {\n    __createdStyles : null,\n    __styleSheet : null,\n    __validators : null,\n    __preferredFormats : null,\n    __queue : null,\n    __queueInterval : null,\n\n\n    /*\n    ---------------------------------------------------------------------------\n      PUBLIC API\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Adds the necessary font-face rule for a web font to the document. Also\n     * creates a web font Validator ({@link qx.bom.webfonts.Validator}) that\n     * checks if the webFont was applied correctly.\n     *\n     * @param familyName {String} Name of the web font\n     * @param sourcesList {Object} List of source URLs along with their style\n     * (e.g. fontStyle: \"italic\") and weight (e.g. fontWeight: \"bold\").\n     * For maximum compatibility, this should include EOT, WOFF and TTF versions\n     * of the font.\n     * @param callback {Function?} Optional event listener callback that will be\n     * executed once the validator has determined whether the webFont was\n     * applied correctly.\n     * See {@link qx.bom.webfonts.Validator#changeStatus}\n     * @param context {Object?} Optional context for the callback function\n     */\n    require : function(familyName, sourcesList, callback, context)\n    {\n      var sourceUrls = sourcesList.source;\n      var comparisonString = sourcesList.comparisonString;\n      var version = sourcesList.version;\n      var fontWeight = sourcesList.fontWeight;\n      var fontStyle = sourcesList.fontStyle;\n      var sources = [];\n      for (var i=0,l=sourceUrls.length; i<l; i++) {\n        var split = sourceUrls[i].split(\"#\");\n        var src = qx.util.ResourceManager.getInstance().toUri(split[0]);\n        if (split.length > 1) {\n          src = src + \"#\" + split[1];\n        }\n        sources.push(src);\n      }\n\n      // old IEs need a break in between adding @font-face rules\n      if (qx.core.Environment.get(\"engine.name\") == \"mshtml\" && (\n          parseInt(qx.core.Environment.get(\"engine.version\")) < 9 ||\n          qx.core.Environment.get(\"browser.documentmode\") < 9)) {\n        if (!this.__queueInterval) {\n          this.__queueInterval = new qx.event.Timer(100);\n          this.__queueInterval.addListener(\"interval\", this.__flushQueue, this);\n        }\n\n        if (!this.__queueInterval.isEnabled()) {\n          this.__queueInterval.start();\n        }\n\n        this.__queue.push([familyName, sources, fontWeight, fontStyle, comparisonString, version, callback, context]);\n      } else {\n        this.__require(familyName, sources, fontWeight, fontStyle, comparisonString, version, callback, context);\n      }\n    },\n\n\n    /**\n     * Removes a font's font-face definition from the style sheet. This means\n     * the font will no longer be available and any elements using it will\n     * fall back to the their regular font-families.\n     *\n     * @param familyName {String} font-family name\n     * @param fontWeight {String} the font-weight.\n     * @param fontStyle {String} the font-style.\n     */\n    remove : function(familyName, fontWeight, fontStyle) {\n      var fontLookupKey = this.__createFontLookupKey(familyName, fontWeight, fontStyle);\n      var index = null;\n      for (var i=0,l=this.__createdStyles.length; i<l; i++) {\n        if (this.__createdStyles[i] == fontLookupKey) {\n          index = i;\n          this.__removeRule(familyName, fontWeight, fontStyle);\n          break;\n        }\n      }\n      if (index !== null) {\n        qx.lang.Array.removeAt(this.__createdStyles, index);\n      }\n      if (familyName in this.__validators) {\n        this.__validators[familyName].dispose();\n        delete this.__validators[familyName];\n      }\n    },\n\n\n    /**\n     * Returns the preferred font format(s) for the currently used browser. Some\n     * browsers support multiple formats, e.g. WOFF and TTF or WOFF and EOT. In\n     * those cases, WOFF is considered the preferred format.\n     *\n     * @return {String[]} List of supported font formats ordered by preference\n     * or empty Array if none could be determined\n     */\n    getPreferredFormats : function()\n    {\n      var preferredFormats = [];\n      var browser = qx.core.Environment.get(\"browser.name\");\n      var browserVersion = qx.core.Environment.get(\"browser.version\");\n      var os = qx.core.Environment.get(\"os.name\");\n      var osVersion = qx.core.Environment.get(\"os.version\");\n\n      if ((browser == \"edge\" && browserVersion >= 14) ||\n          (browser == \"firefox\" && browserVersion >= 69) ||\n          (browser == \"chrome\" && browserVersion >= 36)) {\n        preferredFormats.push(\"woff2\");\n      }\n\n      if ((browser == \"ie\" && qx.core.Environment.get(\"browser.documentmode\") >= 9) ||\n          (browser == \"edge\" && browserVersion >= 12) ||\n          (browser == \"firefox\" && browserVersion >= 3.6) ||\n          (browser == \"chrome\" && browserVersion >= 6)) {\n        preferredFormats.push(\"woff\");\n      }\n\n      if ((browser == \"edge\" && browserVersion >= 12) ||\n          (browser == \"opera\" && browserVersion >= 10) ||\n          (browser == \"safari\" && browserVersion >= 3.1) ||\n          (browser == \"firefox\" && browserVersion >= 3.5) ||\n          (browser == \"chrome\" && browserVersion >= 4) ||\n          (browser == \"mobile safari\" && os == \"ios\" && osVersion >= 4.2)) {\n        preferredFormats.push(\"ttf\");\n      }\n\n      if (browser == \"ie\" && browserVersion >= 4) {\n        preferredFormats.push(\"eot\");\n      }\n\n      if (browser == \"mobileSafari\" && os == \"ios\" && osVersion >= 4.1) {\n        preferredFormats.push(\"svg\");\n      }\n\n      return preferredFormats;\n    },\n\n\n    /**\n     * Removes the styleSheet element used for all web font definitions from the\n     * document. This means all web fonts declared by the manager will no longer\n     * be available and elements using them will fall back to their regular\n     * font-families\n     */\n    removeStyleSheet : function()\n    {\n      this.__createdStyles = [];\n      if (this.__styleSheet) {\n        qx.bom.Stylesheet.removeSheet(this.__styleSheet);\n      }\n      this.__styleSheet = null;\n    },\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      PRIVATE API\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Creates a lookup key to index the created fonts.\n     * @param familyName {String} font-family name\n     * @param fontWeight {String} the font-weight.\n     * @param fontStyle {String} the font-style.\n     * @return {string} the font lookup key\n     */\n    __createFontLookupKey: function (familyName, fontWeight, fontStyle) {\n      var lookupKey = familyName + \"_\" + (fontWeight ? fontWeight : \"normal\") + \"_\" + (fontStyle ? fontStyle : \"normal\");\n      return lookupKey;\n    },\n\n    /**\n     * Does the actual work of adding stylesheet rules and triggering font\n     * validation\n     *\n     * @param familyName {String} Name of the web font\n     * @param sources {String[]} List of source URLs. For maximum compatibility,\n     * this should include EOT, WOFF and TTF versions of the font.\n     * @param fontWeight {String} the web font should be registered using a\n     * fontWeight font weight.\n     * @param fontStyle {String} the web font should be registered using an\n     * fontStyle font style.\n     * @param comparisonString {String} String to check whether the font has loaded or not\n     * @param version {String?} Optional version that is appended to the font URL to be able to override caching\n     * @param callback {Function?} Optional event listener callback that will be\n     * executed once the validator has determined whether the webFont was\n     * applied correctly.\n     * @param context {Object?} Optional context for the callback function\n     */\n    __require : function(familyName, sources, fontWeight, fontStyle, comparisonString, version, callback, context)\n    {\n      var fontLookupKey = this.__createFontLookupKey(familyName, fontWeight, fontStyle);\n      if (!this.__createdStyles.includes(fontLookupKey)) {\n        var sourcesMap = this.__getSourcesMap(sources);\n        var rule = this.__getRule(familyName, fontWeight, fontStyle, sourcesMap, version);\n\n        if (!rule) {\n          throw new Error(\"Couldn't create @font-face rule for WebFont \" + familyName + \"!\");\n        }\n\n        if (!this.__styleSheet) {\n          this.__styleSheet = qx.bom.Stylesheet.createElement();\n        }\n\n        try {\n          this.__addRule(rule);\n        }\n        catch(ex) {\n          if (qx.core.Environment.get(\"qx.debug\")) {\n            this.warn(\"Error while adding @font-face rule:\", ex.message);\n            return;\n          }\n        }\n        this.__createdStyles.push(fontLookupKey);\n      }\n\n      if (!this.__validators[familyName]) {\n        this.__validators[familyName] = new qx.bom.webfonts.Validator(familyName, comparisonString);\n        this.__validators[familyName].setTimeout(qx.bom.webfonts.Manager.VALIDATION_TIMEOUT);\n        this.__validators[familyName].addListenerOnce(\"changeStatus\", this.__onFontChangeStatus, this);\n      }\n\n      if (callback) {\n        var cbContext = context || window;\n        this.__validators[familyName].addListenerOnce(\"changeStatus\", callback, cbContext);\n      }\n\n      this.__validators[familyName].validate();\n    },\n\n\n    /**\n     * Processes the next item in the queue\n     */\n    __flushQueue : function()\n    {\n      if (this.__queue.length == 0) {\n        this.__queueInterval.stop();\n        return;\n      }\n      var next = this.__queue.shift();\n      this.__require.apply(this, next);\n    },\n\n\n    /**\n     * Removes the font-face declaration if a font could not be validated\n     *\n     * @param ev {qx.event.type.Data} qx.bom.webfonts.Validator#changeStatus\n     */\n    __onFontChangeStatus : function(ev)\n    {\n      var result = ev.getData();\n      if (result.valid === false) {\n        qx.event.Timer.once(function() {\n          this.remove(result.family);\n        }, this, 250);\n      }\n    },\n\n\n    /**\n     * Uses a naive regExp match to determine the format of each defined source\n     * file for a webFont. Returns a map with the format names as keys and the\n     * corresponding source URLs as values.\n     *\n     * @param sources {String[]} Array of source URLs\n     * @return {Map} Map of formats and URLs\n     */\n    __getSourcesMap : function(sources)\n    {\n      var formats = qx.bom.webfonts.Manager.FONT_FORMATS;\n      var sourcesMap = {};\n      var reg = new RegExp(\"\\.(\" + formats.join(\"|\") + \")\");\n      for (var i=0, l=sources.length; i<l; i++) {\n        var match = reg.exec(sources[i]);\n        if (match) {\n          var type = match[1];\n          sourcesMap[type] = sources[i];\n        }\n      }\n      return sourcesMap;\n    },\n\n\n    /**\n     * Assembles the body of a font-face rule for a single webFont.\n     *\n     * @param familyName {String} Font-family name\n     * @param fontWeight {String} the web font should be registered using a\n     * fontWeight font weight.\n     * @param fontStyle {String} the web font should be registered using an\n     * fontStyle font style.\n     * @param sourcesMap {Map} Map of font formats and sources\n     * @param version {String?} Optional version to be appended to the URL\n     * @return {String} The computed CSS rule\n     */\n    __getRule : function(familyName, fontWeight, fontStyle, sourcesMap, version)\n    {\n      var rules = [];\n\n      var formatList = this.__preferredFormats.length > 0\n        ? this.__preferredFormats : qx.bom.webfonts.Manager.FONT_FORMATS;\n\n      for (var i=0,l=formatList.length; i<l; i++) {\n        var format = formatList[i];\n        if (sourcesMap[format]) {\n          rules.push(this.__getSourceForFormat(format, sourcesMap[format], version));\n        }\n      }\n\n      var rule = \"src: \" + rules.join(\",\\n\") + \";\";\n\n      rule = \"font-family: \" + familyName + \";\\n\" + rule;\n      rule = rule + \"\\nfont-style: \" + (fontStyle ? fontStyle : \"normal\") + \";\";\n      rule = rule + \"\\nfont-weight: \" + (fontWeight ? fontWeight : \"normal\") + \";\";\n\n      return rule;\n    },\n\n\n    /**\n     * Returns the full src value for a given font URL depending on the type\n\n     * @param format {String} The font format, one of eot, woff2, woff, ttf, svg\n     * @param url {String} The font file's URL\n     * @param version {String?} Optional version to be appended to the URL\n     * @return {String} The src directive\n     */\n    __getSourceForFormat : function(format, url, version)\n    {\n      if (version) {\n        url += \"?\" + version;\n      }\n\n      switch(format) {\n        case \"eot\": return \"url('\" + url + \"');\" +\n          \"src: url('\" + url + \"?#iefix') format('embedded-opentype')\";\n        case \"woff2\":\n          return \"url('\" + url + \"') format('woff2')\";\n        case \"woff\":\n          return \"url('\" + url + \"') format('woff')\";\n        case \"ttf\":\n          return \"url('\" + url + \"') format('truetype')\";\n        case \"svg\":\n          return \"url('\" + url + \"') format('svg')\";\n        default:\n          return null;\n      }\n    },\n\n\n    /**\n     * Adds a font-face rule to the document\n     *\n     * @param rule {String} The body of the CSS rule\n     */\n    __addRule : function(rule)\n    {\n      var completeRule = \"@font-face {\" + rule + \"}\\n\";\n\n      if (qx.core.Environment.get(\"browser.name\") == \"ie\" &&\n          qx.core.Environment.get(\"browser.documentmode\") < 9) {\n        var cssText = this.__fixCssText(this.__styleSheet.cssText);\n        cssText += completeRule;\n        this.__styleSheet.cssText = cssText;\n      }\n      else {\n        this.__styleSheet.insertRule(completeRule, this.__styleSheet.cssRules.length);\n      }\n    },\n\n\n    /**\n     * Removes the font-face declaration for the given font-family from the\n     * stylesheet\n     *\n     * @param familyName {String} The font-family name\n     * @param fontWeight {String} fontWeight font-weight.\n     * @param fontStyle {String} fontStyle font-style.\n     */\n    __removeRule : function(familyName, fontWeight, fontStyle)\n    {\n      // In IE and edge even if the rule was added with font-style first\n      // and font-weight second, it is not guaranteed that the attributes\n      // remain in that order. Therefore we check for both version,\n      // style first, weight second and weight first, style second.\n      // Without this fix the rule isn't found and removed reliable. \n      var regtext = \n        \"@font-face.*?\" + familyName + \n        \"(.*font-style: *\" + (fontStyle ? fontStyle : \"normal\") + \n        \".*font-weight: *\" + (fontWeight ? fontWeight : \"normal\")+\")|\" +\n        \"(.*font-weight: *\" + (fontWeight ? fontWeight : \"normal\") + \n        \".*font-style: *\" + (fontStyle ? fontStyle : \"normal\")+\")\"\n        ;\n      var reg = new RegExp(regtext, \"m\");\n      for (var i=0,l=document.styleSheets.length; i<l; i++) {\n        var sheet = document.styleSheets[i];\n        if (sheet.cssText) {\n          var cssText = sheet.cssText.replace(/\\n/g, \"\").replace(/\\r/g, \"\");\n          cssText = this.__fixCssText(cssText);\n          if (reg.exec(cssText)) {\n            cssText = cssText.replace(reg, \"\");\n          }\n          sheet.cssText = cssText;\n        }\n        else if (sheet.cssRules) {\n          for (var j=0,m=sheet.cssRules.length; j<m; j++) {\n            var cssText = sheet.cssRules[j].cssText.replace(/\\n/g, \"\").replace(/\\r/g, \"\");\n            if (reg.exec(cssText)) {\n              this.__styleSheet.deleteRule(j);\n              return;\n            }\n          }\n        }\n      }\n    },\n\n    /**\n     * IE 6 and 7 omit the trailing quote after the format name when\n     * querying cssText. This needs to be fixed before cssText is replaced\n     * or all rules will be invalid and no web fonts will work any more.\n     *\n     * @param cssText {String} CSS text\n     * @return {String} Fixed CSS text\n     */\n    __fixCssText : function(cssText)\n    {\n      return cssText.replace(\"'eot)\", \"'eot')\")\n        .replace(\"('embedded-opentype)\", \"('embedded-opentype')\");\n    }\n\n  },\n\n  /*\n  *****************************************************************************\n    DESTRUCTOR\n  *****************************************************************************\n  */\n\n  destruct : function()\n  {\n    if (this.__queueInterval) {\n      this.__queueInterval.stop();\n      this.__queueInterval.dispose();\n    }\n    delete this.__createdStyles;\n    this.removeStyleSheet();\n    for (var prop in this.__validators) {\n      this.__validators[prop].dispose();\n    }\n    qx.bom.webfonts.Validator.removeDefaultHelperElements();\n  }\n});\n"
  ]
}