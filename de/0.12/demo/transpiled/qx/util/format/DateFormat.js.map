{
  "version": 3,
  "sources": [
    "/home/travis/build/CometVisu/CometVisu/node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/util/format/DateFormat.js"
  ],
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "extend",
    "core",
    "Object",
    "implement",
    "util",
    "format",
    "IFormat",
    "construct",
    "locale",
    "__initialLocale",
    "__locale",
    "__format",
    "toString",
    "DateFormat",
    "ISO_MASKS",
    "__UTC",
    "Date",
    "getDateFormat",
    "getLocale",
    "getDateTimeFormat",
    "statics",
    "getDateInstance",
    "_dateInstance",
    "getDateTimeInstance",
    "_dateTimeInstance",
    "ASSUME_YEAR_2000_THRESHOLD",
    "isoDate",
    "isoTime",
    "isoDateTime",
    "isoUtcDateTime",
    "AM_MARKER",
    "PM_MARKER",
    "members",
    "__parseFeed",
    "__parseRules",
    "__formatTree",
    "__fillNumber",
    "number",
    "minSize",
    "str",
    "length",
    "__getDayInYear",
    "date",
    "helpDate",
    "getTime",
    "day",
    "getDate",
    "getMonth",
    "setDate",
    "__thursdayOfSameWeek",
    "getDay",
    "__getWeekInYear",
    "thursdayDate",
    "weekYear",
    "getFullYear",
    "thursdayWeek1",
    "Math",
    "floor",
    "__getWeekInMonth",
    "__getWeekYear",
    "__isLeapYear",
    "year",
    "februaryDate",
    "__getMonthAndDayFromDayOfYear",
    "dayOfYear",
    "month",
    "dayCounter",
    "i",
    "tempDate",
    "days",
    "__getYearFromWeekYearAndMonth",
    "dayOfMonth",
    "setLocale",
    "value",
    "Error",
    "resetLocale",
    "undefined",
    "Manager",
    "getInstance",
    "isNaN",
    "getUTCFullYear",
    "getUTCMonth",
    "getUTCDate",
    "getUTCHours",
    "getUTCMinutes",
    "getUTCSeconds",
    "getUTCMilliseconds",
    "fullYear",
    "dayOfWeek",
    "hours",
    "getHours",
    "minutes",
    "getMinutes",
    "seconds",
    "getSeconds",
    "ms",
    "getMilliseconds",
    "timezoneOffset",
    "getTimezoneOffset",
    "timezoneSign",
    "timezoneHours",
    "abs",
    "timezoneMinutes",
    "__initFormatTree",
    "output",
    "currAtom",
    "type",
    "text",
    "wildcardChar",
    "character",
    "wildcardSize",
    "size",
    "replacement",
    "j",
    "replace",
    "indexOf",
    "parseInt",
    "getDayName",
    "startOfWeek",
    "getWeekStart",
    "localeDayOfWeek",
    "getMonthName",
    "getAmMarker",
    "getPmMarker",
    "substr",
    "parse",
    "dateStr",
    "__initParseFeed",
    "hit",
    "regex",
    "exec",
    "dateValues",
    "era",
    "quarter",
    "hour",
    "ispm",
    "weekDay",
    "weekOfMonth",
    "weekOfYear",
    "min",
    "sec",
    "currGroup",
    "applyWeekYearAfterRule",
    "applyDayOfYearAfterRule",
    "usedRules",
    "rule",
    "field",
    "manipulator",
    "pattern",
    "yearRuleApplied",
    "k",
    "dayRuleApplied",
    "groups",
    "dayAndMonth",
    "currWildcardChar",
    "currWildcardSize",
    "currLiteral",
    "state",
    "currChar",
    "charAt",
    "lookAhead",
    "push",
    "__initParseRules",
    "atomIdx",
    "lang",
    "String",
    "escapeRegexpChars",
    "wildcardRule",
    "ruleIdx",
    "__isRuleForWildcard",
    "wildcardStr",
    "RegExp",
    "exc",
    "regexFunc",
    "LString",
    "rules",
    "amMarker",
    "pmMarker",
    "yearManipulator",
    "weekYearManipulator",
    "monthManipulator",
    "localWeekDayManipulator",
    "ampmManipulator",
    "noZeroHourManipulator",
    "noZeroAmPmHourManipulator",
    "ignoreManipulator",
    "narrowEraNames",
    "narrowEraNameManipulator",
    "abbrevEraNames",
    "abbrevEraNameManipulator",
    "fullEraNames",
    "fullEraNameManipulator",
    "abbrevQuarterNames",
    "abbrevQuarterManipulator",
    "fullQuarterNames",
    "fullQuarterManipulator",
    "cache",
    "dateNamesManipulator",
    "monthPatternLetters",
    "dayPatternLetters",
    "firstLetterInPattern",
    "isMonth",
    "getContext",
    "letters",
    "context",
    "patternLength",
    "lengthName",
    "func",
    "getMonthNames",
    "getDayNames",
    "names",
    "call",
    "l",
    "data",
    "yNumber",
    "join"
  ],
  "mappings": "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",
  "sourcesContent": [
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2006 STZ-IDA, Germany, http://www.stz-ida.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Til Schneider (til132)\n     * Fabian Jakobs (fjakobs)\n\n************************************************************************ */\n\n/**\n * A formatter and parser for dates, see\n * http://www.unicode.org/reports/tr35/#Date_Format_Patterns\n *\n * Here is a quick overview of the format pattern keys:\n * <table>\n * <tr><th>Key &nbsp;<th>Description\n * <tr><td><code> G </code><td> era, e.g. \"AD\"\n * <tr><td><code> y </code><td> year\n * <tr><td><code> Y </code><td> week year\n * <tr><td><code> u </code><td> extended year [Not supported yet]\n * <tr><td><code> Q </code><td> quarter\n * <tr><td><code> q </code><td> stand-alone quarter\n * <tr><td><code> M </code><td> month\n * <tr><td><code> L </code><td> stand-alone month\n * <tr><td><code> I </code><td> chinese leap month [Not supported yet]\n * <tr><td><code> w </code><td> week of year\n * <tr><td><code> W </code><td> week of month\n * <tr><td><code> d </code><td> day of month\n * <tr><td><code> D </code><td> day of year\n * <tr><td><code> F </code><td> day of week in month [Not supported yet]\n * <tr><td><code> g </code><td> modified Julian day [Not supported yet]\n * <tr><td><code> E </code><td> day of week\n * <tr><td><code> e </code><td> local day of week\n * <tr><td><code> c </code><td> stand-alone local day of week\n * <tr><td><code> a </code><td> period of day (am or pm)\n * <tr><td><code> h </code><td> 12-hour hour\n * <tr><td><code> H </code><td> 24-hour hour\n * <tr><td><code> K </code><td> hour [0-11]\n * <tr><td><code> k </code><td> hour [1-24]\n * <tr><td><code> j </code><td> special symbol [Not supported yet]\n * <tr><td><code> m </code><td> minute\n * <tr><td><code> s </code><td> second\n * <tr><td><code> S </code><td> fractional second\n * <tr><td><code> A </code><td> millisecond in day [Not supported yet]\n * <tr><td><code> z </code><td> time zone, specific non-location format\n * <tr><td><code> Z </code><td> time zone, rfc822/gmt format\n * <tr><td><code> v </code><td> time zone, generic non-location format [Not supported yet]\n * <tr><td><code> V </code><td> time zone, like z except metazone abbreviations [Not supported yet]\n * </table>\n *\n * (This list is preliminary, not all format keys might be implemented). Most\n * keys support repetitions that influence the meaning of the format. Parts of the\n * format string that should not be interpreted as format keys have to be\n * single-quoted.\n *\n * The same format patterns will be used for both parsing and output formatting.\n * \n * NOTE: Instances of this class must be disposed of after use\n *\n */\nqx.Class.define(\"qx.util.format.DateFormat\",\n{\n  extend : qx.core.Object,\n  implement : [ qx.util.format.IFormat ],\n\n\n\n  /*\n  *****************************************************************************\n     CONSTRUCTOR\n  *****************************************************************************\n  */\n\n  /**\n   * @param format {String|null} The format to use. If null, the locale's default\n   * format is used.\n   * @param locale {String?} optional locale to be used. In case this is not present, the {@link #locale} property of DateFormat\n   * will be following the {@link qx.locale.Manager#locale} property of qx.locale.Manager\n   */\n  construct : function(format, locale)\n  {\n    this.base(arguments);\n\n    this.__initialLocale = this.__locale = locale;\n\n    if (format != null)\n    {\n      this.__format = format.toString();\n      if(this.__format in qx.util.format.DateFormat.ISO_MASKS)\n      {\n        if(this.__format === 'isoUtcDateTime') {\n          this.__UTC = true;\n        }\n        this.__format = qx.util.format.DateFormat.ISO_MASKS[this.__format];\n      }\n    } else\n    {\n      this.__format = qx.locale.Date.getDateFormat(\"long\", this.getLocale()) + \" \" + qx.locale.Date.getDateTimeFormat(\"HHmmss\", \"HH:mm:ss\", this.getLocale());\n    }\n  },\n\n\n  /*\n  *****************************************************************************\n     STATICS\n  *****************************************************************************\n  */\n\n  statics :\n  {\n    /**\n     * Convenience factory that returns a <code>DateFomat</code> instance that\n     * uses a short date-only format. Beware that the overall layout of the\n     * date/time format string is that of the locale in effect when the factory\n     * function is called.\n     *\n     * Implemented as a quasi-singleton, so beware of side effects.\n     *\n     * @return {DateFormat} a DateFormat instance.\n     */\n    getDateInstance : function()\n    {\n      var DateFormat = qx.util.format.DateFormat;\n\n      var format = qx.locale.Date.getDateFormat(\"short\") + \"\";\n\n      // Memoizing the instance, so caller doesn't have to dispose it.\n      if (DateFormat._dateInstance == null || DateFormat._dateInstance.__format != format) {\n        DateFormat._dateInstance = new DateFormat(format);\n      }\n\n      return DateFormat._dateInstance;\n    },\n\n\n    /**\n     * Convenience factory that returns a <code>DateFomat</code> instance that\n     * uses a long date/time format. Beware that the overall layout of the\n     * date/time format string is that of the locale in effect when the factory\n     * function is called.\n     *\n     * Implemented as a quasi-singleton, so beware of side effects.\n     *\n     * @return {DateFormat} a DateFormat instance.\n     */\n    getDateTimeInstance : function()\n    {\n      var DateFormat = qx.util.format.DateFormat;\n\n      var format = qx.locale.Date.getDateFormat(\"long\") + \" \" + qx.locale.Date.getDateTimeFormat(\"HHmmss\", \"HH:mm:ss\");\n\n      // Memoizing the instance, so caller doesn't have to dispose it.\n      if (DateFormat._dateTimeInstance == null || DateFormat._dateTimeInstance.__format != format) {\n        DateFormat._dateTimeInstance = new DateFormat(format);\n      }\n\n      return DateFormat._dateTimeInstance;\n    },\n\n\n    /**\n     * @type {Integer} The threshold until when a year should be assumed to belong to the\n     *   21st century (e.g. 12 -> 2012). Years over this threshold but below 100 will be\n     *   assumed to belong to the 20th century (e.g. 88 -> 1988). Years over 100 will be\n     *   used unchanged (e.g. 1792 -> 1792).\n     */\n    ASSUME_YEAR_2000_THRESHOLD : 30,\n\n    /** @type {Map} Special masks of patterns that are used frequently*/\n    ISO_MASKS : {\n      isoDate :        \"yyyy-MM-dd\",\n      isoTime :        \"HH:mm:ss\",\n      isoDateTime :    \"yyyy-MM-dd'T'HH:mm:ss\",\n      isoUtcDateTime : \"yyyy-MM-dd'T'HH:mm:ss'Z'\"\n    },\n\n    /** @type {String} The am marker. */\n    AM_MARKER : \"am\",\n\n    /** @type {String} The pm marker. */\n    PM_MARKER : \"pm\"\n\n  },\n\n\n\n\n  /*\n  *****************************************************************************\n     MEMBERS\n  *****************************************************************************\n  */\n\n  members :\n  {\n    __locale : null,\n    __initialLocale : null,\n    __format : null,\n    __parseFeed : null,\n    __parseRules : null,\n    __formatTree : null,\n    __UTC : null,\n\n    /**\n     * Fills a number with leading zeros (\"25\" -> \"0025\").\n     *\n     * @param number {Integer} the number to fill.\n     * @param minSize {Integer} the minimum size the returned string should have.\n     * @return {String} the filled number as string.\n     */\n    __fillNumber : function(number, minSize)\n    {\n      var str = \"\" + (number < 0 ? ((-1) * number) : number);\n\n      while (str.length < minSize) {\n        str = \"0\" + str;\n      }\n\n      return number < 0 ? \"-\" + str : str;\n    },\n\n\n    /**\n     * Returns the day in year of a date.\n     *\n     * @param date {Date} the date.\n     * @return {Integer} the day in year.\n     */\n    __getDayInYear : function(date)\n    {\n      var helpDate = new Date(date.getTime());\n      var day = helpDate.getDate();\n\n      while (helpDate.getMonth() != 0)\n      {\n        // Set the date to the last day of the previous month\n        helpDate.setDate(-1);\n        day += helpDate.getDate() + 1;\n      }\n\n      return day;\n    },\n\n\n    /**\n     * Returns the thursday in the same week as the date.\n     *\n     * @param date {Date} the date to get the thursday of.\n     * @return {Date} the thursday in the same week as the date.\n     */\n    __thursdayOfSameWeek : function(date) {\n      return new Date(date.getTime() + (3 - ((date.getDay() + 6) % 7)) * 86400000);\n    },\n\n\n    /**\n     * Returns the week in year of a date.\n     *\n     * @param date {Date} the date to get the week in year of.\n     * @return {Integer} the week in year.\n     */\n    __getWeekInYear : function(date)\n    {\n      // The following algorithm comes from http://www.salesianer.de/util/kalwoch.html\n      // Get the thursday of the week the date belongs to\n      var thursdayDate = this.__thursdayOfSameWeek(date);\n\n      // Get the year the thursday (and therefore the week) belongs to\n      var weekYear = thursdayDate.getFullYear();\n\n      // Get the thursday of the week january 4th belongs to\n      // (which defines week 1 of a year)\n      var thursdayWeek1 = this.__thursdayOfSameWeek(new Date(weekYear, 0, 4));\n\n      // Calculate the calendar week\n      return Math.floor(1.5 + (thursdayDate.getTime() - thursdayWeek1.getTime()) / 86400000 / 7);\n    },\n\n    /**\n     * Returns the week in month of a date.\n     *\n     * @param date {Date} the date to get the week in year of.\n     * @return {Integer} the week in month.\n     */\n    __getWeekInMonth : function(date)\n    {\n      var thursdayDate = this.__thursdayOfSameWeek(date);\n      var thursdayWeek1 = this.__thursdayOfSameWeek(new Date(date.getFullYear(), date.getMonth(), 4));\n      return Math.floor(1.5 + (thursdayDate.getTime() - thursdayWeek1.getTime()) / 86400000 / 7);\n    },\n\n    /**\n     * Returns the week year of a date. (that is the year of the week where this date happens to be)\n     * For a week in the middle of the summer, the year is easily obtained, but for a week\n     * when New Year's Eve takes place, the year of that week is ambiguous.\n     * The thursday day of that week is used to determine the year.\n     *\n     * @param date {Date} the date to get the week in year of.\n     * @return {Integer} the week year.\n     */\n    __getWeekYear : function(date)\n    {\n      var thursdayDate = this.__thursdayOfSameWeek(date);\n      return thursdayDate.getFullYear();\n    },\n\n    /**\n     * Returns true if the year is a leap one.\n     *\n     * @param year {Integer} the year to check.\n     * @return {Boolean} true if it is a leap year.\n     */\n    __isLeapYear : function(year)\n    {\n      var februaryDate = new Date(year,2,1);\n      februaryDate.setDate(-1);\n      return februaryDate.getDate() + 1 === 29;\n    },\n\n    /**\n     * Returns a json object with month and day as keys.\n     *\n     * @param dayOfYear {Integer} the day of year.\n     * @param year {Integer} the year to check.\n     * @return {Object} a json object {month: M, day: D}.\n     */\n    __getMonthAndDayFromDayOfYear : function(dayOfYear,year)\n    {\n      var month = 0;\n      var day = 0;\n      // if we don't know the year, we take a non-leap year'\n      if(!year) {\n        year = 1971;\n      }\n      var dayCounter = 0;\n      for(var i=1; i <= 12; i++)\n      {\n        var tempDate = new Date(year,i,1);\n        tempDate.setDate(-1);\n        var days = tempDate.getDate() + 1;\n        dayCounter += days;\n        if(dayCounter < dayOfYear)\n        {\n          month++;\n          day += days;\n        }\n        else\n        {\n          day = dayOfYear - (dayCounter-days);\n          break;\n        }\n      }\n\n      return {month: month,day: day};\n    },\n\n    /**\n     * Returns the year of a date when we know the week year\n     *\n     * @param weekYear {Integer} the week year.\n     * @param month {Integer} the month\n     * @param dayOfMonth {Integer} the day in month\n     * @return {Integer} the year.\n     */\n    __getYearFromWeekYearAndMonth : function(weekYear, month, dayOfMonth)\n    {\n      var year;\n      switch(month){\n        case 11 :\n          year = weekYear - 1;\n          if (weekYear != this.__getWeekYear(new Date(year,month,dayOfMonth))) {\n            year = weekYear;\n          }\n        break;\n        case 0 :\n          year = weekYear + 1;\n          if (weekYear != this.__getWeekYear(new Date(year,month,dayOfMonth))) {\n            year = weekYear;\n          }\n        break;\n        default :\n          year = weekYear;\n      }\n      return year;\n    },\n\n    /**\n     * Sets the new value for locale property\n     * @param value {String} The new value.\n     *\n     */\n    setLocale : function(value)\n    {\n      if (value !== null && typeof value != \"string\") {\n        throw new Error(\"Cannot set locale to \" + value + \" - please provide a string\");\n      }\n      this.__locale = value === null ? this.__initialLocale : value;\n    },\n    \n    /**\n     * Resets the Locale\n     */\n    resetLocale : function() {\n      this.setLocale(null);\n    },\n    \n    /**\n     * Returns the locale\n     */\n    getLocale : function() {\n      var locale = this.__locale;\n      if (locale === undefined) {\n        locale = qx.locale.Manager.getInstance().getLocale();\n      }\n      return locale;\n    },\n\n    /**\n     * Formats a date.\n     *\n     * @param date {Date} The date to format.\n     * @return {String} the formatted date.\n     */\n    format : function(date)\n    {\n      // check for null dates\n      if (date == null) {\n        return null;\n      }\n\n      if(isNaN(date.getTime())) {\n        if (qx.core.Environment.get(\"qx.debug\")) {\n          qx.log.Logger.error(\"Provided date is invalid\");\n        }\n        return null;\n      }\n\n      if(this.__UTC) {\n        date = new Date(date.getUTCFullYear(),date.getUTCMonth(),date.getUTCDate(),date.getUTCHours(),date.getUTCMinutes(),date.getUTCSeconds(),date.getUTCMilliseconds());\n      }\n\n      var locale = this.getLocale();\n\n      var fullYear = date.getFullYear();\n      var month = date.getMonth();\n      var dayOfMonth = date.getDate();\n      var dayOfWeek = date.getDay();\n      var hours = date.getHours();\n      var minutes = date.getMinutes();\n      var seconds = date.getSeconds();\n      var ms = date.getMilliseconds();\n\n      var timezoneOffset = date.getTimezoneOffset();\n      var timezoneSign = timezoneOffset > 0 ? 1 : -1;\n      var timezoneHours = Math.floor(Math.abs(timezoneOffset) / 60);\n      var timezoneMinutes = Math.abs(timezoneOffset) % 60;\n\n      // Create the output\n      this.__initFormatTree();\n      var output = \"\";\n\n      for (var i=0; i<this.__formatTree.length; i++)\n      {\n        var currAtom = this.__formatTree[i];\n\n        if (currAtom.type == \"literal\") {\n          output += currAtom.text;\n        }\n        else\n        {\n          // This is a wildcard\n          var wildcardChar = currAtom.character;\n          var wildcardSize = currAtom.size;\n\n          // Get its replacement\n          var replacement = \"?\";\n\n          switch(wildcardChar)\n          {\n            case 'y': // Year\n              if (wildcardSize == 2) {\n                replacement = this.__fillNumber(fullYear % 100, 2);\n              } else {\n                var year = Math.abs(fullYear);\n                replacement = year + \"\";\n                if (wildcardSize > replacement.length) {\n                  for (var j = replacement.length; j < wildcardSize; j++) {\n                    replacement = \"0\" + replacement;\n                  }\n                }\n                if(fullYear < 0) {\n                  replacement = \"-\" + replacement;\n                }\n              }\n\n              break;\n\n            case 'Y': // Year\n              replacement = this.__getWeekYear(date) + \"\";\n              var year = replacement.replace('-','');\n              if (wildcardSize > replacement.length) {\n                for (var j = year.length; j < wildcardSize; j++) {\n                  year = \"0\" + year;\n                }\n              }\n              replacement = replacement.indexOf(\"-\") != -1 ? \"-\" + year : year;\n\n              break;\n\n            case 'G': // Era - there is no CLDR data for ERA yet\n              if (wildcardSize >= 1 && wildcardSize <= 3) {\n                replacement = fullYear > 0 ? 'AD' : 'BC';\n              }\n              else if(wildcardSize == 4) {\n                replacement = fullYear > 0 ? 'Anno Domini' : 'Before Christ';\n              }\n              else if(wildcardSize == 5) {\n                replacement = fullYear > 0 ? 'A' : 'B';\n              }\n\n              break;\n\n            case 'Q': // quarter\n              if (wildcardSize == 1 || wildcardSize == 2) {\n                replacement = this.__fillNumber(parseInt(month/4) + 1, wildcardSize);\n              }\n              if(wildcardSize == 3) {\n                replacement = 'Q' + (parseInt(month/4) + 1);\n              }\n\n              break;\n\n            case 'q': // quarter stand alone\n              if (wildcardSize == 1 || wildcardSize == 2) {\n                replacement = this.__fillNumber(parseInt(month/4) + 1, wildcardSize);\n              }\n              if(wildcardSize == 3) {\n                replacement = 'Q' + (parseInt(month/4) + 1);\n              }\n\n              break;\n\n            case 'D': // Day in year (e.g. 189)\n              replacement = this.__fillNumber(this.__getDayInYear(date), wildcardSize);\n              break;\n\n            case 'd': // Day in month\n              replacement = this.__fillNumber(dayOfMonth, wildcardSize);\n              break;\n\n            case 'w': // Week in year (e.g. 27)\n              replacement = this.__fillNumber(this.__getWeekInYear(date), wildcardSize);\n              break;\n\n            case 'W': // Week in year (e.g. 27)\n              replacement = this.__getWeekInMonth(date);\n              break;\n\n            case 'E': // Day in week\n              if (wildcardSize >= 1 && wildcardSize <= 3) {\n                replacement = qx.locale.Date.getDayName(\"abbreviated\", dayOfWeek, locale, \"format\", true);\n              } else if (wildcardSize == 4) {\n                replacement = qx.locale.Date.getDayName(\"wide\", dayOfWeek, locale, \"format\", true);\n              } else if (wildcardSize == 5) {\n                replacement = qx.locale.Date.getDayName(\"narrow\", dayOfWeek, locale, \"format\", true);\n              }\n\n              break;\n\n            case 'e': // Day in week\n              var startOfWeek = qx.locale.Date.getWeekStart(locale);\n              // the index is 1 based\n              var localeDayOfWeek = 1 + ((dayOfWeek - startOfWeek >=0) ? (dayOfWeek - startOfWeek) : 7 + (dayOfWeek-startOfWeek));\n              if (wildcardSize >= 1 && wildcardSize <= 2) {\n                replacement = this.__fillNumber(localeDayOfWeek, wildcardSize);\n              } else if (wildcardSize == 3) {\n                replacement = qx.locale.Date.getDayName(\"abbreviated\", dayOfWeek, locale, \"format\", true);\n              } else if (wildcardSize == 4) {\n                replacement = qx.locale.Date.getDayName(\"wide\", dayOfWeek, locale, \"format\", true);\n              } else if (wildcardSize == 5) {\n                replacement = qx.locale.Date.getDayName(\"narrow\", dayOfWeek, locale, \"format\", true);\n              }\n\n              break;\n\n            case 'c': // Stand-alone local day in week\n              var startOfWeek = qx.locale.Date.getWeekStart(locale);\n              // the index is 1 based\n              var localeDayOfWeek = 1 + ((dayOfWeek - startOfWeek >=0) ? (dayOfWeek - startOfWeek) : 7 + (dayOfWeek-startOfWeek));\n              if (wildcardSize == 1) {\n                replacement = ''+localeDayOfWeek;\n              } else if (wildcardSize == 3) {\n                replacement = qx.locale.Date.getDayName(\"abbreviated\", dayOfWeek, locale, \"stand-alone\", true);\n              } else if (wildcardSize == 4) {\n                replacement = qx.locale.Date.getDayName(\"wide\", dayOfWeek, locale, \"stand-alone\", true);\n              } else if (wildcardSize == 5) {\n                replacement = qx.locale.Date.getDayName(\"narrow\", dayOfWeek, locale, \"stand-alone\", true);\n              }\n\n              break;\n\n            case 'M': // Month\n              if (wildcardSize == 1 || wildcardSize == 2) {\n                replacement = this.__fillNumber(month + 1, wildcardSize);\n              } else if (wildcardSize == 3) {\n                replacement = qx.locale.Date.getMonthName(\"abbreviated\", month, locale, \"format\", true);\n              } else if (wildcardSize == 4) {\n                replacement = qx.locale.Date.getMonthName(\"wide\", month, locale, \"format\", true);\n              } else if (wildcardSize == 5) {\n                replacement = qx.locale.Date.getMonthName(\"narrow\", month, locale, \"format\", true);\n\n              }\n\n              break;\n\n            case 'L': // Stand-alone month\n              if (wildcardSize == 1 || wildcardSize == 2) {\n                replacement = this.__fillNumber(month + 1, wildcardSize);\n              } else if (wildcardSize == 3) {\n                replacement = qx.locale.Date.getMonthName(\"abbreviated\", month, locale, \"stand-alone\", true);\n              } else if (wildcardSize == 4) {\n                replacement = qx.locale.Date.getMonthName(\"wide\", month, locale, \"stand-alone\", true);\n              } else if (wildcardSize == 5) {\n                replacement = qx.locale.Date.getMonthName(\"narrow\", month, locale, \"stand-alone\", true);\n              }\n\n              break;\n\n            case 'a': // am/pm marker\n              // NOTE: 0:00 is am, 12:00 is pm\n              replacement = (hours < 12) ? qx.locale.Date.getAmMarker(locale) : qx.locale.Date.getPmMarker(locale);\n              break;\n\n            case 'H': // Hour in day (0-23)\n              replacement = this.__fillNumber(hours, wildcardSize);\n              break;\n\n            case 'k': // Hour in day (1-24)\n              replacement = this.__fillNumber((hours == 0) ? 24 : hours, wildcardSize);\n              break;\n\n            case 'K': // Hour in am/pm (0-11)\n              replacement = this.__fillNumber(hours % 12, wildcardSize);\n              break;\n\n            case 'h': // Hour in am/pm (1-12)\n              replacement = this.__fillNumber(((hours % 12) == 0) ? 12 : (hours % 12), wildcardSize);\n              break;\n\n            case 'm': // Minute in hour\n              replacement = this.__fillNumber(minutes, wildcardSize);\n              break;\n\n            case 's': // Second in minute\n              replacement = this.__fillNumber(seconds, wildcardSize);\n              break;\n\n            case 'S': // Fractional second\n              replacement = this.__fillNumber(ms, 3);\n              if (wildcardSize < replacement.length) {\n                replacement = replacement.substr(0, wildcardSize);\n              } else {\n                while (wildcardSize > replacement.length) {\n                  // if needed, fill the remaining wildcard length with trailing zeros\n                  replacement += \"0\";\n                }\n              }\n              break;\n\n            case 'z': // Time zone\n              if (wildcardSize >= 1 && wildcardSize <= 4)\n              {\n                replacement =\n                \"GMT\" +\n                ((timezoneSign > 0) ? \"-\" : \"+\") +\n                this.__fillNumber(Math.abs(timezoneHours), 2) +\n                \":\" + this.__fillNumber(timezoneMinutes, 2);\n              }\n\n              break;\n\n            case 'Z': // RFC 822 time zone\n              if (wildcardSize >= 1 && wildcardSize <= 3)\n              {\n              replacement =\n                ((timezoneSign > 0) ? \"-\" : \"+\") +\n                this.__fillNumber(Math.abs(timezoneHours), 2) +\n                this.__fillNumber(timezoneMinutes, 2);\n              }\n              else\n              {\n                replacement =\n                \"GMT\" +\n                ((timezoneSign > 0) ? \"-\" : \"+\") +\n                this.__fillNumber(Math.abs(timezoneHours), 2) +\n                \":\" + this.__fillNumber(timezoneMinutes, 2);\n              }\n              break;\n          }\n\n          output += replacement;\n        }\n      }\n\n      return output;\n    },\n\n\n    /**\n     * Parses a date.\n     *\n     * @param dateStr {String} the date to parse.\n     * @return {Date} the parsed date.\n     * @throws {Error} If the format is not well formed or if the date string does not\n     *       match to the format.\n     */\n    parse : function(dateStr)\n    {\n      this.__initParseFeed();\n\n      // Apply the regex\n      var hit = this.__parseFeed.regex.exec(dateStr);\n\n      if (hit == null) {\n        throw new Error(\"Date string '\" + dateStr + \"' does not match the date format: \" + this.__format);\n      }\n\n      // Apply the rules\n      var dateValues =\n      {\n        era         : 1,\n        year        : 1970,\n        quarter     : 1,\n        month       : 0,\n        day         : 1,\n        dayOfYear   : 1,\n        hour        : 0,\n        ispm        : false,\n        weekDay     : 4,\n        weekYear    : 1970,\n        weekOfMonth : 1,\n        weekOfYear  : 1,\n        min         : 0,\n        sec         : 0,\n        ms          : 0\n      };\n\n      var currGroup = 1;\n      var applyWeekYearAfterRule = false;\n      var applyDayOfYearAfterRule = false;\n\n      for (var i=0; i<this.__parseFeed.usedRules.length; i++)\n      {\n        var rule = this.__parseFeed.usedRules[i];\n\n        var value = hit[currGroup];\n\n        if (rule.field != null) {\n          dateValues[rule.field] = parseInt(value, 10);\n        } else {\n          rule.manipulator(dateValues, value, rule.pattern);\n        }\n\n        if(rule.pattern == \"Y+\")\n        {\n          var yearRuleApplied = false;\n          for(var k=0; k<this.__parseFeed.usedRules.length; k++) {\n            if(this.__parseFeed.usedRules[k].pattern == 'y+'){\n              yearRuleApplied = true;\n              break;\n            }\n          }\n          if(!yearRuleApplied) {\n            applyWeekYearAfterRule = true;\n          }\n        }\n\n        if(rule.pattern.indexOf(\"D\") != -1)\n        {\n          var dayRuleApplied = false;\n          for(var k=0; k<this.__parseFeed.usedRules.length; k++) {\n            if(this.__parseFeed.usedRules[k].pattern.indexOf(\"d\") != -1){\n              dayRuleApplied = true;\n              break;\n            }\n          }\n          if(!dayRuleApplied) {\n            applyDayOfYearAfterRule = true;\n          }\n        }\n\n        currGroup += (rule.groups == null) ? 1 : rule.groups;\n      }\n      if(applyWeekYearAfterRule) {\n        dateValues.year = this.__getYearFromWeekYearAndMonth(dateValues.weekYear,dateValues.month,dateValues.day);\n      }\n\n      if(applyDayOfYearAfterRule)\n      {\n        var dayAndMonth = this.__getMonthAndDayFromDayOfYear(dateValues.dayOfYear, dateValues.year);\n        dateValues.month = dayAndMonth.month;\n        dateValues.day = dayAndMonth.day;\n      }\n\n      if(dateValues.era < 0 && (dateValues.year * dateValues.era < 0)) {\n        dateValues.year = dateValues.year * dateValues.era;\n      }\n\n      var date = new Date(dateValues.year, dateValues.month, dateValues.day, (dateValues.ispm) ? (dateValues.hour + 12) : dateValues.hour, dateValues.min, dateValues.sec, dateValues.ms);\n\n      if(this.__UTC) {\n        date = new Date(date.getUTCFullYear(),date.getUTCMonth(),date.getUTCDate(),date.getUTCHours(),date.getUTCMinutes(),date.getUTCSeconds(),date.getUTCMilliseconds());\n      }\n\n      if (dateValues.month != date.getMonth() || dateValues.year != date.getFullYear()) {\n        throw new Error(\"Error parsing date '\" + dateStr + \"': the value for day or month is too large\");\n      }\n\n      return date;\n    },\n\n\n    /**\n     * Helper method for {@link #format()} and {@link #parse()}.\n     * Parses the date format.\n     *\n     */\n    __initFormatTree : function()\n    {\n      if (this.__formatTree != null) {\n        return;\n      }\n\n      this.__formatTree = [];\n\n      var currWildcardChar;\n      var currWildcardSize = 0;\n      var currLiteral = \"\";\n      var format = this.__format;\n\n      var state = \"default\";\n\n      var i = 0;\n\n      while (i < format.length)\n      {\n        var currChar = format.charAt(i);\n\n        switch(state)\n        {\n          case \"quoted_literal\":\n            // We are now inside a quoted literal\n            // Check whether the current character is an escaped \"'\" character\n            if (currChar == \"'\")\n            {\n              if (i + 1 >= format.length)\n              {\n\n                // this is the last character\n                i++;\n\n                break;\n              }\n\n              var lookAhead = format.charAt(i + 1);\n\n              if (lookAhead == \"'\")\n              {\n                currLiteral += currChar;\n                i++;\n              }\n              else\n              {\n\n                // quoted literal ends\n                i++;\n\n                state = \"unkown\";\n              }\n            }\n            else\n            {\n              currLiteral += currChar;\n              i++;\n            }\n\n            break;\n\n          case \"wildcard\":\n            // Check whether the currChar belongs to that wildcard\n            if (currChar == currWildcardChar)\n            {\n              // It does -> Raise the size\n              currWildcardSize++;\n\n              i++;\n            }\n            else\n            {\n              // It does not -> The current wildcard is done\n              this.__formatTree.push(\n              {\n                type      : \"wildcard\",\n                character : currWildcardChar,\n                size      : currWildcardSize\n              });\n\n              currWildcardChar = null;\n              currWildcardSize = 0;\n              state = \"default\";\n            }\n\n            break;\n\n          default:\n            // We are not (any more) in a wildcard or quoted literal -> Check what's starting here\n            if ((currChar >= 'a' && currChar <= 'z') || (currChar >= 'A' && currChar <= 'Z'))\n            {\n              // This is a letter -> All letters are wildcards\n              // Start a new wildcard\n              currWildcardChar = currChar;\n              state = \"wildcard\";\n            }\n            else if (currChar == \"'\")\n            {\n              if (i + 1 >= format.length)\n              {\n                // this is the last character\n                currLiteral += currChar;\n                i++;\n                break;\n              }\n\n              var lookAhead = format.charAt(i + 1);\n\n              if (lookAhead == \"'\")\n              {\n                currLiteral += currChar;\n                i++;\n              }\n\n              i++;\n              state = \"quoted_literal\";\n            }\n            else\n            {\n              state = \"default\";\n            }\n\n            if (state != \"default\")\n            {\n              // Add the literal\n              if (currLiteral.length > 0)\n              {\n                this.__formatTree.push(\n                {\n                  type : \"literal\",\n                  text : currLiteral\n                });\n\n                currLiteral = \"\";\n              }\n            }\n            else\n            {\n              // This is an unquoted literal -> Add it to the current literal\n              currLiteral += currChar;\n              i++;\n            }\n\n            break;\n        }\n      }\n\n      // Add the last wildcard or literal\n      if (currWildcardChar != null)\n      {\n        this.__formatTree.push(\n        {\n          type      : \"wildcard\",\n          character : currWildcardChar,\n          size      : currWildcardSize\n        });\n      }\n      else if (currLiteral.length > 0)\n      {\n        this.__formatTree.push(\n        {\n          type : \"literal\",\n          text : currLiteral\n        });\n      }\n    },\n\n\n    /**\n     * Initializes the parse feed.\n     *\n     * The parse contains everything needed for parsing: The regular expression\n     * (in compiled and uncompiled form) and the used rules.\n     *\n     * @throws {Error} If the date format is malformed.\n     */\n    __initParseFeed : function()\n    {\n      if (this.__parseFeed != null)\n      {\n        // We already have the parse feed\n        return;\n      }\n\n      var format = this.__format;\n\n      // Initialize the rules\n      this.__initParseRules();\n      this.__initFormatTree();\n\n      // Get the used rules and construct the regex pattern\n      var usedRules = [];\n      var pattern = \"^\";\n\n      for (var atomIdx=0; atomIdx<this.__formatTree.length; atomIdx++)\n      {\n        var currAtom = this.__formatTree[atomIdx];\n\n        if (currAtom.type == \"literal\") {\n          pattern += qx.lang.String.escapeRegexpChars(currAtom.text);\n        }\n        else\n        {\n          // This is a wildcard\n          var wildcardChar = currAtom.character;\n          var wildcardSize = currAtom.size;\n\n          // Get the rule for this wildcard\n          var wildcardRule;\n\n          for (var ruleIdx=0; ruleIdx<this.__parseRules.length; ruleIdx++)\n          {\n            var rule = this.__parseRules[ruleIdx];\n\n            if ( this.__isRuleForWildcard(rule,wildcardChar,wildcardSize))\n            {\n              // We found the right rule for the wildcard\n              wildcardRule = rule;\n              break;\n            }\n          }\n\n          // Check the rule\n          if (wildcardRule == null)\n          {\n            // We have no rule for that wildcard -> Malformed date format\n            var wildcardStr = \"\";\n\n            for (var i=0; i<wildcardSize; i++) {\n              wildcardStr += wildcardChar;\n            }\n\n            throw new Error(\"Malformed date format: \" + format + \". Wildcard \" + wildcardStr + \" is not supported\");\n          }\n          else\n          {\n            // Add the rule to the pattern\n            usedRules.push(wildcardRule);\n            pattern += wildcardRule.regex;\n          }\n        }\n      }\n\n      pattern += \"$\";\n\n      // Create the regex\n      var regex;\n\n      try {\n        regex = new RegExp(pattern);\n      } catch(exc) {\n        throw new Error(\"Malformed date format: \" + format);\n      }\n\n      // Create the this.__parseFeed\n      this.__parseFeed =\n      {\n        regex       : regex,\n        \"usedRules\" : usedRules,\n        pattern     : pattern\n      };\n    },\n\n    /**\n     * Checks whether the rule matches the wildcard or not.\n     * @param rule {Object} the rule we try to match with the wildcard\n     * @param wildcardChar {String} the character in the wildcard\n     * @param wildcardSize {Integer} the number of  wildcardChar characters in the wildcard\n     * @return {Boolean} if the rule matches or not\n     */\n    __isRuleForWildcard : function(rule, wildcardChar, wildcardSize)\n    {\n      if(wildcardChar==='y' && rule.pattern==='y+')\n      {\n        rule.regex = rule.regexFunc(wildcardSize);\n        return true;\n      }\n      else if(wildcardChar==='Y' && rule.pattern==='Y+')\n      {\n        rule.regex = rule.regexFunc(wildcardSize);\n        return true;\n      }\n      else\n      {\n        return wildcardChar == rule.pattern.charAt(0) && wildcardSize == rule.pattern.length;\n      }\n    },\n    /**\n     * Initializes the static parse rules.\n     *\n     */\n    __initParseRules : function()\n    {\n      var DateFormat = qx.util.format.DateFormat;\n      var LString = qx.lang.String;\n\n      if (this.__parseRules != null)\n      {\n        // The parse rules are already initialized\n        return ;\n      }\n\n      var rules = this.__parseRules = [];\n\n      var amMarker = qx.locale.Date.getAmMarker(this.getLocale()).toString() || DateFormat.AM_MARKER;\n      var pmMarker = qx.locale.Date.getPmMarker(this.getLocale()).toString() || DateFormat.PM_MARKER;\n      var locale = this.getLocale();\n\n      var yearManipulator = function(dateValues, value)\n      {\n        value = parseInt(value, 10);\n\n        if(value >= 0)\n        {\n          if (value < DateFormat.ASSUME_YEAR_2000_THRESHOLD) {\n            value += 2000;\n          } else if (value < 100) {\n            value += 1900;\n          }\n        }\n\n        dateValues.year = value;\n      };\n\n      var weekYearManipulator = function(dateValues, value)\n      {\n        value = parseInt(value, 10);\n\n        if(value >= 0)\n        {\n          if (value < DateFormat.ASSUME_YEAR_2000_THRESHOLD) {\n            value += 2000;\n          } else if (value < 100) {\n            value += 1900;\n          }\n        }\n\n        dateValues.weekYear = value;\n      };\n\n      var monthManipulator = function(dateValues, value) {\n        dateValues.month = parseInt(value, 10) - 1;\n      };\n\n      var localWeekDayManipulator = function(dateValues, value) {\n        var startOfWeek = qx.locale.Date.getWeekStart(locale);\n        var dayOfWeek =  (parseInt(value,10) - 1 + startOfWeek) <= 6 ? parseInt(value,10) - 1 + startOfWeek : (parseInt(value,10) - 1 + startOfWeek) -7;\n        dateValues.weekDay = dayOfWeek;\n      };\n\n      var ampmManipulator = function(dateValues, value) {\n        var pmMarker = qx.locale.Date.getPmMarker(locale).toString() || DateFormat.PM_MARKER;\n        dateValues.ispm = (value == pmMarker);\n      };\n\n      var noZeroHourManipulator = function(dateValues, value) {\n        dateValues.hour = parseInt(value, 10) % 24;\n      };\n\n      var noZeroAmPmHourManipulator = function(dateValues, value) {\n        dateValues.hour = parseInt(value, 10) % 12;\n      };\n\n      var ignoreManipulator = function(dateValues, value) {\n        return;\n      };\n\n      var narrowEraNames = ['A', 'B'];\n      var narrowEraNameManipulator = function(dateValues, value) {\n        dateValues.era = value == 'A' ? 1 : -1;\n      };\n\n      var abbrevEraNames = ['AD', 'BC'];\n      var abbrevEraNameManipulator = function(dateValues, value) {\n        dateValues.era = value == 'AD' ? 1 : -1;\n      };\n\n      var fullEraNames = ['Anno Domini', 'Before Christ'];\n      var fullEraNameManipulator = function(dateValues, value) {\n        dateValues.era = value == 'Anno Domini' ? 1 : -1;\n      };\n\n      var abbrevQuarterNames = ['Q1','Q2','Q3','Q4'];\n      var abbrevQuarterManipulator = function(dateValues, value) {\n        dateValues.quarter = abbrevQuarterNames.indexOf(value);\n      };\n\n      var fullQuarterNames = ['1st quarter','2nd quarter','3rd quarter','4th quarter'];\n      var fullQuarterManipulator = function(dateValues, value) {\n        dateValues.quarter = fullQuarterNames.indexOf(value);\n      };\n\n      var cache = {};\n\n      var dateNamesManipulator = function(pattern){\n        var monthPatternLetters = ['L','M'];\n        var dayPatternLetters = ['c', 'e', 'E'];\n        var firstLetterInPattern = pattern.charAt(0);\n        var isMonth = monthPatternLetters.indexOf(firstLetterInPattern)>=0;\n\n        var getContext = function() {\n          var letters = isMonth ? monthPatternLetters : dayPatternLetters;\n          var context = firstLetterInPattern === letters[0] ? \"stand-alone\" : \"format\" ;\n          var patternLength = pattern.length;\n          var lengthName = 'abbreviated';\n          switch(patternLength)\n          {\n            case 4:\n              lengthName = 'wide';\n              break;\n            case 5:\n              lengthName = 'narrow';\n              break;\n            default:\n              lengthName = 'abbreviated';\n          }\n          return [context, lengthName];\n        };\n\n        if(!cache[pattern])\n        {\n          cache[pattern] = {};\n          var context = getContext();\n          var func = isMonth ? qx.locale.Date.getMonthNames : qx.locale.Date.getDayNames;\n          var names = func.call(qx.locale.Date, context[1], locale, context[0], true);\n          for(var i=0, l=names.length; i<l; i++)\n          {\n            names[i] = LString.escapeRegexpChars(names[i].toString());\n          }\n          cache[pattern].data = names;\n          cache[pattern].func = function(dateValues, value)\n          {\n            value = LString.escapeRegexpChars(value);\n            dateValues[isMonth ? 'month' : 'weekDay'] = names.indexOf(value);\n          };\n        }\n\n        return cache[pattern];\n      };\n\n      // Unsupported: F (Day of week in month)\n\n      rules.push(\n      {\n        pattern     : \"y+\",\n        regexFunc       : function(yNumber)\n          {\n            var regex = \"(-*\";\n            for(var i=0;i<yNumber;i++)\n            {\n              regex += \"\\\\d\";\n              if(i===yNumber-1 && i!==1) {\n                regex += \"+?\";\n              }\n            }\n            regex += \")\";\n            return regex;\n          },\n        manipulator : yearManipulator\n      });\n\n      rules.push(\n      {\n        pattern     : \"Y+\",\n        regexFunc       : function(yNumber)\n          {\n            var regex = \"(-*\";\n            for(var i=0;i<yNumber;i++)\n            {\n              regex += \"\\\\d\";\n              if(i===yNumber-1) {\n                regex += \"+?\";\n              }\n            }\n            regex += \")\";\n            return regex;\n          },\n        manipulator : weekYearManipulator\n      });\n\n      rules.push(\n      {\n        pattern     : \"G\",\n        regex       : \"(\" + abbrevEraNames.join(\"|\") + \")\",\n        manipulator : abbrevEraNameManipulator\n      });\n\n      rules.push(\n      {\n        pattern     : \"GG\",\n        regex       : \"(\" + abbrevEraNames.join(\"|\") + \")\",\n        manipulator : abbrevEraNameManipulator\n      });\n\n      rules.push(\n      {\n        pattern     : \"GGG\",\n        regex       : \"(\" + abbrevEraNames.join(\"|\") + \")\",\n        manipulator : abbrevEraNameManipulator\n      });\n\n      rules.push(\n      {\n        pattern     : \"GGGG\",\n        regex       : \"(\" + fullEraNames.join(\"|\") + \")\",\n        manipulator : fullEraNameManipulator\n      });\n\n      rules.push(\n      {\n        pattern     : \"GGGGG\",\n        regex       : \"(\" + narrowEraNames.join(\"|\") + \")\",\n        manipulator : narrowEraNameManipulator\n      });\n\n      rules.push(\n      {\n        pattern     : \"Q\",\n        regex       : \"(\\\\d\\\\d*?)\",\n        field : \"quarter\"\n      });\n\n      rules.push(\n      {\n        pattern     : \"QQ\",\n        regex       : \"(\\\\d\\\\d?)\",\n        field : \"quarter\"\n      });\n\n      rules.push(\n      {\n        pattern     : \"QQQ\",\n        regex       : \"(\" + abbrevQuarterNames.join(\"|\") + \")\",\n        manipulator : abbrevQuarterManipulator\n      });\n\n      rules.push(\n      {\n        pattern     : \"QQQQ\",\n        regex       : \"(\" + fullQuarterNames.join(\"|\") + \")\",\n        manipulator : fullQuarterManipulator\n      });\n\n      rules.push(\n      {\n        pattern     : \"q\",\n        regex       : \"(\\\\d\\\\d*?)\",\n        field : \"quarter\"\n      });\n\n      rules.push(\n      {\n        pattern     : \"qq\",\n        regex       : \"(\\\\d\\\\d?)\",\n        field : \"quarter\"\n      });\n\n      rules.push(\n      {\n        pattern     : \"qqq\",\n        regex       : \"(\" + abbrevQuarterNames.join(\"|\") + \")\",\n        manipulator : abbrevQuarterManipulator\n      });\n\n      rules.push(\n      {\n        pattern     : \"qqqq\",\n        regex       : \"(\" + fullQuarterNames.join(\"|\") + \")\",\n        manipulator : fullQuarterManipulator\n      });\n\n      rules.push(\n      {\n        pattern     : \"M\",\n        regex       : \"(\\\\d\\\\d*?)\",\n        manipulator : monthManipulator\n      });\n\n      rules.push(\n      {\n        pattern     : \"MM\",\n        regex       : \"(\\\\d\\\\d?)\",\n        manipulator : monthManipulator\n      });\n\n      rules.push(\n      {\n        pattern     : \"MMM\",\n        regex       : \"(\" + dateNamesManipulator(\"MMM\").data.join(\"|\") + \")\",\n        manipulator : dateNamesManipulator(\"MMM\").func\n      });\n\n      rules.push(\n      {\n        pattern     : \"MMMM\",\n        regex       : \"(\" + dateNamesManipulator(\"MMMM\").data.join(\"|\") + \")\",\n        manipulator : dateNamesManipulator(\"MMMM\").func\n      });\n\n      rules.push(\n      {\n        pattern     : \"MMMMM\",\n        regex       : \"(\" + dateNamesManipulator(\"MMMMM\").data.join(\"|\") + \")\",\n        manipulator : dateNamesManipulator(\"MMMMM\").func\n      });\n\n      rules.push(\n      {\n        pattern     : \"L\",\n        regex       : \"(\\\\d\\\\d*?)\",\n        manipulator : monthManipulator\n      });\n\n      rules.push(\n      {\n        pattern     : \"LL\",\n        regex       : \"(\\\\d\\\\d?)\",\n        manipulator : monthManipulator\n      });\n\n      rules.push(\n      {\n        pattern     : \"LLL\",\n        regex       : \"(\" + dateNamesManipulator(\"LLL\").data.join(\"|\") + \")\",\n        manipulator : dateNamesManipulator(\"LLL\").func\n      });\n\n      rules.push(\n      {\n        pattern     : \"LLLL\",\n        regex       : \"(\" + dateNamesManipulator(\"LLLL\").data.join(\"|\") + \")\",\n        manipulator : dateNamesManipulator(\"LLLL\").func\n      });\n\n      rules.push(\n      {\n        pattern     : \"LLLLL\",\n        regex       : \"(\" + dateNamesManipulator(\"LLLLL\").data.join(\"|\") + \")\",\n        manipulator : dateNamesManipulator(\"LLLLL\").func\n      });\n\n      rules.push(\n      {\n        pattern : \"dd\",\n        regex   : \"(\\\\d\\\\d?)\",\n        field   : \"day\"\n      });\n\n      rules.push(\n      {\n        pattern : \"d\",\n        regex   : \"(\\\\d\\\\d*?)\",\n        field   : \"day\"\n      });\n\n      rules.push(\n      {\n        pattern : \"D\",\n        regex   : \"(\\\\d?)\",\n        field   : \"dayOfYear\"\n      });\n\n      rules.push(\n      {\n        pattern : \"DD\",\n        regex   : \"(\\\\d\\\\d?)\",\n        field   : \"dayOfYear\"\n      });\n\n      rules.push(\n      {\n        pattern : \"DDD\",\n        regex   : \"(\\\\d\\\\d\\\\d?)\",\n        field   : \"dayOfYear\"\n      });\n\n      rules.push(\n      {\n        pattern     : \"E\",\n        regex       : \"(\" + dateNamesManipulator(\"E\").data.join(\"|\") + \")\",\n        manipulator : dateNamesManipulator(\"E\").func\n      });\n\n      rules.push(\n      {\n        pattern     : \"EE\",\n        regex       : \"(\" + dateNamesManipulator(\"EE\").data.join(\"|\") + \")\",\n        manipulator : dateNamesManipulator(\"EE\").func\n      });\n\n      rules.push(\n      {\n        pattern     : \"EEE\",\n        regex       : \"(\" + dateNamesManipulator(\"EEE\").data.join(\"|\") + \")\",\n        manipulator : dateNamesManipulator(\"EEE\").func\n      });\n\n      rules.push(\n      {\n        pattern     : \"EEEE\",\n        regex       : \"(\" + dateNamesManipulator(\"EEEE\").data.join(\"|\") + \")\",\n        manipulator : dateNamesManipulator(\"EEEE\").func\n      });\n\n      rules.push(\n      {\n        pattern     : \"EEEEE\",\n        regex       : \"(\" + dateNamesManipulator(\"EEEEE\").data.join(\"|\") + \")\",\n        manipulator : dateNamesManipulator(\"EEEEE\").func\n      });\n\n      rules.push(\n      {\n        pattern     : \"e\",\n        regex       : \"(\\\\d?)\",\n        manipulator : localWeekDayManipulator\n      });\n\n      rules.push(\n      {\n        pattern     : \"ee\",\n        regex       : \"(\\\\d\\\\d?)\",\n        manipulator : localWeekDayManipulator\n      });\n\n      rules.push(\n      {\n        pattern     : \"eee\",\n        regex       : \"(\" + dateNamesManipulator(\"eee\").data.join(\"|\") + \")\",\n        manipulator : dateNamesManipulator(\"eee\").func\n      });\n\n      rules.push(\n      {\n        pattern     : \"eeee\",\n        regex       : \"(\" + dateNamesManipulator(\"eeee\").data.join(\"|\") + \")\",\n        manipulator : dateNamesManipulator(\"eeee\").func\n      });\n\n      rules.push(\n      {\n        pattern     : \"eeeee\",\n        regex       : \"(\" + dateNamesManipulator(\"eeeee\").data.join(\"|\") + \")\",\n        manipulator : dateNamesManipulator(\"eeeee\").func\n      });\n\n      rules.push(\n      {\n        pattern     : \"c\",\n        regex       : \"\\\\d?\",\n        manipulator : localWeekDayManipulator\n      });\n\n      rules.push(\n      {\n        pattern     : \"ccc\",\n        regex       : \"(\" + dateNamesManipulator(\"ccc\").data.join(\"|\") + \")\",\n        manipulator : dateNamesManipulator(\"ccc\").func\n      });\n\n      rules.push(\n      {\n        pattern     : \"cccc\",\n        regex       : \"(\" + dateNamesManipulator(\"cccc\").data.join(\"|\") + \")\",\n        manipulator : dateNamesManipulator(\"cccc\").func\n      });\n\n      rules.push(\n      {\n        pattern     : \"ccccc\",\n        regex       : \"(\" + dateNamesManipulator(\"ccccc\").data.join(\"|\") + \")\",\n        manipulator : dateNamesManipulator(\"ccccc\").func\n      });\n\n      rules.push(\n      {\n        pattern     : \"a\",\n        regex       : \"(\" + amMarker + \"|\" + pmMarker + \")\",\n        manipulator : ampmManipulator\n      });\n\n      rules.push(\n      {\n        pattern : \"W\",\n        regex   : \"(\\\\d?)\",\n        field   : \"weekOfMonth\"\n      });\n\n      rules.push(\n      {\n        pattern : \"w\",\n        regex   : \"(\\\\d\\\\d?)\",\n        field   : \"weekOfYear\"\n      });\n\n      rules.push(\n      {\n        pattern : \"ww\",\n        regex   : \"(\\\\d\\\\d)\",\n        field   : \"weekOfYear\"\n      });\n\n      rules.push(\n      {\n        pattern : \"HH\",\n        regex   : \"(\\\\d\\\\d?)\",\n        field   : \"hour\"\n      });\n\n      rules.push(\n      {\n        pattern : \"H\",\n        regex   : \"(\\\\d\\\\d?)\",\n        field   : \"hour\"\n      });\n\n      rules.push(\n      {\n        pattern     : \"kk\",\n        regex       : \"(\\\\d\\\\d?)\",\n        manipulator : noZeroHourManipulator\n      });\n\n      rules.push(\n      {\n        pattern     : \"k\",\n        regex       : \"(\\\\d\\\\d?)\",\n        manipulator : noZeroHourManipulator\n      });\n\n      rules.push(\n      {\n        pattern : \"KK\",\n        regex   : \"(\\\\d\\\\d?)\",\n        field   : \"hour\"\n      });\n\n      rules.push(\n      {\n        pattern : \"K\",\n        regex   : \"(\\\\d\\\\d?)\",\n        field   : \"hour\"\n      });\n\n      rules.push(\n      {\n        pattern     : \"hh\",\n        regex       : \"(\\\\d\\\\d?)\",\n        manipulator : noZeroAmPmHourManipulator\n      });\n\n      rules.push(\n      {\n        pattern     : \"h\",\n        regex       : \"(\\\\d\\\\d?)\",\n        manipulator : noZeroAmPmHourManipulator\n      });\n\n      rules.push(\n      {\n        pattern : \"mm\",\n        regex   : \"(\\\\d\\\\d?)\",\n        field   : \"min\"\n      });\n\n      rules.push(\n      {\n        pattern : \"m\",\n        regex   : \"(\\\\d\\\\d?)\",\n        field   : \"min\"\n      });\n\n      rules.push(\n      {\n        pattern : \"ss\",\n        regex   : \"(\\\\d\\\\d?)\",\n        field   : \"sec\"\n      });\n\n      rules.push(\n      {\n        pattern : \"s\",\n        regex   : \"(\\\\d\\\\d?)\",\n        field   : \"sec\"\n      });\n\n      rules.push(\n      {\n        pattern : \"SSS\",\n        regex   : \"(\\\\d\\\\d?\\\\d?)\",\n        field   : \"ms\"\n      });\n\n      rules.push(\n      {\n        pattern : \"SS\",\n        regex   : \"(\\\\d\\\\d?\\\\d?)\",\n        field   : \"ms\"\n      });\n\n      rules.push(\n      {\n        pattern : \"S\",\n        regex   : \"(\\\\d\\\\d?\\\\d?)\",\n        field   : \"ms\"\n      });\n\n      rules.push(\n      {\n        pattern     : \"Z\",\n        regex       : \"([\\\\+\\\\-]\\\\d\\\\d\\\\d\\\\d)\",\n        manipulator : ignoreManipulator\n      });\n\n      rules.push(\n      {\n        pattern     : \"z\",\n        regex       : \"(GMT[\\\\+\\\\-]\\\\d\\\\d:\\\\d\\\\d)\",\n        manipulator : ignoreManipulator\n      });\n    }\n  }\n});\n"
  ]
}