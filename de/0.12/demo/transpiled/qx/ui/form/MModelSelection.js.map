{
  "version": 3,
  "sources": [
    "/home/travis/build/CometVisu/CometVisu/node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/ui/form/MModelSelection.js"
  ],
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Mixin",
    "define",
    "construct",
    "__modelSelection",
    "data",
    "Array",
    "addListener",
    "__onModelSelectionArrayChange",
    "__onModelSelectionChange",
    "events",
    "changeModelSelection",
    "members",
    "__inSelectionChange",
    "getSelection",
    "modelSelection",
    "i",
    "length",
    "item",
    "model",
    "getModel",
    "push",
    "setModelSelection",
    "e",
    "Error",
    "selectables",
    "getSelectables",
    "itemSelection",
    "toArray",
    "j",
    "selectable",
    "selectableModel",
    "setSelection",
    "currentSelection",
    "lang",
    "equals",
    "getModelSelection",
    "removeAll",
    "unshift",
    "getLength",
    "returnArray",
    "splice",
    "apply",
    "dispose",
    "destruct",
    "_disposeObjects",
    "ui",
    "form",
    "MModelSelection"
  ],
  "mappings": "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",
  "sourcesContent": [
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2009 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Martin Wittemann (martinwittemann)\n\n************************************************************************ */\n/**\n * This mixin offers the selection of the model properties.\n * It can only be included if the object including it implements the\n * {@link qx.ui.core.ISingleSelection} interface and the selectables implement\n * the {@link qx.ui.form.IModel} interface.\n */\nqx.Mixin.define(\"qx.ui.form.MModelSelection\",\n{\n\n  construct : function() {\n    // create the selection array\n    this.__modelSelection = new qx.data.Array();\n\n    // listen to the changes\n    this.__modelSelection.addListener(\"change\", this.__onModelSelectionArrayChange, this);\n    this.addListener(\"changeSelection\", this.__onModelSelectionChange, this);\n  },\n\n\n  events :\n  {\n    /**\n     * Pseudo event. It will never be fired because the array itself can not\n     * be changed. But the event description is needed for the data binding.\n     */\n    changeModelSelection : \"qx.event.type.Data\"\n  },\n\n\n  members :\n  {\n\n    __modelSelection : null,\n    __inSelectionChange : false,\n\n\n    /**\n     * Handler for the selection change of the including class e.g. SelectBox,\n     * List, ...\n     * It sets the new modelSelection via {@link #setModelSelection}.\n     */\n    __onModelSelectionChange : function() {\n      if (this.__inSelectionChange) {\n        return;\n      }\n      var data = this.getSelection();\n\n      // create the array with the modes inside\n      var modelSelection = [];\n      for (var i = 0; i < data.length; i++) {\n        var item = data[i];\n        // fallback if getModel is not implemented\n        var model = item.getModel ? item.getModel() : null;\n        if (model !== null) {\n          modelSelection.push(model);\n        }\n      }\n\n      try {\n        this.setModelSelection(modelSelection);\n      } catch (e) {\n        throw new Error(\n          \"Could not set the model selection. Maybe your models are not unique? \" + e\n        );\n      }\n    },\n\n\n    /**\n     * Listener for the change of the internal model selection data array.\n     */\n    __onModelSelectionArrayChange : function() {\n      this.__inSelectionChange = true;\n      var selectables = this.getSelectables(true);\n      var itemSelection = [];\n\n      var modelSelection = this.__modelSelection.toArray();\n      for (var i = 0; i < modelSelection.length; i++) {\n        var model = modelSelection[i];\n        for (var j = 0; j < selectables.length; j++) {\n          var selectable = selectables[j];\n          // fallback if getModel is not implemented\n          var selectableModel = selectable.getModel ? selectable.getModel() : null;\n          if (model === selectableModel) {\n            itemSelection.push(selectable);\n            break;\n          }\n        }\n      }\n      this.setSelection(itemSelection);\n      this.__inSelectionChange = false;\n\n      // check if the setting has worked\n      var currentSelection = this.getSelection();\n      if (!qx.lang.Array.equals(currentSelection, itemSelection)) {\n        // if not, set the actual selection\n        this.__onModelSelectionChange();\n      }\n    },\n\n\n    /**\n     * Returns always an array of the models of the selected items. If no\n     * item is selected or no model is given, the array will be empty.\n     *\n     * *CAREFUL!* The model selection can only work if every item item in the\n     * selection providing widget has a model property!\n     *\n     * @return {qx.data.Array} An array of the models of the selected items.\n     */\n    getModelSelection : function()\n    {\n      return this.__modelSelection;\n    },\n\n\n    /**\n     * Takes the given models in the array and searches for the corresponding\n     * selectables. If an selectable does have that model attached, it will be\n     * selected.\n     *\n     * *Attention:* This method can have a time complexity of O(n^2)!\n     *\n     * *CAREFUL!* The model selection can only work if every item item in the\n     * selection providing widget has a model property!\n     *\n     * @param modelSelection {Array} An array of models, which should be\n     *   selected.\n     */\n    setModelSelection : function(modelSelection)\n    {\n      // check for null values\n      if (!modelSelection)\n      {\n        this.__modelSelection.removeAll();\n        return;\n      }\n\n      if (qx.core.Environment.get(\"qx.debug\")) {\n        this.assertArray(modelSelection, \"Please use an array as parameter.\");\n      }\n\n      // add the first two parameter\n      modelSelection.unshift(this.__modelSelection.getLength()); // remove index\n      modelSelection.unshift(0);  // start index\n\n      var returnArray = this.__modelSelection.splice.apply(this.__modelSelection, modelSelection);\n      returnArray.dispose();\n    }\n  },\n\n  destruct : function() {\n    this._disposeObjects(\"__modelSelection\");\n  }\n});\n"
  ]
}