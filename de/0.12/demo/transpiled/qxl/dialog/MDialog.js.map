{
  "version": 3,
  "sources": [
    "/home/runner/work/CometVisu/CometVisu/qx_packages/qooxdoo_qxl_dialog_v3_1_2/source/class/qxl/dialog/MDialog.js"
  ],
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Mixin",
    "define",
    "statics",
    "getInstanceByType",
    "type",
    "qxl",
    "dialog",
    "lang",
    "String",
    "firstUp",
    "e",
    "Error",
    "properties",
    "callback",
    "check",
    "nullable",
    "context",
    "image",
    "apply",
    "message",
    "allowCancel",
    "init",
    "event",
    "cancelOnEscape",
    "events",
    "ok",
    "cancel",
    "members",
    "_container",
    "_buttons",
    "_image",
    "_message",
    "_okButton",
    "_cancelButton",
    "_createWidgetContent",
    "error",
    "_createDialogContainer",
    "ui",
    "container",
    "Composite",
    "layout",
    "VBox",
    "_createButtonPane",
    "buttons",
    "HBox",
    "getLayout",
    "setAlignX",
    "core",
    "Environment",
    "get",
    "setQxObjectId",
    "addOwnedQxObject",
    "_createOkButton",
    "noFocus",
    "okButton",
    "form",
    "Button",
    "tr",
    "setIcon",
    "getChildControl",
    "set",
    "width",
    "height",
    "scale",
    "setAllowStretchX",
    "addListener",
    "_handleOk",
    "focus",
    "getQxObject",
    "_createCancelButton",
    "cancelButton",
    "_handleCancel",
    "bind",
    "converter",
    "value",
    "_applyImage",
    "old",
    "setSource",
    "setVisibility",
    "_applyMessage",
    "setValue",
    "getDialogContainer",
    "promise",
    "Promise",
    "resolve",
    "reject",
    "setCallback",
    "resetCallback",
    "hide",
    "fireEvent",
    "getCallback",
    "call",
    "getContext",
    "isAllowCancel",
    "_handleEscape",
    "isCancelOnEscape",
    "getKeyCode",
    "getContentElement",
    "isSeeable",
    "MDialog"
  ],
  "mappings": "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",
  "sourcesContent": [
    "/* ************************************************************************\n\n   qooxdoo dialog library\n   https://github.com/qooxdoo/qxl.dialog\n\n   Copyright:\n     2007-2020 Christian Boulanger and others\n\n   License:\n     LGPL: http://www.gnu.org/licenses/lgpl.html\n     EPL: http://www.eclipse.org/org/documents/epl-v10.php\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     *  Christian Boulanger (cboulanger)\n     *  Derrell Lipman (derrell)\n\n************************************************************************ */\n\n\n/**\n * Mixin that provides base functionality for Window and embedded dialog\n * @ignore(qxl.dialog.alert)\n * @ignore(qxl.dialog.error)\n * @ignore(qxl.dialog.warning)\n * @ignore(qxl.dialog.confirm)\n * @ignore(qxl.dialog.prompt)\n * @ignore(qxl.dialog.form)\n * @ignore(qxl.dialog.select)\n * @ignore(Promise)\n *\n */\nqx.Mixin.define(\"qxl.dialog.MDialog\", {\n  statics: {\n    /**\n     * Returns a dialog instance by type\n     * @param type {String} The dialog type to get\n     * @return {qxl.dialog.Dialog}\n     */\n    getInstanceByType: function(type) {\n      try {\n        return new (qxl.dialog[qx.lang.String.firstUp(type)])();\n      } catch (e) {\n        throw new Error(type + \" is not a valid dialog type\");\n      }\n    }\n  },\n\n  properties: {\n    /**\n     * Callback function that will be called when the user\n     * has interacted with the widget. See sample callback\n     * method supplied in the source code of each dialog\n     * widget.\n     */\n    callback: {\n      check: \"Function\",\n      nullable: true\n    },\n\n    /**\n     * The context for the callback function\n     */\n    context: {\n      check: \"Object\",\n      nullable: true\n    },\n\n    /**\n     * A banner image/logo that is displayed on the widget,\n     * if applicable\n     */\n    image: {\n      check: \"String\",\n      nullable: true,\n      apply: \"_applyImage\"\n    },\n\n    /**\n     * The message that is displayed\n     */\n    message: {\n      check: \"String\",\n      nullable: true,\n      apply: \"_applyMessage\"\n    },\n\n    /**\n     * Whether to allow cancelling the dialog\n     */\n    allowCancel: {\n      check: \"Boolean\",\n      init: true,\n      event: \"changeAllowCancel\"\n    },\n\n    /**\n     * Whether to triger the cancel button on pressing the \"escape\" key\n     * (default: true). Depends on the 'allowCancel' property.\n     */\n    cancelOnEscape: {\n      check: \"Boolean\",\n      init: true\n    }\n  },\n\n  events: {\n    /**\n     * Dispatched when user clicks on the \"OK\" Button\n     * @type {String}\n     */\n    ok: \"qx.event.type.Event\",\n\n    /**\n     * Dispatched when user clicks on the \"Cancel\" Button\n     * @type {String}\n     */\n    cancel: \"qx.event.type.Event\"\n  },\n\n  members: {\n    /**\n     * The container widget\n     * @var {qx.ui.container.Composite}\n     */\n    _container: null,\n\n    /**\n     * The button pane\n     * @var {qx.ui.basic.Label}\n     */\n    _buttons: null,\n\n    /**\n     * The dialog image\n     * @var {qx.ui.basic.Image}\n     */\n    _image: null,\n\n    /**\n     * The dialog message\n     * @var {qx.ui.basic.Label}\n     */\n    _message: null,\n\n    /**\n     * The OK Button\n     * @var {qx.ui.form.Button}\n     */\n    _okButton: null,\n\n    /**\n     * The cancel button\n     * @var {qx.ui.form.Button}\n     */\n    _cancelButton: null,\n\n    /**\n     * Create the content of the qxl.dialog.\n     * Extending classes must implement this method.\n     * @param properties\n     */\n    _createWidgetContent: function(properties) {\n      this.error(\"_createWidgetContent not implemented!\");\n    },\n\n    /**\n     * Creates the default container (VBox)\n     * @return {qx.ui.container.Composite}\n     */\n    _createDialogContainer: function() {\n      this._container = new qx.ui.container.Composite(new qx.ui.layout.VBox(10));\n      return this._container;\n    },\n\n    /**\n     * Creates the button pane (HBox)\n     * @return {qx.ui.container.Composite}\n     */\n    _createButtonPane: function() {\n      let buttons = new qx.ui.container.Composite(new qx.ui.layout.HBox(5));\n      buttons.getLayout().setAlignX(\"center\");\n      if (qx.core.Environment.get(\"module.objectid\") === true) {\n        buttons.setQxObjectId(\"buttons\");\n        this.addOwnedQxObject(buttons);\n      }\n      return buttons;\n    },\n\n    /**\n     * Create an OK button\n     * @param noFocus\n     * @return {qx.ui.form.Button}\n     */\n    _createOkButton: function(noFocus=false) {\n      let okButton = (this._okButton = new qx.ui.form.Button(this.tr(\"OK\")));\n      okButton.setIcon(\"qxl.dialog.icon.ok\");\n      okButton.getChildControl(\"icon\").set({\n        width: 16,\n        height: 16,\n        scale: true\n      });\n      okButton.setAllowStretchX(false);\n      okButton.addListener(\"execute\", this._handleOk, this);\n      if (!noFocus) {\n        this.addListener(\"appear\", () => okButton.focus());\n      }\n      if (qx.core.Environment.get(\"module.objectid\") === true) {\n        okButton.setQxObjectId(\"ok\");\n        this.getQxObject(\"buttons\").addOwnedQxObject(okButton);\n      }\n      return okButton;\n    },\n\n    /**\n     * Create a cancel button, which is hidden by default and will be shown\n     * if allowCancel property is set to true.\n     * @return {qx.ui.form.Button}\n     */\n    _createCancelButton: function() {\n      let cancelButton = (this._cancelButton = new qx.ui.form.Button(\n        this.tr(\"Cancel\")\n      ));\n      cancelButton.setAllowStretchX(false);\n      cancelButton.setIcon(\"qxl.dialog.icon.cancel\");\n      cancelButton.getChildControl(\"icon\").set({\n        width: 16,\n        height: 16,\n        scale: true\n      });\n      cancelButton.addListener(\"execute\", this._handleCancel, this);\n      this.bind(\"allowCancel\", cancelButton, \"visibility\", {\n        converter: function(value) {\n          return value ? \"visible\" : \"excluded\";\n        }\n      });\n      if (qx.core.Environment.get(\"module.objectid\") === true) {\n        cancelButton.setQxObjectId(\"cancel\");\n        this.getQxObject(\"buttons\").addOwnedQxObject(cancelButton);\n      }\n      return cancelButton;\n    },\n\n    /**\n     * Called when the 'image' property is set\n     * @param value {String} The current value\n     * @param old {String|null} old The previous value\n     * @return {void}\n     */\n    _applyImage: function(value, old) {\n      this._image.setSource(value);\n      this._image.setVisibility(value ? \"visible\" : \"excluded\");\n    },\n\n    /**\n     * Called when the 'message' property is set\n     * @param value {String} The current value\n     * @param old {String|null} old The previous value\n     * @return {void}\n     */\n    _applyMessage: function(value, old) {\n      this._message.setValue(value);\n      this._message.setVisibility(value ? \"visible\" : \"excluded\");\n    },\n\n    /**\n     * Returns the widgets that is the container of the dialog\n     * @return {qx.ui.core.LayoutItem}\n     */\n    getDialogContainer: function() {\n      if (!this._container) {\n        return this._createDialogContainer();\n      }\n      return this._container;\n    },\n\n    /**\n     * Promise interface method, avoids callbacks\n     * @return {Promise} A promise that resolves with the result of the dialog\n     * action\n     */\n    promise: function() {\n      return new Promise(function(resolve, reject) {\n        this.setCallback(function(value) {\n          this.resetCallback();\n          resolve(value);\n        }.bind(this));\n      }.bind(this));\n    },\n\n    /**\n     * Handle click on ok button. Calls callback with a \"true\" argument\n     */\n    _handleOk: function() {\n      this.hide();\n      this.fireEvent(\"ok\");\n      if (this.getCallback()) {\n        this.getCallback().call(this.getContext(), true);\n      }\n      this.resetCallback();\n    },\n\n    /**\n     * Handle click on cancel button. Calls callback with\n     * an \"undefined\" argument\n     */\n    _handleCancel: function() {\n      this.hide();\n      this.fireEvent(\"cancel\");\n      if (this.isAllowCancel() && this.getCallback()) {\n        this.getCallback().call(this.getContext());\n      }\n      this.resetCallback();\n    },\n\n    /**\n     * Handles the press on the 'Escape' key\n     * @param  e {qx.event.type.KeyInput}\n     */\n    _handleEscape: function(e) {\n      if (this.isCancelOnEscape() && e.getKeyCode() === 27 && this.getContentElement() && this.isSeeable()) {\n        this._handleCancel();\n      }\n    }\n  }\n});\n"
  ]
}