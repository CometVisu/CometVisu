qx.$$packageData['2048']={"resources":{"manager/completion-libs/qooxdoo.d.ts":"cv","manager/crc32.js":"cv","manager/worker.js":"cv","manager/xml.js":"cv","manager/xmllint.js":"cv","qx/static/blank.gif":[1,1,"gif","qx"]}};
qx.Part.$$notifyLoad("2048", function() {
(function(){var a='cv.manager.file',b='cv.ui.manager.control.MFileEventHandler';qx.Mixin.define(b,{construct:function(){{};if(!this._disableFileEvents){qx.event.message.Bus.subscribe(a,this._handleFileEvent,this);};},members:{_disableFileEvents:false},destruct:function(){qx.event.message.Bus.unsubscribe(a,this._handleFileEvent,this);}});})();(function(){var a='cv.ui.manager.control.IFileEventHandler';qx.Interface.define(a,{members:{_handleFileEvent:function(b){}}});})();(function(){var c='moved',d='*.js,*.jpg,*.gif,*.png,*.conf,*.svg,*.md,*.rst,*,css,*.txt',e='changeValid',f="file",g="Boolean",h='String',i='cv://',j="qx.data.Array",k='changeWriteable',l='changeFake',m='hidden-config',n='',o='Boolean',p='changeTemporary',q='cv.manager.fs.',r="_applyHasChildren",s="changeLoaded",t="changeOpen",u="dir",v='mounted-folder',w='_maintainIcon',x="changeChildren",y='changeInTrash',z="Array",A='folder-open',B="changeHasChildren",C='changeSpecial',D='*.xml',E='hidden.php',F='trash',G='changeMounted',H='dir',I="String",J='.',K='changeIcon',L='deleted',M='mounted',N="",O='icons',P="_onOpen",Q='folder',R='CometVisu-Icons',S="changeParent",T='changeReadable',U='Hidden configuration',V="changeName",W='/config/',X='/',Y='changeModified',bq='_applyName',br='Number',bs='cv.ui.manager.model.FileItem',bm='file',bn='cv',bo='added',bp='changeTrash',bu="_applyEventPropagation",bv='resourceUri',bw="changeLoading",bx='changeDisplayName',bt='changeEditing';qx.Class.define(bs,{extend:qx.core.Object,include:[qx.data.marshal.MEventBubbling,cv.ui.manager.control.MFileEventHandler],implement:[cv.ui.manager.control.IFileEventHandler],construct:function(name,by,parent,bz){qx.core.Object.call(this);this.initChildren(new qx.data.Array());if(bz){this.setFakeChildren(bz);};if(by){if(!by.endsWith(X)){by+=X;};this.__vy=by;};if(name){this.setName(name);};if(parent){this.setParent(parent);};},statics:{ROOT:null,_fakeIconFile:null,_hiddenConfigFakeFile:null,_acceptedFiles:{'.':D,'media':d},isConfigFile:function(bA){return /visu_config.*\.xml/.test(bA);},getConfigName:function(bC){var bB=/visu_config_?([^.]+)\.xml/.exec(bC);if(bB){return bB[1];};return null;},getIconFile:function(){if(!this._fakeIconFile){this._fakeIconFile=new cv.ui.manager.model.FileItem(R,n,cv.ui.manager.model.FileItem.ROOT).set({type:bm,overrideIcon:true,writeable:false,readable:true,open:true,loaded:true,hasChildren:false,fake:true,icon:cv.theme.dark.Images.getIcon(O,18)});};return this._fakeIconFile;},getHiddenConfigFile:function(){if(!this._hiddenConfigFakeFile){this._hiddenConfigFakeFile=new cv.ui.manager.model.FileItem(E,n,cv.ui.manager.model.FileItem.ROOT).set({hasChildren:false,loaded:true,readable:true,writeable:true,overrideIcon:true,icon:cv.theme.dark.Images.getIcon(m,15),type:f,fake:true,displayName:qx.locale.Manager.tr(U)});};return this._hiddenConfigFakeFile;},getAcceptedFiles:function(bD){return this._acceptedFiles[bD.getFullPath()];}},properties:{open:{check:g,event:t,apply:P,init:false},loaded:{check:g,event:s,init:false},loading:{check:g,event:bw,init:false},parent:{event:S,init:null},children:{check:j,event:x,apply:bu,deferredInit:true},fakeChildren:{check:z,nullable:true},displayName:{check:h,init:N,event:bx},fake:{check:o,init:false,event:l},overrideIcon:{check:o,init:false},icon:{check:h,nullable:true,event:K},hash:{check:br,nullable:true},editing:{check:o,init:false,event:bt},special:{check:h,nullable:true,event:C},temporary:{check:o,init:false,event:p},valid:{check:o,init:true,event:e},content:{check:h,nullable:true},modified:{check:o,init:false,event:Y},hasChildren:{check:g,event:B,apply:r,init:false},name:{check:I,event:V,init:N,apply:bq},type:{check:[H,bm],nullable:true,apply:w},parentFolder:{check:h,nullable:true},readable:{check:o,init:false,event:T},writeable:{check:o,init:false,event:k},mounted:{check:o,init:false,event:G},trash:{check:o,init:false,event:bp},inTrash:{check:o,init:false,event:y}},members:{__vy:null,__vz:null,__vA:null,isRelated:function(bE){return this.getFullPath()===bE;},_handleFileEvent:function(bF){if(this.isFake()){return;};var bG=bF.getData();switch(bG.action){case c:this.reload();break;case bo:if(this.getType()===H&&bG.path.startsWith(this.getFullPath())){this.reload();};break;case L:if(bG.path===this.getFullPath()){this.dispose();}else if(this.getType()===H&&bG.path.startsWith(this.getFullPath())){var bH=this.getChildren();bH.some(function(bI){if(bI.getFullPath()===bG.path){bH.remove(bI);this.removeRelatedBindings(bI);return true;};},this);};break;};},_applyName:function(bK,bJ){this.__vz=null;if(bK&&(this.getDisplayName()===null||this.getDisplayName()===bJ)){this.setDisplayName(bK);};},getPath:function(){if(!this.__vy){var bL=this.getParentFolder();if(!bL){bL=n;}else if(!bL.endsWith(X)){bL+=X;};this.__vy=bL;};return this.__vy;},_onOpen:function(bM){if(!this.isLoaded()&&bM){this.load();};this._maintainIcon();},_maintainIcon:function(){if(!this.isOverrideIcon()){if(this.getType()===bm){this.setIcon(cv.theme.dark.Images.getIcon(bm,18));}else if(this.isTrash()){this.setIcon(cv.theme.dark.Images.getIcon(F,18));}else if(this.isOpen()){this.setIcon(cv.theme.dark.Images.getIcon(A,18));}else if(this.isMounted()){this.setIcon(cv.theme.dark.Images.getIcon(v,18));}else {this.setIcon(cv.theme.dark.Images.getIcon(Q,18));};};},isConfigFile:function(){return cv.ui.manager.model.FileItem.isConfigFile(this.getName());},_applyHasChildren:function(bN){if(bN===true&&this.getChildren().length===0){this.getChildren().push(new cv.ui.manager.model.FileItem(n));};},unload:function(){this.setLoaded(false);this.setLoading(false);this.getChildren().removeAll().forEach(function(bO){this.removeRelatedBindings(bO);},this);},reload:function(bP,bQ){this.unload();return this.load(bP,bQ);},addChild:function(bS){var bR=bS.getParent();if(bR!==this){bR.getChildren().remove(bS);bR.removeRelatedBindings(bS);};bS.setParent(this);if(bS.getType()!==u||!bS.isMounted()){this.bind(M,bS,M);};this.getChildren().push(bS);},_onGet:function(bT){var bU=this.getChildren();bU.removeAll().forEach(function(bV){this.removeRelatedBindings(bV);},this);if(bT){bT.forEach(function(bW){var bX=new cv.ui.manager.model.FileItem(null,null,this);bX.set(bW);bU.push(bX);},this);};if(this.getFakeChildren()){bU.append(this.getFakeChildren());};this.sortElements();this.setLoaded(true);if(this.__vA){this.__vA();};this.setLoading(false);},_onError:function(bY){console.error(bY);cv.ui.manager.snackbar.Controller.error(bY);this.getChildren().removeAll().forEach(function(ca){this.removeRelatedBindings(ca);},this);this.setLoaded(true);if(this.__vA){this.__vA();};this.setLoading(false);},load:function(cb,cc){if(this.getType()===bm){this.setLoaded(true);return;}else if(this.isFake()){this.setLoaded(true);if(this.getFakeChildren()){this.getChildren().append(this.getFakeChildren());};return;};if(this.isLoading()){if(cb){this.addListenerOnce(bw,cb,cc);};}else if(this.isLoaded()){if(cb){cb.apply(cc);};}else {this.setLoading(true);if(cb){this.__vA=cb.bind(cc||this);};cv.io.rest.Client.getFsClient().readSync({path:this.getFullPath()},function(ce,cd){if(ce){this._onError(ce);}else {this._onGet(cd);};},this);};},getFullPath:function(){if(!this.__vz){this.__vz=this.getPath()+this.getName();};return this.__vz;},getBusTopic:function(){return q+this.getFullPath().replace(/\//g,J);},getUri:function(){return i+this.getFullPath();},getServerPath:function(){return qx.util.LibraryManager.getInstance().get(bn,bv)+W+this.getFullPath();},sortElements:function(){var cf=function(a,b){if(a.getType()===H){if(b.getType()===H){if(a.isTrash()){return 1;}else if(b.isTrash()){return -1;};return a.getName().localeCompare(b.getName());}else {return -1;};}else if(b.getType()===H){return 1;}else {return a.getName().localeCompare(b.getName());};};this.getChildren().sort(cf);},openPath:function(cg){var ch=qx.lang.Type.isArray(cg)?cg:cg.split(X);var ci=ch.shift();this.getChildren().some(function(cj){if(cj.getName()===ci){cj.load(function(){cj.setOpen(true);if(ch.length>0){cj.openPath(ch);};},this);return true;};},this);}},destruct:function(){this.__vz=null;}});})();(function(){var a='@MaterialIcons/folder_open',b='@MaterialIcons/compare_arrows',c='@MaterialIcons/arrow_drop_down',d='@MaterialIcons/settings',e='@MaterialIcons/text_rotation_none',f='@MaterialIcons/redo',g='cv.theme.dark.Images',h='@MaterialIcons/save',i='@MaterialIcons/image',j='@MaterialIcons/exit_to_app',k='@MaterialIcons/cloud_download',l='@MaterialIcons/create_new_folder',m='@MaterialIcons/check_circle',n='@MaterialIcons/remove_red_eye',o='static',p='@MaterialIcons/folder_special',q='@MaterialIcons/ballot',r='@MaterialIcons/cloud_upload',s='@MaterialIcons/home',t='@MaterialIcons/file_copy',u='@MaterialIcons/view_module',v='@MaterialIcons/delete',w='@MaterialIcons/note_add',x='@MaterialIcons/folder',y='@MaterialIcons/error',z='@MaterialIcons/close',A='@MaterialIcons/image_search',B='@MaterialIcons/spellcheck',C='@MaterialIcons/sync',D='@MaterialIcons/open_in_browser',E='@MaterialIcons/view_headline',F='@MaterialIcons/open_with',G='@MaterialIcons/add',H='@MaterialIcons/menu',I='@MaterialIcons/arrow_drop_up',J='@MaterialIcons/format_align_left',K='/',L='@MaterialIcons/',M='@MaterialIcons/insert_drive_file',N='@MaterialIcons/undo',O='@MaterialIcons/edit';qx.Class.define(g,{type:o,statics:{ICONS:{'new':G,'new-file':w,'new-folder':l,'save':h,'delete':v,'close':z,'quit':j,'undo':N,'redo':f,'hidden-config':d,'reload':C,'add':G,'mounted-folder':p,'folder':x,'folder-open':a,'file':M,'download':k,'upload':r,'rename':e,'compare':b,'preview':n,'trash':v,'open':D,'open-with':F,'validate':B,'valid':m,'error':y,'image':i,'text':J,'xml':q,'icons':A,'home':s,'edit':O,'menu':H,'drop-down':c,'drop-up':I,'clone-file':t,'listViewMode':E,'previewMode':u},getIcon:function(name,P){return this.ICONS.hasOwnProperty(name)?this.ICONS[name]+K+P:L+name+K+P;}}});})();(function(){var a='list',b='error',c='cv-snackbar',d='statusText',e='cv.ui.manager.snackbar.Controller',f='changeMessages',g='qx.data.Array',h='',i='close',j='_listController',k='cv.manager.msg.snackbar',l='model',m='singleton',n='object';qx.Class.define(e,{extend:qx.ui.core.Widget,type:m,construct:function(){qx.ui.core.Widget.call(this);this._setLayout(new qx.ui.layout.VBox(8));this.initMessages(new qx.data.Array());qx.event.message.Bus.subscribe(k,this._onMessage,this);this._listController=new qx.data.controller.List(this.getMessages(),this.getChildControl(a));this._initDelegate();},statics:{info:function(p){var o=new cv.ui.manager.model.Message();o.set({title:p});qx.event.message.Bus.dispatchByName(k,o);},error:function(r){var q=new cv.ui.manager.model.Message();if(typeof r===n&&r.hasOwnProperty(d)){r=r.statusText;};q.set({title:r,type:b,sticky:true});qx.event.message.Bus.dispatchByName(k,q);}},properties:{appearance:{refine:true,init:c},messages:{check:g,deferredInit:true,event:f}},members:{_listController:null,_onMessage:function(t){var s=t.getData();if(s instanceof cv.ui.manager.model.Message){this.getMessages().push(s);this.show();};},_onCloseMessage:function(v){var u=v.getData();this.getMessages().remove(u);if(this.getMessages().length===0){this.exclude();};},_initDelegate:function(){this._listController.setDelegate({createItem:function(){var w=new cv.ui.manager.snackbar.Message();w.addListener(i,this._onCloseMessage,this);return w;}.bind(this),bindItem:function(y,x,z){y.bindProperty(h,l,null,x,z);}});},_createChildControlImpl:function(B){var A;switch(B){case a:A=new qx.ui.form.List();this._add(A,{flex:1});break;};return A||qx.ui.core.Widget.prototype._createChildControlImpl.call(this,B);}},destruct:function(){qx.event.message.Bus.unsubscribe(k,this._onMessage,this);this._disposeObjects(j);}});})();(function(){var a="change",b="qx.data.Array",c="qx.data.controller.MSelection",d="_applySelection",e="Target property is needed.",f="changeValue",g="changeSelection",h="target",j="qx.event.type.Data";qx.Mixin.define(c,{construct:function(){if(!qx.Class.hasProperty(this.constructor,h)){throw new Error(e);};if(this.getSelection()==null){this.__vB=new qx.data.Array();this.setSelection(this.__vB);};},properties:{selection:{check:b,event:g,apply:d,init:null}},events:{"changeSelection":j,"changeValue":j},members:{_modifingSelection:0,__vC:null,__vD:null,__vB:null,setValue:function(k){if(null===k){this.resetSelection();}else {this.setSelection(k);};return null;},getValue:function(){return this.getSelection();},resetValue:function(){this.resetSelection();},_applySelection:function(m,l){if(this.__vD!=undefined&&l!=undefined){l.removeListenerById(this.__vD);this.__vD=null;};if(m){this.__vD=m.addListener(a,this.__vE,this);};this._updateSelection();},__vE:function(){this._updateSelection();},_changeTargetSelection:function(){if(this.getTarget()==null){return;};if(!this.__vF()&&!this.__vG()){return;};if(this._inSelectionModification()){return;};var p=this.getTarget().getSelection();var o=this.getSelection();if(o==null){o=new qx.data.Array();this.__vB=o;this.setSelection(o);};var q=[0,o.getLength()];for(var i=0;i<p.length;i++ ){var n=p[i].getModel();if(n!==null){q.push(n);};};o.splice.apply(o,q).dispose();this.fireDataEvent(g,this.getSelection());},_addChangeTargetListener:function(s,r){if(this.__vC!=undefined&&r!=undefined){r.removeListenerById(this.__vC);};if(s!=null){if(this.__vF()||this.__vG()){this.__vC=s.addListener(g,this._changeTargetSelection,this);};};},_updateSelection:function(){if(!this.getTarget()||!this.getSelection()){return;};this._startSelectionModification();if(this.__vF()){var v=[];for(var i=0;i<this.getSelection().length;i++ ){var w=this.getSelection().getItem(i);var x=this.__vI(w);if(x!=null){v.push(x);};};this.getTarget().setSelection(v);v=this.getTarget().getSelection();var t=[];for(var i=0;i<v.length;i++ ){t[i]=v[i].getModel();};for(var i=this.getSelection().length-1;i>=0;i-- ){if(!t.includes(this.getSelection().getItem(i))){this.getSelection().splice(i,1).dispose();};};}else if(this.__vG()){var u=this.getSelection().getItem(this.getSelection().length-1);if(u!==undefined){this.__vH(u);this.getSelection().splice(0,this.getSelection().getLength()-1).dispose();}else {this.getTarget().resetSelection();};};this._endSelectionModification();this.fireDataEvent(f,this.getSelection());},__vF:function(){var y=this.getTarget().constructor;return qx.Class.implementsInterface(y,qx.ui.core.IMultiSelection);},__vG:function(){var z=this.getTarget().constructor;return qx.Class.implementsInterface(z,qx.ui.core.ISingleSelection);},__vH:function(A){var B=this.__vI(A);if(B==null){return;};if(this.__vF()){this.getTarget().addToSelection(B);}else if(this.__vG()){this.getTarget().setSelection([B]);};},__vI:function(C){var D=this.getTarget().getSelectables(true);for(var i=0;i<D.length;i++ ){if(D[i].getModel()==C){return D[i];};};return null;},_startSelectionModification:function(){this._modifingSelection++ ;},_endSelectionModification:function(){this._modifingSelection>0?this._modifingSelection-- :null;},_inSelectionModification:function(){return this._modifingSelection>0;}},destruct:function(){if(this.__vB){this.__vB.dispose();};}});})();(function(){var a="qx.ui.core.IMultiSelection";qx.Interface.define(a,{extend:qx.ui.core.ISingleSelection,members:{selectAll:function(){return true;},addToSelection:function(b){return arguments.length==1;},removeFromSelection:function(c){return arguments.length==1;}}});})();(function(){var a="changeModel",b="changeNullValueTitle",c="_applyLabelOptions",d="_applyLabelPath",e="changeTarget",f="_applyNullValueTitle",g="Boolean",h="changeAllowNull",k="change",m="icon",n="ReverseBindingId",o="_applyModel",p="changeNullValueIcon",q="_applyNullValueIcon",r="qx.data.controller.List",s="_applyIconPath",t="BindingId",u="_applyDelegate",v="",w="changeDelegate",x="_applyAllowNull",y="_applyTarget",z="]",A="qx.data.IListData",B="model[",C="model",D="label",E="String",F="_applyIconOptions",G=".";qx.Class.define(r,{extend:qx.core.Object,include:qx.data.controller.MSelection,implement:qx.data.controller.ISelection,construct:function(H,I,J){qx.core.Object.call(this);this.__vJ=[];this.__vK=[];this.__vL=[];this.__vM={};if(J!=null){this.setLabelPath(J);};if(H!=null){this.setModel(H);};if(I!=null){this.setTarget(I);};},properties:{model:{check:A,apply:o,event:a,nullable:true,dereference:true},target:{apply:y,event:e,nullable:true,init:null,dereference:true},labelPath:{check:E,apply:d,nullable:true},iconPath:{check:E,apply:s,nullable:true},labelOptions:{apply:c,nullable:true},iconOptions:{apply:F,nullable:true},delegate:{apply:u,event:w,init:null,nullable:true},allowNull:{apply:x,event:h,init:false,nullable:false,check:g},nullValueTitle:{apply:f,event:b,init:null,nullable:true,check:E},nullValueIcon:{apply:q,event:p,init:null,nullable:true,check:E}},members:{__pP:null,__vJ:null,__vM:null,__vK:null,__vL:null,__vN:null,__vO:null,update:function(){this.__vS();this.__vW();this._updateSelection();},_applyDelegate:function(L,K){this._setConfigureItem(L,K);this._setFilter(L,K);this._setCreateItem(L,K);this._setBindItem(L,K);},_applyIconOptions:function(N,M){this.__vW();},_applyLabelOptions:function(P,O){this.__vW();},_applyIconPath:function(R,Q){this.__vW();},_applyLabelPath:function(T,S){this.__vW();},_applyAllowNull:function(U,V){this.__vP();},_applyNullValueTitle:function(W,X){this.__vP();},_applyNullValueIcon:function(Y,ba){this.__vP();},__vP:function(){if(this.getModel()&&this.getTarget()){this.update();};},_applyModel:function(bd,bb){if(bb!=undefined){if(this.__pP!=undefined){bb.removeListenerById(this.__pP);};};if(this.getSelection()!=undefined&&this.getSelection().length>0){this.getSelection().splice(0,this.getSelection().length).dispose();};if(bd!=null){this.__pP=bd.addListener(k,this.__vR,this);this.__vY();this.__vS();if(bb==null){this._changeTargetSelection();}else {this.__vN=true;qx.ui.core.queue.Widget.add(this);};}else {var bc=this.getTarget();if(bc!=null){var length=bc.getChildren().length;for(var i=0;i<length;i++ ){this.__vV();};};};},_applyTarget:function(bg,bf){this._addChangeTargetListener(bg,bf);if(bf!=undefined){var be=bf.removeAll();for(var i=0;i<be.length;i++ ){be[i].destroy();};this.removeAllBindings();};if(bg!=null){if(this.getModel()!=null){for(var i=0;i<this.__vJ.length;i++ ){this.__vU(this.__mT(i));};};};},__vQ:false,__vR:function(){if(this.__vQ){return;};this.__vQ=true;this.__vO=true;qx.ui.core.queue.Widget.add(this);this.update();this.__vQ=false;},syncWidget:function(){if(this.__vN){this._changeTargetSelection();};if(this.__vO){this._updateSelection();};this.__vO=this.__vN=null;},__vS:function(){if(this.getTarget()==null){return;};this.__vY();var bi=this.__vJ.length;var bh=this.getTarget().getChildren().length;if(bi>bh){for(var j=bh;j<bi;j++ ){this.__vU(this.__mT(j));};}else if(bi<bh){for(var j=bh;j>bi;j-- ){this.__vV();};};this.__vY();this.__vN=true;qx.ui.core.queue.Widget.add(this);},__vT:function(){var bj=this.getModel();if(bj!=null){bj.removeListenerById(this.__pP);this.__pP=bj.addListener(k,this.__vR,this);};},_createItem:function(){var bl=this.getDelegate();if(bl!=null&&bl.createItem!=null){var bk=bl.createItem();}else {var bk=new qx.ui.form.ListItem();};if(bl!=null&&bl.configureItem!=null){bl.configureItem(bk);};return bk;},__vU:function(bm){var bn=this._createItem();this._bindListItem(bn,bm);this.getTarget().add(bn);},__vV:function(){this._startSelectionModification();var bp=this.getTarget().getChildren();var bo=bp.length-1;var bq=bp[bo];this._removeBindingsFrom(bq);this.getTarget().removeAt(bo);bq.destroy();this._endSelectionModification();},getVisibleModels:function(){var br=[];var bs=this.getTarget();if(bs!=null){var bt=bs.getChildren();for(var i=0;i<bt.length;i++ ){br.push(bt[i].getModel());};};return new qx.data.Array(br);},_bindListItem:function(bu,bw){if(bw<0){bu.setLabel(this.getNullValueTitle()||v);bu.setIcon(this.getNullValueIcon());bu.setModel(null);return;};var bv=this.getDelegate();if(bv!=null&&bv.bindItem!=null){bv.bindItem(this,bu,bw);}else {this.bindDefaultProperties(bu,bw);};},bindDefaultProperties:function(bx,by){this.bindProperty(v,C,null,bx,by);this.bindProperty(this.getLabelPath(),D,this.getLabelOptions(),bx,by);if(this.getIconPath()!=null){this.bindProperty(this.getIconPath(),m,this.getIconOptions(),bx,by);};},bindProperty:function(bB,bE,bC,bA,bz){if(bC!=null){var bC=qx.lang.Object.clone(bC);this.__vM[bE]=bC.onUpdate;delete bC.onUpdate;}else {bC={};this.__vM[bE]=null;};bC.onUpdate=qx.lang.Function.bind(this._onBindingSet,this,bz);bC.ignoreConverter=C;var bD=B+bz+z;if(bB!=null&&bB!=v){bD+=G+bB;};var bF=this.bind(bD,bA,bE,bC);bA.setUserData(bE+t,bF);if(!this.__vK.includes(bE)){this.__vK.push(bE);};},bindPropertyReverse:function(bL,bI,bJ,bK,bG){var bH=B+bG+z;if(bL!=null&&bL!=v){bH+=G+bL;};var bM=bK.bind(bI,this,bH,bJ);bK.setUserData(bL+n,bM);if(!this.__vL.includes(bL)){this.__vL.push(bL);};},_onBindingSet:function(bN,bO,bP){if(this.getModel()==null||this._inSelectionModification()){return;};for(var i=0;i<this.__vK.length;i++ ){if(this.__vM[this.__vK[i]]!=null){this.__vM[this.__vK[i]]();};};},_removeBindingsFrom:function(bQ){for(var i=0;i<this.__vK.length;i++ ){var bR=bQ.getUserData(this.__vK[i]+t);if(bR!=null){this.removeBinding(bR);bQ.setUserData(this.__vK[i]+t,null);};};for(var i=0;i<this.__vL.length;i++ ){var bR=bQ.getUserData(this.__vL[i]+n);if(bR!=null){bQ.removeBinding(bR);bQ.getUserData(this.__vL[i]+n,null);};};},__vW:function(){if(this.getTarget()==null||this.getModel()==null){return;};var bS=this.getTarget().getChildren();for(var i=0;i<bS.length;i++ ){this._removeBindingsFrom(bS[i]);this._bindListItem(bS[i],this.__mT(i));};this.__vT();},_setConfigureItem:function(bV,bT){if(bV!=null&&bV.configureItem!=null&&this.getTarget()!=null){var bU=this.getTarget().getChildren();for(var i=0;i<bU.length;i++ ){bV.configureItem(bU[i]);};};},_setBindItem:function(bX,bW){if(bX!=null&&bX.bindItem!=null){if(bW!=null&&bW.bindItem!=null&&bX.bindItem==bW.bindItem){return;};this.__vW();};},_setCreateItem:function(ca,bY){if(this.getTarget()==null||this.getModel()==null||ca==null||ca.createItem==null){return;};this._startSelectionModification();var cc=this.getTarget().getChildren();for(var i=0,l=cc.length;i<l;i++ ){this._removeBindingsFrom(cc[i]);};var cb=this.getTarget().removeAll();for(var i=0;i<cb.length;i++ ){cb[i].destroy();};this.update();this._endSelectionModification();this._updateSelection();},_setFilter:function(cf,cd){if((cf==null||cf.filter==null)&&(cd!=null&&cd.filter!=null)){this.__vX();};if(this.getTarget()==null||this.getModel()==null||cf==null||cf.filter==null){return;};this._startSelectionModification();var ci=this.getTarget().getChildren();for(var i=0,l=ci.length;i<l;i++ ){this._removeBindingsFrom(ci[i]);};var ce=this.__vJ;this.__vY();if(ce.length>this.__vJ.length){for(var j=ce.length;j>this.__vJ.length;j-- ){this.getTarget().removeAt(j-1).destroy();};}else if(ce.length<this.__vJ.length){for(var j=ce.length;j<this.__vJ.length;j++ ){var ch=this._createItem();this.getTarget().add(ch);};};var cg=this.getTarget().getChildren();for(var i=0;i<cg.length;i++ ){this._bindListItem(cg[i],this.__mT(i));};this.__vT();this._endSelectionModification();this._updateSelection();},__vX:function(){this.__vY();this.__vS();this.__vW();this.__vO=true;qx.ui.core.queue.Widget.add(this);},__vY:function(){var ck=this.getModel();if(ck==null){return;};var cl=this.getDelegate();if(cl!=null){var cj=cl.filter;};this.__vJ=[];if(this.isAllowNull()){this.__vJ.push(-1);};for(var i=0;i<ck.getLength();i++ ){if(cj==null||cj(ck.getItem(i))){this.__vJ.push(i);};};},__mT:function(cm){return this.__vJ[cm];}},destruct:function(){this.__vJ=this.__vM=this.__vK=null;this.__vL=null;qx.ui.core.queue.Widget.remove(this);}});})();(function(){var a="listitem",b="hovered",c="pointerover",d="qx.ui.form.ListItem",e="qx.event.type.Event",f="pointerout";qx.Class.define(d,{extend:qx.ui.basic.Atom,implement:[qx.ui.form.IModel],include:[qx.ui.form.MModelProperty],construct:function(h,i,g){qx.ui.basic.Atom.call(this,h,i);if(g!=null){this.setModel(g);};this.addListener(c,this._onPointerOver,this);this.addListener(f,this._onPointerOut,this);},events:{"action":e},properties:{appearance:{refine:true,init:a}},members:{_forwardStates:{focused:true,hovered:true,selected:true,dragover:true},_onPointerOver:function(){this.addState(b);},_onPointerOut:function(){this.removeState(b);}},destruct:function(){this.removeListener(c,this._onPointerOver,this);this.removeListener(f,this._onPointerOut,this);}});})();(function(){var a='error',b='changeContent',c='String',d='Boolean',e='cv.ui.manager.model.Message',f='changeSticky',g='',h='warning',i='hint',j='alert',k='changeTitle',l='changeType';qx.Class.define(e,{extend:qx.core.Object,properties:{title:{check:c,init:g,event:k},content:{check:c,init:g,event:b},type:{check:[j,i,h,a],nullable:true,event:l},sticky:{check:d,init:false,event:f}}});})();(function(){var a='sticky',b='timeout',c='-',d='warning',e='qx.event.type.Data',f='_applyTimeout',g='alert',h='value',i='cv-snackbar-msg',j='tap',k='cv.ui.manager.model.Message',l='cv.ui.manager.snackbar.Message',m='icon',n='close',o='_applyModel',p='hint',q='_timer',r='appear',s='title',t='type',u='_applyType',v='error',w='content',x='Number';qx.Class.define(l,{extend:qx.ui.core.Widget,construct:function(){qx.ui.core.Widget.call(this);this._setLayout(new qx.ui.layout.HBox(8));this.addListener(r,this._onAppear,this);},events:{'close':e},properties:{appearance:{refine:true,init:i},model:{check:k,nullable:true,apply:o},timeout:{check:x,init:5000,apply:f},type:{check:[g,p,d,v],nullable:true,apply:u}},members:{_timer:null,_applyModel:function(z,y){if(y){y.removeRelatedBindings(this);y.removeRelatedBindings(this.getChildControl(w));};if(z){z.bind(s,this.getChildControl(w),h);z.bind(t,this,t);z.bind(a,this,b,{converter:function(A){return A?0:5000;}});this.getChildControl(n);};},_applyType:function(B){if(B){this.setDecorator(this.getAppearance()+c+B);}else {this.setDecorator(this.getAppearance());};},_applyTimeout:function(C){if(this._timer){this._timer.stop();if(C===0){this._timer=null;};};},_onAppear:function(){var D=this.getTimeout();if(this._timer){this._timer.stop();};if(D>0){this._timer=qx.event.Timer.once(this.close,this,D);};},close:function(){this.fireDataEvent(n,this.getModel());},_createChildControlImpl:function(F){var E;switch(F){case m:E=new qx.ui.basic.Image();this._addAt(E,0);break;case w:E=new qx.ui.basic.Label();this._addAt(E,1,{flex:1});break;case n:E=new qx.ui.basic.Image(cv.theme.dark.Images.getIcon(n,15));E.addListener(j,this.close,this);this._addAt(E,2);break;};return E||qx.ui.core.Widget.prototype._createChildControlImpl.call(this,F);}},destruct:function(){this._disposeObjects(q);}});})();(function(){var a="indexOf",b="addAfter",c="add",d="addBefore",e="_",f="addAt",g="hasChildren",h="removeAt",i="removeAll",j="getChildren",k="remove",l="qx.ui.core.MRemoteChildrenHandling";qx.Mixin.define(l,{members:{__wa:function(q,m,o,n){var p=this.getChildrenContainer();if(p===this){q=e+q;};return (p[q])(m,o,n);},getChildren:function(){return this.__wa(j);},hasChildren:function(){return this.__wa(g);},add:function(s,r){return this.__wa(c,s,r);},remove:function(t){return this.__wa(k,t);},removeAll:function(){return this.__wa(i);},indexOf:function(u){return this.__wa(a,u);},addAt:function(x,v,w){this.__wa(f,x,v,w);},addBefore:function(y,A,z){this.__wa(d,y,A,z);},addAfter:function(D,B,C){this.__wa(b,D,B,C);},removeAt:function(E){return this.__wa(h,E);}}});})();(function(){var c="os.name",d="Abstract method call: _getLastSelectable()",f="Could not select more than one items in mode: ",g="Boolean",h="one",j="Abstract method call: _getLocation()",k="Left",m="Abstract method call: _scrollBy()",n="The method getSelectedItem() is only supported in 'single' and 'one' selection mode!",o="Abstract method call: _scrollItemIntoView()",p="Escape",q="Abstract method call: _isSelectable()",r="Space",s="Abstract method call: _getPage()",t="right",u="lead",v="Down",w="Abstract method call: _getFirstSelectable()",x="Up",y="qx.event.type.Data",z="under",A="A",B="_applyMode",C="PageDown",D="Can not select multiple items in selection mode: ",E="osx",F="mouse",G="interval",H="Abstract method call: _styleSelectable()",I="anchor",J="Abstract method call: _capture()",K="Abstract method call: _getDimension()",L="The method invertSelection() is only supported in 'multi' and 'additive' selection mode!",M="!",N="Abstract method call: _getScroll()",O="Abstract method call: _getRelatedSelectable()",P="End",Q="quick",R="selected",S="key",T="__wd",U="Abstract method call: _getSelectableLocationX()",V="multi",W="left",X="Abstract method call: _selectableToHashCode()",Y="Home",bt="Can not select all items in selection mode: ",bu="single",bv="Right",bp="Abstract method call: getSelectables()",bq="Abstract method call: _getSelectableLocationY()",br="additive",bs="abstract",bA="changeSelection",bB="above",bC="Abstract method call: _getSelectableRange()",bD="tap",bw="drag",bx="PageUp",by="qx.ui.core.selection.Abstract",bz="Abstract method call: _releaseCapture()";qx.Class.define(by,{type:bs,extend:qx.core.Object,construct:function(){qx.core.Object.call(this);this.__ma={};},events:{"changeSelection":y},properties:{mode:{check:[bu,V,br,h],init:bu,apply:B},drag:{check:g,init:false},quick:{check:g,init:false}},members:{__wb:0,__wc:0,__wd:null,__we:null,__wf:null,__wg:null,__wh:null,__wi:null,__wj:null,__wk:null,__wl:null,__wm:null,__wn:null,__wo:null,__wp:null,__wq:null,__wr:null,__ma:null,__ws:null,__wt:null,_userInteraction:false,__wu:null,getSelectionContext:function(){return this.__wq;},selectAll:function(){var bE=this.getMode();if(bE==bu||bE==h){throw new Error(bt+bE);};this._selectAllItems();this._fireChange();},selectItem:function(bF){this._setSelectedItem(bF);var bG=this.getMode();if(bG!==bu&&bG!==h){this._setLeadItem(bF);this._setAnchorItem(bF);};this._scrollItemIntoView(bF);this._fireChange();},addItem:function(bH){var bI=this.getMode();if(bI===bu||bI===h){this._setSelectedItem(bH);}else {if(this._getAnchorItem()==null){this._setAnchorItem(bH);};this._setLeadItem(bH);this._addToSelection(bH);};this._scrollItemIntoView(bH);this._fireChange();},removeItem:function(bJ){this._removeFromSelection(bJ);if(this.getMode()===h&&this.isSelectionEmpty()){var bK=this._applyDefaultSelection();if(bK==bJ){return;};};if(this.getLeadItem()==bJ){this._setLeadItem(null);};if(this._getAnchorItem()==bJ){this._setAnchorItem(null);};this._fireChange();},selectItemRange:function(bL,bM){var bN=this.getMode();if(bN==bu||bN==h){throw new Error(D+bN);};this._selectItemRange(bL,bM);this._setAnchorItem(bL);this._setLeadItem(bM);this._scrollItemIntoView(bM);this._fireChange();},clearSelection:function(){if(this.getMode()==h){var bO=this._applyDefaultSelection(true);if(bO!=null){return;};};this._clearSelection();this._setLeadItem(null);this._setAnchorItem(null);this._fireChange();},replaceSelection:function(bP){var bQ=this.getMode();if(bQ==h||bQ===bu){if(bP.length>1){throw new Error(f+bQ+M);};if(bP.length==1){this.selectItem(bP[0]);}else {this.clearSelection();};return;}else {this._replaceMultiSelection(bP);};},getSelectedItem:function(){var bR=this.getMode();if(bR===bu||bR===h){var bS=this._getSelectedItem();return bS!=undefined?bS:null;};throw new Error(n);},getSelection:function(){return Object.values(this.__ma);},getSortedSelection:function(){var bU=this.getSelectables();var bT=Object.values(this.__ma);bT.sort(function(a,b){return bU.indexOf(a)-bU.indexOf(b);});return bT;},isItemSelected:function(bV){var bW=this._selectableToHashCode(bV);return this.__ma[bW]!==undefined;},isSelectionEmpty:function(){return qx.lang.Object.isEmpty(this.__ma);},invertSelection:function(){var bY=this.getMode();if(bY===bu||bY===h){throw new Error(L);};var bX=this.getSelectables();for(var i=0;i<bX.length;i++ ){this._toggleInSelection(bX[i]);};this._fireChange();},_setLeadItem:function(cb){var ca=this.__wr;if(ca!==null){this._styleSelectable(ca,u,false);};if(cb!==null){this._styleSelectable(cb,u,true);};this.__wr=cb;},getLeadItem:function(){return this.__wr;},_setAnchorItem:function(cd){var cc=this.__ws;if(cc!=null){this._styleSelectable(cc,I,false);};if(cd!=null){this._styleSelectable(cd,I,true);};this.__ws=cd;},_getAnchorItem:function(){return this.__ws!==null?this.__ws:null;},_isSelectable:function(ce){throw new Error(q);},_getSelectableFromPointerEvent:function(event){var cf=event.getTarget();if(cf&&this._isSelectable(cf)){return cf;};return null;},_selectableToHashCode:function(cg){throw new Error(X);},_styleSelectable:function(ch,ci,cj){throw new Error(H);},_capture:function(){throw new Error(J);},_releaseCapture:function(){throw new Error(bz);},_getLocation:function(){throw new Error(j);},_getDimension:function(){throw new Error(K);},_getSelectableLocationX:function(ck){throw new Error(U);},_getSelectableLocationY:function(cl){throw new Error(bq);},_getScroll:function(){throw new Error(N);},_scrollBy:function(cm,cn){throw new Error(m);},_scrollItemIntoView:function(co){throw new Error(o);},getSelectables:function(cp){throw new Error(bp);},_getSelectableRange:function(cr,cq){throw new Error(bC);},_getFirstSelectable:function(){throw new Error(w);},_getLastSelectable:function(){throw new Error(d);},_getRelatedSelectable:function(cs,ct){throw new Error(O);},_getPage:function(cv,cu){throw new Error(s);},_applyMode:function(cx,cw){this._setLeadItem(null);this._setAnchorItem(null);this._clearSelection();if(cx===h){this._applyDefaultSelection(true);};this._fireChange();},handlePointerOver:function(event){if(this.__wu!=null&&this.__wu!=this._getScroll().top){this.__wu=null;return;};if(event.getPointerType()!=F){return;};this._userInteraction=true;if(!this.getQuick()){this._userInteraction=false;return;};var cz=this.getMode();if(cz!==h&&cz!==bu){this._userInteraction=false;return;};var cy=this._getSelectableFromPointerEvent(event);if(cy===null){this._userInteraction=false;return;};this._setSelectedItem(cy);this._fireChange(Q);this._userInteraction=false;},handlePointerDown:function(event){this._userInteraction=true;var cB=this._getSelectableFromPointerEvent(event);if(cB===null){this._userInteraction=false;return;};var cD=event.isCtrlPressed()||(qx.core.Environment.get(c)==E&&event.isMetaPressed());var cA=event.isShiftPressed();if(this.isItemSelected(cB)&&!cA&&!cD&&!this.getDrag()){this.__wt=cB;this._userInteraction=false;return;}else {this.__wt=null;};this._scrollItemIntoView(cB);var cC=this.getMode();if(this.getDrag()&&cC!==bu&&cC!==h&&!cA&&!cD&&event.getPointerType()==F){this._setAnchorItem(cB);this._setLeadItem(cB);this.__wh=this._getLocation();this.__we=this._getScroll();this.__wi=event.getDocumentLeft()+this.__we.left;this.__wj=event.getDocumentTop()+this.__we.top;this.__wk=true;this._capture();};this._fireChange(bD);this._userInteraction=false;},handleTap:function(event){this._userInteraction=true;var cH=event.isCtrlPressed()||(qx.core.Environment.get(c)==E&&event.isMetaPressed());var cE=event.isShiftPressed();if(!cH&&!cE&&this.__wt!=null){this._userInteraction=false;var cF=this._getSelectableFromPointerEvent(event);if(cF===null||!this.isItemSelected(cF)){return;};};var cF=this._getSelectableFromPointerEvent(event);if(cF===null){this._userInteraction=false;return;};switch(this.getMode()){case bu:case h:this._setSelectedItem(cF);break;case br:this._setLeadItem(cF);this._setAnchorItem(cF);this._toggleInSelection(cF);break;case V:this._setLeadItem(cF);if(cE){var cG=this._getAnchorItem();if(cG===null){cG=this._getFirstSelectable();this._setAnchorItem(cG);};this._selectItemRange(cG,cF,cH);}else if(cH){this._setAnchorItem(cF);this._toggleInSelection(cF);}else {this._setAnchorItem(cF);this._setSelectedItem(cF);};break;};this._cleanup();},handleLoseCapture:function(event){this._cleanup();},handlePointerMove:function(event){if(!this.__wk){return;};this.__wl=event.getDocumentLeft();this.__wm=event.getDocumentTop();this._userInteraction=true;var cI=this.__wl+this.__we.left;if(cI>this.__wi){this.__wn=1;}else if(cI<this.__wi){this.__wn=-1;}else {this.__wn=0;};var cJ=this.__wm+this.__we.top;if(cJ>this.__wj){this.__wo=1;}else if(cJ<this.__wj){this.__wo=-1;}else {this.__wo=0;};var location=this.__wh;if(this.__wl<location.left){this.__wb=this.__wl-location.left;}else if(this.__wl>location.right){this.__wb=this.__wl-location.right;}else {this.__wb=0;};if(this.__wm<location.top){this.__wc=this.__wm-location.top;}else if(this.__wm>location.bottom){this.__wc=this.__wm-location.bottom;}else {this.__wc=0;};if(!this.__wd){this.__wd=new qx.event.Timer(100);this.__wd.addListener(G,this._onInterval,this);};this.__wd.start();this._autoSelect();event.stopPropagation();this._userInteraction=false;},handleAddItem:function(e){var cK=e.getData();if(this.getMode()===h&&this.isSelectionEmpty()){this.addItem(cK);};},handleRemoveItem:function(e){this.removeItem(e.getData());},_cleanup:function(){if(!this.getDrag()&&this.__wk){return;};if(this.__wp){this._fireChange(bD);};delete this.__wk;delete this.__wf;delete this.__wg;this._releaseCapture();if(this.__wd){this.__wd.stop();};},_onInterval:function(e){this._scrollBy(this.__wb,this.__wc);this.__we=this._getScroll();this._autoSelect();},_autoSelect:function(){var cT=this._getDimension();var cM=Math.max(0,Math.min(this.__wl-this.__wh.left,cT.width))+this.__we.left;var cL=Math.max(0,Math.min(this.__wm-this.__wh.top,cT.height))+this.__we.top;if(this.__wf===cM&&this.__wg===cL){return;};this.__wf=cM;this.__wg=cL;var cQ=this._getAnchorItem();var cO=cQ;var cR=this.__wn;var cU,cN;while(cR!==0){cU=cR>0?this._getRelatedSelectable(cO,t):this._getRelatedSelectable(cO,W);if(cU!==null){cN=this._getSelectableLocationX(cU);if((cR>0&&cN.left<=cM)||(cR<0&&cN.right>=cM)){cO=cU;continue;};};break;};var cS=this.__wo;var cV,cP;while(cS!==0){cV=cS>0?this._getRelatedSelectable(cO,z):this._getRelatedSelectable(cO,bB);if(cV!==null){cP=this._getSelectableLocationY(cV);if((cS>0&&cP.top<=cL)||(cS<0&&cP.bottom>=cL)){cO=cV;continue;};};break;};var cW=this.getMode();if(cW===V){this._selectItemRange(cQ,cO);}else if(cW===br){if(this.isItemSelected(cQ)){this._selectItemRange(cQ,cO,true);}else {this._deselectItemRange(cQ,cO);};this._setAnchorItem(cO);};this._fireChange(bw);},__wv:{Home:1,Down:1,Right:1,PageDown:1,End:1,Up:1,Left:1,PageUp:1},handleKeyPress:function(event){this._userInteraction=true;var dd,dc;var df=event.getKeyIdentifier();var de=this.getMode();var cY=event.isCtrlPressed()||(qx.core.Environment.get(c)==E&&event.isMetaPressed());var da=event.isShiftPressed();var db=false;if(df===A&&cY){if(de!==bu&&de!==h){this._selectAllItems();db=true;};}else if(df===p){if(de!==bu&&de!==h){this._clearSelection();db=true;};}else if(df===r){var cX=this.getLeadItem();if(cX!=null&&!da){if(cY||de===br){this._toggleInSelection(cX);}else {this._setSelectedItem(cX);};db=true;};}else if(this.__wv[df]){db=true;if(de===bu||de==h){dd=this._getSelectedItem();}else {dd=this.getLeadItem();};if(dd!==null){switch(df){case Y:dc=this._getFirstSelectable();break;case P:dc=this._getLastSelectable();break;case x:dc=this._getRelatedSelectable(dd,bB);break;case v:dc=this._getRelatedSelectable(dd,z);break;case k:dc=this._getRelatedSelectable(dd,W);break;case bv:dc=this._getRelatedSelectable(dd,t);break;case bx:dc=this._getPage(dd,true);break;case C:dc=this._getPage(dd,false);break;};}else {switch(df){case Y:case v:case bv:case C:dc=this._getFirstSelectable();break;case P:case x:case k:case bx:dc=this._getLastSelectable();break;};};if(dc!==null){switch(de){case bu:case h:this._setSelectedItem(dc);break;case br:this._setLeadItem(dc);break;case V:if(da){var dg=this._getAnchorItem();if(dg===null){this._setAnchorItem(dg=this._getFirstSelectable());};this._setLeadItem(dc);this._selectItemRange(dg,dc,cY);}else {this._setAnchorItem(dc);this._setLeadItem(dc);if(!cY){this._setSelectedItem(dc);};};break;};this.__wu=this._getScroll().top;this._scrollItemIntoView(dc);};};if(db){event.stop();this._fireChange(S);};this._userInteraction=false;},_selectAllItems:function(){var dh=this.getSelectables();for(var i=0,l=dh.length;i<l;i++ ){this._addToSelection(dh[i]);};},_clearSelection:function(){var di=this.__ma;for(var dj in di){this._removeFromSelection(di[dj]);};this.__ma={};},_selectItemRange:function(dk,dp,dm){var dq=this._getSelectableRange(dk,dp);if(!dm){var dn=this.__ma;var dr=this.__ww(dq);for(var dl in dn){if(!dr[dl]){this._removeFromSelection(dn[dl]);};};};for(var i=0,l=dq.length;i<l;i++ ){this._addToSelection(dq[i]);};},_deselectItemRange:function(du,ds){var dt=this._getSelectableRange(du,ds);for(var i=0,l=dt.length;i<l;i++ ){this._removeFromSelection(dt[i]);};},__ww:function(dw){var dx={};var dv;for(var i=0,l=dw.length;i<l;i++ ){dv=dw[i];dx[this._selectableToHashCode(dv)]=dv;};return dx;},_getSelectedItem:function(){for(var dy in this.__ma){return this.__ma[dy];};return null;},_setSelectedItem:function(dA){if(this._isSelectable(dA)){var dz=this.__ma;var dB=this._selectableToHashCode(dA);if(!dz[dB]||(dz.length>=2)){this._clearSelection();this._addToSelection(dA);};};},_addToSelection:function(dC){var dD=this._selectableToHashCode(dC);if(this.__ma[dD]==null&&this._isSelectable(dC)){this.__ma[dD]=dC;this._styleSelectable(dC,R,true);this.__wp=true;};},_toggleInSelection:function(dE){var dF=this._selectableToHashCode(dE);if(this.__ma[dF]==null){this.__ma[dF]=dE;this._styleSelectable(dE,R,true);}else {delete this.__ma[dF];this._styleSelectable(dE,R,false);};this.__wp=true;},_removeFromSelection:function(dG){var dH=this._selectableToHashCode(dG);if(this.__ma[dH]!=null){delete this.__ma[dH];this._styleSelectable(dG,R,false);this.__wp=true;};},_replaceMultiSelection:function(dK){if(dK.length===0){this.clearSelection();return;};var dL=false;var dO,dN;var dJ={};for(var i=0,l=dK.length;i<l;i++ ){dO=dK[i];if(this._isSelectable(dO)){dN=this._selectableToHashCode(dO);dJ[dN]=dO;};};var dP=dK[0];var dI=dO;var dM=this.__ma;for(var dN in dM){if(dJ[dN]){delete dJ[dN];}else {dO=dM[dN];delete dM[dN];this._styleSelectable(dO,R,false);dL=true;};};for(var dN in dJ){dO=dM[dN]=dJ[dN];this._styleSelectable(dO,R,true);dL=true;};if(!dL){return false;};this._scrollItemIntoView(dI);this._setLeadItem(dP);this._setAnchorItem(dP);this.__wp=true;this._fireChange();},_fireChange:function(dQ){if(this.__wp){this.__wq=dQ||null;this.fireDataEvent(bA,this.getSelection());delete this.__wp;};},_applyDefaultSelection:function(dR){if(dR===true||this.getMode()===h&&this.isSelectionEmpty()){var dS=this._getFirstSelectable();if(dS!=null){this.selectItem(dS);};return dS;};return null;}},destruct:function(){this._disposeObjects(T);this.__ma=this.__wt=this.__ws=null;this.__wr=null;}});})();(function(){var a="vertical",b="under",c="above",d="qx.ui.core.selection.Widget",e="left",f="right";qx.Class.define(d,{extend:qx.ui.core.selection.Abstract,construct:function(g){qx.ui.core.selection.Abstract.call(this);this.__mh=g;},members:{__mh:null,_isSelectable:function(h){return this._isItemSelectable(h)&&h.getLayoutParent()===this.__mh;},_selectableToHashCode:function(j){return j.toHashCode();},_styleSelectable:function(k,m,n){n?k.addState(m):k.removeState(m);},_capture:function(){this.__mh.capture();},_releaseCapture:function(){this.__mh.releaseCapture();},_isItemSelectable:function(o){if(this._userInteraction){return o.isVisible()&&o.isEnabled();}else {return o.isVisible();};},_getWidget:function(){return this.__mh;},_getLocation:function(){var p=this.__mh.getContentElement().getDomElement();return p?qx.bom.element.Location.get(p):null;},_getDimension:function(){return this.__mh.getInnerSize();},_getSelectableLocationX:function(q){var r=q.getBounds();if(r){return {left:r.left,right:r.left+r.width};};},_getSelectableLocationY:function(s){var t=s.getBounds();if(t){return {top:t.top,bottom:t.top+t.height};};},_getScroll:function(){return {left:0,top:0};},_scrollBy:function(u,v){},_scrollItemIntoView:function(w){this.__mh.scrollChildIntoView(w);},getSelectables:function(x){var y=false;if(!x){y=this._userInteraction;this._userInteraction=true;};var B=this.__mh.getChildren();var z=[];var A;for(var i=0,l=B.length;i<l;i++ ){A=B[i];if(this._isItemSelectable(A)){z.push(A);};};this._userInteraction=y;return z;},_getSelectableRange:function(C,D){if(C===D){return [C];};var H=this.__mh.getChildren();var E=[];var G=false;var F;for(var i=0,l=H.length;i<l;i++ ){F=H[i];if(F===C||F===D){if(G){E.push(F);break;}else {G=true;};};if(G&&this._isItemSelectable(F)){E.push(F);};};return E;},_getFirstSelectable:function(){var I=this.__mh.getChildren();for(var i=0,l=I.length;i<l;i++ ){if(this._isItemSelectable(I[i])){return I[i];};};return null;},_getLastSelectable:function(){var J=this.__mh.getChildren();for(var i=J.length-1;i>0;i-- ){if(this._isItemSelectable(J[i])){return J[i];};};return null;},_getRelatedSelectable:function(N,O){var L=this.__mh.getOrientation()===a;var P=this.__mh.getChildren();var K=P.indexOf(N);var M;if((L&&O===c)||(!L&&O===e)){for(var i=K-1;i>=0;i-- ){M=P[i];if(this._isItemSelectable(M)){return M;};};}else if((L&&O===b)||(!L&&O===f)){for(var i=K+1;i<P.length;i++ ){M=P[i];if(this._isItemSelectable(M)){return M;};};};return null;},_getPage:function(R,Q){if(Q){return this._getFirstSelectable();}else {return this._getLastSelectable();};}},destruct:function(){this.__mh=null;}});})();(function(){var a="Invalid lead item: ",b="qx.ui.core.selection.ScrollArea";qx.Class.define(b,{extend:qx.ui.core.selection.Widget,members:{_isSelectable:function(c){return this._isItemSelectable(c)&&c.getLayoutParent()===this._getWidget().getChildrenContainer();},_getDimension:function(){return this._getWidget().getPaneSize();},_getScroll:function(){var d=this._getWidget();return {left:d.getScrollX(),top:d.getScrollY()};},_scrollBy:function(f,g){var e=this._getWidget();e.scrollByX(f);e.scrollByY(g);},_getPage:function(k,o){var q=this.getSelectables();var length=q.length;var p=q.indexOf(k);if(p===-1){throw new Error(a+k);};var h=this._getWidget();var r=h.getScrollY();var innerHeight=h.getInnerSize().height;var top,l,s;if(o){var n=r;var i=p;while(1){for(;i>=0;i-- ){top=h.getItemTop(q[i]);if(top<n){s=i+1;break;};};if(s==null){var t=this._getFirstSelectable();return t==k?null:t;};if(s>=p){n-=innerHeight+r-h.getItemBottom(k);s=null;continue;};return q[s];};}else {var m=innerHeight+r;var i=p;while(1){for(;i<length;i++ ){l=h.getItemBottom(q[i]);if(l>m){s=i-1;break;};};if(s==null){var j=this._getLastSelectable();return j==k?null:j;};if(s<=p){m+=h.getItemTop(k)-r;s=null;continue;};return q[s];};};}}});})();(function(){var a="Boolean",b="one",c="pointerover",d="__dy",f="changeValue",g="qx.event.type.Data",h=", because it is not a child element!",j="_applyDragSelection",k="Could not add + ",m=" from selection, because it is not a child element!",n="changeSelection",o="Could not test if ",p="Could not remove ",q="addItem",r="multi",s="_applyQuickSelection",t="single",u="qx.ui.core.MMultiSelectionHandling",v="pointermove",w=" is selected, because it is not a child element!",x="_applySelectionMode",y="additive",z="keypress",A="losecapture",B="Could not select ",C="removeItem",D="tap",E="pointerdown",F=" to selection, because it is not a child element!";qx.Mixin.define(u,{construct:function(){var H=this.SELECTION_MANAGER;var G=this.__dy=new H(this);this.addListener(E,G.handlePointerDown,G);this.addListener(D,G.handleTap,G);this.addListener(c,G.handlePointerOver,G);this.addListener(v,G.handlePointerMove,G);this.addListener(A,G.handleLoseCapture,G);this.addListener(z,G.handleKeyPress,G);this.addListener(q,G.handleAddItem,G);this.addListener(C,G.handleRemoveItem,G);G.addListener(n,this._onSelectionChange,this);},events:{"changeValue":g,"changeSelection":g},properties:{selectionMode:{check:[t,r,y,b],init:t,apply:x},dragSelection:{check:a,init:false,apply:j},quickSelection:{check:a,init:false,apply:s}},members:{__dy:null,__wx:false,setValue:function(I){if(null===I){this.__dy.clearSelection();return null;};{var i,l;};try{this.setSelection(I);return null;}catch(e){return e;};},getValue:function(){return this.__dy.getSelection();},resetValue:function(){this.__dy.clearSelection();},selectAll:function(){this.__dy.selectAll();},isSelected:function(J){if(!qx.ui.core.Widget.contains(this,J)){throw new Error(o+J+w);};return this.__dy.isItemSelected(J);},addToSelection:function(K){if(!qx.ui.core.Widget.contains(this,K)){throw new Error(k+K+F);};this.__dy.addItem(K);},removeFromSelection:function(L){if(!qx.ui.core.Widget.contains(this,L)){throw new Error(p+L+m);};this.__dy.removeItem(L);},selectRange:function(M,N){this.__dy.selectItemRange(M,N);},resetSelection:function(){this.__dy.clearSelection();},setSelection:function(O){if(this.__wx){return;};for(var i=0;i<O.length;i++ ){if(!qx.ui.core.Widget.contains(this,O[i])){throw new Error(B+O[i]+h);};};if(O.length===0){this.resetSelection();}else {var P=this.getSelection();if(!qx.lang.Array.equals(P,O)){this.__dy.replaceSelection(O);};};},getSelection:function(){return this.__dy.getSelection();},getSortedSelection:function(){return this.__dy.getSortedSelection();},isSelectionEmpty:function(){return this.__dy.isSelectionEmpty();},getSelectionContext:function(){return this.__dy.getSelectionContext();},_getManager:function(){return this.__dy;},getSelectables:function(Q){return this.__dy.getSelectables(Q);},invertSelection:function(){this.__dy.invertSelection();},_getLeadItem:function(){var R=this.__dy.getMode();if(R===t||R===b){return this.__dy.getSelectedItem();}else {return this.__dy.getLeadItem();};},_applySelectionMode:function(T,S){this.__dy.setMode(T);},_applyDragSelection:function(V,U){this.__dy.setDrag(V);},_applyQuickSelection:function(X,W){this.__dy.setQuick(X);},_onSelectionChange:function(e){if(this.__wx){return;};this.__wx=true;try{this.fireDataEvent(n,e.getData(),e.getOldData());this.fireDataEvent(f,e.getData(),e.getOldData());}finally{this.__wx=false;};}},destruct:function(){this._disposeObjects(d);}});})();(function(){var a="mouse",b="scrollbar-y",c="qx.ui.core.scroll.MRoll",d="pointerdown",f="scrollbar-x",g="roll";qx.Mixin.define(c,{members:{_cancelRoll:null,_addRollHandling:function(){this.addListener(g,this._onRoll,this);this.addListener(d,this._onPointerDownForRoll,this);},_removeRollHandling:function(){this.removeListener(g,this._onRoll,this);this.removeListener(d,this._onPointerDownForRoll,this);},_onPointerDownForRoll:function(e){this._cancelRoll=e.getPointerId();},_onRoll:function(e){if(e.getPointerType()==a){return;};if(this._cancelRoll&&e.getMomentum()){e.stopMomentum();this._cancelRoll=null;return;};this._cancelRoll=null;var k=this._isChildControlVisible(f);var l=this._isChildControlVisible(b);var q=l?this.getChildControl(b,true):null;var p=k?this.getChildControl(f,true):null;var m=e.getDelta().y;var h=e.getDelta().x;var j=!l;var o=!k;if(q){if(m!==0){q.scrollBy(parseInt(m,10));};var n=q.getPosition();var i=q.getMaximum();if(m<0&&n<=0||m>0&&n>=i){j=true;};};if(p){if(h!==0){p.scrollBy(parseInt(h,10));};var n=p.getPosition();var i=p.getMaximum();if(h<0&&n<=0||h>0&&n>=i){o=true;};};if(o&&j){e.stopMomentum();};if((!j&&h===0)||(!o&&m===0)||((!o||!j)&&h!==0&&m!==0)){e.stop();};}}});})();(function(){var a="x",b="Float",c="qx.ui.core.MDragDropScrolling",d="",f="). Must be: 'left', 'right', 'top' or 'bottom'",g="bottom",h="interval",i="dragend",j="scrollbar-",k="drag",l="Invalid edge type given (",m="top",n="left",o="right",p="Integer",q="y";qx.Mixin.define(c,{construct:function(){var r=this;if(this instanceof qx.ui.core.DragDropScrolling){r=this._getWidget();};r.addListener(k,this.__wB,this);r.addListener(i,this.__wC,this);this.__wy=[n,o];this.__wz=[m,g];},properties:{dragScrollThresholdX:{check:p,init:30},dragScrollThresholdY:{check:p,init:30},dragScrollSlowDownFactor:{check:b,init:0.1}},members:{__wA:null,__wy:null,__wz:null,_findScrollableParent:function(s){var t=s;if(t===null){return null;};while(t.getLayoutParent()){t=t.getLayoutParent();if(this._isScrollable(t)){return t;};};return null;},_isScrollable:function(u){return qx.Class.hasMixin(u.constructor,qx.ui.core.scroll.MScrollBarFactory);},_getBounds:function(v){var w=v.getContentLocation();if(v.getScrollAreaContainer){w=v.getScrollAreaContainer().getContentLocation();};return w;},_getEdgeType:function(y,z,x){if((y.left*-1)<=z&&y.left<0){return n;}else if((y.top*-1)<=x&&y.top<0){return m;}else if(y.right<=z&&y.right>0){return o;}else if(y.bottom<=x&&y.bottom>0){return g;}else {return null;};},_getAxis:function(A){if(this.__wy.indexOf(A)!==-1){return a;}else if(this.__wz.indexOf(A)!==-1){return q;}else {throw new Error(l+A+f);};},_getThresholdByEdgeType:function(B){if(this.__wy.indexOf(B)!==-1){return this.getDragScrollThresholdX();}else if(this.__wz.indexOf(B)!==-1){return this.getDragScrollThresholdY();};},_isScrollbarVisible:function(C,D){if(C&&C._isChildControlVisible){return C._isChildControlVisible(j+D);}else {return false;};},_isScrollbarExceedingMaxPos:function(F,H,E){var G=0;if(!F){return true;};G=F.getPosition()+E;return (G>F.getMaximum()||G<0);},_calculateThresholdExceedance:function(J,I){var K=I-Math.abs(J);return J<0?(K*-1):K;},_calculateScrollAmount:function(L,M){return Math.floor(((L/100)*M)*this.getDragScrollSlowDownFactor());},_scrollBy:function(N,T,Q){var S=N.getChildControl(j+T,true);if(!S){return;};var P=S.getBounds(),O=T===a?P.width:P.height,R=this._calculateScrollAmount(O,Q);if(this._isScrollbarExceedingMaxPos(S,T,R)){this.__wA.stop();};S.scrollBy(R);},__wB:function(e){if(this.__wA){this.__wA.stop();};var W;if(e.getOriginalTarget() instanceof qx.ui.core.Widget){W=e.getOriginalTarget();}else {W=qx.ui.core.Widget.getWidgetByElement(e.getOriginalTarget());};if(!W){return;};var U;if(this._isScrollable(W)){U=W;}else {U=this._findScrollableParent(W);};while(U){var Y=this._getBounds(U),V=e.getDocumentLeft(),ba=e.getDocumentTop(),bc={"left":Y.left-V,"right":Y.right-V,"top":Y.top-ba,"bottom":Y.bottom-ba},X=null,bd=d,bb=0;X=this._getEdgeType(bc,this.getDragScrollThresholdX(),this.getDragScrollThresholdY());if(!X){U=this._findScrollableParent(U);continue;};bd=this._getAxis(X);if(this._isScrollbarVisible(U,bd)){bb=this._calculateThresholdExceedance(bc[X],this._getThresholdByEdgeType(X));if(this.__wA){this.__wA.dispose();};this.__wA=new qx.event.Timer(50);this.__wA.addListener(h,function(be,bg,bf){this._scrollBy(be,bg,bf);}.bind(this,U,bd,bb));this.__wA.start();e.stopPropagation();return;}else {U=this._findScrollableParent(U);};};},__wC:function(e){if(this.__wA){this.__wA.stop();};}},destruct:function(){if(this.__wA){this.__wA.dispose();};}});})();(function(){var a="qx.ui.core.DragDropScrolling";qx.Class.define(a,{extend:qx.core.Object,include:[qx.ui.core.MDragDropScrolling],construct:function(b){qx.core.Object.call(this);this._widget=b;},members:{_widget:null,_getWidget:function(){return this._widget||qx.core.Init.getApplication().getRoot();}}});})();(function(){var a="qx.nativeScrollBars",b="qx.ui.core.scroll.MScrollBarFactory";qx.core.Environment.add(a,false);qx.Mixin.define(b,{members:{_createScrollBar:function(c){if(qx.core.Environment.get(a)){return new qx.ui.core.scroll.NativeScrollBar(c);}else {return new qx.ui.core.scroll.ScrollBar(c);};}}});})();(function(){var a='qx.event.type.Event',b="qx.ui.core.scroll.IScrollBar",c="qx.event.type.Data";qx.Interface.define(b,{events:{"scroll":c,"scrollAnimationEnd":a},properties:{orientation:{},maximum:{},position:{},knobFactor:{}},members:{scrollTo:function(e,d){this.assertNumber(e);},scrollBy:function(g,f){this.assertNumber(g);},scrollBySteps:function(i,h){this.assertNumber(i);}}});})();(function(){var a="qx.ui.core.scroll.NativeScrollBar",b="px",c="PositiveNumber",d="frame",f="end",g="box-sizing",h="Integer",i="track",j="hidden",k="content-box",l="pointerup",m="vertical",n="_applyOrientation",o="scrollAnimationEnd",p="appear",q="pointerdown",r="PositiveInteger",s='qx.event.type.Event',t="horizontal",u="__wE",v="Number",w="_applyPosition",x="scrollbar",y="_applyMaximum",z="pointermove",A="native",B="scroll";qx.Class.define(a,{extend:qx.ui.core.Widget,implement:qx.ui.core.scroll.IScrollBar,construct:function(C){qx.ui.core.Widget.call(this);this.addState(A);this.getContentElement().addListener(B,this._onScroll,this);this.addListener(q,this._stopPropagation,this);this.addListener(l,this._stopPropagation,this);this.addListener(z,this._stopPropagation,this);this.addListener(p,this._onAppear,this);this.getContentElement().add(this._getScrollPaneElement());this.getContentElement().setStyle(g,k);if(C!=null){this.setOrientation(C);}else {this.initOrientation();};this.addListener(i,function(e){e.stopPropagation();},this);},events:{scrollAnimationEnd:s},properties:{appearance:{refine:true,init:x},orientation:{check:[t,m],init:t,apply:n},maximum:{check:r,apply:y,init:100},position:{check:v,init:0,apply:w,event:B},singleStep:{check:h,init:20},knobFactor:{check:c,nullable:true}},members:{__wD:null,__wE:null,__ol:null,__wF:null,_getScrollPaneElement:function(){if(!this.__wE){this.__wE=new qx.html.Element();};return this.__wE;},renderLayout:function(E,top,D,G){var F=qx.ui.core.Widget.prototype.renderLayout.call(this,E,top,D,G);this._updateScrollBar();return F;},_getContentHint:function(){var H=qx.bom.element.Scroll.getScrollbarWidth();return {width:this.__wD?100:H,maxWidth:this.__wD?null:H,minWidth:this.__wD?null:H,height:this.__wD?H:100,maxHeight:this.__wD?H:null,minHeight:this.__wD?H:null};},_applyEnabled:function(J,I){qx.ui.core.Widget.prototype._applyEnabled.call(this,J,I);this._updateScrollBar();},_applyMaximum:function(K){this._updateScrollBar();},_applyPosition:function(L){var content=this.getContentElement();if(this.__wD){content.scrollToX(L);}else {content.scrollToY(L);};},_applyOrientation:function(O,M){var N=this.__wD=O===t;this.set({allowGrowX:N,allowShrinkX:N,allowGrowY:!N,allowShrinkY:!N});if(N){this.replaceState(m,t);}else {this.replaceState(t,m);};this.getContentElement().setStyles({overflowX:N?B:j,overflowY:N?j:B});qx.ui.core.queue.Layout.add(this);},_updateScrollBar:function(){var Q=this.__wD;var R=this.getBounds();if(!R){return;};if(this.isEnabled()){var S=Q?R.width:R.height;var P=this.getMaximum()+S;}else {P=0;};{var R=this.getBounds();this.getContentElement().setStyles({left:(Q?R.left:(R.left-1))+b,top:(Q?(R.top-1):R.top)+b,width:(Q?R.width:R.width+1)+b,height:(Q?R.height+1:R.height)+b});};this._getScrollPaneElement().setStyles({left:0,top:0,width:(Q?P:1)+b,height:(Q?1:P)+b});this.updatePosition(this.getPosition());},scrollTo:function(U,T){this.stopScrollAnimation();if(T){var V=this.getPosition();this.__wF=new qx.bom.AnimationFrame();this.__wF.on(d,function(X){var W=parseInt(X/T*(U-V)+V);this.updatePosition(W);},this);this.__wF.on(f,function(){this.setPosition(Math.max(0,Math.min(this.getMaximum(),U)));this.__wF=null;this.fireEvent(o);},this);this.__wF.startSequence(T);}else {this.updatePosition(U);};},updatePosition:function(Y){this.setPosition(Math.max(0,Math.min(this.getMaximum(),Y)));},scrollBy:function(bb,ba){this.scrollTo(this.getPosition()+bb,ba);},scrollBySteps:function(bd,bc){var be=this.getSingleStep();this.scrollBy(bd*be,bc);},stopScrollAnimation:function(){if(this.__wF){this.__wF.cancelSequence();this.__wF=null;};},_onScroll:function(e){var bf=this.getContentElement();var bg=this.__wD?bf.getScrollX():bf.getScrollY();this.setPosition(bg);},_onAppear:function(e){this._applyPosition(this.getPosition());},_stopPropagation:function(e){e.stopPropagation();}},destruct:function(){this._disposeObjects(u);}});})();(function(){var a="slider",b="slideAnimationEnd",c="PositiveNumber",d="changeValue",f="Integer",g="execute",h="track",i="qx.lang.Type.isNumber(value)&&value>=0&&value<=this.getMaximum()",j="_applyKnobFactor",k="visible",l="qx.event.type.Event",m="knob",n="button-begin",o="hidden",p="qx.ui.core.scroll.ScrollBar",q="resize",r="vertical",s="_applyOrientation",t="scrollAnimationEnd",u="_applyPageStep",v="right",w="PositiveInteger",x="horizontal",y="up",z="_applyPosition",A="scrollbar",B="_applyMaximum",C="left",D="button-end",E="down",F="scroll";qx.Class.define(p,{extend:qx.ui.core.Widget,implement:qx.ui.core.scroll.IScrollBar,construct:function(G){qx.ui.core.Widget.call(this);this._createChildControl(n);this._createChildControl(a).addListener(q,this._onResizeSlider,this);this._createChildControl(D);if(G!=null){this.setOrientation(G);}else {this.initOrientation();};this.addListener(h,function(e){e.stopPropagation();},this);},events:{"scrollAnimationEnd":l},properties:{appearance:{refine:true,init:A},orientation:{check:[x,r],init:x,apply:s},maximum:{check:w,apply:B,init:100},position:{check:i,init:0,apply:z,event:F},singleStep:{check:f,init:20},pageStep:{check:f,init:10,apply:u},knobFactor:{check:c,apply:j,nullable:true}},members:{__wG:2,__wH:0,_computeSizeHint:function(){var H=qx.ui.core.Widget.prototype._computeSizeHint.call(this);if(this.getOrientation()===x){this.__wH=H.minWidth;H.minWidth=0;}else {this.__wH=H.minHeight;H.minHeight=0;};return H;},renderLayout:function(M,top,J,I){var L=qx.ui.core.Widget.prototype.renderLayout.call(this,M,top,J,I);var K=this.getOrientation()===x;if(this.__wH>=(K?J:I)){this.getChildControl(n).setVisibility(o);this.getChildControl(D).setVisibility(o);}else {this.getChildControl(n).setVisibility(k);this.getChildControl(D).setVisibility(k);};return L;},_createChildControlImpl:function(P,O){var N;switch(P){case a:N=new qx.ui.core.scroll.ScrollSlider();N.setPageStep(100);N.setFocusable(false);N.addListener(d,this._onChangeSliderValue,this);N.addListener(b,this._onSlideAnimationEnd,this);this._add(N,{flex:1});break;case n:N=new qx.ui.form.RepeatButton();N.setFocusable(false);N.addListener(g,this._onExecuteBegin,this);this._add(N);break;case D:N=new qx.ui.form.RepeatButton();N.setFocusable(false);N.addListener(g,this._onExecuteEnd,this);this._add(N);break;};return N||qx.ui.core.Widget.prototype._createChildControlImpl.call(this,P);},_applyMaximum:function(Q){this.getChildControl(a).setMaximum(Q);},_applyPosition:function(R){this.getChildControl(a).setValue(R);},_applyKnobFactor:function(S){this.getChildControl(a).setKnobFactor(S);},_applyPageStep:function(T){this.getChildControl(a).setPageStep(T);},_applyOrientation:function(W,U){var V=this._getLayout();if(V){V.dispose();};if(W===x){this._setLayout(new qx.ui.layout.HBox());this.setAllowStretchX(true);this.setAllowStretchY(false);this.replaceState(r,x);this.getChildControl(n).replaceState(y,C);this.getChildControl(D).replaceState(E,v);}else {this._setLayout(new qx.ui.layout.VBox());this.setAllowStretchX(false);this.setAllowStretchY(true);this.replaceState(x,r);this.getChildControl(n).replaceState(C,y);this.getChildControl(D).replaceState(v,E);};this.getChildControl(a).setOrientation(W);},scrollTo:function(Y,X){this.getChildControl(a).slideTo(Y,X);},scrollBy:function(bb,ba){this.getChildControl(a).slideBy(bb,ba);},scrollBySteps:function(bd,bc){var be=this.getSingleStep();this.getChildControl(a).slideBy(bd*be,bc);},updatePosition:function(bf){this.getChildControl(a).updatePosition(bf);},stopScrollAnimation:function(){this.getChildControl(a).stopSlideAnimation();},_onExecuteBegin:function(e){this.scrollBy(-this.getSingleStep(),50);},_onExecuteEnd:function(e){this.scrollBy(this.getSingleStep(),50);},_onSlideAnimationEnd:function(){this.fireEvent(t);},_onChangeSliderValue:function(e){this.setPosition(e.getData());},_onResizeSlider:function(e){var bg=this.getChildControl(a).getChildControl(m);var bj=bg.getSizeHint();var bh=false;var bi=this.getChildControl(a).getInnerSize();if(this.getOrientation()==r){if(bi.height<bj.minHeight+this.__wG){bh=true;};}else {if(bi.width<bj.minWidth+this.__wG){bh=true;};};if(bh){bg.exclude();}else {bg.show();};}}});})();(function(){var a="qx.ui.form.IRange";qx.Interface.define(a,{members:{setMinimum:function(b){return arguments.length==1;},getMinimum:function(){},setMaximum:function(c){return arguments.length==1;},getMaximum:function(){},setSingleStep:function(d){return arguments.length==1;},getSingleStep:function(){},setPageStep:function(e){return arguments.length==1;},getPageStep:function(){}}});})();(function(){var a="qx.ui.form.INumberForm",b="qx.event.type.Data";qx.Interface.define(a,{extend:qx.ui.form.IField,events:{"changeValue":b},members:{setValue:function(c){return arguments.length==1;},resetValue:function(){},getValue:function(){}}});})();(function(){var a="slider",b="hovered",c="pressed",d="px",f="pointerover",g="PageUp",h="changeValue",i="frame",j="end",k='qx.event.type.Data',l="Left",m="Down",n="Integer",o="roll",p="qx.ui.form.Slider",q="PageDown",r="interval",s="_applyValue",t="Up",u="_applyKnobFactor",v="End",w="pointermove",x="height",y="y",z="dbltap",A="resize",B="pointerup",C="vertical",D="Right",E="width",F="_applyOrientation",G="left",H="Home",I="floor",J="_applyMinimum",K="pointerdown",L="top",M="changeMaximum",N="horizontal",O="slideAnimationEnd",P="knob",Q="ceil",R='qx.event.type.Event',S="x",T="keypress",U="losecapture",V="contextmenu",W="wheel",X="_applyMaximum",Y="Number",bf="tap",bg="typeof value==='number'&&value>=this.getMinimum()&&value<=this.getMaximum()",bh="changeMinimum",be="pointerout";qx.Class.define(p,{extend:qx.ui.core.Widget,implement:[qx.ui.form.IForm,qx.ui.form.INumberForm,qx.ui.form.IRange],include:[qx.ui.form.MForm],construct:function(bi){qx.ui.core.Widget.call(this);this._setLayout(new qx.ui.layout.Canvas());this.addListener(T,this._onKeyPress);this.addListener(o,this._onRoll);this.addListener(K,this._onPointerDown);this.addListener(B,this._onPointerUp);this.addListener(U,this._onPointerUp);this.addListener(A,this._onUpdate);this.addListener(V,this._onStopEvent);this.addListener(bf,this._onStopEvent);this.addListener(z,this._onStopEvent);if(bi!=null){this.setOrientation(bi);}else {this.initOrientation();};},events:{changeValue:k,slideAnimationEnd:R},properties:{appearance:{refine:true,init:a},focusable:{refine:true,init:true},orientation:{check:[N,C],init:N,apply:F},value:{check:bg,init:0,apply:s,nullable:true},minimum:{check:n,init:0,apply:J,event:bh},maximum:{check:n,init:100,apply:X,event:M},singleStep:{check:n,init:1},pageStep:{check:n,init:10},knobFactor:{check:Y,apply:u,nullable:true}},members:{__wI:null,__wJ:null,__wK:null,__vm:null,__wL:null,__wM:null,__wN:null,__wO:null,__kx:null,__wP:null,__wQ:null,__wR:null,__wF:null,_forwardStates:{invalid:true},renderLayout:function(bk,top,bj,bl){qx.ui.core.Widget.prototype.renderLayout.call(this,bk,top,bj,bl);this._updateKnobPosition();},_createChildControlImpl:function(bo,bn){var bm;switch(bo){case P:bm=new qx.ui.core.Widget();bm.addListener(A,this._onUpdate,this);bm.addListener(f,this._onPointerOver);bm.addListener(be,this._onPointerOut);this._add(bm);break;};return bm||qx.ui.core.Widget.prototype._createChildControlImpl.call(this,bo);},_onPointerOver:function(e){this.addState(b);},_onPointerOut:function(e){this.removeState(b);},_onRoll:function(e){if(e.getPointerType()!=W){return;};var bq=this.getOrientation()===N?S:y;var br=e.getDelta()[bq];var bp=br>0?1:br<0?-1:0;this.slideBy(bp*this.getSingleStep());e.stop();},_onKeyPress:function(e){var bt=this.getOrientation()===N;var bs=bt?l:t;var forward=bt?D:m;switch(e.getKeyIdentifier()){case forward:this.slideForward();break;case bs:this.slideBack();break;case q:this.slidePageForward(100);break;case g:this.slidePageBack(100);break;case H:this.slideToBegin(200);break;case v:this.slideToEnd(200);break;default:return;};e.stop();},_onPointerDown:function(e){if(this.__vm){return;};var bw=this.__wD;var bu=this.getChildControl(P);var bv=bw?G:L;var bA=bw?e.getDocumentLeft():e.getDocumentTop();var bC=this.getDecorator();bC=qx.theme.manager.Decoration.getInstance().resolve(bC);if(bw){var bz=bC?bC.getInsets().left:0;var by=(this.getPaddingLeft()||0)+bz;}else {var bz=bC?bC.getInsets().top:0;var by=(this.getPaddingTop()||0)+bz;};var bB=this.__wI=qx.bom.element.Location.get(this.getContentElement().getDomElement())[bv];bB+=by;var bx=this.__wJ=qx.bom.element.Location.get(bu.getContentElement().getDomElement())[bv];if(e.getTarget()===bu){this.__vm=true;if(!this.__wP){this.__wP=new qx.event.Timer(100);this.__wP.addListener(r,this._fireValue,this);};this.__wP.start();this.__wL=bA+bB-bx;bu.addState(c);}else {this.__wM=true;this.__wN=bA<=bx?-1:1;this.__wT(e);this._onInterval();if(!this.__kx){this.__kx=new qx.event.Timer(100);this.__kx.addListener(r,this._onInterval,this);};this.__kx.start();};this.addListener(w,this._onPointerMove);this.capture();e.stopPropagation();},_onPointerUp:function(e){if(this.__vm){this.releaseCapture();delete this.__vm;this.__wP.stop();this._fireValue();delete this.__wL;this.getChildControl(P).removeState(c);if(e.getType()===B){var bE;var bF;var bD;if(this.__wD){bE=e.getDocumentLeft()-(this._valueToPosition(this.getValue())+this.__wI);bD=qx.bom.element.Location.get(this.getContentElement().getDomElement())[L];bF=e.getDocumentTop()-(bD+this.getChildControl(P).getBounds().top);}else {bE=e.getDocumentTop()-(this._valueToPosition(this.getValue())+this.__wI);bD=qx.bom.element.Location.get(this.getContentElement().getDomElement())[G];bF=e.getDocumentLeft()-(bD+this.getChildControl(P).getBounds().left);};if(bF<0||bF>this.__wK||bE<0||bE>this.__wK){this.getChildControl(P).removeState(b);};};}else if(this.__wM){this.__kx.stop();this.releaseCapture();delete this.__wM;delete this.__wN;delete this.__wO;};this.removeListener(w,this._onPointerMove);if(e.getType()===B){e.stopPropagation();};},_onPointerMove:function(e){if(this.__vm){var bH=this.__wD?e.getDocumentLeft():e.getDocumentTop();var bG=bH-this.__wL;this.slideTo(this._positionToValue(bG));}else if(this.__wM){this.__wT(e);};e.stopPropagation();},_onInterval:function(e){var bI=this.getValue()+(this.__wN*this.getPageStep());if(bI<this.getMinimum()){bI=this.getMinimum();}else if(bI>this.getMaximum()){bI=this.getMaximum();};var bJ=this.__wN==-1;if((bJ&&bI<=this.__wO)||(!bJ&&bI>=this.__wO)){bI=this.__wO;};this.slideTo(bI);},_onUpdate:function(e){var bL=this.getInnerSize();var bM=this.getChildControl(P).getBounds();var bK=this.__wD?E:x;this._updateKnobSize();this.__wS=bL[bK]-bM[bK];this.__wK=bM[bK];this._updateKnobPosition();},__wD:false,__wS:0,__wT:function(e){var bN=this.__wD;var bU=bN?e.getDocumentLeft():e.getDocumentTop();var bX=this.__wI;var bO=this.__wJ;var bY=this.__wK;var bV=bU-bX;if(bU>=bO){bV-=bY;};var bR=this._positionToValue(bV);var bP=this.getMinimum();var bQ=this.getMaximum();if(bR<bP){bR=bP;}else if(bR>bQ){bR=bQ;}else {var bW=this.getValue();var bT=this.getPageStep();var bS=this.__wN<0?I:Q;bR=bW+(Math[bS]((bR-bW)/bT)*bT);};if(this.__wO==null||(this.__wN==-1&&bR<=this.__wO)||(this.__wN==1&&bR>=this.__wO)){this.__wO=bR;};},_positionToValue:function(cb){var ca=this.__wS;if(ca==null||ca==0){return 0;};var cd=cb/ca;if(cd<0){cd=0;}else if(cd>1){cd=1;};var cc=this.getMaximum()-this.getMinimum();return this.getMinimum()+Math.round(cc*cd);},_valueToPosition:function(ch){var ce=this.__wS;if(ce==null){return 0;};var cf=this.getMaximum()-this.getMinimum();if(cf==0){return 0;};var ch=ch-this.getMinimum();var cg=ch/cf;if(cg<0){cg=0;}else if(cg>1){cg=1;};return Math.round(ce*cg);},_updateKnobPosition:function(){this._setKnobPosition(this._valueToPosition(this.getValue()));},_setKnobPosition:function(ck){var ci=this.getChildControl(P);var cj=this.getDecorator();cj=qx.theme.manager.Decoration.getInstance().resolve(cj);var content=ci.getContentElement();if(this.__wD){if(cj&&cj.getPadding()){ck+=cj.getPadding().left;};ck+=this.getPaddingLeft()||0;content.setStyle(G,ck+d,true);}else {if(cj&&cj.getPadding()){ck+=cj.getPadding().top;};ck+=this.getPaddingTop()||0;content.setStyle(L,ck+d,true);};},_updateKnobSize:function(){var cm=this.getKnobFactor();if(cm==null){return;};var cl=this.getInnerSize();if(cl==null){return;};if(this.__wD){this.getChildControl(P).setWidth(Math.round(cm*cl.width));}else {this.getChildControl(P).setHeight(Math.round(cm*cl.height));};},slideToBegin:function(cn){this.slideTo(this.getMinimum(),cn);},slideToEnd:function(co){this.slideTo(this.getMaximum(),co);},slideForward:function(){this.slideBy(this.getSingleStep());},slideBack:function(){this.slideBy(-this.getSingleStep());},slidePageForward:function(cp){this.slideBy(this.getPageStep(),cp);},slidePageBack:function(cq){this.slideBy(-this.getPageStep(),cq);},slideBy:function(cs,cr){this.slideTo(this.getValue()+cs,cr);},slideTo:function(cu,ct){this.stopSlideAnimation();if(ct){this.__wV(cu,ct);}else {this.updatePosition(cu);};},updatePosition:function(cv){this.setValue(this.__wU(cv));},stopSlideAnimation:function(){if(this.__wF){this.__wF.cancelSequence();this.__wF=null;};},__wU:function(cw){if(cw<this.getMinimum()){cw=this.getMinimum();}else if(cw>this.getMaximum()){cw=this.getMaximum();}else {cw=this.getMinimum()+Math.round((cw-this.getMinimum())/this.getSingleStep())*this.getSingleStep();};return cw;},__wV:function(cy,cx){cy=this.__wU(cy);var cz=this.getValue();this.__wF=new qx.bom.AnimationFrame();this.__wF.on(i,function(cA){this.setValue(parseInt(cA/cx*(cy-cz)+cz));},this);this.__wF.on(j,function(){this.setValue(cy);this.__wF=null;this.fireEvent(O);},this);this.__wF.startSequence(cx);},_applyOrientation:function(cD,cC){var cB=this.getChildControl(P);this.__wD=cD===N;if(this.__wD){this.removeState(C);cB.removeState(C);this.addState(N);cB.addState(N);cB.setLayoutProperties({top:0,right:null,bottom:0});}else {this.removeState(N);cB.removeState(N);this.addState(C);cB.addState(C);cB.setLayoutProperties({right:0,bottom:null,left:0});};this._updateKnobPosition();},_applyKnobFactor:function(cF,cE){if(cF!=null){this._updateKnobSize();}else {if(this.__wD){this.getChildControl(P).resetWidth();}else {this.getChildControl(P).resetHeight();};};},_applyValue:function(cH,cG){if(cH!=null){this._updateKnobPosition();if(this.__vm){this.__wR=[cH,cG];}else {this.fireEvent(h,qx.event.type.Data,[cH,cG]);};}else {this.resetValue();};},_fireValue:function(){if(!this.__wR){return;};var cI=this.__wR;this.__wR=null;this.fireEvent(h,qx.event.type.Data,cI);},_applyMinimum:function(cK,cJ){if(this.getValue()<cK){this.setValue(cK);};this._updateKnobPosition();},_applyMaximum:function(cM,cL){if(this.getValue()>cM){this.setValue(cM);};this._updateKnobPosition();}}});})();(function(){var a="qx.ui.layout.Canvas",b="number",c="Boolean";qx.Class.define(a,{extend:qx.ui.layout.Abstract,properties:{desktop:{check:c,init:false}},members:{verifyLayoutProperty:null,renderLayout:function(g,j,m){var s=this._getLayoutChildren();var d,u,r;var f,top,e,h,n,k;var q,p,t,o;for(var i=0,l=s.length;i<l;i++ ){d=s[i];u=d.getSizeHint();r=d.getLayoutProperties();q=d.getMarginTop();p=d.getMarginRight();t=d.getMarginBottom();o=d.getMarginLeft();f=r.left!=null?r.left:r.edge;if(qx.lang.Type.isString(f)){f=Math.round(parseFloat(f)*g/100);};e=r.right!=null?r.right:r.edge;if(qx.lang.Type.isString(e)){e=Math.round(parseFloat(e)*g/100);};top=r.top!=null?r.top:r.edge;if(qx.lang.Type.isString(top)){top=Math.round(parseFloat(top)*j/100);};h=r.bottom!=null?r.bottom:r.edge;if(qx.lang.Type.isString(h)){h=Math.round(parseFloat(h)*j/100);};if(f!=null&&e!=null){n=g-f-e-o-p;if(n<u.minWidth){n=u.minWidth;}else if(n>u.maxWidth){n=u.maxWidth;};f+=o;}else {n=r.width;if(n==null){n=u.width;}else {n=Math.round(parseFloat(n)*g/100);if(n<u.minWidth){n=u.minWidth;}else if(n>u.maxWidth){n=u.maxWidth;};};if(e!=null){f=g-n-e-p-o;}else if(f==null){f=o;}else {f+=o;};};if(top!=null&&h!=null){k=j-top-h-q-t;if(k<u.minHeight){k=u.minHeight;}else if(k>u.maxHeight){k=u.maxHeight;};top+=q;}else {k=r.height;if(k==null){k=u.height;}else {k=Math.round(parseFloat(k)*j/100);if(k<u.minHeight){k=u.minHeight;}else if(k>u.maxHeight){k=u.maxHeight;};};if(h!=null){top=j-k-h-t-q;}else if(top==null){top=q;}else {top+=q;};};f+=m.left;top+=m.top;d.renderLayout(f,top,n,k);};},_computeSizeHint:function(){var M=0,y=0;var J=0,I=0;var H,v;var E,C;var L=this._getLayoutChildren();var w,B,z;var K=this.isDesktop();var A,top,x,D;for(var i=0,l=L.length;i<l;i++ ){w=L[i];B=w.getLayoutProperties();z=w.getSizeHint();var G=w.getMarginLeft()+w.getMarginRight();var F=w.getMarginTop()+w.getMarginBottom();H=z.width+G;v=z.minWidth+G;A=B.left!=null?B.left:B.edge;if(A&&typeof A===b){H+=A;v+=A;};x=B.right!=null?B.right:B.edge;if(x&&typeof x===b){H+=x;v+=x;};M=Math.max(M,H);y=K?0:Math.max(y,v);E=z.height+F;C=z.minHeight+F;top=B.top!=null?B.top:B.edge;if(top&&typeof top===b){E+=top;C+=top;};D=B.bottom!=null?B.bottom:B.edge;if(D&&typeof D===b){E+=D;C+=D;};J=Math.max(J,E);I=K?0:Math.max(I,C);};return {width:M,minWidth:y,height:J,minHeight:I};}}});})();(function(){var a="dblclick",b="qx.ui.core.scroll.ScrollSlider",c="horizontal",d="keypress",f="roll",g="knob";qx.Class.define(b,{extend:qx.ui.form.Slider,construct:function(h){qx.ui.form.Slider.call(this,h);this.removeListener(d,this._onKeyPress);this.removeListener(f,this._onRoll);},members:{_createChildControlImpl:function(k,j){var i;switch(k){case g:i=qx.ui.form.Slider.prototype._createChildControlImpl.call(this,k);i.addListener(a,function(e){e.stopPropagation();});};return i||qx.ui.form.Slider.prototype._createChildControlImpl.call(this,k);},getSizeHint:function(l){var m=qx.ui.form.Slider.prototype.getSizeHint.call(this);if(this.getOrientation()===c){m.width=0;}else {m.height=0;};return m;}}});})();(function(){var a="press",b="hovered",c="qx.ui.form.RepeatButton",d="release",f="Enter",g="pressed",h="interval",i="__kx",j="qx.event.type.Event",k="Space",l="abandoned",m="Integer",n="execute";qx.Class.define(c,{extend:qx.ui.form.Button,construct:function(o,p){qx.ui.form.Button.call(this,o,p);this.__kx=new qx.event.AcceleratingTimer();this.__kx.addListener(h,this._onInterval,this);},events:{"execute":j,"press":j,"release":j},properties:{interval:{check:m,init:100},firstInterval:{check:m,init:500},minTimer:{check:m,init:20},timerDecrease:{check:m,init:2}},members:{__wW:null,__kx:null,press:function(){if(this.isEnabled()){if(!this.hasState(g)){this.__wX();};this.removeState(l);this.addState(g);};},release:function(q){if(!this.isEnabled()){return;};if(this.hasState(g)){if(!this.__wW){this.execute();};};this.removeState(g);this.removeState(l);this.__wY();},_applyEnabled:function(s,r){qx.ui.form.Button.prototype._applyEnabled.call(this,s,r);if(!s){if(this.isCapturing()){this.releaseCapture();};this.removeState(g);this.removeState(l);this.__wY();};},_onPointerOver:function(e){if(!this.isEnabled()||e.getTarget()!==this){return;};if(this.hasState(l)){this.removeState(l);this.addState(g);this.__kx.start();};this.addState(b);},_onPointerOut:function(e){if(!this.isEnabled()||e.getTarget()!==this){return;};this.removeState(b);if(this.hasState(g)){this.removeState(g);this.addState(l);this.__kx.stop();};},_onPointerDown:function(e){if(!e.isLeftPressed()){return;};this.capture();this.__wX();e.stopPropagation();},_onPointerUp:function(e){this.releaseCapture();if(!this.hasState(l)){this.addState(b);if(this.hasState(g)&&!this.__wW){this.execute();};};this.__wY();e.stopPropagation();},_onTap:function(e){},_onKeyUp:function(e){switch(e.getKeyIdentifier()){case f:case k:if(this.hasState(g)){if(!this.__wW){this.execute();};this.removeState(g);this.removeState(l);e.stopPropagation();this.__wY();};};},_onKeyDown:function(e){switch(e.getKeyIdentifier()){case f:case k:this.removeState(l);this.addState(g);e.stopPropagation();this.__wX();};},_onInterval:function(e){this.__wW=true;this.fireEvent(n);},__wX:function(){this.fireEvent(a);this.__wW=false;this.__kx.set({interval:this.getInterval(),firstInterval:this.getFirstInterval(),minimum:this.getMinTimer(),decrease:this.getTimerDecrease()}).start();this.removeState(l);this.addState(g);},__wY:function(){this.fireEvent(d);this.__kx.stop();this.removeState(l);this.removeState(g);}},destruct:function(){this._disposeObjects(i);}});})();(function(){var a="Integer",b="interval",c="qx.event.type.Event",d="qx.event.AcceleratingTimer",e="__kx";qx.Class.define(d,{extend:qx.core.Object,implement:[qx.core.IDisposable],construct:function(){qx.core.Object.call(this);this.__kx=new qx.event.Timer(this.getInterval());this.__kx.addListener(b,this._onInterval,this);},events:{"interval":c},properties:{interval:{check:a,init:100},firstInterval:{check:a,init:500},minimum:{check:a,init:20},decrease:{check:a,init:2}},members:{__kx:null,__xa:null,start:function(){this.__kx.setInterval(this.getFirstInterval());this.__kx.start();},stop:function(){this.__kx.stop();this.__xa=null;},_onInterval:function(){this.__kx.stop();if(this.__xa==null){this.__xa=this.getInterval();};this.__xa=Math.max(this.getMinimum(),this.__xa-this.getDecrease());this.__kx.setInterval(this.__xa);this.__kx.start();this.fireEvent(b);}},destruct:function(){this._disposeObjects(e);}});})();(function(){var a="scrollY",b="_computeScrollbars",c="X",d="scrollbar-y",f="scrollAnimation",g="scrollbarX",h="auto",i="End",j="corner",k="os.scrollBarOverlayed",l="scrollarea",m="changeVisibility",n="vertical",o="scrollX",p="scrollAnimationEnd",q="off",r="horizontal",s="scrollbar-x",t="Y",u='qx.event.type.Event',v="qx.ui.core.scroll.AbstractScrollArea",w="abstract",x="update",y="scrollbarY",z="pane",A="on",B="scroll";qx.Class.define(v,{extend:qx.ui.core.Widget,include:[qx.ui.core.scroll.MScrollBarFactory,qx.ui.core.scroll.MRoll,qx.ui.core.MDragDropScrolling],type:w,statics:{DEFAULT_SCROLLBAR_WIDTH:14},construct:function(){qx.ui.core.Widget.call(this);if(qx.core.Environment.get(k)){this._setLayout(new qx.ui.layout.Canvas());}else {var C=new qx.ui.layout.Grid();C.setColumnFlex(0,1);C.setRowFlex(0,1);this._setLayout(C);};var D=qx.ui.core.scroll.AbstractScrollArea.DEFAULT_SCROLLBAR_WIDTH*2+14;this.set({minHeight:D,minWidth:D});this._addRollHandling();},events:{scrollAnimationXEnd:u,scrollAnimationYEnd:u},properties:{appearance:{refine:true,init:l},scrollbarX:{check:[h,A,q],init:h,themeable:true,apply:b},scrollbarY:{check:[h,A,q],init:h,themeable:true,apply:b},scrollbar:{group:[g,y]}},members:{_createChildControlImpl:function(G,F){var E;switch(G){case z:E=new qx.ui.core.scroll.ScrollPane();E.addListener(x,this._computeScrollbars,this);E.addListener(o,this._onScrollPaneX,this);E.addListener(a,this._onScrollPaneY,this);if(qx.core.Environment.get(k)){this._add(E,{edge:0});}else {this._add(E,{row:0,column:0});};break;case s:E=this._createScrollBar(r);E.setMinWidth(0);E.exclude();E.addListener(B,this._onScrollBarX,this);E.addListener(m,this._onChangeScrollbarXVisibility,this);E.addListener(p,this._onScrollAnimationEnd.bind(this,c));if(qx.core.Environment.get(k)){E.setMinHeight(qx.ui.core.scroll.AbstractScrollArea.DEFAULT_SCROLLBAR_WIDTH);this._add(E,{bottom:0,right:0,left:0});}else {this._add(E,{row:1,column:0});};break;case d:E=this._createScrollBar(n);E.setMinHeight(0);E.exclude();E.addListener(B,this._onScrollBarY,this);E.addListener(m,this._onChangeScrollbarYVisibility,this);E.addListener(p,this._onScrollAnimationEnd.bind(this,t));if(qx.core.Environment.get(k)){E.setMinWidth(qx.ui.core.scroll.AbstractScrollArea.DEFAULT_SCROLLBAR_WIDTH);this._add(E,{right:0,bottom:0,top:0});}else {this._add(E,{row:0,column:1});};break;case j:E=new qx.ui.core.Widget();E.setWidth(0);E.setHeight(0);E.exclude();if(!qx.core.Environment.get(k)){this._add(E,{row:1,column:1});};break;};return E||qx.ui.core.Widget.prototype._createChildControlImpl.call(this,G);},getPaneSize:function(){return this.getChildControl(z).getInnerSize();},getItemTop:function(H){return this.getChildControl(z).getItemTop(H);},getItemBottom:function(I){return this.getChildControl(z).getItemBottom(I);},getItemLeft:function(J){return this.getChildControl(z).getItemLeft(J);},getItemRight:function(K){return this.getChildControl(z).getItemRight(K);},scrollToX:function(M,L){qx.ui.core.queue.Manager.flush();this.getChildControl(s).scrollTo(M,L);},scrollByX:function(O,N){qx.ui.core.queue.Manager.flush();this.getChildControl(s).scrollBy(O,N);},getScrollX:function(){var P=this.getChildControl(s,true);return P?P.getPosition():0;},scrollToY:function(R,Q){qx.ui.core.queue.Manager.flush();this.getChildControl(d).scrollTo(R,Q);},scrollByY:function(T,S){qx.ui.core.queue.Manager.flush();this.getChildControl(d).scrollBy(T,S);},getScrollY:function(){var U=this.getChildControl(d,true);return U?U.getPosition():0;},stopScrollAnimationX:function(){var V=this.getChildControl(s,true);if(V){V.stopScrollAnimation();};},stopScrollAnimationY:function(){var W=this.getChildControl(d,true);if(W){W.stopScrollAnimation();};},_onScrollAnimationEnd:function(X){this.fireEvent(f+X+i);},_onScrollBarX:function(e){this.getChildControl(z).scrollToX(e.getData());},_onScrollBarY:function(e){this.getChildControl(z).scrollToY(e.getData());},_onScrollPaneX:function(e){var Y=this.getChildControl(s);if(Y){Y.updatePosition(e.getData());};},_onScrollPaneY:function(e){var ba=this.getChildControl(d);if(ba){ba.updatePosition(e.getData());};},_onChangeScrollbarXVisibility:function(e){var bb=this._isChildControlVisible(s);var bc=this._isChildControlVisible(d);if(!bb){this.scrollToX(0);};bb&&bc?this._showChildControl(j):this._excludeChildControl(j);},_onChangeScrollbarYVisibility:function(e){var bd=this._isChildControlVisible(s);var be=this._isChildControlVisible(d);if(!be){this.scrollToY(0);};bd&&be?this._showChildControl(j):this._excludeChildControl(j);},_computeScrollbars:function(){var bl=this.getChildControl(z);var content=bl.getChildren()[0];if(!content){this._excludeChildControl(s);this._excludeChildControl(d);return;};var bf=this.getInnerSize();var bk=bl.getInnerSize();var bi=bl.getScrollSize();if(!bk||!bi){return;};var bm=this.getScrollbarX();var bn=this.getScrollbarY();if(bm===h&&bn===h){var bj=bi.width>bf.width;var bo=bi.height>bf.height;if((bj||bo)&&!(bj&&bo)){if(bj){bo=bi.height>bk.height;}else if(bo){bj=bi.width>bk.width;};};}else {var bj=bm===A;var bo=bn===A;if(bi.width>(bj?bk.width:bf.width)&&bm===h){bj=true;};if(bi.height>(bj?bk.height:bf.height)&&bn===h){bo=true;};};if(bj){var bh=this.getChildControl(s);bh.show();bh.setMaximum(Math.max(0,bi.width-bk.width));bh.setKnobFactor((bi.width===0)?0:bk.width/bi.width);}else {this._excludeChildControl(s);};if(bo){var bg=this.getChildControl(d);bg.show();bg.setMaximum(Math.max(0,bi.height-bk.height));bg.setKnobFactor((bi.height===0)?0:bk.height/bi.height);}else {this._excludeChildControl(d);};}}});})();(function(){var a="' must be defined!",b="height",c="hAlign",d="vAlign",e="Integer",f="'",g="_applyLayoutChange",h="qx.ui.layout.Grid",m="maxHeight",n="Cannot add widget '",o="width",p=") for '",q="'!. ",r="top",s="minHeight",t="' in this cell (",u=", ",v="The layout properties 'row' and 'column' of the child widget '",w="minWidth",z="flex",A="left",B="maxWidth",C="There is already a widget '";qx.Class.define(h,{extend:qx.ui.layout.Abstract,construct:function(E,D){qx.ui.layout.Abstract.call(this);this.__xb=[];this.__xc=[];if(E){this.setSpacingX(E);};if(D){this.setSpacingY(D);};},properties:{spacingX:{check:e,init:0,apply:g},spacingY:{check:e,init:0,apply:g}},members:{__xd:null,__xb:null,__xc:null,__xe:null,__xf:null,__xg:null,__xh:null,__xi:null,__xj:null,verifyLayoutProperty:null,__xk:function(){var L=[];var G=[];var J=[];var I=-1;var F=-1;var K=this._getLayoutChildren();for(var i=0,l=K.length;i<l;i++ ){var M=K[i];var N=M.getLayoutProperties();var O=N.row;var H=N.column;N.colSpan=N.colSpan||1;N.rowSpan=N.rowSpan||1;if(O==null||H==null){throw new Error(v+M+a);};if(L[O]&&L[O][H]){throw new Error(n+M+q+C+L[O][H]+t+O+u+H+p+this+f);};for(var x=H;x<H+N.colSpan;x++ ){for(var y=O;y<O+N.rowSpan;y++ ){if(L[y]==undefined){L[y]=[];};L[y][x]=M;F=Math.max(F,x);I=Math.max(I,y);};};if(N.rowSpan>1){J.push(M);};if(N.colSpan>1){G.push(M);};};for(var y=0;y<=I;y++ ){if(L[y]==undefined){L[y]=[];};};this.__xd=L;this.__xe=G;this.__xf=J;this.__xg=I;this.__xh=F;this.__xi=null;this.__xj=null;delete this._invalidChildrenCache;},_setRowData:function(S,Q,R){var P=this.__xb[S];if(!P){this.__xb[S]={};this.__xb[S][Q]=R;}else {P[Q]=R;};},_setColumnData:function(T,V,W){var U=this.__xc[T];if(!U){this.__xc[T]={};this.__xc[T][V]=W;}else {U[V]=W;};},setSpacing:function(X){this.setSpacingY(X);this.setSpacingX(X);return this;},setColumnAlign:function(Y,ba,bb){{};this._setColumnData(Y,c,ba);this._setColumnData(Y,d,bb);this._applyLayoutChange();return this;},getColumnAlign:function(bc){var bd=this.__xc[bc]||{};return {vAlign:bd.vAlign||r,hAlign:bd.hAlign||A};},setRowAlign:function(bf,be,bg){{};this._setRowData(bf,c,be);this._setRowData(bf,d,bg);this._applyLayoutChange();return this;},getRowAlign:function(bi){var bh=this.__xb[bi]||{};return {vAlign:bh.vAlign||r,hAlign:bh.hAlign||A};},getCellWidget:function(bk,bj){if(this._invalidChildrenCache){this.__xk();};var bk=this.__xd[bk]||{};return bk[bj]||null;},getRowCount:function(){if(this._invalidChildrenCache){this.__xk();};return this.__xg+1;},getColumnCount:function(){if(this._invalidChildrenCache){this.__xk();};return this.__xh+1;},getCellAlign:function(bs,bm){var br=r;var bp=A;var bq=this.__xb[bs];var bn=this.__xc[bm];var bl=this.__xd[bs][bm];if(bl){var bo={vAlign:bl.getAlignY(),hAlign:bl.getAlignX()};}else {bo={};};if(bo.vAlign){br=bo.vAlign;}else if(bq&&bq.vAlign){br=bq.vAlign;}else if(bn&&bn.vAlign){br=bn.vAlign;};if(bo.hAlign){bp=bo.hAlign;}else if(bn&&bn.hAlign){bp=bn.hAlign;}else if(bq&&bq.hAlign){bp=bq.hAlign;};return {vAlign:br,hAlign:bp};},setColumnFlex:function(bt,bu){this._setColumnData(bt,z,bu);this._applyLayoutChange();return this;},getColumnFlex:function(bv){var bw=this.__xc[bv]||{};return bw.flex!==undefined?bw.flex:0;},setRowFlex:function(by,bx){this._setRowData(by,z,bx);this._applyLayoutChange();return this;},getRowFlex:function(bB){var bz=this.__xb[bB]||{};var bA=bz.flex!==undefined?bz.flex:0;return bA;},setColumnMaxWidth:function(bC,bD){this._setColumnData(bC,B,bD);this._applyLayoutChange();return this;},getColumnMaxWidth:function(bE){var bF=this.__xc[bE]||{};return bF.maxWidth!==undefined?bF.maxWidth:Infinity;},setColumnWidth:function(bG,bH){this._setColumnData(bG,o,bH);this._applyLayoutChange();return this;},getColumnWidth:function(bI){var bJ=this.__xc[bI]||{};return bJ.width!==undefined?bJ.width:null;},setColumnMinWidth:function(bK,bL){this._setColumnData(bK,w,bL);this._applyLayoutChange();return this;},getColumnMinWidth:function(bM){var bN=this.__xc[bM]||{};return bN.minWidth||0;},setRowMaxHeight:function(bP,bO){this._setRowData(bP,m,bO);this._applyLayoutChange();return this;},getRowMaxHeight:function(bR){var bQ=this.__xb[bR]||{};return bQ.maxHeight||Infinity;},setRowHeight:function(bS,bT){this._setRowData(bS,b,bT);this._applyLayoutChange();return this;},getRowHeight:function(bV){var bU=this.__xb[bV]||{};return bU.height!==undefined?bU.height:null;},setRowMinHeight:function(bX,bW){this._setRowData(bX,s,bW);this._applyLayoutChange();return this;},getRowMinHeight:function(ca){var bY=this.__xb[ca]||{};return bY.minHeight||0;},__xl:function(cc){var cb=cc.getSizeHint();var ce=cc.getMarginLeft()+cc.getMarginRight();var cd=cc.getMarginTop()+cc.getMarginBottom();var cf={height:cb.height+cd,width:cb.width+ce,minHeight:cb.minHeight+cd,minWidth:cb.minWidth+ce,maxHeight:cb.maxHeight+cd,maxWidth:cb.maxWidth+ce};return cf;},_fixHeightsRowSpan:function(cA){var cm=this.getSpacingY();for(var i=0,l=this.__xf.length;i<l;i++ ){var cs=this.__xf[i];var cp=this.__xl(cs);var ci=cs.getLayoutProperties();var co=ci.row;var cx=cm*(ci.rowSpan-1);var cg=cx;var cj={};for(var j=0;j<ci.rowSpan;j++ ){var cn=ci.row+j;var cw=cA[cn];var cy=this.getRowFlex(cn);if(cy>0){cj[cn]={min:cw.minHeight,value:cw.height,max:cw.maxHeight,flex:cy};};cx+=cw.height;cg+=cw.minHeight;};if(cx<cp.height){if(!qx.lang.Object.isEmpty(cj)){var cz=qx.ui.layout.Util.computeFlexOffsets(cj,cp.height,cx);for(var k=0;k<ci.rowSpan;k++ ){var cu=cz[co+k]?cz[co+k].offset:0;cA[co+k].height+=cu;};}else {var cr=cm*(ci.rowSpan-1);var cq=cp.height-cr;var cv=Math.floor(cq/ci.rowSpan);var ct=0;var ch=0;for(var k=0;k<ci.rowSpan;k++ ){var cl=cA[co+k].height;ct+=cl;if(cl<cv){ch++ ;};};var ck=Math.floor((cq-ct)/ch);for(var k=0;k<ci.rowSpan;k++ ){if(cA[co+k].height<cv){cA[co+k].height+=ck;};};};};if(cg<cp.minHeight){var cz=qx.ui.layout.Util.computeFlexOffsets(cj,cp.minHeight,cg);for(var j=0;j<ci.rowSpan;j++ ){var cu=cz[co+j]?cz[co+j].offset:0;cA[co+j].minHeight+=cu;};};};},_fixWidthsColSpan:function(cE){var cF=this.getSpacingX();for(var i=0,l=this.__xe.length;i<l;i++ ){var cB=this.__xe[i];var cD=this.__xl(cB);var cH=cB.getLayoutProperties();var cC=cH.column;var cN=cF*(cH.colSpan-1);var cG=cN;var cI={};var cK;for(var j=0;j<cH.colSpan;j++ ){var cJ=cH.column+j;var cM=cE[cJ];var cL=this.getColumnFlex(cJ);if(cL>0){cI[cJ]={min:cM.minWidth,value:cM.width,max:cM.maxWidth,flex:cL};};cN+=cM.width;cG+=cM.minWidth;};if(cN<cD.width){var cO=qx.ui.layout.Util.computeFlexOffsets(cI,cD.width,cN);for(var j=0;j<cH.colSpan;j++ ){cK=cO[cC+j]?cO[cC+j].offset:0;cE[cC+j].width+=cK;};};if(cG<cD.minWidth){var cO=qx.ui.layout.Util.computeFlexOffsets(cI,cD.minWidth,cG);for(var j=0;j<cH.colSpan;j++ ){cK=cO[cC+j]?cO[cC+j].offset:0;cE[cC+j].minWidth+=cK;};};};},_getRowHeights:function(){if(this.__xi!=null){return this.__xi;};var cY=[];var cR=this.__xg;var cQ=this.__xh;for(var da=0;da<=cR;da++ ){var cS=0;var cU=0;var cT=0;for(var cX=0;cX<=cQ;cX++ ){var cP=this.__xd[da][cX];if(!cP){continue;};var cV=cP.getLayoutProperties().rowSpan||0;if(cV>1){continue;};var cW=this.__xl(cP);if(this.getRowFlex(da)>0){cS=Math.max(cS,cW.minHeight);}else {cS=Math.max(cS,cW.height);};cU=Math.max(cU,cW.height);};var cS=Math.max(cS,this.getRowMinHeight(da));var cT=this.getRowMaxHeight(da);if(this.getRowHeight(da)!==null){var cU=this.getRowHeight(da);}else {var cU=Math.max(cS,Math.min(cU,cT));};cY[da]={minHeight:cS,height:cU,maxHeight:cT};};if(this.__xf.length>0){this._fixHeightsRowSpan(cY);};this.__xi=cY;return cY;},_getColWidths:function(){if(this.__xj!=null){return this.__xj;};var df=[];var dc=this.__xh;var de=this.__xg;for(var dk=0;dk<=dc;dk++ ){var di=0;var dh=0;var dd=Infinity;for(var dl=0;dl<=de;dl++ ){var db=this.__xd[dl][dk];if(!db){continue;};var dg=db.getLayoutProperties().colSpan||0;if(dg>1){continue;};var dj=this.__xl(db);dh=Math.max(dh,dj.minWidth);di=Math.max(di,dj.width);};dh=Math.max(dh,this.getColumnMinWidth(dk));dd=this.getColumnMaxWidth(dk);if(this.getColumnWidth(dk)!==null){var di=this.getColumnWidth(dk);}else {var di=Math.max(dh,Math.min(di,dd));};df[dk]={minWidth:dh,width:di,maxWidth:dd};};if(this.__xe.length>0){this._fixWidthsColSpan(df);};this.__xj=df;return df;},_getColumnFlexOffsets:function(dq){var dm=this.getSizeHint();var ds=dq-dm.width;if(ds==0){return {};};var dp=this._getColWidths();var dn={};for(var i=0,l=dp.length;i<l;i++ ){var dt=dp[i];var dr=this.getColumnFlex(i);if((dr<=0)||(dt.width==dt.maxWidth&&ds>0)||(dt.width==dt.minWidth&&ds<0)){continue;};dn[i]={min:dt.minWidth,value:dt.width,max:dt.maxWidth,flex:dr};};return qx.ui.layout.Util.computeFlexOffsets(dn,dq,dm.width);},_getRowFlexOffsets:function(dw){var du=this.getSizeHint();var dy=dw-du.height;if(dy==0){return {};};var dx=this._getRowHeights();var dv={};for(var i=0,l=dx.length;i<l;i++ ){var dA=dx[i];var dz=this.getRowFlex(i);if((dz<=0)||(dA.height==dA.maxHeight&&dy>0)||(dA.height==dA.minHeight&&dy<0)){continue;};dv[i]={min:dA.minHeight,value:dA.height,max:dA.maxHeight,flex:dz};};return qx.ui.layout.Util.computeFlexOffsets(dv,dw,du.height);},renderLayout:function(dV,dB,dU){if(this._invalidChildrenCache){this.__xk();};var dP=qx.ui.layout.Util;var dD=this.getSpacingX();var dJ=this.getSpacingY();var dT=this._getColWidths();var dW=this._getColumnFlexOffsets(dV);var dE=[];var dY=this.__xh;var dC=this.__xg;var dX;for(var ea=0;ea<=dY;ea++ ){dX=dW[ea]?dW[ea].offset:0;dE[ea]=dT[ea].width+dX;};var dM=this._getRowHeights();var dO=this._getRowFlexOffsets(dB);var eg=[];for(var dK=0;dK<=dC;dK++ ){dX=dO[dK]?dO[dK].offset:0;eg[dK]=dM[dK].height+dX;};var ee=0;for(var ea=0;ea<=dY;ea++ ){var top=0;for(var dK=0;dK<=dC;dK++ ){var dR=this.__xd[dK][ea];if(!dR){top+=eg[dK]+dJ;continue;};var dF=dR.getLayoutProperties();if(dF.row!==dK||dF.column!==ea){top+=eg[dK]+dJ;continue;};var ef=dD*(dF.colSpan-1);for(var i=0;i<dF.colSpan;i++ ){ef+=dE[ea+i];};var dS=dJ*(dF.rowSpan-1);for(var i=0;i<dF.rowSpan;i++ ){dS+=eg[dK+i];};var dG=dR.getSizeHint();var ed=dR.getMarginTop();var dQ=dR.getMarginLeft();var dN=dR.getMarginBottom();var dI=dR.getMarginRight();var dL=Math.max(dG.minWidth,Math.min(ef-dQ-dI,dG.maxWidth));var eh=Math.max(dG.minHeight,Math.min(dS-ed-dN,dG.maxHeight));var eb=this.getCellAlign(dK,ea);var ec=ee+dP.computeHorizontalAlignOffset(eb.hAlign,dL,ef,dQ,dI);var dH=top+dP.computeVerticalAlignOffset(eb.vAlign,eh,dS,ed,dN);dR.renderLayout(ec+dU.left,dH+dU.top,dL,eh);top+=eg[dK]+dJ;};ee+=dE[ea]+dD;};},invalidateLayoutCache:function(){qx.ui.layout.Abstract.prototype.invalidateLayoutCache.call(this);this.__xj=null;this.__xi=null;},_computeSizeHint:function(){if(this._invalidChildrenCache){this.__xk();};var ek=this._getColWidths();var ei=0,eq=0;for(var i=0,l=ek.length;i<l;i++ ){var ep=ek[i];if(this.getColumnFlex(i)>0){ei+=ep.minWidth;}else {ei+=ep.width;};eq+=ep.width;};var er=this._getRowHeights();var el=0,em=0;for(var i=0,l=er.length;i<l;i++ ){var es=er[i];if(this.getRowFlex(i)>0){el+=es.minHeight;}else {el+=es.height;};em+=es.height;};var eo=this.getSpacingX()*(ek.length-1);var en=this.getSpacingY()*(er.length-1);var ej={minWidth:ei+eo,width:eq+eo,minHeight:el+en,height:em+en};return ej;}},destruct:function(){this.__xd=this.__xb=this.__xc=this.__xe=this.__xf=this.__xj=this.__xi=null;}});})();(function(){var a="resize",b="scrollY",c="scrollAnimationEnd",d="_transformScrollX",f="scrollX",g="_applyScrollX",h="_applyScrollY",i="frame",j="qx.lang.Type.isNumber(value)&&value>=0&&value<=this.getScrollMaxX()",k="_transformScrollY",l="appear",m="qx.lang.Type.isNumber(value)&&value>=0&&value<=this.getScrollMaxY()",n="qx.event.type.Event",o="qx.ui.core.scroll.ScrollPane",p="end",q="scroll",r="update";qx.Class.define(o,{extend:qx.ui.core.Widget,construct:function(){qx.ui.core.Widget.call(this);this.set({minWidth:0,minHeight:0});this._setLayout(new qx.ui.layout.Grow());this.addListener(a,this._onUpdate);var s=this.getContentElement();s.addListener(q,this._onScroll,this);s.addListener(l,this._onAppear,this);},events:{update:n,scrollAnimationEnd:n},properties:{scrollX:{check:j,apply:g,transform:d,event:f,init:0},scrollY:{check:m,apply:h,transform:k,event:b,init:0}},members:{__xm:null,add:function(t){var u=this._getChildren()[0];if(u){this._remove(u);u.removeListener(a,this._onUpdate,this);};if(t){this._add(t);t.addListener(a,this._onUpdate,this);};},remove:function(v){if(v){this._remove(v);v.removeListener(a,this._onUpdate,this);};},getChildren:function(){return this._getChildren();},_onUpdate:function(e){this.fireEvent(r);},_onScroll:function(e){var w=this.getContentElement();this.setScrollX(w.getScrollX());this.setScrollY(w.getScrollY());},_onAppear:function(e){var B=this.getContentElement();var z=this.getScrollX();var C=B.getScrollX();if(z!=C){B.scrollToX(z);};var A=this.getScrollY();var D=B.getScrollY();if(A!=D){B.scrollToY(A);};},getItemTop:function(E){var top=0;do {top+=E.getBounds().top;E=E.getLayoutParent();}while(E&&E!==this);return top;},getItemBottom:function(F){return this.getItemTop(F)+F.getBounds().height;},getItemLeft:function(G){var H=0;var parent;do {H+=G.getBounds().left;parent=G.getLayoutParent();if(parent){H+=parent.getInsets().left;};G=parent;}while(G&&G!==this);return H;},getItemRight:function(I){return this.getItemLeft(I)+I.getBounds().width;},getScrollSize:function(){return this.getChildren()[0].getBounds();},getScrollMaxX:function(){var K=this.getInnerSize();var J=this.getScrollSize();if(K&&J){return Math.max(0,J.width-K.width);};return 0;},getScrollMaxY:function(){var M=this.getInnerSize();var L=this.getScrollSize();if(M&&L){return Math.max(0,L.height-M.height);};return 0;},scrollToX:function(Q,N){var O=this.getScrollMaxX();if(Q<0){Q=0;}else if(Q>O){Q=O;};this.stopScrollAnimation();if(N){var P=this.getScrollX();this.__xm=new qx.bom.AnimationFrame();this.__xm.on(p,function(){this.setScrollX(Q);this.__xm=null;this.fireEvent(c);},this);this.__xm.on(i,function(S){var R=parseInt(S/N*(Q-P)+P);this.setScrollX(R);},this);this.__xm.startSequence(N);}else {this.setScrollX(Q);};},scrollToY:function(W,T){var U=this.getScrollMaxY();if(W<0){W=0;}else if(W>U){W=U;};this.stopScrollAnimation();if(T){var V=this.getScrollY();this.__xm=new qx.bom.AnimationFrame();this.__xm.on(p,function(){this.setScrollY(W);this.__xm=null;this.fireEvent(c);},this);this.__xm.on(i,function(Y){var X=parseInt(Y/T*(W-V)+V);this.setScrollY(X);},this);this.__xm.startSequence(T);}else {this.setScrollY(W);};},scrollByX:function(x,ba){this.scrollToX(this.getScrollX()+x,ba);},scrollByY:function(y,bb){this.scrollToY(this.getScrollY()+y,bb);},stopScrollAnimation:function(){if(this.__xm){this.__xm.cancelSequence();this.__xm=null;};},_applyScrollX:function(bc){this.getContentElement().scrollToX(bc);},_transformScrollX:function(bd){return Math.round(bd);},_applyScrollY:function(be){this.getContentElement().scrollToY(be);},_transformScrollY:function(bf){return Math.round(bf);}}});})();(function(){var a="qx.ui.layout.Grow";qx.Class.define(a,{extend:qx.ui.layout.Abstract,members:{verifyLayoutProperty:null,renderLayout:function(b,c,e){var h=this._getLayoutChildren();var g,j,f,d;for(var i=0,l=h.length;i<l;i++ ){g=h[i];j=g.getSizeHint();f=b;if(f<j.minWidth){f=j.minWidth;}else if(f>j.maxWidth){f=j.maxWidth;};d=c;if(d<j.minHeight){d=j.minHeight;}else if(d>j.maxHeight){d=j.maxHeight;};g.renderLayout(e.left,e.top,f,d);};},_computeSizeHint:function(){var r=this._getLayoutChildren();var p,t;var s=0,q=0;var o=0,m=0;var k=Infinity,n=Infinity;for(var i=0,l=r.length;i<l;i++ ){p=r[i];t=p.getSizeHint();s=Math.max(s,t.width);q=Math.max(q,t.height);o=Math.max(o,t.minWidth);m=Math.max(m,t.minHeight);k=Math.min(k,t.maxWidth);n=Math.min(n,t.maxHeight);};return {width:s,height:q,minWidth:o,minHeight:m,maxWidth:k,maxHeight:n};}}});})();(function(){var a="os.version",b="os.name",c="qx.mobile.nativescroll",d="osx",e="qx.nativeScrollBars",f="event.mspointer",g="android",h="firefox",i="os.scrollBarOverlayed",j="browser.version",k="ios",l=".",m="browser.name",n="qx.bom.client.Scroll";qx.Bootstrap.define(n,{statics:{scrollBarOverlayed:function(){var o=qx.bom.element.Scroll.getScrollbarWidth();var q=qx.bom.client.OperatingSystem.getName()===d;var p=qx.core.Environment.get(e);return o===0&&q&&p;},getNativeScroll:function(){if(qx.core.Environment.get(b)==k&&parseInt(qx.core.Environment.get(j),10)>7){return true;};if(qx.core.Environment.get(m)==h){return true;};if(qx.core.Environment.get(b)==g){var s=qx.core.Environment.get(a);var r=s.split(l);if(r[0]>4||(r.length>1&&r[0]>3&&r[1]>3)){return true;};};if(qx.core.Environment.get(f)){return true;};return false;}},defer:function(t){qx.core.Environment.add(i,t.scrollBarOverlayed);qx.core.Environment.add(c,t.getNativeScroll);}});})();(function(){var a="qx.ui.form.List",b="text",c="Boolean",d="one",f="addChildWidget",g="_applySpacing",h="Enter",j="Integer",k="action",m="keyinput",n="qx.event.type.Data",o="addItem",p="vertical",q="removeChildWidget",r="",s="_applyOrientation",t="single",u="keypress",v="list",w="__xn",x="horizontal",y="label",z="pane",A="removeItem";qx.Class.define(a,{extend:qx.ui.core.scroll.AbstractScrollArea,implement:[qx.ui.core.IMultiSelection,qx.ui.form.IForm,qx.ui.form.IField,qx.ui.form.IModelSelection],include:[qx.ui.core.MRemoteChildrenHandling,qx.ui.core.MMultiSelectionHandling,qx.ui.form.MForm,qx.ui.form.MModelSelection],construct:function(B){qx.ui.core.scroll.AbstractScrollArea.call(this);this.__xn=this._createListItemContainer();this.__xn.addListener(f,this._onAddChild,this);this.__xn.addListener(q,this._onRemoveChild,this);this.getChildControl(z).add(this.__xn);if(B){this.setOrientation(x);}else {this.initOrientation();};this.addListener(u,this._onKeyPress);this.addListener(m,this._onKeyInput);this.__xo=r;},events:{addItem:n,removeItem:n},properties:{appearance:{refine:true,init:v},focusable:{refine:true,init:true},width:{refine:true,init:100},height:{refine:true,init:200},orientation:{check:[x,p],init:p,apply:s},spacing:{check:j,init:0,apply:g,themeable:true},enableInlineFind:{check:c,init:true}},members:{__xo:null,__xp:null,__xn:null,SELECTION_MANAGER:qx.ui.core.selection.ScrollArea,getChildrenContainer:function(){return this.__xn;},_onAddChild:function(e){this.fireDataEvent(o,e.getData());},_onRemoveChild:function(e){this.fireDataEvent(A,e.getData());},handleKeyPress:function(e){if(!this._onKeyPress(e)){this._getManager().handleKeyPress(e);};},_createListItemContainer:function(){return new qx.ui.container.Composite;},_applyOrientation:function(E,C){var content=this.__xn;var D=content.getLayout();var G=E===x;var F=G?new qx.ui.layout.HBox():new qx.ui.layout.VBox();content.setLayout(F);content.setAllowGrowX(!G);content.setAllowGrowY(G);this._applySpacing(this.getSpacing());if(D){D.dispose();};},_applySpacing:function(I,H){this.__xn.getLayout().setSpacing(I);},_onKeyPress:function(e){if(e.getKeyIdentifier()==h&&!e.isAltPressed()){var J=this.getSelection();for(var i=0;i<J.length;i++ ){J[i].fireEvent(k);};return true;};return false;},_onKeyInput:function(e){if(!this.getEnableInlineFind()){return;};var K=this.getSelectionMode();if(!(K===t||K===d)){return;};if(((new Date).valueOf()-this.__xp)>1000){this.__xo=r;};this.__xo+=e.getChar();var L=this.findItemByLabelFuzzy(this.__xo);if(L){this.setSelection([L]);};this.__xp=(new Date).valueOf();},findItemByLabelFuzzy:function(N){N=N.toLowerCase();var M=this.getChildren();for(var i=0,l=M.length;i<l;i++ ){var O=M[i].getLabel();if(O&&O.toLowerCase().indexOf(N)==0){return M[i];};};return null;},findItem:function(Q,U){if(U!==false){Q=Q.toLowerCase();};var S=this.getChildren();var V;for(var i=0,l=S.length;i<l;i++ ){V=S[i];var T;if(V.isRich()){var P=V.getChildControl(y,true);if(P){var R=P.getContentElement().getDomElement();if(R){T=qx.bom.element.Attribute.get(R,b);};};}else {T=V.getLabel();};if(T!=null){if(T.translate){T=T.translate();};if(U!==false){T=T.toLowerCase();};if(T.toString()==Q.toString()){return V;};};};return null;}},destruct:function(){this._disposeObjects(w);}});})();(function(){var a='/fs?path={path}&type={type}',b='Backend does not respond!',c='File has been saved',d='/data/designs',e='createSuccess',f='/fs/move?src={src}&target={target}',g='success',h='DELETE',i='&recursive=true',j='/fs/check',k='/fs?path={path}',l='updateError',m='update',n='cv.io.rest.Client',o='static',p='text/xml',q='text/plain',r='.',s='rest/cv/index.php',t='create',u='read',v='get',w='POST',x='PUT',y='Sync',z='Content-Type',A='application/json',B='/data/influxdbtags?auth={auth}&measurement={measurement}',C='/data/influxdbs?auth={auth}',D='save',E='/config/hidden/{section}/{key}',F='/config/hidden',G='error',H='/data/influxdbfields?auth={auth}&measurement={measurement}',I='GET',J='load',K='updateSuccess',L='Error saving file',M='/fs?path={path}&force={force}',N='createError',O='&hash=',P='/data/rrds';qx.Class.define(n,{type:o,statics:{BASE_URL:null,__xq:null,__xr:null,__xs:null,__xt:{},getBaseUrl:function(){if(!this.BASE_URL){var Q=qx.util.Uri.parseUri(window.location.href).path;Q+=s;this.BASE_URL=Q;};return this.BASE_URL;},getConfigClient:function(){if(!this.__xq){var R={get:{method:I,url:E},put:{method:x,url:E},post:{method:w,url:E},"delete":{method:h,url:E},save:{method:x,url:F}};this.__xq=new qx.io.rest.Resource(R);this.__xq.setBaseUrl(this.getBaseUrl());this.__xq.configureRequest(function(T,S){if(S===D){T.setRequestHeader(z,A);};if(S===v){T.setAccept(p);}else {T.setAccept(A);};});this._enableSync(this.__xq,R);};return this.__xq;},getFsClient:function(){if(!this.__xr){var U={read:{method:I,url:k},update:{method:x,url:k},create:{method:w,url:a},"delete":{method:h,url:M},move:{method:x,url:f},checkEnvironment:{method:I,url:j}};this.__xr=new qx.io.rest.Resource(U);this.__xr.setBaseUrl(this.getBaseUrl());this.__xr.configureRequest(function(W,ba,Y){if(Y.hash){W.setUrl(W.getUrl()+O+Y.hash);};if(Y.recursive===true&&ba===u){W.setUrl(W.getUrl()+i);};if(ba===m||ba===t){var X=Y.path.split(r);if(X.length>1){var bb=X.pop();var V=cv.ui.manager.tree.FileSystem.getMimetypeFromSuffix(bb);W.setRequestHeader(z,V||q);}else {W.setRequestHeader(z,q);};W.setAccept(A);};});this._enableSync(this.__xr,U);this.__xr.addListener(K,this._onSaveSuccess,this);this.__xr.addListener(e,this._onSaveSuccess,this);this.__xr.addListener(l,this._onSaveError,this);this.__xr.addListener(N,this._onSaveError,this);};return this.__xr;},getDataProviderClient:function(){if(!this.__xs){var bc={designs:{method:I,url:d},rrds:{method:I,url:P},influxdbs:{method:I,url:C},influxdbfields:{method:I,url:H},influxdbtags:{method:I,url:B}};this.__xs=new qx.io.rest.Resource(bc);this.__xs.setBaseUrl(this.getBaseUrl());this._enableSync(this.__xs,bc);};return this.__xs;},_enableSync:function(bd,be){Object.keys(be).forEach(function(bf){bd[bf+y]=function(){var bh=qx.lang.Array.fromArguments(arguments);var bg;var bi=bh.pop();if(qx.lang.Type.isFunction(bi)){bg=bi;bi=this;}else {bg=bh.pop();};this.__xt[bd[bf].apply(bd,bh)]=bg.bind(bi);}.bind(this);},this);bd.addListener(g,function(bj){var bk=bj.getRequest();var bl=parseInt(bk.toHashCode(),10);if(this.__xt.hasOwnProperty(bl)){this.__xt[bl](null,bj.getData());delete this.__xt[bl];};},this);bd.addListener(G,function(bo){var bn=bo.getRequest();var bp=parseInt(bn.toHashCode(),10);if(this.__xt.hasOwnProperty(bp)){var bm=bo.getData();var bq;if(bm){bq=bm.message;}else {bq={status:bo.getRequest().getStatus(),statusText:bo.getRequest().getStatusText()};};qx.log.Logger.error(this,bq);this.__xt[bp](bq,null);delete this.__xt[bp];};if(bn.getPhase()===J){dialog.Dialog.error(qx.locale.Manager.tr(b));};},this);},_onSaveSuccess:function(bs){var br=bs.getRequest();var bt=parseInt(br.toHashCode(),10);if(!this.__xt.hasOwnProperty(bt)){cv.ui.manager.snackbar.Controller.info(qx.locale.Manager.tr(c));};},_onSaveError:function(bv){var bu=bv.getRequest();var bw=parseInt(bu.toHashCode(),10);if(!this.__xt.hasOwnProperty(bw)){cv.ui.manager.snackbar.Controller.error(qx.locale.Manager.tr(L));};}}});})();(function(){var a="Boolean",b='resize',c="empty-info",d="drop",e='upload-overlay',f="dragexit",g="dragover",h='visible',j='upload',k='.',m="String",n='top',o='rgba(32, 32, 32, 0.9)',p='media',q="",r="visibility",s='visibility',t="dragenter",u="upload-overlay",v="appear",w="cv.ui.manager.upload.MDragUpload",x='dir',y='label',z='upload-dropbox',A="dragleave",B="dragend",C='file',D="__xw",E="upload-dropbox";qx.Mixin.define(w,{construct:function(){this.setDroppable(true);if(this.getBounds()){this._applyStartDragListeners();}else {this.addListenerOnce(v,function(){this._applyStartDragListeners();},this);};var F=this._getLayout();if(!(F instanceof qx.ui.layout.Grow)&&!(F instanceof qx.ui.layout.Canvas)){this.addListener(b,this.__xv,this);};},properties:{uploadMode:{check:a,init:false,apply:D},uploadHint:{check:m,init:q}},statics:{onHtml5Drop:function(G){G.preventDefault();this.getFiles(G).forEach(this.uploadFile,this);},uploadFile:function(L,H){var K=cv.ui.manager.model.FileItem.isConfigFile(L.name);var J;if(K){J=new cv.ui.manager.model.FileItem(k);}else if(cv.ui.manager.tree.FileSystem.isAccepted(L.type)){J=new cv.ui.manager.model.FileItem(p);};if(J){J.set({type:x});var I=new cv.ui.manager.upload.UploadMgr();if(H){I.replaceFile(L,H);}else {I.setFolder(J);I.uploadFile(L);};};},hasDroppableFile:function(M){return this.getFiles(M).length>0;},getFiles:function(Q){var N=[];var i,l,P;if(Q.dataTransfer.items){for(i=0,l=Q.dataTransfer.items.length;i<l;i++ ){var O=Q.dataTransfer.items[i];if(O.kind===C&&cv.ui.manager.tree.FileSystem.isAccepted(O.type)){P=O.getAsFile();N.push(P);};};}else {for(i=0,l=Q.dataTransfer.files.length;i<l;i++ ){P=Q.dataTransfer.files[i];if(cv.ui.manager.tree.FileSystem.isAccepted(P.type)){N.push(P);};};};return N;}},members:{__xu:null,_boundOnStop:null,__xv:function(){var R=this.getBounds();this.getChildControl(e).setUserBounds(R.left,R.top,R.width,R.height);this.getChildControl(z).setUserBounds(R.left,R.top,R.width,R.height);},_createMDragUploadChildControlImpl:function(W){var S;var V=this.getBounds();var U=this._getLayout();switch(W){case u:S=new qx.ui.container.Composite();S.setZIndex(1000000);S.exclude();if(U instanceof qx.ui.layout.Canvas){this._add(S,{edge:0});}else if(!(this._getLayout() instanceof qx.ui.layout.Grow)&&V){S.setUserBounds(V.left,V.top,V.width,V.height);};this._add(S);this.getChildControl(E).bind(r,S,r);break;case E:S=new qx.ui.container.Composite(new qx.ui.layout.Grow());S.setBackgroundColor(o);S.setZIndex(1000);var T=new qx.ui.basic.Atom(this.getUploadHint(),cv.theme.dark.Images.getIcon(j,32));T.set({iconPosition:n,rich:true,center:true});T.getChildControl(y).setWrap(true);S.setAnonymous(true);S.add(T);S.exclude();if(U instanceof qx.ui.layout.Canvas){this._add(S,{edge:0});}else if(!(this._getLayout() instanceof qx.ui.layout.Grow)&&V){S.setUserBounds(V.left,V.top,V.width,V.height);};this._add(S);break;};return S;},_onStopDragging:function(X){X.preventDefault();this.setUploadMode(false);document.removeEventListener(B,this._boundOnStop,false);},_applyStartDragListeners:function(){this.getContentElement().getDomElement().addEventListener(t,function(Y){if(this._isDroppable){if(this._isDroppable(Y.dataTransfer.items)){this.setUploadMode(true);};}else if(cv.ui.manager.upload.MDragUpload.hasDroppableFile(Y)){this.setUploadMode(true);};}.bind(this),false);if(this.getChildControl(u).getBounds()){this._applyDragListeners();}else {this.getChildControl(u).addListenerOnce(v,function(){this._applyDragListeners();},this);};},_applyDragListeners:function(){var bb=this.getChildControl(u).getContentElement().getDomElement();if(!bb){var ba=this.getChildControl(u).addListener(s,function(bc){if(bc.getData()===h){this._applyDragListeners();this.getChildControl(u).removeListenerById(ba);};},this);return;};bb.addEventListener(f,function(){this.setUploadMode(false);}.bind(this),false);bb.addEventListener(g,function(be){be.preventDefault();var bd=false;if(this._isDroppable){bd=this._isDroppable(be.dataTransfer.items);}else if(cv.ui.manager.upload.MDragUpload.hasDroppableFile(be)){bd=true;};this.setUploadMode(bd);}.bind(this),false);this._boundOnStop=this._onStopDragging.bind(this);bb.addEventListener(A,this._boundOnStop,false);bb.addEventListener(B,function(){this.setUploadMode(false);}.bind(this),false);document.addEventListener(B,this._boundOnStop,false);if(this._onDrop){bb.addEventListener(d,this._onDrop.bind(this),false);}else {bb.addEventListener(d,function(bf){cv.ui.manager.upload.MDragUpload.onHtml5Drop(bf);this._onStopDragging(bf);}.bind(this),false);};},__xw:function(bg){if(bg===true){this.getChildControl(E).show();if(this.hasChildControl(c)&&this.getChildControl(c).isVisible()){this.getChildControl(c).exclude();this.__xu=true;}else {this.__xu=false;};}else {this.getChildControl(E).exclude();if(this.__xu===true){this.getChildControl(c).show();};};}}});})();(function(){var a='css',b='cv.ui.manager.tree.FileSystem',c='_timeFormat',d='changeSelection',e="editing",f='',g='quickPreview',h='qx.event.type.Data',i='children',j='tap',k='cv.manager.tree.enable',l="open",m='_replacementManager',n="",o="change",p='js',q='png',r='xml',s='.',t="enabled",u='contextmenu',v='svg',w='single',x="icon",y='dbltap',z='name',A='_dateFormat',B="model",C='_applySelectedNode',D='php',E='_applyRootFolder',F='cv.ui.manager.model.FileItem',G='file',H='tree',I="readable",J='openMode';qx.Class.define(b,{extend:qx.ui.core.Widget,include:[cv.ui.manager.upload.MDragUpload],construct:function(K){qx.ui.core.Widget.call(this);this._setLayout(new qx.ui.layout.Grow());this.setRootFolder(K);qx.event.message.Bus.subscribe(k,this._onEnableTree,this);},statics:{MIMETYPES:{'text/xml':r,'application/xml':r,'text/javascript':p,'application/x-httpd-php':D,'text/css':a,'image/png':q,'image/svg+xml':v,'text/plain':f},getMimetypeFromSuffix:function(L){return Object.keys(this.MIMETYPES).find(function(M){return this.MIMETYPES[M]===L;},this);},isAccepted:function(N){return this.MIMETYPES.hasOwnProperty(N);}},events:{'changeSelection':h},properties:{rootFolder:{check:F,apply:E},selectedNode:{check:F,apply:C,nullable:true}},members:{__xx:null,__xy:500,__xz:false,_replacementManager:null,reload:function(){var O=this.getChildControl(H);var Q=O.getOpenNodes().map(function(R){return R.getFullPath();});var P=O.getModel();P.reload(function(){this.getChildControl(H).refresh();P.setOpen(true);Q.forEach(this.openPath,this);},this);},openPath:function(S){var T=this.getChildControl(H).getModel();if(S===s){T.setOpen(true);}else {T.setOpen(true);T.openPath(S);};},refresh:function(){this.getChildControl(H).refresh();},_applyRootFolder:function(V){if(V){var U=this.getChildControl(H);U.setModel(V);V.load(function(){U.setHideRoot(true);},this);};},_applySelectedNode:function(X){var W=this.getChildControl(H);var Y=cv.ui.manager.contextmenu.GlobalFileItem.getInstance();Y.configure(X);if(X){W.setContextMenu(Y);};},setSelection:function(ba){this.getChildControl(H).getSelection().replace([ba]);},_onDblTapTreeSelection:function(){var bb=this.getSelectedNode();if(bb){if(this.__xx){this.__xx.stop();};if(bb.getType()===G){this.fireDataEvent(d,{'node':bb,'mode':y});};};},_onChangeTreeSelection:function(){if(this.__xx){this.__xx.stop();};if(this.__xz===true){return;};var be=this.getChildControl(H);var bd=be.getSelection();if(bd.length>0){var bc=bd.getItem(0);this.setSelectedNode(bc);if(bc.getType()===G){this.__xx=qx.event.Timer.once(function(){this.fireDataEvent(d,{'node':this.getSelectedNode(),'mode':j});this.__xx=null;},this,this.__xy);}else {this.fireDataEvent(d,{'node':bc,'mode':j});};}else {be.resetContextMenu();this.resetSelectedNode();};},_onFsItemRightClick:function(bh){var bi=this.getChildControl(H);var bg=bh.getTarget();if(bg instanceof cv.ui.manager.tree.VirtualFsItem){var bf=bg.getModel();if(bf){this.__xz=true;bi.getSelection().replace([bf]);this.setSelectedNode(bf);this.fireDataEvent(d,{'node':bf,'mode':u});this.__xz=false;};};},_onEnableTree:function(bj){this.getChildControl(H).setEnabled(bj.getData());},_createChildControlImpl:function(bl){var bk;switch(bl){case H:bk=new qx.ui.tree.VirtualTree(null,z,i);bk.set({selectionMode:w,minWidth:250});cv.ui.manager.model.Preferences.getInstance().bind(g,bk,J,{converter:function(bm){return bm?j:y;}});bk.setDelegate({createItem:function(){var bn=new cv.ui.manager.tree.VirtualFsItem();bn.addListener(y,this._onDblTapTreeSelection,this);bn.addListener(u,this._onFsItemRightClick,this);return bn;}.bind(this),bindItem:function(bp,bo,bq){bp.bindProperty(n,B,null,bo,bq);bp.bindPropertyReverse(l,l,null,bo,bq);bp.bindProperty(l,l,null,bo,bq);bp.bindProperty(I,t,null,bo,bq);bp.bindProperty(x,x,null,bo,bq);bp.bindProperty(e,e,null,bo,bq);}});bk.getSelection().addListener(o,this._onChangeTreeSelection,this);this._add(bk);break;};if(!bk){bk=this._createMDragUploadChildControlImpl(bl);};return bk||qx.ui.core.Widget.prototype._createChildControlImpl.call(this,bl);}},destruct:function(){qx.event.message.Bus.unsubscribe(k,this._onEnableTree,this);this._disposeObjects(A,c,m);}});})();(function(){var a="Boolean",b="pointerover",c="qx.ui.core.Widget",d="excluded",f="selected",g="Integer",h="slidebar",j="menu",k="visible",l="_applySelectedButton",m="_applySpacingY",n="resize",o="_blocker",p="_applyCloseInterval",q="_applyBlockerColor",r="The menu instance needs a configured 'opener' widget!",s="_applyIconColumnWidth",t="qx.ui.menu.Menu",u="_applyOpenedButton",v="Color",w="Number",x="_applyArrowColumnWidth",y="Unknown target: ",z="_applySpacingX",A="_applyBlockerOpacity",B="Could not open menu instance because 'opener' widget is not visible",C="_applyOpenInterval",D="pointerout";qx.Class.define(t,{extend:qx.ui.core.Widget,include:[qx.ui.core.MPlacement,qx.ui.core.MRemoteChildrenHandling],construct:function(){qx.ui.core.Widget.call(this);this._setLayout(new qx.ui.menu.Layout);var E=this.getApplicationRoot();E.add(this);this.addListener(b,this._onPointerOver);this.addListener(D,this._onPointerOut);this.addListener(n,this._onResize,this);E.addListener(n,this._onResize,this);this._blocker=new qx.ui.core.Blocker(E);this.initVisibility();this.initKeepFocus();this.initKeepActive();},properties:{appearance:{refine:true,init:j},allowGrowX:{refine:true,init:false},allowGrowY:{refine:true,init:false},visibility:{refine:true,init:d},keepFocus:{refine:true,init:true},keepActive:{refine:true,init:true},spacingX:{check:g,apply:z,init:0,themeable:true},spacingY:{check:g,apply:m,init:0,themeable:true},iconColumnWidth:{check:g,init:0,themeable:true,apply:s},arrowColumnWidth:{check:g,init:0,themeable:true,apply:x},blockerColor:{check:v,init:null,nullable:true,apply:q,themeable:true},blockerOpacity:{check:w,init:1,apply:A,themeable:true},selectedButton:{check:c,nullable:true,apply:l},openedButton:{check:c,nullable:true,apply:u},opener:{check:c,nullable:true},openInterval:{check:g,themeable:true,init:250,apply:C},closeInterval:{check:g,themeable:true,init:250,apply:p},blockBackground:{check:a,themeable:true,init:false}},members:{__xA:null,__xB:null,_blocker:null,open:function(){if(this.getOpener()!=null){var F=this.placeToWidget(this.getOpener(),true);if(F){this.__xD();this.show();this._placementTarget=this.getOpener();}else {this.warn(B);};}else {this.warn(r);};},openAtPointer:function(e){this.placeToPointer(e);this.__xD();this.show();this._placementTarget={left:e.getDocumentLeft(),top:e.getDocumentTop()};},openAtPoint:function(G){this.placeToPoint(G);this.__xD();this.show();this._placementTarget=G;},addSeparator:function(){this.add(new qx.ui.menu.Separator);},getColumnSizes:function(){return this._getMenuLayout().getColumnSizes();},getSelectables:function(){var H=[];var I=this.getChildren();for(var i=0;i<I.length;i++ ){if(I[i].isEnabled()){H.push(I[i]);};};return H;},_applyIconColumnWidth:function(K,J){this._getMenuLayout().setIconColumnWidth(K);},_applyArrowColumnWidth:function(M,L){this._getMenuLayout().setArrowColumnWidth(M);},_applySpacingX:function(O,N){this._getMenuLayout().setColumnSpacing(O);},_applySpacingY:function(Q,P){this._getMenuLayout().setSpacing(Q);},_applyVisibility:function(T,S){qx.ui.core.Widget.prototype._applyVisibility.call(this,T,S);var R=qx.ui.menu.Manager.getInstance();if(T===k){R.add(this);var U=this.getParentMenu();if(U){U.setOpenedButton(this.getOpener());};}else if(S===k){R.remove(this);var U=this.getParentMenu();if(U&&U.getOpenedButton()==this.getOpener()){U.resetOpenedButton();};this.resetOpenedButton();this.resetSelectedButton();};this.__xC();},__xC:function(){if(this.isVisible()){if(this.getBlockBackground()){var V=this.getZIndex();this._blocker.blockContent(V-1);};}else {if(this._blocker.isBlocked()){this._blocker.unblock();};};},getParentMenu:function(){var W=this.getOpener();if(!W||!(W instanceof qx.ui.menu.AbstractButton)){return null;};if(W&&W.getContextMenu()===this){return null;};while(W&&!(W instanceof qx.ui.menu.Menu)){W=W.getLayoutParent();};return W;},_applySelectedButton:function(Y,X){if(X){X.removeState(f);};if(Y){Y.addState(f);};},_applyOpenedButton:function(bb,ba){if(ba&&ba.getMenu()){ba.getMenu().exclude();};if(bb){bb.getMenu().open();};},_applyBlockerColor:function(bd,bc){this._blocker.setColor(bd);},_applyBlockerOpacity:function(bf,be){this._blocker.setOpacity(bf);},getChildrenContainer:function(){return this.getChildControl(h,true)||this;},_createChildControlImpl:function(bi,bh){var bg;switch(bi){case h:var bg=new qx.ui.menu.MenuSlideBar();var bk=this._getLayout();this._setLayout(new qx.ui.layout.Grow());var bj=bg.getLayout();bg.setLayout(bk);bj.dispose();var bl=qx.lang.Array.clone(this.getChildren());for(var i=0;i<bl.length;i++ ){bg.add(bl[i]);};this.removeListener(n,this._onResize,this);bg.getChildrenContainer().addListener(n,this._onResize,this);this._add(bg);break;};return bg||qx.ui.core.Widget.prototype._createChildControlImpl.call(this,bi);},_getMenuLayout:function(){if(this.hasChildControl(h)){return this.getChildControl(h).getChildrenContainer().getLayout();}else {return this._getLayout();};},_getMenuBounds:function(){if(this.hasChildControl(h)){return this.getChildControl(h).getChildrenContainer().getBounds();}else {return this.getBounds();};},_computePlacementSize:function(){return this._getMenuBounds();},__xD:function(){var bn=this._getMenuBounds();if(!bn){this.addListenerOnce(n,this.__xD,this);return;};var bm=this.getLayoutParent().getBounds().height;var top=this.getLayoutProperties().top;var bo=this.getLayoutProperties().left;if(top<0){this._assertSlideBar(function(){this.setHeight(bn.height+top);this.moveTo(bo,0);});}else if(top+bn.height>bm){this._assertSlideBar(function(){this.setHeight(bm-top);});}else {this.setHeight(null);};},_assertSlideBar:function(bp){if(this.hasChildControl(h)){return bp.call(this);};this.__xB=bp;qx.ui.core.queue.Widget.add(this);},syncWidget:function(bq){this.getChildControl(h);if(this.__xB){this.__xB.call(this);delete this.__xB;};},_onResize:function(){if(this.isVisible()){var br=this._placementTarget;if(!br){return;}else if(br instanceof qx.ui.core.Widget){this.placeToWidget(br,true);}else if(br.top!==undefined){this.placeToPoint(br);}else {throw new Error(y+br);};this.__xD();};},_onPointerOver:function(e){var bt=qx.ui.menu.Manager.getInstance();bt.cancelClose(this);var bu=e.getTarget();if(bu.isEnabled()&&bu instanceof qx.ui.menu.AbstractButton){this.setSelectedButton(bu);var bs=bu.getMenu&&bu.getMenu();if(bs){bs.setOpener(bu);bt.scheduleOpen(bs);this.__xA=bs;}else {var bv=this.getOpenedButton();if(bv){bt.scheduleClose(bv.getMenu());};if(this.__xA){bt.cancelOpen(this.__xA);this.__xA=null;};};}else if(!this.getOpenedButton()){this.resetSelectedButton();};},_onPointerOut:function(e){var bw=qx.ui.menu.Manager.getInstance();if(!qx.ui.core.Widget.contains(this,e.getRelatedTarget())){var bx=this.getOpenedButton();bx?this.setSelectedButton(bx):this.resetSelectedButton();if(bx){bw.cancelClose(bx.getMenu());};if(this.__xA){bw.cancelOpen(this.__xA);};};}},destruct:function(){if(!qx.core.ObjectRegistry.inShutDown){qx.ui.menu.Manager.getInstance().remove(this);};this.getApplicationRoot().removeListener(n,this._onResize,this);this._placementTarget=null;this._disposeObjects(o);}});})();(function(){var a="qx.ui.menu.Layout",b="Integer",c="_applyLayoutChange";qx.Class.define(a,{extend:qx.ui.layout.VBox,properties:{columnSpacing:{check:b,init:0,apply:c},spanColumn:{check:b,init:1,nullable:true,apply:c},iconColumnWidth:{check:b,init:0,themeable:true,apply:c},arrowColumnWidth:{check:b,init:0,themeable:true,apply:c}},members:{__xE:null,_computeSizeHint:function(){var q=this._getLayoutChildren();var o,g,k;var e=this.getSpanColumn();var j=this.__xE=[0,0,0,0];var n=this.getColumnSpacing();var m=0;var f=0;for(var i=0,l=q.length;i<l;i++ ){o=q[i];if(o.isAnonymous()){continue;};g=o.getChildrenSizes();for(var h=0;h<g.length;h++ ){if(e!=null&&h==e&&g[e+1]==0){m=Math.max(m,g[h]);}else {j[h]=Math.max(j[h],g[h]);};};var d=q[i].getInsets();f=Math.max(f,d.left+d.right);};if(e!=null&&j[e]+n+j[e+1]<m){j[e]=m-j[e+1]-n;};if(m==0){k=n*2;}else {k=n*3;};if(j[0]==0){j[0]=this.getIconColumnWidth();};if(j[3]==0){j[3]=this.getArrowColumnWidth();};var p=qx.ui.layout.VBox.prototype._computeSizeHint.call(this).height;return {minHeight:p,height:p,width:qx.lang.Array.sum(j)+f+k};},getColumnSizes:function(){return this.__xE||null;}},destruct:function(){this.__xE=null;}});})();(function(){var a="menu-separator",b="qx.ui.menu.Separator";qx.Class.define(b,{extend:qx.ui.core.Widget,properties:{appearance:{refine:true,init:a},anonymous:{refine:true,init:true}}});})();(function(){var a="__xG",b="__xF",c="blur",d="keypress",f="Enter",g="Up",h="__xH",j="contextmenu",k="interval",l="roll",m="Escape",n="pointerdown",o="qx.ui.menu.Manager",p="keydown",q="Left",r="event.touch",s="Down",t="Right",u="keyup",v="singleton",w="Space";qx.Class.define(o,{type:v,extend:qx.core.Object,construct:function(){qx.core.Object.call(this);this.__xF=[];var x=document.body;var y=qx.event.Registration;y.addListener(window.document.documentElement,n,this._onPointerDown,this,true);y.addListener(x,l,this._onRoll,this,true);y.addListener(x,p,this._onKeyUpDown,this,true);y.addListener(x,u,this._onKeyUpDown,this,true);y.addListener(x,d,this._onKeyPress,this,true);if(!qx.core.Environment.get(r)){qx.bom.Element.addListener(window,c,this.hideAll,this);};this.__xG=new qx.event.Timer();this.__xG.addListener(k,this._onOpenInterval,this);this.__xH=new qx.event.Timer();this.__xH.addListener(k,this._onCloseInterval,this);},members:{__xI:null,__xJ:null,__xG:null,__xH:null,__xF:null,_getChild:function(z,B,A,E){var D=z.getChildren();var length=D.length;var C;for(var i=B;i<length&&i>=0;i+=A){C=D[i];if(C.isEnabled()&&!C.isAnonymous()&&C.isVisible()){return C;};};if(E){i=i==length?0:length-1;for(;i!=B;i+=A){C=D[i];if(C.isEnabled()&&!C.isAnonymous()&&C.isVisible()){return C;};};};return null;},_isInMenu:function(F){while(F){if(F instanceof qx.ui.menu.Menu){return true;};F=F.getLayoutParent();};return false;},_isMenuOpener:function(H){var G=this.__xF;for(var i=0;i<G.length;i++ ){if(G[i].getOpener()===H){return true;};};return false;},_getMenuButton:function(I){while(I){if(I instanceof qx.ui.menu.AbstractButton){return I;};I=I.getLayoutParent();};return null;},add:function(J){{};var K=this.__xF;K.push(J);J.setZIndex(1e6+K.length);},remove:function(L){{};var M=this.__xF;if(M){qx.lang.Array.remove(M,L);};},hideAll:function(){var N=this.__xF;if(N){for(var i=N.length-1;i>=0;i-- ){N[i].exclude();};};},getActiveMenu:function(){var O=this.__xF;return O.length>0?O[O.length-1]:null;},scheduleOpen:function(P){this.cancelClose(P);if(P.isVisible()){if(this.__xI){this.cancelOpen(this.__xI);};}else if(this.__xI!=P){this.__xI=P;this.__xG.restartWith(P.getOpenInterval());};},scheduleClose:function(Q){this.cancelOpen(Q);if(!Q.isVisible()){if(this.__xJ){this.cancelClose(this.__xJ);};}else if(this.__xJ!=Q){this.__xJ=Q;this.__xH.restartWith(Q.getCloseInterval());};},cancelOpen:function(R){if(this.__xI==R){this.__xG.stop();this.__xI=null;};},cancelClose:function(S){if(this.__xJ==S){this.__xH.stop();this.__xJ=null;};},_onOpenInterval:function(e){this.__xG.stop();this.__xI.open();this.__xI=null;},_onCloseInterval:function(e){this.__xH.stop();this.__xJ.exclude();this.__xJ=null;},preventContextMenuOnce:function(){qx.event.Registration.addListener(document.body,j,this.__xK,this,true);},__xK:function(e){var T=e.getTarget();T=qx.ui.core.Widget.getWidgetByElement(T,true);if(this._isInMenu(T)){e.stopPropagation();e.preventDefault();};qx.event.Registration.removeListener(document.body,j,this.__xK,this,true);},_onPointerDown:function(e){var U=e.getTarget();U=qx.ui.core.Widget.getWidgetByElement(U,true);if(U==null){this.hideAll();return;};if(U.getMenu&&U.getMenu()&&U.getMenu().isVisible()){return;};if(this.__xF.length>0&&!this._isInMenu(U)){this.hideAll();};},__xL:{"Enter":1,"Space":1},__wv:{"Escape":1,"Up":1,"Down":1,"Left":1,"Right":1},_onKeyUpDown:function(e){var V=this.getActiveMenu();if(!V){return;};var W=e.getKeyIdentifier();if(this.__wv[W]||(this.__xL[W]&&V.getSelectedButton())){e.stopPropagation();};},_onKeyPress:function(e){var ba=this.getActiveMenu();if(!ba){return;};var X=e.getKeyIdentifier();var bc=this.__wv[X];var Y=this.__xL[X];if(bc){switch(X){case g:this._onKeyPressUp(ba);break;case s:this._onKeyPressDown(ba);break;case q:this._onKeyPressLeft(ba);break;case t:this._onKeyPressRight(ba);break;case m:this.hideAll();break;};e.stopPropagation();e.preventDefault();}else if(Y){var bb=ba.getSelectedButton();if(bb){switch(X){case f:this._onKeyPressEnter(ba,bb,e);break;case w:this._onKeyPressSpace(ba,bb,e);break;};e.stopPropagation();e.preventDefault();};};},_onKeyPressUp:function(bh){var bd=bh.getSelectedButton();var be=bh.getChildren();var bf=bd?bh.indexOf(bd)-1:be.length-1;var bg=this._getChild(bh,bf,-1,true);if(bg){bh.setSelectedButton(bg);}else {bh.resetSelectedButton();};},_onKeyPressDown:function(bi){var bj=bi.getSelectedButton();var bl=bj?bi.indexOf(bj)+1:0;var bk=this._getChild(bi,bl,1,true);if(bk){bi.setSelectedButton(bk);}else {bi.resetSelectedButton();};},_onKeyPressLeft:function(bo){var bq=bo.getOpener();if(!bq){return;};if(bq instanceof qx.ui.menu.AbstractButton){var bn=bq.getLayoutParent();bn.resetOpenedButton();bn.setSelectedButton(bq);}else if(bq instanceof qx.ui.menubar.Button){var br=bq.getMenuBar().getMenuButtons();var bm=br.indexOf(bq);if(bm===-1){return;};var bs=null;var length=br.length;for(var i=1;i<=length;i++ ){var bp=br[(bm-i+length)%length];if(bp.isEnabled()&&bp.isVisible()){bs=bp;break;};};if(bs&&bs!=bq){bs.open(true);};};},_onKeyPressRight:function(bw){var bu=bw.getSelectedButton();if(bu){var bt=bu.getMenu();if(bt){bw.setOpenedButton(bu);var bB=this._getChild(bt,0,1);if(bB){bt.setSelectedButton(bB);};return;};}else if(!bw.getOpenedButton()){var bB=this._getChild(bw,0,1);if(bB){bw.setSelectedButton(bB);if(bB.getMenu()){bw.setOpenedButton(bB);};return;};};var by=bw.getOpener();if(by instanceof qx.ui.menu.Button&&bu){while(by){by=by.getLayoutParent();if(by instanceof qx.ui.menu.Menu){by=by.getOpener();if(by instanceof qx.ui.menubar.Button){break;};}else {break;};};if(!by){return;};};if(by instanceof qx.ui.menubar.Button){var bz=by.getMenuBar().getMenuButtons();var bv=bz.indexOf(by);if(bv===-1){return;};var bA=null;var length=bz.length;for(var i=1;i<=length;i++ ){var bx=bz[(bv+i)%length];if(bx.isEnabled()&&bx.isVisible()){bA=bx;break;};};if(bA&&bA!=by){bA.open(true);};};},_onKeyPressEnter:function(bC,bD,e){if(bD.hasListener(d)){var bE=e.clone();bE.setBubbles(false);bE.setTarget(bD);bD.dispatchEvent(bE);};this.hideAll();},_onKeyPressSpace:function(bF,bG,e){if(bG.hasListener(d)){var bH=e.clone();bH.setBubbles(false);bH.setTarget(bG);bG.dispatchEvent(bH);};},_onRoll:function(e){var bI=e.getTarget();bI=qx.ui.core.Widget.getWidgetByElement(bI,true);if(this.__xF.length>0&&!this._isInMenu(bI)&&!this._isMenuOpener(bI)&&!e.getMomentum()){this.hideAll();};}},destruct:function(){var bK=qx.event.Registration;var bJ=document.body;bK.removeListener(window.document.documentElement,n,this._onPointerDown,this,true);bK.removeListener(bJ,p,this._onKeyUpDown,this,true);bK.removeListener(bJ,u,this._onKeyUpDown,this,true);bK.removeListener(bJ,d,this._onKeyPress,this,true);this._disposeObjects(a,h);this._disposeArray(b);}});})();(function(){var a="Boolean",b="changeIcon",c="changeLabel",d="shortcut",f="_applyMenu",g="submenu",h="changeLocale",i="arrow",j="_applyShowCommandLabel",k="String",l="qx.ui.menu.AbstractButton",m="",n="icon",o="qx.dynlocale",p="abstract",q="qx.ui.menu.Menu",r="keypress",s="_applyIcon",t="changeShowCommandLabel",u="label",v="changeMenu",w="tap",x="_applyLabel",y="changeCommand";qx.Class.define(l,{extend:qx.ui.core.Widget,include:[qx.ui.core.MExecutable],implement:[qx.ui.form.IExecutable],type:p,construct:function(){qx.ui.core.Widget.call(this);this._setLayout(new qx.ui.menu.ButtonLayout);this.addListener(w,this._onTap);this.addListener(r,this._onKeyPress);this.addListener(y,this._onChangeCommand,this);},properties:{blockToolTip:{refine:true,init:true},label:{check:k,apply:x,nullable:true,event:c},menu:{check:q,apply:f,nullable:true,dereference:true,event:v},icon:{check:k,apply:s,themeable:true,nullable:true,event:b},showCommandLabel:{check:a,apply:j,themeable:true,init:true,event:t}},members:{_createChildControlImpl:function(B,A){var z;switch(B){case n:z=new qx.ui.basic.Image;z.setAnonymous(true);this._add(z,{column:0});break;case u:z=new qx.ui.basic.Label;z.setAnonymous(true);this._add(z,{column:1});break;case d:z=new qx.ui.basic.Label;z.setAnonymous(true);if(!this.getShowCommandLabel()){z.exclude();};this._add(z,{column:2});break;case i:z=new qx.ui.basic.Image;z.setAnonymous(true);this._add(z,{column:3});break;};return z||qx.ui.core.Widget.prototype._createChildControlImpl.call(this,B);},_forwardStates:{selected:1},getChildrenSizes:function(){var C=0,D=0,E=0,I=0;if(this._isChildControlVisible(n)){var J=this.getChildControl(n);C=J.getMarginLeft()+J.getSizeHint().width+J.getMarginRight();};if(this._isChildControlVisible(u)){var G=this.getChildControl(u);D=G.getMarginLeft()+G.getSizeHint().width+G.getMarginRight();};if(this._isChildControlVisible(d)){var F=this.getChildControl(d);E=F.getMarginLeft()+F.getSizeHint().width+F.getMarginRight();};if(this._isChildControlVisible(i)){var H=this.getChildControl(i);I=H.getMarginLeft()+H.getSizeHint().width+H.getMarginRight();};return [C,D,E,I];},_onTap:function(e){if(e.isLeftPressed()){this.execute();qx.ui.menu.Manager.getInstance().hideAll();}else {if(!this.getContextMenu()){qx.ui.menu.Manager.getInstance().preventContextMenuOnce();};};},_onKeyPress:function(e){this.execute();},_onChangeCommand:function(e){var K=e.getData();if(K==null){return;};if(qx.core.Environment.get(o)){var M=e.getOldData();if(!M){qx.locale.Manager.getInstance().addListener(h,this._onChangeLocale,this);};if(!K){qx.locale.Manager.getInstance().removeListener(h,this._onChangeLocale,this);};};var L=K!=null?K.toString():m;this.getChildControl(d).setValue(L);},_onChangeLocale:qx.core.Environment.select(o,{"true":function(e){var N=this.getCommand();if(N!=null){this.getChildControl(d).setValue(N.toString());};},"false":null}),_applyIcon:function(P,O){if(P){this._showChildControl(n).setSource(P);}else {this._excludeChildControl(n);};},_applyLabel:function(R,Q){if(R){this._showChildControl(u).setValue(R);}else {this._excludeChildControl(u);};},_applyMenu:function(T,S){if(S){S.resetOpener();S.removeState(g);};if(T){this._showChildControl(i);T.setOpener(this);T.addState(g);}else {this._excludeChildControl(i);};},_applyShowCommandLabel:function(V,U){if(V){this._showChildControl(d);}else {this._excludeChildControl(d);};}},destruct:function(){this.removeListener(y,this._onChangeCommand,this);if(this.getMenu()){if(!qx.core.ObjectRegistry.inShutDown){this.getMenu().destroy();};};if(qx.core.Environment.get(o)){qx.locale.Manager.getInstance().removeListener(h,this._onChangeLocale,this);};}});})();(function(){var a="middle",b="qx.ui.menu.ButtonLayout",c="left";qx.Class.define(b,{extend:qx.ui.layout.Abstract,members:{verifyLayoutProperty:null,renderLayout:function(g,k,d){var s=this._getLayoutChildren();var e;var o;var j=[];for(var i=0,l=s.length;i<l;i++ ){e=s[i];o=e.getLayoutProperties().column;j[o]=e;};var r=this.__xM(s[0]);var q=r.getColumnSizes();var m=r.getSpacingX();var t=qx.lang.Array.sum(q)+m*(q.length-1);if(t<g){q[1]+=g-t;};var u=d.left,top=d.top;var n=qx.ui.layout.Util;for(var i=0,l=q.length;i<l;i++ ){e=j[i];if(e){var h=e.getSizeHint();var f=top+n.computeVerticalAlignOffset(e.getAlignY()||a,h.height,k,0,0);var p=n.computeHorizontalAlignOffset(e.getAlignX()||c,h.width,q[i],e.getMarginLeft(),e.getMarginRight());e.renderLayout(u+p,f,h.width,h.height);};if(q[i]>0){u+=q[i]+m;};};},__xM:function(v){while(!(v instanceof qx.ui.menu.Menu)){v=v.getLayoutParent();};return v;},_computeSizeHint:function(){var y=this._getLayoutChildren();var x=0;var z=0;for(var i=0,l=y.length;i<l;i++ ){var w=y[i].getSizeHint();z+=w.width;x=Math.max(x,w.height);};return {width:z,height:x};}}});})();(function(){var a="qx.ui.menu.Menu",b="submenu",c="hovered",d="Enter",f="pressed",g="abandoned",h="contextmenu",i="changeVisibility",j="changeMenu",k="qx.ui.form.MenuButton",l="menubutton",m="visible",n="left",o="_applyMenu";qx.Class.define(k,{extend:qx.ui.form.Button,construct:function(q,r,p){qx.ui.form.Button.call(this,q,r);if(p!=null){this.setMenu(p);};},properties:{menu:{check:a,nullable:true,apply:o,event:j},appearance:{refine:true,init:l}},members:{_applyVisibility:function(u,t){qx.ui.form.Button.prototype._applyVisibility.call(this,u,t);var s=this.getMenu();if(u!=m&&s){s.hide();};},_applyMenu:function(w,v){if(v){v.removeListener(i,this._onMenuChange,this);v.resetOpener();};if(w){w.addListener(i,this._onMenuChange,this);w.setOpener(this);w.removeState(b);w.removeState(h);};},open:function(x){var y=this.getMenu();if(y){qx.ui.menu.Manager.getInstance().hideAll();y.setOpener(this);y.open();if(x){var z=y.getSelectables()[0];if(z){y.setSelectedButton(z);};};};},_onMenuChange:function(e){var A=this.getMenu();if(A.isVisible()){this.addState(f);}else {this.removeState(f);};},_onPointerDown:function(e){qx.ui.form.Button.prototype._onPointerDown.call(this,e);if(e.getButton()!=n){return;};var B=this.getMenu();if(B){if(!B.isVisible()){this.open();}else {B.exclude();};e.stopPropagation();};},_onPointerUp:function(e){qx.ui.form.Button.prototype._onPointerUp.call(this,e);e.stopPropagation();},_onPointerOver:function(e){this.addState(c);},_onPointerOut:function(e){this.removeState(c);},_onKeyDown:function(e){switch(e.getKeyIdentifier()){case d:this.removeState(g);this.addState(f);var C=this.getMenu();if(C){if(!C.isVisible()){this.open();}else {C.exclude();};};e.stopPropagation();};},_onKeyUp:function(e){}}});})();(function(){var a="hovered",b="inherit",c="pressed",d="mouse",f="qx.ui.menubar.Button",g="keydown",h="menubar-button",i="keyup";qx.Class.define(f,{extend:qx.ui.form.MenuButton,construct:function(k,l,j){qx.ui.form.MenuButton.call(this,k,l,j);this.removeListener(g,this._onKeyDown);this.removeListener(i,this._onKeyUp);},properties:{appearance:{refine:true,init:h},show:{refine:true,init:b},focusable:{refine:true,init:false}},members:{getMenuBar:function(){var parent=this;while(parent){if(parent instanceof qx.ui.toolbar.ToolBar){return parent;};parent=parent.getLayoutParent();};return null;},open:function(m){qx.ui.form.MenuButton.prototype.open.call(this,m);var menubar=this.getMenuBar();if(menubar){menubar._setAllowMenuOpenHover(true);};},_onMenuChange:function(e){var n=this.getMenu();var menubar=this.getMenuBar();if(n.isVisible()){this.addState(c);if(menubar){menubar.setOpenMenu(n);};}else {this.removeState(c);if(menubar&&menubar.getOpenMenu()==n){menubar.resetOpenMenu();menubar._setAllowMenuOpenHover(false);};};},_onPointerUp:function(e){qx.ui.form.MenuButton.prototype._onPointerUp.call(this,e);var o=this.getMenu();if(o&&o.isVisible()&&!this.hasState(c)){this.addState(c);};},_onPointerOver:function(e){this.addState(a);if(this.getMenu()&&e.getPointerType()==d){var menubar=this.getMenuBar();if(menubar&&menubar._isAllowMenuOpenHover()){qx.ui.menu.Manager.getInstance().hideAll();menubar._setAllowMenuOpenHover(true);if(this.isEnabled()){this.open();};};};}}});})();(function(){var a="Boolean",b="changeShow",c="qx.ui.core.Widget",d="_applyOverflowHandling",f="both",g="_applySpacing",h="qx.ui.toolbar.ToolBar",j="qx.event.type.Data",k="Integer",m="showItem",n="Widget must be child of the toolbar.",o="visible",p="changeOpenMenu",q="resize",r="icon",s="_applyOverflowIndicator",t="toolbar",u="qx.ui.menu.Menu",v="Priority already in use!",w="label",x="_applyShow",y="excluded",z="show",A="hideItem";qx.Class.define(h,{extend:qx.ui.core.Widget,include:qx.ui.core.MChildrenHandling,construct:function(){qx.ui.core.Widget.call(this);this._setLayout(new qx.ui.layout.HBox());this.__xN=[];this.__xO=[];},properties:{appearance:{refine:true,init:t},openMenu:{check:u,event:p,nullable:true},show:{init:f,check:[f,w,r],inheritable:true,apply:x,event:b},spacing:{nullable:true,check:k,themeable:true,apply:g},overflowIndicator:{check:c,nullable:true,apply:s},overflowHandling:{init:false,check:a,apply:d}},events:{"hideItem":j,"showItem":j},members:{__xN:null,__xO:null,_computeSizeHint:function(){var D=qx.ui.core.Widget.prototype._computeSizeHint.call(this);if(true&&this.getOverflowHandling()){var B=0;var C=this.getOverflowIndicator();if(C){B=C.getSizeHint().width+this.getSpacing();};D.minWidth=B;};return D;},_onResize:function(e){this._recalculateOverflow(e.getData().width);},_recalculateOverflow:function(F,G){if(!this.getOverflowHandling()){return;};G=G||this.getSizeHint().width;var E=this.getOverflowIndicator();var L=0;if(E){L=E.getSizeHint().width;};if(F==undefined&&this.getBounds()!=null){F=this.getBounds().width;};if(F==undefined){return;};if(F<G){do {var K=this._getNextToHide();if(!K){return;};var P=K.getMarginLeft()+K.getMarginRight();P=Math.max(P,this.getSpacing());var J=K.getSizeHint().width+P;this.__xQ(K);G-=J;if(E&&E.getVisibility()!=o){E.setVisibility(o);G+=L;var H=E.getMarginLeft()+E.getMarginRight();G+=Math.max(H,this.getSpacing());};}while(G>F);}else if(this.__xN.length>0){do {var Q=this.__xN[0];if(Q){var P=Q.getMarginLeft()+Q.getMarginRight();P=Math.max(P,this.getSpacing());if(Q.getContentElement().getDomElement()==null){Q.syncAppearance();Q.invalidateLayoutCache();};var I=Q.getSizeHint().width;var O=false;if(this.__xN.length==1&&L>0){var N=P-this.getSpacing();var M=G-L+I+N;O=F>M;};if(F>G+I+P||O){this.__xP(Q);G+=I;if(E&&this.__xN.length==0){E.setVisibility(y);};}else {return;};};}while(F>=G&&this.__xN.length>0);};},__xP:function(R){R.setVisibility(o);this.__xN.shift();this.fireDataEvent(m,R);},__xQ:function(S){if(!S){return;};this.__xN.unshift(S);S.setVisibility(y);this.fireDataEvent(A,S);},_getNextToHide:function(){for(var i=this.__xO.length-1;i>=0;i-- ){var T=this.__xO[i];if(T&&T.getVisibility&&T.getVisibility()==o){return T;};};var U=this._getChildren();for(var i=U.length-1;i>=0;i-- ){var V=U[i];if(V==this.getOverflowIndicator()){continue;};if(V.getVisibility&&V.getVisibility()==o){return V;};};},setRemovePriority:function(X,W,Y){if(!Y&&this.__xO[W]!=undefined){throw new Error(v);};this.__xO[W]=X;},_applyOverflowHandling:function(bc,ba){this.invalidateLayoutCache();var parent=this.getLayoutParent();if(parent){parent.invalidateLayoutCache();};var bb=this.getBounds();if(bb&&bb.width){this._recalculateOverflow(bb.width);};if(bc){this.addListener(q,this._onResize,this);}else {this.removeListener(q,this._onResize,this);var bd=this.getOverflowIndicator();if(bd){bd.setVisibility(y);};for(var i=0;i<this.__xN.length;i++ ){this.__xN[i].setVisibility(o);};this.__xN=[];};},_applyOverflowIndicator:function(bf,be){if(be){this._remove(be);};if(bf){if(this._indexOf(bf)==-1){throw new Error(n);};bf.setVisibility(y);};},__xR:false,_setAllowMenuOpenHover:function(bg){this.__xR=bg;},_isAllowMenuOpenHover:function(){return this.__xR;},_applySpacing:function(bj,bh){var bi=this._getLayout();bj==null?bi.resetSpacing():bi.setSpacing(bj);},_applyShow:function(bl){var bk=this._getChildren();for(var i=0;i<bk.length;i++ ){if(bk[i].setShow){bk[i].setShow(bl);};};},_add:function(bo,bm){qx.ui.core.Widget.prototype._add.call(this,bo,bm);if(bo.setShow&&!qx.util.PropertyUtil.getUserValue(bo,z)){bo.setShow(this.getShow());};var bn=this.getSizeHint().width+bo.getSizeHint().width+2*this.getSpacing();this._recalculateOverflow(null,bn);},_addAt:function(bs,bp,bq){qx.ui.core.Widget.prototype._addAt.call(this,bs,bp,bq);if(bs.setShow&&!qx.util.PropertyUtil.getUserValue(bs,z)){bs.setShow(this.getShow());};var br=this.getSizeHint().width+bs.getSizeHint().width+2*this.getSpacing();this._recalculateOverflow(null,br);},_addBefore:function(bw,bt,bu){qx.ui.core.Widget.prototype._addBefore.call(this,bw,bt,bu);if(bw.setShow&&!qx.util.PropertyUtil.getUserValue(bw,z)){bw.setShow(this.getShow());};var bv=this.getSizeHint().width+bw.getSizeHint().width+2*this.getSpacing();this._recalculateOverflow(null,bv);},_addAfter:function(bA,bx,by){qx.ui.core.Widget.prototype._addAfter.call(this,bA,bx,by);if(bA.setShow&&!qx.util.PropertyUtil.getUserValue(bA,z)){bA.setShow(this.getShow());};var bz=this.getSizeHint().width+bA.getSizeHint().width+2*this.getSpacing();this._recalculateOverflow(null,bz);},_remove:function(bC){qx.ui.core.Widget.prototype._remove.call(this,bC);var bB=this.getSizeHint().width-bC.getSizeHint().width-2*this.getSpacing();this._recalculateOverflow(null,bB);},_removeAt:function(bD){var bF=this._getChildren()[bD];qx.ui.core.Widget.prototype._removeAt.call(this,bD);var bE=this.getSizeHint().width-bF.getSizeHint().width-2*this.getSpacing();this._recalculateOverflow(null,bE);return bF;},_removeAll:function(){var bG=qx.ui.core.Widget.prototype._removeAll.call(this);this._recalculateOverflow(null,0);return bG;},addSpacer:function(){var bH=new qx.ui.core.Spacer;this._add(bH,{flex:1});return bH;},addSeparator:function(){this.add(new qx.ui.toolbar.Separator);},getMenuButtons:function(){var bJ=this.getChildren();var bI=[];var bK;for(var i=0,l=bJ.length;i<l;i++ ){bK=bJ[i];if(bK instanceof qx.ui.menubar.Button){bI.push(bK);}else if(bK instanceof qx.ui.toolbar.Part){bI.push.apply(bI,bK.getMenuButtons());};};return bI;}},destruct:function(){if(this.hasListener(q)){this.removeListener(q,this._onResize,this);};}});})();(function(){var a="qx.ui.core.Spacer";qx.Class.define(a,{extend:qx.ui.core.LayoutItem,construct:function(b,c){qx.ui.core.LayoutItem.call(this);this.setWidth(b!=null?b:0);this.setHeight(c!=null?c:0);},members:{checkAppearanceNeeds:function(){},addChildrenToQueue:function(d){},destroy:function(){if(this.$$disposed){return;};var parent=this.$$parent;if(parent){parent._remove(this);};qx.ui.core.queue.Dispose.add(this);}}});})();(function(){var a="toolbar-separator",b="qx.ui.toolbar.Separator";qx.Class.define(b,{extend:qx.ui.core.Widget,properties:{appearance:{refine:true,init:a},anonymous:{refine:true,init:true},width:{refine:true,init:0},height:{refine:true,init:0}}});})();(function(){var a="Integer",b="middle",c="qx.ui.toolbar.Part",d="icon",e="label",f="handle",g="left",h="container",j="syncAppearance",k="visible",m="changeShow",n="_applySpacing",o="both",p="toolbar/part",q="right",r="changeChildren";qx.Class.define(c,{extend:qx.ui.core.Widget,include:[qx.ui.core.MRemoteChildrenHandling],construct:function(){qx.ui.core.Widget.call(this);this._setLayout(new qx.ui.layout.HBox);this._createChildControl(f);},properties:{appearance:{refine:true,init:p},show:{init:o,check:[o,e,d],inheritable:true,event:m},spacing:{nullable:true,check:a,themeable:true,apply:n}},members:{_createChildControlImpl:function(u,t){var s;switch(u){case f:s=new qx.ui.basic.Image();s.setAlignY(b);this._add(s);break;case h:s=new qx.ui.toolbar.PartContainer();s.addListener(j,this.__xS,this);this._add(s);s.addListener(r,function(){this.__xS();},this);break;};return s||qx.ui.core.Widget.prototype._createChildControlImpl.call(this,u);},getChildrenContainer:function(){return this.getChildControl(h);},_applySpacing:function(x,v){var w=this.getChildControl(h).getLayout();x==null?w.resetSpacing():w.setSpacing(x);},__xS:function(){var y=this.getChildrenContainer().getChildren();y=y.filter(function(z){return z.getVisibility()==k;});for(var i=0;i<y.length;i++ ){if(i==0&&i!=y.length-1){y[i].addState(g);y[i].removeState(q);y[i].removeState(b);}else if(i==y.length-1&&i!=0){y[i].addState(q);y[i].removeState(g);y[i].removeState(b);}else if(i==0&&i==y.length-1){y[i].removeState(g);y[i].removeState(b);y[i].removeState(q);}else {y[i].addState(b);y[i].removeState(q);y[i].removeState(g);};};},addSeparator:function(){this.add(new qx.ui.toolbar.Separator);},getMenuButtons:function(){var B=this.getChildren();var A=[];var C;for(var i=0,l=B.length;i<l;i++ ){C=B[i];if(C instanceof qx.ui.menubar.Button){A.push(C);};};return A;}}});})();(function(){var a="toolbar/part/container",b="icon",c="label",d="qx.ui.toolbar.PartContainer",e="qx.event.type.Event",f="changeShow",g="both",h="changeChildren";qx.Class.define(d,{extend:qx.ui.container.Composite,construct:function(){qx.ui.container.Composite.call(this);this._setLayout(new qx.ui.layout.HBox);},events:{changeChildren:e},properties:{appearance:{refine:true,init:a},show:{init:g,check:[g,c,b],inheritable:true,event:f}},members:{_afterAddChild:function(i){this.fireEvent(h);},_afterRemoveChild:function(j){this.fireEvent(h);}}});})();(function(){var a="qx.ui.menu.Button",b="menu-button";qx.Class.define(a,{extend:qx.ui.menu.AbstractButton,construct:function(g,d,f,c){qx.ui.menu.AbstractButton.call(this);if(g!=null){this.setLabel(g);};if(d!=null){this.setIcon(d);};if(f!=null){this.setCommand(f);};if(c!=null){this.setMenu(c);};},properties:{appearance:{refine:true,init:b}},members:{_onTap:function(e){if(e.isLeftPressed()&&this.getMenu()){this.execute();this.getMenu().open();return;};qx.ui.menu.AbstractButton.prototype._onTap.call(this,e);}}});})();(function(){var a="qx.ui.core.MRemoteLayoutHandling";qx.Mixin.define(a,{members:{setLayout:function(b){this.getChildrenContainer().setLayout(b);},getLayout:function(){return this.getChildrenContainer().getLayout();}}});})();(function(){var a="qx.ui.container.SlideBar",b="scrollY",c="button-backward",d="horizontal",f="update",g="scrollX",h="_applyOrientation",i="button-forward",j="scrollAnimationEnd",k="content",l="mouse",m="qx.event.type.Event",n="scrollpane",o="vertical",p="Integer",q="slidebar",r="roll",s="execute";qx.Class.define(a,{extend:qx.ui.core.Widget,include:[qx.ui.core.MRemoteChildrenHandling,qx.ui.core.MRemoteLayoutHandling],construct:function(t){qx.ui.core.Widget.call(this);var u=this.getChildControl(n);this._add(u,{flex:1});if(t!=null){this.setOrientation(t);}else {this.initOrientation();};this.addListener(r,this._onRoll,this);},properties:{appearance:{refine:true,init:q},orientation:{check:[d,o],init:d,apply:h},scrollStep:{check:p,init:15,themeable:true}},events:{scrollAnimationEnd:m},members:{getChildrenContainer:function(){return this.getChildControl(k);},_createChildControlImpl:function(x,w){var v;switch(x){case i:v=new qx.ui.form.RepeatButton;v.addListener(s,this._onExecuteForward,this);v.setFocusable(false);this._addAt(v,2);break;case c:v=new qx.ui.form.RepeatButton;v.addListener(s,this._onExecuteBackward,this);v.setFocusable(false);this._addAt(v,0);break;case k:v=new qx.ui.container.Composite();this.getChildControl(n).add(v);break;case n:v=new qx.ui.core.scroll.ScrollPane();v.addListener(f,this._onResize,this);v.addListener(g,this._onScroll,this);v.addListener(b,this._onScroll,this);v.addListener(j,this._onScrollAnimationEnd,this);break;};return v||qx.ui.core.Widget.prototype._createChildControlImpl.call(this,x);},_forwardStates:{barLeft:true,barTop:true,barRight:true,barBottom:true},scrollBy:function(A,y){var z=this.getChildControl(n);if(this.getOrientation()===d){z.scrollByX(A,y);}else {z.scrollByY(A,y);};},scrollTo:function(C,B){var D=this.getChildControl(n);if(this.getOrientation()===d){D.scrollToX(C,B);}else {D.scrollToY(C,B);};},_applyEnabled:function(F,E,name){qx.ui.core.Widget.prototype._applyEnabled.call(this,F,E,name);this._updateArrowsEnabled();},_applyOrientation:function(J,H){var I=[this.getLayout(),this._getLayout()];var K=this.getChildControl(i);var G=this.getChildControl(c);if(H==o&&J==d){K.removeState(o);G.removeState(o);K.addState(d);G.addState(d);}else if(H==d&&J==o){K.removeState(d);G.removeState(d);K.addState(o);G.addState(o);};if(J==d){this._setLayout(new qx.ui.layout.HBox());this.setLayout(new qx.ui.layout.HBox());}else {this._setLayout(new qx.ui.layout.VBox());this.setLayout(new qx.ui.layout.VBox());};if(I[0]){I[0].dispose();};if(I[1]){I[1].dispose();};},_onRoll:function(e){if(e.getPointerType()==l){return;};var O=0;var N=this.getChildControl(n);if(this.getOrientation()===d){O=e.getDelta().x;var P=N.getScrollX();var L=N.getScrollMaxX();var M=parseInt(O);if(!(M<0&&P<=0||M>0&&P>=L||O==0)){e.stop();}else {e.stopMomentum();};}else {O=e.getDelta().y;var P=N.getScrollY();var L=N.getScrollMaxY();var M=parseInt(O);if(!(M<0&&P<=0||M>0&&P>=L||O==0)){e.stop();}else {e.stopMomentum();};};this.scrollBy(parseInt(O,10));if(e.getMomentum()){e.stop();};},_onScroll:function(){this._updateArrowsEnabled();},_onScrollAnimationEnd:function(){this.fireEvent(j);},_onResize:function(e){var content=this.getChildControl(n).getChildren()[0];if(!content){return;};var Q=this.getInnerSize();var S=content.getBounds();var R=(this.getOrientation()===d)?S.width>Q.width:S.height>Q.height;if(R){this._showArrows();this._updateArrowsEnabled();}else {this._hideArrows();};},_onExecuteBackward:function(){this.scrollBy(-this.getScrollStep());},_onExecuteForward:function(){this.scrollBy(this.getScrollStep());},_updateArrowsEnabled:function(){if(!this.getEnabled()){this.getChildControl(c).setEnabled(false);this.getChildControl(i).setEnabled(false);return;};var U=this.getChildControl(n);if(this.getOrientation()===d){var T=U.getScrollX();var V=U.getScrollMaxX();}else {var T=U.getScrollY();var V=U.getScrollMaxY();};this.getChildControl(c).setEnabled(T>0);this.getChildControl(i).setEnabled(T<V);},_showArrows:function(){this._showChildControl(i);this._showChildControl(c);},_hideArrows:function(){this._excludeChildControl(i);this._excludeChildControl(c);this.scrollTo(0);}}});})();(function(){var a="button-backward",b="vertical",c="button-forward",d="menu-slidebar",e="qx.ui.menu.MenuSlideBar",f="execute";qx.Class.define(e,{extend:qx.ui.container.SlideBar,construct:function(){qx.ui.container.SlideBar.call(this,b);},properties:{appearance:{refine:true,init:d}},members:{_createChildControlImpl:function(i,h){var g;switch(i){case c:g=new qx.ui.form.HoverButton();g.addListener(f,this._onExecuteForward,this);this._addAt(g,2);break;case a:g=new qx.ui.form.HoverButton();g.addListener(f,this._onExecuteBackward,this);this._addAt(g,0);break;};return g||qx.ui.container.SlideBar.prototype._createChildControlImpl.call(this,i);}}});})();(function(){var a="hovered",b="hover-button",c="pointerover",d="interval",f="__kx",g="qx.ui.form.HoverButton",h="Integer",i="pointerout";qx.Class.define(g,{extend:qx.ui.basic.Atom,include:[qx.ui.core.MExecutable],implement:[qx.ui.form.IExecutable],construct:function(j,k){qx.ui.basic.Atom.call(this,j,k);this.addListener(c,this._onPointerOver,this);this.addListener(i,this._onPointerOut,this);this.__kx=new qx.event.AcceleratingTimer();this.__kx.addListener(d,this._onInterval,this);},properties:{appearance:{refine:true,init:b},interval:{check:h,init:80},firstInterval:{check:h,init:200},minTimer:{check:h,init:20},timerDecrease:{check:h,init:2}},members:{__kx:null,_onPointerOver:function(e){if(!this.isEnabled()||e.getTarget()!==this){return;};this.__kx.set({interval:this.getInterval(),firstInterval:this.getFirstInterval(),minimum:this.getMinTimer(),decrease:this.getTimerDecrease()}).start();this.addState(a);},_onPointerOut:function(e){this.__kx.stop();this.removeState(a);if(!this.isEnabled()||e.getTarget()!==this){return;};},_onInterval:function(){if(this.isEnabled()){this.execute();}else {this.__kx.stop();};}},destruct:function(){this._disposeObjects(f);}});})();(function(){var c='default',d='cv.manager.openWith',e='dir',f='open-with',g='_timeFormat',h='clone-file',i='visibility',j='Replace',k='Boolean',l='Open with...',m='cv.manager.action.new-file',n='compare-menu',o='Validate',p='cv.manager.action.delete',q='delete-button',r='rename',s='New name',t='New file',u='validate-config-button',v='Delete',w='cv.manager.action.new-folder',x='Backup from %1',y='visible',z='compare-with-button',A='handlerId',B='upload',C='trash',D='disappear',E='open',F='cv.manager.action.clone',G='new-file',H='Rename',I='cv.manager.compareFiles',J='cv.manager.open',K='download',L='validate',M='open-with-button',N='restore-button',O='excluded',P='appear',Q='open-button',R='clone-file-button',S='new-file-button',T='new-folder-button',U='Rename file',V='execute',W='cv.ui.manager.contextmenu.FileItem',X='Open',Y='Restore',bw='New folder',bx='compare',by='cv.manager.action.new-config-file',bs='backup',bt='Clear',bu='Clone file',bv='Download',bD='new-folder',bE='Compare with...',bH='download-button',bI='file',bz='replace-button',bA='cv-file-contextmenu',bB='delete',bC='medium',bF='rename-button',bJ='open-with-menu',bG='_dateFormat';qx.Class.define(W,{extend:qx.ui.menu.Menu,construct:function(bL,bK){qx.ui.menu.Menu.call(this);this._noCompare=bK===true;this._commandGroup=qx.core.Init.getApplication().getCommandManager().getActive();this._init();this._dateFormat=new qx.util.format.DateFormat(qx.locale.Date.getDateFormat(bC));this._timeFormat=new qx.util.format.DateFormat(qx.locale.Date.getTimeFormat(bC));if(bL){this.configure(bL);};this.addListener(P,function(){this.setActive(true);});this.addListener(D,function(){this.setActive(false);});},properties:{appearance:{refine:true,init:bA},active:{check:k,init:false}},members:{_commandGroup:null,_selectedNode:null,_dateFormat:null,_timeFormat:null,_renameDialog:null,_noCompare:false,configure:function(bR){this._selectedNode=bR;if(bR){var bP=bR.getType()===e;var bU=bP?bR:bR.getParent();var bN=false;if(bU&&bU.getFullPath().startsWith(bs)||bR.getFullPath().startsWith(bs)){bN=true;};if(!bP){this.getChildControl(S).exclude();this.getChildControl(T).exclude();}else {this.getChildControl(S).set({enabled:bU&&!bN?bU.isWriteable():false,visibility:y});this.getChildControl(T).set({enabled:bU&&!bN?bU.isWriteable():false,visibility:y});};this.getChildControl(R).setVisibility(bR.isConfigFile()&&!bN?y:O);this.getChildControl(q).setLabel(bR.isTrash()?this.tr(bt):this.tr(v));if(!this._noCompare){var bO=this.getChildControl(n);bO.removeAll();if(!bN){this.getChildControl(z).show();var bT=cv.ui.manager.model.BackupFolder.getInstance().getBackupFiles(bR);this.getChildControl(z).setEnabled(bT.length>0);bT.sort(function(a,b){return b.date.getTime()-a.date.getTime();});var bM=null;bT.forEach(function(bX){var bW=this._dateFormat.format(bX.date);if(bM!==bW){if(bM!==null){bO.add(new qx.ui.menu.Separator());};var bY=new qx.ui.menu.Button(bW);bY.setEnabled(false);bO.add(bY);bM=bW;};var ca=new qx.ui.menu.Button(this.tr(x,this._timeFormat.format(bX.date)));ca.setUserData(bI,bX.file);ca.addListener(V,this._onCompareWith,this);bO.add(ca);},this);}else {this.getChildControl(z).exclude();};};var bS=cv.ui.manager.control.FileHandlerRegistry.getInstance().getFileHandler(bR);var bQ=this.getChildControl(bJ);bQ.removeAll();if(!bN){this.getChildControl(M).show();var bV=cv.ui.manager.control.FileHandlerRegistry.getInstance().getAllFileHandlers(bR);this.getChildControl(M).setEnabled(bV.length>1);bV.sort(function(a,b){return a.Clazz.constructor.TITLE.toString().localeCompare(b.Clazz.constructor.TITLE.toString());});bV.forEach(function(cc){var cb=new qx.ui.menu.Button(cc.Clazz.constructor.TITLE,cc.Clazz.constructor.ICON);cb.setAppearance(M);if(bS.Clazz.classname===cc.Clazz.classname){cb.addState(c);};cb.setUserData(A,cc.Clazz.classname);cb.addListener(V,this._onOpenWith,this);bQ.add(cb);},this);}else {this.getChildControl(M).exclude();};this.getChildControl(u).setVisibility(bR.isConfigFile()&&!bR.isMounted()&&!bN?y:O);if(!bP&&!bN){this.getChildControl(bz).show();this._replacementManager.setFilename(bR.getName());this._replacementManager.setFolder(bR.getParent());}else {this.getChildControl(bz).exclude();};[q,bz,bF].forEach(function(cd){this.getChildControl(cd).setEnabled(!bR.isFake()&&bR.isWriteable()&&(!bN||cd===q));},this);this.getChildControl(bH).setEnabled(!bR.isFake()&&bR.getType()===bI);this.getChildControl(N).setVisibility(bR.isInTrash()||bN?y:O);}else {this.getChildControl(q).set({label:this.tr(v),enabled:false});this.getChildControl(bz).exclude();this.getChildControl(bH).setEnabled(false);this.getChildControl(N).exclude();};},_init:function(){if(!this._noNew){this.add(this.getChildControl(S));};this.add(this.getChildControl(R));if(!this._noNew){this.add(this.getChildControl(T));};this.add(new qx.ui.menu.Separator());this.add(this.getChildControl(Q));this.add(this.getChildControl(M));if(!this._noCompare){this.add(this.getChildControl(z));};this.add(new qx.ui.menu.Separator());this.add(this.getChildControl(bF));this.add(this.getChildControl(q));this.add(this.getChildControl(N));this.add(new qx.ui.menu.Separator());this.add(this.getChildControl(bH));var cf=new qx.ui.menu.Separator();var ce=this.getChildControl(bz);this.add(cf);this.add(ce);ce.bind(i,cf,i);cf=new qx.ui.menu.Separator();ce=this.getChildControl(u);ce.bind(i,cf,i);this.add(cf);this.add(ce);},_onCompareWith:function(cg){if(this.isActive()){var ch=cg.getTarget().getUserData(bI);qx.event.message.Bus.dispatchByName(I,new cv.ui.manager.model.CompareFiles(ch,this._selectedNode));};},_onOpenWith:function(cj){if(this.isActive()){var ci=cj.getTarget().getUserData(A);qx.event.message.Bus.dispatchByName(d,{file:this._selectedNode,handler:ci});};},_onRename:function(){if(this._selectedNode&&!this._renameDialog&&this.isActive()){this._renameDialog=new dialog.Prompt({message:this.tr(s),callback:function(name){if(name&&name!==this._selectedNode.getName()){cv.ui.manager.control.FileController.getInstance().rename(this._selectedNode,name);};},context:this,value:this._selectedNode.getName(),caption:this.tr(U),filter:/[\w\d_\-\.\s]/});this._renameDialog.show();};},_onDownload:function(){if(this._selectedNode&&this.isActive()){cv.ui.manager.control.FileController.getInstance().download(this._selectedNode);};},_onRestore:function(){if(this._selectedNode&&this.isActive()){cv.ui.manager.control.FileController.getInstance().restore(this._selectedNode);};},_onValidate:function(){if(this._selectedNode&&this.isActive()){cv.ui.manager.control.FileController.getInstance().validate(this._selectedNode);};},_onClone:function(){if(this._selectedNode&&this.isActive()){qx.event.message.Bus.dispatchByName(F,{file:this._selectedNode});};},_createChildControlImpl:function(cl){var ck;switch(cl){case S:ck=new qx.ui.menu.Button(this.tr(t),cv.theme.dark.Images.getIcon(G,18));ck.addListener(V,function(){if(this._selectedNode.isConfigFile()){qx.event.message.Bus.dispatchByName(by,this._selectedNode.getParent());}else {qx.event.message.Bus.dispatchByName(m,this._selectedNode.getType()===e?this._selectedNode:this._selectedNode.getParent());};},this);break;case R:ck=new qx.ui.menu.Button(this.tr(bu),cv.theme.dark.Images.getIcon(h,18));ck.exclude();ck.addListener(V,this._onClone,this);break;case T:ck=new qx.ui.menu.Button(this.tr(bw),cv.theme.dark.Images.getIcon(bD,18));ck.addListener(V,function(){qx.event.message.Bus.dispatchByName(w,this._selectedNode.getType()===e?this._selectedNode:this._selectedNode.getParent());},this);break;case bF:ck=new qx.ui.menu.Button(this.tr(H),cv.theme.dark.Images.getIcon(r,18));ck.addListener(V,this._onRename,this);break;case q:ck=new qx.ui.menu.Button(this.tr(v),cv.theme.dark.Images.getIcon(bB,18));ck.addListener(V,function(){qx.event.message.Bus.dispatchByName(p,this._selectedNode);},this);break;case bH:ck=new qx.ui.menu.Button(this.tr(bv),cv.theme.dark.Images.getIcon(K,18));ck.addListener(V,this._onDownload,this);break;case Q:ck=new qx.ui.menu.Button(this.tr(X),cv.theme.dark.Images.getIcon(E,18));ck.addListener(V,function(){qx.event.message.Bus.dispatchByName(J,this._selectedNode);},this);break;case N:ck=new qx.ui.menu.Button(this.tr(Y),cv.theme.dark.Images.getIcon(C,18));ck.exclude();ck.addListener(V,this._onRestore,this);break;case u:ck=new qx.ui.menu.Button(this.tr(o),cv.theme.dark.Images.getIcon(L,18));ck.exclude();ck.addListener(V,this._onValidate,this);break;case bz:ck=new com.zenesis.qx.upload.UploadMenuButton(this.tr(j),cv.theme.dark.Images.getIcon(B,18));ck.exclude();this._replacementManager=new cv.ui.manager.upload.UploadMgr();this._replacementManager.setForce(true);this._replacementManager.addWidget(ck);break;case n:ck=new qx.ui.menu.Menu();break;case z:ck=new qx.ui.menu.Button(this.tr(bE),cv.theme.dark.Images.getIcon(bx,18),null,this.getChildControl(n));break;case M:ck=new qx.ui.menu.Button(this.tr(l),cv.theme.dark.Images.getIcon(f,18),null,this.getChildControl(bJ));break;case bJ:ck=new qx.ui.menu.Menu();break;};return ck||qx.ui.menu.Menu.prototype._createChildControlImpl.call(this,cl);}},destruct:function(){this._commandGroup=null;this._renameDialog=null;this._disposeObjects(bG,g);}});})();(function(){var a='backup',b='cv.ui.manager.model.BackupFolder',c='-([\\d]{14})\\.',d='/',e='backup/',f='',g='contentChanged',h='file',i='.',j='fsContentChanged',k='cv.manager.fs.*',l='singleton',m='\/';qx.Class.define(b,{extend:cv.ui.manager.model.FileItem,type:l,construct:function(){cv.ui.manager.model.FileItem.call(this,a);this.load();qx.event.message.Bus.subscribe(k,this._onFilesSystemMessage,this);},members:{_onFilesSystemMessage:function(n){if(/^cv\.manager\.fs\.visu_config.*\.xml$/.test(n.getName())){var o=n.getData();if([g,j].includes(o.type)){this.reload();};};},getBackupFiles:function(v){var p=[];if(v.getType()===h){var q=v.getFullPath().split(d);q.pop();var w=q.join(m);var u=v.getName().split(i);var s=u.pop();var t=u.join(i);var r=new RegExp(w+t+c+s);this.getChildren().filter(function(x){var y=r.exec(x.getFullPath().replace(e,f));if(y){p.push({date:new Date(parseInt(y[1].substring(0,4)),parseInt(y[1].substring(4,6))-1,parseInt(y[1].substring(6,8)),parseInt(y[1].substring(8,10)),parseInt(y[1].substring(10,12)),parseInt(y[1].substring(12,14))),file:x});};},this);};return p;}},destruct:function(){qx.event.message.Bus.unsubscribe(k,this._onFilesSystemMessage,this);}});})();(function(){var c='edit',d='cv.ui.manager.control.FileHandlerRegistry',e='none',f='function:',g='\.(',h='view',i='/',j='source',k='cv.ui.manager.editor.Source',l='i',m='instanceOf:',n=')$',o='xml',p='changeDefaultConfigEditor',q="hidden.php",r='regex:',s='.',t='fullPath:',u='fileName:',v='singleton',w='|';qx.Class.define(d,{extend:qx.core.Object,type:v,construct:function(){qx.core.Object.call(this);this.__k={};this.__xT=[];this.registerFileHandler(new RegExp(g+cv.ui.manager.viewer.Image.SUPPORTED_FILES.join(w)+n,l),cv.ui.manager.viewer.Image,{type:h});this.registerFileHandler(cv.ui.manager.viewer.Config.SUPPORTED_FILES,cv.ui.manager.viewer.Config,{type:h});this.registerFileHandler(cv.ui.manager.viewer.Icons.SUPPORTED_FILES,cv.ui.manager.viewer.Icons,{type:h});this.registerFileHandler(cv.ui.manager.viewer.Folder.SUPPORTED_FILES,cv.ui.manager.viewer.Folder,{type:h});this.registerFileHandler(null,cv.ui.manager.Start,{type:h});this.registerFileHandler(new RegExp(g+cv.ui.manager.editor.Source.SUPPORTED_FILES.join(w)+n,l),cv.ui.manager.editor.Source,{type:c});this.registerFileHandler(cv.ui.manager.editor.Xml.SUPPORTED_FILES,cv.ui.manager.editor.Xml,{preview:false,type:c,noTemporaryFiles:true,noReadOnlyFiles:true});this.registerFileHandler(cv.ui.manager.model.CompareFiles,cv.ui.manager.editor.Diff,{type:h});this.registerFileHandler(q,cv.ui.manager.editor.Config,{type:c});cv.ui.manager.model.Preferences.getInstance().addListener(p,this._onChangesDefaultConfigEditor,this);this._onChangesDefaultConfigEditor();},members:{__k:null,__xT:null,registerFileHandler:function(x,A,z){{};var y=Object.assign({Clazz:A,instance:null},z||{});if(qx.Class.isClass(x)){y.instanceOf=x;y.selectorId=m+x.classname;y.priority=0;}else if(qx.lang.Type.isRegExp(x)){y.regex=x;y.selectorId=r+x.toString();y.priority=4;}else if(qx.lang.Type.isFunction(x)){y.selectorId=f+x.name;y.priority=3;y.function=x;}else if(qx.lang.Type.isString(x)){if(x.includes(i)){y.fullPath=x;y.selectorId=t+x;y.priority=1;}else {y.fileName=x;y.selectorId=u+x;y.priority=2;};}else {y.selectorId=e;y.priority=10;};this.__k[A.classname]=y;},getFileHandler:function(D,C){var E=[];if(!(D instanceof cv.ui.manager.model.CompareFiles)){var B;Object.keys(this.__xT).some(function(G){if(this.__xT[G].regex.test(D.getFullPath())&&(!D.isTemporary()||!this.__xT[G].noTemporaryFiles)&&(D.isWriteable()||!this.__xT[G].noReadOnlyFiles)){if(C){var F=this.getFileHandlerById(this.__xT[G].clazz.classname);if(F.type===C){B=F;};}else {B=this.getFileHandlerById(this.__xT[G].clazz.classname);};return !!B;};},this);if(B){return B;};};Object.keys(this.__k).forEach(function(H){var I=this.__k[H];if(this.__xU(I,D)&&(!C||I.type===C)){E.push(I);};},this);if(E.length===0){if(!D.isFake()&&D.getDisplayName().split(s).length===1){return this.getFileHandlerById(k);};return null;}else if(E.length===1){return E[0];}else {E.sort(function(a,b){return a.priority-b.priority;});return E[0];};},getFileHandlerById:function(J){return this.__k[J];},hasFileHandler:function(L,K){return Object.keys(this.__k).some(function(M){var N=this.__k[M];return this.__xU(N,L)&&(!K||N.type===K);},this);},setDefault:function(P,O,Q,R){{};this.__xT[P.toString()]={regex:P,clazz:O,noTemporaryFiles:Q,noReadOnlyFiles:R};},_onChangesDefaultConfigEditor:function(){switch(cv.ui.manager.model.Preferences.getInstance().getDefaultConfigEditor()){case j:this.setDefault(new RegExp(g+cv.ui.manager.editor.Source.SUPPORTED_FILES.join(w)+n,l),cv.ui.manager.editor.Source);break;case o:this.setDefault(cv.ui.manager.editor.Xml.SUPPORTED_FILES,cv.ui.manager.editor.Xml,true,true);break;};},__xU:function(S,T){if(S.noTemporaryFiles===true&&T.isTemporary()){return false;}else if(S.noReadOnlyFiles===true&&!T.isWriteable()){return false;}else if(S.fileName&&T.getName()===S.fileName){return true;}else if(S.fullPath&&T.getFullPath()===S.fullPath){return true;}else if(S.regex&&S.regex.test(T.getFullPath().toLowerCase())){return true;}else if(S.instanceOf&&T instanceof S.instanceOf){return true;}else if(S.function&&S.function(T)){return true;};return false;},getAllFileHandlers:function(V,U){{};return Object.keys(this.__k).filter(function(W){return this.__xU(this.__k[W],V)&&(!U||this.__k[W].type===U);},this).map(function(X){return this.__k[X];},this);}},destruct:function(){Object.keys(this.__k).forEach(function(Y){if(this.__k[Y].instance){this.__k[Y].instance.dispose();this.__k[Y].instance=null;};},this);cv.ui.manager.model.Preferences.getInstance().removeListener(p,this._onChangesDefaultConfigEditor,this);}});})();(function(){var a='cv.ui.manager.IActionHandler';qx.Interface.define(a,{members:{canHandleAction:function(b){},handleAction:function(c,d){}}});})();(function(){var a='cv.ui.manager.model.FileItem',b='',c='_loadFile',d='cv.ui.manager.editor.IEditor';qx.Interface.define(d,{properties:{file:{check:a,nullable:true,apply:c}},statics:{TITLE:b},members:{save:function(){},getCurrentContent:function(){}}});})();(function(){var a='changeFile',b='cv.ui.manager.viewer.AbstractViewer',c='image',d='_applyFile',e='resize',f='cv.ui.manager.model.FileItem',g='icon',h='scroll',i='abstract';qx.Class.define(b,{extend:qx.ui.core.Widget,implement:[cv.ui.manager.editor.IEditor,cv.ui.manager.IActionHandler],type:i,construct:function(){qx.ui.core.Widget.call(this);this._setLayout(new qx.ui.layout.Grow());},properties:{file:{check:f,nullable:true,apply:d,event:a}},members:{canHandleAction:function(){return false;},handleAction:function(){},save:function(){},getCurrentContent:function(){},_applyFile:function(k,j){},_createChildControlImpl:function(m){var l;switch(m){case h:l=new qx.ui.container.Scroll();this._add(l);break;case c:l=new qx.ui.basic.Atom();this.getChildControl(h).add(l);l.getChildControl(g).addListener(e,this._scaleImage,this);break;};return l||qx.ui.core.Widget.prototype._createChildControlImpl.call(this,m);}}});})();(function(){var a="resetPaddingRight",b="setPaddingTop",c="_applyContentPadding",d="setPaddingBottom",e="resetThemed",f="contentPaddingRight",g="Integer",h="contentPaddingLeft",i="setThemedPaddingLeft",j="resetPaddingTop",k="shorthand",l="setThemedPaddingRight",m="setThemed",n="setPaddingRight",o="contentPaddingBottom",p="resetPaddingBottom",q="qx.ui.core.MContentPadding",r="resetPaddingLeft",s="setThemedPaddingTop",t="setPaddingLeft",u="setThemedPaddingBottom",v="contentPaddingTop";qx.Mixin.define(q,{properties:{contentPaddingTop:{check:g,init:0,apply:c,themeable:true},contentPaddingRight:{check:g,init:0,apply:c,themeable:true},contentPaddingBottom:{check:g,init:0,apply:c,themeable:true},contentPaddingLeft:{check:g,init:0,apply:c,themeable:true},contentPadding:{group:[v,f,o,h],mode:k,themeable:true}},members:{__xV:{contentPaddingTop:b,contentPaddingRight:n,contentPaddingBottom:d,contentPaddingLeft:t},__xW:{contentPaddingTop:s,contentPaddingRight:l,contentPaddingBottom:u,contentPaddingLeft:i},__xX:{contentPaddingTop:j,contentPaddingRight:a,contentPaddingBottom:p,contentPaddingLeft:r},_applyContentPadding:function(z,w,name,y){var A=this._getContentPaddingTarget();if(z==null){var x=this.__xX[name];A[x]();}else {if(y==m||y==e){var B=this.__xW[name];A[B](z);}else {var B=this.__xV[name];A[B](z);};};}}});})();(function(){var a="qx.ui.container.Scroll",b="pane";qx.Class.define(a,{extend:qx.ui.core.scroll.AbstractScrollArea,include:[qx.ui.core.MContentPadding],construct:function(content){qx.ui.core.scroll.AbstractScrollArea.call(this);if(content){this.add(content);};},members:{add:function(c){this.getChildControl(b).add(c);},remove:function(d){this.getChildControl(b).remove(d);},getChildren:function(){return this.getChildControl(b).getChildren();},_getContentPaddingTarget:function(){return this.getChildControl(b);}}});})();(function(){var a='appear',b='jpg',c='svg',d='image',e='cv.ui.manager.viewer.Image',f='jpeg',g='png',h='loaded',i='icon',j='gif',k='resize',l='image-viewer',m='Show image';qx.Class.define(e,{extend:cv.ui.manager.viewer.AbstractViewer,properties:{appearance:{refine:true,init:l}},statics:{SUPPORTED_FILES:[b,f,g,j,c],TITLE:qx.locale.Manager.tr(m),ICON:cv.theme.dark.Images.getIcon(d,18),getImageData:function(n){var o=qx.util.ResourceManager.getInstance().getData(n);if(o){return {width:o[0],height:o[1],aspectRatio:o[0]/o[1]};}else {o=qx.io.ImageLoader.getSize(n);if(o&&o.width&&o.height){return Object.assign({aspectRatio:o.width/o.height},o);};};return null;}},members:{_applyFile:function(q){var p=this.getChildControl(d);if(q){p.setIcon(q.getServerPath());p.setLabel(q.getFullPath());if(!cv.ui.manager.viewer.Image.getImageData(q.getServerPath())){p.getChildControl(i).addListenerOnce(h,this._scaleImage,this);}else {this._scaleImage();};this.addListener(k,this._scaleImage,this);}else {p.resetIcon();p.resetLabel();this.removeListener(k,this._scaleImage,this);};},_scaleImage:function(){var s=this.getBounds();if(!s){this.addListenerOnce(a,this._scaleImage,this);return;};var y=this.getFile();if(!y){return;};var A=this.getChildControl(d).getChildControl(i);var z=cv.ui.manager.viewer.Image.getImageData(y.getServerPath());var x=10;var w=20;var v=s.height-w*2;var r=s.width-x*2;var u=r;var t=Math.round(1/z.aspectRatio*u);if(t>v){t=v;u=Math.round(z.aspectRatio*v);};A.set({width:u,height:t,scale:true});}}});})();(function(){var a='cv.ui.manager.viewer.Config',b='Config viewer',c='/..',d='preview',e='config-viewer',f='',g='contentChanged',h='?config=',i='scroll',j='resourceUri',k='&preview=1',l='%1 is no configuration file',m='iframe',n='cv';qx.Class.define(a,{extend:cv.ui.manager.viewer.AbstractViewer,construct:function(){cv.ui.manager.viewer.AbstractViewer.call(this);this._setLayout(new qx.ui.layout.Grow());},properties:{appearance:{refine:true,init:e}},statics:{SUPPORTED_FILES:/^(demo)?\/?visu_config.*\.xml/,TITLE:qx.locale.Manager.tr(b),ICON:cv.theme.dark.Images.getIcon(d,18)},members:{_applyFile:function(s,q){var o=this.getChildControl(m);if(q&&q.isConfigFile()){qx.event.message.Bus.unsubscribe(q.getBusTopic(),this._onChange,this);};if(s){if(s.isConfigFile()){var r=cv.ui.manager.model.FileItem.getConfigName(s.getFullPath());var p=qx.util.Uri.getAbsolute(qx.util.LibraryManager.getInstance().get(n,j)+c)+h+(r||f)+k;o.setSource(p);o.show();qx.event.message.Bus.subscribe(s.getBusTopic(),this._onChange,this);}else {cv.ui.manager.snackbar.Controller.error(this.tr(l,s.getFullPath()));};}else {o.exclude();};},_onChange:function(t){var u=t.getData();if(u.type===g){this.getChildControl(m).reload();};},_createChildControlImpl:function(w){var v;switch(w){case m:v=new qx.ui.embed.Iframe();v.exclude();this.getChildControl(i).add(v);break;};return v||cv.ui.manager.viewer.AbstractViewer.prototype._createChildControlImpl.call(this,w);}}});})();(function(){var a="qx.ui.embed.AbstractIframe",b="name",c="Abstract method call",d="",f="about:blank",g="_applySource",h="navigate",i="qx.event.type.Event",j="String",k="_applyFrameName",l="qx.event.type.Data";qx.Class.define(a,{extend:qx.ui.core.Widget,construct:function(m){qx.ui.core.Widget.call(this);if(m){this.setSource(m);};this._getIframeElement().addListener(h,this.__xY,this);},events:{"load":i,"navigate":l},properties:{source:{check:j,apply:g,init:f},frameName:{check:j,init:d,apply:k}},members:{_getIframeElement:function(){throw new Error(c);},_applySource:function(o,n){this._getIframeElement().setSource(o);},_applyFrameName:function(q,p){this._getIframeElement().setAttribute(b,q);},getWindow:function(){return this._getIframeElement().getWindow();},getDocument:function(){return this._getIframeElement().getDocument();},getBody:function(){return this._getIframeElement().getBody();},getName:function(){return this._getIframeElement().getName();},reload:function(){this._getIframeElement().reload();},__xY:function(e){var r=e.getData();if(r){this.setSource(r);};this.fireDataEvent(h,r);}}});})();(function(){var a="no",b="Boolean",c="px",d="event.help",f="browser.name",g="auto",h="_applyScrollbar",j="DOMNodeInserted",k="load",l="_applyNativeHelp",m="yes",n="scrolling",o="/",p="help",q="ie",r="pointerup",s="ecmascript.mutationobserver",t="appear",u="pointerdown",v="block",w="qx.ui.embed.Iframe",x="losecapture",y="contextmenu",z="edge",A="none",B="iframe",C="__pk",D="display";qx.Class.define(w,{extend:qx.ui.embed.AbstractIframe,construct:function(E){if(E!=null){this.__ya=E;};qx.ui.embed.AbstractIframe.call(this,E);qx.event.Registration.addListener(document.body,u,this.block,this,true);qx.event.Registration.addListener(document.body,r,this.release,this,true);qx.event.Registration.addListener(document.body,x,this.release,this,true);this.__pk=this._createBlockerElement();if(qx.core.Environment.get(s)){this.addListenerOnce(t,function(){var H=this.getContentElement().getDomElement();var F=function(I){var i;if(I.addedNodes){for(i=I.addedNodes.length;i>=0; --i){if(I.addedNodes[i]==H){return true;};};};if(I.removedNodes){for(i=I.removedNodes.length;i>=0; --i){if(I.removedNodes[i]==H){return true;};};};return false;};var G=new MutationObserver(function(J){if(J.some(F)){this._syncSourceAfterDOMMove();};}.bind(this));var parent=this.getLayoutParent().getContentElement().getDomElement();G.observe(parent,{childList:true});},this);}else {this.addListenerOnce(t,function(){var K=this.getContentElement().getDomElement();qx.bom.Event.addNativeListener(K,j,this._onDOMNodeInserted);},this);this._onDOMNodeInserted=qx.lang.Function.listener(this._syncSourceAfterDOMMove,this);};},properties:{appearance:{refine:true,init:B},nativeContextMenu:{refine:true,init:false},nativeHelp:{check:b,init:false,apply:l},scrollbar:{check:[g,a,m],nullable:true,themeable:true,apply:h}},members:{__ya:null,__pk:null,renderLayout:function(P,top,N,L){qx.ui.embed.AbstractIframe.prototype.renderLayout.call(this,P,top,N,L);var O=c;var M=this.getInsets();this.__pk.setStyles({"left":(P+M.left)+O,"top":(top+M.top)+O,"width":(N-M.left-M.right)+O,"height":(L-M.top-M.bottom)+O});},_createContentElement:function(){var Q=new qx.html.Iframe(this.__ya);Q.addListener(k,this._onIframeLoad,this);return Q;},_getIframeElement:function(){return this.getContentElement();},_createBlockerElement:function(){var R=new qx.html.Blocker();R.setStyles({"zIndex":20,"display":A});return R;},_onIframeLoad:function(e){this._applyNativeContextMenu(this.getNativeContextMenu(),null);this._applyNativeHelp(this.getNativeHelp(),null);this.fireNonBubblingEvent(k);},block:function(){this.__pk.setStyle(D,v);},release:function(){this.__pk.setStyle(D,A);},_applyNativeContextMenu:function(U,T){if(U!==false&&T!==false){return;};var S=this.getDocument();if(!S){return;};try{var V=S.documentElement;}catch(e){return;};if(T===false){qx.event.Registration.removeListener(V,y,this._onNativeContextMenu,this,true);};if(U===false){qx.event.Registration.addListener(V,y,this._onNativeContextMenu,this,true);};},_onNativeContextMenu:function(e){e.preventDefault();},_applyNativeHelp:function(X,W){if(qx.core.Environment.get(d)){var document=this.getDocument();if(!document){return;};try{if(W===false){qx.bom.Event.removeNativeListener(document,p,(function(){return false;}));};if(X===false){qx.bom.Event.addNativeListener(document,p,(function(){return false;}));};}catch(e){{};};};},_syncSourceAfterDOMMove:function(){var ba=this.getContentElement()&&this.getContentElement().getDomElement();if(!ba){return;};var Y=ba.src;if(Y.charAt(Y.length-1)==o){Y=Y.substring(0,Y.length-1);};if(Y!=this.getSource()){if(qx.core.Environment.get(f)!=z&&qx.core.Environment.get(f)!=q){qx.bom.Iframe.getWindow(ba).stop();};ba.src=this.getSource();};},_applyScrollbar:function(bb){this.getContentElement().setAttribute(n,bb);},setLayoutParent:function(parent){qx.ui.embed.AbstractIframe.prototype.setLayoutParent.call(this,parent);if(parent){this.getLayoutParent().getContentElement().add(this.__pk);};}},destruct:function(){if(this.getLayoutParent()&&this.__pk.getParent()){this.getLayoutParent().getContentElement().remove(this.__pk);};this._disposeObjects(C);qx.event.Registration.removeListener(document.body,u,this.block,this,true);qx.event.Registration.removeListener(document.body,r,this.release,this,true);qx.event.Registration.removeListener(document.body,x,this.release,this,true);}});})();(function(){var a="source",b="element",c="name",d="qx.event.type.Event",f="iframe",g="qx.html.Iframe",h="navigate",i="qx.event.type.Data";qx.Class.define(g,{extend:qx.html.Element,construct:function(j,k,l){qx.html.Element.call(this,f,k,l);this.setSource(j);this.addListener(h,this.__xY,this);qx.html.Element._modified[this.toHashCode()]=this;qx.html.Element._scheduleFlush(b);},events:{"load":d,"navigate":i},members:{_applyProperty:function(name,n){qx.html.Element.prototype._applyProperty.call(this,name,n);if(name==a){var o=this.getDomElement();var m=qx.bom.Iframe.queryCurrentUrl(o);if(n===m){return;};qx.bom.Iframe.setSource(o,n);};},_createDomElement:function(){return qx.bom.Iframe.create(this._content);},getWindow:function(){var p=this.getDomElement();if(p){return qx.bom.Iframe.getWindow(p);}else {return null;};},getDocument:function(){var q=this.getDomElement();if(q){return qx.bom.Iframe.getDocument(q);}else {return null;};},getBody:function(){var r=this.getDomElement();if(r){return qx.bom.Iframe.getBody(r);}else {return null;};},setSource:function(s){this._setProperty(a,s,true);return this;},getSource:function(){return this._getProperty(a);},setName:function(name){this.setAttribute(c,name);return this;},getName:function(){return this.getAttribute(c);},reload:function(){var u=this.getDomElement();if(u){var t=this.getSource();this.setSource(null);this.setSource(t);};},__xY:function(e){var v=e.getData();if(v){this.setSource(v);};}}});})();(function(){var a='action',b='moved',c='_applyDisableScrolling',d='Filter by name...',f='changeValue',g='_onFilter',h='reload',i='',j='Boolean',k='folder',l='deleted',m='uploaded',n='changeViewMode',o='Show folder',p="qx.event.type.Data",q='change',r='new',s='\.(',t="addChildWidget",u='model',v='qx.data.Array',w='visible',x='i',y='icon',z='upload',A='.',B='startViewMode',C='_applyShowTextFilter',D="addItem",E='|',F='list',G='Function',H='cv.ui.manager.viewer.Folder',I='excluded',J='cv.manager.open',K='dbltap',L='dir',M='contextmenu',N='filter',O='scroll',P='label',Q='created',R='toolbar',S='Upload file',T='preview',U='/',V='new-folder',W='children',X='file',Y=')$',bm='new-file',bn='added',bo='viewMode',bi="removeItem",bj='_controller',bk='displayName',bl="removeChildWidget",bp='add-file';qx.Class.define(H,{extend:cv.ui.manager.viewer.AbstractViewer,implement:[qx.ui.core.IMultiSelection,qx.ui.form.IModelSelection],include:[qx.ui.core.MMultiSelectionHandling,qx.ui.core.MRemoteChildrenHandling,qx.ui.form.MModelSelection,cv.ui.manager.control.MFileEventHandler],construct:function(bq){cv.ui.manager.viewer.AbstractViewer.call(this);cv.ui.manager.model.Preferences.getInstance().bind(B,this,bo);this._isImageRegex=new RegExp(s+cv.ui.manager.viewer.Image.SUPPORTED_FILES.join(E)+Y,x);this.initModel(new qx.data.Array());this._setLayout(new qx.ui.layout.VBox(8));this._newItem=new cv.ui.manager.model.FileItem(r,r,null).set({fake:true,type:X,loaded:true,icon:cv.theme.dark.Images.getIcon(z),displayName:this.tr(S),special:bp});this._debouncedOnFilter=qx.util.Function.debounce(this._onFilter,500,false);if(!bq){this._createChildControl(R);};this._createChildControl(N);},statics:{SUPPORTED_FILES:function br(bs){return bs.getType()===L;},TITLE:qx.locale.Manager.tr(o),ICON:cv.theme.dark.Images.getIcon(k,18)},events:{addItem:p,removeItem:p},properties:{model:{check:v,deferredInit:true},permanentFilter:{check:G,nullable:true,apply:g},showTextFilter:{check:j,init:true,apply:C},labelConverter:{check:G,nullable:true},disableScrolling:{check:j,init:false,apply:c},viewMode:{check:[F,T],init:F,event:n}},members:{_controller:null,_isImageRegex:null,_newItem:null,SELECTION_MANAGER:qx.ui.core.selection.ScrollArea,_defaultLabelConverter:function(name){if(this.getViewMode()===F){return name;};var bt=name.split(A);if(bt.length>1){bt.pop();};return bt.join(A);},_getDelegate:function(){var bu=this.getLabelConverter();var bv={converter:bu?bu:this._defaultLabelConverter.bind(this)};return {createItem:function(){return new cv.ui.manager.form.FileListItem();},configureItem:function(bw){bw.addListener(K,this._onDblTap,this);bw.addListener(M,this._onFsItemRightClick,this);bw.addListener(a,this._onFsItemRightClick,this);bw.setShowFileActions(true);this.bind(bo,bw,bo);}.bind(this),bindItem:function(by,bx,bz){by.bindProperty(i,u,null,bx,bz);by.bindProperty(bk,P,bv,bx,bz);by.bindProperty(y,y,{converter:function(bA,bC){if(bC.getType()===X&&this._isImageRegex.test(bC.getName())){return bC.getServerPath();}else {if(!bA){return null;};var bB=bA.split(U);if(bB.length===3){bB.pop();};return bB.join(U);};}.bind(this)},bx,bz);}.bind(this)};},_onFsItemRightClick:function(bE){var bF=bE.getCurrentTarget().getModel();if(bF.getSpecial()===bp){bE.preventDefault();if(bE.getBubbles()){bE.stopPropagation();};return;};var bD=cv.ui.manager.contextmenu.GlobalFileItem.getInstance();bD.configure(bF);bE.getCurrentTarget().setContextMenu(bD);bD.openAtPointer(bE);if(bE.getBubbles()){bE.stop();};},_onDblTap:function(bG){var bH=bG.getCurrentTarget().getModel();if(bH.getSpecial()===bp){}else {qx.event.message.Bus.dispatchByName(J,bH);};},_applyFile:function(bL,bI){if(bI){bI.removeRelatedBindings(this);this.resetModel();};if(bL){var bK=this.getChildControl(F);if(!this._controller){this._controller=new qx.data.controller.List(null,bK);this._controller.setDelegate(this._getDelegate());};bL.bind(W,this,u);var bJ=this.getModel();this._newItem.setParent(bL);bJ.addListener(q,function(){if(this.getChildControl(N).getValue()||this.getPermanentFilter()){this._onFilter();}else {this._controller.setModel(bJ);};},this);this._controller.setModel(bJ);bL.load();}else {if(this._controller){this._controller.resetModel();};this._newItem.resetParent();};},_handleFileEvent:function(bN){var bM=this.getFile();var bO=bN.getData();switch(bO.action){case b:bM.reload();break;case bn:case m:case Q:if(bO.path.startsWith(bM.getFullPath())){bM.reload();};break;case l:if(bM){if(bO.path===bM.getFullPath()){this.dispose();}else if(bO.path.startsWith(bM.getFullPath())){var bP=bM.getChildren();bP.some(function(bQ){if(bQ.getFullPath()===bO.path){bP.remove(bQ);this.removeRelatedBindings(bQ);return true;};},this);};};var bP=this.getModel();bP.some(function(bR){if(bR.getFullPath()===bO.path){bP.remove(bR);this.removeRelatedBindings(bR);return true;};},this);break;};},_applyShowTextFilter:function(bS){this.getChildControl(N).setVisibility(bS?w:I);},_onFilter:function(){if(this._controller){var bV=this.getChildControl(N).getValue();var bU=this.getPermanentFilter();var bT=this.getModel().filter(function(bW){return (!bU||bU(bW))&&(!bV||bW.getName().includes(bV));});this._controller.setModel(bT);};},getChildrenContainer:function(){return this.getChildControl(F);},_onAddChild:function(e){this.fireDataEvent(D,e.getData());},_onRemoveChild:function(e){this.fireDataEvent(bi,e.getData());},_onFileEvent:function(bX){var bY=bX.getData();switch(bY.action){case l:break;};},_applyDisableScrolling:function(cb){if(cb){this.getChildControl(O).exclude();this._addAt(this.getChildControl(F),1,{flex:1});}else {var ca=this.getChildControl(O);ca.show();ca.add(this.getChildControl(F));this._addAt(ca,1,{flex:1});};},_createChildControlImpl:function(cd){var cc;switch(cd){case R:cc=new cv.ui.manager.ToolBar(null,[bm,V,z,h]);this.bind(X,cc,k);cc.addListener(h,function(){this.getFile().reload();},this);this._addAt(cc,0);break;case N:cc=new qx.ui.form.TextField();cc.set({placeholder:this.tr(d),liveUpdate:true,margin:8});if(!this.isShowTextFilter()){cc.exclude();};cc.addListener(f,this._debouncedOnFilter,this);this._addAt(cc,1);break;case O:cc=new qx.ui.container.Scroll();this._addAt(cc,2,{flex:1});break;case F:cc=new qx.ui.container.Composite(new qx.ui.layout.Flow(8,8));cc.addListener(t,this._onAddChild,this);cc.addListener(bl,this._onRemoveChild,this);if(this.isDisableScrolling()){this._addAt(cc,1,{flex:1});}else {this.getChildControl(O).add(cc);};break;};return cc||cv.ui.manager.viewer.AbstractViewer.prototype._createChildControlImpl.call(this,cd);}},destruct:function(){this._disposeObjects(bj);this._isImageRegex=null;cv.ui.manager.model.Preferences.getInstance().removeRelatedBindings(this);}});})();(function(){var a='cv.ui.manager.model.Preferences',b='list',c='changeQuickPreview',d='source',e='preview',f='changeStartViewMode',g='Boolean',h='_savePreferences',i='changeExpertMode',j='xml',k='changeDefaultConfigEditor',l='preferences',m='singleton';qx.Class.define(a,{extend:qx.core.Object,type:m,construct:function(){qx.core.Object.call(this);this._restorePreferences();},properties:{defaultConfigEditor:{check:[d,j],init:d,event:k,apply:h},quickPreview:{check:g,init:false,event:c,apply:h},expertMode:{check:g,init:false,event:i,apply:h},startViewMode:{check:[b,e],init:e,event:f,apply:h}},members:{_savePreferences:function(){var n=qx.bom.Storage.getLocal();n.setItem(l,qx.util.Serializer.toNativeObject(this));},_restorePreferences:function(){var o=qx.bom.Storage.getLocal();this.set(o.getItem(l));}}});})();(function(){var a="html.storage.local",b="html.storage.userdata",c="qx.bom.Storage";qx.Bootstrap.define(c,{statics:{__yb:null,getLocal:function(){if(qx.core.Environment.get(a)){return qx.bom.storage.Web.getLocal();}else if(qx.core.Environment.get(b)){return qx.bom.storage.UserData.getLocal();};return qx.bom.storage.Memory.getLocal();},getSession:function(){if(qx.core.Environment.get(a)){return qx.bom.storage.Web.getSession();}else if(qx.core.Environment.get(b)){return qx.bom.storage.UserData.getSession();};return qx.bom.storage.Memory.getSession();}}});})();(function(){var a="local",b="session",c="Storage",d="qx.bom.storage.Web",f="Storage full.";qx.Bootstrap.define(d,{statics:{__yc:null,__yd:null,getLocal:function(){if(this.__yc){return this.__yc;};return this.__yc=new qx.bom.storage.Web(a);},getSession:function(){if(this.__yd){return this.__yd;};return this.__yd=new qx.bom.storage.Web(b);}},construct:function(g){this.__sx=g;},members:{__sx:null,getStorage:function(){return window[this.__sx+c];},getLength:function(){return this.getStorage(this.__sx).length;},setItem:function(h,j){j=qx.lang.Json.stringify(j);try{this.getStorage(this.__sx).setItem(h,j);}catch(e){throw new Error(f);};},getItem:function(l){var k=this.getStorage(this.__sx).getItem(l);if(qx.lang.Type.isString(k)){k=qx.lang.Json.parse(k);}else if(k&&k.value&&qx.lang.Type.isString(k.value)){k=qx.lang.Json.parse(k.value);};return k;},removeItem:function(m){this.getStorage(this.__sx).removeItem(m);},clear:function(){var n=this.getStorage(this.__sx);if(!n.clear){for(var i=n.length-1;i>=0;i-- ){n.removeItem(n.key(i));};}else {n.clear();};},getKey:function(o){return this.getStorage(this.__sx).key(o);},forEach:function(p,r){var length=this.getLength();for(var i=0;i<length;i++ ){var q=this.getKey(i);p.call(r,q,this.getItem(q));};}}});})();(function(){var a="session",b="head",c="none",d="qx",e="qx.bom.storage.UserData",f="div",g="local",h="qxtest",j="#default#userdata",k="display";qx.Bootstrap.define(e,{statics:{__yc:null,__yd:null,__cB:0,getLocal:function(){if(this.__yc){return this.__yc;};return this.__yc=new qx.bom.storage.UserData(g);},getSession:function(){if(this.__yd){return this.__yd;};return this.__yd=new qx.bom.storage.UserData(a);}},construct:function(m){this.__ye=document.createElement(f);this.__ye.style[k]=c;document.getElementsByTagName(b)[0].appendChild(this.__ye);this.__ye.addBehavior(j);this.__yf=m;this.__ye.load(this.__yf);this.__eE={};this.__yg={};var l=this.__ye.getAttribute(d+qx.bom.storage.UserData.__cB);while(l!=undefined){l=qx.lang.Json.parse(l);this.__eE[l.key]=l.value;this.__yg[l.key]=d+qx.bom.storage.UserData.__cB;qx.bom.storage.UserData.__cB++ ;l=this.__ye.getAttribute(d+qx.bom.storage.UserData.__cB);};},members:{__ye:null,__yf:h,__eE:null,__yg:null,getStorage:function(){return this.__eE;},getLength:function(){return Object.keys(this.__eE).length;},setItem:function(n,p){if(this.__yg[n]){var o=this.__yg[n];}else {var o=d+qx.bom.storage.UserData.__cB;qx.bom.storage.UserData.__cB++ ;};var q=qx.lang.Json.stringify({key:n,value:p});this.__ye.setAttribute(o,q);this.__ye.save(this.__yf);this.__eE[n]=p;this.__yg[n]=o;},getItem:function(r){return this.__eE[r]||null;},removeItem:function(v){var u=this.__yg[v];if(u==undefined){return;};this.__ye.removeAttribute(u);qx.bom.storage.UserData.__cB-- ;delete this.__eE[v];delete this.__yg[v];var t=d+qx.bom.storage.UserData.__cB;if(this.__ye.getAttribute(t)){var w=this.__ye.getAttribute(d+qx.bom.storage.UserData.__cB);this.__ye.removeAttribute(t);this.__ye.setAttribute(u,w);var s=qx.lang.Json.parse(w).key;this.__yg[s]=u;};this.__ye.save(this.__yf);},clear:function(){for(var x in this.__yg){this.__ye.removeAttribute(this.__yg[x]);};this.__ye.save(this.__yf);this.__eE={};this.__yg={};},getKey:function(y){return Object.keys(this.__eE)[y];},forEach:function(z,B){var length=this.getLength();for(var i=0;i<length;i++ ){var A=this.getKey(i);z.call(B,A,this.getItem(A));};}}});})();(function(){var a="qx.bom.storage.Memory";qx.Bootstrap.define(a,{statics:{__yc:null,__yd:null,getLocal:function(){if(this.__yc){return this.__yc;};return this.__yc=new qx.bom.storage.Memory();},getSession:function(){if(this.__yd){return this.__yd;};return this.__yd=new qx.bom.storage.Memory();}},construct:function(){this.__eE={};},members:{__eE:null,getStorage:function(){return this.__eE;},getLength:function(){return Object.keys(this.__eE).length;},setItem:function(b,c){c=qx.lang.Json.stringify(c);this.__eE[b]=c;},getItem:function(e){var d=this.__eE[e];if(qx.lang.Type.isString(d)){d=qx.lang.Json.parse(d);};return d;},removeItem:function(f){delete this.__eE[f];},clear:function(){this.__eE={};},getKey:function(h){var g=Object.keys(this.__eE);return g[h];},forEach:function(j,l){var length=this.getLength();for(var i=0;i<length;i++ ){var k=this.getKey(i);j.call(l,k,this.getItem(k));};}}});})();(function(){var a='edit',b='action',c='css',d='cv.manager.openWith',e='</>',f='dir',g='String',h='_applyModel',i='bottom-left',j='menu',k='bottom-right',l='visibility',m='Double click to open "%1"',n='Boolean',o='both',p='changeDefaultConfigEditor',q='download',r='hovered',s='background-main',t='center',u='tap',v='top-right',w=".",x='left',y='Download file',z='js',A='Integer',B='Do you really want to replace the \'%1\' with the uploaded files content?',C='visible',D='icon',E='handlerId',F='xml',G='bottom',H='cv-file-item',I='_maintainFileActions',J='changeIconPosition',K='title',L='@',M='execute',N="String",O='top',P='Drop the file here to replace the content.',Q='list',R='changeIcon',S='cv.ui.manager.form.FileListItem',T='conf',U='iconPosition',V='100%',W='view',X='excluded',Y='changeShow',bI='pointerover',bJ='resize',bK='file-type',bE='top-left',bF='add-file',bG='.',bH='changeGap',bO='label',bP='Other file actions',bQ='changeLabel',ce='qx.event.type.Event',bL='bottom-bar',bM='open-button',bN='changeCenter',bC='preview',bT='_applyViewMode',bD='loaded',bU='download-button',bV='gap',ca='cv.ui.manager.model.FileItem',bR='file',cd='pointerout',bS='right',bW='changeModel',bX='atom',bY='show',cb='action-button',cc='_uploadManager';qx.Class.define(S,{extend:qx.ui.core.Widget,implement:[qx.ui.form.IModel],include:[cv.ui.manager.upload.MDragUpload],construct:function(ci,cg,cf){qx.ui.core.Widget.call(this,ci,cg);var ch=new qx.ui.layout.Canvas();ch.setDesktop(true);this._setLayout(ch);if(cf){this.setModel(cf);};this.addListener(bI,this._onPointerOver,this);this.addListener(cd,this._onPointerOut,this);cv.ui.manager.model.Preferences.getInstance().addListener(p,this._maintainFileActions,this);this.setUploadHint(this.tr(P));},events:{'action':ce},properties:{appearance:{refine:true,init:H},model:{nullable:true,event:bW,apply:h,dereference:true,check:ca},showFileActions:{check:n,init:false,apply:I},label:{nullable:true,check:g,event:bQ},icon:{check:g,nullable:true,themeable:true,event:R},gap:{check:A,nullable:false,event:bH,themeable:true,init:4},show:{init:o,check:[o,bO,D],themeable:true,inheritable:true,event:Y},iconPosition:{init:x,check:[O,bS,G,x,bE,i,v,k],themeable:true,event:J},center:{init:false,check:n,themeable:true,event:bN},acceptUpload:{init:null,nullable:true,check:N},viewMode:{check:[Q,bC],init:bC,apply:bT}},members:{_uploadManager:null,_forwardStates:{focused:true,selected:true,dragover:true,hovered:true},_applyViewMode:function(){switch(this.getViewMode()){case Q:this.addState(Q);this.getChildControl(bX).setLayoutProperties({left:10,top:0,bottom:0,right:null});this.getChildControl(bL).setLayoutProperties({top:0,bottom:0,right:0,left:null});break;case bC:this.removeState(Q);this.getChildControl(bX).setLayoutProperties({left:0,top:0,bottom:34,right:0});this.getChildControl(bL).setLayoutProperties({left:0,bottom:0,right:0,top:null});break;};},_onPointerOver:function(){this.addState(r);},_onPointerOut:function(){this.removeState(r);},_isDroppable:function(cj){if(cj.length===1){if(this.getModel().getSpecial()===bF){return true;};var ck=cv.ui.manager.tree.FileSystem.getMimetypeFromSuffix(this.getModel().getName().split(w).pop());return ck===cj[0].type;};return false;},_onDrop:function(cl){cl.preventDefault();if(this.getModel().getSpecial()===bF){cv.ui.manager.upload.MDragUpload.uploadFile(cv.ui.manager.upload.MDragUpload.getFiles(cl)[0]);}else {dialog.Dialog.confirm(this.tr(B,this.getModel().getName()),function(cm){if(cm){var cn=cv.ui.manager.upload.MDragUpload.getFiles(cl)[0];cv.ui.manager.upload.MDragUpload.uploadFile(cn,this.getModel());};},this);};this._onStopDragging(cl);},_applyModel:function(cq){if(cq&&cq.getType()===bR){var co=this.getChildControl(bK);if(!cq.isFake()){var name=cq.getName();this.getChildControl(bX).setToolTipText(this.tr(m,name));var cp=name.split(bG).pop();if(cp.length<=4){var cr=false;switch(cp){case F:co.setValue(e);cr=true;break;case z:cp=qx.lang.String.firstUp(cp);case c:case T:co.setValue(cp);cr=true;break;};if(cr&&this.getViewMode()===bC){co.show();}else {co.exclude();};}else {co.exclude();};};}else {this.getChildControl(bK).exclude();this.getChildControl(bX).resetToolTipText();};this._maintainFileActions();},_onOpenWith:function(ct){var cs=ct.getTarget().getUserData(E);qx.event.message.Bus.dispatchByName(d,{file:this.getModel(),handler:cs});},_applyIcon:function(cx,cw){qx.ui.core.Widget.prototype._applyIcon.call(this,cx,cw);if(cx&&!cx.startsWith(L)){var cu=this.getChildControl(bX).getChildControl(D);if(!cv.ui.manager.viewer.Image.getImageData(cx)){cu.addListenerOnce(bD,this.__yh,this);}else {this.__yh();};};},_maintainFileActions:function(){var cA=this.getModel();if(this.isShowFileActions()&&cA){this.getChildControl(bU).setVisibility(cA.getType()===f||cA.isFake()?X:C);this.getChildControl(cb).setVisibility(cA.isFake()?X:C);var cz=cv.ui.manager.control.FileHandlerRegistry.getInstance().getFileHandler(cA,a);var cy=cv.ui.manager.control.FileHandlerRegistry.getInstance().getFileHandler(cA,W);var cB=this.getChildControl(bM);if(cA.isWriteable()&&cz){cB.setUserData(E,cz.Clazz.classname);cB.set({icon:cz.Clazz.ICON||cv.theme.dark.Images.getIcon(a,18),enabled:true,toolTipText:cz.Clazz.TITLE});}else if(cy){cB.setUserData(E,cy.Clazz.classname);cB.set({icon:cy.Clazz.ICON||cv.theme.dark.Images.getIcon(bC,18),enabled:true,toolTipText:cy.Clazz.TITLE});}else {cB.setEnabled(false);};this.getChildControl(bM);this.getChildControl(cb);this.getChildControl(bL).show();}else {this.getChildControl(bL).exclude();};},__yh:function(){var cH=cv.ui.manager.viewer.Image.getImageData(this.getIcon());var cC=this.getChildControl(bX).getChildControl(D);var cD=cC.getSizeHint();var cG=cD.width;var cE=Math.round(1/cH.aspectRatio*cG);var cF=[0,0,0,0];if(cE>cD.height){cE=cD.height;cG=Math.round(cH.aspectRatio*cE);cF[1]=Math.round((cD.width-cG)/2);cF[3]=cF[1];}else {cF[0]=Math.round((cD.height-cE)/2);cF[2]=cF[0];};cC.setPadding(cF);},_maintainFileTypePosition:function(){var cI=this.getChildControl(bX).getChildControl(D).getBounds();var top=Math.round(cI.top+cI.height/2);this.getChildControl(bK).setLayoutProperties({left:cI.left,top:top,right:cI.left+cI.width,bottom:top+18});},_createChildControlImpl:function(cK){var cJ;switch(cK){case bX:cJ=new qx.ui.basic.Atom();[bO,D,bV,U,bY,t].forEach(function(cM){this.bind(cM,cJ,cM);},this);cJ.setAnonymous(true);this._add(cJ,{top:0,left:0,right:0,bottom:34});break;case bK:cJ=new qx.ui.basic.Label();cJ.set({zIndex:100,anonymous:true,font:K,textAlign:t,textColor:s,minWidth:70});var cL=this.getChildControl(bX).getChildControl(D);cL.bind(l,cJ,l);cL.addListener(bJ,this._maintainFileTypePosition,this);this._add(cJ,{width:V});break;case bL:cJ=new qx.ui.container.Composite(new qx.ui.layout.HBox(4,t));cJ.setAnonymous(true);this._add(cJ,{left:0,bottom:0,right:0});break;case bU:cJ=new qx.ui.form.Button(null,cv.theme.dark.Images.getIcon(q,18));cJ.setToolTipText(this.tr(y));cJ.addListener(M,function(){cv.ui.manager.control.FileController.getInstance().download(this.getModel());},this);this.getChildControl(bL).add(cJ);break;case cb:cJ=new qx.ui.form.Button(null,cv.theme.dark.Images.getIcon(j,18));cJ.setToolTipText(this.tr(bP));this.getChildControl(bL).add(cJ);cJ.addListener(u,function(cN){this.fireEvent(b,qx.event.type.Tap,[cN.getNativeEvent(),this,cN.getTarget(),false,true]);},this);break;case bM:cJ=new qx.ui.form.Button(null,cv.theme.dark.Images.getIcon(bC,18));cJ.addListener(M,function(){qx.event.message.Bus.dispatchByName(d,{file:this.getModel(),handler:cJ.getUserData(E)});},this);this.getChildControl(bL).add(cJ);break;};if(!cJ){cJ=this._createMDragUploadChildControlImpl(cK);};return cJ||qx.ui.core.Widget.prototype._createChildControlImpl.call(this,cK);},capture:function(){if(!this.getFile()||this.getFile().getSpecial()!==bF){qx.ui.core.Widget.prototype.capture.call(this);};},releaseCapture:function(){if(!this.getFile()||this.getFile().getSpecial()!==bF){qx.ui.core.Widget.prototype.releaseCapture.call(this);};}},destruct:function(){this.removeListener(bI,this._onPointerOver,this);this.removeListener(cd,this._onPointerOut,this);this._disposeObjects(cc);cv.ui.manager.model.Preferences.getInstance().removeListener(p,this._maintainFileActions,this);}});})();(function(){var a="qx.ui.window.IWindowManager";qx.Interface.define(a,{members:{setDesktop:function(b){if(b!==null){this.assertInterface(b,qx.ui.window.IDesktop);};},changeActiveWindow:function(c,d){},updateStack:function(){},bringToFront:function(e){this.assertInstance(e,qx.ui.window.Window);},sendToBack:function(f){this.assertInstance(f,qx.ui.window.Window);}}});})();(function(){var a="qx.ui.window.IDesktop";qx.Interface.define(a,{members:{setWindowManager:function(b){this.assertInterface(b,qx.ui.window.IWindowManager);},getWindows:function(){},supportsMaximize:function(){},blockContent:function(c){this.assertInteger(c);},unblock:function(){},isBlocked:function(){}}});})();(function(){var a="qx.ui.window.Manager",b="__yi";qx.Class.define(a,{extend:qx.core.Object,implement:qx.ui.window.IWindowManager,members:{__yi:null,setDesktop:function(c){this.__yi=c;if(c){this.updateStack();}else {qx.ui.core.queue.Widget.remove(this);};},getDesktop:function(){return this.__yi;},changeActiveWindow:function(d,e){if(d){this.bringToFront(d);d.setActive(true);};if(e){e.resetActive();};},_minZIndex:1e5,updateStack:function(){qx.ui.core.queue.Widget.add(this);},syncWidget:function(){this.__yi.forceUnblock();var h=this.__yi.getWindows();var g=this._minZIndex;var m=g+h.length*2;var j=g+h.length*4;var k=null;for(var i=0,l=h.length;i<l;i++ ){var f=h[i];if(!f.isVisible()){continue;};k=k||f;if(f.isModal()){f.setZIndex(j);this.__yi.blockContent(j-1);j+=2;k=f;}else if(f.isAlwaysOnTop()){f.setZIndex(m);m+=2;}else {f.setZIndex(g);g+=2;};if(!k.isModal()&&f.isActive()||f.getZIndex()>k.getZIndex()){k=f;};};this.__yi.setActiveWindow(k);},bringToFront:function(o){var n=this.__yi.getWindows();var p=qx.lang.Array.remove(n,o);if(p){n.push(o);this.updateStack();};},sendToBack:function(r){var q=this.__yi.getWindows();var s=qx.lang.Array.remove(q,r);if(s){q.unshift(r);this.updateStack();};}},destruct:function(){this._disposeObjects(b);}});})();(function(){var a="pointerup",b="Boolean",c="losecapture",d="move",f="qx.ui.core.MMovable",g="__yj",h="The move handle could not be redefined!",i="pointerdown",j="maximized",k="__yk",l="pointermove",m="roll",n="move-frame";qx.Mixin.define(f,{properties:{movable:{check:b,init:true},useMoveFrame:{check:b,init:false}},members:{__yj:null,__yk:null,__yl:null,__ym:null,__yn:null,__yo:null,__yp:null,__yq:false,__yr:null,__ys:0,_activateMoveHandle:function(o){if(this.__yj){throw new Error(h);};this.__yj=o;o.addListener(i,this._onMovePointerDown,this);o.addListener(a,this._onMovePointerUp,this);o.addListener(l,this._onMovePointerMove,this);o.addListener(c,this.__yw,this);},__yt:function(){var p=this.__yk;if(!p){p=this.__yk=new qx.ui.core.Widget();p.setAppearance(n);p.exclude();qx.core.Init.getApplication().getRoot().add(p);};return p;},__yu:function(){var location=this.getContentLocation();var r=this.getBounds();var q=this.__yt();q.setUserBounds(location.left,location.top,r.width,r.height);q.show();q.setZIndex(this.getZIndex()+1);},__yv:function(e){var t=this.__yl;var s=Math.max(t.left,Math.min(t.right,e.getDocumentLeft()));var v=Math.max(t.top,Math.min(t.bottom,e.getDocumentTop()));var u=this.__ym+s;var w=this.__yn+v;return {viewportLeft:parseInt(u,10),viewportTop:parseInt(w,10),parentLeft:parseInt(u-this.__yo,10),parentTop:parseInt(w-this.__yp,10)};},_onMoveRoll:function(e){e.stop();},_onMovePointerDown:function(e){if(!this.getMovable()||this.hasState(j)){return;};this.addListener(m,this._onMoveRoll,this);var parent=this.getLayoutParent();var x=parent.getContentLocation();var z=parent.getBounds();if(qx.Class.implementsInterface(parent,qx.ui.window.IDesktop)){if(!parent.isBlocked()){this.__yr=parent.getBlockerColor();this.__ys=parent.getBlockerOpacity();parent.setBlockerColor(null);parent.setBlockerOpacity(1);parent.blockContent(this.getZIndex()-1);this.__yq=true;};};this.__yl={left:x.left,top:x.top,right:x.left+z.width,bottom:x.top+z.height};var y=this.getContentLocation();this.__yo=x.left;this.__yp=x.top;this.__ym=y.left-e.getDocumentLeft();this.__yn=y.top-e.getDocumentTop();this.addState(d);this.__yj.capture();if(this.getUseMoveFrame()){this.__yu();};e.stop();},_onMovePointerMove:function(e){if(!this.hasState(d)){return;};var B=this.__yv(e);if(this.getUseMoveFrame()){this.__yt().setDomPosition(B.viewportLeft,B.viewportTop);}else {var A=this.getLayoutParent().getInsets();this.setDomPosition(B.parentLeft-(A.left||0),B.parentTop-(A.top||0));};e.stopPropagation();},_onMovePointerUp:function(e){if(this.hasListener(m)){this.removeListener(m,this._onMoveRoll,this);};if(!this.hasState(d)){return;};this.removeState(d);var parent=this.getLayoutParent();if(qx.Class.implementsInterface(parent,qx.ui.window.IDesktop)){if(this.__yq){parent.unblock();parent.setBlockerColor(this.__yr);parent.setBlockerOpacity(this.__ys);this.__yr=null;this.__ys=0;this.__yq=false;};};this.__yj.releaseCapture();var D=this.__yv(e);var C=this.getLayoutParent().getInsets();this.setLayoutProperties({left:D.parentLeft-(C.left||0),top:D.parentTop-(C.top||0)});if(this.getUseMoveFrame()){this.__yt().exclude();};e.stopPropagation();},__yw:function(e){if(!this.hasState(d)){return;};this.removeState(d);if(this.getUseMoveFrame()){this.__yt().exclude();};}},destruct:function(){this._disposeObjects(k,g);this.__yl=null;}});})();(function(){var a="Boolean",b="w-resize",c="touch",d="sw-resize",f="n-resize",g="resizableRight",h="ne-resize",i="se-resize",j="Integer",k="e-resize",l="resizableLeft",m="move",n="shorthand",o="maximized",p="resize",q="nw-resize",r="pointerup",s="pointerdown",t="qx.ui.core.MResizable",u="losecapture",v="resize-frame",w="resizableBottom",x="s-resize",y="pointermove",z="resizableTop",A="pointerout";qx.Mixin.define(t,{construct:function(){var content=this.getContentElement();content.addListener(s,this.__yJ,this,true);content.addListener(r,this.__yK,this);content.addListener(y,this.__yM,this);content.addListener(A,this.__yN,this);content.addListener(u,this.__yL,this);var B=content.getDomElement();if(B==null){B=window;};this.__yx=qx.event.Registration.getManager(B).getHandler(qx.event.handler.DragDrop);},properties:{resizableTop:{check:a,init:true},resizableRight:{check:a,init:true},resizableBottom:{check:a,init:true},resizableLeft:{check:a,init:true},resizable:{group:[z,g,w,l],mode:n},resizeSensitivity:{check:j,init:5},useResizeFrame:{check:a,init:true}},members:{__yx:null,__yy:null,__yz:null,__yA:null,__yB:null,__yC:null,__yD:null,RESIZE_TOP:1,RESIZE_BOTTOM:2,RESIZE_LEFT:4,RESIZE_RIGHT:8,_getResizeFrame:function(){var C=this.__yy;if(!C){C=this.__yy=new qx.ui.core.Widget();C.setAppearance(v);C.exclude();qx.core.Init.getApplication().getRoot().add(C);};return C;},__yE:function(){var location=this.getContentLocation();var D=this._getResizeFrame();D.setUserBounds(location.left,location.top,location.right-location.left,location.bottom-location.top);D.show();D.setZIndex(this.getZIndex()+1);},__yF:function(e){var F=this.__yz;var E=this.getSizeHint();var I=this.__yD;var H=this.__yC;var J=H.width;var G=H.height;var L=H.left;var top=H.top;var K;if((F&this.RESIZE_TOP)||(F&this.RESIZE_BOTTOM)){K=Math.max(I.top,Math.min(I.bottom,e.getDocumentTop()))-this.__yB;if(F&this.RESIZE_TOP){G-=K;}else {G+=K;};if(G<E.minHeight){G=E.minHeight;}else if(G>E.maxHeight){G=E.maxHeight;};if(F&this.RESIZE_TOP){top+=H.height-G;};};if((F&this.RESIZE_LEFT)||(F&this.RESIZE_RIGHT)){K=Math.max(I.left,Math.min(I.right,e.getDocumentLeft()))-this.__yA;if(F&this.RESIZE_LEFT){J-=K;}else {J+=K;};if(J<E.minWidth){J=E.minWidth;}else if(J>E.maxWidth){J=E.maxWidth;};if(F&this.RESIZE_LEFT){L+=H.width-J;};};return {viewportLeft:L,viewportTop:top,parentLeft:H.bounds.left+L-H.left,parentTop:H.bounds.top+top-H.top,width:J,height:G};},__yG:{'1':f,'2':x,'4':b,'8':k,'5':q,'6':d,'9':h,'10':i},__yH:function(e){var location=this.getContentLocation();var O=this.getResizeSensitivity();var N=e.getDocumentLeft();var P=e.getDocumentTop();var M=this.__yI(location,N,P,O);if(M>0){M=M|this.__yI(location,N,P,O*2);};this.__yz=M;},__yI:function(location,T,R,S){var Q=0;if(this.getResizableTop()&&Math.abs(location.top-R)<S&&T>location.left-S&&T<location.right+S){Q+=this.RESIZE_TOP;}else if(this.getResizableBottom()&&Math.abs(location.bottom-R)<S&&T>location.left-S&&T<location.right+S){Q+=this.RESIZE_BOTTOM;};if(this.getResizableLeft()&&Math.abs(location.left-T)<S&&R>location.top-S&&R<location.bottom+S){Q+=this.RESIZE_LEFT;}else if(this.getResizableRight()&&Math.abs(location.right-T)<S&&R>location.top-S&&R<location.bottom+S){Q+=this.RESIZE_RIGHT;};return Q;},__yJ:function(e){if(!this.__yz||!this.getEnabled()||e.getPointerType()==c){return;};this.addState(p);this.__yA=e.getDocumentLeft();this.__yB=e.getDocumentTop();var location=this.getContentLocation();var V=this.getBounds();this.__yC={top:location.top,left:location.left,width:location.right-location.left,height:location.bottom-location.top,bounds:qx.lang.Object.clone(V)};var parent=this.getLayoutParent();var W=parent.getContentLocation();var U=parent.getBounds();this.__yD={left:W.left,top:W.top,right:W.left+U.width,bottom:W.top+U.height};if(this.getUseResizeFrame()){this.__yE();};this.capture();e.stop();},__yK:function(e){if(!this.hasState(p)||!this.getEnabled()||e.getPointerType()==c){return;};if(this.getUseResizeFrame()){this._getResizeFrame().exclude();};var X=this.__yF(e);this.setWidth(X.width);this.setHeight(X.height);if(this.getResizableLeft()||this.getResizableTop()){this.setLayoutProperties({left:X.parentLeft,top:X.parentTop});};this.__yz=0;this.removeState(p);this.resetCursor();this.getApplicationRoot().resetGlobalCursor();this.releaseCapture();e.stopPropagation();},__yL:function(e){if(!this.__yz){return;};this.resetCursor();this.getApplicationRoot().resetGlobalCursor();this.removeState(m);if(this.getUseResizeFrame()){this._getResizeFrame().exclude();};},__yM:function(e){if(!this.getEnabled()||e.getPointerType()==c){return;};if(this.hasState(p)){var ba=this.__yF(e);if(this.getUseResizeFrame()){var Y=this._getResizeFrame();Y.setUserBounds(ba.viewportLeft,ba.viewportTop,ba.width,ba.height);}else {this.setWidth(ba.width);this.setHeight(ba.height);if(this.getResizableLeft()||this.getResizableTop()){this.setLayoutProperties({left:ba.parentLeft,top:ba.parentTop});};};e.stopPropagation();}else if(!this.hasState(o)&&!this.__yx.isSessionActive()){this.__yH(e);var bd=this.__yz;var bc=this.getApplicationRoot();if(bd){var bb=this.__yG[bd];this.setCursor(bb);bc.setGlobalCursor(bb);}else if(this.getCursor()){this.resetCursor();bc.resetGlobalCursor();};};},__yN:function(e){if(e.getPointerType()==c){return;};if(this.getCursor()&&!this.hasState(p)){this.resetCursor();this.getApplicationRoot().resetGlobalCursor();};}},destruct:function(){if(this.getCursor()){this.getApplicationRoot().resetGlobalCursor();};if(this.__yy!=null&&!qx.core.ObjectRegistry.inShutDown){this.__yy.destroy();this.__yy=null;};this.__yx=null;}});})();(function(){var a="beforeClose",b="beforeMinimize",c="Boolean",d="window-resize-frame",f="changeStatus",g="changeIcon",h="excluded",i="_applyModal",j="execute",k="restore-button",l="_applyActive",m="minimize-button",n="qx.event.type.Event",o="close-button",p="beforeRestore",q="statusbar",r="captionbar",s="String",t="minimize",u="dbltap",v="resize",w="modal",x="changeModal",y="title",z="icon",A="showStatusbar",B="changeAlwaysOnTop",C="_applyShowStatusbar",D="appear",E="pointerdown",F="maximized",G="_applyStatus",H="qx.ui.window.Window",I="normal",J="_applyCenterOnAppear",K="changeCaption",L="statusbar-text",M="focusout",N="beforeMaximize",O="maximize",P="maximize-button",Q="_applyCenterOnContainerResize",R="restore",S="window",T="pane",U="close",V="changeActive",W="_applyCaptionBarChange",X="active",Y="minimized";qx.Class.define(H,{extend:qx.ui.core.Widget,include:[qx.ui.core.MRemoteChildrenHandling,qx.ui.core.MRemoteLayoutHandling,qx.ui.core.MResizable,qx.ui.core.MMovable,qx.ui.core.MContentPadding],construct:function(ba,bb){qx.ui.core.Widget.call(this);this._setLayout(new qx.ui.layout.VBox());this._createChildControl(r);this._createChildControl(T);if(bb!=null){this.setIcon(bb);};if(ba!=null){this.setCaption(ba);};this._updateCaptionBar();this.addListener(E,this._onWindowPointerDown,this,true);this.addListener(M,this._onWindowFocusOut,this);qx.core.Init.getApplication().getRoot().add(this);this.initVisibility();qx.ui.core.FocusHandler.getInstance().addRoot(this);this._getResizeFrame().setAppearance(d);},statics:{DEFAULT_MANAGER_CLASS:qx.ui.window.Manager},events:{"beforeClose":n,"close":n,"beforeMinimize":n,"minimize":n,"beforeMaximize":n,"maximize":n,"beforeRestore":n,"restore":n},properties:{appearance:{refine:true,init:S},visibility:{refine:true,init:h},focusable:{refine:true,init:true},active:{check:c,init:false,apply:l,event:V},alwaysOnTop:{check:c,init:false,event:B},modal:{check:c,init:false,event:x,apply:i},caption:{apply:W,event:K,nullable:true},icon:{check:s,nullable:true,apply:W,event:g,themeable:true},status:{check:s,nullable:true,apply:G,event:f},showClose:{check:c,init:true,apply:W,themeable:true},showMaximize:{check:c,init:true,apply:W,themeable:true},showMinimize:{check:c,init:true,apply:W,themeable:true},allowClose:{check:c,init:true,apply:W},allowMaximize:{check:c,init:true,apply:W},allowMinimize:{check:c,init:true,apply:W},showStatusbar:{check:c,init:false,apply:C},centerOnAppear:{init:false,check:c,apply:J},centerOnContainerResize:{init:false,check:c,apply:Q},autoDestroy:{check:c,init:false}},members:{__yO:null,__yP:null,__yQ:null,__yR:null,getChildrenContainer:function(){return this.getChildControl(T);},_forwardStates:{active:true,maximized:true,showStatusbar:true,modal:true},setLayoutParent:function(parent){var bc;{};bc=this.getLayoutParent();if(bc&&this.__yR){bc.removeListenerById(this.__yR);this.__yR=null;};qx.ui.core.Widget.prototype.setLayoutParent.call(this,parent);if(parent&&this.getCenterOnContainerResize()){this.__yR=parent.addListener(v,this.center,this);};},_createChildControlImpl:function(bh,bg){var bd;switch(bh){case q:bd=new qx.ui.container.Composite(new qx.ui.layout.HBox());this._add(bd);bd.add(this.getChildControl(L));break;case L:bd=new qx.ui.basic.Label();bd.setValue(this.getStatus());break;case T:bd=new qx.ui.container.Composite();this._add(bd,{flex:1});break;case r:var be=new qx.ui.layout.Grid();be.setRowFlex(0,1);be.setColumnFlex(1,1);bd=new qx.ui.container.Composite(be);this._add(bd);bd.addListener(u,this._onCaptionPointerDblTap,this);this._activateMoveHandle(bd);break;case z:bd=new qx.ui.basic.Image(this.getIcon());this.getChildControl(r).add(bd,{row:0,column:0});break;case y:bd=new qx.ui.basic.Label(this.getCaption());bd.setWidth(0);bd.setAllowGrowX(true);var bf=this.getChildControl(r);bf.add(bd,{row:0,column:1});break;case m:bd=new qx.ui.form.Button();bd.setFocusable(false);bd.addListener(j,this._onMinimizeButtonTap,this);this.getChildControl(r).add(bd,{row:0,column:2});break;case k:bd=new qx.ui.form.Button();bd.setFocusable(false);bd.addListener(j,this._onRestoreButtonTap,this);this.getChildControl(r).add(bd,{row:0,column:3});break;case P:bd=new qx.ui.form.Button();bd.setFocusable(false);bd.addListener(j,this._onMaximizeButtonTap,this);this.getChildControl(r).add(bd,{row:0,column:4});break;case o:bd=new qx.ui.form.Button();bd.setFocusable(false);bd.addListener(j,this._onCloseButtonTap,this);this.getChildControl(r).add(bd,{row:0,column:6});break;};return bd||qx.ui.core.Widget.prototype._createChildControlImpl.call(this,bh);},_updateCaptionBar:function(){var bj;var bk=this.getIcon();if(bk){this.getChildControl(z).setSource(bk);this._showChildControl(z);}else {this._excludeChildControl(z);};var bi=this.getCaption();if(bi){this.getChildControl(y).setValue(bi);this._showChildControl(y);}else {this._excludeChildControl(y);};if(this.getShowMinimize()){this._showChildControl(m);bj=this.getChildControl(m);this.getAllowMinimize()?bj.resetEnabled():bj.setEnabled(false);}else {this._excludeChildControl(m);};if(this.getShowMaximize()){if(this.isMaximized()){this._showChildControl(k);this._excludeChildControl(P);}else {this._showChildControl(P);this._excludeChildControl(k);};bj=this.getChildControl(P);this.getAllowMaximize()?bj.resetEnabled():bj.setEnabled(false);}else {this._excludeChildControl(P);this._excludeChildControl(k);};if(this.getShowClose()){this._showChildControl(o);bj=this.getChildControl(o);this.getAllowClose()?bj.resetEnabled():bj.setEnabled(false);}else {this._excludeChildControl(o);};},close:function(){if(!this.getAutoDestroy()&&!this.isVisible()){return;};if(this.fireNonBubblingEvent(a,qx.event.type.Event,[false,true])){this.hide();this.fireEvent(U);};if(this.getAutoDestroy()){this.dispose();};},open:function(){this.show();this.setActive(true);this.focus();},center:function(){var parent=this.getLayoutParent();if(parent){var bm=parent.getBounds();if(bm){var bn=this.getSizeHint();var bl=Math.round((bm.width-bn.width)/2);var top=Math.round((bm.height-bn.height)/2);if(top<0){top=0;};this.moveTo(bl,top);return;};};{};},maximize:function(){if(this.isMaximized()){return;};var parent=this.getLayoutParent();if(parent!=null&&parent.supportsMaximize()){if(this.fireNonBubblingEvent(N,qx.event.type.Event,[false,true])){if(!this.isVisible()){this.open();};var bo=this.getLayoutProperties();this.__yP=bo.left===undefined?0:bo.left;this.__yO=bo.top===undefined?0:bo.top;this.setLayoutProperties({left:null,top:null,edge:0});this.addState(F);this._updateCaptionBar();this.fireEvent(O);};};},minimize:function(){if(!this.isVisible()){return;};if(this.fireNonBubblingEvent(b,qx.event.type.Event,[false,true])){var bp=this.getLayoutProperties();this.__yP=bp.left===undefined?0:bp.left;this.__yO=bp.top===undefined?0:bp.top;this.removeState(F);this.hide();this.fireEvent(t);};},restore:function(){if(this.getMode()===I){return;};if(this.fireNonBubblingEvent(p,qx.event.type.Event,[false,true])){if(!this.isVisible()){this.open();};var bq=this.__yP;var top=this.__yO;this.setLayoutProperties({edge:null,left:bq,top:top});this.removeState(F);this._updateCaptionBar();this.fireEvent(R);};},moveTo:function(br,top){if(this.isMaximized()){return;};this.setLayoutProperties({left:br,top:top});},isMaximized:function(){return this.hasState(F);},getMode:function(){if(!this.isVisible()){return Y;}else {if(this.isMaximized()){return F;}else {return I;};};},_applyActive:function(bt,bs){if(bs){this.removeState(X);}else {this.addState(X);};},_applyModal:function(bv,bu){if(bu){this.removeState(w);}else {this.addState(w);};},_getContentPaddingTarget:function(){return this.getChildControl(T);},_applyShowStatusbar:function(by,bw){var bx=this._getResizeFrame();if(by){this.addState(A);bx.addState(A);}else {this.removeState(A);bx.removeState(A);};if(by){this._showChildControl(q);}else {this._excludeChildControl(q);};},_applyCaptionBarChange:function(bA,bz){this._updateCaptionBar();},_applyStatus:function(bC,bB){var bD=this.getChildControl(L,true);if(bD){bD.setValue(bC);};},_applyFocusable:function(bF,bE){{};},_applyCenterOnAppear:function(bH,bG){if(this.__yQ!==null){this.removeListenerById(this.__yQ);this.__yQ=null;};if(bH){this.__yQ=this.addListener(D,this.center,this);};},_applyCenterOnContainerResize:function(bJ,bI){var parent=this.getLayoutParent();if(this.__yR!==null){parent.removeListenerById(this.__yR);this.__yR=null;};if(bJ){if(parent){this.__yR=parent.addListener(v,this.center,this);};};},_onWindowEventStop:function(e){e.stopPropagation();},_onWindowPointerDown:function(e){this.setActive(true);},_onWindowFocusOut:function(e){if(this.getModal()){return;};var bK=e.getRelatedTarget();if(bK!=null&&!qx.ui.core.Widget.contains(this,bK)){this.setActive(false);};},_onCaptionPointerDblTap:function(e){if(this.getAllowMaximize()){this.isMaximized()?this.restore():this.maximize();};},_onMinimizeButtonTap:function(e){this.minimize();this.getChildControl(m).reset();},_onRestoreButtonTap:function(e){this.restore();this.getChildControl(k).reset();},_onMaximizeButtonTap:function(e){this.maximize();this.getChildControl(P).reset();},_onCloseButtonTap:function(e){this.close();this.getChildControl(o).reset();}},destruct:function(){var bL;var parent;qx.ui.core.FocusHandler.getInstance().removeRoot(this);parent=this.getLayoutParent();if(parent){bL=this.__yR;bL&&parent.removeListenerById(bL);parent.remove(this);};}});})();(function(){var a="_applyMessage",b="allowCancel",c="black",d="Boolean",f="changeShow",g="_applyImage",h="excluded",j="dialog.icon.warning",k="string",l="execute",m="Object",n="Function",o="_createWidgetContent not implemented!",p="visible",q="qx.event.type.Event",r="ok",s="cancel",t="String",u="resize",v="dialog.icon.info",w="",x="icon",y="visibility",z="dialog.icon.ok",A="dialog.icon.cancel",B="appear",C="Cancel",D="keyup",E="dialog.icon.error",F="boolean",G="Number",H="_applyShow",I=" is not a valid dialog type",J="hidden",K="dialog.Dialog",L="OK",M="changeAllowCancel",N="object";qx.Class.define(K,{extend:qx.ui.window.Window,statics:{__yS:false,useBlocker:function(O){dialog.Dialog.__yS=O;},getInstanceByType:function(P){try{return new (dialog[qx.lang.String.firstUp(P)])();}catch(e){this.error(P+I);};},alert:function(R,Q,S,T){return new dialog.Alert({message:R,callback:Q||null,context:S||null,image:v,caption:T||w}).show();},error:function(V,U,W,X){return new dialog.Alert({message:V,callback:U||null,context:W||null,image:E,caption:X||w}).show();},warning:function(ba,Y,bb,bc){return new dialog.Alert({message:ba,callback:Y||null,context:bb||null,image:j,caption:bc||w}).show();},confirm:function(be,bd,bf,bg){return new dialog.Confirm({message:be,callback:bd||null,context:bf||null,caption:bg||w}).show();},prompt:function(bi,bl,bk,bj,bh){return new dialog.Prompt({message:bi,callback:bl||null,context:bk||null,value:bj||null,caption:bh||w}).show();},select:function(bq,br,bn,bm,bp,bo){return new dialog.Select({message:bq,allowCancel:typeof bp==F?bp:true,options:br,callback:bn||null,context:bm||null,caption:bo||w}).show();},form:function(bu,bt,bw,bv,bs){return new dialog.Form({message:bu,formData:bt,allowCancel:true,callback:bw||null,context:bv||null,caption:bs||w}).show();}},construct:function(by){qx.ui.window.Window.call(this);this.set({visibility:J,allowClose:false,allowMaximize:false,allowMinimize:false,alwaysOnTop:true,modal:true,movable:false,resizable:false,showClose:false,showMaximize:false,showMinimize:false,showStatusbar:false});this.setLayout(new qx.ui.layout.Grow());var bx=qx.core.Init.getApplication().getRoot();bx.add(this);this.__pF=new qx.ui.core.Blocker(bx);this.__pF.setOpacity(this.getBlockerOpacity());this.__pF.setColor(this.getBlockerColor());qx.ui.core.FocusHandler.getInstance().addRoot(this);bx.addListener(u,function(e){var bz=this.getBounds();this.set({marginTop:Math.round((qx.bom.Document.getHeight()-bz.height)/2),marginLeft:Math.round((qx.bom.Document.getWidth()-bz.width)/2)});},this);this.addListener(B,function(e){var bA=this.getBounds();this.set({marginTop:Math.round((qx.bom.Document.getHeight()-bA.height)/2),marginLeft:Math.round((qx.bom.Document.getWidth()-bA.width)/2)});},this);this._createWidgetContent();if(typeof by==N){this.set(by);}else if(typeof by==k){this.setMessage(by);};qx.core.Init.getApplication().getRoot().addListener(D,this._handleEscape,this);},properties:{callback:{check:n,nullable:true},context:{check:m,nullable:true},image:{check:t,nullable:true,apply:g},message:{check:t,nullable:true,apply:a},allowCancel:{check:d,init:true,event:M},cancelOnEscape:{check:d,init:true},show:{check:d,nullable:true,event:f,apply:H},useBlocker:{check:d,init:false},blockerColor:{check:t,init:c},blockerOpacity:{check:G,init:0.5}},events:{ok:q,cancel:q},members:{__yT:null,__jS:null,_image:null,_message:null,_okButton:null,_cancelButton:null,_createWidgetContent:function(){this.error(o);},_createDialogContainer:function(){this.__yT=new qx.ui.container.Composite().set({layout:new qx.ui.layout.VBox(10)});this.add(this.__yT);return this.__yT;},_createOkButton:function(){var bB=(this._okButton=new qx.ui.form.Button(this.tr(L)));bB.setIcon(z);bB.getChildControl(x).set({width:16,height:16,scale:true});bB.setAllowStretchX(false);bB.addListener(l,this._handleOk,this);this.addListener(B,function(){bB.focus();},this);return bB;},_createCancelButton:function(){var bC=(this._cancelButton=new qx.ui.form.Button(this.tr(C)));bC.setAllowStretchX(false);bC.setIcon(A);bC.getChildControl(x).set({width:16,height:16,scale:true});bC.addListener(l,this._handleCancel,this);this.bind(b,bC,y,{converter:function(bD){return bD?p:h;}});return bC;},_applyImage:function(bF,bE){this._image.setSource(bF);this._image.setVisibility(bF?p:h);},_applyMessage:function(bH,bG){this._message.setValue(bH);this._message.setVisibility(bH?p:h);},getDialogContainer:function(){if(!this.__yT){return this._createDialogContainer();};return this.__yT;},show:function(){if(this.isUseBlocker()||dialog.Dialog.__yS){var bK=qx.core.Init.getApplication().getRoot();var bJ=bK.getZIndex();var bL=bK.getWindows();for(var i=0;i<bL.length;i++ ){var bI=bL[i].getZIndex();bJ=Math.max(bJ,bI);};this.setZIndex(bJ+1);this.__pF.blockContent(bJ);};this.setVisibility(p);this.__jS=qx.ui.core.FocusHandler.getInstance().getActiveWidget();if(this.__jS){try{this.__jS.blur();}catch(e){};};return this;},hide:function(){if(this.isUseBlocker()||dialog.Dialog.__yS){this.__pF.unblock();};if(this.__jS){try{this.__jS.focus();}catch(e){};};this.setVisibility(J);return this;},promise:function(){return new Promise(function(bM,bN){this.setCallback(function(bO){this.resetCallback();bM(bO);}.bind(this));}.bind(this));},_handleOk:function(){this.hide();this.fireEvent(r);if(this.getCallback()){this.getCallback().call(this.getContext(),true);};this.resetCallback();},_handleCancel:function(){this.hide();this.fireEvent(s);if(this.isAllowCancel()&&this.getCallback()){this.getCallback().call(this.getContext());};this.resetCallback();},_handleEscape:function(e){if(this.isSeeable()&&this.isCancelOnEscape()&&e.getKeyCode()==27){this._handleCancel();};}}});})();(function(){var a="center",b="dialog.Alert",c="dialog.icon.info";qx.Class.define(b,{extend:dialog.Dialog,members:{_createWidgetContent:function(){var d=new qx.ui.container.Composite();d.setLayout(new qx.ui.layout.VBox(10));this.add(d);var f=new qx.ui.container.Composite();f.setLayout(new qx.ui.layout.HBox(10));d.add(f);this._image=new qx.ui.basic.Image(this.getImage()||c).set({scale:true,height:32,width:32});f.add(this._image);this._message=new qx.ui.basic.Label();this._message.setRich(true);this._message.setWidth(200);this._message.setAllowStretchX(true);f.add(this._message,{flex:1});var h=this._createOkButton();var g=new qx.ui.container.Composite();var i=new qx.ui.layout.HBox();i.setAlignX(a);g.setLayout(i);g.add(h);d.add(g);},_handleEscape:function(e){if(e.getKeyCode()==27){this._handleOk();};}}});})();(function(){var a="yesButtonIcon",b="changeYesButtonIcon",c="no",d="changeYesButtonLabel",e="icon",f="dialog.icon.cancel",g="label",h="center",i="dialog.icon.ok",j="changeNoButtonLabel",k="noButtonIcon",l="changeNoButtonIcon",m="No",n="excluded",o="Yes",p="noButtonLabel",q="dialog.Confirm",r="yesButtonLabel",s="String",t="execute",u="yes";qx.Class.define(q,{extend:dialog.Dialog,statics:{getInstance:function(){return this.superclass.getInstance(this.classname);}},properties:{yesButtonLabel:{check:s,nullable:false,init:o,event:d},yesButtonIcon:{check:s,nullable:true,init:i,event:b},noButtonLabel:{check:s,nullable:false,init:m,event:j},noButtonIcon:{check:s,nullable:true,init:f,event:l},allowCancel:{refine:true,init:false}},members:{_yesButton:null,_noButton:null,_createWidgetContent:function(){var z=new qx.ui.container.Composite();z.setLayout(new qx.ui.layout.VBox(10));this.add(z);var B=new qx.ui.container.Composite();B.setLayout(new qx.ui.layout.HBox(10));z.add(B);this._image=new qx.ui.basic.Image();this._image.setVisibility(n);B.add(this._image);this._message=new qx.ui.basic.Label();this._message.setRich(true);this._message.setWidth(200);this._message.setAllowStretchX(true);B.add(this._message,{flex:1});var w=(this._yesButton=new qx.ui.form.Button());w.setAllowStretchX(true);w.addListener(t,this._handleYes,this);this.bind(r,w,g);this.bind(a,w,e);w.getChildControl(e).set({width:16,height:16,scale:true});w.setLabel(this.tr(u));var y=(this._noButton=new qx.ui.form.Button());y.setAllowStretchX(true);y.addListener(t,this._handleNo,this);this.bind(p,y,g);this.bind(k,y,e);y.getChildControl(e).set({width:16,height:16,scale:true});y.setLabel(this.tr(c));var x=this._createCancelButton();var v=new qx.ui.container.Composite();var A=new qx.ui.layout.HBox(5);A.setAlignX(h);v.setLayout(A);v.add(w);v.add(y);v.add(x);z.add(v);},_handleYes:function(){this.hide();if(this.getCallback()){this.getCallback().call(this.getContext(),true);};this.resetCallback();},_handleNo:function(){this.hide();if(this.getCallback()){this.getCallback().call(this.getContext(),false);};}}});})();(function(){var a="keyup",b="keypress",c="enter",d="center",f="RegExp",g="_applyMaxLength",h="_applyFilter",i="_applyPlaceholder",j="appear",k="value",l="dialog.Prompt",m="changeValue",n="ok",o="Integer",p="String";qx.Class.define(l,{extend:dialog.Dialog,properties:{value:{check:p,nullable:true,event:m},placeholder:{check:p,nullable:true,apply:i},filter:{check:f,nullable:true,apply:h},maxLength:{check:o,nullable:true,apply:g}},members:{_textField:null,_createWidgetContent:function(){var q=new qx.ui.container.Composite();q.setLayout(new qx.ui.layout.VBox(10));this.add(q);var r=new qx.ui.container.Composite();r.setLayout(new qx.ui.layout.HBox(10));q.add(r);this._message=new qx.ui.basic.Label();this._message.setRich(true);this._message.setWidth(200);this._message.setAllowStretchX(true);r.add(this._message,{flex:1});this._textField=new qx.ui.form.TextField();this.bind(k,this._textField,k);this._textField.bind(k,this,k);this._textField.addListener(j,function(e){qx.lang.Function.delay(this.focus,1,this);},this._textField);this._textField.addListener(a,function(e){if(e.getKeyCode()==13){return this._handleOk();};if(e.getKeyCode()==27){return this._handleCancel();};},this);q.add(this._textField);this._textField.addListener(b,function(e){if(e.getKeyIdentifier().toLowerCase()==c){this.hide();this.fireEvent(n);if(this.getCallback()){this.getCallback().call(this.getContext(),this._textField.getValue());};};},this);var s=new qx.ui.container.Composite();var t=new qx.ui.layout.HBox(5);t.setAlignX(d);s.setLayout(t);s.add(this._createOkButton());s.add(this._createCancelButton());q.add(s);},_applyPlaceholder:function(v,u){this._textField.setPlaceholder(v);},_applyFilter:function(x,w){this._textField.setFilter(x);},_applyMaxLength:function(z,y){this._textField.setMaxLength(z);},_handleOk:function(){this.hide();if(this.getCallback()){this.getCallback().call(this.getContext(),this.getValue());};}}});})();(function(){var a="",b="center",c="Array",d="changeOptions",e="dialog.Select",f="execute";qx.Class.define(e,{extend:dialog.Dialog,properties:{options:{check:c,nullable:false,event:d}},members:{_createWidgetContent:function(){var g=new qx.ui.container.Composite();g.setLayout(new qx.ui.layout.VBox(10));this.add(g);var h=new qx.ui.container.Composite();h.setLayout(new qx.ui.layout.HBox(10));g.add(h);this._message=new qx.ui.basic.Label();this._message.setRich(true);this._message.setWidth(200);this._message.setAllowStretchX(true);h.add(this._message,{flex:1});var i=new qx.ui.container.Composite();var j=new qx.ui.layout.HBox(5);j.setAlignX(b);i.setLayout(j);this.addListener(d,function(event){i.removeAll();var l=event.getData();l.forEach(function(n){var m=new qx.ui.form.Button(n.label,n.icon);m.setAllowStretchX(true);var o=a+n.value;m.addListener(f,function(){this._handleSelection(o);},this);i.add(m);},this);var k=this._createCancelButton();i.add(k);},this);g.add(i);},_handleSelection:function(p){this.hide();if(this.getCallback()){this.getCallback().call(this.getContext(),p);};}}});})();(function(){var a="bold",b="_buttonRow",c="qx.ui.form.renderer.Single",d="form-renderer-label",e="qx.dynlocale",f="top",g="left",h="right";qx.Class.define(c,{extend:qx.ui.form.renderer.AbstractRenderer,construct:function(k){var j=new qx.ui.layout.Grid();j.setSpacing(6);j.setColumnFlex(1,1);j.setColumnAlign(0,h,f);this._setLayout(j);qx.ui.form.renderer.AbstractRenderer.call(this,k);},members:{_row:0,_buttonRow:null,_onFormChange:function(){if(this._buttonRow){this._buttonRow.destroy();this._buttonRow=null;};this._row=0;qx.ui.form.renderer.AbstractRenderer.prototype._onFormChange.call(this);},addItems:function(m,p,l){if(l!=null){this._add(this._createHeader(l),{row:this._row,column:0,colSpan:2});this._row++ ;};for(var i=0;i<m.length;i++ ){var n=this._createLabel(p[i],m[i]);this._add(n,{row:this._row,column:0});var o=m[i];n.setBuddy(o);this._add(o,{row:this._row,column:1});this._row++ ;this._connectVisibility(o,n);if(qx.core.Environment.get(e)){this._names.push({name:p[i],label:n,item:m[i]});};};},addButton:function(q){if(this._buttonRow==null){this._buttonRow=new qx.ui.container.Composite();this._buttonRow.setMarginTop(5);var r=new qx.ui.layout.HBox();r.setAlignX(h);r.setSpacing(5);this._buttonRow.setLayout(r);this._add(this._buttonRow,{row:this._row,column:0,colSpan:2});this._row++ ;};this._buttonRow.add(q);},getLayout:function(){return this._getLayout();},_createLabel:function(name,s){var t=new qx.ui.basic.Label(this._createLabelText(name,s));this._labels.push(t);t.setRich(true);t.setAppearance(d);return t;},_createHeader:function(v){var u=new qx.ui.basic.Label(v);this._labels.push(u);u.setFont(a);if(this._row!=0){u.setMarginTop(10);};u.setAlignX(g);return u;}},destruct:function(){if(this._buttonRow){this._buttonRow.removeAll();this._disposeObjects(b);};}});})();(function(){var a="excluded",b="dialog.FormRenderer",c="left",d="horizontal",e="orientation";qx.Class.define(b,{extend:qx.ui.form.renderer.Single,implement:qx.ui.form.renderer.IFormRenderer,members:{_row:0,_buttonRow:null,addItems:function(h,l,g){if(g!==null){this._add(this._createHeader(g),{row:this._row,column:0,colSpan:2});this._row++ ;};for(var i=0;i<h.length;i++ ){var k=h[i],f,j;if(k instanceof qx.ui.form.RadioGroup){if(k.getUserData(e)==d){f=this._createHBoxForRadioGroup(k);}else {f=this._createWidgetForRadioGroup(k);};}else {f=k;};if(l[i]&&k.getUserData(a)){j=new qx.ui.basic.Label(l[i]);j.setRich(true);this._add(j,{row:this._row,column:0,colSpan:2});}else if(k instanceof qx.ui.form.CheckBox){this._add(f,{row:this._row,column:0,colSpan:2});this._getLayout().getCellWidget(this._row,0).setAlignX(c);}else if(!l[i]){this._add(f,{row:this._row,column:0,colSpan:2});}else {j=this._createLabel(l[i],k);j.setRich(true);this._add(j,{row:this._row,column:0});this._add(f,{row:this._row,column:1});};this._row++ ;};},_createWidgetForRadioGroup:function(o){var n=new qx.ui.container.Composite(new qx.ui.layout.VBox(5));var m=o.getItems();for(var i=0;i<m.length;i++ ){n.add(m[i]);};return n;},_createHBoxForRadioGroup:function(r){var q=new qx.ui.container.Composite(new qx.ui.layout.HBox(5));var p=r.getItems();for(var i=0;i<p.length;i++ ){q.add(p[i]);};return q;}}});})();(function(){var a="%1 is not a number.",b="%1 is not a color! %2",c="",d="%1 is not a string.",f="number",g="'%1' is not an email address.",h="qx.util.Validate",i="%1 is not an url.",j="%1 is not in %2",k="%1 does not fit %2.",l="string",m="%1 is not in the range from [%2, %3].",n="Validation Error";qx.Class.define(h,{statics:{number:function(o){return function(p){qx.util.Validate.checkNumber(p,null,o);};},checkNumber:function(r,s,q){q=q||qx.locale.Manager.tr(a,r);if((typeof r!==f&&(!(r instanceof Number)))||(!(isFinite(r)))){throw new qx.core.ValidationError(n,q);};},email:function(t){return function(u){qx.util.Validate.checkEmail(u,null,t);};},checkEmail:function(x,y,v){v=v||qx.locale.Manager.tr(g,(x||c));var w=/^([A-Za-z0-9_\-.+])+@([A-Za-z0-9_\-.])+\.([A-Za-z]{2,})$/;if(w.test(x)===false){throw new qx.core.ValidationError(n,v);};},string:function(z){return function(A){qx.util.Validate.checkString(A,null,z);};},checkString:function(C,D,B){B=B||qx.locale.Manager.tr(d,C);if(typeof C!==l&&(!(C instanceof String))){throw new qx.core.ValidationError(n,B);};},url:function(E){return function(F){qx.util.Validate.checkUrl(F,null,E);};},checkUrl:function(I,J,G){G=G||qx.locale.Manager.tr(i,I);var H=/([A-Za-z0-9])+:\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/;if(!H.test(I)){throw new qx.core.ValidationError(n,G);};},color:function(K){return function(L){qx.util.Validate.checkColor(L,null,K);};},checkColor:function(O,P,N){try{qx.util.ColorUtil.stringToRgb(O);}catch(e){var M=N||qx.locale.Manager.tr(b,O,e);throw new qx.core.ValidationError(n,M);};},range:function(S,Q,R){return function(U){var T=R||qx.locale.Manager.tr(m,U,S,Q);if(U<S||U>Q){throw new qx.core.ValidationError(n,T);};};},inArray:function(V,W){return function(Y){var X=W||qx.locale.Manager.tr(j,Y,V);if(V.indexOf(Y)===-1){throw new qx.core.ValidationError(n,X);};};},regExp:function(bb,ba){return function(bd){var bc=ba||qx.locale.Manager.tr(k,bd,bb);if(!bb.test(bd)){throw new qx.core.ValidationError(n,bc);};};}}});})();(function(){var a="changeModel",b="Invalid '",c="function",d="qx.core.Object",f="Map",g=")",h=';',i="dialog.Form",j="groupheader",k="excluded",l="orientation",m="key",n="Integer",o="textarea",p="string",q="execute",r="password",s="Invalid string validator.",t="center",u="value",v="passwordfield",w="selection",x="radiogroup",y='proxy = ',z="Invalid form field type:",A="' event handler for form element '",B="",C="Invalid validator.",D="(",E="dialog.icon.ok",F="textfield",G="valid",H="enabled",I="selectbox",J="changeFormData",K="date",L="autocomplete",M="/",N="combobox",O="spinner",P="Invalid proxy name",Q="'.",R="label",S="checkbox",T="datefield",U='Value is invalid',V="_applyFormData",W="OK";qx.Class.define(i,{extend:dialog.Dialog,properties:{formData:{check:f,nullable:true,event:J,apply:V},model:{check:d,nullable:true,event:a},labelColumnWidth:{check:n,nullable:false,init:100}},members:{_formContainer:null,_form:null,_formValidator:null,_formController:null,getForm:function(){return this._form;},_createWidgetContent:function(){var bc=new qx.ui.container.Composite();bc.setLayout(new qx.ui.layout.VBox(10));this.add(bc);var be=new qx.ui.container.Composite();be.setLayout(new qx.ui.layout.HBox(10));bc.add(be);this._message=new qx.ui.basic.Label();this._message.setRich(true);this._message.setMinWidth(200);this._message.setAllowStretchX(true);be.add(this._message,{flex:1});var Y=new dialog.FormTag();this._formContainer=new qx.ui.container.Composite();this._formContainer.setLayout(new qx.ui.layout.Grow());Y.add(this._formContainer,{flex:1});bc.add(Y,{flex:1});var X=new qx.ui.container.Composite();var bd=new qx.ui.layout.HBox(5);bd.setAlignX(t);X.setLayout(bd);bc.add(X);var ba=this._createOkButton();X.add(ba);var bb=this._createCancelButton();X.add(bb);},_applyFormData:function(formData,old){if(this._formController){try{this.getModel().removeAllBindings();this._formController.dispose();}catch(e){};};if(this._form){try{this._form.getValidationManager().removeAllBindings();this._form.dispose();}catch(e){};};this._formContainer.removeAll();if(!formData){return;};if(this.getModel()){this.getModel().removeAllBindings();this.getModel().dispose();};var modelData={};for(var key in formData){modelData[key]=formData[key].value!==undefined?formData[key].value:null;};var model=qx.data.marshal.Json.createModel(modelData);this.setModel(model);this._form=new qx.ui.form.Form();this._formController=new qx.data.controller.Object(this.getModel());this._onFormReady(this._form);for(var key in formData){var fieldData=formData[key];var formElement=null;switch(fieldData.type.toLowerCase()){case j:this._form.addGroupHeader(fieldData.value);break;case o:formElement=new qx.ui.form.TextArea();formElement.setHeight(fieldData.lines*16);formElement.setLiveUpdate(true);break;case F:formElement=new qx.ui.form.TextField();if(fieldData.maxLength)formElement.setMaxLength(fieldData.maxLength);formElement.setLiveUpdate(true);break;case T:case K:formElement=new qx.ui.form.DateField();if(fieldData.dateFormat){formElement.setDateFormat(fieldData.dateFormat);};break;case v:case r:formElement=new qx.ui.form.PasswordField();formElement.getContentElement().setAttribute(L,r);break;case N:formElement=new qx.ui.form.ComboBox();fieldData.options.forEach(function(bf){var bg=new qx.ui.form.ListItem(bf.label,bf.icon);formElement.add(bg);});break;case I:formElement=new qx.ui.form.SelectBox();model=qx.data.marshal.Json.createModel(fieldData.options);new qx.data.controller.List(model,formElement,R);break;case x:formElement=new qx.ui.form.RadioGroup();if(fieldData.orientation){formElement.setUserData(l,fieldData.orientation);};fieldData.options.forEach(function(bh){var bi=new qx.ui.form.RadioButton(bh.label);bi.setUserData(u,bh.value!==undefined?bh.value:bh.label);formElement.add(bi);},this);break;case R:formElement=new qx.ui.form.TextField();formElement.setUserData(k,true);break;case S:formElement=new qx.ui.form.CheckBox(fieldData.label);break;case O:formElement=new qx.ui.form.Spinner();if(fieldData.min){formElement.setMinimum(fieldData.min);};if(fieldData.max){formElement.setMaximum(fieldData.max);};if(fieldData.step){formElement.setSingleStep(fieldData.step);};if(fieldData.fractionsDigits){var fd=fieldData.fractionsDigits;var nf=new qx.util.format.NumberFormat();if(fd.min){nf.setMinimumFractionDigits(fd.min);};if(fd.max){nf.setMaximumFractionDigits(fd.max);};formElement.setNumberFormat(nf);};break;default:this.error(z+fieldData.type);};formElement.setUserData(m,key);var _this=this;if(typeof fieldData.type==p){switch(fieldData.type.toLowerCase()){case o:case F:case v:case N:case T:case O:this._formController.addTarget(formElement,u,key,true,null,{converter:function(bj){_this._form.getValidationManager().validate();return bj;}});break;case S:this._formController.addTarget(formElement,u,key,true,null);break;case I:this._formController.addTarget(formElement,w,key,true,{converter:qx.lang.Function.bind(function(bm){var bl=null;var bk=this.getSelectables();bk.forEach(function(bn){if(bn.getModel().getValue()===bm){bl=bn;};},this);if(!bl){return [bk[0]];};return [bl];},formElement)},{converter:qx.lang.Function.bind(function(bo){var bp=bo[0].getModel().getValue();return bp;},formElement)});break;case x:this._formController.addTarget(formElement,w,key,true,{converter:qx.lang.Function.bind(function(bs){var bq=this.getSelectables();var br=[];if(bs){bq.forEach(function(bt){var bu=bt.getUserData(u);if(bu===bs){br=[bt];};},this);};return br;},formElement)},{converter:function(bv){var bw=bv[0].getUserData(u);return bw;}});break;};};var validator=null;if(formElement&&fieldData.validation){if(fieldData.validation.required){formElement.setRequired(true);};if(fieldData.validation.validator){validator=fieldData.validation.validator;if(typeof validator==p){if(qx.util.Validate[validator]){validator=qx.util.Validate[validator]();}else if(validator.charAt(0)==M){validator=qx.util.Validate.regExp(new RegExp(validator.substr(1,validator.length-2)),fieldData.validation.errorMessage);}else {this.error(s);};}else if(!(validator instanceof qx.ui.form.validation.AsyncValidator)&&typeof validator!==c){this.error(C);};};if(qx.lang.Type.isString(fieldData.validation.proxy)&&qx.lang.Type.isString(fieldData.validation.method)){var proxy=fieldData.validation.proxy.replace(/;\n/g,B);try{eval(y+proxy+h);}catch(e){this.warn(P);};if(typeof proxy==c){var method=fieldData.validation.method;var message=fieldData.validation.invalidMessage;var _this=this;var validationFunc=function(bx,by){if(!bx.__yU){bx.__yU=true;proxy(method,[by],function(bz){bx.setValid(bz,message||this.tr(U));bx.__yU=false;});};};validator=new qx.ui.form.validation.AsyncValidator(validationFunc);};};};if(fieldData.width!==undefined){formElement.setWidth(fieldData.width);};if(fieldData.placeholder!==undefined){formElement.setPlaceholder(fieldData.placeholder);};if(fieldData.enabled!==undefined){formElement.setEnabled(fieldData.enabled);};if(qx.lang.Type.isObject(fieldData.events)){for(var type in fieldData.events){try{var func=eval(D+fieldData.events[type]+g);if(!qx.lang.Type.isFunction(func)){throw new Error();};formElement.addListener(type,func,formElement);}catch(e){this.warn(b+type+A+key+Q);};};};var label=fieldData.label;this._form.add(formElement,label,validator);};var view=new dialog.FormRenderer(this._form);view.getLayout().setColumnFlex(0,0);view.getLayout().setColumnMaxWidth(0,this.getLabelColumnWidth());view.getLayout().setColumnFlex(1,1);view.setAllowGrowX(true);this._formContainer.add(view);this._form.getValidationManager().validate();},_createOkButton:function(){var bA=(this._okButton=new qx.ui.form.Button(this.tr(W)));bA.setIcon(E);bA.setAllowStretchX(false);bA.addListener(q,this._handleOk,this);return bA;},_onFormReady:function(bB){bB.getValidationManager().bind(G,this._okButton,H,{converter:function(bC){return bC||false;}});},_handleOk:function(){this.hide();if(this.getCallback()){this.getCallback().call(this.getContext(),qx.util.Serializer.toNativeObject(this.getModel()));};this.resetCallback();}}});})();(function(){var a="form",b="dialog.FormTag";qx.Class.define(b,{extend:qx.ui.container.Composite,construct:function(c){qx.ui.container.Composite.call(this,c||new qx.ui.layout.VBox());},members:{_createContentElement:function(){return new qx.html.Element(a);}}});})();(function(){var a="input",b="Boolean",c="px",d="nowrap",f="_applyWrap",g="-1",h="_applyMinimalLineHeight",i="Integer",j="textarea",k="auto",l="0",m="-9999px",n="roll",o="whiteSpace",p="visible",q="browser.documentmode",r="resize",s="",t="width",u="_applyAutoSize",v="appear",w="tabIndex",x='name',y='autoSize is ignored when the height property is set. If you want to set an initial height, use the minHeight property instead.',z="normal",A="qx.ui.form.TextArea",B="wheel",C='id',D="hidden",E="overflowY",F="absolute";qx.Class.define(A,{extend:qx.ui.form.AbstractField,construct:function(G){qx.ui.form.AbstractField.call(this,G);this.initWrap();this.addListener(n,this._onRoll,this);this.addListener(r,this._onResize,this);},properties:{wrap:{check:b,init:true,apply:f},appearance:{refine:true,init:j},singleStep:{check:i,init:20},minimalLineHeight:{check:i,apply:h,init:4},autoSize:{check:b,apply:u,init:false}},members:{__yV:null,__yW:null,__yX:null,setValue:function(H){H=qx.ui.form.AbstractField.prototype.setValue.call(this,H);this.__yY();return H;},_onRoll:function(e){if(e.getPointerType()!=B){return;};var I=this.getContentElement();var scrollY=I.getScrollY();I.scrollToY(scrollY+(e.getDelta().y/30)*this.getSingleStep());var J=I.getScrollY();if(J!=scrollY){e.stop();};},_onResize:function(e){if(this.__yV){this.__yV.dispose();this.__yV=null;this.__yY();};},__yY:function(){if(this.isAutoSize()){var M=this.__za();if(M&&this.getBounds()){this.__yX=this.__yX||this._getAreaHeight();var O=this._getScrolledAreaHeight();if(this.getMaxHeight()){var K=this.getInsets();var L=-K.top+this.getMaxHeight()-K.bottom;if(O>L){this.getContentElement().setStyle(E,k);}else {this.getContentElement().setStyle(E,D);};};var N=Math.max(O,this.__yX);this._setAreaHeight(N);}else {this.getContentElement().addListenerOnce(v,function(){this.__yY();},this);};};},_getAreaHeight:function(){return this.getInnerSize().height;},_setAreaHeight:function(P){if(this._getAreaHeight()!==P){this.__yW=P;qx.ui.core.queue.Layout.add(this);qx.ui.core.queue.Manager.flush();this.__zd();};},_getScrolledAreaHeight:function(){var R=this.__za();var Q=R.getDomElement();if(Q){if(!Q.parentNode){qx.html.Element.flush();return this._getScrolledAreaHeight();};{R.setWrap(!this.getWrap(),true);};R.setWrap(this.getWrap(),true);{Q.style.overflow=D;};if(qx.core.Environment.get(q)>=8){Q.style.overflow=p;Q.style.overflowX=D;};R.setValue(this.getValue()||s);{Q.style.height=k;qx.html.Element.flush();Q.style.height=l;};this.__zc(R);if(qx.core.Environment.get(q)==8){if(!Q.scrollTop){qx.html.Element.flush();};};return Q.scrollTop;};},__za:function(){this.__yV=this.__yV||this.__zb();return this.__yV;},__zb:function(){var U,T,V,S;U=this.getContentElement();if(!U.getDomElement()){return null;};V=qx.bom.Element.clone(U.getDomElement());S=new qx.html.Input(j);S.useElement(V);T=S;T.setStyles({position:F,top:0,left:m,height:0,overflow:D},true);T.removeAttribute(C);T.removeAttribute(x);T.setAttribute(w,g);T.setValue(U.getValue()||s);T.insertBefore(U);this.__zc(T);return T;},__zc:function(W){W=W.getDomElement();if(W){W.scrollTop=10000;};},_createInputElement:function(){return new qx.html.Input(j,{overflowX:k,overflowY:k});},_applyWrap:function(ba,X){this.getContentElement().setWrap(ba);if(this._placeholder){var Y=ba?z:d;this._placeholder.setStyle(o,Y);};this.__yY();},_applyMinimalLineHeight:function(){qx.ui.core.queue.Layout.add(this);},_applyAutoSize:function(bc,bb){{};if(bc){this.__yY();this.addListener(a,this.__yY,this);if(!this.getBounds()){this.addListenerOnce(v,function(){this.getContentElement().setStyle(E,D);});}else {this.getContentElement().setStyle(E,D);};}else {this.removeListener(a,this.__yY);this.getContentElement().setStyle(E,k);};},_applyDimension:function(bd){qx.ui.form.AbstractField.prototype._applyDimension.call(this);{};if(bd===this.getMaxHeight()){this.__yY();};},__zd:function(){var content=this.getContentElement();var bf=content.getDomElement();var be=content.getStyle(t);content.setStyle(t,parseInt(be,10)+1000+c,true);if(bf){qx.bom.element.Dimension.getWidth(bf);};content.setStyle(t,be,true);},__ze:function(){if(this.isAutoSize()&&this.getHeight()){this.warn(y);};},_getContentHint:function(){var bg=qx.ui.form.AbstractField.prototype._getContentHint.call(this);bg.height=bg.height*this.getMinimalLineHeight();bg.width=this._getTextSize().width*20;if(this.isAutoSize()){bg.height=this.__yW||bg.height;};return bg;}},destruct:function(){this.setAutoSize(false);if(this.__yV){this.__yV.dispose();};}});})();(function(){var a="qx.ui.form.IDateForm",b="qx.event.type.Data";qx.Interface.define(a,{extend:qx.ui.form.IField,events:{"changeValue":b},members:{setValue:function(c){return arguments.length==1;},resetValue:function(){},getValue:function(){}}});})();(function(){var a="popupOpen",b="blur",c="qx.util.format.DateFormat",d="Escape",f="changeValue",g="Left",h="Down",i="button",j="Up",k="execute",l="qx.event.type.Data",m="inner",n="list",o="changeLocale",p="visible",q="middle",r="String",s="_applyDateFormat",t="pointerup",u="",v="changeVisibility",w="textfield",x="qx.dynlocale",y="medium",z="focusin",A="popup",B="qx.ui.form.DateField",C="focusout",D="datefield",E="_applyPlaceholder",F="hidden",G="tap",H="Right";qx.Class.define(B,{extend:qx.ui.core.Widget,include:[qx.ui.core.MRemoteChildrenHandling,qx.ui.form.MForm],implement:[qx.ui.form.IForm,qx.ui.form.IDateForm],construct:function(){qx.ui.core.Widget.call(this);var J=new qx.ui.layout.HBox();this._setLayout(J);J.setAlignY(q);var I=this._createChildControl(w);this._createChildControl(i);this.addListener(G,this._onTap,this);this.addListener(b,this._onBlur,this);this.addListener(z,function(e){I.fireNonBubblingEvent(z,qx.event.type.Focus);},this);this.addListener(C,function(e){I.fireNonBubblingEvent(C,qx.event.type.Focus);},this);this._setDefaultDateFormat();this._addLocaleChangeListener();},events:{"changeValue":l},properties:{dateFormat:{check:c,apply:s},placeholder:{check:r,nullable:true,apply:E},appearance:{refine:true,init:D},focusable:{refine:true,init:true},width:{refine:true,init:120}},statics:{__hc:null,__zf:null,getDefaultDateFormatter:function(){var K=qx.locale.Date.getDateFormat(y).toString();if(K==this.__hc){return this.__zf;};if(this.__zf){this.__zf.dispose();};this.__zf=new qx.util.format.DateFormat(K,qx.locale.Manager.getInstance().getLocale());this.__hc=K;return this.__zf;}},members:{__zg:null,_forwardStates:{focused:true,invalid:true},_setDefaultDateFormat:function(){this.setDateFormat(qx.ui.form.DateField.getDefaultDateFormatter());},_addLocaleChangeListener:function(){if(qx.core.Environment.get(x)){this.__zg=qx.locale.Manager.getInstance().addListener(o,function(){this._setDefaultDateFormat();},this);};},setValue:function(N){var L=this.getChildControl(w);L.setValue(this.getDateFormat().format(N));var M=this.getChildControl(n);M.setValue(N);},getValue:function(){var O=this.getChildControl(w).getValue();try{if(O==null||O.length==0){return null;};return this.getDateFormat().parse(O);}catch(P){return null;};},resetValue:function(){var Q=this.getChildControl(w);Q.setValue(u);var R=this.getChildControl(n);R.setValue(null);},open:function(){var S=this.getChildControl(A);S.placeToWidget(this,true);S.show();},close:function(){this.getChildControl(A).hide();},toggle:function(){var T=this.getChildControl(A).isVisible();if(T){this.close();}else {this.open();};},_applyDateFormat:function(Y,W){if(!W){return;};try{var V=this.getChildControl(w);var X=V.getValue();if(X!=null){var U=W.parse(X);V.setValue(Y.format(U));};}catch(ba){};},_applyPlaceholder:function(bc,bb){this.getChildControl(w).setPlaceholder(bc);},_createChildControlImpl:function(bf,be){var bd;switch(bf){case w:bd=new qx.ui.form.TextField();bd.setFocusable(false);bd.addState(m);bd.addListener(f,this._onTextFieldChangeValue,this);bd.addListener(b,this.close,this);this._add(bd,{flex:1});break;case i:bd=new qx.ui.form.Button();bd.setFocusable(false);bd.setKeepActive(true);bd.addState(m);bd.addListener(k,this.toggle,this);this._add(bd);break;case n:bd=new qx.ui.control.DateChooser();bd.setFocusable(false);bd.setKeepFocus(true);bd.addListener(k,this._onChangeDate,this);break;case A:bd=new qx.ui.popup.Popup(new qx.ui.layout.VBox);bd.setAutoHide(false);bd.add(this.getChildControl(n));bd.addListener(t,this._onChangeDate,this);bd.addListener(v,this._onPopupChangeVisibility,this);break;};return bd||qx.ui.core.Widget.prototype._createChildControlImpl.call(this,bf);},_onChangeDate:function(e){var bg=this.getChildControl(w);var bh=this.getChildControl(n).getValue();bg.setValue(this.getDateFormat().format(bh));this.close();},_onTap:function(e){this.close();},_onBlur:function(e){this.close();},_onKeyPress:function(e){var bi=e.getKeyIdentifier();if(bi==h&&e.isAltPressed()){this.toggle();e.stopPropagation();return;};var bj=this.getChildControl(A);if(bj.getVisibility()==F){return;};if(bi==d){this.close();e.stopPropagation();return;};if(bi===g||bi===H||bi===h||bi===j){e.preventDefault();};this.getChildControl(n).handleKeyPress(e);},_onPopupChangeVisibility:function(e){e.getData()==p?this.addState(a):this.removeState(a);var bl=this.getChildControl(A);if(bl.isVisible()){var bm=this.getChildControl(n);var bk=this.getValue();bm.setValue(bk);};},_onTextFieldChangeValue:function(e){var bn=this.getValue();if(bn!=null){var bo=this.getChildControl(n);bo.setValue(bn);};this.fireDataEvent(f,this.getValue());},isEmpty:function(){var bp=this.getChildControl(w).getValue();return bp==null||bp==u;},focus:function(){qx.ui.core.Widget.prototype.focus.call(this);this.getChildControl(w).getFocusElement().focus();}},destruct:function(){if(qx.core.Environment.get(x)){if(this.__zg){qx.locale.Manager.getInstance().removeListenerById(this.__zg);};};}});})();(function(){var a="PageUp",b="day",c="lastMonth",d="yyyyMMMM",f="Next month",g="Escape",h="Left",j="last-month-button",k="default",l="today",m="weekday",n="changeValue",o="Space",p="selected",q="Down",r="Integer",s="qx.ui.control.DateChooser",t="Up",u="Enter",v="PageDown",w="day#",z="changeLocale",A="Next year",B="ww",C="_applyValue",D="next-month-button",E="next-month-button-tooltip",F="weekday#",G="last-month-button-tooltip",H="datechooser",I="header",J="week",K="lastYear",L="pointerup",M="otherMonth",N="month-year-label",O="nextYear",P="last-year-button",Q="changeShownYear",R="week#",S="qx.dynlocale",T="next-year-button",U="Last month",V="Right",W="Last year",X="MMMM yyyy",Y="EE",bs="week#0",bt="keypress",bu="",bo="navigation-bar",bp="nextMonth",bq="last-year-button-tooltip",br="next-year-button-tooltip",by="Date",bz="tap",bA="pointerdown",bB="date-pane",bv="dbltap",bw="weekend",bx="changeShownMonth";qx.Class.define(s,{extend:qx.ui.core.Widget,include:[qx.ui.core.MExecutable,qx.ui.form.MForm],implement:[qx.ui.form.IExecutable,qx.ui.form.IForm,qx.ui.form.IDateForm],construct:function(bC){qx.ui.core.Widget.call(this);var bF=new qx.ui.layout.VBox();this._setLayout(bF);this._createChildControl(bo);this._createChildControl(bB);this.addListener(bt,this._onKeyPress);var bD=qx.ui.control.DateChooser;if(!bD.MONTH_YEAR_FORMAT){bD.MONTH_YEAR_FORMAT=qx.locale.Date.getDateTimeFormat(d,X);};var bE=(bC!=null)?bC:new Date();this.showMonth(bE.getMonth(),bE.getFullYear());if(qx.core.Environment.get(S)){qx.locale.Manager.getInstance().addListener(z,this._updateDatePane,this);};this.addListener(bA,this._onPointerUpDown,this);this.addListener(L,this._onPointerUpDown,this);},statics:{MONTH_YEAR_FORMAT:null,WEEKDAY_FORMAT:Y,WEEK_FORMAT:B},properties:{appearance:{refine:true,init:H},width:{refine:true,init:200},height:{refine:true,init:150},shownMonth:{check:r,init:null,nullable:true,event:bx},shownYear:{check:r,init:null,nullable:true,event:Q},value:{check:by,init:null,nullable:true,event:n,apply:C}},members:{__zh:null,__zi:null,__zj:null,_forwardStates:{invalid:true},_createChildControlImpl:function(bK,bH){var bG;switch(bK){case bo:bG=new qx.ui.container.Composite(new qx.ui.layout.HBox());bG.add(this.getChildControl(P));bG.add(this.getChildControl(j));bG.add(this.getChildControl(N),{flex:1});bG.add(this.getChildControl(D));bG.add(this.getChildControl(T));this._add(bG);break;case bq:bG=new qx.ui.tooltip.ToolTip(this.tr(W));break;case P:bG=new qx.ui.toolbar.Button();bG.addState(K);bG.setFocusable(false);bG.setToolTip(this.getChildControl(bq));bG.addListener(bz,this._onNavButtonTap,this);break;case G:bG=new qx.ui.tooltip.ToolTip(this.tr(U));break;case j:bG=new qx.ui.toolbar.Button();bG.addState(c);bG.setFocusable(false);bG.setToolTip(this.getChildControl(G));bG.addListener(bz,this._onNavButtonTap,this);break;case E:bG=new qx.ui.tooltip.ToolTip(this.tr(f));break;case D:bG=new qx.ui.toolbar.Button();bG.addState(bp);bG.setFocusable(false);bG.setToolTip(this.getChildControl(E));bG.addListener(bz,this._onNavButtonTap,this);break;case br:bG=new qx.ui.tooltip.ToolTip(this.tr(A));break;case T:bG=new qx.ui.toolbar.Button();bG.addState(O);bG.setFocusable(false);bG.setToolTip(this.getChildControl(br));bG.addListener(bz,this._onNavButtonTap,this);break;case N:bG=new qx.ui.basic.Label();bG.setAllowGrowX(true);bG.setAnonymous(true);break;case J:bG=new qx.ui.basic.Label();bG.setAllowGrowX(true);bG.setAllowGrowY(true);bG.setSelectable(false);bG.setAnonymous(true);bG.setCursor(k);break;case m:bG=new qx.ui.basic.Label();bG.setAllowGrowX(true);bG.setAllowGrowY(true);bG.setSelectable(false);bG.setAnonymous(true);bG.setCursor(k);break;case b:bG=new qx.ui.basic.Label();bG.setAllowGrowX(true);bG.setAllowGrowY(true);bG.setCursor(k);bG.addListener(bA,this._onDayTap,this);bG.addListener(bv,this._onDayDblTap,this);break;case bB:var bJ=new qx.ui.layout.Grid();bG=new qx.ui.container.Composite(bJ);for(var i=0;i<8;i++ ){bJ.setColumnFlex(i,1);};for(var i=0;i<7;i++ ){bJ.setRowFlex(i,1);};var bI=this.getChildControl(bs);bI.addState(I);bG.add(bI,{column:0,row:0});this.__zh=[];for(var i=0;i<7;i++ ){bI=this.getChildControl(F+i);bG.add(bI,{column:i+1,row:0});this.__zh.push(bI);};this.__zi=[];this.__zj=[];for(var y=0;y<6;y++ ){var bI=this.getChildControl(R+(y+1));bG.add(bI,{column:0,row:y+1});this.__zj.push(bI);for(var x=0;x<7;x++ ){var bI=this.getChildControl(w+((y*7)+x));bG.add(bI,{column:x+1,row:y+1});this.__zi.push(bI);};};this._add(bG);break;};return bG||qx.ui.core.Widget.prototype._createChildControlImpl.call(this,bK);},_applyValue:function(bN,bM){if((bN!=null)&&(this.getShownMonth()!=bN.getMonth()||this.getShownYear()!=bN.getFullYear())){this.showMonth(bN.getMonth(),bN.getFullYear());}else {var bL=(bN==null)?-1:bN.getDate();for(var i=0;i<6*7;i++ ){var bO=this.__zi[i];if(bO.hasState(M)){if(bO.hasState(p)){bO.removeState(p);};}else {var bP=parseInt(bO.getValue(),10);if(bP==bL){bO.addState(p);}else if(bO.hasState(p)){bO.removeState(p);};};};};},_onPointerUpDown:function(e){var bQ=e.getTarget();if(bQ==this.getChildControl(bo)||bQ==this.getChildControl(bB)){e.stopPropagation();return;};},_onNavButtonTap:function(bS){var bR=this.getShownYear();var bT=this.getShownMonth();switch(bS.getCurrentTarget()){case this.getChildControl(P):bR-- ;break;case this.getChildControl(j):bT-- ;if(bT<0){bT=11;bR-- ;};break;case this.getChildControl(D):bT++ ;if(bT>=12){bT=0;bR++ ;};break;case this.getChildControl(T):bR++ ;break;};this.showMonth(bT,bR);},_onDayTap:function(bU){var bV=bU.getCurrentTarget().dateTime;this.setValue(new Date(bV));},_onDayDblTap:function(){this.execute();},_onKeyPress:function(bY){var ca=null;var cb=null;var bX=null;if(bY.getModifiers()==0){switch(bY.getKeyIdentifier()){case h:ca=-1;break;case V:ca=1;break;case t:ca=-7;break;case q:ca=7;break;case a:cb=-1;break;case v:cb=1;break;case g:if(this.getValue()!=null){this.setValue(null);return;};break;case u:case o:if(this.getValue()!=null){this.execute();};return;};}else if(bY.isShiftPressed()){switch(bY.getKeyIdentifier()){case a:bX=-1;break;case v:bX=1;break;};};if(ca!=null||cb!=null||bX!=null){var bW=this.getValue();if(bW!=null){bW=new Date(bW.getTime());};if(bW==null){bW=new Date();}else {if(ca!=null){bW.setDate(bW.getDate()+ca);};if(cb!=null){bW.setMonth(bW.getMonth()+cb);};if(bX!=null){bW.setFullYear(bW.getFullYear()+bX);};};this.setValue(bW);};},showMonth:function(cc,cd){if((cc!=null&&cc!=this.getShownMonth())||(cd!=null&&cd!=this.getShownYear())){if(cc!=null){this.setShownMonth(cc);};if(cd!=null){this.setShownYear(cd);};this._updateDatePane();};},handleKeyPress:function(e){this._onKeyPress(e);},_updateDatePane:function(){var ct=qx.ui.control.DateChooser;var cq=new Date();var ci=cq.getFullYear();var co=cq.getMonth();var cl=cq.getDate();var cu=this.getValue();var cx=(cu==null)?-1:cu.getFullYear();var cE=(cu==null)?-1:cu.getMonth();var cn=(cu==null)?-1:cu.getDate();var cm=this.getShownMonth();var cB=this.getShownYear();var cj=qx.locale.Date.getWeekStart();var cv=new Date(this.getShownYear(),this.getShownMonth(),1);var cs=new qx.util.format.DateFormat(ct.MONTH_YEAR_FORMAT);this.getChildControl(N).setValue(cs.format(cv));var cD=cv.getDay();var cp=1+((7-cD)%7);var cw=new qx.util.format.DateFormat(ct.WEEKDAY_FORMAT);for(var i=0;i<7;i++ ){var cy=(i+cj)%7;var cA=this.__zh[i];cv.setDate(cp+cy);cA.setValue(cw.format(cv));if(qx.locale.Date.isWeekend(cy)){cA.addState(bw);}else {cA.removeState(bw);};};cv=new Date(cB,cm,1,12,0,0);var cf=(7+cD-cj)%7;cv.setDate(cv.getDate()-cf);var cz=new qx.util.format.DateFormat(ct.WEEK_FORMAT);for(var cr=0;cr<6;cr++ ){this.__zj[cr].setValue(cz.format(cv));for(var i=0;i<7;i++ ){var cA=this.__zi[cr*7+i];var ch=cv.getFullYear();var cg=cv.getMonth();var ck=cv.getDate();var ce=(cx==ch&&cE==cg&&cn==ck);if(ce){cA.addState(p);}else {cA.removeState(p);};if(cg!=cm){cA.addState(M);}else {cA.removeState(M);};var cC=(ch==ci&&cg==co&&ck==cl);if(cC){cA.addState(l);}else {cA.removeState(l);};cA.setValue(bu+ck);cA.dateTime=cv.getTime();cv.setDate(cv.getDate()+1);};};cs.dispose();cw.dispose();cz.dispose();}},destruct:function(){if(qx.core.Environment.get(S)){qx.locale.Manager.getInstance().removeListener(z,this._updateDatePane,this);};this.__zh=this.__zi=this.__zj=null;}});})();(function(){var a="qx.ui.popup.Popup",b="visible",c="excluded",d="popup",e="Boolean";qx.Class.define(a,{extend:qx.ui.container.Composite,include:qx.ui.core.MPlacement,construct:function(f){qx.ui.container.Composite.call(this,f);this.initVisibility();},properties:{appearance:{refine:true,init:d},visibility:{refine:true,init:c},autoHide:{check:e,init:true}},members:{show:function(){if(this.getLayoutParent()==null){qx.core.Init.getApplication().getRoot().add(this);};qx.ui.container.Composite.prototype.show.call(this);},_applyVisibility:function(i,h){qx.ui.container.Composite.prototype._applyVisibility.call(this,i,h);var g=qx.ui.popup.Manager.getInstance();i===b?g.add(this):g.remove(this);}},destruct:function(){if(!qx.ui.popup.Manager.getInstance().isDisposed()){qx.ui.popup.Manager.getInstance().remove(this);};}});})();(function(){var a="__xF",b="blur",c="pointerdown",d="singleton",f="qx.ui.popup.Manager";qx.Class.define(f,{type:d,extend:qx.core.Object,construct:function(){qx.core.Object.call(this);this.__xF=[];qx.event.Registration.addListener(document.documentElement,c,this.__zl,this,true);qx.bom.Element.addListener(window,b,this.hideAll,this);},members:{__xF:null,add:function(g){{};this.__xF.push(g);this.__zk();},remove:function(h){{};qx.lang.Array.remove(this.__xF,h);this.__zk();},hideAll:function(){var l=this.__xF.length,j={};while(l-- ){j=this.__xF[l];if(j.getAutoHide()){j.exclude();};};},__zk:function(){var k=1e7;for(var i=0;i<this.__xF.length;i++ ){this.__xF[i].setZIndex(k++ );};},__zl:function(e){var n=qx.ui.core.Widget.getWidgetByElement(e.getTarget());var o=this.__xF;for(var i=0;i<o.length;i++ ){var m=o[i];if(!m.getAutoHide()||n==m||qx.ui.core.Widget.contains(m,n)){continue;};m.exclude();};}},destruct:function(){qx.event.Registration.removeListener(document.documentElement,c,this.__zl,this,true);this._disposeArray(a);}});})();(function(){var a="_applyRich",b="qx.ui.tooltip.ToolTip",c="_applyIcon",d="tooltip",f="pointerover",g="qx.ui.core.Widget",h="arrow",i="Boolean",j="_applyArrowPosition",k="left",l="right",m="_applyLabel",n="Integer",o="String",p="atom";qx.Class.define(b,{extend:qx.ui.popup.Popup,construct:function(q,r){qx.ui.popup.Popup.call(this);this.setLayout(new qx.ui.layout.HBox());this._createChildControl(h);this._createChildControl(p);if(q!=null){this.setLabel(q);};if(r!=null){this.setIcon(r);};this.addListener(f,this._onPointerOver,this);},properties:{appearance:{refine:true,init:d},showTimeout:{check:n,init:700,themeable:true},hideTimeout:{check:n,init:4000,themeable:true},label:{check:o,nullable:true,apply:m},icon:{check:o,nullable:true,apply:c,themeable:true},rich:{check:i,init:false,apply:a},opener:{check:g,nullable:true},arrowPosition:{check:[k,l],init:k,themeable:true,apply:j}},members:{_forwardStates:{placementLeft:true},_createChildControlImpl:function(u,t){var s;switch(u){case p:s=new qx.ui.basic.Atom();this._add(s,{flex:1});break;case h:s=new qx.ui.basic.Image();this._add(s);};return s||qx.ui.popup.Popup.prototype._createChildControlImpl.call(this,u);},_onPointerOver:function(e){},_applyIcon:function(w,v){var x=this.getChildControl(p);w==null?x.resetIcon():x.setIcon(w);},_applyLabel:function(z,y){var A=this.getChildControl(p);z==null?A.resetLabel():A.setLabel(z);},_applyRich:function(C,B){var D=this.getChildControl(p);D.setRich(C);},_applyArrowPosition:function(F,E){this._getLayout().setReversed(F==k);}}});})();(function(){var a="inherit",b="toolbar-button",c="keydown",d="qx.ui.toolbar.Button",e="keyup";qx.Class.define(d,{extend:qx.ui.form.Button,construct:function(f,h,g){qx.ui.form.Button.call(this,f,h,g);this.removeListener(c,this._onKeyDown);this.removeListener(e,this._onKeyUp);},properties:{appearance:{refine:true,init:b},show:{refine:true,init:a},focusable:{refine:true,init:false}},members:{_applyVisibility:function(j,i){qx.ui.form.Button.prototype._applyVisibility.call(this,j,i);var parent=this.getLayoutParent();if(parent&&parent instanceof qx.ui.toolbar.PartContainer){qx.ui.core.queue.Appearance.add(parent);};}}});})();(function(){var a="password",b="qx.ui.form.PasswordField";qx.Class.define(b,{extend:qx.ui.form.TextField,members:{_createInputElement:function(){return new qx.html.Input(a);}}});})();(function(){var a="popupOpen",b="PageUp",c="blur",d="one",f="Escape",g="_applyMaxListHeight",h="Function",i="",j="Abstract method: _onListPointerDown()",k="visible",l="changeSelection",m="middle",n="Abstract method: _onListChangeSelection()",o="changeVisibility",p="resize",q="list",r="qx.ui.form.AbstractSelectBox",s="pointerdown",t="keypress",u="PageDown",v="abstract",w="popup",x="Number",y="pane",z="tap";qx.Class.define(r,{extend:qx.ui.core.Widget,include:[qx.ui.core.MRemoteChildrenHandling,qx.ui.form.MForm],implement:[qx.ui.form.IForm],type:v,construct:function(){qx.ui.core.Widget.call(this);var A=new qx.ui.layout.HBox();this._setLayout(A);A.setAlignY(m);this.addListener(t,this._onKeyPress);this.addListener(c,this._onBlur,this);this.addListener(p,this._onResize,this);},properties:{focusable:{refine:true,init:true},width:{refine:true,init:120},maxListHeight:{check:x,apply:g,nullable:true,init:200},format:{check:h,init:function(B){return this._defaultFormat(B);},nullable:true}},members:{_createChildControlImpl:function(E,D){var C;switch(E){case q:C=new qx.ui.form.List().set({focusable:false,keepFocus:true,height:null,width:null,maxHeight:this.getMaxListHeight(),selectionMode:d,quickSelection:true});C.addListener(l,this._onListChangeSelection,this);C.addListener(s,this._onListPointerDown,this);C.getChildControl(y).addListener(z,this.close,this);break;case w:C=new qx.ui.popup.Popup(new qx.ui.layout.VBox());C.setAutoHide(false);C.setKeepActive(true);C.add(this.getChildControl(q));C.addListener(o,this._onPopupChangeVisibility,this);break;};return C||qx.ui.core.Widget.prototype._createChildControlImpl.call(this,E);},_applyMaxListHeight:function(G,F){this.getChildControl(q).setMaxHeight(G);},getChildrenContainer:function(){return this.getChildControl(q);},open:function(){var H=this.getChildControl(w);H.placeToWidget(this,true);H.show();},close:function(){this.getChildControl(w).hide();},toggle:function(){var I=this.getChildControl(w).isVisible();if(I){this.close();}else {this.open();};},_defaultFormat:function(J){var L=J?J.getLabel():i;var K=J?J.getRich():false;if(K){L=L.replace(/<[^>]+?>/g,i);L=qx.bom.String.unescape(L);};return L;},_onBlur:function(e){this.close();},_onKeyPress:function(e){var M=e.getKeyIdentifier();var N=this.getChildControl(w);if(N.isHidden()&&(M==u||M==b)){e.stopPropagation();}else if(!N.isHidden()&&M==f){this.close();e.stop();}else {this.getChildControl(q).handleKeyPress(e);};},_onResize:function(e){this.getChildControl(w).setMinWidth(e.getData().width);},_onListChangeSelection:function(e){throw new Error(n);},_onListPointerDown:function(e){throw new Error(j);},_onPopupChangeVisibility:function(e){e.getData()==k?this.addState(a):this.removeState(a);}}});})();(function(){var a="blur",b="Enter",c="changeValue",d="selected",f="key",g="button",h="Down",i="execute",j="qx.event.type.Data",k="inner",l="visible",m="quick",n="String",o="list",p="textfield",q="qx.ui.form.ComboBox",r="single",s="focusin",t="combobox",u="popup",v="focusout",w="_applyPlaceholder",x="tap";qx.Class.define(q,{extend:qx.ui.form.AbstractSelectBox,implement:[qx.ui.form.IStringForm],construct:function(){qx.ui.form.AbstractSelectBox.call(this);var y=this._createChildControl(p);this._createChildControl(g);this.addListener(x,this._onTap);this.addListener(s,function(e){y.fireNonBubblingEvent(s,qx.event.type.Focus);},this);this.addListener(v,function(e){y.fireNonBubblingEvent(v,qx.event.type.Focus);},this);},properties:{appearance:{refine:true,init:t},placeholder:{check:n,nullable:true,apply:w}},events:{"changeValue":j},members:{__zm:null,__zn:null,_applyPlaceholder:function(A,z){this.getChildControl(p).setPlaceholder(A);},_createChildControlImpl:function(D,C){var B;switch(D){case p:B=new qx.ui.form.TextField();B.setFocusable(false);B.addState(k);B.addListener(c,this._onTextFieldChangeValue,this);B.addListener(a,this.close,this);this._add(B,{flex:1});break;case g:B=new qx.ui.form.Button();B.setFocusable(false);B.setKeepActive(true);B.addState(k);B.addListener(i,this.toggle,this);this._add(B);break;case o:B=qx.ui.form.AbstractSelectBox.prototype._createChildControlImpl.call(this,D);B.setSelectionMode(r);break;};return B||qx.ui.form.AbstractSelectBox.prototype._createChildControlImpl.call(this,D);},_forwardStates:{focused:true,invalid:true},tabFocus:function(){var E=this.getChildControl(p);E.getFocusElement().focus();E.selectAllText();},focus:function(){qx.ui.form.AbstractSelectBox.prototype.focus.call(this);this.getChildControl(p).getFocusElement().focus();},setValue:function(G){var F=this.getChildControl(p);if(F.getValue()==G){return;};F.setValue(G);},getValue:function(){return this.getChildControl(p).getValue();},resetValue:function(){this.getChildControl(p).setValue(null);},_onKeyPress:function(e){var I=this.getChildControl(u);var H=e.getKeyIdentifier();if(H==h&&e.isAltPressed()){this.getChildControl(g).addState(d);this.toggle();e.stopPropagation();}else if(H==b){if(I.isVisible()){this._setPreselectedItem();this.resetAllTextSelection();this.close();e.stop();};}else if(I.isVisible()){qx.ui.form.AbstractSelectBox.prototype._onKeyPress.call(this,e);};},_onTap:function(e){this.close();},_onListPointerDown:function(e){this._setPreselectedItem();},_setPreselectedItem:function(){if(this.__zm){var J=this.__zm.getLabel();if(this.getFormat()!=null){J=this.getFormat().call(this,this.__zm);};if(J&&J.translate){J=J.translate();};this.setValue(J);this.__zm=null;};},_onListChangeSelection:function(e){var K=e.getData();if(K.length>0){var M=this.getChildControl(o);var L=M.getSelectionContext();if(L==m||L==f){this.__zm=K[0];}else {var N=K[0].getLabel();if(this.getFormat()!=null){N=this.getFormat().call(this,K[0]);};if(N&&N.translate){N=N.translate();};this.setValue(N);this.__zm=null;};};},_onPopupChangeVisibility:function(e){qx.ui.form.AbstractSelectBox.prototype._onPopupChangeVisibility.call(this,e);var P=this.getChildControl(u);if(P.isVisible()){var O=this.getChildControl(o);var Q=this.getValue();var R=null;if(Q){R=O.findItem(Q);};if(R){O.setSelection([R]);}else {O.resetSelection();};}else {if(e.getOldData()==l){this.tabFocus();};};this.getChildControl(g).removeState(d);},_onTextFieldChangeValue:function(e){var T=e.getData();var S=this.getChildControl(o);if(T!=null){var U=S.findItem(T,false);if(U){S.setSelection([U]);}else {S.resetSelection();};}else {S.resetSelection();};this.fireDataEvent(c,T,e.getOldData());},getTextSelection:function(){return this.getChildControl(p).getTextSelection();},getTextSelectionLength:function(){return this.getChildControl(p).getTextSelectionLength();},setTextSelection:function(V,W){this.getChildControl(p).setTextSelection(V,W);},clearTextSelection:function(){this.getChildControl(p).clearTextSelection();},selectAllText:function(){this.getChildControl(p).selectAllText();},resetAllTextSelection:function(){this.clearTextSelection();this.selectAllText();}}});})();(function(){var a="function",b="Enter",c="pressed",d="one",f="pointerover",g="changeLabel",h="hovered",i="changeIcon",j="Space",k="abandoned",l="key",m="Boolean",n="list",o="keyinput",p="arrow",q="changeSelection",r="quick",s="",t="qx.ui.form.SelectBox",u="spacer",v="selectbox",w="_applyRich",x="popup",y=" ",z="tap",A="pointerout",B="atom";qx.Class.define(t,{extend:qx.ui.form.AbstractSelectBox,implement:[qx.ui.core.ISingleSelection,qx.ui.form.IModelSelection,qx.ui.form.IField],include:[qx.ui.core.MSingleSelectionHandling,qx.ui.form.MModelSelection],construct:function(){qx.ui.form.AbstractSelectBox.call(this);this._createChildControl(B);this._createChildControl(u);this._createChildControl(p);this.addListener(f,this._onPointerOver,this);this.addListener(A,this._onPointerOut,this);this.addListener(z,this._onTap,this);this.addListener(o,this._onKeyInput,this);this.addListener(q,this.__sq,this);},properties:{appearance:{refine:true,init:v},rich:{init:false,check:m,apply:w}},members:{__zm:null,_applyRich:function(C,D){this.getChildControl(B).setRich(C);},_defaultFormat:function(E){if(E){if(typeof E.isRich==a&&E.isRich()){this.setRich(true);};return E.getLabel();};return null;},_createChildControlImpl:function(H,G){var F;switch(H){case u:F=new qx.ui.core.Spacer();this._add(F,{flex:1});break;case B:F=new qx.ui.basic.Atom(y);F.setCenter(false);F.setAnonymous(true);this._add(F,{flex:1});break;case p:F=new qx.ui.basic.Image();F.setAnonymous(true);this._add(F);break;};return F||qx.ui.form.AbstractSelectBox.prototype._createChildControlImpl.call(this,H);},_forwardStates:{focused:true},_getItems:function(){return this.getChildrenContainer().getChildren();},_isAllowEmptySelection:function(){return this.getChildrenContainer().getSelectionMode()!==d;},__sq:function(e){var J=e.getData()[0];var I=this.getChildControl(n);if(I.getSelection()[0]!=J){if(J){I.setSelection([J]);}else {I.resetSelection();};};this.__zo();this.__zp();},__zo:function(){var L=this.getChildControl(n).getSelection()[0];var K=this.getChildControl(B);var M=L?L.getIcon():s;M==null?K.resetIcon():K.setIcon(M);},__zp:function(){var P=this.getChildControl(n).getSelection()[0];var N=this.getChildControl(B);var O=P?P.getLabel():s;var Q=this.getFormat();if(Q!=null&&P){O=Q.call(this,P);};if(O&&O.translate){O=O.translate();};O==null?N.resetLabel():N.setLabel(O);},_onPointerOver:function(e){if(!this.isEnabled()||e.getTarget()!==this){return;};if(this.hasState(k)){this.removeState(k);this.addState(c);};this.addState(h);},_onPointerOut:function(e){if(!this.isEnabled()||e.getTarget()!==this){return;};this.removeState(h);if(this.hasState(c)){this.removeState(c);this.addState(k);};},_onTap:function(e){this.toggle();},_onKeyPress:function(e){var R=e.getKeyIdentifier();if(R==b||R==j){if(this.__zm){this.setSelection([this.__zm]);this.__zm=null;};this.toggle();}else {qx.ui.form.AbstractSelectBox.prototype._onKeyPress.call(this,e);};},_onKeyInput:function(e){var S=e.clone();S.setTarget(this._list);S.setBubbles(false);this.getChildControl(n).dispatchEvent(S);},_onListPointerDown:function(e){if(this.__zm){this.setSelection([this.__zm]);this.__zm=null;};},_onListChangeSelection:function(e){var W=e.getData();var U=e.getOldData();if(U&&U.length>0){U[0].removeListener(i,this.__zo,this);U[0].removeListener(g,this.__zp,this);};if(W.length>0){var T=this.getChildControl(x);var V=this.getChildControl(n);var X=V.getSelectionContext();if(T.isVisible()&&(X==r||X==l)){this.__zm=W[0];}else {this.setSelection([W[0]]);this.__zm=null;};W[0].addListener(i,this.__zo,this);W[0].addListener(g,this.__zp,this);}else {this.resetSelection();};},_onPopupChangeVisibility:function(e){qx.ui.form.AbstractSelectBox.prototype._onPopupChangeVisibility.call(this,e);var ba=this.getChildControl(x);if(!ba.isVisible()){var bc=this.getChildControl(n);if(bc.hasChildren()){bc.setSelection(this.getSelection());};}else {var Y=ba.getLayoutLocation(this);var be=qx.bom.Viewport.getHeight();var bd=Y.top;var bf=be-Y.bottom;var bb=bd>bf?bd:bf;var bg=this.getMaxListHeight();var bc=this.getChildControl(n);if(bg==null||bg>bb){bc.setMaxHeight(bb);}else if(bg<bb){bc.setMaxHeight(bg);};};}},destruct:function(){this.__zm=null;}});})();(function(){var a="PageUp",b="Boolean",c="_applyEditable",d="_applyWrap",f="changeValue",g="keydown",h="Down",i="\-]",j="roll",k="execute",l="inner",m="PageDown",n="changeLocale",o="_applyValue",p="Up",q="downbutton",r="",s="number",t="textfield",u="_applyMinimum",v="qx.util.format.NumberFormat",w="qx.dynlocale",x="[0-9",y="upbutton",z="keyup",A="focusin",B="spinner",C="focusout",D="this._checkValue(value)",E="Number",F="wheel",G="_applyMaximum",H="changeNumberFormat",I="changeMaximum",J="changeMinimum",K="_applyNumberFormat",L="qx.ui.form.Spinner";qx.Class.define(L,{extend:qx.ui.core.Widget,implement:[qx.ui.form.INumberForm,qx.ui.form.IRange,qx.ui.form.IForm],include:[qx.ui.core.MContentPadding,qx.ui.form.MForm],construct:function(Q,P,M){qx.ui.core.Widget.call(this);var O=new qx.ui.layout.Grid();O.setColumnFlex(0,1);O.setRowFlex(0,1);O.setRowFlex(1,1);this._setLayout(O);this.addListener(g,this._onKeyDown,this);this.addListener(z,this._onKeyUp,this);this.addListener(j,this._onRoll,this);if(qx.core.Environment.get(w)){qx.locale.Manager.getInstance().addListener(n,this._onChangeLocale,this);};var N=this._createChildControl(t);this._createChildControl(y);this._createChildControl(q);if(Q!=null){this.setMinimum(Q);};if(M!=null){this.setMaximum(M);};if(P!==undefined){this.setValue(P);}else {this.initValue();};this.addListener(A,function(e){N.fireNonBubblingEvent(A,qx.event.type.Focus);},this);this.addListener(C,function(e){N.fireNonBubblingEvent(C,qx.event.type.Focus);},this);},properties:{appearance:{refine:true,init:B},focusable:{refine:true,init:true},singleStep:{check:E,init:1},pageStep:{check:E,init:10},minimum:{check:E,apply:u,init:0,event:J},value:{check:D,nullable:true,apply:o,init:0,event:f},maximum:{check:E,apply:G,init:100,event:I},wrap:{check:b,init:false,apply:d},editable:{check:b,init:true,apply:c},numberFormat:{check:v,apply:K,nullable:true},allowShrinkY:{refine:true,init:false}},members:{__zq:null,__zr:false,__zs:false,_createChildControlImpl:function(T,S){var R;switch(T){case t:R=new qx.ui.form.TextField();R.setFilter(this._getFilterRegExp());R.addState(l);R.setWidth(40);R.setFocusable(false);R.addListener(f,this._onTextChange,this);this._add(R,{column:0,row:0,rowSpan:2});break;case y:R=new qx.ui.form.RepeatButton();R.addState(l);R.setFocusable(false);R.addListener(k,this._countUp,this);this._add(R,{column:1,row:0});break;case q:R=new qx.ui.form.RepeatButton();R.addState(l);R.setFocusable(false);R.addListener(k,this._countDown,this);this._add(R,{column:1,row:1});break;};return R||qx.ui.core.Widget.prototype._createChildControlImpl.call(this,T);},_getFilterRegExp:function(){var V,ba,X;if(this.getNumberFormat()!==null){X=this.getNumberFormat().getLocale();}else {X=qx.locale.Manager.getInstance().getLocale();};V=qx.locale.Number.getDecimalSeparator(X);ba=qx.locale.Number.getGroupSeparator(X);var Y=r;var W=r;if(this.getNumberFormat()!==null){Y=this.getNumberFormat().getPrefix()||r;W=this.getNumberFormat().getPostfix()||r;};var U=new RegExp(x+qx.lang.String.escapeRegexpChars(V)+qx.lang.String.escapeRegexpChars(ba)+qx.lang.String.escapeRegexpChars(Y)+qx.lang.String.escapeRegexpChars(W)+i);return U;},_forwardStates:{focused:true,invalid:true},tabFocus:function(){var bb=this.getChildControl(t);bb.getFocusElement().focus();bb.selectAllText();},_applyMinimum:function(bd,bc){if(this.getMaximum()<bd){this.setMaximum(bd);};if(this.getValue()<bd){this.setValue(bd);}else {this._updateButtons();};},_applyMaximum:function(bf,be){if(this.getMinimum()>bf){this.setMinimum(bf);};if(this.getValue()>bf){this.setValue(bf);}else {this._updateButtons();};},_applyEnabled:function(bh,bg){qx.ui.core.Widget.prototype._applyEnabled.call(this,bh,bg);this._updateButtons();},_checkValue:function(bi){return typeof bi===s&&bi>=this.getMinimum()&&bi<=this.getMaximum();},_applyValue:function(bl,bk){var bj=this.getChildControl(t);this._updateButtons();this.__zq=bl;if(bl!==null){if(this.getNumberFormat()){bj.setValue(this.getNumberFormat().format(bl));}else {bj.setValue(bl+r);};}else {bj.setValue(r);};},_applyEditable:function(bo,bn){var bm=this.getChildControl(t);if(bm){bm.setReadOnly(!bo);};},_applyWrap:function(bq,bp){this._updateButtons();},_applyNumberFormat:function(bt,bs){var br=this.getChildControl(t);br.setFilter(this._getFilterRegExp());if(bs){bs.removeListener(H,this._onChangeNumberFormat,this);};var bu=this.getNumberFormat();if(bu!==null){bu.addListener(H,this._onChangeNumberFormat,this);};this._applyValue(this.__zq,undefined);},_getContentPaddingTarget:function(){return this.getChildControl(t);},_updateButtons:function(){var bw=this.getChildControl(y);var bv=this.getChildControl(q);var bx=this.getValue();if(!this.getEnabled()){bw.setEnabled(false);bv.setEnabled(false);}else {if(this.getWrap()){bw.setEnabled(true);bv.setEnabled(true);}else {if(bx!==null&&bx<this.getMaximum()){bw.setEnabled(true);}else {bw.setEnabled(false);};if(bx!==null&&bx>this.getMinimum()){bv.setEnabled(true);}else {bv.setEnabled(false);};};};},_onKeyDown:function(e){switch(e.getKeyIdentifier()){case a:this.__zr=true;case p:this.getChildControl(y).press();break;case m:this.__zs=true;case h:this.getChildControl(q).press();break;default:return;};e.stopPropagation();e.preventDefault();},_onKeyUp:function(e){switch(e.getKeyIdentifier()){case a:this.getChildControl(y).release();this.__zr=false;break;case p:this.getChildControl(y).release();break;case m:this.getChildControl(q).release();this.__zs=false;break;case h:this.getChildControl(q).release();break;};},_onRoll:function(e){if(e.getPointerType()!=F){return;};var by=e.getDelta().y;if(by<0){this._countUp();}else if(by>0){this._countDown();};e.stop();},_onTextChange:function(e){var bz=this.getChildControl(t);var bA;if(this.getNumberFormat()){try{bA=this.getNumberFormat().parse(bz.getValue());}catch(bB){};};if(bA===undefined){bA=parseFloat(bz.getValue());};if(!isNaN(bA)){if(bA>this.getMaximum()){bA=this.getMaximum();}else if(bA<this.getMinimum()){bA=this.getMinimum();};if(bA===this.__zq){this._applyValue(this.__zq);}else {this.setValue(bA);};}else {this._applyValue(this.__zq,undefined);};},_onChangeLocale:function(bD){if(this.getNumberFormat()!==null){this.setNumberFormat(this.getNumberFormat());var bC=this.getChildControl(t);bC.setFilter(this._getFilterRegExp());bC.setValue(this.getNumberFormat().format(this.getValue()));};},_onChangeNumberFormat:function(bF){var bE=this.getChildControl(t);bE.setFilter(this._getFilterRegExp());bE.setValue(this.getNumberFormat().format(this.getValue()));},_countUp:function(){if(this.__zr){var bH=this.getValue()+this.getPageStep();}else {var bH=this.getValue()+this.getSingleStep();};if(this.getWrap()){if(bH>this.getMaximum()){var bG=this.getMaximum()-bH;bH=this.getMinimum()-bG-1;};};this.gotoValue(bH);},_countDown:function(){if(this.__zs){var bJ=this.getValue()-this.getPageStep();}else {var bJ=this.getValue()-this.getSingleStep();};if(this.getWrap()){if(bJ<this.getMinimum()){var bI=this.getMinimum()+bJ;bJ=this.getMaximum()+bI+1;};};this.gotoValue(bJ);},gotoValue:function(bK){return this.setValue(Math.min(this.getMaximum(),Math.max(this.getMinimum(),bK)));},focus:function(){qx.ui.core.Widget.prototype.focus.call(this);this.getChildControl(t).getFocusElement().focus();}},destruct:function(){var bL=this.getNumberFormat();if(bL){bL.removeListener(H,this._onChangeNumberFormat,this);};if(qx.core.Environment.get(w)){qx.locale.Manager.getInstance().removeListener(n,this._onChangeLocale,this);};}});})();(function(){var a="cldr_number_decimal_separator",b="cldr_number_percent_format",c="qx.locale.Number",d="cldr_number_group_separator";qx.Class.define(c,{statics:{getDecimalSeparator:function(e){return qx.locale.Manager.getInstance().localize(a,[],e);},getGroupSeparator:function(f){return qx.locale.Manager.getInstance().localize(d,[],f);},getPercentFormat:function(g){return qx.locale.Manager.getInstance().localize(b,[],g);}}});})();(function(){var a="-",b="Boolean",c='{0,1}[0-9]{3}){0,}){0,1}',d=")?$",e="Number string '",f="' does not match the number format",g="Wrong argument type. String is expected.",h="0",i="^(",j="changeLocale",k=')?([-+]){0,1}',l='(',m="-Infinity",n="String",o="",p='\\d+){0,1}(',q='([0-9]{1,3}(?:',r="g",s="qx.util.format.NumberFormat",t="qx.dynlocale",u="locale",v="Wrong number of arguments.",w="Number",x="NaN",y="changeNumberFormat",z=".",A="Infinity";qx.Class.define(s,{extend:qx.core.Object,implement:[qx.util.format.IFormat,qx.core.IDisposable],construct:function(B){qx.core.Object.call(this);if(arguments.length>0){if(arguments.length===1){if(qx.lang.Type.isString(B)){this.setLocale(B);}else {throw new Error(g);};}else {throw new Error(v);};};if(!B){this.setLocale(qx.locale.Manager.getInstance().getLocale());if(qx.core.Environment.get(t)){qx.locale.Manager.getInstance().bind(u,this,u);};};},properties:{minimumIntegerDigits:{check:w,init:0},maximumIntegerDigits:{check:w,nullable:true},minimumFractionDigits:{check:w,init:0},maximumFractionDigits:{check:w,nullable:true},groupingUsed:{check:b,init:true},prefix:{check:n,init:o,event:y},postfix:{check:n,init:o,event:y},locale:{check:n,init:null,event:j}},members:{format:function(H){if(isNaN(H)){return x;};switch(H){case Infinity:return A;case -Infinity:return m;};var F=(H<0);if(F){H=-H;};if(this.getMaximumFractionDigits()!=null){var N=Math.pow(10,this.getMaximumFractionDigits());H=Math.round(H*N)/N;};var L=String(Math.floor(H)).length;var C=o+H;var J=C.substring(0,L);while(J.length<this.getMinimumIntegerDigits()){J=h+J;};if(this.getMaximumIntegerDigits()!=null&&J.length>this.getMaximumIntegerDigits()){J=J.substring(J.length-this.getMaximumIntegerDigits());};var I=C.substring(L+1);while(I.length<this.getMinimumFractionDigits()){I+=h;};if(this.getMaximumFractionDigits()!=null&&I.length>this.getMaximumFractionDigits()){I=I.substring(0,this.getMaximumFractionDigits());};if(this.getGroupingUsed()){var E=J;J=o;var M;for(M=E.length;M>3;M-=3){J=o+qx.locale.Number.getGroupSeparator(this.getLocale())+E.substring(M-3,M)+J;};J=E.substring(0,M)+J;};var G=this.getPrefix()?this.getPrefix():o;var D=this.getPostfix()?this.getPostfix():o;var K=G+(F?a:o)+J;if(I.length>0){K+=o+qx.locale.Number.getDecimalSeparator(this.getLocale())+I;};K+=D;return K;},parse:function(W){var S=qx.lang.String.escapeRegexpChars(qx.locale.Number.getGroupSeparator(this.getLocale())+o);var Q=qx.lang.String.escapeRegexpChars(qx.locale.Number.getDecimalSeparator(this.getLocale())+o);var O=new RegExp(i+qx.lang.String.escapeRegexpChars(this.getPrefix())+k+q+S+c+l+Q+p+qx.lang.String.escapeRegexpChars(this.getPostfix())+d);var R=O.exec(W);if(R==null){throw new Error(e+W+f);};var T=(R[2]==a);var V=R[3]||h;var U=R[4];V=V.replace(new RegExp(S,r),o);var P=(T?a:o)+V;if(U!=null&&U.length!=0){U=U.replace(new RegExp(Q),o);P+=z+U;};return parseFloat(P);}},destruct:function(){if(qx.core.Environment.get(t)){qx.locale.Manager.getInstance().removeRelatedBindings(this);};}});})();(function(){var a="keypress",b="Boolean",c="Right",d="label",f="Left",g="_applyValue",h="changeValue",i="Up",j="value",k="qx.ui.form.RadioButton",l="radiobutton",m="toolTipText",n="enabled",o="qx.ui.form.RadioGroup",p="Down",q="_applyGroup",r="checked",s="menu",t="execute";qx.Class.define(k,{extend:qx.ui.form.Button,include:[qx.ui.form.MForm,qx.ui.form.MModelProperty],implement:[qx.ui.form.IRadioItem,qx.ui.form.IForm,qx.ui.form.IBooleanForm,qx.ui.form.IModel],construct:function(u){{};qx.ui.form.Button.call(this,u);this.addListener(t,this._onExecute);this.addListener(a,this._onKeyPress);},properties:{group:{check:o,nullable:true,apply:q},value:{check:b,nullable:true,event:h,apply:g,init:false},appearance:{refine:true,init:l},allowGrowX:{refine:true,init:false}},members:{_forwardStates:{checked:true,focused:true,invalid:true,hovered:true},_bindableProperties:[n,d,m,j,s],_applyValue:function(w,v){w?this.addState(r):this.removeState(r);},_applyGroup:function(y,x){if(x){x.remove(this);};if(y){y.add(this);};},_onExecute:function(e){var z=this.getGroup();if(z&&z.getAllowEmptySelection()){this.toggleValue();}else {this.setValue(true);};},_onKeyPress:function(e){var A=this.getGroup();if(!A){return;};switch(e.getKeyIdentifier()){case f:case i:A.selectPrevious();break;case c:case p:A.selectNext();break;};}}});})();(function(){var a='File "%1" has been created',b='Folder "%1" has been created',c='cv.manager.openWith',e='Folder "%1" has been restored',f='href',g='%1 errors found in %2!',h='',i='Do you really want to clear the trash?',j='Confirm deletion',k='.trash/',l='Trash has been cleared',m='File "%1" has been renamed',n='%1 error found in %2!',o='Folder "%1" has been renamed',p='.xml',q='file',r='cv.ui.manager.control.FileController',s='Folder "%1" has been deleted',t='no validation available for file: ',u='File "%1" has been removed from trash',v='fsContentChanged',w='File "%1" has been moved',x='singleton',y='restored',z='deleted',A='Do you really want to delete folder "%1" from the trash?',B='Do you really want to delete folder "%1"?',C='ignore',D='moved',E='a',F='Folder "%1" has been moved',G='cv.manager.file',H='Folder "%1" has been removed from trash',I='/',J='Do you really want to delete file "%1"?',K='Do you really want to delete file "%1" from the trash?',L='cv.ui.manager.editor.Source',M='File "%1" has been deleted',N='%1 has been restored',O='/fs?download=true&path=',P='File "%1" has been restored',Q='visu_config',R='%1 has no errors!',S='none',T='Validating %1';qx.Class.define(r,{extend:qx.core.Object,type:x,construct:function(){qx.core.Object.call(this);this.__zt=cv.io.rest.Client.getFsClient();},members:{__zt:null,rename:function(W,U){var V=W.getPath()||h;if(V.length>0&&!V.endsWith(I)){V+=I;};V+=U;if(W.isTemporary()){this.__zt.createSync({path:V,type:W.getType()},function(X){if(X){cv.ui.manager.snackbar.Controller.error(X);}else {cv.ui.manager.snackbar.Controller.info(W.getType()===q?qx.locale.Manager.tr(a,W.getDisplayName()):qx.locale.Manager.tr(b,W.getDisplayName()));W.resetTemporary();W.resetModified();W.setName(U);W.reload();};},this);}else if(W.getFullPath()!==V){this.__zt.moveSync({src:W.getFullPath(),target:V},function(Y){if(Y){cv.ui.manager.snackbar.Controller.error(Y);}else {cv.ui.manager.snackbar.Controller.info(W.getType()===q?qx.locale.Manager.tr(m,W.getDisplayName()):qx.locale.Manager.tr(o,W.getDisplayName()));W.setName(U);W.resetModified();W.reload();};W.resetEditing();},this);};},move:function(bb,ba){this.__zt.moveSync({src:bb.getFullPath(),target:ba},function(bc){if(bc){cv.ui.manager.snackbar.Controller.error(bc);}else {cv.ui.manager.snackbar.Controller.info(bb.getType()===q?qx.locale.Manager.tr(w,bb.getDisplayName()):qx.locale.Manager.tr(F,bb.getDisplayName()));qx.event.message.Bus.dispatchByName(G,{action:D,path:bb.getFullPath()});};},this);},restore:function(bh){if(bh.isInTrash()){var bd=bh.getFullPath().replace(k,h);this.__zu(bh,bd);}else if(bh.getType()===q&&!bh.isTemporary()){var bi=/^\/?backup\/visu_config(.*)-[0-9]{14}\.xml$/.exec(bh.getFullPath());if(bi){var be=Q+bi[1]+p;var bg=bh.getParent().getParent();var bf=null;bg.getChildren().some(function(bj){if(bj.getFullPath()===be){bf=bj;return true;};});this.__zt.readSync({path:bh.getFullPath()},function(bl,bk){if(bl){cv.ui.manager.snackbar.Controller.error(bl);}else {if(bf){this.__zt.updateSync({path:bf.getFullPath(),hash:C},bk,function(bm){if(bm){cv.ui.manager.snackbar.Controller.error(bm);}else {cv.ui.manager.snackbar.Controller.info(qx.locale.Manager.tr(N,bh.getName()));bf.resetModified();bf.resetTemporary();qx.event.message.Bus.dispatchByName(bf.getBusTopic(),{type:v,data:bk,source:this});};},this);}else {this.__zt.createSync({path:be,hash:C},bk,function(bn){if(bn){cv.ui.manager.snackbar.Controller.error(bn);}else {cv.ui.manager.snackbar.Controller.info(qx.locale.Manager.tr(N,bh.getName()));};},this);};};},this);};};},__zu:function(bp,bo){this.__zt.moveSync({src:bp.getFullPath(),target:bo},function(bq){if(bq){cv.ui.manager.snackbar.Controller.error(bq);}else {cv.ui.manager.snackbar.Controller.info(bp.getType()===q?qx.locale.Manager.tr(P,bp.getDisplayName()):qx.locale.Manager.tr(e,bp.getDisplayName()));qx.event.message.Bus.dispatchByName(G,{action:y,path:bp.getFullPath()});};},this);},'delete':function(bu,br,bt){if(bu.isTemporary()){if(br){br.apply(bt,true);};}else {if(bu){var bs;if(bu.isTrash()){bs=qx.locale.Manager.tr(i);}else if(bu.isInTrash()){bs=bu.getType()===q?qx.locale.Manager.tr(K,bu.getDisplayName()):qx.locale.Manager.tr(A,bu.getDisplayName());}else {bs=bu.getType()===q?qx.locale.Manager.tr(J,bu.getDisplayName()):qx.locale.Manager.tr(B,bu.getDisplayName());};dialog.Dialog.confirm(bs,function(bv){if(bv){this.__zv(bu,br,bt);}else if(br){br.apply(bt,false);};},this,qx.locale.Manager.tr(j));};};},__zv:function(bx,bw,by){this.__zt.deleteSync({path:bx.getFullPath(),force:bx.isTrash()},null,function(bA){if(bA){cv.ui.manager.snackbar.Controller.error(bA);if(bw){bw.apply(by,false);};}else {var bz;if(bx.isTrash()){bz=qx.locale.Manager.tr(l);}else if(bx.isInTrash()){bz=this.getType()===q?qx.locale.Manager.tr(u,bx.getDisplayName()):qx.locale.Manager.tr(H,bx.getDisplayName());}else {bz=bx.getType()===q?qx.locale.Manager.tr(M,bx.getDisplayName()):qx.locale.Manager.tr(s,bx.getDisplayName());};cv.ui.manager.snackbar.Controller.info(bz);if(bw){bw.apply(by,true);};qx.event.message.Bus.dispatchByName(G,{action:z,path:bx.getFullPath()});};},this);},download:function(bB){if(bB.getType()===q){var bC=document.createElement(E);bC.setAttribute(f,cv.io.rest.Client.getBaseUrl()+O+bB.getFullPath());bC.style.display=S;document.body.appendChild(bC);bC.click();document.body.removeChild(bC);};},validate:function(bD){{};if(bD.isConfigFile()){this.__j(bD);}else {this.info(t+bD.getFullPath());};},__j:function(bE){var d=dialog.Dialog.alert(qx.locale.Manager.tr(T,bE.getFullPath()));cv.ui.manager.editor.Worker.getInstance().validateConfig(bE).then(function(bF){d.close();if(bF===true){bE.setValid(true);cv.ui.manager.snackbar.Controller.info(qx.locale.Manager.tr(R,bE.getFullPath()));}else {bE.setValid(false);qx.event.message.Bus.dispatchByName(c,{file:bE,handler:L});cv.ui.manager.snackbar.Controller.error(qx.locale.Manager.trn(n,g,bF.length,bF.length,bE.getFullPath()));};}.bind(this));}},destruct:function(){this.__zt=null;}});})();(function(){var a='no file found for path ',b=' is no configuration file',c="validateConfig",d='validationResult',f="openFile",g="decorations",h='cv.ui.manager.editor.Worker',i='cv.ui.manager.editor.Source',j="errors",k="contentChange",l='manager/worker.js',m=' ignoring worker message for topic ',n="closeFile",o='singleton',p="modified";qx.Class.define(h,{extend:qx.core.Object,type:o,construct:function(){qx.core.Object.call(this);this._files={};this._worker=new Worker(qx.util.ResourceManager.getInstance().toUri(l));this._worker.onmessage=this._onMessage.bind(this);this._validationCallbacks={};},properties:{editor:{check:i,nullable:true}},members:{_worker:null,_files:null,_validationCallbacks:null,open:function(r,q,s){this._worker.postMessage([f,{path:r.getFullPath(),code:qx.xml.Document.isXmlDocument(q)?q.documentElement.outerHTML:q,schema:s}]);this._files[r.getFullPath()]=r;},close:function(t){this._worker.postMessage([n,{path:t.getFullPath()}]);delete this._files[t.getFullPath()];},contentChanged:function(u,content){this._worker.postMessage([k,{path:u.getFullPath(),code:content}]);},validateConfig:function(v){if(v.isConfigFile()){return new Promise(function(x,y){var w=v.getServerPath();if(!this._validationCallbacks.hasOwnProperty(w)){this._validationCallbacks[w]=[x];this._worker.postMessage([c,{path:w}]);}else {this._validationCallbacks[w].push(x);};}.bind(this));}else {qx.log.Logger.error(this,v.getFullPath()+b);};},_onMessage:function(e){var z=e.data.shift();var E=e.data.shift();var D=e.data.shift();var C=this._files[D];if(!C&&z!==d){qx.log.Logger.error(this,a+D+m+z);return;};var B=this.getEditor();switch(z){case p:if(!C.isTemporary()){C.setModified(E.modified);};C.setHash(E.currentHash);break;case j:C.setValid(!E||E.length===0);if(B){B.showErrors(D,E);};break;case g:if(B){B.showDecorations(D,E);};break;case d:if(this._validationCallbacks.hasOwnProperty(D)){var A=this._validationCallbacks[D];delete this._validationCallbacks[D];A.forEach(function(F){F(E);});};break;};}},destruct:function(){this._worker.terminate();this._worker=null;}});})();(function(){var a='cv.ui.manager.contextmenu.GlobalFileItem',b='singleton';qx.Class.define(a,{extend:cv.ui.manager.contextmenu.FileItem,type:b});})();(function(){var a="middle",b="_applyLayoutChange",c="bottom",d="qx.ui.layout.Flow",e="center",f="top",g="left",h="right",j="Integer",k="Boolean";qx.Class.define(d,{extend:qx.ui.layout.Abstract,construct:function(m,l,n){qx.ui.layout.Abstract.call(this);if(m){this.setSpacingX(m);};if(l){this.setSpacingY(l);};if(n){this.setAlignX(n);};},properties:{alignX:{check:[g,e,h],init:g,apply:b},alignY:{check:[f,a,c],init:f,apply:b},spacingX:{check:j,init:0,apply:b},spacingY:{check:j,init:0,apply:b},reversed:{check:k,init:false,apply:b}},members:{verifyLayoutProperty:null,connectToWidget:function(o){qx.ui.layout.Abstract.prototype.connectToWidget.call(this,o);if(o){o.setAllowShrinkY(false);};},renderLayout:function(s,q,r){var v=this._getLayoutChildren();if(this.getReversed()){v=v.concat().reverse();};var p=new qx.ui.layout.LineSizeIterator(v,this.getSpacingX());var t=r.top;while(p.hasMoreLines()){var u=p.computeNextLine(s);this.__zw(u,t,s,r);t+=u.height+this.getSpacingY();};},__zw:function(D,C,A,w){var z=qx.ui.layout.Util;var x=w.left;if(this.getAlignX()!=g){x=w.left+A-D.width;if(this.getAlignX()==e){x=w.left+Math.round((A-D.width)/2);};};for(var i=0;i<D.children.length;i++ ){var B=D.children[i];var E=B.getSizeHint();var F=B.getMarginTop();var y=B.getMarginBottom();var top=z.computeVerticalAlignOffset(B.getAlignY()||this.getAlignY(),F+E.height+y,D.height,F,y);var G=B.getLayoutProperties();if(G.stretch&&G.stretch){E.width+=A-D.width;};B.renderLayout(x+D.gapsBefore[i],C+top,E.width,E.height);x+=D.gapsBefore[i]+E.width;};},_computeSizeHint:function(){return this.__zx(Infinity);},hasHeightForWidth:function(){return true;},getHeightForWidth:function(H){return this.__zx(H).height;},getLastLineChildren:function(J){var I=new qx.ui.layout.LineSizeIterator(this._getLayoutChildren(),this.getSpacingX());var K=[];while(I.hasMoreLines()){K=I.computeNextLine(J).children;};return K;},__zx:function(L){var M=new qx.ui.layout.LineSizeIterator(this._getLayoutChildren(),this.getSpacingX());var N=0;var O=0;var P=0;while(M.hasMoreLines()){var Q=M.computeNextLine(L);P+=1;O=Math.max(O,Q.width);N+=Q.height;};return {width:O,height:N+this.getSpacingY()*(P-1)};}}});})();(function(){var a="No more lines to compute",b="qx.ui.layout.LineSizeIterator";qx.Class.define(b,{extend:Object,construct:function(d,c){this.__mt=d;this.__zy=c;this.__zz=d.length>0;this.__zA=0;},members:{__mt:null,__zy:null,__zz:null,__zA:null,computeNextLine:function(k){var k=k||Infinity;if(!this.__zz){throw new Error(a);};var p=this.__mt;var n=0;var f=0;var o=[];var j=[];for(var i=this.__zA;i<p.length;i++ ){var m=p[i];var q=m.getSizeHint();var g=this.__zB(i);var h=q.width+g;var e=i==this.__zA;if(!e&&f+h>k){this.__zA=i;break;};var l=q.height+m.getMarginTop()+m.getMarginBottom();o.push(m);j.push(g);f+=h;n=Math.max(n,l);if(m.getLayoutProperties().lineBreak){this.__zA=i+1;break;};};if(i>=p.length){this.__zz=false;};return {height:n,width:f,children:o,gapsBefore:j};},__zB:function(r){var s=r==this.__zA;if(s){return this.__mt[r].getMarginLeft();}else {return Math.max(this.__mt[r-1].getMarginRight(),this.__mt[r].getMarginLeft(),this.__zy);};},hasMoreLines:function(){return this.__zz;}}});})();(function(){var a='cv.manager.action.new-file',b='new-menu',c='changeFolder',d='visibility',e='folder',f='Reload',g='Validate',h='_applyFolder',i='new-file',j='cv.manager.action.new-config-file',k='_applyFile',l='folder.writeable',m='visible',n='upload',o='/15',p='cv.ui.manager.ToolBar',q='download',r='cv.manager.action.new-folder',s='excluded',t='changeFile',u='execute',v='qx.event.type.Event',w='enabled',x='Download',y='cv-toolbar',z='new-folder',A='cv-toolbar-button',B='cv.ui.manager.model.FileItem',C='file',D='reload',E='validate',F='delete',G='new-config-file';qx.Class.define(p,{extend:qx.ui.toolbar.ToolBar,construct:function(I,H){qx.ui.toolbar.ToolBar.call(this);if(H){this.__zC=H;};this._menuBar=cv.ui.manager.MenuBar.getInstance();this._menuButtonConfig=this._menuBar.getButtonConfiguration();this._uploadManager=I;this._init();},events:{'reload':v},properties:{appearance:{refine:true,init:y},folder:{check:B,nullable:true,apply:h,event:c},file:{check:B,nullable:true,apply:k,event:t}},members:{_menuButtonConfig:null,_uploadManager:null,_menuBar:null,__zC:null,__zD:function(name){return this.__zC===null||this.__zC.includes(name);},_init:function(){if(!this._uploadManager){this._uploadManager=new cv.ui.manager.upload.UploadMgr();};var M=cv.ui.manager.control.FileController.getInstance();var K=new qx.ui.toolbar.Part();K.set({marginLeft:0});this.add(K);var J;if(this.__zD(b)){J=new qx.ui.toolbar.MenuButton(null,cv.theme.dark.Images.getIcon(i,15),this._menuBar.getChildControl(b));this.bind(l,J,w);K.add(J);}else {if(this.__zD(G)){J=this._createButton(G,cv.theme.dark.Images.getIcon(i,15));this.bind(l,J,w);this.bind(e,J,d,{converter:function(R){return R===cv.ui.manager.model.FileItem.ROOT?m:s;}});J.addListener(u,function(){qx.event.message.Bus.dispatchByName(j,this.getFolder());},this);K.add(J);}else if(this.__zD(i)){J=this._createButton(i,null,true);this.bind(l,J,w);J.addListener(u,function(){qx.event.message.Bus.dispatchByName(a,this.getFolder());},this);K.add(J);};if(this.__zD(z)){J=this._createButton(z,cv.theme.dark.Images.getIcon(z,15),true);this.bind(l,J,w);J.addListener(u,function(){qx.event.message.Bus.dispatchByName(r,this.getFolder());},this);K.add(J);};};if(this.__zD(n)){var N=this._createButton(n);this._uploadManager.addWidget(N);this.bind(l,N,w);K.add(N);};if(this.__zD(F)){var Q=this._createButton(F);Q.addListener(u,function(){M.delete(this.getFile());},this);this.bind(C,Q,w,{converter:function(S){return !!S&&S.isWriteable()&&!S.isFake();}});this.add(Q);};if(this.__zD(q)){var P=new qx.ui.toolbar.Button(null,cv.theme.dark.Images.getIcon(q,15));P.setAppearance(A);P.setToolTipText(qx.locale.Manager.tr(x));P.addListener(u,function(){M.download(this.getFile());},this);this.bind(C,P,w,{converter:function(T){return !!T&&T.getType()===C&&!T.isFake();}});K.add(P);};if(this.__zD(E)){var L=new qx.ui.toolbar.Button(null,cv.theme.dark.Images.getIcon(E,15));L.setAppearance(A);L.setToolTipText(qx.locale.Manager.tr(g));L.addListener(u,function(){M.validate(this.getFile());},this);this.bind(C,L,w,{converter:function(U){return !!U&&U.isConfigFile();}});this.add(L);};if(this.__zD(D)){var O=new qx.ui.toolbar.Button(null,cv.theme.dark.Images.getIcon(D,15));O.setAppearance(A);O.setToolTipText(qx.locale.Manager.tr(f));O.addListener(u,function(){this.fireEvent(D);},this);this.add(new qx.ui.core.Spacer(),{flex:1});this.add(O);};},_createButton:function(name,X,Y){var W=this._menuButtonConfig[name].args;var V=new qx.ui.toolbar.Button(null,X||W[1].replace(/\/[0-9]+$/,o),!Y?W[2]:null);V.setAppearance(A);V.setToolTipText(W[0]);return V;},_applyFile:function(){},_applyFolder:function(ba){if(this._uploadManager){if(ba){this._uploadManager.setFolder(ba);}else {this._uploadManager.resetFolder();};};}},destruct:function(){this._menuButtonConfig=null;this._uploadManager=null;this.__zE=null;}});})();(function(){var a="qx.ui.menubar.MenuBar",b="menubar";qx.Class.define(a,{extend:qx.ui.toolbar.ToolBar,properties:{appearance:{refine:true,init:b}}});})();(function(){var a='edit',b='new-folder',c="file",d='delete',e='Preferences',f='Use xml editor',g='undo',h='before',i='File',j='New',k='cv.manager.action.',l=' found!',m='Expert mode',n='Quit',o='after',p='value',q='quick-preview',r='Copy',s='new-file',t='Edit',u='Use text editor',v='Ctrl+Y',w="edit",x='Delete',y='Cut',z='change',A='Undo',B='new',C='New file',D='file-menu',E='upload',F='xml',G='CometVisu Manager',H='onAfterCreate',I='edit-menu',J='redo',K='title',L='modelSelection',M='quickPreview',N='cv.ui.manager.MenuBar',O='singleton',P='Enable quick preview',Q="new",R='Ctrl+V',S='source',T='execute',U='preferences-menu',V='defaultConfigEditor',W='save-as',X='new-menu',Y='Redo',by='save',bz='no menu named ',bA='New folder',bu='expert-mode',bv='shortcut',bw='Ctrl+X',bx='expertMode',bE='preferences',bF='Upload file',bG='New config file',bJ='Paste',bB='file',bC="preferences",bD='Ctrl+C',bs='quit',bH='Save',bt='Ctrl+Z',bI='Save as...';qx.Class.define(N,{extend:qx.ui.menubar.MenuBar,type:O,construct:function(){qx.ui.menubar.MenuBar.call(this);this._commandGroup=qx.core.Init.getApplication().getCommandManager().getActive();this.__zF={};this._draw();},members:{_commandGroup:null,__zF:null,__zG:null,__zH:null,_draw:function(){this._createChildControl(bB);this._createChildControl(a);this._createChildControl(bE);this.add(new qx.ui.core.Spacer(),{flex:1});this._createChildControl(K);this.add(new qx.ui.core.Spacer(),{flex:1});var bL=new qx.ui.form.RadioGroup();this.__zG={'new-file':{menu:X,args:[this.tr(C),cv.theme.dark.Images.getIcon(s,18),this._commandGroup.get(s)],enabled:true},'new-folder':{menu:X,args:[this.tr(bA),cv.theme.dark.Images.getIcon(b,18),this._commandGroup.get(b)],enabled:true,separator:o},'new-config-file':{menu:X,args:[this.tr(bG)],enabled:true},'upload':{menu:D,clazz:com.zenesis.qx.upload.UploadMenuButton,args:[this.tr(bF),cv.theme.dark.Images.getIcon(E,18)],enabled:true,separator:h},'save':{menu:D,args:[this.tr(bH),cv.theme.dark.Images.getIcon(by,18),this._commandGroup.get(by)],enabled:false,separator:h},'save-as':{menu:D,args:[this.tr(bI),null,this._commandGroup.get(W)],enabled:false},'delete':{args:[this.tr(x),cv.theme.dark.Images.getIcon(d,18),this._commandGroup.get(d)],enabled:false,hidden:true},'quit':{menu:D,args:[this.tr(n),cv.theme.dark.Images.getIcon(bs,18),this._commandGroup.get(bs)],enabled:true,separator:h},'undo':{menu:I,args:[this.tr(A),cv.theme.dark.Images.getIcon(g,18),this.tr(bt)],enabled:true},'redo':{menu:I,args:[this.tr(Y),cv.theme.dark.Images.getIcon(J,18),this.tr(v)],enabled:true},'cut':{menu:I,args:[this.tr(y),null,this.tr(bw)],enabled:false,separator:h},'copy':{menu:I,args:[this.tr(r),null,this.tr(bD)],enabled:false},'paste':{menu:I,args:[this.tr(bJ),null,this.tr(R)],enabled:false},'source-editor':{menu:U,clazz:qx.ui.menu.RadioButton,args:[this.tr(u)],general:true,enabled:true,properties:{model:S,group:bL}},'xml-editor':{menu:U,clazz:qx.ui.menu.RadioButton,args:[this.tr(f)],general:true,enabled:true,properties:{model:F,group:bL}},'quick-preview':{menu:U,clazz:qx.ui.menu.CheckBox,args:[this.tr(P)],general:true,enabled:true,separator:h},'expert-mode':{menu:U,clazz:qx.ui.menu.CheckBox,args:[this.tr(m)],general:true,enabled:true}};this.maintainButtons();var bK=cv.ui.manager.model.Preferences.getInstance();bK.bind(V,bL,L,{converter:function(bM){return [bM];}});bL.getModelSelection().addListener(z,function(){bK.setDefaultConfigEditor(bL.getModelSelection().getItem(0));},this);this.__zI(q,M);this.__zI(bu,bx);},__zI:function(bQ,bP){var bN=this.getButton(bQ);var bO=cv.ui.manager.model.Preferences.getInstance();bO.bind(bP,bN,p);bN.bind(p,bO,bP);},maintainButtons:function(bR){if(!bR){bR=this.__zG;}else {bR=Object.merge(this.__zG,bR);this.__zH=bR;};Object.keys(bR).forEach(function(bY){var bT;var bU=bR[bY];if(!this.__zF.hasOwnProperty(bY)){var bV=bU.args[0];var bX=bU.args[1];var bW=bU.args[2];var ca=bU.clazz||qx.ui.menu.Button;if(qx.lang.Type.isString(bW)||!bW){bT=new ca(bV,bX);if(bW){bT.getChildControl(bv).setValue(bW);};}else {bT=new ca(bV,bX,bW);};bT.addListener(T,function(){qx.event.message.Bus.dispatchByName(k+bY);},this);if(!bU.hidden){var bS=this.getChildControl(bU.menu);if(!bS){throw new Error(bz+bU.menu+l);};if(bU.separator===h){bS.add(new qx.ui.menu.Separator());};bS.add(bT);if(bU.separator===o){bS.add(new qx.ui.menu.Separator());};};this.__zF[bY]=bT;if(bU.hasOwnProperty(H)){bU.onAfterCreate(bT);};}else {bT=this.__zF[bY];};bT.setEnabled(bU.enabled);if(bU.properties){bT.set(bU.properties);};},this);},getButton:function(cb){return this.__zF[cb];},getButtonConfiguration:function(){return this.__zH||this.__zG;},_createChildControlImpl:function(cd){var cc;switch(cd){case K:cc=new qx.ui.basic.Label(this.tr(G));this.add(cc);break;case c:cc=new qx.ui.menubar.Button(this.tr(i),null,this.getChildControl(D));this.add(cc);break;case w:cc=new qx.ui.menubar.Button(this.tr(t),null,this.getChildControl(I));this.add(cc);break;case Q:cc=new qx.ui.menu.Button(this.tr(j),null,null,this.getChildControl(X));break;case bC:cc=new qx.ui.menubar.Button(this.tr(e),null,this.getChildControl(U));this.add(cc);break;case X:cc=new qx.ui.menu.Menu();break;case D:cc=new qx.ui.menu.Menu();cc.add(this.getChildControl(B));break;case I:cc=new qx.ui.menu.Menu();break;case U:cc=new qx.ui.menu.Menu();break;};return cc||qx.ui.menubar.MenuBar.prototype._createChildControlImpl.call(this,cd);}},destruct:function(){this._commandGroup=null;}});})();(function(){var a="qx.ui.form.RadioGroup",b="Boolean",c="menu-radiobutton",d="label",f="_applyValue",g="qx.ui.menu.RadioButton",h="value",i="changeValue",j="toolTipText",k="enabled",l="_applyGroup",m="checked",n="menu",o="execute";qx.Class.define(g,{extend:qx.ui.menu.AbstractButton,include:[qx.ui.form.MModelProperty],implement:[qx.ui.form.IRadioItem,qx.ui.form.IBooleanForm,qx.ui.form.IModel],construct:function(q,p){qx.ui.menu.AbstractButton.call(this);if(q!=null){this.setLabel(q);};if(p!=null){this.setMenu(p);};this.addListener(o,this._onExecute,this);},properties:{appearance:{refine:true,init:c},value:{check:b,nullable:true,event:i,apply:f,init:false},group:{check:a,nullable:true,apply:l}},members:{_bindableProperties:[k,d,j,h,n],_applyValue:function(s,r){s?this.addState(m):this.removeState(m);},_applyGroup:function(u,t){if(t){t.remove(this);};if(u){u.add(this);};},_onExecute:function(e){var v=this.getGroup();if(v&&v.getAllowEmptySelection()){this.toggleValue();}else {this.setValue(true);};}}});})();(function(){var a="menu-checkbox",b="Boolean",c="label",d="_applyValue",f="value",g="changeValue",h="toolTipText",i="enabled",j="qx.ui.menu.CheckBox",k="checked",l="menu",m="execute";qx.Class.define(j,{extend:qx.ui.menu.AbstractButton,implement:[qx.ui.form.IBooleanForm],construct:function(o,n){qx.ui.menu.AbstractButton.call(this);if(o!=null){if(o.translate){this.setLabel(o.translate());}else {this.setLabel(o);};};if(n!=null){this.setMenu(n);};this.addListener(m,this._onExecute,this);},properties:{appearance:{refine:true,init:a},value:{check:b,init:false,apply:d,event:g,nullable:true}},members:{_bindableProperties:[i,c,h,f,l],_applyValue:function(q,p){q?this.addState(k):this.removeState(k);},_onExecute:function(e){this.toggleValue();}}});})();(function(){var a="com.zenesis.qx.upload.MParameters",b="string",c="";qx.Mixin.define(a,{members:{__zJ:null,setParam:function(name,d){if(d!==null&&typeof d!=b)d=c+d;if(!this.__zJ)this.__zJ={};this.__zJ[name]=d;},getParam:function(name){return this.__zJ&&this.__zJ[name];},getParamNames:function(){var e=[];if(this.__zJ)for(var name in this.__zJ)e.push(name);return e;}}});})();(function(){var a="com.zenesis.qx.upload.MUploadButton",b="String";qx.Mixin.define(a,{include:[com.zenesis.qx.upload.MParameters],properties:{acceptUpload:{init:null,nullable:true,check:b}},members:{capture:function(){},releaseCapture:function(){}}});})();(function(){var a="com.zenesis.qx.upload.UploadMenuButton";qx.Class.define(a,{extend:qx.ui.menu.Button,include:[com.zenesis.qx.upload.MUploadButton],members:{_onTap:function(b){var self=this;setTimeout(function(){self._onTap(b);},100);}}});})();(function(){var a="Boolean",b="arrow",c="visible",d="_applyShowArrow",e="toolbar-menubutton",f="qx.ui.toolbar.MenuButton";qx.Class.define(f,{extend:qx.ui.menubar.Button,properties:{appearance:{refine:true,init:e},showArrow:{check:a,init:false,themeable:true,apply:d}},members:{_applyVisibility:function(i,h){qx.ui.menubar.Button.prototype._applyVisibility.call(this,i,h);var g=this.getMenu();if(i!=c&&g){g.hide();};var parent=this.getLayoutParent();if(parent&&parent instanceof qx.ui.toolbar.PartContainer){qx.ui.core.queue.Appearance.add(parent);};},_createChildControlImpl:function(l,k){var j;switch(l){case b:j=new qx.ui.basic.Image();j.setAnonymous(true);this._addAt(j,10);break;};return j||qx.ui.menubar.Button.prototype._createChildControlImpl.call(this,l);},_applyShowArrow:function(n,m){if(n){this._showChildControl(b);}else {this._excludeChildControl(b);};}}});})();(function(){var a="function",b="Boolean",c="px",d="changeInputNamePrefix",e="_applyMultiple",f="changeUploadUrl",g='-',h="com.zenesis.qx.upload.UploadMgr",i="qx.event.type.Data",j="change",k="Changing the requireMultipartFormData property of ",l="changeRequireMultipartFormData",m="String",n="resize",o="changeEnabled",p="changeAutoUpload",q="",r=" has no effect once uploads have started",s="appear",t="_applyRequireMultipartFormData",u="uploadMgrInput",v="keydown",w="overflow",x="_applyAutoUpload",y="hidden",z="changeMultiple",A="uploadId:";qx.Class.define(h,{extend:qx.core.Object,include:[com.zenesis.qx.upload.MParameters],construct:function(B,C){qx.core.Object.call(this);this.__zK={};if(B)this.addWidget(B);if(C)this.setUploadUrl(C);},events:{"addFile":i,"beginUpload":i,"completeUpload":i,"cancelUpload":i},properties:{uploadUrl:{check:m,nullable:false,init:q,event:f},autoUpload:{check:b,init:true,nullable:false,event:p,apply:x},multiple:{check:b,init:true,nullable:false,event:z,apply:e},inputNamePrefix:{check:m,init:u,nullable:false,event:d},requireMultipartFormData:{check:b,init:true,nullable:false,event:l,apply:t}},members:{__zK:null,__zL:0,__zM:null,__zN:0,addWidget:function(D){var F=D.addListenerOnce(s,function(H){var I=this.__zK[D.toHashCode()];if(I){I.appearId=null;var G=D.getContentElement();G.setStyle(w,y);if(D.getEnabled()&&!I.inputElement)G.addAt(this._createInputElement(D),0);this.__zO(D);};},this);var E=null;{E=D.addListener(v,function(J){var K=this.__zK[D.toHashCode()];if(K&&K.inputElement){var L=K.inputElement.getDomElement();if(L&&typeof L.click==a){L.click();};};},this);};this.__zK[D.toHashCode()]={appearId:F,keydownId:E,widget:D,inputElement:null};D.addListener(n,function(M){this.__zO(D);},this);D.addListener(o,function(N){if(N.getData()){var O=D.getContentElement();O.addAt(this._createInputElement(D),0);}else {this._removeInputElement(D);};},this);},removeWidget:function(P){var Q=this.__zK[P.toHashCode()];if(Q){if(Q.appearId)P.removeListener(Q.appearId);if(Q.keydownId)P.removeListener(Q.keydownId);delete this.__zK[P.toHashCode()];};},addBlob:function(T,S,R){this.getUploadHandler().addBlob(T,S,R);if(this.getAutoUpload())this.getUploadHandler().beginUploads();},__zO:function(U){var V=this.__zK[U.toHashCode()];if(V&&V.inputElement){var W=U.getBounds();if(W){V.inputElement.setStyles({width:W.width+c,height:W.height+c});};};},_applyAutoUpload:function(X,Y){this.getUploadHandler().beginUploads();},_applyMultiple:function(bc,bd){for(var ba in this.__zK){var bb=this.__zK[ba];if(bb.inputElement)bb.inputElement.setMultiple(bc);};},_applyRequireMultipartFormData:function(be,bf){if(this.__zM)throw new Error(k+this+r);},cancel:function(bg){this.getUploadHandler().cancel(bg);},cancelAll:function(){this.getUploadHandler().cancelAll();},_createInputElement:function(bh){var bi=this.__zK[bh.toHashCode()];var name=this.getInputNamePrefix()+g+( ++this.__zL);qx.core.Assert.assertNull(bi.inputElement);var bj=bi.inputElement=new com.zenesis.qx.upload.InputElement(bh,this.getMultiple(),name);bj.addListenerOnce(j,qx.lang.Function.bind(this._onInputChange,this,bj));return bj;},_removeInputElement:function(bl){var bk=this.__zK[bl.toHashCode()];var bn=bk.inputElement;var bm=bl.getContentElement();bk.inputElement=null;if(bn)bm.remove(bn);},_resetInputElement:function(bo){this._removeInputElement(bo);var bp=bo.getContentElement();bp.addAt(this._createInputElement(bo),0);},_onInputChange:function(bs,br){var bq=bs.getWidget();this.getUploadHandler().addFile(bs.getDomElement(),bq);if(this.getAutoUpload())this.getUploadHandler().beginUploads();this._resetInputElement(bq);},getUploadHandler:function(){if(!this.__zM){if(com.zenesis.qx.upload.XhrHandler.isSupported(this.isRequireMultipartFormData()))this.__zM=new com.zenesis.qx.upload.XhrHandler(this);else this.__zM=new com.zenesis.qx.upload.FormHandler(this);};return this.__zM;},allocateUploadId:function(){return A+( ++this.__zN);}}});})();(function(){var a='browser.name',b=' ',c="Boolean",d='200%',e='input',f='browser.version',g="_applyMultiple",h='0px',i="true",j='118px',k='ie',l='file',m="pointer",n='100%',o='alpha(opacity=0)',p='Arial',q="multiple",r="com.zenesis.qx.upload.InputElement",s="absolute";qx.Class.define(r,{extend:qx.html.Element,construct:function(t,u,name){var x={position:s,cursor:m,hideFocus:i,zIndex:t.getZIndex()+11,opacity:0,top:h,right:h,fontFamily:p,fontSize:j};if((qx.core.Environment&&qx.core.Environment.get(a)==k&&qx.core.Environment.get(f)<9)||(!qx.core.Environment&&qx.bom.client.Engine.MSHTML&&qx.bom.client.Engine.VERSION<9.0)){x.filter=o;x.width=d;x.height=n;};var w={type:l,name:name,title:b};if(qx.Class.hasMixin(t.constructor,com.zenesis.qx.upload.MUploadButton)){var v=t.getAcceptUpload();if(v)w.accept=v;};qx.html.Element.call(this,e,x,w);this.__zP=t;this.setMultiple(!!u);},properties:{multiple:{init:false,check:c,apply:g}},members:{__zP:null,getWidget:function(){return this.__zP;},_applyMultiple:function(y,z){if(y)this.setAttribute(q,q);else this.removeAttribute(q);}}});})();(function(){var a="changeMaxConnections",b="uploaded",c="abstract",d="completeUpload",e="beginUpload",f="addFile",g="cancelUpload",h="see com.zenesis.qx.upload.UploadMgr.setParam or com.zenesis.qx.upload.File.setParam",j="com.zenesis.qx.upload.AbstractHandler",k="uploading",l="cancelled",m="see com.zenesis.qx.upload.UploadMgr.getParam or com.zenesis.qx.upload.File.getParam",n="Integer",o="function";qx.Class.define(j,{type:c,extend:qx.core.Object,construct:function(p){qx.core.Object.call(this);qx.core.Assert.assertNotNull(p);this.__kY=[];this.__zQ=[];this.__zJ={};this.__zR=p;},properties:{maxConnections:{check:n,init:5,nullable:false,event:a}},members:{__zS:0,__zR:null,__kY:null,__zQ:null,__zJ:null,addFile:function(s,r){var q=this._createFile(s);if(!qx.lang.Type.isArray(q)){q.setUploadWidget(r);this._addFile(q);}else for(var i=0;i<q.length;i++ ){q[i].setUploadWidget(r);this._addFile(q[i]);};},addBlob:function(v,u,t){},_addFile:function(w){if(this.__zR.fireDataEvent(f,w,null,true))this.__kY.push(w);},beginUploads:function(){while(this.__kY.length>0&&this.__zQ.length<this.getMaxConnections()){var x=this.__kY.shift();this.__zQ.push(x);this.__zR.fireDataEvent(e,x);x.setState(k);this._doUpload(x);};},cancel:function(z){var y=this.__zQ.length>0;this._cancel(z);if(y&&this.__zR.getAutoUpload())this.beginUploads();},cancelAll:function(){for(var A=this.__zQ,i=0;i<A.length;i++ )this._cancel(A[i]);this.__zQ.splice(0,this.__zQ.length);this.__kY.splice(0,this.__kY.length);},_cancel:function(E){var C=false;for(var D=this.__zQ,i=0;i<D.length;i++ )if(D[i]==E){D.splice(i,1);C=true;break;};for(var B=this.__kY,i=0;i<B.length;i++ )if(B[i]==E){B.splice(i,1);break;};E.setState(l);if(C)this._doCancel(E);this.__zR.fireDataEvent(g,E);},_onCompleted:function(H,G){var F=this.__zQ;for(var i=0;i<F.length;i++ )if(F[i]==H){F.splice(i,1);break;};H.setResponse(G);if(H.getState()==k){H.setState(b);this.__zR.fireDataEvent(d,H);};this.beginUploads();},_getUploader:function(){return this.__zR;},_getUniqueFileId:function(){return  ++this.__zS;},addParam:function(I,J){qx.log.Logger.deprecatedMethodWarning(arguments.callee,h);this.__zJ[I]=J;},getParams:function(){qx.log.Logger.deprecatedMethodWarning(arguments.callee,m);return this.__zJ;},_getMergedParams:function(O){var N={};for(var name in this.__zJ){var L=this.__zJ[name];if(L!==null)N[name]=L;};function M(P){var Q=P.getParamNames();for(var i=0;i<Q.length;i++ ){var name=Q[i],R=P.getParam(name);if(R!==null)N[name]=R;else delete N[name];};};M(this.__zR);var K=O.getUploadWidget();if(K&&(typeof K.getParamNames==o))M(K);if(typeof O.getParamNames==o)M(O);return N;},_createFile:function(S){},_doUpload:function(T){},_doCancel:function(U){}}});})();(function(){var a="--------FormData",b="--",c=", loaded=",d="file",f="keep-alive",g="X-Requested-With",h="multipart/form-data; boundary=----WebKitFormBoundaryTfptZDRmE8C3dZmW",j="function",k="application/octet-stream",l="Content-Type: ",m="upload-",n='multiple',o="\"\r\n",p="XMLHttpRequest",q="Content-Type",r='file',s="\r\n",t="gzip, deflate",u=", headerLength=",v="*/*",w='input',x="\r\n\r\n",y="en,en-US;q=0.8",z=", total=",A="POST",B="Content-Disposition: form-data; name=\"file\"; filename=\"",C="com.zenesis.qx.upload.XhrHandler",D="",E="\";\r\n\r\n",F="no-cache",G="onprogress: lengthComputable=",H="No files found to upload via XhrHandler",I="multipart/form-data; boundary=",J="Content-Disposition: form-data; name=\"",K="undefined",L="X-File-Name",M="object";qx.Class.define(C,{extend:com.zenesis.qx.upload.AbstractHandler,members:{addBlob:function(O,Q,P){var S=m+this._getUniqueFileId();var R=new com.zenesis.qx.upload.File(Q,O,S);if(P){for(var name in P){var N=P[name];if(N!==null)R.setParam(name,N);};};this._addFile(R);},_createFile:function(Y){var bb=Y.files;if(!bb||!bb.length)this.debug(H);var T=[];for(var i=0;i<bb.length;i++ ){var U=bb[i];var ba=m+this._getUniqueFileId();var V=typeof U.name!=K?U.name:U.fileName;var X=new com.zenesis.qx.upload.File(U,V,ba);var W=typeof U.size!=K?U.size:U.fileSize;X.setSize(W);T.push(X);};return T;},_doUpload:function(bk){function be(bq){bc+=bq+s;bc+=b+bo+b;bi.open(A,bm,true);bh(g,p);bh(L,encodeURIComponent(bk.getFilename()));bh(q,I+bo);bi.send(bc);};function bh(name,br){bi.setRequestHeader(name,br);bg+=name.length+2+br.length+1;};var bg=0;var bp={"Accept":v,"Accept-Encoding":t,"Accept-Language":y,"Cache-Control":F,"Connection":f,"Content-Length":D+bk.getSize(),"Content-Type":h,"Host":document.location.host,"Pragma":F,"Referer":document.location.href,"User-Agent":navigator.userAgent};if(document.location.origin)bp.Origin=document.location.origin;for(var bf in bp)bg+=bp[bf].length+1;var bi=new XMLHttpRequest();if(com.zenesis.qx.upload.XhrHandler.isWithCredentials())bi.withCredentials=true;var self=this;bk.setUserData(C,bi);bi.upload.onprogress=function(e){self.debug(G+e.lengthComputable+z+e.total+c+e.loaded+u+bg);if(e.lengthComputable){bk.setSize(e.total-bg);bk.setProgress(e.loaded-bg);};};bi.onreadystatechange=function(){if(bi.readyState==4){var bs=bi.responseText;bk.setUserData(C,null);bk.setStatus(bi.status);self._onCompleted(bk,bs);};};if(typeof FormData==j||typeof FormData==M){var bn=new FormData();var bm=this._getUploader().getUploadUrl();var bj=this._getMergedParams(bk);for(var name in bj)bn.append(name,encodeURIComponent(bj[name]));bn.append(d,bk.getBrowserObject());bi.open(A,bm,true);bh(g,p);bh(L,encodeURIComponent(bk.getFilename()));bi.send(bn);}else {var bd=bk.getBrowserObject();var bo=a+Math.random(),bc=D,bm=this._getUploader().getUploadUrl(),bj=this._getMergedParams(bk);for(var name in bj){bc+=b+bo+s;bc+=J+name+E;bc+=bj[name]+s;};bc+=b+bo+s;bc+=B+bk.getFilename()+o;bc+=l+(bd.type||k)+x;if(typeof bd.getAsBinary==j){be(bd.getAsBinary());}else {var bl=new FileReader();bl.onload=function(bt){be(bt.target.result);};bl.readAsBinaryString(bd);};};},_doCancel:function(bv){var bu=bv.getUserData(C);if(bu){bu.abort();bv.setUserData(C,null);};}},statics:{__zT:false,isSupported:function(bx){var by=document.createElement(w);by.type=r;var bw=n in by&&typeof File!=K&&typeof (new XMLHttpRequest()).upload!=K;return bw;},setWithCredentials:function(bz){this.__zT=true;},isWithCredentials:function(){return this.__zT;}}});})();(function(){var a="uploaded",b="changeSize",c="",d="changeId",e="changeResponse",f="changeFilename",g="string",h="changeStatus",i="changeState",j="com.zenesis.qx.upload.File",k="_applyState",l="changeUploadWidget",m="cancelled",n="uploading",o="Integer",p="not-started",q="String",r="changeProgress";qx.Class.define(j,{extend:qx.core.Object,construct:function(s,u,t){qx.core.Object.call(this);qx.core.Assert.assertNotNull(s);qx.core.Assert.assertNotNull(u);qx.core.Assert.assertNotNull(t);this.__zU=s;this.setFilename(u);this.setId(t);},properties:{filename:{check:q,nullable:false,event:f},id:{check:q,nullable:false,event:d},size:{check:o,nullable:false,init:-1,event:b},progress:{check:o,nullable:false,init:0,event:r},state:{check:[p,n,m,a],nullable:false,init:p,event:i,apply:k},response:{init:null,nullable:true,check:q,event:e},uploadWidget:{init:null,nullable:true,event:l},status:{init:null,nullable:true,event:h}},members:{__zU:null,__zJ:null,setParam:function(name,v){if(v!==null&&typeof v!=g)v=c+v;if(!this.__zJ)this.__zJ={};this.__zJ[name]=v;},getParam:function(name){return this.__zJ&&this.__zJ[name];},getParamNames:function(){var w=[];if(this.__zJ)for(var name in this.__zJ)w.push(name);return w;},getBrowserObject:function(){return this.__zU;},_applyState:function(x,y){qx.core.Assert.assertTrue((!y&&x==p)||(y==p&&(x==m||x==n))||(y==n&&(x==m||x==a)));}}});})();(function(){var a='input',b="addBlob is not supported in the FormHandler.",c="com.zenesis.qx.upload.FormHandler",d="",f="POST",g='none',h='src',i="upload-iframe-",j="form",k="javascript:false;",l="load",m="iframe",n="hidden",o="upload-form-",p="false",q="upload-",r="multipart/form-data",s='javascript:false;';qx.Class.define(c,{extend:com.zenesis.qx.upload.AbstractHandler,members:{addBlob:function(v,u,t){throw new Error(b);},_createFile:function(w){var x=q+this._getUniqueFileId(),z=w.value.replace(/.*(\/|\\)/,d),y=new com.zenesis.qx.upload.File(w,z,x);return y;},_doUpload:function(C){var A=this._createIframe(C.getId()),B=this._createForm(A,C);B.appendChild(C.getBrowserObject());var self=this;qx.bom.Event.addNativeListener(A,l,function(D){if(!A.parentNode)return;try{if(A.contentDocument&&A.contentDocument.body&&A.contentDocument.body.innerHTML==p){return;};}catch(e){};var E=self._getIframeContent(A);self._onCompleted(C,E);setTimeout(function(){A.parentNode.removeChild(A);B.parentNode.removeChild(B);},1);});B.submit();},_doCancel:function(F){var G=F.getUserData(c);if(!G)return;var H=document.getElementById(i+F.getId()),I=document.getElementById(o+F.getId());if(H!=null){H.setAttribute(h,s);H.parentNode.removeChild(H);};if(I!=null)I.parentNode.removeChild(I);},_getIframeContent:function(L){try{var J=L.contentDocument?L.contentDocument:L.contentWindow.document,K=J.body.innerHTML;return K;}catch(e){return null;};},_createIframe:function(M){var N=qx.dom.Element.create(m,{src:k,name:M,id:i+M});qx.bom.element.Style.setStyles(N,{display:g});document.body.appendChild(N);return N;},_createForm:function(P,S){var Q=qx.dom.Element.create(j,{enctype:r,encoding:r,action:this._getUploader().getUploadUrl(),method:f,target:P.name,id:o+S.getId()});qx.bom.element.Style.setStyles(Q,{display:g});var R=this._getMergedParams(S);for(var name in R){var O=qx.dom.Element.create(a,{type:n,name:name,value:R[name]});Q.appendChild(O);};document.body.appendChild(Q);return Q;}}});})();(function(){var a='uploaded',b=" (Uploading...)",c='File upload stopped with an error: %1',d='String',f=" (Complete)",g='/fs?type=file&path=',h='Boolean',i='force',j="upload-",k=" / ",l='Uploading this file is not allowed here.',m='File has been uploaded',n="%",o='File already exists',p=" - ",q='.',r="changeState",s=": ",t=" (Cancelled)",u='This file already exists, do you want to replace it?',v='_updateUploadUrl',w="addFile",x="Upload ",y='Replacing the file failed.',z='filename',A="cancelled",B='cv.manager.file',C="uploaded",D='/',E='cv.ui.manager.model.FileItem',F="cv.ui.manager.upload.UploadMgr",G="uploading",H="undefined",I="changeProgress";qx.Class.define(F,{extend:com.zenesis.qx.upload.UploadMgr,construct:function(J,K){com.zenesis.qx.upload.UploadMgr.call(this,J,K);this._init();},statics:{LAST_ID:0},properties:{multiple:{refine:true,init:false},folder:{check:E,nullable:true,apply:v},filename:{check:d,nullable:true},force:{check:h,init:false}},members:{_updateUploadUrl:function(){var N=this.getFolder();var M=N?N.getFullPath():q;var L=cv.io.rest.Client.getBaseUrl()+g+M;this.setUploadUrl(L);},_init:function(){this.addListener(w,function(Q){var R=Q.getData();var S=this.getFilename();if(S){R.setParam(z,S);};if(this.isForce()){R.setParam(i,true);};var O=R.addListener(I,function(T){var U=T.getTarget();var V=T.getData();this.debug(x+U.getFilename()+s+V+k+U.getSize()+p+Math.round(V/U.getSize()*100)+n);},this);var P=R.addListener(r,function(X){var W=X.getData();var Y=X.getTarget();if(W===G){this.debug(Y.getFilename()+b);}else if(W===C){this.debug(Y.getFilename()+f);if(Y.getStatus()!==200){switch(Y.getStatus()){case 406:if(this.isForce()){cv.ui.manager.snackbar.Controller.error(qx.locale.Manager.tr(y));}else {dialog.Dialog.confirm(qx.locale.Manager.tr(u),function(bb){if(bb){this.forceUpload(Y);};},this,qx.locale.Manager.tr(o));};break;case 403:cv.ui.manager.snackbar.Controller.error(qx.locale.Manager.tr(l));break;default:var ba=Y.getResponse();try{ba=qx.lang.Json.parse(ba).message;}catch(e){};this.error(ba);cv.ui.manager.snackbar.Controller.error(qx.locale.Manager.tr(c,ba));break;};}else {cv.ui.manager.snackbar.Controller.info(qx.locale.Manager.tr(m));qx.event.message.Bus.dispatchByName(B,{action:a,path:this.getFolder().getFullPath()+D+Y.getFilename()});};}else if(W===A){this.debug(Y.getFilename()+t);};if(W===C||W===A){Y.removeListenerById(O);Y.removeListenerById(P);};},this);},this);},_getUniqueFileId:function(){return  ++cv.ui.manager.upload.UploadMgr.LAST_ID;},forceUpload:function(bc){this.setForce(true);var bd=new com.zenesis.qx.upload.File(bc.getBrowserObject(),bc.getFilename(),bc.getId());bd.set({size:bc.getSize(),uploadWidget:bc.getUploadWidget()});bd.setParam(i,true);this.getUploadHandler()._addFile(bd);if(this.getAutoUpload()){this.getUploadHandler().beginUploads();};},uploadFile:function(bf){var be=j+this._getUniqueFileId();var bi=typeof bf.name!==H?bf.name:bf.fileName;var bh=new com.zenesis.qx.upload.File(bf,bi,be);var bg=typeof bf.size!==H?bf.size:bf.fileSize;bh.setSize(bg);if(this.isForce()){bh.setParam(i,true);};bh.setUploadWidget(new com.zenesis.qx.upload.UploadButton());this.getUploadHandler()._addFile(bh);if(this.getAutoUpload()){this.getUploadHandler().beginUploads();};},replaceFile:function(bj,bn){this.setFolder(bn.getParent());var bo=j+this._getUniqueFileId();var bk=bn.getName();var bm=new com.zenesis.qx.upload.File(bj,bk,bo);bm.setParam(i,true);bm.setParam(z,bk);var bl=typeof bj.size!==H?bj.size:bj.fileSize;bm.setSize(bl);bm.setUploadWidget(new com.zenesis.qx.upload.UploadButton());this.getUploadHandler()._addFile(bm);if(this.getAutoUpload()){this.getUploadHandler().beginUploads();};}}});})();(function(){var a="com.zenesis.qx.upload.UploadButton";qx.Class.define(a,{extend:qx.ui.form.Button,include:[com.zenesis.qx.upload.MUploadButton],members:{}});})();(function(){var a='list',b='',c='Show icons',d='cv.ui.manager.viewer.Icons',e='icons',f='filter',g='*',h='label';qx.Class.define(d,{extend:cv.ui.manager.viewer.Folder,construct:function(){this._disableFileEvents=true;cv.ui.manager.viewer.Folder.call(this,true);},statics:{SUPPORTED_FILES:/^CometVisu-Icons$/i,TITLE:qx.locale.Manager.tr(c),ICON:cv.theme.dark.Images.getIcon(e,18)},members:{_getDelegate:function(){return {createItem:function(){return new cv.ui.manager.core.IconAtom();},bindItem:function(j,i,k){j.bindProperty(b,h,null,i,k);}};},_onFilter:function(){var m=this.getChildControl(f).getValue();var l=this.getModel().filter(function(name){return name.includes(m);});this._controller.setModel(l);},_applyFile:function(q,n){if(q){var p=this.getChildControl(a);if(!this._controller){this._controller=new qx.data.controller.List(null,p);this._controller.setDelegate(this._getDelegate());};var o=this.getModel();Object.keys(cv.IconConfig.DB).filter(function(name){var r=cv.IconConfig.DB[name];return r[g]&&r[g][g]&&qx.lang.Type.isFunction(r[g][g][g]);}).forEach(function(name){o.push(name);},this);if(this.getChildControl(f).getValue()||this.getPermanentFilter()){this._onFilter();}else {this._controller.setModel(o);};}else {if(this._controller){this._controller.resetModel();};};}}});})();(function(){var a='icon',b="icon",c='cv-icon',d='cv.ui.manager.core.IconAtom',e="label";qx.Class.define(d,{extend:qx.ui.basic.Atom,properties:{appearance:{refine:true,init:c}},members:{_applyLabel:function(f){qx.ui.basic.Atom.prototype._applyLabel.call(this,f);this.getChildControl(a).setName(f);},_handleIcon:function(){if(!this.getChildControl(a).getName()||this.getShow()===e){this._excludeChildControl(b);}else {this._showChildControl(b);};},_createChildControlImpl:function(h){var g;switch(h){case a:g=new cv.ui.manager.viewer.SvgIcon();g.setAnonymous(true);this._addAt(g,0);break;};return g||qx.ui.basic.Atom.prototype._createChildControlImpl.call(this,h);}}});})();(function(){var a='svg',b='xmlns:xlink',c='String',d='cv-svg-icon',e='appear',f='_applyName',g='use',h='http://www.w3.org/1999/xlink',i='#kuf-',j='icon/knx-uf-iconset.svg',k='xlink:href',l='cv.ui.manager.viewer.SvgIcon';qx.Class.define(l,{extend:qx.ui.core.Widget,construct:function(name){qx.ui.core.Widget.call(this);if(name){this.setName(name);};},properties:{name:{check:c,nullable:true,apply:f},appearance:{refine:true,init:d}},members:{__zV:null,__zW:null,_applyName:function(m){if(m){if(!this.__zV){this.__zV=qx.util.ResourceManager.getInstance().toUri(j);};if(!this.__zW.getDomElement()){this.__zW.addListenerOnce(e,function(){this._applyName(m);},this);return;};this.__zW.getDomElement().setAttributeNS(h,k,this.__zV+i+m);}else {this.__zW.removeAttribute(k);};},_createContentElement:function(){var n=new cv.svg.Element(a);this.__zW=new cv.svg.Element(g);n.setAttribute(b,h);n.add(this.__zW);return n;}},destruct:function(){this.__zW=null;}});})();(function(){var a="http://www.w3.org/2000/svg",b="cv.svg.Element";qx.Class.define(b,{extend:qx.html.Element,construct:function(c){qx.html.Element.call(this);this.__zX=document.createElementNS(a,c);},members:{_createDomElement:function(){return this.__zX;},getDomElement:function(){return this.__zX;}},destruct:function(){this.__zX.$$widget=null;this.__zX=null;}});})();(function(){var a='control',b='List mode',c='configs',d='cv.ui.manager.Start',e='demo',f='fake',g='changeSelection',h='demo-configs-title',i='hidden-config',j='',k='misc',l='Configurations',m='_applySelectedItem',n='temp',o='new-file',p='tap',q='misc-title',r='drop-up',s='changeStartViewMode',t='visible',u='icon',v='upload',w='hidden.php',x='Media files',y='listViewMode',z='_listButton',A='scroll-container',B='cv-start',C='list',D='media',E='_radioGroup',F='media-title',G='changeLoaded',H='Preview mode',I='_previewButton',J='changeFile',K='drop-down',L='configs-header',M='dir',N='demo-configs',O='Demo configurations',P='media-header',Q='Hidden configuration',R='mode',S='configs-toolbar',T='_loadRoot',U='toolbar',V='preview',W='previewMode',X='content',Y='Miscellaneous',bj='cv.ui.manager.model.FileItem',bk='reload',bl='media-toolbar',bg='<Default>',bh='configs-title',bi='new-config-file';qx.Class.define(d,{extend:qx.ui.core.Widget,implement:[cv.ui.manager.editor.IEditor,cv.ui.manager.IActionHandler],construct:function(){qx.ui.core.Widget.call(this);this._setLayout(new qx.ui.layout.VBox());this._configRegex=/^visu_config_?([^.]+)?\.xml$/;[U,bh,S,c,h,N,F,bl,D,q,k].forEach(this._createChildControl,this);},properties:{file:{check:bj,apply:T,event:J},appearance:{refine:true,init:B},selectedItem:{check:bj,nullable:true,apply:m}},members:{_configRegex:null,_ignoreSelectionChanges:false,_previewButton:null,_listButton:null,_radioGroup:null,save:function(){},getCurrentContent:function(){},canHandleAction:function(){return false;},handleAction:function(){},_loadRoot:function(bn){this.getChildControl(c).setFile(bn);var bm=0;bn.load(function(){bn.getChildren().some(function(bo){if(bo.getName()===D){this.getChildControl(D).setFile(bo);this.getChildControl(bl).setFolder(bo);bm++ ;}else if(bo.getName()===e){this.getChildControl(N).setFile(bo);bm++ ;};return bm===2;},this);},this);},_onChangeSelection:function(br){if(this._ignoreSelectionChanges===false){var bp=br.getTarget();var bq=br.getData();this._ignoreSelectionChanges=true;[c,N,D].forEach(function(name){var bs=this.getChildControl(name);if(bs!==bp){bs.resetSelection();};},this);this._ignoreSelectionChanges=false;if(bq.length>0){this.setSelectedItem(bq[0].getModel());};};},_applySelectedItem:function(){},_onToggleExpand:function(bu){var bt=this.getChildControl(bu.getTarget().getUserData(a));if(bt.getVisibility()===t){bt.exclude();bu.getTarget().setIcon(cv.theme.dark.Images.getIcon(K,18));}else {bt.show();bu.getTarget().setIcon(cv.theme.dark.Images.getIcon(r,18));};},_onChangeViewMode:function(){switch(cv.ui.manager.model.Preferences.getInstance().getStartViewMode()){case C:this._radioGroup.setSelection([this._listButton]);break;case V:this._radioGroup.setSelection([this._previewButton]);break;};},_createChildControlImpl:function(bz){var bv;switch(bz){case A:bv=new qx.ui.container.Scroll();this._add(bv,{flex:1});break;case X:bv=new qx.ui.container.Composite(new qx.ui.layout.VBox(8));this.getChildControl(A).add(bv);break;case U:bv=new qx.ui.toolbar.ToolBar();var bw=new qx.ui.toolbar.Part();var by=this._listButton=new qx.ui.toolbar.RadioButton(j,cv.theme.dark.Images.getIcon(y,22));by.setUserData(R,C);by.set({show:u,toolTipText:this.tr(b)});var bx=this._previewButton=new qx.ui.toolbar.RadioButton(j,cv.theme.dark.Images.getIcon(W,22));bx.setUserData(R,V);bx.set({show:u,toolTipText:this.tr(H)});bw.add(by);bw.add(bx);bv.add(bw);this._radioGroup=new qx.ui.form.RadioGroup(by,bx);this._onChangeViewMode();this._radioGroup.addListener(g,function(bB){var bA=bB.getData()[0];cv.ui.manager.model.Preferences.getInstance().setStartViewMode(bA.getUserData(R));},this);cv.ui.manager.model.Preferences.getInstance().addListener(s,this._onChangeViewMode,this);this._add(bv);break;case bh:bv=new qx.ui.basic.Atom(this.tr(l),cv.theme.dark.Images.getIcon(r,18));bv.setUserData(a,c);bv.addListener(p,this._onToggleExpand,this);this.getChildControl(L).add(bv);break;case L:bv=new qx.ui.container.Composite(new qx.ui.layout.HBox());this.getChildControl(X).add(bv);break;case S:bv=new cv.ui.manager.ToolBar(null,[bi,v,bk]);bv.setFolder(cv.ui.manager.model.FileItem.ROOT);bv.addListener(bk,function(){cv.ui.manager.model.FileItem.ROOT.reload();},this);this.getChildControl(L).add(bv);break;case c:bv=new cv.ui.manager.viewer.Folder(true);bv.set({showTextFilter:false,permanentFilter:function(bC){var bD=this._configRegex.exec(bC.getName());return !!bD&&(!bD[1]||!bD[1].endsWith(n));}.bind(this),labelConverter:function(name,bE){if(bE.isFake()){return name;};var bF=cv.ui.manager.model.FileItem.getConfigName(name);return bF?bF:bg;},file:cv.ui.manager.model.FileItem.ROOT,disableScrolling:true});bv.addListener(g,this._onChangeSelection,this);this.getChildControl(X).add(bv);break;case h:bv=new qx.ui.basic.Atom(this.tr(O),cv.theme.dark.Images.getIcon(K,18));bv.setUserData(a,N);bv.addListener(p,this._onToggleExpand,this);this.getChildControl(X).add(bv);break;case N:bv=new cv.ui.manager.viewer.Folder(true);bv.set({showTextFilter:false,permanentFilter:function(bG){return this._configRegex.test(bG.getName());}.bind(this),labelConverter:function(name){var bH=cv.ui.manager.model.FileItem.getConfigName(name);return bH?bH:bg;},disableScrolling:true});bv.exclude();bv.addListener(g,this._onChangeSelection,this);this.getChildControl(X).add(bv);break;case F:bv=new qx.ui.basic.Atom(this.tr(x),cv.theme.dark.Images.getIcon(r,18));bv.setUserData(a,D);bv.addListener(p,this._onToggleExpand,this);this.getChildControl(P).add(bv);break;case P:bv=new qx.ui.container.Composite(new qx.ui.layout.HBox());this.getChildControl(X).add(bv);break;case bl:bv=new cv.ui.manager.ToolBar(null,[o,v,bk]);bv.addListener(bk,function(){bv.getFolder().reload();},this);this.getChildControl(P).add(bv);break;case D:bv=new cv.ui.manager.viewer.Folder(true);bv.set({showTextFilter:false,disableScrolling:true});bv.addListener(g,this._onChangeSelection,this);this.getChildControl(X).add(bv);break;case q:bv=new qx.ui.basic.Atom(this.tr(Y),cv.theme.dark.Images.getIcon(r,18));bv.setUserData(a,k);bv.addListener(p,this._onToggleExpand,this);this.getChildControl(X).add(bv);break;case k:bv=new cv.ui.manager.viewer.Folder(true);bv.set({showTextFilter:false,disableScrolling:true});this.__zY(bv);this.getChildControl(X).add(bv,{flex:1});break;};return bv||qx.ui.core.Widget.prototype._createChildControlImpl.call(this,bz);},__zY:function(bK){if(!cv.ui.manager.model.FileItem.ROOT.isLoaded()){cv.ui.manager.model.FileItem.ROOT.addListenerOnce(G,function(){this.__zY(bK);},this);return;};var bJ=[cv.ui.manager.model.FileItem.getIconFile()];cv.ui.manager.model.FileItem.ROOT.getChildren().some(function(bL){if(bL.getFullPath()===w){bL.set({overrideIcon:true,icon:cv.theme.dark.Images.getIcon(i,15),displayName:qx.locale.Manager.tr(Q),fake:true});bJ.unshift(bL);return true;};});var bI=new cv.ui.manager.model.FileItem(f,f,cv.ui.manager.model.FileItem.ROOT,bJ).set({fake:true,type:M,loaded:true});bK.setFile(bI);bK.addListener(g,this._onChangeSelection,this);}},destruct:function(){this._configRegex=null;cv.ui.manager.model.Preferences.getInstance().removeListener(s,this._onChangeViewMode,this);this._disposeObjects(I,z,E);}});})();(function(){var a="inherit",b="toolbar-button",c="qx.ui.toolbar.CheckBox",d="keydown",e="keyup";qx.Class.define(c,{extend:qx.ui.form.ToggleButton,construct:function(f,g){qx.ui.form.ToggleButton.call(this,f,g);this.removeListener(d,this._onKeyDown);this.removeListener(e,this._onKeyUp);},properties:{appearance:{refine:true,init:b},show:{refine:true,init:a},focusable:{refine:true,init:false}},members:{_applyVisibility:function(i,h){qx.ui.form.ToggleButton.prototype._applyVisibility.call(this,i,h);var parent=this.getLayoutParent();if(parent&&parent instanceof qx.ui.toolbar.PartContainer){qx.ui.core.queue.Appearance.add(parent);};}}});})();(function(){var a="qx.ui.toolbar.RadioButton";qx.Class.define(a,{extend:qx.ui.toolbar.CheckBox,include:[qx.ui.form.MModelProperty],implement:[qx.ui.form.IModel,qx.ui.form.IRadioItem],members:{_applyValue:function(c,b){qx.ui.toolbar.CheckBox.prototype._applyValue.call(this,c,b);if(c){var d=this.getGroup();if(d){d.setSelection([this]);};};},_onExecute:function(e){var f=this.getGroup();if(f&&f.getAllowEmptySelection()){this.toggleValue();}else {this.setValue(true);};}}});})();(function(){var a='changeContent',b='cv.ui.manager.editor.AbstractEditor',c='_loadFile',d='cv.ui.manager.model.FileItem || cv.ui.manager.model.CompareFiles',e='File has been saved',f='_applyContent',g='contentChanged',h='file',i='created',j='save',k='fsContentChanged',l="abstract",m='File has been created';qx.Class.define(b,{extend:qx.ui.core.Widget,implement:[cv.ui.manager.editor.IEditor,cv.ui.manager.IActionHandler],type:l,construct:function(){qx.ui.core.Widget.call(this);this._initClient();},properties:{file:{check:d,nullable:true,apply:c},content:{nullable:true,event:a,apply:f}},members:{_handledActions:null,canHandleAction:function(n){if(n===j&&this.getFile()&&!this.getFile().isWriteable()){return false;};return this._handledActions&&this._handledActions.includes(n);},handleAction:function(o){if(this.canHandleAction(o)){switch(o){case j:this.save();break;};};},_initClient:function(){this._client=cv.io.rest.Client.getFsClient();},_loadFile:function(q,p){if(p){qx.event.message.Bus.unsubscribe(p.getBusTopic(),this._onChange,this);};if(q&&q.getType()===h){if(q.getContent()!==null){this.setContent(q.getContent());}else {this._loadFromFs();};qx.event.message.Bus.subscribe(q.getBusTopic(),this._onChange,this);}else {this.resetContent();};},_loadFromFs:function(){this._client.readSync({path:this.getFile().getFullPath()},function(s,r){if(s){cv.ui.manager.snackbar.Controller.error(s);}else {this.setContent(r);};},this);},_onChange:function(t){var u=t.getData();if(u.type===k&&u.source!==this){this.setContent(u.data);};},_applyContent:function(){},getCurrentContent:function(){},_handleSaveResponse:function(w,y){if(y){cv.ui.manager.snackbar.Controller.error(y);}else {var x=this.getFile();var v=w===i?this.tr(m):this.tr(e);cv.ui.manager.snackbar.Controller.info(v);this._onSaved();qx.event.message.Bus.dispatchByName(x.getBusTopic(),{type:w,file:x,data:this.getCurrentContent(),source:this});};},save:function(z,A){var B=this.getFile();if(B.isModified()){if(B.isTemporary()){this._client.createSync({path:B.getFullPath(),hash:A||B.getHash(),type:h},this.getCurrentContent(),z||qx.lang.Function.curry(this._handleSaveResponse,i),this);}else {this._client.updateSync({path:B.getFullPath(),hash:A||B.getHash()},this.getCurrentContent(),z||qx.lang.Function.curry(this._handleSaveResponse,g),this);};};},_onSaved:function(){var C=this.getFile();C.resetModified();C.resetTemporary();}},destruct:function(){if(this._client){this._client=null;};}});})();(function(){var a='qooxdoo.d.ts',b='css',c='markdown',d='/..',e='editor/dependencies/jquery.xpath.min.js',f='undo',g='',h='cut',i='Texteditor',j='vs-dark',k='min',l='editor/lib/Schema.js',m='editor.action.clipboardCutAction',n='contentEditable',o='js',p='dragover',q='txt',r='.',s="resourceUri",t='../node_modules/monaco-editor/',u='/vs',v='xml',w='copy',x='disappear',y='redo',z="visu_config.xsd",A='?',B='manager/xml.js',C='drop',D="../source/editor/",E='yaml',F='py',G='svg',H='conf',I='paste',J='appear',K="cv",L='javascript',M='/vs/loader.js',N='editor/dependencies/jquery.min.js',O='resourceUri',P='xml!*./resource/manager/completion-libs/qooxdoo.d.ts',Q='save',R='failed',S='text',T='json',U='true',V="\n",W='editor/lib/Messages.js',X='md',Y='/config/',br='php',bs='xml!./resource/visu_config.xsd',bt='rst',bn="none",bo='vs/editor/editor.main',bp='ts',bq='ready',bw='en',bx='editor.action.clipboardCopyAction',by='file',bz='cv.ui.manager.editor.Source',bu=":",bv='cv';qx.Class.define(bz,{extend:cv.ui.manager.editor.AbstractEditor,construct:function(){cv.ui.manager.editor.AbstractEditor.call(this);this._handledActions=[Q,h,w,I,f,y];this._basePath=window.location.origin+window.location.pathname+qx.util.LibraryManager.getInstance().get(K,s)+Y;this.getContentElement().setAttribute(n,U);this.set({droppable:false,focusable:true});this.addListener(p,function(bA){bA.preventDefault();bA.dataTransfer.effectAllowed=bn;bA.dataTransfer.dropEffect=bn;});this.addListener(C,function(bB){bB.preventDefault();});this.addListener(J,function(){qx.ui.core.FocusHandler.getInstance().setUseTabNavigation(false);});this.addListener(x,function(){qx.ui.core.FocusHandler.getInstance().setUseTabNavigation(true);});this._draw();this._initWorker();this._currentDecorations=[];},statics:{TITLE:qx.locale.Manager.tr(i),COUNTER:0,SUPPORTED_FILES:[v,br,b,o,G,T,X,E,H,bp,bt,F,q],ICON:cv.theme.dark.Images.getIcon(S,18),load:function(bD,bF){var bE=k;window.documentationMappingPrefix=D;var bC=qx.util.Uri.getAbsolute(qx.util.LibraryManager.getInstance().get(bv,O)+d);var bG=new qx.util.DynamicScriptLoader([bC+N,bC+e,bC+W,bC+l,bC+t+bE+M,B]);bG.addListener(bq,function(){window.require.config({paths:{'vs':bC+t+bE+u}});window.require.config({'vs/nls':{availableLanguages:{'*':qx.locale.Manager.getInstance().getLanguage()!==bw?qx.locale.Manager.getInstance().getLanguage():g}}});var bH=A+Math.random();window.require([bs+bH,P,bo],function(bM,bK){this.__Aa=bM;bD.apply(bF);window.monaco.languages.typescript.javascriptDefaults.addExtraLib(bK,a);var bI=new window.Schema(z,bM);var bJ=new cv.ui.manager.editor.completion.Config(bI);var bL=new cv.ui.manager.editor.completion.CometVisu();window.monaco.languages.registerCompletionItemProvider(v,bJ.getProvider());window.monaco.languages.registerCompletionItemProvider(L,bL.getProvider());}.bind(this));},this);bG.addListener(R,function(bN){qx.log.Logger.error(this,bN.getData());},this);bG.start();}},members:{__Aa:null,_editor:null,_basePath:null,_workerWrapper:null,_currentDecorations:null,_initWorker:function(){this._workerWrapper=cv.ui.manager.editor.Worker.getInstance();this._workerWrapper.setEditor(this);},_getDefaultModelOptions:function(){return {tabSize:2,indentSize:2,insertSpaces:true};},_draw:function(){if(!window.monaco){cv.ui.manager.editor.Source.load(this._draw,this);}else {var bO=this.getContentElement().getDomElement();if(!bO){this.addListenerOnce(J,this._draw,this);}else {this._editor=window.monaco.editor.create(bO,{suggestOnTriggerCharacters:true,folding:true,autoIndent:true,automaticLayout:true,dragAndDrop:true,formatOnPaste:true,formatOnType:true,minimap:{enabled:true},theme:j});if(this.getFile()){this._loadFile(this.getFile());};this._editor.onDidChangeModelContent(this._onContentChanged.bind(this));};};},handleAction:function(bP){if(this.canHandleAction(bP)){var bQ;switch(bP){case h:bQ=this._editor.getAction(m);break;case w:bQ=this._editor.getAction(bx);break;default:cv.ui.manager.editor.AbstractEditor.prototype.handleAction.call(this,bP);break;};if(bQ){bQ.run();};};},_loadFile:function(bS,bR){if(bR&&this._workerWrapper){this._workerWrapper.close(bR);};if(this._editor){if(bS&&bS.getType()===by&&this.isSupported(bS)){cv.ui.manager.editor.AbstractEditor.prototype._loadFile.call(this,bS,bR);}else {cv.ui.manager.editor.AbstractEditor.prototype._loadFile.call(this,null,bR);};};},_applyContent:function(bW){var bV=this.getFile();if(!bV){return;};var bU=this._editor.getModel();if(this._workerWrapper){this._workerWrapper.open(bV,bW);};var bT=window.monaco.editor.getModel(bV.getUri());if(!bT){if(qx.xml.Document.isXmlDocument(bW)){bW=bW.documentElement.outerHTML;};bT=window.monaco.editor.createModel(bW,this._getLanguage(bV),bV.getUri());};if(bU!==bT){bT.updateOptions(this._getDefaultModelOptions());this._editor.setModel(bT);}else {this._editor.setValue(bW);};this._editor.updateOptions({readOnly:!bV.isWriteable()});},getCurrentContent:function(){return this._editor.getValue();},_onContentChanged:function(){if(this._workerWrapper){this._workerWrapper.contentChanged(this.getFile(),this._editor.getValue());};},isSupported:function(ca){var bY=ca.getName().split(r);var bX=bY.length>1?bY.pop():q;var cb=r+bX;return monaco.languages.getLanguages().some(function(cc){return cc.id===bX||cc.extensions.indexOf(cb)>=0;});},showErrors:function(cd,ch){var cg=[];var cf=this._editor.getModel();if(!cf){return;};if(ch){var ce=null;ch.forEach(function(cm){if(/.*\.xml:[\d]+:.+/.test(cm)){if(ce!==null){cg.push({severity:window.monaco.MarkerSeverity.Error,startLineNumber:ce.line,startColumn:1,endLineNumber:ce.line,endColumn:cf.getLineContent(ce.line).length,message:ce.message});};var cj=cm.split(bu);var cl=cj.shift();var ci=parseInt(cj.shift());var ck=/.+line ([\d]+) -+/.exec(cj[cj.length-1]);if(ck){ci=parseInt(ck[1]);};if(isNaN(ci)){return;};ce={line:ci,message:cj.slice(-2).join(bu),file:cl};}else {ce.message+=V+cm;};});if(ce!==null){cg.push({severity:window.monaco.MarkerSeverity.Error,startLineNumber:ce.line,startColumn:1,endLineNumber:ce.line,endColumn:cf.getLineContent(ce.line).length,message:ce.message});};};if(this.getFile().getFullPath()===cd){window.monaco.editor.setModelMarkers(cf,g,cg);}else {};},showDecorations:function(cn,co){if(this.getFile().getFullPath()===cn){this._editor.deltaDecorations(this._currentDecorations[cn],co);};this._currentDecorations[cn]=co;},_getLanguage:function(cr){var cq=cr.getName().split(r).pop();switch(cq){case G:return v;case o:return L;case X:return c;default:if(!cq){return q;};var cs=r+cq;var cp=monaco.languages.getLanguages().some(function(ct){return ct.id===cq||ct.extensions.indexOf(cs)>=0;});if(!cp){cq=q;};return cq;};}},destruct:function(){this._workerWrapper=null;if(this._editor){this._editor.dispose();this._editor=null;};qx.ui.core.FocusHandler.getInstance().setUseTabNavigation(true);}});})();(function(){var a="</",b='=""',c='Variable from template %1',d='<templates>',e='" ',f='="',g='',h='transform',j='value',k='"',l='influx',m='unbounded',n='1',o=">",p='design',q="<",r='icon',s=" ",t='file',u='field',v='measurement',w="/",x='files',y='>',z="",A='tag',B='meta',C='cv.ui.manager.editor.completion.Config',D='rrd',E='plugin',F='name',G='</templates>',H='pages',I="    ",J='mapping',K='template',L="\n",M="\n    ",N='</meta>',O='address',P='key',Q='styling',R="=",S='</template>',T='/>',U='parsererror',V='<',W='</';qx.Class.define(C,{extend:qx.core.Object,construct:function(X){qx.core.Object.call(this);this.__Ab={};this._schemaNode=X;this._dataProvider=cv.ui.manager.editor.data.Provider.getInstance();},members:{__Ab:null,__Ac:null,_schemaNode:null,_dataProvider:null,getLastOpenedTag:function(bd){var bc=bd.match(/<\/*(?=\S*)([a-zA-Z-]+)/g);if(!bc){return undefined;};var Y=[];for(var i=bc.length-1;i>=0;i-- ){if(bc[i].indexOf(W)===0){Y.push(bc[i].substring(W.length));}else {var be=bd.lastIndexOf(bc[i]);var bg=bc[i].substring(V.length);var bj=bd.indexOf(T,be);if(bj===-1){if(!Y.length||Y[Y.length-1]!==bg){bd=bd.substring(be);var bf=bd.indexOf(V)>bd.indexOf(y);var bi=false;var ba=null;if(bf){var bh=/([\w\-_\.\d]+)="[^"]*$/.exec(bd);bi=!!bh;ba=bh?bh[1]:null;};var bb=/<[\w-_\d]+$/.test(bd);return {tagName:bg,currentAttribute:ba,filteredElementSearch:bb,isAttributeSearch:!bb&&bf&&!bi,isContentSearch:bi,text:bd};};Y.splice(Y.length-1,1);};bd=bd.substring(0,be);};};},findElements:function(parent,bl,bq,bo,bk){var bm=bk===true?this.__Ac:this.__Ab;if(bl in bm){return bm[bl];};if(bq<bo){return null;};if(!parent){parent=this._schemaNode.allowedRootElements.pages;};if(bo===undefined){bo=1;};var bp=parent.getAllowedElements();if(bl in bp){this.__Ab[bl]=bp[bl];return bp[bl];}else {for(var bn in bp){if(bk!==true&&bn===B){continue;};if(bq>bo){var br=this.findElements(bp[bn],bl,bq,bo+1);if(br){bm[bl]=br;return br;};};};};},isItemAvailable:function(bu,bt,bv){bt=bt||n;if(bt&&bt===m){return true;};var bs=0;for(var i=0;i<bv.length;i++ ){if(bv[i]===bu){bs++ ;};};return bs===0||parseInt(bt)>bs;},getElementString:function(bA,bx,bB){var bw=bx+bB+bA.name+s;Object.getOwnPropertyNames(bA.allowedAttributes).forEach(function(bF){var bE=bA.allowedAttributes[bF];if(!bE.isOptional){bw+=bF+f+(bE.defaultValue?bE.defaultValue:z)+e;};});var by=bA.getRequiredElements();var bz=bA.getAllowedContent();var bC=bz._text||by.length>0||!!bz._grouping;if(!bC){bw=bw.trim()+w;}else {bw=bw.trim()+o;var bD=0;by.forEach(function(bG){var bH=this.findElements(bA,bG,1,0);if(bH){bw+=M+this.getElementString(bH,bx+I,q)+o;bD++ ;};},this);if(bD>0){bw+=L+bx;};bw+=a+bA.name;};return bw;},getAvailableElements:function(bL,bJ){var bI=[];var bK=bL.getAllowedElements();if(!bK){return [];};Object.getOwnPropertyNames(bK).forEach(function(name){var bM=bK[name];if(this.isItemAvailable(bM.name,bM.getBounds().max,bJ)){bI.push({label:bM.name,insertText:this.getElementString(bM,z,z),kind:window.monaco.languages.CompletionItemKind.Field,detail:bM.type,documentation:bM.getDocumentation().join(L)});};},this);return bI;},getAvailableAttributes:function(bQ,bP){var bN=[];var bO=bQ.allowedAttributes;Object.getOwnPropertyNames(bO).forEach(function(name){var bR=bO[name];if(bP.indexOf(bR.name)===-1){bN.push({label:bR.name,insertText:bR.name+b,kind:window.monaco.languages.CompletionItemKind.Property,detail:bR.getTypeString(),documentation:bR.getDocumentation().join(L)});};},this);return bN;},getProvider:function(){return {triggerCharacters:[V,k],provideCompletionItems:function(cG,cF){var cq=cG.getValueInRange({startLineNumber:1,startColumn:1,endLineNumber:cF.lineNumber,endColumn:cF.column});var ct=cG.getValue();var cw=ct.indexOf(N);var bU=cw>0?ct.substring(0,cw):ct;var co=[];var cx=[];var cm={};var cn,cp;var cc=/<mapping name="([^"]+)"/gm;while((cn=cc.exec(bU))!==null){co.push(cn[1]);};cc=/<styling name="([^"]+)"/gm;while((cn=cc.exec(bU))!==null){cx.push(cn[1]);};var cA=bU.indexOf(d);if(cA>=0){var bT=bU.substring(cA+11,bU.indexOf(G)-12).replace(/(?:\r\n|\r|\n)/g,g);bT.split(S).forEach(function(cJ){var cK=/<template name="([^"]+)"/.exec(cJ);var cI=[];var cH=/{{{?\s*([\w\d]+)\s*}?}}/gm;while((cp=cH.exec(cJ))!==null){cI.push(cp[1]);};cm[cK[1]]=cI;},this);};var cC=this.getLastOpenedTag(cq);var bY=[];var cB=[];var ce=[];var bW=cC&&cC.isAttributeSearch;var cy=cC&&cC.isContentSearch;var cd=cC&&cC.filteredElementSearch;var ch;if(cC){ch=cC.text.split(s);ch.shift();var cr=cq;if(ch.length){cr=cr.substring(0,cr.length-ch.join(s).length)+o;};var cu=qx.xml.Document.fromString(cr);var cs=cu.lastElementChild;var i;var cD=false;while(cs){bY.push(cs.tagName);cB.push(cs.attributes);if(cs.tagName===cC.tagName){cD=true;if(cC.isAttributeSearch&&cs.outerHTML===cC.text){var bX=cs.attributes;for(i=0;i<bX.length;i++ ){ce.push(bX[i].nodeName);};}else {var ca=cs.children;for(i=0;i<ca.length;i++ ){if(ca[i].tagName.toLowerCase()!==U){ce.push(ca[i].tagName);};};};break;};cs=cs.lastElementChild;};if(!cD){if(bW||cy){ch=cC.text.split(s);ch.shift();ch.forEach(function(cL){ce.push(cL.split(R).shift());});};};};var cE=[];var ck;var cf=bY[bY.length-1];if(cy){if(cC.tagName===H&&cC.currentAttribute===p){return this._dataProvider.getDesigns().then(function(cM){return {suggestions:cM};});}else if(cC.tagName===O&&cC.currentAttribute===h){return {suggestions:this._dataProvider.getTransforms()};}else if(cC.tagName===E&&cC.currentAttribute===F){return {suggestions:this._dataProvider.getPlugins()};}else if(cC.tagName===r&&cC.currentAttribute===F){return {suggestions:this._dataProvider.getIcons()};}else if(cC.tagName===l){if(cC.currentAttribute===v){return this._dataProvider.getInfluxDBs().then(function(cN){return {suggestions:cN};});}else if(cC.currentAttribute===u){ck=/measurement="([^"]+)"/.exec(cC.text);if(ck){return this._dataProvider.getInfluxDBFields(ck[1]).then(function(cO){return {suggestions:cO};});};};}else if(cC.tagName===A&&(cC.currentAttribute===P||cC.currentAttribute===j)&&bY.includes(l)){var cg=cB[bY.indexOf(l)];var cz=cg.getNamedItem(v);if(cz){if(cC.currentAttribute===P){return this._dataProvider.getInfluxDBTags(cz.value).then(function(cP){return {suggestions:cP};});}else if(cC.currentAttribute===j){ck=/key="([^"]+)"/.exec(cC.text);if(ck){return this._dataProvider.getInfluxDBValues(cz.value,ck[1]).then(function(cQ){return {suggestions:cQ};});};};};}else if(cC.tagName===K&&cC.currentAttribute===F&&bY.includes(B)){cE=Object.keys(cm).map(function(name){return {label:name,insertText:name,kind:window.monaco.languages.CompletionItemKind.EnumMember};},this);return {suggestions:cE};}else if(cC.tagName===j&&cC.currentAttribute===F&&!bY.includes(B)&&bY.includes(K)){var cl=Object.keys(cm);cl.forEach(function(name){cm[name].forEach(function(cR){cE.push({label:cR,insertText:cR,detail:qx.locale.Manager.tr(c,name),kind:window.monaco.languages.CompletionItemKind.Variable});},this);},this);return {suggestions:cE};}else if(cC.currentAttribute===J){cE=co.map(function(cS){return {label:cS,insertText:cS,kind:window.monaco.languages.CompletionItemKind.EnumMember};},this);return {suggestions:cE};}else if(cC.currentAttribute===Q){cE=cx.map(function(cT){return {label:cT,insertText:cT,kind:window.monaco.languages.CompletionItemKind.EnumMember};},this);return {suggestions:cE};};cf=cC.tagName;}else if(!bW&&cd){cf=bY[bY.length-2];};if(cf===D){return {suggestions:this._dataProvider.getRrds()};}else if(cf===t&&!bW&&!cy&&bY.includes(x)){ck=/type="([^"]+)"/.exec(cC.text);var bS=!!ck?ck[1]:null;return this._dataProvider.getMediaFiles(bS).then(function(cU){return {suggestions:cU};});};var ci=this.findElements(this._schemaNode.allowedRootElements.pages,cf,bY.length,bY.includes(B));if(cy){var cb=ce[ce.length-1];if(ci&&cb in ci.allowedAttributes){var bV=ci.allowedAttributes[cb];var cj=bV.getTypeString();bV.getEnumeration().forEach(function(cV){cE.push({label:cV,kind:window.monaco.languages.CompletionItemKind.Value,detail:cj,documentation:bV.getDocumentation().join(L)});});};}else if(bW){cE=ci?this.getAvailableAttributes(ci,ce):[];}else {if(cC&&cC.text.endsWith(a)){cE.push({label:cC.tagName,kind:window.monaco.languages.CompletionItemKind.Field});}else {cE=ci?this.getAvailableElements(ci,ce):[];};};return {suggestions:cE};}.bind(this)};}},destruct:function(){this.__Ab=null;this._schemaNode=null;this._dataProvider=null;}});})();(function(){var a='monaco',b='plugins|',c='influxdbtags|',d='influxdbfields|',e='cv.ui.manager.editor.data.Provider',f=']',g='rrds',h='designs',i='designsSync',j='.',k='influxdbfieldsSync',l='singleton',m='media',n='transforms|',o=' [',p='icons|',q='rrdsSync',r='plugin-',s='influxdbtagsSync',t='influxdbs',u='dp',v='influxdbsSync';qx.Class.define(e,{extend:qx.core.Object,type:l,construct:function(){qx.core.Object.call(this);this.__d={};this._client=cv.io.rest.Client.getDataProviderClient();},members:{__d:null,_getFromCache:function(w){return this.__d[w];},__Ad:function(y){if(!y){this.__d={};}else {delete this.__d[y];};},_addToCache:function(z,A){this.__d[z]=A;},getDesigns:function(){return this.__Ae(h,i,null,[],function(B){return B.map(function(C){return {label:C,insertText:C,kind:window.monaco.languages.CompletionItemKind.EnumMember};});},this);},__Ae:function(G,I,D,H,E,J){var F=this._getFromCache(G);if(F){return Promise.resolve(E.call(J||this,F));}else {return new Promise(function(K,M){var L=function(O,N){if(O){M(O);}else {this._addToCache(G,N);K(E.call(J||this,N));};};if(!H){H=[L,this];}else {H.push(L);H.push(this);};if(qx.lang.Type.isString(I)){this._client[I].apply(D||this._client,H);}else if(qx.lang.Type.isFunction(I)){I.apply(D,H);};}.bind(this));};},getRrds:function(){return this.__Ae(g,q,null,[],this._parseDpResponse,this);},getInfluxDBs:function(){return this.__Ae(t,v,null,[],this._parseDpResponse,this);},getInfluxDBFields:function(P){return this.__Ae(d+P,k,null,[{measurement:P}],this._parseDpResponse,this);},getInfluxDBTags:function(Q){return this.__Ae(c+Q,s,null,[{measurement:Q}],function(R){return Object.keys(R).map(function(x){return {label:x,insertText:x,kind:window.monaco.languages.CompletionItemKind.EnumMember};});},this);},getInfluxDBValues:function(T,S){return this.__Ae(c+T,s,null,[{measurement:T}],function(V){var U=[];V[S].forEach(function(x){U.push({label:x,insertText:x,kind:window.monaco.languages.CompletionItemKind.EnumMember});});return U;},this);},_parseDpResponse:function(W){var X=[];W.forEach(function(Y){X.push({label:Y.label,insertText:Y.value,kind:window.monaco.languages.CompletionItemKind.EnumMember});},this);return X;},getMediaFiles:function(ba){var bb=cv.io.rest.Client.getFsClient();return this.__Ae(m,bb.readSync,bb,[{path:m,recursive:true}],function(bc){return bc.filter(function(bd){return !ba||bd.name.endsWith(j+ba);}).map(function(bf){var be=bf.parentFolder+bf.name;return {label:be,insertText:be,kind:window.monaco.languages.CompletionItemKind.EnumMember};});},this);},getTransforms:function(bj){if(!bj){bj=a;};var bh=n+bj;var bg=this._getFromCache(bh);if(bg){return bg;}else {var bi=[];Object.keys(cv.Transform.registry).forEach(function(bm){var bk=cv.Transform.registry[bm];var bl;if(bj===u){bl={label:bk.name+o+bm+f,value:bm};}else {bl={label:bm,insertText:bm,kind:window.monaco.languages.CompletionItemKind.EnumMember};if(bk.lname&&bk.lname.hasOwnProperty(qx.locale.Manager.getInstance().getLanguage())){bl.detail=bk.lname[qx.locale.Manager.getInstance().getLanguage()];};};bi.push(bl);},this);this._addToCache(bh,bi);return bi;};},getPlugins:function(br){if(!br){br=a;};var bo=b+br;var bn=this._getFromCache(bo);if(bn){return bn;}else {var bp=[];var bq=qx.io.PartLoader.getInstance().getParts();Object.keys(bq).forEach(function(bs){if(bs.startsWith(r)){var bt=bs.substring(7);if(br===u){bp.push({label:bt,value:bt});}else {bp.push({label:bt,insertText:bt,kind:window.monaco.languages.CompletionItemKind.EnumMember});};};},this);this._addToCache(bo,bp);return bp;};},getIcons:function(bw){if(!bw){bw=a;};var bv=p+bw;var bu=this._getFromCache(bv);if(bu){return bu;}else {var bx;if(bw===a){bx=Object.keys(cv.IconConfig.DB).map(function(by){return {label:by,insertText:by,kind:window.monaco.languages.CompletionItemKind.EnumMember};});}else if(bw===u){bx=Object.keys(cv.IconConfig.DB).map(function(bz){return {label:bz,value:bz};});};this._addToCache(bv,bx);return bx;};}},destruct:function(){this.__d=null;}});})();(function(){var a="cvmixin",b='CometVisu-Widget',c="A CometVisu classes members section.",d='CometVisu-Interface',e='CometVisu-Class statics',f='  /*\n  ***********************************************\n    STATICS\n  ***********************************************\n  */\n  statics: {\n    $0\n  },\n',g='  /*\n  ***********************************************\n    DESTRUCTOR\n  ***********************************************\n  */\n  destruct: function () {\n    this.base(arguments);\n    $0\n  }\n',h='  /*\n  ***********************************************\n    EVENTS\n  ***********************************************\n  */\n  events: {\n    $0\n  },\n',i="cvproperties",j=' ($CURRENT_YEAR)\n */\nqx.Interface.define("cv.$0", {\n  \n});\n',k='',l=' ($CURRENT_YEAR)\n */\nqx.Mixin.define("cv.$0", {\n  \n});\n',m="cvclass",n="cvdestructor",o='cv.ui.manager.editor.completion.CometVisu',p="destructor.",q="cvinterface",r='CometVisu-Class properties',s='  /*\n  ***********************************************\n    PROPERTIES\n  ***********************************************\n  */\n  properties: {\n    $0\n  },\n',t="cvstatics",u='CometVisu-Class members',v="constructor.",w="cvplugin",x='CometVisu-Class events',y='  /*\n  ***********************************************\n    CONSTRUCTOR\n  ***********************************************\n  */\n  construct: function () {\n    this.base(arguments);\n    $0\n  },\n',z="events section.",A='CometVisu-Plugin',B="cvconstructor",C='Constructor',D="cvevents",E="statics section.",F=' ($CURRENT_YEAR)',G='/**\n * TODO: Add documentation\n * \n * @since ',H='###SINCE###',I='.templates/Plugin.js',J="A CometVisu classes properties section.",K="A generic CometVisu Mixin.",L=' ($CURRENT_YEAR)\n */\nqx.Class.define("cv.$0", {\n  extend: qx.core.Object,\n\n  \n});\n',M="A CometVisu class for a plugin.",N="A CometVisu class for a widget.",O='-dev',P='Destructor',Q=' ($CURRENT_YEAR)\n */\nqx.Class.define("cv.ui.structure.pure.$0", {\n  extend: cv.ui.structure.AbstractWidget,\n\n  \n});\n',R='  /*\n  ***********************************************\n    MEMBERS\n  ***********************************************\n  */\n  members: {\n    $0\n  },\n',S="cvwidget",T='CometVisu-Class',U="cvmembers",V='CometVisu-Mixin',W="A generic CometVisu Interface.",X="A generic CometVisu class.",Y='cv';qx.Class.define(o,{extend:qx.core.Object,construct:function(){qx.core.Object.call(this);},members:{TEMPLATES:null,getTemplates:function(){if(!this.TEMPLATES){this.TEMPLATES=[{filterText:m,label:T,kind:window.monaco.languages.CompletionItemKind.Class,detail:X,insertText:G+cv.Version.VERSION.replace(O,k)+L,insertTextRules:window.monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet|window.monaco.languages.CompletionItemInsertTextRule.KeepWhitespace},{filterText:S,label:b,kind:window.monaco.languages.CompletionItemKind.Class,detail:N,insertText:G+cv.Version.VERSION.replace(O,k)+Q,insertTextRules:window.monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet|window.monaco.languages.CompletionItemInsertTextRule.KeepWhitespace},{filterText:q,label:d,kind:window.monaco.languages.CompletionItemKind.Interface,detail:W,insertText:G+cv.Version.VERSION.replace(O,k)+j,insertTextRules:window.monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet|window.monaco.languages.CompletionItemInsertTextRule.KeepWhitespace},{filterText:a,label:V,kind:window.monaco.languages.CompletionItemKind.Class,detail:K,insertText:G+cv.Version.VERSION.replace(O,k)+l,insertTextRules:window.monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet|window.monaco.languages.CompletionItemInsertTextRule.KeepWhitespace},{filterText:U,label:u,kind:window.monaco.languages.CompletionItemKind.Struct,detail:c,insertText:R,insertTextRules:window.monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet|window.monaco.languages.CompletionItemInsertTextRule.KeepWhitespace},{filterText:i,label:r,kind:window.monaco.languages.CompletionItemKind.Struct,detail:J,insertText:s,insertTextRules:window.monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet|window.monaco.languages.CompletionItemInsertTextRule.KeepWhitespace},{filterText:t,label:e,kind:window.monaco.languages.CompletionItemKind.Struct,detail:E,insertText:f,insertTextRules:window.monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet|window.monaco.languages.CompletionItemInsertTextRule.KeepWhitespace},{filterText:D,label:x,kind:window.monaco.languages.CompletionItemKind.Struct,detail:z,insertText:h,insertTextRules:window.monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet|window.monaco.languages.CompletionItemInsertTextRule.KeepWhitespace},{filterText:B,label:C,kind:window.monaco.languages.CompletionItemKind.Method,detail:v,insertText:y,insertTextRules:window.monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet|window.monaco.languages.CompletionItemInsertTextRule.KeepWhitespace},{filterText:n,label:P,kind:window.monaco.languages.CompletionItemKind.Method,detail:p,insertText:g,insertTextRules:window.monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet|window.monaco.languages.CompletionItemInsertTextRule.KeepWhitespace}];return new Promise(function(ba,bb){cv.io.rest.Client.getFsClient().readSync({path:I},function(bd,bc){if(bd){bb(bd);}else {this.TEMPLATES.push({filterText:w,label:A,kind:window.monaco.languages.CompletionItemKind.Class,detail:M,insertText:bc.replace(H,cv.Version.VERSION.replace(O,k)+F),insertTextRules:window.monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet|window.monaco.languages.CompletionItemInsertTextRule.KeepWhitespace});ba(this.TEMPLATES);};},this);}.bind(this));};return Promise.resolve(this.TEMPLATES);},getProvider:function(){return {triggerCharacters:[Y],provideCompletionItems:function(){return this.getTemplates().then(function(be){return {suggestions:be};});}.bind(this)};}}});})();(function(){var a='/../editor/editor.html',b='false',c='="',d='',e='</',f='cv.ui.manager.editor.Xml',g='embed=1&config=',h='>',i='status',j='"',k='#comment',l=' -->',m="resourceUri",n='xml',o='#text',p='<',q='html',r='<!-- ',s="title",t='ignore',u="cv",v='\n ]]>',w='<![CDATA[\n',x='The XML-Editor does not support files that are not writeable!',y='_iframe',z='save',A='&demo=',B=' ',C='\n',D='true',E='load',F='/',G='Xml-editor',H="  ",I='file',J='/>',K='_notWriteable',L='demo/',M='<?xml version="1.0" encoding="UTF-8" standalone="yes"?>';qx.Class.define(f,{extend:cv.ui.manager.editor.AbstractEditor,construct:function(){cv.ui.manager.editor.AbstractEditor.call(this);this._setLayout(new qx.ui.layout.Grow());this._handledActions=[z];this.__Af=qx.util.Uri.getAbsolute(window.location.pathname+qx.util.LibraryManager.getInstance().get(u,m)+a);this._draw();},statics:{SUPPORTED_FILES:/^(demo)?\/?visu_config.*\.xml/,TITLE:qx.locale.Manager.tr(G),ICON:cv.theme.dark.Images.getIcon(n,18)},members:{_currentContent:null,_iframe:null,_notWriteable:null,_draw:function(){},_loadFile:function(N){if(this._iframe){this._iframe.destroy();};if(N){var O=/.*visu_config_?(.*)\.xml/.exec(N.getName());if(O){if(N.isWriteable()){this._iframe=new qx.ui.embed.Iframe(qx.util.Uri.appendParamsToUrl(this.__Af,g+O[1])+A+(N.getParentFolder()===L?D:b));this._iframe.addListener(E,function(){this._iframe.getWindow().saveFromIframe=this.saveFromIframe.bind(this);},this);this._add(this._iframe);}else {if(!this._notWriteable){this._notWriteable=new qx.ui.basic.Atom(this.tr(x));this._notWriteable.set({center:true,font:s});this._add(this._notWriteable);};this._notWriteable.show();};};};},saveFromIframe:function(R,S,Q){var P=M;R.forEach(function(T){P+=this._elemToXml(T,d);},this);this._currentContent=P;if(!S){this._onContentChanged();};this.save(S,Q);},save:function(V,W){if(V){var Y=this.getFile();var X=V.split(F).pop();var U=Y.getParent().getChildren().some(function(bb){return bb.getName()===X;});var ba=U?this._client.updateSync:this._client.createSync;ba({path:Y.getPath()+F+X,hash:t,type:I,force:true},this.getCurrentContent(),function(bc){W(bc);},this);}else {cv.ui.manager.editor.AbstractEditor.prototype.save.call(this,function(bd){if(!bd){this._onSaved();};W(bd);}.bind(this),t);};},_elemToXml:function(bg,bf){var be=d;if(bg.nodeName===k){be+=C+bf+r+bg.nodeValue+l;}else if(bg.nodeName===o){be+=bg.nodeValue;}else {be+=C+bf+p+bg.nodeName;Object.keys(bg.attributes).forEach(function(bi){be+=B+bi+c+bg.attributes[bi]+j;});if(!bg.nodeValue&&bg.children.length===0){be+=J;}else {be+=h;if(bg.nodeName===i&&bg.attributes.type===q){be+=w+bf+H+bg.nodeValue+v;}else if(bg.nodeValue){be+=bg.nodeValue;};var bh=[];bg.children.forEach(function(bj){bh.push(this._elemToXml(bj,bf+H));},this);be+=bh.join(d);be+=C+bf+e+bg.nodeName+h;};};return be;},getCurrentContent:function(){return this._currentContent;},_onContentChanged:function(){this.getFile().setModified(true);},isSupported:function(bk){return cv.ui.manager.editor.Xml.SUPPORTED_FILES.test(bk.getName())&&bk.isWriteable();}},destruct:function(){this._disposeObjects(y,K);}});})();(function(){var a='',b='String',c='_applyModifiedFile',d='changeModified',e='changeModifiedFile',f='cv.ui.manager.model.FileItem',g='Boolean',h='file',i='changeName',j='Diff: %1',k='cv://',l='changeOriginal',m='+',n='cv.ui.manager.model.CompareFiles';qx.Class.define(n,{extend:qx.core.Object,construct:function(o,p){qx.core.Object.call(this);this.setOriginalFile(o);this.setModifiedFile(p);},properties:{originalFile:{check:f,event:l},modifiedFile:{check:f,event:e,apply:c},permanent:{check:g,init:true},name:{check:b,init:a,event:i},type:{check:b,init:h},modified:{check:g,init:false,event:d}},members:{isRelated:function(q){return this.getOriginalFile().getFullPath()===q||this.getModifiedFile().getFullPath()===q;},isConfigFile:function(){return this.getModifiedFile().isConfigFile();},getFullPath:function(){return this.getOriginalFile().getFullPath();},_applyModifiedFile:function(){this.setName(qx.locale.Manager.tr(j,this.getModifiedFile().getName()));},getParent:function(){return this.getModifiedFile().getParent();},isWriteable:function(){return this.getModifiedFile().isWriteable();},isTrash:function(){return this.getModifiedFile().isTrash();},isInTrash:function(){return this.getModifiedFile().isInTrash();},isFake:function(){return this.getModifiedFile().isFake();},isTemporary:function(){return this.getModifiedFile().isTemporary()||this.getOriginalFile().isTemporary();},isMounted:function(){return this.getModifiedFile().isMounted()||this.getOriginalFile().isMounted();},getUri:function(){return k+this.getOriginalFile().getFullPath()+m+this.getModifiedFile().getFullPath();}}});})();(function(){var a='File compare',b='String',c='appear',d='cv.ui.manager.editor.Diff',e='_applyContent',f='',g='compare',h='vs-dark';qx.Class.define(d,{extend:cv.ui.manager.editor.Source,construct:function(){cv.ui.manager.editor.Source.call(this);this._handledActions=[];},statics:{COUNTER:0,TITLE:qx.locale.Manager.tr(a),ICON:cv.theme.dark.Images.getIcon(g,18)},properties:{originalContent:{check:b,init:f,apply:e},modifiedContent:{check:b,init:f,apply:e}},members:{_initWorker:function(){},_draw:function(){if(!window.monaco){cv.ui.manager.editor.Source.load(this._draw,this);}else {var i=this.getContentElement().getDomElement();if(!i){this.addListenerOnce(c,this._draw,this);}else {this._editor=window.monaco.editor.createDiffEditor(i,{folding:true,autoIndent:true,automaticLayout:true,theme:h,readOnly:true});if(this.getFile()){this._loadFile(this.getFile());};};};},_applyContent:function(){var k=this.getOriginalContent();var l=this.getModifiedContent();if(k&&l){var m=this.getFile();var n=window.monaco.editor.createModel(k,this._getLanguage(m.getOriginalFile()));n.updateOptions(this._getDefaultModelOptions());var j=window.monaco.editor.createModel(l,this._getLanguage(m.getModifiedFile()));j.updateOptions(this._getDefaultModelOptions());this._editor.setModel({original:n,modified:j});};},clear:function(){this._editor.getModel().original.dispose();this._editor.getModel().modified.dispose();},_loadFile:function(o){if(this._editor){if(o&&o instanceof cv.ui.manager.model.CompareFiles&&this.isSupported(o.getModifiedFile())){this._client.readSync({path:o.getModifiedFile().getFullPath()},function(q,p){if(q){cv.ui.manager.snackbar.Controller.error(q);}else {this.setModifiedContent(p);};},this);this._client.readSync({path:o.getOriginalFile().getFullPath()},function(s,r){if(s){cv.ui.manager.snackbar.Controller.error(s);}else {this.setOriginalContent(r);};},this);}else {this.resetOriginalContent();this.resetModifiedContent();};};}}});})();(function(){var a='Section is invalid and has not been saved.',b='cv-editor-config',c='buttons',d='',e='_model',f='Option key duplicate: "%1" in section "%2".',g='Hidden config has been saved',h='Saving hidden config failed with error %1 (%2)',i='delete',j='add-section',k='updateSuccess',l='model',m='Add section',n='_listController',o='*',p='list',q='Section name duplicate: "%1".',r='execute',s='save',t='getSuccess',u='Hidden configuration',v='changeModified',w='cv.ui.manager.editor.Config';qx.Class.define(w,{extend:cv.ui.manager.editor.AbstractEditor,construct:function(){cv.ui.manager.editor.AbstractEditor.call(this);this._handledActions=[s];this._setLayout(new qx.ui.layout.VBox(8));this._createChildControl(p);this._createChildControl(j);},statics:{TITLE:qx.locale.Manager.tr(u)},properties:{appearance:{refine:true,init:b}},members:{_model:null,_listController:null,__Ag:0,_initClient:function(){this._client=cv.io.rest.Client.getConfigClient();this._client.addListener(t,this._onModelValueChange,this);this._client.addListener(k,this._onSaved,this);},_loadFile:function(x){if(x){this._client.get({section:o,key:o});};},_onModelValueChange:function(y){this.setContent(y.getData());},_applyContent:function(A){var z=this._listController.getModel();z.removeAll();this.__Ag=Object.keys(A).length;Object.keys(A).forEach(function(C){var B=new cv.ui.manager.model.config.Section(C);Object.keys(A[C]).forEach(function(D){B.addOption(D,A[C][D]);},this);z.push(B);},this);this.__Ah();},getCurrentContent:function(){return this.getContent();},_onDeleteSection:function(F){var E=F.getData();var G=this._listController.getModel();G.remove(E);this.__Ah();},__Ah:function(){var I=this.getFile();if(this.__Ag!==this._listController.getModel().length){I.setModified(true);return;};var H=this.getChildControl(p).getChildren().some(function(J){return J.isModified();},this);I.setModified(H);},save:function(){var L=this._listController.getModel();var K=[];var M=true;L.forEach(function(P){var Q=P.getName();if(!K.includes(Q)){K.push(Q);}else {M=false;cv.ui.manager.snackbar.Controller.error(qx.locale.Manager.tr(q,Q));};var O=[];P.getOptions().forEach(function(S){var R=S.getKey();if(!O.includes(R)){O.push(R);}else {M=false;cv.ui.manager.snackbar.Controller.error(qx.locale.Manager.tr(f,R,Q));};},this);},this);if(M){var N=qx.util.Serializer.toNativeObject(this._listController.getModel());this._client.saveSync(null,N,function(T){if(T){cv.ui.manager.snackbar.Controller.error(this.tr(h,T.status,T.statusText));}else {cv.ui.manager.snackbar.Controller.info(this.tr(g));this._onSaved();};},this);}else {cv.ui.manager.snackbar.Controller.error(qx.locale.Manager.tr(a));};},_createChildControlImpl:function(V){var U;switch(V){case p:U=new qx.ui.form.List();U.setEnableInlineFind(false);this._listController=new qx.data.controller.List(new qx.data.Array(),U);this._listController.setDelegate({createItem:function(){return new cv.ui.manager.form.SectionListItem();},configureItem:function(W){W.addListener(i,this._onDeleteSection,this);W.addListener(v,this.__Ah,this);}.bind(this),bindItem:function(Y,X,ba){Y.bindProperty(d,l,null,X,ba);}});this._add(U,{flex:1});break;case c:U=new qx.ui.container.Composite(new qx.ui.layout.HBox(8));this._add(U);break;case j:U=new qx.ui.form.Button(this.tr(m));U.addListener(r,function(){this._listController.getModel().push(new cv.ui.manager.model.config.Section(d));this.__Ah();},this);this.getChildControl(c).add(U);break;};return U||cv.ui.manager.editor.AbstractEditor.prototype._createChildControlImpl.call(this,V);}},destruct:function(){this._disposeObjects(e,n);}});})();(function(){var a='cv.ui.manager.model.config.Section',b='changeOptions',c='String',d='qx.data.Array',e='',f='changeName';qx.Class.define(a,{extend:qx.core.Object,construct:function(name){qx.core.Object.call(this);this.setName(name);this.initOptions(new qx.data.Array());},properties:{name:{check:c,event:f,init:e},options:{check:d,deferredInit:true,event:b}},members:{addOption:function(g,j){var i=this.getOptions();var h=i.some(function(k){if(k.getKey()===g){k.setValue(j);};},this);if(!h){i.push(new cv.ui.manager.model.config.Option(g,j));};}}});})();(function(){var a='qx.event.type.Event',b='String',c='changeKey',d='cv.ui.manager.model.config.Option',e='_applyChange',f='',g='changeValue',h='change';qx.Class.define(d,{extend:qx.core.Object,construct:function(i,j){qx.core.Object.call(this);this.setKey(i);this.setValue(j);},events:{'change':a},properties:{key:{check:b,init:f,event:c,apply:e},value:{check:b,init:f,event:g,apply:e}},members:{_applyChange:function(){this.fireEvent(h);}}});})();(function(){var a='delete',b='_applyModel',c='section-title',d='',e='Boolean',f='qx.event.type.Data',g='cv-editor-config-section',h='value',i='add',j='cv.ui.manager.form.SectionListItem',k='Section',l='left',m='_listController',n='top',o='list',p='Delete section',q='execute',r='name',s='options',t='changeModified',u='header',v='change',w='changeName',x="cv.ui.manager.model.config.Section",y='model';qx.Class.define(j,{extend:qx.ui.core.Widget,construct:function(){qx.ui.core.Widget.call(this);var z=new qx.ui.layout.Grid(8,8);z.setColumnFlex(1,1);z.setColumnAlign(0,l,n);this._setLayout(z);this._createChildControl(c);this._createChildControl(o);this._createChildControl(a);},properties:{appearance:{refine:true,init:g},model:{check:x,nullable:false,apply:b},modified:{check:e,init:false,event:t}},events:{'delete':f},members:{_listController:null,_originalName:null,_originalOptions:null,_applyModel:function(D,B){var C=this.getChildControl(r);this.__Ai(B);if(D){D.bind(r,C,h);this._originalName=D.getName();this._originalOptions={};D.getOptions().forEach(function(E){E.addListener(v,this.__Ah,this);this._originalOptions[E.getKey()]=E.getValue();},this);C.bind(h,D,r);D.addListener(w,this.__Ah,this);D.bind(s,this._listController,y);if(D.getOptions().length===0){var A=new cv.ui.manager.model.config.Option(d,d);D.getOptions().push(A);};}else {this._originalName=null;this._originalOptions=null;};},__Ai:function(F){if(F){var G=this.getChildControl(r);if(this._listController){F.removeRelatedBindings(this._listController);};F.removeListener(w,this.__Ah,this);F.removeRelatedBindings(G);G.removeRelatedBindings(F);F.getOptions().forEach(function(H){H.removeListener(v,this.__Ah,this);},this);};},__Ah:function(){if(this._originalName!==this.getModel().getName()){this.setModified(true);return;};if(Object.keys(this._originalOptions).length!==this.getModel().getOptions().length){this.setModified(true);return;};var I=this.getModel().getOptions().some(function(J){return (!this._originalOptions.hasOwnProperty(J.getKey())||this._originalOptions[J.getKey()]!==J.getValue());},this);this.setModified(I);},_onDeleteOption:function(L){var M=L.getData();var N=this.getModel().getOptions();if(N.length===1){M.resetKey();M.resetValue();}else {var K=this.getModel().getOptions().remove(M);if(K){K.removeListener(v,this.__Ah,this);};};this.__Ah();},_onAddOption:function(){var O=new cv.ui.manager.model.config.Option(d,d);O.addListener(v,this.__Ah,this);this.getModel().getOptions().push(O);this.__Ah();},_createChildControlImpl:function(Q){var P;switch(Q){case c:P=new qx.ui.basic.Label(this.tr(k));this._add(P,{row:0,column:0});break;case r:P=new qx.ui.form.TextField();P.set({liveUpdate:true,required:true});this._add(P,{row:0,column:1});break;case a:P=new qx.ui.form.Button(null,cv.theme.dark.Images.getIcon(a,22));P.setToolTipText(this.tr(p));P.addListener(q,function(){this.fireDataEvent(a,this.getModel());},this);this._add(P,{row:0,column:2});break;case o:P=new qx.ui.form.List();P.setEnableInlineFind(false);this._listController=new qx.data.controller.List(null,P);this._listController.setNullValueTitle(u);this._listController.setAllowNull(true);this._listController.setDelegate({createItem:function(){return new cv.ui.manager.form.OptionListItem();},configureItem:function(R){R.addListener(a,this._onDeleteOption,this);R.addListener(i,this._onAddOption,this);}.bind(this),bindItem:function(T,S,U){T.bindProperty(d,y,null,S,U);}});this._add(P,{row:1,column:1});break;};return P||qx.ui.core.Widget.prototype._createChildControlImpl.call(this,Q);}},destruct:function(){this._disposeObjects(m);}});})();(function(){var a='qx.event.type.Event',b='cv-editor-config-option',c='Key',d='value-title',e='delete',f='add',g='_applyModel',h='qx.event.type.Data',i='Add option',j='key',k='Value',l="cv.ui.manager.model.config.Option",m='40%',n='value',o='key-title',p='execute',q='Delete option',r='cv.ui.manager.form.OptionListItem';qx.Class.define(r,{extend:qx.ui.core.Widget,construct:function(){qx.ui.core.Widget.call(this);this._setLayout(new qx.ui.layout.HBox(8));this._createChildControl(j);this._createChildControl(n);this._createChildControl(o);this._createChildControl(d);this._createChildControl(e);this._createChildControl(f);},properties:{appearance:{refine:true,init:b},model:{check:l,nullable:true,apply:g}},events:{'delete':h,'add':a},members:{setLabel:function(s){},setIcon:function(){},_applyModel:function(v,u){var t=this.getChildControl(j);var w=this.getChildControl(n);var x=this.getChildControl(o);var y=this.getChildControl(d);this.__Ai(u);if(v){v.bind(j,t,n);v.bind(n,w,n);t.bind(n,v,j);w.bind(n,v,n);t.show();w.show();x.exclude();y.exclude();this.getChildControl(e).show();this.getChildControl(f).show();}else {t.exclude();w.exclude();x.show();y.show();this.getChildControl(e).hide();this.getChildControl(f).hide();};},__Ai:function(z){if(z){var A=this.getChildControl(j);var B=this.getChildControl(n);if(z){z.removeRelatedBindings(A);z.removeRelatedBindings(B);A.removeRelatedBindings(z);B.removeRelatedBindings(z);};};},_createChildControlImpl:function(D){var C;switch(D){case j:C=new qx.ui.form.TextField();C.set({liveUpdate:true,required:true});this._add(C,{width:m});break;case n:C=new qx.ui.form.TextField();C.set({liveUpdate:true});this._add(C,{width:m});break;case e:C=new qx.ui.form.Button(null,cv.theme.dark.Images.getIcon(e,22));C.setToolTipText(this.tr(q));C.addListener(p,function(){this.fireDataEvent(e,this.getModel());},this);this._add(C);break;case f:C=new qx.ui.form.Button(null,cv.theme.dark.Images.getIcon(f,18));C.setToolTipText(this.tr(i));C.addListener(p,function(){this.fireEvent(f);},this);this._add(C);break;case o:C=new qx.ui.basic.Label(this.tr(c));C.exclude();this._add(C,{width:m});break;case d:C=new qx.ui.basic.Label(this.tr(k));C.exclude();this._add(C,{width:m});break;};return C||qx.ui.core.Widget.prototype._createChildControlImpl.call(this,D);}},destruct:function(){this.__Ai(this.getModel());}});})();(function(){var a="_applyIconOpened",b="changeOpen",c="Boolean",d="changeIcon",f="changeIconOpened",g="changeLabel",h="Integer",i="auto",j="Abstract method call.",k="_applyIndent",l="open",m="changeOpenSymbolMode",n="_applyOpenSymbolMode",o="middle",p="String",q="resize",r="",s="icon",t="opened",u="__Al",v="iconOpened",w="abstract",x="never",y="_applyIcon",z="always",A="_applyOpen",B="changeIndent",C="qx.ui.tree.core.AbstractItem",D="label",E="_applyLabel";qx.Class.define(C,{extend:qx.ui.core.Widget,type:w,include:[qx.ui.form.MModelProperty],implement:[qx.ui.form.IModel],construct:function(F){qx.ui.core.Widget.call(this);if(F!=null){this.setLabel(F);};this._setLayout(new qx.ui.layout.HBox());this._addWidgets();this.initOpen();},properties:{open:{check:c,init:false,event:b,apply:A},openSymbolMode:{check:[z,x,i],init:i,event:m,apply:n},indent:{check:h,init:19,apply:k,event:B,themeable:true},icon:{check:p,apply:y,event:d,nullable:true,themeable:true},iconOpened:{check:p,apply:a,event:f,nullable:true,themeable:true},label:{check:p,apply:E,event:g,init:r}},members:{__Aj:null,__Ak:null,__Al:null,_addWidgets:function(){throw new Error(j);},_createChildControlImpl:function(I,H){var G;switch(I){case D:G=new qx.ui.basic.Label().set({alignY:o,anonymous:true,value:this.getLabel()});break;case s:G=new qx.ui.basic.Image().set({alignY:o,anonymous:true,source:this.getIcon()});break;case l:G=new qx.ui.tree.core.FolderOpenButton().set({alignY:o});G.addListener(b,this._onChangeOpen,this);G.addListener(q,this._updateIndent,this);break;};return G||qx.ui.core.Widget.prototype._createChildControlImpl.call(this,I);},addWidget:function(J,K){this._add(J,K);},addSpacer:function(){if(!this.__Al){this.__Al=new qx.ui.core.Spacer();}else {this._remove(this.__Al);};this._add(this.__Al);},addOpenButton:function(){this._add(this.getChildControl(l));},_onChangeOpen:function(e){if(this.isOpenable()){this.setOpen(e.getData());};},addIcon:function(){var L=this.getChildControl(s);if(this.__Ak){this._remove(L);};this._add(L);this.__Ak=true;},addLabel:function(M){var N=this.getChildControl(D);if(this.__Aj){this._remove(N);};if(M){this.setLabel(M);}else {N.setValue(this.getLabel());};this._add(N);this.__Aj=true;},_applyIcon:function(P,O){if(!this.__An()){this.__Ao(P);}else if(!this.isOpen()){this.__Ao(P);};},_applyIconOpened:function(R,Q){if(this.isOpen()){if(this.__Am()&&this.__An()){this.__Ao(R);}else if(!this.__Am()&&this.__An()){this.__Ao(R);};};},_applyLabel:function(T,S){var U=this.getChildControl(D,true);if(U){U.setValue(T);};},_applyOpen:function(W,V){var open=this.getChildControl(l,true);if(open){open.setOpen(W);};var X;if(W){X=this.__An()?this.getIconOpened():null;}else {X=this.getIcon();};if(X){this.__Ao(X);};W?this.addState(t):this.removeState(t);},__Am:function(){return qx.util.PropertyUtil.getUserValue(this,s);},__An:function(){return qx.util.PropertyUtil.getUserValue(this,v);},__Ao:function(Y){var ba=this.getChildControl(s,true);if(ba){ba.setSource(Y);};},isOpenable:function(){var bb=this.getOpenSymbolMode();return (bb===z||bb===i&&this.hasChildren());},_shouldShowOpenSymbol:function(){throw new Error(j);},_applyOpenSymbolMode:function(bd,bc){this._updateIndent();},_updateIndent:function(){var bf=0;var open=this.getChildControl(l,true);if(open){if(this._shouldShowOpenSymbol()){open.show();var be=open.getBounds();if(be){bf=be.width;}else {return;};}else {open.exclude();};};if(this.__Al){this.__Al.setWidth((this.getLevel()+1)*this.getIndent()-bf);};},_applyIndent:function(bh,bg){this._updateIndent();},getLevel:function(){throw new Error(j);},syncWidget:function(bi){this._updateIndent();},hasChildren:function(){throw new Error(j);}},destruct:function(){this._disposeObjects(u);}});})();(function(){var a="pointerup",b="qx.ui.tree.core.FolderOpenButton",c="Boolean",d="opened",f="_applyOpen",g="pointerdown",h="tap",i="changeOpen";qx.Class.define(b,{extend:qx.ui.basic.Image,include:qx.ui.core.MExecutable,construct:function(){qx.ui.basic.Image.call(this);this.initOpen();this.addListener(h,this._onTap);this.addListener(g,this._stopPropagation,this);this.addListener(a,this._stopPropagation,this);},properties:{open:{check:c,init:false,event:i,apply:f}},members:{_applyOpen:function(k,j){k?this.addState(d):this.removeState(d);this.execute();},_stopPropagation:function(e){e.stopPropagation();},_onTap:function(e){this.toggleOpen();e.stopPropagation();}}});})();(function(){var a="open",b="cell.childProperty",c="cell.level",d="qx.ui.tree.VirtualTreeItem",f="change",g="virtual-tree-folder",h="cell.showLeafs",i="changeLength";qx.Class.define(d,{extend:qx.ui.tree.core.AbstractItem,properties:{appearance:{refine:true,init:g}},members:{_forwardStates:{selected:true},_addWidgets:function(){this.addSpacer();this.addOpenButton();this.addIcon();this.addLabel();},_shouldShowOpenSymbol:function(){var open=this.getChildControl(a,true);if(open==null){return false;};return this.isOpenable();},getLevel:function(){return this.getUserData(c);},hasChildren:function(){var j=this.getModel();var l=this.getUserData(b);var k=this.getUserData(h);return qx.ui.tree.core.Util.hasChildren(j,l,!k);},_applyModel:function(p,m){var q=this.getUserData(b);var o=this.getUserData(h);if(p!=null&&qx.ui.tree.core.Util.isNode(p,q)){var n=f+qx.lang.String.firstUp(q);if(qx.Class.hasProperty(p.constructor,q)){p.addListener(n,this._onChangeChildProperty,this);};if(qx.ui.tree.core.Util.hasChildren(p,q,!o)){p.get(q).addListener(i,this._onChangeLength,this);this._updateIndent();};};if(m!=null&&qx.ui.tree.core.Util.isNode(m,q)){var n=f+qx.lang.String.firstUp(q);m.removeListener(n,this._onChangeChildProperty,this);var r=m.get(q);if(r){r.removeListener(i,this._onChangeLength,this);};};},_onChangeLength:function(){this._updateIndent();},_onChangeChildProperty:function(e){var t=e.getData();var s=e.getOldData();if(t){this._updateIndent();t.addListener(i,this._onChangeLength,this);};if(s){s.removeListener(i,this._onChangeLength,this);};}}});})();(function(){var a="qx.ui.tree.core.Util";qx.Class.define(a,{statics:{isNode:function(b,c){if(b==null||c==null){return false;};return qx.Class.hasProperty(b.constructor,c);},hasChildren:function(d,f,h){if(d==null||f==null||!this.isNode(d,f)){return false;};var g=d.get(f);if(g==null){return false;};if(!h){return g.length>0;}else {for(var i=0;i<g.getLength();i++ ){var e=g.getItem(i);if(this.isNode(e,f)){return true;};};};return false;}}});})();(function(){var a='edit',b='String',c='',d='_applyStatus',e='status',f='cv.manager.tree.enable',g='valid',h='_applyEditing',i='visible',j='icon',k='drop',l='fs-tree-item',m='temporary',n='_applyTemporary',o='Trash',p='dir',q='name',r='changeVisibility',s='cv.ui.manager.tree.VirtualFsItem',t='label',u='error',v='Boolean',w='blur',x='Enter',y='changeName',z='Esc',A='keypress';qx.Class.define(s,{extend:qx.ui.tree.VirtualTreeItem,properties:{appearance:{refine:true,init:l},editing:{check:v,init:false,apply:h},name:{check:b,init:c,event:y},temporary:{check:v,init:false,apply:n},status:{check:[g,u],nullable:true,apply:d}},members:{_applyEditing:function(D,C){if(D!==C){var B=this.getChildControl(a);if(D){B.setValue(this.getLabel());B.show();qx.event.message.Bus.dispatchByName(f,false);}else {qx.event.message.Bus.dispatchByName(f,true);B.exclude();if(B.getValue()!==this.getName()){cv.ui.manager.control.FileController.getInstance().rename(this.getModel(),B.getValue());};};};},_applyTemporary:function(E){if(E){this.addState(m);}else {this.removeState(m);};},_applyModel:function(G,F){qx.ui.tree.VirtualTreeItem.prototype._applyModel.call(this,G,F);if(F){F.removeRelatedBindings(this);};if(G){if(G.isTrash()){this.setLabel(this.tr(o));}else {G.bind(q,this,t);G.bind(g,this,e,{converter:function(H){return H===true?g:u;}});};G.bind(m,this,m);if(G.getType()===p){this.setDroppable(true);this.addListener(k,this._onDrop,this);}else {this.setDroppable(false);this.removeListener(k,this._onDrop,this);};};},_applyStatus:function(J){var I=this.getChildControl(j);if(J){switch(J){case g:I.removeState(u);break;case u:I.addState(u);break;};};},_onDrop:function(K){console.log(K.getRelatedTarget());},__Ap:function(){this.getChildControl(a).setValue(this.getName());this.setEditing(false);},_onKeypress:function(L){if(L.getKeyIdentifier()===x){this.setEditing(false);}else if(L.getKeyIdentifier()===z){this.__Ap();};},_createChildControlImpl:function(N){var M;switch(N){case a:M=new qx.ui.form.TextField();M.addListener(A,this._onKeypress,this);M.exclude();M.addListener(r,function(O){if(O.getData()===i){this.getChildControl(t).exclude();}else {this.getChildControl(t).show();};},this);M.addListener(w,function(){this.setEditing(false);},this);this._add(M);break;};return M||qx.ui.tree.VirtualTreeItem.prototype._createChildControlImpl.call(this,N);}}});})();(function(){var a="qx.ui.tree.core.IVirtualTree";qx.Interface.define(a,{members:{isShowTopLevelOpenCloseIcons:function(){},getLookupTable:function(){},isNode:function(b){this.assertArgumentsCount(arguments,1,1);this.assertInterface(b,qx.core.Object);},isNodeOpen:function(c){this.assertArgumentsCount(arguments,1,1);this.assertInterface(c,qx.core.Object);},getLevel:function(d){this.assertArgumentsCount(arguments,1,1);this.assertInteger(d);},hasChildren:function(e){this.assertArgumentsCount(arguments,1,1);this.assertInterface(e,qx.core.Object);},openNode:function(f){this.assertArgumentsCount(arguments,1,1);this.assertInterface(f,qx.core.Object);},openNodeWithoutScrolling:function(g){this.assertArgumentsCount(arguments,1,1);this.assertInterface(g,qx.core.Object);},closeNode:function(h){this.assertArgumentsCount(arguments,1,1);this.assertInterface(h,qx.core.Object);},closeNodeWithoutScrolling:function(i){this.assertArgumentsCount(arguments,1,1);this.assertInterface(i,qx.core.Object);},getSelection:function(){}}});})();(function(){var a="scrollY",b="The method 'getItemRight' is not implemented!",c="update",d="scrollX",f="The method 'getItemLeft' is not implemented!",g="The method 'getItemBottom' is not implemented!",h="The method 'getItemTop' is not implemented!",i="pane",j="os.scrollBarOverlayed",k="qx.ui.virtual.core.Scroller";qx.Class.define(k,{extend:qx.ui.core.scroll.AbstractScrollArea,construct:function(o,l,n,m){qx.ui.core.scroll.AbstractScrollArea.call(this);this.__Aq=new qx.ui.virtual.core.Pane(o,l,n,m);this.__Aq.addListener(c,this._computeScrollbars,this);this.__Aq.addListener(d,this._onScrollPaneX,this);this.__Aq.addListener(a,this._onScrollPaneY,this);if(qx.core.Environment.get(j)){this._add(this.__Aq,{edge:0});}else {this._add(this.__Aq,{row:0,column:0});};},members:{__Aq:null,getPane:function(){return this.__Aq;},_createChildControlImpl:function(q,p){if(q===i){return this.__Aq;}else {return qx.ui.core.scroll.AbstractScrollArea.prototype._createChildControlImpl.call(this,q);};},getItemTop:function(r){throw new Error(h);},getItemBottom:function(s){throw new Error(g);},getItemLeft:function(t){throw new Error(f);},getItemRight:function(u){throw new Error(b);},_onScrollBarX:function(e){this.__Aq.setScrollX(e.getData());},_onScrollBarY:function(e){this.__Aq.setScrollY(e.getData());}},destruct:function(){this.__Aq.dispose();this.__Aq=null;}});})();(function(){var a="qx.ui.virtual.core.Pane",b="resize",c="qx.ui.virtual.core.CellEvent",d="update",f="scrollX",g="scrollY",h="change",j="contextmenu",k="__Ar",l="__Ay",m="__As",n="appear",o="__Az",p="cellDbltap",q="pointerdown",r="tap",s="qx.event.type.Event",t="qx.event.type.Data",u="cellTap",v="cellContextmenu",w="dbltap";qx.Class.define(a,{extend:qx.ui.core.Widget,construct:function(A,x,z,y){qx.ui.core.Widget.call(this);this.__Ar=new qx.ui.virtual.core.Axis(z,A);this.__As=new qx.ui.virtual.core.Axis(y,x);this.__At=0;this.__Au=0;this.__Av=0;this.__Aw=0;this.__Ax={};this.__mO={};this.__Ay=new qx.ui.container.Composite();this.__Ay.setUserBounds(0,0,0,0);this._add(this.__Ay);this.__Az=[];this.__Ar.addListener(h,this.fullUpdate,this);this.__As.addListener(h,this.fullUpdate,this);this.addListener(b,this._onResize,this);this.addListenerOnce(n,this._onAppear,this);this.addListener(q,this._onPointerDown,this);this.addListener(r,this._onTap,this);this.addListener(w,this._onDbltap,this);this.addListener(j,this._onContextmenu,this);},events:{cellTap:c,cellContextmenu:c,cellDbltap:c,update:s,scrollX:t,scrollY:t},properties:{width:{refine:true,init:400},height:{refine:true,init:300}},members:{__Ar:null,__As:null,__At:null,__Au:null,__Av:null,__Aw:null,__Ax:null,__mO:null,__Ay:null,__Az:null,__AA:null,__xE:null,__AB:null,__AC:null,getRowConfig:function(){return this.__Ar;},getColumnConfig:function(){return this.__As;},getChildren:function(){return [this.__Ay];},addLayer:function(B){{};this.__Az.push(B);B.setUserBounds(0,0,0,0);this.__Ay.add(B);},getLayers:function(){return this.__Az;},getVisibleLayers:function(){var C=[];for(var i=0;i<this.__Az.length;i++ ){var D=this.__Az[i];if(D.isVisible()){C.push(D);};};return C;},getScrollMaxX:function(){var E=this.getInnerSize();if(E){return Math.max(0,this.__As.getTotalSize()-E.width);};return 0;},getScrollMaxY:function(){var F=this.getInnerSize();if(F){return Math.max(0,this.__Ar.getTotalSize()-F.height);};return 0;},setScrollY:function(I){var G=this.getScrollMaxY();if(I<0){I=0;}else if(I>G){I=G;};if(this.__At!==I){var H=this.__At;this.__At=I;this._deferredUpdateScrollPosition();this.fireDataEvent(g,I,H);};},getScrollY:function(){return this.__At;},setScrollX:function(L){var J=this.getScrollMaxX();if(L<0){L=0;}else if(L>J){L=J;};if(L!==this.__Au){var K=this.__Au;this.__Au=L;this._deferredUpdateScrollPosition();this.fireDataEvent(f,L,K);};},getScrollX:function(){return this.__Au;},getScrollSize:function(){return {width:this.__As.getTotalSize(),height:this.__Ar.getTotalSize()};},scrollRowIntoView:function(O){var P=this.getBounds();if(!P){this.addListenerOnce(n,function(){qx.event.Timer.once(function(){this.scrollRowIntoView(O);},this,0);},this);return;};var Q=this.__Ar.getItemPosition(O);var N=Q+this.__Ar.getItemSize(O);var M=this.getScrollY();if(Q<M){this.setScrollY(Q);}else if(N>M+P.height){this.setScrollY(N-P.height);};},scrollColumnIntoView:function(R){var U=this.getBounds();if(!U){this.addListenerOnce(n,function(){qx.event.Timer.once(function(){this.scrollColumnIntoView(R);},this,0);},this);return;};var T=this.__As.getItemPosition(R);var S=T+this.__As.getItemSize(R);var V=this.getScrollX();if(T<V){this.setScrollX(T);}else if(S>V+U.width){this.setScrollX(S-U.width);};},scrollCellIntoView:function(W,Y){var X=this.getBounds();if(!X){this.addListenerOnce(n,function(){qx.event.Timer.once(function(){this.scrollCellIntoView(W,Y);},this,0);},this);return;};this.scrollColumnIntoView(W);this.scrollRowIntoView(Y);},getCellAtPosition:function(ba,bb){var be,bd;var bc=this.getContentLocation();if(!bc||bb<bc.top||bb>=bc.bottom||ba<bc.left||ba>=bc.right){return null;};be=this.__Ar.getItemAtPosition(this.getScrollY()+bb-bc.top);bd=this.__As.getItemAtPosition(this.getScrollX()+ba-bc.left);if(!be||!bd){return null;};return {row:be.index,column:bd.index};},prefetchX:function(bi,bl,bj,bh){var bf=this.getVisibleLayers();if(bf.length==0){return;};var bk=this.getBounds();if(!bk){return;};var bm=this.__Au+bk.width;var bn=this.__Aw-bm;if(this.__Au-this.__Ax.left<Math.min(this.__Au,bi)||this.__Ax.right-bm<Math.min(bn,bj)){var bo=Math.min(this.__Au,bl);var bg=Math.min(bn,bh);this._setLayerWindow(bf,this.__Au-bo,this.__At,bk.width+bo+bg,bk.height,false);};},prefetchY:function(by,bu,bq,bt){var bp=this.getVisibleLayers();if(bp.length==0){return;};var bv=this.getBounds();if(!bv){return;};var br=this.__At+bv.height;var bs=this.__Av-br;if(this.__At-this.__Ax.top<Math.min(this.__At,by)||this.__Ax.bottom-br<Math.min(bs,bq)){var bx=Math.min(this.__At,bu);var bw=Math.min(bs,bt);this._setLayerWindow(bp,this.__Au,this.__At-bx,bv.width,bv.height+bx+bw,false);};},_onResize:function(){if(this.getContentElement().getDomElement()){this.__AA=true;this._updateScrollPosition();this.__AA=null;this.fireEvent(d);};},_onAppear:function(){this.fullUpdate();},_onPointerDown:function(e){this.__AC=this.getCellAtPosition(e.getDocumentLeft(),e.getDocumentTop());},_onTap:function(e){this.__AD(e,u);},_onContextmenu:function(e){this.__AD(e,v);},_onDbltap:function(e){this.__AD(e,p);},_checkScrollBounds:function(){var bz=this.getScrollMaxX();var bA=this.getScrollMaxY();if(this.__Au<0){this.__Au=0;}else if(this.__Au>bz){this.__Au=bz;};if(this.__At<0){this.__At=0;}else if(this.__At>bA){this.__At=bA;};},__AD:function(e,bD){var bC=this.getCellAtPosition(e.getDocumentLeft(),e.getDocumentTop());if(!bC){return;};var bB=this.__AC;if(bB==null||bB.row!==bC.row||bB.column!==bC.column){return;};this.fireNonBubblingEvent(bD,qx.ui.virtual.core.CellEvent,[this,e,bC.row,bC.column]);},syncWidget:function(bE){if(this.__mO._fullUpdate){this._checkScrollBounds();this._fullUpdate();}else if(this.__mO._updateScrollPosition){this._checkScrollBounds();this._updateScrollPosition();};this.__mO={};},_setLayerWindow:function(bF,bU,top,bQ,bM,bW){var bL=this.__Ar.getItemAtPosition(top);if(bL){var bO=bL.index;var bS=this.__Ar.getItemSizes(bO,bM+bL.offset);var bN=qx.lang.Array.sum(bS);var bV=top-bL.offset;var bR=top-bL.offset+bN;}else {var bO=0;var bS=[];var bN=0;var bV=0;var bR=0;};var bG=this.__As.getItemAtPosition(bU);if(bG){var bK=bG.index;var bI=this.__As.getItemSizes(bK,bQ+bG.offset);var bP=qx.lang.Array.sum(bI);var bT=bU-bG.offset;var bJ=bU-bG.offset+bP;}else {var bK=0;var bI=[];var bP=0;var bT=0;var bJ=0;};this.__Ax={top:bV,bottom:bR,left:bT,right:bJ};this.__Ay.setUserBounds((this.getPaddingLeft()||0)+(this.__Ax.left-this.__Au),(this.getPaddingTop()||0)+(this.__Ax.top-this.__At),bP,bN);this.__xE=bI;this.__AB=bS;for(var i=0;i<this.__Az.length;i++ ){var bH=this.__Az[i];bH.setUserBounds(0,0,bP,bN);if(bW){bH.fullUpdate(bO,bK,bS,bI);}else {bH.updateLayerWindow(bO,bK,bS,bI);};};},__AE:function(){if(this.__AA){return;};var bX=this.getScrollSize();if(this.__Av!==bX.height||this.__Aw!==bX.width){this.__Av=bX.height;this.__Aw=bX.width;this.fireEvent(d);};},fullUpdate:function(){this.__mO._fullUpdate=1;qx.ui.core.queue.Widget.add(this);},isUpdatePending:function(){return !!this.__mO._fullUpdate;},_fullUpdate:function(){var bY=this.getVisibleLayers();if(bY.length==0){this.__AE();return;};var ca=this.getBounds();if(!ca){return;};this._setLayerWindow(bY,this.__Au,this.__At,ca.width,ca.height,true);this.__AE();},_deferredUpdateScrollPosition:function(){this.__mO._updateScrollPosition=1;qx.ui.core.queue.Widget.add(this);},_updateScrollPosition:function(){var cb=this.getVisibleLayers();if(cb.length==0){this.__AE();return;};var cd=this.getBounds();if(!cd){return;};var cc={top:this.__At,bottom:this.__At+cd.height,left:this.__Au,right:this.__Au+cd.width};if(this.__Ax.top<=cc.top&&this.__Ax.bottom>=cc.bottom&&this.__Ax.left<=cc.left&&this.__Ax.right>=cc.right){this.__Ay.setUserBounds((this.getPaddingLeft()||0)+(this.__Ax.left-cc.left),(this.getPaddingTop()||0)+(this.__Ax.top-cc.top),this.__Ax.right-this.__Ax.left,this.__Ax.bottom-this.__Ax.top);}else {this._setLayerWindow(cb,this.__Au,this.__At,cd.width,cd.height,false);};this.__AE();}},destruct:function(){this._disposeArray(o);this._disposeObjects(k,m,l);this.__Ax=this.__mO=this.__xE=this.__AB=null;}});})();(function(){var c="change",d="qx.event.type.Event",e="qx.ui.virtual.core.Axis";qx.Class.define(e,{extend:qx.core.Object,construct:function(f,g){qx.core.Object.call(this);this.itemCount=g;this.defaultItemSize=f;this.customSizes={};},events:{"change":d},members:{__AF:null,getDefaultItemSize:function(){return this.defaultItemSize;},setDefaultItemSize:function(h){if(this.defaultItemSize!==h){this.defaultItemSize=h;this.__AF=null;this.fireNonBubblingEvent(c);};},getItemCount:function(){return this.itemCount;},setItemCount:function(j){if(this.itemCount!==j){this.itemCount=j;this.__AF=null;this.fireNonBubblingEvent(c);};},setItemSize:function(k,l){{};if(this.customSizes[k]==l){return;};if(l===null){delete this.customSizes[k];}else {this.customSizes[k]=l;};this.__AF=null;this.fireNonBubblingEvent(c);},getItemSize:function(m){return this.customSizes[m]||this.defaultItemSize;},resetItemSizes:function(){this.customSizes={};this.__AF=null;this.fireNonBubblingEvent(c);},__AG:function(){if(this.__AF){return this.__AF;};var q=this.defaultItemSize;var o=this.itemCount;var w=[];for(var t in this.customSizes){var n=parseInt(t,10);if(n<o){w.push(n);};};if(w.length==0){var s=[{startIndex:0,endIndex:o-1,firstItemSize:q,rangeStart:0,rangeEnd:o*q-1}];this.__AF=s;return s;};w.sort(function(a,b){return a>b?1:-1;});var s=[];var p=0;for(var i=0;i<w.length;i++ ){var n=w[i];if(n>=o){break;};var v=this.customSizes[n];var r=n*q+p;p+=v-q;s[i]={startIndex:n,firstItemSize:v,rangeStart:r};if(i>0){s[i-1].rangeEnd=r-1;s[i-1].endIndex=n-1;};};if(s[0].rangeStart>0){s.unshift({startIndex:0,endIndex:s[0].startIndex-1,firstItemSize:q,rangeStart:0,rangeEnd:s[0].rangeStart-1});};var x=s[s.length-1];var u=(o-x.startIndex-1)*q;x.rangeEnd=x.rangeStart+x.firstItemSize+u-1;x.endIndex=o-1;this.__AF=s;return s;},__AH:function(D){var z=this.__AF||this.__AG();var A=0;var y=z.length-1;while(true){var C=A+((y-A)>>1);var B=z[C];if(B.rangeEnd<D){A=C+1;}else if(B.rangeStart>D){y=C-1;}else {return B;};};},getItemAtPosition:function(I){if(I<0||I>=this.getTotalSize()){return null;};var H=this.__AH(I);var J=H.rangeStart;var E=H.startIndex;var G=H.firstItemSize;if(J+G>I){return {index:E,offset:I-J};}else {var F=this.defaultItemSize;return {index:E+1+Math.floor((I-J-G)/F),offset:(I-J-G)%F};};},__AI:function(K){var M=this.__AF||this.__AG();var N=0;var L=M.length-1;while(true){var P=N+((L-N)>>1);var O=M[P];if(O.endIndex<K){N=P+1;}else if(O.startIndex>K){L=P-1;}else {return O;};};},getItemPosition:function(Q){if(Q<0||Q>=this.itemCount){return null;};var R=this.__AI(Q);if(R.startIndex==Q){return R.rangeStart;}else {return R.rangeStart+R.firstItemSize+(Q-R.startIndex-1)*this.defaultItemSize;};},getTotalSize:function(){var S=this.__AF||this.__AG();return S[S.length-1].rangeEnd+1;},getItemSizes:function(Y,T){var X=this.customSizes;var W=this.defaultItemSize;var V=0;var U=[];var i=0;while(V<T){var ba=X[Y]!=null?X[Y]:W;Y++ ;V+=ba;U[i++ ]=ba;if(Y>=this.itemCount){break;};};return U;}},destruct:function(){this.customSizes=this.__AF=null;}});})();(function(){var a="qx.ui.virtual.core.CellEvent",b="Integer";qx.Class.define(a,{extend:qx.event.type.Pointer,properties:{row:{check:b,nullable:true},column:{check:b,nullable:true}},members:{init:function(e,c,f,d){c.clone(this);this.setBubbles(false);this.setRow(f);this.setColumn(d);}}});})();(function(){var a="one",b="Boolean",c="qx.ui.virtual.selection.MModel",d="qx.data.Array",f="multi",g="selected",h="_applySelection",j="change",k="_applyDragSelection",l="single",m="_applyQuickSelection",n="changeSelection",o="changeValue",p="_applySelectionMode",q="additive",r="qx.event.type.Data";qx.Mixin.define(c,{construct:function(){this._initSelectionManager();this.__AJ=new qx.data.Array();this.initSelection(this.__AJ);},properties:{selection:{check:d,event:n,apply:h,nullable:false,deferredInit:true},selectionMode:{check:[l,f,q,a],init:l,apply:p},dragSelection:{check:b,init:false,apply:k},quickSelection:{check:b,init:false,apply:m}},events:{"changeSelection":r,"changeValue":r},members:{_manager:null,__AK:false,__AL:false,__AJ:null,setValue:function(s){if(null===s){this.resetSelection();}else {this.setSelection(s);};return null;},getValue:function(){return this.getSelection();},resetValue:function(){this.resetSelection();},_initSelectionManager:function(){var self=this;var t={isItemSelectable:function(u){return self._provider.isSelectable(u);},styleSelectable:function(v,w,x){if(w!=g){return;};if(x){self._provider.styleSelectabled(v);}else {self._provider.styleUnselectabled(v);};}};this._manager=new qx.ui.virtual.selection.Row(this.getPane(),t);this._manager.attachPointerEvents(this.getPane());this._manager.attachKeyEvents(this);this._manager.addListener(n,this._onManagerChangeSelection,this);},setAutoScrollIntoView:function(y){this._manager._autoScrollIntoView=y;},getAutoScrollIntoView:function(){return this._manager._autoScrollIntoView;},_updateSelection:function(){if(this._manager==null){return;};this._onChangeSelection();},_applySelection:function(A,z){A.addListener(j,this._onChangeSelection,this);if(z!=null){z.removeListener(j,this._onChangeSelection,this);};this._onChangeSelection();},_applySelectionMode:function(C,B){this._manager.setMode(C);},_applyDragSelection:function(E,D){this._manager.setDrag(E);},_applyQuickSelection:function(G,F){this._manager.setQuick(G);},_onChangeSelection:function(e){if(this.__AL==true){return;};this.__AK=true;var I=this.getSelection();var K=[];for(var i=0;i<I.getLength();i++ ){var J=I.getItem(i);var L=this._getSelectables();var H=-1;if(L!=null){H=L.indexOf(J);};var M=this._reverseLookup(H);if(M>=0){K.push(M);};};if(this._beforeApplySelection!=null&&qx.lang.Type.isFunction(this._beforeApplySelection)){this._beforeApplySelection(K);};try{if(!qx.lang.Array.equals(K,this._manager.getSelection())){this._manager.replaceSelection(K);};}catch(N){this._manager.selectItem(K[K.length-1]);};this.__AM();if(this._afterApplySelection!=null&&qx.lang.Type.isFunction(this._afterApplySelection)){this._afterApplySelection();};this.__AK=false;},_onManagerChangeSelection:function(e){if(this.__AK==true){return;};this.__AL=true;this.__AM();this.__AL=false;this.fireDataEvent(o,e.getData(),e.getOldData());},__AM:function(){if(this.__AO()){return;};var O=this._manager.getSelection();var P=[];for(var i=0;i<O.length;i++ ){var Q=this._getDataFromRow(O[i]);if(Q!=null){P.push(Q);};};this.__AN(P);},__AN:function(T){var S=this.getSelection();if(T.length>0){var R=[0,S.getLength()];R=R.concat(T);var U=S.splice.apply(S,R);U.dispose();}else {S.removeAll();};},__AO:function(){var W=this.getSelection();var Y=this._manager.getSelection();if(W.getLength()!==Y.length){return false;};for(var i=0;i<W.getLength();i++ ){var X=W.getItem(i);var ba=this._getSelectables();var V=-1;if(ba!=null){V=ba.indexOf(X);};var bb=this._reverseLookup(V);if(bb!==Y[i]){return false;};};return true;},_applyDefaultSelection:function(){if(this._manager!=null){this._manager._applyDefaultSelection();};}},destruct:function(){this._manager.dispose();this._manager=null;if(this.__AJ){this.__AJ.dispose();};}});})();(function(){var a="qx.ui.virtual.selection.Abstract",b="keypress",c="losecapture",d="pointerover",e="pointerdown",f="removeItem",g="tap",h="pointermove",i="addItem";qx.Class.define(a,{extend:qx.ui.core.selection.Abstract,construct:function(k,j){qx.ui.core.selection.Abstract.call(this);{};this._pane=k;this._delegate=j||{};},members:{_autoScrollIntoView:true,_isSelectable:function(l){return this._delegate.isItemSelectable?this._delegate.isItemSelectable(l):true;},_styleSelectable:function(m,n,o){if(this._delegate.styleSelectable){this._delegate.styleSelectable(m,n,o);};},attachPointerEvents:function(){var p=this._pane.getContentElement();p.addListener(e,this.handlePointerDown,this);p.addListener(g,this.handleTap,this);p.addListener(d,this.handlePointerOver,this);p.addListener(h,this.handlePointerMove,this);p.addListener(c,this.handleLoseCapture,this);},detatchPointerEvents:function(){var q=this._pane.getContentElement();q.removeListener(e,this.handlePointerDown,this);q.removeListener(g,this.handleTap,this);q.removeListener(d,this.handlePointerOver,this);q.removeListener(h,this.handlePointerMove,this);q.removeListener(c,this.handleLoseCapture,this);},attachKeyEvents:function(r){r.addListener(b,this.handleKeyPress,this);},detachKeyEvents:function(s){s.removeListener(b,this.handleKeyPress,this);},attachListEvents:function(t){t.addListener(i,this.handleAddItem,this);t.addListener(f,this.handleRemoveItem,this);},detachListEvents:function(u){u.removeListener(i,this.handleAddItem,this);u.removeListener(f,this.handleRemoveItem,this);},_capture:function(){this._pane.capture();},_releaseCapture:function(){this._pane.releaseCapture();},_getScroll:function(){return {left:this._pane.getScrollX(),top:this._pane.getScrollY()};},_scrollBy:function(v,w){this._pane.setScrollX(this._pane.getScrollX()+v);this._pane.setScrollY(this._pane.getScrollY()+w);},_getLocation:function(){var x=this._pane.getContentElement().getDomElement();return x?qx.bom.element.Location.get(x):null;},_getDimension:function(){return this._pane.getInnerSize();}},destruct:function(){this._pane=this._delegate=null;}});})();(function(){var a="qx.ui.virtual.selection.Row",b="above",c="under";qx.Class.define(a,{extend:qx.ui.virtual.selection.Abstract,members:{_getItemCount:function(){return this._pane.getRowConfig().getItemCount();},_getSelectableFromPointerEvent:function(event){var d=this._pane.getCellAtPosition(event.getDocumentLeft(),event.getDocumentTop());if(!d){return null;};return this._isSelectable(d.row)?d.row:null;},getSelectables:function(f){var e=[];for(var i=0,l=this._getItemCount();i<l;i++ ){if(this._isSelectable(i)){e.push(i);};};return e;},_getSelectableRange:function(j,k){var m=[];var g=Math.min(j,k);var h=Math.max(j,k);for(var i=g;i<=h;i++ ){if(this._isSelectable(i)){m.push(i);};};return m;},_getFirstSelectable:function(){var n=this._getItemCount();for(var i=0;i<n;i++ ){if(this._isSelectable(i)){return i;};};return null;},_getLastSelectable:function(){var o=this._getItemCount();for(var i=o-1;i>=0;i-- ){if(this._isSelectable(i)){return i;};};return null;},_getRelatedSelectable:function(q,s){if(s==b){var r=q-1;var p=0;var t=-1;}else if(s==c){var r=q+1;var p=this._getItemCount()-1;var t=1;}else {return null;};for(var i=r;i!==p+t;i+=t){if(this._isSelectable(i)){return i;};};return null;},_getPage:function(v,u){if(u){return this._getFirstSelectable();}else {return this._getLastSelectable();};},_selectableToHashCode:function(w){return w;},_scrollItemIntoView:function(x){if(this._autoScrollIntoView){this._pane.scrollRowIntoView(x);};},_getSelectableLocationX:function(y){return {left:0,right:this._pane.getColumnConfig().getTotalSize()-1};},_getSelectableLocationY:function(z){var C=this._pane.getRowConfig();var B=C.getItemPosition(z);var A=B+C.getItemSize(z)-1;return {top:B,bottom:A};}}});})();(function(){var a="changeModel",b="resize",c="_applyLabelOptions",d="_applyLabelPath",f='Could not build tree, because \'childProperty\' and/or \'labelPath\' is \'null\'!',g="one",h="_applyOpenMode",j="qx.core.Object",k="Space",l="Left",m="filter",n="Integer",o="_applyModel",p="_applyShowTopLevelOpenCloseIcons",q="Boolean",r="open",s="changeOpenMode",t="cellTap",u="changeDelegate",v="virtual-tree",w="_applyChildProperty",x="qx.event.type.Data",y="_applyIconPath",z="dbltap",A="_applyDelegate",B="cellDbltap",C="_applyHideRoot",D="close",E="_applyRowHeight",F="changeBubble",G="sorter",H="Right",I="Enter",J="qx.ui.tree.VirtualTree",K="keypress",L="none",M="updated",N="_applyShowLeafs",O="String",P="_applyIconOptions",Q="tap",R=".";qx.Class.define(J,{extend:qx.ui.virtual.core.Scroller,implement:[qx.ui.tree.core.IVirtualTree,qx.data.controller.ISelection],include:[qx.ui.virtual.selection.MModel,qx.ui.core.MContentPadding],construct:function(U,T,S,V){qx.ui.virtual.core.Scroller.call(this,0,1,20,100);this._init();if(T!=null){this.setLabelPath(T);};if(S!=null){this.setChildProperty(S);};if(U!=null){this.initModel(U);};this.initItemHeight();this.initOpenMode();this.addListener(K,this._onKeyPress,this);if(V&&U){this.openViaModelChanges(V);};},events:{open:x,close:x},properties:{appearance:{refine:true,init:v},focusable:{refine:true,init:true},width:{refine:true,init:100},height:{refine:true,init:200},itemHeight:{check:n,init:25,apply:E,themeable:true},openMode:{check:[Q,z,L],init:z,apply:h,event:s,themeable:true},hideRoot:{check:q,init:false,apply:C},showTopLevelOpenCloseIcons:{check:q,init:false,apply:p},showLeafs:{check:q,init:true,apply:N},childProperty:{check:O,apply:w,nullable:true},labelPath:{check:O,apply:d,nullable:true},iconPath:{check:O,apply:y,nullable:true},labelOptions:{apply:c,nullable:true},iconOptions:{apply:P,nullable:true},model:{check:j,apply:o,event:a,nullable:true,deferredInit:true},delegate:{event:u,apply:A,init:null,nullable:true}},members:{_provider:null,_layer:null,__vJ:null,__AP:null,__AQ:null,__mF:null,_itemWidth:0,__AR:null,__AS:null,syncWidget:function(X){var ba=this._layer.getFirstRow();var Y=this._layer.getRowSizes().length;for(var bc=ba;bc<ba+Y;bc++ ){var W=this._layer.getRenderedCellWidget(bc,0);if(W!=null){this._itemWidth=Math.max(this._itemWidth,W.getSizeHint().width);};};var bb=this.getPane().getInnerSize().width;this.getPane().getColumnConfig().setItemSize(0,Math.max(this._itemWidth,bb));},openNode:function(bd){this.__AV(bd);this.buildLookupTable();},openNodeWithoutScrolling:function(be){var bf=this.getAutoScrollIntoView();this.setAutoScrollIntoView(false);this.openNode(be);this.setAutoScrollIntoView(bf);},refresh:function(){this.buildLookupTable();},openNodeAndParents:function(bg){this.__AW(this.getModel(),bg);this.buildLookupTable();},closeNode:function(bh){if(this.__AP.includes(bh)){qx.lang.Array.remove(this.__AP,bh);this.fireDataEvent(D,bh);this.buildLookupTable();};},closeNodeWithoutScrolling:function(bi){var bj=this.getAutoScrollIntoView();this.setAutoScrollIntoView(false);this.closeNode(bi);this.setAutoScrollIntoView(bj);},isNodeOpen:function(bk){return this.__AP.includes(bk);},openViaModelChanges:function(bl){this.__AS=bl;if(!bl){if(this._openCloseController){this._openCloseController.dispose();this._openCloseController=null;};return;};this._openCloseController=new qx.ui.tree.core.OpenCloseController(this,this.getModel(),bl);},getOpenProperty:function(){return this.__AS;},_init:function(){this.__vJ=new qx.data.Array();this.__AP=[];this.__AQ=[];this._initLayer();},_initLayer:function(){this._provider=new qx.ui.tree.provider.WidgetProvider(this);this._layer=this._provider.createLayer();this._layer.addListener(M,this._onUpdated,this);this.getPane().addLayer(this._layer);this.getPane().addListenerOnce(b,function(e){this.getPane().getColumnConfig().setItemSize(0,e.getData().width);},this);},getLookupTable:function(){return this.__vJ;},isShowTopLevelOpenCloseIcons:function(){return true;},_reverseLookup:function(bm){return bm;},_getDataFromRow:function(bn){return this.__vJ.getItem(bn);},_getSelectables:function(){return this.__vJ;},getOpenNodes:function(){return this.__AP;},isNode:function(bo){return qx.ui.tree.core.Util.isNode(bo,this.getChildProperty());},getLevel:function(bp){return this.__AQ[bp];},hasChildren:function(bq){return qx.ui.tree.core.Util.hasChildren(bq,this.getChildProperty(),!this.isShowLeafs());},_getContentPaddingTarget:function(){return this.getPane();},_applyRowHeight:function(bs,br){this.getPane().getRowConfig().setDefaultItemSize(bs);},_applyOpenMode:function(bu,bt){var bv=this.getPane();if(bu===z){bv.addListener(B,this._onOpen,this);}else if(bu===Q){bv.addListener(t,this._onOpen,this);};if(bt===z){bv.removeListener(B,this._onOpen,this);}else if(bt===Q){bv.removeListener(t,this._onOpen,this);};},_applyHideRoot:function(bx,bw){this.buildLookupTable();},_applyShowTopLevelOpenCloseIcons:function(bz,by){this.getLookupTable().removeAll();this.buildLookupTable();},_applyShowLeafs:function(bB,bA){this.getLookupTable().removeAll();this.buildLookupTable();},_applyChildProperty:function(bD,bC){this._provider.setChildProperty(bD);},_applyLabelPath:function(bF,bE){this._provider.setLabelPath(bF);},_applyIconPath:function(bH,bG){this._provider.setIconPath(bH);},_applyLabelOptions:function(bJ,bI){this._provider.setLabelOptions(bJ);},_applyIconOptions:function(bL,bK){this._provider.setIconOptions(bL);},_applyModel:function(bN,bM){this.__AP=[];if(bN!=null){{};bN.addListener(F,this._onChangeBubble,this);this.__AV(bN);};if(this._openCloseController){this._openCloseController.dispose();this._openCloseController=null;};if(bM!=null){bM.removeListener(F,this._onChangeBubble,this);};this.__AT();},_applyDelegate:function(bP,bO){this._provider.setDelegate(bP);this.buildLookupTable();},_onChangeBubble:function(event){var bU=event.getData();var bR=bU.name;var bQ=bR.lastIndexOf(R);if(bQ!=-1){bR=bR.substr(bQ+1,bR.length);};if(bR.startsWith(this.getChildProperty())){var bS=bU.item;if(qx.Class.isSubClassOf(bS.constructor,qx.data.Array)){if(bQ===-1){bS=this.getModel();}else {var bT=bU.name.substr(0,bQ);bS=qx.data.SingleValueBinding.resolvePropertyChain(this.getModel(),bT);};};if(this.__vJ.indexOf(bS)!=-1){this.__AT();};};},_onUpdated:function(event){if(this.__mF==null){this.__mF=new qx.util.DeferredCall(function(){qx.ui.core.queue.Widget.add(this);},this);};this.__mF.schedule();},_onOpen:function(event){var bW=event.getRow();var bV=this.__vJ.getItem(bW);if(this.isNode(bV)){if(this.isNodeOpen(bV)){this.closeNode(bV);}else {this.openNode(bV);};};},_onKeyPress:function(e){var bX=this.getSelection();if(bX.getLength()>0){var ca=bX.getItem(0);var bY=this.isNode(ca);switch(e.getKeyIdentifier()){case l:if(bY&&this.isNodeOpen(ca)){this.closeNode(ca);}else {var parent=this.getParent(ca);if(parent!=null){bX.splice(0,1,parent);};};break;case H:if(bY&&!this.isNodeOpen(ca)){this.openNode(ca);}else {if(bY){var cb=ca.get(this.getChildProperty());if(cb!=null&&cb.getLength()>0){bX.splice(0,1,cb.getItem(0));};};};break;case I:case k:if(!bY){return;};if(this.isNodeOpen(ca)){this.closeNode(ca);}else {this.openNode(ca);};break;};};},_beforeApplySelection:function(cd){if(cd.length===0&&this.getSelectionMode()===g){var cc=this.__Ba();var ce=this.getLookupTable().indexOf(cc);if(ce>=0){cd.push(ce);};};},_afterApplySelection:function(){var cf=this.getSelection();if(cf.getLength()>0&&this.getSelectionMode()===g){this.__AY(cf.getItem(0));}else {this.__AR=[];};},__AT:function(){this.buildLookupTable();this._applyDefaultSelection();},buildLookupTable:function(){if(this.getModel()!=null&&(this.getChildProperty()==null||this.getLabelPath()==null)){throw new Error(f);};this._itemWidth=0;var cj=[];this.__AQ=[];var ch=-1;var ci=this.getModel();if(ci!=null){if(!this.isHideRoot()){ch++ ;cj.push(ci);this.__AQ.push(ch);};if(this.isNodeOpen(ci)){var cg=this.__AU(ci,ch);cj=cj.concat(cg);};};if(!qx.lang.Array.equals(this.__vJ.toArray(),cj)){this._provider.removeBindings();this.__vJ.removeAll();this.__vJ.append(cj);this.__AX();this._updateSelection();};},__AU:function(ck,cp){var co=[];cp++ ;if(!this.isNode(ck)){return co;};var cs=ck.get(this.getChildProperty());if(cs==null){return co;};cs=cs.copy();var cq=this.getDelegate();var cn=qx.util.Delegate.getMethod(cq,m);var cm=qx.util.Delegate.getMethod(cq,G);if(cm!=null){cs.sort(cm);};for(var i=0;i<cs.getLength();i++ ){var cr=cs.getItem(i);if(cn&&!cn(cr)){continue;};if(this.isNode(cr)){this.__AQ.push(cp);co.push(cr);if(this.isNodeOpen(cr)){var cl=this.__AU(cr,cp);co=co.concat(cl);};}else {if(this.isShowLeafs()){this.__AQ.push(cp);co.push(cr);};};};cs.dispose();return co;},__AV:function(ct){if(!this.__AP.includes(ct)){this.__AP.push(ct);this.fireDataEvent(r,ct);};},__AW:function(cu,cv){if(cu===cv){this.__AV(cv);return true;};if(!this.isNode(cu)){return false;};var cy=cu.get(this.getChildProperty());if(cy==null){return false;};for(var i=0;i<cy.getLength();i++ ){var cx=cy.getItem(i);var cw=this.__AW(cx,cv);if(cw===true){this.__AV(cx);return true;};};return false;},__AX:function(){this.getPane().getRowConfig().setItemCount(this.__vJ.getLength());this.getPane().fullUpdate();},getParent:function(cA){var cB=this.__vJ.indexOf(cA);if(cB<0){return null;};var cC=this.__AQ[cB];while(cB>0){cB-- ;var cz=this.__AQ[cB];if(cz<cC){return this.__vJ.getItem(cB);};};return null;},__AY:function(cD){this.__AR=[];var parent=this.getParent(cD);while(parent!=null){this.__AR.unshift(parent);parent=this.getParent(parent);};},__Ba:function(){if(this.__AR==null){return this.getModel();};var cE=this.getLookupTable();var parent=this.__AR.pop();while(parent!=null){if(cE.contains(parent)){return parent;};parent=this.__AR.pop();};return this.getModel();}},destruct:function(){if(this._openCloseController){this._openCloseController.dispose();};var cG=this.getPane();if(cG!=null){if(cG.hasListener(B)){cG.removeListener(B,this._onOpen,this);};if(cG.hasListener(t)){cG.removeListener(t,this._onOpen,this);};};if(!qx.core.ObjectRegistry.inShutDown&&this.__mF!=null){this.__mF.cancel();this.__mF.dispose();};var cF=this.getModel();if(cF!=null){cF.removeListener(F,this._onChangeBubble,this);};this._layer.removeListener(M,this._onUpdated,this);this._layer.destroy();this._provider.dispose();this.__vJ.dispose();this._layer=this._provider=this.__vJ=this.__AP=this.__mF=null;}});})();(function(){var a="open",b="$1",c="close",d="changeBubble",e="children",f="qx.ui.tree.core.OpenCloseController";qx.Class.define(f,{extend:qx.core.Object,construct:function(h,j){var k=h.getOpenProperty();qx.core.Object.call(this);this._tree=h;this._lids=[];var i=function(l){if(qx.Class.hasProperty(l.constructor,e)){l.getChildren().forEach(i);};if(qx.Class.hasProperty(l.constructor,k)){if(l.get(k)){h.openNode(l);}else {h.closeNode(l);};};}.bind(this);i(j);var g=h.addListener(a,this._onOpen,this);this._lids.push([h,g]);g=h.addListener(c,this._onClose,this);this._lids.push([h,g]);g=j.addListener(d,this._onChangeBubble,this);this._lids.push([j,g]);},members:{_tree:null,_lids:null,_onOpen:function(m){m.getData().set(this._tree.getOpenProperty(),true);},_onClose:function(n){n.getData().set(this._tree.getOpenProperty(),false);},_onChangeBubble:function(p){var o;var s;var r;var q=p.getData();o=q.name.replace(/.*\[([0-9]+)\]$/,b);s=q.item.getItem?q.item.getItem(o):q.item;if(s&&qx.Class.hasProperty(s.constructor,this._tree.getOpenProperty())){r=s.get(this._tree.getOpenProperty());if(r&&!this._tree.isNodeOpen(s)){this._tree.openNode(s);}else if(!r&&this._tree.isNodeOpen(s)){this._tree.closeNode(s);};};this._tree.refresh();}},destruct:function(){this._tree=null;this._lids.forEach(function(t){t[0].removeListenerById(t[1]);});}});})();(function(){var a="qx.ui.virtual.core.IWidgetCellProvider";qx.Interface.define(a,{members:{getCellWidget:function(c,b){},poolCellWidget:function(d){}}});})();(function(){var a="qx.ui.tree.provider.IVirtualTreeProvider";qx.Interface.define(a,{members:{createLayer:function(){},createRenderer:function(){},setChildProperty:function(b){this.assertArgumentsCount(arguments,1,1);this.assertString(b);},setLabelPath:function(c){this.assertArgumentsCount(arguments,1,1);this.assertString(c);},styleSelectabled:function(d){this.assertArgumentsCount(arguments,1,1);this.assertInteger(d);},styleUnselectabled:function(e){this.assertArgumentsCount(arguments,1,1);this.assertInteger(e);},isSelectable:function(f){this.assertArgumentsCount(arguments,1,1);this.assertInteger(f);}}});})();(function(){var a="BindingIds",b="model",c="",d="changeDelegate",f="virtual-tree-file",g="label",h="appearance",i="icon",j="bindItem",k=".length",l="]",m="virtual-tree-folder",n="[",o=".",p="String",q="qx.ui.tree.core.MWidgetController";qx.Mixin.define(q,{construct:function(){this.__Bb=[];},properties:{labelPath:{check:p,nullable:true},iconPath:{check:p,nullable:true},labelOptions:{nullable:true},iconOptions:{nullable:true},childProperty:{check:p,nullable:true},delegate:{event:d,init:null,nullable:true}},members:{__Bb:null,bindDefaultProperties:function(u,s){this.bindProperty(c,b,null,u,s);this.bindProperty(this.getLabelPath(),g,this.getLabelOptions(),u,s);var r=this.__Bc(s);var t=this._tree.getLookupTable();t=qx.data.SingleValueBinding.resolvePropertyChain(t,r);if(qx.util.OOUtil.hasProperty(t.constructor,this.getChildProperty())){this.bindProperty(this.getChildProperty()+k,h,{converter:function(){return m;}},u,s);}else {u.setAppearance(f);};if(this.getIconPath()!=null){this.bindProperty(this.getIconPath(),i,this.getIconOptions(),u,s);};},bindProperty:function(y,B,z,x,v){var A=this.__Bc(v,y);var w=this._tree.getLookupTable();var C=w.bind(A,x,B,z);this.__Bd(x,C);},bindPropertyReverse:function(J,F,H,I,D){var G=this.__Bc(D,J);var E=this._tree.getLookupTable();var K=I.bind(F,E,G,H);this.__Bd(I,K);},removeBindings:function(){while(this.__Bb.length>0){var L=this.__Bb.pop();this._removeBindingsFrom(L);};},_bindItem:function(N,O){var M=qx.util.Delegate.getMethod(this.getDelegate(),j);if(M!=null){M(this,N,O);}else {this.bindDefaultProperties(N,O);};},_removeBindingsFrom:function(P){var Q=this.__Be(P);while(Q.length>0){var R=Q.pop();try{this._tree.getLookupTable().removeBinding(R);}catch(e){P.removeBinding(R);};};if(this.__Bb.includes(P)){qx.lang.Array.remove(this.__Bb,P);};},__Bc:function(T,U){var S=n+T+l;if(U!=null&&U!=c){S+=o+U;};return S;},__Bd:function(W,X){var V=this.__Be(W);if(!V.includes(X)){V.push(X);};if(!this.__Bb.includes(W)){this.__Bb.push(W);};},__Be:function(Y){var ba=Y.getUserData(a);if(ba==null){ba=[];Y.setUserData(a,ba);};return ba;}},destruct:function(){this.__Bb=null;}});})();(function(){var a="qx.util.Delegate";qx.Class.define(a,{statics:{getMethod:function(b,c){if(qx.util.Delegate.containsMethod(b,c)){return qx.lang.Function.bind(b[c],b);};return null;},containsMethod:function(e,f){var d=qx.lang.Type;if(d.isObject(e)){return d.isFunction(e[f]);};return false;}}});})();(function(){var a="changeOpen",b="cell.childProperty",c="changeDelegate",d="cell.level",e="createItem",f="auto",g="cell.showLeafs",h="configureItem",i="created",j="onPool",k="cell.row",l="qx.ui.tree.provider.WidgetProvider",m="never";qx.Class.define(l,{extend:qx.core.Object,implement:[qx.ui.virtual.core.IWidgetCellProvider,qx.ui.tree.provider.IVirtualTreeProvider],include:[qx.ui.tree.core.MWidgetController],construct:function(n){qx.core.Object.call(this);this._tree=n;this.addListener(c,this._onChangeDelegate,this);this._onChangeDelegate();},members:{_tree:null,_renderer:null,getCellWidget:function(t,r){var s=this._tree.getLookupTable().getItem(t);var p=false;if(this._tree.isNode(s)){p=this._tree.hasChildren(s);};var o=this._renderer.getCellWidget();o.setOpen(p&&this._tree.isNodeOpen(s));o.addListener(a,this.__Bf,this);o.setUserData(b,this.getChildProperty());o.setUserData(g,this._tree.isShowLeafs());if(this._tree.getSelection().contains(s)){this._styleSelectabled(o);}else {this._styleUnselectabled(o);};var q=this._tree.getLevel(t);if(!this._tree.isShowTopLevelOpenCloseIcons()){q-=1;};o.setUserData(d,q);if(!this._tree.isShowTopLevelOpenCloseIcons()&&q==-1){o.setOpenSymbolMode(m);}else {o.setOpenSymbolMode(f);};if(this._tree.getOpenProperty()){o.setModel(s);};this._bindItem(o,t);qx.ui.core.queue.Widget.add(o);return o;},poolCellWidget:function(u){u.removeListener(a,this.__Bf,this);this._removeBindingsFrom(u);this._renderer.pool(u);this._onPool(u);},createLayer:function(){return new qx.ui.virtual.layer.WidgetCell(this);},createRenderer:function(){var v=qx.util.Delegate.getMethod(this.getDelegate(),e);if(v==null){v=function(){return new qx.ui.tree.VirtualTreeItem();};};var w=new qx.ui.virtual.cell.WidgetCell();w.setDelegate({createWidget:v});return w;},styleSelectabled:function(y){var x=this._tree._layer.getRenderedCellWidget(y,0);this._styleSelectabled(x);},styleUnselectabled:function(A){var z=this._tree._layer.getRenderedCellWidget(A,0);this._styleUnselectabled(z);},isSelectable:function(C){var B=this._tree._layer.getRenderedCellWidget(C,0);if(B!=null){return B.isEnabled();}else {return true;};},_styleSelectabled:function(D){if(D==null){return;};this._renderer.updateStates(D,{selected:1});},_styleUnselectabled:function(E){if(E==null){return;};this._renderer.updateStates(E,{});},_onPool:function(F){var G=qx.util.Delegate.getMethod(this.getDelegate(),j);if(G!=null){G(F);};},_onItemCreated:function(event){var H=qx.util.Delegate.getMethod(this.getDelegate(),h);if(H!=null){var I=event.getData();H(I);};},_onChangeDelegate:function(event){if(this._renderer!=null){this._renderer.dispose();this.removeBindings();};this._renderer=this.createRenderer();this._renderer.addListener(i,this._onItemCreated,this);},__Bf:function(event){var K=event.getTarget();var L=K.getUserData(k);var J=this._tree.getLookupTable().getItem(L);if(event.getData()){this._tree.openNodeWithoutScrolling(J);}else {this._tree.closeNodeWithoutScrolling(J);};}},destruct:function(){this.removeBindings();this._renderer.dispose();this._tree=this._renderer=null;}});})();(function(){var a="qx.ui.virtual.core.ILayer";qx.Interface.define(a,{members:{fullUpdate:function(d,e,c,b){this.assertArgumentsCount(arguments,6,6);this.assertPositiveInteger(d);this.assertPositiveInteger(e);this.assertArray(c);this.assertArray(b);},updateLayerWindow:function(h,i,g,f){this.assertArgumentsCount(arguments,6,6);this.assertPositiveInteger(h);this.assertPositiveInteger(i);this.assertArray(g);this.assertArray(f);},updateLayerData:function(){}}});})();(function(){var a="qx.ui.virtual.layer.Abstract",b="abstract",c="Abstract method '_fullUpdate' called!";qx.Class.define(a,{extend:qx.ui.core.Widget,type:b,implement:[qx.ui.virtual.core.ILayer],construct:function(){qx.ui.core.Widget.call(this);this.__mO={};},properties:{anonymous:{refine:true,init:true}},members:{__mO:null,__ce:null,__Bg:null,__Bh:null,__AB:null,__xE:null,getFirstRow:function(){return this.__Bg;},getFirstColumn:function(){return this.__Bh;},getRowSizes:function(){return this.__AB||[];},getColumnSizes:function(){return this.__xE||[];},syncWidget:function(e){if(!this.getContentElement().getDomElement()){return;};if(this.__mO.fullUpdate||this.__mO.updateLayerWindow&&this.__mO.updateLayerData){this._fullUpdate.apply(this,this.__ce);}else if(this.__mO.updateLayerWindow){this._updateLayerWindow.apply(this,this.__ce);}else if(this.__mO.updateLayerData&&this.__AB){this._updateLayerData();};if(this.__mO.fullUpdate||this.__mO.updateLayerWindow){var d=this.__ce;this.__Bg=d[0];this.__Bh=d[1];this.__AB=d[2];this.__xE=d[3];};this.__mO={};},_updateLayerData:function(){this._fullUpdate(this.__Bg,this.__Bh,this.__AB,this.__xE);},_fullUpdate:function(g,i,h,f){throw new Error(c);},_updateLayerWindow:function(k,m,l,j){this._fullUpdate(k,m,l,j);},updateLayerData:function(){this.__mO.updateLayerData=true;qx.ui.core.queue.Widget.add(this);},fullUpdate:function(p,q,o,n){this.__ce=arguments;this.__mO.fullUpdate=true;qx.ui.core.queue.Widget.add(this);},updateLayerWindow:function(t,u,s,r){this.__ce=arguments;this.__mO.updateLayerWindow=true;qx.ui.core.queue.Widget.add(this);}},destruct:function(){this.__mO=this.__ce=this.__AB=this.__xE=null;}});})();(function(){var a="cell.column",b="updated",c="qx.event.type.Event",d="qx.ui.virtual.layer.WidgetCell",e="cell.row",f="cell.empty";qx.Class.define(d,{extend:qx.ui.virtual.layer.Abstract,include:[qx.ui.core.MChildrenHandling],construct:function(g){qx.ui.virtual.layer.Abstract.call(this);this.setZIndex(12);{};this._cellProvider=g;this.__Bi=[];},properties:{anonymous:{refine:true,init:false}},events:{updated:c},members:{__Bi:null,getRenderedCellWidget:function(p,m){if(this._getChildren().length===0){return null;};var h=this.getColumnSizes().length;var o=this.getRowSizes().length;var n=this.getFirstRow();var l=this.getFirstColumn();if(p<n||p>=n+o||m<l||m>=l+h){return null;};var k=(m-l)+(p-n)*h;var j=this._getChildren()[k];if(!j||j.getUserData(f)){return null;}else {return j;};},_getSpacer:function(){var q=this.__Bi.pop();if(!q){q=new qx.ui.core.Spacer();q.setUserData(f,1);};return q;},_activateNotEmptyChild:function(r){var s=qx.ui.core.FocusHandler.getInstance().getActiveWidget();if(s==r||qx.ui.core.Widget.contains(r,s)){var t=this._getChildren();for(var i=t.length-1;i>=0;i-- ){if(!t[i].getUserData(f)){t[i].activate();break;};};};},_fullUpdate:function(A,u,z,w){var B=this._cellProvider;var G=this._getChildren().concat();for(var i=0;i<G.length;i++ ){var E=G[i];if(E.getUserData(f)){this.__Bi.push(E);}else {this._activateNotEmptyChild(E);B.poolCellWidget(E);};};var top=0;var F=0;var D=[];for(var y=0;y<z.length;y++ ){for(var x=0;x<w.length;x++ ){var H=A+y;var v=u+x;var C=B.getCellWidget(H,v)||this._getSpacer();D.push(C);C.setUserBounds(F,top,w[x],z[y]);C.setUserData(e,H);C.setUserData(a,v);this._add(C);F+=w[x];};top+=z[y];F=0;};G.forEach(function(I){if(D.indexOf(I)===-1){this._remove(I);};}.bind(this));this.fireEvent(b);},_updateLayerWindow:function(W,J,M,bb){{};var N=W+M.length-1;var X=J+bb.length-1;var L={firstRow:Math.max(W,this.getFirstRow()),lastRow:Math.min(N,this._lastRow),firstColumn:Math.max(J,this.getFirstColumn()),lastColumn:Math.min(X,this._lastColumn)};this._lastColumn=X;this._lastRow=N;if(L.firstRow>L.lastRow||L.firstColumn>L.lastColumn){return this._fullUpdate(W,J,M,bb);};var O=this._getChildren();var Q=this.getColumnSizes().length;var T=[];var ba={};for(var P=W;P<=N;P++ ){T[P]=[];for(var Y=J;Y<=X;Y++ ){if(P>=L.firstRow&&P<=L.lastRow&&Y>=L.firstColumn&&Y<=L.lastColumn){var x=Y-this.getFirstColumn();var y=P-this.getFirstRow();var R=y*Q+x;T[P][Y]=O[R];ba[R]=true;};};};var K=this._cellProvider;var O=this._getChildren().concat();for(var i=0;i<O.length;i++ ){if(!ba[i]){var V=O[i];if(V.getUserData(f)){this.__Bi.push(V);}else {this._activateNotEmptyChild(V);K.poolCellWidget(V);};};};var top=0;var bc=0;var U=[];for(var y=0;y<M.length;y++ ){for(var x=0;x<bb.length;x++ ){var P=W+y;var Y=J+x;var S=T[P][Y]||K.getCellWidget(P,Y)||this._getSpacer();U.push(S);S.setUserBounds(bc,top,bb[x],M[y]);S.setUserData(e,P);S.setUserData(a,Y);this._add(S);bc+=bb[x];};top+=M[y];bc=0;};O.forEach(function(bd){if(U.indexOf(bd)===-1){this._remove(bd);};}.bind(this));this.fireEvent(b);}},destruct:function(){var be=this._getChildren();for(var i=0;i<be.length;i++ ){be[i].dispose();};this._cellProvider=this.__Bi=null;}});})();(function(){var a="qx.ui.virtual.cell.IWidgetCell";qx.Interface.define(a,{members:{getCellWidget:function(c,b){},pool:function(d){},updateStates:function(f,e){},updateData:function(g,h){}}});})();(function(){var a="created",b="qx.ui.virtual.cell.AbstractWidget",c="cell.states",d="abstract method call",e="qx.event.type.Data";qx.Class.define(b,{extend:qx.core.Object,implement:[qx.ui.virtual.cell.IWidgetCell],construct:function(){qx.core.Object.call(this);this.__dk=[];},events:{"created":e},members:{__dk:null,_createWidget:function(){throw new Error(d);},updateData:function(f,g){throw new Error(d);},updateStates:function(j,h){var k=j.getUserData(c);if(k){var i=h||{};for(var l in k){if(!i[l]){j.removeState(l);};};}else {k={};};if(h){for(var l in h){if(!k.state){j.addState(l);};};};j.setUserData(c,h);},getCellWidget:function(o,m){var n=this.__Bj();this.updateStates(n,m);this.updateData(n,o);return n;},pool:function(p){this.__dk.push(p);},_cleanupPool:function(){var q=this.__dk.pop();while(q){q.destroy();q=this.__dk.pop();};},__Bj:function(){var r=this.__dk.shift();if(r==null){r=this._createWidget();this.fireDataEvent(a,r);};return r;}},destruct:function(){this._cleanupPool();this.__dk=null;}});})();(function(){var a="_applyDelegate",b="qx.ui.virtual.cell.WidgetCell",c="Can't update data! The key '",d="' is not a Property!";qx.Class.define(b,{extend:qx.ui.virtual.cell.AbstractWidget,properties:{delegate:{apply:a,init:null,nullable:true}},members:{_applyDelegate:function(f,e){this._cleanupPool();},_createWidget:function(){var g=this.getDelegate();if(g!=null&&g.createWidget!=null){return g.createWidget();}else {return new qx.ui.core.Widget();};},updateData:function(h,i){for(var j in i){if(qx.Class.hasProperty(h.constructor,j)){qx.util.PropertyUtil.setUserValue(h,j,i[j]);}else {throw new Error(c+j+d);};};}}});})();(function(){var a='dir',b='writeable',c='visu_config_',d='visibility',e='config folder does not exists',f='cv.ui.manager.Main',g=' handling is not implemented yet!',h="singleton",i='inTrash',j='.xml',k='dragover',l='open-files-tabs',m='icon',n='_openFilesController',o="changeSelection",p='Ctrl+Shift+S',q='.templates/visu_config.xml',r='save-as',s='Ctrl+N',t='Cannot open file: "%1"',u='center',v='folder',w='Unsaved changes',x='closeable',y='created',z='new-config-file',A='cv.ui.manager.Start',B='px',C='changeWriteableFolder',D='permanent',E='Ctrl+Q',F='Boolean',G='_applyCurrentSelection',H='config folder is not readable',I='currentFolder',J='tap',K='Please enter the name of the new configuration (without "visu_config_" at the beginning and ".xml" at the end)',L='file',M="file.name",N='deleted',O='excluded',P='dbltap',Q='media folder is not writeable',R='save',S='A file with this name already exists.',T='A folder with this name already exists.',U='backup',V='F2',W='changeCurrentFolder',X='_applyCurrentFolder',Y='config folder is not writeable',cu='new-folder',cw='cv.ui.manager.model.FileItem',cx='Hidden configuration file (hidden.php) not writeable',cq='cv.ui.manager.editor.Source',cr='cv.manager.openWith',cs='Ctrl+S',ct='file.modified',cC='_stack',cD='Please enter the folder name.',cE='currentSelection',cF='rename',cy='Ctrl+Shift+N',cz="qxDroppable",cA='visible',cB='_tree',cJ='upload',dk='hidden.php',dH='_mainContent',cK='config',cG='modified',cH='Cannot load config template',dC='drop',cI='changeSelection',cL='div',cM='cv.manager.open',cN='manager',cS='enabled',cT='_pane',cU='north',cO='position: absolute; top: 0; left: 0; right: 0; bottom: 0;',cP='A configuration with this name already exists.',cQ="on",cR='edit',cY='delete',da='Folder has been created',dE='Please enter the file name.',db='deleteableSelection',cV='changeRenameableSelection',cW='',dD='clone',cX='resize',df='new-file',dg='changeVisible',dG='appear',dh='qx.data.Array',dc='close',dd='.',dF='cv.manager.*',de='home',di='cv.manager.compareFiles',dj='media',dw="",dv='changeDeleteableSelection',du='_applyVisible',dA='This file has not been saved on the backend yet. It will be lost when you close it. Do you really want to close the file?',dz='renameableSelection',dy='unhandled file event',dx='file.permanent',dp='cv.manager.file',dn='expertMode',dm='Cannot load file content',dl='backup folder is not writeable',dt='reload',ds='writeableFolder',dr='quit',dq='changeCurrentSelection',dB='This file has unsaved changes that will be lost when you close it. Do you really want to close the file?';qx.Class.define(f,{extend:qx.core.Object,type:h,include:[cv.ui.manager.control.MFileEventHandler],implement:[cv.ui.manager.IActionHandler,cv.ui.manager.control.IFileEventHandler],construct:function(){qx.core.Object.call(this);this._checkEnvironment();this.initOpenFiles(new qx.data.Array());this.__Bk=cv.ui.manager.control.ActionDispatcher.getInstance();this.__Bk.setMain(this);this.__Bo();this._draw();qx.event.message.Bus.subscribe(dF,this._onManagerEvent,this);qx.ui.tooltip.Manager.getInstance();},statics:{ROOT:null},properties:{openFiles:{check:dh,deferredInit:true},writeableFolder:{check:F,init:false,event:C},currentFolder:{check:cw,nullable:true,apply:X,event:W},currentSelection:{check:cw,nullable:true,apply:G,event:dq},deleteableSelection:{check:F,init:false,event:dv},renameableSelection:{check:F,init:false,event:cV},visible:{check:F,init:true,event:dg,apply:du}},members:{__Bl:null,__in:null,_pane:null,_tree:null,_stack:null,_oldCommandGroup:null,_managerCommands:null,_mainContent:null,_openFilesController:null,_hiddenConfigFakeFile:null,__Bk:null,_applyVisible:function(dJ){var dI=qx.core.Init.getApplication().getCommandManager();if(dJ){dI.setActive(this._managerCommands);}else {dI.setActive(this._oldCommandGroup);};},_checkEnvironment:function(){cv.io.rest.Client.getFsClient().checkEnvironmentSync(function(dL,dK){if(dL){cv.ui.manager.snackbar.Controller.error(dL);}else if(dK){dK.forEach(function(dM){switch(dM.entity){case dd:if((dM.state&1)===0){cv.ui.manager.snackbar.Controller.error(qx.locale.Manager.tr(e));}else if((dM.state&2)===0){cv.ui.manager.snackbar.Controller.error(qx.locale.Manager.tr(H));}else if((dM.state&4)===0){cv.ui.manager.snackbar.Controller.error(qx.locale.Manager.tr(Y));};break;case U:if((dM.state&4)===0){cv.ui.manager.snackbar.Controller.error(qx.locale.Manager.tr(dl));};break;case dj:if((dM.state&4)===0){cv.ui.manager.snackbar.Controller.error(qx.locale.Manager.tr(Q));};break;case dk:if((dM.state&4)===0){cv.ui.manager.snackbar.Controller.error(qx.locale.Manager.tr(cx));};break;};},this);};},this);},canHandleAction:function(dN){if(dN===cY&&this.getCurrentSelection()&&!this.getCurrentSelection().isWriteable()){return false;};return [dc,dr,df,z,cu,cY,cJ,dD].includes(dN);},handleAction:function(dO,dP){switch(dO){case dc:this.closeCurrentFile();break;case dr:this.setVisible(false);break;case df:this._onCreate(L,null,dP);break;case z:cv.io.rest.Client.getFsClient().readSync({path:q},function(dR,dQ){if(dR){cv.ui.manager.snackbar.Controller.error(qx.locale.Manager.tr(cH));}else {this._onCreate(cK,dQ,cv.ui.manager.model.FileItem.ROOT);};},this);break;case dD:cv.io.rest.Client.getFsClient().readSync({path:dP.file.getFullPath()},function(dT,dS){if(dT){cv.ui.manager.snackbar.Controller.error(qx.locale.Manager.tr(dm));}else {if(dP.file.isConfigFile()){this._onCreate(cK,dS,cv.ui.manager.model.FileItem.ROOT);}else {this._onCreate(L,dS);};};},this);break;case cu:this._onCreate(a,null,dP);break;case cY:this._onDelete(dP);break;case cJ:break;default:this.warn(dO+g);break;};},_handleFileEvent:function(dV){var dU=dV.getData();if(dU.action===N){var dW=this.getOpenFiles().copy();dW.some(function(dX){if(dX.getFile().isRelated(dU.path)){this.closeFile(dX);};},this);if(this.getCurrentFolder()&&this.getCurrentFolder().getFullPath()===dU.path){this.resetCurrentFolder();};}else {this.warn(dy,dU.action);};},_onManagerEvent:function(dY){var ea=dY.getData();switch(dY.getName()){case di:this.openFile(ea,false);break;case cr:this.openFile(ea.file||this.getCurrentSelection(),false,ea.handler);break;case cM:this.openFile(ea||this.getCurrentSelection(),false);break;};},_onChangeTreeSelection:function(ec){var ed=ec.getData();if((cv.ui.manager.model.Preferences.getInstance().isQuickPreview()&&ed.mode===J)||ed.mode===P){this.__Bm(ed.node,ed.mode);};var eb=ed.node;if(eb){if(ed.node.getType()===L){this.setCurrentFolder(ed.node.getParent());}else {this.setCurrentFolder(eb);};this.setCurrentSelection(eb);}else {this.resetCurrentFolder();this.resetCurrentSelection();};},__Bm:function(ee,ef){if(ee){if(ee.getType()===L){this.openFile(ee,ef===J);}else if(ef===P){ee.setEditing(true);};};},_applyCurrentFolder:function(eh,eg){if(eg){eg.removeRelatedBindings(this);};if(eh){eh.bind(b,this,ds);}else {this.resetWriteableFolder();};},_applyCurrentSelection:function(ej,ei){if(ei){ei.removeRelatedBindings(this);};if(ej){ej.bind(b,this,db);ej.bind(i,this,dz,{converter:function(ek){return !ek;}});}else {this.resetDeleteableSelection();};},_onChangeFileSelection:function(){var em=this._openFilesController.getSelection();if(em.length>0){var el=em.getItem(0);var eo=el.getFile();var ep;var en=el.getHandlerId();if(en){ep=cv.ui.manager.control.FileHandlerRegistry.getInstance().getFileHandlerById(en);}else {ep=cv.ui.manager.control.FileHandlerRegistry.getInstance().getFileHandler(eo);};if(!ep.instance){ep.instance=new ep.Clazz();ep.instance.setFile(eo);this._stack.add(ep.instance);}else {ep.instance.setFile(eo);};this._stack.setSelection([ep.instance]);this.__Bk.setFocusedWidget(ep.instance);cv.ui.manager.core.GlobalState.getInstance().setOpenedFocusedFile(eo);}else {cv.ui.manager.core.GlobalState.getInstance().resetOpenedFocusedFile();};},openFile:function(ew,ey,eu,ex){var er=this.getOpenFiles();var eq;if(!eu){var es=cv.ui.manager.control.FileHandlerRegistry.getInstance().getFileHandler(ew,ex);if(!es){cv.ui.manager.snackbar.Controller.info(qx.locale.Manager.tr(t,ew.getName()));return;}else {eu=es.Clazz.classname;};};var et=er.some(function(ez){if(ez.getFile()===ew&&eu===ez.getHandlerId()){eq=ez;return true;};});if(!eq){eq=new cv.ui.manager.model.OpenFile(ew,eu);};if(ey===true){if(!eq.isPermanent()){if(this.__Bl!==null&&er.getItem(this.__Bl)&&!er.getItem(this.__Bl).isPermanent()){er.setItem(this.__Bl,eq);}else {this.__Bl=er.length;er.push(eq);};eq.setPermanent(false);};}else {if(!et&&(this.__Bl===null||er.indexOf(eq)!==this.__Bl)){er.push(eq);};eq.setPermanent(true);this.__Bl=null;};this._openFilesController.getTarget().setModelSelection([eq]);},closeFile:function(eA,eC){var eG=eA.getFile();if(!eA.isCloseable()){return;};if(eG.isModified()&&!eC){var eJ=qx.locale.Manager.tr(dB);if(eG.isTemporary()){eJ=qx.locale.Manager.tr(dA);};dialog.Dialog.confirm(eJ,function(eK){if(eK){this.closeFile(eA,true);if(eG.isTemporary()){qx.event.message.Bus.dispatchByName(dp,{action:N,path:eG.getFullPath()});};};},this,qx.locale.Manager.tr(w));return;};eA.resetPermanent();var eH=this._openFilesController.getSelection();var eE=-1;var eI=this.getOpenFiles();if(eH.length>0&&eH.getItem(0)===eA){eE=eI.indexOf(eA);};eI.remove(eA);var eF=this._stack.getSelection()[0];if(qx.Class.hasInterface(eF.constructor,cv.ui.manager.editor.IEditor)){eF.resetFile();};if(this.getOpenFiles().length===0){this._stack.resetSelection();this.__Bk.resetFocusedWidget();this.__Bl=null;};if(eE>0){this._openFilesController.getSelection().replace(eI.getItem(eE-1));}else if(eE===0&&eI.length>0){this._openFilesController.getSelection().replace(eI.getItem(0));};if(eG instanceof cv.ui.manager.model.CompareFiles){var eB=cv.ui.manager.control.FileHandlerRegistry.getInstance().getFileHandler(eG);eB.instance.clear();if(eI.filter(function(eL){return eL.getFile() instanceof cv.ui.manager.model.CompareFiles;}).length===0){eB.instance.destroy();eB.instance=null;};}else if(window.monaco&&eA.getHandlerId()===cq){var eD=window.monaco.editor.getModel(eG.getUri());if(eD){eD.dispose();};};},closeCurrentFile:function(){var eM=this._openFilesController.getSelection().length>0?this._openFilesController.getSelection().getItem(0):null;if(eM){this.closeFile(eM);};},_onCloseFile:function(eN){this.closeFile(eN.getData());},__Bn:function(){if(!this.__in){this.__in=qx.dom.Element.create(cL,{id:cN,style:cO});qx.dom.Element.insertEnd(this.__in,document.body);qx.theme.manager.Meta.getInstance().setTheme(cv.theme.Dark);};return this.__in;},__Bo:function(){var eO=this._managerCommands=new qx.ui.command.Group();eO.add(R,new qx.ui.command.Command(cs));eO.add(r,new qx.ui.command.Command(p));eO.add(df,new qx.ui.command.Command(s));eO.add(cu,new qx.ui.command.Command(cy));eO.add(dr,new qx.ui.command.Command(E));var eQ=new qx.ui.command.Command(V);eO.add(cF,eQ);this.bind(dz,eQ,cS);var eP=qx.core.Init.getApplication().getCommandManager();this._oldCommandGroup=eP.getActive();eP.add(eO);eP.setActive(eO);},_onDelete:function(eS){var eR=eS||this.getCurrentSelection();if(eR){cv.ui.manager.control.FileController.getInstance().delete(eR);};},_onChangeStackSelection:function(eV){var eU=eV.getData();var eT=[];eU.forEach(function(eX){var eW=this.getOpenFiles().toArray().find(function(eY){return eY.getFile()===eX.getFile()&&eY.getHandlerId()===eX.classname;});if(eW){eT.push(eW);};},this);this._openFilesController.getSelection().replace(eT);},__Bp:function(fe,fa,fd,fb,fc){var prompt=new dialog.Prompt({message:fe,callback:fa||null,context:fd||null,value:fb||null,caption:fc||dw,filter:/[\w\d_\-\.\s]/});prompt.show();return prompt;},_onCreate:function(fj,content,fi){var ff=fi||this.getCurrentFolder();if(!ff){return;};var fk,fg;if(fj===cK){fk=qx.locale.Manager.tr(K);fg=qx.locale.Manager.tr(cP);}else if(fj===L){fk=qx.locale.Manager.tr(dE);fg=qx.locale.Manager.tr(S);}else {fk=qx.locale.Manager.tr(cD);fg=qx.locale.Manager.tr(T);};var fh=function(name){if(!name){return;};var fo=name;if(fj===cK){var fm=/visu[_-]config[_-]([\w\d_-]+)(\.xml)?/.exec(name);if(fm){name=fm[1];};fo=c+name+j;};var fn=ff.getChildren().some(function(fp){if(fp.getName()===fo&&fp.getType()===fj){return true;};},this);if(fn){cv.ui.manager.snackbar.Controller.error(fg);this.__Bp(fk,fh,this,name);}else {var fl=new cv.ui.manager.model.FileItem(fo,ff.getFullPath(),ff);fl.set({type:fj===cK?L:fj,readable:true,writeable:true,loaded:true,modified:true,temporary:true,parentFolder:ff.getFullPath(),content:content||cW});if(fj===a){cv.io.rest.Client.getFsClient().createSync({path:fl.getFullPath(),type:fj},null,function(fq){if(fq){cv.ui.manager.snackbar.Controller.error(fq);}else {cv.ui.manager.snackbar.Controller.info(qx.locale.Manager.tr(da));fl.set({modified:false,temporary:false});qx.event.message.Bus.dispatchByName(fl.getBusTopic(),{type:y,file:fl,data:cW,source:this});};},this);};ff.addChild(fl);ff.sortElements();this._tree.refresh();this._tree.setSelection(fl);if(fj!==a){this.openFile(fl,false,null,cR);};};};this.__Bp(fk,fh,this);},__nA:function(fr){while(fr&&fr.nodeType===1){if(fr.getAttribute(cz)===cQ){return fr;};fr=fr.parentNode;};return null;},_draw:function(){var ft=this.__Bn();var fD=new qx.ui.root.Inline(ft,true,true);this.bind(cA,fD,d,{converter:function(fH){return fH?cA:O;}});fD.addListenerOnce(dG,function(){var fI=fD.getContentElement().getDomElement();fI.addEventListener(dC,function(fJ){var fK=this.__nA(fJ.target);if(!fK){fJ.preventDefault();};}.bind(this));fI.addEventListener(k,function(fL){var fM=this.__nA(fL.target);if(!fM){fL.preventDefault();};}.bind(this));},this);qx.core.Init.getApplication().setRoot(fD);fD.setLayout(new qx.ui.layout.Canvas());var fu=cv.ui.manager.snackbar.Controller.getInstance();fD.add(fu,{bottom:10,left:200});function fz(){var fN=fD.getBounds();fu.setLayoutProperties({bottom:10,left:Math.round(fN.width/2)-150});fu.setMaxHeight(fN.height-40);};fD.addListener(cX,fz,this);fD.addListener(dG,fz,this);window.addEventListener(cX,function(){ft.style.height=window.innerHeight+B;});var fA=new qx.ui.container.Composite(new qx.ui.layout.Dock());fD.add(fA,{edge:0});var fG=cv.ui.manager.MenuBar.getInstance();fA.add(fG,{edge:cU});var fC=fG.getButton(cJ);var fx=new cv.ui.manager.upload.UploadMgr(fC);this.bind(I,fx,v);this._pane=new qx.ui.splitpane.Pane();fA.add(this._pane,{edge:u});var fF=cv.ui.manager.model.FileItem.ROOT=new cv.ui.manager.model.FileItem(dd);var fv=cv.ui.manager.model.FileItem.getIconFile();fF.set({overrideIcon:true,writeable:true,readable:true,open:true,fakeChildren:[fv],icon:cv.theme.dark.Images.getIcon(de,18)});this.setCurrentFolder(fF);this._tree=new cv.ui.manager.tree.FileSystem(fF);this._tree.addListener(o,this._onChangeTreeSelection,this);var fs=new qx.ui.container.Composite(new qx.ui.layout.VBox());var fE=new cv.ui.manager.ToolBar(fx);this.bind(I,fE,v);this.bind(cE,fE,L);fE.addListener(dt,this._tree.reload,this._tree);var fB=fG.getButtonConfiguration();this.bind(ds,fB[df].args[2],cS);this.bind(ds,fB[cu].args[2],cS);fs.add(fE);fs.add(this._tree,{flex:1});this._pane.add(fs,0);cv.ui.manager.model.Preferences.getInstance().bind(dn,fs,d,{converter:function(fO){return fO?cA:O;}});this._mainContent=new qx.ui.container.Composite(new qx.ui.layout.VBox());var fw=new qx.ui.form.List(true);fw.setAppearance(l);this._openFilesController=new qx.data.controller.List(this.getOpenFiles(),fw,M);this._openFilesController.setDelegate({createItem:function(){var fP=new cv.ui.manager.form.FileTabItem();fP.addListener(dc,this._onCloseFile,this);return fP;}.bind(this),bindItem:function(fR,fQ,fS){fR.bindDefaultProperties(fQ,fS);fR.bindProperty(dx,D,null,fQ,fS);fR.bindProperty(ct,cG,null,fQ,fS);fR.bindProperty(m,m,null,fQ,fS);fR.bindProperty(x,x,null,fQ,fS);}});fw.addListener(cI,this._onChangeFileSelection,this);this._mainContent.add(fw);this._stack=new qx.ui.container.Stack();this._stack.addListener(cI,this._onChangeStackSelection,this);this._mainContent.add(this._stack,{flex:1});this._pane.add(this._mainContent,1);var fy=new cv.ui.manager.model.OpenFile(fF,A);fy.setCloseable(false);this.getOpenFiles().push(fy);fw.setModelSelection([fy]);}},destruct:function(){this._disposeObjects(cT,cB,cC,dH,n);var fT=qx.core.Init.getApplication();var fU=fT.getCommandManager();fU.setActive(this._oldCommandGroup);this._oldCommandGroup=null;new qx.util.DeferredCall(function(){fT.resetRoot();}).schedule();document.body.removeChild(this.__in);this.__in=null;this.__Bk=null;qx.event.message.Bus.unsubscribe(dF,this._onManagerEvent,this);delete cv.ui.manager.Main.$$instance;},defer:function(){cv.ui.manager.model.BackupFolder.getInstance();}});})();(function(){var a="qx.ui.tooltip.ToolTip",b="Boolean",c="",d="mouse",f="pointerover",g="interval",h="__Bt",i="_applyCurrent",j="widget",k="qx.ui.tooltip.Manager",l="pointermove",m="focusout",n="tooltip-error",o="__Br",p="__Bq",q="singleton",r="pointerout";qx.Class.define(k,{type:q,extend:qx.core.Object,construct:function(){qx.core.Object.call(this);qx.event.Registration.addListener(document.body,f,this.__By,this,true);this.__Bq=new qx.event.Timer();this.__Bq.addListener(g,this.__Bv,this);this.__Br=new qx.event.Timer();this.__Br.addListener(g,this.__Bw,this);this.__Bs={left:0,top:0};},properties:{current:{check:a,nullable:true,apply:i},showInvalidToolTips:{check:b,init:true},showToolTips:{check:b,init:true}},members:{__Bs:null,__Br:null,__Bq:null,__Bt:null,__Bu:null,getSharedTooltip:function(){if(!this.__Bt){this.__Bt=new qx.ui.tooltip.ToolTip().set({rich:true});};return this.__Bt;},getSharedErrorTooltip:function(){if(!this.__Bu){this.__Bu=new qx.ui.tooltip.ToolTip().set({appearance:n,rich:true});this.__Bu.setLabel(c);this.__Bu.syncAppearance();};return this.__Bu;},_applyCurrent:function(u,t){if(t&&qx.ui.core.Widget.contains(t,u)){return;};if(t){if(!t.isDisposed()){t.exclude();};this.__Bq.stop();this.__Br.stop();};var v=qx.event.Registration;var s=document.body;if(u){this.__Bq.startWith(u.getShowTimeout());v.addListener(s,r,this.__Bz,this,true);v.addListener(s,m,this.__BA,this,true);v.addListener(s,l,this.__Bx,this,true);}else {v.removeListener(s,r,this.__Bz,this,true);v.removeListener(s,m,this.__BA,this,true);v.removeListener(s,l,this.__Bx,this,true);};},__Bv:function(e){var w=this.getCurrent();if(w&&!w.isDisposed()){this.__Br.startWith(w.getHideTimeout());if(w.getPlaceMethod()==j){w.placeToWidget(w.getOpener());}else {w.placeToPoint(this.__Bs);};w.show();};this.__Bq.stop();},__Bw:function(e){var x=this.getCurrent();if(x&&!x.getAutoHide()){return;};if(x&&!x.isDisposed()){x.exclude();};this.__Br.stop();this.resetCurrent();},__Bx:function(e){var y=this.__Bs;y.left=Math.round(e.getDocumentLeft());y.top=Math.round(e.getDocumentTop());},__By:function(e){var z=qx.ui.core.Widget.getWidgetByElement(e.getTarget());this.__Bx(e);this.showToolTip(z);},showToolTip:function(C){if(!C){return;};var D,B,E,A;while(C!=null){D=C.getToolTip();B=C.getToolTipText()||null;E=C.getToolTipIcon()||null;if(qx.Class.hasInterface(C.constructor,qx.ui.form.IForm)&&!C.isValid()){A=C.getInvalidMessage();};if(D||B||E||A){break;};C=C.getLayoutParent();};if(!C||(!C.getEnabled()&&!C.isShowToolTipWhenDisabled())||C.isBlockToolTip()||(!A&&!this.getShowToolTips())||(A&&!this.getShowInvalidToolTips())){return;};if(A){D=this.getSharedErrorTooltip().set({label:A});};if(!D){D=this.getSharedTooltip().set({label:B,icon:E});};this.setCurrent(D);D.setOpener(C);},__Bz:function(e){var F=qx.ui.core.Widget.getWidgetByElement(e.getTarget());if(!F){return;};var G=qx.ui.core.Widget.getWidgetByElement(e.getRelatedTarget());if(!G&&e.getPointerType()==d){return;};var H=this.getCurrent();if(H&&(G==H||qx.ui.core.Widget.contains(H,G))){return;};if(G&&F&&qx.ui.core.Widget.contains(F,G)){return;};if(H&&!H.getAutoHide()){return;};if(H&&!G){this.setCurrent(null);}else {this.resetCurrent();};},__BA:function(e){var I=qx.ui.core.Widget.getWidgetByElement(e.getTarget());if(!I){return;};var J=this.getCurrent();if(J&&!J.getAutoHide()){return;};if(J&&J==I.getToolTip()){this.setCurrent(null);};}},destruct:function(){qx.event.Registration.removeListener(document.body,f,this.__By,this,true);this._disposeObjects(p,o,h);this.__Bs=null;}});})();(function(){var a='cv.ui.manager.control.ActionDispatcher',b='cv.ui.manager.IActionHandler',c='cv.ui.manager.Main',d='cv.manager.action.*',e='updateBarButtons',f='no action handler found for action: ',g='singleton',h='.';qx.Class.define(a,{extend:qx.core.Object,type:g,construct:function(){qx.core.Object.call(this);qx.event.message.Bus.subscribe(d,this._onAction,this);},properties:{focusedWidget:{check:b,nullable:true,apply:e},main:{check:c,nullable:true}},members:{updateBarButtons:function(){var k=cv.ui.manager.MenuBar.getInstance();var j=k.getButtonConfiguration();var i;Object.keys(j).forEach(function(l){i=k.getButton(l);if(i){i.setEnabled(j[l].general||this.hasHandler(l));};},this);},hasHandler:function(m){return !!this._getHandler(m);},_getHandler:function(o){var p=this.getFocusedWidget();var n=this.getMain();if(p&&p.canHandleAction(o)){return p;}else if(n&&n.canHandleAction(o)){return n;};},_onAction:function(s){var q=s.getName();var r=q.split(h).pop();var t=this._getHandler(r);if(t){t.handleAction(r,s.getData());}else {this.warn(f+r);};}},destruct:function(){qx.event.message.Bus.subscribe(d,this._onAction,this);}});})();(function(){var a='changeOpenedFocusedFile',b='cv.ui.manager.model.FileItem || cv.ui.manager.model.CompareFiles',c='_applyFile',d='singleton',e='cv.ui.manager.core.GlobalState';qx.Class.define(e,{extend:qx.core.Object,type:d,properties:{openedFocusedFile:{check:b,nullable:true,event:a,apply:c}},members:{_applyFile:function(){cv.ui.manager.control.ActionDispatcher.getInstance().updateBarButtons();}}});})();(function(){var a='',b='changeCloseable',c='_applyFile',d='String',e='cv.ui.manager.model.FileItem || cv.ui.manager.model.CompareFiles',f='changeModified',g='changePermanent',h='changeFile',i='Boolean',j='changeIcon',k='icon',l='!!qx.Class.getByName(value)',m='cv.ui.manager.model.OpenFile',n='_maintainIcon';qx.Class.define(m,{extend:qx.core.Object,construct:function(p,o){qx.core.Object.call(this);if(p){this.setFile(p);};if(o){this.setHandlerId(o);};},properties:{file:{check:e,nullable:true,event:h,apply:c},handlerId:{check:l,nullable:true,apply:n},permanent:{check:i,init:false,event:g},icon:{check:d,init:a,event:j},closeable:{check:i,init:true,event:b}},members:{__BB:null,_applyFile:function(r,q){if(q){q.removeListener(f,this._maintainPermanent,this);q.removeRelatedBindings(this);this.__BB=null;};if(r){r.addListener(f,this._maintainPermanent,this);};this._maintainIcon();},_maintainIcon:function(){var t=this.getFile();if(this.getHandlerId()&&t){var s=qx.Class.getByName(this.getHandlerId());if(s&&s.ICON){this.setIcon(s.ICON);if(this.__BB){t.removeBinding(this.__BB);this.__BB=null;};}else {this.__BB=t.bind(k,this,k);};}else {this.resetIcon();};},_maintainPermanent:function(){if(this.getFile().isModified()&&!this.isPermanent()){this.setPermanent(true);};}}});})();(function(){var a="Decorator",b="Integer",c="qx.ui.layout.Dock",d="It is not allowed to have more than one child aligned to 'center'!",e="_applySort",f="west",g="left",h="north",j="south",k="center",l="east",m="Boolean",n="top",o="bottom",p="right",q="x",r="y",s="auto",t="_applyLayoutChange";qx.Class.define(c,{extend:qx.ui.layout.Abstract,construct:function(v,u,x,w){qx.ui.layout.Abstract.call(this);if(v){this.setSpacingX(v);};if(u){this.setSpacingY(u);};if(x){this.setSeparatorX(x);};if(w){this.setSeparatorY(w);};},properties:{sort:{check:[s,r,q],init:s,apply:e},separatorX:{check:a,nullable:true,apply:t},separatorY:{check:a,nullable:true,apply:t},connectSeparators:{check:m,init:false,apply:t},spacingX:{check:b,init:0,apply:t},spacingY:{check:b,init:0,apply:t}},members:{__mt:null,__BC:null,verifyLayoutProperty:null,_applySort:function(){this._invalidChildrenCache=true;this._applyLayoutChange();},__BD:{north:1,south:2,west:3,east:4,center:5},__BE:{'1':n,'2':o,'3':g,'4':p},__rz:function(){var y=this._getLayoutChildren();var G,A;var length=y.length;var C=[];var F=[];var B=[];var z=this.getSort()===r;var E=this.getSort()===q;for(var i=0;i<length;i++ ){G=y[i];B=G.getLayoutProperties().edge;if(B===k){if(A){throw new Error(d);};A=G;}else if(E||z){if(B===h||B===j){z?C.push(G):F.push(G);}else if(B===f||B===l){z?F.push(G):C.push(G);};}else {C.push(G);};};var H=C.concat(F);if(A){H.push(A);};this.__mt=H;var D=[];for(var i=0;i<length;i++ ){B=H[i].getLayoutProperties().edge;D[i]=this.__BD[B]||5;};this.__BC=D;delete this._invalidChildrenCache;},renderLayout:function(bc,R,bk){if(this._invalidChildrenCache){this.__rz();};var bb=qx.ui.layout.Util;var N=this.__mt;var bd=this.__BC;var length=N.length;var Q,bl,P,V,W,bi,T,K,J;var bo=[];var S=[];var bj=this._getSeparatorWidths();var bs=this.getSpacingX();var br=this.getSpacingY();var O=-bs;var be=-br;if(bj.x){O-=bj.x+bs;};if(bj.y){be-=bj.y+br;};for(var i=0;i<length;i++ ){bl=N[i];V=bl.getLayoutProperties();P=bl.getSizeHint();T=P.width;K=P.height;if(V.width!=null){T=Math.floor(bc*parseFloat(V.width)/100);if(T<P.minWidth){T=P.minWidth;}else if(T>P.maxWidth){T=P.maxWidth;};};if(V.height!=null){K=Math.floor(R*parseFloat(V.height)/100);if(K<P.minHeight){K=P.minHeight;}else if(K>P.maxHeight){K=P.maxHeight;};};bo[i]=T;S[i]=K;switch(bd[i]){case 1:case 2:be+=K+bl.getMarginTop()+bl.getMarginBottom()+br;if(bj.y){be+=bj.y+br;};break;case 3:case 4:O+=T+bl.getMarginLeft()+bl.getMarginRight()+bs;if(bj.x){O+=bj.x+bs;};break;default:O+=T+bl.getMarginLeft()+bl.getMarginRight()+bs;be+=K+bl.getMarginTop()+bl.getMarginBottom()+br;if(bj.x){O+=bj.x+bs;};if(bj.y){be+=bj.y+br;};};};if(O!=bc){Q={};bi=O<bc;for(var i=0;i<length;i++ ){bl=N[i];switch(bd[i]){case 3:case 4:case 5:W=bl.getLayoutProperties().flex;if(W==null&&bd[i]==5){W=1;};if(W>0){P=bl.getSizeHint();Q[i]={min:P.minWidth,value:bo[i],max:P.maxWidth,flex:W};};};};var L=bb.computeFlexOffsets(Q,bc,O);for(var i in L){J=L[i].offset;bo[i]+=J;O+=J;};};if(be!=R){Q={};bi=be<R;for(var i=0;i<length;i++ ){bl=N[i];switch(bd[i]){case 1:case 2:case 5:W=bl.getLayoutProperties().flex;if(W==null&&bd[i]==5){W=1;};if(W>0){P=bl.getSizeHint();Q[i]={min:P.minHeight,value:S[i],max:P.maxHeight,flex:W};};};};var L=bb.computeFlexOffsets(Q,R,be);for(var i in L){J=L[i].offset;S[i]+=J;be+=J;};};this._clearSeparators();var bn=this.getSeparatorX(),bm=this.getSeparatorY();var bp=this.getConnectSeparators();var Y=0,bh=0;var bw,top,T,K,X,bt;var ba,bq,bv,bf;var bu,I,U,M;var bg=this.__BE;for(var i=0;i<length;i++ ){bl=N[i];bt=bd[i];P=bl.getSizeHint();bu=bl.getMarginTop();I=bl.getMarginBottom();U=bl.getMarginLeft();M=bl.getMarginRight();switch(bt){case 1:case 2:T=bc-U-M;if(T<P.minWidth){T=P.minWidth;}else if(T>P.maxWidth){T=P.maxWidth;};K=S[i];top=Y+bb.computeVerticalAlignOffset(bg[bt],K,R,bu,I);bw=bh+bb.computeHorizontalAlignOffset(bl.getAlignX()||g,T,bc,U,M);if(bj.y){if(bt==1){bq=Y+K+bu+br+I;}else {bq=Y+R-K-bu-br-I-bj.y;};ba=bw;bv=bc;if(bp&&ba>0){ba-=bs+U;bv+=(bs)*2;}else {ba-=U;};this._renderSeparator(bm,{left:ba+bk.left,top:bq+bk.top,width:bv,height:bj.y});};X=K+bu+I+br;if(bj.y){X+=bj.y+br;};R-=X;if(bt==1){Y+=X;};break;case 3:case 4:K=R-bu-I;if(K<P.minHeight){K=P.minHeight;}else if(K>P.maxHeight){K=P.maxHeight;};T=bo[i];bw=bh+bb.computeHorizontalAlignOffset(bg[bt],T,bc,U,M);top=Y+bb.computeVerticalAlignOffset(bl.getAlignY()||n,K,R,bu,I);if(bj.x){if(bt==3){ba=bh+T+U+bs+M;}else {ba=bh+bc-T-U-bs-M-bj.x;};bq=top;bf=R;if(bp&&bq>0){bq-=br+bu;bf+=(br)*2;}else {bq-=bu;};this._renderSeparator(bn,{left:ba+bk.left,top:bq+bk.top,width:bj.x,height:bf});};X=T+U+M+bs;if(bj.x){X+=bj.x+bs;};bc-=X;if(bt==3){bh+=X;};break;default:T=bc-U-M;K=R-bu-I;if(T<P.minWidth){T=P.minWidth;}else if(T>P.maxWidth){T=P.maxWidth;};if(K<P.minHeight){K=P.minHeight;}else if(K>P.maxHeight){K=P.maxHeight;};bw=bh+bb.computeHorizontalAlignOffset(bl.getAlignX()||g,T,bc,U,M);top=Y+bb.computeVerticalAlignOffset(bl.getAlignY()||n,K,R,bu,I);};bl.renderLayout(bw+bk.left,top+bk.top,T,K);};},_getSeparatorWidths:function(){var by=this.getSeparatorX(),bx=this.getSeparatorY();if(by||bx){var bB=qx.theme.manager.Decoration.getInstance();};if(by){var bE=bB.resolve(by);var bA=bE.getInsets();var bD=bA.left+bA.right;};if(bx){var bF=bB.resolve(bx);var bz=bF.getInsets();var bC=bz.top+bz.bottom;};return {x:bD||0,y:bC||0};},_computeSizeHint:function(){if(this._invalidChildrenCache){this.__rz();};var bJ=this.__mt;var bT=this.__BC;var length=bJ.length;var bN,bU;var bP,bO;var bQ=0,cc=0;var bG=0,bW=0;var bR=0,cb=0;var bH=0,bV=0;var bX=this._getSeparatorWidths();var ca=this.getSpacingX(),bY=this.getSpacingY();var bL=-ca,bK=-bY;if(bX.x){bL-=bX.x+ca;};if(bX.y){bK-=bX.y+bY;};for(var i=0;i<length;i++ ){bU=bJ[i];bN=bU.getSizeHint();bP=bU.getMarginLeft()+bU.getMarginRight();bO=bU.getMarginTop()+bU.getMarginBottom();switch(bT[i]){case 1:case 2:bR=Math.max(bR,bN.width+bQ+bP);cb=Math.max(cb,bN.minWidth+cc+bP);bH+=bN.height+bO;bV+=bN.minHeight+bO;bK+=bY;if(bX.y){bK+=bX.y+bY;};break;case 3:case 4:bG=Math.max(bG,bN.height+bH+bO);bW=Math.max(bW,bN.minHeight+bV+bO);bQ+=bN.width+bP;cc+=bN.minWidth+bP;bL+=ca;if(bX.x){bL+=bX.x+ca;};break;default:bQ+=bN.width+bP;cc+=bN.minWidth+bP;bH+=bN.height+bO;bV+=bN.minHeight+bO;bL+=ca;if(bX.x){bL+=bX.x+ca;};bK+=bY;if(bX.y){bK+=bX.y+bY;};};};var bM=Math.max(cc,cb)+bL;var cd=Math.max(bQ,bR)+bL;var bS=Math.max(bW,bV)+bK;var bI=Math.max(bG,bH)+bK;return {minWidth:bM,width:cd,minHeight:bS,height:bI};}},destruct:function(){this.__BC=this.__mt=null;}});})();(function(){var a="slider",b="splitter",c="px",d="Integer",f="height",g="move",h="maxHeight",i="resize",j="pointerup",k="vertical",l="width",m="_applyOrientation",n="_applyOffset",o="splitpane",p="qx.ui.splitpane.Pane",q="pointerdown",r="top",s="minHeight",t="knob",u="horizontal",v="minWidth",w="appear",z="losecapture",A="left",B="pointermove",C="maxWidth",D="pointerout";qx.Class.define(p,{extend:qx.ui.core.Widget,construct:function(E){qx.ui.core.Widget.call(this);this.__mt=[];if(E){this.setOrientation(E);}else {this.initOrientation();};this.__pF.addListener(q,this._onPointerDown,this);this.__pF.addListener(j,this._onPointerUp,this);this.__pF.addListener(B,this._onPointerMove,this);this.__pF.addListener(D,this._onPointerOut,this);this.__pF.addListener(z,this._onPointerUp,this);},properties:{appearance:{refine:true,init:o},offset:{check:d,init:6,apply:n},orientation:{init:u,check:[u,k],apply:m}},members:{__BF:null,__BG:false,__BH:null,__BI:null,__wD:null,__BJ:null,__BK:null,__mt:null,__pF:null,_createChildControlImpl:function(H,G){var F;switch(H){case a:F=new qx.ui.splitpane.Slider(this);F.exclude();this._add(F,{type:H});break;case b:F=new qx.ui.splitpane.Splitter(this);this._add(F,{type:H});F.addListener(g,this.__BL,this);break;};return F||qx.ui.core.Widget.prototype._createChildControlImpl.call(this,H);},__BL:function(e){this.__BN(e.getData());},__BM:function(K){this.__pF=new qx.ui.splitpane.Blocker(K);this.getContentElement().add(this.__pF);var I=this.getChildControl(b);var J=I.getWidth();if(!J){I.addListenerOnce(w,function(){this.__BN();},this);};I.addListener(i,function(e){var L=e.getData();if(this.getChildControl(b).getVisible()&&(L.height==0||L.width==0)){this.__pF.hide();}else {this.__pF.show();};},this);},getBlocker:function(){return this.__pF;},_applyOrientation:function(Q,N){var R=this.getChildControl(a);var M=this.getChildControl(b);this.__wD=Q===u;if(!this.__pF){this.__BM(Q);};this.__pF.setOrientation(Q);var P=this._getLayout();if(P){P.dispose();};var O=Q===k?new qx.ui.splitpane.VLayout:new qx.ui.splitpane.HLayout;this._setLayout(O);M.removeState(N);M.addState(Q);M.getChildControl(t).removeState(N);M.getChildControl(t).addState(Q);R.removeState(N);R.addState(Q);qx.ui.core.queue.Manager.flush();this.__BN();},_applyOffset:function(T,S){this.__BN();},__BN:function(V){var U=this.getChildControl(b);var ba=this.getOffset();var bb=U.getBounds();var Y=U.getContentElement().getDomElement();if(!Y){return;};if(this.__wD){var X=null;if(V){X=V.width;}else if(bb){X=bb.width;};var bc=V&&V.left;if(X||!this.getChildControl(b).getVisible()){if(isNaN(bc)){bc=qx.bom.element.Location.getPosition(Y).left;};this.__pF.setWidth(ba,X||6);this.__pF.setLeft(ba,bc);};}else {var W=null;if(V){W=V.height;}else if(bb){W=bb.height;};var top=V&&V.top;if(W||!this.getChildControl(b).getVisible()){if(isNaN(top)){top=qx.bom.element.Location.getPosition(Y).top;};this.__pF.setHeight(ba,W||6);this.__pF.setTop(ba,top);};};},add:function(be,bd){if(bd==null){this._add(be);}else {this._add(be,{flex:bd});};this.__mt.push(be);},remove:function(bf){this._remove(bf);qx.lang.Array.remove(this.__mt,bf);},getChildren:function(){return this.__mt;},_onPointerDown:function(e){if(!e.isLeftPressed()){return;};var bg=this.getChildControl(b);var bj=bg.getContentLocation();var bh=this.getContentLocation();this.__BF=this.__wD?e.getDocumentLeft()-bj.left+bh.left:e.getDocumentTop()-bj.top+bh.top;var bi=this.getChildControl(a);var bk=bg.getBounds();bi.setUserBounds(bk.left,bk.top,bk.width||6,bk.height||6);bi.setZIndex(bg.getZIndex()+1);bi.show();this.__BG=true;this.__pF.capture();e.stop();},_onPointerMove:function(e){this._setLastPointerPosition(e.getDocumentLeft(),e.getDocumentTop());if(this.__BG){this.__BO();var bl=this.getChildControl(a);var bm=this.__BJ;if(this.__wD){bl.setDomLeft(bm);this.__pF.setStyle(A,(bm-this.getOffset())+c);}else {bl.setDomTop(bm);this.__pF.setStyle(r,(bm-this.getOffset())+c);};e.stop();};},_onPointerOut:function(e){this._setLastPointerPosition(e.getDocumentLeft(),e.getDocumentTop());},_onPointerUp:function(e){if(!this.__BG){return;};this._finalizeSizes();var bn=this.getChildControl(a);bn.exclude();this.__BG=false;this.releaseCapture();e.stop();},_finalizeSizes:function(){var br=this.__BJ;var bo=this.__BK;if(br==null){return;};var bt=this._getChildren();var bs=bt[2];var bq=bt[3];var bp=bs.getLayoutProperties().flex;var bu=bq.getLayoutProperties().flex;if((bp!=0)&&(bu!=0)){bs.setLayoutProperties({flex:br});bq.setLayoutProperties({flex:bo});}else {if(this.__wD){bs.setWidth(br);bq.setWidth(bo);}else {bs.setHeight(br);bq.setHeight(bo);};};},__BO:function(){if(this.__wD){var bx=v,bE=l,by=C,bC=this.__BH;}else {var bx=s,bE=f,by=h,bC=this.__BI;};var bD=this._getChildren();var bv=bD[2].getSizeHint();var bA=bD[3].getSizeHint();var bB=bD[2].getBounds()[bE]+bD[3].getBounds()[bE];var bz=bC-this.__BF;var bw=bB-bz;if(bz<bv[bx]){bw-=bv[bx]-bz;bz=bv[bx];}else if(bw<bA[bx]){bz-=bA[bx]-bw;bw=bA[bx];};if(bz>bv[by]){bw+=bz-bv[by];bz=bv[by];}else if(bw>bA[by]){bz+=bw-bA[by];bw=bA[by];};this.__BJ=bz;this.__BK=bw;},_isActiveDragSession:function(){return this.__BG;},_setLastPointerPosition:function(x,y){this.__BH=x;this.__BI=y;}},destruct:function(){this.__mt=null;}});})();(function(){var a="qx.ui.splitpane.Slider";qx.Class.define(a,{extend:qx.ui.core.Widget,properties:{allowShrinkX:{refine:true,init:false},allowShrinkY:{refine:true,init:false}}});})();(function(){var a="vertical",b="Boolean",c="qx.ui.splitpane.Splitter",d="center",e="visible",f="excluded",g="_applyVisible",h="middle",i="knob";qx.Class.define(c,{extend:qx.ui.core.Widget,construct:function(j){qx.ui.core.Widget.call(this);if(j.getOrientation()==a){this._setLayout(new qx.ui.layout.HBox(0,d));this._getLayout().setAlignY(h);}else {this._setLayout(new qx.ui.layout.VBox(0,h));this._getLayout().setAlignX(d);};if(this.getVisible()){this._createChildControl(i);};},properties:{allowShrinkX:{refine:true,init:false},allowShrinkY:{refine:true,init:false},visible:{init:true,check:b,themeable:true,apply:g}},members:{_createChildControlImpl:function(m,l){var k;switch(m){case i:k=new qx.ui.basic.Image;this._add(k);break;};return k||qx.ui.core.Widget.prototype._createChildControlImpl.call(this,m);},_applyVisible:function(n,o){this.getChildControl(i).setVisibility(n?e:f);}}});})();(function(){var a="repeat",b="horizontal",c="top",d="height",e="_applyOrientation",f="url(",g="qx.ui.splitpane.Blocker",h="width",i=")",j="col-resize",k="row-resize",l="px",m="100%",n="div",o="left",p="vertical",q="qx/static/blank.gif",r="cursor",s="absolute";qx.Class.define(g,{extend:qx.html.Element,construct:function(u){var t={position:s,zIndex:11};{t.backgroundImage=f+qx.util.ResourceManager.getInstance().toUri(q)+i;t.backgroundRepeat=a;};qx.html.Element.call(this,n,t);if(u){this.setOrientation(u);}else {this.initOrientation();};},properties:{orientation:{init:b,check:[b,p],apply:e}},members:{_applyOrientation:function(w,v){if(w==b){this.setStyle(d,m);this.setStyle(r,j);this.setStyle(c,null);}else {this.setStyle(h,m);this.setStyle(o,null);this.setStyle(r,k);};},setWidth:function(y,x){var z=x+2*y;this.setStyle(h,z+l);},setHeight:function(B,A){var C=A+2*B;this.setStyle(d,C+l);},setLeft:function(E,D){var F=D-E;this.setStyle(o,F+l);},setTop:function(H,G){var top=G-H;this.setStyle(c,top+l);}}});})();(function(){var a="splitter",b="qx.ui.splitpane.VLayout",c="slider";qx.Class.define(b,{extend:qx.ui.layout.Abstract,members:{verifyLayoutProperty:null,renderLayout:function(t,l,s){var j=this._getLayoutChildren();var length=j.length;var u,o;var p,w,v,k;var y=s.left||0;var m=s.top||0;for(var i=0;i<length;i++ ){u=j[i];o=u.getLayoutProperties().type;if(o===a){w=u;}else if(o===c){v=u;}else if(!p){p=u;}else {k=u;};};if(p&&k){var A=p.getLayoutProperties().flex;var g=k.getLayoutProperties().flex;if(A==null){A=1;};if(g==null){g=1;};var d=p.getSizeHint();var e=w.getSizeHint();var n=k.getSizeHint();var r=d.height;var h=e.height;var z=n.height;if(A>0&&g>0){var f=A+g;var q=l-h;var r=Math.round((q/f)*A);var z=q-r;var x=qx.ui.layout.Util.arrangeIdeals(d.minHeight,r,d.maxHeight,n.minHeight,z,n.maxHeight);r=x.begin;z=x.end;}else if(A>0){r=l-h-z;if(r<d.minHeight){r=d.minHeight;};if(r>d.maxHeight){r=d.maxHeight;};}else if(g>0){z=l-r-h;if(z<n.minHeight){z=n.minHeight;};if(z>n.maxHeight){z=n.maxHeight;};};p.renderLayout(y,m,t,r);w.renderLayout(y,r+m,t,h);k.renderLayout(y,r+h+m,t,z);}else {w.renderLayout(0,0,0,0);if(p){p.renderLayout(y,m,t,l);}else if(k){k.renderLayout(y,m,t,l);};};},_computeSizeHint:function(){var K=this._getLayoutChildren();var length=K.length;var J,C,D;var E=0,G=0,F=0;var H=0,I=0,B=0;for(var i=0;i<length;i++ ){J=K[i];D=J.getLayoutProperties();if(D.type===c){continue;};C=J.getSizeHint();E+=C.minHeight;G+=C.height;F+=C.maxHeight;if(C.minWidth>H){H=C.minWidth;};if(C.width>I){I=C.width;};if(C.maxWidth>B){B=C.maxWidth;};};return {minHeight:E,height:G,maxHeight:F,minWidth:H,width:I,maxWidth:B};}}});})();(function(){var a="splitter",b="qx.ui.splitpane.HLayout",c="slider";qx.Class.define(b,{extend:qx.ui.layout.Abstract,members:{verifyLayoutProperty:null,renderLayout:function(s,k,r){var h=this._getLayoutChildren();var length=h.length;var t,n;var o,v,u,j;var x=r.left||0;var l=r.top||0;for(var i=0;i<length;i++ ){t=h[i];n=t.getLayoutProperties().type;if(n===a){v=t;}else if(n===c){u=t;}else if(!o){o=t;}else {j=t;};};if(o&&j){var A=o.getLayoutProperties().flex;var g=j.getLayoutProperties().flex;if(A==null){A=1;};if(g==null){g=1;};var d=o.getSizeHint();var e=v.getSizeHint();var m=j.getSizeHint();var q=d.width;var z=e.width;var y=m.width;if(A>0&&g>0){var f=A+g;var p=s-z;var q=Math.round((p/f)*A);var y=p-q;var w=qx.ui.layout.Util.arrangeIdeals(d.minWidth,q,d.maxWidth,m.minWidth,y,m.maxWidth);q=w.begin;y=w.end;}else if(A>0){q=s-z-y;if(q<d.minWidth){q=d.minWidth;};if(q>d.maxWidth){q=d.maxWidth;};}else if(g>0){y=s-q-z;if(y<m.minWidth){y=m.minWidth;};if(y>m.maxWidth){y=m.maxWidth;};};o.renderLayout(x,l,q,k);v.renderLayout(q+x,l,z,k);j.renderLayout(q+z+x,l,y,k);}else {v.renderLayout(0,0,0,0);if(o){o.renderLayout(x,l,s,k);}else if(j){j.renderLayout(x,l,s,k);};};},_computeSizeHint:function(){var K=this._getLayoutChildren();var length=K.length;var J,C,D;var H=0,I=0,B=0;var E=0,G=0,F=0;for(var i=0;i<length;i++ ){J=K[i];D=J.getLayoutProperties();if(D.type===c){continue;};C=J.getSizeHint();H+=C.minWidth;I+=C.width;B+=C.maxWidth;if(C.minHeight>E){E=C.minHeight;};if(C.height>G){G=C.height;};if(C.maxHeight>F){F=C.maxHeight;};};return {minWidth:H,width:I,maxWidth:B,minHeight:E,height:G,maxHeight:F};}}});})();(function(){var a="_applyDynamic",b="changeSelection",c="Boolean",d="qx.ui.container.Stack";qx.Class.define(d,{extend:qx.ui.core.Widget,implement:[qx.ui.form.IField,qx.ui.core.ISingleSelection],include:[qx.ui.core.MSingleSelectionHandling,qx.ui.core.MChildrenHandling],construct:function(){qx.ui.core.Widget.call(this);this._setLayout(new qx.ui.layout.Grow);this.addListener(b,this.__sq,this);},properties:{dynamic:{check:c,init:false,apply:a}},members:{_applyDynamic:function(g){var j=this._getChildren();var f=this.getSelection()[0];var h;for(var i=0,l=j.length;i<l;i++ ){h=j[i];if(h!=f){if(g){j[i].exclude();}else {j[i].hide();};};};},_getItems:function(){return this.getChildren();},_isAllowEmptySelection:function(){return true;},_isItemSelectable:function(k){return true;},__sq:function(e){var m=e.getOldData()[0];var n=e.getData()[0];if(m){if(this.isDynamic()){m.exclude();}else {m.hide();};};if(n){n.show();};},_afterAddChild:function(p){var o=this.getSelection()[0];if(!o){this.setSelection([p]);}else if(o!==p){if(this.isDynamic()){p.exclude();}else {p.hide();};};},_afterRemoveChild:function(q){if(this.getSelection()[0]===q){var r=this._getChildren()[0];if(r){this.setSelection([r]);}else {this.resetSelection();};};},previous:function(){var u=this.getSelection()[0];var s=this._indexOf(u)-1;var v=this._getChildren();if(s<0){s=v.length-1;};var t=v[s];this.setSelection([t]);},next:function(){var x=this.getSelection()[0];var w=this._indexOf(x)+1;var y=this._getChildren();var z=y[w]||y[0];this.setSelection([z]);}}});})();(function(){var a='_applyCloseable',b='default',c="hovered",d='_applyLabel',e='String',f='writeable',g='_applyModel',h="pointerover",i='italic',j='',k='Boolean',l='qx.event.type.Data',m=' *',n='tap',o='decoration/tabview/close.gif',p='This file is not writeable',q='visible',r='open-file-item/icon',s='icon',t='close',u="qx.event.type.Event",v='.',w=' !',x='cv.ui.manager.form.FileTabItem',y='excluded',z='_transformFilename',A='_applyPermanent',B='file.writeable',C='label',D='changeLabel',E='open-file-item/close',F='_applyIcon',G="label",H='open-file-item',I='open-file-item/label',J='changeModel',K="pointerout";qx.Class.define(x,{extend:qx.ui.core.Widget,implement:[qx.ui.form.IModel],construct:function(){qx.ui.core.Widget.call(this);this._setLayout(new qx.ui.layout.HBox());this._createChildControl(s);this._createChildControl(C);this._createChildControl(t);this.addListener(h,this._onPointerOver,this);this.addListener(K,this._onPointerOut,this);},events:{'close':l,"action":u},properties:{appearance:{refine:true,init:H},model:{nullable:true,event:J,apply:g,dereference:true},label:{check:e,nullable:true,transform:z,event:D,apply:d},icon:{check:e,nullable:true,apply:F},permanent:{check:k,init:false,apply:A},modified:{check:k,init:false,apply:d},closeable:{check:k,init:true,apply:a},writeable:{check:k,init:true,apply:d}},members:{_forwardStates:{focused:true,hovered:true,selected:true,dragover:true},_onPointerOver:function(){this.addState(c);},_transformFilename:function(name){if(name===v){return j;};return name;},_onPointerOut:function(){this.removeState(c);},_applyPermanent:function(L){this.setFont(L?b:i);},_applyCloseable:function(M){this.getChildControl(t).setVisibility(M?q:y);},_applyModel:function(O,N){if(N){N.removeRelatedBindings(this);};if(O){O.bind(B,this,f);};},_applyIcon:function(Q){var P=this.getChildControl(s);P.setSource(Q);if(Q){P.show();}else {P.exclude();};},_applyLabel:function(){var R=this.getChildControl(G);var S=this.getLabel();if(S){var T=this.getLabel();if(!this.isWriteable()&&!this.getModel().getFile().isFake()){T+=w;this.setToolTipText(this.tr(p));}else {this.resetToolTipText();};if(this.isModified()){T+=m;};R.setValue(T);R.show();}else {R.exclude();this.resetToolTipText();};},_onClose:function(){if(this.isCloseable()){this.fireDataEvent(t,this.getModel());};},_createChildControlImpl:function(V){var U;switch(V){case s:U=new qx.ui.basic.Image();U.setAppearance(r);U.setAnonymous(true);U.exclude();this._addAt(U,0);break;case C:U=new qx.ui.basic.Label();U.setAppearance(I);U.setAnonymous(true);this._addAt(U,1);break;case t:U=new qx.ui.basic.Image(o);U.setAppearance(E);if(this.isCloseable()){U.addListener(n,this._onClose,this);}else {U.exclude();};this._addAt(U,2);break;};return U||qx.ui.core.Widget.prototype._createChildControlImpl.call(this,V);}},destruct:function(){this.removeListener(h,this._onPointerOver,this);this.removeListener(K,this._onPointerOut,this);}});})();
});