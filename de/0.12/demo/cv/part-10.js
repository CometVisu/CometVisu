if(!cv.util.ScriptLoader.isMarkedAsLoaded("plugins/diagram/dep/flot/jquery.flot.min.js")){!function(t){t.color={};t.color.make=function(e,i,n,o){var r={};r.r=e||0;r.g=i||0;r.b=n||0;r.a=null!=o?o:1;r.add=function(t,e){for(var i=0;i<t.length;++i)r[t.charAt(i)]+=e;return r.normalize()};r.scale=function(t,e){for(var i=0;i<t.length;++i)r[t.charAt(i)]*=e;return r.normalize()};r.toString=function(){return r.a>=1?"rgb("+[r.r,r.g,r.b].join(",")+")":"rgba("+[r.r,r.g,r.b,r.a].join(",")+")"};r.normalize=function(){function t(t,e,i){return e<t?t:e>i?i:e}r.r=t(0,parseInt(r.r),255);r.g=t(0,parseInt(r.g),255);r.b=t(0,parseInt(r.b),255);r.a=t(0,r.a,1);return r};r.clone=function(){return t.color.make(r.r,r.b,r.g,r.a)};return r.normalize()};t.color.extract=function(e,i){var n;do{if(""!=(n=e.css(i).toLowerCase())&&"transparent"!=n)break;e=e.parent()}while(e.length&&!t.nodeName(e.get(0),"body"));"rgba(0, 0, 0, 0)"==n&&(n="transparent");return t.color.parse(n)};t.color.parse=function(i){var n,o=t.color.make;if(n=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(i))return o(parseInt(n[1],10),parseInt(n[2],10),parseInt(n[3],10));if(n=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(i))return o(parseInt(n[1],10),parseInt(n[2],10),parseInt(n[3],10),parseFloat(n[4]));if(n=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(i))return o(2.55*parseFloat(n[1]),2.55*parseFloat(n[2]),2.55*parseFloat(n[3]));if(n=/rgba\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(i))return o(2.55*parseFloat(n[1]),2.55*parseFloat(n[2]),2.55*parseFloat(n[3]),parseFloat(n[4]));if(n=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(i))return o(parseInt(n[1],16),parseInt(n[2],16),parseInt(n[3],16));if(n=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(i))return o(parseInt(n[1]+n[1],16),parseInt(n[2]+n[2],16),parseInt(n[3]+n[3],16));var r=t.trim(i).toLowerCase();return"transparent"==r?o(255,255,255,0):o((n=e[r]||[0,0,0])[0],n[1],n[2])};var e={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0]}}(jQuery);!function(t){var e=Object.prototype.hasOwnProperty;t.fn.detach||(t.fn.detach=function(){return this.each(function(){this.parentNode&&this.parentNode.removeChild(this)})});function i(e,i){var n=i.children("."+e)[0];if(null==n){(n=document.createElement("canvas")).className=e;t(n).css({direction:"ltr",position:"absolute",left:0,top:0}).appendTo(i);if(!n.getContext){if(!window.G_vmlCanvasManager)throw new Error("Canvas is not available. If you're using IE with a fall-back such as Excanvas, then there's either a mistake in your conditional include, or the page has no DOCTYPE and is rendering in Quirks Mode.");n=window.G_vmlCanvasManager.initElement(n)}}this.element=n;var o=this.context=n.getContext("2d"),r=window.devicePixelRatio||1,a=o.webkitBackingStorePixelRatio||o.mozBackingStorePixelRatio||o.msBackingStorePixelRatio||o.oBackingStorePixelRatio||o.backingStorePixelRatio||1;this.pixelRatio=r/a;this.resize(i.width(),i.height());this.textContainer=null;this.text={};this._textCache={}}i.prototype.resize=function(t,e){if(t<=0||e<=0)throw new Error("Invalid dimensions for plot, width = "+t+", height = "+e);var i=this.element,n=this.context,o=this.pixelRatio;if(this.width!=t){i.width=t*o;i.style.width=t+"px";this.width=t}if(this.height!=e){i.height=e*o;i.style.height=e+"px";this.height=e}n.restore();n.save();n.scale(o,o)};i.prototype.clear=function(){this.context.clearRect(0,0,this.width,this.height)};i.prototype.render=function(){var t=this._textCache;for(var i in t)if(e.call(t,i)){var n=this.getTextLayer(i),o=t[i];n.hide();for(var r in o)if(e.call(o,r)){var a=o[r];for(var l in a)if(e.call(a,l)){for(var s,c=a[l].positions,u=0;s=c[u];u++)if(s.active){if(!s.rendered){n.append(s.element);s.rendered=!0}}else{c.splice(u--,1);s.rendered&&s.element.detach()}0==c.length&&delete a[l]}}n.show()}};i.prototype.getTextLayer=function(e){var i=this.text[e];if(null==i){null==this.textContainer&&(this.textContainer=t("<div class='flot-text'></div>").css({position:"absolute",top:0,left:0,bottom:0,right:0,"font-size":"smaller",color:"#545454"}).insertAfter(this.element));i=this.text[e]=t("<div></div>").addClass(e).css({position:"absolute",top:0,left:0,bottom:0,right:0}).appendTo(this.textContainer)}return i};i.prototype.getTextInfo=function(e,i,n,o,r){var a,l,s,c;i=""+i;a="object"==typeof n?n.style+" "+n.variant+" "+n.weight+" "+n.size+"px/"+n.lineHeight+"px "+n.family:n;null==(l=this._textCache[e])&&(l=this._textCache[e]={});null==(s=l[a])&&(s=l[a]={});if(null==(c=s[i])){var u=t("<div></div>").html(i).css({position:"absolute","max-width":r,top:-9999}).appendTo(this.getTextLayer(e));"object"==typeof n?u.css({font:a,color:n.color}):"string"==typeof n&&u.addClass(n);c=s[i]={width:u.outerWidth(!0),height:u.outerHeight(!0),element:u,positions:[]};u.detach()}return c};i.prototype.addText=function(t,e,i,n,o,r,a,l,s){var c=this.getTextInfo(t,n,o,r,a),u=c.positions;"center"==l?e-=c.width/2:"right"==l&&(e-=c.width);"middle"==s?i-=c.height/2:"bottom"==s&&(i-=c.height);for(var h,f=0;h=u[f];f++)if(h.x==e&&h.y==i){h.active=!0;return}h={active:!0,rendered:!1,element:u.length?c.element.clone():c.element,x:e,y:i};u.push(h);h.element.css({top:Math.round(i),left:Math.round(e),"text-align":l})};i.prototype.removeText=function(t,i,n,o,r,a){if(null==o){var l=this._textCache[t];if(null!=l)for(var s in l)if(e.call(l,s)){var c=l[s];for(var u in c)if(e.call(c,u))for(var h=c[u].positions,f=0;d=h[f];f++)d.active=!1}}else{var d;for(h=this.getTextInfo(t,o,r,a).positions,f=0;d=h[f];f++)d.x==i&&d.y==n&&(d.active=!1)}};function n(e,n,o,r){var a=[],l={colors:["#edc240","#afd8f8","#cb4b4b","#4da74d","#9440ed"],legend:{show:!0,noColumns:1,labelFormatter:null,labelBoxBorderColor:"#ccc",container:null,position:"ne",margin:5,backgroundColor:null,backgroundOpacity:.85,sorted:null},xaxis:{show:null,position:"bottom",mode:null,font:null,color:null,tickColor:null,transform:null,inverseTransform:null,min:null,max:null,autoscaleMargin:null,ticks:null,tickFormatter:null,labelWidth:null,labelHeight:null,reserveSpace:null,tickLength:null,alignTicksWithAxis:null,tickDecimals:null,tickSize:null,minTickSize:null},yaxis:{autoscaleMargin:.02,position:"left"},xaxes:[],yaxes:[],series:{points:{show:!1,radius:3,lineWidth:2,fill:!0,fillColor:"#ffffff",symbol:"circle"},lines:{lineWidth:2,fill:!1,fillColor:null,steps:!1},bars:{show:!1,lineWidth:2,barWidth:1,fill:!0,fillColor:null,align:"left",horizontal:!1,zero:!0},shadowSize:3,highlightColor:null},grid:{show:!0,aboveData:!1,color:"#545454",backgroundColor:null,borderColor:null,tickColor:null,margin:0,labelMargin:5,axisMargin:8,borderWidth:2,minBorderMargin:null,markings:null,markingsColor:"#f4f4f4",markingsLineWidth:2,clickable:!1,hoverable:!1,autoHighlight:!0,mouseActiveRadius:10},interaction:{redrawOverlayInterval:1e3/60},hooks:{}},s=null,c=null,u=null,h=null,f=null,d=[],p=[],g={left:0,right:0,top:0,bottom:0},m=0,v=0,x={processOptions:[],processRawData:[],processDatapoints:[],processOffset:[],drawBackground:[],drawSeries:[],draw:[],bindEvents:[],drawOverlay:[],shutdown:[]},b=this;b.setData=w;b.setupGrid=P;b.draw=A;b.getPlaceholder=function(){return e};b.getCanvas=function(){return s.element};b.getPlotOffset=function(){return g};b.width=function(){return m};b.height=function(){return v};b.offset=function(){var t=u.offset();t.left+=g.left;t.top+=g.top;return t};b.getData=function(){return a};b.getAxes=function(){var e={};t.each(d.concat(p),function(t,i){i&&(e[i.direction+(1!=i.n?i.n:"")+"axis"]=i)});return e};b.getXAxes=function(){return d};b.getYAxes=function(){return p};b.c2p=C;b.p2c=function(t){var e,i,n,o={};for(e=0;e<d.length;++e)if((i=d[e])&&i.used){n="x"+i.n;null==t[n]&&1==i.n&&(n="x");if(null!=t[n]){o.left=i.p2c(t[n]);break}}for(e=0;e<p.length;++e)if((i=p[e])&&i.used){n="y"+i.n;null==t[n]&&1==i.n&&(n="y");if(null!=t[n]){o.top=i.p2c(t[n]);break}}return o};b.getOptions=function(){return l};b.highlight=X;b.unhighlight=Y;b.triggerRedrawOverlay=q;b.pointOffset=function(t){return{left:parseInt(d[k(t,"x")-1].p2c(+t.x)+g.left,10),top:parseInt(p[k(t,"y")-1].p2c(+t.y)+g.top,10)}};b.shutdown=T;b.destroy=function(){T();e.removeData("plot").empty();a=[];l=null;s=null;c=null;u=null;h=null;f=null;d=[];p=[];x=null;j=[];b=null};b.resize=function(){var t=e.width(),i=e.height();s.resize(t,i);c.resize(t,i)};b.hooks=x;!function(){for(var e={Canvas:i},n=0;n<r.length;++n){var o=r[n];o.init(b,e);o.options&&t.extend(!0,l,o.options)}}();!function(i){t.extend(!0,l,i);i&&i.colors&&(l.colors=i.colors);null==l.xaxis.color&&(l.xaxis.color=t.color.parse(l.grid.color).scale("a",.22).toString());null==l.yaxis.color&&(l.yaxis.color=t.color.parse(l.grid.color).scale("a",.22).toString());null==l.xaxis.tickColor&&(l.xaxis.tickColor=l.grid.tickColor||l.xaxis.color);null==l.yaxis.tickColor&&(l.yaxis.tickColor=l.grid.tickColor||l.yaxis.color);null==l.grid.borderColor&&(l.grid.borderColor=l.grid.color);null==l.grid.tickColor&&(l.grid.tickColor=t.color.parse(l.grid.color).scale("a",.22).toString());var n,o,r,a=e.css("font-size"),s=a?+a.replace("px",""):13,c={style:e.css("font-style"),size:Math.round(.8*s),variant:e.css("font-variant"),weight:e.css("font-weight"),family:e.css("font-family")};r=l.xaxes.length||1;for(n=0;n<r;++n){(o=l.xaxes[n])&&!o.tickColor&&(o.tickColor=o.color);o=t.extend(!0,{},l.xaxis,o);l.xaxes[n]=o;if(o.font){o.font=t.extend({},c,o.font);o.font.color||(o.font.color=o.color);o.font.lineHeight||(o.font.lineHeight=Math.round(1.15*o.font.size))}}r=l.yaxes.length||1;for(n=0;n<r;++n){(o=l.yaxes[n])&&!o.tickColor&&(o.tickColor=o.color);o=t.extend(!0,{},l.yaxis,o);l.yaxes[n]=o;if(o.font){o.font=t.extend({},c,o.font);o.font.color||(o.font.color=o.color);o.font.lineHeight||(o.font.lineHeight=Math.round(1.15*o.font.size))}}l.xaxis.noTicks&&null==l.xaxis.ticks&&(l.xaxis.ticks=l.xaxis.noTicks);l.yaxis.noTicks&&null==l.yaxis.ticks&&(l.yaxis.ticks=l.yaxis.noTicks);if(l.x2axis){l.xaxes[1]=t.extend(!0,{},l.xaxis,l.x2axis);l.xaxes[1].position="top";null==l.x2axis.min&&(l.xaxes[1].min=null);null==l.x2axis.max&&(l.xaxes[1].max=null)}if(l.y2axis){l.yaxes[1]=t.extend(!0,{},l.yaxis,l.y2axis);l.yaxes[1].position="right";null==l.y2axis.min&&(l.yaxes[1].min=null);null==l.y2axis.max&&(l.yaxes[1].max=null)}l.grid.coloredAreas&&(l.grid.markings=l.grid.coloredAreas);l.grid.coloredAreasColor&&(l.grid.markingsColor=l.grid.coloredAreasColor);l.lines&&t.extend(!0,l.series.lines,l.lines);l.points&&t.extend(!0,l.series.points,l.points);l.bars&&t.extend(!0,l.series.bars,l.bars);null!=l.shadowSize&&(l.series.shadowSize=l.shadowSize);null!=l.highlightColor&&(l.series.highlightColor=l.highlightColor);for(n=0;n<l.xaxes.length;++n)M(d,n+1).options=l.xaxes[n];for(n=0;n<l.yaxes.length;++n)M(p,n+1).options=l.yaxes[n];for(var u in x)l.hooks[u]&&l.hooks[u].length&&(x[u]=x[u].concat(l.hooks[u]));y(x.processOptions,[l])}(o);!function(){e.css("padding",0).children().filter(function(){return!t(this).hasClass("flot-overlay")&&!t(this).hasClass("flot-base")}).remove();"static"==e.css("position")&&e.css("position","relative");s=new i("flot-base",e);c=new i("flot-overlay",e);h=s.context;f=c.context;u=t(c.element).unbind();var n=e.data("plot");if(n){n.shutdown();c.clear()}e.data("plot",b)}();w(n);P();A();!function(){if(l.grid.hoverable){u.mousemove(F);u.bind("mouseleave",D)}l.grid.clickable&&u.click(O);y(x.bindEvents,[u])}();function y(t,e){e=[b].concat(e);for(var i=0;i<t.length;++i)t[i].apply(this,e)}function w(e){a=function(e){for(var i=[],n=0;n<e.length;++n){var o=t.extend(!0,{},l.series);if(null!=e[n].data){o.data=e[n].data;delete e[n].data;t.extend(!0,o,e[n]);e[n].data=o.data}else o.data=e[n];i.push(o)}return i}(e);!function(){var e,i=a.length,n=-1;for(e=0;e<a.length;++e){var o=a[e].color;if(null!=o){i--;"number"==typeof o&&o>n&&(n=o)}}i<=n&&(i=n+1);var r,s=[],c=l.colors,u=c.length,h=0;for(e=0;e<i;e++){r=t.color.parse(c[e%u]||"#666");e%u==0&&e&&(h=h>=0?h<.5?-h-.2:0:-h);s[e]=r.scale("rgb",1+h)}var f,g=0;for(e=0;e<a.length;++e){if(null==(f=a[e]).color){f.color=s[g].toString();++g}else"number"==typeof f.color&&(f.color=s[f.color].toString());if(null==f.lines.show){var m,v=!0;for(m in f)if(f[m]&&f[m].show){v=!1;break}v&&(f.lines.show=!0)}null==f.lines.zero&&(f.lines.zero=!!f.lines.fill);f.xaxis=M(d,k(f,"x"));f.yaxis=M(p,k(f,"y"))}}();!function(){var e,i,n,o,r,l,s,c,u,h,f,d,p=Number.POSITIVE_INFINITY,g=Number.NEGATIVE_INFINITY,m=Number.MAX_VALUE;function v(t,e,i){e<t.datamin&&e!=-m&&(t.datamin=e);i>t.datamax&&i!=m&&(t.datamax=i)}t.each(S(),function(t,e){e.datamin=p;e.datamax=g;e.used=!1});for(e=0;e<a.length;++e){(r=a[e]).datapoints={points:[]};y(x.processRawData,[r,r.data,r.datapoints])}for(e=0;e<a.length;++e){r=a[e];f=r.data;if(!(d=r.datapoints.format)){(d=[]).push({x:!0,number:!0,required:!0});d.push({y:!0,number:!0,required:!0});if(r.bars.show||r.lines.show&&r.lines.fill){var b=!!(r.bars.show&&r.bars.zero||r.lines.show&&r.lines.zero);d.push({y:!0,number:!0,required:!1,defaultValue:0,autoscale:b});if(r.bars.horizontal){delete d[d.length-1].y;d[d.length-1].x=!0}}r.datapoints.format=d}if(null==r.datapoints.pointsize){r.datapoints.pointsize=d.length;s=r.datapoints.pointsize;l=r.datapoints.points;var w=r.lines.show&&r.lines.steps;r.xaxis.used=r.yaxis.used=!0;for(i=n=0;i<f.length;++i,n+=s){var k=null==(h=f[i]);if(!k)for(o=0;o<s;++o){c=h[o];if(u=d[o]){if(u.number&&null!=c){c=+c;isNaN(c)?c=null:c==1/0?c=m:c==-1/0&&(c=-m)}if(null==c){u.required&&(k=!0);null!=u.defaultValue&&(c=u.defaultValue)}}l[n+o]=c}if(k)for(o=0;o<s;++o){if(null!=(c=l[n+o])&&!1!==(u=d[o]).autoscale){u.x&&v(r.xaxis,c,c);u.y&&v(r.yaxis,c,c)}l[n+o]=null}else if(w&&n>0&&null!=l[n-s]&&l[n-s]!=l[n]&&l[n-s+1]!=l[n+1]){for(o=0;o<s;++o)l[n+s+o]=l[n+o];l[n+1]=l[n-s+1];n+=s}}}}for(e=0;e<a.length;++e){r=a[e];y(x.processDatapoints,[r,r.datapoints])}for(e=0;e<a.length;++e){r=a[e];l=r.datapoints.points;s=r.datapoints.pointsize;d=r.datapoints.format;var C=p,M=p,T=g,z=g;for(i=0;i<l.length;i+=s)if(null!=l[i])for(o=0;o<s;++o){c=l[i+o];if((u=d[o])&&!1!==u.autoscale&&c!=m&&c!=-m){if(u.x){c<C&&(C=c);c>T&&(T=c)}if(u.y){c<M&&(M=c);c>z&&(z=c)}}}if(r.bars.show){var P;switch(r.bars.align){case"left":P=0;break;case"right":P=-r.bars.barWidth;break;default:P=-r.bars.barWidth/2}if(r.bars.horizontal){M+=P;z+=P+r.bars.barWidth}else{C+=P;T+=P+r.bars.barWidth}}v(r.xaxis,C,T);v(r.yaxis,M,z)}t.each(S(),function(t,e){e.datamin==p&&(e.datamin=null);e.datamax==g&&(e.datamax=null)})}()}function k(t,e){var i=t[e+"axis"];"object"==typeof i&&(i=i.n);"number"!=typeof i&&(i=1);return i}function S(){return t.grep(d.concat(p),function(t){return t})}function C(t){var e,i,n={};for(e=0;e<d.length;++e)(i=d[e])&&i.used&&(n["x"+i.n]=i.c2p(t.left));for(e=0;e<p.length;++e)(i=p[e])&&i.used&&(n["y"+i.n]=i.c2p(t.top));void 0!==n.x1&&(n.x=n.x1);void 0!==n.y1&&(n.y=n.y1);return n}function M(e,i){e[i-1]||(e[i-1]={n:i,direction:e==d?"x":"y",options:t.extend(!0,{},e==d?l.xaxis:l.yaxis)});return e[i-1]}function T(){E&&clearTimeout(E);u.unbind("mousemove",F);u.unbind("mouseleave",D);u.unbind("click",O);y(x.shutdown,[u])}function z(e){var i=e.labelWidth,n=e.labelHeight,o=e.options.position,r="x"===e.direction,a=e.options.tickLength,c=l.grid.axisMargin,u=l.grid.labelMargin,h=!0,f=!0,m=!0,v=!1;t.each(r?d:p,function(t,i){if(i&&(i.show||i.reserveSpace)){i===e?v=!0:i.options.position===o&&(v?f=!1:h=!1);v||(m=!1)}});f&&(c=0);null==a&&(a=m?"full":5);isNaN(+a)||(u+=+a);if(r){n+=u;if("bottom"==o){g.bottom+=n+c;e.box={top:s.height-g.bottom,height:n}}else{e.box={top:g.top+c,height:n};g.top+=n+c}}else{i+=u;if("left"==o){e.box={left:g.left+c,width:i};g.left+=i+c}else{g.right+=i+c;e.box={left:s.width-g.right,width:i}}}e.position=o;e.tickLength=a;e.box.padding=u;e.innermost=h}function P(){var i,n=S(),o=l.grid.show;for(var r in g){var c=l.grid.margin||0;g[r]="number"==typeof c?c:c[r]||0}y(x.processOffset,[g]);for(var r in g)"object"==typeof l.grid.borderWidth?g[r]+=o?l.grid.borderWidth[r]:0:g[r]+=o?l.grid.borderWidth:0;t.each(n,function(t,e){var i=e.options;e.show=null==i.show?e.used:i.show;e.reserveSpace=null==i.reserveSpace?e.show:i.reserveSpace;!function(t){var e=t.options,i=+(null!=e.min?e.min:t.datamin),n=+(null!=e.max?e.max:t.datamax),o=n-i;if(0==o){var r=0==n?1:.01;null==e.min&&(i-=r);null!=e.max&&null==e.min||(n+=r)}else{var a=e.autoscaleMargin;if(null!=a){null==e.min&&(i-=o*a)<0&&null!=t.datamin&&t.datamin>=0&&(i=0);null==e.max&&(n+=o*a)>0&&null!=t.datamax&&t.datamax<=0&&(n=0)}}t.min=i;t.max=n}(e)});if(o){var u=t.grep(n,function(t){return t.show||t.reserveSpace});t.each(u,function(e,i){!function(e){var i,n=e.options;i="number"==typeof n.ticks&&n.ticks>0?n.ticks:.3*Math.sqrt("x"==e.direction?s.width:s.height);var o=(e.max-e.min)/i,r=-Math.floor(Math.log(o)/Math.LN10),a=n.tickDecimals;null!=a&&r>a&&(r=a);var l,c=Math.pow(10,-r),u=o/c;if(u<1.5)l=1;else if(u<3){l=2;if(u>2.25&&(null==a||r+1<=a)){l=2.5;++r}}else l=u<7.5?5:10;l*=c;null!=n.minTickSize&&l<n.minTickSize&&(l=n.minTickSize);e.delta=o;e.tickDecimals=Math.max(0,null!=a?a:r);e.tickSize=n.tickSize||l;if("time"==n.mode&&!e.tickGenerator)throw new Error("Time mode requires the flot.time plugin.");if(!e.tickGenerator){e.tickGenerator=function(t){var e,i,n,o=[],r=(i=t.min,(n=t.tickSize)*Math.floor(i/n)),a=0,l=Number.NaN;do{e=l;l=r+a*t.tickSize;o.push(l);++a}while(l<t.max&&l!=e);return o};e.tickFormatter=function(t,e){var i=e.tickDecimals?Math.pow(10,e.tickDecimals):1,n=""+Math.round(t*i)/i;if(null!=e.tickDecimals){var o=n.indexOf("."),r=-1==o?0:n.length-o-1;if(r<e.tickDecimals)return(r?n:n+".")+(""+i).substr(1,e.tickDecimals-r)}return n}}t.isFunction(n.tickFormatter)&&(e.tickFormatter=function(t,e){return""+n.tickFormatter(t,e)});if(null!=n.alignTicksWithAxis){var h=("x"==e.direction?d:p)[n.alignTicksWithAxis-1];if(h&&h.used&&h!=e){var f=e.tickGenerator(e);if(f.length>0){null==n.min&&(e.min=Math.min(e.min,f[0]));null==n.max&&f.length>1&&(e.max=Math.max(e.max,f[f.length-1]))}e.tickGenerator=function(t){var e,i,n=[];for(i=0;i<h.ticks.length;++i){e=(h.ticks[i].v-h.min)/(h.max-h.min);e=t.min+e*(t.max-t.min);n.push(e)}return n};if(!e.mode&&null==n.tickDecimals){var g=Math.max(0,1-Math.floor(Math.log(e.delta)/Math.LN10)),m=e.tickGenerator(e);m.length>1&&/\..*0$/.test((m[1]-m[0]).toFixed(g))||(e.tickDecimals=g)}}}}(i);!function(e){var i,n,o=e.options.ticks,r=[];null==o||"number"==typeof o&&o>0?r=e.tickGenerator(e):o&&(r=t.isFunction(o)?o(e):o);e.ticks=[];for(i=0;i<r.length;++i){var a=null,l=r[i];if("object"==typeof l){n=+l[0];l.length>1&&(a=l[1])}else n=+l;null==a&&(a=e.tickFormatter(n,e));isNaN(n)||e.ticks.push({v:n,label:a})}}(i);!function(t,e){if(t.options.autoscaleMargin&&e.length>0){null==t.options.min&&(t.min=Math.min(t.min,e[0].v));null==t.options.max&&e.length>1&&(t.max=Math.max(t.max,e[e.length-1].v))}}(i,i.ticks);!function(t){for(var e=t.options,i=t.ticks||[],n=e.labelWidth||0,o=e.labelHeight||0,r=n||("x"==t.direction?Math.floor(s.width/(i.length||1)):null),a=t.direction+"Axis "+t.direction+t.n+"Axis",l="flot-"+t.direction+"-axis flot-"+t.direction+t.n+"-axis "+a,c=e.font||"flot-tick-label tickLabel",u=0;u<i.length;++u){var h=i[u];if(h.label){var f=s.getTextInfo(l,h.label,c,null,r);n=Math.max(n,f.width);o=Math.max(o,f.height)}}t.labelWidth=e.labelWidth||n;t.labelHeight=e.labelHeight||o}(i)});for(i=u.length-1;i>=0;--i)z(u[i]);!function(){var e,i=l.grid.minBorderMargin;if(null==i){i=0;for(e=0;e<a.length;++e)i=Math.max(i,2*(a[e].points.radius+a[e].points.lineWidth/2))}var n={left:i,right:i,top:i,bottom:i};t.each(S(),function(t,e){if(e.reserveSpace&&e.ticks&&e.ticks.length)if("x"===e.direction){n.left=Math.max(n.left,e.labelWidth/2);n.right=Math.max(n.right,e.labelWidth/2)}else{n.bottom=Math.max(n.bottom,e.labelHeight/2);n.top=Math.max(n.top,e.labelHeight/2)}});g.left=Math.ceil(Math.max(n.left,g.left));g.right=Math.ceil(Math.max(n.right,g.right));g.top=Math.ceil(Math.max(n.top,g.top));g.bottom=Math.ceil(Math.max(n.bottom,g.bottom))}();t.each(u,function(t,e){!function(t){if("x"==t.direction){t.box.left=g.left-t.labelWidth/2;t.box.width=s.width-g.left-g.right+t.labelWidth}else{t.box.top=g.top-t.labelHeight/2;t.box.height=s.height-g.bottom-g.top+t.labelHeight}}(e)})}m=s.width-g.left-g.right;v=s.height-g.bottom-g.top;t.each(n,function(t,e){!function(t){function e(t){return t}var i,n,o=t.options.transform||e,r=t.options.inverseTransform;if("x"==t.direction){i=t.scale=m/Math.abs(o(t.max)-o(t.min));n=Math.min(o(t.max),o(t.min))}else{i=-(i=t.scale=v/Math.abs(o(t.max)-o(t.min)));n=Math.max(o(t.max),o(t.min))}t.p2c=o==e?function(t){return(t-n)*i}:function(t){return(o(t)-n)*i};t.c2p=r?function(t){return r(n+t/i)}:function(t){return n+t/i}}(e)});o&&t.each(S(),function(t,e){var i,n,o,r,a,l=e.box,c=e.direction+"Axis "+e.direction+e.n+"Axis",u="flot-"+e.direction+"-axis flot-"+e.direction+e.n+"-axis "+c,h=e.options.font||"flot-tick-label tickLabel";s.removeText(u);if(e.show&&0!=e.ticks.length)for(var f=0;f<e.ticks.length;++f)if(!(!(i=e.ticks[f]).label||i.v<e.min||i.v>e.max)){if("x"==e.direction){r="center";n=g.left+e.p2c(i.v);if("bottom"==e.position)o=l.top+l.padding;else{o=l.top+l.height-l.padding;a="bottom"}}else{a="middle";o=g.top+e.p2c(i.v);if("left"==e.position){n=l.left+l.width-l.padding;r="right"}else n=l.left+l.padding}s.addText(u,n,o,i.label,h,null,null,r,a)}});!function(){null!=l.legend.container?t(l.legend.container).html(""):e.find(".legend").remove();if(!l.legend.show)return;for(var i,n,o=[],r=[],s=!1,c=l.legend.labelFormatter,u=0;u<a.length;++u)(i=a[u]).label&&(n=c?c(i.label,i):i.label)&&r.push({label:n,color:i.color});if(l.legend.sorted)if(t.isFunction(l.legend.sorted))r.sort(l.legend.sorted);else if("reverse"==l.legend.sorted)r.reverse();else{var h="descending"!=l.legend.sorted;r.sort(function(t,e){return t.label==e.label?0:t.label<e.label!=h?1:-1})}for(var u=0;u<r.length;++u){var f=r[u];if(u%l.legend.noColumns==0){s&&o.push("</tr>");o.push("<tr>");s=!0}o.push('<td class="legendColorBox"><div style="border:1px solid '+l.legend.labelBoxBorderColor+';padding:1px"><div style="width:4px;height:0;border:5px solid '+f.color+';overflow:hidden"></div></div></td><td class="legendLabel">'+f.label+"</td>")}s&&o.push("</tr>");if(0==o.length)return;var d='<table style="font-size:smaller;color:'+l.grid.color+'">'+o.join("")+"</table>";if(null!=l.legend.container)t(l.legend.container).html(d);else{var p="",m=l.legend.position,v=l.legend.margin;null==v[0]&&(v=[v,v]);"n"==m.charAt(0)?p+="top:"+(v[1]+g.top)+"px;":"s"==m.charAt(0)&&(p+="bottom:"+(v[1]+g.bottom)+"px;");"e"==m.charAt(1)?p+="right:"+(v[0]+g.right)+"px;":"w"==m.charAt(1)&&(p+="left:"+(v[0]+g.left)+"px;");var x=t('<div class="legend">'+d.replace('style="','style="position:absolute;'+p+";")+"</div>").appendTo(e);if(0!=l.legend.backgroundOpacity){var b=l.legend.backgroundColor;if(null==b){(b=(b=l.grid.backgroundColor)&&"string"==typeof b?t.color.parse(b):t.color.extract(x,"background-color")).a=1;b=b.toString()}var y=x.children();t('<div style="position:absolute;width:'+y.width()+"px;height:"+y.height()+"px;"+p+"background-color:"+b+';"> </div>').prependTo(x).css("opacity",l.legend.backgroundOpacity)}}}()}function A(){s.clear();y(x.drawBackground,[h]);var t=l.grid;t.show&&t.backgroundColor&&function(){h.save();h.translate(g.left,g.top);h.fillStyle=Q(l.grid.backgroundColor,v,0,"rgba(255, 255, 255, 0)");h.fillRect(0,0,m,v);h.restore()}();t.show&&!t.aboveData&&L();for(var e=0;e<a.length;++e){y(x.drawSeries,[h,a[e]]);I(a[e])}y(x.draw,[h]);t.show&&t.aboveData&&L();s.render();q()}function W(t,e){for(var i,n,o,r,a=S(),l=0;l<a.length;++l)if((i=a[l]).direction==e){t[r=e+i.n+"axis"]||1!=i.n||(r=e+"axis");if(t[r]){n=t[r].from;o=t[r].to;break}}if(!t[r]){i="x"==e?d[0]:p[0];n=t[e+"1"];o=t[e+"2"]}if(null!=n&&null!=o&&n>o){var s=n;n=o;o=s}return{from:n,to:o,axis:i}}function L(){var e,i,n,o;h.save();h.translate(g.left,g.top);var r=l.grid.markings;if(r){if(t.isFunction(r)){(i=b.getAxes()).xmin=i.xaxis.min;i.xmax=i.xaxis.max;i.ymin=i.yaxis.min;i.ymax=i.yaxis.max;r=r(i)}for(e=0;e<r.length;++e){var a=r[e],s=W(a,"x"),c=W(a,"y");null==s.from&&(s.from=s.axis.min);null==s.to&&(s.to=s.axis.max);null==c.from&&(c.from=c.axis.min);null==c.to&&(c.to=c.axis.max);if(!(s.to<s.axis.min||s.from>s.axis.max||c.to<c.axis.min||c.from>c.axis.max)){s.from=Math.max(s.from,s.axis.min);s.to=Math.min(s.to,s.axis.max);c.from=Math.max(c.from,c.axis.min);c.to=Math.min(c.to,c.axis.max);var u=s.from===s.to,f=c.from===c.to;if(!u||!f){s.from=Math.floor(s.axis.p2c(s.from));s.to=Math.floor(s.axis.p2c(s.to));c.from=Math.floor(c.axis.p2c(c.from));c.to=Math.floor(c.axis.p2c(c.to));if(u||f){var d=a.lineWidth||l.grid.markingsLineWidth,p=d%2?.5:0;h.beginPath();h.strokeStyle=a.color||l.grid.markingsColor;h.lineWidth=d;if(u){h.moveTo(s.to+p,c.from);h.lineTo(s.to+p,c.to)}else{h.moveTo(s.from,c.to+p);h.lineTo(s.to,c.to+p)}h.stroke()}else{h.fillStyle=a.color||l.grid.markingsColor;h.fillRect(s.from,c.to,s.to-s.from,c.from-c.to)}}}}}i=S();n=l.grid.borderWidth;for(var x=0;x<i.length;++x){var y,w,k,C,M=i[x],T=M.box,z=M.tickLength;if(M.show&&0!=M.ticks.length){h.lineWidth=1;if("x"==M.direction){y=0;w="full"==z?"top"==M.position?0:v:T.top-g.top+("top"==M.position?T.height:0)}else{w=0;y="full"==z?"left"==M.position?0:m:T.left-g.left+("left"==M.position?T.width:0)}if(!M.innermost){h.strokeStyle=M.options.color;h.beginPath();k=C=0;"x"==M.direction?k=m+1:C=v+1;1==h.lineWidth&&("x"==M.direction?w=Math.floor(w)+.5:y=Math.floor(y)+.5);h.moveTo(y,w);h.lineTo(y+k,w+C);h.stroke()}h.strokeStyle=M.options.tickColor;h.beginPath();for(e=0;e<M.ticks.length;++e){var P=M.ticks[e].v;k=C=0;if(!(isNaN(P)||P<M.min||P>M.max||"full"==z&&("object"==typeof n&&n[M.position]>0||n>0)&&(P==M.min||P==M.max))){if("x"==M.direction){y=M.p2c(P);C="full"==z?-v:z;"top"==M.position&&(C=-C)}else{w=M.p2c(P);k="full"==z?-m:z;"left"==M.position&&(k=-k)}1==h.lineWidth&&("x"==M.direction?y=Math.floor(y)+.5:w=Math.floor(w)+.5);h.moveTo(y,w);h.lineTo(y+k,w+C)}}h.stroke()}}if(n){o=l.grid.borderColor;if("object"==typeof n||"object"==typeof o){"object"!=typeof n&&(n={top:n,right:n,bottom:n,left:n});"object"!=typeof o&&(o={top:o,right:o,bottom:o,left:o});if(n.top>0){h.strokeStyle=o.top;h.lineWidth=n.top;h.beginPath();h.moveTo(0-n.left,0-n.top/2);h.lineTo(m,0-n.top/2);h.stroke()}if(n.right>0){h.strokeStyle=o.right;h.lineWidth=n.right;h.beginPath();h.moveTo(m+n.right/2,0-n.top);h.lineTo(m+n.right/2,v);h.stroke()}if(n.bottom>0){h.strokeStyle=o.bottom;h.lineWidth=n.bottom;h.beginPath();h.moveTo(m+n.right,v+n.bottom/2);h.lineTo(0,v+n.bottom/2);h.stroke()}if(n.left>0){h.strokeStyle=o.left;h.lineWidth=n.left;h.beginPath();h.moveTo(0-n.left/2,v+n.bottom);h.lineTo(0-n.left/2,0);h.stroke()}}else{h.lineWidth=n;h.strokeStyle=l.grid.borderColor;h.strokeRect(-n/2,-n/2,m+n,v+n)}}h.restore()}function I(t){t.lines.show&&function(t){function e(t,e,i,n,o){var r=t.points,a=t.pointsize,l=null,s=null;h.beginPath();for(var c=a;c<r.length;c+=a){var u=r[c-a],f=r[c-a+1],d=r[c],p=r[c+1];if(null!=u&&null!=d){if(f<=p&&f<o.min){if(p<o.min)continue;u=(o.min-f)/(p-f)*(d-u)+u;f=o.min}else if(p<=f&&p<o.min){if(f<o.min)continue;d=(o.min-f)/(p-f)*(d-u)+u;p=o.min}if(f>=p&&f>o.max){if(p>o.max)continue;u=(o.max-f)/(p-f)*(d-u)+u;f=o.max}else if(p>=f&&p>o.max){if(f>o.max)continue;d=(o.max-f)/(p-f)*(d-u)+u;p=o.max}if(u<=d&&u<n.min){if(d<n.min)continue;f=(n.min-u)/(d-u)*(p-f)+f;u=n.min}else if(d<=u&&d<n.min){if(u<n.min)continue;p=(n.min-u)/(d-u)*(p-f)+f;d=n.min}if(u>=d&&u>n.max){if(d>n.max)continue;f=(n.max-u)/(d-u)*(p-f)+f;u=n.max}else if(d>=u&&d>n.max){if(u>n.max)continue;p=(n.max-u)/(d-u)*(p-f)+f;d=n.max}u==l&&f==s||h.moveTo(n.p2c(u)+e,o.p2c(f)+i);l=d;s=p;h.lineTo(n.p2c(d)+e,o.p2c(p)+i)}}h.stroke()}h.save();h.translate(g.left,g.top);h.lineJoin="round";var i=t.lines.lineWidth,n=t.shadowSize;if(i>0&&n>0){h.lineWidth=n;h.strokeStyle="rgba(0,0,0,0.1)";var o=Math.PI/18;e(t.datapoints,Math.sin(o)*(i/2+n/2),Math.cos(o)*(i/2+n/2),t.xaxis,t.yaxis);h.lineWidth=n/2;e(t.datapoints,Math.sin(o)*(i/2+n/4),Math.cos(o)*(i/2+n/4),t.xaxis,t.yaxis)}h.lineWidth=i;h.strokeStyle=t.color;var r=N(t.lines,t.color,0,v);if(r){h.fillStyle=r;!function(t,e,i){var n=t.points,o=t.pointsize,r=Math.min(Math.max(0,i.min),i.max),a=0,l=!1,s=1,c=0,u=0;for(;!(o>0&&a>n.length+o);){var f=n[(a+=o)-o],d=n[a-o+s],p=n[a],g=n[a+s];if(l){if(o>0&&null!=f&&null==p){u=a;o=-o;s=2;continue}if(o<0&&a==c+o){h.fill();l=!1;s=1;a=c=u+(o=-o);continue}}if(null!=f&&null!=p){if(f<=p&&f<e.min){if(p<e.min)continue;d=(e.min-f)/(p-f)*(g-d)+d;f=e.min}else if(p<=f&&p<e.min){if(f<e.min)continue;g=(e.min-f)/(p-f)*(g-d)+d;p=e.min}if(f>=p&&f>e.max){if(p>e.max)continue;d=(e.max-f)/(p-f)*(g-d)+d;f=e.max}else if(p>=f&&p>e.max){if(f>e.max)continue;g=(e.max-f)/(p-f)*(g-d)+d;p=e.max}if(!l){h.beginPath();h.moveTo(e.p2c(f),i.p2c(r));l=!0}if(d>=i.max&&g>=i.max){h.lineTo(e.p2c(f),i.p2c(i.max));h.lineTo(e.p2c(p),i.p2c(i.max))}else if(d<=i.min&&g<=i.min){h.lineTo(e.p2c(f),i.p2c(i.min));h.lineTo(e.p2c(p),i.p2c(i.min))}else{var m=f,v=p;if(d<=g&&d<i.min&&g>=i.min){f=(i.min-d)/(g-d)*(p-f)+f;d=i.min}else if(g<=d&&g<i.min&&d>=i.min){p=(i.min-d)/(g-d)*(p-f)+f;g=i.min}if(d>=g&&d>i.max&&g<=i.max){f=(i.max-d)/(g-d)*(p-f)+f;d=i.max}else if(g>=d&&g>i.max&&d<=i.max){p=(i.max-d)/(g-d)*(p-f)+f;g=i.max}f!=m&&h.lineTo(e.p2c(m),i.p2c(d));h.lineTo(e.p2c(f),i.p2c(d));h.lineTo(e.p2c(p),i.p2c(g));if(p!=v){h.lineTo(e.p2c(p),i.p2c(g));h.lineTo(e.p2c(v),i.p2c(g))}}}}}(t.datapoints,t.xaxis,t.yaxis)}i>0&&e(t.datapoints,0,0,t.xaxis,t.yaxis);h.restore()}(t);t.bars.show&&function(t){h.save();h.translate(g.left,g.top);h.lineWidth=t.bars.lineWidth;h.strokeStyle=t.color;var e;switch(t.bars.align){case"left":e=0;break;case"right":e=-t.bars.barWidth;break;default:e=-t.bars.barWidth/2}var i=t.bars.fill?function(e,i){return N(t.bars,t.color,e,i)}:null;!function(e,i,n,o,r,a){for(var l=e.points,s=e.pointsize,c=0;c<l.length;c+=s)null!=l[c]&&_(l[c],l[c+1],l[c+2],i,n,o,r,a,h,t.bars.horizontal,t.bars.lineWidth)}(t.datapoints,e,e+t.bars.barWidth,i,t.xaxis,t.yaxis);h.restore()}(t);t.points.show&&function(t){function e(t,e,i,n,o,r,a,l){for(var s=t.points,c=t.pointsize,u=0;u<s.length;u+=c){var f=s[u],d=s[u+1];if(!(null==f||f<r.min||f>r.max||d<a.min||d>a.max)){h.beginPath();f=r.p2c(f);d=a.p2c(d)+n;"circle"==l?h.arc(f,d,e,0,o?Math.PI:2*Math.PI,!1):l(h,f,d,e,o);h.closePath();if(i){h.fillStyle=i;h.fill()}h.stroke()}}}h.save();h.translate(g.left,g.top);var i=t.points.lineWidth,n=t.shadowSize,o=t.points.radius,r=t.points.symbol;0==i&&(i=1e-4);if(i>0&&n>0){var a=n/2;h.lineWidth=a;h.strokeStyle="rgba(0,0,0,0.1)";e(t.datapoints,o,null,a+a/2,!0,t.xaxis,t.yaxis,r);h.strokeStyle="rgba(0,0,0,0.2)";e(t.datapoints,o,null,a/2,!0,t.xaxis,t.yaxis,r)}h.lineWidth=i;h.strokeStyle=t.color;e(t.datapoints,o,N(t.points,t.color),0,!1,t.xaxis,t.yaxis,r);h.restore()}(t)}function _(t,e,i,n,o,r,a,l,s,c,u){var h,f,d,p,g,m,v,x,b;if(c){x=m=v=!0;g=!1;p=e+n;d=e+o;if((f=t)<(h=i)){b=f;f=h;h=b;g=!0;m=!1}}else{g=m=v=!0;x=!1;h=t+n;f=t+o;if((p=e)<(d=i)){b=p;p=d;d=b;x=!0;v=!1}}if(!(f<a.min||h>a.max||p<l.min||d>l.max)){if(h<a.min){h=a.min;g=!1}if(f>a.max){f=a.max;m=!1}if(d<l.min){d=l.min;x=!1}if(p>l.max){p=l.max;v=!1}h=a.p2c(h);d=l.p2c(d);f=a.p2c(f);p=l.p2c(p);if(r){s.fillStyle=r(d,p);s.fillRect(h,p,f-h,d-p)}if(u>0&&(g||m||v||x)){s.beginPath();s.moveTo(h,d);g?s.lineTo(h,p):s.moveTo(h,p);v?s.lineTo(f,p):s.moveTo(f,p);m?s.lineTo(f,d):s.moveTo(f,d);x?s.lineTo(h,d):s.moveTo(h,d);s.stroke()}}}function N(e,i,n,o){var r=e.fill;if(!r)return null;if(e.fillColor)return Q(e.fillColor,n,o,i);var a=t.color.parse(i);a.a="number"==typeof r?r:.4;a.normalize();return a.toString()}var j=[],E=null;function F(t){l.grid.hoverable&&R("plothover",t,function(t){return 0!=t.hoverable})}function D(t){l.grid.hoverable&&R("plothover",t,function(t){return!1})}function O(t){R("plotclick",t,function(t){return 0!=t.clickable})}function R(t,i,n){var o=u.offset(),r=i.pageX-o.left-g.left,s=i.pageY-o.top-g.top,c=C({left:r,top:s});c.pageX=i.pageX;c.pageY=i.pageY;var h=function(t,e,i){var n,o,r,s=l.grid.mouseActiveRadius,c=s*s+1,u=null;for(n=a.length-1;n>=0;--n)if(i(a[n])){var h=a[n],f=h.xaxis,d=h.yaxis,p=h.datapoints.points,g=f.c2p(t),m=d.c2p(e),v=s/f.scale,x=s/d.scale;r=h.datapoints.pointsize;f.options.inverseTransform&&(v=Number.MAX_VALUE);d.options.inverseTransform&&(x=Number.MAX_VALUE);if(h.lines.show||h.points.show)for(o=0;o<p.length;o+=r){var b=p[o],y=p[o+1];if(null!=b&&!(b-g>v||b-g<-v||y-m>x||y-m<-x)){var w=Math.abs(f.p2c(b)-t),k=Math.abs(d.p2c(y)-e),S=w*w+k*k;if(S<c){c=S;u=[n,o/r]}}}if(h.bars.show&&!u){var C,M;switch(h.bars.align){case"left":C=0;break;case"right":C=-h.bars.barWidth;break;default:C=-h.bars.barWidth/2}M=C+h.bars.barWidth;for(o=0;o<p.length;o+=r){b=p[o],y=p[o+1];var T=p[o+2];null!=b&&(a[n].bars.horizontal?g<=Math.max(T,b)&&g>=Math.min(T,b)&&m>=y+C&&m<=y+M:g>=b+C&&g<=b+M&&m>=Math.min(T,y)&&m<=Math.max(T,y))&&(u=[n,o/r])}}}if(u){n=u[0];o=u[1];r=a[n].datapoints.pointsize;return{datapoint:a[n].datapoints.points.slice(o*r,(o+1)*r),dataIndex:o,series:a[n],seriesIndex:n}}return null}(r,s,n);if(h){h.pageX=parseInt(h.series.xaxis.p2c(h.datapoint[0])+o.left+g.left,10);h.pageY=parseInt(h.series.yaxis.p2c(h.datapoint[1])+o.top+g.top,10)}if(l.grid.autoHighlight){for(var f=0;f<j.length;++f){var d=j[f];d.auto!=t||h&&d.series==h.series&&d.point[0]==h.datapoint[0]&&d.point[1]==h.datapoint[1]||Y(d.series,d.point)}h&&X(h.series,h.datapoint,t)}e.trigger(t,[c,h])}function q(){var t=l.interaction.redrawOverlayInterval;-1!=t?E||(E=setTimeout(H,t)):H()}function H(){E=null;f.save();c.clear();f.translate(g.left,g.top);var t,e;for(t=0;t<j.length;++t)(e=j[t]).series.bars.show?V(e.series,e.point):B(e.series,e.point);f.restore();y(x.drawOverlay,[f])}function X(t,e,i){"number"==typeof t&&(t=a[t]);if("number"==typeof e){var n=t.datapoints.pointsize;e=t.datapoints.points.slice(n*e,n*(e+1))}var o=G(t,e);if(-1==o){j.push({series:t,point:e,auto:i});q()}else i||(j[o].auto=!1)}function Y(t,e){if(null!=t||null!=e){"number"==typeof t&&(t=a[t]);if("number"==typeof e){var i=t.datapoints.pointsize;e=t.datapoints.points.slice(i*e,i*(e+1))}var n=G(t,e);if(-1!=n){j.splice(n,1);q()}}else{j=[];q()}}function G(t,e){for(var i=0;i<j.length;++i){var n=j[i];if(n.series==t&&n.point[0]==e[0]&&n.point[1]==e[1])return i}return-1}function B(e,i){var n=i[0],o=i[1],r=e.xaxis,a=e.yaxis,l="string"==typeof e.highlightColor?e.highlightColor:t.color.parse(e.color).scale("a",.5).toString();if(!(n<r.min||n>r.max||o<a.min||o>a.max)){var s=e.points.radius+e.points.lineWidth/2;f.lineWidth=s;f.strokeStyle=l;var c=1.5*s;n=r.p2c(n);o=a.p2c(o);f.beginPath();"circle"==e.points.symbol?f.arc(n,o,c,0,2*Math.PI,!1):e.points.symbol(f,n,o,c,!1);f.closePath();f.stroke()}}function V(e,i){var n,o="string"==typeof e.highlightColor?e.highlightColor:t.color.parse(e.color).scale("a",.5).toString(),r=o;switch(e.bars.align){case"left":n=0;break;case"right":n=-e.bars.barWidth;break;default:n=-e.bars.barWidth/2}f.lineWidth=e.bars.lineWidth;f.strokeStyle=o;_(i[0],i[1],i[2]||0,n,n+e.bars.barWidth,function(){return r},e.xaxis,e.yaxis,f,e.bars.horizontal,e.bars.lineWidth)}function Q(e,i,n,o){if("string"==typeof e)return e;for(var r=h.createLinearGradient(0,n,0,i),a=0,l=e.colors.length;a<l;++a){var s=e.colors[a];if("string"!=typeof s){var c=t.color.parse(o);null!=s.brightness&&(c=c.scale("rgb",s.brightness));null!=s.opacity&&(c.a*=s.opacity);s=c.toString()}r.addColorStop(a/(l-1),s)}return r}}t.plot=function(e,i,o){return new n(t(e),i,o,t.plot.plugins)};t.plot.version="0.8.3";t.plot.plugins=[];t.fn.plot=function(e,i){return this.each(function(){t.plot(this,e,i)})}}(jQuery);cv.util.ScriptLoader.markAsLoaded("plugins/diagram/dep/flot/jquery.flot.min.js")}if(!cv.util.ScriptLoader.isMarkedAsLoaded("plugins/diagram/dep/flot/jquery.flot.canvas.min.js")){!function(t){var e,i,n,o=Object.prototype.hasOwnProperty;t.plot.plugins.push({init:function(r,a){var l=a.Canvas;null==e&&(i=l.prototype.getTextInfo,n=l.prototype.addText,e=l.prototype.render);l.prototype.render=function(){if(!r.getOptions().canvas)return e.call(this);var t=this.context,i=this._textCache;t.save();t.textBaseline="middle";for(var n in i)if(o.call(i,n)){var a=i[n];for(var l in a)if(o.call(a,l)){var s=a[l],c=!0;for(var u in s)if(o.call(s,u)){var h=s[u],f=h.positions,d=h.lines;if(c){t.fillStyle=h.font.color;t.font=h.font.definition;c=!1}for(var p,g=0;p=f[g];g++)if(p.active)for(var m,v=0;m=p.lines[v];v++)t.fillText(d[v].text,m[0],m[1]);else f.splice(g--,1);0==f.length&&delete s[u]}}}t.restore()};l.prototype.getTextInfo=function(e,n,o,a,l){if(!r.getOptions().canvas)return i.call(this,e,n,o,a,l);var s,c,u,h;n=""+n;s="object"==typeof o?o.style+" "+o.variant+" "+o.weight+" "+o.size+"px "+o.family:o;null==(c=this._textCache[e])&&(c=this._textCache[e]={});null==(u=c[s])&&(u=c[s]={});if(null==(h=u[n])){var f=this.context;if("object"!=typeof o){var d=t("<div>&nbsp;</div>").css("position","absolute").addClass("string"==typeof o?o:null).appendTo(this.getTextLayer(e));(o={lineHeight:d.height(),style:d.css("font-style"),variant:d.css("font-variant"),weight:d.css("font-weight"),family:d.css("font-family"),color:d.css("color")}).size=d.css("line-height",1).height();d.remove()}s=o.style+" "+o.variant+" "+o.weight+" "+o.size+"px "+o.family;h=u[n]={width:0,height:0,positions:[],lines:[],font:{definition:s,color:o.color}};f.save();f.font=s;for(var p=(n+"").replace(/<br ?\/?>|\r\n|\r/g,"\n").split("\n"),g=0;g<p.length;++g){var m=p[g],v=f.measureText(m);h.width=Math.max(v.width,h.width);h.height+=o.lineHeight;h.lines.push({text:m,width:v.width,height:o.lineHeight})}f.restore()}return h};l.prototype.addText=function(t,e,i,o,a,l,s,c,u){if(!r.getOptions().canvas)return n.call(this,t,e,i,o,a,l,s,c,u);var h,f=this.getTextInfo(t,o,a,l,s),d=f.positions,p=f.lines;i+=f.height/p.length/2;i="middle"==u?Math.round(i-f.height/2):"bottom"==u?Math.round(i-f.height):Math.round(i);window.opera&&window.opera.version().split(".")[0]<12&&(i-=2);for(var g,m=0;g=d[m];m++)if(g.x==e&&g.y==i){g.active=!0;return}g={active:!0,lines:[],x:e,y:i};d.push(g);for(m=0;h=p[m];m++){"center"==c?g.lines.push([Math.round(e-h.width/2),i]):"right"==c?g.lines.push([Math.round(e-h.width),i]):g.lines.push([Math.round(e),i]);i+=h.height}}},options:{canvas:!0},name:"canvas",version:"1.0"})}(jQuery);cv.util.ScriptLoader.markAsLoaded("plugins/diagram/dep/flot/jquery.flot.canvas.min.js")}if(!cv.util.ScriptLoader.isMarkedAsLoaded("plugins/diagram/dep/flot/jquery.flot.resize.min.js")){!function(t,e,i){"$:nomunge";var n,o=[],r=t.resize=t.extend(t.resize,{}),a=!1,l="setTimeout",s="resize",c=s+"-special-event",u="pendingDelay",h="activeDelay",f="throttleWindow";r[u]=200;r[h]=20;r[f]=!0;t.event.special[s]={setup:function(){if(!r[f]&&this[l])return!1;var e=t(this);o.push(this);e.data(c,{w:e.width(),h:e.height()});if(1===o.length){n=i;d()}},teardown:function(){if(!r[f]&&this[l])return!1;for(var e=t(this),i=o.length-1;i>=0;i--)if(o[i]==this){o.splice(i,1);break}e.removeData(c);if(!o.length){a?cancelAnimationFrame(n):clearTimeout(n);n=null}},add:function(e){if(!r[f]&&this[l])return!1;var n;function o(e,o,r){var a=t(this),l=a.data(c)||{};l.w=o!==i?o:a.width();l.h=r!==i?r:a.height();n.apply(this,arguments)}if(t.isFunction(e)){n=e;return o}n=e.handler;e.handler=o}};function d(i){!0===a&&(a=i||1);for(var l=o.length-1;l>=0;l--){var h=t(o[l]);if(h[0]==e||h.is(":visible")){var f=h.width(),p=h.height(),g=h.data(c);if(g&&(f!==g.w||p!==g.h)){h.trigger(s,[g.w=f,g.h=p]);a=i||!0}}else{(g=h.data(c)).w=0;g.h=0}}if(null!==n)if(a&&(null==i||i-a<1e3))n=e.requestAnimationFrame(d);else{n=setTimeout(d,r[u]);a=!1}}e.requestAnimationFrame||(e.requestAnimationFrame=e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.oRequestAnimationFrame||e.msRequestAnimationFrame||function(t,i){return e.setTimeout(function(){t((new Date).getTime())},r[h])});e.cancelAnimationFrame||(e.cancelAnimationFrame=e.webkitCancelRequestAnimationFrame||e.mozCancelRequestAnimationFrame||e.oCancelRequestAnimationFrame||e.msCancelRequestAnimationFrame||clearTimeout)}(jQuery,this);!function(t){jQuery.plot.plugins.push({init:function(t){function e(){var e=t.getPlaceholder();if(0!=e.width()&&0!=e.height()){t.resize();t.setupGrid();t.draw()}}t.hooks.bindEvents.push(function(t,i){t.getPlaceholder().resize(e)});t.hooks.shutdown.push(function(t,i){t.getPlaceholder().unbind("resize",e)})},options:{},name:"resize",version:"1.0"})}();cv.util.ScriptLoader.markAsLoaded("plugins/diagram/dep/flot/jquery.flot.resize.min.js")}if(!cv.util.ScriptLoader.isMarkedAsLoaded("plugins/diagram/dep/flot/jquery.flot.navigate.min.js")){!function(t){function e(o){var c,u=this,h=o.data||{};if(h.elem)u=o.dragTarget=h.elem,o.dragProxy=s.proxy||u,o.cursorOffsetX=h.pageX-h.left,o.cursorOffsetY=h.pageY-h.top,o.offsetX=o.pageX-o.cursorOffsetX,o.offsetY=o.pageY-o.cursorOffsetY;else if(s.dragging||h.which>0&&o.which!=h.which||t(o.target).is(h.not))return;switch(o.type){case"mousedown":return t.extend(h,t(u).offset(),{elem:u,target:o.target,pageX:o.pageX,pageY:o.pageY}),a.add(document,"mousemove mouseup",e,h),r(u,!1),s.dragging=null,!1;case!s.dragging&&"mousemove":if(n(o.pageX-h.pageX)+n(o.pageY-h.pageY)<h.distance)break;o.target=h.target,!1!==(c=i(o,"dragstart",u))&&(s.dragging=u,s.proxy=o.dragProxy=t(c||u)[0]);case"mousemove":if(s.dragging){if(c=i(o,"drag",u),l.drop&&(l.drop.allowed=!1!==c,l.drop.handler(o)),!1!==c)break;o.type="mouseup"}case"mouseup":a.remove(document,"mousemove mouseup",e),s.dragging&&(l.drop&&l.drop.handler(o),i(o,"dragend",u)),r(u,!0),s.dragging=s.proxy=h.elem=!1}return!0}function i(e,i,n){e.type=i;var o=t.event.dispatch.call(n,e);return!1!==o&&(o||e.result)}function n(t){return Math.pow(t,2)}function o(){return!1===s.dragging}function r(t,e){t&&(t.unselectable=e?"off":"on",t.onselectstart=function(){return e},t.style&&(t.style.MozUserSelect=e?"":"none"))}t.fn.drag=function(t,e,i){return e&&this.bind("dragstart",t),i&&this.bind("dragend",i),t?this.bind("drag",e||t):this.trigger("drag")};var a=t.event,l=a.special,s=l.drag={not:":input",distance:0,which:1,dragging:!1,setup:function(i){(i=t.extend({distance:s.distance,which:s.which,not:s.not},i||{})).distance=n(i.distance),a.add(this,"mousedown",e,i),this.attachEvent&&this.attachEvent("ondragstart",o)},teardown:function(){a.remove(this,"mousedown",e),this===s.dragging&&(s.dragging=s.proxy=!1),r(this,!0),this.detachEvent&&this.detachEvent("ondragstart",o)}};l.dragstart=l.dragend={setup:function(){},teardown:function(){}}}(jQuery);!function(t){function e(e){var i=e||window.event,n=[].slice.call(arguments,1),o=0,r=0,a=0;(e=t.event.fix(i)).type="mousewheel";i.wheelDelta&&(o=i.wheelDelta/120);i.detail&&(o=-i.detail/3);a=o;void 0!==i.axis&&i.axis===i.HORIZONTAL_AXIS&&(a=0,r=-1*o);void 0!==i.wheelDeltaY&&(a=i.wheelDeltaY/120);void 0!==i.wheelDeltaX&&(r=-1*i.wheelDeltaX/120);n.unshift(e,o,r,a);return(t.event.dispatch||t.event.handle).apply(this,n)}var i=["DOMMouseScroll","mousewheel"];if(t.event.fixHooks)for(var n=i.length;n;)t.event.fixHooks[i[--n]]=t.event.mouseHooks;t.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var t=i.length;t;)this.addEventListener(i[--t],e,!1);else this.onmousewheel=e},teardown:function(){if(this.removeEventListener)for(var t=i.length;t;)this.removeEventListener(i[--t],e,!1);else this.onmousewheel=null}};t.fn.extend({mousewheel:function(t){return t?this.bind("mousewheel",t):this.trigger("mousewheel")},unmousewheel:function(t){return this.unbind("mousewheel",t)}})}(jQuery);!function(t){t.plot.plugins.push({init:function(e){function i(t,i){var n=e.offset();n.left=t.pageX-n.left;n.top=t.pageY-n.top;i?e.zoomOut({center:n}):e.zoom({center:n})}function n(t,e){t.preventDefault();i(t,e<0);return!1}var o="default",r=0,a=0,l=null;function s(t){if(1!=t.which)return!1;var i=e.getPlaceholder().css("cursor");i&&(o=i);e.getPlaceholder().css("cursor",e.getOptions().pan.cursor);r=t.pageX;a=t.pageY}function c(t){var i=e.getOptions().pan.frameRate;!l&&i&&(l=setTimeout(function(){e.pan({left:r-t.pageX,top:a-t.pageY});r=t.pageX;a=t.pageY;l=null},1/i*1e3))}function u(t){if(l){clearTimeout(l);l=null}e.getPlaceholder().css("cursor",o);e.pan({left:r-t.pageX,top:a-t.pageY})}e.zoomOut=function(t){t||(t={});t.amount||(t.amount=e.getOptions().zoom.amount);t.amount=1/t.amount;e.zoom(t)};e.zoom=function(i){i||(i={});var n=i.center,o=i.amount||e.getOptions().zoom.amount,r=e.width(),a=e.height();n||(n={left:r/2,top:a/2});var l=n.left/r,s=n.top/a,c={x:{min:n.left-l*r/o,max:n.left+(1-l)*r/o},y:{min:n.top-s*a/o,max:n.top+(1-s)*a/o}};t.each(e.getAxes(),function(t,e){var i=e.options,n=c[e.direction].min,r=c[e.direction].max,a=i.zoomRange,l=i.panRange;if(!1!==a){if((n=e.c2p(n))>(r=e.c2p(r))){var s=n;n=r;r=s}if(l){null!=l[0]&&n<l[0]&&(n=l[0]);null!=l[1]&&r>l[1]&&(r=l[1])}var u=r-n;if(!a||!(null!=a[0]&&u<a[0]&&o>1||null!=a[1]&&u>a[1]&&o<1)){i.min=n;i.max=r}}});e.setupGrid();e.draw();i.preventEvent||e.getPlaceholder().trigger("plotzoom",[e,i])};e.pan=function(i){var n={x:+i.left,y:+i.top};isNaN(n.x)&&(n.x=0);isNaN(n.y)&&(n.y=0);t.each(e.getAxes(),function(t,e){var i,o,r=e.options,a=n[e.direction];i=e.c2p(e.p2c(e.min)+a),o=e.c2p(e.p2c(e.max)+a);var l=r.panRange;if(!1!==l){if(l){if(null!=l[0]&&l[0]>i){i+=a=l[0]-i;o+=a}if(null!=l[1]&&l[1]<o){i+=a=l[1]-o;o+=a}}r.min=i;r.max=o}});e.setupGrid();e.draw();i.preventEvent||e.getPlaceholder().trigger("plotpan",[e,i])};e.hooks.bindEvents.push(function(t,e){var o=t.getOptions();if(o.zoom.interactive){e[o.zoom.trigger](i);e.mousewheel(n)}if(o.pan.interactive){e.bind("dragstart",{distance:10},s);e.bind("drag",c);e.bind("dragend",u)}});e.hooks.shutdown.push(function(t,e){e.unbind(t.getOptions().zoom.trigger,i);e.unbind("mousewheel",n);e.unbind("dragstart",s);e.unbind("drag",c);e.unbind("dragend",u);l&&clearTimeout(l)})},options:{xaxis:{zoomRange:null,panRange:null},zoom:{interactive:!1,trigger:"dblclick",amount:1.5},pan:{interactive:!1,cursor:"move",frameRate:20}},name:"navigate",version:"1.3"})}(jQuery);cv.util.ScriptLoader.markAsLoaded("plugins/diagram/dep/flot/jquery.flot.navigate.min.js")}!function(){var t={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"cv.ui.structure.AbstractWidget":{construct:!0,require:!0},"cv.ui.common.Update":{require:!0},"cv.parser.WidgetParser":{defer:"runtime"},"cv.ui.layout.ResizeHandler":{},"cv.Transform":{},"cv.util.ScriptLoader":{defer:"runtime"},"cv.ui.structure.WidgetFactory":{defer:"runtime"}}};qx.Bootstrap.executePendingDefers(t);qx.Class.define("cv.plugins.PowerSpectrum",{extend:cv.ui.structure.AbstractWidget,include:[cv.ui.common.Update],construct:function(t){t.name1||(t.name1=!0===t.singlePhase?"L":"L1");t.name2||(t.name2="L2");t.name3||(t.name3="L3");cv.ui.structure.AbstractWidget.constructor.call(this,t);this.setSpectrum(this.isSinglePhase()?[this.setupSpectrum()]:[this.setupSpectrum(-.26),this.setupSpectrum(0),this.setupSpectrum(.26)]);this.setCurve(this.isSinglePhase()?[this.setupCurve()]:[this.setupCurve(),this.setupCurve(),this.setupCurve()])},statics:{CURRENT:0,VOLTAGE:1,limitEN50160_1999:[[2,.02],[3,.05],[4,.01],[5,.06],[6,.005],[7,.05],[8,.005],[9,.015],[10,.005],[11,.035],[12,.005],[13,.03],[14,.005],[15,.005],[16,.005],[17,.02],[18,.005],[19,.015],[20,.005],[21,.005],[22,.005],[23,.015],[24,.005],[25,.015]],limitEN61000_3_2:[[2,1.62],[3,3.45],[4,.65],[5,1.71],[6,.45],[7,1.16],[8,.35],[9,.6],[10,.28],[11,.5],[12,.233],[13,.32],[14,.2],[15,.23],[16,.175],[17,.203],[18,.155],[19,.182],[20,.14],[21,.164],[22,.127],[23,.15],[24,.117],[25,.139]],referenceSin:[[],[],[]],fixLimits:function(t,e,i){i[e][0]-=.5},lastShifted:function(t){var e=t[t.length-1];return[e[0]+1,e[1]]},parse:function(t,e,i,n){var o=cv.parser.WidgetParser.parseElement(this,t,e,i,n,this.getAttributeToPropertyMappings());cv.parser.WidgetParser.parseFormat(t,e);cv.parser.WidgetParser.parseAddress(t,e,this.makeAddressListFn);return o},getAttributeToPropertyMappings:function(){return{type:{target:"displayType",transform:function(t){return"current"===t?cv.plugins.PowerSpectrum.CURRENT:cv.plugins.PowerSpectrum.VOLTAGE}},singlephase:{target:"singlePhase",transform:function(t){return"true"===t}},limitname:{target:"limitName",default:"limit"},name1:{},name2:{},name3:{},spectrumonly:{target:"showCurve",transform:function(t){return"true"!==t}},showlegend:{target:"showLegend",transform:function(t){return"true"===t}},limitcolor:{target:"limitColor",default:"#edc240"},color1:{default:"#afd8f8"},color2:{default:"#cb4b4b"},color3:{default:"#4da74d"}}},makeAddressListFn:function(t,e,i,n){n||(n="spectrum");return[!0,n]}},properties:{displayType:{check:[0,1],init:1},singlePhase:{check:"Boolean",init:!1},spectrum:{check:"Array",init:[]},limitName:{check:"String",init:"limit"},name1:{check:"String",init:"L1"},name2:{check:"String",init:"L2"},name3:{check:"String",init:"L3"},curve:{check:"Array",init:[]},showCurve:{check:"Boolean",init:!1},showLegend:{check:"Boolean",init:!1},current:{check:"Array",init:[]},limitColor:{check:"Color",init:"#edc240"},color1:{check:"Color",init:"#afd8f8"},color2:{check:"Color",init:"#cb4b4b"},color3:{check:"Color",init:"#4da74d"}},members:{__plot:null,__plotCurve:null,_getInnerDomString:function(){var t='<div class="actor clickable">';this.isShowCurve()&&(t+='<div class="diagram_inline curve">loading...</div>');return t+='<div class="diagram_inline spectrum">loading...</div></div>'},_onDomReady:function(){cv.plugins.PowerSpectrum.prototype._onDomReady.base.call(this);var t=[this.getLimitColor(),this.getColor1(),this.getColor2(),this.getColor3()],e=this.isShowCurve()&&$("#"+this.getPath()+" .actor div.curve").empty(),i=this.isShowCurve()&&{colors:t,legend:{show:this.isShowLegend()},xaxis:{show:!1},yaxis:{show:!1}},n=$("#"+this.getPath()+" .actor div.spectrum").empty(),o={colors:t,series:{bars:{show:!0,fill:1,fillColor:null,lineWidth:0}},bars:{align:"center",barWidth:this.isSinglePhase()?.75:.25},legend:{show:this.isShowLegend()},xaxis:{show:!1},yaxis:{show:!1}},r=function(){this.__plotCurve=this.isShowCurve()&&$.plot(e,this.createDatasetCurve(),i);this.__plot=$.plot(n,this.createDatasetSpectrum(),o)}.bind(this);cv.ui.layout.ResizeHandler.states.isPageSizeInvalid()?cv.ui.layout.ResizeHandler.states.addListenerOnce("changePageSizeInvalid",r):r()},_update:function(t,e){if(void 0!==t){var i,n=this.getAddress()[t];if("I"===n[2][0]){i=this.isSinglePhase()?1:+(n[2][1]||1);var o=cv.Transform.encode(n[0],e);this.getCurrent()[i-1]=o/1e3}else if("spectrum"===n[2].substr(0,8)&&28===e.length){i=this.isSinglePhase()?1:+(n[2][8]||1);for(var r=parseInt(e.substr(0,2),16),a=this.getCurrent()[i-1]||1,l=[],s=0;s<13;s++)if(!(r+s<2)){l[s]=Math.pow(10,(parseInt(e.substr(2*s+2,2),16)-253)/80);this.getSpectrum()[i-1][r+s-2][1]=l[s]*a}this.__plot.setData(this.createDatasetSpectrum());this.__plot.draw();if(this.__plotCurve){this.updateCurve(this.getSpectrum(),this.getCurve(),i-1);this.__plotCurve.setData(this.createDatasetCurve());this.__plotCurve.draw()}}}},setupCurve:function(){return[[0,0],[.4,0],[.8,0],[1.2,0],[1.6,0],[2,0],[2.4,0],[2.8,0],[3.2,0],[3.6,0],[4,0],[4.4,0],[4.8,0],[5.2,0],[5.6,0],[6,0],[6.4,0],[6.8,0],[7.2,0],[7.6,0],[8,0],[8.4,0],[8.8,0],[9.2,0],[9.6,0],[10,0],[10.4,0],[10.8,0],[11.2,0],[11.6,0],[12,0],[12.4,0],[12.8,0],[13.2,0],[13.6,0],[14,0],[14.4,0],[14.8,0],[15.2,0],[15.6,0],[16,0],[16.4,0],[16.8,0],[17.2,0],[17.6,0],[18,0],[18.4,0],[18.8,0],[19.2,0],[19.6,0]]},setupSpectrum:function(t){var e=[];void 0===t&&(t=0);for(var i=2;i<52;i++)e.push([i+t,0]);return e},updateCurve:function(t,e,i){for(var n=t[i],o=e[i],r=(2*i/3-.5)*Math.PI,a=0;a<50;a++){for(var l=a*Math.PI/25,s=Math.cos(l+r),c=2;c<50;c++)s+=Math.cos((l+r)*c)*n[c][1];o[a][1]=s}},createDatasetCurve:function(){return this.isSinglePhase()?[{label:null,data:cv.plugins.PowerSpectrum.referenceSin[0],color:13},{label:"L",data:this.getCurve()[0],color:1}]:[{label:null,data:cv.plugins.PowerSpectrum.referenceSin[0],color:13},{label:null,data:cv.plugins.PowerSpectrum.referenceSin[1],color:14},{label:null,data:cv.plugins.PowerSpectrum.referenceSin[2],color:15},{label:"L1",data:this.getCurve()[0],color:1},{label:"L2",data:this.getCurve()[1],color:2},{label:"L3",data:this.getCurve()[2],color:3}]},createDatasetSpectrum:function(){return this.isSinglePhase()?[{label:this.getLimitName(),data:this.getDisplayType()===cv.plugins.PowerSpectrum.VOLTAGE?cv.plugins.PowerSpectrum.limitEN50160_1999:cv.plugins.PowerSpectrum.limitEN61000_3_2,bars:{show:!1},lines:{steps:!0},color:0},{label:this.getName1(),data:this.getSpectrum()[0],color:1}]:[{label:this.getLimitName(),data:this.getDisplayType()===cv.plugins.PowerSpectrum.VOLTAGE?cv.plugins.PowerSpectrum.limitEN50160_1999:cv.plugins.PowerSpectrum.limitEN61000_3_2,bars:{show:!1},lines:{steps:!0},color:0},{label:this.getName1(),data:this.getSpectrum()[0],color:1},{label:this.getName2(),data:this.getSpectrum()[1],color:2},{label:this.getName3(),data:this.getSpectrum()[2],color:3}]}},defer:function(t){cv.util.ScriptLoader.getInstance().addScripts(["plugins/diagram/dep/flot/jquery.flot.min.js","plugins/diagram/dep/flot/jquery.flot.canvas.min.js","plugins/diagram/dep/flot/jquery.flot.resize.min.js","plugins/diagram/dep/flot/jquery.flot.navigate.min.js"]);cv.parser.WidgetParser.addHandler("powerspectrum",cv.plugins.PowerSpectrum);cv.ui.structure.WidgetFactory.registerClass("powerspectrum",t);t.limitEN50160_1999.forEach(t.fixLimits);t.limitEN50160_1999.push(t.lastShifted(t.limitEN50160_1999));t.limitEN61000_3_2.forEach(t.fixLimits);t.limitEN61000_3_2.push(t.lastShifted(t.limitEN61000_3_2));for(var e=0;e<50;e++){var i=20*e/50;t.referenceSin[0].push([i,Math.sin(e*Math.PI/25)]);t.referenceSin[1].push([i,Math.sin((e+16.666666666666668)*Math.PI/25)]);t.referenceSin[2].push([i,Math.sin((e+33.333333333333336)*Math.PI/25)])}}});cv.plugins.PowerSpectrum.$$dbClassInfo=t}();
//# sourceMappingURL=part-10.js.map