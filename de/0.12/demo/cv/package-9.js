!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"cv.ui.structure.AbstractWidget":{construct:!0,require:!0},"cv.ui.common.Refresh":{require:!0},"cv.TemplateEngine":{construct:!0},"qx.event.message.Bus":{construct:!0},"cv.parser.WidgetParser":{defer:"runtime"},"qx.event.Timer":{},"cv.util.ScriptLoader":{defer:"runtime"},"cv.ui.structure.WidgetFactory":{defer:"runtime"}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("cv.plugins.OpenweatherMap",{extend:cv.ui.structure.AbstractWidget,include:cv.ui.common.Refresh,construct:function(e){e.refresh*=60;cv.ui.structure.AbstractWidget.constructor.call(this,e);this.__P_11_0={};Object.keys(e).forEach(function(t){e[t]&&(this.__P_11_0[t]=e[t])},this);0===e.refresh&&(cv.TemplateEngine.getInstance().isDomFinished()?this._refreshAction():qx.event.message.Bus.subscribe("setup.dom.finished",function(){this._refreshAction()},this))},statics:{parse:function(e,t,s,r){var i=cv.parser.WidgetParser.parseElement(this,e,t,s,r,this.getAttributeToPropertyMappings());cv.parser.WidgetParser.parseRefresh(e,t);return i},getAttributeToPropertyMappings:function(){return{class:{target:"cssClass"},lang:{},owID:{},q:{},lat:{},lon:{},units:{},type:{},forecast24hItems:{},forecastDailyItems:{},detailItems:{},showSunrise:{},appid:{},description:{}}}},properties:{cssClass:{check:"String",nullable:!0},lang:{check:"String",nullable:!0},owID:{check:"String",nullable:!0},q:{check:"String",nullable:!0},lat:{check:"String",nullable:!0},lon:{check:"String",nullable:!0},units:{check:"String",nullable:!0},type:{check:"String",nullable:!0},forecast24hItems:{check:"String",nullable:!0},forecastDailyhItems:{check:"String",nullable:!0},showSunrise:{check:"String",nullable:!0},detailItems:{check:"String",nullable:!0},appid:{check:"String",nullable:!0},description:{check:"String",nullable:!0}},members:{__P_11_0:null,_getInnerDomString:function(){var e="widget clearfix text openweathermap";this.getCssClass()&&(e+=" "+this.getCssClass());return'<div class="'+e+'"><div id="owm_'+this.getPath()+'" class="openweathermap_value"></div></div>'},_setupRefreshAction:function(){this._timer=new qx.event.Timer(this.getRefresh());this._timer.addListener("interval",this._refreshAction,this);this._timer.start();this._refreshAction()},_refreshAction:function(){$(this.getDomElement()).openweathermap(this.__P_11_0)}},defer:function(e){var t=cv.util.ScriptLoader.getInstance();t.addStyles("plugins/openweathermap/owm_basic_style.css");t.addStyles("plugins/openweathermap/owm_weathericon.css");t.addScripts("plugins/openweathermap/owm_core.js");cv.parser.WidgetParser.addHandler("openweathermap",cv.plugins.OpenweatherMap);cv.ui.structure.WidgetFactory.registerClass("openweathermap",e)}});cv.plugins.OpenweatherMap.$$dbClassInfo=e}();qx.$$packageData[9]={locales:{},resources:{},translations:{}};
//# sourceMappingURL=package-9.js.map