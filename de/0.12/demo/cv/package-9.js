!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"cv.ui.structure.AbstractWidget":{require:!0},"cv.ui.common.HasChildren":{require:!0},"cv.parser.WidgetParser":{defer:"runtime"},"cv.data.Model":{},"cv.Config":{},"qx.event.message.Bus":{},"qx.bom.element.Animation":{},"qx.util.Animation":{},"qx.event.Registration":{},"cv.util.ScriptLoader":{defer:"runtime"},"cv.ui.structure.WidgetFactory":{defer:"runtime"}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("cv.plugins.MobileMenu",{extend:cv.ui.structure.AbstractWidget,include:[cv.ui.common.HasChildren],statics:{parse:function(e,t,i,n){var r=cv.parser.WidgetParser.parseElement(this,e,t,i,n);cv.parser.WidgetParser.parseChildren(e,t,i,n);return r},getWidgetElements:function(e,t){cv.data.Model.getInstance().setWidgetData(t+"_0",{containerClass:"actor"})}},members:{__P_11_0:null,__P_11_1:null,getDomString:function(){if(window.innerWidth<=cv.Config.maxMobileScreenWidth){var e=this.__P_11_0=document.querySelector("#navbarLeft");e.classList.contains("mobilemenu")||e.classList.add("mobilemenu");e.style.display="none";qx.event.message.Bus.subscribe("path.pageChanged",function(){var t=e.querySelector(".navbar");qx.bom.element.Animation.animate(t,qx.util.Animation.SLIDE_LEFT_OUT).addListenerOnce("end",function(){e.style.display="none"},this)});return'<div class="clearfix mobilemenuTrigger">'+this.getChildrenDomString()+"</div>"}return'<div class="clearfix mobilemenuTrigger" style="display: none"></div>'},_onDomReady:function(){this.isTouchDevice()&&this.touchScroll("navbarLeft")},_action:function(){if(window.innerWidth<=cv.Config.maxMobileScreenWidth&&this.isTouchDevice()){this.__P_11_0.style.display="block";var e=this.__P_11_0.querySelector(".navbar.navbarActive");qx.bom.element.Animation.animate(e,qx.util.Animation.SLIDE_LEFT_IN)}},touchScroll:function(e){var t=0,i=document.querySelector("#"+e);qx.event.Registration.addListener(i,"touchstart",function(e){t=this.scrollTop+e.touches[0].pageY;e.preventDefault()},!1);qx.event.Registration.addListener(i,"touchmove",function(e){this.scrollTop=t-e.touches[0].pageY;e.preventDefault()},!1)},isTouchDevice:function(){if(null===this.__P_11_1)try{document.createEvent("TouchEvent");this.__P_11_1=!0}catch(e){this.__P_11_1=!1}return this.__P_11_1}},defer:function(e){cv.util.ScriptLoader.getInstance().addStyles("plugins/mobilemenu/mobilemenu.css");cv.parser.WidgetParser.addHandler("mobilemenu",e);cv.ui.structure.WidgetFactory.registerClass("mobilemenu",e)}});cv.plugins.MobileMenu.$$dbClassInfo=e}();qx.$$packageData[9]={locales:{},resources:{},translations:{}};
//# sourceMappingURL=package-9.js.map