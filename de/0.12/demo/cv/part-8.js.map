{"version":3,"sources":["../../../source/class/cv/plugins/Link.js"],"names":["qx","Bootstrap","executePendingDefers","$$dbClassInfo","Class","define","extend","cv","ui","structure","AbstractWidget","properties","cssClass","check","init","text","href","newWindow","statics","parse","xml","path","flavour","pageType","parser","WidgetParser","parseElement","this","getAttributeToPropertyMappings","class","target","default","transform","value","members","_getInnerDomString","classes","getCssClass","getHref","attributes","isNewWindow","getText","defer","addHandler","plugins","Link","WidgetFactory","registerClass"],"mappings":"mNAACA,GAAEC,UAAUC,qBAAqBC,GA0BjCH,GAAEI,MAAMC,OAAO,mBACdC,OAAQC,GAAGC,GAAGC,UAAUC,eAOxBC,YACEC,UACEC,MAAO,SACPC,KAAM,IAERC,MACEF,MAAO,SACPC,KAAM,IAERE,MACEH,MAAO,SACPC,KAAM,IAERG,WACEJ,MAAO,UACPC,MAAM,IASVI,SAWEC,MAAO,SAAUC,EAAKC,EAAMC,EAASC,GACnC,OAAOhB,GAAGiB,OAAOC,aAAaC,aAAaC,KAAMP,EAAKC,EAAMC,EAASC,EAAUI,KAAKC,mCAGtFA,+BAAgC,WAC9B,OACEC,OAAUC,OAAQ,WAAYC,QAAW,IACzChB,MAASgB,QAAW,IACpBf,MAASe,QAAW,IACpBd,WAAcc,SAAW,EAAOC,UAAW,SAASC,GAChD,MAAiB,SAAVA,OAWjBC,SACEC,mBAAoB,WAClB,IAAIC,EAAU,OACVT,KAAKU,gBACPD,GAAW,IAAIT,KAAKU,eAEtB,IAAIrB,EAAOW,KAAKW,UAAY,UAAUX,KAAKW,UAAU,IAAM,GACvDC,EAAa,GACbZ,KAAKa,gBACPD,GAAc,oBAEhB,MAAO,aAAaH,EAAQ,IAAMpB,EAAOuB,EAAa,IAAMZ,KAAKc,UAAY,SAIjFC,MAAO,SAASxB,GACdX,GAAGiB,OAAOC,aAAakB,WAAW,OAAQpC,GAAGqC,QAAQC,MACrDtC,GAAGC,GAAGC,UAAUqC,cAAcC,cAAc,OAAQ7B,MA3GvDX,GAAEqC,QAAQC,KAAK1C,cAAgBA","sourcesContent":["/* Link.js \n * \n * copyright (c) 2010-2017, Christian Mayer and the CometVisu contributers.\n * \n * This program is free software; you can redistribute it and/or modify it\n * under the terms of the GNU General Public License as published by the Free\n * Software Foundation; either version 3 of the License, or (at your option)\n * any later version.\n *\n * This program is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for\n * more details.\n *\n * You should have received a copy of the GNU General Public License along\n * with this program; if not, write to the Free Software Foundation, Inc.,\n * 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA\n */\n\n\n/**\n * This plugins integrates a simple link.\n *\n * @author Stefan Borchert [stefan@borchert.cc]\n * @since 2015\n */\nqx.Class.define('cv.plugins.Link', {\n  extend: cv.ui.structure.AbstractWidget,\n\n  /*\n  ******************************************************\n    PROPERTIES\n  ******************************************************\n  */\n  properties: {\n    cssClass: {\n      check: \"String\",\n      init: ''\n    },\n    text: {\n      check: \"String\",\n      init: ''\n    },\n    href: {\n      check: \"String\",\n      init: ''\n    },\n    newWindow: {\n      check: \"Boolean\",\n      init: false\n    }\n  },\n\n  /*\n  ******************************************************\n    STATICS\n  ******************************************************\n  */\n  statics: {\n    /**\n     * Parses the widgets XML configuration and extracts the given information\n     * to a simple key/value map.\n     *\n     * @param xml {Element} XML-Element\n     * @param path {String} internal path of the widget\n     * @param flavour {String} Flavour of the widget\n     * @param pageType {String} Page type (2d, 3d, ...)\n     * @return {Map} extracted data from config element as key/value map\n     */\n    parse: function (xml, path, flavour, pageType) {\n      return cv.parser.WidgetParser.parseElement(this, xml, path, flavour, pageType, this.getAttributeToPropertyMappings());\n    },\n\n    getAttributeToPropertyMappings: function () {\n      return {\n        'class': {target: 'cssClass', 'default': ''},\n        'text': {'default': ''},\n        'href': {'default': ''},\n        'newWindow': {'default': false, transform: function(value) {\n            return value === \"true\";\n          }}\n      };\n    }\n  },\n\n  /*\n  ******************************************************\n    MEMBERS\n  ******************************************************\n  */\n  members: {\n    _getInnerDomString: function () {\n      var classes = \"link\";\n      if (this.getCssClass()) {\n        classes += \" \"+this.getCssClass();\n      }\n      var href = this.getHref() ? ' href=\"'+this.getHref()+'\"' : '';\n      var attributes = '';\n      if (this.isNewWindow()) {\n        attributes += ' target=\"_blank\"';\n      }\n      return '<a class=\"'+classes+'\"' + href + attributes + '>' + this.getText() + '</a>';\n    }\n  },\n\n  defer: function(statics) {\n    cv.parser.WidgetParser.addHandler(\"link\", cv.plugins.Link);\n    cv.ui.structure.WidgetFactory.registerClass(\"link\", statics);\n  }\n});\n"]}