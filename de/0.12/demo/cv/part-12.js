if(!cv.util.ScriptLoader.isMarkedAsLoaded("plugins/rss/dep/zrssfeed/jquery.zrssfeed.js")){!function(e){e.fn.rssfeed=function(i,r,s){r=e.extend({limit:10,header:!0,titletag:"h4",date:!0,content:!0,snippet:!0,media:!0,showerror:!0,errormsg:"",key:null,ssl:!1,linktarget:"_self"},r);return this.each(function(a,n){var l=e(n),d="";r.ssl&&(d="s");l.hasClass("rssFeed")||l.addClass("rssFeed");if(null==i)return!1;var o="http"+d+"://ajax.googleapis.com/ajax/services/feed/load?v=1.0&callback=?&q="+encodeURIComponent(i);null!=r.limit&&(o+="&num="+r.limit);null!=r.key&&(o+="&key="+r.key);o+="&output=json_xml";e.getJSON(o,function(i){if(200==i.responseStatus){t(n,i.responseData,r);e.isFunction(s)&&s.call(this,l)}else{if(r.showerror)if(""!=r.errormsg)var a=r.errormsg;else a=i.responseDetails;e(n).html('<div class="rssError"><p>'+a+"</p></div>")}})})};var t=function(t,r,s){var a=r.feed;if(!a)return!1;var n="",l="odd";if(s.media)var d=function(e){var t;if("Microsoft Internet Explorer"==navigator.appName){(t=new ActiveXObject("Microsoft.XMLDOM")).async="false";t.loadXML(e)}else t=(new DOMParser).parseFromString(e,"text/xml");return t}(r.xmlString).getElementsByTagName("item");s.header&&(n+='<div class="rssHeader"><a href="'+a.link+'" title="'+a.description+'">'+a.title+"</a></div>");n+='<div class="rssBody"><ul>';for(var o=0;o<a.entries.length;o++){var u=a.entries[o];if(u.publishedDate)var c=new Date(u.publishedDate),f=c.toLocaleDateString()+" "+c.toLocaleTimeString()+"&nbsp;";n+='<li class="rssRow '+l+'"><'+s.titletag+'><a href="'+u.link+'" title="View this feed at '+a.title+'">'+u.title+"</a></"+s.titletag+">";s.date&&f&&(n+="<div>"+f+"</div>");if(s.content){if(s.snippet&&""!=u.contentSnippet)var g=u.contentSnippet;else g=u.content;n+="<p>"+g+"</p>"}if(s.media&&d.length>0){var h=d[o].getElementsByTagName("enclosure");if(h.length>0){n+='<div class="rssMedia"><div>Media files</div><ul>';for(var p=0;p<h.length;p++){var v=h[p].getAttribute("url"),m=h[p].getAttribute("type"),y=h[p].getAttribute("length");n+='<li><a href="'+v+'" title="Download this media">'+v.split("/").pop()+"</a> ("+m+", "+i(y)+")</li>"}n+="</ul></div>"}n+="</li>"}l="odd"==l?"even":"odd"}n+="</ul></div>";e(t).html(n);e("a",t).attr("target",s.linktarget)};function i(e){var t=Math.floor(Math.log(e)/Math.log(1024));return(e/Math.pow(1024,Math.floor(t))).toFixed(2)+" "+["bytes","kb","MB","GB","TB","PB"][t]}}(jQuery);cv.util.ScriptLoader.markAsLoaded("plugins/rss/dep/zrssfeed/jquery.zrssfeed.js")}!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"cv.ui.structure.AbstractWidget":{require:!0},"cv.ui.common.Refresh":{require:!0},"cv.parser.WidgetParser":{defer:"runtime"},"qx.event.Timer":{},"cv.data.Model":{},"cv.util.ScriptLoader":{defer:"runtime"},"cv.ui.structure.WidgetFactory":{defer:"runtime"}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("cv.plugins.Rss",{extend:cv.ui.structure.AbstractWidget,include:[cv.ui.common.Refresh],statics:{parse:function(e,t,i,r){var s=cv.parser.WidgetParser.parseElement(this,e,t,i,r,this.getAttributeToPropertyMappings());cv.parser.WidgetParser.parseRefresh(e,t);return s},getAttributeToPropertyMappings:function(){return{src:{},width:{default:""},height:{default:""},limit:{default:10},header:{default:!0},date:{default:!0},content:{default:!0},snippet:{default:!0},showerror:{default:!0},ssl:{default:!1},linktarget:{default:"_new"},link:{default:!0},title:{default:!0}}}},properties:{src:{check:"String",init:""},width:{init:""},height:{init:""},limit:{init:10},header:{init:!0},date:{init:!0},content:{init:!0},snippet:{init:!0},showerror:{init:!0},ssl:{init:!1},linktarget:{init:"_new"},link:{init:!0},title:{init:!0}},members:{_getInnerDomString:function(){var e=""+this.getWidth()?"width:"+this.getWidth():""+this.getHeight()?"height:"+this.getHeight():"";return'<div class="actor"><div class="rss_inline" id="rss_'+this.getPath()+'" style="'+e+'"></div>'},_onDomReady:function(){cv.plugins.Rss.prototype._onDomReady.base.call(this);this.refreshRSS()},_setupRefreshAction:function(){this._timer=new qx.event.Timer(this.getRefresh());this._timer.addListener("interval",function(){this.refreshRSS()},this);this._timer.start()},refreshRSS:function(){var e=cv.data.Model.getInstance().getWidgetData(this.getPath());$("#"+this.getPath()+" .rss_inline").rssfeed(this.getSrc(),e)}},defer:function(e){cv.util.ScriptLoader.getInstance().addScripts("plugins/rss/dep/zrssfeed/jquery.zrssfeed.js");cv.parser.WidgetParser.addHandler("rss",cv.plugins.Rss);cv.ui.structure.WidgetFactory.registerClass("rss",e)}});cv.plugins.Rss.$$dbClassInfo=e}();
//# sourceMappingURL=part-12.js.map