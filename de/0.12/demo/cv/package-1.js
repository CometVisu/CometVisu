!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"cv.ui.structure.AbstractWidget":{require:!0},"cv.ui.common.Update":{require:!0},"cv.ui.structure.WidgetFactory":{defer:"runtime"}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("cv.ui.structure.pure.Audio",{extend:cv.ui.structure.AbstractWidget,include:cv.ui.common.Update,properties:{src:{check:"String",nullable:!0},id:{check:"String",nullable:!0},width:{check:"String",nullable:!0},height:{check:"String",nullable:!0},autoplay:{check:"Boolean",init:!1},loop:{check:"Boolean",init:!1},thresholdValue:{check:"Number",init:1}},members:{_getInnerDomString:function(){var e="";this.getWidth()&&(e+="width:"+this.getWidth()+";");this.getHeight()&&(e+="height:"+this.getHeight()+";");""!==e&&(e='style="'+e+'"');var t=this.isAutoplay()?" autoplay ":"",i=this.isLoop()?" loop ":"";return'<div class="actor"><audio id="'+this.getId()+'" '+t+i+e+' controls> <source src="'+this.getSrc()+'" > </audio> </div>'},getActor:function(){return this.getDomElement().querySelector(".actor audio")},_update:function(e,t){if(t>=this.applyMapping(this.getThresholdValue())){var i=this.getActor();!0===i.paused&&i.play()}}},defer:function(e){cv.ui.structure.WidgetFactory.registerClass("audio",e)}});cv.ui.structure.pure.Audio.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"cv.ui.structure.AbstractBasicWidget":{require:!0},"cv.ui.structure.WidgetFactory":{defer:"runtime"}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("cv.ui.structure.pure.Break",{extend:cv.ui.structure.AbstractBasicWidget,members:{getDomString:function(){return"<br/>"}},defer:function(e){cv.ui.structure.WidgetFactory.registerClass("break",e)}});cv.ui.structure.pure.Break.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"cv.ui.structure.AbstractWidget":{construct:!0,require:!0},"cv.ui.common.Operate":{require:!0},"cv.ui.common.HasAnimatedButton":{require:!0},"qx.data.store.Json":{construct:!0},"qx.util.ResourceManager":{construct:!0},"cv.Config":{},"cv.util.Location":{},"qx.util.Uri":{},"cv.ui.structure.WidgetFactory":{defer:"runtime"}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("cv.ui.structure.pure.DesignToggle",{extend:cv.ui.structure.AbstractWidget,include:[cv.ui.common.Operate,cv.ui.common.HasAnimatedButton],construct:function(e){cv.ui.structure.AbstractWidget.constructor.call(this,e);new qx.data.store.Json(qx.util.ResourceManager.getInstance().toUri("designs/get_designs.php")).addListener("loaded",function(e){this.setAvailableDesigns(e.getData())},this)},properties:{availableDesigns:{check:"Array",init:[]}},members:{_getInnerDomString:function(){return'<div class="actor switchUnpressed"><div class="value">'+cv.Config.getDesign()+"</div></div>"},_action:function(e,t,i){if(!i){var r=this.getAvailableDesigns(),s=this.getDomElement().querySelector(".value").textContent,n=r.getItem((r.indexOf(s)+1)%r.length),a=cv.util.Location.getHref(),c=new RegExp("design="+s);if(-1!==a.search(c))cv.util.Location.setHref(a.replace(c,"design="+n));else{var u=cv.util.Location.getHref().split("#"),o=qx.util.Uri.appendParamsToUrl(u[0],{design:n});u.length>1&&(o+="#"+u[1]);cv.util.Location.setHref(o)}}}},defer:function(e){cv.ui.structure.WidgetFactory.registerClass("designtoggle",e)}});cv.ui.structure.pure.DesignToggle.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"cv.ui.structure.AbstractWidget":{require:!0},"cv.ui.common.HasChildren":{require:!0},"cv.TemplateEngine":{},"cv.ui.structure.WidgetFactory":{defer:"runtime"}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("cv.ui.structure.pure.Group",{extend:cv.ui.structure.AbstractWidget,include:cv.ui.common.HasChildren,properties:{noWidget:{check:"Boolean",init:!1},name:{check:"String",init:""},target:{check:"String",nullable:!0}},members:{action:function(e){if(this.getTarget()){cv.TemplateEngine.getInstance().scrollToPage(this.getTarget());e.getBubbles()&&e.stopPropagation()}},getActor:function(){return this.getDomElement()},_onDomReady:function(){cv.ui.structure.pure.Group.prototype._onDomReady.base.call(this);this.getDomElement().style["z-index"]=1},getDomString:function(){var e="";this.getAlign()&&(e+='style="text-align:'+this.getAlign()+'"');var t='<div class="clearfix">';this.getName()&&(t+="<h2 "+e+">"+this.getName()+"</h2>");t+=this.getChildrenDomString();t+="</div>";return'<div class="'+this.getClasses()+'" '+this.getStyle()+">"+t+"</div>"}},defer:function(e){cv.ui.structure.WidgetFactory.registerClass("group",e)}});cv.ui.structure.pure.Group.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"cv.ui.structure.AbstractWidget":{require:!0},"cv.ui.common.Refresh":{require:!0},"qx.util.Uri":{},"qx.util.ResourceManager":{},"cv.ui.structure.WidgetFactory":{defer:"runtime"}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("cv.ui.structure.pure.Image",{extend:cv.ui.structure.AbstractWidget,include:cv.ui.common.Refresh,properties:{width:{check:"String",init:"100%"},height:{check:"String",nullable:!0},src:{check:"String",init:""},widthFit:{check:"Boolean",init:!1}},members:{__src:null,_getInnerDomString:function(){var e="";this.getWidth()&&(e+="width:"+this.getWidth()+";");!0===this.getWidthFit()&&(e+="max-width:100%;");this.getHeight()&&(e+="height:"+this.getHeight()+";");return'<div class="actor"><img src="'+this.__getSrc()+'" style="'+e+'" /></div>'},__getSrc:function(){if(!this.__src){var e=this.getSrc();qx.util.Uri.parseUri(this.getSrc()).protocol||this.getSrc().startsWith("/")||(e=qx.util.ResourceManager.getInstance().toUri(this.getSrc()));this.__src=e}return this.__src},getValueElement:function(){return this.getDomElement().querySelector("img")},_applyVisible:function(e){var t=this.getValueElement();!t||this.getRefresh()>0||(!0===e?t.setAttribute("src",this.__getSrc()):t.setAttribute("src",""))}},defer:function(e){cv.ui.structure.WidgetFactory.registerClass("image",e)}});cv.ui.structure.pure.Image.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"cv.ui.structure.AbstractWidget":{require:!0},"cv.ui.common.Operate":{require:!0},"cv.ui.common.HasAnimatedButton":{require:!0},"cv.ui.common.Refresh":{require:!0},"cv.ui.common.Update":{require:!0},"cv.parser.WidgetParser":{},"qx.util.Uri":{},"qx.util.ResourceManager":{},"cv.ui.structure.WidgetFactory":{defer:"runtime"}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("cv.ui.structure.pure.ImageTrigger",{extend:cv.ui.structure.AbstractWidget,include:[cv.ui.common.Operate,cv.ui.common.HasAnimatedButton,cv.ui.common.Refresh,cv.ui.common.Update],properties:{height:{check:"String",nullable:!0},updateType:{check:"String",init:""},width:{check:"String",init:"100%"},src:{check:"String",nullable:!0},suffix:{check:"String",nullable:!0},sendValue:{check:"String",init:""}},members:{_getInnerDomString:function(){var e="";0===Object.keys(this.getLayout()).length&&(e+=cv.parser.WidgetParser.extractLayout(this.getLayout(),this.getPageType()));this.getHeight()&&(e+="height:"+this.getHeight()+";");e.length>0&&(e=' style="'+e+'"');var t='<div class="actor">';"show"===this.getUpdateType()?t+='<img src="'+this.__getUrl(this.getSrc()+"."+this.getSuffix())+'"'+e.trim()+" />":t+='<img src=""'+e+" />";return t+="</div>"},_update:function(e,t){var i=this.getDomElement().querySelector("img");if("show"===this.getUpdateType())if(0===t)i.style.display="none";else{i.setAttribute("src",this.__getUrl(this.getSrc()+"."+this.getSuffix()));i.style.display="block"}else if("select"===this.getUpdateType())if(0===t)i.style.display="none";else{i.setAttribute("src",this.__getUrl(this.getSrc()+t+"."+this.getSuffix()));i.style.display="block"}},__getUrl:function(e){qx.util.Uri.parseUri(e).protocol||e.startsWith("/")||(e=qx.util.ResourceManager.getInstance().toUri(e));return e},_action:function(){""!==this.getSendValue()&&this.sendToBackend(this.getSendValue())}},defer:function(e){cv.ui.structure.WidgetFactory.registerClass("imagetrigger",e)}});cv.ui.structure.pure.ImageTrigger.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"cv.ui.structure.AbstractWidget":{require:!0},"cv.ui.common.Update":{require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("cv.ui.structure.pure.Info",{extend:cv.ui.structure.AbstractWidget,include:cv.ui.common.Update,members:{_getInnerDomString:function(){return'<div class="actor"><div class="value">-</div></div>'}}});cv.ui.structure.pure.Info.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"cv.ui.structure.AbstractWidget":{require:!0},"cv.ui.common.HasChildren":{require:!0},"cv.ui.structure.WidgetFactory":{defer:"runtime"}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("cv.ui.structure.pure.InfoAction",{extend:cv.ui.structure.AbstractWidget,include:cv.ui.common.HasChildren,properties:{anonymous:{refine:!0,init:!0}},members:{_getInnerDomString:function(){return this.getChildrenDomString()}},defer:function(e){cv.ui.structure.WidgetFactory.registerClass("infoaction",e)}});cv.ui.structure.pure.InfoAction.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"cv.ui.structure.AbstractWidget":{require:!0},"cv.ui.common.Operate":{require:!0},"cv.ui.common.Update":{require:!0},"cv.ui.common.HasAnimatedButton":{require:!0},"cv.ui.common.HandleLongpress":{require:!0},"qx.event.Registration":{},"cv.ui.structure.WidgetFactory":{defer:"runtime"}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("cv.ui.structure.pure.InfoTrigger",{extend:cv.ui.structure.AbstractWidget,include:[cv.ui.common.Operate,cv.ui.common.Update,cv.ui.common.HasAnimatedButton,cv.ui.common.HandleLongpress],properties:{downValue:{check:"Number",init:0},shortDownValue:{check:"Number",nullable:!0},downLabel:{check:"String",nullable:!0},upValue:{check:"Number",init:0},shortUpValue:{check:"Number",nullable:!0},upLabel:{check:"String",nullable:!0},isAbsolute:{check:"Boolean",init:!1},min:{check:"Number",init:0},max:{check:"Number",init:255},infoPosition:{check:["left","middle","right"],init:"middle"}},members:{_getInnerDomString:function(){var e='<div style="float:left;">',t='<div class="actor switchUnpressed downlabel" ';this.getAlign()&&(t+='style="text-align: '+this.getAlign()+'" ');t+=">";t+='<div class="label">'+(this.getDownLabel()||"-")+"</div>";t+="</div>";var i='<div class="actor switchUnpressed uplabel" ';this.getAlign()&&(i+='style="text-align: '+this.getAlign()+'" ');i+=">";i+='<div class="label">'+(this.getUpLabel()||"+")+"</div>";i+="</div>";var r='<div class="actor switchInvisible" ';this.getAlign()&&(r+='style="text-align: '+this.getAlign()+'" ');r+='><div class="value">-</div></div>';switch(this.getInfoPosition()){case"middle":e+=t;e+=r;e+=i;break;case"right":e+=t;e+=i;e+=r;break;default:e+=r;e+=t;e+=i}return e+"</div>"},getActors:function(){return this.getDomElement().querySelectorAll(".actor.uplabel, .actor.downlabel")},initListeners:function(){this.getActors().forEach(function(e){qx.event.Registration.addListener(e,"pointerdown",this._onPointerDown,this)},this)},__findActor:function(e){for(;!e.classList.contains("actor");)if((e=e.parentNode).classList.contains("widget"))return null;return e},_onLongTap:function(e){this.__action(!1,this.__findActor(e.getCurrentTarget()).classList.contains("downlabel"))},_action:function(e){this.__action(!0,this.__findActor(e.getCurrentTarget()).classList.contains("downlabel"))},__action:function(e,t){var i;i=e&&null!==this.getShortDownValue()&&null!==this.getShortUpValue()?t?this.getShortDownValue():this.getShortUpValue():t?this.getDownValue():this.getUpValue();var r=e?1:2;if(this.getIsAbsolute()){var s=parseFloat(this.getBasicValue());isNaN(s)&&(s=0);i=s+i;i=Math.max(i,this.getMin());i=Math.min(i,this.getMax())}this.sendToBackend(i,function(e){return!!(e[2]&r)})},getDownActor:function(){return this.getDomElement().querySelector(".actor.downlabel")},getUpActor:function(){return this.getDomElement().querySelector(".actor.uplabel")},getInfoActor:function(){return this.getDomElement().querySelector(".actor.switchInvisible")}},defer:function(e){cv.ui.structure.WidgetFactory.registerClass("infotrigger",e)}});cv.ui.structure.pure.InfoTrigger.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"cv.ui.structure.AbstractWidget":{require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("cv.ui.structure.pure.Line",{extend:cv.ui.structure.AbstractWidget,members:{getDomString:function(){return"<hr "+(this.getClasses()?'class="'+this.getClasses()+'"':"")+"/>"}}});cv.ui.structure.pure.Line.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"cv.ui.structure.AbstractWidget":{require:!0},"cv.ui.common.Operate":{require:!0},"cv.ui.common.Update":{require:!0},"cv.ui.common.HasAnimatedButton":{require:!0},"qx.util.DeferredCall":{},"qx.event.Registration":{},"cv.ui.structure.WidgetFactory":{defer:"runtime"}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("cv.ui.structure.pure.MultiTrigger",{extend:cv.ui.structure.AbstractWidget,include:[cv.ui.common.Operate,cv.ui.common.Update,cv.ui.common.HasAnimatedButton],properties:{showstatus:{check:"Boolean",init:!1},elementsPerLine:{check:"Number",init:2},buttonConfiguration:{check:"Object",nullable:!1}},members:{_getInnerDomString:function(){var e='<div class="actor_container" style="float:left">',t=this.getMapping(),i=this.getElementsPerLine(),r=this.getButtonConfiguration();Object.keys(r).sort().forEach(function(s){var n=r[s],a=n.label;if(t){var c=this.defaultValueHandling(void 0,n.value);if(c!==n.value||!a){a="";this.defaultValue2DOM(c,function(e){a+=e})}}a&&(e+='<div class="actor switchUnpressed"><div class="value">'+a+"</div></div>");i>0&&s%i==0&&(e+="<br/>")},this);return e+"</div>"},getActors:function(){return this.getDomElement().querySelectorAll(".actor_container .actor")},_processIncomingValue:function(e,t){return this.applyTransform(e,t)},handleUpdate:function(){var e=this.getActors(),t=this.getButtonConfiguration();e.forEach(function(i){var r=Array.prototype.indexOf.call(e,i)+1;if(t.hasOwnProperty(r)){var s=""+this.getBasicValue()==""+t[r].value;new qx.util.DeferredCall(function(){i.classList.remove(s?"switchUnpressed":"switchPressed");i.classList.add(s?"switchPressed":"switchUnpressed")},this).schedule()}},this)},getActionValue:function(e){var t=Array.prototype.indexOf.call(this.getDomElement().querySelectorAll(".actor_container .actor"),e.getCurrentTarget())+1;return this.getButtonConfiguration()[t].value},initListeners:function(){this.isAnonymous()||this.getActors().forEach(function(e){qx.event.Registration.addListener(e,"tap",this.action,this);qx.event.Registration.addListener(e,"pointerdown",this._onPointerDown,this)},this)}},defer:function(e){cv.ui.structure.WidgetFactory.registerClass("multitrigger",e)}});cv.ui.structure.pure.MultiTrigger.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"cv.ui.structure.AbstractWidget":{require:!0},"cv.ui.common.HasChildren":{require:!0},"cv.TemplateEngine":{},"cv.Config":{},"cv.ui.structure.WidgetFactory":{defer:"runtime"},"qx.event.message.Bus":{defer:"runtime"}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("cv.ui.structure.pure.NavBar",{extend:cv.ui.structure.AbstractWidget,include:cv.ui.common.HasChildren,properties:{anonymous:{refine:!0,init:!0},name:{check:"String",nullable:!0},scope:{check:"Number",init:-1},width:{check:"String",init:"300"},position:{check:["top","left","right","bottom"],init:"left"},dynamic:{check:"Boolean",nullable:!0,init:null},visible:{refine:!0,init:!0}},statics:{_navbarTop:"",_navbarLeft:"",_navbarRight:"",_navbarBottom:"",_touchX:null,_touchY:null,initializeNavbars:function(){["Top","Left","Right","Bottom"].forEach(function(e){if(this["_navbar"+e]){var t=document.querySelector("#navbar"+e);t&&(t.innerHTML+=this["_navbar"+e])}},this);var e=this;document.addEventListener("touchstart",function(t){var i=t.touches[0],r=cv.TemplateEngine.getInstance().pagePartsHandler;if(!(!1===r.navbars.left.dynamic||!cv.Config.mobileDevice&&!0!==r.navbars.left.dynamic||!r.navbars.left.fadeVisible&&i.clientX>20)){e._touchX=i.clientX;e._touchY=i.clientY}},!1);document.addEventListener("touchend",function(){e._touchX=null;e._touchY=null},!1);document.addEventListener("touchmove",function(t){if(null!==e._touchX){var i=t.touches[0],r=i.clientX-e._touchX,s=i.clientY-e._touchY,n=Math.abs(r)>10,a=r>0;if(Math.abs(r)>Math.abs(s)&&n){var c=cv.TemplateEngine.getInstance().pagePartsHandler;if(a){e._touchX=i.clientX-10;e._touchY=i.clientY;c.navbars.left.fadeVisible||c.fadeNavbar("Left","in",250)}else{e._touchX=i.clientX+10;e._touchY=i.clientY;c.navbars.left.fadeVisible&&c.fadeNavbar("Left","out",250)}}}},!1)}},members:{_onDomReady:function(){},getGlobalPath:function(){var e=this.getPath().split("_");e.pop();return e.join("_")+"_"+this.getPosition()+"_navbar"},getDomString:function(){var e='<div class="'+this.getClasses()+'" id="'+this.getGlobalPath()+'">';this.getName()&&(e+="<h2>"+this.getName()+"</h2>");e+=this.getChildrenDomString();e+="</div>";switch(this.getPosition()){case"top":cv.ui.structure.pure.NavBar._navbarTop+=e;break;case"left":cv.ui.structure.pure.NavBar._navbarLeft+=e;break;case"right":cv.ui.structure.pure.NavBar._navbarRight+=e;break;case"bottom":cv.ui.structure.pure.NavBar._navbarBottom+=e}return""}},defer:function(e){cv.ui.structure.WidgetFactory.registerClass("navbar",e);qx.event.message.Bus.subscribe("setup.dom.finished.before",e.initializeNavbars,e)}});cv.ui.structure.pure.NavBar.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"cv.ui.structure.AbstractWidget":{construct:!0,require:!0},"cv.ui.NotificationCenter":{},"cv.ui.structure.WidgetFactory":{defer:"runtime"}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("cv.ui.structure.pure.NotificationCenterBadge",{extend:cv.ui.structure.AbstractWidget,construct:function(e){var t=e.classes.trim().split(" "),i=t.indexOf("right");if(-1!==i){this.setContainerClass("float-right");t.splice(i,1);e.classes=t.join(" ")}cv.ui.structure.AbstractWidget.constructor.call(this,e)},properties:{counter:{check:"Number",init:0,apply:"_applyCounter"},hideWhenEmpty:{check:"Boolean",init:!1}},members:{__badgeElement:null,_onDomReady:function(){cv.ui.structure.pure.NotificationCenterBadge.prototype._onDomReady.base.call(this);var e=cv.ui.NotificationCenter.getInstance();e.getMessages().addListener("changeLength",this._onChangeCounter,this);this._onChangeCounter();e.addListener("changedGlobalSeverity",this._onChangeGlobalSeverity,this)},_applyVisible:function(e){cv.ui.NotificationCenter.getInstance().disableBadge(e)},action:function(e){this._skipNextEvent!==e.getType()?cv.ui.NotificationCenter.getInstance().toggleVisibility():this._skipNextEvent=null},__getBadgeElement:function(){this.__badgeElement||(this.__badgeElement=this.getDomElement().querySelector(".badge"));return this.__badgeElement},_onChangeGlobalSeverity:function(e){var t=this.__getBadgeElement().classList;t.remove.apply(t,cv.ui.NotificationCenter.getInstance().getSeverities());e.getData()&&t.add(e.getData())},_onChangeCounter:function(){var e=cv.ui.NotificationCenter.getInstance().getMessages().length;this.__getBadgeElement().innerHTML=""+e;this.isHideWhenEmpty()&&(this.__getBadgeElement().style.display=0===e?"none":"block")},_getInnerDomString:function(){var e="";this.isHideWhenEmpty()&&0===this.getCounter()&&(e=' style="display: none;"');return'<div class="actor badge"'+e+">"+this.getCounter()+"</div>"}},destruct:function(){var e=cv.ui.NotificationCenter.getInstance();e.getMessages().removeListener("changeLength",this._onChangeCounter,this);e.removeListener("changedGlobalSeverity",this._onChangeGlobalSeverity,this)},defer:function(e){cv.ui.structure.WidgetFactory.registerClass("notificationcenterbadge",e)}});cv.ui.structure.pure.NotificationCenterBadge.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"cv.ui.structure.AbstractWidget":{construct:!0,require:!0},"cv.ui.structure.IPage":{require:!0},"cv.ui.common.HasChildren":{require:!0},"cv.ui.common.Update":{require:!0},"qx.util.DeferredCall":{construct:!0},"qx.event.message.Bus":{defer:"runtime"},"cv.ui.layout.Manager":{},"cv.ui.layout.ResizeHandler":{},"qx.util.ResourceManager":{},"cv.TemplateEngine":{},"cv.data.Model":{},"cv.Transform":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("cv.ui.structure.pure.Page",{extend:cv.ui.structure.AbstractWidget,implement:cv.ui.structure.IPage,include:[cv.ui.common.HasChildren,cv.ui.common.Update],construct:function(e){this.__waitForProperties=["showNavbarTop","showNavbarBottom","showNavbarLeft","showNavbarRight"];cv.ui.structure.AbstractWidget.constructor.call(this,e);this.addListener("changeVisible",this._onChangeVisible,this);new qx.util.DeferredCall(function(){var e=this.getParentPage();e?this.debug("binding navbar visibility from "+e.getPath()+" to "+this.getPath()):this.__waitForProperties=[];[["showTopNavigation",!0],["showFooter",!0],["showNavbarTop",!1],["showNavbarBottom",!1],["showNavbarLeft",!1],["showNavbarRight",!1]].forEach(function(t){var i=t[0],r=t[1];null===this["get"+i.charAt(0).toUpperCase()+i.substr(1)]()&&(e?e.bind(i,this,i):this["set"+i.charAt(0).toUpperCase()+i.substr(1)](r));e||this.setInitialized(!0)},this)},this).schedule();this.getAddress()&&(this._initOnCreate=!0)},statics:{allPages:"",createFinal:function(){document.querySelector("#pages").innerHTML=this.allPages;qx.event.message.Bus.unsubscribe("setup.dom.append",this.createFinal,this)}},properties:{initialized:{check:"Boolean",init:!1,event:"changeInitialized"},anonymous:{refine:!0,init:!0},name:{check:"String",init:"",nullable:!0},showTopNavigation:{check:"Boolean",nullable:!0,event:"changeShowTopNavigation"},showFooter:{check:"Boolean",nullable:!0,event:"changeShowFooter"},showNavbarTop:{check:"Boolean",nullable:!0,event:"changeShowNavbarTop",apply:"_applyNavbarVisibility"},showNavbarBottom:{check:"Boolean",nullable:!0,event:"changeShowNavbarBottom",apply:"_applyNavbarVisibility"},showNavbarLeft:{check:"Boolean",nullable:!0,event:"changeShowNavbarLeft",apply:"_applyNavbarVisibility"},showNavbarRight:{check:"Boolean",nullable:!0,event:"changeShowNavbarRight",apply:"_applyNavbarVisibility"},backdropAlign:{init:"50% 50%",nullable:!0},backdropType:{check:"String",nullable:!0},linkVisible:{check:"Boolean",init:!0,nullable:!0},size:{check:"String",nullable:!0},backdrop:{check:"String",nullable:!0}},members:{__waitForProperties:null,__colspanClass:null,__normalizedDomId:null,_applyNavbarVisibility:function(e,t,i){if(null!==e){var r=this.__waitForProperties.indexOf(i);-1!==r&&this.__waitForProperties.splice(r,1);0===this.__waitForProperties.length&&this.setInitialized(!0)}},_onChangeVisible:function(e){if(e.getData()){this.__colspanClass!==cv.ui.layout.Manager.COLSPAN_CLASS&&this.applyColumnWidths();this.getBackdrop()&&cv.ui.layout.ResizeHandler.invalidateBackdrop()}},applyColumnWidths:function(){cv.ui.layout.Manager.applyColumnWidths("#"+this.getPath(),!1);this.__colspanClass=cv.ui.layout.Manager.COLSPAN_CLASS},getDomString:function(){var e=this.getPageType(),t='<div class="page type_'+e+(this.getFlavour()?" flavour_"+this.getFlavour():"")+'" id="'+this.getPath()+'">',i='<div class="clearfix"><h1>'+this.getName()+"</h1>";if("2d"===e){var r="width:100%;height:100%;";switch(this.getSize()){case"fixed":r="";break;case"contained":r+="object-fit:contain;";this.getBackdropAlign()&&(r+="object-position:"+this.getBackdropAlign()+";")}var s=this.getBackdrop();s&&(i+="<"+this.getBackdropType()+' src="'+qx.util.ResourceManager.getInstance().toUri(s)+'" style="position: absolute; top: 0px; left: 0px;z-index:-1;'+r+'"/>')}else 0;t+=(i+=this.getChildrenDomString())+"</div></div>";cv.ui.structure.pure.Page.allPages=t+cv.ui.structure.pure.Page.allPages},_update:function(e,t){if(1===parseInt(t)){cv.TemplateEngine.getInstance().scrollToPage(this.getPath());this.sendToBackend("0")}},sendToBackend:function(e){if(this.getAddress){var t=this.getAddress();for(var i in t)if(t.hasOwnProperty(i)){var r=t[i];cv.data.Model.isWriteAddress(r)&&cv.TemplateEngine.getInstance().visu.write(i,cv.Transform.encode(r[0],e))}}}},defer:function(e){qx.event.message.Bus.subscribe("setup.dom.append",e.createFinal,e)}});cv.ui.structure.pure.Page.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"cv.ui.structure.AbstractWidget":{construct:!0,require:!0},"cv.ui.common.HasChildren":{require:!0},"cv.ui.common.HasAnimatedButton":{require:!0},"cv.ui.structure.WidgetFactory":{defer:"runtime"},"cv.data.Model":{},"cv.util.Tree":{},"cv.TemplateEngine":{},"qx.event.message.Bus":{defer:"runtime"}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("cv.ui.structure.pure.PageJump",{extend:cv.ui.structure.AbstractWidget,include:[cv.ui.common.HasChildren,cv.ui.common.HasAnimatedButton],construct:function(e){e.name||(e.bindClickToWidget=!0);cv.ui.structure.AbstractWidget.constructor.call(this,e)},properties:{target:{check:"String",init:"0"},activeScope:{check:["target","path"],init:"target"},name:{check:"String",nullable:!0},targetPath:{check:"String",nullable:!0}},statics:{_onScrollToPage:function(e){var t=e.getData(),i=cv.ui.structure.WidgetFactory.getInstanceById(t),r=cv.data.Model.getInstance(),s=i.getName();document.querySelectorAll(".pagejump.active").forEach(function(e){e.classList.remove("active")},this);document.querySelectorAll(".pagejump.active_ancestor").forEach(function(e){e.classList.remove("active_ancestor")},this);document.querySelectorAll(".pagejump").forEach(function(e){var t=r.getWidgetDataByElement(e);s===t.target&&e.classList.add("active")},this);for(var n=cv.util.Tree.getParentWidget(i,"page"),a=document.querySelectorAll(".pagejump"),c=function(e,t){var i=r.getWidgetDataByElement(t);(e===i.target||"path"===i.activeScope&&("string"==typeof i.path&&i.path.match(e+"$")||"string"==typeof i.targetPath&&i.targetPath.match(e+"$")))&&t.classList.add("active_ancestor")};n&&cv.util.Tree.getParentWidget(n,"page");){a.forEach(function(e){c(n.getName(),e)});n=cv.util.Tree.getParentWidget(n,"page")}}},members:{_getInnerDomString:function(){var e='<div class="actor switchUnpressed';this.getAlign()&&(e+=this.getAlign());e+='">';this.getName()&&(e+='<div class="value">'+this.getName()+"</div>");return(e+="</div>")+this.getChildrenDomString()},action:function(){var e=this.getTarget();null!==this.getTargetPath()&&(e=cv.TemplateEngine.getInstance().getPageIdByPath(e,this.getTargetPath()));cv.TemplateEngine.getInstance().scrollToPage(e)}},defer:function(e){cv.ui.structure.WidgetFactory.registerClass("pagejump",e);qx.event.message.Bus.subscribe("path.pageChanged",e._onScrollToPage,e)}});cv.ui.structure.pure.PageJump.$$dbClassInfo=e}();function _typeof(e){"@babel/helpers - typeof";return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"cv.ui.structure.AbstractWidget":{require:!0},"cv.parser.WidgetParser":{},"cv.TemplateEngine":{},"cv.ui.structure.WidgetFactory":{defer:"runtime"}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("cv.ui.structure.pure.PageLink",{extend:cv.ui.structure.AbstractWidget,properties:{name:{check:"String",init:"",nullable:!0},wstyle:{check:"String",init:""},address:{check:"Object",init:{}},bindClickToWidget:{refine:!0,init:!0}},members:{getDomString:function(){var e=this.getLayout(),t="object"===_typeof(e)?"":'style="'+cv.parser.WidgetParser.extractLayout(e,this.getPageType())+'"',i='<div class="widget clearfix link pagelink '+this.getClasses()+'" '+t+">";i+='<div class="actor" '+this.getWstyle()+'><a href="javascript:void(0)">'+this.getName()+"</a></div>";return i+="</div>"},action:function(){cv.TemplateEngine.getInstance().scrollToPage(this.getPath()+"_")}},defer:function(e){cv.ui.structure.WidgetFactory.registerClass("pagelink",e)}});cv.ui.structure.pure.PageLink.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"cv.ui.structure.AbstractWidget":{require:!0},"cv.ui.common.Operate":{require:!0},"cv.ui.common.Update":{require:!0},"cv.ui.structure.WidgetFactory":{defer:"runtime"}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("cv.ui.structure.pure.PushButton",{extend:cv.ui.structure.AbstractWidget,include:[cv.ui.common.Operate,cv.ui.common.Update],properties:{downValue:{check:"String",init:"1"},upValue:{check:"String",init:"0"}},members:{_getInnerDomString:function(){return'<div class="actor switchUnpressed"><div class="value">-</div></div>'},initListeners:function(){this.addElementListener("pointerdown",this._onPointerDown,this);this.addElementListener("pointerup",this._onPointerUp,this)},handleUpdate:function(e){var t=this.getActor();e=""+this.getBasicValue();var i=this.getUpValue();t.classList.remove(e===i?"switchPressed":"switchUnpressed");t.classList.add(e===i?"switchUnpressed":"switchPressed")},getActionValue:function(e){return"pointerup"===e.type?this.getUpValue():this.getDownValue()},_onPointerUp:function(){var e=this.getUpValue();this.sendToBackend(e,function(e){return!e[2]||"up"===e[2]})},_onPointerDown:function(){var e=this.getDownValue();this.sendToBackend(e,function(e){return!e[2]||"down"===e[2]})}},defer:function(e){cv.ui.structure.WidgetFactory.registerClass("pushbutton",e)}});cv.ui.structure.pure.PushButton.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"cv.ui.structure.AbstractWidget":{require:!0},"cv.ui.common.Operate":{require:!0},"cv.ui.common.HasAnimatedButton":{require:!0},"cv.ui.common.BasicUpdate":{require:!0},"cv.TemplateEngine":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("cv.ui.structure.pure.Refresh",{extend:cv.ui.structure.AbstractWidget,include:[cv.ui.common.Operate,cv.ui.common.HasAnimatedButton,cv.ui.common.BasicUpdate],properties:{sendValue:{check:"String",nullable:!0}},members:{_onDomReady:function(){cv.ui.structure.pure.Refresh.prototype._onDomReady.base.call(this);this.defaultUpdate(void 0,this.getSendValue())},_getInnerDomString:function(){return'<div class="actor switchUnpressed"><div class="value">-</div></div>'},_action:function(){cv.TemplateEngine.getInstance().visu.restart(!0)}}});cv.ui.structure.pure.Refresh.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"cv.ui.structure.AbstractWidget":{require:!0},"cv.ui.common.Update":{require:!0},"cv.util.Location":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("cv.ui.structure.pure.Reload",{extend:cv.ui.structure.AbstractWidget,include:[cv.ui.common.Update],members:{getDomString:function(){},_getInnerDomString:function(){},_update:function(e,t){this.defaultValueHandling(e,t)>0&&cv.util.Location.reload(!0)}}});cv.ui.structure.pure.Reload.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"cv.ui.structure.AbstractWidget":{require:!0},"cv.ui.common.Update":{require:!0},"cv.Transform":{},"cv.ui.structure.WidgetFactory":{defer:"runtime"}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("cv.ui.structure.pure.Rgb",{extend:cv.ui.structure.AbstractWidget,include:[cv.ui.common.Update],members:{_getInnerDomString:function(){return'<div class="actor"><div class="value"></div></div>'},_update:function(e,t){if(void 0!==t&&void 0!==e){var i=this.getValueElement(),r=cv.Transform.decode(this.getAddress()[e][0],t),s=window.getComputedStyle(i)["background-color"].replace(/[a-zA-Z()\s]/g,"").split(/,/);3!==s.length&&(s=[0,0,0]);switch(this.getAddress()[e][2]){case"r":s[0]=r;break;case"g":s[1]=r;break;case"b":s[2]=r}var n="rgb("+s[0]+", "+s[1]+", "+s[2]+")";i.style["background-color"]=n}}},defer:function(e){cv.ui.structure.WidgetFactory.registerClass("rgb",e)}});cv.ui.structure.pure.Rgb.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"cv.ui.structure.AbstractWidget":{require:!0},"cv.ui.common.Update":{require:!0},"cv.Transform":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("cv.ui.structure.pure.Roundbar",{extend:cv.ui.structure.AbstractWidget,include:cv.ui.common.Update,statics:{coord:function(e){return e.x.toFixed(1)+" "+e.y.toFixed(1)},createBarPath:function(e,t,i,r,s,n,a){var c=e+t,u=i+r,o=e>i?1:0,l=s,d=s+1*n/4,g=s+2*n/4,h=s+3*n/4,v=s+n,m={x:Math.cos(e)*l,y:-Math.sin(e)*l},p={x:Math.cos(c)*g,y:-Math.sin(c)*g},f={x:Math.cos(e)*v,y:-Math.sin(e)*v},b={x:Math.cos((e+i)/2)*l,y:-Math.sin((e+i)/2)*l},x={x:Math.cos((e+i)/2)*v,y:-Math.sin((e+i)/2)*v},y={x:Math.cos(i)*l,y:-Math.sin(i)*l},_={x:Math.cos(u)*g,y:-Math.sin(u)*g},q={x:Math.cos(i)*v,y:-Math.sin(i)*v},C=Math.abs(e-c)>Math.PI?1:0,k=Math.abs(e-i)/2>Math.PI?1:0,S=Math.abs(i-u)>Math.PI?1:0,A=e<c?1:0,w=i<u?1:0;function B(e,t,i,r,s){return e.x===t.x&&e.y===t.y?"":Math.abs(e.x-t.x)+Math.abs(e.y-t.y)<2?"L"+cv.ui.structure.pure.Roundbar.coord(t):["A",i,i,0,r,s,cv.ui.structure.pure.Roundbar.coord(t)].join(" ")}if(a){var W=Math.max(l,v),D=function(t){return e<t&&t<i||e>t&&t>i},P=D(4*-Math.PI/2)||D(0*Math.PI/2)?W:m.x,I=D(3*-Math.PI/2)||D(1*Math.PI/2)?-W:m.y,M=D(2*-Math.PI/2)||D(2*Math.PI/2)?-W:m.x,T=D(1*-Math.PI/2)||D(3*Math.PI/2)?W:m.y;return{u:Math.min(m.y,p.y,f.y,y.y,_.y,q.y,I),d:Math.max(m.y,p.y,f.y,y.y,_.y,q.y,T),l:Math.min(m.x,p.x,f.x,y.x,_.x,q.x,M),r:Math.max(m.x,p.x,f.x,y.x,_.x,q.x,P)}}return n<1?["M",cv.ui.structure.pure.Roundbar.coord(f),B(f,x,v,k,o),B(x,q,v,k,o)].join(""):["M",cv.ui.structure.pure.Roundbar.coord(m),c===e?"L"+cv.ui.structure.pure.Roundbar.coord(f):B(m,p,d,C,1-A)+B(p,f,h,C,A),B(f,x,v,k,o),B(x,q,v,k,o),u===i?"L"+cv.ui.structure.pure.Roundbar.coord(y):B(q,_,h,S,1-w)+B(_,y,d,S,w),B(m,b,l,k,1-o),B(b,m,l,k,1-o),"Z"].join("")},createPointerPath:function(e,t){var i=Math.sin(e),r=Math.cos(e),s=r*t.width,n=i*t.width;if(t.thickness>0){var a=-i*t.thickness/2,c=r*t.thickness/2;return["M",this.coord({x:r*t.radius+s-a,y:-(i*t.radius+n-c)}),"L",this.coord({x:r*t.radius,y:-i*t.radius}),"L",this.coord({x:r*t.radius+s+a,y:-(i*t.radius+n+c)})].join("")}return["M",this.coord({x:r*t.radius,y:-i*t.radius}),"L",this.coord({x:r*t.radius+s,y:-(i*t.radius+n)})].join("")}},properties:{type:{check:"Array"},indicators:{check:"Array"},min:{check:"Number"},max:{check:"Number"},axisradius:{check:"Number"},axiswidth:{check:"Number"},axiscolor:{check:"String"},ranges:{check:"Array"},minorradius:{check:"Number"},minorwidth:{check:"Number"},minorspacing:{check:"String"},minorcolor:{check:"String"},majorradius:{check:"Number"},majorwidth:{check:"Number"},majorposition:{check:"String"},majorcolor:{check:"String"},labels:{check:"Array"},labelstyle:{check:"String"},start:{check:"Number"},end:{check:"Number"},arrowtype:{check:"Number"},spacing:{check:"Number"},overflowarrow:{check:"Boolean"},fontsize:{check:"Number"},textx:{check:"Number"},texty:{check:"Number"},textlength:{check:"Number"},textanchor:{check:"String"},linespace:{check:"Number"},bboxgrow:{check:"Object"},debug:{check:"Boolean"},currentRatioValue:{check:"Array",init:[]},targetRatioValue:{check:"Array",init:[]}},members:{_getInnerDomString:function(){function e(e,t,i){e.u>i&&(e.u=i);e.d<i&&(e.d=i);e.l>t&&(e.l=t);e.r<t&&(e.r=t);return e}this.setCurrentRatioValue(Array(this.getIndicators().length).fill(0));this.setTargetRatioValue(Array(this.getIndicators().length).fill([0,!1,!1]));var t=this,i=this.getStart(),r=this.getEnd(),s=this.getMin(),n=this.getMax(),a=0,c="",u="",o="",l="",d="",g="",h=cv.ui.structure.pure.Roundbar.createBarPath,v=this.getAxisradius()+this.getAxiswidth(),m=0,p=0;this.getIndicators().forEach(function(e){v=Math.max(v,e.radius,e.radius+e.width);m=Math.max(m,e.startarrow);p=Math.max(p,e.endarrow)});var f=h(i,m,r,p,v,0,!0);if(this.getMinorwidth()>0){var b=parseFloat(this.getMinorspacing()),x=this.getMinorradius(),y=this.getMinorwidth()+x;/^[0-9]+%/.test(this.getMinorspacing())&&(b=(n-s)*b/100);u+='<path class="minor" d="';for(var _=i,q=(r-i)*b/(n-s),C=(n-s)/b;C>=0;_+=q,C--){var k=Math.sin(_),S=Math.cos(_);u+=["M",cv.ui.structure.pure.Roundbar.coord({x:S*x,y:-k*x}),"L",cv.ui.structure.pure.Roundbar.coord({x:S*y,y:-k*y})].join("");f=e(f=e(f,S*x,-k*x),S*y,-k*y)}""!==this.getMinorcolor()&&(u+='" style="stroke:'+this.getMinorcolor());u+='" />'}if(this.getMajorwidth()>0){x=this.getMajorradius(),y=this.getMajorwidth()+x;c+='<path class="major" d="';this.getMajorposition().split(";").forEach(function(t){switch(t){case"min":t=s;break;case"max":t=n}var a=i+(r-i)*(t-s)/(n-s),u=Math.sin(a),o=Math.cos(a);c+=["M",cv.ui.structure.pure.Roundbar.coord({x:o*x,y:-u*x}),"L",cv.ui.structure.pure.Roundbar.coord({x:o*y,y:-u*y})].join("");f=e(f=e(f,o*x,-u*x),o*y,-u*y)});""!==this.getMajorcolor()&&(c+='" style="stroke:'+this.getMajorcolor());c+='" />'}var A=this.getLabelstyle();this.getLabels().forEach(function(e,a){var c=i+(r-i)*(e.value-s)/(n-s),u=e.radius*Math.cos(c),l=e.radius*-Math.sin(c),d="",g="";if(e.orientation<3){o+='<text class="axislabel" x="'+u+'" y="'+l+'"';switch(e.orientation){default:case 0:g=u<0?["end","middle","start"][e.position]:["start","middle","end"][e.position];Math.abs(u)<1&&(g="middle");d=l<0?["baseline","middle","hanging"][e.position]:["hanging","middle","baseline"][e.position];Math.abs(l)<1&&(d="middle");break;case 1:var h=180*-c/Math.PI+90;if(l<0)d=["baseline","middle","hanging"][e.position];else{d=["hanging","middle","baseline"][e.position];h+=180}g="middle";o+=' transform="rotate('+h+","+u+","+l+')"';break;case 2:h=180*-c/Math.PI;if(u<0){g=["end","middle","start"][e.position];h+=180}else g=["start","middle","end"][e.position];d="middle";o+=' transform="rotate('+h+","+u+","+l+')"'}o+=' dominant-baseline="'+d+'"';o+=' text-anchor="'+g+'"';""!==A&&(o+=' style="'+A+'"');o+=">"+e.name+"</text>"}else{var v=t.$$user_path+"_label"+a,m=i<r?0:1,p="",f="";switch(e.orientation){case 3:p=["M",u,l,"A",e.radius,e.radius,0,0,m,-u,-l,"A",e.radius,e.radius,0,0,m,u,l].join(" ");break;case 4:p=["M",-u,-l,"A",e.radius,e.radius,0,0,m,u,l,"A",e.radius,e.radius,0,0,m,-u,-l].join(" ");f=' startOffset="50%" text-anchor="middle"';break;case 5:p=["M",u,l,"A",e.radius,e.radius,0,0,m,-u,-l,"A",e.radius,e.radius,0,0,m,u,l].join(" ");f=' startOffset="100%" text-anchor="end"'}o+='<path style="stroke:none; fill:none; stroke-width:0" id="'+v+'" d="'+p+'"/>';o+='<text class="axislabel"';""!==A&&(o+=' style="'+A+'"');o+='><textPath href="#'+v+'"'+f+">"+e.name+"</textPath></text>"}});this.getRanges().forEach(function(a){var c=(r-i)*(a.start-s)/(n-s)+i,u=(r-i)*(a.end-s)/(n-s)+i,o=a.radius||t.getAxisradius(),d=a.width||t.getAxiswidth(),g=h(c,0,u,0,o,d,!0);l+='<path class="range" d="';l+=h(c,0,u,0,o,d);a.style&&(l+='" style="'+a.style);l+='" />';f=e(f=e(f,g.l,g.u),g.r,g.d)});this.getIndicators().forEach(function(e){d+='<path class="indicator" style="'+e.style+'" />';e.showValue&&a++});if(a>0){g+='<text class="value" y="'+this.getTexty()+'" text-anchor="'+this.getTextanchor()+'" font-size="'+this.getFontsize()+'"><tspan x="'+this.getTextx()+'" dy="0">-</tspan>'+('<tspan x="'+this.getTextx()+'" dy="'+this.getLinespace()+'">-</tspan>').repeat(a-1)+"</text>";var w={start:[0,1],middle:[.5,.5],end:[1,0]}[this.getTextanchor()]||[0,1],B=Math.min(0,-this.getFontsize(),this.getLinespace()*(a-1)-(this.getLinespace()<0?this.getFontsize():0)),W=Math.max(0,-this.getFontsize(),this.getLinespace()*(a-1)-(this.getLinespace()<0?this.getFontsize():0));f=e(f=e(f,this.getTextx()-w[0]*this.getTextlength(),this.getTexty()+B),this.getTextx()+w[1]*this.getTextlength(),this.getTexty()+W)}var D='<div class="actor"><svg width="100%" height="100%" viewBox="'+[f.l-this.getBboxgrow().l,f.u-this.getBboxgrow().u,f.r-f.l+this.getBboxgrow().l+this.getBboxgrow().r,f.d-f.u+this.getBboxgrow().u+this.getBboxgrow().d].join(" ")+'">';this.getDebug()&&(D+='<rect width="'+(f.r-f.l)+'" height="'+(f.d-f.u)+'" x="'+f.l+'" y="'+f.u+'" stroke="blue" fill="none" /><rect width="'+(f.r-f.l+this.getBboxgrow().l+this.getBboxgrow().r)+'" height="'+(f.d-f.u+this.getBboxgrow().u+this.getBboxgrow().d)+'" x="'+(f.l-this.getBboxgrow().l)+'" y="'+(f.u-this.getBboxgrow().u)+'" stroke="green" fill="none" /><circle cx="0" cy="0" r="3" fill="red" />');if(this.getAxisradius()>0){var P=h(i,0,r,0,this.getAxisradius(),0),I=h(i,0,r,0,this.getAxisradius(),this.getAxiswidth()),M=""===this.getAxiscolor()?void 0:this.getAxiscolor(),T=this.getAxiswidth()<1?"none":M;D+='<path class="sector" d="'+P+' L0 0Z"/><path class="axis" d="'+I+'" style="'+(M?"stroke:"+M:"")+(T?";fill:"+T:"")+'"/>'}D+=u+c+l+o+d+g;return D+="</svg></div>"},_update:function(e,t){if(void 0!==t&&void 0!==e){var i=cv.Transform.decode(this.getAddress()[e][0],t),r=this.getTargetRatioValue(),s=Array.from(this.getDomElement().getElementsByTagName("tspan")),n=this.applyFormat(e,i);this.getIndicators().forEach(function(t,a){if(e===t.address){r[a]=[(Math.min(Math.max(i,t.min),t.max)-t.min)/(t.max-t.min),i<t.min,i>t.max];void 0!==s[a]&&(s[a].textContent=n)}});this.setTargetRatioValue(r);if(!this.animationFrame){var a=Array.from(this.getDomElement().getElementsByClassName("indicator"));this.animateIndicators(a,!1)}}},animateIndicators:function(e,t){var i=this.getCurrentRatioValue(),r=this.getTargetRatioValue(),s=this.getIndicators();if(i.every(function(e,t){return e===r[t][0]}))this.animationFrame=0;else{var n=this.getStart(),a=this.getEnd(),c=this.getOverflowarrow();e.forEach(function(e,u){if(!0===t||Math.abs(i[u]-r[u][0])<.01)i[u]=r[u][0];else{!1;var o=.8*i[u]+.2*r[u][0];i[u]>o?i[u]=i[u]-o>.05?i[u]-.05:o:i[u]=i[u]-o<-.05?i[u]+.05:o}var l=n+i[u]*(a-n);c||(l=a>n?Math.max(n,l-s[u].endarrow):Math.min(n,l-s[u].endarrow));s[u].isBar?e.setAttribute("d",cv.ui.structure.pure.Roundbar.createBarPath(n,!c||r[u][1]&&i[u]<.01?s[u].startarrow:0,l,!c||r[u][2]&&i[u]>.99?s[u].endarrow:0,s[u].radius,s[u].width)):e.setAttribute("d",cv.ui.structure.pure.Roundbar.createPointerPath(l,s[u]))});this.setCurrentRatioValue(i);this.animationFrame=window.requestAnimationFrame(this.animateIndicators.bind(this,e,!1))}}}});cv.ui.structure.pure.Roundbar.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.module.Attribute":{require:!0,defer:"runtime"},"qx.module.Css":{require:!0,defer:"runtime"},"qx.module.Traversing":{require:!0,defer:"runtime"},"qx.module.Manipulating":{require:!0,defer:"runtime"},"qx.module.event.Keyboard":{require:!0,defer:"runtime"},"qx.Class":{usage:"dynamic",require:!0},"cv.ui.structure.AbstractWidget":{construct:!0,require:!0},"cv.ui.common.Operate":{require:!0},"cv.ui.common.Update":{require:!0},"cv.data.Model":{construct:!0},"cv.ui.website.Slider":{},"cv.util.Function":{},"qx.util.DeferredCall":{},"qx.event.Timer":{},"cv.ui.structure.WidgetFactory":{defer:"runtime"}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("cv.ui.structure.pure.Slide",{extend:cv.ui.structure.AbstractWidget,include:[cv.ui.common.Operate,cv.ui.common.Update],construct:function(e){cv.ui.structure.AbstractWidget.constructor.call(this,e);var t=!0;for(var i in this.getAddress())if(cv.data.Model.isWriteAddress(this.getAddress()[i])){t=!1;break}this.__readonly=t;this.getMin()<=0&&0<=this.getMax()?this.setValue(this.applyMapping(0)):this.setValue(this.applyMapping(this.getMin()))},properties:{min:{check:"Number",init:0},max:{check:"Number",init:100},step:{check:"Number",init:.5},sendOnFinish:{check:"Boolean",init:!1}},members:{__main:null,__timerId:null,__slider:null,__readonly:null,__initialized:null,__skipUpdatesFromSlider:null,_onDomReady:function(){cv.ui.structure.pure.Slide.prototype._onDomReady.base.call(this);if(!this.__initialized){this.__skipUpdatesFromSlider=!0;var e=this.getActor(),t=this.__slider=new cv.ui.website.Slider(e,this.getPath());t.setFormat(this.getFormat());t.setConfig("step",this.getStep());t.setConfig("minimum",this.getMin());t.setConfig("maximum",this.getMax());this.__readonly&&t.setEnabled(!1);t.init();t.setValue(parseFloat(this.getValue()));var i=cv.util.Function.throttle(this._onChangeValue,250,{trailing:!0},this);t.on("changeValue",function(e){this.__skipUpdatesFromSlider||i.call(e)},this);t.on("done",function(){i.abort();this.isSendOnFinish()&&this._onChangeValue(t.getValue(),!0)},this);this.addListener("changeValue",function(e){this.__skipUpdatesFromSlider=!0;t.setValue(parseFloat(e.getData()));this.__skipUpdatesFromSlider=!1},this);t.addClasses(["ui-slider","ui-slider-horizontal","ui-widget","ui-widget-content","ui-corner-all"]);t.find(".qx-slider-knob").addClasses(["ui-slider-handle","ui-state-default","ui-corner-all"]);this.addListener("changeVisible",function(e){!0===e.getData()&&new qx.util.DeferredCall(this.__updateSlider,this).schedule()},this);this.isVisible()&&qx.event.Timer.once(this.__updateSlider,this,5);this.__skipUpdatesFromSlider=!1;this.__initialized=!0}},__updateSlider:function(){if(this.__slider){this.__skipUpdatesFromSlider=!0;this.__slider.updatePositions();this.__skipUpdatesFromSlider=!1}},_getInnerDomString:function(){return'<div class="actor"></div>'},_update:function(e,t){if(!(this.__slider&&this.__slider.isInPointerMove()||void 0===t)){var i=this.applyTransform(e,t);try{if(this.getValue()!==i){this.setValue(i);if(this.__slider){this.__skipUpdatesFromSlider=!0;this.__slider.setValue(i);this.__skipUpdatesFromSlider=!1}}}catch(e){this.error(e)}}},_action:function(){},_onChangeValue:function(e,t){if(this.__initialized&&!0!==this.__skipUpdatesFromSlider){(!0===this.isSendOnFinish()&&t||!1===this.isSendOnFinish()&&this.__slider.isInPointerMove())&&(this._lastBusValue=this.sendToBackend(e,!1,this._lastBusValue));this.setValue(e)}},getActionValue:function(){return""}},defer:function(e){cv.ui.structure.WidgetFactory.registerClass("slide",e)}});cv.ui.structure.pure.Slide.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"cv.ui.structure.AbstractWidget":{require:!0},"cv.ui.common.Operate":{require:!0},"cv.ui.common.Update":{require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("cv.ui.structure.pure.Switch",{extend:cv.ui.structure.AbstractWidget,include:[cv.ui.common.Operate,cv.ui.common.Update],properties:{onValue:{check:"String",init:"1"},offValue:{check:"String",init:"0"}},members:{_getInnerDomString:function(){return'<div class="actor switchUnpressed"><div class="value">-</div></div>'},handleUpdate:function(e){var t=this.getActor();e=this.getBasicValue();var i=this.getOffValue();t.classList.remove(e==i?"switchPressed":"switchUnpressed");t.classList.add(e==i?"switchUnpressed":"switchPressed")},getActionValue:function(){return this.getBasicValue()==this.getOffValue()?this.getOnValue():this.getOffValue()}}});cv.ui.structure.pure.Switch.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"cv.ui.structure.AbstractWidget":{require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("cv.ui.structure.pure.Text",{extend:cv.ui.structure.AbstractWidget,members:{_getInnerDomString:function(){return""}}});cv.ui.structure.pure.Text.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"cv.ui.structure.AbstractWidget":{require:!0},"cv.ui.common.Operate":{require:!0},"cv.ui.common.Update":{require:!0},"cv.ui.common.HasAnimatedButton":{require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("cv.ui.structure.pure.Toggle",{extend:cv.ui.structure.AbstractWidget,include:[cv.ui.common.Operate,cv.ui.common.Update,cv.ui.common.HasAnimatedButton],members:{_getInnerDomString:function(){return'<div class="actor switchUnpressed"><div class="value">-</div></div>'},getActionValue:function(){return this.getNextMappedValue(this.getBasicValue(),this.getMapping())}}});cv.ui.structure.pure.Toggle.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"cv.ui.structure.AbstractWidget":{require:!0},"cv.ui.common.Operate":{require:!0},"cv.ui.common.HasAnimatedButton":{require:!0},"cv.ui.common.BasicUpdate":{require:!0},"cv.ui.common.HandleLongpress":{require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("cv.ui.structure.pure.Trigger",{extend:cv.ui.structure.AbstractWidget,include:[cv.ui.common.Operate,cv.ui.common.HasAnimatedButton,cv.ui.common.BasicUpdate,cv.ui.common.HandleLongpress],properties:{sendValue:{check:"String",init:"0"},shortValue:{check:"String",init:"0"}},members:{_onDomReady:function(){cv.ui.structure.pure.Trigger.prototype._onDomReady.base.call(this);this.defaultUpdate(void 0,this.getSendValue(),this.getDomElement())},_getInnerDomString:function(){return'<div class="actor switchUnpressed"><div class="value">-</div></div>'},_action:function(){var e=this.getShortThreshold()>0||this.isShortDefault()?this.getShortValue():this.getSendValue();this.sendToBackend(e,function(e){return!!(1&e[2])})},_onLongTap:function(){this.sendToBackend(this.getSendValue(),function(e){return!!(2&e[2])})}}});cv.ui.structure.pure.Trigger.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.core.Object":{require:!0},"qx.locale.Manager":{},"cv.ui.structure.WidgetFactory":{defer:"runtime"}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("cv.ui.structure.pure.Unknown",{extend:qx.core.Object,construct:function(e){this.set(e)},properties:{path:{check:"String",init:""},$$type:{check:"String",init:"Unknown"},unknownType:{check:"String",init:""},pageType:{check:["text","2d","3d"],init:"text"},parentWidget:{check:"cv.ui.structure.AbstractBasicWidget",init:null}},members:{getDomElement:function(){return document.querySelector("#"+this.getPath())},getDomString:function(){return'<div class="widget clearfix"><pre>'+qx.locale.Manager.tr("unknown: %1",this.getUnknownType())+"</pre></div>"}},defer:function(e){cv.ui.structure.WidgetFactory.registerClass("unknown",e)}});cv.ui.structure.pure.Unknown.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"cv.ui.structure.AbstractWidget":{require:!0},"cv.ui.common.Operate":{require:!0},"cv.ui.common.HasAnimatedButton":{require:!0},"cv.ui.common.BasicUpdate":{require:!0},"qx.io.request.Xhr":{},"qx.util.ResourceManager":{},"cv.ui.structure.WidgetFactory":{defer:"runtime"}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("cv.ui.structure.pure.UrlTrigger",{extend:cv.ui.structure.AbstractWidget,include:[cv.ui.common.Operate,cv.ui.common.HasAnimatedButton,cv.ui.common.BasicUpdate],properties:{sendValue:{check:"String",init:"0"},params:{check:"String",init:""},url:{check:"String",nullable:!0,apply:"_applyUrl"}},members:{__xhr:null,_applyUrl:function(e){if(e)if(this.__xhr)this.__xhr.setUrl(qx.util.ResourceManager.getInstance().toUri(e));else{var t=new qx.io.request.Xhr(qx.util.ResourceManager.getInstance().toUri(e));t.set({method:"GET",accept:"application/html",requestData:this.getParams()});this.__xhr=t}},_onDomReady:function(){cv.ui.structure.pure.UrlTrigger.prototype._onDomReady.base.call(this);this.defaultUpdate(void 0,this.getSendValue(),this.getDomElement())},_getInnerDomString:function(){var e='<div class="actor switchUnpressed ';this.getAlign()&&(e+=this.getAlign());return e+='"><div class="value"></div></div>'},_action:function(){this.__xhr&&this.__xhr.send()}},destruct:function(){this._disposeObjects("__xhr")},defer:function(e){cv.ui.structure.WidgetFactory.registerClass("urltrigger",e)}});cv.ui.structure.pure.UrlTrigger.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"cv.ui.structure.AbstractWidget":{require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("cv.ui.structure.pure.Video",{extend:cv.ui.structure.AbstractWidget,properties:{width:{check:"String",nullable:!0},height:{check:"String",nullable:!0},src:{check:"String",init:""},autoplay:{check:"Boolean",init:!1}},members:{_getInnerDomString:function(){var e="";this.getWidth()&&(e+="width:"+this.getWidth()+";");this.getHeight()&&(e+="height:"+this.getHeight()+";");""!==e&&(e='style="'+e+'"');var t=this.isAutoplay()?' autoplay="autoplay"':"";return'<div class="actor"><video src="'+this.getSrc()+'" '+e+t+'  controls="controls" /></div>'},getValueElement:function(){return this.getDomElement().querySelector("video")},_applyVisible:function(e){var t=this.getValueElement();t&&(!0===e&&this.isAutoplay()?t.play():t.pause())}}});cv.ui.structure.pure.Video.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"cv.ui.structure.AbstractWidget":{require:!0},"cv.ui.common.Update":{require:!0},"cv.ui.common.Refresh":{require:!0},"cv.TemplateEngine":{},"cv.Transform":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("cv.ui.structure.pure.Web",{extend:cv.ui.structure.AbstractWidget,include:[cv.ui.common.Update,cv.ui.common.Refresh],properties:{width:{check:"String",nullable:!0},height:{check:"String",nullable:!0},frameborder:{check:"Boolean",init:!1},background:{check:"String",nullable:!0},scrolling:{check:["auto","yes","no"],nullable:!0},src:{check:"String",nullable:!0}},members:{_getInnerDomString:function(){var e="";this.getWidth()?e+="width:"+this.getWidth()+";":e+="width: 100%;";this.getStyle();this.getHeight()&&(e+="height:"+this.getHeight()+";");!1===this.getFrameborder()&&"border: 0px ;";this.getBackground()&&(e+="background-color:"+this.getBackground()+";");""!==e&&(e='style="'+e+'"');var t="";this.getScrolling()&&(t='scrolling="'+this.getScrolling()+'"');return'<div class="actor"><iframe src="'+this.getSrc()+'" '+e+t+"></iframe></div>"},_update:function(e,t){var i=this.getAddress()[e];if(i&&1===t){var r=this.getDomElement().querySelector("iframe");this.refreshAction(r,r.getAttribute("src"));cv.TemplateEngine.getInstance().visu.write(e,cv.Transform.encode(i[0],0))}}}});cv.ui.structure.pure.Web.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"cv.ui.structure.AbstractWidget":{require:!0},"cv.ui.common.Update":{require:!0},"qx.io.request.Xhr":{},"cv.TemplateEngine":{},"cv.ui.structure.WidgetFactory":{defer:"runtime"}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("cv.ui.structure.pure.WgPluginInfo",{extend:cv.ui.structure.AbstractWidget,include:cv.ui.common.Update,properties:{variable:{check:"String",nullable:!0,apply:"_applyVariable"}},members:{__request:null,_applyVariable:function(e){if(e){if(this.__request)this.__request.setUrl("/wg-plugindb.php?name="+e);else{this.__request=new qx.io.request.Xhr("/wg-plugindb.php?name="+e);this.__request.set({accept:"application/json"});this.__request.addListener("success",this._onSuccess,this)}cv.TemplateEngine.getInstance().executeWhenDomFinished(this.__request.send,this.__request)}},_onSuccess:function(e){var t=e.getTarget().getResponse();this.defaultUpdate(void 0,t[this.getVariable()],this.getValueElement())},_getInnerDomString:function(){return'<div class="actor"><div class="value">-</div></div>'},handleUpdate:function(){this.__request&&this.__request.send()}},destruct:function(){this._disposeObjects("__request")},defer:function(e){cv.ui.structure.WidgetFactory.registerClass("wgplugin_info",e)}});cv.ui.structure.pure.WgPluginInfo.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"cv.ui.structure.AbstractWidget":{require:!0},"cv.ui.common.HasChildren":{require:!0},"cv.ui.structure.WidgetFactory":{defer:"runtime"}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("cv.ui.structure.pure.WidgetInfoAction",{extend:cv.ui.structure.AbstractWidget,include:cv.ui.common.HasChildren,properties:{anonymous:{refine:!0,init:!0},childObjects:{check:"Array",init:[]}},members:{getDomString:function(){return this.getChildrenDomString()}},defer:function(e){cv.ui.structure.WidgetFactory.registerClass("widgetinfo",e);cv.ui.structure.WidgetFactory.registerClass("widgetaction",e)}});cv.ui.structure.pure.WidgetInfoAction.$$dbClassInfo=e}();qx.$$packageData[1]={locales:{},resources:{},translations:{en:{},de:{"unknown: %1":"Unbekannt: %1"}}};
//# sourceMappingURL=package-1.js.map