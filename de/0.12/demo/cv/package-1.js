!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"cv.ui.structure.AbstractWidget":{require:!0},"cv.ui.common.Update":{require:!0},"cv.ui.structure.WidgetFactory":{defer:"runtime"}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("cv.ui.structure.pure.Audio",{extend:cv.ui.structure.AbstractWidget,include:cv.ui.common.Update,properties:{src:{check:"String",nullable:!0},id:{check:"String",nullable:!0},width:{check:"String",nullable:!0},height:{check:"String",nullable:!0},autoplay:{check:"Boolean",init:!1},loop:{check:"Boolean",init:!1},thresholdValue:{check:"Number",init:1}},members:{_getInnerDomString:function(){var e="";this.getWidth()&&(e+="width:"+this.getWidth()+";");this.getHeight()&&(e+="height:"+this.getHeight()+";");""!==e&&(e='style="'+e+'"');var t=this.isAutoplay()?" autoplay ":"",i=this.isLoop()?" loop ":"";return'<div class="actor"><audio id="'+this.getId()+'" '+t+i+e+' controls> <source src="'+this.getSrc()+'" > </audio> </div>'},getActor:function(){return this.getDomElement().querySelector(".actor audio")},_update:function(e,t){if(t>=this.applyMapping(this.getThresholdValue())){var i=this.getActor();!0===i.paused&&i.play()}}},defer:function(e){cv.ui.structure.WidgetFactory.registerClass("audio",e)}});cv.ui.structure.pure.Audio.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"cv.ui.structure.AbstractBasicWidget":{require:!0},"cv.ui.structure.WidgetFactory":{defer:"runtime"}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("cv.ui.structure.pure.Break",{extend:cv.ui.structure.AbstractBasicWidget,members:{getDomString:function(){return"<br/>"}},defer:function(e){cv.ui.structure.WidgetFactory.registerClass("break",e)}});cv.ui.structure.pure.Break.$$dbClassInfo=e}();function _defineProperty(e,t,i){t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i;return e}!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"cv.ui.structure.AbstractWidget":{construct:!0,require:!0},"cv.ui.common.Operate":{require:!0},"cv.ui.common.Update":{require:!0},"cv.util.Color":{construct:!0},"cv.util.LimitedRateUpdateAnimator":{construct:!0},"cv.ui.layout.ResizeHandler":{construct:!0},"cv.util.Function":{},"cv.Config":{},"cv.core.notifications.Router":{},"cv.Transform":{},"cv.ui.structure.WidgetFactory":{defer:"runtime"}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("cv.ui.structure.pure.ColorChooser",{extend:cv.ui.structure.AbstractWidget,include:[cv.ui.common.Operate,cv.ui.common.Update],statics:{coord2sv:function(e,t,i,r){var s=2*Math.PI,n=.5-Math.sin(s*-i)*r,a=.5-Math.cos(s*-i)*r,c=.5-Math.sin(s*(.6666666666666666-i))*r,o=.5-Math.cos(s*(.6666666666666666-i))*r,u=.5-Math.sin(s*(.3333333333333333-i))*r,l=.5-Math.cos(s*(.3333333333333333-i))*r,d=c-u,h=o-l,g=n-u,_=a-l,v=e-u,p=t-l,m=cv.util.Color.solve2d(d,h,g,_,v,p),f=Math.min(Math.max(0,m[0]),1),b=Math.min(Math.max(0,m[1]),1),y=f+b;return[Math.abs(y)<.001?0:b/y,y]}},construct:function(e){var t=this;cv.ui.structure.AbstractWidget.constructor.call(this,e);var i=this.getBaseColors();this.__P_54_0=new cv.util.Color(i.r,i.g,i.b,i.w);this.__P_54_1=new cv.util.LimitedRateUpdateAnimator(this.__P_54_2,this);this.__P_54_1.setAnimationSpeed(100,.5);this.__P_54_3=cv.ui.layout.ResizeHandler.states.addListener("changePageSizeInvalid",function(){t.__P_54_4()});this.__P_54_5=new Set(Object.entries(this.getAddress()).map(function(e){return e[1].variantInfo}));this.__P_54_6={}},destruct:function(){cv.ui.layout.ResizeHandler.states.removeListenerById(this.__P_54_3);this.__P_54_3=null;this.__P_54_7=null},properties:{controls:{check:"String"},baseColors:{check:"Object"},sendOnFinish:{check:"Boolean",init:!1}},members:{__P_54_8:"",__P_54_9:void 0,__P_54_10:void 0,__P_54_0:void 0,__P_54_6:void 0,__P_54_1:null,__P_54_7:void 0,__P_54_11:void 0,__P_54_12:void 0,__P_54_3:void 0,__P_54_5:void 0,__P_54_13:!1,__P_54_14:void 0,__P_54_15:2e3,__P_54_16:12500,_getInnerDomString:function(){var e=""===this.getFormat()?"":"-",t=this,i="",r=void 0===this.getLayout().colspan?' style="width:195px"':"",s=this.getControls().split(";");""===s[0]&&(s[0]="box");s.forEach(function(r){switch(r){case"box":case"LCh-box":i+='<div class="actor cc_box"><div class="hue '+("box"===r?"hsv_hue":"lch_hue");i+='"></div><div class="handle_hue"></div><div class="sv_box"><div class="inner"></div><div class="handle"></div></div></div>';break;case"triangle":case"LCh-triangle":i+='<div class="actor cc_wheel"><div class="hue '+("triangle"===r?"hsv_hue":"lch_hue");i+='"></div><div class="sv_triangle"><div class="inner"></div><div class="handle_hue"></div><div class="handle"></div></div></div>';break;case"RGB-r":case"RGB-g":case"RGB-b":case"RGBW-r":case"RGBW-g":case"RGBW-b":case"RGBW-w":case"h":case"s":case"v":case"LCh-L":case"LCh-C":case"LCh-h":case"Y":i+='<div class="actor cc_'+r+' ui-slider ui-slider-horizontal ui-widget ui-widget-content ui-corner-all" style="touch-action: pan-y;">\n              <button class="ui-slider-handle ui-state-default ui-corner-all" draggable="false" unselectable="true" style="transform: translate3d(0px, 0px, 0px);">'+e+'</button>\n              <div class="ui-slider-range" style="margin-left: 0px; clip-path: inset(0 100% 0 0);"></div>\n            </div>';break;default:var s=r.split(":");if("T"===s[0]){var n=(s[1]||"-").split("-");t.__P_54_15=Math.max(1667,Math.min(n[0]||2500,25e3));t.__P_54_16=Math.max(1667,Math.min(n[1]||9e3,25e3));var a=cv.util.Color.xy2sRGB(cv.util.Color.temperature2xy(t.__P_54_15)),c=cv.util.Color.xy2sRGB(cv.util.Color.temperature2xy(t.__P_54_16)),o=function(e){return[Math.round(255*e.r),Math.round(255*e.g),Math.round(255*e.b)].join(",")},u="rgb("+o(a)+"), rgb("+o(c)+")";i+='<div class="actor cc_T ui-slider ui-slider-horizontal ui-widget ui-widget-content ui-corner-all" style="touch-action: pan-y;">\n                <button class="ui-slider-handle ui-state-default ui-corner-all" draggable="false" unselectable="true" style="transform: translate3d(0px, 0px, 0px);">'+e+'</button>\n                <div class="ui-slider-range" style="margin-left: 0px; clip-path: inset(0 100% 0 0);background: linear-gradient(90deg, '+u+');"></div>\n              </div>'}}});return'<div class="actors"'+r+">"+i+"</div>"},_onDomReady:function(){var e=this;cv.ui.structure.pure.ColorChooser.prototype._onDomReady.base.call(this);this.__P_54_17=cv.util.Function.throttle(this.__P_54_18,250,{trailing:!0},this);this.getDomElement().querySelectorAll(".actor").forEach(function(t){return t.addEventListener("pointerdown",e)})},_update:function(e,t){function i(i,r){!0===cv.Config.testMode&&console.error("Updating ColorChooser with invalid data<br/>Address: "+e+", data: "+t+", transform: "+i+", variant: "+r);cv.core.notifications.Router.dispatchMessage("cv.config.error",{message:"Updating ColorChooser with invalid data<br/>Address: "+e+", data: "+t+", transform: "+i+", variant: "+r})}var r,s,n=this.getAddress()[e].transform,a=this.getAddress()[e].variantInfo,c=cv.Transform.decode(n,t);switch(a){case"h":case"s":case"v":if(!Number.isFinite(c)){i(n,a);return}c/=100;r="hsv-single";break;case"hsv":if(void 0===c.get){i(n,a);return}c={h:c.get("h")/360,s:c.get("s")/100,v:c.get("v")/100};r="hsv";break;case"RGB-r":case"RGB-g":case"RGB-b":if(!Number.isFinite(c)){i(n,a);return}s=this.getBaseColors()[a.split("-")[1]];c=cv.util.Color.invCurve(c,s.curve,s.scale);r="rgb-single";break;case"rgb":s=this.getBaseColors();if(void 0===c.get){i(n,a);return}c={r:cv.util.Color.invCurve(c.get("r"),s.r.curve,s.r.scale),g:cv.util.Color.invCurve(c.get("g"),s.g.curve,s.g.scale),b:cv.util.Color.invCurve(c.get("b"),s.b.curve,s.b.scale)};r="rgb";break;case"RGBW-r":case"RGBW-g":case"RGBW-b":case"RGBW-w":if(!Number.isFinite(c)){i(n,a);return}s=this.getBaseColors()[a.split("-")[1]];c=cv.util.Color.invCurve(c,s.curve,s.scale);r="rgbw-single";break;case"rgbw":s=this.getBaseColors();if(void 0===c.get){i(n,a);return}c={r:cv.util.Color.invCurve(c.get("r"),s.r.curve,s.r.scale),g:cv.util.Color.invCurve(c.get("g"),s.g.curve,s.g.scale),b:cv.util.Color.invCurve(c.get("b"),s.b.curve,s.b.scale),w:cv.util.Color.invCurve(c.get("w"),s.w.curve,s.w.scale)};r="rgbw";break;case"x":case"y":r="xyY";break;case"Y":if(c instanceof Map&&!1!==c.get("YValid"))c=c.get("Y");else if(!Number.isFinite(c)){i(n,a);return}r="xyY";break;case"xy":if(c instanceof Map&&!1!==c.get("cValid"))c={x:c.get("x"),y:c.get("y")};else if(!("x"in c&&"y"in c)){i(n,a);return}r="xyY";break;case"xyY":if(!(c instanceof Map)){i(n,a);return}a=(!1!==c.get("cValid")?"xy":"")+(!1!==c.get("YValid")?"Y":"");c={x:c.get("x"),y:c.get("y"),Y:c.get("Y")};if(""===a)return;r="xyY"}if(!(this.__P_54_13||this.__P_54_6[r]&&this.__P_54_6[r][a]&&this.__P_54_6[r][a][n]===t)){var o=void 0===this.__P_54_6[r];o&&(this.__P_54_6[r]={});this.__P_54_6=_defineProperty({},r,this.__P_54_6[r]);this.__P_54_6[r][a]=_defineProperty({},n,t);this.__P_54_19(c,a,!this.isVisible()||o)}},__P_54_19:function(e,t,i){this.__P_54_9=void 0===this.__P_54_10?this.__P_54_0.copy():this.__P_54_10.copy();this.__P_54_0.changeComponent(t,e);(i=i||this.__P_54_0.delta(this.__P_54_9)<.5)||this.__P_54_1.setTo(this.__P_54_9,!0,!1);this.__P_54_1.setTo(this.__P_54_0,i)},__P_54_2:function(e){if(void 0===this.__P_54_12){var t,i={};this.getDomElement().querySelectorAll(".actor").forEach(function(e){var r=e.className.replace(/.*cc_([^ ]*).*/,"$1");switch(r){case"box":case"wheel":t=window.getComputedStyle(e);var s="box"===r?e.querySelector(".sv_box"):e.querySelector(".sv_triangle"),n=s.querySelector(".inner"),a=e.querySelector(".handle"),c=e.querySelector(".handle_hue"),o=e.querySelector(".hue");i[r]={isLCh:o.classList.contains("lch_hue"),sv_element:s,inner:n,handle:a,handle_hue:c,handle_hueTop:parseFloat(window.getComputedStyle(c).getPropertyValue("top")),handle_hueWidth:parseFloat(window.getComputedStyle(c).getPropertyValue("width")),width:parseFloat(t.getPropertyValue("width")),height:parseFloat(t.getPropertyValue("padding-top")),innerRadius:parseFloat(window.getComputedStyle(s).getPropertyValue("width")),outerRadius:parseFloat(window.getComputedStyle(o).getPropertyValue("width"))};break;default:t=window.getComputedStyle(e);var u=e.querySelector("button"),l=e.querySelector(".ui-slider-range");i[r]={button:u,range:l,width:parseFloat(t.getPropertyValue("width")),buttonWidth:parseFloat(window.getComputedStyle(u).getPropertyValue("width"))};l.style.marginLeft="-"+t.getPropertyValue("padding-left");l.style.borderRadius=t.getPropertyValue("border-radius")}});this.__P_54_12=i}this.__P_54_10=e;for(var r in this.__P_54_12){var s=this.__P_54_12[r];if("wheel"===r){var n=void 0;if(s.isLCh){var a=this.__P_54_10.getComponent("LCh"),c=cv.util.Color.curve(a.h,[246,255,46,0,246],1),o=cv.util.Color.curve(a.h,[27,224,255,136,27],1),u=cv.util.Color.curve(a.h,[136,32,224,245,136],1);n=360*a.h+"deg";var l=0*a.C+75*(1-a.C),d=50*a.C+92.5*(1-a.C);s.handle.style.top=a.L*l+75*(1-a.L)+"%";s.handle.style.left=a.L*d+7.5*(1-a.L)+"%";s.inner.style.background="linear-gradient(210deg, transparent 45%, black 90%),linear-gradient(150deg, transparent 45%, white 90%),rgb("+[c,o,u].join(",")+")"}else{var h=this.__P_54_10.getComponent("hsv");n=360*h.h+"deg";var g=0*h.s+75*(1-h.s),_=50*h.s+92.5*(1-h.s);s.handle.style.top=h.v*g+75*(1-h.v)+"%";s.handle.style.left=h.v*_+7.5*(1-h.v)+"%";s.inner.style.background="linear-gradient(210deg, transparent 45%, black 90%),linear-gradient(150deg, transparent 45%, white 90%),hsl("+n+" 100% 50%)"}s.sv_element.style.transform="rotate("+n+")"}else if("box"===r){var v=void 0;if(s.isLCh){var p=this.__P_54_10.getComponent("LCh"),m=cv.util.Color.curve(p.h,[246,255,46,0,246],1),f=cv.util.Color.curve(p.h,[27,224,255,136,27],1),b=cv.util.Color.curve(p.h,[136,32,224,245,136],1);v=360*p.h+"deg";s.handle.style.top=100*(1-p.L)+"%";s.handle.style.left=100*(1-p.C)+"%";s.inner.style.background="linear-gradient(0deg, black 0%, transparent 50%, white 100%), linear-gradient(90deg,rgb("+[m,f,b].join(",")+"), #808080 100%)"}else{var y=this.__P_54_10.getComponent("hsv");v=360*y.h+"deg";s.handle.style.top=100*(1-y.v)+"%";s.handle.style.left=100*(1-y.s)+"%";s.inner.style.background="linear-gradient(0deg, black 0%, transparent 50%, white 100%), linear-gradient(90deg,hsl("+v+" 100% 50%), #808080 100%)"}s.handle_hue.style.transform="rotate("+v+")";s.handle_hue.style.transformOrigin=s.handle_hueWidth/2+"px "+(s.width/2-s.handle_hueTop)+"px"}else{var x=this.__P_54_10.getComponent(r);"T"===r&&(x=(x-this.__P_54_15)/(this.__P_54_16-this.__P_54_15));var P=Math.max(0,Math.min(x,1))*s.width;s.button.style.transform="translate3d("+(P-s.buttonWidth/2)+"px, 0px, 0px)";s.range.style.clipPath="inset(0 "+100*(1-x)+"% 0 0)"}}},__P_54_4:function(){this.__P_54_12=void 0;this.__P_54_1.setTo(this.__P_54_0,!0)},handleEvent:function(e){var t,i=0,r=0;switch(e.type){case"pointerdown":var s=e.currentTarget.className.replace(/.*cc_([^ ]*).*/,"$1");t=this.__P_54_12[s];var n=e.currentTarget.getBoundingClientRect(),a=window.getComputedStyle(e.currentTarget);this.__P_54_20=n.left+parseFloat(a.paddingLeft);this.__P_54_21=n.top;i=(e.clientX-this.__P_54_20)/t.width;r=(e.clientY-this.__P_54_21)/t.height;if("wheel"===s){var c=void 0!==t?.5*t.innerRadius/t.outerRadius:1,o=cv.ui.structure.pure.ColorChooser.coord2sv(i,r,this.__P_54_0.getComponent(t.isLCh?"LCh":"hsv").h,c),u=Math.pow(i-.5,2)+Math.pow(r-.5,2);if(u<Math.pow(.535,2)){var l=Math.pow(1.1*c,2)<u,d=Math.pow(c,2)<u&&!l,h=o[1]<.01||o[0]<.01&&o[1]>.99||o[0]>.99&&o[1]>.99;if(l||d&&!h){this.__P_54_8="wheel_h";this.__P_54_0.changeComponent(t.isLCh?"LCh-h":"h",.5+Math.atan2(.5-i,r-.5)/2/Math.PI);this.__P_54_13=!0}else{this.__P_54_8="wheel_sv";this.__P_54_0.changeComponent(t.isLCh?"LCh-CL":"sv",o);this.__P_54_13=!0}}}else if("box"===s){var g=void 0!==t?.5*t.innerRadius/t.outerRadius:1,_=i-.5,v=r-.5,p=[-_/g/2+.5,-v/g/2+.5];if(Math.abs(_)<g&&Math.abs(v)<g){this.__P_54_8="box_sv";this.__P_54_0.changeComponent(t.isLCh?"LCh-CL":"sv",p);this.__P_54_13=!0}else{this.__P_54_8="box_h";this.__P_54_0.changeComponent(t.isLCh?"LCh-h":"h",.5+Math.atan2(-_,v)/2/Math.PI);this.__P_54_13=!0}}else{var m=i;"T"===s&&(m=this.__P_54_15+m*(this.__P_54_16-this.__P_54_15));this.__P_54_8=s;this.__P_54_0.changeComponent(s,m);this.__P_54_13=!0}if(this.__P_54_13){document.addEventListener("pointermove",this);document.addEventListener("pointerup",this)}else this.__P_54_8=void 0;break;case"pointermove":if(!this.__P_54_13)return;if(0===e.buttons){this.__P_54_13=!1;document.removeEventListener("pointermove",this);document.removeEventListener("pointerup",this)}var f=this.__P_54_8.split("_")[0];t=this.__P_54_12[f];i=(e.clientX-this.__P_54_20)/t.width;r=(e.clientY-this.__P_54_21)/t.height;break;case"pointerup":this.__P_54_13=!1;document.removeEventListener("pointermove",this);document.removeEventListener("pointerup",this);var b=this.__P_54_8.split("_")[0];t=this.__P_54_12[b];i=(e.clientX-this.__P_54_20)/t.width;r=(e.clientY-this.__P_54_21)/t.height}if("pointerdown"!==e.type){var y=this.__P_54_8.split("_")[0],x=this.__P_54_12[y];switch(this.__P_54_8){case"wheel_sv":var P=void 0!==x?.5*x.innerRadius/x.outerRadius:1,C=cv.ui.structure.pure.ColorChooser.coord2sv(i,r,this.__P_54_0.getComponent(x.isLCh?"LCh":"hsv").h,P);this.__P_54_0.changeComponent(x.isLCh?"LCh-CL":"sv",[Math.min(Math.max(C[0],0),1),Math.min(Math.max(C[1],0),1)]);break;case"box_sv":var q=void 0!==x?.5*x.innerRadius/x.outerRadius:1,w=[-(i-.5)/q/2+.5,-(r-.5)/q/2+.5];this.__P_54_0.changeComponent(x.isLCh?"LCh-CL":"sv",[Math.min(Math.max(w[0],0),1),Math.min(Math.max(w[1],0),1)]);break;case"wheel_h":case"box_h":this.__P_54_0.changeComponent(x.isLCh?"LCh-h":"h",.5+Math.atan2(.5-i,r-.5)/2/Math.PI);break;case"T":this.__P_54_0.changeComponent("T",this.__P_54_15+Math.max(0,Math.min(i,1))*(this.__P_54_16-this.__P_54_15));break;default:this.__P_54_0.changeComponent(this.__P_54_8,i)}}this.__P_54_1.setTo(this.__P_54_0,!0);this.getSendOnFinish()&&"pointerup"!==e.type||this.__P_54_17.call()},__P_54_18:function(){var e=this;this.__P_54_5.forEach(function(t){var i,r,s=e.__P_54_0.getComponent(["xyY","x","y"].includes(t)?"xy":t);switch(t){case"h":s*=360;i="hsv-single";break;case"s":case"v":s*=100;i="hsv-single";break;case"hsv":s=new Map([["h",360*s.h],["s",100*s.s],["v",100*s.v]]);i="hsv";break;case"RGB-r":case"RGB-g":case"RGB-b":r=e.getBaseColors()[t.split("-")[1]];s=cv.util.Color.curve(s,r.curve,r.scale);i="rgb-single";break;case"RGBW-r":case"RGBW-g":case"RGBW-b":case"RGBW-w":r=e.getBaseColors()[t.split("-")[1]];s=cv.util.Color.curve(s,r.curve,r.scale);i="rgbw-single";break;case"rgb":r=e.getBaseColors();s=new Map([["r",cv.util.Color.curve(s.r,r.r.curve,r.r.scale)],["g",cv.util.Color.curve(s.g,r.g.curve,r.g.scale)],["b",cv.util.Color.curve(s.b,r.b.curve,r.b.scale)]]);i="rgb";break;case"rgbw":r=e.getBaseColors();s=new Map([["r",cv.util.Color.curve(s.r,r.r.curve,r.r.scale)],["g",cv.util.Color.curve(s.g,r.g.curve,r.g.scale)],["b",cv.util.Color.curve(s.b,r.b.curve,r.b.scale)],["w",cv.util.Color.curve(s.w,r.w.curve,r.w.scale)]]);i="rgbw";break;case"xy":s=new Map([["x",s.x],["y",s.y]]);i="xyY";break;case"xyY":var n=e.__P_54_0.getComponent("Y");s=new Map([["x",s.x],["y",s.y],["Y",n]]);i="xyY";break;case"Y":i="xyY";break;case"x":case"y":s=s[t];i="xyY"}void 0===e.__P_54_6[i]&&(e.__P_54_6[i]={});e.__P_54_6[i][t]=e.sendToBackend(s,function(e){return e.variantInfo===t},e.__P_54_6[i][t])})}},defer:function(e){cv.ui.structure.WidgetFactory.registerClass("colorchooser",e)}});cv.ui.structure.pure.ColorChooser.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"cv.ui.structure.AbstractWidget":{construct:!0,require:!0},"cv.ui.common.Operate":{require:!0},"cv.ui.common.HasAnimatedButton":{require:!0},"qx.data.store.Json":{construct:!0},"cv.io.rest.Client":{construct:!0},"cv.Config":{},"cv.util.Location":{},"qx.util.Uri":{},"cv.ui.structure.WidgetFactory":{defer:"runtime"}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("cv.ui.structure.pure.DesignToggle",{extend:cv.ui.structure.AbstractWidget,include:[cv.ui.common.Operate,cv.ui.common.HasAnimatedButton],construct:function(e){cv.ui.structure.AbstractWidget.constructor.call(this,e);new qx.data.store.Json(cv.io.rest.Client.getBaseUrl()+"/data/designs").addListener("loaded",function(e){this.setAvailableDesigns(e.getData())},this)},properties:{availableDesigns:{check:"Array",init:[]}},members:{_getInnerDomString:function(){return'<div class="actor switchUnpressed"><div class="value">'+cv.Config.getDesign()+"</div></div>"},_action:function(e,t,i){if(!i){var r=this.getAvailableDesigns(),s=this.getDomElement().querySelector(".value").textContent,n=r.getItem((r.indexOf(s)+1)%r.length),a=cv.util.Location.getHref(),c=new RegExp("design="+s);if(-1!==a.search(c))cv.util.Location.setHref(a.replace(c,"design="+n));else{var o=cv.util.Location.getHref().split("#"),u=qx.util.Uri.appendParamsToUrl(o[0],{design:n});o.length>1&&(u+="#"+o[1]);cv.util.Location.setHref(u)}}}},defer:function(e){cv.ui.structure.WidgetFactory.registerClass("designtoggle",e)}});cv.ui.structure.pure.DesignToggle.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"cv.ui.structure.AbstractWidget":{require:!0},"cv.ui.common.HasChildren":{require:!0},"cv.TemplateEngine":{},"cv.ui.structure.WidgetFactory":{defer:"runtime"}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("cv.ui.structure.pure.Group",{extend:cv.ui.structure.AbstractWidget,include:cv.ui.common.HasChildren,properties:{noWidget:{check:"Boolean",init:!1},name:{check:"String",init:""},target:{check:"String",nullable:!0}},members:{action:function(e){if(this.getTarget()){cv.TemplateEngine.getInstance().scrollToPage(this.getTarget());e.getBubbles()&&e.stopPropagation()}},getActor:function(){return this.getDomElement()},_onDomReady:function(){cv.ui.structure.pure.Group.prototype._onDomReady.base.call(this);this.getDomElement().style["z-index"]=1},getDomString:function(){var e="";this.getAlign()&&(e+='style="text-align:'+this.getAlign()+'"');var t='<div class="clearfix">';this.getName()&&(t+="<h2 "+e+">"+this.getName()+"</h2>");t+=this.getChildrenDomString();t+="</div>";return'<div class="'+this.getClasses()+'" '+this.getStyle()+">"+t+"</div>"}},defer:function(e){cv.ui.structure.WidgetFactory.registerClass("group",e)}});cv.ui.structure.pure.Group.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"cv.ui.structure.AbstractWidget":{require:!0},"cv.ui.common.Refresh":{require:!0},"cv.ui.common.Update":{require:!0},"qx.util.ResourceManager":{},"qx.util.Uri":{},"cv.ui.structure.WidgetFactory":{defer:"runtime"}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("cv.ui.structure.pure.Image",{extend:cv.ui.structure.AbstractWidget,include:[cv.ui.common.Refresh,cv.ui.common.Update],properties:{width:{check:"String",init:"100%"},height:{check:"String",nullable:!0},cropTop:{check:"String"},cropBottom:{check:"String"},src:{check:"String",init:""},widthFit:{check:"Boolean",init:!1},placeholder:{check:["none","src","hide","exclude"],init:"none"}},members:{__P_55_0:null,_getInnerDomString:function(){var e="";this.getWidth()&&(e+="width:"+this.getWidth()+";");!0===this.getWidthFit()&&(e+="max-width:100%;");this.getHeight()&&(e+="height:"+this.getHeight()+";");if(""!==this.getCropTop()||""!==this.getCropBottom()){var t="0%",i="";""!==this.getCropTop()&&(i="margin-bottom:"+(t="-"+this.getCropTop()));""!==this.getCropBottom()&&(i="margin-bottom:calc("+t+" - "+this.getCropBottom()+");");e+="object-position:0% "+t+";"+i}var r=this.__P_55_1();if(!r)switch(this.getPlaceholder()){case"hide":r=qx.util.ResourceManager.getInstance().toUri("qx/static/blank.gif");break;case"exclude":e+="display:none;";break;case"src":this.error("no src placeholder defined")}return'<div class="actor"><img src="'+r+'" style="'+e+'" /></div>'},__P_55_1:function(){if(!this.__P_55_0){var e=this.getSrc();qx.util.Uri.parseUri(this.getSrc()).protocol||e.startsWith("/")||(e=qx.util.ResourceManager.getInstance().toUri(e));this.__P_55_0=e||""}return this.__P_55_0},handleUpdate:function(e,t){var i=this.getValueElement();if(e)i.style.display="inline";else switch(this.getPlaceholder()){case"src":e=this.__P_55_1();i.style.display="inline";break;case"hide":e=qx.util.ResourceManager.getInstance().toUri("qx/static/blank.gif");i.style.display="inline";break;case"exclude":i.style.display="none"}i.setAttribute("src",e)},getValueElement:function(){return this.getDomElement().querySelector("img")},_applyVisible:function(e){var t=this.getValueElement();!t||this.getRefresh()>0||(!0===e?t.setAttribute("src",this.__P_55_1()):t.setAttribute("src",""))}},defer:function(e){cv.ui.structure.WidgetFactory.registerClass("image",e)}});cv.ui.structure.pure.Image.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"cv.ui.structure.AbstractWidget":{require:!0},"cv.ui.common.Operate":{require:!0},"cv.ui.common.HasAnimatedButton":{require:!0},"cv.ui.common.Refresh":{require:!0},"cv.ui.common.Update":{require:!0},"cv.parser.WidgetParser":{},"qx.util.Uri":{},"qx.util.ResourceManager":{},"cv.ui.structure.WidgetFactory":{defer:"runtime"}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("cv.ui.structure.pure.ImageTrigger",{extend:cv.ui.structure.AbstractWidget,include:[cv.ui.common.Operate,cv.ui.common.HasAnimatedButton,cv.ui.common.Refresh,cv.ui.common.Update],properties:{height:{check:"String",nullable:!0},updateType:{check:"String",init:""},width:{check:"String",init:"100%"},src:{check:"String",nullable:!0},suffix:{check:"String",nullable:!0},sendValue:{check:"String",init:""}},members:{_getInnerDomString:function(){var e="";0===Object.keys(this.getLayout()).length&&(e+=cv.parser.WidgetParser.extractLayout(this.getLayout(),this.getPageType()));this.getHeight()&&(e+="height:"+this.getHeight()+";");e.length>0&&(e=' style="'+e+'"');var t='<div class="actor">';"show"===this.getUpdateType()?t+='<img src="'+this.__P_56_0(this.getSrc()+"."+this.getSuffix())+'"'+e.trim()+" />":t+='<img src=""'+e+" />";return t+="</div>"},_update:function(e,t){var i=this.getDomElement().querySelector("img");if("show"===this.getUpdateType())if(0===t)i.style.display="none";else{i.setAttribute("src",this.__P_56_0(this.getSrc()+"."+this.getSuffix()));i.style.display="block"}else if("select"===this.getUpdateType())if(0===t)i.style.display="none";else{i.setAttribute("src",this.__P_56_0(this.getSrc()+t+"."+this.getSuffix()));i.style.display="block"}},__P_56_0:function(e){qx.util.Uri.parseUri(e).protocol||e.startsWith("/")||(e=qx.util.ResourceManager.getInstance().toUri(e));return e},_action:function(){""!==this.getSendValue()&&this.sendToBackend(this.getSendValue())}},defer:function(e){cv.ui.structure.WidgetFactory.registerClass("imagetrigger",e)}});cv.ui.structure.pure.ImageTrigger.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"cv.ui.structure.AbstractWidget":{require:!0},"cv.ui.common.Update":{require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("cv.ui.structure.pure.Info",{extend:cv.ui.structure.AbstractWidget,include:cv.ui.common.Update,members:{_getInnerDomString:function(){return'<div class="actor"><div class="value">-</div></div>'}}});cv.ui.structure.pure.Info.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"cv.ui.structure.AbstractWidget":{require:!0},"cv.ui.common.HasChildren":{require:!0},"cv.ui.structure.WidgetFactory":{defer:"runtime"}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("cv.ui.structure.pure.InfoAction",{extend:cv.ui.structure.AbstractWidget,include:cv.ui.common.HasChildren,properties:{anonymous:{refine:!0,init:!0}},members:{_getInnerDomString:function(){return this.getChildrenDomString()}},defer:function(e){cv.ui.structure.WidgetFactory.registerClass("infoaction",e)}});cv.ui.structure.pure.InfoAction.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"cv.ui.structure.AbstractWidget":{require:!0},"cv.ui.common.Operate":{require:!0},"cv.ui.common.Update":{require:!0},"cv.ui.common.HasAnimatedButton":{require:!0},"cv.ui.common.HandleLongpress":{require:!0},"qx.event.Registration":{},"cv.ui.structure.WidgetFactory":{defer:"runtime"}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("cv.ui.structure.pure.InfoTrigger",{extend:cv.ui.structure.AbstractWidget,include:[cv.ui.common.Operate,cv.ui.common.Update,cv.ui.common.HasAnimatedButton,cv.ui.common.HandleLongpress],properties:{downValue:{check:"Number",init:0},shortDownValue:{check:"Number",nullable:!0},downLabel:{check:"String",nullable:!0},upValue:{check:"Number",init:0},shortUpValue:{check:"Number",nullable:!0},upLabel:{check:"String",nullable:!0},isAbsolute:{check:"Boolean",init:!1},min:{check:"Number",init:0},max:{check:"Number",init:255},infoPosition:{check:["left","middle","right"],init:"middle"}},members:{_getInnerDomString:function(){var e='<div style="float:left;">',t='<div class="actor switchUnpressed downlabel" ';this.getAlign()&&(t+='style="text-align: '+this.getAlign()+'" ');t+=">";t+='<div class="label">'+(this.getDownLabel()||"-")+"</div>";t+="</div>";var i='<div class="actor switchUnpressed uplabel" ';this.getAlign()&&(i+='style="text-align: '+this.getAlign()+'" ');i+=">";i+='<div class="label">'+(this.getUpLabel()||"+")+"</div>";i+="</div>";var r='<div class="actor switchInvisible" ';this.getAlign()&&(r+='style="text-align: '+this.getAlign()+'" ');r+='><div class="value">-</div></div>';switch(this.getInfoPosition()){case"middle":e+=t;e+=r;e+=i;break;case"right":e+=t;e+=i;e+=r;break;default:e+=r;e+=t;e+=i}return e+"</div>"},getActors:function(){return this.getDomElement().querySelectorAll(".actor.uplabel, .actor.downlabel")},initListeners:function(){this.getActors().forEach(function(e){qx.event.Registration.addListener(e,"pointerdown",this._onPointerDown,this)},this)},__P_57_0:function(e){for(;!e.classList.contains("actor");)if((e=e.parentNode).classList.contains("widget"))return null;return e},_onLongTap:function(e){this.__P_57_1(!1,this.__P_57_0(e.getCurrentTarget()).classList.contains("downlabel"))},_action:function(e){this.__P_57_1(!0,this.__P_57_0(e.getCurrentTarget()).classList.contains("downlabel"))},__P_57_1:function(e,t){var i;i=e&&null!==this.getShortDownValue()&&null!==this.getShortUpValue()?t?this.getShortDownValue():this.getShortUpValue():t?this.getDownValue():this.getUpValue();var r=e?1:2;if(this.getIsAbsolute()){var s=parseFloat(this.getBasicValue());Number.isFinite(s)||(s=0);i=s+i;i=Math.max(i,this.getMin());i=Math.min(i,this.getMax())}this.sendToBackend(i,function(e){return!!(e.variantInfo&r)})},getDownActor:function(){return this.getDomElement().querySelector(".actor.downlabel")},getUpActor:function(){return this.getDomElement().querySelector(".actor.uplabel")},getInfoActor:function(){return this.getDomElement().querySelector(".actor.switchInvisible")}},defer:function(e){cv.ui.structure.WidgetFactory.registerClass("infotrigger",e)}});cv.ui.structure.pure.InfoTrigger.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"cv.ui.structure.AbstractWidget":{require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("cv.ui.structure.pure.Line",{extend:cv.ui.structure.AbstractWidget,members:{getDomString:function(){return"<hr "+(this.getClasses()?'class="'+this.getClasses()+'"':"")+"/>"}}});cv.ui.structure.pure.Line.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"cv.ui.structure.AbstractWidget":{require:!0},"cv.ui.common.Operate":{require:!0},"cv.ui.common.Update":{require:!0},"cv.ui.common.HasAnimatedButton":{require:!0},"qx.util.DeferredCall":{},"qx.event.Registration":{},"cv.ui.structure.WidgetFactory":{defer:"runtime"}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("cv.ui.structure.pure.MultiTrigger",{extend:cv.ui.structure.AbstractWidget,include:[cv.ui.common.Operate,cv.ui.common.Update,cv.ui.common.HasAnimatedButton],properties:{showstatus:{check:"Boolean",init:!1},elementsPerLine:{check:"Number",init:2},buttonConfiguration:{check:"Object",nullable:!1}},members:{_getInnerDomString:function(){var e='<div class="actor_container" style="float:left">',t=this.getMapping(),i=this.getElementsPerLine(),r=this.getButtonConfiguration();Object.keys(r).sort().forEach(function(s){var n=r[s],a=n.label;if(t){var c=this.defaultValueHandling(void 0,n.value);if(c!==n.value||!a){a="";this.defaultValue2DOM(c,function(e){a+=e})}}a&&(e+='<div class="actor switchUnpressed"><div class="value">'+a+"</div></div>");i>0&&s%i==0&&(e+="<br/>")},this);return e+"</div>"},getActors:function(){return this.getDomElement().querySelectorAll(".actor_container .actor")},_processIncomingValue:function(e,t){return this.applyTransform(e,t)},handleUpdate:function(){var e=this.getActors(),t=this.getButtonConfiguration();e.forEach(function(i){var r=Array.prototype.indexOf.call(e,i)+1;if(Object.prototype.hasOwnProperty.call(t,r)){var s=""+this.getBasicValue()==""+t[r].value;new qx.util.DeferredCall(function(){i.classList.remove(s?"switchUnpressed":"switchPressed");i.classList.add(s?"switchPressed":"switchUnpressed")},this).schedule()}},this)},getActionValue:function(e){var t=Array.prototype.indexOf.call(this.getDomElement().querySelectorAll(".actor_container .actor"),e.getCurrentTarget())+1;return this.getButtonConfiguration()[t].value},initListeners:function(){this.isAnonymous()||this.getActors().forEach(function(e){qx.event.Registration.addListener(e,"tap",this.action,this);qx.event.Registration.addListener(e,"pointerdown",this._onPointerDown,this)},this)}},defer:function(e){cv.ui.structure.WidgetFactory.registerClass("multitrigger",e)}});cv.ui.structure.pure.MultiTrigger.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"cv.ui.structure.AbstractWidget":{require:!0},"cv.ui.common.HasChildren":{require:!0},"cv.TemplateEngine":{},"qx.core.Init":{},"cv.ui.structure.WidgetFactory":{defer:"runtime"},"qx.event.message.Bus":{defer:"runtime"}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("cv.ui.structure.pure.NavBar",{extend:cv.ui.structure.AbstractWidget,include:cv.ui.common.HasChildren,properties:{anonymous:{refine:!0,init:!0},name:{check:"String",nullable:!0},scope:{check:"Number",init:-1},width:{check:"String",init:"300"},position:{check:["top","left","right","bottom"],init:"left"},dynamic:{check:"Boolean",nullable:!0,init:null},visible:{refine:!0,init:!0}},statics:{_navbarTop:"",_navbarLeft:"",_navbarRight:"",_navbarBottom:"",_touchX:null,_touchY:null,initializeNavbars:function(){["Top","Left","Right","Bottom"].forEach(function(e){if(this["_navbar"+e]){var t=document.querySelector("#navbar"+e);t&&(t.innerHTML+=this["_navbar"+e])}},this);var e=this,t=document.body.querySelector("#centerContainer");t.addEventListener("touchstart",function(t){var i=t.touches[0],r=cv.TemplateEngine.getInstance().pagePartsHandler;if(!(!1===r.navbars.left.dynamic||!qx.core.Init.getApplication().getMobile()&&!0!==r.navbars.left.dynamic||!r.navbars.left.fadeVisible&&i.clientX>20)){e._touchX=i.clientX;e._touchY=i.clientY}},!1);t.addEventListener("touchend",function(){e._touchX=null;e._touchY=null},!1);t.addEventListener("touchmove",function(t){if(null!==e._touchX){var i=t.touches[0],r=i.clientX-e._touchX,s=i.clientY-e._touchY,n=Math.abs(r)>10,a=r>0;if(Math.abs(r)>Math.abs(s)&&n){var c=cv.TemplateEngine.getInstance().pagePartsHandler;if(a){e._touchX=i.clientX-10;e._touchY=i.clientY;c.navbars.left.fadeVisible||c.fadeNavbar("Left","in",250)}else{e._touchX=i.clientX+10;e._touchY=i.clientY;c.navbars.left.fadeVisible&&c.fadeNavbar("Left","out",250)}}}},!1)}},members:{_onDomReady:function(){},getGlobalPath:function(){var e=this.getPath().split("_");e.pop();return e.join("_")+"_"+this.getPosition()+"_navbar"},getDomString:function(){var e='<div class="'+this.getClasses()+'" id="'+this.getGlobalPath()+'">';this.getName()&&(e+="<h2>"+this.getName()+"</h2>");e+=this.getChildrenDomString();e+="</div>";switch(this.getPosition()){case"top":cv.ui.structure.pure.NavBar._navbarTop+=e;break;case"left":cv.ui.structure.pure.NavBar._navbarLeft+=e;break;case"right":cv.ui.structure.pure.NavBar._navbarRight+=e;break;case"bottom":cv.ui.structure.pure.NavBar._navbarBottom+=e}return""}},defer:function(e){cv.ui.structure.WidgetFactory.registerClass("navbar",e);qx.event.message.Bus.subscribe("setup.dom.finished.before",e.initializeNavbars,e)}});cv.ui.structure.pure.NavBar.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"cv.ui.structure.AbstractWidget":{construct:!0,require:!0},"cv.ui.NotificationCenter":{},"cv.ui.structure.WidgetFactory":{defer:"runtime"}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("cv.ui.structure.pure.NotificationCenterBadge",{extend:cv.ui.structure.AbstractWidget,construct:function(e){var t=e.classes.trim().split(" "),i=t.indexOf("right");if(-1!==i){this.setContainerClass("float-right");t.splice(i,1);e.classes=t.join(" ")}cv.ui.structure.AbstractWidget.constructor.call(this,e)},properties:{counter:{check:"Number",init:0,apply:"_applyCounter"},hideWhenEmpty:{check:"Boolean",init:!1}},members:{__P_58_0:null,_onDomReady:function(){cv.ui.structure.pure.NotificationCenterBadge.prototype._onDomReady.base.call(this);var e=cv.ui.NotificationCenter.getInstance();e.getMessages().addListener("changeLength",this._onChangeCounter,this);this._onChangeCounter();e.addListener("changedGlobalSeverity",this._onChangeGlobalSeverity,this)},_applyVisible:function(e){cv.ui.NotificationCenter.getInstance().disableBadge(e)},action:function(e){this._skipNextEvent!==e.getType()?cv.ui.NotificationCenter.getInstance().toggleVisibility():this._skipNextEvent=null},__P_58_1:function(){this.__P_58_0||(this.__P_58_0=this.getDomElement().querySelector(".badge"));return this.__P_58_0},_onChangeGlobalSeverity:function(e){var t=this.__P_58_1().classList;t.remove.apply(t,cv.ui.NotificationCenter.getInstance().getSeverities());e.getData()&&t.add(e.getData())},_onChangeCounter:function(){var e=cv.ui.NotificationCenter.getInstance().getMessages().length;this.__P_58_1().innerHTML=""+e;this.isHideWhenEmpty()&&(this.__P_58_1().style.display=0===e?"none":"block")},_getInnerDomString:function(){var e="";this.isHideWhenEmpty()&&0===this.getCounter()&&(e=' style="display: none;"');return'<div class="actor badge"'+e+">"+this.getCounter()+"</div>"}},destruct:function(){var e=cv.ui.NotificationCenter.getInstance();e.getMessages().removeListener("changeLength",this._onChangeCounter,this);e.removeListener("changedGlobalSeverity",this._onChangeGlobalSeverity,this)},defer:function(e){cv.ui.structure.WidgetFactory.registerClass("notificationcenterbadge",e)}});cv.ui.structure.pure.NotificationCenterBadge.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"cv.ui.structure.AbstractWidget":{construct:!0,require:!0},"cv.ui.structure.IPage":{require:!0},"cv.ui.common.HasChildren":{require:!0},"cv.ui.common.Update":{require:!0},"qx.util.DeferredCall":{construct:!0},"qx.event.message.Bus":{defer:"runtime"},"cv.ui.layout.Manager":{},"cv.ui.layout.ResizeHandler":{},"qx.util.ResourceManager":{},"cv.TemplateEngine":{},"cv.data.Model":{},"cv.Transform":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("cv.ui.structure.pure.Page",{extend:cv.ui.structure.AbstractWidget,implement:cv.ui.structure.IPage,include:[cv.ui.common.HasChildren,cv.ui.common.Update],construct:function(e){this.__P_59_0=["showNavbarTop","showNavbarBottom","showNavbarLeft","showNavbarRight"];cv.ui.structure.AbstractWidget.constructor.call(this,e);this.addListener("changeVisible",this._onChangeVisible,this);new qx.util.DeferredCall(function(){var e=this.getParentPage();e?this.debug("binding navbar visibility from "+e.getPath()+" to "+this.getPath()):this.__P_59_0=[];[["showTopNavigation",!0],["showFooter",!0],["showNavbarTop",!1],["showNavbarBottom",!1],["showNavbarLeft",!1],["showNavbarRight",!1]].forEach(function(t){var i=t[0],r=t[1];null===this["get"+i.charAt(0).toUpperCase()+i.substr(1)]()&&(e?e.bind(i,this,i):this["set"+i.charAt(0).toUpperCase()+i.substr(1)](r));e||this.setInitialized(!0)},this)},this).schedule();this.getAddress()&&(this._initOnCreate=!0)},statics:{allPages:"",createFinal:function(){document.querySelector("#pages").innerHTML=this.allPages;qx.event.message.Bus.unsubscribe("setup.dom.append",this.createFinal,this)}},properties:{initialized:{check:"Boolean",init:!1,event:"changeInitialized"},anonymous:{refine:!0,init:!0},name:{check:"String",init:"",nullable:!0},showTopNavigation:{check:"Boolean",nullable:!0,event:"changeShowTopNavigation"},showFooter:{check:"Boolean",nullable:!0,event:"changeShowFooter"},showNavbarTop:{check:"Boolean",nullable:!0,event:"changeShowNavbarTop",apply:"_applyNavbarVisibility"},showNavbarBottom:{check:"Boolean",nullable:!0,event:"changeShowNavbarBottom",apply:"_applyNavbarVisibility"},showNavbarLeft:{check:"Boolean",nullable:!0,event:"changeShowNavbarLeft",apply:"_applyNavbarVisibility"},showNavbarRight:{check:"Boolean",nullable:!0,event:"changeShowNavbarRight",apply:"_applyNavbarVisibility"},backdropAlign:{init:"50% 50%",nullable:!0},backdropType:{check:"String",nullable:!0},linkVisible:{check:"Boolean",init:!0,nullable:!0},size:{check:"String",nullable:!0},backdrop:{check:"String",nullable:!0}},members:{__P_59_0:null,__P_59_1:null,__P_59_2:null,_applyNavbarVisibility:function(e,t,i){if(null!==e){var r=this.__P_59_0.indexOf(i);-1!==r&&this.__P_59_0.splice(r,1);0===this.__P_59_0.length&&this.setInitialized(!0)}},_onChangeVisible:function(e){if(e.getData()){this.__P_59_1!==cv.ui.layout.Manager.COLSPAN_CLASS&&this.applyColumnWidths();this.getBackdrop()&&cv.ui.layout.ResizeHandler.invalidateBackdrop()}},applyColumnWidths:function(){cv.ui.layout.Manager.applyColumnWidths("#"+this.getPath(),!1);this.__P_59_1=cv.ui.layout.Manager.COLSPAN_CLASS},getDomString:function(){var e=this.getPageType(),t='<div class="page type_'+e+(this.getFlavour()?" flavour_"+this.getFlavour():"")+'" id="'+this.getPath()+'">',i='<div class="clearfix"><h1>'+this.getName()+"</h1>";if("2d"===e){var r="width:100%;height:100%;";switch(this.getSize()){case"fixed":r="";break;case"contained":r+="object-fit:contain;";this.getBackdropAlign()&&(r+="object-position:"+this.getBackdropAlign()+";")}var s=this.getBackdrop();s&&(i+="<"+this.getBackdropType()+' src="'+qx.util.ResourceManager.getInstance().toUri(s)+'" style="position: absolute; top: 0px; left: 0px;z-index:-1;'+r+'"/>')}t+=(i+=this.getChildrenDomString())+"</div></div>";cv.ui.structure.pure.Page.allPages=t+cv.ui.structure.pure.Page.allPages},_update:function(e,t){if(1===parseInt(t)){cv.TemplateEngine.getInstance().scrollToPage(this.getPath());this.sendToBackend("0")}},sendToBackend:function(e){if(this.getAddress){var t=this.getAddress();for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var r=t[i];cv.data.Model.isWriteAddress(r)&&cv.TemplateEngine.getInstance().visu.write(i,cv.Transform.encode(r.transform,e))}}}},defer:function(e){qx.event.message.Bus.subscribe("setup.dom.append",e.createFinal,e)}});cv.ui.structure.pure.Page.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"cv.ui.structure.AbstractWidget":{construct:!0,require:!0},"cv.ui.common.HasChildren":{require:!0},"cv.ui.common.HasAnimatedButton":{require:!0},"cv.ui.structure.WidgetFactory":{defer:"runtime"},"cv.data.Model":{},"cv.util.Tree":{},"cv.TemplateEngine":{},"qx.event.message.Bus":{defer:"runtime"}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("cv.ui.structure.pure.PageJump",{extend:cv.ui.structure.AbstractWidget,include:[cv.ui.common.HasChildren,cv.ui.common.HasAnimatedButton],construct:function(e){e.name||(e.bindClickToWidget=!0);cv.ui.structure.AbstractWidget.constructor.call(this,e)},properties:{target:{check:"String",init:"0"},activeScope:{check:["target","path"],init:"target"},name:{check:"String",nullable:!0},targetPath:{check:"String",nullable:!0}},statics:{_onScrollToPage:function(e){var t=e.getData(),i=cv.ui.structure.WidgetFactory.getInstanceById(t),r=cv.data.Model.getInstance(),s=i.getName();document.querySelectorAll(".pagejump.active").forEach(function(e){e.classList.remove("active")},this);document.querySelectorAll(".pagejump.active_ancestor").forEach(function(e){e.classList.remove("active_ancestor")},this);document.querySelectorAll(".pagejump").forEach(function(e){var t=r.getWidgetDataByElement(e);s===t.target&&e.classList.add("active")},this);for(var n=cv.util.Tree.getParentWidget(i,"page"),a=document.querySelectorAll(".pagejump"),c=function(e,t){var i=r.getWidgetDataByElement(t);(e===i.target||"path"===i.activeScope&&("string"==typeof i.path&&i.path.match(e+"$")||"string"==typeof i.targetPath&&i.targetPath.match(e+"$")))&&t.classList.add("active_ancestor")};n&&cv.util.Tree.getParentWidget(n,"page");){a.forEach(function(e){c(n.getName(),e)});n=cv.util.Tree.getParentWidget(n,"page")}}},members:{_getInnerDomString:function(){var e='<div class="actor switchUnpressed';this.getAlign()&&(e+=this.getAlign());e+='">';this.getName()&&(e+='<div class="value">'+this.getName()+"</div>");return(e+="</div>")+this.getChildrenDomString()},action:function(){var e=this.getTarget();null!==this.getTargetPath()&&(e=cv.TemplateEngine.getInstance().getPageIdByPath(e,this.getTargetPath()));cv.TemplateEngine.getInstance().scrollToPage(e)}},defer:function(e){cv.ui.structure.WidgetFactory.registerClass("pagejump",e);qx.event.message.Bus.subscribe("path.pageChanged",e._onScrollToPage,e)}});cv.ui.structure.pure.PageJump.$$dbClassInfo=e}();function _typeof(e){"@babel/helpers - typeof";return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"cv.ui.structure.AbstractWidget":{require:!0},"cv.parser.WidgetParser":{},"cv.TemplateEngine":{},"cv.ui.structure.WidgetFactory":{defer:"runtime"}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("cv.ui.structure.pure.PageLink",{extend:cv.ui.structure.AbstractWidget,properties:{name:{check:"String",init:"",nullable:!0},wstyle:{check:"String",init:""},address:{check:"Object",init:{}},bindClickToWidget:{refine:!0,init:!0}},members:{getDomString:function(){var e=this.getLayout(),t="object"===_typeof(e)?"":'style="'+cv.parser.WidgetParser.extractLayout(e,this.getPageType())+'"',i='<div class="widget clearfix link pagelink '+this.getClasses()+'" '+t+">";i+='<div class="actor" '+this.getWstyle()+'><a href="javascript:void(0)">'+this.getName()+"</a></div>";return i+="</div>"},action:function(){cv.TemplateEngine.getInstance().scrollToPage(this.getPath()+"_")}},defer:function(e){cv.ui.structure.WidgetFactory.registerClass("pagelink",e)}});cv.ui.structure.pure.PageLink.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"cv.ui.structure.AbstractWidget":{require:!0},"cv.ui.common.Operate":{require:!0},"cv.ui.common.Update":{require:!0},"cv.ui.structure.WidgetFactory":{defer:"runtime"}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("cv.ui.structure.pure.PushButton",{extend:cv.ui.structure.AbstractWidget,include:[cv.ui.common.Operate,cv.ui.common.Update],properties:{downValue:{check:"String",init:"1"},upValue:{check:"String",init:"0"}},members:{_getInnerDomString:function(){return'<div class="actor switchUnpressed"><div class="value">-</div></div>'},initListeners:function(){this.addElementListener("pointerdown",this._onPointerDown,this);this.addElementListener("pointerup",this._onPointerUp,this)},handleUpdate:function(e){var t=this.getActor();e=""+this.getBasicValue();var i=this.getUpValue();t.classList.remove(e===i?"switchPressed":"switchUnpressed");t.classList.add(e===i?"switchUnpressed":"switchPressed")},getActionValue:function(e){return"pointerup"===e.type?this.getUpValue():this.getDownValue()},_onPointerUp:function(){var e=this.getUpValue();this.sendToBackend(e,function(e){return!e.variantInfo||"up"===e.variantInfo})},_onPointerDown:function(){var e=this.getDownValue();this.sendToBackend(e,function(e){return!e.variantInfo||"down"===e.variantInfo})}},defer:function(e){cv.ui.structure.WidgetFactory.registerClass("pushbutton",e)}});cv.ui.structure.pure.PushButton.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"cv.ui.structure.AbstractWidget":{require:!0},"cv.ui.common.Operate":{require:!0},"cv.ui.common.HasAnimatedButton":{require:!0},"cv.ui.common.BasicUpdate":{require:!0},"cv.TemplateEngine":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("cv.ui.structure.pure.Refresh",{extend:cv.ui.structure.AbstractWidget,include:[cv.ui.common.Operate,cv.ui.common.HasAnimatedButton,cv.ui.common.BasicUpdate],properties:{sendValue:{check:"String",nullable:!0}},members:{_onDomReady:function(){cv.ui.structure.pure.Refresh.prototype._onDomReady.base.call(this);this.defaultUpdate(void 0,this.getSendValue())},_getInnerDomString:function(){return'<div class="actor switchUnpressed"><div class="value">-</div></div>'},_action:function(){cv.TemplateEngine.getInstance().visu.restart(!0)}}});cv.ui.structure.pure.Refresh.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"cv.ui.structure.AbstractWidget":{require:!0},"cv.ui.common.Update":{require:!0},"cv.util.Location":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("cv.ui.structure.pure.Reload",{extend:cv.ui.structure.AbstractWidget,include:[cv.ui.common.Update],members:{getDomString:function(){},_getInnerDomString:function(){},_update:function(e,t){this.defaultValueHandling(e,t)>0&&cv.util.Location.reload(!0)}}});cv.ui.structure.pure.Reload.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"cv.ui.structure.AbstractWidget":{require:!0},"cv.ui.common.Update":{require:!0},"cv.Transform":{},"cv.ui.structure.WidgetFactory":{defer:"runtime"}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("cv.ui.structure.pure.Rgb",{extend:cv.ui.structure.AbstractWidget,include:[cv.ui.common.Update],members:{_getInnerDomString:function(){return'<div class="actor"><div class="value"></div></div>'},_update:function(e,t){if(void 0!==t&&void 0!==e){var i=this.getValueElement(),r=cv.Transform.decode(this.getAddress()[e].transform,t),s=window.getComputedStyle(i)["background-color"].replace(/[a-zA-Z()\s]/g,"").split(/,/);3!==s.length&&(s=[0,0,0]);switch(this.getAddress()[e].variantInfo){case"r":s[0]=r;break;case"g":s[1]=r;break;case"b":s[2]=r}i.style["background-color"]="rgb("+s[0]+", "+s[1]+", "+s[2]+")"}}},defer:function(e){cv.ui.structure.WidgetFactory.registerClass("rgb",e)}});cv.ui.structure.pure.Rgb.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"cv.ui.structure.AbstractWidget":{construct:!0,require:!0},"cv.ui.common.Update":{require:!0},"cv.util.LimitedRateUpdateAnimator":{},"cv.Transform":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("cv.ui.structure.pure.Roundbar",{extend:cv.ui.structure.AbstractWidget,include:cv.ui.common.Update,construct:function(e){this.__P_60_0=[];cv.ui.structure.AbstractWidget.constructor.call(this,e)},statics:{coord:function(e){return e.x.toFixed(1)+" "+e.y.toFixed(1)},createBarPath:function(e,t,i,r,s,n){var a=arguments.length>6&&void 0!==arguments[6]&&arguments[6],c=e+t,o=i+r,u=e>i?1:0,l=s,d=s+1*n/4,h=s+2*n/4,g=s+3*n/4,_=s+n,v={x:Math.cos(e)*l,y:-Math.sin(e)*l},p={x:Math.cos(c)*h,y:-Math.sin(c)*h},m={x:Math.cos(e)*_,y:-Math.sin(e)*_},f={x:Math.cos((e+i)/2)*l,y:-Math.sin((e+i)/2)*l},b={x:Math.cos((e+i)/2)*_,y:-Math.sin((e+i)/2)*_},y={x:Math.cos(i)*l,y:-Math.sin(i)*l},x={x:Math.cos(o)*h,y:-Math.sin(o)*h},P={x:Math.cos(i)*_,y:-Math.sin(i)*_},C=Math.abs(e-c)>Math.PI?1:0,q=Math.abs(e-i)/2>Math.PI?1:0,w=Math.abs(i-o)>Math.PI?1:0,k=e<c?1:0,S=i<o?1:0;function A(e,t,i,r,s){return e.x===t.x&&e.y===t.y?"":Math.abs(e.x-t.x)+Math.abs(e.y-t.y)<2?"L"+cv.ui.structure.pure.Roundbar.coord(t):["A",i,i,0,r,s,cv.ui.structure.pure.Roundbar.coord(t)].join(" ")}if(a){var B=Math.max(l,_),M=function(t){return e<t&&t<i||e>t&&t>i},W=M(4*-Math.PI/2)||M(0*Math.PI/2)?B:v.x,L=M(3*-Math.PI/2)||M(1*Math.PI/2)?-B:v.y,I=M(2*-Math.PI/2)||M(2*Math.PI/2)?-B:v.x,T=M(1*-Math.PI/2)||M(3*Math.PI/2)?B:v.y;return{u:Math.min(v.y,p.y,m.y,y.y,x.y,P.y,L),d:Math.max(v.y,p.y,m.y,y.y,x.y,P.y,T),l:Math.min(v.x,p.x,m.x,y.x,x.x,P.x,I),r:Math.max(v.x,p.x,m.x,y.x,x.x,P.x,W)}}return n<1?["M",cv.ui.structure.pure.Roundbar.coord(m),A(m,b,_,q,u),A(b,P,_,q,u)].join(""):["M",cv.ui.structure.pure.Roundbar.coord(v),c===e?"L"+cv.ui.structure.pure.Roundbar.coord(m):A(v,p,d,C,1-k)+A(p,m,g,C,k),A(m,b,_,q,u),A(b,P,_,q,u),o===i?"L"+cv.ui.structure.pure.Roundbar.coord(y):A(P,x,g,w,1-S)+A(x,y,d,w,S),A(v,f,l,q,1-u),A(f,v,l,q,1-u),"Z"].join("")},createPointerPath:function(e,t){var i=Math.sin(e),r=Math.cos(e),s=r*t.width,n=i*t.width;if(t.thickness>0){var a=-i*t.thickness/2,c=r*t.thickness/2;return["M",this.coord({x:r*t.radius+s-a,y:-(i*t.radius+n-c)}),"L",this.coord({x:r*t.radius,y:-i*t.radius}),"L",this.coord({x:r*t.radius+s+a,y:-(i*t.radius+n+c)})].join("")}return["M",this.coord({x:r*t.radius,y:-i*t.radius}),"L",this.coord({x:r*t.radius+s,y:-(i*t.radius+n)})].join("")}},properties:{type:{check:"Array"},indicators:{check:"Array"},min:{check:"Number"},max:{check:"Number"},axisradius:{check:"Number"},axiswidth:{check:"Number"},axiscolor:{check:"String"},ranges:{check:"Array"},minorradius:{check:"Number"},minorwidth:{check:"Number"},minorspacing:{check:"String"},minorcolor:{check:"String"},majorradius:{check:"Number"},majorwidth:{check:"Number"},majorposition:{check:"String"},majorcolor:{check:"String"},labels:{check:"Array"},labelstyle:{check:"String"},start:{check:"Number"},end:{check:"Number"},arrowtype:{check:"Number"},spacing:{check:"Number"},overflowarrow:{check:"Boolean"},fontsize:{check:"Number"},textx:{check:"Number"},texty:{check:"Number"},textlength:{check:"Number"},textanchor:{check:"String"},linespace:{check:"Number"},bboxgrow:{check:"Object"},debug:{check:"Boolean"},currentRatioValue:{check:"Array",init:[]},targetRatioValue:{check:"Array",init:[]}},members:{__P_60_1:void 0,__P_60_0:null,_getInnerDomString:function(){function e(e,t,i){e.u>i&&(e.u=i);e.d<i&&(e.d=i);e.l>t&&(e.l=t);e.r<t&&(e.r=t);return e}this.setCurrentRatioValue(Array(this.getIndicators().length).fill(0));this.setTargetRatioValue(Array(this.getIndicators().length).fill([0,!1,!1]));var t=this,i=this.getStart(),r=this.getEnd(),s=this.getMin(),n=this.getMax(),a=0,c="",o="",u="",l="",d="",h="",g=cv.ui.structure.pure.Roundbar.createBarPath,_=this.getAxisradius()+this.getAxiswidth(),v=0,p=0;this.getIndicators().forEach(function(e){_=Math.max(_,e.radius,e.radius+e.width);v=Math.max(v,e.startarrow);p=Math.max(p,e.endarrow)});var m=g(i,v,r,p,_,0,!0);if(this.getMinorwidth()>0){var f=parseFloat(this.getMinorspacing()),b=this.getMinorradius(),y=this.getMinorwidth()+b;/^[0-9]+%/.test(this.getMinorspacing())&&(f=(n-s)*f/100);o+='<path class="minor" d="';for(var x=i,P=(r-i)*f/(n-s),C=(n-s)/f;C>=0;x+=P,C--){var q=Math.sin(x),w=Math.cos(x);o+=["M",cv.ui.structure.pure.Roundbar.coord({x:w*b,y:-q*b}),"L",cv.ui.structure.pure.Roundbar.coord({x:w*y,y:-q*y})].join("");m=e(m=e(m,w*b,-q*b),w*y,-q*y)}""!==this.getMinorcolor()&&(o+='" style="stroke:'+this.getMinorcolor());o+='" />'}if(this.getMajorwidth()>0){var k=this.getMajorradius(),S=this.getMajorwidth()+k;c+='<path class="major" d="';this.getMajorposition().split(";").forEach(function(t){switch(t){case"min":t=s;break;case"max":t=n}var a=i+(r-i)*(t-s)/(n-s),o=Math.sin(a),u=Math.cos(a);c+=["M",cv.ui.structure.pure.Roundbar.coord({x:u*k,y:-o*k}),"L",cv.ui.structure.pure.Roundbar.coord({x:u*S,y:-o*S})].join("");m=e(m=e(m,u*k,-o*k),u*S,-o*S)});""!==this.getMajorcolor()&&(c+='" style="stroke:'+this.getMajorcolor());c+='" />'}var A=this.getLabelstyle();this.getLabels().forEach(function(e,a){var c=i+(r-i)*(e.value-s)/(n-s),o=e.radius*Math.cos(c),l=e.radius*-Math.sin(c),d="",h="",g=0;if(e.orientation<3){u+='<text class="axislabel" x="'+o+'" y="'+l+'"';switch(e.orientation){default:case 0:h=o<0?["end","middle","start"][e.position]:["start","middle","end"][e.position];Math.abs(o)<1&&(h="middle");d=l<0?["baseline","middle","hanging"][e.position]:["hanging","middle","baseline"][e.position];Math.abs(l)<1&&(d="middle");break;case 1:var _=180*-c/Math.PI+90;if(l<0)d=["baseline","middle","hanging"][e.position];else{d=["hanging","middle","baseline"][e.position];_+=180}h="middle";u+=' transform="rotate('+_+","+o+","+l+')"';break;case 2:g=180*-c/Math.PI;if(o<0){h=["end","middle","start"][e.position];g+=180}else h=["start","middle","end"][e.position];d="middle";u+=' transform="rotate('+g+","+o+","+l+')"'}u+=' dominant-baseline="'+d+'"';u+=' text-anchor="'+h+'"';""!==A&&(u+=' style="'+A+'"');u+=">"+e.name+"</text>"}else{var v=t.$$user_path+"_label"+a,p=i<r?0:1,m="",f="";switch(e.orientation){case 3:m=["M",o,l,"A",e.radius,e.radius,0,0,p,-o,-l,"A",e.radius,e.radius,0,0,p,o,l].join(" ");break;case 4:m=["M",-o,-l,"A",e.radius,e.radius,0,0,p,o,l,"A",e.radius,e.radius,0,0,p,-o,-l].join(" ");f=' startOffset="50%" text-anchor="middle"';break;case 5:m=["M",o,l,"A",e.radius,e.radius,0,0,p,-o,-l,"A",e.radius,e.radius,0,0,p,o,l].join(" ");f=' startOffset="100%" text-anchor="end"'}u+='<path style="stroke:none; fill:none; stroke-width:0" id="'+v+'" d="'+m+'"/>';u+='<text class="axislabel"';""!==A&&(u+=' style="'+A+'"');u+='><textPath href="#'+v+'"'+f+">"+e.name+"</textPath></text>"}});this.getRanges().forEach(function(a){var c=(r-i)*(a.start-s)/(n-s)+i,o=(r-i)*(a.end-s)/(n-s)+i,u=a.radius||t.getAxisradius(),d=a.width||t.getAxiswidth(),h=g(c,0,o,0,u,d,!0);l+='<path class="range" d="';l+=g(c,0,o,0,u,d);a.style&&(l+='" style="'+a.style);l+='" />';m=e(m=e(m,h.l,h.u),h.r,h.d)});this.__P_60_1=[];this.getIndicators().forEach(function(e,i){t.__P_60_1.push(new cv.util.LimitedRateUpdateAnimator(t.__P_60_2,t,i));d+='<path class="indicator" style="'+e.style+'" />';e.showValue&&a++});if(a>0){h+='<text class="value" y="'+this.getTexty()+'" text-anchor="'+this.getTextanchor()+'" font-size="'+this.getFontsize()+'"><tspan x="'+this.getTextx()+'" dy="0">-</tspan>'+('<tspan x="'+this.getTextx()+'" dy="'+this.getLinespace()+'">-</tspan>').repeat(a-1)+"</text>";var B={start:[0,1],middle:[.5,.5],end:[1,0]}[this.getTextanchor()]||[0,1],M=Math.min(0,-this.getFontsize(),this.getLinespace()*(a-1)-(this.getLinespace()<0?this.getFontsize():0)),W=Math.max(0,-this.getFontsize(),this.getLinespace()*(a-1)-(this.getLinespace()<0?this.getFontsize():0));m=e(m=e(m,this.getTextx()-B[0]*this.getTextlength(),this.getTexty()+M),this.getTextx()+B[1]*this.getTextlength(),this.getTexty()+W)}var L='<div class="actor"><svg width="100%" height="100%" viewBox="'+[m.l-this.getBboxgrow().l,m.u-this.getBboxgrow().u,m.r-m.l+this.getBboxgrow().l+this.getBboxgrow().r,m.d-m.u+this.getBboxgrow().u+this.getBboxgrow().d].join(" ")+'">';this.getDebug()&&(L+='<rect width="'+(m.r-m.l)+'" height="'+(m.d-m.u)+'" x="'+m.l+'" y="'+m.u+'" stroke="blue" fill="none" /><rect width="'+(m.r-m.l+this.getBboxgrow().l+this.getBboxgrow().r)+'" height="'+(m.d-m.u+this.getBboxgrow().u+this.getBboxgrow().d)+'" x="'+(m.l-this.getBboxgrow().l)+'" y="'+(m.u-this.getBboxgrow().u)+'" stroke="green" fill="none" /><circle cx="0" cy="0" r="3" fill="red" />');if(this.getAxisradius()>0){var I=g(i,0,r,0,this.getAxisradius(),0),T=g(i,0,r,0,this.getAxisradius(),this.getAxiswidth()),D=""===this.getAxiscolor()?void 0:this.getAxiscolor(),R=this.getAxiswidth()<1?"none":D;L+='<path class="sector" d="'+I+' L0 0Z"/><path class="axis" d="'+T+'" style="'+(D?"stroke:"+D:"")+(R?";fill:"+R:"")+'"/>'}L+=o+c+l+u+d+h;return L+="</svg></div>"},_update:function(e,t){if(void 0!==t&&void 0!==e){var i=this,r=cv.Transform.decode(this.getAddress()[e].transform,t),s=this.getTargetRatioValue(),n=Array.from(this.getDomElement().getElementsByTagName("tspan")),a=this.applyFormat(e,r);this.getIndicators().forEach(function(t,c){if(e===t.address){s[c]=[(Math.min(Math.max(r,t.min),t.max)-t.min)/(t.max-t.min),r<t.min,r>t.max];void 0!==n[c]&&(n[c].textContent=a);i.__P_60_1[c].setTo(s[c][0],!i.isVisible())}});this.setTargetRatioValue(s)}},__P_60_2:function(e,t){0===this.__P_60_0.length&&(this.__P_60_0=Array.from(this.getDomElement().getElementsByClassName("indicator")));var i=this.getIndicators()[t],r=this.getTargetRatioValue()[t],s=this.getStart(),n=this.getEnd(),a=s+e*(n-s),c=this.getOverflowarrow();c||(a=n>s?Math.max(s,a-i.endarrow):Math.min(s,a-i.endarrow));i.isBar?this.__P_60_0[t].setAttribute("d",cv.ui.structure.pure.Roundbar.createBarPath(s,!c||r[1]&&e<.01?i.startarrow:0,a,!c||r[2]&&e>.99?i.endarrow:0,i.radius,i.width)):this.__P_60_0[t].setAttribute("d",cv.ui.structure.pure.Roundbar.createPointerPath(a,i))}}});cv.ui.structure.pure.Roundbar.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"cv.ui.structure.AbstractWidget":{construct:!0,require:!0},"cv.ui.common.Operate":{require:!0},"cv.ui.common.Update":{require:!0},"cv.util.LimitedRateUpdateAnimator":{construct:!0},"cv.ui.layout.ResizeHandler":{construct:!0},"cv.util.Function":{},"cv.Transform":{},"cv.ui.structure.WidgetFactory":{defer:"runtime"}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("cv.ui.structure.pure.Slide",{extend:cv.ui.structure.AbstractWidget,include:[cv.ui.common.Operate,cv.ui.common.Update],construct:function(e){var t=this;cv.ui.structure.AbstractWidget.constructor.call(this,e);this.__P_61_0=new cv.util.LimitedRateUpdateAnimator(this.__P_61_1,this);this.__P_61_2=cv.ui.layout.ResizeHandler.states.addListener("changePageSizeInvalid",function(){t.__P_61_3()});this.__P_61_4={}},destruct:function(){cv.ui.layout.ResizeHandler.states.removeListenerById(this.__P_61_2);this.__P_61_2=null;this.__P_61_5=null},properties:{min:{check:"Number",init:0},max:{check:"Number",init:100},step:{check:"Number",init:.5},showInvalidValues:{check:"Boolean",init:!1},sendOnFinish:{check:"Boolean",init:!1}},members:{__P_61_4:null,__P_61_0:null,__P_61_5:void 0,__P_61_6:void 0,__P_61_7:void 0,__P_61_8:void 0,__P_61_2:void 0,__P_61_9:!1,__P_61_10:void 0,_getInnerDomString:function(){return'\n        <div class="actor ui-slider ui-slider-horizontal ui-widget ui-widget-content ui-corner-all" style="touch-action: pan-y;">\n          <button class="ui-slider-handle ui-state-default ui-corner-all" draggable="false" unselectable="true" style="transform: translate3d(0px, 0px, 0px);">'+(""===this.getFormat()?"":"-")+'</button>\n          <div class="ui-slider-range value" style="margin-left: 0px; width: 0px;"></div>\n        </div>\n      '},_onDomReady:function(){cv.ui.structure.pure.Slide.prototype._onDomReady.base.call(this);this.__P_61_11=cv.util.Function.throttle(this.__P_61_12,250,{trailing:!0},this);this.getActor().addEventListener("pointerdown",this)},_update:function(e,t){var i=this.getAddress()[e].transform;if(!this.__P_61_9&&this.__P_61_4[i]!==t){this.__P_61_4={};this.__P_61_4[i]=t;var r=cv.Transform.decode(i,t);this.__P_61_13(r,!this.isVisible())}},__P_61_13:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=this.getMin(),s=this.getMax(),n=this.getStep();(0===n||Math.abs((s-r)/n)>1e4)&&(n=(s-r)/1e4);var a=Math.min(Math.max(e,r),s);if(!this.getShowInvalidValues()){var c=Math.round((a-r)/n)*n+r;a=a<(Math.floor((s-r)/n)*n+r+s)/2?c:s}var o=s===r?0:(a-r)/(s-r);if(i){var u=o-(s===r?0:(Math.min(Math.max(e,r),s)-r)/(s-r)),l=(s-r)/n,d=Math.pow(2*l,3);o-=Math.min(d*Math.pow(u,4),Math.abs(u))*Math.sign(u)}this.setBasicValue(a);if(""!==this.getFormat()){var h=this.applyMapping(a);h=this.applyFormat(void 0,h);this.setValue(h);this.applyStyling(a);var g=this.getDomElement().querySelector("button");this.defaultValue2DOM(h,function(e){g.innerHTML=e})}this.__P_61_0.setTo(o,t)},__P_61_1:function(e){if(void 0===this.__P_61_5){var t=this.getDomElement();this.__P_61_5=t.querySelector("button");this.__P_61_6=t.querySelector(".ui-slider-range")}if(null!==this.__P_61_5){if(void 0===this.__P_61_7||void 0===this.__P_61_8){var i=this.getDomElement().querySelector(".actor"),r=window.getComputedStyle(i);this.__P_61_7=parseFloat(r.getPropertyValue("width"));this.__P_61_8=parseFloat(window.getComputedStyle(this.__P_61_5).getPropertyValue("width"));this.__P_61_6.style.marginLeft="-"+r.getPropertyValue("padding-left");this.__P_61_6.style.borderRadius=r.getPropertyValue("border-radius")}var s=e*this.__P_61_7;this.__P_61_5.style.transform="translate3d("+(s-this.__P_61_8/2)+"px, 0px, 0px)";this.__P_61_6.style.width=s+"px"}else this._disposeObjects("__P_61_0")},__P_61_3:function(){var e=this.getMin(),t=this.getMax();this.__P_61_7=void 0;this.__P_61_0.setTo(t===e?0:(this.getBasicValue()-e)/(t-e),!0)},handleEvent:function(e){var t=0;switch(e.type){case"pointerdown":this.__P_61_9=!0;document.addEventListener("pointermove",this);document.addEventListener("pointerup",this);var i=e.currentTarget.getBoundingClientRect(),r=window.getComputedStyle(e.currentTarget);this.__P_61_10=i.left+parseFloat(r.paddingLeft);t=(e.clientX-this.__P_61_10)/this.__P_61_7;break;case"pointermove":if(!this.__P_61_9)return;t=(e.clientX-this.__P_61_10)/this.__P_61_7;break;case"pointerup":this.__P_61_9=!1;document.removeEventListener("pointermove",this);document.removeEventListener("pointerup",this);t=(e.clientX-this.__P_61_10)/this.__P_61_7}t=Math.min(Math.max(t,0),1);var s=this.getMin()+t*(this.getMax()-this.getMin());this.__P_61_13(s,this.__P_61_9,this.__P_61_9);this.getSendOnFinish()&&"pointerup"!==e.type||this.__P_61_11.call(s)},__P_61_12:function(e){this.__P_61_4=this.sendToBackend(e,!1,this.__P_61_4)}},defer:function(e){cv.ui.structure.WidgetFactory.registerClass("slide",e)}});cv.ui.structure.pure.Slide.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"cv.ui.structure.AbstractWidget":{require:!0},"cv.ui.common.Operate":{require:!0},"cv.ui.common.Update":{require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("cv.ui.structure.pure.Switch",{extend:cv.ui.structure.AbstractWidget,include:[cv.ui.common.Operate,cv.ui.common.Update],properties:{onValue:{check:"String",init:"1"},offValue:{check:"String",init:"0"}},members:{_getInnerDomString:function(){return'<div class="actor switchUnpressed"><div class="value">-</div></div>'},handleUpdate:function(e){var t=this.getActor();e=this.getBasicValue();var i=this.getOffValue();t.classList.remove(e==i?"switchPressed":"switchUnpressed");t.classList.add(e==i?"switchUnpressed":"switchPressed")},getActionValue:function(){return this.getBasicValue()==this.getOffValue()?this.getOnValue():this.getOffValue()}}});cv.ui.structure.pure.Switch.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"cv.ui.structure.AbstractWidget":{require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("cv.ui.structure.pure.Text",{extend:cv.ui.structure.AbstractWidget,members:{_getInnerDomString:function(){return""}}});cv.ui.structure.pure.Text.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"cv.ui.structure.AbstractWidget":{require:!0},"cv.ui.common.Operate":{require:!0},"cv.ui.common.Update":{require:!0},"cv.ui.common.HasAnimatedButton":{require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("cv.ui.structure.pure.Toggle",{extend:cv.ui.structure.AbstractWidget,include:[cv.ui.common.Operate,cv.ui.common.Update,cv.ui.common.HasAnimatedButton],members:{_getInnerDomString:function(){return'<div class="actor switchUnpressed"><div class="value">-</div></div>'},getActionValue:function(){return this.getNextMappedValue(this.getBasicValue(),this.getMapping())}}});cv.ui.structure.pure.Toggle.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"cv.ui.structure.AbstractWidget":{require:!0},"cv.ui.common.Operate":{require:!0},"cv.ui.common.HasAnimatedButton":{require:!0},"cv.ui.common.BasicUpdate":{require:!0},"cv.ui.common.HandleLongpress":{require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("cv.ui.structure.pure.Trigger",{extend:cv.ui.structure.AbstractWidget,include:[cv.ui.common.Operate,cv.ui.common.HasAnimatedButton,cv.ui.common.BasicUpdate,cv.ui.common.HandleLongpress],properties:{sendValue:{check:"String",init:"0"},shortValue:{check:"String",init:"0"}},members:{_onDomReady:function(){cv.ui.structure.pure.Trigger.prototype._onDomReady.base.call(this);this.defaultUpdate(void 0,this.getSendValue(),this.getDomElement())},_getInnerDomString:function(){return'<div class="actor switchUnpressed"><div class="value">-</div></div>'},_action:function(){var e=this.getShortThreshold()>0||this.isShortDefault()?this.getShortValue():this.getSendValue();this.sendToBackend(e,function(e){return!!(1&e.variantInfo)})},_onLongTap:function(){this.sendToBackend(this.getSendValue(),function(e){return!!(2&e.variantInfo)})}}});cv.ui.structure.pure.Trigger.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.core.Object":{require:!0},"qx.locale.Manager":{},"cv.ui.structure.WidgetFactory":{defer:"runtime"}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("cv.ui.structure.pure.Unknown",{extend:qx.core.Object,construct:function(e){this.set(e)},properties:{path:{check:"String",init:""},$$type:{check:"String",init:"Unknown"},unknownType:{check:"String",init:""},pageType:{check:["text","2d","3d"],init:"text"},parentWidget:{check:"cv.ui.structure.AbstractBasicWidget",init:null}},members:{getDomElement:function(){return document.querySelector("#"+this.getPath())},getDomString:function(){return'<div class="widget clearfix"><pre>'+qx.locale.Manager.tr("unknown: %1",this.getUnknownType())+"</pre></div>"}},defer:function(e){cv.ui.structure.WidgetFactory.registerClass("unknown",e)}});cv.ui.structure.pure.Unknown.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"cv.ui.structure.AbstractWidget":{require:!0},"cv.ui.common.Operate":{require:!0},"cv.ui.common.HasAnimatedButton":{require:!0},"cv.ui.common.BasicUpdate":{require:!0},"qx.io.request.Xhr":{},"qx.util.ResourceManager":{},"cv.ui.structure.WidgetFactory":{defer:"runtime"}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("cv.ui.structure.pure.UrlTrigger",{extend:cv.ui.structure.AbstractWidget,include:[cv.ui.common.Operate,cv.ui.common.HasAnimatedButton,cv.ui.common.BasicUpdate],properties:{sendValue:{check:"String",init:"0"},params:{check:"String",init:""},url:{check:"String",nullable:!0,apply:"_applyUrl"}},members:{__P_62_0:null,getXhr:function(){return this.__P_62_0},_applyUrl:function(e){if(e)if(this.__P_62_0)this.__P_62_0.setUrl(qx.util.ResourceManager.getInstance().toUri(e));else{var t=new qx.io.request.Xhr(qx.util.ResourceManager.getInstance().toUri(e));t.set({method:"GET",accept:"application/html",requestData:this.getParams()});this.__P_62_0=t}},_onDomReady:function(){cv.ui.structure.pure.UrlTrigger.prototype._onDomReady.base.call(this);this.defaultUpdate(void 0,this.getSendValue(),this.getDomElement())},_getInnerDomString:function(){var e='<div class="actor switchUnpressed ';this.getAlign()&&(e+=this.getAlign());return e+='"><div class="value"></div></div>'},_action:function(){this.__P_62_0&&this.__P_62_0.send()}},destruct:function(){this._disposeObjects("__P_62_0")},defer:function(e){cv.ui.structure.WidgetFactory.registerClass("urltrigger",e)}});cv.ui.structure.pure.UrlTrigger.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"cv.ui.structure.AbstractWidget":{require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("cv.ui.structure.pure.Video",{extend:cv.ui.structure.AbstractWidget,properties:{width:{check:"String",nullable:!0},height:{check:"String",nullable:!0},src:{check:"String",init:""},autoplay:{check:"Boolean",init:!1}},members:{_getInnerDomString:function(){var e="";this.getWidth()&&(e+="width:"+this.getWidth()+";");this.getHeight()&&(e+="height:"+this.getHeight()+";");""!==e&&(e='style="'+e+'"');var t=this.isAutoplay()?' autoplay="autoplay"':"";return'<div class="actor"><video src="'+this.getSrc()+'" '+e+t+'  controls="controls" /></div>'},getValueElement:function(){return this.getDomElement().querySelector("video")},_applyVisible:function(e){var t=this.getValueElement();t&&(!0===e&&this.isAutoplay()?t.play():t.pause())}}});cv.ui.structure.pure.Video.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"cv.ui.structure.AbstractWidget":{require:!0},"cv.ui.common.Update":{require:!0},"cv.ui.common.Refresh":{require:!0},"cv.TemplateEngine":{},"cv.Transform":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("cv.ui.structure.pure.Web",{extend:cv.ui.structure.AbstractWidget,include:[cv.ui.common.Update,cv.ui.common.Refresh],properties:{width:{check:"String",nullable:!0},height:{check:"String",nullable:!0},frameborder:{check:"Boolean",init:!1},background:{check:"String",nullable:!0},scrolling:{check:["auto","yes","no"],nullable:!0},src:{check:"String",nullable:!0}},members:{_getInnerDomString:function(){var e=this.getStyle();this.getWidth()?e+="width:"+this.getWidth()+";":e+="width: 100%;";this.getHeight()&&(e+="height:"+this.getHeight()+";");!1===this.getFrameborder()&&(e+="border: 0px ;");this.getBackground()&&(e+="background-color:"+this.getBackground()+";");""!==e&&(e='style="'+e+'"');var t="";this.getScrolling()&&(t='scrolling="'+this.getScrolling()+'"');return'<div class="actor"><iframe src="'+this.getSrc()+'" '+e+t+"></iframe></div>"},_update:function(e,t){var i=this.getAddress()[e];if(i&&1===t){var r=this.getDomElement().querySelector("iframe");this.refreshAction(r,r.getAttribute("src"));cv.TemplateEngine.getInstance().visu.write(e,cv.Transform.encode(i.transform,0))}}}});cv.ui.structure.pure.Web.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"cv.ui.structure.AbstractWidget":{require:!0},"cv.ui.common.Update":{require:!0},"qx.io.request.Xhr":{},"cv.TemplateEngine":{},"cv.ui.structure.WidgetFactory":{defer:"runtime"}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("cv.ui.structure.pure.WgPluginInfo",{extend:cv.ui.structure.AbstractWidget,include:cv.ui.common.Update,properties:{variable:{check:"String",nullable:!0,apply:"_applyVariable"}},members:{__P_63_0:null,_applyVariable:function(e){if(e){if(this.__P_63_0)this.__P_63_0.setUrl("/wg-plugindb.php?name="+e);else{this.__P_63_0=new qx.io.request.Xhr("/wg-plugindb.php?name="+e);this.__P_63_0.set({accept:"application/json"});this.__P_63_0.addListener("success",this._onSuccess,this)}cv.TemplateEngine.getInstance().executeWhenDomFinished(this.__P_63_0.send,this.__P_63_0)}},getRequest:function(){return this.__P_63_0},_onSuccess:function(e){var t=e.getTarget().getResponse();this.defaultUpdate(void 0,t[this.getVariable()],this.getValueElement())},_getInnerDomString:function(){return'<div class="actor"><div class="value">-</div></div>'},handleUpdate:function(){this.__P_63_0&&this.__P_63_0.send()}},destruct:function(){this._disposeObjects("__P_63_0")},defer:function(e){cv.ui.structure.WidgetFactory.registerClass("wgplugin_info",e)}});cv.ui.structure.pure.WgPluginInfo.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"cv.ui.structure.AbstractWidget":{require:!0},"cv.ui.common.HasChildren":{require:!0},"cv.ui.structure.WidgetFactory":{defer:"runtime"}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("cv.ui.structure.pure.WidgetInfoAction",{extend:cv.ui.structure.AbstractWidget,include:cv.ui.common.HasChildren,properties:{anonymous:{refine:!0,init:!0},childObjects:{check:"Array",init:[]}},members:{getDomString:function(){return this.getChildrenDomString()}},defer:function(e){cv.ui.structure.WidgetFactory.registerClass("widgetinfo",e);cv.ui.structure.WidgetFactory.registerClass("widgetaction",e)}});cv.ui.structure.pure.WidgetInfoAction.$$dbClassInfo=e}();qx.$$packageData[1]={locales:{},resources:{},translations:{en:{},de:{"unknown: %1":"Unbekannt: %1"}}};
//# sourceMappingURL=package-1.js.map