!function(e){var x={not_string:/[^s]/,number:/[diefg]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijosuxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[\+\-]/};function b(){var e=arguments[0],n=b.cache;return n[e]&&n.hasOwnProperty(e)||(n[e]=b.parse(e)),b.format.call(null,n[e],arguments)}b.format=function(e,n){var t,r,s,o,a,i,l,c,f=1,p=e.length,u="",d=[],g=!0,h="";for(r=0;r<p;r++)if("string"===(u=y(e[r])))d[d.length]=e[r];else if("array"===u){if((o=e[r])[2])for(t=n[f],s=0;s<o[2].length;s++){if(!t.hasOwnProperty(o[2][s]))throw new Error(b("[sprintf] property '%s' does not exist",o[2][s]));t=t[o[2][s]]}else t=o[1]?n[o[1]]:n[f++];if("function"==y(t)&&(t=t()),x.not_string.test(o[8])&&x.not_json.test(o[8])&&"number"!=y(t)&&isNaN(t))throw new TypeError(b("[sprintf] expecting number but found %s",y(t)));switch(x.number.test(o[8])&&(g=0<=t),o[8]){case"b":t=t.toString(2);break;case"c":t=String.fromCharCode(t);break;case"d":case"i":t=parseInt(t,10);break;case"j":t=JSON.stringify(t,null,o[6]?parseInt(o[6]):0);break;case"e":t=o[7]?t.toExponential(o[7]):t.toExponential();break;case"f":t=o[7]?parseFloat(t).toFixed(o[7]):parseFloat(t);break;case"g":t=o[7]?parseFloat(t).toPrecision(o[7]):parseFloat(t);break;case"o":t=t.toString(8);break;case"s":t=(t=String(t))&&o[7]?t.substring(0,o[7]):t;break;case"u":t>>>=0;break;case"x":t=t.toString(16);break;case"X":t=t.toString(16).toUpperCase()}x.json.test(o[8])?d[d.length]=t:(!x.number.test(o[8])||g&&!o[3]?h="":(h=g?"+":"-",t=t.toString().replace(x.sign,"")),i=o[4]?"0"===o[4]?"0":o[4].charAt(1):" ",l=o[6]-(h+t).length,a=o[6]&&0<l?(c=i,Array(l+1).join(c)):"",d[d.length]=o[5]?h+t+a:"0"===i?h+a+t:a+h+t)}return d.join("")},b.cache={},b.parse=function(e){for(var n=e,t=[],r=[],s=0;n;){if(null!==(t=x.text.exec(n)))r[r.length]=t[0];else if(null!==(t=x.modulo.exec(n)))r[r.length]="%";else{if(null===(t=x.placeholder.exec(n)))throw new SyntaxError("[sprintf] unexpected placeholder");if(t[2]){s|=1;var o=[],a=t[2],i=[];if(null===(i=x.key.exec(a)))throw new SyntaxError("[sprintf] failed to parse named argument key");for(o[o.length]=i[1];""!==(a=a.substring(i[0].length));)if(null!==(i=x.key_access.exec(a)))o[o.length]=i[1];else{if(null===(i=x.index_access.exec(a)))throw new SyntaxError("[sprintf] failed to parse named argument key");o[o.length]=i[1]}t[2]=o}else s|=2;if(3===s)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");r[r.length]=t}n=n.substring(t[0].length)}return r};var n=function(e,n,t){return(t=(n||[]).slice(0)).splice(0,0,e),b.apply(null,t)};function y(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()}"undefined"!=typeof exports?(exports.sprintf=b,exports.vsprintf=n):(e.sprintf=b,e.vsprintf=n,"function"==typeof define&&define.amd&&define(function(){return{sprintf:b,vsprintf:n}}))}("undefined"==typeof window?this:window);