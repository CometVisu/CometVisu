!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"cv.Application":{},"cv.Config":{},"qx.core.Init":{},"cv.ui.structure.WidgetFactory":{},"cv.util.Tree":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("cv.ui.structure.pure.layout.Manager",{type:"static",statics:{lastBodyWidth:0,currentPageUnavailableWidth:-1,currentPageUnavailableHeight:-1,currentPageNavbarVisibility:null,oldWidth:-1,LAYOUT_MODE:"DEFAULT",COLSPAN_CLASS:null,getCurrentPageNavbarVisibility:function(){null!==this.currentPageNavbarVisibility&&null!==this.currentPageNavbarVisibility.left&&null!==this.currentPageNavbarVisibility.right&&null!==this.currentPageNavbarVisibility.top&&null!==this.currentPageNavbarVisibility.bottom||(this.currentPageNavbarVisibility=cv.Application.structureController.pagePartsHandler.getNavbarsVisibility(cv.Application.structureController.getCurrentPage()));return this.currentPageNavbarVisibility},getColspanClass:function(e){return e<=cv.Config.maxScreenWidthColspanS?"S":e<=cv.Config.maxScreenWidthColspanM?"M":"L"},adjustColumns:function(){var e=this.getAvailableWidth(),t=this.getColspanClass(this.oldWidth),i=this.getColspanClass(e);this.oldWidth=e;this.COLSPAN_CLASS=i;return t!==i},getAvailableWidth:function(){var e=document.documentElement.clientWidth;this.currentPageUnavailableWidth=0;var t=this.getCurrentPageNavbarVisibility(),i=document.querySelector("#navbarLeft"),r=0;if(i){var n=i.getBoundingClientRect();r=!0===t.left&&"none"!==window.getComputedStyle(i).display?Math.round(n.right-n.left):0}(r>=e||qx.core.Init.getApplication().getMobile())&&(r=0);var a=document.querySelector("#navbarRight"),s=0;if(a){var o=a.getBoundingClientRect();s=!0===t.right&&"none"!==window.getComputedStyle(a).display?Math.round(o.right-o.left):0}(s>=e||qx.core.Init.getApplication().getMobile())&&(s=0);this.currentPageUnavailableWidth=r+s+1;this.lastBodyWidth=e;return e-this.currentPageUnavailableWidth},getAvailableHeight:function(){var e=document.documentElement.clientHeight;this.currentPageUnavailableHeight=0;var t={top:0,bottom:0},i=this.getCurrentPageNavbarVisibility(),r=document.querySelector("#navbarTop"),n=document.querySelector("#top"),a=document.querySelector("#navbarBottom"),s=document.querySelector("#bottom"),o=r?window.getComputedStyle(r).display:"none",c=n?window.getComputedStyle(n).display:"none",u=a?window.getComputedStyle(a).display:"none",l=s?window.getComputedStyle(s).display:"none",d=n?n.getBoundingClientRect():t,h=Math.round(d.bottom-d.top),g=r?r.getBoundingClientRect():t,v=Math.round(g.bottom-g.top),_=a?a.getBoundingClientRect():t,p=Math.round(_.bottom-_.top),m=s?s.getBoundingClientRect():t,f=Math.round(m.bottom-m.top),b=document.querySelector(".nav_path").getBoundingClientRect(),y=Math.round(b.bottom-b.top);"none"!==c&&h>0&&(this.currentPageUnavailableHeight+=Math.max(h,y));"none"!==o&&!0===i.top&&v>0&&(this.currentPageUnavailableHeight+=v);"none"!==u&&!0===i.bottom&&p>0&&(this.currentPageUnavailableHeight+=p);"none"!==l&&f>0&&(this.currentPageUnavailableHeight+=f);this.currentPageUnavailableHeight>0&&(this.currentPageUnavailableHeight+=1);return e-this.currentPageUnavailableHeight},rowspanClass:function(e){cv.Config.configSettings.usedRowspans[e]=!0;return"rowspan rowspan"+e},getWidgetColspan:function(e,t){return e.getColspan?t<=cv.Config.maxScreenWidthColspanS?e.getColspanS():t<=cv.Config.maxScreenWidthColspanM?e.getColspanM():e.getColspan():0},getLayoutSuffix:function(e){var t="";e<=cv.Config.maxScreenWidthColspanS?t="-s":e<=cv.Config.maxScreenWidthColspanM&&(t="-m");return t},applyColumnWidths:function(e,t){var i=this.getAvailableWidth(),r=cv.Config.defaultColumns;if(document.querySelector("#main")){var n=document.querySelector("#main").dataset.columns;n&&(r=parseInt(n))}var a=e||"#main .activePage";(!0===t?["#navbarTop","#navbarLeft",a,"#navbarRight","#navbarBottom"]:[a]).forEach(function(e){var t=document.querySelectorAll(e+" .widget_container");if(t.length>0){var n=cv.Config.defaultColumns,a=document.querySelector(e);if(a){var s=a.dataset.columns;s&&(n=parseInt(s))}t.forEach(function(e){var t=cv.ui.structure.WidgetFactory.getInstanceByElement(e),r=this.getWidgetColspan(t,i),a="auto";r>0&&(a=Math.min(100,r/n*100)+"%");this.__P_67_0(e,a)},this)}document.querySelectorAll(e+" .group .widget_container").forEach(function(e){var t=cv.ui.structure.WidgetFactory.getInstanceByElement(e),n=this.getWidgetColspan(t,i);if(null===n){var a=cv.util.Tree.getChildWidgets(t,"group")[0];n=this.getWidgetColspan(a,i)}var s="auto";if(n>0){var o=r,c=cv.util.Tree.getParent(e,".widget_container",".group",1)[0];if(c){var u=cv.ui.structure.WidgetFactory.getInstanceByElement(c.parentNode);u&&(o=Math.min(r,this.getWidgetColspan(u,i)))}s=Math.min(100,n/o*100)+"%"}this.__P_67_0(e,s)},this)},this)},__P_67_0:function(e,t){if("auto"===t)e.style.width=t;else switch(this.LAYOUT_MODE){case"GRID":e.classList.forEach(function(t){t.startsWith("width-")&&e.classList.remove(t)},this);e.classList.add("width-"+parseInt(t));break;default:e.style.width=t}}}});cv.ui.structure.pure.layout.Manager.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.core.Object":{require:!0},"qx.Bootstrap":{construct:!0},"cv.Config":{},"cv.util.Tree":{},"cv.ui.structure.WidgetFactory":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("cv.ui.structure.pure.AbstractBasicWidget",{extend:qx.core.Object,type:"abstract",construct:function(e){for(var t in e)void 0!==this["set"+qx.Bootstrap.firstUp(t)]&&this.set(t,e[t])},properties:{path:{check:"String"},$$type:{check:"String"},pageType:{check:["text","2d","3d"],init:"text"}},members:{__P_54_0:null,_domElement:null,setDomElement:function(e){this._domElement=e},setParentWidget:function(e){this.__P_54_0=e},getParentWidget:function(){if(!0===cv.Config.lazyLoading&&null===this.__P_54_0&&"id_"!==this.getPath()){var e=cv.util.Tree.getParentData(this.getPath()),t=cv.ui.structure.WidgetFactory.createInstance(e.$$type,e);this.setParentWidget(t)}return this.__P_54_0},getDomElement:function(){this._domElement||(this._domElement=document.querySelector("#"+this.getPath()));return this._domElement},getDomString:function(){return this._getInnerDomString?this._getInnerDomString():void 0},getParentPage:function(){for(var e=this.getParentWidget();e;){if("page"===e.get$$type())return e;e=e.getParentWidget()}return null},getVisibilityParent:function(){for(var e=this.getParentWidget();e;){if("page"===e.get$$type()||"navbar"===e.get$$type())return e;e=e.getParentWidget()}return null}}});cv.ui.structure.pure.AbstractBasicWidget.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"cv.ui.structure.pure.AbstractBasicWidget":{construct:!0,require:!0},"cv.ui.common.HasStyling":{require:!0},"cv.TemplateEngine":{construct:!0},"qx.event.message.Bus":{construct:!0},"qx.util.DeferredCall":{construct:!0},"cv.Config":{construct:!0},"cv.util.Tree":{construct:!0},"cv.ui.structure.WidgetFactory":{construct:!0},"cv.ui.structure.pure.layout.Manager":{},"qx.event.Registration":{},"cv.ui.common.HandleLongpress":{},"qx.event.Timer":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("cv.ui.structure.pure.AbstractWidget",{extend:cv.ui.structure.pure.AbstractBasicWidget,include:cv.ui.common.HasStyling,type:"abstract",construct:function(e){cv.ui.structure.pure.AbstractBasicWidget.constructor.call(this,e);this.getPath().split("_").shift();cv.TemplateEngine.getInstance().isDomFinished()?this._onDomFinished():qx.event.message.Bus.subscribe("setup.dom.finished",this._onDomFinished,this);new qx.util.DeferredCall(function(){if(!0===cv.Config.lazyLoading&&!this.getParentWidget()){var t=cv.util.Tree.getParentData(e.path);if(t){var i=cv.ui.structure.WidgetFactory.createInstance(t.$$type,t);this.setParentWidget(i)}}var r="page"===this.get$$type()||"navbar"===this.get$$type()?null:this.getVisibilityParent();r&&r.bind("visible",this,"visible")},this).schedule()},properties:{anonymous:{check:"Boolean",init:!1},flavour:{check:"String",init:"",nullable:!0},layout:{check:"Object",nullable:!0},label:{check:"String",init:"",nullable:!0},bindClickToWidget:{check:"Boolean",init:!1},mapping:{check:"String",nullable:!0},align:{check:"String",nullable:!0},classes:{check:"String",init:"",nullable:!0},style:{check:"String",init:""},colspan:{check:"Number",init:6,transform:"string2number"},colspanM:{check:"Number",init:6,transform:"string2number"},colspanS:{check:"Number",init:6,transform:"string2number"},rowspanClass:{check:"String",init:""},containerClass:{check:"String",nullable:!0},visible:{check:"Boolean",init:!1,event:"changeVisible",apply:"_applyVisible"},responsive:{check:"Boolean",init:!1}},events:{domReady:"qx.event.type.Event"},members:{$$domReady:null,__P_55_0:null,__P_55_1:null,_skipNextEvent:null,__P_55_2:null,__P_55_3:null,_applyVisible:function(e,t){},getResponsiveLayout:function(e){if(!this.isResponsive())return this.getLayout();e||(e=cv.ui.structure.pure.layout.Manager.getAvailableWidth());var t=this.getLayout(),i=cv.ui.structure.pure.layout.Manager.getLayoutSuffix(e);if(i){var r={};["x","y","width","scale"].forEach(function(e){t[e]&&(r[e]=t[e]);t[e+i]&&(r[e]=t[e+i])});return r}return t},string2number:function(e){return parseFloat(e)},downaction:function(e){},action:function(e){},_onDomFinished:function(){this.isVisible()?this._onDomReady():this.addListenerOnce("changeVisible",this._onDomFinished,this)},_onDomReady:function(){if(!this.$$domReady){this.initListeners();this.fireEvent("domReady");this.$$domReady=!0}},getActor:function(){var e=this.getDomElement();if(e)return e.querySelector(".actor");this.error("no dom element found for",this.get$$type(),this.getPath());return null},getValueElement:function(){var e=this.getDomElement();return e?e.querySelector(".value"):null},getWidgetElement:function(){var e=this.getDomElement();return e?e.querySelector(".widget"):null},getInteractionElement:function(){return this.isBindClickToWidget()?this.getDomElement():this.getActor()},initListeners:function(){this.addElementListener("tap",this.action,this);if(this.buttonPressed){this.addElementListener("pointerdown",this._onPointerDown,this);this.addElementListener("contextmenu",this._cancelEvent,this)}},_cancelEvent:function(e){e.preventDefault();e.stopPropagation()},_onPointerDown:function(e){this.__P_55_0=e.getCurrentTarget();this.__P_55_1=Date.now();if(this.__P_55_2){this.__P_55_2.stop();this.__P_55_2=null}qx.event.Registration.addListener(document,"pointerup",this._onPointerUp,this);if(this._onLongTap&&qx.Class.hasMixin(this.constructor,cv.ui.common.HandleLongpress)&&!this.isSendLongOnRelease()&&this.getShortThreshold()>0){var t=e.clone();this.__P_55_2=qx.event.Timer.once(function(){this._onLongTap(t);this._skipNextEvent="tap";this.__P_55_4()},this,this.getShortThreshold());this.__P_55_3={x:e.getDocumentLeft(),y:e.getDocumentTop()};qx.event.Registration.addListener(document,"pointermove",this._onPointerMove,this)}},__P_55_4:function(){qx.event.Registration.removeListener(document,"pointerup",this._onPointerUp,this);qx.event.Registration.removeListener(document,"pointermove",this._onPointerMove,this);this.__P_55_1=null;this.__P_55_3=null;if(this.__P_55_2){this.__P_55_2.stop();this.__P_55_2=null}},_onPointerMove:function(e){var t=e.getTarget(),i=Math.max(Math.abs(this.__P_55_3.x-e.getDocumentLeft()),Math.abs(this.__P_55_3.y-e.getDocumentTop()))>5;if(!i){for(;t&&t!==this.__P_55_0&&(t=t.parentNode)!==this.getDomElement(););i=!t||t!==this.__P_55_0}i&&this.__P_55_4()},_onPointerUp:function(e){if(null!==this.__P_55_1){for(var t=e.getTarget();t&&t!==this.__P_55_0&&(t=t.parentNode)!==this.getDomElement(););if(t&&t===this.__P_55_0){this._skipNextEvent="tap";e.setCurrentTarget(t);this._onLongTap&&qx.Class.hasMixin(this.constructor,cv.ui.common.HandleLongpress)&&this.getShortThreshold()>0&&Date.now()-this.__P_55_1>=this.getShortThreshold()?this._onLongTap(e):this.action(e)}this.__P_55_4()}},addElementListener:function(e,t,i){if(this.isAnonymous())return null;var r=this.getInteractionElement();if(r){r.dataset.longtapable="longtap"!==e;return qx.event.Registration.addListener(r,e,t,i)}return null},removeElementListener:function(e,t,i){if(this.isAnonymous())return!1;var r=this.getInteractionElement();return!!r&&qx.event.Registration.removeListener(r,e,t,i)},getDomString:function(){return'<div class="'+this.getClasses()+'" '+this.getStyle()+">"+this.getLabel()+this._getInnerDomString()+"</div>"},_getInnerDomString:function(){return""}},destruct:function(){qx.event.Registration.removeListener(document,"pointerup",this._onPointerUp,this)}});cv.ui.structure.pure.AbstractWidget.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.core.Object":{require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("cv.ui.structure.pure.layout.States",{extend:qx.core.Object,properties:{pageSizeInvalid:{check:"Boolean",init:!0,event:"changePageSizeInvalid"},backdropInvalid:{check:"Boolean",init:!0,event:"changeBackdropInvalid"},navbarInvalid:{check:"Boolean",init:!0,event:"changeNavbarInvalid"},rowspanInvalid:{check:"Boolean",init:!0,event:"changeRowspanInvalid"}},members:{resetAll:function(){["pageSizeInvalid","backdropInvalid","navbarInvalid","rowspanInvalid"].forEach(this.reset,this)}}});cv.ui.structure.pure.layout.States.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"cv.ui.structure.pure.layout.States":{usage:"dynamic",require:!0},"qx.bom.AnimationFrame":{},"qx.log.Logger":{},"cv.Application":{},"qx.event.Timer":{},"cv.ui.structure.WidgetFactory":{},"cv.ui.structure.pure.layout.Manager":{},"cv.Config":{},"qx.dom.Element":{},"qx.event.Registration":{defer:"runtime"}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("cv.ui.structure.pure.layout.ResizeHandler",{type:"static",statics:{states:new cv.ui.structure.pure.layout.States,$pageSize:null,$navbarTop:null,$navbarBottom:null,width:0,height:0,__P_68_0:!0,__P_68_1:0,validationQueue:[],reset:function(){this.states.resetAll();this.$pageSize=null;this.$navbarTop=null;this.$navbarBottom=null;this.width=0;this.height=0},__P_68_2:null,getPageSize:function(e){this.$pageSize&&!0!==e||(this.$pageSize=document.querySelector("#pageSize"));return this.$pageSize},getNavbarTop:function(e){this.$navbarTop&&!0!==e||(this.$navbarTop=document.querySelector("#navbarTop"));return this.$navbarTop},getNavbarBottom:function(e){this.$navbarBottom&&!0!==e||(this.$navbarBottom=document.querySelector("#navbarBottom"));return this.$navbarBottom},queueJob:function(e){-1===this.validationQueue.indexOf(e)&&this.validationQueue.push(e);this.__P_68_2||(this.__P_68_2=qx.bom.AnimationFrame.request(this.flush,this))},flush:function(){for(;this.validationQueue.length;){this.validationQueue.shift().apply(this)}this.__P_68_2=null},makeAllSizesValid:function(){this.states.isPageSizeInvalid()&&this.makePagesizeValid();this.states.isNavbarInvalid()&&this.makeNavbarValid();this.states.isRowspanInvalid()&&this.makeRowspanValid();this.states.isBackdropInvalid()&&this.makeBackdropValid()},makeBackdropValid:function(){this.queueJob(this.__P_68_3)},__P_68_3:function(){qx.log.Logger.debug(this,"makeBackdropValid");var e=cv.Application.structureController.getCurrentPage();if(e){if("2d"===e.getPageType()){var t=/(\d*)(.*)/,i=e.getDomElement().querySelector("div > "+e.getBackdropType());try{var r="embed"===e.getBackdropType()?i.getSVGDocument():null,n=r?r.children[0].getBBox():{},a=i.naturalWidth||n.width||this.width,s=i.naturalHeight||n.height||this.height,o="fixed"===e.getSize(),c=o?1:Math.min(this.width/a,this.height/s),u=a*c,l=s*c,d=e.getBackdropAlign().split(" "),h=d[0].match(t),g=d[1].match(t),v="%"===h[2]?(this.width-u)*+h[1]/100:+h[1],_="%"===g[2]?this.height>l?(this.height-l)*+g[1]/100:0:+g[1],p=navigator.userAgent.toLowerCase();if(!1===i.complete||"embed"===e.getBackdropType()&&null===r||0===n.width&&0===n.height||0===this.width&&0===this.height){qx.event.Timer.once(this.invalidateBackdrop,this,100);return}"scaled"===e.getSize()&&"embed"===e.getBackdropType()&&r&&"none"!==r.children[0].getAttribute("preserveAspectRatio")&&r.children[0].setAttribute("preserveAspectRatio","none");if(("embed"===e.getBackdropType()||-1!==p.indexOf("safari")&&-1===p.indexOf("chrome"))&&"scaled"!==e.getSize()){i.style.width=u+"px";i.style.height=l+"px";i.style.left=v+"px";i.style.top=_+"px"}o&&!r&&(this.height<l?i.style.height=l+"px":i.style.height="100%");e.getDomElement().querySelectorAll(".widget_container").forEach(function(e){var i,r=cv.ui.structure.WidgetFactory.getInstanceById(e.id).getResponsiveLayout(),n=c;if(r){var a=e.children[0].style;"false"===r.scale&&(n=1);"x"in r&&("px"===(i=r.x.match(t))[2]?a.left=v+i[1]*n+"px":a.left=r.x);"y"in r&&("px"===(i=r.y.match(t))[2]?a.top=_+i[1]*n+"px":a.top=r.y);"width"in r&&(a.width=r.width);"height"in r&&(a.height=r.height)}},this);this.__P_68_1=0}catch(e){if("NotSupportedError"===e.name&&this.__P_68_1<=5){qx.bom.AnimationFrame.request(this.__P_68_3,this);this.__P_68_1++}qx.log.Logger.error(this,e)}}this.states.setBackdropInvalid(!1)}},makeNavbarValid:function(){this.queueJob(this.__P_68_4)},__P_68_4:function(){qx.log.Logger.debug(this,"makeNavbarValid");cv.ui.structure.pure.layout.Manager.adjustColumns()&&cv.ui.structure.pure.layout.Manager.applyColumnWidths();this.states.setNavbarInvalid(!1)},makePagesizeValid:function(){if(!0===this.__P_68_0){this.__P_68_0=!1;this.__P_68_5()}else this.queueJob(this.__P_68_5)},__P_68_5:function(){if(cv.Config.currentPageId){qx.log.Logger.debug(this,"makePagesizeValid");var e=cv.ui.structure.WidgetFactory.getInstanceById(cv.Config.currentPageId);if(!e||e.isInitialized()){this.width=cv.ui.structure.pure.layout.Manager.getAvailableWidth();this.height=cv.ui.structure.pure.layout.Manager.getAvailableHeight();var t=this.getPageSize();t&&(t.innerHTML="#main,.page{width:"+this.width+"px;height:"+this.height+"px;}");this.states.setPageSizeInvalid(!1)}else e.addListenerOnce("changeInitialized",this.__P_68_5,this)}},makeRowspanValid:function(){this.queueJob(this.__P_68_6)},__P_68_6:function(){qx.log.Logger.debug(this,"makeRowspanValid");var e=document.querySelector("#calcrowspan");if(!e){e=qx.dom.Element.create("div",{class:"clearfix",id:"calcrowspan",html:'<div id="containerDiv" class="widget_container"><div class="widget clearfix text" id="innerDiv"></div>'});document.body.appendChild(e)}this.__P_68_7(e.querySelector("#containerDiv"))},__P_68_7:function(e){var t=e.getBoundingClientRect(),i=Math.round(t.bottom-t.top);if(0!==i){var r="";for(var n in cv.Config.configSettings.usedRowspans)r+=".rowspan.rowspan"+n+" { height: "+Math.round(n*i)+"px;}\n";var a=document.querySelector("#calcrowspan");a&&a.parentNode.removeChild(a);var s=document.querySelector("#rowspanStyle");s&&(s.innerHTML=r);this.states.setRowspanInvalid(!1)}else{var o=this;window.requestAnimationFrame(function(){o.__P_68_7(e)})}},invalidateBackdrop:function(){qx.log.Logger.debug(this,"backdrop");this.states.setBackdropInvalid(!0);this.makeAllSizesValid()},invalidateNavbar:function(){qx.log.Logger.debug(this,"invalidateNavbar");this.states.setNavbarInvalid(!0);this.states.setPageSizeInvalid(!0);this.makeAllSizesValid()},invalidateRowspan:function(){this.states.setRowspanInvalid(!0);this.makeAllSizesValid()},invalidateScreensize:function(){qx.log.Logger.debug(this,"invalidateScreensize");this.states.set({pageSizeInvalid:!0,rowspanInvalid:!0,navbarInvalid:!0,backdropInvalid:!0});this.makeAllSizesValid()}},defer:function(e){qx.event.Registration.addListener(window,"resize",e.invalidateScreensize,e)}});cv.ui.structure.pure.layout.ResizeHandler.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"cv.ui.structure.pure.AbstractWidget":{require:!0},"cv.ui.common.Update":{require:!0},"cv.ui.structure.WidgetFactory":{defer:"runtime"}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("cv.ui.structure.pure.Audio",{extend:cv.ui.structure.pure.AbstractWidget,include:cv.ui.common.Update,properties:{src:{check:"String",nullable:!0},id:{check:"String",nullable:!0},width:{check:"String",nullable:!0},height:{check:"String",nullable:!0},autoplay:{check:"Boolean",init:!1},loop:{check:"Boolean",init:!1},thresholdValue:{check:"Number",init:1}},members:{_getInnerDomString:function(){var e="";this.getWidth()&&(e+="width:"+this.getWidth()+";");this.getHeight()&&(e+="height:"+this.getHeight()+";");""!==e&&(e='style="'+e+'"');var t=this.isAutoplay()?" autoplay ":"",i=this.isLoop()?" loop ":"";return'<div class="actor"><audio id="'+this.getId()+'" '+t+i+e+' controls> <source src="'+this.getSrc()+'" > </audio> </div>'},getActor:function(){return this.getDomElement().querySelector(".actor audio")},_update:function(e,t){if(t>=this.applyMapping(this.getThresholdValue())){var i=this.getActor();!0===i.paused&&i.play()}}},defer:function(e){cv.ui.structure.WidgetFactory.registerClass("audio",e)}});cv.ui.structure.pure.Audio.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"cv.ui.structure.pure.AbstractBasicWidget":{require:!0},"cv.ui.structure.WidgetFactory":{defer:"runtime"}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("cv.ui.structure.pure.Break",{extend:cv.ui.structure.pure.AbstractBasicWidget,members:{getDomString:function(){return"<br/>"}},defer:function(e){cv.ui.structure.WidgetFactory.registerClass("break",e)}});cv.ui.structure.pure.Break.$$dbClassInfo=e}();function _defineProperty(e,t,i){t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i;return e}function _typeof(e){"@babel/helpers - typeof";return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"cv.ui.structure.pure.AbstractWidget":{construct:!0,require:!0},"cv.ui.common.Operate":{require:!0},"cv.ui.common.Update":{require:!0},"cv.util.Color":{construct:!0},"cv.util.LimitedRateUpdateAnimator":{construct:!0},"cv.ui.structure.pure.layout.ResizeHandler":{construct:!0},"cv.util.Function":{},"qx.locale.Manager":{},"cv.Config":{},"cv.core.notifications.Router":{},"cv.Transform":{},"cv.ui.structure.WidgetFactory":{defer:"runtime"}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("cv.ui.structure.pure.ColorChooser",{extend:cv.ui.structure.pure.AbstractWidget,include:[cv.ui.common.Operate,cv.ui.common.Update],statics:{coord2sv:function(e,t,i,r){var n=2*Math.PI,a=.5-Math.sin(n*-i)*r,s=.5-Math.cos(n*-i)*r,o=.5-Math.sin(n*(.6666666666666666-i))*r,c=.5-Math.cos(n*(.6666666666666666-i))*r,u=.5-Math.sin(n*(.3333333333333333-i))*r,l=.5-Math.cos(n*(.3333333333333333-i))*r,d=o-u,h=c-l,g=a-u,v=s-l,_=e-u,p=t-l,m=cv.util.Color.solve2d(d,h,g,v,_,p),f=Math.min(Math.max(0,m[0]),1),b=Math.min(Math.max(0,m[1]),1),y=f+b;return[Math.abs(y)<.001?0:b/y,y]}},construct:function(e){var t=this;cv.ui.structure.pure.AbstractWidget.constructor.call(this,e);var i=this.getBaseColors();this.__P_56_0=new cv.util.Color(i.r,i.g,i.b,i.w);this.__P_56_1=new cv.util.LimitedRateUpdateAnimator(this.__P_56_2,this);this.__P_56_1.setAnimationSpeed(100,.5);this.__P_56_3=cv.ui.structure.pure.layout.ResizeHandler.states.addListener("changePageSizeInvalid",function(){t.__P_56_4()});this.__P_56_5=new Set(Object.entries(this.getAddress()).map(function(e){return e[1].variantInfo}));this.__P_56_6={}},destruct:function(){cv.ui.structure.pure.layout.ResizeHandler.states.removeListenerById(this.__P_56_3);this.__P_56_3=null;this.__P_56_7=null},properties:{controls:{check:"String"},baseColors:{check:"Object"},sendOnFinish:{check:"Boolean",init:!1}},members:{__P_56_8:"",__P_56_9:void 0,__P_56_10:void 0,__P_56_0:void 0,__P_56_6:void 0,__P_56_1:null,__P_56_7:void 0,__P_56_11:void 0,__P_56_12:void 0,__P_56_3:void 0,__P_56_5:void 0,__P_56_13:!1,__P_56_14:void 0,__P_56_15:2e3,__P_56_16:12500,_getInnerDomString:function(){var e=""===this.getFormat()?"":"-",t=this,i="",r=void 0===this.getLayout().colspan?' style="width:195px"':"",n=this.getControls().split(";");""===n[0]&&(n[0]="box");n.forEach(function(r){switch(r){case"box":case"LCh-box":i+='<div class="actor cc_box"><div class="hue '+("box"===r?"hsv_hue":"lch_hue");i+='"></div><div class="handle_hue"></div><div class="sv_box"><div class="inner"></div><div class="handle"></div></div></div>';break;case"triangle":case"LCh-triangle":i+='<div class="actor cc_wheel"><div class="hue '+("triangle"===r?"hsv_hue":"lch_hue");i+='"></div><div class="sv_triangle"><div class="inner"></div><div class="handle_hue"></div><div class="handle"></div></div></div>';break;case"RGB-r":case"RGB-g":case"RGB-b":case"RGBW-r":case"RGBW-g":case"RGBW-b":case"RGBW-w":case"h":case"s":case"v":case"LCh-L":case"LCh-C":case"LCh-h":case"Y":i+='<div class="actor cc_'+r+' ui-slider ui-slider-horizontal ui-widget ui-widget-content ui-corner-all" style="touch-action: pan-y;">\n              <button class="ui-slider-handle ui-state-default ui-corner-all" draggable="false" unselectable="true" style="transform: translate3d(0px, 0px, 0px);">'+e+'</button>\n              <div class="ui-slider-range" style="margin-left: 0px; clip-path: inset(0 100% 0 0);"></div>\n            </div>';break;default:var n=r.split(":");if("T"===n[0]){var a=(n[1]||"-").split("-");t.__P_56_15=Math.max(1667,Math.min(a[0]||2500,25e3));t.__P_56_16=Math.max(1667,Math.min(a[1]||9e3,25e3));var s=cv.util.Color.xy2sRGB(cv.util.Color.temperature2xy(t.__P_56_15)),o=cv.util.Color.xy2sRGB(cv.util.Color.temperature2xy(t.__P_56_16)),c=function(e){return[Math.round(255*e.r),Math.round(255*e.g),Math.round(255*e.b)].join(",")},u="rgb("+c(s)+"), rgb("+c(o)+")";i+='<div class="actor cc_T ui-slider ui-slider-horizontal ui-widget ui-widget-content ui-corner-all" style="touch-action: pan-y;">\n                <button class="ui-slider-handle ui-state-default ui-corner-all" draggable="false" unselectable="true" style="transform: translate3d(0px, 0px, 0px);">'+e+'</button>\n                <div class="ui-slider-range" style="margin-left: 0px; clip-path: inset(0 100% 0 0);background: linear-gradient(90deg, '+u+');"></div>\n              </div>'}}});return'<div class="actors"'+r+">"+i+"</div>"},_onDomReady:function(){var e=this;cv.ui.structure.pure.ColorChooser.superclass.prototype._onDomReady.call(this);this.__P_56_17=cv.util.Function.throttle(this.__P_56_18,250,{trailing:!0},this);this.getDomElement().querySelectorAll(".actor").forEach(function(t){return t.addEventListener("pointerdown",e)})},_update:function(e,t){var i,r,n=this.getAddress()[e],a=function(){var i=qx.locale.Manager.tr('Updating ColorChooser with invalid data<br/>Address: "%1"<br/>transform: "%2"<br/>selector: "%3"<br/>variant: "%4"<br/>data: "%5"',e,n.transform,n.selector,n.variant,t);!0===cv.Config.testMode&&console.error(i.toString());cv.core.notifications.Router.dispatchMessage("cv.config.error",{message:i})},s=n.transform,o=n.variantInfo,c=cv.Transform.decode(n,t);switch(o){case"h":if(!Number.isFinite(c)){a();return}c/=360;i="hsv-single";break;case"s":case"v":if(!Number.isFinite(c)){a();return}c/=100;i="hsv-single";break;case"hsv":if(void 0===c.get){a();return}c={h:c.get("h")/360,s:c.get("s")/100,v:c.get("v")/100};i="hsv";break;case"RGB-r":case"RGB-g":case"RGB-b":if(!Number.isFinite(c)){a();return}r=this.getBaseColors()[o.split("-")[1]];c=cv.util.Color.invCurve(c,r.curve,r.scale);i="rgb-single";break;case"rgb":r=this.getBaseColors();if(void 0===c.get){a();return}c={r:cv.util.Color.invCurve(c.get("r"),r.r.curve,r.r.scale),g:cv.util.Color.invCurve(c.get("g"),r.g.curve,r.g.scale),b:cv.util.Color.invCurve(c.get("b"),r.b.curve,r.b.scale)};i="rgb";break;case"RGBW-r":case"RGBW-g":case"RGBW-b":case"RGBW-w":if(!Number.isFinite(c)){a();return}r=this.getBaseColors()[o.split("-")[1]];c=cv.util.Color.invCurve(c,r.curve,r.scale);i="rgbw-single";break;case"rgbw":r=this.getBaseColors();if(void 0===c.get){a();return}c={r:cv.util.Color.invCurve(c.get("r"),r.r.curve,r.r.scale),g:cv.util.Color.invCurve(c.get("g"),r.g.curve,r.g.scale),b:cv.util.Color.invCurve(c.get("b"),r.b.curve,r.b.scale),w:cv.util.Color.invCurve(c.get("w"),r.w.curve,r.w.scale)};i="rgbw";break;case"x":case"y":i="xyY";break;case"Y":if(c instanceof Map&&!1!==c.get("YValid"))c=c.get("Y");else if(!Number.isFinite(c)){a();return}i="xyY";break;case"xy":if(c instanceof Map&&!1!==c.get("cValid"))c={x:c.get("x"),y:c.get("y")};else if(!("object"===_typeof(c)&&"x"in c&&"y"in c)){a();return}i="xyY";break;case"xyY":if(!(c instanceof Map)){a();return}o=(!1!==c.get("cValid")?"xy":"")+(!1!==c.get("YValid")?"Y":"");c={x:c.get("x"),y:c.get("y"),Y:c.get("Y")};if(""===o)return;i="xyY"}if(!(this.__P_56_13||this.__P_56_6[i]&&this.__P_56_6[i][o]&&this.__P_56_6[i][o][s]===t)){var u=void 0===this.__P_56_6[i];u&&(this.__P_56_6[i]={});this.__P_56_6=_defineProperty({},i,this.__P_56_6[i]);this.__P_56_6[i][o]=_defineProperty({},s,t);this.__P_56_19(c,o,!this.isVisible()||u)}},__P_56_19:function(e,t,i){this.__P_56_9=void 0===this.__P_56_10?this.__P_56_0.copy():this.__P_56_10.copy();this.__P_56_0.changeComponent(t,e);(i=i||this.__P_56_0.delta(this.__P_56_9)<.5)||this.__P_56_1.setTo(this.__P_56_9,!0,!1);this.__P_56_1.setTo(this.__P_56_0,i)},__P_56_2:function(e){if(void 0===this.__P_56_12){var t,i={};this.getDomElement().querySelectorAll(".actor").forEach(function(e){var r=e.className.replace(/.*cc_([^ ]*).*/,"$1");switch(r){case"box":case"wheel":t=window.getComputedStyle(e);var n="box"===r?e.querySelector(".sv_box"):e.querySelector(".sv_triangle"),a=n.querySelector(".inner"),s=e.querySelector(".handle"),o=e.querySelector(".handle_hue"),c=e.querySelector(".hue");i[r]={isLCh:c.classList.contains("lch_hue"),sv_element:n,inner:a,handle:s,handle_hue:o,handle_hueTop:parseFloat(window.getComputedStyle(o).getPropertyValue("top")),handle_hueWidth:parseFloat(window.getComputedStyle(o).getPropertyValue("width")),width:parseFloat(t.getPropertyValue("width")),height:parseFloat(t.getPropertyValue("padding-top")),innerRadius:parseFloat(window.getComputedStyle(n).getPropertyValue("width")),outerRadius:parseFloat(window.getComputedStyle(c).getPropertyValue("width"))};break;default:t=window.getComputedStyle(e);var u=e.querySelector("button"),l=e.querySelector(".ui-slider-range");i[r]={button:u,range:l,width:parseFloat(t.getPropertyValue("width")),buttonWidth:parseFloat(window.getComputedStyle(u).getPropertyValue("width"))};l.style.marginLeft="-"+t.getPropertyValue("padding-left");l.style.borderRadius=t.getPropertyValue("border-radius")}});this.__P_56_12=i}this.__P_56_10=e;for(var r in this.__P_56_12){var n=this.__P_56_12[r];if("wheel"===r){var a=void 0;if(n.isLCh){var s=this.__P_56_10.getComponent("LCh"),o=cv.util.Color.curve(s.h,[246,255,46,0,246],1),c=cv.util.Color.curve(s.h,[27,224,255,136,27],1),u=cv.util.Color.curve(s.h,[136,32,224,245,136],1);a=360*s.h+"deg";var l=0*s.C+75*(1-s.C),d=50*s.C+92.5*(1-s.C);n.handle.style.top=s.L*l+75*(1-s.L)+"%";n.handle.style.left=s.L*d+7.5*(1-s.L)+"%";n.inner.style.background="linear-gradient(210deg, transparent 45%, black 90%),linear-gradient(150deg, transparent 45%, white 90%),rgb("+[o,c,u].join(",")+")"}else{var h=this.__P_56_10.getComponent("hsv");a=360*h.h+"deg";var g=0*h.s+75*(1-h.s),v=50*h.s+92.5*(1-h.s);n.handle.style.top=h.v*g+75*(1-h.v)+"%";n.handle.style.left=h.v*v+7.5*(1-h.v)+"%";n.inner.style.background="linear-gradient(210deg, transparent 45%, black 90%),linear-gradient(150deg, transparent 45%, white 90%),hsl("+a+" 100% 50%)"}n.sv_element.style.transform="rotate("+a+")"}else if("box"===r){var _=void 0;if(n.isLCh){var p=this.__P_56_10.getComponent("LCh"),m=cv.util.Color.curve(p.h,[246,255,46,0,246],1),f=cv.util.Color.curve(p.h,[27,224,255,136,27],1),b=cv.util.Color.curve(p.h,[136,32,224,245,136],1);_=360*p.h+"deg";n.handle.style.top=100*(1-p.L)+"%";n.handle.style.left=100*(1-p.C)+"%";n.inner.style.background="linear-gradient(0deg, black 0%, transparent 50%, white 100%), linear-gradient(90deg,rgb("+[m,f,b].join(",")+"), #808080 100%)"}else{var y=this.__P_56_10.getComponent("hsv");_=360*y.h+"deg";n.handle.style.top=100*(1-y.v)+"%";n.handle.style.left=100*(1-y.s)+"%";n.inner.style.background="linear-gradient(0deg, black 0%, transparent 50%, white 100%), linear-gradient(90deg,hsl("+_+" 100% 50%), #808080 100%)"}n.handle_hue.style.transform="rotate("+_+")";n.handle_hue.style.transformOrigin=n.handle_hueWidth/2+"px "+(n.width/2-n.handle_hueTop)+"px"}else{var P=this.__P_56_10.getComponent(r);"T"===r&&(P=(P-this.__P_56_15)/(this.__P_56_16-this.__P_56_15));var x=Math.max(0,Math.min(P,1))*n.width;n.button.style.transform="translate3d("+(x-n.buttonWidth/2)+"px, 0px, 0px)";n.range.style.clipPath="inset(0 "+100*(1-P)+"% 0 0)"}}},__P_56_4:function(){this.__P_56_12=void 0;this.__P_56_1.setTo(this.__P_56_0,!0)},handleEvent:function(e){var t,i=0,r=0;switch(e.type){case"pointerdown":var n=e.currentTarget.className.replace(/.*cc_([^ ]*).*/,"$1");t=this.__P_56_12[n];var a=e.currentTarget.getBoundingClientRect(),s=window.getComputedStyle(e.currentTarget);this.__P_56_20=a.left+parseFloat(s.paddingLeft);this.__P_56_21=a.top;i=(e.clientX-this.__P_56_20)/t.width;r=(e.clientY-this.__P_56_21)/t.height;if("wheel"===n){var o=void 0!==t?.5*t.innerRadius/t.outerRadius:1,c=cv.ui.structure.pure.ColorChooser.coord2sv(i,r,this.__P_56_0.getComponent(t.isLCh?"LCh":"hsv").h,o),u=Math.pow(i-.5,2)+Math.pow(r-.5,2);if(u<Math.pow(.535,2)){var l=Math.pow(1.1*o,2)<u,d=Math.pow(o,2)<u&&!l,h=c[1]<.01||c[0]<.01&&c[1]>.99||c[0]>.99&&c[1]>.99;if(l||d&&!h){this.__P_56_8="wheel_h";this.__P_56_0.changeComponent(t.isLCh?"LCh-h":"h",.5+Math.atan2(.5-i,r-.5)/2/Math.PI);this.__P_56_13=!0}else{this.__P_56_8="wheel_sv";this.__P_56_0.changeComponent(t.isLCh?"LCh-CL":"sv",c);this.__P_56_13=!0}}}else if("box"===n){var g=void 0!==t?.5*t.innerRadius/t.outerRadius:1,v=i-.5,_=r-.5,p=[-v/g/2+.5,-_/g/2+.5];if(Math.abs(v)<g&&Math.abs(_)<g){this.__P_56_8="box_sv";this.__P_56_0.changeComponent(t.isLCh?"LCh-CL":"sv",p);this.__P_56_13=!0}else{this.__P_56_8="box_h";this.__P_56_0.changeComponent(t.isLCh?"LCh-h":"h",.5+Math.atan2(-v,_)/2/Math.PI);this.__P_56_13=!0}}else{var m=i;"T"===n&&(m=this.__P_56_15+m*(this.__P_56_16-this.__P_56_15));this.__P_56_8=n;this.__P_56_0.changeComponent(n,m);this.__P_56_13=!0}if(this.__P_56_13){document.addEventListener("pointermove",this);document.addEventListener("pointerup",this)}else this.__P_56_8=void 0;break;case"pointermove":if(!this.__P_56_13)return;if(0===e.buttons){this.__P_56_13=!1;document.removeEventListener("pointermove",this);document.removeEventListener("pointerup",this)}var f=this.__P_56_8.split("_")[0];t=this.__P_56_12[f];i=(e.clientX-this.__P_56_20)/t.width;r=(e.clientY-this.__P_56_21)/t.height;break;case"pointerup":this.__P_56_13=!1;document.removeEventListener("pointermove",this);document.removeEventListener("pointerup",this);var b=this.__P_56_8.split("_")[0];t=this.__P_56_12[b];i=(e.clientX-this.__P_56_20)/t.width;r=(e.clientY-this.__P_56_21)/t.height}if("pointerdown"!==e.type){var y=this.__P_56_8.split("_")[0],P=this.__P_56_12[y];switch(this.__P_56_8){case"wheel_sv":var x=void 0!==P?.5*P.innerRadius/P.outerRadius:1,C=cv.ui.structure.pure.ColorChooser.coord2sv(i,r,this.__P_56_0.getComponent(P.isLCh?"LCh":"hsv").h,x);this.__P_56_0.changeComponent(P.isLCh?"LCh-CL":"sv",[Math.min(Math.max(C[0],0),1),Math.min(Math.max(C[1],0),1)]);break;case"box_sv":var q=void 0!==P?.5*P.innerRadius/P.outerRadius:1,w=[-(i-.5)/q/2+.5,-(r-.5)/q/2+.5];this.__P_56_0.changeComponent(P.isLCh?"LCh-CL":"sv",[Math.min(Math.max(w[0],0),1),Math.min(Math.max(w[1],0),1)]);break;case"wheel_h":case"box_h":this.__P_56_0.changeComponent(P.isLCh?"LCh-h":"h",.5+Math.atan2(.5-i,r-.5)/2/Math.PI);break;case"T":this.__P_56_0.changeComponent("T",this.__P_56_15+Math.max(0,Math.min(i,1))*(this.__P_56_16-this.__P_56_15));break;default:this.__P_56_0.changeComponent(this.__P_56_8,i)}}this.__P_56_1.setTo(this.__P_56_0,!0);this.getSendOnFinish()&&"pointerup"!==e.type||this.__P_56_17.call()},__P_56_18:function(){var e=this;this.__P_56_5.forEach(function(t){var i,r,n=e.__P_56_0.getComponent(["xyY","x","y"].includes(t)?"xy":t);switch(t){case"h":n*=360;i="hsv-single";break;case"s":case"v":n*=100;i="hsv-single";break;case"hsv":n=new Map([["h",360*n.h],["s",100*n.s],["v",100*n.v]]);i="hsv";break;case"RGB-r":case"RGB-g":case"RGB-b":r=e.getBaseColors()[t.split("-")[1]];n=cv.util.Color.curve(n,r.curve,r.scale);i="rgb-single";break;case"RGBW-r":case"RGBW-g":case"RGBW-b":case"RGBW-w":r=e.getBaseColors()[t.split("-")[1]];n=cv.util.Color.curve(n,r.curve,r.scale);i="rgbw-single";break;case"rgb":r=e.getBaseColors();n=new Map([["r",cv.util.Color.curve(n.r,r.r.curve,r.r.scale)],["g",cv.util.Color.curve(n.g,r.g.curve,r.g.scale)],["b",cv.util.Color.curve(n.b,r.b.curve,r.b.scale)]]);i="rgb";break;case"rgbw":r=e.getBaseColors();n=new Map([["r",cv.util.Color.curve(n.r,r.r.curve,r.r.scale)],["g",cv.util.Color.curve(n.g,r.g.curve,r.g.scale)],["b",cv.util.Color.curve(n.b,r.b.curve,r.b.scale)],["w",cv.util.Color.curve(n.w,r.w.curve,r.w.scale)]]);i="rgbw";break;case"xy":n=new Map([["x",n.x],["y",n.y]]);i="xyY";break;case"xyY":var a=e.__P_56_0.getComponent("Y");n=new Map([["x",n.x],["y",n.y],["Y",a]]);i="xyY";break;case"Y":i="xyY";break;case"x":case"y":n=n[t];i="xyY"}void 0===e.__P_56_6[i]&&(e.__P_56_6[i]={});e.__P_56_6[i][t]=e.sendToBackend(n,function(e){return e.variantInfo===t},e.__P_56_6[i][t])})}},defer:function(e){cv.ui.structure.WidgetFactory.registerClass("colorchooser",e)}});cv.ui.structure.pure.ColorChooser.$$dbClassInfo=e}();function asyncGeneratorStep(e,t,i,r,n,a,s){try{var o=e[a](s),c=o.value}catch(e){i(e);return}o.done?t(c):Promise.resolve(c).then(r,n)}function _asyncToGenerator(e){return function(){var t=this,i=arguments;return new Promise(function(r,n){var a=e.apply(t,i);function s(e){asyncGeneratorStep(a,r,n,s,o,"next",e)}function o(e){asyncGeneratorStep(a,r,n,s,o,"throw",e)}s(void 0)})}}!function(){var e={dependsOn:{"qx.core.Environment":{defer:"load",require:!0},"qx.Class":{usage:"dynamic",require:!0},"qx.core.Object":{construct:!0,require:!0},"cv.ui.structure.IController":{require:!0},"qx.bom.Stylesheet":{construct:!0},"qx.util.ResourceManager":{construct:!0},"cv.Config":{construct:!0},"cv.io.BackendConnections":{},"cv.parser.pure.MetaParser":{},"qx.event.message.Bus":{},"cv.TemplateEngine":{},"cv.parser.pure.WidgetParser":{},"cv.ui.structure.WidgetFactory":{},"cv.IconHandler":{},"cv.ui.structure.pure.navigation.PagePartsHandler":{},"cv.ui.structure.pure.layout.Manager":{},"cv.ui.structure.pure.navigation.PageHandler":{},"qx.util.DeferredCall":{},"cv.ui.TrickOMatic":{},"cv.util.IconTools":{},"qx.core.Init":{},"qx.bom.client.Html":{require:!0},"qx.bom.History":{},"cv.ui.structure.pure.layout.ResizeHandler":{},"qx.util.Uri":{},"cv.util.String":{},"cv.util.Tree":{},"cv.Application":{defer:"runtime"}},environment:{provided:[],required:{"html.storage.local":{className:"qx.bom.client.Html"}}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("cv.ui.structure.pure.Controller",{extend:qx.core.Object,type:"singleton",implement:cv.ui.structure.IController,construct:function(){qx.core.Object.constructor.call(this);this.__P_57_0='<div id="top" class="loading"><div class="nav_path">-</div></div><div id="navbarTop" class="loading"></div><div id="centerContainer" class="clearfix"><div id="navbarLeft" class="loading page"></div><div id="main" style="position:relative; overflow: hidden;" class="loading"><div id="pages" style="position:relative;clear:both;">\x3c!-- all pages will be inserted here --\x3e</div></div><div id="navbarRight" class="loading page"></div></div><div id="navbarBottom" class="loading"></div><div id="bottom" class="loading"><hr /><div class="footer"></div></div>';this.__P_57_1={cache:!0};qx.bom.Stylesheet.includeFile(qx.util.ResourceManager.getInstance().toUri("designs/designglobals.css")+(!0===cv.Config.forceReload?"?"+Date.now():""))},properties:{currentPage:{check:"cv.ui.structure.pure.Page",nullable:!0,event:"changeCurrentPage"},renderTarget:{check:"String",init:"#pages"},namespace:{check:"String",init:""}},members:{__P_57_1:null,__P_57_0:null,main_scroll:null,old_scroll:"",pagePartsHandler:null,getHtmlStructure:function(){return this.__P_57_0},parseBackendSettings:function(e){var t=cv.Config.configSettings,i=e.documentElement;null!==i.getAttribute("backend")&&(t.backend=i.getAttribute("backend"));if(null!==i.getAttribute("backend-url")){t.backendUrl=i.getAttribute("backend-url");this.error('The useage of "backend-url" is deprecated. Please use "backend-knxd-url", "backend-mqtt-url" or "backend-openhab-url" instead.')}null!==i.getAttribute("backend-knxd-url")&&(t.backendKnxdUrl=i.getAttribute("backend-knxd-url"));null!==i.getAttribute("backend-mqtt-url")&&(t.backendMQTTUrl=i.getAttribute("backend-mqtt-url"));null!==i.getAttribute("backend-openhab-url")&&(t.backendOpenHABUrl=i.getAttribute("backend-openhab-url"));null!==i.getAttribute("token")&&(t.credentials.token=i.getAttribute("token"));null!==i.getAttribute("username")&&(t.credentials.username=i.getAttribute("username"));null!==i.getAttribute("password")&&(t.credentials.password=i.getAttribute("password"));return!0},login:function(){var e=this;cv.io.BackendConnections.getClient("main").login(!0,cv.Config.configSettings.credentials,function(){e.debug("logged in");cv.io.BackendConnections.startInitialRequest()})},parseSettings:function(e,t){var i=cv.Config.configSettings,r=e.documentElement;i.screensave_time=r.getAttribute("screensave_time");i.screensave_time&&(i.screensave_time=parseInt(i.screensave_time,10));i.screensave_page=r.getAttribute("screensave_page");if(null!==r.getAttribute("max_mobile_screen_width")){i.maxMobileScreenWidth=r.getAttribute("max_mobile_screen_width");cv.Config.maxMobileScreenWidth=i.maxMobileScreenWidth}var n=r.getAttribute("class");null!==n&&document.querySelector("body").classList.add(n);null===r.getAttribute("scroll_speed")?i.scrollSpeed=400:i.scrollSpeed=parseInt(r.getAttribute("scroll_speed"));i.bindClickToWidget="true"===r.getAttribute("bind_click_to_widget");null!==r.getAttribute("default_columns")&&(i.defaultColumns=r.getAttribute("default_columns"));null!==r.getAttribute("min_column_width")&&(i.minColumnWidth=r.getAttribute("min_column_width"))},preParse:function(e){var t=this;return _asyncToGenerator(regeneratorRuntime.mark(function i(){var r,n;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:r=cv.Config.configSettings;n=new cv.parser.pure.MetaParser;r.pluginsToLoad=r.pluginsToLoad.concat(n.parsePlugins(e));i.next=5;return n.parse(e);case 5:t.debug("pre parsing done");case 6:case"end":return i.stop()}},i)}))()},createUI:function(e){if(!cv.Config.cacheUsed){this.debug("creating pages");var t=e.querySelector("pages > page");this._createPages(t,"id");this.debug("finalizing");qx.event.message.Bus.dispatchByName("setup.dom.append");this.debug("pages created")}this.debug("setup.dom.finished");qx.event.message.Bus.dispatchByName("setup.dom.finished.before");cv.TemplateEngine.getInstance().setDomFinished(!0);this.login();this.initLayout()},_createPages:function(e,t,i,r){cv.parser.pure.WidgetParser.renderTemplates(e);var n=cv.parser.pure.WidgetParser.parse(e,t,i,r);Array.isArray(n)||(n=[n]);for(var a=0,s=n.length;a<s;a++){var o=n[a],c=cv.ui.structure.WidgetFactory.createInstance(o.$$type,o);c&&c.getDomString()}},parseLabel:function(e,t,i,r){if(!e)return"";var n='<div class="'+(void 0!==i?i:"label")+'"'+(r?' style="'+r+'"':"")+">";Array.prototype.forEach.call(e.childNodes,function(e){e.nodeType===Node.ELEMENT_NODE&&"icon"===e.nodeName.toLowerCase()?n+=cv.IconHandler.getInstance().getIconElement(e.getAttribute("name"),e.getAttribute("type"),e.getAttribute("flavour")||t,e.getAttribute("color"),e.getAttribute("styling"),"",!0):e.nodeType===Node.TEXT_NODE&&(n+=e.textContent)});return n+"</div>"},supports:function(e,t){return!(!Object.prototype.hasOwnProperty.call(this.__P_57_1,e)||!0!==this.__P_57_1[e])&&(!t||Object.prototype.hasOwnProperty.call(this.__P_57_1[e],t)&&!0===this.__P_57_1[e][t])},getInitialAddresses:function(){var e={};cv.ui.structure.WidgetFactory.getInstanceById(cv.Config.initialPage).getChildWidgets().forEach(function(t){var i=t.getAddress?t.getAddress():{};for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=1)},this);return Object.keys(e)},initPagePartsHandler:function(){this.pagePartsHandler||(this.pagePartsHandler=new cv.ui.structure.pure.navigation.PagePartsHandler)},initLayout:function(){this.initPagePartsHandler();cv.Config.initialPage||this.__P_57_2();var e=cv.ui.structure.WidgetFactory.getInstanceById(cv.Config.initialPage);if(e)this.setCurrentPage(e);else{cv.Config.initialPage="id_";e=cv.ui.structure.WidgetFactory.getInstanceById(cv.Config.initialPage)}cv.ui.structure.pure.layout.Manager.adjustColumns();cv.ui.structure.pure.layout.Manager.applyColumnWidths("#"+cv.Config.initialPage,!0);this.main_scroll=new cv.ui.structure.pure.navigation.PageHandler;void 0!==this.scrollSpeed&&this.main_scroll.setSpeed(this.scrollSpeed);new qx.util.DeferredCall(function(){this.scrollToPage(cv.Config.initialPage,0)},this).schedule();document.querySelectorAll("embed").forEach(function(e){if("function"==typeof e.getSVGDocument){var t=e.getSVGDocument();null===t||"complete"!==t.readyState?e.onload=cv.ui.TrickOMatic.run:cv.ui.TrickOMatic.run.call(e)}});document.querySelectorAll(".icon").forEach(cv.util.IconTools.fillRecoloredIcon,cv.util.IconTools);document.querySelectorAll(".loading").forEach(function(e){e.classList.remove("loading")},this);qx.core.Init.getApplication().addListener("changeMobile",this._onMobileChanged,this)},doScreenSave:function(){this.scrollToPage()},onHistoryRequest:function(e){e&&this.scrollToPage(e,0,!0)},scrollToPage:function(e,t,i){void 0===e&&(e=cv.Config.configSettings.screensave_page);var r=this.getPageIdByPath(e);if(null!==r&&cv.Config.currentPageId!==r){cv.Config.currentPageId=r;cv.Config.treePath=r;void 0===t&&(t=cv.Config.configSettings.scrollSpeed);cv.Config.rememberLastPage&&qx.core.Environment.get("html.storage.local")&&(localStorage.lastpage=r);if(void 0===i){var n=document.querySelectorAll("#"+r+" h1"),a="CometVisu";n.length&&(a=n[0].textContent+" - "+a);qx.bom.History.getInstance().addToHistory(r,a)}this.main_scroll.seekTo(r,t);this.pagePartsHandler.initializeNavbars(r);this._maintainNavbars()}},_onMobileChanged:function(e){if(qx.core.Init.getApplication().isReady()){cv.ui.structure.pure.layout.ResizeHandler.invalidateNavbar();this._maintainNavbars()}},_maintainNavbars:function(){if(qx.core.Init.getApplication().getMobile())switch(this.pagePartsHandler.navbars.left.dynamic){case null:case!0:this.pagePartsHandler.fadeNavbar("Left","out",0);break;case!1:this.pagePartsHandler.fadeNavbar("Left","in",0)}else this.pagePartsHandler.fadeNavbar("Left","in",0)},resetPageValues:function(){this.resetCurrentPage();cv.ui.structure.pure.layout.Manager.currentPageUnavailableWidth=-1;cv.ui.structure.pure.layout.Manager.currentPageUnavailableHeight=-1;cv.ui.structure.pure.layout.Manager.currentPageNavbarVisibility=null},getInitialPageId:function(){var e=this;return _asyncToGenerator(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(cv.Config.initialPage){t.next=3;break}t.next=3;return e.__P_57_2();case 3:return t.abrupt("return",cv.Config.initialPage);case 4:case"end":return t.stop()}},t)}))()},__P_57_2:function(){var e=this;return _asyncToGenerator(regeneratorRuntime.mark(function t(){var i,r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i="id_";if(cv.Config.startpage){i=cv.Config.startpage;if(!0===qx.core.Environment.get("html.storage.local"))if("remember"===i){i=localStorage.getItem("lastpage");cv.Config.rememberLastPage=!0;"string"==typeof i&&"id_"===i.substr(0,3)||(i="id_")}else if("noremember"===i){localStorage.removeItem("lastpage");i="id_";cv.Config.rememberLastPage=!1}}else(r=qx.util.Uri.parseUri(window.location.href)).anchor&&"id_"===r.anchor.substring(0,3)&&(i=r.anchor);if(null===i.match(/^id_[0-9_]*$/)){t.next=5;break}cv.Config.initialPage=i;return t.abrupt("return",i);case 5:return t.abrupt("return",new Promise(function(t){qx.event.message.Bus.subscribe("setup.dom.finished.before",function(){cv.Config.initialPage=e.getPageIdByPath(i)||"id_";t(cv.Config.initialPage)})}));case 6:case"end":return t.stop()}},t)}))()},getPageIdByPath:function(e,t){if(null===e)return null;if(null!==e.match(/^id_[0-9_]*$/))return e;if(void 0!==t){var i=this.traversePath(t);if(null===i){this.error("path '"+t+"' could not be traversed, no page found");return null}return this.getPageIdByName(e,i)}return this.getPageIdByName(e)},traversePath:function(e,t){var i=null,r=e.indexOf("/");if(r>=1)for(;"\\"===e.substr(r-1,1);){var n=e.indexOf("/",r+1);n>=0&&(r=n)}if(r>=0){var a=e.substr(0,r);i=this.getPageIdByName(a,t);e=e.substr(a.length+1);return i=this.traversePath(e,i)}return i=this.getPageIdByName(e,t)},getPageIdByName:function(e,t){var i=null;if(null!==e.match(/^id_[0-9_]*$/))return e;e=cv.util.String.decodeHtmlEntities(e);e=decodeURI(e.replace("\\/","/"));var r=void 0!==t&&null!==t?'.page[id^="'+t+'"] h1':".page h1",n=document.querySelectorAll(r);if((n=Array.from(n).filter(function(t){return t.textContent===e})).length>1&&null!==this.getCurrentPage()){var a=this.getCurrentPage().getPath(),s=!0;n.some(function(t){var r=cv.util.Tree.getClosest(t,".page");if(t.innerText===e){var n=r.getAttribute("id");if(n.length<a.length){if(0===a.indexOf(n)){i=n;s=!1;return!0}}else if(0===n.indexOf(a)){i=n;s=!1;return!0}}return!1},this);s&&n.some(function(t){if(t.innerText===e){i=cv.util.Tree.getClosest(t,".page").getAttribute("id");return!0}return!1})}else n.some(function(t){if(t.innerText===e){i=cv.util.Tree.getClosest(t,".page").getAttribute("id");return!0}return!1});return null!==i&&null!==i.match(/^id_[0-9_]*$/)?i:null}},destruct:function(){qx.core.Init.getApplication().removeListener("changeMobile",this._onMobileChanged,this)},defer:function(e){cv.Application.structureController=e.getInstance()}});cv.ui.structure.pure.Controller.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.core.Object":{require:!0},"cv.data.Model":{},"cv.ui.structure.pure.layout.ResizeHandler":{},"cv.Application":{},"cv.ui.structure.WidgetFactory":{},"qx.bom.element.Animation":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("cv.ui.structure.pure.navigation.PagePartsHandler",{extend:qx.core.Object,construct:function(){this.navbars={top:{dynamic:null,fadeVisible:!0},left:{dynamic:null,fadeVisible:!0},right:{dynamic:null,fadeVisible:!0},bottom:{dynamic:null,fadeVisible:!0}}},members:{navbars:null,updateTopNavigation:function(e){(e=e.split("_")).pop();var t="id_",i=document.querySelector(".nav_path");i.innerHTML="";var r=this.getPageTitle(t),n=document.createElement("a");n.setAttribute("href","javascript:cv.Application.structureController.scrollToPage('"+t+"')");n.setAttribute("id","breadcrump_pagejump_"+t);n.appendChild(document.createTextNode(r));i.appendChild(n);for(var a=1;a<e.length;a++){t+=e[a]+"_";var s=document.querySelector("#"+t);if(s&&s.classList.contains("page")){r=this.getPageTitle(t);var o=document.createElement("span");o.innerHTML=" &#x25ba; ";i.appendChild(o);(n=document.createElement("a")).setAttribute("href","javascript:cv.Application.structureController.scrollToPage('"+t+"')");n.setAttribute("id","breadcrump_pagejump_"+t);n.appendChild(document.createTextNode(r));i.appendChild(n)}}},getPageTitle:function(e){var t="",i=cv.data.Model.getInstance().getWidgetData(e);if(i)t=i.name;else{var r=document.querySelector("#"+e+" h1");r&&(t=r.textContent)}return t},navbarSetSize:function(e,t){var i,r=t+(isFinite(t)?"px":"");switch(e){case"left":(i=document.querySelector("#navbarLeft")).style.width=r;this.navbars.left.fadeVisible||(i.style.left=-i.getBoundingClientRect().width+"px");cv.ui.structure.pure.layout.ResizeHandler.invalidateNavbar();break;case"right":document.querySelector("#centerContainer").style["padding-right"]=r;(i=document.querySelector("#navbarRight")).style.width=r;i.style["margin-right"]="-"+r;this.navbars.right.fadeVisible||(i.style.right=-i.getBoundingClientRect().width+"px");cv.ui.structure.pure.layout.ResizeHandler.invalidateNavbar()}},getNavbarsVisibility:function(e){e||(e=cv.Application.structureController.getCurrentPage());if(!e)return{top:!0,bottom:!0,left:!0,right:!0};"string"==typeof e?e=cv.ui.structure.WidgetFactory.getInstanceById(e):e.attributes&&(e=cv.ui.structure.WidgetFactory.getInstanceById(e.getAttribute("id")));return e?{top:e.getShowNavbarTop(),bottom:e.getShowNavbarBottom(),left:e.getShowNavbarLeft(),right:e.getShowNavbarRight()}:{top:!0,bottom:!0,left:!0,right:!0}},updatePageParts:function(e,t){var i=!0,r=!0;if(e){if(!e.isInitialized()){var n=this;e.addListenerOnce("changeInitialized",function(){n.updatePageParts(e,t)},this);return}i=e.getShowTopNavigation();r=e.getShowFooter()}var a=window.getComputedStyle(document.querySelector("#top")).display,s=window.getComputedStyle(document.querySelector("#bottom")).display;if(i){if("none"===a){document.querySelectorAll("#top, #top > *").forEach(function(e){e.style.display="block"},this);this.removeInactiveNavbars(e.getPath())}}else if("none"!==a){document.querySelector("#top").style.display="none";this.removeInactiveNavbars(e.getPath())}if(r){if("none"===s){document.querySelector("#bottom").style.display="block";this.removeInactiveNavbars(e.getPath())}}else if("none"!==s){document.querySelector("#bottom").style.display="none";this.removeInactiveNavbars(e.getPath())}cv.ui.structure.pure.layout.ResizeHandler.invalidateNavbar()},fadeNavbar:function(e,t,i){i=void 0!==i?i:cv.Application.structureController.main_scroll.getSpeed();var r={},n={},a=document.querySelector("#navbar"+e);if(a){var s=e.toLowerCase(),o=this,c=function(){o.navbars[s].fadeVisible="in"===t;cv.ui.structure.pure.layout.ResizeHandler.invalidateNavbar()};switch(t){case"in":"none"===window.getComputedStyle(a).display&&(r.display="block");n[s]=0;switch(e){case"Top":case"Bottom":r[s]=-a.getBoundingClientRect().height+"px";break;case"Left":case"Right":r[s]=-a.getBoundingClientRect().width+"px"}break;case"out":r[s]=0;switch(e){case"Top":case"Bottom":n[s]=-a.getBoundingClientRect().height+"px";break;case"Left":case"Right":n[s]=-a.getBoundingClientRect().width+"px"}}Object.entries(r).forEach(function(e){a.style[e[0]]=e[1]});if(0===i){Object.entries(n).forEach(function(e){a.style[e[0]]=e[1]});c()}else{var u={duration:i,timing:cv.Application.structureController.main_scroll.getEasing(),keep:100,keyFrames:{0:r,100:n}};qx.bom.element.Animation.animate(a,u).addListenerOnce("end",c,this)}}},initializeNavbars:function(e){var t=this;this.removeInactiveNavbars(e);var i=Array.from(document.querySelectorAll("#id_"));if("id_"!==e){var r=e.split("_");r.pop();r[0]="";for(var n=0;n<r.length;n++){var a=r.slice(0,n+1).join("_");if(a){var s=document.querySelectorAll("#id"+a+"_.page");1===s.length&&i.push(s[0])}}}var o=1,c={top:0,right:0,bottom:0,left:0},u={top:null,right:null,bottom:null,left:null},l=["top","right","bottom","left"];i.forEach(function(e){var r=e.getAttribute("id");l.forEach(function(e){var n=document.querySelector("#"+r+e+"_navbar");if(n){var a=cv.data.Model.getInstance().getWidgetData(r+e+"_navbar");if(a.scope>=0&&i.length-o>a.scope){n.classList.remove("navbarActive");return}null!==a.dynamic&&(u[e]=a.dynamic);t.navbars[e].dynamic=u[e];void 0===a.scope||a.scope<0||i.length-o<=a.scope?n.classList.add("navbarActive"):n.classList.remove("navbarActive");null!==a.width?c[e]=a.width:0===c[e]&&(c[e]=300)}});o++});l.forEach(function(e){t.navbarSetSize(e,c[e])});cv.ui.structure.pure.layout.ResizeHandler.invalidateNavbar()},removeInactiveNavbars:function(e){document.querySelectorAll(".navbar.navbarActive").forEach(function(t){var i=t.getAttribute("id").split("_");i=i.slice(0,i.length-2).join("_");var r=new RegExp("^"+i+".*","i");i===e||r.test(e)||t.classList.remove("navbarActive")})}}});cv.ui.structure.pure.navigation.PagePartsHandler.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.core.Environment":{defer:"load",require:!0},"qx.Class":{usage:"dynamic",require:!0},"qx.core.Object":{require:!0},"qx.event.message.Bus":{},"cv.ui.structure.WidgetFactory":{},"cv.Application":{},"qx.bom.client.Browser":{require:!0},"qx.bom.element.Animation":{},"qx.bom.AnimationFrame":{},"qx.util.Animation":{}},environment:{provided:[],required:{"browser.name":{className:"qx.bom.client.Browser"},"browser.version":{className:"qx.bom.client.Browser"}}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("cv.ui.structure.pure.navigation.PageHandler",{extend:qx.core.Object,properties:{speed:{check:"Number",init:400},easing:{check:"string",init:"ease"},currentPath:{check:"String",init:""},animationType:{check:["slide","fade","flip","pop","swap","none"],init:"slide"}},members:{seekTo:function(e,t){Number.isFinite(t)||(t=0);var i=this.getCurrentPath();""!==i&&qx.event.message.Bus.dispatchByName("path."+i+".exitingPageChange",i,e);var r=cv.ui.structure.WidgetFactory.getInstanceById(e);if(r&&r.getDomElement()){qx.event.message.Bus.dispatchByName("path."+e+".beforePageChange",e);var n=cv.Application.structureController;n.resetPageValues();n.setCurrentPage(r);n.pagePartsHandler.updatePageParts(r,t);var a={},s=i?cv.ui.structure.WidgetFactory.getInstanceById(i):null,o=null,c=t>0&&"none"!==this.getAnimationType();"safari"===qx.core.Environment.get("browser.name")&&parseInt(qx.core.Environment.get("browser.version"))<=5&&(c=!1);if(c){o=i.split("_").length<=e.split("_").length?"down":"up";a=this.__P_69_0(o);Object.entries({display:"block",overflow:"hidden"}).forEach(function(e){r.getDomElement().style[e[0]]=e[1]});r.setVisible(!0)}if(c){if(s){var u=qx.bom.element.Animation.animate(s.getDomElement(),a.leavePage,t);s.getDomElement().style["overflow-y"]="hidden";u.addListenerOnce("end",function(){this.__P_69_1(s)},this)}var l=window.getComputedStyle(r.getDomElement()).position;r.getDomElement().style.position="absolute";qx.bom.AnimationFrame.request(function(){qx.bom.element.Animation.animate(r.getDomElement(),a.enterPage,t).addListenerOnce("end",function(){this.__P_69_2(r,l)},this)},this)}else{s&&this.__P_69_1(s);this.__P_69_2(r,0,!0)}}},__P_69_0:function(e){var t,i,r=this.getAnimationType().toUpperCase();if("up"===e){t=qx.util.Animation[r+"_RIGHT_IN"]||qx.util.Animation[r+"_IN"];i=qx.util.Animation[r+"_RIGHT_OUT"]||qx.util.Animation[r+"_OUT"]}else if("down"===e){t=qx.util.Animation[r+"_LEFT_IN"]||qx.util.Animation[r+"_IN"];i=qx.util.Animation[r+"_LEFT_OUT"]||qx.util.Animation[r+"_OUT"]}if(!t||!i)switch(this.getAnimationType()){case"slide":if("up"===e){t=qx.util.Animation.SLIDE_RIGHT_IN;i=qx.util.Animation.SLIDE_RIGHT_OUT}else{t=qx.util.Animation.SLIDE_LEFT_IN;i=qx.util.Animation.SLIDE_LEFT_OUT}}t&&(t.timing=this.getEasing());i&&(i.timing=this.getEasing());return{enterPage:t,leavePage:i}},__P_69_1:function(e){e.getDomElement().classList.remove("pageActive","activePage");e.getDomElement().style.overflow=null;qx.event.message.Bus.dispatchByName("path."+e.getPath()+".afterPageChange",e.getPath());qx.event.message.Bus.dispatchByName("path.pageLeft",e.getPath());e.setVisible(!1)},__P_69_2:function(e,t,i){var r=e.getDomElement(),n=e.getPath();r.classList.add("pageActive","activePage");!0===i&&e.setVisible(!0);this.setCurrentPath(n);cv.Application.structureController.pagePartsHandler.updateTopNavigation(n);qx.event.message.Bus.dispatchByName("page."+n+".appear",n);qx.event.message.Bus.dispatchByName("path.pageChanged",n);var a={overflow:null,display:null};t&&(a.position=t);Object.entries(a).forEach(function(e){r.style[e[0]]=e[1]})}}});cv.ui.structure.pure.navigation.PageHandler.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"cv.ui.structure.pure.AbstractWidget":{construct:!0,require:!0},"cv.ui.common.Operate":{require:!0},"cv.ui.common.HasAnimatedButton":{require:!0},"qx.data.store.Json":{construct:!0},"cv.io.rest.Client":{construct:!0},"cv.Config":{},"cv.util.Location":{},"qx.util.Uri":{},"cv.ui.structure.WidgetFactory":{defer:"runtime"}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("cv.ui.structure.pure.DesignToggle",{extend:cv.ui.structure.pure.AbstractWidget,include:[cv.ui.common.Operate,cv.ui.common.HasAnimatedButton],construct:function(e){cv.ui.structure.pure.AbstractWidget.constructor.call(this,e);new qx.data.store.Json(cv.io.rest.Client.getBaseUrl()+"/data/designs").addListener("loaded",function(e){this.setAvailableDesigns(e.getData())},this)},properties:{availableDesigns:{check:"Array",init:[]}},members:{_getInnerDomString:function(){return'<div class="actor switchUnpressed"><div class="value">'+cv.Config.getDesign()+"</div></div>"},_action:function(e,t,i){if(!i){var r=this.getAvailableDesigns(),n=this.getDomElement().querySelector(".value").textContent,a=r.getItem((r.indexOf(n)+1)%r.length),s=cv.util.Location.getHref(),o=new RegExp("design="+n);if(-1!==s.search(o))cv.util.Location.setHref(s.replace(o,"design="+a));else{var c=cv.util.Location.getHref().split("#"),u=qx.util.Uri.appendParamsToUrl(c[0],{design:a});c.length>1&&(u+="#"+c[1]);cv.util.Location.setHref(u)}}}},defer:function(e){cv.ui.structure.WidgetFactory.registerClass("designtoggle",e)}});cv.ui.structure.pure.DesignToggle.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"cv.ui.structure.pure.AbstractWidget":{require:!0},"cv.ui.common.HasChildren":{require:!0},"cv.Application":{},"cv.ui.structure.WidgetFactory":{defer:"runtime"}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("cv.ui.structure.pure.Group",{extend:cv.ui.structure.pure.AbstractWidget,include:cv.ui.common.HasChildren,properties:{noWidget:{check:"Boolean",init:!1},name:{check:"String",init:""},target:{check:"String",nullable:!0}},members:{action:function(e){if(this.getTarget()){cv.Application.structureController.scrollToPage(this.getTarget());e.getBubbles()&&e.stopPropagation()}},getActor:function(){return this.getDomElement()},_onDomReady:function(){cv.ui.structure.pure.Group.superclass.prototype._onDomReady.call(this);this.getDomElement().style["z-index"]=1},getDomString:function(){var e="";this.getAlign()&&(e+='style="text-align:'+this.getAlign()+'"');var t='<div class="clearfix">';this.getName()&&(t+="<h2 "+e+">"+this.getName()+"</h2>");t+=this.getChildrenDomString();t+="</div>";return'<div class="'+this.getClasses()+'" '+this.getStyle()+">"+t+"</div>"}},defer:function(e){cv.ui.structure.WidgetFactory.registerClass("group",e)}});cv.ui.structure.pure.Group.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"cv.ui.structure.pure.AbstractWidget":{require:!0},"cv.ui.common.Refresh":{require:!0},"cv.ui.common.Update":{require:!0},"qx.util.ResourceManager":{},"qx.util.Uri":{},"cv.ui.structure.WidgetFactory":{defer:"runtime"}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("cv.ui.structure.pure.Image",{extend:cv.ui.structure.pure.AbstractWidget,include:[cv.ui.common.Refresh,cv.ui.common.Update],properties:{width:{check:"String",init:"100%"},height:{check:"String",nullable:!0},cropTop:{check:"String"},cropBottom:{check:"String"},src:{check:"String",init:""},widthFit:{check:"Boolean",init:!1},placeholder:{check:["none","src","hide","exclude"],init:"none"}},members:{__P_58_0:null,_getInnerDomString:function(){var e="";this.getWidth()&&(e+="width:"+this.getWidth()+";");!0===this.getWidthFit()&&(e+="max-width:100%;");this.getHeight()&&(e+="height:"+this.getHeight()+";");if(""!==this.getCropTop()||""!==this.getCropBottom()){var t="0%",i="";""!==this.getCropTop()&&(i="margin-bottom:"+(t="-"+this.getCropTop()));""!==this.getCropBottom()&&(i="margin-bottom:calc("+t+" - "+this.getCropBottom()+");");e+="object-position:0% "+t+";"+i}var r=this.__P_58_1();if(!r)switch(this.getPlaceholder()){case"hide":r=qx.util.ResourceManager.getInstance().toUri("qx/static/blank.gif");break;case"exclude":e+="display:none;";break;case"src":this.error("no src placeholder defined")}return'<div class="actor"><img src="'+r+'" style="'+e+'" /></div>'},__P_58_1:function(){if(!this.__P_58_0){var e=this.getSrc();qx.util.Uri.parseUri(this.getSrc()).protocol||e.startsWith("/")||(e=qx.util.ResourceManager.getInstance().toUri(e));this.__P_58_0=e||""}return this.__P_58_0},handleUpdate:function(e,t){var i=this.getValueElement();if(e)i.style.display="inline";else switch(this.getPlaceholder()){case"src":e=this.__P_58_1();i.style.display="inline";break;case"hide":e=qx.util.ResourceManager.getInstance().toUri("qx/static/blank.gif");i.style.display="inline";break;case"exclude":i.style.display="none"}i.setAttribute("src",e)},getValueElement:function(){return this.getDomElement().querySelector("img")},_applyVisible:function(e){var t=this.getValueElement();!t||this.getRefresh()>0||(!0===e?t.setAttribute("src",this.__P_58_1()):t.setAttribute("src",""))}},defer:function(e){cv.ui.structure.WidgetFactory.registerClass("image",e)}});cv.ui.structure.pure.Image.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"cv.ui.structure.pure.AbstractWidget":{require:!0},"cv.ui.common.Operate":{require:!0},"cv.ui.common.HasAnimatedButton":{require:!0},"cv.ui.common.Refresh":{require:!0},"cv.ui.common.Update":{require:!0},"cv.parser.pure.WidgetParser":{},"qx.util.Uri":{},"qx.util.ResourceManager":{},"cv.ui.structure.WidgetFactory":{defer:"runtime"}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("cv.ui.structure.pure.ImageTrigger",{extend:cv.ui.structure.pure.AbstractWidget,include:[cv.ui.common.Operate,cv.ui.common.HasAnimatedButton,cv.ui.common.Refresh,cv.ui.common.Update],properties:{height:{check:"String",nullable:!0},updateType:{check:"String",init:""},width:{check:"String",init:"100%"},src:{check:"String",nullable:!0},suffix:{check:"String",nullable:!0},sendValue:{check:"String",init:""}},members:{_getInnerDomString:function(){var e="";0===Object.keys(this.getLayout()).length&&(e+=cv.parser.pure.WidgetParser.extractLayout(this.getLayout(),this.getPageType()));this.getHeight()&&(e+="height:"+this.getHeight()+";");e.length>0&&(e=' style="'+e+'"');var t='<div class="actor">';"show"===this.getUpdateType()?t+='<img src="'+this.__P_59_0(this.getSrc()+"."+this.getSuffix())+'"'+e.trim()+" />":t+='<img src=""'+e+" />";return t+="</div>"},_update:function(e,t){var i=this.getDomElement().querySelector("img");if("show"===this.getUpdateType())if(0===t)i.style.display="none";else{i.setAttribute("src",this.__P_59_0(this.getSrc()+"."+this.getSuffix()));i.style.display="block"}else if("select"===this.getUpdateType())if(0===t)i.style.display="none";else{i.setAttribute("src",this.__P_59_0(this.getSrc()+t+"."+this.getSuffix()));i.style.display="block"}},__P_59_0:function(e){qx.util.Uri.parseUri(e).protocol||e.startsWith("/")||(e=qx.util.ResourceManager.getInstance().toUri(e));return e},_action:function(){""!==this.getSendValue()&&this.sendToBackend(this.getSendValue())}},defer:function(e){cv.ui.structure.WidgetFactory.registerClass("imagetrigger",e)}});cv.ui.structure.pure.ImageTrigger.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"cv.ui.structure.pure.AbstractWidget":{require:!0},"cv.ui.common.Update":{require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("cv.ui.structure.pure.Info",{extend:cv.ui.structure.pure.AbstractWidget,include:cv.ui.common.Update,members:{_getInnerDomString:function(){return'<div class="actor"><div class="value">-</div></div>'}}});cv.ui.structure.pure.Info.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"cv.ui.structure.pure.AbstractWidget":{require:!0},"cv.ui.common.HasChildren":{require:!0},"cv.ui.structure.WidgetFactory":{defer:"runtime"}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("cv.ui.structure.pure.InfoAction",{extend:cv.ui.structure.pure.AbstractWidget,include:cv.ui.common.HasChildren,properties:{anonymous:{refine:!0,init:!0}},members:{_getInnerDomString:function(){return this.getChildrenDomString()}},defer:function(e){cv.ui.structure.WidgetFactory.registerClass("infoaction",e)}});cv.ui.structure.pure.InfoAction.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"cv.ui.structure.pure.AbstractWidget":{require:!0},"cv.ui.common.Operate":{require:!0},"cv.ui.common.Update":{require:!0},"cv.ui.common.HasAnimatedButton":{require:!0},"cv.ui.common.HandleLongpress":{require:!0},"qx.event.Registration":{},"cv.ui.structure.WidgetFactory":{defer:"runtime"}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("cv.ui.structure.pure.InfoTrigger",{extend:cv.ui.structure.pure.AbstractWidget,include:[cv.ui.common.Operate,cv.ui.common.Update,cv.ui.common.HasAnimatedButton,cv.ui.common.HandleLongpress],properties:{downValue:{check:"Number",init:0},shortDownValue:{check:"Number",nullable:!0},downLabel:{check:"String",nullable:!0},upValue:{check:"Number",init:0},shortUpValue:{check:"Number",nullable:!0},upLabel:{check:"String",nullable:!0},isAbsolute:{check:"Boolean",init:!1},min:{check:"Number",init:0},max:{check:"Number",init:255},infoPosition:{check:["left","middle","right"],init:"middle"}},members:{_getInnerDomString:function(){var e='<div style="float:left;">',t='<div class="actor switchUnpressed downlabel" ';this.getAlign()&&(t+='style="text-align: '+this.getAlign()+'" ');t+=">";t+='<div class="label">'+(this.getDownLabel()||"-")+"</div>";t+="</div>";var i='<div class="actor switchUnpressed uplabel" ';this.getAlign()&&(i+='style="text-align: '+this.getAlign()+'" ');i+=">";i+='<div class="label">'+(this.getUpLabel()||"+")+"</div>";i+="</div>";var r='<div class="actor switchInvisible" ';this.getAlign()&&(r+='style="text-align: '+this.getAlign()+'" ');r+='><div class="value">-</div></div>';switch(this.getInfoPosition()){case"middle":e+=t;e+=r;e+=i;break;case"right":e+=t;e+=i;e+=r;break;default:e+=r;e+=t;e+=i}return e+"</div>"},getActors:function(){return this.getDomElement().querySelectorAll(".actor.uplabel, .actor.downlabel")},initListeners:function(){this.getActors().forEach(function(e){qx.event.Registration.addListener(e,"pointerdown",this._onPointerDown,this)},this)},__P_60_0:function(e){for(;!e.classList.contains("actor");)if((e=e.parentNode).classList.contains("widget"))return null;return e},_onLongTap:function(e){this.__P_60_1(!1,this.__P_60_0(e.getCurrentTarget()).classList.contains("downlabel"))},_action:function(e){this.__P_60_1(!0,this.__P_60_0(e.getCurrentTarget()).classList.contains("downlabel"))},__P_60_1:function(e,t){var i;i=e&&null!==this.getShortDownValue()&&null!==this.getShortUpValue()?t?this.getShortDownValue():this.getShortUpValue():t?this.getDownValue():this.getUpValue();var r=e?1:2;if(this.getIsAbsolute()){var n=parseFloat(this.getBasicValue());Number.isFinite(n)||(n=0);i=n+i;i=Math.max(i,this.getMin());i=Math.min(i,this.getMax())}this.sendToBackend(i,function(e){return!!(e.variantInfo&r)})},getDownActor:function(){return this.getDomElement().querySelector(".actor.downlabel")},getUpActor:function(){return this.getDomElement().querySelector(".actor.uplabel")},getInfoActor:function(){return this.getDomElement().querySelector(".actor.switchInvisible")}},defer:function(e){cv.ui.structure.WidgetFactory.registerClass("infotrigger",e)}});cv.ui.structure.pure.InfoTrigger.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"cv.ui.structure.pure.AbstractWidget":{require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("cv.ui.structure.pure.Line",{extend:cv.ui.structure.pure.AbstractWidget,members:{getDomString:function(){return"<hr "+(this.getClasses()?'class="'+this.getClasses()+'"':"")+"/>"}}});cv.ui.structure.pure.Line.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"cv.ui.structure.pure.AbstractWidget":{require:!0},"cv.ui.common.Operate":{require:!0},"cv.ui.common.Update":{require:!0},"cv.ui.common.HasAnimatedButton":{require:!0},"qx.util.DeferredCall":{},"qx.event.Registration":{},"cv.ui.structure.WidgetFactory":{defer:"runtime"}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("cv.ui.structure.pure.MultiTrigger",{extend:cv.ui.structure.pure.AbstractWidget,include:[cv.ui.common.Operate,cv.ui.common.Update,cv.ui.common.HasAnimatedButton],properties:{showstatus:{check:"Boolean",init:!1},elementsPerLine:{check:"Number",init:2},buttonConfiguration:{check:"Object",nullable:!1}},members:{_getInnerDomString:function(){var e='<div class="actor_container" style="float:left">',t=this.getMapping(),i=this.getElementsPerLine(),r=this.getButtonConfiguration();Object.keys(r).sort().forEach(function(n){var a=r[n],s=a.label;if(t){var o=this.defaultValueHandling(void 0,a.value);if(o!==a.value||!s){var c=document.createElement("div");this.defaultValue2DOM(o,c);s=c.innerHTML}}s&&(e+='<div class="actor switchUnpressed"><div class="value">'+s+"</div></div>");i>0&&n%i==0&&(e+="<br/>")},this);return e+"</div>"},getActors:function(){return this.getDomElement().querySelectorAll(".actor_container .actor")},_processIncomingValue:function(e,t){return this.applyTransform(e,t)},handleUpdate:function(){var e=this.getActors(),t=this.getButtonConfiguration();e.forEach(function(i){var r=Array.prototype.indexOf.call(e,i)+1;if(Object.prototype.hasOwnProperty.call(t,r)){var n=""+this.getBasicValue()==""+t[r].value;new qx.util.DeferredCall(function(){i.classList.remove(n?"switchUnpressed":"switchPressed");i.classList.add(n?"switchPressed":"switchUnpressed")},this).schedule()}},this)},getActionValue:function(e){var t=Array.prototype.indexOf.call(this.getDomElement().querySelectorAll(".actor_container .actor"),e.getCurrentTarget())+1;return this.getButtonConfiguration()[t].value},initListeners:function(){this.isAnonymous()||this.getActors().forEach(function(e){qx.event.Registration.addListener(e,"tap",this.action,this);qx.event.Registration.addListener(e,"pointerdown",this._onPointerDown,this)},this)}},defer:function(e){cv.ui.structure.WidgetFactory.registerClass("multitrigger",e)}});cv.ui.structure.pure.MultiTrigger.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"cv.ui.structure.pure.AbstractWidget":{require:!0},"cv.ui.common.HasChildren":{require:!0},"cv.Application":{},"qx.core.Init":{},"cv.ui.structure.WidgetFactory":{defer:"runtime"},"qx.event.message.Bus":{defer:"runtime"}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("cv.ui.structure.pure.NavBar",{extend:cv.ui.structure.pure.AbstractWidget,include:cv.ui.common.HasChildren,properties:{anonymous:{refine:!0,init:!0},name:{check:"String",nullable:!0},scope:{check:"Number",init:-1},width:{check:"String",init:"300"},position:{check:["top","left","right","bottom"],init:"left"},dynamic:{check:"Boolean",nullable:!0,init:null},visible:{refine:!0,init:!0}},statics:{_navbarTop:"",_navbarLeft:"",_navbarRight:"",_navbarBottom:"",_touchX:null,_touchY:null,initializeNavbars:function(){["Top","Left","Right","Bottom"].forEach(function(e){if(this["_navbar"+e]){var t=document.querySelector("#navbar"+e);t&&(t.innerHTML+=this["_navbar"+e])}},this);var e=this,t=document.body.querySelector("#centerContainer");t.addEventListener("touchstart",function(t){var i=t.touches[0],r=cv.Application.structureController.pagePartsHandler;if(!(!1===r.navbars.left.dynamic||!qx.core.Init.getApplication().getMobile()&&!0!==r.navbars.left.dynamic||r.navbars.left.fadeVisible&&!t.composedPath().some(function(e){return"navbarLeft"===e.id})||!r.navbars.left.fadeVisible&&i.clientX>20)){e._touchX=i.clientX;e._touchY=i.clientY}},{passive:!0});t.addEventListener("touchend",function(){e._touchX=null;e._touchY=null},!1);t.addEventListener("touchmove",function(t){if(null!==e._touchX){var i=t.touches[0],r=i.clientX-e._touchX,n=i.clientY-e._touchY,a=Math.abs(r)>10,s=r>0;if(Math.abs(r)>Math.abs(n)&&a){t.preventDefault();var o=cv.Application.structureController.pagePartsHandler;if(s){e._touchX=i.clientX-10;e._touchY=i.clientY;o.navbars.left.fadeVisible||o.fadeNavbar("Left","in",250)}else{e._touchX=i.clientX+10;e._touchY=i.clientY;o.navbars.left.fadeVisible&&o.fadeNavbar("Left","out",250)}}}},{passive:!1})}},members:{_onDomReady:function(){},getGlobalPath:function(){var e=this.getPath().split("_");e.pop();return e.join("_")+"_"+this.getPosition()+"_navbar"},getDomString:function(){var e='<div class="'+this.getClasses()+'" id="'+this.getGlobalPath()+'">';this.getName()&&(e+="<h2>"+this.getName()+"</h2>");e+=this.getChildrenDomString();e+="</div>";switch(this.getPosition()){case"top":cv.ui.structure.pure.NavBar._navbarTop+=e;break;case"left":cv.ui.structure.pure.NavBar._navbarLeft+=e;break;case"right":cv.ui.structure.pure.NavBar._navbarRight+=e;break;case"bottom":cv.ui.structure.pure.NavBar._navbarBottom+=e}return""}},defer:function(e){cv.ui.structure.WidgetFactory.registerClass("navbar",e);qx.event.message.Bus.subscribe("setup.dom.finished.before",e.initializeNavbars,e)}});cv.ui.structure.pure.NavBar.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"cv.ui.structure.pure.AbstractWidget":{construct:!0,require:!0},"cv.ui.NotificationCenter":{},"cv.ui.structure.WidgetFactory":{defer:"runtime"}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("cv.ui.structure.pure.NotificationCenterBadge",{extend:cv.ui.structure.pure.AbstractWidget,construct:function(e){var t=e.classes.trim().split(" "),i=t.indexOf("right");if(-1!==i){this.setContainerClass("float-right");t.splice(i,1);e.classes=t.join(" ")}cv.ui.structure.pure.AbstractWidget.constructor.call(this,e)},properties:{counter:{check:"Number",init:0,apply:"_applyCounter"},hideWhenEmpty:{check:"Boolean",init:!1}},members:{__P_61_0:null,_onDomReady:function(){cv.ui.structure.pure.NotificationCenterBadge.superclass.prototype._onDomReady.call(this);var e=cv.ui.NotificationCenter.getInstance();e.getMessages().addListener("changeLength",this._onChangeCounter,this);this._onChangeCounter();e.addListener("changedGlobalSeverity",this._onChangeGlobalSeverity,this)},_applyVisible:function(e){cv.ui.NotificationCenter.getInstance().disableBadge(e)},action:function(e){this._skipNextEvent!==e.getType()?cv.ui.NotificationCenter.getInstance().toggleVisibility():this._skipNextEvent=null},__P_61_1:function(){this.__P_61_0||(this.__P_61_0=this.getDomElement().querySelector(".badge"));return this.__P_61_0},_onChangeGlobalSeverity:function(e){var t=this.__P_61_1().classList;t.remove.apply(t,cv.ui.NotificationCenter.getInstance().getSeverities());e.getData()&&t.add(e.getData())},_onChangeCounter:function(){var e=cv.ui.NotificationCenter.getInstance().getMessages().length;this.__P_61_1().innerHTML=""+e;this.isHideWhenEmpty()&&(this.__P_61_1().style.display=0===e?"none":"block")},_getInnerDomString:function(){var e="";this.isHideWhenEmpty()&&0===this.getCounter()&&(e=' style="display: none;"');return'<div class="actor badge"'+e+">"+this.getCounter()+"</div>"}},destruct:function(){var e=cv.ui.NotificationCenter.getInstance();e.getMessages().removeListener("changeLength",this._onChangeCounter,this);e.removeListener("changedGlobalSeverity",this._onChangeGlobalSeverity,this)},defer:function(e){cv.ui.structure.WidgetFactory.registerClass("notificationcenterbadge",e)}});cv.ui.structure.pure.NotificationCenterBadge.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"cv.ui.structure.pure.AbstractWidget":{construct:!0,require:!0},"cv.ui.common.HasChildren":{require:!0},"cv.ui.common.Update":{require:!0},"qx.util.DeferredCall":{construct:!0},"cv.Application":{},"qx.event.message.Bus":{defer:"runtime"},"cv.ui.structure.pure.layout.Manager":{},"cv.ui.structure.pure.layout.ResizeHandler":{},"qx.util.ResourceManager":{},"cv.data.Model":{},"cv.io.BackendConnections":{},"cv.Transform":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("cv.ui.structure.pure.Page",{extend:cv.ui.structure.pure.AbstractWidget,include:[cv.ui.common.HasChildren,cv.ui.common.Update],construct:function(e){this.__P_62_0=["showNavbarTop","showNavbarBottom","showNavbarLeft","showNavbarRight"];cv.ui.structure.pure.AbstractWidget.constructor.call(this,e);this.addListener("changeVisible",this._onChangeVisible,this);new qx.util.DeferredCall(function(){var e=this.getParentPage();e?this.debug("binding navbar visibility from "+e.getPath()+" to "+this.getPath()):this.__P_62_0=[];[["showTopNavigation",!0],["showFooter",!0],["showNavbarTop",!1],["showNavbarBottom",!1],["showNavbarLeft",!1],["showNavbarRight",!1]].forEach(function(t){var i=t[0],r=t[1];null===this["get"+i.charAt(0).toUpperCase()+i.substr(1)]()&&(e?e.bind(i,this,i):this["set"+i.charAt(0).toUpperCase()+i.substr(1)](r));e||this.setInitialized(!0)},this)},this).schedule();this.getAddress()&&(this._initOnCreate=!0)},statics:{allPages:"",createFinal:function(){var e=cv.Application.structureController.getRenderTarget();document.querySelector(e).innerHTML=this.allPages;qx.event.message.Bus.unsubscribe("setup.dom.append",this.createFinal,this)}},properties:{initialized:{check:"Boolean",init:!1,event:"changeInitialized"},anonymous:{refine:!0,init:!0},name:{check:"String",init:"",nullable:!0},showTopNavigation:{check:"Boolean",nullable:!0,event:"changeShowTopNavigation"},showFooter:{check:"Boolean",nullable:!0,event:"changeShowFooter"},showNavbarTop:{check:"Boolean",nullable:!0,event:"changeShowNavbarTop",apply:"_applyNavbarVisibility"},showNavbarBottom:{check:"Boolean",nullable:!0,event:"changeShowNavbarBottom",apply:"_applyNavbarVisibility"},showNavbarLeft:{check:"Boolean",nullable:!0,event:"changeShowNavbarLeft",apply:"_applyNavbarVisibility"},showNavbarRight:{check:"Boolean",nullable:!0,event:"changeShowNavbarRight",apply:"_applyNavbarVisibility"},backdropAlign:{init:"50% 50%",nullable:!0},backdropType:{check:"String",nullable:!0},linkVisible:{check:"Boolean",init:!0,nullable:!0},size:{check:"String",nullable:!0},backdrop:{check:"String",nullable:!0}},members:{__P_62_0:null,__P_62_1:null,__P_62_2:null,_applyNavbarVisibility:function(e,t,i){if(null!==e){var r=this.__P_62_0.indexOf(i);-1!==r&&this.__P_62_0.splice(r,1);0===this.__P_62_0.length&&this.setInitialized(!0)}},_onChangeVisible:function(e){if(e.getData()){this.__P_62_1!==cv.ui.structure.pure.layout.Manager.COLSPAN_CLASS&&this.applyColumnWidths();this.getBackdrop()&&cv.ui.structure.pure.layout.ResizeHandler.invalidateBackdrop()}},applyColumnWidths:function(){cv.ui.structure.pure.layout.Manager.applyColumnWidths("#"+this.getPath(),!1);this.__P_62_1=cv.ui.structure.pure.layout.Manager.COLSPAN_CLASS},getDomString:function(){var e=this.getPageType(),t='<div class="page type_'+e+(this.getFlavour()?" flavour_"+this.getFlavour():"")+'" id="'+this.getPath()+'">',i='<div class="clearfix"><h1>'+this.getName()+"</h1>";if("2d"===e){var r="width:100%;height:100%;";switch(this.getSize()){case"fixed":r+="object-fit:none;";this.getBackdropAlign()&&(r+="object-position:"+this.getBackdropAlign()+";");break;case"contained":r+="object-fit:contain;";this.getBackdropAlign()&&(r+="object-position:"+this.getBackdropAlign()+";")}var n=this.getBackdrop();n&&(i+="<"+this.getBackdropType()+' src="'+qx.util.ResourceManager.getInstance().toUri(n)+'" style="position: absolute; top: 0px; left: 0px;z-index:-1;'+r+'"/>')}t+=(i+=this.getChildrenDomString())+"</div></div>";cv.ui.structure.pure.Page.allPages=t+cv.ui.structure.pure.Page.allPages},_update:function(e,t){if(1===parseInt(t)){cv.Application.structureController.scrollToPage(this.getPath());this.sendToBackend("0")}},sendToBackend:function(e){if(this.getAddress){var t=this.getAddress();for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var r=t[i];cv.data.Model.isWriteAddress(r)&&cv.io.BackendConnections.getClient().write(i,cv.Transform.encode(r,e))}}}},defer:function(e){qx.event.message.Bus.subscribe("setup.dom.append",e.createFinal,e)}});cv.ui.structure.pure.Page.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"cv.ui.structure.pure.AbstractWidget":{construct:!0,require:!0},"cv.ui.common.HasChildren":{require:!0},"cv.ui.common.HasAnimatedButton":{require:!0},"cv.ui.structure.WidgetFactory":{defer:"runtime"},"cv.data.Model":{},"cv.util.Tree":{},"cv.Application":{},"qx.event.message.Bus":{defer:"runtime"}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("cv.ui.structure.pure.PageJump",{extend:cv.ui.structure.pure.AbstractWidget,include:[cv.ui.common.HasChildren,cv.ui.common.HasAnimatedButton],construct:function(e){e.name||(e.bindClickToWidget=!0);cv.ui.structure.pure.AbstractWidget.constructor.call(this,e)},properties:{target:{check:"String",init:"0"},activeScope:{check:["target","path"],init:"target"},name:{check:"String",nullable:!0},targetPath:{check:"String",nullable:!0}},statics:{_onScrollToPage:function(e){var t=e.getData(),i=cv.ui.structure.WidgetFactory.getInstanceById(t),r=cv.data.Model.getInstance(),n=i.getName();document.querySelectorAll(".pagejump.active").forEach(function(e){e.classList.remove("active")},this);document.querySelectorAll(".pagejump.active_ancestor").forEach(function(e){e.classList.remove("active_ancestor")},this);document.querySelectorAll(".pagejump").forEach(function(e){var t=r.getWidgetDataByElement(e);n===t.target&&e.classList.add("active")},this);for(var a=cv.util.Tree.getParentWidget(i,"page"),s=document.querySelectorAll(".pagejump"),o=function(e,t){var i=r.getWidgetDataByElement(t);(e===i.target||"path"===i.activeScope&&("string"==typeof i.path&&i.path.match(e+"$")||"string"==typeof i.targetPath&&i.targetPath.match(e+"$")))&&t.classList.add("active_ancestor")};a&&cv.util.Tree.getParentWidget(a,"page");){s.forEach(function(e){o(a.getName(),e)});a=cv.util.Tree.getParentWidget(a,"page")}}},members:{_getInnerDomString:function(){var e='<div class="actor switchUnpressed';this.getAlign()&&(e+=" "+this.getAlign());e+='">';this.getName()&&(e+='<div class="value">'+this.getName()+"</div>");return(e+="</div>")+this.getChildrenDomString()},action:function(){var e=this.getTarget();null!==this.getTargetPath()&&(e=cv.Application.structureController.getPageIdByPath(e,this.getTargetPath()));cv.Application.structureController.scrollToPage(e)}},defer:function(e){cv.ui.structure.WidgetFactory.registerClass("pagejump",e);qx.event.message.Bus.subscribe("path.pageChanged",e._onScrollToPage,e)}});cv.ui.structure.pure.PageJump.$$dbClassInfo=e}();function _typeof(e){"@babel/helpers - typeof";return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"cv.ui.structure.pure.AbstractWidget":{require:!0},"cv.parser.pure.WidgetParser":{},"cv.Application":{},"cv.ui.structure.WidgetFactory":{defer:"runtime"}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("cv.ui.structure.pure.PageLink",{extend:cv.ui.structure.pure.AbstractWidget,properties:{name:{check:"String",init:"",nullable:!0},wstyle:{check:"String",init:""},address:{check:"Object",init:{}},bindClickToWidget:{refine:!0,init:!0}},members:{getDomString:function(){var e=this.getLayout(),t="object"===_typeof(e)?"":'style="'+cv.parser.pure.WidgetParser.extractLayout(e,this.getPageType())+'"',i='<div class="widget clearfix link pagelink '+this.getClasses()+'" '+t+">";i+='<div class="actor" '+this.getWstyle()+'><a href="javascript:void(0)">'+this.getName()+"</a></div>";return i+="</div>"},action:function(){cv.Application.structureController.scrollToPage(this.getPath()+"_")}},defer:function(e){cv.ui.structure.WidgetFactory.registerClass("pagelink",e)}});cv.ui.structure.pure.PageLink.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"cv.ui.structure.pure.AbstractWidget":{require:!0},"cv.ui.common.Operate":{require:!0},"cv.ui.common.Update":{require:!0},"cv.ui.structure.WidgetFactory":{defer:"runtime"}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("cv.ui.structure.pure.PushButton",{extend:cv.ui.structure.pure.AbstractWidget,include:[cv.ui.common.Operate,cv.ui.common.Update],properties:{downValue:{check:"String",init:"1"},upValue:{check:"String",init:"0"}},members:{_getInnerDomString:function(){return'<div class="actor switchUnpressed"><div class="value">-</div></div>'},initListeners:function(){this.addElementListener("pointerdown",this._onPointerDown,this);this.addElementListener("pointerup",this._onPointerUp,this)},handleUpdate:function(e){var t=this.getActor();e=""+this.getBasicValue();var i=this.getUpValue();t.classList.remove(e===i?"switchPressed":"switchUnpressed");t.classList.add(e===i?"switchUnpressed":"switchPressed")},getActionValue:function(e){return"pointerup"===e.type?this.getUpValue():this.getDownValue()},_onPointerUp:function(){var e=this.getUpValue();this.sendToBackend(e,function(e){return!e.variantInfo||"up"===e.variantInfo})},_onPointerDown:function(){var e=this.getDownValue();this.sendToBackend(e,function(e){return!e.variantInfo||"down"===e.variantInfo})}},defer:function(e){cv.ui.structure.WidgetFactory.registerClass("pushbutton",e)}});cv.ui.structure.pure.PushButton.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"cv.ui.structure.pure.AbstractWidget":{require:!0},"cv.ui.common.Operate":{require:!0},"cv.ui.common.HasAnimatedButton":{require:!0},"cv.ui.common.BasicUpdate":{require:!0},"cv.io.BackendConnections":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("cv.ui.structure.pure.Refresh",{extend:cv.ui.structure.pure.AbstractWidget,include:[cv.ui.common.Operate,cv.ui.common.HasAnimatedButton,cv.ui.common.BasicUpdate],properties:{sendValue:{check:"String",nullable:!0}},members:{_onDomReady:function(){cv.ui.structure.pure.Refresh.superclass.prototype._onDomReady.call(this);this.defaultUpdate(void 0,this.getSendValue())},_getInnerDomString:function(){return'<div class="actor switchUnpressed"><div class="value">-</div></div>'},_action:function(){cv.io.BackendConnections.getClient().restart(!0)}}});cv.ui.structure.pure.Refresh.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"cv.ui.structure.pure.AbstractWidget":{require:!0},"cv.ui.common.Update":{require:!0},"cv.util.Location":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("cv.ui.structure.pure.Reload",{extend:cv.ui.structure.pure.AbstractWidget,include:[cv.ui.common.Update],members:{getDomString:function(){},_getInnerDomString:function(){},_update:function(e,t){this.defaultValueHandling(e,t)>0&&cv.util.Location.reload(!0)}}});cv.ui.structure.pure.Reload.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"cv.ui.structure.pure.AbstractWidget":{require:!0},"cv.ui.common.Update":{require:!0},"cv.Transform":{},"cv.ui.structure.WidgetFactory":{defer:"runtime"}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("cv.ui.structure.pure.Rgb",{extend:cv.ui.structure.pure.AbstractWidget,include:[cv.ui.common.Update],members:{_getInnerDomString:function(){return'<div class="actor"><div class="value"></div></div>'},_update:function(e,t){if(void 0!==t&&void 0!==e){var i=this.getValueElement(),r=cv.Transform.decode(this.getAddress()[e],t),n=window.getComputedStyle(i)["background-color"].replace(/[a-zA-Z()\s]/g,"").split(/,/);3!==n.length&&(n=[0,0,0]);switch(this.getAddress()[e].variantInfo){case"r":n[0]=r;break;case"g":n[1]=r;break;case"b":n[2]=r}i.style["background-color"]="rgb("+n[0]+", "+n[1]+", "+n[2]+")"}}},defer:function(e){cv.ui.structure.WidgetFactory.registerClass("rgb",e)}});cv.ui.structure.pure.Rgb.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"cv.ui.structure.pure.AbstractWidget":{construct:!0,require:!0},"cv.ui.common.Update":{require:!0},"cv.util.LimitedRateUpdateAnimator":{},"cv.Transform":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("cv.ui.structure.pure.Roundbar",{extend:cv.ui.structure.pure.AbstractWidget,include:cv.ui.common.Update,construct:function(e){this.__P_63_0=[];cv.ui.structure.pure.AbstractWidget.constructor.call(this,e)},statics:{coord:function(e){return e.x.toFixed(1)+" "+e.y.toFixed(1)},createBarPath:function(e,t,i,r,n,a){var s=arguments.length>6&&void 0!==arguments[6]&&arguments[6],o=e+t,c=i+r,u=e>i?1:0,l=n,d=n+1*a/4,h=n+2*a/4,g=n+3*a/4,v=n+a,_={x:Math.cos(e)*l,y:-Math.sin(e)*l},p={x:Math.cos(o)*h,y:-Math.sin(o)*h},m={x:Math.cos(e)*v,y:-Math.sin(e)*v},f={x:Math.cos((e+i)/2)*l,y:-Math.sin((e+i)/2)*l},b={x:Math.cos((e+i)/2)*v,y:-Math.sin((e+i)/2)*v},y={x:Math.cos(i)*l,y:-Math.sin(i)*l},P={x:Math.cos(c)*h,y:-Math.sin(c)*h},x={x:Math.cos(i)*v,y:-Math.sin(i)*v},C=Math.abs(e-o)>Math.PI?1:0,q=Math.abs(e-i)/2>Math.PI?1:0,w=Math.abs(i-c)>Math.PI?1:0,S=e<o?1:0,A=i<c?1:0;function k(e,t,i,r,n){return e.x===t.x&&e.y===t.y?"":Math.abs(e.x-t.x)+Math.abs(e.y-t.y)<2?"L"+cv.ui.structure.pure.Roundbar.coord(t):["A",i,i,0,r,n,cv.ui.structure.pure.Roundbar.coord(t)].join(" ")}if(s){var B=Math.max(l,v),I=function(t){return e<t&&t<i||e>t&&t>i},M=I(4*-Math.PI/2)||I(0*Math.PI/2)?B:_.x,L=I(3*-Math.PI/2)||I(1*Math.PI/2)?-B:_.y,T=I(2*-Math.PI/2)||I(2*Math.PI/2)?-B:_.x,W=I(1*-Math.PI/2)||I(3*Math.PI/2)?B:_.y;return{u:Math.min(_.y,p.y,m.y,y.y,P.y,x.y,L),d:Math.max(_.y,p.y,m.y,y.y,P.y,x.y,W),l:Math.min(_.x,p.x,m.x,y.x,P.x,x.x,T),r:Math.max(_.x,p.x,m.x,y.x,P.x,x.x,M)}}return a<1?["M",cv.ui.structure.pure.Roundbar.coord(m),k(m,b,v,q,u),k(b,x,v,q,u)].join(""):["M",cv.ui.structure.pure.Roundbar.coord(_),o===e?"L"+cv.ui.structure.pure.Roundbar.coord(m):k(_,p,d,C,1-S)+k(p,m,g,C,S),k(m,b,v,q,u),k(b,x,v,q,u),c===i?"L"+cv.ui.structure.pure.Roundbar.coord(y):k(x,P,g,w,1-A)+k(P,y,d,w,A),k(_,f,l,q,1-u),k(f,_,l,q,1-u),"Z"].join("")},createPointerPath:function(e,t){var i=Math.sin(e),r=Math.cos(e),n=r*t.width,a=i*t.width;if(t.thickness>0){var s=-i*t.thickness/2,o=r*t.thickness/2;return["M",this.coord({x:r*t.radius+n-s,y:-(i*t.radius+a-o)}),"L",this.coord({x:r*t.radius,y:-i*t.radius}),"L",this.coord({x:r*t.radius+n+s,y:-(i*t.radius+a+o)})].join("")}return["M",this.coord({x:r*t.radius,y:-i*t.radius}),"L",this.coord({x:r*t.radius+n,y:-(i*t.radius+a)})].join("")}},properties:{type:{check:"Array"},indicators:{check:"Array"},min:{check:"Number"},max:{check:"Number"},axisradius:{check:"Number"},axiswidth:{check:"Number"},axiscolor:{check:"String"},ranges:{check:"Array"},minorradius:{check:"Number"},minorwidth:{check:"Number"},minorspacing:{check:"String"},minorcolor:{check:"String"},majorradius:{check:"Number"},majorwidth:{check:"Number"},majorposition:{check:"String"},majorcolor:{check:"String"},labels:{check:"Array"},labelstyle:{check:"String"},start:{check:"Number"},end:{check:"Number"},arrowtype:{check:"Number"},spacing:{check:"Number"},overflowarrow:{check:"Boolean"},fontsize:{check:"Number"},textx:{check:"Number"},texty:{check:"Number"},textlength:{check:"Number"},textanchor:{check:"String"},linespace:{check:"Number"},bboxgrow:{check:"Object"},debug:{check:"Boolean"},currentRatioValue:{check:"Array",init:[]},targetRatioValue:{check:"Array",init:[]}},members:{__P_63_1:void 0,__P_63_0:null,_getInnerDomString:function(){function e(e,t,i){e.u>i&&(e.u=i);e.d<i&&(e.d=i);e.l>t&&(e.l=t);e.r<t&&(e.r=t);return e}this.setCurrentRatioValue(Array(this.getIndicators().length).fill(0));this.setTargetRatioValue(Array(this.getIndicators().length).fill([0,!1,!1]));var t=this,i=this.getStart(),r=this.getEnd(),n=this.getMin(),a=this.getMax(),s=0,o="",c="",u="",l="",d="",h="",g=cv.ui.structure.pure.Roundbar.createBarPath,v=this.getAxisradius()+this.getAxiswidth(),_=0,p=0;this.getIndicators().forEach(function(e){v=Math.max(v,e.radius,e.radius+e.width);_=Math.max(_,e.startarrow);p=Math.max(p,e.endarrow)});var m=g(i,_,r,p,v,0,!0);if(this.getMinorwidth()>0){var f=parseFloat(this.getMinorspacing()),b=this.getMinorradius(),y=this.getMinorwidth()+b;/^[0-9]+%/.test(this.getMinorspacing())&&(f=(a-n)*f/100);c+='<path class="minor" d="';for(var P=i,x=(r-i)*f/(a-n),C=(a-n)/f;C>=0;P+=x,C--){var q=Math.sin(P),w=Math.cos(P);c+=["M",cv.ui.structure.pure.Roundbar.coord({x:w*b,y:-q*b}),"L",cv.ui.structure.pure.Roundbar.coord({x:w*y,y:-q*y})].join("");m=e(m=e(m,w*b,-q*b),w*y,-q*y)}""!==this.getMinorcolor()&&(c+='" style="stroke:'+this.getMinorcolor());c+='" />'}if(this.getMajorwidth()>0){var S=this.getMajorradius(),A=this.getMajorwidth()+S;o+='<path class="major" d="';this.getMajorposition().split(";").forEach(function(t){switch(t){case"min":t=n;break;case"max":t=a}var s=i+(r-i)*(t-n)/(a-n),c=Math.sin(s),u=Math.cos(s);o+=["M",cv.ui.structure.pure.Roundbar.coord({x:u*S,y:-c*S}),"L",cv.ui.structure.pure.Roundbar.coord({x:u*A,y:-c*A})].join("");m=e(m=e(m,u*S,-c*S),u*A,-c*A)});""!==this.getMajorcolor()&&(o+='" style="stroke:'+this.getMajorcolor());o+='" />'}var k=this.getLabelstyle();this.getLabels().forEach(function(e,s){var o=i+(r-i)*(e.value-n)/(a-n),c=e.radius*Math.cos(o),l=e.radius*-Math.sin(o),d="",h="",g=0;if(e.orientation<3){u+='<text class="axislabel" x="'+c+'" y="'+l+'"';switch(e.orientation){default:case 0:h=c<0?["end","middle","start"][e.position]:["start","middle","end"][e.position];Math.abs(c)<1&&(h="middle");d=l<0?["baseline","middle","hanging"][e.position]:["hanging","middle","baseline"][e.position];Math.abs(l)<1&&(d="middle");break;case 1:var v=180*-o/Math.PI+90;if(l<0)d=["baseline","middle","hanging"][e.position];else{d=["hanging","middle","baseline"][e.position];v+=180}h="middle";u+=' transform="rotate('+v+","+c+","+l+')"';break;case 2:g=180*-o/Math.PI;if(c<0){h=["end","middle","start"][e.position];g+=180}else h=["start","middle","end"][e.position];d="middle";u+=' transform="rotate('+g+","+c+","+l+')"'}u+=' dominant-baseline="'+d+'"';u+=' text-anchor="'+h+'"';""!==k&&(u+=' style="'+k+'"');u+=">"+e.name+"</text>"}else{var _=t.$$user_path+"_label"+s,p=i<r?0:1,m="",f="";switch(e.orientation){case 3:m=["M",c,l,"A",e.radius,e.radius,0,0,p,-c,-l,"A",e.radius,e.radius,0,0,p,c,l].join(" ");break;case 4:m=["M",-c,-l,"A",e.radius,e.radius,0,0,p,c,l,"A",e.radius,e.radius,0,0,p,-c,-l].join(" ");f=' startOffset="50%" text-anchor="middle"';break;case 5:m=["M",c,l,"A",e.radius,e.radius,0,0,p,-c,-l,"A",e.radius,e.radius,0,0,p,c,l].join(" ");f=' startOffset="100%" text-anchor="end"'}u+='<path style="stroke:none; fill:none; stroke-width:0" id="'+_+'" d="'+m+'"/>';u+='<text class="axislabel"';""!==k&&(u+=' style="'+k+'"');u+='><textPath href="#'+_+'"'+f+">"+e.name+"</textPath></text>"}});this.getRanges().forEach(function(s){var o=(r-i)*(s.start-n)/(a-n)+i,c=(r-i)*(s.end-n)/(a-n)+i,u=s.radius||t.getAxisradius(),d=s.width||t.getAxiswidth(),h=g(o,0,c,0,u,d,!0);l+='<path class="range" d="';l+=g(o,0,c,0,u,d);s.style&&(l+='" style="'+s.style);l+='" />';m=e(m=e(m,h.l,h.u),h.r,h.d)});this.__P_63_1=[];this.getIndicators().forEach(function(e,i){t.__P_63_1.push(new cv.util.LimitedRateUpdateAnimator(t.__P_63_2,t,i));d+='<path class="indicator" style="'+e.style+'" />';e.showValue&&s++});if(s>0){h+='<text class="value" y="'+this.getTexty()+'" text-anchor="'+this.getTextanchor()+'" font-size="'+this.getFontsize()+'"><tspan x="'+this.getTextx()+'" dy="0">-</tspan>'+('<tspan x="'+this.getTextx()+'" dy="'+this.getLinespace()+'">-</tspan>').repeat(s-1)+"</text>";var B={start:[0,1],middle:[.5,.5],end:[1,0]}[this.getTextanchor()]||[0,1],I=Math.min(0,-this.getFontsize(),this.getLinespace()*(s-1)-(this.getLinespace()<0?this.getFontsize():0)),M=Math.max(0,-this.getFontsize(),this.getLinespace()*(s-1)-(this.getLinespace()<0?this.getFontsize():0));m=e(m=e(m,this.getTextx()-B[0]*this.getTextlength(),this.getTexty()+I),this.getTextx()+B[1]*this.getTextlength(),this.getTexty()+M)}var L='<div class="actor"><svg width="100%" height="100%" viewBox="'+[m.l-this.getBboxgrow().l,m.u-this.getBboxgrow().u,m.r-m.l+this.getBboxgrow().l+this.getBboxgrow().r,m.d-m.u+this.getBboxgrow().u+this.getBboxgrow().d].join(" ")+'">';this.getDebug()&&(L+='<rect width="'+(m.r-m.l)+'" height="'+(m.d-m.u)+'" x="'+m.l+'" y="'+m.u+'" stroke="blue" fill="none" /><rect width="'+(m.r-m.l+this.getBboxgrow().l+this.getBboxgrow().r)+'" height="'+(m.d-m.u+this.getBboxgrow().u+this.getBboxgrow().d)+'" x="'+(m.l-this.getBboxgrow().l)+'" y="'+(m.u-this.getBboxgrow().u)+'" stroke="green" fill="none" /><circle cx="0" cy="0" r="3" fill="red" />');if(this.getAxisradius()>0){var T=g(i,0,r,0,this.getAxisradius(),0),W=g(i,0,r,0,this.getAxisradius(),this.getAxiswidth()),D=""===this.getAxiscolor()?void 0:this.getAxiscolor(),R=this.getAxiswidth()<1?"none":D;L+='<path class="sector" d="'+T+' L0 0Z"/><path class="axis" d="'+W+'" style="'+(D?"stroke:"+D:"")+(R?";fill:"+R:"")+'"/>'}L+=c+o+l+u+d+h;return L+="</svg></div>"},_update:function(e,t){if(void 0!==t&&void 0!==e){var i=this,r=cv.Transform.decode(this.getAddress()[e],t),n=this.getTargetRatioValue(),a=Array.from(this.getDomElement().getElementsByTagName("tspan")),s=this.applyFormat(e,r);this.getIndicators().forEach(function(t,o){if(e===t.address){n[o]=[(Math.min(Math.max(r,t.min),t.max)-t.min)/(t.max-t.min),r<t.min,r>t.max];void 0!==a[o]&&(a[o].textContent=s);i.__P_63_1[o].setTo(n[o][0],!i.isVisible())}});this.setTargetRatioValue(n)}},__P_63_2:function(e,t){0===this.__P_63_0.length&&(this.__P_63_0=Array.from(this.getDomElement().getElementsByClassName("indicator")));var i=this.getIndicators()[t],r=this.getTargetRatioValue()[t],n=this.getStart(),a=this.getEnd(),s=n+e*(a-n),o=this.getOverflowarrow();o||(s=a>n?Math.max(n,s-i.endarrow):Math.min(n,s-i.endarrow));i.isBar?this.__P_63_0[t].setAttribute("d",cv.ui.structure.pure.Roundbar.createBarPath(n,!o||r[1]&&e<.01?i.startarrow:0,s,!o||r[2]&&e>.99?i.endarrow:0,i.radius,i.width)):this.__P_63_0[t].setAttribute("d",cv.ui.structure.pure.Roundbar.createPointerPath(s,i))}}});cv.ui.structure.pure.Roundbar.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"cv.ui.structure.pure.AbstractWidget":{construct:!0,require:!0},"cv.ui.common.Operate":{require:!0},"cv.ui.common.Update":{require:!0},"cv.util.LimitedRateUpdateAnimator":{construct:!0},"cv.ui.structure.pure.layout.ResizeHandler":{construct:!0},"cv.util.Function":{},"cv.Transform":{},"cv.ui.structure.WidgetFactory":{defer:"runtime"}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("cv.ui.structure.pure.Slide",{extend:cv.ui.structure.pure.AbstractWidget,include:[cv.ui.common.Operate,cv.ui.common.Update],construct:function(e){var t=this;cv.ui.structure.pure.AbstractWidget.constructor.call(this,e);this.__P_64_0=new cv.util.LimitedRateUpdateAnimator(this.__P_64_1,this);this.__P_64_2=cv.ui.structure.pure.layout.ResizeHandler.states.addListener("changePageSizeInvalid",function(){t.__P_64_3()});this.__P_64_4={}},destruct:function(){cv.ui.structure.pure.layout.ResizeHandler.states.removeListenerById(this.__P_64_2);this.__P_64_2=null;this.__P_64_5=null},properties:{min:{check:"Number",init:0},max:{check:"Number",init:100},step:{check:"Number",init:.5},showInvalidValues:{check:"Boolean",init:!1},sendOnFinish:{check:"Boolean",init:!1}},members:{__P_64_4:null,__P_64_0:null,__P_64_5:void 0,__P_64_6:void 0,__P_64_7:void 0,__P_64_8:void 0,__P_64_2:void 0,__P_64_9:!1,__P_64_10:void 0,_getInnerDomString:function(){return'\n        <div class="actor ui-slider ui-slider-horizontal ui-widget ui-widget-content ui-corner-all" style="touch-action: pan-y;">\n          <button class="ui-slider-handle ui-state-default ui-corner-all" draggable="false" unselectable="true" style="transform: translate3d(0px, 0px, 0px);">'+(""===this.getFormat()?"":"-")+'</button>\n          <div class="ui-slider-range value" style="margin-left: 0px; width: 0px;"></div>\n        </div>\n      '},_onDomReady:function(){cv.ui.structure.pure.Slide.superclass.prototype._onDomReady.call(this);this.__P_64_11=cv.util.Function.throttle(this.__P_64_12,250,{trailing:!0},this);this.getActor().addEventListener("pointerdown",this)},_update:function(e,t){var i=this.getAddress()[e].transform;if(!this.__P_64_9&&this.__P_64_4[i]!==t){this.__P_64_4={};this.__P_64_4[i]=t;var r=cv.Transform.decode(this.getAddress()[e],t);this.__P_64_13(r,!this.isVisible())}},__P_64_13:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=this.getMin(),n=this.getMax(),a=this.getStep();(0===a||Math.abs((n-r)/a)>1e4)&&(a=(n-r)/1e4);var s=Math.min(Math.max(e,r),n);if(!this.getShowInvalidValues()){var o=Math.round((s-r)/a)*a+r;s=s<(Math.floor((n-r)/a)*a+r+n)/2?o:n}var c=n===r?0:(s-r)/(n-r);if(i){var u=c-(n===r?0:(Math.min(Math.max(e,r),n)-r)/(n-r)),l=(n-r)/a,d=Math.pow(2*l,3);c-=Math.min(d*Math.pow(u,4),Math.abs(u))*Math.sign(u)}this.setBasicValue(s);if(""!==this.getFormat()){var h=this.applyMapping(s);h=this.applyFormat(void 0,h);this.setValue(h);this.applyStyling(s);var g=this.getDomElement().querySelector("button");g.replaceChildren();this.defaultValue2DOM(h,g)}this.__P_64_0.setTo(c,t)},__P_64_1:function(e){if(void 0===this.__P_64_5){var t=this.getDomElement();this.__P_64_5=t.querySelector("button");this.__P_64_6=t.querySelector(".ui-slider-range")}if(null!==this.__P_64_5){if(void 0===this.__P_64_7||void 0===this.__P_64_8){var i=this.getDomElement().querySelector(".actor"),r=window.getComputedStyle(i);this.__P_64_7=parseFloat(r.getPropertyValue("width"));this.__P_64_8=parseFloat(window.getComputedStyle(this.__P_64_5).getPropertyValue("width"));this.__P_64_6.style.marginLeft="-"+r.getPropertyValue("padding-left");this.__P_64_6.style.borderRadius=r.getPropertyValue("border-radius")}var n=e*this.__P_64_7;this.__P_64_5.style.transform="translate3d("+(n-this.__P_64_8/2)+"px, 0px, 0px)";this.__P_64_6.style.width=n+"px"}else this._disposeObjects("__P_64_0")},__P_64_3:function(){var e=this.getMin(),t=this.getMax();this.__P_64_7=void 0;this.__P_64_0.setTo(t===e?0:(this.getBasicValue()-e)/(t-e),!0)},handleEvent:function(e){var t=0;switch(e.type){case"pointerdown":this.__P_64_9=!0;document.addEventListener("pointermove",this);document.addEventListener("pointerup",this);var i=e.currentTarget.getBoundingClientRect(),r=window.getComputedStyle(e.currentTarget);this.__P_64_10=i.left+parseFloat(r.paddingLeft);t=(e.clientX-this.__P_64_10)/this.__P_64_7;break;case"pointermove":if(!this.__P_64_9)return;t=(e.clientX-this.__P_64_10)/this.__P_64_7;break;case"pointerup":this.__P_64_9=!1;document.removeEventListener("pointermove",this);document.removeEventListener("pointerup",this);t=(e.clientX-this.__P_64_10)/this.__P_64_7}t=Math.min(Math.max(t,0),1);var n=this.getMin()+t*(this.getMax()-this.getMin());this.__P_64_13(n,this.__P_64_9,this.__P_64_9);this.getSendOnFinish()&&"pointerup"!==e.type||this.__P_64_11.call(n)},__P_64_12:function(e){this.__P_64_4=this.sendToBackend(e,!1,this.__P_64_4)}},defer:function(e){cv.ui.structure.WidgetFactory.registerClass("slide",e)}});cv.ui.structure.pure.Slide.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"cv.ui.structure.pure.AbstractWidget":{require:!0},"cv.ui.common.Operate":{require:!0},"cv.ui.common.Update":{require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("cv.ui.structure.pure.Switch",{extend:cv.ui.structure.pure.AbstractWidget,include:[cv.ui.common.Operate,cv.ui.common.Update],properties:{onValue:{check:"String",init:"1"},offValue:{check:"String",init:"0"}},members:{_getInnerDomString:function(){return'<div class="actor switchUnpressed"><div class="value">-</div></div>'},handleUpdate:function(e){var t=this.getActor();e=this.getBasicValue();var i=this.getOffValue();t.classList.remove(e==i?"switchPressed":"switchUnpressed");t.classList.add(e==i?"switchUnpressed":"switchPressed")},getActionValue:function(){return this.getBasicValue()==this.getOffValue()?this.getOnValue():this.getOffValue()}}});cv.ui.structure.pure.Switch.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"cv.ui.structure.pure.AbstractWidget":{require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("cv.ui.structure.pure.Text",{extend:cv.ui.structure.pure.AbstractWidget,members:{_getInnerDomString:function(){return""}}});cv.ui.structure.pure.Text.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"cv.ui.structure.pure.AbstractWidget":{require:!0},"cv.ui.common.Operate":{require:!0},"cv.ui.common.Update":{require:!0},"cv.ui.common.HasAnimatedButton":{require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("cv.ui.structure.pure.Toggle",{extend:cv.ui.structure.pure.AbstractWidget,include:[cv.ui.common.Operate,cv.ui.common.Update,cv.ui.common.HasAnimatedButton],members:{_getInnerDomString:function(){return'<div class="actor switchUnpressed"><div class="value">-</div></div>'},getActionValue:function(){return this.getNextMappedValue(this.getBasicValue(),this.getMapping())}}});cv.ui.structure.pure.Toggle.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"cv.ui.structure.pure.AbstractWidget":{require:!0},"cv.ui.common.Operate":{require:!0},"cv.ui.common.HasAnimatedButton":{require:!0},"cv.ui.common.BasicUpdate":{require:!0},"cv.ui.common.HandleLongpress":{require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("cv.ui.structure.pure.Trigger",{extend:cv.ui.structure.pure.AbstractWidget,include:[cv.ui.common.Operate,cv.ui.common.HasAnimatedButton,cv.ui.common.BasicUpdate,cv.ui.common.HandleLongpress],properties:{sendValue:{check:"String",init:"0"},shortValue:{check:"String",init:"0"}},members:{_onDomReady:function(){cv.ui.structure.pure.Trigger.superclass.prototype._onDomReady.call(this);this.defaultUpdate(void 0,this.getSendValue(),this.getDomElement())},_getInnerDomString:function(){return'<div class="actor switchUnpressed"><div class="value">-</div></div>'},_action:function(){var e=this.getShortThreshold()>0||this.isShortDefault()?this.getShortValue():this.getSendValue();this.sendToBackend(e,function(e){return!!(1&e.variantInfo)})},_onLongTap:function(){this.sendToBackend(this.getSendValue(),function(e){return!!(2&e.variantInfo)})}}});cv.ui.structure.pure.Trigger.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.core.Object":{require:!0},"qx.locale.Manager":{},"cv.ui.structure.WidgetFactory":{defer:"runtime"}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("cv.ui.structure.pure.Unknown",{extend:qx.core.Object,construct:function(e){this.set(e)},properties:{path:{check:"String",init:""},$$type:{check:"String",init:"Unknown"},unknownType:{check:"String",init:""},pageType:{check:["text","2d","3d"],init:"text"},parentWidget:{check:"cv.ui.structure.pure.AbstractBasicWidget",init:null}},members:{getDomElement:function(){return document.querySelector("#"+this.getPath())},getDomString:function(){return'<div class="widget clearfix"><pre>'+qx.locale.Manager.tr("unknown: %1",this.getUnknownType())+"</pre></div>"}},defer:function(e){cv.ui.structure.WidgetFactory.registerClass("unknown",e)}});cv.ui.structure.pure.Unknown.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"cv.ui.structure.pure.AbstractWidget":{require:!0},"cv.ui.common.Operate":{require:!0},"cv.ui.common.HasAnimatedButton":{require:!0},"cv.ui.common.BasicUpdate":{require:!0},"qx.io.request.Xhr":{},"qx.util.ResourceManager":{},"cv.ui.structure.WidgetFactory":{defer:"runtime"}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("cv.ui.structure.pure.UrlTrigger",{extend:cv.ui.structure.pure.AbstractWidget,include:[cv.ui.common.Operate,cv.ui.common.HasAnimatedButton,cv.ui.common.BasicUpdate],properties:{sendValue:{check:"String",init:"0"},params:{check:"String",init:""},url:{check:"String",nullable:!0,apply:"_applyUrl"}},members:{__P_65_0:null,getXhr:function(){return this.__P_65_0},_applyUrl:function(e){if(e)if(this.__P_65_0)this.__P_65_0.setUrl(qx.util.ResourceManager.getInstance().toUri(e));else{var t=new qx.io.request.Xhr(qx.util.ResourceManager.getInstance().toUri(e));t.set({method:"GET",accept:"application/html",requestData:this.getParams()});this.__P_65_0=t}},_onDomReady:function(){cv.ui.structure.pure.UrlTrigger.superclass.prototype._onDomReady.call(this);this.defaultUpdate(void 0,this.getSendValue(),this.getDomElement())},_getInnerDomString:function(){var e='<div class="actor switchUnpressed ';this.getAlign()&&(e+=this.getAlign());return e+='"><div class="value"></div></div>'},_action:function(){this.__P_65_0&&this.__P_65_0.send()}},destruct:function(){this._disposeObjects("__P_65_0")},defer:function(e){cv.ui.structure.WidgetFactory.registerClass("urltrigger",e)}});cv.ui.structure.pure.UrlTrigger.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"cv.ui.structure.pure.AbstractWidget":{require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("cv.ui.structure.pure.Video",{extend:cv.ui.structure.pure.AbstractWidget,properties:{width:{check:"String",nullable:!0},height:{check:"String",nullable:!0},src:{check:"String",init:""},autoplay:{check:"Boolean",init:!1}},members:{_getInnerDomString:function(){var e="";this.getWidth()&&(e+="width:"+this.getWidth()+";");this.getHeight()&&(e+="height:"+this.getHeight()+";");""!==e&&(e='style="'+e+'"');var t=this.isAutoplay()?' autoplay="autoplay"':"";return'<div class="actor"><video src="'+this.getSrc()+'" '+e+t+'  controls="controls" /></div>'},getValueElement:function(){return this.getDomElement().querySelector("video")},_applyVisible:function(e){var t=this.getValueElement();t&&(!0===e&&this.isAutoplay()?t.play():t.pause())}}});cv.ui.structure.pure.Video.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"cv.ui.structure.pure.AbstractWidget":{require:!0},"cv.ui.common.Update":{require:!0},"cv.ui.common.Refresh":{require:!0},"cv.io.BackendConnections":{},"cv.Transform":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("cv.ui.structure.pure.Web",{extend:cv.ui.structure.pure.AbstractWidget,include:[cv.ui.common.Update,cv.ui.common.Refresh],properties:{width:{check:"String",nullable:!0},height:{check:"String",nullable:!0},frameborder:{check:"Boolean",init:!1},background:{check:"String",nullable:!0},scrolling:{check:["auto","yes","no"],nullable:!0},src:{check:"String",nullable:!0}},members:{_getInnerDomString:function(){var e=this.getStyle();this.getWidth()?e+="width:"+this.getWidth()+";":e+="width: 100%;";this.getHeight()&&(e+="height:"+this.getHeight()+";");!1===this.getFrameborder()&&(e+="border: 0px ;");this.getBackground()&&(e+="background-color:"+this.getBackground()+";");""!==e&&(e='style="'+e+'"');var t="";this.getScrolling()&&(t='scrolling="'+this.getScrolling()+'"');return'<div class="actor"><iframe src="'+this.getSrc()+'" '+e+t+"></iframe></div>"},_update:function(e,t){var i=this.getAddress()[e];if(i&&1===t){var r=this.getDomElement().querySelector("iframe");this.refreshAction(r,r.getAttribute("src"));cv.io.BackendConnections.getClient().write(e,cv.Transform.encode(i,0))}}}});cv.ui.structure.pure.Web.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"cv.ui.structure.pure.AbstractWidget":{require:!0},"cv.ui.common.Update":{require:!0},"qx.io.request.Xhr":{},"cv.TemplateEngine":{},"cv.ui.structure.WidgetFactory":{defer:"runtime"}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("cv.ui.structure.pure.WgPluginInfo",{extend:cv.ui.structure.pure.AbstractWidget,include:cv.ui.common.Update,properties:{variable:{check:"String",nullable:!0,apply:"_applyVariable"}},members:{__P_66_0:null,_applyVariable:function(e){if(e){if(this.__P_66_0)this.__P_66_0.setUrl("/wg-plugindb.php?name="+e);else{this.__P_66_0=new qx.io.request.Xhr("/wg-plugindb.php?name="+e);this.__P_66_0.set({accept:"application/json"});this.__P_66_0.addListener("success",this._onSuccess,this)}cv.TemplateEngine.getInstance().executeWhenDomFinished(this.__P_66_0.send,this.__P_66_0)}},getRequest:function(){return this.__P_66_0},_onSuccess:function(e){var t=e.getTarget().getResponse();this.defaultUpdate(void 0,t[this.getVariable()],this.getValueElement())},_getInnerDomString:function(){return'<div class="actor"><div class="value">-</div></div>'},handleUpdate:function(){this.__P_66_0&&this.__P_66_0.send()}},destruct:function(){this._disposeObjects("__P_66_0")},defer:function(e){cv.ui.structure.WidgetFactory.registerClass("wgplugin_info",e)}});cv.ui.structure.pure.WgPluginInfo.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"cv.ui.structure.pure.AbstractWidget":{require:!0},"cv.ui.common.HasChildren":{require:!0},"cv.ui.structure.WidgetFactory":{defer:"runtime"}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("cv.ui.structure.pure.WidgetInfoAction",{extend:cv.ui.structure.pure.AbstractWidget,include:cv.ui.common.HasChildren,properties:{anonymous:{refine:!0,init:!0},childObjects:{check:"Array",init:[]}},members:{getDomString:function(){return this.getChildrenDomString()}},defer:function(e){cv.ui.structure.WidgetFactory.registerClass("widgetinfo",e);cv.ui.structure.WidgetFactory.registerClass("widgetaction",e)}});cv.ui.structure.pure.WidgetInfoAction.$$dbClassInfo=e}();qx.$$packageData[1]={locales:{},resources:{},translations:{en:{},de:{'Updating ColorChooser with invalid data<br/>Address: "%1"<br/>transform: "%2"<br/>selector: "%3"<br/>variant: "%4"<br/>data: "%5"':'Versuchtes ColorChooser Update mit ungültigen Daten.<br/>address: "%1"<br/>transform: "%2"<br/>selector: "%3"<br/>variant: "%4"<br/>data: "%5"',"unknown: %1":"Unbekannt: %1"}}};
//# sourceMappingURL=package-1.js.map