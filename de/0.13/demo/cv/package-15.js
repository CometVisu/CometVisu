!function(){var t={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"cv.ui.structure.pure.AbstractBasicWidget":{construct:!0,require:!0},"cv.parser.pure.WidgetParser":{defer:"runtime"},"qx.event.Timer":{},"qx.event.Registration":{},"qx.event.message.Bus":{},"cv.Application":{},"cv.ui.structure.WidgetFactory":{defer:"runtime"}}};qx.Bootstrap.executePendingDefers(t);qx.Class.define("cv.plugins.Timeout",{extend:cv.ui.structure.pure.AbstractBasicWidget,construct:function(t){cv.ui.structure.pure.AbstractBasicWidget.constructor.call(this,t);this.__P_16_0=0;this.__P_16_1()},statics:{parse:function(t,e,i,s){return cv.parser.pure.WidgetParser.parseElement(this,t,e,i,s,this.getAttributeToPropertyMappings())},getAttributeToPropertyMappings:function(){return{target:{default:"id_"},time:{default:600,transform:parseFloat},debug:{default:!1,transform:function(t){return"true"===t}}}}},properties:{target:{check:"String",init:"id_"},time:{check:"Number",init:600},debug:{check:"Boolean",init:!1}},members:{__P_16_0:null,__P_16_2:null,__P_16_3:null,__P_16_4:null,__P_16_5:null,__P_16_1:function(){if(this.isDebug()){this.debug("Timeout Set to : "+this.getTime());this.debug("Target Page: "+this.getTarget())}var t=100*this.getTime();this.__P_16_5=new qx.event.Timer(t);this.__P_16_5.addListener("interval",this.timeoutTrigger,this);this.__P_16_5.start();qx.event.Registration.addListener(window,"useraction",this._onUserAction,this);qx.event.message.Bus.subscribe("path.pageChanged",function(t){var e=t.getData();this.__P_16_2=e;this.__P_16_3=document.querySelector("#"+e+" div > h1").innerText;this.__P_16_0=0},this)},_onUserAction:function(){this.__P_16_0=0},timeoutTrigger:function(){this.isDebug()&&this.debug("TIMEOUT: Got Trigger ("+this.__P_16_0+")");this.__P_16_0++;this.__P_16_4=this.getTarget();if(this.__P_16_0>=10){this.__P_16_0=0;var t=cv.Application.structureController;if(this.__P_16_2!==this.__P_16_4&&this.__P_16_3!==this.__P_16_4){this.isDebug()&&this.debug("TIMEOUT: Got Timeout - Now Goto Page "+this.__P_16_4);t.scrollToPage(this.__P_16_4);t.getCurrentPage().getDomElement().scrollTop=0}else{this.isDebug()&&this.debug("TIMEOUT: Already on page "+this.__P_16_4);t.getCurrentPage().getDomElement().scrollTop=0}}}},destruct:function(){this._disposeObjects("__P_16_5")},defer:function(t){cv.parser.pure.WidgetParser.addHandler("timeout",cv.plugins.Timeout);cv.ui.structure.WidgetFactory.registerClass("timeout",t)}});cv.plugins.Timeout.$$dbClassInfo=t}();qx.$$packageData[15]={locales:{},resources:{},translations:{}};
//# sourceMappingURL=package-15.js.map