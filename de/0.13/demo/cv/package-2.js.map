{"version":3,"names":["_next","_throw","key","arg","info","gen","value","error","reject","done","resolve","Promise","then","_asyncToGenerator","fn","self","this","args","arguments","apply","asyncGeneratorStep","err","undefined","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","_toPropertyKey","_createClass","Constructor","protoProps","staticProps","prototype","_toPrimitive","_typeof","String","input","hint","prim","Symbol","toPrimitive","res","call","TypeError","Number","_classCallCheck","instance","_inherits","subClass","superClass","create","constructor","_setPrototypeOf","o","p","setPrototypeOf","bind","__proto__","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","result","Super","_getPrototypeOf","NewTarget","Reflect","construct","_possibleConstructorReturn","_assertThisInitialized","ReferenceError","sham","Proxy","Boolean","valueOf","e","getPrototypeOf","_createForOfIteratorHelper","allowArrayLike","it","iterator","Array","isArray","_unsupportedIterableToArray","F","s","n","_e2","f","normalCompletion","didErr","step","next","_e3","minLen","_arrayLikeToArray","toString","slice","name","from","test","arr","len","arr2","$$dbClassInfo","dependsOn","usage","require","defer","qx","Bootstrap","executePendingDefers","Class","define","extend","core","type","implement","cv","ui","structure","IController","__P_72_0","bom","Stylesheet","includeFile","util","ResourceManager","getInstance","toUri","replace","Config","forceReload","Date","now","locale","Manager","addListener","_onChangeLocale","statics","PREFIX","__P_72_1","__P_72_2","MAPPING_PARAM_REGEX","register","webComponentName","qxClass","onComponentCreated","element","tagName","toLowerCase","hasOwnProperty","QxClass","push","log","Logger","properties","renderTarget","check","init","document","body","namespace","scrolled","members","__P_72_3","__P_72_4","getHtmlStructure","supports","feature","subfeature","initLayout","__P_72_5","location","hash","scrollToPage","substring","getInitialPageId","onHistoryRequest","anchor","pageId","skipHistory","page","querySelector","classList","contains","_step","_iterator","querySelectorAll","remove","_step2","_iterator2","add","parentElement","nodeName","headline","getAttribute","pageTitle","History","addToHistory","event","message","Bus","dispatchByName","warn","parseBackendSettings","xml","parseSettings","config","_this","settings","configSettings","configElement","documentElement","bindClickToWidget","translate","cacheUsed","templates","ajaxRequest","io","request","Xhr","set","accept","cache","addListenerOnce","child","content","getTarget","getResponse","getRenderTarget","debug","registerTemplates","xmlns","text","getResponseText","DOMParser","parseFromString","firstElementChild","appendChild","observeVisibility","TemplateEngine","setDomFinished","main","shrinkHeight","canAnimate","addEventListener","style","_step3","_iterator3","elem","getComputedStyle","height","parseInt","paddingTop","paddingBottom","marginTop","marginBottom","isScrolled","scrollTop","setScrolled","status","getTransport","Request","isSuccessful","send","_applyScrolled","_step4","_iterator4","_step5","_iterator5","forEach","template","customElements","tile","Controller","_TemplatedElement","_super","_class","TemplatedElement","preParse","_this2","_regeneratorRuntime","mark","_callee","theme","data","wrap","_context","prev","hasAttribute","window","matchMedia","matches","setAttribute","Model","updateFrom","abrupt","stop","createUI","_step6","observer","IntersectionObserver","entries","entry","isIntersecting","removeAttribute","unobserve","root","_iterator6","iframe","observe","doc","rememberKeys","useKeys","language","getLanguage","match","exec","search","_trKeys","_i","_arr","_step7","attr","_iterator7","concat","trNameElement","_match","translation","textContent","trim","_step8","_iterator8","trTextElement","_key","_translation","doScreenSave","screensave_page","getInitialAddresses","firstPage","id","addMapping","mapping","removeMapping","mapValue","mappingName","store","params","JSON","parse","replaceAll","addStyling","styling","removeStyling","styleValue","stylingName","parseLabel","cvTestMode","Application","structureController","destruct","removeListener","_HTMLElement","_super2","templateId","_this3","controller","getElementById","_step9","slotAttributes","cloneNode","_iterator9","getAttributeNames","_step10","_iterator10","_loop","slot","slotName","replacementSelector","slotParentScope","slotContents","attrs","l","attributes","includes","slotContent","newNode","keys","attrName","parentNode","insertBefore","replaced","_i2","children","targets","targetName","endsWith","_step11","_iterator11","targetValue","startsWith","_step12","_iterator12","split","_entry$split","_entry$split2","_slicedToArray","_value","_toConsumableArray","innerHTML","_wrapNativeSuper","HTMLElement","Mixin","_onPointerDownBounded","_onPointerDown","openedPopups","events","closed","_childPopup","_initPopupChild","popup","_element","Registration","_openPopupChild","last","parent","open","_closePopupChild","close","registerModalPopup","blocker","createElement","display","MPopup","unregisterModalPopup","removeEventListener","index","indexOf","splice","ev","Tree","isChildOf","preventDefault","stopImmediatePropagation","Timer","once","hasMixin","MVisibility","__P_73_0","refresh","_refreshTimer","_lastRefresh","_applyRefresh","restartWith","__P_73_1","isVisible","start","getData","getInterval","_disposeObjects","MRefresh","_observeVisibility","_instance","setVisible","visible","_observer","ResizeObserver","getResizeTarget","some","fireDataEvent","resized","resizeTarget","nullable","_applyResizeTarget","oldElement","disconnect","MResize","connected","_initialized","_applyConnected","_init","_disconnected","getElement","QxConnector","isSubClassOf","elements","AbstractCustomElement","Error","setConnected","oldValue","newValue","hasProperty","styleClass","enabled","visibility","widget","inPopup","_writeAddresses","_headerFooterParent","_checkIfWidget","isWidget","isPopup","localName","setInPopup","setWidget","hasReadAddress","writeAddresses","address","onStateUpdate","stopPropagation","appendToHeader","align","header","targetParent","getHeader","selector","appendToFooter","footer","getFooter","_applyValue","isConnected","mappedValue","sprintf","toLocaleString","_updateValue","setStyleClass","_applyStyleClass","classes","_applyEnabled","_applyVisibility","opacity","detail","setEnabled","state","setVisibility","setValue","components","AbstractComponent","subscribe","_update","_list","list","listItems","activePage","startPage","currentPage","li","_createListItem","unshift","replaceChildren","a","unsubscribe","_QxConnector","Breadcrumbs","__P_74_0","Map","on","onClass","offClass","onValue","offValue","progress","transform","__P_74_1","__P_74_2","_parseInt","val","intVal","isNaN","setType","setName","setProgress","setOnValue","setOffValue","eventSource","level","addr","click","onClicked","pointerup","onPointerUp","pointerdown","onPointerDown","getOwnPropertyNames","eventName","triggerAddresses","filter","setOn","getOnValue","hasDown","hasUp","_initProgress","Math","PI","svg","createElementNS","circle","Button","superclass","getType","_applyOn","isOn","getOffValue","setId","updateValue","getOnClass","getOffClass","_applyProgress","valueElement","_applyName","source","Address","addressElement","createRipple","relPath","baseVersion","Version","VERSION","join","CustomEvent","dispatchEvent","_this4","button","currentTarget","container","diameter","max","clientWidth","clientHeight","radius","width","x","clientX","offsetLeft","y","clientY","offsetTop","offsetParent","left","top","ripple","__P_85_0","__P_85_1","model","backendName","addAddress","mode","getState","fireStateUpdate","addUpdateListener","allowDuplicates","encoding","encodedValue","Transform","encodeBusAndRaw","ignoreError","variantInfo","qos","raw","lastSentValue","delay","BackendConnections","getClient","write","bus","transformedState","decode","targetConfig","shift","bubbles","cancelable","addressValue","variant","isRead","isWrite","getValue","Clazz","exports","Op","hasOwn","obj","desc","$Symbol","iteratorSymbol","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","innerFn","outerFn","tryLocsList","protoGenerator","Generator","generator","context","Context","makeInvokeMethod","tryCatch","ContinueSentinel","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","NativeIteratorPrototype","values","Gp","defineIteratorMethods","method","_invoke","AsyncIterator","PromiseImpl","invoke","record","__await","unwrapped","previousPromise","callInvokeWithMethodAndArg","doneResult","delegate","delegateResult","maybeInvokeDelegate","sent","_sent","dispatchException","methodName","resultName","nextLoc","pushTryEntry","locs","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","reset","iterable","iteratorMethod","displayName","isGeneratorFunction","genFun","ctor","awrap","async","iter","object","reverse","pop","skipTempReset","charAt","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","catch","thrown","delegateYield","include","ChartCounter","DEFAULT_ASPECT_RATIO","JS_LOADED","_ref","timer","counter","d3","ScriptLoader","includeScript","_x","_x2","formatDefaultLocale","decimal","getDecimalSeparator","thousands","getGroupSeparator","grouping","currency","timeFormatDefaultLocale","dateTime","date","time","periods","getAmMarker","getPmMarker","days","getDayNames","map","t","shortDays","months","getMonthNames","shortMonths","CONFIG","currentSeries","currentPeriod","startTime","endTime","_id","_downloadedImage","_url","_headers","_request","_width","_height","_loaded","_dataSetConfigs","_initializing","_navigationEnabled","__P_75_1","__P_75_2","__P_75_3","__P_75_4","__P_75_5","__P_75_6","_dot","_svg","_tooltip","_titleString","__P_75_7","__P_75_8","_chartConf","_callee2","chartId","inBackground","title","span","seriesSelection","_span","option","_s","_button","popupAddress","tileAddress","tileWidget","noToolTips","format","timeFormat","formatString","datasetSources","_context2","Chart","setCurrentSeries","getCurrentSeries","_buttonFactory","tr","_onSeriesPrev","_seriesToShort","_onSeriesChange","getPropertyValue","disabled","_onSeriesNext","onUpdate","_onRendered","setRefresh","select","append","_onPointerEntered","_onPointerMoved","_onPointerLeft","targetTouches","pathRect","getBoundingClientRect","passive","multiTimeFormat","d","getSeconds","getMinutes","getHours","getDay","getDate","getMonth","z","src","color","curve","curveLinear","marginRight","marginLeft","aspectRatio","xType","scaleTime","xFormat","yType","scaleLinear","yFormat","yLabel","strokeLinecap","strokeLinejoin","strokeWidth","strokeOpacity","mixBlendMode","showArea","showXAxis","showYAxis","xPadding","__P_75_9","targetDataset","ts","aggregationInterval","mins","round","_renderChart","setCurrentPeriod","getCurrentPeriod","resetCurrentPeriod","_loadData","_refreshData","nextButton","getStartTime","getEndTime","_applyCurrentSeries","series","currentSelection","alreadySelected","newSelection","__P_75_0","end","periodStart","interval","setHours","setDate","setMonth","setFullYear","getFullYear","startTs","getTime","endTs","setStartTime","setEndTime","client","url","dataSets","promises","dataSet","chartType","item","part","toUpperCase","parseFloat","timeseries","FluxSource","isInline","setQueryTemplate","OpenhabPersistenceSource","RRDSource","DemoSource","proxy","options","ttl","getRefresh","getRequestConfig","assign","Fetch","cachedFetch","processResponse","_onStatusError","all","responses","_onSuccess","chartData","tsdata","_step4$value","overflow","requestAnimationFrame","setTimeout","retries","clearTimeout","_this$_getSize","_getSize","_this$_getSize2","padding","containerWidth","offsetWidth","containerHeight","offsetHeight","formatsArray","found","fmt","multiFormat","notifications","Router","dispatchMessage","severity","stringify","_getSvgElement","empty","single","X","Y","Z","O","T","_this5","_helpers","xDomain","extent","minVal","zeroBased","min","maxVal","yDomain","zDomain","InternSet","I","range","has","maxValue","toFixed","xTicks","yTicks","additionalXRangePadding","xRange","yRange","xAxis","axisBottom","ticks","tickSizeOuter","tickFormat","yAxis","axisLeft","showGrid","xGrid","tickSize","yGrid","yAxisElement","label","g","xBar","xzScale","lineGroups","areaGroups","barGroups","stackedBarGroups","lineFunctions","areaFunctions","_loop2","idx","curveName","curveFunction","curveStep","curveNatural","line","minY","area","y0","y1","scaleBand","xz","size","lineContainer","fill","stroke","areaContainer","__P_75_10","barContainer","domain","bandwidth","_loop3","_loop4","_loop5","_loop6","targetContainer","_data","lineElem","x1","x2","transition","duration","ease","easeLinear","selectAll","enter","linear","yMin","_loop7","_step9$value","yValue","NaN","get","sum","di","v","_x3","_x4","_y","valueElem","_this6","__P_75_11","relatedTarget","raise","node","dispatch","center","xm","ym","_d3$pointer","pointer","_d3$pointer2","_this$_helpers","_this$_chartConf","least","hypot","scaleFactorX","scaleFactorY","xOffset","cursorOffset","pointerType","timeString","lineTitle","property","icon","_button$classList","chartTitle","_shownDateRange","DateFormat","getDateTimeFormat","trc","getWeekNumber","yearStart","ceil","throttleInterval","CC_COUNTER","__P_76_0","setThrottleInterval","addresses","_mode","parser","pure","widgets","ColorChooser","makeAddressListFn","Color","path","$$type","layout","colspan","controls","getThrottleInterval","parseAttributes","_onColorChanged","getDomString","composedPath","_onDomReady","setResizeTarget","invalidateScreensize","getColor","rgb","getComponent","__P_76_1","r","b","padStart","alpha","backgroundColor","_idRegex","__P_77_0","_transformId","Icon","_applyId","_applyColor","img","base","origin","pathname","URL","useProxy","rest","Client","getBaseUrl","searchParams","btoa","_loadImage","XMLHttpRequest","responseType","setRequestHeader","onreadystatechange","readyState","DONE","createObjectURL","response","onload","revokeObjectURL","random","Image","refine","_target","_timer","_model","_getModel","_filterModel","_sortModel","_limit","_modelInstance","refreshOnUpdate","Function","readAddresses","evCopy","sortBy","sortModifier","right","leftVal","rightVal","localeCompare","proxyParam","listmodel","Registry","modelInstance","_entry$split$map","_entry$split$map2","getModel","script","innerText","templateRoot","collectData","attrib","$$model","action","handleEvent","List","_callee3","newModel","whenEmptyTemplate","emptyModel","emptyElem","itemTemplate","_context3","t0","t1","sort","removeChild","html","_elem$getAttribute$sp","_elem$getAttribute$sp2","_initElement","ListItem","fireEvent","appearance","depth","domReady","showLabels","_applyAppearance","_applyDepth","isDomReady","_generateMenu","_onDomAppended","setDomReady","_applyModel","rootList","ham","href","onclick","_onHamburgerMenu","_onPageChange","_onSwipe","_icon","setShowLabels","setModel","__P_78_0","_rootList","pageName","pageIcon","isShowLabels","createTextNode","onClick","toggleClass","toggle","_closeAll","getDirection","current","previousElementSibling","except","_openDetail","first","_closeDetail","parentList","currentLevel","pages","getDepth","details","summary","_pageIcon","expander","subList","pageElement","link","activeName","Menu","_currentState","MenuAction","hasAddress","PL_COUNTER","__P_79_0","pluginName","baseName","scriptLoader","Plugin","loadPluginPart","plugins","isFinished","Part","getParts","load","_applyVisible","__P_80_0","__P_80_1","__P_80_2","__P_80_3","__P_80_4","__P_80_5","__P_80_6","__P_80_7","__P_80_8","_queuedFitText","RoundProgress","hasFixedRadius","normalizedRadius","setMin","setMax","ns","bg","bar","_bg","_bar","_bg2","isPropertyInitialized","getProgress","__P_80_9","angle","angleRad","cos","sin","valueInRange","getMin","percent","getMax","_fitText","__P_80_10","getContext","compStyle","font","metrics","measureText","factor","fontSize","floor","_applyText","__P_81_0","__P_81_1","__P_81_2","Select","_sendSelection","predictive","stepWidth","showValue","__P_82_0","__P_82_1","Slider","_applyThrottleInterval","oninput","setStepWidth","setShowValue","_applyShowValue","decreaseElement","onDecrease","increaseElement","onIncrease","throttle","onInput","trailing","abort","_applyMin","_applyMax","_applyStepWidth","valueLabel","firstChild","isShowValue","__P_82_2","getStepWidth","Spinner","setMode","decrease","decreaseIcon","increase","increaseIcon","getMode","__P_83_0","_queuedOverflowDetection","_debouncedDetectOverflow","Value","debounce","_detectOverflow","__P_84_0","setText","_name","__P_86_0","className","isRegistered","addClassLoadedListener","uri","uriString","credentials","username","password","backendUrlConfigKey","backendUrl","server","hasClient","configuredIn","notification","topic","unique","deletable","addBackendClient","_client","update","setResourcePath","login","setDefaultBackendName","doSubscribe","_step2$value","addressesToSubscribe","getAddresses","isDomFinished","resetDefaultBackendName","terminate","removeClient","dispose","Backend","loaderElement","loadXml","htmlContent","handleError","getUrl","textStatus","additionalErrorInfo","actions","Loader","__P_87_0","Mapping","exactMatch","_convert","formula","_formula","defaultValue","isDefaultValue","rangeMin","rangeMax","POSITIVE_INFINITY","floatValue","stateConfig","NotificationCenter","addressContainer","skipInitial","valueMapping","addressMapping","_onStateUpdate","iconClasses","titleElem","titleTemplate","messageElem","messageTemplate","condition","addressConfig","retain","registerStateUpdateHandler","initial","changed","_address$split","_address$split2","router","enableStateUpdateHandler","changeStateUpdateHandlerSeverity","StateNotification","Styling","Group","_toggleOpen","_supportsContentVisibility","_visibleDisplayMode","browserEngine","Environment","contentVisibility","_class2","Page","_closeButton","Popup","timeoutSeconds","_autoCloseTimer","backgroundImage","outdated","checkOutdated","outdatedMessage","fullscreenChanged","_fullScreenMode","_dateFormat","_checkOutdatedTimerId","_lastUpdate","_maxAge","_hideTimer","Tile","getDateFormat","getTimeFormat","setBackgroundImage","resetPopup","_applyBackgroundImage","overlay","_applyOutdated","getOutdatedMessage","nextElementSibling","_applyOutdatedMessage","_applyCheckOutdated","TimerManager","setOutdated","setOutdatedMessage","age","resetOutdatedMessage","closeButton","setPopup","keepState","_applyPopup","restart","WidgetPair"],"sources":["/home/runner/work/CometVisu/CometVisu/source/class/cv/ui/structure/tile/Controller.js","/home/runner/work/CometVisu/CometVisu/source/class/cv/ui/structure/tile/MPopup.js","/home/runner/work/CometVisu/CometVisu/source/class/cv/ui/structure/tile/MRefresh.js","/home/runner/work/CometVisu/CometVisu/source/class/cv/ui/structure/tile/MVisibility.js","/home/runner/work/CometVisu/CometVisu/source/class/cv/ui/structure/tile/MResize.js","/home/runner/work/CometVisu/CometVisu/source/class/cv/ui/structure/tile/elements/AbstractCustomElement.js","/home/runner/work/CometVisu/CometVisu/source/class/cv/ui/structure/tile/components/AbstractComponent.js","/home/runner/work/CometVisu/CometVisu/source/class/cv/ui/structure/tile/components/Breadcrumbs.js","/home/runner/work/CometVisu/CometVisu/source/class/cv/ui/structure/tile/components/Button.js","/home/runner/work/CometVisu/CometVisu/source/class/cv/ui/structure/tile/elements/Address.js","/home/runner/work/CometVisu/CometVisu/source/class/cv/ui/structure/tile/components/Chart.js","/home/runner/work/CometVisu/CometVisu/source/class/cv/ui/structure/tile/components/Color.js","/home/runner/work/CometVisu/CometVisu/source/class/cv/ui/structure/tile/components/Icon.js","/home/runner/work/CometVisu/CometVisu/source/class/cv/ui/structure/tile/components/Image.js","/home/runner/work/CometVisu/CometVisu/source/class/cv/ui/structure/tile/components/List.js","/home/runner/work/CometVisu/CometVisu/source/class/cv/ui/structure/tile/components/ListItem.js","/home/runner/work/CometVisu/CometVisu/source/class/cv/ui/structure/tile/components/Menu.js","/home/runner/work/CometVisu/CometVisu/source/class/cv/ui/structure/tile/components/MenuAction.js","/home/runner/work/CometVisu/CometVisu/source/class/cv/ui/structure/tile/components/Plugin.js","/home/runner/work/CometVisu/CometVisu/source/class/cv/ui/structure/tile/components/RoundProgress.js","/home/runner/work/CometVisu/CometVisu/source/class/cv/ui/structure/tile/components/Select.js","/home/runner/work/CometVisu/CometVisu/source/class/cv/ui/structure/tile/components/Slider.js","/home/runner/work/CometVisu/CometVisu/source/class/cv/ui/structure/tile/components/Spinner.js","/home/runner/work/CometVisu/CometVisu/source/class/cv/ui/structure/tile/components/Value.js","/home/runner/work/CometVisu/CometVisu/source/class/cv/ui/structure/tile/elements/Backend.js","/home/runner/work/CometVisu/CometVisu/source/class/cv/ui/structure/tile/elements/Loader.js","/home/runner/work/CometVisu/CometVisu/source/class/cv/ui/structure/tile/elements/Mapping.js","/home/runner/work/CometVisu/CometVisu/source/class/cv/ui/structure/tile/elements/StateNotification.js","/home/runner/work/CometVisu/CometVisu/source/class/cv/ui/structure/tile/elements/Styling.js","/home/runner/work/CometVisu/CometVisu/source/class/cv/ui/structure/tile/widgets/Group.js","/home/runner/work/CometVisu/CometVisu/source/class/cv/ui/structure/tile/widgets/Page.js","/home/runner/work/CometVisu/CometVisu/source/class/cv/ui/structure/tile/widgets/Popup.js","/home/runner/work/CometVisu/CometVisu/source/class/cv/ui/structure/tile/widgets/Tile.js","/home/runner/work/CometVisu/CometVisu/source/class/cv/ui/structure/tile/widgets/WidgetPair.js"],"sourcesContent":["/* Controller.js\n *\n * copyright (c) 2010-2022, Christian Mayer and the CometVisu contributers.\n *\n * This program is free software; you can redistribute it and/or modify it\n * under the terms of the GNU General Public License as published by the Free\n * Software Foundation; either version 3 of the License, or (at your option)\n * any later version.\n *\n * This program is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for\n * more details.\n *\n * You should have received a copy of the GNU General Public License along\n * with this program; if not, write to the Free Software Foundation, Inc.,\n * 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA\n */\n\n/**\n * Controller for the 'tile' structure.\n *\n * This structure is based on web-components and does not need a parser to work.\n * The config file is directly attached to the document body.\n * The widgets in this structure register a customElement and the browser automatically creates instances\n * of this widgets once the customElement is added to the body.\n *\n * The basic structure is a set of pages that contain a list of tiles.\n * Each tile contains a grid of 3 rows and 3 columns. The components can be added to a cell of that grid\n * but also can spread over more than one cell by using row-/column spanning.\n *\n * This structure provides some tiles with a pre-defined content, e.g. a <cv-switch> which\n * contains of a button in the middle of the tile and a primary- and secondary label in the third row.\n *\n * Those pre-defined tiles are provided by a <template> (@see https://developer.mozilla.org/de/docs/Web/HTML/Element/template)\n * User are able to define own templates for re-usable tiles if they need one that this structure does not provide.\n *\n * @asset(structures/tile/*)\n * @author Tobias BrÃ¤utigam\n * @since 2022\n * @ignore(IntersectionObserver)\n */\nqx.Class.define('cv.ui.structure.tile.Controller', {\n  extend: qx.core.Object,\n  type: 'singleton',\n  implement: cv.ui.structure.IController,\n\n  /*\n  ***********************************************\n    CONSTRUCTOR\n  ***********************************************\n  */\n  construct() {\n    super();\n    this.__HTML_STRUCT = '';\n    qx.bom.Stylesheet.includeFile(\n      qx.util.ResourceManager.getInstance().toUri('designs/tile-globals.scss').replace('.scss', '.css') +\n        (cv.Config.forceReload === true ? '?' + Date.now() : '')\n    );\n    qx.locale.Manager.getInstance().addListener('changeLocale', this._onChangeLocale, this);\n  },\n\n  /*\n  ***********************************************\n    STATICS\n  ***********************************************\n  */\n  statics: {\n    // prefix for all custom components uses/provided by this structure\n    PREFIX: 'cv-',\n    __MAP: {},\n    __I: {},\n\n    MAPPING_PARAM_REGEX: /^(.+)\\(([^)]+)\\)$/,\n\n    register(webComponentName, qxClass) {\n      this.__MAP[webComponentName] = qxClass;\n    },\n\n    onComponentCreated(element) {\n      const name = element.tagName.toLowerCase();\n      if (Object.prototype.hasOwnProperty.call(this, name)) {\n        const QxClass = this.__MAP[name];\n        if (!Object.prototype.hasOwnProperty.call(this, name)) {\n          this.__I[name] = [];\n        }\n        this.__I[name].push(new QxClass(element));\n      } else {\n        qx.log.Logger.error(this, 'no QxClass registered for custom element ' + name);\n      }\n    }\n  },\n\n  /*\n  ***********************************************\n    PROPERTIES\n  ***********************************************\n  */\n  properties: {\n    /**\n     * The target this structure should be inserted into\n     */\n    renderTarget: {\n      check: 'Element',\n      init: document.body\n    },\n\n    /**\n     * Namespace for path ids\n     */\n    namespace: {\n      check: 'String',\n      init: ''\n    },\n\n    scrolled: {\n      check: 'Boolean',\n      init: false,\n      apply: '_applyScrolled'\n    }\n  },\n\n  /*\n  ***********************************************\n    MEMBERS\n  ***********************************************\n  */\n  members: {\n    __HTML_STRUCT: null,\n    __mappings: null,\n    __stylings: null,\n\n    getHtmlStructure() {\n      return this.__HTML_STRUCT;\n    },\n\n    supports(feature, subfeature) {\n      return false;\n    },\n\n    initLayout() {},\n\n    __gotoStartPage() {\n      // open first page\n      if (!document.location.hash) {\n        this.scrollToPage(this.getInitialPageId());\n      } else {\n        this.scrollToPage(document.location.hash.substring(1));\n      }\n    },\n\n    onHistoryRequest(anchor) {\n      if (anchor) {\n        this.scrollToPage(anchor);\n      }\n    },\n\n    scrollToPage(pageId, skipHistory) {\n      if (!pageId) {\n        return;\n      }\n      const page = document.querySelector('#' + pageId);\n      if (page) {\n        if (!page.classList.contains('active')) {\n          for (let oldPage of document.querySelectorAll('cv-page.active')) {\n            oldPage.classList.remove('active');\n          }\n          for (let oldPage of document.querySelectorAll('cv-page.sub-active')) {\n            oldPage.classList.remove('sub-active');\n          }\n          page.classList.add('active');\n          // mark parent pages that there is an active subpage\n          let parentElement = page.parentElement;\n          while (parentElement && parentElement.nodeName.toLowerCase() !== 'main') {\n            if (parentElement.nodeName.toLowerCase() === 'cv-page') {\n              parentElement.classList.add('sub-active');\n            }\n            parentElement = parentElement.parentElement;\n          }\n\n          if (skipHistory === undefined) {\n            const headline = page.getAttribute('name');\n            let pageTitle = 'CometVisu';\n            if (headline) {\n              pageTitle = headline + ' - ' + pageTitle;\n            }\n            qx.bom.History.getInstance().addToHistory(pageId, pageTitle);\n          }\n          qx.event.message.Bus.dispatchByName('cv.ui.structure.tile.currentPage', page);\n        }\n      } else {\n        this.warn('no page with id', pageId, 'found');\n      }\n    },\n\n    // not needed, backend parse/init themselves\n    parseBackendSettings(xml) {\n/*      if (xml.querySelectorAll('cv-backend').length === 0) {\n        // no backends defined, use the default one;\n        const client = cv.io.BackendConnections.initBackendClient();\n        client.login(true, cv.Config.configSettings.credentials, () => {\n          this.debug('logged in');\n          cv.io.BackendConnections.startInitialRequests();\n        });\n      }*/\n      return false;\n    },\n\n    /**\n     * Parses structure specific settings\n     * @param config {XMLDocument} loaded config\n     */\n    parseSettings(config) {\n      document.body.classList.add('loading-structure');\n      const settings = cv.Config.configSettings;\n      const configElement = config.documentElement;\n      settings.bindClickToWidget = configElement.getAttribute('bind_click_to_widget') === 'true';\n      this.translate(config, true);\n\n      if (!cv.Config.cacheUsed) {\n        const templates = qx.util.ResourceManager.getInstance().toUri('structures/tile/templates.xml');\n\n        const ajaxRequest = new qx.io.request.Xhr(templates);\n        ajaxRequest.set({\n          accept: 'application/xml',\n          cache: !cv.Config.forceReload\n        });\n\n        ajaxRequest.addListenerOnce('success', e => {\n          let content = e.getTarget().getResponse();\n          const target = this.getRenderTarget();\n          this.debug('creating pages');\n          // register custom elements for templates in this document\n          this.registerTemplates(content);\n          let child;\n          // we need the documents to be in HTML namespace\n          if (!content.documentElement.xmlns) {\n            let text = e.getTarget().getResponseText();\n            text = text.replace('<templates', '<templates xmlns=\"http://www.w3.org/1999/xhtml\"');\n\n            const parser = new DOMParser();\n            content = parser.parseFromString(text, 'text/xml');\n          }\n          while ((child = content.documentElement.firstElementChild)) {\n            target.appendChild(child);\n          }\n\n          while ((child = configElement.firstElementChild)) {\n            target.appendChild(child);\n          }\n          document.body.classList.remove('loading-structure');\n          this.debug('finalizing');\n          this.observeVisibility();\n          qx.event.message.Bus.dispatchByName('setup.dom.append');\n          this.debug('pages created');\n          this.__gotoStartPage();\n          this.debug('setup.dom.finished');\n          qx.event.message.Bus.dispatchByName('setup.dom.finished.before');\n          cv.TemplateEngine.getInstance().setDomFinished(true);\n\n          const main = document.body.querySelector(':scope > main');\n          if (main) {\n            let shrinkHeight = -1;\n            let canAnimate = false;\n            main.addEventListener('scroll', () => {\n              // we need to know the space that we gain in height, when the shrinked elements are not shown\n              // and must not start the effect before we reach that threshold, otherwise\n              // main.scrollTop would go back to 0 because we have more height available and do not have to scroll+\n              // anymore, that would lead to an endless toggling this effect\n              // so long story short: avoid that applying this effect would lead to: main.scrollTop === 0\n              if (shrinkHeight < 0) {\n                shrinkHeight = 1;\n                let style;\n                for (const elem of document.body.querySelectorAll(':scope > header [hide-on-scroll=\"true\"]')) {\n                  style = getComputedStyle(elem);\n                  if (!canAnimate) {\n                    // we need at least one element that has a defined height, to get a working animation\n                    canAnimate = !!elem.style.height;\n                  }\n                  shrinkHeight += parseInt(style.height) +\n                    parseInt(style.paddingTop) +\n                    parseInt(style.paddingBottom) +\n                    parseInt(style.marginTop) +\n                    parseInt(style.marginBottom);\n                }\n              }\n              if (!this.isScrolled() && main.scrollTop > shrinkHeight) {\n                this.setScrolled(true);\n                if (!canAnimate) {\n                  main.scrollTop -= shrinkHeight;\n                }\n              } else if (this.isScrolled() && main.scrollTop === 0) {\n                this.setScrolled(false);\n                shrinkHeight = -1;\n              }\n            });\n          }\n        });\n        ajaxRequest.addListener('statusError', e => {\n          const status = e.getTarget().getTransport().status;\n          if (!qx.util.Request.isSuccessful(status)) {\n            this.error('filenotfound', templates);\n          }\n          document.body.classList.remove('loading-structure');\n        });\n\n        ajaxRequest.send();\n      }\n    },\n\n    _applyScrolled(value) {\n      if (value) {\n        for (const elem of document.body.querySelectorAll(':scope > header [hide-on-scroll=\"true\"]')) {\n          elem.classList.add('scrolled');\n        }\n      } else {\n        for (const elem of document.body.querySelectorAll(':scope > header [hide-on-scroll=\"true\"]')) {\n          elem.classList.remove('scrolled');\n        }\n      }\n    },\n\n    /**\n     * Registers customElements for all templates in the given xml that are direct children of a <templates structure=\"tile\"> element\n     * @param xml {XMLDocument}\n     */\n    registerTemplates(xml) {\n      xml.querySelectorAll('templates[structure=\\'tile\\'] > template').forEach(template => {\n        customElements.define(\n          cv.ui.structure.tile.Controller.PREFIX + template.getAttribute('id'),\n          class extends TemplatedElement {\n            constructor() {\n              super(template.getAttribute('id'));\n            }\n          }\n        );\n      });\n    },\n\n    /**\n     * Pre parsing hook, do everything here that is needed before the real parsing process can start\n     * @param xml {XMLDocument}\n     */\n    async preParse(xml) {\n      if (xml.documentElement.hasAttribute('theme')) {\n        let theme = xml.documentElement.getAttribute('theme');\n        const data = {};\n        if (theme === 'system') {\n          if (window.matchMedia) {\n            theme = window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light';\n            document.documentElement.setAttribute('data-theme', theme);\n            data['theme'] = theme;\n            cv.data.Model.getInstance().updateFrom('system', data);\n            window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', e => {\n              document.documentElement.setAttribute('data-theme', e.matches ? 'dark' : 'light');\n\n              data['theme'] = e.matches ? 'dark' : 'light';\n              cv.data.Model.getInstance().updateFrom('system', data);\n            });\n          } else {\n            this.error('system theme detection not possible in this browser');\n          }\n        } else {\n          document.documentElement.setAttribute('data-theme', theme);\n          data['theme'] = theme;\n          cv.data.Model.getInstance().updateFrom('system', data);\n        }\n      }\n      return true;\n    },\n\n    /**\n     * Generate the UI code from the config file\n     * @param config {Object} loaded config file usually an XMLDocument but other structures might use different formats\n     */\n    createUI(config) {},\n\n    observeVisibility() {\n      // find all pages with an iframe with attribute \"data-src\" and observe its parent page\n      const observer = new IntersectionObserver((entries, observer) => {\n        entries.forEach(entry => {\n          if (entry.isIntersecting && entry.target.hasAttribute('data-src')) {\n            entry.target.setAttribute('src', entry.target.getAttribute('data-src'));\n            entry.target.removeAttribute('data-src');\n            observer.unobserve(entry.target);\n          }\n        }, {\n          root: document.querySelector('body > main')\n        });\n      });\n      for (const iframe of document.querySelectorAll('iframe[data-src], img[data-src]')) {\n        observer.observe(iframe);\n      }\n    },\n\n    translate(doc, rememberKeys, useKeys) {\n      let language = qx.locale.Manager.getInstance().getLanguage();\n      let match = /locale=([a-z]{2,3})/.exec(document.location.search);\n      if (match) {\n        language = match[1];\n      }\n      if (rememberKeys) {\n        this._trKeys = {};\n      }\n      for (const attr of ['name', 'label', 'title', 'format']) {\n        for (const trNameElement of doc.querySelectorAll(`*[${attr}^=\"tr(\"]`)) {\n          const match = /^tr\\('([^']+)'\\)$/.exec(trNameElement.getAttribute(attr));\n\n          if (!match && !useKeys) {\n            this.warn('attribute content no valid translation string', trNameElement.getAttribute(attr));\n\n            continue;\n          }\n          const key = useKeys ? this._trKeys[trNameElement.getAttribute(attr)] : match[1];\n          const translation = doc.querySelector(\n            `cv-translations > language[name=\"${language}\"] > tr[key='${key}']`\n          );\n\n          if (translation) {\n            if (rememberKeys) {\n              this._trKeys[translation.textContent.trim()] = key;\n            }\n            trNameElement.setAttribute(attr, translation.textContent.trim());\n          } else {\n            trNameElement.setAttribute(attr, key);\n            this.warn(`[${language}] no translation found for: \"${key}\"`);\n          }\n        }\n      }\n      for (const trTextElement of doc.querySelectorAll('*[tr=\"true\"]')) {\n        const key = useKeys ? this._trKeys[trTextElement.textContent.trim()] : trTextElement.textContent.trim();\n        const translation = doc.querySelector(\n          `cv-translations > language[name=\"${language}\"] > tr[key='${key}']`\n        );\n\n        if (translation) {\n          if (rememberKeys) {\n            this._trKeys[translation.textContent.trim()] = key;\n          }\n          trTextElement.textContent = translation.textContent.trim();\n        } else {\n          trTextElement.textContent = key;\n          this.warn(`[${language}] no translation found for: \"${key}\"`);\n        }\n      }\n    },\n\n    /**\n     * Handle fired event from screensaver\n     * @return {Array<string>} Array with addresses\n     */\n    doScreenSave() {\n      if (cv.Config.configSettings.screensave_page) {\n        this.scrollToPage(cv.Config.configSettings.screensave_page);\n      }\n    },\n\n    /**\n     * Return the addresses needed to update all states on the initially loaded page\n     */\n    getInitialAddresses() {\n      return [];\n    },\n\n    /**\n     * Returns the widget id of the page item initially loaded\n     * @returns {String} widget path like 'id_'...\n     */\n    getInitialPageId() {\n      const firstPage = document.querySelector('cv-page');\n      return firstPage ? firstPage.id : '';\n    },\n\n    /**\n     *\n     * @param name {String} mapping name\n     * @param mapping {cv.ui.structure.tile.elements.Mapping}\n     */\n    addMapping(name, mapping) {\n      if (!this.__mappings) {\n        this.__mappings = {};\n      }\n      this.__mappings[name] = mapping;\n    },\n\n    removeMapping(name) {\n      if (this.__mappings) {\n        delete this.__mappings[name];\n      }\n    },\n\n    mapValue(mappingName, value, store) {\n      let match;\n      let params = [];\n      if ((match = cv.ui.structure.tile.Controller.MAPPING_PARAM_REGEX.exec(mappingName)) !== null) {\n        // this mapping name contains a parameter\n        try {\n          params = JSON.parse(`[${match[2].replaceAll('\\'', '\"')}]`);\n        } catch (e) {\n          this.error('error parsing parameters from ' + mappingName);\n        }\n        mappingName = match[1];\n      }\n      if (this.__mappings && Object.prototype.hasOwnProperty.call(this.__mappings, mappingName)) {\n        return this.__mappings[mappingName].mapValue(value, store, params);\n      }\n      return value;\n    },\n\n    /**\n     * @param name {String} styling name\n     * @param styling {cv.ui.structure.tile.elements.Styling}\n     */\n    addStyling(name, styling) {\n      if (!this.__stylings) {\n        this.__stylings = {};\n      }\n      this.__stylings[name] = styling;\n    },\n\n    removeStyling(name) {\n      if (this.__stylings) {\n        delete this.__stylings[name];\n      }\n    },\n\n    styleValue(stylingName, value, store) {\n      if (this.__stylings && Object.prototype.hasOwnProperty.call(this.__stylings, stylingName)) {\n        return this.__stylings[stylingName].mapValue(value, store);\n      }\n      return value;\n    },\n\n    // for compatibility with pure controller\n    parseLabel() {\n      return '';\n    },\n\n    _onChangeLocale() {\n      this.translate(document.body, false, true);\n    }\n  },\n\n  defer(statics) {\n    if (!window.cvTestMode) {\n      // do not apply ourselves automatically in test mode\n      cv.Application.structureController = statics.getInstance();\n    }\n  },\n\n  /*\n  ***********************************************\n    DESTRUCTOR\n  ***********************************************\n  */\n  destruct() {\n    qx.locale.Manager.getInstance().removeListener('changeLocale', this._onChangeLocale, this);\n  }\n});\n\nclass TemplatedElement extends HTMLElement {\n  constructor(templateId) {\n    super();\n    const controller = cv.ui.structure.tile.Controller.getInstance();\n    let template = document.getElementById(templateId);\n    if (template) {\n      const slotAttributes = ['name', 'replaces', 'parent-scope'];\n      const content = template.content.cloneNode(true);\n\n      // copy all attributes, except 'id' of the template itself to the widget\n      for (const name of template.getAttributeNames()) {\n        if (name !== 'id') {\n          this.setAttribute(name, template.getAttribute(name));\n        }\n      }\n\n      // move slots into template\n      for (let slot of content.querySelectorAll('slot')) {\n        const slotName = slot.getAttribute('name');\n        const replacementSelector = slot.hasAttribute('replaces') ? slot.getAttribute('replaces') : '';\n        const slotParentScope = slot.hasAttribute('parent-scope') ? parseInt(slot.getAttribute('parent-scope')) : 0;\n        let slotContents = this.querySelectorAll(`[slot='${slotName}']`);\n        const attrs = {};\n        for (let i = 0, l = slot.attributes.length; i < l; i++) {\n          if (!slotAttributes.includes(slot.attributes[i].name)) {\n            attrs[slot.attributes[i].name] = slot.attributes[i].value;\n          }\n        }\n        if (slotContents.length > 0) {\n          Array.from(slotContents).forEach(slotContent => {\n            const newNode = slotContent.cloneNode(true);\n            Object.keys(attrs).forEach(attrName => {\n              if (newNode.hasAttribute(attrName)) {\n                if (attrName === 'class') {\n                  // append it\n                  newNode.classList.add(attrs[attrName]);\n                } else {\n                  qx.log.Logger.debug(controller, '[' + templateId + '] attribute', attrName, 'already set, skipping');\n                }\n              } else {\n                newNode.setAttribute(attrName, attrs[attrName]);\n              }\n            });\n            newNode.removeAttribute('slot');\n            slot.parentNode.insertBefore(newNode, slot);\n          });\n          slot.remove();\n          if (replacementSelector) {\n            content.querySelectorAll(replacementSelector).forEach(replaced => {\n              replaced.remove();\n            });\n          }\n        } else {\n          let parentNode = slot.parentNode;\n          if (slotParentScope > 0) {\n            // got slotParentScope elements up and remove that one\n            let i = slotParentScope - 1;\n            while (i > 0) {\n              parentNode = parentNode.parentNode;\n              i--;\n            }\n            if (parentNode) {\n              parentNode.remove();\n            }\n          } else {\n            slot.remove();\n            if (parentNode.children.length === 0) {\n              // also remove slots parent when it has no content\n              parentNode.remove();\n            }\n          }\n        }\n      }\n      // transfer attribute slots\n      const attributes = this.getAttributeNames();\n      attributes.forEach(name => {\n        let value = this.getAttribute(name);\n        const targets = content.querySelectorAll('[slot-' + name + ']');\n        let targetName = name;\n        // allow names like percent-mapping that should also be mapped to a certain elements 'mapping' attribute\n        if (name.endsWith('-mapping')) {\n          targetName = 'mapping';\n        } else if (name.endsWith('-styling')) {\n          targetName = 'styling';\n        } else if (name.endsWith('-format')) {\n          targetName = 'format';\n        }\n        for (const target of targets) {\n          if (targetName !== name && target.hasAttribute('slot-' + name)) {\n            const targetValue = target.getAttribute('slot-' + name);\n            if (targetValue.startsWith(':')) {\n              // this template slot-attribute contains some configuration\n              for (const entry of targetValue.substring(1).split(',')) {\n                const [key, value] = entry.split('=');\n                switch (key) {\n                  case 'target':\n                    name = value;\n                    break;\n                  default:\n                    qx.log.Logger.error(this, 'unhandled slot-attribute configuration key', key);\n                    break;\n                }\n              }\n            }\n            target.setAttribute(name, value);\n\n            target.removeAttribute('slot-' + name);\n          } else {\n            target.setAttribute(targetName, value);\n\n            target.removeAttribute('slot-' + targetName);\n          }\n        }\n        if (targets.length > 0) {\n          this.removeAttribute(name);\n        }\n      });\n      content.querySelectorAll('*').forEach(elem => {\n        [...elem.attributes].forEach(attr => {\n          if (attr.name.startsWith('slot-')) {\n            let targetName = attr.name.substring(5);\n            // only e.g. map slot-progress-mapping to mapping if we have no slot-mapping attribute\n            if (attr.name.endsWith('-mapping') && elem.hasAttribute('slot-mapping')) {\n              targetName = 'mapping';\n            } else if (attr.name.endsWith('-styling') && elem.hasAttribute('slot-styling')) {\n              targetName = 'styling';\n            } else if (attr.name.endsWith('-format') && elem.hasAttribute('slot-format')) {\n              targetName = 'format';\n            }\n            if (attr.value && !attr.value.startsWith(':')) {\n              elem.setAttribute(targetName, attr.value);\n            }\n            elem.removeAttribute(attr.name);\n          }\n        });\n      });\n\n      // clear content\n      this.innerHTML = '';\n      this.appendChild(content);\n      this.classList.add('cv-widget');\n    } else {\n      qx.log.Logger.error(controller, '[' + templateId + '] no template found for id', templateId);\n    }\n  }\n}\n","/* MPopup.js\n *\n * copyright (c) 2010-2022, Christian Mayer and the CometVisu contributers.\n *\n * This program is free software; you can redistribute it and/or modify it\n * under the terms of the GNU General Public License as published by the Free\n * Software Foundation; either version 3 of the License, or (at your option)\n * any later version.\n *\n * This program is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for\n * more details.\n *\n * You should have received a copy of the GNU General Public License along\n * with this program; if not, write to the Free Software Foundation, Inc.,\n * 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA\n */\n\n/**\n * Handles cv-popup children and some general popup tasks, like global registration and close on click outside, modal blocker etc.\n */\nqx.Mixin.define('cv.ui.structure.tile.MPopup', {\n\n  /*\n  ***********************************************\n    CONSTRUCTOR\n  ***********************************************\n  */\n  construct() {\n    this._onPointerDownBounded = this._onPointerDown.bind(this);\n  },\n  /*\n  ***********************************************\n    STATICS\n  ***********************************************\n  */\n  statics: {\n    openedPopups: []\n  },\n\n  events: {\n    closed: 'qx.event.type.Event'\n  },\n\n  /*\n  ***********************************************\n    MEMBERS\n  ***********************************************\n  */\n  members: {\n    _childPopup: null,\n    _onPointerDownBounded: null,\n\n    _initPopupChild() {\n      const popup = (this._childPopup = this._element.querySelector(':scope > cv-popup'));\n      if (popup) {\n        qx.event.Registration.addListener(this._element, 'tap', this._openPopupChild, this);\n\n        // we need to tell the parent widget that is inside a group that wen have a popup here\n        let parent = popup.parentElement;\n        let last;\n        while (parent) {\n          if (parent.tagName.toLowerCase() === 'cv-group') {\n            last.classList.add('has-popup');\n          } else if (parent.tagName.toLowerCase() === 'cv-page') {\n            break;\n          }\n          last = parent;\n          parent = parent.parentElement;\n        }\n      }\n    },\n\n    _openPopupChild() {\n      const popup = this._element.querySelector(':scope > cv-popup:not([open])');\n\n      if (popup) {\n        popup.getInstance().open();\n      }\n    },\n\n    _closePopupChild() {\n      const popup = this._element.querySelector(':scope > cv-popup[open]');\n      if (popup) {\n        popup.getInstance().close();\n      }\n    },\n\n    registerModalPopup() {\n      document.addEventListener('pointerup', this._onPointerDownBounded);\n\n      let blocker = document.body.querySelector('.modal-popup-blocker');\n      if (!blocker) {\n        blocker = document.createElement('div');\n        blocker.classList.add('modal-popup-blocker');\n        document.body.appendChild(blocker);\n      }\n      blocker.style.display = 'block';\n      cv.ui.structure.tile.MPopup.openedPopups.push(this);\n    },\n\n    unregisterModalPopup() {\n      document.removeEventListener('pointerup', this._onPointerDownBounded);\n\n      const index = cv.ui.structure.tile.MPopup.openedPopups.indexOf(this);\n      cv.ui.structure.tile.MPopup.openedPopups.splice(index, 1);\n      let blocker = document.body.querySelector('.modal-popup-blocker');\n      if (blocker && cv.ui.structure.tile.MPopup.openedPopups.length === 0) {\n        blocker.style.display = 'none';\n      }\n    },\n\n    _onPointerDown(ev) {\n      if (!cv.util.Tree.isChildOf(ev.target, this._element)) {\n        ev.preventDefault();\n        ev.stopImmediatePropagation();\n        // clicked outside -> close (with delay to capture composed events)\n        qx.event.Timer.once(this.close, this, 100);\n      }\n    }\n  },\n\n  /*\n  ***********************************************\n    DESTRUCTOR\n  ***********************************************\n  */\n  destruct() {\n    qx.event.Registration.removeListener(this._element, 'tap', this._openPopupChild, this);\n\n    this._childPopup = null;\n  }\n});\n","/* MRefresh.js\n *\n * copyright (c) 2010-2022, Christian Mayer and the CometVisu contributers.\n *\n * This program is free software; you can redistribute it and/or modify it\n * under the terms of the GNU General Public License as published by the Free\n * Software Foundation; either version 3 of the License, or (at your option)\n * any later version.\n *\n * This program is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for\n * more details.\n *\n * You should have received a copy of the GNU General Public License along\n * with this program; if not, write to the Free Software Foundation, Inc.,\n * 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA\n */\n\n/**\n * Adds a refresh attribute that triggers a 'refresh' method which must be implemented by classes including this mixin.\n */\nqx.Mixin.define('cv.ui.structure.tile.MRefresh', {\n\n  /*\n  ***********************************************\n    CONSTRUCTOR\n  ***********************************************\n  */\n  construct() {\n    if (qx.Class.hasMixin(this.constructor, cv.ui.structure.tile.MVisibility)) {\n      this.addListener('changeVisible', this.__onVisibilityChange, this);\n    }\n  },\n\n  /*\n  ***********************************************\n    PROPERTIES\n  ***********************************************\n  */\n  properties: {\n    refresh: {\n      check: 'Number',\n      init: 0,\n      apply: '_applyRefresh'\n    }\n  },\n\n  /*\n  ***********************************************\n    MEMBERS\n  ***********************************************\n  */\n  members: {\n    _refreshTimer: null,\n    _lastRefresh: null,\n\n    _applyRefresh(value) {\n      if (value === 0) {\n        if (this._refreshTimer) {\n          this._refreshTimer.stop();\n        }\n      } else if (!this._refreshTimer) {\n        this._refreshTimer = new qx.event.Timer(value * 1000);\n        this._refreshTimer.addListener('interval', this.__doRefresh, this);\n        if (typeof this.isVisible === 'function') {\n          if (this.isVisible()) {\n            this._refreshTimer.start();\n          }\n        } else {\n          this._refreshTimer.start();\n        }\n      } else {\n        this._refreshTimer.restartWith(value * 1000);\n      }\n    },\n\n    __onVisibilityChange(ev) {\n      if (ev.getData()) {\n        if (this._refreshTimer) {\n          this._refreshTimer.start();\n          if (!this._lastRefresh || Date.now() - this._lastRefresh >= this._refreshTimer.getInterval()) {\n            // last execution time too old, refresh now\n            this.__doRefresh();\n          }\n        } else if (!this._lastRefresh) {\n          // refresh once when the item becomes visible\n          this.__doRefresh();\n        }\n      } else if (this._refreshTimer) {\n        this._refreshTimer.stop();\n      }\n    },\n\n    __doRefresh() {\n      if (typeof this.refresh === 'function') {\n        this.refresh();\n        this._lastRefresh = Date.now();\n      } else {\n        this.error('refresh method must be implemented!');\n      }\n    }\n  },\n\n  /*\n  ***********************************************\n    DESTRUCTOR\n  ***********************************************\n  */\n  destruct() {\n    this._disposeObjects('_refreshTimer');\n  }\n});\n","/* MVisibility.js\n *\n * copyright (c) 2010-2022, Christian Mayer and the CometVisu contributers.\n *\n * This program is free software; you can redistribute it and/or modify it\n * under the terms of the GNU General Public License as published by the Free\n * Software Foundation; either version 3 of the License, or (at your option)\n * any later version.\n *\n * This program is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for\n * more details.\n *\n * You should have received a copy of the GNU General Public License along\n * with this program; if not, write to the Free Software Foundation, Inc.,\n * 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA\n */\n\n/**\n * Detects dom elements visibility\n * @ignore(IntersectionObserver)\n */\nqx.Mixin.define('cv.ui.structure.tile.MVisibility', {\n  /*\n  ***********************************************\n    CONSTRUCTOR\n  ***********************************************\n  */\n  construct() {\n    this._observeVisibility();\n  },\n\n  /*\n  ***********************************************\n    STATICS\n  ***********************************************\n  */\n  statics: {\n    observer: new IntersectionObserver((entries, observer) => {\n      entries.forEach(entry => {\n        if (entry.target._instance) {\n          entry.target._instance.setVisible(entry.isIntersecting);\n        }\n      }, {\n        root: document.querySelector('body > main')\n      });\n    })\n  },\n\n  /*\n  ***********************************************\n    PROPERTIES\n  ***********************************************\n  */\n  properties: {\n    visible: {\n      check: 'Boolean',\n      init: false,\n      event: 'changeVisible'\n    }\n  },\n\n  /*\n  ***********************************************\n    MEMBERS\n  ***********************************************\n  */\n  members: {\n    _observeVisibility() {\n      if (this._element) {\n        cv.ui.structure.tile.MVisibility.observer.observe(this._element);\n      } else {\n        this.warn('no element to observe defined');\n      }\n    }\n  }\n});\n","/* MResize.js\n *\n * copyright (c) 2010-2022, Christian Mayer and the CometVisu contributers.\n *\n * This program is free software; you can redistribute it and/or modify it\n * under the terms of the GNU General Public License as published by the Free\n * Software Foundation; either version 3 of the License, or (at your option)\n * any later version.\n *\n * This program is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for\n * more details.\n *\n * You should have received a copy of the GNU General Public License along\n * with this program; if not, write to the Free Software Foundation, Inc.,\n * 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA\n */\n\n/**\n * Detects dom elements resizing\n * @ignore(ResizeObserver)\n */\nqx.Mixin.define('cv.ui.structure.tile.MResize', {\n  /*\n  ***********************************************\n    CONSTRUCTOR\n  ***********************************************\n  */\n  construct() {\n    this._observer = new ResizeObserver((entries, observer) => {\n      const element = this.getResizeTarget();\n      entries.some(entry => {\n        if (entry.target === element) {\n          this.fireDataEvent('resized', entry);\n          return true;\n        }\n        return false;\n      });\n    });\n  },\n\n  /*\n  ***********************************************\n    EVENTS\n  ***********************************************\n  */\n  events: {\n    resized: 'qx.event.type.Data'\n  },\n\n  /*\n  ***********************************************\n    PROPERTIES\n  ***********************************************\n  */\n  properties: {\n    resizeTarget: {\n      check: 'Element',\n      nullable: true,\n      apply: '_applyResizeTarget'\n    }\n  },\n\n  /*\n  ***********************************************\n    MEMBERS\n  ***********************************************\n  */\n  members: {\n    /**\n     * @var {ResizeObserver}\n     */\n    _observer: null,\n\n    _applyResizeTarget(element, oldElement) {\n      if (oldElement) {\n        this._observer.unobserve(oldElement);\n      }\n      if (element) {\n        this._observer.observe(element);\n      }\n    }\n  },\n\n  /*\n  ***********************************************\n    DESTRUCTOR\n  ***********************************************\n  */\n  destruct() {\n    this._observer.disconnect();\n    this._observer = null;\n  }\n});\n","/* AbstractCustomElement.js\n *\n * copyright (c) 2010-2022, Christian Mayer and the CometVisu contributers.\n *\n * This program is free software; you can redistribute it and/or modify it\n * under the terms of the GNU General Public License as published by the Free\n * Software Foundation; either version 3 of the License, or (at your option)\n * any later version.\n *\n * This program is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for\n * more details.\n *\n * You should have received a copy of the GNU General Public License along\n * with this program; if not, write to the Free Software Foundation, Inc.,\n * 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA\n */\n\n/**\n *\n */\nqx.Class.define('cv.ui.structure.tile.elements.AbstractCustomElement', {\n  extend: qx.core.Object,\n  type: 'abstract',\n\n  /*\n  ***********************************************\n    CONSTRUCTOR\n  ***********************************************\n  */\n  construct(element) {\n    this._element = element;\n  },\n\n  /*\n  ***********************************************\n    PROPERTIES\n  ***********************************************\n  */\n  properties: {\n    connected: {\n      check: 'Boolean',\n      init: false,\n      apply: '_applyConnected',\n      event: 'changeConnected'\n    }\n  },\n\n  /*\n  ***********************************************\n    MEMBERS\n  ***********************************************\n  */\n  members: {\n    /**\n     * @var {HTMLElement}\n     */\n    _element: null,\n\n    _initialized: false,\n\n    _applyConnected(value) {\n      if (value && !this._initialized) {\n        this._init();\n        this._initialized = true;\n      } else {\n        this._disconnected();\n        this._initialized = false;\n      }\n    },\n    _init() {},\n\n    _disconnected() {},\n\n    getElement() {\n      return this._element;\n    }\n  },\n\n  /*\n  ***********************************************\n    DESTRUCTOR\n  ***********************************************\n  */\n  destruct() {\n    this._element = null;\n  }\n});\n\n/* eslint-disable-next-line no-redeclare */\nclass QxConnector extends HTMLElement {\n  constructor(QxClass) {\n    super();\n    if (qx.Class.isSubClassOf(QxClass, cv.ui.structure.tile.elements.AbstractCustomElement)) {\n      this._instance = new QxClass(this);\n    } else {\n      throw Error(QxClass + ' must be a subclass of cv.ui.structure.tile.elements.AbstractCustomElement');\n    }\n    if (this.hasAttribute('colspan')) {\n      this.classList.add('colspan-' + this.getAttribute('colspan'));\n    }\n    if (this.hasAttribute('rowspan')) {\n      this.classList.add('rowspan-' + this.getAttribute('rowspan'));\n    }\n  }\n\n  getInstance() {\n    return this._instance;\n  }\n\n  connectedCallback() {\n    if (this._instance) {\n      this._instance.setConnected(true);\n    }\n  }\n\n  disconnectedCallback() {\n    if (this._instance) {\n      this._instance.setConnected(false);\n    }\n  }\n\n  attributeChangedCallback(name, oldValue, newValue) {\n    if (this._instance && qx.Class.hasProperty(this._instance.constructor, name)) {\n      this._instance.set(name, newValue);\n    }\n  }\n}\n\nwindow.QxConnector = QxConnector;\n","/* AbstractComponent.js\n *\n * copyright (c) 2010-2022, Christian Mayer and the CometVisu contributers.\n *\n * This program is free software; you can redistribute it and/or modify it\n * under the terms of the GNU General Public License as published by the Free\n * Software Foundation; either version 3 of the License, or (at your option)\n * any later version.\n *\n * This program is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for\n * more details.\n *\n * You should have received a copy of the GNU General Public License along\n * with this program; if not, write to the Free Software Foundation, Inc.,\n * 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA\n */\n\n/**\n * Base class for all components.\n */\nqx.Class.define('cv.ui.structure.tile.components.AbstractComponent', {\n  extend: cv.ui.structure.tile.elements.AbstractCustomElement,\n  type: 'abstract',\n\n  /*\n  ***********************************************\n    PROPERTIES\n  ***********************************************\n  */\n  properties: {\n    value: {\n      apply: '_applyValue',\n      init: null\n    },\n\n    styleClass: {\n      check: 'String',\n      nullable: true,\n      apply: '_applyStyleClass'\n    },\n\n    enabled: {\n      check: 'Boolean',\n      init: true,\n      apply: '_applyEnabled'\n    },\n\n    visibility: {\n      check: ['visible', 'excluded', 'hidden'],\n      init: 'visible',\n      apply: '_applyVisibility',\n      event: 'changeVisibility'\n    },\n\n    /**\n     * True if this tile is the content of a template based widget\n     */\n    widget: {\n      check: 'Boolean',\n      init: 'false'\n    },\n\n    /**\n     * True if this tile is the content of a popup\n     */\n    inPopup: {\n      check: 'Boolean',\n      init: 'false'\n    }\n  },\n\n  /*\n  ***********************************************\n    MEMBERS\n  ***********************************************\n  */\n  members: {\n    _writeAddresses: null,\n    _headerFooterParent: null,\n\n    _checkIfWidget() {\n      let isWidget = false;\n      let isPopup = false;\n      if (this._element.parentElement.localName === 'cv-popup') {\n        this._headerFooterParent = this._element.parentElement;\n        isPopup = true;\n      } else {\n        let tile = this._element;\n        let i = 0;\n        // we are looking for cv-tile parent which is the direct child of a widget\n        while (tile.localName !== 'cv-tile') {\n          tile = tile.parentElement;\n          i++;\n          if (i > 2) {\n            tile = null;\n            break;\n          }\n        }\n        if (tile) {\n          let parent = tile.parentElement;\n          this._headerFooterParent = parent;\n          if (parent.localName === 'cv-popup') {\n            isPopup = true;\n          } else if (parent.localName.startsWith('cv-')) {\n            isWidget = parent.localName === 'cv-widget' || !!document.getElementById(parent.localName.substring(3));\n          }\n        }\n      }\n      this.setInPopup(isPopup);\n      this.setWidget(isWidget);\n    },\n\n    _init() {\n      this._checkIfWidget();\n\n      const element = this._element;\n      let hasReadAddress = false;\n      const writeAddresses = [];\n      Array.prototype.forEach.call(element.querySelectorAll(':scope > cv-address'), address => {\n        const mode = address.hasAttribute('mode') ? address.getAttribute('mode') : 'readwrite';\n        switch (mode) {\n          case 'readwrite':\n            hasReadAddress = true;\n            writeAddresses.push(address);\n            break;\n          case 'read':\n            hasReadAddress = true;\n            break;\n          case 'write':\n            writeAddresses.push(address);\n            break;\n        }\n      });\n\n      this._writeAddresses = writeAddresses;\n\n      if (hasReadAddress) {\n        element.addEventListener('stateUpdate', ev => {\n          this.onStateUpdate(ev);\n          // cancel event here\n          ev.stopPropagation();\n        });\n      }\n    },\n\n    /**\n     * Append the given element to a header inside the widget this component is a direct child of.\n     * If the header does not exist yet, it will be created.\n     * Does nothing when this component is no direct child of a widget.\n     * @param element {HTMLElement}\n     * @param align {String} center (default), left or right\n     */\n    appendToHeader(element, align) {\n      if (this._headerFooterParent) {\n        let header = this._headerFooterParent.querySelector(':scope > header');\n        if (!header) {\n          header = document.createElement('header');\n          this._headerFooterParent.insertBefore(header, this._headerFooterParent.firstElementChild);\n        }\n        let targetParent = header;\n        if (align) {\n          targetParent = header.querySelector('.' + align);\n          if (!targetParent) {\n            targetParent = document.createElement('div');\n            targetParent.classList.add(align);\n          }\n          header.appendChild(targetParent);\n        }\n        targetParent.appendChild(element);\n      }\n    },\n\n    /**\n     * Gets the header or an element inside it, if the selector is not empty\n     * @param selector {String} css selector\n     * @return {Element|null}\n     */\n    getHeader(selector) {\n      if (this._headerFooterParent) {\n        if (!selector) {\n          return this._headerFooterParent.querySelector(':scope > header');\n        } \n          const header = this._headerFooterParent.querySelector(':scope > header');\n          if (header) {\n            return header.querySelector(selector);\n          }\n      }\n      return null;\n    },\n\n    /**\n     * Append the given element to a footer inside the widget this component is a direct child of.\n     * If the footer does not exist yet, it will be created.\n     * Does nothing when this component is no direct child of a widget.\n     * @param element {HTMLElement}\n     */\n    appendToFooter(element) {\n      if (this._headerFooterParent) {\n        let footer = this._headerFooterParent.querySelector(':scope > footer');\n        if (!footer) {\n          footer = document.createElement('footer');\n          this._headerFooterParent.appendChild(footer);\n        }\n        footer.appendChild(element);\n      }\n    },\n\n    /**\n     * Gets the footer or an element inside it, if the selector is not empty\n     * @param selector {String} css selector\n     * @return {Element|null}\n     */\n    getFooter(selector) {\n      if (this._headerFooterParent) {\n        if (!selector) {\n          return this._headerFooterParent.querySelector(':scope > footer');\n        } \n          const footer = this._headerFooterParent.querySelector(':scope > footer');\n          if (footer) {\n            return footer.querySelector(selector);\n          }\n      }\n      return null;\n    },\n\n    // property apply\n    _applyValue(value) {\n      if (this.isConnected()) {\n        this._element.setAttribute('value', value || '');\n        let mappedValue = value;\n        if (this._element.hasAttribute('mapping') && this._element.getAttribute('mapping')) {\n          mappedValue = cv.Application.structureController.mapValue(this._element.getAttribute('mapping'), value);\n        }\n        if (this._element.hasAttribute('format') && this._element.getAttribute('format')) {\n          mappedValue = cv.util.String.sprintf(\n            this._element.getAttribute('format'),\n            mappedValue instanceof Date ? mappedValue.toLocaleString() : mappedValue\n          );\n        }\n        this._updateValue(mappedValue, value);\n        if (this._element.hasAttribute('styling') && this._element.getAttribute('styling')) {\n          let styleClass = cv.Application.structureController.styleValue(this._element.getAttribute('styling'), value);\n\n          this.setStyleClass(styleClass);\n        }\n      }\n    },\n\n    // needs to be implemented by inheriting classes\n    _updateValue(mappedValue, value) {},\n\n    // property apply\n    _applyStyleClass(value, oldValue) {\n      const classes = this._element.classList;\n      if (oldValue) {\n        if (classes.contains(oldValue)) {\n          classes.replace(oldValue, value);\n        } else {\n          classes.add(value);\n          classes.remove(oldValue);\n        }\n      } else if (value) {\n        classes.add(value);\n      }\n    },\n\n    _applyEnabled(value) {\n      let blocker = this._element.querySelector(':scope > .blocker');\n      if (!blocker) {\n        blocker = document.createElement('div');\n        blocker.classList.add('blocker');\n        this._element.appendChild(blocker);\n        blocker.addEventListener('click', ev => {\n          ev.preventDefault();\n          ev.stopPropagation();\n        });\n        blocker.addEventListener('pointerdown', ev => {\n          ev.preventDefault();\n          ev.stopPropagation();\n        });\n        blocker.addEventListener('pointerup', ev => {\n          ev.preventDefault();\n          ev.stopPropagation();\n        });\n      }\n      this._element.setAttribute('disabled', value === false ? 'true' : 'false');\n\n      blocker.style.display = value === true ? 'none' : 'block';\n    },\n\n    _applyVisibility(value, oldValue) {\n      const target = this.isWidget() ? this._element.parentElement : this._element;\n      if (oldValue === 'hidden') {\n        target.style.opacity = '1.0';\n      }\n      switch (value) {\n        case 'visible':\n          target.style.display = null;\n          break;\n\n        case 'hidden':\n          target.style.opacity = '0';\n          break;\n\n        case 'excluded':\n          target.style.display = 'none';\n          break;\n      }\n    },\n\n    /**\n     * Handles the incoming data from the backend for this widget\n     *\n     * @param ev {CustomEvent} stateUpdate event fired from an cv-address component\n     * @return {Boolean} true of the update has been handled\n     */\n    onStateUpdate(ev) {\n      switch (ev.detail.target) {\n        case 'enabled':\n          this.setEnabled(ev.detail.state === 1);\n          ev.stopPropagation();\n          return true;\n        case 'show-exclude':\n          this.setVisibility(ev.detail.state ? 'visible' : 'excluded');\n          ev.stopPropagation();\n          return true;\n        case 'show-hide':\n          this.setVisibility(ev.detail.state ? 'visible' : 'hidden');\n          ev.stopPropagation();\n          return true;\n        case '':\n          this.setValue(ev.detail.state);\n          ev.stopPropagation();\n          return true;\n      }\n\n      return false;\n    }\n  },\n\n  /*\n  ***********************************************\n    DESTRUCTOR\n  ***********************************************\n  */\n  destruct() {\n    this._writeAddresses = null;\n    this._headerFooterParent = null;\n  }\n});\n","/* Menu.js\n *\n * copyright (c) 2010-2022, Christian Mayer and the CometVisu contributers.\n *\n * This program is free software; you can redistribute it and/or modify it\n * under the terms of the GNU General Public License as published by the Free\n * Software Foundation; either version 3 of the License, or (at your option)\n * any later version.\n *\n * This program is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for\n * more details.\n *\n * You should have received a copy of the GNU General Public License along\n * with this program; if not, write to the Free Software Foundation, Inc.,\n * 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA\n */\n\n/**\n * Generates breadcrumb navigation bar down to the currently shown page.\n *\n * @author Tobias BrÃ¤utigam\n * @since 2022\n */\nqx.Class.define('cv.ui.structure.tile.components.Breadcrumbs', {\n  extend: cv.ui.structure.tile.components.AbstractComponent,\n\n  /*\n  ***********************************************\n    PROPERTIES\n  ***********************************************\n  */\n  properties: {\n\n  },\n\n  /*\n  ***********************************************\n    MEMBERS\n  ***********************************************\n  */\n  members: {\n    _init() {\n      qx.event.message.Bus.subscribe('cv.ui.structure.tile.currentPage', this._update, this);\n    },\n\n    _update() {\n      let list = this._element.querySelector(':scope > ul');\n      if (!list) {\n        list = document.createElement('ul');\n        this._element.appendChild(list);\n      }\n      const listItems = [];\n      const activePage = document.body.querySelector('cv-page.active');\n      const startPage = document.body.querySelector('main > cv-page:first-of-type');\n\n      if (activePage && activePage !== startPage) {\n        let currentPage = activePage;\n        while (currentPage) {\n          let li = this._createListItem(currentPage.getAttribute('id'), currentPage.getAttribute('name'));\n          listItems.unshift(li);\n          let parent = currentPage.parentElement;\n          while (parent) {\n            if (parent.localName === 'cv-page') {\n              currentPage = parent;\n              break;\n            }\n            parent = parent.parentElement;\n          }\n          if (!parent || currentPage === startPage) {\n            break;\n          }\n        }\n      }\n      let start = list.querySelector(':scope > li.start');\n      if (!start) {\n        start = this._createListItem(startPage.getAttribute('id'), startPage.getAttribute('name'));\n        start.classList.add('start');\n      }\n      listItems.unshift(start);\n\n      list.replaceChildren(...listItems);\n    },\n\n    _createListItem(pageId, text) {\n      const li = document.createElement('li');\n      const a = document.createElement('a');\n      a.setAttribute('href', '#' + pageId);\n      a.textContent = text;\n      li.appendChild(a);\n      return li;\n    }\n  },\n\n  /*\n  ***********************************************\n    DESTRUCTOR\n  ***********************************************\n  */\n  destruct() {\n    qx.event.message.Bus.unsubscribe('cv.ui.structure.tile.currentPage', this._update, this);\n  },\n\n  defer(QxClass) {\n    customElements.define(\n      cv.ui.structure.tile.Controller.PREFIX + 'breadcrumbs',\n      class extends QxConnector {\n        constructor() {\n          super(QxClass);\n        }\n      }\n    );\n  }\n});\n","/* Button.js\n *\n * copyright (c) 2010-2022, Christian Mayer and the CometVisu contributers.\n *\n * This program is free software; you can redistribute it and/or modify it\n * under the terms of the GNU General Public License as published by the Free\n * Software Foundation; either version 3 of the License, or (at your option)\n * any later version.\n *\n * This program is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for\n * more details.\n *\n * You should have received a copy of the GNU General Public License along\n * with this program; if not, write to the Free Software Foundation, Inc.,\n * 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA\n */\n\n/**\n *\n * @author Tobias BrÃ¤utigam\n * @since 2022\n */\nqx.Class.define('cv.ui.structure.tile.components.Button', {\n  extend: cv.ui.structure.tile.elements.AbstractCustomElement,\n\n  /*\n  ***********************************************\n    CONSTRUCTOR\n  ***********************************************\n  */\n  construct(element) {\n    super(element);\n    this.__store = new Map();\n  },\n\n  /*\n  ***********************************************\n    PROPERTIES\n  ***********************************************\n  */\n  properties: {\n    type: {\n      check: ['button', 'trigger', 'push'],\n      init: 'button'\n    },\n\n    on: {\n      check: 'Boolean',\n      init: false,\n      apply: '_applyOn'\n    },\n\n    onClass: {\n      check: 'String',\n      init: 'active'\n    },\n\n    offClass: {\n      check: 'String',\n      init: 'inactive'\n    },\n\n    onValue: {\n      check: 'String',\n      init: '1'\n    },\n\n    offValue: {\n      check: 'String',\n      init: '0'\n    },\n\n    styleClass: {\n      check: 'String',\n      nullable: true,\n      apply: '_applyStyleClass'\n    },\n\n    name: {\n      check: 'String',\n      init: '',\n      apply: '_applyName'\n    },\n\n    progress: {\n      check: 'Number',\n      init: -1,\n      apply: '_applyProgress',\n      transform: '_parseInt'\n    }\n  },\n\n  /*\n  ***********************************************\n    MEMBERS\n  ***********************************************\n  */\n  members: {\n    _writeAddresses: null,\n    __textLabel: null,\n    __circumference: null,\n    /**\n     * @var {Map} value store for addresses to be able to use them e.g. in mapping formulas\n     */\n    __store: null,\n\n    _parseInt(val) {\n      const intVal = parseInt(val);\n      return Number.isNaN(intVal) ? 0 : intVal;\n    },\n\n    _init() {\n      const element = this._element;\n      if (element.hasAttribute('type')) {\n        this.setType(element.getAttribute('type'));\n      }\n      if (element.hasAttribute('name')) {\n        this.setName(element.getAttribute('name'));\n      }\n      if (element.hasAttribute('progress')) {\n        this.setProgress(element.getAttribute('progress'));\n      }\n      if (element.hasAttribute('on-value')) {\n        this.setOnValue(element.getAttribute('on-value'));\n      }\n      if (element.hasAttribute('off-value')) {\n        this.setOffValue(element.getAttribute('off-value'));\n      }\n      let hasReadAddress = false;\n      let writeAddresses = [];\n      Array.prototype.forEach.call(element.querySelectorAll(':scope > cv-address'), address => {\n        const mode = address.hasAttribute('mode') ? address.getAttribute('mode') : 'readwrite';\n        switch (mode) {\n          case 'readwrite':\n            hasReadAddress = true;\n            writeAddresses.push(address);\n            break;\n          case 'read':\n            hasReadAddress = true;\n            break;\n          case 'write':\n            writeAddresses.push(address);\n            break;\n        }\n      });\n\n      this._writeAddresses = writeAddresses;\n\n      const events = {};\n      if (writeAddresses.length > 0) {\n        let eventSource = element;\n        if (element.getAttribute('whole-tile') === 'true') {\n          // find parent tile and use it as event source\n          let parent = element.parentElement;\n          let level = 0;\n          while (level <= 2) {\n            parent = parent.parentElement;\n            level++;\n            if (parent.tagName.toLowerCase() === 'cv-tile') {\n              eventSource = parent;\n              eventSource.classList.add('clickable');\n            }\n          }\n        }\n        writeAddresses.forEach(addr => {\n          let event = addr.hasAttribute('on') ? addr.getAttribute('on') : 'click';\n          switch (event) {\n            case 'click':\n              events.click = this.onClicked.bind(this);\n              break;\n            case 'up':\n              events.pointerup = this.onPointerUp.bind(this);\n              break;\n            case 'down':\n              events.pointerdown = this.onPointerDown.bind(this);\n              break;\n          }\n        });\n        Object.getOwnPropertyNames(events).forEach(eventName =>\n          eventSource.addEventListener(eventName, ev => {\n            events[eventName](ev);\n          })\n        );\n      }\n      if (element.hasAttribute('doc-link') && !Object.prototype.hasOwnProperty.call(events, 'click')) {\n        element.addEventListener('click', ev => {\n          this.onClicked(ev);\n        });\n      }\n      if (hasReadAddress) {\n        element.addEventListener('stateUpdate', ev => {\n          this.onStateUpdate(ev);\n          // cancel event here\n          ev.stopPropagation();\n        });\n      } else if (element.hasAttribute('mapping') || element.hasAttribute('styling')) {\n        // apply the trigger state\n        const triggerAddresses = writeAddresses.filter(addr => addr.hasAttribute('value') && !addr.hasAttribute('on'));\n\n        if (triggerAddresses.length === 1) {\n          const value = triggerAddresses[0].getAttribute('value');\n          qx.event.Timer.once(\n            () => {\n              // using == comparisons to make sure that e.g. 1 equals \"1\"\n              // noinspection EqualityComparisonWithCoercionJS\n              this.setOn(value == this.getOnValue());\n            },\n            this,\n            1000\n          );\n        }\n      }\n\n      // detect button type\n      if (\n        !hasReadAddress &&\n        writeAddresses.filter(addr => addr.hasAttribute('value') && !addr.hasAttribute('on')).length === 1\n      ) {\n        // only one write address with a fixed value and no special event => simple trigger\n        this.setType('trigger');\n      } else {\n        let hasDown = false;\n        let hasUp = false;\n        writeAddresses.some(addr => {\n          if (addr.hasAttribute('value') && addr.hasAttribute('on')) {\n            if (!hasDown) {\n              hasDown = addr.getAttribute('on') === 'down';\n            }\n            if (!hasUp) {\n              hasUp = addr.getAttribute('on') === 'up';\n            }\n          }\n          return hasUp && hasDown;\n        });\n        if (hasUp && hasDown) {\n          // has an address for up and one for down event with a fixed value -> pushbutton\n          this.setType('push');\n        }\n      }\n    },\n\n    _initProgress() {\n      const element = this._element;\n      this.__circumference = 100 * Math.PI;\n      const svg = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n      svg.setAttribute('viewBox', '0 0 100 100');\n      svg.setAttribute('type', 'circle');\n      const circle = document.createElementNS('http://www.w3.org/2000/svg', 'circle');\n\n      circle.classList.add('bar');\n      circle.setAttribute('r', '49');\n      circle.setAttribute('cx', '50');\n      circle.setAttribute('cy', '50');\n      circle.setAttribute('stroke-width', '2');\n      circle.setAttribute('stroke-dasharray', this.__circumference + ' ' + this.__circumference);\n\n      circle.setAttribute('stroke-dashoffset', '' + this.__circumference);\n      svg.appendChild(circle);\n      element.appendChild(svg);\n      // make sure that we do not override the progress bar by state appearance\n      element.classList.add('progress');\n    },\n\n    _applyConnected(value) {\n      super._applyConnected(value);\n      if (value) {\n        if (this.getType() !== 'trigger') {\n          // delay this because we need the mappings to be ready\n          qx.event.Timer.once(this._applyOn, this, 1000);\n        }\n      }\n    },\n    _applyOn() {\n      if (this.isConnected()) {\n        let value = this.isOn() ? this.getOnValue() : this.getOffValue();\n        this._element.setAttribute('value', value || '');\n        let mappedValue = value;\n        if (this._element.hasAttribute('mapping')) {\n          mappedValue = cv.Application.structureController.mapValue(\n            this._element.getAttribute('mapping'),\n            value,\n            this.__store\n          );\n        }\n        const target = this._element.querySelector('.value');\n        if (target && target.tagName.toLowerCase() === 'cv-icon') {\n          if (target._instance) {\n            target._instance.setId(mappedValue);\n          } else {\n            target.textContent = mappedValue;\n          }\n        } else {\n          this.updateValue(mappedValue);\n        }\n        let styleClass = this.isOn() ? this.getOnClass() : this.getOffClass();\n        if (this._element.hasAttribute('styling')) {\n          styleClass = cv.Application.structureController.styleValue(\n            this._element.getAttribute('styling'),\n            value,\n            this.__store\n          );\n        }\n        this.setStyleClass(styleClass);\n      }\n    },\n\n    _applyProgress(value) {\n      let valueElement = this._element.querySelector(':scope > svg > circle.bar');\n\n      if (!valueElement) {\n        this._initProgress();\n        valueElement = this._element.querySelector(':scope > svg > circle.bar');\n      }\n      if (valueElement) {\n        if (this._element.hasAttribute('progress-mapping')) {\n          value = cv.Application.structureController.mapValue(\n            this._element.getAttribute('progress-mapping'),\n            value,\n            this.__store\n          );\n        }\n        valueElement.setAttribute(\n          'stroke-dashoffset',\n          '' + (this.__circumference - (value / 100) * this.__circumference)\n        );\n      }\n    },\n\n    _applyStyleClass(value, oldValue) {\n      const classes = this._element.classList;\n      if (oldValue) {\n        if (classes.contains(oldValue)) {\n          classes.replace(oldValue, value);\n        } else {\n          classes.add(value);\n          classes.remove(oldValue);\n        }\n      } else if (value) {\n        classes.add(value);\n      }\n    },\n\n    _applyName(value) {\n      if (!this.__textLabel) {\n        this.__textLabel = document.createElement('label');\n        this.__textLabel.classList.add('button-label');\n        this._element.appendChild(this.__textLabel);\n      }\n      this.__textLabel.textContent = value;\n    },\n\n    updateValue(value) {\n      const elem = this._element.querySelector('span.value');\n      if (elem) {\n        elem.innerHTML = value;\n      }\n    },\n\n    /**\n     * Handles the incoming data from the backend for this widget\n     *\n     * @param ev {CustomEvent} stateUpdate event fired from a cv-address component\n     */\n    onStateUpdate(ev) {\n      // using == comparisons to make sure that e.g. 1 equals \"1\"\n      // noinspection EqualityComparisonWithCoercionJS\n      let value = ev.detail.state == this.getOnValue();\n      let target = ev.detail.target || 'default';\n      if (ev.detail.source instanceof cv.ui.structure.tile.elements.Address) {\n        const addressElement = ev.detail.source.getElement();\n        if (addressElement.hasAttribute('value')) {\n          // noinspection EqualityComparisonWithCoercionJS\n          value = ev.detail.state == addressElement.getAttribute('value');\n        }\n      }\n      if (target === 'default') {\n        this.setOn(value);\n      } else if (target === 'progress') {\n        this.setProgress(ev.detail.state);\n      } else if (target.startsWith('store:')) {\n        this.__store.set(target.substring(6), ev.detail.state);\n      } else if (target === 'store') {\n        // use address as store key\n        this.__store.set(ev.detail.address, ev.detail.state);\n      }\n    },\n\n    onClicked(event) {\n      this.createRipple(event);\n      if (this._element.hasAttribute('doc-link')) {\n        let relPath = this._element.getAttribute('doc-link');\n        // add locale and version\n        const baseVersion = cv.Version.VERSION.split('.').slice(0, 2).join('.');\n        let language = qx.locale.Manager.getInstance().getLanguage();\n        if (language !== 'de') {\n          // documentation only exists in 'de' and 'en'\n          language = 'en';\n        }\n        window.open(`https://www.cometvisu.org/CometVisu/${language}/${baseVersion}/manual/${relPath}`);\n        event.stopPropagation();\n      } else {\n        if (!this._writeAddresses) {\n          this._writeAddresses = Array.prototype.filter.call(\n            this._element.querySelectorAll('addresses > cv-address'),\n            address => !address.hasAttribute('mode') || address.getAttribute('mode') !== 'read'\n          );\n        }\n        const ev = new CustomEvent('sendState', {\n          detail: {\n            value: this.isOn() ? this.getOffValue() : this.getOnValue(),\n            source: this\n          }\n        });\n\n        if (this.getType() === 'trigger') {\n          // simulate feedback\n          this.setOn(true);\n          qx.event.Timer.once(\n            () => {\n              this.setOn(false);\n            },\n            null,\n            250\n          );\n        }\n        this._writeAddresses\n          .filter(addr => !addr.hasAttribute('on') || addr.getAttribute('on') === 'click')\n          .forEach(address => address.dispatchEvent(ev));\n        event.stopPropagation();\n      }\n    },\n\n    onPointerDown() {\n      this._writeAddresses\n        .filter(addr => addr.getAttribute('on') === 'down' && addr.hasAttribute('value'))\n        .forEach(address => {\n          address.dispatchEvent(\n            new CustomEvent('sendState', {\n              detail: {\n                value: address.getAttribute('value'),\n                source: this\n              }\n            })\n          );\n        });\n    },\n\n    onPointerUp() {\n      this._writeAddresses\n        .filter(addr => addr.getAttribute('on') === 'up' && addr.hasAttribute('value'))\n        .forEach(address => {\n          address.dispatchEvent(\n            new CustomEvent('sendState', {\n              detail: {\n                value: address.getAttribute('value'),\n                source: this\n              }\n            })\n          );\n        });\n    },\n\n    createRipple(event) {\n      const button = event.currentTarget;\n      let container = button.querySelector(':scope .ripple-container');\n      if (!container) {\n        container = document.createElement('div');\n        container.classList.add('ripple-container');\n        button.appendChild(container);\n      }\n      const circle = document.createElement('span');\n      const diameter = Math.max(button.clientWidth, button.clientHeight);\n      const radius = diameter / 2;\n      circle.style.width = circle.style.height = `${diameter}px`;\n      let x = event.clientX - (button.offsetLeft + radius);\n      let y = event.clientY - (button.offsetTop + radius);\n      if (button === this._element) {\n        x -= button.offsetParent.offsetLeft;\n        y -= button.offsetParent.offsetTop;\n      }\n      circle.style.left = `${x}px`;\n      circle.style.top = `${y}px`;\n      circle.classList.add('ripple');\n      // remove old ones\n      container.querySelectorAll('.ripple').forEach(ripple => ripple.remove());\n      container.appendChild(circle);\n    }\n  },\n\n  defer(QxClass) {\n    customElements.define(\n      cv.ui.structure.tile.Controller.PREFIX + 'button',\n      class extends QxConnector {\n        constructor() {\n          super(QxClass);\n        }\n      }\n    );\n  }\n});\n","/* Address.js\n *\n * copyright (c) 2010-2022, Christian Mayer and the CometVisu contributers.\n *\n * This program is free software; you can redistribute it and/or modify it\n * under the terms of the GNU General Public License as published by the Free\n * Software Foundation; either version 3 of the License, or (at your option)\n * any later version.\n *\n * This program is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for\n * more details.\n *\n * You should have received a copy of the GNU General Public License along\n * with this program; if not, write to the Free Software Foundation, Inc.,\n * 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA\n */\n\n/**\n * Address element that connect a widget/component to the backend.\n *\n *  @author Tobias BrÃ¤utigam\n *  @since 2022\n */\nqx.Class.define('cv.ui.structure.tile.elements.Address', {\n  extend: cv.ui.structure.tile.elements.AbstractCustomElement,\n\n  /*\n  ***********************************************\n    MEMBERS\n  ***********************************************\n  */\n  members: {\n    __lastValue: null,\n    __transformedValue: null,\n\n    _init() {\n      const element = this._element;\n      const address = element.textContent.trim();\n      if (address) {\n        const model = cv.data.Model.getInstance();\n        const backendName = element.getAttribute('backend');\n        model.addAddress(address, element.getAttribute('id'), backendName);\n        const mode = element.hasAttribute('mode') ? element.getAttribute('mode') : 'readwrite';\n        if (mode !== 'write') {\n          // subscribe\n          // this is a read address register for updates\n          const state = model.getState(address, backendName);\n          if (state !== undefined) {\n            this.fireStateUpdate(address, state);\n          }\n          //add listener\n          model.addUpdateListener(address, this.fireStateUpdate, this, backendName);\n\n          if (element.hasAttribute('target') && element.getAttribute('target').startsWith('last-update')) {\n            if (state === undefined) {\n              // notify tile that we have no value, so its outdated\n              this.fireStateUpdate(address, '-');\n            }\n          }\n        }\n        if (mode !== 'read') {\n          // listen for sendState events\n          element.addEventListener('sendState', ev => {\n            let value = null;\n            if (Object.prototype.hasOwnProperty.call(ev.detail, 'value')) {\n              value = ev.detail.value;\n            }\n            if (element.hasAttribute('value')) {\n              // address has a fixed value that must be sent\n              value = element.getAttribute('value');\n            }\n            const allowDuplicates =\n              ev.detail.source &&\n              ev.detail.source instanceof cv.ui.structure.tile.components.Button &&\n              (ev.detail.source.getType() === 'trigger' || ev.detail.source.getType() === 'push');\n            if (value !== null) {\n              const encoding = element.getAttribute('transform') || 'raw';\n              const encodedValue = cv.Transform.encodeBusAndRaw({\n                transform: encoding,\n                selector: this._element.getAttribute('selector'),\n                ignoreError: this._element.getAttribute('ignore-error') === 'true',\n                variantInfo: this._element.getAttribute('variant'),\n                qos: (this._element.getAttribute('qos') || 0) | 0\n              }, value);\n\n              // noinspection EqualityComparisonWithCoercionJS\n              if (\n                allowDuplicates ||\n                !Object.prototype.hasOwnProperty.call(element, 'lastSentValue') ||\n                encodedValue.raw !== element.lastSentValue\n              ) {\n                if (element.hasAttribute('delay')) {\n                  const delay = parseInt(element.getAttribute('delay'));\n                  this.debug(`send with delay of ${delay}ms`);\n                  qx.event.Timer.once(\n                    () => {\n                      cv.io.BackendConnections.getClient(backendName).write(\n                        address,\n                        encodedValue.bus,\n                        element\n                      );\n\n                      if (!allowDuplicates) {\n                        element.lastSentValue = encodedValue.raw;\n                      }\n                    },\n                    this,\n                    delay\n                  );\n                } else {\n                  cv.io.BackendConnections.getClient(backendName).write(address, encodedValue.bus, element);\n\n                  if (!allowDuplicates) {\n                    element.lastSentValue = encodedValue.raw;\n                  }\n                }\n              }\n            }\n          });\n        }\n      }\n    },\n\n    /**\n     * Creates a 'stateUpdate' event with the transformed value and dispatches it to the <cv-address>-Element.\n     * @param address {String} address\n     * @param state {variant} state to send\n     */\n    fireStateUpdate(address, state) {\n      if (this.__lastValue !== state || this._element.getAttribute('send-mode') === 'always') {\n        let transform = this._element.getAttribute('transform') || 'raw';\n        let transformedState = cv.Transform.decode({\n          transform: transform,\n          selector: this._element.getAttribute('selector'),\n          ignoreError: this._element.getAttribute('ignore-error') === 'true',\n          variantInfo: this._element.getAttribute('variant'),\n          qos: (this._element.getAttribute('qos') || 0) | 0\n        }, state);\n\n        let mapping = '';\n        if (this._element.hasAttribute('mapping')) {\n          mapping = this._element.getAttribute('mapping');\n          transformedState = cv.Application.structureController.mapValue(mapping, transformedState);\n        }\n        if (this._element.hasAttribute('format')) {\n          transformedState = cv.util.String.sprintf(\n            this._element.getAttribute('format'),\n            transformedState instanceof Date ? transformedState.toLocaleString() : transformedState\n          );\n        }\n        let targetConfig = this._element.hasAttribute('target') ? this._element.getAttribute('target').split(':') : [];\n        const target = targetConfig.length > 0 ? targetConfig.shift() : '';\n        const ev = new CustomEvent('stateUpdate', {\n          bubbles: true,\n          cancelable: true,\n          detail: {\n            address: this._element.textContent.trim(),\n            state: transformedState,\n            target: target,\n            targetConfig: targetConfig,\n            raw: state,\n            mapping: mapping,\n            addressValue: this._element.hasAttribute('value') ? this._element.getAttribute('value') : null,\n            source: this,\n            variant: this._element.hasAttribute('variant') ? this._element.getAttribute('variant') : null\n          }\n        });\n\n        this.__transformedValue = transformedState;\n        //console.log(ev.detail);\n        this._element.dispatchEvent(ev);\n        this.__lastValue = state;\n        // reset lastSentValue\n        if (state !== this._element.lastSentValue) {\n          this._element.lastSentValue = null;\n        }\n      }\n    },\n\n    /**\n     *\n     * @return {boolean} true if this is a read address\n     */\n    isRead() {\n      return this._element.getAttribute('mode') !== 'write';\n    },\n\n    /**\n     *\n     * @return {boolean} true if this is a write address\n     */\n    isWrite() {\n      return this._element.getAttribute('mode') !== 'read';\n    },\n\n    getValue() {\n      return this.__transformedValue;\n    }\n  },\n\n  defer(Clazz) {\n    customElements.define(\n      cv.ui.structure.tile.Controller.PREFIX + 'address',\n      class extends QxConnector {\n        constructor() {\n          super(Clazz);\n        }\n      }\n    );\n  }\n});\n","/* Chart.js\n *\n * copyright (c) 2010-2022, Christian Mayer and the CometVisu contributers.\n *\n * This program is free software; you can redistribute it and/or modify it\n * under the terms of the GNU General Public License as published by the Free\n * Software Foundation; either version 3 of the License, or (at your option)\n * any later version.\n *\n * This program is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for\n * more details.\n *\n * You should have received a copy of the GNU General Public License along\n * with this program; if not, write to the Free Software Foundation, Inc.,\n * 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA\n */\n\n/* eslint-disable arrow-body-style */\n/**\n * Shows an chart.\n * @asset(libs/d3.min.js)\n * @ignore(d3)\n */\nqx.Class.define('cv.ui.structure.tile.components.Chart', {\n  extend: cv.ui.structure.tile.components.AbstractComponent,\n  include: [\n    cv.ui.structure.tile.MVisibility,\n    cv.ui.structure.tile.MRefresh,\n    cv.ui.structure.tile.MResize\n  ],\n\n  /*\n  ***********************************************\n    STATICS\n  ***********************************************\n  */\n  statics: {\n    ChartCounter: 0,\n    DEFAULT_ASPECT_RATIO: 392/192,\n\n    JS_LOADED: new Promise(async (resolve, reject) => {\n      const check = () => typeof window.d3 === 'object';\n      await cv.util.ScriptLoader.includeScript(qx.util.ResourceManager.getInstance().toUri('libs/d3.min.js'));\n\n      if (!check()) {\n        const timer = new qx.event.Timer(50);\n        let counter = 0;\n        timer.addListener('interval', () => {\n          counter++;\n          if (check()) {\n            resolve(true);\n          } else if (counter > 5) {\n            reject(new Error('Error loaded d3 library'));\n          }\n        });\n      } else {\n        resolve(true);\n      }\n    }).then(() => {\n      if (qx.locale.Manager.getInstance().getLanguage() === 'de') {\n        // localize\n        d3.formatDefaultLocale({\n          decimal: qx.locale.Number.getDecimalSeparator().translate().toString(),\n          thousands: qx.locale.Number.getGroupSeparator().translate().toString(),\n          grouping: [3],\n          currency: ['â¬', '']\n        });\n\n        d3.timeFormatDefaultLocale({\n          dateTime: '%A, der %e. %B %Y, %X',\n          date: '%d.%m.%Y',\n          time: '%H:%M:%S',\n          periods: [qx.locale.Date.getAmMarker().translate().toString(), qx.locale.Date.getPmMarker().translate().toString()],\n          days: qx.locale.Date.getDayNames('wide', null, 'format').map(t => t.translate().toString()),\n\n          shortDays: qx.locale.Date.getDayNames('narrow', null, 'stand-alone').map(t => t.translate().toString()),\n          months: qx.locale.Date.getMonthNames('wide').map(t => t.translate().toString()),\n          shortMonths: qx.locale.Date.getMonthNames('narrow', null, 'stand-alone').map(t => t.translate().toString())\n        });\n      }\n    }),\n\n    CONFIG: null\n  },\n\n  /*\n  ***********************************************\n    PROPERTIES\n  ***********************************************\n  */\n  properties: {\n    currentSeries: {\n      check: ['hour', 'day', 'week', 'month', 'year'],\n      init: 'day',\n      apply: '_applyCurrentSeries'\n    },\n\n    currentPeriod: {\n      check: 'Number',\n      init: 0,\n      apply: '__updateTimeRange'\n    },\n\n    startTime: {\n      check: 'Number',\n      init: 0\n    },\n\n    endTime: {\n      check: 'Number',\n      init: 0\n    }\n  },\n\n  /*\n  ***********************************************\n    MEMBERS\n  ***********************************************\n  */\n  members: {\n    _id: null,\n    _downloadedImage: null,\n    _url: null,\n    _headers: null,\n    _request: null,\n    _width: null,\n    _height: null,\n    _loaded: null,\n    _dataSetConfigs: null,\n    _initializing: null,\n    _navigationEnabled: null,\n    __toolTipTimer: null,\n    __showTooltip: false,\n    __debouncedOnResize: null,\n    __resizeTimeout: null,\n    __startTs: null,\n    __endTs: null,\n\n    /**\n    * @type {d3.Selection}\n    */\n    _dot: null,\n    /**\n     * @type {d3.Selection}\n     */\n    _svg: null,\n    /**\n     * @type {HTMLElement}\n     */\n    _tooltip: null,\n    /**\n     * @type {String}\n     */\n    _titleString: null,\n\n    __helpers: null,\n    __config: null,\n    // all chart properties\n    _chartConf: null,\n\n    async _init() {\n      this._checkIfWidget();\n\n      this._initializing = true;\n      const element = this._element;\n      await cv.ui.structure.tile.components.Chart.JS_LOADED;\n      this._id = cv.ui.structure.tile.components.Chart.ChartCounter++;\n      const chartId = 'chart-' + this._id;\n      element.setAttribute('data-chart-id', this._id.toString());\n      const inBackground = this._element.hasAttribute('background') && this._element.getAttribute('background') === 'true';\n\n      let title = this.getHeader('label.title');\n      if (!inBackground && element.hasAttribute('title') && !title) {\n        title = document.createElement('label');\n        title.classList.add('title');\n        let span = document.createElement('span');\n        title.appendChild(span);\n        span.textContent = element.getAttribute('title');\n        this.appendToHeader(title);\n      }\n\n      if (title) {\n        // save base title for updating\n        this._titleString = title.textContent.trim();\n      }\n\n      let seriesSelection = [];\n      if (!inBackground && element.hasAttribute('selection')) {\n        const s = element.getAttribute('selection');\n        if (s === 'none') {\n          seriesSelection = [];\n        } else if (s === 'all') {\n          seriesSelection = ['hour', 'day', 'week', 'month', 'year'];\n        } else {\n          seriesSelection = s.split(',').map(n => n.trim().toLowerCase());\n        }\n      }\n      if (element.hasAttribute('series')) {\n        this.setCurrentSeries(element.getAttribute('series'));\n      }\n      const currentSeries = this.getCurrentSeries();\n      if (seriesSelection.length > 0 && !seriesSelection.includes(currentSeries)) {\n        seriesSelection.push(currentSeries);\n      }\n      this._navigationEnabled = seriesSelection.length > 0;\n      if (seriesSelection.length > 0) {\n        // back button\n        let button = this._buttonFactory('ri-arrow-left-s-line', ['prev']);\n        button.setAttribute('title', qx.locale.Manager.tr('previous'));\n        button.addEventListener('click', () => this._onSeriesPrev());\n\n        if (!title) {\n          title = document.createElement('label');\n          title.classList.add('title');\n          let span = document.createElement('span');\n          title.appendChild(span);\n          this.appendToHeader(title);\n        }\n\n        title.parentElement.insertBefore(button, title);\n        const i = document.createElement('i');\n        i.classList.add('ri-arrow-down-s-fill');\n        title.appendChild(i);\n\n        // current selection\n        const popup = document.createElement('div');\n        popup.classList.add('popup', 'series');\n        let option;\n        for (const s of seriesSelection) {\n          option = document.createElement('cv-option');\n          option.setAttribute('key', s);\n          if (s === currentSeries) {\n            option.setAttribute('selected', 'selected');\n          }\n          option.textContent = this._seriesToShort(s);\n          option.addEventListener('click', ev => {\n            popup.style.display = 'none';\n            this._onSeriesChange(ev.target.getAttribute('key'));\n            ev.stopPropagation();\n            ev.preventDefault();\n          });\n          popup.appendChild(option);\n        }\n        title.appendChild(popup);\n\n        // make title clickable\n        title.classList.add('clickable');\n        title.addEventListener('click', ev => {\n          const style = getComputedStyle(popup);\n          if (style.getPropertyValue('display') === 'none') {\n            popup.style.display = 'flex';\n          } else {\n            popup.style.display = 'none';\n          }\n          ev.stopPropagation();\n          ev.preventDefault();\n        });\n\n        // forward button\n        button = this._buttonFactory('ri-arrow-right-s-line', ['next']);\n        button.setAttribute('title', qx.locale.Manager.tr('next'));\n        // initially we cannot go into the future\n        button.disabled = true;\n        button.addEventListener('click', () => this._onSeriesNext());\n        this.appendToHeader(button);\n      }\n      if (!inBackground && element.hasAttribute('allow-fullscreen') && element.getAttribute('allow-fullscreen') === 'true') {\n        // add fullscreen button + address\n        const button = this._buttonFactory('ri-fullscreen-line', ['fullscreen']);\n        button.setAttribute('data-value', '0');\n\n        const popupAddress = `state:${chartId}-popup`;\n\n        button.addEventListener('click', () => {\n          cv.data.Model.getInstance().onUpdate(popupAddress, button.getAttribute('data-value') === '0' ? '1' : '0', 'system');\n        });\n\n        this.appendToHeader(button, 'right');\n\n        // address\n        const tileAddress = document.createElement('cv-address');\n        tileAddress.setAttribute('mode', 'read');\n        tileAddress.setAttribute('target', 'fullscreen-popup');\n        tileAddress.setAttribute('backend', 'system');\n        tileAddress.setAttribute('send-mode', 'always');\n        tileAddress.textContent = popupAddress;\n        element.parentElement.appendChild(tileAddress);\n\n        // listen to parent tile of popup is opened or not\n        let parent = element;\n        while (parent && parent.nodeName.toLowerCase() !== 'cv-tile') {\n          parent = parent.parentElement;\n        }\n        if (parent) {\n          const tileWidget = parent.getInstance();\n          tileWidget.addListener('closed', () => cv.data.Model.getInstance().onUpdate(popupAddress, '0', 'system'));\n\n          // because we added a read address to the tile after is has been initialized we need to init the listener here manually\n          parent.addEventListener('stateUpdate', ev => {\n            tileWidget.onStateUpdate(ev);\n            // cancel event here\n            ev.stopPropagation();\n          });\n\n        // only on mobile we need this, because of height: auto\n          if (document.body.classList.contains('mobile')) {\n            tileWidget.addListener('fullscreenChanged', () => {\n              this._onRendered();\n            });\n          }\n        }\n      }\n\n\n      if (element.hasAttribute('refresh')) {\n        this.setRefresh(parseInt(element.getAttribute('refresh')));\n      }\n\n      // create needed elements\n\n      const svg = d3.select(this._element)\n        .append('svg');\n\n      let noToolTips = false;\n      if (inBackground) {\n        noToolTips = true;\n        svg.style('opacity', 0.4);\n      }\n\n      if (!noToolTips) {\n        this._tooltip = document.createElement('div');\n        this._tooltip.classList.add('tooltip');\n        this._tooltip.style.display = 'none';\n        this._element.appendChild(this._tooltip);\n\n        svg.on('pointerenter', this._onPointerEntered.bind(this));\n        svg.on('pointermove', this._onPointerMoved.bind(this));\n        svg.on('pointerleave', this._onPointerLeft.bind(this));\n      }\n      svg.on(\n        'touchmove',\n        event => {\n          if (this._loaded) {\n            let y = event.targetTouches[0].clientY;\n            const pathRect = this._element.querySelector(':scope > svg').getBoundingClientRect();\n            if (y > pathRect.y && y < pathRect.y + pathRect.height) {\n              event.preventDefault();\n            }\n          }\n        },\n        { passive: false }\n      );\n\n      // init some fixed settings\n      const format = this._element.hasAttribute('y-format') ? this._element.getAttribute('y-format') : '%s';\n      let timeFormat = null;\n      if (this._element.hasAttribute('x-format')) {\n        const formatString = this._element.getAttribute('x-format');\n        timeFormat = date => d3.timeFormat(formatString)(date);\n      } else {\n        // format auto-detection\n        timeFormat = this.multiTimeFormat([\n          [\n            '%H:%M:%S',\n            function (d) {\n              return d.getSeconds();\n            }\n          ],\n\n          [\n            '%H:%M',\n            function (d) {\n              return d.getMinutes();\n            }\n          ],\n\n          [\n            '%H',\n            function (d) {\n              return d.getHours();\n            }\n          ],\n\n          [\n            '%a %d',\n            function (d) {\n              return d.getDay() && d.getDate() !== 1;\n            }\n          ],\n\n          [\n            '%b %d',\n            function (d) {\n              return d.getDate() !== 1;\n            }\n          ],\n\n          [\n            '%B',\n            function (d) {\n              return d.getMonth();\n            }\n          ],\n\n          [\n            '%Y',\n            function () {\n              return true;\n            }\n          ]\n        ]);\n      }\n      this.__config = {\n        x: d => d.time, // given d in data, returns the (temporal) x-value\n        y: d => +d.value, // given d in data, returns the (quantitative) y-value\n        z: d => d.src, // given d in data, returns the (categorical) z-value\n        color: d => d && this._dataSetConfigs[d].color, // stroke color of line, as a constant or a function of *z*\n        title: d => cv.util.String.sprintf(format, d.value), // given d in data, returns the title text\n        curve: d3.curveLinear, // method of interpolation between points\n        marginTop: 12, // top margin, in pixels\n        marginRight: 24, // right margin, in pixels\n        marginBottom: 20, // bottom margin, in pixels\n        marginLeft: 24, // left margin, in pixels\n        width: 392, // outer width, in pixels\n        height: 192, // outer height, in pixels\n        aspectRatio: 392/192,\n        xType: d3.scaleTime, // type of x-scale\n        xFormat: timeFormat, // a format specifier string for the x-axis\n        yType: d3.scaleLinear, // type of y-scale\n        yFormat: undefined, // a format specifier string for the y-axis\n        yLabel: undefined, // a label for the y-axis\n        strokeLinecap: undefined, // stroke line cap of line\n        strokeLinejoin: undefined, // stroke line join of line\n        strokeWidth: 1.5, // stroke width of line\n        strokeOpacity: undefined, // stroke opacity of line\n        mixBlendMode: 'normal', // blend mode of lines\n        showArea: d => this._dataSetConfigs[d].showArea, // show area below the line,\n        showXAxis: !this._element.hasAttribute('show-x-axis') || this._element.getAttribute('show-x-axis') === 'true',\n        showYAxis: !this._element.hasAttribute('show-y-axis') || this._element.getAttribute('show-y-axis') === 'true',\n        xPadding: 0.1 // amount of x-range to reserve to separate bars\n      };\n\n      this._initializing = false;\n      this.__updateTitle();\n\n      // check if we have a read address for live updates\n      const datasetSources = Array.from(this._element.querySelectorAll(':scope > dataset')).map(elem => elem.getAttribute('src'));\n      const readAddresses = Array.from(element.querySelectorAll(':scope > cv-address:not([mode=\"write\"])')).filter(elem => datasetSources.includes(elem.getAttribute('target')));\n      if (readAddresses.length > 0) {\n        element.addEventListener('stateUpdate', ev => {\n          this.onStateUpdate(ev);\n          // cancel event here\n          ev.stopPropagation();\n        });\n      }\n    },\n\n    onStateUpdate(ev) {\n      const targetDataset = this._element.querySelector(':scope > dataset[src=\"'+ev.detail.target+'\"]');\n      const config = this._dataSetConfigs ? this._dataSetConfigs[ev.detail.target] : null;\n      if (targetDataset && config) {\n        let ts = Date.now();\n        if (config.aggregationInterval) {\n          const mins = config.aggregationInterval * 60 * 1000;\n          ts = Math.round(ts / mins) * mins;\n        }\n        this._renderChart({\n          src: ev.detail.target,\n          time: ts,\n          value: ev.detail.state\n        }, true);\n      }\n    },\n\n    _onSeriesPrev() {\n      this.setCurrentPeriod(this.getCurrentPeriod()+1);\n    },\n\n    _onSeriesChange(select) {\n      this._initializing = true;\n      // reset offset when series changed\n      this.resetCurrentPeriod();\n      this._initializing = false;\n      // reset configuration, we need a new one\n      this._chartConf = null;\n      this.setCurrentSeries(select);\n    },\n\n    _onSeriesNext() {\n      const currentPeriod = this.getCurrentPeriod();\n      if (currentPeriod > 0) {\n        this.setCurrentPeriod(currentPeriod-1);\n      }\n    },\n\n    refresh() {\n      this._loaded = false;\n      this._loadData();\n    },\n\n    // triggered after a change os series or period\n    _refreshData() {\n      const nextButton = this.getHeader('.next');\n      if (nextButton) {\n        if (this.getCurrentPeriod() === 0) {\n          nextButton.setAttribute('disabled', 'disabled');\n        } else {\n          nextButton.removeAttribute('disabled');\n        }\n      }\n\n      if (!this._initializing && this.getStartTime() > 0 && this.getEndTime() > 0) {\n        this._loaded = false;\n        this._loadData();\n      }\n      this.__updateTitle();\n    },\n\n    _applyCurrentSeries(series) {\n      const currentSelection = this.getHeader('.popup.series > cv-option[selected=\"selected\"]');\n      let alreadySelected = false;\n      if (currentSelection) {\n        if (currentSelection.getAttribute('key') !== series) {\n          currentSelection.removeAttribute('selected');\n        } else {\n          alreadySelected = true;\n        }\n      }\n      if (!alreadySelected) {\n        const newSelection = this.getHeader(`.popup.series > cv-option[key=\"${series}\"]`);\n        if (newSelection) {\n          newSelection.setAttribute('selected', 'selected');\n        }\n      }\n      this.__updateTimeRange();\n    },\n\n    __updateTimeRange() {\n      const series = this.getCurrentSeries();\n\n      const currentPeriod = this.getCurrentPeriod();\n      let end = new Date();\n      let periodStart = new Date();\n      let interval = 0;\n      switch (series) {\n        case 'hour':\n          interval = 60 * 60;\n          periodStart.setHours(periodStart.getHours() - currentPeriod, 0, 0, 0);\n          if (currentPeriod > 0) {\n            end.setHours(periodStart.getHours() + 1, 0, 0, 0);\n          }\n          break;\n\n        case 'day':\n          interval = 24 * 60 * 60;\n          periodStart.setDate(periodStart.getDate() - currentPeriod);\n          periodStart.setHours(0, 0, 0, 0);\n          if (currentPeriod > 0) {\n            end.setDate(periodStart.getDate() + 1);\n            end.setHours(0, 0, 0, 0);\n          }\n          break;\n\n        case 'week':\n          interval = 7 * 24 * 60 * 60;\n          periodStart.setDate(-periodStart.getDay() - 7 * currentPeriod);\n          periodStart.setHours(0, 0, 0, 0);\n          if (currentPeriod > 0) {\n            end.setDate(periodStart.getDate() + 7);\n            end.setHours(0, 0, 0, 0);\n          }\n          break;\n\n        case 'month':\n          interval = 30 * 24 * 60 * 60;\n          periodStart.setMonth(periodStart.getMonth() - currentPeriod);\n          periodStart.setDate(1);\n          periodStart.setHours(0, 0, 0, 0);\n          if (currentPeriod > 0) {\n            end.setMonth(periodStart.getMonth() + 1, 1);\n            end.setHours(0, 0, 0, 0);\n          }\n          break;\n\n        case 'year':\n          interval = 365 * 24 * 60 * 60;\n          periodStart.setFullYear(periodStart.getFullYear() - currentPeriod);\n          periodStart.setMonth(0, 1);\n          periodStart.setHours(0, 0, 0, 0);\n          if (currentPeriod > 0) {\n            end.setFullYear(periodStart.getFullYear() + 1);\n            end.setMonth(periodStart.getMonth() + 1, 1);\n            end.setHours(0, 0, 0, 0);\n          }\n          break;\n      }\n      let startTs = Math.round(periodStart.getTime()/1000);\n      let endTs = Math.round(end.getTime()/1000);\n      if (this._element.getAttribute('background') === 'true' || !this._element.hasAttribute('selection')) {\n        // when have no navigation, we can just use the old relative time range now - interval\n        startTs = endTs -  interval;\n      }\n      this.setStartTime(startTs);\n      this.setEndTime(endTs);\n      this._refreshData();\n    },\n\n    _loadData() {\n      if (this._loaded && Date.now() - this._loaded < 300000) {\n        // don't reload within 5 minutes\n        return;\n      }\n      const client = cv.io.BackendConnections.getClient();\n      if (!client) {\n        return;\n      }\n      if (!client.isConnected()) {\n        client.addListenerOnce('changeConnected', () => {\n          this._loadData();\n        });\n        return;\n      }\n      let url;\n      const dataSets = this._element.querySelectorAll(':scope > dataset');\n\n      const promises = [];\n      if (!this._dataSetConfigs) {\n        this._dataSetConfigs = {};\n        for (let dataSet of dataSets) {\n          let ts = {\n            showArea: true,\n            color: '#FF9900',\n            chartType: 'line',\n            title: '',\n            curve: 'linear',\n            aggregationInterval: 0\n          };\n\n          let attr;\n          let name;\n          let value;\n          for (let i = 0; i < dataSet.attributes.length; i++) {\n            attr = dataSet.attributes.item(i);\n            // CamelCase attribute names\n            name = attr.name\n              .split('-')\n              .map((part, i) => {\n                if (i > 0) {\n                  return `${part.substring(0, 1).toUpperCase()}${part.substring(1)}`;\n                }\n                return part;\n              })\n              .join('');\n            value = attr.value;\n            if (value === 'true' || value === 'false') {\n              value = value === 'true';\n            } else if (/^\\d+$/.test(value)) {\n              value = parseInt(value);\n            } else if (/^[\\d.]+$/.test(value)) {\n              value = parseFloat(value);\n            }\n            ts[name] = value;\n          }\n          const type = ts.src.split('://')[0].toLowerCase();\n          ts.type = type;\n          switch (type) {\n            case 'flux':\n              ts.source = new cv.io.timeseries.FluxSource(ts.src);\n              if (ts.source.isInline()) {\n                ts.source.setQueryTemplate(dataSet.textContent.trim());\n              }\n              break;\n\n            case 'openhab':\n              ts.source = new cv.io.timeseries.OpenhabPersistenceSource(ts.src);\n              break;\n\n            case 'rrd':\n              ts.source = new cv.io.timeseries.RRDSource(ts.src);\n              break;\n\n            case 'demo':\n              ts.source = new cv.io.timeseries.DemoSource(ts.src);\n              break;\n\n            default:\n              this.error('unknown chart data source type ' + type);\n              break;\n          }\n          this._dataSetConfigs[ts.src] = ts;\n        }\n      }\n\n      for (const src in this._dataSetConfigs) {\n        const ts = this._dataSetConfigs[src];\n        let proxy = false;\n        let options = {ttl: this.getRefresh()};\n        if (ts.source) {\n          const config = ts.source.getRequestConfig(\n            this.getStartTime(),\n            this.getEndTime(),\n            this.getCurrentSeries(),\n            this.getCurrentPeriod()\n          );\n          url = config.url;\n          proxy = config.proxy;\n          options = Object.assign(options, config.options);\n        }\n\n        if (!url) {\n          continue;\n        }\n\n        this.debug('loading', url);\n        promises.push(\n          cv.io.Fetch.cachedFetch(url, options, proxy, client)\n            .then(data => {\n              this.debug('successfully loaded', url);\n              if (ts.source) {\n                data = ts.source.processResponse(data);\n              }\n              if (!this._lastRefresh) {\n                this._lastRefresh = Date.now();\n              }\n              return {\n                data: data || [],\n                ts: ts\n              };\n            })\n            .catch(err => {\n              this._onStatusError(ts, url, err);\n              return {\n                data: [],\n                ts: ts\n              };\n            })\n        );\n      }\n      Promise.all(promises).then(responses => {\n        this._onSuccess(responses);\n      });\n    },\n\n    _onSuccess(data) {\n      let chartData = [];\n\n      for (let entry of data) {\n        let tsdata = entry.data;\n        if (tsdata !== null) {\n          // TODO: stacked bar times (entry.ts.chartType === 'stacked-bar') must be aggregated, they have to be at the same time index for stacking\n          const mins = entry.ts.aggregationInterval > 0 ? entry.ts.aggregationInterval * 60 * 1000 : 0;\n          for (let [time, value] of tsdata) {\n            chartData.push({\n              src: entry.ts.src,\n              time: mins > 0\n                ? Math.round(time / mins) * mins : time,\n              value\n            });\n          }\n        }\n      }\n\n      if (this._element.hasAttribute('background') && this._element.getAttribute('background') === 'true') {\n        // no margins\n        this.__config = Object.assign(this.__config, {\n          marginRight: 0,\n          marginBottom: 0,\n          marginLeft: 0\n        });\n\n        // because we have no margins we need to cut the overflow on the tile\n        let tile = this._element.parentElement;\n        while (tile && tile.localName !== 'cv-tile') {\n          tile = tile.parentElement;\n        }\n        if (tile && tile.localName === 'cv-tile') {\n          tile.style.overflow = 'hidden';\n        }\n      }\n\n      // wait some time to let the element size settle\n      window.requestAnimationFrame(() => {\n        setTimeout(() => {\n          this._onRendered(chartData);\n        }, 100);\n      });\n    },\n\n    _onRendered(chartData, retries) {\n      if (this.__resizeTimeout) {\n        clearTimeout(this.__resizeTimeout);\n        this.__resizeTimeout = null;\n      }\n      if (this.isVisible()) {\n        const [width, height] = this._getSize();\n        if ((width < 20 || height < 10) && (!retries || retries <= 5)) {\n          // this makes no sense\n          this.__resizeTimeout = setTimeout(() => {\n            this._onRendered(chartData, retries > 0 ? retries + 1 : 1);\n          }, 150);\n        }\n        if (width < 20 || height < 10) {\n          // do nothing, these values are invalid\n          return;\n        }\n\n        this.__config.width = width;\n        this.__config.height = height;\n        d3.select(this._element).select('svg')\n          .attr('viewBox', `0, 0, ${width}, ${height}`);\n        if (chartData) {\n          this._renderChart(chartData);\n          this._loaded = Date.now();\n        }\n      }\n    },\n\n    _getSize() {\n      const parent = this._element.parentElement;\n      let padding = this._element.getAttribute('background') === 'true' ? 0 : 8;\n      let containerWidth = this._element.offsetWidth - padding;\n      let containerHeight = this._element.offsetHeight - padding;\n      let factor = 1;\n\n      const landscape = containerWidth > containerHeight;\n      let width = 0;\n      let height = 0;\n\n      if (landscape && containerHeight > 0) {\n        // obeying aspect ratio in landscape mode is not necessary\n        width = Math.round(containerWidth / factor);\n        height = Math.round(containerHeight / factor);\n      } else {\n        width = Math.round(containerWidth / factor);\n        height = width / cv.ui.structure.tile.components.Chart.DEFAULT_ASPECT_RATIO;\n      }\n      if (!this._element.style.height && (parent.localName === 'cv-popup' && (parent.getAttribute('fullscreen') === 'true') ||\n        (this._element.getAttribute('allow-fullscreen') === 'true' &&\n          parent.parentElement.classList.contains('fullscreen')))) {\n        // the parent container has height: auto, so we need to have one\n        this._element.style.height = (height + this.__config.marginTop + this.__config.marginBottom) + 'px';\n      }\n      return [width, height];\n    },\n\n    multiTimeFormat(formatsArray) {\n      /**\n       * @param date\n       */\n      function multiFormat(date) {\n        let i = 0;\n        let found = false;\n        let fmt = '%c';\n        while (!found && i < formatsArray.length) {\n          found = formatsArray[i][1](date);\n          if (found) {\n            fmt = formatsArray[i][0];\n          }\n          i++;\n        }\n        return fmt;\n      }\n      return date => d3.timeFormat(multiFormat(date))(date);\n    },\n\n    _onStatusError(ts, key, err) {\n      cv.core.notifications.Router.dispatchMessage('cv.charts.error', {\n        title: qx.locale.Manager.tr('Communication error'),\n        severity: 'urgent',\n        message: qx.locale.Manager.tr('URL: %1<br/><br/>Response:</br>%2', JSON.stringify(key), JSON.stringify(err))\n      });\n\n      this.error('Chart _onStatusError', ts, key, err);\n    },\n\n    /**\n     * Get svg element selection (create if not exists)\n     * @param parent d3.selection of the parent this element should be a child of\n     * @param nodeName {String} Element name\n     * @param classes {Array<String>} array of css classes used to identify this element\n     * @param attributes {Map<String, String>?} set these attributes if the element has to be created, when it already exists these are ignored\n     * @private\n     */\n    _getSvgElement(parent, nodeName, classes, attributes) {\n      let elem = parent.select(nodeName + '.' + classes.join('.'));\n      if (elem.empty()) {\n        elem = parent.append(nodeName).attr('class', classes.join(' '));\n        if (attributes) {\n          for (const name in attributes) {\n            elem.attr(name, attributes[name]);\n          }\n        }\n      }\n      return elem;\n    },\n\n    /**\n     * Copyright 2021 Observable, Inc.\n     * Released under the ISC license.\n     * https://observablehq.com/@d3/multi-line-chart\n     *\n     * @param data\n     * @param single\n     * @private\n     */\n    _renderChart(data, single) {\n      const config = this.__config;\n      const svg = d3.select(this._element).select('svg');\n\n      // Compute values.\n      let X;\n      let Y;\n      let Z;\n      let O;\n      let T;\n      if (single) {\n        if (!this._helpers) {\n          return;\n        }\n        X = this._helpers.X;\n        Y = this._helpers.Y;\n        Z = this._helpers.Z;\n        O = this._helpers.O;\n        T = this._helpers.T;\n        if (X[X.length-1] === data.time) {\n          // replace last value instead of adding one\n          Y[Y.length-1] = data.value;\n        } else {\n          X.push(data.time);\n          Y.push(data.value);\n          Z.push(data.src);\n          O.push(data);\n          T.push(config.title === undefined ? data.src : config.title === null ? null : config.title(data));\n\n          // cleanup\n          X.shift();\n          Y.shift();\n          Z.shift();\n          O.shift();\n          T.shift();\n        }\n      } else {\n        X = d3.map(data, config.x);\n        Y = d3.map(data, config.y);\n        Z = d3.map(data, config.z);\n        O = d3.map(data, d => d);\n        // Compute titles.\n        T = config.title === undefined ? Z : config.title === null ? null : d3.map(data, config.title);\n      }\n\n      // Compute default domains, and unique the z-domain.\n      let xDomain = d3.extent(X);\n      let minVal = 0;\n      const zeroBased = !this._element.hasAttribute('zero-based') || this._element.getAttribute('zero-based') === 'true';\n      if (!zeroBased) {\n        minVal = d3.min(Y);\n        if (minVal > 1.0) {\n          minVal -= 1;\n        }\n      }\n      let maxVal = d3.max(Y);\n      if (maxVal > 1.0) {\n        // add some inner chart padding\n        maxVal += 1;\n      } else {\n        maxVal += 0.1;\n      }\n      const yDomain = [minVal, maxVal];\n      const zDomain = new d3.InternSet(Z);\n      // Omit any data not present in the z-domain.\n      const I = d3.range(X.length).filter(i => zDomain.has(Z[i]));\n\n      if (config.showYAxis) {\n        const maxValue = config.yFormat ? config.yFormat(yDomain[1]) : yDomain[1].toFixed(maxVal < 1 ? 2 : 1);\n        // check if we need more space for the y-axis\n        if (maxValue.length >= 2) {\n          config.marginLeft = maxValue.length * 8;\n        }\n      }\n\n      const xTicks = config.width / 80;\n      const yTicks = config.height / 60;\n      const additionalXRangePadding = this._element.getAttribute('background') === 'true' ? 0 : 2;\n\n      const xRange = [config.marginLeft + additionalXRangePadding, config.width - config.marginRight - additionalXRangePadding]; // [left, right]\n      if (!this._chartConf) {\n        const yRange = [config.height - config.marginBottom, config.marginTop]; // [bottom, top]\n\n        // initialize everything once\n        this._chartConf = {\n          // x/y scales\n          x: config.xType().range(xRange),\n          y: config.yType().range(yRange)\n        };\n        this._chartConf.xAxis = config.showXAxis\n          ? d3.axisBottom(this._chartConf.x)\n            .ticks(xTicks)\n            .tickSizeOuter(0)\n            .tickFormat(config.xFormat)\n          : undefined;\n        this._chartConf.yAxis = config.showYAxis\n          ? d3.axisLeft(this._chartConf.y).ticks(yTicks, config.yFormat)\n          : undefined;\n\n\n        // add elements\n        const showGrid = this._element.hasAttribute('show-grid') ? this._element.getAttribute('show-grid') : 'xy';\n        if (showGrid.includes('x')) {\n          this._chartConf.xGrid = d3.axisBottom(this._chartConf.x).ticks(xTicks)\n            .tickSize(-config.height + config.marginBottom + config.marginTop)\n            .tickFormat('');\n          this._getSvgElement(svg, 'g', ['grid', 'x'], {\n            transform: `translate(0,${config.height - config.marginBottom})`\n          })\n            .call(this._chartConf.xGrid);\n        }\n        if (showGrid.includes('y')) {\n          this._chartConf.yGrid = d3.axisLeft(this._chartConf.y).ticks(yTicks)\n            .tickSize(-config.width + config.marginRight + config.marginLeft)\n            .tickFormat('');\n\n          this._getSvgElement(svg, 'g', ['grid', 'y'], {\n            transform: `translate(${config.marginLeft},0)`\n          })\n            .call(this._chartConf.yGrid);\n        }\n\n        if (config.showXAxis) {\n          this._getSvgElement(svg, 'g', ['axis', 'x'])\n            .attr('transform', `translate(0,${config.height - config.marginBottom})`)\n            .call(this._chartConf.xAxis);\n        }\n\n        if (config.showYAxis) {\n          let yAxisElement = this._getSvgElement(svg, 'g', ['axis', 'y'])\n            .attr('transform', `translate(${config.marginLeft},0)`);\n\n          if (config.label && yAxisElement.select('text').empty()) {\n            yAxisElement.append('text')\n              .attr('x', -config.marginLeft)\n              .attr('y', 10)\n              .attr('fill', 'currentColor')\n              .attr('text-anchor', 'start')\n              .text(config.yLabel);\n          }\n\n          yAxisElement\n            .call(this._chartConf.yAxis)\n            .call(g => g.select('.domain').remove());\n        }\n\n        // find chart types\n        const lineGroups = new Map();\n        const areaGroups = new Map();\n        const barGroups = new Map();\n        const stackedBarGroups = new Map();\n        const lineFunctions = {};\n        const areaFunctions = {};\n        let xBar;\n        let xzScale;\n\n        for (const key in this._dataSetConfigs) {\n          switch (this._dataSetConfigs[key].chartType) {\n            case 'line': {\n              const idx = I.filter(i => Z[i] === key);\n              lineGroups.set(key, idx);\n              const curveName = this._dataSetConfigs[key].curve || 'linear';\n              if (!Object.prototype.hasOwnProperty.call(lineFunctions, curveName)) {\n                let curveFunction;\n                switch (curveName) {\n                  case 'linear':\n                    curveFunction = d3.curveLinear;\n                    break;\n\n                  case 'step':\n                    curveFunction = d3.curveStep;\n                    break;\n\n                  case 'natural':\n                    curveFunction = d3.curveNatural;\n                    break;\n                }\n\n                if (curveFunction) {\n                  // Construct a line generator.\n                  lineFunctions[curveName] = d3\n                    .line()\n                    .curve(curveFunction)\n                    .x(i => this._chartConf.x(this._helpers.X[i]))\n                    .y(i => this._chartConf.y(this._helpers.Y[i]));\n                }\n\n                if (this._dataSetConfigs[key].chartType === 'line' && typeof config.showArea === 'function' && config.showArea(key)) {\n                  areaGroups.set(key, idx);\n                  if (curveFunction) {\n                    // Construct a line generator.\n                    const minY = this._chartConf.y.range()[0];\n                    areaFunctions[curveName] = d3\n                      .area()\n                      .curve(curveFunction)\n                      .x(i => this._chartConf.x(this._helpers.X[i]))\n                      .y0(() => minY)\n                      .y1(i => this._chartConf.y(this._helpers.Y[i]));\n                  }\n                }\n              }\n              break;\n            }\n\n            case 'bar':\n              barGroups.set(key, I.filter(i => Z[i] === key));\n              if (!xBar) {\n                xBar = d3.scaleBand().range(this._chartConf.x.range()).padding(config.xPadding);\n              }\n              if (!xzScale) {\n                xzScale = d3.scaleBand().padding(0.05);\n              }\n              break;\n\n            case 'stacked-bar':\n              stackedBarGroups.set(key, I.filter(i => Z[i] === key));\n              break;\n          }\n        }\n\n        this._chartConf.lineGroups = lineGroups;\n        this._chartConf.areaGroups = areaGroups;\n        this._chartConf.barGroups = barGroups;\n        this._chartConf.stackedBarGroups = stackedBarGroups;\n        this._chartConf.lineFunctions = lineFunctions;\n        this._chartConf.areaFunctions = areaFunctions;\n        this._chartConf.xBar = xBar;\n        if (xzScale) {\n          this._chartConf.xz = xzScale;\n        }\n\n        // prepare elements for chart elements\n        if (this._chartConf.lineGroups.size > 0) {\n          this._chartConf.lineContainer = this._getSvgElement(svg, 'g', ['line'], {\n            fill: 'none',\n            stroke: typeof config.color === 'string' ? config.color : null,\n            'stroke-linecap': config.strokeLinecap,\n            'stroke-linejoin': config.strokeLinejoin,\n            'stroke-width': config.strokeWidth,\n            'stroke-opacity': config.strokeOpacity\n          });\n        }\n        if (this._chartConf.areaGroups.size > 0) {\n          this._chartConf.areaContainer = this._getSvgElement(svg, 'g', ['area'], {\n            stroke: 'none',\n            fill: typeof config.color === 'string' ? this.__opacifyColor(config.color, '30') : null\n          });\n        }\n        if (this._chartConf.barGroups.size > 0) {\n          this._chartConf.barContainer = this._getSvgElement(svg, 'g', ['bars']);\n        }\n      }\n\n      // apply domains to scales\n      this._chartConf.x.domain(xDomain);\n      this._chartConf.y.domain(yDomain);\n\n      this._helpers = { X, Y, I, T, Z, O };\n\n      if (this._chartConf.xAxis) {\n        this._getSvgElement(svg, 'g', ['axis', 'x'])\n          .call(this._chartConf.xAxis);\n      }\n\n      if (this._chartConf.yAxis) {\n        this._getSvgElement(svg, 'g', ['axis', 'y'])\n          .call(this._chartConf.yAxis);\n      }\n      if (this._chartConf.xBar) {\n        this._chartConf.xBar.domain(new d3.InternSet(X));\n      }\n      if (this._chartConf.xz) {\n        this._chartConf.xz.domain(zDomain);\n        this._chartConf.x.range([xRange[0], xRange[1] - this._chartConf.xBar.bandwidth()]);\n        this._chartConf.xz.range([0, this._chartConf.xBar.bandwidth()]);\n      }\n\n      // update groups\n      for (const key of this._chartConf.lineGroups.keys()) {\n        const idx = I.filter(i => Z[i] === key);\n        this._chartConf.lineGroups.set(key, idx);\n      }\n      for (const key of this._chartConf.areaGroups.keys()) {\n        const idx = I.filter(i => Z[i] === key && Y[i] !== undefined);\n        this._chartConf.areaGroups.set(key, idx);\n      }\n      for (const key of this._chartConf.barGroups.keys()) {\n        const idx = I.filter(i => Z[i] === key && Y[i] !== undefined);\n        this._chartConf.barGroups.set(key, idx);\n      }\n      for (const key of this._chartConf.stackedBarGroups.keys()) {\n        const idx = I.filter(i => Z[i] === key && Y[i] !== undefined);\n        this._chartConf.stackedBarGroups.set(key, idx);\n      }\n\n      this.__config = config;\n      this._dot = svg.select('g.dot');\n\n      // show zero line in grid for non-zero based charts\n      if (!zeroBased) {\n        let targetContainer = this._chartConf.lineContainer || this._chartConf.areaContainer || this._chartConf.barContainer;\n        let yValue = 0.0;\n        let data = [0, X.length-1];\n        let lineElem = targetContainer.select('.zero-line');\n        if (lineElem.empty()) {\n          lineElem = targetContainer.append('line')\n            .attr('class', 'zero-line')\n            .attr('stroke', 'currentColor')\n            .attr('stroke-opacity', '15%');\n        }\n        if (X.length > 0) {\n          const x1 = this._chartConf.x(X[data[0]]);\n          const x2 = this._chartConf.x(X[X.length - 1]); // always draw until end of chart (not until end of src dataset)\n          const y = this._chartConf.y(yValue);\n          lineElem\n            .attr('x1', x1)\n            .attr('x2', x2)\n            .attr('y1', y)\n            .attr('y2', y);\n        }\n      }\n\n      const t = d3.transition()\n        .duration(single ? 0 : 500)\n        .ease(d3.easeLinear);\n\n      if (this._chartConf.lineContainer) {\n        this._chartConf.lineContainer\n          .selectAll('path')\n          .data(this._chartConf.lineGroups)\n          .join(\n            enter => enter.append('path')\n              .style('mix-blend-mode', config.mixBlendMode)\n              .attr('stroke', typeof config.color === 'function' ? p => config.color(p[0]) : null)\n          )\n          .transition(t)\n          .attr('d', d => {\n            const curveName = this._dataSetConfigs[d[0]].curve || 'linear';\n            const func = this._chartConf.lineFunctions[curveName] || this._chartConf.lineFunctions.linear;\n            const val = func(d[1]);\n            return val;\n          });\n      }\n\n      // Add the area\n      if (this._chartConf.areaContainer) {\n        this._chartConf.areaContainer\n          .selectAll('path')\n          .data(this._chartConf.areaGroups)\n          .join(\n            enter => enter.append('path')\n              .style('mix-blend-mode', config.mixBlendMode)\n              .attr('fill', typeof config.color === 'function' ? p => this.__opacifyColor(config.color(p[0]), '30') : null)\n          )\n          .transition(t)\n          .attr('d', d => {\n            const curveName = this._dataSetConfigs[d[0]].curve || 'linear';\n            const func = this._chartConf.areaFunctions[curveName] || this._chartConf.areaFunctions.linear;\n            return func(d[1]);\n          });\n      }\n\n      if (this._chartConf.barContainer) {\n        const yMin = this._chartConf.y.range()[0];\n        this._chartConf.barContainer\n          .selectAll('g')\n          .data(this._chartConf.barGroups)\n          .join('g')\n          .attr('fill', typeof config.color === 'function' ? d => config.color(d[0]) : null)\n          .selectAll('rect')\n          .data(d => {\n            return d[1].map(val => {\n              return {\n                key: d[0],\n                value: val\n              };\n            });\n          })\n          .join('rect')\n          .attr('x', d => {\n            const x = this._chartConf.x(X[d.value]);\n            const xz =  this._chartConf.xz(d.key);\n            return x + xz;\n          })\n          .attr('y', d => this._chartConf.y(Y[d.value]))\n          .attr('width', this._chartConf.xz.bandwidth())\n          .transition(t)\n          .attr('height', d => yMin - this._chartConf.y(Y[d.value]));\n      }\n\n      // add fixed/calculated lines\n      for (const [i, line] of this._element.querySelectorAll(':scope > h-line').entries()) {\n        const src = line.getAttribute('src');\n        let targetContainer = null;\n        let data = null;\n        let yValue = NaN;\n        if (src) {\n          if (this._chartConf.lineGroups.get(src)) {\n            targetContainer = this._chartConf.lineContainer;\n            data = this._chartConf.lineGroups.get(src);\n          } else if (this._chartConf.areaGroups.get(src)) {\n            targetContainer = this._chartConf.areaContainer;\n            data = this._chartConf.areaGroups.get(src);\n          } else if (this._chartConf.barGroups.get(src)) {\n            targetContainer = this._chartConf.barContainer;\n            data = this._chartConf.barGroups.get(src);\n          }\n          if (!data) {\n            this.error('no data found for src ' + src);\n            continue;\n          }\n          switch (line.getAttribute('value')) {\n            case 'avg': {\n              let sum = 0.0;\n              for (const di of data) {\n                sum += Y[di];\n              }\n              yValue = sum / data.length;\n              break;\n            }\n\n            case 'max':\n              yValue = d3.max(Y.filter((v, i) => data.includes(i), d => d));\n              break;\n\n            case 'min':\n              yValue = d3.min(Y.filter((v, i) => data.includes(i), d => d));\n              break;\n\n            default:\n              this.error('unknown value calculation: ' + line.getAttribute('value'));\n              break;\n          }\n        } else {\n          targetContainer = this._chartConf.lineContainer || this._chartConf.areaContainer || this._chartConf.barContainer;\n          yValue = parseFloat(line.getAttribute('value'));\n          data = [0, X.length-1];\n        }\n        if (!targetContainer) {\n          continue;\n        }\n\n        let lineElem = targetContainer.select('.line-' + i);\n        if (isNaN(yValue) && !lineElem.empty()) {\n          // remove line\n          lineElem.remove();\n          if (line.getAttribute('show-value') === 'true') {\n            targetContainer.select('.line-value-' + i).remove();\n          }\n        } else if (!isNaN(yValue)) {\n          const color = line.getAttribute('color') || 'currentColor';\n          if (lineElem.empty()) {\n            lineElem = targetContainer.append('line')\n              .attr('class', 'line-' + i)\n              .attr('stroke', color);\n          }\n          const x1 = this._chartConf.x(X[data[0]]);\n          const x2 = this._chartConf.x(X[X.length -1]); // always draw until end of chart (not until end of src dataset)\n          const y = this._chartConf.y(yValue);\n          lineElem\n            .attr('x1', x1)\n            .attr('x2', x2)\n            .attr('y1', y)\n            .attr('y2', y);\n\n          if (line.getAttribute('show-value') === 'true') {\n            const format = line.hasAttribute('format') ? line.getAttribute('format')\n              : (this._element.hasAttribute('y-format') ? this._element.getAttribute('y-format') : '%s');\n            let valueElem = targetContainer.select('.line-value-' + i);\n            if (valueElem.empty()) {\n              valueElem = targetContainer.append('text')\n                .attr('class', 'line-value-' + i)\n                .attr('fill', line.getAttribute('value-color') || color)\n                .attr('font-size', '10')\n                .attr('text-anchor', 'start');\n            }\n            // show value on right side of the chart\n            valueElem\n              .attr('x', x2 + 2)\n              .attr('y', y + 5)\n              .text(cv.util.String.sprintf(format, yValue));\n          }\n        }\n      }\n\n      // dot must be added last\n      const dot = svg.select('g.dot');\n      if (dot.empty()) {\n        svg.append('g')\n          .attr('class', 'dot')\n          .attr('display', 'none')\n          .attr('fill', 'currentColor')\n          .append('circle')\n          .attr('r', 2.5);\n      }\n      this._dot = svg.select('g.dot');\n    },\n\n    _onPointerEntered(ev) {\n      if (this._loaded) {\n        this.__toolTipTimer = setTimeout(() => {\n          this.__activateTooltip(true, ev);\n          this.__toolTipTimer = null;\n        }, 500);\n      }\n    },\n\n    _onPointerLeft(ev) {\n      if (this.__toolTipTimer) {\n        clearTimeout(this.__toolTipTimer);\n      }\n\n      if (this._loaded) {\n        if (ev.relatedTarget !== this._tooltip) {\n          this.__activateTooltip(false);\n        }\n      }\n    },\n\n    __activateTooltip(val, ev) {\n      this.__showTooltip = val;\n      if (val) {\n        if (this._dot) {\n          this._dot.attr('display', null);\n          this._dot.raise();\n        }\n        this._tooltip.style.display = 'block';\n        this._onPointerMoved(null, true);\n      } else {\n        if (this._dot) {\n          this._dot.attr('display', 'none');\n        }\n        const svg = d3.select(this._element).select('svg');\n        svg.node().value = null;\n        svg.dispatch('input', {bubbles: true});\n        this._tooltip.style.display = 'none';\n      }\n    },\n\n    _onPointerMoved(event, center) {\n      if (this._loaded && this.__showTooltip) {\n        let xm = 0;\n        let ym = 0;\n        if (event) {\n          [xm, ym] = d3.pointer(event);\n        } else if (center) {\n          xm = this.__config.width/2;\n          ym = this.__config.height/2;\n        } else {\n          return;\n        }\n        const {X, Y, I, T, Z, O} = this._helpers;\n        const {x, y, xz} = this._chartConf;\n        const i = d3.least(I, i => Math.hypot(x(X[i]) - xm, y(Y[i]) - ym));\n        const scaleFactorX = this._element.offsetWidth / this.__config.width;\n        const scaleFactorY = this._element.offsetHeight / this.__config.height;\n        // closest point\n        const xOffset = xz ? (xz(Z[i]) + (typeof xz.bandwidth === 'function' ? xz.bandwidth() / 2 : 0)) : 0;\n        this._dot.attr('transform', `translate(${x(X[i]) + xOffset},${y(Y[i])})`);\n        if (T) {\n          const cursorOffset = event && event.pointerType === 'mouse' ? 16 : 40;\n          const timeString = this.__config.xFormat(new Date(X[i]));\n          let top = ym * scaleFactorY - this._tooltip.offsetHeight;\n          if (top < 0) {\n            top += cursorOffset + this._tooltip.offsetHeight;\n          } else {\n            top -= cursorOffset;\n          }\n\n          let left = xm * scaleFactorX;\n          if (left > this._element.offsetWidth / 2) {\n            left -= this._tooltip.offsetWidth + cursorOffset;\n          } else {\n            left += cursorOffset;\n          }\n\n          const key = Z[i];\n          const lineTitle = this._dataSetConfigs[key] && this._dataSetConfigs[key].title ? this._dataSetConfigs[key].title + ': ' : '';\n          this._tooltip.innerHTML = `${timeString}<br/>${lineTitle}${T[i]}`;\n          this._tooltip.style.left = left + 'px';\n          this._tooltip.style.top = top + 'px';\n        }\n        d3.select(this._element).select('svg').property('value', O[i]).dispatch('input', {bubbles: true});\n      }\n    },\n\n    _buttonFactory(icon, classes) {\n      const button = document.createElement('button');\n      button.classList.add(...classes);\n      if (icon) {\n        const i = document.createElement('i');\n        i.classList.add(icon);\n        button.appendChild(i);\n      }\n      return button;\n    },\n\n    __updateTitle() {\n      if (this._navigationEnabled) {\n        let title = this.getHeader('label.title span');\n        if (title) {\n          let chartTitle = this._titleString || '';\n          title.textContent = (chartTitle ? chartTitle + ' - ' : '') + this._shownDateRange();\n        }\n      }\n    },\n\n    /**\n     * Converts series to a shot string that is shown in a select box\n     * @param series\n     * @private\n     */\n    _seriesToShort(series) {\n      switch (series) {\n        case 'hour':\n          return qx.locale.Manager.tr('Hour');\n\n        case 'day':\n          return qx.locale.Manager.tr('Day');\n\n        case 'week':\n          return qx.locale.Manager.tr('Week');\n\n        case 'month':\n          return qx.locale.Manager.tr('Month');\n\n        case 'year':\n          return qx.locale.Manager.tr('Year');\n      }\n      return '';\n    },\n\n    /**\n     * Convert the currently shown date range into a human-readable string\n     * @private\n     */\n    _shownDateRange() {\n      const series = this.getCurrentSeries();\n      const currentPeriod = this.getCurrentPeriod();\n      const date = new Date();\n      let format = new qx.util.format.DateFormat();\n      switch (series) {\n        case 'hour':\n          date.setHours(date.getHours() - currentPeriod, 0, 0);\n          format = new qx.util.format.DateFormat(qx.locale.Date.getDateTimeFormat('hmm', 'h:mm'));\n          return format.format(date);\n\n        case 'day':\n          if (currentPeriod === 0) {\n            return qx.locale.Manager.tr('today');\n          } else if (currentPeriod === 1) {\n            return qx.locale.Manager.tr('yesterday');\n          }\n          date.setDate(date.getDate() - currentPeriod);\n          format = new qx.util.format.DateFormat(qx.locale.Date.getDateTimeFormat('MMMd', 'd. MMM'));\n          return format.format(date);\n\n        case 'week':\n          date.setDate(date.getDate() - currentPeriod*7);\n          return qx.locale.Manager.trc('CW = calendar week', 'CW %1', this.getWeekNumber(date));\n\n        case 'month':\n          date.setMonth(date.getMonth() - currentPeriod);\n          if (date.getFullYear() === new Date().getFullYear()) {\n            // no year needed\n            format = new qx.util.format.DateFormat(qx.locale.Date.getDateTimeFormat('MMM', 'MMM'));\n          } else {\n            format = new qx.util.format.DateFormat(qx.locale.Date.getDateTimeFormat('yyMMM', 'MMM yy'));\n          }\n          return format.format(date);\n\n        case 'year':\n          return date.getFullYear() - currentPeriod;\n      }\n      return '';\n    },\n\n   getWeekNumber(d) {\n      d = new Date(d.getFullYear(), d.getMonth(), d.getDate());\n      // Set to the nearest Thursday: current date + 4 - current day number\n      d.setDate(d.getDate() + 4 - (d.getDay() || 7));\n      // Get first day of year\n      const yearStart = new Date(d.getFullYear(), 0, 1);\n      // Calculate full weeks to the nearest Thursday\n      return Math.ceil((((d - yearStart) / 86400000) + 1) / 7);\n    },\n\n    /**\n     * add opacity to color\n     * @param color\n     * @param opacity {string} hex number 0 - 255\n     * @return {string|*}\n     * @private\n     */\n    __opacifyColor(color, opacity) {\n      if (color.startsWith('rgb(')) {\n        return 'rgba(' + color.substring(4, color.length-1) + ', ' + (parseInt(opacity, 16) / 255).toFixed(2) + ')';\n      } else if (color.startsWith('#') && color.length === 7) {\n        return color + opacity;\n      }\n      return color;\n    }\n  },\n\n  /*\n  ***********************************************\n    DESTRUCTOR\n  ***********************************************\n  */\n  destruct() {\n    this._chartConf = null;\n    this._helpers = null;\n  },\n\n  defer(QxClass) {\n    customElements.define(\n      cv.ui.structure.tile.Controller.PREFIX + 'chart',\n      class extends QxConnector {\n        constructor() {\n          super(QxClass);\n        }\n      }\n    );\n  }\n});\n","/* Color.js\n *\n * copyright (c) 2010-2022, Christian Mayer and the CometVisu contributers.\n *\n * This program is free software; you can redistribute it and/or modify it\n * under the terms of the GNU General Public License as published by the Free\n * Software Foundation; either version 3 of the License, or (at your option)\n * any later version.\n *\n * This program is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for\n * more details.\n *\n * You should have received a copy of the GNU General Public License along\n * with this program; if not, write to the Free Software Foundation, Inc.,\n * 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA\n */\n\n/**\n * Shows a html color input\n * @author Tobias BrÃ¤utigam\n * @since 2022\n */\nqx.Class.define('cv.ui.structure.tile.components.Color', {\n  extend: cv.ui.structure.tile.components.AbstractComponent,\n  include: cv.ui.structure.tile.MResize,\n\n  /*\n  ***********************************************\n    PROPERTIES\n  ***********************************************\n  */\n  properties: {\n    throttleInterval: {\n      check: 'Number',\n      init: 250,\n      apply: '_applyThrottleInterval'\n    }\n  },\n\n  /*\n  ***********************************************\n    STATICS\n  ***********************************************\n  */\n  statics: {\n    CC_COUNTER: 0\n  },\n\n  /*\n  ***********************************************\n    MEMBERS\n  ***********************************************\n  */\n  members: {\n    __colorChooser: null,\n\n    _init() {\n      const element = this._element;\n      if (element.hasAttribute('throttle-interval')) {\n        this.setThrottleInterval(parseInt(element.getAttribute('throttle-interval')));\n      }\n\n      // init components\n      const mode = element.hasAttribute('mode') ? element.getAttribute('mode') : 'popup';\n      if (mode === 'popup') {\n        let popup = element.querySelector(':scope > cv-popup');\n        if (!popup) {\n          popup = document.createElement('cv-popup');\n          popup.setAttribute('modal', 'true');\n          if (element.hasAttribute('title')) {\n            popup.setAttribute('title', element.getAttribute('title'));\n          }\n          const addresses = {};\n          for (const elem of element.querySelectorAll(':scope > cv-address')) {\n            let src = elem.textContent;\n            let transform = elem.getAttribute('transform');\n            let mode = 1 | 2; // Bit 0 = read, Bit 1 = write  => 1|2 = 3 = readwrite\n            switch (elem.getAttribute('mode')) {\n              case 'disable':\n                mode = 0;\n                break;\n              case 'read':\n                mode = 1;\n                break;\n              case 'write':\n                mode = 2;\n                break;\n              case 'readwrite':\n                mode = 1 | 2;\n                break;\n            }\n            let variantInfo = cv.parser.pure.widgets.ColorChooser.makeAddressListFn(src, transform, mode, elem.getAttribute('variant'));\n            addresses[src.trim()] = {\n              transform: transform,\n              mode: mode,\n              variantInfo: variantInfo[1]\n            };\n          }\n          cv.ui.structure.tile.components.Color.CC_COUNTER++;\n          const path = 'id_0_'+cv.ui.structure.tile.components.Color.CC_COUNTER;\n          const props = {\n            path: path,\n            $$type: 'colorchooser',\n            classes: 'widget colorchooser',\n            layout: {\n              colspan: 1\n            },\n            controls: element.hasAttribute('controls') ? element.getAttribute('controls') : 'triangle',\n            address: addresses,\n            throttleInterval: this.getThrottleInterval()\n          };\n          cv.parser.pure.widgets.ColorChooser.parseAttributes(element, props);\n          this.__colorChooser = new cv.ui.structure.pure.ColorChooser(props);\n          this.__colorChooser.addListener('colorChanged', this._onColorChanged, this);\n          this._onColorChanged();\n          popup.innerHTML = `<div class=\"widget_container\" style=\"margin-top: 24px; max-width: 100vw; width: 320px; max-height: 100vh; min-height: 320px; align-self: center\" id=\"${path}\" data-type=\"colorchooser\">${this.__colorChooser.getDomString()}</div>`;\n          element.appendChild(popup);\n          element.addEventListener('click', ev => {\n            const path = ev.path || (ev.composedPath && ev.composedPath());\n            if (path && path.indexOf(popup) < 0) {\n              popup.getInstance().open();\n            }\n          });\n          qx.event.Timer.once(() => {\n            this.__colorChooser._onDomReady();\n          }, this, 0);\n\n          this.setResizeTarget(popup);\n          this.addListener('resized', () => {\n            this.__colorChooser.invalidateScreensize();\n          });\n        }\n      }\n    },\n\n    _onColorChanged() {\n      const color = this.__colorChooser.getColor();\n      const rgb = color.getComponent('rgb');\n      const v = color.getComponent('v');\n      this.setValue(\n        `#${this.__convertToHex(rgb.r)}${this.__convertToHex(rgb.g)}${this.__convertToHex(rgb.b)}${this.__convertToHex(v)}`\n      );\n    },\n\n    __convertToHex(v) {\n      return Math.round(v * 255)\n        .toString(16)\n        .padStart(2, '0');\n    },\n\n    _updateValue(mappedValue, value) {\n      let target = this._element.querySelector(':scope > .value');\n      const rgb = mappedValue.substring(0, 7);\n      if (target) {\n        const tagName = target.tagName.toLowerCase();\n        const alpha = mappedValue.length === 9 ? parseInt(mappedValue.substring(7, 9), 16) / 255 : 1.0;\n\n        switch (tagName) {\n          case 'cv-icon':\n            target.style.color = rgb;\n            target.style.opacity = Math.max(alpha, 0.2); // do not blend it out totally\n            break;\n        }\n      } else {\n        // only if we do not have another value handler\n        this._element.style.backgroundColor = mappedValue;\n      }\n    }\n  },\n\n  /*\n  ***********************************************\n    DESTRUCTOR\n  ***********************************************\n  */\n  destruct: function () {\n    this._disposeObjects('__colorChooser');\n  },\n\n  defer(QxClass) {\n    customElements.define(\n      cv.ui.structure.tile.Controller.PREFIX + 'color',\n      class extends QxConnector {\n        constructor() {\n          super(QxClass);\n        }\n      }\n    );\n  }\n});\n","/* Icon.js\n *\n * copyright (c) 2010-2022, Christian Mayer and the CometVisu contributers.\n *\n * This program is free software; you can redistribute it and/or modify it\n * under the terms of the GNU General Public License as published by the Free\n * Software Foundation; either version 3 of the License, or (at your option)\n * any later version.\n *\n * This program is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for\n * more details.\n *\n * You should have received a copy of the GNU General Public License along\n * with this program; if not, write to the Free Software Foundation, Inc.,\n * 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA\n */\n\n/**\n *\n */\nqx.Class.define('cv.ui.structure.tile.components.Icon', {\n  extend: cv.ui.structure.tile.components.AbstractComponent,\n\n  /*\n  ***********************************************\n    CONSTRUCTOR\n  ***********************************************\n  */\n  construct(element) {\n    super(element);\n    this._idRegex = /^[^\\s]+$/;\n  },\n\n  /*\n  ***********************************************\n    PROPERTIES\n  ***********************************************\n  */\n  properties: {\n    id: {\n      check: 'String',\n      nullable: true,\n      apply: '_applyId',\n      // the id is used as 'class' property and therefore must not have spaces\n      transform: '_transformId'\n    },\n\n    color: {\n      check: 'String',\n      nullable: true,\n      apply: '_applyColor'\n    }\n  },\n\n  /*\n  ***********************************************\n    MEMBERS\n  ***********************************************\n  */\n  members: {\n    __initialized: false,\n    _idRegex: null,\n\n    _transformId(value) {\n      if (this._idRegex.test(value)) {\n        return value;\n      }\n      this.error('invalid icon id:', value);\n      return null;\n    },\n\n    _init() {\n      super._init();\n      const element = this._element;\n      if (element.textContent.trim()) {\n        this.__initialized = true;\n        this.setId(element.textContent.trim());\n      } else {\n        const it = element.classList.values();\n        for (let name of it) {\n          if (name.startsWith('ri-') || name.startsWith('knxuf-')) {\n            this.setId(name);\n            break;\n          }\n        }\n      }\n      this.__initialized = true;\n    },\n\n    _applyId(value, oldValue) {\n      const element = this._element;\n      if (this.__initialized) {\n        if (oldValue) {\n          element.classList.remove(oldValue);\n        }\n        if (value) {\n          // default is an icon font that uses CSS classes\n          element.classList.add(value);\n          if (element.textContent) {\n            element.textContent = '';\n          }\n        }\n      }\n    },\n\n    _applyColor(value, oldValue) {\n      const element = this._element;\n      if (oldValue) {\n        element.classList.remove(oldValue);\n      }\n      if (value) {\n        if (value.startsWith('#') || value.startsWith('rgb')) {\n          element.style.color = value;\n        } else {\n          element.classList.add(value);\n        }\n      }\n    }\n  },\n\n  defer(Clazz) {\n    customElements.define(\n      cv.ui.structure.tile.Controller.PREFIX + 'icon',\n      class extends QxConnector {\n        constructor() {\n          super(Clazz);\n        }\n\n        static get observedAttributes() {\n          return ['color'];\n        }\n      }\n    );\n  }\n});\n","/* Image.js\n *\n * copyright (c) 2010-2022, Christian Mayer and the CometVisu contributers.\n *\n * This program is free software; you can redistribute it and/or modify it\n * under the terms of the GNU General Public License as published by the Free\n * Software Foundation; either version 3 of the License, or (at your option)\n * any later version.\n *\n * This program is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for\n * more details.\n *\n * You should have received a copy of the GNU General Public License along\n * with this program; if not, write to the Free Software Foundation, Inc.,\n * 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA\n */\n\n/**\n * Shows an image.\n *\n * HINT: Proxy mode needs an PHP environment with php-curl installed.\n */\nqx.Class.define('cv.ui.structure.tile.components.Image', {\n  extend: cv.ui.structure.tile.components.AbstractComponent,\n  include: [cv.ui.structure.tile.MVisibility, cv.ui.structure.tile.MRefresh],\n\n  /*\n  ***********************************************\n    MEMBERS\n  ***********************************************\n  */\n  members: {\n    _downloadedImage: null,\n    _url: null,\n    _headers: null,\n    _request: null,\n\n    _init() {\n      const element = this._element;\n      let img = element.querySelector(':scope > img');\n      if (!img) {\n        img = document.createElement('img');\n        element.appendChild(img);\n      }\n      element.addEventListener('click', () => this.refresh());\n      let src = element.getAttribute('src');\n      let base = window.location.origin;\n      if (src.substring(0, 1) !== '/' && src.substring(0, 4) !== 'http') {\n        // relative url\n        base += window.location.pathname;\n      }\n      this._url = new URL(src, base);\n      const useProxy = element.hasAttribute('proxy') && element.getAttribute('proxy') === 'true';\n      if (useProxy) {\n        this._url = new URL(cv.io.rest.Client.getBaseUrl() + '/proxy', window.location.origin);\n\n        this._url.searchParams.set('url', element.getAttribute('src'));\n      }\n      this._headers = {};\n      if (element.hasAttribute('auth-type')) {\n        if (useProxy) {\n          this._url.searchParams.set('auth-type', element.getAttribute('auth-type').toLowerCase());\n        } else {\n          switch (element.getAttribute('auth-type').toLowerCase()) {\n            case 'basic':\n              this._headers['Authorization'] = 'Basic ' + window.btoa(element.getAttribute('username') + ':' + element.getAttribute('password'));\n              break;\n\n            case 'bearer':\n              this._headers['Authorization'] = 'Bearer ' + element.getAttribute('username');\n              break;\n\n            default:\n              this.error('unknown authorization type' +  element.getAttribute('auth-type'));\n              break;\n          }\n        }\n      }\n      this._loadImage();\n      if (element.hasAttribute('refresh')) {\n        this.setRefresh(parseInt(element.getAttribute('refresh')));\n      }\n    },\n\n    _loadImage() {\n      let img = this._element.querySelector(':scope > img');\n      if (Object.keys(this._headers).length > 0) {\n        let request = new XMLHttpRequest();\n        request.responseType = 'blob';\n        request.open('get', this._url.toString(), true);\n        Object.keys(this._headers).forEach(name => {\n          request.setRequestHeader(name, this._headers[name]);\n        });\n        request.onreadystatechange = e => {\n          if (request.readyState === XMLHttpRequest.DONE && request.status === 200) {\n            img.src = URL.createObjectURL(request.response);\n            img.onload = () => {\n              URL.revokeObjectURL(img.src);\n            };\n          }\n        };\n        request.send(null);\n      } else {\n        img.src = this._url.toString();\n      }\n    },\n\n    refresh() {\n      let img = this._element.querySelector(':scope > img');\n      if (img) {\n        this._url.searchParams.set('r', '' + Math.random());\n        this._loadImage();\n      }\n    },\n\n    /**\n     * Handles the incoming data from the backend for this widget\n     *\n     * @param ev {CustomEvent} stateUpdate event fired from a cv-address component\n     */\n    onStateUpdate(ev) {\n      if (!super.onStateUpdate(ev)) {\n        if (ev.detail.target === 'refresh') {\n          if (ev.detail.state) {\n            this.refresh();\n          }\n        } else {\n          this.debug('unhandled address target', ev.detail.target);\n        }\n      }\n    }\n  },\n\n  defer(QxClass) {\n    customElements.define(\n      cv.ui.structure.tile.Controller.PREFIX + 'image',\n      class extends QxConnector {\n        constructor() {\n          super(QxClass);\n        }\n      }\n    );\n  }\n});\n","/* List.js\n *\n * copyright (c) 2010-2022, Christian Mayer and the CometVisu contributers.\n *\n * This program is free software; you can redistribute it and/or modify it\n * under the terms of the GNU General Public License as published by the Free\n * Software Foundation; either version 3 of the License, or (at your option)\n * any later version.\n *\n * This program is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for\n * more details.\n *\n * You should have received a copy of the GNU General Public License along\n * with this program; if not, write to the Free Software Foundation, Inc.,\n * 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA\n */\n\n/**\n * Generates a list of items. A &lt;template&gt;-element defines the content of the list-items and a model is used to\n * generate those items and apply the models content to the list-items.\n * It allows custom Javascript code in a &lt;script&gt;-Element to fill the model or address-Elements as model source.\n * The model can be refreshed in a time defined interval, which is set by the 'refresh' attribute.\n *\n * @widgetexample <settings>\n *    <caption>Example list</caption>\n *    <screenshot name=\"list_simple\"/>\n *  </settings>\n    <cv-list refresh=\"10\">\n      <model>\n        <script><![CDATA[\n         for (let i = 0; i < Math.round(Math.random()*10); i++) {\n           model.push({\n             label: 'This is list item no ' + i,\n             subLabel: 'Sublabel number ' + i\n           })\n         }\n         ]]>\n         </script>\n       </model>\n       <template>\n         <li>\n           <label class=\"primary\">${label}</label>\n           <label class=\"secondary\">${subLabel}</label>\n         </li>\n       </template>\n       <template when=\"empty\">\n         <li>\n           <label class=\"primary\">Model is empty!</label>\n         </li>\n       </template>\n   </cv-list>\n */\nqx.Class.define('cv.ui.structure.tile.components.List', {\n  extend: cv.ui.structure.tile.components.AbstractComponent,\n  include: [cv.ui.structure.tile.MVisibility, cv.ui.structure.tile.MRefresh],\n\n  /*\n  ***********************************************\n    PROPERTIES\n  ***********************************************\n  */\n  properties: {\n    value: {\n      refine: true,\n      init: []\n    }\n  },\n\n  /*\n  ***********************************************\n    MEMBERS\n  ***********************************************\n  */\n  members: {\n    _target: null,\n    _timer: null,\n    _model: null,\n    _getModel: null,\n    _filterModel: null,\n    _sortModel: null,\n    _limit: null,\n    _modelInstance: null,\n\n    _init() {\n      const element = this._element;\n      this._model = [];\n      let refreshOnUpdate = false;\n      const model = element.querySelector('model');\n      if (element.parentElement) {\n        element.parentElement.classList.add('has-list');\n      }\n      if (!model) {\n        this.error('cv-list needs a model');\n        return;\n      }\n      if (model.hasAttribute('filter')) {\n        this._filterModel = new Function('item', 'index', '\"use strict\"; return ' + model.getAttribute('filter'));\n      }\n      if (model.hasAttribute('limit')) {\n        this._limit = parseInt(model.getAttribute('limit'));\n      }\n      const readAddresses = model.querySelectorAll(':scope > cv-address:not([mode=\"write\"])');\n\n      // if we have top level write addresses, we need to listen to sendState Events from the list items\n      for (let address of element.querySelectorAll(':scope > cv-address')) {\n        if (address.getAttribute('mode') !== 'read') {\n          element.addEventListener('sendState', ev => {\n            // forward event copy (dispatching the same is not possible) to all write addresses\n            const evCopy = new CustomEvent('sendState', {\n              bubbles: ev.bubbles,\n              cancelable: ev.cancelable,\n              detail: ev.detail\n            });\n            for (let a of element.querySelectorAll(':scope > cv-address')) {\n              a.dispatchEvent(evCopy);\n            }\n          });\n          break;\n        }\n      }\n\n      if (model.hasAttribute('sort-by')) {\n        const sortBy = model.getAttribute('sort-by');\n        // reverse order in 'desc' sort mode\n        const sortModifier = model.getAttribute('sort-mode') === 'desc' ? -1 : 1;\n        this._sortModel = (left, right) => {\n          const leftVal = left[sortBy];\n          const rightVal = right[sortBy];\n          if (leftVal === rightVal) {\n            return 0;\n          } else if (typeof leftVal === typeof rightVal) {\n            switch (typeof leftVal) {\n              case 'number':\n                return (leftVal - rightVal) * sortModifier;\n\n              case 'boolean':\n                return (leftVal ? -1 : 1) * sortModifier;\n\n              case 'string':\n                return leftVal.localeCompare(rightVal) * sortModifier;\n\n              default:\n                return JSON.stringify(leftVal).localeCompare(JSON.stringify(rightVal)) * sortModifier;\n            }\n          } else if (leftVal === undefined || leftVal === null) {\n            return 1 * sortModifier;\n          } else if (rightVal === undefined || rightVal === null) {\n            return -1 * sortModifier;\n          }\n          return 0;\n        };\n      }\n      if (model.hasAttribute('src') || model.hasAttribute('config-section')) {\n        // fetch from url\n        this._getModel = async () => {\n          const options = {\n            ttl: this.getRefresh()\n          };\n          for (const proxyParam of ['self-signed', 'config-section', 'auth-type']) {\n            if (model.hasAttribute(proxyParam)) {\n              options[proxyParam] = model.getAttribute(proxyParam);\n            }\n          }\n          const res = await cv.io.Fetch.cachedFetch(model.getAttribute('src'), options, model.getAttribute('proxy') === 'true');\n          return res;\n        };\n      } else if (model.hasAttribute('class')) {\n        // initialize internal class instance that implements cv.io.listmodel.IListModel\n        const Clazz = cv.io.listmodel.Registry.get(model.getAttribute('class'));\n        if (Clazz) {\n          const modelInstance = this._modelInstance = new Clazz();\n          modelInstance.addListener('refresh', () => this.refresh());\n          if (model.hasAttribute('parameters')) {\n            const props = {};\n            for (let entry of model.getAttribute('parameters').split(',')) {\n              const [name, value] = entry.split('=').map(n => n.trim());\n              props[name] = value.startsWith('\\'') ? value.substring(1, value.length-1) : value;\n            }\n            modelInstance.set(props);\n          }\n          this._getModel = async () => {\n            await modelInstance.refresh();\n            return modelInstance.getModel();\n          };\n        } else {\n          this.error(`clazz \"cv.io.listmodel.${model.getAttribute('class')}\" not found`);\n        }\n      } else {\n        const script = model.querySelector(':scope > script');\n        const data = model.querySelectorAll(':scope > cv-data');\n        if (script) {\n          this._getModel = new Function('\"use strict\";let model = []; ' + script.innerText.trim() + '; return model');\n\n          this._model = this._getModel();\n        } else if (readAddresses.length > 0) {\n          // model has an address that triggers a refresh on update, so we just have to read the model from the updated value\n          this._getModel = this.getValue;\n          refreshOnUpdate = true;\n        } else if (data.length > 0) {\n          this._model = [];\n          this._getModel = () => this._model;\n          data.forEach((elem, i) => {\n            const d = {\n              index: i\n            };\n\n            for (const a of elem.attributes) {\n              d[a.name] = a.value;\n            }\n            this._model.push(d);\n          });\n        } else {\n          this.error(\n            'cv-list > model must have at least one read address, src-attribute, cv-data child or a script that fills the model.'\n          );\n\n          return;\n        }\n      }\n      if (readAddresses.length > 0) {\n        element.addEventListener('stateUpdate', ev => this.onStateUpdate(ev));\n      }\n      if (!refreshOnUpdate) {\n        if (this.isVisible()) {\n          // only load when visible\n          this.refresh();\n        }\n        if (element.hasAttribute('refresh')) {\n          this.setRefresh(parseInt(element.getAttribute('refresh')));\n        }\n      }\n\n      this._element.addEventListener('click', ev => {\n        let templateRoot = ev.target;\n        let data = {};\n        const collectData = elem => {\n          if (elem) {\n            for (let i = 0; i < elem.attributes.length; i++) {\n              let attrib = elem.attributes[i];\n              if (attrib.name.startsWith('data-')) {\n                data[attrib.name.substring(5)] = attrib.value;\n              }\n            }\n          }\n        };\n        collectData(templateRoot);\n        let level = 0;\n        let model = templateRoot.$$model;\n        while (templateRoot && (!model || !data.action) && level <= 5) {\n          templateRoot = templateRoot.parentElement;\n          if (templateRoot === this._element) {\n            break;\n          }\n          if (templateRoot) {\n            if (!model && templateRoot.$$model) {\n              model = templateRoot.$$model;\n            }\n            if (!data.action && templateRoot.hasAttribute('data-action')) {\n              collectData(templateRoot);\n            }\n          }\n          level++;\n        }\n\n        if (data.action && this._modelInstance && this._modelInstance.handleEvent(ev, data, model)) {\n          ev.stopPropagation();\n        }\n      });\n    },\n\n    onStateUpdate(ev) {\n      if (ev.detail.target === 'refresh') {\n        if (this.isVisible()) {\n          // only load when visible\n          this.refresh();\n        } else {\n          // reset lastRefresh to that the refresh get called when this item gets visible\n          this._lastRefresh = null;\n        }\n      } else {\n        super.onStateUpdate(ev);\n      }\n      // cancel event here\n      ev.stopPropagation();\n    },\n\n    _applyValue() {\n      // reset last refresh, because with new data its obsolete\n      this._lastRefresh = 0;\n      this.refresh();\n    },\n\n    async refresh() {\n      const element = this._element;\n      const template = element.querySelector(':scope > template:not([when])');\n      let newModel = [];\n      if (typeof this._getModel === 'function') {\n        newModel = this._getModel();\n      }\n      if (newModel instanceof Promise) {\n        try {\n          newModel = await newModel;\n        } catch (e) {\n          this.error('error refreshing async model:', e);\n        }\n      }\n      let target = element.querySelector(':scope > ul');\n      if (template.getAttribute('wrap') === 'false') {\n        target = element;\n      } else if (template.hasAttribute('target')) {\n        switch (template.getAttribute('target')) {\n          case 'parent':\n            target = element.parentElement;\n            // we do not need the list to be visible then\n            element.style.display = 'none';\n            break;\n          default:\n            throw new Error('invalid target: ' + template.getAttribute('target'));\n        }\n      } else if (!target) {\n        target = document.createElement('ul');\n        target.classList.add('content');\n        element.appendChild(target);\n      }\n      this.debug('refreshing with new model length', newModel.length);\n      if (Array.isArray(newModel) || newModel instanceof qx.data.Array) {\n        if (typeof this._filterModel === 'function') {\n          newModel = newModel.filter(this._filterModel);\n        }\n        if (typeof this._sortModel === 'function') {\n          newModel.sort(this._sortModel);\n        }\n        if (this._limit) {\n          newModel = newModel.slice(0, this._limit);\n        }\n        if (newModel.length === 0) {\n          const whenEmptyTemplate = element.querySelector(':scope > template[when=\"empty\"]');\n\n          // remove old entries\n          while (target.firstElementChild && target.firstElementChild.hasAttribute('data-row')) {\n            target.removeChild(target.firstElementChild);\n          }\n\n          if (whenEmptyTemplate && !target.querySelector(':scope > .empty-model')) {\n            const emptyModel = whenEmptyTemplate.content.firstElementChild.cloneNode(true);\n            emptyModel.classList.add('empty-model');\n            target.appendChild(emptyModel);\n            return;\n          }\n        } else {\n          const emptyElem = target.querySelector(':scope > .empty-model');\n          if (emptyElem) {\n            emptyElem.remove();\n          }\n\n          let child;\n          for (let i = target.children.length-1; i >=0; i--) {\n            child = target.children[i];\n            if (child.hasAttribute('data-row') && parseInt(child.getAttribute('data-row')) >= newModel.length) {\n              target.removeChild(child);\n            }\n          }\n        }\n        const itemTemplate = document.createElement('template');\n        // remove entries we do not need anymore\n        for (let i = newModel.length; i < this._model.length; i++) {\n          const elem = target.querySelector(`:scope > [data-row=\"${i}\"]`);\n          if (elem) {\n            elem.remove();\n          }\n        }\n\n        const getValue = (name, entry) => {\n          let index = -1;\n          if (name.endsWith(']')) {\n            // array access\n            index = parseInt(name.substring(name.indexOf('[') + 1, name.length - 1));\n            if (isNaN(index)) {\n              this.error(\n                'error parsing array index from ' + name,\n                name.substring(name.indexOf('[') + 1, name.length - 1)\n              );\n              return '';\n            }\n            name = name.substring(0, name.indexOf('['));\n          }\n          if (Object.prototype.hasOwnProperty.call(entry, name)) {\n            let val = entry[name];\n            if (index >= 0 && Array.isArray(val)) {\n              return val[index];\n            }\n            return val;\n          }\n          return '';\n        };\n        newModel.forEach((entry, i) => {\n          let elem = target.querySelector(`:scope > [data-row=\"${i}\"]`);\n          const html = template.innerHTML.replaceAll(/\\${([^}]+)}/g, (match, content) => {\n            if (content === 'index') {\n              return '' + i;\n            }\n            if (content.includes('||')) {\n              // elements are or'ed use the first one with value\n              let val = '';\n              for (let name of content.split('||').map(n => n.trim())) {\n                val = getValue(name, entry);\n                if (val) {\n                  return val;\n                }\n              }\n            }\n            return getValue(content, entry);\n          });\n\n          itemTemplate.innerHTML = html;\n          // check for elements with when attributes\n          itemTemplate.content.firstElementChild.querySelectorAll('[when]').forEach(elem => {\n            const [leftVal, rightVal] = elem\n              .getAttribute('when')\n              .split('=')\n              .map(n => n.trim());\n            // noinspection EqualityComparisonWithCoercionJS\n            if (leftVal != rightVal) {\n              elem.parentElement.removeChild(elem);\n            } else {\n              elem.removeAttribute('when');\n            }\n          });\n          if (elem) {\n            // update existing\n            elem.innerHTML = itemTemplate.content.firstElementChild.innerHTML;\n            elem.setAttribute('data-row', '' + i);\n            this._initElement(elem, entry);\n          } else {\n            // append new child\n            itemTemplate.content.firstElementChild.setAttribute('data-row', '' + i);\n            elem = itemTemplate.content.cloneNode(true);\n            this._initElement(elem.firstElementChild, entry);\n            target.appendChild(elem);\n          }\n        });\n        this._model = newModel;\n      } else {\n        this.error('model must be an array', newModel);\n      }\n    },\n\n    _initElement(elem, entry) {\n      elem.$$model = entry;\n    }\n  },\n\n  /*\n  ***********************************************\n    DESTRUCTOR\n  ***********************************************\n  */\n  destruct() {\n    this._disposeObjects('_modelInstance', '_timer');\n    this._model = null;\n    this._filterModel = null;\n    this._sortModel = null;\n    this._target = null;\n  },\n\n  defer(QxClass) {\n    customElements.define(\n      cv.ui.structure.tile.Controller.PREFIX + 'list',\n      class extends QxConnector {\n        constructor() {\n          super(QxClass);\n        }\n      }\n    );\n  }\n});\n","/* ListItem.js\n *\n * copyright (c) 2010-2022, Christian Mayer and the CometVisu contributers.\n *\n * This program is free software; you can redistribute it and/or modify it\n * under the terms of the GNU General Public License as published by the Free\n * Software Foundation; either version 3 of the License, or (at your option)\n * any later version.\n *\n * This program is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for\n * more details.\n *\n * You should have received a copy of the GNU General Public License along\n * with this program; if not, write to the Free Software Foundation, Inc.,\n * 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA\n */\n\n/**\n * Shows an item in a list.\n */\nqx.Class.define('cv.ui.structure.tile.components.ListItem', {\n  extend: cv.ui.structure.tile.components.AbstractComponent,\n\n  /*\n  ***********************************************\n    MEMBERS\n  ***********************************************\n  */\n  members: {\n    _init() {\n      super._init();\n      // install fireEvent function\n      this._element.fireEvent = (name, value) => {\n        const ev = new CustomEvent(name, {\n          bubbles: true,\n          cancelable: true,\n          detail: {\n            value: value,\n            source: this\n          }\n        });\n        this._element.dispatchEvent(ev);\n      };\n    }\n  },\n\n  defer(QxClass) {\n    customElements.define(\n      cv.ui.structure.tile.Controller.PREFIX + 'listitem',\n      class extends QxConnector {\n        constructor() {\n          super(QxClass);\n        }\n      }\n    );\n  }\n});\n","/* Menu.js\n *\n * copyright (c) 2010-2022, Christian Mayer and the CometVisu contributers.\n *\n * This program is free software; you can redistribute it and/or modify it\n * under the terms of the GNU General Public License as published by the Free\n * Software Foundation; either version 3 of the License, or (at your option)\n * any later version.\n *\n * This program is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for\n * more details.\n *\n * You should have received a copy of the GNU General Public License along\n * with this program; if not, write to the Free Software Foundation, Inc.,\n * 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA\n */\n\n/**\n * Generates a menu of a model, currently only the pages model is implemented.\n *\n * @author Tobias BrÃ¤utigam\n * @since 2022\n */\nqx.Class.define('cv.ui.structure.tile.components.Menu', {\n  extend: cv.ui.structure.tile.components.AbstractComponent,\n\n  /*\n  ***********************************************\n    PROPERTIES\n  ***********************************************\n  */\n  properties: {\n    model: {\n      check: ['pages', 'menuItems'],\n      apply: '_applyModel'\n    },\n    appearance: {\n      check: ['text', 'icons', 'dock'],\n      init: 'text',\n      apply: '_applyAppearance'\n    },\n\n    depth: {\n      check: '!isNaN(value) && value >= -1 && value <= 100',\n      init: -1,\n      apply: '_applyDepth'\n    },\n\n    domReady: {\n      check: 'Boolean',\n      init: false,\n      apply: '_generateMenu'\n    },\n\n    showLabels: {\n      check: 'Boolean',\n      init: true\n    }\n  },\n\n  /*\n  ***********************************************\n    MEMBERS\n  ***********************************************\n  */\n  members: {\n    _applyAppearance(value, oldValue) {\n      const main = document.querySelector('main');\n      if (oldValue === 'dock') {\n        main.classList.remove('has-dock');\n      }\n      if (value === 'dock') {\n        main.classList.add('has-dock');\n      }\n    },\n\n    _applyDepth() {\n      if (this.isDomReady()) {\n        this._generateMenu();\n      }\n    },\n\n    _onDomAppended() {\n      this.setDomReady(true);\n      qx.event.message.Bus.unsubscribe('setup.dom.append', this._onDomAppended, this);\n    },\n\n    _applyModel(model) {\n      if (model) {\n        const rootList = document.createElement('ul');\n        this._element.appendChild(rootList);\n\n        if (model === 'pages') {\n          // add hamburger menu\n          const ham = document.createElement('a');\n          ham.href = '#';\n          ham.classList.add('menu');\n          ham.onclick = event => this._onHamburgerMenu(event);\n          const icon = document.createElement('i');\n\n          ham.appendChild(icon);\n          this._element.appendChild(ham);\n\n          qx.event.message.Bus.subscribe('setup.dom.append', this._onDomAppended, this);\n          qx.event.message.Bus.subscribe('cv.ui.structure.tile.currentPage', this._onPageChange, this);\n          qx.event.Registration.addListener(this._element, 'swipe', this._onSwipe, this);\n          icon.classList.add('ri-menu-line');\n        } else if (model === 'menuItems') {\n          // add hamburger menu\n          const icon = document.createElement('i');\n          icon.classList.add('ri-more-2-fill');\n          this._element.appendChild(icon);\n          // listen on whole element\n          this._element.onclick = event => this._onHamburgerMenu(event);\n          rootList.classList.add('context-menu');\n          this._generateMenu();\n        }\n      } else {\n        this.error('visual-model of type', model, 'is not implemented');\n      }\n    },\n\n    _init() {\n      const element = this._element;\n      const model = element.hasAttribute('model') ? element.getAttribute('model')\n        : (element.querySelectorAll(':scope > cv-menu-item').length > 0) ? 'menuItems' : null;\n      if (!model) {\n        this.error('no model defined, menu will be empty');\n        return;\n      }\n      if (element.getAttribute('show-labels') === 'false') {\n        this.setShowLabels(false);\n      }\n      this.setModel(model);\n    },\n\n    _generateMenu() {\n      switch (this.getModel()) {\n        case 'pages': {\n          const currentPage = window.location.hash.substring(1);\n          let parentElement = document.querySelector('main');\n          if (parentElement) {\n            const firstPage = document.querySelector('cv-page');\n            if (firstPage) {\n              parentElement = firstPage.parentElement;\n            }\n          }\n          const rootList = this._element.querySelector(':scope > ul');\n          if (rootList) {\n            rootList.replaceChildren();\n            this.__generatePagesModel(rootList, parentElement, currentPage, 0);\n          }\n          break;\n        }\n        case 'menuItems': {\n          const rootList = this._element.querySelector(':scope > ul');\n          if (rootList) {\n            rootList.replaceChildren();\n            for (let item of this._element.querySelectorAll(':scope > cv-menu-item')) {\n              const pageName = item.getAttribute('name') || '';\n              const pageIcon = item.getAttribute('icon') || '';\n              const li = document.createElement('li');\n              if (pageIcon) {\n                const i = document.createElement('i');\n                i.classList.add(pageIcon);\n                i.title = pageName;\n                li.appendChild(i);\n              }\n              if (this.isShowLabels()) {\n                const text = document.createTextNode(pageName);\n                li.appendChild(text);\n              }\n              li.addEventListener('click', event => {\n                item.getInstance().onClick(event);\n              });\n              rootList.appendChild(li);\n            }\n          }\n          break;\n        }\n      }\n    },\n\n    _onHamburgerMenu(event) {\n      let toggleClass = 'open';\n      if (this.getModel() === 'pages') {\n        toggleClass = 'responsive';\n        for (let detail of this._element.querySelectorAll('.details')) {\n          detail.setAttribute('open', '');\n        }\n      }\n      this._element.classList.toggle(toggleClass);\n      event.stopPropagation();\n      if (this._element.classList.contains(toggleClass)) {\n        // add some general listeners to close\n        qx.event.Registration.addListener(document, 'pointerdown', this._onPointerDown, this);\n        qx.event.Registration.addListener(document.body.querySelector(':scope > main'), 'scroll', this._closeAll, this);\n      }\n    },\n\n    /**\n     * @param ev {qx.event.type.Event}\n     * @private\n     */\n    _onPointerDown(ev) {\n      const target = ev.getTarget();\n      if (\n        target.classList.contains('menu') ||\n        (target.parentElement && target.parentElement.classList.contains('menu')) ||\n        target.nodeName.toLowerCase() === 'cv-menu' ||\n        (target.parentElement && target.parentElement.nodeName.toLowerCase() === 'cv-menu')\n      ) {\n        // clicked in hamburger menu, do nothing\n      } else if (target.tagName.toLowerCase() !== '.summary' && target.tagName.toLowerCase() !== 'p') {\n        // defer closing because it would prevent the link clicks and page selection\n        qx.event.Timer.once(this._closeAll, this, 500);\n      } else {\n        // close others\n        this._closeAll(ev.getTarget().parentElement);\n      }\n    },\n\n    _onSwipe(ev) {\n      if (ev.getDirection() === 'left') {\n        // goto next if there is one\n        const next = this._element.querySelector('li.active + li > a');\n        if (next) {\n          next.click();\n        }\n      } else {\n        const current = this._element.querySelector('li.active');\n        if (\n          current &&\n          current.previousElementSibling &&\n          current.previousElementSibling.tagName.toLowerCase() === 'li'\n        ) {\n          const prev = current.previousElementSibling.querySelector(':scope > a');\n          if (prev) {\n            prev.click();\n          }\n        }\n      }\n    },\n\n    /**\n     * Close all open sub-menus\n     * @param except {Element?} do not close this one\n     * @private\n     */\n    _closeAll(except) {\n      if (this._element.classList.contains('open')) {\n        this._element.classList.remove('open');\n      } else if (this._element.classList.contains('responsive')) {\n        this._element.classList.remove('responsive');\n      } else {\n        for (let detail of this._element.querySelectorAll('.details[open]')) {\n          if (!except || detail !== except) {\n            detail.removeAttribute('open');\n          }\n        }\n      }\n      if (this._element.querySelectorAll('.details[open]').length === 0) {\n        qx.event.Registration.removeListener(document, 'pointerdown', this._onPointerDown, this);\n        qx.event.Registration.removeListener(document.body.querySelector(':scope > main'), 'scroll', this._closeAll, this);\n      }\n    },\n\n    _openDetail(item) {\n      const first = this._element.querySelectorAll('.details[open]').length === 0;\n      item.setAttribute('open', '');\n      if (first) {\n        qx.event.Registration.addListener(document, 'pointerdown', this._onPointerDown, this);\n        qx.event.Registration.addListener(document.body.querySelector(':scope > main'), 'scroll', this._closeAll, this);\n      }\n    },\n\n    _closeDetail(item) {\n      item.removeAttribute('open');\n      if (this._element.querySelectorAll('.details[open]').length === 0) {\n        // remove listeners\n        qx.event.Registration.removeListener(document, 'pointerdown', this._onPointerDown, this);\n        qx.event.Registration.removeListener(document.body.querySelector(':scope > main'), 'scroll', this._closeAll, this);\n      }\n    },\n\n    __generatePagesModel(parentList, parentElement, currentPage, currentLevel) {\n      if (!parentElement) {\n        return;\n      }\n      let pages = parentElement.querySelectorAll(':scope > cv-page:not([menu=\"false\"])');\n\n      for (let page of pages.values()) {\n        const pageId = page.getAttribute('id');\n        if (!pageId) {\n          this.error('page has no id, skipping');\n          continue;\n        }\n        const pageName = page.getAttribute('name') || '';\n        const pageIcon = page.getAttribute('icon') || '';\n        const li = document.createElement('li');\n        const a = document.createElement('a');\n        a.setAttribute('href', '#' + pageId);\n        a.setAttribute('data-page-id', pageId);\n        if (pageIcon) {\n          const i = document.createElement('i');\n          i.classList.add(pageIcon);\n          i.title = pageName;\n          a.appendChild(i);\n        }\n        if (this.isShowLabels() || currentLevel > 0) {\n          const text = document.createTextNode(pageName);\n          a.appendChild(text);\n        }\n        if (currentPage === pageId) {\n          li.classList.add('active');\n        }\n        parentList.appendChild(li);\n        const depth = this.getDepth();\n        if (\n          (depth < 0 || depth > currentLevel) &&\n          page.querySelectorAll(':scope > cv-page:not([menu=\"false\"])').length > 0\n        ) {\n          const details = document.createElement('div');\n          details.classList.add('details');\n          const summary = document.createElement('div');\n          summary.classList.add('summary');\n          a.setAttribute('href', '#');\n\n          a.addEventListener('click', ev => {\n            cv.Application.structureController.scrollToPage(pageId);\n            ev.stopPropagation();\n            ev.preventDefault();\n          });\n\n          const pageIcon = page.getAttribute('icon') || '';\n          if (page.querySelector(':scope > *:not(cv-page)')) {\n            // only add this as link, when this page has real content\n            summary.appendChild(a);\n          } else {\n            const p = document.createElement('p');\n            if (pageIcon) {\n              const i = document.createElement('i');\n              i.classList.add(pageIcon);\n              i.title = pageName;\n              p.appendChild(i);\n            }\n            if (this.isShowLabels()) {\n              p.appendChild(document.createTextNode(pageName));\n            }\n            summary.appendChild(p);\n          }\n          const expander = document.createElement('i');\n          expander.classList.add('expander');\n          expander.classList.add('ri-arrow-down-s-line');\n          summary.appendChild(expander);\n          expander.addEventListener('click', ev => {\n            if (details.hasAttribute('open')) {\n              this._closeDetail(details);\n            } else {\n              this._openDetail(details);\n            }\n          });\n\n          details.appendChild(summary);\n          const subList = document.createElement('ul');\n          details.appendChild(subList);\n          this.__generatePagesModel(subList, page, currentPage, currentLevel+1);\n          li.appendChild(details);\n        } else {\n          li.appendChild(a);\n        }\n      }\n    },\n\n    _onPageChange(ev) {\n      const pageElement = ev.getData();\n      // unset all currently active\n      for (let link of this._element.querySelectorAll('li.active, li.sub-active')) {\n        link.classList.remove('active');\n        link.classList.remove('sub-active');\n      }\n      // find link to current page\n      for (let link of this._element.querySelectorAll(`a[data-page-id=\"${pageElement.id}\"]`)) {\n        // activate all parents\n        let parent = link.parentElement;\n        let activeName = 'active';\n        while (parent && parent.tagName.toLowerCase() !== 'cv-menu') {\n          if (parent.tagName.toLowerCase() === 'li') {\n            parent.classList.add(activeName);\n            // all other parents have a sub-menu active\n            activeName = 'sub-active';\n          }\n          parent = parent.parentElement;\n        }\n      }\n    }\n  },\n\n  /*\n  ***********************************************\n    DESTRUCTOR\n  ***********************************************\n  */\n  destruct() {\n    qx.event.Registration.removeListener(document, 'pointerdown', this._onPointerDown, this);\n\n    qx.event.message.Bus.unsubscribe('cv.ui.structure.tile.currentPage', this._onPageChange, this);\n  },\n\n  defer(QxClass) {\n    customElements.define(\n      cv.ui.structure.tile.Controller.PREFIX + 'menu',\n      class extends QxConnector {\n        constructor() {\n          super(QxClass);\n        }\n        static get observedAttributes() {\n          return ['appearance', 'depth'];\n        }\n      }\n    );\n  }\n});\n","/* ListItem.js\n *\n * copyright (c) 2010-2022, Christian Mayer and the CometVisu contributers.\n *\n * This program is free software; you can redistribute it and/or modify it\n * under the terms of the GNU General Public License as published by the Free\n * Software Foundation; either version 3 of the License, or (at your option)\n * any later version.\n *\n * This program is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for\n * more details.\n *\n * You should have received a copy of the GNU General Public License along\n * with this program; if not, write to the Free Software Foundation, Inc.,\n * 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA\n */\n\n/**\n * Represents an action that should be executed when the related menu item has been clicked.\n */\nqx.Class.define('cv.ui.structure.tile.components.MenuAction', {\n  extend: cv.ui.structure.tile.components.AbstractComponent,\n\n  /*\n  ***********************************************\n    MEMBERS\n  ***********************************************\n  */\n  members: {\n    _currentState: null,\n\n    _init() {\n      super._init();\n      const action = this._element.getAttribute('action');\n      switch (action) {\n        case 'toggleState': {\n          let hasAddress = false;\n          for (let address of this._element.querySelectorAll(':scope > cv-address')) {\n            hasAddress = true;\n            if (address.getAttribute('mode') !== 'write') {\n              this._element.addEventListener('stateUpdate', ev => {\n                this.onStateUpdate(ev);\n                // cancel event here\n                ev.stopPropagation();\n              });\n            }\n          }\n          if (!hasAddress) {\n            this.error('a cv-menu-item with action \"toggleState\" needs at least one cv-address to read the write the state,');\n          }\n          break;\n        }\n        case 'popup':\n          if (!this._element.querySelector(':scope > cv-popup')) {\n            this.error('a cv-menu-item with action \"popup\" must have a cv-popup as child.');\n          }\n          break;\n      }\n    },\n\n    onClick(event) {\n      switch (this._element.getAttribute('action')) {\n        case 'popup': {\n          const popup = this._element.querySelector(':scope > cv-popup');\n          if (popup) {\n            popup.getInstance().open();\n          }\n          event.stopPropagation();\n          break;\n        }\n        case 'toggleState': {\n          const ev = new CustomEvent('sendState', {\n            detail: {\n              value: !this._currentState,\n              source: this\n            }\n          });\n          for (let address of this._element.querySelectorAll(':scope > cv-address')) {\n            if (address.getAttribute('mode') !== 'read') {\n              address.dispatchEvent(ev);\n            }\n          }\n          event.stopPropagation();\n          break;\n        }\n      }\n    },\n\n    /**\n     * Handles the incoming data from the backend for this widget\n     *\n     * @param ev {CustomEvent} stateUpdate event fired from an cv-address component\n     */\n    onStateUpdate(ev) {\n      // using == comparisons to make sure that e.g. 1 equals \"1\"\n      // noinspection EqualityComparisonWithCoercionJS\n      let value = ev.detail.state == '1';\n      if (ev.detail.source instanceof cv.ui.structure.tile.elements.Address) {\n        const addressElement = ev.detail.source.getElement();\n        if (addressElement.hasAttribute('value')) {\n          // noinspection EqualityComparisonWithCoercionJS\n          value = ev.detail.state == addressElement.getAttribute('value');\n        }\n      }\n      this._currentState = value;\n    }\n  },\n\n  defer(QxClass) {\n    customElements.define(\n      cv.ui.structure.tile.Controller.PREFIX + 'menu-item',\n      class extends QxConnector {\n        constructor() {\n          super(QxClass);\n        }\n      }\n    );\n  }\n});\n","/**\n * Wrapper for plugins\n */\nqx.Class.define('cv.ui.structure.tile.components.Plugin', {\n  extend: cv.ui.structure.tile.elements.AbstractCustomElement,\n\n  /*\n  ***********************************************\n    STATICS\n  ***********************************************\n  */\n  statics: {\n   PL_COUNTER: 0\n  },\n\n  /*\n  ***********************************************\n    MEMBERS\n  ***********************************************\n  */\n  members: {\n    __widget: null,\n\n    async _init() {\n      super._init();\n      // load plugin\n      let name = '';\n      if (this._element.hasAttribute('name')) {\n        name = this._element.getAttribute('name');\n      } else {\n        name = this._element.firstElementChild.nodeName.toLowerCase();\n      }\n      if (name) {\n        const pluginName = 'plugin-' + name;\n        const part = await this.loadPluginPart(pluginName);\n        if (part) {\n          // find the main class file in the package\n          let Clazz = null;\n          for (let baseName in cv.plugins) {\n            if (baseName.toLowerCase() === name) {\n              Clazz = cv.plugins[baseName];\n              break;\n            }\n          }\n          if (Clazz) {\n            cv.ui.structure.tile.components.Plugin.PL_COUNTER++;\n            const id = 'id_9_' + cv.ui.structure.tile.components.Plugin.PL_COUNTER;\n            // must be converted to real XML document, otherwise attributes cannot be accessed\n            const parser = new DOMParser();\n            const doc = parser.parseFromString(this._element.innerHTML, 'application/xml');\n            const props = Clazz.parse(doc.firstElementChild, id, '', 'text');\n            cv.TemplateEngine.getInstance().setDomFinished(false);\n            this.__widget = new Clazz(props);\n            this._element.innerHTML = `<div class=\"widget_container\" id=\"${id}\" data-type=\"${props.$$type}\">${this.__widget.getDomString()}</div>`;\n            const scriptLoader = cv.util.ScriptLoader.getInstance();\n            window.requestAnimationFrame(() => {\n              if (!scriptLoader.isFinished()) {\n                // wait until plugin dependencies have been loaded\n                scriptLoader.addListenerOnce('finished', () => {\n                  cv.TemplateEngine.getInstance().setDomFinished(true);\n                });\n              } else {\n                cv.TemplateEngine.getInstance().setDomFinished(true);\n              }\n            });\n          } else {\n            this.error('no main plugin class found for ' + pluginName);\n          }\n        }\n      } else {\n        this.error('no plugin name provided!');\n      }\n    },\n\n    async loadPluginPart(pluginName) {\n      const part = qx.Part.getInstance().getParts()[pluginName];\n      if (part) {\n        return new Promise(resolve => {\n          part.load(() => resolve(part), this);\n        });\n      }\n      this.error('plugin', pluginName, 'does not exist');\n      return Promise.resolve(null);\n    }\n  },\n\n  defer(QxClass) {\n    customElements.define(\n      cv.ui.structure.tile.Controller.PREFIX + 'plugin',\n      class extends QxConnector {\n        constructor() {\n          super(QxClass);\n        }\n      }\n    );\n  }\n});\n","/* RoundProgress.js\n *\n * copyright (c) 2010-2022, Christian Mayer and the CometVisu contributers.\n *\n * This program is free software; you can redistribute it and/or modify it\n * under the terms of the GNU General Public License as published by the Free\n * Software Foundation; either version 3 of the License, or (at your option)\n * any later version.\n *\n * This program is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for\n * more details.\n *\n * You should have received a copy of the GNU General Public License along\n * with this program; if not, write to the Free Software Foundation, Inc.,\n * 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA\n */\n\n/**\n * Shows a round progress bar (partially filled circle).\n * This component must be used inside a cv-value component, it is not meant to be used standalone.\n *\n * @author Tobias BrÃ¤utigam\n * @since 2022\n */\nqx.Class.define('cv.ui.structure.tile.components.RoundProgress', {\n  extend: cv.ui.structure.tile.components.AbstractComponent,\n  include: cv.ui.structure.tile.MVisibility,\n\n  /*\n  ***********************************************\n    CONSTRUCTOR\n  ***********************************************\n  */\n  construct(element) {\n    super(element);\n    this.addListener('changeVisible', this._applyVisible, this);\n  },\n\n  /*\n  ***********************************************\n    PROPERTIES\n  ***********************************************\n  */\n  properties: {\n    progress: {\n      check: 'Number',\n      apply: '_applyProgress'\n    },\n\n    text: {\n      check: 'String',\n      apply: '_applyText'\n    },\n\n    type: {\n      check: ['circle', 'semiCircle'],\n      init: 'circle'\n    },\n\n    min: {\n      check: 'Number',\n      init: 0\n    },\n\n    max: {\n      check: 'Number',\n      init: 100\n    }\n  },\n\n  /*\n  ***********************************************\n    MEMBERS\n  ***********************************************\n  */\n  members: {\n    __writeAddresses: null,\n    __circumference: null,\n    __start: null,\n    __normalizedRadius: null,\n    __radius: null,\n    __label: null,\n    __canvas: null,\n    __availableLabelWidth: null,\n    __defaultLabelFontSize: null,\n    _queuedFitText: null,\n\n    _init() {\n      super._init();\n      const element = this._element;\n      const style = document.querySelector(':root').style;\n      const hasFixedRadius = element.hasAttribute('radius');\n      const radius = (this.__radius =\n        element.getAttribute('radius') || parseInt(style.getPropertyValue('--tileCellWidth')) || 56);\n      const strokeWidth = element.getAttribute('stroke') || 8;\n      const normalizedRadius = (this.__normalizedRadius = radius - strokeWidth / 2);\n      this.__circumference = normalizedRadius * 2 * Math.PI;\n\n      if (element.hasAttribute('min')) {\n        const min = parseInt(element.getAttribute('min'));\n        if (!isNaN(min)) {\n          this.setMin(min);\n        }\n      }\n\n      if (element.hasAttribute('max')) {\n        const max = parseInt(element.getAttribute('max'));\n        if (!isNaN(max)) {\n          this.setMax(max);\n        }\n      }\n\n      if (element.hasAttribute('type')) {\n        this.setType(element.getAttribute('type'));\n      }\n      const type = this.getType();\n      let height = type === 'semiCircle' ? radius : radius * 2;\n      const ns = 'http://www.w3.org/2000/svg';\n      const svg = document.createElementNS(ns, 'svg');\n      svg.setAttribute('height', height);\n      svg.setAttribute('width', '' + (radius * 2));\n      svg.setAttribute('type', type);\n\n      if (type === 'circle') {\n        if (!element.hasAttribute('no-background')) {\n          const bg = document.createElementNS(ns, 'circle');\n          bg.classList.add('bg');\n          bg.setAttribute('r', '' +normalizedRadius);\n          bg.setAttribute('cx', '50%');\n          bg.setAttribute('cy', '50%');\n          bg.setAttribute('fill', 'transparent');\n          bg.setAttribute('stroke-width', strokeWidth);\n          if (element.hasAttribute('background-color')) {\n            bg.style.stroke = element.getAttribute('background-color');\n          }\n          svg.appendChild(bg);\n        }\n        const bar = document.createElementNS(ns, 'circle');\n        bar.classList.add('bar');\n        bar.setAttribute('r', '' +normalizedRadius);\n        bar.setAttribute('cx', '50%');\n        bar.setAttribute('cy', '50%');\n        bar.setAttribute('stroke-width', strokeWidth);\n        bar.setAttribute('stroke-dasharray', `${this.__circumference} ${this.__circumference}`);\n        bar.setAttribute('stroke-dashoffset', this.__circumference);\n        if (element.hasAttribute('foreground-color')) {\n          bar.style.stroke = element.getAttribute('foreground-color');\n        }\n        svg.appendChild(bar);\n      } else if (type === 'semiCircle') {\n        if (!element.hasAttribute('no-background')) {\n          const bg = document.createElementNS(ns, 'path');\n          bg.classList.add('bg');\n          bg.setAttribute('d', `M ${strokeWidth / 2} ${radius} A ${normalizedRadius} ${normalizedRadius} 0 0 1 ${\n            radius * 2 - strokeWidth / 2\n          } ${radius}`);\n          bg.setAttribute('fill', 'transparent');\n          bg.setAttribute('stroke-width', strokeWidth);\n          if (element.hasAttribute('background-color')) {\n            bg.style.stroke = element.getAttribute('background-color');\n          }\n          svg.appendChild(bg);\n        }\n        this.__start = {\n          x: strokeWidth / 2,\n          y: radius\n        };\n        const bar = document.createElementNS(ns, 'path');\n        bar.classList.add('bar');\n        bar.setAttribute('d', `M ${strokeWidth / 2} ${radius} A ${normalizedRadius} ${normalizedRadius} 0 0 0 ${\n          strokeWidth / 2\n        } ${radius}`);\n        bar.setAttribute('fill', 'transparent');\n        bar.setAttribute('stroke-width', strokeWidth);\n        if (element.hasAttribute('foreground-color')) {\n          bar.style.stroke = element.getAttribute('foreground-color');\n        }\n        svg.appendChild(bar);\n      }\n      element.replaceChildren(svg, document.createElement('label'));\n\n      this.__availableLabelWidth = radius * 2 - strokeWidth * 2 - 24;\n\n      if (!hasFixedRadius) {\n        qx.event.message.Bus.subscribe('cv.design.tile.cellWidthChanged', ev => {\n          this.__radius = ev.getData();\n          this.__normalizedRadius = this.__radius - strokeWidth / 2;\n          this.__circumference = this.__normalizedRadius * 2 * Math.PI;\n          height = type === 'semiCircle' ? this.__radius : this.__radius * 2;\n          const svg = element.querySelector(':scope > svg');\n          svg.setAttribute('height', '' + height);\n          svg.setAttribute('width', '' + this.__radius * 2);\n          if (type === 'circle') {\n            this._element.querySelectorAll(':scope > svg > circle').forEach(circle => {\n              circle.setAttribute('r', '' + this.__normalizedRadius);\n              if (circle.classList.contains('bar')) {\n                circle.setAttribute('stroke-dasharray', this.__circumference + ' ' + this.__circumference);\n\n                circle.setAttribute('stroke-dashoffset', '' + this.__circumference);\n              }\n            });\n          } else if (type === 'semiCircle') {\n            this.__start.y = this.__radius;\n            const bg = this._element.querySelector(':scope > svg > path.bg');\n            if (bg) {\n              bg.setAttribute(\n                'd',\n                `M ${strokeWidth / 2} ${this.__radius} A ${this.__normalizedRadius} ${this.__normalizedRadius} 0 0 1 ${\n                  this.__radius * 2 - strokeWidth / 2\n                } ${this.__radius}`\n              );\n            }\n          }\n          this._applyProgress(this.isPropertyInitialized('progress') ? this.getProgress() : 0);\n        });\n      }\n    },\n\n    __convert(angle) {\n      const angleRad = angle * (Math.PI / 180.0);\n      return {\n        x: this.__radius - this.__normalizedRadius * Math.cos(angleRad),\n        y: this.__radius - this.__normalizedRadius * Math.sin(angleRad)\n      };\n    },\n\n    _applyProgress(value) {\n      if (this.isConnected()) {\n        let valueElement;\n        let end;\n        let valueInRange = value - this.getMin();\n        let percent = Math.max(0, Math.min(100, (100 / (this.getMax() - this.getMin())) * valueInRange));\n\n        switch (this.getType()) {\n          case 'circle':\n            valueElement = this._element.querySelector(':scope > svg > circle.bar');\n\n            valueElement.setAttribute(\n              'stroke-dashoffset',\n              '' + this.__circumference - (percent / 100) * this.__circumference\n            );\n\n            break;\n\n          case 'semiCircle':\n            valueElement = this._element.querySelector(':scope > svg > path.bar');\n\n            end = this.__convert((180 / 100) * percent);\n            valueElement.setAttribute(\n              'd',\n              [\n                'M',\n                this.__start.x,\n                this.__start.y,\n                'A',\n                this.__normalizedRadius,\n                this.__normalizedRadius,\n                0,\n                0,\n                1,\n                end.x,\n                end.y\n              ].join(' ')\n            );\n\n            break;\n        }\n      }\n    },\n\n    _fitText() {\n      if (this.__label && this.__label.textContent) {\n        if (this.isVisible()) {\n          if (!this.__canvas) {\n            this.__canvas = document.createElement('canvas');\n            this.__context = this.__canvas.getContext('2d');\n            const compStyle = window.getComputedStyle(this.__label);\n            this.__context.font = compStyle.getPropertyValue('font');\n            this.__defaultLabelFontSize = compStyle.getPropertyValue('font-size');\n          }\n          const metrics = this.__context.measureText(this.__label.textContent);\n          if (metrics.width > this.__availableLabelWidth) {\n            // adjust font-size\n            const factor = this.__availableLabelWidth / metrics.width;\n            this.__label.style.fontSize = Math.floor(parseInt(this.__defaultLabelFontSize) * factor) + 'px';\n          } else {\n            this.__label.style.fontSize = this.__defaultLabelFontSize;\n          }\n          this._queuedFitText = false;\n        } else {\n          this._queuedFitText = true;\n        }\n      }\n    },\n\n    _applyVisible(ev) {\n      if (ev.getData() && this._queuedFitText) {\n        this._fitText();\n      }\n    },\n\n    _applyText(value) {\n      if (this.isConnected()) {\n        if (!this.__label) {\n          this.__label = this._element.querySelector(':scope > label');\n        }\n        this.__label.textContent = value;\n        if (!value) {\n          // empty text, just reset to default font size\n          if (this.__defaultLabelFontSize) {\n            this.__label.style.fontSize = this.__defaultLabelFontSize;\n          }\n        } else {\n          this._fitText();\n        }\n      }\n    }\n  },\n\n  /*\n  ***********************************************\n    DESTRUCTOR\n  ***********************************************\n  */\n  destruct() {\n    this.__label = null;\n  },\n\n  defer(QxClass) {\n    customElements.define(\n      cv.ui.structure.tile.Controller.PREFIX + 'round-progress',\n      class extends QxConnector {\n        constructor() {\n          super(QxClass);\n        }\n      }\n    );\n  }\n});\n","/* Select.js\n *\n * copyright (c) 2010-2022, Christian Mayer and the CometVisu contributers.\n *\n * This program is free software; you can redistribute it and/or modify it\n * under the terms of the GNU General Public License as published by the Free\n * Software Foundation; either version 3 of the License, or (at your option)\n * any later version.\n *\n * This program is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for\n * more details.\n *\n * You should have received a copy of the GNU General Public License along\n * with this program; if not, write to the Free Software Foundation, Inc.,\n * 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA\n */\n\n/**\n * Allows the selection of one element out of a list of <cv-option> elements\n */\nqx.Class.define('cv.ui.structure.tile.components.Select', {\n  extend: cv.ui.structure.tile.components.AbstractComponent,\n\n  /*\n  ***********************************************\n    MEMBERS\n  ***********************************************\n  */\n  members: {\n    __options: null,\n    __value: null,\n    __popup: null,\n\n    _init() {\n      super._init();\n      const element = this._element;\n      this.__options = new Map();\n\n      const popup = (this.__popup = document.createElement('div'));\n      popup.classList.add('popup');\n      element.querySelectorAll(':scope > cv-option').forEach((option, i) => {\n        popup.appendChild(option);\n        if (!option.hasAttribute('key')) {\n          option.setAttribute('key', '' + i);\n        }\n        this.__options.set(option.getAttribute('key'), option);\n      });\n      const value = (this.__value = document.createElement('span'));\n      value.classList.add('value');\n      element.appendChild(value);\n      element.appendChild(popup);\n      const handle = document.createElement('cv-icon');\n      handle.classList.add('dropdown');\n      handle.classList.add('ri-arrow-down-s-line');\n      element.appendChild(handle);\n\n      if (this._writeAddresses.length > 0) {\n        element.addEventListener('click', ev => this.onClicked(ev));\n      }\n    },\n\n    onClicked(ev) {\n      const style = getComputedStyle(this.__popup);\n      let target = ev.target;\n      // find out event target (either the cv-select of cv-option\n      while (target !== ev.currentTarget && target.tagName.toLowerCase() !== 'cv-option') {\n        target = target.parentElement;\n      }\n      if (target.tagName.toLowerCase() === 'cv-option') {\n        // select this option\n        this._sendSelection(target.getAttribute('key'), true);\n      }\n      // open popup\n      if (style.getPropertyValue('display') === 'none') {\n        this.__popup.style.display = 'block';\n      } else {\n        this.__popup.style.display = 'none';\n      }\n    },\n\n    _sendSelection(key, predictive) {\n      const ev = new CustomEvent('sendState', {\n        detail: {\n          value: key,\n          source: this\n        }\n      });\n\n      this._writeAddresses\n        .filter(addr => !addr.hasAttribute('on') || addr.getAttribute('on') === 'click')\n        .forEach(address => address.dispatchEvent(ev));\n      if (predictive === true) {\n        this.setValue(key);\n      }\n    },\n\n    _updateValue(mappedValue, value) {\n      if (this.__options.has(mappedValue)) {\n        this.__value.innerHTML = '';\n        const current = this.__options.get(mappedValue);\n        if (current.children.length > 0) {\n          // if we have non text children, we only use them (only icons no text)\n          for (const child of current.children) {\n            this.__value.appendChild(child.cloneNode());\n          }\n        } else {\n          this.__value.innerHTML = current.innerHTML;\n        }\n      }\n    }\n  },\n\n  defer(QxClass) {\n    customElements.define(\n      cv.ui.structure.tile.Controller.PREFIX + 'select',\n      class extends QxConnector {\n        constructor() {\n          super(QxClass);\n        }\n      }\n    );\n  }\n});\n","/* Slider.js\n *\n * copyright (c) 2010-2022, Christian Mayer and the CometVisu contributers.\n *\n * This program is free software; you can redistribute it and/or modify it\n * under the terms of the GNU General Public License as published by the Free\n * Software Foundation; either version 3 of the License, or (at your option)\n * any later version.\n *\n * This program is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for\n * more details.\n *\n * You should have received a copy of the GNU General Public License along\n * with this program; if not, write to the Free Software Foundation, Inc.,\n * 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA\n */\n\n/**\n * Shows a range slider.\n */\nqx.Class.define('cv.ui.structure.tile.components.Slider', {\n  extend: cv.ui.structure.tile.components.AbstractComponent,\n\n  /*\n  ***********************************************\n    PROPERTIES\n  ***********************************************\n  */\n  properties: {\n    stepWidth: {\n      check: 'Number',\n      init: 5,\n      apply: '_applyStepWidth'\n    },\n\n    min: {\n      check: 'Number',\n      init: 1,\n      apply: '_applyMin'\n    },\n\n    max: {\n      check: 'Number',\n      init: 100,\n      apply: '_applyMax'\n    },\n\n    showValue: {\n      check: 'Boolean',\n      init: true,\n      apply: '_applyShowValue'\n    },\n\n    throttleInterval: {\n      check: 'Number',\n      init: 250,\n      apply: '_applyThrottleInterval'\n    }\n  },\n\n  /*\n  ***********************************************\n    MEMBERS\n  ***********************************************\n  */\n  members: {\n    __throttled: null,\n    __input: null,\n\n    _init() {\n      super._init();\n      const element = this._element;\n      if (element.hasAttribute('throttle-interval')) {\n        this.setThrottleInterval(parseInt(element.getAttribute('throttle-interval')));\n      } else {\n        this._applyThrottleInterval(this.getThrottleInterval());\n      }\n\n      // init components\n      let input = element.querySelector(':scope > input');\n      if (!input) {\n        input = document.createElement('input');\n        input.classList.add('slider');\n        input.setAttribute('type', 'range');\n        element.insertBefore(input, element.querySelector(':scope > .up'));\n        input.oninput = () => this.__throttled.call();\n      }\n      this.__input = input;\n      if (element.hasAttribute('step-width')) {\n        this.setStepWidth(parseInt(element.getAttribute('step-width')));\n      }\n      if (element.hasAttribute('min')) {\n        this.setMin(parseInt(element.getAttribute('min')));\n      }\n      if (element.hasAttribute('max')) {\n        this.setMax(parseInt(element.getAttribute('max')));\n      }\n      if (element.hasAttribute('hide-value') && element.getAttribute('hide-value') === 'true') {\n        this.setShowValue(false);\n      } else {\n        this._applyShowValue(true);\n      }\n\n      const decreaseElement = element.querySelector(':scope > .decrease');\n      if (decreaseElement) {\n        decreaseElement.addEventListener('click', ev => this.onDecrease());\n      }\n      const increaseElement = element.querySelector(':scope > .increase');\n      if (increaseElement) {\n        increaseElement.addEventListener('click', ev => this.onIncrease());\n      }\n    },\n\n    _applyThrottleInterval(value) {\n      if (value > 0) {\n        this.__throttled = cv.util.Function.throttle(this.onInput, value, { trailing: true }, this);\n      } else {\n        // no throttling, direct call\n        this.__throttled = {\n          call: () => this.onInput(),\n          abort: () => {}\n        };\n      }\n    },\n\n    _applyMin(value) {\n      const input = this._element.querySelector(':scope > input');\n      input.setAttribute('min', '' + value);\n    },\n\n    _applyMax(value) {\n      const input = this._element.querySelector(':scope > input');\n      input.setAttribute('max', '' + value);\n    },\n\n    _applyStepWidth(value) {\n      const input = this._element.querySelector(':scope > input');\n      input.setAttribute('step', '' + value);\n    },\n\n    _applyShowValue(value) {\n      let valueLabel = this._element.querySelector(':scope > label.value');\n      if (value) {\n        if (!valueLabel) {\n          valueLabel = document.createElement('label');\n          valueLabel.classList.add('value');\n          valueLabel.classList.add('secondary');\n          this._element.insertBefore(valueLabel, this._element.firstChild);\n        }\n      }\n    },\n\n    _updateValue(mappedValue, value) {\n      const target = this._element.querySelector(':scope > input');\n      if (target) {\n        target.value = value;\n      }\n      if (this.isShowValue()) {\n        let valueLabel = this._element.querySelector(':scope > label.value');\n        if (valueLabel) {\n          valueLabel.innerText = mappedValue;\n        }\n      }\n    },\n\n    onInput() {\n      this.__sendValue(this.__input.value);\n    },\n\n    onDecrease() {\n      const value = this.getValue() - this.getStepWidth();\n      this.__sendValue(value, 'decrease');\n    },\n\n    onIncrease() {\n      const value = this.getValue() + this.getStepWidth();\n      this.__sendValue(value, 'increase');\n    },\n\n    __sendValue(value, on) {\n      const ev = new CustomEvent('sendState', {\n        detail: {\n          value: value,\n          source: this\n        }\n      });\n\n      this._writeAddresses\n        .filter(addr => !addr.hasAttribute('on') || addr.getAttribute('on') === on)\n        .forEach(address => address.dispatchEvent(ev));\n    }\n  },\n\n  defer(QxClass) {\n    customElements.define(\n      cv.ui.structure.tile.Controller.PREFIX + 'slider',\n      class extends QxConnector {\n        constructor() {\n          super(QxClass);\n        }\n      }\n    );\n  }\n});\n","/* Spinner.js\n *\n * copyright (c) 2010-2022, Christian Mayer and the CometVisu contributers.\n *\n * This program is free software; you can redistribute it and/or modify it\n * under the terms of the GNU General Public License as published by the Free\n * Software Foundation; either version 3 of the License, or (at your option)\n * any later version.\n *\n * This program is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for\n * more details.\n *\n * You should have received a copy of the GNU General Public License along\n * with this program; if not, write to the Free Software Foundation, Inc.,\n * 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA\n */\n\n/**\n * Shows a number value that can be increased and decreased by a defined step width.\n */\nqx.Class.define('cv.ui.structure.tile.components.Spinner', {\n  extend: cv.ui.structure.tile.components.AbstractComponent,\n\n  /*\n  ***********************************************\n    PROPERTIES\n  ***********************************************\n  */\n  properties: {\n    stepWidth: {\n      check: 'Number',\n      init: 1.0\n    },\n\n    mode: {\n      check: ['relative', 'absolute'],\n      init: 'absolute'\n    }\n  },\n\n  /*\n  ***********************************************\n    MEMBERS\n  ***********************************************\n  */\n  members: {\n    _init() {\n      super._init();\n      const element = this._element;\n      if (element.hasAttribute('step-width')) {\n        this.setStepWidth(parseFloat(element.getAttribute('step-width')));\n      }\n      if (element.hasAttribute('mode')) {\n        this.setMode(element.getAttribute('mode'));\n      }\n      // init components\n      let valueElement = element.querySelector(':scope > .value');\n      if (!valueElement) {\n        valueElement = document.createElement('label');\n        valueElement.classList.add('value');\n        valueElement.classList.add('primary');\n        element.appendChild(valueElement);\n      }\n      // add increase / decrease buttons\n      const decrease = document.createElement('div');\n      decrease.classList.add('clickable');\n      decrease.classList.add('left');\n      const decreaseIcon = document.createElement('cv-icon');\n      decreaseIcon.classList.add('ri-arrow-down-s-line');\n      decrease.addEventListener('click', () => this.onDecrease());\n      decrease.appendChild(decreaseIcon);\n      element.insertBefore(decrease, valueElement);\n\n      const increase = document.createElement('div');\n      increase.classList.add('clickable');\n      increase.classList.add('right');\n      const increaseIcon = document.createElement('cv-icon');\n      increaseIcon.classList.add('ri-arrow-up-s-line');\n      increase.appendChild(increaseIcon);\n      increase.addEventListener('click', () => this.onIncrease());\n      element.appendChild(increase);\n    },\n\n    onDecrease() {\n      const value = this.getMode() === 'absolute' ? this.getValue() - this.getStepWidth() : this.getStepWidth() * -1;\n      this.__sendValue(value, 'decrease');\n    },\n\n    onIncrease() {\n      const value = this.getMode() === 'absolute' ? this.getValue() + this.getStepWidth() : this.getStepWidth();\n      this.__sendValue(value, 'increase');\n    },\n\n    _updateValue(mappedValue) {\n      const target = this._element.querySelector('.value');\n      if (target) {\n        target.innerHTML = mappedValue;\n      }\n    },\n\n    __sendValue(value, on) {\n      const ev = new CustomEvent('sendState', {\n        detail: {\n          value: value,\n          source: this\n        }\n      });\n\n      this._writeAddresses\n        .filter(addr => !addr.hasAttribute('on') || addr.getAttribute('on') === on)\n        .forEach(address => address.dispatchEvent(ev));\n    }\n  },\n\n  defer(QxClass) {\n    customElements.define(\n      cv.ui.structure.tile.Controller.PREFIX + 'spinner',\n      class extends QxConnector {\n        constructor() {\n          super(QxClass);\n        }\n      }\n    );\n  }\n});\n","/* Value.js\n *\n * copyright (c) 2010-2022, Christian Mayer and the CometVisu contributers.\n *\n * This program is free software; you can redistribute it and/or modify it\n * under the terms of the GNU General Public License as published by the Free\n * Software Foundation; either version 3 of the License, or (at your option)\n * any later version.\n *\n * This program is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for\n * more details.\n *\n * You should have received a copy of the GNU General Public License along\n * with this program; if not, write to the Free Software Foundation, Inc.,\n * 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA\n */\n\n/**\n * Shows a value from the backend, as label or image/icon\n * @author Tobias BrÃ¤utigam\n * @since 2022\n */\nqx.Class.define('cv.ui.structure.tile.components.Value', {\n  extend: cv.ui.structure.tile.components.AbstractComponent,\n  include: [cv.ui.structure.tile.MVisibility, cv.ui.structure.tile.MResize],\n\n  /*\n  ***********************************************\n    CONSTRUCTOR\n  ***********************************************\n  */\n  construct(element) {\n    super(element);\n    this.addListener('changeVisible', this._applyVisible, this);\n  },\n\n  /*\n  ***********************************************\n    MEMBERS\n  ***********************************************\n  */\n  members: {\n    _queuedOverflowDetection: null,\n    _debouncedDetectOverflow: null,\n\n    _init() {\n      super._init();\n      this._debouncedDetectOverflow = qx.util.Function.debounce(this._detectOverflow, 20);\n\n      const target = this._element.querySelector('.value');\n      if (target && target.tagName.toLowerCase() === 'label') {\n        // check for overflowing text, when labels parent gets resized\n        this.setResizeTarget(this._element);\n        this.addListener('resized', this._debouncedDetectOverflow, this);\n      }\n    },\n\n    _applyVisible(ev) {\n      if (ev.getData()) {\n        if (this._queuedOverflowDetection) {\n          this._debouncedDetectOverflow();\n        }\n      } else {\n        const target = this._element.querySelector('.value');\n        if (target && target.classList.contains('scroll')) {\n          target.classList.remove('scroll');\n        }\n      }\n    },\n\n    _detectOverflow() {\n      const target = this._element.querySelector('.value');\n      if (this.isVisible()) {\n        this._queuedOverflowDetection = false;\n        if (target.clientWidth > target.parentElement.clientWidth) {\n          target.classList.add('scroll');\n        } else {\n          target.classList.remove('scroll');\n        }\n      } else {\n        this._queuedOverflowDetection = true;\n      }\n    },\n\n    _updateValue(mappedValue, value) {\n      let styleClass = '';\n      for (const target of this._element.querySelectorAll('.value')) {\n        const tagName = target.tagName.toLowerCase();\n        switch (tagName) {\n          case 'cv-icon':\n            target._instance.setId(mappedValue);\n            if (this._element.hasAttribute('styling')) {\n              styleClass = cv.Application.structureController.styleValue(\n                this._element.getAttribute('styling'),\n                value,\n                this.__store\n              );\n            }\n            target._instance.setStyleClass(styleClass);\n            break;\n          case 'meter':\n            target.setAttribute('value', value);\n            break;\n          case 'cv-round-progress':\n            if (typeof value === 'string') {\n              value = parseInt(value);\n            }\n            target._instance.setProgress(value);\n            target._instance.setText('' + mappedValue);\n            break;\n          case 'label':\n            target.innerHTML = mappedValue;\n            this._debouncedDetectOverflow();\n            break;\n        }\n      }\n    }\n  },\n\n  defer(QxClass) {\n    customElements.define(\n      cv.ui.structure.tile.Controller.PREFIX + 'value',\n      class extends QxConnector {\n        constructor() {\n          super(QxClass);\n        }\n      }\n    );\n  }\n});\n","/* Backend.js\n *\n * copyright (c) 2010-2022, Christian Mayer and the CometVisu contributers.\n *\n * This program is free software; you can redistribute it and/or modify it\n * under the terms of the GNU General Public License as published by the Free\n * Software Foundation; either version 3 of the License, or (at your option)\n * any later version.\n *\n * This program is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for\n * more details.\n *\n * You should have received a copy of the GNU General Public License along\n * with this program; if not, write to the Free Software Foundation, Inc.,\n * 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA\n */\n\n/**\n * <cv-backend> Custom element to define a backend connection\n */\nqx.Class.define('cv.ui.structure.tile.elements.Backend', {\n  extend: cv.ui.structure.tile.elements.AbstractCustomElement,\n\n  /*\n  ***********************************************\n    MEMBERS\n  ***********************************************\n  */\n  members: {\n    _name: null,\n    __applyValues: null,\n\n    _init() {\n      const element = this._element;\n      let type = element.getAttribute('type');\n      if (type && type.startsWith('class:')) {\n        const className = type.split(':').pop();\n        if (!cv.io.BackendConnections.isRegistered(className)) {\n          // wait until client class has been loaded\n          cv.io.BackendConnections.addClassLoadedListener(className, () => {\n            this._init();\n          });\n          return;\n        }\n        type = className;\n      }\n      const uriString = element.hasAttribute('uri') ? element.getAttribute('uri') : '';\n      let uri;\n      if (uriString) {\n        try {\n          uri = new URL(uriString, window.location.origin + window.location.pathname);\n        } catch (e) {\n          this.error('Error parsing uri: ' + uriString);\n        }\n      }\n\n      if (type) {\n        let credentials = null;\n        if (element.hasAttribute('username')) {\n          credentials = {\n            username: element.getAttribute('username'),\n            password: element.getAttribute('password') || ''\n          };\n        } else if (uri && uri.username) {\n          credentials = {\n            username: uri.username,\n            password: uri.password\n          };\n        }\n        const model = cv.data.Model.getInstance();\n        let backendUrl = uri ? uri.toString() : null;\n        let backendUrlConfigKey;\n        switch (type) {\n          case 'knxd':\n            backendUrlConfigKey = 'backendKnxdUrl';\n            break;\n          case 'openhab':\n            backendUrlConfigKey = 'backendOpenHABUrl';\n            break;\n          case 'mqtt':\n            backendUrlConfigKey = 'backendMQTTUrl';\n            break;\n        }\n\n        if (backendUrlConfigKey) {\n          // override by URL settings\n          if (cv.Config.URL[backendUrlConfigKey]) {\n            backendUrl = cv.Config.URL[backendUrlConfigKey];\n          } else if (!backendUrl && cv.Config.server[backendUrlConfigKey]) {\n            backendUrl = cv.Config.server[backendUrlConfigKey];\n          }\n        }\n        let name = type;\n        if (element.hasAttribute('name')) {\n          name = element.getAttribute('name');\n        } else if (!cv.io.BackendConnections.hasClient('main')) {\n          // we need one main backend\n          name = 'main';\n        } else if (cv.io.BackendConnections.getClient('main').configuredIn === 'config') {\n          qx.log.Logger.warn(\n            this,\n            `there is already a backend registered with name \"main\" and type ${type} skipping this one`\n          );\n\n          return;\n        }\n        qx.log.Logger.debug(this, 'init backend', name);\n        if (cv.io.BackendConnections.hasClient(name)) {\n          const notification = {\n            topic: 'cv.config.error',\n            title: qx.locale.Manager.tr('Config error'),\n            message: qx.locale.Manager.tr('There already exists a backend named: \"%1\"', name),\n\n            severity: 'urgent',\n            unique: true,\n            deletable: true\n          };\n\n          cv.core.notifications.Router.dispatchMessage(notification.topic, notification);\n\n          return;\n        }\n        const client = cv.io.BackendConnections.addBackendClient(name, type, backendUrl, 'config');\n\n        this._client = client;\n        this._name = name;\n        this.__applyValues = [];\n        client.update = data => model.updateFrom(name, data); // override clients update function\n\n        for (const data of element.querySelectorAll(':scope > cv-resource')) {\n          client.setResourcePath(data.getAttribute('name'), data.textContent.trim());\n        }\n\n        client.login(true, credentials, () => {\n          this.debug(name, 'connected');\n          if (element.hasAttribute('default') && element.getAttribute('default') === 'true') {\n            model.setDefaultBackendName(name);\n          }\n          const doSubscribe = () => {\n            for (const [address, value] of this.__applyValues) {\n              this.debug(name, 'apply update', address, value);\n              model.onUpdate(address, value, name);\n            }\n            const addressesToSubscribe = model.getAddresses(name);\n            this.debug(name, 'subscribing to', addressesToSubscribe.length, 'addresses');\n\n            if (addressesToSubscribe.length !== 0) {\n              client.subscribe(addressesToSubscribe);\n            }\n          };\n          if (cv.TemplateEngine.getInstance().isDomFinished()) {\n            doSubscribe();\n          } else {\n            qx.event.message.Bus.subscribe(\n              'setup.dom.finished',\n              function () {\n                doSubscribe();\n              },\n              this\n            );\n          }\n        });\n      } else {\n        this.error('<cv-backend> must have a type attribute');\n      }\n    },\n\n    _disconnected() {\n      if (this._client) {\n        const model = cv.data.Model.getInstance();\n        if (this._element.hasAttribute('default') && this._element.getAttribute('default') === 'true') {\n          model.resetDefaultBackendName();\n        }\n        this._client.terminate();\n        cv.io.BackendConnections.removeClient(this._client);\n        this._client.dispose();\n        this._client = null;\n      }\n    }\n  },\n\n  defer(Clazz) {\n    customElements.define(\n      cv.ui.structure.tile.Controller.PREFIX + 'backend',\n      class extends QxConnector {\n        constructor() {\n          super(Clazz);\n        }\n      }\n    );\n  }\n});\n","/* Loader.js\n *\n * copyright (c) 2010-2022, Christian Mayer and the CometVisu contributers.\n *\n * This program is free software; you can redistribute it and/or modify it\n * under the terms of the GNU General Public License as published by the Free\n * Software Foundation; either version 3 of the License, or (at your option)\n * any later version.\n *\n * This program is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for\n * more details.\n *\n * You should have received a copy of the GNU General Public License along\n * with this program; if not, write to the Free Software Foundation, Inc.,\n * 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA\n */\n\n/**\n * Loads external content like CSS/JS files, config-content or a template file.\n *\n *  @author Tobias BrÃ¤utigam\n *  @since 2022\n */\nqx.Class.define('cv.ui.structure.tile.elements.Loader', {\n  extend: cv.ui.structure.tile.elements.AbstractCustomElement,\n\n  /*\n  ***********************************************\n    MEMBERS\n  ***********************************************\n  */\n  members: {\n    _init() {\n      const element = this._element;\n      const type = element.getAttribute('type');\n      const src = element.getAttribute('src');\n      let loaderElement;\n      if (src) {\n        switch (type) {\n          case 'css':\n            loaderElement = document.createElement('link');\n            loaderElement.setAttribute('type', 'text/css');\n            loaderElement.setAttribute('rel', 'stylesheet');\n            loaderElement.setAttribute('href', src);\n            break;\n\n          case 'js':\n            loaderElement = document.createElement('script');\n            loaderElement.setAttribute('type', 'text/javascript');\n            loaderElement.setAttribute('src', src);\n            break;\n\n          case 'templates':\n            this.loadXml(src, type);\n            break;\n        }\n\n        if (loaderElement) {\n          element.appendChild(loaderElement);\n        }\n      }\n    },\n\n    loadXml(uri) {\n      const ajaxRequest = new qx.io.request.Xhr(uri);\n      ajaxRequest.set({\n        accept: 'application/xml',\n        cache: !cv.Config.forceReload\n      });\n\n      ajaxRequest.addListenerOnce('success', function (e) {\n        let content = e.getTarget().getResponse();\n        let htmlContent = content;\n        const target = cv.Application.structureController.getRenderTarget();\n        // we need the documents to be in HTML namespace\n        if (!htmlContent.documentElement.xmlns) {\n          let text = e.getTarget().getResponseText();\n          text = text.replace('<templates', '<templates xmlns=\"http://www.w3.org/1999/xhtml\"');\n\n          const parser = new DOMParser();\n          htmlContent = parser.parseFromString(text, 'text/xml');\n        }\n        let child;\n        while ((child = htmlContent.documentElement.firstElementChild)) {\n          target.appendChild(child);\n        }\n        // register custom elements for templates in this document\n        cv.Application.structureController.registerTemplates(content);\n      });\n      ajaxRequest.addListener('statusError', e => {\n        const status = e.getTarget().getTransport().status;\n        if (!qx.util.Request.isSuccessful(status)) {\n          this.handleError('filenotfound', ajaxRequest.getUrl());\n        } else {\n          this.handleError(status, null);\n        }\n      });\n\n      ajaxRequest.send();\n    },\n\n    handleError(textStatus, additionalErrorInfo) {\n      const title = qx.locale.Manager.tr('File Error!').translate().toString();\n      let message = '';\n      let actions;\n      switch (textStatus) {\n        case 'parsererror':\n          message = qx.locale.Manager.tr('Invalid XML file!');\n          break;\n        case 'filenotfound':\n          message = qx.locale.Manager.tr('404: File not found, %1.', additionalErrorInfo).translate().toString();\n          break;\n        default:\n          message = qx.locale.Manager.tr('Unhandled error of type \"%1\"', textStatus).translate().toString();\n          if (additionalErrorInfo) {\n            message += ': ' + additionalErrorInfo;\n          } else {\n            message += '.';\n          }\n      }\n\n      const notification = {\n        topic: 'cv.error',\n        title: title,\n        message: message\n      };\n\n      if (actions) {\n        notification.actions = actions;\n      }\n      cv.core.notifications.Router.dispatchMessage(notification.topic, notification);\n\n      this.error(this, message.toString());\n    }\n  },\n\n  defer(Clazz) {\n    customElements.define(\n      cv.ui.structure.tile.Controller.PREFIX + 'loader',\n      class extends QxConnector {\n        constructor() {\n          super(Clazz);\n        }\n      }\n    );\n  }\n});\n","/* Mapping.js\n *\n * copyright (c) 2010-2022, Christian Mayer and the CometVisu contributers.\n *\n * This program is free software; you can redistribute it and/or modify it\n * under the terms of the GNU General Public License as published by the Free\n * Software Foundation; either version 3 of the License, or (at your option)\n * any later version.\n *\n * This program is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for\n * more details.\n *\n * You should have received a copy of the GNU General Public License along\n * with this program; if not, write to the Free Software Foundation, Inc.,\n * 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA\n */\n\n/**\n * Mapping maps a value to another value that can be used to show e.g. the current state.\n * @author Tobias BrÃ¤utigam\n * @since 2022\n */\nqx.Class.define('cv.ui.structure.tile.elements.Mapping', {\n  extend: cv.ui.structure.tile.elements.AbstractCustomElement,\n\n  /*\n  ***********************************************\n    CONSTRUCTOR\n  ***********************************************\n  */\n  construct(element) {\n    super(element);\n    this.__cache = {};\n  },\n\n  /*\n  ***********************************************\n    MEMBERS\n  ***********************************************\n  */\n  members: {\n    __cache: null,\n\n    _applyConnected(value, oldValue, name) {\n      super._applyConnected(value, oldValue, name);\n      // avoid adding styling elements here as they inherit this method but call the super method too\n      if (this._element.tagName.toLowerCase().endsWith('mapping')) {\n        if (value) {\n          cv.Application.structureController.addMapping(this._element.getAttribute('name'), this);\n        } else {\n          cv.Application.structureController.removeMapping(this._element.getAttribute('name'));\n        }\n      }\n    },\n\n    /**\n     *\n     * @param val {variant}\n     * @param store {Map<string, variant>?} optional stored values from other addresses\n     * @param params {Array<variant>?} optional array of parameters for the mapping\n     * @return {string|*|string}\n     */\n    mapValue(val, store, params) {\n      if (Object.prototype.hasOwnProperty.call(this.__cache, val)) {\n        return this.__cache[val];\n      }\n      let mappedValue = '' + val;\n      const exactMatch = this._element.querySelector(':scope > entry[value=\"' + val + '\"]');\n\n      let type = this._element.hasAttribute('type') ? this._element.getAttribute('type') : 'string';\n      if (exactMatch) {\n        mappedValue = this._convert(exactMatch.innerHTML.trim(), type);\n        this.__cache[val] = mappedValue;\n        return mappedValue;\n      }\n      const formula = this._element.querySelector(':scope > formula');\n      if (formula) {\n        if (!formula._formula) {\n          let content = formula.textContent;\n          formula._formula = new Function('x', 'store', 'params', 'let y;' + content + '; return y;');\n        }\n        mappedValue = this._convert(formula._formula(val, store, params), type);\n        return mappedValue;\n      }\n      const entries = this._element.querySelectorAll(':scope > entry');\n      let defaultValue = null;\n\n      const mapped = Array.from(entries).some(entry => {\n        let matches = false;\n        let isDefaultValue = entry.hasAttribute('default') && entry.getAttribute('default') === 'true';\n        if (entry.hasAttribute('value')) {\n          const value = entry.getAttribute('value');\n          if (value === (val ? val : 'NULL') || value === '*') {\n            mappedValue = this._convert(entry.innerHTML.trim(), type);\n            matches = true;\n          }\n          if (isDefaultValue) {\n            defaultValue = this._convert(value, type);\n          }\n        } else if (entry.hasAttribute('range-min')) {\n          const rangeMin = parseFloat(entry.getAttribute('range-min'));\n          const rangeMax = entry.hasAttribute('range-max')\n            ? parseFloat(entry.getAttribute('range-max'))\n            : Number.POSITIVE_INFINITY;\n          const floatValue = parseFloat(val);\n          if (rangeMin <= floatValue && floatValue <= rangeMax) {\n            mappedValue = this._convert(entry.innerHTML.trim(), type);\n            matches = true;\n          }\n          if (isDefaultValue) {\n            defaultValue = rangeMin;\n          }\n        }\n        return matches;\n      });\n      if (!mapped && defaultValue !== null) {\n        mappedValue = this.mapValue(defaultValue);\n      }\n      this.__cache[val] = mappedValue;\n      return mappedValue;\n    },\n\n    _convert(value, type) {\n      switch (type.toLowerCase()) {\n        case 'boolean':\n          return value === 'true';\n        case 'integer':\n          return parseInt(value);\n        case 'float':\n          return parseFloat(value);\n        default:\n          return value;\n      }\n    }\n  },\n\n  /*\n  ***********************************************\n    DESTRUCTOR\n  ***********************************************\n  */\n  destruct() {\n    this.__cache = null;\n  },\n\n  defer(Clazz) {\n    customElements.define(\n      cv.ui.structure.tile.Controller.PREFIX + 'mapping',\n      class extends QxConnector {\n        constructor() {\n          super(Clazz);\n        }\n      }\n    );\n  }\n});\n","/* StateNotification.js\n *\n * copyright (c) 2010-2022, Christian Mayer and the CometVisu contributers.\n *\n * This program is free software; you can redistribute it and/or modify it\n * under the terms of the GNU General Public License as published by the Free\n * Software Foundation; either version 3 of the License, or (at your option)\n * any later version.\n *\n * This program is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for\n * more details.\n *\n * You should have received a copy of the GNU General Public License along\n * with this program; if not, write to the Free Software Foundation, Inc.,\n * 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA\n */\n\n/**\n * Parse notification settings and load them into the cv.core.notifications.Router\n * @author Tobias BrÃ¤utigam\n * @since 2022\n */\nqx.Class.define('cv.ui.structure.tile.elements.StateNotification', {\n  extend: cv.ui.structure.tile.elements.AbstractCustomElement,\n\n  /*\n  ***********************************************\n    MEMBERS\n  ***********************************************\n  */\n  members: {\n    _init() {\n    const stateConfig = {};\n    const elem = this._element;\n    const target =\n      cv.core.notifications.Router.getTarget(elem.getAttribute('target')) || cv.ui.NotificationCenter.getInstance();\n\n    const addressContainer = elem.querySelector('cv-addresses');\n\n    const config = {\n      target: target,\n      severity: elem.getAttribute('severity'),\n      skipInitial: elem.getAttribute('skip-initial') !== 'false',\n      deletable: elem.getAttribute('deletable') !== 'false',\n      unique: elem.getAttribute('unique') === 'true',\n      valueMapping: addressContainer.getAttribute('value-mapping'),\n      addressMapping: addressContainer.getAttribute('address-mapping'),\n      enabled: !elem.hasAttribute('enabled') || elem.getAttribute('enabled') === 'true'\n    };\n    if (elem.hasAttribute('id')) {\n      config.id = elem.getAttribute('id');\n      // notifications with id can be changed by the system backend, so we need to listen to some addresses\n      const model = cv.data.Model.getInstance();\n      model.addUpdateListener(`notification:${config.id}:enabled`, this._onStateUpdate, this, 'system');\n      model.addUpdateListener(`notification:${config.id}:severity`, this._onStateUpdate, this, 'system');\n\n      model.onUpdate(`notification:${config.id}:enabled`, config.enabled, 'system');\n      model.onUpdate(`notification:${config.id}:severity`, config.severity, 'system');\n    }\n\n    const name = elem.getAttribute('name');\n    if (name) {\n      config.topic = 'cv.state.' + name;\n    }\n    const icon = elem.getAttribute('icon');\n    if (icon) {\n      config.icon = icon;\n      const iconClasses = elem.getAttribute('icon-classes');\n      if (iconClasses) {\n        config.iconClasses = iconClasses;\n      }\n    }\n\n    // templates\n    const titleElem = elem.querySelector('cv-title-template');\n    if (titleElem) {\n      config.titleTemplate = titleElem.innerHTML;\n    }\n    const messageElem = elem.querySelector('cv-message-template');\n    if (messageElem) {\n      config.messageTemplate = messageElem.innerHTML;\n    }\n\n    // condition\n    const conditionElem = elem.querySelector('cv-condition');\n    let condition = conditionElem.textContent;\n    if (condition === 'true') {\n      condition = true;\n    } else if (condition === 'false') {\n      condition = false;\n    }\n    config.condition = condition;\n\n    let address;\n    for (const addressElement of addressContainer.querySelectorAll(':scope > cv-address')) {\n      address = addressElement.textContent.trim();\n      if (!Object.prototype.hasOwnProperty.call(stateConfig, address)) {\n        stateConfig[address] = [];\n      }\n      const addressConfig = Object.assign({}, config);\n      let mode = 1 | 2; // Bit 0 = read, Bit 1 = write  => 1|2 = 3 = readwrite\n      switch (addressElement.getAttribute('mode')) {\n        case 'disable':\n          mode = 0;\n          break;\n        case 'read':\n          mode = 1;\n          break;\n        case 'write':\n          mode = 2;\n          break;\n        case 'readwrite':\n          mode = 1 | 2;\n          break;\n      }\n      addressConfig.addressConfig = {\n        transform: addressElement.getAttribute('transform'),\n        mode: mode,\n        selector: addressElement.getAttribute('selector'),\n        ignoreError: addressElement.getAttribute('ignore-error') === 'true',\n        qos: (addressElement.getAttribute('qos') || 0) | 0, // force integer\n        retain: addressElement.getAttribute('retain') === 'true',\n        variantInfo: addressElement.getAttribute('variant')\n      };\n      stateConfig[address].push(addressConfig);\n    }\n    cv.core.notifications.Router.getInstance().registerStateUpdateHandler(stateConfig);\n  },\n\n    _onStateUpdate(address, state, initial, changed) {\n      const [, id, property] = address.split(':');\n      const router = cv.core.notifications.Router.getInstance();\n      if (property === 'enabled') {\n        router.enableStateUpdateHandler(id, state == 1);\n      } else if (property === 'severity') {\n        router.changeStateUpdateHandlerSeverity(id, state);\n      }\n    }\n  },\n\n  defer(Clazz) {\n    customElements.define(\n      cv.ui.structure.tile.Controller.PREFIX + 'state-notification',\n      class extends QxConnector {\n        constructor() {\n          super(Clazz);\n        }\n      }\n    );\n  }\n});\n","/* Styling.js\n *\n * copyright (c) 2010-2022, Christian Mayer and the CometVisu contributers.\n *\n * This program is free software; you can redistribute it and/or modify it\n * under the terms of the GNU General Public License as published by the Free\n * Software Foundation; either version 3 of the License, or (at your option)\n * any later version.\n *\n * This program is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for\n * more details.\n *\n * You should have received a copy of the GNU General Public License along\n * with this program; if not, write to the Free Software Foundation, Inc.,\n * 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA\n */\n\n/**\n * Styling maps a value to another value that can be used to style a component\n * @author Tobias BrÃ¤utigam\n * @since 2022\n */\nqx.Class.define('cv.ui.structure.tile.elements.Styling', {\n  extend: cv.ui.structure.tile.elements.Mapping,\n\n  /*\n  ***********************************************\n    MEMBERS\n  ***********************************************\n  */\n  members: {\n    _applyConnected(value, oldValue, name) {\n      super._applyConnected(value, oldValue, name);\n      if (value) {\n        cv.Application.structureController.addStyling(this._element.getAttribute('name'), this);\n      } else {\n        cv.Application.structureController.removeStyling(this._element.getAttribute('name'));\n      }\n    }\n  },\n\n  defer(Clazz) {\n    customElements.define(\n      cv.ui.structure.tile.Controller.PREFIX + 'styling',\n      class extends QxConnector {\n        constructor() {\n          super(Clazz);\n        }\n      }\n    );\n  }\n});\n","/* Group.js\n *\n * copyright (c) 2010-2022, Christian Mayer and the CometVisu contributers.\n *\n * This program is free software; you can redistribute it and/or modify it\n * under the terms of the GNU General Public License as published by the Free\n * Software Foundation; either version 3 of the License, or (at your option)\n * any later version.\n *\n * This program is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for\n * more details.\n *\n * You should have received a copy of the GNU General Public License along\n * with this program; if not, write to the Free Software Foundation, Inc.,\n * 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA\n */\n\n/**\n * Creates a group of widgets that can be hidden (works like the <detail> HTML Element)\n *\n * @author Tobias BrÃ¤utigam\n * @since 2022\n */\nqx.Class.define('cv.ui.structure.tile.widgets.Group', {\n  extend: cv.ui.structure.tile.components.AbstractComponent,\n\n  /*\n   ******************************************************\n   MEMBERS\n   ******************************************************\n   */\n  members: {\n    _init() {\n      super._init();\n      const element = this._element;\n      let label = null;\n      let summary = null;\n      const needsSummary = element.hasAttribute('name') || element.hasAttribute('icon');\n      if (needsSummary) {\n        summary = element.querySelector(':scope > summary');\n        if (!summary) {\n          summary = document.createElement('summary');\n          element.insertBefore(summary, element.firstChild);\n        }\n        if (element.hasAttribute('name')) {\n          label = element.querySelector(':scope > summary > label.title');\n          if (!label) {\n            label = document.createElement('label');\n            label.classList.add('title');\n            summary.insertBefore(label, summary.firstChild);\n          }\n          label.classList.add('last-of-title');\n          label.textContent = element.getAttribute('name');\n        }\n        if (element.hasAttribute('icon')) {\n          let icon = element.querySelector(':scope > summary > cv-icon.title');\n          if (!icon) {\n            icon = document.createElement('cv-icon');\n            icon.classList.add('title');\n            summary.insertBefore(icon, summary.firstChild);\n          }\n          if (!label) {\n            icon.classList.add('last-of-title');\n          }\n          icon.classList.add(element.getAttribute('icon'));\n        }\n      }\n      const empty = !element.querySelector(':scope > *:not(summary)');\n      if (empty) {\n        element.classList.add('empty');\n      } else if (summary) {\n        qx.event.Registration.addListener(summary, 'click', this._toggleOpen, this);\n      }\n    },\n\n    _toggleOpen() {\n      if (this._element.hasAttribute('open')) {\n        this._element.removeAttribute('open');\n      } else {\n        this._element.setAttribute('open', 'true');\n      }\n    },\n\n    /**\n     * Handles the incoming data from the backend for this widget\n     *\n     * @param ev {CustomEvent} stateUpdate event fired from a cv-address component\n     */\n    onStateUpdate(ev) {\n      if (!super.onStateUpdate(ev)) {\n        if (ev.detail.target === 'summary') {\n          let target = this._element.querySelector(':scope > summary > label.value');\n\n          if (!target) {\n            target = document.createElement('label');\n            target.classList.add('value');\n            const summary = this._element.querySelector(':scope > summary');\n            summary.appendChild(target);\n          }\n          target.textContent = ev.detail.state;\n        } else {\n          this.debug('unhandled address target', ev.detail.target);\n        }\n      }\n    }\n  },\n\n  defer(QxClass) {\n    customElements.define(\n      cv.ui.structure.tile.Controller.PREFIX + 'group',\n      class extends QxConnector {\n        constructor() {\n          super(QxClass);\n        }\n      }\n    );\n  }\n});\n","/* Page.js\n *\n * copyright (c) 2010-2022, Christian Mayer and the CometVisu contributers.\n *\n * This program is free software; you can redistribute it and/or modify it\n * under the terms of the GNU General Public License as published by the Free\n * Software Foundation; either version 3 of the License, or (at your option)\n * any later version.\n *\n * This program is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for\n * more details.\n *\n * You should have received a copy of the GNU General Public License along\n * with this program; if not, write to the Free Software Foundation, Inc.,\n * 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA\n */\n\n/**\n * Creates a new sub-page and adds a corresponding link to the current page.\n *\n * @ignore(InstallTrigger)\n * @author Tobias BrÃ¤utigam\n * @since 2021\n */\nqx.Class.define('cv.ui.structure.tile.widgets.Page', {\n  extend: cv.ui.structure.tile.components.AbstractComponent,\n\n  /*\n  ***********************************************\n    PROPERTIES\n  ***********************************************\n  */\n  properties: {\n    visibility: {\n      refine: true,\n      init: 'excluded'\n    }\n  },\n\n  /*\n   ******************************************************\n   MEMBERS\n   ******************************************************\n   */\n  members: {\n    _supportsContentVisibility: null,\n    _visibleDisplayMode: null,\n\n    _init() {\n      const browserEngine = qx.core.Environment.get('browser.name');\n      if (browserEngine.includes('firefox') || browserEngine.includes('safari')) {\n        // firefox/safari do not support content-visibility CSS property\n        // see: https://caniuse.com/css-content-visibility\n        this._element.classList.add('no-content-visibility');\n        this._supportsContentVisibility = false;\n      } else {\n        this._supportsContentVisibility = true;\n      }\n    },\n\n    _applyVisibility(value) {\n      switch (value) {\n        case 'visible':\n          if (this._supportsContentVisibility) {\n            this._element.style.contentVisibility = 'visible';\n          } else if (this._visibleDisplayMode) {\n            this._element.style.display = this._visibleDisplayMode || 'initial';\n          }\n          break;\n\n        case 'hidden':\n        case 'excluded':\n          if (this._supportsContentVisibility) {\n            this._element.style.contentVisibility = 'hidden';\n          } else {\n            this._visibleDisplayMode = getComputedStyle(this._element).getPropertyValue('display');\n            this._element.style.display = 'none';\n          }\n          break;\n      }\n    }\n  },\n\n  defer(QxClass) {\n    customElements.define(\n      cv.ui.structure.tile.Controller.PREFIX + 'page',\n      class extends QxConnector {\n        constructor() {\n          super(QxClass);\n        }\n      }\n    );\n\n    customElements.define(\n      cv.ui.structure.tile.Controller.PREFIX + 'row',\n      class extends HTMLElement {\n        constructor() {\n          super();\n          if (this.hasAttribute('colspan')) {\n            this.classList.add('colspan-' + this.getAttribute('colspan'));\n          }\n          if (this.hasAttribute('rowspan')) {\n            this.classList.add('rowspan-' + this.getAttribute('rowspan'));\n          }\n        }\n      }\n    );\n  }\n});\n","/* Popup.js\n *\n * copyright (c) 2010-2022, Christian Mayer and the CometVisu contributers.\n *\n * This program is free software; you can redistribute it and/or modify it\n * under the terms of the GNU General Public License as published by the Free\n * Software Foundation; either version 3 of the License, or (at your option)\n * any later version.\n *\n * This program is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for\n * more details.\n *\n * You should have received a copy of the GNU General Public License along\n * with this program; if not, write to the Free Software Foundation, Inc.,\n * 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA\n */\n\n/**\n * Creates a popup that contains arbitrary content and can be opened as an overlay over the current UI.\n *\n * @author Tobias BrÃ¤utigam\n * @since 2022\n */\nqx.Class.define('cv.ui.structure.tile.widgets.Popup', {\n  extend: cv.ui.structure.tile.components.AbstractComponent,\n  include: cv.ui.structure.tile.MPopup,\n\n  /*\n  ***********************************************\n    STATICS\n  ***********************************************\n  */\n  statics: {\n    openedPopups: []\n  },\n\n  /*\n   ******************************************************\n   MEMBERS\n   ******************************************************\n   */\n  members: {\n    _closeButton: null,\n\n    _init() {\n      super._init();\n      const popup = this._element;\n      const closeable = !popup.hasAttribute('closeable') || popup.getAttribute('closeable') === 'true';\n      if (closeable) {\n        this._closeButton = document.createElement('button');\n        this._closeButton.classList.add('close');\n        const icon = document.createElement('i');\n        icon.classList.add('ri-close-line');\n        this._closeButton.appendChild(icon);\n        popup.insertBefore(this._closeButton, popup.firstChild);\n        this._closeButton.addEventListener('click', () => this.close());\n      }\n      popup.addEventListener('close', ev => {\n        this.close();\n      });\n      if (popup.hasAttribute('title')) {\n        const header = document.createElement('header');\n        popup.insertBefore(header, popup.firstChild);\n        const title = document.createElement('h2');\n        title.textContent = popup.getAttribute('title');\n        header.appendChild(title);\n      }\n      if (popup.hasAttribute('auto-close-timeout')) {\n        const timeoutSeconds = parseInt(popup.getAttribute('auto-close-timeout'));\n\n        if (!isNaN(timeoutSeconds)) {\n          this._autoCloseTimer = new qx.event.Timer(timeoutSeconds * 1000);\n          this._autoCloseTimer.addListener('interval', () => {\n            this._autoCloseTimer.stop();\n            this.close();\n          });\n        } else {\n          this.error('invalid auto-close-timeout value:', popup.getAttribute('auto-close-timeout'));\n        }\n      }\n    },\n\n    open() {\n      const popup = this._element;\n      if (!popup.hasAttribute('open')) {\n        popup.setAttribute('open', '');\n        if (popup.hasAttribute('modal') && popup.getAttribute('modal') === 'true') {\n          this.registerModalPopup();\n        }\n        if (this._autoCloseTimer) {\n          this._autoCloseTimer.start();\n        }\n      }\n    },\n\n    close() {\n      const popup = this._element;\n      if (popup) {\n        popup.removeAttribute('open');\n        if (popup.hasAttribute('modal') && popup.getAttribute('modal') === 'true') {\n          this.unregisterModalPopup();\n        }\n        if (this._autoCloseTimer) {\n          this._autoCloseTimer.stop();\n        }\n        popup.dispatchEvent(new CustomEvent('closed'));\n      }\n    },\n\n    /**\n     * Handles the incoming data from the backend for this widget.\n     * The popup handles the special address-targets:\n     *  - open: opens the popup when the address value is 'true' or 1 => no auto closing\n     *  - close: closes the popup when the address value is 'false' or 0 => no auto opening\n     *  - open-close: the upper both combined => popup visibility fully dependent on the address value, auto-opening + auto-closing\n     *\n     * @param ev {CustomEvent} stateUpdate event fired from an cv-address component\n     */\n    onStateUpdate(ev) {\n      if (!super.onStateUpdate(ev)) {\n        switch (ev.detail.target) {\n          case 'open':\n            if (ev.detail.state) {\n              this.open();\n            }\n            break;\n\n          case 'open-close':\n            if (ev.detail.state) {\n              this.open();\n            } else {\n              this.close();\n            }\n            break;\n\n          case 'close':\n            if (!ev.detail.state) {\n              this.close();\n            }\n            break;\n\n          default:\n            this.debug('unhandled address target', ev.detail.target);\n            break;\n        }\n      }\n    }\n  },\n\n  /*\n  ***********************************************\n    DESTRUCTOR\n  ***********************************************\n  */\n  destruct() {\n    this._disposeObjects('_autoCloseTimer');\n    if (this._closeButton) {\n      this._closeButton.remove();\n      this._closeButton = null;\n    }\n  },\n\n  defer(QxClass) {\n    customElements.define(\n      cv.ui.structure.tile.Controller.PREFIX + 'popup',\n      class extends QxConnector {\n        constructor() {\n          super(QxClass);\n        }\n      }\n    );\n  }\n});\n","/* Tile.js\n *\n * copyright (c) 2010-2022, Christian Mayer and the CometVisu contributers.\n *\n * This program is free software; you can redistribute it and/or modify it\n * under the terms of the GNU General Public License as published by the Free\n * Software Foundation; either version 3 of the License, or (at your option)\n * any later version.\n *\n * This program is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for\n * more details.\n *\n * You should have received a copy of the GNU General Public License along\n * with this program; if not, write to the Free Software Foundation, Inc.,\n * 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA\n */\n\n/**\n * Shows a tile\n */\nqx.Class.define('cv.ui.structure.tile.widgets.Tile', {\n  extend: cv.ui.structure.tile.components.AbstractComponent,\n  include: cv.ui.structure.tile.MPopup,\n\n  /*\n  ***********************************************\n    PROPERTIES\n  ***********************************************\n  */\n  properties: {\n    backgroundImage: {\n      check: 'String',\n      nullable: true,\n      apply: '_applyBackgroundImage'\n    },\n\n    /**\n     * Turn this tile into a popup\n     */\n    popup: {\n      check: 'Boolean',\n      init: false,\n      apply: '_applyPopup'\n    },\n\n    outdated: {\n      check: 'Boolean',\n      init: false,\n      apply: '_applyOutdated'\n    },\n\n    checkOutdated: {\n      check: 'Boolean',\n      init: false,\n      apply: '_applyCheckOutdated'\n    },\n\n    outdatedMessage: {\n      check: 'String',\n      nullable: true,\n      apply: '_applyOutdatedMessage'\n    }\n  },\n\n  /*\n  ***********************************************\n    EVENTS\n  ***********************************************\n  */\n  events: {\n    fullscreenChanged: 'qx.event.type.Data'\n  },\n\n  /*\n  ***********************************************\n    MEMBERS\n  ***********************************************\n  */\n  members: {\n    _fullScreenMode: null,\n    _dateFormat: null,\n    _checkOutdatedTimerId: null,\n    _lastUpdate: null,\n    _maxAge: null,\n    _hideTimer: null,\n\n    _init() {\n      super._init();\n      this._dateFormat = new qx.util.format.DateFormat(qx.locale.Date.getDateFormat('medium') + ' ' + qx.locale.Date.getTimeFormat('medium'));\n      this._initPopupChild();\n      if (this._element.hasAttribute('background-image')) {\n        this.setBackgroundImage(this._element.getAttribute('background-image'));\n      }\n      if (this._childPopup) {\n        this._childPopup.addEventListener('closed', () => {\n          this.resetPopup();\n        });\n      }\n      if (this._element.querySelector(':scope > label.title')) {\n        this._element.classList.add('has-title');\n      }\n\n      this._hideTimer = new qx.event.Timer(5000);\n      this._hideTimer.addListener('interval', () => {\n        const elem = this._element.querySelector(':scope > .outdated-value');\n        if (elem.style.display !== 'none') {\n          elem.style.display = 'none';\n        }\n        this._hideTimer.stop();\n      });\n    },\n\n    _applyBackgroundImage(value) {\n      if (value) {\n        this._element.style.backgroundImage = `url(${value})`;\n        let overlay = this._element.querySelector(':scope > div.overlay');\n        if (!overlay) {\n          overlay = document.createElement('div');\n          overlay.classList.add('overlay');\n          this._element.insertBefore(overlay, this._element.firstChild);\n        }\n        this._element.classList.add('has-bg-image');\n      } else {\n        this._element.style.backgroundImage = '';\n        this._element.classList.remove('has-bg-image');\n      }\n    },\n\n    _applyOutdated(value) {\n      let elem = this._element.querySelector(':scope > .outdated');\n      if (value) {\n        this._element.classList.add('outdated');\n        if (!elem) {\n          elem = document.createElement('div');\n          elem.classList.add('outdated');\n          elem.textContent = '!';\n          this._element.insertBefore(elem, this._element.firstElementChild);\n          // capture all clicks by stealing the initial event\n          elem.addEventListener('pointerdown', ev => {\n            ev.stopImmediatePropagation();\n          });\n          elem.addEventListener('click', ev => {\n            // show last updated value for 5 seconds\n            let valueElem = this._element.querySelector(':scope > .outdated-value');\n            if (!valueElem) {\n              valueElem = document.createElement('div');\n              valueElem.classList.add('outdated-value');\n              valueElem.textContent = this.getOutdatedMessage();\n              this._element.appendChild(valueElem);\n              this._element.insertBefore(valueElem, elem.nextElementSibling);\n              // capture all clicks by stealing the initial event\n              valueElem.addEventListener('pointerdown', ev => {\n                ev.stopImmediatePropagation();\n                valueElem.style.display = 'none';\n              });\n            } else {\n              valueElem.style.display = 'block';\n            }\n            this._hideTimer.start();\n          });\n        }\n        elem.style.display = 'block';\n      } else {\n        this._element.classList.remove('outdated');\n        if (elem) {\n          elem.style.display = 'none';\n        }\n      }\n    },\n\n    _applyOutdatedMessage(value) {\n      this._element.setAttribute('title', value);\n      let valueElem = this._element.querySelector(':scope > .outdated-value');\n      if (valueElem) {\n        valueElem.textContent = value;\n      }\n    },\n\n    _applyCheckOutdated(value) {\n      const timer = qx.util.TimerManager.getInstance();\n      if (value) {\n        this._checkOutdatedTimerId = timer.start(this.checkOutdated, 5000, this);\n      } else if (this._checkOutdatedTimerId) {\n        timer.stop(this._checkOutdatedTimerId);\n        this._checkOutdatedTimerId = null;\n      }\n    },\n\n    checkOutdated() {\n      if (this._lastUpdate instanceof Date) {\n        if (isNaN(this._lastUpdate.getTime())) {\n          this.setOutdated(true);\n          this.setOutdatedMessage(qx.locale.Manager.tr('Last update: unknown'));\n        } else {\n          const age = Math.floor((Date.now() - this._lastUpdate.getTime()) / 1000);\n          this.setOutdated(age > this._maxAge);\n          this.setOutdatedMessage(qx.locale.Manager.tr('Last update: %1', this._dateFormat.format(this._lastUpdate)));\n        }\n      } else if (this._lastUpdate === '-') {\n        this.setOutdated(true);\n        this.setOutdatedMessage(qx.locale.Manager.tr('Last update: unknown'));\n      } else {\n        this.error('last-update value must be a Date object, but is of type:', typeof this._lastUpdate, this._lastUpdate);\n        this.resetOutdatedMessage();\n      }\n    },\n\n    open() {\n      if (this._childPopup) {\n        this._openPopupChild();\n      } else if (this._headerFooterParent) {\n        const target = this._headerFooterParent;\n        let closeButton = target.querySelector(':scope > button.close');\n        if (!closeButton) {\n          closeButton = document.createElement('button');\n          closeButton.classList.add('close');\n          const icon = document.createElement('i');\n          icon.classList.add('ri-close-line');\n          closeButton.appendChild(icon);\n          target.appendChild(closeButton);\n          closeButton.addEventListener('click', () => this.setPopup(false));\n        }\n        closeButton.style.display = 'block';\n        target.classList.add('popup');\n        if (this._fullScreenMode) {\n          target.classList.add('fullscreen');\n          this.fireDataEvent('fullscreenChanged', true);\n        }\n        this.registerModalPopup();\n      }\n    },\n\n    close(keepState) {\n      if (!keepState) {\n        this.setPopup(false);\n      }\n      if (this._childPopup) {\n        this._closePopupChild();\n      } else if (this._headerFooterParent) {\n        this._headerFooterParent.classList.remove('popup');\n        if (this._fullScreenMode) {\n          this._headerFooterParent.classList.remove('fullscreen');\n          this.fireDataEvent('fullscreenChanged', true);\n        }\n        let closeButton = this._headerFooterParent.querySelector(':scope > button.close');\n        if (closeButton) {\n          closeButton.style.display = 'none';\n        }\n        this.unregisterModalPopup();\n      }\n      if (this._autoCloseTimer) {\n        this._autoCloseTimer.stop();\n      }\n      this.fireEvent('closed');\n    },\n\n    _applyPopup(value) {\n      if (value) {\n        this.open();\n      } else {\n        this.close(true);\n      }\n    },\n\n    /**\n     * Handles the incoming data from the backend for this widget\n     *\n     * @param ev {CustomEvent} stateUpdate event fired from a cv-address component\n     */\n    onStateUpdate(ev) {\n      if (!super.onStateUpdate(ev)) {\n        switch (ev.detail.target) {\n          case 'background-image':\n            this.setBackgroundImage(ev.detail.state);\n            break;\n\n          case 'popup':\n          case 'fullscreen-popup':\n            this._fullScreenMode = ev.detail.target === 'fullscreen-popup';\n            if (ev.detail.addressValue) {\n              // only open when the sent value equals the fixed value\n              // noinspection EqualityComparisonWithCoercionJS\n              if (ev.detail.addressValue == ev.detail.state) {\n                this.setPopup(true);\n                // this is not closing by address, so we set a close timeout to 3 minutes\n                if (!this._autoCloseTimer) {\n                  this._autoCloseTimer = new qx.event.Timer(180 * 1000);\n                  this._autoCloseTimer.addListener('interval', this.close, this);\n                }\n                this._autoCloseTimer.restart();\n              }\n            } else {\n              // open / close depending on value\n              // noinspection EqualityComparisonWithCoercionJS\n              this.setPopup(ev.detail.state == 1);\n            }\n            break;\n\n          case 'last-update':\n            this._maxAge = ev.detail.targetConfig && ev.detail.targetConfig.length > 0 ? parseInt(ev.detail.targetConfig.shift()) : Number.POSITIVE_INFINITY;\n            this._lastUpdate = ev.detail.state;\n            this.checkOutdated();\n            break;\n\n          default:\n            this.debug('unhandled address target', ev.detail.target);\n        }\n      }\n    },\n\n    /*\n    ***********************************************\n      DESTRUCTOR\n    ***********************************************\n    */\n    destruct() {\n      this._disposeObjects('_dateFormat');\n      if (this._checkOutdatedTimerId) {\n        qx.util.TimerManager.getInstance().stop(this._checkOutdatedTimerId);\n        this._checkOutdatedTimerId = null;\n      }\n    }\n  },\n\n  defer(QxClass) {\n    customElements.define(\n      cv.ui.structure.tile.Controller.PREFIX + 'tile',\n      class extends QxConnector {\n        constructor() {\n          super(QxClass);\n        }\n      }\n    );\n  }\n});\n","/* Tile.js\n *\n * copyright (c) 2010-2022, Christian Mayer and the CometVisu contributers.\n *\n * This program is free software; you can redistribute it and/or modify it\n * under the terms of the GNU General Public License as published by the Free\n * Software Foundation; either version 3 of the License, or (at your option)\n * any later version.\n *\n * This program is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for\n * more details.\n *\n * You should have received a copy of the GNU General Public License along\n * with this program; if not, write to the Free Software Foundation, Inc.,\n * 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA\n */\n\n/**\n * Shows two half sized widgets as pair.\n */\nqx.Class.define('cv.ui.structure.tile.widgets.WidgetPair', {\n  extend: cv.ui.structure.tile.components.AbstractComponent,\n\n  defer(QxClass) {\n    customElements.define(\n      cv.ui.structure.tile.Controller.PREFIX + 'widget-pair',\n      class extends QxConnector {\n        constructor() {\n          super(QxClass);\n        }\n      }\n    );\n  }\n});\n"],"mappings":"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"}