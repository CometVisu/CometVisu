{"version":3,"names":["_next","_throw","key","arg","info","gen","value","error","reject","done","resolve","Promise","then","_asyncToGenerator","fn","self","this","args","arguments","apply","asyncGeneratorStep","err","undefined","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","_toPropertyKey","_createClass","Constructor","protoProps","staticProps","prototype","_toPrimitive","_typeof","String","input","hint","prim","Symbol","toPrimitive","res","call","TypeError","Number","_classCallCheck","instance","_inherits","subClass","superClass","create","constructor","_setPrototypeOf","o","p","setPrototypeOf","bind","__proto__","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","result","Super","_getPrototypeOf","NewTarget","Reflect","construct","_possibleConstructorReturn","_assertThisInitialized","ReferenceError","sham","Proxy","Boolean","valueOf","e","getPrototypeOf","_createForOfIteratorHelper","allowArrayLike","it","iterator","Array","isArray","_unsupportedIterableToArray","F","s","n","_e","f","normalCompletion","didErr","step","next","_e2","minLen","_arrayLikeToArray","toString","slice","name","from","test","arr","len","arr2","$$dbClassInfo","dependsOn","usage","require","defer","qx","Bootstrap","executePendingDefers","Class","define","extend","core","type","implement","cv","ui","structure","IController","__P_72_0","bom","Stylesheet","includeFile","util","ResourceManager","getInstance","toUri","replace","Config","forceReload","Date","now","statics","PREFIX","__P_72_1","__P_72_2","MAPPING_PARAM_REGEX","register","webComponentName","qxClass","onComponentCreated","element","tagName","toLowerCase","hasOwnProperty","QxClass","push","log","Logger","properties","renderTarget","check","init","document","body","namespace","members","__P_72_3","__P_72_4","getHtmlStructure","supports","feature","subfeature","initLayout","__P_72_5","location","hash","scrollToPage","substring","getInitialPageId","onHistoryRequest","anchor","pageId","skipHistory","page","querySelector","classList","contains","_step","_iterator","querySelectorAll","remove","_step2","_iterator2","add","parentElement","nodeName","headline","getAttribute","pageTitle","History","addToHistory","event","message","Bus","dispatchByName","warn","parseBackendSettings","xml","_this","io","BackendConnections","initBackendClient","login","configSettings","credentials","debug","startInitialRequest","parseSettings","config","_this2","settings","configElement","documentElement","bindClickToWidget","translate","cacheUsed","templates","ajaxRequest","request","Xhr","set","accept","cache","addListenerOnce","child","content","getTarget","getResponse","getRenderTarget","registerTemplates","xmlns","text","getResponseText","DOMParser","parseFromString","firstElementChild","appendChild","TemplateEngine","setDomFinished","addListener","status","getTransport","Request","isSuccessful","send","forEach","template","customElements","tile","Controller","_TemplatedElement","_super","_class","TemplatedElement","preParse","_this3","_regeneratorRuntime","mark","_callee","theme","data","wrap","_context","prev","hasAttribute","window","matchMedia","matches","setAttribute","Model","updateFrom","addEventListener","abrupt","stop","createUI","doc","_i","_arr","_step3","attr","_iterator3","concat","trNameElement","match","exec","translation","locale","Manager","getLanguage","textContent","trim","_step4","_iterator4","trTextElement","_key","_translation","doScreenSave","screensave_page","getInitialAddresses","firstPage","id","addMapping","mapping","removeMapping","mapValue","mappingName","store","params","JSON","parse","replaceAll","addStyling","styling","removeStyling","styleValue","stylingName","parseLabel","cvTestMode","Application","structureController","_HTMLElement","_super2","templateId","_this4","controller","getElementById","_step5","slotAttributes","cloneNode","_iterator5","_loop","slot","slotName","replacementSelector","slotParentScope","parseInt","slotContents","attrs","l","attributes","includes","slotContent","newNode","keys","attrName","removeAttribute","parentNode","insertBefore","replaced","_i2","children","getAttributeNames","targets","targetName","endsWith","elem","_toConsumableArray","startsWith","innerHTML","_wrapNativeSuper","HTMLElement","Mixin","openedPopups","events","closed","_childPopup","_initPopupChild","popup","_element","Registration","_openPopupChild","last","parent","open","_closePopupChild","close","registerModalPopup","_onPointerDown","blocker","createElement","style","display","MPopup","unregisterModalPopup","removeListener","index","indexOf","splice","ev","Tree","isChildOf","preventDefault","destruct","refresh","_refreshTimer","_lastRefresh","_applyRefresh","restartWith","Timer","__P_73_0","isVisible","start","_applyVisible","getInterval","_disposeObjects","MRefresh","_observer","ResizeObserver","entries","observer","getResizeTarget","some","entry","fireDataEvent","resized","resizeTarget","nullable","_applyResizeTarget","oldElement","unobserve","observe","disconnect","MResize","_observeVisibility","IntersectionObserver","_instance","setVisible","intersectionRatio","visible","MVisibility","connected","_initialized","_applyConnected","_init","_disconnected","getElement","QxConnector","isSubClassOf","elements","AbstractCustomElement","Error","setConnected","oldValue","newValue","hasProperty","styleClass","enabled","visibility","widget","_writeAddresses","_visibleDisplayMode","__P_74_0","isWidget","childElementCount","setWidget","hasReadAddress","writeAddresses","address","onStateUpdate","stopPropagation","_applyValue","isConnected","mappedValue","sprintf","toLocaleString","_updateValue","setStyleClass","_applyStyleClass","classes","_applyEnabled","_applyVisibility","opacity","getComputedStyle","getPropertyValue","detail","setEnabled","state","setVisibility","setValue","components","AbstractComponent","__P_75_0","Map","on","onClass","offClass","onValue","offValue","progress","transform","__P_75_1","__P_75_2","_parseInt","val","intVal","isNaN","setType","setName","setProgress","setOnValue","setOffValue","eventSource","level","addr","click","onClicked","pointerup","onPointerUp","pointerdown","onPointerDown","getOwnPropertyNames","eventName","triggerAddresses","filter","once","setOn","getOnValue","hasDown","hasUp","_initProgress","Math","PI","svg","createElementNS","circle","Button","superclass","getType","_applyOn","isOn","getOffValue","setId","updateValue","getOnClass","getOffClass","_applyProgress","valueElement","_applyName","source","Address","addressElement","createRipple","CustomEvent","dispatchEvent","button","currentTarget","container","diameter","max","clientWidth","clientHeight","radius","width","height","x","clientX","offsetLeft","y","clientY","offsetTop","offsetParent","left","top","ripple","_QxConnector","__P_86_0","__P_86_1","model","backendName","addAddress","mode","getState","fireStateUpdate","addUpdateListener","allowDuplicates","encoding","encodedValue","Transform","encodeBusAndRaw","raw","lastSentValue","delay","getClient","write","bus","transformedState","decode","bubbles","cancelable","addressValue","variant","isRead","isWrite","getValue","Clazz","exports","Op","hasOwn","obj","desc","$Symbol","iteratorSymbol","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","innerFn","outerFn","tryLocsList","protoGenerator","Generator","generator","context","Context","makeInvokeMethod","tryCatch","ContinueSentinel","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","NativeIteratorPrototype","values","Gp","defineIteratorMethods","method","_invoke","AsyncIterator","PromiseImpl","invoke","record","__await","unwrapped","previousPromise","callInvokeWithMethodAndArg","doneResult","delegate","delegateResult","maybeInvokeDelegate","sent","_sent","dispatchException","methodName","resultName","nextLoc","pushTryEntry","locs","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","reset","iterable","iteratorMethod","displayName","isGeneratorFunction","genFun","ctor","awrap","async","iter","object","reverse","pop","skipTempReset","charAt","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","catch","thrown","delegateYield","include","ChartCounter","JS_LOADED","_ref","timer","counter","d3","ScriptLoader","includeScript","_x","_x2","formatDefaultLocale","decimal","thousands","grouping","currency","timeFormatDefaultLocale","dateTime","date","time","periods","days","shortDays","months","shortMonths","CONFIG","_downloadedImage","_url","_headers","_request","_chart","_width","_height","_loaded","_dataSetConfigs","_callee2","chartId","buttonAddress","icon","tileAddress","tileWidget","_context2","Chart","_loadData","url","client","dataSets","series","seriesConfig","xTicks","timeMinute","every","timeHour","timeDay","promises","dataSet","ts","assign","showArea","color","title","end","curve","item","split","map","part","toUpperCase","join","parseFloat","setTime","getTime","getResourcePath","src","Fetch","fetch","hasCustomChartsDataProcessor","processChartsData","_onStatusError","all","responses","_onSuccess","chartData","tsdata","_step3$value","_slicedToArray","aggregationInterval","round","minVal","min","d","maxVal","format","timeFormat","formatString","multiTimeFormat","getMilliseconds","getSeconds","getMinutes","getHours","getDay","getDate","getMonth","_lineChart","z","chartTitle","xDomain","extent","yDomain","mixBlendMode","xFormat","formatsArray","found","fmt","multiFormat","notifications","Router","dispatchMessage","tr","severity","stringify","c","defined","curveLinear","marginTop","marginRight","marginBottom","marginLeft","xType","scaleTime","xRange","yType","scaleLinear","yRange","yFormat","yLabel","zDomain","strokeLinecap","strokeLinejoin","strokeWidth","strokeOpacity","xPadding","X","Y","Z","O","InternSet","I","range","has","xScale","xzScale","yScale","yTicks","xAxis","axisBottom","ticks","tickSizeOuter","tickFormat","yAxis","axisLeft","T","select","linePath","tooltip","append","dot","_d3$pointer","pointer","_d3$pointer2","xm","ym","least","hypot","scaleFactorX","offsetWidth","scaleFactorY","offsetHeight","xOffset","bandwidth","ttNode","node","timeString","lineTitle","html","property","dispatch","relatedTarget","targetTouches","pathRect","getBoundingClientRect","passive","showGrid","tickSize","showXAxis","showYAxis","g","lineGroups","areaGroups","barGroups","stackedBarGroups","_key2","get","size","lineFunctions","curveName","curveFunction","curveStep","curveNatural","line","selectAll","linear","_step6","areaFunctions","_iterator6","_curveName","_curveFunction","area","y0","y1","__P_76_0","xBarScale","scaleBand","domain","padding","toFixed","throttleInterval","CC_COUNTER","__P_77_0","setThrottleInterval","addresses","_mode","variantInfo","parser","pure","widgets","ColorChooser","makeAddressListFn","Color","path","$$type","layout","colspan","controls","getThrottleInterval","parseAttributes","_onColorChanged","getDomString","_onDomReady","setResizeTarget","invalidateScreensize","getColor","rgb","getComponent","v","__P_77_1","r","b","padStart","alpha","backgroundColor","_idRegex","__P_78_0","_transformId","Icon","_applyId","_applyColor","img","base","origin","pathname","URL","useProxy","rest","Client","getBaseUrl","searchParams","btoa","_loadImage","setRefresh","XMLHttpRequest","responseType","setRequestHeader","onreadystatechange","readyState","DONE","createObjectURL","response","onload","revokeObjectURL","random","Image","_e3","refine","_target","_timer","_model","_getModel","_filterModel","_sortModel","_limit","_modelInstance","refreshOnUpdate","Function","readAddresses","evCopy","sortBy","sortModifier","right","leftVal","rightVal","localeCompare","options","proxyParam","listmodel","Registry","modelInstance","_entry$split$map","_entry$split$map2","getModel","script","innerText","a","List","_callee3","newModel","whenEmptyTemplate","emptyModel","emptyElem","itemTemplate","_context3","t0","t1","sort","removeChild","_elem$getAttribute$sp","_elem$getAttribute$sp2","ListItem","fireEvent","appearance","depth","domReady","showLabels","_applyAppearance","main","_applyDepth","isDomReady","_generateMenu","_onDomAppended","setDomReady","unsubscribe","_applyModel","rootList","ham","href","onclick","_onHamburgerMenu","subscribe","_onPageChange","_onSwipe","_icon","setShowLabels","setModel","currentPage","replaceChildren","__P_79_0","_rootList","pageName","pageIcon","li","isShowLabels","createTextNode","onClick","toggleClass","toggle","_closeAll","getDirection","current","previousElementSibling","except","parentList","currentLevel","pages","_loop2","getDepth","details","summary","pointerType","offsetX","_pageIcon","subList","pageElement","getData","link","activeName","Menu","_currentState","MenuAction","hasAddress","PL_COUNTER","__P_80_0","pluginName","baseName","scriptLoader","Plugin","loadPluginPart","plugins","requestAnimationFrame","isFinished","Part","getParts","load","__P_81_0","__P_81_1","__P_81_2","__P_81_3","__P_81_4","__P_81_5","__P_81_6","__P_81_7","__P_81_8","_queuedFitText","RoundProgress","hasFixedRadius","normalizedRadius","setMin","setMax","ns","bg","stroke","bar","_bg","_bar","_bg2","isPropertyInitialized","getProgress","__P_81_9","angle","angleRad","cos","sin","valueInRange","getMin","percent","getMax","_fitText","__P_81_10","getContext","compStyle","font","metrics","measureText","factor","fontSize","floor","_applyText","__P_82_0","__P_82_1","__P_82_2","Select","option","_sendSelection","predictive","stepWidth","showValue","__P_83_0","__P_83_1","Slider","_applyThrottleInterval","oninput","setStepWidth","setShowValue","_applyShowValue","decreaseElement","onDecrease","increaseElement","onIncrease","throttle","onInput","trailing","abort","_applyMin","_applyMax","valueLabel","firstChild","isShowValue","__P_83_2","getStepWidth","Spinner","setMode","decrease","decreaseIcon","increase","increaseIcon","getMode","__P_84_0","_queuedOverflowDetection","_debouncedDetectOverflow","Value","debounce","_detectOverflow","__P_85_0","setText","_name","__P_87_0","uri","uriString","username","password","backendUrlConfigKey","backendUrl","server","hasClient","configuredIn","notification","topic","unique","deletable","addBackendClient","_client","update","setDefaultBackendName","doSubscribe","_step$value","onUpdate","addressesToSubscribe","getAddresses","isDomFinished","resetDefaultBackendName","terminate","removeClient","dispose","Backend","loaderElement","loadXml","htmlContent","handleError","getUrl","textStatus","additionalErrorInfo","actions","Loader","__P_88_0","Mapping","exactMatch","_convert","formula","_formula","defaultValue","isDefaultValue","rangeMin","rangeMax","POSITIVE_INFINITY","floatValue","Styling","Group","label","_toggleOpen","_supportsContentVisibility","InstallTrigger","contentVisibility","_class2","Page","_closeButton","Popup","header","timeoutSeconds","_autoCloseTimer","backgroundImage","_fullScreenMode","Tile","setBackgroundImage","resetPopup","_applyBackgroundImage","overlay","closeButton","setPopup","keepState","_applyPopup","restart"],"sources":["/home/runner/work/CometVisu/CometVisu/source/class/cv/ui/structure/tile/Controller.js","/home/runner/work/CometVisu/CometVisu/source/class/cv/ui/structure/tile/MPopup.js","/home/runner/work/CometVisu/CometVisu/source/class/cv/ui/structure/tile/MRefresh.js","/home/runner/work/CometVisu/CometVisu/source/class/cv/ui/structure/tile/MResize.js","/home/runner/work/CometVisu/CometVisu/source/class/cv/ui/structure/tile/MVisibility.js","/home/runner/work/CometVisu/CometVisu/source/class/cv/ui/structure/tile/elements/AbstractCustomElement.js","/home/runner/work/CometVisu/CometVisu/source/class/cv/ui/structure/tile/components/AbstractComponent.js","/home/runner/work/CometVisu/CometVisu/source/class/cv/ui/structure/tile/components/Button.js","/home/runner/work/CometVisu/CometVisu/source/class/cv/ui/structure/tile/elements/Address.js","/home/runner/work/CometVisu/CometVisu/source/class/cv/ui/structure/tile/components/Chart.js","/home/runner/work/CometVisu/CometVisu/source/class/cv/ui/structure/tile/components/Color.js","/home/runner/work/CometVisu/CometVisu/source/class/cv/ui/structure/tile/components/Icon.js","/home/runner/work/CometVisu/CometVisu/source/class/cv/ui/structure/tile/components/Image.js","/home/runner/work/CometVisu/CometVisu/source/class/cv/ui/structure/tile/components/List.js","/home/runner/work/CometVisu/CometVisu/source/class/cv/ui/structure/tile/components/ListItem.js","/home/runner/work/CometVisu/CometVisu/source/class/cv/ui/structure/tile/components/Menu.js","/home/runner/work/CometVisu/CometVisu/source/class/cv/ui/structure/tile/components/MenuAction.js","/home/runner/work/CometVisu/CometVisu/source/class/cv/ui/structure/tile/components/Plugin.js","/home/runner/work/CometVisu/CometVisu/source/class/cv/ui/structure/tile/components/RoundProgress.js","/home/runner/work/CometVisu/CometVisu/source/class/cv/ui/structure/tile/components/Select.js","/home/runner/work/CometVisu/CometVisu/source/class/cv/ui/structure/tile/components/Slider.js","/home/runner/work/CometVisu/CometVisu/source/class/cv/ui/structure/tile/components/Spinner.js","/home/runner/work/CometVisu/CometVisu/source/class/cv/ui/structure/tile/components/Value.js","/home/runner/work/CometVisu/CometVisu/source/class/cv/ui/structure/tile/elements/Backend.js","/home/runner/work/CometVisu/CometVisu/source/class/cv/ui/structure/tile/elements/Loader.js","/home/runner/work/CometVisu/CometVisu/source/class/cv/ui/structure/tile/elements/Mapping.js","/home/runner/work/CometVisu/CometVisu/source/class/cv/ui/structure/tile/elements/Styling.js","/home/runner/work/CometVisu/CometVisu/source/class/cv/ui/structure/tile/widgets/Group.js","/home/runner/work/CometVisu/CometVisu/source/class/cv/ui/structure/tile/widgets/Page.js","/home/runner/work/CometVisu/CometVisu/source/class/cv/ui/structure/tile/widgets/Popup.js","/home/runner/work/CometVisu/CometVisu/source/class/cv/ui/structure/tile/widgets/Tile.js"],"sourcesContent":["/* Controller.js\n *\n * copyright (c) 2010-2022, Christian Mayer and the CometVisu contributers.\n *\n * This program is free software; you can redistribute it and/or modify it\n * under the terms of the GNU General Public License as published by the Free\n * Software Foundation; either version 3 of the License, or (at your option)\n * any later version.\n *\n * This program is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for\n * more details.\n *\n * You should have received a copy of the GNU General Public License along\n * with this program; if not, write to the Free Software Foundation, Inc.,\n * 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA\n */\n\n/**\n * Controller for the 'tile' structure.\n *\n * This structure is based on web-components and does not need a parser to work.\n * The config file is directly attached to the document body.\n * The widgets in this structure register a customElement and the browser automatically creates instances\n * of this widgets once the customElement is added to the body.\n *\n * The basic structure is a set of pages that contain a list of tiles.\n * Each tile contains a grid of 3 rows and 3 columns. The components can be added to a cell of that grid\n * but also can spread over more then one cell by using row-/column spanning.\n *\n * This structure provides some tiles with a pre-defined content, e.g. a <cv-switch> which\n * contains of a button in the middle of the tile and a primary- and secondary label in the third row.\n *\n * Those pre-defined tiles are provided by a <template> (@see https://developer.mozilla.org/de/docs/Web/HTML/Element/template}\n * User are able to define own templates for re-usable tiles if they need one that this structure does not provide.\n *\n * @asset(structures/tile/*)\n * @author Tobias BrÃ¤utigam\n * @since 2022\n */\nqx.Class.define('cv.ui.structure.tile.Controller', {\n  extend: qx.core.Object,\n  type: 'singleton',\n  implement: cv.ui.structure.IController,\n\n  /*\n  ***********************************************\n    CONSTRUCTOR\n  ***********************************************\n  */\n  construct() {\n    super();\n    this.__HTML_STRUCT = '';\n    qx.bom.Stylesheet.includeFile(\n      qx.util.ResourceManager.getInstance().toUri('designs/tile-globals.scss').replace('.scss', '.css') +\n        (cv.Config.forceReload === true ? '?' + Date.now() : '')\n    );\n  },\n\n  /*\n  ***********************************************\n    STATICS\n  ***********************************************\n  */\n  statics: {\n    // prefix for all custom components uses/provided by this structure\n    PREFIX: 'cv-',\n    __MAP: {},\n    __I: {},\n\n    MAPPING_PARAM_REGEX: /^(.+)\\(([^)]+)\\)$/,\n\n    register(webComponentName, qxClass) {\n      this.__MAP[webComponentName] = qxClass;\n    },\n\n    onComponentCreated(element) {\n      const name = element.tagName.toLowerCase();\n      if (Object.prototype.hasOwnProperty.call(this, name)) {\n        const QxClass = this.__MAP[name];\n        if (!Object.prototype.hasOwnProperty.call(this, name)) {\n          this.__I[name] = [];\n        }\n        this.__I[name].push(new QxClass(element));\n      } else {\n        qx.log.Logger.error(this, 'no QxClass registered for custom element ' + name);\n      }\n    }\n  },\n\n  /*\n  ***********************************************\n    PROPERTIES\n  ***********************************************\n  */\n  properties: {\n    /**\n     * The target this structure should be inserted into\n     */\n    renderTarget: {\n      check: 'Element',\n      init: document.body\n    },\n\n    /**\n     * Namespace for path ids\n     */\n    namespace: {\n      check: 'String',\n      init: ''\n    }\n  },\n\n  /*\n  ***********************************************\n    MEMBERS\n  ***********************************************\n  */\n  members: {\n    __HTML_STRUCT: null,\n    __mappings: null,\n    __stylings: null,\n\n    getHtmlStructure() {\n      return this.__HTML_STRUCT;\n    },\n\n    supports(feature, subfeature) {\n      return false;\n    },\n\n    initLayout() {},\n\n    __gotoStartPage() {\n      // open first page\n      if (!document.location.hash) {\n        this.scrollToPage(this.getInitialPageId());\n      } else {\n        this.scrollToPage(document.location.hash.substring(1));\n      }\n    },\n\n    onHistoryRequest(anchor) {\n      if (anchor) {\n        this.scrollToPage(anchor);\n      }\n    },\n\n    scrollToPage(pageId, skipHistory) {\n      if (!pageId) {\n        return;\n      }\n      const page = document.querySelector('#' + pageId);\n      if (page) {\n        if (!page.classList.contains('active')) {\n          for (let oldPage of document.querySelectorAll('cv-page.active')) {\n            oldPage.classList.remove('active');\n          }\n          for (let oldPage of document.querySelectorAll('cv-page.sub-active')) {\n            oldPage.classList.remove('sub-active');\n          }\n          page.classList.add('active');\n          // mark parent pages that there is a active subpage\n          let parentElement = page.parentElement;\n          while (parentElement && parentElement.nodeName.toLowerCase() !== 'main') {\n            if (parentElement.nodeName.toLowerCase() === 'cv-page') {\n              parentElement.classList.add('sub-active');\n            }\n            parentElement = parentElement.parentElement;\n          }\n\n          if (skipHistory === undefined) {\n            const headline = page.getAttribute('name');\n            let pageTitle = 'CometVisu';\n            if (headline) {\n              pageTitle = headline + ' - ' + pageTitle;\n            }\n            qx.bom.History.getInstance().addToHistory(pageId, pageTitle);\n          }\n          qx.event.message.Bus.dispatchByName('cv.ui.structure.tile.currentPage', page);\n        }\n      } else {\n        this.warn('no page with id', pageId, 'found');\n      }\n    },\n\n    // not needed, backend parse/init themselves\n    parseBackendSettings(xml) {\n      if (xml.querySelectorAll('cv-backend').length === 0) {\n        // no backends defined, use the default one;\n        const client = cv.io.BackendConnections.initBackendClient();\n        client.login(true, cv.Config.configSettings.credentials, () => {\n          this.debug('logged in');\n          cv.io.BackendConnections.startInitialRequest();\n        });\n      }\n      return false;\n    },\n\n    /**\n     * Parses structure specific settings\n     * @param config {XMLDocument} loaded config\n     */\n    parseSettings(config) {\n      document.body.classList.add('loading-structure');\n      const settings = cv.Config.configSettings;\n      const configElement = config.documentElement;\n      settings.bindClickToWidget = configElement.getAttribute('bind_click_to_widget') === 'true';\n      this.translate(config);\n\n      if (!cv.Config.cacheUsed) {\n        const templates = qx.util.ResourceManager.getInstance().toUri('structures/tile/templates.xml');\n\n        const ajaxRequest = new qx.io.request.Xhr(templates);\n        ajaxRequest.set({\n          accept: 'application/xml',\n          cache: !cv.Config.forceReload\n        });\n\n        ajaxRequest.addListenerOnce('success', e => {\n          let content = e.getTarget().getResponse();\n          const target = this.getRenderTarget();\n          this.debug('creating pages');\n          // register custom elements for templates in this document\n          this.registerTemplates(content);\n          let child;\n          // we need the documents to be in HTML namespace\n          if (!content.documentElement.xmlns) {\n            let text = e.getTarget().getResponseText();\n            text = text.replace('<templates', '<templates xmlns=\"http://www.w3.org/1999/xhtml\"');\n\n            const parser = new DOMParser();\n            content = parser.parseFromString(text, 'text/xml');\n          }\n          while ((child = content.documentElement.firstElementChild)) {\n            target.appendChild(child);\n          }\n\n          while ((child = configElement.firstElementChild)) {\n            target.appendChild(child);\n          }\n          document.body.classList.remove('loading-structure');\n          this.debug('finalizing');\n          qx.event.message.Bus.dispatchByName('setup.dom.append');\n          this.debug('pages created');\n          this.__gotoStartPage();\n          this.debug('setup.dom.finished');\n          qx.event.message.Bus.dispatchByName('setup.dom.finished.before');\n          cv.TemplateEngine.getInstance().setDomFinished(true);\n        });\n        ajaxRequest.addListener('statusError', e => {\n          const status = e.getTarget().getTransport().status;\n          if (!qx.util.Request.isSuccessful(status)) {\n            this.error('filenotfound', templates);\n          }\n          document.body.classList.remove('loading-structure');\n        });\n\n        ajaxRequest.send();\n      }\n    },\n\n    /**\n     * Registers customElements for all templates in the given xml that are direct children of a <templates structure=\"tile\"> element\n     * @param xml {XMLDocument}\n     */\n    registerTemplates(xml) {\n      xml.querySelectorAll('templates[structure=\\'tile\\'] > template').forEach(template => {\n        customElements.define(\n          cv.ui.structure.tile.Controller.PREFIX + template.getAttribute('id'),\n          class extends TemplatedElement {\n            constructor() {\n              super(template.getAttribute('id'));\n            }\n          }\n        );\n      });\n    },\n\n    /**\n     * Pre parsing hook, do everything here that is needed before the real parsing process can start\n     * @param xml {XMLDocument}\n     */\n    async preParse(xml) {\n      if (xml.documentElement.hasAttribute('theme')) {\n        let theme = xml.documentElement.getAttribute('theme');\n        const data = {};\n        if (theme === 'system') {\n          if (window.matchMedia) {\n            theme = window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light';\n            document.documentElement.setAttribute('data-theme', theme);\n            data['theme'] = theme;\n            cv.data.Model.getInstance().updateFrom('system', data);\n            window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', e => {\n              document.documentElement.setAttribute('data-theme', e.matches ? 'dark' : 'light');\n\n              data['theme'] = e.matches ? 'dark' : 'light';\n              cv.data.Model.getInstance().updateFrom('system', data);\n            });\n          } else {\n            this.error('system theme detection not possible in this browser');\n          }\n        } else {\n          document.documentElement.setAttribute('data-theme', theme);\n          data['theme'] = theme;\n          cv.data.Model.getInstance().updateFrom('system', data);\n        }\n      }\n      return true;\n    },\n\n    /**\n     * Generate the UI code from the config file\n     * @param config {Object} loaded config file usually an XMLDocument but other structures might use different formats\n     */\n    createUI(config) {},\n\n    translate(doc) {\n      for (const attr of ['name', 'label']) {\n        for (const trNameElement of doc.querySelectorAll(`*[${attr}^=\"tr(\"]`)) {\n          const match = /^tr\\('([^']+)'\\)$/.exec(trNameElement.getAttribute(attr));\n\n          if (!match) {\n            this.warn('attribute content no valid translation string', trNameElement.getAttribute(attr));\n\n            continue;\n          }\n          const key = match[1];\n          const translation = doc.querySelector(\n            `cv-translations > language[name=\"${qx.locale.Manager.getInstance().getLanguage()}\"] > tr[key='${key}']`\n          );\n\n          if (translation) {\n            trNameElement.setAttribute(attr, translation.textContent.trim());\n          } else {\n            trNameElement.setAttribute(attr, key);\n            this.warn(`[${qx.locale.Manager.getInstance().getLanguage()}] no translation found for: \"${key}\"`);\n          }\n        }\n      }\n      for (const trTextElement of doc.querySelectorAll('*[tr=\"true\"]')) {\n        const key = trTextElement.textContent.trim();\n        const translation = doc.querySelector(\n          `cv-translations > language[name=\"${qx.locale.Manager.getInstance().getLanguage()}\"] > tr[key='${key}']`\n        );\n\n        if (translation) {\n          trTextElement.textContent = translation.textContent.trim();\n        } else {\n          this.warn(`[${qx.locale.Manager.getInstance().getLanguage()}] no translation found for: \"${key}\"`);\n        }\n      }\n    },\n\n    /**\n     * Handle fired event from screensaver\n     * @return {Array<string>} Array with addresses\n     */\n    doScreenSave() {\n      if (cv.Config.configSettings.screensave_page) {\n        this.scrollToPage(cv.Config.configSettings.screensave_page);\n      }\n    },\n\n    /**\n     * Return the addresses needed to update all states on the initially loaded page\n     */\n    getInitialAddresses() {\n      return [];\n    },\n\n    /**\n     * Returns the widget id of the page item initially loaded\n     * @returns {String} widget path like 'id_'...\n     */\n    getInitialPageId() {\n      const firstPage = document.querySelector('cv-page');\n      return firstPage ? firstPage.id : '';\n    },\n\n    /**\n     *\n     * @param name {String} mapping name\n     * @param mapping {cv.ui.structure.tile.elements.Mapping}\n     */\n    addMapping(name, mapping) {\n      if (!this.__mappings) {\n        this.__mappings = {};\n      }\n      this.__mappings[name] = mapping;\n    },\n\n    removeMapping(name) {\n      if (this.__mappings) {\n        delete this.__mappings[name];\n      }\n    },\n\n    mapValue(mappingName, value, store) {\n      let match;\n      let params = [];\n      if ((match = cv.ui.structure.tile.Controller.MAPPING_PARAM_REGEX.exec(mappingName)) !== null) {\n        // this mapping name contains a parameter\n        try {\n          params = JSON.parse(`[${match[2].replaceAll('\\'', '\"')}]`);\n        } catch (e) {\n          this.error('error parsing parameters from ' + mappingName);\n        }\n        mappingName = match[1];\n      }\n      if (this.__mappings && Object.prototype.hasOwnProperty.call(this.__mappings, mappingName)) {\n        return this.__mappings[mappingName].mapValue(value, store, params);\n      }\n      return value;\n    },\n\n    /**\n     * @param name {String} styling name\n     * @param styling {cv.ui.structure.tile.elements.Styling}\n     */\n    addStyling(name, styling) {\n      if (!this.__stylings) {\n        this.__stylings = {};\n      }\n      this.__stylings[name] = styling;\n    },\n\n    removeStyling(name) {\n      if (this.__stylings) {\n        delete this.__stylings[name];\n      }\n    },\n\n    styleValue(stylingName, value, store) {\n      if (this.__stylings && Object.prototype.hasOwnProperty.call(this.__stylings, stylingName)) {\n        return this.__stylings[stylingName].mapValue(value, store);\n      }\n      return value;\n    },\n\n    // for compatibility with pure controller\n    parseLabel() {\n      return '';\n    }\n  },\n\n  defer(statics) {\n    if (!window.cvTestMode) {\n      // do not apply ourselves automatically in test mode\n      cv.Application.structureController = statics.getInstance();\n    }\n  }\n});\n\nclass TemplatedElement extends HTMLElement {\n  constructor(templateId) {\n    super();\n    const controller = cv.ui.structure.tile.Controller.getInstance();\n    let template = document.getElementById(templateId);\n    if (template) {\n      const slotAttributes = ['name', 'replaces', 'parent-scope'];\n      const content = template.content.cloneNode(true);\n      // move slots into template\n      for (let slot of content.querySelectorAll('slot')) {\n        const slotName = slot.getAttribute('name');\n        const replacementSelector = slot.hasAttribute('replaces') ? slot.getAttribute('replaces') : '';\n        const slotParentScope = slot.hasAttribute('parent-scope') ? parseInt(slot.getAttribute('parent-scope')) : 0;\n        let slotContents = this.querySelectorAll(`[slot='${slotName}']`);\n        const attrs = {};\n        for (let i = 0, l = slot.attributes.length; i < l; i++) {\n          if (!slotAttributes.includes(slot.attributes[i].name)) {\n            attrs[slot.attributes[i].name] = slot.attributes[i].value;\n          }\n        }\n        if (slotContents.length > 0) {\n          Array.from(slotContents).forEach(slotContent => {\n            const newNode = slotContent.cloneNode(true);\n            Object.keys(attrs).forEach(attrName => {\n              if (newNode.hasAttribute(attrName)) {\n                if (attrName === 'class') {\n                  // append it\n                  newNode.classList.add(attrs[attrName]);\n                } else {\n                  qx.log.Logger.debug(controller, '[' + templateId + '] attribute', attrName, 'already set, skipping');\n                }\n              } else {\n                newNode.setAttribute(attrName, attrs[attrName]);\n              }\n            });\n            newNode.removeAttribute('slot');\n            slot.parentNode.insertBefore(newNode, slot);\n          });\n          slot.remove();\n          if (replacementSelector) {\n            content.querySelectorAll(replacementSelector).forEach(replaced => {\n              replaced.remove();\n            });\n          }\n        } else {\n          qx.log.Logger.debug(controller, '[' + templateId + '] no content for slot', slotName, ' removing');\n\n          let parentNode = slot.parentNode;\n          if (slotParentScope > 0) {\n            // got slotParentScope elements up and remove that one\n            let i = slotParentScope - 1;\n            while (i > 0) {\n              parentNode = parentNode.parentNode;\n              i--;\n            }\n            if (parentNode) {\n              parentNode.remove();\n            }\n          } else {\n            slot.remove();\n            if (parentNode.children.length === 0) {\n              // also remove slots parent when it has no content\n              parentNode.remove();\n            }\n          }\n        }\n      }\n      // transfer attribute slots\n      const attributes = this.getAttributeNames();\n      attributes.forEach(name => {\n        let value = this.getAttribute(name);\n        const targets = content.querySelectorAll('[slot-' + name + ']');\n        let targetName = name;\n        // allow names like percent-mapping that should also be mapped to a certain elements 'mapping' attribute\n        if (name.endsWith('-mapping')) {\n          targetName = 'mapping';\n        } else if (name.endsWith('-styling')) {\n          targetName = 'styling';\n        } else if (name.endsWith('-format')) {\n          targetName = 'format';\n        }\n        targets.forEach(target => {\n          if (targetName !== name && target.hasAttribute('slot-' + name)) {\n            target.setAttribute(name, value || target.getAttribute('slot-' + name));\n\n            target.removeAttribute('slot-' + name);\n          } else {\n            target.setAttribute(targetName, value || target.getAttribute('slot-' + targetName));\n\n            target.removeAttribute('slot-' + targetName);\n          }\n        });\n        if (targets.length > 0) {\n          this.removeAttribute(name);\n        }\n      });\n      content.querySelectorAll('*').forEach(elem => {\n        [...elem.attributes].forEach(attr => {\n          if (attr.name.startsWith('slot-')) {\n            let targetName = attr.name.substring(5);\n            // only e.g. map slot-progress-mapping to mapping if we have no slot-mapping attribute\n            if (attr.name.endsWith('-mapping') && elem.hasAttribute('slot-mapping')) {\n              targetName = 'mapping';\n            } else if (attr.name.endsWith('-styling') && elem.hasAttribute('slot-styling')) {\n              targetName = 'styling';\n            } else if (attr.name.endsWith('-format') && elem.hasAttribute('slot-format')) {\n              targetName = 'format';\n            }\n            if (attr.value) {\n              elem.setAttribute(targetName, attr.value);\n            }\n            elem.removeAttribute(attr.name);\n          }\n        });\n      });\n\n      // clear content\n      this.innerHTML = '';\n      this.appendChild(content);\n    } else {\n      qx.log.Logger.error(controller, '[' + templateId + '] no template found for id', templateId);\n    }\n  }\n}\n","/* MPopup.js\n *\n * copyright (c) 2010-2022, Christian Mayer and the CometVisu contributers.\n *\n * This program is free software; you can redistribute it and/or modify it\n * under the terms of the GNU General Public License as published by the Free\n * Software Foundation; either version 3 of the License, or (at your option)\n * any later version.\n *\n * This program is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for\n * more details.\n *\n * You should have received a copy of the GNU General Public License along\n * with this program; if not, write to the Free Software Foundation, Inc.,\n * 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA\n */\n\n/**\n * Handles cv-popup children and some general popup tasks, like global registration and close on click outside, modal blocker etc.\n */\nqx.Mixin.define('cv.ui.structure.tile.MPopup', {\n  /*\n  ***********************************************\n    STATICS\n  ***********************************************\n  */\n  statics: {\n    openedPopups: []\n  },\n\n  events: {\n    closed: 'qx.event.type.Event'\n  },\n\n  /*\n  ***********************************************\n    MEMBERS\n  ***********************************************\n  */\n  members: {\n    _childPopup: null,\n\n    _initPopupChild() {\n      const popup = (this._childPopup = this._element.querySelector(':scope > cv-popup'));\n      if (popup) {\n        qx.event.Registration.addListener(this._element, 'tap', this._openPopupChild, this);\n\n        // we need to tell the parent widget that is inside a group that wen have a popup here\n        let parent = popup.parentElement;\n        let last;\n        while (parent) {\n          if (parent.tagName.toLowerCase() === 'cv-group') {\n            last.classList.add('has-popup');\n          } else if (parent.tagName.toLowerCase() === 'cv-page') {\n            break;\n          }\n          last = parent;\n          parent = parent.parentElement;\n        }\n      }\n    },\n\n    _openPopupChild() {\n      const popup = this._element.querySelector(':scope > cv-popup:not([open])');\n\n      if (popup) {\n        popup.getInstance().open();\n      }\n    },\n\n    _closePopupChild() {\n      const popup = this._element.querySelector(':scope > cv-popup[open]');\n      if (popup) {\n        popup.getInstance().close();\n      }\n    },\n\n    registerModalPopup() {\n      qx.event.Registration.addListener(document, 'pointerdown', this._onPointerDown, this);\n\n      let blocker = document.body.querySelector('.modal-popup-blocker');\n      if (!blocker) {\n        blocker = document.createElement('div');\n        blocker.classList.add('modal-popup-blocker');\n        document.body.appendChild(blocker);\n      }\n      blocker.style.display = 'block';\n      cv.ui.structure.tile.MPopup.openedPopups.push(this);\n    },\n\n    unregisterModalPopup() {\n      qx.event.Registration.removeListener(document, 'pointerdown', this._onPointerDown, this);\n\n      const index = cv.ui.structure.tile.MPopup.openedPopups.indexOf(this);\n      cv.ui.structure.tile.MPopup.openedPopups.splice(index, 1);\n      let blocker = document.body.querySelector('.modal-popup-blocker');\n      if (blocker && cv.ui.structure.tile.MPopup.openedPopups.length === 0) {\n        blocker.style.display = 'none';\n      }\n    },\n\n    _onPointerDown(ev) {\n      if (!cv.util.Tree.isChildOf(ev.getTarget(), this._element)) {\n        // clicked outside -> close\n        this.close();\n        ev.preventDefault();\n      }\n    }\n  },\n\n  /*\n  ***********************************************\n    DESTRUCTOR\n  ***********************************************\n  */\n  destruct() {\n    qx.event.Registration.removeListener(this._element, 'tap', this._openPopupChild, this);\n\n    this._childPopup = null;\n  }\n});\n","/* MRefresh.js\n *\n * copyright (c) 2010-2022, Christian Mayer and the CometVisu contributers.\n *\n * This program is free software; you can redistribute it and/or modify it\n * under the terms of the GNU General Public License as published by the Free\n * Software Foundation; either version 3 of the License, or (at your option)\n * any later version.\n *\n * This program is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for\n * more details.\n *\n * You should have received a copy of the GNU General Public License along\n * with this program; if not, write to the Free Software Foundation, Inc.,\n * 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA\n */\n\n/**\n * Adds a refresh attribute that triggers a 'refresh' method which must be implemented by classes including this mixin.\n */\nqx.Mixin.define('cv.ui.structure.tile.MRefresh', {\n  /*\n  ***********************************************\n    PROPERTIES\n  ***********************************************\n  */\n  properties: {\n    refresh: {\n      check: 'Number',\n      init: 0,\n      apply: '_applyRefresh'\n    }\n  },\n\n  /*\n  ***********************************************\n    MEMBERS\n  ***********************************************\n  */\n  members: {\n    _refreshTimer: null,\n    _lastRefresh: null,\n\n    _applyRefresh(value) {\n      if (value === 0) {\n        if (this._refreshTimer) {\n          this._refreshTimer.stop();\n        }\n      } else if (!this._refreshTimer) {\n        this._refreshTimer = new qx.event.Timer(value * 1000);\n        this._refreshTimer.addListener('interval', this.__doRefresh, this);\n        if (typeof this.isVisible === 'function') {\n          if (this.isVisible()) {\n            this._refreshTimer.start();\n          }\n        } else {\n          this._refreshTimer.start();\n        }\n      } else {\n        this._refreshTimer.restartWith(value * 1000);\n      }\n    },\n\n    _applyVisible(isVisible) {\n      if (isVisible) {\n        if (this._refreshTimer) {\n          this._refreshTimer.start();\n          if (!this._lastRefresh || Date.now() - this._lastRefresh >= this._refreshTimer.getInterval()) {\n            // last execution time too old, refresh now\n            this.__doRefresh();\n          }\n        } else if (!this._lastRefresh) {\n          // refresh once when the item becomes visible\n          this.__doRefresh();\n        }\n      } else if (this._refreshTimer) {\n        this._refreshTimer.stop();\n      }\n    },\n\n    __doRefresh() {\n      if (typeof this.refresh === 'function') {\n        this.refresh();\n        this._lastRefresh = Date.now();\n      } else {\n        this.error('refresh method must be implemented!');\n      }\n    }\n  },\n\n  /*\n  ***********************************************\n    DESTRUCTOR\n  ***********************************************\n  */\n  destruct() {\n    this._disposeObjects('_refreshTimer');\n  }\n});\n","/* MResize.js\n *\n * copyright (c) 2010-2022, Christian Mayer and the CometVisu contributers.\n *\n * This program is free software; you can redistribute it and/or modify it\n * under the terms of the GNU General Public License as published by the Free\n * Software Foundation; either version 3 of the License, or (at your option)\n * any later version.\n *\n * This program is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for\n * more details.\n *\n * You should have received a copy of the GNU General Public License along\n * with this program; if not, write to the Free Software Foundation, Inc.,\n * 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA\n */\n\n/**\n * Detects dom elements resizing\n * @ignore(ResizeObserver)\n */\nqx.Mixin.define('cv.ui.structure.tile.MResize', {\n  /*\n  ***********************************************\n    CONSTRUCTOR\n  ***********************************************\n  */\n  construct() {\n    this._observer = new ResizeObserver((entries, observer) => {\n      const element = this.getResizeTarget();\n      entries.some(entry => {\n        if (entry.target === element) {\n          this.fireDataEvent('resized', entry);\n          return true;\n        }\n        return false;\n      });\n    });\n  },\n\n  /*\n  ***********************************************\n    EVENTS\n  ***********************************************\n  */\n  events: {\n    resized: 'qx.event.type.Data'\n  },\n\n  /*\n  ***********************************************\n    PROPERTIES\n  ***********************************************\n  */\n  properties: {\n    resizeTarget: {\n      check: 'Element',\n      nullable: true,\n      apply: '_applyResizeTarget'\n    }\n  },\n\n  /*\n  ***********************************************\n    MEMBERS\n  ***********************************************\n  */\n  members: {\n    /**\n     * @var {ResizeObserver}\n     */\n    _observer: null,\n\n    _applyResizeTarget(element, oldElement) {\n      if (oldElement) {\n        this._observer.unobserve(oldElement);\n      }\n      if (element) {\n        this._observer.observe(element);\n      }\n    }\n  },\n\n  /*\n  ***********************************************\n    DESTRUCTOR\n  ***********************************************\n  */\n  destruct() {\n    this._observer.disconnect();\n    this._observer = null;\n  }\n});\n","/* MVisibility.js\n *\n * copyright (c) 2010-2022, Christian Mayer and the CometVisu contributers.\n *\n * This program is free software; you can redistribute it and/or modify it\n * under the terms of the GNU General Public License as published by the Free\n * Software Foundation; either version 3 of the License, or (at your option)\n * any later version.\n *\n * This program is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for\n * more details.\n *\n * You should have received a copy of the GNU General Public License along\n * with this program; if not, write to the Free Software Foundation, Inc.,\n * 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA\n */\n\n/**\n * Detects dom elements visibility\n * @ignore(IntersectionObserver)\n */\nqx.Mixin.define('cv.ui.structure.tile.MVisibility', {\n  /*\n  ***********************************************\n    CONSTRUCTOR\n  ***********************************************\n  */\n  construct() {\n    this._observeVisibility();\n  },\n\n  /*\n  ***********************************************\n    STATICS\n  ***********************************************\n  */\n  statics: {\n    observer: new IntersectionObserver((entries, observer) => {\n      entries.forEach(entry => {\n        if (entry.target._instance) {\n          entry.target._instance.setVisible(entry.intersectionRatio > 0);\n        }\n      });\n    })\n  },\n\n  /*\n  ***********************************************\n    PROPERTIES\n  ***********************************************\n  */\n  properties: {\n    visible: {\n      check: 'Boolean',\n      init: false,\n      apply: '_applyVisible'\n    }\n  },\n\n  /*\n  ***********************************************\n    MEMBERS\n  ***********************************************\n  */\n  members: {\n    _observeVisibility() {\n      if (this._element) {\n        cv.ui.structure.tile.MVisibility.observer.observe(this._element);\n      } else {\n        this.warn('no element to observe defined');\n      }\n    }\n  }\n});\n","/* AbstractCustomElement.js\n *\n * copyright (c) 2010-2022, Christian Mayer and the CometVisu contributers.\n *\n * This program is free software; you can redistribute it and/or modify it\n * under the terms of the GNU General Public License as published by the Free\n * Software Foundation; either version 3 of the License, or (at your option)\n * any later version.\n *\n * This program is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for\n * more details.\n *\n * You should have received a copy of the GNU General Public License along\n * with this program; if not, write to the Free Software Foundation, Inc.,\n * 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA\n */\n\n/**\n *\n */\nqx.Class.define('cv.ui.structure.tile.elements.AbstractCustomElement', {\n  extend: qx.core.Object,\n  type: 'abstract',\n\n  /*\n  ***********************************************\n    CONSTRUCTOR\n  ***********************************************\n  */\n  construct(element) {\n    this._element = element;\n  },\n\n  /*\n  ***********************************************\n    PROPERTIES\n  ***********************************************\n  */\n  properties: {\n    connected: {\n      check: 'Boolean',\n      init: false,\n      apply: '_applyConnected',\n      event: 'changeConnected'\n    }\n  },\n\n  /*\n  ***********************************************\n    MEMBERS\n  ***********************************************\n  */\n  members: {\n    /**\n     * @var {HTMLElement}\n     */\n    _element: null,\n\n    _initialized: false,\n\n    _applyConnected(value) {\n      if (value && !this._initialized) {\n        this._init();\n        this._initialized = true;\n      } else {\n        this._disconnected();\n        this._initialized = false;\n      }\n    },\n    _init() {},\n\n    _disconnected() {},\n\n    getElement() {\n      return this._element;\n    }\n  },\n\n  /*\n  ***********************************************\n    DESTRUCTOR\n  ***********************************************\n  */\n  destruct() {\n    this._element = null;\n  }\n});\n\n/* eslint-disable-next-line no-redeclare */\nclass QxConnector extends HTMLElement {\n  constructor(QxClass) {\n    super();\n    if (qx.Class.isSubClassOf(QxClass, cv.ui.structure.tile.elements.AbstractCustomElement)) {\n      this._instance = new QxClass(this);\n    } else {\n      throw Error(QxClass + ' must be a subclass of cv.ui.structure.tile.elements.AbstractCustomElement');\n    }\n    if (this.hasAttribute('colspan')) {\n      this.classList.add('colspan-' + this.getAttribute('colspan'));\n    }\n    if (this.hasAttribute('rowspan')) {\n      this.classList.add('rowspan-' + this.getAttribute('rowspan'));\n    }\n  }\n\n  getInstance() {\n    return this._instance;\n  }\n\n  connectedCallback() {\n    if (this._instance) {\n      this._instance.setConnected(true);\n    }\n  }\n\n  disconnectedCallback() {\n    if (this._instance) {\n      this._instance.setConnected(false);\n    }\n  }\n\n  attributeChangedCallback(name, oldValue, newValue) {\n    if (this._instance && qx.Class.hasProperty(this._instance.constructor, name)) {\n      this._instance.set(name, newValue);\n    }\n  }\n}\n\nwindow.QxConnector = QxConnector;\n","/* AbstractComponent.js\n *\n * copyright (c) 2010-2022, Christian Mayer and the CometVisu contributers.\n *\n * This program is free software; you can redistribute it and/or modify it\n * under the terms of the GNU General Public License as published by the Free\n * Software Foundation; either version 3 of the License, or (at your option)\n * any later version.\n *\n * This program is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for\n * more details.\n *\n * You should have received a copy of the GNU General Public License along\n * with this program; if not, write to the Free Software Foundation, Inc.,\n * 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA\n */\n\n/**\n * Base class for all components.\n */\nqx.Class.define('cv.ui.structure.tile.components.AbstractComponent', {\n  extend: cv.ui.structure.tile.elements.AbstractCustomElement,\n  type: 'abstract',\n\n  /*\n  ***********************************************\n    PROPERTIES\n  ***********************************************\n  */\n  properties: {\n    value: {\n      apply: '_applyValue',\n      init: null\n    },\n\n    styleClass: {\n      check: 'String',\n      nullable: true,\n      apply: '_applyStyleClass'\n    },\n\n    enabled: {\n      check: 'Boolean',\n      init: true,\n      apply: '_applyEnabled'\n    },\n\n    visibility: {\n      check: ['visible', 'excluded', 'hidden'],\n      init: 'visible',\n      apply: '_applyVisibility',\n      event: 'changeVisibility'\n    },\n\n    /**\n     * True if this tile is the content of a template based widget\n     */\n    widget: {\n      check: 'Boolean',\n      init: 'false'\n    }\n  },\n\n  /*\n  ***********************************************\n    MEMBERS\n  ***********************************************\n  */\n  members: {\n    _writeAddresses: null,\n    _visibleDisplayMode: null,\n\n    __checkIfWidget() {\n      const parent = this._element.parentElement;\n      let isWidget = false;\n      const name = parent ? parent.tagName.toLowerCase() : '';\n      if (name.startsWith('cv-')) {\n        let template = document.getElementById(name.substring(3));\n        // parent is a template and this is the only child\n        isWidget = !!template && parent.childElementCount === 1;\n      }\n      this.setWidget(isWidget);\n    },\n\n    _init() {\n      this.__checkIfWidget();\n\n      const element = this._element;\n      let hasReadAddress = false;\n      const writeAddresses = [];\n      Array.prototype.forEach.call(element.querySelectorAll(':scope > cv-address'), address => {\n        const mode = address.hasAttribute('mode') ? address.getAttribute('mode') : 'readwrite';\n        switch (mode) {\n          case 'readwrite':\n            hasReadAddress = true;\n            writeAddresses.push(address);\n            break;\n          case 'read':\n            hasReadAddress = true;\n            break;\n          case 'write':\n            writeAddresses.push(address);\n            break;\n        }\n      });\n\n      this._writeAddresses = writeAddresses;\n\n      if (hasReadAddress) {\n        element.addEventListener('stateUpdate', ev => {\n          this.onStateUpdate(ev);\n          // cancel event here\n          ev.stopPropagation();\n        });\n      }\n    },\n\n    // property apply\n    _applyValue(value) {\n      if (this.isConnected()) {\n        this._element.setAttribute('value', value || '');\n        let mappedValue = value;\n        if (this._element.hasAttribute('mapping')) {\n          mappedValue = cv.Application.structureController.mapValue(this._element.getAttribute('mapping'), value);\n        }\n        if (this._element.hasAttribute('format')) {\n          mappedValue = cv.util.String.sprintf(\n            this._element.getAttribute('format'),\n            mappedValue instanceof Date ? mappedValue.toLocaleString() : mappedValue\n          );\n        }\n        this._updateValue(mappedValue, value);\n        if (this._element.hasAttribute('styling')) {\n          let styleClass = cv.Application.structureController.styleValue(this._element.getAttribute('styling'), value);\n\n          this.setStyleClass(styleClass);\n        }\n      }\n    },\n\n    // needs to be implemented by inheriting classes\n    _updateValue(mappedValue, value) {},\n\n    // property apply\n    _applyStyleClass(value, oldValue) {\n      const classes = this._element.classList;\n      if (oldValue) {\n        if (classes.contains(oldValue)) {\n          classes.replace(oldValue, value);\n        } else {\n          classes.add(value);\n          classes.remove(oldValue);\n        }\n      } else if (value) {\n        classes.add(value);\n      }\n    },\n\n    _applyEnabled(value) {\n      let blocker = this._element.querySelector(':scope > .blocker');\n      if (!blocker) {\n        blocker = document.createElement('div');\n        blocker.classList.add('blocker');\n        this._element.appendChild(blocker);\n        blocker.addEventListener('click', ev => {\n          ev.preventDefault();\n          ev.stopPropagation();\n        });\n        blocker.addEventListener('pointerdown', ev => {\n          ev.preventDefault();\n          ev.stopPropagation();\n        });\n        blocker.addEventListener('pointerup', ev => {\n          ev.preventDefault();\n          ev.stopPropagation();\n        });\n      }\n      this._element.setAttribute('disabled', value === false ? 'true' : 'false');\n\n      blocker.style.display = value === true ? 'none' : 'block';\n    },\n\n    _applyVisibility(value, oldValue) {\n      const target = this.isWidget() ? this._element.parentElement : this._element;\n      if (oldValue === 'hidden') {\n        target.style.opacity = '1.0';\n      }\n      switch (value) {\n        case 'visible':\n          if (this._visibleDisplayMode) {\n            target.style.display = this._visibleDisplayMode || 'initial';\n          }\n          break;\n\n        case 'hidden':\n          target.style.opacity = '0';\n          break;\n\n        case 'excluded':\n          this._visibleDisplayMode = getComputedStyle(target).getPropertyValue('display');\n          target.style.display = 'none';\n          break;\n      }\n    },\n\n    /**\n     * Handles the incoming data from the backend for this widget\n     *\n     * @param ev {CustomEvent} stateUpdate event fired from an cv-address component\n     * @return {Boolean} true of the update has been handled\n     */\n    onStateUpdate(ev) {\n      switch (ev.detail.target) {\n        case 'enabled':\n          this.setEnabled(ev.detail.state);\n          ev.stopPropagation();\n          return true;\n        case 'show-exclude':\n          this.setVisibility(ev.detail.state ? 'visible' : 'excluded');\n          ev.stopPropagation();\n          return true;\n        case 'show-hide':\n          this.setVisibility(ev.detail.state ? 'visible' : 'hidden');\n          ev.stopPropagation();\n          return true;\n        case '':\n          this.setValue(ev.detail.state);\n          ev.stopPropagation();\n          return true;\n      }\n\n      return false;\n    }\n  }\n});\n","/* Button.js\n *\n * copyright (c) 2010-2022, Christian Mayer and the CometVisu contributers.\n *\n * This program is free software; you can redistribute it and/or modify it\n * under the terms of the GNU General Public License as published by the Free\n * Software Foundation; either version 3 of the License, or (at your option)\n * any later version.\n *\n * This program is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for\n * more details.\n *\n * You should have received a copy of the GNU General Public License along\n * with this program; if not, write to the Free Software Foundation, Inc.,\n * 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA\n */\n\n/**\n *\n * @author Tobias BrÃ¤utigam\n * @since 2022\n */\nqx.Class.define('cv.ui.structure.tile.components.Button', {\n  extend: cv.ui.structure.tile.elements.AbstractCustomElement,\n\n  /*\n  ***********************************************\n    CONSTRUCTOR\n  ***********************************************\n  */\n  construct(element) {\n    super(element);\n    this.__store = new Map();\n  },\n\n  /*\n  ***********************************************\n    PROPERTIES\n  ***********************************************\n  */\n  properties: {\n    type: {\n      check: ['button', 'trigger', 'push'],\n      init: 'button'\n    },\n\n    on: {\n      check: 'Boolean',\n      init: false,\n      apply: '_applyOn'\n    },\n\n    onClass: {\n      check: 'String',\n      init: 'active'\n    },\n\n    offClass: {\n      check: 'String',\n      init: 'inactive'\n    },\n\n    onValue: {\n      check: 'String',\n      init: '1'\n    },\n\n    offValue: {\n      check: 'String',\n      init: '0'\n    },\n\n    styleClass: {\n      check: 'String',\n      nullable: true,\n      apply: '_applyStyleClass'\n    },\n\n    name: {\n      check: 'String',\n      init: '',\n      apply: '_applyName'\n    },\n\n    progress: {\n      check: 'Number',\n      init: -1,\n      apply: '_applyProgress',\n      transform: '_parseInt'\n    }\n  },\n\n  /*\n  ***********************************************\n    MEMBERS\n  ***********************************************\n  */\n  members: {\n    _writeAddresses: null,\n    __textLabel: null,\n    __circumference: null,\n    /**\n     * @var {Map} value store for addresses to be able to use them e.g. in mapping formulas\n     */\n    __store: null,\n\n    _parseInt(val) {\n      const intVal = parseInt(val);\n      return Number.isNaN(intVal) ? 0 : intVal;\n    },\n\n    _init() {\n      const element = this._element;\n      if (element.hasAttribute('type')) {\n        this.setType(element.getAttribute('type'));\n      }\n      if (element.hasAttribute('name')) {\n        this.setName(element.getAttribute('name'));\n      }\n      if (element.hasAttribute('progress')) {\n        this.setProgress(element.getAttribute('progress'));\n      }\n      if (element.hasAttribute('on-value')) {\n        this.setOnValue(element.getAttribute('on-value'));\n      }\n      if (element.hasAttribute('off-value')) {\n        this.setOffValue(element.getAttribute('off-value'));\n      }\n      let hasReadAddress = false;\n      let writeAddresses = [];\n      Array.prototype.forEach.call(element.querySelectorAll(':scope > cv-address'), address => {\n        const mode = address.hasAttribute('mode') ? address.getAttribute('mode') : 'readwrite';\n        switch (mode) {\n          case 'readwrite':\n            hasReadAddress = true;\n            writeAddresses.push(address);\n            break;\n          case 'read':\n            hasReadAddress = true;\n            break;\n          case 'write':\n            writeAddresses.push(address);\n            break;\n        }\n      });\n\n      this._writeAddresses = writeAddresses;\n\n      if (writeAddresses.length > 0) {\n        const events = {};\n        let eventSource = element;\n        if (element.getAttribute('whole-tile') === 'true') {\n          // find parent tile and use it as event source\n          let parent = element.parentElement;\n          let level = 0;\n          while (level <= 2) {\n            parent = parent.parentElement;\n            level++;\n            if (parent.tagName.toLowerCase() === 'cv-tile') {\n              eventSource = parent;\n              eventSource.classList.add('clickable');\n            }\n          }\n        }\n        writeAddresses.forEach(addr => {\n          let event = addr.hasAttribute('on') ? addr.getAttribute('on') : 'click';\n          switch (event) {\n            case 'click':\n              events.click = this.onClicked.bind(this);\n              break;\n            case 'up':\n              events.pointerup = this.onPointerUp.bind(this);\n              break;\n            case 'down':\n              events.pointerdown = this.onPointerDown.bind(this);\n              break;\n          }\n        });\n        Object.getOwnPropertyNames(events).forEach(eventName =>\n          eventSource.addEventListener(eventName, ev => {\n            events[eventName](ev);\n          })\n        );\n      }\n      if (hasReadAddress) {\n        element.addEventListener('stateUpdate', ev => {\n          this.onStateUpdate(ev);\n          // cancel event here\n          ev.stopPropagation();\n        });\n      } else if (element.hasAttribute('mapping') || element.hasAttribute('styling')) {\n        // apply the trigger state\n        const triggerAddresses = writeAddresses.filter(addr => addr.hasAttribute('value') && !addr.hasAttribute('on'));\n\n        if (triggerAddresses.length === 1) {\n          const value = triggerAddresses[0].getAttribute('value');\n          qx.event.Timer.once(\n            () => {\n              // using == comparisons to make sure that e.g. 1 equals \"1\"\n              // noinspection EqualityComparisonWithCoercionJS\n              this.setOn(value == this.getOnValue());\n            },\n            this,\n            1000\n          );\n        }\n      }\n\n      // detect button type\n      if (\n        !hasReadAddress &&\n        writeAddresses.filter(addr => addr.hasAttribute('value') && !addr.hasAttribute('on')).length === 1\n      ) {\n        // only one write address with a fixed value and no special event => simple trigger\n        this.setType('trigger');\n      } else {\n        let hasDown = false;\n        let hasUp = false;\n        writeAddresses.some(addr => {\n          if (addr.hasAttribute('value') && addr.hasAttribute('on')) {\n            if (!hasDown) {\n              hasDown = addr.getAttribute('on') === 'down';\n            }\n            if (!hasUp) {\n              hasUp = addr.getAttribute('on') === 'up';\n            }\n          }\n          return hasUp && hasDown;\n        });\n        if (hasUp && hasDown) {\n          // has an address for up and one for down event with a fixed value -> pushbutton\n          this.setType('push');\n        }\n      }\n    },\n\n    _initProgress() {\n      const element = this._element;\n      this.__circumference = 100 * Math.PI;\n      const svg = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n      svg.setAttribute('viewBox', '0 0 100 100');\n      svg.setAttribute('type', 'circle');\n      const circle = document.createElementNS('http://www.w3.org/2000/svg', 'circle');\n\n      circle.classList.add('bar');\n      circle.setAttribute('r', '49');\n      circle.setAttribute('cx', '50');\n      circle.setAttribute('cy', '50');\n      circle.setAttribute('stroke-width', '2');\n      circle.setAttribute('stroke-dasharray', this.__circumference + ' ' + this.__circumference);\n\n      circle.setAttribute('stroke-dashoffset', '' + this.__circumference);\n      svg.appendChild(circle);\n      element.appendChild(svg);\n      // make sure that we do not override the progress bar by state appearance\n      element.classList.add('progress');\n    },\n\n    _applyConnected(value) {\n      super._applyConnected(value);\n      if (value) {\n        if (this.getType() !== 'trigger') {\n          // delay this because we need the mappings to be ready\n          qx.event.Timer.once(this._applyOn, this, 1000);\n        }\n      }\n    },\n    _applyOn() {\n      if (this.isConnected()) {\n        let value = this.isOn() ? this.getOnValue() : this.getOffValue();\n        this._element.setAttribute('value', value || '');\n        let mappedValue = value;\n        if (this._element.hasAttribute('mapping')) {\n          mappedValue = cv.Application.structureController.mapValue(\n            this._element.getAttribute('mapping'),\n            value,\n            this.__store\n          );\n        }\n        const target = this._element.querySelector('.value');\n        if (target && target.tagName.toLowerCase() === 'cv-icon') {\n          if (target._instance) {\n            target._instance.setId(mappedValue);\n          } else {\n            target.textContent = mappedValue;\n          }\n        } else {\n          this.updateValue(mappedValue);\n        }\n        let styleClass = this.isOn() ? this.getOnClass() : this.getOffClass();\n        if (this._element.hasAttribute('styling')) {\n          styleClass = cv.Application.structureController.styleValue(\n            this._element.getAttribute('styling'),\n            value,\n            this.__store\n          );\n        }\n        this.setStyleClass(styleClass);\n      }\n    },\n\n    _applyProgress(value) {\n      let valueElement = this._element.querySelector(':scope > svg > circle.bar');\n\n      if (!valueElement) {\n        this._initProgress();\n        valueElement = this._element.querySelector(':scope > svg > circle.bar');\n      }\n      if (valueElement) {\n        if (this._element.hasAttribute('progress-mapping')) {\n          value = cv.Application.structureController.mapValue(\n            this._element.getAttribute('progress-mapping'),\n            value,\n            this.__store\n          );\n        }\n        valueElement.setAttribute(\n          'stroke-dashoffset',\n          '' + (this.__circumference - (value / 100) * this.__circumference)\n        );\n      }\n    },\n\n    _applyStyleClass(value, oldValue) {\n      const classes = this._element.classList;\n      if (oldValue) {\n        if (classes.contains(oldValue)) {\n          classes.replace(oldValue, value);\n        } else {\n          classes.add(value);\n          classes.remove(oldValue);\n        }\n      } else if (value) {\n        classes.add(value);\n      }\n    },\n\n    _applyName(value) {\n      if (!this.__textLabel) {\n        this.__textLabel = document.createElement('label');\n        this.__textLabel.classList.add('button-label');\n        this._element.appendChild(this.__textLabel);\n      }\n      this.__textLabel.textContent = value;\n    },\n\n    updateValue(value) {\n      const elem = this._element.querySelector('span.value');\n      if (elem) {\n        elem.innerHTML = value;\n      }\n    },\n\n    /**\n     * Handles the incoming data from the backend for this widget\n     *\n     * @param ev {CustomEvent} stateUpdate event fired from a cv-address component\n     */\n    onStateUpdate(ev) {\n      // using == comparisons to make sure that e.g. 1 equals \"1\"\n      // noinspection EqualityComparisonWithCoercionJS\n      let value = ev.detail.state == this.getOnValue();\n      let target = ev.detail.target || 'default';\n      if (ev.detail.source instanceof cv.ui.structure.tile.elements.Address) {\n        const addressElement = ev.detail.source.getElement();\n        if (addressElement.hasAttribute('value')) {\n          // noinspection EqualityComparisonWithCoercionJS\n          value = ev.detail.state == addressElement.getAttribute('value');\n        }\n      }\n      if (target === 'default') {\n        this.setOn(value);\n      } else if (target === 'progress') {\n        this.setProgress(ev.detail.state);\n      } else if (target.startsWith('store:')) {\n        this.__store.set(target.substring(6), ev.detail.state);\n      } else if (target === 'store') {\n        // use address as store key\n        this.__store.set(ev.detail.address, ev.detail.state);\n      }\n    },\n\n    onClicked(event) {\n      this.createRipple(event);\n      if (!this._writeAddresses) {\n        this._writeAddresses = Array.prototype.filter.call(\n          this._element.querySelectorAll('addresses > cv-address'),\n          address => !address.hasAttribute('mode') || address.getAttribute('mode') !== 'read'\n        );\n      }\n      const ev = new CustomEvent('sendState', {\n        detail: {\n          value: this.isOn() ? this.getOffValue() : this.getOnValue(),\n          source: this\n        }\n      });\n\n      if (this.getType() === 'trigger') {\n        // simulate feedback\n        this.setOn(true);\n        qx.event.Timer.once(\n          () => {\n            this.setOn(false);\n          },\n          null,\n          250\n        );\n      }\n      this._writeAddresses\n        .filter(addr => !addr.hasAttribute('on') || addr.getAttribute('on') === 'click')\n        .forEach(address => address.dispatchEvent(ev));\n      event.stopPropagation();\n    },\n\n    onPointerDown() {\n      this._writeAddresses\n        .filter(addr => addr.getAttribute('on') === 'down' && addr.hasAttribute('value'))\n        .forEach(address => {\n          address.dispatchEvent(\n            new CustomEvent('sendState', {\n              detail: {\n                value: address.getAttribute('value'),\n                source: this\n              }\n            })\n          );\n        });\n    },\n\n    onPointerUp() {\n      this._writeAddresses\n        .filter(addr => addr.getAttribute('on') === 'up' && addr.hasAttribute('value'))\n        .forEach(address => {\n          address.dispatchEvent(\n            new CustomEvent('sendState', {\n              detail: {\n                value: address.getAttribute('value'),\n                source: this\n              }\n            })\n          );\n        });\n    },\n\n    createRipple(event) {\n      const button = event.currentTarget;\n      let container = button.querySelector(':scope .ripple-container');\n      if (!container) {\n        container = document.createElement('div');\n        container.classList.add('ripple-container');\n        button.appendChild(container);\n      }\n      const circle = document.createElement('span');\n      const diameter = Math.max(button.clientWidth, button.clientHeight);\n      const radius = diameter / 2;\n      circle.style.width = circle.style.height = `${diameter}px`;\n      let x = event.clientX - (button.offsetLeft + radius);\n      let y = event.clientY - (button.offsetTop + radius);\n      if (button === this._element) {\n        x -= button.offsetParent.offsetLeft;\n        y -= button.offsetParent.offsetTop;\n      }\n      circle.style.left = `${x}px`;\n      circle.style.top = `${y}px`;\n      circle.classList.add('ripple');\n      // remove old ones\n      container.querySelectorAll('.ripple').forEach(ripple => ripple.remove());\n      container.appendChild(circle);\n    }\n  },\n\n  defer(QxClass) {\n    customElements.define(\n      cv.ui.structure.tile.Controller.PREFIX + 'button',\n      class extends QxConnector {\n        constructor() {\n          super(QxClass);\n        }\n      }\n    );\n  }\n});\n","/* Address.js\n *\n * copyright (c) 2010-2022, Christian Mayer and the CometVisu contributers.\n *\n * This program is free software; you can redistribute it and/or modify it\n * under the terms of the GNU General Public License as published by the Free\n * Software Foundation; either version 3 of the License, or (at your option)\n * any later version.\n *\n * This program is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for\n * more details.\n *\n * You should have received a copy of the GNU General Public License along\n * with this program; if not, write to the Free Software Foundation, Inc.,\n * 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA\n */\n\n/**\n * Address element that connect a widget/component to the backend.\n *\n *  @author Tobias BrÃ¤utigam\n *  @since 2022\n */\nqx.Class.define('cv.ui.structure.tile.elements.Address', {\n  extend: cv.ui.structure.tile.elements.AbstractCustomElement,\n\n  /*\n  ***********************************************\n    MEMBERS\n  ***********************************************\n  */\n  members: {\n    __lastValue: null,\n    __transformedValue: null,\n\n    _init() {\n      const element = this._element;\n      const address = element.textContent.trim();\n      if (address) {\n        const model = cv.data.Model.getInstance();\n        const backendName = element.getAttribute('backend');\n        model.addAddress(address, element.getAttribute('id'), backendName);\n        const mode = element.hasAttribute('mode') ? element.getAttribute('mode') : 'readwrite';\n        if (mode !== 'write') {\n          // subscribe\n          // this is a read address register for updates\n          const state = model.getState(address, backendName);\n          if (state !== undefined) {\n            this.fireStateUpdate(address, state);\n          }\n          //add listener\n          model.addUpdateListener(address, this.fireStateUpdate, this, backendName);\n        }\n        if (mode !== 'read') {\n          // listen for sendState events\n          element.addEventListener('sendState', ev => {\n            let value = null;\n            if (Object.prototype.hasOwnProperty.call(ev.detail, 'value')) {\n              value = ev.detail.value;\n            }\n            if (element.hasAttribute('value')) {\n              // address has a fixed value that must be sent\n              value = element.getAttribute('value');\n            }\n            const allowDuplicates =\n              ev.detail.source &&\n              ev.detail.source instanceof cv.ui.structure.tile.components.Button &&\n              (ev.detail.source.getType() === 'trigger' || ev.detail.source.getType() === 'push');\n            if (value !== null) {\n              const encoding = element.getAttribute('transform') || 'raw';\n              const encodedValue = cv.Transform.encodeBusAndRaw({ transform: encoding }, value);\n\n              // noinspection EqualityComparisonWithCoercionJS\n              if (\n                allowDuplicates ||\n                !Object.prototype.hasOwnProperty.call(element, 'lastSentValue') ||\n                encodedValue.raw !== element.lastSentValue\n              ) {\n                if (element.hasAttribute('delay')) {\n                  const delay = parseInt(element.getAttribute('delay'));\n                  this.debug(`send with delay of ${delay}ms`);\n                  qx.event.Timer.once(\n                    () => {\n                      cv.io.BackendConnections.getClient(backendName).write(\n                        element.textContent,\n                        encodedValue.bus,\n                        element\n                      );\n\n                      if (!allowDuplicates) {\n                        element.lastSentValue = encodedValue.raw;\n                      }\n                    },\n                    this,\n                    delay\n                  );\n                } else {\n                  cv.io.BackendConnections.getClient(backendName).write(element.textContent, encodedValue.bus, element);\n\n                  if (!allowDuplicates) {\n                    element.lastSentValue = encodedValue.raw;\n                  }\n                }\n              }\n            }\n          });\n        }\n      }\n    },\n\n    /**\n     * Creates a 'stateUpdate' event with the transformed value and dispatches it to the <cv-address>-Element.\n     * @param address {String} address\n     * @param state {variant} state to send\n     */\n    fireStateUpdate(address, state) {\n      if (this.__lastValue !== state || this._element.getAttribute('send-mode') === 'always') {\n        let transform = this._element.getAttribute('transform') || 'raw';\n        let transformedState = cv.Transform.decode({ transform: transform }, state);\n\n        let mapping = '';\n        if (this._element.hasAttribute('mapping')) {\n          mapping = this._element.getAttribute('mapping');\n          transformedState = cv.Application.structureController.mapValue(mapping, transformedState);\n        }\n        if (this._element.hasAttribute('format')) {\n          transformedState = cv.util.String.sprintf(\n            this._element.getAttribute('format'),\n            transformedState instanceof Date ? transformedState.toLocaleString() : transformedState\n          );\n        }\n        const ev = new CustomEvent('stateUpdate', {\n          bubbles: true,\n          cancelable: true,\n          detail: {\n            address: this._element.textContent.trim(),\n            state: transformedState,\n            target: this._element.getAttribute('target') || '',\n            raw: state,\n            mapping: mapping,\n            addressValue: this._element.hasAttribute('value') ? this._element.getAttribute('value') : null,\n            source: this,\n            variant: this._element.hasAttribute('variant') ? this._element.getAttribute('variant') : null\n          }\n        });\n\n        this.__transformedValue = transformedState;\n        //console.log(ev.detail);\n        this._element.dispatchEvent(ev);\n        this.__lastValue = state;\n        // reset lastSentValue\n        if (state !== this._element.lastSentValue) {\n          this._element.lastSentValue = null;\n        }\n      }\n    },\n\n    /**\n     *\n     * @return {boolean} true if this is a read address\n     */\n    isRead() {\n      return this._element.getAttribute('mode') !== 'write';\n    },\n\n    /**\n     *\n     * @return {boolean} true if this is a write address\n     */\n    isWrite() {\n      return this._element.getAttribute('mode') !== 'read';\n    },\n\n    getValue() {\n      return this.__transformedValue;\n    }\n  },\n\n  defer(Clazz) {\n    customElements.define(\n      cv.ui.structure.tile.Controller.PREFIX + 'address',\n      class extends QxConnector {\n        constructor() {\n          super(Clazz);\n        }\n      }\n    );\n  }\n});\n","/* Chart.js\n *\n * copyright (c) 2010-2022, Christian Mayer and the CometVisu contributers.\n *\n * This program is free software; you can redistribute it and/or modify it\n * under the terms of the GNU General Public License as published by the Free\n * Software Foundation; either version 3 of the License, or (at your option)\n * any later version.\n *\n * This program is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for\n * more details.\n *\n * You should have received a copy of the GNU General Public License along\n * with this program; if not, write to the Free Software Foundation, Inc.,\n * 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA\n */\n\n/* eslint-disable arrow-body-style */\n/**\n * Shows an chart.\n * @asset(libs/d3.min.js)\n * @ignore(d3)\n */\nqx.Class.define('cv.ui.structure.tile.components.Chart', {\n  extend: cv.ui.structure.tile.components.AbstractComponent,\n  include: cv.ui.structure.tile.MVisibility,\n\n  /*\n  ***********************************************\n    STATICS\n  ***********************************************\n  */\n  statics: {\n    ChartCounter: 0,\n\n    JS_LOADED: new Promise(async (resolve, reject) => {\n      const check = () => typeof window.d3 === 'object';\n      await cv.util.ScriptLoader.includeScript(qx.util.ResourceManager.getInstance().toUri('libs/d3.min.js'));\n\n      if (!check()) {\n        const timer = new qx.event.Timer(50);\n        let counter = 0;\n        timer.addListener('interval', () => {\n          counter++;\n          if (check()) {\n            resolve(true);\n          } else if (counter > 5) {\n            reject(new Error('Error loaded d3 library'));\n          }\n        });\n      } else {\n        resolve(true);\n      }\n    }).then(() => {\n      if (qx.locale.Manager.getInstance().getLanguage() === 'de') {\n        // localize\n        d3.formatDefaultLocale({\n          decimal: ',',\n          thousands: '.',\n          grouping: [3],\n          currency: ['â¬', '']\n        });\n\n        d3.timeFormatDefaultLocale({\n          dateTime: '%A, der %e. %B %Y, %X',\n          date: '%d.%m.%Y',\n          time: '%H:%M:%S',\n          periods: ['AM', 'PM'],\n          days: ['Sonntag', 'Montag', 'Dienstag', 'Mittwoch', 'Donnerstag', 'Freitag', 'Samstag'],\n\n          shortDays: ['So', 'Mo', 'Di', 'Mi', 'Do', 'Fr', 'Sa'],\n          months: [\n            'Januar',\n            'Februar',\n            'MÃ¤rz',\n            'April',\n            'Mai',\n            'Juni',\n            'Juli',\n            'August',\n            'September',\n            'Oktober',\n            'November',\n            'Dezember'\n          ],\n\n          shortMonths: ['Jan', 'Feb', 'MÃ¤r', 'Apr', 'Mai', 'Jun', 'Jul', 'Aug', 'Sep', 'Okt', 'Nov', 'Dez']\n        });\n      }\n    }),\n\n    CONFIG: null\n  },\n\n  /*\n  ***********************************************\n    PROPERTIES\n  ***********************************************\n  */\n  properties: {\n    type: {\n      check: ['axis-mixed', 'bar', 'line', 'scatter', 'pie', 'percentage'],\n      init: 'line'\n    }\n  },\n\n  /*\n  ***********************************************\n    MEMBERS\n  ***********************************************\n  */\n  members: {\n    _downloadedImage: null,\n    _url: null,\n    _headers: null,\n    _request: null,\n    _chart: null,\n    _width: null,\n    _height: null,\n    _loaded: null,\n    _dataSetConfigs: null,\n\n    async _init() {\n      const element = this._element;\n      if (element.hasAttribute('type')) {\n        this.setType(element.getAttribute('type'));\n      }\n      await cv.ui.structure.tile.components.Chart.JS_LOADED;\n      if (this.isVisible()) {\n        this._loadData();\n      }\n      if (element.hasAttribute('allow-fullscreen') && element.getAttribute('allow-fullscreen') === 'true') {\n        const chartId = 'chart-' + cv.ui.structure.tile.components.Chart.ChartCounter;\n        // add fullscreen button + address\n        const button = document.createElement('cv-button');\n        button.classList.add('fullscreen');\n        const buttonAddress = document.createElement('cv-address');\n        buttonAddress.setAttribute('backend', 'system');\n        buttonAddress.textContent = `state:${chartId}-popup`;\n        button.appendChild(buttonAddress);\n        const icon = document.createElement('cv-icon');\n        icon.textContent = 'ri-fullscreen-line';\n        button.appendChild(icon);\n        element.parentElement.insertBefore(button, element);\n\n        // address\n        const tileAddress = document.createElement('cv-address');\n        tileAddress.setAttribute('mode', 'read');\n        tileAddress.setAttribute('target', 'fullscreen-popup');\n        tileAddress.setAttribute('backend', 'system');\n        tileAddress.setAttribute('send-mode', 'always');\n        tileAddress.textContent = buttonAddress.textContent;\n        element.parentElement.appendChild(tileAddress);\n\n        // listen to parent tile of popup is opened or not\n        let parent = element;\n        while (parent && parent.nodeName.toLowerCase() !== 'cv-tile') {\n          parent = parent.parentElement;\n        }\n        if (parent) {\n          const tileWidget = parent.getInstance();\n          tileWidget.addListener('closed', () => {\n            const ev = new CustomEvent('sendState', {\n              detail: {\n                value: 0,\n                source: this\n              }\n            });\n            buttonAddress.dispatchEvent(ev);\n          });\n\n          // because we added a read address to the tile after is has been initialized we need to init the listener here manually\n          parent.addEventListener('stateUpdate', ev => {\n            tileWidget.onStateUpdate(ev);\n            // cancel event here\n            ev.stopPropagation();\n          });\n        }\n      }\n\n      cv.ui.structure.tile.components.Chart.ChartCounter++;\n    },\n\n    _applyVisible(value) {\n      if (value && typeof window.d3 === 'object') {\n        this._loadData();\n      }\n    },\n\n    _loadData() {\n      if (this._loaded && Date.now() - this._loaded < 300000) {\n        // don't reload within 5 minutes\n        return;\n      }\n      const client = cv.io.BackendConnections.getClient();\n      let url;\n      const dataSets = this._element.querySelectorAll(':scope > dataset');\n      const series = this._element.getAttribute('series') || 'day';\n      const seriesConfig = {};\n      switch (series) {\n        case 'hour':\n          seriesConfig.xTicks = d3.timeMinute.every(5);\n          seriesConfig.start = 'end-1' + series;\n          break;\n\n        case 'day':\n          seriesConfig.xTicks = d3.timeHour.every(4);\n          seriesConfig.start = 'end-1' + series;\n          break;\n\n        case 'week':\n          seriesConfig.xTicks = d3.timeDay.every(1);\n          seriesConfig.start = 'end-1' + series;\n          break;\n\n        case 'month':\n          seriesConfig.xTicks = d3.timeDay.every(5);\n          seriesConfig.start = 'end-1' + series;\n          break;\n\n        case 'year':\n          seriesConfig.xTicks = d3.timeDay.every(31);\n          seriesConfig.start = 'end-1' + series;\n          break;\n      }\n      const promises = [];\n      this._dataSetConfigs = {};\n      for (let dataSet of dataSets) {\n        let ts = Object.assign({\n          showArea: true,\n          color: '#FF9900',\n          type: 'line',\n          title: '',\n          start: 'end-1day',\n          end: 'now',\n          xTicks: d3.timeHour.every(4),\n          curve: 'linear'\n        }, seriesConfig);\n\n        let attr;\n        let name;\n        let value;\n        for (let i = 0; i < dataSet.attributes.length; i++) {\n          attr = dataSet.attributes.item(i);\n          // CamelCase attribute names\n          name = attr.name\n            .split('-')\n            .map((part, i) => {\n              if (i > 0) {\n                return `${part.substring(0, 1).toUpperCase()}${part.substring(1)}`;\n              }\n              return part;\n            })\n            .join('');\n          value = attr.value;\n          if (value === 'true' || value === 'false') {\n            value = value === 'true';\n          } else if (/^\\d+$/.test(value)) {\n            value = parseInt(value);\n          } else if (/^[\\d.]+$/.test(value)) {\n            value = parseFloat(value);\n          }\n          ts[name] = value;\n        }\n        let start = new Date();\n        start.setTime(start.getTime() - 60 * 60 * 24 * 1000);\n        url = client.getResourcePath('charts', {\n          src: ts.src,\n          start: ts.start,\n          end: ts.end\n        });\n\n        if (!url) {\n          continue;\n        }\n        this._dataSetConfigs[ts.src] = ts;\n        promises.push(\n          cv.io.Fetch.fetch(url, null, false, client)\n            .then(data => {\n              if (client.hasCustomChartsDataProcessor(data)) {\n                data = client.processChartsData(data, ts);\n              }\n              return {\n                data: data,\n                ts: ts\n              };\n            })\n            .catch(err => {\n              this._onStatusError(ts, url, err);\n            })\n        );\n      }\n      Promise.all(promises).then(responses => {\n        this._onSuccess(responses);\n      });\n    },\n\n    _onSuccess(data) {\n      if (!this.isVisible()) {\n        return;\n      }\n      let chartData = [];\n\n      for (let entry of data) {\n        let tsdata = entry.data;\n        if (tsdata !== null) {\n          for (let [time, value] of tsdata) {\n            chartData.push({\n              src: entry.ts.src,\n              time: entry.ts.aggregationInterval > 0 && entry.ts.type === 'stacked-bar' // stacked bar times must be aggregated, the have to be at the same time inden for stacking\n                ? Math.round(time / entry.ts.aggregationInterval) * entry.ts.aggregationInterval : time,\n              value\n            });\n          }\n        }\n      }\n      let minVal = d3.min(chartData, d => +d.value);\n      let maxVal = d3.max(chartData, d => +d.value) + 1;\n      if (minVal > 1.0) {\n        minVal -= 1;\n      }\n\n      const format = this._element.hasAttribute('y-format') ? this._element.getAttribute('y-format') : '%s';\n      let timeFormat = null;\n      if (this._element.hasAttribute('x-format')) {\n        const formatString = this._element.getAttribute('x-format');\n        timeFormat = date => d3.timeFormat(formatString)(date);\n      } else {\n        // format auto-detection\n        timeFormat = this.multiTimeFormat([\n          [\n            '.%L',\n            function (d) {\n              return d.getMilliseconds();\n            }\n          ],\n\n          [\n            ':%S',\n            function (d) {\n              return d.getSeconds();\n            }\n          ],\n\n          [\n            '%H:%M',\n            function (d) {\n              return d.getMinutes();\n            }\n          ],\n\n          [\n            '%H',\n            function (d) {\n              return d.getHours();\n            }\n          ],\n\n          [\n            '%a %d',\n            function (d) {\n              return d.getDay() && d.getDate() !== 1;\n            }\n          ],\n\n          [\n            '%b %d',\n            function (d) {\n              return d.getDate() !== 1;\n            }\n          ],\n\n          [\n            '%B',\n            function (d) {\n              return d.getMonth();\n            }\n          ],\n\n          [\n            '%Y',\n            function () {\n              return true;\n            }\n          ]\n        ]);\n      }\n\n      this._chart = this._lineChart(chartData, {\n        x: d => d.time,\n        y: d => d.value,\n        z: d => d.src,\n        color: d => {\n          return d && this._dataSetConfigs[d].color;\n        },\n        title: d => {\n          return cv.util.String.sprintf(format, d.value);\n        },\n        chartTitle: this._element.hasAttribute('title') ? this._element.getAttribute('title') : null,\n        //yLabel: ts.unit,\n        xDomain: d3.extent(chartData, d => d.time),\n        yDomain: [minVal, maxVal],\n        showArea: d => {\n          return this._dataSetConfigs[d].showArea;\n        },\n        mixBlendMode: 'normal',\n        xFormat: timeFormat\n      });\n\n      this._loaded = Date.now();\n    },\n\n    multiTimeFormat(formatsArray) {\n      /**\n       * @param date\n       */\n      function multiFormat(date) {\n        let i = 0;\n        let found = false;\n        let fmt = '%c';\n        while (!found && i < formatsArray.length) {\n          found = formatsArray[i][1](date);\n          if (found) {\n            fmt = formatsArray[i][0];\n          }\n          i++;\n        }\n        return fmt;\n      }\n      return date => d3.timeFormat(multiFormat(date))(date);\n    },\n\n    _onStatusError(ts, key, err) {\n      cv.core.notifications.Router.dispatchMessage('cv.charts.error', {\n        title: qx.locale.Manager.tr('Communication error'),\n        severity: 'urgent',\n        message: qx.locale.Manager.tr('URL: %1<br/><br/>Response:</br>%2', JSON.stringify(key), err)\n      });\n\n      this.error('Chart _onStatusError', ts, key, err);\n    },\n\n    /**\n     * Copyright 2021 Observable, Inc.\n     * Released under the ISC license.\n     * https://observablehq.com/@d3/multi-line-chart\n     *\n     * @param data\n     * @param c\n     * @private\n     */\n    _lineChart(data, c) {\n      if (!cv.ui.structure.tile.components.Chart.CONFIG) {\n        cv.ui.structure.tile.components.Chart.CONFIG = {\n          x: d => d[0], // given d in data, returns the (temporal) x-value\n          y: d => d[1], // given d in data, returns the (quantitative) y-value\n          z: () => 1, // given d in data, returns the (categorical) z-value\n          chartTitle: undefined, // title for the chart\n          title: undefined, // given d in data, returns the title text\n          defined: undefined, // for gaps in data\n          curve: d3.curveLinear, // method of interpolation between points\n          marginTop: 24, // top margin, in pixels\n          marginRight: 24, // right margin, in pixels\n          marginBottom: 24, // bottom margin, in pixels\n          marginLeft: 30, // left margin, in pixels\n          width: 392, // outer width, in pixels\n          height: 192, // outer height, in pixels\n          xType: d3.scaleTime, // type of x-scale\n          xDomain: undefined, // [xmin, xmax]\n          xRange: undefined, // [left, right]\n          xFormat: undefined, // a format specifier string for the x-axis\n          yType: d3.scaleLinear, // type of y-scale\n          yDomain: undefined, // [ymin, ymax]\n          yRange: undefined, // [bottom, top]\n          yFormat: undefined, // a format specifier string for the y-axis\n          yLabel: undefined, // a label for the y-axis\n          zDomain: undefined, // array of z-values\n          color: 'currentColor', // stroke color of line, as a constant or a function of *z*\n          strokeLinecap: undefined, // stroke line cap of line\n          strokeLinejoin: undefined, // stroke line join of line\n          strokeWidth: 1.5, // stroke width of line\n          strokeOpacity: undefined, // stroke opacity of line\n          mixBlendMode: 'multiply', // blend mode of lines\n          showArea: undefined, // show area below the line,\n          xPadding: 0.1 // amount of x-range to reserve to separate bars\n        };\n      }\n      const config = Object.assign({}, cv.ui.structure.tile.components.Chart.CONFIG, c);\n\n      config.xRange = [config.marginLeft, config.width - config.marginRight]; // [left, right]\n      config.yRange = [config.height - config.marginBottom, config.marginTop]; // [bottom, top]\n\n      // Compute values.\n      const X = d3.map(data, config.x);\n      const Y = d3.map(data, config.y);\n      const Z = d3.map(data, config.z);\n      const O = d3.map(data, d => d);\n      if (config.defined === undefined) {\n        config.defined = (d, i) => !isNaN(X[i]) && !isNaN(Y[i]);\n      }\n      //const D = d3.map(data, config.defined);\n\n      // Compute default domains, and unique the z-domain.\n      if (config.xDomain === undefined) {\n        config.xDomain = d3.extent(X);\n      }\n      if (config.yDomain === undefined) {\n        config.yDomain = [0, d3.max(Y, d => (typeof d === 'string' ? +d : d))];\n      }\n      if (config.zDomain === undefined) {\n        config.zDomain = Z;\n      }\n      config.zDomain = new d3.InternSet(config.zDomain);\n\n      // Omit any data not present in the z-domain.\n      const I = d3.range(X.length).filter(i => config.zDomain.has(Z[i]));\n\n      // Construct scales and axes.\n      let xScale = config.xType(config.xDomain, config.xRange);\n      let xzScale = d => 0;\n      let yScale = config.yType(config.yDomain, config.yRange);\n      const xTicks = config.width / 80;\n      const yTicks = config.height / 60;\n      const xAxis = d3\n        .axisBottom(xScale)\n        .ticks(xTicks)\n        .tickSizeOuter(0)\n        .tickFormat(config.xFormat);\n      const yAxis = d3.axisLeft(yScale).ticks(yTicks, config.yFormat);\n\n      // Compute titles.\n      const T = config.title === undefined ? Z : config.title === null ? null : d3.map(data, config.title);\n\n      d3.select(this._element).select('svg').remove();\n\n      const tooltip = d3.select(this._element)\n        .append('div')\n        .style('opacity', 0)\n        .attr('class', 'tooltip');\n\n      let linePath;\n\n      const pointerMoved = event => {\n        const [xm, ym] = d3.pointer(event);\n        const i = d3.least(I, i => Math.hypot(xScale(X[i]) - xm, yScale(Y[i]) - ym));\n        const scaleFactorX = this._element.offsetWidth / config.width;\n        const scaleFactorY = this._element.offsetHeight / config.height;\n        // closest point\n        const xOffset = xzScale(Z[i]) + (typeof xzScale.bandwidth === 'function' ? xzScale.bandwidth()/2 : 0);\n        dot.attr('transform', `translate(${xScale(X[i]) + xOffset},${yScale(Y[i])})`);\n        if (T) {\n          const ttNode = tooltip.node();\n          const timeString = config.xFormat(new Date(X[i]));\n          const top = ym*scaleFactorY - ttNode.offsetHeight - 40;\n          let left = (xm*scaleFactorX + ttNode.offsetWidth) > this._element.offsetWidth ? xm*scaleFactorX - ttNode.offsetWidth : xm*scaleFactorX;\n\n          const key = Z[i];\n          const lineTitle = this._dataSetConfigs[key] && this._dataSetConfigs[key].title ? this._dataSetConfigs[key].title + ': ' : '';\n          tooltip\n            .html(`${timeString}<br/>${lineTitle}${T[i]}`)\n            .style('left', left + 'px')\n            .style('top', top + 'px');\n        }\n        svg.property('value', O[i]).dispatch('input', { bubbles: true });\n      };\n\n      const pointerEntered = () => {\n        dot.attr('display', null);\n        tooltip.style('opacity', 1);\n      };\n\n      const pointerLeft = ev => {\n        if (ev.relatedTarget !== tooltip.node()) {\n          dot.attr('display', 'none');\n          svg.node().value = null;\n          svg.dispatch('input', {bubbles: true});\n          tooltip.style('opacity', 0);\n        }\n      };\n\n      const svg = d3\n        .select(this._element)\n        .append('svg')\n        .attr('viewBox', [0, 0, config.width, config.height])\n        .attr('style', 'max-width: 100%; height: auto; height: intrinsic;')\n        .style('-webkit-tap-highlight-color', 'transparent')\n        .on('pointerenter', pointerEntered)\n        .on('pointermove', pointerMoved)\n        .on('pointerleave', pointerLeft)\n        .on(\n          'touchmove',\n          event => {\n            let y = event.targetTouches[0].clientY;\n            if (linePath) {\n              const pathRect = linePath.node().getBoundingClientRect();\n              if (y > pathRect.y && y < pathRect.y + pathRect.height) {\n                event.preventDefault();\n              }\n            }\n          },\n          { passive: false }\n        );\n\n      const showGrid = this._element.hasAttribute('show-grid') ? this._element.getAttribute('show-grid') : 'xy';\n      if (showGrid.includes('x')) {\n        svg.append('g')\n          .attr('class', 'grid')\n          .attr('transform', `translate(0,${config.height - config.marginBottom})`)\n          .call(d3.axisBottom(xScale).ticks(xTicks)\n            .tickSize(-config.height + config.marginBottom + config.marginTop)\n            .tickFormat('')\n          );\n      }\n      if (showGrid.includes('y')) {\n        svg.append('g')\n          .attr('class', 'grid')\n          .attr('transform', `translate(${config.marginLeft},0)`)\n          .call(d3.axisLeft(yScale).ticks(yTicks)\n            .tickSize(-config.width + config.marginRight + config.marginLeft)\n            .tickFormat('')\n          );\n      }\n\n      const showXAxis = !this._element.hasAttribute('show-x-axis') || this._element.getAttribute('show-x-axis') === 'true';\n      const showYAxis = !this._element.hasAttribute('show-y-axis') || this._element.getAttribute('show-y-axis') === 'true';\n      if (showXAxis) {\n        svg\n          .append('g')\n          .attr('transform', `translate(0,${config.height - config.marginBottom})`)\n          .call(xAxis);\n      }\n      if (showYAxis) {\n        svg\n          .append('g')\n          .attr('transform', `translate(${config.marginLeft},0)`)\n          .call(yAxis)\n          .call(g => g.select('.domain').remove())\n          .call(g =>\n            g\n              .append('text')\n              .attr('x', -config.marginLeft)\n              .attr('y', 10)\n              .attr('fill', 'currentColor')\n              .attr('text-anchor', 'start')\n              .text(config.yLabel)\n          );\n      }\n\n      if (config.chartTitle) {\n        svg.append('text')\n          .attr('x', (config.width / 2))\n          .attr('y', config.marginTop)\n          .attr('class', 'chart-title')\n          .text(config.chartTitle);\n      }\n\n      const lineGroups = new Map();\n      const areaGroups = new Map();\n      const barGroups = new Map();\n      const stackedBarGroups = new Map();\n      for (let i of I) {\n        const key = Z[i];\n        if (this._dataSetConfigs[key].type === 'line' && typeof config.showArea === 'function' && config.showArea(key)) {\n          if (!areaGroups.has(key)) {\n            areaGroups.set(key, []);\n          }\n          areaGroups.get(key).push(i);\n        }\n        switch (this._dataSetConfigs[key].type) {\n          case 'line':\n            if (!lineGroups.has(key)) {\n              lineGroups.set(key, []);\n            }\n            lineGroups.get(key).push(i);\n            break;\n\n          case 'bar':\n            if (!barGroups.has(key)) {\n              barGroups.set(key, []);\n            }\n            barGroups.get(key).push(i);\n            break;\n\n          case 'stacked-bar':\n            if (!stackedBarGroups.has(key)) {\n              stackedBarGroups.set(key, []);\n            }\n            stackedBarGroups.get(key).push(i);\n            break;\n        }\n      }\n\n      if (lineGroups.size > 0) {\n        const lineFunctions = {};\n        for (let key of lineGroups.keys()) {\n          const curveName = this._dataSetConfigs[key].curve || 'linear';\n          if (!Object.prototype.hasOwnProperty.call(lineFunctions, curveName)) {\n            let curveFunction;\n            switch (curveName) {\n              case 'linear':\n                curveFunction = d3.curveLinear;\n                break;\n\n              case 'step':\n                curveFunction = d3.curveStep;\n                break;\n\n              case 'natural':\n                curveFunction = d3.curveNatural;\n                break;\n            }\n            if (curveFunction) {\n              // Construct a line generator.\n              lineFunctions[curveName] = d3\n                .line()\n                .curve(curveFunction)\n                .x(i => xScale(X[i]))\n                .y(i => yScale(Y[i]));\n            }\n          }\n        }\n\n        linePath = svg\n          .append('g')\n          .attr('fill', 'none')\n          .attr('stroke', typeof config.color === 'string' ? config.color : null)\n          .attr('stroke-linecap', config.strokeLinecap)\n          .attr('stroke-linejoin', config.strokeLinejoin)\n          .attr('stroke-width', config.strokeWidth)\n          .attr('stroke-opacity', config.strokeOpacity)\n          .selectAll('path')\n          .data(lineGroups)\n          .join('path')\n          .style('mix-blend-mode', config.mixBlendMode)\n          .attr('stroke', typeof config.color === 'function' ? p => config.color(p[0]) : null)\n          .attr('d', d => {\n            const curveName = this._dataSetConfigs[d[0]].curve || 'linear';\n            const func = lineFunctions[curveName] || lineFunctions.linear;\n            return func(d[1]);\n          });\n      }\n\n      // Add the area\n      if (areaGroups.size > 0) {\n        const areaFunctions = {};\n        for (let key of areaGroups.keys()) {\n          const curveName = this._dataSetConfigs[key].curve || 'linear';\n          if (!Object.prototype.hasOwnProperty.call(areaFunctions, curveName)) {\n            let curveFunction;\n            switch (curveName) {\n              case 'linear':\n                curveFunction = d3.curveLinear;\n                break;\n\n              case 'step':\n                curveFunction = d3.curveStep;\n                break;\n\n              case 'natural':\n                curveFunction = d3.curveNatural;\n                break;\n            }\n            if (curveFunction) {\n              // Construct a line generator.\n              areaFunctions[curveName] = d3\n                .area()\n                .curve(curveFunction)\n                .x(i => xScale(X[i]))\n                .y0(() => config.yRange[0])\n                .y1(i => yScale(Y[i]));\n            }\n          }\n        }\n\n        svg\n          .append('g')\n          .attr('stroke', 'none')\n          .attr('fill', typeof config.color === 'string' ? this.__opacifyColor(config.color, '30') : null)\n          .selectAll('path')\n          .data(areaGroups)\n          .join('path')\n          .style('mix-blend-mode', config.mixBlendMode)\n          .attr('fill', typeof config.color === 'function' ? p => this.__opacifyColor(config.color(p[0]), '30') : null)\n          .attr('d', d => {\n            const curveName = this._dataSetConfigs[d[0]].curve || 'linear';\n            const func = areaFunctions[curveName] || areaFunctions.linear;\n            return func(d[1]);\n          });\n      }\n\n      if (barGroups.size > 0) {\n        const xBarScale = d3.scaleBand().domain(X).range(config.xRange).padding(config.xPadding);\n        svg\n          .append('g')\n          .selectAll('g')\n          .data(barGroups)\n          .join('g')\n          .attr('fill', typeof config.color === 'function' ? d => this.__opacifyColor(config.color(d[0]), '30') : null)\n          .selectAll('rect')\n          .data(d => {\n            return d[1].map(val => {\n              return {\n                key: d[0],\n                value: val\n              };\n            });\n          })\n          .join('rect')\n          .attr('x', d => xBarScale(X[d.value]))\n          .attr('y', d => yScale(Y[d.value]))\n          .attr('height', d => config.yRange[0] - yScale(Y[d.value]))\n          .attr('width', xBarScale.bandwidth());\n      }\n\n      const dot = svg.append('g').attr('display', 'none').attr('fill', 'currentColor');\n\n      dot.append('circle').attr('r', 2.5);\n\n      dot\n        .append('text')\n        .attr('font-family', 'sans-serif')\n        .attr('font-size', 10)\n        .attr('text-anchor', 'middle')\n        .attr('y', -8);\n\n      return Object.assign(svg.node(), { value: null });\n    },\n\n    /**\n     * add opacity to color\n     * @param color\n     * @param opacity {string} hex number 0 - 255\n     * @return {string|*}\n     * @private\n     */\n    __opacifyColor(color, opacity) {\n      if (color.startsWith('rgb(')) {\n        return 'rgba(' + color.substring(4, color.length-1) + ', ' + (parseInt(opacity, 16) / 255).toFixed(2) + ')';\n      } else if (color.startsWith('#') && color.length === 7) {\n        return color + opacity;\n      }\n      return color;\n    }\n  },\n\n  /*\n  ***********************************************\n    DESTRUCTOR\n  ***********************************************\n  */\n  destruct() {\n    this._chart = null;\n  },\n\n  defer(QxClass) {\n    customElements.define(\n      cv.ui.structure.tile.Controller.PREFIX + 'chart',\n      class extends QxConnector {\n        constructor() {\n          super(QxClass);\n        }\n      }\n    );\n  }\n});\n","/* Color.js\n *\n * copyright (c) 2010-2022, Christian Mayer and the CometVisu contributers.\n *\n * This program is free software; you can redistribute it and/or modify it\n * under the terms of the GNU General Public License as published by the Free\n * Software Foundation; either version 3 of the License, or (at your option)\n * any later version.\n *\n * This program is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for\n * more details.\n *\n * You should have received a copy of the GNU General Public License along\n * with this program; if not, write to the Free Software Foundation, Inc.,\n * 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA\n */\n\n/**\n * Shows a html color input\n * @author Tobias BrÃ¤utigam\n * @since 2022\n */\nqx.Class.define('cv.ui.structure.tile.components.Color', {\n  extend: cv.ui.structure.tile.components.AbstractComponent,\n  include: cv.ui.structure.tile.MResize,\n\n  /*\n  ***********************************************\n    PROPERTIES\n  ***********************************************\n  */\n  properties: {\n    throttleInterval: {\n      check: 'Number',\n      init: 250,\n      apply: '_applyThrottleInterval'\n    }\n  },\n\n  /*\n  ***********************************************\n    STATICS\n  ***********************************************\n  */\n  statics: {\n    CC_COUNTER: 0\n  },\n\n  /*\n  ***********************************************\n    MEMBERS\n  ***********************************************\n  */\n  members: {\n    __colorChooser: null,\n\n    _init() {\n      const element = this._element;\n      if (element.hasAttribute('throttle-interval')) {\n        this.setThrottleInterval(parseInt(element.getAttribute('throttle-interval')));\n      }\n\n      // init components\n      const mode = element.hasAttribute('mode') ? element.getAttribute('mode') : 'popup';\n      if (mode === 'popup') {\n        let popup = element.querySelector(':scope > cv-popup');\n        if (!popup) {\n          popup = document.createElement('cv-popup');\n          popup.setAttribute('modal', 'true');\n          if (element.hasAttribute('title')) {\n            popup.setAttribute('title', element.getAttribute('title'));\n          }\n          const addresses = {};\n          for (const elem of element.querySelectorAll(':scope > cv-address')) {\n            let src = elem.textContent;\n            let transform = elem.getAttribute('transform');\n            let mode = 1 | 2; // Bit 0 = read, Bit 1 = write  => 1|2 = 3 = readwrite\n            switch (elem.getAttribute('mode')) {\n              case 'disable':\n                mode = 0;\n                break;\n              case 'read':\n                mode = 1;\n                break;\n              case 'write':\n                mode = 2;\n                break;\n              case 'readwrite':\n                mode = 1 | 2;\n                break;\n            }\n            let variantInfo = cv.parser.pure.widgets.ColorChooser.makeAddressListFn(src, transform, mode, elem.getAttribute('variant'));\n            addresses[src.trim()] = {\n              transform: transform,\n              mode: mode,\n              variantInfo: variantInfo[1]\n            };\n          }\n          cv.ui.structure.tile.components.Color.CC_COUNTER++;\n          const path = 'id_0_'+cv.ui.structure.tile.components.Color.CC_COUNTER;\n          const props = {\n            path: path,\n            $$type: 'colorchooser',\n            classes: 'widget colorchooser',\n            layout: {\n              colspan: 1\n            },\n            controls: element.hasAttribute('controls') ? element.getAttribute('controls') : 'triangle',\n            address: addresses,\n            throttleInterval: this.getThrottleInterval()\n          };\n          cv.parser.pure.widgets.ColorChooser.parseAttributes(element, props);\n          this.__colorChooser = new cv.ui.structure.pure.ColorChooser(props);\n          this.__colorChooser.addListener('colorChanged', this._onColorChanged, this);\n          this._onColorChanged();\n          popup.innerHTML = `<div class=\"widget_container\" style=\"margin-top: 24px; max-width: 100vw; width: 320px; max-height: 100vh; min-height: 320px; align-self: center\" id=\"${path}\" data-type=\"colorchooser\">${this.__colorChooser.getDomString()}</div>`;\n          element.appendChild(popup);\n          element.addEventListener('click', ev => {\n            if (ev.path.indexOf(popup) < 0) {\n              popup.getInstance().open();\n            }\n          });\n          qx.event.Timer.once(() => {\n            this.__colorChooser._onDomReady();\n          }, this, 0);\n\n          this.setResizeTarget(popup);\n          this.addListener('resized', () => {\n            this.__colorChooser.invalidateScreensize();\n          });\n        }\n      }\n    },\n\n    _onColorChanged() {\n      const color = this.__colorChooser.getColor();\n      const rgb = color.getComponent('rgb');\n      const v = color.getComponent('v');\n      this.setValue(\n        `#${this.__convertToHex(rgb.r)}${this.__convertToHex(rgb.g)}${this.__convertToHex(rgb.b)}${this.__convertToHex(v)}`\n      );\n    },\n\n    __convertToHex(v) {\n      return Math.round(v * 255)\n        .toString(16)\n        .padStart(2, '0');\n    },\n\n    _updateValue(mappedValue, value) {\n      let target = this._element.querySelector(':scope > .value');\n      const rgb = mappedValue.substring(0, 7);\n      if (target) {\n        const tagName = target.tagName.toLowerCase();\n        const alpha = mappedValue.length === 9 ? parseInt(mappedValue.substring(7, 9), 16) / 255 : 1.0;\n\n        switch (tagName) {\n          case 'cv-icon':\n            target.style.color = rgb;\n            target.style.opacity = Math.max(alpha, 0.2); // do not blend it out totally\n            break;\n        }\n      } else {\n        // only if we do not have another value handler\n        this._element.style.backgroundColor = mappedValue;\n      }\n    }\n  },\n\n  /*\n  ***********************************************\n    DESTRUCTOR\n  ***********************************************\n  */\n  destruct: function () {\n    this._disposeObjects('__colorChooser');\n  },\n\n  defer(QxClass) {\n    customElements.define(\n      cv.ui.structure.tile.Controller.PREFIX + 'color',\n      class extends QxConnector {\n        constructor() {\n          super(QxClass);\n        }\n      }\n    );\n  }\n});\n","/* Icon.js\n *\n * copyright (c) 2010-2022, Christian Mayer and the CometVisu contributers.\n *\n * This program is free software; you can redistribute it and/or modify it\n * under the terms of the GNU General Public License as published by the Free\n * Software Foundation; either version 3 of the License, or (at your option)\n * any later version.\n *\n * This program is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for\n * more details.\n *\n * You should have received a copy of the GNU General Public License along\n * with this program; if not, write to the Free Software Foundation, Inc.,\n * 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA\n */\n\n/**\n *\n */\nqx.Class.define('cv.ui.structure.tile.components.Icon', {\n  extend: cv.ui.structure.tile.components.AbstractComponent,\n\n  /*\n  ***********************************************\n    CONSTRUCTOR\n  ***********************************************\n  */\n  construct(element) {\n    super(element);\n    this._idRegex = /^[^\\s]+$/;\n  },\n\n  /*\n  ***********************************************\n    PROPERTIES\n  ***********************************************\n  */\n  properties: {\n    id: {\n      check: 'String',\n      nullable: true,\n      apply: '_applyId',\n      // the id is used as 'class' property and therefore must not have spaces\n      transform: '_transformId'\n    },\n\n    color: {\n      check: 'String',\n      nullable: true,\n      apply: '_applyColor'\n    }\n  },\n\n  /*\n  ***********************************************\n    MEMBERS\n  ***********************************************\n  */\n  members: {\n    __initialized: false,\n    _idRegex: null,\n\n    _transformId(value) {\n      if (this._idRegex.test(value)) {\n        return value;\n      }\n      this.error('invalid icon id:', value);\n      return null;\n    },\n\n    _init() {\n      super._init();\n      const element = this._element;\n      if (element.textContent.trim()) {\n        this.__initialized = true;\n        this.setId(element.textContent.trim());\n      } else {\n        const it = element.classList.values();\n        for (let name of it) {\n          if (name.startsWith('ri-') || name.startsWith('knxuf-')) {\n            this.setId(name);\n            break;\n          }\n        }\n      }\n      this.__initialized = true;\n    },\n\n    _applyId(value, oldValue) {\n      const element = this._element;\n      if (this.__initialized) {\n        if (oldValue) {\n          element.classList.remove(oldValue);\n        }\n        if (value) {\n          // default is an icon font that uses CSS classes\n          element.classList.add(value);\n          if (element.textContent) {\n            element.textContent = '';\n          }\n        }\n      }\n    },\n\n    _applyColor(value, oldValue) {\n      const element = this._element;\n      if (oldValue) {\n        element.classList.remove(oldValue);\n      }\n      if (value) {\n        element.classList.add(value);\n      }\n    }\n  },\n\n  defer(Clazz) {\n    customElements.define(\n      cv.ui.structure.tile.Controller.PREFIX + 'icon',\n      class extends QxConnector {\n        constructor() {\n          super(Clazz);\n        }\n\n        static get observedAttributes() {\n          return ['color'];\n        }\n      }\n    );\n  }\n});\n","/* Image.js\n *\n * copyright (c) 2010-2022, Christian Mayer and the CometVisu contributers.\n *\n * This program is free software; you can redistribute it and/or modify it\n * under the terms of the GNU General Public License as published by the Free\n * Software Foundation; either version 3 of the License, or (at your option)\n * any later version.\n *\n * This program is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for\n * more details.\n *\n * You should have received a copy of the GNU General Public License along\n * with this program; if not, write to the Free Software Foundation, Inc.,\n * 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA\n */\n\n/**\n * Shows an image.\n *\n * HINT: Proxy mode needs an PHP environment with php-curl installed.\n */\nqx.Class.define('cv.ui.structure.tile.components.Image', {\n  extend: cv.ui.structure.tile.components.AbstractComponent,\n  include: [cv.ui.structure.tile.MVisibility, cv.ui.structure.tile.MRefresh],\n\n  /*\n  ***********************************************\n    MEMBERS\n  ***********************************************\n  */\n  members: {\n    _downloadedImage: null,\n    _url: null,\n    _headers: null,\n    _request: null,\n\n    _init() {\n      const element = this._element;\n      let img = element.querySelector(':scope > img');\n      if (!img) {\n        img = document.createElement('img');\n        element.appendChild(img);\n      }\n      element.addEventListener('click', () => this.refresh());\n      let src = element.getAttribute('src');\n      let base = window.location.origin;\n      if (src.substring(0, 1) !== '/' && src.substring(0, 4) !== 'http') {\n        // relative url\n        base += window.location.pathname;\n      }\n      this._url = new URL(src, base);\n      const useProxy = element.hasAttribute('proxy') && element.getAttribute('proxy') === 'true';\n      if (useProxy) {\n        this._url = new URL(cv.io.rest.Client.getBaseUrl() + '/proxy', window.location.origin);\n\n        this._url.searchParams.set('url', element.getAttribute('src'));\n      }\n      this._headers = {};\n      if (element.hasAttribute('auth-type')) {\n        if (useProxy) {\n          this._url.searchParams.set('auth-type', element.getAttribute('auth-type').toLowerCase());\n        } else {\n          switch (element.getAttribute('auth-type').toLowerCase()) {\n            case 'basic':\n              this._headers['Authorization'] = 'Basic ' + window.btoa(element.getAttribute('username') + ':' + element.getAttribute('password'));\n              break;\n\n            case 'bearer':\n              this._headers['Authorization'] = 'Bearer ' + element.getAttribute('username');\n              break;\n\n            default:\n              this.error('unknown authorization type' +  element.getAttribute('auth-type'));\n              break;\n          }\n        }\n      }\n      this._loadImage();\n      if (element.hasAttribute('refresh')) {\n        this.setRefresh(parseInt(element.getAttribute('refresh')));\n      }\n    },\n\n    _loadImage() {\n      let img = this._element.querySelector(':scope > img');\n      if (Object.keys(this._headers).length > 0) {\n        let request = new XMLHttpRequest();\n        request.responseType = 'blob';\n        request.open('get', this._url.toString(), true);\n        Object.keys(this._headers).forEach(name => {\n          request.setRequestHeader(name, this._headers[name]);\n        });\n        request.onreadystatechange = e => {\n          if (request.readyState === XMLHttpRequest.DONE && request.status === 200) {\n            img.src = URL.createObjectURL(request.response);\n            img.onload = () => {\n              URL.revokeObjectURL(img.src);\n            };\n          }\n        };\n        request.send(null);\n      } else {\n        img.src = this._url.toString();\n      }\n    },\n\n    refresh() {\n      let img = this._element.querySelector(':scope > img');\n      if (img) {\n        this._url.searchParams.set('r', '' + Math.random());\n        this._loadImage();\n      }\n    },\n\n    /**\n     * Handles the incoming data from the backend for this widget\n     *\n     * @param ev {CustomEvent} stateUpdate event fired from a cv-address component\n     */\n    onStateUpdate(ev) {\n      if (!super.onStateUpdate(ev)) {\n        if (ev.detail.target === 'refresh') {\n          if (ev.detail.state) {\n            this.refresh();\n          }\n        } else {\n          this.debug('unhandled address target', ev.detail.target);\n        }\n      }\n    }\n  },\n\n  defer(QxClass) {\n    customElements.define(\n      cv.ui.structure.tile.Controller.PREFIX + 'image',\n      class extends QxConnector {\n        constructor() {\n          super(QxClass);\n        }\n      }\n    );\n  }\n});\n","/* List.js\n *\n * copyright (c) 2010-2022, Christian Mayer and the CometVisu contributers.\n *\n * This program is free software; you can redistribute it and/or modify it\n * under the terms of the GNU General Public License as published by the Free\n * Software Foundation; either version 3 of the License, or (at your option)\n * any later version.\n *\n * This program is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for\n * more details.\n *\n * You should have received a copy of the GNU General Public License along\n * with this program; if not, write to the Free Software Foundation, Inc.,\n * 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA\n */\n\n/**\n * Generates a list of items. A &lt;template&gt;-element defines the content of the list-items and a model is used to\n * generate those items and apply the models content to the list-items.\n * It allows custom Javascript code in a &lt;script&gt;-Element to fill the model or address-Elements as model source.\n * The model can be refreshed in a time defined interval, which is set by the 'refresh' attribute.\n *\n * @widgetexample <settings>\n *    <caption>Example list</caption>\n *    <screenshot name=\"list_simple\"/>\n *  </settings>\n    <cv-list refresh=\"10\">\n      <model>\n        <script><![CDATA[\n         for (let i = 0; i < Math.round(Math.random()*10); i++) {\n           model.push({\n             label: 'This is list item no ' + i,\n             subLabel: 'Sublabel number ' + i\n           })\n         }\n         ]]>\n         </script>\n       </model>\n       <template>\n         <li>\n           <label class=\"primary\">${label}</label>\n           <label class=\"secondary\">${subLabel}</label>\n         </li>\n       </template>\n       <template when=\"empty\">\n         <li>\n           <label class=\"primary\">Model is empty!</label>\n         </li>\n       </template>\n   </cv-list>\n */\nqx.Class.define('cv.ui.structure.tile.components.List', {\n  extend: cv.ui.structure.tile.components.AbstractComponent,\n  include: [cv.ui.structure.tile.MVisibility, cv.ui.structure.tile.MRefresh],\n\n  /*\n  ***********************************************\n    PROPERTIES\n  ***********************************************\n  */\n  properties: {\n    value: {\n      refine: true,\n      init: []\n    }\n  },\n\n  /*\n  ***********************************************\n    MEMBERS\n  ***********************************************\n  */\n  members: {\n    _target: null,\n    _timer: null,\n    _model: null,\n    _getModel: null,\n    _filterModel: null,\n    _sortModel: null,\n    _limit: null,\n    _modelInstance: null,\n\n    _init() {\n      const element = this._element;\n      this._model = [];\n      let refreshOnUpdate = false;\n      const model = element.querySelector('model');\n      if (!model) {\n        this.error('cv-list needs a model');\n        return;\n      }\n      if (model.hasAttribute('filter')) {\n        this._filterModel = new Function('item', 'index', '\"use strict\"; return ' + model.getAttribute('filter'));\n      }\n      if (model.hasAttribute('limit')) {\n        this._limit = parseInt(model.getAttribute('limit'));\n      }\n      const readAddresses = model.querySelectorAll(':scope > cv-address:not([mode=\"write\"])');\n\n      // if we have top level write addresses, we need to listen to sendState Events from the list items\n      for (let address of element.querySelectorAll(':scope > cv-address')) {\n        if (address.getAttribute('mode') !== 'read') {\n          element.addEventListener('sendState', ev => {\n            // forward event copy (dispatching the same is not possible) to all write addresses\n            const evCopy = new CustomEvent('sendState', {\n              bubbles: ev.bubbles,\n              cancelable: ev.cancelable,\n              detail: ev.detail\n            });\n            for (let a of element.querySelectorAll(':scope > cv-address')) {\n              a.dispatchEvent(evCopy);\n            }\n          });\n          break;\n        }\n      }\n\n      if (model.hasAttribute('sort-by')) {\n        const sortBy = model.getAttribute('sort-by');\n        // reverse order in 'desc' sort mode\n        const sortModifier = model.getAttribute('sort-mode') === 'desc' ? -1 : 1;\n        this._sortModel = (left, right) => {\n          const leftVal = left[sortBy];\n          const rightVal = right[sortBy];\n          if (leftVal === rightVal) {\n            return 0;\n          } else if (typeof leftVal === typeof rightVal) {\n            switch (typeof leftVal) {\n              case 'number':\n                return (leftVal - rightVal) * sortModifier;\n\n              case 'boolean':\n                return (leftVal ? -1 : 1) * sortModifier;\n\n              case 'string':\n                return leftVal.localeCompare(rightVal) * sortModifier;\n\n              default:\n                return JSON.stringify(leftVal).localeCompare(JSON.stringify(rightVal)) * sortModifier;\n            }\n          } else if (leftVal === undefined || leftVal === null) {\n            return 1 * sortModifier;\n          } else if (rightVal === undefined || rightVal === null) {\n            return -1 * sortModifier;\n          }\n          return 0;\n        };\n      }\n      if (model.hasAttribute('src') || model.hasAttribute('config-section')) {\n        // fetch from url\n        this._getModel = async () => {\n          const options = {};\n          for (const proxyParam of ['self-signed', 'config-section', 'auth-type']) {\n            if (model.hasAttribute(proxyParam)) {\n              options[proxyParam] = model.getAttribute(proxyParam);\n            }\n          }\n          const res = await cv.io.Fetch.fetch(model.getAttribute('src'), options, model.getAttribute('proxy') === 'true');\n          return res;\n        };\n      } else if (model.hasAttribute('class')) {\n        // initialize internal class instance that implements cv.io.listmodel.IListModel\n        const Clazz = cv.io.listmodel.Registry.get(model.getAttribute('class'));\n        if (Clazz) {\n          const modelInstance = new Clazz();\n          if (model.hasAttribute('parameters')) {\n            const props = {};\n            for (let entry of model.getAttribute('parameters').split(',')) {\n              const [name, value] = entry.split('=').map(n => n.trim());\n              props[name] = value.startsWith('\\'') ? value.substring(1, value.length-1) : value;\n            }\n            modelInstance.set(props);\n          }\n          this._getModel = async () => {\n            await modelInstance.refresh();\n            return modelInstance.getModel();\n          };\n        } else {\n          this.error(`clazz \"cv.io.listmodel.${model.getAttribute('class')}\" not found`);\n        }\n      } else {\n        const script = model.querySelector(':scope > script');\n        const data = model.querySelectorAll(':scope > cv-data');\n        if (script) {\n          this._getModel = new Function('\"use strict\";let model = []; ' + script.innerText.trim() + '; return model');\n\n          this._model = this._getModel();\n        } else if (readAddresses.length > 0) {\n          // model has an address that triggers a refresh on update, so we just have to read the model from the updated value\n          this._getModel = this.getValue;\n          refreshOnUpdate = true;\n        } else if (data.length > 0) {\n          this._model = [];\n          this._getModel = () => this._model;\n          data.forEach((elem, i) => {\n            const d = {\n              index: i\n            };\n\n            for (const a of elem.attributes) {\n              d[a.name] = a.value;\n            }\n            this._model.push(d);\n          });\n        } else {\n          this.error(\n            'cv-list > model must have at least one read address, src-attribute, cv-data child or a script that fills the model.'\n          );\n\n          return;\n        }\n      }\n      if (readAddresses.length > 0) {\n        element.addEventListener('stateUpdate', ev => this.onStateUpdate(ev));\n      }\n      if (!refreshOnUpdate) {\n        if (this.isVisible()) {\n          // only load when visible\n          this.refresh();\n        }\n        if (element.hasAttribute('refresh')) {\n          this.setRefresh(parseInt(element.getAttribute('refresh')));\n        }\n      }\n    },\n\n    onStateUpdate(ev) {\n      if (ev.detail.target === 'refresh') {\n        if (this.isVisible()) {\n          // only load when visible\n          this.refresh();\n        } else {\n          // reset lastRefresh to that the refresh get called when this item gets visible\n          this._lastRefresh = null;\n        }\n      } else {\n        super.onStateUpdate(ev);\n      }\n      // cancel event here\n      ev.stopPropagation();\n    },\n\n    _applyValue() {\n      // reset last refresh, because with new data its obsolete\n      this._lastRefresh = 0;\n      this.refresh();\n    },\n\n    async refresh() {\n      const element = this._element;\n      const template = element.querySelector(':scope > template:not([when])');\n      let newModel = [];\n      if (typeof this._getModel === 'function') {\n        newModel = this._getModel();\n      }\n      if (newModel instanceof Promise) {\n        try {\n          newModel = await newModel;\n        } catch (e) {\n          this.error('error refreshing async model:', e);\n        }\n      }\n      let target = element.querySelector(':scope > ul');\n      if (template.getAttribute('wrap') === 'false') {\n        target = element;\n      } else if (template.hasAttribute('target')) {\n        switch (template.getAttribute('target')) {\n          case 'parent':\n            target = element.parentElement;\n            // we do not need the list to be visible then\n            element.style.display = 'none';\n            break;\n          default:\n            throw new Error('invalid target: ' + template.getAttribute('target'));\n        }\n      } else if (!target) {\n        target = document.createElement('ul');\n        target.classList.add('content');\n        element.appendChild(target);\n      }\n      this.debug('refreshing with new model length', newModel.length);\n      if (Array.isArray(newModel) || newModel instanceof qx.data.Array) {\n        if (typeof this._filterModel === 'function') {\n          newModel = newModel.filter(this._filterModel);\n        }\n        if (typeof this._sortModel === 'function') {\n          newModel.sort(this._sortModel);\n        }\n        if (this._limit) {\n          newModel = newModel.slice(0, this._limit);\n        }\n        if (newModel.length === 0) {\n          const whenEmptyTemplate = element.querySelector(':scope > template[when=\"empty\"]');\n\n          if (whenEmptyTemplate && !target.querySelector(':scope > .empty-model')) {\n            while (target.firstElementChild && target.firstElementChild.hasAttribute('data-row')) {\n              target.removeChild(target.firstElementChild);\n            }\n            const emptyModel = whenEmptyTemplate.content.firstElementChild.cloneNode(true);\n            emptyModel.classList.add('empty-model');\n            target.appendChild(emptyModel);\n            return;\n          }\n        } else {\n          const emptyElem = target.querySelector(':scope > .empty-model');\n          if (emptyElem) {\n            emptyElem.remove();\n          }\n        }\n        const itemTemplate = document.createElement('template');\n        // remove entries we do not need anymore\n        for (let i = newModel.length; i < this._model.length; i++) {\n          const elem = target.querySelector(`:scope > [data-row=\"${i}\"]`);\n          if (elem) {\n            elem.remove();\n          }\n        }\n\n        const getValue = (name, entry) => {\n          let index = -1;\n          if (name.endsWith(']')) {\n            // array access\n            index = parseInt(name.substring(name.indexOf('[') + 1, name.length - 1));\n            if (isNaN(index)) {\n              this.error(\n                'error parsing array index from ' + name,\n                name.substring(name.indexOf('[') + 1, name.length - 1)\n              );\n              return '';\n            }\n            name = name.substring(0, name.indexOf('['));\n          }\n          if (Object.prototype.hasOwnProperty.call(entry, name)) {\n            let val = entry[name];\n            if (index >= 0 && Array.isArray(val)) {\n              return val[index];\n            }\n            return val;\n          }\n          return '';\n        };\n        newModel.forEach((entry, i) => {\n          const elem = target.querySelector(`:scope > [data-row=\"${i}\"]`);\n          const html = template.innerHTML.replaceAll(/\\${([^}]+)}/g, (match, content) => {\n            if (content === 'index') {\n              return '' + i;\n            }\n            if (content.includes('||')) {\n              // elements are or'ed use the first one with value\n              let val = '';\n              for (let name of content.split('||').map(n => n.trim())) {\n                val = getValue(name, entry);\n                if (val) {\n                  return val;\n                }\n              }\n            }\n            return getValue(content, entry);\n          });\n\n          itemTemplate.innerHTML = html;\n          // check for elements with when attributes\n          itemTemplate.content.firstElementChild.querySelectorAll('[when]').forEach(elem => {\n            const [leftVal, rightVal] = elem\n              .getAttribute('when')\n              .split('=')\n              .map(n => n.trim());\n            // noinspection EqualityComparisonWithCoercionJS\n            if (leftVal != rightVal) {\n              elem.parentElement.removeChild(elem);\n            } else {\n              elem.removeAttribute('when');\n            }\n          });\n          if (elem) {\n            // update existing\n            elem.innerHTML = itemTemplate.content.firstElementChild.innerHTML;\n            elem.setAttribute('data-row', '' + i);\n          } else {\n            // append new child\n            itemTemplate.content.firstElementChild.setAttribute('data-row', '' + i);\n\n            target.appendChild(itemTemplate.content.cloneNode(true));\n          }\n        });\n        this._model = newModel;\n      } else {\n        this.error('model must be an array', newModel);\n      }\n    }\n  },\n\n  /*\n  ***********************************************\n    DESTRUCTOR\n  ***********************************************\n  */\n  destruct() {\n    this._disposeObjects('_modelInstance', '_timer');\n    this._model = null;\n    this._filterModel = null;\n    this._sortModel = null;\n    this._target = null;\n  },\n\n  defer(QxClass) {\n    customElements.define(\n      cv.ui.structure.tile.Controller.PREFIX + 'list',\n      class extends QxConnector {\n        constructor() {\n          super(QxClass);\n        }\n      }\n    );\n  }\n});\n","/* ListItem.js\n *\n * copyright (c) 2010-2022, Christian Mayer and the CometVisu contributers.\n *\n * This program is free software; you can redistribute it and/or modify it\n * under the terms of the GNU General Public License as published by the Free\n * Software Foundation; either version 3 of the License, or (at your option)\n * any later version.\n *\n * This program is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for\n * more details.\n *\n * You should have received a copy of the GNU General Public License along\n * with this program; if not, write to the Free Software Foundation, Inc.,\n * 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA\n */\n\n/**\n * Shows an item in a list.\n */\nqx.Class.define('cv.ui.structure.tile.components.ListItem', {\n  extend: cv.ui.structure.tile.components.AbstractComponent,\n\n  /*\n  ***********************************************\n    MEMBERS\n  ***********************************************\n  */\n  members: {\n    _init() {\n      super._init();\n      // install fireEvent function\n      this._element.fireEvent = (name, value) => {\n        const ev = new CustomEvent(name, {\n          bubbles: true,\n          cancelable: true,\n          detail: {\n            value: value,\n            source: this\n          }\n        });\n        this._element.dispatchEvent(ev);\n      };\n    }\n  },\n\n  defer(QxClass) {\n    customElements.define(\n      cv.ui.structure.tile.Controller.PREFIX + 'listitem',\n      class extends QxConnector {\n        constructor() {\n          super(QxClass);\n        }\n      }\n    );\n  }\n});\n","/* Menu.js\n *\n * copyright (c) 2010-2022, Christian Mayer and the CometVisu contributers.\n *\n * This program is free software; you can redistribute it and/or modify it\n * under the terms of the GNU General Public License as published by the Free\n * Software Foundation; either version 3 of the License, or (at your option)\n * any later version.\n *\n * This program is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for\n * more details.\n *\n * You should have received a copy of the GNU General Public License along\n * with this program; if not, write to the Free Software Foundation, Inc.,\n * 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA\n */\n\n/**\n * Generates a menu of a model, currently only the pages model is implemented.\n *\n * @author Tobias BrÃ¤utigam\n * @since 2022\n */\nqx.Class.define('cv.ui.structure.tile.components.Menu', {\n  extend: cv.ui.structure.tile.components.AbstractComponent,\n\n  /*\n  ***********************************************\n    PROPERTIES\n  ***********************************************\n  */\n  properties: {\n    model: {\n      check: ['pages', 'menuItems'],\n      apply: '_applyModel'\n    },\n    appearance: {\n      check: ['text', 'icons', 'dock'],\n      init: 'text',\n      apply: '_applyAppearance'\n    },\n\n    depth: {\n      check: '!isNaN(value) && value >= -1 && value <= 100',\n      init: -1,\n      apply: '_applyDepth'\n    },\n\n    domReady: {\n      check: 'Boolean',\n      init: false,\n      apply: '_generateMenu'\n    },\n\n    showLabels: {\n      check: 'Boolean',\n      init: true\n    }\n  },\n\n  /*\n  ***********************************************\n    MEMBERS\n  ***********************************************\n  */\n  members: {\n    _applyAppearance(value, oldValue) {\n      const main = document.querySelector('main');\n      if (oldValue === 'dock') {\n        main.classList.remove('has-dock');\n      }\n      if (value === 'dock') {\n        main.classList.add('has-dock');\n      }\n    },\n\n    _applyDepth() {\n      if (this.isDomReady()) {\n        this._generateMenu();\n      }\n    },\n\n    _onDomAppended() {\n      this.setDomReady(true);\n      qx.event.message.Bus.unsubscribe('setup.dom.append', this._onDomAppended, this);\n    },\n\n    _applyModel(model) {\n      if (model) {\n        const rootList = document.createElement('ul');\n        this._element.appendChild(rootList);\n\n        // add some general listeners to close\n        qx.event.Registration.addListener(document, 'pointerdown', this._onPointerDown, this);\n\n        if (model === 'pages') {\n          // add hamburger menu\n          const ham = document.createElement('a');\n          ham.href = '#';\n          ham.classList.add('menu');\n          ham.onclick = event => this._onHamburgerMenu(event);\n          const icon = document.createElement('i');\n\n          ham.appendChild(icon);\n          this._element.appendChild(ham);\n\n          qx.event.message.Bus.subscribe('setup.dom.append', this._onDomAppended, this);\n          qx.event.message.Bus.subscribe('cv.ui.structure.tile.currentPage', this._onPageChange, this);\n          qx.event.Registration.addListener(this._element, 'swipe', this._onSwipe, this);\n          icon.classList.add('ri-menu-line');\n        } else if (model === 'menuItems') {\n          // add hamburger menu\n          const icon = document.createElement('i');\n          icon.classList.add('ri-more-2-fill');\n          this._element.appendChild(icon);\n          // listen on whole element\n          this._element.onclick = event => this._onHamburgerMenu(event);\n          rootList.classList.add('context-menu');\n          this._generateMenu();\n        }\n      } else {\n        this.error('visual-model of type', model, 'is not implemented');\n      }\n    },\n\n    _init() {\n      const element = this._element;\n      const model = element.hasAttribute('model') ? element.getAttribute('model')\n        : (element.querySelectorAll(':scope > cv-menu-item').length > 0) ? 'menuItems' : null;\n      if (!model) {\n        this.error('no model defined, menu will be empty');\n        return;\n      }\n      if (element.getAttribute('show-labels') === 'false') {\n        this.setShowLabels(false);\n      }\n      this.setModel(model);\n    },\n\n    _generateMenu() {\n      switch (this.getModel()) {\n        case 'pages': {\n          const currentPage = window.location.hash.substring(1);\n          let parentElement = document.querySelector('main');\n          if (parentElement) {\n            const firstPage = document.querySelector('cv-page');\n            if (firstPage) {\n              parentElement = firstPage.parentElement;\n            }\n          }\n          const rootList = this._element.querySelector(':scope > ul');\n          if (rootList) {\n            rootList.replaceChildren();\n            this.__generatePagesModel(rootList, parentElement, currentPage, 0);\n          }\n          break;\n        }\n        case 'menuItems': {\n          const rootList = this._element.querySelector(':scope > ul');\n          if (rootList) {\n            rootList.replaceChildren();\n            for (let item of this._element.querySelectorAll(':scope > cv-menu-item')) {\n              const pageName = item.getAttribute('name') || '';\n              const pageIcon = item.getAttribute('icon') || '';\n              const li = document.createElement('li');\n              if (pageIcon) {\n                const i = document.createElement('i');\n                i.classList.add(pageIcon);\n                i.title = pageName;\n                li.appendChild(i);\n              }\n              if (this.isShowLabels()) {\n                const text = document.createTextNode(pageName);\n                li.appendChild(text);\n              }\n              li.addEventListener('click', event => {\n                item.getInstance().onClick(event);\n              });\n              rootList.appendChild(li);\n            }\n          }\n          break;\n        }\n      }\n    },\n\n    _onHamburgerMenu(event) {\n      let toggleClass = 'open';\n      if (this.getModel() === 'pages') {\n        toggleClass = 'responsive';\n        for (let detail of this._element.querySelectorAll('details')) {\n          detail.setAttribute('open', '');\n        }\n      }\n      this._element.classList.toggle(toggleClass);\n      event.stopPropagation();\n    },\n\n    /**\n     * @param ev {qx.event.type.Event}\n     * @private\n     */\n    _onPointerDown(ev) {\n      const target = ev.getTarget();\n      if (\n        target.classList.contains('menu') ||\n        (target.parentElement && target.parentElement.classList.contains('menu')) ||\n        target.nodeName.toLowerCase() === 'cv-menu' ||\n        (target.parentElement && target.parentElement.nodeName.toLowerCase() === 'cv-menu')\n      ) {\n        // clicked in hamburger menu, do nothing\n      } else if (target.tagName.toLowerCase() !== 'summary' && target.tagName.toLowerCase() !== 'p') {\n        // defer closing because it would prevent the link clicks and page selection\n        qx.event.Timer.once(this._closeAll, this, 100);\n      } else {\n        // close others\n        this._closeAll(ev.getTarget().parentElement);\n      }\n    },\n\n    _onSwipe(ev) {\n      if (ev.getDirection() === 'left') {\n        // goto next if there is one\n        const next = this._element.querySelector('li.active + li > a');\n        if (next) {\n          next.click();\n        }\n      } else {\n        const current = this._element.querySelector('li.active');\n        if (\n          current &&\n          current.previousElementSibling &&\n          current.previousElementSibling.tagName.toLowerCase() === 'li'\n        ) {\n          const prev = current.previousElementSibling.querySelector(':scope > a');\n          if (prev) {\n            prev.click();\n          }\n        }\n      }\n    },\n\n    /**\n     * Close all open sub-menus\n     * @param except {Element?} do not close this one\n     * @private\n     */\n    _closeAll(except) {\n      if (this._element.classList.contains('open')) {\n        this._element.classList.remove('open');\n      } else if (this._element.classList.contains('responsive')) {\n        this._element.classList.remove('responsive');\n      } else {\n        for (let detail of this._element.querySelectorAll('details[open]')) {\n          if (!except || detail !== except) {\n            detail.removeAttribute('open');\n          }\n        }\n      }\n    },\n\n    __generatePagesModel(parentList, parentElement, currentPage, currentLevel) {\n      if (!parentElement) {\n        return;\n      }\n      let pages = parentElement.querySelectorAll(':scope > cv-page:not([menu=\"false\"])');\n\n      for (let page of pages.values()) {\n        const pageId = page.getAttribute('id');\n        if (!pageId) {\n          this.error('page has no id, skipping');\n          continue;\n        }\n        const pageName = page.getAttribute('name') || '';\n        const pageIcon = page.getAttribute('icon') || '';\n        const li = document.createElement('li');\n        const a = document.createElement('a');\n        a.setAttribute('href', '#' + pageId);\n        if (pageIcon) {\n          const i = document.createElement('i');\n          i.classList.add(pageIcon);\n          i.title = pageName;\n          a.appendChild(i);\n        }\n        if (this.isShowLabels()) {\n          const text = document.createTextNode(pageName);\n          a.appendChild(text);\n        }\n        if (currentPage === pageId) {\n          li.classList.add('active');\n        }\n        parentList.appendChild(li);\n        const depth = this.getDepth();\n        if (\n          (depth < 0 || depth > currentLevel) &&\n          page.querySelectorAll(':scope > cv-page:not([menu=\"false\"])').length > 0\n        ) {\n          const details = document.createElement('div');\n          details.classList.add('details');\n          const summary = document.createElement('div');\n          summary.classList.add('summary');\n          summary.addEventListener('click', ev => {\n            if (details.hasAttribute('open')) {\n              details.removeAttribute('open');\n            } else {\n              details.setAttribute('open', '');\n            }\n          });\n          a.addEventListener('click', ev => {\n            // only stop propagation if we are not close to the right border\n            if (ev.pointerType !== 'touch' || ev.currentTarget.clientWidth - ev.offsetX >= 8) {\n              ev.stopPropagation();\n            }\n          });\n          const pageIcon = page.getAttribute('icon') || '';\n          if (page.querySelector(':scope > *:not(cv-page)')) {\n            // only add this as link, when this page has real content\n            summary.appendChild(a);\n          } else {\n            const p = document.createElement('p');\n            if (pageIcon) {\n              const i = document.createElement('i');\n              i.classList.add(pageIcon);\n              i.title = pageName;\n              p.appendChild(i);\n            }\n            if (this.isShowLabels()) {\n              p.appendChild(document.createTextNode(pageName));\n            }\n            summary.appendChild(p);\n          }\n          details.appendChild(summary);\n          const subList = document.createElement('ul');\n          details.appendChild(subList);\n          this.__generatePagesModel(subList, page, currentPage, currentLevel++);\n          li.appendChild(details);\n        } else {\n          li.appendChild(a);\n        }\n      }\n    },\n\n    _onPageChange(ev) {\n      const pageElement = ev.getData();\n      // unset all currently active\n      for (let link of this._element.querySelectorAll('li.active, li.sub-active')) {\n        link.classList.remove('active');\n        link.classList.remove('sub-active');\n      }\n      // find link to current page\n      for (let link of this._element.querySelectorAll(`a[href=\"#${pageElement.id}\"]`)) {\n        // activate all parents\n        let parent = link.parentElement;\n        let activeName = 'active';\n        while (parent && parent.tagName.toLowerCase() !== 'cv-menu') {\n          if (parent.tagName.toLowerCase() === 'li') {\n            parent.classList.add(activeName);\n            // all other parents have a sub-menu active\n            activeName = 'sub-active';\n          }\n          parent = parent.parentElement;\n        }\n      }\n    }\n  },\n\n  /*\n  ***********************************************\n    DESTRUCTOR\n  ***********************************************\n  */\n  destruct() {\n    qx.event.Registration.removeListener(document, 'pointerdown', this._onPointerDown, this);\n\n    qx.event.message.Bus.unsubscribe('cv.ui.structure.tile.currentPage', this._onPageChange, this);\n  },\n\n  defer(QxClass) {\n    customElements.define(\n      cv.ui.structure.tile.Controller.PREFIX + 'menu',\n      class extends QxConnector {\n        constructor() {\n          super(QxClass);\n        }\n        static get observedAttributes() {\n          return ['appearance', 'depth'];\n        }\n      }\n    );\n  }\n});\n","/* ListItem.js\n *\n * copyright (c) 2010-2022, Christian Mayer and the CometVisu contributers.\n *\n * This program is free software; you can redistribute it and/or modify it\n * under the terms of the GNU General Public License as published by the Free\n * Software Foundation; either version 3 of the License, or (at your option)\n * any later version.\n *\n * This program is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for\n * more details.\n *\n * You should have received a copy of the GNU General Public License along\n * with this program; if not, write to the Free Software Foundation, Inc.,\n * 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA\n */\n\n/**\n * Represents an action that should be executed when the related menu item has been clicked.\n */\nqx.Class.define('cv.ui.structure.tile.components.MenuAction', {\n  extend: cv.ui.structure.tile.components.AbstractComponent,\n\n  /*\n  ***********************************************\n    MEMBERS\n  ***********************************************\n  */\n  members: {\n    _currentState: null,\n\n    _init() {\n      super._init();\n      const action = this._element.getAttribute('action');\n      switch (action) {\n        case 'toggleState': {\n          let hasAddress = false;\n          for (let address of this._element.querySelectorAll(':scope > cv-address')) {\n            hasAddress = true;\n            if (address.getAttribute('mode') !== 'write') {\n              this._element.addEventListener('stateUpdate', ev => {\n                this.onStateUpdate(ev);\n                // cancel event here\n                ev.stopPropagation();\n              });\n            }\n          }\n          if (!hasAddress) {\n            this.error('a cv-menu-item with action \"toggleState\" needs at least one cv-address to read the write the state,');\n          }\n          break;\n        }\n        case 'popup':\n          if (!this._element.querySelector(':scope > cv-popup')) {\n            this.error('a cv-menu-item with action \"popup\" must have a cv-popup as child.');\n          }\n          break;\n      }\n    },\n\n    onClick(event) {\n      switch (this._element.getAttribute('action')) {\n        case 'popup': {\n          const popup = this._element.querySelector(':scope > cv-popup');\n          if (popup) {\n            popup.getInstance().open();\n          }\n          event.stopPropagation();\n          break;\n        }\n        case 'toggleState': {\n          const ev = new CustomEvent('sendState', {\n            detail: {\n              value: !this._currentState,\n              source: this\n            }\n          });\n          for (let address of this._element.querySelectorAll(':scope > cv-address')) {\n            if (address.getAttribute('mode') !== 'read') {\n              address.dispatchEvent(ev);\n            }\n          }\n          event.stopPropagation();\n          break;\n        }\n      }\n    },\n\n    /**\n     * Handles the incoming data from the backend for this widget\n     *\n     * @param ev {CustomEvent} stateUpdate event fired from an cv-address component\n     */\n    onStateUpdate(ev) {\n      // using == comparisons to make sure that e.g. 1 equals \"1\"\n      // noinspection EqualityComparisonWithCoercionJS\n      let value = ev.detail.state == '1';\n      if (ev.detail.source instanceof cv.ui.structure.tile.elements.Address) {\n        const addressElement = ev.detail.source.getElement();\n        if (addressElement.hasAttribute('value')) {\n          // noinspection EqualityComparisonWithCoercionJS\n          value = ev.detail.state == addressElement.getAttribute('value');\n        }\n      }\n      this._currentState = value;\n    }\n  },\n\n  defer(QxClass) {\n    customElements.define(\n      cv.ui.structure.tile.Controller.PREFIX + 'menu-item',\n      class extends QxConnector {\n        constructor() {\n          super(QxClass);\n        }\n      }\n    );\n  }\n});\n","/**\n * Wrapper for plugins\n */\nqx.Class.define('cv.ui.structure.tile.components.Plugin', {\n  extend: cv.ui.structure.tile.elements.AbstractCustomElement,\n\n  /*\n  ***********************************************\n    STATICS\n  ***********************************************\n  */\n  statics: {\n   PL_COUNTER: 0\n  },\n\n  /*\n  ***********************************************\n    MEMBERS\n  ***********************************************\n  */\n  members: {\n    __widget: null,\n\n    async _init() {\n      super._init();\n      // load plugin\n      let name = '';\n      if (this._element.hasAttribute('name')) {\n        name = this._element.getAttribute('name');\n      } else {\n        name = this._element.firstElementChild.nodeName.toLowerCase();\n      }\n      if (name) {\n        const pluginName = 'plugin-' + name;\n        const part = await this.loadPluginPart(pluginName);\n        if (part) {\n          // find the main class file in the package\n          let Clazz = null;\n          for (let baseName in cv.plugins) {\n            if (baseName.toLowerCase() === name) {\n              Clazz = cv.plugins[baseName];\n              break;\n            }\n          }\n          if (Clazz) {\n            cv.ui.structure.tile.components.Plugin.PL_COUNTER++;\n            const id = 'id_9_' + cv.ui.structure.tile.components.Plugin.PL_COUNTER;\n            const props = Clazz.parse(this._element.firstElementChild, id, '', 'text');\n            cv.TemplateEngine.getInstance().setDomFinished(false);\n            this.__widget = new Clazz(props);\n            this._element.innerHTML = `<div class=\"widget_container\" id=\"${id}\" data-type=\"${props.$$type}\">${this.__widget.getDomString()}</div>`;\n            const scriptLoader = cv.util.ScriptLoader.getInstance();\n            window.requestAnimationFrame(() => {\n              if (!scriptLoader.isFinished()) {\n                // wait until plugin dependencies have been loaded\n                scriptLoader.addListenerOnce('finished', () => {\n                  cv.TemplateEngine.getInstance().setDomFinished(true);\n                });\n              } else {\n                cv.TemplateEngine.getInstance().setDomFinished(true);\n              }\n            });\n          } else {\n            this.error('no main plugin class found for ' + pluginName);\n          }\n        }\n      } else {\n        this.error('no plugin name provided!');\n      }\n    },\n\n    async loadPluginPart(pluginName) {\n      const part = qx.Part.getInstance().getParts()[pluginName];\n      if (part) {\n        return new Promise(resolve => {\n          part.load(() => resolve(part), this);\n        });\n      }\n      this.error('plugin', pluginName, 'does not exist');\n      return Promise.resolve(null);\n    }\n  },\n\n  defer(QxClass) {\n    customElements.define(\n      cv.ui.structure.tile.Controller.PREFIX + 'plugin',\n      class extends QxConnector {\n        constructor() {\n          super(QxClass);\n        }\n      }\n    );\n  }\n});\n","/* RoundProgress.js\n *\n * copyright (c) 2010-2022, Christian Mayer and the CometVisu contributers.\n *\n * This program is free software; you can redistribute it and/or modify it\n * under the terms of the GNU General Public License as published by the Free\n * Software Foundation; either version 3 of the License, or (at your option)\n * any later version.\n *\n * This program is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for\n * more details.\n *\n * You should have received a copy of the GNU General Public License along\n * with this program; if not, write to the Free Software Foundation, Inc.,\n * 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA\n */\n\n/**\n * Shows a round progress bar (partially filled circle).\n * This component must be used inside a cv-value component, it is not meant to be used standalone.\n *\n * @author Tobias BrÃ¤utigam\n * @since 2022\n */\nqx.Class.define('cv.ui.structure.tile.components.RoundProgress', {\n  extend: cv.ui.structure.tile.components.AbstractComponent,\n  include: cv.ui.structure.tile.MVisibility,\n\n  /*\n  ***********************************************\n    PROPERTIES\n  ***********************************************\n  */\n  properties: {\n    progress: {\n      check: 'Number',\n      apply: '_applyProgress'\n    },\n\n    text: {\n      check: 'String',\n      apply: '_applyText'\n    },\n\n    type: {\n      check: ['circle', 'semiCircle'],\n      init: 'circle'\n    },\n\n    min: {\n      check: 'Number',\n      init: 0\n    },\n\n    max: {\n      check: 'Number',\n      init: 100\n    }\n  },\n\n  /*\n  ***********************************************\n    MEMBERS\n  ***********************************************\n  */\n  members: {\n    __writeAddresses: null,\n    __circumference: null,\n    __start: null,\n    __normalizedRadius: null,\n    __radius: null,\n    __label: null,\n    __canvas: null,\n    __availableLabelWidth: null,\n    __defaultLabelFontSize: null,\n    _queuedFitText: null,\n\n    _init() {\n      super._init();\n      const element = this._element;\n      const style = document.querySelector(':root').style;\n      const hasFixedRadius = element.hasAttribute('radius');\n      const radius = (this.__radius =\n        element.getAttribute('radius') || parseInt(style.getPropertyValue('--tileCellWidth')) || 56);\n      const strokeWidth = element.getAttribute('stroke') || 8;\n      const normalizedRadius = (this.__normalizedRadius = radius - strokeWidth / 2);\n      this.__circumference = normalizedRadius * 2 * Math.PI;\n\n      if (element.hasAttribute('min')) {\n        const min = parseInt(element.getAttribute('min'));\n        if (!isNaN(min)) {\n          this.setMin(min);\n        }\n      }\n\n      if (element.hasAttribute('max')) {\n        const max = parseInt(element.getAttribute('max'));\n        if (!isNaN(max)) {\n          this.setMax(max);\n        }\n      }\n\n      if (element.hasAttribute('type')) {\n        this.setType(element.getAttribute('type'));\n      }\n      const type = this.getType();\n      let height = type === 'semiCircle' ? radius : radius * 2;\n      const ns = 'http://www.w3.org/2000/svg';\n      const svg = document.createElementNS(ns, 'svg');\n      svg.setAttribute('height', height);\n      svg.setAttribute('width', '' + (radius * 2));\n      svg.setAttribute('type', type);\n\n      if (type === 'circle') {\n        if (!element.hasAttribute('no-background')) {\n          const bg = document.createElementNS(ns, 'circle');\n          bg.classList.add('bg');\n          bg.setAttribute('r', '' +normalizedRadius);\n          bg.setAttribute('cx', '50%');\n          bg.setAttribute('cy', '50%');\n          bg.setAttribute('fill', 'transparent');\n          bg.setAttribute('stroke-width', strokeWidth);\n          if (element.hasAttribute('background-color')) {\n            bg.style.stroke = element.getAttribute('background-color');\n          }\n          svg.appendChild(bg);\n        }\n        const bar = document.createElementNS(ns, 'circle');\n        bar.classList.add('bar');\n        bar.setAttribute('r', '' +normalizedRadius);\n        bar.setAttribute('cx', '50%');\n        bar.setAttribute('cy', '50%');\n        bar.setAttribute('stroke-width', strokeWidth);\n        bar.setAttribute('stroke-dasharray', `${this.__circumference} ${this.__circumference}`);\n        bar.setAttribute('stroke-dashoffset', this.__circumference);\n        if (element.hasAttribute('foreground-color')) {\n          bar.style.stroke = element.getAttribute('foreground-color');\n        }\n        svg.appendChild(bar);\n      } else if (type === 'semiCircle') {\n        if (!element.hasAttribute('no-background')) {\n          const bg = document.createElementNS(ns, 'path');\n          bg.classList.add('bg');\n          bg.setAttribute('d', `M ${strokeWidth / 2} ${radius} A ${normalizedRadius} ${normalizedRadius} 0 0 1 ${\n            radius * 2 - strokeWidth / 2\n          } ${radius}`);\n          bg.setAttribute('fill', 'transparent');\n          bg.setAttribute('stroke-width', strokeWidth);\n          if (element.hasAttribute('background-color')) {\n            bg.style.stroke = element.getAttribute('background-color');\n          }\n          svg.appendChild(bg);\n        }\n        this.__start = {\n          x: strokeWidth / 2,\n          y: radius\n        };\n        const bar = document.createElementNS(ns, 'path');\n        bar.classList.add('bar');\n        bar.setAttribute('d', `M ${strokeWidth / 2} ${radius} A ${normalizedRadius} ${normalizedRadius} 0 0 0 ${\n          strokeWidth / 2\n        } ${radius}`);\n        bar.setAttribute('fill', 'transparent');\n        bar.setAttribute('stroke-width', strokeWidth);\n        if (element.hasAttribute('foreground-color')) {\n          bar.style.stroke = element.getAttribute('foreground-color');\n        }\n        svg.appendChild(bar);\n      }\n      element.replaceChildren(svg, document.createElement('label'));\n\n      this.__availableLabelWidth = radius * 2 - strokeWidth * 2 - 24;\n\n      if (!hasFixedRadius) {\n        qx.event.message.Bus.subscribe('cv.design.tile.cellWidthChanged', ev => {\n          this.__radius = ev.getData();\n          this.__normalizedRadius = this.__radius - strokeWidth / 2;\n          this.__circumference = this.__normalizedRadius * 2 * Math.PI;\n          height = type === 'semiCircle' ? this.__radius : this.__radius * 2;\n          const svg = element.querySelector(':scope > svg');\n          svg.setAttribute('height', '' + height);\n          svg.setAttribute('width', '' + this.__radius * 2);\n          if (type === 'circle') {\n            this._element.querySelectorAll(':scope > svg > circle').forEach(circle => {\n              circle.setAttribute('r', '' + this.__normalizedRadius);\n              if (circle.classList.contains('bar')) {\n                circle.setAttribute('stroke-dasharray', this.__circumference + ' ' + this.__circumference);\n\n                circle.setAttribute('stroke-dashoffset', '' + this.__circumference);\n              }\n            });\n          } else if (type === 'semiCircle') {\n            this.__start.y = this.__radius;\n            const bg = this._element.querySelector(':scope > svg > path.bg');\n            if (bg) {\n              bg.setAttribute(\n                'd',\n                `M ${strokeWidth / 2} ${this.__radius} A ${this.__normalizedRadius} ${this.__normalizedRadius} 0 0 1 ${\n                  this.__radius * 2 - strokeWidth / 2\n                } ${this.__radius}`\n              );\n            }\n          }\n          this._applyProgress(this.isPropertyInitialized('progress') ? this.getProgress() : 0);\n        });\n      }\n    },\n\n    __convert(angle) {\n      const angleRad = angle * (Math.PI / 180.0);\n      return {\n        x: this.__radius - this.__normalizedRadius * Math.cos(angleRad),\n        y: this.__radius - this.__normalizedRadius * Math.sin(angleRad)\n      };\n    },\n\n    _applyProgress(value) {\n      if (this.isConnected()) {\n        let valueElement;\n        let end;\n        let valueInRange = value - this.getMin();\n        let percent = Math.max(0, Math.min(100, (100 / (this.getMax() - this.getMin())) * valueInRange));\n\n        switch (this.getType()) {\n          case 'circle':\n            valueElement = this._element.querySelector(':scope > svg > circle.bar');\n\n            valueElement.setAttribute(\n              'stroke-dashoffset',\n              '' + this.__circumference - (percent / 100) * this.__circumference\n            );\n\n            break;\n\n          case 'semiCircle':\n            valueElement = this._element.querySelector(':scope > svg > path.bar');\n\n            end = this.__convert((180 / 100) * percent);\n            valueElement.setAttribute(\n              'd',\n              [\n                'M',\n                this.__start.x,\n                this.__start.y,\n                'A',\n                this.__normalizedRadius,\n                this.__normalizedRadius,\n                0,\n                0,\n                1,\n                end.x,\n                end.y\n              ].join(' ')\n            );\n\n            break;\n        }\n      }\n    },\n\n    _fitText() {\n      if (this.__label && this.__label.textContent) {\n        if (this.isVisible()) {\n          if (!this.__canvas) {\n            this.__canvas = document.createElement('canvas');\n            this.__context = this.__canvas.getContext('2d');\n            const compStyle = window.getComputedStyle(this.__label);\n            this.__context.font = compStyle.getPropertyValue('font');\n            this.__defaultLabelFontSize = compStyle.getPropertyValue('font-size');\n          }\n          const metrics = this.__context.measureText(this.__label.textContent);\n          if (metrics.width > this.__availableLabelWidth) {\n            // adjust font-size\n            const factor = this.__availableLabelWidth / metrics.width;\n            this.__label.style.fontSize = Math.floor(parseInt(this.__defaultLabelFontSize) * factor) + 'px';\n          } else {\n            this.__label.style.fontSize = this.__defaultLabelFontSize;\n          }\n          this._queuedFitText = false;\n        } else {\n          this._queuedFitText = true;\n        }\n      }\n    },\n\n    _applyVisible(visible) {\n      if (visible && this._queuedFitText) {\n        this._fitText();\n      }\n    },\n\n    _applyText(value) {\n      if (this.isConnected()) {\n        if (!this.__label) {\n          this.__label = this._element.querySelector(':scope > label');\n        }\n        this.__label.textContent = value;\n        if (!value) {\n          // empty text, just reset to default font size\n          if (this.__defaultLabelFontSize) {\n            this.__label.style.fontSize = this.__defaultLabelFontSize;\n          }\n        } else {\n          this._fitText();\n        }\n      }\n    }\n  },\n\n  /*\n  ***********************************************\n    DESTRUCTOR\n  ***********************************************\n  */\n  destruct() {\n    this.__label = null;\n  },\n\n  defer(QxClass) {\n    customElements.define(\n      cv.ui.structure.tile.Controller.PREFIX + 'round-progress',\n      class extends QxConnector {\n        constructor() {\n          super(QxClass);\n        }\n      }\n    );\n  }\n});\n","/* Select.js\n *\n * copyright (c) 2010-2022, Christian Mayer and the CometVisu contributers.\n *\n * This program is free software; you can redistribute it and/or modify it\n * under the terms of the GNU General Public License as published by the Free\n * Software Foundation; either version 3 of the License, or (at your option)\n * any later version.\n *\n * This program is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for\n * more details.\n *\n * You should have received a copy of the GNU General Public License along\n * with this program; if not, write to the Free Software Foundation, Inc.,\n * 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA\n */\n\n/**\n * Allows the selection of one element out of a list of <cv-option> elements\n */\nqx.Class.define('cv.ui.structure.tile.components.Select', {\n  extend: cv.ui.structure.tile.components.AbstractComponent,\n\n  /*\n  ***********************************************\n    MEMBERS\n  ***********************************************\n  */\n  members: {\n    __options: null,\n    __value: null,\n    __popup: null,\n\n    _init() {\n      super._init();\n      const element = this._element;\n      this.__options = new Map();\n\n      const popup = (this.__popup = document.createElement('div'));\n      popup.classList.add('popup');\n      element.querySelectorAll(':scope > cv-option').forEach((option, i) => {\n        popup.appendChild(option);\n        if (!option.hasAttribute('key')) {\n          option.setAttribute('key', '' + i);\n        }\n        this.__options.set(option.getAttribute('key'), option);\n      });\n      const value = (this.__value = document.createElement('span'));\n      value.classList.add('value');\n      element.appendChild(value);\n      element.appendChild(popup);\n      const handle = document.createElement('cv-icon');\n      handle.classList.add('dropdown');\n      handle.classList.add('ri-arrow-down-s-line');\n      element.appendChild(handle);\n\n      if (this._writeAddresses.length > 0) {\n        element.addEventListener('click', ev => this.onClicked(ev));\n      }\n    },\n\n    onClicked(ev) {\n      const style = getComputedStyle(this.__popup);\n      for (let target of ev.path) {\n        if (target.tagName.toLowerCase() === 'cv-option') {\n          // select this option\n          this._sendSelection(target.getAttribute('key'), true);\n          break;\n        }\n        if (target === ev.currentTarget) {\n          break;\n        }\n      }\n      // open popup\n      if (style.getPropertyValue('display') === 'none') {\n        this.__popup.style.display = 'block';\n      } else {\n        this.__popup.style.display = 'none';\n      }\n    },\n\n    _sendSelection(key, predictive) {\n      const ev = new CustomEvent('sendState', {\n        detail: {\n          value: key,\n          source: this\n        }\n      });\n\n      this._writeAddresses\n        .filter(addr => !addr.hasAttribute('on') || addr.getAttribute('on') === 'click')\n        .forEach(address => address.dispatchEvent(ev));\n      if (predictive === true) {\n        this.setValue(key);\n      }\n    },\n\n    _updateValue(mappedValue, value) {\n      if (this.__options.has(mappedValue)) {\n        this.__value.innerHTML = '';\n        const current = this.__options.get(mappedValue);\n        if (current.children.length > 0) {\n          // if we have non text children, we only use them (only icons no text)\n          for (const child of current.children) {\n            this.__value.appendChild(child.cloneNode());\n          }\n        } else {\n          this.__value.innerHTML = current.innerHTML;\n        }\n      }\n    }\n  },\n\n  defer(QxClass) {\n    customElements.define(\n      cv.ui.structure.tile.Controller.PREFIX + 'select',\n      class extends QxConnector {\n        constructor() {\n          super(QxClass);\n        }\n      }\n    );\n  }\n});\n","/* Slider.js\n *\n * copyright (c) 2010-2022, Christian Mayer and the CometVisu contributers.\n *\n * This program is free software; you can redistribute it and/or modify it\n * under the terms of the GNU General Public License as published by the Free\n * Software Foundation; either version 3 of the License, or (at your option)\n * any later version.\n *\n * This program is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for\n * more details.\n *\n * You should have received a copy of the GNU General Public License along\n * with this program; if not, write to the Free Software Foundation, Inc.,\n * 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA\n */\n\n/**\n * Shows a range slider.\n */\nqx.Class.define('cv.ui.structure.tile.components.Slider', {\n  extend: cv.ui.structure.tile.components.AbstractComponent,\n\n  /*\n  ***********************************************\n    PROPERTIES\n  ***********************************************\n  */\n  properties: {\n    stepWidth: {\n      check: 'Number',\n      init: 5\n    },\n\n    min: {\n      check: 'Number',\n      init: 1,\n      apply: '_applyMin'\n    },\n\n    max: {\n      check: 'Number',\n      init: 100,\n      apply: '_applyMax'\n    },\n\n    showValue: {\n      check: 'Boolean',\n      init: true,\n      apply: '_applyShowValue'\n    },\n\n    throttleInterval: {\n      check: 'Number',\n      init: 250,\n      apply: '_applyThrottleInterval'\n    }\n  },\n\n  /*\n  ***********************************************\n    MEMBERS\n  ***********************************************\n  */\n  members: {\n    __throttled: null,\n    __input: null,\n\n    _init() {\n      super._init();\n      const element = this._element;\n      if (element.hasAttribute('throttle-interval')) {\n        this.setThrottleInterval(parseInt(element.getAttribute('throttle-interval')));\n      } else {\n        this._applyThrottleInterval(this.getThrottleInterval());\n      }\n\n      // init components\n      let input = element.querySelector(':scope > input');\n      if (!input) {\n        input = document.createElement('input');\n        input.classList.add('slider');\n        input.setAttribute('type', 'range');\n        element.insertBefore(input, element.querySelector(':scope > .up'));\n        input.oninput = () => this.__throttled.call();\n      }\n      this.__input = input;\n      if (element.hasAttribute('step-width')) {\n        this.setStepWidth(parseInt(element.getAttribute('step-width')));\n      }\n      if (element.hasAttribute('min')) {\n        this.setMin(parseInt(element.getAttribute('min')));\n      }\n      if (element.hasAttribute('max')) {\n        this.setMax(parseInt(element.getAttribute('max')));\n      }\n      if (element.hasAttribute('hide-value') && element.getAttribute('hide-value') === 'true') {\n        this.setShowValue(false);\n      } else {\n        this._applyShowValue(true);\n      }\n\n      const decreaseElement = element.querySelector(':scope > .decrease');\n      if (decreaseElement) {\n        decreaseElement.addEventListener('click', ev => this.onDecrease());\n      }\n      const increaseElement = element.querySelector(':scope > .increase');\n      if (increaseElement) {\n        increaseElement.addEventListener('click', ev => this.onIncrease());\n      }\n    },\n\n    _applyThrottleInterval(value) {\n      if (value > 0) {\n        this.__throttled = cv.util.Function.throttle(this.onInput, value, { trailing: true }, this);\n      } else {\n        // no throttling, direct call\n        this.__throttled = {\n          call: () => this.onInput(),\n          abort: () => {}\n        };\n      }\n    },\n\n    _applyMin(value) {\n      const input = this._element.querySelector(':scope > input');\n      input.setAttribute('min', '' + value);\n    },\n\n    _applyMax(value) {\n      const input = this._element.querySelector(':scope > input');\n      input.setAttribute('max', '' + value);\n    },\n\n    _applyShowValue(value) {\n      let valueLabel = this._element.querySelector(':scope > label.value');\n      if (value) {\n        if (!valueLabel) {\n          valueLabel = document.createElement('label');\n          valueLabel.classList.add('value');\n          valueLabel.classList.add('secondary');\n          this._element.insertBefore(valueLabel, this._element.firstChild);\n        }\n      }\n    },\n\n    _updateValue(mappedValue, value) {\n      const target = this._element.querySelector(':scope > input');\n      if (target) {\n        target.value = value;\n      }\n      if (this.isShowValue()) {\n        let valueLabel = this._element.querySelector(':scope > label.value');\n        if (valueLabel) {\n          valueLabel.innerText = mappedValue;\n        }\n      }\n    },\n\n    onInput() {\n      this.__sendValue(this.__input.value);\n    },\n\n    onDecrease() {\n      const value = this.getValue() - this.getStepWidth();\n      this.__sendValue(value, 'decrease');\n    },\n\n    onIncrease() {\n      const value = this.getValue() + this.getStepWidth();\n      this.__sendValue(value, 'increase');\n    },\n\n    __sendValue(value, on) {\n      const ev = new CustomEvent('sendState', {\n        detail: {\n          value: value,\n          source: this\n        }\n      });\n\n      this._writeAddresses\n        .filter(addr => !addr.hasAttribute('on') || addr.getAttribute('on') === on)\n        .forEach(address => address.dispatchEvent(ev));\n    }\n  },\n\n  defer(QxClass) {\n    customElements.define(\n      cv.ui.structure.tile.Controller.PREFIX + 'slider',\n      class extends QxConnector {\n        constructor() {\n          super(QxClass);\n        }\n      }\n    );\n  }\n});\n","/* Spinner.js\n *\n * copyright (c) 2010-2022, Christian Mayer and the CometVisu contributers.\n *\n * This program is free software; you can redistribute it and/or modify it\n * under the terms of the GNU General Public License as published by the Free\n * Software Foundation; either version 3 of the License, or (at your option)\n * any later version.\n *\n * This program is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for\n * more details.\n *\n * You should have received a copy of the GNU General Public License along\n * with this program; if not, write to the Free Software Foundation, Inc.,\n * 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA\n */\n\n/**\n * Shows a number value that can be increased and decreased by a defined step width.\n */\nqx.Class.define('cv.ui.structure.tile.components.Spinner', {\n  extend: cv.ui.structure.tile.components.AbstractComponent,\n\n  /*\n  ***********************************************\n    PROPERTIES\n  ***********************************************\n  */\n  properties: {\n    stepWidth: {\n      check: 'Number',\n      init: 1.0\n    },\n\n    mode: {\n      check: ['relative', 'absolute'],\n      init: 'absolute'\n    }\n  },\n\n  /*\n  ***********************************************\n    MEMBERS\n  ***********************************************\n  */\n  members: {\n    _init() {\n      super._init();\n      const element = this._element;\n      if (element.hasAttribute('step-width')) {\n        this.setStepWidth(parseFloat(element.getAttribute('step-width')));\n      }\n      if (element.hasAttribute('mode')) {\n        this.setMode(element.getAttribute('mode'));\n      }\n      // init components\n      let valueElement = element.querySelector(':scope > .value');\n      if (!valueElement) {\n        valueElement = document.createElement('label');\n        valueElement.classList.add('value');\n        valueElement.classList.add('primary');\n        element.appendChild(valueElement);\n      }\n      // add increase / decrease buttons\n      const decrease = document.createElement('div');\n      decrease.classList.add('clickable');\n      decrease.classList.add('left');\n      const decreaseIcon = document.createElement('cv-icon');\n      decreaseIcon.classList.add('ri-arrow-down-s-line');\n      decrease.addEventListener('click', () => this.onDecrease());\n      decrease.appendChild(decreaseIcon);\n      element.insertBefore(decrease, valueElement);\n\n      const increase = document.createElement('div');\n      increase.classList.add('clickable');\n      increase.classList.add('right');\n      const increaseIcon = document.createElement('cv-icon');\n      increaseIcon.classList.add('ri-arrow-up-s-line');\n      increase.appendChild(increaseIcon);\n      increase.addEventListener('click', () => this.onIncrease());\n      element.appendChild(increase);\n    },\n\n    onDecrease() {\n      const value = this.getMode() === 'absolute' ? this.getValue() - this.getStepWidth() : this.getStepWidth() * -1;\n      this.__sendValue(value, 'decrease');\n    },\n\n    onIncrease() {\n      const value = this.getMode() === 'absolute' ? this.getValue() + this.getStepWidth() : this.getStepWidth();\n      this.__sendValue(value, 'increase');\n    },\n\n    _updateValue(mappedValue) {\n      const target = this._element.querySelector('.value');\n      if (target) {\n        target.innerHTML = mappedValue;\n      }\n    },\n\n    __sendValue(value, on) {\n      const ev = new CustomEvent('sendState', {\n        detail: {\n          value: value,\n          source: this\n        }\n      });\n\n      this._writeAddresses\n        .filter(addr => !addr.hasAttribute('on') || addr.getAttribute('on') === on)\n        .forEach(address => address.dispatchEvent(ev));\n    }\n  },\n\n  defer(QxClass) {\n    customElements.define(\n      cv.ui.structure.tile.Controller.PREFIX + 'spinner',\n      class extends QxConnector {\n        constructor() {\n          super(QxClass);\n        }\n      }\n    );\n  }\n});\n","/* Value.js\n *\n * copyright (c) 2010-2022, Christian Mayer and the CometVisu contributers.\n *\n * This program is free software; you can redistribute it and/or modify it\n * under the terms of the GNU General Public License as published by the Free\n * Software Foundation; either version 3 of the License, or (at your option)\n * any later version.\n *\n * This program is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for\n * more details.\n *\n * You should have received a copy of the GNU General Public License along\n * with this program; if not, write to the Free Software Foundation, Inc.,\n * 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA\n */\n\n/**\n * Shows a value from the backend, as label or image/icon\n * @author Tobias BrÃ¤utigam\n * @since 2022\n */\nqx.Class.define('cv.ui.structure.tile.components.Value', {\n  extend: cv.ui.structure.tile.components.AbstractComponent,\n  include: [cv.ui.structure.tile.MVisibility, cv.ui.structure.tile.MResize],\n  /*\n  ***********************************************\n    MEMBERS\n  ***********************************************\n  */\n  members: {\n    _queuedOverflowDetection: null,\n    _debouncedDetectOverflow: null,\n\n    _init() {\n      super._init();\n      this._debouncedDetectOverflow = qx.util.Function.debounce(this._detectOverflow, 20);\n\n      const target = this._element.querySelector('.value');\n      if (target && target.tagName.toLowerCase() === 'label') {\n        // check for overflowing text, when labels parent gets resized\n        this.setResizeTarget(this._element);\n        this.addListener('resized', this._debouncedDetectOverflow, this);\n      }\n    },\n\n    _applyVisible(visible) {\n      if (visible) {\n        if (this._queuedOverflowDetection) {\n          this._debouncedDetectOverflow();\n        }\n      } else {\n        const target = this._element.querySelector('.value');\n        if (target && target.classList.contains('scroll')) {\n          target.classList.remove('scroll');\n        }\n      }\n    },\n\n    _detectOverflow() {\n      const target = this._element.querySelector('.value');\n      if (this.isVisible()) {\n        this._queuedOverflowDetection = false;\n        if (target.clientWidth > target.parentElement.clientWidth) {\n          target.classList.add('scroll');\n        } else {\n          target.classList.remove('scroll');\n        }\n      } else {\n        this._queuedOverflowDetection = true;\n      }\n    },\n\n    _updateValue(mappedValue, value) {\n      const target = this._element.querySelector('.value');\n      let styleClass = '';\n      if (target) {\n        const tagName = target.tagName.toLowerCase();\n        switch (tagName) {\n          case 'cv-icon':\n            target._instance.setId(mappedValue);\n            if (this._element.hasAttribute('styling')) {\n              styleClass = cv.Application.structureController.styleValue(\n                this._element.getAttribute('styling'),\n                value,\n                this.__store\n              );\n            }\n            target._instance.setStyleClass(styleClass);\n            break;\n          case 'meter':\n            target.setAttribute('value', mappedValue);\n            target.innerHTML = '' + mappedValue;\n            break;\n          case 'cv-round-progress':\n            if (typeof value === 'string') {\n              value = parseInt(value);\n            }\n            target._instance.setProgress(value);\n            target._instance.setText('' + mappedValue);\n            break;\n          case 'label':\n            target.innerHTML = mappedValue;\n            this._debouncedDetectOverflow();\n            break;\n        }\n      }\n    }\n  },\n\n  defer(QxClass) {\n    customElements.define(\n      cv.ui.structure.tile.Controller.PREFIX + 'value',\n      class extends QxConnector {\n        constructor() {\n          super(QxClass);\n        }\n      }\n    );\n  }\n});\n","/* Backend.js\n *\n * copyright (c) 2010-2022, Christian Mayer and the CometVisu contributers.\n *\n * This program is free software; you can redistribute it and/or modify it\n * under the terms of the GNU General Public License as published by the Free\n * Software Foundation; either version 3 of the License, or (at your option)\n * any later version.\n *\n * This program is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for\n * more details.\n *\n * You should have received a copy of the GNU General Public License along\n * with this program; if not, write to the Free Software Foundation, Inc.,\n * 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA\n */\n\n/**\n * <cv-backend> Custom element to define a backend connection\n */\nqx.Class.define('cv.ui.structure.tile.elements.Backend', {\n  extend: cv.ui.structure.tile.elements.AbstractCustomElement,\n\n  /*\n  ***********************************************\n    MEMBERS\n  ***********************************************\n  */\n  members: {\n    _name: null,\n    __applyValues: null,\n\n    _init() {\n      const element = this._element;\n      const type = element.getAttribute('type');\n      const uriString = element.hasAttribute('uri') ? element.getAttribute('uri') : '';\n      let uri;\n      if (uriString) {\n        try {\n          uri = new URL(uriString, window.location.origin + window.location.pathname);\n        } catch (e) {\n          this.error('Error parsing uri: ' + uriString);\n        }\n      }\n\n      if (type) {\n        let credentials = null;\n        if (element.hasAttribute('username')) {\n          credentials = {\n            username: element.getAttribute('username'),\n            password: element.getAttribute('password') || ''\n          };\n        } else if (uri && uri.username) {\n          credentials = {\n            username: uri.username,\n            password: uri.password\n          };\n        }\n        const model = cv.data.Model.getInstance();\n        let backendUrl = uri ? uri.toString() : null;\n        let backendUrlConfigKey;\n        switch (type) {\n          case 'knxd':\n            backendUrlConfigKey = 'backendKnxdUrl';\n            break;\n          case 'openhab':\n            backendUrlConfigKey = 'backendOpenHABUrl';\n            break;\n          case 'mqtt':\n            backendUrlConfigKey = 'backendMQTTUrl';\n            break;\n        }\n\n        if (backendUrlConfigKey) {\n          // override by URL settings\n          if (cv.Config.URL[backendUrlConfigKey]) {\n            backendUrl = cv.Config.URL[backendUrlConfigKey];\n          } else if (!backendUrl && cv.Config.server[backendUrlConfigKey]) {\n            backendUrl = cv.Config.server[backendUrlConfigKey];\n          }\n        }\n        let name = type;\n        if (element.hasAttribute('name')) {\n          name = element.getAttribute('name');\n        } else if (!cv.io.BackendConnections.hasClient('main')) {\n          // we need one main backend\n          name = 'main';\n        } else if (cv.io.BackendConnections.getClient('main').configuredIn === 'config') {\n          qx.log.Logger.warn(\n            this,\n            `there is already a backend registered with name \"main\" and type ${type} skipping this one`\n          );\n\n          return;\n        }\n        qx.log.Logger.debug(this, 'init backend', name);\n        if (cv.io.BackendConnections.hasClient(name)) {\n          const notification = {\n            topic: 'cv.config.error',\n            title: qx.locale.Manager.tr('Config error'),\n            message: qx.locale.Manager.tr('There already exists a backend named: \"%1\"', name),\n\n            severity: 'urgent',\n            unique: true,\n            deletable: true\n          };\n\n          cv.core.notifications.Router.dispatchMessage(notification.topic, notification);\n\n          return;\n        }\n        const client = cv.io.BackendConnections.addBackendClient(name, type, backendUrl, 'config');\n\n        this._client = client;\n        this._name = name;\n        this.__applyValues = [];\n        client.update = data => model.updateFrom(name, data); // override clients update function\n        client.login(true, credentials, () => {\n          this.debug(name, 'connected');\n          if (element.hasAttribute('default') && element.getAttribute('default') === 'true') {\n            model.setDefaultBackendName(name);\n          }\n          const doSubscribe = () => {\n            for (const [address, value] of this.__applyValues) {\n              this.debug(name, 'apply update', address, value);\n              model.onUpdate(address, value, name);\n            }\n            const addressesToSubscribe = model.getAddresses(name);\n            this.debug(name, 'subscribing to', addressesToSubscribe.length, 'addresses');\n\n            if (addressesToSubscribe.length !== 0) {\n              client.subscribe(addressesToSubscribe);\n            }\n          };\n          if (cv.TemplateEngine.getInstance().isDomFinished()) {\n            doSubscribe();\n          } else {\n            qx.event.message.Bus.subscribe(\n              'setup.dom.finished',\n              function () {\n                doSubscribe();\n              },\n              this\n            );\n          }\n        });\n\n        for (const data of element.querySelectorAll(':scope > cv-data')) {\n          if (data.hasAttribute('address')) {\n            let value = data.textContent.trim();\n            if (data.hasAttribute('transform')) {\n              const encoding = data.getAttribute('transform');\n              const encodedValue = cv.Transform.encodeBusAndRaw({ transform: encoding }, value);\n\n              value = encodedValue.bus;\n            }\n            this.__applyValues.push([data.getAttribute('address'), value]);\n          }\n        }\n      } else {\n        this.error('<cv-backend> must have a type attribute');\n      }\n    },\n\n    _disconnected() {\n      if (this._client) {\n        const model = cv.data.Model.getInstance();\n        if (this._element.hasAttribute('default') && this._element.getAttribute('default') === 'true') {\n          model.resetDefaultBackendName();\n        }\n        this._client.terminate();\n        cv.io.BackendConnections.removeClient(this._client);\n        this._client.dispose();\n        this._client = null;\n      }\n    }\n  },\n\n  defer(Clazz) {\n    customElements.define(\n      cv.ui.structure.tile.Controller.PREFIX + 'backend',\n      class extends QxConnector {\n        constructor() {\n          super(Clazz);\n        }\n      }\n    );\n  }\n});\n","/* Loader.js\n *\n * copyright (c) 2010-2022, Christian Mayer and the CometVisu contributers.\n *\n * This program is free software; you can redistribute it and/or modify it\n * under the terms of the GNU General Public License as published by the Free\n * Software Foundation; either version 3 of the License, or (at your option)\n * any later version.\n *\n * This program is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for\n * more details.\n *\n * You should have received a copy of the GNU General Public License along\n * with this program; if not, write to the Free Software Foundation, Inc.,\n * 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA\n */\n\n/**\n * Loads external content like CSS/JS files, config-content or a template file.\n *\n *  @author Tobias BrÃ¤utigam\n *  @since 2022\n */\nqx.Class.define('cv.ui.structure.tile.elements.Loader', {\n  extend: cv.ui.structure.tile.elements.AbstractCustomElement,\n\n  /*\n  ***********************************************\n    MEMBERS\n  ***********************************************\n  */\n  members: {\n    _init() {\n      const element = this._element;\n      const type = element.getAttribute('type');\n      const src = element.getAttribute('src');\n      let loaderElement;\n      if (src) {\n        switch (type) {\n          case 'css':\n            loaderElement = document.createElement('link');\n            loaderElement.setAttribute('type', 'text/css');\n            loaderElement.setAttribute('rel', 'stylesheet');\n            loaderElement.setAttribute('href', src);\n            break;\n\n          case 'js':\n            loaderElement = document.createElement('script');\n            loaderElement.setAttribute('type', 'text/javascript');\n            loaderElement.setAttribute('src', src);\n            break;\n\n          case 'templates':\n            this.loadXml(src, type);\n            break;\n        }\n\n        if (loaderElement) {\n          element.appendChild(loaderElement);\n        }\n      }\n    },\n\n    loadXml(uri) {\n      const ajaxRequest = new qx.io.request.Xhr(uri);\n      ajaxRequest.set({\n        accept: 'application/xml',\n        cache: !cv.Config.forceReload\n      });\n\n      ajaxRequest.addListenerOnce('success', function (e) {\n        let content = e.getTarget().getResponse();\n        let htmlContent = content;\n        const target = cv.Application.structureController.getRenderTarget();\n        // we need the documents to be in HTML namespace\n        if (!htmlContent.documentElement.xmlns) {\n          let text = e.getTarget().getResponseText();\n          text = text.replace('<templates', '<templates xmlns=\"http://www.w3.org/1999/xhtml\"');\n\n          const parser = new DOMParser();\n          htmlContent = parser.parseFromString(text, 'text/xml');\n        }\n        let child;\n        while ((child = htmlContent.documentElement.firstElementChild)) {\n          target.appendChild(child);\n        }\n        // register custom elements for templates in this document\n        cv.Application.structureController.registerTemplates(content);\n      });\n      ajaxRequest.addListener('statusError', e => {\n        const status = e.getTarget().getTransport().status;\n        if (!qx.util.Request.isSuccessful(status)) {\n          this.handleError('filenotfound', ajaxRequest.getUrl());\n        } else {\n          this.handleError(status, null);\n        }\n      });\n\n      ajaxRequest.send();\n    },\n\n    handleError(textStatus, additionalErrorInfo) {\n      const title = qx.locale.Manager.tr('File Error!').translate().toString();\n      let message = '';\n      let actions;\n      switch (textStatus) {\n        case 'parsererror':\n          message = qx.locale.Manager.tr('Invalid XML file!');\n          break;\n        case 'filenotfound':\n          message = qx.locale.Manager.tr('404: File not found, %1.', additionalErrorInfo).translate().toString();\n          break;\n        default:\n          message = qx.locale.Manager.tr('Unhandled error of type \"%1\"', textStatus).translate().toString();\n          if (additionalErrorInfo) {\n            message += ': ' + additionalErrorInfo;\n          } else {\n            message += '.';\n          }\n      }\n\n      const notification = {\n        topic: 'cv.error',\n        title: title,\n        message: message\n      };\n\n      if (actions) {\n        notification.actions = actions;\n      }\n      cv.core.notifications.Router.dispatchMessage(notification.topic, notification);\n\n      this.error(this, message.toString());\n    }\n  },\n\n  defer(Clazz) {\n    customElements.define(\n      cv.ui.structure.tile.Controller.PREFIX + 'loader',\n      class extends QxConnector {\n        constructor() {\n          super(Clazz);\n        }\n      }\n    );\n  }\n});\n","/* Mapping.js\n *\n * copyright (c) 2010-2022, Christian Mayer and the CometVisu contributers.\n *\n * This program is free software; you can redistribute it and/or modify it\n * under the terms of the GNU General Public License as published by the Free\n * Software Foundation; either version 3 of the License, or (at your option)\n * any later version.\n *\n * This program is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for\n * more details.\n *\n * You should have received a copy of the GNU General Public License along\n * with this program; if not, write to the Free Software Foundation, Inc.,\n * 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA\n */\n\n/**\n * Mapping maps a value to another value that can be used to show e.g. the current state.\n * @author Tobias BrÃ¤utigam\n * @since 2022\n */\nqx.Class.define('cv.ui.structure.tile.elements.Mapping', {\n  extend: cv.ui.structure.tile.elements.AbstractCustomElement,\n\n  /*\n  ***********************************************\n    CONSTRUCTOR\n  ***********************************************\n  */\n  construct(element) {\n    super(element);\n    this.__cache = {};\n  },\n\n  /*\n  ***********************************************\n    MEMBERS\n  ***********************************************\n  */\n  members: {\n    __cache: null,\n\n    _applyConnected(value, oldValue, name) {\n      super._applyConnected(value, oldValue, name);\n      // avoid adding styling elements here as they inherit this method but call the super method too\n      if (this._element.tagName.toLowerCase().endsWith('mapping')) {\n        if (value) {\n          cv.Application.structureController.addMapping(this._element.getAttribute('name'), this);\n        } else {\n          cv.Application.structureController.removeMapping(this._element.getAttribute('name'));\n        }\n      }\n    },\n\n    /**\n     *\n     * @param val {variant}\n     * @param store {Map<string, variant>?} optional stored values from other addresses\n     * @param params {Array<variant>?} optional array of parameters for the mapping\n     * @return {string|*|string}\n     */\n    mapValue(val, store, params) {\n      if (Object.prototype.hasOwnProperty.call(this.__cache, val)) {\n        return this.__cache[val];\n      }\n      let mappedValue = '' + val;\n      const exactMatch = this._element.querySelector(':scope > entry[value=\"' + val + '\"]');\n\n      let type = this._element.hasAttribute('type') ? this._element.getAttribute('type') : 'string';\n      if (exactMatch) {\n        mappedValue = this._convert(exactMatch.innerHTML.trim(), type);\n        this.__cache[val] = mappedValue;\n        return mappedValue;\n      }\n      const formula = this._element.querySelector(':scope > formula');\n      if (formula) {\n        if (!formula._formula) {\n          let content = formula.textContent;\n          formula._formula = new Function('x', 'store', 'params', 'let y;' + content + '; return y;');\n        }\n        mappedValue = this._convert(formula._formula(val, store, params), type);\n        return mappedValue;\n      }\n      const entries = this._element.querySelectorAll(':scope > entry');\n      let defaultValue = null;\n\n      const mapped = Array.from(entries).some(entry => {\n        let matches = false;\n        let isDefaultValue = entry.hasAttribute('default') && entry.getAttribute('default') === 'true';\n        if (entry.hasAttribute('value')) {\n          const value = entry.getAttribute('value');\n          if (value === (val ? val : 'NULL') || value === '*') {\n            mappedValue = this._convert(entry.innerHTML.trim(), type);\n            matches = true;\n          }\n          if (isDefaultValue) {\n            defaultValue = this._convert(value, type);\n          }\n        } else if (entry.hasAttribute('range-min')) {\n          const rangeMin = parseFloat(entry.getAttribute('range-min'));\n          const rangeMax = entry.hasAttribute('range-max')\n            ? parseFloat(entry.getAttribute('range-max'))\n            : Number.POSITIVE_INFINITY;\n          const floatValue = parseFloat(val);\n          if (rangeMin <= floatValue && floatValue <= rangeMax) {\n            mappedValue = this._convert(entry.innerHTML.trim(), type);\n            matches = true;\n          }\n          if (isDefaultValue) {\n            defaultValue = rangeMin;\n          }\n        }\n        return matches;\n      });\n      if (!mapped && defaultValue !== null) {\n        mappedValue = this.mapValue(defaultValue);\n      }\n      this.__cache[val] = mappedValue;\n      return mappedValue;\n    },\n\n    _convert(value, type) {\n      switch (type.toLowerCase()) {\n        case 'boolean':\n          return value === 'true';\n        case 'integer':\n          return parseInt(value);\n        case 'float':\n          return parseFloat(value);\n        default:\n          return value;\n      }\n    }\n  },\n\n  /*\n  ***********************************************\n    DESTRUCTOR\n  ***********************************************\n  */\n  destruct() {\n    this.__cache = null;\n  },\n\n  defer(Clazz) {\n    customElements.define(\n      cv.ui.structure.tile.Controller.PREFIX + 'mapping',\n      class extends QxConnector {\n        constructor() {\n          super(Clazz);\n        }\n      }\n    );\n  }\n});\n","/* Styling.js\n *\n * copyright (c) 2010-2022, Christian Mayer and the CometVisu contributers.\n *\n * This program is free software; you can redistribute it and/or modify it\n * under the terms of the GNU General Public License as published by the Free\n * Software Foundation; either version 3 of the License, or (at your option)\n * any later version.\n *\n * This program is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for\n * more details.\n *\n * You should have received a copy of the GNU General Public License along\n * with this program; if not, write to the Free Software Foundation, Inc.,\n * 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA\n */\n\n/**\n * Styling maps a value to another value that can be used to style a component\n * @author Tobias BrÃ¤utigam\n * @since 2022\n */\nqx.Class.define('cv.ui.structure.tile.elements.Styling', {\n  extend: cv.ui.structure.tile.elements.Mapping,\n\n  /*\n  ***********************************************\n    MEMBERS\n  ***********************************************\n  */\n  members: {\n    _applyConnected(value, oldValue, name) {\n      super._applyConnected(value, oldValue, name);\n      if (value) {\n        cv.Application.structureController.addStyling(this._element.getAttribute('name'), this);\n      } else {\n        cv.Application.structureController.removeStyling(this._element.getAttribute('name'));\n      }\n    }\n  },\n\n  defer(Clazz) {\n    customElements.define(\n      cv.ui.structure.tile.Controller.PREFIX + 'styling',\n      class extends QxConnector {\n        constructor() {\n          super(Clazz);\n        }\n      }\n    );\n  }\n});\n","/* Group.js\n *\n * copyright (c) 2010-2022, Christian Mayer and the CometVisu contributers.\n *\n * This program is free software; you can redistribute it and/or modify it\n * under the terms of the GNU General Public License as published by the Free\n * Software Foundation; either version 3 of the License, or (at your option)\n * any later version.\n *\n * This program is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for\n * more details.\n *\n * You should have received a copy of the GNU General Public License along\n * with this program; if not, write to the Free Software Foundation, Inc.,\n * 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA\n */\n\n/**\n * Creates a group of widgets that can be hidden (works like the <detail> HTML Element)\n *\n * @author Tobias BrÃ¤utigam\n * @since 2022\n */\nqx.Class.define('cv.ui.structure.tile.widgets.Group', {\n  extend: cv.ui.structure.tile.components.AbstractComponent,\n\n  /*\n   ******************************************************\n   MEMBERS\n   ******************************************************\n   */\n  members: {\n    _init() {\n      super._init();\n      const element = this._element;\n      let label = null;\n      let summary = null;\n      const needsSummary = element.hasAttribute('name') || element.hasAttribute('icon');\n      if (needsSummary) {\n        summary = element.querySelector(':scope > summary');\n        if (!summary) {\n          summary = document.createElement('summary');\n          element.insertBefore(summary, element.firstChild);\n        }\n        if (element.hasAttribute('name')) {\n          label = element.querySelector(':scope > summary > label.title');\n          if (!label) {\n            label = document.createElement('label');\n            label.classList.add('title');\n            summary.insertBefore(label, summary.firstChild);\n          }\n          label.classList.add('last-of-title');\n          label.textContent = element.getAttribute('name');\n        }\n        if (element.hasAttribute('icon')) {\n          let icon = element.querySelector(':scope > summary > cv-icon.title');\n          if (!icon) {\n            icon = document.createElement('cv-icon');\n            icon.classList.add('title');\n            summary.insertBefore(icon, summary.firstChild);\n          }\n          if (!label) {\n            icon.classList.add('last-of-title');\n          }\n          icon.classList.add(element.getAttribute('icon'));\n        }\n      }\n      const empty = !element.querySelector(':scope > *:not(summary)');\n      if (empty) {\n        element.classList.add('empty');\n      } else if (summary) {\n        qx.event.Registration.addListener(summary, 'click', this._toggleOpen, this);\n      }\n    },\n\n    _toggleOpen() {\n      if (this._element.hasAttribute('open')) {\n        this._element.removeAttribute('open');\n      } else {\n        this._element.setAttribute('open', 'true');\n      }\n    },\n\n    /**\n     * Handles the incoming data from the backend for this widget\n     *\n     * @param ev {CustomEvent} stateUpdate event fired from a cv-address component\n     */\n    onStateUpdate(ev) {\n      if (!super.onStateUpdate(ev)) {\n        if (ev.detail.target === 'summary') {\n          let target = this._element.querySelector(':scope > summary > label.value');\n\n          if (!target) {\n            target = document.createElement('label');\n            target.classList.add('value');\n            const summary = this._element.querySelector(':scope > summary');\n            summary.appendChild(target);\n          }\n          target.textContent = ev.detail.state;\n        } else {\n          this.debug('unhandled address target', ev.detail.target);\n        }\n      }\n    }\n  },\n\n  defer(QxClass) {\n    customElements.define(\n      cv.ui.structure.tile.Controller.PREFIX + 'group',\n      class extends QxConnector {\n        constructor() {\n          super(QxClass);\n        }\n      }\n    );\n  }\n});\n","/* Page.js\n *\n * copyright (c) 2010-2022, Christian Mayer and the CometVisu contributers.\n *\n * This program is free software; you can redistribute it and/or modify it\n * under the terms of the GNU General Public License as published by the Free\n * Software Foundation; either version 3 of the License, or (at your option)\n * any later version.\n *\n * This program is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for\n * more details.\n *\n * You should have received a copy of the GNU General Public License along\n * with this program; if not, write to the Free Software Foundation, Inc.,\n * 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA\n */\n\n/**\n * Creates a new sub page and adds a corresponding link to the current page.\n *\n * @ignore(InstallTrigger)\n * @author Tobias BrÃ¤utigam\n * @since 2021\n */\nqx.Class.define('cv.ui.structure.tile.widgets.Page', {\n  extend: cv.ui.structure.tile.components.AbstractComponent,\n\n  /*\n  ***********************************************\n    PROPERTIES\n  ***********************************************\n  */\n  properties: {\n    visibility: {\n      refine: true,\n      init: 'excluded'\n    }\n  },\n\n  /*\n   ******************************************************\n   MEMBERS\n   ******************************************************\n   */\n  members: {\n    _supportsContentVisibility: null,\n\n    _init() {\n      if (typeof InstallTrigger !== 'undefined') {\n        // firefox does not support content-visibility CSS property\n        // see: https://developer.mozilla.org/en-US/docs/Web/CSS/content-visibility\n        this._element.classList.add('no-content-visibility');\n        this._supportsContentVisibility = false;\n      } else {\n        this._supportsContentVisibility = true;\n      }\n    },\n\n    _applyVisibility(value) {\n      switch (value) {\n        case 'visible':\n          if (this._supportsContentVisibility) {\n            this._element.style.contentVisibility = 'visible';\n          } else if (this._visibleDisplayMode) {\n            this._element.style.display = this._visibleDisplayMode || 'initial';\n          }\n          break;\n\n        case 'hidden':\n        case 'excluded':\n          if (this._supportsContentVisibility) {\n            this._element.style.contentVisibility = 'hidden';\n          } else {\n            this._visibleDisplayMode = getComputedStyle(this._element).getPropertyValue('display');\n            this._element.style.display = 'none';\n          }\n          break;\n      }\n    }\n  },\n\n  defer(QxClass) {\n    customElements.define(\n      cv.ui.structure.tile.Controller.PREFIX + 'page',\n      class extends QxConnector {\n        constructor() {\n          super(QxClass);\n        }\n      }\n    );\n\n    customElements.define(\n      cv.ui.structure.tile.Controller.PREFIX + 'row',\n      class extends HTMLElement {\n        constructor() {\n          super();\n          if (this.hasAttribute('colspan')) {\n            this.classList.add('colspan-' + this.getAttribute('colspan'));\n          }\n          if (this.hasAttribute('rowspan')) {\n            this.classList.add('rowspan-' + this.getAttribute('rowspan'));\n          }\n        }\n      }\n    );\n  }\n});\n","/* Popup.js\n *\n * copyright (c) 2010-2022, Christian Mayer and the CometVisu contributers.\n *\n * This program is free software; you can redistribute it and/or modify it\n * under the terms of the GNU General Public License as published by the Free\n * Software Foundation; either version 3 of the License, or (at your option)\n * any later version.\n *\n * This program is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for\n * more details.\n *\n * You should have received a copy of the GNU General Public License along\n * with this program; if not, write to the Free Software Foundation, Inc.,\n * 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA\n */\n\n/**\n * Creates a popup that contains arbitrary content and can be opened as an overlay over the current UI.\n *\n * @author Tobias BrÃ¤utigam\n * @since 2022\n */\nqx.Class.define('cv.ui.structure.tile.widgets.Popup', {\n  extend: cv.ui.structure.tile.components.AbstractComponent,\n  include: cv.ui.structure.tile.MPopup,\n\n  /*\n  ***********************************************\n    STATICS\n  ***********************************************\n  */\n  statics: {\n    openedPopups: []\n  },\n\n  /*\n   ******************************************************\n   MEMBERS\n   ******************************************************\n   */\n  members: {\n    _closeButton: null,\n\n    _init() {\n      super._init();\n      const popup = this._element;\n      const closeable = !popup.hasAttribute('closeable') || popup.getAttribute('closeable') === 'true';\n      if (closeable) {\n        this._closeButton = document.createElement('button');\n        this._closeButton.classList.add('close');\n        const icon = document.createElement('i');\n        icon.classList.add('ri-close-line');\n        this._closeButton.appendChild(icon);\n        popup.insertBefore(this._closeButton, popup.firstChild);\n        this._closeButton.addEventListener('click', () => this.close());\n      }\n      popup.addEventListener('close', ev => {\n        this.close();\n      });\n      if (popup.hasAttribute('title')) {\n        const header = document.createElement('header');\n        popup.insertBefore(header, popup.firstChild);\n        const title = document.createElement('h2');\n        title.textContent = popup.getAttribute('title');\n        header.appendChild(title);\n      }\n      if (popup.hasAttribute('auto-close-timeout')) {\n        const timeoutSeconds = parseInt(popup.getAttribute('auto-close-timeout'));\n\n        if (!isNaN(timeoutSeconds)) {\n          this._autoCloseTimer = new qx.event.Timer(timeoutSeconds * 1000);\n          this._autoCloseTimer.addListener('interval', () => {\n            this._autoCloseTimer.stop();\n            this.close();\n          });\n        } else {\n          this.error('invalid auto-close-timeout value:', popup.getAttribute('auto-close-timeout'));\n        }\n      }\n    },\n\n    open() {\n      const popup = this._element;\n      if (!popup.hasAttribute('open')) {\n        popup.setAttribute('open', '');\n        if (popup.hasAttribute('modal') && popup.getAttribute('modal') === 'true') {\n          this.registerModalPopup();\n        }\n        if (this._autoCloseTimer) {\n          this._autoCloseTimer.start();\n        }\n      }\n    },\n\n    close() {\n      const popup = this._element;\n      if (popup) {\n        popup.removeAttribute('open');\n        if (popup.hasAttribute('modal') && popup.getAttribute('modal') === 'true') {\n          this.unregisterModalPopup();\n        }\n        if (this._autoCloseTimer) {\n          this._autoCloseTimer.stop();\n        }\n        popup.dispatchEvent(new CustomEvent('closed'));\n      }\n    },\n\n    /**\n     * Handles the incoming data from the backend for this widget.\n     * The popup handles the special address-targets:\n     *  - open: opens the popup when the address value is 'true' or 1 => no auto closing\n     *  - close: closes the popup when the address value is 'false' or 0 => no auto opening\n     *  - open-close: the upper both combined => popup visibility fully dependent on the address value, auto-opening + auto-closing\n     *\n     * @param ev {CustomEvent} stateUpdate event fired from an cv-address component\n     */\n    onStateUpdate(ev) {\n      if (!super.onStateUpdate(ev)) {\n        switch (ev.detail.target) {\n          case 'open':\n            if (ev.detail.state) {\n              this.open();\n            }\n            break;\n\n          case 'open-close':\n            if (ev.detail.state) {\n              this.open();\n            } else {\n              this.close();\n            }\n            break;\n\n          case 'close':\n            if (!ev.detail.state) {\n              this.close();\n            }\n            break;\n\n          default:\n            this.debug('unhandled address target', ev.detail.target);\n            break;\n        }\n      }\n    }\n  },\n\n  /*\n  ***********************************************\n    DESTRUCTOR\n  ***********************************************\n  */\n  destruct() {\n    this._disposeObjects('_autoCloseTimer');\n    if (this._closeButton) {\n      this._closeButton.remove();\n      this._closeButton = null;\n    }\n  },\n\n  defer(QxClass) {\n    customElements.define(\n      cv.ui.structure.tile.Controller.PREFIX + 'popup',\n      class extends QxConnector {\n        constructor() {\n          super(QxClass);\n        }\n      }\n    );\n  }\n});\n","/* Tile.js\n *\n * copyright (c) 2010-2022, Christian Mayer and the CometVisu contributers.\n *\n * This program is free software; you can redistribute it and/or modify it\n * under the terms of the GNU General Public License as published by the Free\n * Software Foundation; either version 3 of the License, or (at your option)\n * any later version.\n *\n * This program is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for\n * more details.\n *\n * You should have received a copy of the GNU General Public License along\n * with this program; if not, write to the Free Software Foundation, Inc.,\n * 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA\n */\n\n/**\n * Shows a tile\n */\nqx.Class.define('cv.ui.structure.tile.widgets.Tile', {\n  extend: cv.ui.structure.tile.components.AbstractComponent,\n  include: cv.ui.structure.tile.MPopup,\n\n  /*\n  ***********************************************\n    PROPERTIES\n  ***********************************************\n  */\n  properties: {\n    backgroundImage: {\n      check: 'String',\n      nullable: true,\n      apply: '_applyBackgroundImage'\n    },\n\n    /**\n     * Turn this tile into a popup\n     */\n    popup: {\n      check: 'Boolean',\n      init: false,\n      apply: '_applyPopup'\n    }\n  },\n\n  /*\n  ***********************************************\n    MEMBERS\n  ***********************************************\n  */\n  members: {\n    _fullScreenMode: null,\n\n    _init() {\n      super._init();\n      this._initPopupChild();\n      if (this._element.hasAttribute('background-image')) {\n        this.setBackgroundImage(this._element.getAttribute('background-image'));\n      }\n      if (this._childPopup) {\n        this._childPopup.addEventListener('closed', () => {\n          this.resetPopup();\n        });\n      }\n    },\n\n    _applyBackgroundImage(value) {\n      if (value) {\n        this._element.style.backgroundImage = `url(${value})`;\n        let overlay = this._element.querySelector(':scope > div.overlay');\n        if (!overlay) {\n          overlay = document.createElement('div');\n          overlay.classList.add('overlay');\n          this._element.insertBefore(overlay, this._element.firstChild);\n        }\n        this._element.classList.add('has-bg-image');\n      } else {\n        this._element.style.backgroundImage = '';\n        this._element.classList.remove('has-bg-image');\n      }\n    },\n\n    open() {\n      if (this._childPopup) {\n        this._openPopupChild();\n      } else {\n        let closeButton = this._element.querySelector(':scope > button.close');\n        if (!closeButton) {\n          closeButton = document.createElement('button');\n          closeButton.classList.add('close');\n          const icon = document.createElement('i');\n          icon.classList.add('ri-close-line');\n          closeButton.appendChild(icon);\n          this._element.appendChild(closeButton);\n          closeButton.addEventListener('click', () => this.setPopup(false));\n        }\n        closeButton.style.display = 'block';\n        this._element.classList.add('popup');\n        if (this._fullScreenMode) {\n          this._element.classList.add('fullscreen');\n        }\n        this.registerModalPopup();\n      }\n    },\n\n    close(keepState) {\n      if (!keepState) {\n        this.setPopup(false);\n      }\n      if (this._childPopup) {\n        this._closePopupChild();\n      } else {\n        this._element.classList.remove('popup');\n        if (this._fullScreenMode) {\n          this._element.classList.remove('fullscreen');\n        }\n        let closeButton = this._element.querySelector(':scope > button.close');\n        if (closeButton) {\n          closeButton.style.display = 'none';\n        }\n        this.unregisterModalPopup();\n      }\n      if (this._autoCloseTimer) {\n        this._autoCloseTimer.stop();\n      }\n      this.fireEvent('closed');\n    },\n\n    _applyPopup(value) {\n      if (value) {\n        this.open();\n      } else {\n        this.close(true);\n      }\n    },\n\n    /**\n     * Handles the incoming data from the backend for this widget\n     *\n     * @param ev {CustomEvent} stateUpdate event fired from a cv-address component\n     */\n    onStateUpdate(ev) {\n      if (!super.onStateUpdate(ev)) {\n        switch (ev.detail.target) {\n          case 'background-image':\n            this.setBackgroundImage(ev.detail.state);\n            break;\n\n          case 'popup':\n          case 'fullscreen-popup':\n            this._fullScreenMode = ev.detail.target === 'fullscreen-popup';\n            if (ev.detail.addressValue) {\n              // only open when the sent value equals the fixed value\n              // noinspection EqualityComparisonWithCoercionJS\n              if (ev.detail.addressValue == ev.detail.state) {\n                this.setPopup(true);\n                // this is not closing by address, so we set a close timeout to 3 minutes\n                if (!this._autoCloseTimer) {\n                  this._autoCloseTimer = new qx.event.Timer(180 * 1000);\n                  this._autoCloseTimer.addListener('interval', this.close, this);\n                }\n                this._autoCloseTimer.restart();\n              }\n            } else {\n              // open / close depending on value\n              // noinspection EqualityComparisonWithCoercionJS\n              this.setPopup(ev.detail.state == 1);\n            }\n            break;\n\n          default:\n            this.debug('unhandled address target', ev.detail.target);\n        }\n      }\n    }\n  },\n\n  defer(QxClass) {\n    customElements.define(\n      cv.ui.structure.tile.Controller.PREFIX + 'tile',\n      class extends QxConnector {\n        constructor() {\n          super(QxClass);\n        }\n      }\n    );\n  }\n});\n"],"mappings":"gyQACCA,EAAAC,EAAAC,EAAAC,GAAA,QAAAC,EAAAC,EAAAH,GAAAC,GAAAG,EAAAF,EAAAE,KAAA,OAAAC,GAAAC,EAAAD,GAAA,OAAAH,EAAAK,KAAAC,EAAAJ,GAAAK,QAAAD,QAAAJ,GAAAM,KAAAZ,EAAAC,EAAA,UAAAY,kBAAAC,GAAA,sBAAAC,EAAAC,KAAAC,EAAAC,UAAA,WAAAP,SAAA,SAAAD,EAAAF,GAAA,IAAAH,EAAAS,EAAAK,MAAAJ,EAAAE,GAAA,SAAAjB,EAAAM,GAAAc,mBAAAf,EAAAK,EAAAF,EAAAR,EAAAC,EAAA,OAAAK,EAAA,UAAAL,EAAAoB,GAAAD,mBAAAf,EAAAK,EAAAF,EAAAR,EAAAC,EAAA,QAAAoB,EAAA,CAAArB,OAAAsB,EAAA,cAAAC,kBAAAC,EAAAC,GAAA,QAAAC,EAAA,EAAAA,EAAAD,EAAAE,OAAAD,IAAA,KAAAE,EAAAH,EAAAC,GAAAE,EAAAC,WAAAD,EAAAC,aAAA,EAAAD,EAAAE,cAAA,YAAAF,MAAAG,UAAA,GAAAC,OAAAC,eAAAT,EAAAU,eAAAN,EAAA1B,KAAA0B,EAAA,WAAAO,aAAAC,EAAAC,EAAAC,GAAAD,GAAAd,kBAAAa,EAAAG,UAAAF,GAAAC,GAAAf,kBAAAa,EAAAE,GAAAN,OAAAC,eAAAG,EAAA,aAAAL,UAAA,WAAAK,CAAA,UAAAF,eAAA/B,GAAA,IAAAD,EAAAsC,aAAArC,EAAA,2BAAAsC,QAAAvC,KAAAwC,OAAAxC,EAAA,UAAAsC,aAAAG,EAAAC,GAAA,cAAAH,QAAAE,IAAA,OAAAA,EAAA,OAAAA,EAAA,IAAAE,EAAAF,EAAAG,OAAAC,aAAA,QAAAzB,IAAAuB,EAAA,KAAAG,EAAAH,EAAAI,KAAAN,EAAAC,GAAA,yBAAAH,QAAAO,GAAA,OAAAA,EAAA,UAAAE,UAAA,kEAAAN,EAAAF,OAAAS,QAAAR,EAAA,UAAAS,gBAAAC,EAAAjB,GAAA,KAAAiB,aAAAjB,GAAA,UAAAc,UAAA,8CAAAI,UAAAC,EAAAC,GAAA,sBAAAA,GAAA,OAAAA,EAAA,UAAAN,UAAA,sDAAAK,EAAAhB,UAAAP,OAAAyB,OAAAD,KAAAjB,UAAA,CAAAmB,YAAA,CAAApD,MAAAiD,EAAAxB,UAAA,EAAAD,cAAA,KAAAE,OAAAC,eAAAsB,EAAA,aAAAxB,UAAA,IAAAyB,GAAAG,gBAAAJ,EAAAC,EAAA,UAAAG,gBAAAC,EAAAC,GAAAF,gBAAA3B,OAAA8B,eAAA9B,OAAA8B,eAAAC,OAAA,SAAAH,EAAAC,GAAAD,EAAAI,UAAAH,EAAA,OAAAD,CAAA,SAAAD,gBAAAC,EAAAC,EAAA,UAAAI,aAAAC,GAAA,IAAAC,EAAAC,4BAAA,sBAAAC,EAAAC,EAAAC,gBAAAL,GAAA,GAAAC,EAAA,KAAAK,EAAAD,gBAAAvD,MAAA0C,YAAAW,EAAAI,QAAAC,UAAAJ,EAAApD,UAAAsD,EAAA,MAAAH,EAAAC,EAAAnD,MAAAH,KAAAE,WAAA,OAAAyD,2BAAA3D,KAAAqD,EAAA,WAAAM,2BAAA5D,EAAAkC,GAAA,GAAAA,IAAA,WAAAR,QAAAQ,IAAA,mBAAAA,GAAA,OAAAA,EAAA,YAAAA,EAAA,UAAAC,UAAA,mEAAA0B,uBAAA7D,EAAA,UAAA6D,uBAAA7D,GAAA,YAAAA,EAAA,UAAA8D,eAAA,oEAAA9D,CAAA,UAAAqD,4BAAA,uBAAAK,kBAAAC,UAAA,YAAAD,QAAAC,UAAAI,KAAA,+BAAAC,MAAA,aAAAC,QAAAzC,UAAA0C,QAAAhC,KAAAwB,QAAAC,UAAAM,QAAA,mCAAAE,GAAA,mBAAAX,gBAAAX,GAAAW,gBAAAvC,OAAA8B,eAAA9B,OAAAmD,eAAApB,OAAA,SAAAH,GAAA,OAAAA,EAAAI,WAAAhC,OAAAmD,eAAAvB,EAAA,SAAAW,gBAAAX,EAAA,UAAAwB,2BAAAxB,EAAAyB,GAAA,IAAAC,EAAA,oBAAAxC,QAAAc,EAAAd,OAAAyC,WAAA3B,EAAA,kBAAA0B,EAAA,IAAAE,MAAAC,QAAA7B,KAAA0B,EAAAI,4BAAA9B,KAAAyB,GAAAzB,GAAA,iBAAAA,EAAAjC,OAAA,CAAA2D,IAAA1B,EAAA0B,GAAA,IAAA5D,EAAA,EAAAiE,EAAA,oBAAAC,EAAAD,EAAAE,EAAA,kBAAAnE,GAAAkC,EAAAjC,OAAA,CAAAlB,MAAA,IAAAA,MAAA,EAAAH,MAAAsD,EAAAlC,KAAA,EAAAwD,EAAA,SAAAY,GAAA,MAAAA,CAAA,EAAAC,EAAAJ,EAAA,WAAAzC,UAAA,6IAAA7B,EAAA2E,GAAA,EAAAC,GAAA,SAAAL,EAAA,WAAAN,IAAArC,KAAAW,EAAA,EAAAiC,EAAA,eAAAK,EAAAZ,EAAAa,OAAAH,EAAAE,EAAAzF,KAAA,OAAAyF,CAAA,EAAAhB,EAAA,SAAAkB,GAAAH,GAAA,EAAA5E,EAAA+E,CAAA,EAAAL,EAAA,eAAAC,GAAA,MAAAV,EAAA,QAAAA,EAAA,oBAAAW,EAAA,MAAA5E,CAAA,aAAAqE,4BAAA9B,EAAAyC,GAAA,GAAAzC,EAAA,qBAAAA,EAAA,OAAA0C,kBAAA1C,EAAAyC,GAAA,IAAAR,EAAA7D,OAAAO,UAAAgE,SAAAtD,KAAAW,GAAA4C,MAAA,iBAAAX,GAAAjC,EAAAF,cAAAmC,EAAAjC,EAAAF,YAAA+C,MAAA,cAAAZ,GAAA,QAAAA,EAAAL,MAAAkB,KAAA9C,GAAA,cAAAiC,GAAA,2CAAAc,KAAAd,GAAAS,kBAAA1C,EAAAyC,QAAA,YAAAC,kBAAAM,EAAAC,IAAA,MAAAA,KAAAD,EAAAjF,UAAAkF,EAAAD,EAAAjF,QAAA,QAAAD,EAAA,EAAAoF,EAAA,IAAAtB,MAAAqB,GAAAnF,EAAAmF,EAAAnF,IAAAoF,EAAApF,GAAAkF,EAAAlF,GAAA,OAAAoF,CAAA,iBAAAC,EAAA,CAAAC,UAAA,aAAAC,MAAA,UAAAC,SAAA,qBAAAxC,WAAA,EAAAwC,SAAA,kCAAAA,SAAA,wBAAAxC,WAAA,8BAAAA,WAAA,gBAAAA,WAAA,oBAAAyC,MAAA,sNAAAA,MAAA,aAAAC,GAAAC,UAAAC,qBAAAP,GAuCAK,GAAAG,MAAAC,OAAA,mCACCC,OAAOL,GAAAM,KAAO1F,OACd2F,KAAM,YACNC,UAAMC,GAAAC,GAAWC,UAAAC,YAOlBtD,UAAA,WACC0C,GAAAM,KAAS1F,OAAA0B,YAAAT,KAAGjC,MACVA,KAAAiH,SAAA,GACAb,GAAAc,IAAKC,WAAkBC,YAAAhB,GAAAiB,KAAAC,gBAAAC,cAAAC,MAAA,6BAAAC,QAAA,sBAAAZ,GAAAa,OAAAC,YAAA,IAAAC,KAAAC,MAAA,I,EAW1BC,QAAA,CAEGC,OAAA,MACAC,SAAQ,GACRC,SAAO,CAAC,EACRC,oBAAO,oBAEPC,SAAA,SAAqBC,EAAmBC,GAExCrI,KAAAgI,SAAQI,GAACC,C,EAETC,mBAAC,SAAAC,GAED,IAAA9C,EAAA8C,EAAkBC,QAAAC,cAChB,GAAMzH,OAAOO,UAAQmH,eAAQzG,KAAajC,KAAAyF,GAAA,CAC1C,IAAIkD,EAAO3I,KAAUgI,SAAAvC,GACbzE,OAAOO,UAAQmH,eAAWzG,KAAAjC,KAAAyF,KAChCzF,KAAKiI,SAAOxC,GAAU,IAEtBzF,KAAAiI,SAAAxC,GAAAmD,KAAA,IAAAD,EAAAJ,G,MAEDnC,GAAAyC,IAAMC,OAAAvJ,MAAAS,KAAA,4CAAAyF,E,GAUZsD,WAAA,CAIAC,aAAA,CACGC,MAAA,UACEC,KAAKC,SAAEC,MAMZC,UAAA,CACGJ,MAAS,SACPC,KAAK,KASVI,QAAA,CACCrC,SAAS,KACPsC,SAAe,KACfC,SAAY,KACZC,iBAAgB,WAEhB,OAAAzJ,KAAAiH,Q,EAEAyC,SAAC,SAAAC,EAAAC,GAED,OAAQ,C,EAERC,WAAC,aAEDC,SAAU,WAGRX,SAAAY,SAAAC,KAGChK,KAAMiK,aAAAd,SAAAY,SAAAC,KAAAE,UAAA,IAFPlK,KAAKiK,aAASjK,KAASmK,mB,EAKzBC,iBAAC,SAAAC,GAEDA,GACErK,KAAIiK,aAAQI,E,EAGdJ,aAAC,SAAAK,EAAAC,GAED,GAAAD,EAAA,CAGE,IAAAE,EAAArB,SAAAsB,cAAA,IAAAH,GACA,GAAME,GACN,IAAIA,EAAME,UAAAC,SAAA,WACR,IAAwCC,EAAnCC,EAAKzG,2BAA8B+E,SAAA2B,iBAAA,mB,IACyB,IAAAD,EAAAjG,MAAAgG,EAAAC,EAAAhG,KAAApF,MAAA,CAA/DmL,EAAAtL,MAASoL,UAAOK,OAAA,S,EAEhB,MAAA1K,GAACwK,EAAA3G,EAAA7D,E,CAAA,QAAAwK,EAAA9F,G,CAAA,IAAAiG,EAAAC,EAAA7G,2BAAA+E,SAAA2B,iBAAA,uB,IACkE,IAAAG,EAAArG,MAAAoG,EAAAC,EAAApG,KAAApF,MAAA,CAAnEuL,EAAA1L,MAASoL,UAAOK,OAAA,a,EAEhB,MAAA1K,GAAC4K,EAAA/G,EAAA7D,E,CAAA,QAAA4K,EAAAlG,G,CAAAyF,EAAAE,UAAAQ,IAAA,UAGD,IADA,IAAAC,EAAAX,EAAAW,cACIA,GAAkC,SAAdA,EAAcC,SAAA3C,eAAA,CACS,YAA/C0C,EAAoBC,SAAI3C,eACtB0C,EAAIT,UAAsBQ,IAAC,cAE3BC,iB,CAEF,QAAA7K,IAAAiK,EAAA,CAEA,IAAIc,EAAWb,EAAKc,aAAW,QACvBC,EAAW,YACbF,IACJE,EAAcF,EAAA,MAAAE,GAEdnF,GAAAc,IAAAsE,QAAAjE,cAAAkE,aAAAnB,EAAAiB,E,CAEFnF,GAAAsF,MAAAC,QAAAC,IAAAC,eAAA,mCAAArB,E,OAGHxK,KAAM8L,KAAA,kBAAAxB,EAAA,Q,GAKTyB,qBAAA,SAAAC,GACA,IAAAC,EAAAjM,KAA0B,OAAAgM,EAAAlB,iBAAA,cAAAnK,OAAA,CAEtBkG,GAAAqF,GAAAC,mBAAAC,oBACMC,OAAS,EAAMxF,GAAAa,OAAA4E,eAAmBC,aAAmB,WAC3DN,EAAOO,MAAM,aACX3F,GAAAqF,GAAKC,mBAAkBM,qB,IAG3B,Q,EAOLC,cAAA,SAAAC,GACG,IAAAC,EAAa5M,KAASmJ,SAAAC,KAAAsB,UAAAQ,IAAA,qBACpB,IAAA2B,EAAchG,GAAAa,OAAU4E,eAClBQ,EAAcH,EAAOI,gBAC3BF,EAAMG,kBAAsC,SAAfF,EAAexB,aAAA,wBAC5CtL,KAAAiN,UAASN,GACT,IAAK9F,GAAAa,OAAUwF,UAAO,CAEtB,IAAKC,EAAU/G,GAAAiB,KAAWC,gBAAAC,cAAAC,MAAA,iCAClB4F,EAAc,IAAChH,GAAK8F,GAAAmB,QAAAC,IAAgBH,GAE1CC,EAAMG,IAAW,CACjBC,OAAA,kBACEC,OAAQ5G,GAAAa,OAAAC,cAEVyF,EAAEM,gBAAA,oBAAAxJ,GAEF,IAKEyJ,EALFC,EAAY1J,EAAA2J,YAAgBC,cACtBtN,EAAOoM,EAAKmB,kBAChBnB,EAAMJ,MAAS,kBAEfI,EAAAoB,kBAAAJ,GAGA,IAAAA,EAAAb,gBAAAkB,MAAA,CACA,IAAKC,EAAQhK,EAAA2J,YAAAM,kBACXD,EAAIA,EAAQzG,QAAC,aAAY,mDAGzBmG,GAFY,IAAAQ,WAEOC,gBAAWH,EAAA,W,CAEhC,KAAAP,EAAAC,EAAAb,gBAAAuB,mBACA9N,EAAQ+N,YAAQZ,GAEhB,KAAAA,EAAAb,EAAAwB,mBAEA9N,EAAQ+N,YAAQZ,GAEhBxE,SAAAC,KAAAsB,UAAAK,OAAA,qBACA6B,EAAAJ,MAAa,cACbpG,GAAAsF,MAAKC,QAAMC,IAAAC,eAAa,oBACxBe,EAAGJ,MAAM,iBACTI,EAAK9C,WACL8C,EAAKJ,MAAA,sBACLpG,GAAAsF,MAAKC,QAAMC,IAAAC,eAAqB,6BAChChF,GAAG2H,eAAcjH,cAAIkH,gBAAe,E,IAEtCrB,EAAEsB,YAAA,wBAAAxK,GACF,IAAAyK,EAAYzK,EAAA2J,YAAYe,eAAeD,OAC/BvI,GAAAiB,KAASwH,QAAEC,aAAYH,IAC7B/B,EAAQrN,MAAK,eAAQ4N,GAErBhE,SAAAC,KAAAsB,UAAAK,OAAA,oB,IAEFqC,EAAE2B,M,GASTf,kBAAA,SAAAhC,GACGA,EAAAlB,iBAAiB,0CAAMkE,SAAA,SAAAC,GACrBC,eAAI1I,OAAiBK,GAAAC,GAAAC,UAAAoI,KAAAC,WAAArH,OAA4CkH,EAAQ3D,aAAA,MAAY,SAAA+D,GACnF,a,eACsE,IAAAC,EAAArM,aAAAsM,GAAA,SAAAA,IAElEnN,gBAAcpC,KAAAuP,GAAA,OAAAD,EAAArN,KAAAjC,KAAAiP,EAAA3D,aAAA,M,CAEd,OAAAnK,aAAAoO,E,CAN+E,CAM9EC,G,KASZC,SAAA,SAAAzD,GACS,IAAA0D,EAAQ1P,KAAM,OAAAH,kBAAA8P,sBAAAC,MAAA,SAAAC,IAAA,IAAAC,EAAAC,EAAA,OAAAJ,sBAAAK,MAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAA9K,MAAA,UAAA6G,EAAAe,gBAAAoD,aAAA,UAClBL,EAAQ9D,EAAAe,gBAAgBzB,aAAa,SAC/ByE,EAAK,CAAG,EACN,GAAS,WAALD,EACV,GAAIM,OAAKC,WAAe,CACtBP,EAAUM,OAACC,WAAY,gCAAAC,QAAA,eACrBnH,SAAQ4D,gBAAiBwD,aAAC,aAAAT,GAC1BC,EAAS,MAAAD,EACTjJ,GAAAkJ,KAAKS,MAAQjJ,cAAQkJ,WAAA,SAAAV,GACrBK,OAAOC,WAAO,gCAAmCK,iBAAK,mBAAAxM,GACtDiF,SAAO4D,gBAAWwD,aAAA,aAAgCrM,EAAAoM,QAAgB,OAAS,SACzEP,EAAS,MAAA7L,EAAAoM,QAAgB,OAAY,QAErCzJ,GAAAkJ,KAAKS,MAAQjJ,cAAekJ,WAAS,SAAOV,E,SAG/CL,EAAMnQ,MAAA,2DAEP,CACD4J,SAAM4D,gBAAAwD,aAAA,aAAAT,GACLC,EAAS,MAAAD,EACTjJ,GAAAkJ,KAAKS,MAAQjJ,cAAQkJ,WAAA,SAAAV,E,EAGzB,OAAAE,EAAAU,OAAA,a,KAAC,EACU,iBAAAV,EAAAW,O,GAAAf,E,IAzBOhQ,E,EA+BvBgR,SAAA,SAAAlE,GAAA,EACGM,UAAQ,SAAC6D,GAET,QAASC,EAAA,EAAAC,EAAA,QAAM,SAAAD,EAAAC,EAAArQ,OAAAoQ,IAAA,CACb,IAAeE,EAAfC,EAAAF,EAAAD,GAAWI,EAAI/M,2BAAA0M,EAAAhG,iBAAA,KAAAsG,OAAAF,EAAA,c,IACwD,IAAAC,EAAAvM,MAAAqM,EAAAE,EAAAtM,KAAApF,MAAA,CAArE,IAAA4R,EAAAJ,EAAA3R,MAAWgS,EAAA,oBAAaC,KAAAF,EAAA/F,aAAA4F,IACtB,GAAMI,EAAN,CAMA,IAAApS,EAAAoS,EAAA,GACME,EAAcV,EAAArG,cAAA,oCAAA2G,OAAAhL,GAAAqL,OAAAC,QAAAnK,cAAAoK,cAAA,kBAAAP,OAAAlS,EAAA,OACpB,GAAMsS,EAINH,EAAed,aAAEW,EAAAM,EAAAI,YAAAC,YACf,CACDR,EAAMd,aAAAW,EAAAhS,GACLc,KAAA8L,KAAA,IAAcsF,OAAAhL,GAAAqL,OAAiBC,QAAMnK,cAAAoK,cAAA,iCAAAP,OAAAlS,EAAA,K,OAbvCc,KAAK8L,KAAO,gDAAAuF,EAAA/F,aAAA4F,G,EAgBd,MAAA7Q,GAAC8Q,EAAAjN,EAAA7D,E,CAAA,QAAA8Q,EAAApM,G,EACH,IAAC+M,EAADC,EAAA3N,2BAAA0M,EAAAhG,iBAAA,iB,IACgE,IAAAiH,EAAAnN,MAAAkN,EAAAC,EAAAlN,KAAApF,MAAA,CAAhE,IAAAuS,EAAAF,EAAAxS,MAAW2S,EAAAD,EAAaJ,YAAAC,OAChBK,EAAMpB,EAAArG,cAA0B,oCAAM2G,OAAAhL,GAAAqL,OAAAC,QAAAnK,cAAAoK,cAAA,kBAAAP,OAAAa,EAAA,OACtCC,EAINF,EAAeJ,YAAEM,EAAAN,YAAAC,OAEhB7R,KAAM8L,KAAA,IAAAsF,OAAAhL,GAAAqL,OAAAC,QAAAnK,cAAAoK,cAAA,iCAAAP,OAAAa,EAAA,K,EAGT,MAAA5R,GAAC0R,EAAA7N,EAAA7D,E,CAAA,QAAA0R,EAAAhN,G,GAMNoN,aAAA,WACGtL,GAAAa,OAAY4E,eAAA8F,iBACVpS,KAAOiK,aAAOpD,GAAAa,OAAe4E,eAAe8F,gB,EAOjDC,oBAAA,WACG,Q,EAOHlI,iBAAA,WACG,IAAAmI,EAAgBnJ,SAAAsB,cAAA,WACd,OAAM6H,EAAYA,EAASC,GAAA,E,EAQhCC,WAAA,SAAA/M,EAAAgN,GACGzS,KAAUuJ,WACRvJ,KAAKuJ,SAAe,IAEpBvJ,KAAAuJ,SAAA9D,GAAAgN,C,EAEFC,cAAC,SAAAjN,GAEDzF,KAAAuJ,iBACWvJ,KAAAuJ,SAAY9D,E,EAGvBkN,SAAC,SAAAC,EAAAtT,EAAAuT,GAED,IAAAvB,EACMwB,EAAK,GACT,GAAe,QAAXxB,EAASzK,GAAEC,GAAAC,UAAAoI,KAAAC,WAAAlH,oBAAAqJ,KAAAqB,IAAA,CAEb,IACAE,EAAIC,KAAAC,MAAA,IAAA5B,OAAAE,EAAA,GAAA2B,WAAA,c,CACF,MAAM/O,GACNlE,KAAAT,MAAU,iCAAAqT,E,CAEZA,EAAAtB,EAAA,E,CAEF,OAAAtR,KAAAuJ,UAAAvI,OAAAO,UAAAmH,eAAAzG,KAAAjC,KAAAuJ,SAAAqJ,GACS5S,KAAAuJ,SAAcqJ,GAAOD,SAAUrT,EAAcuT,EAAMC,GAE5DxT,C,EAOL4T,WAAA,SAAAzN,EAAA0N,GACGnT,KAAUwJ,WACRxJ,KAAKwJ,SAAe,IAEpBxJ,KAAAwJ,SAAA/D,GAAA0N,C,EAEFC,cAAC,SAAA3N,GAEDzF,KAAAwJ,iBACWxJ,KAAAwJ,SAAY/D,E,EAGvB4N,WAAC,SAAAC,EAAAhU,EAAAuT,GAED,OAAA7S,KAAUwJ,UAAAxI,OAAAO,UAACmH,eAAoBzG,KAAOjC,KAAAwJ,SAAA8J,GAC3BtT,KAAAwJ,SAAc8J,GAAOX,SAAUrT,EAAcuT,GAEtDvT,C,EAIFiU,WAAA,WACA,Q,GAGFpN,MAAC,SAAA2B,GAEIsI,OAAAoD,aAED3M,GAAA4M,YAAAC,oBAAA5L,EAAAP,c,IAIL,IAACiI,EAAA,SAAAmE,GAAC,a,eAEmB,IAAAC,EAAA3Q,aAAAuM,GAAA,SAAAA,EAAAqE,GACpB,IAAAC,EAAwB1R,gBAAApC,KAAAwP,GAAAsE,EAAAF,EAAA3R,KAAAjC,MACtB,IAAA+T,EAAAlN,GAAAC,GAAAC,UAAAoI,KAAAC,WAAA7H,cACM0H,EAAU9F,SAAS6K,eAAeH,GACxC,GAAI5E,EAAQ,CACZ,IAGEgF,EAHEC,EAAU,mCACNtG,EAAAqB,EAAkBrB,QAAQuG,WAAU,GAE1CC,EAAAhQ,2BAAAwJ,EAAA9C,iBAAA,S,IACiD,IAAAuJ,EAAA,WAK/C,IAL+C,IAAAC,EAAAL,EAAA3U,MAAxCiV,EAAID,EAAAhJ,aAAA,QACLkJ,EAAgBF,EAAAnE,aAAoB,YAAAmE,EAAAhJ,aAAA,eACpCmJ,EAAAH,EAAsBnE,aAAK,gBAA2BuE,SAAKJ,EAAAhJ,aAAa,iBAAgB,EACxFqJ,EAAeb,EAAOhJ,iBAAc,UAAAsG,OAAkBmD,EAAS,OACjEK,EAAA,GACOlU,EAAI,EAACmU,EAAAP,EAAAQ,WAAAnU,OAAAD,EAAAmU,EAAAnU,IACXwT,EAAea,SAAKT,EAAWQ,WAASpU,GAAI+E,QAC/CmP,EAAKN,EAAAQ,WAAepU,GAAA+E,MAAc6O,EAAAQ,WAAcpU,GAAKpB,OAGvD,GAAAqV,EAAAhU,OAAA,GACA6D,MAAIkB,KAAAiP,GAAuB3F,SAAE,SAAAgG,GAC3B,IAAMC,EAAKD,EAAcb,WAAQ,GAC/BnT,OAAMkU,KAAON,GAAG5F,SAAY,SAAUmG,GAChCF,EAAM9E,aAAegF,GACb,UAARA,EAEAF,EAAAvK,UAAAQ,IAAA0J,EAAAO,IAED/O,GAAAyC,IAAMC,OAAA0D,MAAAuH,EAAA,IAAAF,EAAA,cAAAsB,EAAA,yBAGRF,EAAM1E,aAAA4E,EAAAP,EAAAO,G,IAGTF,EAAEG,gBAAA,QACFd,EAAAe,WAAQC,aAAgBL,EAAOX,E,IAEjCA,EAAEvJ,SACEyJ,GACJ5G,EAAI9C,iBAAqB0J,GAAAxF,SAAA,SAAAuG,GACvBA,EAAQxK,Q,QAGV,CACD3E,GAAAyC,IAAMC,OAAA0D,MAAAuH,EAAA,IAAAF,EAAA,wBAAAU,EAAA,aACL,IAAGc,EAAWf,EAAMe,WAEpB,GAAIZ,EAAkB,GAGpB,IADA,IAAAe,EAAAf,EAAA,EACKe,EAAG,IACRH,EAAYA,EAAEA,WACZG,G,CAEFH,GACAA,EAAItK,Q,KAEJ,CACDuJ,EAAMvJ,SACQ,IAATsK,EAASI,SAAA9U,QAEX0U,EAAAtK,Q,IAKR,IAACqJ,EAAAxP,MAAAqP,EAAAG,EAAAvP,KAAApF,MAzDD4U,G,CA0DA,MAAAhU,GAAA+T,EAAAlQ,EAAA7D,E,CAAA,QAAA+T,EAAArP,G,CAAA+O,EAAA4B,oBACM1G,SAAa,SAAKvJ,GACxB,IAAAnG,EAAWwU,EAAQxI,aAAI7F,GACjBkQ,EAAQ/H,EAAK9C,iBAAkB,SAAArF,EAAA,KAC7BmQ,EAAUnQ,EAEhBA,EAAAoQ,SAAA,YACAD,EAAS,UACPnQ,EAAaoQ,SAAS,YACvBD,EAAc,UACbnQ,EAAaoQ,SAAS,aACvBD,EAAc,UAEfD,EAAA3G,SAAA,SAAAxO,GACA,GAAAoV,IAAgBnQ,GAAAjF,EAAU2P,aAAA,QAAA1K,GAAA,CACxBjF,EAAI+P,aAAe9K,EAAQnG,GAAOkB,EAAA8K,aAAuB,QAAO7F,IAC9DjF,EAAO4U,gBAAa,QAAW3P,E,KAE/B,CACDjF,EAAM+P,aAAAqF,EAAAtW,GAAAkB,EAAA8K,aAAA,QAAAsK,IACLpV,EAAO4U,gBAAa,QAAYQ,E,KAIlCD,EAAAhV,OAAA,GACFmT,EAAIsB,gBAAoB3P,E,IAG1BmI,EAAE9C,iBAAA,KAAAkE,SAAA,SAAA8G,GACFC,mBAAQD,EAAiBhB,YAAa9F,SAAA,SAAQkC,GAC5C,GAAAA,EAAAzL,KAAAuQ,WAAS,SAAY,CACnB,IAAIJ,EAAU1E,EAAUzL,KAACyE,UAAU,GAEjCgH,EAAAzL,KAAAoQ,SAAA,aAAAC,EAAA3F,aAAA,gBACAyF,EAAc,UACZ1E,EAAazL,KAAAoQ,SAAS,aAAAC,EAAA3F,aAAA,gBACvByF,EAAc,UACb1E,EAAazL,KAAAoQ,SAAS,YAAAC,EAAA3F,aAAA,iBACvByF,EAAc,UAEf1E,EAAA5R,OACAwW,EAAIvF,aAAYqF,EAAA1E,EAAA5R,OAEhBwW,EAAAV,gBAAAlE,EAAAzL,K,QAMNqO,EAAAmC,UAAA,GACAnC,EAAKvF,YAAYX,E,MAElBxH,GAAAyC,IAAMC,OAAAvJ,MAAAwU,EAAA,IAAAF,EAAA,6BAAAA,GAEP,OAAAC,C,CACF,OAAA3S,aAAAqO,E,CA5HA,CA4HC0G,iBAAAC,cAAAtP,GAAAC,GAAAC,UAAAoI,KAAAC,WAAArJ,cA1HuCA,C,CAtczC,I,oHCDAK,GAAEC,UAAUC,qBAAqBP,GAsBjCK,GAAEgQ,MAAM5P,OAAO,8BAA+B,CAM7CsB,QAAS,CACPuO,aAAc,IAGhBC,OAAQ,CACNC,OAAQ,uBAQVjN,QAAS,CACPkN,YAAa,KAEbC,gBAAe,WACb,IAAMC,EAAS1W,KAAKwW,YAAcxW,KAAK2W,SAASlM,cAAc,qBAC9D,GAAIiM,EAAO,CACTtQ,GAAGsF,MAAMkL,aAAalI,YAAY1O,KAAK2W,SAAU,MAAO3W,KAAK6W,gBAAiB7W,MAK9E,IAFA,IACI8W,EADAC,EAASL,EAAMvL,cAEZ4L,GAAQ,CACb,GAAqC,aAAjCA,EAAOvO,QAAQC,cACjBqO,EAAKpM,UAAUQ,IAAI,kBACd,GAAqC,YAAjC6L,EAAOvO,QAAQC,cACxB,MAEFqO,EAAOC,EACPA,EAASA,EAAO5L,aAClB,CACF,CACF,EAEA0L,gBAAe,WACb,IAAMH,EAAQ1W,KAAK2W,SAASlM,cAAc,iCAEtCiM,GACFA,EAAMnP,cAAcyP,MAExB,EAEAC,iBAAgB,WACd,IAAMP,EAAQ1W,KAAK2W,SAASlM,cAAc,2BACtCiM,GACFA,EAAMnP,cAAc2P,OAExB,EAEAC,mBAAkB,WAChB/Q,GAAGsF,MAAMkL,aAAalI,YAAYvF,SAAU,cAAenJ,KAAKoX,eAAgBpX,MAEhF,IAAIqX,EAAUlO,SAASC,KAAKqB,cAAc,wBAC1C,IAAK4M,EAAS,EACZA,EAAUlO,SAASmO,cAAc,QACzB5M,UAAUQ,IAAI,uBACtB/B,SAASC,KAAKmF,YAAY8I,EAC5B,CACAA,EAAQE,MAAMC,QAAU,QACxB3Q,GAAGC,GAAGC,UAAUoI,KAAKsI,OAAOpB,aAAazN,KAAK5I,KAChD,EAEA0X,qBAAoB,WAClBtR,GAAGsF,MAAMkL,aAAae,eAAexO,SAAU,cAAenJ,KAAKoX,eAAgBpX,MAEnF,IAAM4X,EAAQ/Q,GAAGC,GAAGC,UAAUoI,KAAKsI,OAAOpB,aAAawB,QAAQ7X,MAC/D6G,GAAGC,GAAGC,UAAUoI,KAAKsI,OAAOpB,aAAayB,OAAOF,EAAO,GACvD,IAAIP,EAAUlO,SAASC,KAAKqB,cAAc,wBACtC4M,GAA+D,IAApDxQ,GAAGC,GAAGC,UAAUoI,KAAKsI,OAAOpB,aAAa1V,SACtD0W,EAAQE,MAAMC,QAAU,OAE5B,EAEAJ,eAAc,SAACW,GACb,IAAKlR,GAAGQ,KAAK2Q,KAAKC,UAAUF,EAAGlK,YAAa7N,KAAK2W,UAAW,CAE1D3W,KAAKkX,QACLa,EAAGG,gBACL,CACF,GAQFC,SAAQ,WACN/R,GAAGsF,MAAMkL,aAAae,eAAe3X,KAAK2W,SAAU,MAAO3W,KAAK6W,gBAAiB7W,MAEjFA,KAAKwW,YAAc,IACrB,IAzHD3P,GAAEC,GAAGC,UAAUoI,KAAKsI,OAAO1R,cAAgBA,CAAc,C,+FCAzDK,GAAEC,UAAUC,qBAAqBP,GAsBjCK,GAAEgQ,MAAM5P,OAAO,gCAAiC,CAM/CuC,WAAY,CACVqP,QAAS,CACPnP,MAAO,SACPC,KAAM,EACN/I,MAAO,kBASXmJ,QAAS,CACP+O,cAAe,KACfC,aAAc,KAEdC,cAAa,SAACjZ,GACZ,GAAc,IAAVA,EACEU,KAAKqY,eACPrY,KAAKqY,cAAczH,YAEhB,GAAK5Q,KAAKqY,cAWfrY,KAAKqY,cAAcG,YAAoB,IAARlZ,OAXD,CAC9BU,KAAKqY,cAAgB,IAAIjS,GAAGsF,MAAM+M,MAAc,IAARnZ,GACxCU,KAAKqY,cAAc3J,YAAY,WAAY1O,KAAK0Y,SAAa1Y,MAC/B,mBAAnBA,KAAK2Y,UACV3Y,KAAK2Y,aACP3Y,KAAKqY,cAAcO,QAGrB5Y,KAAKqY,cAAcO,OAEvB,CAGF,EAEAC,cAAa,SAACF,GACZ,GAAIA,EACF,GAAI3Y,KAAKqY,cAAe,CACtBrY,KAAKqY,cAAcO,UACd5Y,KAAKsY,cAAgB1Q,KAAKC,MAAQ7H,KAAKsY,cAAgBtY,KAAKqY,cAAcS,gBAE7E9Y,KAAK0Y,UAET,MAAY1Y,KAAKsY,cAEftY,KAAK0Y,gBAEE1Y,KAAKqY,eACdrY,KAAKqY,cAAczH,MAEvB,EAEA8H,SAAW,WACT,GAA4B,mBAAjB1Y,KAAKoY,QAAwB,CACtCpY,KAAKoY,UACLpY,KAAKsY,aAAe1Q,KAAKC,KAC3B,MACE7H,KAAKT,MAAM,sCAEf,GAQF4Y,SAAQ,WACNnY,KAAK+Y,gBAAgB,gBACvB,IAnGDlS,GAAEC,GAAGC,UAAUoI,KAAK6J,SAASjT,cAAgBA,CAAc,C,2ECA3DK,GAAEC,UAAUC,qBAAqBP,GAuBjCK,GAAEgQ,MAAM5P,OAAO,+BAAgC,CAM9C9C,UAAS,WAAG,IAAAuI,EAAAjM,KACVA,KAAKiZ,UAAY,IAAIC,gBAAe,SAACC,EAASC,GAC5C,IAAM7Q,EAAU0D,EAAKoN,kBACrBF,EAAQG,MAAK,SAAAC,GACX,GAAIA,EAAM/Y,SAAW+H,EAAS,CAC5B0D,EAAKuN,cAAc,UAAWD,GAC9B,OAAO,CACT,CACA,OAAO,CACT,GACF,GACF,EAOAjD,OAAQ,CACNmD,QAAS,sBAQX1Q,WAAY,CACV2Q,aAAc,CACZzQ,MAAO,UACP0Q,UAAU,EACVxZ,MAAO,uBASXmJ,QAAS,CAIP2P,UAAW,KAEXW,mBAAkB,SAACrR,EAASsR,GACtBA,GACF7Z,KAAKiZ,UAAUa,UAAUD,GAEvBtR,GACFvI,KAAKiZ,UAAUc,QAAQxR,EAE3B,GAQF4P,SAAQ,WACNnY,KAAKiZ,UAAUe,aACfha,KAAKiZ,UAAY,IACnB,IA7FDpS,GAAEC,GAAGC,UAAUoI,KAAK8K,QAAQlU,cAAgBA,CAAc,C,2ECA1DK,GAAEC,UAAUC,qBAAqBP,GAuBjCK,GAAEgQ,MAAM5P,OAAO,mCAAoC,CAMlD9C,UAAS,WACP1D,KAAKka,oBACP,EAOApS,QAAS,CACPsR,SAAU,IAAIe,sBAAqB,SAAChB,EAASC,GAC3CD,EAAQnK,SAAQ,SAAAuK,GACVA,EAAM/Y,OAAO4Z,WACfb,EAAM/Y,OAAO4Z,UAAUC,WAAWd,EAAMe,kBAAoB,EAEhE,GACF,KAQFvR,WAAY,CACVwR,QAAS,CACPtR,MAAO,UACPC,MAAM,EACN/I,MAAO,kBASXmJ,QAAS,CACP4Q,mBAAkB,WACZla,KAAK2W,SACP9P,GAAGC,GAAGC,UAAUoI,KAAKqL,YAAYpB,SAASW,QAAQ/Z,KAAK2W,UAEvD3W,KAAK8L,KAAK,gCAEd,KAzEHjF,GAAEC,GAAGC,UAAUoI,KAAKqL,YAAYzU,cAAgBA,CAAc,C,+iHCA9DK,GAAEC,UAAUC,qBAAqBP,GAsBjCK,GAAEG,MAAMC,OAAO,sDAAuD,CACrEC,OAAQL,GAAGM,KAAK1F,OAChB2F,KAAM,WAONjD,UAAS,SAAC6E,GACRvI,KAAK2W,SAAWpO,CAClB,EAOAQ,WAAY,CACV0R,UAAW,CACTxR,MAAO,UACPC,MAAM,EACN/I,MAAO,kBACPuL,MAAO,oBASXpC,QAAS,CAIPqN,SAAU,KAEV+D,cAAc,EAEdC,gBAAe,SAACrb,GACd,GAAIA,IAAUU,KAAK0a,aAAc,CAC/B1a,KAAK4a,QACL5a,KAAK0a,cAAe,CACtB,KAAO,CACL1a,KAAK6a,gBACL7a,KAAK0a,cAAe,CACtB,CACF,EACAE,MAAK,WAAI,EAETC,cAAa,WAAI,EAEjBC,WAAU,WACR,OAAO9a,KAAK2W,QACd,GAQFwB,SAAQ,WACNnY,KAAK2W,SAAW,IAClB,IAGD,IACKoE,EAAW,SAAApH,GAAA,aAAArR,UAAAyY,EAAApH,GAAA,IAAArE,EAAArM,aAAA8X,GACf,SAAAA,EAAYpS,GAAS,IAAAsD,EAAA7J,gBAAApC,KAAA+a,GACnB9O,EAAAqD,EAAArN,KAAAjC,MACA,IAAIoG,GAAGG,MAAMyU,aAAarS,EAAS9B,GAAGC,GAAGC,UAAUoI,KAAK8L,SAASC,uBAG/D,MAAMC,MAAMxS,EAAU,8EAFtBsD,EAAKmO,UAAY,IAAIzR,EAAO/E,uBAAAqI,IAI1BA,EAAKkE,aAAa,YACpBlE,EAAKvB,UAAUQ,IAAI,WAAae,EAAKX,aAAa,YAEhDW,EAAKkE,aAAa,YACpBlE,EAAKvB,UAAUQ,IAAI,WAAae,EAAKX,aAAa,YACnD,OAAAW,CACH,CAAC9K,aAAA4Z,EAAA,EAAA7b,IAAA,cAAAI,MAED,WACE,OAAOU,KAAKoa,SACd,GAAC,CAAAlb,IAAA,oBAAAI,MAED,WACMU,KAAKoa,WACPpa,KAAKoa,UAAUgB,cAAa,EAEhC,GAAC,CAAAlc,IAAA,uBAAAI,MAED,WACMU,KAAKoa,WACPpa,KAAKoa,UAAUgB,cAAa,EAEhC,GAAC,CAAAlc,IAAA,2BAAAI,MAED,SAAyBmG,EAAM4V,EAAUC,GACnCtb,KAAKoa,WAAahU,GAAGG,MAAMgV,YAAYvb,KAAKoa,UAAU1X,YAAa+C,IACrEzF,KAAKoa,UAAU7M,IAAI9H,EAAM6V,EAE7B,KAAC,OAAAP,CAAA,CApCc,CAoCd7E,iBApCuBC,cAuCzB/F,OAAM2K,YAAcA,EAlIpBlU,GAAEC,GAAGC,UAAUoI,KAAK8L,SAASC,sBAAsBnV,cAAgBA,CAAc,C,sLCAjFK,GAAEC,UAAUC,qBAAqBP,GAsBjCK,GAAEG,MAAMC,OAAO,oDAAqD,CACnEC,OAAQI,GAAGC,GAAGC,UAAUoI,KAAK8L,SAASC,sBACtCvU,KAAM,WAONoC,WAAY,CACVzJ,MAAO,CACLa,MAAO,cACP+I,KAAM,MAGRsS,WAAY,CACVvS,MAAO,SACP0Q,UAAU,EACVxZ,MAAO,oBAGTsb,QAAS,CACPxS,MAAO,UACPC,MAAM,EACN/I,MAAO,iBAGTub,WAAY,CACVzS,MAAO,CAAC,UAAW,WAAY,UAC/BC,KAAM,UACN/I,MAAO,mBACPuL,MAAO,oBAMTiQ,OAAQ,CACN1S,MAAO,UACPC,KAAM,UASVI,QAAS,CACPsS,gBAAiB,KACjBC,oBAAqB,KAErBC,SAAe,WACb,IAAM/E,EAAS/W,KAAK2W,SAASxL,cACzB4Q,GAAW,EACTtW,EAAOsR,EAASA,EAAOvO,QAAQC,cAAgB,GACrD,GAAIhD,EAAKuQ,WAAW,OAAQ,CAG1B+F,IAFe5S,SAAS6K,eAAevO,EAAKyE,UAAU,KAEA,IAA7B6M,EAAOiF,iBAClC,CACAhc,KAAKic,UAAUF,EACjB,EAEAnB,MAAK,WAAG,IAAA3O,EAAAjM,KACNA,KAAK8b,WAEL,IAAMvT,EAAUvI,KAAK2W,SACjBuF,GAAiB,EACfC,EAAiB,GACvB3X,MAAMjD,UAAUyN,QAAQ/M,KAAKsG,EAAQuC,iBAAiB,wBAAwB,SAAAsR,GAE5E,OADaA,EAAQjM,aAAa,QAAUiM,EAAQ9Q,aAAa,QAAU,aAEzE,IAAK,YACH4Q,GAAiB,EACjBC,EAAevT,KAAKwT,GACpB,MACF,IAAK,OACHF,GAAiB,EACjB,MACF,IAAK,QACHC,EAAevT,KAAKwT,GAG1B,IAEApc,KAAK4b,gBAAkBO,EAEnBD,GACF3T,EAAQmI,iBAAiB,eAAe,SAAAqH,GACtC9L,EAAKoQ,cAActE,GAEnBA,EAAGuE,iBACL,GAEJ,EAGAC,YAAW,SAACjd,GACV,GAAIU,KAAKwc,cAAe,CACtBxc,KAAK2W,SAASpG,aAAa,QAASjR,GAAS,IAC7C,IAAImd,EAAcnd,EACdU,KAAK2W,SAASxG,aAAa,aAC7BsM,EAAc5V,GAAG4M,YAAYC,oBAAoBf,SAAS3S,KAAK2W,SAASrL,aAAa,WAAYhM,IAE/FU,KAAK2W,SAASxG,aAAa,YAC7BsM,EAAc5V,GAAGQ,KAAK3F,OAAOgb,QAC3B1c,KAAK2W,SAASrL,aAAa,UAC3BmR,aAAuB7U,KAAO6U,EAAYE,iBAAmBF,IAGjEzc,KAAK4c,aAAaH,EAAand,GAC/B,GAAIU,KAAK2W,SAASxG,aAAa,WAAY,CACzC,IAAIqL,EAAa3U,GAAG4M,YAAYC,oBAAoBL,WAAWrT,KAAK2W,SAASrL,aAAa,WAAYhM,GAEtGU,KAAK6c,cAAcrB,EACrB,CACF,CACF,EAGAoB,aAAY,SAACH,EAAand,GAAQ,EAGlCwd,iBAAgB,SAACxd,EAAO+b,GACtB,IAAM0B,EAAU/c,KAAK2W,SAASjM,UAC9B,GAAI2Q,EACF,GAAI0B,EAAQpS,SAAS0Q,GACnB0B,EAAQtV,QAAQ4T,EAAU/b,OACrB,CACLyd,EAAQ7R,IAAI5L,GACZyd,EAAQhS,OAAOsQ,EACjB,MACS/b,GACTyd,EAAQ7R,IAAI5L,EAEhB,EAEA0d,cAAa,SAAC1d,GACZ,IAAI+X,EAAUrX,KAAK2W,SAASlM,cAAc,qBAC1C,IAAK4M,EAAS,EACZA,EAAUlO,SAASmO,cAAc,QACzB5M,UAAUQ,IAAI,WACtBlL,KAAK2W,SAASpI,YAAY8I,GAC1BA,EAAQ3G,iBAAiB,SAAS,SAAAqH,GAChCA,EAAGG,iBACHH,EAAGuE,iBACL,IACAjF,EAAQ3G,iBAAiB,eAAe,SAAAqH,GACtCA,EAAGG,iBACHH,EAAGuE,iBACL,IACAjF,EAAQ3G,iBAAiB,aAAa,SAAAqH,GACpCA,EAAGG,iBACHH,EAAGuE,iBACL,GACF,CACAtc,KAAK2W,SAASpG,aAAa,YAAsB,IAAVjR,EAAkB,OAAS,SAElE+X,EAAQE,MAAMC,SAAoB,IAAVlY,EAAiB,OAAS,OACpD,EAEA2d,iBAAgB,SAAC3d,EAAO+b,GACtB,IAAM7a,EAASR,KAAK+b,WAAa/b,KAAK2W,SAASxL,cAAgBnL,KAAK2W,SACnD,WAAb0E,IACF7a,EAAO+W,MAAM2F,QAAU,OAEzB,OAAQ5d,GACN,IAAK,UACCU,KAAK6b,sBACPrb,EAAO+W,MAAMC,QAAUxX,KAAK6b,qBAAuB,WAErD,MAEF,IAAK,SACHrb,EAAO+W,MAAM2F,QAAU,IACvB,MAEF,IAAK,WACHld,KAAK6b,oBAAsBsB,iBAAiB3c,GAAQ4c,iBAAiB,WACrE5c,EAAO+W,MAAMC,QAAU,OAG7B,EAQA6E,cAAa,SAACtE,GACZ,OAAQA,EAAGsF,OAAO7c,QAChB,IAAK,UACHR,KAAKsd,WAAWvF,EAAGsF,OAAOE,OAC1BxF,EAAGuE,kBACH,OAAO,EACT,IAAK,eACHtc,KAAKwd,cAAczF,EAAGsF,OAAOE,MAAQ,UAAY,YACjDxF,EAAGuE,kBACH,OAAO,EACT,IAAK,YACHtc,KAAKwd,cAAczF,EAAGsF,OAAOE,MAAQ,UAAY,UACjDxF,EAAGuE,kBACH,OAAO,EACT,IAAK,GACHtc,KAAKyd,SAAS1F,EAAGsF,OAAOE,OACxBxF,EAAGuE,kBACH,OAAO,EAGX,OAAO,CACT,KA1OHzV,GAAEC,GAAGC,UAAUoI,KAAKuO,WAAWC,kBAAkB5X,cAAgBA,CAAc,C,i3FCA/EK,GAAEC,UAAUC,qBAAqBP,GAwBjCK,GAAEG,MAAMC,OAAO,yCAA0C,CACxDC,OAAQI,GAAGC,GAAGC,UAAUoI,KAAK8L,SAASC,sBAOtCxX,UAAS,SAAC6E,GACR1B,GAAAC,GAAAC,UAAAoI,KAAA8L,SAAAC,sBAAAxY,YAAAT,KAAAjC,KAAMuI,GACNvI,KAAK4d,SAAU,IAAIC,GACrB,EAOA9U,WAAY,CACVpC,KAAM,CACJsC,MAAO,CAAC,SAAU,UAAW,QAC7BC,KAAM,UAGR4U,GAAI,CACF7U,MAAO,UACPC,MAAM,EACN/I,MAAO,YAGT4d,QAAS,CACP9U,MAAO,SACPC,KAAM,UAGR8U,SAAU,CACR/U,MAAO,SACPC,KAAM,YAGR+U,QAAS,CACPhV,MAAO,SACPC,KAAM,KAGRgV,SAAU,CACRjV,MAAO,SACPC,KAAM,KAGRsS,WAAY,CACVvS,MAAO,SACP0Q,UAAU,EACVxZ,MAAO,oBAGTsF,KAAM,CACJwD,MAAO,SACPC,KAAM,GACN/I,MAAO,cAGTge,SAAU,CACRlV,MAAO,SACPC,MAAO,EACP/I,MAAO,iBACPie,UAAW,cASf9U,QAAS,CACPsS,gBAAiB,KACjByC,SAAa,KACbC,SAAiB,KAIjBV,SAAS,KAETW,UAAS,SAACC,GACR,IAAMC,EAAS/J,SAAS8J,GACxB,OAAOrc,OAAOuc,MAAMD,GAAU,EAAIA,CACpC,EAEA7D,MAAK,WAAG,IAAA3O,EAAAjM,KACAuI,EAAUvI,KAAK2W,SACjBpO,EAAQ4H,aAAa,SACvBnQ,KAAK2e,QAAQpW,EAAQ+C,aAAa,SAEhC/C,EAAQ4H,aAAa,SACvBnQ,KAAK4e,QAAQrW,EAAQ+C,aAAa,SAEhC/C,EAAQ4H,aAAa,aACvBnQ,KAAK6e,YAAYtW,EAAQ+C,aAAa,aAEpC/C,EAAQ4H,aAAa,aACvBnQ,KAAK8e,WAAWvW,EAAQ+C,aAAa,aAEnC/C,EAAQ4H,aAAa,cACvBnQ,KAAK+e,YAAYxW,EAAQ+C,aAAa,cAExC,IAAI4Q,GAAiB,EACjBC,EAAiB,GACrB3X,MAAMjD,UAAUyN,QAAQ/M,KAAKsG,EAAQuC,iBAAiB,wBAAwB,SAAAsR,GAE5E,OADaA,EAAQjM,aAAa,QAAUiM,EAAQ9Q,aAAa,QAAU,aAEzE,IAAK,YACH4Q,GAAiB,EACjBC,EAAevT,KAAKwT,GACpB,MACF,IAAK,OACHF,GAAiB,EACjB,MACF,IAAK,QACHC,EAAevT,KAAKwT,GAG1B,IAEApc,KAAK4b,gBAAkBO,EAEvB,GAAIA,EAAexb,OAAS,EAAG,CAC7B,IAAM2V,EAAS,CAAC,EACZ0I,EAAczW,EAClB,GAA2C,SAAvCA,EAAQ+C,aAAa,cAIvB,IAFA,IAAIyL,EAASxO,EAAQ4C,cACjB8T,EAAQ,EACLA,GAAS,GAAG,CAEjBA,IACqC,aAFrClI,EAASA,EAAO5L,eAEL3C,QAAQC,gBACjBuW,EAAcjI,GACFrM,UAAUQ,IAAI,YAE9B,CAEFiR,EAAenN,SAAQ,SAAAkQ,GAErB,OADYA,EAAK/O,aAAa,MAAQ+O,EAAK5T,aAAa,MAAQ,SAE9D,IAAK,QACHgL,EAAO6I,MAAQlT,EAAKmT,UAAUrc,KAAKkJ,GACnC,MACF,IAAK,KACHqK,EAAO+I,UAAYpT,EAAKqT,YAAYvc,KAAKkJ,GACzC,MACF,IAAK,OACHqK,EAAOiJ,YAActT,EAAKuT,cAAczc,KAAKkJ,GAGnD,IACAjL,OAAOye,oBAAoBnJ,GAAQtH,SAAQ,SAAA0Q,GAAS,OAClDV,EAAYtO,iBAAiBgP,GAAW,SAAA3H,GACtCzB,EAAOoJ,GAAW3H,EACpB,GAAE,GAEN,CACA,GAAImE,EACF3T,EAAQmI,iBAAiB,eAAe,SAAAqH,GACtC9L,EAAKoQ,cAActE,GAEnBA,EAAGuE,iBACL,SACK,GAAI/T,EAAQ4H,aAAa,YAAc5H,EAAQ4H,aAAa,WAAY,CAE7E,IAAMwP,EAAmBxD,EAAeyD,QAAO,SAAAV,GAAI,OAAIA,EAAK/O,aAAa,WAAa+O,EAAK/O,aAAa,KAAK,IAE7G,GAAgC,IAA5BwP,EAAiBhf,OAAc,CACjC,IAAMrB,EAAQqgB,EAAiB,GAAGrU,aAAa,SAC/ClF,GAAGsF,MAAM+M,MAAMoH,MACb,WAGE5T,EAAK6T,MAAMxgB,GAAS2M,EAAK8T,aAC3B,GACA/f,KACA,IAEJ,CACF,CAGA,GACGkc,GACgG,IAAjGC,EAAeyD,QAAO,SAAAV,GAAI,OAAIA,EAAK/O,aAAa,WAAa+O,EAAK/O,aAAa,KAAK,IAAExP,OAIjF,CACL,IAAIqf,GAAU,EACVC,GAAQ,EACZ9D,EAAe7C,MAAK,SAAA4F,GAClB,GAAIA,EAAK/O,aAAa,UAAY+O,EAAK/O,aAAa,MAAO,CACpD6P,IACHA,EAAsC,SAA5Bd,EAAK5T,aAAa,OAEzB2U,IACHA,EAAoC,OAA5Bf,EAAK5T,aAAa,MAE9B,CACA,OAAO2U,GAASD,CAClB,IACIC,GAASD,GAEXhgB,KAAK2e,QAAQ,OAEjB,MAnBE3e,KAAK2e,QAAQ,UAoBjB,EAEAuB,cAAa,WACX,IAAM3X,EAAUvI,KAAK2W,SACrB3W,KAAKse,SAAkB,IAAM6B,KAAKC,GAClC,IAAMC,EAAMlX,SAASmX,gBAAgB,6BAA8B,OACnED,EAAI9P,aAAa,UAAW,eAC5B8P,EAAI9P,aAAa,OAAQ,UACzB,IAAMgQ,EAASpX,SAASmX,gBAAgB,6BAA8B,UAEtEC,EAAO7V,UAAUQ,IAAI,OACrBqV,EAAOhQ,aAAa,IAAK,MACzBgQ,EAAOhQ,aAAa,KAAM,MAC1BgQ,EAAOhQ,aAAa,KAAM,MAC1BgQ,EAAOhQ,aAAa,eAAgB,KACpCgQ,EAAOhQ,aAAa,mBAAoBvQ,KAAKse,SAAkB,IAAMte,KAAKse,UAE1EiC,EAAOhQ,aAAa,oBAAqB,GAAKvQ,KAAKse,UACnD+B,EAAI9R,YAAYgS,GAChBhY,EAAQgG,YAAY8R,GAEpB9X,EAAQmC,UAAUQ,IAAI,WACxB,EAEAyP,gBAAe,SAACrb,GACduH,GAAAC,GAAAC,UAAAoI,KAAAuO,WAAA8C,OAAAC,WAAAlf,UAAAoZ,gBAAA1Y,KAAAjC,KAAsBV,GAClBA,GACqB,YAAnBU,KAAK0gB,WAEPta,GAAGsF,MAAM+M,MAAMoH,KAAK7f,KAAK2gB,SAAU3gB,KAAM,IAG/C,EACA2gB,SAAQ,WACN,GAAI3gB,KAAKwc,cAAe,CACtB,IAAIld,EAAQU,KAAK4gB,OAAS5gB,KAAK+f,aAAe/f,KAAK6gB,cACnD7gB,KAAK2W,SAASpG,aAAa,QAASjR,GAAS,IAC7C,IAAImd,EAAcnd,EACdU,KAAK2W,SAASxG,aAAa,aAC7BsM,EAAc5V,GAAG4M,YAAYC,oBAAoBf,SAC/C3S,KAAK2W,SAASrL,aAAa,WAC3BhM,EACAU,KAAK4d,WAGT,IAAMpd,EAASR,KAAK2W,SAASlM,cAAc,UACvCjK,GAA2C,YAAjCA,EAAOgI,QAAQC,cACvBjI,EAAO4Z,UACT5Z,EAAO4Z,UAAU0G,MAAMrE,GAEvBjc,EAAOoR,YAAc6K,EAGvBzc,KAAK+gB,YAAYtE,GAEnB,IAAIjB,EAAaxb,KAAK4gB,OAAS5gB,KAAKghB,aAAehhB,KAAKihB,cACpDjhB,KAAK2W,SAASxG,aAAa,aAC7BqL,EAAa3U,GAAG4M,YAAYC,oBAAoBL,WAC9CrT,KAAK2W,SAASrL,aAAa,WAC3BhM,EACAU,KAAK4d,WAGT5d,KAAK6c,cAAcrB,EACrB,CACF,EAEA0F,eAAc,SAAC5hB,GACb,IAAI6hB,EAAenhB,KAAK2W,SAASlM,cAAc,6BAE/C,IAAK0W,EAAc,CACjBnhB,KAAKkgB,gBACLiB,EAAenhB,KAAK2W,SAASlM,cAAc,4BAC7C,CACA,GAAI0W,EAAc,CACZnhB,KAAK2W,SAASxG,aAAa,sBAC7B7Q,EAAQuH,GAAG4M,YAAYC,oBAAoBf,SACzC3S,KAAK2W,SAASrL,aAAa,oBAC3BhM,EACAU,KAAK4d,WAGTuD,EAAa5Q,aACX,oBACA,IAAMvQ,KAAKse,SAAmBhf,EAAQ,IAAOU,KAAKse,UAEtD,CACF,EAEAxB,iBAAgB,SAACxd,EAAO+b,GACtB,IAAM0B,EAAU/c,KAAK2W,SAASjM,UAC9B,GAAI2Q,EACF,GAAI0B,EAAQpS,SAAS0Q,GACnB0B,EAAQtV,QAAQ4T,EAAU/b,OACrB,CACLyd,EAAQ7R,IAAI5L,GACZyd,EAAQhS,OAAOsQ,EACjB,MACS/b,GACTyd,EAAQ7R,IAAI5L,EAEhB,EAEA8hB,WAAU,SAAC9hB,GACT,IAAKU,KAAKqe,SAAa,CACrBre,KAAKqe,SAAclV,SAASmO,cAAc,SAC1CtX,KAAKqe,SAAY3T,UAAUQ,IAAI,gBAC/BlL,KAAK2W,SAASpI,YAAYvO,KAAKqe,SACjC,CACAre,KAAKqe,SAAYzM,YAActS,CACjC,EAEAyhB,YAAW,SAACzhB,GACV,IAAMwW,EAAO9V,KAAK2W,SAASlM,cAAc,cACrCqL,IACFA,EAAKG,UAAY3W,EAErB,EAOA+c,cAAa,SAACtE,GAGZ,IAAIzY,EAAQyY,EAAGsF,OAAOE,OAASvd,KAAK+f,aAChCvf,EAASuX,EAAGsF,OAAO7c,QAAU,UACjC,GAAIuX,EAAGsF,OAAOgE,kBAAkBxa,GAAGC,GAAGC,UAAUoI,KAAK8L,SAASqG,QAAS,CACrE,IAAMC,EAAiBxJ,EAAGsF,OAAOgE,OAAOvG,aACpCyG,EAAepR,aAAa,WAE9B7Q,EAAQyY,EAAGsF,OAAOE,OAASgE,EAAejW,aAAa,SAE3D,CACe,YAAX9K,EACFR,KAAK8f,MAAMxgB,GACS,aAAXkB,EACTR,KAAK6e,YAAY9G,EAAGsF,OAAOE,OAClB/c,EAAOwV,WAAW,UAC3BhW,KAAK4d,SAAQrQ,IAAI/M,EAAO0J,UAAU,GAAI6N,EAAGsF,OAAOE,OAC5B,UAAX/c,GAETR,KAAK4d,SAAQrQ,IAAIwK,EAAGsF,OAAOjB,QAASrE,EAAGsF,OAAOE,MAElD,EAEA6B,UAAS,SAAC1T,GAAO,IAAAkB,EAAA5M,KACfA,KAAKwhB,aAAa9V,GACb1L,KAAK4b,kBACR5b,KAAK4b,gBAAkBpX,MAAMjD,UAAUqe,OAAO3d,KAC5CjC,KAAK2W,SAAS7L,iBAAiB,2BAC/B,SAAAsR,GAAO,OAAKA,EAAQjM,aAAa,SAA4C,SAAjCiM,EAAQ9Q,aAAa,OAAkB,KAGvF,IAAMyM,EAAK,IAAI0J,YAAY,YAAa,CACtCpE,OAAQ,CACN/d,MAAOU,KAAK4gB,OAAS5gB,KAAK6gB,cAAgB7gB,KAAK+f,aAC/CsB,OAAQrhB,QAIZ,GAAuB,YAAnBA,KAAK0gB,UAAyB,CAEhC1gB,KAAK8f,OAAM,GACX1Z,GAAGsF,MAAM+M,MAAMoH,MACb,WACEjT,EAAKkT,OAAM,EACb,GACA,KACA,IAEJ,CACA9f,KAAK4b,gBACFgE,QAAO,SAAAV,GAAI,OAAKA,EAAK/O,aAAa,OAAqC,UAA5B+O,EAAK5T,aAAa,KAAiB,IAC9E0D,SAAQ,SAAAoN,GAAO,OAAIA,EAAQsF,cAAc3J,EAAG,IAC/CrM,EAAM4Q,iBACR,EAEAkD,cAAa,WAAG,IAAA9P,EAAA1P,KACdA,KAAK4b,gBACFgE,QAAO,SAAAV,GAAI,MAAgC,SAA5BA,EAAK5T,aAAa,OAAoB4T,EAAK/O,aAAa,QAAQ,IAC/EnB,SAAQ,SAAAoN,GACPA,EAAQsF,cACN,IAAID,YAAY,YAAa,CAC3BpE,OAAQ,CACN/d,MAAO8c,EAAQ9Q,aAAa,SAC5B+V,OAAQ3R,KAIhB,GACJ,EAEA4P,YAAW,WAAG,IAAAxL,EAAA9T,KACZA,KAAK4b,gBACFgE,QAAO,SAAAV,GAAI,MAAgC,OAA5BA,EAAK5T,aAAa,OAAkB4T,EAAK/O,aAAa,QAAQ,IAC7EnB,SAAQ,SAAAoN,GACPA,EAAQsF,cACN,IAAID,YAAY,YAAa,CAC3BpE,OAAQ,CACN/d,MAAO8c,EAAQ9Q,aAAa,SAC5B+V,OAAQvN,KAIhB,GACJ,EAEA0N,aAAY,SAAC9V,GACX,IAAMiW,EAASjW,EAAMkW,cACjBC,EAAYF,EAAOlX,cAAc,4BACrC,IAAKoX,EAAW,EACdA,EAAY1Y,SAASmO,cAAc,QACzB5M,UAAUQ,IAAI,oBACxByW,EAAOpT,YAAYsT,EACrB,CACA,IAAMtB,EAASpX,SAASmO,cAAc,QAChCwK,EAAW3B,KAAK4B,IAAIJ,EAAOK,YAAaL,EAAOM,cAC/CC,EAASJ,EAAW,EAC1BvB,EAAOhJ,MAAM4K,MAAQ5B,EAAOhJ,MAAM6K,OAAM,GAAAhR,OAAM0Q,EAAQ,MACtD,IAAIO,EAAI3W,EAAM4W,SAAWX,EAAOY,WAAaL,GACzCM,EAAI9W,EAAM+W,SAAWd,EAAOe,UAAYR,GAC5C,GAAIP,IAAW3hB,KAAK2W,SAAU,CAC5B0L,GAAKV,EAAOgB,aAAaJ,WACzBC,GAAKb,EAAOgB,aAAaD,SAC3B,CACAnC,EAAOhJ,MAAMqL,KAAI,GAAAxR,OAAMiR,EAAC,MACxB9B,EAAOhJ,MAAMsL,IAAG,GAAAzR,OAAMoR,EAAC,MACvBjC,EAAO7V,UAAUQ,IAAI,UAErB2W,EAAU/W,iBAAiB,WAAWkE,SAAQ,SAAA8T,GAAM,OAAIA,EAAO/X,QAAQ,IACvE8W,EAAUtT,YAAYgS,EACxB,GAGFpa,MAAK,SAACwC,GACJuG,eAAe1I,OACbK,GAAGC,GAAGC,UAAUoI,KAAKC,WAAWrH,OAAS,SAAQ,SAAAgb,GAAA,aAAAzgB,UAAAiN,EAAAwT,GAAA,IAAAzT,EAAArM,aAAAsM,GAE/C,SAAAA,IAAcnN,gBAAApC,KAAAuP,GAAA,OAAAD,EAAArN,KAAAjC,KACN2I,EACR,CAAC,OAAAxH,aAAAoO,EAAA,CAJ8C,CACnCwL,aAMlB,IAleDlU,GAAEC,GAAGC,UAAUoI,KAAKuO,WAAW8C,OAAOza,cAAgBA,CAAc,C,47FCApEK,GAAEC,UAAUC,qBAAqBP,GAyBjCK,GAAEG,MAAMC,OAAO,wCAAyC,CACvDC,OAAQI,GAAGC,GAAGC,UAAUoI,KAAK8L,SAASC,sBAOtC5R,QAAS,CACP0Z,SAAa,KACbC,SAAoB,KAEpBrI,MAAK,WAAG,IAAA3O,EAAAjM,KACAuI,EAAUvI,KAAK2W,SACfyF,EAAU7T,EAAQqJ,YAAYC,OACpC,GAAIuK,EAAS,CACX,IAAM8G,EAAQrc,GAAGkJ,KAAKS,MAAMjJ,cACtB4b,EAAc5a,EAAQ+C,aAAa,WACzC4X,EAAME,WAAWhH,EAAS7T,EAAQ+C,aAAa,MAAO6X,GACtD,IAAME,EAAO9a,EAAQ4H,aAAa,QAAU5H,EAAQ+C,aAAa,QAAU,YAC3E,GAAa,UAAT+X,EAAkB,CAGpB,IAAM9F,EAAQ2F,EAAMI,SAASlH,EAAS+G,QACxB7iB,IAAVid,GACFvd,KAAKujB,gBAAgBnH,EAASmB,GAGhC2F,EAAMM,kBAAkBpH,EAASpc,KAAKujB,gBAAiBvjB,KAAMmjB,EAC/D,CACa,SAATE,GAEF9a,EAAQmI,iBAAiB,aAAa,SAAAqH,GACpC,IAAIzY,EAAQ,KACR0B,OAAOO,UAAUmH,eAAezG,KAAK8V,EAAGsF,OAAQ,WAClD/d,EAAQyY,EAAGsF,OAAO/d,OAEhBiJ,EAAQ4H,aAAa,WAEvB7Q,EAAQiJ,EAAQ+C,aAAa,UAE/B,IAAMmY,EACJ1L,EAAGsF,OAAOgE,QACVtJ,EAAGsF,OAAOgE,kBAAkBxa,GAAGC,GAAGC,UAAUoI,KAAKuO,WAAW8C,SAC5B,YAA/BzI,EAAGsF,OAAOgE,OAAOX,WAA0D,SAA/B3I,EAAGsF,OAAOgE,OAAOX,WAChE,GAAc,OAAVphB,EAAgB,CAClB,IAAMokB,EAAWnb,EAAQ+C,aAAa,cAAgB,MAChDqY,EAAe9c,GAAG+c,UAAUC,gBAAgB,CAAEzF,UAAWsF,GAAYpkB,GAG3E,GACEmkB,IACCziB,OAAOO,UAAUmH,eAAezG,KAAKsG,EAAS,kBAC/Cob,EAAaG,MAAQvb,EAAQwb,cAE7B,GAAIxb,EAAQ4H,aAAa,SAAU,CACjC,IAAM6T,EAAQtP,SAASnM,EAAQ+C,aAAa,UAC5CW,EAAKO,MAAK,sBAAA4E,OAAuB4S,EAAK,OACtC5d,GAAGsF,MAAM+M,MAAMoH,MACb,WACEhZ,GAAGqF,GAAGC,mBAAmB8X,UAAUd,GAAae,MAC9C3b,EAAQqJ,YACR+R,EAAaQ,IACb5b,GAGGkb,IACHlb,EAAQwb,cAAgBJ,EAAaG,IAEzC,GACA7X,EACA+X,EAEJ,KAAO,CACLnd,GAAGqF,GAAGC,mBAAmB8X,UAAUd,GAAae,MAAM3b,EAAQqJ,YAAa+R,EAAaQ,IAAK5b,GAExFkb,IACHlb,EAAQwb,cAAgBJ,EAAaG,IAEzC,CAEJ,CACF,GAEJ,CACF,EAOAP,gBAAe,SAACnH,EAASmB,GACvB,GAAIvd,KAAKgjB,WAAgBzF,GAAqD,WAA5Cvd,KAAK2W,SAASrL,aAAa,aAA2B,CACtF,IAAI8S,EAAYpe,KAAK2W,SAASrL,aAAa,cAAgB,MACvD8Y,EAAmBvd,GAAG+c,UAAUS,OAAO,CAAEjG,UAAWA,GAAab,GAEjE9K,EAAU,GACd,GAAIzS,KAAK2W,SAASxG,aAAa,WAAY,CACzCsC,EAAUzS,KAAK2W,SAASrL,aAAa,WACrC8Y,EAAmBvd,GAAG4M,YAAYC,oBAAoBf,SAASF,EAAS2R,EAC1E,CACIpkB,KAAK2W,SAASxG,aAAa,YAC7BiU,EAAmBvd,GAAGQ,KAAK3F,OAAOgb,QAChC1c,KAAK2W,SAASrL,aAAa,UAC3B8Y,aAA4Bxc,KAAOwc,EAAiBzH,iBAAmByH,IAG3E,IAAMrM,EAAK,IAAI0J,YAAY,cAAe,CACxC6C,SAAS,EACTC,YAAY,EACZlH,OAAQ,CACNjB,QAASpc,KAAK2W,SAAS/E,YAAYC,OACnC0L,MAAO6G,EACP5jB,OAAQR,KAAK2W,SAASrL,aAAa,WAAa,GAChDwY,IAAKvG,EACL9K,QAASA,EACT+R,aAAcxkB,KAAK2W,SAASxG,aAAa,SAAWnQ,KAAK2W,SAASrL,aAAa,SAAW,KAC1F+V,OAAQrhB,KACRykB,QAASzkB,KAAK2W,SAASxG,aAAa,WAAanQ,KAAK2W,SAASrL,aAAa,WAAa,QAI7FtL,KAAKijB,SAAqBmB,EAE1BpkB,KAAK2W,SAAS+K,cAAc3J,GAC5B/X,KAAKgjB,SAAczF,EAEfA,IAAUvd,KAAK2W,SAASoN,gBAC1B/jB,KAAK2W,SAASoN,cAAgB,KAElC,CACF,EAMAW,OAAM,WACJ,MAA8C,UAAvC1kB,KAAK2W,SAASrL,aAAa,OACpC,EAMAqZ,QAAO,WACL,MAA8C,SAAvC3kB,KAAK2W,SAASrL,aAAa,OACpC,EAEAsZ,SAAQ,WACN,OAAO5kB,KAAKijB,QACd,GAGF9c,MAAK,SAAC0e,GACJ3V,eAAe1I,OACbK,GAAGC,GAAGC,UAAUoI,KAAKC,WAAWrH,OAAS,UAAS,SAAAgb,GAAA,aAAAzgB,UAAAiN,EAAAwT,GAAA,IAAAzT,EAAArM,aAAAsM,GAEhD,SAAAA,IAAcnN,gBAAApC,KAAAuP,GAAA,OAAAD,EAAArN,KAAAjC,KACN6kB,EACR,CAAC,OAAA1jB,aAAAoO,EAAA,CAJ+C,CACpCwL,aAMlB,IA7LDlU,GAAEC,GAAGC,UAAUoI,KAAK8L,SAASqG,QAAQvb,cAAgBA,CAAc,C,g8ICCnE4J,oBAAA,kBAAAmV,CAAA,MAAAA,EAAA,GAAAC,EAAA/jB,OAAAO,UAAAyjB,EAAAD,EAAArc,eAAAzH,EAAAD,OAAAC,gBAAA,SAAAgkB,EAAA/lB,EAAAgmB,GAAAD,EAAA/lB,GAAAgmB,EAAA5lB,KAAA,EAAA6lB,EAAA,mBAAArjB,cAAA,GAAAsjB,EAAAD,EAAA5gB,UAAA,aAAA8gB,EAAAF,EAAAG,eAAA,kBAAAC,EAAAJ,EAAAK,aAAA,yBAAAhf,EAAAye,EAAA/lB,EAAAI,GAAA,OAAA0B,OAAAC,eAAAgkB,EAAA/lB,EAAA,CAAAI,QAAAuB,YAAA,EAAAC,cAAA,EAAAC,UAAA,IAAAkkB,EAAA/lB,EAAA,KAAAsH,EAAA,aAAAnG,GAAAmG,EAAA,SAAAye,EAAA/lB,EAAAI,GAAA,OAAA2lB,EAAA/lB,GAAAI,CAAA,WAAA0Q,EAAAyV,EAAAC,EAAA3lB,EAAA4lB,GAAA,IAAAC,EAAAF,KAAAnkB,qBAAAskB,EAAAH,EAAAG,EAAAC,EAAA9kB,OAAAyB,OAAAmjB,EAAArkB,WAAAwkB,EAAA,IAAAC,EAAAL,GAAA,WAAA1kB,EAAA6kB,EAAA,WAAAxmB,MAAA2mB,EAAAR,EAAA1lB,EAAAgmB,KAAAD,CAAA,UAAAI,EAAApmB,EAAAmlB,EAAA9lB,GAAA,WAAAwH,KAAA,SAAAxH,IAAAW,EAAAmC,KAAAgjB,EAAA9lB,GAAA,OAAAkB,GAAA,OAAAsG,KAAA,QAAAxH,IAAAkB,EAAA,EAAAykB,EAAA9U,OAAA,IAAAmW,EAAA,YAAAN,IAAA,UAAAO,IAAA,UAAAC,IAAA,KAAAC,EAAA,GAAA9f,EAAA8f,EAAAlB,GAAA,kBAAAplB,IAAA,QAAAumB,EAAAvlB,OAAAmD,eAAAqiB,EAAAD,OAAAE,EAAA,MAAAD,OAAAzB,GAAAC,EAAA/iB,KAAAukB,EAAApB,KAAAkB,EAAAE,GAAA,IAAAE,EAAAL,EAAA9kB,UAAAskB,EAAAtkB,UAAAP,OAAAyB,OAAA6jB,GAAA,SAAAK,EAAAplB,GAAA,0BAAAyN,SAAA,SAAA4X,GAAApgB,EAAAjF,EAAAqlB,GAAA,SAAAznB,GAAA,OAAAa,KAAA6mB,QAAAD,EAAAznB,EAAA,gBAAA2nB,EAAAhB,EAAAiB,GAAA,SAAAC,EAAAJ,EAAAznB,EAAAO,EAAAF,GAAA,IAAAynB,EAAAf,EAAAJ,EAAAc,GAAAd,EAAA3mB,GAAA,aAAA8nB,EAAAtgB,KAAA,KAAAtD,EAAA4jB,EAAA9nB,IAAAG,EAAA+D,EAAA/D,MAAA,OAAAA,GAAA,UAAAmC,QAAAnC,IAAA0lB,EAAA/iB,KAAA3C,EAAA,WAAAynB,EAAArnB,QAAAJ,EAAA4nB,SAAAtnB,MAAA,SAAAN,GAAA0nB,EAAA,OAAA1nB,EAAAI,EAAAF,EAAA,aAAAa,GAAA2mB,EAAA,QAAA3mB,EAAAX,EAAAF,EAAA,IAAAunB,EAAArnB,QAAAJ,GAAAM,MAAA,SAAAunB,GAAA9jB,EAAA/D,MAAA6nB,EAAAznB,EAAA2D,EAAA,aAAA9D,GAAA,OAAAynB,EAAA,QAAAznB,EAAAG,EAAAF,EAAA,IAAAA,EAAAynB,EAAA9nB,IAAA,KAAAioB,EAAAnmB,EAAAjB,KAAA,WAAAV,MAAA,SAAAsnB,EAAAznB,GAAA,SAAAkoB,IAAA,WAAAN,GAAA,SAAArnB,EAAAF,GAAAwnB,EAAAJ,EAAAznB,EAAAO,EAAAF,EAAA,WAAA4nB,MAAAxnB,KAAAynB,QAAA,aAAApB,EAAAR,EAAA1lB,EAAAgmB,GAAA,IAAAxI,EAAA,iCAAAqJ,EAAAznB,GAAA,iBAAAoe,EAAA,UAAApC,MAAA,iDAAAoC,EAAA,cAAAqJ,EAAA,MAAAznB,EAAA,OAAAmoB,GAAA,KAAAvB,EAAAa,SAAAb,EAAA5mB,QAAA,KAAAooB,EAAAxB,EAAAwB,SAAA,GAAAA,EAAA,KAAAC,EAAAC,EAAAF,EAAAxB,GAAA,GAAAyB,EAAA,IAAAA,IAAArB,EAAA,gBAAAqB,CAAA,cAAAzB,EAAAa,OAAAb,EAAA2B,KAAA3B,EAAA4B,MAAA5B,EAAA5mB,SAAA,aAAA4mB,EAAAa,OAAA,uBAAArJ,EAAA,MAAAA,EAAA,YAAAwI,EAAA5mB,IAAA4mB,EAAA6B,kBAAA7B,EAAA5mB,IAAA,gBAAA4mB,EAAAa,QAAAb,EAAApV,OAAA,SAAAoV,EAAA5mB,KAAAoe,EAAA,gBAAA0J,EAAAf,EAAAT,EAAA1lB,EAAAgmB,GAAA,cAAAkB,EAAAtgB,KAAA,IAAA4W,EAAAwI,EAAAtmB,KAAA,6BAAAwnB,EAAA9nB,MAAAgnB,EAAA,gBAAA7mB,MAAA2nB,EAAA9nB,IAAAM,KAAAsmB,EAAAtmB,KAAA,WAAAwnB,EAAAtgB,OAAA4W,EAAA,YAAAwI,EAAAa,OAAA,QAAAb,EAAA5mB,IAAA8nB,EAAA9nB,IAAA,YAAAsoB,EAAAF,EAAAxB,GAAA,IAAA8B,EAAA9B,EAAAa,SAAAW,EAAAhjB,SAAAsjB,GAAA,QAAAvnB,IAAAsmB,EAAA,OAAAb,EAAAwB,SAAA,eAAAM,GAAAN,EAAAhjB,SAAA,SAAAwhB,EAAAa,OAAA,SAAAb,EAAA5mB,SAAAmB,EAAAmnB,EAAAF,EAAAxB,GAAA,UAAAA,EAAAa,SAAA,WAAAiB,IAAA9B,EAAAa,OAAA,QAAAb,EAAA5mB,IAAA,IAAA+C,UAAA,oCAAA2lB,EAAA,aAAA1B,EAAA,IAAAc,EAAAf,EAAAU,EAAAW,EAAAhjB,SAAAwhB,EAAA5mB,KAAA,aAAA8nB,EAAAtgB,KAAA,OAAAof,EAAAa,OAAA,QAAAb,EAAA5mB,IAAA8nB,EAAA9nB,IAAA4mB,EAAAwB,SAAA,KAAApB,EAAA,IAAA/mB,EAAA6nB,EAAA9nB,IAAA,OAAAC,IAAAK,MAAAsmB,EAAAwB,EAAAO,YAAA1oB,EAAAE,MAAAymB,EAAA5gB,KAAAoiB,EAAAQ,QAAA,WAAAhC,EAAAa,SAAAb,EAAAa,OAAA,OAAAb,EAAA5mB,SAAAmB,GAAAylB,EAAAwB,SAAA,KAAApB,GAAA/mB,GAAA2mB,EAAAa,OAAA,QAAAb,EAAA5mB,IAAA,IAAA+C,UAAA,oCAAA6jB,EAAAwB,SAAA,KAAApB,EAAA,UAAA6B,EAAAC,GAAA,IAAA1O,EAAA,CAAA2O,OAAAD,EAAA,SAAAA,IAAA1O,EAAA4O,SAAAF,EAAA,SAAAA,IAAA1O,EAAA6O,WAAAH,EAAA,GAAA1O,EAAA8O,SAAAJ,EAAA,IAAAjoB,KAAAsoB,WAAA1f,KAAA2Q,EAAA,UAAAgP,EAAAhP,GAAA,IAAA0N,EAAA1N,EAAAiP,YAAA,GAAAvB,EAAAtgB,KAAA,gBAAAsgB,EAAA9nB,IAAAoa,EAAAiP,WAAAvB,CAAA,UAAAjB,EAAAL,GAAA3lB,KAAAsoB,WAAA,EAAAJ,OAAA,SAAAvC,EAAA3W,QAAAgZ,EAAAhoB,WAAAyoB,OAAA,YAAAhC,EAAAiC,GAAA,GAAAA,EAAA,KAAAC,EAAAD,EAAAtD,GAAA,GAAAuD,EAAA,OAAAA,EAAA1mB,KAAAymB,GAAA,sBAAAA,EAAAvjB,KAAA,OAAAujB,EAAA,IAAAhK,MAAAgK,EAAA/nB,QAAA,KAAAD,GAAA,EAAAyE,EAAA,SAAAA,IAAA,OAAAzE,EAAAgoB,EAAA/nB,QAAA,GAAAqkB,EAAA/iB,KAAAymB,EAAAhoB,GAAA,OAAAyE,EAAA7F,MAAAopB,EAAAhoB,GAAAyE,EAAA1F,MAAA,EAAA0F,EAAA,OAAAA,EAAA7F,WAAAgB,EAAA6E,EAAA1F,MAAA,EAAA0F,CAAA,SAAAA,QAAA,SAAAA,KAAAmiB,EAAA,UAAAA,IAAA,OAAAhoB,WAAAgB,EAAAb,MAAA,UAAA2mB,EAAA7kB,UAAA8kB,EAAAplB,EAAAylB,EAAA,eAAApnB,MAAA+mB,EAAAvlB,cAAA,IAAAG,EAAAolB,EAAA,eAAA/mB,MAAA8mB,EAAAtlB,cAAA,IAAAslB,EAAAwC,YAAApiB,EAAA6f,EAAAd,EAAA,qBAAAT,EAAA+D,oBAAA,SAAAC,GAAA,IAAAC,EAAA,mBAAAD,KAAApmB,YAAA,QAAAqmB,QAAA3C,GAAA,uBAAA2C,EAAAH,aAAAG,EAAAtjB,MAAA,EAAAqf,EAAAlV,KAAA,SAAAkZ,GAAA,OAAA9nB,OAAA8B,eAAA9B,OAAA8B,eAAAgmB,EAAAzC,IAAAyC,EAAA9lB,UAAAqjB,EAAA7f,EAAAsiB,EAAAvD,EAAA,sBAAAuD,EAAAvnB,UAAAP,OAAAyB,OAAAikB,GAAAoC,CAAA,EAAAhE,EAAAkE,MAAA,SAAA7pB,GAAA,OAAA+nB,QAAA/nB,EAAA,EAAAwnB,EAAAG,EAAAvlB,WAAAiF,EAAAsgB,EAAAvlB,UAAA8jB,GAAA,kBAAArlB,IAAA,IAAA8kB,EAAAgC,gBAAAhC,EAAAmE,MAAA,SAAAxD,EAAAC,EAAA3lB,EAAA4lB,EAAAoB,QAAA,IAAAA,MAAApnB,SAAA,IAAAupB,EAAA,IAAApC,EAAA9W,EAAAyV,EAAAC,EAAA3lB,EAAA4lB,GAAAoB,GAAA,OAAAjC,EAAA+D,oBAAAnD,GAAAwD,IAAA/jB,OAAAvF,MAAA,SAAAyD,GAAA,OAAAA,EAAA5D,KAAA4D,EAAA/D,MAAA4pB,EAAA/jB,MAAA,KAAAwhB,EAAAD,GAAAlgB,EAAAkgB,EAAAnB,EAAA,aAAA/e,EAAAkgB,EAAAtB,GAAA,kBAAAplB,IAAA,IAAAwG,EAAAkgB,EAAA,qDAAA5B,EAAA5P,KAAA,SAAAsJ,GAAA,IAAA2K,EAAAnoB,OAAAwd,GAAAtJ,EAAA,WAAAhW,KAAAiqB,EAAAjU,EAAAtM,KAAA1J,GAAA,OAAAgW,EAAAkU,UAAA,SAAAjkB,IAAA,KAAA+P,EAAAvU,QAAA,KAAAzB,EAAAgW,EAAAmU,MAAA,GAAAnqB,KAAAiqB,EAAA,OAAAhkB,EAAA7F,MAAAJ,EAAAiG,EAAA1F,MAAA,EAAA0F,CAAA,QAAAA,EAAA1F,MAAA,EAAA0F,CAAA,GAAA2f,EAAA2B,SAAAT,EAAAzkB,UAAA,CAAAmB,YAAAsjB,EAAAyC,MAAA,SAAAa,GAAA,GAAAtpB,KAAAkQ,KAAA,EAAAlQ,KAAAmF,KAAA,EAAAnF,KAAA0nB,KAAA1nB,KAAA2nB,WAAArnB,EAAAN,KAAAP,MAAA,EAAAO,KAAAunB,SAAA,KAAAvnB,KAAA4mB,OAAA,OAAA5mB,KAAAb,SAAAmB,EAAAN,KAAAsoB,WAAAtZ,QAAAuZ,IAAAe,EAAA,QAAA7jB,KAAAzF,KAAA,MAAAyF,EAAA8jB,OAAA,IAAAvE,EAAA/iB,KAAAjC,KAAAyF,KAAAiZ,OAAAjZ,EAAAD,MAAA,MAAAxF,KAAAyF,QAAAnF,EAAA,EAAAsQ,KAAA,WAAA5Q,KAAAP,MAAA,MAAA+pB,EAAAxpB,KAAAsoB,WAAA,GAAAE,WAAA,aAAAgB,EAAA7iB,KAAA,MAAA6iB,EAAArqB,IAAA,OAAAa,KAAAypB,IAAA,EAAA7B,kBAAA,SAAA8B,GAAA,GAAA1pB,KAAAP,KAAA,MAAAiqB,EAAA,IAAA3D,EAAA/lB,KAAA,SAAA2pB,EAAAC,EAAAC,GAAA,OAAA5C,EAAAtgB,KAAA,QAAAsgB,EAAA9nB,IAAAuqB,EAAA3D,EAAA5gB,KAAAykB,EAAAC,IAAA9D,EAAAa,OAAA,OAAAb,EAAA5mB,SAAAmB,KAAAupB,CAAA,SAAAnpB,EAAAV,KAAAsoB,WAAA3nB,OAAA,EAAAD,GAAA,IAAAA,EAAA,KAAA6Y,EAAAvZ,KAAAsoB,WAAA5nB,GAAAumB,EAAA1N,EAAAiP,WAAA,YAAAjP,EAAA2O,OAAA,OAAAyB,EAAA,UAAApQ,EAAA2O,QAAAloB,KAAAkQ,KAAA,KAAA4Z,EAAA9E,EAAA/iB,KAAAsX,EAAA,YAAAwQ,EAAA/E,EAAA/iB,KAAAsX,EAAA,iBAAAuQ,GAAAC,EAAA,IAAA/pB,KAAAkQ,KAAAqJ,EAAA4O,SAAA,OAAAwB,EAAApQ,EAAA4O,UAAA,MAAAnoB,KAAAkQ,KAAAqJ,EAAA6O,WAAA,OAAAuB,EAAApQ,EAAA6O,WAAA,SAAA0B,GAAA,GAAA9pB,KAAAkQ,KAAAqJ,EAAA4O,SAAA,OAAAwB,EAAApQ,EAAA4O,UAAA,YAAA4B,EAAA,UAAA5O,MAAA,6CAAAnb,KAAAkQ,KAAAqJ,EAAA6O,WAAA,OAAAuB,EAAApQ,EAAA6O,WAAA,KAAAzX,OAAA,SAAAhK,EAAAxH,GAAA,QAAAuB,EAAAV,KAAAsoB,WAAA3nB,OAAA,EAAAD,GAAA,IAAAA,EAAA,KAAA6Y,EAAAvZ,KAAAsoB,WAAA5nB,GAAA,GAAA6Y,EAAA2O,QAAAloB,KAAAkQ,MAAA8U,EAAA/iB,KAAAsX,EAAA,eAAAvZ,KAAAkQ,KAAAqJ,EAAA6O,WAAA,KAAA4B,EAAAzQ,EAAA,OAAAyQ,IAAA,UAAArjB,GAAA,aAAAA,IAAAqjB,EAAA9B,QAAA/oB,MAAA6qB,EAAA5B,aAAA4B,EAAA,UAAA/C,EAAA+C,IAAAxB,WAAA,UAAAvB,EAAAtgB,OAAAsgB,EAAA9nB,MAAA6qB,GAAAhqB,KAAA4mB,OAAA,OAAA5mB,KAAAmF,KAAA6kB,EAAA5B,WAAAjC,GAAAnmB,KAAAiqB,SAAAhD,EAAA,EAAAgD,SAAA,SAAAhD,EAAAoB,GAAA,aAAApB,EAAAtgB,KAAA,MAAAsgB,EAAA9nB,IAAA,gBAAA8nB,EAAAtgB,MAAA,aAAAsgB,EAAAtgB,KAAA3G,KAAAmF,KAAA8hB,EAAA9nB,IAAA,WAAA8nB,EAAAtgB,MAAA3G,KAAAypB,KAAAzpB,KAAAb,IAAA8nB,EAAA9nB,IAAAa,KAAA4mB,OAAA,SAAA5mB,KAAAmF,KAAA,kBAAA8hB,EAAAtgB,MAAA0hB,IAAAroB,KAAAmF,KAAAkjB,GAAAlC,CAAA,EAAA+D,OAAA,SAAA9B,GAAA,QAAA1nB,EAAAV,KAAAsoB,WAAA3nB,OAAA,EAAAD,GAAA,IAAAA,EAAA,KAAA6Y,EAAAvZ,KAAAsoB,WAAA5nB,GAAA,GAAA6Y,EAAA6O,eAAA,OAAApoB,KAAAiqB,SAAA1Q,EAAAiP,WAAAjP,EAAA8O,UAAAE,EAAAhP,GAAA4M,CAAA,GAAAgE,MAAA,SAAAjC,GAAA,QAAAxnB,EAAAV,KAAAsoB,WAAA3nB,OAAA,EAAAD,GAAA,IAAAA,EAAA,KAAA6Y,EAAAvZ,KAAAsoB,WAAA5nB,GAAA,GAAA6Y,EAAA2O,WAAA,KAAAjB,EAAA1N,EAAAiP,WAAA,aAAAvB,EAAAtgB,KAAA,KAAAyjB,EAAAnD,EAAA9nB,IAAAopB,EAAAhP,EAAA,QAAA6Q,CAAA,YAAAjP,MAAA,0BAAAkP,cAAA,SAAA3B,EAAAZ,EAAAC,GAAA,OAAA/nB,KAAAunB,SAAA,CAAAhjB,SAAAkiB,EAAAiC,GAAAZ,aAAAC,WAAA,SAAA/nB,KAAA4mB,SAAA5mB,KAAAb,SAAAmB,GAAA6lB,CAAA,GAAArB,CAAA,UAAArjB,QAAAwjB,GAAA,OAAAxjB,QAAA,mBAAAK,QAAA,iBAAAA,OAAAyC,SAAA,SAAA0gB,GAAA,cAAAA,CAAA,WAAAA,GAAA,OAAAA,GAAA,mBAAAnjB,QAAAmjB,EAAAviB,cAAAZ,QAAAmjB,IAAAnjB,OAAAP,UAAA,gBAAA0jB,CAAA,EAAAxjB,QAAAwjB,EAAA,UAAA7kB,mBAAAf,EAAAK,EAAAF,EAAAR,EAAAC,EAAAC,EAAAC,GAAA,QAAAC,EAAAC,EAAAH,GAAAC,GAAAG,EAAAF,EAAAE,KAAA,OAAAC,GAAAC,EAAAD,GAAA,OAAAH,EAAAK,KAAAC,EAAAJ,GAAAK,QAAAD,QAAAJ,GAAAM,KAAAZ,EAAAC,EAAA,UAAAY,kBAAAC,GAAA,sBAAAC,EAAAC,KAAAC,EAAAC,UAAA,WAAAP,SAAA,SAAAD,EAAAF,GAAA,IAAAH,EAAAS,EAAAK,MAAAJ,EAAAE,GAAA,SAAAjB,EAAAM,GAAAc,mBAAAf,EAAAK,EAAAF,EAAAR,EAAAC,EAAA,OAAAK,EAAA,UAAAL,EAAAoB,GAAAD,mBAAAf,EAAAK,EAAAF,EAAAR,EAAAC,EAAA,QAAAoB,EAAA,CAAArB,OAAAsB,EAAA,qBAAAyF,EAAA,CAAAC,UAAA,aAAAC,MAAA,UAAAC,SAAA,wDAAAA,SAAA,uCAAAA,SAAA,6OAAAC,MAAA,aADAC,GAAEC,UAAUC,qBAAqBP,GAyBjCK,GAAEG,MAAMC,OAAO,wCAAyC,CACvDC,OAAQI,GAAGC,GAAGC,UAAUoI,KAAKuO,WAAWC,kBACxC2M,QAASzjB,GAAGC,GAAGC,UAAUoI,KAAKqL,YAO9B1S,QAAS,CACPyiB,aAAc,EAEdC,UAAW,IAAI7qB,QAAO,eAAA8qB,EAAA5qB,kBAAA8P,sBAAAC,MAAC,SAAAC,EAAOnQ,EAASF,GAAM,IAAAyJ,EAAAyhB,EAAAC,EAAA,OAAAhb,sBAAAK,MAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAA9K,MAAA,OACrC8D,EAAQ,WAAH,MAA8B,WAArBxH,QAAO2O,OAAOwa,GAAe,EAAA3a,EAAA9K,KAAA,SAC3C0B,GAAGQ,KAAKwjB,aAAaC,cAAc1kB,GAAGiB,KAAKC,gBAAgBC,cAAcC,MAAM,mBAAkB,OAEvG,GAAKyB,IAYHvJ,GAAQ,OAZI,CACNgrB,EAAQ,IAAItkB,GAAGsF,MAAM+M,MAAM,IAC7BkS,EAAU,EACdD,EAAMhc,YAAY,YAAY,WAC5Bic,IACI1hB,IACFvJ,GAAQ,GACCirB,EAAU,GACnBnrB,EAAO,IAAI2b,MAAM,2BAErB,GACF,CAEC,wBAAAlL,EAAAW,OAAA,GAAAf,EAAA,KACF,gBAAAkb,EAAAC,GAAA,OAAAP,EAAAtqB,MAAAH,KAAAE,UAAA,EAlBqB,IAkBnBN,MAAK,WACN,GAAsD,OAAlDwG,GAAGqL,OAAOC,QAAQnK,cAAcoK,cAAwB,CAE1DiZ,GAAGK,oBAAoB,CACrBC,QAAS,IACTC,UAAW,IACXC,SAAU,CAAC,GACXC,SAAU,CAAC,IAAK,MAGlBT,GAAGU,wBAAwB,CACzBC,SAAU,wBACVC,KAAM,WACNC,KAAM,WACNC,QAAS,CAAC,KAAM,MAChBC,KAAM,CAAC,UAAW,SAAU,WAAY,WAAY,aAAc,UAAW,WAE7EC,UAAW,CAAC,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,MAChDC,OAAQ,CACN,SACA,UACA,OACA,QACA,MACA,OACA,OACA,SACA,YACA,UACA,WACA,YAGFC,YAAa,CAAC,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,QAE/F,CACF,IAEAC,OAAQ,MAQVhjB,WAAY,CACVpC,KAAM,CACJsC,MAAO,CAAC,aAAc,MAAO,OAAQ,UAAW,MAAO,cACvDC,KAAM,SASVI,QAAS,CACP0iB,iBAAkB,KAClBC,KAAM,KACNC,SAAU,KACVC,SAAU,KACVC,OAAQ,KACRC,OAAQ,KACRC,QAAS,KACTC,QAAS,KACTC,gBAAiB,KAEX5R,MAAK,WAAG,IAAA3O,EAAAjM,KAAA,OAAAH,kBAAA8P,sBAAAC,MAAA,SAAA6c,IAAA,IAAAlkB,EAAAmkB,EAAA/K,EAAAgL,EAAAC,EAAAC,EAAA9V,EAAA+V,EAAA,OAAAnd,sBAAAK,MAAA,SAAA+c,GAAA,cAAAA,EAAA7c,KAAA6c,EAAA5nB,MAAA,QACNoD,EAAU0D,EAAK0K,UACTxG,aAAa,SACvBlE,EAAK0S,QAAQpW,EAAQ+C,aAAa,SACnCyhB,EAAA5nB,KAAA,SACK0B,GAAGC,GAAGC,UAAUoI,KAAKuO,WAAWsP,MAAMxC,UAAS,OACjDve,EAAK0M,aACP1M,EAAKghB,YAEP,GAAI1kB,EAAQ4H,aAAa,qBAAoE,SAA7C5H,EAAQ+C,aAAa,oBAAgC,CAC7FohB,EAAU,SAAW7lB,GAAGC,GAAGC,UAAUoI,KAAKuO,WAAWsP,MAAMzC,cAE3D5I,EAASxY,SAASmO,cAAc,cAC/B5M,UAAUQ,IAAI,eACfyhB,EAAgBxjB,SAASmO,cAAc,eAC/B/G,aAAa,UAAW,UACtCoc,EAAc/a,YAAW,SAAAR,OAAYsb,EAAO,UAC5C/K,EAAOpT,YAAYoe,IACbC,EAAOzjB,SAASmO,cAAc,YAC/B1F,YAAc,qBACnB+P,EAAOpT,YAAYqe,GACnBrkB,EAAQ4C,cAAcmK,aAAaqM,EAAQpZ,IAGrCskB,EAAc1jB,SAASmO,cAAc,eAC/B/G,aAAa,OAAQ,QACjCsc,EAAYtc,aAAa,SAAU,oBACnCsc,EAAYtc,aAAa,UAAW,UACpCsc,EAAYtc,aAAa,YAAa,UACtCsc,EAAYjb,YAAc+a,EAAc/a,YACxCrJ,EAAQ4C,cAAcoD,YAAYse,GAG9B9V,EAASxO,EACb,KAAOwO,GAA4C,YAAlCA,EAAO3L,SAAS3C,eAC/BsO,EAASA,EAAO5L,cAElB,GAAI4L,EAAQ,EACJ+V,EAAa/V,EAAOxP,eACfmH,YAAY,UAAU,WAC/B,IAAMqJ,EAAK,IAAI0J,YAAY,YAAa,CACtCpE,OAAQ,CACN/d,MAAO,EACP+hB,OAAQpV,KAGZ0gB,EAAcjL,cAAc3J,EAC9B,IAGAhB,EAAOrG,iBAAiB,eAAe,SAAAqH,GACrC+U,EAAWzQ,cAActE,GAEzBA,EAAGuE,iBACL,GACF,CACF,CAEAzV,GAAGC,GAAGC,UAAUoI,KAAKuO,WAAWsP,MAAMzC,eAAe,wBAAAwC,EAAAnc,OAAA,GAAA6b,EAAA,IA1DzC5sB,EA2Dd,EAEAgZ,cAAa,SAACvZ,GACRA,GAA8B,WAArBmC,QAAO2O,OAAOwa,KACzB5qB,KAAKitB,WAET,EAEAA,UAAS,WAAG,IAAArgB,EAAA5M,KACV,KAAIA,KAAKusB,SAAW3kB,KAAKC,MAAQ7H,KAAKusB,QAAU,KAAhD,CAIA,IACIW,EADEC,EAAStmB,GAAGqF,GAAGC,mBAAmB8X,YAElCmJ,EAAWptB,KAAK2W,SAAS7L,iBAAiB,oBAC1CuiB,EAASrtB,KAAK2W,SAASrL,aAAa,WAAa,MACjDgiB,EAAe,CAAC,EACtB,OAAQD,GACN,IAAK,OACHC,EAAaC,OAAS3C,GAAG4C,WAAWC,MAAM,GAC1CH,EAAa1U,MAAQ,QAAUyU,EAC/B,MAEF,IAAK,MACHC,EAAaC,OAAS3C,GAAG8C,SAASD,MAAM,GACxCH,EAAa1U,MAAQ,QAAUyU,EAC/B,MAEF,IAAK,OACHC,EAAaC,OAAS3C,GAAG+C,QAAQF,MAAM,GACvCH,EAAa1U,MAAQ,QAAUyU,EAC/B,MAEF,IAAK,QACHC,EAAaC,OAAS3C,GAAG+C,QAAQF,MAAM,GACvCH,EAAa1U,MAAQ,QAAUyU,EAC/B,MAEF,IAAK,OACHC,EAAaC,OAAS3C,GAAG+C,QAAQF,MAAM,IACvCH,EAAa1U,MAAQ,QAAUyU,EAGnC,IAAMO,EAAW,GACjB5tB,KAAKwsB,gBAAkB,CAAC,EAAE,IACE5hB,EADFC,EAAAzG,2BACNgpB,GAAQ,QAAA/Y,EAAA,WAe1B,IAf4B,IAYxBnD,EACAzL,EACAnG,EAdGuuB,EAAOjjB,EAAAtL,MACVwuB,EAAK9sB,OAAO+sB,OAAO,CACrBC,UAAU,EACVC,MAAO,UACPtnB,KAAM,OACNunB,MAAO,GACPtV,MAAO,WACPuV,IAAK,MACLZ,OAAQ3C,GAAG8C,SAASD,MAAM,GAC1BW,MAAO,UACNd,GAKM5sB,EAAI,EAAGA,EAAImtB,EAAQ/Y,WAAWnU,OAAQD,IAAK,CAGlD+E,GAFAyL,EAAO2c,EAAQ/Y,WAAWuZ,KAAK3tB,IAEnB+E,KACT6oB,MAAM,KACNC,KAAI,SAACC,EAAM9tB,GACV,OAAIA,EAAI,EACN,GAAA0Q,OAAUod,EAAKtkB,UAAU,EAAG,GAAGukB,eAAard,OAAGod,EAAKtkB,UAAU,IAEzDskB,CACT,IACCE,KAAK,IAEM,UADdpvB,EAAQ4R,EAAK5R,QACqB,UAAVA,EACtBA,EAAkB,SAAVA,EACC,QAAQqG,KAAKrG,GACtBA,EAAQoV,SAASpV,GACR,WAAWqG,KAAKrG,KACzBA,EAAQqvB,WAAWrvB,IAErBwuB,EAAGroB,GAAQnG,CACb,CACA,IAAIsZ,EAAQ,IAAIhR,KAChBgR,EAAMgW,QAAQhW,EAAMiW,UAAS,OAO7B,KANA3B,EAAMC,EAAO2B,gBAAgB,SAAU,CACrCC,IAAKjB,EAAGiB,IACRnW,MAAOkV,EAAGlV,MACVuV,IAAKL,EAAGK,OAGA,iBAGVvhB,EAAK4f,gBAAgBsB,EAAGiB,KAAOjB,EAC/BF,EAAShlB,KACP/B,GAAGqF,GAAG8iB,MAAMC,MAAM/B,EAAK,MAAM,EAAOC,GACjCvtB,MAAK,SAAAmQ,GACAod,EAAO+B,6BAA6Bnf,KACtCA,EAAOod,EAAOgC,kBAAkBpf,EAAM+d,IAExC,MAAO,CACL/d,KAAMA,EACN+d,GAAIA,EAER,IAAE,OACK,SAAAztB,GACLuM,EAAKwiB,eAAetB,EAAIZ,EAAK7sB,EAC/B,IAEN,EAhEA,IAAAwK,EAAAjG,MAAAgG,EAAAC,EAAAhG,KAAApF,MAAA4U,GAgEC,OAAAhU,GAAAwK,EAAA3G,EAAA7D,EAAA,SAAAwK,EAAA9F,GAAA,CACDpF,QAAQ0vB,IAAIzB,GAAUhuB,MAAK,SAAA0vB,GACzB1iB,EAAK2iB,WAAWD,EAClB,GArGA,CAsGF,EAEAC,WAAU,SAACxf,GAAM,IAAAL,EAAA1P,KACf,GAAKA,KAAK2Y,YAAV,CAGA,IAEsB3N,EAFlBwkB,EAAY,GAAGvkB,EAAA7G,2BAED2L,GAAI,IAAtB,IAAA9E,EAAArG,MAAAoG,EAAAC,EAAApG,KAAApF,MAAwB,KAAf8Z,EAAKvO,EAAA1L,MACRmwB,EAASlW,EAAMxJ,KACnB,GAAe,OAAX0f,EAAiB,KACaxe,EADbE,EAAA/M,2BACOqrB,GAAM,IAAhC,IAAAte,EAAAvM,MAAAqM,EAAAE,EAAAtM,KAAApF,MAAkC,KAAAiwB,EAAAC,eAAA1e,EAAA3R,MAAA,GAAxBmsB,EAAIiE,EAAA,GAAEpwB,EAAKowB,EAAA,GACnBF,EAAU5mB,KAAK,CACbmmB,IAAKxV,EAAMuU,GAAGiB,IACdtD,KAAMlS,EAAMuU,GAAG8B,oBAAsB,GAAuB,gBAAlBrW,EAAMuU,GAAGnnB,KAC/CwZ,KAAK0P,MAAMpE,EAAOlS,EAAMuU,GAAG8B,qBAAuBrW,EAAMuU,GAAG8B,oBAAsBnE,EACrFnsB,SAEJ,CAAC,OAAAe,GAAA8Q,EAAAjN,EAAA7D,EAAA,SAAA8Q,EAAApM,GAAA,CACH,CACF,CAAC,OAAA1E,GAAA4K,EAAA/G,EAAA7D,EAAA,SAAA4K,EAAAlG,GAAA,CACD,IAAI+qB,EAASlF,GAAGmF,IAAIP,GAAW,SAAAQ,GAAC,OAAKA,EAAE1wB,KAAK,IACxC2wB,EAASrF,GAAG7I,IAAIyN,GAAW,SAAAQ,GAAC,OAAKA,EAAE1wB,KAAK,IAAI,EAC5CwwB,EAAS,IACXA,GAAU,GAGZ,IAAMI,EAASlwB,KAAK2W,SAASxG,aAAa,YAAcnQ,KAAK2W,SAASrL,aAAa,YAAc,KAC7F6kB,EAAa,KACjB,GAAInwB,KAAK2W,SAASxG,aAAa,YAAa,CAC1C,IAAMigB,EAAepwB,KAAK2W,SAASrL,aAAa,YAChD6kB,EAAa,SAAA3E,GAAI,OAAIZ,GAAGuF,WAAWC,EAAdxF,CAA4BY,EAAK,CACxD,MAEE2E,EAAanwB,KAAKqwB,gBAAgB,CAChC,CACE,MACA,SAAUL,GACR,OAAOA,EAAEM,iBACX,GAGF,CACE,MACA,SAAUN,GACR,OAAOA,EAAEO,YACX,GAGF,CACE,QACA,SAAUP,GACR,OAAOA,EAAEQ,YACX,GAGF,CACE,KACA,SAAUR,GACR,OAAOA,EAAES,UACX,GAGF,CACE,QACA,SAAUT,GACR,OAAOA,EAAEU,UAA4B,IAAhBV,EAAEW,SACzB,GAGF,CACE,QACA,SAAUX,GACR,OAAuB,IAAhBA,EAAEW,SACX,GAGF,CACE,KACA,SAAUX,GACR,OAAOA,EAAEY,UACX,GAGF,CACE,KACA,WACE,OAAO,CACT,KAKN5wB,KAAKosB,OAASpsB,KAAK6wB,WAAWrB,EAAW,CACvCnN,EAAG,SAAA2N,GAAC,OAAIA,EAAEvE,IAAI,EACdjJ,EAAG,SAAAwN,GAAC,OAAIA,EAAE1wB,KAAK,EACfwxB,EAAG,SAAAd,GAAC,OAAIA,EAAEjB,GAAG,EACbd,MAAO,SAAA+B,GACL,OAAOA,GAAKtgB,EAAK8c,gBAAgBwD,GAAG/B,KACtC,EACAC,MAAO,SAAA8B,GACL,OAAOnpB,GAAGQ,KAAK3F,OAAOgb,QAAQwT,EAAQF,EAAE1wB,MAC1C,EACAyxB,WAAY/wB,KAAK2W,SAASxG,aAAa,SAAWnQ,KAAK2W,SAASrL,aAAa,SAAW,KAExF0lB,QAASpG,GAAGqG,OAAOzB,GAAW,SAAAQ,GAAC,OAAIA,EAAEvE,IAAI,IACzCyF,QAAS,CAACpB,EAAQG,GAClBjC,SAAU,SAAAgC,GACR,OAAOtgB,EAAK8c,gBAAgBwD,GAAGhC,QACjC,EACAmD,aAAc,SACdC,QAASjB,IAGXnwB,KAAKusB,QAAU3kB,KAAKC,KA7GpB,CA8GF,EAEAwoB,gBAAe,SAACgB,GAiBd,OAAO,SAAA7F,GAAI,OAAIZ,GAAGuF,WAblB,SAAqB3E,GAInB,IAHA,IAAI9qB,EAAI,EACJ4wB,GAAQ,EACRC,EAAM,MACFD,GAAS5wB,EAAI2wB,EAAa1wB,QAAQ,EACxC2wB,EAAQD,EAAa3wB,GAAG,GAAG8qB,MAEzB+F,EAAMF,EAAa3wB,GAAG,IAExBA,GACF,CACA,OAAO6wB,CACT,CAC6BC,CAAYhG,GAA1BZ,CAAiCY,EAAK,CACvD,EAEA4D,eAAc,SAACtB,EAAI5uB,EAAKmB,GACtBwG,GAAGH,KAAK+qB,cAAcC,OAAOC,gBAAgB,kBAAmB,CAC9DzD,MAAO9nB,GAAGqL,OAAOC,QAAQkgB,GAAG,uBAC5BC,SAAU,SACVlmB,QAASvF,GAAGqL,OAAOC,QAAQkgB,GAAG,oCAAqC7e,KAAK+e,UAAU5yB,GAAMmB,KAG1FL,KAAKT,MAAM,uBAAwBuuB,EAAI5uB,EAAKmB,EAC9C,EAWAwwB,WAAU,SAAC9gB,EAAMgiB,GAAG,IAAAje,EAAA9T,KACb6G,GAAGC,GAAGC,UAAUoI,KAAKuO,WAAWsP,MAAMjB,SACzCllB,GAAGC,GAAGC,UAAUoI,KAAKuO,WAAWsP,MAAMjB,OAAS,CAC7C1J,EAAG,SAAA2N,GAAC,OAAIA,EAAE,EAAE,EACZxN,EAAG,SAAAwN,GAAC,OAAIA,EAAE,EAAE,EACZc,EAAG,kBAAM,CAAC,EACVC,gBAAYzwB,EACZ4tB,WAAO5tB,EACP0xB,aAAS1xB,EACT8tB,MAAOxD,GAAGqH,YACVC,UAAW,GACXC,YAAa,GACbC,aAAc,GACdC,WAAY,GACZlQ,MAAO,IACPC,OAAQ,IACRkQ,MAAO1H,GAAG2H,UACVvB,aAAS1wB,EACTkyB,YAAQlyB,EACR8wB,aAAS9wB,EACTmyB,MAAO7H,GAAG8H,YACVxB,aAAS5wB,EACTqyB,YAAQryB,EACRsyB,aAAStyB,EACTuyB,YAAQvyB,EACRwyB,aAASxyB,EACT2tB,MAAO,eACP8E,mBAAezyB,EACf0yB,oBAAgB1yB,EAChB2yB,YAAa,IACbC,mBAAe5yB,EACf6wB,aAAc,WACdnD,cAAU1tB,EACV6yB,SAAU,KAGd,IAAMxmB,EAAS3L,OAAO+sB,OAAO,CAAC,EAAGlnB,GAAGC,GAAGC,UAAUoI,KAAKuO,WAAWsP,MAAMjB,OAAQgG,GAE/EplB,EAAO6lB,OAAS,CAAC7lB,EAAO0lB,WAAY1lB,EAAOwV,MAAQxV,EAAOwlB,aAC1DxlB,EAAOgmB,OAAS,CAAChmB,EAAOyV,OAASzV,EAAOylB,aAAczlB,EAAOulB,WAG7D,IAAMkB,EAAIxI,GAAG2D,IAAIxe,EAAMpD,EAAO0V,GACxBgR,EAAIzI,GAAG2D,IAAIxe,EAAMpD,EAAO6V,GACxB8Q,EAAI1I,GAAG2D,IAAIxe,EAAMpD,EAAOmkB,GACxByC,EAAI3I,GAAG2D,IAAIxe,GAAM,SAAAigB,GAAC,OAAIA,CAAC,SACN1vB,IAAnBqM,EAAOqlB,UACTrlB,EAAOqlB,QAAU,SAAChC,EAAGtvB,GAAC,OAAMge,MAAM0U,EAAE1yB,MAAQge,MAAM2U,EAAE3yB,GAAG,QAKlCJ,IAAnBqM,EAAOqkB,UACTrkB,EAAOqkB,QAAUpG,GAAGqG,OAAOmC,SAEN9yB,IAAnBqM,EAAOukB,UACTvkB,EAAOukB,QAAU,CAAC,EAAGtG,GAAG7I,IAAIsR,GAAG,SAAArD,GAAC,MAAkB,iBAANA,GAAkBA,EAAIA,CAAC,WAE9C1vB,IAAnBqM,EAAOmmB,UACTnmB,EAAOmmB,QAAUQ,GAEnB3mB,EAAOmmB,QAAU,IAAIlI,GAAG4I,UAAU7mB,EAAOmmB,SAGzC,IAAMW,EAAI7I,GAAG8I,MAAMN,EAAEzyB,QAAQif,QAAO,SAAAlf,GAAC,OAAIiM,EAAOmmB,QAAQa,IAAIL,EAAE5yB,GAAG,IAG7DkzB,EAASjnB,EAAO2lB,MAAM3lB,EAAOqkB,QAASrkB,EAAO6lB,QAC7CqB,EAAU,SAAA7D,GAAC,OAAI,CAAC,EAChB8D,EAASnnB,EAAO8lB,MAAM9lB,EAAOukB,QAASvkB,EAAOgmB,QAC3CpF,EAAS5gB,EAAOwV,MAAQ,GACxB4R,EAASpnB,EAAOyV,OAAS,GACzB4R,EAAQpJ,GACXqJ,WAAWL,GACXM,MAAM3G,GACN4G,cAAc,GACdC,WAAWznB,EAAOykB,SACfiD,EAAQzJ,GAAG0J,SAASR,GAAQI,MAAMH,EAAQpnB,EAAOimB,SAGjD2B,OAAqBj0B,IAAjBqM,EAAOuhB,MAAsBoF,EAAqB,OAAjB3mB,EAAOuhB,MAAiB,KAAOtD,GAAG2D,IAAIxe,EAAMpD,EAAOuhB,OAE9FtD,GAAG4J,OAAOx0B,KAAK2W,UAAU6d,OAAO,OAAOzpB,SAEvC,IAKI0pB,EALEC,EAAU9J,GAAG4J,OAAOx0B,KAAK2W,UAC5Bge,OAAO,OACPpd,MAAM,UAAW,GACjBrG,KAAK,QAAS,WA0CXmP,EAAMuK,GACT4J,OAAOx0B,KAAK2W,UACZge,OAAO,OACPzjB,KAAK,UAAW,CAAC,EAAG,EAAGvE,EAAOwV,MAAOxV,EAAOyV,SAC5ClR,KAAK,QAAS,qDACdqG,MAAM,8BAA+B,eACrCuG,GAAG,gBApBiB,WACrB8W,EAAI1jB,KAAK,UAAW,MACpBwjB,EAAQnd,MAAM,UAAW,EAC3B,IAkBGuG,GAAG,eA7Ce,SAAApS,GACnB,IAAAmpB,EAAiBjK,GAAGkK,QAAQppB,GAAMqpB,EAAApF,eAAAkF,EAAA,GAA3BG,EAAED,EAAA,GAAEE,EAAEF,EAAA,GACPr0B,EAAIkqB,GAAGsK,MAAMzB,GAAG,SAAA/yB,GAAC,OAAIyf,KAAKgV,MAAMvB,EAAOR,EAAE1yB,IAAMs0B,EAAIlB,EAAOT,EAAE3yB,IAAMu0B,EAAG,IACrEG,EAAethB,EAAK6C,SAAS0e,YAAc1oB,EAAOwV,MAClDmT,EAAexhB,EAAK6C,SAAS4e,aAAe5oB,EAAOyV,OAEnDoT,GAAkBlC,EAAE5yB,GA7BT,IA6B6C,mBAAtBmzB,EAAQ4B,UAA2B5B,EAAQ4B,YAAY,EAAI,GACnGb,EAAI1jB,KAAK,YAAW,aAAAE,OAAewiB,EAAOR,EAAE1yB,IAAM80B,EAAO,KAAApkB,OAAI0iB,EAAOT,EAAE3yB,IAAG,MACzE,GAAI6zB,EAAG,CACL,IAAMmB,EAAShB,EAAQiB,OACjBC,EAAajpB,EAAOykB,QAAQ,IAAIxpB,KAAKwrB,EAAE1yB,KACvCmiB,EAAMoS,EAAGK,EAAeI,EAAOH,aAAe,GAChD3S,EAAQoS,EAAGI,EAAeM,EAAOL,YAAevhB,EAAK6C,SAAS0e,YAAcL,EAAGI,EAAeM,EAAOL,YAAcL,EAAGI,EAEpHl2B,EAAMo0B,EAAE5yB,GACRm1B,EAAY/hB,EAAK0Y,gBAAgBttB,IAAQ4U,EAAK0Y,gBAAgBttB,GAAKgvB,MAAQpa,EAAK0Y,gBAAgBttB,GAAKgvB,MAAQ,KAAO,GAC1HwG,EACGoB,KAAI,GAAA1kB,OAAIwkB,EAAU,SAAAxkB,OAAQykB,GAASzkB,OAAGmjB,EAAE7zB,KACxC6W,MAAM,OAAQqL,EAAO,MACrBrL,MAAM,MAAOsL,EAAM,KACxB,CACAxC,EAAI0V,SAAS,QAASxC,EAAE7yB,IAAIs1B,SAAS,QAAS,CAAE1R,SAAS,GAC3D,IAwBGxG,GAAG,gBAjBc,SAAA/F,GAClB,GAAIA,EAAGke,gBAAkBvB,EAAQiB,OAAQ,CACvCf,EAAI1jB,KAAK,UAAW,QACpBmP,EAAIsV,OAAOr2B,MAAQ,KACnB+gB,EAAI2V,SAAS,QAAS,CAAC1R,SAAS,IAChCoQ,EAAQnd,MAAM,UAAW,EAC3B,CACF,IAWGuG,GACC,aACA,SAAApS,GACE,IAAI8W,EAAI9W,EAAMwqB,cAAc,GAAGzT,QAC/B,GAAIgS,EAAU,CACZ,IAAM0B,EAAW1B,EAASkB,OAAOS,wBAC7B5T,EAAI2T,EAAS3T,GAAKA,EAAI2T,EAAS3T,EAAI2T,EAAS/T,QAC9C1W,EAAMwM,gBAEV,CACF,GACA,CAAEme,SAAS,IAGTC,EAAWt2B,KAAK2W,SAASxG,aAAa,aAAenQ,KAAK2W,SAASrL,aAAa,aAAe,KACjGgrB,EAASvhB,SAAS,MACpBsL,EAAIsU,OAAO,KACRzjB,KAAK,QAAS,QACdA,KAAK,YAAW,eAAAE,OAAiBzE,EAAOyV,OAASzV,EAAOylB,aAAY,MACpEnwB,KAAK2oB,GAAGqJ,WAAWL,GAAQM,MAAM3G,GAC/BgJ,UAAU5pB,EAAOyV,OAASzV,EAAOylB,aAAezlB,EAAOulB,WACvDkC,WAAW,KAGdkC,EAASvhB,SAAS,MACpBsL,EAAIsU,OAAO,KACRzjB,KAAK,QAAS,QACdA,KAAK,YAAW,aAAAE,OAAezE,EAAO0lB,WAAU,QAChDpwB,KAAK2oB,GAAG0J,SAASR,GAAQI,MAAMH,GAC7BwC,UAAU5pB,EAAOwV,MAAQxV,EAAOwlB,YAAcxlB,EAAO0lB,YACrD+B,WAAW,KAIlB,IAAMoC,GAAax2B,KAAK2W,SAASxG,aAAa,gBAAgE,SAA9CnQ,KAAK2W,SAASrL,aAAa,eACrFmrB,GAAaz2B,KAAK2W,SAASxG,aAAa,gBAAgE,SAA9CnQ,KAAK2W,SAASrL,aAAa,eACvFkrB,GACFnW,EACGsU,OAAO,KACPzjB,KAAK,YAAW,eAAAE,OAAiBzE,EAAOyV,OAASzV,EAAOylB,aAAY,MACpEnwB,KAAK+xB,GAENyC,GACFpW,EACGsU,OAAO,KACPzjB,KAAK,YAAW,aAAAE,OAAezE,EAAO0lB,WAAU,QAChDpwB,KAAKoyB,GACLpyB,MAAK,SAAAy0B,GAAC,OAAIA,EAAElC,OAAO,WAAWzpB,QAAQ,IACtC9I,MAAK,SAAAy0B,GAAC,OACLA,EACG/B,OAAO,QACPzjB,KAAK,KAAMvE,EAAO0lB,YAClBnhB,KAAK,IAAK,IACVA,KAAK,OAAQ,gBACbA,KAAK,cAAe,SACpBhD,KAAKvB,EAAOkmB,OAAO,IAIxBlmB,EAAOokB,YACT1Q,EAAIsU,OAAO,QACRzjB,KAAK,IAAMvE,EAAOwV,MAAQ,GAC1BjR,KAAK,IAAKvE,EAAOulB,WACjBhhB,KAAK,QAAS,eACdhD,KAAKvB,EAAOokB,YAGjB,IAIejf,EAJT6kB,EAAa,IAAI9Y,IACjB+Y,EAAa,IAAI/Y,IACjBgZ,EAAY,IAAIhZ,IAChBiZ,EAAmB,IAAIjZ,IAAM9L,EAAA3N,2BACrBqvB,GAAC,IAAf,IAAA1hB,EAAAnN,MAAAkN,EAAAC,EAAAlN,KAAApF,MAAiB,KAARiB,EAACoR,EAAAxS,MACFy3B,EAAMzD,EAAE5yB,GACd,GAAuC,SAAnCV,KAAKwsB,gBAAgBuK,GAAKpwB,MAA8C,mBAApBgG,EAAOqhB,UAA2BrhB,EAAOqhB,SAAS+I,GAAM,CACzGH,EAAWjD,IAAIoD,IAClBH,EAAWrpB,IAAIwpB,EAAK,IAEtBH,EAAWI,IAAID,GAAKnuB,KAAKlI,EAC3B,CACA,OAAQV,KAAKwsB,gBAAgBuK,GAAKpwB,MAChC,IAAK,OACEgwB,EAAWhD,IAAIoD,IAClBJ,EAAWppB,IAAIwpB,EAAK,IAEtBJ,EAAWK,IAAID,GAAKnuB,KAAKlI,GACzB,MAEF,IAAK,MACEm2B,EAAUlD,IAAIoD,IACjBF,EAAUtpB,IAAIwpB,EAAK,IAErBF,EAAUG,IAAID,GAAKnuB,KAAKlI,GACxB,MAEF,IAAK,cACEo2B,EAAiBnD,IAAIoD,IACxBD,EAAiBvpB,IAAIwpB,EAAK,IAE5BD,EAAiBE,IAAID,GAAKnuB,KAAKlI,GAGrC,CAAC,OAAAL,GAAA0R,EAAA7N,EAAA7D,EAAA,SAAA0R,EAAAhN,GAAA,CAED,GAAI4xB,EAAWM,KAAO,EAAG,CACvB,IACiChjB,EAD3BijB,EAAgB,CAAC,EAAE9iB,EAAAhQ,2BACTuyB,EAAWzhB,QAAM,IAAjC,IAAAd,EAAAxP,MAAAqP,EAAAG,EAAAvP,KAAApF,MAAmC,KAA1BP,EAAG+U,EAAA3U,MACJ63B,EAAYn3B,KAAKwsB,gBAAgBttB,GAAKkvB,OAAS,SACrD,IAAKptB,OAAOO,UAAUmH,eAAezG,KAAKi1B,EAAeC,GAAY,CACnE,IAAIC,OAAa,EACjB,OAAQD,GACN,IAAK,SACHC,EAAgBxM,GAAGqH,YACnB,MAEF,IAAK,OACHmF,EAAgBxM,GAAGyM,UACnB,MAEF,IAAK,UACHD,EAAgBxM,GAAG0M,aAGnBF,IAEFF,EAAcC,GAAavM,GACxB2M,OACAnJ,MAAMgJ,GACN/U,GAAE,SAAA3hB,GAAC,OAAIkzB,EAAOR,EAAE1yB,GAAG,IACnB8hB,GAAE,SAAA9hB,GAAC,OAAIozB,EAAOT,EAAE3yB,GAAG,IAE1B,CACF,CAAC,OAAAL,GAAA+T,EAAAlQ,EAAA7D,EAAA,SAAA+T,EAAArP,GAAA,CAED0vB,EAAWpU,EACRsU,OAAO,KACPzjB,KAAK,OAAQ,QACbA,KAAK,SAAkC,iBAAjBvE,EAAOshB,MAAqBthB,EAAOshB,MAAQ,MACjE/c,KAAK,iBAAkBvE,EAAOomB,eAC9B7hB,KAAK,kBAAmBvE,EAAOqmB,gBAC/B9hB,KAAK,eAAgBvE,EAAOsmB,aAC5B/hB,KAAK,iBAAkBvE,EAAOumB,eAC9BsE,UAAU,QACVznB,KAAK4mB,GACLjI,KAAK,QACLnX,MAAM,iBAAkB5K,EAAOwkB,cAC/BjgB,KAAK,SAAkC,mBAAjBvE,EAAOshB,MAAuB,SAAAprB,GAAC,OAAI8J,EAAOshB,MAAMprB,EAAE,GAAG,EAAG,MAC9EqO,KAAK,KAAK,SAAA8e,GACT,IAAMmH,EAAYrjB,EAAK0Y,gBAAgBwD,EAAE,IAAI5B,OAAS,SAEtD,OADa8I,EAAcC,IAAcD,EAAcO,QAC3CzH,EAAE,GAChB,GACJ,CAGA,GAAI4G,EAAWK,KAAO,EAAG,CACvB,IACiCS,EAD3BC,EAAgB,CAAC,EAAEC,EAAAxzB,2BACTwyB,EAAW1hB,QAAM,IAAjC,IAAA0iB,EAAAhzB,MAAA8yB,EAAAE,EAAA/yB,KAAApF,MAAmC,KAA1BwS,EAAGylB,EAAAp4B,MACJu4B,EAAY73B,KAAKwsB,gBAAgBva,GAAKmc,OAAS,SACrD,IAAKptB,OAAOO,UAAUmH,eAAezG,KAAK01B,EAAeE,GAAY,CACnE,IAAIC,OAAa,EACjB,OAAQD,GACN,IAAK,SACHC,EAAgBlN,GAAGqH,YACnB,MAEF,IAAK,OACH6F,EAAgBlN,GAAGyM,UACnB,MAEF,IAAK,UACHS,EAAgBlN,GAAG0M,aAGnBQ,IAEFH,EAAcE,GAAajN,GACxBmN,OACA3J,MAAM0J,GACNzV,GAAE,SAAA3hB,GAAC,OAAIkzB,EAAOR,EAAE1yB,GAAG,IACnBs3B,IAAG,kBAAMrrB,EAAOgmB,OAAO,EAAE,IACzBsF,IAAG,SAAAv3B,GAAC,OAAIozB,EAAOT,EAAE3yB,GAAG,IAE3B,CACF,CAAC,OAAAL,GAAAu3B,EAAA1zB,EAAA7D,EAAA,SAAAu3B,EAAA7yB,GAAA,CAEDsb,EACGsU,OAAO,KACPzjB,KAAK,SAAU,QACfA,KAAK,OAAgC,iBAAjBvE,EAAOshB,MAAqBjuB,KAAKk4B,SAAevrB,EAAOshB,MAAO,MAAQ,MAC1FuJ,UAAU,QACVznB,KAAK6mB,GACLlI,KAAK,QACLnX,MAAM,iBAAkB5K,EAAOwkB,cAC/BjgB,KAAK,OAAgC,mBAAjBvE,EAAOshB,MAAuB,SAAAprB,GAAC,OAAIiR,EAAKokB,SAAevrB,EAAOshB,MAAMprB,EAAE,IAAK,KAAK,EAAG,MACvGqO,KAAK,KAAK,SAAA8e,GACT,IAAMmH,EAAYrjB,EAAK0Y,gBAAgBwD,EAAE,IAAI5B,OAAS,SAEtD,OADauJ,EAAcR,IAAcQ,EAAcF,QAC3CzH,EAAE,GAChB,GACJ,CAEA,GAAI6G,EAAUI,KAAO,EAAG,CACtB,IAAMkB,EAAYvN,GAAGwN,YAAYC,OAAOjF,GAAGM,MAAM/mB,EAAO6lB,QAAQ8F,QAAQ3rB,EAAOwmB,UAC/E9S,EACGsU,OAAO,KACP6C,UAAU,KACVznB,KAAK8mB,GACLnI,KAAK,KACLxd,KAAK,OAAgC,mBAAjBvE,EAAOshB,MAAuB,SAAA+B,GAAC,OAAIlc,EAAKokB,SAAevrB,EAAOshB,MAAM+B,EAAE,IAAK,KAAK,EAAG,MACvGwH,UAAU,QACVznB,MAAK,SAAAigB,GACJ,OAAOA,EAAE,GAAGzB,KAAI,SAAA/P,GACd,MAAO,CACLtf,IAAK8wB,EAAE,GACP1wB,MAAOkf,EAEX,GACF,IACCkQ,KAAK,QACLxd,KAAK,KAAK,SAAA8e,GAAC,OAAImI,EAAU/E,EAAEpD,EAAE1wB,OAAO,IACpC4R,KAAK,KAAK,SAAA8e,GAAC,OAAI8D,EAAOT,EAAErD,EAAE1wB,OAAO,IACjC4R,KAAK,UAAU,SAAA8e,GAAC,OAAIrjB,EAAOgmB,OAAO,GAAKmB,EAAOT,EAAErD,EAAE1wB,OAAO,IACzD4R,KAAK,QAASinB,EAAU1C,YAC7B,CAEA,IAAMb,EAAMvU,EAAIsU,OAAO,KAAKzjB,KAAK,UAAW,QAAQA,KAAK,OAAQ,gBAEjE0jB,EAAID,OAAO,UAAUzjB,KAAK,IAAK,KAE/B0jB,EACGD,OAAO,QACPzjB,KAAK,cAAe,cACpBA,KAAK,YAAa,IAClBA,KAAK,cAAe,UACpBA,KAAK,KAAM,GAEd,OAAOlQ,OAAO+sB,OAAO1N,EAAIsV,OAAQ,CAAEr2B,MAAO,MAC5C,EASA44B,SAAc,SAACjK,EAAO/Q,GACpB,OAAI+Q,EAAMjY,WAAW,QACZ,QAAUiY,EAAM/jB,UAAU,EAAG+jB,EAAMttB,OAAO,GAAK,MAAQ+T,SAASwI,EAAS,IAAM,KAAKqb,QAAQ,GAAK,IAC/FtK,EAAMjY,WAAW,MAAyB,IAAjBiY,EAAMttB,OACjCstB,EAAQ/Q,EAEV+Q,CACT,GAQF9V,SAAQ,WACNnY,KAAKosB,OAAS,IAChB,EAEAjmB,MAAK,SAACwC,GACJuG,eAAe1I,OACbK,GAAGC,GAAGC,UAAUoI,KAAKC,WAAWrH,OAAS,QAAO,SAAAgb,GAAA,aAAAzgB,UAAAiN,EAAAwT,GAAA,IAAAzT,EAAArM,aAAAsM,GAE9C,SAAAA,IAAcnN,gBAAApC,KAAAuP,GAAA,OAAAD,EAAArN,KAAAjC,KACN2I,EACR,CAAC,OAAAxH,aAAAoO,EAAA,CAJ6C,CAClCwL,aAMlB,IAj2BDlU,GAAEC,GAAGC,UAAUoI,KAAKuO,WAAWsP,MAAMjnB,cAAgBA,CAAc,CACnE,G,miICDAK,GAAEC,UAAUC,qBAAqBP,GAwBjCK,GAAEG,MAAMC,OAAO,wCAAyC,CACvDC,OAAQI,GAAGC,GAAGC,UAAUoI,KAAKuO,WAAWC,kBACxC2M,QAASzjB,GAAGC,GAAGC,UAAUoI,KAAK8K,QAO9BlR,WAAY,CACVyvB,iBAAkB,CAChBvvB,MAAO,SACPC,KAAM,IACN/I,MAAO,2BASX2H,QAAS,CACP2wB,WAAY,GAQdnvB,QAAS,CACPovB,SAAgB,KAEhB9d,MAAK,WAAG,IAAA3O,EAAAjM,KACAuI,EAAUvI,KAAK2W,SACjBpO,EAAQ4H,aAAa,sBACvBnQ,KAAK24B,oBAAoBjkB,SAASnM,EAAQ+C,aAAa,uBAKzD,GAAa,WADA/C,EAAQ4H,aAAa,QAAU5H,EAAQ+C,aAAa,QAAU,SACrD,CACpB,IAAIoL,EAAQnO,EAAQkC,cAAc,qBAClC,IAAKiM,EAAO,EACVA,EAAQvN,SAASmO,cAAc,aACzB/G,aAAa,QAAS,QACxBhI,EAAQ4H,aAAa,UACvBuG,EAAMnG,aAAa,QAAShI,EAAQ+C,aAAa,UAEnD,IACkEV,EAD5DguB,EAAY,CAAC,EAAE/tB,EAAAzG,2BACFmE,EAAQuC,iBAAiB,wBAAsB,IAAlE,IAAAD,EAAAjG,MAAAgG,EAAAC,EAAAhG,KAAApF,MAAoE,KAAzDqW,EAAIlL,EAAAtL,MACTyvB,EAAMjZ,EAAKlE,YACXwM,EAAYtI,EAAKxK,aAAa,aAC9ButB,EAAO,EACX,OAAQ/iB,EAAKxK,aAAa,SACxB,IAAK,UACHutB,EAAO,EACP,MACF,IAAK,OACHA,EAAO,EACP,MACF,IAAK,QACHA,EAAO,EACP,MACF,IAAK,YACHA,EAAO,EAGX,IAAIC,EAAcjyB,GAAGkyB,OAAOC,KAAKC,QAAQC,aAAaC,kBAAkBpK,EAAK3Q,EAAWya,EAAM/iB,EAAKxK,aAAa,YAChHstB,EAAU7J,EAAIld,QAAU,CACtBuM,UAAWA,EACXiF,KAAMwV,EACNC,YAAaA,EAAY,GAE7B,CAAC,OAAAz4B,GAAAwK,EAAA3G,EAAA7D,EAAA,SAAAwK,EAAA9F,GAAA,CACD8B,GAAGC,GAAGC,UAAUoI,KAAKuO,WAAW0b,MAAMX,aACtC,IAAMY,EAAO,QAAQxyB,GAAGC,GAAGC,UAAUoI,KAAKuO,WAAW0b,MAAMX,WACrDh4B,EAAQ,CACZ44B,KAAMA,EACNC,OAAQ,eACRvc,QAAS,sBACTwc,OAAQ,CACNC,QAAS,GAEXC,SAAUlxB,EAAQ4H,aAAa,YAAc5H,EAAQ+C,aAAa,YAAc,WAChF8Q,QAASwc,EACTJ,iBAAkBx4B,KAAK05B,uBAEzB7yB,GAAGkyB,OAAOC,KAAKC,QAAQC,aAAaS,gBAAgBpxB,EAAS9H,GAC7DT,KAAK04B,SAAiB,IAAI7xB,GAAGC,GAAGC,UAAUiyB,KAAKE,aAAaz4B,GAC5DT,KAAK04B,SAAehqB,YAAY,eAAgB1O,KAAK45B,gBAAiB55B,MACtEA,KAAK45B,kBACLljB,EAAMT,UAAS,wJAAA7E,OAA2JioB,EAAI,+BAAAjoB,OAA8BpR,KAAK04B,SAAemB,eAAc,UAC9OtxB,EAAQgG,YAAYmI,GACpBnO,EAAQmI,iBAAiB,SAAS,SAAAqH,GAC5BA,EAAGshB,KAAKxhB,QAAQnB,GAAS,GAC3BA,EAAMnP,cAAcyP,MAExB,IACA5Q,GAAGsF,MAAM+M,MAAMoH,MAAK,WAClB5T,EAAKysB,SAAeoB,aACtB,GAAG95B,KAAM,GAETA,KAAK+5B,gBAAgBrjB,GACrB1W,KAAK0O,YAAY,WAAW,WAC1BzC,EAAKysB,SAAesB,sBACtB,GACF,CACF,CACF,EAEAJ,gBAAe,WACb,IAAM3L,EAAQjuB,KAAK04B,SAAeuB,WAC5BC,EAAMjM,EAAMkM,aAAa,OACzBC,EAAInM,EAAMkM,aAAa,KAC7Bn6B,KAAKyd,SAAQ,IAAArM,OACPpR,KAAKq6B,SAAeH,EAAII,IAAElpB,OAAGpR,KAAKq6B,SAAeH,EAAIxD,IAAEtlB,OAAGpR,KAAKq6B,SAAeH,EAAIK,IAAEnpB,OAAGpR,KAAKq6B,SAAeD,IAEnH,EAEAC,SAAc,SAACD,GACb,OAAOja,KAAK0P,MAAU,IAAJuK,GACf70B,SAAS,IACTi1B,SAAS,EAAG,IACjB,EAEA5d,aAAY,SAACH,EAAand,GACxB,IAAIkB,EAASR,KAAK2W,SAASlM,cAAc,mBACnCyvB,EAAMzd,EAAYvS,UAAU,EAAG,GACrC,GAAI1J,EAAQ,CACV,IAAMgI,EAAUhI,EAAOgI,QAAQC,cACzBgyB,EAA+B,IAAvBhe,EAAY9b,OAAe+T,SAAS+H,EAAYvS,UAAU,EAAG,GAAI,IAAM,IAAM,EAE3F,GACO,YADC1B,EACN,CACEhI,EAAO+W,MAAM0W,MAAQiM,EACrB15B,EAAO+W,MAAM2F,QAAUiD,KAAK4B,IAAI0Y,EAAO,GACvC,CAEN,MAEEz6B,KAAK2W,SAASY,MAAMmjB,gBAAkBje,CAE1C,GAQFtE,SAAU,WACRnY,KAAK+Y,gBAAgB,WACvB,EAEA5S,MAAK,SAACwC,GACJuG,eAAe1I,OACbK,GAAGC,GAAGC,UAAUoI,KAAKC,WAAWrH,OAAS,QAAO,SAAAgb,GAAA,aAAAzgB,UAAAiN,EAAAwT,GAAA,IAAAzT,EAAArM,aAAAsM,GAE9C,SAAAA,IAAcnN,gBAAApC,KAAAuP,GAAA,OAAAD,EAAArN,KAAAjC,KACN2I,EACR,CAAC,OAAAxH,aAAAoO,EAAA,CAJ6C,CAClCwL,aAMlB,IA7LDlU,GAAEC,GAAGC,UAAUoI,KAAKuO,WAAW0b,MAAMrzB,cAAgBA,CAAc,C,m6HCAnEK,GAAEC,UAAUC,qBAAqBP,GAsBjCK,GAAEG,MAAMC,OAAO,uCAAwC,CACtDC,OAAQI,GAAGC,GAAGC,UAAUoI,KAAKuO,WAAWC,kBAOxCja,UAAS,SAAC6E,GACR1B,GAAAC,GAAAC,UAAAoI,KAAAuO,WAAAC,kBAAAjb,YAAAT,KAAAjC,KAAMuI,GACNvI,KAAK26B,SAAW,UAClB,EAOA5xB,WAAY,CACVwJ,GAAI,CACFtJ,MAAO,SACP0Q,UAAU,EACVxZ,MAAO,WAEPie,UAAW,gBAGb6P,MAAO,CACLhlB,MAAO,SACP0Q,UAAU,EACVxZ,MAAO,gBASXmJ,QAAS,CACPsxB,UAAe,EACfD,SAAU,KAEVE,aAAY,SAACv7B,GACX,GAAIU,KAAK26B,SAASh1B,KAAKrG,GACrB,OAAOA,EAETU,KAAKT,MAAM,mBAAoBD,GAC/B,OAAO,IACT,EAEAsb,MAAK,WACH/T,GAAAC,GAAAC,UAAAoI,KAAAuO,WAAAod,KAAAra,WAAAlf,UAAAqZ,MAAA3Y,KAAAjC,MACA,IAAMuI,EAAUvI,KAAK2W,SACrB,GAAIpO,EAAQqJ,YAAYC,OAAQ,CAC9B7R,KAAK46B,UAAgB,EACrB56B,KAAK8gB,MAAMvY,EAAQqJ,YAAYC,OACjC,KAAO,CACL,IACmBjH,EADbtG,EAAKiE,EAAQmC,UAAU+b,SAAS5b,EAAAzG,2BACrBE,GAAE,IAAnB,IAAAuG,EAAAjG,MAAAgG,EAAAC,EAAAhG,KAAApF,MAAqB,KAAZgG,EAAImF,EAAAtL,MACX,GAAImG,EAAKuQ,WAAW,QAAUvQ,EAAKuQ,WAAW,UAAW,CACvDhW,KAAK8gB,MAAMrb,GACX,KACF,CACF,CAAC,OAAApF,GAAAwK,EAAA3G,EAAA7D,EAAA,SAAAwK,EAAA9F,GAAA,CACH,CACA/E,KAAK46B,UAAgB,CACvB,EAEAG,SAAQ,SAACz7B,EAAO+b,GACd,IAAM9S,EAAUvI,KAAK2W,SACrB,GAAI3W,KAAK46B,SAAe,CAClBvf,GACF9S,EAAQmC,UAAUK,OAAOsQ,GAE3B,GAAI/b,EAAO,CAETiJ,EAAQmC,UAAUQ,IAAI5L,GAClBiJ,EAAQqJ,cACVrJ,EAAQqJ,YAAc,GAE1B,CACF,CACF,EAEAopB,YAAW,SAAC17B,EAAO+b,GACjB,IAAM9S,EAAUvI,KAAK2W,SACjB0E,GACF9S,EAAQmC,UAAUK,OAAOsQ,GAEvB/b,GACFiJ,EAAQmC,UAAUQ,IAAI5L,EAE1B,GAGF6G,MAAK,SAAC0e,GACJ3V,eAAe1I,OACbK,GAAGC,GAAGC,UAAUoI,KAAKC,WAAWrH,OAAS,OAAM,SAAAgb,GAAA,aAAAzgB,UAAAiN,EAAAwT,GAAA,IAAAzT,EAAArM,aAAAsM,GAE7C,SAAAA,IAAcnN,gBAAApC,KAAAuP,GAAA,OAAAD,EAAArN,KAAAjC,KACN6kB,EACR,CAAC1jB,aAAAoO,EAAA,OAAArQ,IAAA,qBAAA83B,IAED,WACE,MAAO,CAAC,QACV,KAAC,OAAAznB,CAAA,CAR4C,CACjCwL,aAUlB,IAnIDlU,GAAEC,GAAGC,UAAUoI,KAAKuO,WAAWod,KAAK/0B,cAAgBA,CAAc,C,m4FCAlEK,GAAEC,UAAUC,qBAAqBP,GAwBjCK,GAAEG,MAAMC,OAAO,wCAAyC,CACvDC,OAAQI,GAAGC,GAAGC,UAAUoI,KAAKuO,WAAWC,kBACxC2M,QAAS,CAACzjB,GAAGC,GAAGC,UAAUoI,KAAKqL,YAAa3T,GAAGC,GAAGC,UAAUoI,KAAK6J,UAOjE1P,QAAS,CACP0iB,iBAAkB,KAClBC,KAAM,KACNC,SAAU,KACVC,SAAU,KAEVvR,MAAK,WAAG,IAAA3O,EAAAjM,KACAuI,EAAUvI,KAAK2W,SACjBskB,EAAM1yB,EAAQkC,cAAc,gBAChC,IAAKwwB,EAAK,CACRA,EAAM9xB,SAASmO,cAAc,OAC7B/O,EAAQgG,YAAY0sB,EACtB,CACA1yB,EAAQmI,iBAAiB,SAAS,kBAAMzE,EAAKmM,SAAS,IACtD,IAAI2W,EAAMxmB,EAAQ+C,aAAa,OAC3B4vB,EAAO9qB,OAAOrG,SAASoxB,OACC,MAAxBpM,EAAI7kB,UAAU,EAAG,IAAsC,SAAxB6kB,EAAI7kB,UAAU,EAAG,KAElDgxB,GAAQ9qB,OAAOrG,SAASqxB,UAE1Bp7B,KAAKisB,KAAO,IAAIoP,IAAItM,EAAKmM,GACzB,IAAMI,EAAW/yB,EAAQ4H,aAAa,UAA8C,SAAlC5H,EAAQ+C,aAAa,SACvE,GAAIgwB,EAAU,CACZt7B,KAAKisB,KAAO,IAAIoP,IAAIx0B,GAAGqF,GAAGqvB,KAAKC,OAAOC,aAAe,SAAUrrB,OAAOrG,SAASoxB,QAE/En7B,KAAKisB,KAAKyP,aAAanuB,IAAI,MAAOhF,EAAQ+C,aAAa,OACzD,CACAtL,KAAKksB,SAAW,CAAC,EACjB,GAAI3jB,EAAQ4H,aAAa,aACvB,GAAImrB,EACFt7B,KAAKisB,KAAKyP,aAAanuB,IAAI,YAAahF,EAAQ+C,aAAa,aAAa7C,oBAE1E,OAAQF,EAAQ+C,aAAa,aAAa7C,eACxC,IAAK,QACHzI,KAAKksB,SAAwB,cAAI,SAAW9b,OAAOurB,KAAKpzB,EAAQ+C,aAAa,YAAc,IAAM/C,EAAQ+C,aAAa,aACtH,MAEF,IAAK,SACHtL,KAAKksB,SAAwB,cAAI,UAAY3jB,EAAQ+C,aAAa,YAClE,MAEF,QACEtL,KAAKT,MAAM,6BAAgCgJ,EAAQ+C,aAAa,cAKxEtL,KAAK47B,aACDrzB,EAAQ4H,aAAa,YACvBnQ,KAAK67B,WAAWnnB,SAASnM,EAAQ+C,aAAa,YAElD,EAEAswB,WAAU,WAAG,IAAAhvB,EAAA5M,KACPi7B,EAAMj7B,KAAK2W,SAASlM,cAAc,gBACtC,GAAIzJ,OAAOkU,KAAKlV,KAAKksB,UAAUvrB,OAAS,EAAG,CACzC,IAAI0M,EAAU,IAAIyuB,eAClBzuB,EAAQ0uB,aAAe,OACvB1uB,EAAQ2J,KAAK,MAAOhX,KAAKisB,KAAK1mB,YAAY,GAC1CvE,OAAOkU,KAAKlV,KAAKksB,UAAUld,SAAQ,SAAAvJ,GACjC4H,EAAQ2uB,iBAAiBv2B,EAAMmH,EAAKsf,SAASzmB,GAC/C,IACA4H,EAAQ4uB,mBAAqB,SAAA/3B,GAC3B,GAAImJ,EAAQ6uB,aAAeJ,eAAeK,MAA2B,MAAnB9uB,EAAQsB,OAAgB,CACxEssB,EAAIlM,IAAMsM,IAAIe,gBAAgB/uB,EAAQgvB,UACtCpB,EAAIqB,OAAS,WACXjB,IAAIkB,gBAAgBtB,EAAIlM,IAC1B,CACF,CACF,EACA1hB,EAAQ0B,KAAK,KACf,MACEksB,EAAIlM,IAAM/uB,KAAKisB,KAAK1mB,UAExB,EAEA6S,QAAO,WAEL,GADUpY,KAAK2W,SAASlM,cAAc,gBAC7B,CACPzK,KAAKisB,KAAKyP,aAAanuB,IAAI,IAAK,GAAK4S,KAAKqc,UAC1Cx8B,KAAK47B,YACP,CACF,EAOAvf,cAAa,SAACtE,GACRlR,GAAAC,GAAAC,UAAAoI,KAAAuO,WAAA+e,MAAAhc,WAAAlf,UAAA8a,cAAApa,KAAAjC,KAAqB+X,KACE,YAArBA,EAAGsF,OAAO7c,OACRuX,EAAGsF,OAAOE,OACZvd,KAAKoY,UAGPpY,KAAKwM,MAAM,2BAA4BuL,EAAGsF,OAAO7c,QAGvD,GAGF2F,MAAK,SAACwC,GACJuG,eAAe1I,OACbK,GAAGC,GAAGC,UAAUoI,KAAKC,WAAWrH,OAAS,QAAO,SAAAgb,GAAA,aAAAzgB,UAAAiN,EAAAwT,GAAA,IAAAzT,EAAArM,aAAAsM,GAE9C,SAAAA,IAAcnN,gBAAApC,KAAAuP,GAAA,OAAAD,EAAArN,KAAAjC,KACN2I,EACR,CAAC,OAAAxH,aAAAoO,EAAA,CAJ6C,CAClCwL,aAMlB,IAhJDlU,GAAEC,GAAGC,UAAUoI,KAAKuO,WAAW+e,MAAM12B,cAAgBA,CAAc,C,yzGCCnE4J,oBAAA,kBAAAmV,CAAA,MAAAA,EAAA,GAAAC,EAAA/jB,OAAAO,UAAAyjB,EAAAD,EAAArc,eAAAzH,EAAAD,OAAAC,gBAAA,SAAAgkB,EAAA/lB,EAAAgmB,GAAAD,EAAA/lB,GAAAgmB,EAAA5lB,KAAA,EAAA6lB,EAAA,mBAAArjB,cAAA,GAAAsjB,EAAAD,EAAA5gB,UAAA,aAAA8gB,EAAAF,EAAAG,eAAA,kBAAAC,EAAAJ,EAAAK,aAAA,yBAAAhf,EAAAye,EAAA/lB,EAAAI,GAAA,OAAA0B,OAAAC,eAAAgkB,EAAA/lB,EAAA,CAAAI,QAAAuB,YAAA,EAAAC,cAAA,EAAAC,UAAA,IAAAkkB,EAAA/lB,EAAA,KAAAsH,EAAA,aAAAnG,GAAAmG,EAAA,SAAAye,EAAA/lB,EAAAI,GAAA,OAAA2lB,EAAA/lB,GAAAI,CAAA,WAAA0Q,EAAAyV,EAAAC,EAAA3lB,EAAA4lB,GAAA,IAAAC,EAAAF,KAAAnkB,qBAAAskB,EAAAH,EAAAG,EAAAC,EAAA9kB,OAAAyB,OAAAmjB,EAAArkB,WAAAwkB,EAAA,IAAAC,EAAAL,GAAA,WAAA1kB,EAAA6kB,EAAA,WAAAxmB,MAAA2mB,EAAAR,EAAA1lB,EAAAgmB,KAAAD,CAAA,UAAAI,EAAApmB,EAAAmlB,EAAA9lB,GAAA,WAAAwH,KAAA,SAAAxH,IAAAW,EAAAmC,KAAAgjB,EAAA9lB,GAAA,OAAAkB,GAAA,OAAAsG,KAAA,QAAAxH,IAAAkB,EAAA,EAAAykB,EAAA9U,OAAA,IAAAmW,EAAA,YAAAN,IAAA,UAAAO,IAAA,UAAAC,IAAA,KAAAC,EAAA,GAAA9f,EAAA8f,EAAAlB,GAAA,kBAAAplB,IAAA,QAAAumB,EAAAvlB,OAAAmD,eAAAqiB,EAAAD,OAAAE,EAAA,MAAAD,OAAAzB,GAAAC,EAAA/iB,KAAAukB,EAAApB,KAAAkB,EAAAE,GAAA,IAAAE,EAAAL,EAAA9kB,UAAAskB,EAAAtkB,UAAAP,OAAAyB,OAAA6jB,GAAA,SAAAK,EAAAplB,GAAA,0BAAAyN,SAAA,SAAA4X,GAAApgB,EAAAjF,EAAAqlB,GAAA,SAAAznB,GAAA,OAAAa,KAAA6mB,QAAAD,EAAAznB,EAAA,gBAAA2nB,EAAAhB,EAAAiB,GAAA,SAAAC,EAAAJ,EAAAznB,EAAAO,EAAAF,GAAA,IAAAynB,EAAAf,EAAAJ,EAAAc,GAAAd,EAAA3mB,GAAA,aAAA8nB,EAAAtgB,KAAA,KAAAtD,EAAA4jB,EAAA9nB,IAAAG,EAAA+D,EAAA/D,MAAA,OAAAA,GAAA,UAAAmC,QAAAnC,IAAA0lB,EAAA/iB,KAAA3C,EAAA,WAAAynB,EAAArnB,QAAAJ,EAAA4nB,SAAAtnB,MAAA,SAAAN,GAAA0nB,EAAA,OAAA1nB,EAAAI,EAAAF,EAAA,aAAAa,GAAA2mB,EAAA,QAAA3mB,EAAAX,EAAAF,EAAA,IAAAunB,EAAArnB,QAAAJ,GAAAM,MAAA,SAAAunB,GAAA9jB,EAAA/D,MAAA6nB,EAAAznB,EAAA2D,EAAA,aAAA9D,GAAA,OAAAynB,EAAA,QAAAznB,EAAAG,EAAAF,EAAA,IAAAA,EAAAynB,EAAA9nB,IAAA,KAAAioB,EAAAnmB,EAAAjB,KAAA,WAAAV,MAAA,SAAAsnB,EAAAznB,GAAA,SAAAkoB,IAAA,WAAAN,GAAA,SAAArnB,EAAAF,GAAAwnB,EAAAJ,EAAAznB,EAAAO,EAAAF,EAAA,WAAA4nB,MAAAxnB,KAAAynB,QAAA,aAAApB,EAAAR,EAAA1lB,EAAAgmB,GAAA,IAAAxI,EAAA,iCAAAqJ,EAAAznB,GAAA,iBAAAoe,EAAA,UAAApC,MAAA,iDAAAoC,EAAA,cAAAqJ,EAAA,MAAAznB,EAAA,OAAAmoB,GAAA,KAAAvB,EAAAa,SAAAb,EAAA5mB,QAAA,KAAAooB,EAAAxB,EAAAwB,SAAA,GAAAA,EAAA,KAAAC,EAAAC,EAAAF,EAAAxB,GAAA,GAAAyB,EAAA,IAAAA,IAAArB,EAAA,gBAAAqB,CAAA,cAAAzB,EAAAa,OAAAb,EAAA2B,KAAA3B,EAAA4B,MAAA5B,EAAA5mB,SAAA,aAAA4mB,EAAAa,OAAA,uBAAArJ,EAAA,MAAAA,EAAA,YAAAwI,EAAA5mB,IAAA4mB,EAAA6B,kBAAA7B,EAAA5mB,IAAA,gBAAA4mB,EAAAa,QAAAb,EAAApV,OAAA,SAAAoV,EAAA5mB,KAAAoe,EAAA,gBAAA0J,EAAAf,EAAAT,EAAA1lB,EAAAgmB,GAAA,cAAAkB,EAAAtgB,KAAA,IAAA4W,EAAAwI,EAAAtmB,KAAA,6BAAAwnB,EAAA9nB,MAAAgnB,EAAA,gBAAA7mB,MAAA2nB,EAAA9nB,IAAAM,KAAAsmB,EAAAtmB,KAAA,WAAAwnB,EAAAtgB,OAAA4W,EAAA,YAAAwI,EAAAa,OAAA,QAAAb,EAAA5mB,IAAA8nB,EAAA9nB,IAAA,YAAAsoB,EAAAF,EAAAxB,GAAA,IAAA8B,EAAA9B,EAAAa,SAAAW,EAAAhjB,SAAAsjB,GAAA,QAAAvnB,IAAAsmB,EAAA,OAAAb,EAAAwB,SAAA,eAAAM,GAAAN,EAAAhjB,SAAA,SAAAwhB,EAAAa,OAAA,SAAAb,EAAA5mB,SAAAmB,EAAAmnB,EAAAF,EAAAxB,GAAA,UAAAA,EAAAa,SAAA,WAAAiB,IAAA9B,EAAAa,OAAA,QAAAb,EAAA5mB,IAAA,IAAA+C,UAAA,oCAAA2lB,EAAA,aAAA1B,EAAA,IAAAc,EAAAf,EAAAU,EAAAW,EAAAhjB,SAAAwhB,EAAA5mB,KAAA,aAAA8nB,EAAAtgB,KAAA,OAAAof,EAAAa,OAAA,QAAAb,EAAA5mB,IAAA8nB,EAAA9nB,IAAA4mB,EAAAwB,SAAA,KAAApB,EAAA,IAAA/mB,EAAA6nB,EAAA9nB,IAAA,OAAAC,IAAAK,MAAAsmB,EAAAwB,EAAAO,YAAA1oB,EAAAE,MAAAymB,EAAA5gB,KAAAoiB,EAAAQ,QAAA,WAAAhC,EAAAa,SAAAb,EAAAa,OAAA,OAAAb,EAAA5mB,SAAAmB,GAAAylB,EAAAwB,SAAA,KAAApB,GAAA/mB,GAAA2mB,EAAAa,OAAA,QAAAb,EAAA5mB,IAAA,IAAA+C,UAAA,oCAAA6jB,EAAAwB,SAAA,KAAApB,EAAA,UAAA6B,EAAAC,GAAA,IAAA1O,EAAA,CAAA2O,OAAAD,EAAA,SAAAA,IAAA1O,EAAA4O,SAAAF,EAAA,SAAAA,IAAA1O,EAAA6O,WAAAH,EAAA,GAAA1O,EAAA8O,SAAAJ,EAAA,IAAAjoB,KAAAsoB,WAAA1f,KAAA2Q,EAAA,UAAAgP,EAAAhP,GAAA,IAAA0N,EAAA1N,EAAAiP,YAAA,GAAAvB,EAAAtgB,KAAA,gBAAAsgB,EAAA9nB,IAAAoa,EAAAiP,WAAAvB,CAAA,UAAAjB,EAAAL,GAAA3lB,KAAAsoB,WAAA,EAAAJ,OAAA,SAAAvC,EAAA3W,QAAAgZ,EAAAhoB,WAAAyoB,OAAA,YAAAhC,EAAAiC,GAAA,GAAAA,EAAA,KAAAC,EAAAD,EAAAtD,GAAA,GAAAuD,EAAA,OAAAA,EAAA1mB,KAAAymB,GAAA,sBAAAA,EAAAvjB,KAAA,OAAAujB,EAAA,IAAAhK,MAAAgK,EAAA/nB,QAAA,KAAAD,GAAA,EAAAyE,EAAA,SAAAA,IAAA,OAAAzE,EAAAgoB,EAAA/nB,QAAA,GAAAqkB,EAAA/iB,KAAAymB,EAAAhoB,GAAA,OAAAyE,EAAA7F,MAAAopB,EAAAhoB,GAAAyE,EAAA1F,MAAA,EAAA0F,EAAA,OAAAA,EAAA7F,WAAAgB,EAAA6E,EAAA1F,MAAA,EAAA0F,CAAA,SAAAA,QAAA,SAAAA,KAAAmiB,EAAA,UAAAA,IAAA,OAAAhoB,WAAAgB,EAAAb,MAAA,UAAA2mB,EAAA7kB,UAAA8kB,EAAAplB,EAAAylB,EAAA,eAAApnB,MAAA+mB,EAAAvlB,cAAA,IAAAG,EAAAolB,EAAA,eAAA/mB,MAAA8mB,EAAAtlB,cAAA,IAAAslB,EAAAwC,YAAApiB,EAAA6f,EAAAd,EAAA,qBAAAT,EAAA+D,oBAAA,SAAAC,GAAA,IAAAC,EAAA,mBAAAD,KAAApmB,YAAA,QAAAqmB,QAAA3C,GAAA,uBAAA2C,EAAAH,aAAAG,EAAAtjB,MAAA,EAAAqf,EAAAlV,KAAA,SAAAkZ,GAAA,OAAA9nB,OAAA8B,eAAA9B,OAAA8B,eAAAgmB,EAAAzC,IAAAyC,EAAA9lB,UAAAqjB,EAAA7f,EAAAsiB,EAAAvD,EAAA,sBAAAuD,EAAAvnB,UAAAP,OAAAyB,OAAAikB,GAAAoC,CAAA,EAAAhE,EAAAkE,MAAA,SAAA7pB,GAAA,OAAA+nB,QAAA/nB,EAAA,EAAAwnB,EAAAG,EAAAvlB,WAAAiF,EAAAsgB,EAAAvlB,UAAA8jB,GAAA,kBAAArlB,IAAA,IAAA8kB,EAAAgC,gBAAAhC,EAAAmE,MAAA,SAAAxD,EAAAC,EAAA3lB,EAAA4lB,EAAAoB,QAAA,IAAAA,MAAApnB,SAAA,IAAAupB,EAAA,IAAApC,EAAA9W,EAAAyV,EAAAC,EAAA3lB,EAAA4lB,GAAAoB,GAAA,OAAAjC,EAAA+D,oBAAAnD,GAAAwD,IAAA/jB,OAAAvF,MAAA,SAAAyD,GAAA,OAAAA,EAAA5D,KAAA4D,EAAA/D,MAAA4pB,EAAA/jB,MAAA,KAAAwhB,EAAAD,GAAAlgB,EAAAkgB,EAAAnB,EAAA,aAAA/e,EAAAkgB,EAAAtB,GAAA,kBAAAplB,IAAA,IAAAwG,EAAAkgB,EAAA,qDAAA5B,EAAA5P,KAAA,SAAAsJ,GAAA,IAAA2K,EAAAnoB,OAAAwd,GAAAtJ,EAAA,WAAAhW,KAAAiqB,EAAAjU,EAAAtM,KAAA1J,GAAA,OAAAgW,EAAAkU,UAAA,SAAAjkB,IAAA,KAAA+P,EAAAvU,QAAA,KAAAzB,EAAAgW,EAAAmU,MAAA,GAAAnqB,KAAAiqB,EAAA,OAAAhkB,EAAA7F,MAAAJ,EAAAiG,EAAA1F,MAAA,EAAA0F,CAAA,QAAAA,EAAA1F,MAAA,EAAA0F,CAAA,GAAA2f,EAAA2B,SAAAT,EAAAzkB,UAAA,CAAAmB,YAAAsjB,EAAAyC,MAAA,SAAAa,GAAA,GAAAtpB,KAAAkQ,KAAA,EAAAlQ,KAAAmF,KAAA,EAAAnF,KAAA0nB,KAAA1nB,KAAA2nB,WAAArnB,EAAAN,KAAAP,MAAA,EAAAO,KAAAunB,SAAA,KAAAvnB,KAAA4mB,OAAA,OAAA5mB,KAAAb,SAAAmB,EAAAN,KAAAsoB,WAAAtZ,QAAAuZ,IAAAe,EAAA,QAAA7jB,KAAAzF,KAAA,MAAAyF,EAAA8jB,OAAA,IAAAvE,EAAA/iB,KAAAjC,KAAAyF,KAAAiZ,OAAAjZ,EAAAD,MAAA,MAAAxF,KAAAyF,QAAAnF,EAAA,EAAAsQ,KAAA,WAAA5Q,KAAAP,MAAA,MAAA+pB,EAAAxpB,KAAAsoB,WAAA,GAAAE,WAAA,aAAAgB,EAAA7iB,KAAA,MAAA6iB,EAAArqB,IAAA,OAAAa,KAAAypB,IAAA,EAAA7B,kBAAA,SAAA8B,GAAA,GAAA1pB,KAAAP,KAAA,MAAAiqB,EAAA,IAAA3D,EAAA/lB,KAAA,SAAA2pB,EAAAC,EAAAC,GAAA,OAAA5C,EAAAtgB,KAAA,QAAAsgB,EAAA9nB,IAAAuqB,EAAA3D,EAAA5gB,KAAAykB,EAAAC,IAAA9D,EAAAa,OAAA,OAAAb,EAAA5mB,SAAAmB,KAAAupB,CAAA,SAAAnpB,EAAAV,KAAAsoB,WAAA3nB,OAAA,EAAAD,GAAA,IAAAA,EAAA,KAAA6Y,EAAAvZ,KAAAsoB,WAAA5nB,GAAAumB,EAAA1N,EAAAiP,WAAA,YAAAjP,EAAA2O,OAAA,OAAAyB,EAAA,UAAApQ,EAAA2O,QAAAloB,KAAAkQ,KAAA,KAAA4Z,EAAA9E,EAAA/iB,KAAAsX,EAAA,YAAAwQ,EAAA/E,EAAA/iB,KAAAsX,EAAA,iBAAAuQ,GAAAC,EAAA,IAAA/pB,KAAAkQ,KAAAqJ,EAAA4O,SAAA,OAAAwB,EAAApQ,EAAA4O,UAAA,MAAAnoB,KAAAkQ,KAAAqJ,EAAA6O,WAAA,OAAAuB,EAAApQ,EAAA6O,WAAA,SAAA0B,GAAA,GAAA9pB,KAAAkQ,KAAAqJ,EAAA4O,SAAA,OAAAwB,EAAApQ,EAAA4O,UAAA,YAAA4B,EAAA,UAAA5O,MAAA,6CAAAnb,KAAAkQ,KAAAqJ,EAAA6O,WAAA,OAAAuB,EAAApQ,EAAA6O,WAAA,KAAAzX,OAAA,SAAAhK,EAAAxH,GAAA,QAAAuB,EAAAV,KAAAsoB,WAAA3nB,OAAA,EAAAD,GAAA,IAAAA,EAAA,KAAA6Y,EAAAvZ,KAAAsoB,WAAA5nB,GAAA,GAAA6Y,EAAA2O,QAAAloB,KAAAkQ,MAAA8U,EAAA/iB,KAAAsX,EAAA,eAAAvZ,KAAAkQ,KAAAqJ,EAAA6O,WAAA,KAAA4B,EAAAzQ,EAAA,OAAAyQ,IAAA,UAAArjB,GAAA,aAAAA,IAAAqjB,EAAA9B,QAAA/oB,MAAA6qB,EAAA5B,aAAA4B,EAAA,UAAA/C,EAAA+C,IAAAxB,WAAA,UAAAvB,EAAAtgB,OAAAsgB,EAAA9nB,MAAA6qB,GAAAhqB,KAAA4mB,OAAA,OAAA5mB,KAAAmF,KAAA6kB,EAAA5B,WAAAjC,GAAAnmB,KAAAiqB,SAAAhD,EAAA,EAAAgD,SAAA,SAAAhD,EAAAoB,GAAA,aAAApB,EAAAtgB,KAAA,MAAAsgB,EAAA9nB,IAAA,gBAAA8nB,EAAAtgB,MAAA,aAAAsgB,EAAAtgB,KAAA3G,KAAAmF,KAAA8hB,EAAA9nB,IAAA,WAAA8nB,EAAAtgB,MAAA3G,KAAAypB,KAAAzpB,KAAAb,IAAA8nB,EAAA9nB,IAAAa,KAAA4mB,OAAA,SAAA5mB,KAAAmF,KAAA,kBAAA8hB,EAAAtgB,MAAA0hB,IAAAroB,KAAAmF,KAAAkjB,GAAAlC,CAAA,EAAA+D,OAAA,SAAA9B,GAAA,QAAA1nB,EAAAV,KAAAsoB,WAAA3nB,OAAA,EAAAD,GAAA,IAAAA,EAAA,KAAA6Y,EAAAvZ,KAAAsoB,WAAA5nB,GAAA,GAAA6Y,EAAA6O,eAAA,OAAApoB,KAAAiqB,SAAA1Q,EAAAiP,WAAAjP,EAAA8O,UAAAE,EAAAhP,GAAA4M,CAAA,GAAAgE,MAAA,SAAAjC,GAAA,QAAAxnB,EAAAV,KAAAsoB,WAAA3nB,OAAA,EAAAD,GAAA,IAAAA,EAAA,KAAA6Y,EAAAvZ,KAAAsoB,WAAA5nB,GAAA,GAAA6Y,EAAA2O,WAAA,KAAAjB,EAAA1N,EAAAiP,WAAA,aAAAvB,EAAAtgB,KAAA,KAAAyjB,EAAAnD,EAAA9nB,IAAAopB,EAAAhP,EAAA,QAAA6Q,CAAA,YAAAjP,MAAA,0BAAAkP,cAAA,SAAA3B,EAAAZ,EAAAC,GAAA,OAAA/nB,KAAAunB,SAAA,CAAAhjB,SAAAkiB,EAAAiC,GAAAZ,aAAAC,WAAA,SAAA/nB,KAAA4mB,SAAA5mB,KAAAb,SAAAmB,GAAA6lB,CAAA,GAAArB,CAAA,UAAA1kB,mBAAAf,EAAAK,EAAAF,EAAAR,EAAAC,EAAAC,EAAAC,GAAA,QAAAC,EAAAC,EAAAH,GAAAC,GAAAG,EAAAF,EAAAE,KAAA,OAAAC,GAAAC,EAAAD,GAAA,OAAAH,EAAAK,KAAAC,EAAAJ,GAAAK,QAAAD,QAAAJ,GAAAM,KAAAZ,EAAAC,EAAA,UAAAY,kBAAAC,GAAA,sBAAAC,EAAAC,KAAAC,EAAAC,UAAA,WAAAP,SAAA,SAAAD,EAAAF,GAAA,IAAAH,EAAAS,EAAAK,MAAAJ,EAAAE,GAAA,SAAAjB,EAAAM,GAAAc,mBAAAf,EAAAK,EAAAF,EAAAR,EAAAC,EAAA,OAAAK,EAAA,UAAAL,EAAAoB,GAAAD,mBAAAf,EAAAK,EAAAF,EAAAR,EAAAC,EAAA,QAAAoB,EAAA,CAAArB,OAAAsB,EAAA,cAAAmB,QAAAwjB,GAAA,OAAAxjB,QAAA,mBAAAK,QAAA,iBAAAA,OAAAyC,SAAA,SAAA0gB,GAAA,cAAAA,CAAA,WAAAA,GAAA,OAAAA,GAAA,mBAAAnjB,QAAAmjB,EAAAviB,cAAAZ,QAAAmjB,IAAAnjB,OAAAP,UAAA,gBAAA0jB,CAAA,EAAAxjB,QAAAwjB,EAAA,UAAA7gB,2BAAAxB,EAAAyB,GAAA,IAAAC,EAAA,oBAAAxC,QAAAc,EAAAd,OAAAyC,WAAA3B,EAAA,kBAAA0B,EAAA,IAAAE,MAAAC,QAAA7B,KAAA0B,EAAAI,4BAAA9B,KAAAyB,GAAAzB,GAAA,iBAAAA,EAAAjC,OAAA,CAAA2D,IAAA1B,EAAA0B,GAAA,IAAA5D,EAAA,EAAAiE,EAAA,oBAAAC,EAAAD,EAAAE,EAAA,kBAAAnE,GAAAkC,EAAAjC,OAAA,CAAAlB,MAAA,IAAAA,MAAA,EAAAH,MAAAsD,EAAAlC,KAAA,EAAAwD,EAAA,SAAAkB,GAAA,MAAAA,CAAA,EAAAL,EAAAJ,EAAA,WAAAzC,UAAA,6IAAA7B,EAAA2E,GAAA,EAAAC,GAAA,SAAAL,EAAA,WAAAN,IAAArC,KAAAW,EAAA,EAAAiC,EAAA,eAAAK,EAAAZ,EAAAa,OAAAH,EAAAE,EAAAzF,KAAA,OAAAyF,CAAA,EAAAhB,EAAA,SAAAw4B,GAAAz3B,GAAA,EAAA5E,EAAAq8B,CAAA,EAAA33B,EAAA,eAAAC,GAAA,MAAAV,EAAA,QAAAA,EAAA,oBAAAW,EAAA,MAAA5E,CAAA,aAAAqE,4BAAA9B,EAAAyC,GAAA,GAAAzC,EAAA,qBAAAA,EAAA,OAAA0C,kBAAA1C,EAAAyC,GAAA,IAAAR,EAAA7D,OAAAO,UAAAgE,SAAAtD,KAAAW,GAAA4C,MAAA,iBAAAX,GAAAjC,EAAAF,cAAAmC,EAAAjC,EAAAF,YAAA+C,MAAA,cAAAZ,GAAA,QAAAA,EAAAL,MAAAkB,KAAA9C,GAAA,cAAAiC,GAAA,2CAAAc,KAAAd,GAAAS,kBAAA1C,EAAAyC,QAAA,YAAAC,kBAAAM,EAAAC,IAAA,MAAAA,KAAAD,EAAAjF,UAAAkF,EAAAD,EAAAjF,QAAA,QAAAD,EAAA,EAAAoF,EAAA,IAAAtB,MAAAqB,GAAAnF,EAAAmF,EAAAnF,IAAAoF,EAAApF,GAAAkF,EAAAlF,GAAA,OAAAoF,CAAA,iBAAAC,EAAA,CAAAC,UAAA,aAAAC,MAAA,UAAAC,SAAA,wDAAAA,SAAA,uCAAAA,SAAA,oCAAAA,SAAA,wGAAAC,MAAA,aADAC,GAAEC,UAAUC,qBAAqBP,GAsDjCK,GAAEG,MAAMC,OAAO,uCAAwC,CACtDC,OAAQI,GAAGC,GAAGC,UAAUoI,KAAKuO,WAAWC,kBACxC2M,QAAS,CAACzjB,GAAGC,GAAGC,UAAUoI,KAAKqL,YAAa3T,GAAGC,GAAGC,UAAUoI,KAAK6J,UAOjEjQ,WAAY,CACVzJ,MAAO,CACLq9B,QAAQ,EACRzzB,KAAM,KASVI,QAAS,CACPszB,QAAS,KACTC,OAAQ,KACRC,OAAQ,KACRC,UAAW,KACXC,aAAc,KACdC,WAAY,KACZC,OAAQ,KACRC,eAAgB,KAEhBviB,MAAK,WAAG,IAAA3O,EAAAjM,KACAuI,EAAUvI,KAAK2W,SACrB3W,KAAK88B,OAAS,GACd,IAAIM,GAAkB,EAChBla,EAAQ3a,EAAQkC,cAAc,SACpC,GAAKyY,EAAL,CAIIA,EAAM/S,aAAa,YACrBnQ,KAAKg9B,aAAe,IAAIK,SAAS,OAAQ,QAAS,wBAA0Bna,EAAM5X,aAAa,YAE7F4X,EAAM/S,aAAa,WACrBnQ,KAAKk9B,OAASxoB,SAASwO,EAAM5X,aAAa,WAE5C,IAGmEV,EAH7D0yB,EAAgBpa,EAAMpY,iBAAiB,2CAE7CD,EAAAzG,2BACoBmE,EAAQuC,iBAAiB,wBAAsB,IAAnE,IAAAD,EAAAjG,MAAAgG,EAAAC,EAAAhG,KAAApF,MAAqE,CACnE,GAAqC,SADvBmL,EAAAtL,MACFgM,aAAa,QAAoB,CAC3C/C,EAAQmI,iBAAiB,aAAa,SAAAqH,GAEpC,IAK6DjG,EALvDyrB,EAAS,IAAI9b,YAAY,YAAa,CAC1C6C,QAASvM,EAAGuM,QACZC,WAAYxM,EAAGwM,WACflH,OAAQtF,EAAGsF,SACVtL,EAAA3N,2BACWmE,EAAQuC,iBAAiB,wBAAsB,IAA7D,IAAAiH,EAAAnN,MAAAkN,EAAAC,EAAAlN,KAAApF,MAA+D,CAArDqS,EAAAxS,MACNoiB,cAAc6b,EAClB,CAAC,OAAAl9B,GAAA0R,EAAA7N,EAAA7D,EAAA,SAAA0R,EAAAhN,GAAA,CACH,IACA,KACF,CACF,CAAC,OAAA1E,GAAAwK,EAAA3G,EAAA7D,EAAA,SAAAwK,EAAA9F,GAAA,CAED,GAAIme,EAAM/S,aAAa,WAAY,CACjC,IAAMqtB,EAASta,EAAM5X,aAAa,WAE5BmyB,EAAmD,SAApCva,EAAM5X,aAAa,cAA2B,EAAI,EACvEtL,KAAKi9B,WAAa,SAACra,EAAM8a,GACvB,IAAMC,EAAU/a,EAAK4a,GACfI,EAAWF,EAAMF,GACvB,GAAIG,IAAYC,EACd,OAAO,EACF,GAAIn8B,QAAOk8B,KAAOl8B,QAAYm8B,GACnC,OAAAn8B,QAAek8B,IACb,IAAK,SACH,OAAQA,EAAUC,GAAYH,EAEhC,IAAK,UACH,OAAQE,GAAW,EAAI,GAAKF,EAE9B,IAAK,SACH,OAAOE,EAAQE,cAAcD,GAAYH,EAE3C,QACE,OAAO1qB,KAAK+e,UAAU6L,GAASE,cAAc9qB,KAAK+e,UAAU8L,IAAaH,MAExE,IAAIE,QACT,OAAO,EAAIF,EACN,GAAIG,QACT,OAAQ,EAAIH,CACd,CACA,OAAO,CACT,CACF,CACA,GAAIva,EAAM/S,aAAa,QAAU+S,EAAM/S,aAAa,kBAElDnQ,KAAK+8B,UAASl9B,kBAAA8P,sBAAAC,MAAG,SAAAC,IAAA,IAAAiuB,EAAA/sB,EAAAC,EAAA+sB,EAAA/7B,EAAA,OAAA2N,sBAAAK,MAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAA9K,MAAA,OACT24B,EAAU,CAAC,EACjB,IAAA/sB,EAAA,EAAAC,EAAyB,CAAC,cAAe,iBAAkB,aAAYD,EAAAC,EAAArQ,OAAAoQ,IAAE,CAA9DgtB,EAAU/sB,EAAAD,GACfmS,EAAM/S,aAAa4tB,KACrBD,EAAQC,GAAc7a,EAAM5X,aAAayyB,GAE7C,CAAC9tB,EAAA9K,KAAA,SACiB0B,GAAGqF,GAAG8iB,MAAMC,MAAM/L,EAAM5X,aAAa,OAAQwyB,EAAyC,SAAhC5a,EAAM5X,aAAa,UAAoB,OAAzGtJ,EAAGiO,EAAAyX,KAAA,OAAAzX,EAAAU,OAAA,SACF3O,GAAG,wBAAAiO,EAAAW,OAAA,GAAAf,EAAA,UAEP,GAAIqT,EAAM/S,aAAa,SAAU,CAEtC,IAAM0U,EAAQhe,GAAGqF,GAAG8xB,UAAUC,SAASjH,IAAI9T,EAAM5X,aAAa,UAC9D,GAAIuZ,EAAO,CACT,IAAMqZ,EAAgB,IAAIrZ,EAC1B,GAAI3B,EAAM/S,aAAa,cAAe,CACpC,IAC6DnF,EADvDvK,EAAQ,CAAC,EAAEwK,EAAA7G,2BACC8e,EAAM5X,aAAa,cAAcgjB,MAAM,MAAI,IAA7D,IAAArjB,EAAArG,MAAAoG,EAAAC,EAAApG,KAAApF,MAA+D,KAC7D0+B,EADYnzB,EAAA1L,MACgBgvB,MAAM,KAAKC,KAAI,SAAA1pB,GAAC,OAAIA,EAAEgN,MAAM,IAACusB,EAAAzO,eAAAwO,EAAA,GAAlD14B,EAAI24B,EAAA,GAAE9+B,EAAK8+B,EAAA,GAClB39B,EAAMgF,GAAQnG,EAAM0W,WAAW,KAAQ1W,EAAM4K,UAAU,EAAG5K,EAAMqB,OAAO,GAAKrB,CAC9E,CAAC,OAAAe,GAAA4K,EAAA/G,EAAA7D,EAAA,SAAA4K,EAAAlG,GAAA,CACDm5B,EAAc3wB,IAAI9M,EACpB,CACAT,KAAK+8B,UAASl9B,kBAAA8P,sBAAAC,MAAG,SAAA6c,IAAA,OAAA9c,sBAAAK,MAAA,SAAA+c,GAAA,cAAAA,EAAA7c,KAAA6c,EAAA5nB,MAAA,OAAA4nB,EAAA5nB,KAAA,SACT+4B,EAAc9lB,UAAS,cAAA2U,EAAApc,OAAA,SACtButB,EAAcG,YAAU,wBAAAtR,EAAAnc,OAAA,GAAA6b,EAAA,IAEnC,MACEzsB,KAAKT,MAAK,0BAAA6R,OAA2B8R,EAAM5X,aAAa,SAAQ,eAEpE,KAAO,CACL,IAAMgzB,EAASpb,EAAMzY,cAAc,mBAC7BsF,EAAOmT,EAAMpY,iBAAiB,oBACpC,GAAIwzB,EAAQ,CACVt+B,KAAK+8B,UAAY,IAAIM,SAAS,gCAAkCiB,EAAOC,UAAU1sB,OAAS,kBAE1F7R,KAAK88B,OAAS98B,KAAK+8B,WACrB,MAAO,GAAIO,EAAc38B,OAAS,EAAG,CAEnCX,KAAK+8B,UAAY/8B,KAAK4kB,SACtBwY,GAAkB,CACpB,KAAO,MAAIrtB,EAAKpP,OAAS,GAalB,CACLX,KAAKT,MACH,uHAGF,MACF,CAlBES,KAAK88B,OAAS,GACd98B,KAAK+8B,UAAY,kBAAM9wB,EAAK6wB,MAAM,EAClC/sB,EAAKf,SAAQ,SAAC8G,EAAMpV,GAClB,IAI+BuQ,EAJzB+e,EAAI,CACRpY,MAAOlX,GACPyQ,EAAA/M,2BAEc0R,EAAKhB,YAAU,IAA/B,IAAA3D,EAAAvM,MAAAqM,EAAAE,EAAAtM,KAAApF,MAAiC,KAAtB++B,EAACvtB,EAAA3R,MACV0wB,EAAEwO,EAAE/4B,MAAQ+4B,EAAEl/B,KAChB,CAAC,OAAAe,GAAA8Q,EAAAjN,EAAA7D,EAAA,SAAA8Q,EAAApM,GAAA,CACDkH,EAAK6wB,OAAOl0B,KAAKonB,EACnB,GAOF,CACF,CACIsN,EAAc38B,OAAS,GACzB4H,EAAQmI,iBAAiB,eAAe,SAAAqH,GAAE,OAAI9L,EAAKoQ,cAActE,EAAG,IAEtE,IAAKqlB,EAAiB,CAChBp9B,KAAK2Y,aAEP3Y,KAAKoY,UAEH7P,EAAQ4H,aAAa,YACvBnQ,KAAK67B,WAAWnnB,SAASnM,EAAQ+C,aAAa,YAElD,CArIA,MAFEtL,KAAKT,MAAM,wBAwIf,EAEA8c,cAAa,SAACtE,GACa,YAArBA,EAAGsF,OAAO7c,OACRR,KAAK2Y,YAEP3Y,KAAKoY,UAGLpY,KAAKsY,aAAe,KAGtBzR,GAAAC,GAAAC,UAAAoI,KAAAuO,WAAA+gB,KAAAhe,WAAAlf,UAAA8a,cAAApa,KAAAjC,KAAoB+X,GAGtBA,EAAGuE,iBACL,EAEAC,YAAW,WAETvc,KAAKsY,aAAe,EACpBtY,KAAKoY,SACP,EAEMA,QAAO,WAAG,IAAAxL,EAAA5M,KAAA,OAAAH,kBAAA8P,sBAAAC,MAAA,SAAA8uB,IAAA,IAAAn2B,EAAA0G,EAAA0vB,EAAAn+B,EAAAo+B,EAAAC,EAAAC,EAAAC,EAAAr+B,EAAAoV,EAAA8O,EAAA,OAAAjV,sBAAAK,MAAA,SAAAgvB,GAAA,cAAAA,EAAA9uB,KAAA8uB,EAAA75B,MAAA,OACRoD,EAAUqE,EAAK+J,SACf1H,EAAW1G,EAAQkC,cAAc,iCACnCk0B,EAAW,GACe,mBAAnB/xB,EAAKmwB,YACd4B,EAAW/xB,EAAKmwB,aACjB,KACG4B,aAAoBh/B,SAAO,CAAAq/B,EAAA75B,KAAA,SAAA65B,EAAA9uB,KAAA,EAAA8uB,EAAA75B,KAAA,SAEVw5B,EAAQ,OAAzBA,EAAQK,EAAAtX,KAAAsX,EAAA75B,KAAA,iBAAA65B,EAAA9uB,KAAA,GAAA8uB,EAAAC,GAAAD,EAAA,SAERpyB,EAAKrN,MAAM,gCAA+By/B,EAAAC,IAAK,QAG/Cz+B,EAAS+H,EAAQkC,cAAc,eAAc,GACX,UAAlCwE,EAAS3D,aAAa,QAAmB,CAAA0zB,EAAA75B,KAAA,SAC3C3E,EAAS+H,EAAQy2B,EAAA75B,KAAA,qBACR8J,EAASkB,aAAa,UAAS,CAAA6uB,EAAA75B,KAAA,SAAA65B,EAAAE,GAChCjwB,EAAS3D,aAAa,UAAS0zB,EAAA75B,KAChC,WADgC65B,EAAAE,GACxB,oBACX1+B,EAAS+H,EAAQ4C,cAEjB5C,EAAQgP,MAAMC,QAAU,OAAO,OAAAwnB,EAAAruB,OAAA,0BAGzB,IAAIwK,MAAM,mBAAqBlM,EAAS3D,aAAa,WAAU,QAAA0zB,EAAA75B,KAAA,iBAEpE,IAAK3E,EAAQ,EAClBA,EAAS2I,SAASmO,cAAc,OACzB5M,UAAUQ,IAAI,WACrB3C,EAAQgG,YAAY/N,EACtB,CAAC,QACDoM,EAAKJ,MAAM,mCAAoCmyB,EAASh+B,QAAQ,KAC5D6D,MAAMC,QAAQk6B,IAAaA,aAAoBv4B,GAAG2J,KAAKvL,OAAK,CAAAw6B,EAAA75B,KAAA,SAC7B,mBAAtByH,EAAKowB,eACd2B,EAAWA,EAAS/e,OAAOhT,EAAKowB,eAEH,mBAApBpwB,EAAKqwB,YACd0B,EAASQ,KAAKvyB,EAAKqwB,YAEjBrwB,EAAKswB,SACPyB,EAAWA,EAASn5B,MAAM,EAAGoH,EAAKswB,SACnC,GACuB,IAApByB,EAASh+B,OAAY,CAAAq+B,EAAA75B,KAAA,SAC2D,KAA5Ey5B,EAAoBr2B,EAAQkC,cAAc,qCAEtBjK,EAAOiK,cAAc,yBAAwB,CAAAu0B,EAAA75B,KAAA,SACrE,KAAO3E,EAAO8N,mBAAqB9N,EAAO8N,kBAAkB6B,aAAa,aACvE3P,EAAO4+B,YAAY5+B,EAAO8N,oBAEtBuwB,EAAaD,EAAkBhxB,QAAQU,kBAAkB6F,WAAU,IAC9DzJ,UAAUQ,IAAI,eACzB1K,EAAO+N,YAAYswB,GAAY,OAAAG,EAAAruB,OAAA,kBAAAquB,EAAA75B,KAAA,kBAI3B25B,EAAYt+B,EAAOiK,cAAc,2BAErCq0B,EAAU/zB,SACX,QAEGg0B,EAAe51B,SAASmO,cAAc,YAE5C,IAAS5W,EAAIi+B,EAASh+B,OAAQD,EAAIkM,EAAKkwB,OAAOn8B,OAAQD,KAC9CoV,EAAOtV,EAAOiK,cAAa,uBAAA2G,OAAwB1Q,EAAC,SAExDoV,EAAK/K,SAIH6Z,EAAW,SAACnf,EAAM8T,GACtB,IAAI3B,GAAS,EACb,GAAInS,EAAKoQ,SAAS,KAAM,CAEtB+B,EAAQlD,SAASjP,EAAKyE,UAAUzE,EAAKoS,QAAQ,KAAO,EAAGpS,EAAK9E,OAAS,IACrE,GAAI+d,MAAM9G,GAAQ,CAChBhL,EAAKrN,MACH,kCAAoCkG,EACpCA,EAAKyE,UAAUzE,EAAKoS,QAAQ,KAAO,EAAGpS,EAAK9E,OAAS,IAEtD,MAAO,EACT,CACA8E,EAAOA,EAAKyE,UAAU,EAAGzE,EAAKoS,QAAQ,KACxC,CACA,GAAI7W,OAAOO,UAAUmH,eAAezG,KAAKsX,EAAO9T,GAAO,CACrD,IAAI+Y,EAAMjF,EAAM9T,GAChB,OAAImS,GAAS,GAAKpT,MAAMC,QAAQ+Z,GACvBA,EAAI5G,GAEN4G,CACT,CACA,MAAO,EACT,EACAmgB,EAAS3vB,SAAQ,SAACuK,EAAO7Y,GACvB,IAAMoV,EAAOtV,EAAOiK,cAAa,uBAAA2G,OAAwB1Q,EAAC,OACpDo1B,EAAO7mB,EAASgH,UAAUhD,WAAW,gBAAgB,SAAC3B,EAAO1D,GACjE,GAAgB,UAAZA,EACF,MAAO,GAAKlN,EAEd,GAAIkN,EAAQmH,SAAS,MAAO,CAE1B,IACuDd,EADnDuK,EAAM,GAAGpK,EAAAhQ,2BACIwJ,EAAQ0gB,MAAM,MAAMC,KAAI,SAAA1pB,GAAC,OAAIA,EAAEgN,MAAM,KAAC,IAAvD,IAAAuC,EAAAxP,MAAAqP,EAAAG,EAAAvP,KAAApF,MAAyD,KAAhDgG,EAAIwO,EAAA3U,MAEX,GADAkf,EAAMoG,EAASnf,EAAM8T,GAEnB,OAAOiF,CAEX,CAAC,OAAAne,GAAA+T,EAAAlQ,EAAA7D,EAAA,SAAA+T,EAAArP,GAAA,CACH,CACA,OAAO6f,EAAShX,EAAS2L,EAC3B,IAEAwlB,EAAa9oB,UAAY6f,EAEzBiJ,EAAanxB,QAAQU,kBAAkBxD,iBAAiB,UAAUkE,SAAQ,SAAA8G,GACxE,IAAAupB,EAA4BvpB,EACzBxK,aAAa,QACbgjB,MAAM,KACNC,KAAI,SAAA1pB,GAAC,OAAIA,EAAEgN,MAAM,IAACytB,EAAA3P,eAAA0P,EAAA,GAHPC,EAAA,IAAUA,EAAA,GAMtBxpB,EAAK3K,cAAci0B,YAAYtpB,GAE/BA,EAAKV,gBAAgB,OAEzB,IACA,GAAIU,EAAM,CAERA,EAAKG,UAAY8oB,EAAanxB,QAAQU,kBAAkB2H,UACxDH,EAAKvF,aAAa,WAAY,GAAK7P,EACrC,KAAO,CAELq+B,EAAanxB,QAAQU,kBAAkBiC,aAAa,WAAY,GAAK7P,GAErEF,EAAO+N,YAAYwwB,EAAanxB,QAAQuG,WAAU,GACpD,CACF,IACAvH,EAAKkwB,OAAS6B,EAASK,EAAA75B,KAAA,iBAEvByH,EAAKrN,MAAM,yBAA0Bo/B,GAAU,yBAAAK,EAAApuB,OAAA,GAAA8tB,EAAA,kBA3InC7+B,EA6IhB,GAQFsY,SAAQ,WACNnY,KAAK+Y,gBAAgB,iBAAkB,UACvC/Y,KAAK88B,OAAS,KACd98B,KAAKg9B,aAAe,KACpBh9B,KAAKi9B,WAAa,KAClBj9B,KAAK48B,QAAU,IACjB,EAEAz2B,MAAK,SAACwC,GACJuG,eAAe1I,OACbK,GAAGC,GAAGC,UAAUoI,KAAKC,WAAWrH,OAAS,OAAM,SAAAgb,GAAA,aAAAzgB,UAAAiN,EAAAwT,GAAA,IAAAzT,EAAArM,aAAAsM,GAE7C,SAAAA,IAAcnN,gBAAApC,KAAAuP,GAAA,OAAAD,EAAArN,KAAAjC,KACN2I,EACR,CAAC,OAAAxH,aAAAoO,EAAA,CAJ4C,CACjCwL,aAMlB,IAjaDlU,GAAEC,GAAGC,UAAUoI,KAAKuO,WAAW+gB,KAAK14B,cAAgBA,CAAc,CAClE,G,4wFCDAK,GAAEC,UAAUC,qBAAqBP,GAsBjCK,GAAEG,MAAMC,OAAO,2CAA4C,CAC1DC,OAAQI,GAAGC,GAAGC,UAAUoI,KAAKuO,WAAWC,kBAOxCrU,QAAS,CACPsR,MAAK,WAAG,IAAA3O,EAAAjM,KACN6G,GAAAC,GAAAC,UAAAoI,KAAAuO,WAAA6hB,SAAA9e,WAAAlf,UAAAqZ,MAAA3Y,KAAAjC,MAEAA,KAAK2W,SAAS6oB,UAAY,SAAC/5B,EAAMnG,GAC/B,IAAMyY,EAAK,IAAI0J,YAAYhc,EAAM,CAC/B6e,SAAS,EACTC,YAAY,EACZlH,OAAQ,CACN/d,MAAOA,EACP+hB,OAAQpV,KAGZA,EAAK0K,SAAS+K,cAAc3J,EAC9B,CACF,GAGF5R,MAAK,SAACwC,GACJuG,eAAe1I,OACbK,GAAGC,GAAGC,UAAUoI,KAAKC,WAAWrH,OAAS,WAAU,SAAAgb,GAAA,aAAAzgB,UAAAiN,EAAAwT,GAAA,IAAAzT,EAAArM,aAAAsM,GAEjD,SAAAA,IAAcnN,gBAAApC,KAAAuP,GAAA,OAAAD,EAAArN,KAAAjC,KACN2I,EACR,CAAC,OAAAxH,aAAAoO,EAAA,CAJgD,CACrCwL,aAMlB,IAzDDlU,GAAEC,GAAGC,UAAUoI,KAAKuO,WAAW6hB,SAASx5B,cAAgBA,CAAc,C,+9HCAtEK,GAAEC,UAAUC,qBAAqBP,GAyBjCK,GAAEG,MAAMC,OAAO,uCAAwC,CACtDC,OAAQI,GAAGC,GAAGC,UAAUoI,KAAKuO,WAAWC,kBAOxC5U,WAAY,CACVma,MAAO,CACLja,MAAO,CAAC,QAAS,aACjB9I,MAAO,eAETs/B,WAAY,CACVx2B,MAAO,CAAC,OAAQ,QAAS,QACzBC,KAAM,OACN/I,MAAO,oBAGTu/B,MAAO,CACLz2B,MAAO,+CACPC,MAAO,EACP/I,MAAO,eAGTw/B,SAAU,CACR12B,MAAO,UACPC,MAAM,EACN/I,MAAO,iBAGTy/B,WAAY,CACV32B,MAAO,UACPC,MAAM,IASVI,QAAS,CACPu2B,iBAAgB,SAACvgC,EAAO+b,GACtB,IAAMykB,EAAO32B,SAASsB,cAAc,QACnB,SAAb4Q,GACFykB,EAAKp1B,UAAUK,OAAO,YAEV,SAAVzL,GACFwgC,EAAKp1B,UAAUQ,IAAI,WAEvB,EAEA60B,YAAW,WACL//B,KAAKggC,cACPhgC,KAAKigC,eAET,EAEAC,eAAc,WACZlgC,KAAKmgC,aAAY,GACjB/5B,GAAGsF,MAAMC,QAAQC,IAAIw0B,YAAY,mBAAoBpgC,KAAKkgC,eAAgBlgC,KAC5E,EAEAqgC,YAAW,SAACnd,GAAO,IAAAjX,EAAAjM,KACjB,GAAIkjB,EAAO,CACT,IAAMod,EAAWn3B,SAASmO,cAAc,MACxCtX,KAAK2W,SAASpI,YAAY+xB,GAG1Bl6B,GAAGsF,MAAMkL,aAAalI,YAAYvF,SAAU,cAAenJ,KAAKoX,eAAgBpX,MAEhF,GAAc,UAAVkjB,EAAmB,CAErB,IAAMqd,EAAMp3B,SAASmO,cAAc,KACnCipB,EAAIC,KAAO,IACXD,EAAI71B,UAAUQ,IAAI,QAClBq1B,EAAIE,QAAU,SAAA/0B,GAAK,OAAIO,EAAKy0B,iBAAiBh1B,EAAM,EACnD,IAAMkhB,EAAOzjB,SAASmO,cAAc,KAEpCipB,EAAIhyB,YAAYqe,GAChB5sB,KAAK2W,SAASpI,YAAYgyB,GAE1Bn6B,GAAGsF,MAAMC,QAAQC,IAAI+0B,UAAU,mBAAoB3gC,KAAKkgC,eAAgBlgC,MACxEoG,GAAGsF,MAAMC,QAAQC,IAAI+0B,UAAU,mCAAoC3gC,KAAK4gC,cAAe5gC,MACvFoG,GAAGsF,MAAMkL,aAAalI,YAAY1O,KAAK2W,SAAU,QAAS3W,KAAK6gC,SAAU7gC,MACzE4sB,EAAKliB,UAAUQ,IAAI,eACrB,MAAO,GAAc,cAAVgY,EAAuB,CAEhC,IAAM4d,EAAO33B,SAASmO,cAAc,KACpCwpB,EAAKp2B,UAAUQ,IAAI,kBACnBlL,KAAK2W,SAASpI,YAAYuyB,GAE1B9gC,KAAK2W,SAAS8pB,QAAU,SAAA/0B,GAAK,OAAIO,EAAKy0B,iBAAiBh1B,EAAM,EAC7D40B,EAAS51B,UAAUQ,IAAI,gBACvBlL,KAAKigC,eACP,CACF,MACEjgC,KAAKT,MAAM,uBAAwB2jB,EAAO,qBAE9C,EAEAtI,MAAK,WACH,IAAMrS,EAAUvI,KAAK2W,SACfuM,EAAQ3a,EAAQ4H,aAAa,SAAW5H,EAAQ+C,aAAa,SAC9D/C,EAAQuC,iBAAiB,yBAAyBnK,OAAS,EAAK,YAAc,KACnF,GAAKuiB,EAAL,CAI4C,UAAxC3a,EAAQ+C,aAAa,gBACvBtL,KAAK+gC,eAAc,GAErB/gC,KAAKghC,SAAS9d,EAJd,MAFEljB,KAAKT,MAAM,uCAOf,EAEA0gC,cAAa,WAAG,IAAArzB,EAAA5M,KACd,OAAQA,KAAKq+B,YACX,IAAK,QACH,IAAM4C,EAAc7wB,OAAOrG,SAASC,KAAKE,UAAU,GAC/CiB,EAAgBhC,SAASsB,cAAc,QAC3C,GAAIU,EAAe,CACjB,IAAMmH,EAAYnJ,SAASsB,cAAc,WACrC6H,IACFnH,EAAgBmH,EAAUnH,cAE9B,CACA,IAAMm1B,EAAWtgC,KAAK2W,SAASlM,cAAc,eAC7C,GAAI61B,EAAU,CACZA,EAASY,kBACTlhC,KAAKmhC,SAAqBb,EAAUn1B,EAAe81B,EAAa,EAClE,CACA,MAEF,IAAK,YACH,IAAMG,EAAWphC,KAAK2W,SAASlM,cAAc,eAC7C,GAAI22B,EAAU,CACZA,EAASF,kBAAkB,IAC6Ct2B,EAD7CC,EAAAzG,2BACVpE,KAAK2W,SAAS7L,iBAAiB,0BAAwB,QAAAuJ,EAAA,WAAE,IAAjEga,EAAIzjB,EAAAtL,MACL+hC,EAAWhT,EAAK/iB,aAAa,SAAW,GACxCg2B,EAAWjT,EAAK/iB,aAAa,SAAW,GACxCi2B,EAAKp4B,SAASmO,cAAc,MAClC,GAAIgqB,EAAU,CACZ,IAAM5gC,EAAIyI,SAASmO,cAAc,KACjC5W,EAAEgK,UAAUQ,IAAIo2B,GAChB5gC,EAAEwtB,MAAQmT,EACVE,EAAGhzB,YAAY7N,EACjB,CACA,GAAIkM,EAAK40B,eAAgB,CACvB,IAAMtzB,EAAO/E,SAASs4B,eAAeJ,GACrCE,EAAGhzB,YAAYL,EACjB,CACAqzB,EAAG7wB,iBAAiB,SAAS,SAAAhF,GAC3B2iB,EAAK9mB,cAAcm6B,QAAQh2B,EAC7B,IACA01B,EAAS7yB,YAAYgzB,EACvB,EAlBA,IAAA12B,EAAAjG,MAAAgG,EAAAC,EAAAhG,KAAApF,MAAA4U,GAkBC,OAAAhU,GAAAwK,EAAA3G,EAAA7D,EAAA,SAAAwK,EAAA9F,GAAA,CACH,EAIN,EAEA27B,iBAAgB,SAACh1B,GACf,IAAIi2B,EAAc,OAClB,GAAwB,UAApB3hC,KAAKq+B,WAAwB,CAC/BsD,EAAc,aAAa,IACiC32B,EADjCC,EAAA7G,2BACRpE,KAAK2W,SAAS7L,iBAAiB,YAAU,IAA5D,IAAAG,EAAArG,MAAAoG,EAAAC,EAAApG,KAAApF,MAA8D,CAA/CuL,EAAA1L,MACNiR,aAAa,OAAQ,GAC9B,CAAC,OAAAlQ,GAAA4K,EAAA/G,EAAA7D,EAAA,SAAA4K,EAAAlG,GAAA,CACH,CACA/E,KAAK2W,SAASjM,UAAUk3B,OAAOD,GAC/Bj2B,EAAM4Q,iBACR,EAMAlF,eAAc,SAACW,GACb,IAAMvX,EAASuX,EAAGlK,YAEhBrN,EAAOkK,UAAUC,SAAS,SACzBnK,EAAO2K,eAAiB3K,EAAO2K,cAAcT,UAAUC,SAAS,SAC/B,YAAlCnK,EAAO4K,SAAS3C,eACfjI,EAAO2K,eAAiE,YAAhD3K,EAAO2K,cAAcC,SAAS3C,gBAGb,YAAjCjI,EAAOgI,QAAQC,eAAgE,MAAjCjI,EAAOgI,QAAQC,cAEtErC,GAAGsF,MAAM+M,MAAMoH,KAAK7f,KAAK6hC,UAAW7hC,KAAM,KAG1CA,KAAK6hC,UAAU9pB,EAAGlK,YAAY1C,eAElC,EAEA01B,SAAQ,SAAC9oB,GACP,GAA0B,SAAtBA,EAAG+pB,eAA2B,CAEhC,IAAM38B,EAAOnF,KAAK2W,SAASlM,cAAc,sBACrCtF,GACFA,EAAKga,OAET,KAAO,CACL,IAAM4iB,EAAU/hC,KAAK2W,SAASlM,cAAc,aAC5C,GACEs3B,GACAA,EAAQC,wBACiD,OAAzDD,EAAQC,uBAAuBx5B,QAAQC,cACvC,CACA,IAAMyH,EAAO6xB,EAAQC,uBAAuBv3B,cAAc,cACtDyF,GACFA,EAAKiP,OAET,CACF,CACF,EAOA0iB,UAAS,SAACI,GACR,GAAIjiC,KAAK2W,SAASjM,UAAUC,SAAS,QACnC3K,KAAK2W,SAASjM,UAAUK,OAAO,aAC1B,GAAI/K,KAAK2W,SAASjM,UAAUC,SAAS,cAC1C3K,KAAK2W,SAASjM,UAAUK,OAAO,kBAC1B,KAC6DkG,EAD7DE,EAAA/M,2BACcpE,KAAK2W,SAAS7L,iBAAiB,kBAAgB,IAAlE,IAAAqG,EAAAvM,MAAAqM,EAAAE,EAAAtM,KAAApF,MAAoE,KAA3D4d,EAAMpM,EAAA3R,MACR2iC,GAAU5kB,IAAW4kB,GACxB5kB,EAAOjI,gBAAgB,OAE3B,CAAC,OAAA/U,GAAA8Q,EAAAjN,EAAA7D,EAAA,SAAA8Q,EAAApM,GAAA,CACH,CACF,EAEAo8B,SAAoB,SAACe,EAAY/2B,EAAe81B,EAAakB,GAAc,IAAAzyB,EAAA1P,KACzE,GAAKmL,EAAL,CAGA,IAE+B2G,EAF3BswB,EAAQj3B,EAAcL,iBAAiB,wCAAwCiH,EAAA3N,2BAElEg+B,EAAM3b,UAAQ,QAAA4b,EAAA,WAAE,IAAxB73B,EAAIsH,EAAAxS,MACLgL,EAASE,EAAKc,aAAa,MACjC,IAAKhB,EAAQ,CACXoF,EAAKnQ,MAAM,4BAA4B,gBAEzC,CACA,IAAM8hC,EAAW72B,EAAKc,aAAa,SAAW,GACxCg2B,EAAW92B,EAAKc,aAAa,SAAW,GACxCi2B,EAAKp4B,SAASmO,cAAc,MAC5BknB,EAAIr1B,SAASmO,cAAc,KACjCknB,EAAEjuB,aAAa,OAAQ,IAAMjG,GAC7B,GAAIg3B,EAAU,CACZ,IAAM5gC,EAAIyI,SAASmO,cAAc,KACjC5W,EAAEgK,UAAUQ,IAAIo2B,GAChB5gC,EAAEwtB,MAAQmT,EACV7C,EAAEjwB,YAAY7N,EAChB,CACA,GAAIgP,EAAK8xB,eAAgB,CACvB,IAAMtzB,EAAO/E,SAASs4B,eAAeJ,GACrC7C,EAAEjwB,YAAYL,EAChB,CACI+yB,IAAgB32B,GAClBi3B,EAAG72B,UAAUQ,IAAI,UAEnBg3B,EAAW3zB,YAAYgzB,GACvB,IAAM7B,EAAQhwB,EAAK4yB,WACnB,IACG5C,EAAQ,GAAKA,EAAQyC,IACtB33B,EAAKM,iBAAiB,wCAAwCnK,OAAS,EACvE,CACA,IAAM4hC,EAAUp5B,SAASmO,cAAc,OACvCirB,EAAQ73B,UAAUQ,IAAI,WACtB,IAAMs3B,EAAUr5B,SAASmO,cAAc,OACvCkrB,EAAQ93B,UAAUQ,IAAI,WACtBs3B,EAAQ9xB,iBAAiB,SAAS,SAAAqH,GAC5BwqB,EAAQpyB,aAAa,QACvBoyB,EAAQntB,gBAAgB,QAExBmtB,EAAQhyB,aAAa,OAAQ,GAEjC,IACAiuB,EAAE9tB,iBAAiB,SAAS,SAAAqH,IAEH,UAAnBA,EAAG0qB,aAA2B1qB,EAAG6J,cAAcI,YAAcjK,EAAG2qB,SAAW,IAC7E3qB,EAAGuE,iBAEP,IACA,IAAMqmB,EAAWn4B,EAAKc,aAAa,SAAW,GAC9C,GAAId,EAAKC,cAAc,2BAErB+3B,EAAQj0B,YAAYiwB,OACf,CACL,IAAM37B,EAAIsG,SAASmO,cAAc,KACjC,GAAIqrB,EAAU,CACZ,IAAM5xB,EAAI5H,SAASmO,cAAc,KACjCvG,EAAErG,UAAUQ,IAAIy3B,GAChB5xB,EAAEmd,MAAQmT,EACVx+B,EAAE0L,YAAYwC,EAChB,CACIrB,EAAK8xB,gBACP3+B,EAAE0L,YAAYpF,SAASs4B,eAAeJ,IAExCmB,EAAQj0B,YAAY1L,EACtB,CACA0/B,EAAQh0B,YAAYi0B,GACpB,IAAMI,EAAUz5B,SAASmO,cAAc,MACvCirB,EAAQh0B,YAAYq0B,GACpBlzB,EAAKyxB,SAAqByB,EAASp4B,EAAMy2B,EAAakB,KACtDZ,EAAGhzB,YAAYg0B,EACjB,MACEhB,EAAGhzB,YAAYiwB,EAEnB,EAxEA,IAAAzsB,EAAAnN,MAAAkN,EAAAC,EAAAlN,KAAApF,MAAA4iC,GAwEC,OAAAhiC,GAAA0R,EAAA7N,EAAA7D,EAAA,SAAA0R,EAAAhN,GAAA,CA3ED,CA4EF,EAEA67B,cAAa,SAAC7oB,GACZ,IAE2E9D,EAFrE4uB,EAAc9qB,EAAG+qB,UACvB1uB,EAAAhQ,2BACiBpE,KAAK2W,SAAS7L,iBAAiB,6BAA2B,IAA3E,IAAAsJ,EAAAxP,MAAAqP,EAAAG,EAAAvP,KAAApF,MAA6E,KAApEsjC,EAAI9uB,EAAA3U,MACXyjC,EAAKr4B,UAAUK,OAAO,UACtBg4B,EAAKr4B,UAAUK,OAAO,aACxB,CACA,OAAA1K,GAAA+T,EAAAlQ,EAAA7D,EAAA,SAAA+T,EAAArP,GAAA,KAC+E2yB,EAD/EE,EAAAxzB,2BACiBpE,KAAK2W,SAAS7L,iBAAgB,YAAAsG,OAAayxB,EAAYtwB,GAAE,QAAK,IAA/E,IAAAqlB,EAAAhzB,MAAA8yB,EAAAE,EAAA/yB,KAAApF,MAIE,IAJ+E,IAE3EsX,EAFO2gB,EAAAp4B,MAEO6L,cACd63B,EAAa,SACVjsB,GAA2C,YAAjCA,EAAOvO,QAAQC,eAA6B,CAC3D,GAAqC,OAAjCsO,EAAOvO,QAAQC,cAAwB,CACzCsO,EAAOrM,UAAUQ,IAAI83B,GAErBA,EAAa,YACf,CACAjsB,EAASA,EAAO5L,aAClB,CACD,OAAA9K,GAAAu3B,EAAA1zB,EAAA7D,EAAA,SAAAu3B,EAAA7yB,GAAA,CACH,GAQFoT,SAAQ,WACN/R,GAAGsF,MAAMkL,aAAae,eAAexO,SAAU,cAAenJ,KAAKoX,eAAgBpX,MAEnFoG,GAAGsF,MAAMC,QAAQC,IAAIw0B,YAAY,mCAAoCpgC,KAAK4gC,cAAe5gC,KAC3F,EAEAmG,MAAK,SAACwC,GACJuG,eAAe1I,OACbK,GAAGC,GAAGC,UAAUoI,KAAKC,WAAWrH,OAAS,OAAM,SAAAgb,GAAA,aAAAzgB,UAAAiN,EAAAwT,GAAA,IAAAzT,EAAArM,aAAAsM,GAE7C,SAAAA,IAAcnN,gBAAApC,KAAAuP,GAAA,OAAAD,EAAArN,KAAAjC,KACN2I,EACR,CAACxH,aAAAoO,EAAA,OAAArQ,IAAA,qBAAA83B,IACD,WACE,MAAO,CAAC,aAAc,QACxB,KAAC,OAAAznB,CAAA,CAP4C,CACjCwL,aASlB,IAvYDlU,GAAEC,GAAGC,UAAUoI,KAAKuO,WAAWulB,KAAKl9B,cAAgBA,CAAc,C,i8HCAlEK,GAAEC,UAAUC,qBAAqBP,GAsBjCK,GAAEG,MAAMC,OAAO,6CAA8C,CAC5DC,OAAQI,GAAGC,GAAGC,UAAUoI,KAAKuO,WAAWC,kBAOxCrU,QAAS,CACP45B,cAAe,KAEftoB,MAAK,WAAG,IAAA3O,EAAAjM,KACN6G,GAAAC,GAAAC,UAAAoI,KAAAuO,WAAAylB,WAAA1iB,WAAAlf,UAAAqZ,MAAA3Y,KAAAjC,MAEA,OADeA,KAAK2W,SAASrL,aAAa,WAExC,IAAK,cACH,IACyEV,EADrEw4B,GAAa,EAAMv4B,EAAAzG,2BACHpE,KAAK2W,SAAS7L,iBAAiB,wBAAsB,IAAzE,IAAAD,EAAAjG,MAAAgG,EAAAC,EAAAhG,KAAApF,MAA2E,KAAlE2c,EAAOxR,EAAAtL,MACd8jC,GAAa,EACwB,UAAjChnB,EAAQ9Q,aAAa,SACvBtL,KAAK2W,SAASjG,iBAAiB,eAAe,SAAAqH,GAC5C9L,EAAKoQ,cAActE,GAEnBA,EAAGuE,iBACL,GAEJ,CAAC,OAAAjc,GAAAwK,EAAA3G,EAAA7D,EAAA,SAAAwK,EAAA9F,GAAA,CACIq+B,GACHpjC,KAAKT,MAAM,uGAEb,MAEF,IAAK,QACES,KAAK2W,SAASlM,cAAc,sBAC/BzK,KAAKT,MAAM,qEAInB,EAEAmiC,QAAO,SAACh2B,GACN,OAAQ1L,KAAK2W,SAASrL,aAAa,WACjC,IAAK,QACH,IAAMoL,EAAQ1W,KAAK2W,SAASlM,cAAc,qBACtCiM,GACFA,EAAMnP,cAAcyP,OAEtBtL,EAAM4Q,kBACN,MAEF,IAAK,cACH,IAMyEtR,EANnE+M,EAAK,IAAI0J,YAAY,YAAa,CACtCpE,OAAQ,CACN/d,OAAQU,KAAKkjC,cACb7hB,OAAQrhB,QAETiL,EAAA7G,2BACiBpE,KAAK2W,SAAS7L,iBAAiB,wBAAsB,IAAzE,IAAAG,EAAArG,MAAAoG,EAAAC,EAAApG,KAAApF,MAA2E,KAAlE2c,EAAOpR,EAAA1L,MACuB,SAAjC8c,EAAQ9Q,aAAa,SACvB8Q,EAAQsF,cAAc3J,EAE1B,CAAC,OAAA1X,GAAA4K,EAAA/G,EAAA7D,EAAA,SAAA4K,EAAAlG,GAAA,CACD2G,EAAM4Q,kBAIZ,EAOAD,cAAa,SAACtE,GAGZ,IAAIzY,EAA2B,KAAnByY,EAAGsF,OAAOE,MACtB,GAAIxF,EAAGsF,OAAOgE,kBAAkBxa,GAAGC,GAAGC,UAAUoI,KAAK8L,SAASqG,QAAS,CACrE,IAAMC,EAAiBxJ,EAAGsF,OAAOgE,OAAOvG,aACpCyG,EAAepR,aAAa,WAE9B7Q,EAAQyY,EAAGsF,OAAOE,OAASgE,EAAejW,aAAa,SAE3D,CACAtL,KAAKkjC,cAAgB5jC,CACvB,GAGF6G,MAAK,SAACwC,GACJuG,eAAe1I,OACbK,GAAGC,GAAGC,UAAUoI,KAAKC,WAAWrH,OAAS,YAAW,SAAAgb,GAAA,aAAAzgB,UAAAiN,EAAAwT,GAAA,IAAAzT,EAAArM,aAAAsM,GAElD,SAAAA,IAAcnN,gBAAApC,KAAAuP,GAAA,OAAAD,EAAArN,KAAAjC,KACN2I,EACR,CAAC,OAAAxH,aAAAoO,EAAA,CAJiD,CACtCwL,aAMlB,IAvHDlU,GAAEC,GAAGC,UAAUoI,KAAKuO,WAAWylB,WAAWp9B,cAAgBA,CAAc,C,kxFCCxE4J,oBAAA,kBAAAmV,CAAA,MAAAA,EAAA,GAAAC,EAAA/jB,OAAAO,UAAAyjB,EAAAD,EAAArc,eAAAzH,EAAAD,OAAAC,gBAAA,SAAAgkB,EAAA/lB,EAAAgmB,GAAAD,EAAA/lB,GAAAgmB,EAAA5lB,KAAA,EAAA6lB,EAAA,mBAAArjB,cAAA,GAAAsjB,EAAAD,EAAA5gB,UAAA,aAAA8gB,EAAAF,EAAAG,eAAA,kBAAAC,EAAAJ,EAAAK,aAAA,yBAAAhf,EAAAye,EAAA/lB,EAAAI,GAAA,OAAA0B,OAAAC,eAAAgkB,EAAA/lB,EAAA,CAAAI,QAAAuB,YAAA,EAAAC,cAAA,EAAAC,UAAA,IAAAkkB,EAAA/lB,EAAA,KAAAsH,EAAA,aAAAnG,GAAAmG,EAAA,SAAAye,EAAA/lB,EAAAI,GAAA,OAAA2lB,EAAA/lB,GAAAI,CAAA,WAAA0Q,EAAAyV,EAAAC,EAAA3lB,EAAA4lB,GAAA,IAAAC,EAAAF,KAAAnkB,qBAAAskB,EAAAH,EAAAG,EAAAC,EAAA9kB,OAAAyB,OAAAmjB,EAAArkB,WAAAwkB,EAAA,IAAAC,EAAAL,GAAA,WAAA1kB,EAAA6kB,EAAA,WAAAxmB,MAAA2mB,EAAAR,EAAA1lB,EAAAgmB,KAAAD,CAAA,UAAAI,EAAApmB,EAAAmlB,EAAA9lB,GAAA,WAAAwH,KAAA,SAAAxH,IAAAW,EAAAmC,KAAAgjB,EAAA9lB,GAAA,OAAAkB,GAAA,OAAAsG,KAAA,QAAAxH,IAAAkB,EAAA,EAAAykB,EAAA9U,OAAA,IAAAmW,EAAA,YAAAN,IAAA,UAAAO,IAAA,UAAAC,IAAA,KAAAC,EAAA,GAAA9f,EAAA8f,EAAAlB,GAAA,kBAAAplB,IAAA,QAAAumB,EAAAvlB,OAAAmD,eAAAqiB,EAAAD,OAAAE,EAAA,MAAAD,OAAAzB,GAAAC,EAAA/iB,KAAAukB,EAAApB,KAAAkB,EAAAE,GAAA,IAAAE,EAAAL,EAAA9kB,UAAAskB,EAAAtkB,UAAAP,OAAAyB,OAAA6jB,GAAA,SAAAK,EAAAplB,GAAA,0BAAAyN,SAAA,SAAA4X,GAAApgB,EAAAjF,EAAAqlB,GAAA,SAAAznB,GAAA,OAAAa,KAAA6mB,QAAAD,EAAAznB,EAAA,gBAAA2nB,EAAAhB,EAAAiB,GAAA,SAAAC,EAAAJ,EAAAznB,EAAAO,EAAAF,GAAA,IAAAynB,EAAAf,EAAAJ,EAAAc,GAAAd,EAAA3mB,GAAA,aAAA8nB,EAAAtgB,KAAA,KAAAtD,EAAA4jB,EAAA9nB,IAAAG,EAAA+D,EAAA/D,MAAA,OAAAA,GAAA,UAAAmC,QAAAnC,IAAA0lB,EAAA/iB,KAAA3C,EAAA,WAAAynB,EAAArnB,QAAAJ,EAAA4nB,SAAAtnB,MAAA,SAAAN,GAAA0nB,EAAA,OAAA1nB,EAAAI,EAAAF,EAAA,aAAAa,GAAA2mB,EAAA,QAAA3mB,EAAAX,EAAAF,EAAA,IAAAunB,EAAArnB,QAAAJ,GAAAM,MAAA,SAAAunB,GAAA9jB,EAAA/D,MAAA6nB,EAAAznB,EAAA2D,EAAA,aAAA9D,GAAA,OAAAynB,EAAA,QAAAznB,EAAAG,EAAAF,EAAA,IAAAA,EAAAynB,EAAA9nB,IAAA,KAAAioB,EAAAnmB,EAAAjB,KAAA,WAAAV,MAAA,SAAAsnB,EAAAznB,GAAA,SAAAkoB,IAAA,WAAAN,GAAA,SAAArnB,EAAAF,GAAAwnB,EAAAJ,EAAAznB,EAAAO,EAAAF,EAAA,WAAA4nB,MAAAxnB,KAAAynB,QAAA,aAAApB,EAAAR,EAAA1lB,EAAAgmB,GAAA,IAAAxI,EAAA,iCAAAqJ,EAAAznB,GAAA,iBAAAoe,EAAA,UAAApC,MAAA,iDAAAoC,EAAA,cAAAqJ,EAAA,MAAAznB,EAAA,OAAAmoB,GAAA,KAAAvB,EAAAa,SAAAb,EAAA5mB,QAAA,KAAAooB,EAAAxB,EAAAwB,SAAA,GAAAA,EAAA,KAAAC,EAAAC,EAAAF,EAAAxB,GAAA,GAAAyB,EAAA,IAAAA,IAAArB,EAAA,gBAAAqB,CAAA,cAAAzB,EAAAa,OAAAb,EAAA2B,KAAA3B,EAAA4B,MAAA5B,EAAA5mB,SAAA,aAAA4mB,EAAAa,OAAA,uBAAArJ,EAAA,MAAAA,EAAA,YAAAwI,EAAA5mB,IAAA4mB,EAAA6B,kBAAA7B,EAAA5mB,IAAA,gBAAA4mB,EAAAa,QAAAb,EAAApV,OAAA,SAAAoV,EAAA5mB,KAAAoe,EAAA,gBAAA0J,EAAAf,EAAAT,EAAA1lB,EAAAgmB,GAAA,cAAAkB,EAAAtgB,KAAA,IAAA4W,EAAAwI,EAAAtmB,KAAA,6BAAAwnB,EAAA9nB,MAAAgnB,EAAA,gBAAA7mB,MAAA2nB,EAAA9nB,IAAAM,KAAAsmB,EAAAtmB,KAAA,WAAAwnB,EAAAtgB,OAAA4W,EAAA,YAAAwI,EAAAa,OAAA,QAAAb,EAAA5mB,IAAA8nB,EAAA9nB,IAAA,YAAAsoB,EAAAF,EAAAxB,GAAA,IAAA8B,EAAA9B,EAAAa,SAAAW,EAAAhjB,SAAAsjB,GAAA,QAAAvnB,IAAAsmB,EAAA,OAAAb,EAAAwB,SAAA,eAAAM,GAAAN,EAAAhjB,SAAA,SAAAwhB,EAAAa,OAAA,SAAAb,EAAA5mB,SAAAmB,EAAAmnB,EAAAF,EAAAxB,GAAA,UAAAA,EAAAa,SAAA,WAAAiB,IAAA9B,EAAAa,OAAA,QAAAb,EAAA5mB,IAAA,IAAA+C,UAAA,oCAAA2lB,EAAA,aAAA1B,EAAA,IAAAc,EAAAf,EAAAU,EAAAW,EAAAhjB,SAAAwhB,EAAA5mB,KAAA,aAAA8nB,EAAAtgB,KAAA,OAAAof,EAAAa,OAAA,QAAAb,EAAA5mB,IAAA8nB,EAAA9nB,IAAA4mB,EAAAwB,SAAA,KAAApB,EAAA,IAAA/mB,EAAA6nB,EAAA9nB,IAAA,OAAAC,IAAAK,MAAAsmB,EAAAwB,EAAAO,YAAA1oB,EAAAE,MAAAymB,EAAA5gB,KAAAoiB,EAAAQ,QAAA,WAAAhC,EAAAa,SAAAb,EAAAa,OAAA,OAAAb,EAAA5mB,SAAAmB,GAAAylB,EAAAwB,SAAA,KAAApB,GAAA/mB,GAAA2mB,EAAAa,OAAA,QAAAb,EAAA5mB,IAAA,IAAA+C,UAAA,oCAAA6jB,EAAAwB,SAAA,KAAApB,EAAA,UAAA6B,EAAAC,GAAA,IAAA1O,EAAA,CAAA2O,OAAAD,EAAA,SAAAA,IAAA1O,EAAA4O,SAAAF,EAAA,SAAAA,IAAA1O,EAAA6O,WAAAH,EAAA,GAAA1O,EAAA8O,SAAAJ,EAAA,IAAAjoB,KAAAsoB,WAAA1f,KAAA2Q,EAAA,UAAAgP,EAAAhP,GAAA,IAAA0N,EAAA1N,EAAAiP,YAAA,GAAAvB,EAAAtgB,KAAA,gBAAAsgB,EAAA9nB,IAAAoa,EAAAiP,WAAAvB,CAAA,UAAAjB,EAAAL,GAAA3lB,KAAAsoB,WAAA,EAAAJ,OAAA,SAAAvC,EAAA3W,QAAAgZ,EAAAhoB,WAAAyoB,OAAA,YAAAhC,EAAAiC,GAAA,GAAAA,EAAA,KAAAC,EAAAD,EAAAtD,GAAA,GAAAuD,EAAA,OAAAA,EAAA1mB,KAAAymB,GAAA,sBAAAA,EAAAvjB,KAAA,OAAAujB,EAAA,IAAAhK,MAAAgK,EAAA/nB,QAAA,KAAAD,GAAA,EAAAyE,EAAA,SAAAA,IAAA,OAAAzE,EAAAgoB,EAAA/nB,QAAA,GAAAqkB,EAAA/iB,KAAAymB,EAAAhoB,GAAA,OAAAyE,EAAA7F,MAAAopB,EAAAhoB,GAAAyE,EAAA1F,MAAA,EAAA0F,EAAA,OAAAA,EAAA7F,WAAAgB,EAAA6E,EAAA1F,MAAA,EAAA0F,CAAA,SAAAA,QAAA,SAAAA,KAAAmiB,EAAA,UAAAA,IAAA,OAAAhoB,WAAAgB,EAAAb,MAAA,UAAA2mB,EAAA7kB,UAAA8kB,EAAAplB,EAAAylB,EAAA,eAAApnB,MAAA+mB,EAAAvlB,cAAA,IAAAG,EAAAolB,EAAA,eAAA/mB,MAAA8mB,EAAAtlB,cAAA,IAAAslB,EAAAwC,YAAApiB,EAAA6f,EAAAd,EAAA,qBAAAT,EAAA+D,oBAAA,SAAAC,GAAA,IAAAC,EAAA,mBAAAD,KAAApmB,YAAA,QAAAqmB,QAAA3C,GAAA,uBAAA2C,EAAAH,aAAAG,EAAAtjB,MAAA,EAAAqf,EAAAlV,KAAA,SAAAkZ,GAAA,OAAA9nB,OAAA8B,eAAA9B,OAAA8B,eAAAgmB,EAAAzC,IAAAyC,EAAA9lB,UAAAqjB,EAAA7f,EAAAsiB,EAAAvD,EAAA,sBAAAuD,EAAAvnB,UAAAP,OAAAyB,OAAAikB,GAAAoC,CAAA,EAAAhE,EAAAkE,MAAA,SAAA7pB,GAAA,OAAA+nB,QAAA/nB,EAAA,EAAAwnB,EAAAG,EAAAvlB,WAAAiF,EAAAsgB,EAAAvlB,UAAA8jB,GAAA,kBAAArlB,IAAA,IAAA8kB,EAAAgC,gBAAAhC,EAAAmE,MAAA,SAAAxD,EAAAC,EAAA3lB,EAAA4lB,EAAAoB,QAAA,IAAAA,MAAApnB,SAAA,IAAAupB,EAAA,IAAApC,EAAA9W,EAAAyV,EAAAC,EAAA3lB,EAAA4lB,GAAAoB,GAAA,OAAAjC,EAAA+D,oBAAAnD,GAAAwD,IAAA/jB,OAAAvF,MAAA,SAAAyD,GAAA,OAAAA,EAAA5D,KAAA4D,EAAA/D,MAAA4pB,EAAA/jB,MAAA,KAAAwhB,EAAAD,GAAAlgB,EAAAkgB,EAAAnB,EAAA,aAAA/e,EAAAkgB,EAAAtB,GAAA,kBAAAplB,IAAA,IAAAwG,EAAAkgB,EAAA,qDAAA5B,EAAA5P,KAAA,SAAAsJ,GAAA,IAAA2K,EAAAnoB,OAAAwd,GAAAtJ,EAAA,WAAAhW,KAAAiqB,EAAAjU,EAAAtM,KAAA1J,GAAA,OAAAgW,EAAAkU,UAAA,SAAAjkB,IAAA,KAAA+P,EAAAvU,QAAA,KAAAzB,EAAAgW,EAAAmU,MAAA,GAAAnqB,KAAAiqB,EAAA,OAAAhkB,EAAA7F,MAAAJ,EAAAiG,EAAA1F,MAAA,EAAA0F,CAAA,QAAAA,EAAA1F,MAAA,EAAA0F,CAAA,GAAA2f,EAAA2B,SAAAT,EAAAzkB,UAAA,CAAAmB,YAAAsjB,EAAAyC,MAAA,SAAAa,GAAA,GAAAtpB,KAAAkQ,KAAA,EAAAlQ,KAAAmF,KAAA,EAAAnF,KAAA0nB,KAAA1nB,KAAA2nB,WAAArnB,EAAAN,KAAAP,MAAA,EAAAO,KAAAunB,SAAA,KAAAvnB,KAAA4mB,OAAA,OAAA5mB,KAAAb,SAAAmB,EAAAN,KAAAsoB,WAAAtZ,QAAAuZ,IAAAe,EAAA,QAAA7jB,KAAAzF,KAAA,MAAAyF,EAAA8jB,OAAA,IAAAvE,EAAA/iB,KAAAjC,KAAAyF,KAAAiZ,OAAAjZ,EAAAD,MAAA,MAAAxF,KAAAyF,QAAAnF,EAAA,EAAAsQ,KAAA,WAAA5Q,KAAAP,MAAA,MAAA+pB,EAAAxpB,KAAAsoB,WAAA,GAAAE,WAAA,aAAAgB,EAAA7iB,KAAA,MAAA6iB,EAAArqB,IAAA,OAAAa,KAAAypB,IAAA,EAAA7B,kBAAA,SAAA8B,GAAA,GAAA1pB,KAAAP,KAAA,MAAAiqB,EAAA,IAAA3D,EAAA/lB,KAAA,SAAA2pB,EAAAC,EAAAC,GAAA,OAAA5C,EAAAtgB,KAAA,QAAAsgB,EAAA9nB,IAAAuqB,EAAA3D,EAAA5gB,KAAAykB,EAAAC,IAAA9D,EAAAa,OAAA,OAAAb,EAAA5mB,SAAAmB,KAAAupB,CAAA,SAAAnpB,EAAAV,KAAAsoB,WAAA3nB,OAAA,EAAAD,GAAA,IAAAA,EAAA,KAAA6Y,EAAAvZ,KAAAsoB,WAAA5nB,GAAAumB,EAAA1N,EAAAiP,WAAA,YAAAjP,EAAA2O,OAAA,OAAAyB,EAAA,UAAApQ,EAAA2O,QAAAloB,KAAAkQ,KAAA,KAAA4Z,EAAA9E,EAAA/iB,KAAAsX,EAAA,YAAAwQ,EAAA/E,EAAA/iB,KAAAsX,EAAA,iBAAAuQ,GAAAC,EAAA,IAAA/pB,KAAAkQ,KAAAqJ,EAAA4O,SAAA,OAAAwB,EAAApQ,EAAA4O,UAAA,MAAAnoB,KAAAkQ,KAAAqJ,EAAA6O,WAAA,OAAAuB,EAAApQ,EAAA6O,WAAA,SAAA0B,GAAA,GAAA9pB,KAAAkQ,KAAAqJ,EAAA4O,SAAA,OAAAwB,EAAApQ,EAAA4O,UAAA,YAAA4B,EAAA,UAAA5O,MAAA,6CAAAnb,KAAAkQ,KAAAqJ,EAAA6O,WAAA,OAAAuB,EAAApQ,EAAA6O,WAAA,KAAAzX,OAAA,SAAAhK,EAAAxH,GAAA,QAAAuB,EAAAV,KAAAsoB,WAAA3nB,OAAA,EAAAD,GAAA,IAAAA,EAAA,KAAA6Y,EAAAvZ,KAAAsoB,WAAA5nB,GAAA,GAAA6Y,EAAA2O,QAAAloB,KAAAkQ,MAAA8U,EAAA/iB,KAAAsX,EAAA,eAAAvZ,KAAAkQ,KAAAqJ,EAAA6O,WAAA,KAAA4B,EAAAzQ,EAAA,OAAAyQ,IAAA,UAAArjB,GAAA,aAAAA,IAAAqjB,EAAA9B,QAAA/oB,MAAA6qB,EAAA5B,aAAA4B,EAAA,UAAA/C,EAAA+C,IAAAxB,WAAA,UAAAvB,EAAAtgB,OAAAsgB,EAAA9nB,MAAA6qB,GAAAhqB,KAAA4mB,OAAA,OAAA5mB,KAAAmF,KAAA6kB,EAAA5B,WAAAjC,GAAAnmB,KAAAiqB,SAAAhD,EAAA,EAAAgD,SAAA,SAAAhD,EAAAoB,GAAA,aAAApB,EAAAtgB,KAAA,MAAAsgB,EAAA9nB,IAAA,gBAAA8nB,EAAAtgB,MAAA,aAAAsgB,EAAAtgB,KAAA3G,KAAAmF,KAAA8hB,EAAA9nB,IAAA,WAAA8nB,EAAAtgB,MAAA3G,KAAAypB,KAAAzpB,KAAAb,IAAA8nB,EAAA9nB,IAAAa,KAAA4mB,OAAA,SAAA5mB,KAAAmF,KAAA,kBAAA8hB,EAAAtgB,MAAA0hB,IAAAroB,KAAAmF,KAAAkjB,GAAAlC,CAAA,EAAA+D,OAAA,SAAA9B,GAAA,QAAA1nB,EAAAV,KAAAsoB,WAAA3nB,OAAA,EAAAD,GAAA,IAAAA,EAAA,KAAA6Y,EAAAvZ,KAAAsoB,WAAA5nB,GAAA,GAAA6Y,EAAA6O,eAAA,OAAApoB,KAAAiqB,SAAA1Q,EAAAiP,WAAAjP,EAAA8O,UAAAE,EAAAhP,GAAA4M,CAAA,GAAAgE,MAAA,SAAAjC,GAAA,QAAAxnB,EAAAV,KAAAsoB,WAAA3nB,OAAA,EAAAD,GAAA,IAAAA,EAAA,KAAA6Y,EAAAvZ,KAAAsoB,WAAA5nB,GAAA,GAAA6Y,EAAA2O,WAAA,KAAAjB,EAAA1N,EAAAiP,WAAA,aAAAvB,EAAAtgB,KAAA,KAAAyjB,EAAAnD,EAAA9nB,IAAAopB,EAAAhP,EAAA,QAAA6Q,CAAA,YAAAjP,MAAA,0BAAAkP,cAAA,SAAA3B,EAAAZ,EAAAC,GAAA,OAAA/nB,KAAAunB,SAAA,CAAAhjB,SAAAkiB,EAAAiC,GAAAZ,aAAAC,WAAA,SAAA/nB,KAAA4mB,SAAA5mB,KAAAb,SAAAmB,GAAA6lB,CAAA,GAAArB,CAAA,UAAA1kB,mBAAAf,EAAAK,EAAAF,EAAAR,EAAAC,EAAAC,EAAAC,GAAA,QAAAC,EAAAC,EAAAH,GAAAC,GAAAG,EAAAF,EAAAE,KAAA,OAAAC,GAAAC,EAAAD,GAAA,OAAAH,EAAAK,KAAAC,EAAAJ,GAAAK,QAAAD,QAAAJ,GAAAM,KAAAZ,EAAAC,EAAA,UAAAY,kBAAAC,GAAA,sBAAAC,EAAAC,KAAAC,EAAAC,UAAA,WAAAP,SAAA,SAAAD,EAAAF,GAAA,IAAAH,EAAAS,EAAAK,MAAAJ,EAAAE,GAAA,SAAAjB,EAAAM,GAAAc,mBAAAf,EAAAK,EAAAF,EAAAR,EAAAC,EAAA,OAAAK,EAAA,UAAAL,EAAAoB,GAAAD,mBAAAf,EAAAK,EAAAF,EAAAR,EAAAC,EAAA,QAAAoB,EAAA,CAAArB,OAAAsB,EAAA,qBAAAyF,EAAA,CAAAC,UAAA,aAAAC,MAAA,UAAAC,SAAA,0DAAAA,SAAA,oGAAAC,MAAA,aADAC,GAAEC,UAAUC,qBAAqBP,GAGjCK,GAAEG,MAAMC,OAAO,yCAA0C,CACxDC,OAAQI,GAAGC,GAAGC,UAAUoI,KAAK8L,SAASC,sBAOtCpT,QAAS,CACRu7B,WAAY,GAQb/5B,QAAS,CACPg6B,SAAU,KAEJ1oB,MAAK,WAAG,IAAA3O,EAAAjM,KAAA,OAAAH,kBAAA8P,sBAAAC,MAAA,SAAAC,IAAA,IAAApK,EAAA89B,EAAA1e,EAAA2e,EAAAjxB,EAAA9R,EAAAgjC,EAAA,OAAA9zB,sBAAAK,MAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAA9K,MAAA,OACZ0B,GAAAC,GAAAC,UAAAoI,KAAAuO,WAAAgmB,OAAAjjB,WAAAlf,UAAAqZ,MAAA3Y,KAAAgK,GAEIxG,EAAO,GAKV,KAHCA,EADEwG,EAAK0K,SAASxG,aAAa,QACtBlE,EAAK0K,SAASrL,aAAa,QAE3BW,EAAK0K,SAASrI,kBAAkBlD,SAAS3C,eAE1C,CAAAwH,EAAA9K,KAAA,SACAo+B,EAAa,UAAY99B,EAAIwK,EAAA9K,KAAA,SAChB8G,EAAK03B,eAAeJ,GAAW,OAAxC,IAAAtzB,EAAAyX,KACF,CAAAzX,EAAA9K,KAAA,SAEF0f,EAAQ,KAAI5U,EAAAgvB,GAAAtvB,sBAAAuF,KACKrO,GAAG+8B,SAAO,YAAA3zB,EAAAivB,GAAAjvB,EAAAgvB,MAAAx/B,KAAA,CAAAwQ,EAAA9K,KAAA,SAAd,IAARq+B,EAAQvzB,EAAAivB,GAAA5/B,OACFmJ,gBAAkBhD,EAAI,CAAAwK,EAAA9K,KAAA,SACjC0f,EAAQhe,GAAG+8B,QAAQJ,GAAU,OAAAvzB,EAAAU,OAAA,oBAAAV,EAAA9K,KAAA,iBAIjC,GAAI0f,EAAO,CACThe,GAAGC,GAAGC,UAAUoI,KAAKuO,WAAWgmB,OAAOL,aACjC9wB,EAAK,QAAU1L,GAAGC,GAAGC,UAAUoI,KAAKuO,WAAWgmB,OAAOL,WACtD5iC,EAAQokB,EAAM7R,MAAM/G,EAAK0K,SAASrI,kBAAmBiE,EAAI,GAAI,QACnE1L,GAAG2H,eAAejH,cAAckH,gBAAe,GAC/CxC,EAAKq3B,SAAW,IAAIze,EAAMpkB,GAC1BwL,EAAK0K,SAASV,UAAS,qCAAA7E,OAAwCmB,EAAE,iBAAAnB,OAAgB3Q,EAAM64B,OAAM,MAAAloB,OAAKnF,EAAKq3B,SAASzJ,eAAc,UACxH4J,EAAe58B,GAAGQ,KAAKwjB,aAAatjB,cAC1C6I,OAAOyzB,uBAAsB,WACtBJ,EAAaK,aAMhBj9B,GAAG2H,eAAejH,cAAckH,gBAAe,GAJ/Cg1B,EAAa/1B,gBAAgB,YAAY,WACvC7G,GAAG2H,eAAejH,cAAckH,gBAAe,EACjD,GAIJ,GACF,MACExC,EAAK1M,MAAM,kCAAoCgkC,GAChD,QAAAtzB,EAAA9K,KAAA,iBAGH8G,EAAK1M,MAAM,4BAA4B,yBAAA0Q,EAAAW,OAAA,GAAAf,EAAA,IA5C7BhQ,EA8Cd,EAEM8jC,eAAc,SAACJ,GAAY,IAAA32B,EAAA5M,KAAA,OAAAH,kBAAA8P,sBAAAC,MAAA,SAAA6c,IAAA,IAAA+B,EAAA,OAAA7e,sBAAAK,MAAA,SAAA+c,GAAA,cAAAA,EAAA7c,KAAA6c,EAAA5nB,MAAA,OAC0B,KAAnDqpB,EAAOpoB,GAAG29B,KAAKx8B,cAAcy8B,WAAWT,IACtC,CAAAxW,EAAA5nB,KAAA,eAAA4nB,EAAApc,OAAA,SACC,IAAIhR,SAAQ,SAAAD,GACjB8uB,EAAKyV,MAAK,kBAAMvkC,EAAQ8uB,EAAK,GAAE5hB,EACjC,KAAE,OAEJA,EAAKrN,MAAM,SAAUgkC,EAAY,kBAAkB,OAAAxW,EAAApc,OAAA,SAC5ChR,QAAQD,QAAQ,OAAK,wBAAAqtB,EAAAnc,OAAA,GAAA6b,EAAA,IARG5sB,EASjC,GAGFsG,MAAK,SAACwC,GACJuG,eAAe1I,OACbK,GAAGC,GAAGC,UAAUoI,KAAKC,WAAWrH,OAAS,SAAQ,SAAAgb,GAAA,aAAAzgB,UAAAiN,EAAAwT,GAAA,IAAAzT,EAAArM,aAAAsM,GAE/C,SAAAA,IAAcnN,gBAAApC,KAAAuP,GAAA,OAAAD,EAAArN,KAAAjC,KACN2I,EACR,CAAC,OAAAxH,aAAAoO,EAAA,CAJ8C,CACnCwL,aAMlB,IA5FDlU,GAAEC,GAAGC,UAAUoI,KAAKuO,WAAWgmB,OAAO39B,cAAgBA,CAAc,CACpE,G,s1FCDAK,GAAEC,UAAUC,qBAAqBP,GA0BjCK,GAAEG,MAAMC,OAAO,gDAAiD,CAC/DC,OAAQI,GAAGC,GAAGC,UAAUoI,KAAKuO,WAAWC,kBACxC2M,QAASzjB,GAAGC,GAAGC,UAAUoI,KAAKqL,YAO9BzR,WAAY,CACVoV,SAAU,CACRlV,MAAO,SACP9I,MAAO,kBAGT+N,KAAM,CACJjF,MAAO,SACP9I,MAAO,cAGTwG,KAAM,CACJsC,MAAO,CAAC,SAAU,cAClBC,KAAM,UAGR6mB,IAAK,CACH9mB,MAAO,SACPC,KAAM,GAGR6Y,IAAK,CACH9Y,MAAO,SACPC,KAAM,MASVI,QAAS,CACP46B,SAAkB,KAClBC,SAAiB,KACjBC,SAAS,KACTC,SAAoB,KACpBC,SAAU,KACVC,SAAS,KACTC,SAAU,KACVC,SAAuB,KACvBC,SAAwB,KACxBC,eAAgB,KAEhB/pB,MAAK,WAAG,IAAA3O,EAAAjM,KACN6G,GAAAC,GAAAC,UAAAoI,KAAAuO,WAAAknB,cAAAnkB,WAAAlf,UAAAqZ,MAAA3Y,KAAAjC,MACA,IAAMuI,EAAUvI,KAAK2W,SACfY,EAAQpO,SAASsB,cAAc,SAAS8M,MACxCstB,EAAiBt8B,EAAQ4H,aAAa,UACtC+R,EAAUliB,KAAKskC,SACnB/7B,EAAQ+C,aAAa,WAAaoJ,SAAS6C,EAAM6F,iBAAiB,qBAAuB,GACrF6V,EAAc1qB,EAAQ+C,aAAa,WAAa,EAChDw5B,EAAoB9kC,KAAKqkC,SAAqBniB,EAAS+Q,EAAc,EAC3EjzB,KAAKmkC,SAAqC,EAAnBW,EAAuB3kB,KAAKC,GAEnD,GAAI7X,EAAQ4H,aAAa,OAAQ,CAC/B,IAAM4f,EAAMrb,SAASnM,EAAQ+C,aAAa,QACrCoT,MAAMqR,IACT/vB,KAAK+kC,OAAOhV,EAEhB,CAEA,GAAIxnB,EAAQ4H,aAAa,OAAQ,CAC/B,IAAM4R,EAAMrN,SAASnM,EAAQ+C,aAAa,QACrCoT,MAAMqD,IACT/hB,KAAKglC,OAAOjjB,EAEhB,CAEIxZ,EAAQ4H,aAAa,SACvBnQ,KAAK2e,QAAQpW,EAAQ+C,aAAa,SAEpC,IAAM3E,EAAO3G,KAAK0gB,UACd0B,EAAkB,eAATzb,EAAwBub,EAAkB,EAATA,EACxC+iB,EAAK,6BACL5kB,EAAMlX,SAASmX,gBAAgB2kB,EAAI,OACzC5kB,EAAI9P,aAAa,SAAU6R,GAC3B/B,EAAI9P,aAAa,QAAS,GAAe,EAAT2R,GAChC7B,EAAI9P,aAAa,OAAQ5J,GAEzB,GAAa,WAATA,EAAmB,CACrB,IAAK4B,EAAQ4H,aAAa,iBAAkB,CAC1C,IAAM+0B,EAAK/7B,SAASmX,gBAAgB2kB,EAAI,UACxCC,EAAGx6B,UAAUQ,IAAI,MACjBg6B,EAAG30B,aAAa,IAAK,GAAIu0B,GACzBI,EAAG30B,aAAa,KAAM,OACtB20B,EAAG30B,aAAa,KAAM,OACtB20B,EAAG30B,aAAa,OAAQ,eACxB20B,EAAG30B,aAAa,eAAgB0iB,GAC5B1qB,EAAQ4H,aAAa,sBACvB+0B,EAAG3tB,MAAM4tB,OAAS58B,EAAQ+C,aAAa,qBAEzC+U,EAAI9R,YAAY22B,EAClB,CACA,IAAME,EAAMj8B,SAASmX,gBAAgB2kB,EAAI,UACzCG,EAAI16B,UAAUQ,IAAI,OAClBk6B,EAAI70B,aAAa,IAAK,GAAIu0B,GAC1BM,EAAI70B,aAAa,KAAM,OACvB60B,EAAI70B,aAAa,KAAM,OACvB60B,EAAI70B,aAAa,eAAgB0iB,GACjCmS,EAAI70B,aAAa,mBAAkB,GAAAa,OAAKpR,KAAKmkC,SAAe,KAAA/yB,OAAIpR,KAAKmkC,WACrEiB,EAAI70B,aAAa,oBAAqBvQ,KAAKmkC,UACvC57B,EAAQ4H,aAAa,sBACvBi1B,EAAI7tB,MAAM4tB,OAAS58B,EAAQ+C,aAAa,qBAE1C+U,EAAI9R,YAAY62B,EAClB,MAAO,GAAa,eAATz+B,EAAuB,CAChC,IAAK4B,EAAQ4H,aAAa,iBAAkB,CAC1C,IAAMk1B,EAAKl8B,SAASmX,gBAAgB2kB,EAAI,QACxCI,EAAG36B,UAAUQ,IAAI,MACjBm6B,EAAG90B,aAAa,IAAG,KAAAa,OAAO6hB,EAAc,EAAC,KAAA7hB,OAAI8Q,EAAM,OAAA9Q,OAAM0zB,EAAgB,KAAA1zB,OAAI0zB,EAAgB,WAAA1zB,OAClF,EAAT8Q,EAAa+Q,EAAc,EAAC,KAAA7hB,OAC1B8Q,IACJmjB,EAAG90B,aAAa,OAAQ,eACxB80B,EAAG90B,aAAa,eAAgB0iB,GAC5B1qB,EAAQ4H,aAAa,sBACvBk1B,EAAG9tB,MAAM4tB,OAAS58B,EAAQ+C,aAAa,qBAEzC+U,EAAI9R,YAAY82B,EAClB,CACArlC,KAAKokC,SAAU,CACb/hB,EAAG4Q,EAAc,EACjBzQ,EAAGN,GAEL,IAAMojB,EAAMn8B,SAASmX,gBAAgB2kB,EAAI,QACzCK,EAAI56B,UAAUQ,IAAI,OAClBo6B,EAAI/0B,aAAa,IAAG,KAAAa,OAAO6hB,EAAc,EAAC,KAAA7hB,OAAI8Q,EAAM,OAAA9Q,OAAM0zB,EAAgB,KAAA1zB,OAAI0zB,EAAgB,WAAA1zB,OAC5F6hB,EAAc,EAAC,KAAA7hB,OACb8Q,IACJojB,EAAI/0B,aAAa,OAAQ,eACzB+0B,EAAI/0B,aAAa,eAAgB0iB,GAC7B1qB,EAAQ4H,aAAa,sBACvBm1B,EAAI/tB,MAAM4tB,OAAS58B,EAAQ+C,aAAa,qBAE1C+U,EAAI9R,YAAY+2B,EAClB,CACA/8B,EAAQ24B,gBAAgB7gB,EAAKlX,SAASmO,cAAc,UAEpDtX,KAAKykC,SAAiC,EAATviB,EAA2B,EAAd+Q,EAAkB,GAEvD4R,GACHz+B,GAAGsF,MAAMC,QAAQC,IAAI+0B,UAAU,mCAAmC,SAAA5oB,GAChE9L,EAAKq4B,SAAWvsB,EAAG+qB,UACnB72B,EAAKo4B,SAAqBp4B,EAAKq4B,SAAWrR,EAAc,EACxDhnB,EAAKk4B,SAA4C,EAA1Bl4B,EAAKo4B,SAAyBlkB,KAAKC,GAC1DgC,EAAkB,eAATzb,EAAwBsF,EAAKq4B,SAA2B,EAAhBr4B,EAAKq4B,SACtD,IAAMjkB,EAAM9X,EAAQkC,cAAc,gBAClC4V,EAAI9P,aAAa,SAAU,GAAK6R,GAChC/B,EAAI9P,aAAa,QAAS,GAAqB,EAAhBtE,EAAKq4B,UACpC,GAAa,WAAT39B,EACFsF,EAAK0K,SAAS7L,iBAAiB,yBAAyBkE,SAAQ,SAAAuR,GAC9DA,EAAOhQ,aAAa,IAAK,GAAKtE,EAAKo4B,UACnC,GAAI9jB,EAAO7V,UAAUC,SAAS,OAAQ,CACpC4V,EAAOhQ,aAAa,mBAAoBtE,EAAKk4B,SAAkB,IAAMl4B,EAAKk4B,UAE1E5jB,EAAOhQ,aAAa,oBAAqB,GAAKtE,EAAKk4B,SACrD,CACF,SACK,GAAa,eAATx9B,EAAuB,CAChCsF,EAAKm4B,SAAQ5hB,EAAIvW,EAAKq4B,SACtB,IAAMiB,EAAKt5B,EAAK0K,SAASlM,cAAc,0BACnC86B,GACFA,EAAGh1B,aACD,IAAG,KAAAa,OACE6hB,EAAc,EAAC,KAAA7hB,OAAInF,EAAKq4B,SAAQ,OAAAlzB,OAAMnF,EAAKo4B,SAAkB,KAAAjzB,OAAInF,EAAKo4B,SAAkB,WAAAjzB,OAC3E,EAAhBnF,EAAKq4B,SAAerR,EAAc,EAAC,KAAA7hB,OACjCnF,EAAKq4B,UAGf,CACAr4B,EAAKiV,eAAejV,EAAKu5B,sBAAsB,YAAcv5B,EAAKw5B,cAAgB,EACpF,GAEJ,EAEAC,SAAS,SAACC,GACR,IAAMC,EAAWD,GAASxlB,KAAKC,GAAK,KACpC,MAAO,CACLiC,EAAGriB,KAAKskC,SAAWtkC,KAAKqkC,SAAqBlkB,KAAK0lB,IAAID,GACtDpjB,EAAGxiB,KAAKskC,SAAWtkC,KAAKqkC,SAAqBlkB,KAAK2lB,IAAIF,GAE1D,EAEA1kB,eAAc,SAAC5hB,GACb,GAAIU,KAAKwc,cAAe,CACtB,IAAI2E,EACAgN,EACA4X,EAAezmC,EAAQU,KAAKgmC,SAC5BC,EAAU9lB,KAAK4B,IAAI,EAAG5B,KAAK4P,IAAI,IAAM,KAAO/vB,KAAKkmC,SAAWlmC,KAAKgmC,UAAaD,IAElF,OAAQ/lC,KAAK0gB,WACX,IAAK,UACHS,EAAenhB,KAAK2W,SAASlM,cAAc,8BAE9B8F,aACX,oBACA,GAAKvQ,KAAKmkC,SAAmB8B,EAAU,IAAOjmC,KAAKmkC,UAGrD,MAEF,IAAK,aACHhjB,EAAenhB,KAAK2W,SAASlM,cAAc,2BAE3C0jB,EAAMnuB,KAAK0lC,SAAU,IAAcO,GACnC9kB,EAAa5Q,aACX,IACA,CACE,IACAvQ,KAAKokC,SAAQ/hB,EACbriB,KAAKokC,SAAQ5hB,EACb,IACAxiB,KAAKqkC,SACLrkC,KAAKqkC,SACL,EACA,EACA,EACAlW,EAAI9L,EACJ8L,EAAI3L,GACJkM,KAAK,MAKf,CACF,EAEAyX,SAAQ,WACN,GAAInmC,KAAKukC,UAAWvkC,KAAKukC,SAAQ3yB,YAC/B,GAAI5R,KAAK2Y,YAAa,CACpB,IAAK3Y,KAAKwkC,SAAU,CAClBxkC,KAAKwkC,SAAWr7B,SAASmO,cAAc,UACvCtX,KAAKomC,UAAYpmC,KAAKwkC,SAAS6B,WAAW,MAC1C,IAAMC,EAAYl2B,OAAO+M,iBAAiBnd,KAAKukC,UAC/CvkC,KAAKomC,UAAUG,KAAOD,EAAUlpB,iBAAiB,QACjDpd,KAAK0kC,SAAyB4B,EAAUlpB,iBAAiB,YAC3D,CACA,IAAMopB,EAAUxmC,KAAKomC,UAAUK,YAAYzmC,KAAKukC,SAAQ3yB,aACxD,GAAI40B,EAAQrkB,MAAQniB,KAAKykC,SAAuB,CAE9C,IAAMiC,EAAS1mC,KAAKykC,SAAwB+B,EAAQrkB,MACpDniB,KAAKukC,SAAQhtB,MAAMovB,SAAWxmB,KAAKymB,MAAMlyB,SAAS1U,KAAK0kC,UAA0BgC,GAAU,IAC7F,MACE1mC,KAAKukC,SAAQhtB,MAAMovB,SAAW3mC,KAAK0kC,SAErC1kC,KAAK2kC,gBAAiB,CACxB,MACE3kC,KAAK2kC,gBAAiB,CAG5B,EAEA9rB,cAAa,SAAC0B,GACRA,GAAWva,KAAK2kC,gBAClB3kC,KAAKmmC,UAET,EAEAU,WAAU,SAACvnC,GACT,GAAIU,KAAKwc,cAAe,CACjBxc,KAAKukC,WACRvkC,KAAKukC,SAAUvkC,KAAK2W,SAASlM,cAAc,mBAE7CzK,KAAKukC,SAAQ3yB,YAActS,EACtBA,EAMHU,KAAKmmC,WAJDnmC,KAAK0kC,WACP1kC,KAAKukC,SAAQhtB,MAAMovB,SAAW3mC,KAAK0kC,SAKzC,CACF,GAQFvsB,SAAQ,WACNnY,KAAKukC,SAAU,IACjB,EAEAp+B,MAAK,SAACwC,GACJuG,eAAe1I,OACbK,GAAGC,GAAGC,UAAUoI,KAAKC,WAAWrH,OAAS,iBAAgB,SAAAgb,GAAA,aAAAzgB,UAAAiN,EAAAwT,GAAA,IAAAzT,EAAArM,aAAAsM,GAEvD,SAAAA,IAAcnN,gBAAApC,KAAAuP,GAAA,OAAAD,EAAArN,KAAAjC,KACN2I,EACR,CAAC,OAAAxH,aAAAoO,EAAA,CAJsD,CAC3CwL,aAMlB,IAzUDlU,GAAEC,GAAGC,UAAUoI,KAAKuO,WAAWknB,cAAc7+B,cAAgBA,CAAc,C,s5HCA3EK,GAAEC,UAAUC,qBAAqBP,GAsBjCK,GAAEG,MAAMC,OAAO,yCAA0C,CACxDC,OAAQI,GAAGC,GAAGC,UAAUoI,KAAKuO,WAAWC,kBAOxCrU,QAAS,CACPw9B,SAAW,KACXC,SAAS,KACTC,SAAS,KAETpsB,MAAK,WAAG,IAAA3O,EAAAjM,KACN6G,GAAAC,GAAAC,UAAAoI,KAAAuO,WAAAupB,OAAAxmB,WAAAlf,UAAAqZ,MAAA3Y,KAAAjC,MACA,IAAMuI,EAAUvI,KAAK2W,SACrB3W,KAAK8mC,SAAY,IAAIjpB,IAErB,IAAMnH,EAAS1W,KAAKgnC,SAAU79B,SAASmO,cAAc,OACrDZ,EAAMhM,UAAUQ,IAAI,SACpB3C,EAAQuC,iBAAiB,sBAAsBkE,SAAQ,SAACk4B,EAAQxmC,GAC9DgW,EAAMnI,YAAY24B,GACbA,EAAO/2B,aAAa,QACvB+2B,EAAO32B,aAAa,MAAO,GAAK7P,GAElCuL,EAAK66B,SAAUv5B,IAAI25B,EAAO57B,aAAa,OAAQ47B,EACjD,IACA,IAAM5nC,EAASU,KAAK+mC,SAAU59B,SAASmO,cAAc,QACrDhY,EAAMoL,UAAUQ,IAAI,SACpB3C,EAAQgG,YAAYjP,GACpBiJ,EAAQgG,YAAYmI,GACpB,IAAMiT,EAASxgB,SAASmO,cAAc,WACtCqS,EAAOjf,UAAUQ,IAAI,YACrBye,EAAOjf,UAAUQ,IAAI,wBACrB3C,EAAQgG,YAAYob,GAEhB3pB,KAAK4b,gBAAgBjb,OAAS,GAChC4H,EAAQmI,iBAAiB,SAAS,SAAAqH,GAAE,OAAI9L,EAAKmT,UAAUrH,EAAG,GAE9D,EAEAqH,UAAS,SAACrH,GACR,IAC0BnN,EADpB2M,EAAQ4F,iBAAiBnd,KAAKgnC,UAASn8B,EAAAzG,2BAC1B2T,EAAGshB,MAAI,IAA1B,IAAAxuB,EAAAjG,MAAAgG,EAAAC,EAAAhG,KAAApF,MAA4B,KAAnBe,EAAMoK,EAAAtL,MACb,GAAqC,cAAjCkB,EAAOgI,QAAQC,cAA+B,CAEhDzI,KAAKmnC,eAAe3mC,EAAO8K,aAAa,QAAQ,GAChD,KACF,CACA,GAAI9K,IAAWuX,EAAG6J,cAChB,KAEJ,CACA,OAAAvhB,GAAAwK,EAAA3G,EAAA7D,EAAA,SAAAwK,EAAA9F,GAAA,CAC0C,SAAtCwS,EAAM6F,iBAAiB,WACzBpd,KAAKgnC,SAAQzvB,MAAMC,QAAU,QAE7BxX,KAAKgnC,SAAQzvB,MAAMC,QAAU,MAEjC,EAEA2vB,eAAc,SAACjoC,EAAKkoC,GAClB,IAAMrvB,EAAK,IAAI0J,YAAY,YAAa,CACtCpE,OAAQ,CACN/d,MAAOJ,EACPmiB,OAAQrhB,QAIZA,KAAK4b,gBACFgE,QAAO,SAAAV,GAAI,OAAKA,EAAK/O,aAAa,OAAqC,UAA5B+O,EAAK5T,aAAa,KAAiB,IAC9E0D,SAAQ,SAAAoN,GAAO,OAAIA,EAAQsF,cAAc3J,EAAG,KAC5B,IAAfqvB,GACFpnC,KAAKyd,SAASve,EAElB,EAEA0d,aAAY,SAACH,EAAand,GACxB,GAAIU,KAAK8mC,SAAUnT,IAAIlX,GAAc,CACnCzc,KAAK+mC,SAAQ9wB,UAAY,GACzB,IAAM8rB,EAAU/hC,KAAK8mC,SAAU9P,IAAIva,GACnC,GAAIslB,EAAQtsB,SAAS9U,OAAS,EAAG,CAC/B,IACoCqK,EADpCC,EAAA7G,2BACoB29B,EAAQtsB,UAAQ,IAApC,IAAAxK,EAAArG,MAAAoG,EAAAC,EAAApG,KAAApF,MAAsC,KAA3BkO,EAAK3C,EAAA1L,MACdU,KAAK+mC,SAAQx4B,YAAYZ,EAAMwG,YACjC,CAAC,OAAA9T,GAAA4K,EAAA/G,EAAA7D,EAAA,SAAA4K,EAAAlG,GAAA,CACH,MACE/E,KAAK+mC,SAAQ9wB,UAAY8rB,EAAQ9rB,SAErC,CACF,GAGF9P,MAAK,SAACwC,GACJuG,eAAe1I,OACbK,GAAGC,GAAGC,UAAUoI,KAAKC,WAAWrH,OAAS,SAAQ,SAAAgb,GAAA,aAAAzgB,UAAAiN,EAAAwT,GAAA,IAAAzT,EAAArM,aAAAsM,GAE/C,SAAAA,IAAcnN,gBAAApC,KAAAuP,GAAA,OAAAD,EAAArN,KAAAjC,KACN2I,EACR,CAAC,OAAAxH,aAAAoO,EAAA,CAJ8C,CACnCwL,aAMlB,IA5HDlU,GAAEC,GAAGC,UAAUoI,KAAKuO,WAAWupB,OAAOlhC,cAAgBA,CAAc,C,qyFCApEK,GAAEC,UAAUC,qBAAqBP,GAsBjCK,GAAEG,MAAMC,OAAO,yCAA0C,CACxDC,OAAQI,GAAGC,GAAGC,UAAUoI,KAAKuO,WAAWC,kBAOxC5U,WAAY,CACVs+B,UAAW,CACTp+B,MAAO,SACPC,KAAM,GAGR6mB,IAAK,CACH9mB,MAAO,SACPC,KAAM,EACN/I,MAAO,aAGT4hB,IAAK,CACH9Y,MAAO,SACPC,KAAM,IACN/I,MAAO,aAGTmnC,UAAW,CACTr+B,MAAO,UACPC,MAAM,EACN/I,MAAO,mBAGTq4B,iBAAkB,CAChBvvB,MAAO,SACPC,KAAM,IACN/I,MAAO,2BASXmJ,QAAS,CACPi+B,SAAa,KACbC,SAAS,KAET5sB,MAAK,WAAG,IAAA3O,EAAAjM,KACN6G,GAAAC,GAAAC,UAAAoI,KAAAuO,WAAA+pB,OAAAhnB,WAAAlf,UAAAqZ,MAAA3Y,KAAAjC,MACA,IAAMuI,EAAUvI,KAAK2W,SACjBpO,EAAQ4H,aAAa,qBACvBnQ,KAAK24B,oBAAoBjkB,SAASnM,EAAQ+C,aAAa,uBAEvDtL,KAAK0nC,uBAAuB1nC,KAAK05B,uBAInC,IAAI/3B,EAAQ4G,EAAQkC,cAAc,kBAClC,IAAK9I,EAAO,EACVA,EAAQwH,SAASmO,cAAc,UACzB5M,UAAUQ,IAAI,UACpBvJ,EAAM4O,aAAa,OAAQ,SAC3BhI,EAAQ+M,aAAa3T,EAAO4G,EAAQkC,cAAc,iBAClD9I,EAAMgmC,QAAU,kBAAM17B,EAAKs7B,SAAYtlC,MAAM,CAC/C,CACAjC,KAAKwnC,SAAU7lC,EACX4G,EAAQ4H,aAAa,eACvBnQ,KAAK4nC,aAAalzB,SAASnM,EAAQ+C,aAAa,gBAE9C/C,EAAQ4H,aAAa,QACvBnQ,KAAK+kC,OAAOrwB,SAASnM,EAAQ+C,aAAa,SAExC/C,EAAQ4H,aAAa,QACvBnQ,KAAKglC,OAAOtwB,SAASnM,EAAQ+C,aAAa,SAExC/C,EAAQ4H,aAAa,eAAwD,SAAvC5H,EAAQ+C,aAAa,cAC7DtL,KAAK6nC,cAAa,GAElB7nC,KAAK8nC,iBAAgB,GAGvB,IAAMC,EAAkBx/B,EAAQkC,cAAc,sBAC1Cs9B,GACFA,EAAgBr3B,iBAAiB,SAAS,SAAAqH,GAAE,OAAI9L,EAAK+7B,YAAY,IAEnE,IAAMC,EAAkB1/B,EAAQkC,cAAc,sBAC1Cw9B,GACFA,EAAgBv3B,iBAAiB,SAAS,SAAAqH,GAAE,OAAI9L,EAAKi8B,YAAY,GAErE,EAEAR,uBAAsB,SAACpoC,GAAO,IAAAsN,EAAA5M,KAE1BA,KAAKunC,SADHjoC,EAAQ,EACSuH,GAAGQ,KAAKg2B,SAAS8K,SAASnoC,KAAKooC,QAAS9oC,EAAO,CAAE+oC,UAAU,GAAQroC,MAGnE,CACjBiC,KAAM,kBAAM2K,EAAKw7B,SAAS,EAC1BE,MAAO,WAAO,EAGpB,EAEAC,UAAS,SAACjpC,GACMU,KAAK2W,SAASlM,cAAc,kBACpC8F,aAAa,MAAO,GAAKjR,EACjC,EAEAkpC,UAAS,SAAClpC,GACMU,KAAK2W,SAASlM,cAAc,kBACpC8F,aAAa,MAAO,GAAKjR,EACjC,EAEAwoC,gBAAe,SAACxoC,GACd,IAAImpC,EAAazoC,KAAK2W,SAASlM,cAAc,wBAC7C,GAAInL,IACGmpC,EAAY,EACfA,EAAat/B,SAASmO,cAAc,UACzB5M,UAAUQ,IAAI,SACzBu9B,EAAW/9B,UAAUQ,IAAI,aACzBlL,KAAK2W,SAASrB,aAAamzB,EAAYzoC,KAAK2W,SAAS+xB,WACvD,CAEJ,EAEA9rB,aAAY,SAACH,EAAand,GACxB,IAAMkB,EAASR,KAAK2W,SAASlM,cAAc,kBACvCjK,IACFA,EAAOlB,MAAQA,GAEjB,GAAIU,KAAK2oC,cAAe,CACtB,IAAIF,EAAazoC,KAAK2W,SAASlM,cAAc,wBACzCg+B,IACFA,EAAWlK,UAAY9hB,EAE3B,CACF,EAEA2rB,QAAO,WACLpoC,KAAK4oC,SAAY5oC,KAAKwnC,SAAQloC,MAChC,EAEA0oC,WAAU,WACR,IAAM1oC,EAAQU,KAAK4kB,WAAa5kB,KAAK6oC,eACrC7oC,KAAK4oC,SAAYtpC,EAAO,WAC1B,EAEA4oC,WAAU,WACR,IAAM5oC,EAAQU,KAAK4kB,WAAa5kB,KAAK6oC,eACrC7oC,KAAK4oC,SAAYtpC,EAAO,WAC1B,EAEAspC,SAAW,SAACtpC,EAAOwe,GACjB,IAAM/F,EAAK,IAAI0J,YAAY,YAAa,CACtCpE,OAAQ,CACN/d,MAAOA,EACP+hB,OAAQrhB,QAIZA,KAAK4b,gBACFgE,QAAO,SAAAV,GAAI,OAAKA,EAAK/O,aAAa,OAAS+O,EAAK5T,aAAa,QAAUwS,CAAE,IACzE9O,SAAQ,SAAAoN,GAAO,OAAIA,EAAQsF,cAAc3J,EAAG,GACjD,GAGF5R,MAAK,SAACwC,GACJuG,eAAe1I,OACbK,GAAGC,GAAGC,UAAUoI,KAAKC,WAAWrH,OAAS,SAAQ,SAAAgb,GAAA,aAAAzgB,UAAAiN,EAAAwT,GAAA,IAAAzT,EAAArM,aAAAsM,GAE/C,SAAAA,IAAcnN,gBAAApC,KAAAuP,GAAA,OAAAD,EAAArN,KAAAjC,KACN2I,EACR,CAAC,OAAAxH,aAAAoO,EAAA,CAJ8C,CACnCwL,aAMlB,IAtMDlU,GAAEC,GAAGC,UAAUoI,KAAKuO,WAAW+pB,OAAO1hC,cAAgBA,CAAc,C,+wFCApEK,GAAEC,UAAUC,qBAAqBP,GAsBjCK,GAAEG,MAAMC,OAAO,0CAA2C,CACzDC,OAAQI,GAAGC,GAAGC,UAAUoI,KAAKuO,WAAWC,kBAOxC5U,WAAY,CACVs+B,UAAW,CACTp+B,MAAO,SACPC,KAAM,GAGRma,KAAM,CACJpa,MAAO,CAAC,WAAY,YACpBC,KAAM,aASVI,QAAS,CACPsR,MAAK,WAAG,IAAA3O,EAAAjM,KACN6G,GAAAC,GAAAC,UAAAoI,KAAAuO,WAAAorB,QAAAroB,WAAAlf,UAAAqZ,MAAA3Y,KAAAjC,MACA,IAAMuI,EAAUvI,KAAK2W,SACjBpO,EAAQ4H,aAAa,eACvBnQ,KAAK4nC,aAAajZ,WAAWpmB,EAAQ+C,aAAa,gBAEhD/C,EAAQ4H,aAAa,SACvBnQ,KAAK+oC,QAAQxgC,EAAQ+C,aAAa,SAGpC,IAAI6V,EAAe5Y,EAAQkC,cAAc,mBACzC,IAAK0W,EAAc,EACjBA,EAAehY,SAASmO,cAAc,UACzB5M,UAAUQ,IAAI,SAC3BiW,EAAazW,UAAUQ,IAAI,WAC3B3C,EAAQgG,YAAY4S,EACtB,CAEA,IAAM6nB,EAAW7/B,SAASmO,cAAc,OACxC0xB,EAASt+B,UAAUQ,IAAI,aACvB89B,EAASt+B,UAAUQ,IAAI,QACvB,IAAM+9B,EAAe9/B,SAASmO,cAAc,WAC5C2xB,EAAav+B,UAAUQ,IAAI,wBAC3B89B,EAASt4B,iBAAiB,SAAS,kBAAMzE,EAAK+7B,YAAY,IAC1DgB,EAASz6B,YAAY06B,GACrB1gC,EAAQ+M,aAAa0zB,EAAU7nB,GAE/B,IAAM+nB,EAAW//B,SAASmO,cAAc,OACxC4xB,EAASx+B,UAAUQ,IAAI,aACvBg+B,EAASx+B,UAAUQ,IAAI,SACvB,IAAMi+B,EAAehgC,SAASmO,cAAc,WAC5C6xB,EAAaz+B,UAAUQ,IAAI,sBAC3Bg+B,EAAS36B,YAAY46B,GACrBD,EAASx4B,iBAAiB,SAAS,kBAAMzE,EAAKi8B,YAAY,IAC1D3/B,EAAQgG,YAAY26B,EACtB,EAEAlB,WAAU,WACR,IAAM1oC,EAA2B,aAAnBU,KAAKopC,UAA2BppC,KAAK4kB,WAAa5kB,KAAK6oC,gBAAwC,EAAvB7oC,KAAK6oC,eAC3F7oC,KAAKqpC,SAAY/pC,EAAO,WAC1B,EAEA4oC,WAAU,WACR,IAAM5oC,EAA2B,aAAnBU,KAAKopC,UAA2BppC,KAAK4kB,WAAa5kB,KAAK6oC,eAAiB7oC,KAAK6oC,eAC3F7oC,KAAKqpC,SAAY/pC,EAAO,WAC1B,EAEAsd,aAAY,SAACH,GACX,IAAMjc,EAASR,KAAK2W,SAASlM,cAAc,UACvCjK,IACFA,EAAOyV,UAAYwG,EAEvB,EAEA4sB,SAAW,SAAC/pC,EAAOwe,GACjB,IAAM/F,EAAK,IAAI0J,YAAY,YAAa,CACtCpE,OAAQ,CACN/d,MAAOA,EACP+hB,OAAQrhB,QAIZA,KAAK4b,gBACFgE,QAAO,SAAAV,GAAI,OAAKA,EAAK/O,aAAa,OAAS+O,EAAK5T,aAAa,QAAUwS,CAAE,IACzE9O,SAAQ,SAAAoN,GAAO,OAAIA,EAAQsF,cAAc3J,EAAG,GACjD,GAGF5R,MAAK,SAACwC,GACJuG,eAAe1I,OACbK,GAAGC,GAAGC,UAAUoI,KAAKC,WAAWrH,OAAS,UAAS,SAAAgb,GAAA,aAAAzgB,UAAAiN,EAAAwT,GAAA,IAAAzT,EAAArM,aAAAsM,GAEhD,SAAAA,IAAcnN,gBAAApC,KAAAuP,GAAA,OAAAD,EAAArN,KAAAjC,KACN2I,EACR,CAAC,OAAAxH,aAAAoO,EAAA,CAJ+C,CACpCwL,aAMlB,IA7HDlU,GAAEC,GAAGC,UAAUoI,KAAKuO,WAAWorB,QAAQ/iC,cAAgBA,CAAc,C,q5FCArEK,GAAEC,UAAUC,qBAAqBP,GAwBjCK,GAAEG,MAAMC,OAAO,wCAAyC,CACvDC,OAAQI,GAAGC,GAAGC,UAAUoI,KAAKuO,WAAWC,kBACxC2M,QAAS,CAACzjB,GAAGC,GAAGC,UAAUoI,KAAKqL,YAAa3T,GAAGC,GAAGC,UAAUoI,KAAK8K,SAMjE3Q,QAAS,CACPggC,yBAA0B,KAC1BC,yBAA0B,KAE1B3uB,MAAK,WACH/T,GAAAC,GAAAC,UAAAoI,KAAAuO,WAAA8rB,MAAA/oB,WAAAlf,UAAAqZ,MAAA3Y,KAAAjC,MACAA,KAAKupC,yBAA2BnjC,GAAGiB,KAAKg2B,SAASoM,SAASzpC,KAAK0pC,gBAAiB,IAEhF,IAAMlpC,EAASR,KAAK2W,SAASlM,cAAc,UAC3C,GAAIjK,GAA2C,UAAjCA,EAAOgI,QAAQC,cAA2B,CAEtDzI,KAAK+5B,gBAAgB/5B,KAAK2W,UAC1B3W,KAAK0O,YAAY,UAAW1O,KAAKupC,yBAA0BvpC,KAC7D,CACF,EAEA6Y,cAAa,SAAC0B,GACZ,GAAIA,EACEva,KAAKspC,0BACPtpC,KAAKupC,+BAEF,CACL,IAAM/oC,EAASR,KAAK2W,SAASlM,cAAc,UACvCjK,GAAUA,EAAOkK,UAAUC,SAAS,WACtCnK,EAAOkK,UAAUK,OAAO,SAE5B,CACF,EAEA2+B,gBAAe,WACb,IAAMlpC,EAASR,KAAK2W,SAASlM,cAAc,UAC3C,GAAIzK,KAAK2Y,YAAa,CACpB3Y,KAAKspC,0BAA2B,EAC5B9oC,EAAOwhB,YAAcxhB,EAAO2K,cAAc6W,YAC5CxhB,EAAOkK,UAAUQ,IAAI,UAErB1K,EAAOkK,UAAUK,OAAO,SAE5B,MACE/K,KAAKspC,0BAA2B,CAEpC,EAEA1sB,aAAY,SAACH,EAAand,GACxB,IAAMkB,EAASR,KAAK2W,SAASlM,cAAc,UACvC+Q,EAAa,GACjB,GAAIhb,EAAQ,CAEV,OADgBA,EAAOgI,QAAQC,eAE7B,IAAK,UACHjI,EAAO4Z,UAAU0G,MAAMrE,GACnBzc,KAAK2W,SAASxG,aAAa,aAC7BqL,EAAa3U,GAAG4M,YAAYC,oBAAoBL,WAC9CrT,KAAK2W,SAASrL,aAAa,WAC3BhM,EACAU,KAAK2pC,WAGTnpC,EAAO4Z,UAAUyC,cAAcrB,GAC/B,MACF,IAAK,QACHhb,EAAO+P,aAAa,QAASkM,GAC7Bjc,EAAOyV,UAAY,GAAKwG,EACxB,MACF,IAAK,oBACkB,iBAAVnd,IACTA,EAAQoV,SAASpV,IAEnBkB,EAAO4Z,UAAUyE,YAAYvf,GAC7BkB,EAAO4Z,UAAUwvB,QAAQ,GAAKntB,GAC9B,MACF,IAAK,QACHjc,EAAOyV,UAAYwG,EACnBzc,KAAKupC,2BAGX,CACF,GAGFpjC,MAAK,SAACwC,GACJuG,eAAe1I,OACbK,GAAGC,GAAGC,UAAUoI,KAAKC,WAAWrH,OAAS,QAAO,SAAAgb,GAAA,aAAAzgB,UAAAiN,EAAAwT,GAAA,IAAAzT,EAAArM,aAAAsM,GAE9C,SAAAA,IAAcnN,gBAAApC,KAAAuP,GAAA,OAAAD,EAAArN,KAAAjC,KACN2I,EACR,CAAC,OAAAxH,aAAAoO,EAAA,CAJ6C,CAClCwL,aAMlB,IAzHDlU,GAAEC,GAAGC,UAAUoI,KAAKuO,WAAW8rB,MAAMzjC,cAAgBA,CAAc,C,s4JCAnEK,GAAEC,UAAUC,qBAAqBP,GAsBjCK,GAAEG,MAAMC,OAAO,wCAAyC,CACvDC,OAAQI,GAAGC,GAAGC,UAAUoI,KAAK8L,SAASC,sBAOtC5R,QAAS,CACPugC,MAAO,KACPC,SAAe,KAEflvB,MAAK,WAAG,IAIFmvB,EAJE99B,EAAAjM,KACAuI,EAAUvI,KAAK2W,SACfhQ,EAAO4B,EAAQ+C,aAAa,QAC5B0+B,EAAYzhC,EAAQ4H,aAAa,OAAS5H,EAAQ+C,aAAa,OAAS,GAE9E,GAAI0+B,EACF,IACED,EAAM,IAAI1O,IAAI2O,EAAW55B,OAAOrG,SAASoxB,OAAS/qB,OAAOrG,SAASqxB,SAGpE,CAFE,MAAOl3B,GACPlE,KAAKT,MAAM,sBAAwByqC,EACrC,CAGF,GAAIrjC,EAAM,CACR,IAAI4F,EAAc,KACdhE,EAAQ4H,aAAa,YACvB5D,EAAc,CACZ09B,SAAU1hC,EAAQ+C,aAAa,YAC/B4+B,SAAU3hC,EAAQ+C,aAAa,aAAe,IAEvCy+B,GAAOA,EAAIE,WACpB19B,EAAc,CACZ09B,SAAUF,EAAIE,SACdC,SAAUH,EAAIG,WAGlB,IAEIC,EAFEjnB,EAAQrc,GAAGkJ,KAAKS,MAAMjJ,cACxB6iC,EAAaL,EAAMA,EAAIxkC,WAAa,KAExC,OAAQoB,GACN,IAAK,OACHwjC,EAAsB,iBACtB,MACF,IAAK,UACHA,EAAsB,oBACtB,MACF,IAAK,OACHA,EAAsB,iBAItBA,IAEEtjC,GAAGa,OAAO2zB,IAAI8O,GAChBC,EAAavjC,GAAGa,OAAO2zB,IAAI8O,IACjBC,GAAcvjC,GAAGa,OAAO2iC,OAAOF,KACzCC,EAAavjC,GAAGa,OAAO2iC,OAAOF,KAGlC,IAAI1kC,EAAOkB,EACX,GAAI4B,EAAQ4H,aAAa,QACvB1K,EAAO8C,EAAQ+C,aAAa,aACvB,GAAKzE,GAAGqF,GAAGC,mBAAmBm+B,UAAU,SAGxC,GAAgE,WAA5DzjC,GAAGqF,GAAGC,mBAAmB8X,UAAU,QAAQsmB,aAA2B,CAC/EnkC,GAAGyC,IAAIC,OAAOgD,KACZ9L,KAAI,mEAAAoR,OAC+DzK,EAAI,uBAGzE,MACF,OARElB,EAAO,OASTW,GAAGyC,IAAIC,OAAO0D,MAAMxM,KAAM,eAAgByF,GAC1C,GAAIoB,GAAGqF,GAAGC,mBAAmBm+B,UAAU7kC,GAAO,CAC5C,IAAM+kC,EAAe,CACnBC,MAAO,kBACPvc,MAAO9nB,GAAGqL,OAAOC,QAAQkgB,GAAG,gBAC5BjmB,QAASvF,GAAGqL,OAAOC,QAAQkgB,GAAG,6CAA8CnsB,GAE5EosB,SAAU,SACV6Y,QAAQ,EACRC,WAAW,GAGb9jC,GAAGH,KAAK+qB,cAAcC,OAAOC,gBAAgB6Y,EAAaC,MAAOD,GAEjE,MACF,CACA,IAAMrd,EAAStmB,GAAGqF,GAAGC,mBAAmBy+B,iBAAiBnlC,EAAMkB,EAAMyjC,EAAY,UAEjFpqC,KAAK6qC,QAAU1d,EACfntB,KAAK6pC,MAAQpkC,EACbzF,KAAK8pC,SAAgB,GACrB3c,EAAO2d,OAAS,SAAA/6B,GAAI,OAAImT,EAAMzS,WAAWhL,EAAMsK,EAAK,EACpDod,EAAO9gB,OAAM,EAAME,GAAa,WAC9BN,EAAKO,MAAM/G,EAAM,aACb8C,EAAQ4H,aAAa,YAAkD,SAApC5H,EAAQ+C,aAAa,YAC1D4X,EAAM6nB,sBAAsBtlC,GAE9B,IAAMulC,EAAc,WAAM,IACyBpgC,EADzBC,EAAAzG,2BACO6H,EAAK69B,UAAa,IAAjD,IAAAj/B,EAAAjG,MAAAgG,EAAAC,EAAAhG,KAAApF,MAAmD,KAAAwrC,EAAAtb,eAAA/kB,EAAAtL,MAAA,GAAvC8c,EAAO6uB,EAAA,GAAE3rC,EAAK2rC,EAAA,GACxBh/B,EAAKO,MAAM/G,EAAM,eAAgB2W,EAAS9c,GAC1C4jB,EAAMgoB,SAAS9uB,EAAS9c,EAAOmG,EACjC,CAAC,OAAApF,GAAAwK,EAAA3G,EAAA7D,EAAA,SAAAwK,EAAA9F,GAAA,CACD,IAAMomC,EAAuBjoB,EAAMkoB,aAAa3lC,GAChDwG,EAAKO,MAAM/G,EAAM,iBAAkB0lC,EAAqBxqC,OAAQ,aAE5B,IAAhCwqC,EAAqBxqC,QACvBwsB,EAAOwT,UAAUwK,EAErB,EACItkC,GAAG2H,eAAejH,cAAc8jC,gBAClCL,IAEA5kC,GAAGsF,MAAMC,QAAQC,IAAI+0B,UACnB,sBACA,WACEqK,GACF,GACA/+B,EAGN,IAAG,IAE4DjB,EAF5DC,EAAA7G,2BAEgBmE,EAAQuC,iBAAiB,qBAAmB,IAA/D,IAAAG,EAAArG,MAAAoG,EAAAC,EAAApG,KAAApF,MAAiE,KAAtDsQ,EAAI/E,EAAA1L,MACb,GAAIyQ,EAAKI,aAAa,WAAY,CAChC,IAAI7Q,EAAQyQ,EAAK6B,YAAYC,OAC7B,GAAI9B,EAAKI,aAAa,aAAc,CAClC,IAAMuT,EAAW3T,EAAKzE,aAAa,aAGnChM,EAFqBuH,GAAG+c,UAAUC,gBAAgB,CAAEzF,UAAWsF,GAAYpkB,GAEtD6kB,GACvB,CACAnkB,KAAK8pC,SAAclhC,KAAK,CAACmH,EAAKzE,aAAa,WAAYhM,GACzD,CACF,CAAC,OAAAe,GAAA4K,EAAA/G,EAAA7D,EAAA,SAAA4K,EAAAlG,GAAA,CACH,MACE/E,KAAKT,MAAM,0CAEf,EAEAsb,cAAa,WACX,GAAI7a,KAAK6qC,QAAS,CAChB,IAAM3nB,EAAQrc,GAAGkJ,KAAKS,MAAMjJ,cACxBvH,KAAK2W,SAASxG,aAAa,YAAwD,SAA1CnQ,KAAK2W,SAASrL,aAAa,YACtE4X,EAAMooB,0BAERtrC,KAAK6qC,QAAQU,YACb1kC,GAAGqF,GAAGC,mBAAmBq/B,aAAaxrC,KAAK6qC,SAC3C7qC,KAAK6qC,QAAQY,UACbzrC,KAAK6qC,QAAU,IACjB,CACF,GAGF1kC,MAAK,SAAC0e,GACJ3V,eAAe1I,OACbK,GAAGC,GAAGC,UAAUoI,KAAKC,WAAWrH,OAAS,UAAS,SAAAgb,GAAA,aAAAzgB,UAAAiN,EAAAwT,GAAA,IAAAzT,EAAArM,aAAAsM,GAEhD,SAAAA,IAAcnN,gBAAApC,KAAAuP,GAAA,OAAAD,EAAArN,KAAAjC,KACN6kB,EACR,CAAC,OAAA1jB,aAAAoO,EAAA,CAJ+C,CACpCwL,aAMlB,IA7LDlU,GAAEC,GAAGC,UAAUoI,KAAK8L,SAASywB,QAAQ3lC,cAAgBA,CAAc,C,y5FCAnEK,GAAEC,UAAUC,qBAAqBP,GAyBjCK,GAAEG,MAAMC,OAAO,uCAAwC,CACtDC,OAAQI,GAAGC,GAAGC,UAAUoI,KAAK8L,SAASC,sBAOtC5R,QAAS,CACPsR,MAAK,WACH,IAGI+wB,EAHEpjC,EAAUvI,KAAK2W,SACfhQ,EAAO4B,EAAQ+C,aAAa,QAC5ByjB,EAAMxmB,EAAQ+C,aAAa,OAEjC,GAAIyjB,EAAK,CACP,OAAQpoB,GACN,IAAK,OACHglC,EAAgBxiC,SAASmO,cAAc,SACzB/G,aAAa,OAAQ,YACnCo7B,EAAcp7B,aAAa,MAAO,cAClCo7B,EAAcp7B,aAAa,OAAQwe,GACnC,MAEF,IAAK,MACH4c,EAAgBxiC,SAASmO,cAAc,WACzB/G,aAAa,OAAQ,mBACnCo7B,EAAcp7B,aAAa,MAAOwe,GAClC,MAEF,IAAK,YACH/uB,KAAK4rC,QAAQ7c,EAAKpoB,GAIlBglC,GACFpjC,EAAQgG,YAAYo9B,EAExB,CACF,EAEAC,QAAO,SAAC7B,GAAK,IAAA99B,EAAAjM,KACLoN,EAAc,IAAIhH,GAAG8F,GAAGmB,QAAQC,IAAIy8B,GAC1C38B,EAAYG,IAAI,CACdC,OAAQ,kBACRC,OAAQ5G,GAAGa,OAAOC,cAGpByF,EAAYM,gBAAgB,WAAW,SAAUxJ,GAC/C,IAWIyJ,EAXAC,EAAU1J,EAAE2J,YAAYC,cACxB+9B,EAAcj+B,EACZpN,EAASqG,GAAG4M,YAAYC,oBAAoB3F,kBAElD,IAAK89B,EAAY9+B,gBAAgBkB,MAAO,CACtC,IAAIC,EAAOhK,EAAE2J,YAAYM,kBACzBD,EAAOA,EAAKzG,QAAQ,aAAc,mDAGlCokC,GADe,IAAIz9B,WACEC,gBAAgBH,EAAM,WAC7C,CAEA,KAAQP,EAAQk+B,EAAY9+B,gBAAgBuB,mBAC1C9N,EAAO+N,YAAYZ,GAGrB9G,GAAG4M,YAAYC,oBAAoB1F,kBAAkBJ,EACvD,IACAR,EAAYsB,YAAY,eAAe,SAAAxK,GACrC,IAAMyK,EAASzK,EAAE2J,YAAYe,eAAeD,OACvCvI,GAAGiB,KAAKwH,QAAQC,aAAaH,GAGhC1C,EAAK6/B,YAAYn9B,EAAQ,MAFzB1C,EAAK6/B,YAAY,eAAgB1+B,EAAY2+B,SAIjD,IAEA3+B,EAAY2B,MACd,EAEA+8B,YAAW,SAACE,EAAYC,GACtB,IAEIC,EAFEhe,EAAQ9nB,GAAGqL,OAAOC,QAAQkgB,GAAG,eAAe3kB,YAAY1H,WAC1DoG,EAAU,GAEd,OAAQqgC,GACN,IAAK,cACHrgC,EAAUvF,GAAGqL,OAAOC,QAAQkgB,GAAG,qBAC/B,MACF,IAAK,eACHjmB,EAAUvF,GAAGqL,OAAOC,QAAQkgB,GAAG,2BAA4Bqa,GAAqBh/B,YAAY1H,WAC5F,MACF,QACEoG,EAAUvF,GAAGqL,OAAOC,QAAQkgB,GAAG,+BAAgCoa,GAAY/+B,YAAY1H,WAErFoG,GADEsgC,EACS,KAAOA,EAEP,IAIjB,IAAMzB,EAAe,CACnBC,MAAO,WACPvc,MAAOA,EACPviB,QAASA,GAGPugC,EAGJrlC,GAAGH,KAAK+qB,cAAcC,OAAOC,gBAAgB6Y,EAAaC,MAAOD,GAEjExqC,KAAKT,MAAMS,KAAM2L,EAAQpG,WAC3B,GAGFY,MAAK,SAAC0e,GACJ3V,eAAe1I,OACbK,GAAGC,GAAGC,UAAUoI,KAAKC,WAAWrH,OAAS,SAAQ,SAAAgb,GAAA,aAAAzgB,UAAAiN,EAAAwT,GAAA,IAAAzT,EAAArM,aAAAsM,GAE/C,SAAAA,IAAcnN,gBAAApC,KAAAuP,GAAA,OAAAD,EAAArN,KAAAjC,KACN6kB,EACR,CAAC,OAAA1jB,aAAAoO,EAAA,CAJ8C,CACnCwL,aAMlB,IAnJDlU,GAAEC,GAAGC,UAAUoI,KAAK8L,SAASkxB,OAAOpmC,cAAgBA,CAAc,C,kzFCAlEK,GAAEC,UAAUC,qBAAqBP,GAwBjCK,GAAEG,MAAMC,OAAO,wCAAyC,CACvDC,OAAQI,GAAGC,GAAGC,UAAUoI,KAAK8L,SAASC,sBAOtCxX,UAAS,SAAC6E,GACR1B,GAAAC,GAAAC,UAAAoI,KAAA8L,SAAAC,sBAAAxY,YAAAT,KAAAjC,KAAMuI,GACNvI,KAAKosC,SAAU,CAAC,CAClB,EAOA9iC,QAAS,CACP8iC,SAAS,KAETzxB,gBAAe,SAACrb,EAAO+b,EAAU5V,GAC/BoB,GAAAC,GAAAC,UAAAoI,KAAA8L,SAAAoxB,QAAA5rB,WAAAlf,UAAAoZ,gBAAA1Y,KAAAjC,KAAsBV,EAAO+b,EAAU5V,GAEnCzF,KAAK2W,SAASnO,QAAQC,cAAcoN,SAAS,aAC3CvW,EACFuH,GAAG4M,YAAYC,oBAAoBlB,WAAWxS,KAAK2W,SAASrL,aAAa,QAAStL,MAElF6G,GAAG4M,YAAYC,oBAAoBhB,cAAc1S,KAAK2W,SAASrL,aAAa,SAGlF,EASAqH,SAAQ,SAAC6L,EAAK3L,EAAOC,GAAQ,IAAA7G,EAAAjM,KAC3B,GAAIgB,OAAOO,UAAUmH,eAAezG,KAAKjC,KAAKosC,SAAS5tB,GACrD,OAAOxe,KAAKosC,SAAQ5tB,GAEtB,IAAI/B,EAAc,GAAK+B,EACjB8tB,EAAatsC,KAAK2W,SAASlM,cAAc,yBAA2B+T,EAAM,MAE5E7X,EAAO3G,KAAK2W,SAASxG,aAAa,QAAUnQ,KAAK2W,SAASrL,aAAa,QAAU,SACrF,GAAIghC,EAAY,CACd7vB,EAAczc,KAAKusC,SAASD,EAAWr2B,UAAUpE,OAAQlL,GACzD3G,KAAKosC,SAAQ5tB,GAAO/B,EACpB,OAAOA,CACT,CACA,IAAM+vB,EAAUxsC,KAAK2W,SAASlM,cAAc,oBAC5C,GAAI+hC,EAAS,CACX,IAAKA,EAAQC,SAAU,CACrB,IAAI7+B,EAAU4+B,EAAQ56B,YACtB46B,EAAQC,SAAW,IAAIpP,SAAS,IAAK,QAAS,SAAU,SAAWzvB,EAAU,cAC/E,CAEA,OADA6O,EAAczc,KAAKusC,SAASC,EAAQC,SAASjuB,EAAK3L,EAAOC,GAASnM,EAEpE,CACA,IAAMwS,EAAUnZ,KAAK2W,SAAS7L,iBAAiB,kBAC3C4hC,EAAe,KAEJloC,MAAMkB,KAAKyT,GAASG,MAAK,SAAAC,GACtC,IAAIjJ,GAAU,EACVq8B,EAAiBpzB,EAAMpJ,aAAa,YAAgD,SAAlCoJ,EAAMjO,aAAa,WACzE,GAAIiO,EAAMpJ,aAAa,SAAU,CAC/B,IAAM7Q,EAAQia,EAAMjO,aAAa,SACjC,GAAIhM,KAAWkf,GAAY,SAAqB,MAAVlf,EAAe,CACnDmd,EAAcxQ,EAAKsgC,SAAShzB,EAAMtD,UAAUpE,OAAQlL,GACpD2J,GAAU,CACZ,CACIq8B,IACFD,EAAezgC,EAAKsgC,SAASjtC,EAAOqH,GAExC,MAAO,GAAI4S,EAAMpJ,aAAa,aAAc,CAC1C,IAAMy8B,EAAWje,WAAWpV,EAAMjO,aAAa,cACzCuhC,EAAWtzB,EAAMpJ,aAAa,aAChCwe,WAAWpV,EAAMjO,aAAa,cAC9BnJ,OAAO2qC,kBACLC,EAAape,WAAWnQ,GAC9B,GAAIouB,GAAYG,GAAcA,GAAcF,EAAU,CACpDpwB,EAAcxQ,EAAKsgC,SAAShzB,EAAMtD,UAAUpE,OAAQlL,GACpD2J,GAAU,CACZ,CACIq8B,IACFD,EAAeE,EAEnB,CACA,OAAOt8B,CACT,KACgC,OAAjBo8B,IACbjwB,EAAczc,KAAK2S,SAAS+5B,IAE9B1sC,KAAKosC,SAAQ5tB,GAAO/B,EACpB,OAAOA,CACT,EAEA8vB,SAAQ,SAACjtC,EAAOqH,GACd,OAAQA,EAAK8B,eACX,IAAK,UACH,MAAiB,SAAVnJ,EACT,IAAK,UACH,OAAOoV,SAASpV,GAClB,IAAK,QACH,OAAOqvB,WAAWrvB,GACpB,QACE,OAAOA,EAEb,GAQF6Y,SAAQ,WACNnY,KAAKosC,SAAU,IACjB,EAEAjmC,MAAK,SAAC0e,GACJ3V,eAAe1I,OACbK,GAAGC,GAAGC,UAAUoI,KAAKC,WAAWrH,OAAS,UAAS,SAAAgb,GAAA,aAAAzgB,UAAAiN,EAAAwT,GAAA,IAAAzT,EAAArM,aAAAsM,GAEhD,SAAAA,IAAcnN,gBAAApC,KAAAuP,GAAA,OAAAD,EAAArN,KAAAjC,KACN6kB,EACR,CAAC,OAAA1jB,aAAAoO,EAAA,CAJ+C,CACpCwL,aAMlB,IA5JDlU,GAAEC,GAAGC,UAAUoI,KAAK8L,SAASoxB,QAAQtmC,cAAgBA,CAAc,C,uxFCAnEK,GAAEC,UAAUC,qBAAqBP,GAwBjCK,GAAEG,MAAMC,OAAO,wCAAyC,CACvDC,OAAQI,GAAGC,GAAGC,UAAUoI,KAAK8L,SAASoxB,QAOtC/iC,QAAS,CACPqR,gBAAe,SAACrb,EAAO+b,EAAU5V,GAC/BoB,GAAAC,GAAAC,UAAAoI,KAAA8L,SAAA+xB,QAAAvsB,WAAAlf,UAAAoZ,gBAAA1Y,KAAAjC,KAAsBV,EAAO+b,EAAU5V,GACnCnG,EACFuH,GAAG4M,YAAYC,oBAAoBR,WAAWlT,KAAK2W,SAASrL,aAAa,QAAStL,MAElF6G,GAAG4M,YAAYC,oBAAoBN,cAAcpT,KAAK2W,SAASrL,aAAa,QAEhF,GAGFnF,MAAK,SAAC0e,GACJ3V,eAAe1I,OACbK,GAAGC,GAAGC,UAAUoI,KAAKC,WAAWrH,OAAS,UAAS,SAAAgb,GAAA,aAAAzgB,UAAAiN,EAAAwT,GAAA,IAAAzT,EAAArM,aAAAsM,GAEhD,SAAAA,IAAcnN,gBAAApC,KAAAuP,GAAA,OAAAD,EAAArN,KAAAjC,KACN6kB,EACR,CAAC,OAAA1jB,aAAAoO,EAAA,CAJ+C,CACpCwL,aAMlB,IApDDlU,GAAEC,GAAGC,UAAUoI,KAAK8L,SAAS+xB,QAAQjnC,cAAgBA,CAAc,C,0yFCAnEK,GAAEC,UAAUC,qBAAqBP,GAyBjCK,GAAEG,MAAMC,OAAO,qCAAsC,CACpDC,OAAQI,GAAGC,GAAGC,UAAUoI,KAAKuO,WAAWC,kBAOxCrU,QAAS,CACPsR,MAAK,WACH/T,GAAAC,GAAAC,UAAAoI,KAAA8pB,QAAAgU,MAAAxsB,WAAAlf,UAAAqZ,MAAA3Y,KAAAjC,MACA,IAAMuI,EAAUvI,KAAK2W,SACjBu2B,EAAQ,KACR1K,EAAU,KAEd,GADqBj6B,EAAQ4H,aAAa,SAAW5H,EAAQ4H,aAAa,QACxD,CAEhB,KADAqyB,EAAUj6B,EAAQkC,cAAc,qBAClB,CACZ+3B,EAAUr5B,SAASmO,cAAc,WACjC/O,EAAQ+M,aAAaktB,EAASj6B,EAAQmgC,WACxC,CACA,GAAIngC,EAAQ4H,aAAa,QAAS,CAEhC,KADA+8B,EAAQ3kC,EAAQkC,cAAc,mCAClB,EACVyiC,EAAQ/jC,SAASmO,cAAc,UACzB5M,UAAUQ,IAAI,SACpBs3B,EAAQltB,aAAa43B,EAAO1K,EAAQkG,WACtC,CACAwE,EAAMxiC,UAAUQ,IAAI,iBACpBgiC,EAAMt7B,YAAcrJ,EAAQ+C,aAAa,OAC3C,CACA,GAAI/C,EAAQ4H,aAAa,QAAS,CAChC,IAAIyc,EAAOrkB,EAAQkC,cAAc,oCACjC,IAAKmiB,EAAM,EACTA,EAAOzjB,SAASmO,cAAc,YACzB5M,UAAUQ,IAAI,SACnBs3B,EAAQltB,aAAasX,EAAM4V,EAAQkG,WACrC,CACKwE,GACHtgB,EAAKliB,UAAUQ,IAAI,iBAErB0hB,EAAKliB,UAAUQ,IAAI3C,EAAQ+C,aAAa,QAC1C,CACF,EACe/C,EAAQkC,cAAc,2BAEnClC,EAAQmC,UAAUQ,IAAI,SACbs3B,GACTp8B,GAAGsF,MAAMkL,aAAalI,YAAY8zB,EAAS,QAASxiC,KAAKmtC,YAAantC,KAE1E,EAEAmtC,YAAW,WACLntC,KAAK2W,SAASxG,aAAa,QAC7BnQ,KAAK2W,SAASvB,gBAAgB,QAE9BpV,KAAK2W,SAASpG,aAAa,OAAQ,OAEvC,EAOA8L,cAAa,SAACtE,GACZ,IAAIlR,GAAAC,GAAAC,UAAAoI,KAAA8pB,QAAAgU,MAAAxsB,WAAAlf,UAAA8a,cAAApa,KAAAjC,KAAqB+X,GACvB,GAAyB,YAArBA,EAAGsF,OAAO7c,OAAsB,CAClC,IAAIA,EAASR,KAAK2W,SAASlM,cAAc,kCAEzC,IAAKjK,EAAQ,EACXA,EAAS2I,SAASmO,cAAc,UACzB5M,UAAUQ,IAAI,SACLlL,KAAK2W,SAASlM,cAAc,oBACpC8D,YAAY/N,EACtB,CACAA,EAAOoR,YAAcmG,EAAGsF,OAAOE,KACjC,MACEvd,KAAKwM,MAAM,2BAA4BuL,EAAGsF,OAAO7c,OAGvD,GAGF2F,MAAK,SAACwC,GACJuG,eAAe1I,OACbK,GAAGC,GAAGC,UAAUoI,KAAKC,WAAWrH,OAAS,QAAO,SAAAgb,GAAA,aAAAzgB,UAAAiN,EAAAwT,GAAA,IAAAzT,EAAArM,aAAAsM,GAE9C,SAAAA,IAAcnN,gBAAApC,KAAAuP,GAAA,OAAAD,EAAArN,KAAAjC,KACN2I,EACR,CAAC,OAAAxH,aAAAoO,EAAA,CAJ6C,CAClCwL,aAMlB,IAtHDlU,GAAEC,GAAGC,UAAUoI,KAAK8pB,QAAQgU,MAAMlnC,cAAgBA,CAAc,C,soHCAhEK,GAAEC,UAAUC,qBAAqBP,GA0BjCK,GAAEG,MAAMC,OAAO,oCAAqC,CACnDC,OAAQI,GAAGC,GAAGC,UAAUoI,KAAKuO,WAAWC,kBAOxC5U,WAAY,CACV2S,WAAY,CACVihB,QAAQ,EACRzzB,KAAM,aASVI,QAAS,CACP8jC,2BAA4B,KAE5BxyB,MAAK,WACH,GAA8B,oBAAnByyB,eAAgC,CAGzCrtC,KAAK2W,SAASjM,UAAUQ,IAAI,yBAC5BlL,KAAKotC,4BAA6B,CACpC,MACEptC,KAAKotC,4BAA6B,CAEtC,EAEAnwB,iBAAgB,SAAC3d,GACf,OAAQA,GACN,IAAK,UACCU,KAAKotC,2BACPptC,KAAK2W,SAASY,MAAM+1B,kBAAoB,UAC/BttC,KAAK6b,sBACd7b,KAAK2W,SAASY,MAAMC,QAAUxX,KAAK6b,qBAAuB,WAE5D,MAEF,IAAK,SACL,IAAK,WACH,GAAI7b,KAAKotC,2BACPptC,KAAK2W,SAASY,MAAM+1B,kBAAoB,aACnC,CACLttC,KAAK6b,oBAAsBsB,iBAAiBnd,KAAK2W,UAAUyG,iBAAiB,WAC5Epd,KAAK2W,SAASY,MAAMC,QAAU,MAChC,EAGN,GAGFrR,MAAK,SAACwC,GACJuG,eAAe1I,OACbK,GAAGC,GAAGC,UAAUoI,KAAKC,WAAWrH,OAAS,OAAM,SAAAgb,GAAA,aAAAzgB,UAAAiN,EAAAwT,GAAA,IAAAzT,EAAArM,aAAAsM,GAE7C,SAAAA,IAAcnN,gBAAApC,KAAAuP,GAAA,OAAAD,EAAArN,KAAAjC,KACN2I,EACR,CAAC,OAAAxH,aAAAoO,EAAA,CAJ4C,CACjCwL,cAOhB7L,eAAe1I,OACbK,GAAGC,GAAGC,UAAUoI,KAAKC,WAAWrH,OAAS,MAAK,SAAA4L,GAAA,aAAArR,UAAAirC,EAAA55B,GAAA,IAAAC,EAAA3Q,aAAAsqC,GAE5C,SAAAA,IAAc,IAAAthC,EAAA7J,gBAAApC,KAAAutC,IACZthC,EAAA2H,EAAA3R,KAAAjC,OACSmQ,aAAa,YACpBlE,EAAKvB,UAAUQ,IAAI,WAAae,EAAKX,aAAa,YAEhDW,EAAKkE,aAAa,YACpBlE,EAAKvB,UAAUQ,IAAI,WAAae,EAAKX,aAAa,YACnD,OAAAW,CACH,CAAC,OAAA9K,aAAAosC,EAAA,CAV2C,CAU3Cr3B,iBATWC,cAYlB,IA3GDtP,GAAEC,GAAGC,UAAUoI,KAAK8pB,QAAQuU,KAAKznC,cAAgBA,CAAc,C,80FCA/DK,GAAEC,UAAUC,qBAAqBP,GAyBjCK,GAAEG,MAAMC,OAAO,qCAAsC,CACpDC,OAAQI,GAAGC,GAAGC,UAAUoI,KAAKuO,WAAWC,kBACxC2M,QAASzjB,GAAGC,GAAGC,UAAUoI,KAAKsI,OAO9B3P,QAAS,CACPuO,aAAc,IAQhB/M,QAAS,CACPmkC,aAAc,KAEd7yB,MAAK,WAAG,IAAA3O,EAAAjM,KACN6G,GAAAC,GAAAC,UAAAoI,KAAA8pB,QAAAyU,MAAAjtB,WAAAlf,UAAAqZ,MAAA3Y,KAAAjC,MACA,IAAM0W,EAAQ1W,KAAK2W,SAEnB,IADmBD,EAAMvG,aAAa,cAAoD,SAApCuG,EAAMpL,aAAa,aAC1D,CACbtL,KAAKytC,aAAetkC,SAASmO,cAAc,UAC3CtX,KAAKytC,aAAa/iC,UAAUQ,IAAI,SAChC,IAAM0hB,EAAOzjB,SAASmO,cAAc,KACpCsV,EAAKliB,UAAUQ,IAAI,iBACnBlL,KAAKytC,aAAal/B,YAAYqe,GAC9BlW,EAAMpB,aAAatV,KAAKytC,aAAc/2B,EAAMgyB,YAC5C1oC,KAAKytC,aAAa/8B,iBAAiB,SAAS,kBAAMzE,EAAKiL,OAAO,GAChE,CACAR,EAAMhG,iBAAiB,SAAS,SAAAqH,GAC9B9L,EAAKiL,OACP,IACA,GAAIR,EAAMvG,aAAa,SAAU,CAC/B,IAAMw9B,EAASxkC,SAASmO,cAAc,UACtCZ,EAAMpB,aAAaq4B,EAAQj3B,EAAMgyB,YACjC,IAAMxa,EAAQ/kB,SAASmO,cAAc,MACrC4W,EAAMtc,YAAc8E,EAAMpL,aAAa,SACvCqiC,EAAOp/B,YAAY2f,EACrB,CACA,GAAIxX,EAAMvG,aAAa,sBAAuB,CAC5C,IAAMy9B,EAAiBl5B,SAASgC,EAAMpL,aAAa,uBAEnD,GAAKoT,MAAMkvB,GAOT5tC,KAAKT,MAAM,oCAAqCmX,EAAMpL,aAAa,2BAPzC,CAC1BtL,KAAK6tC,gBAAkB,IAAIznC,GAAGsF,MAAM+M,MAAuB,IAAjBm1B,GAC1C5tC,KAAK6tC,gBAAgBn/B,YAAY,YAAY,WAC3CzC,EAAK4hC,gBAAgBj9B,OACrB3E,EAAKiL,OACP,GACF,CAGF,CACF,EAEAF,KAAI,WACF,IAAMN,EAAQ1W,KAAK2W,SACnB,IAAKD,EAAMvG,aAAa,QAAS,CAC/BuG,EAAMnG,aAAa,OAAQ,IACvBmG,EAAMvG,aAAa,UAA4C,SAAhCuG,EAAMpL,aAAa,UACpDtL,KAAKmX,qBAEHnX,KAAK6tC,iBACP7tC,KAAK6tC,gBAAgBj1B,OAEzB,CACF,EAEA1B,MAAK,WACH,IAAMR,EAAQ1W,KAAK2W,SACnB,GAAID,EAAO,CACTA,EAAMtB,gBAAgB,QAClBsB,EAAMvG,aAAa,UAA4C,SAAhCuG,EAAMpL,aAAa,UACpDtL,KAAK0X,uBAEH1X,KAAK6tC,iBACP7tC,KAAK6tC,gBAAgBj9B,OAEvB8F,EAAMgL,cAAc,IAAID,YAAY,UACtC,CACF,EAWApF,cAAa,SAACtE,GACZ,IAAIlR,GAAAC,GAAAC,UAAAoI,KAAA8pB,QAAAyU,MAAAjtB,WAAAlf,UAAA8a,cAAApa,KAAAjC,KAAqB+X,GACvB,OAAQA,EAAGsF,OAAO7c,QAChB,IAAK,OACCuX,EAAGsF,OAAOE,OACZvd,KAAKgX,OAEP,MAEF,IAAK,aACCe,EAAGsF,OAAOE,MACZvd,KAAKgX,OAELhX,KAAKkX,QAEP,MAEF,IAAK,QACEa,EAAGsF,OAAOE,OACbvd,KAAKkX,QAEP,MAEF,QACElX,KAAKwM,MAAM,2BAA4BuL,EAAGsF,OAAO7c,QAIzD,GAQF2X,SAAQ,WACNnY,KAAK+Y,gBAAgB,mBACrB,GAAI/Y,KAAKytC,aAAc,CACrBztC,KAAKytC,aAAa1iC,SAClB/K,KAAKytC,aAAe,IACtB,CACF,EAEAtnC,MAAK,SAACwC,GACJuG,eAAe1I,OACbK,GAAGC,GAAGC,UAAUoI,KAAKC,WAAWrH,OAAS,QAAO,SAAAgb,GAAA,aAAAzgB,UAAAiN,EAAAwT,GAAA,IAAAzT,EAAArM,aAAAsM,GAE9C,SAAAA,IAAcnN,gBAAApC,KAAAuP,GAAA,OAAAD,EAAArN,KAAAjC,KACN2I,EACR,CAAC,OAAAxH,aAAAoO,EAAA,CAJ6C,CAClCwL,aAMlB,IA7KDlU,GAAEC,GAAGC,UAAUoI,KAAK8pB,QAAQyU,MAAM3nC,cAAgBA,CAAc,C,80FCAhEK,GAAEC,UAAUC,qBAAqBP,GAsBjCK,GAAEG,MAAMC,OAAO,oCAAqC,CACnDC,OAAQI,GAAGC,GAAGC,UAAUoI,KAAKuO,WAAWC,kBACxC2M,QAASzjB,GAAGC,GAAGC,UAAUoI,KAAKsI,OAO9B1O,WAAY,CACV+kC,gBAAiB,CACf7kC,MAAO,SACP0Q,UAAU,EACVxZ,MAAO,yBAMTuW,MAAO,CACLzN,MAAO,UACPC,MAAM,EACN/I,MAAO,gBASXmJ,QAAS,CACPykC,gBAAiB,KAEjBnzB,MAAK,WAAG,IAAA3O,EAAAjM,KACN6G,GAAAC,GAAAC,UAAAoI,KAAA8pB,QAAA+U,KAAAvtB,WAAAlf,UAAAqZ,MAAA3Y,KAAAjC,MACAA,KAAKyW,kBACDzW,KAAK2W,SAASxG,aAAa,qBAC7BnQ,KAAKiuC,mBAAmBjuC,KAAK2W,SAASrL,aAAa,qBAEjDtL,KAAKwW,aACPxW,KAAKwW,YAAY9F,iBAAiB,UAAU,WAC1CzE,EAAKiiC,YACP,GAEJ,EAEAC,sBAAqB,SAAC7uC,GACpB,GAAIA,EAAO,CACTU,KAAK2W,SAASY,MAAMu2B,gBAAe,OAAA18B,OAAU9R,EAAK,KAClD,IAAI8uC,EAAUpuC,KAAK2W,SAASlM,cAAc,wBAC1C,IAAK2jC,EAAS,EACZA,EAAUjlC,SAASmO,cAAc,QACzB5M,UAAUQ,IAAI,WACtBlL,KAAK2W,SAASrB,aAAa84B,EAASpuC,KAAK2W,SAAS+xB,WACpD,CACA1oC,KAAK2W,SAASjM,UAAUQ,IAAI,eAC9B,KAAO,CACLlL,KAAK2W,SAASY,MAAMu2B,gBAAkB,GACtC9tC,KAAK2W,SAASjM,UAAUK,OAAO,eACjC,CACF,EAEAiM,KAAI,WAAG,IAAApK,EAAA5M,KACL,GAAIA,KAAKwW,YACPxW,KAAK6W,sBACA,CACL,IAAIw3B,EAAcruC,KAAK2W,SAASlM,cAAc,yBAC9C,IAAK4jC,EAAa,EAChBA,EAAcllC,SAASmO,cAAc,WACzB5M,UAAUQ,IAAI,SAC1B,IAAM0hB,EAAOzjB,SAASmO,cAAc,KACpCsV,EAAKliB,UAAUQ,IAAI,iBACnBmjC,EAAY9/B,YAAYqe,GACxB5sB,KAAK2W,SAASpI,YAAY8/B,GAC1BA,EAAY39B,iBAAiB,SAAS,kBAAM9D,EAAK0hC,UAAS,EAAM,GAClE,CACAD,EAAY92B,MAAMC,QAAU,QAC5BxX,KAAK2W,SAASjM,UAAUQ,IAAI,SACxBlL,KAAK+tC,iBACP/tC,KAAK2W,SAASjM,UAAUQ,IAAI,cAE9BlL,KAAKmX,oBACP,CACF,EAEAD,MAAK,SAACq3B,GACCA,GACHvuC,KAAKsuC,UAAS,GAEhB,GAAItuC,KAAKwW,YACPxW,KAAKiX,uBACA,CACLjX,KAAK2W,SAASjM,UAAUK,OAAO,SAC3B/K,KAAK+tC,iBACP/tC,KAAK2W,SAASjM,UAAUK,OAAO,cAEjC,IAAIsjC,EAAcruC,KAAK2W,SAASlM,cAAc,yBAC1C4jC,IACFA,EAAY92B,MAAMC,QAAU,QAE9BxX,KAAK0X,sBACP,CACI1X,KAAK6tC,iBACP7tC,KAAK6tC,gBAAgBj9B,OAEvB5Q,KAAKw/B,UAAU,SACjB,EAEAgP,YAAW,SAAClvC,GACNA,EACFU,KAAKgX,OAELhX,KAAKkX,OAAM,EAEf,EAOAmF,cAAa,SAACtE,GACZ,IAAIlR,GAAAC,GAAAC,UAAAoI,KAAA8pB,QAAA+U,KAAAvtB,WAAAlf,UAAA8a,cAAApa,KAAAjC,KAAqB+X,GACvB,OAAQA,EAAGsF,OAAO7c,QAChB,IAAK,mBACHR,KAAKiuC,mBAAmBl2B,EAAGsF,OAAOE,OAClC,MAEF,IAAK,QACL,IAAK,mBACHvd,KAAK+tC,gBAAuC,qBAArBh2B,EAAGsF,OAAO7c,OACjC,GAAIuX,EAAGsF,OAAOmH,cAGZ,GAAIzM,EAAGsF,OAAOmH,cAAgBzM,EAAGsF,OAAOE,MAAO,CAC7Cvd,KAAKsuC,UAAS,GAEd,IAAKtuC,KAAK6tC,gBAAiB,CACzB7tC,KAAK6tC,gBAAkB,IAAIznC,GAAGsF,MAAM+M,MAAK,MACzCzY,KAAK6tC,gBAAgBn/B,YAAY,WAAY1O,KAAKkX,MAAOlX,KAC3D,CACAA,KAAK6tC,gBAAgBY,SACvB,OAIAzuC,KAAKsuC,SAA4B,GAAnBv2B,EAAGsF,OAAOE,OAE1B,MAEF,QACEvd,KAAKwM,MAAM,2BAA4BuL,EAAGsF,OAAO7c,QAGzD,GAGF2F,MAAK,SAACwC,GACJuG,eAAe1I,OACbK,GAAGC,GAAGC,UAAUoI,KAAKC,WAAWrH,OAAS,OAAM,SAAAgb,GAAA,aAAAzgB,UAAAiN,EAAAwT,GAAA,IAAAzT,EAAArM,aAAAsM,GAE7C,SAAAA,IAAcnN,gBAAApC,KAAAuP,GAAA,OAAAD,EAAArN,KAAAjC,KACN2I,EACR,CAAC,OAAAxH,aAAAoO,EAAA,CAJ4C,CACjCwL,aAMlB,IA7LDlU,GAAEC,GAAGC,UAAUoI,KAAK8pB,QAAQ+U,KAAKjoC,cAAgBA,CAAc,C"}