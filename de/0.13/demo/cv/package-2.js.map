{"version":3,"names":["_next","_throw","key","arg","info","gen","value","error","reject","done","resolve","Promise","then","_asyncToGenerator","fn","self","this","args","arguments","apply","asyncGeneratorStep","err","undefined","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","_toPropertyKey","_createClass","Constructor","protoProps","staticProps","prototype","_toPrimitive","_typeof","String","input","hint","prim","Symbol","toPrimitive","res","call","TypeError","Number","_classCallCheck","instance","_inherits","subClass","superClass","create","constructor","_setPrototypeOf","o","p","setPrototypeOf","bind","__proto__","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","result","Super","_getPrototypeOf","NewTarget","Reflect","construct","_possibleConstructorReturn","_assertThisInitialized","ReferenceError","sham","Proxy","Boolean","valueOf","e","getPrototypeOf","_createForOfIteratorHelper","allowArrayLike","it","iterator","Array","isArray","_unsupportedIterableToArray","F","s","n","_e","f","normalCompletion","didErr","step","next","_e2","minLen","_arrayLikeToArray","toString","slice","name","from","test","arr","len","arr2","$$dbClassInfo","dependsOn","usage","require","defer","qx","Bootstrap","executePendingDefers","Class","define","extend","core","type","implement","cv","ui","structure","IController","__P_72_0","bom","Stylesheet","includeFile","util","ResourceManager","getInstance","toUri","replace","Config","forceReload","Date","now","statics","PREFIX","__P_72_1","__P_72_2","register","webComponentName","qxClass","onComponentCreated","element","tagName","toLowerCase","hasOwnProperty","QxClass","push","log","Logger","properties","renderTarget","check","init","document","body","namespace","members","__P_72_3","__P_72_4","getHtmlStructure","supports","feature","subfeature","initLayout","__P_72_5","location","hash","scrollToPage","substring","getInitialPageId","onHistoryRequest","anchor","pageId","skipHistory","page","querySelector","classList","contains","_step","_iterator","querySelectorAll","remove","_step2","_iterator2","add","parentElement","nodeName","headline","getAttribute","pageTitle","History","addToHistory","event","message","Bus","dispatchByName","warn","parseBackendSettings","xml","_this","io","BackendConnections","initBackendClient","login","configSettings","credentials","debug","startInitialRequest","parseSettings","config","_this2","settings","configElement","documentElement","bindClickToWidget","translate","cacheUsed","templates","ajaxRequest","request","Xhr","set","accept","cache","addListenerOnce","child","content","getTarget","getResponse","getRenderTarget","registerTemplates","xmlns","text","getResponseText","DOMParser","parseFromString","firstElementChild","appendChild","TemplateEngine","setDomFinished","addListener","status","getTransport","Request","isSuccessful","send","forEach","template","customElements","tile","Controller","_TemplatedElement","_super","_class","TemplatedElement","preParse","_this3","_regeneratorRuntime","mark","_callee","theme","data","wrap","_context","prev","hasAttribute","window","matchMedia","matches","setAttribute","Model","updateFrom","addEventListener","abrupt","stop","createUI","doc","_i","_arr","_step3","attr","_iterator3","concat","trNameElement","match","exec","translation","locale","Manager","getLanguage","textContent","trim","_step4","_iterator4","trTextElement","_key","_translation","doScreenSave","screensave_page","getInitialAddresses","firstPage","id","addMapping","mapping","removeMapping","mapValue","mappingName","store","addStyling","styling","removeStyling","styleValue","stylingName","parseLabel","cvTestMode","Application","structureController","_HTMLElement","_super2","templateId","_this4","controller","getElementById","_step5","slotAttributes","cloneNode","_iterator5","_loop","slot","slotName","replacementSelector","slotParentScope","parseInt","slotContents","attrs","l","attributes","includes","slotContent","newNode","keys","attrName","removeAttribute","parentNode","insertBefore","replaced","_i2","children","getAttributeNames","targets","targetName","endsWith","elem","_toConsumableArray","startsWith","innerHTML","_wrapNativeSuper","HTMLElement","Mixin","openedPopups","events","closed","_childPopup","_initPopupChild","popup","_element","Registration","_openPopupChild","last","parent","open","_closePopupChild","close","registerModalPopup","_onPointerDown","blocker","createElement","style","display","MPopup","unregisterModalPopup","removeListener","index","indexOf","splice","ev","Tree","isChildOf","preventDefault","destruct","refresh","_refreshTimer","_lastRefresh","_applyRefresh","restartWith","Timer","__P_73_0","isVisible","start","_applyVisible","getInterval","_disposeObjects","MRefresh","_observer","ResizeObserver","entries","observer","getResizeTarget","some","entry","fireDataEvent","resized","resizeTarget","nullable","_applyResizeTarget","oldElement","unobserve","observe","disconnect","MResize","_observeVisibility","IntersectionObserver","_instance","setVisible","intersectionRatio","visible","MVisibility","connected","_initialized","_applyConnected","_init","_disconnected","getElement","QxConnector","isSubClassOf","elements","AbstractCustomElement","Error","setConnected","oldValue","newValue","hasProperty","styleClass","enabled","visibility","_writeAddresses","_visibleDisplayMode","hasReadAddress","writeAddresses","address","onStateUpdate","stopPropagation","_applyValue","isConnected","mappedValue","sprintf","toLocaleString","_updateValue","setStyleClass","_applyStyleClass","classes","_applyEnabled","_applyVisibility","opacity","getComputedStyle","getPropertyValue","detail","setEnabled","state","setVisibility","setValue","components","AbstractComponent","__P_74_0","Map","on","onClass","offClass","onValue","offValue","progress","transform","__P_74_1","__P_74_2","_parseInt","val","intVal","isNaN","setType","setName","setProgress","setOnValue","setOffValue","eventSource","level","addr","click","onClicked","pointerup","onPointerUp","pointerdown","onPointerDown","getOwnPropertyNames","eventName","triggerAddresses","filter","once","setOn","getOnValue","hasDown","hasUp","_initProgress","Math","PI","svg","createElementNS","circle","Button","superclass","getType","_applyOn","isOn","getOffValue","setId","updateValue","getOnClass","getOffClass","_applyProgress","valueElement","_applyName","source","Address","addressElement","createRipple","CustomEvent","dispatchEvent","button","currentTarget","container","diameter","max","clientWidth","clientHeight","radius","width","height","x","clientX","offsetLeft","y","clientY","offsetTop","offsetParent","left","top","ripple","_QxConnector","__P_84_0","__P_84_1","model","backendName","addAddress","mode","getState","fireStateUpdate","addUpdateListener","allowDuplicates","encoding","encodedValue","Transform","encodeBusAndRaw","raw","lastSentValue","delay","getClient","write","bus","transformedState","decode","bubbles","cancelable","addressValue","variant","getValue","Clazz","exports","Op","hasOwn","obj","desc","$Symbol","iteratorSymbol","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","innerFn","outerFn","tryLocsList","protoGenerator","Generator","generator","context","Context","makeInvokeMethod","tryCatch","ContinueSentinel","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","NativeIteratorPrototype","values","Gp","defineIteratorMethods","method","_invoke","AsyncIterator","PromiseImpl","invoke","record","__await","unwrapped","previousPromise","callInvokeWithMethodAndArg","doneResult","delegate","delegateResult","maybeInvokeDelegate","sent","_sent","dispatchException","methodName","resultName","nextLoc","pushTryEntry","locs","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","reset","iterable","iteratorMethod","displayName","isGeneratorFunction","genFun","ctor","awrap","async","iter","object","reverse","pop","skipTempReset","charAt","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","catch","thrown","delegateYield","include","ChartCounter","JS_LOADED","_ref","timer","counter","d3","ScriptLoader","includeScript","_x","_x2","formatDefaultLocale","decimal","thousands","grouping","currency","timeFormatDefaultLocale","dateTime","date","time","periods","days","shortDays","months","shortMonths","CONFIG","_downloadedImage","_url","_headers","_request","_chart","_width","_height","_loaded","_dataSetConfigs","_callee2","chartId","buttonAddress","icon","tileAddress","tileWidget","_context2","Chart","_loadData","url","client","dataSets","series","seriesConfig","xTicks","timeMinute","every","timeHour","timeDay","promises","dataSet","ts","assign","showArea","color","title","end","item","split","map","part","toUpperCase","join","parseFloat","setTime","getTime","getResourcePath","src","Fetch","fetch","hasCustomChartsDataProcessor","processChartsData","_onStatusError","all","responses","_onSuccess","chartData","tsdata","_step3$value","_slicedToArray","minVal","min","d","maxVal","format","timeFormat","formatString","multiTimeFormat","getMilliseconds","getSeconds","getMinutes","getHours","getDay","getDate","getMonth","_lineChart","z","chartTitle","xDomain","extent","yDomain","mixBlendMode","xFormat","formatsArray","found","fmt","multiFormat","notifications","Router","dispatchMessage","tr","severity","JSON","stringify","c","defined","curve","curveLinear","marginTop","marginRight","marginBottom","marginLeft","xType","scaleTime","xRange","yType","scaleLinear","yRange","yFormat","yLabel","zDomain","strokeLinecap","strokeLinejoin","strokeWidth","strokeOpacity","xPadding","X","Y","Z","O","InternSet","I","range","has","xScale","yScale","xAxis","axisBottom","ticks","tickSizeOuter","tickFormat","yAxis","axisLeft","T","select","linePath","tooltip","append","dot","_d3$pointer","pointer","_d3$pointer2","xm","ym","least","hypot","scaleFactorX","offsetWidth","scaleFactorY","offsetHeight","ttNode","node","timeString","lineTitle","html","property","dispatch","relatedTarget","targetTouches","pathRect","getBoundingClientRect","passive","showXAxis","showYAxis","g","lineGroups","areaGroups","barGroups","get","size","line","selectAll","area","y0","y1","xBarScale","scaleBand","domain","padding","bandwidth","throttleInterval","CC_COUNTER","__P_75_0","setThrottleInterval","addresses","_mode","variantInfo","parser","pure","widgets","ColorChooser","makeAddressListFn","Color","path","$$type","layout","colspan","controls","getThrottleInterval","parseAttributes","_onColorChanged","getDomString","_onDomReady","setResizeTarget","invalidateScreensize","getColor","rgb","getComponent","v","__P_75_1","r","b","round","padStart","alpha","backgroundColor","_idRegex","__P_76_0","_transformId","Icon","_applyId","_applyColor","img","base","origin","pathname","URL","useProxy","rest","Client","getBaseUrl","searchParams","btoa","_loadImage","setRefresh","XMLHttpRequest","responseType","setRequestHeader","onreadystatechange","readyState","DONE","createObjectURL","response","onload","revokeObjectURL","random","Image","refine","_target","_timer","_model","_getModel","_filterModel","_sortModel","_limit","_modelInstance","refreshOnUpdate","Function","readAddresses","sortBy","sortModifier","right","leftVal","rightVal","localeCompare","options","proxyParam","listmodel","Registry","modelInstance","_entry$split$map","_entry$split$map2","getModel","script","innerText","a","List","_callee3","newModel","whenEmptyTemplate","emptyModel","emptyElem","itemTemplate","_context3","t0","t1","sort","removeChild","replaceAll","_elem$getAttribute$sp","_elem$getAttribute$sp2","ListItem","appearance","depth","domReady","showLabels","_applyAppearance","main","_applyDepth","isDomReady","_generateMenu","_onDomAppended","setDomReady","unsubscribe","setShowLabels","subscribe","rootList","ham","href","onclick","_onHamburgerMenu","_onPageChange","_onSwipe","currentPage","replaceChildren","__P_77_0","toggle","_closeAll","getDirection","current","previousElementSibling","except","parentList","currentLevel","pages","pageName","pageIcon","li","isShowLabels","createTextNode","getDepth","details","summary","pointerType","offsetX","subList","pageElement","getData","link","activeName","Menu","PL_COUNTER","__P_78_0","pluginName","fileName","scriptLoader","Plugin","loadPluginPart","getPackages","getUrls","getByName","parse","requestAnimationFrame","isFinished","Part","getParts","load","__P_79_0","__P_79_1","__P_79_2","__P_79_3","__P_79_4","__P_79_5","__P_79_6","__P_79_7","__P_79_8","_queuedFitText","RoundProgress","hasFixedRadius","normalizedRadius","setMin","setMax","code","bg","isPropertyInitialized","getProgress","__P_79_9","angle","angleRad","cos","sin","valueInRange","getMin","percent","getMax","_fitText","__P_79_10","getContext","compStyle","font","metrics","measureText","factor","fontSize","floor","_applyText","__P_80_0","__P_80_1","__P_80_2","Select","option","_sendSelection","predictive","stepWidth","showValue","__P_81_0","__P_81_1","Slider","_applyThrottleInterval","oninput","setStepWidth","setShowValue","_applyShowValue","decreaseElement","onDecrease","increaseElement","onIncrease","throttle","onInput","trailing","abort","_applyMin","_applyMax","valueLabel","firstChild","isShowValue","__P_81_2","getStepWidth","Spinner","setMode","decrease","decreaseIcon","increase","increaseIcon","getMode","__P_82_0","_queuedOverflowDetection","_debouncedDetectOverflow","Value","debounce","_detectOverflow","__P_83_0","setText","_name","__P_85_0","uri","uriString","username","password","backendUrlConfigKey","backendUrl","server","hasClient","configuredIn","notification","topic","unique","deletable","addBackendClient","_client","update","setDefaultBackendName","doSubscribe","_step$value","onUpdate","addressesToSubscribe","getAddresses","isDomFinished","resetDefaultBackendName","terminate","removeClient","dispose","Backend","loaderElement","loadXml","htmlContent","handleError","getUrl","textStatus","additionalErrorInfo","actions","Loader","__P_86_0","Mapping","exactMatch","_convert","formula","_formula","defaultValue","isDefaultValue","rangeMin","rangeMax","POSITIVE_INFINITY","floatValue","Styling","Group","label","_toggleOpen","_supportsContentVisibility","InstallTrigger","contentVisibility","_class2","Page","_closeButton","Popup","header","timeoutSeconds","_autoCloseTimer","backgroundImage","_fullScreenMode","Tile","setBackgroundImage","resetPopup","_applyBackgroundImage","overlay","closeButton","setPopup","keepState","fireEvent","_applyPopup","restart"],"sources":["/home/runner/work/CometVisu/CometVisu/source/class/cv/ui/structure/tile/Controller.js","/home/runner/work/CometVisu/CometVisu/source/class/cv/ui/structure/tile/MPopup.js","/home/runner/work/CometVisu/CometVisu/source/class/cv/ui/structure/tile/MRefresh.js","/home/runner/work/CometVisu/CometVisu/source/class/cv/ui/structure/tile/MResize.js","/home/runner/work/CometVisu/CometVisu/source/class/cv/ui/structure/tile/MVisibility.js","/home/runner/work/CometVisu/CometVisu/source/class/cv/ui/structure/tile/elements/AbstractCustomElement.js","/home/runner/work/CometVisu/CometVisu/source/class/cv/ui/structure/tile/components/AbstractComponent.js","/home/runner/work/CometVisu/CometVisu/source/class/cv/ui/structure/tile/components/Button.js","/home/runner/work/CometVisu/CometVisu/source/class/cv/ui/structure/tile/elements/Address.js","/home/runner/work/CometVisu/CometVisu/source/class/cv/ui/structure/tile/components/Chart.js","/home/runner/work/CometVisu/CometVisu/source/class/cv/ui/structure/tile/components/Color.js","/home/runner/work/CometVisu/CometVisu/source/class/cv/ui/structure/tile/components/Icon.js","/home/runner/work/CometVisu/CometVisu/source/class/cv/ui/structure/tile/components/Image.js","/home/runner/work/CometVisu/CometVisu/source/class/cv/ui/structure/tile/components/List.js","/home/runner/work/CometVisu/CometVisu/source/class/cv/ui/structure/tile/components/ListItem.js","/home/runner/work/CometVisu/CometVisu/source/class/cv/ui/structure/tile/components/Menu.js","/home/runner/work/CometVisu/CometVisu/source/class/cv/ui/structure/tile/components/Plugin.js","/home/runner/work/CometVisu/CometVisu/source/class/cv/ui/structure/tile/components/RoundProgress.js","/home/runner/work/CometVisu/CometVisu/source/class/cv/ui/structure/tile/components/Select.js","/home/runner/work/CometVisu/CometVisu/source/class/cv/ui/structure/tile/components/Slider.js","/home/runner/work/CometVisu/CometVisu/source/class/cv/ui/structure/tile/components/Spinner.js","/home/runner/work/CometVisu/CometVisu/source/class/cv/ui/structure/tile/components/Value.js","/home/runner/work/CometVisu/CometVisu/source/class/cv/ui/structure/tile/elements/Backend.js","/home/runner/work/CometVisu/CometVisu/source/class/cv/ui/structure/tile/elements/Loader.js","/home/runner/work/CometVisu/CometVisu/source/class/cv/ui/structure/tile/elements/Mapping.js","/home/runner/work/CometVisu/CometVisu/source/class/cv/ui/structure/tile/elements/Styling.js","/home/runner/work/CometVisu/CometVisu/source/class/cv/ui/structure/tile/widgets/Group.js","/home/runner/work/CometVisu/CometVisu/source/class/cv/ui/structure/tile/widgets/Page.js","/home/runner/work/CometVisu/CometVisu/source/class/cv/ui/structure/tile/widgets/Popup.js","/home/runner/work/CometVisu/CometVisu/source/class/cv/ui/structure/tile/widgets/Tile.js"],"sourcesContent":["/* Controller.js\n *\n * copyright (c) 2010-2022, Christian Mayer and the CometVisu contributers.\n *\n * This program is free software; you can redistribute it and/or modify it\n * under the terms of the GNU General Public License as published by the Free\n * Software Foundation; either version 3 of the License, or (at your option)\n * any later version.\n *\n * This program is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for\n * more details.\n *\n * You should have received a copy of the GNU General Public License along\n * with this program; if not, write to the Free Software Foundation, Inc.,\n * 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA\n */\n\n/**\n * Controller for the 'tile' structure.\n *\n * This structure is based on web-components and does not need a parser to work.\n * The config file is directly attached to the document body.\n * The widgets in this structure register a customElement and the browser automatically creates instances\n * of this widgets once the customElement is added to the body.\n *\n * The basic structure is a set of pages that contain a list of tiles.\n * Each tile contains a grid of 3 rows and 3 columns. The components can be added to a cell of that grid\n * but also can spread over more then one cell by using row-/column spanning.\n *\n * This structure provides some tiles with a pre-defined content, e.g. a <cv-switch> which\n * contains of a button in the middle of the tile and a primary- and secondary label in the third row.\n *\n * Those pre-defined tiles are provided by a <template> (@see https://developer.mozilla.org/de/docs/Web/HTML/Element/template}\n * User are able to define own templates for re-usable tiles if they need one that this structure does not provide.\n *\n * @asset(structures/tile/*)\n * @author Tobias Bräutigam\n * @since 2022\n */\nqx.Class.define('cv.ui.structure.tile.Controller', {\n  extend: qx.core.Object,\n  type: 'singleton',\n  implement: cv.ui.structure.IController,\n\n  /*\n  ***********************************************\n    CONSTRUCTOR\n  ***********************************************\n  */\n  construct() {\n    super();\n    this.__HTML_STRUCT = '';\n    qx.bom.Stylesheet.includeFile(\n      qx.util.ResourceManager.getInstance().toUri('designs/tile-globals.scss').replace('.scss', '.css') +\n        (cv.Config.forceReload === true ? '?' + Date.now() : '')\n    );\n  },\n\n  /*\n  ***********************************************\n    STATICS\n  ***********************************************\n  */\n  statics: {\n    // prefix for all custom components uses/provided by this structure\n    PREFIX: 'cv-',\n    __MAP: {},\n    __I: {},\n    register(webComponentName, qxClass) {\n      this.__MAP[webComponentName] = qxClass;\n    },\n\n    onComponentCreated(element) {\n      const name = element.tagName.toLowerCase();\n      if (Object.prototype.hasOwnProperty.call(this, name)) {\n        const QxClass = this.__MAP[name];\n        if (!Object.prototype.hasOwnProperty.call(this, name)) {\n          this.__I[name] = [];\n        }\n        this.__I[name].push(new QxClass(element));\n      } else {\n        qx.log.Logger.error(this, 'no QxClass registered for custom element ' + name);\n      }\n    }\n  },\n\n  /*\n  ***********************************************\n    PROPERTIES\n  ***********************************************\n  */\n  properties: {\n    /**\n     * The target this structure should be inserted into\n     */\n    renderTarget: {\n      check: 'Element',\n      init: document.body\n    },\n\n    /**\n     * Namespace for path ids\n     */\n    namespace: {\n      check: 'String',\n      init: ''\n    }\n  },\n\n  /*\n  ***********************************************\n    MEMBERS\n  ***********************************************\n  */\n  members: {\n    __HTML_STRUCT: null,\n    __mappings: null,\n    __stylings: null,\n\n    getHtmlStructure() {\n      return this.__HTML_STRUCT;\n    },\n\n    supports(feature, subfeature) {\n      return false;\n    },\n\n    initLayout() {},\n\n    __gotoStartPage() {\n      // open first page\n      if (!document.location.hash) {\n        this.scrollToPage(this.getInitialPageId());\n      } else {\n        this.scrollToPage(document.location.hash.substring(1));\n      }\n    },\n\n    onHistoryRequest(anchor) {\n      if (anchor) {\n        this.scrollToPage(anchor);\n      }\n    },\n\n    scrollToPage(pageId, skipHistory) {\n      if (!pageId) {\n        return;\n      }\n      const page = document.querySelector('#' + pageId);\n      if (page) {\n        if (!page.classList.contains('active')) {\n          for (let oldPage of document.querySelectorAll('cv-page.active')) {\n            oldPage.classList.remove('active');\n          }\n          for (let oldPage of document.querySelectorAll('cv-page.sub-active')) {\n            oldPage.classList.remove('sub-active');\n          }\n          page.classList.add('active');\n          // mark parent pages that there is a active subpage\n          let parentElement = page.parentElement;\n          while (parentElement && parentElement.nodeName.toLowerCase() !== 'main') {\n            if (parentElement.nodeName.toLowerCase() === 'cv-page') {\n              parentElement.classList.add('sub-active');\n            }\n            parentElement = parentElement.parentElement;\n          }\n\n          if (skipHistory === undefined) {\n            const headline = page.getAttribute('name');\n            let pageTitle = 'CometVisu';\n            if (headline) {\n              pageTitle = headline + ' - ' + pageTitle;\n            }\n            qx.bom.History.getInstance().addToHistory(pageId, pageTitle);\n          }\n          qx.event.message.Bus.dispatchByName('cv.ui.structure.tile.currentPage', page);\n        }\n      } else {\n        this.warn('no page with id', pageId, 'found');\n      }\n    },\n\n    // not needed, backend parse/init themselves\n    parseBackendSettings(xml) {\n      if (xml.querySelectorAll('cv-backend').length === 0) {\n        // no backends defined, use the default one;\n        const client = cv.io.BackendConnections.initBackendClient();\n        client.login(true, cv.Config.configSettings.credentials, () => {\n          this.debug('logged in');\n          cv.io.BackendConnections.startInitialRequest();\n        });\n      }\n      return false;\n    },\n\n    /**\n     * Parses structure specific settings\n     * @param config {XMLDocument} loaded config\n     */\n    parseSettings(config) {\n      document.body.classList.add('loading-structure');\n      const settings = cv.Config.configSettings;\n      const configElement = config.documentElement;\n      settings.bindClickToWidget = configElement.getAttribute('bind_click_to_widget') === 'true';\n      this.translate(config);\n\n      if (!cv.Config.cacheUsed) {\n        const templates = qx.util.ResourceManager.getInstance().toUri('structures/tile/templates.xml');\n\n        const ajaxRequest = new qx.io.request.Xhr(templates);\n        ajaxRequest.set({\n          accept: 'application/xml',\n          cache: !cv.Config.forceReload\n        });\n\n        ajaxRequest.addListenerOnce('success', e => {\n          let content = e.getTarget().getResponse();\n          const target = this.getRenderTarget();\n          this.debug('creating pages');\n          // register custom elements for templates in this document\n          this.registerTemplates(content);\n          let child;\n          // we need the documents to be in HTML namespace\n          if (!content.documentElement.xmlns) {\n            let text = e.getTarget().getResponseText();\n            text = text.replace('<templates', '<templates xmlns=\"http://www.w3.org/1999/xhtml\"');\n\n            const parser = new DOMParser();\n            content = parser.parseFromString(text, 'text/xml');\n          }\n          while ((child = content.documentElement.firstElementChild)) {\n            target.appendChild(child);\n          }\n\n          while ((child = configElement.firstElementChild)) {\n            target.appendChild(child);\n          }\n          document.body.classList.remove('loading-structure');\n          this.debug('finalizing');\n          qx.event.message.Bus.dispatchByName('setup.dom.append');\n          this.debug('pages created');\n          this.__gotoStartPage();\n          this.debug('setup.dom.finished');\n          qx.event.message.Bus.dispatchByName('setup.dom.finished.before');\n          cv.TemplateEngine.getInstance().setDomFinished(true);\n        });\n        ajaxRequest.addListener('statusError', e => {\n          const status = e.getTarget().getTransport().status;\n          if (!qx.util.Request.isSuccessful(status)) {\n            this.error('filenotfound', templates);\n          }\n          document.body.classList.remove('loading-structure');\n        });\n\n        ajaxRequest.send();\n      }\n    },\n\n    /**\n     * Registers customElements for all templates in the given xml that are direct children of a <templates structure=\"tile\"> element\n     * @param xml {XMLDocument}\n     */\n    registerTemplates(xml) {\n      xml.querySelectorAll('templates[structure=\\'tile\\'] > template').forEach(template => {\n        customElements.define(\n          cv.ui.structure.tile.Controller.PREFIX + template.getAttribute('id'),\n          class extends TemplatedElement {\n            constructor() {\n              super(template.getAttribute('id'));\n            }\n          }\n        );\n      });\n    },\n\n    /**\n     * Pre parsing hook, do everything here that is needed before the real parsing process can start\n     * @param xml {XMLDocument}\n     */\n    async preParse(xml) {\n      if (xml.documentElement.hasAttribute('theme')) {\n        let theme = xml.documentElement.getAttribute('theme');\n        const data = {};\n        if (theme === 'system') {\n          if (window.matchMedia) {\n            theme = window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light';\n            document.documentElement.setAttribute('data-theme', theme);\n            data['theme'] = theme;\n            cv.data.Model.getInstance().updateFrom('system', data);\n            window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', e => {\n              document.documentElement.setAttribute('data-theme', e.matches ? 'dark' : 'light');\n\n              data['theme'] = e.matches ? 'dark' : 'light';\n              cv.data.Model.getInstance().updateFrom('system', data);\n            });\n          } else {\n            this.error('system theme detection not possible in this browser');\n          }\n        } else {\n          document.documentElement.setAttribute('data-theme', theme);\n          data['theme'] = theme;\n          cv.data.Model.getInstance().updateFrom('system', data);\n        }\n      }\n      return true;\n    },\n\n    /**\n     * Generate the UI code from the config file\n     * @param config {Object} loaded config file usually an XMLDocument but other structures might use different formats\n     */\n    createUI(config) {},\n\n    translate(doc) {\n      for (const attr of ['name', 'label']) {\n        for (const trNameElement of doc.querySelectorAll(`*[${attr}^=\"tr(\"]`)) {\n          const match = /^tr\\('([^']+)'\\)$/.exec(trNameElement.getAttribute(attr));\n\n          if (!match) {\n            this.warn('attribute content no valid translation string', trNameElement.getAttribute(attr));\n\n            continue;\n          }\n          const key = match[1];\n          const translation = doc.querySelector(\n            `cv-translations > language[name=\"${qx.locale.Manager.getInstance().getLanguage()}\"] > tr[key='${key}']`\n          );\n\n          if (translation) {\n            trNameElement.setAttribute(attr, translation.textContent.trim());\n          } else {\n            trNameElement.setAttribute(attr, key);\n            this.warn(`[${qx.locale.Manager.getInstance().getLanguage()}] no translation found for: \"${key}\"`);\n          }\n        }\n      }\n      for (const trTextElement of doc.querySelectorAll('*[tr=\"true\"]')) {\n        const key = trTextElement.textContent.trim();\n        const translation = doc.querySelector(\n          `cv-translations > language[name=\"${qx.locale.Manager.getInstance().getLanguage()}\"] > tr[key='${key}']`\n        );\n\n        if (translation) {\n          trTextElement.textContent = translation.textContent.trim();\n        } else {\n          this.warn(`[${qx.locale.Manager.getInstance().getLanguage()}] no translation found for: \"${key}\"`);\n        }\n      }\n    },\n\n    /**\n     * Handle fired event from screensaver\n     * @return {Array<string>} Array with addresses\n     */\n    doScreenSave() {\n      if (cv.Config.configSettings.screensave_page) {\n        this.scrollToPage(cv.Config.configSettings.screensave_page);\n      }\n    },\n\n    /**\n     * Return the addresses needed to update all states on the initially loaded page\n     */\n    getInitialAddresses() {\n      return [];\n    },\n\n    /**\n     * Returns the widget id of the page item initially loaded\n     * @returns {String} widget path like 'id_'...\n     */\n    getInitialPageId() {\n      const firstPage = document.querySelector('cv-page');\n      return firstPage ? firstPage.id : '';\n    },\n\n    /**\n     *\n     * @param name {String} mapping name\n     * @param mapping {cv.ui.structure.tile.elements.Mapping}\n     */\n    addMapping(name, mapping) {\n      if (!this.__mappings) {\n        this.__mappings = {};\n      }\n      this.__mappings[name] = mapping;\n    },\n\n    removeMapping(name) {\n      if (this.__mappings) {\n        delete this.__mappings[name];\n      }\n    },\n\n    mapValue(mappingName, value, store) {\n      if (this.__mappings && Object.prototype.hasOwnProperty.call(this.__mappings, mappingName)) {\n        return this.__mappings[mappingName].mapValue(value, store);\n      }\n      return value;\n    },\n\n    /**\n     * @param name {String} styling name\n     * @param styling {cv.ui.structure.tile.elements.Styling}\n     */\n    addStyling(name, styling) {\n      if (!this.__stylings) {\n        this.__stylings = {};\n      }\n      this.__stylings[name] = styling;\n    },\n\n    removeStyling(name) {\n      if (this.__stylings) {\n        delete this.__stylings[name];\n      }\n    },\n\n    styleValue(stylingName, value, store) {\n      if (this.__stylings && Object.prototype.hasOwnProperty.call(this.__stylings, stylingName)) {\n        return this.__stylings[stylingName].mapValue(value, store);\n      }\n      return value;\n    },\n\n    // for compatibility with pure controller\n    parseLabel() {\n      return '';\n    }\n  },\n\n  defer(statics) {\n    if (!window.cvTestMode) {\n      // do not apply ourselves automatically in test mode\n      cv.Application.structureController = statics.getInstance();\n    }\n  }\n});\n\nclass TemplatedElement extends HTMLElement {\n  constructor(templateId) {\n    super();\n    const controller = cv.ui.structure.tile.Controller.getInstance();\n    let template = document.getElementById(templateId);\n    if (template) {\n      const slotAttributes = ['name', 'replaces', 'parent-scope'];\n      const content = template.content.cloneNode(true);\n      // move slots into template\n      for (let slot of content.querySelectorAll('slot')) {\n        const slotName = slot.getAttribute('name');\n        const replacementSelector = slot.hasAttribute('replaces') ? slot.getAttribute('replaces') : '';\n        const slotParentScope = slot.hasAttribute('parent-scope') ? parseInt(slot.getAttribute('parent-scope')) : 0;\n        let slotContents = this.querySelectorAll(`[slot='${slotName}']`);\n        const attrs = {};\n        for (let i = 0, l = slot.attributes.length; i < l; i++) {\n          if (!slotAttributes.includes(slot.attributes[i].name)) {\n            attrs[slot.attributes[i].name] = slot.attributes[i].value;\n          }\n        }\n        if (slotContents.length > 0) {\n          Array.from(slotContents).forEach(slotContent => {\n            const newNode = slotContent.cloneNode(true);\n            Object.keys(attrs).forEach(attrName => {\n              if (newNode.hasAttribute(attrName)) {\n                if (attrName === 'class') {\n                  // append it\n                  newNode.classList.add(attrs[attrName]);\n                } else {\n                  qx.log.Logger.debug(controller, '[' + templateId + '] attribute', attrName, 'already set, skipping');\n                }\n              } else {\n                newNode.setAttribute(attrName, attrs[attrName]);\n              }\n            });\n            newNode.removeAttribute('slot');\n            slot.parentNode.insertBefore(newNode, slot);\n          });\n          slot.remove();\n          if (replacementSelector) {\n            content.querySelectorAll(replacementSelector).forEach(replaced => {\n              replaced.remove();\n            });\n          }\n        } else {\n          qx.log.Logger.debug(controller, '[' + templateId + '] no content for slot', slotName, ' removing');\n\n          let parentNode = slot.parentNode;\n          if (slotParentScope > 0) {\n            // got slotParentScope elements up and remove that one\n            let i = slotParentScope - 1;\n            while (i > 0) {\n              parentNode = parentNode.parentNode;\n              i--;\n            }\n            if (parentNode) {\n              parentNode.remove();\n            }\n          } else {\n            slot.remove();\n            if (parentNode.children.length === 0) {\n              // also remove slots parent when it has no content\n              parentNode.remove();\n            }\n          }\n        }\n      }\n      // transfer attribute slots\n      const attributes = this.getAttributeNames();\n      attributes.forEach(name => {\n        let value = this.getAttribute(name);\n        const targets = content.querySelectorAll('[slot-' + name + ']');\n        let targetName = name;\n        // allow names like percent-mapping that should also be mapped to a certain elements 'mapping' attribute\n        if (name.endsWith('-mapping')) {\n          targetName = 'mapping';\n        } else if (name.endsWith('-styling')) {\n          targetName = 'styling';\n        } else if (name.endsWith('-format')) {\n          targetName = 'format';\n        }\n        targets.forEach(target => {\n          if (targetName !== name && target.hasAttribute('slot-' + name)) {\n            target.setAttribute(name, value || target.getAttribute('slot-' + name));\n\n            target.removeAttribute('slot-' + name);\n          } else {\n            target.setAttribute(targetName, value || target.getAttribute('slot-' + targetName));\n\n            target.removeAttribute('slot-' + targetName);\n          }\n        });\n        if (targets.length > 0) {\n          this.removeAttribute(name);\n        }\n      });\n      content.querySelectorAll('*').forEach(elem => {\n        [...elem.attributes].forEach(attr => {\n          if (attr.name.startsWith('slot-')) {\n            let targetName = attr.name.substring(5);\n            // only e.g. map slot-progress-mapping to mapping if we have no slot-mapping attribute\n            if (attr.name.endsWith('-mapping') && elem.hasAttribute('slot-mapping')) {\n              targetName = 'mapping';\n            } else if (attr.name.endsWith('-styling') && elem.hasAttribute('slot-styling')) {\n              targetName = 'styling';\n            } else if (attr.name.endsWith('-format') && elem.hasAttribute('slot-format')) {\n              targetName = 'format';\n            }\n            if (attr.value) {\n              elem.setAttribute(targetName, attr.value);\n            }\n            elem.removeAttribute(attr.name);\n          }\n        });\n      });\n\n      // clear content\n      this.innerHTML = '';\n      this.appendChild(content);\n    } else {\n      qx.log.Logger.error(controller, '[' + templateId + '] no template found for id', templateId);\n    }\n  }\n}\n","/* MPopup.js\n *\n * copyright (c) 2010-2022, Christian Mayer and the CometVisu contributers.\n *\n * This program is free software; you can redistribute it and/or modify it\n * under the terms of the GNU General Public License as published by the Free\n * Software Foundation; either version 3 of the License, or (at your option)\n * any later version.\n *\n * This program is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for\n * more details.\n *\n * You should have received a copy of the GNU General Public License along\n * with this program; if not, write to the Free Software Foundation, Inc.,\n * 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA\n */\n\n/**\n * Handles cv-popup children and some general popup tasks, like global registration and close on click outside, modal blocker etc.\n */\nqx.Mixin.define('cv.ui.structure.tile.MPopup', {\n  /*\n  ***********************************************\n    STATICS\n  ***********************************************\n  */\n  statics: {\n    openedPopups: []\n  },\n\n  events: {\n    closed: 'qx.event.type.Event'\n  },\n\n  /*\n  ***********************************************\n    MEMBERS\n  ***********************************************\n  */\n  members: {\n    _childPopup: null,\n\n    _initPopupChild() {\n      const popup = (this._childPopup = this._element.querySelector(':scope > cv-popup'));\n      if (popup) {\n        qx.event.Registration.addListener(this._element, 'tap', this._openPopupChild, this);\n\n        // we need to tell the parent widget that is inside a group that wen have a popup here\n        let parent = popup.parentElement;\n        let last;\n        while (parent) {\n          if (parent.tagName.toLowerCase() === 'cv-group') {\n            last.classList.add('has-popup');\n          } else if (parent.tagName.toLowerCase() === 'cv-page') {\n            break;\n          }\n          last = parent;\n          parent = parent.parentElement;\n        }\n      }\n    },\n\n    _openPopupChild() {\n      const popup = this._element.querySelector(':scope > cv-popup:not([open])');\n\n      if (popup) {\n        popup.getInstance().open();\n      }\n    },\n\n    _closePopupChild() {\n      const popup = this._element.querySelector(':scope > cv-popup[open]');\n      if (popup) {\n        popup.getInstance().close();\n      }\n    },\n\n    registerModalPopup() {\n      qx.event.Registration.addListener(document, 'pointerdown', this._onPointerDown, this);\n\n      let blocker = document.body.querySelector('.modal-popup-blocker');\n      if (!blocker) {\n        blocker = document.createElement('div');\n        blocker.classList.add('modal-popup-blocker');\n        document.body.appendChild(blocker);\n      }\n      blocker.style.display = 'block';\n      cv.ui.structure.tile.MPopup.openedPopups.push(this);\n    },\n\n    unregisterModalPopup() {\n      qx.event.Registration.removeListener(document, 'pointerdown', this._onPointerDown, this);\n\n      const index = cv.ui.structure.tile.MPopup.openedPopups.indexOf(this);\n      cv.ui.structure.tile.MPopup.openedPopups.splice(index, 1);\n      let blocker = document.body.querySelector('.modal-popup-blocker');\n      if (blocker && cv.ui.structure.tile.MPopup.openedPopups.length === 0) {\n        blocker.style.display = 'none';\n      }\n    },\n\n    _onPointerDown(ev) {\n      if (!cv.util.Tree.isChildOf(ev.getTarget(), this._element)) {\n        // clicked outside -> close\n        this.close();\n        ev.preventDefault();\n      }\n    }\n  },\n\n  /*\n  ***********************************************\n    DESTRUCTOR\n  ***********************************************\n  */\n  destruct() {\n    qx.event.Registration.removeListener(this._element, 'tap', this._openPopupChild, this);\n\n    this._childPopup = null;\n  }\n});\n","/* MRefresh.js\n *\n * copyright (c) 2010-2022, Christian Mayer and the CometVisu contributers.\n *\n * This program is free software; you can redistribute it and/or modify it\n * under the terms of the GNU General Public License as published by the Free\n * Software Foundation; either version 3 of the License, or (at your option)\n * any later version.\n *\n * This program is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for\n * more details.\n *\n * You should have received a copy of the GNU General Public License along\n * with this program; if not, write to the Free Software Foundation, Inc.,\n * 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA\n */\n\n/**\n * Adds a refresh attribute that triggers a 'refresh' method which must be implemented by classes including this mixin.\n */\nqx.Mixin.define('cv.ui.structure.tile.MRefresh', {\n  /*\n  ***********************************************\n    PROPERTIES\n  ***********************************************\n  */\n  properties: {\n    refresh: {\n      check: 'Number',\n      init: 0,\n      apply: '_applyRefresh'\n    }\n  },\n\n  /*\n  ***********************************************\n    MEMBERS\n  ***********************************************\n  */\n  members: {\n    _refreshTimer: null,\n    _lastRefresh: null,\n\n    _applyRefresh(value) {\n      if (value === 0) {\n        if (this._refreshTimer) {\n          this._refreshTimer.stop();\n        }\n      } else if (!this._refreshTimer) {\n        this._refreshTimer = new qx.event.Timer(value * 1000);\n        this._refreshTimer.addListener('interval', this.__doRefresh, this);\n        if (typeof this.isVisible === 'function') {\n          if (this.isVisible()) {\n            this._refreshTimer.start();\n          }\n        } else {\n          this._refreshTimer.start();\n        }\n      } else {\n        this._refreshTimer.restartWith(value * 1000);\n      }\n    },\n\n    _applyVisible(isVisible) {\n      if (isVisible) {\n        if (this._refreshTimer) {\n          this._refreshTimer.start();\n          if (!this._lastRefresh || Date.now() - this._lastRefresh >= this._refreshTimer.getInterval()) {\n            // last execution time too old, refresh now\n            this.__doRefresh();\n          }\n        } else if (!this._lastRefresh) {\n          // refresh once when the item becomes visible\n          this.__doRefresh();\n        }\n      } else if (this._refreshTimer) {\n        this._refreshTimer.stop();\n      }\n    },\n\n    __doRefresh() {\n      if (typeof this.refresh === 'function') {\n        this.refresh();\n        this._lastRefresh = Date.now();\n      } else {\n        this.error('refresh method must be implemented!');\n      }\n    }\n  },\n\n  /*\n  ***********************************************\n    DESTRUCTOR\n  ***********************************************\n  */\n  destruct() {\n    this._disposeObjects('_refreshTimer');\n  }\n});\n","/* MResize.js\n *\n * copyright (c) 2010-2022, Christian Mayer and the CometVisu contributers.\n *\n * This program is free software; you can redistribute it and/or modify it\n * under the terms of the GNU General Public License as published by the Free\n * Software Foundation; either version 3 of the License, or (at your option)\n * any later version.\n *\n * This program is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for\n * more details.\n *\n * You should have received a copy of the GNU General Public License along\n * with this program; if not, write to the Free Software Foundation, Inc.,\n * 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA\n */\n\n/**\n * Detects dom elements resizing\n * @ignore(ResizeObserver)\n */\nqx.Mixin.define('cv.ui.structure.tile.MResize', {\n  /*\n  ***********************************************\n    CONSTRUCTOR\n  ***********************************************\n  */\n  construct() {\n    this._observer = new ResizeObserver((entries, observer) => {\n      const element = this.getResizeTarget();\n      entries.some(entry => {\n        if (entry.target === element) {\n          this.fireDataEvent('resized', entry);\n          return true;\n        }\n        return false;\n      });\n    });\n  },\n\n  /*\n  ***********************************************\n    EVENTS\n  ***********************************************\n  */\n  events: {\n    resized: 'qx.event.type.Data'\n  },\n\n  /*\n  ***********************************************\n    PROPERTIES\n  ***********************************************\n  */\n  properties: {\n    resizeTarget: {\n      check: 'Element',\n      nullable: true,\n      apply: '_applyResizeTarget'\n    }\n  },\n\n  /*\n  ***********************************************\n    MEMBERS\n  ***********************************************\n  */\n  members: {\n    /**\n     * @var {ResizeObserver}\n     */\n    _observer: null,\n\n    _applyResizeTarget(element, oldElement) {\n      if (oldElement) {\n        this._observer.unobserve(oldElement);\n      }\n      if (element) {\n        this._observer.observe(element);\n      }\n    }\n  },\n\n  /*\n  ***********************************************\n    DESTRUCTOR\n  ***********************************************\n  */\n  destruct() {\n    this._observer.disconnect();\n    this._observer = null;\n  }\n});\n","/* MVisibility.js\n *\n * copyright (c) 2010-2022, Christian Mayer and the CometVisu contributers.\n *\n * This program is free software; you can redistribute it and/or modify it\n * under the terms of the GNU General Public License as published by the Free\n * Software Foundation; either version 3 of the License, or (at your option)\n * any later version.\n *\n * This program is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for\n * more details.\n *\n * You should have received a copy of the GNU General Public License along\n * with this program; if not, write to the Free Software Foundation, Inc.,\n * 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA\n */\n\n/**\n * Detects dom elements visibility\n * @ignore(IntersectionObserver)\n */\nqx.Mixin.define('cv.ui.structure.tile.MVisibility', {\n  /*\n  ***********************************************\n    CONSTRUCTOR\n  ***********************************************\n  */\n  construct() {\n    this._observeVisibility();\n  },\n\n  /*\n  ***********************************************\n    STATICS\n  ***********************************************\n  */\n  statics: {\n    observer: new IntersectionObserver((entries, observer) => {\n      entries.forEach(entry => {\n        if (entry.target._instance) {\n          entry.target._instance.setVisible(entry.intersectionRatio > 0);\n        }\n      });\n    })\n  },\n\n  /*\n  ***********************************************\n    PROPERTIES\n  ***********************************************\n  */\n  properties: {\n    visible: {\n      check: 'Boolean',\n      init: false,\n      apply: '_applyVisible'\n    }\n  },\n\n  /*\n  ***********************************************\n    MEMBERS\n  ***********************************************\n  */\n  members: {\n    _observeVisibility() {\n      if (this._element) {\n        cv.ui.structure.tile.MVisibility.observer.observe(this._element);\n      } else {\n        this.warn('no element to observe defined');\n      }\n    }\n  }\n});\n","/* AbstractCustomElement.js\n *\n * copyright (c) 2010-2022, Christian Mayer and the CometVisu contributers.\n *\n * This program is free software; you can redistribute it and/or modify it\n * under the terms of the GNU General Public License as published by the Free\n * Software Foundation; either version 3 of the License, or (at your option)\n * any later version.\n *\n * This program is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for\n * more details.\n *\n * You should have received a copy of the GNU General Public License along\n * with this program; if not, write to the Free Software Foundation, Inc.,\n * 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA\n */\n\n/**\n *\n */\nqx.Class.define('cv.ui.structure.tile.elements.AbstractCustomElement', {\n  extend: qx.core.Object,\n  type: 'abstract',\n\n  /*\n  ***********************************************\n    CONSTRUCTOR\n  ***********************************************\n  */\n  construct(element) {\n    this._element = element;\n  },\n\n  /*\n  ***********************************************\n    PROPERTIES\n  ***********************************************\n  */\n  properties: {\n    connected: {\n      check: 'Boolean',\n      init: false,\n      apply: '_applyConnected',\n      event: 'changeConnected'\n    }\n  },\n\n  /*\n  ***********************************************\n    MEMBERS\n  ***********************************************\n  */\n  members: {\n    /**\n     * @var {HTMLElement}\n     */\n    _element: null,\n\n    _initialized: false,\n\n    _applyConnected(value) {\n      if (value && !this._initialized) {\n        this._init();\n        this._initialized = true;\n      } else {\n        this._disconnected();\n        this._initialized = false;\n      }\n    },\n    _init() {},\n\n    _disconnected() {},\n\n    getElement() {\n      return this._element;\n    }\n  },\n\n  /*\n  ***********************************************\n    DESTRUCTOR\n  ***********************************************\n  */\n  destruct() {\n    this._element = null;\n  }\n});\n\n/* eslint-disable-next-line no-redeclare */\nclass QxConnector extends HTMLElement {\n  constructor(QxClass) {\n    super();\n    if (qx.Class.isSubClassOf(QxClass, cv.ui.structure.tile.elements.AbstractCustomElement)) {\n      this._instance = new QxClass(this);\n    } else {\n      throw Error(QxClass + ' must be a subclass of cv.ui.structure.tile.elements.AbstractCustomElement');\n    }\n    if (this.hasAttribute('colspan')) {\n      this.classList.add('colspan-' + this.getAttribute('colspan'));\n    }\n    if (this.hasAttribute('rowspan')) {\n      this.classList.add('rowspan-' + this.getAttribute('rowspan'));\n    }\n  }\n\n  getInstance() {\n    return this._instance;\n  }\n\n  connectedCallback() {\n    if (this._instance) {\n      this._instance.setConnected(true);\n    }\n  }\n\n  disconnectedCallback() {\n    if (this._instance) {\n      this._instance.setConnected(false);\n    }\n  }\n\n  attributeChangedCallback(name, oldValue, newValue) {\n    if (this._instance && qx.Class.hasProperty(this._instance.constructor, name)) {\n      this._instance.set(name, newValue);\n    }\n  }\n}\n\nwindow.QxConnector = QxConnector;\n","/* AbstractComponent.js\n *\n * copyright (c) 2010-2022, Christian Mayer and the CometVisu contributers.\n *\n * This program is free software; you can redistribute it and/or modify it\n * under the terms of the GNU General Public License as published by the Free\n * Software Foundation; either version 3 of the License, or (at your option)\n * any later version.\n *\n * This program is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for\n * more details.\n *\n * You should have received a copy of the GNU General Public License along\n * with this program; if not, write to the Free Software Foundation, Inc.,\n * 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA\n */\n\n/**\n * Base class for all components.\n */\nqx.Class.define('cv.ui.structure.tile.components.AbstractComponent', {\n  extend: cv.ui.structure.tile.elements.AbstractCustomElement,\n  type: 'abstract',\n\n  /*\n  ***********************************************\n    PROPERTIES\n  ***********************************************\n  */\n  properties: {\n    value: {\n      apply: '_applyValue',\n      init: null\n    },\n\n    styleClass: {\n      check: 'String',\n      nullable: true,\n      apply: '_applyStyleClass'\n    },\n\n    enabled: {\n      check: 'Boolean',\n      init: true,\n      apply: '_applyEnabled'\n    },\n\n    visibility: {\n      check: ['visible', 'excluded', 'hidden'],\n      init: 'visible',\n      apply: '_applyVisibility',\n      event: 'changeVisibility'\n    }\n  },\n\n  /*\n  ***********************************************\n    MEMBERS\n  ***********************************************\n  */\n  members: {\n    _writeAddresses: null,\n    _visibleDisplayMode: null,\n\n    _init() {\n      const element = this._element;\n      let hasReadAddress = false;\n      const writeAddresses = [];\n      Array.prototype.forEach.call(element.querySelectorAll(':scope > cv-address'), address => {\n        const mode = address.hasAttribute('mode') ? address.getAttribute('mode') : 'readwrite';\n        switch (mode) {\n          case 'readwrite':\n            hasReadAddress = true;\n            writeAddresses.push(address);\n            break;\n          case 'read':\n            hasReadAddress = true;\n            break;\n          case 'write':\n            writeAddresses.push(address);\n            break;\n        }\n      });\n\n      this._writeAddresses = writeAddresses;\n\n      if (hasReadAddress) {\n        element.addEventListener('stateUpdate', ev => {\n          this.onStateUpdate(ev);\n          // cancel event here\n          ev.stopPropagation();\n        });\n      }\n    },\n\n    // property apply\n    _applyValue(value) {\n      if (this.isConnected()) {\n        this._element.setAttribute('value', value || '');\n        let mappedValue = value;\n        if (this._element.hasAttribute('mapping')) {\n          mappedValue = cv.Application.structureController.mapValue(this._element.getAttribute('mapping'), value);\n        }\n        if (this._element.hasAttribute('format')) {\n          mappedValue = cv.util.String.sprintf(\n            this._element.getAttribute('format'),\n            mappedValue instanceof Date ? mappedValue.toLocaleString() : mappedValue\n          );\n        }\n        this._updateValue(mappedValue, value);\n        if (this._element.hasAttribute('styling')) {\n          let styleClass = cv.Application.structureController.styleValue(this._element.getAttribute('styling'), value);\n\n          this.setStyleClass(styleClass);\n        }\n      }\n    },\n\n    // needs to be implemented by inheriting classes\n    _updateValue(mappedValue, value) {},\n\n    // property apply\n    _applyStyleClass(value, oldValue) {\n      const classes = this._element.classList;\n      if (oldValue) {\n        if (classes.contains(oldValue)) {\n          classes.replace(oldValue, value);\n        } else {\n          classes.add(value);\n          classes.remove(oldValue);\n        }\n      } else if (value) {\n        classes.add(value);\n      }\n    },\n\n    _applyEnabled(value) {\n      let blocker = this._element.querySelector(':scope > .blocker');\n      if (!blocker) {\n        blocker = document.createElement('div');\n        blocker.classList.add('blocker');\n        this._element.appendChild(blocker);\n        blocker.addEventListener('click', ev => {\n          ev.preventDefault();\n          ev.stopPropagation();\n        });\n        blocker.addEventListener('pointerdown', ev => {\n          ev.preventDefault();\n          ev.stopPropagation();\n        });\n        blocker.addEventListener('pointerup', ev => {\n          ev.preventDefault();\n          ev.stopPropagation();\n        });\n      }\n      this._element.setAttribute('disabled', value === false ? 'true' : 'false');\n\n      blocker.style.display = value === true ? 'none' : 'block';\n    },\n\n    _applyVisibility(value, oldValue) {\n      if (oldValue === 'hidden') {\n        this._element.style.opacity = '1.0';\n      }\n      switch (value) {\n        case 'visible':\n          if (this._visibleDisplayMode) {\n            this._element.style.display = this._visibleDisplayMode || 'initial';\n          }\n          break;\n\n        case 'hidden':\n          this._element.style.opacity = '0';\n          break;\n\n        case 'excluded':\n          this._visibleDisplayMode = getComputedStyle(this._element).getPropertyValue('display');\n          this._element.style.display = 'none';\n          break;\n      }\n    },\n\n    /**\n     * Handles the incoming data from the backend for this widget\n     *\n     * @param ev {CustomEvent} stateUpdate event fired from an cv-address component\n     * @return {Boolean} true of the update has been handled\n     */\n    onStateUpdate(ev) {\n      switch (ev.detail.target) {\n        case 'enabled':\n          this.setEnabled(ev.detail.state);\n          ev.stopPropagation();\n          return true;\n        case 'show-exclude':\n          this.setVisibility(ev.detail.state ? 'visible' : 'excluded');\n          ev.stopPropagation();\n          return true;\n        case 'show-hide':\n          this.setVisibility(ev.detail.state ? 'visible' : 'hidden');\n          ev.stopPropagation();\n          return true;\n        case '':\n          this.setValue(ev.detail.state);\n          ev.stopPropagation();\n          return true;\n      }\n\n      return false;\n    }\n  }\n});\n","/* Button.js\n *\n * copyright (c) 2010-2022, Christian Mayer and the CometVisu contributers.\n *\n * This program is free software; you can redistribute it and/or modify it\n * under the terms of the GNU General Public License as published by the Free\n * Software Foundation; either version 3 of the License, or (at your option)\n * any later version.\n *\n * This program is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for\n * more details.\n *\n * You should have received a copy of the GNU General Public License along\n * with this program; if not, write to the Free Software Foundation, Inc.,\n * 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA\n */\n\n/**\n *\n * @author Tobias Bräutigam\n * @since 2022\n */\nqx.Class.define('cv.ui.structure.tile.components.Button', {\n  extend: cv.ui.structure.tile.elements.AbstractCustomElement,\n\n  /*\n  ***********************************************\n    CONSTRUCTOR\n  ***********************************************\n  */\n  construct(element) {\n    super(element);\n    this.__store = new Map();\n  },\n\n  /*\n  ***********************************************\n    PROPERTIES\n  ***********************************************\n  */\n  properties: {\n    type: {\n      check: ['button', 'trigger', 'push'],\n      init: 'button'\n    },\n\n    on: {\n      check: 'Boolean',\n      init: false,\n      apply: '_applyOn'\n    },\n\n    onClass: {\n      check: 'String',\n      init: 'active'\n    },\n\n    offClass: {\n      check: 'String',\n      init: 'inactive'\n    },\n\n    onValue: {\n      check: 'String',\n      init: '1'\n    },\n\n    offValue: {\n      check: 'String',\n      init: '0'\n    },\n\n    styleClass: {\n      check: 'String',\n      nullable: true,\n      apply: '_applyStyleClass'\n    },\n\n    name: {\n      check: 'String',\n      init: '',\n      apply: '_applyName'\n    },\n\n    progress: {\n      check: 'Number',\n      init: -1,\n      apply: '_applyProgress',\n      transform: '_parseInt'\n    }\n  },\n\n  /*\n  ***********************************************\n    MEMBERS\n  ***********************************************\n  */\n  members: {\n    _writeAddresses: null,\n    __textLabel: null,\n    __circumference: null,\n    /**\n     * @var {Map} value store for addresses to be able to use them e.g. in mapping formulas\n     */\n    __store: null,\n\n    _parseInt(val) {\n      const intVal = parseInt(val);\n      return Number.isNaN(intVal) ? 0 : intVal;\n    },\n\n    _init() {\n      const element = this._element;\n      if (element.hasAttribute('type')) {\n        this.setType(element.getAttribute('type'));\n      }\n      if (element.hasAttribute('name')) {\n        this.setName(element.getAttribute('name'));\n      }\n      if (element.hasAttribute('progress')) {\n        this.setProgress(element.getAttribute('progress'));\n      }\n      if (element.hasAttribute('on-value')) {\n        this.setOnValue(element.getAttribute('on-value'));\n      }\n      if (element.hasAttribute('off-value')) {\n        this.setOffValue(element.getAttribute('off-value'));\n      }\n      let hasReadAddress = false;\n      let writeAddresses = [];\n      Array.prototype.forEach.call(element.querySelectorAll(':scope > cv-address'), address => {\n        const mode = address.hasAttribute('mode') ? address.getAttribute('mode') : 'readwrite';\n        switch (mode) {\n          case 'readwrite':\n            hasReadAddress = true;\n            writeAddresses.push(address);\n            break;\n          case 'read':\n            hasReadAddress = true;\n            break;\n          case 'write':\n            writeAddresses.push(address);\n            break;\n        }\n      });\n\n      this._writeAddresses = writeAddresses;\n\n      if (writeAddresses.length > 0) {\n        const events = {};\n        let eventSource = element;\n        if (element.getAttribute('whole-tile') === 'true') {\n          // find parent tile and use it as event source\n          let parent = element.parentElement;\n          let level = 0;\n          while (level <= 2) {\n            parent = parent.parentElement;\n            level++;\n            if (parent.tagName.toLowerCase() === 'cv-tile') {\n              eventSource = parent;\n              eventSource.classList.add('clickable');\n            }\n          }\n        }\n        writeAddresses.forEach(addr => {\n          let event = addr.hasAttribute('on') ? addr.getAttribute('on') : 'click';\n          switch (event) {\n            case 'click':\n              events.click = this.onClicked.bind(this);\n              break;\n            case 'up':\n              events.pointerup = this.onPointerUp.bind(this);\n              break;\n            case 'down':\n              events.pointerdown = this.onPointerDown.bind(this);\n              break;\n          }\n        });\n        Object.getOwnPropertyNames(events).forEach(eventName =>\n          eventSource.addEventListener(eventName, ev => {\n            events[eventName](ev);\n          })\n        );\n      }\n      if (hasReadAddress) {\n        element.addEventListener('stateUpdate', ev => {\n          this.onStateUpdate(ev);\n          // cancel event here\n          ev.stopPropagation();\n        });\n      } else if (element.hasAttribute('mapping') || element.hasAttribute('styling')) {\n        // apply the trigger state\n        const triggerAddresses = writeAddresses.filter(addr => addr.hasAttribute('value') && !addr.hasAttribute('on'));\n\n        if (triggerAddresses.length === 1) {\n          const value = triggerAddresses[0].getAttribute('value');\n          qx.event.Timer.once(\n            () => {\n              // using == comparisons to make sure that e.g. 1 equals \"1\"\n              // noinspection EqualityComparisonWithCoercionJS\n              this.setOn(value == this.getOnValue());\n            },\n            this,\n            1000\n          );\n        }\n      }\n\n      // detect button type\n      if (\n        !hasReadAddress &&\n        writeAddresses.filter(addr => addr.hasAttribute('value') && !addr.hasAttribute('on')).length === 1\n      ) {\n        // only one write address with a fixed value and no special event => simple trigger\n        this.setType('trigger');\n      } else {\n        let hasDown = false;\n        let hasUp = false;\n        writeAddresses.some(addr => {\n          if (addr.hasAttribute('value') && addr.hasAttribute('on')) {\n            if (!hasDown) {\n              hasDown = addr.getAttribute('on') === 'down';\n            }\n            if (!hasUp) {\n              hasUp = addr.getAttribute('on') === 'up';\n            }\n          }\n          return hasUp && hasDown;\n        });\n        if (hasUp && hasDown) {\n          // has an address for up and one for down event with a fixed value -> pushbutton\n          this.setType('push');\n        }\n      }\n    },\n\n    _initProgress() {\n      const element = this._element;\n      this.__circumference = 100 * Math.PI;\n      const svg = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n      svg.setAttribute('viewBox', '0 0 100 100');\n      svg.setAttribute('type', 'circle');\n      const circle = document.createElementNS('http://www.w3.org/2000/svg', 'circle');\n\n      circle.classList.add('bar');\n      circle.setAttribute('r', '49');\n      circle.setAttribute('cx', '50');\n      circle.setAttribute('cy', '50');\n      circle.setAttribute('stroke-width', '2');\n      circle.setAttribute('stroke-dasharray', this.__circumference + ' ' + this.__circumference);\n\n      circle.setAttribute('stroke-dashoffset', '' + this.__circumference);\n      svg.appendChild(circle);\n      element.appendChild(svg);\n      // make sure that we do not override the progress bar by state appearance\n      element.classList.add('progress');\n    },\n\n    _applyConnected(value) {\n      super._applyConnected(value);\n      if (value) {\n        if (this.getType() !== 'trigger') {\n          // delay this because we need the mappings to be ready\n          qx.event.Timer.once(this._applyOn, this, 1000);\n        }\n      }\n    },\n    _applyOn() {\n      if (this.isConnected()) {\n        let value = this.isOn() ? this.getOnValue() : this.getOffValue();\n        this._element.setAttribute('value', value || '');\n        let mappedValue = value;\n        if (this._element.hasAttribute('mapping')) {\n          mappedValue = cv.Application.structureController.mapValue(\n            this._element.getAttribute('mapping'),\n            value,\n            this.__store\n          );\n        }\n        const target = this._element.querySelector('.value');\n        if (target && target.tagName.toLowerCase() === 'cv-icon') {\n          if (target._instance) {\n            target._instance.setId(mappedValue);\n          } else {\n            target.textContent = mappedValue;\n          }\n        } else {\n          this.updateValue(mappedValue);\n        }\n        let styleClass = this.isOn() ? this.getOnClass() : this.getOffClass();\n        if (this._element.hasAttribute('styling')) {\n          styleClass = cv.Application.structureController.styleValue(\n            this._element.getAttribute('styling'),\n            value,\n            this.__store\n          );\n        }\n        this.setStyleClass(styleClass);\n      }\n    },\n\n    _applyProgress(value) {\n      let valueElement = this._element.querySelector(':scope > svg > circle.bar');\n\n      if (!valueElement) {\n        this._initProgress();\n        valueElement = this._element.querySelector(':scope > svg > circle.bar');\n      }\n      if (valueElement) {\n        if (this._element.hasAttribute('progress-mapping')) {\n          value = cv.Application.structureController.mapValue(\n            this._element.getAttribute('progress-mapping'),\n            value,\n            this.__store\n          );\n        }\n        valueElement.setAttribute(\n          'stroke-dashoffset',\n          '' + (this.__circumference - (value / 100) * this.__circumference)\n        );\n      }\n    },\n\n    _applyStyleClass(value, oldValue) {\n      const classes = this._element.classList;\n      if (oldValue) {\n        if (classes.contains(oldValue)) {\n          classes.replace(oldValue, value);\n        } else {\n          classes.add(value);\n          classes.remove(oldValue);\n        }\n      } else if (value) {\n        classes.add(value);\n      }\n    },\n\n    _applyName(value) {\n      if (!this.__textLabel) {\n        this.__textLabel = document.createElement('label');\n        this.__textLabel.classList.add('button-label');\n        this._element.appendChild(this.__textLabel);\n      }\n      this.__textLabel.textContent = value;\n    },\n\n    updateValue(value) {\n      const elem = this._element.querySelector('span.value');\n      if (elem) {\n        elem.innerHTML = value;\n      }\n    },\n\n    /**\n     * Handles the incoming data from the backend for this widget\n     *\n     * @param ev {CustomEvent} stateUpdate event fired from an cv-address component\n     */\n    onStateUpdate(ev) {\n      // using == comparisons to make sure that e.g. 1 equals \"1\"\n      // noinspection EqualityComparisonWithCoercionJS\n      let value = ev.detail.state == this.getOnValue();\n      let target = ev.detail.target || 'default';\n      if (ev.detail.source instanceof cv.ui.structure.tile.elements.Address) {\n        const addressElement = ev.detail.source.getElement();\n        if (addressElement.hasAttribute('value')) {\n          // noinspection EqualityComparisonWithCoercionJS\n          value = ev.detail.state == addressElement.getAttribute('value');\n        }\n      }\n      if (target === 'default') {\n        this.setOn(value);\n      } else if (target === 'progress') {\n        this.setProgress(ev.detail.state);\n      } else if (target.startsWith('store:')) {\n        this.__store.set(target.substring(6), ev.detail.state);\n      }\n    },\n\n    onClicked(event) {\n      this.createRipple(event);\n      if (!this._writeAddresses) {\n        this._writeAddresses = Array.prototype.filter.call(\n          this._element.querySelectorAll('addresses > cv-address'),\n          address => !address.hasAttribute('mode') || address.getAttribute('mode') !== 'read'\n        );\n      }\n      const ev = new CustomEvent('sendState', {\n        detail: {\n          value: this.isOn() ? this.getOffValue() : this.getOnValue(),\n          source: this\n        }\n      });\n\n      if (this.getType() === 'trigger') {\n        // simulate feedback\n        this.setOn(true);\n        qx.event.Timer.once(\n          () => {\n            this.setOn(false);\n          },\n          null,\n          250\n        );\n      }\n      this._writeAddresses\n        .filter(addr => !addr.hasAttribute('on') || addr.getAttribute('on') === 'click')\n        .forEach(address => address.dispatchEvent(ev));\n      event.stopPropagation();\n    },\n\n    onPointerDown() {\n      this._writeAddresses\n        .filter(addr => addr.getAttribute('on') === 'down' && addr.hasAttribute('value'))\n        .forEach(address => {\n          address.dispatchEvent(\n            new CustomEvent('sendState', {\n              detail: {\n                value: address.getAttribute('value'),\n                source: this\n              }\n            })\n          );\n        });\n    },\n\n    onPointerUp() {\n      this._writeAddresses\n        .filter(addr => addr.getAttribute('on') === 'up' && addr.hasAttribute('value'))\n        .forEach(address => {\n          address.dispatchEvent(\n            new CustomEvent('sendState', {\n              detail: {\n                value: address.getAttribute('value'),\n                source: this\n              }\n            })\n          );\n        });\n    },\n\n    createRipple(event) {\n      const button = event.currentTarget;\n      let container = button.querySelector(':scope .ripple-container');\n      if (!container) {\n        container = document.createElement('div');\n        container.classList.add('ripple-container');\n        button.appendChild(container);\n      }\n      const circle = document.createElement('span');\n      const diameter = Math.max(button.clientWidth, button.clientHeight);\n      const radius = diameter / 2;\n      circle.style.width = circle.style.height = `${diameter}px`;\n      let x = event.clientX - (button.offsetLeft + radius);\n      let y = event.clientY - (button.offsetTop + radius);\n      if (button === this._element) {\n        x -= button.offsetParent.offsetLeft;\n        y -= button.offsetParent.offsetTop;\n      }\n      circle.style.left = `${x}px`;\n      circle.style.top = `${y}px`;\n      circle.classList.add('ripple');\n      // remove old ones\n      container.querySelectorAll('.ripple').forEach(ripple => ripple.remove());\n      container.appendChild(circle);\n    }\n  },\n\n  defer(QxClass) {\n    customElements.define(\n      cv.ui.structure.tile.Controller.PREFIX + 'button',\n      class extends QxConnector {\n        constructor() {\n          super(QxClass);\n        }\n      }\n    );\n  }\n});\n","/* Address.js\n *\n * copyright (c) 2010-2022, Christian Mayer and the CometVisu contributers.\n *\n * This program is free software; you can redistribute it and/or modify it\n * under the terms of the GNU General Public License as published by the Free\n * Software Foundation; either version 3 of the License, or (at your option)\n * any later version.\n *\n * This program is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for\n * more details.\n *\n * You should have received a copy of the GNU General Public License along\n * with this program; if not, write to the Free Software Foundation, Inc.,\n * 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA\n */\n\n/**\n * Address element that connect a widget/component to the backend.\n *\n *  @author Tobias Bräutigam\n *  @since 2022\n */\nqx.Class.define('cv.ui.structure.tile.elements.Address', {\n  extend: cv.ui.structure.tile.elements.AbstractCustomElement,\n\n  /*\n  ***********************************************\n    MEMBERS\n  ***********************************************\n  */\n  members: {\n    __lastValue: null,\n    __transformedValue: null,\n\n    _init() {\n      const element = this._element;\n      const address = element.textContent.trim();\n      if (address) {\n        const model = cv.data.Model.getInstance();\n        const backendName = element.getAttribute('backend');\n        model.addAddress(address, element.getAttribute('id'), backendName);\n        const mode = element.hasAttribute('mode') ? element.getAttribute('mode') : 'readwrite';\n        if (mode !== 'write') {\n          // subscribe\n          // this is a read address register for updates\n          const state = model.getState(address, backendName);\n          if (state !== undefined) {\n            this.fireStateUpdate(address, state);\n          }\n          //add listener\n          model.addUpdateListener(address, this.fireStateUpdate, this, backendName);\n        }\n        if (mode !== 'read') {\n          // listen for sendState events\n          element.addEventListener('sendState', ev => {\n            let value = null;\n            if (Object.prototype.hasOwnProperty.call(ev.detail, 'value')) {\n              value = ev.detail.value;\n            }\n            if (element.hasAttribute('value')) {\n              // address has a fixed value that must be sent\n              value = element.getAttribute('value');\n            }\n            const allowDuplicates =\n              ev.detail.source &&\n              ev.detail.source instanceof cv.ui.structure.tile.components.Button &&\n              (ev.detail.source.getType() === 'trigger' || ev.detail.source.getType() === 'push');\n            if (value !== null) {\n              const encoding = element.getAttribute('transform') || 'raw';\n              const encodedValue = cv.Transform.encodeBusAndRaw({ transform: encoding }, value);\n\n              // noinspection EqualityComparisonWithCoercionJS\n              if (\n                allowDuplicates ||\n                !Object.prototype.hasOwnProperty.call(element, 'lastSentValue') ||\n                encodedValue.raw !== element.lastSentValue\n              ) {\n                if (element.hasAttribute('delay')) {\n                  const delay = parseInt(element.getAttribute('delay'));\n                  this.debug(`send with delay of ${delay}ms`);\n                  qx.event.Timer.once(\n                    () => {\n                      cv.io.BackendConnections.getClient(backendName).write(\n                        element.textContent,\n                        encodedValue.bus,\n                        element\n                      );\n\n                      if (!allowDuplicates) {\n                        element.lastSentValue = encodedValue.raw;\n                      }\n                    },\n                    this,\n                    delay\n                  );\n                } else {\n                  cv.io.BackendConnections.getClient(backendName).write(element.textContent, encodedValue.bus, element);\n\n                  if (!allowDuplicates) {\n                    element.lastSentValue = encodedValue.raw;\n                  }\n                }\n              }\n            }\n          });\n        }\n      }\n    },\n\n    /**\n     * Creates a 'stateUpdate' event with the transformed value and dispatches it to the <cv-address>-Element.\n     * @param address {String} address\n     * @param state {variant} state to send\n     */\n    fireStateUpdate(address, state) {\n      if (this.__lastValue !== state || this._element.getAttribute('send-mode') === 'always') {\n        let transform = this._element.getAttribute('transform') || 'raw';\n        let transformedState = cv.Transform.decode({ transform: transform }, state);\n\n        let mapping = '';\n        if (this._element.hasAttribute('mapping')) {\n          mapping = this._element.getAttribute('mapping');\n          transformedState = cv.Application.structureController.mapValue(mapping, transformedState);\n        }\n        if (this._element.hasAttribute('format')) {\n          transformedState = cv.util.String.sprintf(\n            this._element.getAttribute('format'),\n            transformedState instanceof Date ? transformedState.toLocaleString() : transformedState\n          );\n        }\n        const ev = new CustomEvent('stateUpdate', {\n          bubbles: true,\n          cancelable: true,\n          detail: {\n            address: this._element.textContent.trim(),\n            state: transformedState,\n            target: this._element.getAttribute('target') || '',\n            raw: state,\n            mapping: mapping,\n            addressValue: this._element.hasAttribute('value') ? this._element.getAttribute('value') : null,\n            source: this,\n            variant: this._element.hasAttribute('variant') ? this._element.getAttribute('variant') : null\n          }\n        });\n\n        this.__transformedValue = transformedState;\n        //console.log(ev.detail);\n        this._element.dispatchEvent(ev);\n        this.__lastValue = state;\n        // reset lastSentValue\n        if (state !== this._element.lastSentValue) {\n          this._element.lastSentValue = null;\n        }\n      }\n    },\n\n    getValue() {\n      return this.__transformedValue;\n    }\n  },\n\n  defer(Clazz) {\n    customElements.define(\n      cv.ui.structure.tile.Controller.PREFIX + 'address',\n      class extends QxConnector {\n        constructor() {\n          super(Clazz);\n        }\n      }\n    );\n  }\n});\n","/* Chart.js\n *\n * copyright (c) 2010-2022, Christian Mayer and the CometVisu contributers.\n *\n * This program is free software; you can redistribute it and/or modify it\n * under the terms of the GNU General Public License as published by the Free\n * Software Foundation; either version 3 of the License, or (at your option)\n * any later version.\n *\n * This program is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for\n * more details.\n *\n * You should have received a copy of the GNU General Public License along\n * with this program; if not, write to the Free Software Foundation, Inc.,\n * 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA\n */\n\n/* eslint-disable arrow-body-style */\n/**\n * Shows an chart.\n * @asset(libs/d3.min.js)\n * @ignore(d3)\n */\nqx.Class.define('cv.ui.structure.tile.components.Chart', {\n  extend: cv.ui.structure.tile.components.AbstractComponent,\n  include: cv.ui.structure.tile.MVisibility,\n\n  /*\n  ***********************************************\n    STATICS\n  ***********************************************\n  */\n  statics: {\n    ChartCounter: 0,\n\n    JS_LOADED: new Promise(async (resolve, reject) => {\n      const check = () => typeof window.d3 === 'object';\n      await cv.util.ScriptLoader.includeScript(qx.util.ResourceManager.getInstance().toUri('libs/d3.min.js'));\n\n      if (!check()) {\n        const timer = new qx.event.Timer(50);\n        let counter = 0;\n        timer.addListener('interval', () => {\n          counter++;\n          if (check()) {\n            resolve(true);\n          } else if (counter > 5) {\n            reject(new Error('Error loaded d3 library'));\n          }\n        });\n      } else {\n        resolve(true);\n      }\n    }).then(() => {\n      if (qx.locale.Manager.getInstance().getLanguage() === 'de') {\n        // localize\n        d3.formatDefaultLocale({\n          decimal: ',',\n          thousands: '.',\n          grouping: [3],\n          currency: ['€', '']\n        });\n\n        d3.timeFormatDefaultLocale({\n          dateTime: '%A, der %e. %B %Y, %X',\n          date: '%d.%m.%Y',\n          time: '%H:%M:%S',\n          periods: ['AM', 'PM'],\n          days: ['Sonntag', 'Montag', 'Dienstag', 'Mittwoch', 'Donnerstag', 'Freitag', 'Samstag'],\n\n          shortDays: ['So', 'Mo', 'Di', 'Mi', 'Do', 'Fr', 'Sa'],\n          months: [\n            'Januar',\n            'Februar',\n            'März',\n            'April',\n            'Mai',\n            'Juni',\n            'Juli',\n            'August',\n            'September',\n            'Oktober',\n            'November',\n            'Dezember'\n          ],\n\n          shortMonths: ['Jan', 'Feb', 'Mär', 'Apr', 'Mai', 'Jun', 'Jul', 'Aug', 'Sep', 'Okt', 'Nov', 'Dez']\n        });\n      }\n    }),\n\n    CONFIG: null\n  },\n\n  /*\n  ***********************************************\n    PROPERTIES\n  ***********************************************\n  */\n  properties: {\n    type: {\n      check: ['axis-mixed', 'bar', 'line', 'scatter', 'pie', 'percentage'],\n      init: 'line'\n    }\n  },\n\n  /*\n  ***********************************************\n    MEMBERS\n  ***********************************************\n  */\n  members: {\n    _downloadedImage: null,\n    _url: null,\n    _headers: null,\n    _request: null,\n    _chart: null,\n    _width: null,\n    _height: null,\n    _loaded: null,\n    _dataSetConfigs: null,\n\n    async _init() {\n      const element = this._element;\n      if (element.hasAttribute('type')) {\n        this.setType(element.getAttribute('type'));\n      }\n      await cv.ui.structure.tile.components.Chart.JS_LOADED;\n      if (this.isVisible()) {\n        this._loadData();\n      }\n      if (element.hasAttribute('allow-fullscreen') && element.getAttribute('allow-fullscreen') === 'true') {\n        const chartId = 'chart-' + cv.ui.structure.tile.components.Chart.ChartCounter;\n        // add fullscreen button + address\n        const button = document.createElement('cv-button');\n        button.classList.add('fullscreen');\n        const buttonAddress = document.createElement('cv-address');\n        buttonAddress.setAttribute('backend', 'system');\n        buttonAddress.textContent = `state:${chartId}-popup`;\n        button.appendChild(buttonAddress);\n        const icon = document.createElement('cv-icon');\n        icon.textContent = 'ri-fullscreen-line';\n        button.appendChild(icon);\n        element.parentElement.insertBefore(button, element);\n\n        // address\n        const tileAddress = document.createElement('cv-address');\n        tileAddress.setAttribute('mode', 'read');\n        tileAddress.setAttribute('target', 'fullscreen-popup');\n        tileAddress.setAttribute('backend', 'system');\n        tileAddress.setAttribute('send-mode', 'always');\n        tileAddress.textContent = buttonAddress.textContent;\n        element.parentElement.appendChild(tileAddress);\n\n        // listen to parent tile of popup is opened or not\n        let parent = element;\n        while (parent && parent.nodeName.toLowerCase() !== 'cv-tile') {\n          parent = parent.parentElement;\n        }\n        if (parent) {\n          const tileWidget = parent.getInstance();\n          tileWidget.addListener('closed', () => {\n            const ev = new CustomEvent('sendState', {\n              detail: {\n                value: 0,\n                source: this\n              }\n            });\n            buttonAddress.dispatchEvent(ev);\n          });\n\n          // because we added a read address to the tile after is has been initialized we need to init the listener here manually\n          parent.addEventListener('stateUpdate', ev => {\n            tileWidget.onStateUpdate(ev);\n            // cancel event here\n            ev.stopPropagation();\n          });\n        }\n      }\n\n      cv.ui.structure.tile.components.Chart.ChartCounter++;\n    },\n\n    _applyVisible(value) {\n      if (value && typeof window.d3 === 'object') {\n        this._loadData();\n      }\n    },\n\n    _loadData() {\n      if (this._loaded && Date.now() - this._loaded < 300000) {\n        // don't reload within 5 minutes\n        return;\n      }\n      const client = cv.io.BackendConnections.getClient();\n      let url;\n      const dataSets = this._element.querySelectorAll(':scope > dataset');\n      const series = this._element.getAttribute('series') || 'day';\n      const seriesConfig = {};\n      switch (series) {\n        case 'hour':\n          seriesConfig.xTicks = d3.timeMinute.every(5);\n          seriesConfig.start = 'end-1' + series;\n          break;\n\n        case 'day':\n          seriesConfig.xTicks = d3.timeHour.every(4);\n          seriesConfig.start = 'end-1' + series;\n          break;\n\n        case 'week':\n          seriesConfig.xTicks = d3.timeDay.every(1);\n          seriesConfig.start = 'end-1' + series;\n          break;\n\n        case 'month':\n          seriesConfig.xTicks = d3.timeDay.every(5);\n          seriesConfig.start = 'end-1' + series;\n          break;\n\n        case 'year':\n          seriesConfig.xTicks = d3.timeDay.every(31);\n          seriesConfig.start = 'end-1' + series;\n          break;\n      }\n      const promises = [];\n      this._dataSetConfigs = {};\n      for (let dataSet of dataSets) {\n        let ts = Object.assign({\n          showArea: true,\n          color: '#FF9900',\n          type: 'line',\n          title: '',\n          start: 'end-1day',\n          end: 'now',\n          xTicks: d3.timeHour.every(4)\n        }, seriesConfig);\n\n        let attr;\n        let name;\n        let value;\n        for (let i = 0; i < dataSet.attributes.length; i++) {\n          attr = dataSet.attributes.item(i);\n          // CamelCase attribute names\n          name = attr.name\n            .split('-')\n            .map((part, i) => {\n              if (i > 0) {\n                return `${part.substring(0, 1).toUpperCase()}${part.substring(1)}`;\n              }\n              return part;\n            })\n            .join('');\n          value = attr.value;\n          if (value === 'true' || value === 'false') {\n            value = value === 'true';\n          } else if (/^\\d+$/.test(value)) {\n            value = parseInt(value);\n          } else if (/^[\\d.]+$/.test(value)) {\n            value = parseFloat(value);\n          }\n          ts[name] = value;\n        }\n        let start = new Date();\n        start.setTime(start.getTime() - 60 * 60 * 24 * 1000);\n        url = client.getResourcePath('charts', {\n          src: ts.src,\n          start: ts.start,\n          end: ts.end\n        });\n\n        if (!url) {\n          continue;\n        }\n        this._dataSetConfigs[ts.src] = ts;\n        promises.push(\n          cv.io.Fetch.fetch(url, null, false, client)\n            .then(data => {\n              if (client.hasCustomChartsDataProcessor(data)) {\n                data = client.processChartsData(data, ts);\n              }\n              return {\n                data: data,\n                ts: ts\n              };\n            })\n            .catch(err => {\n              this._onStatusError(ts, url, err);\n            })\n        );\n      }\n      Promise.all(promises).then(responses => {\n        this._onSuccess(responses);\n      });\n    },\n\n    _onSuccess(data) {\n      if (!this.isVisible()) {\n        return;\n      }\n      let chartData = [];\n\n      for (let entry of data) {\n        let tsdata = entry.data;\n        if (tsdata !== null) {\n          for (let [time, value] of tsdata) {\n            chartData.push({\n              src: entry.ts.src,\n              time,\n              value\n            });\n          }\n        }\n      }\n      let minVal = d3.min(chartData, d => +d.value);\n      let maxVal = d3.max(chartData, d => +d.value) + 1;\n      if (minVal > 1.0) {\n        minVal -= 1;\n      }\n\n      const format = this._element.hasAttribute('y-format') ? this._element.getAttribute('y-format') : '%s';\n      let timeFormat = null;\n      if (this._element.hasAttribute('x-format')) {\n        const formatString = this._element.getAttribute('x-format');\n        timeFormat = date => d3.timeFormat(formatString)(date);\n      } else {\n        // format auto-detection\n        timeFormat = this.multiTimeFormat([\n          [\n            '.%L',\n            function (d) {\n              return d.getMilliseconds();\n            }\n          ],\n\n          [\n            ':%S',\n            function (d) {\n              return d.getSeconds();\n            }\n          ],\n\n          [\n            '%H:%M',\n            function (d) {\n              return d.getMinutes();\n            }\n          ],\n\n          [\n            '%H',\n            function (d) {\n              return d.getHours();\n            }\n          ],\n\n          [\n            '%a %d',\n            function (d) {\n              return d.getDay() && d.getDate() !== 1;\n            }\n          ],\n\n          [\n            '%b %d',\n            function (d) {\n              return d.getDate() !== 1;\n            }\n          ],\n\n          [\n            '%B',\n            function (d) {\n              return d.getMonth();\n            }\n          ],\n\n          [\n            '%Y',\n            function () {\n              return true;\n            }\n          ]\n        ]);\n      }\n\n\n      this._chart = this._lineChart(chartData, {\n        x: d => d.time,\n        y: d => d.value,\n        z: d => d.src,\n        color: d => {\n          return d && this._dataSetConfigs[d].color;\n        },\n        title: d => {\n          return cv.util.String.sprintf(format, d.value);\n        },\n        chartTitle: this._element.hasAttribute('title') ? this._element.getAttribute('title') : null,\n        //yLabel: ts.unit,\n        xDomain: d3.extent(chartData, d => d.time),\n        yDomain: [minVal, maxVal],\n        showArea: d => {\n          return this._dataSetConfigs[d].showArea;\n        },\n        mixBlendMode: 'normal',\n        xFormat: timeFormat\n      });\n\n      this._loaded = Date.now();\n    },\n\n    multiTimeFormat(formatsArray) {\n      /**\n       * @param date\n       */\n      function multiFormat(date) {\n        let i = 0;\n        let found = false;\n        let fmt = '%c';\n        while (!found && i < formatsArray.length) {\n          found = formatsArray[i][1](date);\n          if (found) {\n            fmt = formatsArray[i][0];\n          }\n          i++;\n        }\n        return fmt;\n      }\n      return date => d3.timeFormat(multiFormat(date))(date);\n    },\n\n    _onStatusError(ts, key, err) {\n      cv.core.notifications.Router.dispatchMessage('cv.charts.error', {\n        title: qx.locale.Manager.tr('Communication error'),\n        severity: 'urgent',\n        message: qx.locale.Manager.tr('URL: %1<br/><br/>Response:</br>%2', JSON.stringify(key), err)\n      });\n\n      this.error('Chart _onStatusError', ts, key, err);\n    },\n\n    /**\n     * Copyright 2021 Observable, Inc.\n     * Released under the ISC license.\n     * https://observablehq.com/@d3/multi-line-chart\n     *\n     * @param data\n     * @param c\n     * @private\n     */\n    _lineChart(data, c) {\n      if (!cv.ui.structure.tile.components.Chart.CONFIG) {\n        cv.ui.structure.tile.components.Chart.CONFIG = {\n          x: d => d[0], // given d in data, returns the (temporal) x-value\n          y: d => d[1], // given d in data, returns the (quantitative) y-value\n          z: () => 1, // given d in data, returns the (categorical) z-value\n          chartTitle: undefined, // title for the chart\n          title: undefined, // given d in data, returns the title text\n          defined: undefined, // for gaps in data\n          curve: d3.curveLinear, // method of interpolation between points\n          marginTop: 24, // top margin, in pixels\n          marginRight: 24, // right margin, in pixels\n          marginBottom: 24, // bottom margin, in pixels\n          marginLeft: 30, // left margin, in pixels\n          width: 392, // outer width, in pixels\n          height: 192, // outer height, in pixels\n          xType: d3.scaleTime, // type of x-scale\n          xDomain: undefined, // [xmin, xmax]\n          xRange: undefined, // [left, right]\n          xFormat: undefined, // a format specifier string for the x-axis\n          yType: d3.scaleLinear, // type of y-scale\n          yDomain: undefined, // [ymin, ymax]\n          yRange: undefined, // [bottom, top]\n          yFormat: undefined, // a format specifier string for the y-axis\n          yLabel: undefined, // a label for the y-axis\n          zDomain: undefined, // array of z-values\n          color: 'currentColor', // stroke color of line, as a constant or a function of *z*\n          strokeLinecap: undefined, // stroke line cap of line\n          strokeLinejoin: undefined, // stroke line join of line\n          strokeWidth: 1.5, // stroke width of line\n          strokeOpacity: undefined, // stroke opacity of line\n          mixBlendMode: 'multiply', // blend mode of lines\n          showArea: undefined, // show area below the line,\n          xPadding: 0.1 // amount of x-range to reserve to separate bars\n        };\n      }\n      const config = Object.assign({}, cv.ui.structure.tile.components.Chart.CONFIG, c);\n\n      config.xRange = [config.marginLeft, config.width - config.marginRight]; // [left, right]\n      config.yRange = [config.height - config.marginBottom, config.marginTop]; // [bottom, top]\n\n      // Compute values.\n      const X = d3.map(data, config.x);\n      const Y = d3.map(data, config.y);\n      const Z = d3.map(data, config.z);\n      const O = d3.map(data, d => d);\n      if (config.defined === undefined) {\n        config.defined = (d, i) => !isNaN(X[i]) && !isNaN(Y[i]);\n      }\n      //const D = d3.map(data, config.defined);\n\n      // Compute default domains, and unique the z-domain.\n      if (config.xDomain === undefined) {\n        config.xDomain = d3.extent(X);\n      }\n      if (config.yDomain === undefined) {\n        config.yDomain = [0, d3.max(Y, d => (typeof d === 'string' ? +d : d))];\n      }\n      if (config.zDomain === undefined) {\n        config.zDomain = Z;\n      }\n      config.zDomain = new d3.InternSet(config.zDomain);\n\n      // Omit any data not present in the z-domain.\n      const I = d3.range(X.length).filter(i => config.zDomain.has(Z[i]));\n\n      // Construct scales and axes.\n      const xScale = config.xType(config.xDomain, config.xRange);\n      const yScale = config.yType(config.yDomain, config.yRange);\n      const xAxis = d3\n        .axisBottom(xScale)\n        .ticks(config.width / 80)\n        .tickSizeOuter(0)\n        .tickFormat(config.xFormat);\n      const yAxis = d3.axisLeft(yScale).ticks(config.height / 60, config.yFormat);\n\n      // Compute titles.\n      const T = config.title === undefined ? Z : config.title === null ? null : d3.map(data, config.title);\n\n      d3.select(this._element).select('svg').remove();\n\n      const tooltip = d3.select(this._element)\n        .append('div')\n        .style('opacity', 0)\n        .attr('class', 'tooltip');\n\n      let linePath;\n\n      const pointerMoved = event => {\n        const [xm, ym] = d3.pointer(event);\n        const i = d3.least(I, i => Math.hypot(xScale(X[i]) - xm, yScale(Y[i]) - ym));\n        const scaleFactorX = this._element.offsetWidth / config.width;\n        const scaleFactorY = this._element.offsetHeight / config.height;\n        // closest point\n        dot.attr('transform', `translate(${xScale(X[i])},${yScale(Y[i])})`);\n        if (T) {\n          const ttNode = tooltip.node();\n          const timeString = config.xFormat(new Date(X[i]));\n          const top = ym*scaleFactorY - ttNode.offsetHeight - 40;\n          let left = (xm*scaleFactorX + ttNode.offsetWidth) > this._element.offsetWidth ? xm*scaleFactorX - ttNode.offsetWidth : xm*scaleFactorX;\n\n          const key = Z[i];\n          const lineTitle = this._dataSetConfigs[key] && this._dataSetConfigs[key].title ? this._dataSetConfigs[key].title + ': ' : '';\n          tooltip\n            .html(`${timeString}<br/>${lineTitle}${T[i]}`)\n            .style('left', left + 'px')\n            .style('top', top + 'px');\n        }\n        svg.property('value', O[i]).dispatch('input', { bubbles: true });\n      };\n\n      const pointerEntered = () => {\n        dot.attr('display', null);\n        tooltip.style('opacity', 1);\n      };\n\n      const pointerLeft = ev => {\n        if (ev.relatedTarget !== tooltip.node()) {\n          dot.attr('display', 'none');\n          svg.node().value = null;\n          svg.dispatch('input', {bubbles: true});\n          tooltip.style('opacity', 0);\n        }\n      };\n\n      const svg = d3\n        .select(this._element)\n        .append('svg')\n        .attr('viewBox', [0, 0, config.width, config.height])\n        .attr('style', 'max-width: 100%; height: auto; height: intrinsic;')\n        .style('-webkit-tap-highlight-color', 'transparent')\n        .on('pointerenter', pointerEntered)\n        .on('pointermove', pointerMoved)\n        .on('pointerleave', pointerLeft)\n        .on(\n          'touchmove',\n          event => {\n            let y = event.targetTouches[0].clientY;\n            if (linePath) {\n              const pathRect = linePath.node().getBoundingClientRect();\n              if (y > pathRect.y && y < pathRect.y + pathRect.height) {\n                event.preventDefault();\n              }\n            }\n          },\n          { passive: false }\n        );\n\n      const showXAxis = !this._element.hasAttribute('show-x-axis') || this._element.getAttribute('show-x-axis') === 'true';\n      const showYAxis = !this._element.hasAttribute('show-y-axis') || this._element.getAttribute('show-y-axis') === 'true';\n      if (showXAxis) {\n        svg\n          .append('g')\n          .attr('transform', `translate(0,${config.height - config.marginBottom})`)\n          .call(xAxis);\n      }\n      if (showYAxis) {\n        svg\n          .append('g')\n          .attr('transform', `translate(${config.marginLeft},0)`)\n          .call(yAxis)\n          .call(g => g.select('.domain').remove())\n          .call(g =>\n            g\n              .append('text')\n              .attr('x', -config.marginLeft)\n              .attr('y', 10)\n              .attr('fill', 'currentColor')\n              .attr('text-anchor', 'start')\n              .text(config.yLabel)\n          );\n      }\n\n      if (config.chartTitle) {\n        svg.append('text')\n          .attr('x', (config.width / 2))\n          .attr('y', config.marginTop)\n          .attr('class', 'chart-title')\n          .text(config.chartTitle);\n      }\n\n      const lineGroups = new Map();\n      const areaGroups = new Map();\n      const barGroups = new Map();\n      for (let i of I) {\n        const key = Z[i];\n        if (typeof config.showArea === 'function' && config.showArea(key)) {\n          if (!areaGroups.has(key)) {\n            areaGroups.set(key, []);\n          }\n          areaGroups.get(key).push(i);\n        }\n        switch (this._dataSetConfigs[key].type) {\n          case 'line':\n            if (!lineGroups.has(key)) {\n              lineGroups.set(key, []);\n            }\n            lineGroups.get(key).push(i);\n            break;\n\n          case 'bar':\n            if (!barGroups.has(key)) {\n              barGroups.set(key, []);\n            }\n            barGroups.get(key).push(i);\n            break;\n        }\n      }\n\n      if (lineGroups.size > 0) {\n        // Construct a line generator.\n        const line = d3\n          .line()\n          //.defined(i => D[i])\n          .curve(config.curve)\n          .x(i => xScale(X[i]))\n          .y(i => yScale(Y[i]));\n\n        linePath = svg\n          .append('g')\n          .attr('fill', 'none')\n          .attr('stroke', typeof config.color === 'string' ? config.color : null)\n          .attr('stroke-linecap', config.strokeLinecap)\n          .attr('stroke-linejoin', config.strokeLinejoin)\n          .attr('stroke-width', config.strokeWidth)\n          .attr('stroke-opacity', config.strokeOpacity)\n          .selectAll('path')\n          .data(lineGroups)\n          .join('path')\n          .style('mix-blend-mode', config.mixBlendMode)\n          .attr('stroke', typeof config.color === 'function' ? p => config.color(p[0]) : null)\n          .attr('d', d => line(d[1]));\n      }\n\n      // Add the area\n      if (areaGroups.size > 0) {\n        const area = d3\n          .area()\n          //.defined(i => D[i])\n          .curve(config.curve)\n          .x(i => xScale(X[i]))\n          .y0(() => config.yRange[0])\n          .y1(i => yScale(Y[i]));\n\n        svg\n          .append('g')\n          .attr('stroke', 'none')\n          .attr('fill', typeof config.color === 'string' ? config.color + '30' : null)\n          .selectAll('path')\n          .data(areaGroups)\n          .join('path')\n          .style('mix-blend-mode', config.mixBlendMode)\n          .attr('fill', typeof config.color === 'function' ? p => config.color(p[0]) + '30' : null)\n          .attr('d', d => area(d[1]));\n      }\n\n      if (barGroups.size > 0) {\n        const xBarScale = d3.scaleBand().domain(X).range(config.xRange).padding(config.xPadding);\n        svg\n          .append('g')\n          .selectAll('g')\n          .data(barGroups)\n          .join('g')\n          .attr('fill', typeof config.color === 'function' ? d => config.color(d[0]) + '30' : null)\n          .selectAll('rect')\n          .data(d => {\n            return d[1].map(val => {\n              return {\n                key: d[0],\n                value: val\n              };\n            });\n          })\n          .join('rect')\n          .attr('x', d => xBarScale(X[d.value]))\n          .attr('y', d => yScale(Y[d.value]))\n          .attr('height', d => config.yRange[0] - yScale(Y[d.value]))\n          .attr('width', xBarScale.bandwidth());\n      }\n\n      const dot = svg.append('g').attr('display', 'none').attr('fill', 'currentColor');\n\n      dot.append('circle').attr('r', 2.5);\n\n      dot\n        .append('text')\n        .attr('font-family', 'sans-serif')\n        .attr('font-size', 10)\n        .attr('text-anchor', 'middle')\n        .attr('y', -8);\n\n      return Object.assign(svg.node(), { value: null });\n    }\n  },\n\n  /*\n  ***********************************************\n    DESTRUCTOR\n  ***********************************************\n  */\n  destruct() {\n    this._chart = null;\n  },\n\n  defer(QxClass) {\n    customElements.define(\n      cv.ui.structure.tile.Controller.PREFIX + 'chart',\n      class extends QxConnector {\n        constructor() {\n          super(QxClass);\n        }\n      }\n    );\n  }\n});\n","/* Color.js\n *\n * copyright (c) 2010-2022, Christian Mayer and the CometVisu contributers.\n *\n * This program is free software; you can redistribute it and/or modify it\n * under the terms of the GNU General Public License as published by the Free\n * Software Foundation; either version 3 of the License, or (at your option)\n * any later version.\n *\n * This program is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for\n * more details.\n *\n * You should have received a copy of the GNU General Public License along\n * with this program; if not, write to the Free Software Foundation, Inc.,\n * 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA\n */\n\n/**\n * Shows a html color input\n * @author Tobias Bräutigam\n * @since 2022\n */\nqx.Class.define('cv.ui.structure.tile.components.Color', {\n  extend: cv.ui.structure.tile.components.AbstractComponent,\n  include: cv.ui.structure.tile.MResize,\n\n  /*\n  ***********************************************\n    PROPERTIES\n  ***********************************************\n  */\n  properties: {\n    throttleInterval: {\n      check: 'Number',\n      init: 250,\n      apply: '_applyThrottleInterval'\n    }\n  },\n\n  /*\n  ***********************************************\n    STATICS\n  ***********************************************\n  */\n  statics: {\n    CC_COUNTER: 0\n  },\n\n  /*\n  ***********************************************\n    MEMBERS\n  ***********************************************\n  */\n  members: {\n    __colorChooser: null,\n\n    _init() {\n      const element = this._element;\n      if (element.hasAttribute('throttle-interval')) {\n        this.setThrottleInterval(parseInt(element.getAttribute('throttle-interval')));\n      }\n\n      // init components\n      const mode = element.hasAttribute('mode') ? element.getAttribute('mode') : 'popup';\n      if (mode === 'popup') {\n        let popup = element.querySelector(':scope > cv-popup');\n        if (!popup) {\n          popup = document.createElement('cv-popup');\n          popup.setAttribute('modal', 'true');\n          if (element.hasAttribute('title')) {\n            popup.setAttribute('title', element.getAttribute('title'));\n          }\n          const addresses = {};\n          for (const elem of element.querySelectorAll(':scope > cv-address')) {\n            let src = elem.textContent;\n            let transform = elem.getAttribute('transform');\n            let mode = 1 | 2; // Bit 0 = read, Bit 1 = write  => 1|2 = 3 = readwrite\n            switch (elem.getAttribute('mode')) {\n              case 'disable':\n                mode = 0;\n                break;\n              case 'read':\n                mode = 1;\n                break;\n              case 'write':\n                mode = 2;\n                break;\n              case 'readwrite':\n                mode = 1 | 2;\n                break;\n            }\n            let variantInfo = cv.parser.pure.widgets.ColorChooser.makeAddressListFn(src, transform, mode, elem.getAttribute('variant'));\n            addresses[src.trim()] = {\n              transform: transform,\n              mode: mode,\n              variantInfo: variantInfo[1]\n            };\n          }\n          cv.ui.structure.tile.components.Color.CC_COUNTER++;\n          const path = 'id_0_'+cv.ui.structure.tile.components.Color.CC_COUNTER;\n          const props = {\n            path: path,\n            $$type: 'colorchooser',\n            classes: 'widget colorchooser',\n            layout: {\n              colspan: 1\n            },\n            controls: element.hasAttribute('controls') ? element.getAttribute('controls') : 'triangle',\n            address: addresses,\n            throttleInterval: this.getThrottleInterval()\n          };\n          cv.parser.pure.widgets.ColorChooser.parseAttributes(element, props);\n          this.__colorChooser = new cv.ui.structure.pure.ColorChooser(props);\n          this.__colorChooser.addListener('colorChanged', this._onColorChanged, this);\n          this._onColorChanged();\n          popup.innerHTML = `<div class=\"widget_container\" style=\"margin-top: 24px; max-width: 100vw; width: 320px; max-height: 100vh; min-height: 320px\" id=\"${path}\" data-type=\"colorchooser\">${this.__colorChooser.getDomString()}</div>`;\n          element.appendChild(popup);\n          element.addEventListener('click', ev => {\n            if (ev.path.indexOf(popup) < 0) {\n              popup.getInstance().open();\n            }\n          });\n          qx.event.Timer.once(() => {\n            this.__colorChooser._onDomReady();\n          }, this, 0);\n\n          this.setResizeTarget(popup);\n          this.addListener('resized', () => {\n            this.__colorChooser.invalidateScreensize();\n          });\n        }\n      }\n    },\n\n    _onColorChanged() {\n      const color = this.__colorChooser.getColor();\n      const rgb = color.getComponent('rgb');\n      const v = color.getComponent('v');\n      this.setValue(\n        `#${this.__convertToHex(rgb.r)}${this.__convertToHex(rgb.g)}${this.__convertToHex(rgb.b)}${this.__convertToHex(v)}`\n      );\n    },\n\n    __convertToHex(v) {\n      return Math.round(v * 255)\n        .toString(16)\n        .padStart(2, '0');\n    },\n\n    _updateValue(mappedValue, value) {\n      let target = this._element.querySelector(':scope > .value');\n      const rgb = mappedValue.substring(0, 7);\n      if (target) {\n        const tagName = target.tagName.toLowerCase();\n        const alpha = mappedValue.length === 9 ? parseInt(mappedValue.substring(7, 9), 16) / 255 : 1.0;\n\n        switch (tagName) {\n          case 'cv-icon':\n            target.style.color = rgb;\n            target.style.opacity = Math.max(alpha, 0.2); // do not blend it out totally\n            break;\n        }\n      } else {\n        // only if we do not have another value handler\n        this._element.style.backgroundColor = mappedValue;\n      }\n    }\n  },\n\n  /*\n  ***********************************************\n    DESTRUCTOR\n  ***********************************************\n  */\n  destruct: function () {\n    this._disposeObjects('__colorChooser');\n  },\n\n  defer(QxClass) {\n    customElements.define(\n      cv.ui.structure.tile.Controller.PREFIX + 'color',\n      class extends QxConnector {\n        constructor() {\n          super(QxClass);\n        }\n      }\n    );\n  }\n});\n","/* Icon.js\n *\n * copyright (c) 2010-2022, Christian Mayer and the CometVisu contributers.\n *\n * This program is free software; you can redistribute it and/or modify it\n * under the terms of the GNU General Public License as published by the Free\n * Software Foundation; either version 3 of the License, or (at your option)\n * any later version.\n *\n * This program is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for\n * more details.\n *\n * You should have received a copy of the GNU General Public License along\n * with this program; if not, write to the Free Software Foundation, Inc.,\n * 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA\n */\n\n/**\n *\n */\nqx.Class.define('cv.ui.structure.tile.components.Icon', {\n  extend: cv.ui.structure.tile.components.AbstractComponent,\n\n  /*\n  ***********************************************\n    CONSTRUCTOR\n  ***********************************************\n  */\n  construct(element) {\n    super(element);\n    this._idRegex = /^[^\\s]+$/;\n  },\n\n  /*\n  ***********************************************\n    PROPERTIES\n  ***********************************************\n  */\n  properties: {\n    id: {\n      check: 'String',\n      nullable: true,\n      apply: '_applyId',\n      // the id is used as 'class' property and therefore must not have spaces\n      transform: '_transformId'\n    },\n\n    color: {\n      check: 'String',\n      nullable: true,\n      apply: '_applyColor'\n    }\n  },\n\n  /*\n  ***********************************************\n    MEMBERS\n  ***********************************************\n  */\n  members: {\n    __initialized: false,\n    _idRegex: null,\n\n    _transformId(value) {\n      if (this._idRegex.test(value)) {\n        return value;\n      }\n      this.error('invalid icon id:', value);\n      return null;\n    },\n\n    _init() {\n      super._init();\n      const element = this._element;\n      if (element.textContent.trim()) {\n        this.__initialized = true;\n        this.setId(element.textContent.trim());\n      } else {\n        const it = element.classList.values();\n        for (let name of it) {\n          if (name.startsWith('ri-') || name.startsWith('knxuf-')) {\n            this.setId(name);\n            break;\n          }\n        }\n      }\n      this.__initialized = true;\n    },\n\n    _applyId(value, oldValue) {\n      const element = this._element;\n      if (this.__initialized) {\n        if (oldValue) {\n          element.classList.remove(oldValue);\n        }\n        if (value) {\n          // default is an icon font that uses CSS classes\n          element.classList.add(value);\n          if (element.textContent) {\n            element.textContent = '';\n          }\n        }\n      }\n    },\n\n    _applyColor(value, oldValue) {\n      const element = this._element;\n      if (oldValue) {\n        element.classList.remove(oldValue);\n      }\n      if (value) {\n        element.classList.add(value);\n      }\n    }\n  },\n\n  defer(Clazz) {\n    customElements.define(\n      cv.ui.structure.tile.Controller.PREFIX + 'icon',\n      class extends QxConnector {\n        constructor() {\n          super(Clazz);\n        }\n\n        static get observedAttributes() {\n          return ['color'];\n        }\n      }\n    );\n  }\n});\n","/* Image.js\n *\n * copyright (c) 2010-2022, Christian Mayer and the CometVisu contributers.\n *\n * This program is free software; you can redistribute it and/or modify it\n * under the terms of the GNU General Public License as published by the Free\n * Software Foundation; either version 3 of the License, or (at your option)\n * any later version.\n *\n * This program is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for\n * more details.\n *\n * You should have received a copy of the GNU General Public License along\n * with this program; if not, write to the Free Software Foundation, Inc.,\n * 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA\n */\n\n/**\n * Shows an image.\n *\n * HINT: Proxy mode needs an PHP environment with php-curl installed.\n */\nqx.Class.define('cv.ui.structure.tile.components.Image', {\n  extend: cv.ui.structure.tile.components.AbstractComponent,\n  include: [cv.ui.structure.tile.MVisibility, cv.ui.structure.tile.MRefresh],\n\n  /*\n  ***********************************************\n    MEMBERS\n  ***********************************************\n  */\n  members: {\n    _downloadedImage: null,\n    _url: null,\n    _headers: null,\n    _request: null,\n\n    _init() {\n      const element = this._element;\n      let img = element.querySelector(':scope > img');\n      if (!img) {\n        img = document.createElement('img');\n        element.appendChild(img);\n      }\n      element.addEventListener('click', () => this.refresh());\n      let src = element.getAttribute('src');\n      let base = window.location.origin;\n      if (src.substring(0, 1) !== '/' && src.substring(0, 4) !== 'http') {\n        // relative url\n        base += window.location.pathname;\n      }\n      this._url = new URL(src, base);\n      const useProxy = element.hasAttribute('proxy') && element.getAttribute('proxy') === 'true';\n      if (useProxy) {\n        this._url = new URL(cv.io.rest.Client.getBaseUrl() + '/proxy', window.location.origin);\n\n        this._url.searchParams.set('url', element.getAttribute('src'));\n      }\n      this._headers = {};\n      if (element.hasAttribute('auth-type')) {\n        if (useProxy) {\n          this._url.searchParams.set('auth-type', element.getAttribute('auth-type').toLowerCase());\n        } else {\n          switch (element.getAttribute('auth-type').toLowerCase()) {\n            case 'basic':\n              this._headers['Authorization'] = 'Basic ' + window.btoa(element.getAttribute('username') + ':' + element.getAttribute('password'));\n              break;\n\n            case 'bearer':\n              this._headers['Authorization'] = 'Bearer ' + element.getAttribute('username');\n              break;\n\n            default:\n              this.error('unknown authorization type' +  element.getAttribute('auth-type'));\n              break;\n          }\n        }\n      }\n      this._loadImage();\n      if (element.hasAttribute('refresh')) {\n        this.setRefresh(parseInt(element.getAttribute('refresh')));\n      }\n    },\n\n    _loadImage() {\n      let img = this._element.querySelector(':scope > img');\n      if (Object.keys(this._headers).length > 0) {\n        let request = new XMLHttpRequest();\n        request.responseType = 'blob';\n        request.open('get', this._url.toString(), true);\n        Object.keys(this._headers).forEach(name => {\n          request.setRequestHeader(name, this._headers[name]);\n        });\n        request.onreadystatechange = e => {\n          if (request.readyState === XMLHttpRequest.DONE && request.status === 200) {\n            img.src = URL.createObjectURL(request.response);\n            img.onload = () => {\n              URL.revokeObjectURL(img.src);\n            };\n          }\n        };\n        request.send(null);\n      } else {\n        img.src = this._url.toString();\n      }\n    },\n\n    refresh() {\n      let img = this._element.querySelector(':scope > img');\n      if (img) {\n        this._url.searchParams.set('r', '' + Math.random());\n        this._loadImage();\n      }\n    },\n\n    /**\n     * Handles the incoming data from the backend for this widget\n     *\n     * @param ev {CustomEvent} stateUpdate event fired from a cv-address component\n     */\n    onStateUpdate(ev) {\n      if (!super.onStateUpdate(ev)) {\n        if (ev.detail.target === 'refresh') {\n          if (ev.detail.state) {\n            this.refresh();\n          }\n        } else {\n          this.debug('unhandled address target', ev.detail.target);\n        }\n      }\n    }\n  },\n\n  defer(QxClass) {\n    customElements.define(\n      cv.ui.structure.tile.Controller.PREFIX + 'image',\n      class extends QxConnector {\n        constructor() {\n          super(QxClass);\n        }\n      }\n    );\n  }\n});\n","/* List.js\n *\n * copyright (c) 2010-2022, Christian Mayer and the CometVisu contributers.\n *\n * This program is free software; you can redistribute it and/or modify it\n * under the terms of the GNU General Public License as published by the Free\n * Software Foundation; either version 3 of the License, or (at your option)\n * any later version.\n *\n * This program is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for\n * more details.\n *\n * You should have received a copy of the GNU General Public License along\n * with this program; if not, write to the Free Software Foundation, Inc.,\n * 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA\n */\n\n/**\n * Generates a list of items. A &lt;template&gt;-element defines the content of the list-items and a model is used to\n * generate those items and apply the models content to the list-items.\n * It allows custom Javascript code in a &lt;script&gt;-Element to fill the model or address-Elements as model source.\n * The model can be refreshed in a time defined interval, which is set by the 'refresh' attribute.\n *\n * @widgetexample <settings>\n *    <caption>Example list</caption>\n *    <screenshot name=\"list_simple\"/>\n *  </settings>\n    <cv-list refresh=\"10\">\n      <model>\n        <script><![CDATA[\n         for (let i = 0; i < Math.round(Math.random()*10); i++) {\n           model.push({\n             label: 'This is list item no ' + i,\n             subLabel: 'Sublabel number ' + i\n           })\n         }\n         ]]>\n         </script>\n       </model>\n       <template>\n         <li>\n           <label class=\"primary\">${label}</label>\n           <label class=\"secondary\">${subLabel}</label>\n         </li>\n       </template>\n       <template when=\"empty\">\n         <li>\n           <label class=\"primary\">Model is empty!</label>\n         </li>\n       </template>\n   </cv-list>\n */\nqx.Class.define('cv.ui.structure.tile.components.List', {\n  extend: cv.ui.structure.tile.components.AbstractComponent,\n  include: [cv.ui.structure.tile.MVisibility, cv.ui.structure.tile.MRefresh],\n\n  /*\n  ***********************************************\n    PROPERTIES\n  ***********************************************\n  */\n  properties: {\n    value: {\n      refine: true,\n      init: []\n    }\n  },\n\n  /*\n  ***********************************************\n    MEMBERS\n  ***********************************************\n  */\n  members: {\n    _target: null,\n    _timer: null,\n    _model: null,\n    _getModel: null,\n    _filterModel: null,\n    _sortModel: null,\n    _limit: null,\n    _modelInstance: null,\n\n    _init() {\n      const element = this._element;\n      this._model = [];\n      let refreshOnUpdate = false;\n      const model = element.querySelector('model');\n      if (!model) {\n        this.error('cv-list needs a model');\n        return;\n      }\n      if (model.hasAttribute('filter')) {\n        this._filterModel = new Function('item', 'index', '\"use strict\"; return ' + model.getAttribute('filter'));\n      }\n      if (model.hasAttribute('limit')) {\n        this._limit = parseInt(model.getAttribute('limit'));\n      }\n      const readAddresses = model.querySelectorAll(':scope > cv-address:not([mode=\"write\"])');\n\n      if (model.hasAttribute('sort-by')) {\n        const sortBy = model.getAttribute('sort-by');\n        // reverse order in 'desc' sort mode\n        const sortModifier = model.getAttribute('sort-mode') === 'desc' ? -1 : 1;\n        this._sortModel = (left, right) => {\n          const leftVal = left[sortBy];\n          const rightVal = right[sortBy];\n          if (leftVal === rightVal) {\n            return 0;\n          } else if (typeof leftVal === typeof rightVal) {\n            switch (typeof leftVal) {\n              case 'number':\n                return (leftVal - rightVal) * sortModifier;\n\n              case 'boolean':\n                return (leftVal ? -1 : 1) * sortModifier;\n\n              case 'string':\n                return leftVal.localeCompare(rightVal) * sortModifier;\n\n              default:\n                return JSON.stringify(leftVal).localeCompare(JSON.stringify(rightVal)) * sortModifier;\n            }\n          } else if (leftVal === undefined || leftVal === null) {\n            return 1 * sortModifier;\n          } else if (rightVal === undefined || rightVal === null) {\n            return -1 * sortModifier;\n          }\n          return 0;\n        };\n      }\n      if (model.hasAttribute('src') || model.hasAttribute('config-section')) {\n        // fetch from url\n        this._getModel = async () => {\n          const options = {};\n          for (const proxyParam of ['self-signed', 'config-section', 'auth-type']) {\n            if (model.hasAttribute(proxyParam)) {\n              options[proxyParam] = model.getAttribute(proxyParam);\n            }\n          }\n          const res = await cv.io.Fetch.fetch(model.getAttribute('src'), options, model.getAttribute('proxy') === 'true');\n          return res;\n        };\n      } else if (model.hasAttribute('class')) {\n        // initialize internal class instance that implements cv.io.listmodel.IListModel\n        const Clazz = cv.io.listmodel.Registry.get(model.getAttribute('class'));\n        if (Clazz) {\n          const modelInstance = new Clazz();\n          if (model.hasAttribute('parameters')) {\n            const props = {};\n            for (let entry of model.getAttribute('parameters').split(',')) {\n              const [name, value] = entry.split('=').map(n => n.trim());\n              props[name] = value.startsWith('\\'') ? value.substring(1, value.length-1) : value;\n            }\n            modelInstance.set(props);\n          }\n          this._getModel = async () => {\n            await modelInstance.refresh();\n            return modelInstance.getModel();\n          };\n        } else {\n          this.error(`clazz \"cv.io.listmodel.${model.getAttribute('class')}\" not found`);\n        }\n      } else {\n        const script = model.querySelector(':scope > script');\n        const data = model.querySelectorAll(':scope > cv-data');\n        if (script) {\n          this._getModel = new Function('\"use strict\";let model = []; ' + script.innerText.trim() + '; return model');\n\n          this._model = this._getModel();\n        } else if (readAddresses.length > 0) {\n          // model has an address that triggers a refresh on update, so we just have to read the model from the updated value\n          this._getModel = this.getValue;\n          refreshOnUpdate = true;\n        } else if (data.length > 0) {\n          this._model = [];\n          this._getModel = () => this._model;\n          data.forEach((elem, i) => {\n            const d = {\n              index: i\n            };\n\n            for (const a of elem.attributes) {\n              d[a.name] = a.value;\n            }\n            this._model.push(d);\n          });\n        } else {\n          this.error(\n            'cv-list > model must have at least one read address, src-attribute, cv-data child or a script that fills the model.'\n          );\n\n          return;\n        }\n      }\n      if (readAddresses.length > 0) {\n        element.addEventListener('stateUpdate', ev => this.onStateUpdate(ev));\n      }\n      if (!refreshOnUpdate) {\n        if (this.isVisible()) {\n          // only load when visible\n          this.refresh();\n        }\n        if (element.hasAttribute('refresh')) {\n          this.setRefresh(parseInt(element.getAttribute('refresh')));\n        }\n      }\n    },\n\n    onStateUpdate(ev) {\n      if (ev.detail.target === 'refresh') {\n        if (this.isVisible()) {\n          // only load when visible\n          this.refresh();\n        } else {\n          // reset lastRefresh to that the refresh get called when this item gets visible\n          this._lastRefresh = null;\n        }\n      } else {\n        super.onStateUpdate(ev);\n      }\n      // cancel event here\n      ev.stopPropagation();\n    },\n\n    _applyValue() {\n      // reset last refresh, because with new data its obsolete\n      this._lastRefresh = 0;\n      this.refresh();\n    },\n\n    async refresh() {\n      const element = this._element;\n      const template = element.querySelector(':scope > template:not([when])');\n      let newModel = [];\n      if (typeof this._getModel === 'function') {\n        newModel = this._getModel();\n      }\n      if (newModel instanceof Promise) {\n        try {\n          newModel = await newModel;\n        } catch (e) {\n          this.error('error refreshing async model:', e);\n        }\n      }\n      let target = element.querySelector(':scope > ul');\n      if (template.getAttribute('wrap') === 'false') {\n        target = element;\n      } else if (template.hasAttribute('target')) {\n        switch (template.getAttribute('target')) {\n          case 'parent':\n            target = element.parentElement;\n            // we do not need the list to be visible then\n            element.style.display = 'none';\n            break;\n          default:\n            throw new Error('invalid target: ' + template.getAttribute('target'));\n        }\n      } else if (!target) {\n        target = document.createElement('ul');\n        target.classList.add('content');\n        element.appendChild(target);\n      }\n      this.debug('refreshing with new model length', newModel.length);\n      if (Array.isArray(newModel) || newModel instanceof qx.data.Array) {\n        if (typeof this._filterModel === 'function') {\n          newModel = newModel.filter(this._filterModel);\n        }\n        if (typeof this._sortModel === 'function') {\n          newModel.sort(this._sortModel);\n        }\n        if (this._limit) {\n          newModel = newModel.slice(0, this._limit);\n        }\n        if (newModel.length === 0) {\n          const whenEmptyTemplate = element.querySelector(':scope > template[when=\"empty\"]');\n\n          if (whenEmptyTemplate && !target.querySelector(':scope > .empty-model')) {\n            while (target.firstElementChild && target.firstElementChild.hasAttribute('data-row')) {\n              target.removeChild(target.firstElementChild);\n            }\n            const emptyModel = whenEmptyTemplate.content.firstElementChild.cloneNode(true);\n            emptyModel.classList.add('empty-model');\n            target.appendChild(emptyModel);\n            return;\n          }\n        } else {\n          const emptyElem = target.querySelector(':scope > .empty-model');\n          if (emptyElem) {\n            emptyElem.remove();\n          }\n        }\n        const itemTemplate = document.createElement('template');\n        // remove entries we do not need anymore\n        for (let i = newModel.length; i < this._model.length; i++) {\n          const elem = target.querySelector(`:scope > [data-row=\"${i}\"]`);\n          if (elem) {\n            elem.remove();\n          }\n        }\n\n        const getValue = (name, entry) => {\n          let index = -1;\n          if (name.endsWith(']')) {\n            // array access\n            index = parseInt(name.substring(name.indexOf('[') + 1, name.length - 1));\n            if (isNaN(index)) {\n              this.error(\n                'error parsing array index from ' + name,\n                name.substring(name.indexOf('[') + 1, name.length - 1)\n              );\n              return '';\n            }\n            name = name.substring(0, name.indexOf('['));\n          }\n          if (Object.prototype.hasOwnProperty.call(entry, name)) {\n            let val = entry[name];\n            if (index >= 0 && Array.isArray(val)) {\n              return val[index];\n            }\n            return val;\n          }\n          return '';\n        };\n        newModel.forEach((entry, i) => {\n          const elem = target.querySelector(`:scope > [data-row=\"${i}\"]`);\n          const html = template.innerHTML.replaceAll(/\\${([^}]+)}/g, (match, content) => {\n            if (content === 'index') {\n              return '' + i;\n            }\n            if (content.includes('||')) {\n              // elements are or'ed use the first one with value\n              let val = '';\n              for (let name of content.split('||').map(n => n.trim())) {\n                val = getValue(name, entry);\n                if (val) {\n                  return val;\n                }\n              }\n            }\n            return getValue(content, entry);\n          });\n\n          itemTemplate.innerHTML = html;\n          // check for elements with when attributes\n          itemTemplate.content.firstElementChild.querySelectorAll('[when]').forEach(elem => {\n            const [leftVal, rightVal] = elem\n              .getAttribute('when')\n              .split('=')\n              .map(n => n.trim());\n            // noinspection EqualityComparisonWithCoercionJS\n            if (leftVal != rightVal) {\n              elem.parentElement.removeChild(elem);\n            } else {\n              elem.removeAttribute('when');\n            }\n          });\n          if (elem) {\n            // update existing\n            elem.innerHTML = itemTemplate.content.firstElementChild.innerHTML;\n            elem.setAttribute('data-row', '' + i);\n          } else {\n            // append new child\n            itemTemplate.content.firstElementChild.setAttribute('data-row', '' + i);\n\n            target.appendChild(itemTemplate.content.cloneNode(true));\n          }\n        });\n        this._model = newModel;\n      } else {\n        this.error('model must be an array', newModel);\n      }\n    }\n  },\n\n  /*\n  ***********************************************\n    DESTRUCTOR\n  ***********************************************\n  */\n  destruct() {\n    this._disposeObjects('_modelInstance', '_timer');\n    this._model = null;\n    this._filterModel = null;\n    this._sortModel = null;\n    this._target = null;\n  },\n\n  defer(QxClass) {\n    customElements.define(\n      cv.ui.structure.tile.Controller.PREFIX + 'list',\n      class extends QxConnector {\n        constructor() {\n          super(QxClass);\n        }\n      }\n    );\n  }\n});\n","/* ListItem.js\n *\n * copyright (c) 2010-2022, Christian Mayer and the CometVisu contributers.\n *\n * This program is free software; you can redistribute it and/or modify it\n * under the terms of the GNU General Public License as published by the Free\n * Software Foundation; either version 3 of the License, or (at your option)\n * any later version.\n *\n * This program is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for\n * more details.\n *\n * You should have received a copy of the GNU General Public License along\n * with this program; if not, write to the Free Software Foundation, Inc.,\n * 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA\n */\n\n/**\n * Shows an item in a list.\n */\nqx.Class.define('cv.ui.structure.tile.components.ListItem', {\n  extend: cv.ui.structure.tile.components.AbstractComponent,\n\n  defer(QxClass) {\n    customElements.define(\n      cv.ui.structure.tile.Controller.PREFIX + 'listitem',\n      class extends QxConnector {\n        constructor() {\n          super(QxClass);\n        }\n      }\n    );\n  }\n});\n","/* Menu.js\n *\n * copyright (c) 2010-2022, Christian Mayer and the CometVisu contributers.\n *\n * This program is free software; you can redistribute it and/or modify it\n * under the terms of the GNU General Public License as published by the Free\n * Software Foundation; either version 3 of the License, or (at your option)\n * any later version.\n *\n * This program is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for\n * more details.\n *\n * You should have received a copy of the GNU General Public License along\n * with this program; if not, write to the Free Software Foundation, Inc.,\n * 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA\n */\n\n/**\n * Generates a menu of a model, currently only the pages model is implemented.\n *\n * @author Tobias Bräutigam\n * @since 2022\n */\nqx.Class.define('cv.ui.structure.tile.components.Menu', {\n  extend: cv.ui.structure.tile.components.AbstractComponent,\n\n  /*\n  ***********************************************\n    PROPERTIES\n  ***********************************************\n  */\n  properties: {\n    appearance: {\n      check: ['text', 'icons', 'dock'],\n      init: 'text',\n      apply: '_applyAppearance'\n    },\n\n    depth: {\n      check: '!isNaN(value) && value >= -1 && value <= 100',\n      init: -1,\n      apply: '_applyDepth'\n    },\n\n    domReady: {\n      check: 'Boolean',\n      init: false,\n      apply: '_generateMenu'\n    },\n\n    showLabels: {\n      check: 'Boolean',\n      init: true\n    }\n  },\n\n  /*\n  ***********************************************\n    MEMBERS\n  ***********************************************\n  */\n  members: {\n    _applyAppearance(value, oldValue) {\n      const main = document.querySelector('main');\n      if (oldValue === 'dock') {\n        main.classList.remove('has-dock');\n      }\n      if (value === 'dock') {\n        main.classList.add('has-dock');\n      }\n    },\n\n    _applyDepth() {\n      if (this.isDomReady()) {\n        this._generateMenu();\n      }\n    },\n\n    _onDomAppended() {\n      this.setDomReady(true);\n      qx.event.message.Bus.unsubscribe('setup.dom.append', this._onDomAppended, this);\n    },\n\n    _init() {\n      const element = this._element;\n      const model = element.getAttribute('model');\n      if (!model) {\n        this.error('no model defined, menu will be empty');\n        return;\n      }\n      if (element.getAttribute('show-labels') === 'false') {\n        this.setShowLabels(false);\n      }\n      if (model === 'pages') {\n        qx.event.message.Bus.subscribe('setup.dom.append', this._onDomAppended, this);\n\n        const rootList = document.createElement('ul');\n        element.appendChild(rootList);\n\n        // add hamburger menu\n        const ham = document.createElement('a');\n        ham.href = '#';\n        ham.classList.add('menu');\n        ham.onclick = () => this._onHamburgerMenu();\n        const icon = document.createElement('i');\n        icon.classList.add('ri-menu-line');\n        ham.appendChild(icon);\n        element.appendChild(ham);\n\n        qx.event.message.Bus.subscribe('cv.ui.structure.tile.currentPage', this._onPageChange, this);\n\n        // add some general listeners to close\n        qx.event.Registration.addListener(document, 'pointerdown', this._onPointerDown, this);\n\n        qx.event.Registration.addListener(this._element, 'swipe', this._onSwipe, this);\n      } else {\n        this.error('visual-model of type', model, 'is not implemented');\n      }\n    },\n\n    _generateMenu() {\n      const currentPage = window.location.hash.substring(1);\n      let parentElement = document.querySelector('main');\n      if (parentElement) {\n        const firstPage = document.querySelector('cv-page');\n        if (firstPage) {\n          parentElement = firstPage.parentElement;\n        }\n      }\n      const rootList = this._element.querySelector(':scope > ul');\n      if (rootList) {\n        rootList.replaceChildren();\n        this.__generatePagesModel(rootList, parentElement, currentPage, 0);\n      }\n    },\n\n    _onHamburgerMenu() {\n      this._element.classList.toggle('responsive');\n      for (let detail of this._element.querySelectorAll('details')) {\n        detail.setAttribute('open', '');\n      }\n    },\n\n    /**\n     * @param ev {qx.event.type.Event}\n     * @private\n     */\n    _onPointerDown(ev) {\n      const target = ev.getTarget();\n      if (\n        target.classList.contains('menu') ||\n        (target.parentElement && target.parentElement.classList.contains('menu'))\n      ) {\n        // clicked in hamburger menu, do nothing\n      } else if (target.tagName.toLowerCase() !== 'summary' && target.tagName.toLowerCase() !== 'p') {\n        // defer closing because it would prevent the link clicks and page selection\n        qx.event.Timer.once(this._closeAll, this, 100);\n      } else {\n        // close others\n        this._closeAll(ev.getTarget().parentElement);\n      }\n    },\n\n    _onSwipe(ev) {\n      if (ev.getDirection() === 'left') {\n        // goto next if there is one\n        const next = this._element.querySelector('li.active + li > a');\n        if (next) {\n          next.click();\n        }\n      } else {\n        const current = this._element.querySelector('li.active');\n        if (\n          current &&\n          current.previousElementSibling &&\n          current.previousElementSibling.tagName.toLowerCase() === 'li'\n        ) {\n          const prev = current.previousElementSibling.querySelector(':scope > a');\n          if (prev) {\n            prev.click();\n          }\n        }\n      }\n    },\n\n    /**\n     * Close all open sub-menus\n     * @param except {Element?} do not close this one\n     * @private\n     */\n    _closeAll(except) {\n      if (this._element.classList.contains('responsive')) {\n        this._element.classList.remove('responsive');\n      } else {\n        for (let detail of this._element.querySelectorAll('details[open]')) {\n          if (!except || detail !== except) {\n            detail.removeAttribute('open');\n          }\n        }\n      }\n    },\n\n    __generatePagesModel(parentList, parentElement, currentPage, currentLevel) {\n      if (!parentElement) {\n        return;\n      }\n      let pages = parentElement.querySelectorAll(':scope > cv-page:not([menu=\"false\"])');\n\n      for (let page of pages.values()) {\n        const pageId = page.getAttribute('id');\n        if (!pageId) {\n          this.error('page has no id, skipping');\n          continue;\n        }\n        const pageName = page.getAttribute('name') || '';\n        const pageIcon = page.getAttribute('icon') || '';\n        const li = document.createElement('li');\n        const a = document.createElement('a');\n        a.setAttribute('href', '#' + pageId);\n        if (pageIcon) {\n          const i = document.createElement('i');\n          i.classList.add(pageIcon);\n          i.title = pageName;\n          a.appendChild(i);\n        }\n        if (this.isShowLabels()) {\n          const text = document.createTextNode(pageName);\n          a.appendChild(text);\n        }\n        if (currentPage === pageId) {\n          li.classList.add('active');\n        }\n        parentList.appendChild(li);\n        const depth = this.getDepth();\n        if (\n          (depth < 0 || depth > currentLevel) &&\n          page.querySelectorAll(':scope > cv-page:not([menu=\"false\"])').length > 0\n        ) {\n          const details = document.createElement('div');\n          details.classList.add('details');\n          const summary = document.createElement('div');\n          summary.classList.add('summary');\n          summary.addEventListener('click', ev => {\n            if (details.hasAttribute('open')) {\n              details.removeAttribute('open');\n            } else {\n              details.setAttribute('open', '');\n            }\n          });\n          a.addEventListener('click', ev => {\n            // only stop propagation if we are not close to the right border\n            if (ev.pointerType !== 'touch' || ev.currentTarget.clientWidth - ev.offsetX >= 8) {\n              ev.stopPropagation();\n            }\n          });\n          const pageIcon = page.getAttribute('icon') || '';\n          if (page.querySelector(':scope > *:not(cv-page)')) {\n            // only add this as link, when this page has real content\n            summary.appendChild(a);\n          } else {\n            const p = document.createElement('p');\n            if (pageIcon) {\n              const i = document.createElement('i');\n              i.classList.add(pageIcon);\n              i.title = pageName;\n              p.appendChild(i);\n            }\n            if (this.isShowLabels()) {\n              p.appendChild(document.createTextNode(pageName));\n            }\n            summary.appendChild(p);\n          }\n          details.appendChild(summary);\n          const subList = document.createElement('ul');\n          details.appendChild(subList);\n          this.__generatePagesModel(subList, page, currentPage, currentLevel++);\n          li.appendChild(details);\n        } else {\n          li.appendChild(a);\n        }\n      }\n    },\n\n    _onPageChange(ev) {\n      const pageElement = ev.getData();\n      // unset all currently active\n      for (let link of this._element.querySelectorAll('li.active, li.sub-active')) {\n        link.classList.remove('active');\n        link.classList.remove('sub-active');\n      }\n      // find link to current page\n      for (let link of this._element.querySelectorAll(`a[href=\"#${pageElement.id}\"]`)) {\n        // activate all parents\n        let parent = link.parentElement;\n        let activeName = 'active';\n        while (parent && parent.tagName.toLowerCase() !== 'cv-menu') {\n          if (parent.tagName.toLowerCase() === 'li') {\n            parent.classList.add(activeName);\n            // all other parents have a sub-menu active\n            activeName = 'sub-active';\n          }\n          parent = parent.parentElement;\n        }\n      }\n    }\n  },\n\n  /*\n  ***********************************************\n    DESTRUCTOR\n  ***********************************************\n  */\n  destruct() {\n    qx.event.Registration.removeListener(document, 'pointerdown', this._onPointerDown, this);\n\n    qx.event.message.Bus.unsubscribe('cv.ui.structure.tile.currentPage', this._onPageChange, this);\n  },\n\n  defer(QxClass) {\n    customElements.define(\n      cv.ui.structure.tile.Controller.PREFIX + 'menu',\n      class extends QxConnector {\n        constructor() {\n          super(QxClass);\n        }\n        static get observedAttributes() {\n          return ['appearance', 'depth'];\n        }\n      }\n    );\n  }\n});\n","/**\n * Wrapper for plugins\n */\nqx.Class.define('cv.ui.structure.tile.components.Plugin', {\n  extend: cv.ui.structure.tile.elements.AbstractCustomElement,\n\n  /*\n  ***********************************************\n    STATICS\n  ***********************************************\n  */\n  statics: {\n   PL_COUNTER: 0\n  },\n\n  /*\n  ***********************************************\n    MEMBERS\n  ***********************************************\n  */\n  members: {\n    __widget: null,\n\n    async _init() {\n      super._init();\n      // load plugin\n      let name = '';\n      if (this._element.hasAttribute('name')) {\n        name = this._element.getAttribute('name');\n      } else {\n        name = this._element.firstElementChild.nodeName.toLowerCase();\n      }\n      if (name) {\n        const pluginName = 'plugin-' + name;\n        const part = await this.loadPluginPart(pluginName);\n        if (part) {\n          // find the main class file in the package\n          let Clazz = null;\n          for (let url of part.getPackages()[0].getUrls()) {\n            let fileName = url.split('/').pop();\n            if (fileName.toLowerCase() === name + '.js') {\n              Clazz = qx.Class.getByName('cv.plugins.' + fileName.split('.')[0]);\n              break;\n            }\n          }\n          if (Clazz) {\n            cv.ui.structure.tile.components.Plugin.PL_COUNTER++;\n            const id = 'id_9_' + cv.ui.structure.tile.components.Plugin.PL_COUNTER;\n            const props = Clazz.parse(this._element.firstElementChild, id, '', '2d');\n            cv.TemplateEngine.getInstance().setDomFinished(false);\n            this.__widget = new Clazz(props);\n            this._element.innerHTML = `<div class=\"widget_container\" id=\"${id}\" data-type=\"${props.$$type}\">${this.__widget.getDomString()}</div>`;\n            const scriptLoader = cv.util.ScriptLoader.getInstance();\n            window.requestAnimationFrame(() => {\n              if (!scriptLoader.isFinished()) {\n                // wait until plugin dependencies have been loaded\n                scriptLoader.addListenerOnce('finished', () => {\n                  cv.TemplateEngine.getInstance().setDomFinished(true);\n                });\n              } else {\n                cv.TemplateEngine.getInstance().setDomFinished(true);\n              }\n            });\n          }\n        }\n      } else {\n        this.error('no plugin name provided!');\n      }\n    },\n\n    async loadPluginPart(pluginName) {\n      const part = qx.Part.getInstance().getParts()[pluginName];\n      if (part) {\n        return new Promise(resolve => {\n          part.load(() => resolve(part), this);\n        });\n      }\n      this.error('plugin', pluginName, 'does not exist');\n      return Promise.resolve(null);\n    }\n  },\n\n  defer(QxClass) {\n    customElements.define(\n      cv.ui.structure.tile.Controller.PREFIX + 'plugin',\n      class extends QxConnector {\n        constructor() {\n          super(QxClass);\n        }\n      }\n    );\n  }\n});\n","/* RoundProgress.js\n *\n * copyright (c) 2010-2022, Christian Mayer and the CometVisu contributers.\n *\n * This program is free software; you can redistribute it and/or modify it\n * under the terms of the GNU General Public License as published by the Free\n * Software Foundation; either version 3 of the License, or (at your option)\n * any later version.\n *\n * This program is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for\n * more details.\n *\n * You should have received a copy of the GNU General Public License along\n * with this program; if not, write to the Free Software Foundation, Inc.,\n * 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA\n */\n\n/**\n * Shows a round progress bar (partially filled circle).\n * This component must be used inside a cv-value component, it is not meant to be used standalone.\n *\n * @author Tobias Bräutigam\n * @since 2022\n */\nqx.Class.define('cv.ui.structure.tile.components.RoundProgress', {\n  extend: cv.ui.structure.tile.components.AbstractComponent,\n  include: cv.ui.structure.tile.MVisibility,\n\n  /*\n  ***********************************************\n    PROPERTIES\n  ***********************************************\n  */\n  properties: {\n    progress: {\n      check: 'Number',\n      apply: '_applyProgress'\n    },\n\n    text: {\n      check: 'String',\n      apply: '_applyText'\n    },\n\n    type: {\n      check: ['circle', 'semiCircle'],\n      init: 'circle'\n    },\n\n    min: {\n      check: 'Number',\n      init: 0\n    },\n\n    max: {\n      check: 'Number',\n      init: 100\n    }\n  },\n\n  /*\n  ***********************************************\n    MEMBERS\n  ***********************************************\n  */\n  members: {\n    __writeAddresses: null,\n    __circumference: null,\n    __start: null,\n    __normalizedRadius: null,\n    __radius: null,\n    __label: null,\n    __canvas: null,\n    __availableLabelWidth: null,\n    __defaultLabelFontSize: null,\n    _queuedFitText: null,\n\n    _init() {\n      super._init();\n      const element = this._element;\n      const style = document.querySelector(':root').style;\n      const hasFixedRadius = element.hasAttribute('radius');\n      const radius = (this.__radius =\n        element.getAttribute('radius') || parseInt(style.getPropertyValue('--tileCellWidth')) || 56);\n      const strokeWidth = element.getAttribute('stroke') || 8;\n      const normalizedRadius = (this.__normalizedRadius = radius - strokeWidth / 2);\n      this.__circumference = normalizedRadius * 2 * Math.PI;\n\n      if (element.hasAttribute('min')) {\n        const min = parseInt(element.getAttribute('min'));\n        if (!isNaN(min)) {\n          this.setMin(min);\n        }\n      }\n\n      if (element.hasAttribute('max')) {\n        const max = parseInt(element.getAttribute('max'));\n        if (!isNaN(max)) {\n          this.setMax(max);\n        }\n      }\n\n      if (element.hasAttribute('type')) {\n        this.setType(element.getAttribute('type'));\n      }\n      const type = this.getType();\n      let height = type === 'semiCircle' ? radius : radius * 2;\n      let code = `<svg height=\"${height}\" width=\"${radius * 2}\" type=\"${type}\">`;\n      if (type === 'circle') {\n        if (!element.hasAttribute('no-background')) {\n          code += `<circle class=\"bg\" \n                r=\"${normalizedRadius}\" \n                cx=\"50%\" \n                cy=\"50%\" \n                fill=\"transparent\" \n                stroke-width=\"${strokeWidth}\"/>`;\n        }\n        code += `<circle class=\"bar\" \n              r=\"${normalizedRadius}\" \n              cx=\"50%\" \n              cy=\"50%\" \n              stroke-width=\"${strokeWidth}\" \n              stroke-dasharray=\"${this.__circumference} ${this.__circumference}\" \n              stroke-dashoffset=\"${this.__circumference}\"/>`;\n      } else if (type === 'semiCircle') {\n        if (!element.hasAttribute('no-background')) {\n          code += `<path class=\"bg\" d=\"M ${strokeWidth / 2} ${radius} A ${normalizedRadius} ${normalizedRadius} 0 0 1 ${\n            radius * 2 - strokeWidth / 2\n          } ${radius}\" fill=\"transparent\" stroke-width=\"${strokeWidth}\"/>`;\n        }\n        this.__start = {\n          x: strokeWidth / 2,\n          y: radius\n        };\n\n        code += `<path class=\"bar\" d=\"M ${strokeWidth / 2} ${radius} A ${normalizedRadius} ${normalizedRadius} 0 0 0 ${\n          strokeWidth / 2\n        } ${radius}\" fill=\"transparent\" stroke-width=\"${strokeWidth}\"/>`;\n      }\n      code += '</svg><label></label>';\n      element.innerHTML = code;\n\n      this.__availableLabelWidth = radius * 2 - strokeWidth * 2 - 24;\n\n      if (!hasFixedRadius) {\n        qx.event.message.Bus.subscribe('cv.design.tile.cellWidthChanged', ev => {\n          this.__radius = ev.getData();\n          this.__normalizedRadius = this.__radius - strokeWidth / 2;\n          this.__circumference = this.__normalizedRadius * 2 * Math.PI;\n          height = type === 'semiCircle' ? this.__radius : this.__radius * 2;\n          const svg = element.querySelector(':scope > svg');\n          svg.setAttribute('height', '' + height);\n          svg.setAttribute('width', '' + this.__radius * 2);\n          if (type === 'circle') {\n            this._element.querySelectorAll(':scope > svg > circle').forEach(circle => {\n              circle.setAttribute('r', '' + this.__normalizedRadius);\n              if (circle.classList.contains('bar')) {\n                circle.setAttribute('stroke-dasharray', this.__circumference + ' ' + this.__circumference);\n\n                circle.setAttribute('stroke-dashoffset', '' + this.__circumference);\n              }\n            });\n          } else if (type === 'semiCircle') {\n            this.__start.y = this.__radius;\n            const bg = this._element.querySelector(':scope > svg > path.bg');\n            if (bg) {\n              bg.setAttribute(\n                'd',\n                `M ${strokeWidth / 2} ${this.__radius} A ${this.__normalizedRadius} ${this.__normalizedRadius} 0 0 1 ${\n                  this.__radius * 2 - strokeWidth / 2\n                } ${this.__radius}`\n              );\n            }\n          }\n          this._applyProgress(this.isPropertyInitialized('progress') ? this.getProgress() : 0);\n        });\n      }\n    },\n\n    __convert(angle) {\n      const angleRad = angle * (Math.PI / 180.0);\n      return {\n        x: this.__radius - this.__normalizedRadius * Math.cos(angleRad),\n        y: this.__radius - this.__normalizedRadius * Math.sin(angleRad)\n      };\n    },\n\n    _applyProgress(value) {\n      if (this.isConnected()) {\n        let valueElement;\n        let end;\n        let valueInRange = value - this.getMin();\n        let percent = Math.max(0, Math.min(100, (100 / (this.getMax() - this.getMin())) * valueInRange));\n\n        switch (this.getType()) {\n          case 'circle':\n            valueElement = this._element.querySelector(':scope > svg > circle.bar');\n\n            valueElement.setAttribute(\n              'stroke-dashoffset',\n              '' + this.__circumference - (percent / 100) * this.__circumference\n            );\n\n            break;\n\n          case 'semiCircle':\n            valueElement = this._element.querySelector(':scope > svg > path.bar');\n\n            end = this.__convert((180 / 100) * percent);\n            valueElement.setAttribute(\n              'd',\n              [\n                'M',\n                this.__start.x,\n                this.__start.y,\n                'A',\n                this.__normalizedRadius,\n                this.__normalizedRadius,\n                0,\n                0,\n                1,\n                end.x,\n                end.y\n              ].join(' ')\n            );\n\n            break;\n        }\n      }\n    },\n\n    _fitText() {\n      if (this.__label && this.__label.textContent) {\n        if (this.isVisible()) {\n          if (!this.__canvas) {\n            this.__canvas = document.createElement('canvas');\n            this.__context = this.__canvas.getContext('2d');\n            const compStyle = window.getComputedStyle(this.__label);\n            this.__context.font = compStyle.getPropertyValue('font');\n            this.__defaultLabelFontSize = compStyle.getPropertyValue('font-size');\n          }\n          const metrics = this.__context.measureText(this.__label.textContent);\n          if (metrics.width > this.__availableLabelWidth) {\n            // adjust font-size\n            const factor = this.__availableLabelWidth / metrics.width;\n            this.__label.style.fontSize = Math.floor(parseInt(this.__defaultLabelFontSize) * factor) + 'px';\n          } else {\n            this.__label.style.fontSize = this.__defaultLabelFontSize;\n          }\n          this._queuedFitText = false;\n        } else {\n          this._queuedFitText = true;\n        }\n      }\n    },\n\n    _applyVisible(visible) {\n      if (visible && this._queuedFitText) {\n        this._fitText();\n      }\n    },\n\n    _applyText(value) {\n      if (this.isConnected()) {\n        if (!this.__label) {\n          this.__label = this._element.querySelector(':scope > label');\n        }\n        this.__label.textContent = value;\n        if (!value) {\n          // empty text, just reset to default font size\n          if (this.__defaultLabelFontSize) {\n            this.__label.style.fontSize = this.__defaultLabelFontSize;\n          }\n        } else {\n          this._fitText();\n        }\n      }\n    }\n  },\n\n  /*\n  ***********************************************\n    DESTRUCTOR\n  ***********************************************\n  */\n  destruct() {\n    this.__label = null;\n  },\n\n  defer(QxClass) {\n    customElements.define(\n      cv.ui.structure.tile.Controller.PREFIX + 'round-progress',\n      class extends QxConnector {\n        constructor() {\n          super(QxClass);\n        }\n      }\n    );\n  }\n});\n","/* Select.js\n *\n * copyright (c) 2010-2022, Christian Mayer and the CometVisu contributers.\n *\n * This program is free software; you can redistribute it and/or modify it\n * under the terms of the GNU General Public License as published by the Free\n * Software Foundation; either version 3 of the License, or (at your option)\n * any later version.\n *\n * This program is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for\n * more details.\n *\n * You should have received a copy of the GNU General Public License along\n * with this program; if not, write to the Free Software Foundation, Inc.,\n * 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA\n */\n\n/**\n * Allows the selection of one element out of a list of <cv-option> elements\n */\nqx.Class.define('cv.ui.structure.tile.components.Select', {\n  extend: cv.ui.structure.tile.components.AbstractComponent,\n\n  /*\n  ***********************************************\n    MEMBERS\n  ***********************************************\n  */\n  members: {\n    __options: null,\n    __value: null,\n    __popup: null,\n\n    _init() {\n      super._init();\n      const element = this._element;\n      this.__options = new Map();\n\n      const popup = (this.__popup = document.createElement('div'));\n      popup.classList.add('popup');\n      element.querySelectorAll(':scope > cv-option').forEach((option, i) => {\n        popup.appendChild(option);\n        if (!option.hasAttribute('key')) {\n          option.setAttribute('key', '' + i);\n        }\n        this.__options.set(option.getAttribute('key'), option);\n      });\n      const value = (this.__value = document.createElement('span'));\n      value.classList.add('value');\n      element.appendChild(value);\n      element.appendChild(popup);\n      const handle = document.createElement('cv-icon');\n      handle.classList.add('dropdown');\n      handle.classList.add('ri-arrow-down-s-line');\n      element.appendChild(handle);\n\n      if (this._writeAddresses.length > 0) {\n        element.addEventListener('click', ev => this.onClicked(ev));\n      }\n    },\n\n    onClicked(ev) {\n      const style = getComputedStyle(this.__popup);\n      for (let target of ev.path) {\n        if (target.tagName.toLowerCase() === 'cv-option') {\n          // select this option\n          this._sendSelection(target.getAttribute('key'), true);\n          break;\n        }\n        if (target === ev.currentTarget) {\n          break;\n        }\n      }\n      // open popup\n      if (style.getPropertyValue('display') === 'none') {\n        this.__popup.style.display = 'block';\n      } else {\n        this.__popup.style.display = 'none';\n      }\n    },\n\n    _sendSelection(key, predictive) {\n      const ev = new CustomEvent('sendState', {\n        detail: {\n          value: key,\n          source: this\n        }\n      });\n\n      this._writeAddresses\n        .filter(addr => !addr.hasAttribute('on') || addr.getAttribute('on') === 'click')\n        .forEach(address => address.dispatchEvent(ev));\n      if (predictive === true) {\n        this.setValue(key);\n      }\n    },\n\n    _updateValue(mappedValue, value) {\n      if (this.__options.has(mappedValue)) {\n        this.__value.innerHTML = '';\n        const current = this.__options.get(mappedValue);\n        if (current.children.length > 0) {\n          // if we have non text children, we only use them (only icons no text)\n          for (const child of current.children) {\n            this.__value.appendChild(child.cloneNode());\n          }\n        } else {\n          this.__value.innerHTML = current.innerHTML;\n        }\n      }\n    }\n  },\n\n  defer(QxClass) {\n    customElements.define(\n      cv.ui.structure.tile.Controller.PREFIX + 'select',\n      class extends QxConnector {\n        constructor() {\n          super(QxClass);\n        }\n      }\n    );\n  }\n});\n","/* Slider.js\n *\n * copyright (c) 2010-2022, Christian Mayer and the CometVisu contributers.\n *\n * This program is free software; you can redistribute it and/or modify it\n * under the terms of the GNU General Public License as published by the Free\n * Software Foundation; either version 3 of the License, or (at your option)\n * any later version.\n *\n * This program is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for\n * more details.\n *\n * You should have received a copy of the GNU General Public License along\n * with this program; if not, write to the Free Software Foundation, Inc.,\n * 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA\n */\n\n/**\n * Shows a range slider.\n */\nqx.Class.define('cv.ui.structure.tile.components.Slider', {\n  extend: cv.ui.structure.tile.components.AbstractComponent,\n\n  /*\n  ***********************************************\n    PROPERTIES\n  ***********************************************\n  */\n  properties: {\n    stepWidth: {\n      check: 'Number',\n      init: 5\n    },\n\n    min: {\n      check: 'Number',\n      init: 1,\n      apply: '_applyMin'\n    },\n\n    max: {\n      check: 'Number',\n      init: 100,\n      apply: '_applyMax'\n    },\n\n    showValue: {\n      check: 'Boolean',\n      init: true,\n      apply: '_applyShowValue'\n    },\n\n    throttleInterval: {\n      check: 'Number',\n      init: 250,\n      apply: '_applyThrottleInterval'\n    }\n  },\n\n  /*\n  ***********************************************\n    MEMBERS\n  ***********************************************\n  */\n  members: {\n    __throttled: null,\n    __input: null,\n\n    _init() {\n      super._init();\n      const element = this._element;\n      if (element.hasAttribute('throttle-interval')) {\n        this.setThrottleInterval(parseInt(element.getAttribute('throttle-interval')));\n      } else {\n        this._applyThrottleInterval(this.getThrottleInterval());\n      }\n\n      // init components\n      let input = element.querySelector(':scope > input');\n      if (!input) {\n        input = document.createElement('input');\n        input.classList.add('slider');\n        input.setAttribute('type', 'range');\n        element.insertBefore(input, element.querySelector(':scope > .up'));\n        input.oninput = () => this.__throttled.call();\n      }\n      this.__input = input;\n      if (element.hasAttribute('step-width')) {\n        this.setStepWidth(parseInt(element.getAttribute('step-width')));\n      }\n      if (element.hasAttribute('min')) {\n        this.setMin(parseInt(element.getAttribute('min')));\n      }\n      if (element.hasAttribute('max')) {\n        this.setMax(parseInt(element.getAttribute('max')));\n      }\n      if (element.hasAttribute('hide-value') && element.getAttribute('hide-value') === 'true') {\n        this.setShowValue(false);\n      } else {\n        this._applyShowValue(true);\n      }\n\n      const decreaseElement = element.querySelector(':scope > .decrease');\n      if (decreaseElement) {\n        decreaseElement.addEventListener('click', ev => this.onDecrease());\n      }\n      const increaseElement = element.querySelector(':scope > .increase');\n      if (increaseElement) {\n        increaseElement.addEventListener('click', ev => this.onIncrease());\n      }\n    },\n\n    _applyThrottleInterval(value) {\n      if (value > 0) {\n        this.__throttled = cv.util.Function.throttle(this.onInput, value, { trailing: true }, this);\n      } else {\n        // no throttling, direct call\n        this.__throttled = {\n          call: () => this.onInput(),\n          abort: () => {}\n        };\n      }\n    },\n\n    _applyMin(value) {\n      const input = this._element.querySelector(':scope > input');\n      input.setAttribute('min', '' + value);\n    },\n\n    _applyMax(value) {\n      const input = this._element.querySelector(':scope > input');\n      input.setAttribute('max', '' + value);\n    },\n\n    _applyShowValue(value) {\n      let valueLabel = this._element.querySelector(':scope > label.value');\n      if (value) {\n        if (!valueLabel) {\n          valueLabel = document.createElement('label');\n          valueLabel.classList.add('value');\n          valueLabel.classList.add('secondary');\n          this._element.insertBefore(valueLabel, this._element.firstChild);\n        }\n      }\n    },\n\n    _updateValue(mappedValue, value) {\n      const target = this._element.querySelector(':scope > input');\n      if (target) {\n        target.value = value;\n      }\n      if (this.isShowValue()) {\n        let valueLabel = this._element.querySelector(':scope > label.value');\n        if (valueLabel) {\n          valueLabel.innerText = mappedValue;\n        }\n      }\n    },\n\n    onInput() {\n      this.__sendValue(this.__input.value);\n    },\n\n    onDecrease() {\n      const value = this.getValue() - this.getStepWidth();\n      this.__sendValue(value, 'decrease');\n    },\n\n    onIncrease() {\n      const value = this.getValue() + this.getStepWidth();\n      this.__sendValue(value, 'increase');\n    },\n\n    __sendValue(value, on) {\n      const ev = new CustomEvent('sendState', {\n        detail: {\n          value: value,\n          source: this\n        }\n      });\n\n      this._writeAddresses\n        .filter(addr => !addr.hasAttribute('on') || addr.getAttribute('on') === on)\n        .forEach(address => address.dispatchEvent(ev));\n    }\n  },\n\n  defer(QxClass) {\n    customElements.define(\n      cv.ui.structure.tile.Controller.PREFIX + 'slider',\n      class extends QxConnector {\n        constructor() {\n          super(QxClass);\n        }\n      }\n    );\n  }\n});\n","/* Spinner.js\n *\n * copyright (c) 2010-2022, Christian Mayer and the CometVisu contributers.\n *\n * This program is free software; you can redistribute it and/or modify it\n * under the terms of the GNU General Public License as published by the Free\n * Software Foundation; either version 3 of the License, or (at your option)\n * any later version.\n *\n * This program is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for\n * more details.\n *\n * You should have received a copy of the GNU General Public License along\n * with this program; if not, write to the Free Software Foundation, Inc.,\n * 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA\n */\n\n/**\n * Shows a number value that can be increased and decreased by a defined step width.\n */\nqx.Class.define('cv.ui.structure.tile.components.Spinner', {\n  extend: cv.ui.structure.tile.components.AbstractComponent,\n\n  /*\n  ***********************************************\n    PROPERTIES\n  ***********************************************\n  */\n  properties: {\n    stepWidth: {\n      check: 'Number',\n      init: 1.0\n    },\n\n    mode: {\n      check: ['relative', 'absolute'],\n      init: 'absolute'\n    }\n  },\n\n  /*\n  ***********************************************\n    MEMBERS\n  ***********************************************\n  */\n  members: {\n    _init() {\n      super._init();\n      const element = this._element;\n      if (element.hasAttribute('step-width')) {\n        this.setStepWidth(parseFloat(element.getAttribute('step-width')));\n      }\n      if (element.hasAttribute('mode')) {\n        this.setMode(element.getAttribute('mode'));\n      }\n      // init components\n      let valueElement = element.querySelector(':scope > .value');\n      if (!valueElement) {\n        valueElement = document.createElement('label');\n        valueElement.classList.add('value');\n        valueElement.classList.add('primary');\n        element.appendChild(valueElement);\n      }\n      // add increase / decrease buttons\n      const decrease = document.createElement('div');\n      decrease.classList.add('clickable');\n      decrease.classList.add('left');\n      const decreaseIcon = document.createElement('cv-icon');\n      decreaseIcon.classList.add('ri-arrow-down-s-line');\n      decrease.addEventListener('click', () => this.onDecrease());\n      decrease.appendChild(decreaseIcon);\n      element.insertBefore(decrease, valueElement);\n\n      const increase = document.createElement('div');\n      increase.classList.add('clickable');\n      increase.classList.add('right');\n      const increaseIcon = document.createElement('cv-icon');\n      increaseIcon.classList.add('ri-arrow-up-s-line');\n      increase.appendChild(increaseIcon);\n      increase.addEventListener('click', () => this.onIncrease());\n      element.appendChild(increase);\n    },\n\n    onDecrease() {\n      const value = this.getMode() === 'absolute' ? this.getValue() - this.getStepWidth() : this.getStepWidth() * -1;\n      this.__sendValue(value, 'decrease');\n    },\n\n    onIncrease() {\n      const value = this.getMode() === 'absolute' ? this.getValue() + this.getStepWidth() : this.getStepWidth();\n      this.__sendValue(value, 'increase');\n    },\n\n    _updateValue(mappedValue) {\n      const target = this._element.querySelector('.value');\n      if (target) {\n        target.innerHTML = mappedValue;\n      }\n    },\n\n    __sendValue(value, on) {\n      const ev = new CustomEvent('sendState', {\n        detail: {\n          value: value,\n          source: this\n        }\n      });\n\n      this._writeAddresses\n        .filter(addr => !addr.hasAttribute('on') || addr.getAttribute('on') === on)\n        .forEach(address => address.dispatchEvent(ev));\n    }\n  },\n\n  defer(QxClass) {\n    customElements.define(\n      cv.ui.structure.tile.Controller.PREFIX + 'spinner',\n      class extends QxConnector {\n        constructor() {\n          super(QxClass);\n        }\n      }\n    );\n  }\n});\n","/* Value.js\n *\n * copyright (c) 2010-2022, Christian Mayer and the CometVisu contributers.\n *\n * This program is free software; you can redistribute it and/or modify it\n * under the terms of the GNU General Public License as published by the Free\n * Software Foundation; either version 3 of the License, or (at your option)\n * any later version.\n *\n * This program is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for\n * more details.\n *\n * You should have received a copy of the GNU General Public License along\n * with this program; if not, write to the Free Software Foundation, Inc.,\n * 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA\n */\n\n/**\n * Shows a value from the backend, as label or image/icon\n * @author Tobias Bräutigam\n * @since 2022\n */\nqx.Class.define('cv.ui.structure.tile.components.Value', {\n  extend: cv.ui.structure.tile.components.AbstractComponent,\n  include: [cv.ui.structure.tile.MVisibility, cv.ui.structure.tile.MResize],\n  /*\n  ***********************************************\n    MEMBERS\n  ***********************************************\n  */\n  members: {\n    _queuedOverflowDetection: null,\n    _debouncedDetectOverflow: null,\n\n    _init() {\n      super._init();\n      this._debouncedDetectOverflow = qx.util.Function.debounce(this._detectOverflow, 20);\n\n      const target = this._element.querySelector('.value');\n      if (target && target.tagName.toLowerCase() === 'label') {\n        // check for overflowing text, when labels parent gets resized\n        this.setResizeTarget(this._element);\n        this.addListener('resized', this._debouncedDetectOverflow, this);\n      }\n    },\n\n    _applyVisible(visible) {\n      if (visible) {\n        if (this._queuedOverflowDetection) {\n          this._debouncedDetectOverflow();\n        }\n      } else {\n        const target = this._element.querySelector('.value');\n        if (target && target.classList.contains('scroll')) {\n          target.classList.remove('scroll');\n        }\n      }\n    },\n\n    _detectOverflow() {\n      const target = this._element.querySelector('.value');\n      if (this.isVisible()) {\n        this._queuedOverflowDetection = false;\n        if (target.clientWidth > target.parentElement.clientWidth) {\n          target.classList.add('scroll');\n        } else {\n          target.classList.remove('scroll');\n        }\n      } else {\n        this._queuedOverflowDetection = true;\n      }\n    },\n\n    _updateValue(mappedValue, value) {\n      const target = this._element.querySelector('.value');\n      let styleClass = '';\n      if (target) {\n        const tagName = target.tagName.toLowerCase();\n        switch (tagName) {\n          case 'cv-icon':\n            target._instance.setId(mappedValue);\n            if (this._element.hasAttribute('styling')) {\n              styleClass = cv.Application.structureController.styleValue(\n                this._element.getAttribute('styling'),\n                value,\n                this.__store\n              );\n            }\n            target._instance.setStyleClass(styleClass);\n            break;\n          case 'meter':\n            target.setAttribute('value', mappedValue);\n            target.innerHTML = '' + mappedValue;\n            break;\n          case 'cv-round-progress':\n            if (typeof value === 'string') {\n              value = parseInt(value);\n            }\n            target._instance.setProgress(value);\n            target._instance.setText('' + mappedValue);\n            break;\n          case 'label':\n            target.innerHTML = mappedValue;\n            this._debouncedDetectOverflow();\n            break;\n        }\n      }\n    }\n  },\n\n  defer(QxClass) {\n    customElements.define(\n      cv.ui.structure.tile.Controller.PREFIX + 'value',\n      class extends QxConnector {\n        constructor() {\n          super(QxClass);\n        }\n      }\n    );\n  }\n});\n","/* Backend.js\n *\n * copyright (c) 2010-2022, Christian Mayer and the CometVisu contributers.\n *\n * This program is free software; you can redistribute it and/or modify it\n * under the terms of the GNU General Public License as published by the Free\n * Software Foundation; either version 3 of the License, or (at your option)\n * any later version.\n *\n * This program is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for\n * more details.\n *\n * You should have received a copy of the GNU General Public License along\n * with this program; if not, write to the Free Software Foundation, Inc.,\n * 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA\n */\n\n/**\n * <cv-backend> Custom element to define a backend connection\n */\nqx.Class.define('cv.ui.structure.tile.elements.Backend', {\n  extend: cv.ui.structure.tile.elements.AbstractCustomElement,\n\n  /*\n  ***********************************************\n    MEMBERS\n  ***********************************************\n  */\n  members: {\n    _name: null,\n    __applyValues: null,\n\n    _init() {\n      const element = this._element;\n      const type = element.getAttribute('type');\n      const uriString = element.hasAttribute('uri') ? element.getAttribute('uri') : '';\n      let uri;\n      if (uriString) {\n        try {\n          uri = new URL(uriString, window.location.origin + window.location.pathname);\n        } catch (e) {\n          this.error('Error parsing uri: ' + uriString);\n        }\n      }\n\n      if (type) {\n        let credentials = null;\n        if (element.hasAttribute('username')) {\n          credentials = {\n            username: element.getAttribute('username'),\n            password: element.getAttribute('password') || ''\n          };\n        } else if (uri && uri.username) {\n          credentials = {\n            username: uri.username,\n            password: uri.password\n          };\n        }\n        const model = cv.data.Model.getInstance();\n        let backendUrl = uri ? uri.toString() : null;\n        let backendUrlConfigKey;\n        switch (type) {\n          case 'knxd':\n            backendUrlConfigKey = 'backendKnxdUrl';\n            break;\n          case 'openhab':\n            backendUrlConfigKey = 'backendOpenHABUrl';\n            break;\n          case 'mqtt':\n            backendUrlConfigKey = 'backendMQTTUrl';\n            break;\n        }\n\n        if (backendUrlConfigKey) {\n          // override by URL settings\n          if (cv.Config.URL[backendUrlConfigKey]) {\n            backendUrl = cv.Config.URL[backendUrlConfigKey];\n          } else if (!backendUrl && cv.Config.server[backendUrlConfigKey]) {\n            backendUrl = cv.Config.server[backendUrlConfigKey];\n          }\n        }\n        let name = type;\n        if (element.hasAttribute('name')) {\n          name = element.getAttribute('name');\n        } else if (!cv.io.BackendConnections.hasClient('main')) {\n          // we need one main backend\n          name = 'main';\n        } else if (cv.io.BackendConnections.getClient('main').configuredIn === 'config') {\n          qx.log.Logger.warn(\n            this,\n            `there is already a backend registered with name \"main\" and type ${type} skipping this one`\n          );\n\n          return;\n        }\n        qx.log.Logger.debug(this, 'init backend', name);\n        if (cv.io.BackendConnections.hasClient(name)) {\n          const notification = {\n            topic: 'cv.config.error',\n            title: qx.locale.Manager.tr('Config error'),\n            message: qx.locale.Manager.tr('There already exists a backend named: \"%1\"', name),\n\n            severity: 'urgent',\n            unique: true,\n            deletable: true\n          };\n\n          cv.core.notifications.Router.dispatchMessage(notification.topic, notification);\n\n          return;\n        }\n        const client = cv.io.BackendConnections.addBackendClient(name, type, backendUrl, 'config');\n\n        this._client = client;\n        this._name = name;\n        this.__applyValues = [];\n        client.update = data => model.updateFrom(name, data); // override clients update function\n        client.login(true, credentials, () => {\n          this.debug(name, 'connected');\n          if (element.hasAttribute('default') && element.getAttribute('default') === 'true') {\n            model.setDefaultBackendName(name);\n          }\n          const doSubscribe = () => {\n            for (const [address, value] of this.__applyValues) {\n              this.debug(name, 'apply update', address, value);\n              model.onUpdate(address, value, name);\n            }\n            const addressesToSubscribe = model.getAddresses(name);\n            this.debug(name, 'subscribing to', addressesToSubscribe.length, 'addresses');\n\n            if (addressesToSubscribe.length !== 0) {\n              client.subscribe(addressesToSubscribe);\n            }\n          };\n          if (cv.TemplateEngine.getInstance().isDomFinished()) {\n            doSubscribe();\n          } else {\n            qx.event.message.Bus.subscribe(\n              'setup.dom.finished',\n              function () {\n                doSubscribe();\n              },\n              this\n            );\n          }\n        });\n\n        for (const data of element.querySelectorAll(':scope > cv-data')) {\n          if (data.hasAttribute('address')) {\n            let value = data.textContent.trim();\n            if (data.hasAttribute('transform')) {\n              const encoding = data.getAttribute('transform');\n              const encodedValue = cv.Transform.encodeBusAndRaw({ transform: encoding }, value);\n\n              value = encodedValue.bus;\n            }\n            this.__applyValues.push([data.getAttribute('address'), value]);\n          }\n        }\n      } else {\n        this.error('<cv-backend> must have a type attribute');\n      }\n    },\n\n    _disconnected() {\n      if (this._client) {\n        const model = cv.data.Model.getInstance();\n        if (this._element.hasAttribute('default') && this._element.getAttribute('default') === 'true') {\n          model.resetDefaultBackendName();\n        }\n        this._client.terminate();\n        cv.io.BackendConnections.removeClient(this._client);\n        this._client.dispose();\n        this._client = null;\n      }\n    }\n  },\n\n  defer(Clazz) {\n    customElements.define(\n      cv.ui.structure.tile.Controller.PREFIX + 'backend',\n      class extends QxConnector {\n        constructor() {\n          super(Clazz);\n        }\n      }\n    );\n  }\n});\n","/* Loader.js\n *\n * copyright (c) 2010-2022, Christian Mayer and the CometVisu contributers.\n *\n * This program is free software; you can redistribute it and/or modify it\n * under the terms of the GNU General Public License as published by the Free\n * Software Foundation; either version 3 of the License, or (at your option)\n * any later version.\n *\n * This program is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for\n * more details.\n *\n * You should have received a copy of the GNU General Public License along\n * with this program; if not, write to the Free Software Foundation, Inc.,\n * 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA\n */\n\n/**\n * Loads external content like CSS/JS files, config-content or a template file.\n *\n *  @author Tobias Bräutigam\n *  @since 2022\n */\nqx.Class.define('cv.ui.structure.tile.elements.Loader', {\n  extend: cv.ui.structure.tile.elements.AbstractCustomElement,\n\n  /*\n  ***********************************************\n    MEMBERS\n  ***********************************************\n  */\n  members: {\n    _init() {\n      const element = this._element;\n      const type = element.getAttribute('type');\n      const src = element.getAttribute('src');\n      let loaderElement;\n      if (src) {\n        switch (type) {\n          case 'css':\n            loaderElement = document.createElement('link');\n            loaderElement.setAttribute('type', 'text/css');\n            loaderElement.setAttribute('rel', 'stylesheet');\n            loaderElement.setAttribute('href', src);\n            break;\n\n          case 'js':\n            loaderElement = document.createElement('script');\n            loaderElement.setAttribute('type', 'text/javascript');\n            loaderElement.setAttribute('src', src);\n            break;\n\n          case 'templates':\n            this.loadXml(src, type);\n            break;\n        }\n\n        if (loaderElement) {\n          element.appendChild(loaderElement);\n        }\n      }\n    },\n\n    loadXml(uri) {\n      const ajaxRequest = new qx.io.request.Xhr(uri);\n      ajaxRequest.set({\n        accept: 'application/xml',\n        cache: !cv.Config.forceReload\n      });\n\n      ajaxRequest.addListenerOnce('success', function (e) {\n        let content = e.getTarget().getResponse();\n        let htmlContent = content;\n        const target = cv.Application.structureController.getRenderTarget();\n        // we need the documents to be in HTML namespace\n        if (!htmlContent.documentElement.xmlns) {\n          let text = e.getTarget().getResponseText();\n          text = text.replace('<templates', '<templates xmlns=\"http://www.w3.org/1999/xhtml\"');\n\n          const parser = new DOMParser();\n          htmlContent = parser.parseFromString(text, 'text/xml');\n        }\n        let child;\n        while ((child = htmlContent.documentElement.firstElementChild)) {\n          target.appendChild(child);\n        }\n        // register custom elements for templates in this document\n        cv.Application.structureController.registerTemplates(content);\n      });\n      ajaxRequest.addListener('statusError', e => {\n        const status = e.getTarget().getTransport().status;\n        if (!qx.util.Request.isSuccessful(status)) {\n          this.handleError('filenotfound', ajaxRequest.getUrl());\n        } else {\n          this.handleError(status, null);\n        }\n      });\n\n      ajaxRequest.send();\n    },\n\n    handleError(textStatus, additionalErrorInfo) {\n      const title = qx.locale.Manager.tr('File Error!').translate().toString();\n      let message = '';\n      let actions;\n      switch (textStatus) {\n        case 'parsererror':\n          message = qx.locale.Manager.tr('Invalid XML file!');\n          break;\n        case 'filenotfound':\n          message = qx.locale.Manager.tr('404: File not found, %1.', additionalErrorInfo).translate().toString();\n          break;\n        default:\n          message = qx.locale.Manager.tr('Unhandled error of type \"%1\"', textStatus).translate().toString();\n          if (additionalErrorInfo) {\n            message += ': ' + additionalErrorInfo;\n          } else {\n            message += '.';\n          }\n      }\n\n      const notification = {\n        topic: 'cv.error',\n        title: title,\n        message: message\n      };\n\n      if (actions) {\n        notification.actions = actions;\n      }\n      cv.core.notifications.Router.dispatchMessage(notification.topic, notification);\n\n      this.error(this, message.toString());\n    }\n  },\n\n  defer(Clazz) {\n    customElements.define(\n      cv.ui.structure.tile.Controller.PREFIX + 'loader',\n      class extends QxConnector {\n        constructor() {\n          super(Clazz);\n        }\n      }\n    );\n  }\n});\n","/* Mapping.js\n *\n * copyright (c) 2010-2022, Christian Mayer and the CometVisu contributers.\n *\n * This program is free software; you can redistribute it and/or modify it\n * under the terms of the GNU General Public License as published by the Free\n * Software Foundation; either version 3 of the License, or (at your option)\n * any later version.\n *\n * This program is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for\n * more details.\n *\n * You should have received a copy of the GNU General Public License along\n * with this program; if not, write to the Free Software Foundation, Inc.,\n * 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA\n */\n\n/**\n * Mapping maps a value to another value that can be used to show e.g. the current state.\n * @author Tobias Bräutigam\n * @since 2022\n */\nqx.Class.define('cv.ui.structure.tile.elements.Mapping', {\n  extend: cv.ui.structure.tile.elements.AbstractCustomElement,\n\n  /*\n  ***********************************************\n    CONSTRUCTOR\n  ***********************************************\n  */\n  construct(element) {\n    super(element);\n    this.__cache = {};\n  },\n\n  /*\n  ***********************************************\n    MEMBERS\n  ***********************************************\n  */\n  members: {\n    __cache: null,\n\n    _applyConnected(value, oldValue, name) {\n      super._applyConnected(value, oldValue, name);\n      // avoid adding styling elements here as they inherit this method but call the super method too\n      if (this._element.tagName.toLowerCase().endsWith('mapping')) {\n        if (value) {\n          cv.Application.structureController.addMapping(this._element.getAttribute('name'), this);\n        } else {\n          cv.Application.structureController.removeMapping(this._element.getAttribute('name'));\n        }\n      }\n    },\n\n    /**\n     *\n     * @param val {variant}\n     * @param store {Map<string, variant>?} optional stored values from other addresses\n     * @return {string|*|string}\n     */\n    mapValue(val, store) {\n      if (Object.prototype.hasOwnProperty.call(this.__cache, val)) {\n        return this.__cache[val];\n      }\n      let mappedValue = '' + val;\n      const exactMatch = this._element.querySelector(':scope > entry[value=\"' + val + '\"]');\n\n      let type = this._element.hasAttribute('type') ? this._element.getAttribute('type') : 'string';\n      if (exactMatch) {\n        mappedValue = this._convert(exactMatch.innerHTML.trim(), type);\n        this.__cache[val] = mappedValue;\n        return mappedValue;\n      }\n      const formula = this._element.querySelector(':scope > formula');\n      if (formula) {\n        if (!formula._formula) {\n          let content = formula.textContent;\n          formula._formula = new Function('x', 'store', 'let y;' + content + '; return y;');\n        }\n        mappedValue = this._convert(formula._formula(val, store), type);\n        return mappedValue;\n      }\n      const entries = this._element.querySelectorAll(':scope > entry');\n      let defaultValue = null;\n\n      const mapped = Array.from(entries).some(entry => {\n        let matches = false;\n        let isDefaultValue = entry.hasAttribute('default') && entry.getAttribute('default') === 'true';\n        if (entry.hasAttribute('value')) {\n          const value = entry.getAttribute('value');\n          if (value === (val ? val : 'NULL') || value === '*') {\n            mappedValue = this._convert(entry.innerHTML.trim(), type);\n            matches = true;\n          }\n          if (isDefaultValue) {\n            defaultValue = this._convert(value, type);\n          }\n        } else if (entry.hasAttribute('range-min')) {\n          const rangeMin = parseFloat(entry.getAttribute('range-min'));\n          const rangeMax = entry.hasAttribute('range-max')\n            ? parseFloat(entry.getAttribute('range-max'))\n            : Number.POSITIVE_INFINITY;\n          const floatValue = parseFloat(val);\n          if (rangeMin <= floatValue && floatValue <= rangeMax) {\n            mappedValue = this._convert(entry.innerHTML.trim(), type);\n            matches = true;\n          }\n          if (isDefaultValue) {\n            defaultValue = rangeMin;\n          }\n        }\n        return matches;\n      });\n      if (!mapped && defaultValue !== null) {\n        mappedValue = this.mapValue(defaultValue);\n      }\n      this.__cache[val] = mappedValue;\n      return mappedValue;\n    },\n\n    _convert(value, type) {\n      switch (type.toLowerCase()) {\n        case 'boolean':\n          return value === 'true';\n        case 'integer':\n          return parseInt(value);\n        case 'float':\n          return parseFloat(value);\n        default:\n          return value;\n      }\n    }\n  },\n\n  /*\n  ***********************************************\n    DESTRUCTOR\n  ***********************************************\n  */\n  destruct() {\n    this.__cache = null;\n  },\n\n  defer(Clazz) {\n    customElements.define(\n      cv.ui.structure.tile.Controller.PREFIX + 'mapping',\n      class extends QxConnector {\n        constructor() {\n          super(Clazz);\n        }\n      }\n    );\n  }\n});\n","/* Styling.js\n *\n * copyright (c) 2010-2022, Christian Mayer and the CometVisu contributers.\n *\n * This program is free software; you can redistribute it and/or modify it\n * under the terms of the GNU General Public License as published by the Free\n * Software Foundation; either version 3 of the License, or (at your option)\n * any later version.\n *\n * This program is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for\n * more details.\n *\n * You should have received a copy of the GNU General Public License along\n * with this program; if not, write to the Free Software Foundation, Inc.,\n * 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA\n */\n\n/**\n * Styling maps a value to another value that can be used to style a component\n * @author Tobias Bräutigam\n * @since 2022\n */\nqx.Class.define('cv.ui.structure.tile.elements.Styling', {\n  extend: cv.ui.structure.tile.elements.Mapping,\n\n  /*\n  ***********************************************\n    MEMBERS\n  ***********************************************\n  */\n  members: {\n    _applyConnected(value, oldValue, name) {\n      super._applyConnected(value, oldValue, name);\n      if (value) {\n        cv.Application.structureController.addStyling(this._element.getAttribute('name'), this);\n      } else {\n        cv.Application.structureController.removeStyling(this._element.getAttribute('name'));\n      }\n    }\n  },\n\n  defer(Clazz) {\n    customElements.define(\n      cv.ui.structure.tile.Controller.PREFIX + 'styling',\n      class extends QxConnector {\n        constructor() {\n          super(Clazz);\n        }\n      }\n    );\n  }\n});\n","/* Group.js\n *\n * copyright (c) 2010-2022, Christian Mayer and the CometVisu contributers.\n *\n * This program is free software; you can redistribute it and/or modify it\n * under the terms of the GNU General Public License as published by the Free\n * Software Foundation; either version 3 of the License, or (at your option)\n * any later version.\n *\n * This program is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for\n * more details.\n *\n * You should have received a copy of the GNU General Public License along\n * with this program; if not, write to the Free Software Foundation, Inc.,\n * 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA\n */\n\n/**\n * Creates a group of widgets that can be hidden (works like the <detail> HTML Element)\n *\n * @author Tobias Bräutigam\n * @since 2022\n */\nqx.Class.define('cv.ui.structure.tile.widgets.Group', {\n  extend: cv.ui.structure.tile.components.AbstractComponent,\n\n  /*\n   ******************************************************\n   MEMBERS\n   ******************************************************\n   */\n  members: {\n    _init() {\n      super._init();\n      const element = this._element;\n      let label = null;\n      let summary = null;\n      const needsSummary = element.hasAttribute('name') || element.hasAttribute('icon');\n      if (needsSummary) {\n        summary = element.querySelector(':scope > summary');\n        if (!summary) {\n          summary = document.createElement('summary');\n          element.insertBefore(summary, element.firstChild);\n        }\n        if (element.hasAttribute('name')) {\n          label = element.querySelector(':scope > summary > label.title');\n          if (!label) {\n            label = document.createElement('label');\n            label.classList.add('title');\n            summary.insertBefore(label, summary.firstChild);\n          }\n          label.classList.add('last-of-title');\n          label.textContent = element.getAttribute('name');\n        }\n        if (element.hasAttribute('icon')) {\n          let icon = element.querySelector(':scope > summary > cv-icon.title');\n          if (!icon) {\n            icon = document.createElement('cv-icon');\n            icon.classList.add('title');\n            summary.insertBefore(icon, summary.firstChild);\n          }\n          if (!label) {\n            icon.classList.add('last-of-title');\n          }\n          icon.classList.add(element.getAttribute('icon'));\n        }\n      }\n      const empty = !element.querySelector(':scope > *:not(summary)');\n      if (empty) {\n        element.classList.add('empty');\n      } else if (summary) {\n        qx.event.Registration.addListener(summary, 'click', this._toggleOpen, this);\n      }\n    },\n\n    _toggleOpen() {\n      if (this._element.hasAttribute('open')) {\n        this._element.removeAttribute('open');\n      } else {\n        this._element.setAttribute('open', 'true');\n      }\n    },\n\n    /**\n     * Handles the incoming data from the backend for this widget\n     *\n     * @param ev {CustomEvent} stateUpdate event fired from a cv-address component\n     */\n    onStateUpdate(ev) {\n      if (!super.onStateUpdate(ev)) {\n        if (ev.detail.target === 'summary') {\n          let target = this._element.querySelector(':scope > summary > label.value');\n\n          if (!target) {\n            target = document.createElement('label');\n            target.classList.add('value');\n            const summary = this._element.querySelector(':scope > summary');\n            summary.appendChild(target);\n          }\n          target.textContent = ev.detail.state;\n        } else {\n          this.debug('unhandled address target', ev.detail.target);\n        }\n      }\n    }\n  },\n\n  defer(QxClass) {\n    customElements.define(\n      cv.ui.structure.tile.Controller.PREFIX + 'group',\n      class extends QxConnector {\n        constructor() {\n          super(QxClass);\n        }\n      }\n    );\n  }\n});\n","/* Page.js\n *\n * copyright (c) 2010-2022, Christian Mayer and the CometVisu contributers.\n *\n * This program is free software; you can redistribute it and/or modify it\n * under the terms of the GNU General Public License as published by the Free\n * Software Foundation; either version 3 of the License, or (at your option)\n * any later version.\n *\n * This program is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for\n * more details.\n *\n * You should have received a copy of the GNU General Public License along\n * with this program; if not, write to the Free Software Foundation, Inc.,\n * 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA\n */\n\n/**\n * Creates a new sub page and adds a corresponding link to the current page.\n *\n * @ignore(InstallTrigger)\n * @author Tobias Bräutigam\n * @since 2021\n */\nqx.Class.define('cv.ui.structure.tile.widgets.Page', {\n  extend: cv.ui.structure.tile.components.AbstractComponent,\n\n  /*\n  ***********************************************\n    PROPERTIES\n  ***********************************************\n  */\n  properties: {\n    visibility: {\n      refine: true,\n      init: 'excluded'\n    }\n  },\n\n  /*\n   ******************************************************\n   MEMBERS\n   ******************************************************\n   */\n  members: {\n    _supportsContentVisibility: null,\n\n    _init() {\n      if (typeof InstallTrigger !== 'undefined') {\n        // firefox does not support content-visibility CSS property\n        // see: https://developer.mozilla.org/en-US/docs/Web/CSS/content-visibility\n        this._element.classList.add('no-content-visibility');\n        this._supportsContentVisibility = false;\n      } else {\n        this._supportsContentVisibility = true;\n      }\n    },\n\n    _applyVisibility(value) {\n      switch (value) {\n        case 'visible':\n          if (this._supportsContentVisibility) {\n            this._element.style.contentVisibility = 'visible';\n          } else if (this._visibleDisplayMode) {\n            this._element.style.display = this._visibleDisplayMode || 'initial';\n          }\n          break;\n\n        case 'hidden':\n        case 'excluded':\n          if (this._supportsContentVisibility) {\n            this._element.style.contentVisibility = 'hidden';\n          } else {\n            this._visibleDisplayMode = getComputedStyle(this._element).getPropertyValue('display');\n            this._element.style.display = 'none';\n          }\n          break;\n      }\n    }\n  },\n\n  defer(QxClass) {\n    customElements.define(\n      cv.ui.structure.tile.Controller.PREFIX + 'page',\n      class extends QxConnector {\n        constructor() {\n          super(QxClass);\n        }\n      }\n    );\n\n    customElements.define(\n      cv.ui.structure.tile.Controller.PREFIX + 'row',\n      class extends HTMLElement {\n        constructor() {\n          super();\n          if (this.hasAttribute('colspan')) {\n            this.classList.add('colspan-' + this.getAttribute('colspan'));\n          }\n          if (this.hasAttribute('rowspan')) {\n            this.classList.add('rowspan-' + this.getAttribute('rowspan'));\n          }\n        }\n      }\n    );\n  }\n});\n","/* Popup.js\n *\n * copyright (c) 2010-2022, Christian Mayer and the CometVisu contributers.\n *\n * This program is free software; you can redistribute it and/or modify it\n * under the terms of the GNU General Public License as published by the Free\n * Software Foundation; either version 3 of the License, or (at your option)\n * any later version.\n *\n * This program is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for\n * more details.\n *\n * You should have received a copy of the GNU General Public License along\n * with this program; if not, write to the Free Software Foundation, Inc.,\n * 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA\n */\n\n/**\n * Creates a popup that contains arbitrary content and can be opened as an overlay over the current UI.\n *\n * @author Tobias Bräutigam\n * @since 2022\n */\nqx.Class.define('cv.ui.structure.tile.widgets.Popup', {\n  extend: cv.ui.structure.tile.components.AbstractComponent,\n  include: cv.ui.structure.tile.MPopup,\n\n  /*\n  ***********************************************\n    STATICS\n  ***********************************************\n  */\n  statics: {\n    openedPopups: []\n  },\n\n  /*\n   ******************************************************\n   MEMBERS\n   ******************************************************\n   */\n  members: {\n    _closeButton: null,\n\n    _init() {\n      super._init();\n      const popup = this._element;\n      const closeable = !popup.hasAttribute('closeable') || popup.getAttribute('closeable') === 'true';\n      if (closeable) {\n        this._closeButton = document.createElement('button');\n        this._closeButton.classList.add('close');\n        const icon = document.createElement('i');\n        icon.classList.add('ri-close-line');\n        this._closeButton.appendChild(icon);\n        popup.insertBefore(this._closeButton, popup.firstChild);\n        this._closeButton.addEventListener('click', () => this.close());\n      }\n      if (popup.hasAttribute('title')) {\n        const header = document.createElement('header');\n        popup.insertBefore(header, popup.firstChild);\n        const title = document.createElement('h2');\n        title.textContent = popup.getAttribute('title');\n        header.appendChild(title);\n      }\n      if (popup.hasAttribute('auto-close-timeout')) {\n        const timeoutSeconds = parseInt(popup.getAttribute('auto-close-timeout'));\n\n        if (!isNaN(timeoutSeconds)) {\n          this._autoCloseTimer = new qx.event.Timer(timeoutSeconds * 1000);\n          this._autoCloseTimer.addListener('interval', () => {\n            this._autoCloseTimer.stop();\n            this.close();\n          });\n        } else {\n          this.error('invalid auto-close-timeout value:', popup.getAttribute('auto-close-timeout'));\n        }\n      }\n    },\n\n    open() {\n      const popup = this._element;\n      if (!popup.hasAttribute('open')) {\n        popup.setAttribute('open', '');\n        if (popup.hasAttribute('modal') && popup.getAttribute('modal') === 'true') {\n          this.registerModalPopup();\n        }\n        if (this._autoCloseTimer) {\n          this._autoCloseTimer.start();\n        }\n      }\n    },\n\n    close() {\n      const popup = this._element;\n      if (popup) {\n        popup.removeAttribute('open');\n        if (popup.hasAttribute('modal') && popup.getAttribute('modal') === 'true') {\n          this.unregisterModalPopup();\n        }\n        if (this._autoCloseTimer) {\n          this._autoCloseTimer.stop();\n        }\n        popup.dispatchEvent(new CustomEvent('closed'));\n      }\n    },\n\n    /**\n     * Handles the incoming data from the backend for this widget.\n     * The popup handles the special address-targets:\n     *  - open: opens the popup when the address value is 'true' or 1 => no auto closing\n     *  - close: closes the popup when the address value is 'false' or 0 => no auto opening\n     *  - open-close: the upper both combined => popup visibility fully dependent on the address value, auto-opening + auto-closing\n     *\n     * @param ev {CustomEvent} stateUpdate event fired from an cv-address component\n     */\n    onStateUpdate(ev) {\n      if (!super.onStateUpdate(ev)) {\n        switch (ev.detail.target) {\n          case 'open':\n            if (ev.detail.state) {\n              this.open();\n            }\n            break;\n\n          case 'open-close':\n            if (ev.detail.state) {\n              this.open();\n            } else {\n              this.close();\n            }\n            break;\n\n          case 'close':\n            if (!ev.detail.state) {\n              this.close();\n            }\n            break;\n\n          default:\n            this.debug('unhandled address target', ev.detail.target);\n            break;\n        }\n      }\n    }\n  },\n\n  /*\n  ***********************************************\n    DESTRUCTOR\n  ***********************************************\n  */\n  destruct() {\n    this._disposeObjects('_autoCloseTimer');\n    if (this._closeButton) {\n      this._closeButton.remove();\n      this._closeButton = null;\n    }\n  },\n\n  defer(QxClass) {\n    customElements.define(\n      cv.ui.structure.tile.Controller.PREFIX + 'popup',\n      class extends QxConnector {\n        constructor() {\n          super(QxClass);\n        }\n      }\n    );\n  }\n});\n","/* Tile.js\n *\n * copyright (c) 2010-2022, Christian Mayer and the CometVisu contributers.\n *\n * This program is free software; you can redistribute it and/or modify it\n * under the terms of the GNU General Public License as published by the Free\n * Software Foundation; either version 3 of the License, or (at your option)\n * any later version.\n *\n * This program is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for\n * more details.\n *\n * You should have received a copy of the GNU General Public License along\n * with this program; if not, write to the Free Software Foundation, Inc.,\n * 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA\n */\n\n/**\n * Shows a tile\n */\nqx.Class.define('cv.ui.structure.tile.widgets.Tile', {\n  extend: cv.ui.structure.tile.components.AbstractComponent,\n  include: cv.ui.structure.tile.MPopup,\n\n  /*\n  ***********************************************\n    PROPERTIES\n  ***********************************************\n  */\n  properties: {\n    backgroundImage: {\n      check: 'String',\n      nullable: true,\n      apply: '_applyBackgroundImage'\n    },\n\n    /**\n     * Turn this tile into a popup\n     */\n    popup: {\n      check: 'Boolean',\n      init: false,\n      apply: '_applyPopup'\n    }\n  },\n\n  /*\n  ***********************************************\n    MEMBERS\n  ***********************************************\n  */\n  members: {\n    _fullScreenMode: null,\n\n    _init() {\n      super._init();\n      this._initPopupChild();\n      if (this._element.hasAttribute('background-image')) {\n        this.setBackgroundImage(this._element.getAttribute('background-image'));\n      }\n      if (this._childPopup) {\n        this._childPopup.addEventListener('closed', () => {\n          this.resetPopup();\n        });\n      }\n    },\n\n    _applyBackgroundImage(value) {\n      if (value) {\n        this._element.style.backgroundImage = `url(${value})`;\n        let overlay = this._element.querySelector(':scope > div.overlay');\n        if (!overlay) {\n          overlay = document.createElement('div');\n          overlay.classList.add('overlay');\n          this._element.insertBefore(overlay, this._element.firstChild);\n        }\n        this._element.classList.add('has-bg-image');\n      } else {\n        this._element.style.backgroundImage = '';\n        this._element.classList.remove('has-bg-image');\n      }\n    },\n\n    open() {\n      if (this._childPopup) {\n        this._openPopupChild();\n      } else {\n        let closeButton = this._element.querySelector(':scope > button.close');\n        if (!closeButton) {\n          closeButton = document.createElement('button');\n          closeButton.classList.add('close');\n          const icon = document.createElement('i');\n          icon.classList.add('ri-close-line');\n          closeButton.appendChild(icon);\n          this._element.appendChild(closeButton);\n          closeButton.addEventListener('click', () => this.setPopup(false));\n        }\n        closeButton.style.display = 'block';\n        this._element.classList.add('popup');\n        if (this._fullScreenMode) {\n          this._element.classList.add('fullscreen');\n        }\n        this.registerModalPopup();\n      }\n    },\n\n    close(keepState) {\n      if (!keepState) {\n        this.setPopup(false);\n      }\n      if (this._childPopup) {\n        this._closePopupChild();\n      } else {\n        this._element.classList.remove('popup');\n        if (this._fullScreenMode) {\n          this._element.classList.remove('fullscreen');\n        }\n        let closeButton = this._element.querySelector(':scope > button.close');\n        if (closeButton) {\n          closeButton.style.display = 'none';\n        }\n        this.unregisterModalPopup();\n      }\n      if (this._autoCloseTimer) {\n        this._autoCloseTimer.stop();\n      }\n      this.fireEvent('closed');\n    },\n\n    _applyPopup(value) {\n      if (value) {\n        this.open();\n      } else {\n        this.close(true);\n      }\n    },\n\n    /**\n     * Handles the incoming data from the backend for this widget\n     *\n     * @param ev {CustomEvent} stateUpdate event fired from a cv-address component\n     */\n    onStateUpdate(ev) {\n      if (!super.onStateUpdate(ev)) {\n        switch (ev.detail.target) {\n          case 'background-image':\n            this.setBackgroundImage(ev.detail.state);\n            break;\n\n          case 'popup':\n          case 'fullscreen-popup':\n            this._fullScreenMode = ev.detail.target === 'fullscreen-popup';\n            if (ev.detail.addressValue) {\n              // only open when the sent value equals the fixed value\n              // noinspection EqualityComparisonWithCoercionJS\n              if (ev.detail.addressValue == ev.detail.state) {\n                this.setPopup(true);\n                // this is not closing by address, so we set a close timeout to 3 minutes\n                if (!this._autoCloseTimer) {\n                  this._autoCloseTimer = new qx.event.Timer(180 * 1000);\n                  this._autoCloseTimer.addListener('interval', this.close, this);\n                }\n                this._autoCloseTimer.restart();\n              }\n            } else {\n              // open / close depending on value\n              // noinspection EqualityComparisonWithCoercionJS\n              this.setPopup(ev.detail.state == 1);\n            }\n            break;\n\n          default:\n            this.debug('unhandled address target', ev.detail.target);\n        }\n      }\n    }\n  },\n\n  defer(QxClass) {\n    customElements.define(\n      cv.ui.structure.tile.Controller.PREFIX + 'tile',\n      class extends QxConnector {\n        constructor() {\n          super(QxClass);\n        }\n      }\n    );\n  }\n});\n"],"mappings":"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"}