/*!-----------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.40.0(83b3cf23ca80c94cccca7c5b3e48351b220f8e35)
 * Released under the MIT license
 * https://github.com/microsoft/vscode/blob/main/LICENSE.txt
 *-----------------------------------------------------------*/(function(){var X=["exports","require","vs/base/common/lifecycle","vs/nls","vs/nls!vs/editor/editor.main","vs/editor/common/core/range","vs/base/common/event","vs/base/browser/dom","vs/platform/instantiation/common/instantiation","vs/base/common/strings","vs/css!vs/editor/editor.main","vs/editor/common/core/position","vs/base/common/errors","vs/platform/contextkey/common/contextkey","vs/base/common/async","vs/editor/browser/editorExtensions","vs/base/common/arrays","vs/base/common/platform","vs/base/common/types","vs/editor/common/services/languageFeatures","vs/base/common/cancellation","vs/base/common/uri","vs/editor/common/editorContextKeys","vs/platform/theme/common/themeService","vs/editor/common/core/selection","vs/base/common/codicons","vs/platform/commands/common/commands","vs/base/common/themables","vs/platform/configuration/common/configuration","vs/editor/common/languages","vs/editor/common/languages/languageConfigurationRegistry","vs/platform/actions/common/actions","vs/editor/browser/services/codeEditorService","vs/platform/theme/common/colorRegistry","vs/base/browser/fastDomNode","vs/editor/common/config/editorOptions","vs/base/common/color","vs/platform/keybinding/common/keybinding","vs/platform/registry/common/platform","vs/editor/common/model/textModel","vs/base/common/actions","vs/editor/common/languages/language","vs/base/common/observable","vs/base/common/resources","vs/platform/notification/common/notification","vs/base/browser/keyboardEvent","vs/base/common/objects","vs/editor/common/model","vs/platform/instantiation/common/extensions","vs/editor/common/services/model","vs/base/common/iterator","vs/base/browser/browser","vs/editor/browser/view/viewPart","vs/base/common/network","vs/base/browser/ui/aria/aria","vs/base/common/htmlContent","vs/platform/opener/common/opener","vs/platform/contextview/browser/contextView","vs/base/common/stopwatch","vs/editor/browser/config/domFontInfo","vs/base/browser/touch","vs/platform/theme/common/iconRegistry","vs/base/common/keyCodes","vs/base/common/linkedList","vs/base/common/map","vs/editor/common/core/lineRange","vs/editor/common/viewModel","vs/base/browser/ui/actionbar/actionbar","vs/editor/common/services/resolverService","vs/platform/log/common/log","vs/base/common/filters","vs/editor/common/core/editOperation","vs/editor/common/cursorCommon","vs/base/browser/mouseEvent","vs/base/browser/ui/scrollbar/scrollableElement","vs/editor/common/services/languageFeatureDebounce","vs/platform/quickinput/common/quickInput","vs/editor/common/languages/modesRegistry","vs/platform/telemetry/common/telemetry","vs/editor/common/core/editorColorRegistry","vs/base/browser/event","vs/editor/common/core/cursorColumns","vs/base/browser/ui/widget","vs/platform/progress/common/progress","vs/base/common/assert","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/length","vs/editor/common/tokens/lineTokens","vs/platform/storage/common/storage","vs/platform/theme/common/theme","vs/base/browser/trustedTypes","vs/base/common/observableImpl/autorun","vs/base/common/path","vs/editor/common/core/stringBuilder","vs/editor/common/standaloneStrings","vs/editor/common/viewLayout/viewLineRenderer","vs/platform/clipboard/common/clipboardService","vs/platform/accessibility/common/accessibility","vs/platform/markers/common/markers","vs/base/common/functional","vs/base/common/lazy","vs/editor/contrib/hover/browser/hoverTypes","vs/platform/configuration/common/configurationRegistry","vs/editor/contrib/editorState/browser/editorState","vs/platform/theme/browser/defaultStyles","vs/base/common/decorators","vs/base/common/mime","vs/base/common/observableImpl/base","vs/base/common/severity","vs/editor/browser/stableEditorScroll","vs/editor/common/languages/languageConfiguration","vs/editor/common/textModelEvents","vs/editor/browser/view/dynamicViewOverlay","vs/editor/contrib/codeAction/common/types","vs/base/browser/ui/list/listWidget","vs/editor/common/services/editorWorker","vs/editor/contrib/markdownRenderer/browser/markdownRenderer","vs/platform/keybinding/common/keybindingsRegistry","vs/base/common/keybindings","vs/base/common/iconLabels","vs/editor/common/core/characterClassifier","vs/editor/common/core/eolCounter","vs/editor/common/core/offsetRange","vs/editor/common/commands/replaceCommand","vs/editor/common/diff/linesDiffComputer","vs/editor/common/encodedTokenAttributes","vs/editor/common/languages/supports","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/smallImmutableSet","vs/editor/common/viewLayout/lineDecorations","vs/editor/contrib/snippet/browser/snippetParser","vs/base/browser/ui/iconLabel/iconLabels","vs/base/browser/ui/sash/sash","vs/editor/browser/services/bulkEditService","vs/editor/standalone/common/standaloneTheme","vs/platform/layout/browser/layoutService","vs/platform/quickinput/common/quickAccess","vs/editor/contrib/codeAction/browser/codeAction","vs/editor/contrib/peekView/browser/peekView","vs/base/browser/ui/tree/tree","vs/base/common/buffer","vs/base/common/numbers","vs/base/common/observableImpl/logging","vs/base/common/hash","vs/editor/browser/view/renderingContext","vs/editor/browser/widget/diffEditorWidget2/utils","vs/editor/common/config/editorZoom","vs/editor/common/core/wordCharacterClassifier","vs/editor/common/core/wordHelper","vs/editor/common/editorCommon","vs/editor/common/editorFeatures","vs/editor/common/viewEventHandler","vs/editor/contrib/inlineCompletions/browser/utils","vs/base/browser/globalPointerMoveMonitor","vs/base/browser/ui/toggle/toggle","vs/base/browser/ui/actionbar/actionViewItems","vs/editor/common/languages/nullTokenize","vs/editor/contrib/gotoSymbol/browser/referencesModel","vs/platform/audioCues/browser/audioCueService","vs/platform/dialogs/common/dialogs","vs/platform/instantiation/common/serviceCollection","vs/platform/label/common/label","vs/editor/contrib/suggest/browser/suggest","vs/editor/browser/editorDom","vs/platform/actions/browser/menuEntryActionViewItem","vs/editor/browser/widget/codeEditorWidget","vs/editor/browser/widget/embeddedCodeEditorWidget","vs/platform/workspace/common/workspace","vs/base/common/idGenerator","vs/base/common/observableImpl/derived","vs/base/common/range","vs/base/common/scrollable","vs/base/common/diff/diff","vs/base/common/uint","vs/base/common/uuid","vs/base/common/dataTransfer","vs/base/browser/ui/codicons/codiconStyles","vs/base/browser/ui/mouseCursor/mouseCursor","vs/css!vs/platform/quickinput/browser/media/quickInput","vs/editor/common/core/textModelDefaults","vs/editor/common/diff/algorithms/diffAlgorithm","vs/editor/browser/editorBrowser","vs/editor/common/cursor/cursorWordOperations","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/beforeEditPositionMapper","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/ast","vs/editor/common/model/textModelSearch","vs/editor/contrib/folding/browser/foldingRanges","vs/base/browser/markdownRenderer","vs/base/browser/ui/tree/abstractTree","vs/editor/contrib/gotoSymbol/browser/link/clickLinkGesture","vs/editor/common/services/textResourceConfiguration","vs/editor/contrib/documentSymbols/browser/outlineModel","vs/editor/browser/coreCommands","vs/editor/contrib/message/browser/messageController","vs/platform/list/browser/listService","vs/platform/undoRedo/common/undoRedo","vs/editor/contrib/find/browser/findModel","vs/editor/contrib/snippet/browser/snippetController2","vs/base/browser/dnd","vs/base/common/ternarySearchTree","vs/css!vs/editor/contrib/colorPicker/browser/colorPicker","vs/editor/browser/config/elementSizeObserver","vs/editor/browser/config/tabFocus","vs/editor/common/core/indentation","vs/editor/common/cursor/cursorMoveOperations","vs/editor/common/cursor/cursorDeleteOperations","vs/editor/common/cursor/cursorMoveCommands","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/tokenizer","vs/editor/common/model/utils","vs/editor/common/standalone/standaloneEnums","vs/editor/common/textModelGuides","vs/editor/browser/viewParts/glyphMargin/glyphMargin","vs/editor/common/viewEvents","vs/editor/common/viewModel/overviewZoneManager","vs/editor/common/viewModelEventDispatcher","vs/editor/contrib/inlineCompletions/browser/commandIds","vs/editor/contrib/inlineCompletions/browser/ghostText","vs/editor/contrib/stickyScroll/browser/stickyScrollElement","vs/base/common/keybindingLabels","vs/base/browser/canIUse","vs/base/browser/ui/tree/indexTreeModel","vs/base/browser/ui/tree/objectTreeModel","vs/base/common/extpath","vs/base/common/marshalling","vs/base/browser/ui/keybindingLabel/keybindingLabel","vs/base/browser/ui/resizable/resizable","vs/base/browser/ui/scrollbar/scrollbarArrow","vs/base/browser/ui/list/listView","vs/base/browser/ui/iconLabel/iconLabel","vs/base/browser/ui/inputbox/inputBox","vs/base/browser/ui/findinput/findInput","vs/editor/browser/controller/textAreaInput","vs/editor/browser/view/viewLayer","vs/editor/common/languages/supports/richEditBrackets","vs/editor/common/config/fontInfo","vs/platform/instantiation/common/descriptors","vs/editor/common/services/markerDecorations","vs/editor/common/services/semanticTokensStyling","vs/editor/contrib/inlineCompletions/browser/inlineCompletionContextKeys","vs/editor/contrib/parameterHints/browser/provideSignatureHelp","vs/editor/browser/widget/diffNavigator","vs/platform/contextkey/common/contextkeys","vs/platform/environment/common/environment","vs/platform/jsonschemas/common/jsonContributionRegistry","vs/editor/browser/services/editorWorkerService","vs/editor/common/languages/autoIndent","vs/editor/common/languages/enterAction","vs/editor/common/commands/shiftCommand","vs/editor/common/cursor/cursorTypeOperations","vs/editor/contrib/gotoSymbol/browser/goToSymbol","vs/editor/contrib/hover/browser/markdownHoverParticipant","vs/editor/contrib/symbolIcons/browser/symbolIcons","vs/editor/contrib/codeAction/browser/codeActionController","vs/editor/common/services/semanticTokensProviderStyling","vs/editor/contrib/inlineCompletions/browser/inlineCompletionsHintsWidget","vs/editor/browser/widget/diffEditorWidget","vs/editor/contrib/inlineProgress/browser/inlineProgress","vs/editor/contrib/gotoSymbol/browser/goToCommands","vs/editor/contrib/inlineCompletions/browser/inlineCompletionsController","vs/editor/standalone/browser/standaloneServices","vs/base/browser/performance","vs/base/browser/ui/scrollbar/scrollbarState","vs/base/common/cache","vs/base/common/ime","vs/base/common/symbols","vs/css!vs/base/browser/ui/actionbar/actionbar","vs/css!vs/base/browser/ui/dropdown/dropdown","vs/css!vs/base/browser/ui/findinput/findInput","vs/css!vs/base/browser/ui/list/list","vs/css!vs/platform/actionWidget/browser/actionWidget","vs/editor/browser/viewParts/minimap/minimapCharSheet","vs/editor/browser/widget/diffEditorWidget2/movedBlocksLines","vs/editor/browser/view/viewUserInputEvents","vs/editor/browser/controller/textAreaState","vs/editor/common/core/rgba","vs/editor/common/cursor/cursorAtomicMoveOperations","vs/editor/common/diff/standardLinesDiffComputer","vs/editor/common/editorAction","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/combineTextEditInfos","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/parser","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/brackets","vs/editor/common/model/prefixSumComputer","vs/editor/common/model/textModelPart","vs/editor/common/model/pieceTreeTextBuffer/pieceTreeBase","vs/editor/common/modelLineProjectionData","vs/editor/common/services/treeViewsDnd","vs/editor/common/services/unicodeTextModelHighlighter","vs/editor/common/model/guidesTextModelPart","vs/editor/common/tokens/contiguousMultilineTokensBuilder","vs/editor/browser/viewParts/margin/margin","vs/editor/contrib/comment/browser/blockCommentCommand","vs/editor/contrib/folding/browser/indentRangeProvider","vs/editor/contrib/folding/browser/syntaxRangeProvider","vs/editor/contrib/format/browser/formattingEdit","vs/editor/contrib/indentation/browser/indentUtils","vs/editor/contrib/inlineCompletions/browser/singleTextEdit","vs/editor/contrib/semanticTokens/common/semanticTokensConfig","vs/editor/contrib/smartSelect/browser/bracketSelections","vs/editor/contrib/suggest/browser/completionModel","vs/editor/contrib/suggest/browser/wordDistance","vs/editor/standalone/common/monarch/monarchCommon","vs/base/common/glob","vs/base/browser/dompurify/dompurify","vs/base/browser/formattedTextRenderer","vs/base/browser/ui/contextview/contextview","vs/base/browser/ui/countBadge/countBadge","vs/base/browser/ui/highlightedlabel/highlightedLabel","vs/base/browser/ui/scrollbar/abstractScrollbar","vs/base/browser/ui/hover/hoverWidget","vs/base/browser/ui/splitview/splitview","vs/base/browser/ui/findinput/findInputToggles","vs/base/browser/ui/button/button","vs/base/browser/ui/iconLabel/iconLabelHover","vs/base/browser/ui/dropdown/dropdownActionViewItem","vs/base/browser/ui/tree/objectTree","vs/base/common/worker/simpleWorker","vs/editor/browser/widget/diffEditorWidget2/diffEditorViewModel","vs/editor/common/core/textChange","vs/editor/common/languages/textToHtmlTokenizer","vs/editor/common/model/pieceTreeTextBuffer/pieceTreeTextBuffer","vs/editor/common/services/editorBaseApi","vs/editor/common/viewModel/minimapTokensColorTracker","vs/editor/contrib/hover/browser/hoverOperation","vs/editor/contrib/inlayHints/browser/inlayHints","vs/editor/browser/config/fontMeasurements","vs/editor/common/viewModel/viewModelDecorations","vs/editor/common/model/editStack","vs/platform/files/common/files","vs/editor/contrib/codelens/browser/codelens","vs/editor/contrib/semanticTokens/common/getSemanticTokens","vs/editor/standalone/common/monarch/monarchLexer","vs/editor/contrib/dropOrPasteInto/browser/postEditWidget","vs/platform/keybinding/common/keybindingResolver","vs/platform/keybinding/common/resolvedKeybindingItem","vs/editor/standalone/browser/standaloneLayoutService","vs/platform/quickinput/browser/quickInputUtils","vs/platform/dnd/browser/dnd","vs/editor/browser/dnd","vs/editor/common/config/editorConfigurationSchema","vs/editor/contrib/colorPicker/browser/defaultDocumentColorProvider","vs/editor/contrib/colorPicker/browser/color","vs/editor/contrib/suggest/browser/suggestWidgetDetails","vs/platform/configuration/common/configurationModels","vs/platform/history/browser/contextScopedHistoryWidget","vs/editor/contrib/suggest/browser/suggestMemory","vs/editor/browser/widget/workerBasedDocumentDiffProvider","vs/editor/contrib/codeAction/browser/codeActionModel","vs/editor/contrib/codeAction/browser/lightBulbWidget","vs/editor/contrib/format/browser/format","vs/editor/contrib/hover/browser/getHover","vs/editor/contrib/wordOperations/browser/wordOperations","vs/editor/browser/widget/diffReview","vs/editor/browser/viewParts/lines/viewLine","vs/editor/browser/controller/mouseTarget","vs/editor/browser/widget/diffEditorWidget2/overviewRulerPart","vs/editor/browser/viewParts/lineNumbers/lineNumbers","vs/editor/contrib/quickAccess/browser/editorNavigationQuickAccess","vs/editor/standalone/browser/standaloneCodeEditorService","vs/editor/standalone/browser/standaloneThemeService","vs/editor/browser/widget/diffEditorWidget2/decorations","vs/editor/contrib/colorPicker/browser/colorDetector","vs/editor/contrib/colorPicker/browser/colorHoverParticipant","vs/editor/contrib/find/browser/findController","vs/editor/contrib/folding/browser/folding","vs/editor/contrib/hover/browser/contentHover","vs/editor/contrib/wordHighlighter/browser/highlightDecorations","vs/editor/contrib/gotoError/browser/gotoError","vs/editor/contrib/gotoSymbol/browser/peek/referencesController","vs/editor/contrib/gotoSymbol/browser/link/goToDefinitionAtPosition","vs/editor/contrib/hover/browser/hover","vs/editor/contrib/inlayHints/browser/inlayHintsLocations","vs/editor/contrib/inlayHints/browser/inlayHintsController","vs/editor/contrib/stickyScroll/browser/stickyScrollController","vs/editor/contrib/dropOrPasteInto/browser/defaultProviders","vs/editor/contrib/snippet/browser/snippetSession","vs/editor/contrib/suggest/browser/suggestController","vs/platform/workspace/common/workspaceTrust","vs/base/browser/iframe","vs/base/browser/ui/list/list","vs/base/browser/ui/list/splice","vs/base/common/collections","vs/base/common/diff/diffChange","vs/base/common/comparers","vs/base/common/linkedText","vs/base/common/marked/marked","vs/base/common/navigator","vs/base/common/history","vs/base/common/observableImpl/utils","vs/base/browser/ui/list/rangeMap","vs/base/common/search","vs/css!vs/base/browser/ui/aria/aria","vs/css!vs/base/browser/ui/button/button","vs/css!vs/base/browser/ui/codicons/codicon/codicon","vs/css!vs/base/browser/ui/codicons/codicon/codicon-modifiers","vs/css!vs/base/browser/ui/contextview/contextview","vs/css!vs/base/browser/ui/countBadge/countBadge","vs/css!vs/base/browser/ui/hover/hover","vs/css!vs/base/browser/ui/iconLabel/iconlabel","vs/css!vs/base/browser/ui/inputbox/inputBox","vs/css!vs/base/browser/ui/keybindingLabel/keybindingLabel","vs/css!vs/base/browser/ui/mouseCursor/mouseCursor","vs/css!vs/base/browser/ui/progressbar/progressbar","vs/css!vs/base/browser/ui/sash/sash","vs/css!vs/base/browser/ui/scrollbar/media/scrollbars","vs/css!vs/base/browser/ui/selectBox/selectBox","vs/css!vs/base/browser/ui/selectBox/selectBoxCustom","vs/css!vs/base/browser/ui/splitview/splitview","vs/css!vs/base/browser/ui/table/table","vs/css!vs/base/browser/ui/toggle/toggle","vs/css!vs/base/browser/ui/toolbar/toolbar","vs/css!vs/base/browser/ui/tree/media/tree","vs/css!vs/editor/browser/controller/textAreaHandler","vs/css!vs/editor/browser/viewParts/blockDecorations/blockDecorations","vs/css!vs/editor/browser/viewParts/currentLineHighlight/currentLineHighlight","vs/css!vs/editor/browser/viewParts/decorations/decorations","vs/css!vs/editor/browser/viewParts/glyphMargin/glyphMargin","vs/css!vs/editor/browser/viewParts/indentGuides/indentGuides","vs/css!vs/editor/browser/viewParts/lineNumbers/lineNumbers","vs/css!vs/editor/browser/viewParts/lines/viewLines","vs/css!vs/editor/browser/viewParts/linesDecorations/linesDecorations","vs/css!vs/editor/browser/viewParts/margin/margin","vs/css!vs/editor/browser/viewParts/marginDecorations/marginDecorations","vs/css!vs/editor/browser/viewParts/minimap/minimap","vs/css!vs/editor/browser/viewParts/overlayWidgets/overlayWidgets","vs/css!vs/editor/browser/viewParts/rulers/rulers","vs/css!vs/editor/browser/viewParts/scrollDecoration/scrollDecoration","vs/css!vs/editor/browser/viewParts/selections/selections","vs/css!vs/editor/browser/viewParts/viewCursors/viewCursors","vs/css!vs/editor/browser/viewParts/whitespace/whitespace","vs/css!vs/editor/browser/widget/diffEditorWidget2/style","vs/css!vs/editor/browser/widget/media/diffEditor","vs/css!vs/editor/browser/widget/media/diffReview","vs/css!vs/editor/browser/widget/media/editor","vs/css!vs/editor/contrib/anchorSelect/browser/anchorSelect","vs/css!vs/editor/contrib/bracketMatching/browser/bracketMatching","vs/css!vs/editor/contrib/codeAction/browser/lightBulbWidget","vs/css!vs/editor/contrib/codelens/browser/codelensWidget","vs/css!vs/editor/contrib/dnd/browser/dnd","vs/css!vs/editor/contrib/dropOrPasteInto/browser/postEditWidget","vs/css!vs/editor/contrib/find/browser/findOptionsWidget","vs/css!vs/editor/contrib/find/browser/findWidget","vs/css!vs/editor/contrib/folding/browser/folding","vs/css!vs/editor/contrib/gotoError/browser/media/gotoErrorWidget","vs/css!vs/editor/contrib/gotoSymbol/browser/link/goToDefinitionAtPosition","vs/css!vs/editor/contrib/gotoSymbol/browser/peek/referencesWidget","vs/css!vs/editor/contrib/hover/browser/hover","vs/css!vs/editor/contrib/inPlaceReplace/browser/inPlaceReplace","vs/css!vs/editor/contrib/inlineCompletions/browser/ghostText","vs/css!vs/editor/contrib/inlineCompletions/browser/inlineCompletionsHintsWidget","vs/css!vs/editor/contrib/inlineProgress/browser/inlineProgressWidget","vs/css!vs/editor/contrib/linkedEditing/browser/linkedEditing","vs/css!vs/editor/contrib/links/browser/links","vs/css!vs/editor/contrib/markdownRenderer/browser/renderedMarkdown","vs/css!vs/editor/contrib/message/browser/messageController","vs/css!vs/editor/contrib/parameterHints/browser/parameterHints","vs/css!vs/editor/contrib/peekView/browser/media/peekViewWidget","vs/css!vs/editor/contrib/rename/browser/renameInputField","vs/css!vs/editor/contrib/snippet/browser/snippetSession","vs/css!vs/editor/contrib/stickyScroll/browser/stickyScroll","vs/css!vs/editor/contrib/suggest/browser/media/suggest","vs/css!vs/editor/contrib/symbolIcons/browser/symbolIcons","vs/css!vs/editor/contrib/unicodeHighlighter/browser/bannerController","vs/css!vs/editor/contrib/unicodeHighlighter/browser/unicodeHighlighter","vs/css!vs/editor/contrib/wordHighlighter/browser/highlightDecorations","vs/css!vs/editor/contrib/zoneWidget/browser/zoneWidget","vs/css!vs/editor/standalone/browser/iPadShowKeyboard/iPadShowKeyboard","vs/css!vs/editor/standalone/browser/inspectTokens/inspectTokens","vs/css!vs/editor/standalone/browser/quickInput/standaloneQuickInput","vs/css!vs/editor/standalone/browser/standalone-tokens","vs/css!vs/platform/actions/browser/menuEntryActionViewItem","vs/css!vs/platform/opener/browser/link","vs/css!vs/platform/severityIcon/browser/media/severityIcon","vs/editor/browser/config/charWidthReader","vs/editor/browser/config/migrateOptions","vs/editor/browser/viewParts/lines/domReadingContext","vs/editor/browser/viewParts/lines/rangeUtil","vs/editor/browser/viewParts/minimap/minimapCharRenderer","vs/editor/browser/viewParts/minimap/minimapPreBaked","vs/editor/browser/viewParts/minimap/minimapCharRendererFactory","vs/editor/browser/widget/diffEditorWidget2/delegatingEditorImpl","vs/editor/common/commands/trimTrailingWhitespaceCommand","vs/editor/common/commands/surroundSelectionCommand","vs/editor/common/cursor/cursorContext","vs/editor/common/diff/algorithms/joinSequenceDiffs","vs/editor/common/diff/algorithms/myersDiffAlgorithm","vs/editor/common/diff/algorithms/utils","vs/editor/common/diff/algorithms/dynamicProgrammingDiffing","vs/editor/common/diff/smartLinesDiffComputer","vs/editor/common/diff/linesDiffComputers","vs/editor/common/editorTheme","vs/editor/common/languages/defaultDocumentColorsComputer","vs/editor/common/languages/linkComputer","vs/editor/common/cursor/cursorColumnSelection","vs/editor/common/cursor/oneCursor","vs/editor/common/cursor/cursorCollection","vs/editor/common/languages/supports/characterPair","vs/editor/common/languages/supports/indentRules","vs/editor/common/languages/supports/inplaceReplaceSupport","vs/editor/common/languages/supports/languageBracketsConfiguration","vs/editor/common/languages/supports/onEnter","vs/editor/common/languages/supports/tokenization","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/nodeReader","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/concat23Trees","vs/editor/common/model/bracketPairsTextModelPart/fixBrackets","vs/editor/common/model/fixedArray","vs/editor/common/model/indentationGuesser","vs/editor/common/model/intervalTree","vs/editor/common/model/pieceTreeTextBuffer/rbTreeBase","vs/editor/common/model/mirrorTextModel","vs/editor/common/textModelBracketPairs","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/bracketPairsTree","vs/editor/common/tokenizationRegistry","vs/editor/common/tokens/contiguousMultilineTokens","vs/editor/common/tokens/contiguousTokensEditing","vs/editor/common/tokens/contiguousTokensStore","vs/editor/common/tokens/sparseMultilineTokens","vs/editor/common/tokens/sparseTokensStore","vs/editor/browser/viewParts/blockDecorations/blockDecorations","vs/editor/browser/viewParts/decorations/decorations","vs/editor/browser/viewParts/linesDecorations/linesDecorations","vs/editor/browser/viewParts/marginDecorations/marginDecorations","vs/editor/browser/viewParts/overlayWidgets/overlayWidgets","vs/editor/browser/viewParts/rulers/rulers","vs/editor/browser/viewParts/scrollDecoration/scrollDecoration","vs/editor/browser/viewParts/viewZones/viewZones","vs/editor/common/viewLayout/linePart","vs/editor/common/viewLayout/linesLayout","vs/editor/common/viewLayout/viewLinesViewportData","vs/editor/common/viewModel/modelLineProjection","vs/editor/common/viewModel/monospaceLineBreaksComputer","vs/editor/browser/viewParts/overviewRuler/overviewRuler","vs/editor/common/viewModel/viewContext","vs/editor/common/viewLayout/viewLayout","vs/editor/contrib/caretOperations/browser/moveCaretCommand","vs/editor/contrib/colorPicker/browser/colorPickerModel","vs/editor/contrib/comment/browser/lineCommentCommand","vs/editor/contrib/dnd/browser/dragAndDropCommand","vs/editor/contrib/find/browser/replaceAllCommand","vs/editor/contrib/find/browser/replacePattern","vs/editor/contrib/folding/browser/foldingModel","vs/editor/contrib/folding/browser/hiddenRangeModel","vs/editor/contrib/inPlaceReplace/browser/inPlaceReplaceCommand","vs/editor/contrib/linesOperations/browser/copyLinesCommand","vs/editor/contrib/linesOperations/browser/sortLinesCommand","vs/editor/contrib/smartSelect/browser/wordSelections","vs/editor/contrib/inlineCompletions/browser/provideInlineCompletions","vs/editor/contrib/suggest/browser/suggestCommitCharacters","vs/editor/contrib/suggest/browser/suggestOvertypingCapturer","vs/editor/standalone/common/monarch/monarchCompile","vs/nls!vs/base/browser/ui/actionbar/actionViewItems","vs/nls!vs/base/browser/ui/findinput/findInput","vs/nls!vs/base/browser/ui/findinput/findInputToggles","vs/nls!vs/base/browser/ui/findinput/replaceInput","vs/nls!vs/base/browser/ui/iconLabel/iconLabelHover","vs/nls!vs/base/browser/ui/inputbox/inputBox","vs/nls!vs/base/browser/ui/keybindingLabel/keybindingLabel","vs/nls!vs/base/browser/ui/selectBox/selectBoxCustom","vs/nls!vs/base/browser/ui/toolbar/toolbar","vs/nls!vs/base/browser/ui/tree/abstractTree","vs/nls!vs/base/common/actions","vs/nls!vs/base/common/errorMessage","vs/base/common/errorMessage","vs/nls!vs/base/common/keybindingLabels","vs/nls!vs/base/common/platform","vs/base/browser/ui/scrollbar/scrollbarVisibilityController","vs/base/browser/ui/tree/compressedObjectTreeModel","vs/base/common/process","vs/base/common/fuzzyScorer","vs/base/common/labels","vs/base/browser/ui/dropdown/dropdown","vs/base/browser/ui/list/rowCache","vs/base/browser/ui/progressbar/progressbar","vs/base/browser/ui/selectBox/selectBoxNative","vs/base/browser/ui/scrollbar/horizontalScrollbar","vs/base/browser/ui/scrollbar/verticalScrollbar","vs/base/browser/ui/list/listPaging","vs/base/browser/ui/table/tableWidget","vs/base/browser/ui/selectBox/selectBoxCustom","vs/base/browser/ui/selectBox/selectBox","vs/base/browser/ui/findinput/replaceInput","vs/base/browser/ui/menu/menu","vs/base/browser/ui/toolbar/toolbar","vs/base/browser/ui/tree/dataTree","vs/base/browser/ui/tree/asyncDataTree","vs/base/browser/defaultWorkerFactory","vs/base/parts/storage/common/storage","vs/editor/browser/viewParts/contentWidgets/contentWidgets","vs/editor/browser/widget/diffEditorWidget2/diffEditorSash","vs/editor/browser/view/domLineBreaksComputer","vs/editor/browser/view/viewOverlays","vs/editor/common/languageSelector","vs/editor/common/languageFeatureRegistry","vs/editor/common/languages/supports/electricCharacter","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsImpl","vs/editor/common/model/pieceTreeTextBuffer/pieceTreeTextBufferBuilder","vs/editor/common/model/textModelTokens","vs/editor/common/model/tokenizationTextModelPart","vs/editor/common/services/editorSimpleWorker","vs/editor/common/services/semanticTokensDto","vs/editor/contrib/hover/browser/resizableContentWidget","vs/nls!vs/editor/browser/controller/textAreaHandler","vs/nls!vs/editor/browser/coreCommands","vs/nls!vs/editor/browser/editorExtensions","vs/nls!vs/editor/browser/widget/codeEditorWidget","vs/nls!vs/editor/browser/widget/diffEditor.contribution","vs/nls!vs/editor/browser/widget/diffEditorWidget","vs/nls!vs/editor/browser/widget/diffEditorWidget2/decorations","vs/nls!vs/editor/browser/widget/diffEditorWidget2/diffEditorEditors","vs/nls!vs/editor/browser/widget/diffEditorWidget2/diffReview","vs/nls!vs/editor/browser/widget/diffEditorWidget2/inlineDiffDeletedCodeMargin","vs/editor/browser/widget/diffEditorWidget2/inlineDiffDeletedCodeMargin","vs/nls!vs/editor/browser/widget/diffEditorWidget2/unchangedRanges","vs/editor/browser/widget/diffEditorWidget2/unchangedRanges","vs/nls!vs/editor/browser/widget/diffReview","vs/nls!vs/editor/browser/widget/inlineDiffMargin","vs/editor/browser/widget/inlineDiffMargin","vs/nls!vs/editor/common/config/editorConfigurationSchema","vs/nls!vs/editor/common/config/editorOptions","vs/editor/browser/viewParts/viewCursors/viewCursor","vs/editor/browser/widget/diffEditorWidget2/diffEditorOptions","vs/nls!vs/editor/common/core/editorColorRegistry","vs/nls!vs/editor/common/editorContextKeys","vs/nls!vs/editor/common/languages/modesRegistry","vs/nls!vs/editor/common/model/editStack","vs/nls!vs/editor/common/standaloneStrings","vs/nls!vs/editor/common/viewLayout/viewLineRenderer","vs/nls!vs/editor/contrib/anchorSelect/browser/anchorSelect","vs/nls!vs/editor/contrib/bracketMatching/browser/bracketMatching","vs/nls!vs/editor/contrib/caretOperations/browser/caretOperations","vs/nls!vs/editor/contrib/caretOperations/browser/transpose","vs/nls!vs/editor/contrib/clipboard/browser/clipboard","vs/nls!vs/editor/contrib/codeAction/browser/codeAction","vs/nls!vs/editor/contrib/codeAction/browser/codeActionCommands","vs/nls!vs/editor/contrib/codeAction/browser/codeActionContributions","vs/nls!vs/editor/contrib/codeAction/browser/codeActionController","vs/nls!vs/editor/contrib/codeAction/browser/codeActionMenu","vs/nls!vs/editor/contrib/codeAction/browser/lightBulbWidget","vs/nls!vs/editor/contrib/codelens/browser/codelensController","vs/nls!vs/editor/contrib/colorPicker/browser/colorPickerWidget","vs/nls!vs/editor/contrib/colorPicker/browser/standaloneColorPickerActions","vs/nls!vs/editor/contrib/comment/browser/comment","vs/nls!vs/editor/contrib/contextmenu/browser/contextmenu","vs/nls!vs/editor/contrib/cursorUndo/browser/cursorUndo","vs/nls!vs/editor/contrib/dropOrPasteInto/browser/copyPasteContribution","vs/nls!vs/editor/contrib/dropOrPasteInto/browser/copyPasteController","vs/nls!vs/editor/contrib/dropOrPasteInto/browser/defaultProviders","vs/nls!vs/editor/contrib/dropOrPasteInto/browser/dropIntoEditorController","vs/nls!vs/editor/contrib/editorState/browser/keybindingCancellation","vs/nls!vs/editor/contrib/find/browser/findController","vs/nls!vs/editor/contrib/find/browser/findWidget","vs/nls!vs/editor/contrib/folding/browser/folding","vs/nls!vs/editor/contrib/folding/browser/foldingDecorations","vs/nls!vs/editor/contrib/fontZoom/browser/fontZoom","vs/nls!vs/editor/contrib/format/browser/format","vs/nls!vs/editor/contrib/format/browser/formatActions","vs/nls!vs/editor/contrib/gotoError/browser/gotoError","vs/nls!vs/editor/contrib/gotoError/browser/gotoErrorWidget","vs/nls!vs/editor/contrib/gotoSymbol/browser/goToCommands","vs/nls!vs/editor/contrib/gotoSymbol/browser/link/goToDefinitionAtPosition","vs/nls!vs/editor/contrib/gotoSymbol/browser/peek/referencesController","vs/nls!vs/editor/contrib/gotoSymbol/browser/peek/referencesTree","vs/nls!vs/editor/contrib/gotoSymbol/browser/peek/referencesWidget","vs/nls!vs/editor/contrib/gotoSymbol/browser/referencesModel","vs/nls!vs/editor/contrib/gotoSymbol/browser/symbolNavigation","vs/nls!vs/editor/contrib/hover/browser/hover","vs/nls!vs/editor/contrib/hover/browser/markdownHoverParticipant","vs/nls!vs/editor/contrib/hover/browser/markerHoverParticipant","vs/nls!vs/editor/contrib/inPlaceReplace/browser/inPlaceReplace","vs/nls!vs/editor/contrib/indentation/browser/indentation","vs/nls!vs/editor/contrib/inlayHints/browser/inlayHintsHover","vs/nls!vs/editor/contrib/inlineCompletions/browser/commands","vs/nls!vs/editor/contrib/inlineCompletions/browser/hoverParticipant","vs/nls!vs/editor/contrib/inlineCompletions/browser/inlineCompletionContextKeys","vs/nls!vs/editor/contrib/inlineCompletions/browser/inlineCompletionsHintsWidget","vs/nls!vs/editor/contrib/lineSelection/browser/lineSelection","vs/nls!vs/editor/contrib/linesOperations/browser/linesOperations","vs/nls!vs/editor/contrib/linkedEditing/browser/linkedEditing","vs/nls!vs/editor/contrib/links/browser/links","vs/nls!vs/editor/contrib/message/browser/messageController","vs/nls!vs/editor/contrib/multicursor/browser/multicursor","vs/nls!vs/editor/contrib/parameterHints/browser/parameterHints","vs/nls!vs/editor/contrib/parameterHints/browser/parameterHintsWidget","vs/nls!vs/editor/contrib/peekView/browser/peekView","vs/nls!vs/editor/contrib/quickAccess/browser/gotoLineQuickAccess","vs/nls!vs/editor/contrib/quickAccess/browser/gotoSymbolQuickAccess","vs/nls!vs/editor/contrib/readOnlyMessage/browser/contribution","vs/nls!vs/editor/contrib/rename/browser/rename","vs/nls!vs/editor/contrib/rename/browser/renameInputField","vs/nls!vs/editor/contrib/smartSelect/browser/smartSelect","vs/nls!vs/editor/contrib/snippet/browser/snippetController2","vs/nls!vs/editor/contrib/snippet/browser/snippetVariables","vs/nls!vs/editor/contrib/stickyScroll/browser/stickyScrollActions","vs/nls!vs/editor/contrib/suggest/browser/suggest","vs/nls!vs/editor/contrib/suggest/browser/suggestController","vs/nls!vs/editor/contrib/suggest/browser/suggestWidget","vs/nls!vs/editor/contrib/suggest/browser/suggestWidgetDetails","vs/nls!vs/editor/contrib/suggest/browser/suggestWidgetRenderer","vs/nls!vs/editor/contrib/suggest/browser/suggestWidgetStatus","vs/nls!vs/editor/contrib/symbolIcons/browser/symbolIcons","vs/nls!vs/editor/contrib/toggleTabFocusMode/browser/toggleTabFocusMode","vs/nls!vs/editor/contrib/tokenization/browser/tokenization","vs/nls!vs/editor/contrib/unicodeHighlighter/browser/unicodeHighlighter","vs/nls!vs/editor/contrib/unusualLineTerminators/browser/unusualLineTerminators","vs/nls!vs/editor/contrib/wordHighlighter/browser/highlightDecorations","vs/nls!vs/editor/contrib/wordHighlighter/browser/wordHighlighter","vs/nls!vs/editor/contrib/wordOperations/browser/wordOperations","vs/nls!vs/platform/action/common/actionCommonCategories","vs/nls!vs/platform/actionWidget/browser/actionList","vs/nls!vs/platform/actionWidget/browser/actionWidget","vs/nls!vs/platform/actions/browser/menuEntryActionViewItem","vs/nls!vs/platform/actions/browser/toolbar","vs/nls!vs/platform/actions/common/menuService","vs/nls!vs/platform/audioCues/browser/audioCueService","vs/nls!vs/platform/configuration/common/configurationRegistry","vs/nls!vs/platform/contextkey/browser/contextKeyService","vs/nls!vs/platform/contextkey/common/contextkey","vs/nls!vs/platform/contextkey/common/contextkeys","vs/nls!vs/platform/contextkey/common/scanner","vs/nls!vs/platform/history/browser/contextScopedHistoryWidget","vs/nls!vs/platform/keybinding/common/abstractKeybindingService","vs/nls!vs/platform/list/browser/listService","vs/nls!vs/platform/markers/common/markers","vs/nls!vs/platform/quickinput/browser/commandsQuickAccess","vs/nls!vs/platform/quickinput/browser/helpQuickAccess","vs/nls!vs/platform/quickinput/browser/quickInput","vs/nls!vs/platform/quickinput/browser/quickInputList","vs/nls!vs/platform/quickinput/browser/quickInputUtils","vs/nls!vs/platform/theme/common/colorRegistry","vs/nls!vs/platform/theme/common/iconRegistry","vs/nls!vs/platform/undoRedo/common/undoRedoService","vs/nls!vs/platform/workspace/common/workspace","vs/platform/action/common/action","vs/platform/action/common/actionCommonCategories","vs/platform/contextkey/common/scanner","vs/platform/editor/common/editor","vs/platform/extensions/common/extensions","vs/platform/history/browser/historyWidgetKeybindingHint","vs/platform/instantiation/common/graph","vs/editor/common/services/languageFeaturesService","vs/editor/common/services/treeViewsDndService","vs/editor/contrib/dropOrPasteInto/browser/edit","vs/editor/contrib/inlineCompletions/browser/ghostTextWidget","vs/editor/contrib/links/browser/getLinks","vs/editor/standalone/browser/colorizer","vs/editor/contrib/parameterHints/browser/parameterHintsModel","vs/editor/contrib/suggest/browser/suggestAlternatives","vs/editor/contrib/suggest/browser/wordContextKey","vs/editor/browser/config/editorConfiguration","vs/platform/contextkey/browser/contextKeyService","vs/platform/instantiation/common/instantiationService","vs/platform/keybinding/common/baseResolvedKeybinding","vs/platform/keybinding/common/abstractKeybindingService","vs/platform/keybinding/common/usLayoutResolvedKeybinding","vs/platform/accessibility/browser/accessibilityService","vs/platform/contextview/browser/contextViewService","vs/platform/clipboard/browser/clipboardService","vs/platform/log/common/logService","vs/editor/contrib/gotoError/browser/markerNavigationService","vs/platform/markers/common/markerService","vs/editor/browser/services/openerService","vs/editor/contrib/documentSymbols/browser/documentSymbols","vs/platform/opener/browser/link","vs/platform/quickinput/browser/pickerQuickAccess","vs/platform/quickinput/browser/quickInputBox","vs/editor/browser/services/webWorker","vs/editor/common/cursor/cursor","vs/editor/common/services/getIconClasses","vs/editor/common/services/languagesAssociations","vs/editor/common/services/languagesRegistry","vs/editor/common/services/languageService","vs/editor/contrib/inlineCompletions/browser/inlineCompletionsSource","vs/editor/contrib/linesOperations/browser/moveLinesCommand","vs/editor/contrib/hover/browser/marginHover","vs/platform/configuration/common/configurations","vs/editor/contrib/toggleTabFocusMode/browser/toggleTabFocusMode","vs/platform/quickinput/browser/helpQuickAccess","vs/editor/standalone/browser/quickAccess/standaloneHelpQuickAccess","vs/platform/quickinput/browser/quickAccess","vs/platform/severityIcon/browser/severityIcon","vs/editor/contrib/codelens/browser/codeLensCache","vs/platform/actions/common/menuService","vs/editor/browser/services/markerDecorations","vs/editor/browser/view/viewController","vs/editor/browser/widget/diffEditor.contribution","vs/editor/browser/widget/codeEditorContributions","vs/editor/contrib/anchorSelect/browser/anchorSelect","vs/editor/contrib/caretOperations/browser/caretOperations","vs/editor/contrib/caretOperations/browser/transpose","vs/editor/contrib/clipboard/browser/clipboard","vs/editor/contrib/comment/browser/comment","vs/editor/contrib/cursorUndo/browser/cursorUndo","vs/editor/contrib/editorState/browser/keybindingCancellation","vs/editor/contrib/codeAction/browser/codeActionKeybindingResolver","vs/editor/contrib/fontZoom/browser/fontZoom","vs/editor/contrib/format/browser/formatActions","vs/editor/contrib/gotoSymbol/browser/symbolNavigation","vs/editor/contrib/indentation/browser/indentation","vs/editor/contrib/lineSelection/browser/lineSelection","vs/editor/contrib/linesOperations/browser/linesOperations","vs/editor/contrib/longLinesHelper/browser/longLinesHelper","vs/editor/contrib/readOnlyMessage/browser/contribution","vs/editor/contrib/smartSelect/browser/smartSelect","vs/editor/contrib/suggest/browser/suggestInlineCompletions","vs/editor/contrib/tokenization/browser/tokenization","vs/editor/contrib/unusualLineTerminators/browser/unusualLineTerminators","vs/editor/contrib/wordPartOperations/browser/wordPartOperations","vs/editor/standalone/browser/iPadShowKeyboard/iPadShowKeyboard","vs/editor/standalone/browser/inspectTokens/inspectTokens","vs/platform/actions/browser/toolbar","vs/platform/quickinput/browser/commandsQuickAccess","vs/editor/contrib/quickAccess/browser/commandsQuickAccess","vs/editor/standalone/browser/quickAccess/standaloneCommandsQuickAccess","vs/editor/browser/viewParts/minimap/minimap","vs/editor/contrib/codeAction/browser/codeActionMenu","vs/editor/contrib/gotoSymbol/browser/peek/referencesTree","vs/platform/actionWidget/browser/actionList","vs/platform/actionWidget/browser/actionWidget","vs/editor/contrib/codeAction/browser/codeActionCommands","vs/editor/contrib/codeAction/browser/codeActionContributions","vs/platform/contextview/browser/contextMenuHandler","vs/editor/browser/widget/diffEditorWidget2/diffReview","vs/editor/contrib/colorPicker/browser/colorPickerWidget","vs/editor/contrib/parameterHints/browser/parameterHintsWidget","vs/editor/contrib/parameterHints/browser/parameterHints","vs/editor/contrib/unicodeHighlighter/browser/bannerController","vs/platform/theme/browser/iconsStyleSheet","vs/editor/browser/controller/mouseHandler","vs/editor/browser/controller/pointerHandler","vs/editor/browser/viewParts/lines/viewLines","vs/platform/quickinput/browser/quickInputList","vs/platform/quickinput/browser/quickInput","vs/editor/browser/services/abstractCodeEditorService","vs/editor/browser/viewParts/editorScrollbar/editorScrollbar","vs/editor/browser/viewParts/selections/selections","vs/editor/browser/widget/diffEditorWidget2/diffEditorEditors","vs/editor/browser/viewParts/currentLineHighlight/currentLineHighlight","vs/editor/browser/viewParts/indentGuides/indentGuides","vs/editor/browser/controller/textAreaHandler","vs/editor/browser/viewParts/overviewRuler/decorationsOverviewRuler","vs/editor/browser/viewParts/viewCursors/viewCursors","vs/editor/browser/viewParts/whitespace/whitespace","vs/editor/browser/view","vs/editor/common/model/bracketPairsTextModelPart/colorizedBracketPairsDecorationProvider","vs/editor/common/services/markerDecorationsService","vs/editor/common/services/semanticTokensStylingService","vs/editor/contrib/quickAccess/browser/gotoLineQuickAccess","vs/editor/contrib/quickAccess/browser/gotoSymbolQuickAccess","vs/editor/contrib/rename/browser/renameInputField","vs/editor/contrib/rename/browser/rename","vs/editor/contrib/semanticTokens/browser/documentSemanticTokens","vs/editor/contrib/semanticTokens/browser/viewportSemanticTokens","vs/editor/contrib/suggest/browser/suggestWidgetRenderer","vs/editor/standalone/browser/quickAccess/standaloneGotoLineQuickAccess","vs/editor/standalone/browser/quickAccess/standaloneGotoSymbolQuickAccess","vs/editor/standalone/common/themes","vs/editor/standalone/browser/toggleHighContrast/toggleHighContrast","vs/editor/contrib/suggest/browser/suggestWidgetStatus","vs/platform/contextview/browser/contextMenuService","vs/platform/quickinput/browser/quickInputService","vs/editor/standalone/browser/quickInput/standaloneQuickInputService","vs/editor/browser/widget/diffEditorWidget2/diffEditorDecorations","vs/editor/common/services/modelService","vs/editor/common/viewModel/viewModelLines","vs/editor/common/viewModel/viewModelImpl","vs/editor/browser/widget/diffEditorWidget2/renderLines","vs/editor/browser/widget/diffEditorWidget2/lineAlignment","vs/editor/browser/widget/diffEditorWidget2/diffEditorWidget2","vs/editor/contrib/bracketMatching/browser/bracketMatching","vs/editor/contrib/codelens/browser/codelensWidget","vs/editor/contrib/codelens/browser/codelensController","vs/editor/contrib/dnd/browser/dnd","vs/editor/contrib/find/browser/findDecorations","vs/editor/contrib/find/browser/findOptionsWidget","vs/editor/contrib/find/browser/findState","vs/editor/contrib/find/browser/findWidget","vs/editor/contrib/folding/browser/foldingDecorations","vs/editor/contrib/colorPicker/browser/standaloneColorPickerWidget","vs/editor/contrib/colorPicker/browser/standaloneColorPickerActions","vs/editor/contrib/inPlaceReplace/browser/inPlaceReplace","vs/editor/contrib/dropOrPasteInto/browser/copyPasteController","vs/editor/contrib/dropOrPasteInto/browser/dropIntoEditorController","vs/editor/contrib/linkedEditing/browser/linkedEditing","vs/editor/contrib/links/browser/links","vs/editor/contrib/stickyScroll/browser/stickyScrollModelProvider","vs/editor/contrib/stickyScroll/browser/stickyScrollProvider","vs/editor/contrib/stickyScroll/browser/stickyScrollWidget","vs/editor/contrib/suggest/browser/suggestWidget","vs/editor/contrib/multicursor/browser/multicursor","vs/editor/contrib/wordHighlighter/browser/wordHighlighter","vs/editor/contrib/zoneWidget/browser/zoneWidget","vs/editor/contrib/gotoError/browser/gotoErrorWidget","vs/editor/contrib/gotoSymbol/browser/peek/referencesWidget","vs/editor/contrib/hover/browser/markerHoverParticipant","vs/editor/contrib/colorPicker/browser/colorContributions","vs/editor/contrib/inlayHints/browser/inlayHintsHover","vs/editor/contrib/inlayHints/browser/inlayHintsContribution","vs/editor/contrib/stickyScroll/browser/stickyScrollActions","vs/editor/contrib/stickyScroll/browser/stickyScrollContribution","vs/editor/standalone/browser/referenceSearch/standaloneReferenceSearch","vs/platform/undoRedo/common/undoRedoService","vs/editor/contrib/contextmenu/browser/contextmenu","vs/editor/contrib/dropOrPasteInto/browser/copyPasteContribution","vs/editor/contrib/dropOrPasteInto/browser/dropIntoEditorContribution","vs/editor/contrib/snippet/browser/snippetVariables","vs/editor/contrib/inlineCompletions/browser/inlineCompletionsModel","vs/editor/contrib/suggest/browser/suggestModel","vs/editor/contrib/inlineCompletions/browser/suggestWidgetInlineCompletionProvider","vs/editor/contrib/inlineCompletions/browser/commands","vs/editor/contrib/inlineCompletions/browser/hoverParticipant","vs/editor/contrib/inlineCompletions/browser/inlineCompletions.contribution","vs/editor/contrib/unicodeHighlighter/browser/unicodeHighlighter","vs/editor/editor.all","vs/editor/standalone/browser/standaloneCodeEditor","vs/editor/standalone/browser/standaloneEditor","vs/editor/standalone/browser/standaloneLanguages","vs/editor/editor.api","vs/css","vs/editor/edcore.main"],ee=function(q){for(var e=[],L=0,k=q.length;L<k;L++)e[L]=X[q[L]];return e};define(X[914],ee([1,0]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.load=void 0;function L(m,_,f,p){if(p=p||{},(p["vs/css"]||{}).disabled){f({});return}const t=_.toUrl(m+".css");k(m,t,()=>{f({})},i=>{typeof f.error=="function"&&f.error("Could not find "+t+".")})}e.load=L;function k(m,_,f,p){if(y(m,_)){f();return}D(m,_,f,p)}function y(m,_){const f=document.getElementsByTagName("link");for(let p=0,s=f.length;p<s;p++){const t=f[p].getAttribute("data-name"),i=f[p].getAttribute("href");if(t===m||i===_)return!0}return!1}function D(m,_,f,p){const s=document.createElement("link");s.setAttribute("rel","stylesheet"),s.setAttribute("type","text/css"),s.setAttribute("data-name",m),S(m,s,f,p),s.setAttribute("href",_),(document.head||document.getElementsByTagName("head")[0]).appendChild(s)}function S(m,_,f,p){const s=()=>{_.removeEventListener("load",t),_.removeEventListener("error",i)},t=o=>{s(),f()},i=o=>{s(),p(o)};_.addEventListener("load",t),_.addEventListener("error",i)}});var Le=this&&this.__awaiter||function(q,e,L,k){function y(D){return D instanceof L?D:new L(function(S){S(D)})}return new(L||(L=Promise))(function(D,S){function m(p){try{f(k.next(p))}catch(s){S(s)}}function _(p){try{f(k.throw(p))}catch(s){S(s)}}function f(p){p.done?D(p.value):y(p.value).then(m,_)}f((k=k.apply(q,e||[])).next())})};define(X[3],ee([1,0]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.load=e.create=e.setPseudoTranslation=e.getConfiguredDefaultLocale=e.localize=void 0;let L=typeof document<"u"&&document.location&&document.location.hash.indexOf("pseudo=true")>=0;const k="i-default";function y(o,r){let d;return r.length===0?d=o:d=o.replace(/\{(\d+)\}/g,(h,n)=>{const c=n[0],a=r[c];let l=h;return typeof a=="string"?l=a:(typeof a=="number"||typeof a=="boolean"||a===void 0||a===null)&&(l=String(a)),l}),L&&(d="\uFF3B"+d.replace(/[aouei]/g,"$&$&")+"\uFF3D"),d}function D(o,r){let d=o[r];return d||(d=o["*"],d)?d:null}function S(o){return o.charAt(o.length-1)==="/"?o:o+"/"}function m(o,r,d){return Le(this,void 0,void 0,function*(){const h=S(o)+S(r)+"vscode/"+S(d),n=yield fetch(h);if(n.ok)return yield n.json();throw new Error(`${n.status} - ${n.statusText}`)})}function _(o){return function(r,d){const h=Array.prototype.slice.call(arguments,2);return y(o[r],h)}}function f(o,r,...d){return y(r,d)}e.localize=f;function p(o){}e.getConfiguredDefaultLocale=p;function s(o){L=o}e.setPseudoTranslation=s;function t(o,r){var d;return{localize:_(r[o]),getConfiguredDefaultLocale:(d=r.getConfiguredDefaultLocale)!==null&&d!==void 0?d:h=>{}}}e.create=t;function i(o,r,d,h){var n;const c=(n=h["vs/nls"])!==null&&n!==void 0?n:{};if(!o||o.length===0)return d({localize:f,getConfiguredDefaultLocale:()=>{var g;return(g=c.availableLanguages)===null||g===void 0?void 0:g["*"]}});const a=c.availableLanguages?D(c.availableLanguages,o):null,l=a===null||a===k;let u=".nls";l||(u=u+"."+a);const C=g=>{Array.isArray(g)?g.localize=_(g):g.localize=_(g[o]),g.getConfiguredDefaultLocale=()=>{var v;return(v=c.availableLanguages)===null||v===void 0?void 0:v["*"]},d(g)};typeof c.loadBundle=="function"?c.loadBundle(o,a,(g,v)=>{g?r([o+".nls"],C):C(v)}):c.translationServiceUrl&&!l?Le(this,void 0,void 0,function*(){var g;try{const v=yield m(c.translationServiceUrl,a,o);return C(v)}catch(v){if(!a.includes("-"))return console.error(v),r([o+".nls"],C);try{const b=a.split("-")[0],w=yield m(c.translationServiceUrl,b,o);return(g=c.availableLanguages)!==null&&g!==void 0||(c.availableLanguages={}),c.availableLanguages["*"]=b,C(w)}catch(b){return console.error(b),r([o+".nls"],C)}}}):r([o+u],C,g=>{if(u===".nls"){console.error("Failed trying to load default language strings",g);return}console.error(`Failed to load message bundle for language ${a}. Falling back to the default language:`,g),r([o+".nls"],C)})}e.load=i});/*! @license DOMPurify 2.3.1 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.3.1/LICENSE */function bn(q){if(Array.isArray(q)){for(var e=0,L=Array(q.length);e<q.length;e++)L[e]=q[e];return L}else return Array.from(q)}var _n=Object.hasOwnProperty,Ii=Object.setPrototypeOf,Sn=Object.isFrozen,wn=Object.getPrototypeOf,Ln=Object.getOwnPropertyDescriptor,mt=Object.freeze,wt=Object.seal,yn=Object.create,ki=typeof Reflect<"u"&&Reflect,Gt=ki.apply,oi=ki.construct;Gt||(Gt=function(e,L,k){return e.apply(L,k)}),mt||(mt=function(e){return e}),wt||(wt=function(e){return e}),oi||(oi=function(e,L){return new(Function.prototype.bind.apply(e,[null].concat(bn(L))))});var En=Ct(Array.prototype.forEach),Ti=Ct(Array.prototype.pop),Vt=Ct(Array.prototype.push),Nt=Ct(String.prototype.toLowerCase),Ni=Ct(String.prototype.match),kt=Ct(String.prototype.replace),Dn=Ct(String.prototype.indexOf),In=Ct(String.prototype.trim),Lt=Ct(RegExp.prototype.test),Mi=kn(TypeError);function Ct(q){return function(e){for(var L=arguments.length,k=Array(L>1?L-1:0),y=1;y<L;y++)k[y-1]=arguments[y];return Gt(q,e,k)}}function kn(q){return function(){for(var e=arguments.length,L=Array(e),k=0;k<e;k++)L[k]=arguments[k];return oi(q,L)}}function Je(q,e){Ii&&Ii(q,null);for(var L=e.length;L--;){var k=e[L];if(typeof k=="string"){var y=Nt(k);y!==k&&(Sn(e)||(e[L]=y),k=y)}q[k]=!0}return q}function Mt(q){var e=yn(null),L=void 0;for(L in q)Gt(_n,q,[L])&&(e[L]=q[L]);return e}function Zt(q,e){for(;q!==null;){var L=Ln(q,e);if(L){if(L.get)return Ct(L.get);if(typeof L.value=="function")return Ct(L.value)}q=wn(q)}function k(y){return console.warn("fallback value for",y),null}return k}var Ai=mt(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),ri=mt(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),ai=mt(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Tn=mt(["animate","color-profile","cursor","discard","fedropshadow","feimage","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),li=mt(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),Nn=mt(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Ri=mt(["#text"]),Pi=mt(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),di=mt(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Oi=mt(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Yt=mt(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Mn=wt(/\{\{[\s\S]*|[\s\S]*\}\}/gm),An=wt(/<%[\s\S]*|[\s\S]*%>/gm),Rn=wt(/^data-[\-\w.\u00B7-\uFFFF]/),Pn=wt(/^aria-[\-\w]+$/),On=wt(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Fn=wt(/^(?:\w+script|data):/i),xn=wt(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),zt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(q){return typeof q}:function(q){return q&&typeof Symbol=="function"&&q.constructor===Symbol&&q!==Symbol.prototype?"symbol":typeof q};function bt(q){if(Array.isArray(q)){for(var e=0,L=Array(q.length);e<q.length;e++)L[e]=q[e];return L}else return Array.from(q)}var Bn=function(){return typeof window>"u"?null:window},Wn=function(e,L){if((typeof e>"u"?"undefined":zt(e))!=="object"||typeof e.createPolicy!="function")return null;var k=null,y="data-tt-policy-suffix";L.currentScript&&L.currentScript.hasAttribute(y)&&(k=L.currentScript.getAttribute(y));var D="dompurify"+(k?"#"+k:"");try{return e.createPolicy(D,{createHTML:function(m){return m}})}catch{return console.warn("TrustedTypes policy "+D+" could not be created."),null}};function Fi(){var q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Bn(),e=function(Me){return Fi(Me)};if(e.version="2.3.1",e.removed=[],!q||!q.document||q.document.nodeType!==9)return e.isSupported=!1,e;var L=q.document,k=q.document,y=q.DocumentFragment,D=q.HTMLTemplateElement,S=q.Node,m=q.Element,_=q.NodeFilter,f=q.NamedNodeMap,p=f===void 0?q.NamedNodeMap||q.MozNamedAttrMap:f,s=q.Text,t=q.Comment,i=q.DOMParser,o=q.trustedTypes,r=m.prototype,d=Zt(r,"cloneNode"),h=Zt(r,"nextSibling"),n=Zt(r,"childNodes"),c=Zt(r,"parentNode");if(typeof D=="function"){var a=k.createElement("template");a.content&&a.content.ownerDocument&&(k=a.content.ownerDocument)}var l=Wn(o,L),u=l&&de?l.createHTML(""):"",C=k,g=C.implementation,v=C.createNodeIterator,b=C.createDocumentFragment,w=C.getElementsByTagName,E=L.importNode,I={};try{I=Mt(k).documentMode?k.documentMode:{}}catch{}var T={};e.isSupported=typeof c=="function"&&g&&typeof g.createHTMLDocument<"u"&&I!==9;var P=Mn,A=An,M=Rn,N=Pn,R=Fn,F=xn,x=On,W=null,z=Je({},[].concat(bt(Ai),bt(ri),bt(ai),bt(li),bt(Ri))),U=null,O=Je({},[].concat(bt(Pi),bt(di),bt(Oi),bt(Yt))),G=null,Q=null,re=!0,oe=!0,te=!1,H=!1,B=!1,K=!1,Z=!1,J=!1,ne=!1,he=!0,de=!1,ae=!0,ce=!0,$=!1,V={},j=null,se=Je({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),ie=null,Y=Je({},["audio","video","img","source","image","track"]),le=null,fe=Je({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),be="http://www.w3.org/1998/Math/MathML",we="http://www.w3.org/2000/svg",Ee="http://www.w3.org/1999/xhtml",Ie=Ee,ye=!1,ke=null,Ae=k.createElement("form"),Te=function(Me){ke&&ke===Me||((!Me||(typeof Me>"u"?"undefined":zt(Me))!=="object")&&(Me={}),Me=Mt(Me),W="ALLOWED_TAGS"in Me?Je({},Me.ALLOWED_TAGS):z,U="ALLOWED_ATTR"in Me?Je({},Me.ALLOWED_ATTR):O,le="ADD_URI_SAFE_ATTR"in Me?Je(Mt(fe),Me.ADD_URI_SAFE_ATTR):fe,ie="ADD_DATA_URI_TAGS"in Me?Je(Mt(Y),Me.ADD_DATA_URI_TAGS):Y,j="FORBID_CONTENTS"in Me?Je({},Me.FORBID_CONTENTS):se,G="FORBID_TAGS"in Me?Je({},Me.FORBID_TAGS):{},Q="FORBID_ATTR"in Me?Je({},Me.FORBID_ATTR):{},V="USE_PROFILES"in Me?Me.USE_PROFILES:!1,re=Me.ALLOW_ARIA_ATTR!==!1,oe=Me.ALLOW_DATA_ATTR!==!1,te=Me.ALLOW_UNKNOWN_PROTOCOLS||!1,H=Me.SAFE_FOR_TEMPLATES||!1,B=Me.WHOLE_DOCUMENT||!1,J=Me.RETURN_DOM||!1,ne=Me.RETURN_DOM_FRAGMENT||!1,he=Me.RETURN_DOM_IMPORT!==!1,de=Me.RETURN_TRUSTED_TYPE||!1,Z=Me.FORCE_BODY||!1,ae=Me.SANITIZE_DOM!==!1,ce=Me.KEEP_CONTENT!==!1,$=Me.IN_PLACE||!1,x=Me.ALLOWED_URI_REGEXP||x,Ie=Me.NAMESPACE||Ee,H&&(oe=!1),ne&&(J=!0),V&&(W=Je({},[].concat(bt(Ri))),U=[],V.html===!0&&(Je(W,Ai),Je(U,Pi)),V.svg===!0&&(Je(W,ri),Je(U,di),Je(U,Yt)),V.svgFilters===!0&&(Je(W,ai),Je(U,di),Je(U,Yt)),V.mathMl===!0&&(Je(W,li),Je(U,Oi),Je(U,Yt))),Me.ADD_TAGS&&(W===z&&(W=Mt(W)),Je(W,Me.ADD_TAGS)),Me.ADD_ATTR&&(U===O&&(U=Mt(U)),Je(U,Me.ADD_ATTR)),Me.ADD_URI_SAFE_ATTR&&Je(le,Me.ADD_URI_SAFE_ATTR),Me.FORBID_CONTENTS&&(j===se&&(j=Mt(j)),Je(j,Me.FORBID_CONTENTS)),ce&&(W["#text"]=!0),B&&Je(W,["html","head","body"]),W.table&&(Je(W,["tbody"]),delete G.tbody),mt&&mt(Me),ke=Me)},pe=Je({},["mi","mo","mn","ms","mtext"]),me=Je({},["foreignobject","desc","title","annotation-xml"]),Se=Je({},ri);Je(Se,ai),Je(Se,Tn);var ue=Je({},li);Je(ue,Nn);var Ce=function(Me){var Be=c(Me);(!Be||!Be.tagName)&&(Be={namespaceURI:Ee,tagName:"template"});var He=Nt(Me.tagName),Ge=Nt(Be.tagName);if(Me.namespaceURI===we)return Be.namespaceURI===Ee?He==="svg":Be.namespaceURI===be?He==="svg"&&(Ge==="annotation-xml"||pe[Ge]):!!Se[He];if(Me.namespaceURI===be)return Be.namespaceURI===Ee?He==="math":Be.namespaceURI===we?He==="math"&&me[Ge]:!!ue[He];if(Me.namespaceURI===Ee){if(Be.namespaceURI===we&&!me[Ge]||Be.namespaceURI===be&&!pe[Ge])return!1;var Qe=Je({},["title","style","font","a","script"]);return!ue[He]&&(Qe[He]||!Se[He])}return!1},ve=function(Me){Vt(e.removed,{element:Me});try{Me.parentNode.removeChild(Me)}catch{try{Me.outerHTML=u}catch{Me.remove()}}},_e=function(Me,Be){try{Vt(e.removed,{attribute:Be.getAttributeNode(Me),from:Be})}catch{Vt(e.removed,{attribute:null,from:Be})}if(Be.removeAttribute(Me),Me==="is"&&!U[Me])if(J||ne)try{ve(Be)}catch{}else try{Be.setAttribute(Me,"")}catch{}},De=function(Me){var Be=void 0,He=void 0;if(Z)Me="<remove></remove>"+Me;else{var Ge=Ni(Me,/^[\r\n\t ]+/);He=Ge&&Ge[0]}var Qe=l?l.createHTML(Me):Me;if(Ie===Ee)try{Be=new i().parseFromString(Qe,"text/html")}catch{}if(!Be||!Be.documentElement){Be=g.createDocument(Ie,"template",null);try{Be.documentElement.innerHTML=ye?"":Qe}catch{}}var tt=Be.body||Be.documentElement;return Me&&He&&tt.insertBefore(k.createTextNode(He),tt.childNodes[0]||null),Ie===Ee?w.call(Be,B?"html":"body")[0]:B?Be.documentElement:tt},Re=function(Me){return v.call(Me.ownerDocument||Me,Me,_.SHOW_ELEMENT|_.SHOW_COMMENT|_.SHOW_TEXT,null,!1)},Pe=function(Me){return Me instanceof s||Me instanceof t?!1:typeof Me.nodeName!="string"||typeof Me.textContent!="string"||typeof Me.removeChild!="function"||!(Me.attributes instanceof p)||typeof Me.removeAttribute!="function"||typeof Me.setAttribute!="function"||typeof Me.namespaceURI!="string"||typeof Me.insertBefore!="function"},Fe=function(Me){return(typeof S>"u"?"undefined":zt(S))==="object"?Me instanceof S:Me&&(typeof Me>"u"?"undefined":zt(Me))==="object"&&typeof Me.nodeType=="number"&&typeof Me.nodeName=="string"},We=function(Me,Be,He){T[Me]&&En(T[Me],function(Ge){Ge.call(e,Be,He,ke)})},xe=function(Me){var Be=void 0;if(We("beforeSanitizeElements",Me,null),Pe(Me)||Ni(Me.nodeName,/[\u0080-\uFFFF]/))return ve(Me),!0;var He=Nt(Me.nodeName);if(We("uponSanitizeElement",Me,{tagName:He,allowedTags:W}),!Fe(Me.firstElementChild)&&(!Fe(Me.content)||!Fe(Me.content.firstElementChild))&&Lt(/<[/\w]/g,Me.innerHTML)&&Lt(/<[/\w]/g,Me.textContent)||He==="select"&&Lt(/<template/i,Me.innerHTML))return ve(Me),!0;if(!W[He]||G[He]){if(ce&&!j[He]){var Ge=c(Me)||Me.parentNode,Qe=n(Me)||Me.childNodes;if(Qe&&Ge)for(var tt=Qe.length,je=tt-1;je>=0;--je)Ge.insertBefore(d(Qe[je],!0),h(Me))}return ve(Me),!0}return Me instanceof m&&!Ce(Me)||(He==="noscript"||He==="noembed")&&Lt(/<\/no(script|embed)/i,Me.innerHTML)?(ve(Me),!0):(H&&Me.nodeType===3&&(Be=Me.textContent,Be=kt(Be,P," "),Be=kt(Be,A," "),Me.textContent!==Be&&(Vt(e.removed,{element:Me.cloneNode()}),Me.textContent=Be)),We("afterSanitizeElements",Me,null),!1)},Ke=function(Me,Be,He){if(ae&&(Be==="id"||Be==="name")&&(He in k||He in Ae))return!1;if(!(oe&&!Q[Be]&&Lt(M,Be))){if(!(re&&Lt(N,Be))){if(!U[Be]||Q[Be])return!1;if(!le[Be]){if(!Lt(x,kt(He,F,""))){if(!((Be==="src"||Be==="xlink:href"||Be==="href")&&Me!=="script"&&Dn(He,"data:")===0&&ie[Me])){if(!(te&&!Lt(R,kt(He,F,"")))){if(He)return!1}}}}}}return!0},qe=function(Me){var Be=void 0,He=void 0,Ge=void 0,Qe=void 0;We("beforeSanitizeAttributes",Me,null);var tt=Me.attributes;if(tt){var je={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:U};for(Qe=tt.length;Qe--;){Be=tt[Qe];var at=Be,ot=at.name,dt=at.namespaceURI;if(He=In(Be.value),Ge=Nt(ot),je.attrName=Ge,je.attrValue=He,je.keepAttr=!0,je.forceKeepAttr=void 0,We("uponSanitizeAttribute",Me,je),He=je.attrValue,!je.forceKeepAttr&&(_e(ot,Me),!!je.keepAttr)){if(Lt(/\/>/i,He)){_e(ot,Me);continue}H&&(He=kt(He,P," "),He=kt(He,A," "));var ut=Me.nodeName.toLowerCase();if(Ke(ut,Ge,He))try{dt?Me.setAttributeNS(dt,ot,He):Me.setAttribute(ot,He),Ti(e.removed)}catch{}}}We("afterSanitizeAttributes",Me,null)}},et=function ze(Me){var Be=void 0,He=Re(Me);for(We("beforeSanitizeShadowDOM",Me,null);Be=He.nextNode();)We("uponSanitizeShadowNode",Be,null),!xe(Be)&&(Be.content instanceof y&&ze(Be.content),qe(Be));We("afterSanitizeShadowDOM",Me,null)};return e.sanitize=function(ze,Me){var Be=void 0,He=void 0,Ge=void 0,Qe=void 0,tt=void 0;if(ye=!ze,ye&&(ze="<!-->"),typeof ze!="string"&&!Fe(ze)){if(typeof ze.toString!="function")throw Mi("toString is not a function");if(ze=ze.toString(),typeof ze!="string")throw Mi("dirty is not a string, aborting")}if(!e.isSupported){if(zt(q.toStaticHTML)==="object"||typeof q.toStaticHTML=="function"){if(typeof ze=="string")return q.toStaticHTML(ze);if(Fe(ze))return q.toStaticHTML(ze.outerHTML)}return ze}if(K||Te(Me),e.removed=[],typeof ze=="string"&&($=!1),!$)if(ze instanceof S)Be=De("<!---->"),He=Be.ownerDocument.importNode(ze,!0),He.nodeType===1&&He.nodeName==="BODY"||He.nodeName==="HTML"?Be=He:Be.appendChild(He);else{if(!J&&!H&&!B&&ze.indexOf("<")===-1)return l&&de?l.createHTML(ze):ze;if(Be=De(ze),!Be)return J?null:u}Be&&Z&&ve(Be.firstChild);for(var je=Re($?ze:Be);Ge=je.nextNode();)Ge.nodeType===3&&Ge===Qe||xe(Ge)||(Ge.content instanceof y&&et(Ge.content),qe(Ge),Qe=Ge);if(Qe=null,$)return ze;if(J){if(ne)for(tt=b.call(Be.ownerDocument);Be.firstChild;)tt.appendChild(Be.firstChild);else tt=Be;return he&&(tt=E.call(L,tt,!0)),tt}var at=B?Be.outerHTML:Be.innerHTML;return H&&(at=kt(at,P," "),at=kt(at,A," ")),l&&de?l.createHTML(at):at},e.setConfig=function(ze){Te(ze),K=!0},e.clearConfig=function(){ke=null,K=!1},e.isValidAttribute=function(ze,Me,Be){ke||Te({});var He=Nt(ze),Ge=Nt(Me);return Ke(He,Ge,Be)},e.addHook=function(ze,Me){typeof Me=="function"&&(T[ze]=T[ze]||[],Vt(T[ze],Me))},e.removeHook=function(ze){T[ze]&&Ti(T[ze])},e.removeHooks=function(ze){T[ze]&&(T[ze]=[])},e.removeAllHooks=function(){T={}},e}var Vn=Fi();define("vs/base/browser/dompurify/dompurify",function(){return Vn}),define(X[34],ee([1,0]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createFastDomNode=e.FastDomNode=void 0;class L{constructor(S){this.domNode=S,this._maxWidth="",this._width="",this._height="",this._top="",this._left="",this._bottom="",this._right="",this._paddingLeft="",this._fontFamily="",this._fontWeight="",this._fontSize="",this._fontStyle="",this._fontFeatureSettings="",this._fontVariationSettings="",this._textDecoration="",this._lineHeight="",this._letterSpacing="",this._className="",this._display="",this._position="",this._visibility="",this._color="",this._backgroundColor="",this._layerHint=!1,this._contain="none",this._boxShadow=""}setMaxWidth(S){const m=k(S);this._maxWidth!==m&&(this._maxWidth=m,this.domNode.style.maxWidth=this._maxWidth)}setWidth(S){const m=k(S);this._width!==m&&(this._width=m,this.domNode.style.width=this._width)}setHeight(S){const m=k(S);this._height!==m&&(this._height=m,this.domNode.style.height=this._height)}setTop(S){const m=k(S);this._top!==m&&(this._top=m,this.domNode.style.top=this._top)}setLeft(S){const m=k(S);this._left!==m&&(this._left=m,this.domNode.style.left=this._left)}setBottom(S){const m=k(S);this._bottom!==m&&(this._bottom=m,this.domNode.style.bottom=this._bottom)}setRight(S){const m=k(S);this._right!==m&&(this._right=m,this.domNode.style.right=this._right)}setPaddingLeft(S){const m=k(S);this._paddingLeft!==m&&(this._paddingLeft=m,this.domNode.style.paddingLeft=this._paddingLeft)}setFontFamily(S){this._fontFamily!==S&&(this._fontFamily=S,this.domNode.style.fontFamily=this._fontFamily)}setFontWeight(S){this._fontWeight!==S&&(this._fontWeight=S,this.domNode.style.fontWeight=this._fontWeight)}setFontSize(S){const m=k(S);this._fontSize!==m&&(this._fontSize=m,this.domNode.style.fontSize=this._fontSize)}setFontStyle(S){this._fontStyle!==S&&(this._fontStyle=S,this.domNode.style.fontStyle=this._fontStyle)}setFontFeatureSettings(S){this._fontFeatureSettings!==S&&(this._fontFeatureSettings=S,this.domNode.style.fontFeatureSettings=this._fontFeatureSettings)}setFontVariationSettings(S){this._fontVariationSettings!==S&&(this._fontVariationSettings=S,this.domNode.style.fontVariationSettings=this._fontVariationSettings)}setTextDecoration(S){this._textDecoration!==S&&(this._textDecoration=S,this.domNode.style.textDecoration=this._textDecoration)}setLineHeight(S){const m=k(S);this._lineHeight!==m&&(this._lineHeight=m,this.domNode.style.lineHeight=this._lineHeight)}setLetterSpacing(S){const m=k(S);this._letterSpacing!==m&&(this._letterSpacing=m,this.domNode.style.letterSpacing=this._letterSpacing)}setClassName(S){this._className!==S&&(this._className=S,this.domNode.className=this._className)}toggleClassName(S,m){this.domNode.classList.toggle(S,m),this._className=this.domNode.className}setDisplay(S){this._display!==S&&(this._display=S,this.domNode.style.display=this._display)}setPosition(S){this._position!==S&&(this._position=S,this.domNode.style.position=this._position)}setVisibility(S){this._visibility!==S&&(this._visibility=S,this.domNode.style.visibility=this._visibility)}setColor(S){this._color!==S&&(this._color=S,this.domNode.style.color=this._color)}setBackgroundColor(S){this._backgroundColor!==S&&(this._backgroundColor=S,this.domNode.style.backgroundColor=this._backgroundColor)}setLayerHinting(S){this._layerHint!==S&&(this._layerHint=S,this.domNode.style.transform=this._layerHint?"translate3d(0px, 0px, 0px)":"")}setBoxShadow(S){this._boxShadow!==S&&(this._boxShadow=S,this.domNode.style.boxShadow=S)}setContain(S){this._contain!==S&&(this._contain=S,this.domNode.style.contain=this._contain)}setAttribute(S,m){this.domNode.setAttribute(S,m)}removeAttribute(S){this.domNode.removeAttribute(S)}appendChild(S){this.domNode.appendChild(S.domNode)}removeChild(S){this.domNode.removeChild(S.domNode)}}e.FastDomNode=L;function k(D){return typeof D=="number"?`${D}px`:D}function y(D){return new L(D)}e.createFastDomNode=y}),define(X[375],ee([1,0]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IframeUtils=void 0;let L=!1,k=null;function y(S){if(!S.parent||S.parent===S)return null;try{const m=S.location,_=S.parent.location;if(m.origin!=="null"&&_.origin!=="null"&&m.origin!==_.origin)return L=!0,null}catch{return L=!0,null}return S.parent}class D{static getSameOriginWindowChain(){if(!k){k=[];let m=window,_;do _=y(m),_?k.push({window:m,iframeElement:m.frameElement||null}):k.push({window:m,iframeElement:null}),m=_;while(m)}return k.slice(0)}static getPositionOfChildWindowRelativeToAncestorWindow(m,_){if(!_||m===_)return{top:0,left:0};let f=0,p=0;const s=this.getSameOriginWindowChain();for(const t of s){if(f+=t.window.scrollY,p+=t.window.scrollX,t.window===_||!t.iframeElement)break;const i=t.iframeElement.getBoundingClientRect();f+=i.top,p+=i.left}return{top:f,left:p}}}e.IframeUtils=D}),define(X[258],ee([1,0]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.inputLatency=void 0;var L;(function(k){const y={total:0,min:Number.MAX_VALUE,max:0},D=Object.assign({},y),S=Object.assign({},y),m=Object.assign({},y);let _=0;const f={keydown:0,input:0,render:0};function p(){a(),performance.mark("inputlatency/start"),performance.mark("keydown/start"),f.keydown=1,queueMicrotask(s)}k.onKeyDown=p;function s(){f.keydown===1&&(performance.mark("keydown/end"),f.keydown=2)}function t(){performance.mark("input/start"),f.input=1,c()}k.onBeforeInput=t;function i(){f.input===0&&t(),queueMicrotask(o)}k.onInput=i;function o(){f.input===1&&(performance.mark("input/end"),f.input=2)}function r(){a()}k.onKeyUp=r;function d(){a()}k.onSelectionChange=d;function h(){f.keydown===2&&f.input===2&&f.render===0&&(performance.mark("render/start"),f.render=1,queueMicrotask(n),c())}k.onRenderStart=h;function n(){f.render===1&&(performance.mark("render/end"),f.render=2)}function c(){setTimeout(a)}function a(){f.keydown===2&&f.input===2&&f.render===2&&(performance.mark("inputlatency/end"),performance.measure("keydown","keydown/start","keydown/end"),performance.measure("input","input/start","input/end"),performance.measure("render","render/start","render/end"),performance.measure("inputlatency","inputlatency/start","inputlatency/end"),l("keydown",y),l("input",D),l("render",S),l("inputlatency",m),_++,u())}function l(b,w){const E=performance.getEntriesByName(b)[0].duration;w.total+=E,w.min=Math.min(w.min,E),w.max=Math.max(w.max,E)}function u(){performance.clearMarks("keydown/start"),performance.clearMarks("keydown/end"),performance.clearMarks("input/start"),performance.clearMarks("input/end"),performance.clearMarks("render/start"),performance.clearMarks("render/end"),performance.clearMarks("inputlatency/start"),performance.clearMarks("inputlatency/end"),performance.clearMeasures("keydown"),performance.clearMeasures("input"),performance.clearMeasures("render"),performance.clearMeasures("inputlatency"),f.keydown=0,f.input=0,f.render=0}function C(){if(_===0)return;const b={keydown:g(y),input:g(D),render:g(S),total:g(m),sampleCount:_};return v(y),v(D),v(S),v(m),_=0,b}k.getAndClearMeasurements=C;function g(b){return{average:b.total/_,max:b.max,min:b.min}}function v(b){b.total=0,b.min=Number.MAX_VALUE,b.max=0}})(L||(e.inputLatency=L={}))}),define(X[376],ee([1,0]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ListError=void 0;class L extends Error{constructor(y,D){super(`ListError [${y}] ${D}`)}}e.ListError=L}),define(X[377],ee([1,0]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CombinedSpliceable=void 0;class L{constructor(y){this.spliceables=y}splice(y,D,S){this.spliceables.forEach(m=>m.splice(y,D,S))}}e.CombinedSpliceable=L}),define(X[259],ee([1,0]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ScrollbarState=void 0;const L=20;class k{constructor(D,S,m,_,f,p){this._scrollbarSize=Math.round(S),this._oppositeScrollbarSize=Math.round(m),this._arrowSize=Math.round(D),this._visibleSize=_,this._scrollSize=f,this._scrollPosition=p,this._computedAvailableSize=0,this._computedIsNeeded=!1,this._computedSliderSize=0,this._computedSliderRatio=0,this._computedSliderPosition=0,this._refreshComputedValues()}clone(){return new k(this._arrowSize,this._scrollbarSize,this._oppositeScrollbarSize,this._visibleSize,this._scrollSize,this._scrollPosition)}setVisibleSize(D){const S=Math.round(D);return this._visibleSize!==S?(this._visibleSize=S,this._refreshComputedValues(),!0):!1}setScrollSize(D){const S=Math.round(D);return this._scrollSize!==S?(this._scrollSize=S,this._refreshComputedValues(),!0):!1}setScrollPosition(D){const S=Math.round(D);return this._scrollPosition!==S?(this._scrollPosition=S,this._refreshComputedValues(),!0):!1}setScrollbarSize(D){this._scrollbarSize=Math.round(D)}setOppositeScrollbarSize(D){this._oppositeScrollbarSize=Math.round(D)}static _computeValues(D,S,m,_,f){const p=Math.max(0,m-D),s=Math.max(0,p-2*S),t=_>0&&_>m;if(!t)return{computedAvailableSize:Math.round(p),computedIsNeeded:t,computedSliderSize:Math.round(s),computedSliderRatio:0,computedSliderPosition:0};const i=Math.round(Math.max(L,Math.floor(m*s/_))),o=(s-i)/(_-m),r=f*o;return{computedAvailableSize:Math.round(p),computedIsNeeded:t,computedSliderSize:Math.round(i),computedSliderRatio:o,computedSliderPosition:Math.round(r)}}_refreshComputedValues(){const D=k._computeValues(this._oppositeScrollbarSize,this._arrowSize,this._visibleSize,this._scrollSize,this._scrollPosition);this._computedAvailableSize=D.computedAvailableSize,this._computedIsNeeded=D.computedIsNeeded,this._computedSliderSize=D.computedSliderSize,this._computedSliderRatio=D.computedSliderRatio,this._computedSliderPosition=D.computedSliderPosition}getArrowSize(){return this._arrowSize}getScrollPosition(){return this._scrollPosition}getRectangleLargeSize(){return this._computedAvailableSize}getRectangleSmallSize(){return this._scrollbarSize}isNeeded(){return this._computedIsNeeded}getSliderSize(){return this._computedSliderSize}getSliderPosition(){return this._computedSliderPosition}getDesiredScrollPositionFromOffset(D){if(!this._computedIsNeeded)return 0;const S=D-this._arrowSize-this._computedSliderSize/2;return Math.round(S/this._computedSliderRatio)}getDesiredScrollPositionFromOffsetPaged(D){if(!this._computedIsNeeded)return 0;const S=D-this._arrowSize;let m=this._scrollPosition;return S<this._computedSliderPosition?m-=this._visibleSize:m+=this._visibleSize,m}getDesiredScrollPositionFromDelta(D){if(!this._computedIsNeeded)return 0;const S=this._computedSliderPosition+D;return Math.round(S/this._computedSliderRatio)}}e.ScrollbarState=k}),define(X[137],ee([1,0]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WeakMapper=e.TreeError=e.TreeMouseEventTarget=e.ObjectTreeElementCollapseState=void 0;var L;(function(S){S[S.Expanded=0]="Expanded",S[S.Collapsed=1]="Collapsed",S[S.PreserveOrExpanded=2]="PreserveOrExpanded",S[S.PreserveOrCollapsed=3]="PreserveOrCollapsed"})(L||(e.ObjectTreeElementCollapseState=L={}));var k;(function(S){S[S.Unknown=0]="Unknown",S[S.Twistie=1]="Twistie",S[S.Element=2]="Element",S[S.Filter=3]="Filter"})(k||(e.TreeMouseEventTarget=k={}));class y extends Error{constructor(m,_){super(`TreeError [${m}] ${_}`)}}e.TreeError=y;class D{constructor(m){this.fn=m,this._map=new WeakMap}map(m){let _=this._map.get(m);return _||(_=this.fn(m),this._map.set(m,_)),_}}e.WeakMapper=D}),define(X[16],ee([1,0]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CallbackIterable=e.ArrayQueue=e.findMinBy=e.findLastMaxBy=e.findMaxBy=e.numberComparator=e.compareBy=e.CompareResult=e.splice=e.insertInto=e.mapFind=e.asArray=e.pushMany=e.pushToEnd=e.pushToStart=e.arrayInsert=e.range=e.firstOrDefault=e.lastIndex=e.findLast=e.distinct=e.isNonEmptyArray=e.isFalsyOrEmpty=e.coalesceInPlace=e.coalesce=e.groupBy=e.quickSelect=e.findFirstInSorted=e.binarySearch2=e.binarySearch=e.removeFastWithoutKeepingOrder=e.equals=e.tail2=e.tail=void 0;function L(x,W=0){return x[x.length-(1+W)]}e.tail=L;function k(x){if(x.length===0)throw new Error("Invalid tail call");return[x.slice(0,x.length-1),x[x.length-1]]}e.tail2=k;function y(x,W,z=(U,O)=>U===O){if(x===W)return!0;if(!x||!W||x.length!==W.length)return!1;for(let U=0,O=x.length;U<O;U++)if(!z(x[U],W[U]))return!1;return!0}e.equals=y;function D(x,W){const z=x.length-1;W<z&&(x[W]=x[z]),x.pop()}e.removeFastWithoutKeepingOrder=D;function S(x,W,z){return m(x.length,U=>z(x[U],W))}e.binarySearch=S;function m(x,W){let z=0,U=x-1;for(;z<=U;){const O=(z+U)/2|0,G=W(O);if(G<0)z=O+1;else if(G>0)U=O-1;else return O}return-(z+1)}e.binarySearch2=m;function _(x,W){let z=0,U=x.length;if(U===0)return 0;for(;z<U;){const O=Math.floor((z+U)/2);W(x[O])?U=O:z=O+1}return z}e.findFirstInSorted=_;function f(x,W,z){if(x=x|0,x>=W.length)throw new TypeError("invalid index");const U=W[Math.floor(W.length*Math.random())],O=[],G=[],Q=[];for(const re of W){const oe=z(re,U);oe<0?O.push(re):oe>0?G.push(re):Q.push(re)}return x<O.length?f(x,O,z):x<O.length+Q.length?Q[0]:f(x-(O.length+Q.length),G,z)}e.quickSelect=f;function p(x,W){const z=[];let U;for(const O of x.slice(0).sort(W))!U||W(U[0],O)!==0?(U=[O],z.push(U)):U.push(O);return z}e.groupBy=p;function s(x){return x.filter(W=>!!W)}e.coalesce=s;function t(x){let W=0;for(let z=0;z<x.length;z++)x[z]&&(x[W]=x[z],W+=1);x.length=W}e.coalesceInPlace=t;function i(x){return!Array.isArray(x)||x.length===0}e.isFalsyOrEmpty=i;function o(x){return Array.isArray(x)&&x.length>0}e.isNonEmptyArray=o;function r(x,W=z=>z){const z=new Set;return x.filter(U=>{const O=W(U);return z.has(O)?!1:(z.add(O),!0)})}e.distinct=r;function d(x,W){const z=h(x,W);if(z!==-1)return x[z]}e.findLast=d;function h(x,W){for(let z=x.length-1;z>=0;z--){const U=x[z];if(W(U))return z}return-1}e.lastIndex=h;function n(x,W){return x.length>0?x[0]:W}e.firstOrDefault=n;function c(x,W){let z=typeof W=="number"?x:0;typeof W=="number"?z=x:(z=0,W=x);const U=[];if(z<=W)for(let O=z;O<W;O++)U.push(O);else for(let O=z;O>W;O--)U.push(O);return U}e.range=c;function a(x,W,z){const U=x.slice(0,W),O=x.slice(W);return U.concat(z,O)}e.arrayInsert=a;function l(x,W){const z=x.indexOf(W);z>-1&&(x.splice(z,1),x.unshift(W))}e.pushToStart=l;function u(x,W){const z=x.indexOf(W);z>-1&&(x.splice(z,1),x.push(W))}e.pushToEnd=u;function C(x,W){for(const z of W)x.push(z)}e.pushMany=C;function g(x){return Array.isArray(x)?x:[x]}e.asArray=g;function v(x,W){for(const z of x){const U=W(z);if(U!==void 0)return U}}e.mapFind=v;function b(x,W,z){const U=E(x,W),O=x.length,G=z.length;x.length=O+G;for(let Q=O-1;Q>=U;Q--)x[Q+G]=x[Q];for(let Q=0;Q<G;Q++)x[Q+U]=z[Q]}e.insertInto=b;function w(x,W,z,U){const O=E(x,W),G=x.splice(O,z);return b(x,O,U),G}e.splice=w;function E(x,W){return W<0?Math.max(W+x.length,0):Math.min(W,x.length)}var I;(function(x){function W(O){return O<0}x.isLessThan=W;function z(O){return O>0}x.isGreaterThan=z;function U(O){return O===0}x.isNeitherLessOrGreaterThan=U,x.greaterThan=1,x.lessThan=-1,x.neitherLessOrGreaterThan=0})(I||(e.CompareResult=I={}));function T(x,W){return(z,U)=>W(x(z),x(U))}e.compareBy=T;const P=(x,W)=>x-W;e.numberComparator=P;function A(x,W){if(x.length===0)return;let z=x[0];for(let U=1;U<x.length;U++){const O=x[U];W(O,z)>0&&(z=O)}return z}e.findMaxBy=A;function M(x,W){if(x.length===0)return;let z=x[0];for(let U=1;U<x.length;U++){const O=x[U];W(O,z)>=0&&(z=O)}return z}e.findLastMaxBy=M;function N(x,W){return A(x,(z,U)=>-W(z,U))}e.findMinBy=N;class R{constructor(W){this.items=W,this.firstIdx=0,this.lastIdx=this.items.length-1}get length(){return this.lastIdx-this.firstIdx+1}takeWhile(W){let z=this.firstIdx;for(;z<this.items.length&&W(this.items[z]);)z++;const U=z===this.firstIdx?null:this.items.slice(this.firstIdx,z);return this.firstIdx=z,U}takeFromEndWhile(W){let z=this.lastIdx;for(;z>=0&&W(this.items[z]);)z--;const U=z===this.lastIdx?null:this.items.slice(z+1,this.lastIdx+1);return this.lastIdx=z,U}peek(){if(this.length!==0)return this.items[this.firstIdx]}dequeue(){const W=this.items[this.firstIdx];return this.firstIdx++,W}takeCount(W){const z=this.items.slice(this.firstIdx,this.firstIdx+W);return this.firstIdx+=W,z}}e.ArrayQueue=R;class F{constructor(W){this.iterate=W}toArray(){const W=[];return this.iterate(z=>(W.push(z),!0)),W}filter(W){return new F(z=>this.iterate(U=>W(U)?z(U):!0))}map(W){return new F(z=>this.iterate(U=>z(W(U))))}findLast(W){let z;return this.iterate(U=>(W(U)&&(z=U),!0)),z}findLastMaxBy(W){let z,U=!0;return this.iterate(O=>((U||I.isGreaterThan(W(O,z)))&&(U=!1,z=O),!0)),z}}e.CallbackIterable=F,F.empty=new F(x=>{})}),define(X[260],ee([1,0]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CachedFunction=e.LRUCachedFunction=void 0;class L{constructor(D){this.fn=D,this.lastCache=void 0,this.lastArgKey=void 0}get(D){const S=JSON.stringify(D);return this.lastArgKey!==S&&(this.lastArgKey=S,this.lastCache=this.fn(D)),this.lastCache}}e.LRUCachedFunction=L;class k{get cachedValues(){return this._map}constructor(D){this.fn=D,this._map=new Map}get(D){if(this._map.has(D))return this._map.get(D);const S=this.fn(D);return this._map.set(D,S),S}}e.CachedFunction=k}),define(X[378],ee([1,0]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SetMap=void 0;class L{constructor(){this.map=new Map}add(y,D){let S=this.map.get(y);S||(S=new Set,this.map.set(y,S)),S.add(D)}delete(y,D){const S=this.map.get(y);S&&(S.delete(D),S.size===0&&this.map.delete(y))}forEach(y,D){const S=this.map.get(y);S&&S.forEach(D)}}e.SetMap=L}),define(X[36],ee([1,0]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Color=e.HSVA=e.HSLA=e.RGBA=void 0;function L(m,_){const f=Math.pow(10,_);return Math.round(m*f)/f}class k{constructor(_,f,p,s=1){this._rgbaBrand=void 0,this.r=Math.min(255,Math.max(0,_))|0,this.g=Math.min(255,Math.max(0,f))|0,this.b=Math.min(255,Math.max(0,p))|0,this.a=L(Math.max(Math.min(1,s),0),3)}static equals(_,f){return _.r===f.r&&_.g===f.g&&_.b===f.b&&_.a===f.a}}e.RGBA=k;class y{constructor(_,f,p,s){this._hslaBrand=void 0,this.h=Math.max(Math.min(360,_),0)|0,this.s=L(Math.max(Math.min(1,f),0),3),this.l=L(Math.max(Math.min(1,p),0),3),this.a=L(Math.max(Math.min(1,s),0),3)}static equals(_,f){return _.h===f.h&&_.s===f.s&&_.l===f.l&&_.a===f.a}static fromRGBA(_){const f=_.r/255,p=_.g/255,s=_.b/255,t=_.a,i=Math.max(f,p,s),o=Math.min(f,p,s);let r=0,d=0;const h=(o+i)/2,n=i-o;if(n>0){switch(d=Math.min(h<=.5?n/(2*h):n/(2-2*h),1),i){case f:r=(p-s)/n+(p<s?6:0);break;case p:r=(s-f)/n+2;break;case s:r=(f-p)/n+4;break}r*=60,r=Math.round(r)}return new y(r,d,h,t)}static _hue2rgb(_,f,p){return p<0&&(p+=1),p>1&&(p-=1),p<1/6?_+(f-_)*6*p:p<1/2?f:p<2/3?_+(f-_)*(2/3-p)*6:_}static toRGBA(_){const f=_.h/360,{s:p,l:s,a:t}=_;let i,o,r;if(p===0)i=o=r=s;else{const d=s<.5?s*(1+p):s+p-s*p,h=2*s-d;i=y._hue2rgb(h,d,f+1/3),o=y._hue2rgb(h,d,f),r=y._hue2rgb(h,d,f-1/3)}return new k(Math.round(i*255),Math.round(o*255),Math.round(r*255),t)}}e.HSLA=y;class D{constructor(_,f,p,s){this._hsvaBrand=void 0,this.h=Math.max(Math.min(360,_),0)|0,this.s=L(Math.max(Math.min(1,f),0),3),this.v=L(Math.max(Math.min(1,p),0),3),this.a=L(Math.max(Math.min(1,s),0),3)}static equals(_,f){return _.h===f.h&&_.s===f.s&&_.v===f.v&&_.a===f.a}static fromRGBA(_){const f=_.r/255,p=_.g/255,s=_.b/255,t=Math.max(f,p,s),i=Math.min(f,p,s),o=t-i,r=t===0?0:o/t;let d;return o===0?d=0:t===f?d=((p-s)/o%6+6)%6:t===p?d=(s-f)/o+2:d=(f-p)/o+4,new D(Math.round(d*60),r,t,_.a)}static toRGBA(_){const{h:f,s:p,v:s,a:t}=_,i=s*p,o=i*(1-Math.abs(f/60%2-1)),r=s-i;let[d,h,n]=[0,0,0];return f<60?(d=i,h=o):f<120?(d=o,h=i):f<180?(h=i,n=o):f<240?(h=o,n=i):f<300?(d=o,n=i):f<=360&&(d=i,n=o),d=Math.round((d+r)*255),h=Math.round((h+r)*255),n=Math.round((n+r)*255),new k(d,h,n,t)}}e.HSVA=D;class S{static fromHex(_){return S.Format.CSS.parseHex(_)||S.red}static equals(_,f){return!_&&!f?!0:!_||!f?!1:_.equals(f)}get hsla(){return this._hsla?this._hsla:y.fromRGBA(this.rgba)}get hsva(){return this._hsva?this._hsva:D.fromRGBA(this.rgba)}constructor(_){if(_)if(_ instanceof k)this.rgba=_;else if(_ instanceof y)this._hsla=_,this.rgba=y.toRGBA(_);else if(_ instanceof D)this._hsva=_,this.rgba=D.toRGBA(_);else throw new Error("Invalid color ctor argument");else throw new Error("Color needs a value")}equals(_){return!!_&&k.equals(this.rgba,_.rgba)&&y.equals(this.hsla,_.hsla)&&D.equals(this.hsva,_.hsva)}getRelativeLuminance(){const _=S._relativeLuminanceForComponent(this.rgba.r),f=S._relativeLuminanceForComponent(this.rgba.g),p=S._relativeLuminanceForComponent(this.rgba.b),s=.2126*_+.7152*f+.0722*p;return L(s,4)}static _relativeLuminanceForComponent(_){const f=_/255;return f<=.03928?f/12.92:Math.pow((f+.055)/1.055,2.4)}isLighter(){return(this.rgba.r*299+this.rgba.g*587+this.rgba.b*114)/1e3>=128}isLighterThan(_){const f=this.getRelativeLuminance(),p=_.getRelativeLuminance();return f>p}isDarkerThan(_){const f=this.getRelativeLuminance(),p=_.getRelativeLuminance();return f<p}lighten(_){return new S(new y(this.hsla.h,this.hsla.s,this.hsla.l+this.hsla.l*_,this.hsla.a))}darken(_){return new S(new y(this.hsla.h,this.hsla.s,this.hsla.l-this.hsla.l*_,this.hsla.a))}transparent(_){const{r:f,g:p,b:s,a:t}=this.rgba;return new S(new k(f,p,s,t*_))}isTransparent(){return this.rgba.a===0}isOpaque(){return this.rgba.a===1}opposite(){return new S(new k(255-this.rgba.r,255-this.rgba.g,255-this.rgba.b,this.rgba.a))}makeOpaque(_){if(this.isOpaque()||_.rgba.a!==1)return this;const{r:f,g:p,b:s,a:t}=this.rgba;return new S(new k(_.rgba.r-t*(_.rgba.r-f),_.rgba.g-t*(_.rgba.g-p),_.rgba.b-t*(_.rgba.b-s),1))}toString(){return this._toString||(this._toString=S.Format.CSS.format(this)),this._toString}static getLighterColor(_,f,p){if(_.isLighterThan(f))return _;p=p||.5;const s=_.getRelativeLuminance(),t=f.getRelativeLuminance();return p=p*(t-s)/t,_.lighten(p)}static getDarkerColor(_,f,p){if(_.isDarkerThan(f))return _;p=p||.5;const s=_.getRelativeLuminance(),t=f.getRelativeLuminance();return p=p*(s-t)/s,_.darken(p)}}e.Color=S,S.white=new S(new k(255,255,255,1)),S.black=new S(new k(0,0,0,1)),S.red=new S(new k(255,0,0,1)),S.blue=new S(new k(0,0,255,1)),S.green=new S(new k(0,255,0,1)),S.cyan=new S(new k(0,255,255,1)),S.lightgrey=new S(new k(211,211,211,1)),S.transparent=new S(new k(0,0,0,0)),function(m){let _;(function(f){let p;(function(s){function t(u){return u.rgba.a===1?`rgb(${u.rgba.r}, ${u.rgba.g}, ${u.rgba.b})`:m.Format.CSS.formatRGBA(u)}s.formatRGB=t;function i(u){return`rgba(${u.rgba.r}, ${u.rgba.g}, ${u.rgba.b}, ${+u.rgba.a.toFixed(2)})`}s.formatRGBA=i;function o(u){return u.hsla.a===1?`hsl(${u.hsla.h}, ${(u.hsla.s*100).toFixed(2)}%, ${(u.hsla.l*100).toFixed(2)}%)`:m.Format.CSS.formatHSLA(u)}s.formatHSL=o;function r(u){return`hsla(${u.hsla.h}, ${(u.hsla.s*100).toFixed(2)}%, ${(u.hsla.l*100).toFixed(2)}%, ${u.hsla.a.toFixed(2)})`}s.formatHSLA=r;function d(u){const C=u.toString(16);return C.length!==2?"0"+C:C}function h(u){return`#${d(u.rgba.r)}${d(u.rgba.g)}${d(u.rgba.b)}`}s.formatHex=h;function n(u,C=!1){return C&&u.rgba.a===1?m.Format.CSS.formatHex(u):`#${d(u.rgba.r)}${d(u.rgba.g)}${d(u.rgba.b)}${d(Math.round(u.rgba.a*255))}`}s.formatHexA=n;function c(u){return u.isOpaque()?m.Format.CSS.formatHex(u):m.Format.CSS.formatRGBA(u)}s.format=c;function a(u){const C=u.length;if(C===0||u.charCodeAt(0)!==35)return null;if(C===7){const g=16*l(u.charCodeAt(1))+l(u.charCodeAt(2)),v=16*l(u.charCodeAt(3))+l(u.charCodeAt(4)),b=16*l(u.charCodeAt(5))+l(u.charCodeAt(6));return new m(new k(g,v,b,1))}if(C===9){const g=16*l(u.charCodeAt(1))+l(u.charCodeAt(2)),v=16*l(u.charCodeAt(3))+l(u.charCodeAt(4)),b=16*l(u.charCodeAt(5))+l(u.charCodeAt(6)),w=16*l(u.charCodeAt(7))+l(u.charCodeAt(8));return new m(new k(g,v,b,w/255))}if(C===4){const g=l(u.charCodeAt(1)),v=l(u.charCodeAt(2)),b=l(u.charCodeAt(3));return new m(new k(16*g+g,16*v+v,16*b+b))}if(C===5){const g=l(u.charCodeAt(1)),v=l(u.charCodeAt(2)),b=l(u.charCodeAt(3)),w=l(u.charCodeAt(4));return new m(new k(16*g+g,16*v+v,16*b+b,(16*w+w)/255))}return null}s.parseHex=a;function l(u){switch(u){case 48:return 0;case 49:return 1;case 50:return 2;case 51:return 3;case 52:return 4;case 53:return 5;case 54:return 6;case 55:return 7;case 56:return 8;case 57:return 9;case 97:return 10;case 65:return 10;case 98:return 11;case 66:return 11;case 99:return 12;case 67:return 12;case 100:return 13;case 68:return 13;case 101:return 14;case 69:return 14;case 102:return 15;case 70:return 15}return 0}})(p=f.CSS||(f.CSS={}))})(_=m.Format||(m.Format={}))}(S||(e.Color=S={}))}),define(X[104],ee([1,0]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.memoize=void 0;function L(k,y,D){let S=null,m=null;if(typeof D.value=="function"?(S="value",m=D.value,m.length!==0&&console.warn("Memoize should only be used in functions with zero parameters")):typeof D.get=="function"&&(S="get",m=D.get),!m)throw new Error("not supported");const _=`$memoize$${y}`;D[S]=function(...f){return this.hasOwnProperty(_)||Object.defineProperty(this,_,{configurable:!1,enumerable:!1,writable:!1,value:m.apply(this,f)}),this[_]}}e.memoize=L}),define(X[379],ee([1,0]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiffChange=void 0;class L{constructor(y,D,S,m){this.originalStart=y,this.originalLength=D,this.modifiedStart=S,this.modifiedLength=m}getOriginalEnd(){return this.originalStart+this.originalLength}getModifiedEnd(){return this.modifiedStart+this.modifiedLength}}e.DiffChange=L}),define(X[12],ee([1,0]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BugIndicatingError=e.ErrorNoTelemetry=e.NotSupportedError=e.illegalState=e.illegalArgument=e.canceled=e.CancellationError=e.isCancellationError=e.transformErrorForSerialization=e.onUnexpectedExternalError=e.onUnexpectedError=e.errorHandler=e.ErrorHandler=void 0;class L{constructor(){this.listeners=[],this.unexpectedErrorHandler=function(d){setTimeout(()=>{throw d.stack?i.isErrorNoTelemetry(d)?new i(d.message+`

`+d.stack):new Error(d.message+`

`+d.stack):d},0)}}emit(d){this.listeners.forEach(h=>{h(d)})}onUnexpectedError(d){this.unexpectedErrorHandler(d),this.emit(d)}onUnexpectedExternalError(d){this.unexpectedErrorHandler(d)}}e.ErrorHandler=L,e.errorHandler=new L;function k(r){m(r)||e.errorHandler.onUnexpectedError(r)}e.onUnexpectedError=k;function y(r){m(r)||e.errorHandler.onUnexpectedExternalError(r)}e.onUnexpectedExternalError=y;function D(r){if(r instanceof Error){const{name:d,message:h}=r,n=r.stacktrace||r.stack;return{$isError:!0,name:d,message:h,stack:n,noTelemetry:i.isErrorNoTelemetry(r)}}return r}e.transformErrorForSerialization=D;const S="Canceled";function m(r){return r instanceof _?!0:r instanceof Error&&r.name===S&&r.message===S}e.isCancellationError=m;class _ extends Error{constructor(){super(S),this.name=this.message}}e.CancellationError=_;function f(){const r=new Error(S);return r.name=r.message,r}e.canceled=f;function p(r){return r?new Error(`Illegal argument: ${r}`):new Error("Illegal argument")}e.illegalArgument=p;function s(r){return r?new Error(`Illegal state: ${r}`):new Error("Illegal state")}e.illegalState=s;class t extends Error{constructor(d){super("NotSupported"),d&&(this.message=d)}}e.NotSupportedError=t;class i extends Error{constructor(d){super(d),this.name="CodeExpectedError"}static fromError(d){if(d instanceof i)return d;const h=new i;return h.message=d.message,h.stack=d.stack,h}static isErrorNoTelemetry(d){return d.name==="CodeExpectedError"}}e.ErrorNoTelemetry=i;class o extends Error{constructor(d){super(d||"An unexpected bug occurred."),Object.setPrototypeOf(this,o.prototype)}}e.BugIndicatingError=o}),define(X[89],ee([1,0,12]),function(q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createTrustedTypesPolicy=void 0;function k(y,D){var S;const m=globalThis.MonacoEnvironment;if(m?.createTrustedTypesPolicy)try{return m.createTrustedTypesPolicy(y,D)}catch(_){(0,L.onUnexpectedError)(_);return}try{return(S=window.trustedTypes)===null||S===void 0?void 0:S.createPolicy(y,D)}catch(_){(0,L.onUnexpectedError)(_);return}}e.createTrustedTypesPolicy=k}),define(X[84],ee([1,0,12]),function(q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.checkAdjacentItems=e.assertFn=e.assertNever=e.ok=void 0;function k(m,_){if(!m)throw new Error(_?`Assertion failed (${_})`:"Assertion Failed")}e.ok=k;function y(m,_="Unreachable"){throw new Error(_)}e.assertNever=y;function D(m){if(!m()){debugger;m(),(0,L.onUnexpectedError)(new L.BugIndicatingError("Assertion Failed"))}}e.assertFn=D;function S(m,_){let f=0;for(;f<m.length-1;){const p=m[f],s=m[f+1];if(!_(p,s))return!1;f++}return!0}e.checkAdjacentItems=S}),define(X[98],ee([1,0]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.once=void 0;function L(k){const y=this;let D=!1,S;return function(){return D||(D=!0,S=k.apply(y,arguments)),S}}e.once=L}),define(X[166],ee([1,0]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.defaultGenerator=e.IdGenerator=void 0;class L{constructor(y){this._prefix=y,this._lastId=0}nextId(){return this._prefix+ ++this._lastId}}e.IdGenerator=L,e.defaultGenerator=new L("id#")}),define(X[50],ee([1,0]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Iterable=void 0;var L;(function(k){function y(a){return a&&typeof a=="object"&&typeof a[Symbol.iterator]=="function"}k.is=y;const D=Object.freeze([]);function S(){return D}k.empty=S;function*m(a){yield a}k.single=m;function _(a){return y(a)?a:m(a)}k.wrap=_;function f(a){return a||D}k.from=f;function p(a){return!a||a[Symbol.iterator]().next().done===!0}k.isEmpty=p;function s(a){return a[Symbol.iterator]().next().value}k.first=s;function t(a,l){for(const u of a)if(l(u))return!0;return!1}k.some=t;function i(a,l){for(const u of a)if(l(u))return u}k.find=i;function*o(a,l){for(const u of a)l(u)&&(yield u)}k.filter=o;function*r(a,l){let u=0;for(const C of a)yield l(C,u++)}k.map=r;function*d(...a){for(const l of a)for(const u of l)yield u}k.concat=d;function h(a,l,u){let C=u;for(const g of a)C=l(C,g);return C}k.reduce=h;function*n(a,l,u=a.length){for(l<0&&(l+=a.length),u<0?u+=a.length:u>a.length&&(u=a.length);l<u;l++)yield a[l]}k.slice=n;function c(a,l=Number.POSITIVE_INFINITY){const u=[];if(l===0)return[u,a];const C=a[Symbol.iterator]();for(let g=0;g<l;g++){const v=C.next();if(v.done)return[u,k.empty()];u.push(v.value)}return[u,{[Symbol.iterator](){return C}}]}k.consume=c})(L||(e.Iterable=L={}))}),define(X[62],ee([1,0]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.KeyChord=e.KeyCodeUtils=e.IMMUTABLE_KEY_CODE_TO_CODE=e.IMMUTABLE_CODE_TO_KEY_CODE=e.NATIVE_WINDOWS_KEY_CODE_TO_KEY_CODE=e.EVENT_KEY_CODE_MAP=void 0;class L{constructor(){this._keyCodeToStr=[],this._strToKeyCode=Object.create(null)}define(t,i){this._keyCodeToStr[t]=i,this._strToKeyCode[i.toLowerCase()]=t}keyCodeToStr(t){return this._keyCodeToStr[t]}strToKeyCode(t){return this._strToKeyCode[t.toLowerCase()]||0}}const k=new L,y=new L,D=new L;e.EVENT_KEY_CODE_MAP=new Array(230),e.NATIVE_WINDOWS_KEY_CODE_TO_KEY_CODE={};const S=[],m=Object.create(null),_=Object.create(null);e.IMMUTABLE_CODE_TO_KEY_CODE=[],e.IMMUTABLE_KEY_CODE_TO_CODE=[];for(let s=0;s<=193;s++)e.IMMUTABLE_CODE_TO_KEY_CODE[s]=-1;for(let s=0;s<=132;s++)e.IMMUTABLE_KEY_CODE_TO_CODE[s]=-1;(function(){const s="",t=[[1,0,"None",0,"unknown",0,"VK_UNKNOWN",s,s],[1,1,"Hyper",0,s,0,s,s,s],[1,2,"Super",0,s,0,s,s,s],[1,3,"Fn",0,s,0,s,s,s],[1,4,"FnLock",0,s,0,s,s,s],[1,5,"Suspend",0,s,0,s,s,s],[1,6,"Resume",0,s,0,s,s,s],[1,7,"Turbo",0,s,0,s,s,s],[1,8,"Sleep",0,s,0,"VK_SLEEP",s,s],[1,9,"WakeUp",0,s,0,s,s,s],[0,10,"KeyA",31,"A",65,"VK_A",s,s],[0,11,"KeyB",32,"B",66,"VK_B",s,s],[0,12,"KeyC",33,"C",67,"VK_C",s,s],[0,13,"KeyD",34,"D",68,"VK_D",s,s],[0,14,"KeyE",35,"E",69,"VK_E",s,s],[0,15,"KeyF",36,"F",70,"VK_F",s,s],[0,16,"KeyG",37,"G",71,"VK_G",s,s],[0,17,"KeyH",38,"H",72,"VK_H",s,s],[0,18,"KeyI",39,"I",73,"VK_I",s,s],[0,19,"KeyJ",40,"J",74,"VK_J",s,s],[0,20,"KeyK",41,"K",75,"VK_K",s,s],[0,21,"KeyL",42,"L",76,"VK_L",s,s],[0,22,"KeyM",43,"M",77,"VK_M",s,s],[0,23,"KeyN",44,"N",78,"VK_N",s,s],[0,24,"KeyO",45,"O",79,"VK_O",s,s],[0,25,"KeyP",46,"P",80,"VK_P",s,s],[0,26,"KeyQ",47,"Q",81,"VK_Q",s,s],[0,27,"KeyR",48,"R",82,"VK_R",s,s],[0,28,"KeyS",49,"S",83,"VK_S",s,s],[0,29,"KeyT",50,"T",84,"VK_T",s,s],[0,30,"KeyU",51,"U",85,"VK_U",s,s],[0,31,"KeyV",52,"V",86,"VK_V",s,s],[0,32,"KeyW",53,"W",87,"VK_W",s,s],[0,33,"KeyX",54,"X",88,"VK_X",s,s],[0,34,"KeyY",55,"Y",89,"VK_Y",s,s],[0,35,"KeyZ",56,"Z",90,"VK_Z",s,s],[0,36,"Digit1",22,"1",49,"VK_1",s,s],[0,37,"Digit2",23,"2",50,"VK_2",s,s],[0,38,"Digit3",24,"3",51,"VK_3",s,s],[0,39,"Digit4",25,"4",52,"VK_4",s,s],[0,40,"Digit5",26,"5",53,"VK_5",s,s],[0,41,"Digit6",27,"6",54,"VK_6",s,s],[0,42,"Digit7",28,"7",55,"VK_7",s,s],[0,43,"Digit8",29,"8",56,"VK_8",s,s],[0,44,"Digit9",30,"9",57,"VK_9",s,s],[0,45,"Digit0",21,"0",48,"VK_0",s,s],[1,46,"Enter",3,"Enter",13,"VK_RETURN",s,s],[1,47,"Escape",9,"Escape",27,"VK_ESCAPE",s,s],[1,48,"Backspace",1,"Backspace",8,"VK_BACK",s,s],[1,49,"Tab",2,"Tab",9,"VK_TAB",s,s],[1,50,"Space",10,"Space",32,"VK_SPACE",s,s],[0,51,"Minus",88,"-",189,"VK_OEM_MINUS","-","OEM_MINUS"],[0,52,"Equal",86,"=",187,"VK_OEM_PLUS","=","OEM_PLUS"],[0,53,"BracketLeft",92,"[",219,"VK_OEM_4","[","OEM_4"],[0,54,"BracketRight",94,"]",221,"VK_OEM_6","]","OEM_6"],[0,55,"Backslash",93,"\\",220,"VK_OEM_5","\\","OEM_5"],[0,56,"IntlHash",0,s,0,s,s,s],[0,57,"Semicolon",85,";",186,"VK_OEM_1",";","OEM_1"],[0,58,"Quote",95,"'",222,"VK_OEM_7","'","OEM_7"],[0,59,"Backquote",91,"`",192,"VK_OEM_3","`","OEM_3"],[0,60,"Comma",87,",",188,"VK_OEM_COMMA",",","OEM_COMMA"],[0,61,"Period",89,".",190,"VK_OEM_PERIOD",".","OEM_PERIOD"],[0,62,"Slash",90,"/",191,"VK_OEM_2","/","OEM_2"],[1,63,"CapsLock",8,"CapsLock",20,"VK_CAPITAL",s,s],[1,64,"F1",59,"F1",112,"VK_F1",s,s],[1,65,"F2",60,"F2",113,"VK_F2",s,s],[1,66,"F3",61,"F3",114,"VK_F3",s,s],[1,67,"F4",62,"F4",115,"VK_F4",s,s],[1,68,"F5",63,"F5",116,"VK_F5",s,s],[1,69,"F6",64,"F6",117,"VK_F6",s,s],[1,70,"F7",65,"F7",118,"VK_F7",s,s],[1,71,"F8",66,"F8",119,"VK_F8",s,s],[1,72,"F9",67,"F9",120,"VK_F9",s,s],[1,73,"F10",68,"F10",121,"VK_F10",s,s],[1,74,"F11",69,"F11",122,"VK_F11",s,s],[1,75,"F12",70,"F12",123,"VK_F12",s,s],[1,76,"PrintScreen",0,s,0,s,s,s],[1,77,"ScrollLock",84,"ScrollLock",145,"VK_SCROLL",s,s],[1,78,"Pause",7,"PauseBreak",19,"VK_PAUSE",s,s],[1,79,"Insert",19,"Insert",45,"VK_INSERT",s,s],[1,80,"Home",14,"Home",36,"VK_HOME",s,s],[1,81,"PageUp",11,"PageUp",33,"VK_PRIOR",s,s],[1,82,"Delete",20,"Delete",46,"VK_DELETE",s,s],[1,83,"End",13,"End",35,"VK_END",s,s],[1,84,"PageDown",12,"PageDown",34,"VK_NEXT",s,s],[1,85,"ArrowRight",17,"RightArrow",39,"VK_RIGHT","Right",s],[1,86,"ArrowLeft",15,"LeftArrow",37,"VK_LEFT","Left",s],[1,87,"ArrowDown",18,"DownArrow",40,"VK_DOWN","Down",s],[1,88,"ArrowUp",16,"UpArrow",38,"VK_UP","Up",s],[1,89,"NumLock",83,"NumLock",144,"VK_NUMLOCK",s,s],[1,90,"NumpadDivide",113,"NumPad_Divide",111,"VK_DIVIDE",s,s],[1,91,"NumpadMultiply",108,"NumPad_Multiply",106,"VK_MULTIPLY",s,s],[1,92,"NumpadSubtract",111,"NumPad_Subtract",109,"VK_SUBTRACT",s,s],[1,93,"NumpadAdd",109,"NumPad_Add",107,"VK_ADD",s,s],[1,94,"NumpadEnter",3,s,0,s,s,s],[1,95,"Numpad1",99,"NumPad1",97,"VK_NUMPAD1",s,s],[1,96,"Numpad2",100,"NumPad2",98,"VK_NUMPAD2",s,s],[1,97,"Numpad3",101,"NumPad3",99,"VK_NUMPAD3",s,s],[1,98,"Numpad4",102,"NumPad4",100,"VK_NUMPAD4",s,s],[1,99,"Numpad5",103,"NumPad5",101,"VK_NUMPAD5",s,s],[1,100,"Numpad6",104,"NumPad6",102,"VK_NUMPAD6",s,s],[1,101,"Numpad7",105,"NumPad7",103,"VK_NUMPAD7",s,s],[1,102,"Numpad8",106,"NumPad8",104,"VK_NUMPAD8",s,s],[1,103,"Numpad9",107,"NumPad9",105,"VK_NUMPAD9",s,s],[1,104,"Numpad0",98,"NumPad0",96,"VK_NUMPAD0",s,s],[1,105,"NumpadDecimal",112,"NumPad_Decimal",110,"VK_DECIMAL",s,s],[0,106,"IntlBackslash",97,"OEM_102",226,"VK_OEM_102",s,s],[1,107,"ContextMenu",58,"ContextMenu",93,s,s,s],[1,108,"Power",0,s,0,s,s,s],[1,109,"NumpadEqual",0,s,0,s,s,s],[1,110,"F13",71,"F13",124,"VK_F13",s,s],[1,111,"F14",72,"F14",125,"VK_F14",s,s],[1,112,"F15",73,"F15",126,"VK_F15",s,s],[1,113,"F16",74,"F16",127,"VK_F16",s,s],[1,114,"F17",75,"F17",128,"VK_F17",s,s],[1,115,"F18",76,"F18",129,"VK_F18",s,s],[1,116,"F19",77,"F19",130,"VK_F19",s,s],[1,117,"F20",78,"F20",131,"VK_F20",s,s],[1,118,"F21",79,"F21",132,"VK_F21",s,s],[1,119,"F22",80,"F22",133,"VK_F22",s,s],[1,120,"F23",81,"F23",134,"VK_F23",s,s],[1,121,"F24",82,"F24",135,"VK_F24",s,s],[1,122,"Open",0,s,0,s,s,s],[1,123,"Help",0,s,0,s,s,s],[1,124,"Select",0,s,0,s,s,s],[1,125,"Again",0,s,0,s,s,s],[1,126,"Undo",0,s,0,s,s,s],[1,127,"Cut",0,s,0,s,s,s],[1,128,"Copy",0,s,0,s,s,s],[1,129,"Paste",0,s,0,s,s,s],[1,130,"Find",0,s,0,s,s,s],[1,131,"AudioVolumeMute",117,"AudioVolumeMute",173,"VK_VOLUME_MUTE",s,s],[1,132,"AudioVolumeUp",118,"AudioVolumeUp",175,"VK_VOLUME_UP",s,s],[1,133,"AudioVolumeDown",119,"AudioVolumeDown",174,"VK_VOLUME_DOWN",s,s],[1,134,"NumpadComma",110,"NumPad_Separator",108,"VK_SEPARATOR",s,s],[0,135,"IntlRo",115,"ABNT_C1",193,"VK_ABNT_C1",s,s],[1,136,"KanaMode",0,s,0,s,s,s],[0,137,"IntlYen",0,s,0,s,s,s],[1,138,"Convert",0,s,0,s,s,s],[1,139,"NonConvert",0,s,0,s,s,s],[1,140,"Lang1",0,s,0,s,s,s],[1,141,"Lang2",0,s,0,s,s,s],[1,142,"Lang3",0,s,0,s,s,s],[1,143,"Lang4",0,s,0,s,s,s],[1,144,"Lang5",0,s,0,s,s,s],[1,145,"Abort",0,s,0,s,s,s],[1,146,"Props",0,s,0,s,s,s],[1,147,"NumpadParenLeft",0,s,0,s,s,s],[1,148,"NumpadParenRight",0,s,0,s,s,s],[1,149,"NumpadBackspace",0,s,0,s,s,s],[1,150,"NumpadMemoryStore",0,s,0,s,s,s],[1,151,"NumpadMemoryRecall",0,s,0,s,s,s],[1,152,"NumpadMemoryClear",0,s,0,s,s,s],[1,153,"NumpadMemoryAdd",0,s,0,s,s,s],[1,154,"NumpadMemorySubtract",0,s,0,s,s,s],[1,155,"NumpadClear",131,"Clear",12,"VK_CLEAR",s,s],[1,156,"NumpadClearEntry",0,s,0,s,s,s],[1,0,s,5,"Ctrl",17,"VK_CONTROL",s,s],[1,0,s,4,"Shift",16,"VK_SHIFT",s,s],[1,0,s,6,"Alt",18,"VK_MENU",s,s],[1,0,s,57,"Meta",91,"VK_COMMAND",s,s],[1,157,"ControlLeft",5,s,0,"VK_LCONTROL",s,s],[1,158,"ShiftLeft",4,s,0,"VK_LSHIFT",s,s],[1,159,"AltLeft",6,s,0,"VK_LMENU",s,s],[1,160,"MetaLeft",57,s,0,"VK_LWIN",s,s],[1,161,"ControlRight",5,s,0,"VK_RCONTROL",s,s],[1,162,"ShiftRight",4,s,0,"VK_RSHIFT",s,s],[1,163,"AltRight",6,s,0,"VK_RMENU",s,s],[1,164,"MetaRight",57,s,0,"VK_RWIN",s,s],[1,165,"BrightnessUp",0,s,0,s,s,s],[1,166,"BrightnessDown",0,s,0,s,s,s],[1,167,"MediaPlay",0,s,0,s,s,s],[1,168,"MediaRecord",0,s,0,s,s,s],[1,169,"MediaFastForward",0,s,0,s,s,s],[1,170,"MediaRewind",0,s,0,s,s,s],[1,171,"MediaTrackNext",124,"MediaTrackNext",176,"VK_MEDIA_NEXT_TRACK",s,s],[1,172,"MediaTrackPrevious",125,"MediaTrackPrevious",177,"VK_MEDIA_PREV_TRACK",s,s],[1,173,"MediaStop",126,"MediaStop",178,"VK_MEDIA_STOP",s,s],[1,174,"Eject",0,s,0,s,s,s],[1,175,"MediaPlayPause",127,"MediaPlayPause",179,"VK_MEDIA_PLAY_PAUSE",s,s],[1,176,"MediaSelect",128,"LaunchMediaPlayer",181,"VK_MEDIA_LAUNCH_MEDIA_SELECT",s,s],[1,177,"LaunchMail",129,"LaunchMail",180,"VK_MEDIA_LAUNCH_MAIL",s,s],[1,178,"LaunchApp2",130,"LaunchApp2",183,"VK_MEDIA_LAUNCH_APP2",s,s],[1,179,"LaunchApp1",0,s,0,"VK_MEDIA_LAUNCH_APP1",s,s],[1,180,"SelectTask",0,s,0,s,s,s],[1,181,"LaunchScreenSaver",0,s,0,s,s,s],[1,182,"BrowserSearch",120,"BrowserSearch",170,"VK_BROWSER_SEARCH",s,s],[1,183,"BrowserHome",121,"BrowserHome",172,"VK_BROWSER_HOME",s,s],[1,184,"BrowserBack",122,"BrowserBack",166,"VK_BROWSER_BACK",s,s],[1,185,"BrowserForward",123,"BrowserForward",167,"VK_BROWSER_FORWARD",s,s],[1,186,"BrowserStop",0,s,0,"VK_BROWSER_STOP",s,s],[1,187,"BrowserRefresh",0,s,0,"VK_BROWSER_REFRESH",s,s],[1,188,"BrowserFavorites",0,s,0,"VK_BROWSER_FAVORITES",s,s],[1,189,"ZoomToggle",0,s,0,s,s,s],[1,190,"MailReply",0,s,0,s,s,s],[1,191,"MailForward",0,s,0,s,s,s],[1,192,"MailSend",0,s,0,s,s,s],[1,0,s,114,"KeyInComposition",229,s,s,s],[1,0,s,116,"ABNT_C2",194,"VK_ABNT_C2",s,s],[1,0,s,96,"OEM_8",223,"VK_OEM_8",s,s],[1,0,s,0,s,0,"VK_KANA",s,s],[1,0,s,0,s,0,"VK_HANGUL",s,s],[1,0,s,0,s,0,"VK_JUNJA",s,s],[1,0,s,0,s,0,"VK_FINAL",s,s],[1,0,s,0,s,0,"VK_HANJA",s,s],[1,0,s,0,s,0,"VK_KANJI",s,s],[1,0,s,0,s,0,"VK_CONVERT",s,s],[1,0,s,0,s,0,"VK_NONCONVERT",s,s],[1,0,s,0,s,0,"VK_ACCEPT",s,s],[1,0,s,0,s,0,"VK_MODECHANGE",s,s],[1,0,s,0,s,0,"VK_SELECT",s,s],[1,0,s,0,s,0,"VK_PRINT",s,s],[1,0,s,0,s,0,"VK_EXECUTE",s,s],[1,0,s,0,s,0,"VK_SNAPSHOT",s,s],[1,0,s,0,s,0,"VK_HELP",s,s],[1,0,s,0,s,0,"VK_APPS",s,s],[1,0,s,0,s,0,"VK_PROCESSKEY",s,s],[1,0,s,0,s,0,"VK_PACKET",s,s],[1,0,s,0,s,0,"VK_DBE_SBCSCHAR",s,s],[1,0,s,0,s,0,"VK_DBE_DBCSCHAR",s,s],[1,0,s,0,s,0,"VK_ATTN",s,s],[1,0,s,0,s,0,"VK_CRSEL",s,s],[1,0,s,0,s,0,"VK_EXSEL",s,s],[1,0,s,0,s,0,"VK_EREOF",s,s],[1,0,s,0,s,0,"VK_PLAY",s,s],[1,0,s,0,s,0,"VK_ZOOM",s,s],[1,0,s,0,s,0,"VK_NONAME",s,s],[1,0,s,0,s,0,"VK_PA1",s,s],[1,0,s,0,s,0,"VK_OEM_CLEAR",s,s]],i=[],o=[];for(const r of t){const[d,h,n,c,a,l,u,C,g]=r;if(o[h]||(o[h]=!0,S[h]=n,m[n]=h,_[n.toLowerCase()]=h,d&&(e.IMMUTABLE_CODE_TO_KEY_CODE[h]=c,c!==0&&c!==3&&c!==5&&c!==4&&c!==6&&c!==57&&(e.IMMUTABLE_KEY_CODE_TO_CODE[c]=h))),!i[c]){if(i[c]=!0,!a)throw new Error(`String representation missing for key code ${c} around scan code ${n}`);k.define(c,a),y.define(c,C||a),D.define(c,g||C||a)}l&&(e.EVENT_KEY_CODE_MAP[l]=c),u&&(e.NATIVE_WINDOWS_KEY_CODE_TO_KEY_CODE[u]=c)}e.IMMUTABLE_KEY_CODE_TO_CODE[3]=46})();var f;(function(s){function t(n){return k.keyCodeToStr(n)}s.toString=t;function i(n){return k.strToKeyCode(n)}s.fromString=i;function o(n){return y.keyCodeToStr(n)}s.toUserSettingsUS=o;function r(n){return D.keyCodeToStr(n)}s.toUserSettingsGeneral=r;function d(n){return y.strToKeyCode(n)||D.strToKeyCode(n)}s.fromUserSettings=d;function h(n){if(n>=98&&n<=113)return null;switch(n){case 16:return"Up";case 18:return"Down";case 15:return"Left";case 17:return"Right"}return k.keyCodeToStr(n)}s.toElectronAccelerator=h})(f||(e.KeyCodeUtils=f={}));function p(s,t){const i=(t&65535)<<16>>>0;return(s|i)>>>0}e.KeyChord=p}),define(X[117],ee([1,0,12]),function(q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ResolvedKeybinding=e.ResolvedChord=e.Keybinding=e.ScanCodeChord=e.KeyCodeChord=e.createSimpleKeybinding=e.decodeKeybinding=void 0;function k(p,s){if(typeof p=="number"){if(p===0)return null;const t=(p&65535)>>>0,i=(p&4294901760)>>>16;return i!==0?new m([y(t,s),y(i,s)]):new m([y(t,s)])}else{const t=[];for(let i=0;i<p.length;i++)t.push(y(p[i],s));return new m(t)}}e.decodeKeybinding=k;function y(p,s){const t=!!(p&2048),i=!!(p&256),o=s===2?i:t,r=!!(p&1024),d=!!(p&512),h=s===2?t:i,n=p&255;return new D(o,r,d,h,n)}e.createSimpleKeybinding=y;class D{constructor(s,t,i,o,r){this.ctrlKey=s,this.shiftKey=t,this.altKey=i,this.metaKey=o,this.keyCode=r}equals(s){return s instanceof D&&this.ctrlKey===s.ctrlKey&&this.shiftKey===s.shiftKey&&this.altKey===s.altKey&&this.metaKey===s.metaKey&&this.keyCode===s.keyCode}isModifierKey(){return this.keyCode===0||this.keyCode===5||this.keyCode===57||this.keyCode===6||this.keyCode===4}isDuplicateModifierCase(){return this.ctrlKey&&this.keyCode===5||this.shiftKey&&this.keyCode===4||this.altKey&&this.keyCode===6||this.metaKey&&this.keyCode===57}}e.KeyCodeChord=D;class S{constructor(s,t,i,o,r){this.ctrlKey=s,this.shiftKey=t,this.altKey=i,this.metaKey=o,this.scanCode=r}isDuplicateModifierCase(){return this.ctrlKey&&(this.scanCode===157||this.scanCode===161)||this.shiftKey&&(this.scanCode===158||this.scanCode===162)||this.altKey&&(this.scanCode===159||this.scanCode===163)||this.metaKey&&(this.scanCode===160||this.scanCode===164)}}e.ScanCodeChord=S;class m{constructor(s){if(s.length===0)throw(0,L.illegalArgument)("chords");this.chords=s}}e.Keybinding=m;class _{constructor(s,t,i,o,r,d){this.ctrlKey=s,this.shiftKey=t,this.altKey=i,this.metaKey=o,this.keyLabel=r,this.keyAriaLabel=d}}e.ResolvedChord=_;class f{}e.ResolvedKeybinding=f}),define(X[99],ee([1,0]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Lazy=void 0;class L{constructor(y){this.executor=y,this._didRun=!1}get value(){if(!this._didRun)try{this._value=this.executor()}catch(y){this._error=y}finally{this._didRun=!0}if(this._error)throw this._error;return this._value}get rawValue(){return this._value}}e.Lazy=L}),define(X[138],ee([1,0,99]),function(q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.writeUInt8=e.readUInt8=e.writeUInt32BE=e.readUInt32BE=e.writeUInt16LE=e.readUInt16LE=e.VSBuffer=void 0;const k=typeof Buffer<"u",y=new L.Lazy(()=>new Uint8Array(256));let D;class S{static wrap(o){return k&&!Buffer.isBuffer(o)&&(o=Buffer.from(o.buffer,o.byteOffset,o.byteLength)),new S(o)}constructor(o){this.buffer=o,this.byteLength=this.buffer.byteLength}toString(){return k?this.buffer.toString():(D||(D=new TextDecoder),D.decode(this.buffer))}}e.VSBuffer=S;function m(i,o){return i[o+0]<<0>>>0|i[o+1]<<8>>>0}e.readUInt16LE=m;function _(i,o,r){i[r+0]=o&255,o=o>>>8,i[r+1]=o&255}e.writeUInt16LE=_;function f(i,o){return i[o]*Math.pow(2,24)+i[o+1]*Math.pow(2,16)+i[o+2]*Math.pow(2,8)+i[o+3]}e.readUInt32BE=f;function p(i,o,r){i[r+3]=o,o=o>>>8,i[r+2]=o,o=o>>>8,i[r+1]=o,o=o>>>8,i[r]=o}e.writeUInt32BE=p;function s(i,o){return i[o]}e.readUInt8=s;function t(i,o,r){i[r]=o}e.writeUInt8=t}),define(X[380],ee([1,0,99]),function(q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.compareByPrefix=e.compareAnything=e.compareFileNames=void 0;const k=new L.Lazy(()=>{const f=new Intl.Collator(void 0,{numeric:!0,sensitivity:"base"});return{collator:f,collatorIsNumeric:f.resolvedOptions().numeric}}),y=new L.Lazy(()=>({collator:new Intl.Collator(void 0,{numeric:!0})})),D=new L.Lazy(()=>({collator:new Intl.Collator(void 0,{numeric:!0,sensitivity:"accent"})}));function S(f,p,s=!1){const t=f||"",i=p||"",o=k.value.collator.compare(t,i);return k.value.collatorIsNumeric&&o===0&&t!==i?t<i?-1:1:o}e.compareFileNames=S;function m(f,p,s){const t=f.toLowerCase(),i=p.toLowerCase(),o=_(f,p,s);if(o)return o;const r=t.endsWith(s),d=i.endsWith(s);if(r!==d)return r?-1:1;const h=S(t,i);return h!==0?h:t.localeCompare(i)}e.compareAnything=m;function _(f,p,s){const t=f.toLowerCase(),i=p.toLowerCase(),o=t.startsWith(s),r=i.startsWith(s);if(o!==r)return o?-1:1;if(o&&r){if(t.length<i.length)return-1;if(t.length>i.length)return 1}return 0}e.compareByPrefix=_}),define(X[2],ee([1,0,98,50]),function(q,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DisposableMap=e.ImmortalReference=e.RefCountedDisposable=e.MutableDisposable=e.Disposable=e.DisposableStore=e.toDisposable=e.combinedDisposable=e.dispose=e.isDisposable=e.markAsSingleton=e.setDisposableTracker=void 0;const y=!1;let D=null;function S(u){D=u}if(e.setDisposableTracker=S,y){const u="__is_disposable_tracked__";S(new class{trackDisposable(C){const g=new Error("Potentially leaked disposable").stack;setTimeout(()=>{C[u]||console.log(g)},3e3)}setParent(C,g){if(C&&C!==h.None)try{C[u]=!0}catch{}}markAsDisposed(C){if(C&&C!==h.None)try{C[u]=!0}catch{}}markAsSingleton(C){}})}function m(u){return D?.trackDisposable(u),u}function _(u){D?.markAsDisposed(u)}function f(u,C){D?.setParent(u,C)}function p(u,C){if(D)for(const g of u)D.setParent(g,C)}function s(u){return D?.markAsSingleton(u),u}e.markAsSingleton=s;function t(u){return typeof u.dispose=="function"&&u.dispose.length===0}e.isDisposable=t;function i(u){if(k.Iterable.is(u)){const C=[];for(const g of u)if(g)try{g.dispose()}catch(v){C.push(v)}if(C.length===1)throw C[0];if(C.length>1)throw new AggregateError(C,"Encountered errors while disposing of store");return Array.isArray(u)?[]:u}else if(u)return u.dispose(),u}e.dispose=i;function o(...u){const C=r(()=>i(u));return p(u,C),C}e.combinedDisposable=o;function r(u){const C=m({dispose:(0,L.once)(()=>{_(C),u()})});return C}e.toDisposable=r;class d{constructor(){this._toDispose=new Set,this._isDisposed=!1,m(this)}dispose(){this._isDisposed||(_(this),this._isDisposed=!0,this.clear())}get isDisposed(){return this._isDisposed}clear(){if(this._toDispose.size!==0)try{i(this._toDispose)}finally{this._toDispose.clear()}}add(C){if(!C)return C;if(C===this)throw new Error("Cannot register a disposable on itself!");return f(C,this),this._isDisposed?d.DISABLE_DISPOSED_WARNING||console.warn(new Error("Trying to add a disposable to a DisposableStore that has already been disposed of. The added object will be leaked!").stack):this._toDispose.add(C),C}}e.DisposableStore=d,d.DISABLE_DISPOSED_WARNING=!1;class h{constructor(){this._store=new d,m(this),f(this._store,this)}dispose(){_(this),this._store.dispose()}_register(C){if(C===this)throw new Error("Cannot register a disposable on itself!");return this._store.add(C)}}e.Disposable=h,h.None=Object.freeze({dispose(){}});class n{constructor(){this._isDisposed=!1,m(this)}get value(){return this._isDisposed?void 0:this._value}set value(C){var g;this._isDisposed||C===this._value||((g=this._value)===null||g===void 0||g.dispose(),C&&f(C,this),this._value=C)}clear(){this.value=void 0}dispose(){var C;this._isDisposed=!0,_(this),(C=this._value)===null||C===void 0||C.dispose(),this._value=void 0}}e.MutableDisposable=n;class c{constructor(C){this._disposable=C,this._counter=1}acquire(){return this._counter++,this}release(){return--this._counter===0&&this._disposable.dispose(),this}}e.RefCountedDisposable=c;class a{constructor(C){this.object=C}dispose(){}}e.ImmortalReference=a;class l{constructor(){this._store=new Map,this._isDisposed=!1,m(this)}dispose(){_(this),this._isDisposed=!0,this.clearAndDisposeAll()}clearAndDisposeAll(){if(this._store.size)try{i(this._store.values())}finally{this._store.clear()}}get(C){return this._store.get(C)}set(C,g,v=!1){var b;this._isDisposed&&console.warn(new Error("Trying to add a disposable to a DisposableMap that has already been disposed of. The added object will be leaked!").stack),v||(b=this._store.get(C))===null||b===void 0||b.dispose(),this._store.set(C,g)}deleteAndDispose(C){var g;(g=this._store.get(C))===null||g===void 0||g.dispose(),this._store.delete(C)}[Symbol.iterator](){return this._store[Symbol.iterator]()}}e.DisposableMap=l}),define(X[63],ee([1,0]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LinkedList=void 0;class L{constructor(D){this.element=D,this.next=L.Undefined,this.prev=L.Undefined}}L.Undefined=new L(void 0);class k{constructor(){this._first=L.Undefined,this._last=L.Undefined,this._size=0}get size(){return this._size}isEmpty(){return this._first===L.Undefined}clear(){let D=this._first;for(;D!==L.Undefined;){const S=D.next;D.prev=L.Undefined,D.next=L.Undefined,D=S}this._first=L.Undefined,this._last=L.Undefined,this._size=0}unshift(D){return this._insert(D,!1)}push(D){return this._insert(D,!0)}_insert(D,S){const m=new L(D);if(this._first===L.Undefined)this._first=m,this._last=m;else if(S){const f=this._last;this._last=m,m.prev=f,f.next=m}else{const f=this._first;this._first=m,m.next=f,f.prev=m}this._size+=1;let _=!1;return()=>{_||(_=!0,this._remove(m))}}shift(){if(this._first!==L.Undefined){const D=this._first.element;return this._remove(this._first),D}}pop(){if(this._last!==L.Undefined){const D=this._last.element;return this._remove(this._last),D}}_remove(D){if(D.prev!==L.Undefined&&D.next!==L.Undefined){const S=D.prev;S.next=D.next,D.next.prev=S}else D.prev===L.Undefined&&D.next===L.Undefined?(this._first=L.Undefined,this._last=L.Undefined):D.next===L.Undefined?(this._last=this._last.prev,this._last.next=L.Undefined):D.prev===L.Undefined&&(this._first=this._first.next,this._first.prev=L.Undefined);this._size-=1}*[Symbol.iterator](){let D=this._first;for(;D!==L.Undefined;)yield D.element,D=D.next}}e.LinkedList=k});var Ne=this&&this.__decorate||function(q,e,L,k){var y=arguments.length,D=y<3?e:k===null?k=Object.getOwnPropertyDescriptor(e,L):k,S;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")D=Reflect.decorate(q,e,L,k);else for(var m=q.length-1;m>=0;m--)(S=q[m])&&(D=(y<3?S(D):y>3?S(e,L,D):S(e,L))||D);return y>3&&D&&Object.defineProperty(e,L,D),D};define(X[381],ee([1,0,104]),function(q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseLinkedText=e.LinkedText=void 0;class k{constructor(m){this.nodes=m}toString(){return this.nodes.map(m=>typeof m=="string"?m:m.label).join("")}}e.LinkedText=k,Ne([L.memoize],k.prototype,"toString",null);const y=/\[([^\]]+)\]\(((?:https?:\/\/|command:|file:)[^\)\s]+)(?: (["'])(.+?)(\3))?\)/gi;function D(S){const m=[];let _=0,f;for(;f=y.exec(S);){f.index-_>0&&m.push(S.substring(_,f.index));const[,p,s,,t]=f;t?m.push({label:p,href:s,title:t}):m.push({label:p,href:s}),_=f.index+f[0].length}return _<S.length&&m.push(S.substring(_)),new k(m)}e.parseLinkedText=D}),define(X[64],ee([1,0]),function(q,e){"use strict";var L,k;Object.defineProperty(e,"__esModule",{value:!0}),e.LRUCache=e.LinkedMap=e.ResourceMap=void 0;class y{constructor(f,p){this.uri=f,this.value=p}}class D{constructor(f,p){this[L]="ResourceMap",f instanceof D?(this.map=new Map(f.map),this.toKey=p??D.defaultToKey):(this.map=new Map,this.toKey=f??D.defaultToKey)}set(f,p){return this.map.set(this.toKey(f),new y(f,p)),this}get(f){var p;return(p=this.map.get(this.toKey(f)))===null||p===void 0?void 0:p.value}has(f){return this.map.has(this.toKey(f))}get size(){return this.map.size}clear(){this.map.clear()}delete(f){return this.map.delete(this.toKey(f))}forEach(f,p){typeof p<"u"&&(f=f.bind(p));for(const[s,t]of this.map)f(t.value,t.uri,this)}*values(){for(const f of this.map.values())yield f.value}*keys(){for(const f of this.map.values())yield f.uri}*entries(){for(const f of this.map.values())yield[f.uri,f.value]}*[(L=Symbol.toStringTag,Symbol.iterator)](){for(const[,f]of this.map)yield[f.uri,f.value]}}e.ResourceMap=D,D.defaultToKey=_=>_.toString();class S{constructor(){this[k]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){var f;return(f=this._head)===null||f===void 0?void 0:f.value}get last(){var f;return(f=this._tail)===null||f===void 0?void 0:f.value}has(f){return this._map.has(f)}get(f,p=0){const s=this._map.get(f);if(s)return p!==0&&this.touch(s,p),s.value}set(f,p,s=0){let t=this._map.get(f);if(t)t.value=p,s!==0&&this.touch(t,s);else{switch(t={key:f,value:p,next:void 0,previous:void 0},s){case 0:this.addItemLast(t);break;case 1:this.addItemFirst(t);break;case 2:this.addItemLast(t);break;default:this.addItemLast(t);break}this._map.set(f,t),this._size++}return this}delete(f){return!!this.remove(f)}remove(f){const p=this._map.get(f);if(p)return this._map.delete(f),this.removeItem(p),this._size--,p.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");const f=this._head;return this._map.delete(f.key),this.removeItem(f),this._size--,f.value}forEach(f,p){const s=this._state;let t=this._head;for(;t;){if(p?f.bind(p)(t.value,t.key,this):f(t.value,t.key,this),this._state!==s)throw new Error("LinkedMap got modified during iteration.");t=t.next}}keys(){const f=this,p=this._state;let s=this._head;const t={[Symbol.iterator](){return t},next(){if(f._state!==p)throw new Error("LinkedMap got modified during iteration.");if(s){const i={value:s.key,done:!1};return s=s.next,i}else return{value:void 0,done:!0}}};return t}values(){const f=this,p=this._state;let s=this._head;const t={[Symbol.iterator](){return t},next(){if(f._state!==p)throw new Error("LinkedMap got modified during iteration.");if(s){const i={value:s.value,done:!1};return s=s.next,i}else return{value:void 0,done:!0}}};return t}entries(){const f=this,p=this._state;let s=this._head;const t={[Symbol.iterator](){return t},next(){if(f._state!==p)throw new Error("LinkedMap got modified during iteration.");if(s){const i={value:[s.key,s.value],done:!1};return s=s.next,i}else return{value:void 0,done:!0}}};return t}[(k=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(f){if(f>=this.size)return;if(f===0){this.clear();return}let p=this._head,s=this.size;for(;p&&s>f;)this._map.delete(p.key),p=p.next,s--;this._head=p,this._size=s,p&&(p.previous=void 0),this._state++}addItemFirst(f){if(!this._head&&!this._tail)this._tail=f;else if(this._head)f.next=this._head,this._head.previous=f;else throw new Error("Invalid list");this._head=f,this._state++}addItemLast(f){if(!this._head&&!this._tail)this._head=f;else if(this._tail)f.previous=this._tail,this._tail.next=f;else throw new Error("Invalid list");this._tail=f,this._state++}removeItem(f){if(f===this._head&&f===this._tail)this._head=void 0,this._tail=void 0;else if(f===this._head){if(!f.next)throw new Error("Invalid list");f.next.previous=void 0,this._head=f.next}else if(f===this._tail){if(!f.previous)throw new Error("Invalid list");f.previous.next=void 0,this._tail=f.previous}else{const p=f.next,s=f.previous;if(!p||!s)throw new Error("Invalid list");p.previous=s,s.next=p}f.next=void 0,f.previous=void 0,this._state++}touch(f,p){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(p!==1&&p!==2)){if(p===1){if(f===this._head)return;const s=f.next,t=f.previous;f===this._tail?(t.next=void 0,this._tail=t):(s.previous=t,t.next=s),f.previous=void 0,f.next=this._head,this._head.previous=f,this._head=f,this._state++}else if(p===2){if(f===this._tail)return;const s=f.next,t=f.previous;f===this._head?(s.previous=void 0,this._head=s):(s.previous=t,t.next=s),f.next=void 0,f.previous=this._tail,this._tail.next=f,this._tail=f,this._state++}}}toJSON(){const f=[];return this.forEach((p,s)=>{f.push([s,p])}),f}fromJSON(f){this.clear();for(const[p,s]of f)this.set(p,s)}}e.LinkedMap=S;class m extends S{constructor(f,p=1){super(),this._limit=f,this._ratio=Math.min(Math.max(0,p),1)}get limit(){return this._limit}set limit(f){this._limit=f,this.checkTrim()}get(f,p=2){return super.get(f,p)}peek(f){return super.get(f,0)}set(f,p){return super.set(f,p,2),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}}e.LRUCache=m}),function(q,e){typeof define=="function"&&define.amd?define(X[382],ee([0]),e):typeof exports=="object"&&typeof module<"u"?e(exports):(q=typeof globalThis<"u"?globalThis:q||self,e(q.marked={}))}(this,function(q){"use strict";function e(ae,ce){for(var $=0;$<ce.length;$++){var V=ce[$];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(ae,V.key,V)}}function L(ae,ce,$){return ce&&e(ae.prototype,ce),$&&e(ae,$),Object.defineProperty(ae,"prototype",{writable:!1}),ae}function k(ae,ce){if(ae){if(typeof ae=="string")return y(ae,ce);var $=Object.prototype.toString.call(ae).slice(8,-1);if($==="Object"&&ae.constructor&&($=ae.constructor.name),$==="Map"||$==="Set")return Array.from(ae);if($==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test($))return y(ae,ce)}}function y(ae,ce){(ce==null||ce>ae.length)&&(ce=ae.length);for(var $=0,V=new Array(ce);$<ce;$++)V[$]=ae[$];return V}function D(ae,ce){var $=typeof Symbol<"u"&&ae[Symbol.iterator]||ae["@@iterator"];if($)return($=$.call(ae)).next.bind($);if(Array.isArray(ae)||($=k(ae))||ce&&ae&&typeof ae.length=="number"){$&&(ae=$);var V=0;return function(){return V>=ae.length?{done:!0}:{done:!1,value:ae[V++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function S(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}q.defaults=S();function m(ae){q.defaults=ae}var _=/[&<>"']/,f=/[&<>"']/g,p=/[<>"']|&(?!#?\w+;)/,s=/[<>"']|&(?!#?\w+;)/g,t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},i=function(ce){return t[ce]};function o(ae,ce){if(ce){if(_.test(ae))return ae.replace(f,i)}else if(p.test(ae))return ae.replace(s,i);return ae}var r=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function d(ae){return ae.replace(r,function(ce,$){return $=$.toLowerCase(),$==="colon"?":":$.charAt(0)==="#"?$.charAt(1)==="x"?String.fromCharCode(parseInt($.substring(2),16)):String.fromCharCode(+$.substring(1)):""})}var h=/(^|[^\[])\^/g;function n(ae,ce){ae=typeof ae=="string"?ae:ae.source,ce=ce||"";var $={replace:function(j,se){return se=se.source||se,se=se.replace(h,"$1"),ae=ae.replace(j,se),$},getRegex:function(){return new RegExp(ae,ce)}};return $}var c=/[^\w:]/g,a=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function l(ae,ce,$){if(ae){var V;try{V=decodeURIComponent(d($)).replace(c,"").toLowerCase()}catch{return null}if(V.indexOf("javascript:")===0||V.indexOf("vbscript:")===0||V.indexOf("data:")===0)return null}ce&&!a.test($)&&($=b(ce,$));try{$=encodeURI($).replace(/%25/g,"%")}catch{return null}return $}var u={},C=/^[^:]+:\/*[^/]*$/,g=/^([^:]+:)[\s\S]*$/,v=/^([^:]+:\/*[^/]*)[\s\S]*$/;function b(ae,ce){u[" "+ae]||(C.test(ae)?u[" "+ae]=ae+"/":u[" "+ae]=T(ae,"/",!0)),ae=u[" "+ae];var $=ae.indexOf(":")===-1;return ce.substring(0,2)==="//"?$?ce:ae.replace(g,"$1")+ce:ce.charAt(0)==="/"?$?ce:ae.replace(v,"$1")+ce:ae+ce}var w={exec:function(){}};function E(ae){for(var ce=1,$,V;ce<arguments.length;ce++){$=arguments[ce];for(V in $)Object.prototype.hasOwnProperty.call($,V)&&(ae[V]=$[V])}return ae}function I(ae,ce){var $=ae.replace(/\|/g,function(se,ie,Y){for(var le=!1,fe=ie;--fe>=0&&Y[fe]==="\\";)le=!le;return le?"|":" |"}),V=$.split(/ \|/),j=0;if(V[0].trim()||V.shift(),V.length>0&&!V[V.length-1].trim()&&V.pop(),V.length>ce)V.splice(ce);else for(;V.length<ce;)V.push("");for(;j<V.length;j++)V[j]=V[j].trim().replace(/\\\|/g,"|");return V}function T(ae,ce,$){var V=ae.length;if(V===0)return"";for(var j=0;j<V;){var se=ae.charAt(V-j-1);if(se===ce&&!$)j++;else if(se!==ce&&$)j++;else break}return ae.slice(0,V-j)}function P(ae,ce){if(ae.indexOf(ce[1])===-1)return-1;for(var $=ae.length,V=0,j=0;j<$;j++)if(ae[j]==="\\")j++;else if(ae[j]===ce[0])V++;else if(ae[j]===ce[1]&&(V--,V<0))return j;return-1}function A(ae){ae&&ae.sanitize&&!ae.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function M(ae,ce){if(ce<1)return"";for(var $="";ce>1;)ce&1&&($+=ae),ce>>=1,ae+=ae;return $+ae}function N(ae,ce,$,V){var j=ce.href,se=ce.title?o(ce.title):null,ie=ae[1].replace(/\\([\[\]])/g,"$1");if(ae[0].charAt(0)!=="!"){V.state.inLink=!0;var Y={type:"link",raw:$,href:j,title:se,text:ie,tokens:V.inlineTokens(ie)};return V.state.inLink=!1,Y}return{type:"image",raw:$,href:j,title:se,text:o(ie)}}function R(ae,ce){var $=ae.match(/^(\s+)(?:```)/);if($===null)return ce;var V=$[1];return ce.split(`
`).map(function(j){var se=j.match(/^\s+/);if(se===null)return j;var ie=se[0];return ie.length>=V.length?j.slice(V.length):j}).join(`
`)}var F=function(){function ae($){this.options=$||q.defaults}var ce=ae.prototype;return ce.space=function(V){var j=this.rules.block.newline.exec(V);if(j&&j[0].length>0)return{type:"space",raw:j[0]}},ce.code=function(V){var j=this.rules.block.code.exec(V);if(j){var se=j[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:j[0],codeBlockStyle:"indented",text:this.options.pedantic?se:T(se,`
`)}}},ce.fences=function(V){var j=this.rules.block.fences.exec(V);if(j){var se=j[0],ie=R(se,j[3]||"");return{type:"code",raw:se,lang:j[2]?j[2].trim():j[2],text:ie}}},ce.heading=function(V){var j=this.rules.block.heading.exec(V);if(j){var se=j[2].trim();if(/#$/.test(se)){var ie=T(se,"#");(this.options.pedantic||!ie||/ $/.test(ie))&&(se=ie.trim())}return{type:"heading",raw:j[0],depth:j[1].length,text:se,tokens:this.lexer.inline(se)}}},ce.hr=function(V){var j=this.rules.block.hr.exec(V);if(j)return{type:"hr",raw:j[0]}},ce.blockquote=function(V){var j=this.rules.block.blockquote.exec(V);if(j){var se=j[0].replace(/^ *>[ \t]?/gm,"");return{type:"blockquote",raw:j[0],tokens:this.lexer.blockTokens(se,[]),text:se}}},ce.list=function(V){var j=this.rules.block.list.exec(V);if(j){var se,ie,Y,le,fe,be,we,Ee,Ie,ye,ke,Ae,Te=j[1].trim(),pe=Te.length>1,me={type:"list",raw:"",ordered:pe,start:pe?+Te.slice(0,-1):"",loose:!1,items:[]};Te=pe?"\\d{1,9}\\"+Te.slice(-1):"\\"+Te,this.options.pedantic&&(Te=pe?Te:"[*+-]");for(var Se=new RegExp("^( {0,3}"+Te+")((?:[	 ][^\\n]*)?(?:\\n|$))");V&&(Ae=!1,!(!(j=Se.exec(V))||this.rules.block.hr.test(V)));){if(se=j[0],V=V.substring(se.length),Ee=j[2].split(`
`,1)[0],Ie=V.split(`
`,1)[0],this.options.pedantic?(le=2,ke=Ee.trimLeft()):(le=j[2].search(/[^ ]/),le=le>4?1:le,ke=Ee.slice(le),le+=j[1].length),be=!1,!Ee&&/^ *$/.test(Ie)&&(se+=Ie+`
`,V=V.substring(Ie.length+1),Ae=!0),!Ae)for(var ue=new RegExp("^ {0,"+Math.min(3,le-1)+"}(?:[*+-]|\\d{1,9}[.)])((?: [^\\n]*)?(?:\\n|$))"),Ce=new RegExp("^ {0,"+Math.min(3,le-1)+"}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)"),ve=new RegExp("^ {0,"+Math.min(3,le-1)+"}(?:```|~~~)"),_e=new RegExp("^ {0,"+Math.min(3,le-1)+"}#");V&&(ye=V.split(`
`,1)[0],Ee=ye,this.options.pedantic&&(Ee=Ee.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(ve.test(Ee)||_e.test(Ee)||ue.test(Ee)||Ce.test(V)));){if(Ee.search(/[^ ]/)>=le||!Ee.trim())ke+=`
`+Ee.slice(le);else if(!be)ke+=`
`+Ee;else break;!be&&!Ee.trim()&&(be=!0),se+=ye+`
`,V=V.substring(ye.length+1)}me.loose||(we?me.loose=!0:/\n *\n *$/.test(se)&&(we=!0)),this.options.gfm&&(ie=/^\[[ xX]\] /.exec(ke),ie&&(Y=ie[0]!=="[ ] ",ke=ke.replace(/^\[[ xX]\] +/,""))),me.items.push({type:"list_item",raw:se,task:!!ie,checked:Y,loose:!1,text:ke}),me.raw+=se}me.items[me.items.length-1].raw=se.trimRight(),me.items[me.items.length-1].text=ke.trimRight(),me.raw=me.raw.trimRight();var De=me.items.length;for(fe=0;fe<De;fe++){this.lexer.state.top=!1,me.items[fe].tokens=this.lexer.blockTokens(me.items[fe].text,[]);var Re=me.items[fe].tokens.filter(function(Fe){return Fe.type==="space"}),Pe=Re.every(function(Fe){for(var We=Fe.raw.split(""),xe=0,Ke=D(We),qe;!(qe=Ke()).done;){var et=qe.value;if(et===`
`&&(xe+=1),xe>1)return!0}return!1});!me.loose&&Re.length&&Pe&&(me.loose=!0,me.items[fe].loose=!0)}return me}},ce.html=function(V){var j=this.rules.block.html.exec(V);if(j){var se={type:"html",raw:j[0],pre:!this.options.sanitizer&&(j[1]==="pre"||j[1]==="script"||j[1]==="style"),text:j[0]};if(this.options.sanitize){var ie=this.options.sanitizer?this.options.sanitizer(j[0]):o(j[0]);se.type="paragraph",se.text=ie,se.tokens=this.lexer.inline(ie)}return se}},ce.def=function(V){var j=this.rules.block.def.exec(V);if(j){j[3]&&(j[3]=j[3].substring(1,j[3].length-1));var se=j[1].toLowerCase().replace(/\s+/g," ");return{type:"def",tag:se,raw:j[0],href:j[2],title:j[3]}}},ce.table=function(V){var j=this.rules.block.table.exec(V);if(j){var se={type:"table",header:I(j[1]).map(function(we){return{text:we}}),align:j[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:j[3]&&j[3].trim()?j[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(se.header.length===se.align.length){se.raw=j[0];var ie=se.align.length,Y,le,fe,be;for(Y=0;Y<ie;Y++)/^ *-+: *$/.test(se.align[Y])?se.align[Y]="right":/^ *:-+: *$/.test(se.align[Y])?se.align[Y]="center":/^ *:-+ *$/.test(se.align[Y])?se.align[Y]="left":se.align[Y]=null;for(ie=se.rows.length,Y=0;Y<ie;Y++)se.rows[Y]=I(se.rows[Y],se.header.length).map(function(we){return{text:we}});for(ie=se.header.length,le=0;le<ie;le++)se.header[le].tokens=this.lexer.inline(se.header[le].text);for(ie=se.rows.length,le=0;le<ie;le++)for(be=se.rows[le],fe=0;fe<be.length;fe++)be[fe].tokens=this.lexer.inline(be[fe].text);return se}}},ce.lheading=function(V){var j=this.rules.block.lheading.exec(V);if(j)return{type:"heading",raw:j[0],depth:j[2].charAt(0)==="="?1:2,text:j[1],tokens:this.lexer.inline(j[1])}},ce.paragraph=function(V){var j=this.rules.block.paragraph.exec(V);if(j){var se=j[1].charAt(j[1].length-1)===`
`?j[1].slice(0,-1):j[1];return{type:"paragraph",raw:j[0],text:se,tokens:this.lexer.inline(se)}}},ce.text=function(V){var j=this.rules.block.text.exec(V);if(j)return{type:"text",raw:j[0],text:j[0],tokens:this.lexer.inline(j[0])}},ce.escape=function(V){var j=this.rules.inline.escape.exec(V);if(j)return{type:"escape",raw:j[0],text:o(j[1])}},ce.tag=function(V){var j=this.rules.inline.tag.exec(V);if(j)return!this.lexer.state.inLink&&/^<a /i.test(j[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(j[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(j[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(j[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:j[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(j[0]):o(j[0]):j[0]}},ce.link=function(V){var j=this.rules.inline.link.exec(V);if(j){var se=j[2].trim();if(!this.options.pedantic&&/^</.test(se)){if(!/>$/.test(se))return;var ie=T(se.slice(0,-1),"\\");if((se.length-ie.length)%2===0)return}else{var Y=P(j[2],"()");if(Y>-1){var le=j[0].indexOf("!")===0?5:4,fe=le+j[1].length+Y;j[2]=j[2].substring(0,Y),j[0]=j[0].substring(0,fe).trim(),j[3]=""}}var be=j[2],we="";if(this.options.pedantic){var Ee=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(be);Ee&&(be=Ee[1],we=Ee[3])}else we=j[3]?j[3].slice(1,-1):"";return be=be.trim(),/^</.test(be)&&(this.options.pedantic&&!/>$/.test(se)?be=be.slice(1):be=be.slice(1,-1)),N(j,{href:be&&be.replace(this.rules.inline._escapes,"$1"),title:we&&we.replace(this.rules.inline._escapes,"$1")},j[0],this.lexer)}},ce.reflink=function(V,j){var se;if((se=this.rules.inline.reflink.exec(V))||(se=this.rules.inline.nolink.exec(V))){var ie=(se[2]||se[1]).replace(/\s+/g," ");if(ie=j[ie.toLowerCase()],!ie||!ie.href){var Y=se[0].charAt(0);return{type:"text",raw:Y,text:Y}}return N(se,ie,se[0],this.lexer)}},ce.emStrong=function(V,j,se){se===void 0&&(se="");var ie=this.rules.inline.emStrong.lDelim.exec(V);if(ie&&!(ie[3]&&se.match(/(?:[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDF70-\uDF81\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF30-\uDF3B\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDE70-\uDEBE\uDEC0-\uDEC9\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/))){var Y=ie[1]||ie[2]||"";if(!Y||Y&&(se===""||this.rules.inline.punctuation.exec(se))){var le=ie[0].length-1,fe,be,we=le,Ee=0,Ie=ie[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(Ie.lastIndex=0,j=j.slice(-1*V.length+le);(ie=Ie.exec(j))!=null;)if(fe=ie[1]||ie[2]||ie[3]||ie[4]||ie[5]||ie[6],!!fe){if(be=fe.length,ie[3]||ie[4]){we+=be;continue}else if((ie[5]||ie[6])&&le%3&&!((le+be)%3)){Ee+=be;continue}if(we-=be,!(we>0)){if(be=Math.min(be,be+we+Ee),Math.min(le,be)%2){var ye=V.slice(1,le+ie.index+be);return{type:"em",raw:V.slice(0,le+ie.index+be+1),text:ye,tokens:this.lexer.inlineTokens(ye)}}var ke=V.slice(2,le+ie.index+be-1);return{type:"strong",raw:V.slice(0,le+ie.index+be+1),text:ke,tokens:this.lexer.inlineTokens(ke)}}}}}},ce.codespan=function(V){var j=this.rules.inline.code.exec(V);if(j){var se=j[2].replace(/\n/g," "),ie=/[^ ]/.test(se),Y=/^ /.test(se)&&/ $/.test(se);return ie&&Y&&(se=se.substring(1,se.length-1)),se=o(se,!0),{type:"codespan",raw:j[0],text:se}}},ce.br=function(V){var j=this.rules.inline.br.exec(V);if(j)return{type:"br",raw:j[0]}},ce.del=function(V){var j=this.rules.inline.del.exec(V);if(j)return{type:"del",raw:j[0],text:j[2],tokens:this.lexer.inlineTokens(j[2])}},ce.autolink=function(V,j){var se=this.rules.inline.autolink.exec(V);if(se){var ie,Y;return se[2]==="@"?(ie=o(this.options.mangle?j(se[1]):se[1]),Y="mailto:"+ie):(ie=o(se[1]),Y=ie),{type:"link",raw:se[0],text:ie,href:Y,tokens:[{type:"text",raw:ie,text:ie}]}}},ce.url=function(V,j){var se;if(se=this.rules.inline.url.exec(V)){var ie,Y;if(se[2]==="@")ie=o(this.options.mangle?j(se[0]):se[0]),Y="mailto:"+ie;else{var le;do le=se[0],se[0]=this.rules.inline._backpedal.exec(se[0])[0];while(le!==se[0]);ie=o(se[0]),se[1]==="www."?Y="http://"+ie:Y=ie}return{type:"link",raw:se[0],text:ie,href:Y,tokens:[{type:"text",raw:ie,text:ie}]}}},ce.inlineText=function(V,j){var se=this.rules.inline.text.exec(V);if(se){var ie;return this.lexer.state.inRawBlock?ie=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(se[0]):o(se[0]):se[0]:ie=o(this.options.smartypants?j(se[0]):se[0]),{type:"text",raw:se[0],text:ie}}},ae}(),x={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?<?([^\s>]+)>?(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:w,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};x._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/,x._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/,x.def=n(x.def).replace("label",x._label).replace("title",x._title).getRegex(),x.bullet=/(?:[*+-]|\d{1,9}[.)])/,x.listItemStart=n(/^( *)(bull) */).replace("bull",x.bullet).getRegex(),x.list=n(x.list).replace(/bull/g,x.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+x.def.source+")").getRegex(),x._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",x._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,x.html=n(x.html,"i").replace("comment",x._comment).replace("tag",x._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),x.paragraph=n(x._paragraph).replace("hr",x.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",x._tag).getRegex(),x.blockquote=n(x.blockquote).replace("paragraph",x.paragraph).getRegex(),x.normal=E({},x),x.gfm=E({},x.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),x.gfm.table=n(x.gfm.table).replace("hr",x.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",x._tag).getRegex(),x.gfm.paragraph=n(x._paragraph).replace("hr",x.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",x.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",x._tag).getRegex(),x.pedantic=E({},x.normal,{html:n(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",x._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:w,paragraph:n(x.normal._paragraph).replace("hr",x.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",x.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var W={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:w,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^[^_*]*?\_\_[^_*]*?\*[^_*]*?(?=\_\_)|[^*]+(?=[^*])|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?\_[^_*]*?(?=\*\*)|[^_]+(?=[^_])|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:w,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};W._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",W.punctuation=n(W.punctuation).replace(/punctuation/g,W._punctuation).getRegex(),W.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,W.escapedEmSt=/\\\*|\\_/g,W._comment=n(x._comment).replace("(?:-->|$)","-->").getRegex(),W.emStrong.lDelim=n(W.emStrong.lDelim).replace(/punct/g,W._punctuation).getRegex(),W.emStrong.rDelimAst=n(W.emStrong.rDelimAst,"g").replace(/punct/g,W._punctuation).getRegex(),W.emStrong.rDelimUnd=n(W.emStrong.rDelimUnd,"g").replace(/punct/g,W._punctuation).getRegex(),W._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,W._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,W._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,W.autolink=n(W.autolink).replace("scheme",W._scheme).replace("email",W._email).getRegex(),W._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,W.tag=n(W.tag).replace("comment",W._comment).replace("attribute",W._attribute).getRegex(),W._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,W._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,W._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,W.link=n(W.link).replace("label",W._label).replace("href",W._href).replace("title",W._title).getRegex(),W.reflink=n(W.reflink).replace("label",W._label).replace("ref",x._label).getRegex(),W.nolink=n(W.nolink).replace("ref",x._label).getRegex(),W.reflinkSearch=n(W.reflinkSearch,"g").replace("reflink",W.reflink).replace("nolink",W.nolink).getRegex(),W.normal=E({},W),W.pedantic=E({},W.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:n(/^!?\[(label)\]\((.*?)\)/).replace("label",W._label).getRegex(),reflink:n(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",W._label).getRegex()}),W.gfm=E({},W.normal,{escape:n(W.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),W.gfm.url=n(W.gfm.url,"i").replace("email",W.gfm._extended_email).getRegex(),W.breaks=E({},W.gfm,{br:n(W.br).replace("{2,}","*").getRegex(),text:n(W.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});function z(ae){return ae.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201C").replace(/"/g,"\u201D").replace(/\.{3}/g,"\u2026")}function U(ae){var ce="",$,V,j=ae.length;for($=0;$<j;$++)V=ae.charCodeAt($),Math.random()>.5&&(V="x"+V.toString(16)),ce+="&#"+V+";";return ce}var O=function(){function ae($){this.tokens=[],this.tokens.links=Object.create(null),this.options=$||q.defaults,this.options.tokenizer=this.options.tokenizer||new F,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};var V={block:x.normal,inline:W.normal};this.options.pedantic?(V.block=x.pedantic,V.inline=W.pedantic):this.options.gfm&&(V.block=x.gfm,this.options.breaks?V.inline=W.breaks:V.inline=W.gfm),this.tokenizer.rules=V}ae.lex=function(V,j){var se=new ae(j);return se.lex(V)},ae.lexInline=function(V,j){var se=new ae(j);return se.inlineTokens(V)};var ce=ae.prototype;return ce.lex=function(V){V=V.replace(/\r\n|\r/g,`
`),this.blockTokens(V,this.tokens);for(var j;j=this.inlineQueue.shift();)this.inlineTokens(j.src,j.tokens);return this.tokens},ce.blockTokens=function(V,j){var se=this;j===void 0&&(j=[]),this.options.pedantic?V=V.replace(/\t/g,"    ").replace(/^ +$/gm,""):V=V.replace(/^( *)(\t+)/gm,function(we,Ee,Ie){return Ee+"    ".repeat(Ie.length)});for(var ie,Y,le,fe;V;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(function(we){return(ie=we.call({lexer:se},V,j))?(V=V.substring(ie.raw.length),j.push(ie),!0):!1}))){if(ie=this.tokenizer.space(V)){V=V.substring(ie.raw.length),ie.raw.length===1&&j.length>0?j[j.length-1].raw+=`
`:j.push(ie);continue}if(ie=this.tokenizer.code(V)){V=V.substring(ie.raw.length),Y=j[j.length-1],Y&&(Y.type==="paragraph"||Y.type==="text")?(Y.raw+=`
`+ie.raw,Y.text+=`
`+ie.text,this.inlineQueue[this.inlineQueue.length-1].src=Y.text):j.push(ie);continue}if(ie=this.tokenizer.fences(V)){V=V.substring(ie.raw.length),j.push(ie);continue}if(ie=this.tokenizer.heading(V)){V=V.substring(ie.raw.length),j.push(ie);continue}if(ie=this.tokenizer.hr(V)){V=V.substring(ie.raw.length),j.push(ie);continue}if(ie=this.tokenizer.blockquote(V)){V=V.substring(ie.raw.length),j.push(ie);continue}if(ie=this.tokenizer.list(V)){V=V.substring(ie.raw.length),j.push(ie);continue}if(ie=this.tokenizer.html(V)){V=V.substring(ie.raw.length),j.push(ie);continue}if(ie=this.tokenizer.def(V)){V=V.substring(ie.raw.length),Y=j[j.length-1],Y&&(Y.type==="paragraph"||Y.type==="text")?(Y.raw+=`
`+ie.raw,Y.text+=`
`+ie.raw,this.inlineQueue[this.inlineQueue.length-1].src=Y.text):this.tokens.links[ie.tag]||(this.tokens.links[ie.tag]={href:ie.href,title:ie.title});continue}if(ie=this.tokenizer.table(V)){V=V.substring(ie.raw.length),j.push(ie);continue}if(ie=this.tokenizer.lheading(V)){V=V.substring(ie.raw.length),j.push(ie);continue}if(le=V,this.options.extensions&&this.options.extensions.startBlock&&function(){var we=1/0,Ee=V.slice(1),Ie=void 0;se.options.extensions.startBlock.forEach(function(ye){Ie=ye.call({lexer:this},Ee),typeof Ie=="number"&&Ie>=0&&(we=Math.min(we,Ie))}),we<1/0&&we>=0&&(le=V.substring(0,we+1))}(),this.state.top&&(ie=this.tokenizer.paragraph(le))){Y=j[j.length-1],fe&&Y.type==="paragraph"?(Y.raw+=`
`+ie.raw,Y.text+=`
`+ie.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=Y.text):j.push(ie),fe=le.length!==V.length,V=V.substring(ie.raw.length);continue}if(ie=this.tokenizer.text(V)){V=V.substring(ie.raw.length),Y=j[j.length-1],Y&&Y.type==="text"?(Y.raw+=`
`+ie.raw,Y.text+=`
`+ie.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=Y.text):j.push(ie);continue}if(V){var be="Infinite loop on byte: "+V.charCodeAt(0);if(this.options.silent){console.error(be);break}else throw new Error(be)}}return this.state.top=!0,j},ce.inline=function(V,j){return j===void 0&&(j=[]),this.inlineQueue.push({src:V,tokens:j}),j},ce.inlineTokens=function(V,j){var se=this;j===void 0&&(j=[]);var ie,Y,le,fe=V,be,we,Ee;if(this.tokens.links){var Ie=Object.keys(this.tokens.links);if(Ie.length>0)for(;(be=this.tokenizer.rules.inline.reflinkSearch.exec(fe))!=null;)Ie.includes(be[0].slice(be[0].lastIndexOf("[")+1,-1))&&(fe=fe.slice(0,be.index)+"["+M("a",be[0].length-2)+"]"+fe.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(be=this.tokenizer.rules.inline.blockSkip.exec(fe))!=null;)fe=fe.slice(0,be.index)+"["+M("a",be[0].length-2)+"]"+fe.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(be=this.tokenizer.rules.inline.escapedEmSt.exec(fe))!=null;)fe=fe.slice(0,be.index)+"++"+fe.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;V;)if(we||(Ee=""),we=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(function(ke){return(ie=ke.call({lexer:se},V,j))?(V=V.substring(ie.raw.length),j.push(ie),!0):!1}))){if(ie=this.tokenizer.escape(V)){V=V.substring(ie.raw.length),j.push(ie);continue}if(ie=this.tokenizer.tag(V)){V=V.substring(ie.raw.length),Y=j[j.length-1],Y&&ie.type==="text"&&Y.type==="text"?(Y.raw+=ie.raw,Y.text+=ie.text):j.push(ie);continue}if(ie=this.tokenizer.link(V)){V=V.substring(ie.raw.length),j.push(ie);continue}if(ie=this.tokenizer.reflink(V,this.tokens.links)){V=V.substring(ie.raw.length),Y=j[j.length-1],Y&&ie.type==="text"&&Y.type==="text"?(Y.raw+=ie.raw,Y.text+=ie.text):j.push(ie);continue}if(ie=this.tokenizer.emStrong(V,fe,Ee)){V=V.substring(ie.raw.length),j.push(ie);continue}if(ie=this.tokenizer.codespan(V)){V=V.substring(ie.raw.length),j.push(ie);continue}if(ie=this.tokenizer.br(V)){V=V.substring(ie.raw.length),j.push(ie);continue}if(ie=this.tokenizer.del(V)){V=V.substring(ie.raw.length),j.push(ie);continue}if(ie=this.tokenizer.autolink(V,U)){V=V.substring(ie.raw.length),j.push(ie);continue}if(!this.state.inLink&&(ie=this.tokenizer.url(V,U))){V=V.substring(ie.raw.length),j.push(ie);continue}if(le=V,this.options.extensions&&this.options.extensions.startInline&&function(){var ke=1/0,Ae=V.slice(1),Te=void 0;se.options.extensions.startInline.forEach(function(pe){Te=pe.call({lexer:this},Ae),typeof Te=="number"&&Te>=0&&(ke=Math.min(ke,Te))}),ke<1/0&&ke>=0&&(le=V.substring(0,ke+1))}(),ie=this.tokenizer.inlineText(le,z)){V=V.substring(ie.raw.length),ie.raw.slice(-1)!=="_"&&(Ee=ie.raw.slice(-1)),we=!0,Y=j[j.length-1],Y&&Y.type==="text"?(Y.raw+=ie.raw,Y.text+=ie.text):j.push(ie);continue}if(V){var ye="Infinite loop on byte: "+V.charCodeAt(0);if(this.options.silent){console.error(ye);break}else throw new Error(ye)}}return j},L(ae,null,[{key:"rules",get:function(){return{block:x,inline:W}}}]),ae}(),G=function(){function ae($){this.options=$||q.defaults}var ce=ae.prototype;return ce.code=function(V,j,se){var ie=(j||"").match(/\S*/)[0];if(this.options.highlight){var Y=this.options.highlight(V,ie);Y!=null&&Y!==V&&(se=!0,V=Y)}return V=V.replace(/\n$/,"")+`
`,ie?'<pre><code class="'+this.options.langPrefix+o(ie,!0)+'">'+(se?V:o(V,!0))+`</code></pre>
`:"<pre><code>"+(se?V:o(V,!0))+`</code></pre>
`},ce.blockquote=function(V){return`<blockquote>
`+V+`</blockquote>
`},ce.html=function(V){return V},ce.heading=function(V,j,se,ie){if(this.options.headerIds){var Y=this.options.headerPrefix+ie.slug(se);return"<h"+j+' id="'+Y+'">'+V+"</h"+j+`>
`}return"<h"+j+">"+V+"</h"+j+`>
`},ce.hr=function(){return this.options.xhtml?`<hr/>
`:`<hr>
`},ce.list=function(V,j,se){var ie=j?"ol":"ul",Y=j&&se!==1?' start="'+se+'"':"";return"<"+ie+Y+`>
`+V+"</"+ie+`>
`},ce.listitem=function(V){return"<li>"+V+`</li>
`},ce.checkbox=function(V){return"<input "+(V?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},ce.paragraph=function(V){return"<p>"+V+`</p>
`},ce.table=function(V,j){return j&&(j="<tbody>"+j+"</tbody>"),`<table>
<thead>
`+V+`</thead>
`+j+`</table>
`},ce.tablerow=function(V){return`<tr>
`+V+`</tr>
`},ce.tablecell=function(V,j){var se=j.header?"th":"td",ie=j.align?"<"+se+' align="'+j.align+'">':"<"+se+">";return ie+V+("</"+se+`>
`)},ce.strong=function(V){return"<strong>"+V+"</strong>"},ce.em=function(V){return"<em>"+V+"</em>"},ce.codespan=function(V){return"<code>"+V+"</code>"},ce.br=function(){return this.options.xhtml?"<br/>":"<br>"},ce.del=function(V){return"<del>"+V+"</del>"},ce.link=function(V,j,se){if(V=l(this.options.sanitize,this.options.baseUrl,V),V===null)return se;var ie='<a href="'+o(V)+'"';return j&&(ie+=' title="'+j+'"'),ie+=">"+se+"</a>",ie},ce.image=function(V,j,se){if(V=l(this.options.sanitize,this.options.baseUrl,V),V===null)return se;var ie='<img src="'+V+'" alt="'+se+'"';return j&&(ie+=' title="'+j+'"'),ie+=this.options.xhtml?"/>":">",ie},ce.text=function(V){return V},ae}(),Q=function(){function ae(){}var ce=ae.prototype;return ce.strong=function(V){return V},ce.em=function(V){return V},ce.codespan=function(V){return V},ce.del=function(V){return V},ce.html=function(V){return V},ce.text=function(V){return V},ce.link=function(V,j,se){return""+se},ce.image=function(V,j,se){return""+se},ce.br=function(){return""},ae}(),re=function(){function ae(){this.seen={}}var ce=ae.prototype;return ce.serialize=function(V){return V.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")},ce.getNextSafeSlug=function(V,j){var se=V,ie=0;if(this.seen.hasOwnProperty(se)){ie=this.seen[V];do ie++,se=V+"-"+ie;while(this.seen.hasOwnProperty(se))}return j||(this.seen[V]=ie,this.seen[se]=0),se},ce.slug=function(V,j){j===void 0&&(j={});var se=this.serialize(V);return this.getNextSafeSlug(se,j.dryrun)},ae}(),oe=function(){function ae($){this.options=$||q.defaults,this.options.renderer=this.options.renderer||new G,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new Q,this.slugger=new re}ae.parse=function(V,j){var se=new ae(j);return se.parse(V)},ae.parseInline=function(V,j){var se=new ae(j);return se.parseInline(V)};var ce=ae.prototype;return ce.parse=function(V,j){j===void 0&&(j=!0);var se="",ie,Y,le,fe,be,we,Ee,Ie,ye,ke,Ae,Te,pe,me,Se,ue,Ce,ve,_e,De=V.length;for(ie=0;ie<De;ie++){if(ke=V[ie],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[ke.type]&&(_e=this.options.extensions.renderers[ke.type].call({parser:this},ke),_e!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(ke.type))){se+=_e||"";continue}switch(ke.type){case"space":continue;case"hr":{se+=this.renderer.hr();continue}case"heading":{se+=this.renderer.heading(this.parseInline(ke.tokens),ke.depth,d(this.parseInline(ke.tokens,this.textRenderer)),this.slugger);continue}case"code":{se+=this.renderer.code(ke.text,ke.lang,ke.escaped);continue}case"table":{for(Ie="",Ee="",fe=ke.header.length,Y=0;Y<fe;Y++)Ee+=this.renderer.tablecell(this.parseInline(ke.header[Y].tokens),{header:!0,align:ke.align[Y]});for(Ie+=this.renderer.tablerow(Ee),ye="",fe=ke.rows.length,Y=0;Y<fe;Y++){for(we=ke.rows[Y],Ee="",be=we.length,le=0;le<be;le++)Ee+=this.renderer.tablecell(this.parseInline(we[le].tokens),{header:!1,align:ke.align[le]});ye+=this.renderer.tablerow(Ee)}se+=this.renderer.table(Ie,ye);continue}case"blockquote":{ye=this.parse(ke.tokens),se+=this.renderer.blockquote(ye);continue}case"list":{for(Ae=ke.ordered,Te=ke.start,pe=ke.loose,fe=ke.items.length,ye="",Y=0;Y<fe;Y++)Se=ke.items[Y],ue=Se.checked,Ce=Se.task,me="",Se.task&&(ve=this.renderer.checkbox(ue),pe?Se.tokens.length>0&&Se.tokens[0].type==="paragraph"?(Se.tokens[0].text=ve+" "+Se.tokens[0].text,Se.tokens[0].tokens&&Se.tokens[0].tokens.length>0&&Se.tokens[0].tokens[0].type==="text"&&(Se.tokens[0].tokens[0].text=ve+" "+Se.tokens[0].tokens[0].text)):Se.tokens.unshift({type:"text",text:ve}):me+=ve),me+=this.parse(Se.tokens,pe),ye+=this.renderer.listitem(me,Ce,ue);se+=this.renderer.list(ye,Ae,Te);continue}case"html":{se+=this.renderer.html(ke.text);continue}case"paragraph":{se+=this.renderer.paragraph(this.parseInline(ke.tokens));continue}case"text":{for(ye=ke.tokens?this.parseInline(ke.tokens):ke.text;ie+1<De&&V[ie+1].type==="text";)ke=V[++ie],ye+=`
`+(ke.tokens?this.parseInline(ke.tokens):ke.text);se+=j?this.renderer.paragraph(ye):ye;continue}default:{var Re='Token with "'+ke.type+'" type was not found.';if(this.options.silent){console.error(Re);return}else throw new Error(Re)}}}return se},ce.parseInline=function(V,j){j=j||this.renderer;var se="",ie,Y,le,fe=V.length;for(ie=0;ie<fe;ie++){if(Y=V[ie],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[Y.type]&&(le=this.options.extensions.renderers[Y.type].call({parser:this},Y),le!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(Y.type))){se+=le||"";continue}switch(Y.type){case"escape":{se+=j.text(Y.text);break}case"html":{se+=j.html(Y.text);break}case"link":{se+=j.link(Y.href,Y.title,this.parseInline(Y.tokens,j));break}case"image":{se+=j.image(Y.href,Y.title,Y.text);break}case"strong":{se+=j.strong(this.parseInline(Y.tokens,j));break}case"em":{se+=j.em(this.parseInline(Y.tokens,j));break}case"codespan":{se+=j.codespan(Y.text);break}case"br":{se+=j.br();break}case"del":{se+=j.del(this.parseInline(Y.tokens,j));break}case"text":{se+=j.text(Y.text);break}default:{var be='Token with "'+Y.type+'" type was not found.';if(this.options.silent){console.error(be);return}else throw new Error(be)}}}return se},ae}();function te(ae,ce,$){if(typeof ae>"u"||ae===null)throw new Error("marked(): input parameter is undefined or null");if(typeof ae!="string")throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(ae)+", string expected");if(typeof ce=="function"&&($=ce,ce=null),ce=E({},te.defaults,ce||{}),A(ce),$){var V=ce.highlight,j;try{j=O.lex(ae,ce)}catch(fe){return $(fe)}var se=function(be){var we;if(!be)try{ce.walkTokens&&te.walkTokens(j,ce.walkTokens),we=oe.parse(j,ce)}catch(Ee){be=Ee}return ce.highlight=V,be?$(be):$(null,we)};if(!V||V.length<3||(delete ce.highlight,!j.length))return se();var ie=0;te.walkTokens(j,function(fe){fe.type==="code"&&(ie++,setTimeout(function(){V(fe.text,fe.lang,function(be,we){if(be)return se(be);we!=null&&we!==fe.text&&(fe.text=we,fe.escaped=!0),ie--,ie===0&&se()})},0))}),ie===0&&se();return}function Y(fe){if(fe.message+=`
Please report this to https://github.com/markedjs/marked.`,ce.silent)return"<p>An error occurred:</p><pre>"+o(fe.message+"",!0)+"</pre>";throw fe}try{var le=O.lex(ae,ce);if(ce.walkTokens){if(ce.async)return Promise.all(te.walkTokens(le,ce.walkTokens)).then(function(){return oe.parse(le,ce)}).catch(Y);te.walkTokens(le,ce.walkTokens)}return oe.parse(le,ce)}catch(fe){Y(fe)}}te.options=te.setOptions=function(ae){return E(te.defaults,ae),m(te.defaults),te},te.getDefaults=S,te.defaults=q.defaults,te.use=function(){for(var ae=arguments.length,ce=new Array(ae),$=0;$<ae;$++)ce[$]=arguments[$];var V=E.apply(void 0,[{}].concat(ce)),j=te.defaults.extensions||{renderers:{},childTokens:{}},se;ce.forEach(function(ie){if(ie.extensions&&(se=!0,ie.extensions.forEach(function(le){if(!le.name)throw new Error("extension name required");if(le.renderer){var fe=j.renderers?j.renderers[le.name]:null;fe?j.renderers[le.name]=function(){for(var be=arguments.length,we=new Array(be),Ee=0;Ee<be;Ee++)we[Ee]=arguments[Ee];var Ie=le.renderer.apply(this,we);return Ie===!1&&(Ie=fe.apply(this,we)),Ie}:j.renderers[le.name]=le.renderer}if(le.tokenizer){if(!le.level||le.level!=="block"&&le.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");j[le.level]?j[le.level].unshift(le.tokenizer):j[le.level]=[le.tokenizer],le.start&&(le.level==="block"?j.startBlock?j.startBlock.push(le.start):j.startBlock=[le.start]:le.level==="inline"&&(j.startInline?j.startInline.push(le.start):j.startInline=[le.start]))}le.childTokens&&(j.childTokens[le.name]=le.childTokens)})),ie.renderer&&function(){var le=te.defaults.renderer||new G,fe=function(Ee){var Ie=le[Ee];le[Ee]=function(){for(var ye=arguments.length,ke=new Array(ye),Ae=0;Ae<ye;Ae++)ke[Ae]=arguments[Ae];var Te=ie.renderer[Ee].apply(le,ke);return Te===!1&&(Te=Ie.apply(le,ke)),Te}};for(var be in ie.renderer)fe(be);V.renderer=le}(),ie.tokenizer&&function(){var le=te.defaults.tokenizer||new F,fe=function(Ee){var Ie=le[Ee];le[Ee]=function(){for(var ye=arguments.length,ke=new Array(ye),Ae=0;Ae<ye;Ae++)ke[Ae]=arguments[Ae];var Te=ie.tokenizer[Ee].apply(le,ke);return Te===!1&&(Te=Ie.apply(le,ke)),Te}};for(var be in ie.tokenizer)fe(be);V.tokenizer=le}(),ie.walkTokens){var Y=te.defaults.walkTokens;V.walkTokens=function(le){var fe=[];return fe.push(ie.walkTokens.call(this,le)),Y&&(fe=fe.concat(Y.call(this,le))),fe}}se&&(V.extensions=j),te.setOptions(V)})},te.walkTokens=function(ae,ce){for(var $=[],V=function(){var Y=se.value;switch($=$.concat(ce.call(te,Y)),Y.type){case"table":{for(var le=D(Y.header),fe;!(fe=le()).done;){var be=fe.value;$=$.concat(te.walkTokens(be.tokens,ce))}for(var we=D(Y.rows),Ee;!(Ee=we()).done;)for(var Ie=Ee.value,ye=D(Ie),ke;!(ke=ye()).done;){var Ae=ke.value;$=$.concat(te.walkTokens(Ae.tokens,ce))}break}case"list":{$=$.concat(te.walkTokens(Y.items,ce));break}default:te.defaults.extensions&&te.defaults.extensions.childTokens&&te.defaults.extensions.childTokens[Y.type]?te.defaults.extensions.childTokens[Y.type].forEach(function(Te){$=$.concat(te.walkTokens(Y[Te],ce))}):Y.tokens&&($=$.concat(te.walkTokens(Y.tokens,ce)))}},j=D(ae),se;!(se=j()).done;)V();return $},te.parseInline=function(ae,ce){if(typeof ae>"u"||ae===null)throw new Error("marked.parseInline(): input parameter is undefined or null");if(typeof ae!="string")throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(ae)+", string expected");ce=E({},te.defaults,ce||{}),A(ce);try{var $=O.lexInline(ae,ce);return ce.walkTokens&&te.walkTokens($,ce.walkTokens),oe.parseInline($,ce)}catch(V){if(V.message+=`
Please report this to https://github.com/markedjs/marked.`,ce.silent)return"<p>An error occurred:</p><pre>"+o(V.message+"",!0)+"</pre>";throw V}},te.Parser=oe,te.parser=oe.parse,te.Renderer=G,te.TextRenderer=Q,te.Lexer=O,te.lexer=O.lex,te.Tokenizer=F,te.Slugger=re,te.parse=te;var H=te.options,B=te.setOptions,K=te.use,Z=te.walkTokens,J=te.parseInline,ne=te,he=oe.parse,de=O.lex;q.Lexer=O,q.Parser=oe,q.Renderer=G,q.Slugger=re,q.TextRenderer=Q,q.Tokenizer=F,q.getDefaults=S,q.lexer=de,q.marked=te,q.options=H,q.parse=ne,q.parseInline=J,q.parser=he,q.setOptions=B,q.use=K,q.walkTokens=Z,Object.defineProperty(q,"__esModule",{value:!0})}),define(X[105],ee([1,0]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Mimes=void 0,e.Mimes=Object.freeze({text:"text/plain",binary:"application/octet-stream",unknown:"application/unknown",markdown:"text/markdown",latex:"text/latex",uriList:"text/uri-list"})}),define(X[196],ee([1,0,105]),function(q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DataTransfers=void 0,e.DataTransfers={RESOURCES:"ResourceURLs",DOWNLOAD_URL:"DownloadURL",FILES:"Files",TEXT:L.Mimes.text,INTERNAL_URI_LIST:"application/vnd.code.uri-list"}}),define(X[383],ee([1,0]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ArrayNavigator=void 0;class L{constructor(y,D=0,S=y.length,m=D-1){this.items=y,this.start=D,this.end=S,this.index=m}current(){return this.index===this.start-1||this.index===this.end?null:this.items[this.index]}next(){return this.index=Math.min(this.index+1,this.end),this.current()}previous(){return this.index=Math.max(this.index-1,this.start-1),this.current()}first(){return this.index=this.start,this.current()}last(){return this.index=this.end-1,this.current()}}e.ArrayNavigator=L}),define(X[384],ee([1,0,383]),function(q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HistoryNavigator=void 0;class k{constructor(D=[],S=10){this._initialize(D),this._limit=S,this._onChange()}getHistory(){return this._elements}add(D){this._history.delete(D),this._history.add(D),this._onChange()}next(){return this._navigator.next()}previous(){return this._currentPosition()!==0?this._navigator.previous():null}current(){return this._navigator.current()}first(){return this._navigator.first()}last(){return this._navigator.last()}isLast(){return this._currentPosition()>=this._elements.length-1}isNowhere(){return this._navigator.current()===null}has(D){return this._history.has(D)}_onChange(){this._reduceToLimit();const D=this._elements;this._navigator=new L.ArrayNavigator(D,0,D.length,D.length)}_reduceToLimit(){const D=this._elements;D.length>this._limit&&this._initialize(D.slice(D.length-this._limit))}_currentPosition(){const D=this._navigator.current();return D?this._elements.indexOf(D):-1}_initialize(D){this._history=new Set;for(const S of D)this._history.add(S)}get _elements(){const D=[];return this._history.forEach(S=>D.push(S)),D}}e.HistoryNavigator=k}),define(X[139],ee([1,0]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SlidingWindowAverage=e.MovingAverage=e.clamp=void 0;function L(D,S,m){return Math.min(Math.max(D,S),m)}e.clamp=L;class k{constructor(){this._n=1,this._val=0}update(S){return this._val=this._val+(S-this._val)/this._n,this._n+=1,this._val}get value(){return this._val}}e.MovingAverage=k;class y{constructor(S){this._n=0,this._val=0,this._values=[],this._index=0,this._sum=0,this._values=new Array(S),this._values.fill(0,0,S)}update(S){const m=this._values[this._index];return this._values[this._index]=S,this._index=(this._index+1)%this._values.length,this._sum-=m,this._sum+=S,this._n<this._values.length&&(this._n+=1),this._val=this._sum/this._n,this._val}get value(){return this._val}}e.SlidingWindowAverage=y}),define(X[140],ee([1,0]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ConsoleObservableLogger=e.getLogger=e.setLogger=void 0;let L;function k(r){L=r}e.setLogger=k;function y(){return L}e.getLogger=y;class D{constructor(){this.indentation=0,this.changedObservablesSets=new WeakMap}textToConsoleArgs(d){return S([m(i("|  ",this.indentation)),d])}formatInfo(d){return d.didChange?[m(" "),f(p(d.oldValue,70),{color:"red",strikeThrough:!0}),m(" "),f(p(d.newValue,60),{color:"green"})]:[m(" (unchanged)")]}handleObservableChanged(d,h){console.log(...this.textToConsoleArgs([_("observable value changed"),f(d.debugName,{color:"BlueViolet"}),...this.formatInfo(h)]))}formatChanges(d){if(d.size!==0)return f(" (changed deps: "+[...d].map(h=>h.debugName).join(", ")+")",{color:"gray"})}handleDerivedCreated(d){const h=d.handleChange;this.changedObservablesSets.set(d,new Set),d.handleChange=(n,c)=>(this.changedObservablesSets.get(d).add(n),h.apply(d,[n,c]))}handleDerivedRecomputed(d,h){const n=this.changedObservablesSets.get(d);console.log(...this.textToConsoleArgs([_("derived recomputed"),f(d.debugName,{color:"BlueViolet"}),...this.formatInfo(h),this.formatChanges(n)])),n.clear()}handleFromEventObservableTriggered(d,h){console.log(...this.textToConsoleArgs([_("observable from event triggered"),f(d.debugName,{color:"BlueViolet"}),...this.formatInfo(h)]))}handleAutorunCreated(d){const h=d.handleChange;this.changedObservablesSets.set(d,new Set),d.handleChange=(n,c)=>(this.changedObservablesSets.get(d).add(n),h.apply(d,[n,c]))}handleAutorunTriggered(d){const h=this.changedObservablesSets.get(d);console.log(...this.textToConsoleArgs([_("autorun"),f(d.debugName,{color:"BlueViolet"}),this.formatChanges(h)])),h.clear()}handleBeginTransaction(d){let h=d.getDebugName();h===void 0&&(h=""),console.log(...this.textToConsoleArgs([_("transaction"),f(h,{color:"BlueViolet"})])),this.indentation++}handleEndTransaction(){this.indentation--}}e.ConsoleObservableLogger=D;function S(r){const d=new Array,n={};let c="";function a(u){if("length"in u)for(const C of u)C&&a(C);else"text"in u?(c+=`%c${u.text}`,d.push(u.style),u.data&&Object.assign(n,u.data)):"data"in u&&Object.assign(n,u.data)}a(r);const l=[c,...d];return Object.keys(n).length>0&&l.push(n),l}function m(r){return f(r,{color:"black"})}function _(r){return f(o(`${r}: `,10),{color:"black",bold:!0})}function f(r,d={color:"black"}){function h(c){return Object.entries(c).reduce((a,[l,u])=>`${a}${l}:${u};`,"")}const n={color:d.color};return d.strikeThrough&&(n["text-decoration"]="line-through"),d.bold&&(n["font-weight"]="bold"),{text:r,style:h(n)}}function p(r,d){switch(typeof r){case"number":return""+r;case"string":return r.length+2<=d?`"${r}"`:`"${r.substr(0,d-7)}"+...`;case"boolean":return r?"true":"false";case"undefined":return"undefined";case"object":return r===null?"null":Array.isArray(r)?s(r,d):t(r,d);case"symbol":return r.toString();case"function":return`[[Function${r.name?" "+r.name:""}]]`;default:return""+r}}function s(r,d){let h="[ ",n=!0;for(const c of r){if(n||(h+=", "),h.length-5>d){h+="...";break}n=!1,h+=`${p(c,d-h.length)}`}return h+=" ]",h}function t(r,d){let h="{ ",n=!0;for(const[c,a]of Object.entries(r)){if(n||(h+=", "),h.length-5>d){h+="...";break}n=!1,h+=`${c}: ${p(a,d-h.length)}`}return h+=" }",h}function i(r,d){let h="";for(let n=1;n<=d;n++)h+=r;return h}function o(r,d){for(;r.length<d;)r+=" ";return r}}),define(X[90],ee([1,0,84,2,140]),function(q,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AutorunObserver=e.autorunWithStore=e.autorunWithStore2=e.autorunHandleChanges=e.autorun=void 0;function D(p,s){return new f(p,s,void 0,void 0)}e.autorun=D;function S(p,s,t){return new f(p,t,s.createEmptyChangeSummary,s.handleChange)}e.autorunHandleChanges=S;function m(p,s){return _(s,p)}e.autorunWithStore2=m;function _(p,s){const t=new k.DisposableStore,i=D(s,o=>{t.clear(),p(o,t)});return(0,k.toDisposable)(()=>{i.dispose(),t.dispose()})}e.autorunWithStore=_;class f{constructor(s,t,i,o){var r,d;this.debugName=s,this.runFn=t,this.createChangeSummary=i,this._handleChange=o,this.state=2,this.updateCount=0,this.disposed=!1,this.dependencies=new Set,this.dependenciesToBeRemoved=new Set,this.changeSummary=(r=this.createChangeSummary)===null||r===void 0?void 0:r.call(this),(d=(0,y.getLogger)())===null||d===void 0||d.handleAutorunCreated(this),this._runIfNeeded()}dispose(){this.disposed=!0;for(const s of this.dependencies)s.removeObserver(this);this.dependencies.clear()}_runIfNeeded(){var s,t;if(this.state===3)return;const i=this.dependenciesToBeRemoved;this.dependenciesToBeRemoved=this.dependencies,this.dependencies=i,this.state=3,(s=(0,y.getLogger)())===null||s===void 0||s.handleAutorunTriggered(this);try{const o=this.changeSummary;this.changeSummary=(t=this.createChangeSummary)===null||t===void 0?void 0:t.call(this),this.runFn(this,o)}finally{for(const o of this.dependenciesToBeRemoved)o.removeObserver(this);this.dependenciesToBeRemoved.clear()}}toString(){return`Autorun<${this.debugName}>`}beginUpdate(){this.state===3&&(this.state=1),this.updateCount++}endUpdate(){if(this.updateCount===1)do{if(this.state===1){this.state=3;for(const s of this.dependencies)if(s.reportChanges(),this.state===2)break}this._runIfNeeded()}while(this.state!==3);this.updateCount--,(0,L.assertFn)(()=>this.updateCount>=0)}handlePossibleChange(s){this.state===3&&this.dependencies.has(s)&&!this.dependenciesToBeRemoved.has(s)&&(this.state=1)}handleChange(s,t){this.dependencies.has(s)&&!this.dependenciesToBeRemoved.has(s)&&(!this._handleChange||this._handleChange({changedObservable:s,change:t,didChange:o=>o===s},this.changeSummary))&&(this.state=2)}readObservable(s){if(this.disposed)return s.get();s.addObserver(this);const t=s.get();return this.dependencies.add(s),this.dependenciesToBeRemoved.delete(s),t}}e.AutorunObserver=f,function(p){p.Observer=f}(D||(e.autorun=D={}))}),define(X[106],ee([1,0,140]),function(q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DisposableObservableValue=e.disposableObservableValue=e.ObservableValue=e.observableValue=e.getFunctionName=e.TransactionImpl=e.subtransaction=e.transaction=e.BaseObservable=e.ConvenientObservable=e._setDerived=void 0;let k;function y(r){k=r}e._setDerived=y;class D{get TChange(){return null}reportChanges(){this.get()}read(d){return d?d.readObservable(this):this.get()}map(d){return k(()=>{const h=p(d);return h!==void 0?h:`${this.debugName} (mapped)`},h=>d(this.read(h),h))}}e.ConvenientObservable=D;class S extends D{constructor(){super(...arguments),this.observers=new Set}addObserver(d){const h=this.observers.size;this.observers.add(d),h===0&&this.onFirstObserverAdded()}removeObserver(d){this.observers.delete(d)&&this.observers.size===0&&this.onLastObserverRemoved()}onFirstObserverAdded(){}onLastObserverRemoved(){}}e.BaseObservable=S;function m(r,d){var h,n;const c=new f(r,d);try{(h=(0,L.getLogger)())===null||h===void 0||h.handleBeginTransaction(c),r(c)}finally{c.finish(),(n=(0,L.getLogger)())===null||n===void 0||n.handleEndTransaction()}}e.transaction=m;function _(r,d,h){r?d(r):m(d,h)}e.subtransaction=_;class f{constructor(d,h){this.fn=d,this._getDebugName=h,this.updatingObservers=[]}getDebugName(){return this._getDebugName?this._getDebugName():p(this.fn)}updateObserver(d,h){this.updatingObservers.push({observer:d,observable:h}),d.beginUpdate(h)}finish(){const d=this.updatingObservers;this.updatingObservers=null;for(const{observer:h,observable:n}of d)h.endUpdate(n)}}e.TransactionImpl=f;function p(r){const d=r.toString(),n=/\/\*\*\s*@description\s*([^*]*)\*\//.exec(d),c=n?n[1]:void 0;return c?.trim()}e.getFunctionName=p;function s(r,d){return new t(r,d)}e.observableValue=s;class t extends S{constructor(d,h){super(),this.debugName=d,this._value=h}get(){return this._value}set(d,h,n){var c;if(this._value===d)return;let a;h||(h=a=new f(()=>{},()=>`Setting ${this.debugName}`));try{const l=this._value;this._setValue(d),(c=(0,L.getLogger)())===null||c===void 0||c.handleObservableChanged(this,{oldValue:l,newValue:d,change:n,didChange:!0});for(const u of this.observers)h.updateObserver(u,this),u.handleChange(this,n)}finally{a&&a.finish()}}toString(){return`${this.debugName}: ${this._value}`}_setValue(d){this._value=d}}e.ObservableValue=t;function i(r,d){return new o(r,d)}e.disposableObservableValue=i;class o extends t{_setValue(d){this._value!==d&&(this._value&&this._value.dispose(),this._value=d)}dispose(){var d;(d=this._value)===null||d===void 0||d.dispose()}}e.DisposableObservableValue=o}),define(X[167],ee([1,0,12,2,106,140]),function(q,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Derived=e.derivedWithStore=e.derivedHandleChanges=e.derived=void 0;function S(p,s){return new f(p,s,void 0,void 0,void 0)}e.derived=S;function m(p,s,t){return new f(p,t,s.createEmptyChangeSummary,s.handleChange,void 0)}e.derivedHandleChanges=m;function _(p,s){const t=new k.DisposableStore;return new f(p,i=>(t.clear(),s(i,t)),void 0,void 0,()=>t.dispose())}e.derivedWithStore=_,(0,y._setDerived)(S);class f extends y.BaseObservable{get debugName(){return typeof this._debugName=="function"?this._debugName():this._debugName}constructor(s,t,i,o,r=void 0){var d,h;super(),this._debugName=s,this.computeFn=t,this.createChangeSummary=i,this._handleChange=o,this._handleLastObserverRemoved=r,this.state=0,this.value=void 0,this.updateCount=0,this.dependencies=new Set,this.dependenciesToBeRemoved=new Set,this.changeSummary=void 0,this.changeSummary=(d=this.createChangeSummary)===null||d===void 0?void 0:d.call(this),(h=(0,D.getLogger)())===null||h===void 0||h.handleDerivedCreated(this)}onLastObserverRemoved(){var s;this.state=0,this.value=void 0;for(const t of this.dependencies)t.removeObserver(this);this.dependencies.clear(),(s=this._handleLastObserverRemoved)===null||s===void 0||s.call(this)}get(){var s;if(this.observers.size===0){const t=this.computeFn(this,(s=this.createChangeSummary)===null||s===void 0?void 0:s.call(this));return this.onLastObserverRemoved(),t}else{do{if(this.state===1){this.state=3;for(const t of this.dependencies)if(t.reportChanges(),this.state===2)break}this._recomputeIfNeeded()}while(this.state!==3);return this.value}}_recomputeIfNeeded(){var s,t;if(this.state===3)return;const i=this.dependenciesToBeRemoved;this.dependenciesToBeRemoved=this.dependencies,this.dependencies=i;const o=this.state!==0,r=this.value;this.state=3;const d=this.changeSummary;this.changeSummary=(s=this.createChangeSummary)===null||s===void 0?void 0:s.call(this);try{this.value=this.computeFn(this,d)}finally{for(const n of this.dependenciesToBeRemoved)n.removeObserver(this);this.dependenciesToBeRemoved.clear()}const h=o&&r!==this.value;if((t=(0,D.getLogger)())===null||t===void 0||t.handleDerivedRecomputed(this,{oldValue:r,newValue:this.value,change:void 0,didChange:h}),h)for(const n of this.observers)n.handleChange(this,void 0)}toString(){return`LazyDerived<${this.debugName}>`}beginUpdate(s){this.updateCount++;const t=this.updateCount===1;if(this.state===3&&(this.state=1,!t))for(const i of this.observers)i.handlePossibleChange(this);if(t)for(const i of this.observers)i.beginUpdate(this)}endUpdate(s){if(this.updateCount--,this.updateCount===0){const t=[...this.observers];for(const i of t)i.endUpdate(this)}if(this.updateCount<0)throw new L.BugIndicatingError}handlePossibleChange(s){if(this.state===3&&this.dependencies.has(s)&&!this.dependenciesToBeRemoved.has(s)){this.state=1;for(const t of this.observers)t.handlePossibleChange(this)}}handleChange(s,t){if(this.dependencies.has(s)&&!this.dependenciesToBeRemoved.has(s)){const i=this._handleChange?this._handleChange({changedObservable:s,change:t,didChange:r=>r===s},this.changeSummary):!0,o=this.state===3;if(i&&(this.state===1||o)&&(this.state=2,o))for(const r of this.observers)r.handlePossibleChange(this)}}readObservable(s){s.addObserver(this);const t=s.get();return this.dependencies.add(s),this.dependenciesToBeRemoved.delete(s),t}addObserver(s){const t=!this.observers.has(s)&&this.updateCount>0;super.addObserver(s),t&&s.beginUpdate(this)}removeObserver(s){const t=this.observers.has(s)&&this.updateCount>0;super.removeObserver(s),t&&s.endUpdate(this)}}e.Derived=f}),define(X[385],ee([1,0,2,90,106,140]),function(q,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.keepAlive=e.observableSignal=e.observableSignalFromEvent=e.FromEventObservable=e.observableFromEvent=e.waitForState=e.constObservable=void 0;function S(h){return new m(h)}e.constObservable=S;class m extends y.ConvenientObservable{constructor(n){super(),this.value=n}get debugName(){return this.toString()}get(){return this.value}addObserver(n){}removeObserver(n){}toString(){return`Const: ${this.value}`}}function _(h,n){return new Promise(c=>{let a=!1,l=!1;const u=(0,k.autorun)("waitForState",C=>{const g=h.read(C);n(g)&&(a?u.dispose():l=!0,c(g))});a=!0,l&&u.dispose()})}e.waitForState=_;function f(h,n){return new p(h,n)}e.observableFromEvent=f;class p extends y.BaseObservable{constructor(n,c){super(),this.event=n,this.getValue=c,this.hasValue=!1,this.handleEvent=a=>{var l;const u=this.getValue(a),C=!this.hasValue||this.value!==u;(l=(0,D.getLogger)())===null||l===void 0||l.handleFromEventObservableTriggered(this,{oldValue:this.value,newValue:u,change:void 0,didChange:C}),C&&(this.value=u,this.hasValue&&(0,y.transaction)(g=>{for(const v of this.observers)g.updateObserver(v,this),v.handleChange(this,void 0)},()=>{const g=this.getDebugName();return"Event fired"+(g?`: ${g}`:"")}),this.hasValue=!0)}}getDebugName(){return(0,y.getFunctionName)(this.getValue)}get debugName(){const n=this.getDebugName();return"From Event"+(n?`: ${n}`:"")}onFirstObserverAdded(){this.subscription=this.event(this.handleEvent)}onLastObserverRemoved(){this.subscription.dispose(),this.subscription=void 0,this.hasValue=!1,this.value=void 0}get(){return this.subscription?(this.hasValue||this.handleEvent(void 0),this.value):this.getValue(void 0)}}e.FromEventObservable=p,function(h){h.Observer=p}(f||(e.observableFromEvent=f={}));function s(h,n){return new t(h,n)}e.observableSignalFromEvent=s;class t extends y.BaseObservable{constructor(n,c){super(),this.debugName=n,this.event=c,this.handleEvent=()=>{(0,y.transaction)(a=>{for(const l of this.observers)a.updateObserver(l,this),l.handleChange(this,void 0)},()=>this.debugName)}}onFirstObserverAdded(){this.subscription=this.event(this.handleEvent)}onLastObserverRemoved(){this.subscription.dispose(),this.subscription=void 0}get(){}}function i(h){return new o(h)}e.observableSignal=i;class o extends y.BaseObservable{constructor(n){super(),this.debugName=n}trigger(n,c){if(!n){(0,y.transaction)(a=>{this.trigger(a,c)},()=>`Trigger signal ${this.debugName}`);return}for(const a of this.observers)n.updateObserver(a,this),a.handleChange(this,c)}get(){}}function r(h,n){const c=new d(n??!1);return h.addObserver(c),n&&h.reportChanges(),(0,L.toDisposable)(()=>{h.removeObserver(c)})}e.keepAlive=r;class d{constructor(n){this.forceRecompute=n,this.counter=0}beginUpdate(n){this.counter++}endUpdate(n){this.counter--,this.counter===0&&this.forceRecompute&&n.reportChanges()}handlePossibleChange(n){}handleChange(n,c){}}});var ui=this&&this.__createBinding||(Object.create?function(q,e,L,k){k===void 0&&(k=L);var y=Object.getOwnPropertyDescriptor(e,L);(!y||("get"in y?!e.__esModule:y.writable||y.configurable))&&(y={enumerable:!0,get:function(){return e[L]}}),Object.defineProperty(q,k,y)}:function(q,e,L,k){k===void 0&&(k=L),q[k]=e[L]}),hi=this&&this.__exportStar||function(q,e){for(var L in q)L!=="default"&&!Object.prototype.hasOwnProperty.call(e,L)&&ui(e,q,L)};define(X[42],ee([1,0,106,167,90,385,140]),function(q,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.autorunWithStore=e.autorunHandleChanges=e.autorun=e.derived=e.transaction=e.observableValue=void 0,Object.defineProperty(e,"observableValue",{enumerable:!0,get:function(){return L.observableValue}}),Object.defineProperty(e,"transaction",{enumerable:!0,get:function(){return L.transaction}}),Object.defineProperty(e,"derived",{enumerable:!0,get:function(){return k.derived}}),Object.defineProperty(e,"autorun",{enumerable:!0,get:function(){return y.autorun}}),Object.defineProperty(e,"autorunHandleChanges",{enumerable:!0,get:function(){return y.autorunHandleChanges}}),Object.defineProperty(e,"autorunWithStore",{enumerable:!0,get:function(){return y.autorunWithStore}}),hi(D,e),!1&&(0,S.setLogger)(new S.ConsoleObservableLogger)}),define(X[168],ee([1,0]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Range=void 0;var L;(function(k){function y(_,f){if(_.start>=f.end||f.start>=_.end)return{start:0,end:0};const p=Math.max(_.start,f.start),s=Math.min(_.end,f.end);return s-p<=0?{start:0,end:0}:{start:p,end:s}}k.intersect=y;function D(_){return _.end-_.start<=0}k.isEmpty=D;function S(_,f){return!D(y(_,f))}k.intersects=S;function m(_,f){const p=[],s={start:_.start,end:Math.min(f.start,_.end)},t={start:Math.max(f.end,_.start),end:_.end};return D(s)||p.push(s),D(t)||p.push(t),p}k.relativeComplement=m})(L||(e.Range=L={}))}),define(X[386],ee([1,0,168]),function(q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RangeMap=e.consolidate=e.shift=e.groupIntersect=void 0;function k(_,f){const p=[];for(const s of f){if(_.start>=s.range.end)continue;if(_.end<s.range.start)break;const t=L.Range.intersect(_,s.range);L.Range.isEmpty(t)||p.push({range:t,size:s.size})}return p}e.groupIntersect=k;function y({start:_,end:f},p){return{start:_+p,end:f+p}}e.shift=y;function D(_){const f=[];let p=null;for(const s of _){const t=s.range.start,i=s.range.end,o=s.size;if(p&&o===p.size){p.range.end=i;continue}p={range:{start:t,end:i},size:o},f.push(p)}return f}e.consolidate=D;function S(..._){return D(_.reduce((f,p)=>f.concat(p),[]))}class m{constructor(){this.groups=[],this._size=0}splice(f,p,s=[]){const t=s.length-p,i=k({start:0,end:f},this.groups),o=k({start:f+p,end:Number.POSITIVE_INFINITY},this.groups).map(d=>({range:y(d.range,t),size:d.size})),r=s.map((d,h)=>({range:{start:f+h,end:f+h+1},size:d.size}));this.groups=S(i,r,o),this._size=this.groups.reduce((d,h)=>d+h.size*(h.range.end-h.range.start),0)}get count(){const f=this.groups.length;return f?this.groups[f-1].range.end:0}get size(){return this._size}indexAt(f){if(f<0)return-1;let p=0,s=0;for(const t of this.groups){const i=t.range.end-t.range.start,o=s+i*t.size;if(f<o)return p+Math.floor((f-s)/t.size);p+=i,s=o}return p}indexAfter(f){return Math.min(this.indexAt(f)+1,this.count)}positionAt(f){if(f<0)return-1;let p=0,s=0;for(const t of this.groups){const i=t.range.end-t.range.start,o=s+i;if(f<o)return p+(f-s)*t.size;p+=i*t.size,s=o}return-1}}e.RangeMap=m}),define(X[58],ee([1,0]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StopWatch=void 0;const L=globalThis.performance&&typeof globalThis.performance.now=="function";class k{static create(D){return new k(D)}constructor(D){this._now=L&&D===!1?Date.now:globalThis.performance.now.bind(globalThis.performance),this._startTime=this._now(),this._stopTime=-1}stop(){this._stopTime=this._now()}elapsed(){return this._stopTime!==-1?this._stopTime-this._startTime:this._now()-this._startTime}}e.StopWatch=k}),define(X[6],ee([1,0,12,98,2,63,58]),function(q,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Relay=e.EventBufferer=e.EventMultiplexer=e.MicrotaskEmitter=e.DebounceEmitter=e.PauseableEmitter=e.createEventDeliveryQueue=e.Emitter=e.EventProfiling=e.Event=void 0;const m=!1,_=!1;var f;(function(b){b.None=()=>y.Disposable.None;function w(ne){if(_){const{onDidAddListener:he}=ne,de=i.create();let ae=0;ne.onDidAddListener=()=>{++ae===2&&(console.warn("snapshotted emitter LIKELY used public and SHOULD HAVE BEEN created with DisposableStore. snapshotted here"),de.print()),he?.()}}}function E(ne,he){return x(ne,()=>{},0,void 0,!0,void 0,he)}b.defer=E;function I(ne){return(he,de=null,ae)=>{let ce=!1,$;return $=ne(V=>{if(!ce)return $?$.dispose():ce=!0,he.call(de,V)},null,ae),ce&&$.dispose(),$}}b.once=I;function T(ne,he,de){return F((ae,ce=null,$)=>ne(V=>ae.call(ce,he(V)),null,$),de)}b.map=T;function P(ne,he,de){return F((ae,ce=null,$)=>ne(V=>{he(V),ae.call(ce,V)},null,$),de)}b.forEach=P;function A(ne,he,de){return F((ae,ce=null,$)=>ne(V=>he(V)&&ae.call(ce,V),null,$),de)}b.filter=A;function M(ne){return ne}b.signal=M;function N(...ne){return(he,de=null,ae)=>(0,y.combinedDisposable)(...ne.map(ce=>ce($=>he.call(de,$),null,ae)))}b.any=N;function R(ne,he,de,ae){let ce=de;return T(ne,$=>(ce=he(ce,$),ce),ae)}b.reduce=R;function F(ne,he){let de;const ae={onWillAddFirstListener(){de=ne(ce.fire,ce)},onDidRemoveLastListener(){de?.dispose()}};he||w(ae);const ce=new h(ae);return he?.add(ce),ce.event}function x(ne,he,de=100,ae=!1,ce=!1,$,V){let j,se,ie,Y=0,le;const fe={leakWarningThreshold:$,onWillAddFirstListener(){j=ne(we=>{Y++,se=he(se,we),ae&&!ie&&(be.fire(se),se=void 0),le=()=>{const Ee=se;se=void 0,ie=void 0,(!ae||Y>1)&&be.fire(Ee),Y=0},typeof de=="number"?(clearTimeout(ie),ie=setTimeout(le,de)):ie===void 0&&(ie=0,queueMicrotask(le))})},onWillRemoveListener(){ce&&Y>0&&le?.()},onDidRemoveLastListener(){le=void 0,j.dispose()}};V||w(fe);const be=new h(fe);return V?.add(be),be.event}b.debounce=x;function W(ne,he=0,de){return b.debounce(ne,(ae,ce)=>ae?(ae.push(ce),ae):[ce],he,void 0,!0,void 0,de)}b.accumulate=W;function z(ne,he=(ae,ce)=>ae===ce,de){let ae=!0,ce;return A(ne,$=>{const V=ae||!he($,ce);return ae=!1,ce=$,V},de)}b.latch=z;function U(ne,he,de){return[b.filter(ne,he,de),b.filter(ne,ae=>!he(ae),de)]}b.split=U;function O(ne,he=!1,de=[]){let ae=de.slice(),ce=ne(j=>{ae?ae.push(j):V.fire(j)});const $=()=>{ae?.forEach(j=>V.fire(j)),ae=null},V=new h({onWillAddFirstListener(){ce||(ce=ne(j=>V.fire(j)))},onDidAddFirstListener(){ae&&(he?setTimeout($):$())},onDidRemoveLastListener(){ce&&ce.dispose(),ce=null}});return V.event}b.buffer=O;class G{constructor(he){this.event=he,this.disposables=new y.DisposableStore}map(he){return new G(T(this.event,he,this.disposables))}forEach(he){return new G(P(this.event,he,this.disposables))}filter(he){return new G(A(this.event,he,this.disposables))}reduce(he,de){return new G(R(this.event,he,de,this.disposables))}latch(){return new G(z(this.event,void 0,this.disposables))}debounce(he,de=100,ae=!1,ce=!1,$){return new G(x(this.event,he,de,ae,ce,$,this.disposables))}on(he,de,ae){return this.event(he,de,ae)}once(he,de,ae){return I(this.event)(he,de,ae)}dispose(){this.disposables.dispose()}}function Q(ne){return new G(ne)}b.chain=Q;function re(ne,he,de=ae=>ae){const ae=(...j)=>V.fire(de(...j)),ce=()=>ne.on(he,ae),$=()=>ne.removeListener(he,ae),V=new h({onWillAddFirstListener:ce,onDidRemoveLastListener:$});return V.event}b.fromNodeEventEmitter=re;function oe(ne,he,de=ae=>ae){const ae=(...j)=>V.fire(de(...j)),ce=()=>ne.addEventListener(he,ae),$=()=>ne.removeEventListener(he,ae),V=new h({onWillAddFirstListener:ce,onDidRemoveLastListener:$});return V.event}b.fromDOMEventEmitter=oe;function te(ne){return new Promise(he=>I(ne)(he))}b.toPromise=te;function H(ne,he){return he(void 0),ne(de=>he(de))}b.runAndSubscribe=H;function B(ne,he){let de=null;function ae($){de?.dispose(),de=new y.DisposableStore,he($,de)}ae(void 0);const ce=ne($=>ae($));return(0,y.toDisposable)(()=>{ce.dispose(),de?.dispose()})}b.runAndSubscribeWithStore=B;class K{constructor(he,de){this._observable=he,this._counter=0,this._hasChanged=!1;const ae={onWillAddFirstListener:()=>{he.addObserver(this)},onDidRemoveLastListener:()=>{he.removeObserver(this)}};de||w(ae),this.emitter=new h(ae),de&&de.add(this.emitter)}beginUpdate(he){this._counter++}handlePossibleChange(he){}handleChange(he,de){this._hasChanged=!0}endUpdate(he){this._counter--,this._counter===0&&(this._observable.reportChanges(),this._hasChanged&&(this._hasChanged=!1,this.emitter.fire(this._observable.get())))}}function Z(ne,he){return new K(ne,he).emitter.event}b.fromObservable=Z;function J(ne){return he=>{let de=0,ae=!1;const ce={beginUpdate(){de++},endUpdate(){de--,de===0&&(ne.reportChanges(),ae&&(ae=!1,he()))},handlePossibleChange(){},handleChange(){ae=!0}};return ne.addObserver(ce),{dispose(){ne.removeObserver(ce)}}}}b.fromObservableLight=J})(f||(e.Event=f={}));class p{constructor(w){this.listenerCount=0,this.invocationCount=0,this.elapsedOverall=0,this.durations=[],this.name=`${w}_${p._idPool++}`,p.all.add(this)}start(w){this._stopWatch=new S.StopWatch,this.listenerCount=w}stop(){if(this._stopWatch){const w=this._stopWatch.elapsed();this.durations.push(w),this.elapsedOverall+=w,this.invocationCount+=1,this._stopWatch=void 0}}}e.EventProfiling=p,p.all=new Set,p._idPool=0;let s=-1;class t{constructor(w,E=Math.random().toString(18).slice(2,5)){this.threshold=w,this.name=E,this._warnCountdown=0}dispose(){var w;(w=this._stacks)===null||w===void 0||w.clear()}check(w,E){const I=this.threshold;if(I<=0||E<I)return;this._stacks||(this._stacks=new Map);const T=this._stacks.get(w.value)||0;if(this._stacks.set(w.value,T+1),this._warnCountdown-=1,this._warnCountdown<=0){this._warnCountdown=I*.5;let P,A=0;for(const[M,N]of this._stacks)(!P||A<N)&&(P=M,A=N);console.warn(`[${this.name}] potential listener LEAK detected, having ${E} listeners already. MOST frequent listener (${A}):`),console.warn(P)}return()=>{const P=this._stacks.get(w.value)||0;this._stacks.set(w.value,P-1)}}}class i{static create(){var w;return new i((w=new Error().stack)!==null&&w!==void 0?w:"")}constructor(w){this.value=w}print(){console.warn(this.value.split(`
`).slice(2).join(`
`))}}class o{constructor(w){this.value=w}}const r=2,d=(b,w)=>{if(b instanceof o)w(b);else for(let E=0;E<b.length;E++){const I=b[E];I&&w(I)}};class h{constructor(w){var E,I,T,P,A;this._size=0,this._options=w,this._leakageMon=s>0||!((E=this._options)===null||E===void 0)&&E.leakWarningThreshold?new t((T=(I=this._options)===null||I===void 0?void 0:I.leakWarningThreshold)!==null&&T!==void 0?T:s):void 0,this._perfMon=!((P=this._options)===null||P===void 0)&&P._profName?new p(this._options._profName):void 0,this._deliveryQueue=(A=this._options)===null||A===void 0?void 0:A.deliveryQueue}dispose(){var w,E,I,T;if(!this._disposed){if(this._disposed=!0,((w=this._deliveryQueue)===null||w===void 0?void 0:w.current)===this&&this._deliveryQueue.reset(),this._listeners){if(m){const P=this._listeners;queueMicrotask(()=>{d(P,A=>{var M;return(M=A.stack)===null||M===void 0?void 0:M.print()})})}this._listeners=void 0,this._size=0}(I=(E=this._options)===null||E===void 0?void 0:E.onDidRemoveLastListener)===null||I===void 0||I.call(E),(T=this._leakageMon)===null||T===void 0||T.dispose()}}get event(){var w;return(w=this._event)!==null&&w!==void 0||(this._event=(E,I,T)=>{var P,A,M,N,R;if(this._leakageMon&&this._size>this._leakageMon.threshold*3)return console.warn(`[${this._leakageMon.name}] REFUSES to accept new listeners because it exceeded its threshold by far`),y.Disposable.None;if(this._disposed)return y.Disposable.None;I&&(E=E.bind(I));const F=new o(E);let x,W;this._leakageMon&&this._size>=Math.ceil(this._leakageMon.threshold*.2)&&(F.stack=i.create(),x=this._leakageMon.check(F.stack,this._size+1)),m&&(F.stack=W??i.create()),this._listeners?this._listeners instanceof o?((R=this._deliveryQueue)!==null&&R!==void 0||(this._deliveryQueue=new c),this._listeners=[this._listeners,F]):this._listeners.push(F):((A=(P=this._options)===null||P===void 0?void 0:P.onWillAddFirstListener)===null||A===void 0||A.call(P,this),this._listeners=F,(N=(M=this._options)===null||M===void 0?void 0:M.onDidAddFirstListener)===null||N===void 0||N.call(M,this)),this._size++;const z=(0,y.toDisposable)(()=>{x?.(),this._removeListener(F)});return T instanceof y.DisposableStore?T.add(z):Array.isArray(T)&&T.push(z),z}),this._event}_removeListener(w){var E,I,T,P;if((I=(E=this._options)===null||E===void 0?void 0:E.onWillRemoveListener)===null||I===void 0||I.call(E,this),!this._listeners)return;if(this._size===1){this._listeners=void 0,(P=(T=this._options)===null||T===void 0?void 0:T.onDidRemoveLastListener)===null||P===void 0||P.call(T,this),this._size=0;return}const A=this._listeners,M=A.indexOf(w);if(M===-1)throw console.log("disposed?",this._disposed),console.log("size?",this._size),console.log("arr?",JSON.stringify(this._listeners)),new Error("Attempted to dispose unknown listener");this._size--,A[M]=void 0;const N=this._deliveryQueue.current===this;if(this._size*r<=A.length){let R=0;for(let F=0;F<A.length;F++)A[F]?A[R++]=A[F]:N&&(this._deliveryQueue.end--,R<this._deliveryQueue.i&&this._deliveryQueue.i--);A.length=R}}_deliver(w,E){var I;if(!w)return;const T=((I=this._options)===null||I===void 0?void 0:I.onListenerError)||L.onUnexpectedError;if(!T){w.value(E);return}try{w.value(E)}catch(P){T(P)}}_deliverQueue(w){const E=w.current._listeners;for(;w.i<w.end;)this._deliver(E[w.i++],w.value);w.reset()}fire(w){var E,I,T,P;if(!((E=this._deliveryQueue)===null||E===void 0)&&E.current&&(this._deliverQueue(this._deliveryQueue),(I=this._perfMon)===null||I===void 0||I.stop()),(T=this._perfMon)===null||T===void 0||T.start(this._size),this._listeners)if(this._listeners instanceof o)this._deliver(this._listeners,w);else{const A=this._deliveryQueue;A.enqueue(this,w,this._listeners.length),this._deliverQueue(A)}(P=this._perfMon)===null||P===void 0||P.stop()}hasListeners(){return this._size>0}}e.Emitter=h;const n=()=>new c;e.createEventDeliveryQueue=n;class c{constructor(){this.i=-1,this.end=0}enqueue(w,E,I){this.i=0,this.end=I,this.current=w,this.value=E}reset(){this.i=this.end,this.current=void 0,this.value=void 0}}class a extends h{constructor(w){super(w),this._isPaused=0,this._eventQueue=new D.LinkedList,this._mergeFn=w?.merge}pause(){this._isPaused++}resume(){if(this._isPaused!==0&&--this._isPaused===0)if(this._mergeFn){if(this._eventQueue.size>0){const w=Array.from(this._eventQueue);this._eventQueue.clear(),super.fire(this._mergeFn(w))}}else for(;!this._isPaused&&this._eventQueue.size!==0;)super.fire(this._eventQueue.shift())}fire(w){this._size&&(this._isPaused!==0?this._eventQueue.push(w):super.fire(w))}}e.PauseableEmitter=a;class l extends a{constructor(w){var E;super(w),this._delay=(E=w.delay)!==null&&E!==void 0?E:100}fire(w){this._handle||(this.pause(),this._handle=setTimeout(()=>{this._handle=void 0,this.resume()},this._delay)),super.fire(w)}}e.DebounceEmitter=l;class u extends h{constructor(w){super(w),this._queuedEvents=[],this._mergeFn=w?.merge}fire(w){this.hasListeners()&&(this._queuedEvents.push(w),this._queuedEvents.length===1&&queueMicrotask(()=>{this._mergeFn?super.fire(this._mergeFn(this._queuedEvents)):this._queuedEvents.forEach(E=>super.fire(E)),this._queuedEvents=[]}))}}e.MicrotaskEmitter=u;class C{constructor(){this.hasListeners=!1,this.events=[],this.emitter=new h({onWillAddFirstListener:()=>this.onFirstListenerAdd(),onDidRemoveLastListener:()=>this.onLastListenerRemove()})}get event(){return this.emitter.event}add(w){const E={event:w,listener:null};this.events.push(E),this.hasListeners&&this.hook(E);const I=()=>{this.hasListeners&&this.unhook(E);const T=this.events.indexOf(E);this.events.splice(T,1)};return(0,y.toDisposable)((0,k.once)(I))}onFirstListenerAdd(){this.hasListeners=!0,this.events.forEach(w=>this.hook(w))}onLastListenerRemove(){this.hasListeners=!1,this.events.forEach(w=>this.unhook(w))}hook(w){w.listener=w.event(E=>this.emitter.fire(E))}unhook(w){w.listener&&w.listener.dispose(),w.listener=null}dispose(){this.emitter.dispose()}}e.EventMultiplexer=C;class g{constructor(){this.buffers=[]}wrapEvent(w){return(E,I,T)=>w(P=>{const A=this.buffers[this.buffers.length-1];A?A.push(()=>E.call(I,P)):E.call(I,P)},void 0,T)}bufferEvents(w){const E=[];this.buffers.push(E);const I=w();return this.buffers.pop(),E.forEach(T=>T()),I}}e.EventBufferer=g;class v{constructor(){this.listening=!1,this.inputEvent=f.None,this.inputEventListener=y.Disposable.None,this.emitter=new h({onDidAddFirstListener:()=>{this.listening=!0,this.inputEventListener=this.inputEvent(this.emitter.fire,this.emitter)},onDidRemoveLastListener:()=>{this.listening=!1,this.inputEventListener.dispose()}}),this.event=this.emitter.event}set input(w){this.inputEvent=w,this.listening&&(this.inputEventListener.dispose(),this.inputEventListener=w(this.emitter.fire,this.emitter))}dispose(){this.inputEventListener.dispose(),this.emitter.dispose()}}e.Relay=v}),define(X[51],ee([1,0,6,2]),function(q,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isStandalone=e.isAndroid=e.isElectron=e.isWebkitWebView=e.isSafari=e.isChrome=e.isWebKit=e.isFirefox=e.getZoomFactor=e.PixelRatio=e.addMatchMediaChangeListener=void 0;class y{constructor(){this._zoomFactor=1}getZoomFactor(){return this._zoomFactor}}y.INSTANCE=new y;class D extends k.Disposable{constructor(){super(),this._onDidChange=this._register(new L.Emitter),this.onDidChange=this._onDidChange.event,this._listener=()=>this._handleChange(!0),this._mediaQueryList=null,this._handleChange(!1)}_handleChange(o){var r;(r=this._mediaQueryList)===null||r===void 0||r.removeEventListener("change",this._listener),this._mediaQueryList=window.matchMedia(`(resolution: ${window.devicePixelRatio}dppx)`),this._mediaQueryList.addEventListener("change",this._listener),o&&this._onDidChange.fire()}}class S extends k.Disposable{get value(){return this._value}constructor(){super(),this._onDidChange=this._register(new L.Emitter),this.onDidChange=this._onDidChange.event,this._value=this._getPixelRatio();const o=this._register(new D);this._register(o.onDidChange(()=>{this._value=this._getPixelRatio(),this._onDidChange.fire(this._value)}))}_getPixelRatio(){const o=document.createElement("canvas").getContext("2d"),r=window.devicePixelRatio||1,d=o.webkitBackingStorePixelRatio||o.mozBackingStorePixelRatio||o.msBackingStorePixelRatio||o.oBackingStorePixelRatio||o.backingStorePixelRatio||1;return r/d}}class m{constructor(){this._pixelRatioMonitor=null}_getOrCreatePixelRatioMonitor(){return this._pixelRatioMonitor||(this._pixelRatioMonitor=(0,k.markAsSingleton)(new S)),this._pixelRatioMonitor}get value(){return this._getOrCreatePixelRatioMonitor().value}get onDidChange(){return this._getOrCreatePixelRatioMonitor().onDidChange}}function _(i,o){typeof i=="string"&&(i=window.matchMedia(i)),i.addEventListener("change",o)}e.addMatchMediaChangeListener=_,e.PixelRatio=new m;function f(){return y.INSTANCE.getZoomFactor()}e.getZoomFactor=f;const p=navigator.userAgent;e.isFirefox=p.indexOf("Firefox")>=0,e.isWebKit=p.indexOf("AppleWebKit")>=0,e.isChrome=p.indexOf("Chrome")>=0,e.isSafari=!e.isChrome&&p.indexOf("Safari")>=0,e.isWebkitWebView=!e.isChrome&&!e.isSafari&&e.isWebKit,e.isElectron=p.indexOf("Electron/")>=0,e.isAndroid=p.indexOf("Android")>=0;let s=!1;if(window.matchMedia){const i=window.matchMedia("(display-mode: standalone) or (display-mode: window-controls-overlay)"),o=window.matchMedia("(display-mode: fullscreen)");s=i.matches,_(i,({matches:r})=>{s&&o.matches||(s=r)})}function t(){return s}e.isStandalone=t}),define(X[80],ee([1,0,6]),function(q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DomEmitter=void 0;class k{get event(){return this.emitter.event}constructor(D,S,m){const _=f=>this.emitter.fire(f);this.emitter=new L.Emitter({onWillAddFirstListener:()=>D.addEventListener(S,_,m),onDidRemoveLastListener:()=>D.removeEventListener(S,_,m)})}dispose(){this.emitter.dispose()}}e.DomEmitter=k}),define(X[20],ee([1,0,6]),function(q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CancellationTokenSource=e.CancellationToken=void 0;const k=Object.freeze(function(m,_){const f=setTimeout(m.bind(_),0);return{dispose(){clearTimeout(f)}}});var y;(function(m){function _(f){return f===m.None||f===m.Cancelled||f instanceof D?!0:!f||typeof f!="object"?!1:typeof f.isCancellationRequested=="boolean"&&typeof f.onCancellationRequested=="function"}m.isCancellationToken=_,m.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:L.Event.None}),m.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:k})})(y||(e.CancellationToken=y={}));class D{constructor(){this._isCancelled=!1,this._emitter=null}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?k:(this._emitter||(this._emitter=new L.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=null)}}class S{constructor(_){this._token=void 0,this._parentListener=void 0,this._parentListener=_&&_.onCancellationRequested(this.cancel,this)}get token(){return this._token||(this._token=new D),this._token}cancel(){this._token?this._token instanceof D&&this._token.cancel():this._token=y.Cancelled}dispose(_=!1){var f;_&&this.cancel(),(f=this._parentListener)===null||f===void 0||f.dispose(),this._token?this._token instanceof D&&this._token.dispose():this._token=y.None}}e.CancellationTokenSource=S}),define(X[261],ee([1,0,6]),function(q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IME=e.IMEImpl=void 0;class k{constructor(){this._onDidChange=new L.Emitter,this.onDidChange=this._onDidChange.event,this._enabled=!0}get enabled(){return this._enabled}enable(){this._enabled=!0,this._onDidChange.fire()}disable(){this._enabled=!1,this._onDidChange.fire()}}e.IMEImpl=k,e.IME=new k}),define(X[169],ee([1,0,6,2]),function(q,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SmoothScrollingOperation=e.SmoothScrollingUpdate=e.Scrollable=e.ScrollState=void 0;class y{constructor(i,o,r,d,h,n,c){this._forceIntegerValues=i,this._scrollStateBrand=void 0,this._forceIntegerValues&&(o=o|0,r=r|0,d=d|0,h=h|0,n=n|0,c=c|0),this.rawScrollLeft=d,this.rawScrollTop=c,o<0&&(o=0),d+o>r&&(d=r-o),d<0&&(d=0),h<0&&(h=0),c+h>n&&(c=n-h),c<0&&(c=0),this.width=o,this.scrollWidth=r,this.scrollLeft=d,this.height=h,this.scrollHeight=n,this.scrollTop=c}equals(i){return this.rawScrollLeft===i.rawScrollLeft&&this.rawScrollTop===i.rawScrollTop&&this.width===i.width&&this.scrollWidth===i.scrollWidth&&this.scrollLeft===i.scrollLeft&&this.height===i.height&&this.scrollHeight===i.scrollHeight&&this.scrollTop===i.scrollTop}withScrollDimensions(i,o){return new y(this._forceIntegerValues,typeof i.width<"u"?i.width:this.width,typeof i.scrollWidth<"u"?i.scrollWidth:this.scrollWidth,o?this.rawScrollLeft:this.scrollLeft,typeof i.height<"u"?i.height:this.height,typeof i.scrollHeight<"u"?i.scrollHeight:this.scrollHeight,o?this.rawScrollTop:this.scrollTop)}withScrollPosition(i){return new y(this._forceIntegerValues,this.width,this.scrollWidth,typeof i.scrollLeft<"u"?i.scrollLeft:this.rawScrollLeft,this.height,this.scrollHeight,typeof i.scrollTop<"u"?i.scrollTop:this.rawScrollTop)}createScrollEvent(i,o){const r=this.width!==i.width,d=this.scrollWidth!==i.scrollWidth,h=this.scrollLeft!==i.scrollLeft,n=this.height!==i.height,c=this.scrollHeight!==i.scrollHeight,a=this.scrollTop!==i.scrollTop;return{inSmoothScrolling:o,oldWidth:i.width,oldScrollWidth:i.scrollWidth,oldScrollLeft:i.scrollLeft,width:this.width,scrollWidth:this.scrollWidth,scrollLeft:this.scrollLeft,oldHeight:i.height,oldScrollHeight:i.scrollHeight,oldScrollTop:i.scrollTop,height:this.height,scrollHeight:this.scrollHeight,scrollTop:this.scrollTop,widthChanged:r,scrollWidthChanged:d,scrollLeftChanged:h,heightChanged:n,scrollHeightChanged:c,scrollTopChanged:a}}}e.ScrollState=y;class D extends k.Disposable{constructor(i){super(),this._scrollableBrand=void 0,this._onScroll=this._register(new L.Emitter),this.onScroll=this._onScroll.event,this._smoothScrollDuration=i.smoothScrollDuration,this._scheduleAtNextAnimationFrame=i.scheduleAtNextAnimationFrame,this._state=new y(i.forceIntegerValues,0,0,0,0,0,0),this._smoothScrolling=null}dispose(){this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),super.dispose()}setSmoothScrollDuration(i){this._smoothScrollDuration=i}validateScrollPosition(i){return this._state.withScrollPosition(i)}getScrollDimensions(){return this._state}setScrollDimensions(i,o){var r;const d=this._state.withScrollDimensions(i,o);this._setState(d,!!this._smoothScrolling),(r=this._smoothScrolling)===null||r===void 0||r.acceptScrollDimensions(this._state)}getFutureScrollPosition(){return this._smoothScrolling?this._smoothScrolling.to:this._state}getCurrentScrollPosition(){return this._state}setScrollPositionNow(i){const o=this._state.withScrollPosition(i);this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),this._setState(o,!1)}setScrollPositionSmooth(i,o){if(this._smoothScrollDuration===0)return this.setScrollPositionNow(i);if(this._smoothScrolling){i={scrollLeft:typeof i.scrollLeft>"u"?this._smoothScrolling.to.scrollLeft:i.scrollLeft,scrollTop:typeof i.scrollTop>"u"?this._smoothScrolling.to.scrollTop:i.scrollTop};const r=this._state.withScrollPosition(i);if(this._smoothScrolling.to.scrollLeft===r.scrollLeft&&this._smoothScrolling.to.scrollTop===r.scrollTop)return;let d;o?d=new f(this._smoothScrolling.from,r,this._smoothScrolling.startTime,this._smoothScrolling.duration):d=this._smoothScrolling.combine(this._state,r,this._smoothScrollDuration),this._smoothScrolling.dispose(),this._smoothScrolling=d}else{const r=this._state.withScrollPosition(i);this._smoothScrolling=f.start(this._state,r,this._smoothScrollDuration)}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{this._smoothScrolling&&(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})}hasPendingScrollAnimation(){return!!this._smoothScrolling}_performSmoothScrolling(){if(!this._smoothScrolling)return;const i=this._smoothScrolling.tick(),o=this._state.withScrollPosition(i);if(this._setState(o,!0),!!this._smoothScrolling){if(i.isDone){this._smoothScrolling.dispose(),this._smoothScrolling=null;return}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{this._smoothScrolling&&(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})}}_setState(i,o){const r=this._state;r.equals(i)||(this._state=i,this._onScroll.fire(this._state.createScrollEvent(r,o)))}}e.Scrollable=D;class S{constructor(i,o,r){this.scrollLeft=i,this.scrollTop=o,this.isDone=r}}e.SmoothScrollingUpdate=S;function m(t,i){const o=i-t;return function(r){return t+o*s(r)}}function _(t,i,o){return function(r){return r<o?t(r/o):i((r-o)/(1-o))}}class f{constructor(i,o,r,d){this.from=i,this.to=o,this.duration=d,this.startTime=r,this.animationFrameDisposable=null,this._initAnimations()}_initAnimations(){this.scrollLeft=this._initAnimation(this.from.scrollLeft,this.to.scrollLeft,this.to.width),this.scrollTop=this._initAnimation(this.from.scrollTop,this.to.scrollTop,this.to.height)}_initAnimation(i,o,r){if(Math.abs(i-o)>2.5*r){let h,n;return i<o?(h=i+.75*r,n=o-.75*r):(h=i-.75*r,n=o+.75*r),_(m(i,h),m(n,o),.33)}return m(i,o)}dispose(){this.animationFrameDisposable!==null&&(this.animationFrameDisposable.dispose(),this.animationFrameDisposable=null)}acceptScrollDimensions(i){this.to=i.withScrollPosition(this.to),this._initAnimations()}tick(){return this._tick(Date.now())}_tick(i){const o=(i-this.startTime)/this.duration;if(o<1){const r=this.scrollLeft(o),d=this.scrollTop(o);return new S(r,d,!1)}return new S(this.to.scrollLeft,this.to.scrollTop,!0)}combine(i,o,r){return f.start(i,o,r)}static start(i,o,r){r=r+10;const d=Date.now()-10;return new f(i,o,d,r)}}e.SmoothScrollingOperation=f;function p(t){return Math.pow(t,3)}function s(t){return 1-p(1-t)}}),define(X[9],ee([1,0,260,99]),function(q,e,L,k){"use strict";var y;Object.defineProperty(e,"__esModule",{value:!0}),e.InvisibleCharacters=e.AmbiguousCharacters=e.noBreakWhitespace=e.getLeftDeleteOffset=e.singleLetterHash=e.containsUppercaseCharacter=e.startsWithUTF8BOM=e.UTF8_BOM_CHARACTER=e.isEmojiImprecise=e.isFullWidthCharacter=e.containsUnusualLineTerminators=e.UNUSUAL_LINE_TERMINATORS=e.isBasicASCII=e.containsRTL=e.getCharContainingOffset=e.prevCharLength=e.nextCharLength=e.GraphemeIterator=e.CodePointIterator=e.getNextCodePoint=e.computeCodePoint=e.isLowSurrogate=e.isHighSurrogate=e.commonSuffixLength=e.commonPrefixLength=e.startsWithIgnoreCase=e.equalsIgnoreCase=e.isUpperAsciiLetter=e.isLowerAsciiLetter=e.isAsciiDigit=e.compareSubstringIgnoreCase=e.compareIgnoreCase=e.compareSubstring=e.compare=e.lastNonWhitespaceIndex=e.getLeadingWhitespace=e.firstNonWhitespaceIndex=e.splitLines=e.regExpFlags=e.regExpLeadsToEndlessLoop=e.createRegExp=e.stripWildcards=e.convertSimple2RegExpPattern=e.rtrim=e.ltrim=e.trim=e.escapeRegExpCharacters=e.escape=e.format=e.isFalsyOrWhitespace=void 0;function D(Y){return!Y||typeof Y!="string"?!0:Y.trim().length===0}e.isFalsyOrWhitespace=D;const S=/{(\d+)}/g;function m(Y,...le){return le.length===0?Y:Y.replace(S,function(fe,be){const we=parseInt(be,10);return isNaN(we)||we<0||we>=le.length?fe:le[we]})}e.format=m;function _(Y){return Y.replace(/[<>&]/g,function(le){switch(le){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";default:return le}})}e.escape=_;function f(Y){return Y.replace(/[\\\{\}\*\+\?\|\^\$\.\[\]\(\)]/g,"\\$&")}e.escapeRegExpCharacters=f;function p(Y,le=" "){const fe=s(Y,le);return t(fe,le)}e.trim=p;function s(Y,le){if(!Y||!le)return Y;const fe=le.length;if(fe===0||Y.length===0)return Y;let be=0;for(;Y.indexOf(le,be)===be;)be=be+fe;return Y.substring(be)}e.ltrim=s;function t(Y,le){if(!Y||!le)return Y;const fe=le.length,be=Y.length;if(fe===0||be===0)return Y;let we=be,Ee=-1;for(;Ee=Y.lastIndexOf(le,we-1),!(Ee===-1||Ee+fe!==we);){if(Ee===0)return"";we=Ee}return Y.substring(0,we)}e.rtrim=t;function i(Y){return Y.replace(/[\-\\\{\}\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&").replace(/[\*]/g,".*")}e.convertSimple2RegExpPattern=i;function o(Y){return Y.replace(/\*/g,"")}e.stripWildcards=o;function r(Y,le,fe={}){if(!Y)throw new Error("Cannot create regex from empty string");le||(Y=f(Y)),fe.wholeWord&&(/\B/.test(Y.charAt(0))||(Y="\\b"+Y),/\B/.test(Y.charAt(Y.length-1))||(Y=Y+"\\b"));let be="";return fe.global&&(be+="g"),fe.matchCase||(be+="i"),fe.multiline&&(be+="m"),fe.unicode&&(be+="u"),new RegExp(Y,be)}e.createRegExp=r;function d(Y){return Y.source==="^"||Y.source==="^$"||Y.source==="$"||Y.source==="^\\s*$"?!1:!!(Y.exec("")&&Y.lastIndex===0)}e.regExpLeadsToEndlessLoop=d;function h(Y){return(Y.global?"g":"")+(Y.ignoreCase?"i":"")+(Y.multiline?"m":"")+(Y.unicode?"u":"")}e.regExpFlags=h;function n(Y){return Y.split(/\r\n|\r|\n/)}e.splitLines=n;function c(Y){for(let le=0,fe=Y.length;le<fe;le++){const be=Y.charCodeAt(le);if(be!==32&&be!==9)return le}return-1}e.firstNonWhitespaceIndex=c;function a(Y,le=0,fe=Y.length){for(let be=le;be<fe;be++){const we=Y.charCodeAt(be);if(we!==32&&we!==9)return Y.substring(le,be)}return Y.substring(le,fe)}e.getLeadingWhitespace=a;function l(Y,le=Y.length-1){for(let fe=le;fe>=0;fe--){const be=Y.charCodeAt(fe);if(be!==32&&be!==9)return fe}return-1}e.lastNonWhitespaceIndex=l;function u(Y,le){return Y<le?-1:Y>le?1:0}e.compare=u;function C(Y,le,fe=0,be=Y.length,we=0,Ee=le.length){for(;fe<be&&we<Ee;fe++,we++){const ke=Y.charCodeAt(fe),Ae=le.charCodeAt(we);if(ke<Ae)return-1;if(ke>Ae)return 1}const Ie=be-fe,ye=Ee-we;return Ie<ye?-1:Ie>ye?1:0}e.compareSubstring=C;function g(Y,le){return v(Y,le,0,Y.length,0,le.length)}e.compareIgnoreCase=g;function v(Y,le,fe=0,be=Y.length,we=0,Ee=le.length){for(;fe<be&&we<Ee;fe++,we++){let ke=Y.charCodeAt(fe),Ae=le.charCodeAt(we);if(ke===Ae)continue;if(ke>=128||Ae>=128)return C(Y.toLowerCase(),le.toLowerCase(),fe,be,we,Ee);w(ke)&&(ke-=32),w(Ae)&&(Ae-=32);const Te=ke-Ae;if(Te!==0)return Te}const Ie=be-fe,ye=Ee-we;return Ie<ye?-1:Ie>ye?1:0}e.compareSubstringIgnoreCase=v;function b(Y){return Y>=48&&Y<=57}e.isAsciiDigit=b;function w(Y){return Y>=97&&Y<=122}e.isLowerAsciiLetter=w;function E(Y){return Y>=65&&Y<=90}e.isUpperAsciiLetter=E;function I(Y,le){return Y.length===le.length&&v(Y,le)===0}e.equalsIgnoreCase=I;function T(Y,le){const fe=le.length;return le.length>Y.length?!1:v(Y,le,0,fe)===0}e.startsWithIgnoreCase=T;function P(Y,le){const fe=Math.min(Y.length,le.length);let be;for(be=0;be<fe;be++)if(Y.charCodeAt(be)!==le.charCodeAt(be))return be;return fe}e.commonPrefixLength=P;function A(Y,le){const fe=Math.min(Y.length,le.length);let be;const we=Y.length-1,Ee=le.length-1;for(be=0;be<fe;be++)if(Y.charCodeAt(we-be)!==le.charCodeAt(Ee-be))return be;return fe}e.commonSuffixLength=A;function M(Y){return 55296<=Y&&Y<=56319}e.isHighSurrogate=M;function N(Y){return 56320<=Y&&Y<=57343}e.isLowSurrogate=N;function R(Y,le){return(Y-55296<<10)+(le-56320)+65536}e.computeCodePoint=R;function F(Y,le,fe){const be=Y.charCodeAt(fe);if(M(be)&&fe+1<le){const we=Y.charCodeAt(fe+1);if(N(we))return R(be,we)}return be}e.getNextCodePoint=F;function x(Y,le){const fe=Y.charCodeAt(le-1);if(N(fe)&&le>1){const be=Y.charCodeAt(le-2);if(M(be))return R(be,fe)}return fe}class W{get offset(){return this._offset}constructor(le,fe=0){this._str=le,this._len=le.length,this._offset=fe}setOffset(le){this._offset=le}prevCodePoint(){const le=x(this._str,this._offset);return this._offset-=le>=65536?2:1,le}nextCodePoint(){const le=F(this._str,this._len,this._offset);return this._offset+=le>=65536?2:1,le}eol(){return this._offset>=this._len}}e.CodePointIterator=W;class z{get offset(){return this._iterator.offset}constructor(le,fe=0){this._iterator=new W(le,fe)}nextGraphemeLength(){const le=ae.getInstance(),fe=this._iterator,be=fe.offset;let we=le.getGraphemeBreakType(fe.nextCodePoint());for(;!fe.eol();){const Ee=fe.offset,Ie=le.getGraphemeBreakType(fe.nextCodePoint());if(de(we,Ie)){fe.setOffset(Ee);break}we=Ie}return fe.offset-be}prevGraphemeLength(){const le=ae.getInstance(),fe=this._iterator,be=fe.offset;let we=le.getGraphemeBreakType(fe.prevCodePoint());for(;fe.offset>0;){const Ee=fe.offset,Ie=le.getGraphemeBreakType(fe.prevCodePoint());if(de(Ie,we)){fe.setOffset(Ee);break}we=Ie}return be-fe.offset}eol(){return this._iterator.eol()}}e.GraphemeIterator=z;function U(Y,le){return new z(Y,le).nextGraphemeLength()}e.nextCharLength=U;function O(Y,le){return new z(Y,le).prevGraphemeLength()}e.prevCharLength=O;function G(Y,le){le>0&&N(Y.charCodeAt(le))&&le--;const fe=le+U(Y,le);return[fe-O(Y,fe),fe]}e.getCharContainingOffset=G;let Q;function re(){return/(?:[\u05BE\u05C0\u05C3\u05C6\u05D0-\u05F4\u0608\u060B\u060D\u061B-\u064A\u066D-\u066F\u0671-\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u0710\u0712-\u072F\u074D-\u07A5\u07B1-\u07EA\u07F4\u07F5\u07FA\u07FE-\u0815\u081A\u0824\u0828\u0830-\u0858\u085E-\u088E\u08A0-\u08C9\u200F\uFB1D\uFB1F-\uFB28\uFB2A-\uFD3D\uFD50-\uFDC7\uFDF0-\uFDFC\uFE70-\uFEFC]|\uD802[\uDC00-\uDD1B\uDD20-\uDE00\uDE10-\uDE35\uDE40-\uDEE4\uDEEB-\uDF35\uDF40-\uDFFF]|\uD803[\uDC00-\uDD23\uDE80-\uDEA9\uDEAD-\uDF45\uDF51-\uDF81\uDF86-\uDFF6]|\uD83A[\uDC00-\uDCCF\uDD00-\uDD43\uDD4B-\uDFFF]|\uD83B[\uDC00-\uDEBB])/}function oe(Y){return Q||(Q=re()),Q.test(Y)}e.containsRTL=oe;const te=/^[\t\n\r\x20-\x7E]*$/;function H(Y){return te.test(Y)}e.isBasicASCII=H,e.UNUSUAL_LINE_TERMINATORS=/[\u2028\u2029]/;function B(Y){return e.UNUSUAL_LINE_TERMINATORS.test(Y)}e.containsUnusualLineTerminators=B;function K(Y){return Y>=11904&&Y<=55215||Y>=63744&&Y<=64255||Y>=65281&&Y<=65374}e.isFullWidthCharacter=K;function Z(Y){return Y>=127462&&Y<=127487||Y===8986||Y===8987||Y===9200||Y===9203||Y>=9728&&Y<=10175||Y===11088||Y===11093||Y>=127744&&Y<=128591||Y>=128640&&Y<=128764||Y>=128992&&Y<=129008||Y>=129280&&Y<=129535||Y>=129648&&Y<=129782}e.isEmojiImprecise=Z,e.UTF8_BOM_CHARACTER=String.fromCharCode(65279);function J(Y){return!!(Y&&Y.length>0&&Y.charCodeAt(0)===65279)}e.startsWithUTF8BOM=J;function ne(Y,le=!1){return Y?(le&&(Y=Y.replace(/\\./g,"")),Y.toLowerCase()!==Y):!1}e.containsUppercaseCharacter=ne;function he(Y){return Y=Y%(2*26),Y<26?String.fromCharCode(97+Y):String.fromCharCode(65+Y-26)}e.singleLetterHash=he;function de(Y,le){return Y===0?le!==5&&le!==7:Y===2&&le===3?!1:Y===4||Y===2||Y===3||le===4||le===2||le===3?!0:!(Y===8&&(le===8||le===9||le===11||le===12)||(Y===11||Y===9)&&(le===9||le===10)||(Y===12||Y===10)&&le===10||le===5||le===13||le===7||Y===1||Y===13&&le===14||Y===6&&le===6)}class ae{static getInstance(){return ae._INSTANCE||(ae._INSTANCE=new ae),ae._INSTANCE}constructor(){this._data=ce()}getGraphemeBreakType(le){if(le<32)return le===10?3:le===13?2:4;if(le<127)return 0;const fe=this._data,be=fe.length/3;let we=1;for(;we<=be;)if(le<fe[3*we])we=2*we;else if(le>fe[3*we+1])we=2*we+1;else return fe[3*we+2];return 0}}ae._INSTANCE=null;function ce(){return JSON.parse("[0,0,0,51229,51255,12,44061,44087,12,127462,127487,6,7083,7085,5,47645,47671,12,54813,54839,12,128678,128678,14,3270,3270,5,9919,9923,14,45853,45879,12,49437,49463,12,53021,53047,12,71216,71218,7,128398,128399,14,129360,129374,14,2519,2519,5,4448,4519,9,9742,9742,14,12336,12336,14,44957,44983,12,46749,46775,12,48541,48567,12,50333,50359,12,52125,52151,12,53917,53943,12,69888,69890,5,73018,73018,5,127990,127990,14,128558,128559,14,128759,128760,14,129653,129655,14,2027,2035,5,2891,2892,7,3761,3761,5,6683,6683,5,8293,8293,4,9825,9826,14,9999,9999,14,43452,43453,5,44509,44535,12,45405,45431,12,46301,46327,12,47197,47223,12,48093,48119,12,48989,49015,12,49885,49911,12,50781,50807,12,51677,51703,12,52573,52599,12,53469,53495,12,54365,54391,12,65279,65279,4,70471,70472,7,72145,72147,7,119173,119179,5,127799,127818,14,128240,128244,14,128512,128512,14,128652,128652,14,128721,128722,14,129292,129292,14,129445,129450,14,129734,129743,14,1476,1477,5,2366,2368,7,2750,2752,7,3076,3076,5,3415,3415,5,4141,4144,5,6109,6109,5,6964,6964,5,7394,7400,5,9197,9198,14,9770,9770,14,9877,9877,14,9968,9969,14,10084,10084,14,43052,43052,5,43713,43713,5,44285,44311,12,44733,44759,12,45181,45207,12,45629,45655,12,46077,46103,12,46525,46551,12,46973,46999,12,47421,47447,12,47869,47895,12,48317,48343,12,48765,48791,12,49213,49239,12,49661,49687,12,50109,50135,12,50557,50583,12,51005,51031,12,51453,51479,12,51901,51927,12,52349,52375,12,52797,52823,12,53245,53271,12,53693,53719,12,54141,54167,12,54589,54615,12,55037,55063,12,69506,69509,5,70191,70193,5,70841,70841,7,71463,71467,5,72330,72342,5,94031,94031,5,123628,123631,5,127763,127765,14,127941,127941,14,128043,128062,14,128302,128317,14,128465,128467,14,128539,128539,14,128640,128640,14,128662,128662,14,128703,128703,14,128745,128745,14,129004,129007,14,129329,129330,14,129402,129402,14,129483,129483,14,129686,129704,14,130048,131069,14,173,173,4,1757,1757,1,2200,2207,5,2434,2435,7,2631,2632,5,2817,2817,5,3008,3008,5,3201,3201,5,3387,3388,5,3542,3542,5,3902,3903,7,4190,4192,5,6002,6003,5,6439,6440,5,6765,6770,7,7019,7027,5,7154,7155,7,8205,8205,13,8505,8505,14,9654,9654,14,9757,9757,14,9792,9792,14,9852,9853,14,9890,9894,14,9937,9937,14,9981,9981,14,10035,10036,14,11035,11036,14,42654,42655,5,43346,43347,7,43587,43587,5,44006,44007,7,44173,44199,12,44397,44423,12,44621,44647,12,44845,44871,12,45069,45095,12,45293,45319,12,45517,45543,12,45741,45767,12,45965,45991,12,46189,46215,12,46413,46439,12,46637,46663,12,46861,46887,12,47085,47111,12,47309,47335,12,47533,47559,12,47757,47783,12,47981,48007,12,48205,48231,12,48429,48455,12,48653,48679,12,48877,48903,12,49101,49127,12,49325,49351,12,49549,49575,12,49773,49799,12,49997,50023,12,50221,50247,12,50445,50471,12,50669,50695,12,50893,50919,12,51117,51143,12,51341,51367,12,51565,51591,12,51789,51815,12,52013,52039,12,52237,52263,12,52461,52487,12,52685,52711,12,52909,52935,12,53133,53159,12,53357,53383,12,53581,53607,12,53805,53831,12,54029,54055,12,54253,54279,12,54477,54503,12,54701,54727,12,54925,54951,12,55149,55175,12,68101,68102,5,69762,69762,7,70067,70069,7,70371,70378,5,70720,70721,7,71087,71087,5,71341,71341,5,71995,71996,5,72249,72249,7,72850,72871,5,73109,73109,5,118576,118598,5,121505,121519,5,127245,127247,14,127568,127569,14,127777,127777,14,127872,127891,14,127956,127967,14,128015,128016,14,128110,128172,14,128259,128259,14,128367,128368,14,128424,128424,14,128488,128488,14,128530,128532,14,128550,128551,14,128566,128566,14,128647,128647,14,128656,128656,14,128667,128673,14,128691,128693,14,128715,128715,14,128728,128732,14,128752,128752,14,128765,128767,14,129096,129103,14,129311,129311,14,129344,129349,14,129394,129394,14,129413,129425,14,129466,129471,14,129511,129535,14,129664,129666,14,129719,129722,14,129760,129767,14,917536,917631,5,13,13,2,1160,1161,5,1564,1564,4,1807,1807,1,2085,2087,5,2307,2307,7,2382,2383,7,2497,2500,5,2563,2563,7,2677,2677,5,2763,2764,7,2879,2879,5,2914,2915,5,3021,3021,5,3142,3144,5,3263,3263,5,3285,3286,5,3398,3400,7,3530,3530,5,3633,3633,5,3864,3865,5,3974,3975,5,4155,4156,7,4229,4230,5,5909,5909,7,6078,6085,7,6277,6278,5,6451,6456,7,6744,6750,5,6846,6846,5,6972,6972,5,7074,7077,5,7146,7148,7,7222,7223,5,7416,7417,5,8234,8238,4,8417,8417,5,9000,9000,14,9203,9203,14,9730,9731,14,9748,9749,14,9762,9763,14,9776,9783,14,9800,9811,14,9831,9831,14,9872,9873,14,9882,9882,14,9900,9903,14,9929,9933,14,9941,9960,14,9974,9974,14,9989,9989,14,10006,10006,14,10062,10062,14,10160,10160,14,11647,11647,5,12953,12953,14,43019,43019,5,43232,43249,5,43443,43443,5,43567,43568,7,43696,43696,5,43765,43765,7,44013,44013,5,44117,44143,12,44229,44255,12,44341,44367,12,44453,44479,12,44565,44591,12,44677,44703,12,44789,44815,12,44901,44927,12,45013,45039,12,45125,45151,12,45237,45263,12,45349,45375,12,45461,45487,12,45573,45599,12,45685,45711,12,45797,45823,12,45909,45935,12,46021,46047,12,46133,46159,12,46245,46271,12,46357,46383,12,46469,46495,12,46581,46607,12,46693,46719,12,46805,46831,12,46917,46943,12,47029,47055,12,47141,47167,12,47253,47279,12,47365,47391,12,47477,47503,12,47589,47615,12,47701,47727,12,47813,47839,12,47925,47951,12,48037,48063,12,48149,48175,12,48261,48287,12,48373,48399,12,48485,48511,12,48597,48623,12,48709,48735,12,48821,48847,12,48933,48959,12,49045,49071,12,49157,49183,12,49269,49295,12,49381,49407,12,49493,49519,12,49605,49631,12,49717,49743,12,49829,49855,12,49941,49967,12,50053,50079,12,50165,50191,12,50277,50303,12,50389,50415,12,50501,50527,12,50613,50639,12,50725,50751,12,50837,50863,12,50949,50975,12,51061,51087,12,51173,51199,12,51285,51311,12,51397,51423,12,51509,51535,12,51621,51647,12,51733,51759,12,51845,51871,12,51957,51983,12,52069,52095,12,52181,52207,12,52293,52319,12,52405,52431,12,52517,52543,12,52629,52655,12,52741,52767,12,52853,52879,12,52965,52991,12,53077,53103,12,53189,53215,12,53301,53327,12,53413,53439,12,53525,53551,12,53637,53663,12,53749,53775,12,53861,53887,12,53973,53999,12,54085,54111,12,54197,54223,12,54309,54335,12,54421,54447,12,54533,54559,12,54645,54671,12,54757,54783,12,54869,54895,12,54981,55007,12,55093,55119,12,55243,55291,10,66045,66045,5,68325,68326,5,69688,69702,5,69817,69818,5,69957,69958,7,70089,70092,5,70198,70199,5,70462,70462,5,70502,70508,5,70750,70750,5,70846,70846,7,71100,71101,5,71230,71230,7,71351,71351,5,71737,71738,5,72000,72000,7,72160,72160,5,72273,72278,5,72752,72758,5,72882,72883,5,73031,73031,5,73461,73462,7,94192,94193,7,119149,119149,7,121403,121452,5,122915,122916,5,126980,126980,14,127358,127359,14,127535,127535,14,127759,127759,14,127771,127771,14,127792,127793,14,127825,127867,14,127897,127899,14,127945,127945,14,127985,127986,14,128000,128007,14,128021,128021,14,128066,128100,14,128184,128235,14,128249,128252,14,128266,128276,14,128335,128335,14,128379,128390,14,128407,128419,14,128444,128444,14,128481,128481,14,128499,128499,14,128526,128526,14,128536,128536,14,128543,128543,14,128556,128556,14,128564,128564,14,128577,128580,14,128643,128645,14,128649,128649,14,128654,128654,14,128660,128660,14,128664,128664,14,128675,128675,14,128686,128689,14,128695,128696,14,128705,128709,14,128717,128719,14,128725,128725,14,128736,128741,14,128747,128748,14,128755,128755,14,128762,128762,14,128981,128991,14,129009,129023,14,129160,129167,14,129296,129304,14,129320,129327,14,129340,129342,14,129356,129356,14,129388,129392,14,129399,129400,14,129404,129407,14,129432,129442,14,129454,129455,14,129473,129474,14,129485,129487,14,129648,129651,14,129659,129660,14,129671,129679,14,129709,129711,14,129728,129730,14,129751,129753,14,129776,129782,14,917505,917505,4,917760,917999,5,10,10,3,127,159,4,768,879,5,1471,1471,5,1536,1541,1,1648,1648,5,1767,1768,5,1840,1866,5,2070,2073,5,2137,2139,5,2274,2274,1,2363,2363,7,2377,2380,7,2402,2403,5,2494,2494,5,2507,2508,7,2558,2558,5,2622,2624,7,2641,2641,5,2691,2691,7,2759,2760,5,2786,2787,5,2876,2876,5,2881,2884,5,2901,2902,5,3006,3006,5,3014,3016,7,3072,3072,5,3134,3136,5,3157,3158,5,3260,3260,5,3266,3266,5,3274,3275,7,3328,3329,5,3391,3392,7,3405,3405,5,3457,3457,5,3536,3537,7,3551,3551,5,3636,3642,5,3764,3772,5,3895,3895,5,3967,3967,7,3993,4028,5,4146,4151,5,4182,4183,7,4226,4226,5,4253,4253,5,4957,4959,5,5940,5940,7,6070,6070,7,6087,6088,7,6158,6158,4,6432,6434,5,6448,6449,7,6679,6680,5,6742,6742,5,6754,6754,5,6783,6783,5,6912,6915,5,6966,6970,5,6978,6978,5,7042,7042,7,7080,7081,5,7143,7143,7,7150,7150,7,7212,7219,5,7380,7392,5,7412,7412,5,8203,8203,4,8232,8232,4,8265,8265,14,8400,8412,5,8421,8432,5,8617,8618,14,9167,9167,14,9200,9200,14,9410,9410,14,9723,9726,14,9733,9733,14,9745,9745,14,9752,9752,14,9760,9760,14,9766,9766,14,9774,9774,14,9786,9786,14,9794,9794,14,9823,9823,14,9828,9828,14,9833,9850,14,9855,9855,14,9875,9875,14,9880,9880,14,9885,9887,14,9896,9897,14,9906,9916,14,9926,9927,14,9935,9935,14,9939,9939,14,9962,9962,14,9972,9972,14,9978,9978,14,9986,9986,14,9997,9997,14,10002,10002,14,10017,10017,14,10055,10055,14,10071,10071,14,10133,10135,14,10548,10549,14,11093,11093,14,12330,12333,5,12441,12442,5,42608,42610,5,43010,43010,5,43045,43046,5,43188,43203,7,43302,43309,5,43392,43394,5,43446,43449,5,43493,43493,5,43571,43572,7,43597,43597,7,43703,43704,5,43756,43757,5,44003,44004,7,44009,44010,7,44033,44059,12,44089,44115,12,44145,44171,12,44201,44227,12,44257,44283,12,44313,44339,12,44369,44395,12,44425,44451,12,44481,44507,12,44537,44563,12,44593,44619,12,44649,44675,12,44705,44731,12,44761,44787,12,44817,44843,12,44873,44899,12,44929,44955,12,44985,45011,12,45041,45067,12,45097,45123,12,45153,45179,12,45209,45235,12,45265,45291,12,45321,45347,12,45377,45403,12,45433,45459,12,45489,45515,12,45545,45571,12,45601,45627,12,45657,45683,12,45713,45739,12,45769,45795,12,45825,45851,12,45881,45907,12,45937,45963,12,45993,46019,12,46049,46075,12,46105,46131,12,46161,46187,12,46217,46243,12,46273,46299,12,46329,46355,12,46385,46411,12,46441,46467,12,46497,46523,12,46553,46579,12,46609,46635,12,46665,46691,12,46721,46747,12,46777,46803,12,46833,46859,12,46889,46915,12,46945,46971,12,47001,47027,12,47057,47083,12,47113,47139,12,47169,47195,12,47225,47251,12,47281,47307,12,47337,47363,12,47393,47419,12,47449,47475,12,47505,47531,12,47561,47587,12,47617,47643,12,47673,47699,12,47729,47755,12,47785,47811,12,47841,47867,12,47897,47923,12,47953,47979,12,48009,48035,12,48065,48091,12,48121,48147,12,48177,48203,12,48233,48259,12,48289,48315,12,48345,48371,12,48401,48427,12,48457,48483,12,48513,48539,12,48569,48595,12,48625,48651,12,48681,48707,12,48737,48763,12,48793,48819,12,48849,48875,12,48905,48931,12,48961,48987,12,49017,49043,12,49073,49099,12,49129,49155,12,49185,49211,12,49241,49267,12,49297,49323,12,49353,49379,12,49409,49435,12,49465,49491,12,49521,49547,12,49577,49603,12,49633,49659,12,49689,49715,12,49745,49771,12,49801,49827,12,49857,49883,12,49913,49939,12,49969,49995,12,50025,50051,12,50081,50107,12,50137,50163,12,50193,50219,12,50249,50275,12,50305,50331,12,50361,50387,12,50417,50443,12,50473,50499,12,50529,50555,12,50585,50611,12,50641,50667,12,50697,50723,12,50753,50779,12,50809,50835,12,50865,50891,12,50921,50947,12,50977,51003,12,51033,51059,12,51089,51115,12,51145,51171,12,51201,51227,12,51257,51283,12,51313,51339,12,51369,51395,12,51425,51451,12,51481,51507,12,51537,51563,12,51593,51619,12,51649,51675,12,51705,51731,12,51761,51787,12,51817,51843,12,51873,51899,12,51929,51955,12,51985,52011,12,52041,52067,12,52097,52123,12,52153,52179,12,52209,52235,12,52265,52291,12,52321,52347,12,52377,52403,12,52433,52459,12,52489,52515,12,52545,52571,12,52601,52627,12,52657,52683,12,52713,52739,12,52769,52795,12,52825,52851,12,52881,52907,12,52937,52963,12,52993,53019,12,53049,53075,12,53105,53131,12,53161,53187,12,53217,53243,12,53273,53299,12,53329,53355,12,53385,53411,12,53441,53467,12,53497,53523,12,53553,53579,12,53609,53635,12,53665,53691,12,53721,53747,12,53777,53803,12,53833,53859,12,53889,53915,12,53945,53971,12,54001,54027,12,54057,54083,12,54113,54139,12,54169,54195,12,54225,54251,12,54281,54307,12,54337,54363,12,54393,54419,12,54449,54475,12,54505,54531,12,54561,54587,12,54617,54643,12,54673,54699,12,54729,54755,12,54785,54811,12,54841,54867,12,54897,54923,12,54953,54979,12,55009,55035,12,55065,55091,12,55121,55147,12,55177,55203,12,65024,65039,5,65520,65528,4,66422,66426,5,68152,68154,5,69291,69292,5,69633,69633,5,69747,69748,5,69811,69814,5,69826,69826,5,69932,69932,7,70016,70017,5,70079,70080,7,70095,70095,5,70196,70196,5,70367,70367,5,70402,70403,7,70464,70464,5,70487,70487,5,70709,70711,7,70725,70725,7,70833,70834,7,70843,70844,7,70849,70849,7,71090,71093,5,71103,71104,5,71227,71228,7,71339,71339,5,71344,71349,5,71458,71461,5,71727,71735,5,71985,71989,7,71998,71998,5,72002,72002,7,72154,72155,5,72193,72202,5,72251,72254,5,72281,72283,5,72344,72345,5,72766,72766,7,72874,72880,5,72885,72886,5,73023,73029,5,73104,73105,5,73111,73111,5,92912,92916,5,94095,94098,5,113824,113827,4,119142,119142,7,119155,119162,4,119362,119364,5,121476,121476,5,122888,122904,5,123184,123190,5,125252,125258,5,127183,127183,14,127340,127343,14,127377,127386,14,127491,127503,14,127548,127551,14,127744,127756,14,127761,127761,14,127769,127769,14,127773,127774,14,127780,127788,14,127796,127797,14,127820,127823,14,127869,127869,14,127894,127895,14,127902,127903,14,127943,127943,14,127947,127950,14,127972,127972,14,127988,127988,14,127992,127994,14,128009,128011,14,128019,128019,14,128023,128041,14,128064,128064,14,128102,128107,14,128174,128181,14,128238,128238,14,128246,128247,14,128254,128254,14,128264,128264,14,128278,128299,14,128329,128330,14,128348,128359,14,128371,128377,14,128392,128393,14,128401,128404,14,128421,128421,14,128433,128434,14,128450,128452,14,128476,128478,14,128483,128483,14,128495,128495,14,128506,128506,14,128519,128520,14,128528,128528,14,128534,128534,14,128538,128538,14,128540,128542,14,128544,128549,14,128552,128555,14,128557,128557,14,128560,128563,14,128565,128565,14,128567,128576,14,128581,128591,14,128641,128642,14,128646,128646,14,128648,128648,14,128650,128651,14,128653,128653,14,128655,128655,14,128657,128659,14,128661,128661,14,128663,128663,14,128665,128666,14,128674,128674,14,128676,128677,14,128679,128685,14,128690,128690,14,128694,128694,14,128697,128702,14,128704,128704,14,128710,128714,14,128716,128716,14,128720,128720,14,128723,128724,14,128726,128727,14,128733,128735,14,128742,128744,14,128746,128746,14,128749,128751,14,128753,128754,14,128756,128758,14,128761,128761,14,128763,128764,14,128884,128895,14,128992,129003,14,129008,129008,14,129036,129039,14,129114,129119,14,129198,129279,14,129293,129295,14,129305,129310,14,129312,129319,14,129328,129328,14,129331,129338,14,129343,129343,14,129351,129355,14,129357,129359,14,129375,129387,14,129393,129393,14,129395,129398,14,129401,129401,14,129403,129403,14,129408,129412,14,129426,129431,14,129443,129444,14,129451,129453,14,129456,129465,14,129472,129472,14,129475,129482,14,129484,129484,14,129488,129510,14,129536,129647,14,129652,129652,14,129656,129658,14,129661,129663,14,129667,129670,14,129680,129685,14,129705,129708,14,129712,129718,14,129723,129727,14,129731,129733,14,129744,129750,14,129754,129759,14,129768,129775,14,129783,129791,14,917504,917504,4,917506,917535,4,917632,917759,4,918000,921599,4,0,9,4,11,12,4,14,31,4,169,169,14,174,174,14,1155,1159,5,1425,1469,5,1473,1474,5,1479,1479,5,1552,1562,5,1611,1631,5,1750,1756,5,1759,1764,5,1770,1773,5,1809,1809,5,1958,1968,5,2045,2045,5,2075,2083,5,2089,2093,5,2192,2193,1,2250,2273,5,2275,2306,5,2362,2362,5,2364,2364,5,2369,2376,5,2381,2381,5,2385,2391,5,2433,2433,5,2492,2492,5,2495,2496,7,2503,2504,7,2509,2509,5,2530,2531,5,2561,2562,5,2620,2620,5,2625,2626,5,2635,2637,5,2672,2673,5,2689,2690,5,2748,2748,5,2753,2757,5,2761,2761,7,2765,2765,5,2810,2815,5,2818,2819,7,2878,2878,5,2880,2880,7,2887,2888,7,2893,2893,5,2903,2903,5,2946,2946,5,3007,3007,7,3009,3010,7,3018,3020,7,3031,3031,5,3073,3075,7,3132,3132,5,3137,3140,7,3146,3149,5,3170,3171,5,3202,3203,7,3262,3262,7,3264,3265,7,3267,3268,7,3271,3272,7,3276,3277,5,3298,3299,5,3330,3331,7,3390,3390,5,3393,3396,5,3402,3404,7,3406,3406,1,3426,3427,5,3458,3459,7,3535,3535,5,3538,3540,5,3544,3550,7,3570,3571,7,3635,3635,7,3655,3662,5,3763,3763,7,3784,3789,5,3893,3893,5,3897,3897,5,3953,3966,5,3968,3972,5,3981,3991,5,4038,4038,5,4145,4145,7,4153,4154,5,4157,4158,5,4184,4185,5,4209,4212,5,4228,4228,7,4237,4237,5,4352,4447,8,4520,4607,10,5906,5908,5,5938,5939,5,5970,5971,5,6068,6069,5,6071,6077,5,6086,6086,5,6089,6099,5,6155,6157,5,6159,6159,5,6313,6313,5,6435,6438,7,6441,6443,7,6450,6450,5,6457,6459,5,6681,6682,7,6741,6741,7,6743,6743,7,6752,6752,5,6757,6764,5,6771,6780,5,6832,6845,5,6847,6862,5,6916,6916,7,6965,6965,5,6971,6971,7,6973,6977,7,6979,6980,7,7040,7041,5,7073,7073,7,7078,7079,7,7082,7082,7,7142,7142,5,7144,7145,5,7149,7149,5,7151,7153,5,7204,7211,7,7220,7221,7,7376,7378,5,7393,7393,7,7405,7405,5,7415,7415,7,7616,7679,5,8204,8204,5,8206,8207,4,8233,8233,4,8252,8252,14,8288,8292,4,8294,8303,4,8413,8416,5,8418,8420,5,8482,8482,14,8596,8601,14,8986,8987,14,9096,9096,14,9193,9196,14,9199,9199,14,9201,9202,14,9208,9210,14,9642,9643,14,9664,9664,14,9728,9729,14,9732,9732,14,9735,9741,14,9743,9744,14,9746,9746,14,9750,9751,14,9753,9756,14,9758,9759,14,9761,9761,14,9764,9765,14,9767,9769,14,9771,9773,14,9775,9775,14,9784,9785,14,9787,9791,14,9793,9793,14,9795,9799,14,9812,9822,14,9824,9824,14,9827,9827,14,9829,9830,14,9832,9832,14,9851,9851,14,9854,9854,14,9856,9861,14,9874,9874,14,9876,9876,14,9878,9879,14,9881,9881,14,9883,9884,14,9888,9889,14,9895,9895,14,9898,9899,14,9904,9905,14,9917,9918,14,9924,9925,14,9928,9928,14,9934,9934,14,9936,9936,14,9938,9938,14,9940,9940,14,9961,9961,14,9963,9967,14,9970,9971,14,9973,9973,14,9975,9977,14,9979,9980,14,9982,9985,14,9987,9988,14,9992,9996,14,9998,9998,14,10000,10001,14,10004,10004,14,10013,10013,14,10024,10024,14,10052,10052,14,10060,10060,14,10067,10069,14,10083,10083,14,10085,10087,14,10145,10145,14,10175,10175,14,11013,11015,14,11088,11088,14,11503,11505,5,11744,11775,5,12334,12335,5,12349,12349,14,12951,12951,14,42607,42607,5,42612,42621,5,42736,42737,5,43014,43014,5,43043,43044,7,43047,43047,7,43136,43137,7,43204,43205,5,43263,43263,5,43335,43345,5,43360,43388,8,43395,43395,7,43444,43445,7,43450,43451,7,43454,43456,7,43561,43566,5,43569,43570,5,43573,43574,5,43596,43596,5,43644,43644,5,43698,43700,5,43710,43711,5,43755,43755,7,43758,43759,7,43766,43766,5,44005,44005,5,44008,44008,5,44012,44012,7,44032,44032,11,44060,44060,11,44088,44088,11,44116,44116,11,44144,44144,11,44172,44172,11,44200,44200,11,44228,44228,11,44256,44256,11,44284,44284,11,44312,44312,11,44340,44340,11,44368,44368,11,44396,44396,11,44424,44424,11,44452,44452,11,44480,44480,11,44508,44508,11,44536,44536,11,44564,44564,11,44592,44592,11,44620,44620,11,44648,44648,11,44676,44676,11,44704,44704,11,44732,44732,11,44760,44760,11,44788,44788,11,44816,44816,11,44844,44844,11,44872,44872,11,44900,44900,11,44928,44928,11,44956,44956,11,44984,44984,11,45012,45012,11,45040,45040,11,45068,45068,11,45096,45096,11,45124,45124,11,45152,45152,11,45180,45180,11,45208,45208,11,45236,45236,11,45264,45264,11,45292,45292,11,45320,45320,11,45348,45348,11,45376,45376,11,45404,45404,11,45432,45432,11,45460,45460,11,45488,45488,11,45516,45516,11,45544,45544,11,45572,45572,11,45600,45600,11,45628,45628,11,45656,45656,11,45684,45684,11,45712,45712,11,45740,45740,11,45768,45768,11,45796,45796,11,45824,45824,11,45852,45852,11,45880,45880,11,45908,45908,11,45936,45936,11,45964,45964,11,45992,45992,11,46020,46020,11,46048,46048,11,46076,46076,11,46104,46104,11,46132,46132,11,46160,46160,11,46188,46188,11,46216,46216,11,46244,46244,11,46272,46272,11,46300,46300,11,46328,46328,11,46356,46356,11,46384,46384,11,46412,46412,11,46440,46440,11,46468,46468,11,46496,46496,11,46524,46524,11,46552,46552,11,46580,46580,11,46608,46608,11,46636,46636,11,46664,46664,11,46692,46692,11,46720,46720,11,46748,46748,11,46776,46776,11,46804,46804,11,46832,46832,11,46860,46860,11,46888,46888,11,46916,46916,11,46944,46944,11,46972,46972,11,47000,47000,11,47028,47028,11,47056,47056,11,47084,47084,11,47112,47112,11,47140,47140,11,47168,47168,11,47196,47196,11,47224,47224,11,47252,47252,11,47280,47280,11,47308,47308,11,47336,47336,11,47364,47364,11,47392,47392,11,47420,47420,11,47448,47448,11,47476,47476,11,47504,47504,11,47532,47532,11,47560,47560,11,47588,47588,11,47616,47616,11,47644,47644,11,47672,47672,11,47700,47700,11,47728,47728,11,47756,47756,11,47784,47784,11,47812,47812,11,47840,47840,11,47868,47868,11,47896,47896,11,47924,47924,11,47952,47952,11,47980,47980,11,48008,48008,11,48036,48036,11,48064,48064,11,48092,48092,11,48120,48120,11,48148,48148,11,48176,48176,11,48204,48204,11,48232,48232,11,48260,48260,11,48288,48288,11,48316,48316,11,48344,48344,11,48372,48372,11,48400,48400,11,48428,48428,11,48456,48456,11,48484,48484,11,48512,48512,11,48540,48540,11,48568,48568,11,48596,48596,11,48624,48624,11,48652,48652,11,48680,48680,11,48708,48708,11,48736,48736,11,48764,48764,11,48792,48792,11,48820,48820,11,48848,48848,11,48876,48876,11,48904,48904,11,48932,48932,11,48960,48960,11,48988,48988,11,49016,49016,11,49044,49044,11,49072,49072,11,49100,49100,11,49128,49128,11,49156,49156,11,49184,49184,11,49212,49212,11,49240,49240,11,49268,49268,11,49296,49296,11,49324,49324,11,49352,49352,11,49380,49380,11,49408,49408,11,49436,49436,11,49464,49464,11,49492,49492,11,49520,49520,11,49548,49548,11,49576,49576,11,49604,49604,11,49632,49632,11,49660,49660,11,49688,49688,11,49716,49716,11,49744,49744,11,49772,49772,11,49800,49800,11,49828,49828,11,49856,49856,11,49884,49884,11,49912,49912,11,49940,49940,11,49968,49968,11,49996,49996,11,50024,50024,11,50052,50052,11,50080,50080,11,50108,50108,11,50136,50136,11,50164,50164,11,50192,50192,11,50220,50220,11,50248,50248,11,50276,50276,11,50304,50304,11,50332,50332,11,50360,50360,11,50388,50388,11,50416,50416,11,50444,50444,11,50472,50472,11,50500,50500,11,50528,50528,11,50556,50556,11,50584,50584,11,50612,50612,11,50640,50640,11,50668,50668,11,50696,50696,11,50724,50724,11,50752,50752,11,50780,50780,11,50808,50808,11,50836,50836,11,50864,50864,11,50892,50892,11,50920,50920,11,50948,50948,11,50976,50976,11,51004,51004,11,51032,51032,11,51060,51060,11,51088,51088,11,51116,51116,11,51144,51144,11,51172,51172,11,51200,51200,11,51228,51228,11,51256,51256,11,51284,51284,11,51312,51312,11,51340,51340,11,51368,51368,11,51396,51396,11,51424,51424,11,51452,51452,11,51480,51480,11,51508,51508,11,51536,51536,11,51564,51564,11,51592,51592,11,51620,51620,11,51648,51648,11,51676,51676,11,51704,51704,11,51732,51732,11,51760,51760,11,51788,51788,11,51816,51816,11,51844,51844,11,51872,51872,11,51900,51900,11,51928,51928,11,51956,51956,11,51984,51984,11,52012,52012,11,52040,52040,11,52068,52068,11,52096,52096,11,52124,52124,11,52152,52152,11,52180,52180,11,52208,52208,11,52236,52236,11,52264,52264,11,52292,52292,11,52320,52320,11,52348,52348,11,52376,52376,11,52404,52404,11,52432,52432,11,52460,52460,11,52488,52488,11,52516,52516,11,52544,52544,11,52572,52572,11,52600,52600,11,52628,52628,11,52656,52656,11,52684,52684,11,52712,52712,11,52740,52740,11,52768,52768,11,52796,52796,11,52824,52824,11,52852,52852,11,52880,52880,11,52908,52908,11,52936,52936,11,52964,52964,11,52992,52992,11,53020,53020,11,53048,53048,11,53076,53076,11,53104,53104,11,53132,53132,11,53160,53160,11,53188,53188,11,53216,53216,11,53244,53244,11,53272,53272,11,53300,53300,11,53328,53328,11,53356,53356,11,53384,53384,11,53412,53412,11,53440,53440,11,53468,53468,11,53496,53496,11,53524,53524,11,53552,53552,11,53580,53580,11,53608,53608,11,53636,53636,11,53664,53664,11,53692,53692,11,53720,53720,11,53748,53748,11,53776,53776,11,53804,53804,11,53832,53832,11,53860,53860,11,53888,53888,11,53916,53916,11,53944,53944,11,53972,53972,11,54000,54000,11,54028,54028,11,54056,54056,11,54084,54084,11,54112,54112,11,54140,54140,11,54168,54168,11,54196,54196,11,54224,54224,11,54252,54252,11,54280,54280,11,54308,54308,11,54336,54336,11,54364,54364,11,54392,54392,11,54420,54420,11,54448,54448,11,54476,54476,11,54504,54504,11,54532,54532,11,54560,54560,11,54588,54588,11,54616,54616,11,54644,54644,11,54672,54672,11,54700,54700,11,54728,54728,11,54756,54756,11,54784,54784,11,54812,54812,11,54840,54840,11,54868,54868,11,54896,54896,11,54924,54924,11,54952,54952,11,54980,54980,11,55008,55008,11,55036,55036,11,55064,55064,11,55092,55092,11,55120,55120,11,55148,55148,11,55176,55176,11,55216,55238,9,64286,64286,5,65056,65071,5,65438,65439,5,65529,65531,4,66272,66272,5,68097,68099,5,68108,68111,5,68159,68159,5,68900,68903,5,69446,69456,5,69632,69632,7,69634,69634,7,69744,69744,5,69759,69761,5,69808,69810,7,69815,69816,7,69821,69821,1,69837,69837,1,69927,69931,5,69933,69940,5,70003,70003,5,70018,70018,7,70070,70078,5,70082,70083,1,70094,70094,7,70188,70190,7,70194,70195,7,70197,70197,7,70206,70206,5,70368,70370,7,70400,70401,5,70459,70460,5,70463,70463,7,70465,70468,7,70475,70477,7,70498,70499,7,70512,70516,5,70712,70719,5,70722,70724,5,70726,70726,5,70832,70832,5,70835,70840,5,70842,70842,5,70845,70845,5,70847,70848,5,70850,70851,5,71088,71089,7,71096,71099,7,71102,71102,7,71132,71133,5,71219,71226,5,71229,71229,5,71231,71232,5,71340,71340,7,71342,71343,7,71350,71350,7,71453,71455,5,71462,71462,7,71724,71726,7,71736,71736,7,71984,71984,5,71991,71992,7,71997,71997,7,71999,71999,1,72001,72001,1,72003,72003,5,72148,72151,5,72156,72159,7,72164,72164,7,72243,72248,5,72250,72250,1,72263,72263,5,72279,72280,7,72324,72329,1,72343,72343,7,72751,72751,7,72760,72765,5,72767,72767,5,72873,72873,7,72881,72881,7,72884,72884,7,73009,73014,5,73020,73021,5,73030,73030,1,73098,73102,7,73107,73108,7,73110,73110,7,73459,73460,5,78896,78904,4,92976,92982,5,94033,94087,7,94180,94180,5,113821,113822,5,118528,118573,5,119141,119141,5,119143,119145,5,119150,119154,5,119163,119170,5,119210,119213,5,121344,121398,5,121461,121461,5,121499,121503,5,122880,122886,5,122907,122913,5,122918,122922,5,123566,123566,5,125136,125142,5,126976,126979,14,126981,127182,14,127184,127231,14,127279,127279,14,127344,127345,14,127374,127374,14,127405,127461,14,127489,127490,14,127514,127514,14,127538,127546,14,127561,127567,14,127570,127743,14,127757,127758,14,127760,127760,14,127762,127762,14,127766,127768,14,127770,127770,14,127772,127772,14,127775,127776,14,127778,127779,14,127789,127791,14,127794,127795,14,127798,127798,14,127819,127819,14,127824,127824,14,127868,127868,14,127870,127871,14,127892,127893,14,127896,127896,14,127900,127901,14,127904,127940,14,127942,127942,14,127944,127944,14,127946,127946,14,127951,127955,14,127968,127971,14,127973,127984,14,127987,127987,14,127989,127989,14,127991,127991,14,127995,127999,5,128008,128008,14,128012,128014,14,128017,128018,14,128020,128020,14,128022,128022,14,128042,128042,14,128063,128063,14,128065,128065,14,128101,128101,14,128108,128109,14,128173,128173,14,128182,128183,14,128236,128237,14,128239,128239,14,128245,128245,14,128248,128248,14,128253,128253,14,128255,128258,14,128260,128263,14,128265,128265,14,128277,128277,14,128300,128301,14,128326,128328,14,128331,128334,14,128336,128347,14,128360,128366,14,128369,128370,14,128378,128378,14,128391,128391,14,128394,128397,14,128400,128400,14,128405,128406,14,128420,128420,14,128422,128423,14,128425,128432,14,128435,128443,14,128445,128449,14,128453,128464,14,128468,128475,14,128479,128480,14,128482,128482,14,128484,128487,14,128489,128494,14,128496,128498,14,128500,128505,14,128507,128511,14,128513,128518,14,128521,128525,14,128527,128527,14,128529,128529,14,128533,128533,14,128535,128535,14,128537,128537,14]")}function $(Y,le){if(Y===0)return 0;const fe=V(Y,le);if(fe!==void 0)return fe;const be=new W(le,Y);return be.prevCodePoint(),be.offset}e.getLeftDeleteOffset=$;function V(Y,le){const fe=new W(le,Y);let be=fe.prevCodePoint();for(;j(be)||be===65039||be===8419;){if(fe.offset===0)return;be=fe.prevCodePoint()}if(!Z(be))return;let we=fe.offset;return we>0&&fe.prevCodePoint()===8205&&(we=fe.offset),we}function j(Y){return 127995<=Y&&Y<=127999}e.noBreakWhitespace="\xA0";class se{static getInstance(le){return se.cache.get(Array.from(le))}static getLocales(){return se._locales.value}constructor(le){this.confusableDictionary=le}isAmbiguous(le){return this.confusableDictionary.has(le)}getPrimaryConfusable(le){return this.confusableDictionary.get(le)}getConfusableCodePoints(){return new Set(this.confusableDictionary.keys())}}e.AmbiguousCharacters=se,y=se,se.ambiguousCharacterData=new k.Lazy(()=>JSON.parse('{"_common":[8232,32,8233,32,5760,32,8192,32,8193,32,8194,32,8195,32,8196,32,8197,32,8198,32,8200,32,8201,32,8202,32,8287,32,8199,32,8239,32,2042,95,65101,95,65102,95,65103,95,8208,45,8209,45,8210,45,65112,45,1748,45,8259,45,727,45,8722,45,10134,45,11450,45,1549,44,1643,44,8218,44,184,44,42233,44,894,59,2307,58,2691,58,1417,58,1795,58,1796,58,5868,58,65072,58,6147,58,6153,58,8282,58,1475,58,760,58,42889,58,8758,58,720,58,42237,58,451,33,11601,33,660,63,577,63,2429,63,5038,63,42731,63,119149,46,8228,46,1793,46,1794,46,42510,46,68176,46,1632,46,1776,46,42232,46,1373,96,65287,96,8219,96,8242,96,1370,96,1523,96,8175,96,65344,96,900,96,8189,96,8125,96,8127,96,8190,96,697,96,884,96,712,96,714,96,715,96,756,96,699,96,701,96,700,96,702,96,42892,96,1497,96,2036,96,2037,96,5194,96,5836,96,94033,96,94034,96,65339,91,10088,40,10098,40,12308,40,64830,40,65341,93,10089,41,10099,41,12309,41,64831,41,10100,123,119060,123,10101,125,65342,94,8270,42,1645,42,8727,42,66335,42,5941,47,8257,47,8725,47,8260,47,9585,47,10187,47,10744,47,119354,47,12755,47,12339,47,11462,47,20031,47,12035,47,65340,92,65128,92,8726,92,10189,92,10741,92,10745,92,119311,92,119355,92,12756,92,20022,92,12034,92,42872,38,708,94,710,94,5869,43,10133,43,66203,43,8249,60,10094,60,706,60,119350,60,5176,60,5810,60,5120,61,11840,61,12448,61,42239,61,8250,62,10095,62,707,62,119351,62,5171,62,94015,62,8275,126,732,126,8128,126,8764,126,65372,124,65293,45,120784,50,120794,50,120804,50,120814,50,120824,50,130034,50,42842,50,423,50,1000,50,42564,50,5311,50,42735,50,119302,51,120785,51,120795,51,120805,51,120815,51,120825,51,130035,51,42923,51,540,51,439,51,42858,51,11468,51,1248,51,94011,51,71882,51,120786,52,120796,52,120806,52,120816,52,120826,52,130036,52,5070,52,71855,52,120787,53,120797,53,120807,53,120817,53,120827,53,130037,53,444,53,71867,53,120788,54,120798,54,120808,54,120818,54,120828,54,130038,54,11474,54,5102,54,71893,54,119314,55,120789,55,120799,55,120809,55,120819,55,120829,55,130039,55,66770,55,71878,55,2819,56,2538,56,2666,56,125131,56,120790,56,120800,56,120810,56,120820,56,120830,56,130040,56,547,56,546,56,66330,56,2663,57,2920,57,2541,57,3437,57,120791,57,120801,57,120811,57,120821,57,120831,57,130041,57,42862,57,11466,57,71884,57,71852,57,71894,57,9082,97,65345,97,119834,97,119886,97,119938,97,119990,97,120042,97,120094,97,120146,97,120198,97,120250,97,120302,97,120354,97,120406,97,120458,97,593,97,945,97,120514,97,120572,97,120630,97,120688,97,120746,97,65313,65,119808,65,119860,65,119912,65,119964,65,120016,65,120068,65,120120,65,120172,65,120224,65,120276,65,120328,65,120380,65,120432,65,913,65,120488,65,120546,65,120604,65,120662,65,120720,65,5034,65,5573,65,42222,65,94016,65,66208,65,119835,98,119887,98,119939,98,119991,98,120043,98,120095,98,120147,98,120199,98,120251,98,120303,98,120355,98,120407,98,120459,98,388,98,5071,98,5234,98,5551,98,65314,66,8492,66,119809,66,119861,66,119913,66,120017,66,120069,66,120121,66,120173,66,120225,66,120277,66,120329,66,120381,66,120433,66,42932,66,914,66,120489,66,120547,66,120605,66,120663,66,120721,66,5108,66,5623,66,42192,66,66178,66,66209,66,66305,66,65347,99,8573,99,119836,99,119888,99,119940,99,119992,99,120044,99,120096,99,120148,99,120200,99,120252,99,120304,99,120356,99,120408,99,120460,99,7428,99,1010,99,11429,99,43951,99,66621,99,128844,67,71922,67,71913,67,65315,67,8557,67,8450,67,8493,67,119810,67,119862,67,119914,67,119966,67,120018,67,120174,67,120226,67,120278,67,120330,67,120382,67,120434,67,1017,67,11428,67,5087,67,42202,67,66210,67,66306,67,66581,67,66844,67,8574,100,8518,100,119837,100,119889,100,119941,100,119993,100,120045,100,120097,100,120149,100,120201,100,120253,100,120305,100,120357,100,120409,100,120461,100,1281,100,5095,100,5231,100,42194,100,8558,68,8517,68,119811,68,119863,68,119915,68,119967,68,120019,68,120071,68,120123,68,120175,68,120227,68,120279,68,120331,68,120383,68,120435,68,5024,68,5598,68,5610,68,42195,68,8494,101,65349,101,8495,101,8519,101,119838,101,119890,101,119942,101,120046,101,120098,101,120150,101,120202,101,120254,101,120306,101,120358,101,120410,101,120462,101,43826,101,1213,101,8959,69,65317,69,8496,69,119812,69,119864,69,119916,69,120020,69,120072,69,120124,69,120176,69,120228,69,120280,69,120332,69,120384,69,120436,69,917,69,120492,69,120550,69,120608,69,120666,69,120724,69,11577,69,5036,69,42224,69,71846,69,71854,69,66182,69,119839,102,119891,102,119943,102,119995,102,120047,102,120099,102,120151,102,120203,102,120255,102,120307,102,120359,102,120411,102,120463,102,43829,102,42905,102,383,102,7837,102,1412,102,119315,70,8497,70,119813,70,119865,70,119917,70,120021,70,120073,70,120125,70,120177,70,120229,70,120281,70,120333,70,120385,70,120437,70,42904,70,988,70,120778,70,5556,70,42205,70,71874,70,71842,70,66183,70,66213,70,66853,70,65351,103,8458,103,119840,103,119892,103,119944,103,120048,103,120100,103,120152,103,120204,103,120256,103,120308,103,120360,103,120412,103,120464,103,609,103,7555,103,397,103,1409,103,119814,71,119866,71,119918,71,119970,71,120022,71,120074,71,120126,71,120178,71,120230,71,120282,71,120334,71,120386,71,120438,71,1292,71,5056,71,5107,71,42198,71,65352,104,8462,104,119841,104,119945,104,119997,104,120049,104,120101,104,120153,104,120205,104,120257,104,120309,104,120361,104,120413,104,120465,104,1211,104,1392,104,5058,104,65320,72,8459,72,8460,72,8461,72,119815,72,119867,72,119919,72,120023,72,120179,72,120231,72,120283,72,120335,72,120387,72,120439,72,919,72,120494,72,120552,72,120610,72,120668,72,120726,72,11406,72,5051,72,5500,72,42215,72,66255,72,731,105,9075,105,65353,105,8560,105,8505,105,8520,105,119842,105,119894,105,119946,105,119998,105,120050,105,120102,105,120154,105,120206,105,120258,105,120310,105,120362,105,120414,105,120466,105,120484,105,618,105,617,105,953,105,8126,105,890,105,120522,105,120580,105,120638,105,120696,105,120754,105,1110,105,42567,105,1231,105,43893,105,5029,105,71875,105,65354,106,8521,106,119843,106,119895,106,119947,106,119999,106,120051,106,120103,106,120155,106,120207,106,120259,106,120311,106,120363,106,120415,106,120467,106,1011,106,1112,106,65322,74,119817,74,119869,74,119921,74,119973,74,120025,74,120077,74,120129,74,120181,74,120233,74,120285,74,120337,74,120389,74,120441,74,42930,74,895,74,1032,74,5035,74,5261,74,42201,74,119844,107,119896,107,119948,107,120000,107,120052,107,120104,107,120156,107,120208,107,120260,107,120312,107,120364,107,120416,107,120468,107,8490,75,65323,75,119818,75,119870,75,119922,75,119974,75,120026,75,120078,75,120130,75,120182,75,120234,75,120286,75,120338,75,120390,75,120442,75,922,75,120497,75,120555,75,120613,75,120671,75,120729,75,11412,75,5094,75,5845,75,42199,75,66840,75,1472,108,8739,73,9213,73,65512,73,1633,108,1777,73,66336,108,125127,108,120783,73,120793,73,120803,73,120813,73,120823,73,130033,73,65321,73,8544,73,8464,73,8465,73,119816,73,119868,73,119920,73,120024,73,120128,73,120180,73,120232,73,120284,73,120336,73,120388,73,120440,73,65356,108,8572,73,8467,108,119845,108,119897,108,119949,108,120001,108,120053,108,120105,73,120157,73,120209,73,120261,73,120313,73,120365,73,120417,73,120469,73,448,73,120496,73,120554,73,120612,73,120670,73,120728,73,11410,73,1030,73,1216,73,1493,108,1503,108,1575,108,126464,108,126592,108,65166,108,65165,108,1994,108,11599,73,5825,73,42226,73,93992,73,66186,124,66313,124,119338,76,8556,76,8466,76,119819,76,119871,76,119923,76,120027,76,120079,76,120131,76,120183,76,120235,76,120287,76,120339,76,120391,76,120443,76,11472,76,5086,76,5290,76,42209,76,93974,76,71843,76,71858,76,66587,76,66854,76,65325,77,8559,77,8499,77,119820,77,119872,77,119924,77,120028,77,120080,77,120132,77,120184,77,120236,77,120288,77,120340,77,120392,77,120444,77,924,77,120499,77,120557,77,120615,77,120673,77,120731,77,1018,77,11416,77,5047,77,5616,77,5846,77,42207,77,66224,77,66321,77,119847,110,119899,110,119951,110,120003,110,120055,110,120107,110,120159,110,120211,110,120263,110,120315,110,120367,110,120419,110,120471,110,1400,110,1404,110,65326,78,8469,78,119821,78,119873,78,119925,78,119977,78,120029,78,120081,78,120185,78,120237,78,120289,78,120341,78,120393,78,120445,78,925,78,120500,78,120558,78,120616,78,120674,78,120732,78,11418,78,42208,78,66835,78,3074,111,3202,111,3330,111,3458,111,2406,111,2662,111,2790,111,3046,111,3174,111,3302,111,3430,111,3664,111,3792,111,4160,111,1637,111,1781,111,65359,111,8500,111,119848,111,119900,111,119952,111,120056,111,120108,111,120160,111,120212,111,120264,111,120316,111,120368,111,120420,111,120472,111,7439,111,7441,111,43837,111,959,111,120528,111,120586,111,120644,111,120702,111,120760,111,963,111,120532,111,120590,111,120648,111,120706,111,120764,111,11423,111,4351,111,1413,111,1505,111,1607,111,126500,111,126564,111,126596,111,65259,111,65260,111,65258,111,65257,111,1726,111,64428,111,64429,111,64427,111,64426,111,1729,111,64424,111,64425,111,64423,111,64422,111,1749,111,3360,111,4125,111,66794,111,71880,111,71895,111,66604,111,1984,79,2534,79,2918,79,12295,79,70864,79,71904,79,120782,79,120792,79,120802,79,120812,79,120822,79,130032,79,65327,79,119822,79,119874,79,119926,79,119978,79,120030,79,120082,79,120134,79,120186,79,120238,79,120290,79,120342,79,120394,79,120446,79,927,79,120502,79,120560,79,120618,79,120676,79,120734,79,11422,79,1365,79,11604,79,4816,79,2848,79,66754,79,42227,79,71861,79,66194,79,66219,79,66564,79,66838,79,9076,112,65360,112,119849,112,119901,112,119953,112,120005,112,120057,112,120109,112,120161,112,120213,112,120265,112,120317,112,120369,112,120421,112,120473,112,961,112,120530,112,120544,112,120588,112,120602,112,120646,112,120660,112,120704,112,120718,112,120762,112,120776,112,11427,112,65328,80,8473,80,119823,80,119875,80,119927,80,119979,80,120031,80,120083,80,120187,80,120239,80,120291,80,120343,80,120395,80,120447,80,929,80,120504,80,120562,80,120620,80,120678,80,120736,80,11426,80,5090,80,5229,80,42193,80,66197,80,119850,113,119902,113,119954,113,120006,113,120058,113,120110,113,120162,113,120214,113,120266,113,120318,113,120370,113,120422,113,120474,113,1307,113,1379,113,1382,113,8474,81,119824,81,119876,81,119928,81,119980,81,120032,81,120084,81,120188,81,120240,81,120292,81,120344,81,120396,81,120448,81,11605,81,119851,114,119903,114,119955,114,120007,114,120059,114,120111,114,120163,114,120215,114,120267,114,120319,114,120371,114,120423,114,120475,114,43847,114,43848,114,7462,114,11397,114,43905,114,119318,82,8475,82,8476,82,8477,82,119825,82,119877,82,119929,82,120033,82,120189,82,120241,82,120293,82,120345,82,120397,82,120449,82,422,82,5025,82,5074,82,66740,82,5511,82,42211,82,94005,82,65363,115,119852,115,119904,115,119956,115,120008,115,120060,115,120112,115,120164,115,120216,115,120268,115,120320,115,120372,115,120424,115,120476,115,42801,115,445,115,1109,115,43946,115,71873,115,66632,115,65331,83,119826,83,119878,83,119930,83,119982,83,120034,83,120086,83,120138,83,120190,83,120242,83,120294,83,120346,83,120398,83,120450,83,1029,83,1359,83,5077,83,5082,83,42210,83,94010,83,66198,83,66592,83,119853,116,119905,116,119957,116,120009,116,120061,116,120113,116,120165,116,120217,116,120269,116,120321,116,120373,116,120425,116,120477,116,8868,84,10201,84,128872,84,65332,84,119827,84,119879,84,119931,84,119983,84,120035,84,120087,84,120139,84,120191,84,120243,84,120295,84,120347,84,120399,84,120451,84,932,84,120507,84,120565,84,120623,84,120681,84,120739,84,11430,84,5026,84,42196,84,93962,84,71868,84,66199,84,66225,84,66325,84,119854,117,119906,117,119958,117,120010,117,120062,117,120114,117,120166,117,120218,117,120270,117,120322,117,120374,117,120426,117,120478,117,42911,117,7452,117,43854,117,43858,117,651,117,965,117,120534,117,120592,117,120650,117,120708,117,120766,117,1405,117,66806,117,71896,117,8746,85,8899,85,119828,85,119880,85,119932,85,119984,85,120036,85,120088,85,120140,85,120192,85,120244,85,120296,85,120348,85,120400,85,120452,85,1357,85,4608,85,66766,85,5196,85,42228,85,94018,85,71864,85,8744,118,8897,118,65366,118,8564,118,119855,118,119907,118,119959,118,120011,118,120063,118,120115,118,120167,118,120219,118,120271,118,120323,118,120375,118,120427,118,120479,118,7456,118,957,118,120526,118,120584,118,120642,118,120700,118,120758,118,1141,118,1496,118,71430,118,43945,118,71872,118,119309,86,1639,86,1783,86,8548,86,119829,86,119881,86,119933,86,119985,86,120037,86,120089,86,120141,86,120193,86,120245,86,120297,86,120349,86,120401,86,120453,86,1140,86,11576,86,5081,86,5167,86,42719,86,42214,86,93960,86,71840,86,66845,86,623,119,119856,119,119908,119,119960,119,120012,119,120064,119,120116,119,120168,119,120220,119,120272,119,120324,119,120376,119,120428,119,120480,119,7457,119,1121,119,1309,119,1377,119,71434,119,71438,119,71439,119,43907,119,71919,87,71910,87,119830,87,119882,87,119934,87,119986,87,120038,87,120090,87,120142,87,120194,87,120246,87,120298,87,120350,87,120402,87,120454,87,1308,87,5043,87,5076,87,42218,87,5742,120,10539,120,10540,120,10799,120,65368,120,8569,120,119857,120,119909,120,119961,120,120013,120,120065,120,120117,120,120169,120,120221,120,120273,120,120325,120,120377,120,120429,120,120481,120,5441,120,5501,120,5741,88,9587,88,66338,88,71916,88,65336,88,8553,88,119831,88,119883,88,119935,88,119987,88,120039,88,120091,88,120143,88,120195,88,120247,88,120299,88,120351,88,120403,88,120455,88,42931,88,935,88,120510,88,120568,88,120626,88,120684,88,120742,88,11436,88,11613,88,5815,88,42219,88,66192,88,66228,88,66327,88,66855,88,611,121,7564,121,65369,121,119858,121,119910,121,119962,121,120014,121,120066,121,120118,121,120170,121,120222,121,120274,121,120326,121,120378,121,120430,121,120482,121,655,121,7935,121,43866,121,947,121,8509,121,120516,121,120574,121,120632,121,120690,121,120748,121,1199,121,4327,121,71900,121,65337,89,119832,89,119884,89,119936,89,119988,89,120040,89,120092,89,120144,89,120196,89,120248,89,120300,89,120352,89,120404,89,120456,89,933,89,978,89,120508,89,120566,89,120624,89,120682,89,120740,89,11432,89,1198,89,5033,89,5053,89,42220,89,94019,89,71844,89,66226,89,119859,122,119911,122,119963,122,120015,122,120067,122,120119,122,120171,122,120223,122,120275,122,120327,122,120379,122,120431,122,120483,122,7458,122,43923,122,71876,122,66293,90,71909,90,65338,90,8484,90,8488,90,119833,90,119885,90,119937,90,119989,90,120041,90,120197,90,120249,90,120301,90,120353,90,120405,90,120457,90,918,90,120493,90,120551,90,120609,90,120667,90,120725,90,5059,90,42204,90,71849,90,65282,34,65284,36,65285,37,65286,38,65290,42,65291,43,65294,46,65295,47,65296,48,65297,49,65298,50,65299,51,65300,52,65301,53,65302,54,65303,55,65304,56,65305,57,65308,60,65309,61,65310,62,65312,64,65316,68,65318,70,65319,71,65324,76,65329,81,65330,82,65333,85,65334,86,65335,87,65343,95,65346,98,65348,100,65350,102,65355,107,65357,109,65358,110,65361,113,65362,114,65364,116,65365,117,65367,119,65370,122,65371,123,65373,125,119846,109],"_default":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"cs":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"de":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"es":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"fr":[65374,126,65306,58,65281,33,8216,96,8245,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"it":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ja":[8211,45,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65292,44,65307,59],"ko":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pl":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pt-BR":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"qps-ploc":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ru":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,305,105,921,73,1009,112,215,120,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"tr":[160,32,8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"zh-hans":[65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65288,40,65289,41],"zh-hant":[8211,45,65374,126,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65307,59]}')),se.cache=new L.LRUCachedFunction(Y=>{function le(Ae){const Te=new Map;for(let pe=0;pe<Ae.length;pe+=2)Te.set(Ae[pe],Ae[pe+1]);return Te}function fe(Ae,Te){const pe=new Map(Ae);for(const[me,Se]of Te)pe.set(me,Se);return pe}function be(Ae,Te){if(!Ae)return Te;const pe=new Map;for(const[me,Se]of Ae)Te.has(me)&&pe.set(me,Se);return pe}const we=y.ambiguousCharacterData.value;let Ee=Y.filter(Ae=>!Ae.startsWith("_")&&Ae in we);Ee.length===0&&(Ee=["_default"]);let Ie;for(const Ae of Ee){const Te=le(we[Ae]);Ie=be(Ie,Te)}const ye=le(we._common),ke=fe(ye,Ie);return new se(ke)}),se._locales=new k.Lazy(()=>Object.keys(se.ambiguousCharacterData.value).filter(Y=>!Y.startsWith("_")));class ie{static getRawData(){return JSON.parse("[9,10,11,12,13,32,127,160,173,847,1564,4447,4448,6068,6069,6155,6156,6157,6158,7355,7356,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8203,8204,8205,8206,8207,8234,8235,8236,8237,8238,8239,8287,8288,8289,8290,8291,8292,8293,8294,8295,8296,8297,8298,8299,8300,8301,8302,8303,10240,12288,12644,65024,65025,65026,65027,65028,65029,65030,65031,65032,65033,65034,65035,65036,65037,65038,65039,65279,65440,65520,65521,65522,65523,65524,65525,65526,65527,65528,65532,78844,119155,119156,119157,119158,119159,119160,119161,119162,917504,917505,917506,917507,917508,917509,917510,917511,917512,917513,917514,917515,917516,917517,917518,917519,917520,917521,917522,917523,917524,917525,917526,917527,917528,917529,917530,917531,917532,917533,917534,917535,917536,917537,917538,917539,917540,917541,917542,917543,917544,917545,917546,917547,917548,917549,917550,917551,917552,917553,917554,917555,917556,917557,917558,917559,917560,917561,917562,917563,917564,917565,917566,917567,917568,917569,917570,917571,917572,917573,917574,917575,917576,917577,917578,917579,917580,917581,917582,917583,917584,917585,917586,917587,917588,917589,917590,917591,917592,917593,917594,917595,917596,917597,917598,917599,917600,917601,917602,917603,917604,917605,917606,917607,917608,917609,917610,917611,917612,917613,917614,917615,917616,917617,917618,917619,917620,917621,917622,917623,917624,917625,917626,917627,917628,917629,917630,917631,917760,917761,917762,917763,917764,917765,917766,917767,917768,917769,917770,917771,917772,917773,917774,917775,917776,917777,917778,917779,917780,917781,917782,917783,917784,917785,917786,917787,917788,917789,917790,917791,917792,917793,917794,917795,917796,917797,917798,917799,917800,917801,917802,917803,917804,917805,917806,917807,917808,917809,917810,917811,917812,917813,917814,917815,917816,917817,917818,917819,917820,917821,917822,917823,917824,917825,917826,917827,917828,917829,917830,917831,917832,917833,917834,917835,917836,917837,917838,917839,917840,917841,917842,917843,917844,917845,917846,917847,917848,917849,917850,917851,917852,917853,917854,917855,917856,917857,917858,917859,917860,917861,917862,917863,917864,917865,917866,917867,917868,917869,917870,917871,917872,917873,917874,917875,917876,917877,917878,917879,917880,917881,917882,917883,917884,917885,917886,917887,917888,917889,917890,917891,917892,917893,917894,917895,917896,917897,917898,917899,917900,917901,917902,917903,917904,917905,917906,917907,917908,917909,917910,917911,917912,917913,917914,917915,917916,917917,917918,917919,917920,917921,917922,917923,917924,917925,917926,917927,917928,917929,917930,917931,917932,917933,917934,917935,917936,917937,917938,917939,917940,917941,917942,917943,917944,917945,917946,917947,917948,917949,917950,917951,917952,917953,917954,917955,917956,917957,917958,917959,917960,917961,917962,917963,917964,917965,917966,917967,917968,917969,917970,917971,917972,917973,917974,917975,917976,917977,917978,917979,917980,917981,917982,917983,917984,917985,917986,917987,917988,917989,917990,917991,917992,917993,917994,917995,917996,917997,917998,917999]")}static getData(){return this._data||(this._data=new Set(ie.getRawData())),this._data}static isInvisibleCharacter(le){return ie.getData().has(le)}static get codePoints(){return ie.getData()}}e.InvisibleCharacters=ie,ie._data=void 0}),define(X[70],ee([1,0,64,9]),function(q,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.fuzzyScoreGracefulAggressive=e.fuzzyScore=e.FuzzyScoreOptions=e.FuzzyScore=e.isPatternInWord=e.createMatches=e.anyScore=e.matchesFuzzy=e.matchesWords=e.matchesCamelCase=e.isUpper=e.matchesSubString=e.matchesContiguousSubString=e.matchesPrefix=e.matchesStrictPrefix=e.or=void 0;function y(...$){return function(V,j){for(let se=0,ie=$.length;se<ie;se++){const Y=$[se](V,j);if(Y)return Y}return null}}e.or=y,e.matchesStrictPrefix=D.bind(void 0,!1),e.matchesPrefix=D.bind(void 0,!0);function D($,V,j){if(!j||j.length<V.length)return null;let se;return $?se=k.startsWithIgnoreCase(j,V):se=j.indexOf(V)===0,se?V.length>0?[{start:0,end:V.length}]:[]:null}function S($,V){const j=V.toLowerCase().indexOf($.toLowerCase());return j===-1?null:[{start:j,end:j+$.length}]}e.matchesContiguousSubString=S;function m($,V){return _($.toLowerCase(),V.toLowerCase(),0,0)}e.matchesSubString=m;function _($,V,j,se){if(j===$.length)return[];if(se===V.length)return null;if($[j]===V[se]){let ie=null;return(ie=_($,V,j+1,se+1))?h({start:se,end:se+1},ie):null}return _($,V,j,se+1)}function f($){return 97<=$&&$<=122}function p($){return 65<=$&&$<=90}e.isUpper=p;function s($){return 48<=$&&$<=57}function t($){return $===32||$===9||$===10||$===13}const i=new Set;"()[]{}<>`'\"-/;:,.?!".split("").forEach($=>i.add($.charCodeAt(0)));function o($){return t($)||i.has($)}function r($,V){return $===V||o($)&&o(V)}function d($){return f($)||p($)||s($)}function h($,V){return V.length===0?V=[$]:$.end===V[0].start?V[0].start=$.start:V.unshift($),V}function n($,V){for(let j=V;j<$.length;j++){const se=$.charCodeAt(j);if(p(se)||s(se)||j>0&&!d($.charCodeAt(j-1)))return j}return $.length}function c($,V,j,se){if(j===$.length)return[];if(se===V.length)return null;if($[j]!==V[se].toLowerCase())return null;{let ie=null,Y=se+1;for(ie=c($,V,j+1,se+1);!ie&&(Y=n(V,Y))<V.length;)ie=c($,V,j+1,Y),Y++;return ie===null?null:h({start:se,end:se+1},ie)}}function a($){let V=0,j=0,se=0,ie=0,Y=0;for(let Ee=0;Ee<$.length;Ee++)Y=$.charCodeAt(Ee),p(Y)&&V++,f(Y)&&j++,d(Y)&&se++,s(Y)&&ie++;const le=V/$.length,fe=j/$.length,be=se/$.length,we=ie/$.length;return{upperPercent:le,lowerPercent:fe,alphaPercent:be,numericPercent:we}}function l($){const{upperPercent:V,lowerPercent:j}=$;return j===0&&V>.6}function u($){const{upperPercent:V,lowerPercent:j,alphaPercent:se,numericPercent:ie}=$;return j>.2&&V<.8&&se>.6&&ie<.2}function C($){let V=0,j=0,se=0,ie=0;for(let Y=0;Y<$.length;Y++)se=$.charCodeAt(Y),p(se)&&V++,f(se)&&j++,t(se)&&ie++;return(V===0||j===0)&&ie===0?$.length<=30:V<=5}function g($,V){if(!V||(V=V.trim(),V.length===0)||!C($)||V.length>60)return null;const j=a(V);if(!u(j)){if(!l(j))return null;V=V.toLowerCase()}let se=null,ie=0;for($=$.toLowerCase();ie<V.length&&(se=c($,V,0,ie))===null;)ie=n(V,ie+1);return se}e.matchesCamelCase=g;function v($,V,j=!1){if(!V||V.length===0)return null;let se=null,ie=0;for($=$.toLowerCase(),V=V.toLowerCase();ie<V.length&&(se=b($,V,0,ie,j))===null;)ie=w(V,ie+1);return se}e.matchesWords=v;function b($,V,j,se,ie){if(j===$.length)return[];if(se===V.length)return null;if(r($.charCodeAt(j),V.charCodeAt(se))){let Y=null,le=se+1;if(Y=b($,V,j+1,se+1,ie),!ie)for(;!Y&&(le=w(V,le))<V.length;)Y=b($,V,j+1,le,ie),le++;return Y?$.charCodeAt(j)!==V.charCodeAt(se)?Y:h({start:se,end:se+1},Y):null}else return null}function w($,V){for(let j=V;j<$.length;j++)if(o($.charCodeAt(j))||j>0&&o($.charCodeAt(j-1)))return j;return $.length}const E=y(e.matchesPrefix,g,S),I=y(e.matchesPrefix,g,m),T=new L.LRUCache(1e4);function P($,V,j=!1){if(typeof $!="string"||typeof V!="string")return null;let se=T.get($);se||(se=new RegExp(k.convertSimple2RegExpPattern($),"i"),T.set($,se));const ie=se.exec(V);return ie?[{start:ie.index,end:ie.index+ie[0].length}]:j?I($,V):E($,V)}e.matchesFuzzy=P;function A($,V,j,se,ie,Y){const le=Math.min(13,$.length);for(;j<le;j++){const fe=J($,V,j,se,ie,Y,{firstMatchCanBeWeak:!0,boostFullMatch:!0});if(fe)return fe}return[0,Y]}e.anyScore=A;function M($){if(typeof $>"u")return[];const V=[],j=$[1];for(let se=$.length-1;se>1;se--){const ie=$[se]+j,Y=V[V.length-1];Y&&Y.end===ie?Y.end=ie+1:V.push({start:ie,end:ie+1})}return V}e.createMatches=M;const N=128;function R(){const $=[],V=[];for(let j=0;j<=N;j++)V[j]=0;for(let j=0;j<=N;j++)$.push(V.slice(0));return $}function F($){const V=[];for(let j=0;j<=$;j++)V[j]=0;return V}const x=F(2*N),W=F(2*N),z=R(),U=R(),O=R(),G=!1;function Q($,V,j,se,ie){function Y(fe,be,we=" "){for(;fe.length<be;)fe=we+fe;return fe}let le=` |   |${se.split("").map(fe=>Y(fe,3)).join("|")}
`;for(let fe=0;fe<=j;fe++)fe===0?le+=" |":le+=`${V[fe-1]}|`,le+=$[fe].slice(0,ie+1).map(be=>Y(be.toString(),3)).join("|")+`
`;return le}function re($,V,j,se){$=$.substr(V),j=j.substr(se),console.log(Q(U,$,$.length,j,j.length)),console.log(Q(O,$,$.length,j,j.length)),console.log(Q(z,$,$.length,j,j.length))}function oe($,V){if(V<0||V>=$.length)return!1;const j=$.codePointAt(V);switch(j){case 95:case 45:case 46:case 32:case 47:case 92:case 39:case 34:case 58:case 36:case 60:case 62:case 40:case 41:case 91:case 93:case 123:case 125:return!0;case void 0:return!1;default:return!!k.isEmojiImprecise(j)}}function te($,V){if(V<0||V>=$.length)return!1;switch($.charCodeAt(V)){case 32:case 9:return!0;default:return!1}}function H($,V,j){return V[$]!==j[$]}function B($,V,j,se,ie,Y,le=!1){for(;V<j&&ie<Y;)$[V]===se[ie]&&(le&&(x[V]=ie),V+=1),ie+=1;return V===j}e.isPatternInWord=B;var K;(function($){$.Default=[-100,0];function V(j){return!j||j.length===2&&j[0]===-100&&j[1]===0}$.isDefault=V})(K||(e.FuzzyScore=K={}));class Z{constructor(V,j){this.firstMatchCanBeWeak=V,this.boostFullMatch=j}}e.FuzzyScoreOptions=Z,Z.default={boostFullMatch:!0,firstMatchCanBeWeak:!1};function J($,V,j,se,ie,Y,le=Z.default){const fe=$.length>N?N:$.length,be=se.length>N?N:se.length;if(j>=fe||Y>=be||fe-j>be-Y||!B(V,j,fe,ie,Y,be,!0))return;ne(fe,be,j,Y,V,ie);let we=1,Ee=1,Ie=j,ye=Y;const ke=[!1];for(we=1,Ie=j;Ie<fe;we++,Ie++){const Se=x[Ie],ue=W[Ie],Ce=Ie+1<fe?W[Ie+1]:be;for(Ee=Se-Y+1,ye=Se;ye<Ce;Ee++,ye++){let ve=Number.MIN_SAFE_INTEGER,_e=!1;ye<=ue&&(ve=he($,V,Ie,j,se,ie,ye,be,Y,z[we-1][Ee-1]===0,ke));let De=0;ve!==Number.MAX_SAFE_INTEGER&&(_e=!0,De=ve+U[we-1][Ee-1]);const Re=ye>Se,Pe=Re?U[we][Ee-1]+(z[we][Ee-1]>0?-5:0):0,Fe=ye>Se+1&&z[we][Ee-1]>0,We=Fe?U[we][Ee-2]+(z[we][Ee-2]>0?-5:0):0;if(Fe&&(!Re||We>=Pe)&&(!_e||We>=De))U[we][Ee]=We,O[we][Ee]=3,z[we][Ee]=0;else if(Re&&(!_e||Pe>=De))U[we][Ee]=Pe,O[we][Ee]=2,z[we][Ee]=0;else if(_e)U[we][Ee]=De,O[we][Ee]=1,z[we][Ee]=z[we-1][Ee-1]+1;else throw new Error("not possible")}}if(G&&re($,j,se,Y),!ke[0]&&!le.firstMatchCanBeWeak)return;we--,Ee--;const Ae=[U[we][Ee],Y];let Te=0,pe=0;for(;we>=1;){let Se=Ee;do{const ue=O[we][Se];if(ue===3)Se=Se-2;else if(ue===2)Se=Se-1;else break}while(Se>=1);Te>1&&V[j+we-1]===ie[Y+Ee-1]&&!H(Se+Y-1,se,ie)&&Te+1>z[we][Se]&&(Se=Ee),Se===Ee?Te++:Te=1,pe||(pe=Se),we--,Ee=Se-1,Ae.push(Ee)}be===fe&&le.boostFullMatch&&(Ae[0]+=2);const me=pe-fe;return Ae[0]-=me,Ae}e.fuzzyScore=J;function ne($,V,j,se,ie,Y){let le=$-1,fe=V-1;for(;le>=j&&fe>=se;)ie[le]===Y[fe]&&(W[le]=fe,le--),fe--}function he($,V,j,se,ie,Y,le,fe,be,we,Ee){if(V[j]!==Y[le])return Number.MIN_SAFE_INTEGER;let Ie=1,ye=!1;return le===j-se?Ie=$[j]===ie[le]?7:5:H(le,ie,Y)&&(le===0||!H(le-1,ie,Y))?(Ie=$[j]===ie[le]?7:5,ye=!0):oe(Y,le)&&(le===0||!oe(Y,le-1))?Ie=5:(oe(Y,le-1)||te(Y,le-1))&&(Ie=5,ye=!0),Ie>1&&j===se&&(Ee[0]=!0),ye||(ye=H(le,ie,Y)||oe(Y,le-1)||te(Y,le-1)),j===se?le>be&&(Ie-=ye?3:5):we?Ie+=ye?2:0:Ie+=ye?0:1,le+1===fe&&(Ie-=ye?3:5),Ie}function de($,V,j,se,ie,Y,le){return ae($,V,j,se,ie,Y,!0,le)}e.fuzzyScoreGracefulAggressive=de;function ae($,V,j,se,ie,Y,le,fe){let be=J($,V,j,se,ie,Y,fe);if(be&&!le)return be;if($.length>=3){const we=Math.min(7,$.length-1);for(let Ee=j+1;Ee<we;Ee++){const Ie=ce($,Ee);if(Ie){const ye=J(Ie,Ie.toLowerCase(),j,se,ie,Y,fe);ye&&(ye[0]-=3,(!be||ye[0]>be[0])&&(be=ye))}}}return be}function ce($,V){if(V+1>=$.length)return;const j=$[V],se=$[V+1];if(j!==se)return $.slice(0,V)+se+j+$.slice(V+2)}}),define(X[141],ee([1,0,9]),function(q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StringSHA1=e.toHexString=e.stringHash=e.numberHash=e.doHash=e.hash=void 0;function k(r){return y(r,0)}e.hash=k;function y(r,d){switch(typeof r){case"object":return r===null?D(349,d):Array.isArray(r)?_(r,d):f(r,d);case"string":return m(r,d);case"boolean":return S(r,d);case"number":return D(r,d);case"undefined":return D(937,d);default:return D(617,d)}}e.doHash=y;function D(r,d){return(d<<5)-d+r|0}e.numberHash=D;function S(r,d){return D(r?433:863,d)}function m(r,d){d=D(149417,d);for(let h=0,n=r.length;h<n;h++)d=D(r.charCodeAt(h),d);return d}e.stringHash=m;function _(r,d){return d=D(104579,d),r.reduce((h,n)=>y(n,h),d)}function f(r,d){return d=D(181387,d),Object.keys(r).sort().reduce((h,n)=>(h=m(n,h),y(r[n],h)),d)}function p(r,d,h=32){const n=h-d,c=~((1<<n)-1);return(r<<d|(c&r)>>>n)>>>0}function s(r,d=0,h=r.byteLength,n=0){for(let c=0;c<h;c++)r[d+c]=n}function t(r,d,h="0"){for(;r.length<d;)r=h+r;return r}function i(r,d=32){return r instanceof ArrayBuffer?Array.from(new Uint8Array(r)).map(h=>h.toString(16).padStart(2,"0")).join(""):t((r>>>0).toString(16),d/4)}e.toHexString=i;class o{constructor(){this._h0=1732584193,this._h1=4023233417,this._h2=2562383102,this._h3=271733878,this._h4=3285377520,this._buff=new Uint8Array(64+3),this._buffDV=new DataView(this._buff.buffer),this._buffLen=0,this._totalLen=0,this._leftoverHighSurrogate=0,this._finished=!1}update(d){const h=d.length;if(h===0)return;const n=this._buff;let c=this._buffLen,a=this._leftoverHighSurrogate,l,u;for(a!==0?(l=a,u=-1,a=0):(l=d.charCodeAt(0),u=0);;){let C=l;if(L.isHighSurrogate(l))if(u+1<h){const g=d.charCodeAt(u+1);L.isLowSurrogate(g)?(u++,C=L.computeCodePoint(l,g)):C=65533}else{a=l;break}else L.isLowSurrogate(l)&&(C=65533);if(c=this._push(n,c,C),u++,u<h)l=d.charCodeAt(u);else break}this._buffLen=c,this._leftoverHighSurrogate=a}_push(d,h,n){return n<128?d[h++]=n:n<2048?(d[h++]=192|(n&1984)>>>6,d[h++]=128|(n&63)>>>0):n<65536?(d[h++]=224|(n&61440)>>>12,d[h++]=128|(n&4032)>>>6,d[h++]=128|(n&63)>>>0):(d[h++]=240|(n&1835008)>>>18,d[h++]=128|(n&258048)>>>12,d[h++]=128|(n&4032)>>>6,d[h++]=128|(n&63)>>>0),h>=64&&(this._step(),h-=64,this._totalLen+=64,d[0]=d[64+0],d[1]=d[64+1],d[2]=d[64+2]),h}digest(){return this._finished||(this._finished=!0,this._leftoverHighSurrogate&&(this._leftoverHighSurrogate=0,this._buffLen=this._push(this._buff,this._buffLen,65533)),this._totalLen+=this._buffLen,this._wrapUp()),i(this._h0)+i(this._h1)+i(this._h2)+i(this._h3)+i(this._h4)}_wrapUp(){this._buff[this._buffLen++]=128,s(this._buff,this._buffLen),this._buffLen>56&&(this._step(),s(this._buff));const d=8*this._totalLen;this._buffDV.setUint32(56,Math.floor(d/4294967296),!1),this._buffDV.setUint32(60,d%4294967296,!1),this._step()}_step(){const d=o._bigBlock32,h=this._buffDV;for(let b=0;b<64;b+=4)d.setUint32(b,h.getUint32(b,!1),!1);for(let b=64;b<320;b+=4)d.setUint32(b,p(d.getUint32(b-12,!1)^d.getUint32(b-32,!1)^d.getUint32(b-56,!1)^d.getUint32(b-64,!1),1),!1);let n=this._h0,c=this._h1,a=this._h2,l=this._h3,u=this._h4,C,g,v;for(let b=0;b<80;b++)b<20?(C=c&a|~c&l,g=1518500249):b<40?(C=c^a^l,g=1859775393):b<60?(C=c&a|c&l|a&l,g=2400959708):(C=c^a^l,g=3395469782),v=p(n,5)+C+u+g+d.getUint32(b*4,!1)&4294967295,u=l,l=a,a=p(c,30),c=n,n=v;this._h0=this._h0+n&4294967295,this._h1=this._h1+c&4294967295,this._h2=this._h2+a&4294967295,this._h3=this._h3+l&4294967295,this._h4=this._h4+u&4294967295}}e.StringSHA1=o,o._bigBlock32=new DataView(new ArrayBuffer(320))}),define(X[170],ee([1,0,379,141]),function(q,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LcsDiff=e.stringDiff=e.StringDiffSequence=void 0;class y{constructor(s){this.source=s}getElements(){const s=this.source,t=new Int32Array(s.length);for(let i=0,o=s.length;i<o;i++)t[i]=s.charCodeAt(i);return t}}e.StringDiffSequence=y;function D(p,s,t){return new f(new y(p),new y(s)).ComputeDiff(t).changes}e.stringDiff=D;class S{static Assert(s,t){if(!s)throw new Error(t)}}class m{static Copy(s,t,i,o,r){for(let d=0;d<r;d++)i[o+d]=s[t+d]}static Copy2(s,t,i,o,r){for(let d=0;d<r;d++)i[o+d]=s[t+d]}}class _{constructor(){this.m_changes=[],this.m_originalStart=1073741824,this.m_modifiedStart=1073741824,this.m_originalCount=0,this.m_modifiedCount=0}MarkNextChange(){(this.m_originalCount>0||this.m_modifiedCount>0)&&this.m_changes.push(new L.DiffChange(this.m_originalStart,this.m_originalCount,this.m_modifiedStart,this.m_modifiedCount)),this.m_originalCount=0,this.m_modifiedCount=0,this.m_originalStart=1073741824,this.m_modifiedStart=1073741824}AddOriginalElement(s,t){this.m_originalStart=Math.min(this.m_originalStart,s),this.m_modifiedStart=Math.min(this.m_modifiedStart,t),this.m_originalCount++}AddModifiedElement(s,t){this.m_originalStart=Math.min(this.m_originalStart,s),this.m_modifiedStart=Math.min(this.m_modifiedStart,t),this.m_modifiedCount++}getChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes}getReverseChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes.reverse(),this.m_changes}}class f{constructor(s,t,i=null){this.ContinueProcessingPredicate=i,this._originalSequence=s,this._modifiedSequence=t;const[o,r,d]=f._getElements(s),[h,n,c]=f._getElements(t);this._hasStrings=d&&c,this._originalStringElements=o,this._originalElementsOrHash=r,this._modifiedStringElements=h,this._modifiedElementsOrHash=n,this.m_forwardHistory=[],this.m_reverseHistory=[]}static _isStringArray(s){return s.length>0&&typeof s[0]=="string"}static _getElements(s){const t=s.getElements();if(f._isStringArray(t)){const i=new Int32Array(t.length);for(let o=0,r=t.length;o<r;o++)i[o]=(0,k.stringHash)(t[o],0);return[t,i,!0]}return t instanceof Int32Array?[[],t,!1]:[[],new Int32Array(t),!1]}ElementsAreEqual(s,t){return this._originalElementsOrHash[s]!==this._modifiedElementsOrHash[t]?!1:this._hasStrings?this._originalStringElements[s]===this._modifiedStringElements[t]:!0}ElementsAreStrictEqual(s,t){if(!this.ElementsAreEqual(s,t))return!1;const i=f._getStrictElement(this._originalSequence,s),o=f._getStrictElement(this._modifiedSequence,t);return i===o}static _getStrictElement(s,t){return typeof s.getStrictElement=="function"?s.getStrictElement(t):null}OriginalElementsAreEqual(s,t){return this._originalElementsOrHash[s]!==this._originalElementsOrHash[t]?!1:this._hasStrings?this._originalStringElements[s]===this._originalStringElements[t]:!0}ModifiedElementsAreEqual(s,t){return this._modifiedElementsOrHash[s]!==this._modifiedElementsOrHash[t]?!1:this._hasStrings?this._modifiedStringElements[s]===this._modifiedStringElements[t]:!0}ComputeDiff(s){return this._ComputeDiff(0,this._originalElementsOrHash.length-1,0,this._modifiedElementsOrHash.length-1,s)}_ComputeDiff(s,t,i,o,r){const d=[!1];let h=this.ComputeDiffRecursive(s,t,i,o,d);return r&&(h=this.PrettifyChanges(h)),{quitEarly:d[0],changes:h}}ComputeDiffRecursive(s,t,i,o,r){for(r[0]=!1;s<=t&&i<=o&&this.ElementsAreEqual(s,i);)s++,i++;for(;t>=s&&o>=i&&this.ElementsAreEqual(t,o);)t--,o--;if(s>t||i>o){let l;return i<=o?(S.Assert(s===t+1,"originalStart should only be one more than originalEnd"),l=[new L.DiffChange(s,0,i,o-i+1)]):s<=t?(S.Assert(i===o+1,"modifiedStart should only be one more than modifiedEnd"),l=[new L.DiffChange(s,t-s+1,i,0)]):(S.Assert(s===t+1,"originalStart should only be one more than originalEnd"),S.Assert(i===o+1,"modifiedStart should only be one more than modifiedEnd"),l=[]),l}const d=[0],h=[0],n=this.ComputeRecursionPoint(s,t,i,o,d,h,r),c=d[0],a=h[0];if(n!==null)return n;if(!r[0]){const l=this.ComputeDiffRecursive(s,c,i,a,r);let u=[];return r[0]?u=[new L.DiffChange(c+1,t-(c+1)+1,a+1,o-(a+1)+1)]:u=this.ComputeDiffRecursive(c+1,t,a+1,o,r),this.ConcatenateChanges(l,u)}return[new L.DiffChange(s,t-s+1,i,o-i+1)]}WALKTRACE(s,t,i,o,r,d,h,n,c,a,l,u,C,g,v,b,w,E){let I=null,T=null,P=new _,A=t,M=i,N=C[0]-b[0]-o,R=-1073741824,F=this.m_forwardHistory.length-1;do{const x=N+s;x===A||x<M&&c[x-1]<c[x+1]?(l=c[x+1],g=l-N-o,l<R&&P.MarkNextChange(),R=l,P.AddModifiedElement(l+1,g),N=x+1-s):(l=c[x-1]+1,g=l-N-o,l<R&&P.MarkNextChange(),R=l-1,P.AddOriginalElement(l,g+1),N=x-1-s),F>=0&&(c=this.m_forwardHistory[F],s=c[0],A=1,M=c.length-1)}while(--F>=-1);if(I=P.getReverseChanges(),E[0]){let x=C[0]+1,W=b[0]+1;if(I!==null&&I.length>0){const z=I[I.length-1];x=Math.max(x,z.getOriginalEnd()),W=Math.max(W,z.getModifiedEnd())}T=[new L.DiffChange(x,u-x+1,W,v-W+1)]}else{P=new _,A=d,M=h,N=C[0]-b[0]-n,R=1073741824,F=w?this.m_reverseHistory.length-1:this.m_reverseHistory.length-2;do{const x=N+r;x===A||x<M&&a[x-1]>=a[x+1]?(l=a[x+1]-1,g=l-N-n,l>R&&P.MarkNextChange(),R=l+1,P.AddOriginalElement(l+1,g+1),N=x+1-r):(l=a[x-1],g=l-N-n,l>R&&P.MarkNextChange(),R=l,P.AddModifiedElement(l+1,g+1),N=x-1-r),F>=0&&(a=this.m_reverseHistory[F],r=a[0],A=1,M=a.length-1)}while(--F>=-1);T=P.getChanges()}return this.ConcatenateChanges(I,T)}ComputeRecursionPoint(s,t,i,o,r,d,h){let n=0,c=0,a=0,l=0,u=0,C=0;s--,i--,r[0]=0,d[0]=0,this.m_forwardHistory=[],this.m_reverseHistory=[];const g=t-s+(o-i),v=g+1,b=new Int32Array(v),w=new Int32Array(v),E=o-i,I=t-s,T=s-i,P=t-o,M=(I-E)%2===0;b[E]=s,w[I]=t,h[0]=!1;for(let N=1;N<=g/2+1;N++){let R=0,F=0;a=this.ClipDiagonalBound(E-N,N,E,v),l=this.ClipDiagonalBound(E+N,N,E,v);for(let W=a;W<=l;W+=2){W===a||W<l&&b[W-1]<b[W+1]?n=b[W+1]:n=b[W-1]+1,c=n-(W-E)-T;const z=n;for(;n<t&&c<o&&this.ElementsAreEqual(n+1,c+1);)n++,c++;if(b[W]=n,n+c>R+F&&(R=n,F=c),!M&&Math.abs(W-I)<=N-1&&n>=w[W])return r[0]=n,d[0]=c,z<=w[W]&&1447>0&&N<=1447+1?this.WALKTRACE(E,a,l,T,I,u,C,P,b,w,n,t,r,c,o,d,M,h):null}const x=(R-s+(F-i)-N)/2;if(this.ContinueProcessingPredicate!==null&&!this.ContinueProcessingPredicate(R,x))return h[0]=!0,r[0]=R,d[0]=F,x>0&&1447>0&&N<=1447+1?this.WALKTRACE(E,a,l,T,I,u,C,P,b,w,n,t,r,c,o,d,M,h):(s++,i++,[new L.DiffChange(s,t-s+1,i,o-i+1)]);u=this.ClipDiagonalBound(I-N,N,I,v),C=this.ClipDiagonalBound(I+N,N,I,v);for(let W=u;W<=C;W+=2){W===u||W<C&&w[W-1]>=w[W+1]?n=w[W+1]-1:n=w[W-1],c=n-(W-I)-P;const z=n;for(;n>s&&c>i&&this.ElementsAreEqual(n,c);)n--,c--;if(w[W]=n,M&&Math.abs(W-E)<=N&&n<=b[W])return r[0]=n,d[0]=c,z>=b[W]&&1447>0&&N<=1447+1?this.WALKTRACE(E,a,l,T,I,u,C,P,b,w,n,t,r,c,o,d,M,h):null}if(N<=1447){let W=new Int32Array(l-a+2);W[0]=E-a+1,m.Copy2(b,a,W,1,l-a+1),this.m_forwardHistory.push(W),W=new Int32Array(C-u+2),W[0]=I-u+1,m.Copy2(w,u,W,1,C-u+1),this.m_reverseHistory.push(W)}}return this.WALKTRACE(E,a,l,T,I,u,C,P,b,w,n,t,r,c,o,d,M,h)}PrettifyChanges(s){for(let t=0;t<s.length;t++){const i=s[t],o=t<s.length-1?s[t+1].originalStart:this._originalElementsOrHash.length,r=t<s.length-1?s[t+1].modifiedStart:this._modifiedElementsOrHash.length,d=i.originalLength>0,h=i.modifiedLength>0;for(;i.originalStart+i.originalLength<o&&i.modifiedStart+i.modifiedLength<r&&(!d||this.OriginalElementsAreEqual(i.originalStart,i.originalStart+i.originalLength))&&(!h||this.ModifiedElementsAreEqual(i.modifiedStart,i.modifiedStart+i.modifiedLength));){const c=this.ElementsAreStrictEqual(i.originalStart,i.modifiedStart);if(this.ElementsAreStrictEqual(i.originalStart+i.originalLength,i.modifiedStart+i.modifiedLength)&&!c)break;i.originalStart++,i.modifiedStart++}const n=[null];if(t<s.length-1&&this.ChangesOverlap(s[t],s[t+1],n)){s[t]=n[0],s.splice(t+1,1),t--;continue}}for(let t=s.length-1;t>=0;t--){const i=s[t];let o=0,r=0;if(t>0){const l=s[t-1];o=l.originalStart+l.originalLength,r=l.modifiedStart+l.modifiedLength}const d=i.originalLength>0,h=i.modifiedLength>0;let n=0,c=this._boundaryScore(i.originalStart,i.originalLength,i.modifiedStart,i.modifiedLength);for(let l=1;;l++){const u=i.originalStart-l,C=i.modifiedStart-l;if(u<o||C<r||d&&!this.OriginalElementsAreEqual(u,u+i.originalLength)||h&&!this.ModifiedElementsAreEqual(C,C+i.modifiedLength))break;const v=(u===o&&C===r?5:0)+this._boundaryScore(u,i.originalLength,C,i.modifiedLength);v>c&&(c=v,n=l)}i.originalStart-=n,i.modifiedStart-=n;const a=[null];if(t>0&&this.ChangesOverlap(s[t-1],s[t],a)){s[t-1]=a[0],s.splice(t,1),t++;continue}}if(this._hasStrings)for(let t=1,i=s.length;t<i;t++){const o=s[t-1],r=s[t],d=r.originalStart-o.originalStart-o.originalLength,h=o.originalStart,n=r.originalStart+r.originalLength,c=n-h,a=o.modifiedStart,l=r.modifiedStart+r.modifiedLength,u=l-a;if(d<5&&c<20&&u<20){const C=this._findBetterContiguousSequence(h,c,a,u,d);if(C){const[g,v]=C;(g!==o.originalStart+o.originalLength||v!==o.modifiedStart+o.modifiedLength)&&(o.originalLength=g-o.originalStart,o.modifiedLength=v-o.modifiedStart,r.originalStart=g+d,r.modifiedStart=v+d,r.originalLength=n-r.originalStart,r.modifiedLength=l-r.modifiedStart)}}}return s}_findBetterContiguousSequence(s,t,i,o,r){if(t<r||o<r)return null;const d=s+t-r+1,h=i+o-r+1;let n=0,c=0,a=0;for(let l=s;l<d;l++)for(let u=i;u<h;u++){const C=this._contiguousSequenceScore(l,u,r);C>0&&C>n&&(n=C,c=l,a=u)}return n>0?[c,a]:null}_contiguousSequenceScore(s,t,i){let o=0;for(let r=0;r<i;r++){if(!this.ElementsAreEqual(s+r,t+r))return 0;o+=this._originalStringElements[s+r].length}return o}_OriginalIsBoundary(s){return s<=0||s>=this._originalElementsOrHash.length-1?!0:this._hasStrings&&/^\s*$/.test(this._originalStringElements[s])}_OriginalRegionIsBoundary(s,t){if(this._OriginalIsBoundary(s)||this._OriginalIsBoundary(s-1))return!0;if(t>0){const i=s+t;if(this._OriginalIsBoundary(i-1)||this._OriginalIsBoundary(i))return!0}return!1}_ModifiedIsBoundary(s){return s<=0||s>=this._modifiedElementsOrHash.length-1?!0:this._hasStrings&&/^\s*$/.test(this._modifiedStringElements[s])}_ModifiedRegionIsBoundary(s,t){if(this._ModifiedIsBoundary(s)||this._ModifiedIsBoundary(s-1))return!0;if(t>0){const i=s+t;if(this._ModifiedIsBoundary(i-1)||this._ModifiedIsBoundary(i))return!0}return!1}_boundaryScore(s,t,i,o){const r=this._OriginalRegionIsBoundary(s,t)?1:0,d=this._ModifiedRegionIsBoundary(i,o)?1:0;return r+d}ConcatenateChanges(s,t){const i=[];if(s.length===0||t.length===0)return t.length>0?t:s;if(this.ChangesOverlap(s[s.length-1],t[0],i)){const o=new Array(s.length+t.length-1);return m.Copy(s,0,o,0,s.length-1),o[s.length-1]=i[0],m.Copy(t,1,o,s.length,t.length-1),o}else{const o=new Array(s.length+t.length);return m.Copy(s,0,o,0,s.length),m.Copy(t,0,o,s.length,t.length),o}}ChangesOverlap(s,t,i){if(S.Assert(s.originalStart<=t.originalStart,"Left change is not less than or equal to right change"),S.Assert(s.modifiedStart<=t.modifiedStart,"Left change is not less than or equal to right change"),s.originalStart+s.originalLength>=t.originalStart||s.modifiedStart+s.modifiedLength>=t.modifiedStart){const o=s.originalStart;let r=s.originalLength;const d=s.modifiedStart;let h=s.modifiedLength;return s.originalStart+s.originalLength>=t.originalStart&&(r=t.originalStart+t.originalLength-s.originalStart),s.modifiedStart+s.modifiedLength>=t.modifiedStart&&(h=t.modifiedStart+t.modifiedLength-s.modifiedStart),i[0]=new L.DiffChange(o,r,d,h),!0}else return i[0]=null,!1}ClipDiagonalBound(s,t,i,o){if(s>=0&&s<o)return s;const r=i,d=o-i-1,h=t%2===0;if(s<0){const n=r%2===0;return h===n?0:1}else{const n=d%2===0;return h===n?o-1:o-2}}}e.LcsDiff=f}),define(X[387],ee([1,0,9]),function(q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.buildReplaceStringWithCasePreserved=void 0;function k(S,m){if(S&&S[0]!==""){const _=y(S,m,"-"),f=y(S,m,"_");return _&&!f?D(S,m,"-"):!_&&f?D(S,m,"_"):S[0].toUpperCase()===S[0]?m.toUpperCase():S[0].toLowerCase()===S[0]?m.toLowerCase():L.containsUppercaseCharacter(S[0][0])&&m.length>0?m[0].toUpperCase()+m.substr(1):S[0][0].toUpperCase()!==S[0][0]&&m.length>0?m[0].toLowerCase()+m.substr(1):m}else return m}e.buildReplaceStringWithCasePreserved=k;function y(S,m,_){return S[0].indexOf(_)!==-1&&m.indexOf(_)!==-1&&S[0].split(_).length===m.split(_).length}function D(S,m,_){const f=m.split(_),p=S[0].split(_);let s="";return f.forEach((t,i)=>{s+=k([p[i]],t)+_}),s.slice(0,-1)}}),define(X[107],ee([1,0,9]),function(q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var k;(function(y){y[y.Ignore=0]="Ignore",y[y.Info=1]="Info",y[y.Warning=2]="Warning",y[y.Error=3]="Error"})(k||(k={})),function(y){const D="error",S="warning",m="warn",_="info",f="ignore";function p(t){return t?L.equalsIgnoreCase(D,t)?y.Error:L.equalsIgnoreCase(S,t)||L.equalsIgnoreCase(m,t)?y.Warning:L.equalsIgnoreCase(_,t)?y.Info:y.Ignore:y.Ignore}y.fromValue=p;function s(t){switch(t){case y.Error:return D;case y.Warning:return S;case y.Info:return _;default:return f}}y.toString=s}(k||(k={})),e.default=k}),define(X[262],ee([1,0]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MicrotaskDelay=void 0,e.MicrotaskDelay=Symbol("MicrotaskDelay")}),define(X[197],ee([1,0,9]),function(q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TernarySearchTree=e.UriIterator=e.PathIterator=e.ConfigKeysIterator=e.StringIterator=void 0;class k{constructor(){this._value="",this._pos=0}reset(p){return this._value=p,this._pos=0,this}next(){return this._pos+=1,this}hasNext(){return this._pos<this._value.length-1}cmp(p){const s=p.charCodeAt(0),t=this._value.charCodeAt(this._pos);return s-t}value(){return this._value[this._pos]}}e.StringIterator=k;class y{constructor(p=!0){this._caseSensitive=p}reset(p){return this._value=p,this._from=0,this._to=0,this.next()}hasNext(){return this._to<this._value.length}next(){this._from=this._to;let p=!0;for(;this._to<this._value.length;this._to++)if(this._value.charCodeAt(this._to)===46)if(p)this._from++;else break;else p=!1;return this}cmp(p){return this._caseSensitive?(0,L.compareSubstring)(p,this._value,0,p.length,this._from,this._to):(0,L.compareSubstringIgnoreCase)(p,this._value,0,p.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}e.ConfigKeysIterator=y;class D{constructor(p=!0,s=!0){this._splitOnBackslash=p,this._caseSensitive=s}reset(p){this._from=0,this._to=0,this._value=p,this._valueLen=p.length;for(let s=p.length-1;s>=0;s--,this._valueLen--){const t=this._value.charCodeAt(s);if(!(t===47||this._splitOnBackslash&&t===92))break}return this.next()}hasNext(){return this._to<this._valueLen}next(){this._from=this._to;let p=!0;for(;this._to<this._valueLen;this._to++){const s=this._value.charCodeAt(this._to);if(s===47||this._splitOnBackslash&&s===92)if(p)this._from++;else break;else p=!1}return this}cmp(p){return this._caseSensitive?(0,L.compareSubstring)(p,this._value,0,p.length,this._from,this._to):(0,L.compareSubstringIgnoreCase)(p,this._value,0,p.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}e.PathIterator=D;class S{constructor(p,s){this._ignorePathCasing=p,this._ignoreQueryAndFragment=s,this._states=[],this._stateIdx=0}reset(p){return this._value=p,this._states=[],this._value.scheme&&this._states.push(1),this._value.authority&&this._states.push(2),this._value.path&&(this._pathIterator=new D(!1,!this._ignorePathCasing(p)),this._pathIterator.reset(p.path),this._pathIterator.value()&&this._states.push(3)),this._ignoreQueryAndFragment(p)||(this._value.query&&this._states.push(4),this._value.fragment&&this._states.push(5)),this._stateIdx=0,this}next(){return this._states[this._stateIdx]===3&&this._pathIterator.hasNext()?this._pathIterator.next():this._stateIdx+=1,this}hasNext(){return this._states[this._stateIdx]===3&&this._pathIterator.hasNext()||this._stateIdx<this._states.length-1}cmp(p){if(this._states[this._stateIdx]===1)return(0,L.compareIgnoreCase)(p,this._value.scheme);if(this._states[this._stateIdx]===2)return(0,L.compareIgnoreCase)(p,this._value.authority);if(this._states[this._stateIdx]===3)return this._pathIterator.cmp(p);if(this._states[this._stateIdx]===4)return(0,L.compare)(p,this._value.query);if(this._states[this._stateIdx]===5)return(0,L.compare)(p,this._value.fragment);throw new Error}value(){if(this._states[this._stateIdx]===1)return this._value.scheme;if(this._states[this._stateIdx]===2)return this._value.authority;if(this._states[this._stateIdx]===3)return this._pathIterator.value();if(this._states[this._stateIdx]===4)return this._value.query;if(this._states[this._stateIdx]===5)return this._value.fragment;throw new Error}}e.UriIterator=S;class m{constructor(){this.height=1}rotateLeft(){const p=this.right;return this.right=p.left,p.left=this,this.updateHeight(),p.updateHeight(),p}rotateRight(){const p=this.left;return this.left=p.right,p.right=this,this.updateHeight(),p.updateHeight(),p}updateHeight(){this.height=1+Math.max(this.heightLeft,this.heightRight)}balanceFactor(){return this.heightRight-this.heightLeft}get heightLeft(){var p,s;return(s=(p=this.left)===null||p===void 0?void 0:p.height)!==null&&s!==void 0?s:0}get heightRight(){var p,s;return(s=(p=this.right)===null||p===void 0?void 0:p.height)!==null&&s!==void 0?s:0}}class _{static forUris(p=()=>!1,s=()=>!1){return new _(new S(p,s))}static forStrings(){return new _(new k)}static forConfigKeys(){return new _(new y)}constructor(p){this._iter=p}clear(){this._root=void 0}set(p,s){const t=this._iter.reset(p);let i;this._root||(this._root=new m,this._root.segment=t.value());const o=[];for(i=this._root;;){const d=t.cmp(i.segment);if(d>0)i.left||(i.left=new m,i.left.segment=t.value()),o.push([-1,i]),i=i.left;else if(d<0)i.right||(i.right=new m,i.right.segment=t.value()),o.push([1,i]),i=i.right;else if(t.hasNext())t.next(),i.mid||(i.mid=new m,i.mid.segment=t.value()),o.push([0,i]),i=i.mid;else break}const r=i.value;i.value=s,i.key=p;for(let d=o.length-1;d>=0;d--){const h=o[d][1];h.updateHeight();const n=h.balanceFactor();if(n<-1||n>1){const c=o[d][0],a=o[d+1][0];if(c===1&&a===1)o[d][1]=h.rotateLeft();else if(c===-1&&a===-1)o[d][1]=h.rotateRight();else if(c===1&&a===-1)h.right=o[d+1][1]=o[d+1][1].rotateRight(),o[d][1]=h.rotateLeft();else if(c===-1&&a===1)h.left=o[d+1][1]=o[d+1][1].rotateLeft(),o[d][1]=h.rotateRight();else throw new Error;if(d>0)switch(o[d-1][0]){case-1:o[d-1][1].left=o[d][1];break;case 1:o[d-1][1].right=o[d][1];break;case 0:o[d-1][1].mid=o[d][1];break}else this._root=o[0][1]}}return r}get(p){var s;return(s=this._getNode(p))===null||s===void 0?void 0:s.value}_getNode(p){const s=this._iter.reset(p);let t=this._root;for(;t;){const i=s.cmp(t.segment);if(i>0)t=t.left;else if(i<0)t=t.right;else if(s.hasNext())s.next(),t=t.mid;else break}return t}has(p){const s=this._getNode(p);return!(s?.value===void 0&&s?.mid===void 0)}delete(p){return this._delete(p,!1)}deleteSuperstr(p){return this._delete(p,!0)}_delete(p,s){var t;const i=this._iter.reset(p),o=[];let r=this._root;for(;r;){const d=i.cmp(r.segment);if(d>0)o.push([-1,r]),r=r.left;else if(d<0)o.push([1,r]),r=r.right;else if(i.hasNext())i.next(),o.push([0,r]),r=r.mid;else break}if(r){if(s?(r.left=void 0,r.mid=void 0,r.right=void 0,r.height=1):(r.key=void 0,r.value=void 0),!r.mid&&!r.value)if(r.left&&r.right){const d=this._min(r.right);if(d.key){const{key:h,value:n,segment:c}=d;this._delete(d.key,!1),r.key=h,r.value=n,r.segment=c}}else{const d=(t=r.left)!==null&&t!==void 0?t:r.right;if(o.length>0){const[h,n]=o[o.length-1];switch(h){case-1:n.left=d;break;case 0:n.mid=d;break;case 1:n.right=d;break}}else this._root=d}for(let d=o.length-1;d>=0;d--){const h=o[d][1];h.updateHeight();const n=h.balanceFactor();if(n>1?(h.right.balanceFactor()>=0||(h.right=h.right.rotateRight()),o[d][1]=h.rotateLeft()):n<-1&&(h.left.balanceFactor()<=0||(h.left=h.left.rotateLeft()),o[d][1]=h.rotateRight()),d>0)switch(o[d-1][0]){case-1:o[d-1][1].left=o[d][1];break;case 1:o[d-1][1].right=o[d][1];break;case 0:o[d-1][1].mid=o[d][1];break}else this._root=o[0][1]}}}_min(p){for(;p.left;)p=p.left;return p}findSubstr(p){const s=this._iter.reset(p);let t=this._root,i;for(;t;){const o=s.cmp(t.segment);if(o>0)t=t.left;else if(o<0)t=t.right;else if(s.hasNext())s.next(),i=t.value||i,t=t.mid;else break}return t&&t.value||i}findSuperstr(p){return this._findSuperstrOrElement(p,!1)}_findSuperstrOrElement(p,s){const t=this._iter.reset(p);let i=this._root;for(;i;){const o=t.cmp(i.segment);if(o>0)i=i.left;else if(o<0)i=i.right;else if(t.hasNext())t.next(),i=i.mid;else return i.mid?this._entries(i.mid):s?i.value:void 0}}forEach(p){for(const[s,t]of this)p(t,s)}*[Symbol.iterator](){yield*this._entries(this._root)}_entries(p){const s=[];return this._dfsEntries(p,s),s[Symbol.iterator]()}_dfsEntries(p,s){p&&(p.left&&this._dfsEntries(p.left,s),p.value&&s.push([p.key,p.value]),p.mid&&this._dfsEntries(p.mid,s),p.right&&this._dfsEntries(p.right,s))}}e.TernarySearchTree=_}),define(X[18],ee([1,0]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.withUndefinedAsNull=e.withNullAsUndefined=e.validateConstraint=e.validateConstraints=e.isFunction=e.assertIsDefined=e.assertType=e.isUndefinedOrNull=e.isDefined=e.isUndefined=e.isBoolean=e.isIterable=e.isNumber=e.isTypedArray=e.isObject=e.isString=void 0;function L(n){return typeof n=="string"}e.isString=L;function k(n){return typeof n=="object"&&n!==null&&!Array.isArray(n)&&!(n instanceof RegExp)&&!(n instanceof Date)}e.isObject=k;function y(n){const c=Object.getPrototypeOf(Uint8Array);return typeof n=="object"&&n instanceof c}e.isTypedArray=y;function D(n){return typeof n=="number"&&!isNaN(n)}e.isNumber=D;function S(n){return!!n&&typeof n[Symbol.iterator]=="function"}e.isIterable=S;function m(n){return n===!0||n===!1}e.isBoolean=m;function _(n){return typeof n>"u"}e.isUndefined=_;function f(n){return!p(n)}e.isDefined=f;function p(n){return _(n)||n===null}e.isUndefinedOrNull=p;function s(n,c){if(!n)throw new Error(c?`Unexpected type, expected '${c}'`:"Unexpected type")}e.assertType=s;function t(n){if(p(n))throw new Error("Assertion Failed: argument is undefined or null");return n}e.assertIsDefined=t;function i(n){return typeof n=="function"}e.isFunction=i;function o(n,c){const a=Math.min(n.length,c.length);for(let l=0;l<a;l++)r(n[l],c[l])}e.validateConstraints=o;function r(n,c){if(L(c)){if(typeof n!==c)throw new Error(`argument does not match constraint: typeof ${c}`)}else if(i(c)){try{if(n instanceof c)return}catch{}if(!p(n)&&n.constructor===c||c.length===1&&c.call(void 0,n)===!0)return;throw new Error("argument does not match one of these constraints: arg instanceof constraint, arg.constructor === constraint, nor constraint(arg) === true")}}e.validateConstraint=r;function d(n){return n===null?void 0:n}e.withNullAsUndefined=d;function h(n){return typeof n>"u"?null:n}e.withUndefinedAsNull=h}),define(X[25],ee([1,0,18]),function(q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Codicon=e.getCodiconFontCharacters=void 0;const k=Object.create(null);function y(S,m){if((0,L.isString)(m)){const _=k[m];if(_===void 0)throw new Error(`${S} references an unknown codicon: ${m}`);m=_}return k[S]=m,{id:S}}function D(){return k}e.getCodiconFontCharacters=D,e.Codicon={add:y("add",6e4),plus:y("plus",6e4),gistNew:y("gist-new",6e4),repoCreate:y("repo-create",6e4),lightbulb:y("lightbulb",60001),lightBulb:y("light-bulb",60001),repo:y("repo",60002),repoDelete:y("repo-delete",60002),gistFork:y("gist-fork",60003),repoForked:y("repo-forked",60003),gitPullRequest:y("git-pull-request",60004),gitPullRequestAbandoned:y("git-pull-request-abandoned",60004),recordKeys:y("record-keys",60005),keyboard:y("keyboard",60005),tag:y("tag",60006),tagAdd:y("tag-add",60006),tagRemove:y("tag-remove",60006),person:y("person",60007),personFollow:y("person-follow",60007),personOutline:y("person-outline",60007),personFilled:y("person-filled",60007),gitBranch:y("git-branch",60008),gitBranchCreate:y("git-branch-create",60008),gitBranchDelete:y("git-branch-delete",60008),sourceControl:y("source-control",60008),mirror:y("mirror",60009),mirrorPublic:y("mirror-public",60009),star:y("star",60010),starAdd:y("star-add",60010),starDelete:y("star-delete",60010),starEmpty:y("star-empty",60010),comment:y("comment",60011),commentAdd:y("comment-add",60011),alert:y("alert",60012),warning:y("warning",60012),search:y("search",60013),searchSave:y("search-save",60013),logOut:y("log-out",60014),signOut:y("sign-out",60014),logIn:y("log-in",60015),signIn:y("sign-in",60015),eye:y("eye",60016),eyeUnwatch:y("eye-unwatch",60016),eyeWatch:y("eye-watch",60016),circleFilled:y("circle-filled",60017),primitiveDot:y("primitive-dot",60017),closeDirty:y("close-dirty",60017),debugBreakpoint:y("debug-breakpoint",60017),debugBreakpointDisabled:y("debug-breakpoint-disabled",60017),debugHint:y("debug-hint",60017),primitiveSquare:y("primitive-square",60018),edit:y("edit",60019),pencil:y("pencil",60019),info:y("info",60020),issueOpened:y("issue-opened",60020),gistPrivate:y("gist-private",60021),gitForkPrivate:y("git-fork-private",60021),lock:y("lock",60021),mirrorPrivate:y("mirror-private",60021),close:y("close",60022),removeClose:y("remove-close",60022),x:y("x",60022),repoSync:y("repo-sync",60023),sync:y("sync",60023),clone:y("clone",60024),desktopDownload:y("desktop-download",60024),beaker:y("beaker",60025),microscope:y("microscope",60025),vm:y("vm",60026),deviceDesktop:y("device-desktop",60026),file:y("file",60027),fileText:y("file-text",60027),more:y("more",60028),ellipsis:y("ellipsis",60028),kebabHorizontal:y("kebab-horizontal",60028),mailReply:y("mail-reply",60029),reply:y("reply",60029),organization:y("organization",60030),organizationFilled:y("organization-filled",60030),organizationOutline:y("organization-outline",60030),newFile:y("new-file",60031),fileAdd:y("file-add",60031),newFolder:y("new-folder",60032),fileDirectoryCreate:y("file-directory-create",60032),trash:y("trash",60033),trashcan:y("trashcan",60033),history:y("history",60034),clock:y("clock",60034),folder:y("folder",60035),fileDirectory:y("file-directory",60035),symbolFolder:y("symbol-folder",60035),logoGithub:y("logo-github",60036),markGithub:y("mark-github",60036),github:y("github",60036),terminal:y("terminal",60037),console:y("console",60037),repl:y("repl",60037),zap:y("zap",60038),symbolEvent:y("symbol-event",60038),error:y("error",60039),stop:y("stop",60039),variable:y("variable",60040),symbolVariable:y("symbol-variable",60040),array:y("array",60042),symbolArray:y("symbol-array",60042),symbolModule:y("symbol-module",60043),symbolPackage:y("symbol-package",60043),symbolNamespace:y("symbol-namespace",60043),symbolObject:y("symbol-object",60043),symbolMethod:y("symbol-method",60044),symbolFunction:y("symbol-function",60044),symbolConstructor:y("symbol-constructor",60044),symbolBoolean:y("symbol-boolean",60047),symbolNull:y("symbol-null",60047),symbolNumeric:y("symbol-numeric",60048),symbolNumber:y("symbol-number",60048),symbolStructure:y("symbol-structure",60049),symbolStruct:y("symbol-struct",60049),symbolParameter:y("symbol-parameter",60050),symbolTypeParameter:y("symbol-type-parameter",60050),symbolKey:y("symbol-key",60051),symbolText:y("symbol-text",60051),symbolReference:y("symbol-reference",60052),goToFile:y("go-to-file",60052),symbolEnum:y("symbol-enum",60053),symbolValue:y("symbol-value",60053),symbolRuler:y("symbol-ruler",60054),symbolUnit:y("symbol-unit",60054),activateBreakpoints:y("activate-breakpoints",60055),archive:y("archive",60056),arrowBoth:y("arrow-both",60057),arrowDown:y("arrow-down",60058),arrowLeft:y("arrow-left",60059),arrowRight:y("arrow-right",60060),arrowSmallDown:y("arrow-small-down",60061),arrowSmallLeft:y("arrow-small-left",60062),arrowSmallRight:y("arrow-small-right",60063),arrowSmallUp:y("arrow-small-up",60064),arrowUp:y("arrow-up",60065),bell:y("bell",60066),bold:y("bold",60067),book:y("book",60068),bookmark:y("bookmark",60069),debugBreakpointConditionalUnverified:y("debug-breakpoint-conditional-unverified",60070),debugBreakpointConditional:y("debug-breakpoint-conditional",60071),debugBreakpointConditionalDisabled:y("debug-breakpoint-conditional-disabled",60071),debugBreakpointDataUnverified:y("debug-breakpoint-data-unverified",60072),debugBreakpointData:y("debug-breakpoint-data",60073),debugBreakpointDataDisabled:y("debug-breakpoint-data-disabled",60073),debugBreakpointLogUnverified:y("debug-breakpoint-log-unverified",60074),debugBreakpointLog:y("debug-breakpoint-log",60075),debugBreakpointLogDisabled:y("debug-breakpoint-log-disabled",60075),briefcase:y("briefcase",60076),broadcast:y("broadcast",60077),browser:y("browser",60078),bug:y("bug",60079),calendar:y("calendar",60080),caseSensitive:y("case-sensitive",60081),check:y("check",60082),checklist:y("checklist",60083),chevronDown:y("chevron-down",60084),dropDownButton:y("drop-down-button",60084),chevronLeft:y("chevron-left",60085),chevronRight:y("chevron-right",60086),chevronUp:y("chevron-up",60087),chromeClose:y("chrome-close",60088),chromeMaximize:y("chrome-maximize",60089),chromeMinimize:y("chrome-minimize",60090),chromeRestore:y("chrome-restore",60091),circle:y("circle",60092),circleOutline:y("circle-outline",60092),debugBreakpointUnverified:y("debug-breakpoint-unverified",60092),circleSlash:y("circle-slash",60093),circuitBoard:y("circuit-board",60094),clearAll:y("clear-all",60095),clippy:y("clippy",60096),closeAll:y("close-all",60097),cloudDownload:y("cloud-download",60098),cloudUpload:y("cloud-upload",60099),code:y("code",60100),collapseAll:y("collapse-all",60101),colorMode:y("color-mode",60102),commentDiscussion:y("comment-discussion",60103),compareChanges:y("compare-changes",60157),creditCard:y("credit-card",60105),dash:y("dash",60108),dashboard:y("dashboard",60109),database:y("database",60110),debugContinue:y("debug-continue",60111),debugDisconnect:y("debug-disconnect",60112),debugPause:y("debug-pause",60113),debugRestart:y("debug-restart",60114),debugStart:y("debug-start",60115),debugStepInto:y("debug-step-into",60116),debugStepOut:y("debug-step-out",60117),debugStepOver:y("debug-step-over",60118),debugStop:y("debug-stop",60119),debug:y("debug",60120),deviceCameraVideo:y("device-camera-video",60121),deviceCamera:y("device-camera",60122),deviceMobile:y("device-mobile",60123),diffAdded:y("diff-added",60124),diffIgnored:y("diff-ignored",60125),diffModified:y("diff-modified",60126),diffRemoved:y("diff-removed",60127),diffRenamed:y("diff-renamed",60128),diff:y("diff",60129),discard:y("discard",60130),editorLayout:y("editor-layout",60131),emptyWindow:y("empty-window",60132),exclude:y("exclude",60133),extensions:y("extensions",60134),eyeClosed:y("eye-closed",60135),fileBinary:y("file-binary",60136),fileCode:y("file-code",60137),fileMedia:y("file-media",60138),filePdf:y("file-pdf",60139),fileSubmodule:y("file-submodule",60140),fileSymlinkDirectory:y("file-symlink-directory",60141),fileSymlinkFile:y("file-symlink-file",60142),fileZip:y("file-zip",60143),files:y("files",60144),filter:y("filter",60145),flame:y("flame",60146),foldDown:y("fold-down",60147),foldUp:y("fold-up",60148),fold:y("fold",60149),folderActive:y("folder-active",60150),folderOpened:y("folder-opened",60151),gear:y("gear",60152),gift:y("gift",60153),gistSecret:y("gist-secret",60154),gist:y("gist",60155),gitCommit:y("git-commit",60156),gitCompare:y("git-compare",60157),gitMerge:y("git-merge",60158),githubAction:y("github-action",60159),githubAlt:y("github-alt",60160),globe:y("globe",60161),grabber:y("grabber",60162),graph:y("graph",60163),gripper:y("gripper",60164),heart:y("heart",60165),home:y("home",60166),horizontalRule:y("horizontal-rule",60167),hubot:y("hubot",60168),inbox:y("inbox",60169),issueClosed:y("issue-closed",60324),issueReopened:y("issue-reopened",60171),issues:y("issues",60172),italic:y("italic",60173),jersey:y("jersey",60174),json:y("json",60175),bracket:y("bracket",60175),kebabVertical:y("kebab-vertical",60176),key:y("key",60177),law:y("law",60178),lightbulbAutofix:y("lightbulb-autofix",60179),linkExternal:y("link-external",60180),link:y("link",60181),listOrdered:y("list-ordered",60182),listUnordered:y("list-unordered",60183),liveShare:y("live-share",60184),loading:y("loading",60185),location:y("location",60186),mailRead:y("mail-read",60187),mail:y("mail",60188),markdown:y("markdown",60189),megaphone:y("megaphone",60190),mention:y("mention",60191),milestone:y("milestone",60192),mortarBoard:y("mortar-board",60193),move:y("move",60194),multipleWindows:y("multiple-windows",60195),mute:y("mute",60196),noNewline:y("no-newline",60197),note:y("note",60198),octoface:y("octoface",60199),openPreview:y("open-preview",60200),package_:y("package",60201),paintcan:y("paintcan",60202),pin:y("pin",60203),play:y("play",60204),run:y("run",60204),plug:y("plug",60205),preserveCase:y("preserve-case",60206),preview:y("preview",60207),project:y("project",60208),pulse:y("pulse",60209),question:y("question",60210),quote:y("quote",60211),radioTower:y("radio-tower",60212),reactions:y("reactions",60213),references:y("references",60214),refresh:y("refresh",60215),regex:y("regex",60216),remoteExplorer:y("remote-explorer",60217),remote:y("remote",60218),remove:y("remove",60219),replaceAll:y("replace-all",60220),replace:y("replace",60221),repoClone:y("repo-clone",60222),repoForcePush:y("repo-force-push",60223),repoPull:y("repo-pull",60224),repoPush:y("repo-push",60225),report:y("report",60226),requestChanges:y("request-changes",60227),rocket:y("rocket",60228),rootFolderOpened:y("root-folder-opened",60229),rootFolder:y("root-folder",60230),rss:y("rss",60231),ruby:y("ruby",60232),saveAll:y("save-all",60233),saveAs:y("save-as",60234),save:y("save",60235),screenFull:y("screen-full",60236),screenNormal:y("screen-normal",60237),searchStop:y("search-stop",60238),server:y("server",60240),settingsGear:y("settings-gear",60241),settings:y("settings",60242),shield:y("shield",60243),smiley:y("smiley",60244),sortPrecedence:y("sort-precedence",60245),splitHorizontal:y("split-horizontal",60246),splitVertical:y("split-vertical",60247),squirrel:y("squirrel",60248),starFull:y("star-full",60249),starHalf:y("star-half",60250),symbolClass:y("symbol-class",60251),symbolColor:y("symbol-color",60252),symbolCustomColor:y("symbol-customcolor",60252),symbolConstant:y("symbol-constant",60253),symbolEnumMember:y("symbol-enum-member",60254),symbolField:y("symbol-field",60255),symbolFile:y("symbol-file",60256),symbolInterface:y("symbol-interface",60257),symbolKeyword:y("symbol-keyword",60258),symbolMisc:y("symbol-misc",60259),symbolOperator:y("symbol-operator",60260),symbolProperty:y("symbol-property",60261),wrench:y("wrench",60261),wrenchSubaction:y("wrench-subaction",60261),symbolSnippet:y("symbol-snippet",60262),tasklist:y("tasklist",60263),telescope:y("telescope",60264),textSize:y("text-size",60265),threeBars:y("three-bars",60266),thumbsdown:y("thumbsdown",60267),thumbsup:y("thumbsup",60268),tools:y("tools",60269),triangleDown:y("triangle-down",60270),triangleLeft:y("triangle-left",60271),triangleRight:y("triangle-right",60272),triangleUp:y("triangle-up",60273),twitter:y("twitter",60274),unfold:y("unfold",60275),unlock:y("unlock",60276),unmute:y("unmute",60277),unverified:y("unverified",60278),verified:y("verified",60279),versions:y("versions",60280),vmActive:y("vm-active",60281),vmOutline:y("vm-outline",60282),vmRunning:y("vm-running",60283),watch:y("watch",60284),whitespace:y("whitespace",60285),wholeWord:y("whole-word",60286),window:y("window",60287),wordWrap:y("word-wrap",60288),zoomIn:y("zoom-in",60289),zoomOut:y("zoom-out",60290),listFilter:y("list-filter",60291),listFlat:y("list-flat",60292),listSelection:y("list-selection",60293),selection:y("selection",60293),listTree:y("list-tree",60294),debugBreakpointFunctionUnverified:y("debug-breakpoint-function-unverified",60295),debugBreakpointFunction:y("debug-breakpoint-function",60296),debugBreakpointFunctionDisabled:y("debug-breakpoint-function-disabled",60296),debugStackframeActive:y("debug-stackframe-active",60297),circleSmallFilled:y("circle-small-filled",60298),debugStackframeDot:y("debug-stackframe-dot",60298),debugStackframe:y("debug-stackframe",60299),debugStackframeFocused:y("debug-stackframe-focused",60299),debugBreakpointUnsupported:y("debug-breakpoint-unsupported",60300),symbolString:y("symbol-string",60301),debugReverseContinue:y("debug-reverse-continue",60302),debugStepBack:y("debug-step-back",60303),debugRestartFrame:y("debug-restart-frame",60304),callIncoming:y("call-incoming",60306),callOutgoing:y("call-outgoing",60307),menu:y("menu",60308),expandAll:y("expand-all",60309),feedback:y("feedback",60310),groupByRefType:y("group-by-ref-type",60311),ungroupByRefType:y("ungroup-by-ref-type",60312),account:y("account",60313),bellDot:y("bell-dot",60314),debugConsole:y("debug-console",60315),library:y("library",60316),output:y("output",60317),runAll:y("run-all",60318),syncIgnored:y("sync-ignored",60319),pinned:y("pinned",60320),githubInverted:y("github-inverted",60321),debugAlt:y("debug-alt",60305),serverProcess:y("server-process",60322),serverEnvironment:y("server-environment",60323),pass:y("pass",60324),stopCircle:y("stop-circle",60325),playCircle:y("play-circle",60326),record:y("record",60327),debugAltSmall:y("debug-alt-small",60328),vmConnect:y("vm-connect",60329),cloud:y("cloud",60330),merge:y("merge",60331),exportIcon:y("export",60332),graphLeft:y("graph-left",60333),magnet:y("magnet",60334),notebook:y("notebook",60335),redo:y("redo",60336),checkAll:y("check-all",60337),pinnedDirty:y("pinned-dirty",60338),passFilled:y("pass-filled",60339),circleLargeFilled:y("circle-large-filled",60340),circleLarge:y("circle-large",60341),circleLargeOutline:y("circle-large-outline",60341),combine:y("combine",60342),gather:y("gather",60342),table:y("table",60343),variableGroup:y("variable-group",60344),typeHierarchy:y("type-hierarchy",60345),typeHierarchySub:y("type-hierarchy-sub",60346),typeHierarchySuper:y("type-hierarchy-super",60347),gitPullRequestCreate:y("git-pull-request-create",60348),runAbove:y("run-above",60349),runBelow:y("run-below",60350),notebookTemplate:y("notebook-template",60351),debugRerun:y("debug-rerun",60352),workspaceTrusted:y("workspace-trusted",60353),workspaceUntrusted:y("workspace-untrusted",60354),workspaceUnspecified:y("workspace-unspecified",60355),terminalCmd:y("terminal-cmd",60356),terminalDebian:y("terminal-debian",60357),terminalLinux:y("terminal-linux",60358),terminalPowershell:y("terminal-powershell",60359),terminalTmux:y("terminal-tmux",60360),terminalUbuntu:y("terminal-ubuntu",60361),terminalBash:y("terminal-bash",60362),arrowSwap:y("arrow-swap",60363),copy:y("copy",60364),personAdd:y("person-add",60365),filterFilled:y("filter-filled",60366),wand:y("wand",60367),debugLineByLine:y("debug-line-by-line",60368),inspect:y("inspect",60369),layers:y("layers",60370),layersDot:y("layers-dot",60371),layersActive:y("layers-active",60372),compass:y("compass",60373),compassDot:y("compass-dot",60374),compassActive:y("compass-active",60375),azure:y("azure",60376),issueDraft:y("issue-draft",60377),gitPullRequestClosed:y("git-pull-request-closed",60378),gitPullRequestDraft:y("git-pull-request-draft",60379),debugAll:y("debug-all",60380),debugCoverage:y("debug-coverage",60381),runErrors:y("run-errors",60382),folderLibrary:y("folder-library",60383),debugContinueSmall:y("debug-continue-small",60384),beakerStop:y("beaker-stop",60385),graphLine:y("graph-line",60386),graphScatter:y("graph-scatter",60387),pieChart:y("pie-chart",60388),bracketDot:y("bracket-dot",60389),bracketError:y("bracket-error",60390),lockSmall:y("lock-small",60391),azureDevops:y("azure-devops",60392),verifiedFilled:y("verified-filled",60393),newLine:y("newline",60394),layout:y("layout",60395),layoutActivitybarLeft:y("layout-activitybar-left",60396),layoutActivitybarRight:y("layout-activitybar-right",60397),layoutPanelLeft:y("layout-panel-left",60398),layoutPanelCenter:y("layout-panel-center",60399),layoutPanelJustify:y("layout-panel-justify",60400),layoutPanelRight:y("layout-panel-right",60401),layoutPanel:y("layout-panel",60402),layoutSidebarLeft:y("layout-sidebar-left",60403),layoutSidebarRight:y("layout-sidebar-right",60404),layoutStatusbar:y("layout-statusbar",60405),layoutMenubar:y("layout-menubar",60406),layoutCentered:y("layout-centered",60407),layoutSidebarRightOff:y("layout-sidebar-right-off",60416),layoutPanelOff:y("layout-panel-off",60417),layoutSidebarLeftOff:y("layout-sidebar-left-off",60418),target:y("target",60408),indent:y("indent",60409),recordSmall:y("record-small",60410),errorSmall:y("error-small",60411),arrowCircleDown:y("arrow-circle-down",60412),arrowCircleLeft:y("arrow-circle-left",60413),arrowCircleRight:y("arrow-circle-right",60414),arrowCircleUp:y("arrow-circle-up",60415),heartFilled:y("heart-filled",60420),map:y("map",60421),mapFilled:y("map-filled",60422),circleSmall:y("circle-small",60423),bellSlash:y("bell-slash",60424),bellSlashDot:y("bell-slash-dot",60425),commentUnresolved:y("comment-unresolved",60426),gitPullRequestGoToChanges:y("git-pull-request-go-to-changes",60427),gitPullRequestNewChanges:y("git-pull-request-new-changes",60428),searchFuzzy:y("search-fuzzy",60429),commentDraft:y("comment-draft",60430),send:y("send",60431),sparkle:y("sparkle",60432),insert:y("insert",60433),dialogError:y("dialog-error","error"),dialogWarning:y("dialog-warning","warning"),dialogInfo:y("dialog-info","info"),dialogClose:y("dialog-close","close"),treeItemExpanded:y("tree-item-expanded","chevron-down"),treeFilterOnTypeOn:y("tree-filter-on-type-on","list-filter"),treeFilterOnTypeOff:y("tree-filter-on-type-off","list-selection"),treeFilterClear:y("tree-filter-clear","close"),treeItemLoading:y("tree-item-loading","loading"),menuSelection:y("menu-selection","check"),menuSubmenu:y("menu-submenu","chevron-right"),menuBarMore:y("menubar-more","more"),scrollbarButtonLeft:y("scrollbar-button-left","triangle-left"),scrollbarButtonRight:y("scrollbar-button-right","triangle-right"),scrollbarButtonUp:y("scrollbar-button-up","triangle-up"),scrollbarButtonDown:y("scrollbar-button-down","triangle-down"),toolBarMore:y("toolbar-more","more"),quickInputBack:y("quick-input-back","arrow-left")}}),define(X[46],ee([1,0,18]),function(q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createProxyObject=e.getAllMethodNames=e.getAllPropertyNames=e.equals=e.mixin=e.cloneAndChange=e.deepFreeze=e.deepClone=void 0;function k(i){if(!i||typeof i!="object"||i instanceof RegExp)return i;const o=Array.isArray(i)?[]:{};return Object.entries(i).forEach(([r,d])=>{o[r]=d&&typeof d=="object"?k(d):d}),o}e.deepClone=k;function y(i){if(!i||typeof i!="object")return i;const o=[i];for(;o.length>0;){const r=o.shift();Object.freeze(r);for(const d in r)if(D.call(r,d)){const h=r[d];typeof h=="object"&&!Object.isFrozen(h)&&!(0,L.isTypedArray)(h)&&o.push(h)}}return i}e.deepFreeze=y;const D=Object.prototype.hasOwnProperty;function S(i,o){return m(i,o,new Set)}e.cloneAndChange=S;function m(i,o,r){if((0,L.isUndefinedOrNull)(i))return i;const d=o(i);if(typeof d<"u")return d;if(Array.isArray(i)){const h=[];for(const n of i)h.push(m(n,o,r));return h}if((0,L.isObject)(i)){if(r.has(i))throw new Error("Cannot clone recursive data-structure");r.add(i);const h={};for(const n in i)D.call(i,n)&&(h[n]=m(i[n],o,r));return r.delete(i),h}return i}function _(i,o,r=!0){return(0,L.isObject)(i)?((0,L.isObject)(o)&&Object.keys(o).forEach(d=>{d in i?r&&((0,L.isObject)(i[d])&&(0,L.isObject)(o[d])?_(i[d],o[d],r):i[d]=o[d]):i[d]=o[d]}),i):o}e.mixin=_;function f(i,o){if(i===o)return!0;if(i==null||o===null||o===void 0||typeof i!=typeof o||typeof i!="object"||Array.isArray(i)!==Array.isArray(o))return!1;let r,d;if(Array.isArray(i)){if(i.length!==o.length)return!1;for(r=0;r<i.length;r++)if(!f(i[r],o[r]))return!1}else{const h=[];for(d in i)h.push(d);h.sort();const n=[];for(d in o)n.push(d);if(n.sort(),!f(h,n))return!1;for(r=0;r<h.length;r++)if(!f(i[h[r]],o[h[r]]))return!1}return!0}e.equals=f;function p(i){let o=[],r=Object.getPrototypeOf(i);for(;Object.prototype!==r;)o=o.concat(Object.getOwnPropertyNames(r)),r=Object.getPrototypeOf(r);return o}e.getAllPropertyNames=p;function s(i){const o=[];for(const r of p(i))typeof i[r]=="function"&&o.push(r);return o}e.getAllMethodNames=s;function t(i,o){const r=h=>function(){const n=Array.prototype.slice.call(arguments,0);return o(h,n)},d={};for(const h of i)d[h]=r(h);return d}e.createProxyObject=t}),define(X[27],ee([1,0,25]),function(q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ThemeIcon=e.ThemeColor=void 0;var k;(function(D){function S(m){return m&&typeof m=="object"&&typeof m.id=="string"}D.isThemeColor=S})(k||(e.ThemeColor=k={}));var y;(function(D){D.iconNameSegment="[A-Za-z0-9]+",D.iconNameExpression="[A-Za-z0-9-]+",D.iconModifierExpression="~[A-Za-z]+",D.iconNameCharacter="[A-Za-z0-9~-]";const S=new RegExp(`^(${D.iconNameExpression})(${D.iconModifierExpression})?$`);function m(h){const n=S.exec(h.id);if(!n)return m(L.Codicon.error);const[,c,a]=n,l=["codicon","codicon-"+c];return a&&l.push("codicon-modifier-"+a.substring(1)),l}D.asClassNameArray=m;function _(h){return m(h).join(" ")}D.asClassName=_;function f(h){return"."+m(h).join(".")}D.asCSSSelector=f;function p(h){return h&&typeof h=="object"&&typeof h.id=="string"&&(typeof h.color>"u"||k.isThemeColor(h.color))}D.isThemeIcon=p;const s=new RegExp(`^\\$\\((${D.iconNameExpression}(?:${D.iconModifierExpression})?)\\)$`);function t(h){const n=s.exec(h);if(!n)return;const[,c]=n;return{id:c}}D.fromString=t;function i(h){return{id:h}}D.fromId=i;function o(h,n){let c=h.id;const a=c.lastIndexOf("~");return a!==-1&&(c=c.substring(0,a)),n&&(c=`${c}~${n}`),{id:c}}D.modify=o;function r(h){const n=h.id.lastIndexOf("~");if(n!==-1)return h.id.substring(n+1)}D.getModifier=r;function d(h,n){var c,a;return h.id===n.id&&((c=h.color)===null||c===void 0?void 0:c.id)===((a=n.color)===null||a===void 0?void 0:a.id)}D.isEqual=d})(y||(e.ThemeIcon=y={}))}),define(X[118],ee([1,0,70,9,27]),function(q,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.matchesFuzzyIconAware=e.parseLabelWithIcons=e.getCodiconAriaLabel=e.stripIcons=e.markdownEscapeEscapedIcons=e.escapeIcons=void 0;const D="$(",S=new RegExp(`\\$\\(${y.ThemeIcon.iconNameExpression}(?:${y.ThemeIcon.iconModifierExpression})?\\)`,"g"),m=new RegExp(`(\\\\)?${S.source}`,"g");function _(h){return h.replace(m,(n,c)=>c?n:`\\${n}`)}e.escapeIcons=_;const f=new RegExp(`\\\\${S.source}`,"g");function p(h){return h.replace(f,n=>`\\${n}`)}e.markdownEscapeEscapedIcons=p;const s=new RegExp(`(\\s)?(\\\\)?${S.source}(\\s)?`,"g");function t(h){return h.indexOf(D)===-1?h:h.replace(s,(n,c,a,l)=>a?n:c||l||"")}e.stripIcons=t;function i(h){return h?h.replace(/\$\((.*?)\)/g,(n,c)=>` ${c} `).trim():""}e.getCodiconAriaLabel=i;const o=new RegExp(`\\$\\(${y.ThemeIcon.iconNameCharacter}+\\)`,"g");function r(h){o.lastIndex=0;let n="";const c=[];let a=0;for(;;){const l=o.lastIndex,u=o.exec(h),C=h.substring(l,u?.index);if(C.length>0){n+=C;for(let g=0;g<C.length;g++)c.push(a)}if(!u)break;a+=u[0].length}return{text:n,iconOffsets:c}}e.parseLabelWithIcons=r;function d(h,n,c=!1){const{text:a,iconOffsets:l}=n;if(!l||l.length===0)return(0,L.matchesFuzzy)(h,a,c);const u=(0,k.ltrim)(a," "),C=a.length-u.length,g=(0,L.matchesFuzzy)(h,u,c);if(g)for(const v of g){const b=l[v.start+C]+C;v.start+=b,v.end+=b}return g}e.matchesFuzzyIconAware=d}),define(X[171],ee([1,0]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toUint32=e.toUint8=void 0;function L(y){return y<0?0:y>255?255:y|0}e.toUint8=L;function k(y){return y<0?0:y>4294967295?4294967295:y|0}e.toUint32=k}),define(X[172],ee([1,0]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.generateUuid=void 0,e.generateUuid=function(){if(typeof crypto=="object"&&typeof crypto.randomUUID=="function")return crypto.randomUUID.bind(crypto);let L;typeof crypto=="object"&&typeof crypto.getRandomValues=="function"?L=crypto.getRandomValues.bind(crypto):L=function(D){for(let S=0;S<D.length;S++)D[S]=Math.floor(Math.random()*256);return D};const k=new Uint8Array(16),y=[];for(let D=0;D<256;D++)y.push(D.toString(16).padStart(2,"0"));return function(){L(k),k[6]=k[6]&15|64,k[8]=k[8]&63|128;let S=0,m="";return m+=y[k[S++]],m+=y[k[S++]],m+=y[k[S++]],m+=y[k[S++]],m+="-",m+=y[k[S++]],m+=y[k[S++]],m+="-",m+=y[k[S++]],m+=y[k[S++]],m+="-",m+=y[k[S++]],m+=y[k[S++]],m+="-",m+=y[k[S++]],m+=y[k[S++]],m+=y[k[S++]],m+=y[k[S++]],m+=y[k[S++]],m+=y[k[S++]],m}}()}),define(X[173],ee([1,0,16,50,172]),function(q,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UriList=e.matchesMimeType=e.VSDataTransfer=e.createFileDataTransferItem=e.createStringDataTransferItem=void 0;function D(s){return{asString:()=>Le(this,void 0,void 0,function*(){return s}),asFile:()=>{},value:typeof s=="string"?s:void 0}}e.createStringDataTransferItem=D;function S(s,t,i){const o={id:(0,y.generateUuid)(),name:s,uri:t,data:i};return{asString:()=>Le(this,void 0,void 0,function*(){return""}),asFile:()=>o,value:void 0}}e.createFileDataTransferItem=S;class m{constructor(){this._entries=new Map}get size(){let t=0;for(const i of this._entries)t++;return t}has(t){return this._entries.has(this.toKey(t))}matches(t){const i=[...this._entries.keys()];return k.Iterable.some(this,([o,r])=>r.asFile())&&i.push("files"),p(_(t),i)}get(t){var i;return(i=this._entries.get(this.toKey(t)))===null||i===void 0?void 0:i[0]}append(t,i){const o=this._entries.get(t);o?o.push(i):this._entries.set(this.toKey(t),[i])}replace(t,i){this._entries.set(this.toKey(t),[i])}delete(t){this._entries.delete(this.toKey(t))}*[Symbol.iterator](){for(const[t,i]of this._entries)for(const o of i)yield[t,o]}toKey(t){return _(t)}}e.VSDataTransfer=m;function _(s){return s.toLowerCase()}function f(s,t){return p(_(s),t.map(_))}e.matchesMimeType=f;function p(s,t){if(s==="*/*")return t.length>0;if(t.includes(s))return!0;const i=s.match(/^([a-z]+)\/([a-z]+|\*)$/i);if(!i)return!1;const[o,r,d]=i;return d==="*"?t.some(h=>h.startsWith(r+"/")):!1}e.UriList=Object.freeze({create:s=>(0,L.distinct)(s.map(t=>t.toString())).join(`\r
`),split:s=>s.split(`\r
`),parse:s=>e.UriList.split(s).filter(t=>!t.startsWith("#"))})}),define(X[263],ee([10]),{}),define(X[388],ee([10]),{}),define(X[389],ee([10]),{}),define(X[390],ee([10]),{}),define(X[391],ee([10]),{}),define(X[174],ee([1,0,390,391]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),define(X[392],ee([10]),{}),define(X[393],ee([10]),{}),define(X[264],ee([10]),{}),define(X[265],ee([10]),{}),define(X[394],ee([10]),{}),define(X[395],ee([10]),{}),define(X[396],ee([10]),{}),define(X[397],ee([10]),{}),define(X[266],ee([10]),{}),define(X[398],ee([10]),{}),define(X[175],ee([1,0,398]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME=void 0,e.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME="monaco-mouse-cursor-text"}),define(X[399],ee([10]),{}),define(X[400],ee([10]),{}),define(X[401],ee([10]),{}),define(X[402],ee([10]),{}),define(X[403],ee([10]),{}),define(X[404],ee([10]),{}),define(X[405],ee([10]),{}),define(X[406],ee([10]),{}),define(X[407],ee([10]),{}),define(X[408],ee([10]),{}),define(X[409],ee([10]),{}),define(X[410],ee([10]),{}),define(X[411],ee([10]),{}),define(X[412],ee([10]),{}),define(X[413],ee([10]),{}),define(X[414],ee([10]),{}),define(X[415],ee([10]),{}),define(X[416],ee([10]),{}),define(X[417],ee([10]),{}),define(X[418],ee([10]),{}),define(X[419],ee([10]),{}),define(X[420],ee([10]),{}),define(X[421],ee([10]),{}),define(X[422],ee([10]),{}),define(X[423],ee([10]),{}),define(X[424],ee([10]),{}),define(X[425],ee([10]),{}),define(X[426],ee([10]),{}),define(X[427],ee([10]),{}),define(X[428],ee([10]),{}),define(X[429],ee([10]),{}),define(X[430],ee([10]),{}),define(X[431],ee([10]),{}),define(X[432],ee([10]),{}),define(X[433],ee([10]),{}),define(X[434],ee([10]),{}),define(X[198],ee([10]),{}),define(X[435],ee([10]),{}),define(X[436],ee([10]),{}),define(X[437],ee([10]),{}),define(X[438],ee([10]),{}),define(X[439],ee([10]),{}),define(X[440],ee([10]),{}),define(X[441],ee([10]),{}),define(X[442],ee([10]),{}),define(X[443],ee([10]),{}),define(X[444],ee([10]),{}),define(X[445],ee([10]),{}),define(X[446],ee([10]),{}),define(X[447],ee([10]),{}),define(X[448],ee([10]),{}),define(X[449],ee([10]),{}),define(X[450],ee([10]),{}),define(X[451],ee([10]),{}),define(X[452],ee([10]),{}),define(X[453],ee([10]),{}),define(X[454],ee([10]),{}),define(X[455],ee([10]),{}),define(X[456],ee([10]),{}),define(X[457],ee([10]),{}),define(X[458],ee([10]),{}),define(X[459],ee([10]),{}),define(X[460],ee([10]),{}),define(X[461],ee([10]),{}),define(X[462],ee([10]),{}),define(X[463],ee([10]),{}),define(X[464],ee([10]),{}),define(X[465],ee([10]),{}),define(X[466],ee([10]),{}),define(X[267],ee([10]),{}),define(X[467],ee([10]),{}),define(X[468],ee([10]),{}),define(X[176],ee([10]),{}),define(X[469],ee([10]),{}),define(X[59],ee([1,0,34]),function(q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.applyFontInfo=void 0;function k(y,D){y instanceof L.FastDomNode?(y.setFontFamily(D.getMassagedFontFamily()),y.setFontWeight(D.fontWeight),y.setFontSize(D.fontSize),y.setFontFeatureSettings(D.fontFeatureSettings),y.setFontVariationSettings(D.fontVariationSettings),y.setLineHeight(D.lineHeight),y.setLetterSpacing(D.letterSpacing)):(y.style.fontFamily=D.getMassagedFontFamily(),y.style.fontWeight=D.fontWeight,y.style.fontSize=D.fontSize+"px",y.style.fontFeatureSettings=D.fontFeatureSettings,y.style.fontVariationSettings=D.fontVariationSettings,y.style.lineHeight=D.lineHeight+"px",y.style.letterSpacing=D.letterSpacing+"px")}e.applyFontInfo=k}),define(X[470],ee([1,0,59]),function(q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.readCharWidths=e.CharWidthRequest=void 0;class k{constructor(m,_){this.chr=m,this.type=_,this.width=0}fulfill(m){this.width=m}}e.CharWidthRequest=k;class y{constructor(m,_){this._bareFontInfo=m,this._requests=_,this._container=null,this._testElements=null}read(){this._createDomElements(),document.body.appendChild(this._container),this._readFromDomElements(),document.body.removeChild(this._container),this._container=null,this._testElements=null}_createDomElements(){const m=document.createElement("div");m.style.position="absolute",m.style.top="-50000px",m.style.width="50000px";const _=document.createElement("div");(0,L.applyFontInfo)(_,this._bareFontInfo),m.appendChild(_);const f=document.createElement("div");(0,L.applyFontInfo)(f,this._bareFontInfo),f.style.fontWeight="bold",m.appendChild(f);const p=document.createElement("div");(0,L.applyFontInfo)(p,this._bareFontInfo),p.style.fontStyle="italic",m.appendChild(p);const s=[];for(const t of this._requests){let i;t.type===0&&(i=_),t.type===2&&(i=f),t.type===1&&(i=p),i.appendChild(document.createElement("br"));const o=document.createElement("span");y._render(o,t),i.appendChild(o),s.push(o)}this._container=m,this._testElements=s}static _render(m,_){if(_.chr===" "){let f="\xA0";for(let p=0;p<8;p++)f+=f;m.innerText=f}else{let f=_.chr;for(let p=0;p<8;p++)f+=f;m.textContent=f}}_readFromDomElements(){for(let m=0,_=this._requests.length;m<_;m++){const f=this._requests[m],p=this._testElements[m];f.fulfill(p.offsetWidth/256)}}}function D(S,m){new y(S,m).read()}e.readCharWidths=D}),define(X[199],ee([1,0,2,6]),function(q,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ElementSizeObserver=void 0;class y extends L.Disposable{constructor(S,m){super(),this._onDidChange=this._register(new k.Emitter),this.onDidChange=this._onDidChange.event,this._referenceDomElement=S,this._width=-1,this._height=-1,this._resizeObserver=null,this.measureReferenceDomElement(!1,m)}dispose(){this.stopObserving(),super.dispose()}getWidth(){return this._width}getHeight(){return this._height}startObserving(){!this._resizeObserver&&this._referenceDomElement&&(this._resizeObserver=new ResizeObserver(S=>{S&&S[0]&&S[0].contentRect?this.observe({width:S[0].contentRect.width,height:S[0].contentRect.height}):this.observe()}),this._resizeObserver.observe(this._referenceDomElement))}stopObserving(){this._resizeObserver&&(this._resizeObserver.disconnect(),this._resizeObserver=null)}observe(S){this.measureReferenceDomElement(!0,S)}measureReferenceDomElement(S,m){let _=0,f=0;m?(_=m.width,f=m.height):this._referenceDomElement&&(_=this._referenceDomElement.clientWidth,f=this._referenceDomElement.clientHeight),_=Math.max(5,_),f=Math.max(5,f),(this._width!==_||this._height!==f)&&(this._width=_,this._height=f,S&&this._onDidChange.fire())}}e.ElementSizeObserver=y}),define(X[471],ee([1,0]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.migrateOptions=e.EditorSettingMigration=void 0;class L{constructor(_,f){this.key=_,this.migrate=f}apply(_){const f=L._read(_,this.key),p=t=>L._read(_,t),s=(t,i)=>L._write(_,t,i);this.migrate(f,p,s)}static _read(_,f){if(typeof _>"u")return;const p=f.indexOf(".");if(p>=0){const s=f.substring(0,p);return this._read(_[s],f.substring(p+1))}return _[f]}static _write(_,f,p){const s=f.indexOf(".");if(s>=0){const t=f.substring(0,s);_[t]=_[t]||{},this._write(_[t],f.substring(s+1),p);return}_[f]=p}}e.EditorSettingMigration=L,L.items=[];function k(m,_){L.items.push(new L(m,_))}function y(m,_){k(m,(f,p,s)=>{if(typeof f<"u"){for(const[t,i]of _)if(f===t){s(m,i);return}}})}function D(m){L.items.forEach(_=>_.apply(m))}e.migrateOptions=D,y("wordWrap",[[!0,"on"],[!1,"off"]]),y("lineNumbers",[[!0,"on"],[!1,"off"]]),y("cursorBlinking",[["visible","solid"]]),y("renderWhitespace",[[!0,"boundary"],[!1,"none"]]),y("renderLineHighlight",[[!0,"line"],[!1,"none"]]),y("acceptSuggestionOnEnter",[[!0,"on"],[!1,"off"]]),y("tabCompletion",[[!1,"off"],[!0,"onlySnippets"]]),y("hover",[[!0,{enabled:!0}],[!1,{enabled:!1}]]),y("parameterHints",[[!0,{enabled:!0}],[!1,{enabled:!1}]]),y("autoIndent",[[!1,"advanced"],[!0,"full"]]),y("matchBrackets",[[!0,"always"],[!1,"never"]]),y("renderFinalNewline",[[!0,"on"],[!1,"off"]]),y("cursorSmoothCaretAnimation",[[!0,"on"],[!1,"off"]]),k("autoClosingBrackets",(m,_,f)=>{m===!1&&(f("autoClosingBrackets","never"),typeof _("autoClosingQuotes")>"u"&&f("autoClosingQuotes","never"),typeof _("autoSurround")>"u"&&f("autoSurround","never"))}),k("renderIndentGuides",(m,_,f)=>{typeof m<"u"&&(f("renderIndentGuides",void 0),typeof _("guides.indentation")>"u"&&f("guides.indentation",!!m))}),k("highlightActiveIndentGuide",(m,_,f)=>{typeof m<"u"&&(f("highlightActiveIndentGuide",void 0),typeof _("guides.highlightActiveIndentation")>"u"&&f("guides.highlightActiveIndentation",!!m))});const S={method:"showMethods",function:"showFunctions",constructor:"showConstructors",deprecated:"showDeprecated",field:"showFields",variable:"showVariables",class:"showClasses",struct:"showStructs",interface:"showInterfaces",module:"showModules",property:"showProperties",event:"showEvents",operator:"showOperators",unit:"showUnits",value:"showValues",constant:"showConstants",enum:"showEnums",enumMember:"showEnumMembers",keyword:"showKeywords",text:"showWords",color:"showColors",file:"showFiles",reference:"showReferences",folder:"showFolders",typeParameter:"showTypeParameters",snippet:"showSnippets"};k("suggest.filteredTypes",(m,_,f)=>{if(m&&typeof m=="object"){for(const p of Object.entries(S))m[p[0]]===!1&&typeof _(`suggest.${p[1]}`)>"u"&&f(`suggest.${p[1]}`,!1);f("suggest.filteredTypes",void 0)}}),k("quickSuggestions",(m,_,f)=>{if(typeof m=="boolean"){const p=m?"on":"off";f("quickSuggestions",{comments:p,strings:p,other:p})}}),k("experimental.stickyScroll.enabled",(m,_,f)=>{typeof m=="boolean"&&(f("experimental.stickyScroll.enabled",void 0),typeof _("stickyScroll.enabled")>"u"&&f("stickyScroll.enabled",m))}),k("experimental.stickyScroll.maxLineCount",(m,_,f)=>{typeof m=="number"&&(f("experimental.stickyScroll.maxLineCount",void 0),typeof _("stickyScroll.maxLineCount")>"u"&&f("stickyScroll.maxLineCount",m))})}),define(X[200],ee([1,0,6]),function(q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TabFocus=void 0;class k{constructor(){this._tabFocusTerminal=!1,this._tabFocusEditor=!1,this._onDidChangeTabFocus=new L.Emitter,this.onDidChangeTabFocus=this._onDidChangeTabFocus.event}getTabFocusMode(D){return D==="terminalFocus"?this._tabFocusTerminal:this._tabFocusEditor}setTabFocusMode(D,S){S==="terminalFocus"?this._tabFocusTerminal=D:this._tabFocusEditor=D,this._onDidChangeTabFocus.fire()}}e.TabFocus=new k}),define(X[108],ee([1,0]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StableEditorScrollState=void 0;class L{static capture(y){if(y.getScrollTop()===0||y.hasPendingScrollAnimation())return new L(y.getScrollTop(),y.getContentHeight(),null,0,null);let D=null,S=0;const m=y.getVisibleRanges();if(m.length>0){D=m[0].getStartPosition();const _=y.getTopForPosition(D.lineNumber,D.column);S=y.getScrollTop()-_}return new L(y.getScrollTop(),y.getContentHeight(),D,S,y.getPosition())}constructor(y,D,S,m,_){this._initialScrollTop=y,this._initialContentHeight=D,this._visiblePosition=S,this._visiblePositionScrollDelta=m,this._cursorPosition=_}restore(y){if(!(this._initialContentHeight===y.getContentHeight()&&this._initialScrollTop===y.getScrollTop())&&this._visiblePosition){const D=y.getTopForPosition(this._visiblePosition.lineNumber,this._visiblePosition.column);y.setScrollTop(D+this._visiblePositionScrollDelta)}}restoreRelativeVerticalPositionOfCursor(y){if(this._initialContentHeight===y.getContentHeight()&&this._initialScrollTop===y.getScrollTop())return;const D=y.getPosition();if(!this._cursorPosition||!D)return;const S=y.getTopForLineNumber(D.lineNumber)-y.getTopForLineNumber(this._cursorPosition.lineNumber);y.setScrollTop(y.getScrollTop()+S)}}e.StableEditorScrollState=L}),define(X[142],ee([1,0]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VisibleRanges=e.HorizontalPosition=e.FloatHorizontalRange=e.HorizontalRange=e.LineVisibleRanges=e.RenderingContext=e.RestrictedRenderingContext=void 0;class L{constructor(p,s){this._restrictedRenderingContextBrand=void 0,this._viewLayout=p,this.viewportData=s,this.scrollWidth=this._viewLayout.getScrollWidth(),this.scrollHeight=this._viewLayout.getScrollHeight(),this.visibleRange=this.viewportData.visibleRange,this.bigNumbersDelta=this.viewportData.bigNumbersDelta;const t=this._viewLayout.getCurrentViewport();this.scrollTop=t.top,this.scrollLeft=t.left,this.viewportWidth=t.width,this.viewportHeight=t.height}getScrolledTopFromAbsoluteTop(p){return p-this.scrollTop}getVerticalOffsetForLineNumber(p,s){return this._viewLayout.getVerticalOffsetForLineNumber(p,s)}getVerticalOffsetAfterLineNumber(p,s){return this._viewLayout.getVerticalOffsetAfterLineNumber(p,s)}getDecorationsInViewport(){return this.viewportData.getDecorationsInViewport()}}e.RestrictedRenderingContext=L;class k extends L{constructor(p,s,t){super(p,s),this._renderingContextBrand=void 0,this._viewLines=t}linesVisibleRangesForRange(p,s){return this._viewLines.linesVisibleRangesForRange(p,s)}visibleRangeForPosition(p){return this._viewLines.visibleRangeForPosition(p)}}e.RenderingContext=k;class y{constructor(p,s,t,i){this.outsideRenderedLine=p,this.lineNumber=s,this.ranges=t,this.continuesOnNextLine=i}}e.LineVisibleRanges=y;class D{static from(p){const s=new Array(p.length);for(let t=0,i=p.length;t<i;t++){const o=p[t];s[t]=new D(o.left,o.width)}return s}constructor(p,s){this._horizontalRangeBrand=void 0,this.left=Math.round(p),this.width=Math.round(s)}toString(){return`[${this.left},${this.width}]`}}e.HorizontalRange=D;class S{constructor(p,s){this._floatHorizontalRangeBrand=void 0,this.left=p,this.width=s}toString(){return`[${this.left},${this.width}]`}static compare(p,s){return p.left-s.left}}e.FloatHorizontalRange=S;class m{constructor(p,s){this.outsideRenderedLine=p,this.originalLeft=s,this.left=Math.round(this.originalLeft)}}e.HorizontalPosition=m;class _{constructor(p,s){this.outsideRenderedLine=p,this.ranges=s}}e.VisibleRanges=_}),define(X[472],ee([1,0]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DomReadingContext=void 0;class L{get didDomLayout(){return this._didDomLayout}readClientRect(){if(!this._clientRectRead){this._clientRectRead=!0;const y=this._domNode.getBoundingClientRect();this.markDidDomLayout(),this._clientRectDeltaLeft=y.left,this._clientRectScale=y.width/this._domNode.offsetWidth}}get clientRectDeltaLeft(){return this._clientRectRead||this.readClientRect(),this._clientRectDeltaLeft}get clientRectScale(){return this._clientRectRead||this.readClientRect(),this._clientRectScale}constructor(y,D){this._domNode=y,this.endNode=D,this._didDomLayout=!1,this._clientRectDeltaLeft=0,this._clientRectScale=1,this._clientRectRead=!1}markDidDomLayout(){this._didDomLayout=!0}}e.DomReadingContext=L}),define(X[473],ee([1,0,142]),function(q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RangeUtil=void 0;class k{static _createRange(){return this._handyReadyRange||(this._handyReadyRange=document.createRange()),this._handyReadyRange}static _detachRange(D,S){D.selectNodeContents(S)}static _readClientRects(D,S,m,_,f){const p=this._createRange();try{return p.setStart(D,S),p.setEnd(m,_),p.getClientRects()}catch{return null}finally{this._detachRange(p,f)}}static _mergeAdjacentRanges(D){if(D.length===1)return D;D.sort(L.FloatHorizontalRange.compare);const S=[];let m=0,_=D[0];for(let f=1,p=D.length;f<p;f++){const s=D[f];_.left+_.width+.9>=s.left?_.width=Math.max(_.width,s.left+s.width-_.left):(S[m++]=_,_=s)}return S[m++]=_,S}static _createHorizontalRangesFromClientRects(D,S,m){if(!D||D.length===0)return null;const _=[];for(let f=0,p=D.length;f<p;f++){const s=D[f];_[f]=new L.FloatHorizontalRange(Math.max(0,(s.left-S)/m),s.width/m)}return this._mergeAdjacentRanges(_)}static readHorizontalRanges(D,S,m,_,f,p){const t=D.children.length-1;if(0>t)return null;if(S=Math.min(t,Math.max(0,S)),_=Math.min(t,Math.max(0,_)),S===_&&m===f&&m===0&&!D.children[S].firstChild){const d=D.children[S].getClientRects();return p.markDidDomLayout(),this._createHorizontalRangesFromClientRects(d,p.clientRectDeltaLeft,p.clientRectScale)}S!==_&&_>0&&f===0&&(_--,f=1073741824);let i=D.children[S].firstChild,o=D.children[_].firstChild;if((!i||!o)&&(!i&&m===0&&S>0&&(i=D.children[S-1].firstChild,m=1073741824),!o&&f===0&&_>0&&(o=D.children[_-1].firstChild,f=1073741824)),!i||!o)return null;m=Math.min(i.textContent.length,Math.max(0,m)),f=Math.min(o.textContent.length,Math.max(0,f));const r=this._readClientRects(i,m,o,f,p.endNode);return p.markDidDomLayout(),this._createHorizontalRangesFromClientRects(r,p.clientRectDeltaLeft,p.clientRectScale)}}e.RangeUtil=k}),define(X[268],ee([1,0]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getCharIndex=e.allCharCodes=void 0,e.allCharCodes=(()=>{const k=[];for(let y=32;y<=126;y++)k.push(y);return k.push(65533),k})();const L=(k,y)=>(k-=32,k<0||k>96?y<=2?(k+96)%96:96-1:k);e.getCharIndex=L}),define(X[474],ee([1,0,268,171]),function(q,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MinimapCharRenderer=void 0;class y{constructor(S,m){this.scale=m,this._minimapCharRendererBrand=void 0,this.charDataNormal=y.soften(S,12/15),this.charDataLight=y.soften(S,50/60)}static soften(S,m){const _=new Uint8ClampedArray(S.length);for(let f=0,p=S.length;f<p;f++)_[f]=(0,k.toUint8)(S[f]*m);return _}renderChar(S,m,_,f,p,s,t,i,o,r,d){const h=1*this.scale,n=2*this.scale,c=d?1:n;if(m+h>S.width||_+c>S.height){console.warn("bad render request outside image data");return}const a=r?this.charDataLight:this.charDataNormal,l=(0,L.getCharIndex)(f,o),u=S.width*4,C=t.r,g=t.g,v=t.b,b=p.r-C,w=p.g-g,E=p.b-v,I=Math.max(s,i),T=S.data;let P=l*h*n,A=_*u+m*4;for(let M=0;M<c;M++){let N=A;for(let R=0;R<h;R++){const F=a[P++]/255*(s/255);T[N++]=C+b*F,T[N++]=g+w*F,T[N++]=v+E*F,T[N++]=I}A+=u}}blockRenderChar(S,m,_,f,p,s,t,i){const o=1*this.scale,r=2*this.scale,d=i?1:r;if(m+o>S.width||_+d>S.height){console.warn("bad render request outside image data");return}const h=S.width*4,n=.5*(p/255),c=s.r,a=s.g,l=s.b,u=f.r-c,C=f.g-a,g=f.b-l,v=c+u*n,b=a+C*n,w=l+g*n,E=Math.max(p,t),I=S.data;let T=_*h+m*4;for(let P=0;P<d;P++){let A=T;for(let M=0;M<o;M++)I[A++]=v,I[A++]=b,I[A++]=w,I[A++]=E;T+=h}}}e.MinimapCharRenderer=y}),define(X[475],ee([1,0,98]),function(q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.prebakedMiniMaps=void 0;const k={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15},y=D=>{const S=new Uint8ClampedArray(D.length/2);for(let m=0;m<D.length;m+=2)S[m>>1]=k[D[m]]<<4|k[D[m+1]]&15;return S};e.prebakedMiniMaps={1:(0,L.once)(()=>y("0000511D6300CF609C709645A78432005642574171487021003C451900274D35D762755E8B629C5BA856AF57BA649530C167D1512A272A3F6038604460398526BCA2A968DB6F8957C768BE5FBE2FB467CF5D8D5B795DC7625B5DFF50DE64C466DB2FC47CD860A65E9A2EB96CB54CE06DA763AB2EA26860524D3763536601005116008177A8705E53AB738E6A982F88BAA35B5F5B626D9C636B449B737E5B7B678598869A662F6B5B8542706C704C80736A607578685B70594A49715A4522E792")),2:(0,L.once)(()=>y("000000000000000055394F383D2800008B8B1F210002000081B1CBCBCC820000847AAF6B9AAF2119BE08B8881AD60000A44FD07DCCF107015338130C00000000385972265F390B406E2437634B4B48031B12B8A0847000001E15B29A402F0000000000004B33460B00007A752C2A0000000000004D3900000084394B82013400ABA5CFC7AD9C0302A45A3E5A98AB000089A43382D97900008BA54AA087A70A0248A6A7AE6DBE0000BF6F94987EA40A01A06DCFA7A7A9030496C32F77891D0000A99FB1A0AFA80603B29AB9CA75930D010C0948354D3900000C0948354F37460D0028BE673D8400000000AF9D7B6E00002B007AA8933400007AA642675C2700007984CFB9C3985B768772A8A6B7B20000CAAECAAFC4B700009F94A6009F840009D09F9BA4CA9C0000CC8FC76DC87F0000C991C472A2000000A894A48CA7B501079BA2C9C69BA20000B19A5D3FA89000005CA6009DA2960901B0A7F0669FB200009D009E00B7890000DAD0F5D092820000D294D4C48BD10000B5A7A4A3B1A50402CAB6CBA6A2000000B5A7A4A3B1A8044FCDADD19D9CB00000B7778F7B8AAE0803C9AB5D3F5D3F00009EA09EA0BAB006039EA0989A8C7900009B9EF4D6B7C00000A9A7816CACA80000ABAC84705D3F000096DA635CDC8C00006F486F266F263D4784006124097B00374F6D2D6D2D6D4A3A95872322000000030000000000008D8939130000000000002E22A5C9CBC70600AB25C0B5C9B400061A2DB04CA67001082AA6BEBEBFC606002321DACBC19E03087AA08B6768380000282FBAC0B8CA7A88AD25BBA5A29900004C396C5894A6000040485A6E356E9442A32CD17EADA70000B4237923628600003E2DE9C1D7B500002F25BBA5A2990000231DB6AFB4A804023025C0B5CAB588062B2CBDBEC0C706882435A75CA20000002326BD6A82A908048B4B9A5A668000002423A09CB4BB060025259C9D8A7900001C1FCAB2C7C700002A2A9387ABA200002626A4A47D6E9D14333163A0C87500004B6F9C2D643A257049364936493647358A34438355497F1A0000A24C1D590000D38DFFBDD4CD3126"))}}),define(X[476],ee([1,0,474,268,475,171]),function(q,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MinimapCharRendererFactory=void 0;class S{static create(_,f){if(this.lastCreated&&_===this.lastCreated.scale&&f===this.lastFontFamily)return this.lastCreated;let p;return y.prebakedMiniMaps[_]?p=new L.MinimapCharRenderer(y.prebakedMiniMaps[_](),_):p=S.createFromSampleData(S.createSampleData(f).data,_),this.lastFontFamily=f,this.lastCreated=p,p}static createSampleData(_){const f=document.createElement("canvas"),p=f.getContext("2d");f.style.height="16px",f.height=16,f.width=96*10,f.style.width=96*10+"px",p.fillStyle="#ffffff",p.font=`bold 16px ${_}`,p.textBaseline="middle";let s=0;for(const t of k.allCharCodes)p.fillText(String.fromCharCode(t),s,16/2),s+=10;return p.getImageData(0,0,96*10,16)}static createFromSampleData(_,f){if(_.length!==61440)throw new Error("Unexpected source in MinimapCharRenderer");const s=S._downsample(_,f);return new L.MinimapCharRenderer(s,f)}static _downsampleChar(_,f,p,s,t){const i=1*t,o=2*t;let r=s,d=0;for(let h=0;h<o;h++){const n=h/o*16,c=(h+1)/o*16;for(let a=0;a<i;a++){const l=a/i*10,u=(a+1)/i*10;let C=0,g=0;for(let b=n;b<c;b++){const w=f+Math.floor(b)*3840,E=1-(b-Math.floor(b));for(let I=l;I<u;I++){const T=1-(I-Math.floor(I)),P=w+Math.floor(I)*4,A=T*E;g+=A,C+=_[P]*_[P+3]/255*A}}const v=C/g;d=Math.max(d,v),p[r++]=(0,D.toUint8)(v)}}return d}static _downsample(_,f){const p=2*f*1*f,s=p*96,t=new Uint8ClampedArray(s);let i=0,o=0,r=0;for(let d=0;d<96;d++)r=Math.max(r,this._downsampleChar(_,o,t,i,f)),i+=p,o+=10*4;if(r>0){const d=255/r;for(let h=0;h<s;h++)t[h]*=d}return t}}e.MinimapCharRendererFactory=S}),define(X[477],ee([1,0,6,2]),function(q,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DelegatingEditor=void 0;class y extends k.Disposable{constructor(){super(...arguments),this._id=++y.idCounter,this._onDidDispose=this._register(new L.Emitter),this.onDidDispose=this._onDidDispose.event}getId(){return this.getEditorType()+":v2:"+this._id}getVisibleColumnFromPosition(S){return this._targetEditor.getVisibleColumnFromPosition(S)}getPosition(){return this._targetEditor.getPosition()}setPosition(S,m="api"){this._targetEditor.setPosition(S,m)}revealLine(S,m=0){this._targetEditor.revealLine(S,m)}revealLineInCenter(S,m=0){this._targetEditor.revealLineInCenter(S,m)}revealLineInCenterIfOutsideViewport(S,m=0){this._targetEditor.revealLineInCenterIfOutsideViewport(S,m)}revealLineNearTop(S,m=0){this._targetEditor.revealLineNearTop(S,m)}revealPosition(S,m=0){this._targetEditor.revealPosition(S,m)}revealPositionInCenter(S,m=0){this._targetEditor.revealPositionInCenter(S,m)}revealPositionInCenterIfOutsideViewport(S,m=0){this._targetEditor.revealPositionInCenterIfOutsideViewport(S,m)}revealPositionNearTop(S,m=0){this._targetEditor.revealPositionNearTop(S,m)}getSelection(){return this._targetEditor.getSelection()}getSelections(){return this._targetEditor.getSelections()}setSelection(S,m="api"){this._targetEditor.setSelection(S,m)}setSelections(S,m="api"){this._targetEditor.setSelections(S,m)}revealLines(S,m,_=0){this._targetEditor.revealLines(S,m,_)}revealLinesInCenter(S,m,_=0){this._targetEditor.revealLinesInCenter(S,m,_)}revealLinesInCenterIfOutsideViewport(S,m,_=0){this._targetEditor.revealLinesInCenterIfOutsideViewport(S,m,_)}revealLinesNearTop(S,m,_=0){this._targetEditor.revealLinesNearTop(S,m,_)}revealRange(S,m=0,_=!1,f=!0){this._targetEditor.revealRange(S,m,_,f)}revealRangeInCenter(S,m=0){this._targetEditor.revealRangeInCenter(S,m)}revealRangeInCenterIfOutsideViewport(S,m=0){this._targetEditor.revealRangeInCenterIfOutsideViewport(S,m)}revealRangeNearTop(S,m=0){this._targetEditor.revealRangeNearTop(S,m)}revealRangeNearTopIfOutsideViewport(S,m=0){this._targetEditor.revealRangeNearTopIfOutsideViewport(S,m)}revealRangeAtTop(S,m=0){this._targetEditor.revealRangeAtTop(S,m)}getSupportedActions(){return this._targetEditor.getSupportedActions()}focus(){this._targetEditor.focus()}trigger(S,m,_){this._targetEditor.trigger(S,m,_)}createDecorationsCollection(S){return this._targetEditor.createDecorationsCollection(S)}changeDecorations(S){return this._targetEditor.changeDecorations(S)}}e.DelegatingEditor=y,y.idCounter=0}),define(X[269],ee([1,0,2,42]),function(q,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MovedBlocksLinesPart=void 0;class y extends L.Disposable{constructor(S,m,_,f,p){super(),this._rootElement=S,this._diffModel=m,this._originalEditorLayoutInfo=_,this._modifiedEditorLayoutInfo=f,this._editors=p;const s=document.createElementNS("http://www.w3.org/2000/svg","svg");s.setAttribute("class","moved-blocks-lines"),this._rootElement.appendChild(s),this._register((0,k.autorun)("update",r=>{const d=this._originalEditorLayoutInfo.read(r),h=this._modifiedEditorLayoutInfo.read(r);!d||!h||(s.style.left=`${d.width-d.verticalScrollbarWidth}px`,s.style.height=`${d.height}px`,s.style.width=`${d.verticalScrollbarWidth+d.contentLeft-y.movedCodeBlockPadding}px`)}));const t=(0,k.observableFromEvent)(this._editors.original.onDidScrollChange,()=>this._editors.original.getScrollTop()),i=(0,k.observableFromEvent)(this._editors.modified.onDidScrollChange,()=>this._editors.modified.getScrollTop()),o=(0,k.observableSignalFromEvent)("onDidChangeViewZones",this._editors.modified.onDidChangeViewZones);this._register((0,k.autorun)("update",r=>{var d,h;s.replaceChildren(),o.read(r);const n=this._originalEditorLayoutInfo.read(r),c=this._modifiedEditorLayoutInfo.read(r);if(!n||!c)return;const a=n.verticalScrollbarWidth+n.contentLeft-y.movedCodeBlockPadding,l=(h=(d=this._diffModel.read(r))===null||d===void 0?void 0:d.diff.read(r))===null||h===void 0?void 0:h.movedTexts;if(!l)return;let u=0;for(const C of l){let g=function(M,N){const R=N.getTopForLineNumber(M.startLineNumber),F=N.getTopForLineNumber(M.endLineNumberExclusive);return(R+F)/2};const v=g(C.lineRangeMapping.originalRange,this._editors.original),b=t.read(r),w=g(C.lineRangeMapping.modifiedRange,this._editors.modified),E=i.read(r),I=v-b,T=w-E,P=a/2-l.length*5+u*10;u++;const A=document.createElementNS("http://www.w3.org/2000/svg","path");A.setAttribute("d",`M 0 ${I} L ${P} ${I} L ${P} ${T} L ${a} ${T}`),A.setAttribute("fill","none"),s.appendChild(A)}}))}}e.MovedBlocksLinesPart=y,y.movedCodeBlockPadding=4}),define(X[143],ee([1,0,2,42,199]),function(q,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.applyViewZones=e.observeHotReloadableExports=e.readHotReloadableExport=e.applyStyle=e.ManagedOverlayWidget=e.PlaceholderViewZone=e.ViewZoneOverlayWidget=e.animatedObservable=e.ObservableElementSizeObserver=e.appendRemoveOnDispose=e.applyObservableDecorations=e.joinCombine=void 0;function D(n,c,a,l){if(n.length===0)return c;if(c.length===0)return n;const u=[];let C=0,g=0;for(;C<n.length&&g<c.length;){const v=n[C],b=c[g],w=a(v),E=a(b);w<E?(u.push(v),C++):w>E?(u.push(b),g++):(u.push(l(v,b)),C++,g++)}for(;C<n.length;)u.push(n[C]),C++;for(;g<c.length;)u.push(c[g]),g++;return u}e.joinCombine=D;function S(n,c){const a=new L.DisposableStore,l=n.createDecorationsCollection();return a.add((0,k.autorun)(`Apply decorations from ${c.debugName}`,u=>{const C=c.read(u);l.set(C)})),a.add({dispose:()=>{l.clear()}}),a}e.applyObservableDecorations=S;function m(n,c){return n.appendChild(c),(0,L.toDisposable)(()=>{n.removeChild(c)})}e.appendRemoveOnDispose=m;class _ extends L.Disposable{get width(){return this._width}get height(){return this._height}constructor(c,a){super(),this.elementSizeObserver=this._register(new y.ElementSizeObserver(c,a)),this._width=(0,k.observableValue)("width",this.elementSizeObserver.getWidth()),this._height=(0,k.observableValue)("height",this.elementSizeObserver.getHeight()),this._register(this.elementSizeObserver.onDidChange(l=>(0,k.transaction)(u=>{this._width.set(this.elementSizeObserver.getWidth(),u),this._height.set(this.elementSizeObserver.getHeight(),u)})))}observe(c){this.elementSizeObserver.observe(c)}setAutomaticLayout(c){c?this.elementSizeObserver.startObserving():this.elementSizeObserver.stopObserving()}}e.ObservableElementSizeObserver=_;function f(n,c){let a=n.get(),l=a,u=a;const C=(0,k.observableValue)("animatedValue",a);let g=-1;const v=300;let b;c.add((0,k.autorunHandleChanges)("update value",{createEmptyChangeSummary:()=>({animate:!1}),handleChange:(E,I)=>(E.didChange(n)&&(I.animate=I.animate||E.change),!0)},(E,I)=>{b!==void 0&&(cancelAnimationFrame(b),b=void 0),l=u,a=n.read(E),g=Date.now()-(I.animate?0:v),w()}));function w(){const E=Date.now()-g;u=Math.floor(p(E,l,a-l,v)),E<v?b=requestAnimationFrame(w):u=a,C.set(u,void 0)}return C}e.animatedObservable=f;function p(n,c,a,l){return n===l?c+a:a*(-Math.pow(2,-10*n/l)+1)+c}class s extends L.Disposable{constructor(c,a,l){super(),this._register(new i(c,l)),this._register(o(l,{height:a.actualHeight,top:a.actualTop}))}}e.ViewZoneOverlayWidget=s;class t{get afterLineNumber(){return this._afterLineNumber.get()}constructor(c,a){this._afterLineNumber=c,this.heightInPx=a,this.domNode=document.createElement("div"),this._actualTop=(0,k.observableValue)("actualTop",void 0),this._actualHeight=(0,k.observableValue)("actualHeight",void 0),this.actualTop=this._actualTop,this.actualHeight=this._actualHeight,this.showInHiddenAreas=!0,this.onChange=this._afterLineNumber,this.onDomNodeTop=l=>{this._actualTop.set(l,void 0)},this.onComputedHeight=l=>{this._actualHeight.set(l,void 0)}}}e.PlaceholderViewZone=t;class i{constructor(c,a){this._editor=c,this._domElement=a,this._overlayWidgetId=`managedOverlayWidget-${i._counter++}`,this._overlayWidget={getId:()=>this._overlayWidgetId,getDomNode:()=>this._domElement,getPosition:()=>null},this._editor.addOverlayWidget(this._overlayWidget)}dispose(){this._editor.removeOverlayWidget(this._overlayWidget)}}e.ManagedOverlayWidget=i,i._counter=0;function o(n,c){return(0,k.autorun)("applyStyle",a=>{for(let[l,u]of Object.entries(c))u&&typeof u=="object"&&"read"in u&&(u=u.read(a)),typeof u=="number"&&(u=`${u}px`),n.style[l]=u})}e.applyStyle=o;function r(n,c){return d([n],c),n}e.readHotReloadableExport=r;function d(n,c){const a=globalThis.$hotReload_deprecateExports;if(!a)return;(0,k.observableSignalFromEvent)("reload",u=>{function C(g,v){return[...Object.values(g)].some(b=>n.includes(b))?(u(void 0),!0):!1}return a.add(C),{dispose(){a.delete(C)}}}).read(c)}e.observeHotReloadableExports=d;function h(n,c,a){const l=new L.DisposableStore,u=[];return l.add((0,k.autorun)("applyViewZones",C=>{const g=c.read(C),v=new Map,b=new Map;a&&a(!0),n.changeViewZones(w=>{for(const E of u)w.removeZone(E);u.length=0;for(const E of g){const I=w.addZone(E);u.push(I),v.set(E,I)}}),a&&a(!1),l.add((0,k.autorunHandleChanges)("layoutZone on change",{createEmptyChangeSummary(){return[]},handleChange(w,E){const I=b.get(w.changedObservable);return I!==void 0&&E.push(I),!0}},(w,E)=>{for(const I of g)I.onChange&&(b.set(I.onChange,v.get(I)),I.onChange.read(w));a&&a(!0),n.changeViewZones(I=>{for(const T of E)I.layoutZone(T)}),a&&a(!1)}))})),l.add({dispose(){a&&a(!0),n.changeViewZones(C=>{for(const g of u)C.removeZone(g)}),a&&a(!1)}}),l}e.applyViewZones=h}),define(X[144],ee([1,0,6]),function(q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorZoom=void 0,e.EditorZoom=new class{constructor(){this._zoomLevel=0,this._onDidChangeZoomLevel=new L.Emitter,this.onDidChangeZoomLevel=this._onDidChangeZoomLevel.event}getZoomLevel(){return this._zoomLevel}setZoomLevel(k){k=Math.min(Math.max(-5,k),20),this._zoomLevel!==k&&(this._zoomLevel=k,this._onDidChangeZoomLevel.fire(this._zoomLevel))}}}),define(X[119],ee([1,0,171]),function(q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CharacterSet=e.CharacterClassifier=void 0;class k{constructor(S){const m=(0,L.toUint8)(S);this._defaultValue=m,this._asciiMap=k._createAsciiMap(m),this._map=new Map}static _createAsciiMap(S){const m=new Uint8Array(256);return m.fill(S),m}set(S,m){const _=(0,L.toUint8)(m);S>=0&&S<256?this._asciiMap[S]=_:this._map.set(S,_)}get(S){return S>=0&&S<256?this._asciiMap[S]:this._map.get(S)||this._defaultValue}clear(){this._asciiMap.fill(this._defaultValue),this._map.clear()}}e.CharacterClassifier=k;class y{constructor(){this._actual=new k(0)}add(S){this._actual.set(S,1)}has(S){return this._actual.get(S)===1}clear(){return this._actual.clear()}}e.CharacterSet=y}),define(X[81],ee([1,0,9]),function(q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorColumns=void 0;class k{static _nextVisibleColumn(D,S,m){return D===9?k.nextRenderTabStop(S,m):L.isFullWidthCharacter(D)||L.isEmojiImprecise(D)?S+2:S+1}static visibleColumnFromColumn(D,S,m){const _=Math.min(S-1,D.length),f=D.substring(0,_),p=new L.GraphemeIterator(f);let s=0;for(;!p.eol();){const t=L.getNextCodePoint(f,_,p.offset);p.nextGraphemeLength(),s=this._nextVisibleColumn(t,s,m)}return s}static columnFromVisibleColumn(D,S,m){if(S<=0)return 1;const _=D.length,f=new L.GraphemeIterator(D);let p=0,s=1;for(;!f.eol();){const t=L.getNextCodePoint(D,_,f.offset);f.nextGraphemeLength();const i=this._nextVisibleColumn(t,p,m),o=f.offset+1;if(i>=S){const r=S-p;return i-S<r?o:s}p=i,s=o}return _+1}static nextRenderTabStop(D,S){return D+S-D%S}static nextIndentTabStop(D,S){return D+S-D%S}static prevRenderTabStop(D,S){return Math.max(0,D-1-(D-1)%S)}static prevIndentTabStop(D,S){return Math.max(0,D-1-(D-1)%S)}}e.CursorColumns=k}),define(X[120],ee([1,0]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.countEOL=void 0;function L(k){let y=0,D=0,S=0,m=0;for(let _=0,f=k.length;_<f;_++){const p=k.charCodeAt(_);p===13?(y===0&&(D=_),y++,_+1<f&&k.charCodeAt(_+1)===10?(m|=2,_++):m|=3,S=_+1):p===10&&(m|=1,y===0&&(D=_),y++,S=_+1)}return y===0&&(D=k.length),[y,D,k.length-S,m]}e.countEOL=L}),define(X[201],ee([1,0,9,81]),function(q,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.normalizeIndentation=void 0;function y(S,m,_){let f=0;for(let s=0;s<S.length;s++)S.charAt(s)==="	"?f=k.CursorColumns.nextIndentTabStop(f,m):f++;let p="";if(!_){const s=Math.floor(f/m);f=f%m;for(let t=0;t<s;t++)p+="	"}for(let s=0;s<f;s++)p+=" ";return p}function D(S,m,_){let f=L.firstNonWhitespaceIndex(S);return f===-1&&(f=S.length),y(S.substring(0,f),m,_)+S.substring(f)}e.normalizeIndentation=D}),define(X[121],ee([1,0,12]),function(q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OffsetRange=void 0;class k{static addRange(D,S){let m=0;for(;m<S.length&&S[m].endExclusive<D.start;)m++;let _=m;for(;_<S.length&&S[_].start<=D.endExclusive;)_++;if(m===_)S.splice(m,0,D);else{const f=Math.min(D.start,S[m].start),p=Math.max(D.endExclusive,S[_-1].endExclusive);S.splice(m,_-m,new k(f,p))}}static tryCreate(D,S){if(!(D>S))return new k(D,S)}constructor(D,S){if(this.start=D,this.endExclusive=S,D>S)throw new L.BugIndicatingError(`Invalid range: ${this.toString()}`)}get isEmpty(){return this.start===this.endExclusive}delta(D){return new k(this.start+D,this.endExclusive+D)}get length(){return this.endExclusive-this.start}toString(){return`[${this.start}, ${this.endExclusive})`}equals(D){return this.start===D.start&&this.endExclusive===D.endExclusive}containsRange(D){return this.start<=D.start&&D.endExclusive<=this.endExclusive}join(D){return new k(Math.min(this.start,D.start),Math.max(this.endExclusive,D.endExclusive))}intersect(D){const S=Math.max(this.start,D.start),m=Math.min(this.endExclusive,D.endExclusive);if(S<=m)return new k(S,m)}}e.OffsetRange=k}),define(X[11],ee([1,0]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Position=void 0;class L{constructor(y,D){this.lineNumber=y,this.column=D}with(y=this.lineNumber,D=this.column){return y===this.lineNumber&&D===this.column?this:new L(y,D)}delta(y=0,D=0){return this.with(this.lineNumber+y,this.column+D)}equals(y){return L.equals(this,y)}static equals(y,D){return!y&&!D?!0:!!y&&!!D&&y.lineNumber===D.lineNumber&&y.column===D.column}isBefore(y){return L.isBefore(this,y)}static isBefore(y,D){return y.lineNumber<D.lineNumber?!0:D.lineNumber<y.lineNumber?!1:y.column<D.column}isBeforeOrEqual(y){return L.isBeforeOrEqual(this,y)}static isBeforeOrEqual(y,D){return y.lineNumber<D.lineNumber?!0:D.lineNumber<y.lineNumber?!1:y.column<=D.column}static compare(y,D){const S=y.lineNumber|0,m=D.lineNumber|0;if(S===m){const _=y.column|0,f=D.column|0;return _-f}return S-m}clone(){return new L(this.lineNumber,this.column)}toString(){return"("+this.lineNumber+","+this.column+")"}static lift(y){return new L(y.lineNumber,y.column)}static isIPosition(y){return y&&typeof y.lineNumber=="number"&&typeof y.column=="number"}}e.Position=L}),define(X[270],ee([1,0,11]),function(q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewUserInputEvents=void 0;class k{constructor(D){this.onKeyDown=null,this.onKeyUp=null,this.onContextMenu=null,this.onMouseMove=null,this.onMouseLeave=null,this.onMouseDown=null,this.onMouseUp=null,this.onMouseDrag=null,this.onMouseDrop=null,this.onMouseDropCanceled=null,this.onMouseWheel=null,this._coordinatesConverter=D}emitKeyDown(D){var S;(S=this.onKeyDown)===null||S===void 0||S.call(this,D)}emitKeyUp(D){var S;(S=this.onKeyUp)===null||S===void 0||S.call(this,D)}emitContextMenu(D){var S;(S=this.onContextMenu)===null||S===void 0||S.call(this,this._convertViewToModelMouseEvent(D))}emitMouseMove(D){var S;(S=this.onMouseMove)===null||S===void 0||S.call(this,this._convertViewToModelMouseEvent(D))}emitMouseLeave(D){var S;(S=this.onMouseLeave)===null||S===void 0||S.call(this,this._convertViewToModelMouseEvent(D))}emitMouseDown(D){var S;(S=this.onMouseDown)===null||S===void 0||S.call(this,this._convertViewToModelMouseEvent(D))}emitMouseUp(D){var S;(S=this.onMouseUp)===null||S===void 0||S.call(this,this._convertViewToModelMouseEvent(D))}emitMouseDrag(D){var S;(S=this.onMouseDrag)===null||S===void 0||S.call(this,this._convertViewToModelMouseEvent(D))}emitMouseDrop(D){var S;(S=this.onMouseDrop)===null||S===void 0||S.call(this,this._convertViewToModelMouseEvent(D))}emitMouseDropCanceled(){var D;(D=this.onMouseDropCanceled)===null||D===void 0||D.call(this)}emitMouseWheel(D){var S;(S=this.onMouseWheel)===null||S===void 0||S.call(this,D)}_convertViewToModelMouseEvent(D){return D.target?{event:D.event,target:this._convertViewToModelMouseTarget(D.target)}:D}_convertViewToModelMouseTarget(D){return k.convertViewToModelMouseTarget(D,this._coordinatesConverter)}static convertViewToModelMouseTarget(D,S){const m=Object.assign({},D);return m.position&&(m.position=S.convertViewPositionToModelPosition(m.position)),m.range&&(m.range=S.convertViewRangeToModelRange(m.range)),(m.type===5||m.type===8)&&(m.detail=this.convertViewToModelViewZoneData(m.detail,S)),m}static convertViewToModelViewZoneData(D,S){return{viewZoneId:D.viewZoneId,positionBefore:D.positionBefore?S.convertViewPositionToModelPosition(D.positionBefore):D.positionBefore,positionAfter:D.positionAfter?S.convertViewPositionToModelPosition(D.positionAfter):D.positionAfter,position:S.convertViewPositionToModelPosition(D.position),afterLineNumber:S.convertViewPositionToModelPosition(new L.Position(D.afterLineNumber,1)).lineNumber}}}e.ViewUserInputEvents=k}),define(X[5],ee([1,0,11]),function(q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Range=void 0;class k{constructor(D,S,m,_){D>m||D===m&&S>_?(this.startLineNumber=m,this.startColumn=_,this.endLineNumber=D,this.endColumn=S):(this.startLineNumber=D,this.startColumn=S,this.endLineNumber=m,this.endColumn=_)}isEmpty(){return k.isEmpty(this)}static isEmpty(D){return D.startLineNumber===D.endLineNumber&&D.startColumn===D.endColumn}containsPosition(D){return k.containsPosition(this,D)}static containsPosition(D,S){return!(S.lineNumber<D.startLineNumber||S.lineNumber>D.endLineNumber||S.lineNumber===D.startLineNumber&&S.column<D.startColumn||S.lineNumber===D.endLineNumber&&S.column>D.endColumn)}static strictContainsPosition(D,S){return!(S.lineNumber<D.startLineNumber||S.lineNumber>D.endLineNumber||S.lineNumber===D.startLineNumber&&S.column<=D.startColumn||S.lineNumber===D.endLineNumber&&S.column>=D.endColumn)}containsRange(D){return k.containsRange(this,D)}static containsRange(D,S){return!(S.startLineNumber<D.startLineNumber||S.endLineNumber<D.startLineNumber||S.startLineNumber>D.endLineNumber||S.endLineNumber>D.endLineNumber||S.startLineNumber===D.startLineNumber&&S.startColumn<D.startColumn||S.endLineNumber===D.endLineNumber&&S.endColumn>D.endColumn)}strictContainsRange(D){return k.strictContainsRange(this,D)}static strictContainsRange(D,S){return!(S.startLineNumber<D.startLineNumber||S.endLineNumber<D.startLineNumber||S.startLineNumber>D.endLineNumber||S.endLineNumber>D.endLineNumber||S.startLineNumber===D.startLineNumber&&S.startColumn<=D.startColumn||S.endLineNumber===D.endLineNumber&&S.endColumn>=D.endColumn)}plusRange(D){return k.plusRange(this,D)}static plusRange(D,S){let m,_,f,p;return S.startLineNumber<D.startLineNumber?(m=S.startLineNumber,_=S.startColumn):S.startLineNumber===D.startLineNumber?(m=S.startLineNumber,_=Math.min(S.startColumn,D.startColumn)):(m=D.startLineNumber,_=D.startColumn),S.endLineNumber>D.endLineNumber?(f=S.endLineNumber,p=S.endColumn):S.endLineNumber===D.endLineNumber?(f=S.endLineNumber,p=Math.max(S.endColumn,D.endColumn)):(f=D.endLineNumber,p=D.endColumn),new k(m,_,f,p)}intersectRanges(D){return k.intersectRanges(this,D)}static intersectRanges(D,S){let m=D.startLineNumber,_=D.startColumn,f=D.endLineNumber,p=D.endColumn;const s=S.startLineNumber,t=S.startColumn,i=S.endLineNumber,o=S.endColumn;return m<s?(m=s,_=t):m===s&&(_=Math.max(_,t)),f>i?(f=i,p=o):f===i&&(p=Math.min(p,o)),m>f||m===f&&_>p?null:new k(m,_,f,p)}equalsRange(D){return k.equalsRange(this,D)}static equalsRange(D,S){return!D&&!S?!0:!!D&&!!S&&D.startLineNumber===S.startLineNumber&&D.startColumn===S.startColumn&&D.endLineNumber===S.endLineNumber&&D.endColumn===S.endColumn}getEndPosition(){return k.getEndPosition(this)}static getEndPosition(D){return new L.Position(D.endLineNumber,D.endColumn)}getStartPosition(){return k.getStartPosition(this)}static getStartPosition(D){return new L.Position(D.startLineNumber,D.startColumn)}toString(){return"["+this.startLineNumber+","+this.startColumn+" -> "+this.endLineNumber+","+this.endColumn+"]"}setEndPosition(D,S){return new k(this.startLineNumber,this.startColumn,D,S)}setStartPosition(D,S){return new k(D,S,this.endLineNumber,this.endColumn)}collapseToStart(){return k.collapseToStart(this)}static collapseToStart(D){return new k(D.startLineNumber,D.startColumn,D.startLineNumber,D.startColumn)}collapseToEnd(){return k.collapseToEnd(this)}static collapseToEnd(D){return new k(D.endLineNumber,D.endColumn,D.endLineNumber,D.endColumn)}delta(D){return new k(this.startLineNumber+D,this.startColumn,this.endLineNumber+D,this.endColumn)}static fromPositions(D,S=D){return new k(D.lineNumber,D.column,S.lineNumber,S.column)}static lift(D){return D?new k(D.startLineNumber,D.startColumn,D.endLineNumber,D.endColumn):null}static isIRange(D){return D&&typeof D.startLineNumber=="number"&&typeof D.startColumn=="number"&&typeof D.endLineNumber=="number"&&typeof D.endColumn=="number"}static areIntersectingOrTouching(D,S){return!(D.endLineNumber<S.startLineNumber||D.endLineNumber===S.startLineNumber&&D.endColumn<S.startColumn||S.endLineNumber<D.startLineNumber||S.endLineNumber===D.startLineNumber&&S.endColumn<D.startColumn)}static areIntersecting(D,S){return!(D.endLineNumber<S.startLineNumber||D.endLineNumber===S.startLineNumber&&D.endColumn<=S.startColumn||S.endLineNumber<D.startLineNumber||S.endLineNumber===D.startLineNumber&&S.endColumn<=D.startColumn)}static compareRangesUsingStarts(D,S){if(D&&S){const f=D.startLineNumber|0,p=S.startLineNumber|0;if(f===p){const s=D.startColumn|0,t=S.startColumn|0;if(s===t){const i=D.endLineNumber|0,o=S.endLineNumber|0;if(i===o){const r=D.endColumn|0,d=S.endColumn|0;return r-d}return i-o}return s-t}return f-p}return(D?1:0)-(S?1:0)}static compareRangesUsingEnds(D,S){return D.endLineNumber===S.endLineNumber?D.endColumn===S.endColumn?D.startLineNumber===S.startLineNumber?D.startColumn-S.startColumn:D.startLineNumber-S.startLineNumber:D.endColumn-S.endColumn:D.endLineNumber-S.endLineNumber}static spansMultipleLines(D){return D.endLineNumber>D.startLineNumber}toJSON(){return this}}e.Range=k}),define(X[271],ee([1,0,9,5]),function(q,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PagedScreenReaderStrategy=e.TextAreaState=e._debugComposition=void 0,e._debugComposition=!1;class y{constructor(m,_,f,p,s){this.value=m,this.selectionStart=_,this.selectionEnd=f,this.selection=p,this.newlineCountBeforeSelection=s}toString(){return`[ <${this.value}>, selectionStart: ${this.selectionStart}, selectionEnd: ${this.selectionEnd}]`}static readFromTextArea(m,_){const f=m.getValue(),p=m.getSelectionStart(),s=m.getSelectionEnd();let t;if(_){const i=f.substring(0,p),o=_.value.substring(0,_.selectionStart);i===o&&(t=_.newlineCountBeforeSelection)}return new y(f,p,s,null,t)}collapseSelection(){return this.selectionStart===this.value.length?this:new y(this.value,this.value.length,this.value.length,null,void 0)}writeToTextArea(m,_,f){e._debugComposition&&console.log(`writeToTextArea ${m}: ${this.toString()}`),_.setValue(m,this.value),f&&_.setSelectionRange(m,this.selectionStart,this.selectionEnd)}deduceEditorPosition(m){var _,f,p,s,t,i,o,r;if(m<=this.selectionStart){const n=this.value.substring(m,this.selectionStart);return this._finishDeduceEditorPosition((f=(_=this.selection)===null||_===void 0?void 0:_.getStartPosition())!==null&&f!==void 0?f:null,n,-1)}if(m>=this.selectionEnd){const n=this.value.substring(this.selectionEnd,m);return this._finishDeduceEditorPosition((s=(p=this.selection)===null||p===void 0?void 0:p.getEndPosition())!==null&&s!==void 0?s:null,n,1)}const d=this.value.substring(this.selectionStart,m);if(d.indexOf(String.fromCharCode(8230))===-1)return this._finishDeduceEditorPosition((i=(t=this.selection)===null||t===void 0?void 0:t.getStartPosition())!==null&&i!==void 0?i:null,d,1);const h=this.value.substring(m,this.selectionEnd);return this._finishDeduceEditorPosition((r=(o=this.selection)===null||o===void 0?void 0:o.getEndPosition())!==null&&r!==void 0?r:null,h,-1)}_finishDeduceEditorPosition(m,_,f){let p=0,s=-1;for(;(s=_.indexOf(`
`,s+1))!==-1;)p++;return[m,f*_.length,p]}static deduceInput(m,_,f){if(!m)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};e._debugComposition&&(console.log("------------------------deduceInput"),console.log(`PREVIOUS STATE: ${m.toString()}`),console.log(`CURRENT STATE: ${_.toString()}`));const p=Math.min(L.commonPrefixLength(m.value,_.value),m.selectionStart,_.selectionStart),s=Math.min(L.commonSuffixLength(m.value,_.value),m.value.length-m.selectionEnd,_.value.length-_.selectionEnd),t=m.value.substring(p,m.value.length-s),i=_.value.substring(p,_.value.length-s),o=m.selectionStart-p,r=m.selectionEnd-p,d=_.selectionStart-p,h=_.selectionEnd-p;if(e._debugComposition&&(console.log(`AFTER DIFFING PREVIOUS STATE: <${t}>, selectionStart: ${o}, selectionEnd: ${r}`),console.log(`AFTER DIFFING CURRENT STATE: <${i}>, selectionStart: ${d}, selectionEnd: ${h}`)),d===h){const c=m.selectionStart-p;return e._debugComposition&&console.log(`REMOVE PREVIOUS: ${c} chars`),{text:i,replacePrevCharCnt:c,replaceNextCharCnt:0,positionDelta:0}}const n=r-o;return{text:i,replacePrevCharCnt:n,replaceNextCharCnt:0,positionDelta:0}}static deduceAndroidCompositionInput(m,_){if(!m)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};if(e._debugComposition&&(console.log("------------------------deduceAndroidCompositionInput"),console.log(`PREVIOUS STATE: ${m.toString()}`),console.log(`CURRENT STATE: ${_.toString()}`)),m.value===_.value)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:_.selectionEnd-m.selectionEnd};const f=Math.min(L.commonPrefixLength(m.value,_.value),m.selectionEnd),p=Math.min(L.commonSuffixLength(m.value,_.value),m.value.length-m.selectionEnd),s=m.value.substring(f,m.value.length-p),t=_.value.substring(f,_.value.length-p),i=m.selectionStart-f,o=m.selectionEnd-f,r=_.selectionStart-f,d=_.selectionEnd-f;return e._debugComposition&&(console.log(`AFTER DIFFING PREVIOUS STATE: <${s}>, selectionStart: ${i}, selectionEnd: ${o}`),console.log(`AFTER DIFFING CURRENT STATE: <${t}>, selectionStart: ${r}, selectionEnd: ${d}`)),{text:t,replacePrevCharCnt:o,replaceNextCharCnt:s.length-o,positionDelta:d-t.length}}}e.TextAreaState=y,y.EMPTY=new y("",0,0,null,void 0);class D{static _getPageOfLine(m,_){return Math.floor((m-1)/_)}static _getRangeForPage(m,_){const f=m*_,p=f+1,s=f+_;return new k.Range(p,1,s+1,1)}static fromEditorSelection(m,_,f,p){const t=D._getPageOfLine(_.startLineNumber,f),i=D._getRangeForPage(t,f),o=D._getPageOfLine(_.endLineNumber,f),r=D._getRangeForPage(o,f);let d=i.intersectRanges(new k.Range(1,1,_.startLineNumber,_.startColumn));if(p&&m.getValueLengthInRange(d,1)>500){const C=m.modifyPosition(d.getEndPosition(),-500);d=k.Range.fromPositions(C,d.getEndPosition())}const h=m.getValueInRange(d,1),n=m.getLineCount(),c=m.getLineMaxColumn(n);let a=r.intersectRanges(new k.Range(_.endLineNumber,_.endColumn,n,c));if(p&&m.getValueLengthInRange(a,1)>500){const C=m.modifyPosition(a.getStartPosition(),500);a=k.Range.fromPositions(a.getStartPosition(),C)}const l=m.getValueInRange(a,1);let u;if(t===o||t+1===o)u=m.getValueInRange(_,1);else{const C=i.intersectRanges(_),g=r.intersectRanges(_);u=m.getValueInRange(C,1)+String.fromCharCode(8230)+m.getValueInRange(g,1)}return p&&u.length>2*500&&(u=u.substring(0,500)+String.fromCharCode(8230)+u.substring(u.length-500,u.length)),new y(h+u+l,h.length,h.length+u.length,_,d.endLineNumber-d.startLineNumber)}}e.PagedScreenReaderStrategy=D}),define(X[71],ee([1,0,5]),function(q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditOperation=void 0;class k{static insert(D,S){return{range:new L.Range(D.lineNumber,D.column,D.lineNumber,D.column),text:S,forceMoveMarkers:!0}}static delete(D){return{range:D,text:null}}static replace(D,S){return{range:D,text:S}}static replaceMove(D,S){return{range:D,text:S,forceMoveMarkers:!0}}}e.EditOperation=k}),define(X[478],ee([1,0,9,71,5]),function(q,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.trimTrailingWhitespace=e.TrimTrailingWhitespaceCommand=void 0;class D{constructor(_,f){this._selection=_,this._cursors=f,this._selectionId=null}getEditOperations(_,f){const p=S(_,this._cursors);for(let s=0,t=p.length;s<t;s++){const i=p[s];f.addEditOperation(i.range,i.text)}this._selectionId=f.trackSelection(this._selection)}computeCursorState(_,f){return f.getTrackedSelection(this._selectionId)}}e.TrimTrailingWhitespaceCommand=D;function S(m,_){_.sort((i,o)=>i.lineNumber===o.lineNumber?i.column-o.column:i.lineNumber-o.lineNumber);for(let i=_.length-2;i>=0;i--)_[i].lineNumber===_[i+1].lineNumber&&_.splice(i,1);const f=[];let p=0,s=0;const t=_.length;for(let i=1,o=m.getLineCount();i<=o;i++){const r=m.getLineContent(i),d=r.length+1;let h=0;if(s<t&&_[s].lineNumber===i&&(h=_[s].column,s++,h===d)||r.length===0)continue;const n=L.lastNonWhitespaceIndex(r);let c=0;if(n===-1)c=1;else if(n!==r.length-1)c=n+2;else continue;c=Math.max(h,c),f[p++]=k.EditOperation.delete(new y.Range(i,c,i,d))}return f}e.trimTrailingWhitespace=S}),define(X[65],ee([1,0,12,5]),function(q,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LineRange=void 0;class y{static fromRange(S){return new y(S.startLineNumber,S.endLineNumber)}static subtract(S,m){return m?S.startLineNumber<m.startLineNumber&&m.endLineNumberExclusive<S.endLineNumberExclusive?[new y(S.startLineNumber,m.startLineNumber),new y(m.endLineNumberExclusive,S.endLineNumberExclusive)]:m.startLineNumber<=S.startLineNumber&&S.endLineNumberExclusive<=m.endLineNumberExclusive?[]:m.endLineNumberExclusive<S.endLineNumberExclusive?[new y(Math.max(m.endLineNumberExclusive,S.startLineNumber),S.endLineNumberExclusive)]:[new y(S.startLineNumber,Math.min(m.startLineNumber,S.endLineNumberExclusive))]:[S]}static joinMany(S){if(S.length===0)return[];let m=S[0];for(let _=1;_<S.length;_++)m=this.join(m,S[_]);return m}static join(S,m){if(S.length===0)return m;if(m.length===0)return S;const _=[];let f=0,p=0,s=null;for(;f<S.length||p<m.length;){let t=null;if(f<S.length&&p<m.length){const i=S[f],o=m[p];i.startLineNumber<o.startLineNumber?(t=i,f++):(t=o,p++)}else f<S.length?(t=S[f],f++):(t=m[p],p++);s===null?s=t:s.endLineNumberExclusive>=t.startLineNumber?s=new y(s.startLineNumber,Math.max(s.endLineNumberExclusive,t.endLineNumberExclusive)):(_.push(s),s=t)}return s!==null&&_.push(s),_}static ofLength(S,m){return new y(S,S+m)}static deserialize(S){return new y(S[0],S[1])}constructor(S,m){if(S>m)throw new L.BugIndicatingError(`startLineNumber ${S} cannot be after endLineNumberExclusive ${m}`);this.startLineNumber=S,this.endLineNumberExclusive=m}contains(S){return this.startLineNumber<=S&&S<this.endLineNumberExclusive}get isEmpty(){return this.startLineNumber===this.endLineNumberExclusive}delta(S){return new y(this.startLineNumber+S,this.endLineNumberExclusive+S)}get length(){return this.endLineNumberExclusive-this.startLineNumber}join(S){return new y(Math.min(this.startLineNumber,S.startLineNumber),Math.max(this.endLineNumberExclusive,S.endLineNumberExclusive))}toString(){return`[${this.startLineNumber},${this.endLineNumberExclusive})`}intersect(S){const m=Math.max(this.startLineNumber,S.startLineNumber),_=Math.min(this.endLineNumberExclusive,S.endLineNumberExclusive);if(m<=_)return new y(m,_)}intersectsStrict(S){return this.startLineNumber<S.endLineNumberExclusive&&S.startLineNumber<this.endLineNumberExclusive}overlapOrTouch(S){return this.startLineNumber<=S.endLineNumberExclusive&&S.startLineNumber<=this.endLineNumberExclusive}equals(S){return this.startLineNumber===S.startLineNumber&&this.endLineNumberExclusive===S.endLineNumberExclusive}toInclusiveRange(){return this.isEmpty?null:new k.Range(this.startLineNumber,1,this.endLineNumberExclusive-1,Number.MAX_SAFE_INTEGER)}toExclusiveRange(){return new k.Range(this.startLineNumber,1,this.endLineNumberExclusive,1)}mapToLineArray(S){const m=[];for(let _=this.startLineNumber;_<this.endLineNumberExclusive;_++)m.push(S(_));return m}serialize(){return[this.startLineNumber,this.endLineNumberExclusive]}includes(S){return this.startLineNumber<=S&&S<this.endLineNumberExclusive}}e.LineRange=y}),define(X[272],ee([1,0]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RGBA8=void 0;class L{constructor(y,D,S,m){this._rgba8Brand=void 0,this.r=L._clamp(y),this.g=L._clamp(D),this.b=L._clamp(S),this.a=L._clamp(m)}equals(y){return this.r===y.r&&this.g===y.g&&this.b===y.b&&this.a===y.a}static _clamp(y){return y<0?0:y>255?255:y|0}}e.RGBA8=L,L.Empty=new L(0,0,0,0)}),define(X[24],ee([1,0,11,5]),function(q,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Selection=void 0;class y extends k.Range{constructor(S,m,_,f){super(S,m,_,f),this.selectionStartLineNumber=S,this.selectionStartColumn=m,this.positionLineNumber=_,this.positionColumn=f}toString(){return"["+this.selectionStartLineNumber+","+this.selectionStartColumn+" -> "+this.positionLineNumber+","+this.positionColumn+"]"}equalsSelection(S){return y.selectionsEqual(this,S)}static selectionsEqual(S,m){return S.selectionStartLineNumber===m.selectionStartLineNumber&&S.selectionStartColumn===m.selectionStartColumn&&S.positionLineNumber===m.positionLineNumber&&S.positionColumn===m.positionColumn}getDirection(){return this.selectionStartLineNumber===this.startLineNumber&&this.selectionStartColumn===this.startColumn?0:1}setEndPosition(S,m){return this.getDirection()===0?new y(this.startLineNumber,this.startColumn,S,m):new y(S,m,this.startLineNumber,this.startColumn)}getPosition(){return new L.Position(this.positionLineNumber,this.positionColumn)}getSelectionStart(){return new L.Position(this.selectionStartLineNumber,this.selectionStartColumn)}setStartPosition(S,m){return this.getDirection()===0?new y(S,m,this.endLineNumber,this.endColumn):new y(this.endLineNumber,this.endColumn,S,m)}static fromPositions(S,m=S){return new y(S.lineNumber,S.column,m.lineNumber,m.column)}static fromRange(S,m){return m===0?new y(S.startLineNumber,S.startColumn,S.endLineNumber,S.endColumn):new y(S.endLineNumber,S.endColumn,S.startLineNumber,S.startColumn)}static liftSelection(S){return new y(S.selectionStartLineNumber,S.selectionStartColumn,S.positionLineNumber,S.positionColumn)}static selectionsArrEqual(S,m){if(S&&!m||!S&&m)return!1;if(!S&&!m)return!0;if(S.length!==m.length)return!1;for(let _=0,f=S.length;_<f;_++)if(!this.selectionsEqual(S[_],m[_]))return!1;return!0}static isISelection(S){return S&&typeof S.selectionStartLineNumber=="number"&&typeof S.selectionStartColumn=="number"&&typeof S.positionLineNumber=="number"&&typeof S.positionColumn=="number"}static createWithDirection(S,m,_,f,p){return p===0?new y(S,m,_,f):new y(_,f,S,m)}}e.Selection=y}),define(X[122],ee([1,0,24]),function(q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReplaceCommandThatPreservesSelection=e.ReplaceCommandWithOffsetCursorState=e.ReplaceCommandWithoutChangingPosition=e.ReplaceCommandThatSelectsText=e.ReplaceCommand=void 0;class k{constructor(f,p,s=!1){this._range=f,this._text=p,this.insertsAutoWhitespace=s}getEditOperations(f,p){p.addTrackedEditOperation(this._range,this._text)}computeCursorState(f,p){const t=p.getInverseEditOperations()[0].range;return L.Selection.fromPositions(t.getEndPosition())}}e.ReplaceCommand=k;class y{constructor(f,p){this._range=f,this._text=p}getEditOperations(f,p){p.addTrackedEditOperation(this._range,this._text)}computeCursorState(f,p){const t=p.getInverseEditOperations()[0].range;return L.Selection.fromRange(t,0)}}e.ReplaceCommandThatSelectsText=y;class D{constructor(f,p,s=!1){this._range=f,this._text=p,this.insertsAutoWhitespace=s}getEditOperations(f,p){p.addTrackedEditOperation(this._range,this._text)}computeCursorState(f,p){const t=p.getInverseEditOperations()[0].range;return L.Selection.fromPositions(t.getStartPosition())}}e.ReplaceCommandWithoutChangingPosition=D;class S{constructor(f,p,s,t,i=!1){this._range=f,this._text=p,this._columnDeltaOffset=t,this._lineNumberDeltaOffset=s,this.insertsAutoWhitespace=i}getEditOperations(f,p){p.addTrackedEditOperation(this._range,this._text)}computeCursorState(f,p){const t=p.getInverseEditOperations()[0].range;return L.Selection.fromPositions(t.getEndPosition().delta(this._lineNumberDeltaOffset,this._columnDeltaOffset))}}e.ReplaceCommandWithOffsetCursorState=S;class m{constructor(f,p,s,t=!1){this._range=f,this._text=p,this._initialSelection=s,this._forceMoveMarkers=t,this._selectionId=null}getEditOperations(f,p){p.addTrackedEditOperation(this._range,this._text,this._forceMoveMarkers),this._selectionId=p.trackSelection(this._initialSelection)}computeCursorState(f,p){return p.getTrackedSelection(this._selectionId)}}e.ReplaceCommandThatPreservesSelection=m}),define(X[479],ee([1,0,5,24]),function(q,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CompositionSurroundSelectionCommand=e.SurroundSelectionCommand=void 0;class y{constructor(m,_,f){this._range=m,this._charBeforeSelection=_,this._charAfterSelection=f}getEditOperations(m,_){_.addTrackedEditOperation(new L.Range(this._range.startLineNumber,this._range.startColumn,this._range.startLineNumber,this._range.startColumn),this._charBeforeSelection),_.addTrackedEditOperation(new L.Range(this._range.endLineNumber,this._range.endColumn,this._range.endLineNumber,this._range.endColumn),this._charAfterSelection)}computeCursorState(m,_){const f=_.getInverseEditOperations(),p=f[0].range,s=f[1].range;return new k.Selection(p.endLineNumber,p.endColumn,s.endLineNumber,s.endColumn-this._charAfterSelection.length)}}e.SurroundSelectionCommand=y;class D{constructor(m,_,f){this._position=m,this._text=_,this._charAfter=f}getEditOperations(m,_){_.addTrackedEditOperation(new L.Range(this._position.lineNumber,this._position.column,this._position.lineNumber,this._position.column),this._text+this._charAfter)}computeCursorState(m,_){const p=_.getInverseEditOperations()[0].range;return new k.Selection(p.endLineNumber,p.startColumn,p.endLineNumber,p.endColumn-this._charAfter.length)}}e.CompositionSurroundSelectionCommand=D}),define(X[177],ee([1,0]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EDITOR_MODEL_DEFAULTS=void 0,e.EDITOR_MODEL_DEFAULTS={tabSize:4,indentSize:4,insertSpaces:!0,detectIndentation:!0,trimAutoWhitespace:!0,largeFileOptimizations:!0,bracketPairColorizationOptions:{enabled:!0,independentColorPoolPerBracketType:!1}}}),define(X[145],ee([1,0,119]),function(q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getMapForWordSeparators=e.WordCharacterClassifier=void 0;class k extends L.CharacterClassifier{constructor(S){super(0);for(let m=0,_=S.length;m<_;m++)this.set(S.charCodeAt(m),2);this.set(32,1),this.set(9,1)}}e.WordCharacterClassifier=k;function y(D){const S={};return m=>(S.hasOwnProperty(m)||(S[m]=D(m)),S[m])}e.getMapForWordSeparators=y(D=>new k(D))}),define(X[146],ee([1,0,50,63]),function(q,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getWordAtText=e.ensureValidWordDefinition=e.DEFAULT_WORD_REGEXP=e.USUAL_WORD_SEPARATORS=void 0,e.USUAL_WORD_SEPARATORS="`~!@#$%^&*()-=+[{]}\\|;:'\",.<>/?";function y(f=""){let p="(-?\\d*\\.\\d\\w*)|([^";for(const s of e.USUAL_WORD_SEPARATORS)f.indexOf(s)>=0||(p+="\\"+s);return p+="\\s]+)",new RegExp(p,"g")}e.DEFAULT_WORD_REGEXP=y();function D(f){let p=e.DEFAULT_WORD_REGEXP;if(f&&f instanceof RegExp)if(f.global)p=f;else{let s="g";f.ignoreCase&&(s+="i"),f.multiline&&(s+="m"),f.unicode&&(s+="u"),p=new RegExp(f.source,s)}return p.lastIndex=0,p}e.ensureValidWordDefinition=D;const S=new k.LinkedList;S.unshift({maxLen:1e3,windowSize:15,timeBudget:150});function m(f,p,s,t,i){if(i||(i=L.Iterable.first(S)),s.length>i.maxLen){let n=f-i.maxLen/2;return n<0?n=0:t+=n,s=s.substring(n,f+i.maxLen/2),m(f,p,s,t,i)}const o=Date.now(),r=f-1-t;let d=-1,h=null;for(let n=1;!(Date.now()-o>=i.timeBudget);n++){const c=r-i.windowSize*n;p.lastIndex=Math.max(0,c);const a=_(p,s,r,d);if(!a&&h||(h=a,c<=0))break;d=c}if(h){const n={word:h[0],startColumn:t+1+h.index,endColumn:t+1+h.index+h[0].length};return p.lastIndex=0,n}return null}e.getWordAtText=m;function _(f,p,s,t){let i;for(;i=f.exec(p);){const o=i.index||0;if(o<=s&&f.lastIndex>=s)return i;if(t>0&&o>t)return null}return null}}),define(X[273],ee([1,0,81]),function(q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AtomicTabMoveOperations=void 0;class k{static whitespaceVisibleColumn(D,S,m){const _=D.length;let f=0,p=-1,s=-1;for(let t=0;t<_;t++){if(t===S)return[p,s,f];switch(f%m===0&&(p=t,s=f),D.charCodeAt(t)){case 32:f+=1;break;case 9:f=L.CursorColumns.nextRenderTabStop(f,m);break;default:return[-1,-1,-1]}}return S===_?[p,s,f]:[-1,-1,-1]}static atomicPosition(D,S,m,_){const f=D.length,[p,s,t]=k.whitespaceVisibleColumn(D,S,m);if(t===-1)return-1;let i;switch(_){case 0:i=!0;break;case 1:i=!1;break;case 2:if(t%m===0)return S;i=t%m<=m/2;break}if(i){if(p===-1)return-1;let d=s;for(let h=p;h<f;++h){if(d===s+m)return p;switch(D.charCodeAt(h)){case 32:d+=1;break;case 9:d=L.CursorColumns.nextRenderTabStop(d,m);break;default:return-1}}return d===s+m?p:-1}const o=L.CursorColumns.nextRenderTabStop(t,m);let r=t;for(let d=S;d<f;d++){if(r===o)return d;switch(D.charCodeAt(d)){case 32:r+=1;break;case 9:r=L.CursorColumns.nextRenderTabStop(r,m);break;default:return-1}}return r===o?f:-1}}e.AtomicTabMoveOperations=k}),define(X[480],ee([1,0]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorContext=void 0;class L{constructor(y,D,S,m){this._cursorContextBrand=void 0,this.model=y,this.viewModel=D,this.coordinatesConverter=S,this.cursorConfig=m}}e.CursorContext=L}),define(X[178],ee([1,0,12,121]),function(q,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DateTimeout=e.InfiniteTimeout=e.SequenceDiff=e.DiffAlgorithmResult=void 0;class y{static trivial(f,p){return new y([new D(new k.OffsetRange(0,f.length),new k.OffsetRange(0,p.length))],!1)}static trivialTimedOut(f,p){return new y([new D(new k.OffsetRange(0,f.length),new k.OffsetRange(0,p.length))],!0)}constructor(f,p){this.diffs=f,this.hitTimeout=p}}e.DiffAlgorithmResult=y;class D{constructor(f,p){this.seq1Range=f,this.seq2Range=p}reverse(){return new D(this.seq2Range,this.seq1Range)}toString(){return`${this.seq1Range} <-> ${this.seq2Range}`}join(f){return new D(this.seq1Range.join(f.seq1Range),this.seq2Range.join(f.seq2Range))}delta(f){return f===0?this:new D(this.seq1Range.delta(f),this.seq2Range.delta(f))}}e.SequenceDiff=D;class S{isValid(){return!0}}e.InfiniteTimeout=S,S.instance=new S;class m{constructor(f){if(this.timeout=f,this.startTime=Date.now(),this.valid=!0,f<=0)throw new L.BugIndicatingError("timeout must be positive")}isValid(){if(!(Date.now()-this.startTime<this.timeout)&&this.valid){this.valid=!1;debugger}return this.valid}}e.DateTimeout=m}),define(X[481],ee([1,0,121,178]),function(q,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.shiftSequenceDiffs=e.joinSequenceDiffs=e.smoothenSequenceDiffs=e.optimizeSequenceDiffs=void 0;function y(f,p,s){let t=s;return t=S(f,p,t),t=m(f,p,t),t}e.optimizeSequenceDiffs=y;function D(f,p,s){const t=[];for(const i of s){const o=t[t.length-1];if(!o){t.push(i);continue}i.seq1Range.start-o.seq1Range.endExclusive<=2||i.seq2Range.start-o.seq2Range.endExclusive<=2?t[t.length-1]=new k.SequenceDiff(o.seq1Range.join(i.seq1Range),o.seq2Range.join(i.seq2Range)):t.push(i)}return t}e.smoothenSequenceDiffs=D;function S(f,p,s){const t=[];s.length>0&&t.push(s[0]);for(let o=1;o<s.length;o++){const r=s[o-1];let d=s[o];if(d.seq1Range.isEmpty||d.seq2Range.isEmpty){const h=d.seq1Range.start-r.seq1Range.endExclusive;let n;for(n=1;n<=h&&!(f.getElement(d.seq1Range.start-n)!==f.getElement(d.seq1Range.endExclusive-n)||p.getElement(d.seq2Range.start-n)!==p.getElement(d.seq2Range.endExclusive-n));n++);if(n--,n===h){t[t.length-1]=new k.SequenceDiff(new L.OffsetRange(r.seq1Range.start,d.seq1Range.endExclusive-h),new L.OffsetRange(r.seq2Range.start,d.seq2Range.endExclusive-h));continue}d=d.delta(-n)}t.push(d)}const i=[];for(let o=0;o<t.length-1;o++){const r=t[o+1];let d=t[o];if(d.seq1Range.isEmpty||d.seq2Range.isEmpty){const h=r.seq1Range.start-d.seq1Range.endExclusive;let n;for(n=0;n<h&&!(f.getElement(d.seq1Range.start+n)!==f.getElement(d.seq1Range.endExclusive+n)||p.getElement(d.seq2Range.start+n)!==p.getElement(d.seq2Range.endExclusive+n));n++);if(n===h){t[o+1]=new k.SequenceDiff(new L.OffsetRange(d.seq1Range.start+h,r.seq1Range.endExclusive),new L.OffsetRange(d.seq2Range.start+h,r.seq2Range.endExclusive));continue}n>0&&(d=d.delta(n))}i.push(d)}return t.length>0&&i.push(t[t.length-1]),i}e.joinSequenceDiffs=S;function m(f,p,s){if(!f.getBoundaryScore||!p.getBoundaryScore)return s;for(let t=0;t<s.length;t++){const i=t>0?s[t-1]:void 0,o=s[t],r=t+1<s.length?s[t+1]:void 0,d=new L.OffsetRange(i?i.seq1Range.start+1:0,r?r.seq1Range.endExclusive-1:f.length),h=new L.OffsetRange(i?i.seq2Range.start+1:0,r?r.seq2Range.endExclusive-1:p.length);o.seq1Range.isEmpty?s[t]=_(o,f,p,d,h):o.seq2Range.isEmpty&&(s[t]=_(o.reverse(),p,f,h,d).reverse())}return s}e.shiftSequenceDiffs=m;function _(f,p,s,t,i){let r=1;for(;f.seq1Range.start-r>=t.start&&f.seq2Range.start-r>=i.start&&s.getElement(f.seq2Range.start-r)===s.getElement(f.seq2Range.endExclusive-r)&&r<100;)r++;r--;let d=0;for(;f.seq1Range.start+d<t.endExclusive&&f.seq2Range.endExclusive+d<i.endExclusive&&s.getElement(f.seq2Range.start+d)===s.getElement(f.seq2Range.endExclusive+d)&&d<100;)d++;if(r===0&&d===0)return f;let h=0,n=-1;for(let c=-r;c<=d;c++){const a=f.seq2Range.start+c,l=f.seq2Range.endExclusive+c,u=f.seq1Range.start+c,C=p.getBoundaryScore(u)+s.getBoundaryScore(a)+s.getBoundaryScore(l);C>n&&(n=C,h=c)}return f.delta(h)}}),define(X[482],ee([1,0,121,178]),function(q,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MyersDiffAlgorithm=void 0;class y{compute(f,p,s=k.InfiniteTimeout.instance){if(f.length===0||p.length===0)return k.DiffAlgorithmResult.trivial(f,p);function t(l,u){for(;l<f.length&&u<p.length&&f.getElement(l)===p.getElement(u);)l++,u++;return l}let i=0;const o=new S;o.set(0,t(0,0));const r=new m;r.set(0,o.get(0)===0?null:new D(null,0,0,o.get(0)));let d=0;e:for(;;){if(i++,!s.isValid())return k.DiffAlgorithmResult.trivialTimedOut(f,p);const l=-Math.min(i,p.length+i%2),u=Math.min(i,f.length+i%2);for(d=l;d<=u;d+=2){const C=d===u?-1:o.get(d+1),g=d===l?-1:o.get(d-1)+1,v=Math.min(Math.max(C,g),f.length),b=v-d;if(v>f.length||b>p.length)continue;const w=t(v,b);o.set(d,w);const E=v===C?r.get(d+1):r.get(d-1);if(r.set(d,w!==v?new D(E,v,b,w-v):E),o.get(d)===f.length&&o.get(d)-d===p.length)break e}}let h=r.get(d);const n=[];let c=f.length,a=p.length;for(;;){const l=h?h.x+h.length:0,u=h?h.y+h.length:0;if((l!==c||u!==a)&&n.push(new k.SequenceDiff(new L.OffsetRange(l,c),new L.OffsetRange(u,a))),!h)break;c=h.x,a=h.y,h=h.prev}return n.reverse(),new k.DiffAlgorithmResult(n,!1)}}e.MyersDiffAlgorithm=y;class D{constructor(f,p,s,t){this.prev=f,this.x=p,this.y=s,this.length=t}}class S{constructor(){this.positiveArr=new Int32Array(10),this.negativeArr=new Int32Array(10)}get(f){return f<0?(f=-f-1,this.negativeArr[f]):this.positiveArr[f]}set(f,p){if(f<0){if(f=-f-1,f>=this.negativeArr.length){const s=this.negativeArr;this.negativeArr=new Int32Array(s.length*2),this.negativeArr.set(s)}this.negativeArr[f]=p}else{if(f>=this.positiveArr.length){const s=this.positiveArr;this.positiveArr=new Int32Array(s.length*2),this.positiveArr.set(s)}this.positiveArr[f]=p}}}class m{constructor(){this.positiveArr=[],this.negativeArr=[]}get(f){return f<0?(f=-f-1,this.negativeArr[f]):this.positiveArr[f]}set(f,p){f<0?(f=-f-1,this.negativeArr[f]=p):this.positiveArr[f]=p}}}),define(X[483],ee([1,0]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Array2D=void 0;class L{constructor(y,D){this.width=y,this.height=D,this.array=[],this.array=new Array(y*D)}get(y,D){return this.array[y+D*this.width]}set(y,D,S){this.array[y+D*this.width]=S}}e.Array2D=L}),define(X[484],ee([1,0,121,178,483]),function(q,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DynamicProgrammingDiffing=void 0;class D{compute(m,_,f=k.InfiniteTimeout.instance,p){if(m.length===0||_.length===0)return k.DiffAlgorithmResult.trivial(m,_);const s=new y.Array2D(m.length,_.length),t=new y.Array2D(m.length,_.length),i=new y.Array2D(m.length,_.length);for(let a=0;a<m.length;a++)for(let l=0;l<_.length;l++){if(!f.isValid())return k.DiffAlgorithmResult.trivialTimedOut(m,_);const u=a===0?0:s.get(a-1,l),C=l===0?0:s.get(a,l-1);let g;m.getElement(a)===_.getElement(l)?(a===0||l===0?g=0:g=s.get(a-1,l-1),a>0&&l>0&&t.get(a-1,l-1)===3&&(g+=i.get(a-1,l-1)),g+=p?p(a,l):1):g=-1;const v=Math.max(u,C,g);if(v===g){const b=a>0&&l>0?i.get(a-1,l-1):0;i.set(a,l,b+1),t.set(a,l,3)}else v===u?(i.set(a,l,0),t.set(a,l,1)):v===C&&(i.set(a,l,0),t.set(a,l,2));s.set(a,l,v)}const o=[];let r=m.length,d=_.length;function h(a,l){(a+1!==r||l+1!==d)&&o.push(new k.SequenceDiff(new L.OffsetRange(a+1,r),new L.OffsetRange(l+1,d))),r=a,d=l}let n=m.length-1,c=_.length-1;for(;n>=0&&c>=0;)t.get(n,c)===3?(h(n,c),n--,c--):t.get(n,c)===1?n--:c--;return h(-1,-1),o.reverse(),new k.DiffAlgorithmResult(o,!1)}}e.DynamicProgrammingDiffing=D}),define(X[123],ee([1,0,65]),function(q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MovedText=e.SimpleLineRangeMapping=e.RangeMapping=e.LineRangeMapping=e.LinesDiff=void 0;class k{constructor(f,p,s){this.changes=f,this.moves=p,this.hitTimeout=s}}e.LinesDiff=k;class y{static inverse(f,p,s){const t=[];let i=1,o=1;for(const d of f){const h=new y(new L.LineRange(i,d.originalRange.startLineNumber),new L.LineRange(o,d.modifiedRange.startLineNumber),void 0);h.modifiedRange.isEmpty||t.push(h),i=d.originalRange.endLineNumberExclusive,o=d.modifiedRange.endLineNumberExclusive}const r=new y(new L.LineRange(i,p+1),new L.LineRange(o,s+1),void 0);return r.modifiedRange.isEmpty||t.push(r),t}constructor(f,p,s){this.originalRange=f,this.modifiedRange=p,this.innerChanges=s}toString(){return`{${this.originalRange.toString()}->${this.modifiedRange.toString()}}`}get changedLineCount(){return Math.max(this.originalRange.length,this.modifiedRange.length)}flip(){var f;return new y(this.modifiedRange,this.originalRange,(f=this.innerChanges)===null||f===void 0?void 0:f.map(p=>p.flip()))}}e.LineRangeMapping=y;class D{constructor(f,p){this.originalRange=f,this.modifiedRange=p}toString(){return`{${this.originalRange.toString()}->${this.modifiedRange.toString()}}`}flip(){return new D(this.modifiedRange,this.originalRange)}}e.RangeMapping=D;class S{constructor(f,p){this.originalRange=f,this.modifiedRange=p}toString(){return`{${this.originalRange.toString()}->${this.modifiedRange.toString()}}`}flip(){return new S(this.modifiedRange,this.originalRange)}}e.SimpleLineRangeMapping=S;class m{constructor(f,p){this.lineRangeMapping=f,this.changes=p}flip(){return new m(this.lineRangeMapping.flip(),this.changes.map(f=>f.flip()))}}e.MovedText=m}),define(X[485],ee([1,0,170,123,9,5,84,65]),function(q,e,L,k,y,D,S,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiffComputer=e.SmartLinesDiffComputer=void 0;const _=3;class f{computeDiff(l,u,C){var g;const b=new d(l,u,{maxComputationTime:C.maxComputationTimeMs,shouldIgnoreTrimWhitespace:C.ignoreTrimWhitespace,shouldComputeCharChanges:!0,shouldMakePrettyDiff:!0,shouldPostProcessCharChanges:!0}).computeDiff(),w=[];let E=null;for(const I of b.changes){let T;I.originalEndLineNumber===0?T=new m.LineRange(I.originalStartLineNumber+1,I.originalStartLineNumber+1):T=new m.LineRange(I.originalStartLineNumber,I.originalEndLineNumber+1);let P;I.modifiedEndLineNumber===0?P=new m.LineRange(I.modifiedStartLineNumber+1,I.modifiedStartLineNumber+1):P=new m.LineRange(I.modifiedStartLineNumber,I.modifiedEndLineNumber+1);let A=new k.LineRangeMapping(T,P,(g=I.charChanges)===null||g===void 0?void 0:g.map(M=>new k.RangeMapping(new D.Range(M.originalStartLineNumber,M.originalStartColumn,M.originalEndLineNumber,M.originalEndColumn),new D.Range(M.modifiedStartLineNumber,M.modifiedStartColumn,M.modifiedEndLineNumber,M.modifiedEndColumn))));E&&(E.modifiedRange.endLineNumberExclusive===A.modifiedRange.startLineNumber||E.originalRange.endLineNumberExclusive===A.originalRange.startLineNumber)&&(A=new k.LineRangeMapping(E.originalRange.join(A.originalRange),E.modifiedRange.join(A.modifiedRange),E.innerChanges&&A.innerChanges?E.innerChanges.concat(A.innerChanges):void 0),w.pop()),w.push(A),E=A}return(0,S.assertFn)(()=>(0,S.checkAdjacentItems)(w,(I,T)=>T.originalRange.startLineNumber-I.originalRange.endLineNumberExclusive===T.modifiedRange.startLineNumber-I.modifiedRange.endLineNumberExclusive&&I.originalRange.endLineNumberExclusive<T.originalRange.startLineNumber&&I.modifiedRange.endLineNumberExclusive<T.modifiedRange.startLineNumber)),new k.LinesDiff(w,[],b.quitEarly)}}e.SmartLinesDiffComputer=f;function p(a,l,u,C){return new L.LcsDiff(a,l,u).ComputeDiff(C)}class s{constructor(l){const u=[],C=[];for(let g=0,v=l.length;g<v;g++)u[g]=h(l[g],1),C[g]=n(l[g],1);this.lines=l,this._startColumns=u,this._endColumns=C}getElements(){const l=[];for(let u=0,C=this.lines.length;u<C;u++)l[u]=this.lines[u].substring(this._startColumns[u]-1,this._endColumns[u]-1);return l}getStrictElement(l){return this.lines[l]}getStartLineNumber(l){return l+1}getEndLineNumber(l){return l+1}createCharSequence(l,u,C){const g=[],v=[],b=[];let w=0;for(let E=u;E<=C;E++){const I=this.lines[E],T=l?this._startColumns[E]:1,P=l?this._endColumns[E]:I.length+1;for(let A=T;A<P;A++)g[w]=I.charCodeAt(A-1),v[w]=E+1,b[w]=A,w++;!l&&E<C&&(g[w]=10,v[w]=E+1,b[w]=I.length+1,w++)}return new t(g,v,b)}}class t{constructor(l,u,C){this._charCodes=l,this._lineNumbers=u,this._columns=C}toString(){return"["+this._charCodes.map((l,u)=>(l===10?"\\n":String.fromCharCode(l))+`-(${this._lineNumbers[u]},${this._columns[u]})`).join(", ")+"]"}_assertIndex(l,u){if(l<0||l>=u.length)throw new Error("Illegal index")}getElements(){return this._charCodes}getStartLineNumber(l){return l>0&&l===this._lineNumbers.length?this.getEndLineNumber(l-1):(this._assertIndex(l,this._lineNumbers),this._lineNumbers[l])}getEndLineNumber(l){return l===-1?this.getStartLineNumber(l+1):(this._assertIndex(l,this._lineNumbers),this._charCodes[l]===10?this._lineNumbers[l]+1:this._lineNumbers[l])}getStartColumn(l){return l>0&&l===this._columns.length?this.getEndColumn(l-1):(this._assertIndex(l,this._columns),this._columns[l])}getEndColumn(l){return l===-1?this.getStartColumn(l+1):(this._assertIndex(l,this._columns),this._charCodes[l]===10?1:this._columns[l]+1)}}class i{constructor(l,u,C,g,v,b,w,E){this.originalStartLineNumber=l,this.originalStartColumn=u,this.originalEndLineNumber=C,this.originalEndColumn=g,this.modifiedStartLineNumber=v,this.modifiedStartColumn=b,this.modifiedEndLineNumber=w,this.modifiedEndColumn=E}static createFromDiffChange(l,u,C){const g=u.getStartLineNumber(l.originalStart),v=u.getStartColumn(l.originalStart),b=u.getEndLineNumber(l.originalStart+l.originalLength-1),w=u.getEndColumn(l.originalStart+l.originalLength-1),E=C.getStartLineNumber(l.modifiedStart),I=C.getStartColumn(l.modifiedStart),T=C.getEndLineNumber(l.modifiedStart+l.modifiedLength-1),P=C.getEndColumn(l.modifiedStart+l.modifiedLength-1);return new i(g,v,b,w,E,I,T,P)}}function o(a){if(a.length<=1)return a;const l=[a[0]];let u=l[0];for(let C=1,g=a.length;C<g;C++){const v=a[C],b=v.originalStart-(u.originalStart+u.originalLength),w=v.modifiedStart-(u.modifiedStart+u.modifiedLength);Math.min(b,w)<_?(u.originalLength=v.originalStart+v.originalLength-u.originalStart,u.modifiedLength=v.modifiedStart+v.modifiedLength-u.modifiedStart):(l.push(v),u=v)}return l}class r{constructor(l,u,C,g,v){this.originalStartLineNumber=l,this.originalEndLineNumber=u,this.modifiedStartLineNumber=C,this.modifiedEndLineNumber=g,this.charChanges=v}static createFromDiffResult(l,u,C,g,v,b,w){let E,I,T,P,A;if(u.originalLength===0?(E=C.getStartLineNumber(u.originalStart)-1,I=0):(E=C.getStartLineNumber(u.originalStart),I=C.getEndLineNumber(u.originalStart+u.originalLength-1)),u.modifiedLength===0?(T=g.getStartLineNumber(u.modifiedStart)-1,P=0):(T=g.getStartLineNumber(u.modifiedStart),P=g.getEndLineNumber(u.modifiedStart+u.modifiedLength-1)),b&&u.originalLength>0&&u.originalLength<20&&u.modifiedLength>0&&u.modifiedLength<20&&v()){const M=C.createCharSequence(l,u.originalStart,u.originalStart+u.originalLength-1),N=g.createCharSequence(l,u.modifiedStart,u.modifiedStart+u.modifiedLength-1);if(M.getElements().length>0&&N.getElements().length>0){let R=p(M,N,v,!0).changes;w&&(R=o(R)),A=[];for(let F=0,x=R.length;F<x;F++)A.push(i.createFromDiffChange(R[F],M,N))}}return new r(E,I,T,P,A)}}class d{constructor(l,u,C){this.shouldComputeCharChanges=C.shouldComputeCharChanges,this.shouldPostProcessCharChanges=C.shouldPostProcessCharChanges,this.shouldIgnoreTrimWhitespace=C.shouldIgnoreTrimWhitespace,this.shouldMakePrettyDiff=C.shouldMakePrettyDiff,this.originalLines=l,this.modifiedLines=u,this.original=new s(l),this.modified=new s(u),this.continueLineDiff=c(C.maxComputationTime),this.continueCharDiff=c(C.maxComputationTime===0?0:Math.min(C.maxComputationTime,5e3))}computeDiff(){if(this.original.lines.length===1&&this.original.lines[0].length===0)return this.modified.lines.length===1&&this.modified.lines[0].length===0?{quitEarly:!1,changes:[]}:{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:1,modifiedStartLineNumber:1,modifiedEndLineNumber:this.modified.lines.length,charChanges:void 0}]};if(this.modified.lines.length===1&&this.modified.lines[0].length===0)return{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:this.original.lines.length,modifiedStartLineNumber:1,modifiedEndLineNumber:1,charChanges:void 0}]};const l=p(this.original,this.modified,this.continueLineDiff,this.shouldMakePrettyDiff),u=l.changes,C=l.quitEarly;if(this.shouldIgnoreTrimWhitespace){const w=[];for(let E=0,I=u.length;E<I;E++)w.push(r.createFromDiffResult(this.shouldIgnoreTrimWhitespace,u[E],this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges));return{quitEarly:C,changes:w}}const g=[];let v=0,b=0;for(let w=-1,E=u.length;w<E;w++){const I=w+1<E?u[w+1]:null,T=I?I.originalStart:this.originalLines.length,P=I?I.modifiedStart:this.modifiedLines.length;for(;v<T&&b<P;){const A=this.originalLines[v],M=this.modifiedLines[b];if(A!==M){{let N=h(A,1),R=h(M,1);for(;N>1&&R>1;){const F=A.charCodeAt(N-2),x=M.charCodeAt(R-2);if(F!==x)break;N--,R--}(N>1||R>1)&&this._pushTrimWhitespaceCharChange(g,v+1,1,N,b+1,1,R)}{let N=n(A,1),R=n(M,1);const F=A.length+1,x=M.length+1;for(;N<F&&R<x;){const W=A.charCodeAt(N-1),z=A.charCodeAt(R-1);if(W!==z)break;N++,R++}(N<F||R<x)&&this._pushTrimWhitespaceCharChange(g,v+1,N,F,b+1,R,x)}}v++,b++}I&&(g.push(r.createFromDiffResult(this.shouldIgnoreTrimWhitespace,I,this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges)),v+=I.originalLength,b+=I.modifiedLength)}return{quitEarly:C,changes:g}}_pushTrimWhitespaceCharChange(l,u,C,g,v,b,w){if(this._mergeTrimWhitespaceCharChange(l,u,C,g,v,b,w))return;let E;this.shouldComputeCharChanges&&(E=[new i(u,C,u,g,v,b,v,w)]),l.push(new r(u,u,v,v,E))}_mergeTrimWhitespaceCharChange(l,u,C,g,v,b,w){const E=l.length;if(E===0)return!1;const I=l[E-1];return I.originalEndLineNumber===0||I.modifiedEndLineNumber===0?!1:I.originalEndLineNumber===u&&I.modifiedEndLineNumber===v?(this.shouldComputeCharChanges&&I.charChanges&&I.charChanges.push(new i(u,C,u,g,v,b,v,w)),!0):I.originalEndLineNumber+1===u&&I.modifiedEndLineNumber+1===v?(I.originalEndLineNumber=u,I.modifiedEndLineNumber=v,this.shouldComputeCharChanges&&I.charChanges&&I.charChanges.push(new i(u,C,u,g,v,b,v,w)),!0):!1}}e.DiffComputer=d;function h(a,l){const u=y.firstNonWhitespaceIndex(a);return u===-1?l:u+1}function n(a,l){const u=y.lastNonWhitespaceIndex(a);return u===-1?l:u+2}function c(a){if(a===0)return()=>!0;const l=Date.now();return()=>Date.now()-l<a}}),define(X[274],ee([1,0,84,65,121,11,5,178,484,481,482,123]),function(q,e,L,k,y,D,S,m,_,f,p,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LineSequence=e.getLineRangeMapping=e.lineRangeMappingFromRangeMappings=e.StandardLinesDiffComputer=void 0;class t{constructor(){this.dynamicProgrammingDiffing=new _.DynamicProgrammingDiffing,this.myersDiffingAlgorithm=new p.MyersDiffAlgorithm}computeDiff(T,P,A){const M=A.maxComputationTimeMs===0?m.InfiniteTimeout.instance:new m.DateTimeout(A.maxComputationTimeMs),N=!A.ignoreTrimWhitespace,R=new Map;function F(Z){let J=R.get(Z);return J===void 0&&(J=R.size,R.set(Z,J)),J}const x=T.map(Z=>F(Z.trim())),W=P.map(Z=>F(Z.trim())),z=new n(x,T),U=new n(W,P),O=(()=>z.length+U.length<1500?this.dynamicProgrammingDiffing.compute(z,U,M,(Z,J)=>T[Z]===P[J]?P[J].length===0?.1:1+Math.log(1+P[J].length):.99):this.myersDiffingAlgorithm.compute(z,U))();let G=O.diffs,Q=O.hitTimeout;G=(0,f.optimizeSequenceDiffs)(z,U,G);const re=[],oe=Z=>{if(N)for(let J=0;J<Z;J++){const ne=te+J,he=H+J;if(T[ne]!==P[he]){const de=this.refineDiff(T,P,new m.SequenceDiff(new y.OffsetRange(ne,ne+1),new y.OffsetRange(he,he+1)),M,N);for(const ae of de.mappings)re.push(ae);de.hitTimeout&&(Q=!0)}}};let te=0,H=0;for(const Z of G){(0,L.assertFn)(()=>Z.seq1Range.start-te===Z.seq2Range.start-H);const J=Z.seq1Range.start-te;oe(J),te=Z.seq1Range.endExclusive,H=Z.seq2Range.endExclusive;const ne=this.refineDiff(T,P,Z,M,N);ne.hitTimeout&&(Q=!0);for(const he of ne.mappings)re.push(he)}oe(T.length-te);const B=r(re,T,P),K=[];if(A.computeMoves){const Z=B.filter(ne=>ne.modifiedRange.isEmpty&&ne.originalRange.length>=3).map(ne=>new E(ne.originalRange,T)),J=new Set(B.filter(ne=>ne.originalRange.isEmpty&&ne.modifiedRange.length>=3).map(ne=>new E(ne.modifiedRange,P)));for(const ne of Z){let he=-1,de;for(const ae of J){const ce=ne.computeSimilarity(ae);ce>he&&(he=ce,de=ae)}if(he>.9&&de){const ae=this.refineDiff(T,P,new m.SequenceDiff(new y.OffsetRange(ne.range.startLineNumber-1,ne.range.endLineNumberExclusive-1),new y.OffsetRange(de.range.startLineNumber-1,de.range.endLineNumberExclusive-1)),M,N),ce=r(ae.mappings,T,P,!0);J.delete(de),K.push(new s.MovedText(new s.SimpleLineRangeMapping(ne.range,de.range),ce))}}}return new s.LinesDiff(B,K,Q)}refineDiff(T,P,A,M,N){const R=new a(T,A.seq1Range,N),F=new a(P,A.seq2Range,N),x=R.length+F.length<500?this.dynamicProgrammingDiffing.compute(R,F,M):this.myersDiffingAlgorithm.compute(R,F,M);let W=x.diffs;return W=(0,f.optimizeSequenceDiffs)(R,F,W),W=i(R,F,W),W=(0,f.smoothenSequenceDiffs)(R,F,W),{mappings:W.map(U=>new s.RangeMapping(R.translateRange(U.seq1Range),F.translateRange(U.seq2Range))),hitTimeout:x.hitTimeout}}}e.StandardLinesDiffComputer=t;function i(I,T,P){const A=[];let M;function N(){if(!M)return;const F=M.s1Range.length-M.deleted,x=M.s2Range.length-M.added;Math.max(M.deleted,M.added)+(M.count-1)>F&&A.push(new m.SequenceDiff(M.s1Range,M.s2Range)),M=void 0}for(const F of P){let x=function(G,Q){var re,oe,te,H;if(!M||!M.s1Range.containsRange(G)||!M.s2Range.containsRange(Q))if(M&&!(M.s1Range.endExclusive<G.start&&M.s2Range.endExclusive<Q.start)){const Z=y.OffsetRange.tryCreate(M.s1Range.endExclusive,G.start),J=y.OffsetRange.tryCreate(M.s2Range.endExclusive,Q.start);M.deleted+=(re=Z?.length)!==null&&re!==void 0?re:0,M.added+=(oe=J?.length)!==null&&oe!==void 0?oe:0,M.s1Range=M.s1Range.join(G),M.s2Range=M.s2Range.join(Q)}else N(),M={added:0,deleted:0,count:0,s1Range:G,s2Range:Q};const B=G.intersect(F.seq1Range),K=Q.intersect(F.seq2Range);M.count++,M.deleted+=(te=B?.length)!==null&&te!==void 0?te:0,M.added+=(H=K?.length)!==null&&H!==void 0?H:0};const W=I.findWordContaining(F.seq1Range.start-1),z=T.findWordContaining(F.seq2Range.start-1),U=I.findWordContaining(F.seq1Range.endExclusive),O=T.findWordContaining(F.seq2Range.endExclusive);W&&U&&z&&O&&W.equals(U)&&z.equals(O)?x(W,z):(W&&z&&x(W,z),U&&O&&x(U,O))}return N(),o(P,A)}function o(I,T){const P=[];for(;I.length>0||T.length>0;){const A=I[0],M=T[0];let N;A&&(!M||A.seq1Range.start<M.seq1Range.start)?N=I.shift():N=T.shift(),P.length>0&&P[P.length-1].seq1Range.endExclusive>=N.seq1Range.start?P[P.length-1]=P[P.length-1].join(N):P.push(N)}return P}function r(I,T,P,A=!1){const M=[];for(const N of h(I.map(R=>d(R,T,P)),(R,F)=>R.originalRange.overlapOrTouch(F.originalRange)||R.modifiedRange.overlapOrTouch(F.modifiedRange))){const R=N[0],F=N[N.length-1];M.push(new s.LineRangeMapping(R.originalRange.join(F.originalRange),R.modifiedRange.join(F.modifiedRange),N.map(x=>x.innerChanges[0])))}return(0,L.assertFn)(()=>!A&&M.length>0&&M[0].originalRange.startLineNumber!==M[0].modifiedRange.startLineNumber?!1:(0,L.checkAdjacentItems)(M,(N,R)=>R.originalRange.startLineNumber-N.originalRange.endLineNumberExclusive===R.modifiedRange.startLineNumber-N.modifiedRange.endLineNumberExclusive&&N.originalRange.endLineNumberExclusive<R.originalRange.startLineNumber&&N.modifiedRange.endLineNumberExclusive<R.modifiedRange.startLineNumber)),M}e.lineRangeMappingFromRangeMappings=r;function d(I,T,P){let A=0,M=0;I.modifiedRange.endColumn===1&&I.originalRange.endColumn===1&&I.originalRange.startLineNumber+A<=I.originalRange.endLineNumber&&I.modifiedRange.startLineNumber+A<=I.modifiedRange.endLineNumber&&(M=-1),I.modifiedRange.startColumn-1>=P[I.modifiedRange.startLineNumber-1].length&&I.originalRange.startColumn-1>=T[I.originalRange.startLineNumber-1].length&&I.originalRange.startLineNumber<=I.originalRange.endLineNumber+M&&I.modifiedRange.startLineNumber<=I.modifiedRange.endLineNumber+M&&(A=1);const N=new k.LineRange(I.originalRange.startLineNumber+A,I.originalRange.endLineNumber+1+M),R=new k.LineRange(I.modifiedRange.startLineNumber+A,I.modifiedRange.endLineNumber+1+M);return new s.LineRangeMapping(N,R,[I])}e.getLineRangeMapping=d;function*h(I,T){let P,A;for(const M of I)A!==void 0&&T(A,M)?P.push(M):(P&&(yield P),P=[M]),A=M;P&&(yield P)}class n{constructor(T,P){this.trimmedHash=T,this.lines=P}getElement(T){return this.trimmedHash[T]}get length(){return this.trimmedHash.length}getBoundaryScore(T){const P=T===0?0:c(this.lines[T-1]),A=T===this.lines.length?0:c(this.lines[T]);return 1e3-(P+A)}}e.LineSequence=n;function c(I){let T=0;for(;T<I.length&&(I.charCodeAt(T)===32||I.charCodeAt(T)===9);)T++;return T}class a{constructor(T,P,A){this.lines=T,this.considerWhitespaceChanges=A,this.elements=[],this.firstCharOffsetByLineMinusOne=[],this.offsetByLine=[];let M=!1;P.start>0&&P.endExclusive>=T.length&&(P=new y.OffsetRange(P.start-1,P.endExclusive),M=!0),this.lineRange=P;for(let N=this.lineRange.start;N<this.lineRange.endExclusive;N++){let R=T[N],F=0;if(M)F=R.length,R="",M=!1;else if(!A){const x=R.trimStart();F=R.length-x.length,R=x.trimEnd()}this.offsetByLine.push(F);for(let x=0;x<R.length;x++)this.elements.push(R.charCodeAt(x));N<T.length-1&&(this.elements.push(`
`.charCodeAt(0)),this.firstCharOffsetByLineMinusOne[N-this.lineRange.start]=this.elements.length)}this.offsetByLine.push(0)}toString(){return`Slice: "${this.text}"`}get text(){return[...this.elements].map(T=>String.fromCharCode(T)).join("")}getElement(T){return this.elements[T]}get length(){return this.elements.length}getBoundaryScore(T){const P=g(T>0?this.elements[T-1]:-1),A=g(T<this.elements.length?this.elements[T]:-1);if(P===6&&A===7)return 0;let M=0;return P!==A&&(M+=10,A===1&&(M+=1)),M+=C(P),M+=C(A),M}translateOffset(T){if(this.lineRange.isEmpty)return new D.Position(this.lineRange.start+1,1);let P=0,A=this.firstCharOffsetByLineMinusOne.length;for(;P<A;){const N=Math.floor((P+A)/2);this.firstCharOffsetByLineMinusOne[N]>T?A=N:P=N+1}const M=P===0?0:this.firstCharOffsetByLineMinusOne[P-1];return new D.Position(this.lineRange.start+P+1,T-M+1+this.offsetByLine[P])}translateRange(T){return S.Range.fromPositions(this.translateOffset(T.start),this.translateOffset(T.endExclusive))}findWordContaining(T){if(T<0||T>=this.elements.length||!l(this.elements[T]))return;let P=T;for(;P>0&&l(this.elements[P-1]);)P--;let A=T;for(;A<this.elements.length&&l(this.elements[A]);)A++;return new y.OffsetRange(P,A)}}function l(I){return I>=97&&I<=122||I>=65&&I<=90||I>=48&&I<=57}const u={[0]:0,[1]:0,[2]:0,[3]:10,[4]:2,[5]:3,[6]:10,[7]:10};function C(I){return u[I]}function g(I){return I===10?7:I===13?6:v(I)?5:I>=97&&I<=122?0:I>=65&&I<=90?1:I>=48&&I<=57?2:I===-1?3:4}function v(I){return I===32||I===9}const b=new Map;function w(I){let T=b.get(I);return T===void 0&&(T=b.size,b.set(I,T)),T}class E{constructor(T,P){this.range=T,this.lines=P,this.histogram=[];let A=0;for(let M=T.startLineNumber-1;M<T.endLineNumberExclusive-1;M++){const N=P[M];for(let F=0;F<N.length;F++){A++;const x=N[F],W=w(x);this.histogram[W]=(this.histogram[W]||0)+1}A++;const R=w(`
`);this.histogram[R]=(this.histogram[R]||0)+1}this.totalCount=A}computeSimilarity(T){var P,A;let M=0;const N=Math.max(this.histogram.length,T.histogram.length);for(let R=0;R<N;R++)M+=Math.abs(((P=this.histogram[R])!==null&&P!==void 0?P:0)-((A=T.histogram[R])!==null&&A!==void 0?A:0));return 1-M/(this.totalCount+T.totalCount)}}}),define(X[486],ee([1,0,485,274]),function(q,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.linesDiffComputers=void 0,e.linesDiffComputers={getLegacy:()=>new L.SmartLinesDiffComputer,getAdvanced:()=>new k.StandardLinesDiffComputer}}),define(X[275],ee([1,0]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InternalEditorAction=void 0;class L{constructor(y,D,S,m,_,f){this.id=y,this.label=D,this.alias=S,this._precondition=m,this._run=_,this._contextKeyService=f}isSupported(){return this._contextKeyService.contextMatchesRules(this._precondition)}run(y){return this.isSupported()?this._run(y):Promise.resolve(void 0)}}e.InternalEditorAction=L}),define(X[147],ee([1,0]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorType=void 0,e.EditorType={ICodeEditor:"vs.editor.ICodeEditor",IDiffEditor:"vs.editor.IDiffEditor"}}),define(X[179],ee([1,0,147]),function(q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getCodeEditor=e.isCompositeEditor=e.isDiffEditor=e.isCodeEditor=void 0;function k(m){return m&&typeof m.getEditorType=="function"?m.getEditorType()===L.EditorType.ICodeEditor:!1}e.isCodeEditor=k;function y(m){return m&&typeof m.getEditorType=="function"?m.getEditorType()===L.EditorType.IDiffEditor:!1}e.isDiffEditor=y;function D(m){return!!m&&typeof m=="object"&&typeof m.onDidChangeActiveEditor=="function"}e.isCompositeEditor=D;function S(m){return k(m)?m:y(m)?m.getModifiedEditor():D(m)&&k(m.activeCodeEditor)?m.activeCodeEditor:null}e.getCodeEditor=S}),define(X[148],ee([1,0]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getEditorFeatures=e.registerEditorFeature=void 0;const L=[];function k(D){L.push(D)}e.registerEditorFeature=k;function y(){return L.slice(0)}e.getEditorFeatures=y}),define(X[487],ee([1,0]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorTheme=void 0;class L{get type(){return this._theme.type}get value(){return this._theme}constructor(y){this._theme=y}update(y){this._theme=y}getColor(y){return this._theme.getColor(y)}}e.EditorTheme=L}),define(X[124],ee([1,0]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TokenMetadata=void 0;class L{static getLanguageId(y){return(y&255)>>>0}static getTokenType(y){return(y&768)>>>8}static containsBalancedBrackets(y){return(y&1024)!==0}static getFontStyle(y){return(y&30720)>>>11}static getForeground(y){return(y&16744448)>>>15}static getBackground(y){return(y&4278190080)>>>24}static getClassNameFromMetadata(y){let S="mtk"+this.getForeground(y);const m=this.getFontStyle(y);return m&1&&(S+=" mtki"),m&2&&(S+=" mtkb"),m&4&&(S+=" mtku"),m&8&&(S+=" mtks"),S}static getInlineStyleFromMetadata(y,D){const S=this.getForeground(y),m=this.getFontStyle(y);let _=`color: ${D[S]};`;m&1&&(_+="font-style: italic;"),m&2&&(_+="font-weight: bold;");let f="";return m&4&&(f+=" underline"),m&8&&(f+=" line-through"),f&&(_+=`text-decoration:${f};`),_}static getPresentationFromMetadata(y){const D=this.getForeground(y),S=this.getFontStyle(y);return{foreground:D,italic:!!(S&1),bold:!!(S&2),underline:!!(S&4),strikethrough:!!(S&8)}}}e.TokenMetadata=L}),define(X[488],ee([1,0,36]),function(q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.computeDefaultDocumentColors=void 0;function k(t){const i=[];for(const o of t){const r=Number(o);(r||r===0&&o.replace(/\s/g,"")!=="")&&i.push(r)}return i}function y(t,i,o,r){return{red:t/255,blue:o/255,green:i/255,alpha:r}}function D(t,i){const o=i.index,r=i[0].length;if(!o)return;const d=t.positionAt(o);return{startLineNumber:d.lineNumber,startColumn:d.column,endLineNumber:d.lineNumber,endColumn:d.column+r}}function S(t,i){if(!t)return;const o=L.Color.Format.CSS.parseHex(i);if(o)return{range:t,color:y(o.rgba.r,o.rgba.g,o.rgba.b,o.rgba.a)}}function m(t,i,o){if(!t||i.length!==1)return;const d=i[0].values(),h=k(d);return{range:t,color:y(h[0],h[1],h[2],o?h[3]:1)}}function _(t,i,o){if(!t||i.length!==1)return;const d=i[0].values(),h=k(d),n=new L.Color(new L.HSLA(h[0],h[1]/100,h[2]/100,o?h[3]:1));return{range:t,color:y(n.rgba.r,n.rgba.g,n.rgba.b,n.rgba.a)}}function f(t,i){return typeof t=="string"?[...t.matchAll(i)]:t.findMatches(i)}function p(t){const i=[],r=f(t,/\b(rgb|rgba|hsl|hsla)(\([0-9\s,.\%]*\))|(#)([A-Fa-f0-9]{3})\b|(#)([A-Fa-f0-9]{4})\b|(#)([A-Fa-f0-9]{6})\b|(#)([A-Fa-f0-9]{8})\b/gm);if(r.length>0)for(const d of r){const h=d.filter(l=>l!==void 0),n=h[1],c=h[2];if(!c)continue;let a;if(n==="rgb"){const l=/^\(\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*\)$/gm;a=m(D(t,d),f(c,l),!1)}else if(n==="rgba"){const l=/^\(\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(0[.][0-9]+|[.][0-9]+|[01][.]|[01])\s*\)$/gm;a=m(D(t,d),f(c,l),!0)}else if(n==="hsl"){const l=/^\(\s*(36[0]|3[0-5][0-9]|[12][0-9][0-9]|[1-9]?[0-9])\s*,\s*(100|\d{1,2}[.]\d*|\d{1,2})%\s*,\s*(100|\d{1,2}[.]\d*|\d{1,2})%\s*\)$/gm;a=_(D(t,d),f(c,l),!1)}else if(n==="hsla"){const l=/^\(\s*(36[0]|3[0-5][0-9]|[12][0-9][0-9]|[1-9]?[0-9])\s*,\s*(100|\d{1,2}[.]\d*|\d{1,2})%\s*,\s*(100|\d{1,2}[.]\d*|\d{1,2})%\s*,\s*(0[.][0-9]+|[.][0-9]+|[01][.]|[01])\s*\)$/gm;a=_(D(t,d),f(c,l),!0)}else n==="#"&&(a=S(D(t,d),n+c));a&&i.push(a)}return i}function s(t){return!t||typeof t.getValue!="function"||typeof t.positionAt!="function"?[]:p(t)}e.computeDefaultDocumentColors=s}),define(X[109],ee([1,0]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AutoClosingPairs=e.StandardAutoClosingPairConditional=e.IndentAction=void 0;var L;(function(S){S[S.None=0]="None",S[S.Indent=1]="Indent",S[S.IndentOutdent=2]="IndentOutdent",S[S.Outdent=3]="Outdent"})(L||(e.IndentAction=L={}));class k{constructor(m){if(this._neutralCharacter=null,this._neutralCharacterSearched=!1,this.open=m.open,this.close=m.close,this._inString=!0,this._inComment=!0,this._inRegEx=!0,Array.isArray(m.notIn))for(let _=0,f=m.notIn.length;_<f;_++)switch(m.notIn[_]){case"string":this._inString=!1;break;case"comment":this._inComment=!1;break;case"regex":this._inRegEx=!1;break}}isOK(m){switch(m){case 0:return!0;case 1:return this._inComment;case 2:return this._inString;case 3:return this._inRegEx}}shouldAutoClose(m,_){if(m.getTokenCount()===0)return!0;const f=m.findTokenIndexAtOffset(_-2),p=m.getStandardTokenType(f);return this.isOK(p)}_findNeutralCharacterInRange(m,_){for(let f=m;f<=_;f++){const p=String.fromCharCode(f);if(!this.open.includes(p)&&!this.close.includes(p))return p}return null}findNeutralCharacter(){return this._neutralCharacterSearched||(this._neutralCharacterSearched=!0,this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(48,57)),this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(97,122)),this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(65,90))),this._neutralCharacter}}e.StandardAutoClosingPairConditional=k;class y{constructor(m){this.autoClosingPairsOpenByStart=new Map,this.autoClosingPairsOpenByEnd=new Map,this.autoClosingPairsCloseByStart=new Map,this.autoClosingPairsCloseByEnd=new Map,this.autoClosingPairsCloseSingleChar=new Map;for(const _ of m)D(this.autoClosingPairsOpenByStart,_.open.charAt(0),_),D(this.autoClosingPairsOpenByEnd,_.open.charAt(_.open.length-1),_),D(this.autoClosingPairsCloseByStart,_.close.charAt(0),_),D(this.autoClosingPairsCloseByEnd,_.close.charAt(_.close.length-1),_),_.close.length===1&&_.open.length===1&&D(this.autoClosingPairsCloseSingleChar,_.close,_)}}e.AutoClosingPairs=y;function D(S,m,_){S.has(m)?S.get(m).push(_):S.set(m,[_])}}),define(X[489],ee([1,0,119]),function(q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.computeLinks=e.LinkComputer=e.StateMachine=void 0;class k{constructor(t,i,o){const r=new Uint8Array(t*i);for(let d=0,h=t*i;d<h;d++)r[d]=o;this._data=r,this.rows=t,this.cols=i}get(t,i){return this._data[t*this.cols+i]}set(t,i,o){this._data[t*this.cols+i]=o}}class y{constructor(t){let i=0,o=0;for(let d=0,h=t.length;d<h;d++){const[n,c,a]=t[d];c>i&&(i=c),n>o&&(o=n),a>o&&(o=a)}i++,o++;const r=new k(o,i,0);for(let d=0,h=t.length;d<h;d++){const[n,c,a]=t[d];r.set(n,c,a)}this._states=r,this._maxCharCode=i}nextState(t,i){return i<0||i>=this._maxCharCode?0:this._states.get(t,i)}}e.StateMachine=y;let D=null;function S(){return D===null&&(D=new y([[1,104,2],[1,72,2],[1,102,6],[1,70,6],[2,116,3],[2,84,3],[3,116,4],[3,84,4],[4,112,5],[4,80,5],[5,115,9],[5,83,9],[5,58,10],[6,105,7],[6,73,7],[7,108,8],[7,76,8],[8,101,9],[8,69,9],[9,58,10],[10,47,11],[11,47,12]])),D}let m=null;function _(){if(m===null){m=new L.CharacterClassifier(0);const s=` 	<>'"\u3001\u3002\uFF61\uFF64\uFF0C\uFF0E\uFF1A\uFF1B\u2018\u3008\u300C\u300E\u3014\uFF08\uFF3B\uFF5B\uFF62\uFF63\uFF5D\uFF3D\uFF09\u3015\u300F\u300D\u3009\u2019\uFF40\uFF5E\u2026`;for(let i=0;i<s.length;i++)m.set(s.charCodeAt(i),1);const t=".,;:";for(let i=0;i<t.length;i++)m.set(t.charCodeAt(i),2)}return m}class f{static _createLink(t,i,o,r,d){let h=d-1;do{const n=i.charCodeAt(h);if(t.get(n)!==2)break;h--}while(h>r);if(r>0){const n=i.charCodeAt(r-1),c=i.charCodeAt(h);(n===40&&c===41||n===91&&c===93||n===123&&c===125)&&h--}return{range:{startLineNumber:o,startColumn:r+1,endLineNumber:o,endColumn:h+2},url:i.substring(r,h+1)}}static computeLinks(t,i=S()){const o=_(),r=[];for(let d=1,h=t.getLineCount();d<=h;d++){const n=t.getLineContent(d),c=n.length;let a=0,l=0,u=0,C=1,g=!1,v=!1,b=!1,w=!1;for(;a<c;){let E=!1;const I=n.charCodeAt(a);if(C===13){let T;switch(I){case 40:g=!0,T=0;break;case 41:T=g?0:1;break;case 91:b=!0,v=!0,T=0;break;case 93:b=!1,T=v?0:1;break;case 123:w=!0,T=0;break;case 125:T=w?0:1;break;case 39:case 34:case 96:u===I?T=1:u===39||u===34||u===96?T=0:T=1;break;case 42:T=u===42?1:0;break;case 124:T=u===124?1:0;break;case 32:T=b?0:1;break;default:T=o.get(I)}T===1&&(r.push(f._createLink(o,n,d,l,a)),E=!0)}else if(C===12){let T;I===91?(v=!0,T=0):T=o.get(I),T===1?E=!0:C=13}else C=i.nextState(C,I),C===0&&(E=!0);E&&(C=1,g=!1,v=!1,w=!1,l=a+1,u=I),a++}C===13&&r.push(f._createLink(o,n,d,l,c))}return r}}e.LinkComputer=f;function p(s){return!s||typeof s.getLineCount!="function"||typeof s.getLineContent!="function"?[]:f.computeLinks(s)}e.computeLinks=p}),define(X[125],ee([1,0]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ignoreBracketsInToken=e.ScopedLineTokens=e.createScopedLineTokens=void 0;function L(D,S){const m=D.getCount(),_=D.findTokenIndexAtOffset(S),f=D.getLanguageId(_);let p=_;for(;p+1<m&&D.getLanguageId(p+1)===f;)p++;let s=_;for(;s>0&&D.getLanguageId(s-1)===f;)s--;return new k(D,f,s,p+1,D.getStartOffset(s),D.getEndOffset(p))}e.createScopedLineTokens=L;class k{constructor(S,m,_,f,p,s){this._scopedLineTokensBrand=void 0,this._actual=S,this.languageId=m,this._firstTokenIndex=_,this._lastTokenIndex=f,this.firstCharOffset=p,this._lastCharOffset=s}getLineContent(){return this._actual.getLineContent().substring(this.firstCharOffset,this._lastCharOffset)}getActualLineContentBefore(S){return this._actual.getLineContent().substring(0,this.firstCharOffset+S)}getTokenCount(){return this._lastTokenIndex-this._firstTokenIndex}findTokenIndexAtOffset(S){return this._actual.findTokenIndexAtOffset(S+this.firstCharOffset)-this._firstTokenIndex}getStandardTokenType(S){return this._actual.getStandardTokenType(S+this._firstTokenIndex)}}e.ScopedLineTokens=k;function y(D){return(D&3)!==0}e.ignoreBracketsInToken=y}),define(X[72],ee([1,0,11,5,24,125,81,201]),function(q,e,L,k,y,D,S,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isQuote=e.EditOperationResult=e.SingleCursorState=e.PartialViewCursorState=e.PartialModelCursorState=e.CursorState=e.CursorConfiguration=void 0;const _=()=>!0,f=()=>!1,p=n=>n===" "||n==="	";class s{static shouldRecreate(c){return c.hasChanged(141)||c.hasChanged(127)||c.hasChanged(35)||c.hasChanged(74)||c.hasChanged(76)||c.hasChanged(77)||c.hasChanged(5)||c.hasChanged(9)||c.hasChanged(7)||c.hasChanged(8)||c.hasChanged(12)||c.hasChanged(125)||c.hasChanged(48)||c.hasChanged(88)}constructor(c,a,l,u){this.languageConfigurationService=u,this._cursorMoveConfigurationBrand=void 0,this._languageId=c;const C=l.options,g=C.get(141),v=C.get(48);this.readOnly=C.get(88),this.tabSize=a.tabSize,this.indentSize=a.indentSize,this.insertSpaces=a.insertSpaces,this.stickyTabStops=C.get(113),this.lineHeight=v.lineHeight,this.typicalHalfwidthCharacterWidth=v.typicalHalfwidthCharacterWidth,this.pageSize=Math.max(1,Math.floor(g.height/this.lineHeight)-2),this.useTabStops=C.get(125),this.wordSeparators=C.get(127),this.emptySelectionClipboard=C.get(35),this.copyWithSyntaxHighlighting=C.get(23),this.multiCursorMergeOverlapping=C.get(74),this.multiCursorPaste=C.get(76),this.multiCursorLimit=C.get(77),this.autoClosingBrackets=C.get(5),this.autoClosingQuotes=C.get(9),this.autoClosingDelete=C.get(7),this.autoClosingOvertype=C.get(8),this.autoSurround=C.get(12),this.autoIndent=C.get(10),this.surroundingPairs={},this._electricChars=null,this.shouldAutoCloseBefore={quote:this._getShouldAutoClose(c,this.autoClosingQuotes,!0),bracket:this._getShouldAutoClose(c,this.autoClosingBrackets,!1)},this.autoClosingPairs=this.languageConfigurationService.getLanguageConfiguration(c).getAutoClosingPairs();const b=this.languageConfigurationService.getLanguageConfiguration(c).getSurroundingPairs();if(b)for(const w of b)this.surroundingPairs[w.open]=w.close}get electricChars(){var c;if(!this._electricChars){this._electricChars={};const a=(c=this.languageConfigurationService.getLanguageConfiguration(this._languageId).electricCharacter)===null||c===void 0?void 0:c.getElectricCharacters();if(a)for(const l of a)this._electricChars[l]=!0}return this._electricChars}onElectricCharacter(c,a,l){const u=(0,D.createScopedLineTokens)(a,l-1),C=this.languageConfigurationService.getLanguageConfiguration(u.languageId).electricCharacter;return C?C.onElectricCharacter(c,u,l-u.firstCharOffset):null}normalizeIndentation(c){return(0,m.normalizeIndentation)(c,this.indentSize,this.insertSpaces)}_getShouldAutoClose(c,a,l){switch(a){case"beforeWhitespace":return p;case"languageDefined":return this._getLanguageDefinedShouldAutoClose(c,l);case"always":return _;case"never":return f}}_getLanguageDefinedShouldAutoClose(c,a){const l=this.languageConfigurationService.getLanguageConfiguration(c).getAutoCloseBeforeSet(a);return u=>l.indexOf(u)!==-1}visibleColumnFromColumn(c,a){return S.CursorColumns.visibleColumnFromColumn(c.getLineContent(a.lineNumber),a.column,this.tabSize)}columnFromVisibleColumn(c,a,l){const u=S.CursorColumns.columnFromVisibleColumn(c.getLineContent(a),l,this.tabSize),C=c.getLineMinColumn(a);if(u<C)return C;const g=c.getLineMaxColumn(a);return u>g?g:u}}e.CursorConfiguration=s;class t{static fromModelState(c){return new i(c)}static fromViewState(c){return new o(c)}static fromModelSelection(c){const a=y.Selection.liftSelection(c),l=new r(k.Range.fromPositions(a.getSelectionStart()),0,0,a.getPosition(),0);return t.fromModelState(l)}static fromModelSelections(c){const a=[];for(let l=0,u=c.length;l<u;l++)a[l]=this.fromModelSelection(c[l]);return a}constructor(c,a){this._cursorStateBrand=void 0,this.modelState=c,this.viewState=a}equals(c){return this.viewState.equals(c.viewState)&&this.modelState.equals(c.modelState)}}e.CursorState=t;class i{constructor(c){this.modelState=c,this.viewState=null}}e.PartialModelCursorState=i;class o{constructor(c){this.modelState=null,this.viewState=c}}e.PartialViewCursorState=o;class r{constructor(c,a,l,u,C){this.selectionStart=c,this.selectionStartKind=a,this.selectionStartLeftoverVisibleColumns=l,this.position=u,this.leftoverVisibleColumns=C,this._singleCursorStateBrand=void 0,this.selection=r._computeSelection(this.selectionStart,this.position)}equals(c){return this.selectionStartLeftoverVisibleColumns===c.selectionStartLeftoverVisibleColumns&&this.leftoverVisibleColumns===c.leftoverVisibleColumns&&this.selectionStartKind===c.selectionStartKind&&this.position.equals(c.position)&&this.selectionStart.equalsRange(c.selectionStart)}hasSelection(){return!this.selection.isEmpty()||!this.selectionStart.isEmpty()}move(c,a,l,u){return c?new r(this.selectionStart,this.selectionStartKind,this.selectionStartLeftoverVisibleColumns,new L.Position(a,l),u):new r(new k.Range(a,l,a,l),0,u,new L.Position(a,l),u)}static _computeSelection(c,a){return c.isEmpty()||!a.isBeforeOrEqual(c.getStartPosition())?y.Selection.fromPositions(c.getStartPosition(),a):y.Selection.fromPositions(c.getEndPosition(),a)}}e.SingleCursorState=r;class d{constructor(c,a,l){this._editOperationResultBrand=void 0,this.type=c,this.commands=a,this.shouldPushStackElementBefore=l.shouldPushStackElementBefore,this.shouldPushStackElementAfter=l.shouldPushStackElementAfter}}e.EditOperationResult=d;function h(n){return n==="'"||n==='"'||n==="`"}e.isQuote=h}),define(X[490],ee([1,0,72,11,5]),function(q,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColumnSelection=void 0;class D{static columnSelect(m,_,f,p,s,t){const i=Math.abs(s-f)+1,o=f>s,r=p>t,d=p<t,h=[];for(let n=0;n<i;n++){const c=f+(o?-n:n),a=m.columnFromVisibleColumn(_,c,p),l=m.columnFromVisibleColumn(_,c,t),u=m.visibleColumnFromColumn(_,new k.Position(c,a)),C=m.visibleColumnFromColumn(_,new k.Position(c,l));d&&(u>t||C<p)||r&&(C>p||u<t)||h.push(new L.SingleCursorState(new y.Range(c,a,c,a),0,0,new k.Position(c,l),0))}if(h.length===0)for(let n=0;n<i;n++){const c=f+(o?-n:n),a=_.getLineMaxColumn(c);h.push(new L.SingleCursorState(new y.Range(c,a,c,a),0,0,new k.Position(c,a),0))}return{viewStates:h,reversed:o,fromLineNumber:f,fromVisualColumn:p,toLineNumber:s,toVisualColumn:t}}static columnSelectLeft(m,_,f){let p=f.toViewVisualColumn;return p>0&&p--,D.columnSelect(m,_,f.fromViewLineNumber,f.fromViewVisualColumn,f.toViewLineNumber,p)}static columnSelectRight(m,_,f){let p=0;const s=Math.min(f.fromViewLineNumber,f.toViewLineNumber),t=Math.max(f.fromViewLineNumber,f.toViewLineNumber);for(let o=s;o<=t;o++){const r=_.getLineMaxColumn(o),d=m.visibleColumnFromColumn(_,new k.Position(o,r));p=Math.max(p,d)}let i=f.toViewVisualColumn;return i<p&&i++,this.columnSelect(m,_,f.fromViewLineNumber,f.fromViewVisualColumn,f.toViewLineNumber,i)}static columnSelectUp(m,_,f,p){const s=p?m.pageSize:1,t=Math.max(1,f.toViewLineNumber-s);return this.columnSelect(m,_,f.fromViewLineNumber,f.fromViewVisualColumn,t,f.toViewVisualColumn)}static columnSelectDown(m,_,f,p){const s=p?m.pageSize:1,t=Math.min(_.getLineCount(),f.toViewLineNumber+s);return this.columnSelect(m,_,f.fromViewLineNumber,f.fromViewVisualColumn,t,f.toViewVisualColumn)}}e.ColumnSelection=D}),define(X[202],ee([1,0,72,81,11,5,9,273]),function(q,e,L,k,y,D,S,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MoveOperations=e.CursorPosition=void 0;class _{constructor(s,t,i){this._cursorPositionBrand=void 0,this.lineNumber=s,this.column=t,this.leftoverVisibleColumns=i}}e.CursorPosition=_;class f{static leftPosition(s,t){if(t.column>s.getLineMinColumn(t.lineNumber))return t.delta(void 0,-S.prevCharLength(s.getLineContent(t.lineNumber),t.column-1));if(t.lineNumber>1){const i=t.lineNumber-1;return new y.Position(i,s.getLineMaxColumn(i))}else return t}static leftPositionAtomicSoftTabs(s,t,i){if(t.column<=s.getLineIndentColumn(t.lineNumber)){const o=s.getLineMinColumn(t.lineNumber),r=s.getLineContent(t.lineNumber),d=m.AtomicTabMoveOperations.atomicPosition(r,t.column-1,i,0);if(d!==-1&&d+1>=o)return new y.Position(t.lineNumber,d+1)}return this.leftPosition(s,t)}static left(s,t,i){const o=s.stickyTabStops?f.leftPositionAtomicSoftTabs(t,i,s.tabSize):f.leftPosition(t,i);return new _(o.lineNumber,o.column,0)}static moveLeft(s,t,i,o,r){let d,h;if(i.hasSelection()&&!o)d=i.selection.startLineNumber,h=i.selection.startColumn;else{const n=i.position.delta(void 0,-(r-1)),c=t.normalizePosition(f.clipPositionColumn(n,t),0),a=f.left(s,t,c);d=a.lineNumber,h=a.column}return i.move(o,d,h,0)}static clipPositionColumn(s,t){return new y.Position(s.lineNumber,f.clipRange(s.column,t.getLineMinColumn(s.lineNumber),t.getLineMaxColumn(s.lineNumber)))}static clipRange(s,t,i){return s<t?t:s>i?i:s}static rightPosition(s,t,i){return i<s.getLineMaxColumn(t)?i=i+S.nextCharLength(s.getLineContent(t),i-1):t<s.getLineCount()&&(t=t+1,i=s.getLineMinColumn(t)),new y.Position(t,i)}static rightPositionAtomicSoftTabs(s,t,i,o,r){if(i<s.getLineIndentColumn(t)){const d=s.getLineContent(t),h=m.AtomicTabMoveOperations.atomicPosition(d,i-1,o,1);if(h!==-1)return new y.Position(t,h+1)}return this.rightPosition(s,t,i)}static right(s,t,i){const o=s.stickyTabStops?f.rightPositionAtomicSoftTabs(t,i.lineNumber,i.column,s.tabSize,s.indentSize):f.rightPosition(t,i.lineNumber,i.column);return new _(o.lineNumber,o.column,0)}static moveRight(s,t,i,o,r){let d,h;if(i.hasSelection()&&!o)d=i.selection.endLineNumber,h=i.selection.endColumn;else{const n=i.position.delta(void 0,r-1),c=t.normalizePosition(f.clipPositionColumn(n,t),1),a=f.right(s,t,c);d=a.lineNumber,h=a.column}return i.move(o,d,h,0)}static vertical(s,t,i,o,r,d,h,n){const c=k.CursorColumns.visibleColumnFromColumn(t.getLineContent(i),o,s.tabSize)+r,a=t.getLineCount(),l=i===1&&o===1,u=i===a&&o===t.getLineMaxColumn(i),C=d<i?l:u;if(i=d,i<1?(i=1,h?o=t.getLineMinColumn(i):o=Math.min(t.getLineMaxColumn(i),o)):i>a?(i=a,h?o=t.getLineMaxColumn(i):o=Math.min(t.getLineMaxColumn(i),o)):o=s.columnFromVisibleColumn(t,i,c),C?r=0:r=c-k.CursorColumns.visibleColumnFromColumn(t.getLineContent(i),o,s.tabSize),n!==void 0){const g=new y.Position(i,o),v=t.normalizePosition(g,n);r=r+(o-v.column),i=v.lineNumber,o=v.column}return new _(i,o,r)}static down(s,t,i,o,r,d,h){return this.vertical(s,t,i,o,r,i+d,h,4)}static moveDown(s,t,i,o,r){let d,h;i.hasSelection()&&!o?(d=i.selection.endLineNumber,h=i.selection.endColumn):(d=i.position.lineNumber,h=i.position.column);const n=f.down(s,t,d,h,i.leftoverVisibleColumns,r,!0);return i.move(o,n.lineNumber,n.column,n.leftoverVisibleColumns)}static translateDown(s,t,i){const o=i.selection,r=f.down(s,t,o.selectionStartLineNumber,o.selectionStartColumn,i.selectionStartLeftoverVisibleColumns,1,!1),d=f.down(s,t,o.positionLineNumber,o.positionColumn,i.leftoverVisibleColumns,1,!1);return new L.SingleCursorState(new D.Range(r.lineNumber,r.column,r.lineNumber,r.column),0,r.leftoverVisibleColumns,new y.Position(d.lineNumber,d.column),d.leftoverVisibleColumns)}static up(s,t,i,o,r,d,h){return this.vertical(s,t,i,o,r,i-d,h,3)}static moveUp(s,t,i,o,r){let d,h;i.hasSelection()&&!o?(d=i.selection.startLineNumber,h=i.selection.startColumn):(d=i.position.lineNumber,h=i.position.column);const n=f.up(s,t,d,h,i.leftoverVisibleColumns,r,!0);return i.move(o,n.lineNumber,n.column,n.leftoverVisibleColumns)}static translateUp(s,t,i){const o=i.selection,r=f.up(s,t,o.selectionStartLineNumber,o.selectionStartColumn,i.selectionStartLeftoverVisibleColumns,1,!1),d=f.up(s,t,o.positionLineNumber,o.positionColumn,i.leftoverVisibleColumns,1,!1);return new L.SingleCursorState(new D.Range(r.lineNumber,r.column,r.lineNumber,r.column),0,r.leftoverVisibleColumns,new y.Position(d.lineNumber,d.column),d.leftoverVisibleColumns)}static _isBlankLine(s,t){return s.getLineFirstNonWhitespaceColumn(t)===0}static moveToPrevBlankLine(s,t,i,o){let r=i.position.lineNumber;for(;r>1&&this._isBlankLine(t,r);)r--;for(;r>1&&!this._isBlankLine(t,r);)r--;return i.move(o,r,t.getLineMinColumn(r),0)}static moveToNextBlankLine(s,t,i,o){const r=t.getLineCount();let d=i.position.lineNumber;for(;d<r&&this._isBlankLine(t,d);)d++;for(;d<r&&!this._isBlankLine(t,d);)d++;return i.move(o,d,t.getLineMinColumn(d),0)}static moveToBeginningOfLine(s,t,i,o){const r=i.position.lineNumber,d=t.getLineMinColumn(r),h=t.getLineFirstNonWhitespaceColumn(r)||d;let n;return i.position.column===h?n=d:n=h,i.move(o,r,n,0)}static moveToEndOfLine(s,t,i,o,r){const d=i.position.lineNumber,h=t.getLineMaxColumn(d);return i.move(o,d,h,r?1073741824-h:0)}static moveToBeginningOfBuffer(s,t,i,o){return i.move(o,1,1,0)}static moveToEndOfBuffer(s,t,i,o){const r=t.getLineCount(),d=t.getLineMaxColumn(r);return i.move(o,r,d,0)}}e.MoveOperations=f}),define(X[203],ee([1,0,9,122,72,81,202,5,11]),function(q,e,L,k,y,D,S,m,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DeleteOperations=void 0;class f{static deleteRight(s,t,i,o){const r=[];let d=s!==3;for(let h=0,n=o.length;h<n;h++){const c=o[h];let a=c;if(a.isEmpty()){const l=c.getPosition(),u=S.MoveOperations.right(t,i,l);a=new m.Range(u.lineNumber,u.column,l.lineNumber,l.column)}if(a.isEmpty()){r[h]=null;continue}a.startLineNumber!==a.endLineNumber&&(d=!0),r[h]=new k.ReplaceCommand(a,"")}return[d,r]}static isAutoClosingPairDelete(s,t,i,o,r,d,h){if(t==="never"&&i==="never"||s==="never")return!1;for(let n=0,c=d.length;n<c;n++){const a=d[n],l=a.getPosition();if(!a.isEmpty())return!1;const u=r.getLineContent(l.lineNumber);if(l.column<2||l.column>=u.length+1)return!1;const C=u.charAt(l.column-2),g=o.get(C);if(!g)return!1;if((0,y.isQuote)(C)){if(i==="never")return!1}else if(t==="never")return!1;const v=u.charAt(l.column-1);let b=!1;for(const w of g)w.open===C&&w.close===v&&(b=!0);if(!b)return!1;if(s==="auto"){let w=!1;for(let E=0,I=h.length;E<I;E++){const T=h[E];if(l.lineNumber===T.startLineNumber&&l.column===T.startColumn){w=!0;break}}if(!w)return!1}}return!0}static _runAutoClosingPairDelete(s,t,i){const o=[];for(let r=0,d=i.length;r<d;r++){const h=i[r].getPosition(),n=new m.Range(h.lineNumber,h.column-1,h.lineNumber,h.column+1);o[r]=new k.ReplaceCommand(n,"")}return[!0,o]}static deleteLeft(s,t,i,o,r){if(this.isAutoClosingPairDelete(t.autoClosingDelete,t.autoClosingBrackets,t.autoClosingQuotes,t.autoClosingPairs.autoClosingPairsOpenByEnd,i,o,r))return this._runAutoClosingPairDelete(t,i,o);const d=[];let h=s!==2;for(let n=0,c=o.length;n<c;n++){const a=f.getDeleteRange(o[n],i,t);if(a.isEmpty()){d[n]=null;continue}a.startLineNumber!==a.endLineNumber&&(h=!0),d[n]=new k.ReplaceCommand(a,"")}return[h,d]}static getDeleteRange(s,t,i){if(!s.isEmpty())return s;const o=s.getPosition();if(i.useTabStops&&o.column>1){const r=t.getLineContent(o.lineNumber),d=L.firstNonWhitespaceIndex(r),h=d===-1?r.length+1:d+1;if(o.column<=h){const n=i.visibleColumnFromColumn(t,o),c=D.CursorColumns.prevIndentTabStop(n,i.indentSize),a=i.columnFromVisibleColumn(t,o.lineNumber,c);return new m.Range(o.lineNumber,a,o.lineNumber,o.column)}}return m.Range.fromPositions(f.getPositionAfterDeleteLeft(o,t),o)}static getPositionAfterDeleteLeft(s,t){if(s.column>1){const i=L.getLeftDeleteOffset(s.column-1,t.getLineContent(s.lineNumber));return s.with(void 0,i+1)}else if(s.lineNumber>1){const i=s.lineNumber-1;return new _.Position(i,t.getLineMaxColumn(i))}else return s}static cut(s,t,i){const o=[];let r=null;i.sort((d,h)=>_.Position.compare(d.getStartPosition(),h.getEndPosition()));for(let d=0,h=i.length;d<h;d++){const n=i[d];if(n.isEmpty())if(s.emptySelectionClipboard){const c=n.getPosition();let a,l,u,C;c.lineNumber<t.getLineCount()?(a=c.lineNumber,l=1,u=c.lineNumber+1,C=1):c.lineNumber>1&&r?.endLineNumber!==c.lineNumber?(a=c.lineNumber-1,l=t.getLineMaxColumn(c.lineNumber-1),u=c.lineNumber,C=t.getLineMaxColumn(c.lineNumber)):(a=c.lineNumber,l=1,u=c.lineNumber,C=t.getLineMaxColumn(c.lineNumber));const g=new m.Range(a,l,u,C);r=g,g.isEmpty()?o[d]=null:o[d]=new k.ReplaceCommand(g,"")}else o[d]=null;else o[d]=new k.ReplaceCommand(n,"")}return new y.EditOperationResult(0,o,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}}e.DeleteOperations=f}),define(X[180],ee([1,0,9,72,203,145,11,5]),function(q,e,L,k,y,D,S,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WordPartOperations=e.WordOperations=void 0;class _{static _createWord(t,i,o,r,d){return{start:r,end:d,wordType:i,nextCharClass:o}}static _findPreviousWordOnLine(t,i,o){const r=i.getLineContent(o.lineNumber);return this._doFindPreviousWordOnLine(r,t,o)}static _doFindPreviousWordOnLine(t,i,o){let r=0;for(let d=o.column-2;d>=0;d--){const h=t.charCodeAt(d),n=i.get(h);if(n===0){if(r===2)return this._createWord(t,r,n,d+1,this._findEndOfWord(t,i,r,d+1));r=1}else if(n===2){if(r===1)return this._createWord(t,r,n,d+1,this._findEndOfWord(t,i,r,d+1));r=2}else if(n===1&&r!==0)return this._createWord(t,r,n,d+1,this._findEndOfWord(t,i,r,d+1))}return r!==0?this._createWord(t,r,1,0,this._findEndOfWord(t,i,r,0)):null}static _findEndOfWord(t,i,o,r){const d=t.length;for(let h=r;h<d;h++){const n=t.charCodeAt(h),c=i.get(n);if(c===1||o===1&&c===2||o===2&&c===0)return h}return d}static _findNextWordOnLine(t,i,o){const r=i.getLineContent(o.lineNumber);return this._doFindNextWordOnLine(r,t,o)}static _doFindNextWordOnLine(t,i,o){let r=0;const d=t.length;for(let h=o.column-1;h<d;h++){const n=t.charCodeAt(h),c=i.get(n);if(c===0){if(r===2)return this._createWord(t,r,c,this._findStartOfWord(t,i,r,h-1),h);r=1}else if(c===2){if(r===1)return this._createWord(t,r,c,this._findStartOfWord(t,i,r,h-1),h);r=2}else if(c===1&&r!==0)return this._createWord(t,r,c,this._findStartOfWord(t,i,r,h-1),h)}return r!==0?this._createWord(t,r,1,this._findStartOfWord(t,i,r,d-1),d):null}static _findStartOfWord(t,i,o,r){for(let d=r;d>=0;d--){const h=t.charCodeAt(d),n=i.get(h);if(n===1||o===1&&n===2||o===2&&n===0)return d+1}return 0}static moveWordLeft(t,i,o,r){let d=o.lineNumber,h=o.column;h===1&&d>1&&(d=d-1,h=i.getLineMaxColumn(d));let n=_._findPreviousWordOnLine(t,i,new S.Position(d,h));if(r===0)return new S.Position(d,n?n.start+1:1);if(r===1)return n&&n.wordType===2&&n.end-n.start===1&&n.nextCharClass===0&&(n=_._findPreviousWordOnLine(t,i,new S.Position(d,n.start+1))),new S.Position(d,n?n.start+1:1);if(r===3){for(;n&&n.wordType===2;)n=_._findPreviousWordOnLine(t,i,new S.Position(d,n.start+1));return new S.Position(d,n?n.start+1:1)}return n&&h<=n.end+1&&(n=_._findPreviousWordOnLine(t,i,new S.Position(d,n.start+1))),new S.Position(d,n?n.end+1:1)}static _moveWordPartLeft(t,i){const o=i.lineNumber,r=t.getLineMaxColumn(o);if(i.column===1)return o>1?new S.Position(o-1,t.getLineMaxColumn(o-1)):i;const d=t.getLineContent(o);for(let h=i.column-1;h>1;h--){const n=d.charCodeAt(h-2),c=d.charCodeAt(h-1);if(n===95&&c!==95)return new S.Position(o,h);if(n===45&&c!==45)return new S.Position(o,h);if((L.isLowerAsciiLetter(n)||L.isAsciiDigit(n))&&L.isUpperAsciiLetter(c))return new S.Position(o,h);if(L.isUpperAsciiLetter(n)&&L.isUpperAsciiLetter(c)&&h+1<r){const a=d.charCodeAt(h);if(L.isLowerAsciiLetter(a)||L.isAsciiDigit(a))return new S.Position(o,h)}}return new S.Position(o,1)}static moveWordRight(t,i,o,r){let d=o.lineNumber,h=o.column,n=!1;h===i.getLineMaxColumn(d)&&d<i.getLineCount()&&(n=!0,d=d+1,h=1);let c=_._findNextWordOnLine(t,i,new S.Position(d,h));if(r===2)c&&c.wordType===2&&c.end-c.start===1&&c.nextCharClass===0&&(c=_._findNextWordOnLine(t,i,new S.Position(d,c.end+1))),c?h=c.end+1:h=i.getLineMaxColumn(d);else if(r===3){for(n&&(h=0);c&&(c.wordType===2||c.start+1<=h);)c=_._findNextWordOnLine(t,i,new S.Position(d,c.end+1));c?h=c.start+1:h=i.getLineMaxColumn(d)}else c&&!n&&h>=c.start+1&&(c=_._findNextWordOnLine(t,i,new S.Position(d,c.end+1))),c?h=c.start+1:h=i.getLineMaxColumn(d);return new S.Position(d,h)}static _moveWordPartRight(t,i){const o=i.lineNumber,r=t.getLineMaxColumn(o);if(i.column===r)return o<t.getLineCount()?new S.Position(o+1,1):i;const d=t.getLineContent(o);for(let h=i.column+1;h<r;h++){const n=d.charCodeAt(h-2),c=d.charCodeAt(h-1);if(n!==95&&c===95)return new S.Position(o,h);if(n!==45&&c===45)return new S.Position(o,h);if((L.isLowerAsciiLetter(n)||L.isAsciiDigit(n))&&L.isUpperAsciiLetter(c))return new S.Position(o,h);if(L.isUpperAsciiLetter(n)&&L.isUpperAsciiLetter(c)&&h+1<r){const a=d.charCodeAt(h);if(L.isLowerAsciiLetter(a)||L.isAsciiDigit(a))return new S.Position(o,h)}}return new S.Position(o,r)}static _deleteWordLeftWhitespace(t,i){const o=t.getLineContent(i.lineNumber),r=i.column-2,d=L.lastNonWhitespaceIndex(o,r);return d+1<r?new m.Range(i.lineNumber,d+2,i.lineNumber,i.column):null}static deleteWordLeft(t,i){const o=t.wordSeparators,r=t.model,d=t.selection,h=t.whitespaceHeuristics;if(!d.isEmpty())return d;if(y.DeleteOperations.isAutoClosingPairDelete(t.autoClosingDelete,t.autoClosingBrackets,t.autoClosingQuotes,t.autoClosingPairs.autoClosingPairsOpenByEnd,t.model,[t.selection],t.autoClosedCharacters)){const u=t.selection.getPosition();return new m.Range(u.lineNumber,u.column-1,u.lineNumber,u.column+1)}const n=new S.Position(d.positionLineNumber,d.positionColumn);let c=n.lineNumber,a=n.column;if(c===1&&a===1)return null;if(h){const u=this._deleteWordLeftWhitespace(r,n);if(u)return u}let l=_._findPreviousWordOnLine(o,r,n);return i===0?l?a=l.start+1:a>1?a=1:(c--,a=r.getLineMaxColumn(c)):(l&&a<=l.end+1&&(l=_._findPreviousWordOnLine(o,r,new S.Position(c,l.start+1))),l?a=l.end+1:a>1?a=1:(c--,a=r.getLineMaxColumn(c))),new m.Range(c,a,n.lineNumber,n.column)}static deleteInsideWord(t,i,o){if(!o.isEmpty())return o;const r=new S.Position(o.positionLineNumber,o.positionColumn),d=this._deleteInsideWordWhitespace(i,r);return d||this._deleteInsideWordDetermineDeleteRange(t,i,r)}static _charAtIsWhitespace(t,i){const o=t.charCodeAt(i);return o===32||o===9}static _deleteInsideWordWhitespace(t,i){const o=t.getLineContent(i.lineNumber),r=o.length;if(r===0)return null;let d=Math.max(i.column-2,0);if(!this._charAtIsWhitespace(o,d))return null;let h=Math.min(i.column-1,r-1);if(!this._charAtIsWhitespace(o,h))return null;for(;d>0&&this._charAtIsWhitespace(o,d-1);)d--;for(;h+1<r&&this._charAtIsWhitespace(o,h+1);)h++;return new m.Range(i.lineNumber,d+1,i.lineNumber,h+2)}static _deleteInsideWordDetermineDeleteRange(t,i,o){const r=i.getLineContent(o.lineNumber),d=r.length;if(d===0)return o.lineNumber>1?new m.Range(o.lineNumber-1,i.getLineMaxColumn(o.lineNumber-1),o.lineNumber,1):o.lineNumber<i.getLineCount()?new m.Range(o.lineNumber,1,o.lineNumber+1,1):new m.Range(o.lineNumber,1,o.lineNumber,1);const h=u=>u.start+1<=o.column&&o.column<=u.end+1,n=(u,C)=>(u=Math.min(u,o.column),C=Math.max(C,o.column),new m.Range(o.lineNumber,u,o.lineNumber,C)),c=u=>{let C=u.start+1,g=u.end+1,v=!1;for(;g-1<d&&this._charAtIsWhitespace(r,g-1);)v=!0,g++;if(!v)for(;C>1&&this._charAtIsWhitespace(r,C-2);)C--;return n(C,g)},a=_._findPreviousWordOnLine(t,i,o);if(a&&h(a))return c(a);const l=_._findNextWordOnLine(t,i,o);return l&&h(l)?c(l):a&&l?n(a.end+1,l.start+1):a?n(a.start+1,a.end+1):l?n(l.start+1,l.end+1):n(1,d+1)}static _deleteWordPartLeft(t,i){if(!i.isEmpty())return i;const o=i.getPosition(),r=_._moveWordPartLeft(t,o);return new m.Range(o.lineNumber,o.column,r.lineNumber,r.column)}static _findFirstNonWhitespaceChar(t,i){const o=t.length;for(let r=i;r<o;r++){const d=t.charAt(r);if(d!==" "&&d!=="	")return r}return o}static _deleteWordRightWhitespace(t,i){const o=t.getLineContent(i.lineNumber),r=i.column-1,d=this._findFirstNonWhitespaceChar(o,r);return r+1<d?new m.Range(i.lineNumber,i.column,i.lineNumber,d+1):null}static deleteWordRight(t,i){const o=t.wordSeparators,r=t.model,d=t.selection,h=t.whitespaceHeuristics;if(!d.isEmpty())return d;const n=new S.Position(d.positionLineNumber,d.positionColumn);let c=n.lineNumber,a=n.column;const l=r.getLineCount(),u=r.getLineMaxColumn(c);if(c===l&&a===u)return null;if(h){const g=this._deleteWordRightWhitespace(r,n);if(g)return g}let C=_._findNextWordOnLine(o,r,n);return i===2?C?a=C.end+1:a<u||c===l?a=u:(c++,C=_._findNextWordOnLine(o,r,new S.Position(c,1)),C?a=C.start+1:a=r.getLineMaxColumn(c)):(C&&a>=C.start+1&&(C=_._findNextWordOnLine(o,r,new S.Position(c,C.end+1))),C?a=C.start+1:a<u||c===l?a=u:(c++,C=_._findNextWordOnLine(o,r,new S.Position(c,1)),C?a=C.start+1:a=r.getLineMaxColumn(c))),new m.Range(c,a,n.lineNumber,n.column)}static _deleteWordPartRight(t,i){if(!i.isEmpty())return i;const o=i.getPosition(),r=_._moveWordPartRight(t,o);return new m.Range(o.lineNumber,o.column,r.lineNumber,r.column)}static _createWordAtPosition(t,i,o){const r=new m.Range(i,o.start+1,i,o.end+1);return{word:t.getValueInRange(r),startColumn:r.startColumn,endColumn:r.endColumn}}static getWordAtPosition(t,i,o){const r=(0,D.getMapForWordSeparators)(i),d=_._findPreviousWordOnLine(r,t,o);if(d&&d.wordType===1&&d.start<=o.column-1&&o.column-1<=d.end)return _._createWordAtPosition(t,o.lineNumber,d);const h=_._findNextWordOnLine(r,t,o);return h&&h.wordType===1&&h.start<=o.column-1&&o.column-1<=h.end?_._createWordAtPosition(t,o.lineNumber,h):null}static word(t,i,o,r,d){const h=(0,D.getMapForWordSeparators)(t.wordSeparators),n=_._findPreviousWordOnLine(h,i,d),c=_._findNextWordOnLine(h,i,d);if(!r){let g,v;return n&&n.wordType===1&&n.start<=d.column-1&&d.column-1<=n.end?(g=n.start+1,v=n.end+1):c&&c.wordType===1&&c.start<=d.column-1&&d.column-1<=c.end?(g=c.start+1,v=c.end+1):(n?g=n.end+1:g=1,c?v=c.start+1:v=i.getLineMaxColumn(d.lineNumber)),new k.SingleCursorState(new m.Range(d.lineNumber,g,d.lineNumber,v),1,0,new S.Position(d.lineNumber,v),0)}let a,l;n&&n.wordType===1&&n.start<d.column-1&&d.column-1<n.end?(a=n.start+1,l=n.end+1):c&&c.wordType===1&&c.start<d.column-1&&d.column-1<c.end?(a=c.start+1,l=c.end+1):(a=d.column,l=d.column);const u=d.lineNumber;let C;if(o.selectionStart.containsPosition(d))C=o.selectionStart.endColumn;else if(d.isBeforeOrEqual(o.selectionStart.getStartPosition())){C=a;const g=new S.Position(u,C);o.selectionStart.containsPosition(g)&&(C=o.selectionStart.endColumn)}else{C=l;const g=new S.Position(u,C);o.selectionStart.containsPosition(g)&&(C=o.selectionStart.startColumn)}return o.move(!0,u,C,0)}}e.WordOperations=_;class f extends _{static deleteWordPartLeft(t){const i=p([_.deleteWordLeft(t,0),_.deleteWordLeft(t,2),_._deleteWordPartLeft(t.model,t.selection)]);return i.sort(m.Range.compareRangesUsingEnds),i[2]}static deleteWordPartRight(t){const i=p([_.deleteWordRight(t,0),_.deleteWordRight(t,2),_._deleteWordPartRight(t.model,t.selection)]);return i.sort(m.Range.compareRangesUsingStarts),i[0]}static moveWordPartLeft(t,i,o){const r=p([_.moveWordLeft(t,i,o,0),_.moveWordLeft(t,i,o,2),_._moveWordPartLeft(i,o)]);return r.sort(S.Position.compare),r[2]}static moveWordPartRight(t,i,o){const r=p([_.moveWordRight(t,i,o,0),_.moveWordRight(t,i,o,2),_._moveWordPartRight(i,o)]);return r.sort(S.Position.compare),r[0]}}e.WordPartOperations=f;function p(s){return s.filter(t=>!!t)}}),define(X[204],ee([1,0,18,72,202,180,11,5]),function(q,e,L,k,y,D,S,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorMove=e.CursorMoveCommands=void 0;class _{static addCursorDown(s,t,i){const o=[];let r=0;for(let d=0,h=t.length;d<h;d++){const n=t[d];o[r++]=new k.CursorState(n.modelState,n.viewState),i?o[r++]=k.CursorState.fromModelState(y.MoveOperations.translateDown(s.cursorConfig,s.model,n.modelState)):o[r++]=k.CursorState.fromViewState(y.MoveOperations.translateDown(s.cursorConfig,s,n.viewState))}return o}static addCursorUp(s,t,i){const o=[];let r=0;for(let d=0,h=t.length;d<h;d++){const n=t[d];o[r++]=new k.CursorState(n.modelState,n.viewState),i?o[r++]=k.CursorState.fromModelState(y.MoveOperations.translateUp(s.cursorConfig,s.model,n.modelState)):o[r++]=k.CursorState.fromViewState(y.MoveOperations.translateUp(s.cursorConfig,s,n.viewState))}return o}static moveToBeginningOfLine(s,t,i){const o=[];for(let r=0,d=t.length;r<d;r++){const h=t[r];o[r]=this._moveToLineStart(s,h,i)}return o}static _moveToLineStart(s,t,i){const o=t.viewState.position.column,r=t.modelState.position.column,d=o===r,h=t.viewState.position.lineNumber,n=s.getLineFirstNonWhitespaceColumn(h);return!d&&!(o===n)?this._moveToLineStartByView(s,t,i):this._moveToLineStartByModel(s,t,i)}static _moveToLineStartByView(s,t,i){return k.CursorState.fromViewState(y.MoveOperations.moveToBeginningOfLine(s.cursorConfig,s,t.viewState,i))}static _moveToLineStartByModel(s,t,i){return k.CursorState.fromModelState(y.MoveOperations.moveToBeginningOfLine(s.cursorConfig,s.model,t.modelState,i))}static moveToEndOfLine(s,t,i,o){const r=[];for(let d=0,h=t.length;d<h;d++){const n=t[d];r[d]=this._moveToLineEnd(s,n,i,o)}return r}static _moveToLineEnd(s,t,i,o){const r=t.viewState.position,d=s.getLineMaxColumn(r.lineNumber),h=r.column===d,n=t.modelState.position,c=s.model.getLineMaxColumn(n.lineNumber),a=d-r.column===c-n.column;return h||a?this._moveToLineEndByModel(s,t,i,o):this._moveToLineEndByView(s,t,i,o)}static _moveToLineEndByView(s,t,i,o){return k.CursorState.fromViewState(y.MoveOperations.moveToEndOfLine(s.cursorConfig,s,t.viewState,i,o))}static _moveToLineEndByModel(s,t,i,o){return k.CursorState.fromModelState(y.MoveOperations.moveToEndOfLine(s.cursorConfig,s.model,t.modelState,i,o))}static expandLineSelection(s,t){const i=[];for(let o=0,r=t.length;o<r;o++){const d=t[o],h=d.modelState.selection.startLineNumber,n=s.model.getLineCount();let c=d.modelState.selection.endLineNumber,a;c===n?a=s.model.getLineMaxColumn(n):(c++,a=1),i[o]=k.CursorState.fromModelState(new k.SingleCursorState(new m.Range(h,1,h,1),0,0,new S.Position(c,a),0))}return i}static moveToBeginningOfBuffer(s,t,i){const o=[];for(let r=0,d=t.length;r<d;r++){const h=t[r];o[r]=k.CursorState.fromModelState(y.MoveOperations.moveToBeginningOfBuffer(s.cursorConfig,s.model,h.modelState,i))}return o}static moveToEndOfBuffer(s,t,i){const o=[];for(let r=0,d=t.length;r<d;r++){const h=t[r];o[r]=k.CursorState.fromModelState(y.MoveOperations.moveToEndOfBuffer(s.cursorConfig,s.model,h.modelState,i))}return o}static selectAll(s,t){const i=s.model.getLineCount(),o=s.model.getLineMaxColumn(i);return k.CursorState.fromModelState(new k.SingleCursorState(new m.Range(1,1,1,1),0,0,new S.Position(i,o),0))}static line(s,t,i,o,r){const d=s.model.validatePosition(o),h=r?s.coordinatesConverter.validateViewPosition(new S.Position(r.lineNumber,r.column),d):s.coordinatesConverter.convertModelPositionToViewPosition(d);if(!i){const c=s.model.getLineCount();let a=d.lineNumber+1,l=1;return a>c&&(a=c,l=s.model.getLineMaxColumn(a)),k.CursorState.fromModelState(new k.SingleCursorState(new m.Range(d.lineNumber,1,a,l),2,0,new S.Position(a,l),0))}const n=t.modelState.selectionStart.getStartPosition().lineNumber;if(d.lineNumber<n)return k.CursorState.fromViewState(t.viewState.move(!0,h.lineNumber,1,0));if(d.lineNumber>n){const c=s.getLineCount();let a=h.lineNumber+1,l=1;return a>c&&(a=c,l=s.getLineMaxColumn(a)),k.CursorState.fromViewState(t.viewState.move(!0,a,l,0))}else{const c=t.modelState.selectionStart.getEndPosition();return k.CursorState.fromModelState(t.modelState.move(!0,c.lineNumber,c.column,0))}}static word(s,t,i,o){const r=s.model.validatePosition(o);return k.CursorState.fromModelState(D.WordOperations.word(s.cursorConfig,s.model,t.modelState,i,r))}static cancelSelection(s,t){if(!t.modelState.hasSelection())return new k.CursorState(t.modelState,t.viewState);const i=t.viewState.position.lineNumber,o=t.viewState.position.column;return k.CursorState.fromViewState(new k.SingleCursorState(new m.Range(i,o,i,o),0,0,new S.Position(i,o),0))}static moveTo(s,t,i,o,r){if(i){if(t.modelState.selectionStartKind===1)return this.word(s,t,i,o);if(t.modelState.selectionStartKind===2)return this.line(s,t,i,o,r)}const d=s.model.validatePosition(o),h=r?s.coordinatesConverter.validateViewPosition(new S.Position(r.lineNumber,r.column),d):s.coordinatesConverter.convertModelPositionToViewPosition(d);return k.CursorState.fromViewState(t.viewState.move(i,h.lineNumber,h.column,0))}static simpleMove(s,t,i,o,r,d){switch(i){case 0:return d===4?this._moveHalfLineLeft(s,t,o):this._moveLeft(s,t,o,r);case 1:return d===4?this._moveHalfLineRight(s,t,o):this._moveRight(s,t,o,r);case 2:return d===2?this._moveUpByViewLines(s,t,o,r):this._moveUpByModelLines(s,t,o,r);case 3:return d===2?this._moveDownByViewLines(s,t,o,r):this._moveDownByModelLines(s,t,o,r);case 4:return d===2?t.map(h=>k.CursorState.fromViewState(y.MoveOperations.moveToPrevBlankLine(s.cursorConfig,s,h.viewState,o))):t.map(h=>k.CursorState.fromModelState(y.MoveOperations.moveToPrevBlankLine(s.cursorConfig,s.model,h.modelState,o)));case 5:return d===2?t.map(h=>k.CursorState.fromViewState(y.MoveOperations.moveToNextBlankLine(s.cursorConfig,s,h.viewState,o))):t.map(h=>k.CursorState.fromModelState(y.MoveOperations.moveToNextBlankLine(s.cursorConfig,s.model,h.modelState,o)));case 6:return this._moveToViewMinColumn(s,t,o);case 7:return this._moveToViewFirstNonWhitespaceColumn(s,t,o);case 8:return this._moveToViewCenterColumn(s,t,o);case 9:return this._moveToViewMaxColumn(s,t,o);case 10:return this._moveToViewLastNonWhitespaceColumn(s,t,o);default:return null}}static viewportMove(s,t,i,o,r){const d=s.getCompletelyVisibleViewRange(),h=s.coordinatesConverter.convertViewRangeToModelRange(d);switch(i){case 11:{const n=this._firstLineNumberInRange(s.model,h,r),c=s.model.getLineFirstNonWhitespaceColumn(n);return[this._moveToModelPosition(s,t[0],o,n,c)]}case 13:{const n=this._lastLineNumberInRange(s.model,h,r),c=s.model.getLineFirstNonWhitespaceColumn(n);return[this._moveToModelPosition(s,t[0],o,n,c)]}case 12:{const n=Math.round((h.startLineNumber+h.endLineNumber)/2),c=s.model.getLineFirstNonWhitespaceColumn(n);return[this._moveToModelPosition(s,t[0],o,n,c)]}case 14:{const n=[];for(let c=0,a=t.length;c<a;c++){const l=t[c];n[c]=this.findPositionInViewportIfOutside(s,l,d,o)}return n}default:return null}}static findPositionInViewportIfOutside(s,t,i,o){const r=t.viewState.position.lineNumber;if(i.startLineNumber<=r&&r<=i.endLineNumber-1)return new k.CursorState(t.modelState,t.viewState);{let d;r>i.endLineNumber-1?d=i.endLineNumber-1:r<i.startLineNumber?d=i.startLineNumber:d=r;const h=y.MoveOperations.vertical(s.cursorConfig,s,r,t.viewState.position.column,t.viewState.leftoverVisibleColumns,d,!1);return k.CursorState.fromViewState(t.viewState.move(o,h.lineNumber,h.column,h.leftoverVisibleColumns))}}static _firstLineNumberInRange(s,t,i){let o=t.startLineNumber;return t.startColumn!==s.getLineMinColumn(o)&&o++,Math.min(t.endLineNumber,o+i-1)}static _lastLineNumberInRange(s,t,i){let o=t.startLineNumber;return t.startColumn!==s.getLineMinColumn(o)&&o++,Math.max(o,t.endLineNumber-i+1)}static _moveLeft(s,t,i,o){return t.map(r=>k.CursorState.fromViewState(y.MoveOperations.moveLeft(s.cursorConfig,s,r.viewState,i,o)))}static _moveHalfLineLeft(s,t,i){const o=[];for(let r=0,d=t.length;r<d;r++){const h=t[r],n=h.viewState.position.lineNumber,c=Math.round(s.getLineContent(n).length/2);o[r]=k.CursorState.fromViewState(y.MoveOperations.moveLeft(s.cursorConfig,s,h.viewState,i,c))}return o}static _moveRight(s,t,i,o){return t.map(r=>k.CursorState.fromViewState(y.MoveOperations.moveRight(s.cursorConfig,s,r.viewState,i,o)))}static _moveHalfLineRight(s,t,i){const o=[];for(let r=0,d=t.length;r<d;r++){const h=t[r],n=h.viewState.position.lineNumber,c=Math.round(s.getLineContent(n).length/2);o[r]=k.CursorState.fromViewState(y.MoveOperations.moveRight(s.cursorConfig,s,h.viewState,i,c))}return o}static _moveDownByViewLines(s,t,i,o){const r=[];for(let d=0,h=t.length;d<h;d++){const n=t[d];r[d]=k.CursorState.fromViewState(y.MoveOperations.moveDown(s.cursorConfig,s,n.viewState,i,o))}return r}static _moveDownByModelLines(s,t,i,o){const r=[];for(let d=0,h=t.length;d<h;d++){const n=t[d];r[d]=k.CursorState.fromModelState(y.MoveOperations.moveDown(s.cursorConfig,s.model,n.modelState,i,o))}return r}static _moveUpByViewLines(s,t,i,o){const r=[];for(let d=0,h=t.length;d<h;d++){const n=t[d];r[d]=k.CursorState.fromViewState(y.MoveOperations.moveUp(s.cursorConfig,s,n.viewState,i,o))}return r}static _moveUpByModelLines(s,t,i,o){const r=[];for(let d=0,h=t.length;d<h;d++){const n=t[d];r[d]=k.CursorState.fromModelState(y.MoveOperations.moveUp(s.cursorConfig,s.model,n.modelState,i,o))}return r}static _moveToViewPosition(s,t,i,o,r){return k.CursorState.fromViewState(t.viewState.move(i,o,r,0))}static _moveToModelPosition(s,t,i,o,r){return k.CursorState.fromModelState(t.modelState.move(i,o,r,0))}static _moveToViewMinColumn(s,t,i){const o=[];for(let r=0,d=t.length;r<d;r++){const h=t[r],n=h.viewState.position.lineNumber,c=s.getLineMinColumn(n);o[r]=this._moveToViewPosition(s,h,i,n,c)}return o}static _moveToViewFirstNonWhitespaceColumn(s,t,i){const o=[];for(let r=0,d=t.length;r<d;r++){const h=t[r],n=h.viewState.position.lineNumber,c=s.getLineFirstNonWhitespaceColumn(n);o[r]=this._moveToViewPosition(s,h,i,n,c)}return o}static _moveToViewCenterColumn(s,t,i){const o=[];for(let r=0,d=t.length;r<d;r++){const h=t[r],n=h.viewState.position.lineNumber,c=Math.round((s.getLineMaxColumn(n)+s.getLineMinColumn(n))/2);o[r]=this._moveToViewPosition(s,h,i,n,c)}return o}static _moveToViewMaxColumn(s,t,i){const o=[];for(let r=0,d=t.length;r<d;r++){const h=t[r],n=h.viewState.position.lineNumber,c=s.getLineMaxColumn(n);o[r]=this._moveToViewPosition(s,h,i,n,c)}return o}static _moveToViewLastNonWhitespaceColumn(s,t,i){const o=[];for(let r=0,d=t.length;r<d;r++){const h=t[r],n=h.viewState.position.lineNumber,c=s.getLineLastNonWhitespaceColumn(n);o[r]=this._moveToViewPosition(s,h,i,n,c)}return o}}e.CursorMoveCommands=_;var f;(function(p){const s=function(i){if(!L.isObject(i))return!1;const o=i;return!(!L.isString(o.to)||!L.isUndefined(o.select)&&!L.isBoolean(o.select)||!L.isUndefined(o.by)&&!L.isString(o.by)||!L.isUndefined(o.value)&&!L.isNumber(o.value))};p.description={description:"Move cursor to a logical position in the view",args:[{name:"Cursor move argument object",description:`Property-value pairs that can be passed through this argument:
					* 'to': A mandatory logical position value providing where to move the cursor.
						\`\`\`
						'left', 'right', 'up', 'down', 'prevBlankLine', 'nextBlankLine',
						'wrappedLineStart', 'wrappedLineEnd', 'wrappedLineColumnCenter'
						'wrappedLineFirstNonWhitespaceCharacter', 'wrappedLineLastNonWhitespaceCharacter'
						'viewPortTop', 'viewPortCenter', 'viewPortBottom', 'viewPortIfOutside'
						\`\`\`
					* 'by': Unit to move. Default is computed based on 'to' value.
						\`\`\`
						'line', 'wrappedLine', 'character', 'halfLine'
						\`\`\`
					* 'value': Number of units to move. Default is '1'.
					* 'select': If 'true' makes the selection. Default is 'false'.
				`,constraint:s,schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["left","right","up","down","prevBlankLine","nextBlankLine","wrappedLineStart","wrappedLineEnd","wrappedLineColumnCenter","wrappedLineFirstNonWhitespaceCharacter","wrappedLineLastNonWhitespaceCharacter","viewPortTop","viewPortCenter","viewPortBottom","viewPortIfOutside"]},by:{type:"string",enum:["line","wrappedLine","character","halfLine"]},value:{type:"number",default:1},select:{type:"boolean",default:!1}}}}]},p.RawDirection={Left:"left",Right:"right",Up:"up",Down:"down",PrevBlankLine:"prevBlankLine",NextBlankLine:"nextBlankLine",WrappedLineStart:"wrappedLineStart",WrappedLineFirstNonWhitespaceCharacter:"wrappedLineFirstNonWhitespaceCharacter",WrappedLineColumnCenter:"wrappedLineColumnCenter",WrappedLineEnd:"wrappedLineEnd",WrappedLineLastNonWhitespaceCharacter:"wrappedLineLastNonWhitespaceCharacter",ViewPortTop:"viewPortTop",ViewPortCenter:"viewPortCenter",ViewPortBottom:"viewPortBottom",ViewPortIfOutside:"viewPortIfOutside"},p.RawUnit={Line:"line",WrappedLine:"wrappedLine",Character:"character",HalfLine:"halfLine"};function t(i){if(!i.to)return null;let o;switch(i.to){case p.RawDirection.Left:o=0;break;case p.RawDirection.Right:o=1;break;case p.RawDirection.Up:o=2;break;case p.RawDirection.Down:o=3;break;case p.RawDirection.PrevBlankLine:o=4;break;case p.RawDirection.NextBlankLine:o=5;break;case p.RawDirection.WrappedLineStart:o=6;break;case p.RawDirection.WrappedLineFirstNonWhitespaceCharacter:o=7;break;case p.RawDirection.WrappedLineColumnCenter:o=8;break;case p.RawDirection.WrappedLineEnd:o=9;break;case p.RawDirection.WrappedLineLastNonWhitespaceCharacter:o=10;break;case p.RawDirection.ViewPortTop:o=11;break;case p.RawDirection.ViewPortBottom:o=13;break;case p.RawDirection.ViewPortCenter:o=12;break;case p.RawDirection.ViewPortIfOutside:o=14;break;default:return null}let r=0;switch(i.by){case p.RawUnit.Line:r=1;break;case p.RawUnit.WrappedLine:r=2;break;case p.RawUnit.Character:r=3;break;case p.RawUnit.HalfLine:r=4;break}return{direction:o,unit:r,select:!!i.select,value:i.value||1}}p.parse=t})(f||(e.CursorMove=f={}))}),define(X[491],ee([1,0,72,11,5,24]),function(q,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Cursor=void 0;class S{constructor(_){this._selTrackedRange=null,this._trackSelection=!0,this._setState(_,new L.SingleCursorState(new y.Range(1,1,1,1),0,0,new k.Position(1,1),0),new L.SingleCursorState(new y.Range(1,1,1,1),0,0,new k.Position(1,1),0))}dispose(_){this._removeTrackedRange(_)}startTrackingSelection(_){this._trackSelection=!0,this._updateTrackedRange(_)}stopTrackingSelection(_){this._trackSelection=!1,this._removeTrackedRange(_)}_updateTrackedRange(_){this._trackSelection&&(this._selTrackedRange=_.model._setTrackedRange(this._selTrackedRange,this.modelState.selection,0))}_removeTrackedRange(_){this._selTrackedRange=_.model._setTrackedRange(this._selTrackedRange,null,0)}asCursorState(){return new L.CursorState(this.modelState,this.viewState)}readSelectionFromMarkers(_){const f=_.model._getTrackedRange(this._selTrackedRange);return this.modelState.selection.isEmpty()&&!f.isEmpty()?D.Selection.fromRange(f.collapseToEnd(),this.modelState.selection.getDirection()):D.Selection.fromRange(f,this.modelState.selection.getDirection())}ensureValidState(_){this._setState(_,this.modelState,this.viewState)}setState(_,f,p){this._setState(_,f,p)}static _validatePositionWithCache(_,f,p,s){return f.equals(p)?s:_.normalizePosition(f,2)}static _validateViewState(_,f){const p=f.position,s=f.selectionStart.getStartPosition(),t=f.selectionStart.getEndPosition(),i=_.normalizePosition(p,2),o=this._validatePositionWithCache(_,s,p,i),r=this._validatePositionWithCache(_,t,s,o);return p.equals(i)&&s.equals(o)&&t.equals(r)?f:new L.SingleCursorState(y.Range.fromPositions(o,r),f.selectionStartKind,f.selectionStartLeftoverVisibleColumns+s.column-o.column,i,f.leftoverVisibleColumns+p.column-i.column)}_setState(_,f,p){if(p&&(p=S._validateViewState(_.viewModel,p)),f){const s=_.model.validateRange(f.selectionStart),t=f.selectionStart.equalsRange(s)?f.selectionStartLeftoverVisibleColumns:0,i=_.model.validatePosition(f.position),o=f.position.equals(i)?f.leftoverVisibleColumns:0;f=new L.SingleCursorState(s,f.selectionStartKind,t,i,o)}else{if(!p)return;const s=_.model.validateRange(_.coordinatesConverter.convertViewRangeToModelRange(p.selectionStart)),t=_.model.validatePosition(_.coordinatesConverter.convertViewPositionToModelPosition(p.position));f=new L.SingleCursorState(s,p.selectionStartKind,p.selectionStartLeftoverVisibleColumns,t,p.leftoverVisibleColumns)}if(p){const s=_.coordinatesConverter.validateViewRange(p.selectionStart,f.selectionStart),t=_.coordinatesConverter.validateViewPosition(p.position,f.position);p=new L.SingleCursorState(s,f.selectionStartKind,f.selectionStartLeftoverVisibleColumns,t,f.leftoverVisibleColumns)}else{const s=_.coordinatesConverter.convertModelPositionToViewPosition(new k.Position(f.selectionStart.startLineNumber,f.selectionStart.startColumn)),t=_.coordinatesConverter.convertModelPositionToViewPosition(new k.Position(f.selectionStart.endLineNumber,f.selectionStart.endColumn)),i=new y.Range(s.lineNumber,s.column,t.lineNumber,t.column),o=_.coordinatesConverter.convertModelPositionToViewPosition(f.position);p=new L.SingleCursorState(i,f.selectionStartKind,f.selectionStartLeftoverVisibleColumns,o,f.leftoverVisibleColumns)}this.modelState=f,this.viewState=p,this._updateTrackedRange(_)}}e.Cursor=S}),define(X[492],ee([1,0,16,72,491,11,5,24]),function(q,e,L,k,y,D,S,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorCollection=void 0;class _{constructor(p){this.context=p,this.cursors=[new y.Cursor(p)],this.lastAddedCursorIndex=0}dispose(){for(const p of this.cursors)p.dispose(this.context)}startTrackingSelections(){for(const p of this.cursors)p.startTrackingSelection(this.context)}stopTrackingSelections(){for(const p of this.cursors)p.stopTrackingSelection(this.context)}updateContext(p){this.context=p}ensureValidState(){for(const p of this.cursors)p.ensureValidState(this.context)}readSelectionFromMarkers(){return this.cursors.map(p=>p.readSelectionFromMarkers(this.context))}getAll(){return this.cursors.map(p=>p.asCursorState())}getViewPositions(){return this.cursors.map(p=>p.viewState.position)}getTopMostViewPosition(){return(0,L.findMinBy)(this.cursors,(0,L.compareBy)(p=>p.viewState.position,D.Position.compare)).viewState.position}getBottomMostViewPosition(){return(0,L.findLastMaxBy)(this.cursors,(0,L.compareBy)(p=>p.viewState.position,D.Position.compare)).viewState.position}getSelections(){return this.cursors.map(p=>p.modelState.selection)}getViewSelections(){return this.cursors.map(p=>p.viewState.selection)}setSelections(p){this.setStates(k.CursorState.fromModelSelections(p))}getPrimaryCursor(){return this.cursors[0].asCursorState()}setStates(p){p!==null&&(this.cursors[0].setState(this.context,p[0].modelState,p[0].viewState),this._setSecondaryStates(p.slice(1)))}_setSecondaryStates(p){const s=this.cursors.length-1,t=p.length;if(s<t){const i=t-s;for(let o=0;o<i;o++)this._addSecondaryCursor()}else if(s>t){const i=s-t;for(let o=0;o<i;o++)this._removeSecondaryCursor(this.cursors.length-2)}for(let i=0;i<t;i++)this.cursors[i+1].setState(this.context,p[i].modelState,p[i].viewState)}killSecondaryCursors(){this._setSecondaryStates([])}_addSecondaryCursor(){this.cursors.push(new y.Cursor(this.context)),this.lastAddedCursorIndex=this.cursors.length-1}getLastAddedCursorIndex(){return this.cursors.length===1||this.lastAddedCursorIndex===0?0:this.lastAddedCursorIndex}_removeSecondaryCursor(p){this.lastAddedCursorIndex>=p+1&&this.lastAddedCursorIndex--,this.cursors[p+1].dispose(this.context),this.cursors.splice(p+1,1)}normalize(){if(this.cursors.length===1)return;const p=this.cursors.slice(0),s=[];for(let t=0,i=p.length;t<i;t++)s.push({index:t,selection:p[t].modelState.selection});s.sort((0,L.compareBy)(t=>t.selection,S.Range.compareRangesUsingStarts));for(let t=0;t<s.length-1;t++){const i=s[t],o=s[t+1],r=i.selection,d=o.selection;if(!this.context.cursorConfig.multiCursorMergeOverlapping)continue;let h;if(d.isEmpty()||r.isEmpty()?h=d.getStartPosition().isBeforeOrEqual(r.getEndPosition()):h=d.getStartPosition().isBefore(r.getEndPosition()),h){const n=i.index<o.index?t:t+1,c=i.index<o.index?t+1:t,a=s[c].index,l=s[n].index,u=s[c].selection,C=s[n].selection;if(!u.equalsSelection(C)){const g=u.plusRange(C),v=u.selectionStartLineNumber===u.startLineNumber&&u.selectionStartColumn===u.startColumn,b=C.selectionStartLineNumber===C.startLineNumber&&C.selectionStartColumn===C.startColumn;let w;a===this.lastAddedCursorIndex?(w=v,this.lastAddedCursorIndex=l):w=b;let E;w?E=new m.Selection(g.startLineNumber,g.startColumn,g.endLineNumber,g.endColumn):E=new m.Selection(g.endLineNumber,g.endColumn,g.startLineNumber,g.startColumn),s[n].selection=E;const I=k.CursorState.fromModelSelection(E);p[l].setState(this.context,I.modelState,I.viewState)}for(const g of s)g.index>a&&g.index--;p.splice(a,1),s.splice(c,1),this._removeSecondaryCursor(a-1),t--}}}}e.CursorCollection=_}),define(X[493],ee([1,0,109]),function(q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CharacterPairSupport=void 0;class k{constructor(D){if(D.autoClosingPairs?this._autoClosingPairs=D.autoClosingPairs.map(S=>new L.StandardAutoClosingPairConditional(S)):D.brackets?this._autoClosingPairs=D.brackets.map(S=>new L.StandardAutoClosingPairConditional({open:S[0],close:S[1]})):this._autoClosingPairs=[],D.__electricCharacterSupport&&D.__electricCharacterSupport.docComment){const S=D.__electricCharacterSupport.docComment;this._autoClosingPairs.push(new L.StandardAutoClosingPairConditional({open:S.open,close:S.close||""}))}this._autoCloseBeforeForQuotes=typeof D.autoCloseBefore=="string"?D.autoCloseBefore:k.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_QUOTES,this._autoCloseBeforeForBrackets=typeof D.autoCloseBefore=="string"?D.autoCloseBefore:k.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_BRACKETS,this._surroundingPairs=D.surroundingPairs||this._autoClosingPairs}getAutoClosingPairs(){return this._autoClosingPairs}getAutoCloseBeforeSet(D){return D?this._autoCloseBeforeForQuotes:this._autoCloseBeforeForBrackets}getSurroundingPairs(){return this._surroundingPairs}}e.CharacterPairSupport=k,k.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_QUOTES=`;:.,=}])> 
	`,k.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_BRACKETS=`'"\`;:.,=}])> 
	`}),define(X[494],ee([1,0]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IndentRulesSupport=void 0;function L(y){return y.global&&(y.lastIndex=0),!0}class k{constructor(D){this._indentationRules=D}shouldIncrease(D){return!!(this._indentationRules&&this._indentationRules.increaseIndentPattern&&L(this._indentationRules.increaseIndentPattern)&&this._indentationRules.increaseIndentPattern.test(D))}shouldDecrease(D){return!!(this._indentationRules&&this._indentationRules.decreaseIndentPattern&&L(this._indentationRules.decreaseIndentPattern)&&this._indentationRules.decreaseIndentPattern.test(D))}shouldIndentNextLine(D){return!!(this._indentationRules&&this._indentationRules.indentNextLinePattern&&L(this._indentationRules.indentNextLinePattern)&&this._indentationRules.indentNextLinePattern.test(D))}shouldIgnore(D){return!!(this._indentationRules&&this._indentationRules.unIndentedLinePattern&&L(this._indentationRules.unIndentedLinePattern)&&this._indentationRules.unIndentedLinePattern.test(D))}getIndentMetadata(D){let S=0;return this.shouldIncrease(D)&&(S+=1),this.shouldDecrease(D)&&(S+=2),this.shouldIndentNextLine(D)&&(S+=4),this.shouldIgnore(D)&&(S+=8),S}}e.IndentRulesSupport=k}),define(X[495],ee([1,0]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BasicInplaceReplace=void 0;class L{constructor(){this._defaultValueSet=[["true","false"],["True","False"],["Private","Public","Friend","ReadOnly","Partial","Protected","WriteOnly"],["public","protected","private"]]}navigateValueSet(y,D,S,m,_){if(y&&D){const f=this.doNavigateValueSet(D,_);if(f)return{range:y,value:f}}if(S&&m){const f=this.doNavigateValueSet(m,_);if(f)return{range:S,value:f}}return null}doNavigateValueSet(y,D){const S=this.numberReplace(y,D);return S!==null?S:this.textReplace(y,D)}numberReplace(y,D){const S=Math.pow(10,y.length-(y.lastIndexOf(".")+1));let m=Number(y);const _=parseFloat(y);return!isNaN(m)&&!isNaN(_)&&m===_?m===0&&!D?null:(m=Math.floor(m*S),m+=D?S:-S,String(m/S)):null}textReplace(y,D){return this.valueSetsReplace(this._defaultValueSet,y,D)}valueSetsReplace(y,D,S){let m=null;for(let _=0,f=y.length;m===null&&_<f;_++)m=this.valueSetReplace(y[_],D,S);return m}valueSetReplace(y,D,S){let m=y.indexOf(D);return m>=0?(m+=S?1:-1,m<0?m=y.length-1:m%=y.length,y[m]):null}}e.BasicInplaceReplace=L,L.INSTANCE=new L}),define(X[496],ee([1,0,260]),function(q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ClosingBracketKind=e.OpeningBracketKind=e.BracketKindBase=e.LanguageBracketsConfiguration=void 0;class k{constructor(f,p){this.languageId=f;const s=p.brackets?y(p.brackets):[],t=new L.CachedFunction(r=>{const d=new Set;return{info:new S(this,r,d),closing:d}}),i=new L.CachedFunction(r=>{const d=new Set,h=new Set;return{info:new m(this,r,d,h),opening:d,openingColorized:h}});for(const[r,d]of s){const h=t.get(r),n=i.get(d);h.closing.add(n.info),n.opening.add(h.info)}const o=p.colorizedBracketPairs?y(p.colorizedBracketPairs):s.filter(r=>!(r[0]==="<"&&r[1]===">"));for(const[r,d]of o){const h=t.get(r),n=i.get(d);h.closing.add(n.info),n.openingColorized.add(h.info),n.opening.add(h.info)}this._openingBrackets=new Map([...t.cachedValues].map(([r,d])=>[r,d.info])),this._closingBrackets=new Map([...i.cachedValues].map(([r,d])=>[r,d.info]))}get openingBrackets(){return[...this._openingBrackets.values()]}get closingBrackets(){return[...this._closingBrackets.values()]}getOpeningBracketInfo(f){return this._openingBrackets.get(f)}getClosingBracketInfo(f){return this._closingBrackets.get(f)}getBracketInfo(f){return this.getOpeningBracketInfo(f)||this.getClosingBracketInfo(f)}}e.LanguageBracketsConfiguration=k;function y(_){return _.filter(([f,p])=>f!==""&&p!=="")}class D{constructor(f,p){this.config=f,this.bracketText=p}get languageId(){return this.config.languageId}}e.BracketKindBase=D;class S extends D{constructor(f,p,s){super(f,p),this.openedBrackets=s,this.isOpeningBracket=!0}}e.OpeningBracketKind=S;class m extends D{constructor(f,p,s,t){super(f,p),this.openingBrackets=s,this.openingColorizedBrackets=t,this.isOpeningBracket=!1}closes(f){return f.config!==this.config?!1:this.openingBrackets.has(f)}closesColorized(f){return f.config!==this.config?!1:this.openingColorizedBrackets.has(f)}getOpeningBrackets(){return[...this.openingBrackets]}}e.ClosingBracketKind=m}),define(X[497],ee([1,0,12,9,109]),function(q,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OnEnterSupport=void 0;class D{constructor(m){m=m||{},m.brackets=m.brackets||[["(",")"],["{","}"],["[","]"]],this._brackets=[],m.brackets.forEach(_=>{const f=D._createOpenBracketRegExp(_[0]),p=D._createCloseBracketRegExp(_[1]);f&&p&&this._brackets.push({open:_[0],openRegExp:f,close:_[1],closeRegExp:p})}),this._regExpRules=m.onEnterRules||[]}onEnter(m,_,f,p){if(m>=3)for(let s=0,t=this._regExpRules.length;s<t;s++){const i=this._regExpRules[s];if([{reg:i.beforeText,text:f},{reg:i.afterText,text:p},{reg:i.previousLineText,text:_}].every(r=>r.reg?(r.reg.lastIndex=0,r.reg.test(r.text)):!0))return i.action}if(m>=2&&f.length>0&&p.length>0)for(let s=0,t=this._brackets.length;s<t;s++){const i=this._brackets[s];if(i.openRegExp.test(f)&&i.closeRegExp.test(p))return{indentAction:y.IndentAction.IndentOutdent}}if(m>=2&&f.length>0){for(let s=0,t=this._brackets.length;s<t;s++)if(this._brackets[s].openRegExp.test(f))return{indentAction:y.IndentAction.Indent}}return null}static _createOpenBracketRegExp(m){let _=k.escapeRegExpCharacters(m);return/\B/.test(_.charAt(0))||(_="\\b"+_),_+="\\s*$",D._safeRegExp(_)}static _createCloseBracketRegExp(m){let _=k.escapeRegExpCharacters(m);return/\B/.test(_.charAt(_.length-1))||(_=_+"\\b"),_="^\\s*"+_,D._safeRegExp(_)}static _safeRegExp(m){try{return new RegExp(m)}catch(_){return(0,L.onUnexpectedError)(_),null}}}e.OnEnterSupport=D}),define(X[498],ee([1,0,36]),function(q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.generateTokensCSSForColorMap=e.ThemeTrieElement=e.ThemeTrieElementRule=e.strcmp=e.toStandardTokenType=e.TokenTheme=e.ColorMap=e.parseTokenTheme=e.ParsedTokenThemeRule=void 0;class k{constructor(d,h,n,c,a){this._parsedThemeRuleBrand=void 0,this.token=d,this.index=h,this.fontStyle=n,this.foreground=c,this.background=a}}e.ParsedTokenThemeRule=k;function y(r){if(!r||!Array.isArray(r))return[];const d=[];let h=0;for(let n=0,c=r.length;n<c;n++){const a=r[n];let l=-1;if(typeof a.fontStyle=="string"){l=0;const g=a.fontStyle.split(" ");for(let v=0,b=g.length;v<b;v++)switch(g[v]){case"italic":l=l|1;break;case"bold":l=l|2;break;case"underline":l=l|4;break;case"strikethrough":l=l|8;break}}let u=null;typeof a.foreground=="string"&&(u=a.foreground);let C=null;typeof a.background=="string"&&(C=a.background),d[h++]=new k(a.token||"",n,l,u,C)}return d}e.parseTokenTheme=y;function D(r,d){r.sort((v,b)=>{const w=s(v.token,b.token);return w!==0?w:v.index-b.index});let h=0,n="000000",c="ffffff";for(;r.length>=1&&r[0].token==="";){const v=r.shift();v.fontStyle!==-1&&(h=v.fontStyle),v.foreground!==null&&(n=v.foreground),v.background!==null&&(c=v.background)}const a=new m;for(const v of d)a.getId(v);const l=a.getId(n),u=a.getId(c),C=new t(h,l,u),g=new i(C);for(let v=0,b=r.length;v<b;v++){const w=r[v];g.insert(w.token,w.fontStyle,a.getId(w.foreground),a.getId(w.background))}return new _(a,g)}const S=/^#?([0-9A-Fa-f]{6})([0-9A-Fa-f]{2})?$/;class m{constructor(){this._lastColorId=0,this._id2color=[],this._color2id=new Map}getId(d){if(d===null)return 0;const h=d.match(S);if(!h)throw new Error("Illegal value for token color: "+d);d=h[1].toUpperCase();let n=this._color2id.get(d);return n||(n=++this._lastColorId,this._color2id.set(d,n),this._id2color[n]=L.Color.fromHex("#"+d),n)}getColorMap(){return this._id2color.slice(0)}}e.ColorMap=m;class _{static createFromRawTokenTheme(d,h){return this.createFromParsedTokenTheme(y(d),h)}static createFromParsedTokenTheme(d,h){return D(d,h)}constructor(d,h){this._colorMap=d,this._root=h,this._cache=new Map}getColorMap(){return this._colorMap.getColorMap()}_match(d){return this._root.match(d)}match(d,h){let n=this._cache.get(h);if(typeof n>"u"){const c=this._match(h),a=p(h);n=(c.metadata|a<<8)>>>0,this._cache.set(h,n)}return(n|d<<0)>>>0}}e.TokenTheme=_;const f=/\b(comment|string|regex|regexp)\b/;function p(r){const d=r.match(f);if(!d)return 0;switch(d[1]){case"comment":return 1;case"string":return 2;case"regex":return 3;case"regexp":return 3}throw new Error("Unexpected match for standard token type!")}e.toStandardTokenType=p;function s(r,d){return r<d?-1:r>d?1:0}e.strcmp=s;class t{constructor(d,h,n){this._themeTrieElementRuleBrand=void 0,this._fontStyle=d,this._foreground=h,this._background=n,this.metadata=(this._fontStyle<<11|this._foreground<<15|this._background<<24)>>>0}clone(){return new t(this._fontStyle,this._foreground,this._background)}acceptOverwrite(d,h,n){d!==-1&&(this._fontStyle=d),h!==0&&(this._foreground=h),n!==0&&(this._background=n),this.metadata=(this._fontStyle<<11|this._foreground<<15|this._background<<24)>>>0}}e.ThemeTrieElementRule=t;class i{constructor(d){this._themeTrieElementBrand=void 0,this._mainRule=d,this._children=new Map}match(d){if(d==="")return this._mainRule;const h=d.indexOf(".");let n,c;h===-1?(n=d,c=""):(n=d.substring(0,h),c=d.substring(h+1));const a=this._children.get(n);return typeof a<"u"?a.match(c):this._mainRule}insert(d,h,n,c){if(d===""){this._mainRule.acceptOverwrite(h,n,c);return}const a=d.indexOf(".");let l,u;a===-1?(l=d,u=""):(l=d.substring(0,a),u=d.substring(a+1));let C=this._children.get(l);typeof C>"u"&&(C=new i(this._mainRule.clone()),this._children.set(l,C)),C.insert(u,h,n,c)}}e.ThemeTrieElement=i;function o(r){const d=[];for(let h=1,n=r.length;h<n;h++){const c=r[h];d[h]=`.mtk${h} { color: ${c}; }`}return d.push(".mtki { font-style: italic; }"),d.push(".mtkb { font-weight: bold; }"),d.push(".mtku { text-decoration: underline; text-underline-position: under; }"),d.push(".mtks { text-decoration: line-through; }"),d.push(".mtks.mtku { text-decoration: underline line-through; text-underline-position: under; }"),d.join(`
`)}e.generateTokensCSSForColorMap=o}),define(X[47],ee([1,0,46]),function(q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.shouldSynchronizeModel=e.ApplyEditsResult=e.SearchData=e.ValidAnnotatedEditOperation=e.isITextSnapshot=e.FindMatch=e.TextModelResolvedOptions=e.InjectedTextCursorStops=e.MinimapPosition=e.GlyphMarginLane=e.OverviewRulerLane=void 0;var k;(function(o){o[o.Left=1]="Left",o[o.Center=2]="Center",o[o.Right=4]="Right",o[o.Full=7]="Full"})(k||(e.OverviewRulerLane=k={}));var y;(function(o){o[o.Left=1]="Left",o[o.Right=2]="Right"})(y||(e.GlyphMarginLane=y={}));var D;(function(o){o[o.Inline=1]="Inline",o[o.Gutter=2]="Gutter"})(D||(e.MinimapPosition=D={}));var S;(function(o){o[o.Both=0]="Both",o[o.Right=1]="Right",o[o.Left=2]="Left",o[o.None=3]="None"})(S||(e.InjectedTextCursorStops=S={}));class m{get originalIndentSize(){return this._indentSizeIsTabSize?"tabSize":this.indentSize}constructor(r){this._textModelResolvedOptionsBrand=void 0,this.tabSize=Math.max(1,r.tabSize|0),r.indentSize==="tabSize"?(this.indentSize=this.tabSize,this._indentSizeIsTabSize=!0):(this.indentSize=Math.max(1,r.indentSize|0),this._indentSizeIsTabSize=!1),this.insertSpaces=!!r.insertSpaces,this.defaultEOL=r.defaultEOL|0,this.trimAutoWhitespace=!!r.trimAutoWhitespace,this.bracketPairColorizationOptions=r.bracketPairColorizationOptions}equals(r){return this.tabSize===r.tabSize&&this._indentSizeIsTabSize===r._indentSizeIsTabSize&&this.indentSize===r.indentSize&&this.insertSpaces===r.insertSpaces&&this.defaultEOL===r.defaultEOL&&this.trimAutoWhitespace===r.trimAutoWhitespace&&(0,L.equals)(this.bracketPairColorizationOptions,r.bracketPairColorizationOptions)}createChangeEvent(r){return{tabSize:this.tabSize!==r.tabSize,indentSize:this.indentSize!==r.indentSize,insertSpaces:this.insertSpaces!==r.insertSpaces,trimAutoWhitespace:this.trimAutoWhitespace!==r.trimAutoWhitespace}}}e.TextModelResolvedOptions=m;class _{constructor(r,d){this._findMatchBrand=void 0,this.range=r,this.matches=d}}e.FindMatch=_;function f(o){return o&&typeof o.read=="function"}e.isITextSnapshot=f;class p{constructor(r,d,h,n,c,a){this.identifier=r,this.range=d,this.text=h,this.forceMoveMarkers=n,this.isAutoWhitespaceEdit=c,this._isTracked=a}}e.ValidAnnotatedEditOperation=p;class s{constructor(r,d,h){this.regex=r,this.wordSeparators=d,this.simpleSearch=h}}e.SearchData=s;class t{constructor(r,d,h){this.reverseEdits=r,this.changes=d,this.trimAutoWhitespaceLineNumbers=h}}e.ApplyEditsResult=t;function i(o){return!o.isTooLargeForSyncing()&&!o.isForSimpleWidget}e.shouldSynchronizeModel=i}),define(X[85],ee([1,0,9,11,5]),function(q,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.lengthOfString=e.lengthOfRange=e.lengthsToRange=e.positionToLength=e.lengthToPosition=e.lengthGreaterThanEqual=e.lengthLessThanEqual=e.lengthLessThan=e.lengthDiffNonNegative=e.lengthEquals=e.sumLengths=e.lengthAdd=e.lengthGetColumnCountIfZeroLineCount=e.lengthGetLineCount=e.lengthToObj=e.toLength=e.lengthIsZero=e.lengthZero=e.lengthDiff=e.LengthObj=void 0;class D{constructor(b,w){this.lineCount=b,this.columnCount=w}toLength(){return f(this.lineCount,this.columnCount)}toString(){return`${this.lineCount},${this.columnCount}`}}e.LengthObj=D,D.zero=new D(0,0);function S(v,b,w,E){return v!==w?f(w-v,E):f(0,E-b)}e.lengthDiff=S,e.lengthZero=0;function m(v){return v===0}e.lengthIsZero=m;const _=Math.pow(2,26);function f(v,b){return v*_+b}e.toLength=f;function p(v){const b=v,w=Math.floor(b/_),E=b-w*_;return new D(w,E)}e.lengthToObj=p;function s(v){return Math.floor(v/_)}e.lengthGetLineCount=s;function t(v){return v}e.lengthGetColumnCountIfZeroLineCount=t;function i(v,b){let w=v+b;return b>=_&&(w=w-v%_),w}e.lengthAdd=i;function o(v,b){return v.reduce((w,E)=>i(w,b(E)),e.lengthZero)}e.sumLengths=o;function r(v,b){return v===b}e.lengthEquals=r;function d(v,b){const w=v,E=b;if(E-w<=0)return e.lengthZero;const T=Math.floor(w/_),P=Math.floor(E/_),A=E-P*_;if(T===P){const M=w-T*_;return f(0,A-M)}else return f(P-T,A)}e.lengthDiffNonNegative=d;function h(v,b){return v<b}e.lengthLessThan=h;function n(v,b){return v<=b}e.lengthLessThanEqual=n;function c(v,b){return v>=b}e.lengthGreaterThanEqual=c;function a(v){const b=v,w=Math.floor(b/_),E=b-w*_;return new k.Position(w+1,E+1)}e.lengthToPosition=a;function l(v){return f(v.lineNumber-1,v.column-1)}e.positionToLength=l;function u(v,b){const w=v,E=Math.floor(w/_),I=w-E*_,T=b,P=Math.floor(T/_),A=T-P*_;return new y.Range(E+1,I+1,P+1,A+1)}e.lengthsToRange=u;function C(v){return v.startLineNumber===v.endLineNumber?new D(0,v.endColumn-v.startColumn):new D(v.endLineNumber-v.startLineNumber,v.endColumn-1)}e.lengthOfRange=C;function g(v){const b=(0,L.splitLines)(v);return f(b.length-1,b[b.length-1].length)}e.lengthOfString=g}),define(X[181],ee([1,0,5,85]),function(q,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BeforeEditPositionMapper=e.TextEditInfo=void 0;class y{static fromModelContentChanges(_){return _.map(p=>{const s=L.Range.lift(p.range);return new y((0,k.positionToLength)(s.getStartPosition()),(0,k.positionToLength)(s.getEndPosition()),(0,k.lengthOfString)(p.text))}).reverse()}constructor(_,f,p){this.startOffset=_,this.endOffset=f,this.newLength=p}toString(){return`[${(0,k.lengthToObj)(this.startOffset)}...${(0,k.lengthToObj)(this.endOffset)}) -> ${(0,k.lengthToObj)(this.newLength)}`}}e.TextEditInfo=y;class D{constructor(_){this.nextEditIdx=0,this.deltaOldToNewLineCount=0,this.deltaOldToNewColumnCount=0,this.deltaLineIdxInOld=-1,this.edits=_.map(f=>S.from(f))}getOffsetBeforeChange(_){return this.adjustNextEdit(_),this.translateCurToOld(_)}getDistanceToNextChange(_){this.adjustNextEdit(_);const f=this.edits[this.nextEditIdx],p=f?this.translateOldToCur(f.offsetObj):null;return p===null?null:(0,k.lengthDiffNonNegative)(_,p)}translateOldToCur(_){return _.lineCount===this.deltaLineIdxInOld?(0,k.toLength)(_.lineCount+this.deltaOldToNewLineCount,_.columnCount+this.deltaOldToNewColumnCount):(0,k.toLength)(_.lineCount+this.deltaOldToNewLineCount,_.columnCount)}translateCurToOld(_){const f=(0,k.lengthToObj)(_);return f.lineCount-this.deltaOldToNewLineCount===this.deltaLineIdxInOld?(0,k.toLength)(f.lineCount-this.deltaOldToNewLineCount,f.columnCount-this.deltaOldToNewColumnCount):(0,k.toLength)(f.lineCount-this.deltaOldToNewLineCount,f.columnCount)}adjustNextEdit(_){for(;this.nextEditIdx<this.edits.length;){const f=this.edits[this.nextEditIdx],p=this.translateOldToCur(f.endOffsetAfterObj);if((0,k.lengthLessThanEqual)(p,_)){this.nextEditIdx++;const s=(0,k.lengthToObj)(p),t=(0,k.lengthToObj)(this.translateOldToCur(f.endOffsetBeforeObj)),i=s.lineCount-t.lineCount;this.deltaOldToNewLineCount+=i;const o=this.deltaLineIdxInOld===f.endOffsetBeforeObj.lineCount?this.deltaOldToNewColumnCount:0,r=s.columnCount-t.columnCount;this.deltaOldToNewColumnCount=o+r,this.deltaLineIdxInOld=f.endOffsetBeforeObj.lineCount}else break}}}e.BeforeEditPositionMapper=D;class S{static from(_){return new S(_.startOffset,_.endOffset,_.newLength)}constructor(_,f,p){this.endOffsetBeforeObj=(0,k.lengthToObj)(f),this.endOffsetAfterObj=(0,k.lengthToObj)((0,k.lengthAdd)(_,p)),this.offsetObj=(0,k.lengthToObj)(_)}}}),define(X[276],ee([1,0,16,181,85]),function(q,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.combineTextEditInfos=void 0;function D(_,f){if(_.length===0)return f;if(f.length===0)return _;const p=new L.ArrayQueue(m(_)),s=m(f);s.push({modified:!1,lengthBefore:void 0,lengthAfter:void 0});let t=p.dequeue();function i(h){if(h===void 0){const c=p.takeWhile(a=>!0)||[];return t&&c.unshift(t),c}const n=[];for(;t&&!(0,y.lengthIsZero)(h);){const[c,a]=t.splitAt(h);n.push(c),h=(0,y.lengthDiffNonNegative)(c.lengthAfter,h),t=a??p.dequeue()}return(0,y.lengthIsZero)(h)||n.push(new S(!1,h,h)),n}const o=[];function r(h,n,c){if(o.length>0&&(0,y.lengthEquals)(o[o.length-1].endOffset,h)){const a=o[o.length-1];o[o.length-1]=new k.TextEditInfo(a.startOffset,n,(0,y.lengthAdd)(a.newLength,c))}else o.push({startOffset:h,endOffset:n,newLength:c})}let d=y.lengthZero;for(const h of s){const n=i(h.lengthBefore);if(h.modified){const c=(0,y.sumLengths)(n,l=>l.lengthBefore),a=(0,y.lengthAdd)(d,c);r(d,a,h.lengthAfter),d=a}else for(const c of n){const a=d;d=(0,y.lengthAdd)(d,c.lengthBefore),c.modified&&r(a,d,c.lengthAfter)}}return o}e.combineTextEditInfos=D;class S{constructor(f,p,s){this.modified=f,this.lengthBefore=p,this.lengthAfter=s}splitAt(f){const p=(0,y.lengthDiffNonNegative)(f,this.lengthAfter);return(0,y.lengthEquals)(p,y.lengthZero)?[this,void 0]:this.modified?[new S(this.modified,this.lengthBefore,f),new S(this.modified,y.lengthZero,p)]:[new S(this.modified,f,f),new S(this.modified,p,p)]}toString(){return`${this.modified?"M":"U"}:${(0,y.lengthToObj)(this.lengthBefore)} -> ${(0,y.lengthToObj)(this.lengthAfter)}`}}function m(_){const f=[];let p=y.lengthZero;for(const s of _){const t=(0,y.lengthDiffNonNegative)(p,s.startOffset);(0,y.lengthIsZero)(t)||f.push(new S(!1,t,t));const i=(0,y.lengthDiffNonNegative)(s.startOffset,s.endOffset);f.push(new S(!0,i,s.newLength)),p=s.endOffset}return f}}),define(X[499],ee([1,0,85]),function(q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NodeReader=void 0;class k{constructor(m){this.lastOffset=L.lengthZero,this.nextNodes=[m],this.offsets=[L.lengthZero],this.idxs=[]}readLongestNodeAt(m,_){if((0,L.lengthLessThan)(m,this.lastOffset))throw new Error("Invalid offset");for(this.lastOffset=m;;){const f=D(this.nextNodes);if(!f)return;const p=D(this.offsets);if((0,L.lengthLessThan)(m,p))return;if((0,L.lengthLessThan)(p,m))if((0,L.lengthAdd)(p,f.length)<=m)this.nextNodeAfterCurrent();else{const s=y(f);s!==-1?(this.nextNodes.push(f.getChild(s)),this.offsets.push(p),this.idxs.push(s)):this.nextNodeAfterCurrent()}else{if(_(f))return this.nextNodeAfterCurrent(),f;{const s=y(f);if(s===-1){this.nextNodeAfterCurrent();return}else this.nextNodes.push(f.getChild(s)),this.offsets.push(p),this.idxs.push(s)}}}}nextNodeAfterCurrent(){for(;;){const m=D(this.offsets),_=D(this.nextNodes);if(this.nextNodes.pop(),this.offsets.pop(),this.idxs.length===0)break;const f=D(this.nextNodes),p=y(f,this.idxs[this.idxs.length-1]);if(p!==-1){this.nextNodes.push(f.getChild(p)),this.offsets.push((0,L.lengthAdd)(m,_.length)),this.idxs[this.idxs.length-1]=p;break}else this.idxs.pop()}}}e.NodeReader=k;function y(S,m=-1){for(;;){if(m++,m>=S.childrenLength)return-1;if(S.getChild(m))return m}}function D(S){return S.length>0?S[S.length-1]:void 0}}),define(X[126],ee([1,0]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DenseKeyProvider=e.identityKeyProvider=e.SmallImmutableSet=void 0;const L=[];class k{static create(S,m){if(S<=128&&m.length===0){let _=k.cache[S];return _||(_=new k(S,m),k.cache[S]=_),_}return new k(S,m)}static getEmpty(){return this.empty}constructor(S,m){this.items=S,this.additionalItems=m}add(S,m){const _=m.getKey(S);let f=_>>5;if(f===0){const s=1<<_|this.items;return s===this.items?this:k.create(s,this.additionalItems)}f--;const p=this.additionalItems.slice(0);for(;p.length<f;)p.push(0);return p[f]|=1<<(_&31),k.create(this.items,p)}merge(S){const m=this.items|S.items;if(this.additionalItems===L&&S.additionalItems===L)return m===this.items?this:m===S.items?S:k.create(m,L);const _=[];for(let f=0;f<Math.max(this.additionalItems.length,S.additionalItems.length);f++){const p=this.additionalItems[f]||0,s=S.additionalItems[f]||0;_.push(p|s)}return k.create(m,_)}intersects(S){if(this.items&S.items)return!0;for(let m=0;m<Math.min(this.additionalItems.length,S.additionalItems.length);m++)if(this.additionalItems[m]&S.additionalItems[m])return!0;return!1}}e.SmallImmutableSet=k,k.cache=new Array(129),k.empty=k.create(0,L),e.identityKeyProvider={getKey(D){return D}};class y{constructor(){this.items=new Map}getKey(S){let m=this.items.get(S);return m===void 0&&(m=this.items.size,this.items.set(S,m)),m}}e.DenseKeyProvider=y}),define(X[182],ee([1,0,12,81,85,126]),function(q,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InvalidBracketAstNode=e.BracketAstNode=e.TextAstNode=e.ListAstNode=e.PairAstNode=void 0;class S{get length(){return this._length}constructor(c){this._length=c}}class m extends S{static create(c,a,l){let u=c.length;return a&&(u=(0,y.lengthAdd)(u,a.length)),l&&(u=(0,y.lengthAdd)(u,l.length)),new m(u,c,a,l,a?a.missingOpeningBracketIds:D.SmallImmutableSet.getEmpty())}get kind(){return 2}get listHeight(){return 0}get childrenLength(){return 3}getChild(c){switch(c){case 0:return this.openingBracket;case 1:return this.child;case 2:return this.closingBracket}throw new Error("Invalid child index")}get children(){const c=[];return c.push(this.openingBracket),this.child&&c.push(this.child),this.closingBracket&&c.push(this.closingBracket),c}constructor(c,a,l,u,C){super(c),this.openingBracket=a,this.child=l,this.closingBracket=u,this.missingOpeningBracketIds=C}canBeReused(c){return!(this.closingBracket===null||c.intersects(this.missingOpeningBracketIds))}deepClone(){return new m(this.length,this.openingBracket.deepClone(),this.child&&this.child.deepClone(),this.closingBracket&&this.closingBracket.deepClone(),this.missingOpeningBracketIds)}computeMinIndentation(c,a){return this.child?this.child.computeMinIndentation((0,y.lengthAdd)(c,this.openingBracket.length),a):Number.MAX_SAFE_INTEGER}}e.PairAstNode=m;class _ extends S{static create23(c,a,l,u=!1){let C=c.length,g=c.missingOpeningBracketIds;if(c.listHeight!==a.listHeight)throw new Error("Invalid list heights");if(C=(0,y.lengthAdd)(C,a.length),g=g.merge(a.missingOpeningBracketIds),l){if(c.listHeight!==l.listHeight)throw new Error("Invalid list heights");C=(0,y.lengthAdd)(C,l.length),g=g.merge(l.missingOpeningBracketIds)}return u?new p(C,c.listHeight+1,c,a,l,g):new f(C,c.listHeight+1,c,a,l,g)}static getEmpty(){return new t(y.lengthZero,0,[],D.SmallImmutableSet.getEmpty())}get kind(){return 4}get missingOpeningBracketIds(){return this._missingOpeningBracketIds}constructor(c,a,l){super(c),this.listHeight=a,this._missingOpeningBracketIds=l,this.cachedMinIndentation=-1}throwIfImmutable(){}makeLastElementMutable(){this.throwIfImmutable();const c=this.childrenLength;if(c===0)return;const a=this.getChild(c-1),l=a.kind===4?a.toMutable():a;return a!==l&&this.setChild(c-1,l),l}makeFirstElementMutable(){if(this.throwIfImmutable(),this.childrenLength===0)return;const a=this.getChild(0),l=a.kind===4?a.toMutable():a;return a!==l&&this.setChild(0,l),l}canBeReused(c){if(c.intersects(this.missingOpeningBracketIds)||this.childrenLength===0)return!1;let a=this;for(;a.kind===4;){const l=a.childrenLength;if(l===0)throw new L.BugIndicatingError;a=a.getChild(l-1)}return a.canBeReused(c)}handleChildrenChanged(){this.throwIfImmutable();const c=this.childrenLength;let a=this.getChild(0).length,l=this.getChild(0).missingOpeningBracketIds;for(let u=1;u<c;u++){const C=this.getChild(u);a=(0,y.lengthAdd)(a,C.length),l=l.merge(C.missingOpeningBracketIds)}this._length=a,this._missingOpeningBracketIds=l,this.cachedMinIndentation=-1}computeMinIndentation(c,a){if(this.cachedMinIndentation!==-1)return this.cachedMinIndentation;let l=Number.MAX_SAFE_INTEGER,u=c;for(let C=0;C<this.childrenLength;C++){const g=this.getChild(C);g&&(l=Math.min(l,g.computeMinIndentation(u,a)),u=(0,y.lengthAdd)(u,g.length))}return this.cachedMinIndentation=l,l}}e.ListAstNode=_;class f extends _{get childrenLength(){return this._item3!==null?3:2}getChild(c){switch(c){case 0:return this._item1;case 1:return this._item2;case 2:return this._item3}throw new Error("Invalid child index")}setChild(c,a){switch(c){case 0:this._item1=a;return;case 1:this._item2=a;return;case 2:this._item3=a;return}throw new Error("Invalid child index")}get children(){return this._item3?[this._item1,this._item2,this._item3]:[this._item1,this._item2]}get item1(){return this._item1}get item2(){return this._item2}get item3(){return this._item3}constructor(c,a,l,u,C,g){super(c,a,g),this._item1=l,this._item2=u,this._item3=C}deepClone(){return new f(this.length,this.listHeight,this._item1.deepClone(),this._item2.deepClone(),this._item3?this._item3.deepClone():null,this.missingOpeningBracketIds)}appendChildOfSameHeight(c){if(this._item3)throw new Error("Cannot append to a full (2,3) tree node");this.throwIfImmutable(),this._item3=c,this.handleChildrenChanged()}unappendChild(){if(!this._item3)throw new Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();const c=this._item3;return this._item3=null,this.handleChildrenChanged(),c}prependChildOfSameHeight(c){if(this._item3)throw new Error("Cannot prepend to a full (2,3) tree node");this.throwIfImmutable(),this._item3=this._item2,this._item2=this._item1,this._item1=c,this.handleChildrenChanged()}unprependChild(){if(!this._item3)throw new Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();const c=this._item1;return this._item1=this._item2,this._item2=this._item3,this._item3=null,this.handleChildrenChanged(),c}toMutable(){return this}}class p extends f{toMutable(){return new f(this.length,this.listHeight,this.item1,this.item2,this.item3,this.missingOpeningBracketIds)}throwIfImmutable(){throw new Error("this instance is immutable")}}class s extends _{get childrenLength(){return this._children.length}getChild(c){return this._children[c]}setChild(c,a){this._children[c]=a}get children(){return this._children}constructor(c,a,l,u){super(c,a,u),this._children=l}deepClone(){const c=new Array(this._children.length);for(let a=0;a<this._children.length;a++)c[a]=this._children[a].deepClone();return new s(this.length,this.listHeight,c,this.missingOpeningBracketIds)}appendChildOfSameHeight(c){this.throwIfImmutable(),this._children.push(c),this.handleChildrenChanged()}unappendChild(){this.throwIfImmutable();const c=this._children.pop();return this.handleChildrenChanged(),c}prependChildOfSameHeight(c){this.throwIfImmutable(),this._children.unshift(c),this.handleChildrenChanged()}unprependChild(){this.throwIfImmutable();const c=this._children.shift();return this.handleChildrenChanged(),c}toMutable(){return this}}class t extends s{toMutable(){return new s(this.length,this.listHeight,[...this.children],this.missingOpeningBracketIds)}throwIfImmutable(){throw new Error("this instance is immutable")}}const i=[];class o extends S{get listHeight(){return 0}get childrenLength(){return 0}getChild(c){return null}get children(){return i}deepClone(){return this}}class r extends o{get kind(){return 0}get missingOpeningBracketIds(){return D.SmallImmutableSet.getEmpty()}canBeReused(c){return!0}computeMinIndentation(c,a){const l=(0,y.lengthToObj)(c),u=(l.columnCount===0?l.lineCount:l.lineCount+1)+1,C=(0,y.lengthGetLineCount)((0,y.lengthAdd)(c,this.length))+1;let g=Number.MAX_SAFE_INTEGER;for(let v=u;v<=C;v++){const b=a.getLineFirstNonWhitespaceColumn(v),w=a.getLineContent(v);if(b===0)continue;const E=k.CursorColumns.visibleColumnFromColumn(w,b,a.getOptions().tabSize);g=Math.min(g,E)}return g}}e.TextAstNode=r;class d extends o{static create(c,a,l){return new d(c,a,l)}get kind(){return 1}get missingOpeningBracketIds(){return D.SmallImmutableSet.getEmpty()}constructor(c,a,l){super(c),this.bracketInfo=a,this.bracketIds=l}get text(){return this.bracketInfo.bracketText}get languageId(){return this.bracketInfo.languageId}canBeReused(c){return!1}computeMinIndentation(c,a){return Number.MAX_SAFE_INTEGER}}e.BracketAstNode=d;class h extends o{get kind(){return 3}constructor(c,a){super(a),this.missingOpeningBracketIds=c}canBeReused(c){return!c.intersects(this.missingOpeningBracketIds)}computeMinIndentation(c,a){return Number.MAX_SAFE_INTEGER}}e.InvalidBracketAstNode=h}),define(X[500],ee([1,0,182]),function(q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.concat23TreesOfSameHeight=e.concat23Trees=void 0;function k(f){if(f.length===0)return null;if(f.length===1)return f[0];let p=0;function s(){if(p>=f.length)return null;const r=p,d=f[r].listHeight;for(p++;p<f.length&&f[p].listHeight===d;)p++;return p-r>=2?y(r===0&&p===f.length?f:f.slice(r,p),!1):f[r]}let t=s(),i=s();if(!i)return t;for(let r=s();r;r=s())D(t,i)<=D(i,r)?(t=S(t,i),i=r):i=S(i,r);return S(t,i)}e.concat23Trees=k;function y(f,p=!1){if(f.length===0)return null;if(f.length===1)return f[0];let s=f.length;for(;s>3;){const t=s>>1;for(let i=0;i<t;i++){const o=i<<1;f[i]=L.ListAstNode.create23(f[o],f[o+1],o+3===s?f[o+2]:null,p)}s=t}return L.ListAstNode.create23(f[0],f[1],s>=3?f[2]:null,p)}e.concat23TreesOfSameHeight=y;function D(f,p){return Math.abs(f.listHeight-p.listHeight)}function S(f,p){return f.listHeight===p.listHeight?L.ListAstNode.create23(f,p,null,!1):f.listHeight>p.listHeight?m(f,p):_(p,f)}function m(f,p){f=f.toMutable();let s=f;const t=[];let i;for(;;){if(p.listHeight===s.listHeight){i=p;break}if(s.kind!==4)throw new Error("unexpected");t.push(s),s=s.makeLastElementMutable()}for(let o=t.length-1;o>=0;o--){const r=t[o];i?r.childrenLength>=3?i=L.ListAstNode.create23(r.unappendChild(),i,null,!1):(r.appendChildOfSameHeight(i),i=void 0):r.handleChildrenChanged()}return i?L.ListAstNode.create23(f,i,null,!1):f}function _(f,p){f=f.toMutable();let s=f;const t=[];for(;p.listHeight!==s.listHeight;){if(s.kind!==4)throw new Error("unexpected");t.push(s),s=s.makeFirstElementMutable()}let i=p;for(let o=t.length-1;o>=0;o--){const r=t[o];i?r.childrenLength>=3?i=L.ListAstNode.create23(i,r.unprependChild(),null,!1):(r.prependChildOfSameHeight(i),i=void 0):r.handleChildrenChanged()}return i?L.ListAstNode.create23(i,f,null,!1):f}}),define(X[277],ee([1,0,182,181,126,85,500,499]),function(q,e,L,k,y,D,S,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseDocument=void 0;function _(p,s,t,i){return new f(p,s,t,i).parseDocument()}e.parseDocument=_;class f{constructor(s,t,i,o){if(this.tokenizer=s,this.createImmutableLists=o,this._itemsConstructed=0,this._itemsFromCache=0,i&&o)throw new Error("Not supported");this.oldNodeReader=i?new m.NodeReader(i):void 0,this.positionMapper=new k.BeforeEditPositionMapper(t)}parseDocument(){this._itemsConstructed=0,this._itemsFromCache=0;let s=this.parseList(y.SmallImmutableSet.getEmpty(),0);return s||(s=L.ListAstNode.getEmpty()),s}parseList(s,t){const i=[];for(;;){let r=this.tryReadChildFromCache(s);if(!r){const d=this.tokenizer.peek();if(!d||d.kind===2&&d.bracketIds.intersects(s))break;r=this.parseChild(s,t+1)}r.kind===4&&r.childrenLength===0||i.push(r)}return this.oldNodeReader?(0,S.concat23Trees)(i):(0,S.concat23TreesOfSameHeight)(i,this.createImmutableLists)}tryReadChildFromCache(s){if(this.oldNodeReader){const t=this.positionMapper.getDistanceToNextChange(this.tokenizer.offset);if(t===null||!(0,D.lengthIsZero)(t)){const i=this.oldNodeReader.readLongestNodeAt(this.positionMapper.getOffsetBeforeChange(this.tokenizer.offset),o=>t!==null&&!(0,D.lengthLessThan)(o.length,t)?!1:o.canBeReused(s));if(i)return this._itemsFromCache++,this.tokenizer.skip(i.length),i}}}parseChild(s,t){this._itemsConstructed++;const i=this.tokenizer.read();switch(i.kind){case 2:return new L.InvalidBracketAstNode(i.bracketIds,i.length);case 0:return i.astNode;case 1:{if(t>300)return new L.TextAstNode(i.length);const o=s.merge(i.bracketIds),r=this.parseList(o,t+1),d=this.tokenizer.peek();return d&&d.kind===2&&(d.bracketId===i.bracketId||d.bracketIds.intersects(i.bracketIds))?(this.tokenizer.read(),L.PairAstNode.create(i.astNode,r,d.astNode)):L.PairAstNode.create(i.astNode,r,null)}default:throw new Error("unexpected")}}}}),define(X[205],ee([1,0,12,124,182,85,126]),function(q,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FastTokenizer=e.TextBufferTokenizer=e.Token=void 0;class m{constructor(t,i,o,r,d){this.length=t,this.kind=i,this.bracketId=o,this.bracketIds=r,this.astNode=d}}e.Token=m;class _{constructor(t,i){this.textModel=t,this.bracketTokens=i,this.reader=new f(this.textModel,this.bracketTokens),this._offset=D.lengthZero,this.didPeek=!1,this.peeked=null,this.textBufferLineCount=t.getLineCount(),this.textBufferLastLineLength=t.getLineLength(this.textBufferLineCount)}get offset(){return this._offset}get length(){return(0,D.toLength)(this.textBufferLineCount-1,this.textBufferLastLineLength)}skip(t){this.didPeek=!1,this._offset=(0,D.lengthAdd)(this._offset,t);const i=(0,D.lengthToObj)(this._offset);this.reader.setPosition(i.lineCount,i.columnCount)}read(){let t;return this.peeked?(this.didPeek=!1,t=this.peeked):t=this.reader.read(),t&&(this._offset=(0,D.lengthAdd)(this._offset,t.length)),t}peek(){return this.didPeek||(this.peeked=this.reader.read(),this.didPeek=!0),this.peeked}}e.TextBufferTokenizer=_;class f{constructor(t,i){this.textModel=t,this.bracketTokens=i,this.lineIdx=0,this.line=null,this.lineCharOffset=0,this.lineTokens=null,this.lineTokenOffset=0,this.peekedToken=null,this.textBufferLineCount=t.getLineCount(),this.textBufferLastLineLength=t.getLineLength(this.textBufferLineCount)}setPosition(t,i){t===this.lineIdx?(this.lineCharOffset=i,this.line!==null&&(this.lineTokenOffset=this.lineCharOffset===0?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset))):(this.lineIdx=t,this.lineCharOffset=i,this.line=null),this.peekedToken=null}read(){if(this.peekedToken){const d=this.peekedToken;return this.peekedToken=null,this.lineCharOffset+=(0,D.lengthGetColumnCountIfZeroLineCount)(d.length),d}if(this.lineIdx>this.textBufferLineCount-1||this.lineIdx===this.textBufferLineCount-1&&this.lineCharOffset>=this.textBufferLastLineLength)return null;this.line===null&&(this.lineTokens=this.textModel.tokenization.getLineTokens(this.lineIdx+1),this.line=this.lineTokens.getLineContent(),this.lineTokenOffset=this.lineCharOffset===0?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset));const t=this.lineIdx,i=this.lineCharOffset;let o=0;for(;;){const d=this.lineTokens,h=d.getCount();let n=null;if(this.lineTokenOffset<h){const c=d.getMetadata(this.lineTokenOffset);for(;this.lineTokenOffset+1<h&&c===d.getMetadata(this.lineTokenOffset+1);)this.lineTokenOffset++;const a=k.TokenMetadata.getTokenType(c)===0,l=k.TokenMetadata.containsBalancedBrackets(c),u=d.getEndOffset(this.lineTokenOffset);if(l&&a&&this.lineCharOffset<u){const C=d.getLanguageId(this.lineTokenOffset),g=this.line.substring(this.lineCharOffset,u),v=this.bracketTokens.getSingleLanguageBracketTokens(C),b=v.regExpGlobal;if(b){b.lastIndex=0;const w=b.exec(g);w&&(n=v.getToken(w[0]),n&&(this.lineCharOffset+=w.index))}}if(o+=u-this.lineCharOffset,n)if(t!==this.lineIdx||i!==this.lineCharOffset){this.peekedToken=n;break}else return this.lineCharOffset+=(0,D.lengthGetColumnCountIfZeroLineCount)(n.length),n;else this.lineTokenOffset++,this.lineCharOffset=u}else if(this.lineIdx===this.textBufferLineCount-1||(this.lineIdx++,this.lineTokens=this.textModel.tokenization.getLineTokens(this.lineIdx+1),this.lineTokenOffset=0,this.line=this.lineTokens.getLineContent(),this.lineCharOffset=0,o+=33,o>1e3))break;if(o>1500)break}const r=(0,D.lengthDiff)(t,i,this.lineIdx,this.lineCharOffset);return new m(r,0,-1,S.SmallImmutableSet.getEmpty(),new y.TextAstNode(r))}}class p{constructor(t,i){this.text=t,this._offset=D.lengthZero,this.idx=0;const o=i.getRegExpStr(),r=o?new RegExp(o+`|
`,"gi"):null,d=[];let h,n=0,c=0,a=0,l=0;const u=[];for(let v=0;v<60;v++)u.push(new m((0,D.toLength)(0,v),0,-1,S.SmallImmutableSet.getEmpty(),new y.TextAstNode((0,D.toLength)(0,v))));const C=[];for(let v=0;v<60;v++)C.push(new m((0,D.toLength)(1,v),0,-1,S.SmallImmutableSet.getEmpty(),new y.TextAstNode((0,D.toLength)(1,v))));if(r)for(r.lastIndex=0;(h=r.exec(t))!==null;){const v=h.index,b=h[0];if(b===`
`)n++,c=v+1;else{if(a!==v){let w;if(l===n){const E=v-a;if(E<u.length)w=u[E];else{const I=(0,D.toLength)(0,E);w=new m(I,0,-1,S.SmallImmutableSet.getEmpty(),new y.TextAstNode(I))}}else{const E=n-l,I=v-c;if(E===1&&I<C.length)w=C[I];else{const T=(0,D.toLength)(E,I);w=new m(T,0,-1,S.SmallImmutableSet.getEmpty(),new y.TextAstNode(T))}}d.push(w)}d.push(i.getToken(b)),a=v+b.length,l=n}}const g=t.length;if(a!==g){const v=l===n?(0,D.toLength)(0,g-a):(0,D.toLength)(n-l,g-c);d.push(new m(v,0,-1,S.SmallImmutableSet.getEmpty(),new y.TextAstNode(v)))}this.length=(0,D.toLength)(n,g-c),this.tokens=d}get offset(){return this._offset}read(){return this.tokens[this.idx++]||null}peek(){return this.tokens[this.idx]||null}skip(t){throw new L.NotSupportedError}}e.FastTokenizer=p}),define(X[278],ee([1,0,9,182,85,126,205]),function(q,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LanguageAgnosticBracketTokens=e.BracketTokens=void 0;class m{static createFromLanguage(s,t){function i(r){return t.getKey(`${r.languageId}:::${r.bracketText}`)}const o=new Map;for(const r of s.bracketsNew.openingBrackets){const d=(0,y.toLength)(0,r.bracketText.length),h=i(r),n=D.SmallImmutableSet.getEmpty().add(h,D.identityKeyProvider);o.set(r.bracketText,new S.Token(d,1,h,n,k.BracketAstNode.create(d,r,n)))}for(const r of s.bracketsNew.closingBrackets){const d=(0,y.toLength)(0,r.bracketText.length);let h=D.SmallImmutableSet.getEmpty();const n=r.getOpeningBrackets();for(const c of n)h=h.add(i(c),D.identityKeyProvider);o.set(r.bracketText,new S.Token(d,2,i(n[0]),h,k.BracketAstNode.create(d,r,h)))}return new m(o)}constructor(s){this.map=s,this.hasRegExp=!1,this._regExpGlobal=null}getRegExpStr(){if(this.isEmpty)return null;{const s=[...this.map.keys()];return s.sort(),s.reverse(),s.map(t=>_(t)).join("|")}}get regExpGlobal(){if(!this.hasRegExp){const s=this.getRegExpStr();this._regExpGlobal=s?new RegExp(s,"gi"):null,this.hasRegExp=!0}return this._regExpGlobal}getToken(s){return this.map.get(s.toLowerCase())}findClosingTokenText(s){for(const[t,i]of this.map)if(i.kind===2&&i.bracketIds.intersects(s))return t}get isEmpty(){return this.map.size===0}}e.BracketTokens=m;function _(p){let s=(0,L.escapeRegExpCharacters)(p);return/^[\w ]+/.test(p)&&(s=`\\b${s}`),/[\w ]+$/.test(p)&&(s=`${s}\\b`),s}class f{constructor(s,t){this.denseKeyProvider=s,this.getLanguageConfiguration=t,this.languageIdToBracketTokens=new Map}didLanguageChange(s){return this.languageIdToBracketTokens.has(s)}getSingleLanguageBracketTokens(s){let t=this.languageIdToBracketTokens.get(s);return t||(t=m.createFromLanguage(this.getLanguageConfiguration(s),this.denseKeyProvider),this.languageIdToBracketTokens.set(s,t)),t}}e.LanguageAgnosticBracketTokens=f}),define(X[501],ee([1,0,278,85,277,126,205]),function(q,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.fixBracketsInLine=void 0;function m(f,p){const s=new D.DenseKeyProvider,t=new L.LanguageAgnosticBracketTokens(s,n=>p.getLanguageConfiguration(n)),i=new S.TextBufferTokenizer(new _([f]),t),o=(0,y.parseDocument)(i,[],void 0,!0);let r="";const d=f.getLineContent();function h(n,c){if(n.kind===2)if(h(n.openingBracket,c),c=(0,k.lengthAdd)(c,n.openingBracket.length),n.child&&(h(n.child,c),c=(0,k.lengthAdd)(c,n.child.length)),n.closingBracket)h(n.closingBracket,c),c=(0,k.lengthAdd)(c,n.closingBracket.length);else{const l=t.getSingleLanguageBracketTokens(n.openingBracket.languageId).findClosingTokenText(n.openingBracket.bracketIds);r+=l}else if(n.kind!==3){if(n.kind===0||n.kind===1)r+=d.substring((0,k.lengthGetColumnCountIfZeroLineCount)(c),(0,k.lengthGetColumnCountIfZeroLineCount)((0,k.lengthAdd)(c,n.length)));else if(n.kind===4)for(const a of n.children)h(a,c),c=(0,k.lengthAdd)(c,a.length)}}return h(o,k.lengthZero),r}e.fixBracketsInLine=m;class _{constructor(p){this.lines=p,this.tokenization={getLineTokens:s=>this.lines[s-1]}}getLineCount(){return this.lines.length}getLineLength(p){return this.lines[p-1].getLineContent().length}}}),define(X[502],ee([1,0,16]),function(q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FixedArray=void 0;class k{constructor(S){this._default=S,this._store=[]}get(S){return S<this._store.length?this._store[S]:this._default}set(S,m){for(;S>=this._store.length;)this._store[this._store.length]=this._default;this._store[S]=m}replace(S,m,_){if(S>=this._store.length)return;if(m===0){this.insert(S,_);return}else if(_===0){this.delete(S,m);return}const f=this._store.slice(0,S),p=this._store.slice(S+m),s=y(_,this._default);this._store=f.concat(s,p)}delete(S,m){m===0||S>=this._store.length||this._store.splice(S,m)}insert(S,m){if(m===0||S>=this._store.length)return;const _=[];for(let f=0;f<m;f++)_[f]=this._default;this._store=(0,L.arrayInsert)(this._store,S,_)}}e.FixedArray=k;function y(D,S){const m=[];for(let _=0;_<D;_++)m[_]=S;return m}}),define(X[503],ee([1,0]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.guessIndentation=void 0;class L{constructor(){this.spacesDiff=0,this.looksLikeAlignment=!1}}function k(D,S,m,_,f){f.spacesDiff=0,f.looksLikeAlignment=!1;let p;for(p=0;p<S&&p<_;p++){const h=D.charCodeAt(p),n=m.charCodeAt(p);if(h!==n)break}let s=0,t=0;for(let h=p;h<S;h++)D.charCodeAt(h)===32?s++:t++;let i=0,o=0;for(let h=p;h<_;h++)m.charCodeAt(h)===32?i++:o++;if(s>0&&t>0||i>0&&o>0)return;const r=Math.abs(t-o),d=Math.abs(s-i);if(r===0){f.spacesDiff=d,d>0&&0<=i-1&&i-1<D.length&&i<m.length&&m.charCodeAt(i)!==32&&D.charCodeAt(i-1)===32&&D.charCodeAt(D.length-1)===44&&(f.looksLikeAlignment=!0);return}if(d%r===0){f.spacesDiff=d/r;return}}function y(D,S,m){const _=Math.min(D.getLineCount(),1e4);let f=0,p=0,s="",t=0;const i=[2,4,6,8,3,5,7],o=8,r=[0,0,0,0,0,0,0,0,0],d=new L;for(let c=1;c<=_;c++){const a=D.getLineLength(c),l=D.getLineContent(c),u=a<=65536;let C=!1,g=0,v=0,b=0;for(let E=0,I=a;E<I;E++){const T=u?l.charCodeAt(E):D.getLineCharCode(c,E);if(T===9)b++;else if(T===32)v++;else{C=!0,g=E;break}}if(!C||(b>0?f++:v>1&&p++,k(s,t,l,g,d),d.looksLikeAlignment&&!(m&&S===d.spacesDiff)))continue;const w=d.spacesDiff;w<=o&&r[w]++,s=l,t=g}let h=m;f!==p&&(h=f<p);let n=S;if(h){let c=h?0:.1*_;i.forEach(a=>{const l=r[a];l>c&&(c=l,n=a)}),n===4&&r[4]>0&&r[2]>0&&r[2]>=r[4]/2&&(n=2)}return{insertSpaces:h,tabSize:n}}e.guessIndentation=y}),define(X[504],ee([1,0]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.intervalCompare=e.recomputeMaxEnd=e.nodeAcceptEdit=e.IntervalTree=e.SENTINEL=e.IntervalNode=e.getNodeColor=void 0;function L(F){return(F.metadata&1)>>>0}e.getNodeColor=L;function k(F,x){F.metadata=F.metadata&254|x<<0}function y(F){return(F.metadata&2)>>>1===1}function D(F,x){F.metadata=F.metadata&253|(x?1:0)<<1}function S(F){return(F.metadata&4)>>>2===1}function m(F,x){F.metadata=F.metadata&251|(x?1:0)<<2}function _(F){return(F.metadata&64)>>>6===1}function f(F,x){F.metadata=F.metadata&191|(x?1:0)<<6}function p(F){return(F.metadata&24)>>>3}function s(F,x){F.metadata=F.metadata&231|x<<3}function t(F){return(F.metadata&32)>>>5===1}function i(F,x){F.metadata=F.metadata&223|(x?1:0)<<5}class o{constructor(x,W,z){this.metadata=0,this.parent=this,this.left=this,this.right=this,k(this,1),this.start=W,this.end=z,this.delta=0,this.maxEnd=z,this.id=x,this.ownerId=0,this.options=null,m(this,!1),f(this,!1),s(this,1),i(this,!1),this.cachedVersionId=0,this.cachedAbsoluteStart=W,this.cachedAbsoluteEnd=z,this.range=null,D(this,!1)}reset(x,W,z,U){this.start=W,this.end=z,this.maxEnd=z,this.cachedVersionId=x,this.cachedAbsoluteStart=W,this.cachedAbsoluteEnd=z,this.range=U}setOptions(x){this.options=x;const W=this.options.className;m(this,W==="squiggly-error"||W==="squiggly-warning"||W==="squiggly-info"),f(this,this.options.glyphMarginClassName!==null),s(this,this.options.stickiness),i(this,this.options.collapseOnReplaceEdit)}setCachedOffsets(x,W,z){this.cachedVersionId!==z&&(this.range=null),this.cachedVersionId=z,this.cachedAbsoluteStart=x,this.cachedAbsoluteEnd=W}detach(){this.parent=null,this.left=null,this.right=null}}e.IntervalNode=o,e.SENTINEL=new o(null,0,0),e.SENTINEL.parent=e.SENTINEL,e.SENTINEL.left=e.SENTINEL,e.SENTINEL.right=e.SENTINEL,k(e.SENTINEL,0);class r{constructor(){this.root=e.SENTINEL,this.requestNormalizeDelta=!1}intervalSearch(x,W,z,U,O,G){return this.root===e.SENTINEL?[]:g(this,x,W,z,U,O,G)}search(x,W,z,U){return this.root===e.SENTINEL?[]:C(this,x,W,z,U)}collectNodesFromOwner(x){return l(this,x)}collectNodesPostOrder(){return u(this)}insert(x){v(this,x),this._normalizeDeltaIfNecessary()}delete(x){w(this,x),this._normalizeDeltaIfNecessary()}resolveNode(x,W){const z=x;let U=0;for(;x!==this.root;)x===x.parent.right&&(U+=x.parent.delta),x=x.parent;const O=z.start+U,G=z.end+U;z.setCachedOffsets(O,G,W)}acceptReplace(x,W,z,U){const O=c(this,x,x+W);for(let G=0,Q=O.length;G<Q;G++){const re=O[G];w(this,re)}this._normalizeDeltaIfNecessary(),a(this,x,x+W,z),this._normalizeDeltaIfNecessary();for(let G=0,Q=O.length;G<Q;G++){const re=O[G];re.start=re.cachedAbsoluteStart,re.end=re.cachedAbsoluteEnd,n(re,x,x+W,z,U),re.maxEnd=re.end,v(this,re)}this._normalizeDeltaIfNecessary()}_normalizeDeltaIfNecessary(){this.requestNormalizeDelta&&(this.requestNormalizeDelta=!1,d(this))}}e.IntervalTree=r;function d(F){let x=F.root,W=0;for(;x!==e.SENTINEL;){if(x.left!==e.SENTINEL&&!y(x.left)){x=x.left;continue}if(x.right!==e.SENTINEL&&!y(x.right)){W+=x.delta,x=x.right;continue}x.start=W+x.start,x.end=W+x.end,x.delta=0,M(x),D(x,!0),D(x.left,!1),D(x.right,!1),x===x.parent.right&&(W-=x.parent.delta),x=x.parent}D(F.root,!1)}function h(F,x,W,z){return F<W?!0:F>W||z===1?!1:z===2?!0:x}function n(F,x,W,z,U){const O=p(F),G=O===0||O===2,Q=O===1||O===2,re=W-x,oe=z,te=Math.min(re,oe),H=F.start;let B=!1;const K=F.end;let Z=!1;x<=H&&K<=W&&t(F)&&(F.start=x,B=!0,F.end=x,Z=!0);{const ne=U?1:re>0?2:0;!B&&h(H,G,x,ne)&&(B=!0),!Z&&h(K,Q,x,ne)&&(Z=!0)}if(te>0&&!U){const ne=re>oe?2:0;!B&&h(H,G,x+te,ne)&&(B=!0),!Z&&h(K,Q,x+te,ne)&&(Z=!0)}{const ne=U?1:0;!B&&h(H,G,W,ne)&&(F.start=x+oe,B=!0),!Z&&h(K,Q,W,ne)&&(F.end=x+oe,Z=!0)}const J=oe-re;B||(F.start=Math.max(0,H+J)),Z||(F.end=Math.max(0,K+J)),F.start>F.end&&(F.end=F.start)}e.nodeAcceptEdit=n;function c(F,x,W){let z=F.root,U=0,O=0,G=0,Q=0;const re=[];let oe=0;for(;z!==e.SENTINEL;){if(y(z)){D(z.left,!1),D(z.right,!1),z===z.parent.right&&(U-=z.parent.delta),z=z.parent;continue}if(!y(z.left)){if(O=U+z.maxEnd,O<x){D(z,!0);continue}if(z.left!==e.SENTINEL){z=z.left;continue}}if(G=U+z.start,G>W){D(z,!0);continue}if(Q=U+z.end,Q>=x&&(z.setCachedOffsets(G,Q,0),re[oe++]=z),D(z,!0),z.right!==e.SENTINEL&&!y(z.right)){U+=z.delta,z=z.right;continue}}return D(F.root,!1),re}function a(F,x,W,z){let U=F.root,O=0,G=0,Q=0;const re=z-(W-x);for(;U!==e.SENTINEL;){if(y(U)){D(U.left,!1),D(U.right,!1),U===U.parent.right&&(O-=U.parent.delta),M(U),U=U.parent;continue}if(!y(U.left)){if(G=O+U.maxEnd,G<x){D(U,!0);continue}if(U.left!==e.SENTINEL){U=U.left;continue}}if(Q=O+U.start,Q>W){U.start+=re,U.end+=re,U.delta+=re,(U.delta<-1073741824||U.delta>1073741824)&&(F.requestNormalizeDelta=!0),D(U,!0);continue}if(D(U,!0),U.right!==e.SENTINEL&&!y(U.right)){O+=U.delta,U=U.right;continue}}D(F.root,!1)}function l(F,x){let W=F.root;const z=[];let U=0;for(;W!==e.SENTINEL;){if(y(W)){D(W.left,!1),D(W.right,!1),W=W.parent;continue}if(W.left!==e.SENTINEL&&!y(W.left)){W=W.left;continue}if(W.ownerId===x&&(z[U++]=W),D(W,!0),W.right!==e.SENTINEL&&!y(W.right)){W=W.right;continue}}return D(F.root,!1),z}function u(F){let x=F.root;const W=[];let z=0;for(;x!==e.SENTINEL;){if(y(x)){D(x.left,!1),D(x.right,!1),x=x.parent;continue}if(x.left!==e.SENTINEL&&!y(x.left)){x=x.left;continue}if(x.right!==e.SENTINEL&&!y(x.right)){x=x.right;continue}W[z++]=x,D(x,!0)}return D(F.root,!1),W}function C(F,x,W,z,U){let O=F.root,G=0,Q=0,re=0;const oe=[];let te=0;for(;O!==e.SENTINEL;){if(y(O)){D(O.left,!1),D(O.right,!1),O===O.parent.right&&(G-=O.parent.delta),O=O.parent;continue}if(O.left!==e.SENTINEL&&!y(O.left)){O=O.left;continue}Q=G+O.start,re=G+O.end,O.setCachedOffsets(Q,re,z);let H=!0;if(x&&O.ownerId&&O.ownerId!==x&&(H=!1),W&&S(O)&&(H=!1),U&&!_(O)&&(H=!1),H&&(oe[te++]=O),D(O,!0),O.right!==e.SENTINEL&&!y(O.right)){G+=O.delta,O=O.right;continue}}return D(F.root,!1),oe}function g(F,x,W,z,U,O,G){let Q=F.root,re=0,oe=0,te=0,H=0;const B=[];let K=0;for(;Q!==e.SENTINEL;){if(y(Q)){D(Q.left,!1),D(Q.right,!1),Q===Q.parent.right&&(re-=Q.parent.delta),Q=Q.parent;continue}if(!y(Q.left)){if(oe=re+Q.maxEnd,oe<x){D(Q,!0);continue}if(Q.left!==e.SENTINEL){Q=Q.left;continue}}if(te=re+Q.start,te>W){D(Q,!0);continue}if(H=re+Q.end,H>=x){Q.setCachedOffsets(te,H,O);let Z=!0;z&&Q.ownerId&&Q.ownerId!==z&&(Z=!1),U&&S(Q)&&(Z=!1),G&&!_(Q)&&(Z=!1),Z&&(B[K++]=Q)}if(D(Q,!0),Q.right!==e.SENTINEL&&!y(Q.right)){re+=Q.delta,Q=Q.right;continue}}return D(F.root,!1),B}function v(F,x){if(F.root===e.SENTINEL)return x.parent=e.SENTINEL,x.left=e.SENTINEL,x.right=e.SENTINEL,k(x,0),F.root=x,F.root;b(F,x),N(x.parent);let W=x;for(;W!==F.root&&L(W.parent)===1;)if(W.parent===W.parent.parent.left){const z=W.parent.parent.right;L(z)===1?(k(W.parent,0),k(z,0),k(W.parent.parent,1),W=W.parent.parent):(W===W.parent.right&&(W=W.parent,T(F,W)),k(W.parent,0),k(W.parent.parent,1),P(F,W.parent.parent))}else{const z=W.parent.parent.left;L(z)===1?(k(W.parent,0),k(z,0),k(W.parent.parent,1),W=W.parent.parent):(W===W.parent.left&&(W=W.parent,P(F,W)),k(W.parent,0),k(W.parent.parent,1),T(F,W.parent.parent))}return k(F.root,0),x}function b(F,x){let W=0,z=F.root;const U=x.start,O=x.end;for(;;)if(R(U,O,z.start+W,z.end+W)<0)if(z.left===e.SENTINEL){x.start-=W,x.end-=W,x.maxEnd-=W,z.left=x;break}else z=z.left;else if(z.right===e.SENTINEL){x.start-=W+z.delta,x.end-=W+z.delta,x.maxEnd-=W+z.delta,z.right=x;break}else W+=z.delta,z=z.right;x.parent=z,x.left=e.SENTINEL,x.right=e.SENTINEL,k(x,1)}function w(F,x){let W,z;if(x.left===e.SENTINEL?(W=x.right,z=x,W.delta+=x.delta,(W.delta<-1073741824||W.delta>1073741824)&&(F.requestNormalizeDelta=!0),W.start+=x.delta,W.end+=x.delta):x.right===e.SENTINEL?(W=x.left,z=x):(z=E(x.right),W=z.right,W.start+=z.delta,W.end+=z.delta,W.delta+=z.delta,(W.delta<-1073741824||W.delta>1073741824)&&(F.requestNormalizeDelta=!0),z.start+=x.delta,z.end+=x.delta,z.delta=x.delta,(z.delta<-1073741824||z.delta>1073741824)&&(F.requestNormalizeDelta=!0)),z===F.root){F.root=W,k(W,0),x.detach(),I(),M(W),F.root.parent=e.SENTINEL;return}const U=L(z)===1;if(z===z.parent.left?z.parent.left=W:z.parent.right=W,z===x?W.parent=z.parent:(z.parent===x?W.parent=z:W.parent=z.parent,z.left=x.left,z.right=x.right,z.parent=x.parent,k(z,L(x)),x===F.root?F.root=z:x===x.parent.left?x.parent.left=z:x.parent.right=z,z.left!==e.SENTINEL&&(z.left.parent=z),z.right!==e.SENTINEL&&(z.right.parent=z)),x.detach(),U){N(W.parent),z!==x&&(N(z),N(z.parent)),I();return}N(W),N(W.parent),z!==x&&(N(z),N(z.parent));let O;for(;W!==F.root&&L(W)===0;)W===W.parent.left?(O=W.parent.right,L(O)===1&&(k(O,0),k(W.parent,1),T(F,W.parent),O=W.parent.right),L(O.left)===0&&L(O.right)===0?(k(O,1),W=W.parent):(L(O.right)===0&&(k(O.left,0),k(O,1),P(F,O),O=W.parent.right),k(O,L(W.parent)),k(W.parent,0),k(O.right,0),T(F,W.parent),W=F.root)):(O=W.parent.left,L(O)===1&&(k(O,0),k(W.parent,1),P(F,W.parent),O=W.parent.left),L(O.left)===0&&L(O.right)===0?(k(O,1),W=W.parent):(L(O.left)===0&&(k(O.right,0),k(O,1),T(F,O),O=W.parent.left),k(O,L(W.parent)),k(W.parent,0),k(O.left,0),P(F,W.parent),W=F.root));k(W,0),I()}function E(F){for(;F.left!==e.SENTINEL;)F=F.left;return F}function I(){e.SENTINEL.parent=e.SENTINEL,e.SENTINEL.delta=0,e.SENTINEL.start=0,e.SENTINEL.end=0}function T(F,x){const W=x.right;W.delta+=x.delta,(W.delta<-1073741824||W.delta>1073741824)&&(F.requestNormalizeDelta=!0),W.start+=x.delta,W.end+=x.delta,x.right=W.left,W.left!==e.SENTINEL&&(W.left.parent=x),W.parent=x.parent,x.parent===e.SENTINEL?F.root=W:x===x.parent.left?x.parent.left=W:x.parent.right=W,W.left=x,x.parent=W,M(x),M(W)}function P(F,x){const W=x.left;x.delta-=W.delta,(x.delta<-1073741824||x.delta>1073741824)&&(F.requestNormalizeDelta=!0),x.start-=W.delta,x.end-=W.delta,x.left=W.right,W.right!==e.SENTINEL&&(W.right.parent=x),W.parent=x.parent,x.parent===e.SENTINEL?F.root=W:x===x.parent.right?x.parent.right=W:x.parent.left=W,W.right=x,x.parent=W,M(x),M(W)}function A(F){let x=F.end;if(F.left!==e.SENTINEL){const W=F.left.maxEnd;W>x&&(x=W)}if(F.right!==e.SENTINEL){const W=F.right.maxEnd+F.delta;W>x&&(x=W)}return x}function M(F){F.maxEnd=A(F)}e.recomputeMaxEnd=M;function N(F){for(;F!==e.SENTINEL;){const x=A(F);if(F.maxEnd===x)return;F.maxEnd=x,F=F.parent}}function R(F,x,W,z){return F===W?x-z:F-W}e.intervalCompare=R}),define(X[505],ee([1,0]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.recomputeTreeMetadata=e.updateTreeMetadata=e.fixInsert=e.rbDelete=e.rightRotate=e.leftRotate=e.righttest=e.leftest=e.SENTINEL=e.TreeNode=void 0;class L{constructor(r,d){this.piece=r,this.color=d,this.size_left=0,this.lf_left=0,this.parent=this,this.left=this,this.right=this}next(){if(this.right!==e.SENTINEL)return k(this.right);let r=this;for(;r.parent!==e.SENTINEL&&r.parent.left!==r;)r=r.parent;return r.parent===e.SENTINEL?e.SENTINEL:r.parent}prev(){if(this.left!==e.SENTINEL)return y(this.left);let r=this;for(;r.parent!==e.SENTINEL&&r.parent.right!==r;)r=r.parent;return r.parent===e.SENTINEL?e.SENTINEL:r.parent}detach(){this.parent=null,this.left=null,this.right=null}}e.TreeNode=L,e.SENTINEL=new L(null,0),e.SENTINEL.parent=e.SENTINEL,e.SENTINEL.left=e.SENTINEL,e.SENTINEL.right=e.SENTINEL,e.SENTINEL.color=0;function k(o){for(;o.left!==e.SENTINEL;)o=o.left;return o}e.leftest=k;function y(o){for(;o.right!==e.SENTINEL;)o=o.right;return o}e.righttest=y;function D(o){return o===e.SENTINEL?0:o.size_left+o.piece.length+D(o.right)}function S(o){return o===e.SENTINEL?0:o.lf_left+o.piece.lineFeedCnt+S(o.right)}function m(){e.SENTINEL.parent=e.SENTINEL}function _(o,r){const d=r.right;d.size_left+=r.size_left+(r.piece?r.piece.length:0),d.lf_left+=r.lf_left+(r.piece?r.piece.lineFeedCnt:0),r.right=d.left,d.left!==e.SENTINEL&&(d.left.parent=r),d.parent=r.parent,r.parent===e.SENTINEL?o.root=d:r.parent.left===r?r.parent.left=d:r.parent.right=d,d.left=r,r.parent=d}e.leftRotate=_;function f(o,r){const d=r.left;r.left=d.right,d.right!==e.SENTINEL&&(d.right.parent=r),d.parent=r.parent,r.size_left-=d.size_left+(d.piece?d.piece.length:0),r.lf_left-=d.lf_left+(d.piece?d.piece.lineFeedCnt:0),r.parent===e.SENTINEL?o.root=d:r===r.parent.right?r.parent.right=d:r.parent.left=d,d.right=r,r.parent=d}e.rightRotate=f;function p(o,r){let d,h;if(r.left===e.SENTINEL?(h=r,d=h.right):r.right===e.SENTINEL?(h=r,d=h.left):(h=k(r.right),d=h.right),h===o.root){o.root=d,d.color=0,r.detach(),m(),o.root.parent=e.SENTINEL;return}const n=h.color===1;if(h===h.parent.left?h.parent.left=d:h.parent.right=d,h===r?(d.parent=h.parent,i(o,d)):(h.parent===r?d.parent=h:d.parent=h.parent,i(o,d),h.left=r.left,h.right=r.right,h.parent=r.parent,h.color=r.color,r===o.root?o.root=h:r===r.parent.left?r.parent.left=h:r.parent.right=h,h.left!==e.SENTINEL&&(h.left.parent=h),h.right!==e.SENTINEL&&(h.right.parent=h),h.size_left=r.size_left,h.lf_left=r.lf_left,i(o,h)),r.detach(),d.parent.left===d){const a=D(d),l=S(d);if(a!==d.parent.size_left||l!==d.parent.lf_left){const u=a-d.parent.size_left,C=l-d.parent.lf_left;d.parent.size_left=a,d.parent.lf_left=l,t(o,d.parent,u,C)}}if(i(o,d.parent),n){m();return}let c;for(;d!==o.root&&d.color===0;)d===d.parent.left?(c=d.parent.right,c.color===1&&(c.color=0,d.parent.color=1,_(o,d.parent),c=d.parent.right),c.left.color===0&&c.right.color===0?(c.color=1,d=d.parent):(c.right.color===0&&(c.left.color=0,c.color=1,f(o,c),c=d.parent.right),c.color=d.parent.color,d.parent.color=0,c.right.color=0,_(o,d.parent),d=o.root)):(c=d.parent.left,c.color===1&&(c.color=0,d.parent.color=1,f(o,d.parent),c=d.parent.left),c.left.color===0&&c.right.color===0?(c.color=1,d=d.parent):(c.left.color===0&&(c.right.color=0,c.color=1,_(o,c),c=d.parent.left),c.color=d.parent.color,d.parent.color=0,c.left.color=0,f(o,d.parent),d=o.root));d.color=0,m()}e.rbDelete=p;function s(o,r){for(i(o,r);r!==o.root&&r.parent.color===1;)if(r.parent===r.parent.parent.left){const d=r.parent.parent.right;d.color===1?(r.parent.color=0,d.color=0,r.parent.parent.color=1,r=r.parent.parent):(r===r.parent.right&&(r=r.parent,_(o,r)),r.parent.color=0,r.parent.parent.color=1,f(o,r.parent.parent))}else{const d=r.parent.parent.left;d.color===1?(r.parent.color=0,d.color=0,r.parent.parent.color=1,r=r.parent.parent):(r===r.parent.left&&(r=r.parent,f(o,r)),r.parent.color=0,r.parent.parent.color=1,_(o,r.parent.parent))}o.root.color=0}e.fixInsert=s;function t(o,r,d,h){for(;r!==o.root&&r!==e.SENTINEL;)r.parent.left===r&&(r.parent.size_left+=d,r.parent.lf_left+=h),r=r.parent}e.updateTreeMetadata=t;function i(o,r){let d=0,h=0;if(r!==o.root){for(;r!==o.root&&r===r.parent.right;)r=r.parent;if(r!==o.root)for(r=r.parent,d=D(r.left)-r.size_left,h=S(r.left)-r.lf_left,r.size_left+=d,r.lf_left+=h;r!==o.root&&(d!==0||h!==0);)r.parent.left===r&&(r.parent.size_left+=d,r.parent.lf_left+=h),r=r.parent}}e.recomputeTreeMetadata=i}),define(X[279],ee([1,0,16,171]),function(q,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PrefixSumIndexOfResult=e.ConstantTimePrefixSumComputer=e.PrefixSumComputer=void 0;class y{constructor(_){this.values=_,this.prefixSum=new Uint32Array(_.length),this.prefixSumValidIndex=new Int32Array(1),this.prefixSumValidIndex[0]=-1}insertValues(_,f){_=(0,k.toUint32)(_);const p=this.values,s=this.prefixSum,t=f.length;return t===0?!1:(this.values=new Uint32Array(p.length+t),this.values.set(p.subarray(0,_),0),this.values.set(p.subarray(_),_+t),this.values.set(f,_),_-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=_-1),this.prefixSum=new Uint32Array(this.values.length),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(s.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}setValue(_,f){return _=(0,k.toUint32)(_),f=(0,k.toUint32)(f),this.values[_]===f?!1:(this.values[_]=f,_-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=_-1),!0)}removeValues(_,f){_=(0,k.toUint32)(_),f=(0,k.toUint32)(f);const p=this.values,s=this.prefixSum;if(_>=p.length)return!1;const t=p.length-_;return f>=t&&(f=t),f===0?!1:(this.values=new Uint32Array(p.length-f),this.values.set(p.subarray(0,_),0),this.values.set(p.subarray(_+f),_),this.prefixSum=new Uint32Array(this.values.length),_-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=_-1),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(s.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}getTotalSum(){return this.values.length===0?0:this._getPrefixSum(this.values.length-1)}getPrefixSum(_){return _<0?0:(_=(0,k.toUint32)(_),this._getPrefixSum(_))}_getPrefixSum(_){if(_<=this.prefixSumValidIndex[0])return this.prefixSum[_];let f=this.prefixSumValidIndex[0]+1;f===0&&(this.prefixSum[0]=this.values[0],f++),_>=this.values.length&&(_=this.values.length-1);for(let p=f;p<=_;p++)this.prefixSum[p]=this.prefixSum[p-1]+this.values[p];return this.prefixSumValidIndex[0]=Math.max(this.prefixSumValidIndex[0],_),this.prefixSum[_]}getIndexOf(_){_=Math.floor(_),this.getTotalSum();let f=0,p=this.values.length-1,s=0,t=0,i=0;for(;f<=p;)if(s=f+(p-f)/2|0,t=this.prefixSum[s],i=t-this.values[s],_<i)p=s-1;else if(_>=t)f=s+1;else break;return new S(s,_-i)}}e.PrefixSumComputer=y;class D{constructor(_){this._values=_,this._isValid=!1,this._validEndIndex=-1,this._prefixSum=[],this._indexBySum=[]}getTotalSum(){return this._ensureValid(),this._indexBySum.length}getPrefixSum(_){return this._ensureValid(),_===0?0:this._prefixSum[_-1]}getIndexOf(_){this._ensureValid();const f=this._indexBySum[_],p=f>0?this._prefixSum[f-1]:0;return new S(f,_-p)}removeValues(_,f){this._values.splice(_,f),this._invalidate(_)}insertValues(_,f){this._values=(0,L.arrayInsert)(this._values,_,f),this._invalidate(_)}_invalidate(_){this._isValid=!1,this._validEndIndex=Math.min(this._validEndIndex,_-1)}_ensureValid(){if(!this._isValid){for(let _=this._validEndIndex+1,f=this._values.length;_<f;_++){const p=this._values[_],s=_>0?this._prefixSum[_-1]:0;this._prefixSum[_]=s+p;for(let t=0;t<p;t++)this._indexBySum[s+t]=_}this._prefixSum.length=this._values.length,this._indexBySum.length=this._prefixSum[this._prefixSum.length-1],this._isValid=!0,this._validEndIndex=this._values.length-1}}setValue(_,f){this._values[_]!==f&&(this._values[_]=f,this._invalidate(_))}}e.ConstantTimePrefixSumComputer=D;class S{constructor(_,f){this.index=_,this.remainder=f,this._prefixSumIndexOfResultBrand=void 0,this.index=_,this.remainder=f}}e.PrefixSumIndexOfResult=S}),define(X[506],ee([1,0,9,11,279]),function(q,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MirrorTextModel=void 0;class D{constructor(m,_,f,p){this._uri=m,this._lines=_,this._eol=f,this._versionId=p,this._lineStarts=null,this._cachedTextValue=null}dispose(){this._lines.length=0}get version(){return this._versionId}getText(){return this._cachedTextValue===null&&(this._cachedTextValue=this._lines.join(this._eol)),this._cachedTextValue}onEvents(m){m.eol&&m.eol!==this._eol&&(this._eol=m.eol,this._lineStarts=null);const _=m.changes;for(const f of _)this._acceptDeleteRange(f.range),this._acceptInsertText(new k.Position(f.range.startLineNumber,f.range.startColumn),f.text);this._versionId=m.versionId,this._cachedTextValue=null}_ensureLineStarts(){if(!this._lineStarts){const m=this._eol.length,_=this._lines.length,f=new Uint32Array(_);for(let p=0;p<_;p++)f[p]=this._lines[p].length+m;this._lineStarts=new y.PrefixSumComputer(f)}}_setLineText(m,_){this._lines[m]=_,this._lineStarts&&this._lineStarts.setValue(m,this._lines[m].length+this._eol.length)}_acceptDeleteRange(m){if(m.startLineNumber===m.endLineNumber){if(m.startColumn===m.endColumn)return;this._setLineText(m.startLineNumber-1,this._lines[m.startLineNumber-1].substring(0,m.startColumn-1)+this._lines[m.startLineNumber-1].substring(m.endColumn-1));return}this._setLineText(m.startLineNumber-1,this._lines[m.startLineNumber-1].substring(0,m.startColumn-1)+this._lines[m.endLineNumber-1].substring(m.endColumn-1)),this._lines.splice(m.startLineNumber,m.endLineNumber-m.startLineNumber),this._lineStarts&&this._lineStarts.removeValues(m.startLineNumber,m.endLineNumber-m.startLineNumber)}_acceptInsertText(m,_){if(_.length===0)return;const f=(0,L.splitLines)(_);if(f.length===1){this._setLineText(m.lineNumber-1,this._lines[m.lineNumber-1].substring(0,m.column-1)+f[0]+this._lines[m.lineNumber-1].substring(m.column-1));return}f[f.length-1]+=this._lines[m.lineNumber-1].substring(m.column-1),this._setLineText(m.lineNumber-1,this._lines[m.lineNumber-1].substring(0,m.column-1)+f[0]);const p=new Uint32Array(f.length-1);for(let s=1;s<f.length;s++)this._lines.splice(m.lineNumber+s-1,0,f[s]),p[s-1]=f[s].length+this._eol.length;this._lineStarts&&this._lineStarts.insertValues(m.lineNumber,p)}}e.MirrorTextModel=D}),define(X[280],ee([1,0,2]),function(q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextModelPart=void 0;class k extends L.Disposable{constructor(){super(...arguments),this._isDisposed=!1}dispose(){super.dispose(),this._isDisposed=!0}assertNotDisposed(){if(this._isDisposed)throw new Error("TextModelPart is disposed!")}}e.TextModelPart=k}),define(X[183],ee([1,0,9,145,11,5,47]),function(q,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Searcher=e.isValidMatch=e.TextModelSearch=e.createFindMatch=e.isMultilineRegexSource=e.SearchParams=void 0;const m=999;class _{constructor(n,c,a,l){this.searchString=n,this.isRegex=c,this.matchCase=a,this.wordSeparators=l}parseSearchRequest(){if(this.searchString==="")return null;let n;this.isRegex?n=f(this.searchString):n=this.searchString.indexOf(`
`)>=0;let c=null;try{c=L.createRegExp(this.searchString,this.isRegex,{matchCase:this.matchCase,wholeWord:!1,multiline:n,global:!0,unicode:!0})}catch{return null}if(!c)return null;let a=!this.isRegex&&!n;return a&&this.searchString.toLowerCase()!==this.searchString.toUpperCase()&&(a=this.matchCase),new S.SearchData(c,this.wordSeparators?(0,k.getMapForWordSeparators)(this.wordSeparators):null,a?this.searchString:null)}}e.SearchParams=_;function f(h){if(!h||h.length===0)return!1;for(let n=0,c=h.length;n<c;n++){const a=h.charCodeAt(n);if(a===10)return!0;if(a===92){if(n++,n>=c)break;const l=h.charCodeAt(n);if(l===110||l===114||l===87)return!0}}return!1}e.isMultilineRegexSource=f;function p(h,n,c){if(!c)return new S.FindMatch(h,null);const a=[];for(let l=0,u=n.length;l<u;l++)a[l]=n[l];return new S.FindMatch(h,a)}e.createFindMatch=p;class s{constructor(n){const c=[];let a=0;for(let l=0,u=n.length;l<u;l++)n.charCodeAt(l)===10&&(c[a++]=l);this._lineFeedsOffsets=c}findLineFeedCountBeforeOffset(n){const c=this._lineFeedsOffsets;let a=0,l=c.length-1;if(l===-1||n<=c[0])return 0;for(;a<l;){const u=a+((l-a)/2>>0);c[u]>=n?l=u-1:c[u+1]>=n?(a=u,l=u):a=u+1}return a+1}}class t{static findMatches(n,c,a,l,u){const C=c.parseSearchRequest();return C?C.regex.multiline?this._doFindMatchesMultiline(n,a,new d(C.wordSeparators,C.regex),l,u):this._doFindMatchesLineByLine(n,a,C,l,u):[]}static _getMultilineMatchRange(n,c,a,l,u,C){let g,v=0;l?(v=l.findLineFeedCountBeforeOffset(u),g=c+u+v):g=c+u;let b;if(l){const T=l.findLineFeedCountBeforeOffset(u+C.length)-v;b=g+C.length+T}else b=g+C.length;const w=n.getPositionAt(g),E=n.getPositionAt(b);return new D.Range(w.lineNumber,w.column,E.lineNumber,E.column)}static _doFindMatchesMultiline(n,c,a,l,u){const C=n.getOffsetAt(c.getStartPosition()),g=n.getValueInRange(c,1),v=n.getEOL()===`\r
`?new s(g):null,b=[];let w=0,E;for(a.reset(0);E=a.next(g);)if(b[w++]=p(this._getMultilineMatchRange(n,C,g,v,E.index,E[0]),E,l),w>=u)return b;return b}static _doFindMatchesLineByLine(n,c,a,l,u){const C=[];let g=0;if(c.startLineNumber===c.endLineNumber){const b=n.getLineContent(c.startLineNumber).substring(c.startColumn-1,c.endColumn-1);return g=this._findMatchesInLine(a,b,c.startLineNumber,c.startColumn-1,g,C,l,u),C}const v=n.getLineContent(c.startLineNumber).substring(c.startColumn-1);g=this._findMatchesInLine(a,v,c.startLineNumber,c.startColumn-1,g,C,l,u);for(let b=c.startLineNumber+1;b<c.endLineNumber&&g<u;b++)g=this._findMatchesInLine(a,n.getLineContent(b),b,0,g,C,l,u);if(g<u){const b=n.getLineContent(c.endLineNumber).substring(0,c.endColumn-1);g=this._findMatchesInLine(a,b,c.endLineNumber,0,g,C,l,u)}return C}static _findMatchesInLine(n,c,a,l,u,C,g,v){const b=n.wordSeparators;if(!g&&n.simpleSearch){const I=n.simpleSearch,T=I.length,P=c.length;let A=-T;for(;(A=c.indexOf(I,A+T))!==-1;)if((!b||r(b,c,P,A,T))&&(C[u++]=new S.FindMatch(new D.Range(a,A+1+l,a,A+1+T+l),null),u>=v))return u;return u}const w=new d(n.wordSeparators,n.regex);let E;w.reset(0);do if(E=w.next(c),E&&(C[u++]=p(new D.Range(a,E.index+1+l,a,E.index+1+E[0].length+l),E,g),u>=v))return u;while(E);return u}static findNextMatch(n,c,a,l){const u=c.parseSearchRequest();if(!u)return null;const C=new d(u.wordSeparators,u.regex);return u.regex.multiline?this._doFindNextMatchMultiline(n,a,C,l):this._doFindNextMatchLineByLine(n,a,C,l)}static _doFindNextMatchMultiline(n,c,a,l){const u=new y.Position(c.lineNumber,1),C=n.getOffsetAt(u),g=n.getLineCount(),v=n.getValueInRange(new D.Range(u.lineNumber,u.column,g,n.getLineMaxColumn(g)),1),b=n.getEOL()===`\r
`?new s(v):null;a.reset(c.column-1);const w=a.next(v);return w?p(this._getMultilineMatchRange(n,C,v,b,w.index,w[0]),w,l):c.lineNumber!==1||c.column!==1?this._doFindNextMatchMultiline(n,new y.Position(1,1),a,l):null}static _doFindNextMatchLineByLine(n,c,a,l){const u=n.getLineCount(),C=c.lineNumber,g=n.getLineContent(C),v=this._findFirstMatchInLine(a,g,C,c.column,l);if(v)return v;for(let b=1;b<=u;b++){const w=(C+b-1)%u,E=n.getLineContent(w+1),I=this._findFirstMatchInLine(a,E,w+1,1,l);if(I)return I}return null}static _findFirstMatchInLine(n,c,a,l,u){n.reset(l-1);const C=n.next(c);return C?p(new D.Range(a,C.index+1,a,C.index+1+C[0].length),C,u):null}static findPreviousMatch(n,c,a,l){const u=c.parseSearchRequest();if(!u)return null;const C=new d(u.wordSeparators,u.regex);return u.regex.multiline?this._doFindPreviousMatchMultiline(n,a,C,l):this._doFindPreviousMatchLineByLine(n,a,C,l)}static _doFindPreviousMatchMultiline(n,c,a,l){const u=this._doFindMatchesMultiline(n,new D.Range(1,1,c.lineNumber,c.column),a,l,10*m);if(u.length>0)return u[u.length-1];const C=n.getLineCount();return c.lineNumber!==C||c.column!==n.getLineMaxColumn(C)?this._doFindPreviousMatchMultiline(n,new y.Position(C,n.getLineMaxColumn(C)),a,l):null}static _doFindPreviousMatchLineByLine(n,c,a,l){const u=n.getLineCount(),C=c.lineNumber,g=n.getLineContent(C).substring(0,c.column-1),v=this._findLastMatchInLine(a,g,C,l);if(v)return v;for(let b=1;b<=u;b++){const w=(u+C-b-1)%u,E=n.getLineContent(w+1),I=this._findLastMatchInLine(a,E,w+1,l);if(I)return I}return null}static _findLastMatchInLine(n,c,a,l){let u=null,C;for(n.reset(0);C=n.next(c);)u=p(new D.Range(a,C.index+1,a,C.index+1+C[0].length),C,l);return u}}e.TextModelSearch=t;function i(h,n,c,a,l){if(a===0)return!0;const u=n.charCodeAt(a-1);if(h.get(u)!==0||u===13||u===10)return!0;if(l>0){const C=n.charCodeAt(a);if(h.get(C)!==0)return!0}return!1}function o(h,n,c,a,l){if(a+l===c)return!0;const u=n.charCodeAt(a+l);if(h.get(u)!==0||u===13||u===10)return!0;if(l>0){const C=n.charCodeAt(a+l-1);if(h.get(C)!==0)return!0}return!1}function r(h,n,c,a,l){return i(h,n,c,a,l)&&o(h,n,c,a,l)}e.isValidMatch=r;class d{constructor(n,c){this._wordSeparators=n,this._searchRegex=c,this._prevMatchStartIndex=-1,this._prevMatchLength=0}reset(n){this._searchRegex.lastIndex=n,this._prevMatchStartIndex=-1,this._prevMatchLength=0}next(n){const c=n.length;let a;do{if(this._prevMatchStartIndex+this._prevMatchLength===c||(a=this._searchRegex.exec(n),!a))return null;const l=a.index,u=a[0].length;if(l===this._prevMatchStartIndex&&u===this._prevMatchLength){if(u===0){L.getNextCodePoint(n,c,this._searchRegex.lastIndex)>65535?this._searchRegex.lastIndex+=2:this._searchRegex.lastIndex+=1;continue}return null}if(this._prevMatchStartIndex=l,this._prevMatchLength=u,!this._wordSeparators||r(this._wordSeparators,n,c,l,u))return a}while(a);return null}}e.Searcher=d}),define(X[281],ee([1,0,11,5,47,505,183]),function(q,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PieceTreeBase=e.StringBuffer=e.Piece=e.createLineStarts=e.createLineStartsFast=void 0;const m=65535;function _(h){let n;return h[h.length-1]<65536?n=new Uint16Array(h.length):n=new Uint32Array(h.length),n.set(h,0),n}class f{constructor(n,c,a,l,u){this.lineStarts=n,this.cr=c,this.lf=a,this.crlf=l,this.isBasicASCII=u}}function p(h,n=!0){const c=[0];let a=1;for(let l=0,u=h.length;l<u;l++){const C=h.charCodeAt(l);C===13?l+1<u&&h.charCodeAt(l+1)===10?(c[a++]=l+2,l++):c[a++]=l+1:C===10&&(c[a++]=l+1)}return n?_(c):c}e.createLineStartsFast=p;function s(h,n){h.length=0,h[0]=0;let c=1,a=0,l=0,u=0,C=!0;for(let v=0,b=n.length;v<b;v++){const w=n.charCodeAt(v);w===13?v+1<b&&n.charCodeAt(v+1)===10?(u++,h[c++]=v+2,v++):(a++,h[c++]=v+1):w===10?(l++,h[c++]=v+1):C&&w!==9&&(w<32||w>126)&&(C=!1)}const g=new f(_(h),a,l,u,C);return h.length=0,g}e.createLineStarts=s;class t{constructor(n,c,a,l,u){this.bufferIndex=n,this.start=c,this.end=a,this.lineFeedCnt=l,this.length=u}}e.Piece=t;class i{constructor(n,c){this.buffer=n,this.lineStarts=c}}e.StringBuffer=i;class o{constructor(n,c){this._pieces=[],this._tree=n,this._BOM=c,this._index=0,n.root!==D.SENTINEL&&n.iterate(n.root,a=>(a!==D.SENTINEL&&this._pieces.push(a.piece),!0))}read(){return this._pieces.length===0?this._index===0?(this._index++,this._BOM):null:this._index>this._pieces.length-1?null:this._index===0?this._BOM+this._tree.getPieceContent(this._pieces[this._index++]):this._tree.getPieceContent(this._pieces[this._index++])}}class r{constructor(n){this._limit=n,this._cache=[]}get(n){for(let c=this._cache.length-1;c>=0;c--){const a=this._cache[c];if(a.nodeStartOffset<=n&&a.nodeStartOffset+a.node.piece.length>=n)return a}return null}get2(n){for(let c=this._cache.length-1;c>=0;c--){const a=this._cache[c];if(a.nodeStartLineNumber&&a.nodeStartLineNumber<n&&a.nodeStartLineNumber+a.node.piece.lineFeedCnt>=n)return a}return null}set(n){this._cache.length>=this._limit&&this._cache.shift(),this._cache.push(n)}validate(n){let c=!1;const a=this._cache;for(let l=0;l<a.length;l++){const u=a[l];if(u.node.parent===null||u.nodeStartOffset>=n){a[l]=null,c=!0;continue}}if(c){const l=[];for(const u of a)u!==null&&l.push(u);this._cache=l}}}class d{constructor(n,c,a){this.create(n,c,a)}create(n,c,a){this._buffers=[new i("",[0])],this._lastChangeBufferPos={line:0,column:0},this.root=D.SENTINEL,this._lineCnt=1,this._length=0,this._EOL=c,this._EOLLength=c.length,this._EOLNormalized=a;let l=null;for(let u=0,C=n.length;u<C;u++)if(n[u].buffer.length>0){n[u].lineStarts||(n[u].lineStarts=p(n[u].buffer));const g=new t(u+1,{line:0,column:0},{line:n[u].lineStarts.length-1,column:n[u].buffer.length-n[u].lineStarts[n[u].lineStarts.length-1]},n[u].lineStarts.length-1,n[u].buffer.length);this._buffers.push(n[u]),l=this.rbInsertRight(l,g)}this._searchCache=new r(1),this._lastVisitedLine={lineNumber:0,value:""},this.computeBufferMetadata()}normalizeEOL(n){const c=m,a=c-Math.floor(c/3),l=a*2;let u="",C=0;const g=[];if(this.iterate(this.root,v=>{const b=this.getNodeContent(v),w=b.length;if(C<=a||C+w<l)return u+=b,C+=w,!0;const E=u.replace(/\r\n|\r|\n/g,n);return g.push(new i(E,p(E))),u=b,C=w,!0}),C>0){const v=u.replace(/\r\n|\r|\n/g,n);g.push(new i(v,p(v)))}this.create(g,n,!0)}getEOL(){return this._EOL}setEOL(n){this._EOL=n,this._EOLLength=this._EOL.length,this.normalizeEOL(n)}createSnapshot(n){return new o(this,n)}getOffsetAt(n,c){let a=0,l=this.root;for(;l!==D.SENTINEL;)if(l.left!==D.SENTINEL&&l.lf_left+1>=n)l=l.left;else if(l.lf_left+l.piece.lineFeedCnt+1>=n){a+=l.size_left;const u=this.getAccumulatedValue(l,n-l.lf_left-2);return a+=u+c-1}else n-=l.lf_left+l.piece.lineFeedCnt,a+=l.size_left+l.piece.length,l=l.right;return a}getPositionAt(n){n=Math.floor(n),n=Math.max(0,n);let c=this.root,a=0;const l=n;for(;c!==D.SENTINEL;)if(c.size_left!==0&&c.size_left>=n)c=c.left;else if(c.size_left+c.piece.length>=n){const u=this.getIndexOf(c,n-c.size_left);if(a+=c.lf_left+u.index,u.index===0){const C=this.getOffsetAt(a+1,1),g=l-C;return new L.Position(a+1,g+1)}return new L.Position(a+1,u.remainder+1)}else if(n-=c.size_left+c.piece.length,a+=c.lf_left+c.piece.lineFeedCnt,c.right===D.SENTINEL){const u=this.getOffsetAt(a+1,1),C=l-n-u;return new L.Position(a+1,C+1)}else c=c.right;return new L.Position(1,1)}getValueInRange(n,c){if(n.startLineNumber===n.endLineNumber&&n.startColumn===n.endColumn)return"";const a=this.nodeAt2(n.startLineNumber,n.startColumn),l=this.nodeAt2(n.endLineNumber,n.endColumn),u=this.getValueInRange2(a,l);return c?c!==this._EOL||!this._EOLNormalized?u.replace(/\r\n|\r|\n/g,c):c===this.getEOL()&&this._EOLNormalized?u:u.replace(/\r\n|\r|\n/g,c):u}getValueInRange2(n,c){if(n.node===c.node){const g=n.node,v=this._buffers[g.piece.bufferIndex].buffer,b=this.offsetInBuffer(g.piece.bufferIndex,g.piece.start);return v.substring(b+n.remainder,b+c.remainder)}let a=n.node;const l=this._buffers[a.piece.bufferIndex].buffer,u=this.offsetInBuffer(a.piece.bufferIndex,a.piece.start);let C=l.substring(u+n.remainder,u+a.piece.length);for(a=a.next();a!==D.SENTINEL;){const g=this._buffers[a.piece.bufferIndex].buffer,v=this.offsetInBuffer(a.piece.bufferIndex,a.piece.start);if(a===c.node){C+=g.substring(v,v+c.remainder);break}else C+=g.substr(v,a.piece.length);a=a.next()}return C}getLinesContent(){const n=[];let c=0,a="",l=!1;return this.iterate(this.root,u=>{if(u===D.SENTINEL)return!0;const C=u.piece;let g=C.length;if(g===0)return!0;const v=this._buffers[C.bufferIndex].buffer,b=this._buffers[C.bufferIndex].lineStarts,w=C.start.line,E=C.end.line;let I=b[w]+C.start.column;if(l&&(v.charCodeAt(I)===10&&(I++,g--),n[c++]=a,a="",l=!1,g===0))return!0;if(w===E)return!this._EOLNormalized&&v.charCodeAt(I+g-1)===13?(l=!0,a+=v.substr(I,g-1)):a+=v.substr(I,g),!0;a+=this._EOLNormalized?v.substring(I,Math.max(I,b[w+1]-this._EOLLength)):v.substring(I,b[w+1]).replace(/(\r\n|\r|\n)$/,""),n[c++]=a;for(let T=w+1;T<E;T++)a=this._EOLNormalized?v.substring(b[T],b[T+1]-this._EOLLength):v.substring(b[T],b[T+1]).replace(/(\r\n|\r|\n)$/,""),n[c++]=a;return!this._EOLNormalized&&v.charCodeAt(b[E]+C.end.column-1)===13?(l=!0,C.end.column===0?c--:a=v.substr(b[E],C.end.column-1)):a=v.substr(b[E],C.end.column),!0}),l&&(n[c++]=a,a=""),n[c++]=a,n}getLength(){return this._length}getLineCount(){return this._lineCnt}getLineContent(n){return this._lastVisitedLine.lineNumber===n?this._lastVisitedLine.value:(this._lastVisitedLine.lineNumber=n,n===this._lineCnt?this._lastVisitedLine.value=this.getLineRawContent(n):this._EOLNormalized?this._lastVisitedLine.value=this.getLineRawContent(n,this._EOLLength):this._lastVisitedLine.value=this.getLineRawContent(n).replace(/(\r\n|\r|\n)$/,""),this._lastVisitedLine.value)}_getCharCode(n){if(n.remainder===n.node.piece.length){const c=n.node.next();if(!c)return 0;const a=this._buffers[c.piece.bufferIndex],l=this.offsetInBuffer(c.piece.bufferIndex,c.piece.start);return a.buffer.charCodeAt(l)}else{const c=this._buffers[n.node.piece.bufferIndex],l=this.offsetInBuffer(n.node.piece.bufferIndex,n.node.piece.start)+n.remainder;return c.buffer.charCodeAt(l)}}getLineCharCode(n,c){const a=this.nodeAt2(n,c+1);return this._getCharCode(a)}getLineLength(n){if(n===this.getLineCount()){const c=this.getOffsetAt(n,1);return this.getLength()-c}return this.getOffsetAt(n+1,1)-this.getOffsetAt(n,1)-this._EOLLength}findMatchesInNode(n,c,a,l,u,C,g,v,b,w,E){const I=this._buffers[n.piece.bufferIndex],T=this.offsetInBuffer(n.piece.bufferIndex,n.piece.start),P=this.offsetInBuffer(n.piece.bufferIndex,u),A=this.offsetInBuffer(n.piece.bufferIndex,C);let M;const N={line:0,column:0};let R,F;c._wordSeparators?(R=I.buffer.substring(P,A),F=x=>x+P,c.reset(0)):(R=I.buffer,F=x=>x,c.reset(P));do if(M=c.next(R),M){if(F(M.index)>=A)return w;this.positionInBuffer(n,F(M.index)-T,N);const x=this.getLineFeedCnt(n.piece.bufferIndex,u,N),W=N.line===u.line?N.column-u.column+l:N.column+1,z=W+M[0].length;if(E[w++]=(0,S.createFindMatch)(new k.Range(a+x,W,a+x,z),M,v),F(M.index)+M[0].length>=A||w>=b)return w}while(M);return w}findMatchesLineByLine(n,c,a,l){const u=[];let C=0;const g=new S.Searcher(c.wordSeparators,c.regex);let v=this.nodeAt2(n.startLineNumber,n.startColumn);if(v===null)return[];const b=this.nodeAt2(n.endLineNumber,n.endColumn);if(b===null)return[];let w=this.positionInBuffer(v.node,v.remainder);const E=this.positionInBuffer(b.node,b.remainder);if(v.node===b.node)return this.findMatchesInNode(v.node,g,n.startLineNumber,n.startColumn,w,E,c,a,l,C,u),u;let I=n.startLineNumber,T=v.node;for(;T!==b.node;){const A=this.getLineFeedCnt(T.piece.bufferIndex,w,T.piece.end);if(A>=1){const N=this._buffers[T.piece.bufferIndex].lineStarts,R=this.offsetInBuffer(T.piece.bufferIndex,T.piece.start),F=N[w.line+A],x=I===n.startLineNumber?n.startColumn:1;if(C=this.findMatchesInNode(T,g,I,x,w,this.positionInBuffer(T,F-R),c,a,l,C,u),C>=l)return u;I+=A}const M=I===n.startLineNumber?n.startColumn-1:0;if(I===n.endLineNumber){const N=this.getLineContent(I).substring(M,n.endColumn-1);return C=this._findMatchesInLine(c,g,N,n.endLineNumber,M,C,u,a,l),u}if(C=this._findMatchesInLine(c,g,this.getLineContent(I).substr(M),I,M,C,u,a,l),C>=l)return u;I++,v=this.nodeAt2(I,1),T=v.node,w=this.positionInBuffer(v.node,v.remainder)}if(I===n.endLineNumber){const A=I===n.startLineNumber?n.startColumn-1:0,M=this.getLineContent(I).substring(A,n.endColumn-1);return C=this._findMatchesInLine(c,g,M,n.endLineNumber,A,C,u,a,l),u}const P=I===n.startLineNumber?n.startColumn:1;return C=this.findMatchesInNode(b.node,g,I,P,w,E,c,a,l,C,u),u}_findMatchesInLine(n,c,a,l,u,C,g,v,b){const w=n.wordSeparators;if(!v&&n.simpleSearch){const I=n.simpleSearch,T=I.length,P=a.length;let A=-T;for(;(A=a.indexOf(I,A+T))!==-1;)if((!w||(0,S.isValidMatch)(w,a,P,A,T))&&(g[C++]=new y.FindMatch(new k.Range(l,A+1+u,l,A+1+T+u),null),C>=b))return C;return C}let E;c.reset(0);do if(E=c.next(a),E&&(g[C++]=(0,S.createFindMatch)(new k.Range(l,E.index+1+u,l,E.index+1+E[0].length+u),E,v),C>=b))return C;while(E);return C}insert(n,c,a=!1){if(this._EOLNormalized=this._EOLNormalized&&a,this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",this.root!==D.SENTINEL){const{node:l,remainder:u,nodeStartOffset:C}=this.nodeAt(n),g=l.piece,v=g.bufferIndex,b=this.positionInBuffer(l,u);if(l.piece.bufferIndex===0&&g.end.line===this._lastChangeBufferPos.line&&g.end.column===this._lastChangeBufferPos.column&&C+g.length===n&&c.length<m){this.appendToNode(l,c),this.computeBufferMetadata();return}if(C===n)this.insertContentToNodeLeft(c,l),this._searchCache.validate(n);else if(C+l.piece.length>n){const w=[];let E=new t(g.bufferIndex,b,g.end,this.getLineFeedCnt(g.bufferIndex,b,g.end),this.offsetInBuffer(v,g.end)-this.offsetInBuffer(v,b));if(this.shouldCheckCRLF()&&this.endWithCR(c)&&this.nodeCharCodeAt(l,u)===10){const A={line:E.start.line+1,column:0};E=new t(E.bufferIndex,A,E.end,this.getLineFeedCnt(E.bufferIndex,A,E.end),E.length-1),c+=`
`}if(this.shouldCheckCRLF()&&this.startWithLF(c))if(this.nodeCharCodeAt(l,u-1)===13){const A=this.positionInBuffer(l,u-1);this.deleteNodeTail(l,A),c="\r"+c,l.piece.length===0&&w.push(l)}else this.deleteNodeTail(l,b);else this.deleteNodeTail(l,b);const I=this.createNewPieces(c);E.length>0&&this.rbInsertRight(l,E);let T=l;for(let P=0;P<I.length;P++)T=this.rbInsertRight(T,I[P]);this.deleteNodes(w)}else this.insertContentToNodeRight(c,l)}else{const l=this.createNewPieces(c);let u=this.rbInsertLeft(null,l[0]);for(let C=1;C<l.length;C++)u=this.rbInsertRight(u,l[C])}this.computeBufferMetadata()}delete(n,c){if(this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",c<=0||this.root===D.SENTINEL)return;const a=this.nodeAt(n),l=this.nodeAt(n+c),u=a.node,C=l.node;if(u===C){const I=this.positionInBuffer(u,a.remainder),T=this.positionInBuffer(u,l.remainder);if(a.nodeStartOffset===n){if(c===u.piece.length){const P=u.next();(0,D.rbDelete)(this,u),this.validateCRLFWithPrevNode(P),this.computeBufferMetadata();return}this.deleteNodeHead(u,T),this._searchCache.validate(n),this.validateCRLFWithPrevNode(u),this.computeBufferMetadata();return}if(a.nodeStartOffset+u.piece.length===n+c){this.deleteNodeTail(u,I),this.validateCRLFWithNextNode(u),this.computeBufferMetadata();return}this.shrinkNode(u,I,T),this.computeBufferMetadata();return}const g=[],v=this.positionInBuffer(u,a.remainder);this.deleteNodeTail(u,v),this._searchCache.validate(n),u.piece.length===0&&g.push(u);const b=this.positionInBuffer(C,l.remainder);this.deleteNodeHead(C,b),C.piece.length===0&&g.push(C);const w=u.next();for(let I=w;I!==D.SENTINEL&&I!==C;I=I.next())g.push(I);const E=u.piece.length===0?u.prev():u;this.deleteNodes(g),this.validateCRLFWithNextNode(E),this.computeBufferMetadata()}insertContentToNodeLeft(n,c){const a=[];if(this.shouldCheckCRLF()&&this.endWithCR(n)&&this.startWithLF(c)){const C=c.piece,g={line:C.start.line+1,column:0},v=new t(C.bufferIndex,g,C.end,this.getLineFeedCnt(C.bufferIndex,g,C.end),C.length-1);c.piece=v,n+=`
`,(0,D.updateTreeMetadata)(this,c,-1,-1),c.piece.length===0&&a.push(c)}const l=this.createNewPieces(n);let u=this.rbInsertLeft(c,l[l.length-1]);for(let C=l.length-2;C>=0;C--)u=this.rbInsertLeft(u,l[C]);this.validateCRLFWithPrevNode(u),this.deleteNodes(a)}insertContentToNodeRight(n,c){this.adjustCarriageReturnFromNext(n,c)&&(n+=`
`);const a=this.createNewPieces(n),l=this.rbInsertRight(c,a[0]);let u=l;for(let C=1;C<a.length;C++)u=this.rbInsertRight(u,a[C]);this.validateCRLFWithPrevNode(l)}positionInBuffer(n,c,a){const l=n.piece,u=n.piece.bufferIndex,C=this._buffers[u].lineStarts,v=C[l.start.line]+l.start.column+c;let b=l.start.line,w=l.end.line,E=0,I=0,T=0;for(;b<=w&&(E=b+(w-b)/2|0,T=C[E],E!==w);)if(I=C[E+1],v<T)w=E-1;else if(v>=I)b=E+1;else break;return a?(a.line=E,a.column=v-T,null):{line:E,column:v-T}}getLineFeedCnt(n,c,a){if(a.column===0)return a.line-c.line;const l=this._buffers[n].lineStarts;if(a.line===l.length-1)return a.line-c.line;const u=l[a.line+1],C=l[a.line]+a.column;if(u>C+1)return a.line-c.line;const g=C-1;return this._buffers[n].buffer.charCodeAt(g)===13?a.line-c.line+1:a.line-c.line}offsetInBuffer(n,c){return this._buffers[n].lineStarts[c.line]+c.column}deleteNodes(n){for(let c=0;c<n.length;c++)(0,D.rbDelete)(this,n[c])}createNewPieces(n){if(n.length>m){const w=[];for(;n.length>m;){const I=n.charCodeAt(m-1);let T;I===13||I>=55296&&I<=56319?(T=n.substring(0,m-1),n=n.substring(m-1)):(T=n.substring(0,m),n=n.substring(m));const P=p(T);w.push(new t(this._buffers.length,{line:0,column:0},{line:P.length-1,column:T.length-P[P.length-1]},P.length-1,T.length)),this._buffers.push(new i(T,P))}const E=p(n);return w.push(new t(this._buffers.length,{line:0,column:0},{line:E.length-1,column:n.length-E[E.length-1]},E.length-1,n.length)),this._buffers.push(new i(n,E)),w}let c=this._buffers[0].buffer.length;const a=p(n,!1);let l=this._lastChangeBufferPos;if(this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-1]===c&&c!==0&&this.startWithLF(n)&&this.endWithCR(this._buffers[0].buffer)){this._lastChangeBufferPos={line:this._lastChangeBufferPos.line,column:this._lastChangeBufferPos.column+1},l=this._lastChangeBufferPos;for(let w=0;w<a.length;w++)a[w]+=c+1;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(a.slice(1)),this._buffers[0].buffer+="_"+n,c+=1}else{if(c!==0)for(let w=0;w<a.length;w++)a[w]+=c;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(a.slice(1)),this._buffers[0].buffer+=n}const u=this._buffers[0].buffer.length,C=this._buffers[0].lineStarts.length-1,g=u-this._buffers[0].lineStarts[C],v={line:C,column:g},b=new t(0,l,v,this.getLineFeedCnt(0,l,v),u-c);return this._lastChangeBufferPos=v,[b]}getLineRawContent(n,c=0){let a=this.root,l="";const u=this._searchCache.get2(n);if(u){a=u.node;const C=this.getAccumulatedValue(a,n-u.nodeStartLineNumber-1),g=this._buffers[a.piece.bufferIndex].buffer,v=this.offsetInBuffer(a.piece.bufferIndex,a.piece.start);if(u.nodeStartLineNumber+a.piece.lineFeedCnt===n)l=g.substring(v+C,v+a.piece.length);else{const b=this.getAccumulatedValue(a,n-u.nodeStartLineNumber);return g.substring(v+C,v+b-c)}}else{let C=0;const g=n;for(;a!==D.SENTINEL;)if(a.left!==D.SENTINEL&&a.lf_left>=n-1)a=a.left;else if(a.lf_left+a.piece.lineFeedCnt>n-1){const v=this.getAccumulatedValue(a,n-a.lf_left-2),b=this.getAccumulatedValue(a,n-a.lf_left-1),w=this._buffers[a.piece.bufferIndex].buffer,E=this.offsetInBuffer(a.piece.bufferIndex,a.piece.start);return C+=a.size_left,this._searchCache.set({node:a,nodeStartOffset:C,nodeStartLineNumber:g-(n-1-a.lf_left)}),w.substring(E+v,E+b-c)}else if(a.lf_left+a.piece.lineFeedCnt===n-1){const v=this.getAccumulatedValue(a,n-a.lf_left-2),b=this._buffers[a.piece.bufferIndex].buffer,w=this.offsetInBuffer(a.piece.bufferIndex,a.piece.start);l=b.substring(w+v,w+a.piece.length);break}else n-=a.lf_left+a.piece.lineFeedCnt,C+=a.size_left+a.piece.length,a=a.right}for(a=a.next();a!==D.SENTINEL;){const C=this._buffers[a.piece.bufferIndex].buffer;if(a.piece.lineFeedCnt>0){const g=this.getAccumulatedValue(a,0),v=this.offsetInBuffer(a.piece.bufferIndex,a.piece.start);return l+=C.substring(v,v+g-c),l}else{const g=this.offsetInBuffer(a.piece.bufferIndex,a.piece.start);l+=C.substr(g,a.piece.length)}a=a.next()}return l}computeBufferMetadata(){let n=this.root,c=1,a=0;for(;n!==D.SENTINEL;)c+=n.lf_left+n.piece.lineFeedCnt,a+=n.size_left+n.piece.length,n=n.right;this._lineCnt=c,this._length=a,this._searchCache.validate(this._length)}getIndexOf(n,c){const a=n.piece,l=this.positionInBuffer(n,c),u=l.line-a.start.line;if(this.offsetInBuffer(a.bufferIndex,a.end)-this.offsetInBuffer(a.bufferIndex,a.start)===c){const C=this.getLineFeedCnt(n.piece.bufferIndex,a.start,l);if(C!==u)return{index:C,remainder:0}}return{index:u,remainder:l.column}}getAccumulatedValue(n,c){if(c<0)return 0;const a=n.piece,l=this._buffers[a.bufferIndex].lineStarts,u=a.start.line+c+1;return u>a.end.line?l[a.end.line]+a.end.column-l[a.start.line]-a.start.column:l[u]-l[a.start.line]-a.start.column}deleteNodeTail(n,c){const a=n.piece,l=a.lineFeedCnt,u=this.offsetInBuffer(a.bufferIndex,a.end),C=c,g=this.offsetInBuffer(a.bufferIndex,C),v=this.getLineFeedCnt(a.bufferIndex,a.start,C),b=v-l,w=g-u,E=a.length+w;n.piece=new t(a.bufferIndex,a.start,C,v,E),(0,D.updateTreeMetadata)(this,n,w,b)}deleteNodeHead(n,c){const a=n.piece,l=a.lineFeedCnt,u=this.offsetInBuffer(a.bufferIndex,a.start),C=c,g=this.getLineFeedCnt(a.bufferIndex,C,a.end),v=this.offsetInBuffer(a.bufferIndex,C),b=g-l,w=u-v,E=a.length+w;n.piece=new t(a.bufferIndex,C,a.end,g,E),(0,D.updateTreeMetadata)(this,n,w,b)}shrinkNode(n,c,a){const l=n.piece,u=l.start,C=l.end,g=l.length,v=l.lineFeedCnt,b=c,w=this.getLineFeedCnt(l.bufferIndex,l.start,b),E=this.offsetInBuffer(l.bufferIndex,c)-this.offsetInBuffer(l.bufferIndex,u);n.piece=new t(l.bufferIndex,l.start,b,w,E),(0,D.updateTreeMetadata)(this,n,E-g,w-v);const I=new t(l.bufferIndex,a,C,this.getLineFeedCnt(l.bufferIndex,a,C),this.offsetInBuffer(l.bufferIndex,C)-this.offsetInBuffer(l.bufferIndex,a)),T=this.rbInsertRight(n,I);this.validateCRLFWithPrevNode(T)}appendToNode(n,c){this.adjustCarriageReturnFromNext(c,n)&&(c+=`
`);const a=this.shouldCheckCRLF()&&this.startWithLF(c)&&this.endWithCR(n),l=this._buffers[0].buffer.length;this._buffers[0].buffer+=c;const u=p(c,!1);for(let T=0;T<u.length;T++)u[T]+=l;if(a){const T=this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-2];this._buffers[0].lineStarts.pop(),this._lastChangeBufferPos={line:this._lastChangeBufferPos.line-1,column:l-T}}this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(u.slice(1));const C=this._buffers[0].lineStarts.length-1,g=this._buffers[0].buffer.length-this._buffers[0].lineStarts[C],v={line:C,column:g},b=n.piece.length+c.length,w=n.piece.lineFeedCnt,E=this.getLineFeedCnt(0,n.piece.start,v),I=E-w;n.piece=new t(n.piece.bufferIndex,n.piece.start,v,E,b),this._lastChangeBufferPos=v,(0,D.updateTreeMetadata)(this,n,c.length,I)}nodeAt(n){let c=this.root;const a=this._searchCache.get(n);if(a)return{node:a.node,nodeStartOffset:a.nodeStartOffset,remainder:n-a.nodeStartOffset};let l=0;for(;c!==D.SENTINEL;)if(c.size_left>n)c=c.left;else if(c.size_left+c.piece.length>=n){l+=c.size_left;const u={node:c,remainder:n-c.size_left,nodeStartOffset:l};return this._searchCache.set(u),u}else n-=c.size_left+c.piece.length,l+=c.size_left+c.piece.length,c=c.right;return null}nodeAt2(n,c){let a=this.root,l=0;for(;a!==D.SENTINEL;)if(a.left!==D.SENTINEL&&a.lf_left>=n-1)a=a.left;else if(a.lf_left+a.piece.lineFeedCnt>n-1){const u=this.getAccumulatedValue(a,n-a.lf_left-2),C=this.getAccumulatedValue(a,n-a.lf_left-1);return l+=a.size_left,{node:a,remainder:Math.min(u+c-1,C),nodeStartOffset:l}}else if(a.lf_left+a.piece.lineFeedCnt===n-1){const u=this.getAccumulatedValue(a,n-a.lf_left-2);if(u+c-1<=a.piece.length)return{node:a,remainder:u+c-1,nodeStartOffset:l};c-=a.piece.length-u;break}else n-=a.lf_left+a.piece.lineFeedCnt,l+=a.size_left+a.piece.length,a=a.right;for(a=a.next();a!==D.SENTINEL;){if(a.piece.lineFeedCnt>0){const u=this.getAccumulatedValue(a,0),C=this.offsetOfNode(a);return{node:a,remainder:Math.min(c-1,u),nodeStartOffset:C}}else if(a.piece.length>=c-1){const u=this.offsetOfNode(a);return{node:a,remainder:c-1,nodeStartOffset:u}}else c-=a.piece.length;a=a.next()}return null}nodeCharCodeAt(n,c){if(n.piece.lineFeedCnt<1)return-1;const a=this._buffers[n.piece.bufferIndex],l=this.offsetInBuffer(n.piece.bufferIndex,n.piece.start)+c;return a.buffer.charCodeAt(l)}offsetOfNode(n){if(!n)return 0;let c=n.size_left;for(;n!==this.root;)n.parent.right===n&&(c+=n.parent.size_left+n.parent.piece.length),n=n.parent;return c}shouldCheckCRLF(){return!(this._EOLNormalized&&this._EOL===`
`)}startWithLF(n){if(typeof n=="string")return n.charCodeAt(0)===10;if(n===D.SENTINEL||n.piece.lineFeedCnt===0)return!1;const c=n.piece,a=this._buffers[c.bufferIndex].lineStarts,l=c.start.line,u=a[l]+c.start.column;return l===a.length-1||a[l+1]>u+1?!1:this._buffers[c.bufferIndex].buffer.charCodeAt(u)===10}endWithCR(n){return typeof n=="string"?n.charCodeAt(n.length-1)===13:n===D.SENTINEL||n.piece.lineFeedCnt===0?!1:this.nodeCharCodeAt(n,n.piece.length-1)===13}validateCRLFWithPrevNode(n){if(this.shouldCheckCRLF()&&this.startWithLF(n)){const c=n.prev();this.endWithCR(c)&&this.fixCRLF(c,n)}}validateCRLFWithNextNode(n){if(this.shouldCheckCRLF()&&this.endWithCR(n)){const c=n.next();this.startWithLF(c)&&this.fixCRLF(n,c)}}fixCRLF(n,c){const a=[],l=this._buffers[n.piece.bufferIndex].lineStarts;let u;n.piece.end.column===0?u={line:n.piece.end.line-1,column:l[n.piece.end.line]-l[n.piece.end.line-1]-1}:u={line:n.piece.end.line,column:n.piece.end.column-1};const C=n.piece.length-1,g=n.piece.lineFeedCnt-1;n.piece=new t(n.piece.bufferIndex,n.piece.start,u,g,C),(0,D.updateTreeMetadata)(this,n,-1,-1),n.piece.length===0&&a.push(n);const v={line:c.piece.start.line+1,column:0},b=c.piece.length-1,w=this.getLineFeedCnt(c.piece.bufferIndex,v,c.piece.end);c.piece=new t(c.piece.bufferIndex,v,c.piece.end,w,b),(0,D.updateTreeMetadata)(this,c,-1,-1),c.piece.length===0&&a.push(c);const E=this.createNewPieces(`\r
`);this.rbInsertRight(n,E[0]);for(let I=0;I<a.length;I++)(0,D.rbDelete)(this,a[I])}adjustCarriageReturnFromNext(n,c){if(this.shouldCheckCRLF()&&this.endWithCR(n)){const a=c.next();if(this.startWithLF(a)){if(n+=`
`,a.piece.length===1)(0,D.rbDelete)(this,a);else{const l=a.piece,u={line:l.start.line+1,column:0},C=l.length-1,g=this.getLineFeedCnt(l.bufferIndex,u,l.end);a.piece=new t(l.bufferIndex,u,l.end,g,C),(0,D.updateTreeMetadata)(this,a,-1,-1)}return!0}}return!1}iterate(n,c){if(n===D.SENTINEL)return c(D.SENTINEL);const a=this.iterate(n.left,c);return a&&c(n)&&this.iterate(n.right,c)}getNodeContent(n){if(n===D.SENTINEL)return"";const c=this._buffers[n.piece.bufferIndex],a=n.piece,l=this.offsetInBuffer(a.bufferIndex,a.start),u=this.offsetInBuffer(a.bufferIndex,a.end);return c.buffer.substring(l,u)}getPieceContent(n){const c=this._buffers[n.bufferIndex],a=this.offsetInBuffer(n.bufferIndex,n.start),l=this.offsetInBuffer(n.bufferIndex,n.end);return c.buffer.substring(a,l)}rbInsertRight(n,c){const a=new D.TreeNode(c,1);if(a.left=D.SENTINEL,a.right=D.SENTINEL,a.parent=D.SENTINEL,a.size_left=0,a.lf_left=0,this.root===D.SENTINEL)this.root=a,a.color=0;else if(n.right===D.SENTINEL)n.right=a,a.parent=n;else{const u=(0,D.leftest)(n.right);u.left=a,a.parent=u}return(0,D.fixInsert)(this,a),a}rbInsertLeft(n,c){const a=new D.TreeNode(c,1);if(a.left=D.SENTINEL,a.right=D.SENTINEL,a.parent=D.SENTINEL,a.size_left=0,a.lf_left=0,this.root===D.SENTINEL)this.root=a,a.color=0;else if(n.left===D.SENTINEL)n.left=a,a.parent=n;else{const l=(0,D.righttest)(n.left);l.right=a,a.parent=l}return(0,D.fixInsert)(this,a),a}}e.PieceTreeBase=d}),define(X[206],ee([1,0]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.computeIndentLevel=void 0;function L(k,y){let D=0,S=0;const m=k.length;for(;S<m;){const _=k.charCodeAt(S);if(_===32)D++;else if(_===9)D=D-D%y+y;else break;S++}return S===m?-1:D}e.computeIndentLevel=L}),define(X[282],ee([1,0,84,11,47]),function(q,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OutputPosition=e.InjectedText=e.ModelLineProjectionData=void 0;class D{constructor(s,t,i,o,r){this.injectionOffsets=s,this.injectionOptions=t,this.breakOffsets=i,this.breakOffsetsVisibleColumn=o,this.wrappedTextIndentLength=r}getOutputLineCount(){return this.breakOffsets.length}getMinOutputOffset(s){return s>0?this.wrappedTextIndentLength:0}getLineLength(s){const t=s>0?this.breakOffsets[s-1]:0;let o=this.breakOffsets[s]-t;return s>0&&(o+=this.wrappedTextIndentLength),o}getMaxOutputOffset(s){return this.getLineLength(s)}translateToInputOffset(s,t){s>0&&(t=Math.max(0,t-this.wrappedTextIndentLength));let o=s===0?t:this.breakOffsets[s-1]+t;if(this.injectionOffsets!==null)for(let r=0;r<this.injectionOffsets.length&&o>this.injectionOffsets[r];r++)o<this.injectionOffsets[r]+this.injectionOptions[r].content.length?o=this.injectionOffsets[r]:o-=this.injectionOptions[r].content.length;return o}translateToOutputPosition(s,t=2){let i=s;if(this.injectionOffsets!==null)for(let o=0;o<this.injectionOffsets.length&&!(s<this.injectionOffsets[o]||t!==1&&s===this.injectionOffsets[o]);o++)i+=this.injectionOptions[o].content.length;return this.offsetInInputWithInjectionsToOutputPosition(i,t)}offsetInInputWithInjectionsToOutputPosition(s,t=2){let i=0,o=this.breakOffsets.length-1,r=0,d=0;for(;i<=o;){r=i+(o-i)/2|0;const n=this.breakOffsets[r];if(d=r>0?this.breakOffsets[r-1]:0,t===0)if(s<=d)o=r-1;else if(s>n)i=r+1;else break;else if(s<d)o=r-1;else if(s>=n)i=r+1;else break}let h=s-d;return r>0&&(h+=this.wrappedTextIndentLength),new f(r,h)}normalizeOutputPosition(s,t,i){if(this.injectionOffsets!==null){const o=this.outputPositionToOffsetInInputWithInjections(s,t),r=this.normalizeOffsetInInputWithInjectionsAroundInjections(o,i);if(r!==o)return this.offsetInInputWithInjectionsToOutputPosition(r,i)}if(i===0){if(s>0&&t===this.getMinOutputOffset(s))return new f(s-1,this.getMaxOutputOffset(s-1))}else if(i===1){const o=this.getOutputLineCount()-1;if(s<o&&t===this.getMaxOutputOffset(s))return new f(s+1,this.getMinOutputOffset(s+1))}return new f(s,t)}outputPositionToOffsetInInputWithInjections(s,t){return s>0&&(t=Math.max(0,t-this.wrappedTextIndentLength)),(s>0?this.breakOffsets[s-1]:0)+t}normalizeOffsetInInputWithInjectionsAroundInjections(s,t){const i=this.getInjectedTextAtOffset(s);if(!i)return s;if(t===2){if(s===i.offsetInInputWithInjections+i.length&&S(this.injectionOptions[i.injectedTextIndex].cursorStops))return i.offsetInInputWithInjections+i.length;{let o=i.offsetInInputWithInjections;if(m(this.injectionOptions[i.injectedTextIndex].cursorStops))return o;let r=i.injectedTextIndex-1;for(;r>=0&&this.injectionOffsets[r]===this.injectionOffsets[i.injectedTextIndex]&&!(S(this.injectionOptions[r].cursorStops)||(o-=this.injectionOptions[r].content.length,m(this.injectionOptions[r].cursorStops)));)r--;return o}}else if(t===1||t===4){let o=i.offsetInInputWithInjections+i.length,r=i.injectedTextIndex;for(;r+1<this.injectionOffsets.length&&this.injectionOffsets[r+1]===this.injectionOffsets[r];)o+=this.injectionOptions[r+1].content.length,r++;return o}else if(t===0||t===3){let o=i.offsetInInputWithInjections,r=i.injectedTextIndex;for(;r-1>=0&&this.injectionOffsets[r-1]===this.injectionOffsets[r];)o-=this.injectionOptions[r-1].content.length,r--;return o}(0,L.assertNever)(t)}getInjectedText(s,t){const i=this.outputPositionToOffsetInInputWithInjections(s,t),o=this.getInjectedTextAtOffset(i);return o?{options:this.injectionOptions[o.injectedTextIndex]}:null}getInjectedTextAtOffset(s){const t=this.injectionOffsets,i=this.injectionOptions;if(t!==null){let o=0;for(let r=0;r<t.length;r++){const d=i[r].content.length,h=t[r]+o,n=t[r]+o+d;if(h>s)break;if(s<=n)return{injectedTextIndex:r,offsetInInputWithInjections:h,length:d};o+=d}}}}e.ModelLineProjectionData=D;function S(p){return p==null?!0:p===y.InjectedTextCursorStops.Right||p===y.InjectedTextCursorStops.Both}function m(p){return p==null?!0:p===y.InjectedTextCursorStops.Left||p===y.InjectedTextCursorStops.Both}class _{constructor(s){this.options=s}}e.InjectedText=_;class f{constructor(s,t){this.outputLineIndex=s,this.outputOffset=t}toString(){return`${this.outputLineIndex}:${this.outputOffset}`}toPosition(s){return new k.Position(s+this.outputLineIndex,this.outputOffset+1)}}e.OutputPosition=f}),define(X[283],ee([1,0]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DraggedTreeItemsIdentifier=e.TreeViewsDnDService=void 0;class L{constructor(){this._dragOperations=new Map}removeDragOperationTransfer(D){if(D&&this._dragOperations.has(D)){const S=this._dragOperations.get(D);return this._dragOperations.delete(D),S}}}e.TreeViewsDnDService=L;class k{constructor(D){this.identifier=D}}e.DraggedTreeItemsIdentifier=k}),define(X[284],ee([1,0,5,183,9,84,146]),function(q,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UnicodeTextModelHighlighter=void 0;class m{static computeUnicodeHighlights(t,i,o){const r=o?o.startLineNumber:1,d=o?o.endLineNumber:t.getLineCount(),h=new f(i),n=h.getCandidateCodePoints();let c;n==="allNonBasicAscii"?c=new RegExp("[^\\t\\n\\r\\x20-\\x7E]","g"):c=new RegExp(`${_(Array.from(n))}`,"g");const a=new k.Searcher(null,c),l=[];let u=!1,C,g=0,v=0,b=0;e:for(let w=r,E=d;w<=E;w++){const I=t.getLineContent(w),T=I.length;a.reset(0);do if(C=a.next(I),C){let P=C.index,A=C.index+C[0].length;if(P>0){const F=I.charCodeAt(P-1);y.isHighSurrogate(F)&&P--}if(A+1<T){const F=I.charCodeAt(A-1);y.isHighSurrogate(F)&&A++}const M=I.substring(P,A);let N=(0,S.getWordAtText)(P+1,S.DEFAULT_WORD_REGEXP,I,0);N&&N.endColumn<=P+1&&(N=null);const R=h.shouldHighlightNonBasicASCII(M,N?N.word:null);if(R!==0){R===3?g++:R===2?v++:R===1?b++:(0,D.assertNever)(R);const F=1e3;if(l.length>=F){u=!0;break e}l.push(new L.Range(w,P+1,w,A+1))}}while(C)}return{ranges:l,hasMore:u,ambiguousCharacterCount:g,invisibleCharacterCount:v,nonBasicAsciiCharacterCount:b}}static computeUnicodeHighlightReason(t,i){const o=new f(i);switch(o.shouldHighlightNonBasicASCII(t,null)){case 0:return null;case 2:return{kind:1};case 3:{const d=t.codePointAt(0),h=o.ambiguousCharacters.getPrimaryConfusable(d),n=y.AmbiguousCharacters.getLocales().filter(c=>!y.AmbiguousCharacters.getInstance(new Set([...i.allowedLocales,c])).isAmbiguous(d));return{kind:0,confusableWith:String.fromCodePoint(h),notAmbiguousInLocales:n}}case 1:return{kind:2}}}}e.UnicodeTextModelHighlighter=m;function _(s,t){return`[${y.escapeRegExpCharacters(s.map(o=>String.fromCodePoint(o)).join(""))}]`}class f{constructor(t){this.options=t,this.allowedCodePoints=new Set(t.allowedCodePoints),this.ambiguousCharacters=y.AmbiguousCharacters.getInstance(new Set(t.allowedLocales))}getCandidateCodePoints(){if(this.options.nonBasicASCII)return"allNonBasicAscii";const t=new Set;if(this.options.invisibleCharacters)for(const i of y.InvisibleCharacters.codePoints)p(String.fromCodePoint(i))||t.add(i);if(this.options.ambiguousCharacters)for(const i of this.ambiguousCharacters.getConfusableCodePoints())t.add(i);for(const i of this.allowedCodePoints)t.delete(i);return t}shouldHighlightNonBasicASCII(t,i){const o=t.codePointAt(0);if(this.allowedCodePoints.has(o))return 0;if(this.options.nonBasicASCII)return 1;let r=!1,d=!1;if(i)for(const h of i){const n=h.codePointAt(0),c=y.isBasicASCII(h);r=r||c,!c&&!this.ambiguousCharacters.isAmbiguous(n)&&!y.InvisibleCharacters.isInvisibleCharacter(n)&&(d=!0)}return!r&&d?0:this.options.invisibleCharacters&&!p(t)&&y.InvisibleCharacters.isInvisibleCharacter(o)?2:this.options.ambiguousCharacters&&this.ambiguousCharacters.isAmbiguous(o)?3:0}}function p(s){return s===" "||s===`
`||s==="	"}}),define(X[207],ee([1,0]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WrappingIndent=e.TrackedRangeStickiness=e.TextEditorCursorStyle=e.TextEditorCursorBlinkingStyle=e.SymbolTag=e.SymbolKind=e.SignatureHelpTriggerKind=e.SelectionDirection=e.ScrollbarVisibility=e.ScrollType=e.RenderMinimap=e.RenderLineNumbersType=e.PositionAffinity=e.OverviewRulerLane=e.OverlayWidgetPositionPreference=e.MouseTargetType=e.MinimapPosition=e.MarkerTag=e.MarkerSeverity=e.KeyCode=e.InlineCompletionTriggerKind=e.InlayHintKind=e.InjectedTextCursorStops=e.IndentAction=e.GlyphMarginLane=e.EndOfLineSequence=e.EndOfLinePreference=e.EditorOption=e.EditorAutoIndentStrategy=e.DocumentHighlightKind=e.DefaultEndOfLine=e.CursorChangeReason=e.ContentWidgetPositionPreference=e.CompletionTriggerKind=e.CompletionItemTag=e.CompletionItemKind=e.CompletionItemInsertTextRule=e.CodeActionTriggerType=e.AccessibilitySupport=void 0;var L;(function(O){O[O.Unknown=0]="Unknown",O[O.Disabled=1]="Disabled",O[O.Enabled=2]="Enabled"})(L||(e.AccessibilitySupport=L={}));var k;(function(O){O[O.Invoke=1]="Invoke",O[O.Auto=2]="Auto"})(k||(e.CodeActionTriggerType=k={}));var y;(function(O){O[O.None=0]="None",O[O.KeepWhitespace=1]="KeepWhitespace",O[O.InsertAsSnippet=4]="InsertAsSnippet"})(y||(e.CompletionItemInsertTextRule=y={}));var D;(function(O){O[O.Method=0]="Method",O[O.Function=1]="Function",O[O.Constructor=2]="Constructor",O[O.Field=3]="Field",O[O.Variable=4]="Variable",O[O.Class=5]="Class",O[O.Struct=6]="Struct",O[O.Interface=7]="Interface",O[O.Module=8]="Module",O[O.Property=9]="Property",O[O.Event=10]="Event",O[O.Operator=11]="Operator",O[O.Unit=12]="Unit",O[O.Value=13]="Value",O[O.Constant=14]="Constant",O[O.Enum=15]="Enum",O[O.EnumMember=16]="EnumMember",O[O.Keyword=17]="Keyword",O[O.Text=18]="Text",O[O.Color=19]="Color",O[O.File=20]="File",O[O.Reference=21]="Reference",O[O.Customcolor=22]="Customcolor",O[O.Folder=23]="Folder",O[O.TypeParameter=24]="TypeParameter",O[O.User=25]="User",O[O.Issue=26]="Issue",O[O.Snippet=27]="Snippet"})(D||(e.CompletionItemKind=D={}));var S;(function(O){O[O.Deprecated=1]="Deprecated"})(S||(e.CompletionItemTag=S={}));var m;(function(O){O[O.Invoke=0]="Invoke",O[O.TriggerCharacter=1]="TriggerCharacter",O[O.TriggerForIncompleteCompletions=2]="TriggerForIncompleteCompletions"})(m||(e.CompletionTriggerKind=m={}));var _;(function(O){O[O.EXACT=0]="EXACT",O[O.ABOVE=1]="ABOVE",O[O.BELOW=2]="BELOW"})(_||(e.ContentWidgetPositionPreference=_={}));var f;(function(O){O[O.NotSet=0]="NotSet",O[O.ContentFlush=1]="ContentFlush",O[O.RecoverFromMarkers=2]="RecoverFromMarkers",O[O.Explicit=3]="Explicit",O[O.Paste=4]="Paste",O[O.Undo=5]="Undo",O[O.Redo=6]="Redo"})(f||(e.CursorChangeReason=f={}));var p;(function(O){O[O.LF=1]="LF",O[O.CRLF=2]="CRLF"})(p||(e.DefaultEndOfLine=p={}));var s;(function(O){O[O.Text=0]="Text",O[O.Read=1]="Read",O[O.Write=2]="Write"})(s||(e.DocumentHighlightKind=s={}));var t;(function(O){O[O.None=0]="None",O[O.Keep=1]="Keep",O[O.Brackets=2]="Brackets",O[O.Advanced=3]="Advanced",O[O.Full=4]="Full"})(t||(e.EditorAutoIndentStrategy=t={}));var i;(function(O){O[O.acceptSuggestionOnCommitCharacter=0]="acceptSuggestionOnCommitCharacter",O[O.acceptSuggestionOnEnter=1]="acceptSuggestionOnEnter",O[O.accessibilitySupport=2]="accessibilitySupport",O[O.accessibilityPageSize=3]="accessibilityPageSize",O[O.ariaLabel=4]="ariaLabel",O[O.autoClosingBrackets=5]="autoClosingBrackets",O[O.screenReaderAnnounceInlineSuggestion=6]="screenReaderAnnounceInlineSuggestion",O[O.autoClosingDelete=7]="autoClosingDelete",O[O.autoClosingOvertype=8]="autoClosingOvertype",O[O.autoClosingQuotes=9]="autoClosingQuotes",O[O.autoIndent=10]="autoIndent",O[O.automaticLayout=11]="automaticLayout",O[O.autoSurround=12]="autoSurround",O[O.bracketPairColorization=13]="bracketPairColorization",O[O.guides=14]="guides",O[O.codeLens=15]="codeLens",O[O.codeLensFontFamily=16]="codeLensFontFamily",O[O.codeLensFontSize=17]="codeLensFontSize",O[O.colorDecorators=18]="colorDecorators",O[O.colorDecoratorsLimit=19]="colorDecoratorsLimit",O[O.columnSelection=20]="columnSelection",O[O.comments=21]="comments",O[O.contextmenu=22]="contextmenu",O[O.copyWithSyntaxHighlighting=23]="copyWithSyntaxHighlighting",O[O.cursorBlinking=24]="cursorBlinking",O[O.cursorSmoothCaretAnimation=25]="cursorSmoothCaretAnimation",O[O.cursorStyle=26]="cursorStyle",O[O.cursorSurroundingLines=27]="cursorSurroundingLines",O[O.cursorSurroundingLinesStyle=28]="cursorSurroundingLinesStyle",O[O.cursorWidth=29]="cursorWidth",O[O.disableLayerHinting=30]="disableLayerHinting",O[O.disableMonospaceOptimizations=31]="disableMonospaceOptimizations",O[O.domReadOnly=32]="domReadOnly",O[O.dragAndDrop=33]="dragAndDrop",O[O.dropIntoEditor=34]="dropIntoEditor",O[O.emptySelectionClipboard=35]="emptySelectionClipboard",O[O.experimentalWhitespaceRendering=36]="experimentalWhitespaceRendering",O[O.extraEditorClassName=37]="extraEditorClassName",O[O.fastScrollSensitivity=38]="fastScrollSensitivity",O[O.find=39]="find",O[O.fixedOverflowWidgets=40]="fixedOverflowWidgets",O[O.folding=41]="folding",O[O.foldingStrategy=42]="foldingStrategy",O[O.foldingHighlight=43]="foldingHighlight",O[O.foldingImportsByDefault=44]="foldingImportsByDefault",O[O.foldingMaximumRegions=45]="foldingMaximumRegions",O[O.unfoldOnClickAfterEndOfLine=46]="unfoldOnClickAfterEndOfLine",O[O.fontFamily=47]="fontFamily",O[O.fontInfo=48]="fontInfo",O[O.fontLigatures=49]="fontLigatures",O[O.fontSize=50]="fontSize",O[O.fontWeight=51]="fontWeight",O[O.fontVariations=52]="fontVariations",O[O.formatOnPaste=53]="formatOnPaste",O[O.formatOnType=54]="formatOnType",O[O.glyphMargin=55]="glyphMargin",O[O.gotoLocation=56]="gotoLocation",O[O.hideCursorInOverviewRuler=57]="hideCursorInOverviewRuler",O[O.hover=58]="hover",O[O.inDiffEditor=59]="inDiffEditor",O[O.inlineSuggest=60]="inlineSuggest",O[O.letterSpacing=61]="letterSpacing",O[O.lightbulb=62]="lightbulb",O[O.lineDecorationsWidth=63]="lineDecorationsWidth",O[O.lineHeight=64]="lineHeight",O[O.lineNumbers=65]="lineNumbers",O[O.lineNumbersMinChars=66]="lineNumbersMinChars",O[O.linkedEditing=67]="linkedEditing",O[O.links=68]="links",O[O.matchBrackets=69]="matchBrackets",O[O.minimap=70]="minimap",O[O.mouseStyle=71]="mouseStyle",O[O.mouseWheelScrollSensitivity=72]="mouseWheelScrollSensitivity",O[O.mouseWheelZoom=73]="mouseWheelZoom",O[O.multiCursorMergeOverlapping=74]="multiCursorMergeOverlapping",O[O.multiCursorModifier=75]="multiCursorModifier",O[O.multiCursorPaste=76]="multiCursorPaste",O[O.multiCursorLimit=77]="multiCursorLimit",O[O.occurrencesHighlight=78]="occurrencesHighlight",O[O.overviewRulerBorder=79]="overviewRulerBorder",O[O.overviewRulerLanes=80]="overviewRulerLanes",O[O.padding=81]="padding",O[O.pasteAs=82]="pasteAs",O[O.parameterHints=83]="parameterHints",O[O.peekWidgetDefaultFocus=84]="peekWidgetDefaultFocus",O[O.definitionLinkOpensInPeek=85]="definitionLinkOpensInPeek",O[O.quickSuggestions=86]="quickSuggestions",O[O.quickSuggestionsDelay=87]="quickSuggestionsDelay",O[O.readOnly=88]="readOnly",O[O.readOnlyMessage=89]="readOnlyMessage",O[O.renameOnType=90]="renameOnType",O[O.renderControlCharacters=91]="renderControlCharacters",O[O.renderFinalNewline=92]="renderFinalNewline",O[O.renderLineHighlight=93]="renderLineHighlight",O[O.renderLineHighlightOnlyWhenFocus=94]="renderLineHighlightOnlyWhenFocus",O[O.renderValidationDecorations=95]="renderValidationDecorations",O[O.renderWhitespace=96]="renderWhitespace",O[O.revealHorizontalRightPadding=97]="revealHorizontalRightPadding",O[O.roundedSelection=98]="roundedSelection",O[O.rulers=99]="rulers",O[O.scrollbar=100]="scrollbar",O[O.scrollBeyondLastColumn=101]="scrollBeyondLastColumn",O[O.scrollBeyondLastLine=102]="scrollBeyondLastLine",O[O.scrollPredominantAxis=103]="scrollPredominantAxis",O[O.selectionClipboard=104]="selectionClipboard",O[O.selectionHighlight=105]="selectionHighlight",O[O.selectOnLineNumbers=106]="selectOnLineNumbers",O[O.showFoldingControls=107]="showFoldingControls",O[O.showUnused=108]="showUnused",O[O.snippetSuggestions=109]="snippetSuggestions",O[O.smartSelect=110]="smartSelect",O[O.smoothScrolling=111]="smoothScrolling",O[O.stickyScroll=112]="stickyScroll",O[O.stickyTabStops=113]="stickyTabStops",O[O.stopRenderingLineAfter=114]="stopRenderingLineAfter",O[O.suggest=115]="suggest",O[O.suggestFontSize=116]="suggestFontSize",O[O.suggestLineHeight=117]="suggestLineHeight",O[O.suggestOnTriggerCharacters=118]="suggestOnTriggerCharacters",O[O.suggestSelection=119]="suggestSelection",O[O.tabCompletion=120]="tabCompletion",O[O.tabIndex=121]="tabIndex",O[O.unicodeHighlighting=122]="unicodeHighlighting",O[O.unusualLineTerminators=123]="unusualLineTerminators",O[O.useShadowDOM=124]="useShadowDOM",O[O.useTabStops=125]="useTabStops",O[O.wordBreak=126]="wordBreak",O[O.wordSeparators=127]="wordSeparators",O[O.wordWrap=128]="wordWrap",O[O.wordWrapBreakAfterCharacters=129]="wordWrapBreakAfterCharacters",O[O.wordWrapBreakBeforeCharacters=130]="wordWrapBreakBeforeCharacters",O[O.wordWrapColumn=131]="wordWrapColumn",O[O.wordWrapOverride1=132]="wordWrapOverride1",O[O.wordWrapOverride2=133]="wordWrapOverride2",O[O.wrappingIndent=134]="wrappingIndent",O[O.wrappingStrategy=135]="wrappingStrategy",O[O.showDeprecated=136]="showDeprecated",O[O.inlayHints=137]="inlayHints",O[O.editorClassName=138]="editorClassName",O[O.pixelRatio=139]="pixelRatio",O[O.tabFocusMode=140]="tabFocusMode",O[O.layoutInfo=141]="layoutInfo",O[O.wrappingInfo=142]="wrappingInfo",O[O.defaultColorDecorators=143]="defaultColorDecorators",O[O.colorDecoratorsActivatedOn=144]="colorDecoratorsActivatedOn"})(i||(e.EditorOption=i={}));var o;(function(O){O[O.TextDefined=0]="TextDefined",O[O.LF=1]="LF",O[O.CRLF=2]="CRLF"})(o||(e.EndOfLinePreference=o={}));var r;(function(O){O[O.LF=0]="LF",O[O.CRLF=1]="CRLF"})(r||(e.EndOfLineSequence=r={}));var d;(function(O){O[O.Left=1]="Left",O[O.Right=2]="Right"})(d||(e.GlyphMarginLane=d={}));var h;(function(O){O[O.None=0]="None",O[O.Indent=1]="Indent",O[O.IndentOutdent=2]="IndentOutdent",O[O.Outdent=3]="Outdent"})(h||(e.IndentAction=h={}));var n;(function(O){O[O.Both=0]="Both",O[O.Right=1]="Right",O[O.Left=2]="Left",O[O.None=3]="None"})(n||(e.InjectedTextCursorStops=n={}));var c;(function(O){O[O.Type=1]="Type",O[O.Parameter=2]="Parameter"})(c||(e.InlayHintKind=c={}));var a;(function(O){O[O.Automatic=0]="Automatic",O[O.Explicit=1]="Explicit"})(a||(e.InlineCompletionTriggerKind=a={}));var l;(function(O){O[O.DependsOnKbLayout=-1]="DependsOnKbLayout",O[O.Unknown=0]="Unknown",O[O.Backspace=1]="Backspace",O[O.Tab=2]="Tab",O[O.Enter=3]="Enter",O[O.Shift=4]="Shift",O[O.Ctrl=5]="Ctrl",O[O.Alt=6]="Alt",O[O.PauseBreak=7]="PauseBreak",O[O.CapsLock=8]="CapsLock",O[O.Escape=9]="Escape",O[O.Space=10]="Space",O[O.PageUp=11]="PageUp",O[O.PageDown=12]="PageDown",O[O.End=13]="End",O[O.Home=14]="Home",O[O.LeftArrow=15]="LeftArrow",O[O.UpArrow=16]="UpArrow",O[O.RightArrow=17]="RightArrow",O[O.DownArrow=18]="DownArrow",O[O.Insert=19]="Insert",O[O.Delete=20]="Delete",O[O.Digit0=21]="Digit0",O[O.Digit1=22]="Digit1",O[O.Digit2=23]="Digit2",O[O.Digit3=24]="Digit3",O[O.Digit4=25]="Digit4",O[O.Digit5=26]="Digit5",O[O.Digit6=27]="Digit6",O[O.Digit7=28]="Digit7",O[O.Digit8=29]="Digit8",O[O.Digit9=30]="Digit9",O[O.KeyA=31]="KeyA",O[O.KeyB=32]="KeyB",O[O.KeyC=33]="KeyC",O[O.KeyD=34]="KeyD",O[O.KeyE=35]="KeyE",O[O.KeyF=36]="KeyF",O[O.KeyG=37]="KeyG",O[O.KeyH=38]="KeyH",O[O.KeyI=39]="KeyI",O[O.KeyJ=40]="KeyJ",O[O.KeyK=41]="KeyK",O[O.KeyL=42]="KeyL",O[O.KeyM=43]="KeyM",O[O.KeyN=44]="KeyN",O[O.KeyO=45]="KeyO",O[O.KeyP=46]="KeyP",O[O.KeyQ=47]="KeyQ",O[O.KeyR=48]="KeyR",O[O.KeyS=49]="KeyS",O[O.KeyT=50]="KeyT",O[O.KeyU=51]="KeyU",O[O.KeyV=52]="KeyV",O[O.KeyW=53]="KeyW",O[O.KeyX=54]="KeyX",O[O.KeyY=55]="KeyY",O[O.KeyZ=56]="KeyZ",O[O.Meta=57]="Meta",O[O.ContextMenu=58]="ContextMenu",O[O.F1=59]="F1",O[O.F2=60]="F2",O[O.F3=61]="F3",O[O.F4=62]="F4",O[O.F5=63]="F5",O[O.F6=64]="F6",O[O.F7=65]="F7",O[O.F8=66]="F8",O[O.F9=67]="F9",O[O.F10=68]="F10",O[O.F11=69]="F11",O[O.F12=70]="F12",O[O.F13=71]="F13",O[O.F14=72]="F14",O[O.F15=73]="F15",O[O.F16=74]="F16",O[O.F17=75]="F17",O[O.F18=76]="F18",O[O.F19=77]="F19",O[O.F20=78]="F20",O[O.F21=79]="F21",O[O.F22=80]="F22",O[O.F23=81]="F23",O[O.F24=82]="F24",O[O.NumLock=83]="NumLock",O[O.ScrollLock=84]="ScrollLock",O[O.Semicolon=85]="Semicolon",O[O.Equal=86]="Equal",O[O.Comma=87]="Comma",O[O.Minus=88]="Minus",O[O.Period=89]="Period",O[O.Slash=90]="Slash",O[O.Backquote=91]="Backquote",O[O.BracketLeft=92]="BracketLeft",O[O.Backslash=93]="Backslash",O[O.BracketRight=94]="BracketRight",O[O.Quote=95]="Quote",O[O.OEM_8=96]="OEM_8",O[O.IntlBackslash=97]="IntlBackslash",O[O.Numpad0=98]="Numpad0",O[O.Numpad1=99]="Numpad1",O[O.Numpad2=100]="Numpad2",O[O.Numpad3=101]="Numpad3",O[O.Numpad4=102]="Numpad4",O[O.Numpad5=103]="Numpad5",O[O.Numpad6=104]="Numpad6",O[O.Numpad7=105]="Numpad7",O[O.Numpad8=106]="Numpad8",O[O.Numpad9=107]="Numpad9",O[O.NumpadMultiply=108]="NumpadMultiply",O[O.NumpadAdd=109]="NumpadAdd",O[O.NUMPAD_SEPARATOR=110]="NUMPAD_SEPARATOR",O[O.NumpadSubtract=111]="NumpadSubtract",O[O.NumpadDecimal=112]="NumpadDecimal",O[O.NumpadDivide=113]="NumpadDivide",O[O.KEY_IN_COMPOSITION=114]="KEY_IN_COMPOSITION",O[O.ABNT_C1=115]="ABNT_C1",O[O.ABNT_C2=116]="ABNT_C2",O[O.AudioVolumeMute=117]="AudioVolumeMute",O[O.AudioVolumeUp=118]="AudioVolumeUp",O[O.AudioVolumeDown=119]="AudioVolumeDown",O[O.BrowserSearch=120]="BrowserSearch",O[O.BrowserHome=121]="BrowserHome",O[O.BrowserBack=122]="BrowserBack",O[O.BrowserForward=123]="BrowserForward",O[O.MediaTrackNext=124]="MediaTrackNext",O[O.MediaTrackPrevious=125]="MediaTrackPrevious",O[O.MediaStop=126]="MediaStop",O[O.MediaPlayPause=127]="MediaPlayPause",O[O.LaunchMediaPlayer=128]="LaunchMediaPlayer",O[O.LaunchMail=129]="LaunchMail",O[O.LaunchApp2=130]="LaunchApp2",O[O.Clear=131]="Clear",O[O.MAX_VALUE=132]="MAX_VALUE"})(l||(e.KeyCode=l={}));var u;(function(O){O[O.Hint=1]="Hint",O[O.Info=2]="Info",O[O.Warning=4]="Warning",O[O.Error=8]="Error"})(u||(e.MarkerSeverity=u={}));var C;(function(O){O[O.Unnecessary=1]="Unnecessary",O[O.Deprecated=2]="Deprecated"})(C||(e.MarkerTag=C={}));var g;(function(O){O[O.Inline=1]="Inline",O[O.Gutter=2]="Gutter"})(g||(e.MinimapPosition=g={}));var v;(function(O){O[O.UNKNOWN=0]="UNKNOWN",O[O.TEXTAREA=1]="TEXTAREA",O[O.GUTTER_GLYPH_MARGIN=2]="GUTTER_GLYPH_MARGIN",O[O.GUTTER_LINE_NUMBERS=3]="GUTTER_LINE_NUMBERS",O[O.GUTTER_LINE_DECORATIONS=4]="GUTTER_LINE_DECORATIONS",O[O.GUTTER_VIEW_ZONE=5]="GUTTER_VIEW_ZONE",O[O.CONTENT_TEXT=6]="CONTENT_TEXT",O[O.CONTENT_EMPTY=7]="CONTENT_EMPTY",O[O.CONTENT_VIEW_ZONE=8]="CONTENT_VIEW_ZONE",O[O.CONTENT_WIDGET=9]="CONTENT_WIDGET",O[O.OVERVIEW_RULER=10]="OVERVIEW_RULER",O[O.SCROLLBAR=11]="SCROLLBAR",O[O.OVERLAY_WIDGET=12]="OVERLAY_WIDGET",O[O.OUTSIDE_EDITOR=13]="OUTSIDE_EDITOR"})(v||(e.MouseTargetType=v={}));var b;(function(O){O[O.TOP_RIGHT_CORNER=0]="TOP_RIGHT_CORNER",O[O.BOTTOM_RIGHT_CORNER=1]="BOTTOM_RIGHT_CORNER",O[O.TOP_CENTER=2]="TOP_CENTER"})(b||(e.OverlayWidgetPositionPreference=b={}));var w;(function(O){O[O.Left=1]="Left",O[O.Center=2]="Center",O[O.Right=4]="Right",O[O.Full=7]="Full"})(w||(e.OverviewRulerLane=w={}));var E;(function(O){O[O.Left=0]="Left",O[O.Right=1]="Right",O[O.None=2]="None",O[O.LeftOfInjectedText=3]="LeftOfInjectedText",O[O.RightOfInjectedText=4]="RightOfInjectedText"})(E||(e.PositionAffinity=E={}));var I;(function(O){O[O.Off=0]="Off",O[O.On=1]="On",O[O.Relative=2]="Relative",O[O.Interval=3]="Interval",O[O.Custom=4]="Custom"})(I||(e.RenderLineNumbersType=I={}));var T;(function(O){O[O.None=0]="None",O[O.Text=1]="Text",O[O.Blocks=2]="Blocks"})(T||(e.RenderMinimap=T={}));var P;(function(O){O[O.Smooth=0]="Smooth",O[O.Immediate=1]="Immediate"})(P||(e.ScrollType=P={}));var A;(function(O){O[O.Auto=1]="Auto",O[O.Hidden=2]="Hidden",O[O.Visible=3]="Visible"})(A||(e.ScrollbarVisibility=A={}));var M;(function(O){O[O.LTR=0]="LTR",O[O.RTL=1]="RTL"})(M||(e.SelectionDirection=M={}));var N;(function(O){O[O.Invoke=1]="Invoke",O[O.TriggerCharacter=2]="TriggerCharacter",O[O.ContentChange=3]="ContentChange"})(N||(e.SignatureHelpTriggerKind=N={}));var R;(function(O){O[O.File=0]="File",O[O.Module=1]="Module",O[O.Namespace=2]="Namespace",O[O.Package=3]="Package",O[O.Class=4]="Class",O[O.Method=5]="Method",O[O.Property=6]="Property",O[O.Field=7]="Field",O[O.Constructor=8]="Constructor",O[O.Enum=9]="Enum",O[O.Interface=10]="Interface",O[O.Function=11]="Function",O[O.Variable=12]="Variable",O[O.Constant=13]="Constant",O[O.String=14]="String",O[O.Number=15]="Number",O[O.Boolean=16]="Boolean",O[O.Array=17]="Array",O[O.Object=18]="Object",O[O.Key=19]="Key",O[O.Null=20]="Null",O[O.EnumMember=21]="EnumMember",O[O.Struct=22]="Struct",O[O.Event=23]="Event",O[O.Operator=24]="Operator",O[O.TypeParameter=25]="TypeParameter"})(R||(e.SymbolKind=R={}));var F;(function(O){O[O.Deprecated=1]="Deprecated"})(F||(e.SymbolTag=F={}));var x;(function(O){O[O.Hidden=0]="Hidden",O[O.Blink=1]="Blink",O[O.Smooth=2]="Smooth",O[O.Phase=3]="Phase",O[O.Expand=4]="Expand",O[O.Solid=5]="Solid"})(x||(e.TextEditorCursorBlinkingStyle=x={}));var W;(function(O){O[O.Line=1]="Line",O[O.Block=2]="Block",O[O.Underline=3]="Underline",O[O.LineThin=4]="LineThin",O[O.BlockOutline=5]="BlockOutline",O[O.UnderlineThin=6]="UnderlineThin"})(W||(e.TextEditorCursorStyle=W={}));var z;(function(O){O[O.AlwaysGrowsWhenTypingAtEdges=0]="AlwaysGrowsWhenTypingAtEdges",O[O.NeverGrowsWhenTypingAtEdges=1]="NeverGrowsWhenTypingAtEdges",O[O.GrowsOnlyWhenTypingBefore=2]="GrowsOnlyWhenTypingBefore",O[O.GrowsOnlyWhenTypingAfter=3]="GrowsOnlyWhenTypingAfter"})(z||(e.TrackedRangeStickiness=z={}));var U;(function(O){O[O.None=0]="None",O[O.Same=1]="Same",O[O.Indent=2]="Indent",O[O.DeepIndent=3]="DeepIndent"})(U||(e.WrappingIndent=U={}))}),define(X[507],ee([1,0]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketPairWithMinIndentationInfo=e.BracketPairInfo=e.BracketInfo=void 0;class L{constructor(S,m,_,f){this.range=S,this.nestingLevel=m,this.nestingLevelOfEqualBracketType=_,this.isInvalid=f}}e.BracketInfo=L;class k{constructor(S,m,_,f,p,s){this.range=S,this.openingBracketRange=m,this.closingBracketRange=_,this.nestingLevel=f,this.nestingLevelOfEqualBracketType=p,this.bracketPairNode=s}get openingBracketInfo(){return this.bracketPairNode.openingBracket.bracketInfo}}e.BracketPairInfo=k;class y extends k{constructor(S,m,_,f,p,s,t){super(S,m,_,f,p,s),this.minVisibleColumnIndentation=t}}e.BracketPairWithMinIndentationInfo=y}),define(X[508],ee([1,0,6,2,507,181,278,85,277,126,205,16,276]),function(q,e,L,k,y,D,S,m,_,f,p,s,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketPairsTree=void 0;class i extends k.Disposable{didLanguageChange(a){return this.brackets.didLanguageChange(a)}constructor(a,l){if(super(),this.textModel=a,this.getLanguageConfiguration=l,this.didChangeEmitter=new L.Emitter,this.denseKeyProvider=new f.DenseKeyProvider,this.brackets=new S.LanguageAgnosticBracketTokens(this.denseKeyProvider,this.getLanguageConfiguration),this.onDidChange=this.didChangeEmitter.event,this.queuedTextEditsForInitialAstWithoutTokens=[],this.queuedTextEdits=[],a.tokenization.hasTokens)a.tokenization.backgroundTokenizationState===2?(this.initialAstWithoutTokens=void 0,this.astWithTokens=this.parseDocumentFromTextBuffer([],void 0,!1)):(this.initialAstWithoutTokens=this.parseDocumentFromTextBuffer([],void 0,!0),this.astWithTokens=this.initialAstWithoutTokens);else{const u=this.brackets.getSingleLanguageBracketTokens(this.textModel.getLanguageId()),C=new p.FastTokenizer(this.textModel.getValue(),u);this.initialAstWithoutTokens=(0,_.parseDocument)(C,[],void 0,!0),this.astWithTokens=this.initialAstWithoutTokens}}handleDidChangeBackgroundTokenizationState(){if(this.textModel.tokenization.backgroundTokenizationState===2){const a=this.initialAstWithoutTokens===void 0;this.initialAstWithoutTokens=void 0,a||this.didChangeEmitter.fire()}}handleDidChangeTokens({ranges:a}){const l=a.map(u=>new D.TextEditInfo((0,m.toLength)(u.fromLineNumber-1,0),(0,m.toLength)(u.toLineNumber,0),(0,m.toLength)(u.toLineNumber-u.fromLineNumber+1,0)));this.handleEdits(l,!0),this.initialAstWithoutTokens||this.didChangeEmitter.fire()}handleContentChanged(a){const l=D.TextEditInfo.fromModelContentChanges(a.changes);this.handleEdits(l,!1)}handleEdits(a,l){const u=(0,t.combineTextEditInfos)(this.queuedTextEdits,a);this.queuedTextEdits=u,this.initialAstWithoutTokens&&!l&&(this.queuedTextEditsForInitialAstWithoutTokens=(0,t.combineTextEditInfos)(this.queuedTextEditsForInitialAstWithoutTokens,a))}flushQueue(){this.queuedTextEdits.length>0&&(this.astWithTokens=this.parseDocumentFromTextBuffer(this.queuedTextEdits,this.astWithTokens,!1),this.queuedTextEdits=[]),this.queuedTextEditsForInitialAstWithoutTokens.length>0&&(this.initialAstWithoutTokens&&(this.initialAstWithoutTokens=this.parseDocumentFromTextBuffer(this.queuedTextEditsForInitialAstWithoutTokens,this.initialAstWithoutTokens,!1)),this.queuedTextEditsForInitialAstWithoutTokens=[])}parseDocumentFromTextBuffer(a,l,u){const g=l,v=new p.TextBufferTokenizer(this.textModel,this.brackets);return(0,_.parseDocument)(v,a,g,u)}getBracketsInRange(a,l){this.flushQueue();const u=(0,m.toLength)(a.startLineNumber-1,a.startColumn-1),C=(0,m.toLength)(a.endLineNumber-1,a.endColumn-1);return new s.CallbackIterable(g=>{const v=this.initialAstWithoutTokens||this.astWithTokens;d(v,m.lengthZero,v.length,u,C,g,0,0,new Map,l)})}getBracketPairsInRange(a,l){this.flushQueue();const u=(0,m.positionToLength)(a.getStartPosition()),C=(0,m.positionToLength)(a.getEndPosition());return new s.CallbackIterable(g=>{const v=this.initialAstWithoutTokens||this.astWithTokens,b=new h(g,l,this.textModel);n(v,m.lengthZero,v.length,u,C,b,0,new Map)})}getFirstBracketAfter(a){this.flushQueue();const l=this.initialAstWithoutTokens||this.astWithTokens;return r(l,m.lengthZero,l.length,(0,m.positionToLength)(a))}getFirstBracketBefore(a){this.flushQueue();const l=this.initialAstWithoutTokens||this.astWithTokens;return o(l,m.lengthZero,l.length,(0,m.positionToLength)(a))}}e.BracketPairsTree=i;function o(c,a,l,u){if(c.kind===4||c.kind===2){const C=[];for(const g of c.children)l=(0,m.lengthAdd)(a,g.length),C.push({nodeOffsetStart:a,nodeOffsetEnd:l}),a=l;for(let g=C.length-1;g>=0;g--){const{nodeOffsetStart:v,nodeOffsetEnd:b}=C[g];if((0,m.lengthLessThan)(v,u)){const w=o(c.children[g],v,b,u);if(w)return w}}return null}else{if(c.kind===3)return null;if(c.kind===1){const C=(0,m.lengthsToRange)(a,l);return{bracketInfo:c.bracketInfo,range:C}}}return null}function r(c,a,l,u){if(c.kind===4||c.kind===2){for(const C of c.children){if(l=(0,m.lengthAdd)(a,C.length),(0,m.lengthLessThan)(u,l)){const g=r(C,a,l,u);if(g)return g}a=l}return null}else{if(c.kind===3)return null;if(c.kind===1){const C=(0,m.lengthsToRange)(a,l);return{bracketInfo:c.bracketInfo,range:C}}}return null}function d(c,a,l,u,C,g,v,b,w,E,I=!1){if(v>200)return!0;e:for(;;)switch(c.kind){case 4:{const T=c.childrenLength;for(let P=0;P<T;P++){const A=c.getChild(P);if(A){if(l=(0,m.lengthAdd)(a,A.length),(0,m.lengthLessThanEqual)(a,C)&&(0,m.lengthGreaterThanEqual)(l,u)){if((0,m.lengthGreaterThanEqual)(l,C)){c=A;continue e}if(!d(A,a,l,u,C,g,v,0,w,E))return!1}a=l}}return!0}case 2:{const T=!E||!c.closingBracket||c.closingBracket.bracketInfo.closesColorized(c.openingBracket.bracketInfo);let P=0;if(w){let M=w.get(c.openingBracket.text);M===void 0&&(M=0),P=M,T&&(M++,w.set(c.openingBracket.text,M))}const A=c.childrenLength;for(let M=0;M<A;M++){const N=c.getChild(M);if(N){if(l=(0,m.lengthAdd)(a,N.length),(0,m.lengthLessThanEqual)(a,C)&&(0,m.lengthGreaterThanEqual)(l,u)){if((0,m.lengthGreaterThanEqual)(l,C)&&N.kind!==1){c=N,T?(v++,b=P+1):b=P;continue e}if((T||N.kind!==1||!c.closingBracket)&&!d(N,a,l,u,C,g,T?v+1:v,T?P+1:P,w,E,!c.closingBracket))return!1}a=l}}return w?.set(c.openingBracket.text,P),!0}case 3:{const T=(0,m.lengthsToRange)(a,l);return g(new y.BracketInfo(T,v-1,0,!0))}case 1:{const T=(0,m.lengthsToRange)(a,l);return g(new y.BracketInfo(T,v-1,b-1,I))}case 0:return!0}}class h{constructor(a,l,u){this.push=a,this.includeMinIndentation=l,this.textModel=u}}function n(c,a,l,u,C,g,v,b){var w;if(v>200)return!0;let E=!0;if(c.kind===2){let I=0;if(b){let A=b.get(c.openingBracket.text);A===void 0&&(A=0),I=A,A++,b.set(c.openingBracket.text,A)}const T=(0,m.lengthAdd)(a,c.openingBracket.length);let P=-1;if(g.includeMinIndentation&&(P=c.computeMinIndentation(a,g.textModel)),E=g.push(new y.BracketPairWithMinIndentationInfo((0,m.lengthsToRange)(a,l),(0,m.lengthsToRange)(a,T),c.closingBracket?(0,m.lengthsToRange)((0,m.lengthAdd)(T,((w=c.child)===null||w===void 0?void 0:w.length)||m.lengthZero),l):void 0,v,I,c,P)),a=T,E&&c.child){const A=c.child;if(l=(0,m.lengthAdd)(a,A.length),(0,m.lengthLessThanEqual)(a,C)&&(0,m.lengthGreaterThanEqual)(l,u)&&(E=n(A,a,l,u,C,g,v+1,b),!E))return!1}b?.set(c.openingBracket.text,I)}else{let I=a;for(const T of c.children){const P=I;if(I=(0,m.lengthAdd)(I,T.length),(0,m.lengthLessThanEqual)(P,C)&&(0,m.lengthLessThanEqual)(u,I)&&(E=n(T,P,I,u,C,g,v,b),!E))return!1}}return E}}),define(X[110],ee([1,0]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InternalModelContentChangeEvent=e.ModelInjectedTextChangedEvent=e.ModelRawContentChangedEvent=e.ModelRawEOLChanged=e.ModelRawLinesInserted=e.ModelRawLinesDeleted=e.ModelRawLineChanged=e.LineInjectedText=e.ModelRawFlush=void 0;class L{constructor(){this.changeType=1}}e.ModelRawFlush=L;class k{static applyInjectedText(t,i){if(!i||i.length===0)return t;let o="",r=0;for(const d of i)o+=t.substring(r,d.column-1),r=d.column-1,o+=d.options.content;return o+=t.substring(r),o}static fromDecorations(t){const i=[];for(const o of t)o.options.before&&o.options.before.content.length>0&&i.push(new k(o.ownerId,o.range.startLineNumber,o.range.startColumn,o.options.before,0)),o.options.after&&o.options.after.content.length>0&&i.push(new k(o.ownerId,o.range.endLineNumber,o.range.endColumn,o.options.after,1));return i.sort((o,r)=>o.lineNumber===r.lineNumber?o.column===r.column?o.order-r.order:o.column-r.column:o.lineNumber-r.lineNumber),i}constructor(t,i,o,r,d){this.ownerId=t,this.lineNumber=i,this.column=o,this.options=r,this.order=d}}e.LineInjectedText=k;class y{constructor(t,i,o){this.changeType=2,this.lineNumber=t,this.detail=i,this.injectedText=o}}e.ModelRawLineChanged=y;class D{constructor(t,i){this.changeType=3,this.fromLineNumber=t,this.toLineNumber=i}}e.ModelRawLinesDeleted=D;class S{constructor(t,i,o,r){this.changeType=4,this.injectedTexts=r,this.fromLineNumber=t,this.toLineNumber=i,this.detail=o}}e.ModelRawLinesInserted=S;class m{constructor(){this.changeType=5}}e.ModelRawEOLChanged=m;class _{constructor(t,i,o,r){this.changes=t,this.versionId=i,this.isUndoing=o,this.isRedoing=r,this.resultingSelection=null}containsEvent(t){for(let i=0,o=this.changes.length;i<o;i++)if(this.changes[i].changeType===t)return!0;return!1}static merge(t,i){const o=[].concat(t.changes).concat(i.changes),r=i.versionId,d=t.isUndoing||i.isUndoing,h=t.isRedoing||i.isRedoing;return new _(o,r,d,h)}}e.ModelRawContentChangedEvent=_;class f{constructor(t){this.changes=t}}e.ModelInjectedTextChangedEvent=f;class p{constructor(t,i){this.rawContentChangedEvent=t,this.contentChangedEvent=i}merge(t){const i=_.merge(this.rawContentChangedEvent,t.rawContentChangedEvent),o=p._mergeChangeEvents(this.contentChangedEvent,t.contentChangedEvent);return new p(i,o)}static _mergeChangeEvents(t,i){const o=[].concat(t.changes).concat(i.changes),r=i.eol,d=i.versionId,h=t.isUndoing||i.isUndoing,n=t.isRedoing||i.isRedoing,c=t.isFlush||i.isFlush,a=t.isEolChange&&i.isEolChange;return{changes:o,eol:r,isEolChange:a,versionId:d,isUndoing:h,isRedoing:n,isFlush:c}}}e.InternalModelContentChangeEvent=p}),define(X[208],ee([1,0]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IndentGuideHorizontalLine=e.IndentGuide=e.HorizontalGuidesState=void 0;var L;(function(D){D[D.Disabled=0]="Disabled",D[D.EnabledForActive=1]="EnabledForActive",D[D.Enabled=2]="Enabled"})(L||(e.HorizontalGuidesState=L={}));class k{constructor(S,m,_,f,p,s){if(this.visibleColumn=S,this.column=m,this.className=_,this.horizontalLine=f,this.forWrappedLinesAfterColumn=p,this.forWrappedLinesBeforeOrAtColumn=s,S!==-1==(m!==-1))throw new Error}}e.IndentGuide=k;class y{constructor(S,m){this.top=S,this.endColumn=m}}e.IndentGuideHorizontalLine=y}),define(X[285],ee([1,0,16,9,81,5,280,206,208,12]),function(q,e,L,k,y,D,S,m,_,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketPairGuidesClassNames=e.GuidesTextModelPart=void 0;class p extends S.TextModelPart{constructor(i,o){super(),this.textModel=i,this.languageConfigurationService=o}getLanguageConfiguration(i){return this.languageConfigurationService.getLanguageConfiguration(i)}_computeIndentLevel(i){return(0,m.computeIndentLevel)(this.textModel.getLineContent(i+1),this.textModel.getOptions().tabSize)}getActiveIndentGuide(i,o,r){this.assertNotDisposed();const d=this.textModel.getLineCount();if(i<1||i>d)throw new f.BugIndicatingError("Illegal value for lineNumber");const h=this.getLanguageConfiguration(this.textModel.getLanguageId()).foldingRules,n=!!(h&&h.offSide);let c=-2,a=-1,l=-2,u=-1;const C=R=>{if(c!==-1&&(c===-2||c>R-1)){c=-1,a=-1;for(let F=R-2;F>=0;F--){const x=this._computeIndentLevel(F);if(x>=0){c=F,a=x;break}}}if(l===-2){l=-1,u=-1;for(let F=R;F<d;F++){const x=this._computeIndentLevel(F);if(x>=0){l=F,u=x;break}}}};let g=-2,v=-1,b=-2,w=-1;const E=R=>{if(g===-2){g=-1,v=-1;for(let F=R-2;F>=0;F--){const x=this._computeIndentLevel(F);if(x>=0){g=F,v=x;break}}}if(b!==-1&&(b===-2||b<R-1)){b=-1,w=-1;for(let F=R;F<d;F++){const x=this._computeIndentLevel(F);if(x>=0){b=F,w=x;break}}}};let I=0,T=!0,P=0,A=!0,M=0,N=0;for(let R=0;T||A;R++){const F=i-R,x=i+R;R>1&&(F<1||F<o)&&(T=!1),R>1&&(x>d||x>r)&&(A=!1),R>5e4&&(T=!1,A=!1);let W=-1;if(T&&F>=1){const U=this._computeIndentLevel(F-1);U>=0?(l=F-1,u=U,W=Math.ceil(U/this.textModel.getOptions().indentSize)):(C(F),W=this._getIndentLevelForWhitespaceLine(n,a,u))}let z=-1;if(A&&x<=d){const U=this._computeIndentLevel(x-1);U>=0?(g=x-1,v=U,z=Math.ceil(U/this.textModel.getOptions().indentSize)):(E(x),z=this._getIndentLevelForWhitespaceLine(n,v,w))}if(R===0){N=W;continue}if(R===1){if(x<=d&&z>=0&&N+1===z){T=!1,I=x,P=x,M=z;continue}if(F>=1&&W>=0&&W-1===N){A=!1,I=F,P=F,M=W;continue}if(I=i,P=i,M=N,M===0)return{startLineNumber:I,endLineNumber:P,indent:M}}T&&(W>=M?I=F:T=!1),A&&(z>=M?P=x:A=!1)}return{startLineNumber:I,endLineNumber:P,indent:M}}getLinesBracketGuides(i,o,r,d){var h;const n=[];for(let g=i;g<=o;g++)n.push([]);const c=!0,a=this.textModel.bracketPairs.getBracketPairsInRangeWithMinIndentation(new D.Range(i,1,o,this.textModel.getLineMaxColumn(o))).toArray();let l;if(r&&a.length>0){const g=(i<=r.lineNumber&&r.lineNumber<=o?a:this.textModel.bracketPairs.getBracketPairsInRange(D.Range.fromPositions(r)).toArray()).filter(v=>D.Range.strictContainsPosition(v.range,r));l=(h=(0,L.findLast)(g,v=>c||v.range.startLineNumber!==v.range.endLineNumber))===null||h===void 0?void 0:h.range}const u=this.textModel.getOptions().bracketPairColorizationOptions.independentColorPoolPerBracketType,C=new s;for(const g of a){if(!g.closingBracketRange)continue;const v=l&&g.range.equalsRange(l);if(!v&&!d.includeInactive)continue;const b=C.getInlineClassName(g.nestingLevel,g.nestingLevelOfEqualBracketType,u)+(d.highlightActive&&v?" "+C.activeClassName:""),w=g.openingBracketRange.getStartPosition(),E=g.closingBracketRange.getStartPosition(),I=d.horizontalGuides===_.HorizontalGuidesState.Enabled||d.horizontalGuides===_.HorizontalGuidesState.EnabledForActive&&v;if(g.range.startLineNumber===g.range.endLineNumber){c&&I&&n[g.range.startLineNumber-i].push(new _.IndentGuide(-1,g.openingBracketRange.getEndPosition().column,b,new _.IndentGuideHorizontalLine(!1,E.column),-1,-1));continue}const T=this.getVisibleColumnFromPosition(E),P=this.getVisibleColumnFromPosition(g.openingBracketRange.getStartPosition()),A=Math.min(P,T,g.minVisibleColumnIndentation+1);let M=!1;k.firstNonWhitespaceIndex(this.textModel.getLineContent(g.closingBracketRange.startLineNumber))<g.closingBracketRange.startColumn-1&&(M=!0);const F=Math.max(w.lineNumber,i),x=Math.min(E.lineNumber,o),W=M?1:0;for(let z=F;z<x+W;z++)n[z-i].push(new _.IndentGuide(A,-1,b,null,z===w.lineNumber?w.column:-1,z===E.lineNumber?E.column:-1));I&&(w.lineNumber>=i&&P>A&&n[w.lineNumber-i].push(new _.IndentGuide(A,-1,b,new _.IndentGuideHorizontalLine(!1,w.column),-1,-1)),E.lineNumber<=o&&T>A&&n[E.lineNumber-i].push(new _.IndentGuide(A,-1,b,new _.IndentGuideHorizontalLine(!M,E.column),-1,-1)))}for(const g of n)g.sort((v,b)=>v.visibleColumn-b.visibleColumn);return n}getVisibleColumnFromPosition(i){return y.CursorColumns.visibleColumnFromColumn(this.textModel.getLineContent(i.lineNumber),i.column,this.textModel.getOptions().tabSize)+1}getLinesIndentGuides(i,o){this.assertNotDisposed();const r=this.textModel.getLineCount();if(i<1||i>r)throw new Error("Illegal value for startLineNumber");if(o<1||o>r)throw new Error("Illegal value for endLineNumber");const d=this.textModel.getOptions(),h=this.getLanguageConfiguration(this.textModel.getLanguageId()).foldingRules,n=!!(h&&h.offSide),c=new Array(o-i+1);let a=-2,l=-1,u=-2,C=-1;for(let g=i;g<=o;g++){const v=g-i,b=this._computeIndentLevel(g-1);if(b>=0){a=g-1,l=b,c[v]=Math.ceil(b/d.indentSize);continue}if(a===-2){a=-1,l=-1;for(let w=g-2;w>=0;w--){const E=this._computeIndentLevel(w);if(E>=0){a=w,l=E;break}}}if(u!==-1&&(u===-2||u<g-1)){u=-1,C=-1;for(let w=g;w<r;w++){const E=this._computeIndentLevel(w);if(E>=0){u=w,C=E;break}}}c[v]=this._getIndentLevelForWhitespaceLine(n,l,C)}return c}_getIndentLevelForWhitespaceLine(i,o,r){const d=this.textModel.getOptions();return o===-1||r===-1?0:o<r?1+Math.floor(o/d.indentSize):o===r||i?Math.ceil(r/d.indentSize):1+Math.floor(r/d.indentSize)}}e.GuidesTextModelPart=p;class s{constructor(){this.activeClassName="indent-active"}getInlineClassName(i,o,r){return this.getInlineClassNameOfLevel(r?o:i)}getInlineClassNameOfLevel(i){return`bracket-indent-guide lvl-${i%30}`}}e.BracketPairGuidesClassNames=s}),define(X[509],ee([1,0,6,2]),function(q,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TokenizationRegistry=void 0;class y{constructor(){this._tokenizationSupports=new Map,this._factories=new Map,this._onDidChange=new L.Emitter,this.onDidChange=this._onDidChange.event,this._colorMap=null}handleChange(m){this._onDidChange.fire({changedLanguages:m,changedColorMap:!1})}register(m,_){return this._tokenizationSupports.set(m,_),this.handleChange([m]),(0,k.toDisposable)(()=>{this._tokenizationSupports.get(m)===_&&(this._tokenizationSupports.delete(m),this.handleChange([m]))})}get(m){return this._tokenizationSupports.get(m)||null}registerFactory(m,_){var f;(f=this._factories.get(m))===null||f===void 0||f.dispose();const p=new D(this,m,_);return this._factories.set(m,p),(0,k.toDisposable)(()=>{const s=this._factories.get(m);!s||s!==p||(this._factories.delete(m),s.dispose())})}getOrCreate(m){return Le(this,void 0,void 0,function*(){const _=this.get(m);if(_)return _;const f=this._factories.get(m);return!f||f.isResolved?null:(yield f.resolve(),this.get(m))})}isResolved(m){if(this.get(m))return!0;const f=this._factories.get(m);return!!(!f||f.isResolved)}setColorMap(m){this._colorMap=m,this._onDidChange.fire({changedLanguages:Array.from(this._tokenizationSupports.keys()),changedColorMap:!0})}getColorMap(){return this._colorMap}getDefaultBackground(){return this._colorMap&&this._colorMap.length>2?this._colorMap[2]:null}}e.TokenizationRegistry=y;class D extends k.Disposable{get isResolved(){return this._isResolved}constructor(m,_,f){super(),this._registry=m,this._languageId=_,this._factory=f,this._isDisposed=!1,this._resolvePromise=null,this._isResolved=!1}dispose(){this._isDisposed=!0,super.dispose()}resolve(){return Le(this,void 0,void 0,function*(){return this._resolvePromise||(this._resolvePromise=this._create()),this._resolvePromise})}_create(){return Le(this,void 0,void 0,function*(){const m=yield this._factory.tokenizationSupport;this._isResolved=!0,m&&!this._isDisposed&&this._register(this._registry.register(this._languageId,m))})}}}),define(X[510],ee([1,0]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContiguousMultilineTokens=void 0;class L{get startLineNumber(){return this._startLineNumber}get endLineNumber(){return this._startLineNumber+this._tokens.length-1}constructor(y,D){this._startLineNumber=y,this._tokens=D}getLineTokens(y){return this._tokens[y-this._startLineNumber]}appendLineTokens(y){this._tokens.push(y)}}e.ContiguousMultilineTokens=L}),define(X[286],ee([1,0,510]),function(q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContiguousMultilineTokensBuilder=void 0;class k{constructor(){this._tokens=[]}add(D,S){if(this._tokens.length>0){const m=this._tokens[this._tokens.length-1];if(m.endLineNumber+1===D){m.appendLineTokens(S);return}}this._tokens.push(new L.ContiguousMultilineTokens(D,[S]))}finalize(){return this._tokens}}e.ContiguousMultilineTokensBuilder=k}),define(X[86],ee([1,0,124]),function(q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LineTokens=void 0;class k{static createEmpty(S,m){const _=k.defaultTokenMetadata,f=new Uint32Array(2);return f[0]=S.length,f[1]=_,new k(f,S,m)}constructor(S,m,_){this._lineTokensBrand=void 0,this._tokens=S,this._tokensCount=this._tokens.length>>>1,this._text=m,this._languageIdCodec=_}equals(S){return S instanceof k?this.slicedEquals(S,0,this._tokensCount):!1}slicedEquals(S,m,_){if(this._text!==S._text||this._tokensCount!==S._tokensCount)return!1;const f=m<<1,p=f+(_<<1);for(let s=f;s<p;s++)if(this._tokens[s]!==S._tokens[s])return!1;return!0}getLineContent(){return this._text}getCount(){return this._tokensCount}getStartOffset(S){return S>0?this._tokens[S-1<<1]:0}getMetadata(S){return this._tokens[(S<<1)+1]}getLanguageId(S){const m=this._tokens[(S<<1)+1],_=L.TokenMetadata.getLanguageId(m);return this._languageIdCodec.decodeLanguageId(_)}getStandardTokenType(S){const m=this._tokens[(S<<1)+1];return L.TokenMetadata.getTokenType(m)}getForeground(S){const m=this._tokens[(S<<1)+1];return L.TokenMetadata.getForeground(m)}getClassName(S){const m=this._tokens[(S<<1)+1];return L.TokenMetadata.getClassNameFromMetadata(m)}getInlineStyle(S,m){const _=this._tokens[(S<<1)+1];return L.TokenMetadata.getInlineStyleFromMetadata(_,m)}getPresentation(S){const m=this._tokens[(S<<1)+1];return L.TokenMetadata.getPresentationFromMetadata(m)}getEndOffset(S){return this._tokens[S<<1]}findTokenIndexAtOffset(S){return k.findIndexInTokensArray(this._tokens,S)}inflate(){return this}sliceAndInflate(S,m,_){return new y(this,S,m,_)}static convertToEndOffset(S,m){const f=(S.length>>>1)-1;for(let p=0;p<f;p++)S[p<<1]=S[p+1<<1];S[f<<1]=m}static findIndexInTokensArray(S,m){if(S.length<=2)return 0;let _=0,f=(S.length>>>1)-1;for(;_<f;){const p=_+Math.floor((f-_)/2),s=S[p<<1];if(s===m)return p+1;s<m?_=p+1:s>m&&(f=p)}return _}withInserted(S){if(S.length===0)return this;let m=0,_=0,f="";const p=new Array;let s=0;for(;;){const t=m<this._tokensCount?this._tokens[m<<1]:-1,i=_<S.length?S[_]:null;if(t!==-1&&(i===null||t<=i.offset)){f+=this._text.substring(s,t);const o=this._tokens[(m<<1)+1];p.push(f.length,o),m++,s=t}else if(i){if(i.offset>s){f+=this._text.substring(s,i.offset);const o=this._tokens[(m<<1)+1];p.push(f.length,o),s=i.offset}f+=i.text,p.push(f.length,i.tokenMetadata),_++}else break}return new k(new Uint32Array(p),f,this._languageIdCodec)}}e.LineTokens=k,k.defaultTokenMetadata=(0<<11|1<<15|2<<24)>>>0;class y{constructor(S,m,_,f){this._source=S,this._startOffset=m,this._endOffset=_,this._deltaOffset=f,this._firstTokenIndex=S.findTokenIndexAtOffset(m),this._tokensCount=0;for(let p=this._firstTokenIndex,s=S.getCount();p<s&&!(S.getStartOffset(p)>=_);p++)this._tokensCount++}getMetadata(S){return this._source.getMetadata(this._firstTokenIndex+S)}getLanguageId(S){return this._source.getLanguageId(this._firstTokenIndex+S)}getLineContent(){return this._source.getLineContent().substring(this._startOffset,this._endOffset)}equals(S){return S instanceof y?this._startOffset===S._startOffset&&this._endOffset===S._endOffset&&this._deltaOffset===S._deltaOffset&&this._source.slicedEquals(S._source,this._firstTokenIndex,this._tokensCount):!1}getCount(){return this._tokensCount}getForeground(S){return this._source.getForeground(this._firstTokenIndex+S)}getEndOffset(S){const m=this._source.getEndOffset(this._firstTokenIndex+S);return Math.min(this._endOffset,m)-this._startOffset+this._deltaOffset}getClassName(S){return this._source.getClassName(this._firstTokenIndex+S)}getInlineStyle(S,m){return this._source.getInlineStyle(this._firstTokenIndex+S,m)}getPresentation(S){return this._source.getPresentation(this._firstTokenIndex+S)}findTokenIndexAtOffset(S){return this._source.findTokenIndexAtOffset(S+this._startOffset-this._deltaOffset)-this._firstTokenIndex}}}),define(X[511],ee([1,0,86]),function(q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toUint32Array=e.ContiguousTokensEditing=e.EMPTY_LINE_TOKENS=void 0,e.EMPTY_LINE_TOKENS=new Uint32Array(0).buffer;class k{static deleteBeginning(S,m){return S===null||S===e.EMPTY_LINE_TOKENS?S:k.delete(S,0,m)}static deleteEnding(S,m){if(S===null||S===e.EMPTY_LINE_TOKENS)return S;const _=y(S),f=_[_.length-2];return k.delete(S,m,f)}static delete(S,m,_){if(S===null||S===e.EMPTY_LINE_TOKENS||m===_)return S;const f=y(S),p=f.length>>>1;if(m===0&&f[f.length-2]===_)return e.EMPTY_LINE_TOKENS;const s=L.LineTokens.findIndexInTokensArray(f,m),t=s>0?f[s-1<<1]:0,i=f[s<<1];if(_<i){const n=_-m;for(let c=s;c<p;c++)f[c<<1]-=n;return S}let o,r;t!==m?(f[s<<1]=m,o=s+1<<1,r=m):(o=s<<1,r=t);const d=_-m;for(let n=s+1;n<p;n++){const c=f[n<<1]-d;c>r&&(f[o++]=c,f[o++]=f[(n<<1)+1],r=c)}if(o===f.length)return S;const h=new Uint32Array(o);return h.set(f.subarray(0,o),0),h.buffer}static append(S,m){if(m===e.EMPTY_LINE_TOKENS)return S;if(S===e.EMPTY_LINE_TOKENS)return m;if(S===null)return S;if(m===null)return null;const _=y(S),f=y(m),p=f.length>>>1,s=new Uint32Array(_.length+f.length);s.set(_,0);let t=_.length;const i=_[_.length-2];for(let o=0;o<p;o++)s[t++]=f[o<<1]+i,s[t++]=f[(o<<1)+1];return s.buffer}static insert(S,m,_){if(S===null||S===e.EMPTY_LINE_TOKENS)return S;const f=y(S),p=f.length>>>1;let s=L.LineTokens.findIndexInTokensArray(f,m);s>0&&f[s-1<<1]===m&&s--;for(let t=s;t<p;t++)f[t<<1]+=_;return S}}e.ContiguousTokensEditing=k;function y(D){return D instanceof Uint32Array?D:new Uint32Array(D)}e.toUint32Array=y}),define(X[512],ee([1,0,16,11,511,86,124]),function(q,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContiguousTokensStore=void 0;class m{constructor(p){this._lineTokens=[],this._len=0,this._languageIdCodec=p}flush(){this._lineTokens=[],this._len=0}get hasTokens(){return this._lineTokens.length>0}getTokens(p,s,t){let i=null;if(s<this._len&&(i=this._lineTokens[s]),i!==null&&i!==y.EMPTY_LINE_TOKENS)return new D.LineTokens((0,y.toUint32Array)(i),t,this._languageIdCodec);const o=new Uint32Array(2);return o[0]=t.length,o[1]=_(this._languageIdCodec.encodeLanguageId(p)),new D.LineTokens(o,t,this._languageIdCodec)}static _massageTokens(p,s,t){const i=t?(0,y.toUint32Array)(t):null;if(s===0){let o=!1;if(i&&i.length>1&&(o=S.TokenMetadata.getLanguageId(i[1])!==p),!o)return y.EMPTY_LINE_TOKENS}if(!i||i.length===0){const o=new Uint32Array(2);return o[0]=s,o[1]=_(p),o.buffer}return i[i.length-2]=s,i.byteOffset===0&&i.byteLength===i.buffer.byteLength?i.buffer:i}_ensureLine(p){for(;p>=this._len;)this._lineTokens[this._len]=null,this._len++}_deleteLines(p,s){s!==0&&(p+s>this._len&&(s=this._len-p),this._lineTokens.splice(p,s),this._len-=s)}_insertLines(p,s){if(s===0)return;const t=[];for(let i=0;i<s;i++)t[i]=null;this._lineTokens=L.arrayInsert(this._lineTokens,p,t),this._len+=s}setTokens(p,s,t,i,o){const r=m._massageTokens(this._languageIdCodec.encodeLanguageId(p),t,i);this._ensureLine(s);const d=this._lineTokens[s];return this._lineTokens[s]=r,o?!m._equals(d,r):!1}static _equals(p,s){if(!p||!s)return!p&&!s;const t=(0,y.toUint32Array)(p),i=(0,y.toUint32Array)(s);if(t.length!==i.length)return!1;for(let o=0,r=t.length;o<r;o++)if(t[o]!==i[o])return!1;return!0}acceptEdit(p,s,t){this._acceptDeleteRange(p),this._acceptInsertText(new k.Position(p.startLineNumber,p.startColumn),s,t)}_acceptDeleteRange(p){const s=p.startLineNumber-1;if(s>=this._len)return;if(p.startLineNumber===p.endLineNumber){if(p.startColumn===p.endColumn)return;this._lineTokens[s]=y.ContiguousTokensEditing.delete(this._lineTokens[s],p.startColumn-1,p.endColumn-1);return}this._lineTokens[s]=y.ContiguousTokensEditing.deleteEnding(this._lineTokens[s],p.startColumn-1);const t=p.endLineNumber-1;let i=null;t<this._len&&(i=y.ContiguousTokensEditing.deleteBeginning(this._lineTokens[t],p.endColumn-1)),this._lineTokens[s]=y.ContiguousTokensEditing.append(this._lineTokens[s],i),this._deleteLines(p.startLineNumber,p.endLineNumber-p.startLineNumber)}_acceptInsertText(p,s,t){if(s===0&&t===0)return;const i=p.lineNumber-1;if(!(i>=this._len)){if(s===0){this._lineTokens[i]=y.ContiguousTokensEditing.insert(this._lineTokens[i],p.column-1,t);return}this._lineTokens[i]=y.ContiguousTokensEditing.deleteEnding(this._lineTokens[i],p.column-1),this._lineTokens[i]=y.ContiguousTokensEditing.insert(this._lineTokens[i],p.column-1,t),this._insertLines(p.lineNumber,s)}}setMultilineTokens(p,s){if(p.length===0)return{changes:[]};const t=[];for(let i=0,o=p.length;i<o;i++){const r=p[i];let d=0,h=0,n=!1;for(let c=r.startLineNumber;c<=r.endLineNumber;c++)n?(this.setTokens(s.getLanguageId(),c-1,s.getLineLength(c),r.getLineTokens(c),!1),h=c):this.setTokens(s.getLanguageId(),c-1,s.getLineLength(c),r.getLineTokens(c),!0)&&(n=!0,d=c,h=c);n&&t.push({fromLineNumber:d,toLineNumber:h})}return{changes:t}}}e.ContiguousTokensStore=m;function _(f){return(f<<0|0<<8|0<<11|1<<15|2<<24|1024)>>>0}}),define(X[513],ee([1,0,11,5,120]),function(q,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SparseLineTokens=e.SparseMultilineTokens=void 0;class D{static create(f,p){return new D(f,new S(p))}get startLineNumber(){return this._startLineNumber}get endLineNumber(){return this._endLineNumber}constructor(f,p){this._startLineNumber=f,this._tokens=p,this._endLineNumber=this._startLineNumber+this._tokens.getMaxDeltaLine()}toString(){return this._tokens.toString(this._startLineNumber)}_updateEndLineNumber(){this._endLineNumber=this._startLineNumber+this._tokens.getMaxDeltaLine()}isEmpty(){return this._tokens.isEmpty()}getLineTokens(f){return this._startLineNumber<=f&&f<=this._endLineNumber?this._tokens.getLineTokens(f-this._startLineNumber):null}getRange(){const f=this._tokens.getRange();return f&&new k.Range(this._startLineNumber+f.startLineNumber,f.startColumn,this._startLineNumber+f.endLineNumber,f.endColumn)}removeTokens(f){const p=f.startLineNumber-this._startLineNumber,s=f.endLineNumber-this._startLineNumber;this._startLineNumber+=this._tokens.removeTokens(p,f.startColumn-1,s,f.endColumn-1),this._updateEndLineNumber()}split(f){const p=f.startLineNumber-this._startLineNumber,s=f.endLineNumber-this._startLineNumber,[t,i,o]=this._tokens.split(p,f.startColumn-1,s,f.endColumn-1);return[new D(this._startLineNumber,t),new D(this._startLineNumber+o,i)]}applyEdit(f,p){const[s,t,i]=(0,y.countEOL)(p);this.acceptEdit(f,s,t,i,p.length>0?p.charCodeAt(0):0)}acceptEdit(f,p,s,t,i){this._acceptDeleteRange(f),this._acceptInsertText(new L.Position(f.startLineNumber,f.startColumn),p,s,t,i),this._updateEndLineNumber()}_acceptDeleteRange(f){if(f.startLineNumber===f.endLineNumber&&f.startColumn===f.endColumn)return;const p=f.startLineNumber-this._startLineNumber,s=f.endLineNumber-this._startLineNumber;if(s<0){const i=s-p;this._startLineNumber-=i;return}const t=this._tokens.getMaxDeltaLine();if(!(p>=t+1)){if(p<0&&s>=t+1){this._startLineNumber=0,this._tokens.clear();return}if(p<0){const i=-p;this._startLineNumber-=i,this._tokens.acceptDeleteRange(f.startColumn-1,0,0,s,f.endColumn-1)}else this._tokens.acceptDeleteRange(0,p,f.startColumn-1,s,f.endColumn-1)}}_acceptInsertText(f,p,s,t,i){if(p===0&&s===0)return;const o=f.lineNumber-this._startLineNumber;if(o<0){this._startLineNumber+=p;return}const r=this._tokens.getMaxDeltaLine();o>=r+1||this._tokens.acceptInsertText(o,f.column-1,p,s,t,i)}}e.SparseMultilineTokens=D;class S{constructor(f){this._tokens=f,this._tokenCount=f.length/4}toString(f){const p=[];for(let s=0;s<this._tokenCount;s++)p.push(`(${this._getDeltaLine(s)+f},${this._getStartCharacter(s)}-${this._getEndCharacter(s)})`);return`[${p.join(",")}]`}getMaxDeltaLine(){const f=this._getTokenCount();return f===0?-1:this._getDeltaLine(f-1)}getRange(){const f=this._getTokenCount();if(f===0)return null;const p=this._getStartCharacter(0),s=this._getDeltaLine(f-1),t=this._getEndCharacter(f-1);return new k.Range(0,p+1,s,t+1)}_getTokenCount(){return this._tokenCount}_getDeltaLine(f){return this._tokens[4*f]}_getStartCharacter(f){return this._tokens[4*f+1]}_getEndCharacter(f){return this._tokens[4*f+2]}isEmpty(){return this._getTokenCount()===0}getLineTokens(f){let p=0,s=this._getTokenCount()-1;for(;p<s;){const t=p+Math.floor((s-p)/2),i=this._getDeltaLine(t);if(i<f)p=t+1;else if(i>f)s=t-1;else{let o=t;for(;o>p&&this._getDeltaLine(o-1)===f;)o--;let r=t;for(;r<s&&this._getDeltaLine(r+1)===f;)r++;return new m(this._tokens.subarray(4*o,4*r+4))}}return this._getDeltaLine(p)===f?new m(this._tokens.subarray(4*p,4*p+4)):null}clear(){this._tokenCount=0}removeTokens(f,p,s,t){const i=this._tokens,o=this._tokenCount;let r=0,d=!1,h=0;for(let n=0;n<o;n++){const c=4*n,a=i[c],l=i[c+1],u=i[c+2],C=i[c+3];if((a>f||a===f&&u>=p)&&(a<s||a===s&&l<=t))d=!0;else{if(r===0&&(h=a),d){const g=4*r;i[g]=a-h,i[g+1]=l,i[g+2]=u,i[g+3]=C}r++}}return this._tokenCount=r,h}split(f,p,s,t){const i=this._tokens,o=this._tokenCount,r=[],d=[];let h=r,n=0,c=0;for(let a=0;a<o;a++){const l=4*a,u=i[l],C=i[l+1],g=i[l+2],v=i[l+3];if(u>f||u===f&&g>=p){if(u<s||u===s&&C<=t)continue;h!==d&&(h=d,n=0,c=u)}h[n++]=u-c,h[n++]=C,h[n++]=g,h[n++]=v}return[new S(new Uint32Array(r)),new S(new Uint32Array(d)),c]}acceptDeleteRange(f,p,s,t,i){const o=this._tokens,r=this._tokenCount,d=t-p;let h=0,n=!1;for(let c=0;c<r;c++){const a=4*c;let l=o[a],u=o[a+1],C=o[a+2];const g=o[a+3];if(l<p||l===p&&C<=s){h++;continue}else if(l===p&&u<s)l===t&&C>i?C-=i-s:C=s;else if(l===p&&u===s)if(l===t&&C>i)C-=i-s;else{n=!0;continue}else if(l<t||l===t&&u<i)if(l===t&&C>i)l=p,u=s,C=u+(C-i);else{n=!0;continue}else if(l>t){if(d===0&&!n){h=r;break}l-=d}else if(l===t&&u>=i)f&&l===0&&(u+=f,C+=f),l-=d,u-=i-s,C-=i-s;else throw new Error("Not possible!");const v=4*h;o[v]=l,o[v+1]=u,o[v+2]=C,o[v+3]=g,h++}this._tokenCount=h}acceptInsertText(f,p,s,t,i,o){const r=s===0&&t===1&&(o>=48&&o<=57||o>=65&&o<=90||o>=97&&o<=122),d=this._tokens,h=this._tokenCount;for(let n=0;n<h;n++){const c=4*n;let a=d[c],l=d[c+1],u=d[c+2];if(!(a<f||a===f&&u<p)){if(a===f&&u===p)if(r)u+=1;else continue;else if(a===f&&l<p&&p<u)s===0?u+=t:u=p;else{if(a===f&&l===p&&r)continue;if(a===f)if(a+=s,s===0)l+=t,u+=t;else{const C=u-l;l=i+(l-p),u=l+C}else a+=s}d[c]=a,d[c+1]=l,d[c+2]=u}}}}class m{constructor(f){this._tokens=f}getCount(){return this._tokens.length/4}getStartCharacter(f){return this._tokens[4*f+1]}getEndCharacter(f){return this._tokens[4*f+2]}getMetadata(f){return this._tokens[4*f+3]}}e.SparseLineTokens=m}),define(X[514],ee([1,0,16,86]),function(q,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SparseTokensStore=void 0;class y{constructor(S){this._pieces=[],this._isComplete=!1,this._languageIdCodec=S}flush(){this._pieces=[],this._isComplete=!1}isEmpty(){return this._pieces.length===0}set(S,m){this._pieces=S||[],this._isComplete=m}setPartial(S,m){let _=S;if(m.length>0){const p=m[0].getRange(),s=m[m.length-1].getRange();if(!p||!s)return S;_=S.plusRange(p).plusRange(s)}let f=null;for(let p=0,s=this._pieces.length;p<s;p++){const t=this._pieces[p];if(t.endLineNumber<_.startLineNumber)continue;if(t.startLineNumber>_.endLineNumber){f=f||{index:p};break}if(t.removeTokens(_),t.isEmpty()){this._pieces.splice(p,1),p--,s--;continue}if(t.endLineNumber<_.startLineNumber)continue;if(t.startLineNumber>_.endLineNumber){f=f||{index:p};continue}const[i,o]=t.split(_);if(i.isEmpty()){f=f||{index:p};continue}o.isEmpty()||(this._pieces.splice(p,1,i,o),p++,s++,f=f||{index:p})}return f=f||{index:this._pieces.length},m.length>0&&(this._pieces=L.arrayInsert(this._pieces,f.index,m)),_}isComplete(){return this._isComplete}addSparseTokens(S,m){if(m.getLineContent().length===0)return m;const _=this._pieces;if(_.length===0)return m;const f=y._findFirstPieceWithLine(_,S),p=_[f].getLineTokens(S);if(!p)return m;const s=m.getCount(),t=p.getCount();let i=0;const o=[];let r=0,d=0;const h=(n,c)=>{n!==d&&(d=n,o[r++]=n,o[r++]=c)};for(let n=0;n<t;n++){const c=p.getStartCharacter(n),a=p.getEndCharacter(n),l=p.getMetadata(n),u=((l&1?2048:0)|(l&2?4096:0)|(l&4?8192:0)|(l&8?16384:0)|(l&16?16744448:0)|(l&32?4278190080:0))>>>0,C=~u>>>0;for(;i<s&&m.getEndOffset(i)<=c;)h(m.getEndOffset(i),m.getMetadata(i)),i++;for(i<s&&m.getStartOffset(i)<c&&h(c,m.getMetadata(i));i<s&&m.getEndOffset(i)<a;)h(m.getEndOffset(i),m.getMetadata(i)&C|l&u),i++;if(i<s)h(a,m.getMetadata(i)&C|l&u),m.getEndOffset(i)===a&&i++;else{const g=Math.min(Math.max(0,i-1),s-1);h(a,m.getMetadata(g)&C|l&u)}}for(;i<s;)h(m.getEndOffset(i),m.getMetadata(i)),i++;return new k.LineTokens(new Uint32Array(o),m.getLineContent(),this._languageIdCodec)}static _findFirstPieceWithLine(S,m){let _=0,f=S.length-1;for(;_<f;){let p=_+Math.floor((f-_)/2);if(S[p].endLineNumber<m)_=p+1;else if(S[p].startLineNumber>m)f=p-1;else{for(;p>_&&S[p-1].startLineNumber<=m&&m<=S[p-1].endLineNumber;)p--;return p}}return _}acceptEdit(S,m,_,f,p){for(const s of this._pieces)s.acceptEdit(S,m,_,f,p)}}e.SparseTokensStore=y}),define(X[149],ee([1,0,2]),function(q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewEventHandler=void 0;class k extends L.Disposable{constructor(){super(),this._shouldRender=!0}shouldRender(){return this._shouldRender}forceShouldRender(){this._shouldRender=!0}setShouldRender(){this._shouldRender=!0}onDidRender(){this._shouldRender=!1}onCompositionStart(D){return!1}onCompositionEnd(D){return!1}onConfigurationChanged(D){return!1}onCursorStateChanged(D){return!1}onDecorationsChanged(D){return!1}onFlushed(D){return!1}onFocusChanged(D){return!1}onLanguageConfigurationChanged(D){return!1}onLineMappingChanged(D){return!1}onLinesChanged(D){return!1}onLinesDeleted(D){return!1}onLinesInserted(D){return!1}onRevealRangeRequest(D){return!1}onScrollChanged(D){return!1}onThemeChanged(D){return!1}onTokensChanged(D){return!1}onTokensColorsChanged(D){return!1}onZonesChanged(D){return!1}handleEvents(D){let S=!1;for(let m=0,_=D.length;m<_;m++){const f=D[m];switch(f.type){case 0:this.onCompositionStart(f)&&(S=!0);break;case 1:this.onCompositionEnd(f)&&(S=!0);break;case 2:this.onConfigurationChanged(f)&&(S=!0);break;case 3:this.onCursorStateChanged(f)&&(S=!0);break;case 4:this.onDecorationsChanged(f)&&(S=!0);break;case 5:this.onFlushed(f)&&(S=!0);break;case 6:this.onFocusChanged(f)&&(S=!0);break;case 7:this.onLanguageConfigurationChanged(f)&&(S=!0);break;case 8:this.onLineMappingChanged(f)&&(S=!0);break;case 9:this.onLinesChanged(f)&&(S=!0);break;case 10:this.onLinesDeleted(f)&&(S=!0);break;case 11:this.onLinesInserted(f)&&(S=!0);break;case 12:this.onRevealRangeRequest(f)&&(S=!0);break;case 13:this.onScrollChanged(f)&&(S=!0);break;case 15:this.onTokensChanged(f)&&(S=!0);break;case 14:this.onThemeChanged(f)&&(S=!0);break;case 16:this.onTokensColorsChanged(f)&&(S=!0);break;case 17:this.onZonesChanged(f)&&(S=!0);break;default:console.info("View received unknown event: "),console.info(f)}}S&&(this._shouldRender=!0)}}e.ViewEventHandler=k}),define(X[111],ee([1,0,149]),function(q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DynamicViewOverlay=void 0;class k extends L.ViewEventHandler{}e.DynamicViewOverlay=k}),define(X[52],ee([1,0,149]),function(q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PartFingerprints=e.ViewPart=void 0;class k extends L.ViewEventHandler{constructor(S){super(),this._context=S,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}}e.ViewPart=k;class y{static write(S,m){S.setAttribute("data-mprt",String(m))}static read(S){const m=S.getAttribute("data-mprt");return m===null?0:parseInt(m,10)}static collect(S,m){const _=[];let f=0;for(;S&&S!==document.body&&S!==m;)S.nodeType===S.ELEMENT_NODE&&(_[f++]=this.read(S)),S=S.parentElement;const p=new Uint8Array(f);for(let s=0;s<f;s++)p[s]=_[f-s-1];return p}}e.PartFingerprints=y}),define(X[515],ee([1,0,34,52,410]),function(q,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BlockDecorations=void 0;class y extends k.ViewPart{constructor(S){super(S),this.blocks=[],this.contentWidth=-1,this.contentLeft=0,this.domNode=(0,L.createFastDomNode)(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.domNode.setClassName("blockDecorations-container"),this.update()}update(){let S=!1;const _=this._context.configuration.options.get(141),f=_.contentWidth-_.verticalScrollbarWidth;this.contentWidth!==f&&(this.contentWidth=f,S=!0);const p=_.contentLeft;return this.contentLeft!==p&&(this.contentLeft=p,S=!0),S}dispose(){super.dispose()}onConfigurationChanged(S){return this.update()}onScrollChanged(S){return S.scrollTopChanged||S.scrollLeftChanged}onDecorationsChanged(S){return!0}onZonesChanged(S){return!0}prepareRender(S){}render(S){var m;let _=0;const f=S.getDecorationsInViewport();for(const p of f){if(!p.options.blockClassName)continue;let s=this.blocks[_];s||(s=this.blocks[_]=(0,L.createFastDomNode)(document.createElement("div")),this.domNode.appendChild(s));let t,i;p.options.blockIsAfterEnd?(t=S.getVerticalOffsetAfterLineNumber(p.range.endLineNumber,!1),i=S.getVerticalOffsetAfterLineNumber(p.range.endLineNumber,!0)):(t=S.getVerticalOffsetForLineNumber(p.range.startLineNumber,!0),i=p.range.isEmpty()&&!p.options.blockDoesNotCollapse?S.getVerticalOffsetForLineNumber(p.range.startLineNumber,!1):S.getVerticalOffsetAfterLineNumber(p.range.endLineNumber,!0));const[o,r,d,h]=(m=p.options.blockPadding)!==null&&m!==void 0?m:[0,0,0,0];s.setClassName("blockDecorations-block "+p.options.blockClassName),s.setLeft(this.contentLeft-h),s.setWidth(this.contentWidth+h+r),s.setTop(t-S.scrollTop-o),s.setHeight(i-t+o+d),_++}for(let p=_;p<this.blocks.length;p++)this.blocks[p].domNode.remove();this.blocks.length=_}}e.BlockDecorations=y}),define(X[516],ee([1,0,111,142,5,412]),function(q,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DecorationsOverlay=void 0;class D extends L.DynamicViewOverlay{constructor(m){super(),this._context=m;const _=this._context.configuration.options;this._lineHeight=_.get(64),this._typicalHalfwidthCharacterWidth=_.get(48).typicalHalfwidthCharacterWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(m){const _=this._context.configuration.options;return this._lineHeight=_.get(64),this._typicalHalfwidthCharacterWidth=_.get(48).typicalHalfwidthCharacterWidth,!0}onDecorationsChanged(m){return!0}onFlushed(m){return!0}onLinesChanged(m){return!0}onLinesDeleted(m){return!0}onLinesInserted(m){return!0}onScrollChanged(m){return m.scrollTopChanged||m.scrollWidthChanged}onZonesChanged(m){return!0}prepareRender(m){const _=m.getDecorationsInViewport();let f=[],p=0;for(let o=0,r=_.length;o<r;o++){const d=_[o];d.options.className&&(f[p++]=d)}f=f.sort((o,r)=>{if(o.options.zIndex<r.options.zIndex)return-1;if(o.options.zIndex>r.options.zIndex)return 1;const d=o.options.className,h=r.options.className;return d<h?-1:d>h?1:y.Range.compareRangesUsingStarts(o.range,r.range)});const s=m.visibleRange.startLineNumber,t=m.visibleRange.endLineNumber,i=[];for(let o=s;o<=t;o++){const r=o-s;i[r]=""}this._renderWholeLineDecorations(m,f,i),this._renderNormalDecorations(m,f,i),this._renderResult=i}_renderWholeLineDecorations(m,_,f){const p=String(this._lineHeight),s=m.visibleRange.startLineNumber,t=m.visibleRange.endLineNumber;for(let i=0,o=_.length;i<o;i++){const r=_[i];if(!r.options.isWholeLine)continue;const d='<div class="cdr '+r.options.className+'" style="left:0;width:100%;height:'+p+'px;"></div>',h=Math.max(r.range.startLineNumber,s),n=Math.min(r.range.endLineNumber,t);for(let c=h;c<=n;c++){const a=c-s;f[a]+=d}}}_renderNormalDecorations(m,_,f){var p;const s=String(this._lineHeight),t=m.visibleRange.startLineNumber;let i=null,o=!1,r=null,d=!1;for(let h=0,n=_.length;h<n;h++){const c=_[h];if(c.options.isWholeLine)continue;const a=c.options.className,l=!!c.options.showIfCollapsed;let u=c.range;if(l&&u.endColumn===1&&u.endLineNumber!==u.startLineNumber&&(u=new y.Range(u.startLineNumber,u.startColumn,u.endLineNumber-1,this._context.viewModel.getLineMaxColumn(u.endLineNumber-1))),i===a&&o===l&&y.Range.areIntersectingOrTouching(r,u)){r=y.Range.plusRange(r,u);continue}i!==null&&this._renderNormalDecoration(m,r,i,d,o,s,t,f),i=a,o=l,r=u,d=(p=c.options.shouldFillLineOnLineBreak)!==null&&p!==void 0?p:!1}i!==null&&this._renderNormalDecoration(m,r,i,d,o,s,t,f)}_renderNormalDecoration(m,_,f,p,s,t,i,o){const r=m.linesVisibleRangesForRange(_,f==="findMatch");if(r)for(let d=0,h=r.length;d<h;d++){const n=r[d];if(n.outsideRenderedLine)continue;const c=n.lineNumber-i;if(s&&n.ranges.length===1){const a=n.ranges[0];if(a.width<this._typicalHalfwidthCharacterWidth){const l=Math.round(a.left+a.width/2),u=Math.max(0,Math.round(l-this._typicalHalfwidthCharacterWidth/2));n.ranges[0]=new k.HorizontalRange(u,this._typicalHalfwidthCharacterWidth)}}for(let a=0,l=n.ranges.length;a<l;a++){const u=p&&n.continuesOnNextLine&&l===1,C=n.ranges[a],g='<div class="cdr '+f+'" style="left:'+String(C.left)+(u?"px;width:100%;height:":"px;width:"+String(C.width)+"px;height:")+t+'px;"></div>';o[c]+=g}}}render(m,_){if(!this._renderResult)return"";const f=_-m;return f<0||f>=this._renderResult.length?"":this._renderResult[f]}}e.DecorationsOverlay=D}),define(X[209],ee([1,0,34,16,111,52,5,413]),function(q,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GlyphMarginWidgets=e.DedupOverlay=e.VisibleLineDecorationsToRender=e.LineDecorationToRender=e.DecorationToRender=void 0;class m{constructor(d,h,n,c){this._decorationToRenderBrand=void 0,this.startLineNumber=+d,this.endLineNumber=+h,this.className=String(n),this.zIndex=c??0}}e.DecorationToRender=m;class _{constructor(d,h){this.className=d,this.zIndex=h}}e.LineDecorationToRender=_;class f{constructor(){this.decorations=[]}add(d){this.decorations.push(d)}getDecorations(){return this.decorations}}e.VisibleLineDecorationsToRender=f;class p extends y.DynamicViewOverlay{_render(d,h,n){const c=[];for(let u=d;u<=h;u++){const C=u-d;c[C]=new f}if(n.length===0)return c;n.sort((u,C)=>u.className===C.className?u.startLineNumber===C.startLineNumber?u.endLineNumber-C.endLineNumber:u.startLineNumber-C.startLineNumber:u.className<C.className?-1:1);let a=null,l=0;for(let u=0,C=n.length;u<C;u++){const g=n[u],v=g.className,b=g.zIndex;let w=Math.max(g.startLineNumber,d)-d;const E=Math.min(g.endLineNumber,h)-d;a===v?(w=Math.max(l+1,w),l=Math.max(l,E)):(a=v,l=E);for(let I=w;I<=l;I++)c[I].add(new _(v,b))}return c}}e.DedupOverlay=p;class s extends D.ViewPart{constructor(d){super(d),this._widgets={},this._context=d;const h=this._context.configuration.options,n=h.get(141);this.domNode=(0,L.createFastDomNode)(document.createElement("div")),this.domNode.setClassName("glyph-margin-widgets"),this.domNode.setPosition("absolute"),this.domNode.setTop(0),this._lineHeight=h.get(64),this._glyphMargin=h.get(55),this._glyphMarginLeft=n.glyphMarginLeft,this._glyphMarginWidth=n.glyphMarginWidth,this._glyphMarginDecorationLaneCount=n.glyphMarginDecorationLaneCount,this._managedDomNodes=[],this._decorationGlyphsToRender=[]}dispose(){this._managedDomNodes=[],this._decorationGlyphsToRender=[],this._widgets={},super.dispose()}getWidgets(){return Object.values(this._widgets)}onConfigurationChanged(d){const h=this._context.configuration.options,n=h.get(141);return this._lineHeight=h.get(64),this._glyphMargin=h.get(55),this._glyphMarginLeft=n.glyphMarginLeft,this._glyphMarginWidth=n.glyphMarginWidth,this._glyphMarginDecorationLaneCount=n.glyphMarginDecorationLaneCount,!0}onDecorationsChanged(d){return!0}onFlushed(d){return!0}onLinesChanged(d){return!0}onLinesDeleted(d){return!0}onLinesInserted(d){return!0}onScrollChanged(d){return d.scrollTopChanged}onZonesChanged(d){return!0}addWidget(d){const h=(0,L.createFastDomNode)(d.getDomNode());this._widgets[d.getId()]={widget:d,preference:d.getPosition(),domNode:h,renderInfo:null},h.setPosition("absolute"),h.setDisplay("none"),h.setAttribute("widgetId",d.getId()),this.domNode.appendChild(h),this.setShouldRender()}setWidgetPosition(d,h){const n=this._widgets[d.getId()];return n.preference.lane===h.lane&&n.preference.zIndex===h.zIndex&&S.Range.equalsRange(n.preference.range,h.range)?!1:(n.preference=h,this.setShouldRender(),!0)}removeWidget(d){var h;const n=d.getId();if(this._widgets[n]){const a=this._widgets[n].domNode.domNode;delete this._widgets[n],(h=a.parentNode)===null||h===void 0||h.removeChild(a),this.setShouldRender()}}_collectDecorationBasedGlyphRenderRequest(d,h){var n,c,a;const l=d.visibleRange.startLineNumber,u=d.visibleRange.endLineNumber,C=d.getDecorationsInViewport();for(const g of C){const v=g.options.glyphMarginClassName;if(!v)continue;const b=Math.max(g.range.startLineNumber,l),w=Math.min(g.range.endLineNumber,u),E=Math.min((c=(n=g.options.glyphMargin)===null||n===void 0?void 0:n.position)!==null&&c!==void 0?c:1,this._glyphMarginDecorationLaneCount),I=(a=g.options.zIndex)!==null&&a!==void 0?a:0;for(let T=b;T<=w;T++)h.push(new t(T,E,I,v))}}_collectWidgetBasedGlyphRenderRequest(d,h){const n=d.visibleRange.startLineNumber,c=d.visibleRange.endLineNumber;for(const a of Object.values(this._widgets)){const l=a.preference.range;if(l.endLineNumber<n||l.startLineNumber>c)continue;const u=Math.max(l.startLineNumber,n),C=Math.min(a.preference.lane,this._glyphMarginDecorationLaneCount);h.push(new i(u,C,a.preference.zIndex,a))}}_collectSortedGlyphRenderRequests(d){const h=[];return this._collectDecorationBasedGlyphRenderRequest(d,h),this._collectWidgetBasedGlyphRenderRequest(d,h),h.sort((n,c)=>n.lineNumber===c.lineNumber?n.lane===c.lane?n.zIndex===c.zIndex?c.type===n.type?n.type===0&&c.type===0?n.className<c.className?-1:1:0:c.type-n.type:c.zIndex-n.zIndex:n.lane-c.lane:n.lineNumber-c.lineNumber),h}prepareRender(d){if(!this._glyphMargin){this._decorationGlyphsToRender=[];return}for(const c of Object.values(this._widgets))c.renderInfo=null;const h=new k.ArrayQueue(this._collectSortedGlyphRenderRequests(d)),n=[];for(;h.length>0;){const c=h.peek();if(!c)break;const a=h.takeWhile(u=>u.lineNumber===c.lineNumber&&u.lane===c.lane);if(!a||a.length===0)break;const l=a[0];if(l.type===0){const u=[];for(const C of a){if(C.zIndex!==l.zIndex||C.type!==l.type)break;(u.length===0||u[u.length-1]!==C.className)&&u.push(C.className)}n.push(l.accept(u.join(" ")))}else l.widget.renderInfo={lineNumber:l.lineNumber,lane:l.lane}}this._decorationGlyphsToRender=n}render(d){if(!this._glyphMargin){for(const n of Object.values(this._widgets))n.domNode.setDisplay("none");for(;this._managedDomNodes.length>0;){const n=this._managedDomNodes.pop();n?.domNode.remove()}return}const h=Math.round(this._glyphMarginWidth/this._glyphMarginDecorationLaneCount);for(const n of Object.values(this._widgets))if(!n.renderInfo)n.domNode.setDisplay("none");else{const c=d.viewportData.relativeVerticalOffset[n.renderInfo.lineNumber-d.viewportData.startLineNumber],a=this._glyphMarginLeft+(n.renderInfo.lane-1)*this._lineHeight;n.domNode.setDisplay("block"),n.domNode.setTop(c),n.domNode.setLeft(a),n.domNode.setWidth(h),n.domNode.setHeight(this._lineHeight)}for(let n=0;n<this._decorationGlyphsToRender.length;n++){const c=this._decorationGlyphsToRender[n],a=d.viewportData.relativeVerticalOffset[c.lineNumber-d.viewportData.startLineNumber],l=this._glyphMarginLeft+(c.lane-1)*this._lineHeight;let u;n<this._managedDomNodes.length?u=this._managedDomNodes[n]:(u=(0,L.createFastDomNode)(document.createElement("div")),this._managedDomNodes.push(u),this.domNode.appendChild(u)),u.setClassName("cgmr codicon "+c.combinedClassName),u.setPosition("absolute"),u.setTop(a),u.setLeft(l),u.setWidth(h),u.setHeight(this._lineHeight)}for(;this._managedDomNodes.length>this._decorationGlyphsToRender.length;){const n=this._managedDomNodes.pop();n?.domNode.remove()}}}e.GlyphMarginWidgets=s;class t{constructor(d,h,n,c){this.lineNumber=d,this.lane=h,this.zIndex=n,this.className=c,this.type=0}accept(d){return new o(this.lineNumber,this.lane,d)}}class i{constructor(d,h,n,c){this.lineNumber=d,this.lane=h,this.zIndex=n,this.widget=c,this.type=1}}class o{constructor(d,h,n){this.lineNumber=d,this.lane=h,this.combinedClassName=n}}}),define(X[517],ee([1,0,209,417]),function(q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LinesDecorationsOverlay=void 0;class k extends L.DedupOverlay{constructor(D){super(),this._context=D;const m=this._context.configuration.options.get(141);this._decorationsLeft=m.decorationsLeft,this._decorationsWidth=m.decorationsWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(D){const m=this._context.configuration.options.get(141);return this._decorationsLeft=m.decorationsLeft,this._decorationsWidth=m.decorationsWidth,!0}onDecorationsChanged(D){return!0}onFlushed(D){return!0}onLinesChanged(D){return!0}onLinesDeleted(D){return!0}onLinesInserted(D){return!0}onScrollChanged(D){return D.scrollTopChanged}onZonesChanged(D){return!0}_getDecorations(D){const S=D.getDecorationsInViewport(),m=[];let _=0;for(let f=0,p=S.length;f<p;f++){const s=S[f],t=s.options.linesDecorationsClassName,i=s.options.zIndex;t&&(m[_++]=new L.DecorationToRender(s.range.startLineNumber,s.range.endLineNumber,t,i));const o=s.options.firstLineDecorationClassName;o&&(m[_++]=new L.DecorationToRender(s.range.startLineNumber,s.range.startLineNumber,o,i))}return m}prepareRender(D){const S=D.visibleRange.startLineNumber,m=D.visibleRange.endLineNumber,_=this._render(S,m,this._getDecorations(D)),f=this._decorationsLeft.toString(),p=this._decorationsWidth.toString(),s='" style="left:'+f+"px;width:"+p+'px;"></div>',t=[];for(let i=S;i<=m;i++){const o=i-S,r=_[o].getDecorations();let d="";for(const h of r)d+='<div class="cldr '+h.className+s;t[o]=d}this._renderResult=t}render(D,S){return this._renderResult?this._renderResult[S-D]:""}}e.LinesDecorationsOverlay=k}),define(X[287],ee([1,0,34,52,418]),function(q,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Margin=void 0;class y extends k.ViewPart{constructor(S){super(S);const m=this._context.configuration.options,_=m.get(141);this._canUseLayerHinting=!m.get(30),this._contentLeft=_.contentLeft,this._glyphMarginLeft=_.glyphMarginLeft,this._glyphMarginWidth=_.glyphMarginWidth,this._domNode=(0,L.createFastDomNode)(document.createElement("div")),this._domNode.setClassName(y.OUTER_CLASS_NAME),this._domNode.setPosition("absolute"),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._glyphMarginBackgroundDomNode=(0,L.createFastDomNode)(document.createElement("div")),this._glyphMarginBackgroundDomNode.setClassName(y.CLASS_NAME),this._domNode.appendChild(this._glyphMarginBackgroundDomNode)}dispose(){super.dispose()}getDomNode(){return this._domNode}onConfigurationChanged(S){const m=this._context.configuration.options,_=m.get(141);return this._canUseLayerHinting=!m.get(30),this._contentLeft=_.contentLeft,this._glyphMarginLeft=_.glyphMarginLeft,this._glyphMarginWidth=_.glyphMarginWidth,!0}onScrollChanged(S){return super.onScrollChanged(S)||S.scrollTopChanged}prepareRender(S){}render(S){this._domNode.setLayerHinting(this._canUseLayerHinting),this._domNode.setContain("strict");const m=S.scrollTop-S.bigNumbersDelta;this._domNode.setTop(-m);const _=Math.min(S.scrollHeight,1e6);this._domNode.setHeight(_),this._domNode.setWidth(this._contentLeft),this._glyphMarginBackgroundDomNode.setLeft(this._glyphMarginLeft),this._glyphMarginBackgroundDomNode.setWidth(this._glyphMarginWidth),this._glyphMarginBackgroundDomNode.setHeight(_)}}e.Margin=y,y.CLASS_NAME="glyph-margin",y.OUTER_CLASS_NAME="margin"}),define(X[518],ee([1,0,209,419]),function(q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarginViewLineDecorationsOverlay=void 0;class k extends L.DedupOverlay{constructor(D){super(),this._context=D,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(D){return!0}onDecorationsChanged(D){return!0}onFlushed(D){return!0}onLinesChanged(D){return!0}onLinesDeleted(D){return!0}onLinesInserted(D){return!0}onScrollChanged(D){return D.scrollTopChanged}onZonesChanged(D){return!0}_getDecorations(D){const S=D.getDecorationsInViewport(),m=[];let _=0;for(let f=0,p=S.length;f<p;f++){const s=S[f],t=s.options.marginClassName,i=s.options.zIndex;t&&(m[_++]=new L.DecorationToRender(s.range.startLineNumber,s.range.endLineNumber,t,i))}return m}prepareRender(D){const S=D.visibleRange.startLineNumber,m=D.visibleRange.endLineNumber,_=this._render(S,m,this._getDecorations(D)),f=[];for(let p=S;p<=m;p++){const s=p-S,t=_[s].getDecorations();let i="";for(const o of t)i+='<div class="cmdr '+o.className+'" style=""></div>';f[s]=i}this._renderResult=f}render(D,S){return this._renderResult?this._renderResult[S-D]:""}}e.MarginViewLineDecorationsOverlay=k}),define(X[519],ee([1,0,34,52,421]),function(q,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewOverlayWidgets=void 0;class y extends k.ViewPart{constructor(S){super(S);const _=this._context.configuration.options.get(141);this._widgets={},this._verticalScrollbarWidth=_.verticalScrollbarWidth,this._minimapWidth=_.minimap.minimapWidth,this._horizontalScrollbarHeight=_.horizontalScrollbarHeight,this._editorHeight=_.height,this._editorWidth=_.width,this._domNode=(0,L.createFastDomNode)(document.createElement("div")),k.PartFingerprints.write(this._domNode,4),this._domNode.setClassName("overlayWidgets")}dispose(){super.dispose(),this._widgets={}}getDomNode(){return this._domNode}onConfigurationChanged(S){const _=this._context.configuration.options.get(141);return this._verticalScrollbarWidth=_.verticalScrollbarWidth,this._minimapWidth=_.minimap.minimapWidth,this._horizontalScrollbarHeight=_.horizontalScrollbarHeight,this._editorHeight=_.height,this._editorWidth=_.width,!0}addWidget(S){const m=(0,L.createFastDomNode)(S.getDomNode());this._widgets[S.getId()]={widget:S,preference:null,domNode:m},m.setPosition("absolute"),m.setAttribute("widgetId",S.getId()),this._domNode.appendChild(m),this.setShouldRender()}setWidgetPosition(S,m){const _=this._widgets[S.getId()];return _.preference===m?!1:(_.preference=m,this.setShouldRender(),!0)}removeWidget(S){const m=S.getId();if(this._widgets.hasOwnProperty(m)){const f=this._widgets[m].domNode.domNode;delete this._widgets[m],f.parentNode.removeChild(f),this.setShouldRender()}}_renderWidget(S){const m=S.domNode;if(S.preference===null){m.setTop("");return}if(S.preference===0)m.setTop(0),m.setRight(2*this._verticalScrollbarWidth+this._minimapWidth);else if(S.preference===1){const _=m.domNode.clientHeight;m.setTop(this._editorHeight-_-2*this._horizontalScrollbarHeight),m.setRight(2*this._verticalScrollbarWidth+this._minimapWidth)}else S.preference===2&&(m.setTop(0),m.domNode.style.right="50%")}prepareRender(S){}render(S){this._domNode.setWidth(this._editorWidth);const m=Object.keys(this._widgets);for(let _=0,f=m.length;_<f;_++){const p=m[_];this._renderWidget(this._widgets[p])}}}e.ViewOverlayWidgets=y}),define(X[520],ee([1,0,34,52,422]),function(q,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Rulers=void 0;class y extends k.ViewPart{constructor(S){super(S),this.domNode=(0,L.createFastDomNode)(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.domNode.setClassName("view-rulers"),this._renderedRulers=[];const m=this._context.configuration.options;this._rulers=m.get(99),this._typicalHalfwidthCharacterWidth=m.get(48).typicalHalfwidthCharacterWidth}dispose(){super.dispose()}onConfigurationChanged(S){const m=this._context.configuration.options;return this._rulers=m.get(99),this._typicalHalfwidthCharacterWidth=m.get(48).typicalHalfwidthCharacterWidth,!0}onScrollChanged(S){return S.scrollHeightChanged}prepareRender(S){}_ensureRulersCount(){const S=this._renderedRulers.length,m=this._rulers.length;if(S===m)return;if(S<m){const{tabSize:f}=this._context.viewModel.model.getOptions(),p=f;let s=m-S;for(;s>0;){const t=(0,L.createFastDomNode)(document.createElement("div"));t.setClassName("view-ruler"),t.setWidth(p),this.domNode.appendChild(t),this._renderedRulers.push(t),s--}return}let _=S-m;for(;_>0;){const f=this._renderedRulers.pop();this.domNode.removeChild(f),_--}}render(S){this._ensureRulersCount();for(let m=0,_=this._rulers.length;m<_;m++){const f=this._renderedRulers[m],p=this._rulers[m];f.setBoxShadow(p.color?`1px 0 0 0 ${p.color} inset`:""),f.setHeight(Math.min(S.scrollHeight,1e6)),f.setLeft(p.column*this._typicalHalfwidthCharacterWidth)}}}e.Rulers=y}),define(X[521],ee([1,0,34,52,423]),function(q,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ScrollDecorationViewPart=void 0;class y extends k.ViewPart{constructor(S){super(S),this._scrollTop=0,this._width=0,this._updateWidth(),this._shouldShow=!1;const _=this._context.configuration.options.get(100);this._useShadows=_.useShadows,this._domNode=(0,L.createFastDomNode)(document.createElement("div")),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true")}dispose(){super.dispose()}_updateShouldShow(){const S=this._useShadows&&this._scrollTop>0;return this._shouldShow!==S?(this._shouldShow=S,!0):!1}getDomNode(){return this._domNode}_updateWidth(){const m=this._context.configuration.options.get(141);m.minimap.renderMinimap===0||m.minimap.minimapWidth>0&&m.minimap.minimapLeft===0?this._width=m.width:this._width=m.width-m.verticalScrollbarWidth}onConfigurationChanged(S){const _=this._context.configuration.options.get(100);return this._useShadows=_.useShadows,this._updateWidth(),this._updateShouldShow(),!0}onScrollChanged(S){return this._scrollTop=S.scrollTop,this._updateShouldShow()}prepareRender(S){}render(S){this._domNode.setWidth(this._width),this._domNode.setClassName(this._shouldShow?"scroll-decoration":"")}}e.ScrollDecorationViewPart=y}),define(X[522],ee([1,0,34,12,52,11]),function(q,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewZones=void 0;const S=()=>{throw new Error("Invalid change accessor")};class m extends y.ViewPart{constructor(p){super(p);const s=this._context.configuration.options,t=s.get(141);this._lineHeight=s.get(64),this._contentWidth=t.contentWidth,this._contentLeft=t.contentLeft,this.domNode=(0,L.createFastDomNode)(document.createElement("div")),this.domNode.setClassName("view-zones"),this.domNode.setPosition("absolute"),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.marginDomNode=(0,L.createFastDomNode)(document.createElement("div")),this.marginDomNode.setClassName("margin-view-zones"),this.marginDomNode.setPosition("absolute"),this.marginDomNode.setAttribute("role","presentation"),this.marginDomNode.setAttribute("aria-hidden","true"),this._zones={}}dispose(){super.dispose(),this._zones={}}_recomputeWhitespacesProps(){const p=this._context.viewLayout.getWhitespaces(),s=new Map;for(const i of p)s.set(i.id,i);let t=!1;return this._context.viewModel.changeWhitespace(i=>{const o=Object.keys(this._zones);for(let r=0,d=o.length;r<d;r++){const h=o[r],n=this._zones[h],c=this._computeWhitespaceProps(n.delegate);n.isInHiddenArea=c.isInHiddenArea;const a=s.get(h);a&&(a.afterLineNumber!==c.afterViewLineNumber||a.height!==c.heightInPx)&&(i.changeOneWhitespace(h,c.afterViewLineNumber,c.heightInPx),this._safeCallOnComputedHeight(n.delegate,c.heightInPx),t=!0)}}),t}onConfigurationChanged(p){const s=this._context.configuration.options,t=s.get(141);return this._lineHeight=s.get(64),this._contentWidth=t.contentWidth,this._contentLeft=t.contentLeft,p.hasChanged(64)&&this._recomputeWhitespacesProps(),!0}onLineMappingChanged(p){return this._recomputeWhitespacesProps()}onLinesDeleted(p){return!0}onScrollChanged(p){return p.scrollTopChanged||p.scrollWidthChanged}onZonesChanged(p){return!0}onLinesInserted(p){return!0}_getZoneOrdinal(p){var s,t;return(t=(s=p.ordinal)!==null&&s!==void 0?s:p.afterColumn)!==null&&t!==void 0?t:1e4}_computeWhitespaceProps(p){if(p.afterLineNumber===0)return{isInHiddenArea:!1,afterViewLineNumber:0,heightInPx:this._heightInPixels(p),minWidthInPx:this._minWidthInPixels(p)};let s;if(typeof p.afterColumn<"u")s=this._context.viewModel.model.validatePosition({lineNumber:p.afterLineNumber,column:p.afterColumn});else{const r=this._context.viewModel.model.validatePosition({lineNumber:p.afterLineNumber,column:1}).lineNumber;s=new D.Position(r,this._context.viewModel.model.getLineMaxColumn(r))}let t;s.column===this._context.viewModel.model.getLineMaxColumn(s.lineNumber)?t=this._context.viewModel.model.validatePosition({lineNumber:s.lineNumber+1,column:1}):t=this._context.viewModel.model.validatePosition({lineNumber:s.lineNumber,column:s.column+1});const i=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(s,p.afterColumnAffinity,!0),o=p.showInHiddenAreas||this._context.viewModel.coordinatesConverter.modelPositionIsVisible(t);return{isInHiddenArea:!o,afterViewLineNumber:i.lineNumber,heightInPx:o?this._heightInPixels(p):0,minWidthInPx:this._minWidthInPixels(p)}}changeViewZones(p){let s=!1;return this._context.viewModel.changeWhitespace(t=>{const i={addZone:o=>(s=!0,this._addZone(t,o)),removeZone:o=>{o&&(s=this._removeZone(t,o)||s)},layoutZone:o=>{o&&(s=this._layoutZone(t,o)||s)}};_(p,i),i.addZone=S,i.removeZone=S,i.layoutZone=S}),s}_addZone(p,s){const t=this._computeWhitespaceProps(s),o={whitespaceId:p.insertWhitespace(t.afterViewLineNumber,this._getZoneOrdinal(s),t.heightInPx,t.minWidthInPx),delegate:s,isInHiddenArea:t.isInHiddenArea,isVisible:!1,domNode:(0,L.createFastDomNode)(s.domNode),marginDomNode:s.marginDomNode?(0,L.createFastDomNode)(s.marginDomNode):null};return this._safeCallOnComputedHeight(o.delegate,t.heightInPx),o.domNode.setPosition("absolute"),o.domNode.domNode.style.width="100%",o.domNode.setDisplay("none"),o.domNode.setAttribute("monaco-view-zone",o.whitespaceId),this.domNode.appendChild(o.domNode),o.marginDomNode&&(o.marginDomNode.setPosition("absolute"),o.marginDomNode.domNode.style.width="100%",o.marginDomNode.setDisplay("none"),o.marginDomNode.setAttribute("monaco-view-zone",o.whitespaceId),this.marginDomNode.appendChild(o.marginDomNode)),this._zones[o.whitespaceId]=o,this.setShouldRender(),o.whitespaceId}_removeZone(p,s){if(this._zones.hasOwnProperty(s)){const t=this._zones[s];return delete this._zones[s],p.removeWhitespace(t.whitespaceId),t.domNode.removeAttribute("monaco-visible-view-zone"),t.domNode.removeAttribute("monaco-view-zone"),t.domNode.domNode.parentNode.removeChild(t.domNode.domNode),t.marginDomNode&&(t.marginDomNode.removeAttribute("monaco-visible-view-zone"),t.marginDomNode.removeAttribute("monaco-view-zone"),t.marginDomNode.domNode.parentNode.removeChild(t.marginDomNode.domNode)),this.setShouldRender(),!0}return!1}_layoutZone(p,s){if(this._zones.hasOwnProperty(s)){const t=this._zones[s],i=this._computeWhitespaceProps(t.delegate);return t.isInHiddenArea=i.isInHiddenArea,p.changeOneWhitespace(t.whitespaceId,i.afterViewLineNumber,i.heightInPx),this._safeCallOnComputedHeight(t.delegate,i.heightInPx),this.setShouldRender(),!0}return!1}shouldSuppressMouseDownOnViewZone(p){return this._zones.hasOwnProperty(p)?!!this._zones[p].delegate.suppressMouseDown:!1}_heightInPixels(p){return typeof p.heightInPx=="number"?p.heightInPx:typeof p.heightInLines=="number"?this._lineHeight*p.heightInLines:this._lineHeight}_minWidthInPixels(p){return typeof p.minWidthInPx=="number"?p.minWidthInPx:0}_safeCallOnComputedHeight(p,s){if(typeof p.onComputedHeight=="function")try{p.onComputedHeight(s)}catch(t){(0,k.onUnexpectedError)(t)}}_safeCallOnDomNodeTop(p,s){if(typeof p.onDomNodeTop=="function")try{p.onDomNodeTop(s)}catch(t){(0,k.onUnexpectedError)(t)}}prepareRender(p){}render(p){const s=p.viewportData.whitespaceViewportData,t={};let i=!1;for(const r of s)this._zones[r.id].isInHiddenArea||(t[r.id]=r,i=!0);const o=Object.keys(this._zones);for(let r=0,d=o.length;r<d;r++){const h=o[r],n=this._zones[h];let c=0,a=0,l="none";t.hasOwnProperty(h)?(c=t[h].verticalOffset-p.bigNumbersDelta,a=t[h].height,l="block",n.isVisible||(n.domNode.setAttribute("monaco-visible-view-zone","true"),n.isVisible=!0),this._safeCallOnDomNodeTop(n.delegate,p.getScrolledTopFromAbsoluteTop(t[h].verticalOffset))):(n.isVisible&&(n.domNode.removeAttribute("monaco-visible-view-zone"),n.isVisible=!1),this._safeCallOnDomNodeTop(n.delegate,p.getScrolledTopFromAbsoluteTop(-1e6))),n.domNode.setTop(c),n.domNode.setHeight(a),n.domNode.setDisplay(l),n.marginDomNode&&(n.marginDomNode.setTop(c),n.marginDomNode.setHeight(a),n.marginDomNode.setDisplay(l))}i&&(this.domNode.setWidth(Math.max(p.scrollWidth,this._contentWidth)),this.marginDomNode.setWidth(this._contentLeft))}}e.ViewZones=m;function _(f,p){try{return f(p)}catch(s){(0,k.onUnexpectedError)(s)}}}),define(X[210],ee([1,0]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewZonesChangedEvent=e.ViewTokensColorsChangedEvent=e.ViewTokensChangedEvent=e.ViewThemeChangedEvent=e.ViewScrollChangedEvent=e.ViewRevealRangeRequestEvent=e.ViewLinesInsertedEvent=e.ViewLinesDeletedEvent=e.ViewLinesChangedEvent=e.ViewLineMappingChangedEvent=e.ViewLanguageConfigurationEvent=e.ViewFocusChangedEvent=e.ViewFlushedEvent=e.ViewDecorationsChangedEvent=e.ViewCursorStateChangedEvent=e.ViewConfigurationChangedEvent=e.ViewCompositionEndEvent=e.ViewCompositionStartEvent=void 0;class L{constructor(){this.type=0}}e.ViewCompositionStartEvent=L;class k{constructor(){this.type=1}}e.ViewCompositionEndEvent=k;class y{constructor(l){this.type=2,this._source=l}hasChanged(l){return this._source.hasChanged(l)}}e.ViewConfigurationChangedEvent=y;class D{constructor(l,u,C){this.selections=l,this.modelSelections=u,this.reason=C,this.type=3}}e.ViewCursorStateChangedEvent=D;class S{constructor(l){this.type=4,l?(this.affectsMinimap=l.affectsMinimap,this.affectsOverviewRuler=l.affectsOverviewRuler,this.affectsGlyphMargin=l.affectsGlyphMargin):(this.affectsMinimap=!0,this.affectsOverviewRuler=!0,this.affectsGlyphMargin=!0)}}e.ViewDecorationsChangedEvent=S;class m{constructor(){this.type=5}}e.ViewFlushedEvent=m;class _{constructor(l){this.type=6,this.isFocused=l}}e.ViewFocusChangedEvent=_;class f{constructor(){this.type=7}}e.ViewLanguageConfigurationEvent=f;class p{constructor(){this.type=8}}e.ViewLineMappingChangedEvent=p;class s{constructor(l,u){this.fromLineNumber=l,this.count=u,this.type=9}}e.ViewLinesChangedEvent=s;class t{constructor(l,u){this.type=10,this.fromLineNumber=l,this.toLineNumber=u}}e.ViewLinesDeletedEvent=t;class i{constructor(l,u){this.type=11,this.fromLineNumber=l,this.toLineNumber=u}}e.ViewLinesInsertedEvent=i;class o{constructor(l,u,C,g,v,b,w){this.source=l,this.minimalReveal=u,this.range=C,this.selections=g,this.verticalType=v,this.revealHorizontal=b,this.scrollType=w,this.type=12}}e.ViewRevealRangeRequestEvent=o;class r{constructor(l){this.type=13,this.scrollWidth=l.scrollWidth,this.scrollLeft=l.scrollLeft,this.scrollHeight=l.scrollHeight,this.scrollTop=l.scrollTop,this.scrollWidthChanged=l.scrollWidthChanged,this.scrollLeftChanged=l.scrollLeftChanged,this.scrollHeightChanged=l.scrollHeightChanged,this.scrollTopChanged=l.scrollTopChanged}}e.ViewScrollChangedEvent=r;class d{constructor(l){this.theme=l,this.type=14}}e.ViewThemeChangedEvent=d;class h{constructor(l){this.type=15,this.ranges=l}}e.ViewTokensChangedEvent=h;class n{constructor(){this.type=16}}e.ViewTokensColorsChangedEvent=n;class c{constructor(){this.type=17}}e.ViewZonesChangedEvent=c}),define(X[127],ee([1,0,9]),function(q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LineDecorationsNormalizer=e.DecorationSegment=e.LineDecoration=void 0;class k{constructor(_,f,p,s){this.startColumn=_,this.endColumn=f,this.className=p,this.type=s,this._lineDecorationBrand=void 0}static _equals(_,f){return _.startColumn===f.startColumn&&_.endColumn===f.endColumn&&_.className===f.className&&_.type===f.type}static equalsArr(_,f){const p=_.length,s=f.length;if(p!==s)return!1;for(let t=0;t<p;t++)if(!k._equals(_[t],f[t]))return!1;return!0}static extractWrapped(_,f,p){if(_.length===0)return _;const s=f+1,t=p+1,i=p-f,o=[];let r=0;for(const d of _)d.endColumn<=s||d.startColumn>=t||(o[r++]=new k(Math.max(1,d.startColumn-s+1),Math.min(i+1,d.endColumn-s+1),d.className,d.type));return o}static filter(_,f,p,s){if(_.length===0)return[];const t=[];let i=0;for(let o=0,r=_.length;o<r;o++){const d=_[o],h=d.range;if(h.endLineNumber<f||h.startLineNumber>f||h.isEmpty()&&(d.type===0||d.type===3))continue;const n=h.startLineNumber===f?h.startColumn:p,c=h.endLineNumber===f?h.endColumn:s;t[i++]=new k(n,c,d.inlineClassName,d.type)}return t}static _typeCompare(_,f){const p=[2,0,1,3];return p[_]-p[f]}static compare(_,f){if(_.startColumn!==f.startColumn)return _.startColumn-f.startColumn;if(_.endColumn!==f.endColumn)return _.endColumn-f.endColumn;const p=k._typeCompare(_.type,f.type);return p!==0?p:_.className!==f.className?_.className<f.className?-1:1:0}}e.LineDecoration=k;class y{constructor(_,f,p,s){this.startOffset=_,this.endOffset=f,this.className=p,this.metadata=s}}e.DecorationSegment=y;class D{constructor(){this.stopOffsets=[],this.classNames=[],this.metadata=[],this.count=0}static _metadata(_){let f=0;for(let p=0,s=_.length;p<s;p++)f|=_[p];return f}consumeLowerThan(_,f,p){for(;this.count>0&&this.stopOffsets[0]<_;){let s=0;for(;s+1<this.count&&this.stopOffsets[s]===this.stopOffsets[s+1];)s++;p.push(new y(f,this.stopOffsets[s],this.classNames.join(" "),D._metadata(this.metadata))),f=this.stopOffsets[s]+1,this.stopOffsets.splice(0,s+1),this.classNames.splice(0,s+1),this.metadata.splice(0,s+1),this.count-=s+1}return this.count>0&&f<_&&(p.push(new y(f,_-1,this.classNames.join(" "),D._metadata(this.metadata))),f=_),f}insert(_,f,p){if(this.count===0||this.stopOffsets[this.count-1]<=_)this.stopOffsets.push(_),this.classNames.push(f),this.metadata.push(p);else for(let s=0;s<this.count;s++)if(this.stopOffsets[s]>=_){this.stopOffsets.splice(s,0,_),this.classNames.splice(s,0,f),this.metadata.splice(s,0,p);break}this.count++}}class S{static normalize(_,f){if(f.length===0)return[];const p=[],s=new D;let t=0;for(let i=0,o=f.length;i<o;i++){const r=f[i];let d=r.startColumn,h=r.endColumn;const n=r.className,c=r.type===1?2:r.type===2?4:0;if(d>1){const u=_.charCodeAt(d-2);L.isHighSurrogate(u)&&d--}if(h>1){const u=_.charCodeAt(h-2);L.isHighSurrogate(u)&&h--}const a=d-1,l=h-2;t=s.consumeLowerThan(a,t,p),s.count===0&&(t=a),s.insert(l,n,c)}return s.consumeLowerThan(1073741824,t,p),p}}e.LineDecorationsNormalizer=S}),define(X[523],ee([1,0]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LinePart=void 0;class L{constructor(y,D,S,m){this.endIndex=y,this.type=D,this.metadata=S,this.containsRTL=m,this._linePartBrand=void 0}isWhitespace(){return!!(this.metadata&1)}isPseudoAfter(){return!!(this.metadata&4)}}e.LinePart=L}),define(X[524],ee([1,0,9]),function(q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LinesLayout=e.EditorWhitespace=void 0;class k{constructor(){this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[]}insert(m){this._hasPending=!0,this._inserts.push(m)}change(m){this._hasPending=!0,this._changes.push(m)}remove(m){this._hasPending=!0,this._removes.push(m)}mustCommit(){return this._hasPending}commit(m){if(!this._hasPending)return;const _=this._inserts,f=this._changes,p=this._removes;this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[],m._commitPendingChanges(_,f,p)}}class y{constructor(m,_,f,p,s){this.id=m,this.afterLineNumber=_,this.ordinal=f,this.height=p,this.minWidth=s,this.prefixSum=0}}e.EditorWhitespace=y;class D{constructor(m,_,f,p){this._instanceId=L.singleLetterHash(++D.INSTANCE_COUNT),this._pendingChanges=new k,this._lastWhitespaceId=0,this._arr=[],this._prefixSumValidIndex=-1,this._minWidth=-1,this._lineCount=m,this._lineHeight=_,this._paddingTop=f,this._paddingBottom=p}static findInsertionIndex(m,_,f){let p=0,s=m.length;for(;p<s;){const t=p+s>>>1;_===m[t].afterLineNumber?f<m[t].ordinal?s=t:p=t+1:_<m[t].afterLineNumber?s=t:p=t+1}return p}setLineHeight(m){this._checkPendingChanges(),this._lineHeight=m}setPadding(m,_){this._paddingTop=m,this._paddingBottom=_}onFlushed(m){this._checkPendingChanges(),this._lineCount=m}changeWhitespace(m){let _=!1;try{m({insertWhitespace:(p,s,t,i)=>{_=!0,p=p|0,s=s|0,t=t|0,i=i|0;const o=this._instanceId+ ++this._lastWhitespaceId;return this._pendingChanges.insert(new y(o,p,s,t,i)),o},changeOneWhitespace:(p,s,t)=>{_=!0,s=s|0,t=t|0,this._pendingChanges.change({id:p,newAfterLineNumber:s,newHeight:t})},removeWhitespace:p=>{_=!0,this._pendingChanges.remove({id:p})}})}finally{this._pendingChanges.commit(this)}return _}_commitPendingChanges(m,_,f){if((m.length>0||f.length>0)&&(this._minWidth=-1),m.length+_.length+f.length<=1){for(const o of m)this._insertWhitespace(o);for(const o of _)this._changeOneWhitespace(o.id,o.newAfterLineNumber,o.newHeight);for(const o of f){const r=this._findWhitespaceIndex(o.id);r!==-1&&this._removeWhitespace(r)}return}const p=new Set;for(const o of f)p.add(o.id);const s=new Map;for(const o of _)s.set(o.id,o);const t=o=>{const r=[];for(const d of o)if(!p.has(d.id)){if(s.has(d.id)){const h=s.get(d.id);d.afterLineNumber=h.newAfterLineNumber,d.height=h.newHeight}r.push(d)}return r},i=t(this._arr).concat(t(m));i.sort((o,r)=>o.afterLineNumber===r.afterLineNumber?o.ordinal-r.ordinal:o.afterLineNumber-r.afterLineNumber),this._arr=i,this._prefixSumValidIndex=-1}_checkPendingChanges(){this._pendingChanges.mustCommit()&&this._pendingChanges.commit(this)}_insertWhitespace(m){const _=D.findInsertionIndex(this._arr,m.afterLineNumber,m.ordinal);this._arr.splice(_,0,m),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,_-1)}_findWhitespaceIndex(m){const _=this._arr;for(let f=0,p=_.length;f<p;f++)if(_[f].id===m)return f;return-1}_changeOneWhitespace(m,_,f){const p=this._findWhitespaceIndex(m);if(p!==-1&&(this._arr[p].height!==f&&(this._arr[p].height=f,this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,p-1)),this._arr[p].afterLineNumber!==_)){const s=this._arr[p];this._removeWhitespace(p),s.afterLineNumber=_,this._insertWhitespace(s)}}_removeWhitespace(m){this._arr.splice(m,1),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,m-1)}onLinesDeleted(m,_){this._checkPendingChanges(),m=m|0,_=_|0,this._lineCount-=_-m+1;for(let f=0,p=this._arr.length;f<p;f++){const s=this._arr[f].afterLineNumber;m<=s&&s<=_?this._arr[f].afterLineNumber=m-1:s>_&&(this._arr[f].afterLineNumber-=_-m+1)}}onLinesInserted(m,_){this._checkPendingChanges(),m=m|0,_=_|0,this._lineCount+=_-m+1;for(let f=0,p=this._arr.length;f<p;f++){const s=this._arr[f].afterLineNumber;m<=s&&(this._arr[f].afterLineNumber+=_-m+1)}}getWhitespacesTotalHeight(){return this._checkPendingChanges(),this._arr.length===0?0:this.getWhitespacesAccumulatedHeight(this._arr.length-1)}getWhitespacesAccumulatedHeight(m){this._checkPendingChanges(),m=m|0;let _=Math.max(0,this._prefixSumValidIndex+1);_===0&&(this._arr[0].prefixSum=this._arr[0].height,_++);for(let f=_;f<=m;f++)this._arr[f].prefixSum=this._arr[f-1].prefixSum+this._arr[f].height;return this._prefixSumValidIndex=Math.max(this._prefixSumValidIndex,m),this._arr[m].prefixSum}getLinesTotalHeight(){this._checkPendingChanges();const m=this._lineHeight*this._lineCount,_=this.getWhitespacesTotalHeight();return m+_+this._paddingTop+this._paddingBottom}getWhitespaceAccumulatedHeightBeforeLineNumber(m){this._checkPendingChanges(),m=m|0;const _=this._findLastWhitespaceBeforeLineNumber(m);return _===-1?0:this.getWhitespacesAccumulatedHeight(_)}_findLastWhitespaceBeforeLineNumber(m){m=m|0;const _=this._arr;let f=0,p=_.length-1;for(;f<=p;){const t=(p-f|0)/2|0,i=f+t|0;if(_[i].afterLineNumber<m){if(i+1>=_.length||_[i+1].afterLineNumber>=m)return i;f=i+1|0}else p=i-1|0}return-1}_findFirstWhitespaceAfterLineNumber(m){m=m|0;const f=this._findLastWhitespaceBeforeLineNumber(m)+1;return f<this._arr.length?f:-1}getFirstWhitespaceIndexAfterLineNumber(m){return this._checkPendingChanges(),m=m|0,this._findFirstWhitespaceAfterLineNumber(m)}getVerticalOffsetForLineNumber(m,_=!1){this._checkPendingChanges(),m=m|0;let f;m>1?f=this._lineHeight*(m-1):f=0;const p=this.getWhitespaceAccumulatedHeightBeforeLineNumber(m-(_?1:0));return f+p+this._paddingTop}getVerticalOffsetAfterLineNumber(m,_=!1){this._checkPendingChanges(),m=m|0;const f=this._lineHeight*m,p=this.getWhitespaceAccumulatedHeightBeforeLineNumber(m+(_?1:0));return f+p+this._paddingTop}getWhitespaceMinWidth(){if(this._checkPendingChanges(),this._minWidth===-1){let m=0;for(let _=0,f=this._arr.length;_<f;_++)m=Math.max(m,this._arr[_].minWidth);this._minWidth=m}return this._minWidth}isAfterLines(m){this._checkPendingChanges();const _=this.getLinesTotalHeight();return m>_}isInTopPadding(m){return this._paddingTop===0?!1:(this._checkPendingChanges(),m<this._paddingTop)}isInBottomPadding(m){if(this._paddingBottom===0)return!1;this._checkPendingChanges();const _=this.getLinesTotalHeight();return m>=_-this._paddingBottom}getLineNumberAtOrAfterVerticalOffset(m){if(this._checkPendingChanges(),m=m|0,m<0)return 1;const _=this._lineCount|0,f=this._lineHeight;let p=1,s=_;for(;p<s;){const t=(p+s)/2|0,i=this.getVerticalOffsetForLineNumber(t)|0;if(m>=i+f)p=t+1;else{if(m>=i)return t;s=t}}return p>_?_:p}getLinesViewportData(m,_){this._checkPendingChanges(),m=m|0,_=_|0;const f=this._lineHeight,p=this.getLineNumberAtOrAfterVerticalOffset(m)|0,s=this.getVerticalOffsetForLineNumber(p)|0;let t=this._lineCount|0,i=this.getFirstWhitespaceIndexAfterLineNumber(p)|0;const o=this.getWhitespacesCount()|0;let r,d;i===-1?(i=o,d=t+1,r=0):(d=this.getAfterLineNumberForWhitespaceIndex(i)|0,r=this.getHeightForWhitespaceIndex(i)|0);let h=s,n=h;const c=5e5;let a=0;s>=c&&(a=Math.floor(s/c)*c,a=Math.floor(a/f)*f,n-=a);const l=[],u=m+(_-m)/2;let C=-1;for(let w=p;w<=t;w++){if(C===-1){const E=h,I=h+f;(E<=u&&u<I||E>u)&&(C=w)}for(h+=f,l[w-p]=n,n+=f;d===w;)n+=r,h+=r,i++,i>=o?d=t+1:(d=this.getAfterLineNumberForWhitespaceIndex(i)|0,r=this.getHeightForWhitespaceIndex(i)|0);if(h>=_){t=w;break}}C===-1&&(C=t);const g=this.getVerticalOffsetForLineNumber(t)|0;let v=p,b=t;return v<b&&s<m&&v++,v<b&&g+f>_&&b--,{bigNumbersDelta:a,startLineNumber:p,endLineNumber:t,relativeVerticalOffset:l,centeredLineNumber:C,completelyVisibleStartLineNumber:v,completelyVisibleEndLineNumber:b}}getVerticalOffsetForWhitespaceIndex(m){this._checkPendingChanges(),m=m|0;const _=this.getAfterLineNumberForWhitespaceIndex(m);let f;_>=1?f=this._lineHeight*_:f=0;let p;return m>0?p=this.getWhitespacesAccumulatedHeight(m-1):p=0,f+p+this._paddingTop}getWhitespaceIndexAtOrAfterVerticallOffset(m){this._checkPendingChanges(),m=m|0;let _=0,f=this.getWhitespacesCount()-1;if(f<0)return-1;const p=this.getVerticalOffsetForWhitespaceIndex(f),s=this.getHeightForWhitespaceIndex(f);if(m>=p+s)return-1;for(;_<f;){const t=Math.floor((_+f)/2),i=this.getVerticalOffsetForWhitespaceIndex(t),o=this.getHeightForWhitespaceIndex(t);if(m>=i+o)_=t+1;else{if(m>=i)return t;f=t}}return _}getWhitespaceAtVerticalOffset(m){this._checkPendingChanges(),m=m|0;const _=this.getWhitespaceIndexAtOrAfterVerticallOffset(m);if(_<0||_>=this.getWhitespacesCount())return null;const f=this.getVerticalOffsetForWhitespaceIndex(_);if(f>m)return null;const p=this.getHeightForWhitespaceIndex(_),s=this.getIdForWhitespaceIndex(_),t=this.getAfterLineNumberForWhitespaceIndex(_);return{id:s,afterLineNumber:t,verticalOffset:f,height:p}}getWhitespaceViewportData(m,_){this._checkPendingChanges(),m=m|0,_=_|0;const f=this.getWhitespaceIndexAtOrAfterVerticallOffset(m),p=this.getWhitespacesCount()-1;if(f<0)return[];const s=[];for(let t=f;t<=p;t++){const i=this.getVerticalOffsetForWhitespaceIndex(t),o=this.getHeightForWhitespaceIndex(t);if(i>=_)break;s.push({id:this.getIdForWhitespaceIndex(t),afterLineNumber:this.getAfterLineNumberForWhitespaceIndex(t),verticalOffset:i,height:o})}return s}getWhitespaces(){return this._checkPendingChanges(),this._arr.slice(0)}getWhitespacesCount(){return this._checkPendingChanges(),this._arr.length}getIdForWhitespaceIndex(m){return this._checkPendingChanges(),m=m|0,this._arr[m].id}getAfterLineNumberForWhitespaceIndex(m){return this._checkPendingChanges(),m=m|0,this._arr[m].afterLineNumber}getHeightForWhitespaceIndex(m){return this._checkPendingChanges(),m=m|0,this._arr[m].height}}e.LinesLayout=D,D.INSTANCE_COUNT=0}),define(X[525],ee([1,0,5]),function(q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewportData=void 0;class k{constructor(D,S,m,_){this.selections=D,this.startLineNumber=S.startLineNumber|0,this.endLineNumber=S.endLineNumber|0,this.relativeVerticalOffset=S.relativeVerticalOffset,this.bigNumbersDelta=S.bigNumbersDelta|0,this.whitespaceViewportData=m,this._model=_,this.visibleRange=new L.Range(S.startLineNumber,this._model.getLineMinColumn(S.startLineNumber),S.endLineNumber,this._model.getLineMaxColumn(S.endLineNumber))}getViewLineRenderingData(D){return this._model.getViewportViewLineRenderingData(this.visibleRange,D)}getDecorationsInViewport(){return this._model.getDecorationsInViewport(this.visibleRange)}}e.ViewportData=k}),define(X[66],ee([1,0,9,5]),function(q,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OverviewRulerDecorationsGroup=e.ViewModelDecoration=e.SingleLineInlineDecoration=e.InlineDecoration=e.ViewLineRenderingData=e.ViewLineData=e.MinimapLinesRenderingData=e.Viewport=void 0;class y{constructor(i,o,r,d){this._viewportBrand=void 0,this.top=i|0,this.left=o|0,this.width=r|0,this.height=d|0}}e.Viewport=y;class D{constructor(i,o){this.tabSize=i,this.data=o}}e.MinimapLinesRenderingData=D;class S{constructor(i,o,r,d,h,n,c){this._viewLineDataBrand=void 0,this.content=i,this.continuesWithWrappedLine=o,this.minColumn=r,this.maxColumn=d,this.startVisibleColumn=h,this.tokens=n,this.inlineDecorations=c}}e.ViewLineData=S;class m{constructor(i,o,r,d,h,n,c,a,l,u){this.minColumn=i,this.maxColumn=o,this.content=r,this.continuesWithWrappedLine=d,this.isBasicASCII=m.isBasicASCII(r,n),this.containsRTL=m.containsRTL(r,this.isBasicASCII,h),this.tokens=c,this.inlineDecorations=a,this.tabSize=l,this.startVisibleColumn=u}static isBasicASCII(i,o){return o?L.isBasicASCII(i):!0}static containsRTL(i,o,r){return!o&&r?L.containsRTL(i):!1}}e.ViewLineRenderingData=m;class _{constructor(i,o,r){this.range=i,this.inlineClassName=o,this.type=r}}e.InlineDecoration=_;class f{constructor(i,o,r,d){this.startOffset=i,this.endOffset=o,this.inlineClassName=r,this.inlineClassNameAffectsLetterSpacing=d}toInlineDecoration(i){return new _(new k.Range(i,this.startOffset+1,i,this.endOffset+1),this.inlineClassName,this.inlineClassNameAffectsLetterSpacing?3:0)}}e.SingleLineInlineDecoration=f;class p{constructor(i,o){this._viewModelDecorationBrand=void 0,this.range=i,this.options=o}}e.ViewModelDecoration=p;class s{constructor(i,o,r){this.color=i,this.zIndex=o,this.data=r}static cmp(i,o){return i.zIndex===o.zIndex?i.color<o.color?-1:i.color>o.color?1:0:i.zIndex-o.zIndex}}e.OverviewRulerDecorationsGroup=s}),define(X[526],ee([1,0,86,11,110,66]),function(q,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createModelLineProjection=void 0;function S(i,o){return i===null?o?_.INSTANCE:f.INSTANCE:new m(i,o)}e.createModelLineProjection=S;class m{constructor(o,r){this._projectionData=o,this._isVisible=r}isVisible(){return this._isVisible}setVisible(o){return this._isVisible=o,this}getProjectionData(){return this._projectionData}getViewLineCount(){return this._isVisible?this._projectionData.getOutputLineCount():0}getViewLineContent(o,r,d){this._assertVisible();const h=d>0?this._projectionData.breakOffsets[d-1]:0,n=this._projectionData.breakOffsets[d];let c;if(this._projectionData.injectionOffsets!==null){const a=this._projectionData.injectionOffsets.map((u,C)=>new y.LineInjectedText(0,0,u+1,this._projectionData.injectionOptions[C],0));c=y.LineInjectedText.applyInjectedText(o.getLineContent(r),a).substring(h,n)}else c=o.getValueInRange({startLineNumber:r,startColumn:h+1,endLineNumber:r,endColumn:n+1});return d>0&&(c=s(this._projectionData.wrappedTextIndentLength)+c),c}getViewLineLength(o,r,d){return this._assertVisible(),this._projectionData.getLineLength(d)}getViewLineMinColumn(o,r,d){return this._assertVisible(),this._projectionData.getMinOutputOffset(d)+1}getViewLineMaxColumn(o,r,d){return this._assertVisible(),this._projectionData.getMaxOutputOffset(d)+1}getViewLineData(o,r,d){const h=new Array;return this.getViewLinesData(o,r,d,1,0,[!0],h),h[0]}getViewLinesData(o,r,d,h,n,c,a){this._assertVisible();const l=this._projectionData,u=l.injectionOffsets,C=l.injectionOptions;let g=null;if(u){g=[];let b=0,w=0;for(let E=0;E<l.getOutputLineCount();E++){const I=new Array;g[E]=I;const T=E>0?l.breakOffsets[E-1]:0,P=l.breakOffsets[E];for(;w<u.length;){const A=C[w].content.length,M=u[w]+b,N=M+A;if(M>P)break;if(T<N){const R=C[w];if(R.inlineClassName){const F=E>0?l.wrappedTextIndentLength:0,x=F+Math.max(M-T,0),W=F+Math.min(N-T,P);x!==W&&I.push(new D.SingleLineInlineDecoration(x,W,R.inlineClassName,R.inlineClassNameAffectsLetterSpacing))}}if(N<=P)b+=A,w++;else break}}}let v;u?v=o.tokenization.getLineTokens(r).withInserted(u.map((b,w)=>({offset:b,text:C[w].content,tokenMetadata:L.LineTokens.defaultTokenMetadata}))):v=o.tokenization.getLineTokens(r);for(let b=d;b<d+h;b++){const w=n+b-d;if(!c[w]){a[w]=null;continue}a[w]=this._getViewLineData(v,g?g[b]:null,b)}}_getViewLineData(o,r,d){this._assertVisible();const h=this._projectionData,n=d>0?h.wrappedTextIndentLength:0,c=d>0?h.breakOffsets[d-1]:0,a=h.breakOffsets[d],l=o.sliceAndInflate(c,a,n);let u=l.getLineContent();d>0&&(u=s(h.wrappedTextIndentLength)+u);const C=this._projectionData.getMinOutputOffset(d)+1,g=u.length+1,v=d+1<this.getViewLineCount(),b=d===0?0:h.breakOffsetsVisibleColumn[d-1];return new D.ViewLineData(u,v,C,g,b,l,r)}getModelColumnOfViewPosition(o,r){return this._assertVisible(),this._projectionData.translateToInputOffset(o,r-1)+1}getViewPositionOfModelPosition(o,r,d=2){return this._assertVisible(),this._projectionData.translateToOutputPosition(r-1,d).toPosition(o)}getViewLineNumberOfModelPosition(o,r){this._assertVisible();const d=this._projectionData.translateToOutputPosition(r-1);return o+d.outputLineIndex}normalizePosition(o,r,d){const h=r.lineNumber-o;return this._projectionData.normalizeOutputPosition(o,r.column-1,d).toPosition(h)}getInjectedTextAt(o,r){return this._projectionData.getInjectedText(o,r-1)}_assertVisible(){if(!this._isVisible)throw new Error("Not supported")}}class _{constructor(){}isVisible(){return!0}setVisible(o){return o?this:f.INSTANCE}getProjectionData(){return null}getViewLineCount(){return 1}getViewLineContent(o,r,d){return o.getLineContent(r)}getViewLineLength(o,r,d){return o.getLineLength(r)}getViewLineMinColumn(o,r,d){return o.getLineMinColumn(r)}getViewLineMaxColumn(o,r,d){return o.getLineMaxColumn(r)}getViewLineData(o,r,d){const h=o.tokenization.getLineTokens(r),n=h.getLineContent();return new D.ViewLineData(n,!1,1,n.length+1,0,h.inflate(),null)}getViewLinesData(o,r,d,h,n,c,a){if(!c[n]){a[n]=null;return}a[n]=this.getViewLineData(o,r,0)}getModelColumnOfViewPosition(o,r){return r}getViewPositionOfModelPosition(o,r){return new k.Position(o,r)}getViewLineNumberOfModelPosition(o,r){return o}normalizePosition(o,r,d){return r}getInjectedTextAt(o,r){return null}}_.INSTANCE=new _;class f{constructor(){}isVisible(){return!1}setVisible(o){return o?_.INSTANCE:this}getProjectionData(){return null}getViewLineCount(){return 0}getViewLineContent(o,r,d){throw new Error("Not supported")}getViewLineLength(o,r,d){throw new Error("Not supported")}getViewLineMinColumn(o,r,d){throw new Error("Not supported")}getViewLineMaxColumn(o,r,d){throw new Error("Not supported")}getViewLineData(o,r,d){throw new Error("Not supported")}getViewLinesData(o,r,d,h,n,c,a){throw new Error("Not supported")}getModelColumnOfViewPosition(o,r){throw new Error("Not supported")}getViewPositionOfModelPosition(o,r){throw new Error("Not supported")}getViewLineNumberOfModelPosition(o,r){throw new Error("Not supported")}normalizePosition(o,r,d){throw new Error("Not supported")}getInjectedTextAt(o,r){throw new Error("Not supported")}}f.INSTANCE=new f;const p=[""];function s(i){if(i>=p.length)for(let o=1;o<=i;o++)p[o]=t(o);return p[i]}function t(i){return new Array(i+1).join(" ")}}),define(X[527],ee([1,0,9,119,110,282]),function(q,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MonospaceLineBreaksComputerFactory=void 0;class S{static create(h){return new S(h.get(130),h.get(129))}constructor(h,n){this.classifier=new m(h,n)}createLineBreaksComputer(h,n,c,a,l){const u=[],C=[],g=[];return{addRequest:(v,b,w)=>{u.push(v),C.push(b),g.push(w)},finalize:()=>{const v=h.typicalFullwidthCharacterWidth/h.typicalHalfwidthCharacterWidth,b=[];for(let w=0,E=u.length;w<E;w++){const I=C[w],T=g[w];T&&!T.injectionOptions&&!I?b[w]=p(this.classifier,T,u[w],n,c,v,a,l):b[w]=s(this.classifier,u[w],I,n,c,v,a,l)}return _.length=0,f.length=0,b}}}}e.MonospaceLineBreaksComputerFactory=S;class m extends k.CharacterClassifier{constructor(h,n){super(0);for(let c=0;c<h.length;c++)this.set(h.charCodeAt(c),1);for(let c=0;c<n.length;c++)this.set(n.charCodeAt(c),2)}get(h){return h>=0&&h<256?this._asciiMap[h]:h>=12352&&h<=12543||h>=13312&&h<=19903||h>=19968&&h<=40959?3:this._map.get(h)||this._defaultValue}}let _=[],f=[];function p(d,h,n,c,a,l,u,C){if(a===-1)return null;const g=n.length;if(g<=1)return null;const v=C==="keepAll",b=h.breakOffsets,w=h.breakOffsetsVisibleColumn,E=r(n,c,a,l,u),I=a-E,T=_,P=f;let A=0,M=0,N=0,R=a;const F=b.length;let x=0;if(x>=0){let W=Math.abs(w[x]-R);for(;x+1<F;){const z=Math.abs(w[x+1]-R);if(z>=W)break;W=z,x++}}for(;x<F;){let W=x<0?0:b[x],z=x<0?0:w[x];M>W&&(W=M,z=N);let U=0,O=0,G=0,Q=0;if(z<=R){let oe=z,te=W===0?0:n.charCodeAt(W-1),H=W===0?0:d.get(te),B=!0;for(let K=W;K<g;K++){const Z=K,J=n.charCodeAt(K);let ne,he;if(L.isHighSurrogate(J)?(K++,ne=0,he=2):(ne=d.get(J),he=t(J,oe,c,l)),Z>M&&o(te,H,J,ne,v)&&(U=Z,O=oe),oe+=he,oe>R){Z>M?(G=Z,Q=oe-he):(G=K+1,Q=oe),oe-O>I&&(U=0),B=!1;break}te=J,H=ne}if(B){A>0&&(T[A]=b[b.length-1],P[A]=w[b.length-1],A++);break}}if(U===0){let oe=z,te=n.charCodeAt(W),H=d.get(te),B=!1;for(let K=W-1;K>=M;K--){const Z=K+1,J=n.charCodeAt(K);if(J===9){B=!0;break}let ne,he;if(L.isLowSurrogate(J)?(K--,ne=0,he=2):(ne=d.get(J),he=L.isFullWidthCharacter(J)?l:1),oe<=R){if(G===0&&(G=Z,Q=oe),oe<=R-I)break;if(o(J,ne,te,H,v)){U=Z,O=oe;break}}oe-=he,te=J,H=ne}if(U!==0){const K=I-(Q-O);if(K<=c){const Z=n.charCodeAt(G);let J;L.isHighSurrogate(Z)?J=2:J=t(Z,Q,c,l),K-J<0&&(U=0)}}if(B){x--;continue}}if(U===0&&(U=G,O=Q),U<=M){const oe=n.charCodeAt(M);L.isHighSurrogate(oe)?(U=M+2,O=N+2):(U=M+1,O=N+t(oe,N,c,l))}for(M=U,T[A]=U,N=O,P[A]=O,A++,R=O+I;x<0||x<F&&w[x]<O;)x++;let re=Math.abs(w[x]-R);for(;x+1<F;){const oe=Math.abs(w[x+1]-R);if(oe>=re)break;re=oe,x++}}return A===0?null:(T.length=A,P.length=A,_=h.breakOffsets,f=h.breakOffsetsVisibleColumn,h.breakOffsets=T,h.breakOffsetsVisibleColumn=P,h.wrappedTextIndentLength=E,h)}function s(d,h,n,c,a,l,u,C){const g=y.LineInjectedText.applyInjectedText(h,n);let v,b;if(n&&n.length>0?(v=n.map(O=>O.options),b=n.map(O=>O.column-1)):(v=null,b=null),a===-1)return v?new D.ModelLineProjectionData(b,v,[g.length],[],0):null;const w=g.length;if(w<=1)return v?new D.ModelLineProjectionData(b,v,[g.length],[],0):null;const E=C==="keepAll",I=r(g,c,a,l,u),T=a-I,P=[],A=[];let M=0,N=0,R=0,F=a,x=g.charCodeAt(0),W=d.get(x),z=t(x,0,c,l),U=1;L.isHighSurrogate(x)&&(z+=1,x=g.charCodeAt(1),W=d.get(x),U++);for(let O=U;O<w;O++){const G=O,Q=g.charCodeAt(O);let re,oe;L.isHighSurrogate(Q)?(O++,re=0,oe=2):(re=d.get(Q),oe=t(Q,z,c,l)),o(x,W,Q,re,E)&&(N=G,R=z),z+=oe,z>F&&((N===0||z-R>T)&&(N=G,R=z-oe),P[M]=N,A[M]=R,M++,F=R+T,N=0),x=Q,W=re}return M===0&&(!n||n.length===0)?null:(P[M]=w,A[M]=z,new D.ModelLineProjectionData(b,v,P,A,I))}function t(d,h,n,c){return d===9?n-h%n:L.isFullWidthCharacter(d)||d<32?c:1}function i(d,h){return h-d%h}function o(d,h,n,c,a){return n!==32&&(h===2&&c!==2||h!==1&&c===1||!a&&h===3&&c!==2||!a&&c===3&&h!==1)}function r(d,h,n,c,a){let l=0;if(a!==0){const u=L.firstNonWhitespaceIndex(d);if(u!==-1){for(let g=0;g<u;g++){const v=d.charCodeAt(g)===9?i(l,h):1;l+=v}const C=a===3?2:a===2?1:0;for(let g=0;g<C;g++){const v=i(l,h);l+=v}l+c>n&&(l=0)}}return l}}),define(X[211],ee([1,0]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OverviewZoneManager=e.OverviewRulerZone=e.ColorZone=void 0;class L{constructor(S,m,_){this._colorZoneBrand=void 0,this.from=S|0,this.to=m|0,this.colorId=_|0}static compare(S,m){return S.colorId===m.colorId?S.from===m.from?S.to-m.to:S.from-m.from:S.colorId-m.colorId}}e.ColorZone=L;class k{constructor(S,m,_,f){this._overviewRulerZoneBrand=void 0,this.startLineNumber=S,this.endLineNumber=m,this.heightInLines=_,this.color=f,this._colorZone=null}static compare(S,m){return S.color===m.color?S.startLineNumber===m.startLineNumber?S.heightInLines===m.heightInLines?S.endLineNumber-m.endLineNumber:S.heightInLines-m.heightInLines:S.startLineNumber-m.startLineNumber:S.color<m.color?-1:1}setColorZone(S){this._colorZone=S}getColorZones(){return this._colorZone}}e.OverviewRulerZone=k;class y{constructor(S){this._getVerticalOffsetForLine=S,this._zones=[],this._colorZonesInvalid=!1,this._lineHeight=0,this._domWidth=0,this._domHeight=0,this._outerHeight=0,this._pixelRatio=1,this._lastAssignedId=0,this._color2Id=Object.create(null),this._id2Color=[]}getId2Color(){return this._id2Color}setZones(S){this._zones=S,this._zones.sort(k.compare)}setLineHeight(S){return this._lineHeight===S?!1:(this._lineHeight=S,this._colorZonesInvalid=!0,!0)}setPixelRatio(S){this._pixelRatio=S,this._colorZonesInvalid=!0}getDOMWidth(){return this._domWidth}getCanvasWidth(){return this._domWidth*this._pixelRatio}setDOMWidth(S){return this._domWidth===S?!1:(this._domWidth=S,this._colorZonesInvalid=!0,!0)}getDOMHeight(){return this._domHeight}getCanvasHeight(){return this._domHeight*this._pixelRatio}setDOMHeight(S){return this._domHeight===S?!1:(this._domHeight=S,this._colorZonesInvalid=!0,!0)}getOuterHeight(){return this._outerHeight}setOuterHeight(S){return this._outerHeight===S?!1:(this._outerHeight=S,this._colorZonesInvalid=!0,!0)}resolveColorZones(){const S=this._colorZonesInvalid,m=Math.floor(this._lineHeight),_=Math.floor(this.getCanvasHeight()),f=Math.floor(this._outerHeight),p=_/f,s=Math.floor(4*this._pixelRatio/2),t=[];for(let i=0,o=this._zones.length;i<o;i++){const r=this._zones[i];if(!S){const v=r.getColorZones();if(v){t.push(v);continue}}const d=this._getVerticalOffsetForLine(r.startLineNumber),h=r.heightInLines===0?this._getVerticalOffsetForLine(r.endLineNumber)+m:d+r.heightInLines*m,n=Math.floor(p*d),c=Math.floor(p*h);let a=Math.floor((n+c)/2),l=c-a;l<s&&(l=s),a-l<0&&(a=l),a+l>_&&(a=_-l);const u=r.color;let C=this._color2Id[u];C||(C=++this._lastAssignedId,this._color2Id[u]=C,this._id2Color[C]=u);const g=new L(a-l,a+l,C);r.setColorZone(g),t.push(g)}return this._colorZonesInvalid=!1,t.sort(L.compare),t}}e.OverviewZoneManager=y}),define(X[528],ee([1,0,34,211,149]),function(q,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OverviewRuler=void 0;class D extends y.ViewEventHandler{constructor(m,_){super(),this._context=m;const f=this._context.configuration.options;this._domNode=(0,L.createFastDomNode)(document.createElement("canvas")),this._domNode.setClassName(_),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._domNode.setContain("strict"),this._zoneManager=new k.OverviewZoneManager(p=>this._context.viewLayout.getVerticalOffsetForLineNumber(p)),this._zoneManager.setDOMWidth(0),this._zoneManager.setDOMHeight(0),this._zoneManager.setOuterHeight(this._context.viewLayout.getScrollHeight()),this._zoneManager.setLineHeight(f.get(64)),this._zoneManager.setPixelRatio(f.get(139)),this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}onConfigurationChanged(m){const _=this._context.configuration.options;return m.hasChanged(64)&&(this._zoneManager.setLineHeight(_.get(64)),this._render()),m.hasChanged(139)&&(this._zoneManager.setPixelRatio(_.get(139)),this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render()),!0}onFlushed(m){return this._render(),!0}onScrollChanged(m){return m.scrollHeightChanged&&(this._zoneManager.setOuterHeight(m.scrollHeight),this._render()),!0}onZonesChanged(m){return this._render(),!0}getDomNode(){return this._domNode.domNode}setLayout(m){this._domNode.setTop(m.top),this._domNode.setRight(m.right);let _=!1;_=this._zoneManager.setDOMWidth(m.width)||_,_=this._zoneManager.setDOMHeight(m.height)||_,_&&(this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render())}setZones(m){this._zoneManager.setZones(m),this._render()}_render(){if(this._zoneManager.getOuterHeight()===0)return!1;const m=this._zoneManager.getCanvasWidth(),_=this._zoneManager.getCanvasHeight(),f=this._zoneManager.resolveColorZones(),p=this._zoneManager.getId2Color(),s=this._domNode.domNode.getContext("2d");return s.clearRect(0,0,m,_),f.length>0&&this._renderOneLane(s,f,p,m),!0}_renderOneLane(m,_,f,p){let s=0,t=0,i=0;for(const o of _){const r=o.colorId,d=o.from,h=o.to;r!==s?(m.fillRect(0,t,p,i-t),s=r,m.fillStyle=f[s],t=d,i=h):i>=d?i=Math.max(i,h):(m.fillRect(0,t,p,i-t),t=d,i=h)}m.fillRect(0,t,p,i-t)}}e.OverviewRuler=D}),define(X[529],ee([1,0,487]),function(q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewContext=void 0;class k{constructor(D,S,m){this.configuration=D,this.theme=new L.EditorTheme(S),this.viewModel=m,this.viewLayout=m.viewLayout}addEventHandler(D){this.viewModel.addViewEventHandler(D)}removeEventHandler(D){this.viewModel.removeViewEventHandler(D)}}e.ViewContext=k}),define(X[212],ee([1,0,6,2]),function(q,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ModelTokensChangedEvent=e.ModelOptionsChangedEvent=e.ModelContentChangedEvent=e.ModelLanguageConfigurationChangedEvent=e.ModelLanguageChangedEvent=e.ModelDecorationsChangedEvent=e.ReadOnlyEditAttemptEvent=e.CursorStateChangedEvent=e.HiddenAreasChangedEvent=e.ViewZonesChangedEvent=e.ScrollChangedEvent=e.FocusChangedEvent=e.ContentSizeChangedEvent=e.ViewModelEventsCollector=e.ViewModelEventDispatcher=void 0;class y extends k.Disposable{constructor(){super(),this._onEvent=this._register(new L.Emitter),this.onEvent=this._onEvent.event,this._eventHandlers=[],this._viewEventQueue=null,this._isConsumingViewEventQueue=!1,this._collector=null,this._collectorCnt=0,this._outgoingEvents=[]}emitOutgoingEvent(a){this._addOutgoingEvent(a),this._emitOutgoingEvents()}_addOutgoingEvent(a){for(let l=0,u=this._outgoingEvents.length;l<u;l++){const C=this._outgoingEvents[l].kind===a.kind?this._outgoingEvents[l].attemptToMerge(a):null;if(C){this._outgoingEvents[l]=C;return}}this._outgoingEvents.push(a)}_emitOutgoingEvents(){for(;this._outgoingEvents.length>0;){if(this._collector||this._isConsumingViewEventQueue)return;const a=this._outgoingEvents.shift();a.isNoOp()||this._onEvent.fire(a)}}addViewEventHandler(a){for(let l=0,u=this._eventHandlers.length;l<u;l++)this._eventHandlers[l]===a&&console.warn("Detected duplicate listener in ViewEventDispatcher",a);this._eventHandlers.push(a)}removeViewEventHandler(a){for(let l=0;l<this._eventHandlers.length;l++)if(this._eventHandlers[l]===a){this._eventHandlers.splice(l,1);break}}beginEmitViewEvents(){return this._collectorCnt++,this._collectorCnt===1&&(this._collector=new D),this._collector}endEmitViewEvents(){if(this._collectorCnt--,this._collectorCnt===0){const a=this._collector.outgoingEvents,l=this._collector.viewEvents;this._collector=null;for(const u of a)this._addOutgoingEvent(u);l.length>0&&this._emitMany(l)}this._emitOutgoingEvents()}emitSingleViewEvent(a){try{this.beginEmitViewEvents().emitViewEvent(a)}finally{this.endEmitViewEvents()}}_emitMany(a){this._viewEventQueue?this._viewEventQueue=this._viewEventQueue.concat(a):this._viewEventQueue=a,this._isConsumingViewEventQueue||this._consumeViewEventQueue()}_consumeViewEventQueue(){try{this._isConsumingViewEventQueue=!0,this._doConsumeQueue()}finally{this._isConsumingViewEventQueue=!1}}_doConsumeQueue(){for(;this._viewEventQueue;){const a=this._viewEventQueue;this._viewEventQueue=null;const l=this._eventHandlers.slice(0);for(const u of l)u.handleEvents(a)}}}e.ViewModelEventDispatcher=y;class D{constructor(){this.viewEvents=[],this.outgoingEvents=[]}emitViewEvent(a){this.viewEvents.push(a)}emitOutgoingEvent(a){this.outgoingEvents.push(a)}}e.ViewModelEventsCollector=D;class S{constructor(a,l,u,C){this.kind=0,this._oldContentWidth=a,this._oldContentHeight=l,this.contentWidth=u,this.contentHeight=C,this.contentWidthChanged=this._oldContentWidth!==this.contentWidth,this.contentHeightChanged=this._oldContentHeight!==this.contentHeight}isNoOp(){return!this.contentWidthChanged&&!this.contentHeightChanged}attemptToMerge(a){return a.kind!==this.kind?null:new S(this._oldContentWidth,this._oldContentHeight,a.contentWidth,a.contentHeight)}}e.ContentSizeChangedEvent=S;class m{constructor(a,l){this.kind=1,this.oldHasFocus=a,this.hasFocus=l}isNoOp(){return this.oldHasFocus===this.hasFocus}attemptToMerge(a){return a.kind!==this.kind?null:new m(this.oldHasFocus,a.hasFocus)}}e.FocusChangedEvent=m;class _{constructor(a,l,u,C,g,v,b,w){this.kind=2,this._oldScrollWidth=a,this._oldScrollLeft=l,this._oldScrollHeight=u,this._oldScrollTop=C,this.scrollWidth=g,this.scrollLeft=v,this.scrollHeight=b,this.scrollTop=w,this.scrollWidthChanged=this._oldScrollWidth!==this.scrollWidth,this.scrollLeftChanged=this._oldScrollLeft!==this.scrollLeft,this.scrollHeightChanged=this._oldScrollHeight!==this.scrollHeight,this.scrollTopChanged=this._oldScrollTop!==this.scrollTop}isNoOp(){return!this.scrollWidthChanged&&!this.scrollLeftChanged&&!this.scrollHeightChanged&&!this.scrollTopChanged}attemptToMerge(a){return a.kind!==this.kind?null:new _(this._oldScrollWidth,this._oldScrollLeft,this._oldScrollHeight,this._oldScrollTop,a.scrollWidth,a.scrollLeft,a.scrollHeight,a.scrollTop)}}e.ScrollChangedEvent=_;class f{constructor(){this.kind=3}isNoOp(){return!1}attemptToMerge(a){return a.kind!==this.kind?null:this}}e.ViewZonesChangedEvent=f;class p{constructor(){this.kind=4}isNoOp(){return!1}attemptToMerge(a){return a.kind!==this.kind?null:this}}e.HiddenAreasChangedEvent=p;class s{constructor(a,l,u,C,g,v,b){this.kind=6,this.oldSelections=a,this.selections=l,this.oldModelVersionId=u,this.modelVersionId=C,this.source=g,this.reason=v,this.reachedMaxCursorCount=b}static _selectionsAreEqual(a,l){if(!a&&!l)return!0;if(!a||!l)return!1;const u=a.length,C=l.length;if(u!==C)return!1;for(let g=0;g<u;g++)if(!a[g].equalsSelection(l[g]))return!1;return!0}isNoOp(){return s._selectionsAreEqual(this.oldSelections,this.selections)&&this.oldModelVersionId===this.modelVersionId}attemptToMerge(a){return a.kind!==this.kind?null:new s(this.oldSelections,a.selections,this.oldModelVersionId,a.modelVersionId,a.source,a.reason,this.reachedMaxCursorCount||a.reachedMaxCursorCount)}}e.CursorStateChangedEvent=s;class t{constructor(){this.kind=5}isNoOp(){return!1}attemptToMerge(a){return a.kind!==this.kind?null:this}}e.ReadOnlyEditAttemptEvent=t;class i{constructor(a){this.event=a,this.kind=7}isNoOp(){return!1}attemptToMerge(a){return null}}e.ModelDecorationsChangedEvent=i;class o{constructor(a){this.event=a,this.kind=8}isNoOp(){return!1}attemptToMerge(a){return null}}e.ModelLanguageChangedEvent=o;class r{constructor(a){this.event=a,this.kind=9}isNoOp(){return!1}attemptToMerge(a){return null}}e.ModelLanguageConfigurationChangedEvent=r;class d{constructor(a){this.event=a,this.kind=10}isNoOp(){return!1}attemptToMerge(a){return null}}e.ModelContentChangedEvent=d;class h{constructor(a){this.event=a,this.kind=11}isNoOp(){return!1}attemptToMerge(a){return null}}e.ModelOptionsChangedEvent=h;class n{constructor(a){this.event=a,this.kind=12}isNoOp(){return!1}attemptToMerge(a){return null}}e.ModelTokensChangedEvent=n}),define(X[530],ee([1,0,6,2,169,524,66,212]),function(q,e,L,k,y,D,S,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewLayout=void 0;const _=125;class f{constructor(i,o,r,d){i=i|0,o=o|0,r=r|0,d=d|0,i<0&&(i=0),o<0&&(o=0),r<0&&(r=0),d<0&&(d=0),this.width=i,this.contentWidth=o,this.scrollWidth=Math.max(i,o),this.height=r,this.contentHeight=d,this.scrollHeight=Math.max(r,d)}equals(i){return this.width===i.width&&this.contentWidth===i.contentWidth&&this.height===i.height&&this.contentHeight===i.contentHeight}}class p extends k.Disposable{constructor(i,o){super(),this._onDidContentSizeChange=this._register(new L.Emitter),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._dimensions=new f(0,0,0,0),this._scrollable=this._register(new y.Scrollable({forceIntegerValues:!0,smoothScrollDuration:i,scheduleAtNextAnimationFrame:o})),this.onDidScroll=this._scrollable.onScroll}getScrollable(){return this._scrollable}setSmoothScrollDuration(i){this._scrollable.setSmoothScrollDuration(i)}validateScrollPosition(i){return this._scrollable.validateScrollPosition(i)}getScrollDimensions(){return this._dimensions}setScrollDimensions(i){if(this._dimensions.equals(i))return;const o=this._dimensions;this._dimensions=i,this._scrollable.setScrollDimensions({width:i.width,scrollWidth:i.scrollWidth,height:i.height,scrollHeight:i.scrollHeight},!0);const r=o.contentWidth!==i.contentWidth,d=o.contentHeight!==i.contentHeight;(r||d)&&this._onDidContentSizeChange.fire(new m.ContentSizeChangedEvent(o.contentWidth,o.contentHeight,i.contentWidth,i.contentHeight))}getFutureScrollPosition(){return this._scrollable.getFutureScrollPosition()}getCurrentScrollPosition(){return this._scrollable.getCurrentScrollPosition()}setScrollPositionNow(i){this._scrollable.setScrollPositionNow(i)}setScrollPositionSmooth(i){this._scrollable.setScrollPositionSmooth(i)}hasPendingScrollAnimation(){return this._scrollable.hasPendingScrollAnimation()}}class s extends k.Disposable{constructor(i,o,r){super(),this._configuration=i;const d=this._configuration.options,h=d.get(141),n=d.get(81);this._linesLayout=new D.LinesLayout(o,d.get(64),n.top,n.bottom),this._scrollable=this._register(new p(0,r)),this._configureSmoothScrollDuration(),this._scrollable.setScrollDimensions(new f(h.contentWidth,0,h.height,0)),this.onDidScroll=this._scrollable.onDidScroll,this.onDidContentSizeChange=this._scrollable.onDidContentSizeChange,this._updateHeight()}dispose(){super.dispose()}getScrollable(){return this._scrollable.getScrollable()}onHeightMaybeChanged(){this._updateHeight()}_configureSmoothScrollDuration(){this._scrollable.setSmoothScrollDuration(this._configuration.options.get(111)?_:0)}onConfigurationChanged(i){const o=this._configuration.options;if(i.hasChanged(64)&&this._linesLayout.setLineHeight(o.get(64)),i.hasChanged(81)){const r=o.get(81);this._linesLayout.setPadding(r.top,r.bottom)}if(i.hasChanged(141)){const r=o.get(141),d=r.contentWidth,h=r.height,n=this._scrollable.getScrollDimensions(),c=n.contentWidth;this._scrollable.setScrollDimensions(new f(d,n.contentWidth,h,this._getContentHeight(d,h,c)))}else this._updateHeight();i.hasChanged(111)&&this._configureSmoothScrollDuration()}onFlushed(i){this._linesLayout.onFlushed(i)}onLinesDeleted(i,o){this._linesLayout.onLinesDeleted(i,o)}onLinesInserted(i,o){this._linesLayout.onLinesInserted(i,o)}_getHorizontalScrollbarHeight(i,o){const d=this._configuration.options.get(100);return d.horizontal===2||i>=o?0:d.horizontalScrollbarSize}_getContentHeight(i,o,r){const d=this._configuration.options;let h=this._linesLayout.getLinesTotalHeight();return d.get(102)?h+=Math.max(0,o-d.get(64)-d.get(81).bottom):h+=this._getHorizontalScrollbarHeight(i,r),h}_updateHeight(){const i=this._scrollable.getScrollDimensions(),o=i.width,r=i.height,d=i.contentWidth;this._scrollable.setScrollDimensions(new f(o,i.contentWidth,r,this._getContentHeight(o,r,d)))}getCurrentViewport(){const i=this._scrollable.getScrollDimensions(),o=this._scrollable.getCurrentScrollPosition();return new S.Viewport(o.scrollTop,o.scrollLeft,i.width,i.height)}getFutureViewport(){const i=this._scrollable.getScrollDimensions(),o=this._scrollable.getFutureScrollPosition();return new S.Viewport(o.scrollTop,o.scrollLeft,i.width,i.height)}_computeContentWidth(i){const o=this._configuration.options,r=o.get(142),d=o.get(48),h=o.get(141);if(r.isViewportWrapping){const n=o.get(70);return i>h.contentWidth+d.typicalHalfwidthCharacterWidth&&n.enabled&&n.side==="right"?i+h.verticalScrollbarWidth:i}else{const n=o.get(101)*d.typicalHalfwidthCharacterWidth,c=this._linesLayout.getWhitespaceMinWidth();return Math.max(i+n+h.verticalScrollbarWidth,c)}}setMaxLineWidth(i){const o=this._scrollable.getScrollDimensions();this._scrollable.setScrollDimensions(new f(o.width,this._computeContentWidth(i),o.height,o.contentHeight)),this._updateHeight()}saveState(){const i=this._scrollable.getFutureScrollPosition(),o=i.scrollTop,r=this._linesLayout.getLineNumberAtOrAfterVerticalOffset(o),d=this._linesLayout.getWhitespaceAccumulatedHeightBeforeLineNumber(r);return{scrollTop:o,scrollTopWithoutViewZones:o-d,scrollLeft:i.scrollLeft}}changeWhitespace(i){const o=this._linesLayout.changeWhitespace(i);return o&&this.onHeightMaybeChanged(),o}getVerticalOffsetForLineNumber(i,o=!1){return this._linesLayout.getVerticalOffsetForLineNumber(i,o)}getVerticalOffsetAfterLineNumber(i,o=!1){return this._linesLayout.getVerticalOffsetAfterLineNumber(i,o)}isAfterLines(i){return this._linesLayout.isAfterLines(i)}isInTopPadding(i){return this._linesLayout.isInTopPadding(i)}isInBottomPadding(i){return this._linesLayout.isInBottomPadding(i)}getLineNumberAtVerticalOffset(i){return this._linesLayout.getLineNumberAtOrAfterVerticalOffset(i)}getWhitespaceAtVerticalOffset(i){return this._linesLayout.getWhitespaceAtVerticalOffset(i)}getLinesViewportData(){const i=this.getCurrentViewport();return this._linesLayout.getLinesViewportData(i.top,i.top+i.height)}getLinesViewportDataAtScrollTop(i){const o=this._scrollable.getScrollDimensions();return i+o.height>o.scrollHeight&&(i=o.scrollHeight-o.height),i<0&&(i=0),this._linesLayout.getLinesViewportData(i,i+o.height)}getWhitespaceViewportData(){const i=this.getCurrentViewport();return this._linesLayout.getWhitespaceViewportData(i.top,i.top+i.height)}getWhitespaces(){return this._linesLayout.getWhitespaces()}getContentWidth(){return this._scrollable.getScrollDimensions().contentWidth}getScrollWidth(){return this._scrollable.getScrollDimensions().scrollWidth}getContentHeight(){return this._scrollable.getScrollDimensions().contentHeight}getScrollHeight(){return this._scrollable.getScrollDimensions().scrollHeight}getCurrentScrollLeft(){return this._scrollable.getCurrentScrollPosition().scrollLeft}getCurrentScrollTop(){return this._scrollable.getCurrentScrollPosition().scrollTop}validateScrollPosition(i){return this._scrollable.validateScrollPosition(i)}setScrollPosition(i,o){o===1?this._scrollable.setScrollPositionNow(i):this._scrollable.setScrollPositionSmooth(i)}hasPendingScrollAnimation(){return this._scrollable.hasPendingScrollAnimation()}deltaScrollNow(i,o){const r=this._scrollable.getCurrentScrollPosition();this._scrollable.setScrollPositionNow({scrollLeft:r.scrollLeft+i,scrollTop:r.scrollTop+o})}}e.ViewLayout=s}),define(X[531],ee([1,0,5,24]),function(q,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MoveCaretCommand=void 0;class y{constructor(S,m){this._selection=S,this._isMovingLeft=m}getEditOperations(S,m){if(this._selection.startLineNumber!==this._selection.endLineNumber||this._selection.isEmpty())return;const _=this._selection.startLineNumber,f=this._selection.startColumn,p=this._selection.endColumn;if(!(this._isMovingLeft&&f===1)&&!(!this._isMovingLeft&&p===S.getLineMaxColumn(_)))if(this._isMovingLeft){const s=new L.Range(_,f-1,_,f),t=S.getValueInRange(s);m.addEditOperation(s,null),m.addEditOperation(new L.Range(_,p,_,p),t)}else{const s=new L.Range(_,p,_,p+1),t=S.getValueInRange(s);m.addEditOperation(s,null),m.addEditOperation(new L.Range(_,f,_,f),t)}}computeCursorState(S,m){return this._isMovingLeft?new k.Selection(this._selection.startLineNumber,this._selection.startColumn-1,this._selection.endLineNumber,this._selection.endColumn-1):new k.Selection(this._selection.startLineNumber,this._selection.startColumn+1,this._selection.endLineNumber,this._selection.endColumn+1)}}e.MoveCaretCommand=y}),define(X[112],ee([1,0,12]),function(q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeActionItem=e.CodeActionCommandArgs=e.filtersAction=e.mayIncludeActionsOfKind=e.CodeActionTriggerSource=e.CodeActionKind=void 0;class k{constructor(s){this.value=s}equals(s){return this.value===s.value}contains(s){return this.equals(s)||this.value===""||s.value.startsWith(this.value+k.sep)}intersects(s){return this.contains(s)||s.contains(this)}append(s){return new k(this.value+k.sep+s)}}e.CodeActionKind=k,k.sep=".",k.None=new k("@@none@@"),k.Empty=new k(""),k.QuickFix=new k("quickfix"),k.Refactor=new k("refactor"),k.RefactorExtract=k.Refactor.append("extract"),k.RefactorInline=k.Refactor.append("inline"),k.RefactorMove=k.Refactor.append("move"),k.RefactorRewrite=k.Refactor.append("rewrite"),k.Source=new k("source"),k.SourceOrganizeImports=k.Source.append("organizeImports"),k.SourceFixAll=k.Source.append("fixAll"),k.SurroundWith=k.Refactor.append("surround");var y;(function(p){p.Refactor="refactor",p.RefactorPreview="refactor preview",p.Lightbulb="lightbulb",p.Default="other (default)",p.SourceAction="source action",p.QuickFix="quick fix action",p.FixAll="fix all",p.OrganizeImports="organize imports",p.AutoFix="auto fix",p.QuickFixHover="quick fix hover window",p.OnSave="save participants",p.ProblemsView="problems view"})(y||(e.CodeActionTriggerSource=y={}));function D(p,s){return!(p.include&&!p.include.intersects(s)||p.excludes&&p.excludes.some(t=>m(s,t,p.include))||!p.includeSourceActions&&k.Source.contains(s))}e.mayIncludeActionsOfKind=D;function S(p,s){const t=s.kind?new k(s.kind):void 0;return!(p.include&&(!t||!p.include.contains(t))||p.excludes&&t&&p.excludes.some(i=>m(t,i,p.include))||!p.includeSourceActions&&t&&k.Source.contains(t)||p.onlyIncludePreferredActions&&!s.isPreferred)}e.filtersAction=S;function m(p,s,t){return!(!s.contains(p)||t&&s.contains(t))}class _{static fromUser(s,t){return!s||typeof s!="object"?new _(t.kind,t.apply,!1):new _(_.getKindFromUser(s,t.kind),_.getApplyFromUser(s,t.apply),_.getPreferredUser(s))}static getApplyFromUser(s,t){switch(typeof s.apply=="string"?s.apply.toLowerCase():""){case"first":return"first";case"never":return"never";case"ifsingle":return"ifSingle";default:return t}}static getKindFromUser(s,t){return typeof s.kind=="string"?new k(s.kind):t}static getPreferredUser(s){return typeof s.preferred=="boolean"?s.preferred:!1}constructor(s,t,i){this.kind=s,this.apply=t,this.preferred=i}}e.CodeActionCommandArgs=_;class f{constructor(s,t){this.action=s,this.provider=t}resolve(s){var t;return Le(this,void 0,void 0,function*(){if(!((t=this.provider)===null||t===void 0)&&t.resolveCodeAction&&!this.action.edit){let i;try{i=yield this.provider.resolveCodeAction(this.action,s)}catch(o){(0,L.onUnexpectedExternalError)(o)}i&&(this.action.edit=i.edit)}return this})}}e.CodeActionItem=f}),define(X[532],ee([1,0,6]),function(q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorPickerModel=void 0;class k{get color(){return this._color}set color(D){this._color.equals(D)||(this._color=D,this._onDidChangeColor.fire(D))}get presentation(){return this.colorPresentations[this.presentationIndex]}get colorPresentations(){return this._colorPresentations}set colorPresentations(D){this._colorPresentations=D,this.presentationIndex>D.length-1&&(this.presentationIndex=0),this._onDidChangePresentation.fire(this.presentation)}constructor(D,S,m){this.presentationIndex=m,this._onColorFlushed=new L.Emitter,this.onColorFlushed=this._onColorFlushed.event,this._onDidChangeColor=new L.Emitter,this.onDidChangeColor=this._onDidChangeColor.event,this._onDidChangePresentation=new L.Emitter,this.onDidChangePresentation=this._onDidChangePresentation.event,this.originalColor=D,this._color=D,this._colorPresentations=S}selectNextColorPresentation(){this.presentationIndex=(this.presentationIndex+1)%this.colorPresentations.length,this.flushColor(),this._onDidChangePresentation.fire(this.presentation)}guessColorPresentation(D,S){let m=-1;for(let _=0;_<this.colorPresentations.length;_++)if(S.toLowerCase()===this.colorPresentations[_].label){m=_;break}if(m===-1){const _=S.split("(")[0].toLowerCase();for(let f=0;f<this.colorPresentations.length;f++)if(this.colorPresentations[f].label.toLowerCase().startsWith(_)){m=f;break}}m!==-1&&m!==this.presentationIndex&&(this.presentationIndex=m,this._onDidChangePresentation.fire(this.presentation))}flushColor(){this._onColorFlushed.fire(this._color)}}e.ColorPickerModel=k}),define(X[288],ee([1,0,71,11,5,24]),function(q,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BlockCommentCommand=void 0;class S{constructor(_,f,p){this.languageConfigurationService=p,this._selection=_,this._insertSpace=f,this._usedEndToken=null}static _haystackHasNeedleAtOffset(_,f,p){if(p<0)return!1;const s=f.length,t=_.length;if(p+s>t)return!1;for(let i=0;i<s;i++){const o=_.charCodeAt(p+i),r=f.charCodeAt(i);if(o!==r&&!(o>=65&&o<=90&&o+32===r)&&!(r>=65&&r<=90&&r+32===o))return!1}return!0}_createOperationsForBlockComment(_,f,p,s,t,i){const o=_.startLineNumber,r=_.startColumn,d=_.endLineNumber,h=_.endColumn,n=t.getLineContent(o),c=t.getLineContent(d);let a=n.lastIndexOf(f,r-1+f.length),l=c.indexOf(p,h-1-p.length);if(a!==-1&&l!==-1)if(o===d)n.substring(a+f.length,l).indexOf(p)>=0&&(a=-1,l=-1);else{const C=n.substring(a+f.length),g=c.substring(0,l);(C.indexOf(p)>=0||g.indexOf(p)>=0)&&(a=-1,l=-1)}let u;a!==-1&&l!==-1?(s&&a+f.length<n.length&&n.charCodeAt(a+f.length)===32&&(f=f+" "),s&&l>0&&c.charCodeAt(l-1)===32&&(p=" "+p,l-=1),u=S._createRemoveBlockCommentOperations(new y.Range(o,a+f.length+1,d,l+1),f,p)):(u=S._createAddBlockCommentOperations(_,f,p,this._insertSpace),this._usedEndToken=u.length===1?p:null);for(const C of u)i.addTrackedEditOperation(C.range,C.text)}static _createRemoveBlockCommentOperations(_,f,p){const s=[];return y.Range.isEmpty(_)?s.push(L.EditOperation.delete(new y.Range(_.startLineNumber,_.startColumn-f.length,_.endLineNumber,_.endColumn+p.length))):(s.push(L.EditOperation.delete(new y.Range(_.startLineNumber,_.startColumn-f.length,_.startLineNumber,_.startColumn))),s.push(L.EditOperation.delete(new y.Range(_.endLineNumber,_.endColumn,_.endLineNumber,_.endColumn+p.length)))),s}static _createAddBlockCommentOperations(_,f,p,s){const t=[];return y.Range.isEmpty(_)?t.push(L.EditOperation.replace(new y.Range(_.startLineNumber,_.startColumn,_.endLineNumber,_.endColumn),f+"  "+p)):(t.push(L.EditOperation.insert(new k.Position(_.startLineNumber,_.startColumn),f+(s?" ":""))),t.push(L.EditOperation.insert(new k.Position(_.endLineNumber,_.endColumn),(s?" ":"")+p))),t}getEditOperations(_,f){const p=this._selection.startLineNumber,s=this._selection.startColumn;_.tokenization.tokenizeIfCheap(p);const t=_.getLanguageIdAtPosition(p,s),i=this.languageConfigurationService.getLanguageConfiguration(t).comments;!i||!i.blockCommentStartToken||!i.blockCommentEndToken||this._createOperationsForBlockComment(this._selection,i.blockCommentStartToken,i.blockCommentEndToken,this._insertSpace,_,f)}computeCursorState(_,f){const p=f.getInverseEditOperations();if(p.length===2){const s=p[0],t=p[1];return new D.Selection(s.range.endLineNumber,s.range.endColumn,t.range.startLineNumber,t.range.startColumn)}else{const s=p[0].range,t=this._usedEndToken?-this._usedEndToken.length-1:0;return new D.Selection(s.endLineNumber,s.endColumn+t,s.endLineNumber,s.endColumn+t)}}}e.BlockCommentCommand=S}),define(X[533],ee([1,0,9,71,11,5,24,288]),function(q,e,L,k,y,D,S,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LineCommentCommand=void 0;class _{constructor(p,s,t,i,o,r,d){this.languageConfigurationService=p,this._selection=s,this._tabSize=t,this._type=i,this._insertSpace=o,this._selectionId=null,this._deltaColumn=0,this._moveEndPositionDown=!1,this._ignoreEmptyLines=r,this._ignoreFirstLine=d||!1}static _gatherPreflightCommentStrings(p,s,t,i){p.tokenization.tokenizeIfCheap(s);const o=p.getLanguageIdAtPosition(s,1),r=i.getLanguageConfiguration(o).comments,d=r?r.lineCommentToken:null;if(!d)return null;const h=[];for(let n=0,c=t-s+1;n<c;n++)h[n]={ignore:!1,commentStr:d,commentStrOffset:0,commentStrLength:d.length};return h}static _analyzeLines(p,s,t,i,o,r,d,h){let n=!0,c;p===0?c=!0:p===1?c=!1:c=!0;for(let a=0,l=i.length;a<l;a++){const u=i[a],C=o+a;if(C===o&&d){u.ignore=!0;continue}const g=t.getLineContent(C),v=L.firstNonWhitespaceIndex(g);if(v===-1){u.ignore=r,u.commentStrOffset=g.length;continue}if(n=!1,u.ignore=!1,u.commentStrOffset=v,c&&!m.BlockCommentCommand._haystackHasNeedleAtOffset(g,u.commentStr,v)&&(p===0?c=!1:p===1||(u.ignore=!0)),c&&s){const b=v+u.commentStrLength;b<g.length&&g.charCodeAt(b)===32&&(u.commentStrLength+=1)}}if(p===0&&n){c=!1;for(let a=0,l=i.length;a<l;a++)i[a].ignore=!1}return{supported:!0,shouldRemoveComments:c,lines:i}}static _gatherPreflightData(p,s,t,i,o,r,d,h){const n=_._gatherPreflightCommentStrings(t,i,o,h);return n===null?{supported:!1}:_._analyzeLines(p,s,t,n,i,r,d,h)}_executeLineComments(p,s,t,i){let o;t.shouldRemoveComments?o=_._createRemoveLineCommentsOperations(t.lines,i.startLineNumber):(_._normalizeInsertionPoint(p,t.lines,i.startLineNumber,this._tabSize),o=this._createAddLineCommentsOperations(t.lines,i.startLineNumber));const r=new y.Position(i.positionLineNumber,i.positionColumn);for(let d=0,h=o.length;d<h;d++)s.addEditOperation(o[d].range,o[d].text),D.Range.isEmpty(o[d].range)&&D.Range.getStartPosition(o[d].range).equals(r)&&p.getLineContent(r.lineNumber).length+1===r.column&&(this._deltaColumn=(o[d].text||"").length);this._selectionId=s.trackSelection(i)}_attemptRemoveBlockComment(p,s,t,i){let o=s.startLineNumber,r=s.endLineNumber;const d=i.length+Math.max(p.getLineFirstNonWhitespaceColumn(s.startLineNumber),s.startColumn);let h=p.getLineContent(o).lastIndexOf(t,d-1),n=p.getLineContent(r).indexOf(i,s.endColumn-1-t.length);return h!==-1&&n===-1&&(n=p.getLineContent(o).indexOf(i,h+t.length),r=o),h===-1&&n!==-1&&(h=p.getLineContent(r).lastIndexOf(t,n),o=r),s.isEmpty()&&(h===-1||n===-1)&&(h=p.getLineContent(o).indexOf(t),h!==-1&&(n=p.getLineContent(o).indexOf(i,h+t.length))),h!==-1&&p.getLineContent(o).charCodeAt(h+t.length)===32&&(t+=" "),n!==-1&&p.getLineContent(r).charCodeAt(n-1)===32&&(i=" "+i,n-=1),h!==-1&&n!==-1?m.BlockCommentCommand._createRemoveBlockCommentOperations(new D.Range(o,h+t.length+1,r,n+1),t,i):null}_executeBlockComment(p,s,t){p.tokenization.tokenizeIfCheap(t.startLineNumber);const i=p.getLanguageIdAtPosition(t.startLineNumber,1),o=this.languageConfigurationService.getLanguageConfiguration(i).comments;if(!o||!o.blockCommentStartToken||!o.blockCommentEndToken)return;const r=o.blockCommentStartToken,d=o.blockCommentEndToken;let h=this._attemptRemoveBlockComment(p,t,r,d);if(!h){if(t.isEmpty()){const n=p.getLineContent(t.startLineNumber);let c=L.firstNonWhitespaceIndex(n);c===-1&&(c=n.length),h=m.BlockCommentCommand._createAddBlockCommentOperations(new D.Range(t.startLineNumber,c+1,t.startLineNumber,n.length+1),r,d,this._insertSpace)}else h=m.BlockCommentCommand._createAddBlockCommentOperations(new D.Range(t.startLineNumber,p.getLineFirstNonWhitespaceColumn(t.startLineNumber),t.endLineNumber,p.getLineMaxColumn(t.endLineNumber)),r,d,this._insertSpace);h.length===1&&(this._deltaColumn=r.length+1)}this._selectionId=s.trackSelection(t);for(const n of h)s.addEditOperation(n.range,n.text)}getEditOperations(p,s){let t=this._selection;if(this._moveEndPositionDown=!1,t.startLineNumber===t.endLineNumber&&this._ignoreFirstLine){s.addEditOperation(new D.Range(t.startLineNumber,p.getLineMaxColumn(t.startLineNumber),t.startLineNumber+1,1),t.startLineNumber===p.getLineCount()?"":`
`),this._selectionId=s.trackSelection(t);return}t.startLineNumber<t.endLineNumber&&t.endColumn===1&&(this._moveEndPositionDown=!0,t=t.setEndPosition(t.endLineNumber-1,p.getLineMaxColumn(t.endLineNumber-1)));const i=_._gatherPreflightData(this._type,this._insertSpace,p,t.startLineNumber,t.endLineNumber,this._ignoreEmptyLines,this._ignoreFirstLine,this.languageConfigurationService);return i.supported?this._executeLineComments(p,s,i,t):this._executeBlockComment(p,s,t)}computeCursorState(p,s){let t=s.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(t=t.setEndPosition(t.endLineNumber+1,1)),new S.Selection(t.selectionStartLineNumber,t.selectionStartColumn+this._deltaColumn,t.positionLineNumber,t.positionColumn+this._deltaColumn)}static _createRemoveLineCommentsOperations(p,s){const t=[];for(let i=0,o=p.length;i<o;i++){const r=p[i];r.ignore||t.push(k.EditOperation.delete(new D.Range(s+i,r.commentStrOffset+1,s+i,r.commentStrOffset+r.commentStrLength+1)))}return t}_createAddLineCommentsOperations(p,s){const t=[],i=this._insertSpace?" ":"";for(let o=0,r=p.length;o<r;o++){const d=p[o];d.ignore||t.push(k.EditOperation.insert(new y.Position(s+o,d.commentStrOffset+1),d.commentStr+i))}return t}static nextVisibleColumn(p,s,t,i){return t?p+(s-p%s):p+i}static _normalizeInsertionPoint(p,s,t,i){let o=1073741824,r,d;for(let h=0,n=s.length;h<n;h++){if(s[h].ignore)continue;const c=p.getLineContent(t+h);let a=0;for(let l=0,u=s[h].commentStrOffset;a<o&&l<u;l++)a=_.nextVisibleColumn(a,i,c.charCodeAt(l)===9,1);a<o&&(o=a)}o=Math.floor(o/i)*i;for(let h=0,n=s.length;h<n;h++){if(s[h].ignore)continue;const c=p.getLineContent(t+h);let a=0;for(r=0,d=s[h].commentStrOffset;a<o&&r<d;r++)a=_.nextVisibleColumn(a,i,c.charCodeAt(r)===9,1);a>o?s[h].commentStrOffset=r-1:s[h].commentStrOffset=r}}}e.LineCommentCommand=_}),define(X[534],ee([1,0,5,24]),function(q,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DragAndDropCommand=void 0;class y{constructor(S,m,_){this.selection=S,this.targetPosition=m,this.copy=_,this.targetSelection=null}getEditOperations(S,m){const _=S.getValueInRange(this.selection);if(this.copy||m.addEditOperation(this.selection,null),m.addEditOperation(new L.Range(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column),_),this.selection.containsPosition(this.targetPosition)&&!(this.copy&&(this.selection.getEndPosition().equals(this.targetPosition)||this.selection.getStartPosition().equals(this.targetPosition)))){this.targetSelection=this.selection;return}if(this.copy){this.targetSelection=new k.Selection(this.targetPosition.lineNumber,this.targetPosition.column,this.selection.endLineNumber-this.selection.startLineNumber+this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}if(this.targetPosition.lineNumber>this.selection.endLineNumber){this.targetSelection=new k.Selection(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}if(this.targetPosition.lineNumber<this.selection.endLineNumber){this.targetSelection=new k.Selection(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber+this.selection.endLineNumber-this.selection.startLineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}this.selection.endColumn<=this.targetPosition.column?this.targetSelection=new k.Selection(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column-this.selection.endColumn+this.selection.startColumn:this.targetPosition.column-this.selection.endColumn+this.selection.startColumn,this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column:this.selection.endColumn):this.targetSelection=new k.Selection(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column+this.selection.endColumn-this.selection.startColumn)}computeCursorState(S,m){return this.targetSelection}}e.DragAndDropCommand=y}),define(X[535],ee([1,0,5]),function(q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReplaceAllCommand=void 0;class k{constructor(D,S,m){this._editorSelection=D,this._ranges=S,this._replaceStrings=m,this._trackedEditorSelectionId=null}getEditOperations(D,S){if(this._ranges.length>0){const m=[];for(let p=0;p<this._ranges.length;p++)m.push({range:this._ranges[p],text:this._replaceStrings[p]});m.sort((p,s)=>L.Range.compareRangesUsingStarts(p.range,s.range));const _=[];let f=m[0];for(let p=1;p<m.length;p++)f.range.endLineNumber===m[p].range.startLineNumber&&f.range.endColumn===m[p].range.startColumn?(f.range=f.range.plusRange(m[p].range),f.text=f.text+m[p].text):(_.push(f),f=m[p]);_.push(f);for(const p of _)S.addEditOperation(p.range,p.text)}this._trackedEditorSelectionId=S.trackSelection(this._editorSelection)}computeCursorState(D,S){return S.getTrackedSelection(this._trackedEditorSelectionId)}}e.ReplaceAllCommand=k}),define(X[536],ee([1,0,387]),function(q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseReplaceString=e.ReplacePiece=e.ReplacePattern=void 0;class k{constructor(p){this.staticValue=p,this.kind=0}}class y{constructor(p){this.pieces=p,this.kind=1}}class D{static fromStaticValue(p){return new D([S.staticValue(p)])}get hasReplacementPatterns(){return this._state.kind===1}constructor(p){!p||p.length===0?this._state=new k(""):p.length===1&&p[0].staticValue!==null?this._state=new k(p[0].staticValue):this._state=new y(p)}buildReplaceString(p,s){if(this._state.kind===0)return s?(0,L.buildReplaceStringWithCasePreserved)(p,this._state.staticValue):this._state.staticValue;let t="";for(let i=0,o=this._state.pieces.length;i<o;i++){const r=this._state.pieces[i];if(r.staticValue!==null){t+=r.staticValue;continue}let d=D._substitute(r.matchIndex,p);if(r.caseOps!==null&&r.caseOps.length>0){const h=[],n=r.caseOps.length;let c=0;for(let a=0,l=d.length;a<l;a++){if(c>=n){h.push(d.slice(a));break}switch(r.caseOps[c]){case"U":h.push(d[a].toUpperCase());break;case"u":h.push(d[a].toUpperCase()),c++;break;case"L":h.push(d[a].toLowerCase());break;case"l":h.push(d[a].toLowerCase()),c++;break;default:h.push(d[a])}}d=h.join("")}t+=d}return t}static _substitute(p,s){if(s===null)return"";if(p===0)return s[0];let t="";for(;p>0;){if(p<s.length)return(s[p]||"")+t;t=String(p%10)+t,p=Math.floor(p/10)}return"$"+t}}e.ReplacePattern=D;class S{static staticValue(p){return new S(p,-1,null)}static caseOps(p,s){return new S(null,p,s)}constructor(p,s,t){this.staticValue=p,this.matchIndex=s,!t||t.length===0?this.caseOps=null:this.caseOps=t.slice(0)}}e.ReplacePiece=S;class m{constructor(p){this._source=p,this._lastCharIndex=0,this._result=[],this._resultLen=0,this._currentStaticPiece=""}emitUnchanged(p){this._emitStatic(this._source.substring(this._lastCharIndex,p)),this._lastCharIndex=p}emitStatic(p,s){this._emitStatic(p),this._lastCharIndex=s}_emitStatic(p){p.length!==0&&(this._currentStaticPiece+=p)}emitMatchIndex(p,s,t){this._currentStaticPiece.length!==0&&(this._result[this._resultLen++]=S.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),this._result[this._resultLen++]=S.caseOps(p,t),this._lastCharIndex=s}finalize(){return this.emitUnchanged(this._source.length),this._currentStaticPiece.length!==0&&(this._result[this._resultLen++]=S.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),new D(this._result)}}function _(f){if(!f||f.length===0)return new D(null);const p=[],s=new m(f);for(let t=0,i=f.length;t<i;t++){const o=f.charCodeAt(t);if(o===92){if(t++,t>=i)break;const r=f.charCodeAt(t);switch(r){case 92:s.emitUnchanged(t-1),s.emitStatic("\\",t+1);break;case 110:s.emitUnchanged(t-1),s.emitStatic(`
`,t+1);break;case 116:s.emitUnchanged(t-1),s.emitStatic("	",t+1);break;case 117:case 85:case 108:case 76:s.emitUnchanged(t-1),s.emitStatic("",t+1),p.push(String.fromCharCode(r));break}continue}if(o===36){if(t++,t>=i)break;const r=f.charCodeAt(t);if(r===36){s.emitUnchanged(t-1),s.emitStatic("$",t+1);continue}if(r===48||r===38){s.emitUnchanged(t-1),s.emitMatchIndex(0,t+1,p),p.length=0;continue}if(49<=r&&r<=57){let d=r-48;if(t+1<i){const h=f.charCodeAt(t+1);if(48<=h&&h<=57){t++,d=d*10+(h-48),s.emitUnchanged(t-2),s.emitMatchIndex(d,t+1,p),p.length=0;continue}}s.emitUnchanged(t-1),s.emitMatchIndex(d,t+1,p),p.length=0;continue}}}return s.finalize()}e.parseReplaceString=_}),define(X[184],ee([1,0]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FoldingRegion=e.FoldingRegions=e.MAX_LINE_NUMBER=e.MAX_FOLDING_REGIONS=e.foldSourceAbbr=void 0,e.foldSourceAbbr={[0]:" ",[1]:"u",[2]:"r"},e.MAX_FOLDING_REGIONS=65535,e.MAX_LINE_NUMBER=16777215;const L=4278190080;class k{constructor(m){const _=Math.ceil(m/32);this._states=new Uint32Array(_)}get(m){const _=m/32|0,f=m%32;return(this._states[_]&1<<f)!==0}set(m,_){const f=m/32|0,p=m%32,s=this._states[f];_?this._states[f]=s|1<<p:this._states[f]=s&~(1<<p)}}class y{constructor(m,_,f){if(m.length!==_.length||m.length>e.MAX_FOLDING_REGIONS)throw new Error("invalid startIndexes or endIndexes size");this._startIndexes=m,this._endIndexes=_,this._collapseStates=new k(m.length),this._userDefinedStates=new k(m.length),this._recoveredStates=new k(m.length),this._types=f,this._parentsComputed=!1}ensureParentIndices(){if(!this._parentsComputed){this._parentsComputed=!0;const m=[],_=(f,p)=>{const s=m[m.length-1];return this.getStartLineNumber(s)<=f&&this.getEndLineNumber(s)>=p};for(let f=0,p=this._startIndexes.length;f<p;f++){const s=this._startIndexes[f],t=this._endIndexes[f];if(s>e.MAX_LINE_NUMBER||t>e.MAX_LINE_NUMBER)throw new Error("startLineNumber or endLineNumber must not exceed "+e.MAX_LINE_NUMBER);for(;m.length>0&&!_(s,t);)m.pop();const i=m.length>0?m[m.length-1]:-1;m.push(f),this._startIndexes[f]=s+((i&255)<<24),this._endIndexes[f]=t+((i&65280)<<16)}}}get length(){return this._startIndexes.length}getStartLineNumber(m){return this._startIndexes[m]&e.MAX_LINE_NUMBER}getEndLineNumber(m){return this._endIndexes[m]&e.MAX_LINE_NUMBER}getType(m){return this._types?this._types[m]:void 0}hasTypes(){return!!this._types}isCollapsed(m){return this._collapseStates.get(m)}setCollapsed(m,_){this._collapseStates.set(m,_)}isUserDefined(m){return this._userDefinedStates.get(m)}setUserDefined(m,_){return this._userDefinedStates.set(m,_)}isRecovered(m){return this._recoveredStates.get(m)}setRecovered(m,_){return this._recoveredStates.set(m,_)}getSource(m){return this.isUserDefined(m)?1:this.isRecovered(m)?2:0}setSource(m,_){_===1?(this.setUserDefined(m,!0),this.setRecovered(m,!1)):_===2?(this.setUserDefined(m,!1),this.setRecovered(m,!0)):(this.setUserDefined(m,!1),this.setRecovered(m,!1))}setCollapsedAllOfType(m,_){let f=!1;if(this._types)for(let p=0;p<this._types.length;p++)this._types[p]===m&&(this.setCollapsed(p,_),f=!0);return f}toRegion(m){return new D(this,m)}getParentIndex(m){this.ensureParentIndices();const _=((this._startIndexes[m]&L)>>>24)+((this._endIndexes[m]&L)>>>16);return _===e.MAX_FOLDING_REGIONS?-1:_}contains(m,_){return this.getStartLineNumber(m)<=_&&this.getEndLineNumber(m)>=_}findIndex(m){let _=0,f=this._startIndexes.length;if(f===0)return-1;for(;_<f;){const p=Math.floor((_+f)/2);m<this.getStartLineNumber(p)?f=p:_=p+1}return _-1}findRange(m){let _=this.findIndex(m);if(_>=0){if(this.getEndLineNumber(_)>=m)return _;for(_=this.getParentIndex(_);_!==-1;){if(this.contains(_,m))return _;_=this.getParentIndex(_)}}return-1}toString(){const m=[];for(let _=0;_<this.length;_++)m[_]=`[${e.foldSourceAbbr[this.getSource(_)]}${this.isCollapsed(_)?"+":"-"}] ${this.getStartLineNumber(_)}/${this.getEndLineNumber(_)}`;return m.join(", ")}toFoldRange(m){return{startLineNumber:this._startIndexes[m]&e.MAX_LINE_NUMBER,endLineNumber:this._endIndexes[m]&e.MAX_LINE_NUMBER,type:this._types?this._types[m]:void 0,isCollapsed:this.isCollapsed(m),source:this.getSource(m)}}static fromFoldRanges(m){const _=m.length,f=new Uint32Array(_),p=new Uint32Array(_);let s=[],t=!1;for(let o=0;o<_;o++){const r=m[o];f[o]=r.startLineNumber,p[o]=r.endLineNumber,s.push(r.type),r.type&&(t=!0)}t||(s=void 0);const i=new y(f,p,s);for(let o=0;o<_;o++)m[o].isCollapsed&&i.setCollapsed(o,!0),i.setSource(o,m[o].source);return i}static sanitizeAndMerge(m,_,f){f=f??Number.MAX_VALUE;const p=(l,u)=>Array.isArray(l)?C=>C<u?l[C]:void 0:C=>C<u?l.toFoldRange(C):void 0,s=p(m,m.length),t=p(_,_.length);let i=0,o=0,r=s(0),d=t(0);const h=[];let n,c=0;const a=[];for(;r||d;){let l;if(d&&(!r||r.startLineNumber>=d.startLineNumber))r&&r.startLineNumber===d.startLineNumber?(d.source===1?l=d:(l=r,l.isCollapsed=d.isCollapsed&&r.endLineNumber===d.endLineNumber,l.source=0),r=s(++i)):(l=d,d.isCollapsed&&d.source===0&&(l.source=2)),d=t(++o);else{let u=o,C=d;for(;;){if(!C||C.startLineNumber>r.endLineNumber){l=r;break}if(C.source===1&&C.endLineNumber>r.endLineNumber)break;C=t(++u)}r=s(++i)}if(l){for(;n&&n.endLineNumber<l.startLineNumber;)n=h.pop();l.endLineNumber>l.startLineNumber&&l.startLineNumber>c&&l.endLineNumber<=f&&(!n||n.endLineNumber>=l.endLineNumber)&&(a.push(l),c=l.startLineNumber,n&&h.push(n),n=l)}}return a}}e.FoldingRegions=y;class D{constructor(m,_){this.ranges=m,this.index=_}get startLineNumber(){return this.ranges.getStartLineNumber(this.index)}get endLineNumber(){return this.ranges.getEndLineNumber(this.index)}get regionIndex(){return this.index}get parentIndex(){return this.ranges.getParentIndex(this.index)}get isCollapsed(){return this.ranges.isCollapsed(this.index)}containedBy(m){return m.startLineNumber<=this.startLineNumber&&m.endLineNumber>=this.endLineNumber}containsLine(m){return this.startLineNumber<=m&&m<=this.endLineNumber}}e.FoldingRegion=D}),define(X[537],ee([1,0,6,184,141]),function(q,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getNextFoldLine=e.getPreviousFoldLine=e.getParentFoldLine=e.setCollapseStateForType=e.setCollapseStateForMatchingLines=e.setCollapseStateForRest=e.setCollapseStateAtLevel=e.setCollapseStateUp=e.setCollapseStateLevelsUp=e.setCollapseStateLevelsDown=e.toggleCollapseState=e.FoldingModel=void 0;class D{get regions(){return this._regions}get textModel(){return this._textModel}constructor(n,c){this._updateEventEmitter=new L.Emitter,this.onDidChange=this._updateEventEmitter.event,this._textModel=n,this._decorationProvider=c,this._regions=new k.FoldingRegions(new Uint32Array(0),new Uint32Array(0)),this._editorDecorationIds=[]}toggleCollapseState(n){if(!n.length)return;n=n.sort((a,l)=>a.regionIndex-l.regionIndex);const c={};this._decorationProvider.changeDecorations(a=>{let l=0,u=-1,C=-1;const g=v=>{for(;l<v;){const b=this._regions.getEndLineNumber(l),w=this._regions.isCollapsed(l);if(b<=u){const E=this.regions.getSource(l)!==0;a.changeDecorationOptions(this._editorDecorationIds[l],this._decorationProvider.getDecorationOption(w,b<=C,E))}w&&b>C&&(C=b),l++}};for(const v of n){const b=v.regionIndex,w=this._editorDecorationIds[b];if(w&&!c[w]){c[w]=!0,g(b);const E=!this._regions.isCollapsed(b);this._regions.setCollapsed(b,E),u=Math.max(u,this._regions.getEndLineNumber(b))}}g(this._regions.length)}),this._updateEventEmitter.fire({model:this,collapseStateChanged:n})}removeManualRanges(n){const c=new Array,a=l=>{for(const u of n)if(!(u.startLineNumber>l.endLineNumber||l.startLineNumber>u.endLineNumber))return!0;return!1};for(let l=0;l<this._regions.length;l++){const u=this._regions.toFoldRange(l);(u.source===0||!a(u))&&c.push(u)}this.updatePost(k.FoldingRegions.fromFoldRanges(c))}update(n,c=[]){const a=this._currentFoldedOrManualRanges(c),l=k.FoldingRegions.sanitizeAndMerge(n,a,this._textModel.getLineCount());this.updatePost(k.FoldingRegions.fromFoldRanges(l))}updatePost(n){const c=[];let a=-1;for(let l=0,u=n.length;l<u;l++){const C=n.getStartLineNumber(l),g=n.getEndLineNumber(l),v=n.isCollapsed(l),b=n.getSource(l)!==0,w={startLineNumber:C,startColumn:this._textModel.getLineMaxColumn(C),endLineNumber:g,endColumn:this._textModel.getLineMaxColumn(g)+1};c.push({range:w,options:this._decorationProvider.getDecorationOption(v,g<=a,b)}),v&&g>a&&(a=g)}this._decorationProvider.changeDecorations(l=>this._editorDecorationIds=l.deltaDecorations(this._editorDecorationIds,c)),this._regions=n,this._updateEventEmitter.fire({model:this})}_currentFoldedOrManualRanges(n=[]){const c=(l,u)=>{for(const C of n)if(l<C&&C<=u)return!0;return!1},a=[];for(let l=0,u=this._regions.length;l<u;l++){let C=this.regions.isCollapsed(l);const g=this.regions.getSource(l);if(C||g!==0){const v=this._regions.toFoldRange(l),b=this._textModel.getDecorationRange(this._editorDecorationIds[l]);b&&(C&&c(b.startLineNumber,b.endLineNumber)&&(C=!1),a.push({startLineNumber:b.startLineNumber,endLineNumber:b.endLineNumber,type:v.type,isCollapsed:C,source:g}))}}return a}getMemento(){const n=this._currentFoldedOrManualRanges(),c=[],a=this._textModel.getLineCount();for(let l=0,u=n.length;l<u;l++){const C=n[l];if(C.startLineNumber>=C.endLineNumber||C.startLineNumber<1||C.endLineNumber>a)continue;const g=this._getLinesChecksum(C.startLineNumber+1,C.endLineNumber);c.push({startLineNumber:C.startLineNumber,endLineNumber:C.endLineNumber,isCollapsed:C.isCollapsed,source:C.source,checksum:g})}return c.length>0?c:void 0}applyMemento(n){var c,a;if(!Array.isArray(n))return;const l=[],u=this._textModel.getLineCount();for(const g of n){if(g.startLineNumber>=g.endLineNumber||g.startLineNumber<1||g.endLineNumber>u)continue;const v=this._getLinesChecksum(g.startLineNumber+1,g.endLineNumber);(!g.checksum||v===g.checksum)&&l.push({startLineNumber:g.startLineNumber,endLineNumber:g.endLineNumber,type:void 0,isCollapsed:(c=g.isCollapsed)!==null&&c!==void 0?c:!0,source:(a=g.source)!==null&&a!==void 0?a:0})}const C=k.FoldingRegions.sanitizeAndMerge(this._regions,l,u);this.updatePost(k.FoldingRegions.fromFoldRanges(C))}_getLinesChecksum(n,c){return(0,y.hash)(this._textModel.getLineContent(n)+this._textModel.getLineContent(c))%1e6}dispose(){this._decorationProvider.removeDecorations(this._editorDecorationIds)}getAllRegionsAtLine(n,c){const a=[];if(this._regions){let l=this._regions.findRange(n),u=1;for(;l>=0;){const C=this._regions.toRegion(l);(!c||c(C,u))&&a.push(C),u++,l=C.parentIndex}}return a}getRegionAtLine(n){if(this._regions){const c=this._regions.findRange(n);if(c>=0)return this._regions.toRegion(c)}return null}getRegionsInside(n,c){const a=[],l=n?n.regionIndex+1:0,u=n?n.endLineNumber:Number.MAX_VALUE;if(c&&c.length===2){const C=[];for(let g=l,v=this._regions.length;g<v;g++){const b=this._regions.toRegion(g);if(this._regions.getStartLineNumber(g)<u){for(;C.length>0&&!b.containedBy(C[C.length-1]);)C.pop();C.push(b),c(b,C.length)&&a.push(b)}else break}}else for(let C=l,g=this._regions.length;C<g;C++){const v=this._regions.toRegion(C);if(this._regions.getStartLineNumber(C)<u)(!c||c(v))&&a.push(v);else break}return a}}e.FoldingModel=D;function S(h,n,c){const a=[];for(const l of c){const u=h.getRegionAtLine(l);if(u){const C=!u.isCollapsed;if(a.push(u),n>1){const g=h.getRegionsInside(u,(v,b)=>v.isCollapsed!==C&&b<n);a.push(...g)}}}h.toggleCollapseState(a)}e.toggleCollapseState=S;function m(h,n,c=Number.MAX_VALUE,a){const l=[];if(a&&a.length>0)for(const u of a){const C=h.getRegionAtLine(u);if(C&&(C.isCollapsed!==n&&l.push(C),c>1)){const g=h.getRegionsInside(C,(v,b)=>v.isCollapsed!==n&&b<c);l.push(...g)}}else{const u=h.getRegionsInside(null,(C,g)=>C.isCollapsed!==n&&g<c);l.push(...u)}h.toggleCollapseState(l)}e.setCollapseStateLevelsDown=m;function _(h,n,c,a){const l=[];for(const u of a){const C=h.getAllRegionsAtLine(u,(g,v)=>g.isCollapsed!==n&&v<=c);l.push(...C)}h.toggleCollapseState(l)}e.setCollapseStateLevelsUp=_;function f(h,n,c){const a=[];for(const l of c){const u=h.getAllRegionsAtLine(l,C=>C.isCollapsed!==n);u.length>0&&a.push(u[0])}h.toggleCollapseState(a)}e.setCollapseStateUp=f;function p(h,n,c,a){const l=(C,g)=>g===n&&C.isCollapsed!==c&&!a.some(v=>C.containsLine(v)),u=h.getRegionsInside(null,l);h.toggleCollapseState(u)}e.setCollapseStateAtLevel=p;function s(h,n,c){const a=[];for(const C of c){const g=h.getAllRegionsAtLine(C,void 0);g.length>0&&a.push(g[0])}const l=C=>a.every(g=>!g.containedBy(C)&&!C.containedBy(g))&&C.isCollapsed!==n,u=h.getRegionsInside(null,l);h.toggleCollapseState(u)}e.setCollapseStateForRest=s;function t(h,n,c){const a=h.textModel,l=h.regions,u=[];for(let C=l.length-1;C>=0;C--)if(c!==l.isCollapsed(C)){const g=l.getStartLineNumber(C);n.test(a.getLineContent(g))&&u.push(l.toRegion(C))}h.toggleCollapseState(u)}e.setCollapseStateForMatchingLines=t;function i(h,n,c){const a=h.regions,l=[];for(let u=a.length-1;u>=0;u--)c!==a.isCollapsed(u)&&n===a.getType(u)&&l.push(a.toRegion(u));h.toggleCollapseState(l)}e.setCollapseStateForType=i;function o(h,n){let c=null;const a=n.getRegionAtLine(h);if(a!==null&&(c=a.startLineNumber,h===c)){const l=a.parentIndex;l!==-1?c=n.regions.getStartLineNumber(l):c=null}return c}e.getParentFoldLine=o;function r(h,n){let c=n.getRegionAtLine(h);if(c!==null&&c.startLineNumber===h){if(h!==c.startLineNumber)return c.startLineNumber;{const a=c.parentIndex;let l=0;for(a!==-1&&(l=n.regions.getStartLineNumber(c.parentIndex));c!==null;)if(c.regionIndex>0){if(c=n.regions.toRegion(c.regionIndex-1),c.startLineNumber<=l)return null;if(c.parentIndex===a)return c.startLineNumber}else return null}}else if(n.regions.length>0)for(c=n.regions.toRegion(n.regions.length-1);c!==null;){if(c.startLineNumber<h)return c.startLineNumber;c.regionIndex>0?c=n.regions.toRegion(c.regionIndex-1):c=null}return null}e.getPreviousFoldLine=r;function d(h,n){let c=n.getRegionAtLine(h);if(c!==null&&c.startLineNumber===h){const a=c.parentIndex;let l=0;if(a!==-1)l=n.regions.getEndLineNumber(c.parentIndex);else{if(n.regions.length===0)return null;l=n.regions.getEndLineNumber(n.regions.length-1)}for(;c!==null;)if(c.regionIndex<n.regions.length){if(c=n.regions.toRegion(c.regionIndex+1),c.startLineNumber>=l)return null;if(c.parentIndex===a)return c.startLineNumber}else return null}else if(n.regions.length>0)for(c=n.regions.toRegion(0);c!==null;){if(c.startLineNumber>h)return c.startLineNumber;c.regionIndex<n.regions.length?c=n.regions.toRegion(c.regionIndex+1):c=null}return null}e.getNextFoldLine=d}),define(X[538],ee([1,0,16,6,5,120]),function(q,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HiddenRangeModel=void 0;class S{get onDidChange(){return this._updateEventEmitter.event}get hiddenRanges(){return this._hiddenRanges}constructor(p){this._updateEventEmitter=new k.Emitter,this._hasLineChanges=!1,this._foldingModel=p,this._foldingModelListener=p.onDidChange(s=>this.updateHiddenRanges()),this._hiddenRanges=[],p.regions.length&&this.updateHiddenRanges()}notifyChangeModelContent(p){this._hiddenRanges.length&&!this._hasLineChanges&&(this._hasLineChanges=p.changes.some(s=>s.range.endLineNumber!==s.range.startLineNumber||(0,D.countEOL)(s.text)[0]!==0))}updateHiddenRanges(){let p=!1;const s=[];let t=0,i=0,o=Number.MAX_VALUE,r=-1;const d=this._foldingModel.regions;for(;t<d.length;t++){if(!d.isCollapsed(t))continue;const h=d.getStartLineNumber(t)+1,n=d.getEndLineNumber(t);o<=h&&n<=r||(!p&&i<this._hiddenRanges.length&&this._hiddenRanges[i].startLineNumber===h&&this._hiddenRanges[i].endLineNumber===n?(s.push(this._hiddenRanges[i]),i++):(p=!0,s.push(new y.Range(h,1,n,1))),o=h,r=n)}(this._hasLineChanges||p||i<this._hiddenRanges.length)&&this.applyHiddenRanges(s)}applyHiddenRanges(p){this._hiddenRanges=p,this._hasLineChanges=!1,this._updateEventEmitter.fire(p)}hasRanges(){return this._hiddenRanges.length>0}isHidden(p){return _(this._hiddenRanges,p)!==null}adjustSelections(p){let s=!1;const t=this._foldingModel.textModel;let i=null;const o=r=>((!i||!m(r,i))&&(i=_(this._hiddenRanges,r)),i?i.startLineNumber-1:null);for(let r=0,d=p.length;r<d;r++){let h=p[r];const n=o(h.startLineNumber);n&&(h=h.setStartPosition(n,t.getLineMaxColumn(n)),s=!0);const c=o(h.endLineNumber);c&&(h=h.setEndPosition(c,t.getLineMaxColumn(c)),s=!0),p[r]=h}return s}dispose(){this.hiddenRanges.length>0&&(this._hiddenRanges=[],this._updateEventEmitter.fire(this._hiddenRanges)),this._foldingModelListener&&(this._foldingModelListener.dispose(),this._foldingModelListener=null)}}e.HiddenRangeModel=S;function m(f,p){return f>=p.startLineNumber&&f<=p.endLineNumber}function _(f,p){const s=(0,L.findFirstInSorted)(f,t=>p<t.startLineNumber)-1;return s>=0&&f[s].endLineNumber>=p?f[s]:null}}),define(X[289],ee([1,0,206,184]),function(q,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.computeRanges=e.RangesCollector=e.IndentRangeProvider=void 0;const y=5e3,D="indent";class S{constructor(s,t,i){this.editorModel=s,this.languageConfigurationService=t,this.foldingRangesLimit=i,this.id=D}dispose(){}compute(s){const t=this.languageConfigurationService.getLanguageConfiguration(this.editorModel.getLanguageId()).foldingRules,i=t&&!!t.offSide,o=t&&t.markers;return Promise.resolve(f(this.editorModel,i,o,this.foldingRangesLimit))}}e.IndentRangeProvider=S;class m{constructor(s){this._startIndexes=[],this._endIndexes=[],this._indentOccurrences=[],this._length=0,this._foldingRangesLimit=s}insertFirst(s,t,i){if(s>k.MAX_LINE_NUMBER||t>k.MAX_LINE_NUMBER)return;const o=this._length;this._startIndexes[o]=s,this._endIndexes[o]=t,this._length++,i<1e3&&(this._indentOccurrences[i]=(this._indentOccurrences[i]||0)+1)}toIndentRanges(s){const t=this._foldingRangesLimit.limit;if(this._length<=t){this._foldingRangesLimit.update(this._length,!1);const i=new Uint32Array(this._length),o=new Uint32Array(this._length);for(let r=this._length-1,d=0;r>=0;r--,d++)i[d]=this._startIndexes[r],o[d]=this._endIndexes[r];return new k.FoldingRegions(i,o)}else{this._foldingRangesLimit.update(this._length,t);let i=0,o=this._indentOccurrences.length;for(let n=0;n<this._indentOccurrences.length;n++){const c=this._indentOccurrences[n];if(c){if(c+i>t){o=n;break}i+=c}}const r=s.getOptions().tabSize,d=new Uint32Array(t),h=new Uint32Array(t);for(let n=this._length-1,c=0;n>=0;n--){const a=this._startIndexes[n],l=s.getLineContent(a),u=(0,L.computeIndentLevel)(l,r);(u<o||u===o&&i++<t)&&(d[c]=a,h[c]=this._endIndexes[n],c++)}return new k.FoldingRegions(d,h)}}}e.RangesCollector=m;const _={limit:y,update:()=>{}};function f(p,s,t,i=_){const o=p.getOptions().tabSize,r=new m(i);let d;t&&(d=new RegExp(`(${t.start.source})|(?:${t.end.source})`));const h=[],n=p.getLineCount()+1;h.push({indent:-1,endAbove:n,line:n});for(let c=p.getLineCount();c>0;c--){const a=p.getLineContent(c),l=(0,L.computeIndentLevel)(a,o);let u=h[h.length-1];if(l===-1){s&&(u.endAbove=c);continue}let C;if(d&&(C=a.match(d)))if(C[1]){let g=h.length-1;for(;g>0&&h[g].indent!==-2;)g--;if(g>0){h.length=g+1,u=h[g],r.insertFirst(c,u.line,l),u.line=c,u.indent=l,u.endAbove=c;continue}}else{h.push({indent:-2,endAbove:c,line:c});continue}if(u.indent>l){do h.pop(),u=h[h.length-1];while(u.indent>l);const g=u.endAbove-1;g-c>=1&&r.insertFirst(c,g,l)}u.indent===l?u.endAbove=c:h.push({indent:l,endAbove:c,line:c})}return r.toIndentRanges(p)}e.computeRanges=f}),define(X[290],ee([1,0,12,2,184]),function(q,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.sanitizeRanges=e.SyntaxRangeProvider=void 0;const D={},S="syntax";class m{constructor(t,i,o,r,d){this.editorModel=t,this.providers=i,this.handleFoldingRangesChange=o,this.foldingRangesLimit=r,this.fallbackRangeProvider=d,this.id=S,this.disposables=new k.DisposableStore,d&&this.disposables.add(d);for(const h of i)typeof h.onDidChange=="function"&&this.disposables.add(h.onDidChange(o))}compute(t){return _(this.providers,this.editorModel,t).then(i=>{var o,r;return i?p(i,this.foldingRangesLimit):(r=(o=this.fallbackRangeProvider)===null||o===void 0?void 0:o.compute(t))!==null&&r!==void 0?r:null})}dispose(){this.disposables.dispose()}}e.SyntaxRangeProvider=m;function _(s,t,i){let o=null;const r=s.map((d,h)=>Promise.resolve(d.provideFoldingRanges(t,D,i)).then(n=>{if(!i.isCancellationRequested&&Array.isArray(n)){Array.isArray(o)||(o=[]);const c=t.getLineCount();for(const a of n)a.start>0&&a.end>a.start&&a.end<=c&&o.push({start:a.start,end:a.end,rank:h,kind:a.kind})}},L.onUnexpectedExternalError));return Promise.all(r).then(d=>o)}class f{constructor(t){this._startIndexes=[],this._endIndexes=[],this._nestingLevels=[],this._nestingLevelCounts=[],this._types=[],this._length=0,this._foldingRangesLimit=t}add(t,i,o,r){if(t>y.MAX_LINE_NUMBER||i>y.MAX_LINE_NUMBER)return;const d=this._length;this._startIndexes[d]=t,this._endIndexes[d]=i,this._nestingLevels[d]=r,this._types[d]=o,this._length++,r<30&&(this._nestingLevelCounts[r]=(this._nestingLevelCounts[r]||0)+1)}toIndentRanges(){const t=this._foldingRangesLimit.limit;if(this._length<=t){this._foldingRangesLimit.update(this._length,!1);const i=new Uint32Array(this._length),o=new Uint32Array(this._length);for(let r=0;r<this._length;r++)i[r]=this._startIndexes[r],o[r]=this._endIndexes[r];return new y.FoldingRegions(i,o,this._types)}else{this._foldingRangesLimit.update(this._length,t);let i=0,o=this._nestingLevelCounts.length;for(let n=0;n<this._nestingLevelCounts.length;n++){const c=this._nestingLevelCounts[n];if(c){if(c+i>t){o=n;break}i+=c}}const r=new Uint32Array(t),d=new Uint32Array(t),h=[];for(let n=0,c=0;n<this._length;n++){const a=this._nestingLevels[n];(a<o||a===o&&i++<t)&&(r[c]=this._startIndexes[n],d[c]=this._endIndexes[n],h[c]=this._types[n],c++)}return new y.FoldingRegions(r,d,h)}}}function p(s,t){const i=s.sort((h,n)=>{let c=h.start-n.start;return c===0&&(c=h.rank-n.rank),c}),o=new f(t);let r;const d=[];for(const h of i)if(!r)r=h,o.add(h.start,h.end,h.kind&&h.kind.value,d.length);else if(h.start>r.start)if(h.end<=r.end)d.push(r),r=h,o.add(h.start,h.end,h.kind&&h.kind.value,d.length);else{if(h.start>r.end){do r=d.pop();while(r&&h.start>r.end);r&&d.push(r),r=h}o.add(h.start,h.end,h.kind&&h.kind.value,d.length)}return o.toIndentRanges()}e.sanitizeRanges=p}),define(X[291],ee([1,0,71,5,108]),function(q,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FormattingEdit=void 0;class D{static _handleEolEdits(m,_){let f;const p=[];for(const s of _)typeof s.eol=="number"&&(f=s.eol),s.range&&typeof s.text=="string"&&p.push(s);return typeof f=="number"&&m.hasModel()&&m.getModel().pushEOL(f),p}static _isFullModelReplaceEdit(m,_){if(!m.hasModel())return!1;const f=m.getModel(),p=f.validateRange(_.range);return f.getFullModelRange().equalsRange(p)}static execute(m,_,f){f&&m.pushUndoStop();const p=y.StableEditorScrollState.capture(m),s=D._handleEolEdits(m,_);s.length===1&&D._isFullModelReplaceEdit(m,s[0])?m.executeEdits("formatEditsCommand",s.map(t=>L.EditOperation.replace(k.Range.lift(t.range),t.text))):m.executeEdits("formatEditsCommand",s.map(t=>L.EditOperation.replaceMove(k.Range.lift(t.range),t.text))),f&&m.pushUndoStop(),p.restoreRelativeVerticalPositionOfCursor(m)}}e.FormattingEdit=D}),define(X[100],ee([1,0]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HoverParticipantRegistry=e.HoverForeignElementAnchor=e.HoverRangeAnchor=void 0;class L{constructor(D,S,m,_){this.priority=D,this.range=S,this.initialMousePosX=m,this.initialMousePosY=_,this.type=1}equals(D){return D.type===1&&this.range.equalsRange(D.range)}canAdoptVisibleHover(D,S){return D.type===1&&S.lineNumber===this.range.startLineNumber}}e.HoverRangeAnchor=L;class k{constructor(D,S,m,_,f,p){this.priority=D,this.owner=S,this.range=m,this.initialMousePosX=_,this.initialMousePosY=f,this.supportsMarkerHover=p,this.type=2}equals(D){return D.type===2&&this.owner===D.owner}canAdoptVisibleHover(D,S){return D.type===2&&this.owner===D.owner}}e.HoverForeignElementAnchor=k,e.HoverParticipantRegistry=new class{constructor(){this._participants=[]}register(D){this._participants.push(D)}getAll(){return this._participants}}}),define(X[539],ee([1,0,24]),function(q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InPlaceReplaceCommand=void 0;class k{constructor(D,S,m){this._editRange=D,this._originalSelection=S,this._text=m}getEditOperations(D,S){S.addTrackedEditOperation(this._editRange,this._text)}computeCursorState(D,S){const _=S.getInverseEditOperations()[0].range;return this._originalSelection.isEmpty()?new L.Selection(_.endLineNumber,Math.min(this._originalSelection.positionColumn,_.endColumn),_.endLineNumber,Math.min(this._originalSelection.positionColumn,_.endColumn)):new L.Selection(_.endLineNumber,_.endColumn-this._text.length,_.endLineNumber,_.endColumn)}}e.InPlaceReplaceCommand=k}),define(X[292],ee([1,0]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.generateIndent=e.getSpaceCnt=void 0;function L(y,D){let S=0;for(let m=0;m<y.length;m++)y.charAt(m)==="	"?S+=D:S++;return S}e.getSpaceCnt=L;function k(y,D,S){y=y<0?0:y;let m="";if(!S){const _=Math.floor(y/D);y=y%D;for(let f=0;f<_;f++)m+="	"}for(let _=0;_<y;_++)m+=" ";return m}e.generateIndent=k}),define(X[213],ee([1,0]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.showNextInlineSuggestionActionId=e.showPreviousInlineSuggestionActionId=e.inlineSuggestCommitId=void 0,e.inlineSuggestCommitId="editor.action.inlineSuggest.commit",e.showPreviousInlineSuggestionActionId="editor.action.inlineSuggest.showPrevious",e.showNextInlineSuggestionActionId="editor.action.inlineSuggest.showNext"}),define(X[150],ee([1,0,12,2,42,11,5]),function(q,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.lengthOfText=e.addPositions=e.applyObservableDecorations=e.ColumnRange=e.getReadonlyEmptyArray=e.applyEdits=void 0;function m(r,d){const h=new _(r),n=d.map(c=>{const a=S.Range.lift(c.range);return{startOffset:h.getOffset(a.getStartPosition()),endOffset:h.getOffset(a.getEndPosition()),text:c.text}});n.sort((c,a)=>a.startOffset-c.startOffset);for(const c of n)r=r.substring(0,c.startOffset)+c.text+r.substring(c.endOffset);return r}e.applyEdits=m;class _{constructor(d){this.lineStartOffsetByLineIdx=[],this.lineStartOffsetByLineIdx.push(0);for(let h=0;h<d.length;h++)d.charAt(h)===`
`&&this.lineStartOffsetByLineIdx.push(h+1)}getOffset(d){return this.lineStartOffsetByLineIdx[d.lineNumber-1]+d.column-1}}const f=[];function p(){return f}e.getReadonlyEmptyArray=p;class s{constructor(d,h){if(this.startColumn=d,this.endColumnExclusive=h,d>h)throw new L.BugIndicatingError(`startColumn ${d} cannot be after endColumnExclusive ${h}`)}toRange(d){return new S.Range(d,this.startColumn,d,this.endColumnExclusive)}}e.ColumnRange=s;function t(r,d){const h=new k.DisposableStore,n=r.createDecorationsCollection();return h.add((0,y.autorun)(`Apply decorations from ${d.debugName}`,c=>{const a=d.read(c);n.set(a)})),h.add({dispose:()=>{n.clear()}}),h}e.applyObservableDecorations=t;function i(r,d){return new D.Position(r.lineNumber+d.lineNumber-1,d.lineNumber===1?r.column+d.column-1:d.column)}e.addPositions=i;function o(r){let d=1,h=1;for(const n of r)n===`
`?(d++,h=1):h++;return new D.Position(d,h)}e.lengthOfText=o}),define(X[214],ee([1,0,150]),function(q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GhostTextReplacement=e.GhostTextPart=e.GhostText=void 0;class k{constructor(m,_){this.lineNumber=m,this.parts=_}renderForScreenReader(m){if(this.parts.length===0)return"";const _=this.parts[this.parts.length-1],f=m.substr(0,_.column-1);return(0,L.applyEdits)(f,this.parts.map(s=>({range:{startLineNumber:1,endLineNumber:1,startColumn:s.column,endColumn:s.column},text:s.lines.join(`
`)}))).substring(this.parts[0].column-1)}isEmpty(){return this.parts.every(m=>m.lines.length===0)}get lineCount(){return 1+this.parts.reduce((m,_)=>m+_.lines.length-1,0)}}e.GhostText=k;class y{constructor(m,_,f){this.column=m,this.lines=_,this.preview=f}}e.GhostTextPart=y;class D{constructor(m,_,f,p=0){this.lineNumber=m,this.columnRange=_,this.newLines=f,this.additionalReservedLineCount=p,this.parts=[new y(this.columnRange.endColumnExclusive,this.newLines,!1)]}renderForScreenReader(m){return this.newLines.join(`
`)}get lineCount(){return this.newLines.length}isEmpty(){return this.parts.every(m=>m.lines.length===0)}}e.GhostTextReplacement=D}),define(X[293],ee([1,0,170,9,5,214,150]),function(q,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SingleTextEdit=void 0;class m{constructor(o,r){this.range=o,this.text=r}removeCommonPrefix(o,r){const d=r?this.range.intersectRanges(r):this.range;if(!d)return this;const h=o.getValueInRange(d,1),n=(0,k.commonPrefixLength)(h,this.text),c=(0,S.addPositions)(this.range.getStartPosition(),(0,S.lengthOfText)(h.substring(0,n))),a=this.text.substring(n),l=y.Range.fromPositions(c,this.range.getEndPosition());return new m(l,a)}augments(o){return this.text.startsWith(o.text)&&_(this.range,o.range)}computeGhostText(o,r,d,h=0){let n=this.removeCommonPrefix(o);if(n.range.endLineNumber!==n.range.startLineNumber)return;const c=o.getLineContent(n.range.startLineNumber),a=(0,k.getLeadingWhitespace)(c).length;if(n.range.startColumn-1<=a){const w=(0,k.getLeadingWhitespace)(n.text).length,E=c.substring(n.range.startColumn-1,a),[I,T]=[n.range.getStartPosition(),n.range.getEndPosition()],P=I.column+E.length<=T.column?I.delta(0,E.length):T,A=y.Range.fromPositions(P,T),M=n.text.startsWith(E)?n.text.substring(E.length):n.text.substring(w);n=new m(A,M)}const u=o.getValueInRange(n.range),C=p(u,n.text);if(!C)return;const g=n.range.startLineNumber,v=new Array;if(r==="prefix"){const w=C.filter(E=>E.originalLength===0);if(w.length>1||w.length===1&&w[0].originalStart!==u.length)return}const b=n.text.length-h;for(const w of C){const E=n.range.startColumn+w.originalStart+w.originalLength;if(r==="subwordSmart"&&d&&d.lineNumber===n.range.startLineNumber&&E<d.column||w.originalLength>0)return;if(w.modifiedLength===0)continue;const I=w.modifiedStart+w.modifiedLength,T=Math.max(w.modifiedStart,Math.min(I,b)),P=n.text.substring(w.modifiedStart,T),A=n.text.substring(T,Math.max(w.modifiedStart,I));if(P.length>0){const M=(0,k.splitLines)(P);v.push(new D.GhostTextPart(E,M,!1))}if(A.length>0){const M=(0,k.splitLines)(A);v.push(new D.GhostTextPart(E,M,!0))}}return new D.GhostText(g,v)}}e.SingleTextEdit=m;function _(i,o){return o.getStartPosition().equals(i.getStartPosition())&&o.getEndPosition().isBeforeOrEqual(i.getEndPosition())}let f;function p(i,o){if(f?.originalValue===i&&f?.newValue===o)return f?.changes;{let r=t(i,o,!0);if(r){const d=s(r);if(d>0){const h=t(i,o,!1);h&&s(h)<d&&(r=h)}}return f={originalValue:i,newValue:o,changes:r},r}}function s(i){let o=0;for(const r of i)o+=r.originalLength;return o}function t(i,o,r){if(i.length>5e3||o.length>5e3)return;function d(u){let C=0;for(let g=0,v=u.length;g<v;g++){const b=u.charCodeAt(g);b>C&&(C=b)}return C}const h=Math.max(d(i),d(o));function n(u){if(u<0)throw new Error("unexpected");return h+u+1}function c(u){let C=0,g=0;const v=new Int32Array(u.length);for(let b=0,w=u.length;b<w;b++)if(r&&u[b]==="("){const E=g*100+C;v[b]=n(2*E),C++}else if(r&&u[b]===")"){C=Math.max(C-1,0);const E=g*100+C;v[b]=n(2*E+1),C===0&&g++}else v[b]=u.charCodeAt(b);return v}const a=c(i),l=c(o);return new L.LcsDiff({getElements:()=>a},{getElements:()=>l}).ComputeDiff(!1).changes}}),define(X[540],ee([1,0,5,24]),function(q,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CopyLinesCommand=void 0;class y{constructor(S,m,_){this._selection=S,this._isCopyingDown=m,this._noop=_||!1,this._selectionDirection=0,this._selectionId=null,this._startLineNumberDelta=0,this._endLineNumberDelta=0}getEditOperations(S,m){let _=this._selection;this._startLineNumberDelta=0,this._endLineNumberDelta=0,_.startLineNumber<_.endLineNumber&&_.endColumn===1&&(this._endLineNumberDelta=1,_=_.setEndPosition(_.endLineNumber-1,S.getLineMaxColumn(_.endLineNumber-1)));const f=[];for(let s=_.startLineNumber;s<=_.endLineNumber;s++)f.push(S.getLineContent(s));const p=f.join(`
`);p===""&&this._isCopyingDown&&(this._startLineNumberDelta++,this._endLineNumberDelta++),this._noop?m.addEditOperation(new L.Range(_.endLineNumber,S.getLineMaxColumn(_.endLineNumber),_.endLineNumber+1,1),_.endLineNumber===S.getLineCount()?"":`
`):this._isCopyingDown?m.addEditOperation(new L.Range(_.startLineNumber,1,_.startLineNumber,1),p+`
`):m.addEditOperation(new L.Range(_.endLineNumber,S.getLineMaxColumn(_.endLineNumber),_.endLineNumber,S.getLineMaxColumn(_.endLineNumber)),`
`+p),this._selectionId=m.trackSelection(_),this._selectionDirection=this._selection.getDirection()}computeCursorState(S,m){let _=m.getTrackedSelection(this._selectionId);if(this._startLineNumberDelta!==0||this._endLineNumberDelta!==0){let f=_.startLineNumber,p=_.startColumn,s=_.endLineNumber,t=_.endColumn;this._startLineNumberDelta!==0&&(f=f+this._startLineNumberDelta,p=1),this._endLineNumberDelta!==0&&(s=s+this._endLineNumberDelta,t=1),_=k.Selection.createWithDirection(f,p,s,t,this._selectionDirection)}return _}}e.CopyLinesCommand=y}),define(X[541],ee([1,0,71,5]),function(q,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SortLinesCommand=void 0;class y{static getCollator(){return y._COLLATOR||(y._COLLATOR=new Intl.Collator),y._COLLATOR}constructor(_,f){this.selection=_,this.descending=f,this.selectionId=null}getEditOperations(_,f){const p=S(_,this.selection,this.descending);p&&f.addEditOperation(p.range,p.text),this.selectionId=f.trackSelection(this.selection)}computeCursorState(_,f){return f.getTrackedSelection(this.selectionId)}static canRun(_,f,p){if(_===null)return!1;const s=D(_,f,p);if(!s)return!1;for(let t=0,i=s.before.length;t<i;t++)if(s.before[t]!==s.after[t])return!0;return!1}}e.SortLinesCommand=y,y._COLLATOR=null;function D(m,_,f){const p=_.startLineNumber;let s=_.endLineNumber;if(_.endColumn===1&&s--,p>=s)return null;const t=[];for(let o=p;o<=s;o++)t.push(m.getLineContent(o));let i=t.slice(0);return i.sort(y.getCollator().compare),f===!0&&(i=i.reverse()),{startLineNumber:p,endLineNumber:s,before:t,after:i}}function S(m,_,f){const p=D(m,_,f);return p?L.EditOperation.replace(new k.Range(p.startLineNumber,1,p.endLineNumber,m.getLineMaxColumn(p.endLineNumber)),p.after.join(`
`)):null}}),define(X[294],ee([1,0]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isSemanticColoringEnabled=e.SEMANTIC_HIGHLIGHTING_SETTING_ID=void 0,e.SEMANTIC_HIGHLIGHTING_SETTING_ID="editor.semanticHighlighting";function L(k,y,D){var S;const m=(S=D.getValue(e.SEMANTIC_HIGHLIGHTING_SETTING_ID,{overrideIdentifier:k.getLanguageId(),resource:k.uri}))===null||S===void 0?void 0:S.enabled;return typeof m=="boolean"?m:y.getColorTheme().semanticHighlighting}e.isSemanticColoringEnabled=L}),define(X[295],ee([1,0,63,11,5]),function(q,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketSelectionRangeProvider=void 0;class D{provideSelectionRanges(m,_){return Le(this,void 0,void 0,function*(){const f=[];for(const p of _){const s=[];f.push(s);const t=new Map;yield new Promise(i=>D._bracketsRightYield(i,0,m,p,t)),yield new Promise(i=>D._bracketsLeftYield(i,0,m,p,t,s))}return f})}static _bracketsRightYield(m,_,f,p,s){const t=new Map,i=Date.now();for(;;){if(_>=D._maxRounds){m();break}if(!p){m();break}const o=f.bracketPairs.findNextBracket(p);if(!o){m();break}if(Date.now()-i>D._maxDuration){setTimeout(()=>D._bracketsRightYield(m,_+1,f,p,s));break}if(o.bracketInfo.isOpeningBracket){const d=o.bracketInfo.bracketText,h=t.has(d)?t.get(d):0;t.set(d,h+1)}else{const d=o.bracketInfo.getOpeningBrackets()[0].bracketText;let h=t.has(d)?t.get(d):0;if(h-=1,t.set(d,Math.max(0,h)),h<0){let n=s.get(d);n||(n=new L.LinkedList,s.set(d,n)),n.push(o.range)}}p=o.range.getEndPosition()}}static _bracketsLeftYield(m,_,f,p,s,t){const i=new Map,o=Date.now();for(;;){if(_>=D._maxRounds&&s.size===0){m();break}if(!p){m();break}const r=f.bracketPairs.findPrevBracket(p);if(!r){m();break}if(Date.now()-o>D._maxDuration){setTimeout(()=>D._bracketsLeftYield(m,_+1,f,p,s,t));break}if(r.bracketInfo.isOpeningBracket){const h=r.bracketInfo.bracketText;let n=i.has(h)?i.get(h):0;if(n-=1,i.set(h,Math.max(0,n)),n<0){const c=s.get(h);if(c){const a=c.shift();c.size===0&&s.delete(h);const l=y.Range.fromPositions(r.range.getEndPosition(),a.getStartPosition()),u=y.Range.fromPositions(r.range.getStartPosition(),a.getEndPosition());t.push({range:l}),t.push({range:u}),D._addBracketLeading(f,u,t)}}}else{const h=r.bracketInfo.getOpeningBrackets()[0].bracketText,n=i.has(h)?i.get(h):0;i.set(h,n+1)}p=r.range.getStartPosition()}}static _addBracketLeading(m,_,f){if(_.startLineNumber===_.endLineNumber)return;const p=_.startLineNumber,s=m.getLineFirstNonWhitespaceColumn(p);s!==0&&s!==_.startColumn&&(f.push({range:y.Range.fromPositions(new k.Position(p,s),_.getEndPosition())}),f.push({range:y.Range.fromPositions(new k.Position(p,1),_.getEndPosition())}));const t=p-1;if(t>0){const i=m.getLineFirstNonWhitespaceColumn(t);i===_.startColumn&&i!==m.getLineLastNonWhitespaceColumn(t)&&(f.push({range:y.Range.fromPositions(new k.Position(t,i),_.getEndPosition())}),f.push({range:y.Range.fromPositions(new k.Position(t,1),_.getEndPosition())}))}}}e.BracketSelectionRangeProvider=D,D._maxDuration=30,D._maxRounds=2}),define(X[542],ee([1,0,9,5]),function(q,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WordSelectionRangeProvider=void 0;class y{constructor(S=!0){this.selectSubwords=S}provideSelectionRanges(S,m){const _=[];for(const f of m){const p=[];_.push(p),this.selectSubwords&&this._addInWordRanges(p,S,f),this._addWordRanges(p,S,f),this._addWhitespaceLine(p,S,f),p.push({range:S.getFullModelRange()})}return _}_addInWordRanges(S,m,_){const f=m.getWordAtPosition(_);if(!f)return;const{word:p,startColumn:s}=f,t=_.column-s;let i=t,o=t,r=0;for(;i>=0;i--){const d=p.charCodeAt(i);if(i!==t&&(d===95||d===45))break;if((0,L.isLowerAsciiLetter)(d)&&(0,L.isUpperAsciiLetter)(r))break;r=d}for(i+=1;o<p.length;o++){const d=p.charCodeAt(o);if((0,L.isUpperAsciiLetter)(d)&&(0,L.isLowerAsciiLetter)(r))break;if(d===95||d===45)break;r=d}i<o&&S.push({range:new k.Range(_.lineNumber,s+i,_.lineNumber,s+o)})}_addWordRanges(S,m,_){const f=m.getWordAtPosition(_);f&&S.push({range:new k.Range(_.lineNumber,f.startColumn,_.lineNumber,f.endColumn)})}_addWhitespaceLine(S,m,_){m.getLineLength(_.lineNumber)>0&&m.getLineFirstNonWhitespaceColumn(_.lineNumber)===0&&m.getLineLastNonWhitespaceColumn(_.lineNumber)===0&&S.push({range:new k.Range(_.lineNumber,1,_.lineNumber,m.getLineMaxColumn(_.lineNumber))})}}e.WordSelectionRangeProvider=y}),define(X[128],ee([1,0]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SnippetParser=e.TextmateSnippet=e.Variable=e.FormatString=e.Transform=e.Choice=e.Placeholder=e.TransformableMarker=e.Text=e.Marker=e.Scanner=void 0;class L{constructor(){this.value="",this.pos=0}static isDigitCharacter(r){return r>=48&&r<=57}static isVariableCharacter(r){return r===95||r>=97&&r<=122||r>=65&&r<=90}text(r){this.value=r,this.pos=0}tokenText(r){return this.value.substr(r.pos,r.len)}next(){if(this.pos>=this.value.length)return{type:14,pos:this.pos,len:0};const r=this.pos;let d=0,h=this.value.charCodeAt(r),n;if(n=L._table[h],typeof n=="number")return this.pos+=1,{type:n,pos:r,len:1};if(L.isDigitCharacter(h)){n=8;do d+=1,h=this.value.charCodeAt(r+d);while(L.isDigitCharacter(h));return this.pos+=d,{type:n,pos:r,len:d}}if(L.isVariableCharacter(h)){n=9;do h=this.value.charCodeAt(r+ ++d);while(L.isVariableCharacter(h)||L.isDigitCharacter(h));return this.pos+=d,{type:n,pos:r,len:d}}n=10;do d+=1,h=this.value.charCodeAt(r+d);while(!isNaN(h)&&typeof L._table[h]>"u"&&!L.isDigitCharacter(h)&&!L.isVariableCharacter(h));return this.pos+=d,{type:n,pos:r,len:d}}}e.Scanner=L,L._table={[36]:0,[58]:1,[44]:2,[123]:3,[125]:4,[92]:5,[47]:6,[124]:7,[43]:11,[45]:12,[63]:13};class k{constructor(){this._children=[]}appendChild(r){return r instanceof y&&this._children[this._children.length-1]instanceof y?this._children[this._children.length-1].value+=r.value:(r.parent=this,this._children.push(r)),this}replace(r,d){const{parent:h}=r,n=h.children.indexOf(r),c=h.children.slice(0);c.splice(n,1,...d),h._children=c,function a(l,u){for(const C of l)C.parent=u,a(C.children,C)}(d,h)}get children(){return this._children}get rightMostDescendant(){return this._children.length>0?this._children[this._children.length-1].rightMostDescendant:this}get snippet(){let r=this;for(;;){if(!r)return;if(r instanceof t)return r;r=r.parent}}toString(){return this.children.reduce((r,d)=>r+d.toString(),"")}len(){return 0}}e.Marker=k;class y extends k{constructor(r){super(),this.value=r}toString(){return this.value}len(){return this.value.length}clone(){return new y(this.value)}}e.Text=y;class D extends k{}e.TransformableMarker=D;class S extends D{static compareByIndex(r,d){return r.index===d.index?0:r.isFinalTabstop?1:d.isFinalTabstop||r.index<d.index?-1:r.index>d.index?1:0}constructor(r){super(),this.index=r}get isFinalTabstop(){return this.index===0}get choice(){return this._children.length===1&&this._children[0]instanceof m?this._children[0]:void 0}clone(){const r=new S(this.index);return this.transform&&(r.transform=this.transform.clone()),r._children=this.children.map(d=>d.clone()),r}}e.Placeholder=S;class m extends k{constructor(){super(...arguments),this.options=[]}appendChild(r){return r instanceof y&&(r.parent=this,this.options.push(r)),this}toString(){return this.options[0].value}len(){return this.options[0].len()}clone(){const r=new m;return this.options.forEach(r.appendChild,r),r}}e.Choice=m;class _ extends k{constructor(){super(...arguments),this.regexp=new RegExp("")}resolve(r){const d=this;let h=!1,n=r.replace(this.regexp,function(){return h=!0,d._replace(Array.prototype.slice.call(arguments,0,-2))});return!h&&this._children.some(c=>c instanceof f&&!!c.elseValue)&&(n=this._replace([])),n}_replace(r){let d="";for(const h of this._children)if(h instanceof f){let n=r[h.index]||"";n=h.resolve(n),d+=n}else d+=h.toString();return d}toString(){return""}clone(){const r=new _;return r.regexp=new RegExp(this.regexp.source,(this.regexp.ignoreCase?"i":"")+(this.regexp.global?"g":"")),r._children=this.children.map(d=>d.clone()),r}}e.Transform=_;class f extends k{constructor(r,d,h,n){super(),this.index=r,this.shorthandName=d,this.ifValue=h,this.elseValue=n}resolve(r){return this.shorthandName==="upcase"?r?r.toLocaleUpperCase():"":this.shorthandName==="downcase"?r?r.toLocaleLowerCase():"":this.shorthandName==="capitalize"?r?r[0].toLocaleUpperCase()+r.substr(1):"":this.shorthandName==="pascalcase"?r?this._toPascalCase(r):"":this.shorthandName==="camelcase"?r?this._toCamelCase(r):"":r&&typeof this.ifValue=="string"?this.ifValue:!r&&typeof this.elseValue=="string"?this.elseValue:r||""}_toPascalCase(r){const d=r.match(/[a-z0-9]+/gi);return d?d.map(h=>h.charAt(0).toUpperCase()+h.substr(1)).join(""):r}_toCamelCase(r){const d=r.match(/[a-z0-9]+/gi);return d?d.map((h,n)=>n===0?h.charAt(0).toLowerCase()+h.substr(1):h.charAt(0).toUpperCase()+h.substr(1)).join(""):r}clone(){return new f(this.index,this.shorthandName,this.ifValue,this.elseValue)}}e.FormatString=f;class p extends D{constructor(r){super(),this.name=r}resolve(r){let d=r.resolve(this);return this.transform&&(d=this.transform.resolve(d||"")),d!==void 0?(this._children=[new y(d)],!0):!1}clone(){const r=new p(this.name);return this.transform&&(r.transform=this.transform.clone()),r._children=this.children.map(d=>d.clone()),r}}e.Variable=p;function s(o,r){const d=[...o];for(;d.length>0;){const h=d.shift();if(!r(h))break;d.unshift(...h.children)}}class t extends k{get placeholderInfo(){if(!this._placeholders){const r=[];let d;this.walk(function(h){return h instanceof S&&(r.push(h),d=!d||d.index<h.index?h:d),!0}),this._placeholders={all:r,last:d}}return this._placeholders}get placeholders(){const{all:r}=this.placeholderInfo;return r}offset(r){let d=0,h=!1;return this.walk(n=>n===r?(h=!0,!1):(d+=n.len(),!0)),h?d:-1}fullLen(r){let d=0;return s([r],h=>(d+=h.len(),!0)),d}enclosingPlaceholders(r){const d=[];let{parent:h}=r;for(;h;)h instanceof S&&d.push(h),h=h.parent;return d}resolveVariables(r){return this.walk(d=>(d instanceof p&&d.resolve(r)&&(this._placeholders=void 0),!0)),this}appendChild(r){return this._placeholders=void 0,super.appendChild(r)}replace(r,d){return this._placeholders=void 0,super.replace(r,d)}clone(){const r=new t;return this._children=this.children.map(d=>d.clone()),r}walk(r){s(this.children,r)}}e.TextmateSnippet=t;class i{constructor(){this._scanner=new L,this._token={type:14,pos:0,len:0}}static escape(r){return r.replace(/\$|}|\\/g,"\\$&")}static guessNeedsClipboard(r){return/\${?CLIPBOARD/.test(r)}parse(r,d,h){const n=new t;return this.parseFragment(r,n),this.ensureFinalTabstop(n,h??!1,d??!1),n}parseFragment(r,d){const h=d.children.length;for(this._scanner.text(r),this._token=this._scanner.next();this._parse(d););const n=new Map,c=[];d.walk(u=>(u instanceof S&&(u.isFinalTabstop?n.set(0,void 0):!n.has(u.index)&&u.children.length>0?n.set(u.index,u.children):c.push(u)),!0));const a=(u,C)=>{const g=n.get(u.index);if(!g)return;const v=new S(u.index);v.transform=u.transform;for(const b of g){const w=b.clone();v.appendChild(w),w instanceof S&&n.has(w.index)&&!C.has(w.index)&&(C.add(w.index),a(w,C),C.delete(w.index))}d.replace(u,[v])},l=new Set;for(const u of c)a(u,l);return d.children.slice(h)}ensureFinalTabstop(r,d,h){(d||h&&r.placeholders.length>0)&&(r.placeholders.find(c=>c.index===0)||r.appendChild(new S(0)))}_accept(r,d){if(r===void 0||this._token.type===r){const h=d?this._scanner.tokenText(this._token):!0;return this._token=this._scanner.next(),h}return!1}_backTo(r){return this._scanner.pos=r.pos+r.len,this._token=r,!1}_until(r){const d=this._token;for(;this._token.type!==r;){if(this._token.type===14)return!1;if(this._token.type===5){const n=this._scanner.next();if(n.type!==0&&n.type!==4&&n.type!==5)return!1}this._token=this._scanner.next()}const h=this._scanner.value.substring(d.pos,this._token.pos).replace(/\\(\$|}|\\)/g,"$1");return this._token=this._scanner.next(),h}_parse(r){return this._parseEscaped(r)||this._parseTabstopOrVariableName(r)||this._parseComplexPlaceholder(r)||this._parseComplexVariable(r)||this._parseAnything(r)}_parseEscaped(r){let d;return(d=this._accept(5,!0))?(d=this._accept(0,!0)||this._accept(4,!0)||this._accept(5,!0)||d,r.appendChild(new y(d)),!0):!1}_parseTabstopOrVariableName(r){let d;const h=this._token;return this._accept(0)&&(d=this._accept(9,!0)||this._accept(8,!0))?(r.appendChild(/^\d+$/.test(d)?new S(Number(d)):new p(d)),!0):this._backTo(h)}_parseComplexPlaceholder(r){let d;const h=this._token;if(!(this._accept(0)&&this._accept(3)&&(d=this._accept(8,!0))))return this._backTo(h);const c=new S(Number(d));if(this._accept(1))for(;;){if(this._accept(4))return r.appendChild(c),!0;if(!this._parse(c))return r.appendChild(new y("${"+d+":")),c.children.forEach(r.appendChild,r),!0}else if(c.index>0&&this._accept(7)){const a=new m;for(;;){if(this._parseChoiceElement(a)){if(this._accept(2))continue;if(this._accept(7)&&(c.appendChild(a),this._accept(4)))return r.appendChild(c),!0}return this._backTo(h),!1}}else return this._accept(6)?this._parseTransform(c)?(r.appendChild(c),!0):(this._backTo(h),!1):this._accept(4)?(r.appendChild(c),!0):this._backTo(h)}_parseChoiceElement(r){const d=this._token,h=[];for(;!(this._token.type===2||this._token.type===7);){let n;if((n=this._accept(5,!0))?n=this._accept(2,!0)||this._accept(7,!0)||this._accept(5,!0)||n:n=this._accept(void 0,!0),!n)return this._backTo(d),!1;h.push(n)}return h.length===0?(this._backTo(d),!1):(r.appendChild(new y(h.join(""))),!0)}_parseComplexVariable(r){let d;const h=this._token;if(!(this._accept(0)&&this._accept(3)&&(d=this._accept(9,!0))))return this._backTo(h);const c=new p(d);if(this._accept(1))for(;;){if(this._accept(4))return r.appendChild(c),!0;if(!this._parse(c))return r.appendChild(new y("${"+d+":")),c.children.forEach(r.appendChild,r),!0}else return this._accept(6)?this._parseTransform(c)?(r.appendChild(c),!0):(this._backTo(h),!1):this._accept(4)?(r.appendChild(c),!0):this._backTo(h)}_parseTransform(r){const d=new _;let h="",n="";for(;!this._accept(6);){let c;if(c=this._accept(5,!0)){c=this._accept(6,!0)||c,h+=c;continue}if(this._token.type!==14){h+=this._accept(void 0,!0);continue}return!1}for(;!this._accept(6);){let c;if(c=this._accept(5,!0)){c=this._accept(5,!0)||this._accept(6,!0)||c,d.appendChild(new y(c));continue}if(!(this._parseFormatString(d)||this._parseAnything(d)))return!1}for(;!this._accept(4);){if(this._token.type!==14){n+=this._accept(void 0,!0);continue}return!1}try{d.regexp=new RegExp(h,n)}catch{return!1}return r.transform=d,!0}_parseFormatString(r){const d=this._token;if(!this._accept(0))return!1;let h=!1;this._accept(3)&&(h=!0);const n=this._accept(8,!0);if(n)if(h){if(this._accept(4))return r.appendChild(new f(Number(n))),!0;if(!this._accept(1))return this._backTo(d),!1}else return r.appendChild(new f(Number(n))),!0;else return this._backTo(d),!1;if(this._accept(6)){const c=this._accept(9,!0);return!c||!this._accept(4)?(this._backTo(d),!1):(r.appendChild(new f(Number(n),c)),!0)}else if(this._accept(11)){const c=this._until(4);if(c)return r.appendChild(new f(Number(n),void 0,c,void 0)),!0}else if(this._accept(12)){const c=this._until(4);if(c)return r.appendChild(new f(Number(n),void 0,void 0,c)),!0}else if(this._accept(13)){const c=this._until(1);if(c){const a=this._until(4);if(a)return r.appendChild(new f(Number(n),void 0,c,a)),!0}}else{const c=this._until(4);if(c)return r.appendChild(new f(Number(n),void 0,void 0,c)),!0}return this._backTo(d),!1}_parseAnything(r){return this._token.type!==14?(r.appendChild(new y(this._scanner.tokenText(this._token))),this._accept(void 0),!0):!1}}e.SnippetParser=i}),define(X[543],ee([1,0,84,20,12,5,501,150,128]),function(q,e,L,k,y,D,S,m,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlineCompletionItem=e.InlineCompletionList=e.InlineCompletionProviderResult=e.provideInlineCompletions=void 0;function f(r,d,h,n,c=k.CancellationToken.None,a){return Le(this,void 0,void 0,function*(){const l=i(d,h),u=r.all(h),C=yield Promise.all(u.map(b=>Le(this,void 0,void 0,function*(){try{const w=yield b.provideInlineCompletions(h,d,n,c);return{provider:b,completions:w}}catch(w){(0,y.onUnexpectedExternalError)(w)}return{provider:b,completions:void 0}}))),g=new Map,v=[];for(const b of C){const w=b.completions;if(!w)continue;const E=new s(w,b.provider);v.push(E);for(const I of w.items){const T=t.from(I,E,l,h,a);g.set(T.hash(),T)}}return new p(Array.from(g.values()),new Set(g.keys()),v)})}e.provideInlineCompletions=f;class p{constructor(d,h,n){this.completions=d,this.hashs=h,this.providerResults=n}has(d){return this.hashs.has(d.hash())}dispose(){for(const d of this.providerResults)d.removeRef()}}e.InlineCompletionProviderResult=p;class s{constructor(d,h){this.inlineCompletions=d,this.provider=h,this.refCount=1}addRef(){this.refCount++}removeRef(){this.refCount--,this.refCount===0&&this.provider.freeInlineCompletions(this.inlineCompletions)}}e.InlineCompletionList=s;class t{static from(d,h,n,c,a){let l,u,C=d.range?D.Range.lift(d.range):n;if(typeof d.insertText=="string"){if(l=d.insertText,a&&d.completeBracketPairs){l=o(l,C.getStartPosition(),c,a);const g=l.length-d.insertText.length;g!==0&&(C=new D.Range(C.startLineNumber,C.startColumn,C.endLineNumber,C.endColumn+g))}u=void 0}else if("snippet"in d.insertText){const g=d.insertText.snippet.length;if(a&&d.completeBracketPairs){d.insertText.snippet=o(d.insertText.snippet,C.getStartPosition(),c,a);const b=d.insertText.snippet.length-g;b!==0&&(C=new D.Range(C.startLineNumber,C.startColumn,C.endLineNumber,C.endColumn+b))}const v=new _.SnippetParser().parse(d.insertText.snippet);v.children.length===1&&v.children[0]instanceof _.Text?(l=v.children[0].value,u=void 0):(l=v.toString(),u={snippet:d.insertText.snippet,range:C})}else(0,L.assertNever)(d.insertText);return new t(l,d.command,C,l,u,d.additionalTextEdits||(0,m.getReadonlyEmptyArray)(),d,h)}constructor(d,h,n,c,a,l,u,C){this.filterText=d,this.command=h,this.range=n,this.insertText=c,this.snippetInfo=a,this.additionalTextEdits=l,this.sourceInlineCompletion=u,this.source=C,d=d.replace(/\r\n|\r/g,`
`),c=d.replace(/\r\n|\r/g,`
`)}withRange(d){return new t(this.filterText,this.command,d,this.insertText,this.snippetInfo,this.additionalTextEdits,this.sourceInlineCompletion,this.source)}hash(){return JSON.stringify({insertText:this.insertText,range:this.range.toString()})}}e.InlineCompletionItem=t;function i(r,d){const h=d.getWordAtPosition(r),n=d.getLineMaxColumn(r.lineNumber);return h?new D.Range(r.lineNumber,h.startColumn,r.lineNumber,n):D.Range.fromPositions(r,r.with(void 0,n))}function o(r,d,h,n){const a=h.getLineContent(d.lineNumber).substring(0,d.column-1)+r,l=h.tokenization.tokenizeLineWithEdit(d,a.length-(d.column-1),r),u=l?.sliceAndInflate(d.column-1,a.length,0);return u?(0,S.fixBracketsInLine)(u,n):r}}),define(X[215],ee([1,0]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StickyModel=e.StickyElement=e.StickyRange=void 0;class L{constructor(S,m){this.startLineNumber=S,this.endLineNumber=m}}e.StickyRange=L;class k{constructor(S,m,_){this.range=S,this.children=m,this.parent=_}}e.StickyElement=k;class y{constructor(S,m,_,f){this.uri=S,this.version=m,this.element=_,this.outlineProviderId=f}}e.StickyModel=y}),define(X[296],ee([1,0,16,70,9]),function(q,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CompletionModel=e.LineContext=void 0;class D{constructor(_,f){this.leadingLineContent=_,this.characterCountDelta=f}}e.LineContext=D;class S{constructor(_,f,p,s,t,i,o=k.FuzzyScoreOptions.default,r=void 0){this.clipboardText=r,this._snippetCompareFn=S._compareCompletionItems,this._items=_,this._column=f,this._wordDistance=s,this._options=t,this._refilterKind=1,this._lineContext=p,this._fuzzyScoreOptions=o,i==="top"?this._snippetCompareFn=S._compareCompletionItemsSnippetsUp:i==="bottom"&&(this._snippetCompareFn=S._compareCompletionItemsSnippetsDown)}get lineContext(){return this._lineContext}set lineContext(_){(this._lineContext.leadingLineContent!==_.leadingLineContent||this._lineContext.characterCountDelta!==_.characterCountDelta)&&(this._refilterKind=this._lineContext.characterCountDelta<_.characterCountDelta&&this._filteredItems?2:1,this._lineContext=_)}get items(){return this._ensureCachedState(),this._filteredItems}getItemsByProvider(){return this._ensureCachedState(),this._itemsByProvider}getIncompleteProvider(){this._ensureCachedState();const _=new Set;for(const[f,p]of this.getItemsByProvider())p.length>0&&p[0].container.incomplete&&_.add(f);return _}get stats(){return this._ensureCachedState(),this._stats}_ensureCachedState(){this._refilterKind!==0&&this._createCachedState()}_createCachedState(){this._itemsByProvider=new Map;const _=[],{leadingLineContent:f,characterCountDelta:p}=this._lineContext;let s="",t="";const i=this._refilterKind===1?this._items:this._filteredItems,o=[],r=!this._options.filterGraceful||i.length>2e3?k.fuzzyScore:k.fuzzyScoreGracefulAggressive;for(let d=0;d<i.length;d++){const h=i[d];if(h.isInvalid)continue;const n=this._itemsByProvider.get(h.provider);n?n.push(h):this._itemsByProvider.set(h.provider,[h]);const c=h.position.column-h.editStart.column,a=c+p-(h.position.column-this._column);if(s.length!==a&&(s=a===0?"":f.slice(-a),t=s.toLowerCase()),h.word=s,a===0)h.score=k.FuzzyScore.Default;else{let l=0;for(;l<c;){const u=s.charCodeAt(l);if(u===32||u===9)l+=1;else break}if(l>=a)h.score=k.FuzzyScore.Default;else if(typeof h.completion.filterText=="string"){const u=r(s,t,l,h.completion.filterText,h.filterTextLow,0,this._fuzzyScoreOptions);if(!u)continue;(0,y.compareIgnoreCase)(h.completion.filterText,h.textLabel)===0?h.score=u:(h.score=(0,k.anyScore)(s,t,l,h.textLabel,h.labelLow,0),h.score[0]=u[0])}else{const u=r(s,t,l,h.textLabel,h.labelLow,0,this._fuzzyScoreOptions);if(!u)continue;h.score=u}}h.idx=d,h.distance=this._wordDistance.distance(h.position,h.completion),o.push(h),_.push(h.textLabel.length)}this._filteredItems=o.sort(this._snippetCompareFn),this._refilterKind=0,this._stats={pLabelLen:_.length?(0,L.quickSelect)(_.length-.85,_,(d,h)=>d-h):0}}static _compareCompletionItems(_,f){return _.score[0]>f.score[0]?-1:_.score[0]<f.score[0]?1:_.distance<f.distance?-1:_.distance>f.distance?1:_.idx<f.idx?-1:_.idx>f.idx?1:0}static _compareCompletionItemsSnippetsDown(_,f){if(_.completion.kind!==f.completion.kind){if(_.completion.kind===27)return 1;if(f.completion.kind===27)return-1}return S._compareCompletionItems(_,f)}static _compareCompletionItemsSnippetsUp(_,f){if(_.completion.kind!==f.completion.kind){if(_.completion.kind===27)return-1;if(f.completion.kind===27)return 1}return S._compareCompletionItems(_,f)}}e.CompletionModel=S}),define(X[544],ee([1,0,16,2,119]),function(q,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CommitCharacterController=void 0;class D{constructor(m,_,f,p){this._disposables=new k.DisposableStore,this._disposables.add(f.onDidSuggest(s=>{s.completionModel.items.length===0&&this.reset()})),this._disposables.add(f.onDidCancel(s=>{this.reset()})),this._disposables.add(_.onDidShow(()=>this._onItem(_.getFocusedItem()))),this._disposables.add(_.onDidFocus(this._onItem,this)),this._disposables.add(_.onDidHide(this.reset,this)),this._disposables.add(m.onWillType(s=>{if(this._active&&!_.isFrozen()&&f.state!==0){const t=s.charCodeAt(s.length-1);this._active.acceptCharacters.has(t)&&m.getOption(0)&&p(this._active.item)}}))}_onItem(m){if(!m||!(0,L.isNonEmptyArray)(m.item.completion.commitCharacters)){this.reset();return}if(this._active&&this._active.item.item===m.item)return;const _=new y.CharacterSet;for(const f of m.item.completion.commitCharacters)f.length>0&&_.add(f.charCodeAt(0));this._active={acceptCharacters:_,item:m}}reset(){this._active=void 0}dispose(){this._disposables.dispose()}}e.CommitCharacterController=D}),define(X[545],ee([1,0,2]),function(q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OvertypingCapturer=void 0;class k{constructor(D,S){this._disposables=new L.DisposableStore,this._lastOvertyped=[],this._locked=!1,this._disposables.add(D.onWillType(()=>{if(this._locked||!D.hasModel())return;const m=D.getSelections(),_=m.length;let f=!1;for(let s=0;s<_;s++)if(!m[s].isEmpty()){f=!0;break}if(!f){this._lastOvertyped.length!==0&&(this._lastOvertyped.length=0);return}this._lastOvertyped=[];const p=D.getModel();for(let s=0;s<_;s++){const t=m[s];if(p.getValueLengthInRange(t)>k._maxSelectionLength)return;this._lastOvertyped[s]={value:p.getValueInRange(t),multiline:t.startLineNumber!==t.endLineNumber}}})),this._disposables.add(S.onDidTrigger(m=>{this._locked=!0})),this._disposables.add(S.onDidCancel(m=>{this._locked=!1}))}getLastOvertypedInfo(D){if(D>=0&&D<this._lastOvertyped.length)return this._lastOvertyped[D]}dispose(){this._disposables.dispose()}}e.OvertypingCapturer=k,k._maxSelectionLength=51200}),define(X[297],ee([1,0,16,5,295]),function(q,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WordDistance=void 0;class D{static create(m,_){return Le(this,void 0,void 0,function*(){if(!_.getOption(115).localityBonus||!_.hasModel())return D.None;const f=_.getModel(),p=_.getPosition();if(!m.canComputeWordRanges(f.uri))return D.None;const[s]=yield new y.BracketSelectionRangeProvider().provideSelectionRanges(f,[p]);if(s.length===0)return D.None;const t=yield m.computeWordRanges(f.uri,s[0].range);if(!t)return D.None;const i=f.getWordUntilPosition(p);return delete t[i.word],new class extends D{distance(o,r){if(!p.equals(_.getPosition()))return 0;if(r.kind===17)return 2<<20;const d=typeof r.label=="string"?r.label:r.label.label,h=t[d];if((0,L.isFalsyOrEmpty)(h))return 2<<20;const n=(0,L.binarySearch)(h,k.Range.fromPositions(o),k.Range.compareRangesUsingStarts),c=n>=0?h[n]:h[Math.max(0,~n-1)];let a=s.length;for(const l of s){if(!k.Range.containsRange(l.range,c))break;a-=1}return a}}})}}e.WordDistance=D,D.None=new class extends D{distance(){return 0}}}),define(X[298],ee([1,0]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.stateExists=e.findRules=e.substituteMatches=e.createError=e.log=e.sanitize=e.fixCase=e.empty=e.isIAction=e.isString=e.isFuzzyAction=e.isFuzzyActionArr=void 0;function L(o){return Array.isArray(o)}e.isFuzzyActionArr=L;function k(o){return!L(o)}e.isFuzzyAction=k;function y(o){return typeof o=="string"}e.isString=y;function D(o){return!y(o)}e.isIAction=D;function S(o){return!o}e.empty=S;function m(o,r){return o.ignoreCase&&r?r.toLowerCase():r}e.fixCase=m;function _(o){return o.replace(/[&<>'"_]/g,"-")}e.sanitize=_;function f(o,r){console.log(`${o.languageId}: ${r}`)}e.log=f;function p(o,r){return new Error(`${o.languageId}: ${r}`)}e.createError=p;function s(o,r,d,h,n){const c=/\$((\$)|(#)|(\d\d?)|[sS](\d\d?)|@(\w+))/g;let a=null;return r.replace(c,function(l,u,C,g,v,b,w,E,I){return S(C)?S(g)?!S(v)&&v<h.length?m(o,h[v]):!S(w)&&o&&typeof o[w]=="string"?o[w]:(a===null&&(a=n.split("."),a.unshift(n)),!S(b)&&b<a.length?m(o,a[b]):""):m(o,d):"$"})}e.substituteMatches=s;function t(o,r){let d=r;for(;d&&d.length>0;){const h=o.tokenizer[d];if(h)return h;const n=d.lastIndexOf(".");n<0?d=null:d=d.substr(0,n)}return null}e.findRules=t;function i(o,r){let d=r;for(;d&&d.length>0;){if(o.stateNames[d])return!0;const n=d.lastIndexOf(".");n<0?d=null:d=d.substr(0,n)}return!1}e.stateExists=i}),define(X[546],ee([1,0,298]),function(q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.compile=void 0;function k(o,r){if(!r||!Array.isArray(r))return!1;for(const d of r)if(!o(d))return!1;return!0}function y(o,r){return typeof o=="boolean"?o:r}function D(o,r){return typeof o=="string"?o:r}function S(o){const r={};for(const d of o)r[d]=!0;return r}function m(o,r=!1){r&&(o=o.map(function(h){return h.toLowerCase()}));const d=S(o);return r?function(h){return d[h.toLowerCase()]!==void 0&&d.hasOwnProperty(h.toLowerCase())}:function(h){return d[h]!==void 0&&d.hasOwnProperty(h)}}function _(o,r){r=r.replace(/@@/g,"");let d=0,h;do h=!1,r=r.replace(/@(\w+)/g,function(c,a){h=!0;let l="";if(typeof o[a]=="string")l=o[a];else if(o[a]&&o[a]instanceof RegExp)l=o[a].source;else throw o[a]===void 0?L.createError(o,"language definition does not contain attribute '"+a+"', used at: "+r):L.createError(o,"attribute reference '"+a+"' must be a string, used at: "+r);return L.empty(l)?"":"(?:"+l+")"}),d++;while(h&&d<5);r=r.replace(/\x01/g,"@");const n=(o.ignoreCase?"i":"")+(o.unicode?"u":"");return new RegExp(r,n)}function f(o,r,d,h){if(h<0)return o;if(h<r.length)return r[h];if(h>=100){h=h-100;const n=d.split(".");if(n.unshift(d),h<n.length)return n[h]}return null}function p(o,r,d,h){let n=-1,c=d,a=d.match(/^\$(([sS]?)(\d\d?)|#)(.*)$/);a&&(a[3]&&(n=parseInt(a[3]),a[2]&&(n=n+100)),c=a[4]);let l="~",u=c;!c||c.length===0?(l="!=",u=""):/^\w*$/.test(u)?l="==":(a=c.match(/^(@|!@|~|!~|==|!=)(.*)$/),a&&(l=a[1],u=a[2]));let C;if((l==="~"||l==="!~")&&/^(\w|\|)*$/.test(u)){const g=m(u.split("|"),o.ignoreCase);C=function(v){return l==="~"?g(v):!g(v)}}else if(l==="@"||l==="!@"){const g=o[u];if(!g)throw L.createError(o,"the @ match target '"+u+"' is not defined, in rule: "+r);if(!k(function(b){return typeof b=="string"},g))throw L.createError(o,"the @ match target '"+u+"' must be an array of strings, in rule: "+r);const v=m(g,o.ignoreCase);C=function(b){return l==="@"?v(b):!v(b)}}else if(l==="~"||l==="!~")if(u.indexOf("$")<0){const g=_(o,"^"+u+"$");C=function(v){return l==="~"?g.test(v):!g.test(v)}}else C=function(g,v,b,w){return _(o,"^"+L.substituteMatches(o,u,v,b,w)+"$").test(g)};else if(u.indexOf("$")<0){const g=L.fixCase(o,u);C=function(v){return l==="=="?v===g:v!==g}}else{const g=L.fixCase(o,u);C=function(v,b,w,E,I){const T=L.substituteMatches(o,g,b,w,E);return l==="=="?v===T:v!==T}}return n===-1?{name:d,value:h,test:function(g,v,b,w){return C(g,g,v,b,w)}}:{name:d,value:h,test:function(g,v,b,w){const E=f(g,v,b,n);return C(E||"",g,v,b,w)}}}function s(o,r,d){if(d){if(typeof d=="string")return d;if(d.token||d.token===""){if(typeof d.token!="string")throw L.createError(o,"a 'token' attribute must be of type string, in rule: "+r);{const h={token:d.token};if(d.token.indexOf("$")>=0&&(h.tokenSubst=!0),typeof d.bracket=="string")if(d.bracket==="@open")h.bracket=1;else if(d.bracket==="@close")h.bracket=-1;else throw L.createError(o,"a 'bracket' attribute must be either '@open' or '@close', in rule: "+r);if(d.next){if(typeof d.next!="string")throw L.createError(o,"the next state must be a string value in rule: "+r);{let n=d.next;if(!/^(@pop|@push|@popall)$/.test(n)&&(n[0]==="@"&&(n=n.substr(1)),n.indexOf("$")<0&&!L.stateExists(o,L.substituteMatches(o,n,"",[],""))))throw L.createError(o,"the next state '"+d.next+"' is not defined in rule: "+r);h.next=n}}return typeof d.goBack=="number"&&(h.goBack=d.goBack),typeof d.switchTo=="string"&&(h.switchTo=d.switchTo),typeof d.log=="string"&&(h.log=d.log),typeof d.nextEmbedded=="string"&&(h.nextEmbedded=d.nextEmbedded,o.usesEmbedded=!0),h}}else if(Array.isArray(d)){const h=[];for(let n=0,c=d.length;n<c;n++)h[n]=s(o,r,d[n]);return{group:h}}else if(d.cases){const h=[];for(const c in d.cases)if(d.cases.hasOwnProperty(c)){const a=s(o,r,d.cases[c]);c==="@default"||c==="@"||c===""?h.push({test:void 0,value:a,name:c}):c==="@eos"?h.push({test:function(l,u,C,g){return g},value:a,name:c}):h.push(p(o,r,c,a))}const n=o.defaultToken;return{test:function(c,a,l,u){for(const C of h)if(!C.test||C.test(c,a,l,u))return C.value;return n}}}else throw L.createError(o,"an action must be a string, an object with a 'token' or 'cases' attribute, or an array of actions; in rule: "+r)}else return{token:""}}class t{constructor(r){this.regex=new RegExp(""),this.action={token:""},this.matchOnlyAtLineStart=!1,this.name="",this.name=r}setRegex(r,d){let h;if(typeof d=="string")h=d;else if(d instanceof RegExp)h=d.source;else throw L.createError(r,"rules must start with a match string or regular expression: "+this.name);this.matchOnlyAtLineStart=h.length>0&&h[0]==="^",this.name=this.name+": "+h,this.regex=_(r,"^(?:"+(this.matchOnlyAtLineStart?h.substr(1):h)+")")}setAction(r,d){this.action=s(r,this.name,d)}}function i(o,r){if(!r||typeof r!="object")throw new Error("Monarch: expecting a language definition object");const d={};d.languageId=o,d.includeLF=y(r.includeLF,!1),d.noThrow=!1,d.maxStack=100,d.start=typeof r.start=="string"?r.start:null,d.ignoreCase=y(r.ignoreCase,!1),d.unicode=y(r.unicode,!1),d.tokenPostfix=D(r.tokenPostfix,"."+d.languageId),d.defaultToken=D(r.defaultToken,"source"),d.usesEmbedded=!1;const h=r;h.languageId=o,h.includeLF=d.includeLF,h.ignoreCase=d.ignoreCase,h.unicode=d.unicode,h.noThrow=d.noThrow,h.usesEmbedded=d.usesEmbedded,h.stateNames=r.tokenizer,h.defaultToken=d.defaultToken;function n(a,l,u){for(const C of u){let g=C.include;if(g){if(typeof g!="string")throw L.createError(d,"an 'include' attribute must be a string at: "+a);if(g[0]==="@"&&(g=g.substr(1)),!r.tokenizer[g])throw L.createError(d,"include target '"+g+"' is not defined at: "+a);n(a+"."+g,l,r.tokenizer[g])}else{const v=new t(a);if(Array.isArray(C)&&C.length>=1&&C.length<=3)if(v.setRegex(h,C[0]),C.length>=3)if(typeof C[1]=="string")v.setAction(h,{token:C[1],next:C[2]});else if(typeof C[1]=="object"){const b=C[1];b.next=C[2],v.setAction(h,b)}else throw L.createError(d,"a next state as the last element of a rule can only be given if the action is either an object or a string, at: "+a);else v.setAction(h,C[1]);else{if(!C.regex)throw L.createError(d,"a rule must either be an array, or an object with a 'regex' or 'include' field at: "+a);C.name&&typeof C.name=="string"&&(v.name=C.name),C.matchOnlyAtStart&&(v.matchOnlyAtLineStart=y(C.matchOnlyAtLineStart,!1)),v.setRegex(h,C.regex),v.setAction(h,C.action)}l.push(v)}}}if(!r.tokenizer||typeof r.tokenizer!="object")throw L.createError(d,"a language definition must define the 'tokenizer' attribute as an object");d.tokenizer=[];for(const a in r.tokenizer)if(r.tokenizer.hasOwnProperty(a)){d.start||(d.start=a);const l=r.tokenizer[a];d.tokenizer[a]=new Array,n("tokenizer."+a,d.tokenizer[a],l)}if(d.usesEmbedded=h.usesEmbedded,r.brackets){if(!Array.isArray(r.brackets))throw L.createError(d,"the 'brackets' attribute must be defined as an array")}else r.brackets=[{open:"{",close:"}",token:"delimiter.curly"},{open:"[",close:"]",token:"delimiter.square"},{open:"(",close:")",token:"delimiter.parenthesis"},{open:"<",close:">",token:"delimiter.angle"}];const c=[];for(const a of r.brackets){let l=a;if(l&&Array.isArray(l)&&l.length===3&&(l={token:l[2],open:l[0],close:l[1]}),l.open===l.close)throw L.createError(d,"open and close brackets in a 'brackets' attribute must be different: "+l.open+`
 hint: use the 'bracket' attribute if matching on equal brackets is required.`);if(typeof l.open=="string"&&typeof l.token=="string"&&typeof l.close=="string")c.push({token:l.token+d.tokenPostfix,open:L.fixCase(d,l.open),close:L.fixCase(d,l.close)});else throw L.createError(d,"every element in the 'brackets' array must be a '{open,close,token}' object or array")}return d.brackets=c,d.noThrow=!0,d}e.compile=i}),define(X[547],ee([3,4]),function(q,e){return q.create("vs/base/browser/ui/actionbar/actionViewItems",e)}),define(X[548],ee([3,4]),function(q,e){return q.create("vs/base/browser/ui/findinput/findInput",e)}),define(X[549],ee([3,4]),function(q,e){return q.create("vs/base/browser/ui/findinput/findInputToggles",e)}),define(X[550],ee([3,4]),function(q,e){return q.create("vs/base/browser/ui/findinput/replaceInput",e)}),define(X[551],ee([3,4]),function(q,e){return q.create("vs/base/browser/ui/iconLabel/iconLabelHover",e)}),define(X[552],ee([3,4]),function(q,e){return q.create("vs/base/browser/ui/inputbox/inputBox",e)}),define(X[553],ee([3,4]),function(q,e){return q.create("vs/base/browser/ui/keybindingLabel/keybindingLabel",e)}),define(X[554],ee([3,4]),function(q,e){return q.create("vs/base/browser/ui/selectBox/selectBoxCustom",e)}),define(X[555],ee([3,4]),function(q,e){return q.create("vs/base/browser/ui/toolbar/toolbar",e)}),define(X[556],ee([3,4]),function(q,e){return q.create("vs/base/browser/ui/tree/abstractTree",e)}),define(X[557],ee([3,4]),function(q,e){return q.create("vs/base/common/actions",e)}),define(X[40],ee([1,0,6,2,557]),function(q,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toAction=e.EmptySubmenuAction=e.SubmenuAction=e.Separator=e.ActionRunner=e.Action=void 0;class D extends k.Disposable{constructor(t,i="",o="",r=!0,d){super(),this._onDidChange=this._register(new L.Emitter),this.onDidChange=this._onDidChange.event,this._enabled=!0,this._id=t,this._label=i,this._cssClass=o,this._enabled=r,this._actionCallback=d}get id(){return this._id}get label(){return this._label}set label(t){this._setLabel(t)}_setLabel(t){this._label!==t&&(this._label=t,this._onDidChange.fire({label:t}))}get tooltip(){return this._tooltip||""}set tooltip(t){this._setTooltip(t)}_setTooltip(t){this._tooltip!==t&&(this._tooltip=t,this._onDidChange.fire({tooltip:t}))}get class(){return this._cssClass}set class(t){this._setClass(t)}_setClass(t){this._cssClass!==t&&(this._cssClass=t,this._onDidChange.fire({class:t}))}get enabled(){return this._enabled}set enabled(t){this._setEnabled(t)}_setEnabled(t){this._enabled!==t&&(this._enabled=t,this._onDidChange.fire({enabled:t}))}get checked(){return this._checked}set checked(t){this._setChecked(t)}_setChecked(t){this._checked!==t&&(this._checked=t,this._onDidChange.fire({checked:t}))}run(t,i){return Le(this,void 0,void 0,function*(){this._actionCallback&&(yield this._actionCallback(t))})}}e.Action=D;class S extends k.Disposable{constructor(){super(...arguments),this._onWillRun=this._register(new L.Emitter),this.onWillRun=this._onWillRun.event,this._onDidRun=this._register(new L.Emitter),this.onDidRun=this._onDidRun.event}run(t,i){return Le(this,void 0,void 0,function*(){if(!t.enabled)return;this._onWillRun.fire({action:t});let o;try{yield this.runAction(t,i)}catch(r){o=r}this._onDidRun.fire({action:t,error:o})})}runAction(t,i){return Le(this,void 0,void 0,function*(){yield t.run(i)})}}e.ActionRunner=S;class m{constructor(){this.id=m.ID,this.label="",this.tooltip="",this.class="separator",this.enabled=!1,this.checked=!1}static join(...t){let i=[];for(const o of t)o.length&&(i.length?i=[...i,new m,...o]:i=o);return i}run(){return Le(this,void 0,void 0,function*(){})}}e.Separator=m,m.ID="vs.actions.separator";class _{get actions(){return this._actions}constructor(t,i,o,r){this.tooltip="",this.enabled=!0,this.checked=void 0,this.id=t,this.label=i,this.class=r,this._actions=o}run(){return Le(this,void 0,void 0,function*(){})}}e.SubmenuAction=_;class f extends D{constructor(){super(f.ID,y.localize(0,null),void 0,!1)}}e.EmptySubmenuAction=f,f.ID="vs.actions.empty";function p(s){var t,i;return{id:s.id,label:s.label,class:void 0,enabled:(t=s.enabled)!==null&&t!==void 0?t:!0,checked:(i=s.checked)!==null&&i!==void 0?i:!1,run:()=>Le(this,void 0,void 0,function*(){return s.run()}),tooltip:s.label}}e.toAction=p}),define(X[558],ee([3,4]),function(q,e){return q.create("vs/base/common/errorMessage",e)}),define(X[559],ee([1,0,16,18,558]),function(q,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toErrorMessage=void 0;function D(f,p){return p&&(f.stack||f.stacktrace)?y.localize(0,null,m(f),S(f.stack)||S(f.stacktrace)):m(f)}function S(f){return Array.isArray(f)?f.join(`
`):f}function m(f){return f.code==="ERR_UNC_HOST_NOT_ALLOWED"?`${f.message}. Please update the 'security.allowedUNCHosts' setting if you want to allow this host.`:typeof f.code=="string"&&typeof f.errno=="number"&&typeof f.syscall=="string"?y.localize(1,null,f.message):f.message||y.localize(2,null)}function _(f=null,p=!1){if(!f)return y.localize(3,null);if(Array.isArray(f)){const s=L.coalesce(f),t=_(s[0],p);return s.length>1?y.localize(4,null,t,s.length):t}if(k.isString(f))return f;if(f.detail){const s=f.detail;if(s.error)return D(s.error,p);if(s.exception)return D(s.exception,p)}return f.stack?D(f,p):f.message?f.message:y.localize(5,null)}e.toErrorMessage=_}),define(X[560],ee([3,4]),function(q,e){return q.create("vs/base/common/keybindingLabels",e)}),define(X[216],ee([1,0,560]),function(q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UserSettingsLabelProvider=e.ElectronAcceleratorLabelProvider=e.AriaLabelProvider=e.UILabelProvider=e.ModifierLabelProvider=void 0;class k{constructor(S,m,_=m){this.modifierLabels=[null],this.modifierLabels[2]=S,this.modifierLabels[1]=m,this.modifierLabels[3]=_}toLabel(S,m,_){if(m.length===0)return null;const f=[];for(let p=0,s=m.length;p<s;p++){const t=m[p],i=_(t);if(i===null)return null;f[p]=y(t,i,this.modifierLabels[S])}return f.join(" ")}}e.ModifierLabelProvider=k,e.UILabelProvider=new k({ctrlKey:"\u2303",shiftKey:"\u21E7",altKey:"\u2325",metaKey:"\u2318",separator:""},{ctrlKey:L.localize(0,null),shiftKey:L.localize(1,null),altKey:L.localize(2,null),metaKey:L.localize(3,null),separator:"+"},{ctrlKey:L.localize(4,null),shiftKey:L.localize(5,null),altKey:L.localize(6,null),metaKey:L.localize(7,null),separator:"+"}),e.AriaLabelProvider=new k({ctrlKey:L.localize(8,null),shiftKey:L.localize(9,null),altKey:L.localize(10,null),metaKey:L.localize(11,null),separator:"+"},{ctrlKey:L.localize(12,null),shiftKey:L.localize(13,null),altKey:L.localize(14,null),metaKey:L.localize(15,null),separator:"+"},{ctrlKey:L.localize(16,null),shiftKey:L.localize(17,null),altKey:L.localize(18,null),metaKey:L.localize(19,null),separator:"+"}),e.ElectronAcceleratorLabelProvider=new k({ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt",metaKey:"Cmd",separator:"+"},{ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt",metaKey:"Super",separator:"+"}),e.UserSettingsLabelProvider=new k({ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"cmd",separator:"+"},{ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"win",separator:"+"},{ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"meta",separator:"+"});function y(D,S,m){if(S===null)return"";const _=[];return D.ctrlKey&&_.push(m.ctrlKey),D.shiftKey&&_.push(m.shiftKey),D.altKey&&_.push(m.altKey),D.metaKey&&_.push(m.metaKey),S!==""&&_.push(S),_.join(m.separator)}}),define(X[561],ee([3,4]),function(q,e){return q.create("vs/base/common/platform",e)}),define(X[17],ee([1,0,561]),function(q,e,L){"use strict";var k;Object.defineProperty(e,"__esModule",{value:!0}),e.isAndroid=e.isEdge=e.isSafari=e.isFirefox=e.isChrome=e.isLittleEndian=e.OS=e.setTimeout0=e.setTimeout0IsFaster=e.language=e.userAgent=e.isMobile=e.isIOS=e.isWebWorker=e.isWeb=e.isNative=e.isLinux=e.isMacintosh=e.isWindows=e.globals=e.LANGUAGE_DEFAULT=void 0,e.LANGUAGE_DEFAULT="en";let y=!1,D=!1,S=!1,m=!1,_=!1,f=!1,p=!1,s=!1,t=!1,i=!1,o,r=e.LANGUAGE_DEFAULT,d=e.LANGUAGE_DEFAULT,h,n;e.globals=typeof self=="object"?self:typeof global=="object"?global:{};let c;typeof e.globals.vscode<"u"&&typeof e.globals.vscode.process<"u"?c=e.globals.vscode.process:typeof process<"u"&&(c=process);const a=typeof((k=c?.versions)===null||k===void 0?void 0:k.electron)=="string",l=a&&c?.type==="renderer";if(typeof navigator=="object"&&!l)n=navigator.userAgent,y=n.indexOf("Windows")>=0,D=n.indexOf("Macintosh")>=0,s=(n.indexOf("Macintosh")>=0||n.indexOf("iPad")>=0||n.indexOf("iPhone")>=0)&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>0,S=n.indexOf("Linux")>=0,i=n?.indexOf("Mobi")>=0,f=!0,o=L.getConfiguredDefaultLocale(L.localize(0,null))||e.LANGUAGE_DEFAULT,r=o,d=navigator.language;else if(typeof c=="object"){y=c.platform==="win32",D=c.platform==="darwin",S=c.platform==="linux",m=S&&!!c.env.SNAP&&!!c.env.SNAP_REVISION,p=a,t=!!c.env.CI||!!c.env.BUILD_ARTIFACTSTAGINGDIRECTORY,o=e.LANGUAGE_DEFAULT,r=e.LANGUAGE_DEFAULT;const b=c.env.VSCODE_NLS_CONFIG;if(b)try{const w=JSON.parse(b),E=w.availableLanguages["*"];o=w.locale,d=w.osLocale,r=E||e.LANGUAGE_DEFAULT,h=w._translationsConfigFile}catch{}_=!0}else console.error("Unable to resolve platform.");let u=0;D?u=1:y?u=3:S&&(u=2),e.isWindows=y,e.isMacintosh=D,e.isLinux=S,e.isNative=_,e.isWeb=f,e.isWebWorker=f&&typeof e.globals.importScripts=="function",e.isIOS=s,e.isMobile=i,e.userAgent=n,e.language=r,e.setTimeout0IsFaster=typeof e.globals.postMessage=="function"&&!e.globals.importScripts,e.setTimeout0=(()=>{if(e.setTimeout0IsFaster){const b=[];e.globals.addEventListener("message",E=>{if(E.data&&E.data.vscodeScheduleAsyncWork)for(let I=0,T=b.length;I<T;I++){const P=b[I];if(P.id===E.data.vscodeScheduleAsyncWork){b.splice(I,1),P.callback();return}}});let w=0;return E=>{const I=++w;b.push({id:I,callback:E}),e.globals.postMessage({vscodeScheduleAsyncWork:I},"*")}}return b=>setTimeout(b)})(),e.OS=D||s?2:y?1:3;let C=!0,g=!1;function v(){if(!g){g=!0;const b=new Uint8Array(2);b[0]=1,b[1]=2,C=new Uint16Array(b.buffer)[0]===(2<<8)+1}return C}e.isLittleEndian=v,e.isChrome=!!(e.userAgent&&e.userAgent.indexOf("Chrome")>=0),e.isFirefox=!!(e.userAgent&&e.userAgent.indexOf("Firefox")>=0),e.isSafari=!!(!e.isChrome&&e.userAgent&&e.userAgent.indexOf("Safari")>=0),e.isEdge=!!(e.userAgent&&e.userAgent.indexOf("Edg/")>=0),e.isAndroid=!!(e.userAgent&&e.userAgent.indexOf("Android")>=0)}),define(X[217],ee([1,0,51,17]),function(q,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BrowserFeatures=void 0,e.BrowserFeatures={clipboard:{writeText:k.isNative||document.queryCommandSupported&&document.queryCommandSupported("copy")||!!(navigator&&navigator.clipboard&&navigator.clipboard.writeText),readText:k.isNative||!!(navigator&&navigator.clipboard&&navigator.clipboard.readText)},keyboard:(()=>k.isNative||L.isStandalone()?0:navigator.keyboard||L.isSafari?1:2)(),touch:"ontouchstart"in window||navigator.maxTouchPoints>0,pointerEvents:window.PointerEvent&&("ontouchstart"in window||window.navigator.maxTouchPoints>0||navigator.maxTouchPoints>0)}}),define(X[45],ee([1,0,51,62,117,17]),function(q,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandardKeyboardEvent=void 0;function S(t){if(t.charCode){const o=String.fromCharCode(t.charCode).toUpperCase();return k.KeyCodeUtils.fromString(o)}const i=t.keyCode;if(i===3)return 7;if(L.isFirefox)switch(i){case 59:return 85;case 60:if(D.isLinux)return 97;break;case 61:return 86;case 107:return 109;case 109:return 111;case 173:return 88;case 224:if(D.isMacintosh)return 57;break}else if(L.isWebKit){if(D.isMacintosh&&i===93)return 57;if(!D.isMacintosh&&i===92)return 57}return k.EVENT_KEY_CODE_MAP[i]||0}const m=D.isMacintosh?256:2048,_=512,f=1024,p=D.isMacintosh?2048:256;class s{constructor(i){this._standardKeyboardEventBrand=!0;const o=i;this.browserEvent=o,this.target=o.target,this.ctrlKey=o.ctrlKey,this.shiftKey=o.shiftKey,this.altKey=o.altKey,this.metaKey=o.metaKey,this.altGraphKey=o.getModifierState("AltGraph"),this.keyCode=S(o),this.code=o.code,this.ctrlKey=this.ctrlKey||this.keyCode===5,this.altKey=this.altKey||this.keyCode===6,this.shiftKey=this.shiftKey||this.keyCode===4,this.metaKey=this.metaKey||this.keyCode===57,this._asKeybinding=this._computeKeybinding(),this._asKeyCodeChord=this._computeKeyCodeChord()}preventDefault(){this.browserEvent&&this.browserEvent.preventDefault&&this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent&&this.browserEvent.stopPropagation&&this.browserEvent.stopPropagation()}toKeyCodeChord(){return this._asKeyCodeChord}equals(i){return this._asKeybinding===i}_computeKeybinding(){let i=0;this.keyCode!==5&&this.keyCode!==4&&this.keyCode!==6&&this.keyCode!==57&&(i=this.keyCode);let o=0;return this.ctrlKey&&(o|=m),this.altKey&&(o|=_),this.shiftKey&&(o|=f),this.metaKey&&(o|=p),o|=i,o}_computeKeyCodeChord(){let i=0;return this.keyCode!==5&&this.keyCode!==4&&this.keyCode!==6&&this.keyCode!==57&&(i=this.keyCode),new y.KeyCodeChord(this.ctrlKey,this.shiftKey,this.altKey,this.metaKey,i)}}e.StandardKeyboardEvent=s}),define(X[73],ee([1,0,51,375,17]),function(q,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandardWheelEvent=e.StandardMouseEvent=void 0;class D{constructor(_){this.timestamp=Date.now(),this.browserEvent=_,this.leftButton=_.button===0,this.middleButton=_.button===1,this.rightButton=_.button===2,this.buttons=_.buttons,this.target=_.target,this.detail=_.detail||1,_.type==="dblclick"&&(this.detail=2),this.ctrlKey=_.ctrlKey,this.shiftKey=_.shiftKey,this.altKey=_.altKey,this.metaKey=_.metaKey,typeof _.pageX=="number"?(this.posx=_.pageX,this.posy=_.pageY):(this.posx=_.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,this.posy=_.clientY+document.body.scrollTop+document.documentElement.scrollTop);const f=k.IframeUtils.getPositionOfChildWindowRelativeToAncestorWindow(window,_.view);this.posx-=f.left,this.posy-=f.top}preventDefault(){this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent.stopPropagation()}}e.StandardMouseEvent=D;class S{constructor(_,f=0,p=0){if(this.browserEvent=_||null,this.target=_?_.target||_.targetNode||_.srcElement:null,this.deltaY=p,this.deltaX=f,_){const s=_,t=_;if(typeof s.wheelDeltaY<"u")this.deltaY=s.wheelDeltaY/120;else if(typeof t.VERTICAL_AXIS<"u"&&t.axis===t.VERTICAL_AXIS)this.deltaY=-t.detail/3;else if(_.type==="wheel"){const i=_;i.deltaMode===i.DOM_DELTA_LINE?L.isFirefox&&!y.isMacintosh?this.deltaY=-_.deltaY/3:this.deltaY=-_.deltaY:this.deltaY=-_.deltaY/40}if(typeof s.wheelDeltaX<"u")L.isSafari&&y.isWindows?this.deltaX=-(s.wheelDeltaX/120):this.deltaX=s.wheelDeltaX/120;else if(typeof t.HORIZONTAL_AXIS<"u"&&t.axis===t.HORIZONTAL_AXIS)this.deltaX=-_.detail/3;else if(_.type==="wheel"){const i=_;i.deltaMode===i.DOM_DELTA_LINE?L.isFirefox&&!y.isMacintosh?this.deltaX=-_.deltaX/3:this.deltaX=-_.deltaX:this.deltaX=-_.deltaX/40}this.deltaY===0&&this.deltaX===0&&_.wheelDelta&&(this.deltaY=_.wheelDelta/120)}}preventDefault(){var _;(_=this.browserEvent)===null||_===void 0||_.preventDefault()}stopPropagation(){var _;(_=this.browserEvent)===null||_===void 0||_.stopPropagation()}}e.StandardWheelEvent=S});var yt=this&&this.__asyncValues||function(q){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=q[Symbol.asyncIterator],L;return e?e.call(q):(q=typeof __values=="function"?__values(q):q[Symbol.iterator](),L={},k("next"),k("throw"),k("return"),L[Symbol.asyncIterator]=function(){return this},L);function k(D){L[D]=q[D]&&function(S){return new Promise(function(m,_){S=q[D](S),y(m,_,S.done,S.value)})}}function y(D,S,m,_){Promise.resolve(_).then(function(f){D({value:f,done:m})},S)}};define(X[14],ee([1,0,20,12,6,2,17,262]),function(q,e,L,k,y,D,S,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createCancelableAsyncIterable=e.CancelableAsyncIterableObject=e.AsyncIterableObject=e.Promises=e.DeferredPromise=e.IdleValue=e.runWhenIdle=e.RunOnceScheduler=e.IntervalTimer=e.TimeoutTimer=e.first=e.disposableTimeout=e.timeout=e.ThrottledDelayer=e.Delayer=e.Throttler=e.raceCancellation=e.createCancelablePromise=e.isThenable=void 0;function _(E){return!!E&&typeof E.then=="function"}e.isThenable=_;function f(E){const I=new L.CancellationTokenSource,T=E(I.token),P=new Promise((A,M)=>{const N=I.token.onCancellationRequested(()=>{N.dispose(),I.dispose(),M(new k.CancellationError)});Promise.resolve(T).then(R=>{N.dispose(),I.dispose(),A(R)},R=>{N.dispose(),I.dispose(),M(R)})});return new class{cancel(){I.cancel()}then(A,M){return P.then(A,M)}catch(A){return this.then(void 0,A)}finally(A){return P.finally(A)}}}e.createCancelablePromise=f;function p(E,I,T){return new Promise((P,A)=>{const M=I.onCancellationRequested(()=>{M.dispose(),P(T)});E.then(P,A).finally(()=>M.dispose())})}e.raceCancellation=p;class s{constructor(){this.isDisposed=!1,this.activePromise=null,this.queuedPromise=null,this.queuedPromiseFactory=null}queue(I){if(this.isDisposed)throw new Error("Throttler is disposed");if(this.activePromise){if(this.queuedPromiseFactory=I,!this.queuedPromise){const T=()=>{if(this.queuedPromise=null,this.isDisposed)return;const P=this.queue(this.queuedPromiseFactory);return this.queuedPromiseFactory=null,P};this.queuedPromise=new Promise(P=>{this.activePromise.then(T,T).then(P)})}return new Promise((T,P)=>{this.queuedPromise.then(T,P)})}return this.activePromise=I(),new Promise((T,P)=>{this.activePromise.then(A=>{this.activePromise=null,T(A)},A=>{this.activePromise=null,P(A)})})}dispose(){this.isDisposed=!0}}e.Throttler=s;const t=(E,I)=>{let T=!0;const P=setTimeout(()=>{T=!1,I()},E);return{isTriggered:()=>T,dispose:()=>{clearTimeout(P),T=!1}}},i=E=>{let I=!0;return queueMicrotask(()=>{I&&(I=!1,E())}),{isTriggered:()=>I,dispose:()=>{I=!1}}};class o{constructor(I){this.defaultDelay=I,this.deferred=null,this.completionPromise=null,this.doResolve=null,this.doReject=null,this.task=null}trigger(I,T=this.defaultDelay){this.task=I,this.cancelTimeout(),this.completionPromise||(this.completionPromise=new Promise((A,M)=>{this.doResolve=A,this.doReject=M}).then(()=>{if(this.completionPromise=null,this.doResolve=null,this.task){const A=this.task;return this.task=null,A()}}));const P=()=>{var A;this.deferred=null,(A=this.doResolve)===null||A===void 0||A.call(this,null)};return this.deferred=T===m.MicrotaskDelay?i(P):t(T,P),this.completionPromise}isTriggered(){var I;return!!(!((I=this.deferred)===null||I===void 0)&&I.isTriggered())}cancel(){var I;this.cancelTimeout(),this.completionPromise&&((I=this.doReject)===null||I===void 0||I.call(this,new k.CancellationError),this.completionPromise=null)}cancelTimeout(){var I;(I=this.deferred)===null||I===void 0||I.dispose(),this.deferred=null}dispose(){this.cancel()}}e.Delayer=o;class r{constructor(I){this.delayer=new o(I),this.throttler=new s}trigger(I,T){return this.delayer.trigger(()=>this.throttler.queue(I),T)}cancel(){this.delayer.cancel()}dispose(){this.delayer.dispose()}}e.ThrottledDelayer=r;function d(E,I){return I?new Promise((T,P)=>{const A=setTimeout(()=>{M.dispose(),T()},E),M=I.onCancellationRequested(()=>{clearTimeout(A),M.dispose(),P(new k.CancellationError)})}):f(T=>d(E,T))}e.timeout=d;function h(E,I=0){const T=setTimeout(E,I);return(0,D.toDisposable)(()=>clearTimeout(T))}e.disposableTimeout=h;function n(E,I=P=>!!P,T=null){let P=0;const A=E.length,M=()=>{if(P>=A)return Promise.resolve(T);const N=E[P++];return Promise.resolve(N()).then(F=>I(F)?Promise.resolve(F):M())};return M()}e.first=n;class c{constructor(I,T){this._token=-1,typeof I=="function"&&typeof T=="number"&&this.setIfNotSet(I,T)}dispose(){this.cancel()}cancel(){this._token!==-1&&(clearTimeout(this._token),this._token=-1)}cancelAndSet(I,T){this.cancel(),this._token=setTimeout(()=>{this._token=-1,I()},T)}setIfNotSet(I,T){this._token===-1&&(this._token=setTimeout(()=>{this._token=-1,I()},T))}}e.TimeoutTimer=c;class a{constructor(){this._token=-1}dispose(){this.cancel()}cancel(){this._token!==-1&&(clearInterval(this._token),this._token=-1)}cancelAndSet(I,T){this.cancel(),this._token=setInterval(()=>{I()},T)}}e.IntervalTimer=a;class l{constructor(I,T){this.timeoutToken=-1,this.runner=I,this.timeout=T,this.timeoutHandler=this.onTimeout.bind(this)}dispose(){this.cancel(),this.runner=null}cancel(){this.isScheduled()&&(clearTimeout(this.timeoutToken),this.timeoutToken=-1)}schedule(I=this.timeout){this.cancel(),this.timeoutToken=setTimeout(this.timeoutHandler,I)}get delay(){return this.timeout}set delay(I){this.timeout=I}isScheduled(){return this.timeoutToken!==-1}onTimeout(){this.timeoutToken=-1,this.runner&&this.doRun()}doRun(){var I;(I=this.runner)===null||I===void 0||I.call(this)}}e.RunOnceScheduler=l,function(){typeof requestIdleCallback!="function"||typeof cancelIdleCallback!="function"?e.runWhenIdle=E=>{(0,S.setTimeout0)(()=>{if(I)return;const T=Date.now()+15;E(Object.freeze({didTimeout:!0,timeRemaining(){return Math.max(0,T-Date.now())}}))});let I=!1;return{dispose(){I||(I=!0)}}}:e.runWhenIdle=(E,I)=>{const T=requestIdleCallback(E,typeof I=="number"?{timeout:I}:void 0);let P=!1;return{dispose(){P||(P=!0,cancelIdleCallback(T))}}}}();class u{constructor(I){this._didRun=!1,this._executor=()=>{try{this._value=I()}catch(T){this._error=T}finally{this._didRun=!0}},this._handle=(0,e.runWhenIdle)(()=>this._executor())}dispose(){this._handle.dispose()}get value(){if(this._didRun||(this._handle.dispose(),this._executor()),this._error)throw this._error;return this._value}get isInitialized(){return this._didRun}}e.IdleValue=u;class C{get isRejected(){var I;return((I=this.outcome)===null||I===void 0?void 0:I.outcome)===1}get isSettled(){return!!this.outcome}constructor(){this.p=new Promise((I,T)=>{this.completeCallback=I,this.errorCallback=T})}complete(I){return new Promise(T=>{this.completeCallback(I),this.outcome={outcome:0,value:I},T()})}error(I){return new Promise(T=>{this.errorCallback(I),this.outcome={outcome:1,value:I},T()})}cancel(){return this.error(new k.CancellationError)}}e.DeferredPromise=C;var g;(function(E){function I(P){return Le(this,void 0,void 0,function*(){let A;const M=yield Promise.all(P.map(N=>N.then(R=>R,R=>{A||(A=R)})));if(typeof A<"u")throw A;return M})}E.settled=I;function T(P){return new Promise((A,M)=>Le(this,void 0,void 0,function*(){try{yield P(A,M)}catch(N){M(N)}}))}E.withAsyncBody=T})(g||(e.Promises=g={}));class v{static fromArray(I){return new v(T=>{T.emitMany(I)})}static fromPromise(I){return new v(T=>Le(this,void 0,void 0,function*(){T.emitMany(yield I)}))}static fromPromises(I){return new v(T=>Le(this,void 0,void 0,function*(){yield Promise.all(I.map(P=>Le(this,void 0,void 0,function*(){return T.emitOne(yield P)})))}))}static merge(I){return new v(T=>Le(this,void 0,void 0,function*(){yield Promise.all(I.map(P=>{var A,M,N;return Le(this,void 0,void 0,function*(){var R,F,x,W;try{for(A=!0,M=yt(P);N=yield M.next(),R=N.done,!R;A=!0){W=N.value,A=!1;const z=W;T.emitOne(z)}}catch(z){F={error:z}}finally{try{!A&&!R&&(x=M.return)&&(yield x.call(M))}finally{if(F)throw F.error}}})}))}))}constructor(I){this._state=0,this._results=[],this._error=null,this._onStateChanged=new y.Emitter,queueMicrotask(()=>Le(this,void 0,void 0,function*(){const T={emitOne:P=>this.emitOne(P),emitMany:P=>this.emitMany(P),reject:P=>this.reject(P)};try{yield Promise.resolve(I(T)),this.resolve()}catch(P){this.reject(P)}finally{T.emitOne=void 0,T.emitMany=void 0,T.reject=void 0}}))}[Symbol.asyncIterator](){let I=0;return{next:()=>Le(this,void 0,void 0,function*(){do{if(this._state===2)throw this._error;if(I<this._results.length)return{done:!1,value:this._results[I++]};if(this._state===1)return{done:!0,value:void 0};yield y.Event.toPromise(this._onStateChanged.event)}while(!0)})}}static map(I,T){return new v(P=>Le(this,void 0,void 0,function*(){var A,M,N,R;try{for(var F=!0,x=yt(I),W;W=yield x.next(),A=W.done,!A;F=!0){R=W.value,F=!1;const z=R;P.emitOne(T(z))}}catch(z){M={error:z}}finally{try{!F&&!A&&(N=x.return)&&(yield N.call(x))}finally{if(M)throw M.error}}}))}map(I){return v.map(this,I)}static filter(I,T){return new v(P=>Le(this,void 0,void 0,function*(){var A,M,N,R;try{for(var F=!0,x=yt(I),W;W=yield x.next(),A=W.done,!A;F=!0){R=W.value,F=!1;const z=R;T(z)&&P.emitOne(z)}}catch(z){M={error:z}}finally{try{!F&&!A&&(N=x.return)&&(yield N.call(x))}finally{if(M)throw M.error}}}))}filter(I){return v.filter(this,I)}static coalesce(I){return v.filter(I,T=>!!T)}coalesce(){return v.coalesce(this)}static toPromise(I){var T,P,A,M,N,R,F;return Le(this,void 0,void 0,function*(){const x=[];try{for(T=!0,P=yt(I);A=yield P.next(),M=A.done,!M;T=!0){F=A.value,T=!1;const W=F;x.push(W)}}catch(W){N={error:W}}finally{try{!T&&!M&&(R=P.return)&&(yield R.call(P))}finally{if(N)throw N.error}}return x})}toPromise(){return v.toPromise(this)}emitOne(I){this._state===0&&(this._results.push(I),this._onStateChanged.fire())}emitMany(I){this._state===0&&(this._results=this._results.concat(I),this._onStateChanged.fire())}resolve(){this._state===0&&(this._state=1,this._onStateChanged.fire())}reject(I){this._state===0&&(this._state=2,this._error=I,this._onStateChanged.fire())}}e.AsyncIterableObject=v,v.EMPTY=v.fromArray([]);class b extends v{constructor(I,T){super(T),this._source=I}cancel(){this._source.cancel()}}e.CancelableAsyncIterableObject=b;function w(E){const I=new L.CancellationTokenSource,T=E(I.token);return new b(I,P=>Le(this,void 0,void 0,function*(){var A,M,N,R;const F=I.token.onCancellationRequested(()=>{F.dispose(),I.dispose(),P.reject(new k.CancellationError)});try{try{for(var x=!0,W=yt(T),z;z=yield W.next(),A=z.done,!A;x=!0){R=z.value,x=!1;const U=R;if(I.token.isCancellationRequested)return;P.emitOne(U)}}catch(U){M={error:U}}finally{try{!x&&!A&&(N=W.return)&&(yield N.call(W))}finally{if(M)throw M.error}}F.dispose(),I.dispose()}catch(U){F.dispose(),I.dispose(),P.reject(U)}}))}e.createCancelableAsyncIterable=w}),define(X[562],ee([1,0,14,2]),function(q,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ScrollbarVisibilityController=void 0;class y extends k.Disposable{constructor(S,m,_){super(),this._visibility=S,this._visibleClassName=m,this._invisibleClassName=_,this._domNode=null,this._isVisible=!1,this._isNeeded=!1,this._rawShouldBeVisible=!1,this._shouldBeVisible=!1,this._revealTimer=this._register(new L.TimeoutTimer)}setVisibility(S){this._visibility!==S&&(this._visibility=S,this._updateShouldBeVisible())}setShouldBeVisible(S){this._rawShouldBeVisible=S,this._updateShouldBeVisible()}_applyVisibilitySetting(){return this._visibility===2?!1:this._visibility===3?!0:this._rawShouldBeVisible}_updateShouldBeVisible(){const S=this._applyVisibilitySetting();this._shouldBeVisible!==S&&(this._shouldBeVisible=S,this.ensureVisibility())}setIsNeeded(S){this._isNeeded!==S&&(this._isNeeded=S,this.ensureVisibility())}setDomNode(S){this._domNode=S,this._domNode.setClassName(this._invisibleClassName),this.setShouldBeVisible(!1)}ensureVisibility(){if(!this._isNeeded){this._hide(!1);return}this._shouldBeVisible?this._reveal():this._hide(!0)}_reveal(){this._isVisible||(this._isVisible=!0,this._revealTimer.setIfNotSet(()=>{var S;(S=this._domNode)===null||S===void 0||S.setClassName(this._visibleClassName)},0))}_hide(S){var m;this._revealTimer.cancel(),this._isVisible&&(this._isVisible=!1,(m=this._domNode)===null||m===void 0||m.setClassName(this._invisibleClassName+(S?" fade":"")))}}e.ScrollbarVisibilityController=y}),define(X[218],ee([1,0,137,16,14,262,170,6,50]),function(q,e,L,k,y,D,S,m,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IndexTreeModel=e.getVisibleState=e.isFilterResult=void 0;function f(i){return typeof i=="object"&&"visibility"in i&&"data"in i}e.isFilterResult=f;function p(i){switch(i){case!0:return 1;case!1:return 0;default:return i}}e.getVisibleState=p;function s(i){return typeof i.collapsible=="boolean"}class t{constructor(o,r,d,h={}){this.user=o,this.list=r,this.rootRef=[],this.eventBufferer=new m.EventBufferer,this._onDidChangeCollapseState=new m.Emitter,this.onDidChangeCollapseState=this.eventBufferer.wrapEvent(this._onDidChangeCollapseState.event),this._onDidChangeRenderNodeCount=new m.Emitter,this.onDidChangeRenderNodeCount=this.eventBufferer.wrapEvent(this._onDidChangeRenderNodeCount.event),this._onDidSplice=new m.Emitter,this.onDidSplice=this._onDidSplice.event,this.refilterDelayer=new y.Delayer(D.MicrotaskDelay),this.collapseByDefault=typeof h.collapseByDefault>"u"?!1:h.collapseByDefault,this.filter=h.filter,this.autoExpandSingleChildren=typeof h.autoExpandSingleChildren>"u"?!1:h.autoExpandSingleChildren,this.root={parent:void 0,element:d,children:[],depth:0,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:!1,collapsed:!1,renderNodeCount:0,visibility:1,visible:!0,filterData:void 0}}splice(o,r,d=_.Iterable.empty(),h={}){if(o.length===0)throw new L.TreeError(this.user,"Invalid tree location");h.diffIdentityProvider?this.spliceSmart(h.diffIdentityProvider,o,r,d,h):this.spliceSimple(o,r,d,h)}spliceSmart(o,r,d,h,n,c){var a;h===void 0&&(h=_.Iterable.empty()),c===void 0&&(c=(a=n.diffDepth)!==null&&a!==void 0?a:0);const{parentNode:l}=this.getParentNodeWithListIndex(r);if(!l.lastDiffIds)return this.spliceSimple(r,d,h,n);const u=[...h],C=r[r.length-1],g=new S.LcsDiff({getElements:()=>l.lastDiffIds},{getElements:()=>[...l.children.slice(0,C),...u,...l.children.slice(C+d)].map(I=>o.getId(I.element).toString())}).ComputeDiff(!1);if(g.quitEarly)return l.lastDiffIds=void 0,this.spliceSimple(r,d,u,n);const v=r.slice(0,-1),b=(I,T,P)=>{if(c>0)for(let A=0;A<P;A++)I--,T--,this.spliceSmart(o,[...v,I,0],Number.MAX_SAFE_INTEGER,u[T].children,n,c-1)};let w=Math.min(l.children.length,C+d),E=u.length;for(const I of g.changes.sort((T,P)=>P.originalStart-T.originalStart))b(w,E,w-(I.originalStart+I.originalLength)),w=I.originalStart,E=I.modifiedStart-C,this.spliceSimple([...v,w],I.originalLength,_.Iterable.slice(u,E,E+I.modifiedLength),n);b(w,E,w)}spliceSimple(o,r,d=_.Iterable.empty(),{onDidCreateNode:h,onDidDeleteNode:n,diffIdentityProvider:c}){const{parentNode:a,listIndex:l,revealed:u,visible:C}=this.getParentNodeWithListIndex(o),g=[],v=_.Iterable.map(d,F=>this.createTreeNode(F,a,a.visible?1:0,u,g,h)),b=o[o.length-1],w=a.children.length>0;let E=0;for(let F=b;F>=0&&F<a.children.length;F--){const x=a.children[F];if(x.visible){E=x.visibleChildIndex;break}}const I=[];let T=0,P=0;for(const F of v)I.push(F),P+=F.renderNodeCount,F.visible&&(F.visibleChildIndex=E+T++);const A=(0,k.splice)(a.children,b,r,I);c?a.lastDiffIds?(0,k.splice)(a.lastDiffIds,b,r,I.map(F=>c.getId(F.element).toString())):a.lastDiffIds=a.children.map(F=>c.getId(F.element).toString()):a.lastDiffIds=void 0;let M=0;for(const F of A)F.visible&&M++;if(M!==0)for(let F=b+I.length;F<a.children.length;F++){const x=a.children[F];x.visible&&(x.visibleChildIndex-=M)}if(a.visibleChildrenCount+=T-M,u&&C){const F=A.reduce((x,W)=>x+(W.visible?W.renderNodeCount:0),0);this._updateAncestorsRenderNodeCount(a,P-F),this.list.splice(l,F,g)}if(A.length>0&&n){const F=x=>{n(x),x.children.forEach(F)};A.forEach(F)}this._onDidSplice.fire({insertedNodes:I,deletedNodes:A});const N=a.children.length>0;w!==N&&this.setCollapsible(o.slice(0,-1),N);let R=a;for(;R;){if(R.visibility===2){this.refilterDelayer.trigger(()=>this.refilter());break}R=R.parent}}rerender(o){if(o.length===0)throw new L.TreeError(this.user,"Invalid tree location");const{node:r,listIndex:d,revealed:h}=this.getTreeNodeWithListIndex(o);r.visible&&h&&this.list.splice(d,1,[r])}has(o){return this.hasTreeNode(o)}getListIndex(o){const{listIndex:r,visible:d,revealed:h}=this.getTreeNodeWithListIndex(o);return d&&h?r:-1}getListRenderCount(o){return this.getTreeNode(o).renderNodeCount}isCollapsible(o){return this.getTreeNode(o).collapsible}setCollapsible(o,r){const d=this.getTreeNode(o);typeof r>"u"&&(r=!d.collapsible);const h={collapsible:r};return this.eventBufferer.bufferEvents(()=>this._setCollapseState(o,h))}isCollapsed(o){return this.getTreeNode(o).collapsed}setCollapsed(o,r,d){const h=this.getTreeNode(o);typeof r>"u"&&(r=!h.collapsed);const n={collapsed:r,recursive:d||!1};return this.eventBufferer.bufferEvents(()=>this._setCollapseState(o,n))}_setCollapseState(o,r){const{node:d,listIndex:h,revealed:n}=this.getTreeNodeWithListIndex(o),c=this._setListNodeCollapseState(d,h,n,r);if(d!==this.root&&this.autoExpandSingleChildren&&c&&!s(r)&&d.collapsible&&!d.collapsed&&!r.recursive){let a=-1;for(let l=0;l<d.children.length;l++)if(d.children[l].visible)if(a>-1){a=-1;break}else a=l;a>-1&&this._setCollapseState([...o,a],r)}return c}_setListNodeCollapseState(o,r,d,h){const n=this._setNodeCollapseState(o,h,!1);if(!d||!o.visible||!n)return n;const c=o.renderNodeCount,a=this.updateNodeAfterCollapseChange(o),l=c-(r===-1?0:1);return this.list.splice(r+1,l,a.slice(1)),n}_setNodeCollapseState(o,r,d){let h;if(o===this.root?h=!1:(s(r)?(h=o.collapsible!==r.collapsible,o.collapsible=r.collapsible):o.collapsible?(h=o.collapsed!==r.collapsed,o.collapsed=r.collapsed):h=!1,h&&this._onDidChangeCollapseState.fire({node:o,deep:d})),!s(r)&&r.recursive)for(const n of o.children)h=this._setNodeCollapseState(n,r,!0)||h;return h}expandTo(o){this.eventBufferer.bufferEvents(()=>{let r=this.getTreeNode(o);for(;r.parent;)r=r.parent,o=o.slice(0,o.length-1),r.collapsed&&this._setCollapseState(o,{collapsed:!1,recursive:!1})})}refilter(){const o=this.root.renderNodeCount,r=this.updateNodeAfterFilterChange(this.root);this.list.splice(0,o,r),this.refilterDelayer.cancel()}createTreeNode(o,r,d,h,n,c){const a={parent:r,element:o.element,children:[],depth:r.depth+1,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:typeof o.collapsible=="boolean"?o.collapsible:typeof o.collapsed<"u",collapsed:typeof o.collapsed>"u"?this.collapseByDefault:o.collapsed,renderNodeCount:1,visibility:1,visible:!0,filterData:void 0},l=this._filterNode(a,d);a.visibility=l,h&&n.push(a);const u=o.children||_.Iterable.empty(),C=h&&l!==0&&!a.collapsed;let g=0,v=1;for(const b of u){const w=this.createTreeNode(b,a,l,C,n,c);a.children.push(w),v+=w.renderNodeCount,w.visible&&(w.visibleChildIndex=g++)}return a.collapsible=a.collapsible||a.children.length>0,a.visibleChildrenCount=g,a.visible=l===2?g>0:l===1,a.visible?a.collapsed||(a.renderNodeCount=v):(a.renderNodeCount=0,h&&n.pop()),c?.(a),a}updateNodeAfterCollapseChange(o){const r=o.renderNodeCount,d=[];return this._updateNodeAfterCollapseChange(o,d),this._updateAncestorsRenderNodeCount(o.parent,d.length-r),d}_updateNodeAfterCollapseChange(o,r){if(o.visible===!1)return 0;if(r.push(o),o.renderNodeCount=1,!o.collapsed)for(const d of o.children)o.renderNodeCount+=this._updateNodeAfterCollapseChange(d,r);return this._onDidChangeRenderNodeCount.fire(o),o.renderNodeCount}updateNodeAfterFilterChange(o){const r=o.renderNodeCount,d=[];return this._updateNodeAfterFilterChange(o,o.visible?1:0,d),this._updateAncestorsRenderNodeCount(o.parent,d.length-r),d}_updateNodeAfterFilterChange(o,r,d,h=!0){let n;if(o!==this.root){if(n=this._filterNode(o,r),n===0)return o.visible=!1,o.renderNodeCount=0,!1;h&&d.push(o)}const c=d.length;o.renderNodeCount=o===this.root?0:1;let a=!1;if(!o.collapsed||n!==0){let l=0;for(const u of o.children)a=this._updateNodeAfterFilterChange(u,n,d,h&&!o.collapsed)||a,u.visible&&(u.visibleChildIndex=l++);o.visibleChildrenCount=l}else o.visibleChildrenCount=0;return o!==this.root&&(o.visible=n===2?a:n===1,o.visibility=n),o.visible?o.collapsed||(o.renderNodeCount+=d.length-c):(o.renderNodeCount=0,h&&d.pop()),this._onDidChangeRenderNodeCount.fire(o),o.visible}_updateAncestorsRenderNodeCount(o,r){if(r!==0)for(;o;)o.renderNodeCount+=r,this._onDidChangeRenderNodeCount.fire(o),o=o.parent}_filterNode(o,r){const d=this.filter?this.filter.filter(o.element,r):1;return typeof d=="boolean"?(o.filterData=void 0,d?1:0):f(d)?(o.filterData=d.data,p(d.visibility)):(o.filterData=void 0,p(d))}hasTreeNode(o,r=this.root){if(!o||o.length===0)return!0;const[d,...h]=o;return d<0||d>r.children.length?!1:this.hasTreeNode(h,r.children[d])}getTreeNode(o,r=this.root){if(!o||o.length===0)return r;const[d,...h]=o;if(d<0||d>r.children.length)throw new L.TreeError(this.user,"Invalid tree location");return this.getTreeNode(h,r.children[d])}getTreeNodeWithListIndex(o){if(o.length===0)return{node:this.root,listIndex:-1,revealed:!0,visible:!1};const{parentNode:r,listIndex:d,revealed:h,visible:n}=this.getParentNodeWithListIndex(o),c=o[o.length-1];if(c<0||c>r.children.length)throw new L.TreeError(this.user,"Invalid tree location");const a=r.children[c];return{node:a,listIndex:d,revealed:h,visible:n&&a.visible}}getParentNodeWithListIndex(o,r=this.root,d=0,h=!0,n=!0){const[c,...a]=o;if(c<0||c>r.children.length)throw new L.TreeError(this.user,"Invalid tree location");for(let l=0;l<c;l++)d+=r.children[l].renderNodeCount;return h=h&&!r.collapsed,n=n&&r.visible,a.length===0?{parentNode:r,listIndex:d,revealed:h,visible:n}:this.getParentNodeWithListIndex(a,r.children[c],d+1,h,n)}getNode(o=[]){return this.getTreeNode(o)}getNodeLocation(o){const r=[];let d=o;for(;d.parent;)r.push(d.parent.children.indexOf(d)),d=d.parent;return r.reverse()}getParentNodeLocation(o){if(o.length!==0)return o.length===1?[]:(0,k.tail2)(o)[0]}getFirstElementChild(o){const r=this.getTreeNode(o);if(r.children.length!==0)return r.children[0].element}}e.IndexTreeModel=t}),define(X[219],ee([1,0,218,137,50]),function(q,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ObjectTreeModel=void 0;class D{constructor(m,_,f={}){this.user=m,this.rootRef=null,this.nodes=new Map,this.nodesByIdentity=new Map,this.model=new L.IndexTreeModel(m,_,null,f),this.onDidSplice=this.model.onDidSplice,this.onDidChangeCollapseState=this.model.onDidChangeCollapseState,this.onDidChangeRenderNodeCount=this.model.onDidChangeRenderNodeCount,f.sorter&&(this.sorter={compare(p,s){return f.sorter.compare(p.element,s.element)}}),this.identityProvider=f.identityProvider}setChildren(m,_=y.Iterable.empty(),f={}){const p=this.getElementLocation(m);this._setChildren(p,this.preserveCollapseState(_),f)}_setChildren(m,_=y.Iterable.empty(),f){const p=new Set,s=new Set,t=o=>{var r;if(o.element===null)return;const d=o;if(p.add(d.element),this.nodes.set(d.element,d),this.identityProvider){const h=this.identityProvider.getId(d.element).toString();s.add(h),this.nodesByIdentity.set(h,d)}(r=f.onDidCreateNode)===null||r===void 0||r.call(f,d)},i=o=>{var r;if(o.element===null)return;const d=o;if(p.has(d.element)||this.nodes.delete(d.element),this.identityProvider){const h=this.identityProvider.getId(d.element).toString();s.has(h)||this.nodesByIdentity.delete(h)}(r=f.onDidDeleteNode)===null||r===void 0||r.call(f,d)};this.model.splice([...m,0],Number.MAX_VALUE,_,Object.assign(Object.assign({},f),{onDidCreateNode:t,onDidDeleteNode:i}))}preserveCollapseState(m=y.Iterable.empty()){return this.sorter&&(m=[...m].sort(this.sorter.compare.bind(this.sorter))),y.Iterable.map(m,_=>{let f=this.nodes.get(_.element);if(!f&&this.identityProvider){const t=this.identityProvider.getId(_.element).toString();f=this.nodesByIdentity.get(t)}if(!f){let t;return typeof _.collapsed>"u"?t=void 0:_.collapsed===k.ObjectTreeElementCollapseState.Collapsed||_.collapsed===k.ObjectTreeElementCollapseState.PreserveOrCollapsed?t=!0:_.collapsed===k.ObjectTreeElementCollapseState.Expanded||_.collapsed===k.ObjectTreeElementCollapseState.PreserveOrExpanded?t=!1:t=!!_.collapsed,Object.assign(Object.assign({},_),{children:this.preserveCollapseState(_.children),collapsed:t})}const p=typeof _.collapsible=="boolean"?_.collapsible:f.collapsible;let s;return typeof _.collapsed>"u"||_.collapsed===k.ObjectTreeElementCollapseState.PreserveOrCollapsed||_.collapsed===k.ObjectTreeElementCollapseState.PreserveOrExpanded?s=f.collapsed:_.collapsed===k.ObjectTreeElementCollapseState.Collapsed?s=!0:_.collapsed===k.ObjectTreeElementCollapseState.Expanded?s=!1:s=!!_.collapsed,Object.assign(Object.assign({},_),{collapsible:p,collapsed:s,children:this.preserveCollapseState(_.children)})})}rerender(m){const _=this.getElementLocation(m);this.model.rerender(_)}getFirstElementChild(m=null){const _=this.getElementLocation(m);return this.model.getFirstElementChild(_)}has(m){return this.nodes.has(m)}getListIndex(m){const _=this.getElementLocation(m);return this.model.getListIndex(_)}getListRenderCount(m){const _=this.getElementLocation(m);return this.model.getListRenderCount(_)}isCollapsible(m){const _=this.getElementLocation(m);return this.model.isCollapsible(_)}setCollapsible(m,_){const f=this.getElementLocation(m);return this.model.setCollapsible(f,_)}isCollapsed(m){const _=this.getElementLocation(m);return this.model.isCollapsed(_)}setCollapsed(m,_,f){const p=this.getElementLocation(m);return this.model.setCollapsed(p,_,f)}expandTo(m){const _=this.getElementLocation(m);this.model.expandTo(_)}refilter(){this.model.refilter()}getNode(m=null){if(m===null)return this.model.getNode(this.model.rootRef);const _=this.nodes.get(m);if(!_)throw new k.TreeError(this.user,`Tree element not found: ${m}`);return _}getNodeLocation(m){return m.element}getParentNodeLocation(m){if(m===null)throw new k.TreeError(this.user,"Invalid getParentNodeLocation call");const _=this.nodes.get(m);if(!_)throw new k.TreeError(this.user,`Tree element not found: ${m}`);const f=this.model.getNodeLocation(_),p=this.model.getParentNodeLocation(f);return this.model.getNode(p).element}getElementLocation(m){if(m===null)return[];const _=this.nodes.get(m);if(!_)throw new k.TreeError(this.user,`Tree element not found: ${m}`);return this.model.getNodeLocation(_)}}e.ObjectTreeModel=D}),define(X[563],ee([1,0,219,137,6,50]),function(q,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CompressibleObjectTreeModel=e.DefaultElementMapper=e.CompressedObjectTreeModel=e.decompress=e.compress=void 0;function S(n){const c=[n.element],a=n.incompressible||!1;return{element:{elements:c,incompressible:a},children:D.Iterable.map(D.Iterable.from(n.children),S),collapsible:n.collapsible,collapsed:n.collapsed}}function m(n){const c=[n.element],a=n.incompressible||!1;let l,u;for(;[u,l]=D.Iterable.consume(D.Iterable.from(n.children),2),!(u.length!==1||u[0].incompressible);)n=u[0],c.push(n.element);return{element:{elements:c,incompressible:a},children:D.Iterable.map(D.Iterable.concat(u,l),m),collapsible:n.collapsible,collapsed:n.collapsed}}e.compress=m;function _(n,c=0){let a;return c<n.element.elements.length-1?a=[_(n,c+1)]:a=D.Iterable.map(D.Iterable.from(n.children),l=>_(l,0)),c===0&&n.element.incompressible?{element:n.element.elements[c],children:a,incompressible:!0,collapsible:n.collapsible,collapsed:n.collapsed}:{element:n.element.elements[c],children:a,collapsible:n.collapsible,collapsed:n.collapsed}}function f(n){return _(n,0)}e.decompress=f;function p(n,c,a){return n.element===c?Object.assign(Object.assign({},n),{children:a}):Object.assign(Object.assign({},n),{children:D.Iterable.map(D.Iterable.from(n.children),l=>p(l,c,a))})}const s=n=>({getId(c){return c.elements.map(a=>n.getId(a).toString()).join("\0")}});class t{get onDidSplice(){return this.model.onDidSplice}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get onDidChangeRenderNodeCount(){return this.model.onDidChangeRenderNodeCount}constructor(c,a,l={}){this.user=c,this.rootRef=null,this.nodes=new Map,this.model=new L.ObjectTreeModel(c,a,l),this.enabled=typeof l.compressionEnabled>"u"?!0:l.compressionEnabled,this.identityProvider=l.identityProvider}setChildren(c,a=D.Iterable.empty(),l){const u=l.diffIdentityProvider&&s(l.diffIdentityProvider);if(c===null){const P=D.Iterable.map(a,this.enabled?m:S);this._setChildren(null,P,{diffIdentityProvider:u,diffDepth:1/0});return}const C=this.nodes.get(c);if(!C)throw new k.TreeError(this.user,"Unknown compressed tree node");const g=this.model.getNode(C),v=this.model.getParentNodeLocation(C),b=this.model.getNode(v),w=f(g),E=p(w,c,a),I=(this.enabled?m:S)(E),T=b.children.map(P=>P===g?I:P);this._setChildren(b.element,T,{diffIdentityProvider:u,diffDepth:g.depth-b.depth})}setCompressionEnabled(c){if(c===this.enabled)return;this.enabled=c;const l=this.model.getNode().children,u=D.Iterable.map(l,f),C=D.Iterable.map(u,c?m:S);this._setChildren(null,C,{diffIdentityProvider:this.identityProvider,diffDepth:1/0})}_setChildren(c,a,l){const u=new Set,C=v=>{for(const b of v.element.elements)u.add(b),this.nodes.set(b,v.element)},g=v=>{for(const b of v.element.elements)u.has(b)||this.nodes.delete(b)};this.model.setChildren(c,a,Object.assign(Object.assign({},l),{onDidCreateNode:C,onDidDeleteNode:g}))}has(c){return this.nodes.has(c)}getListIndex(c){const a=this.getCompressedNode(c);return this.model.getListIndex(a)}getListRenderCount(c){const a=this.getCompressedNode(c);return this.model.getListRenderCount(a)}getNode(c){if(typeof c>"u")return this.model.getNode();const a=this.getCompressedNode(c);return this.model.getNode(a)}getNodeLocation(c){const a=this.model.getNodeLocation(c);return a===null?null:a.elements[a.elements.length-1]}getParentNodeLocation(c){const a=this.getCompressedNode(c),l=this.model.getParentNodeLocation(a);return l===null?null:l.elements[l.elements.length-1]}getFirstElementChild(c){const a=this.getCompressedNode(c);return this.model.getFirstElementChild(a)}isCollapsible(c){const a=this.getCompressedNode(c);return this.model.isCollapsible(a)}setCollapsible(c,a){const l=this.getCompressedNode(c);return this.model.setCollapsible(l,a)}isCollapsed(c){const a=this.getCompressedNode(c);return this.model.isCollapsed(a)}setCollapsed(c,a,l){const u=this.getCompressedNode(c);return this.model.setCollapsed(u,a,l)}expandTo(c){const a=this.getCompressedNode(c);this.model.expandTo(a)}rerender(c){const a=this.getCompressedNode(c);this.model.rerender(a)}refilter(){this.model.refilter()}getCompressedNode(c){if(c===null)return null;const a=this.nodes.get(c);if(!a)throw new k.TreeError(this.user,`Tree element not found: ${c}`);return a}}e.CompressedObjectTreeModel=t;const i=n=>n[n.length-1];e.DefaultElementMapper=i;class o{get element(){return this.node.element===null?null:this.unwrapper(this.node.element)}get children(){return this.node.children.map(c=>new o(this.unwrapper,c))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}constructor(c,a){this.unwrapper=c,this.node=a}}function r(n,c){return{splice(a,l,u){c.splice(a,l,u.map(C=>n.map(C)))},updateElementHeight(a,l){c.updateElementHeight(a,l)}}}function d(n,c){return Object.assign(Object.assign({},c),{identityProvider:c.identityProvider&&{getId(a){return c.identityProvider.getId(n(a))}},sorter:c.sorter&&{compare(a,l){return c.sorter.compare(a.elements[0],l.elements[0])}},filter:c.filter&&{filter(a,l){return c.filter.filter(n(a),l)}}})}class h{get onDidSplice(){return y.Event.map(this.model.onDidSplice,({insertedNodes:c,deletedNodes:a})=>({insertedNodes:c.map(l=>this.nodeMapper.map(l)),deletedNodes:a.map(l=>this.nodeMapper.map(l))}))}get onDidChangeCollapseState(){return y.Event.map(this.model.onDidChangeCollapseState,({node:c,deep:a})=>({node:this.nodeMapper.map(c),deep:a}))}get onDidChangeRenderNodeCount(){return y.Event.map(this.model.onDidChangeRenderNodeCount,c=>this.nodeMapper.map(c))}constructor(c,a,l={}){this.rootRef=null,this.elementMapper=l.elementMapper||e.DefaultElementMapper;const u=C=>this.elementMapper(C.elements);this.nodeMapper=new k.WeakMapper(C=>new o(u,C)),this.model=new t(c,r(this.nodeMapper,a),d(u,l))}setChildren(c,a=D.Iterable.empty(),l={}){this.model.setChildren(c,a,l)}setCompressionEnabled(c){this.model.setCompressionEnabled(c)}has(c){return this.model.has(c)}getListIndex(c){return this.model.getListIndex(c)}getListRenderCount(c){return this.model.getListRenderCount(c)}getNode(c){return this.nodeMapper.map(this.model.getNode(c))}getNodeLocation(c){return c.element}getParentNodeLocation(c){return this.model.getParentNodeLocation(c)}getFirstElementChild(c){const a=this.model.getFirstElementChild(c);return a===null||typeof a>"u"?a:this.elementMapper(a.elements)}isCollapsible(c){return this.model.isCollapsible(c)}setCollapsible(c,a){return this.model.setCollapsible(c,a)}isCollapsed(c){return this.model.isCollapsed(c)}setCollapsed(c,a,l){return this.model.setCollapsed(c,a,l)}expandTo(c){return this.model.expandTo(c)}rerender(c){return this.model.rerender(c)}refilter(){return this.model.refilter()}getCompressedTreeNode(c=null){return this.model.getNode(c)}}e.CompressibleObjectTreeModel=h}),define(X[564],ee([1,0,17]),function(q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.platform=e.env=e.cwd=void 0;let k;if(typeof L.globals.vscode<"u"&&typeof L.globals.vscode.process<"u"){const y=L.globals.vscode.process;k={get platform(){return y.platform},get arch(){return y.arch},get env(){return y.env},cwd(){return y.cwd()}}}else typeof process<"u"?k={get platform(){return process.platform},get arch(){return process.arch},get env(){return process.env},cwd(){return process.env.VSCODE_CWD||process.cwd()}}:k={get platform(){return L.isWindows?"win32":L.isMacintosh?"darwin":"linux"},get arch(){},get env(){return{}},cwd(){return"/"}};e.cwd=k.cwd,e.env=k.env,e.platform=k.platform}),define(X[91],ee([1,0,564]),function(q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.sep=e.extname=e.basename=e.dirname=e.relative=e.resolve=e.normalize=e.posix=e.win32=void 0;const k=65,y=97,D=90,S=122,m=46,_=47,f=92,p=58,s=63;class t extends Error{constructor(C,g,v){let b;typeof g=="string"&&g.indexOf("not ")===0?(b="must not be",g=g.replace(/^not /,"")):b="must be";const w=C.indexOf(".")!==-1?"property":"argument";let E=`The "${C}" ${w} ${b} of type ${g}`;E+=`. Received type ${typeof v}`,super(E),this.code="ERR_INVALID_ARG_TYPE"}}function i(u,C){if(u===null||typeof u!="object")throw new t(C,"Object",u)}function o(u,C){if(typeof u!="string")throw new t(C,"string",u)}const r=L.platform==="win32";function d(u){return u===_||u===f}function h(u){return u===_}function n(u){return u>=k&&u<=D||u>=y&&u<=S}function c(u,C,g,v){let b="",w=0,E=-1,I=0,T=0;for(let P=0;P<=u.length;++P){if(P<u.length)T=u.charCodeAt(P);else{if(v(T))break;T=_}if(v(T)){if(!(E===P-1||I===1))if(I===2){if(b.length<2||w!==2||b.charCodeAt(b.length-1)!==m||b.charCodeAt(b.length-2)!==m){if(b.length>2){const A=b.lastIndexOf(g);A===-1?(b="",w=0):(b=b.slice(0,A),w=b.length-1-b.lastIndexOf(g)),E=P,I=0;continue}else if(b.length!==0){b="",w=0,E=P,I=0;continue}}C&&(b+=b.length>0?`${g}..`:"..",w=2)}else b.length>0?b+=`${g}${u.slice(E+1,P)}`:b=u.slice(E+1,P),w=P-E-1;E=P,I=0}else T===m&&I!==-1?++I:I=-1}return b}function a(u,C){i(C,"pathObject");const g=C.dir||C.root,v=C.base||`${C.name||""}${C.ext||""}`;return g?g===C.root?`${g}${v}`:`${g}${u}${v}`:v}e.win32={resolve(...u){let C="",g="",v=!1;for(let b=u.length-1;b>=-1;b--){let w;if(b>=0){if(w=u[b],o(w,"path"),w.length===0)continue}else C.length===0?w=L.cwd():(w=L.env[`=${C}`]||L.cwd(),(w===void 0||w.slice(0,2).toLowerCase()!==C.toLowerCase()&&w.charCodeAt(2)===f)&&(w=`${C}\\`));const E=w.length;let I=0,T="",P=!1;const A=w.charCodeAt(0);if(E===1)d(A)&&(I=1,P=!0);else if(d(A))if(P=!0,d(w.charCodeAt(1))){let M=2,N=M;for(;M<E&&!d(w.charCodeAt(M));)M++;if(M<E&&M!==N){const R=w.slice(N,M);for(N=M;M<E&&d(w.charCodeAt(M));)M++;if(M<E&&M!==N){for(N=M;M<E&&!d(w.charCodeAt(M));)M++;(M===E||M!==N)&&(T=`\\\\${R}\\${w.slice(N,M)}`,I=M)}}}else I=1;else n(A)&&w.charCodeAt(1)===p&&(T=w.slice(0,2),I=2,E>2&&d(w.charCodeAt(2))&&(P=!0,I=3));if(T.length>0)if(C.length>0){if(T.toLowerCase()!==C.toLowerCase())continue}else C=T;if(v){if(C.length>0)break}else if(g=`${w.slice(I)}\\${g}`,v=P,P&&C.length>0)break}return g=c(g,!v,"\\",d),v?`${C}\\${g}`:`${C}${g}`||"."},normalize(u){o(u,"path");const C=u.length;if(C===0)return".";let g=0,v,b=!1;const w=u.charCodeAt(0);if(C===1)return h(w)?"\\":u;if(d(w))if(b=!0,d(u.charCodeAt(1))){let I=2,T=I;for(;I<C&&!d(u.charCodeAt(I));)I++;if(I<C&&I!==T){const P=u.slice(T,I);for(T=I;I<C&&d(u.charCodeAt(I));)I++;if(I<C&&I!==T){for(T=I;I<C&&!d(u.charCodeAt(I));)I++;if(I===C)return`\\\\${P}\\${u.slice(T)}\\`;I!==T&&(v=`\\\\${P}\\${u.slice(T,I)}`,g=I)}}}else g=1;else n(w)&&u.charCodeAt(1)===p&&(v=u.slice(0,2),g=2,C>2&&d(u.charCodeAt(2))&&(b=!0,g=3));let E=g<C?c(u.slice(g),!b,"\\",d):"";return E.length===0&&!b&&(E="."),E.length>0&&d(u.charCodeAt(C-1))&&(E+="\\"),v===void 0?b?`\\${E}`:E:b?`${v}\\${E}`:`${v}${E}`},isAbsolute(u){o(u,"path");const C=u.length;if(C===0)return!1;const g=u.charCodeAt(0);return d(g)||C>2&&n(g)&&u.charCodeAt(1)===p&&d(u.charCodeAt(2))},join(...u){if(u.length===0)return".";let C,g;for(let w=0;w<u.length;++w){const E=u[w];o(E,"path"),E.length>0&&(C===void 0?C=g=E:C+=`\\${E}`)}if(C===void 0)return".";let v=!0,b=0;if(typeof g=="string"&&d(g.charCodeAt(0))){++b;const w=g.length;w>1&&d(g.charCodeAt(1))&&(++b,w>2&&(d(g.charCodeAt(2))?++b:v=!1))}if(v){for(;b<C.length&&d(C.charCodeAt(b));)b++;b>=2&&(C=`\\${C.slice(b)}`)}return e.win32.normalize(C)},relative(u,C){if(o(u,"from"),o(C,"to"),u===C)return"";const g=e.win32.resolve(u),v=e.win32.resolve(C);if(g===v||(u=g.toLowerCase(),C=v.toLowerCase(),u===C))return"";let b=0;for(;b<u.length&&u.charCodeAt(b)===f;)b++;let w=u.length;for(;w-1>b&&u.charCodeAt(w-1)===f;)w--;const E=w-b;let I=0;for(;I<C.length&&C.charCodeAt(I)===f;)I++;let T=C.length;for(;T-1>I&&C.charCodeAt(T-1)===f;)T--;const P=T-I,A=E<P?E:P;let M=-1,N=0;for(;N<A;N++){const F=u.charCodeAt(b+N);if(F!==C.charCodeAt(I+N))break;F===f&&(M=N)}if(N!==A){if(M===-1)return v}else{if(P>A){if(C.charCodeAt(I+N)===f)return v.slice(I+N+1);if(N===2)return v.slice(I+N)}E>A&&(u.charCodeAt(b+N)===f?M=N:N===2&&(M=3)),M===-1&&(M=0)}let R="";for(N=b+M+1;N<=w;++N)(N===w||u.charCodeAt(N)===f)&&(R+=R.length===0?"..":"\\..");return I+=M,R.length>0?`${R}${v.slice(I,T)}`:(v.charCodeAt(I)===f&&++I,v.slice(I,T))},toNamespacedPath(u){if(typeof u!="string"||u.length===0)return u;const C=e.win32.resolve(u);if(C.length<=2)return u;if(C.charCodeAt(0)===f){if(C.charCodeAt(1)===f){const g=C.charCodeAt(2);if(g!==s&&g!==m)return`\\\\?\\UNC\\${C.slice(2)}`}}else if(n(C.charCodeAt(0))&&C.charCodeAt(1)===p&&C.charCodeAt(2)===f)return`\\\\?\\${C}`;return u},dirname(u){o(u,"path");const C=u.length;if(C===0)return".";let g=-1,v=0;const b=u.charCodeAt(0);if(C===1)return d(b)?u:".";if(d(b)){if(g=v=1,d(u.charCodeAt(1))){let I=2,T=I;for(;I<C&&!d(u.charCodeAt(I));)I++;if(I<C&&I!==T){for(T=I;I<C&&d(u.charCodeAt(I));)I++;if(I<C&&I!==T){for(T=I;I<C&&!d(u.charCodeAt(I));)I++;if(I===C)return u;I!==T&&(g=v=I+1)}}}}else n(b)&&u.charCodeAt(1)===p&&(g=C>2&&d(u.charCodeAt(2))?3:2,v=g);let w=-1,E=!0;for(let I=C-1;I>=v;--I)if(d(u.charCodeAt(I))){if(!E){w=I;break}}else E=!1;if(w===-1){if(g===-1)return".";w=g}return u.slice(0,w)},basename(u,C){C!==void 0&&o(C,"ext"),o(u,"path");let g=0,v=-1,b=!0,w;if(u.length>=2&&n(u.charCodeAt(0))&&u.charCodeAt(1)===p&&(g=2),C!==void 0&&C.length>0&&C.length<=u.length){if(C===u)return"";let E=C.length-1,I=-1;for(w=u.length-1;w>=g;--w){const T=u.charCodeAt(w);if(d(T)){if(!b){g=w+1;break}}else I===-1&&(b=!1,I=w+1),E>=0&&(T===C.charCodeAt(E)?--E===-1&&(v=w):(E=-1,v=I))}return g===v?v=I:v===-1&&(v=u.length),u.slice(g,v)}for(w=u.length-1;w>=g;--w)if(d(u.charCodeAt(w))){if(!b){g=w+1;break}}else v===-1&&(b=!1,v=w+1);return v===-1?"":u.slice(g,v)},extname(u){o(u,"path");let C=0,g=-1,v=0,b=-1,w=!0,E=0;u.length>=2&&u.charCodeAt(1)===p&&n(u.charCodeAt(0))&&(C=v=2);for(let I=u.length-1;I>=C;--I){const T=u.charCodeAt(I);if(d(T)){if(!w){v=I+1;break}continue}b===-1&&(w=!1,b=I+1),T===m?g===-1?g=I:E!==1&&(E=1):g!==-1&&(E=-1)}return g===-1||b===-1||E===0||E===1&&g===b-1&&g===v+1?"":u.slice(g,b)},format:a.bind(null,"\\"),parse(u){o(u,"path");const C={root:"",dir:"",base:"",ext:"",name:""};if(u.length===0)return C;const g=u.length;let v=0,b=u.charCodeAt(0);if(g===1)return d(b)?(C.root=C.dir=u,C):(C.base=C.name=u,C);if(d(b)){if(v=1,d(u.charCodeAt(1))){let M=2,N=M;for(;M<g&&!d(u.charCodeAt(M));)M++;if(M<g&&M!==N){for(N=M;M<g&&d(u.charCodeAt(M));)M++;if(M<g&&M!==N){for(N=M;M<g&&!d(u.charCodeAt(M));)M++;M===g?v=M:M!==N&&(v=M+1)}}}}else if(n(b)&&u.charCodeAt(1)===p){if(g<=2)return C.root=C.dir=u,C;if(v=2,d(u.charCodeAt(2))){if(g===3)return C.root=C.dir=u,C;v=3}}v>0&&(C.root=u.slice(0,v));let w=-1,E=v,I=-1,T=!0,P=u.length-1,A=0;for(;P>=v;--P){if(b=u.charCodeAt(P),d(b)){if(!T){E=P+1;break}continue}I===-1&&(T=!1,I=P+1),b===m?w===-1?w=P:A!==1&&(A=1):w!==-1&&(A=-1)}return I!==-1&&(w===-1||A===0||A===1&&w===I-1&&w===E+1?C.base=C.name=u.slice(E,I):(C.name=u.slice(E,w),C.base=u.slice(E,I),C.ext=u.slice(w,I))),E>0&&E!==v?C.dir=u.slice(0,E-1):C.dir=C.root,C},sep:"\\",delimiter:";",win32:null,posix:null};const l=(()=>{if(r){const u=/\\/g;return()=>{const C=L.cwd().replace(u,"/");return C.slice(C.indexOf("/"))}}return()=>L.cwd()})();e.posix={resolve(...u){let C="",g=!1;for(let v=u.length-1;v>=-1&&!g;v--){const b=v>=0?u[v]:l();o(b,"path"),b.length!==0&&(C=`${b}/${C}`,g=b.charCodeAt(0)===_)}return C=c(C,!g,"/",h),g?`/${C}`:C.length>0?C:"."},normalize(u){if(o(u,"path"),u.length===0)return".";const C=u.charCodeAt(0)===_,g=u.charCodeAt(u.length-1)===_;return u=c(u,!C,"/",h),u.length===0?C?"/":g?"./":".":(g&&(u+="/"),C?`/${u}`:u)},isAbsolute(u){return o(u,"path"),u.length>0&&u.charCodeAt(0)===_},join(...u){if(u.length===0)return".";let C;for(let g=0;g<u.length;++g){const v=u[g];o(v,"path"),v.length>0&&(C===void 0?C=v:C+=`/${v}`)}return C===void 0?".":e.posix.normalize(C)},relative(u,C){if(o(u,"from"),o(C,"to"),u===C||(u=e.posix.resolve(u),C=e.posix.resolve(C),u===C))return"";const g=1,v=u.length,b=v-g,w=1,E=C.length-w,I=b<E?b:E;let T=-1,P=0;for(;P<I;P++){const M=u.charCodeAt(g+P);if(M!==C.charCodeAt(w+P))break;M===_&&(T=P)}if(P===I)if(E>I){if(C.charCodeAt(w+P)===_)return C.slice(w+P+1);if(P===0)return C.slice(w+P)}else b>I&&(u.charCodeAt(g+P)===_?T=P:P===0&&(T=0));let A="";for(P=g+T+1;P<=v;++P)(P===v||u.charCodeAt(P)===_)&&(A+=A.length===0?"..":"/..");return`${A}${C.slice(w+T)}`},toNamespacedPath(u){return u},dirname(u){if(o(u,"path"),u.length===0)return".";const C=u.charCodeAt(0)===_;let g=-1,v=!0;for(let b=u.length-1;b>=1;--b)if(u.charCodeAt(b)===_){if(!v){g=b;break}}else v=!1;return g===-1?C?"/":".":C&&g===1?"//":u.slice(0,g)},basename(u,C){C!==void 0&&o(C,"ext"),o(u,"path");let g=0,v=-1,b=!0,w;if(C!==void 0&&C.length>0&&C.length<=u.length){if(C===u)return"";let E=C.length-1,I=-1;for(w=u.length-1;w>=0;--w){const T=u.charCodeAt(w);if(T===_){if(!b){g=w+1;break}}else I===-1&&(b=!1,I=w+1),E>=0&&(T===C.charCodeAt(E)?--E===-1&&(v=w):(E=-1,v=I))}return g===v?v=I:v===-1&&(v=u.length),u.slice(g,v)}for(w=u.length-1;w>=0;--w)if(u.charCodeAt(w)===_){if(!b){g=w+1;break}}else v===-1&&(b=!1,v=w+1);return v===-1?"":u.slice(g,v)},extname(u){o(u,"path");let C=-1,g=0,v=-1,b=!0,w=0;for(let E=u.length-1;E>=0;--E){const I=u.charCodeAt(E);if(I===_){if(!b){g=E+1;break}continue}v===-1&&(b=!1,v=E+1),I===m?C===-1?C=E:w!==1&&(w=1):C!==-1&&(w=-1)}return C===-1||v===-1||w===0||w===1&&C===v-1&&C===g+1?"":u.slice(C,v)},format:a.bind(null,"/"),parse(u){o(u,"path");const C={root:"",dir:"",base:"",ext:"",name:""};if(u.length===0)return C;const g=u.charCodeAt(0)===_;let v;g?(C.root="/",v=1):v=0;let b=-1,w=0,E=-1,I=!0,T=u.length-1,P=0;for(;T>=v;--T){const A=u.charCodeAt(T);if(A===_){if(!I){w=T+1;break}continue}E===-1&&(I=!1,E=T+1),A===m?b===-1?b=T:P!==1&&(P=1):b!==-1&&(P=-1)}if(E!==-1){const A=w===0&&g?1:w;b===-1||P===0||P===1&&b===E-1&&b===w+1?C.base=C.name=u.slice(A,E):(C.name=u.slice(A,b),C.base=u.slice(A,E),C.ext=u.slice(b,E))}return w>0?C.dir=u.slice(0,w-1):g&&(C.dir="/"),C},sep:"/",delimiter:":",win32:null,posix:null},e.posix.win32=e.win32.win32=e.win32,e.posix.posix=e.win32.posix=e.posix,e.normalize=r?e.win32.normalize:e.posix.normalize,e.resolve=r?e.win32.resolve:e.posix.resolve,e.relative=r?e.win32.relative:e.posix.relative,e.dirname=r?e.win32.dirname:e.posix.dirname,e.basename=r?e.win32.basename:e.posix.basename,e.extname=r?e.win32.extname:e.posix.extname,e.sep=r?e.win32.sep:e.posix.sep}),define(X[220],ee([1,0,91,17,9]),function(q,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.hasDriveLetter=e.isWindowsDriveLetter=e.isEqualOrParent=e.getRoot=e.toPosixPath=e.toSlashes=e.isPathSeparator=void 0;function D(t){return t===47||t===92}e.isPathSeparator=D;function S(t){return t.replace(/[\\/]/g,L.posix.sep)}e.toSlashes=S;function m(t){return t.indexOf("/")===-1&&(t=S(t)),/^[a-zA-Z]:(\/|$)/.test(t)&&(t="/"+t),t}e.toPosixPath=m;function _(t,i=L.posix.sep){if(!t)return"";const o=t.length,r=t.charCodeAt(0);if(D(r)){if(D(t.charCodeAt(1))&&!D(t.charCodeAt(2))){let h=3;const n=h;for(;h<o&&!D(t.charCodeAt(h));h++);if(n!==h&&!D(t.charCodeAt(h+1))){for(h+=1;h<o;h++)if(D(t.charCodeAt(h)))return t.slice(0,h+1).replace(/[\\/]/g,i)}}return i}else if(p(r)&&t.charCodeAt(1)===58)return D(t.charCodeAt(2))?t.slice(0,2)+i:t.slice(0,2);let d=t.indexOf("://");if(d!==-1){for(d+=3;d<o;d++)if(D(t.charCodeAt(d)))return t.slice(0,d+1)}return""}e.getRoot=_;function f(t,i,o,r=L.sep){if(t===i)return!0;if(!t||!i||i.length>t.length)return!1;if(o){if(!(0,y.startsWithIgnoreCase)(t,i))return!1;if(i.length===t.length)return!0;let h=i.length;return i.charAt(i.length-1)===r&&h--,t.charAt(h)===r}return i.charAt(i.length-1)!==r&&(i+=r),t.indexOf(i)===0}e.isEqualOrParent=f;function p(t){return t>=65&&t<=90||t>=97&&t<=122}e.isWindowsDriveLetter=p;function s(t,i=k.isWindows){return i?p(t.charCodeAt(0))&&t.charCodeAt(1)===58:!1}e.hasDriveLetter=s}),define(X[565],ee([1,0,70,91,17,9]),function(q,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.pieceToQuery=e.prepareQuery=e.scoreFuzzy2=void 0;const S=[void 0,[]];function m(n,c,a=0,l=0){const u=c;return u.values&&u.values.length>1?_(n,u.values,a,l):f(n,c,a,l)}e.scoreFuzzy2=m;function _(n,c,a,l){let u=0;const C=[];for(const g of c){const[v,b]=f(n,g,a,l);if(typeof v!="number")return S;u+=v,C.push(...b)}return[u,s(C)]}function f(n,c,a,l){const u=(0,L.fuzzyScore)(c.original,c.originalLowercase,a,n,n.toLowerCase(),l,{firstMatchCanBeWeak:!0,boostFullMatch:!0});return u?[u[0],(0,L.createMatches)(u)]:S}const p=Object.freeze({score:0});function s(n){const c=n.sort((u,C)=>u.start-C.start),a=[];let l;for(const u of c)!l||!t(l,u)?(l=u,a.push(u)):(l.start=Math.min(l.start,u.start),l.end=Math.max(l.end,u.end));return a}function t(n,c){return!(n.end<c.start||c.end<n.start)}function i(n){return n.startsWith('"')&&n.endsWith('"')}const o=" ";function r(n){typeof n!="string"&&(n="");const c=n.toLowerCase(),{pathNormalized:a,normalized:l,normalizedLowercase:u}=d(n),C=a.indexOf(k.sep)>=0,g=i(n);let v;const b=n.split(o);if(b.length>1)for(const w of b){const E=i(w),{pathNormalized:I,normalized:T,normalizedLowercase:P}=d(w);T&&(v||(v=[]),v.push({original:w,originalLowercase:w.toLowerCase(),pathNormalized:I,normalized:T,normalizedLowercase:P,expectContiguousMatch:E}))}return{original:n,originalLowercase:c,pathNormalized:a,normalized:l,normalizedLowercase:u,values:v,containsPathSeparator:C,expectContiguousMatch:g}}e.prepareQuery=r;function d(n){let c;y.isWindows?c=n.replace(/\//g,k.sep):c=n.replace(/\\/g,k.sep);const a=(0,D.stripWildcards)(c).replace(/\s|"/g,"");return{pathNormalized:c,normalized:a,normalizedLowercase:a.toLowerCase()}}function h(n){return Array.isArray(n)?r(n.map(c=>c.original).join(o)):r(n.original)}e.pieceToQuery=h}),define(X[299],ee([1,0,14,220,64,91,17,9]),function(q,e,L,k,y,D,S,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isRelativePattern=e.parse=e.match=e.splitGlobAware=e.GLOB_SPLIT=e.GLOBSTAR=void 0,e.GLOBSTAR="**",e.GLOB_SPLIT="/";const _="[/\\\\]",f="[^/\\\\]",p=/\//g;function s(x,W){switch(x){case 0:return"";case 1:return`${f}*?`;default:return`(?:${_}|${f}+${_}${W?`|${_}${f}+`:""})*?`}}function t(x,W){if(!x)return[];const z=[];let U=!1,O=!1,G="";for(const Q of x){switch(Q){case W:if(!U&&!O){z.push(G),G="";continue}break;case"{":U=!0;break;case"}":U=!1;break;case"[":O=!0;break;case"]":O=!1;break}G+=Q}return G&&z.push(G),z}e.splitGlobAware=t;function i(x){if(!x)return"";let W="";const z=t(x,e.GLOB_SPLIT);if(z.every(U=>U===e.GLOBSTAR))W=".*";else{let U=!1;z.forEach((O,G)=>{if(O===e.GLOBSTAR){if(U)return;W+=s(2,G===z.length-1)}else{let Q=!1,re="",oe=!1,te="";for(const H of O){if(H!=="}"&&Q){re+=H;continue}if(oe&&(H!=="]"||!te)){let B;H==="-"?B=H:(H==="^"||H==="!")&&!te?B="^":H===e.GLOB_SPLIT?B="":B=(0,m.escapeRegExpCharacters)(H),te+=B;continue}switch(H){case"{":Q=!0;continue;case"[":oe=!0;continue;case"}":{const K=`(?:${t(re,",").map(Z=>i(Z)).join("|")})`;W+=K,Q=!1,re="";break}case"]":{W+="["+te+"]",oe=!1,te="";break}case"?":W+=f;continue;case"*":W+=s(1);continue;default:W+=(0,m.escapeRegExpCharacters)(H)}}G<z.length-1&&(z[G+1]!==e.GLOBSTAR||G+2<z.length)&&(W+=_)}U=O===e.GLOBSTAR})}return W}const o=/^\*\*\/\*\.[\w\.-]+$/,r=/^\*\*\/([\w\.-]+)\/?$/,d=/^{\*\*\/\*?[\w\.-]+\/?(,\*\*\/\*?[\w\.-]+\/?)*}$/,h=/^{\*\*\/\*?[\w\.-]+(\/(\*\*)?)?(,\*\*\/\*?[\w\.-]+(\/(\*\*)?)?)*}$/,n=/^\*\*((\/[\w\.-]+)+)\/?$/,c=/^([\w\.-]+(\/[\w\.-]+)*)\/?$/,a=new y.LRUCache(1e4),l=function(){return!1},u=function(){return null};function C(x,W){if(!x)return u;let z;typeof x!="string"?z=x.pattern:z=x,z=z.trim();const U=`${z}_${!!W.trimForExclusions}`;let O=a.get(U);if(O)return g(O,x);let G;return o.test(z)?O=b(z.substr(4),z):(G=r.exec(v(z,W)))?O=w(G[1],z):(W.trimForExclusions?h:d).test(z)?O=E(z,W):(G=n.exec(v(z,W)))?O=I(G[1].substr(1),z,!0):(G=c.exec(v(z,W)))?O=I(G[1],z,!1):O=T(z),a.set(U,O),g(O,x)}function g(x,W){if(typeof W=="string")return x;const z=function(U,O){return(0,k.isEqualOrParent)(U,W.base,!S.isLinux)?x((0,m.ltrim)(U.substr(W.base.length),D.sep),O):null};return z.allBasenames=x.allBasenames,z.allPaths=x.allPaths,z.basenames=x.basenames,z.patterns=x.patterns,z}function v(x,W){return W.trimForExclusions&&x.endsWith("/**")?x.substr(0,x.length-2):x}function b(x,W){return function(z,U){return typeof z=="string"&&z.endsWith(x)?W:null}}function w(x,W){const z=`/${x}`,U=`\\${x}`,O=function(Q,re){return typeof Q!="string"?null:re?re===x?W:null:Q===x||Q.endsWith(z)||Q.endsWith(U)?W:null},G=[x];return O.basenames=G,O.patterns=[W],O.allBasenames=G,O}function E(x,W){const z=F(x.slice(1,-1).split(",").map(re=>C(re,W)).filter(re=>re!==u),x),U=z.length;if(!U)return u;if(U===1)return z[0];const O=function(re,oe){for(let te=0,H=z.length;te<H;te++)if(z[te](re,oe))return x;return null},G=z.find(re=>!!re.allBasenames);G&&(O.allBasenames=G.allBasenames);const Q=z.reduce((re,oe)=>oe.allPaths?re.concat(oe.allPaths):re,[]);return Q.length&&(O.allPaths=Q),O}function I(x,W,z){const U=D.sep===D.posix.sep,O=U?x:x.replace(p,D.sep),G=D.sep+O,Q=D.posix.sep+x;let re;return z?re=function(oe,te){return typeof oe=="string"&&(oe===O||oe.endsWith(G)||!U&&(oe===x||oe.endsWith(Q)))?W:null}:re=function(oe,te){return typeof oe=="string"&&(oe===O||!U&&oe===x)?W:null},re.allPaths=[(z?"*/":"./")+x],re}function T(x){try{const W=new RegExp(`^${i(x)}$`);return function(z){return W.lastIndex=0,typeof z=="string"&&W.test(z)?x:null}}catch{return u}}function P(x,W,z){return!x||typeof W!="string"?!1:A(x)(W,void 0,z)}e.match=P;function A(x,W={}){if(!x)return l;if(typeof x=="string"||M(x)){const z=C(x,W);if(z===u)return l;const U=function(O,G){return!!z(O,G)};return z.allBasenames&&(U.allBasenames=z.allBasenames),z.allPaths&&(U.allPaths=z.allPaths),U}return N(x,W)}e.parse=A;function M(x){const W=x;return W?typeof W.base=="string"&&typeof W.pattern=="string":!1}e.isRelativePattern=M;function N(x,W){const z=F(Object.getOwnPropertyNames(x).map(re=>R(re,x[re],W)).filter(re=>re!==u)),U=z.length;if(!U)return u;if(!z.some(re=>!!re.requiresSiblings)){if(U===1)return z[0];const re=function(H,B){let K;for(let Z=0,J=z.length;Z<J;Z++){const ne=z[Z](H,B);if(typeof ne=="string")return ne;(0,L.isThenable)(ne)&&(K||(K=[]),K.push(ne))}return K?(()=>Le(this,void 0,void 0,function*(){for(const Z of K){const J=yield Z;if(typeof J=="string")return J}return null}))():null},oe=z.find(H=>!!H.allBasenames);oe&&(re.allBasenames=oe.allBasenames);const te=z.reduce((H,B)=>B.allPaths?H.concat(B.allPaths):H,[]);return te.length&&(re.allPaths=te),re}const O=function(re,oe,te){let H,B;for(let K=0,Z=z.length;K<Z;K++){const J=z[K];J.requiresSiblings&&te&&(oe||(oe=(0,D.basename)(re)),H||(H=oe.substr(0,oe.length-(0,D.extname)(re).length)));const ne=J(re,oe,H,te);if(typeof ne=="string")return ne;(0,L.isThenable)(ne)&&(B||(B=[]),B.push(ne))}return B?(()=>Le(this,void 0,void 0,function*(){for(const K of B){const Z=yield K;if(typeof Z=="string")return Z}return null}))():null},G=z.find(re=>!!re.allBasenames);G&&(O.allBasenames=G.allBasenames);const Q=z.reduce((re,oe)=>oe.allPaths?re.concat(oe.allPaths):re,[]);return Q.length&&(O.allPaths=Q),O}function R(x,W,z){if(W===!1)return u;const U=C(x,z);if(U===u)return u;if(typeof W=="boolean")return U;if(W){const O=W.when;if(typeof O=="string"){const G=(Q,re,oe,te)=>{if(!te||!U(Q,re))return null;const H=O.replace("$(basename)",()=>oe),B=te(H);return(0,L.isThenable)(B)?B.then(K=>K?x:null):B?x:null};return G.requiresSiblings=!0,G}}return U}function F(x,W){const z=x.filter(re=>!!re.basenames);if(z.length<2)return x;const U=z.reduce((re,oe)=>{const te=oe.basenames;return te?re.concat(te):re},[]);let O;if(W){O=[];for(let re=0,oe=U.length;re<oe;re++)O.push(W)}else O=z.reduce((re,oe)=>{const te=oe.patterns;return te?re.concat(te):re},[]);const G=function(re,oe){if(typeof re!="string")return null;if(!oe){let H;for(H=re.length;H>0;H--){const B=re.charCodeAt(H-1);if(B===47||B===92)break}oe=re.substr(H)}const te=U.indexOf(oe);return te!==-1?O[te]:null};G.basenames=U,G.patterns=O,G.allBasenames=U;const Q=x.filter(re=>!re.basenames);return Q.push(G),Q}}),define(X[566],ee([1,0,220,17]),function(q,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.normalizeDriveLetter=void 0;function y(S,m=k.isWindows){return(0,L.hasDriveLetter)(S,m)?S.charAt(0).toUpperCase()+S.slice(1):S}e.normalizeDriveLetter=y;let D=Object.create(null)}),define(X[21],ee([1,0,91,17]),function(q,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.uriToFsPath=e.URI=void 0;const y=/^\w[\w\d+.-]*$/,D=/^\//,S=/^\/\//;function m(g,v){if(!g.scheme&&v)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${g.authority}", path: "${g.path}", query: "${g.query}", fragment: "${g.fragment}"}`);if(g.scheme&&!y.test(g.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(g.path){if(g.authority){if(!D.test(g.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(S.test(g.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}function _(g,v){return!g&&!v?"file":g}function f(g,v){switch(g){case"https":case"http":case"file":v?v[0]!==s&&(v=s+v):v=s;break}return v}const p="",s="/",t=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class i{static isUri(v){return v instanceof i?!0:v?typeof v.authority=="string"&&typeof v.fragment=="string"&&typeof v.path=="string"&&typeof v.query=="string"&&typeof v.scheme=="string"&&typeof v.fsPath=="string"&&typeof v.with=="function"&&typeof v.toString=="function":!1}constructor(v,b,w,E,I,T=!1){typeof v=="object"?(this.scheme=v.scheme||p,this.authority=v.authority||p,this.path=v.path||p,this.query=v.query||p,this.fragment=v.fragment||p):(this.scheme=_(v,T),this.authority=b||p,this.path=f(this.scheme,w||p),this.query=E||p,this.fragment=I||p,m(this,T))}get fsPath(){return c(this,!1)}with(v){if(!v)return this;let{scheme:b,authority:w,path:E,query:I,fragment:T}=v;return b===void 0?b=this.scheme:b===null&&(b=p),w===void 0?w=this.authority:w===null&&(w=p),E===void 0?E=this.path:E===null&&(E=p),I===void 0?I=this.query:I===null&&(I=p),T===void 0?T=this.fragment:T===null&&(T=p),b===this.scheme&&w===this.authority&&E===this.path&&I===this.query&&T===this.fragment?this:new r(b,w,E,I,T)}static parse(v,b=!1){const w=t.exec(v);return w?new r(w[2]||p,C(w[4]||p),C(w[5]||p),C(w[7]||p),C(w[9]||p),b):new r(p,p,p,p,p)}static file(v){let b=p;if(k.isWindows&&(v=v.replace(/\\/g,s)),v[0]===s&&v[1]===s){const w=v.indexOf(s,2);w===-1?(b=v.substring(2),v=s):(b=v.substring(2,w),v=v.substring(w)||s)}return new r("file",b,v,p,p)}static from(v,b){return new r(v.scheme,v.authority,v.path,v.query,v.fragment,b)}static joinPath(v,...b){if(!v.path)throw new Error("[UriError]: cannot call joinPath on URI without path");let w;return k.isWindows&&v.scheme==="file"?w=i.file(L.win32.join(c(v,!0),...b)).path:w=L.posix.join(v.path,...b),v.with({path:w})}toString(v=!1){return a(this,v)}toJSON(){return this}static revive(v){var b,w;if(v){if(v instanceof i)return v;{const E=new r(v);return E._formatted=(b=v.external)!==null&&b!==void 0?b:null,E._fsPath=v._sep===o&&(w=v.fsPath)!==null&&w!==void 0?w:null,E}}else return v}}e.URI=i;const o=k.isWindows?1:void 0;class r extends i{constructor(){super(...arguments),this._formatted=null,this._fsPath=null}get fsPath(){return this._fsPath||(this._fsPath=c(this,!1)),this._fsPath}toString(v=!1){return v?a(this,!0):(this._formatted||(this._formatted=a(this,!1)),this._formatted)}toJSON(){const v={$mid:1};return this._fsPath&&(v.fsPath=this._fsPath,v._sep=o),this._formatted&&(v.external=this._formatted),this.path&&(v.path=this.path),this.scheme&&(v.scheme=this.scheme),this.authority&&(v.authority=this.authority),this.query&&(v.query=this.query),this.fragment&&(v.fragment=this.fragment),v}}const d={[58]:"%3A",[47]:"%2F",[63]:"%3F",[35]:"%23",[91]:"%5B",[93]:"%5D",[64]:"%40",[33]:"%21",[36]:"%24",[38]:"%26",[39]:"%27",[40]:"%28",[41]:"%29",[42]:"%2A",[43]:"%2B",[44]:"%2C",[59]:"%3B",[61]:"%3D",[32]:"%20"};function h(g,v,b){let w,E=-1;for(let I=0;I<g.length;I++){const T=g.charCodeAt(I);if(T>=97&&T<=122||T>=65&&T<=90||T>=48&&T<=57||T===45||T===46||T===95||T===126||v&&T===47||b&&T===91||b&&T===93||b&&T===58)E!==-1&&(w+=encodeURIComponent(g.substring(E,I)),E=-1),w!==void 0&&(w+=g.charAt(I));else{w===void 0&&(w=g.substr(0,I));const P=d[T];P!==void 0?(E!==-1&&(w+=encodeURIComponent(g.substring(E,I)),E=-1),w+=P):E===-1&&(E=I)}}return E!==-1&&(w+=encodeURIComponent(g.substring(E))),w!==void 0?w:g}function n(g){let v;for(let b=0;b<g.length;b++){const w=g.charCodeAt(b);w===35||w===63?(v===void 0&&(v=g.substr(0,b)),v+=d[w]):v!==void 0&&(v+=g[b])}return v!==void 0?v:g}function c(g,v){let b;return g.authority&&g.path.length>1&&g.scheme==="file"?b=`//${g.authority}${g.path}`:g.path.charCodeAt(0)===47&&(g.path.charCodeAt(1)>=65&&g.path.charCodeAt(1)<=90||g.path.charCodeAt(1)>=97&&g.path.charCodeAt(1)<=122)&&g.path.charCodeAt(2)===58?v?b=g.path.substr(1):b=g.path[1].toLowerCase()+g.path.substr(2):b=g.path,k.isWindows&&(b=b.replace(/\//g,"\\")),b}e.uriToFsPath=c;function a(g,v){const b=v?n:h;let w="",{scheme:E,authority:I,path:T,query:P,fragment:A}=g;if(E&&(w+=E,w+=":"),(I||E==="file")&&(w+=s,w+=s),I){let M=I.indexOf("@");if(M!==-1){const N=I.substr(0,M);I=I.substr(M+1),M=N.lastIndexOf(":"),M===-1?w+=b(N,!1,!1):(w+=b(N.substr(0,M),!1,!1),w+=":",w+=b(N.substr(M+1),!1,!0)),w+="@"}I=I.toLowerCase(),M=I.lastIndexOf(":"),M===-1?w+=b(I,!1,!0):(w+=b(I.substr(0,M),!1,!0),w+=I.substr(M))}if(T){if(T.length>=3&&T.charCodeAt(0)===47&&T.charCodeAt(2)===58){const M=T.charCodeAt(1);M>=65&&M<=90&&(T=`/${String.fromCharCode(M+32)}:${T.substr(3)}`)}else if(T.length>=2&&T.charCodeAt(1)===58){const M=T.charCodeAt(0);M>=65&&M<=90&&(T=`${String.fromCharCode(M+32)}:${T.substr(2)}`)}w+=b(T,!0,!1)}return P&&(w+="?",w+=b(P,!1,!1)),A&&(w+="#",w+=v?A:h(A,!1,!1)),w}function l(g){try{return decodeURIComponent(g)}catch{return g.length>3?g.substr(0,3)+l(g.substr(3)):g}}const u=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function C(g){return g.match(u)?g.replace(u,v=>l(v)):g}}),define(X[221],ee([1,0,138,9,21]),function(q,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.revive=e.parse=e.stringify=void 0;function D(f){return JSON.stringify(f,m)}e.stringify=D;function S(f){let p=JSON.parse(f);return p=_(p),p}e.parse=S;function m(f,p){return p instanceof RegExp?{$mid:2,source:p.source,flags:(0,k.regExpFlags)(p)}:p}function _(f,p=0){if(!f||p>200)return f;if(typeof f=="object"){switch(f.$mid){case 1:return y.URI.revive(f);case 2:return new RegExp(f.source,f.flags);case 16:return new Date(f.source)}if(f instanceof L.VSBuffer||f instanceof Uint8Array)return f;if(Array.isArray(f))for(let s=0;s<f.length;++s)f[s]=_(f[s],p+1);else for(const s in f)Object.hasOwnProperty.call(f,s)&&(f[s]=_(f[s],p+1))}return f}e.revive=_}),define(X[53],ee([1,0,12,17,21]),function(q,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.COI=e.FileAccess=e.RemoteAuthorities=e.connectionTokenQueryName=e.Schemas=void 0;var D;(function(f){f.inMemory="inmemory",f.vscode="vscode",f.internal="private",f.walkThrough="walkThrough",f.walkThroughSnippet="walkThroughSnippet",f.http="http",f.https="https",f.file="file",f.mailto="mailto",f.untitled="untitled",f.data="data",f.command="command",f.vscodeRemote="vscode-remote",f.vscodeRemoteResource="vscode-remote-resource",f.vscodeManagedRemoteResource="vscode-managed-remote-resource",f.vscodeUserData="vscode-userdata",f.vscodeCustomEditor="vscode-custom-editor",f.vscodeNotebookCell="vscode-notebook-cell",f.vscodeNotebookCellMetadata="vscode-notebook-cell-metadata",f.vscodeNotebookCellOutput="vscode-notebook-cell-output",f.vscodeInteractiveInput="vscode-interactive-input",f.vscodeSettings="vscode-settings",f.vscodeWorkspaceTrust="vscode-workspace-trust",f.vscodeTerminal="vscode-terminal",f.vscodeChatSesssion="vscode-chat-editor",f.webviewPanel="webview-panel",f.vscodeWebview="vscode-webview",f.extension="extension",f.vscodeFileResource="vscode-file",f.tmp="tmp",f.vsls="vsls",f.vscodeSourceControl="vscode-scm"})(D||(e.Schemas=D={})),e.connectionTokenQueryName="tkn";class S{constructor(){this._hosts=Object.create(null),this._ports=Object.create(null),this._connectionTokens=Object.create(null),this._preferredWebSchema="http",this._delegate=null,this._remoteResourcesPath=`/${D.vscodeRemoteResource}`}setPreferredWebSchema(p){this._preferredWebSchema=p}rewrite(p){if(this._delegate)try{return this._delegate(p)}catch(d){return L.onUnexpectedError(d),p}const s=p.authority;let t=this._hosts[s];t&&t.indexOf(":")!==-1&&t.indexOf("[")===-1&&(t=`[${t}]`);const i=this._ports[s],o=this._connectionTokens[s];let r=`path=${encodeURIComponent(p.path)}`;return typeof o=="string"&&(r+=`&${e.connectionTokenQueryName}=${encodeURIComponent(o)}`),y.URI.from({scheme:k.isWeb?this._preferredWebSchema:D.vscodeRemoteResource,authority:`${t}:${i}`,path:this._remoteResourcesPath,query:r})}}e.RemoteAuthorities=new S;class m{uriToBrowserUri(p){return p.scheme===D.vscodeRemote?e.RemoteAuthorities.rewrite(p):p.scheme===D.file&&(k.isNative||k.isWebWorker&&k.globals.origin===`${D.vscodeFileResource}://${m.FALLBACK_AUTHORITY}`)?p.with({scheme:D.vscodeFileResource,authority:p.authority||m.FALLBACK_AUTHORITY,query:null,fragment:null}):p}}m.FALLBACK_AUTHORITY="vscode-app",e.FileAccess=new m;var _;(function(f){const p=new Map([["1",{"Cross-Origin-Opener-Policy":"same-origin"}],["2",{"Cross-Origin-Embedder-Policy":"require-corp"}],["3",{"Cross-Origin-Opener-Policy":"same-origin","Cross-Origin-Embedder-Policy":"require-corp"}]]);f.CoopAndCoep=Object.freeze(p.get("3"));const s="vscode-coi";function t(o){let r;typeof o=="string"?r=new URL(o).searchParams:o instanceof URL?r=o.searchParams:y.URI.isUri(o)&&(r=new URL(o.toString(!0)).searchParams);const d=r?.get(s);if(d)return p.get(d)}f.getHeadersFromQuery=t;function i(o,r,d){if(!globalThis.crossOriginIsolated)return;const h=r&&d?"3":d?"2":"1";o instanceof URLSearchParams?o.set(s,h):o[s]=h}f.addSearchParam=i})(_||(e.COI=_={}))}),define(X[7],ee([1,0,51,217,45,73,12,6,300,2,53,17]),function(q,e,L,k,y,D,S,m,_,f,p,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.h=e.DragAndDropObserver=e.ModifierKeyEmitter=e.basicMarkupHtmlTags=e.hookDomPurifyHrefAndSrcSanitizer=e.asCssValueWithDefault=e.asCSSPropertyValue=e.asCSSUrl=e.animate=e.windowOpenNoOpener=e.computeScreenAwareSize=e.hide=e.show=e.setVisibility=e.$=e.Namespace=e.reset=e.prepend=e.append=e.trackFocus=e.restoreParentsScrollTop=e.saveParentsScrollTop=e.EventHelper=e.isEventLike=e.EventType=e.isHTMLElement=e.removeCSSRulesContainingSelector=e.createCSSRule=e.createStyleSheet=e.getActiveElement=e.getShadowRoot=e.isInShadowDOM=e.isShadowRoot=e.hasParentWithClass=e.findParentWithClass=e.isAncestor=e.getTotalHeight=e.getContentHeight=e.getContentWidth=e.getTotalWidth=e.getDomNodeZoomLevel=e.getDomNodePagePosition=e.size=e.getTopLeftOffset=e.Dimension=e.getClientArea=e.getComputedStyle=e.scheduleAtNextAnimationFrame=e.runAtThisOrScheduleAtNextAnimationFrame=e.addDisposableGenericMouseUpListener=e.addDisposableGenericMouseDownListener=e.addStandardDisposableGenericMouseUpListener=e.addStandardDisposableGenericMouseDownListener=e.addStandardDisposableListener=e.addDisposableListener=e.isInDOM=e.clearNode=void 0;function t(ve){for(;ve.firstChild;)ve.firstChild.remove()}e.clearNode=t;function i(ve){var _e;return(_e=ve?.isConnected)!==null&&_e!==void 0?_e:!1}e.isInDOM=i;class o{constructor(_e,De,Re,Pe){this._node=_e,this._type=De,this._handler=Re,this._options=Pe||!1,this._node.addEventListener(this._type,this._handler,this._options)}dispose(){this._handler&&(this._node.removeEventListener(this._type,this._handler,this._options),this._node=null,this._handler=null)}}function r(ve,_e,De,Re){return new o(ve,_e,De,Re)}e.addDisposableListener=r;function d(ve){return function(_e){return ve(new D.StandardMouseEvent(_e))}}function h(ve){return function(_e){return ve(new y.StandardKeyboardEvent(_e))}}const n=function(_e,De,Re,Pe){let Fe=Re;return De==="click"||De==="mousedown"?Fe=d(Re):(De==="keydown"||De==="keypress"||De==="keyup")&&(Fe=h(Re)),r(_e,De,Fe,Pe)};e.addStandardDisposableListener=n;const c=function(_e,De,Re){const Pe=d(De);return l(_e,Pe,Re)};e.addStandardDisposableGenericMouseDownListener=c;const a=function(_e,De,Re){const Pe=d(De);return u(_e,Pe,Re)};e.addStandardDisposableGenericMouseUpListener=a;function l(ve,_e,De){return r(ve,s.isIOS&&k.BrowserFeatures.pointerEvents?e.EventType.POINTER_DOWN:e.EventType.MOUSE_DOWN,_e,De)}e.addDisposableGenericMouseDownListener=l;function u(ve,_e,De){return r(ve,s.isIOS&&k.BrowserFeatures.pointerEvents?e.EventType.POINTER_UP:e.EventType.MOUSE_UP,_e,De)}e.addDisposableGenericMouseUpListener=u;class C{constructor(_e,De=0){this._runner=_e,this.priority=De,this._canceled=!1}dispose(){this._canceled=!0}execute(){if(!this._canceled)try{this._runner()}catch(_e){(0,S.onUnexpectedError)(_e)}}static sort(_e,De){return De.priority-_e.priority}}(function(){let ve=[],_e=null,De=!1,Re=!1;const Pe=()=>{for(De=!1,_e=ve,ve=[],Re=!0;_e.length>0;)_e.sort(C.sort),_e.shift().execute();Re=!1};e.scheduleAtNextAnimationFrame=(Fe,We=0)=>{const xe=new C(Fe,We);return ve.push(xe),De||(De=!0,requestAnimationFrame(Pe)),xe},e.runAtThisOrScheduleAtNextAnimationFrame=(Fe,We)=>{if(Re){const xe=new C(Fe,We);return _e.push(xe),xe}else return(0,e.scheduleAtNextAnimationFrame)(Fe,We)}})();function g(ve){return document.defaultView.getComputedStyle(ve,null)}e.getComputedStyle=g;function v(ve){if(ve!==document.body)return new w(ve.clientWidth,ve.clientHeight);if(s.isIOS&&window.visualViewport)return new w(window.visualViewport.width,window.visualViewport.height);if(window.innerWidth&&window.innerHeight)return new w(window.innerWidth,window.innerHeight);if(document.body&&document.body.clientWidth&&document.body.clientHeight)return new w(document.body.clientWidth,document.body.clientHeight);if(document.documentElement&&document.documentElement.clientWidth&&document.documentElement.clientHeight)return new w(document.documentElement.clientWidth,document.documentElement.clientHeight);throw new Error("Unable to figure out browser width and height")}e.getClientArea=v;class b{static convertToPixels(_e,De){return parseFloat(De)||0}static getDimension(_e,De,Re){const Pe=g(_e),Fe=Pe?Pe.getPropertyValue(De):"0";return b.convertToPixels(_e,Fe)}static getBorderLeftWidth(_e){return b.getDimension(_e,"border-left-width","borderLeftWidth")}static getBorderRightWidth(_e){return b.getDimension(_e,"border-right-width","borderRightWidth")}static getBorderTopWidth(_e){return b.getDimension(_e,"border-top-width","borderTopWidth")}static getBorderBottomWidth(_e){return b.getDimension(_e,"border-bottom-width","borderBottomWidth")}static getPaddingLeft(_e){return b.getDimension(_e,"padding-left","paddingLeft")}static getPaddingRight(_e){return b.getDimension(_e,"padding-right","paddingRight")}static getPaddingTop(_e){return b.getDimension(_e,"padding-top","paddingTop")}static getPaddingBottom(_e){return b.getDimension(_e,"padding-bottom","paddingBottom")}static getMarginLeft(_e){return b.getDimension(_e,"margin-left","marginLeft")}static getMarginTop(_e){return b.getDimension(_e,"margin-top","marginTop")}static getMarginRight(_e){return b.getDimension(_e,"margin-right","marginRight")}static getMarginBottom(_e){return b.getDimension(_e,"margin-bottom","marginBottom")}}class w{constructor(_e,De){this.width=_e,this.height=De}with(_e=this.width,De=this.height){return _e!==this.width||De!==this.height?new w(_e,De):this}static is(_e){return typeof _e=="object"&&typeof _e.height=="number"&&typeof _e.width=="number"}static lift(_e){return _e instanceof w?_e:new w(_e.width,_e.height)}static equals(_e,De){return _e===De?!0:!_e||!De?!1:_e.width===De.width&&_e.height===De.height}}e.Dimension=w,w.None=new w(0,0);function E(ve){let _e=ve.offsetParent,De=ve.offsetTop,Re=ve.offsetLeft;for(;(ve=ve.parentNode)!==null&&ve!==document.body&&ve!==document.documentElement;){De-=ve.scrollTop;const Pe=z(ve)?null:g(ve);Pe&&(Re-=Pe.direction!=="rtl"?ve.scrollLeft:-ve.scrollLeft),ve===_e&&(Re+=b.getBorderLeftWidth(ve),De+=b.getBorderTopWidth(ve),De+=ve.offsetTop,Re+=ve.offsetLeft,_e=ve.offsetParent)}return{left:Re,top:De}}e.getTopLeftOffset=E;function I(ve,_e,De){typeof _e=="number"&&(ve.style.width=`${_e}px`),typeof De=="number"&&(ve.style.height=`${De}px`)}e.size=I;function T(ve){const _e=ve.getBoundingClientRect();return{left:_e.left+window.scrollX,top:_e.top+window.scrollY,width:_e.width,height:_e.height}}e.getDomNodePagePosition=T;function P(ve){let _e=ve,De=1;do{const Re=g(_e).zoom;Re!=null&&Re!=="1"&&(De*=Re),_e=_e.parentElement}while(_e!==null&&_e!==document.documentElement);return De}e.getDomNodeZoomLevel=P;function A(ve){const _e=b.getMarginLeft(ve)+b.getMarginRight(ve);return ve.offsetWidth+_e}e.getTotalWidth=A;function M(ve){const _e=b.getBorderLeftWidth(ve)+b.getBorderRightWidth(ve),De=b.getPaddingLeft(ve)+b.getPaddingRight(ve);return ve.offsetWidth-_e-De}e.getContentWidth=M;function N(ve){const _e=b.getBorderTopWidth(ve)+b.getBorderBottomWidth(ve),De=b.getPaddingTop(ve)+b.getPaddingBottom(ve);return ve.offsetHeight-_e-De}e.getContentHeight=N;function R(ve){const _e=b.getMarginTop(ve)+b.getMarginBottom(ve);return ve.offsetHeight+_e}e.getTotalHeight=R;function F(ve,_e){for(;ve;){if(ve===_e)return!0;ve=ve.parentNode}return!1}e.isAncestor=F;function x(ve,_e,De){for(;ve&&ve.nodeType===ve.ELEMENT_NODE;){if(ve.classList.contains(_e))return ve;if(De){if(typeof De=="string"){if(ve.classList.contains(De))return null}else if(ve===De)return null}ve=ve.parentNode}return null}e.findParentWithClass=x;function W(ve,_e,De){return!!x(ve,_e,De)}e.hasParentWithClass=W;function z(ve){return ve&&!!ve.host&&!!ve.mode}e.isShadowRoot=z;function U(ve){return!!O(ve)}e.isInShadowDOM=U;function O(ve){for(;ve.parentNode;){if(ve===document.body)return null;ve=ve.parentNode}return z(ve)?ve:null}e.getShadowRoot=O;function G(){let ve=document.activeElement;for(;ve?.shadowRoot;)ve=ve.shadowRoot.activeElement;return ve}e.getActiveElement=G;function Q(ve=document.getElementsByTagName("head")[0],_e){const De=document.createElement("style");return De.type="text/css",De.media="screen",_e?.(De),ve.appendChild(De),De}e.createStyleSheet=Q;let re=null;function oe(){return re||(re=Q()),re}function te(ve){var _e,De;return!((_e=ve?.sheet)===null||_e===void 0)&&_e.rules?ve.sheet.rules:!((De=ve?.sheet)===null||De===void 0)&&De.cssRules?ve.sheet.cssRules:[]}function H(ve,_e,De=oe()){!De||!_e||De.sheet.insertRule(ve+"{"+_e+"}",0)}e.createCSSRule=H;function B(ve,_e=oe()){if(!_e)return;const De=te(_e),Re=[];for(let Pe=0;Pe<De.length;Pe++)De[Pe].selectorText.indexOf(ve)!==-1&&Re.push(Pe);for(let Pe=Re.length-1;Pe>=0;Pe--)_e.sheet.deleteRule(Re[Pe])}e.removeCSSRulesContainingSelector=B;function K(ve){return typeof HTMLElement=="object"?ve instanceof HTMLElement:ve&&typeof ve=="object"&&ve.nodeType===1&&typeof ve.nodeName=="string"}e.isHTMLElement=K,e.EventType={CLICK:"click",AUXCLICK:"auxclick",DBLCLICK:"dblclick",MOUSE_UP:"mouseup",MOUSE_DOWN:"mousedown",MOUSE_OVER:"mouseover",MOUSE_MOVE:"mousemove",MOUSE_OUT:"mouseout",MOUSE_ENTER:"mouseenter",MOUSE_LEAVE:"mouseleave",MOUSE_WHEEL:"wheel",POINTER_UP:"pointerup",POINTER_DOWN:"pointerdown",POINTER_MOVE:"pointermove",POINTER_LEAVE:"pointerleave",CONTEXT_MENU:"contextmenu",WHEEL:"wheel",KEY_DOWN:"keydown",KEY_PRESS:"keypress",KEY_UP:"keyup",LOAD:"load",BEFORE_UNLOAD:"beforeunload",UNLOAD:"unload",PAGE_SHOW:"pageshow",PAGE_HIDE:"pagehide",ABORT:"abort",ERROR:"error",RESIZE:"resize",SCROLL:"scroll",FULLSCREEN_CHANGE:"fullscreenchange",WK_FULLSCREEN_CHANGE:"webkitfullscreenchange",SELECT:"select",CHANGE:"change",SUBMIT:"submit",RESET:"reset",FOCUS:"focus",FOCUS_IN:"focusin",FOCUS_OUT:"focusout",BLUR:"blur",INPUT:"input",STORAGE:"storage",DRAG_START:"dragstart",DRAG:"drag",DRAG_ENTER:"dragenter",DRAG_LEAVE:"dragleave",DRAG_OVER:"dragover",DROP:"drop",DRAG_END:"dragend",ANIMATION_START:L.isWebKit?"webkitAnimationStart":"animationstart",ANIMATION_END:L.isWebKit?"webkitAnimationEnd":"animationend",ANIMATION_ITERATION:L.isWebKit?"webkitAnimationIteration":"animationiteration"};function Z(ve){const _e=ve;return!!(_e&&typeof _e.preventDefault=="function"&&typeof _e.stopPropagation=="function")}e.isEventLike=Z,e.EventHelper={stop:(ve,_e)=>(ve.preventDefault(),_e&&ve.stopPropagation(),ve)};function J(ve){const _e=[];for(let De=0;ve&&ve.nodeType===ve.ELEMENT_NODE;De++)_e[De]=ve.scrollTop,ve=ve.parentNode;return _e}e.saveParentsScrollTop=J;function ne(ve,_e){for(let De=0;ve&&ve.nodeType===ve.ELEMENT_NODE;De++)ve.scrollTop!==_e[De]&&(ve.scrollTop=_e[De]),ve=ve.parentNode}e.restoreParentsScrollTop=ne;class he extends f.Disposable{static hasFocusWithin(_e){const De=O(_e),Re=De?De.activeElement:document.activeElement;return F(Re,_e)}constructor(_e){super(),this._onDidFocus=this._register(new m.Emitter),this.onDidFocus=this._onDidFocus.event,this._onDidBlur=this._register(new m.Emitter),this.onDidBlur=this._onDidBlur.event;let De=he.hasFocusWithin(_e),Re=!1;const Pe=()=>{Re=!1,De||(De=!0,this._onDidFocus.fire())},Fe=()=>{De&&(Re=!0,window.setTimeout(()=>{Re&&(Re=!1,De=!1,this._onDidBlur.fire())},0))};this._refreshStateHandler=()=>{he.hasFocusWithin(_e)!==De&&(De?Fe():Pe())},this._register(r(_e,e.EventType.FOCUS,Pe,!0)),this._register(r(_e,e.EventType.BLUR,Fe,!0)),this._register(r(_e,e.EventType.FOCUS_IN,()=>this._refreshStateHandler())),this._register(r(_e,e.EventType.FOCUS_OUT,()=>this._refreshStateHandler()))}}function de(ve){return new he(ve)}e.trackFocus=de;function ae(ve,..._e){if(ve.append(..._e),_e.length===1&&typeof _e[0]!="string")return _e[0]}e.append=ae;function ce(ve,_e){return ve.insertBefore(_e,ve.firstChild),_e}e.prepend=ce;function $(ve,..._e){ve.innerText="",ae(ve,..._e)}e.reset=$;const V=/([\w\-]+)?(#([\w\-]+))?((\.([\w\-]+))*)/;var j;(function(ve){ve.HTML="http://www.w3.org/1999/xhtml",ve.SVG="http://www.w3.org/2000/svg"})(j||(e.Namespace=j={}));function se(ve,_e,De,...Re){const Pe=V.exec(_e);if(!Pe)throw new Error("Bad use of emmet");const Fe=Pe[1]||"div";let We;return ve!==j.HTML?We=document.createElementNS(ve,Fe):We=document.createElement(Fe),Pe[3]&&(We.id=Pe[3]),Pe[4]&&(We.className=Pe[4].replace(/\./g," ").trim()),De&&Object.entries(De).forEach(([xe,Ke])=>{typeof Ke>"u"||(/^on\w+$/.test(xe)?We[xe]=Ke:xe==="selected"?Ke&&We.setAttribute(xe,"true"):We.setAttribute(xe,Ke))}),We.append(...Re),We}function ie(ve,_e,...De){return se(j.HTML,ve,_e,...De)}e.$=ie,ie.SVG=function(ve,_e,...De){return se(j.SVG,ve,_e,...De)};function Y(ve,..._e){ve?le(..._e):fe(..._e)}e.setVisibility=Y;function le(...ve){for(const _e of ve)_e.style.display="",_e.removeAttribute("aria-hidden")}e.show=le;function fe(...ve){for(const _e of ve)_e.style.display="none",_e.setAttribute("aria-hidden","true")}e.hide=fe;function be(ve){const _e=window.devicePixelRatio*ve;return Math.max(1,Math.floor(_e))/window.devicePixelRatio}e.computeScreenAwareSize=be;function we(ve){window.open(ve,"_blank","noopener")}e.windowOpenNoOpener=we;function Ee(ve){const _e=()=>{ve(),De=(0,e.scheduleAtNextAnimationFrame)(_e)};let De=(0,e.scheduleAtNextAnimationFrame)(_e);return(0,f.toDisposable)(()=>De.dispose())}e.animate=Ee,p.RemoteAuthorities.setPreferredWebSchema(/^https:/.test(window.location.href)?"https":"http");function Ie(ve){return ve?`url('${p.FileAccess.uriToBrowserUri(ve).toString(!0).replace(/'/g,"%27")}')`:"url('')"}e.asCSSUrl=Ie;function ye(ve){return`'${ve.replace(/'/g,"%27")}'`}e.asCSSPropertyValue=ye;function ke(ve,_e){if(ve!==void 0){const De=ve.match(/^\s*var\((.+)\)$/);if(De){const Re=De[1].split(",",2);return Re.length===2&&(_e=ke(Re[1].trim(),_e)),`var(${Re[0]}, ${_e})`}return ve}return _e}e.asCssValueWithDefault=ke;function Ae(ve,_e=!1){const De=document.createElement("a");return _.addHook("afterSanitizeAttributes",Re=>{for(const Pe of["href","src"])if(Re.hasAttribute(Pe)){const Fe=Re.getAttribute(Pe);if(Pe==="href"&&Fe.startsWith("#"))continue;if(De.href=Fe,!ve.includes(De.protocol.replace(/:$/,""))){if(_e&&Pe==="src"&&De.href.startsWith("data:"))continue;Re.removeAttribute(Pe)}}}),(0,f.toDisposable)(()=>{_.removeHook("afterSanitizeAttributes")})}e.hookDomPurifyHrefAndSrcSanitizer=Ae,e.basicMarkupHtmlTags=Object.freeze(["a","abbr","b","bdo","blockquote","br","caption","cite","code","col","colgroup","dd","del","details","dfn","div","dl","dt","em","figcaption","figure","h1","h2","h3","h4","h5","h6","hr","i","img","ins","kbd","label","li","mark","ol","p","pre","q","rp","rt","ruby","samp","small","small","source","span","strike","strong","sub","summary","sup","table","tbody","td","tfoot","th","thead","time","tr","tt","u","ul","var","video","wbr"]);const Te=Object.freeze({ALLOWED_TAGS:["a","button","blockquote","code","div","h1","h2","h3","h4","h5","h6","hr","input","label","li","p","pre","select","small","span","strong","textarea","ul","ol"],ALLOWED_ATTR:["href","data-href","data-command","target","title","name","src","alt","class","id","role","tabindex","style","data-code","width","height","align","x-dispatch","required","checked","placeholder","type","start"],RETURN_DOM:!1,RETURN_DOM_FRAGMENT:!1,RETURN_TRUSTED_TYPE:!0});class pe extends m.Emitter{constructor(){super(),this._subscriptions=new f.DisposableStore,this._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1},this._subscriptions.add(r(window,"keydown",_e=>{if(_e.defaultPrevented)return;const De=new y.StandardKeyboardEvent(_e);if(!(De.keyCode===6&&_e.repeat)){if(_e.altKey&&!this._keyStatus.altKey)this._keyStatus.lastKeyPressed="alt";else if(_e.ctrlKey&&!this._keyStatus.ctrlKey)this._keyStatus.lastKeyPressed="ctrl";else if(_e.metaKey&&!this._keyStatus.metaKey)this._keyStatus.lastKeyPressed="meta";else if(_e.shiftKey&&!this._keyStatus.shiftKey)this._keyStatus.lastKeyPressed="shift";else if(De.keyCode!==6)this._keyStatus.lastKeyPressed=void 0;else return;this._keyStatus.altKey=_e.altKey,this._keyStatus.ctrlKey=_e.ctrlKey,this._keyStatus.metaKey=_e.metaKey,this._keyStatus.shiftKey=_e.shiftKey,this._keyStatus.lastKeyPressed&&(this._keyStatus.event=_e,this.fire(this._keyStatus))}},!0)),this._subscriptions.add(r(window,"keyup",_e=>{_e.defaultPrevented||(!_e.altKey&&this._keyStatus.altKey?this._keyStatus.lastKeyReleased="alt":!_e.ctrlKey&&this._keyStatus.ctrlKey?this._keyStatus.lastKeyReleased="ctrl":!_e.metaKey&&this._keyStatus.metaKey?this._keyStatus.lastKeyReleased="meta":!_e.shiftKey&&this._keyStatus.shiftKey?this._keyStatus.lastKeyReleased="shift":this._keyStatus.lastKeyReleased=void 0,this._keyStatus.lastKeyPressed!==this._keyStatus.lastKeyReleased&&(this._keyStatus.lastKeyPressed=void 0),this._keyStatus.altKey=_e.altKey,this._keyStatus.ctrlKey=_e.ctrlKey,this._keyStatus.metaKey=_e.metaKey,this._keyStatus.shiftKey=_e.shiftKey,this._keyStatus.lastKeyReleased&&(this._keyStatus.event=_e,this.fire(this._keyStatus)))},!0)),this._subscriptions.add(r(document.body,"mousedown",()=>{this._keyStatus.lastKeyPressed=void 0},!0)),this._subscriptions.add(r(document.body,"mouseup",()=>{this._keyStatus.lastKeyPressed=void 0},!0)),this._subscriptions.add(r(document.body,"mousemove",_e=>{_e.buttons&&(this._keyStatus.lastKeyPressed=void 0)},!0)),this._subscriptions.add(r(window,"blur",()=>{this.resetKeyStatus()}))}get keyStatus(){return this._keyStatus}resetKeyStatus(){this.doResetKeyStatus(),this.fire(this._keyStatus)}doResetKeyStatus(){this._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1}}static getInstance(){return pe.instance||(pe.instance=new pe),pe.instance}dispose(){super.dispose(),this._subscriptions.dispose()}}e.ModifierKeyEmitter=pe;class me extends f.Disposable{constructor(_e,De){super(),this.element=_e,this.callbacks=De,this.counter=0,this.dragStartTime=0,this.registerListeners()}registerListeners(){this._register(r(this.element,e.EventType.DRAG_ENTER,_e=>{this.counter++,this.dragStartTime=_e.timeStamp,this.callbacks.onDragEnter(_e)})),this._register(r(this.element,e.EventType.DRAG_OVER,_e=>{var De,Re;_e.preventDefault(),(Re=(De=this.callbacks).onDragOver)===null||Re===void 0||Re.call(De,_e,_e.timeStamp-this.dragStartTime)})),this._register(r(this.element,e.EventType.DRAG_LEAVE,_e=>{this.counter--,this.counter===0&&(this.dragStartTime=0,this.callbacks.onDragLeave(_e))})),this._register(r(this.element,e.EventType.DRAG_END,_e=>{this.counter=0,this.dragStartTime=0,this.callbacks.onDragEnd(_e)})),this._register(r(this.element,e.EventType.DROP,_e=>{this.counter=0,this.dragStartTime=0,this.callbacks.onDrop(_e)}))}}e.DragAndDropObserver=me;const Se=/(?<tag>[\w\-]+)?(?:#(?<id>[\w\-]+))?(?<class>(?:\.(?:[\w\-]+))*)(?:@(?<name>(?:[\w\_])+))?/;function ue(ve,..._e){let De,Re;Array.isArray(_e[0])?(De={},Re=_e[0]):(De=_e[0]||{},Re=_e[1]);const Pe=Se.exec(ve);if(!Pe||!Pe.groups)throw new Error("Bad use of h");const Fe=Pe.groups.tag||"div",We=document.createElement(Fe);Pe.groups.id&&(We.id=Pe.groups.id);const xe=[];if(Pe.groups.class)for(const qe of Pe.groups.class.split("."))qe!==""&&xe.push(qe);if(De.className!==void 0)for(const qe of De.className.split("."))qe!==""&&xe.push(qe);xe.length>0&&(We.className=xe.join(" "));const Ke={};if(Pe.groups.name&&(Ke[Pe.groups.name]=We),Re)for(const qe of Re)qe instanceof HTMLElement?We.appendChild(qe):typeof qe=="string"?We.append(qe):"root"in qe&&(Object.assign(Ke,qe),We.appendChild(qe.root));for(const[qe,et]of Object.entries(De))if(qe!=="className")if(qe==="style")for(const[ze,Me]of Object.entries(et))We.style.setProperty(Ce(ze),typeof Me=="number"?Me+"px":""+Me);else qe==="tabIndex"?We.tabIndex=et:We.setAttribute(Ce(qe),et.toString());return Ke.root=We,Ke}e.h=ue;function Ce(ve){return ve.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}}),define(X[301],ee([1,0,7]),function(q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createElement=e.renderFormattedText=e.renderText=void 0;function k(s,t={}){const i=D(t);return i.textContent=s,i}e.renderText=k;function y(s,t={}){const i=D(t);return m(i,_(s,!!t.renderCodeSegments),t.actionHandler,t.renderCodeSegments),i}e.renderFormattedText=y;function D(s){const t=s.inline?"span":"div",i=document.createElement(t);return s.className&&(i.className=s.className),i}e.createElement=D;class S{constructor(t){this.source=t,this.index=0}eos(){return this.index>=this.source.length}next(){const t=this.peek();return this.advance(),t}peek(){return this.source[this.index]}advance(){this.index++}}function m(s,t,i,o){let r;if(t.type===2)r=document.createTextNode(t.content||"");else if(t.type===3)r=document.createElement("b");else if(t.type===4)r=document.createElement("i");else if(t.type===7&&o)r=document.createElement("code");else if(t.type===5&&i){const d=document.createElement("a");i.disposables.add(L.addStandardDisposableListener(d,"click",h=>{i.callback(String(t.index),h)})),r=d}else t.type===8?r=document.createElement("br"):t.type===1&&(r=s);r&&s!==r&&s.appendChild(r),r&&Array.isArray(t.children)&&t.children.forEach(d=>{m(r,d,i,o)})}function _(s,t){const i={type:1,children:[]};let o=0,r=i;const d=[],h=new S(s);for(;!h.eos();){let n=h.next();const c=n==="\\"&&p(h.peek(),t)!==0;if(c&&(n=h.next()),!c&&f(n,t)&&n===h.peek()){h.advance(),r.type===2&&(r=d.pop());const a=p(n,t);if(r.type===a||r.type===5&&a===6)r=d.pop();else{const l={type:a,children:[]};a===5&&(l.index=o,o++),r.children.push(l),d.push(r),r=l}}else if(n===`
`)r.type===2&&(r=d.pop()),r.children.push({type:8});else if(r.type!==2){const a={type:2,content:n};r.children.push(a),d.push(r),r=a}else r.content+=n}return r.type===2&&(r=d.pop()),d.length,i}function f(s,t){return p(s,t)!==0}function p(s,t){switch(s){case"*":return 3;case"_":return 4;case"[":return 5;case"]":return 6;case"`":return t?7:0;default:return 0}}}),define(X[151],ee([1,0,7,2]),function(q,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GlobalPointerMoveMonitor=void 0;class y{constructor(){this._hooks=new k.DisposableStore,this._pointerMoveCallback=null,this._onStopCallback=null}dispose(){this.stopMonitoring(!1),this._hooks.dispose()}stopMonitoring(S,m){if(!this.isMonitoring())return;this._hooks.clear(),this._pointerMoveCallback=null;const _=this._onStopCallback;this._onStopCallback=null,S&&_&&_(m)}isMonitoring(){return!!this._pointerMoveCallback}startMonitoring(S,m,_,f,p){this.isMonitoring()&&this.stopMonitoring(!1),this._pointerMoveCallback=f,this._onStopCallback=p;let s=S;try{S.setPointerCapture(m),this._hooks.add((0,k.toDisposable)(()=>{try{S.releasePointerCapture(m)}catch{}}))}catch{s=window}this._hooks.add(L.addDisposableListener(s,L.EventType.POINTER_MOVE,t=>{if(t.buttons!==_){this.stopMonitoring(!0);return}t.preventDefault(),this._pointerMoveCallback(t)})),this._hooks.add(L.addDisposableListener(s,L.EventType.POINTER_UP,t=>this.stopMonitoring(!0)))}}e.GlobalPointerMoveMonitor=y}),define(X[60],ee([1,0,7,16,104,2,63]),function(q,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Gesture=e.EventType=void 0;var m;(function(f){f.Tap="-monaco-gesturetap",f.Change="-monaco-gesturechange",f.Start="-monaco-gesturestart",f.End="-monaco-gesturesend",f.Contextmenu="-monaco-gesturecontextmenu"})(m||(e.EventType=m={}));class _ extends D.Disposable{constructor(){super(),this.dispatched=!1,this.targets=new S.LinkedList,this.ignoreTargets=new S.LinkedList,this.activeTouches={},this.handle=null,this._lastSetTapCountTime=0,this._register(L.addDisposableListener(document,"touchstart",p=>this.onTouchStart(p),{passive:!1})),this._register(L.addDisposableListener(document,"touchend",p=>this.onTouchEnd(p))),this._register(L.addDisposableListener(document,"touchmove",p=>this.onTouchMove(p),{passive:!1}))}static addTarget(p){if(!_.isTouchDevice())return D.Disposable.None;_.INSTANCE||(_.INSTANCE=new _);const s=_.INSTANCE.targets.push(p);return(0,D.toDisposable)(s)}static ignoreTarget(p){if(!_.isTouchDevice())return D.Disposable.None;_.INSTANCE||(_.INSTANCE=new _);const s=_.INSTANCE.ignoreTargets.push(p);return(0,D.toDisposable)(s)}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}dispose(){this.handle&&(this.handle.dispose(),this.handle=null),super.dispose()}onTouchStart(p){const s=Date.now();this.handle&&(this.handle.dispose(),this.handle=null);for(let t=0,i=p.targetTouches.length;t<i;t++){const o=p.targetTouches.item(t);this.activeTouches[o.identifier]={id:o.identifier,initialTarget:o.target,initialTimeStamp:s,initialPageX:o.pageX,initialPageY:o.pageY,rollingTimestamps:[s],rollingPageX:[o.pageX],rollingPageY:[o.pageY]};const r=this.newGestureEvent(m.Start,o.target);r.pageX=o.pageX,r.pageY=o.pageY,this.dispatchEvent(r)}this.dispatched&&(p.preventDefault(),p.stopPropagation(),this.dispatched=!1)}onTouchEnd(p){const s=Date.now(),t=Object.keys(this.activeTouches).length;for(let i=0,o=p.changedTouches.length;i<o;i++){const r=p.changedTouches.item(i);if(!this.activeTouches.hasOwnProperty(String(r.identifier))){console.warn("move of an UNKNOWN touch",r);continue}const d=this.activeTouches[r.identifier],h=Date.now()-d.initialTimeStamp;if(h<_.HOLD_DELAY&&Math.abs(d.initialPageX-k.tail(d.rollingPageX))<30&&Math.abs(d.initialPageY-k.tail(d.rollingPageY))<30){const n=this.newGestureEvent(m.Tap,d.initialTarget);n.pageX=k.tail(d.rollingPageX),n.pageY=k.tail(d.rollingPageY),this.dispatchEvent(n)}else if(h>=_.HOLD_DELAY&&Math.abs(d.initialPageX-k.tail(d.rollingPageX))<30&&Math.abs(d.initialPageY-k.tail(d.rollingPageY))<30){const n=this.newGestureEvent(m.Contextmenu,d.initialTarget);n.pageX=k.tail(d.rollingPageX),n.pageY=k.tail(d.rollingPageY),this.dispatchEvent(n)}else if(t===1){const n=k.tail(d.rollingPageX),c=k.tail(d.rollingPageY),a=k.tail(d.rollingTimestamps)-d.rollingTimestamps[0],l=n-d.rollingPageX[0],u=c-d.rollingPageY[0],C=[...this.targets].filter(g=>d.initialTarget instanceof Node&&g.contains(d.initialTarget));this.inertia(C,s,Math.abs(l)/a,l>0?1:-1,n,Math.abs(u)/a,u>0?1:-1,c)}this.dispatchEvent(this.newGestureEvent(m.End,d.initialTarget)),delete this.activeTouches[r.identifier]}this.dispatched&&(p.preventDefault(),p.stopPropagation(),this.dispatched=!1)}newGestureEvent(p,s){const t=document.createEvent("CustomEvent");return t.initEvent(p,!1,!0),t.initialTarget=s,t.tapCount=0,t}dispatchEvent(p){if(p.type===m.Tap){const s=new Date().getTime();let t=0;s-this._lastSetTapCountTime>_.CLEAR_TAP_COUNT_TIME?t=1:t=2,this._lastSetTapCountTime=s,p.tapCount=t}else(p.type===m.Change||p.type===m.Contextmenu)&&(this._lastSetTapCountTime=0);if(p.initialTarget instanceof Node){for(const s of this.ignoreTargets)if(s.contains(p.initialTarget))return;for(const s of this.targets)s.contains(p.initialTarget)&&(s.dispatchEvent(p),this.dispatched=!0)}}inertia(p,s,t,i,o,r,d,h){this.handle=L.scheduleAtNextAnimationFrame(()=>{const n=Date.now(),c=n-s;let a=0,l=0,u=!0;t+=_.SCROLL_FRICTION*c,r+=_.SCROLL_FRICTION*c,t>0&&(u=!1,a=i*t*c),r>0&&(u=!1,l=d*r*c);const C=this.newGestureEvent(m.Change);C.translationX=a,C.translationY=l,p.forEach(g=>g.dispatchEvent(C)),u||this.inertia(p,n,t,i,o+a,r,d,h+l)})}onTouchMove(p){const s=Date.now();for(let t=0,i=p.changedTouches.length;t<i;t++){const o=p.changedTouches.item(t);if(!this.activeTouches.hasOwnProperty(String(o.identifier))){console.warn("end of an UNKNOWN touch",o);continue}const r=this.activeTouches[o.identifier],d=this.newGestureEvent(m.Change,r.initialTarget);d.translationX=o.pageX-k.tail(r.rollingPageX),d.translationY=o.pageY-k.tail(r.rollingPageY),d.pageX=o.pageX,d.pageY=o.pageY,this.dispatchEvent(d),r.rollingPageX.length>3&&(r.rollingPageX.shift(),r.rollingPageY.shift(),r.rollingTimestamps.shift()),r.rollingPageX.push(o.pageX),r.rollingPageY.push(o.pageY),r.rollingTimestamps.push(s)}this.dispatched&&(p.preventDefault(),p.stopPropagation(),this.dispatched=!1)}}e.Gesture=_,_.SCROLL_FRICTION=-.005,_.HOLD_DELAY=700,_.CLEAR_TAP_COUNT_TIME=400,Ne([y.memoize],_,"isTouchDevice",null)}),define(X[54],ee([1,0,7,388]),function(q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.status=e.alert=e.setARIAContainer=void 0;const k=2e4;let y,D,S,m,_;function f(i){y=document.createElement("div"),y.className="monaco-aria-container";const o=()=>{const d=document.createElement("div");return d.className="monaco-alert",d.setAttribute("role","alert"),d.setAttribute("aria-atomic","true"),y.appendChild(d),d};D=o(),S=o();const r=()=>{const d=document.createElement("div");return d.className="monaco-status",d.setAttribute("role","complementary"),d.setAttribute("aria-live","polite"),d.setAttribute("aria-atomic","true"),y.appendChild(d),d};m=r(),_=r(),i.appendChild(y)}e.setARIAContainer=f;function p(i){y&&(D.textContent!==i?(L.clearNode(S),t(D,i)):(L.clearNode(D),t(S,i)))}e.alert=p;function s(i){y&&(m.textContent!==i?(L.clearNode(_),t(m,i)):(L.clearNode(m),t(_,i)))}e.status=s;function t(i,o){L.clearNode(i),o.length>k&&(o=o.substr(0,k)),i.textContent=o,i.style.visibility="hidden",i.style.visibility="visible"}}),define(X[302],ee([1,0,217,7,2,17,168,392]),function(q,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextView=e.layout=e.LayoutAnchorMode=void 0;var m;(function(s){s[s.AVOID=0]="AVOID",s[s.ALIGN=1]="ALIGN"})(m||(e.LayoutAnchorMode=m={}));function _(s,t,i){const o=i.mode===m.ALIGN?i.offset:i.offset+i.size,r=i.mode===m.ALIGN?i.offset+i.size:i.offset;return i.position===0?t<=s-o?o:t<=r?r-t:Math.max(s-t,0):t<=r?r-t:t<=s-o?o:0}e.layout=_;class f extends y.Disposable{constructor(t,i){super(),this.container=null,this.delegate=null,this.toDisposeOnClean=y.Disposable.None,this.toDisposeOnSetContainer=y.Disposable.None,this.shadowRoot=null,this.shadowRootHostElement=null,this.view=k.$(".context-view"),this.useFixedPosition=!1,this.useShadowDOM=!1,k.hide(this.view),this.setContainer(t,i),this._register((0,y.toDisposable)(()=>this.setContainer(null,1)))}setContainer(t,i){var o;if(this.container&&(this.toDisposeOnSetContainer.dispose(),this.shadowRoot?(this.shadowRoot.removeChild(this.view),this.shadowRoot=null,(o=this.shadowRootHostElement)===null||o===void 0||o.remove(),this.shadowRootHostElement=null):this.container.removeChild(this.view),this.container=null),t){if(this.container=t,this.useFixedPosition=i!==1,this.useShadowDOM=i===3,this.useShadowDOM){this.shadowRootHostElement=k.$(".shadow-root-host"),this.container.appendChild(this.shadowRootHostElement),this.shadowRoot=this.shadowRootHostElement.attachShadow({mode:"open"});const d=document.createElement("style");d.textContent=p,this.shadowRoot.appendChild(d),this.shadowRoot.appendChild(this.view),this.shadowRoot.appendChild(k.$("slot"))}else this.container.appendChild(this.view);const r=new y.DisposableStore;f.BUBBLE_UP_EVENTS.forEach(d=>{r.add(k.addStandardDisposableListener(this.container,d,h=>{this.onDOMEvent(h,!1)}))}),f.BUBBLE_DOWN_EVENTS.forEach(d=>{r.add(k.addStandardDisposableListener(this.container,d,h=>{this.onDOMEvent(h,!0)},!0))}),this.toDisposeOnSetContainer=r}}show(t){var i,o;this.isVisible()&&this.hide(),k.clearNode(this.view),this.view.className="context-view",this.view.style.top="0px",this.view.style.left="0px",this.view.style.zIndex="2575",this.view.style.position=this.useFixedPosition?"fixed":"absolute",k.show(this.view),this.toDisposeOnClean=t.render(this.view)||y.Disposable.None,this.delegate=t,this.doLayout(),(o=(i=this.delegate).focus)===null||o===void 0||o.call(i)}getViewElement(){return this.view}layout(){if(this.isVisible()){if(this.delegate.canRelayout===!1&&!(D.isIOS&&L.BrowserFeatures.pointerEvents)){this.hide();return}this.delegate.layout&&this.delegate.layout(),this.doLayout()}}doLayout(){if(!this.isVisible())return;const t=this.delegate.getAnchor();let i;if(k.isHTMLElement(t)){const u=k.getDomNodePagePosition(t),C=k.getDomNodeZoomLevel(t);i={top:u.top*C,left:u.left*C,width:u.width*C,height:u.height*C}}else i={top:t.y,left:t.x,width:t.width||1,height:t.height||2};const o=k.getTotalWidth(this.view),r=k.getTotalHeight(this.view),d=this.delegate.anchorPosition||0,h=this.delegate.anchorAlignment||0,n=this.delegate.anchorAxisAlignment||0;let c,a;if(n===0){const u={offset:i.top-window.pageYOffset,size:i.height,position:d===0?0:1},C={offset:i.left,size:i.width,position:h===0?0:1,mode:m.ALIGN};c=_(window.innerHeight,r,u)+window.pageYOffset,S.Range.intersects({start:c,end:c+r},{start:u.offset,end:u.offset+u.size})&&(C.mode=m.AVOID),a=_(window.innerWidth,o,C)}else{const u={offset:i.left,size:i.width,position:h===0?0:1},C={offset:i.top,size:i.height,position:d===0?0:1,mode:m.ALIGN};a=_(window.innerWidth,o,u),S.Range.intersects({start:a,end:a+o},{start:u.offset,end:u.offset+u.size})&&(C.mode=m.AVOID),c=_(window.innerHeight,r,C)+window.pageYOffset}this.view.classList.remove("top","bottom","left","right"),this.view.classList.add(d===0?"bottom":"top"),this.view.classList.add(h===0?"left":"right"),this.view.classList.toggle("fixed",this.useFixedPosition);const l=k.getDomNodePagePosition(this.container);this.view.style.top=`${c-(this.useFixedPosition?k.getDomNodePagePosition(this.view).top:l.top)}px`,this.view.style.left=`${a-(this.useFixedPosition?k.getDomNodePagePosition(this.view).left:l.left)}px`,this.view.style.width="initial"}hide(t){const i=this.delegate;this.delegate=null,i?.onHide&&i.onHide(t),this.toDisposeOnClean.dispose(),k.hide(this.view)}isVisible(){return!!this.delegate}onDOMEvent(t,i){this.delegate&&(this.delegate.onDOMEvent?this.delegate.onDOMEvent(t,document.activeElement):i&&!k.isAncestor(t.target,this.container)&&this.hide())}dispose(){this.hide(),super.dispose()}}e.ContextView=f,f.BUBBLE_UP_EVENTS=["click","keydown","focus","blur"],f.BUBBLE_DOWN_EVENTS=["click"];const p=`
	:host {
		all: initial; /* 1st rule so subsequent properties are reset. */
	}

	.codicon[class*='codicon-'] {
		font: normal normal normal 16px/1 codicon;
		display: inline-block;
		text-decoration: none;
		text-rendering: auto;
		text-align: center;
		-webkit-font-smoothing: antialiased;
		-moz-osx-font-smoothing: grayscale;
		user-select: none;
		-webkit-user-select: none;
		-ms-user-select: none;
	}

	:host {
		font-family: -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "HelveticaNeue-Light", system-ui, "Ubuntu", "Droid Sans", sans-serif;
	}

	:host-context(.mac) { font-family: -apple-system, BlinkMacSystemFont, sans-serif; }
	:host-context(.mac:lang(zh-Hans)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang SC", "Hiragino Sans GB", sans-serif; }
	:host-context(.mac:lang(zh-Hant)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang TC", sans-serif; }
	:host-context(.mac:lang(ja)) { font-family: -apple-system, BlinkMacSystemFont, "Hiragino Kaku Gothic Pro", sans-serif; }
	:host-context(.mac:lang(ko)) { font-family: -apple-system, BlinkMacSystemFont, "Nanum Gothic", "Apple SD Gothic Neo", "AppleGothic", sans-serif; }

	:host-context(.windows) { font-family: "Segoe WPC", "Segoe UI", sans-serif; }
	:host-context(.windows:lang(zh-Hans)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft YaHei", sans-serif; }
	:host-context(.windows:lang(zh-Hant)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft Jhenghei", sans-serif; }
	:host-context(.windows:lang(ja)) { font-family: "Segoe WPC", "Segoe UI", "Yu Gothic UI", "Meiryo UI", sans-serif; }
	:host-context(.windows:lang(ko)) { font-family: "Segoe WPC", "Segoe UI", "Malgun Gothic", "Dotom", sans-serif; }

	:host-context(.linux) { font-family: system-ui, "Ubuntu", "Droid Sans", sans-serif; }
	:host-context(.linux:lang(zh-Hans)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans SC", "Source Han Sans CN", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(zh-Hant)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans TC", "Source Han Sans TW", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(ja)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans J", "Source Han Sans JP", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(ko)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans K", "Source Han Sans JR", "Source Han Sans", "UnDotum", "FBaekmuk Gulim", sans-serif; }
`}),define(X[303],ee([1,0,7,9,393]),function(q,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CountBadge=void 0;class y{constructor(S,m,_){this.options=m,this.styles=_,this.count=0,this.element=(0,L.append)(S,(0,L.$)(".monaco-count-badge")),this.countFormat=this.options.countFormat||"{0}",this.titleFormat=this.options.titleFormat||"",this.setCount(this.options.count||0)}setCount(S){this.count=S,this.render()}setTitleFormat(S){this.titleFormat=S,this.render()}render(){var S,m;this.element.textContent=(0,k.format)(this.countFormat,this.count),this.element.title=(0,k.format)(this.titleFormat,this.count),this.element.style.backgroundColor=(S=this.styles.badgeBackground)!==null&&S!==void 0?S:"",this.element.style.color=(m=this.styles.badgeForeground)!==null&&m!==void 0?m:"",this.styles.badgeBorder&&(this.element.style.border=`1px solid ${this.styles.badgeBorder}`)}}e.CountBadge=y}),define(X[567],ee([1,0,7,45,60,40,6,264]),function(q,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DropdownMenu=void 0;class m extends D.ActionRunner{constructor(p,s){super(),this._onDidChangeVisibility=this._register(new S.Emitter),this.onDidChangeVisibility=this._onDidChangeVisibility.event,this._element=(0,L.append)(p,(0,L.$)(".monaco-dropdown")),this._label=(0,L.append)(this._element,(0,L.$)(".dropdown-label"));let t=s.labelRenderer;t||(t=o=>(o.textContent=s.label||"",null));for(const o of[L.EventType.CLICK,L.EventType.MOUSE_DOWN,y.EventType.Tap])this._register((0,L.addDisposableListener)(this.element,o,r=>L.EventHelper.stop(r,!0)));for(const o of[L.EventType.MOUSE_DOWN,y.EventType.Tap])this._register((0,L.addDisposableListener)(this._label,o,r=>{r instanceof MouseEvent&&(r.detail>1||r.button!==0)||(this.visible?this.hide():this.show())}));this._register((0,L.addDisposableListener)(this._label,L.EventType.KEY_UP,o=>{const r=new k.StandardKeyboardEvent(o);(r.equals(3)||r.equals(10))&&(L.EventHelper.stop(o,!0),this.visible?this.hide():this.show())}));const i=t(this._label);i&&this._register(i),this._register(y.Gesture.addTarget(this._label))}get element(){return this._element}show(){this.visible||(this.visible=!0,this._onDidChangeVisibility.fire(!0))}hide(){this.visible&&(this.visible=!1,this._onDidChangeVisibility.fire(!1))}dispose(){super.dispose(),this.hide(),this.boxContainer&&(this.boxContainer.remove(),this.boxContainer=void 0),this.contents&&(this.contents.remove(),this.contents=void 0),this._label&&(this._label.remove(),this._label=void 0)}}class _ extends m{constructor(p,s){super(p,s),this._options=s,this._actions=[],this.actions=s.actions||[]}set menuOptions(p){this._menuOptions=p}get menuOptions(){return this._menuOptions}get actions(){return this._options.actionProvider?this._options.actionProvider.getActions():this._actions}set actions(p){this._actions=p}show(){super.show(),this.element.classList.add("active"),this._options.contextMenuProvider.showContextMenu({getAnchor:()=>this.element,getActions:()=>this.actions,getActionsContext:()=>this.menuOptions?this.menuOptions.context:null,getActionViewItem:(p,s)=>this.menuOptions&&this.menuOptions.actionViewItemProvider?this.menuOptions.actionViewItemProvider(p,s):void 0,getKeyBinding:p=>this.menuOptions&&this.menuOptions.getKeyBinding?this.menuOptions.getKeyBinding(p):void 0,getMenuClassName:()=>this._options.menuClassName||"",onHide:()=>this.onHide(),actionRunner:this.menuOptions?this.menuOptions.actionRunner:void 0,anchorAlignment:this.menuOptions?this.menuOptions.anchorAlignment:0,domForShadowRoot:this._options.menuAsChild?this.element:void 0,skipTelemetry:this._options.skipTelemetry})}hide(){super.hide()}onHide(){this.hide(),this.element.classList.remove("active")}}e.DropdownMenu=_}),define(X[129],ee([1,0,7,27]),function(q,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.renderIcon=e.renderLabelWithIcons=void 0;const y=new RegExp(`(\\\\)?\\$\\((${k.ThemeIcon.iconNameExpression}(?:${k.ThemeIcon.iconModifierExpression})?)\\)`,"g");function D(m){const _=new Array;let f,p=0,s=0;for(;(f=y.exec(m))!==null;){s=f.index||0,p<s&&_.push(m.substring(p,s)),p=(f.index||0)+f[0].length;const[,t,i]=f;_.push(t?`$(${i})`:S({id:i}))}return p<m.length&&_.push(m.substring(p)),_}e.renderLabelWithIcons=D;function S(m){const _=L.$("span");return _.classList.add(...k.ThemeIcon.asClassNameArray(m)),_}e.renderIcon=S}),define(X[304],ee([1,0,7,129,46]),function(q,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HighlightedLabel=void 0;class D{constructor(m,_){var f;this.text="",this.title="",this.highlights=[],this.didEverRender=!1,this.supportIcons=(f=_?.supportIcons)!==null&&f!==void 0?f:!1,this.domNode=L.append(m,L.$("span.monaco-highlighted-label"))}get element(){return this.domNode}set(m,_=[],f="",p){m||(m=""),p&&(m=D.escapeNewLines(m,_)),!(this.didEverRender&&this.text===m&&this.title===f&&y.equals(this.highlights,_))&&(this.text=m,this.title=f,this.highlights=_,this.render())}render(){const m=[];let _=0;for(const f of this.highlights){if(f.end===f.start)continue;if(_<f.start){const t=this.text.substring(_,f.start);this.supportIcons?m.push(...(0,k.renderLabelWithIcons)(t)):m.push(t),_=f.start}const p=this.text.substring(_,f.end),s=L.$("span.highlight",void 0,...this.supportIcons?(0,k.renderLabelWithIcons)(p):[p]);f.extraClasses&&s.classList.add(...f.extraClasses),m.push(s),_=f.end}if(_<this.text.length){const f=this.text.substring(_);this.supportIcons?m.push(...(0,k.renderLabelWithIcons)(f)):m.push(f)}L.reset(this.domNode,...m),this.title?this.domNode.title=this.title:this.domNode.removeAttribute("title"),this.didEverRender=!0}static escapeNewLines(m,_){let f=0,p=0;return m.replace(/\r\n|\r|\n/g,(s,t)=>{p=s===`\r
`?-1:0,t+=f;for(const i of _)i.end<=t||(i.start>=t&&(i.start+=p),i.end>=t&&(i.end+=p));return f+=p,"\u23CE"})}}e.HighlightedLabel=D}),define(X[222],ee([1,0,7,216,46,553,397]),function(q,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.KeybindingLabel=e.unthemedKeybindingLabelOptions=void 0;const S=L.$;e.unthemedKeybindingLabelOptions={keybindingLabelBackground:void 0,keybindingLabelForeground:void 0,keybindingLabelBorder:void 0,keybindingLabelBottomBorder:void 0,keybindingLabelShadow:void 0};class m{constructor(f,p,s){this.os=p,this.keyElements=new Set,this.options=s||Object.create(null);const t=this.options.keybindingLabelForeground;this.domNode=L.append(f,S(".monaco-keybinding")),t&&(this.domNode.style.color=t),this.didEverRender=!1,f.appendChild(this.domNode)}get element(){return this.domNode}set(f,p){this.didEverRender&&this.keybinding===f&&m.areSame(this.matches,p)||(this.keybinding=f,this.matches=p,this.render())}render(){var f;if(this.clear(),this.keybinding){const p=this.keybinding.getChords();p[0]&&this.renderChord(this.domNode,p[0],this.matches?this.matches.firstPart:null);for(let t=1;t<p.length;t++)L.append(this.domNode,S("span.monaco-keybinding-key-chord-separator",void 0," ")),this.renderChord(this.domNode,p[t],this.matches?this.matches.chordPart:null);const s=(f=this.options.disableTitle)!==null&&f!==void 0&&f?void 0:this.keybinding.getAriaLabel()||void 0;s!==void 0?this.domNode.title=s:this.domNode.removeAttribute("title")}else this.options&&this.options.renderUnboundKeybindings&&this.renderUnbound(this.domNode);this.didEverRender=!0}clear(){L.clearNode(this.domNode),this.keyElements.clear()}renderChord(f,p,s){const t=k.UILabelProvider.modifierLabels[this.os];p.ctrlKey&&this.renderKey(f,t.ctrlKey,!!s?.ctrlKey,t.separator),p.shiftKey&&this.renderKey(f,t.shiftKey,!!s?.shiftKey,t.separator),p.altKey&&this.renderKey(f,t.altKey,!!s?.altKey,t.separator),p.metaKey&&this.renderKey(f,t.metaKey,!!s?.metaKey,t.separator);const i=p.keyLabel;i&&this.renderKey(f,i,!!s?.keyCode,"")}renderKey(f,p,s,t){L.append(f,this.createKeyElement(p,s?".highlight":"")),t&&L.append(f,S("span.monaco-keybinding-key-separator",void 0,t))}renderUnbound(f){L.append(f,this.createKeyElement((0,D.localize)(0,null)))}createKeyElement(f,p=""){const s=S("span.monaco-keybinding-key"+p,void 0,f);return this.keyElements.add(s),this.options.keybindingLabelBackground&&(s.style.backgroundColor=this.options.keybindingLabelBackground),this.options.keybindingLabelBorder&&(s.style.borderColor=this.options.keybindingLabelBorder),this.options.keybindingLabelBottomBorder&&(s.style.borderBottomColor=this.options.keybindingLabelBottomBorder),this.options.keybindingLabelShadow&&(s.style.boxShadow=`inset 0 -1px 0 ${this.options.keybindingLabelShadow}`),s}static areSame(f,p){return f===p||!f&&!p?!0:!!f&&!!p&&(0,y.equals)(f.firstPart,p.firstPart)&&(0,y.equals)(f.chordPart,p.chordPart)}}e.KeybindingLabel=m}),define(X[568],ee([1,0,7]),function(q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RowCache=void 0;function k(D){var S;try{(S=D.parentElement)===null||S===void 0||S.removeChild(D)}catch{}}class y{constructor(S){this.renderers=S,this.cache=new Map,this.transactionNodesPendingRemoval=new Set,this.inTransaction=!1}alloc(S){let m=this.getTemplateCache(S).pop(),_=!1;if(m)_=this.transactionNodesPendingRemoval.has(m.domNode),_&&this.transactionNodesPendingRemoval.delete(m.domNode);else{const f=(0,L.$)(".monaco-list-row"),s=this.getRenderer(S).renderTemplate(f);m={domNode:f,templateId:S,templateData:s}}return{row:m,isReusingConnectedDomNode:_}}release(S){S&&this.releaseRow(S)}transact(S){if(this.inTransaction)throw new Error("Already in transaction");this.inTransaction=!0;try{S()}finally{for(const m of this.transactionNodesPendingRemoval)this.doRemoveNode(m);this.transactionNodesPendingRemoval.clear(),this.inTransaction=!1}}releaseRow(S){const{domNode:m,templateId:_}=S;m&&(this.inTransaction?this.transactionNodesPendingRemoval.add(m):this.doRemoveNode(m)),this.getTemplateCache(_).push(S)}doRemoveNode(S){S.classList.remove("scrolling"),k(S)}getTemplateCache(S){let m=this.cache.get(S);return m||(m=[],this.cache.set(S,m)),m}dispose(){this.cache.forEach((S,m)=>{for(const _ of S)this.getRenderer(m).disposeTemplate(_.templateData),_.templateData=null}),this.cache.clear(),this.transactionNodesPendingRemoval.clear()}getRenderer(S){const m=this.renderers.get(S);if(!m)throw new Error(`No renderer found for ${S}`);return m}}e.RowCache=y}),define(X[569],ee([1,0,7,14,2,399]),function(q,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ProgressBar=void 0;const D="done",S="active",m="infinite",_="infinite-long-running",f="discrete";class p extends y.Disposable{constructor(t,i){super(),this.workedVal=0,this.showDelayedScheduler=this._register(new k.RunOnceScheduler(()=>(0,L.show)(this.element),0)),this.longRunningScheduler=this._register(new k.RunOnceScheduler(()=>this.infiniteLongRunning(),p.LONG_RUNNING_INFINITE_THRESHOLD)),this.create(t,i)}create(t,i){this.element=document.createElement("div"),this.element.classList.add("monaco-progress-container"),this.element.setAttribute("role","progressbar"),this.element.setAttribute("aria-valuemin","0"),t.appendChild(this.element),this.bit=document.createElement("div"),this.bit.classList.add("progress-bit"),this.bit.style.backgroundColor=i?.progressBarBackground||"#0E70C0",this.element.appendChild(this.bit)}off(){this.bit.style.width="inherit",this.bit.style.opacity="1",this.element.classList.remove(S,m,_,f),this.workedVal=0,this.totalWork=void 0,this.longRunningScheduler.cancel()}stop(){return this.doDone(!1)}doDone(t){return this.element.classList.add(D),this.element.classList.contains(m)?(this.bit.style.opacity="0",t?setTimeout(()=>this.off(),200):this.off()):(this.bit.style.width="inherit",t?setTimeout(()=>this.off(),200):this.off()),this}infinite(){return this.bit.style.width="2%",this.bit.style.opacity="1",this.element.classList.remove(f,D,_),this.element.classList.add(S,m),this.longRunningScheduler.schedule(),this}infiniteLongRunning(){this.element.classList.add(_)}getContainer(){return this.element}}e.ProgressBar=p,p.LONG_RUNNING_INFINITE_THRESHOLD=1e4}),define(X[130],ee([1,0,7,80,60,14,104,6,2,17,400]),function(q,e,L,k,y,D,S,m,_,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Sash=e.OrthogonalEdge=void 0;const p=!1;var s;(function(l){l.North="north",l.South="south",l.East="east",l.West="west"})(s||(e.OrthogonalEdge=s={}));let t=4;const i=new m.Emitter;let o=300;const r=new m.Emitter;class d{constructor(){this.disposables=new _.DisposableStore}get onPointerMove(){return this.disposables.add(new k.DomEmitter(window,"mousemove")).event}get onPointerUp(){return this.disposables.add(new k.DomEmitter(window,"mouseup")).event}dispose(){this.disposables.dispose()}}Ne([S.memoize],d.prototype,"onPointerMove",null),Ne([S.memoize],d.prototype,"onPointerUp",null);class h{get onPointerMove(){return this.disposables.add(new k.DomEmitter(this.el,y.EventType.Change)).event}get onPointerUp(){return this.disposables.add(new k.DomEmitter(this.el,y.EventType.End)).event}constructor(u){this.el=u,this.disposables=new _.DisposableStore}dispose(){this.disposables.dispose()}}Ne([S.memoize],h.prototype,"onPointerMove",null),Ne([S.memoize],h.prototype,"onPointerUp",null);class n{get onPointerMove(){return this.factory.onPointerMove}get onPointerUp(){return this.factory.onPointerUp}constructor(u){this.factory=u}dispose(){}}Ne([S.memoize],n.prototype,"onPointerMove",null),Ne([S.memoize],n.prototype,"onPointerUp",null);const c="pointer-events-disabled";class a extends _.Disposable{get state(){return this._state}get orthogonalStartSash(){return this._orthogonalStartSash}get orthogonalEndSash(){return this._orthogonalEndSash}set state(u){this._state!==u&&(this.el.classList.toggle("disabled",u===0),this.el.classList.toggle("minimum",u===1),this.el.classList.toggle("maximum",u===2),this._state=u,this.onDidEnablementChange.fire(u))}set orthogonalStartSash(u){if(this._orthogonalStartSash!==u){if(this.orthogonalStartDragHandleDisposables.clear(),this.orthogonalStartSashDisposables.clear(),u){const C=g=>{this.orthogonalStartDragHandleDisposables.clear(),g!==0&&(this._orthogonalStartDragHandle=(0,L.append)(this.el,(0,L.$)(".orthogonal-drag-handle.start")),this.orthogonalStartDragHandleDisposables.add((0,_.toDisposable)(()=>this._orthogonalStartDragHandle.remove())),this.orthogonalStartDragHandleDisposables.add(new k.DomEmitter(this._orthogonalStartDragHandle,"mouseenter")).event(()=>a.onMouseEnter(u),void 0,this.orthogonalStartDragHandleDisposables),this.orthogonalStartDragHandleDisposables.add(new k.DomEmitter(this._orthogonalStartDragHandle,"mouseleave")).event(()=>a.onMouseLeave(u),void 0,this.orthogonalStartDragHandleDisposables))};this.orthogonalStartSashDisposables.add(u.onDidEnablementChange.event(C,this)),C(u.state)}this._orthogonalStartSash=u}}set orthogonalEndSash(u){if(this._orthogonalEndSash!==u){if(this.orthogonalEndDragHandleDisposables.clear(),this.orthogonalEndSashDisposables.clear(),u){const C=g=>{this.orthogonalEndDragHandleDisposables.clear(),g!==0&&(this._orthogonalEndDragHandle=(0,L.append)(this.el,(0,L.$)(".orthogonal-drag-handle.end")),this.orthogonalEndDragHandleDisposables.add((0,_.toDisposable)(()=>this._orthogonalEndDragHandle.remove())),this.orthogonalEndDragHandleDisposables.add(new k.DomEmitter(this._orthogonalEndDragHandle,"mouseenter")).event(()=>a.onMouseEnter(u),void 0,this.orthogonalEndDragHandleDisposables),this.orthogonalEndDragHandleDisposables.add(new k.DomEmitter(this._orthogonalEndDragHandle,"mouseleave")).event(()=>a.onMouseLeave(u),void 0,this.orthogonalEndDragHandleDisposables))};this.orthogonalEndSashDisposables.add(u.onDidEnablementChange.event(C,this)),C(u.state)}this._orthogonalEndSash=u}}constructor(u,C,g){super(),this.hoverDelay=o,this.hoverDelayer=this._register(new D.Delayer(this.hoverDelay)),this._state=3,this.onDidEnablementChange=this._register(new m.Emitter),this._onDidStart=this._register(new m.Emitter),this._onDidChange=this._register(new m.Emitter),this._onDidReset=this._register(new m.Emitter),this._onDidEnd=this._register(new m.Emitter),this.orthogonalStartSashDisposables=this._register(new _.DisposableStore),this.orthogonalStartDragHandleDisposables=this._register(new _.DisposableStore),this.orthogonalEndSashDisposables=this._register(new _.DisposableStore),this.orthogonalEndDragHandleDisposables=this._register(new _.DisposableStore),this.onDidStart=this._onDidStart.event,this.onDidChange=this._onDidChange.event,this.onDidReset=this._onDidReset.event,this.onDidEnd=this._onDidEnd.event,this.linkedSash=void 0,this.el=(0,L.append)(u,(0,L.$)(".monaco-sash")),g.orthogonalEdge&&this.el.classList.add(`orthogonal-edge-${g.orthogonalEdge}`),f.isMacintosh&&this.el.classList.add("mac");const v=this._register(new k.DomEmitter(this.el,"mousedown")).event;this._register(v(A=>this.onPointerStart(A,new d),this));const b=this._register(new k.DomEmitter(this.el,"dblclick")).event;this._register(b(this.onPointerDoublePress,this));const w=this._register(new k.DomEmitter(this.el,"mouseenter")).event;this._register(w(()=>a.onMouseEnter(this)));const E=this._register(new k.DomEmitter(this.el,"mouseleave")).event;this._register(E(()=>a.onMouseLeave(this))),this._register(y.Gesture.addTarget(this.el));const I=this._register(new k.DomEmitter(this.el,y.EventType.Start)).event;this._register(I(A=>this.onPointerStart(A,new h(this.el)),this));const T=this._register(new k.DomEmitter(this.el,y.EventType.Tap)).event;let P;this._register(T(A=>{if(P){clearTimeout(P),P=void 0,this.onPointerDoublePress(A);return}clearTimeout(P),P=setTimeout(()=>P=void 0,250)},this)),typeof g.size=="number"?(this.size=g.size,g.orientation===0?this.el.style.width=`${this.size}px`:this.el.style.height=`${this.size}px`):(this.size=t,this._register(i.event(A=>{this.size=A,this.layout()}))),this._register(r.event(A=>this.hoverDelay=A)),this.layoutProvider=C,this.orthogonalStartSash=g.orthogonalStartSash,this.orthogonalEndSash=g.orthogonalEndSash,this.orientation=g.orientation||0,this.orientation===1?(this.el.classList.add("horizontal"),this.el.classList.remove("vertical")):(this.el.classList.remove("horizontal"),this.el.classList.add("vertical")),this.el.classList.toggle("debug",p),this.layout()}onPointerStart(u,C){L.EventHelper.stop(u);let g=!1;if(!u.__orthogonalSashEvent){const R=this.getOrthogonalSash(u);R&&(g=!0,u.__orthogonalSashEvent=!0,R.onPointerStart(u,new n(C)))}if(this.linkedSash&&!u.__linkedSashEvent&&(u.__linkedSashEvent=!0,this.linkedSash.onPointerStart(u,new n(C))),!this.state)return;const v=document.getElementsByTagName("iframe");for(const R of v)R.classList.add(c);const b=u.pageX,w=u.pageY,E=u.altKey,I={startX:b,currentX:b,startY:w,currentY:w,altKey:E};this.el.classList.add("active"),this._onDidStart.fire(I);const T=(0,L.createStyleSheet)(this.el),P=()=>{let R="";g?R="all-scroll":this.orientation===1?this.state===1?R="s-resize":this.state===2?R="n-resize":R=f.isMacintosh?"row-resize":"ns-resize":this.state===1?R="e-resize":this.state===2?R="w-resize":R=f.isMacintosh?"col-resize":"ew-resize",T.textContent=`* { cursor: ${R} !important; }`},A=new _.DisposableStore;P(),g||this.onDidEnablementChange.event(P,null,A);const M=R=>{L.EventHelper.stop(R,!1);const F={startX:b,currentX:R.pageX,startY:w,currentY:R.pageY,altKey:E};this._onDidChange.fire(F)},N=R=>{L.EventHelper.stop(R,!1),this.el.removeChild(T),this.el.classList.remove("active"),this._onDidEnd.fire(),A.dispose();for(const F of v)F.classList.remove(c)};C.onPointerMove(M,null,A),C.onPointerUp(N,null,A),A.add(C)}onPointerDoublePress(u){const C=this.getOrthogonalSash(u);C&&C._onDidReset.fire(),this.linkedSash&&this.linkedSash._onDidReset.fire(),this._onDidReset.fire()}static onMouseEnter(u,C=!1){u.el.classList.contains("active")?(u.hoverDelayer.cancel(),u.el.classList.add("hover")):u.hoverDelayer.trigger(()=>u.el.classList.add("hover"),u.hoverDelay).then(void 0,()=>{}),!C&&u.linkedSash&&a.onMouseEnter(u.linkedSash,!0)}static onMouseLeave(u,C=!1){u.hoverDelayer.cancel(),u.el.classList.remove("hover"),!C&&u.linkedSash&&a.onMouseLeave(u.linkedSash,!0)}clearSashHoverState(){a.onMouseLeave(this)}layout(){if(this.orientation===0){const u=this.layoutProvider;this.el.style.left=u.getVerticalSashLeft(this)-this.size/2+"px",u.getVerticalSashTop&&(this.el.style.top=u.getVerticalSashTop(this)+"px"),u.getVerticalSashHeight&&(this.el.style.height=u.getVerticalSashHeight(this)+"px")}else{const u=this.layoutProvider;this.el.style.top=u.getHorizontalSashTop(this)-this.size/2+"px",u.getHorizontalSashLeft&&(this.el.style.left=u.getHorizontalSashLeft(this)+"px"),u.getHorizontalSashWidth&&(this.el.style.width=u.getHorizontalSashWidth(this)+"px")}}getOrthogonalSash(u){var C;const g=(C=u.initialTarget)!==null&&C!==void 0?C:u.target;if(!(!g||!(g instanceof HTMLElement))&&g.classList.contains("orthogonal-drag-handle"))return g.classList.contains("start")?this.orthogonalStartSash:this.orthogonalEndSash}dispose(){super.dispose(),this.el.remove()}}e.Sash=a}),define(X[223],ee([1,0,7,130,6,2]),function(q,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ResizableHTMLElement=void 0;class S{constructor(){this._onDidWillResize=new y.Emitter,this.onDidWillResize=this._onDidWillResize.event,this._onDidResize=new y.Emitter,this.onDidResize=this._onDidResize.event,this._sashListener=new D.DisposableStore,this._size=new L.Dimension(0,0),this._minSize=new L.Dimension(0,0),this._maxSize=new L.Dimension(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER),this.domNode=document.createElement("div"),this._eastSash=new k.Sash(this.domNode,{getVerticalSashLeft:()=>this._size.width},{orientation:0}),this._westSash=new k.Sash(this.domNode,{getVerticalSashLeft:()=>0},{orientation:0}),this._northSash=new k.Sash(this.domNode,{getHorizontalSashTop:()=>0},{orientation:1,orthogonalEdge:k.OrthogonalEdge.North}),this._southSash=new k.Sash(this.domNode,{getHorizontalSashTop:()=>this._size.height},{orientation:1,orthogonalEdge:k.OrthogonalEdge.South}),this._northSash.orthogonalStartSash=this._westSash,this._northSash.orthogonalEndSash=this._eastSash,this._southSash.orthogonalStartSash=this._westSash,this._southSash.orthogonalEndSash=this._eastSash;let _,f=0,p=0;this._sashListener.add(y.Event.any(this._northSash.onDidStart,this._eastSash.onDidStart,this._southSash.onDidStart,this._westSash.onDidStart)(()=>{_===void 0&&(this._onDidWillResize.fire(),_=this._size,f=0,p=0)})),this._sashListener.add(y.Event.any(this._northSash.onDidEnd,this._eastSash.onDidEnd,this._southSash.onDidEnd,this._westSash.onDidEnd)(()=>{_!==void 0&&(_=void 0,f=0,p=0,this._onDidResize.fire({dimension:this._size,done:!0}))})),this._sashListener.add(this._eastSash.onDidChange(s=>{_&&(p=s.currentX-s.startX,this.layout(_.height+f,_.width+p),this._onDidResize.fire({dimension:this._size,done:!1,east:!0}))})),this._sashListener.add(this._westSash.onDidChange(s=>{_&&(p=-(s.currentX-s.startX),this.layout(_.height+f,_.width+p),this._onDidResize.fire({dimension:this._size,done:!1,west:!0}))})),this._sashListener.add(this._northSash.onDidChange(s=>{_&&(f=-(s.currentY-s.startY),this.layout(_.height+f,_.width+p),this._onDidResize.fire({dimension:this._size,done:!1,north:!0}))})),this._sashListener.add(this._southSash.onDidChange(s=>{_&&(f=s.currentY-s.startY,this.layout(_.height+f,_.width+p),this._onDidResize.fire({dimension:this._size,done:!1,south:!0}))})),this._sashListener.add(y.Event.any(this._eastSash.onDidReset,this._westSash.onDidReset)(s=>{this._preferredSize&&(this.layout(this._size.height,this._preferredSize.width),this._onDidResize.fire({dimension:this._size,done:!0}))})),this._sashListener.add(y.Event.any(this._northSash.onDidReset,this._southSash.onDidReset)(s=>{this._preferredSize&&(this.layout(this._preferredSize.height,this._size.width),this._onDidResize.fire({dimension:this._size,done:!0}))}))}dispose(){this._northSash.dispose(),this._southSash.dispose(),this._eastSash.dispose(),this._westSash.dispose(),this._sashListener.dispose(),this._onDidResize.dispose(),this._onDidWillResize.dispose(),this.domNode.remove()}enableSashes(_,f,p,s){this._northSash.state=_?3:0,this._eastSash.state=f?3:0,this._southSash.state=p?3:0,this._westSash.state=s?3:0}layout(_=this.size.height,f=this.size.width){const{height:p,width:s}=this._minSize,{height:t,width:i}=this._maxSize;_=Math.max(p,Math.min(t,_)),f=Math.max(s,Math.min(i,f));const o=new L.Dimension(f,_);L.Dimension.equals(o,this._size)||(this.domNode.style.height=_+"px",this.domNode.style.width=f+"px",this._size=o,this._northSash.layout(),this._eastSash.layout(),this._southSash.layout(),this._westSash.layout())}clearSashHoverState(){this._eastSash.clearSashHoverState(),this._westSash.clearSashHoverState(),this._northSash.clearSashHoverState(),this._southSash.clearSashHoverState()}get size(){return this._size}set maxSize(_){this._maxSize=_}get maxSize(){return this._maxSize}set minSize(_){this._minSize=_}get minSize(){return this._minSize}set preferredSize(_){this._preferredSize=_}get preferredSize(){return this._preferredSize}}e.ResizableHTMLElement=S}),define(X[570],ee([1,0,7,60,16,6,2,17]),function(q,e,L,k,y,D,S,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelectBoxNative=void 0;class _ extends S.Disposable{constructor(p,s,t,i){super(),this.selected=0,this.selectBoxOptions=i||Object.create(null),this.options=[],this.selectElement=document.createElement("select"),this.selectElement.className="monaco-select-box",typeof this.selectBoxOptions.ariaLabel=="string"&&this.selectElement.setAttribute("aria-label",this.selectBoxOptions.ariaLabel),typeof this.selectBoxOptions.ariaDescription=="string"&&this.selectElement.setAttribute("aria-description",this.selectBoxOptions.ariaDescription),this._onDidSelect=this._register(new D.Emitter),this.styles=t,this.registerListeners(),this.setOptions(p,s)}registerListeners(){this._register(k.Gesture.addTarget(this.selectElement)),[k.EventType.Tap].forEach(p=>{this._register(L.addDisposableListener(this.selectElement,p,s=>{this.selectElement.focus()}))}),this._register(L.addStandardDisposableListener(this.selectElement,"click",p=>{L.EventHelper.stop(p,!0)})),this._register(L.addStandardDisposableListener(this.selectElement,"change",p=>{this.selectElement.title=p.target.value,this._onDidSelect.fire({index:p.target.selectedIndex,selected:p.target.value})})),this._register(L.addStandardDisposableListener(this.selectElement,"keydown",p=>{let s=!1;m.isMacintosh?(p.keyCode===18||p.keyCode===16||p.keyCode===10)&&(s=!0):(p.keyCode===18&&p.altKey||p.keyCode===10||p.keyCode===3)&&(s=!0),s&&p.stopPropagation()}))}get onDidSelect(){return this._onDidSelect.event}setOptions(p,s){(!this.options||!y.equals(this.options,p))&&(this.options=p,this.selectElement.options.length=0,this.options.forEach((t,i)=>{this.selectElement.add(this.createOption(t.text,i,t.isDisabled))})),s!==void 0&&this.select(s)}select(p){this.options.length===0?this.selected=0:p>=0&&p<this.options.length?this.selected=p:p>this.options.length-1?this.select(this.options.length-1):this.selected<0&&(this.selected=0),this.selectElement.selectedIndex=this.selected,this.selected<this.options.length&&typeof this.options[this.selected].text=="string"?this.selectElement.title=this.options[this.selected].text:this.selectElement.title=""}focus(){this.selectElement&&(this.selectElement.tabIndex=0,this.selectElement.focus())}blur(){this.selectElement&&(this.selectElement.tabIndex=-1,this.selectElement.blur())}setFocusable(p){this.selectElement.tabIndex=p?0:-1}render(p){p.classList.add("select-container"),p.appendChild(this.selectElement),this.setOptions(this.options,this.selected),this.applyStyles()}applyStyles(){var p,s,t;this.selectElement&&(this.selectElement.style.backgroundColor=(p=this.styles.selectBackground)!==null&&p!==void 0?p:"",this.selectElement.style.color=(s=this.styles.selectForeground)!==null&&s!==void 0?s:"",this.selectElement.style.borderColor=(t=this.styles.selectBorder)!==null&&t!==void 0?t:"")}createOption(p,s,t){const i=document.createElement("option");return i.value=p,i.text=p,i.disabled=!!t,i}}e.SelectBoxNative=_}),define(X[82],ee([1,0,7,45,73,60,2]),function(q,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Widget=void 0;class m extends S.Disposable{onclick(f,p){this._register(L.addDisposableListener(f,L.EventType.CLICK,s=>p(new y.StandardMouseEvent(s))))}onmousedown(f,p){this._register(L.addDisposableListener(f,L.EventType.MOUSE_DOWN,s=>p(new y.StandardMouseEvent(s))))}onmouseover(f,p){this._register(L.addDisposableListener(f,L.EventType.MOUSE_OVER,s=>p(new y.StandardMouseEvent(s))))}onmouseleave(f,p){this._register(L.addDisposableListener(f,L.EventType.MOUSE_LEAVE,s=>p(new y.StandardMouseEvent(s))))}onkeydown(f,p){this._register(L.addDisposableListener(f,L.EventType.KEY_DOWN,s=>p(new k.StandardKeyboardEvent(s))))}onkeyup(f,p){this._register(L.addDisposableListener(f,L.EventType.KEY_UP,s=>p(new k.StandardKeyboardEvent(s))))}oninput(f,p){this._register(L.addDisposableListener(f,L.EventType.INPUT,p))}onblur(f,p){this._register(L.addDisposableListener(f,L.EventType.BLUR,p))}onfocus(f,p){this._register(L.addDisposableListener(f,L.EventType.FOCUS,p))}ignoreGesture(f){return D.Gesture.ignoreTarget(f)}}e.Widget=m}),define(X[224],ee([1,0,151,82,14,27,7]),function(q,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ScrollbarArrow=e.ARROW_IMG_SIZE=void 0,e.ARROW_IMG_SIZE=11;class m extends k.Widget{constructor(f){super(),this._onActivate=f.onActivate,this.bgDomNode=document.createElement("div"),this.bgDomNode.className="arrow-background",this.bgDomNode.style.position="absolute",this.bgDomNode.style.width=f.bgWidth+"px",this.bgDomNode.style.height=f.bgHeight+"px",typeof f.top<"u"&&(this.bgDomNode.style.top="0px"),typeof f.left<"u"&&(this.bgDomNode.style.left="0px"),typeof f.bottom<"u"&&(this.bgDomNode.style.bottom="0px"),typeof f.right<"u"&&(this.bgDomNode.style.right="0px"),this.domNode=document.createElement("div"),this.domNode.className=f.className,this.domNode.classList.add(...D.ThemeIcon.asClassNameArray(f.icon)),this.domNode.style.position="absolute",this.domNode.style.width=e.ARROW_IMG_SIZE+"px",this.domNode.style.height=e.ARROW_IMG_SIZE+"px",typeof f.top<"u"&&(this.domNode.style.top=f.top+"px"),typeof f.left<"u"&&(this.domNode.style.left=f.left+"px"),typeof f.bottom<"u"&&(this.domNode.style.bottom=f.bottom+"px"),typeof f.right<"u"&&(this.domNode.style.right=f.right+"px"),this._pointerMoveMonitor=this._register(new L.GlobalPointerMoveMonitor),this._register(S.addStandardDisposableListener(this.bgDomNode,S.EventType.POINTER_DOWN,p=>this._arrowPointerDown(p))),this._register(S.addStandardDisposableListener(this.domNode,S.EventType.POINTER_DOWN,p=>this._arrowPointerDown(p))),this._pointerdownRepeatTimer=this._register(new y.IntervalTimer),this._pointerdownScheduleRepeatTimer=this._register(new y.TimeoutTimer)}_arrowPointerDown(f){if(!f.target||!(f.target instanceof Element))return;const p=()=>{this._pointerdownRepeatTimer.cancelAndSet(()=>this._onActivate(),1e3/24)};this._onActivate(),this._pointerdownRepeatTimer.cancel(),this._pointerdownScheduleRepeatTimer.cancelAndSet(p,200),this._pointerMoveMonitor.startMonitoring(f.target,f.pointerId,f.buttons,s=>{},()=>{this._pointerdownRepeatTimer.cancel(),this._pointerdownScheduleRepeatTimer.cancel()}),f.preventDefault()}}e.ScrollbarArrow=m}),define(X[305],ee([1,0,7,34,151,224,562,82,17]),function(q,e,L,k,y,D,S,m,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractScrollbar=void 0;const f=140;class p extends m.Widget{constructor(t){super(),this._lazyRender=t.lazyRender,this._host=t.host,this._scrollable=t.scrollable,this._scrollByPage=t.scrollByPage,this._scrollbarState=t.scrollbarState,this._visibilityController=this._register(new S.ScrollbarVisibilityController(t.visibility,"visible scrollbar "+t.extraScrollbarClassName,"invisible scrollbar "+t.extraScrollbarClassName)),this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._pointerMoveMonitor=this._register(new y.GlobalPointerMoveMonitor),this._shouldRender=!0,this.domNode=(0,k.createFastDomNode)(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this._visibilityController.setDomNode(this.domNode),this.domNode.setPosition("absolute"),this._register(L.addDisposableListener(this.domNode.domNode,L.EventType.POINTER_DOWN,i=>this._domNodePointerDown(i)))}_createArrow(t){const i=this._register(new D.ScrollbarArrow(t));this.domNode.domNode.appendChild(i.bgDomNode),this.domNode.domNode.appendChild(i.domNode)}_createSlider(t,i,o,r){this.slider=(0,k.createFastDomNode)(document.createElement("div")),this.slider.setClassName("slider"),this.slider.setPosition("absolute"),this.slider.setTop(t),this.slider.setLeft(i),typeof o=="number"&&this.slider.setWidth(o),typeof r=="number"&&this.slider.setHeight(r),this.slider.setLayerHinting(!0),this.slider.setContain("strict"),this.domNode.domNode.appendChild(this.slider.domNode),this._register(L.addDisposableListener(this.slider.domNode,L.EventType.POINTER_DOWN,d=>{d.button===0&&(d.preventDefault(),this._sliderPointerDown(d))})),this.onclick(this.slider.domNode,d=>{d.leftButton&&d.stopPropagation()})}_onElementSize(t){return this._scrollbarState.setVisibleSize(t)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollSize(t){return this._scrollbarState.setScrollSize(t)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollPosition(t){return this._scrollbarState.setScrollPosition(t)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}beginReveal(){this._visibilityController.setShouldBeVisible(!0)}beginHide(){this._visibilityController.setShouldBeVisible(!1)}render(){this._shouldRender&&(this._shouldRender=!1,this._renderDomNode(this._scrollbarState.getRectangleLargeSize(),this._scrollbarState.getRectangleSmallSize()),this._updateSlider(this._scrollbarState.getSliderSize(),this._scrollbarState.getArrowSize()+this._scrollbarState.getSliderPosition()))}_domNodePointerDown(t){t.target===this.domNode.domNode&&this._onPointerDown(t)}delegatePointerDown(t){const i=this.domNode.domNode.getClientRects()[0].top,o=i+this._scrollbarState.getSliderPosition(),r=i+this._scrollbarState.getSliderPosition()+this._scrollbarState.getSliderSize(),d=this._sliderPointerPosition(t);o<=d&&d<=r?t.button===0&&(t.preventDefault(),this._sliderPointerDown(t)):this._onPointerDown(t)}_onPointerDown(t){let i,o;if(t.target===this.domNode.domNode&&typeof t.offsetX=="number"&&typeof t.offsetY=="number")i=t.offsetX,o=t.offsetY;else{const d=L.getDomNodePagePosition(this.domNode.domNode);i=t.pageX-d.left,o=t.pageY-d.top}const r=this._pointerDownRelativePosition(i,o);this._setDesiredScrollPositionNow(this._scrollByPage?this._scrollbarState.getDesiredScrollPositionFromOffsetPaged(r):this._scrollbarState.getDesiredScrollPositionFromOffset(r)),t.button===0&&(t.preventDefault(),this._sliderPointerDown(t))}_sliderPointerDown(t){if(!t.target||!(t.target instanceof Element))return;const i=this._sliderPointerPosition(t),o=this._sliderOrthogonalPointerPosition(t),r=this._scrollbarState.clone();this.slider.toggleClassName("active",!0),this._pointerMoveMonitor.startMonitoring(t.target,t.pointerId,t.buttons,d=>{const h=this._sliderOrthogonalPointerPosition(d),n=Math.abs(h-o);if(_.isWindows&&n>f){this._setDesiredScrollPositionNow(r.getScrollPosition());return}const a=this._sliderPointerPosition(d)-i;this._setDesiredScrollPositionNow(r.getDesiredScrollPositionFromDelta(a))},()=>{this.slider.toggleClassName("active",!1),this._host.onDragEnd()}),this._host.onDragStart()}_setDesiredScrollPositionNow(t){const i={};this.writeScrollPosition(i,t),this._scrollable.setScrollPositionNow(i)}updateScrollbarSize(t){this._updateScrollbarSize(t),this._scrollbarState.setScrollbarSize(t),this._shouldRender=!0,this._lazyRender||this.render()}isNeeded(){return this._scrollbarState.isNeeded()}}e.AbstractScrollbar=p}),define(X[571],ee([1,0,73,305,224,259,25]),function(q,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HorizontalScrollbar=void 0;class m extends k.AbstractScrollbar{constructor(f,p,s){const t=f.getScrollDimensions(),i=f.getCurrentScrollPosition();if(super({lazyRender:p.lazyRender,host:s,scrollbarState:new D.ScrollbarState(p.horizontalHasArrows?p.arrowSize:0,p.horizontal===2?0:p.horizontalScrollbarSize,p.vertical===2?0:p.verticalScrollbarSize,t.width,t.scrollWidth,i.scrollLeft),visibility:p.horizontal,extraScrollbarClassName:"horizontal",scrollable:f,scrollByPage:p.scrollByPage}),p.horizontalHasArrows){const o=(p.arrowSize-y.ARROW_IMG_SIZE)/2,r=(p.horizontalScrollbarSize-y.ARROW_IMG_SIZE)/2;this._createArrow({className:"scra",icon:S.Codicon.scrollbarButtonLeft,top:r,left:o,bottom:void 0,right:void 0,bgWidth:p.arrowSize,bgHeight:p.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new L.StandardWheelEvent(null,1,0))}),this._createArrow({className:"scra",icon:S.Codicon.scrollbarButtonRight,top:r,left:void 0,bottom:void 0,right:o,bgWidth:p.arrowSize,bgHeight:p.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new L.StandardWheelEvent(null,-1,0))})}this._createSlider(Math.floor((p.horizontalScrollbarSize-p.horizontalSliderSize)/2),0,void 0,p.horizontalSliderSize)}_updateSlider(f,p){this.slider.setWidth(f),this.slider.setLeft(p)}_renderDomNode(f,p){this.domNode.setWidth(f),this.domNode.setHeight(p),this.domNode.setLeft(0),this.domNode.setBottom(0)}onDidScroll(f){return this._shouldRender=this._onElementScrollSize(f.scrollWidth)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(f.scrollLeft)||this._shouldRender,this._shouldRender=this._onElementSize(f.width)||this._shouldRender,this._shouldRender}_pointerDownRelativePosition(f,p){return f}_sliderPointerPosition(f){return f.pageX}_sliderOrthogonalPointerPosition(f){return f.pageY}_updateScrollbarSize(f){this.slider.setHeight(f)}writeScrollPosition(f,p){f.scrollLeft=p}updateOptions(f){this.updateScrollbarSize(f.horizontal===2?0:f.horizontalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(f.vertical===2?0:f.verticalScrollbarSize),this._visibilityController.setVisibility(f.horizontal),this._scrollByPage=f.scrollByPage}}e.HorizontalScrollbar=m}),define(X[572],ee([1,0,73,305,224,259,25]),function(q,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VerticalScrollbar=void 0;class m extends k.AbstractScrollbar{constructor(f,p,s){const t=f.getScrollDimensions(),i=f.getCurrentScrollPosition();if(super({lazyRender:p.lazyRender,host:s,scrollbarState:new D.ScrollbarState(p.verticalHasArrows?p.arrowSize:0,p.vertical===2?0:p.verticalScrollbarSize,0,t.height,t.scrollHeight,i.scrollTop),visibility:p.vertical,extraScrollbarClassName:"vertical",scrollable:f,scrollByPage:p.scrollByPage}),p.verticalHasArrows){const o=(p.arrowSize-y.ARROW_IMG_SIZE)/2,r=(p.verticalScrollbarSize-y.ARROW_IMG_SIZE)/2;this._createArrow({className:"scra",icon:S.Codicon.scrollbarButtonUp,top:o,left:r,bottom:void 0,right:void 0,bgWidth:p.verticalScrollbarSize,bgHeight:p.arrowSize,onActivate:()=>this._host.onMouseWheel(new L.StandardWheelEvent(null,0,1))}),this._createArrow({className:"scra",icon:S.Codicon.scrollbarButtonDown,top:void 0,left:r,bottom:o,right:void 0,bgWidth:p.verticalScrollbarSize,bgHeight:p.arrowSize,onActivate:()=>this._host.onMouseWheel(new L.StandardWheelEvent(null,0,-1))})}this._createSlider(0,Math.floor((p.verticalScrollbarSize-p.verticalSliderSize)/2),p.verticalSliderSize,void 0)}_updateSlider(f,p){this.slider.setHeight(f),this.slider.setTop(p)}_renderDomNode(f,p){this.domNode.setWidth(p),this.domNode.setHeight(f),this.domNode.setRight(0),this.domNode.setTop(0)}onDidScroll(f){return this._shouldRender=this._onElementScrollSize(f.scrollHeight)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(f.scrollTop)||this._shouldRender,this._shouldRender=this._onElementSize(f.height)||this._shouldRender,this._shouldRender}_pointerDownRelativePosition(f,p){return p}_sliderPointerPosition(f){return f.pageY}_sliderOrthogonalPointerPosition(f){return f.pageX}_updateScrollbarSize(f){this.slider.setWidth(f)}writeScrollPosition(f,p){f.scrollTop=p}updateOptions(f){this.updateScrollbarSize(f.vertical===2?0:f.verticalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(0),this._visibilityController.setVisibility(f.vertical),this._scrollByPage=f.scrollByPage}}e.VerticalScrollbar=m}),define(X[74],ee([1,0,51,7,34,73,571,572,82,14,6,2,17,169,401]),function(q,e,L,k,y,D,S,m,_,f,p,s,t,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DomScrollableElement=e.SmoothScrollableElement=e.ScrollableElement=e.AbstractScrollableElement=e.MouseWheelClassifier=void 0;const o=500,r=50,d=!0;class h{constructor(v,b,w){this.timestamp=v,this.deltaX=b,this.deltaY=w,this.score=0}}class n{constructor(){this._capacity=5,this._memory=[],this._front=-1,this._rear=-1}isPhysicalMouseWheel(){if(this._front===-1&&this._rear===-1)return!1;let v=1,b=0,w=1,E=this._rear;do{const I=E===this._front?v:Math.pow(2,-w);if(v-=I,b+=this._memory[E].score*I,E===this._front)break;E=(this._capacity+E-1)%this._capacity,w++}while(!0);return b<=.5}acceptStandardWheelEvent(v){const b=window.devicePixelRatio/(0,L.getZoomFactor)();t.isWindows||t.isLinux?this.accept(Date.now(),v.deltaX/b,v.deltaY/b):this.accept(Date.now(),v.deltaX,v.deltaY)}accept(v,b,w){const E=new h(v,b,w);E.score=this._computeScore(E),this._front===-1&&this._rear===-1?(this._memory[0]=E,this._front=0,this._rear=0):(this._rear=(this._rear+1)%this._capacity,this._rear===this._front&&(this._front=(this._front+1)%this._capacity),this._memory[this._rear]=E)}_computeScore(v){if(Math.abs(v.deltaX)>0&&Math.abs(v.deltaY)>0)return 1;let b=.5;const w=this._front===-1&&this._rear===-1?null:this._memory[this._rear];return(!this._isAlmostInt(v.deltaX)||!this._isAlmostInt(v.deltaY))&&(b+=.25),Math.min(Math.max(b,0),1)}_isAlmostInt(v){return Math.abs(Math.round(v)-v)<.01}}e.MouseWheelClassifier=n,n.INSTANCE=new n;class c extends _.Widget{get options(){return this._options}constructor(v,b,w){super(),this._onScroll=this._register(new p.Emitter),this.onScroll=this._onScroll.event,this._onWillScroll=this._register(new p.Emitter),v.style.overflow="hidden",this._options=C(b),this._scrollable=w,this._register(this._scrollable.onScroll(I=>{this._onWillScroll.fire(I),this._onDidScroll(I),this._onScroll.fire(I)}));const E={onMouseWheel:I=>this._onMouseWheel(I),onDragStart:()=>this._onDragStart(),onDragEnd:()=>this._onDragEnd()};this._verticalScrollbar=this._register(new m.VerticalScrollbar(this._scrollable,this._options,E)),this._horizontalScrollbar=this._register(new S.HorizontalScrollbar(this._scrollable,this._options,E)),this._domNode=document.createElement("div"),this._domNode.className="monaco-scrollable-element "+this._options.className,this._domNode.setAttribute("role","presentation"),this._domNode.style.position="relative",this._domNode.style.overflow="hidden",this._domNode.appendChild(v),this._domNode.appendChild(this._horizontalScrollbar.domNode.domNode),this._domNode.appendChild(this._verticalScrollbar.domNode.domNode),this._options.useShadows?(this._leftShadowDomNode=(0,y.createFastDomNode)(document.createElement("div")),this._leftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._leftShadowDomNode.domNode),this._topShadowDomNode=(0,y.createFastDomNode)(document.createElement("div")),this._topShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topShadowDomNode.domNode),this._topLeftShadowDomNode=(0,y.createFastDomNode)(document.createElement("div")),this._topLeftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topLeftShadowDomNode.domNode)):(this._leftShadowDomNode=null,this._topShadowDomNode=null,this._topLeftShadowDomNode=null),this._listenOnDomNode=this._options.listenOnDomNode||this._domNode,this._mouseWheelToDispose=[],this._setListeningToMouseWheel(this._options.handleMouseWheel),this.onmouseover(this._listenOnDomNode,I=>this._onMouseOver(I)),this.onmouseleave(this._listenOnDomNode,I=>this._onMouseLeave(I)),this._hideTimeout=this._register(new f.TimeoutTimer),this._isDragging=!1,this._mouseIsOver=!1,this._shouldRender=!0,this._revealOnScroll=!0}dispose(){this._mouseWheelToDispose=(0,s.dispose)(this._mouseWheelToDispose),super.dispose()}getDomNode(){return this._domNode}getOverviewRulerLayoutInfo(){return{parent:this._domNode,insertBefore:this._verticalScrollbar.domNode.domNode}}delegateVerticalScrollbarPointerDown(v){this._verticalScrollbar.delegatePointerDown(v)}getScrollDimensions(){return this._scrollable.getScrollDimensions()}setScrollDimensions(v){this._scrollable.setScrollDimensions(v,!1)}updateClassName(v){this._options.className=v,t.isMacintosh&&(this._options.className+=" mac"),this._domNode.className="monaco-scrollable-element "+this._options.className}updateOptions(v){typeof v.handleMouseWheel<"u"&&(this._options.handleMouseWheel=v.handleMouseWheel,this._setListeningToMouseWheel(this._options.handleMouseWheel)),typeof v.mouseWheelScrollSensitivity<"u"&&(this._options.mouseWheelScrollSensitivity=v.mouseWheelScrollSensitivity),typeof v.fastScrollSensitivity<"u"&&(this._options.fastScrollSensitivity=v.fastScrollSensitivity),typeof v.scrollPredominantAxis<"u"&&(this._options.scrollPredominantAxis=v.scrollPredominantAxis),typeof v.horizontal<"u"&&(this._options.horizontal=v.horizontal),typeof v.vertical<"u"&&(this._options.vertical=v.vertical),typeof v.horizontalScrollbarSize<"u"&&(this._options.horizontalScrollbarSize=v.horizontalScrollbarSize),typeof v.verticalScrollbarSize<"u"&&(this._options.verticalScrollbarSize=v.verticalScrollbarSize),typeof v.scrollByPage<"u"&&(this._options.scrollByPage=v.scrollByPage),this._horizontalScrollbar.updateOptions(this._options),this._verticalScrollbar.updateOptions(this._options),this._options.lazyRender||this._render()}delegateScrollFromMouseWheelEvent(v){this._onMouseWheel(new D.StandardWheelEvent(v))}_setListeningToMouseWheel(v){if(this._mouseWheelToDispose.length>0!==v&&(this._mouseWheelToDispose=(0,s.dispose)(this._mouseWheelToDispose),v)){const w=E=>{this._onMouseWheel(new D.StandardWheelEvent(E))};this._mouseWheelToDispose.push(k.addDisposableListener(this._listenOnDomNode,k.EventType.MOUSE_WHEEL,w,{passive:!1}))}}_onMouseWheel(v){var b;if(!((b=v.browserEvent)===null||b===void 0)&&b.defaultPrevented)return;const w=n.INSTANCE;d&&w.acceptStandardWheelEvent(v);let E=!1;if(v.deltaY||v.deltaX){let T=v.deltaY*this._options.mouseWheelScrollSensitivity,P=v.deltaX*this._options.mouseWheelScrollSensitivity;this._options.scrollPredominantAxis&&(Math.abs(T)>=Math.abs(P)?P=0:T=0),this._options.flipAxes&&([T,P]=[P,T]);const A=!t.isMacintosh&&v.browserEvent&&v.browserEvent.shiftKey;(this._options.scrollYToX||A)&&!P&&(P=T,T=0),v.browserEvent&&v.browserEvent.altKey&&(P=P*this._options.fastScrollSensitivity,T=T*this._options.fastScrollSensitivity);const M=this._scrollable.getFutureScrollPosition();let N={};if(T){const R=r*T,F=M.scrollTop-(R<0?Math.floor(R):Math.ceil(R));this._verticalScrollbar.writeScrollPosition(N,F)}if(P){const R=r*P,F=M.scrollLeft-(R<0?Math.floor(R):Math.ceil(R));this._horizontalScrollbar.writeScrollPosition(N,F)}N=this._scrollable.validateScrollPosition(N),(M.scrollLeft!==N.scrollLeft||M.scrollTop!==N.scrollTop)&&(d&&this._options.mouseWheelSmoothScroll&&w.isPhysicalMouseWheel()?this._scrollable.setScrollPositionSmooth(N):this._scrollable.setScrollPositionNow(N),E=!0)}let I=E;!I&&this._options.alwaysConsumeMouseWheel&&(I=!0),!I&&this._options.consumeMouseWheelIfScrollbarIsNeeded&&(this._verticalScrollbar.isNeeded()||this._horizontalScrollbar.isNeeded())&&(I=!0),I&&(v.preventDefault(),v.stopPropagation())}_onDidScroll(v){this._shouldRender=this._horizontalScrollbar.onDidScroll(v)||this._shouldRender,this._shouldRender=this._verticalScrollbar.onDidScroll(v)||this._shouldRender,this._options.useShadows&&(this._shouldRender=!0),this._revealOnScroll&&this._reveal(),this._options.lazyRender||this._render()}renderNow(){if(!this._options.lazyRender)throw new Error("Please use `lazyRender` together with `renderNow`!");this._render()}_render(){if(this._shouldRender&&(this._shouldRender=!1,this._horizontalScrollbar.render(),this._verticalScrollbar.render(),this._options.useShadows)){const v=this._scrollable.getCurrentScrollPosition(),b=v.scrollTop>0,w=v.scrollLeft>0,E=w?" left":"",I=b?" top":"",T=w||b?" top-left-corner":"";this._leftShadowDomNode.setClassName(`shadow${E}`),this._topShadowDomNode.setClassName(`shadow${I}`),this._topLeftShadowDomNode.setClassName(`shadow${T}${I}${E}`)}}_onDragStart(){this._isDragging=!0,this._reveal()}_onDragEnd(){this._isDragging=!1,this._hide()}_onMouseLeave(v){this._mouseIsOver=!1,this._hide()}_onMouseOver(v){this._mouseIsOver=!0,this._reveal()}_reveal(){this._verticalScrollbar.beginReveal(),this._horizontalScrollbar.beginReveal(),this._scheduleHide()}_hide(){!this._mouseIsOver&&!this._isDragging&&(this._verticalScrollbar.beginHide(),this._horizontalScrollbar.beginHide())}_scheduleHide(){!this._mouseIsOver&&!this._isDragging&&this._hideTimeout.cancelAndSet(()=>this._hide(),o)}}e.AbstractScrollableElement=c;class a extends c{constructor(v,b){b=b||{},b.mouseWheelSmoothScroll=!1;const w=new i.Scrollable({forceIntegerValues:!0,smoothScrollDuration:0,scheduleAtNextAnimationFrame:E=>k.scheduleAtNextAnimationFrame(E)});super(v,b,w),this._register(w)}setScrollPosition(v){this._scrollable.setScrollPositionNow(v)}}e.ScrollableElement=a;class l extends c{constructor(v,b,w){super(v,b,w)}setScrollPosition(v){v.reuseAnimation?this._scrollable.setScrollPositionSmooth(v,v.reuseAnimation):this._scrollable.setScrollPositionNow(v)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}}e.SmoothScrollableElement=l;class u extends c{constructor(v,b){b=b||{},b.mouseWheelSmoothScroll=!1;const w=new i.Scrollable({forceIntegerValues:!1,smoothScrollDuration:0,scheduleAtNextAnimationFrame:E=>k.scheduleAtNextAnimationFrame(E)});super(v,b,w),this._register(w),this._element=v,this.onScroll(E=>{E.scrollTopChanged&&(this._element.scrollTop=E.scrollTop),E.scrollLeftChanged&&(this._element.scrollLeft=E.scrollLeft)}),this.scanDomNode()}setScrollPosition(v){this._scrollable.setScrollPositionNow(v)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}scanDomNode(){this.setScrollDimensions({width:this._element.clientWidth,scrollWidth:this._element.scrollWidth,height:this._element.clientHeight,scrollHeight:this._element.scrollHeight}),this.setScrollPosition({scrollLeft:this._element.scrollLeft,scrollTop:this._element.scrollTop})}}e.DomScrollableElement=u;function C(g){const v={lazyRender:typeof g.lazyRender<"u"?g.lazyRender:!1,className:typeof g.className<"u"?g.className:"",useShadows:typeof g.useShadows<"u"?g.useShadows:!0,handleMouseWheel:typeof g.handleMouseWheel<"u"?g.handleMouseWheel:!0,flipAxes:typeof g.flipAxes<"u"?g.flipAxes:!1,consumeMouseWheelIfScrollbarIsNeeded:typeof g.consumeMouseWheelIfScrollbarIsNeeded<"u"?g.consumeMouseWheelIfScrollbarIsNeeded:!1,alwaysConsumeMouseWheel:typeof g.alwaysConsumeMouseWheel<"u"?g.alwaysConsumeMouseWheel:!1,scrollYToX:typeof g.scrollYToX<"u"?g.scrollYToX:!1,mouseWheelScrollSensitivity:typeof g.mouseWheelScrollSensitivity<"u"?g.mouseWheelScrollSensitivity:1,fastScrollSensitivity:typeof g.fastScrollSensitivity<"u"?g.fastScrollSensitivity:5,scrollPredominantAxis:typeof g.scrollPredominantAxis<"u"?g.scrollPredominantAxis:!0,mouseWheelSmoothScroll:typeof g.mouseWheelSmoothScroll<"u"?g.mouseWheelSmoothScroll:!0,arrowSize:typeof g.arrowSize<"u"?g.arrowSize:11,listenOnDomNode:typeof g.listenOnDomNode<"u"?g.listenOnDomNode:null,horizontal:typeof g.horizontal<"u"?g.horizontal:1,horizontalScrollbarSize:typeof g.horizontalScrollbarSize<"u"?g.horizontalScrollbarSize:10,horizontalSliderSize:typeof g.horizontalSliderSize<"u"?g.horizontalSliderSize:0,horizontalHasArrows:typeof g.horizontalHasArrows<"u"?g.horizontalHasArrows:!1,vertical:typeof g.vertical<"u"?g.vertical:1,verticalScrollbarSize:typeof g.verticalScrollbarSize<"u"?g.verticalScrollbarSize:10,verticalHasArrows:typeof g.verticalHasArrows<"u"?g.verticalHasArrows:!1,verticalSliderSize:typeof g.verticalSliderSize<"u"?g.verticalSliderSize:0,scrollByPage:typeof g.scrollByPage<"u"?g.scrollByPage:!1};return v.horizontalSliderSize=typeof g.horizontalSliderSize<"u"?g.horizontalSliderSize:v.horizontalScrollbarSize,v.verticalSliderSize=typeof g.verticalSliderSize<"u"?g.verticalSliderSize:v.verticalScrollbarSize,t.isMacintosh&&(v.className+=" mac"),v}}),define(X[306],ee([1,0,7,45,74,2,394]),function(q,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HoverAction=e.HoverWidget=void 0;const S=L.$;class m extends D.Disposable{constructor(){super(),this.containerDomNode=document.createElement("div"),this.containerDomNode.className="monaco-hover",this.containerDomNode.tabIndex=0,this.containerDomNode.setAttribute("role","tooltip"),this.contentsDomNode=document.createElement("div"),this.contentsDomNode.className="monaco-hover-content",this.scrollbar=this._register(new y.DomScrollableElement(this.contentsDomNode,{consumeMouseWheelIfScrollbarIsNeeded:!0})),this.containerDomNode.appendChild(this.scrollbar.getDomNode())}onContentsChanged(){this.scrollbar.scanDomNode()}}e.HoverWidget=m;class _ extends D.Disposable{static render(p,s,t){return new _(p,s,t)}constructor(p,s,t){super(),this.actionContainer=L.append(p,S("div.action-container")),this.actionContainer.setAttribute("tabindex","0"),this.action=L.append(this.actionContainer,S("a.action")),this.action.setAttribute("role","button"),s.iconClass&&L.append(this.action,S(`span.icon.${s.iconClass}`));const i=L.append(this.action,S("span"));i.textContent=t?`${s.label} (${t})`:s.label,this._register(L.addDisposableListener(this.actionContainer,L.EventType.CLICK,o=>{o.stopPropagation(),o.preventDefault(),s.run(this.actionContainer)})),this._register(L.addDisposableListener(this.actionContainer,L.EventType.KEY_DOWN,o=>{const r=new k.StandardKeyboardEvent(o);(r.equals(3)||r.equals(10))&&(o.stopPropagation(),o.preventDefault(),s.run(this.actionContainer))})),this.setEnabled(!0)}setEnabled(p){p?(this.actionContainer.classList.remove("disabled"),this.actionContainer.removeAttribute("aria-disabled")):(this.actionContainer.classList.add("disabled"),this.actionContainer.setAttribute("aria-disabled","true"))}}e.HoverAction=_}),define(X[225],ee([1,0,196,7,80,60,74,16,14,104,6,2,168,169,386,568,12]),function(q,e,L,k,y,D,S,m,_,f,p,s,t,i,o,r,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ListView=e.NativeDragAndDropData=e.ExternalElementsDragAndDropData=e.ElementsDragAndDropData=void 0;const h={CurrentDragAndDropData:void 0},n={useShadows:!0,verticalScrollMode:1,setRowLineHeight:!0,setRowHeight:!0,supportDynamicHeights:!1,dnd:{getDragElements(v){return[v]},getDragURI(){return null},onDragStart(){},onDragOver(){return!1},drop(){}},horizontalScrolling:!1,transformOptimization:!0,alwaysConsumeMouseWheel:!0};class c{constructor(b){this.elements=b}update(){}getData(){return this.elements}}e.ElementsDragAndDropData=c;class a{constructor(b){this.elements=b}update(){}getData(){return this.elements}}e.ExternalElementsDragAndDropData=a;class l{constructor(){this.types=[],this.files=[]}update(b){if(b.types&&this.types.splice(0,this.types.length,...b.types),b.files){this.files.splice(0,this.files.length);for(let w=0;w<b.files.length;w++){const E=b.files.item(w);E&&(E.size||E.type)&&this.files.push(E)}}}getData(){return{types:this.types,files:this.files}}}e.NativeDragAndDropData=l;function u(v,b){return Array.isArray(v)&&Array.isArray(b)?(0,m.equals)(v,b):v===b}class C{constructor(b){b?.getSetSize?this.getSetSize=b.getSetSize.bind(b):this.getSetSize=(w,E,I)=>I,b?.getPosInSet?this.getPosInSet=b.getPosInSet.bind(b):this.getPosInSet=(w,E)=>E+1,b?.getRole?this.getRole=b.getRole.bind(b):this.getRole=w=>"listitem",b?.isChecked?this.isChecked=b.isChecked.bind(b):this.isChecked=w=>{}}}class g{get contentHeight(){return this.rangeMap.size}get horizontalScrolling(){return this._horizontalScrolling}set horizontalScrolling(b){if(b!==this._horizontalScrolling){if(b&&this.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");if(this._horizontalScrolling=b,this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this._horizontalScrolling){for(const w of this.items)this.measureItemWidth(w);this.updateScrollWidth(),this.scrollableElement.setScrollDimensions({width:(0,k.getContentWidth)(this.domNode)}),this.rowsContainer.style.width=`${Math.max(this.scrollWidth||0,this.renderWidth)}px`}else this.scrollableElementWidthDelayer.cancel(),this.scrollableElement.setScrollDimensions({width:this.renderWidth,scrollWidth:this.renderWidth}),this.rowsContainer.style.width=""}}constructor(b,w,E,I=n){var T,P,A,M,N,R,F,x,W,z,U,O;if(this.virtualDelegate=w,this.domId=`list_id_${++g.InstanceCount}`,this.renderers=new Map,this.renderWidth=0,this._scrollHeight=0,this.scrollableElementUpdateDisposable=null,this.scrollableElementWidthDelayer=new _.Delayer(50),this.splicing=!1,this.dragOverAnimationStopDisposable=s.Disposable.None,this.dragOverMouseY=0,this.canDrop=!1,this.currentDragFeedbackDisposable=s.Disposable.None,this.onDragLeaveTimeout=s.Disposable.None,this.disposables=new s.DisposableStore,this._onDidChangeContentHeight=new p.Emitter,this._onDidChangeContentWidth=new p.Emitter,this._horizontalScrolling=!1,I.horizontalScrolling&&I.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");this.items=[],this.itemId=0,this.rangeMap=new o.RangeMap;for(const Q of E)this.renderers.set(Q.templateId,Q);this.cache=this.disposables.add(new r.RowCache(this.renderers)),this.lastRenderTop=0,this.lastRenderHeight=0,this.domNode=document.createElement("div"),this.domNode.className="monaco-list",this.domNode.classList.add(this.domId),this.domNode.tabIndex=0,this.domNode.classList.toggle("mouse-support",typeof I.mouseSupport=="boolean"?I.mouseSupport:!0),this._horizontalScrolling=(T=I.horizontalScrolling)!==null&&T!==void 0?T:n.horizontalScrolling,this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this.additionalScrollHeight=typeof I.additionalScrollHeight>"u"?0:I.additionalScrollHeight,this.accessibilityProvider=new C(I.accessibilityProvider),this.rowsContainer=document.createElement("div"),this.rowsContainer.className="monaco-list-rows",((P=I.transformOptimization)!==null&&P!==void 0?P:n.transformOptimization)&&(this.rowsContainer.style.transform="translate3d(0px, 0px, 0px)",this.rowsContainer.style.overflow="hidden",this.rowsContainer.style.contain="strict"),this.disposables.add(D.Gesture.addTarget(this.rowsContainer)),this.scrollable=new i.Scrollable({forceIntegerValues:!0,smoothScrollDuration:(A=I.smoothScrolling)!==null&&A!==void 0&&A?125:0,scheduleAtNextAnimationFrame:Q=>(0,k.scheduleAtNextAnimationFrame)(Q)}),this.scrollableElement=this.disposables.add(new S.SmoothScrollableElement(this.rowsContainer,{alwaysConsumeMouseWheel:(M=I.alwaysConsumeMouseWheel)!==null&&M!==void 0?M:n.alwaysConsumeMouseWheel,horizontal:1,vertical:(N=I.verticalScrollMode)!==null&&N!==void 0?N:n.verticalScrollMode,useShadows:(R=I.useShadows)!==null&&R!==void 0?R:n.useShadows,mouseWheelScrollSensitivity:I.mouseWheelScrollSensitivity,fastScrollSensitivity:I.fastScrollSensitivity,scrollByPage:I.scrollByPage},this.scrollable)),this.domNode.appendChild(this.scrollableElement.getDomNode()),b.appendChild(this.domNode),this.scrollableElement.onScroll(this.onScroll,this,this.disposables),this.disposables.add((0,k.addDisposableListener)(this.rowsContainer,D.EventType.Change,Q=>this.onTouchChange(Q))),this.disposables.add((0,k.addDisposableListener)(this.scrollableElement.getDomNode(),"scroll",Q=>Q.target.scrollTop=0)),this.disposables.add((0,k.addDisposableListener)(this.domNode,"dragover",Q=>this.onDragOver(this.toDragEvent(Q)))),this.disposables.add((0,k.addDisposableListener)(this.domNode,"drop",Q=>this.onDrop(this.toDragEvent(Q)))),this.disposables.add((0,k.addDisposableListener)(this.domNode,"dragleave",Q=>this.onDragLeave(this.toDragEvent(Q)))),this.disposables.add((0,k.addDisposableListener)(this.domNode,"dragend",Q=>this.onDragEnd(Q))),this.setRowLineHeight=(F=I.setRowLineHeight)!==null&&F!==void 0?F:n.setRowLineHeight,this.setRowHeight=(x=I.setRowHeight)!==null&&x!==void 0?x:n.setRowHeight,this.supportDynamicHeights=(W=I.supportDynamicHeights)!==null&&W!==void 0?W:n.supportDynamicHeights,this.dnd=(z=I.dnd)!==null&&z!==void 0?z:n.dnd,this.layout((U=I.initialSize)===null||U===void 0?void 0:U.height,(O=I.initialSize)===null||O===void 0?void 0:O.width)}updateOptions(b){b.additionalScrollHeight!==void 0&&(this.additionalScrollHeight=b.additionalScrollHeight,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),b.smoothScrolling!==void 0&&this.scrollable.setSmoothScrollDuration(b.smoothScrolling?125:0),b.horizontalScrolling!==void 0&&(this.horizontalScrolling=b.horizontalScrolling);let w;b.scrollByPage!==void 0&&(w=Object.assign(Object.assign({},w??{}),{scrollByPage:b.scrollByPage})),b.mouseWheelScrollSensitivity!==void 0&&(w=Object.assign(Object.assign({},w??{}),{mouseWheelScrollSensitivity:b.mouseWheelScrollSensitivity})),b.fastScrollSensitivity!==void 0&&(w=Object.assign(Object.assign({},w??{}),{fastScrollSensitivity:b.fastScrollSensitivity})),w&&this.scrollableElement.updateOptions(w)}splice(b,w,E=[]){if(this.splicing)throw new Error("Can't run recursive splices.");this.splicing=!0;try{return this._splice(b,w,E)}finally{this.splicing=!1,this._onDidChangeContentHeight.fire(this.contentHeight)}}_splice(b,w,E=[]){const I=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),T={start:b,end:b+w},P=t.Range.intersect(I,T),A=new Map;for(let H=P.end-1;H>=P.start;H--){const B=this.items[H];if(B.dragStartDisposable.dispose(),B.checkedDisposable.dispose(),B.row){let K=A.get(B.templateId);K||(K=[],A.set(B.templateId,K));const Z=this.renderers.get(B.templateId);Z&&Z.disposeElement&&Z.disposeElement(B.element,H,B.row.templateData,B.size),K.push(B.row)}B.row=null}const M={start:b+w,end:this.items.length},N=t.Range.intersect(M,I),R=t.Range.relativeComplement(M,I),F=E.map(H=>({id:String(this.itemId++),element:H,templateId:this.virtualDelegate.getTemplateId(H),size:this.virtualDelegate.getHeight(H),width:void 0,hasDynamicHeight:!!this.virtualDelegate.hasDynamicHeight&&this.virtualDelegate.hasDynamicHeight(H),lastDynamicHeightWidth:void 0,row:null,uri:void 0,dropTarget:!1,dragStartDisposable:s.Disposable.None,checkedDisposable:s.Disposable.None}));let x;b===0&&w>=this.items.length?(this.rangeMap=new o.RangeMap,this.rangeMap.splice(0,0,F),x=this.items,this.items=F):(this.rangeMap.splice(b,w,F),x=this.items.splice(b,w,...F));const W=E.length-w,z=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),U=(0,o.shift)(N,W),O=t.Range.intersect(z,U);for(let H=O.start;H<O.end;H++)this.updateItemInDOM(this.items[H],H);const G=t.Range.relativeComplement(U,z);for(const H of G)for(let B=H.start;B<H.end;B++)this.removeItemFromDOM(B);const Q=R.map(H=>(0,o.shift)(H,W)),oe=[{start:b,end:b+E.length},...Q].map(H=>t.Range.intersect(z,H)),te=this.getNextToLastElement(oe);for(const H of oe)for(let B=H.start;B<H.end;B++){const K=this.items[B],Z=A.get(K.templateId),J=Z?.pop();this.insertItemInDOM(B,te,J)}for(const H of A.values())for(const B of H)this.cache.release(B);return this.eventuallyUpdateScrollDimensions(),this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight),x.map(H=>H.element)}eventuallyUpdateScrollDimensions(){this._scrollHeight=this.contentHeight,this.rowsContainer.style.height=`${this._scrollHeight}px`,this.scrollableElementUpdateDisposable||(this.scrollableElementUpdateDisposable=(0,k.scheduleAtNextAnimationFrame)(()=>{this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight}),this.updateScrollWidth(),this.scrollableElementUpdateDisposable=null}))}eventuallyUpdateScrollWidth(){if(!this.horizontalScrolling){this.scrollableElementWidthDelayer.cancel();return}this.scrollableElementWidthDelayer.trigger(()=>this.updateScrollWidth())}updateScrollWidth(){if(!this.horizontalScrolling)return;let b=0;for(const w of this.items)typeof w.width<"u"&&(b=Math.max(b,w.width));this.scrollWidth=b,this.scrollableElement.setScrollDimensions({scrollWidth:b===0?0:b+10}),this._onDidChangeContentWidth.fire(this.scrollWidth)}rerender(){if(this.supportDynamicHeights){for(const b of this.items)b.lastDynamicHeightWidth=void 0;this._rerender(this.lastRenderTop,this.lastRenderHeight)}}get length(){return this.items.length}get renderHeight(){return this.scrollableElement.getScrollDimensions().height}get firstVisibleIndex(){const b=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),w=this.rangeMap.positionAt(b.start),E=this.rangeMap.positionAt(b.start+1);return E!==-1&&(E-w)/2+w<this.scrollTop?b.start+1:b.start}element(b){return this.items[b].element}domElement(b){const w=this.items[b].row;return w&&w.domNode}elementHeight(b){return this.items[b].size}elementTop(b){return this.rangeMap.positionAt(b)}indexAt(b){return this.rangeMap.indexAt(b)}indexAfter(b){return this.rangeMap.indexAfter(b)}layout(b,w){const E={height:typeof b=="number"?b:(0,k.getContentHeight)(this.domNode)};this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,E.scrollHeight=this.scrollHeight),this.scrollableElement.setScrollDimensions(E),typeof w<"u"&&(this.renderWidth=w,this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight)),this.horizontalScrolling&&this.scrollableElement.setScrollDimensions({width:typeof w=="number"?w:(0,k.getContentWidth)(this.domNode)})}render(b,w,E,I,T,P=!1){const A=this.getRenderRange(w,E),M=t.Range.relativeComplement(A,b),N=t.Range.relativeComplement(b,A),R=this.getNextToLastElement(M);if(P){const F=t.Range.intersect(b,A);for(let x=F.start;x<F.end;x++)this.updateItemInDOM(this.items[x],x)}this.cache.transact(()=>{for(const F of N)for(let x=F.start;x<F.end;x++)this.removeItemFromDOM(x);for(const F of M)for(let x=F.start;x<F.end;x++)this.insertItemInDOM(x,R)}),I!==void 0&&(this.rowsContainer.style.left=`-${I}px`),this.rowsContainer.style.top=`-${w}px`,this.horizontalScrolling&&T!==void 0&&(this.rowsContainer.style.width=`${Math.max(T,this.renderWidth)}px`),this.lastRenderTop=w,this.lastRenderHeight=E}insertItemInDOM(b,w,E){const I=this.items[b];let T=!1;if(!I.row)if(E)I.row=E;else{const R=this.cache.alloc(I.templateId);I.row=R.row,T=R.isReusingConnectedDomNode}const P=this.accessibilityProvider.getRole(I.element)||"listitem";I.row.domNode.setAttribute("role",P);const A=this.accessibilityProvider.isChecked(I.element);if(typeof A=="boolean")I.row.domNode.setAttribute("aria-checked",String(!!A));else if(A){const R=F=>I.row.domNode.setAttribute("aria-checked",String(!!F));R(A.value),I.checkedDisposable=A.onDidChange(R)}(T||!I.row.domNode.parentElement)&&(w?this.rowsContainer.insertBefore(I.row.domNode,w):this.rowsContainer.appendChild(I.row.domNode)),this.updateItemInDOM(I,b);const M=this.renderers.get(I.templateId);if(!M)throw new Error(`No renderer found for template id ${I.templateId}`);M?.renderElement(I.element,b,I.row.templateData,I.size);const N=this.dnd.getDragURI(I.element);I.dragStartDisposable.dispose(),I.row.domNode.draggable=!!N,N&&(I.dragStartDisposable=(0,k.addDisposableListener)(I.row.domNode,"dragstart",R=>this.onDragStart(I.element,N,R))),this.horizontalScrolling&&(this.measureItemWidth(I),this.eventuallyUpdateScrollWidth())}measureItemWidth(b){if(!b.row||!b.row.domNode)return;b.row.domNode.style.width="fit-content",b.width=(0,k.getContentWidth)(b.row.domNode);const w=window.getComputedStyle(b.row.domNode);w.paddingLeft&&(b.width+=parseFloat(w.paddingLeft)),w.paddingRight&&(b.width+=parseFloat(w.paddingRight)),b.row.domNode.style.width=""}updateItemInDOM(b,w){b.row.domNode.style.top=`${this.elementTop(w)}px`,this.setRowHeight&&(b.row.domNode.style.height=`${b.size}px`),this.setRowLineHeight&&(b.row.domNode.style.lineHeight=`${b.size}px`),b.row.domNode.setAttribute("data-index",`${w}`),b.row.domNode.setAttribute("data-last-element",w===this.length-1?"true":"false"),b.row.domNode.setAttribute("data-parity",w%2===0?"even":"odd"),b.row.domNode.setAttribute("aria-setsize",String(this.accessibilityProvider.getSetSize(b.element,w,this.length))),b.row.domNode.setAttribute("aria-posinset",String(this.accessibilityProvider.getPosInSet(b.element,w))),b.row.domNode.setAttribute("id",this.getElementDomId(w)),b.row.domNode.classList.toggle("drop-target",b.dropTarget)}removeItemFromDOM(b){const w=this.items[b];if(w.dragStartDisposable.dispose(),w.checkedDisposable.dispose(),w.row){const E=this.renderers.get(w.templateId);E&&E.disposeElement&&E.disposeElement(w.element,b,w.row.templateData,w.size),this.cache.release(w.row),w.row=null}this.horizontalScrolling&&this.eventuallyUpdateScrollWidth()}getScrollTop(){return this.scrollableElement.getScrollPosition().scrollTop}setScrollTop(b,w){this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),this.scrollableElement.setScrollPosition({scrollTop:b,reuseAnimation:w})}get scrollTop(){return this.getScrollTop()}set scrollTop(b){this.setScrollTop(b)}get scrollHeight(){return this._scrollHeight+(this.horizontalScrolling?10:0)+this.additionalScrollHeight}get onMouseClick(){return p.Event.map(this.disposables.add(new y.DomEmitter(this.domNode,"click")).event,b=>this.toMouseEvent(b),this.disposables)}get onMouseDblClick(){return p.Event.map(this.disposables.add(new y.DomEmitter(this.domNode,"dblclick")).event,b=>this.toMouseEvent(b),this.disposables)}get onMouseMiddleClick(){return p.Event.filter(p.Event.map(this.disposables.add(new y.DomEmitter(this.domNode,"auxclick")).event,b=>this.toMouseEvent(b),this.disposables),b=>b.browserEvent.button===1,this.disposables)}get onMouseDown(){return p.Event.map(this.disposables.add(new y.DomEmitter(this.domNode,"mousedown")).event,b=>this.toMouseEvent(b),this.disposables)}get onMouseOver(){return p.Event.map(this.disposables.add(new y.DomEmitter(this.domNode,"mouseover")).event,b=>this.toMouseEvent(b),this.disposables)}get onMouseOut(){return p.Event.map(this.disposables.add(new y.DomEmitter(this.domNode,"mouseout")).event,b=>this.toMouseEvent(b),this.disposables)}get onContextMenu(){return p.Event.any(p.Event.map(this.disposables.add(new y.DomEmitter(this.domNode,"contextmenu")).event,b=>this.toMouseEvent(b),this.disposables),p.Event.map(this.disposables.add(new y.DomEmitter(this.domNode,D.EventType.Contextmenu)).event,b=>this.toGestureEvent(b),this.disposables))}get onTouchStart(){return p.Event.map(this.disposables.add(new y.DomEmitter(this.domNode,"touchstart")).event,b=>this.toTouchEvent(b),this.disposables)}get onTap(){return p.Event.map(this.disposables.add(new y.DomEmitter(this.rowsContainer,D.EventType.Tap)).event,b=>this.toGestureEvent(b),this.disposables)}toMouseEvent(b){const w=this.getItemIndexFromEventTarget(b.target||null),E=typeof w>"u"?void 0:this.items[w],I=E&&E.element;return{browserEvent:b,index:w,element:I}}toTouchEvent(b){const w=this.getItemIndexFromEventTarget(b.target||null),E=typeof w>"u"?void 0:this.items[w],I=E&&E.element;return{browserEvent:b,index:w,element:I}}toGestureEvent(b){const w=this.getItemIndexFromEventTarget(b.initialTarget||null),E=typeof w>"u"?void 0:this.items[w],I=E&&E.element;return{browserEvent:b,index:w,element:I}}toDragEvent(b){const w=this.getItemIndexFromEventTarget(b.target||null),E=typeof w>"u"?void 0:this.items[w],I=E&&E.element;return{browserEvent:b,index:w,element:I}}onScroll(b){try{const w=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight);this.render(w,b.scrollTop,b.height,b.scrollLeft,b.scrollWidth),this.supportDynamicHeights&&this._rerender(b.scrollTop,b.height,b.inSmoothScrolling)}catch(w){throw console.error("Got bad scroll event:",b),w}}onTouchChange(b){b.preventDefault(),b.stopPropagation(),this.scrollTop-=b.translationY}onDragStart(b,w,E){var I,T;if(!E.dataTransfer)return;const P=this.dnd.getDragElements(b);if(E.dataTransfer.effectAllowed="copyMove",E.dataTransfer.setData(L.DataTransfers.TEXT,w),E.dataTransfer.setDragImage){let A;this.dnd.getDragLabel&&(A=this.dnd.getDragLabel(P,E)),typeof A>"u"&&(A=String(P.length));const M=(0,k.$)(".monaco-drag-image");M.textContent=A;const R=(F=>{for(;F&&!F.classList.contains("monaco-workbench");)F=F.parentElement;return F||document.body})(this.domNode);R.appendChild(M),E.dataTransfer.setDragImage(M,-10,-10),setTimeout(()=>R.removeChild(M),0)}this.domNode.classList.add("dragging"),this.currentDragData=new c(P),h.CurrentDragAndDropData=new a(P),(T=(I=this.dnd).onDragStart)===null||T===void 0||T.call(I,this.currentDragData,E)}onDragOver(b){var w;if(b.browserEvent.preventDefault(),this.onDragLeaveTimeout.dispose(),h.CurrentDragAndDropData&&h.CurrentDragAndDropData.getData()==="vscode-ui"||(this.setupDragAndDropScrollTopAnimation(b.browserEvent),!b.browserEvent.dataTransfer))return!1;if(!this.currentDragData)if(h.CurrentDragAndDropData)this.currentDragData=h.CurrentDragAndDropData;else{if(!b.browserEvent.dataTransfer.types)return!1;this.currentDragData=new l}const E=this.dnd.onDragOver(this.currentDragData,b.element,b.index,b.browserEvent);if(this.canDrop=typeof E=="boolean"?E:E.accept,!this.canDrop)return this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),!1;b.browserEvent.dataTransfer.dropEffect=typeof E!="boolean"&&E.effect===0?"copy":"move";let I;if(typeof E!="boolean"&&E.feedback?I=E.feedback:typeof b.index>"u"?I=[-1]:I=[b.index],I=(0,m.distinct)(I).filter(T=>T>=-1&&T<this.length).sort((T,P)=>T-P),I=I[0]===-1?[-1]:I,u(this.currentDragFeedback,I))return!0;if(this.currentDragFeedback=I,this.currentDragFeedbackDisposable.dispose(),I[0]===-1)this.domNode.classList.add("drop-target"),this.rowsContainer.classList.add("drop-target"),this.currentDragFeedbackDisposable=(0,s.toDisposable)(()=>{this.domNode.classList.remove("drop-target"),this.rowsContainer.classList.remove("drop-target")});else{for(const T of I){const P=this.items[T];P.dropTarget=!0,(w=P.row)===null||w===void 0||w.domNode.classList.add("drop-target")}this.currentDragFeedbackDisposable=(0,s.toDisposable)(()=>{var T;for(const P of I){const A=this.items[P];A.dropTarget=!1,(T=A.row)===null||T===void 0||T.domNode.classList.remove("drop-target")}})}return!0}onDragLeave(b){var w,E;this.onDragLeaveTimeout.dispose(),this.onDragLeaveTimeout=(0,_.disposableTimeout)(()=>this.clearDragOverFeedback(),100),this.currentDragData&&((E=(w=this.dnd).onDragLeave)===null||E===void 0||E.call(w,this.currentDragData,b.element,b.index,b.browserEvent))}onDrop(b){if(!this.canDrop)return;const w=this.currentDragData;this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.domNode.classList.remove("dragging"),this.currentDragData=void 0,h.CurrentDragAndDropData=void 0,!(!w||!b.browserEvent.dataTransfer)&&(b.browserEvent.preventDefault(),w.update(b.browserEvent.dataTransfer),this.dnd.drop(w,b.element,b.index,b.browserEvent))}onDragEnd(b){var w,E;this.canDrop=!1,this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.domNode.classList.remove("dragging"),this.currentDragData=void 0,h.CurrentDragAndDropData=void 0,(E=(w=this.dnd).onDragEnd)===null||E===void 0||E.call(w,b)}clearDragOverFeedback(){this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),this.currentDragFeedbackDisposable=s.Disposable.None}setupDragAndDropScrollTopAnimation(b){if(!this.dragOverAnimationDisposable){const w=(0,k.getTopLeftOffset)(this.domNode).top;this.dragOverAnimationDisposable=(0,k.animate)(this.animateDragAndDropScrollTop.bind(this,w))}this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationStopDisposable=(0,_.disposableTimeout)(()=>{this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)},1e3),this.dragOverMouseY=b.pageY}animateDragAndDropScrollTop(b){if(this.dragOverMouseY===void 0)return;const w=this.dragOverMouseY-b,E=this.renderHeight-35;w<35?this.scrollTop+=Math.max(-14,Math.floor(.3*(w-35))):w>E&&(this.scrollTop+=Math.min(14,Math.floor(.3*(w-E))))}teardownDragAndDropScrollTopAnimation(){this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)}getItemIndexFromEventTarget(b){const w=this.scrollableElement.getDomNode();let E=b;for(;E instanceof HTMLElement&&E!==this.rowsContainer&&w.contains(E);){const I=E.getAttribute("data-index");if(I){const T=Number(I);if(!isNaN(T))return T}E=E.parentElement}}getRenderRange(b,w){return{start:this.rangeMap.indexAt(b),end:this.rangeMap.indexAfter(b+w-1)}}_rerender(b,w,E){const I=this.getRenderRange(b,w);let T,P;b===this.elementTop(I.start)?(T=I.start,P=0):I.end-I.start>1&&(T=I.start+1,P=this.elementTop(T)-b);let A=0;for(;;){const M=this.getRenderRange(b,w);let N=!1;for(let R=M.start;R<M.end;R++){const F=this.probeDynamicHeight(R);F!==0&&this.rangeMap.splice(R,1,[this.items[R]]),A+=F,N=N||F!==0}if(!N){A!==0&&this.eventuallyUpdateScrollDimensions();const R=t.Range.relativeComplement(I,M);for(const x of R)for(let W=x.start;W<x.end;W++)this.items[W].row&&this.removeItemFromDOM(W);const F=t.Range.relativeComplement(M,I);for(const x of F)for(let W=x.start;W<x.end;W++){const z=W+1,U=z<this.items.length?this.items[z].row:null,O=U?U.domNode:null;this.insertItemInDOM(W,O)}for(let x=M.start;x<M.end;x++)this.items[x].row&&this.updateItemInDOM(this.items[x],x);if(typeof T=="number"){const x=this.scrollable.getFutureScrollPosition().scrollTop-b,W=this.elementTop(T)-P+x;this.setScrollTop(W,E)}this._onDidChangeContentHeight.fire(this.contentHeight);return}}}probeDynamicHeight(b){var w,E,I;const T=this.items[b];if(this.virtualDelegate.getDynamicHeight){const N=this.virtualDelegate.getDynamicHeight(T.element);if(N!==null){const R=T.size;return T.size=N,T.lastDynamicHeightWidth=this.renderWidth,N-R}}if(!T.hasDynamicHeight||T.lastDynamicHeightWidth===this.renderWidth||this.virtualDelegate.hasDynamicHeight&&!this.virtualDelegate.hasDynamicHeight(T.element))return 0;const P=T.size;if(T.row)return T.row.domNode.style.height="",T.size=T.row.domNode.offsetHeight,T.lastDynamicHeightWidth=this.renderWidth,T.size-P;const{row:A}=this.cache.alloc(T.templateId);A.domNode.style.height="",this.rowsContainer.appendChild(A.domNode);const M=this.renderers.get(T.templateId);if(!M)throw new d.BugIndicatingError("Missing renderer for templateId: "+T.templateId);return M.renderElement(T.element,b,A.templateData,void 0),T.size=A.domNode.offsetHeight,(w=M.disposeElement)===null||w===void 0||w.call(M,T.element,b,A.templateData,void 0),(I=(E=this.virtualDelegate).setDynamicHeight)===null||I===void 0||I.call(E,T.element,T.size),T.lastDynamicHeightWidth=this.renderWidth,this.rowsContainer.removeChild(A.domNode),this.cache.release(A),T.size-P}getNextToLastElement(b){const w=b[b.length-1];if(!w)return null;const E=this.items[w.end];return!E||!E.row?null:E.row.domNode}getElementDomId(b){return`${this.domId}_${b}`}dispose(){var b;if(this.items){for(const w of this.items)if(w.row){const E=this.renderers.get(w.row.templateId);E&&((b=E.disposeElement)===null||b===void 0||b.call(E,w.element,-1,w.row.templateData,void 0),E.disposeTemplate(w.row.templateData))}this.items=[]}this.domNode&&this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),(0,s.dispose)(this.disposables)}}e.ListView=g,g.InstanceCount=0,Ne([f.memoize],g.prototype,"onMouseClick",null),Ne([f.memoize],g.prototype,"onMouseDblClick",null),Ne([f.memoize],g.prototype,"onMouseMiddleClick",null),Ne([f.memoize],g.prototype,"onMouseDown",null),Ne([f.memoize],g.prototype,"onMouseOver",null),Ne([f.memoize],g.prototype,"onMouseOut",null),Ne([f.memoize],g.prototype,"onContextMenu",null),Ne([f.memoize],g.prototype,"onTouchStart",null),Ne([f.memoize],g.prototype,"onTap",null)}),define(X[113],ee([1,0,7,80,45,60,54,377,16,14,36,104,6,70,2,139,17,18,376,225,266]),function(q,e,L,k,y,D,S,m,_,f,p,s,t,i,o,r,d,h,n,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.List=e.unthemedListStyles=e.DefaultStyleController=e.MouseController=e.isSelectionRangeChangeEvent=e.isSelectionSingleChangeEvent=e.DefaultKeyboardNavigationDelegate=e.TypeNavigationMode=e.isButton=e.isMonacoEditor=e.isInputElement=void 0;class a{constructor(B){this.trait=B,this.renderedElements=[]}get templateId(){return`template:${this.trait.name}`}renderTemplate(B){return B}renderElement(B,K,Z){const J=this.renderedElements.findIndex(ne=>ne.templateData===Z);if(J>=0){const ne=this.renderedElements[J];this.trait.unrender(Z),ne.index=K}else{const ne={index:K,templateData:Z};this.renderedElements.push(ne)}this.trait.renderIndex(K,Z)}splice(B,K,Z){const J=[];for(const ne of this.renderedElements)ne.index<B?J.push(ne):ne.index>=B+K&&J.push({index:ne.index+Z-K,templateData:ne.templateData});this.renderedElements=J}renderIndexes(B){for(const{index:K,templateData:Z}of this.renderedElements)B.indexOf(K)>-1&&this.trait.renderIndex(K,Z)}disposeTemplate(B){const K=this.renderedElements.findIndex(Z=>Z.templateData===B);K<0||this.renderedElements.splice(K,1)}}class l{get name(){return this._trait}get renderer(){return new a(this)}constructor(B){this._trait=B,this.length=0,this.indexes=[],this.sortedIndexes=[],this._onChange=new t.Emitter,this.onChange=this._onChange.event}splice(B,K,Z){var J;K=Math.max(0,Math.min(K,this.length-B));const ne=Z.length-K,he=B+K,de=[];let ae=0;for(;ae<this.sortedIndexes.length&&this.sortedIndexes[ae]<B;)de.push(this.sortedIndexes[ae++]);for(let $=0;$<Z.length;$++)Z[$]&&de.push($+B);for(;ae<this.sortedIndexes.length&&this.sortedIndexes[ae]>=he;)de.push(this.sortedIndexes[ae++]+ne);const ce=this.length+ne;if(this.sortedIndexes.length>0&&de.length===0&&ce>0){const $=(J=this.sortedIndexes.find(V=>V>=B))!==null&&J!==void 0?J:ce-1;de.push(Math.min($,ce-1))}this.renderer.splice(B,K,Z.length),this._set(de,de),this.length=ce}renderIndex(B,K){K.classList.toggle(this._trait,this.contains(B))}unrender(B){B.classList.remove(this._trait)}set(B,K){return this._set(B,[...B].sort(G),K)}_set(B,K,Z){const J=this.indexes,ne=this.sortedIndexes;this.indexes=B,this.sortedIndexes=K;const he=U(ne,B);return this.renderer.renderIndexes(he),this._onChange.fire({indexes:B,browserEvent:Z}),J}get(){return this.indexes}contains(B){return(0,_.binarySearch)(this.sortedIndexes,B,G)>=0}dispose(){(0,o.dispose)(this._onChange)}}Ne([s.memoize],l.prototype,"renderer",null);class u extends l{constructor(B){super("selected"),this.setAriaSelected=B}renderIndex(B,K){super.renderIndex(B,K),this.setAriaSelected&&(this.contains(B)?K.setAttribute("aria-selected","true"):K.setAttribute("aria-selected","false"))}}class C{constructor(B,K,Z){this.trait=B,this.view=K,this.identityProvider=Z}splice(B,K,Z){if(!this.identityProvider)return this.trait.splice(B,K,new Array(Z.length).fill(!1));const J=this.trait.get().map(de=>this.identityProvider.getId(this.view.element(de)).toString());if(J.length===0)return this.trait.splice(B,K,new Array(Z.length).fill(!1));const ne=new Set(J),he=Z.map(de=>ne.has(this.identityProvider.getId(de).toString()));this.trait.splice(B,K,he)}}function g(H){return H.tagName==="INPUT"||H.tagName==="TEXTAREA"}e.isInputElement=g;function v(H){return H.classList.contains("monaco-editor")?!0:H.classList.contains("monaco-list")||!H.parentElement?!1:v(H.parentElement)}e.isMonacoEditor=v;function b(H){return H.tagName==="A"&&H.classList.contains("monaco-button")||H.tagName==="DIV"&&H.classList.contains("monaco-button-dropdown")?!0:H.classList.contains("monaco-list")||!H.parentElement?!1:b(H.parentElement)}e.isButton=b;class w{get onKeyDown(){return this.disposables.add(t.Event.chain(this.disposables.add(new k.DomEmitter(this.view.domNode,"keydown")).event).filter(B=>!g(B.target)).map(B=>new y.StandardKeyboardEvent(B)))}constructor(B,K,Z){this.list=B,this.view=K,this.disposables=new o.DisposableStore,this.multipleSelectionDisposables=new o.DisposableStore,this.onKeyDown.filter(J=>J.keyCode===3).on(this.onEnter,this,this.disposables),this.onKeyDown.filter(J=>J.keyCode===16).on(this.onUpArrow,this,this.disposables),this.onKeyDown.filter(J=>J.keyCode===18).on(this.onDownArrow,this,this.disposables),this.onKeyDown.filter(J=>J.keyCode===11).on(this.onPageUpArrow,this,this.disposables),this.onKeyDown.filter(J=>J.keyCode===12).on(this.onPageDownArrow,this,this.disposables),this.onKeyDown.filter(J=>J.keyCode===9).on(this.onEscape,this,this.disposables),Z.multipleSelectionSupport!==!1&&this.onKeyDown.filter(J=>(d.isMacintosh?J.metaKey:J.ctrlKey)&&J.keyCode===31).on(this.onCtrlA,this,this.multipleSelectionDisposables)}updateOptions(B){B.multipleSelectionSupport!==void 0&&(this.multipleSelectionDisposables.clear(),B.multipleSelectionSupport&&this.onKeyDown.filter(K=>(d.isMacintosh?K.metaKey:K.ctrlKey)&&K.keyCode===31).on(this.onCtrlA,this,this.multipleSelectionDisposables))}onEnter(B){B.preventDefault(),B.stopPropagation(),this.list.setSelection(this.list.getFocus(),B.browserEvent)}onUpArrow(B){B.preventDefault(),B.stopPropagation(),this.list.focusPrevious(1,!1,B.browserEvent);const K=this.list.getFocus()[0];this.list.setAnchor(K),this.list.reveal(K),this.view.domNode.focus()}onDownArrow(B){B.preventDefault(),B.stopPropagation(),this.list.focusNext(1,!1,B.browserEvent);const K=this.list.getFocus()[0];this.list.setAnchor(K),this.list.reveal(K),this.view.domNode.focus()}onPageUpArrow(B){B.preventDefault(),B.stopPropagation(),this.list.focusPreviousPage(B.browserEvent);const K=this.list.getFocus()[0];this.list.setAnchor(K),this.list.reveal(K),this.view.domNode.focus()}onPageDownArrow(B){B.preventDefault(),B.stopPropagation(),this.list.focusNextPage(B.browserEvent);const K=this.list.getFocus()[0];this.list.setAnchor(K),this.list.reveal(K),this.view.domNode.focus()}onCtrlA(B){B.preventDefault(),B.stopPropagation(),this.list.setSelection((0,_.range)(this.list.length),B.browserEvent),this.list.setAnchor(void 0),this.view.domNode.focus()}onEscape(B){this.list.getSelection().length&&(B.preventDefault(),B.stopPropagation(),this.list.setSelection([],B.browserEvent),this.list.setAnchor(void 0),this.view.domNode.focus())}dispose(){this.disposables.dispose(),this.multipleSelectionDisposables.dispose()}}Ne([s.memoize],w.prototype,"onKeyDown",null);var E;(function(H){H[H.Automatic=0]="Automatic",H[H.Trigger=1]="Trigger"})(E||(e.TypeNavigationMode=E={}));var I;(function(H){H[H.Idle=0]="Idle",H[H.Typing=1]="Typing"})(I||(I={})),e.DefaultKeyboardNavigationDelegate=new class{mightProducePrintableCharacter(H){return H.ctrlKey||H.metaKey||H.altKey?!1:H.keyCode>=31&&H.keyCode<=56||H.keyCode>=21&&H.keyCode<=30||H.keyCode>=98&&H.keyCode<=107||H.keyCode>=85&&H.keyCode<=95}};class T{constructor(B,K,Z,J,ne){this.list=B,this.view=K,this.keyboardNavigationLabelProvider=Z,this.keyboardNavigationEventFilter=J,this.delegate=ne,this.enabled=!1,this.state=I.Idle,this.mode=E.Automatic,this.triggered=!1,this.previouslyFocused=-1,this.enabledDisposables=new o.DisposableStore,this.disposables=new o.DisposableStore,this.updateOptions(B.options)}updateOptions(B){var K,Z;!((K=B.typeNavigationEnabled)!==null&&K!==void 0)||K?this.enable():this.disable(),this.mode=(Z=B.typeNavigationMode)!==null&&Z!==void 0?Z:E.Automatic}enable(){if(this.enabled)return;let B=!1;const K=this.enabledDisposables.add(t.Event.chain(this.enabledDisposables.add(new k.DomEmitter(this.view.domNode,"keydown")).event)).filter(ne=>!g(ne.target)).filter(()=>this.mode===E.Automatic||this.triggered).map(ne=>new y.StandardKeyboardEvent(ne)).filter(ne=>B||this.keyboardNavigationEventFilter(ne)).filter(ne=>this.delegate.mightProducePrintableCharacter(ne)).forEach(ne=>L.EventHelper.stop(ne,!0)).map(ne=>ne.browserEvent.key).event,Z=t.Event.debounce(K,()=>null,800,void 0,void 0,void 0,this.enabledDisposables);t.Event.reduce(t.Event.any(K,Z),(ne,he)=>he===null?null:(ne||"")+he,void 0,this.enabledDisposables)(this.onInput,this,this.enabledDisposables),Z(this.onClear,this,this.enabledDisposables),K(()=>B=!0,void 0,this.enabledDisposables),Z(()=>B=!1,void 0,this.enabledDisposables),this.enabled=!0,this.triggered=!1}disable(){this.enabled&&(this.enabledDisposables.clear(),this.enabled=!1,this.triggered=!1)}onClear(){var B;const K=this.list.getFocus();if(K.length>0&&K[0]===this.previouslyFocused){const Z=(B=this.list.options.accessibilityProvider)===null||B===void 0?void 0:B.getAriaLabel(this.list.element(K[0]));Z&&(0,S.alert)(Z)}this.previouslyFocused=-1}onInput(B){if(!B){this.state=I.Idle,this.triggered=!1;return}const K=this.list.getFocus(),Z=K.length>0?K[0]:0,J=this.state===I.Idle?1:0;this.state=I.Typing;for(let ne=0;ne<this.list.length;ne++){const he=(Z+ne+J)%this.list.length,de=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(this.view.element(he)),ae=de&&de.toString();if(typeof ae>"u"||(0,i.matchesPrefix)(B,ae)){this.previouslyFocused=Z,this.list.setFocus([he]),this.list.reveal(he);return}}}dispose(){this.disable(),this.enabledDisposables.dispose(),this.disposables.dispose()}}class P{constructor(B,K){this.list=B,this.view=K,this.disposables=new o.DisposableStore,this.disposables.add(t.Event.chain(this.disposables.add(new k.DomEmitter(K.domNode,"keydown")).event)).filter(J=>!g(J.target)).map(J=>new y.StandardKeyboardEvent(J)).filter(J=>J.keyCode===2&&!J.ctrlKey&&!J.metaKey&&!J.shiftKey&&!J.altKey).on(this.onTab,this,this.disposables)}onTab(B){if(B.target!==this.view.domNode)return;const K=this.list.getFocus();if(K.length===0)return;const Z=this.view.domElement(K[0]);if(!Z)return;const J=Z.querySelector("[tabIndex]");if(!J||!(J instanceof HTMLElement)||J.tabIndex===-1)return;const ne=window.getComputedStyle(J);ne.visibility==="hidden"||ne.display==="none"||(B.preventDefault(),B.stopPropagation(),J.focus())}dispose(){this.disposables.dispose()}}function A(H){return d.isMacintosh?H.browserEvent.metaKey:H.browserEvent.ctrlKey}e.isSelectionSingleChangeEvent=A;function M(H){return H.browserEvent.shiftKey}e.isSelectionRangeChangeEvent=M;function N(H){return H instanceof MouseEvent&&H.button===2}const R={isSelectionSingleChangeEvent:A,isSelectionRangeChangeEvent:M};class F{constructor(B){this.list=B,this.disposables=new o.DisposableStore,this._onPointer=new t.Emitter,this.onPointer=this._onPointer.event,B.options.multipleSelectionSupport!==!1&&(this.multipleSelectionController=this.list.options.multipleSelectionController||R),this.mouseSupport=typeof B.options.mouseSupport>"u"||!!B.options.mouseSupport,this.mouseSupport&&(B.onMouseDown(this.onMouseDown,this,this.disposables),B.onContextMenu(this.onContextMenu,this,this.disposables),B.onMouseDblClick(this.onDoubleClick,this,this.disposables),B.onTouchStart(this.onMouseDown,this,this.disposables),this.disposables.add(D.Gesture.addTarget(B.getHTMLElement()))),t.Event.any(B.onMouseClick,B.onMouseMiddleClick,B.onTap)(this.onViewPointer,this,this.disposables)}updateOptions(B){B.multipleSelectionSupport!==void 0&&(this.multipleSelectionController=void 0,B.multipleSelectionSupport&&(this.multipleSelectionController=this.list.options.multipleSelectionController||R))}isSelectionSingleChangeEvent(B){return this.multipleSelectionController?this.multipleSelectionController.isSelectionSingleChangeEvent(B):!1}isSelectionRangeChangeEvent(B){return this.multipleSelectionController?this.multipleSelectionController.isSelectionRangeChangeEvent(B):!1}isSelectionChangeEvent(B){return this.isSelectionSingleChangeEvent(B)||this.isSelectionRangeChangeEvent(B)}onMouseDown(B){v(B.browserEvent.target)||document.activeElement!==B.browserEvent.target&&this.list.domFocus()}onContextMenu(B){if(g(B.browserEvent.target)||v(B.browserEvent.target))return;const K=typeof B.index>"u"?[]:[B.index];this.list.setFocus(K,B.browserEvent)}onViewPointer(B){if(!this.mouseSupport||g(B.browserEvent.target)||v(B.browserEvent.target)||B.browserEvent.isHandledByList)return;B.browserEvent.isHandledByList=!0;const K=B.index;if(typeof K>"u"){this.list.setFocus([],B.browserEvent),this.list.setSelection([],B.browserEvent),this.list.setAnchor(void 0);return}if(this.isSelectionRangeChangeEvent(B))return this.changeSelection(B);if(this.isSelectionChangeEvent(B))return this.changeSelection(B);this.list.setFocus([K],B.browserEvent),this.list.setAnchor(K),N(B.browserEvent)||this.list.setSelection([K],B.browserEvent),this._onPointer.fire(B)}onDoubleClick(B){if(g(B.browserEvent.target)||v(B.browserEvent.target)||this.isSelectionChangeEvent(B)||B.browserEvent.isHandledByList)return;B.browserEvent.isHandledByList=!0;const K=this.list.getFocus();this.list.setSelection(K,B.browserEvent)}changeSelection(B){const K=B.index;let Z=this.list.getAnchor();if(this.isSelectionRangeChangeEvent(B)){if(typeof Z>"u"){const $=this.list.getFocus()[0];Z=$??K,this.list.setAnchor(Z)}const J=Math.min(Z,K),ne=Math.max(Z,K),he=(0,_.range)(J,ne+1),de=this.list.getSelection(),ae=z(U(de,[Z]),Z);if(ae.length===0)return;const ce=U(he,O(de,ae));this.list.setSelection(ce,B.browserEvent),this.list.setFocus([K],B.browserEvent)}else if(this.isSelectionSingleChangeEvent(B)){const J=this.list.getSelection(),ne=J.filter(he=>he!==K);this.list.setFocus([K]),this.list.setAnchor(K),J.length===ne.length?this.list.setSelection([...ne,K],B.browserEvent):this.list.setSelection(ne,B.browserEvent)}}dispose(){this.disposables.dispose()}}e.MouseController=F;class x{constructor(B,K){this.styleElement=B,this.selectorSuffix=K}style(B){var K,Z;const J=this.selectorSuffix&&`.${this.selectorSuffix}`,ne=[];B.listBackground&&ne.push(`.monaco-list${J} .monaco-list-rows { background: ${B.listBackground}; }`),B.listFocusBackground&&(ne.push(`.monaco-list${J}:focus .monaco-list-row.focused { background-color: ${B.listFocusBackground}; }`),ne.push(`.monaco-list${J}:focus .monaco-list-row.focused:hover { background-color: ${B.listFocusBackground}; }`)),B.listFocusForeground&&ne.push(`.monaco-list${J}:focus .monaco-list-row.focused { color: ${B.listFocusForeground}; }`),B.listActiveSelectionBackground&&(ne.push(`.monaco-list${J}:focus .monaco-list-row.selected { background-color: ${B.listActiveSelectionBackground}; }`),ne.push(`.monaco-list${J}:focus .monaco-list-row.selected:hover { background-color: ${B.listActiveSelectionBackground}; }`)),B.listActiveSelectionForeground&&ne.push(`.monaco-list${J}:focus .monaco-list-row.selected { color: ${B.listActiveSelectionForeground}; }`),B.listActiveSelectionIconForeground&&ne.push(`.monaco-list${J}:focus .monaco-list-row.selected .codicon { color: ${B.listActiveSelectionIconForeground}; }`),B.listFocusAndSelectionBackground&&ne.push(`
				.monaco-drag-image,
				.monaco-list${J}:focus .monaco-list-row.selected.focused { background-color: ${B.listFocusAndSelectionBackground}; }
			`),B.listFocusAndSelectionForeground&&ne.push(`
				.monaco-drag-image,
				.monaco-list${J}:focus .monaco-list-row.selected.focused { color: ${B.listFocusAndSelectionForeground}; }
			`),B.listInactiveFocusForeground&&(ne.push(`.monaco-list${J} .monaco-list-row.focused { color:  ${B.listInactiveFocusForeground}; }`),ne.push(`.monaco-list${J} .monaco-list-row.focused:hover { color:  ${B.listInactiveFocusForeground}; }`)),B.listInactiveSelectionIconForeground&&ne.push(`.monaco-list${J} .monaco-list-row.focused .codicon { color:  ${B.listInactiveSelectionIconForeground}; }`),B.listInactiveFocusBackground&&(ne.push(`.monaco-list${J} .monaco-list-row.focused { background-color:  ${B.listInactiveFocusBackground}; }`),ne.push(`.monaco-list${J} .monaco-list-row.focused:hover { background-color:  ${B.listInactiveFocusBackground}; }`)),B.listInactiveSelectionBackground&&(ne.push(`.monaco-list${J} .monaco-list-row.selected { background-color:  ${B.listInactiveSelectionBackground}; }`),ne.push(`.monaco-list${J} .monaco-list-row.selected:hover { background-color:  ${B.listInactiveSelectionBackground}; }`)),B.listInactiveSelectionForeground&&ne.push(`.monaco-list${J} .monaco-list-row.selected { color: ${B.listInactiveSelectionForeground}; }`),B.listHoverBackground&&ne.push(`.monaco-list${J}:not(.drop-target):not(.dragging) .monaco-list-row:hover:not(.selected):not(.focused) { background-color: ${B.listHoverBackground}; }`),B.listHoverForeground&&ne.push(`.monaco-list${J}:not(.drop-target):not(.dragging) .monaco-list-row:hover:not(.selected):not(.focused) { color:  ${B.listHoverForeground}; }`);const he=(0,L.asCssValueWithDefault)(B.listFocusAndSelectionOutline,(0,L.asCssValueWithDefault)(B.listSelectionOutline,(K=B.listFocusOutline)!==null&&K!==void 0?K:""));he&&ne.push(`.monaco-list${J}:focus .monaco-list-row.focused.selected { outline: 1px solid ${he}; outline-offset: -1px;}`),B.listFocusOutline&&ne.push(`
				.monaco-drag-image,
				.monaco-list${J}:focus .monaco-list-row.focused { outline: 1px solid ${B.listFocusOutline}; outline-offset: -1px; }
				.monaco-workbench.context-menu-visible .monaco-list${J}.last-focused .monaco-list-row.focused { outline: 1px solid ${B.listFocusOutline}; outline-offset: -1px; }
			`);const de=(0,L.asCssValueWithDefault)(B.listSelectionOutline,(Z=B.listInactiveFocusOutline)!==null&&Z!==void 0?Z:"");de&&ne.push(`.monaco-list${J} .monaco-list-row.focused.selected { outline: 1px dotted ${de}; outline-offset: -1px; }`),B.listSelectionOutline&&ne.push(`.monaco-list${J} .monaco-list-row.selected { outline: 1px dotted ${B.listSelectionOutline}; outline-offset: -1px; }`),B.listInactiveFocusOutline&&ne.push(`.monaco-list${J} .monaco-list-row.focused { outline: 1px dotted ${B.listInactiveFocusOutline}; outline-offset: -1px; }`),B.listHoverOutline&&ne.push(`.monaco-list${J} .monaco-list-row:hover { outline: 1px dashed ${B.listHoverOutline}; outline-offset: -1px; }`),B.listDropBackground&&ne.push(`
				.monaco-list${J}.drop-target,
				.monaco-list${J} .monaco-list-rows.drop-target,
				.monaco-list${J} .monaco-list-row.drop-target { background-color: ${B.listDropBackground} !important; color: inherit !important; }
			`),B.tableColumnsBorder&&ne.push(`
				.monaco-table > .monaco-split-view2,
				.monaco-table > .monaco-split-view2 .monaco-sash.vertical::before,
				.monaco-workbench:not(.reduce-motion) .monaco-table:hover > .monaco-split-view2,
				.monaco-workbench:not(.reduce-motion) .monaco-table:hover > .monaco-split-view2 .monaco-sash.vertical::before {
					border-color: ${B.tableColumnsBorder};
				}

				.monaco-workbench:not(.reduce-motion) .monaco-table > .monaco-split-view2,
				.monaco-workbench:not(.reduce-motion) .monaco-table > .monaco-split-view2 .monaco-sash.vertical::before {
					border-color: transparent;
				}
			`),B.tableOddRowsBackgroundColor&&ne.push(`
				.monaco-table .monaco-list-row[data-parity=odd]:not(.focused):not(.selected):not(:hover) .monaco-table-tr,
				.monaco-table .monaco-list:not(:focus) .monaco-list-row[data-parity=odd].focused:not(.selected):not(:hover) .monaco-table-tr,
				.monaco-table .monaco-list:not(.focused) .monaco-list-row[data-parity=odd].focused:not(.selected):not(:hover) .monaco-table-tr {
					background-color: ${B.tableOddRowsBackgroundColor};
				}
			`),this.styleElement.textContent=ne.join(`
`)}}e.DefaultStyleController=x,e.unthemedListStyles={listFocusBackground:"#7FB0D0",listActiveSelectionBackground:"#0E639C",listActiveSelectionForeground:"#FFFFFF",listActiveSelectionIconForeground:"#FFFFFF",listFocusAndSelectionOutline:"#90C2F9",listFocusAndSelectionBackground:"#094771",listFocusAndSelectionForeground:"#FFFFFF",listInactiveSelectionBackground:"#3F3F46",listInactiveSelectionIconForeground:"#FFFFFF",listHoverBackground:"#2A2D2E",listDropBackground:"#383B3D",treeIndentGuidesStroke:"#a9a9a9",treeInactiveIndentGuidesStroke:p.Color.fromHex("#a9a9a9").transparent(.4).toString(),tableColumnsBorder:p.Color.fromHex("#cccccc").transparent(.2).toString(),tableOddRowsBackgroundColor:p.Color.fromHex("#cccccc").transparent(.04).toString(),listBackground:void 0,listFocusForeground:void 0,listInactiveSelectionForeground:void 0,listInactiveFocusForeground:void 0,listInactiveFocusBackground:void 0,listHoverForeground:void 0,listFocusOutline:void 0,listInactiveFocusOutline:void 0,listSelectionOutline:void 0,listHoverOutline:void 0};const W={keyboardSupport:!0,mouseSupport:!0,multipleSelectionSupport:!0,dnd:{getDragURI(){return null},onDragStart(){},onDragOver(){return!1},drop(){}}};function z(H,B){const K=H.indexOf(B);if(K===-1)return[];const Z=[];let J=K-1;for(;J>=0&&H[J]===B-(K-J);)Z.push(H[J--]);for(Z.reverse(),J=K;J<H.length&&H[J]===B+(J-K);)Z.push(H[J++]);return Z}function U(H,B){const K=[];let Z=0,J=0;for(;Z<H.length||J<B.length;)if(Z>=H.length)K.push(B[J++]);else if(J>=B.length)K.push(H[Z++]);else if(H[Z]===B[J]){K.push(H[Z]),Z++,J++;continue}else H[Z]<B[J]?K.push(H[Z++]):K.push(B[J++]);return K}function O(H,B){const K=[];let Z=0,J=0;for(;Z<H.length||J<B.length;)if(Z>=H.length)K.push(B[J++]);else if(J>=B.length)K.push(H[Z++]);else if(H[Z]===B[J]){Z++,J++;continue}else H[Z]<B[J]?K.push(H[Z++]):J++;return K}const G=(H,B)=>H-B;class Q{constructor(B,K){this._templateId=B,this.renderers=K}get templateId(){return this._templateId}renderTemplate(B){return this.renderers.map(K=>K.renderTemplate(B))}renderElement(B,K,Z,J){let ne=0;for(const he of this.renderers)he.renderElement(B,K,Z[ne++],J)}disposeElement(B,K,Z,J){var ne;let he=0;for(const de of this.renderers)(ne=de.disposeElement)===null||ne===void 0||ne.call(de,B,K,Z[he],J),he+=1}disposeTemplate(B){let K=0;for(const Z of this.renderers)Z.disposeTemplate(B[K++])}}class re{constructor(B){this.accessibilityProvider=B,this.templateId="a18n"}renderTemplate(B){return B}renderElement(B,K,Z){const J=this.accessibilityProvider.getAriaLabel(B);J?Z.setAttribute("aria-label",J):Z.removeAttribute("aria-label");const ne=this.accessibilityProvider.getAriaLevel&&this.accessibilityProvider.getAriaLevel(B);typeof ne=="number"?Z.setAttribute("aria-level",`${ne}`):Z.removeAttribute("aria-level")}disposeTemplate(B){}}class oe{constructor(B,K){this.list=B,this.dnd=K}getDragElements(B){const K=this.list.getSelectedElements();return K.indexOf(B)>-1?K:[B]}getDragURI(B){return this.dnd.getDragURI(B)}getDragLabel(B,K){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(B,K)}onDragStart(B,K){var Z,J;(J=(Z=this.dnd).onDragStart)===null||J===void 0||J.call(Z,B,K)}onDragOver(B,K,Z,J){return this.dnd.onDragOver(B,K,Z,J)}onDragLeave(B,K,Z,J){var ne,he;(he=(ne=this.dnd).onDragLeave)===null||he===void 0||he.call(ne,B,K,Z,J)}onDragEnd(B){var K,Z;(Z=(K=this.dnd).onDragEnd)===null||Z===void 0||Z.call(K,B)}drop(B,K,Z,J){this.dnd.drop(B,K,Z,J)}}class te{get onDidChangeFocus(){return t.Event.map(this.eventBufferer.wrapEvent(this.focus.onChange),B=>this.toListEvent(B),this.disposables)}get onDidChangeSelection(){return t.Event.map(this.eventBufferer.wrapEvent(this.selection.onChange),B=>this.toListEvent(B),this.disposables)}get domId(){return this.view.domId}get onMouseClick(){return this.view.onMouseClick}get onMouseDblClick(){return this.view.onMouseDblClick}get onMouseMiddleClick(){return this.view.onMouseMiddleClick}get onPointer(){return this.mouseController.onPointer}get onMouseDown(){return this.view.onMouseDown}get onMouseOver(){return this.view.onMouseOver}get onMouseOut(){return this.view.onMouseOut}get onTouchStart(){return this.view.onTouchStart}get onTap(){return this.view.onTap}get onContextMenu(){let B=!1;const K=this.disposables.add(t.Event.chain(this.disposables.add(new k.DomEmitter(this.view.domNode,"keydown")).event)).map(ne=>new y.StandardKeyboardEvent(ne)).filter(ne=>B=ne.keyCode===58||ne.shiftKey&&ne.keyCode===68).map(ne=>L.EventHelper.stop(ne,!0)).filter(()=>!1).event,Z=this.disposables.add(t.Event.chain(this.disposables.add(new k.DomEmitter(this.view.domNode,"keyup")).event)).forEach(()=>B=!1).map(ne=>new y.StandardKeyboardEvent(ne)).filter(ne=>ne.keyCode===58||ne.shiftKey&&ne.keyCode===68).map(ne=>L.EventHelper.stop(ne,!0)).map(({browserEvent:ne})=>{const he=this.getFocus(),de=he.length?he[0]:void 0,ae=typeof de<"u"?this.view.element(de):void 0,ce=typeof de<"u"?this.view.domElement(de):this.view.domNode;return{index:de,element:ae,anchor:ce,browserEvent:ne}}).event,J=this.disposables.add(t.Event.chain(this.view.onContextMenu)).filter(ne=>!B).map(({element:ne,index:he,browserEvent:de})=>({element:ne,index:he,anchor:{x:de.pageX+1,y:de.pageY},browserEvent:de})).event;return t.Event.any(K,Z,J)}get onKeyDown(){return this.disposables.add(new k.DomEmitter(this.view.domNode,"keydown")).event}get onDidFocus(){return t.Event.signal(this.disposables.add(new k.DomEmitter(this.view.domNode,"focus",!0)).event)}constructor(B,K,Z,J,ne=W){var he,de,ae,ce;this.user=B,this._options=ne,this.focus=new l("focused"),this.anchor=new l("anchor"),this.eventBufferer=new t.EventBufferer,this._ariaLabel="",this.disposables=new o.DisposableStore,this._onDidDispose=new t.Emitter,this.onDidDispose=this._onDidDispose.event;const $=this._options.accessibilityProvider&&this._options.accessibilityProvider.getWidgetRole?(he=this._options.accessibilityProvider)===null||he===void 0?void 0:he.getWidgetRole():"list";this.selection=new u($!=="listbox");const V=[this.focus.renderer,this.selection.renderer];this.accessibilityProvider=ne.accessibilityProvider,this.accessibilityProvider&&(V.push(new re(this.accessibilityProvider)),(ae=(de=this.accessibilityProvider).onDidChangeActiveDescendant)===null||ae===void 0||ae.call(de,this.onDidChangeActiveDescendant,this,this.disposables)),J=J.map(se=>new Q(se.templateId,[...V,se]));const j=Object.assign(Object.assign({},ne),{dnd:ne.dnd&&new oe(this,ne.dnd)});if(this.view=this.createListView(K,Z,J,j),this.view.domNode.setAttribute("role",$),ne.styleController)this.styleController=ne.styleController(this.view.domId);else{const se=(0,L.createStyleSheet)(this.view.domNode);this.styleController=new x(se,this.view.domId)}if(this.spliceable=new m.CombinedSpliceable([new C(this.focus,this.view,ne.identityProvider),new C(this.selection,this.view,ne.identityProvider),new C(this.anchor,this.view,ne.identityProvider),this.view]),this.disposables.add(this.focus),this.disposables.add(this.selection),this.disposables.add(this.anchor),this.disposables.add(this.view),this.disposables.add(this._onDidDispose),this.disposables.add(new P(this,this.view)),(typeof ne.keyboardSupport!="boolean"||ne.keyboardSupport)&&(this.keyboardController=new w(this,this.view,ne),this.disposables.add(this.keyboardController)),ne.keyboardNavigationLabelProvider){const se=ne.keyboardNavigationDelegate||e.DefaultKeyboardNavigationDelegate;this.typeNavigationController=new T(this,this.view,ne.keyboardNavigationLabelProvider,(ce=ne.keyboardNavigationEventFilter)!==null&&ce!==void 0?ce:()=>!0,se),this.disposables.add(this.typeNavigationController)}this.mouseController=this.createMouseController(ne),this.disposables.add(this.mouseController),this.onDidChangeFocus(this._onFocusChange,this,this.disposables),this.onDidChangeSelection(this._onSelectionChange,this,this.disposables),this.accessibilityProvider&&(this.ariaLabel=this.accessibilityProvider.getWidgetAriaLabel()),this._options.multipleSelectionSupport!==!1&&this.view.domNode.setAttribute("aria-multiselectable","true")}createListView(B,K,Z,J){return new c.ListView(B,K,Z,J)}createMouseController(B){return new F(this)}updateOptions(B={}){var K,Z;this._options=Object.assign(Object.assign({},this._options),B),(K=this.typeNavigationController)===null||K===void 0||K.updateOptions(this._options),this._options.multipleSelectionController!==void 0&&(this._options.multipleSelectionSupport?this.view.domNode.setAttribute("aria-multiselectable","true"):this.view.domNode.removeAttribute("aria-multiselectable")),this.mouseController.updateOptions(B),(Z=this.keyboardController)===null||Z===void 0||Z.updateOptions(B),this.view.updateOptions(B)}get options(){return this._options}splice(B,K,Z=[]){if(B<0||B>this.view.length)throw new n.ListError(this.user,`Invalid start index: ${B}`);if(K<0)throw new n.ListError(this.user,`Invalid delete count: ${K}`);K===0&&Z.length===0||this.eventBufferer.bufferEvents(()=>this.spliceable.splice(B,K,Z))}rerender(){this.view.rerender()}element(B){return this.view.element(B)}get length(){return this.view.length}get contentHeight(){return this.view.contentHeight}get scrollTop(){return this.view.getScrollTop()}set scrollTop(B){this.view.setScrollTop(B)}get scrollHeight(){return this.view.scrollHeight}get firstVisibleIndex(){return this.view.firstVisibleIndex}get ariaLabel(){return this._ariaLabel}set ariaLabel(B){this._ariaLabel=B,this.view.domNode.setAttribute("aria-label",B)}domFocus(){this.view.domNode.focus({preventScroll:!0})}layout(B,K){this.view.layout(B,K)}setSelection(B,K){for(const Z of B)if(Z<0||Z>=this.length)throw new n.ListError(this.user,`Invalid index ${Z}`);this.selection.set(B,K)}getSelection(){return this.selection.get()}getSelectedElements(){return this.getSelection().map(B=>this.view.element(B))}setAnchor(B){if(typeof B>"u"){this.anchor.set([]);return}if(B<0||B>=this.length)throw new n.ListError(this.user,`Invalid index ${B}`);this.anchor.set([B])}getAnchor(){return(0,_.firstOrDefault)(this.anchor.get(),void 0)}getAnchorElement(){const B=this.getAnchor();return typeof B>"u"?void 0:this.element(B)}setFocus(B,K){for(const Z of B)if(Z<0||Z>=this.length)throw new n.ListError(this.user,`Invalid index ${Z}`);this.focus.set(B,K)}focusNext(B=1,K=!1,Z,J){if(this.length===0)return;const ne=this.focus.get(),he=this.findNextIndex(ne.length>0?ne[0]+B:0,K,J);he>-1&&this.setFocus([he],Z)}focusPrevious(B=1,K=!1,Z,J){if(this.length===0)return;const ne=this.focus.get(),he=this.findPreviousIndex(ne.length>0?ne[0]-B:0,K,J);he>-1&&this.setFocus([he],Z)}focusNextPage(B,K){return Le(this,void 0,void 0,function*(){let Z=this.view.indexAt(this.view.getScrollTop()+this.view.renderHeight);Z=Z===0?0:Z-1;const J=this.getFocus()[0];if(J!==Z&&(J===void 0||Z>J)){const ne=this.findPreviousIndex(Z,!1,K);ne>-1&&J!==ne?this.setFocus([ne],B):this.setFocus([Z],B)}else{const ne=this.view.getScrollTop();let he=ne+this.view.renderHeight;Z>J&&(he-=this.view.elementHeight(Z)),this.view.setScrollTop(he),this.view.getScrollTop()!==ne&&(this.setFocus([]),yield(0,f.timeout)(0),yield this.focusNextPage(B,K))}})}focusPreviousPage(B,K){return Le(this,void 0,void 0,function*(){let Z;const J=this.view.getScrollTop();J===0?Z=this.view.indexAt(J):Z=this.view.indexAfter(J-1);const ne=this.getFocus()[0];if(ne!==Z&&(ne===void 0||ne>=Z)){const he=this.findNextIndex(Z,!1,K);he>-1&&ne!==he?this.setFocus([he],B):this.setFocus([Z],B)}else{const he=J;this.view.setScrollTop(J-this.view.renderHeight),this.view.getScrollTop()!==he&&(this.setFocus([]),yield(0,f.timeout)(0),yield this.focusPreviousPage(B,K))}})}focusLast(B,K){if(this.length===0)return;const Z=this.findPreviousIndex(this.length-1,!1,K);Z>-1&&this.setFocus([Z],B)}focusFirst(B,K){this.focusNth(0,B,K)}focusNth(B,K,Z){if(this.length===0)return;const J=this.findNextIndex(B,!1,Z);J>-1&&this.setFocus([J],K)}findNextIndex(B,K=!1,Z){for(let J=0;J<this.length;J++){if(B>=this.length&&!K)return-1;if(B=B%this.length,!Z||Z(this.element(B)))return B;B++}return-1}findPreviousIndex(B,K=!1,Z){for(let J=0;J<this.length;J++){if(B<0&&!K)return-1;if(B=(this.length+B%this.length)%this.length,!Z||Z(this.element(B)))return B;B--}return-1}getFocus(){return this.focus.get()}getFocusedElements(){return this.getFocus().map(B=>this.view.element(B))}reveal(B,K){if(B<0||B>=this.length)throw new n.ListError(this.user,`Invalid index ${B}`);const Z=this.view.getScrollTop(),J=this.view.elementTop(B),ne=this.view.elementHeight(B);if((0,h.isNumber)(K)){const he=ne-this.view.renderHeight;this.view.setScrollTop(he*(0,r.clamp)(K,0,1)+J)}else{const he=J+ne,de=Z+this.view.renderHeight;J<Z&&he>=de||(J<Z||he>=de&&ne>=this.view.renderHeight?this.view.setScrollTop(J):he>=de&&this.view.setScrollTop(he-this.view.renderHeight))}}getHTMLElement(){return this.view.domNode}getElementID(B){return this.view.getElementDomId(B)}style(B){this.styleController.style(B)}toListEvent({indexes:B,browserEvent:K}){return{indexes:B,elements:B.map(Z=>this.view.element(Z)),browserEvent:K}}_onFocusChange(){const B=this.focus.get();this.view.domNode.classList.toggle("element-focused",B.length>0),this.onDidChangeActiveDescendant()}onDidChangeActiveDescendant(){var B;const K=this.focus.get();if(K.length>0){let Z;!((B=this.accessibilityProvider)===null||B===void 0)&&B.getActiveDescendantId&&(Z=this.accessibilityProvider.getActiveDescendantId(this.view.element(K[0]))),this.view.domNode.setAttribute("aria-activedescendant",Z||this.view.getElementDomId(K[0]))}else this.view.domNode.removeAttribute("aria-activedescendant")}_onSelectionChange(){const B=this.selection.get();this.view.domNode.classList.toggle("selection-none",B.length===0),this.view.domNode.classList.toggle("selection-single",B.length===1),this.view.domNode.classList.toggle("selection-multiple",B.length>1)}dispose(){this._onDidDispose.fire(),this.disposables.dispose(),this._onDidDispose.dispose()}}e.List=te,Ne([s.memoize],te.prototype,"onDidChangeFocus",null),Ne([s.memoize],te.prototype,"onDidChangeSelection",null),Ne([s.memoize],te.prototype,"onContextMenu",null),Ne([s.memoize],te.prototype,"onKeyDown",null),Ne([s.memoize],te.prototype,"onDidFocus",null)}),define(X[573],ee([1,0,16,20,6,2,113,266]),function(q,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PagedList=void 0;class m{get templateId(){return this.renderer.templateId}constructor(t,i){this.renderer=t,this.modelProvider=i}renderTemplate(t){return{data:this.renderer.renderTemplate(t),disposable:D.Disposable.None}}renderElement(t,i,o,r){var d;if((d=o.disposable)===null||d===void 0||d.dispose(),!o.data)return;const h=this.modelProvider();if(h.isResolved(t))return this.renderer.renderElement(h.get(t),t,o.data,r);const n=new k.CancellationTokenSource,c=h.resolve(t,n.token);o.disposable={dispose:()=>n.cancel()},this.renderer.renderPlaceholder(t,o.data),c.then(a=>this.renderer.renderElement(a,t,o.data,r))}disposeTemplate(t){t.disposable&&(t.disposable.dispose(),t.disposable=void 0),t.data&&(this.renderer.disposeTemplate(t.data),t.data=void 0)}}class _{constructor(t,i){this.modelProvider=t,this.accessibilityProvider=i}getWidgetAriaLabel(){return this.accessibilityProvider.getWidgetAriaLabel()}getAriaLabel(t){const i=this.modelProvider();return i.isResolved(t)?this.accessibilityProvider.getAriaLabel(i.get(t)):null}}function f(s,t){return Object.assign(Object.assign({},t),{accessibilityProvider:t.accessibilityProvider&&new _(s,t.accessibilityProvider)})}class p{constructor(t,i,o,r,d={}){const h=()=>this.model,n=r.map(c=>new m(c,h));this.list=new S.List(t,i,o,n,f(h,d))}updateOptions(t){this.list.updateOptions(t)}getHTMLElement(){return this.list.getHTMLElement()}get onDidFocus(){return this.list.onDidFocus}get onDidDispose(){return this.list.onDidDispose}get onMouseDblClick(){return y.Event.map(this.list.onMouseDblClick,({element:t,index:i,browserEvent:o})=>({element:t===void 0?void 0:this._model.get(t),index:i,browserEvent:o}))}get onPointer(){return y.Event.map(this.list.onPointer,({element:t,index:i,browserEvent:o})=>({element:t===void 0?void 0:this._model.get(t),index:i,browserEvent:o}))}get onDidChangeSelection(){return y.Event.map(this.list.onDidChangeSelection,({elements:t,indexes:i,browserEvent:o})=>({elements:t.map(r=>this._model.get(r)),indexes:i,browserEvent:o}))}get model(){return this._model}set model(t){this._model=t,this.list.splice(0,this.list.length,(0,L.range)(t.length))}getFocus(){return this.list.getFocus()}getSelection(){return this.list.getSelection()}getSelectedElements(){return this.getSelection().map(t=>this.model.get(t))}style(t){this.list.style(t)}dispose(){this.list.dispose()}}e.PagedList=p}),define(X[307],ee([1,0,7,80,130,74,16,36,6,2,139,169,18,404]),function(q,e,L,k,y,D,S,m,_,f,p,s,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SplitView=e.Sizing=void 0;const i={separatorBorder:m.Color.transparent};class o{set size(l){this._size=l}get size(){return this._size}get visible(){return typeof this._cachedVisibleSize>"u"}setVisible(l,u){var C,g;l!==this.visible&&(l?(this.size=(0,p.clamp)(this._cachedVisibleSize,this.viewMinimumSize,this.viewMaximumSize),this._cachedVisibleSize=void 0):(this._cachedVisibleSize=typeof u=="number"?u:this.size,this.size=0),this.container.classList.toggle("visible",l),(g=(C=this.view).setVisible)===null||g===void 0||g.call(C,l))}get minimumSize(){return this.visible?this.view.minimumSize:0}get viewMinimumSize(){return this.view.minimumSize}get maximumSize(){return this.visible?this.view.maximumSize:0}get viewMaximumSize(){return this.view.maximumSize}get priority(){return this.view.priority}get proportionalLayout(){var l;return(l=this.view.proportionalLayout)!==null&&l!==void 0?l:!0}get snap(){return!!this.view.snap}set enabled(l){this.container.style.pointerEvents=l?"":"none"}constructor(l,u,C,g){this.container=l,this.view=u,this.disposable=g,this._cachedVisibleSize=void 0,typeof C=="number"?(this._size=C,this._cachedVisibleSize=void 0,l.classList.add("visible")):(this._size=0,this._cachedVisibleSize=C.cachedVisibleSize)}layout(l,u){this.layoutContainer(l),this.view.layout(this.size,l,u)}dispose(){return this.disposable.dispose(),this.view}}class r extends o{layoutContainer(l){this.container.style.top=`${l}px`,this.container.style.height=`${this.size}px`}}class d extends o{layoutContainer(l){this.container.style.left=`${l}px`,this.container.style.width=`${this.size}px`}}var h;(function(a){a[a.Idle=0]="Idle",a[a.Busy=1]="Busy"})(h||(h={}));var n;(function(a){a.Distribute={type:"distribute"};function l(g){return{type:"split",index:g}}a.Split=l;function u(g){return{type:"auto",index:g}}a.Auto=u;function C(g){return{type:"invisible",cachedVisibleSize:g}}a.Invisible=C})(n||(e.Sizing=n={}));class c extends f.Disposable{get orthogonalStartSash(){return this._orthogonalStartSash}get orthogonalEndSash(){return this._orthogonalEndSash}get startSnappingEnabled(){return this._startSnappingEnabled}get endSnappingEnabled(){return this._endSnappingEnabled}set orthogonalStartSash(l){for(const u of this.sashItems)u.sash.orthogonalStartSash=l;this._orthogonalStartSash=l}set orthogonalEndSash(l){for(const u of this.sashItems)u.sash.orthogonalEndSash=l;this._orthogonalEndSash=l}set startSnappingEnabled(l){this._startSnappingEnabled!==l&&(this._startSnappingEnabled=l,this.updateSashEnablement())}set endSnappingEnabled(l){this._endSnappingEnabled!==l&&(this._endSnappingEnabled=l,this.updateSashEnablement())}constructor(l,u={}){var C,g,v,b,w;super(),this.size=0,this.contentSize=0,this.proportions=void 0,this.viewItems=[],this.sashItems=[],this.state=h.Idle,this._onDidSashChange=this._register(new _.Emitter),this._onDidSashReset=this._register(new _.Emitter),this._startSnappingEnabled=!0,this._endSnappingEnabled=!0,this.onDidSashChange=this._onDidSashChange.event,this.onDidSashReset=this._onDidSashReset.event,this.orientation=(C=u.orientation)!==null&&C!==void 0?C:0,this.inverseAltBehavior=(g=u.inverseAltBehavior)!==null&&g!==void 0?g:!1,this.proportionalLayout=(v=u.proportionalLayout)!==null&&v!==void 0?v:!0,this.getSashOrthogonalSize=u.getSashOrthogonalSize,this.el=document.createElement("div"),this.el.classList.add("monaco-split-view2"),this.el.classList.add(this.orientation===0?"vertical":"horizontal"),l.appendChild(this.el),this.sashContainer=(0,L.append)(this.el,(0,L.$)(".sash-container")),this.viewContainer=(0,L.$)(".split-view-container"),this.scrollable=new s.Scrollable({forceIntegerValues:!0,smoothScrollDuration:125,scheduleAtNextAnimationFrame:L.scheduleAtNextAnimationFrame}),this.scrollableElement=this._register(new D.SmoothScrollableElement(this.viewContainer,{vertical:this.orientation===0?(b=u.scrollbarVisibility)!==null&&b!==void 0?b:1:2,horizontal:this.orientation===1?(w=u.scrollbarVisibility)!==null&&w!==void 0?w:1:2},this.scrollable));const E=this._register(new k.DomEmitter(this.viewContainer,"scroll")).event;this._register(E(I=>{const T=this.scrollableElement.getScrollPosition(),P=Math.abs(this.viewContainer.scrollLeft-T.scrollLeft)<=1?void 0:this.viewContainer.scrollLeft,A=Math.abs(this.viewContainer.scrollTop-T.scrollTop)<=1?void 0:this.viewContainer.scrollTop;(P!==void 0||A!==void 0)&&this.scrollableElement.setScrollPosition({scrollLeft:P,scrollTop:A})})),this.onDidScroll=this.scrollableElement.onScroll,this._register(this.onDidScroll(I=>{I.scrollTopChanged&&(this.viewContainer.scrollTop=I.scrollTop),I.scrollLeftChanged&&(this.viewContainer.scrollLeft=I.scrollLeft)})),(0,L.append)(this.el,this.scrollableElement.getDomNode()),this.style(u.styles||i),u.descriptor&&(this.size=u.descriptor.size,u.descriptor.views.forEach((I,T)=>{const P=t.isUndefined(I.visible)||I.visible?I.size:{type:"invisible",cachedVisibleSize:I.size},A=I.view;this.doAddView(A,P,T,!0)}),this.contentSize=this.viewItems.reduce((I,T)=>I+T.size,0),this.saveProportions())}style(l){l.separatorBorder.isTransparent()?(this.el.classList.remove("separator-border"),this.el.style.removeProperty("--separator-border")):(this.el.classList.add("separator-border"),this.el.style.setProperty("--separator-border",l.separatorBorder.toString()))}addView(l,u,C=this.viewItems.length,g){this.doAddView(l,u,C,g)}layout(l,u){const C=Math.max(this.size,this.contentSize);if(this.size=l,this.layoutContext=u,this.proportions){let g=0;for(let v=0;v<this.viewItems.length;v++){const b=this.viewItems[v],w=this.proportions[v];typeof w=="number"?g+=w:l-=b.size}for(let v=0;v<this.viewItems.length;v++){const b=this.viewItems[v],w=this.proportions[v];typeof w=="number"&&(b.size=(0,p.clamp)(Math.round(w*l/g),b.minimumSize,b.maximumSize))}}else{const g=(0,S.range)(this.viewItems.length),v=g.filter(w=>this.viewItems[w].priority===1),b=g.filter(w=>this.viewItems[w].priority===2);this.resize(this.viewItems.length-1,l-C,void 0,v,b)}this.distributeEmptySpace(),this.layoutViews()}saveProportions(){this.proportionalLayout&&this.contentSize>0&&(this.proportions=this.viewItems.map(l=>l.proportionalLayout?l.size/this.contentSize:void 0))}onSashStart({sash:l,start:u,alt:C}){for(const w of this.viewItems)w.enabled=!1;const g=this.sashItems.findIndex(w=>w.sash===l),v=(0,f.combinedDisposable)((0,L.addDisposableListener)(document.body,"keydown",w=>b(this.sashDragState.current,w.altKey)),(0,L.addDisposableListener)(document.body,"keyup",()=>b(this.sashDragState.current,!1))),b=(w,E)=>{const I=this.viewItems.map(N=>N.size);let T=Number.NEGATIVE_INFINITY,P=Number.POSITIVE_INFINITY;if(this.inverseAltBehavior&&(E=!E),E)if(g===this.sashItems.length-1){const R=this.viewItems[g];T=(R.minimumSize-R.size)/2,P=(R.maximumSize-R.size)/2}else{const R=this.viewItems[g+1];T=(R.size-R.maximumSize)/2,P=(R.size-R.minimumSize)/2}let A,M;if(!E){const N=(0,S.range)(g,-1),R=(0,S.range)(g+1,this.viewItems.length),F=N.reduce((re,oe)=>re+(this.viewItems[oe].minimumSize-I[oe]),0),x=N.reduce((re,oe)=>re+(this.viewItems[oe].viewMaximumSize-I[oe]),0),W=R.length===0?Number.POSITIVE_INFINITY:R.reduce((re,oe)=>re+(I[oe]-this.viewItems[oe].minimumSize),0),z=R.length===0?Number.NEGATIVE_INFINITY:R.reduce((re,oe)=>re+(I[oe]-this.viewItems[oe].viewMaximumSize),0),U=Math.max(F,z),O=Math.min(W,x),G=this.findFirstSnapIndex(N),Q=this.findFirstSnapIndex(R);if(typeof G=="number"){const re=this.viewItems[G],oe=Math.floor(re.viewMinimumSize/2);A={index:G,limitDelta:re.visible?U-oe:U+oe,size:re.size}}if(typeof Q=="number"){const re=this.viewItems[Q],oe=Math.floor(re.viewMinimumSize/2);M={index:Q,limitDelta:re.visible?O+oe:O-oe,size:re.size}}}this.sashDragState={start:w,current:w,index:g,sizes:I,minDelta:T,maxDelta:P,alt:E,snapBefore:A,snapAfter:M,disposable:v}};b(u,C)}onSashChange({current:l}){const{index:u,start:C,sizes:g,alt:v,minDelta:b,maxDelta:w,snapBefore:E,snapAfter:I}=this.sashDragState;this.sashDragState.current=l;const T=l-C,P=this.resize(u,T,g,void 0,void 0,b,w,E,I);if(v){const A=u===this.sashItems.length-1,M=this.viewItems.map(z=>z.size),N=A?u:u+1,R=this.viewItems[N],F=R.size-R.maximumSize,x=R.size-R.minimumSize,W=A?u-1:u+1;this.resize(W,-P,M,void 0,void 0,F,x)}this.distributeEmptySpace(),this.layoutViews()}onSashEnd(l){this._onDidSashChange.fire(l),this.sashDragState.disposable.dispose(),this.saveProportions();for(const u of this.viewItems)u.enabled=!0}onViewChange(l,u){const C=this.viewItems.indexOf(l);C<0||C>=this.viewItems.length||(u=typeof u=="number"?u:l.size,u=(0,p.clamp)(u,l.minimumSize,l.maximumSize),this.inverseAltBehavior&&C>0?(this.resize(C-1,Math.floor((l.size-u)/2)),this.distributeEmptySpace(),this.layoutViews()):(l.size=u,this.relayout([C],void 0)))}resizeView(l,u){if(this.state!==h.Idle)throw new Error("Cant modify splitview");if(this.state=h.Busy,l<0||l>=this.viewItems.length)return;const C=(0,S.range)(this.viewItems.length).filter(w=>w!==l),g=[...C.filter(w=>this.viewItems[w].priority===1),l],v=C.filter(w=>this.viewItems[w].priority===2),b=this.viewItems[l];u=Math.round(u),u=(0,p.clamp)(u,b.minimumSize,Math.min(b.maximumSize,this.size)),b.size=u,this.relayout(g,v),this.state=h.Idle}distributeViewSizes(){const l=[];let u=0;for(const w of this.viewItems)w.maximumSize-w.minimumSize>0&&(l.push(w),u+=w.size);const C=Math.floor(u/l.length);for(const w of l)w.size=(0,p.clamp)(C,w.minimumSize,w.maximumSize);const g=(0,S.range)(this.viewItems.length),v=g.filter(w=>this.viewItems[w].priority===1),b=g.filter(w=>this.viewItems[w].priority===2);this.relayout(v,b)}getViewSize(l){return l<0||l>=this.viewItems.length?-1:this.viewItems[l].size}doAddView(l,u,C=this.viewItems.length,g){if(this.state!==h.Idle)throw new Error("Cant modify splitview");this.state=h.Busy;const v=(0,L.$)(".split-view-view");C===this.viewItems.length?this.viewContainer.appendChild(v):this.viewContainer.insertBefore(v,this.viewContainer.children.item(C));const b=l.onDidChange(A=>this.onViewChange(T,A)),w=(0,f.toDisposable)(()=>this.viewContainer.removeChild(v)),E=(0,f.combinedDisposable)(b,w);let I;typeof u=="number"?I=u:(u.type==="auto"&&(this.areViewsDistributed()?u={type:"distribute"}:u={type:"split",index:u.index}),u.type==="split"?I=this.getViewSize(u.index)/2:u.type==="invisible"?I={cachedVisibleSize:u.cachedVisibleSize}:I=l.minimumSize);const T=this.orientation===0?new r(v,l,I,E):new d(v,l,I,E);if(this.viewItems.splice(C,0,T),this.viewItems.length>1){const A={orthogonalStartSash:this.orthogonalStartSash,orthogonalEndSash:this.orthogonalEndSash},M=this.orientation===0?new y.Sash(this.sashContainer,{getHorizontalSashTop:re=>this.getSashPosition(re),getHorizontalSashWidth:this.getSashOrthogonalSize},Object.assign(Object.assign({},A),{orientation:1})):new y.Sash(this.sashContainer,{getVerticalSashLeft:re=>this.getSashPosition(re),getVerticalSashHeight:this.getSashOrthogonalSize},Object.assign(Object.assign({},A),{orientation:0})),N=this.orientation===0?re=>({sash:M,start:re.startY,current:re.currentY,alt:re.altKey}):re=>({sash:M,start:re.startX,current:re.currentX,alt:re.altKey}),F=_.Event.map(M.onDidStart,N)(this.onSashStart,this),W=_.Event.map(M.onDidChange,N)(this.onSashChange,this),U=_.Event.map(M.onDidEnd,()=>this.sashItems.findIndex(re=>re.sash===M))(this.onSashEnd,this),O=M.onDidReset(()=>{const re=this.sashItems.findIndex(K=>K.sash===M),oe=(0,S.range)(re,-1),te=(0,S.range)(re+1,this.viewItems.length),H=this.findFirstSnapIndex(oe),B=this.findFirstSnapIndex(te);typeof H=="number"&&!this.viewItems[H].visible||typeof B=="number"&&!this.viewItems[B].visible||this._onDidSashReset.fire(re)}),G=(0,f.combinedDisposable)(F,W,U,O,M),Q={sash:M,disposable:G};this.sashItems.splice(C-1,0,Q)}v.appendChild(l.element);let P;typeof u!="number"&&u.type==="split"&&(P=[u.index]),g||this.relayout([C],P),this.state=h.Idle,!g&&typeof u!="number"&&u.type==="distribute"&&this.distributeViewSizes()}relayout(l,u){const C=this.viewItems.reduce((g,v)=>g+v.size,0);this.resize(this.viewItems.length-1,this.size-C,void 0,l,u),this.distributeEmptySpace(),this.layoutViews(),this.saveProportions()}resize(l,u,C=this.viewItems.map(T=>T.size),g,v,b=Number.NEGATIVE_INFINITY,w=Number.POSITIVE_INFINITY,E,I){if(l<0||l>=this.viewItems.length)return 0;const T=(0,S.range)(l,-1),P=(0,S.range)(l+1,this.viewItems.length);if(v)for(const Q of v)(0,S.pushToStart)(T,Q),(0,S.pushToStart)(P,Q);if(g)for(const Q of g)(0,S.pushToEnd)(T,Q),(0,S.pushToEnd)(P,Q);const A=T.map(Q=>this.viewItems[Q]),M=T.map(Q=>C[Q]),N=P.map(Q=>this.viewItems[Q]),R=P.map(Q=>C[Q]),F=T.reduce((Q,re)=>Q+(this.viewItems[re].minimumSize-C[re]),0),x=T.reduce((Q,re)=>Q+(this.viewItems[re].maximumSize-C[re]),0),W=P.length===0?Number.POSITIVE_INFINITY:P.reduce((Q,re)=>Q+(C[re]-this.viewItems[re].minimumSize),0),z=P.length===0?Number.NEGATIVE_INFINITY:P.reduce((Q,re)=>Q+(C[re]-this.viewItems[re].maximumSize),0),U=Math.max(F,z,b),O=Math.min(W,x,w);let G=!1;if(E){const Q=this.viewItems[E.index],re=u>=E.limitDelta;G=re!==Q.visible,Q.setVisible(re,E.size)}if(!G&&I){const Q=this.viewItems[I.index],re=u<I.limitDelta;G=re!==Q.visible,Q.setVisible(re,I.size)}if(G)return this.resize(l,u,C,g,v,b,w);u=(0,p.clamp)(u,U,O);for(let Q=0,re=u;Q<A.length;Q++){const oe=A[Q],te=(0,p.clamp)(M[Q]+re,oe.minimumSize,oe.maximumSize),H=te-M[Q];re-=H,oe.size=te}for(let Q=0,re=u;Q<N.length;Q++){const oe=N[Q],te=(0,p.clamp)(R[Q]-re,oe.minimumSize,oe.maximumSize),H=te-R[Q];re+=H,oe.size=te}return u}distributeEmptySpace(l){const u=this.viewItems.reduce((w,E)=>w+E.size,0);let C=this.size-u;const g=(0,S.range)(this.viewItems.length-1,-1),v=g.filter(w=>this.viewItems[w].priority===1),b=g.filter(w=>this.viewItems[w].priority===2);for(const w of b)(0,S.pushToStart)(g,w);for(const w of v)(0,S.pushToEnd)(g,w);typeof l=="number"&&(0,S.pushToEnd)(g,l);for(let w=0;C!==0&&w<g.length;w++){const E=this.viewItems[g[w]],I=(0,p.clamp)(E.size+C,E.minimumSize,E.maximumSize),T=I-E.size;C-=T,E.size=I}}layoutViews(){this.contentSize=this.viewItems.reduce((u,C)=>u+C.size,0);let l=0;for(const u of this.viewItems)u.layout(l,this.layoutContext),l+=u.size;this.sashItems.forEach(u=>u.sash.layout()),this.updateSashEnablement(),this.updateScrollableElement()}updateScrollableElement(){this.orientation===0?this.scrollableElement.setScrollDimensions({height:this.size,scrollHeight:this.contentSize}):this.scrollableElement.setScrollDimensions({width:this.size,scrollWidth:this.contentSize})}updateSashEnablement(){let l=!1;const u=this.viewItems.map(E=>l=E.size-E.minimumSize>0||l);l=!1;const C=this.viewItems.map(E=>l=E.maximumSize-E.size>0||l),g=[...this.viewItems].reverse();l=!1;const v=g.map(E=>l=E.size-E.minimumSize>0||l).reverse();l=!1;const b=g.map(E=>l=E.maximumSize-E.size>0||l).reverse();let w=0;for(let E=0;E<this.sashItems.length;E++){const{sash:I}=this.sashItems[E],T=this.viewItems[E];w+=T.size;const P=!(u[E]&&b[E+1]),A=!(C[E]&&v[E+1]);if(P&&A){const M=(0,S.range)(E,-1),N=(0,S.range)(E+1,this.viewItems.length),R=this.findFirstSnapIndex(M),F=this.findFirstSnapIndex(N),x=typeof R=="number"&&!this.viewItems[R].visible,W=typeof F=="number"&&!this.viewItems[F].visible;x&&v[E]&&(w>0||this.startSnappingEnabled)?I.state=1:W&&u[E]&&(w<this.contentSize||this.endSnappingEnabled)?I.state=2:I.state=0}else P&&!A?I.state=1:!P&&A?I.state=2:I.state=3}}getSashPosition(l){let u=0;for(let C=0;C<this.sashItems.length;C++)if(u+=this.viewItems[C].size,this.sashItems[C].sash===l)return u;return 0}findFirstSnapIndex(l){for(const u of l){const C=this.viewItems[u];if(C.visible&&C.snap)return u}for(const u of l){const C=this.viewItems[u];if(C.visible&&C.maximumSize-C.minimumSize>0)return;if(!C.visible&&C.snap)return u}}areViewsDistributed(){let l,u;for(const C of this.viewItems)if(l=l===void 0?C.size:Math.min(l,C.size),u=u===void 0?C.size:Math.max(u,C.size),u-l>2)return!1;return!0}dispose(){var l;(l=this.sashDragState)===null||l===void 0||l.disposable.dispose(),(0,f.dispose)(this.viewItems),this.viewItems=[],this.sashItems.forEach(u=>u.disposable.dispose()),this.sashItems=[],super.dispose()}}e.SplitView=c}),define(X[574],ee([1,0,7,113,307,6,2,405]),function(q,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Table=void 0;class m{constructor(t,i,o){this.columns=t,this.getColumnSize=o,this.templateId=m.TemplateId,this.renderedTemplates=new Set;const r=new Map(i.map(d=>[d.templateId,d]));this.renderers=[];for(const d of t){const h=r.get(d.templateId);if(!h)throw new Error(`Table cell renderer for template id ${d.templateId} not found.`);this.renderers.push(h)}}renderTemplate(t){const i=(0,L.append)(t,(0,L.$)(".monaco-table-tr")),o=[],r=[];for(let h=0;h<this.columns.length;h++){const n=this.renderers[h],c=(0,L.append)(i,(0,L.$)(".monaco-table-td",{"data-col-index":h}));c.style.width=`${this.getColumnSize(h)}px`,o.push(c),r.push(n.renderTemplate(c))}const d={container:t,cellContainers:o,cellTemplateData:r};return this.renderedTemplates.add(d),d}renderElement(t,i,o,r){for(let d=0;d<this.columns.length;d++){const n=this.columns[d].project(t);this.renderers[d].renderElement(n,i,o.cellTemplateData[d],r)}}disposeElement(t,i,o,r){for(let d=0;d<this.columns.length;d++){const h=this.renderers[d];if(h.disposeElement){const c=this.columns[d].project(t);h.disposeElement(c,i,o.cellTemplateData[d],r)}}}disposeTemplate(t){for(let i=0;i<this.columns.length;i++)this.renderers[i].disposeTemplate(t.cellTemplateData[i]);(0,L.clearNode)(t.container),this.renderedTemplates.delete(t)}layoutColumn(t,i){for(const{cellContainers:o}of this.renderedTemplates)o[t].style.width=`${i}px`}}m.TemplateId="row";function _(s){return{getHeight(t){return s.getHeight(t)},getTemplateId(){return m.TemplateId}}}class f{get minimumSize(){var t;return(t=this.column.minimumWidth)!==null&&t!==void 0?t:120}get maximumSize(){var t;return(t=this.column.maximumWidth)!==null&&t!==void 0?t:Number.POSITIVE_INFINITY}get onDidChange(){var t;return(t=this.column.onDidChangeWidthConstraints)!==null&&t!==void 0?t:D.Event.None}constructor(t,i){this.column=t,this.index=i,this._onDidLayout=new D.Emitter,this.onDidLayout=this._onDidLayout.event,this.element=(0,L.$)(".monaco-table-th",{"data-col-index":i,title:t.tooltip},t.label)}layout(t){this._onDidLayout.fire([this.index,t])}}class p{get onDidChangeFocus(){return this.list.onDidChangeFocus}get onDidChangeSelection(){return this.list.onDidChangeSelection}get onMouseDblClick(){return this.list.onMouseDblClick}get onPointer(){return this.list.onPointer}get onDidFocus(){return this.list.onDidFocus}get onDidDispose(){return this.list.onDidDispose}constructor(t,i,o,r,d,h){this.virtualDelegate=o,this.domId=`table_id_${++p.InstanceCount}`,this.disposables=new S.DisposableStore,this.cachedWidth=0,this.cachedHeight=0,this.domNode=(0,L.append)(i,(0,L.$)(`.monaco-table.${this.domId}`));const n=r.map((l,u)=>new f(l,u)),c={size:n.reduce((l,u)=>l+u.column.weight,0),views:n.map(l=>({size:l.column.weight,view:l}))};this.splitview=this.disposables.add(new y.SplitView(this.domNode,{orientation:1,scrollbarVisibility:2,getSashOrthogonalSize:()=>this.cachedHeight,descriptor:c})),this.splitview.el.style.height=`${o.headerRowHeight}px`,this.splitview.el.style.lineHeight=`${o.headerRowHeight}px`;const a=new m(r,d,l=>this.splitview.getViewSize(l));this.list=this.disposables.add(new k.List(t,this.domNode,_(o),[a],h)),D.Event.any(...n.map(l=>l.onDidLayout))(([l,u])=>a.layoutColumn(l,u),null,this.disposables),this.splitview.onDidSashReset(l=>{const u=r.reduce((g,v)=>g+v.weight,0),C=r[l].weight/u*this.cachedWidth;this.splitview.resizeView(l,C)},null,this.disposables),this.styleElement=(0,L.createStyleSheet)(this.domNode),this.style(k.unthemedListStyles)}updateOptions(t){this.list.updateOptions(t)}splice(t,i,o=[]){this.list.splice(t,i,o)}getHTMLElement(){return this.domNode}style(t){const i=[];i.push(`.monaco-table.${this.domId} > .monaco-split-view2 .monaco-sash.vertical::before {
			top: ${this.virtualDelegate.headerRowHeight+1}px;
			height: calc(100% - ${this.virtualDelegate.headerRowHeight}px);
		}`),this.styleElement.textContent=i.join(`
`),this.list.style(t)}getSelectedElements(){return this.list.getSelectedElements()}getSelection(){return this.list.getSelection()}getFocus(){return this.list.getFocus()}dispose(){this.disposables.dispose()}}e.Table=p,p.InstanceCount=0}),define(X[152],ee([1,0,82,27,6,406]),function(q,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Toggle=e.unthemedToggleStyles=void 0,e.unthemedToggleStyles={inputActiveOptionBorder:"#007ACC00",inputActiveOptionForeground:"#FFFFFF",inputActiveOptionBackground:"#0E639C50"};class D extends L.Widget{constructor(m){super(),this._onChange=this._register(new y.Emitter),this.onChange=this._onChange.event,this._onKeyDown=this._register(new y.Emitter),this.onKeyDown=this._onKeyDown.event,this._opts=m,this._checked=this._opts.isChecked;const _=["monaco-custom-toggle"];this._opts.icon&&(this._icon=this._opts.icon,_.push(...k.ThemeIcon.asClassNameArray(this._icon))),this._opts.actionClassName&&_.push(...this._opts.actionClassName.split(" ")),this._checked&&_.push("checked"),this.domNode=document.createElement("div"),this.domNode.title=this._opts.title,this.domNode.classList.add(..._),this._opts.notFocusable||(this.domNode.tabIndex=0),this.domNode.setAttribute("role","checkbox"),this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.setAttribute("aria-label",this._opts.title),this.applyStyles(),this.onclick(this.domNode,f=>{this.enabled&&(this.checked=!this._checked,this._onChange.fire(!1),f.preventDefault())}),this._register(this.ignoreGesture(this.domNode)),this.onkeydown(this.domNode,f=>{if(f.keyCode===10||f.keyCode===3){this.checked=!this._checked,this._onChange.fire(!0),f.preventDefault(),f.stopPropagation();return}this._onKeyDown.fire(f)})}get enabled(){return this.domNode.getAttribute("aria-disabled")!=="true"}focus(){this.domNode.focus()}get checked(){return this._checked}set checked(m){this._checked=m,this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.classList.toggle("checked",this._checked),this.applyStyles()}width(){return 2+2+2+16}applyStyles(){this.domNode&&(this.domNode.style.borderColor=this._checked&&this._opts.inputActiveOptionBorder||"",this.domNode.style.color=this._checked&&this._opts.inputActiveOptionForeground||"inherit",this.domNode.style.backgroundColor=this._checked&&this._opts.inputActiveOptionBackground||"")}enable(){this.domNode.setAttribute("aria-disabled",String(!1))}disable(){this.domNode.setAttribute("aria-disabled",String(!0))}}e.Toggle=D}),define(X[308],ee([1,0,152,25,549]),function(q,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RegexToggle=e.WholeWordsToggle=e.CaseSensitiveToggle=void 0;const D=y.localize(0,null),S=y.localize(1,null),m=y.localize(2,null);class _ extends L.Toggle{constructor(t){super({icon:k.Codicon.caseSensitive,title:D+t.appendTitle,isChecked:t.isChecked,inputActiveOptionBorder:t.inputActiveOptionBorder,inputActiveOptionForeground:t.inputActiveOptionForeground,inputActiveOptionBackground:t.inputActiveOptionBackground})}}e.CaseSensitiveToggle=_;class f extends L.Toggle{constructor(t){super({icon:k.Codicon.wholeWord,title:S+t.appendTitle,isChecked:t.isChecked,inputActiveOptionBorder:t.inputActiveOptionBorder,inputActiveOptionForeground:t.inputActiveOptionForeground,inputActiveOptionBackground:t.inputActiveOptionBackground})}}e.WholeWordsToggle=f;class p extends L.Toggle{constructor(t){super({icon:k.Codicon.regex,title:m+t.appendTitle,isChecked:t.isChecked,inputActiveOptionBorder:t.inputActiveOptionBorder,inputActiveOptionForeground:t.inputActiveOptionForeground,inputActiveOptionBackground:t.inputActiveOptionBackground})}}e.RegexToggle=p}),define(X[43],ee([1,0,220,53,91,17,9,21]),function(q,e,L,k,y,D,S,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DataUri=e.addTrailingPathSeparator=e.removeTrailingPathSeparator=e.hasTrailingPathSeparator=e.isEqualAuthority=e.isAbsolutePath=e.resolvePath=e.relativePath=e.normalizePath=e.joinPath=e.dirname=e.extname=e.basename=e.basenameOrAuthority=e.getComparisonKey=e.isEqualOrParent=e.isEqual=e.extUriIgnorePathCase=e.extUriBiasedIgnorePathCase=e.extUri=e.ExtUri=e.originalFSPath=void 0;function _(s){return(0,m.uriToFsPath)(s,!0)}e.originalFSPath=_;class f{constructor(t){this._ignorePathCasing=t}compare(t,i,o=!1){return t===i?0:(0,S.compare)(this.getComparisonKey(t,o),this.getComparisonKey(i,o))}isEqual(t,i,o=!1){return t===i?!0:!t||!i?!1:this.getComparisonKey(t,o)===this.getComparisonKey(i,o)}getComparisonKey(t,i=!1){return t.with({path:this._ignorePathCasing(t)?t.path.toLowerCase():void 0,fragment:i?null:void 0}).toString()}isEqualOrParent(t,i,o=!1){if(t.scheme===i.scheme){if(t.scheme===k.Schemas.file)return L.isEqualOrParent(_(t),_(i),this._ignorePathCasing(t))&&t.query===i.query&&(o||t.fragment===i.fragment);if((0,e.isEqualAuthority)(t.authority,i.authority))return L.isEqualOrParent(t.path,i.path,this._ignorePathCasing(t),"/")&&t.query===i.query&&(o||t.fragment===i.fragment)}return!1}joinPath(t,...i){return m.URI.joinPath(t,...i)}basenameOrAuthority(t){return(0,e.basename)(t)||t.authority}basename(t){return y.posix.basename(t.path)}extname(t){return y.posix.extname(t.path)}dirname(t){if(t.path.length===0)return t;let i;return t.scheme===k.Schemas.file?i=m.URI.file(y.dirname(_(t))).path:(i=y.posix.dirname(t.path),t.authority&&i.length&&i.charCodeAt(0)!==47&&(console.error(`dirname("${t.toString})) resulted in a relative path`),i="/")),t.with({path:i})}normalizePath(t){if(!t.path.length)return t;let i;return t.scheme===k.Schemas.file?i=m.URI.file(y.normalize(_(t))).path:i=y.posix.normalize(t.path),t.with({path:i})}relativePath(t,i){if(t.scheme!==i.scheme||!(0,e.isEqualAuthority)(t.authority,i.authority))return;if(t.scheme===k.Schemas.file){const d=y.relative(_(t),_(i));return D.isWindows?L.toSlashes(d):d}let o=t.path||"/";const r=i.path||"/";if(this._ignorePathCasing(t)){let d=0;for(const h=Math.min(o.length,r.length);d<h&&!(o.charCodeAt(d)!==r.charCodeAt(d)&&o.charAt(d).toLowerCase()!==r.charAt(d).toLowerCase());d++);o=r.substr(0,d)+o.substr(d)}return y.posix.relative(o,r)}resolvePath(t,i){if(t.scheme===k.Schemas.file){const o=m.URI.file(y.resolve(_(t),i));return t.with({authority:o.authority,path:o.path})}return i=L.toPosixPath(i),t.with({path:y.posix.resolve(t.path,i)})}isAbsolutePath(t){return!!t.path&&t.path[0]==="/"}isEqualAuthority(t,i){return t===i||t!==void 0&&i!==void 0&&(0,S.equalsIgnoreCase)(t,i)}hasTrailingPathSeparator(t,i=y.sep){if(t.scheme===k.Schemas.file){const o=_(t);return o.length>L.getRoot(o).length&&o[o.length-1]===i}else{const o=t.path;return o.length>1&&o.charCodeAt(o.length-1)===47&&!/^[a-zA-Z]:(\/$|\\$)/.test(t.fsPath)}}removeTrailingPathSeparator(t,i=y.sep){return(0,e.hasTrailingPathSeparator)(t,i)?t.with({path:t.path.substr(0,t.path.length-1)}):t}addTrailingPathSeparator(t,i=y.sep){let o=!1;if(t.scheme===k.Schemas.file){const r=_(t);o=r!==void 0&&r.length===L.getRoot(r).length&&r[r.length-1]===i}else{i="/";const r=t.path;o=r.length===1&&r.charCodeAt(r.length-1)===47}return!o&&!(0,e.hasTrailingPathSeparator)(t,i)?t.with({path:t.path+"/"}):t}}e.ExtUri=f,e.extUri=new f(()=>!1),e.extUriBiasedIgnorePathCase=new f(s=>s.scheme===k.Schemas.file?!D.isLinux:!0),e.extUriIgnorePathCase=new f(s=>!0),e.isEqual=e.extUri.isEqual.bind(e.extUri),e.isEqualOrParent=e.extUri.isEqualOrParent.bind(e.extUri),e.getComparisonKey=e.extUri.getComparisonKey.bind(e.extUri),e.basenameOrAuthority=e.extUri.basenameOrAuthority.bind(e.extUri),e.basename=e.extUri.basename.bind(e.extUri),e.extname=e.extUri.extname.bind(e.extUri),e.dirname=e.extUri.dirname.bind(e.extUri),e.joinPath=e.extUri.joinPath.bind(e.extUri),e.normalizePath=e.extUri.normalizePath.bind(e.extUri),e.relativePath=e.extUri.relativePath.bind(e.extUri),e.resolvePath=e.extUri.resolvePath.bind(e.extUri),e.isAbsolutePath=e.extUri.isAbsolutePath.bind(e.extUri),e.isEqualAuthority=e.extUri.isEqualAuthority.bind(e.extUri),e.hasTrailingPathSeparator=e.extUri.hasTrailingPathSeparator.bind(e.extUri),e.removeTrailingPathSeparator=e.extUri.removeTrailingPathSeparator.bind(e.extUri),e.addTrailingPathSeparator=e.extUri.addTrailingPathSeparator.bind(e.extUri);var p;(function(s){s.META_DATA_LABEL="label",s.META_DATA_DESCRIPTION="description",s.META_DATA_SIZE="size",s.META_DATA_MIME="mime";function t(i){const o=new Map;i.path.substring(i.path.indexOf(";")+1,i.path.lastIndexOf(";")).split(";").forEach(h=>{const[n,c]=h.split(":");n&&c&&o.set(n,c)});const d=i.path.substring(0,i.path.indexOf(";"));return d&&o.set(s.META_DATA_MIME,d),o}s.parseMetaData=t})(p||(e.DataUri=p={}))}),define(X[55],ee([1,0,12,118,43,9,21]),function(q,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseHrefAndDimensions=e.removeMarkdownEscapes=e.escapeDoubleQuotes=e.escapeMarkdownSyntaxTokens=e.markdownStringEqual=e.isMarkdownString=e.isEmptyMarkdownString=e.MarkdownString=void 0;class m{constructor(d="",h=!1){var n,c,a;if(this.value=d,typeof this.value!="string")throw(0,L.illegalArgument)("value");typeof h=="boolean"?(this.isTrusted=h,this.supportThemeIcons=!1,this.supportHtml=!1):(this.isTrusted=(n=h.isTrusted)!==null&&n!==void 0?n:void 0,this.supportThemeIcons=(c=h.supportThemeIcons)!==null&&c!==void 0?c:!1,this.supportHtml=(a=h.supportHtml)!==null&&a!==void 0?a:!1)}appendText(d,h=0){return this.value+=s(this.supportThemeIcons?(0,k.escapeIcons)(d):d).replace(/([ \t]+)/g,(n,c)=>"&nbsp;".repeat(c.length)).replace(/\>/gm,"\\>").replace(/\n/g,h===1?`\\
`:`

`),this}appendMarkdown(d){return this.value+=d,this}appendCodeblock(d,h){return this.value+="\n```",this.value+=d,this.value+=`
`,this.value+=h,this.value+="\n```\n",this}appendLink(d,h,n){return this.value+="[",this.value+=this._escape(h,"]"),this.value+="](",this.value+=this._escape(String(d),")"),n&&(this.value+=` "${this._escape(this._escape(n,'"'),")")}"`),this.value+=")",this}_escape(d,h){const n=new RegExp((0,D.escapeRegExpCharacters)(h),"g");return d.replace(n,(c,a)=>d.charAt(a-1)!=="\\"?`\\${c}`:c)}}e.MarkdownString=m;function _(r){return f(r)?!r.value:Array.isArray(r)?r.every(_):!0}e.isEmptyMarkdownString=_;function f(r){return r instanceof m?!0:r&&typeof r=="object"?typeof r.value=="string"&&(typeof r.isTrusted=="boolean"||typeof r.isTrusted=="object"||r.isTrusted===void 0)&&(typeof r.supportThemeIcons=="boolean"||r.supportThemeIcons===void 0):!1}e.isMarkdownString=f;function p(r,d){return r===d?!0:!r||!d?!1:r.value===d.value&&r.isTrusted===d.isTrusted&&r.supportThemeIcons===d.supportThemeIcons&&r.supportHtml===d.supportHtml&&(r.baseUri===d.baseUri||!!r.baseUri&&!!d.baseUri&&(0,y.isEqual)(S.URI.from(r.baseUri),S.URI.from(d.baseUri)))}e.markdownStringEqual=p;function s(r){return r.replace(/[\\`*_{}[\]()#+\-!~]/g,"\\$&")}e.escapeMarkdownSyntaxTokens=s;function t(r){return r.replace(/"/g,"&quot;")}e.escapeDoubleQuotes=t;function i(r){return r&&r.replace(/\\([\\`*_{}[\]()#+\-.!~])/g,"$1")}e.removeMarkdownEscapes=i;function o(r){const d=[],h=r.split("|").map(c=>c.trim());r=h[0];const n=h[1];if(n){const c=/height=(\d+)/.exec(n),a=/width=(\d+)/.exec(n),l=c?c[1]:"",u=a?a[1]:"",C=isFinite(parseInt(u)),g=isFinite(parseInt(l));C&&d.push(`width="${u}"`),g&&d.push(`height="${l}"`)}return{href:r,dimensions:d}}e.parseHrefAndDimensions=o}),define(X[185],ee([1,0,7,300,80,301,45,73,129,12,6,55,118,166,99,2,382,221,53,46,43,9,21]),function(q,e,L,k,y,D,S,m,_,f,p,s,t,i,o,r,d,h,n,c,a,l,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.fillInIncompleteTokens=e.renderMarkdownAsPlaintext=e.renderStringAsPlaintext=e.allowedMarkdownAttr=e.renderMarkdown=void 0;const C=Object.freeze({image:(te,H,B)=>{let K=[],Z=[];return te&&({href:te,dimensions:K}=(0,s.parseHrefAndDimensions)(te),Z.push(`src="${(0,s.escapeDoubleQuotes)(te)}"`)),B&&Z.push(`alt="${(0,s.escapeDoubleQuotes)(B)}"`),H&&Z.push(`title="${(0,s.escapeDoubleQuotes)(H)}"`),K.length&&(Z=Z.concat(K)),"<img "+Z.join(" ")+">"},paragraph:te=>`<p>${te}</p>`,link:(te,H,B)=>typeof te!="string"?"":(te===B&&(B=(0,s.removeMarkdownEscapes)(B)),H=typeof H=="string"?(0,s.escapeDoubleQuotes)((0,s.removeMarkdownEscapes)(H)):"",te=(0,s.removeMarkdownEscapes)(te),te=te.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;"),`<a href="${te}" title="${H||te}">${B}</a>`)});function g(te,H={},B={}){var K,Z;const J=new r.DisposableStore;let ne=!1;const he=(0,D.createElement)(H),de=function(le){let fe;try{fe=(0,h.parse)(decodeURIComponent(le))}catch{}return fe?(fe=(0,c.cloneAndChange)(fe,be=>{if(te.uris&&te.uris[be])return u.URI.revive(te.uris[be])}),encodeURIComponent(JSON.stringify(fe))):le},ae=function(le,fe){const be=te.uris&&te.uris[le];let we=u.URI.revive(be);return fe?le.startsWith(n.Schemas.data+":")?le:(we||(we=u.URI.parse(le)),n.FileAccess.uriToBrowserUri(we).toString(!0)):!we||u.URI.parse(le).toString()===we.toString()?le:(we.query&&(we=we.with({query:de(we.query)})),we.toString())},ce=new d.marked.Renderer;ce.image=C.image,ce.link=C.link,ce.paragraph=C.paragraph;const $=[],V=[];if(H.codeBlockRendererSync?ce.code=(le,fe)=>{const be=i.defaultGenerator.nextId(),we=H.codeBlockRendererSync(v(fe),le);return V.push([be,we]),`<div class="code" data-code="${be}">${(0,l.escape)(le)}</div>`}:H.codeBlockRenderer&&(ce.code=(le,fe)=>{const be=i.defaultGenerator.nextId(),we=H.codeBlockRenderer(v(fe),le);return $.push(we.then(Ee=>[be,Ee])),`<div class="code" data-code="${be}">${(0,l.escape)(le)}</div>`}),H.actionHandler){const le=function(we){let Ee=we.target;if(!(Ee.tagName!=="A"&&(Ee=Ee.parentElement,!Ee||Ee.tagName!=="A")))try{let Ie=Ee.dataset.href;Ie&&(te.baseUri&&(Ie=b(u.URI.from(te.baseUri),Ie)),H.actionHandler.callback(Ie,we))}catch(Ie){(0,f.onUnexpectedError)(Ie)}finally{we.preventDefault()}},fe=H.actionHandler.disposables.add(new y.DomEmitter(he,"click")),be=H.actionHandler.disposables.add(new y.DomEmitter(he,"auxclick"));H.actionHandler.disposables.add(p.Event.any(fe.event,be.event)(we=>{const Ee=new m.StandardMouseEvent(we);!Ee.leftButton&&!Ee.middleButton||le(Ee)})),H.actionHandler.disposables.add(L.addDisposableListener(he,"keydown",we=>{const Ee=new S.StandardKeyboardEvent(we);!Ee.equals(10)&&!Ee.equals(3)||le(Ee)}))}te.supportHtml||(B.sanitizer=le=>(te.isTrusted?le.match(/^(<span[^>]+>)|(<\/\s*span>)$/):void 0)?le:"",B.sanitize=!0,B.silent=!0),B.renderer=ce;let j=(K=te.value)!==null&&K!==void 0?K:"";j.length>1e5&&(j=`${j.substr(0,1e5)}\u2026`),te.supportThemeIcons&&(j=(0,t.markdownEscapeEscapedIcons)(j));let se;if(H.fillInIncompleteTokens){const le=Object.assign(Object.assign({},d.marked.defaults),B),fe=d.marked.lexer(j,le),be=R(fe);se=d.marked.parser(be,le)}else se=d.marked.parse(j,B);te.supportThemeIcons&&(se=(0,_.renderLabelWithIcons)(se).map(fe=>typeof fe=="string"?fe:fe.outerHTML).join(""));const Y=new DOMParser().parseFromString(w(te,se),"text/html");if(Y.body.querySelectorAll("img").forEach(le=>{const fe=le.getAttribute("src");if(fe){let be=fe;try{te.baseUri&&(be=b(u.URI.from(te.baseUri),be))}catch{}le.src=ae(be,!0)}}),Y.body.querySelectorAll("a").forEach(le=>{const fe=le.getAttribute("href");if(le.setAttribute("href",""),!fe||/^data:|javascript:/i.test(fe)||/^command:/i.test(fe)&&!te.isTrusted||/^command:(\/\/\/)?_workbench\.downloadResource/i.test(fe))le.replaceWith(...le.childNodes);else{let be=ae(fe,!1);te.baseUri&&(be=b(u.URI.from(te.baseUri),fe)),le.dataset.href=be}}),he.innerHTML=w(te,Y.body.innerHTML),$.length>0)Promise.all($).then(le=>{var fe,be;if(ne)return;const we=new Map(le),Ee=he.querySelectorAll("div[data-code]");for(const Ie of Ee){const ye=we.get((fe=Ie.dataset.code)!==null&&fe!==void 0?fe:"");ye&&L.reset(Ie,ye)}(be=H.asyncRenderCallback)===null||be===void 0||be.call(H)});else if(V.length>0){const le=new Map(V),fe=he.querySelectorAll("div[data-code]");for(const be of fe){const we=le.get((Z=be.dataset.code)!==null&&Z!==void 0?Z:"");we&&L.reset(be,we)}}if(H.asyncRenderCallback)for(const le of he.getElementsByTagName("img")){const fe=J.add(L.addDisposableListener(le,"load",()=>{fe.dispose(),H.asyncRenderCallback()}))}return{element:he,dispose:()=>{ne=!0,J.dispose()}}}e.renderMarkdown=g;function v(te){if(!te)return"";const H=te.split(/[\s+|:|,|\{|\?]/,1);return H.length?H[0]:te}function b(te,H){return/^\w[\w\d+.-]*:/.test(H)?H:te.path.endsWith("/")?(0,a.resolvePath)(te,H).toString():(0,a.resolvePath)((0,a.dirname)(te),H).toString()}function w(te,H){const{config:B,allowedSchemes:K}=E(te);k.addHook("uponSanitizeAttribute",(J,ne)=>{if(ne.attrName==="style"||ne.attrName==="class"){if(J.tagName==="SPAN"){if(ne.attrName==="style"){ne.keepAttr=/^(color\:(#[0-9a-fA-F]+|var\(--vscode(-[a-zA-Z]+)+\));)?(background-color\:(#[0-9a-fA-F]+|var\(--vscode(-[a-zA-Z]+)+\));)?$/.test(ne.attrValue);return}else if(ne.attrName==="class"){ne.keepAttr=/^codicon codicon-[a-z\-]+( codicon-modifier-[a-z\-]+)?$/.test(ne.attrValue);return}}ne.keepAttr=!1;return}});const Z=L.hookDomPurifyHrefAndSrcSanitizer(K);try{return k.sanitize(H,Object.assign(Object.assign({},B),{RETURN_TRUSTED_TYPE:!0}))}finally{k.removeHook("uponSanitizeAttribute"),Z.dispose()}}e.allowedMarkdownAttr=["align","autoplay","alt","class","controls","data-code","data-href","height","href","loop","muted","playsinline","poster","src","style","target","title","width","start"];function E(te){const H=[n.Schemas.http,n.Schemas.https,n.Schemas.mailto,n.Schemas.data,n.Schemas.file,n.Schemas.vscodeFileResource,n.Schemas.vscodeRemote,n.Schemas.vscodeRemoteResource];return te.isTrusted&&H.push(n.Schemas.command),{config:{ALLOWED_TAGS:[...L.basicMarkupHtmlTags],ALLOWED_ATTR:e.allowedMarkdownAttr,ALLOW_UNKNOWN_PROTOCOLS:!0},allowedSchemes:H}}function I(te){return typeof te=="string"?te:T(te)}e.renderStringAsPlaintext=I;function T(te){var H;let B=(H=te.value)!==null&&H!==void 0?H:"";B.length>1e5&&(B=`${B.substr(0,1e5)}\u2026`);const K=d.marked.parse(B,{renderer:A.value}).replace(/&(#\d+|[a-zA-Z]+);/g,Z=>{var J;return(J=P.get(Z))!==null&&J!==void 0?J:Z});return w({isTrusted:!1},K).toString()}e.renderMarkdownAsPlaintext=T;const P=new Map([["&quot;",'"'],["&nbsp;"," "],["&amp;","&"],["&#39;","'"],["&lt;","<"],["&gt;",">"]]),A=new o.Lazy(()=>{const te=new d.marked.Renderer;return te.code=H=>H,te.blockquote=H=>H,te.html=H=>"",te.heading=(H,B,K)=>H+`
`,te.hr=()=>"",te.list=(H,B)=>H,te.listitem=H=>H+`
`,te.paragraph=H=>H+`
`,te.table=(H,B)=>H+B+`
`,te.tablerow=H=>H,te.tablecell=(H,B)=>H+" ",te.strong=H=>H,te.em=H=>H,te.codespan=H=>H,te.br=()=>`
`,te.del=H=>H,te.image=(H,B,K)=>"",te.text=H=>H,te.link=(H,B,K)=>K,te});function M(te){let H="";return te.forEach(B=>{H+=B.raw}),H}function N(te){for(const H of te.tokens)if(H.type==="text"){const B=H.raw.split(`
`),K=B[B.length-1];if(K.includes("`"))return x(te);if(K.includes("**"))return G(te);if(K.match(/\*\w/))return W(te);if(K.match(/(^|\s)__\w/))return Q(te);if(K.match(/(^|\s)_\w/))return z(te);if(K.match(/(^|\s)\[.*\]\(\w*/))return U(te);if(K.match(/(^|\s)\[\w/))return O(te)}}function R(te){let H,B;for(H=0;H<te.length;H++){const K=te[H];if(K.type==="paragraph"&&K.raw.match(/(\n|^)```/)){B=F(te.slice(H));break}if(K.type==="paragraph"&&K.raw.match(/(\n|^)\|/)){B=oe(te.slice(H));break}if(H===te.length-1&&K.type==="paragraph"){const Z=N(K);if(Z){B=[Z];break}}}if(B){const K=[...te.slice(0,H),...B];return K.links=te.links,K}return te}e.fillInIncompleteTokens=R;function F(te){const H=M(te);return d.marked.lexer(H+"\n```")}function x(te){return re(te,"`")}function W(te){return re(te,"*")}function z(te){return re(te,"_")}function U(te){return re(te,")")}function O(te){return re(te,"](about:blank)")}function G(te){return re(te,"**")}function Q(te){return re(te,"__")}function re(te,H){const B=M(Array.isArray(te)?te:[te]);return d.marked.lexer(B+H)[0]}function oe(te){const H=M(te),B=H.split(`
`);let K,Z=!1;for(let J=0;J<B.length;J++){const ne=B[J].trim();if(typeof K>"u"&&ne.match(/^\s*\|/)){const he=ne.match(/(\|[^\|]+)(?=\||$)/g);he&&(K=he.length)}else if(typeof K=="number")if(ne.match(/^\s*\|/)){if(J!==B.length-1)return;Z=!0}else return}if(typeof K=="number"&&K>0){const J=Z?B.slice(0,-1).join(`
`):H,ne=!!J.match(/\|\s*$/),he=J+(ne?"":"|")+`
|${" --- |".repeat(K)}`;return d.marked.lexer(he)}}}),define(X[309],ee([1,0,7,300,45,185,60,129,36,6,55,2,389]),function(q,e,L,k,y,D,S,m,_,f,p,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Button=e.unthemedButtonStyles=void 0,e.unthemedButtonStyles={buttonBackground:"#0E639C",buttonHoverBackground:"#006BB3",buttonSeparator:_.Color.white.toString(),buttonForeground:_.Color.white.toString(),buttonBorder:void 0,buttonSecondaryBackground:void 0,buttonSecondaryForeground:void 0,buttonSecondaryHoverBackground:void 0};class t extends s.Disposable{get onDidClick(){return this._onDidClick.event}constructor(o,r){super(),this._label="",this._onDidClick=this._register(new f.Emitter),this.options=r,this._element=document.createElement("a"),this._element.classList.add("monaco-button"),this._element.tabIndex=0,this._element.setAttribute("role","button"),this._element.classList.toggle("secondary",!!r.secondary);const d=r.secondary?r.buttonSecondaryBackground:r.buttonBackground,h=r.secondary?r.buttonSecondaryForeground:r.buttonForeground;this._element.style.color=h||"",this._element.style.backgroundColor=d||"",r.supportShortLabel&&(this._labelShortElement=document.createElement("div"),this._labelShortElement.classList.add("monaco-button-label-short"),this._element.appendChild(this._labelShortElement),this._labelElement=document.createElement("div"),this._labelElement.classList.add("monaco-button-label"),this._element.appendChild(this._labelElement),this._element.classList.add("monaco-text-button-with-short-label")),o.appendChild(this._element),this._register(S.Gesture.addTarget(this._element)),[L.EventType.CLICK,S.EventType.Tap].forEach(n=>{this._register((0,L.addDisposableListener)(this._element,n,c=>{if(!this.enabled){L.EventHelper.stop(c);return}this._onDidClick.fire(c)}))}),this._register((0,L.addDisposableListener)(this._element,L.EventType.KEY_DOWN,n=>{const c=new y.StandardKeyboardEvent(n);let a=!1;this.enabled&&(c.equals(3)||c.equals(10))?(this._onDidClick.fire(n),a=!0):c.equals(9)&&(this._element.blur(),a=!0),a&&L.EventHelper.stop(c,!0)})),this._register((0,L.addDisposableListener)(this._element,L.EventType.MOUSE_OVER,n=>{this._element.classList.contains("disabled")||this.updateBackground(!0)})),this._register((0,L.addDisposableListener)(this._element,L.EventType.MOUSE_OUT,n=>{this.updateBackground(!1)})),this.focusTracker=this._register((0,L.trackFocus)(this._element)),this._register(this.focusTracker.onDidFocus(()=>{this.enabled&&this.updateBackground(!0)})),this._register(this.focusTracker.onDidBlur(()=>{this.enabled&&this.updateBackground(!1)}))}dispose(){super.dispose(),this._element.remove()}getContentElements(o){const r=[];for(let d of(0,m.renderLabelWithIcons)(o))if(typeof d=="string"){if(d=d.trim(),d==="")continue;const h=document.createElement("span");h.textContent=d,r.push(h)}else r.push(d);return r}updateBackground(o){let r;this.options.secondary?r=o?this.options.buttonSecondaryHoverBackground:this.options.buttonSecondaryBackground:r=o?this.options.buttonHoverBackground:this.options.buttonBackground,r&&(this._element.style.backgroundColor=r)}get element(){return this._element}set label(o){var r;if(this._label===o||(0,p.isMarkdownString)(this._label)&&(0,p.isMarkdownString)(o)&&(0,p.markdownStringEqual)(this._label,o))return;this._element.classList.add("monaco-text-button");const d=this.options.supportShortLabel?this._labelElement:this._element;if((0,p.isMarkdownString)(o)){const h=(0,D.renderMarkdown)(o,{inline:!0});h.dispose();const n=(r=h.element.querySelector("p"))===null||r===void 0?void 0:r.innerHTML;if(n){const c=(0,k.sanitize)(n,{ADD_TAGS:["b","i","u","code","span"],ALLOWED_ATTR:["class"],RETURN_TRUSTED_TYPE:!0});d.innerHTML=c}else(0,L.reset)(d)}else this.options.supportIcons?(0,L.reset)(d,...this.getContentElements(o)):d.textContent=o;typeof this.options.title=="string"?this._element.title=this.options.title:this.options.title&&(this._element.title=(0,D.renderStringAsPlaintext)(o)),this._label=o}get label(){return this._label}set enabled(o){o?(this._element.classList.remove("disabled"),this._element.setAttribute("aria-disabled",String(!1)),this._element.tabIndex=0):(this._element.classList.add("disabled"),this._element.setAttribute("aria-disabled",String(!0)))}get enabled(){return!this._element.classList.contains("disabled")}}e.Button=t}),define(X[310],ee([1,0,7,14,20,55,118,2,18,551]),function(q,e,L,k,y,D,S,m,_,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setupCustomHover=e.setupNativeHover=void 0;function p(i,o){(0,_.isString)(o)?i.title=(0,S.stripIcons)(o):o?.markdownNotSupportedFallback?i.title=o.markdownNotSupportedFallback:i.removeAttribute("title")}e.setupNativeHover=p;class s{constructor(o,r,d){this.hoverDelegate=o,this.target=r,this.fadeInAnimation=d}update(o,r,d){var h;return Le(this,void 0,void 0,function*(){if(this._cancellationTokenSource&&(this._cancellationTokenSource.dispose(!0),this._cancellationTokenSource=void 0),this.isDisposed)return;let n;if(o===void 0||(0,_.isString)(o)||o instanceof HTMLElement)n=o;else if(!(0,_.isFunction)(o.markdown))n=(h=o.markdown)!==null&&h!==void 0?h:o.markdownNotSupportedFallback;else{this._hoverWidget||this.show((0,f.localize)(0,null),r),this._cancellationTokenSource=new y.CancellationTokenSource;const c=this._cancellationTokenSource.token;if(n=yield o.markdown(c),n===void 0&&(n=o.markdownNotSupportedFallback),this.isDisposed||c.isCancellationRequested)return}this.show(n,r,d)})}show(o,r,d){const h=this._hoverWidget;if(this.hasContent(o)){const n=Object.assign({content:o,target:this.target,showPointer:this.hoverDelegate.placement==="element",hoverPosition:2,skipFadeInAnimation:!this.fadeInAnimation||!!h},d);this._hoverWidget=this.hoverDelegate.showHover(n,r)}h?.dispose()}hasContent(o){return o?(0,D.isMarkdownString)(o)?!!o.value:!0:!1}get isDisposed(){var o;return(o=this._hoverWidget)===null||o===void 0?void 0:o.isDisposed}dispose(){var o,r;(o=this._hoverWidget)===null||o===void 0||o.dispose(),(r=this._cancellationTokenSource)===null||r===void 0||r.dispose(!0),this._cancellationTokenSource=void 0}}function t(i,o,r,d){let h,n;const c=(g,v)=>{var b;const w=n!==void 0;g&&(n?.dispose(),n=void 0),v&&(h?.dispose(),h=void 0),w&&((b=i.onDidHideHover)===null||b===void 0||b.call(i))},a=(g,v,b)=>new k.TimeoutTimer(()=>Le(this,void 0,void 0,function*(){(!n||n.isDisposed)&&(n=new s(i,b||o,g>0),yield n.update(r,v,d))}),g),l=()=>{if(h)return;const g=new m.DisposableStore,v=E=>c(!1,E.fromElement===o);g.add(L.addDisposableListener(o,L.EventType.MOUSE_LEAVE,v,!0));const b=()=>c(!0,!0);g.add(L.addDisposableListener(o,L.EventType.MOUSE_DOWN,b,!0));const w={targetElements:[o],dispose:()=>{}};if(i.placement===void 0||i.placement==="mouse"){const E=I=>{w.x=I.x+10,I.target instanceof HTMLElement&&I.target.classList.contains("action-label")&&c(!0,!0)};g.add(L.addDisposableListener(o,L.EventType.MOUSE_MOVE,E,!0))}g.add(a(i.delay,!1,w)),h=g},u=L.addDisposableListener(o,L.EventType.MOUSE_OVER,l,!0);return{show:g=>{c(!1,!0),a(0,g)},hide:()=>{c(!0,!0)},update:(g,v)=>Le(this,void 0,void 0,function*(){r=g,yield n?.update(r,void 0,v)}),dispose:()=>{u.dispose(),c(!0,!0)}}}e.setupCustomHover=t}),define(X[226],ee([1,0,7,304,310,2,46,168,395]),function(q,e,L,k,y,D,S,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IconLabel=void 0;class _{constructor(o){this._element=o}get element(){return this._element}set textContent(o){this.disposed||o===this._textContent||(this._textContent=o,this._element.textContent=o)}set className(o){this.disposed||o===this._className||(this._className=o,this._element.className=o)}set empty(o){this.disposed||o===this._empty||(this._empty=o,this._element.style.marginLeft=o?"0":"")}dispose(){this.disposed=!0}}class f extends D.Disposable{constructor(o,r){super(),this.customHovers=new Map,this.creationOptions=r,this.domNode=this._register(new _(L.append(o,L.$(".monaco-icon-label")))),this.labelContainer=L.append(this.domNode.element,L.$(".monaco-icon-label-container"));const d=L.append(this.labelContainer,L.$("span.monaco-icon-name-container"));r?.supportHighlights||r?.supportIcons?this.nameNode=new t(d,!!r.supportIcons):this.nameNode=new p(d),this.hoverDelegate=r?.hoverDelegate}get element(){return this.domNode.element}setLabel(o,r,d){const h=["monaco-icon-label"],n=["monaco-icon-label-container"];if(d&&(d.extraClasses&&h.push(...d.extraClasses),d.italic&&h.push("italic"),d.strikethrough&&h.push("strikethrough"),d.disabledCommand&&n.push("disabled")),this.domNode.className=h.join(" "),this.labelContainer.className=n.join(" "),this.setupHover(d?.descriptionTitle?this.labelContainer:this.element,d?.title),this.nameNode.setLabel(o,d),r||this.descriptionNode){const c=this.getOrCreateDescriptionNode();c instanceof k.HighlightedLabel?(c.set(r||"",d?d.descriptionMatches:void 0,void 0,d?.labelEscapeNewLines),this.setupHover(c.element,d?.descriptionTitle)):(c.textContent=r&&d?.labelEscapeNewLines?k.HighlightedLabel.escapeNewLines(r,[]):r||"",this.setupHover(c.element,d?.descriptionTitle||""),c.empty=!r)}}setupHover(o,r){const d=this.customHovers.get(o);if(d&&(d.dispose(),this.customHovers.delete(o)),!r){o.removeAttribute("title");return}if(!this.hoverDelegate)(0,y.setupNativeHover)(o,r);else{const h=(0,y.setupCustomHover)(this.hoverDelegate,o,r);h&&this.customHovers.set(o,h)}}dispose(){super.dispose();for(const o of this.customHovers.values())o.dispose();this.customHovers.clear()}getOrCreateDescriptionNode(){var o;if(!this.descriptionNode){const r=this._register(new _(L.append(this.labelContainer,L.$("span.monaco-icon-description-container"))));!((o=this.creationOptions)===null||o===void 0)&&o.supportDescriptionHighlights?this.descriptionNode=new k.HighlightedLabel(L.append(r.element,L.$("span.label-description")),{supportIcons:!!this.creationOptions.supportIcons}):this.descriptionNode=this._register(new _(L.append(r.element,L.$("span.label-description"))))}return this.descriptionNode}}e.IconLabel=f;class p{constructor(o){this.container=o,this.label=void 0,this.singleLabel=void 0}setLabel(o,r){if(!(this.label===o&&(0,S.equals)(this.options,r)))if(this.label=o,this.options=r,typeof o=="string")this.singleLabel||(this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=L.append(this.container,L.$("a.label-name",{id:r?.domId}))),this.singleLabel.textContent=o;else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;for(let d=0;d<o.length;d++){const h=o[d],n=r?.domId&&`${r?.domId}_${d}`;L.append(this.container,L.$("a.label-name",{id:n,"data-icon-label-count":o.length,"data-icon-label-index":d,role:"treeitem"},h)),d<o.length-1&&L.append(this.container,L.$("span.label-separator",void 0,r?.separator||"/"))}}}}function s(i,o,r){if(!r)return;let d=0;return i.map(h=>{const n={start:d,end:d+h.length},c=r.map(a=>m.Range.intersect(n,a)).filter(a=>!m.Range.isEmpty(a)).map(({start:a,end:l})=>({start:a-d,end:l-d}));return d=n.end+o.length,c})}class t{constructor(o,r){this.container=o,this.supportIcons=r,this.label=void 0,this.singleLabel=void 0}setLabel(o,r){if(!(this.label===o&&(0,S.equals)(this.options,r)))if(this.label=o,this.options=r,typeof o=="string")this.singleLabel||(this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=new k.HighlightedLabel(L.append(this.container,L.$("a.label-name",{id:r?.domId})),{supportIcons:this.supportIcons})),this.singleLabel.set(o,r?.matches,void 0,r?.labelEscapeNewLines);else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;const d=r?.separator||"/",h=s(o,d,r?.matches);for(let n=0;n<o.length;n++){const c=o[n],a=h?h[n]:void 0,l=r?.domId&&`${r?.domId}_${n}`,u=L.$("a.label-name",{id:l,"data-icon-label-count":o.length,"data-icon-label-index":n,role:"treeitem"});new k.HighlightedLabel(L.append(this.container,u),{supportIcons:this.supportIcons}).set(c,a,void 0,r?.labelEscapeNewLines),n<o.length-1&&L.append(u,L.$("span.label-separator",void 0,d))}}}}}),define(X[575],ee([1,0,7,80,45,185,113,16,6,62,2,17,554,403]),function(q,e,L,k,y,D,S,m,_,f,p,s,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelectBoxList=void 0;const i=L.$,o="selectOption.entry.template";class r{get templateId(){return o}renderTemplate(n){const c=Object.create(null);return c.root=n,c.text=L.append(n,i(".option-text")),c.detail=L.append(n,i(".option-detail")),c.decoratorRight=L.append(n,i(".option-decorator-right")),c}renderElement(n,c,a){const l=a,u=n.text,C=n.detail,g=n.decoratorRight,v=n.isDisabled;l.text.textContent=u,l.detail.textContent=C||"",l.decoratorRight.innerText=g||"",v?l.root.classList.add("option-disabled"):l.root.classList.remove("option-disabled")}disposeTemplate(n){}}class d extends p.Disposable{constructor(n,c,a,l,u){super(),this.options=[],this._currentSelection=0,this._hasDetails=!1,this._skipLayout=!1,this._sticky=!1,this._isVisible=!1,this.styles=l,this.selectBoxOptions=u||Object.create(null),typeof this.selectBoxOptions.minBottomMargin!="number"?this.selectBoxOptions.minBottomMargin=d.DEFAULT_DROPDOWN_MINIMUM_BOTTOM_MARGIN:this.selectBoxOptions.minBottomMargin<0&&(this.selectBoxOptions.minBottomMargin=0),this.selectElement=document.createElement("select"),this.selectElement.className="monaco-select-box monaco-select-box-dropdown-padding",typeof this.selectBoxOptions.ariaLabel=="string"&&this.selectElement.setAttribute("aria-label",this.selectBoxOptions.ariaLabel),typeof this.selectBoxOptions.ariaDescription=="string"&&this.selectElement.setAttribute("aria-description",this.selectBoxOptions.ariaDescription),this._onDidSelect=new _.Emitter,this._register(this._onDidSelect),this.registerListeners(),this.constructSelectDropDown(a),this.selected=c||0,n&&this.setOptions(n,c),this.initStyleSheet()}getHeight(){return 22}getTemplateId(){return o}constructSelectDropDown(n){this.contextViewProvider=n,this.selectDropDownContainer=L.$(".monaco-select-box-dropdown-container"),this.selectDropDownContainer.classList.add("monaco-select-box-dropdown-padding"),this.selectionDetailsPane=L.append(this.selectDropDownContainer,i(".select-box-details-pane"));const c=L.append(this.selectDropDownContainer,i(".select-box-dropdown-container-width-control")),a=L.append(c,i(".width-control-div"));this.widthControlElement=document.createElement("span"),this.widthControlElement.className="option-text-width-control",L.append(a,this.widthControlElement),this._dropDownPosition=0,this.styleElement=L.createStyleSheet(this.selectDropDownContainer),this.selectDropDownContainer.setAttribute("draggable","true"),this._register(L.addDisposableListener(this.selectDropDownContainer,L.EventType.DRAG_START,l=>{L.EventHelper.stop(l,!0)}))}registerListeners(){this._register(L.addStandardDisposableListener(this.selectElement,"change",c=>{this.selected=c.target.selectedIndex,this._onDidSelect.fire({index:c.target.selectedIndex,selected:c.target.value}),this.options[this.selected]&&this.options[this.selected].text&&(this.selectElement.title=this.options[this.selected].text)})),this._register(L.addDisposableListener(this.selectElement,L.EventType.CLICK,c=>{L.EventHelper.stop(c),this._isVisible?this.hideSelectDropDown(!0):this.showSelectDropDown()})),this._register(L.addDisposableListener(this.selectElement,L.EventType.MOUSE_DOWN,c=>{L.EventHelper.stop(c)}));let n;this._register(L.addDisposableListener(this.selectElement,"touchstart",c=>{n=this._isVisible})),this._register(L.addDisposableListener(this.selectElement,"touchend",c=>{L.EventHelper.stop(c),n?this.hideSelectDropDown(!0):this.showSelectDropDown()})),this._register(L.addDisposableListener(this.selectElement,L.EventType.KEY_DOWN,c=>{const a=new y.StandardKeyboardEvent(c);let l=!1;s.isMacintosh?(a.keyCode===18||a.keyCode===16||a.keyCode===10||a.keyCode===3)&&(l=!0):(a.keyCode===18&&a.altKey||a.keyCode===16&&a.altKey||a.keyCode===10||a.keyCode===3)&&(l=!0),l&&(this.showSelectDropDown(),L.EventHelper.stop(c,!0))}))}get onDidSelect(){return this._onDidSelect.event}setOptions(n,c){m.equals(this.options,n)||(this.options=n,this.selectElement.options.length=0,this._hasDetails=!1,this._cachedMaxDetailsHeight=void 0,this.options.forEach((a,l)=>{this.selectElement.add(this.createOption(a.text,l,a.isDisabled)),typeof a.description=="string"&&(this._hasDetails=!0)})),c!==void 0&&(this.select(c),this._currentSelection=this.selected)}setOptionsList(){var n;(n=this.selectList)===null||n===void 0||n.splice(0,this.selectList.length,this.options)}select(n){n>=0&&n<this.options.length?this.selected=n:n>this.options.length-1?this.select(this.options.length-1):this.selected<0&&(this.selected=0),this.selectElement.selectedIndex=this.selected,this.options[this.selected]&&this.options[this.selected].text&&(this.selectElement.title=this.options[this.selected].text)}focus(){this.selectElement&&(this.selectElement.tabIndex=0,this.selectElement.focus())}blur(){this.selectElement&&(this.selectElement.tabIndex=-1,this.selectElement.blur())}setFocusable(n){this.selectElement.tabIndex=n?0:-1}render(n){this.container=n,n.classList.add("select-container"),n.appendChild(this.selectElement),this.styleSelectElement()}initStyleSheet(){const n=[];this.styles.listFocusBackground&&n.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.focused { background-color: ${this.styles.listFocusBackground} !important; }`),this.styles.listFocusForeground&&n.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.focused { color: ${this.styles.listFocusForeground} !important; }`),this.styles.decoratorRightForeground&&n.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.focused) .option-decorator-right { color: ${this.styles.decoratorRightForeground}; }`),this.styles.selectBackground&&this.styles.selectBorder&&this.styles.selectBorder!==this.styles.selectBackground?(n.push(`.monaco-select-box-dropdown-container { border: 1px solid ${this.styles.selectBorder} } `),n.push(`.monaco-select-box-dropdown-container > .select-box-details-pane.border-top { border-top: 1px solid ${this.styles.selectBorder} } `),n.push(`.monaco-select-box-dropdown-container > .select-box-details-pane.border-bottom { border-bottom: 1px solid ${this.styles.selectBorder} } `)):this.styles.selectListBorder&&(n.push(`.monaco-select-box-dropdown-container > .select-box-details-pane.border-top { border-top: 1px solid ${this.styles.selectListBorder} } `),n.push(`.monaco-select-box-dropdown-container > .select-box-details-pane.border-bottom { border-bottom: 1px solid ${this.styles.selectListBorder} } `)),this.styles.listHoverForeground&&n.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.option-disabled):not(.focused):hover { color: ${this.styles.listHoverForeground} !important; }`),this.styles.listHoverBackground&&n.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.option-disabled):not(.focused):hover { background-color: ${this.styles.listHoverBackground} !important; }`),this.styles.listFocusOutline&&n.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.focused { outline: 1.6px dotted ${this.styles.listFocusOutline} !important; outline-offset: -1.6px !important; }`),this.styles.listHoverOutline&&n.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.option-disabled):not(.focused):hover { outline: 1.6px dashed ${this.styles.listHoverOutline} !important; outline-offset: -1.6px !important; }`),n.push(".monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.option-disabled.focused { background-color: transparent !important; color: inherit !important; outline: none !important; }"),n.push(".monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.option-disabled:hover { background-color: transparent !important; color: inherit !important; outline: none !important; }"),this.styleElement.textContent=n.join(`
`)}styleSelectElement(){var n,c,a;const l=(n=this.styles.selectBackground)!==null&&n!==void 0?n:"",u=(c=this.styles.selectForeground)!==null&&c!==void 0?c:"",C=(a=this.styles.selectBorder)!==null&&a!==void 0?a:"";this.selectElement.style.backgroundColor=l,this.selectElement.style.color=u,this.selectElement.style.borderColor=C}styleList(){var n,c;const a=(n=this.styles.selectBackground)!==null&&n!==void 0?n:"",l=L.asCssValueWithDefault(this.styles.selectListBackground,a);this.selectDropDownListContainer.style.backgroundColor=l,this.selectionDetailsPane.style.backgroundColor=l;const u=(c=this.styles.focusBorder)!==null&&c!==void 0?c:"";this.selectDropDownContainer.style.outlineColor=u,this.selectDropDownContainer.style.outlineOffset="-1px",this.selectList.style(this.styles)}createOption(n,c,a){const l=document.createElement("option");return l.value=n,l.text=n,l.disabled=!!a,l}showSelectDropDown(){this.selectionDetailsPane.innerText="",!(!this.contextViewProvider||this._isVisible)&&(this.createSelectList(this.selectDropDownContainer),this.setOptionsList(),this.contextViewProvider.showContextView({getAnchor:()=>this.selectElement,render:n=>this.renderSelectDropDown(n,!0),layout:()=>{this.layoutSelectDropDown()},onHide:()=>{this.selectDropDownContainer.classList.remove("visible"),this.selectElement.classList.remove("synthetic-focus")},anchorPosition:this._dropDownPosition},this.selectBoxOptions.optionsAsChildren?this.container:void 0),this._isVisible=!0,this.hideSelectDropDown(!1),this.contextViewProvider.showContextView({getAnchor:()=>this.selectElement,render:n=>this.renderSelectDropDown(n),layout:()=>this.layoutSelectDropDown(),onHide:()=>{this.selectDropDownContainer.classList.remove("visible"),this.selectElement.classList.remove("synthetic-focus")},anchorPosition:this._dropDownPosition},this.selectBoxOptions.optionsAsChildren?this.container:void 0),this._currentSelection=this.selected,this._isVisible=!0,this.selectElement.setAttribute("aria-expanded","true"))}hideSelectDropDown(n){!this.contextViewProvider||!this._isVisible||(this._isVisible=!1,this.selectElement.setAttribute("aria-expanded","false"),n&&this.selectElement.focus(),this.contextViewProvider.hideContextView())}renderSelectDropDown(n,c){return n.appendChild(this.selectDropDownContainer),this.layoutSelectDropDown(c),{dispose:()=>{try{n.removeChild(this.selectDropDownContainer)}catch{}}}}measureMaxDetailsHeight(){let n=0;return this.options.forEach((c,a)=>{this.updateDetail(a),this.selectionDetailsPane.offsetHeight>n&&(n=this.selectionDetailsPane.offsetHeight)}),n}layoutSelectDropDown(n){if(this._skipLayout)return!1;if(this.selectList){this.selectDropDownContainer.classList.add("visible");const c=L.getDomNodePagePosition(this.selectElement),a=getComputedStyle(this.selectElement),l=parseFloat(a.getPropertyValue("--dropdown-padding-top"))+parseFloat(a.getPropertyValue("--dropdown-padding-bottom")),u=window.innerHeight-c.top-c.height-(this.selectBoxOptions.minBottomMargin||0),C=c.top-d.DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN,g=this.selectElement.offsetWidth,v=this.setWidthControlElement(this.widthControlElement),b=Math.max(v,Math.round(g)).toString()+"px";this.selectDropDownContainer.style.width=b,this.selectList.getHTMLElement().style.height="",this.selectList.layout();let w=this.selectList.contentHeight;this._hasDetails&&this._cachedMaxDetailsHeight===void 0&&(this._cachedMaxDetailsHeight=this.measureMaxDetailsHeight());const E=this._hasDetails?this._cachedMaxDetailsHeight:0,I=w+l+E,T=Math.floor((u-l-E)/this.getHeight()),P=Math.floor((C-l-E)/this.getHeight());if(n)return c.top+c.height>window.innerHeight-22||c.top<d.DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN||T<1&&P<1?!1:(T<d.DEFAULT_MINIMUM_VISIBLE_OPTIONS&&P>T&&this.options.length>T?(this._dropDownPosition=1,this.selectDropDownContainer.removeChild(this.selectDropDownListContainer),this.selectDropDownContainer.removeChild(this.selectionDetailsPane),this.selectDropDownContainer.appendChild(this.selectionDetailsPane),this.selectDropDownContainer.appendChild(this.selectDropDownListContainer),this.selectionDetailsPane.classList.remove("border-top"),this.selectionDetailsPane.classList.add("border-bottom")):(this._dropDownPosition=0,this.selectDropDownContainer.removeChild(this.selectDropDownListContainer),this.selectDropDownContainer.removeChild(this.selectionDetailsPane),this.selectDropDownContainer.appendChild(this.selectDropDownListContainer),this.selectDropDownContainer.appendChild(this.selectionDetailsPane),this.selectionDetailsPane.classList.remove("border-bottom"),this.selectionDetailsPane.classList.add("border-top")),!0);if(c.top+c.height>window.innerHeight-22||c.top<d.DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN||this._dropDownPosition===0&&T<1||this._dropDownPosition===1&&P<1)return this.hideSelectDropDown(!0),!1;if(this._dropDownPosition===0){if(this._isVisible&&T+P<1)return this.hideSelectDropDown(!0),!1;I>u&&(w=T*this.getHeight())}else I>C&&(w=P*this.getHeight());return this.selectList.layout(w),this.selectList.domFocus(),this.selectList.length>0&&(this.selectList.setFocus([this.selected||0]),this.selectList.reveal(this.selectList.getFocus()[0]||0)),this._hasDetails?(this.selectList.getHTMLElement().style.height=w+l+"px",this.selectDropDownContainer.style.height=""):this.selectDropDownContainer.style.height=w+l+"px",this.updateDetail(this.selected),this.selectDropDownContainer.style.width=b,this.selectDropDownListContainer.setAttribute("tabindex","0"),this.selectElement.classList.add("synthetic-focus"),this.selectDropDownContainer.classList.add("synthetic-focus"),!0}else return!1}setWidthControlElement(n){let c=0;if(n){let a=0,l=0;this.options.forEach((u,C)=>{const g=u.detail?u.detail.length:0,v=u.decoratorRight?u.decoratorRight.length:0,b=u.text.length+g+v;b>l&&(a=C,l=b)}),n.textContent=this.options[a].text+(this.options[a].decoratorRight?this.options[a].decoratorRight+" ":""),c=L.getTotalWidth(n)}return c}createSelectList(n){if(this.selectList)return;this.selectDropDownListContainer=L.append(n,i(".select-box-dropdown-list-container")),this.listRenderer=new r,this.selectList=new S.List("SelectBoxCustom",this.selectDropDownListContainer,this,[this.listRenderer],{useShadows:!1,verticalScrollMode:3,keyboardSupport:!1,mouseSupport:!1,accessibilityProvider:{getAriaLabel:l=>{let u=l.text;return l.detail&&(u+=`. ${l.detail}`),l.decoratorRight&&(u+=`. ${l.decoratorRight}`),l.description&&(u+=`. ${l.description}`),u},getWidgetAriaLabel:()=>(0,t.localize)(0,null),getRole:()=>s.isMacintosh?"":"option",getWidgetRole:()=>"listbox"}}),this.selectBoxOptions.ariaLabel&&(this.selectList.ariaLabel=this.selectBoxOptions.ariaLabel);const c=this._register(new k.DomEmitter(this.selectDropDownListContainer,"keydown")),a=_.Event.chain(c.event).filter(()=>this.selectList.length>0).map(l=>new y.StandardKeyboardEvent(l));this._register(a.filter(l=>l.keyCode===3).on(l=>this.onEnter(l),this)),this._register(a.filter(l=>l.keyCode===2).on(l=>this.onEnter(l),this)),this._register(a.filter(l=>l.keyCode===9).on(l=>this.onEscape(l),this)),this._register(a.filter(l=>l.keyCode===16).on(l=>this.onUpArrow(l),this)),this._register(a.filter(l=>l.keyCode===18).on(l=>this.onDownArrow(l),this)),this._register(a.filter(l=>l.keyCode===12).on(this.onPageDown,this)),this._register(a.filter(l=>l.keyCode===11).on(this.onPageUp,this)),this._register(a.filter(l=>l.keyCode===14).on(this.onHome,this)),this._register(a.filter(l=>l.keyCode===13).on(this.onEnd,this)),this._register(a.filter(l=>l.keyCode>=21&&l.keyCode<=56||l.keyCode>=85&&l.keyCode<=113).on(this.onCharacter,this)),this._register(L.addDisposableListener(this.selectList.getHTMLElement(),L.EventType.POINTER_UP,l=>this.onPointerUp(l))),this._register(this.selectList.onMouseOver(l=>typeof l.index<"u"&&this.selectList.setFocus([l.index]))),this._register(this.selectList.onDidChangeFocus(l=>this.onListFocus(l))),this._register(L.addDisposableListener(this.selectDropDownContainer,L.EventType.FOCUS_OUT,l=>{!this._isVisible||L.isAncestor(l.relatedTarget,this.selectDropDownContainer)||this.onListBlur()})),this.selectList.getHTMLElement().setAttribute("aria-label",this.selectBoxOptions.ariaLabel||""),this.selectList.getHTMLElement().setAttribute("aria-expanded","true"),this.styleList()}onPointerUp(n){if(!this.selectList.length)return;L.EventHelper.stop(n);const c=n.target;if(!c||c.classList.contains("slider"))return;const a=c.closest(".monaco-list-row");if(!a)return;const l=Number(a.getAttribute("data-index")),u=a.classList.contains("option-disabled");l>=0&&l<this.options.length&&!u&&(this.selected=l,this.select(this.selected),this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selectList.getFocus()[0]),this.selected!==this._currentSelection&&(this._currentSelection=this.selected,this._onDidSelect.fire({index:this.selectElement.selectedIndex,selected:this.options[this.selected].text}),this.options[this.selected]&&this.options[this.selected].text&&(this.selectElement.title=this.options[this.selected].text)),this.hideSelectDropDown(!0))}onListBlur(){this._sticky||(this.selected!==this._currentSelection&&this.select(this._currentSelection),this.hideSelectDropDown(!1))}renderDescriptionMarkdown(n,c){const a=u=>{for(let C=0;C<u.childNodes.length;C++){const g=u.childNodes.item(C);(g.tagName&&g.tagName.toLowerCase())==="img"?u.removeChild(g):a(g)}},l=(0,D.renderMarkdown)({value:n,supportThemeIcons:!0},{actionHandler:c});return l.element.classList.add("select-box-description-markdown"),a(l.element),l.element}onListFocus(n){!this._isVisible||!this._hasDetails||this.updateDetail(n.indexes[0])}updateDetail(n){var c,a;this.selectionDetailsPane.innerText="";const l=this.options[n],u=(c=l?.description)!==null&&c!==void 0?c:"",C=(a=l?.descriptionIsMarkdown)!==null&&a!==void 0?a:!1;if(u){if(C){const g=l.descriptionMarkdownActionHandler;this.selectionDetailsPane.appendChild(this.renderDescriptionMarkdown(u,g))}else this.selectionDetailsPane.innerText=u;this.selectionDetailsPane.style.display="block"}else this.selectionDetailsPane.style.display="none";this._skipLayout=!0,this.contextViewProvider.layout(),this._skipLayout=!1}onEscape(n){L.EventHelper.stop(n),this.select(this._currentSelection),this.hideSelectDropDown(!0)}onEnter(n){L.EventHelper.stop(n),this.selected!==this._currentSelection&&(this._currentSelection=this.selected,this._onDidSelect.fire({index:this.selectElement.selectedIndex,selected:this.options[this.selected].text}),this.options[this.selected]&&this.options[this.selected].text&&(this.selectElement.title=this.options[this.selected].text)),this.hideSelectDropDown(!0)}onDownArrow(n){if(this.selected<this.options.length-1){L.EventHelper.stop(n,!0);const c=this.options[this.selected+1].isDisabled;if(c&&this.options.length>this.selected+2)this.selected+=2;else{if(c)return;this.selected++}this.select(this.selected),this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selectList.getFocus()[0])}}onUpArrow(n){this.selected>0&&(L.EventHelper.stop(n,!0),this.options[this.selected-1].isDisabled&&this.selected>1?this.selected-=2:this.selected--,this.select(this.selected),this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selectList.getFocus()[0]))}onPageUp(n){L.EventHelper.stop(n),this.selectList.focusPreviousPage(),setTimeout(()=>{this.selected=this.selectList.getFocus()[0],this.options[this.selected].isDisabled&&this.selected<this.options.length-1&&(this.selected++,this.selectList.setFocus([this.selected])),this.selectList.reveal(this.selected),this.select(this.selected)},1)}onPageDown(n){L.EventHelper.stop(n),this.selectList.focusNextPage(),setTimeout(()=>{this.selected=this.selectList.getFocus()[0],this.options[this.selected].isDisabled&&this.selected>0&&(this.selected--,this.selectList.setFocus([this.selected])),this.selectList.reveal(this.selected),this.select(this.selected)},1)}onHome(n){L.EventHelper.stop(n),!(this.options.length<2)&&(this.selected=0,this.options[this.selected].isDisabled&&this.selected>1&&this.selected++,this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selected),this.select(this.selected))}onEnd(n){L.EventHelper.stop(n),!(this.options.length<2)&&(this.selected=this.options.length-1,this.options[this.selected].isDisabled&&this.selected>1&&this.selected--,this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selected),this.select(this.selected))}onCharacter(n){const c=f.KeyCodeUtils.toString(n.keyCode);let a=-1;for(let l=0;l<this.options.length-1;l++)if(a=(l+this.selected+1)%this.options.length,this.options[a].text.charAt(0).toUpperCase()===c&&!this.options[a].isDisabled){this.select(a),this.selectList.setFocus([a]),this.selectList.reveal(this.selectList.getFocus()[0]),L.EventHelper.stop(n);break}}dispose(){this.hideSelectDropDown(!1),super.dispose()}}e.SelectBoxList=d,d.DEFAULT_DROPDOWN_MINIMUM_BOTTOM_MARGIN=32,d.DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN=2,d.DEFAULT_MINIMUM_VISIBLE_OPTIONS=3}),define(X[576],ee([1,0,575,570,82,17,402]),function(q,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelectBox=void 0;class S extends y.Widget{constructor(_,f,p,s,t){super(),D.isMacintosh&&!t?.useCustomDrawn?this.selectBoxDelegate=new k.SelectBoxNative(_,f,s,t):this.selectBoxDelegate=new L.SelectBoxList(_,f,p,s,t),this._register(this.selectBoxDelegate)}get onDidSelect(){return this.selectBoxDelegate.onDidSelect}setOptions(_,f){this.selectBoxDelegate.setOptions(_,f)}select(_){this.selectBoxDelegate.select(_)}focus(){this.selectBoxDelegate.focus()}blur(){this.selectBoxDelegate.blur()}setFocusable(_){this.selectBoxDelegate.setFocusable(_)}render(_){this.selectBoxDelegate.render(_)}}e.SelectBox=S}),define(X[153],ee([1,0,51,196,7,60,310,576,40,2,17,18,547,263]),function(q,e,L,k,y,D,S,m,_,f,p,s,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelectActionViewItem=e.ActionViewItem=e.BaseActionViewItem=void 0;class i extends f.Disposable{get action(){return this._action}constructor(h,n,c={}){super(),this.options=c,this._context=h||this,this._action=n,n instanceof _.Action&&this._register(n.onDidChange(a=>{this.element&&this.handleActionChangeEvent(a)}))}handleActionChangeEvent(h){h.enabled!==void 0&&this.updateEnabled(),h.checked!==void 0&&this.updateChecked(),h.class!==void 0&&this.updateClass(),h.label!==void 0&&(this.updateLabel(),this.updateTooltip()),h.tooltip!==void 0&&this.updateTooltip()}get actionRunner(){return this._actionRunner||(this._actionRunner=this._register(new _.ActionRunner)),this._actionRunner}set actionRunner(h){this._actionRunner=h}isEnabled(){return this._action.enabled}setActionContext(h){this._context=h}render(h){const n=this.element=h;this._register(D.Gesture.addTarget(h));const c=this.options&&this.options.draggable;c&&(h.draggable=!0,L.isFirefox&&this._register((0,y.addDisposableListener)(h,y.EventType.DRAG_START,a=>{var l;return(l=a.dataTransfer)===null||l===void 0?void 0:l.setData(k.DataTransfers.TEXT,this._action.label)}))),this._register((0,y.addDisposableListener)(n,D.EventType.Tap,a=>this.onClick(a,!0))),this._register((0,y.addDisposableListener)(n,y.EventType.MOUSE_DOWN,a=>{c||y.EventHelper.stop(a,!0),this._action.enabled&&a.button===0&&n.classList.add("active")})),p.isMacintosh&&this._register((0,y.addDisposableListener)(n,y.EventType.CONTEXT_MENU,a=>{a.button===0&&a.ctrlKey===!0&&this.onClick(a)})),this._register((0,y.addDisposableListener)(n,y.EventType.CLICK,a=>{y.EventHelper.stop(a,!0),this.options&&this.options.isMenu||this.onClick(a)})),this._register((0,y.addDisposableListener)(n,y.EventType.DBLCLICK,a=>{y.EventHelper.stop(a,!0)})),[y.EventType.MOUSE_UP,y.EventType.MOUSE_OUT].forEach(a=>{this._register((0,y.addDisposableListener)(n,a,l=>{y.EventHelper.stop(l),n.classList.remove("active")}))})}onClick(h,n=!1){var c;y.EventHelper.stop(h,!0);const a=s.isUndefinedOrNull(this._context)?!((c=this.options)===null||c===void 0)&&c.useEventAsContext?h:{preserveFocus:n}:this._context;this.actionRunner.run(this._action,a)}focus(){this.element&&(this.element.tabIndex=0,this.element.focus(),this.element.classList.add("focused"))}blur(){this.element&&(this.element.blur(),this.element.tabIndex=-1,this.element.classList.remove("focused"))}setFocusable(h){this.element&&(this.element.tabIndex=h?0:-1)}get trapsArrowNavigation(){return!1}updateEnabled(){}updateLabel(){}getTooltip(){return this.action.tooltip}updateTooltip(){var h;if(!this.element)return;const n=(h=this.getTooltip())!==null&&h!==void 0?h:"";this.updateAriaLabel(),this.options.hoverDelegate?(this.element.title="",this.customHover?this.customHover.update(n):(this.customHover=(0,S.setupCustomHover)(this.options.hoverDelegate,this.element,n),this._store.add(this.customHover))):this.element.title=n}updateAriaLabel(){var h;if(this.element){const n=(h=this.getTooltip())!==null&&h!==void 0?h:"";this.element.setAttribute("aria-label",n)}}updateClass(){}updateChecked(){}dispose(){this.element&&(this.element.remove(),this.element=void 0),this._context=void 0,super.dispose()}}e.BaseActionViewItem=i;class o extends i{constructor(h,n,c){super(h,n,c),this.options=c,this.options.icon=c.icon!==void 0?c.icon:!1,this.options.label=c.label!==void 0?c.label:!0,this.cssClass=""}render(h){super.render(h),this.element&&(this.label=(0,y.append)(this.element,(0,y.$)("a.action-label"))),this.label&&this.label.setAttribute("role",this.getDefaultAriaRole()),this.options.label&&this.options.keybinding&&this.element&&((0,y.append)(this.element,(0,y.$)("span.keybinding")).textContent=this.options.keybinding),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked()}getDefaultAriaRole(){return this._action.id===_.Separator.ID?"presentation":this.options.isMenu?"menuitem":"button"}focus(){this.label&&(this.label.tabIndex=0,this.label.focus())}blur(){this.label&&(this.label.tabIndex=-1)}setFocusable(h){this.label&&(this.label.tabIndex=h?0:-1)}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this.action.label)}getTooltip(){let h=null;return this.action.tooltip?h=this.action.tooltip:!this.options.label&&this.action.label&&this.options.icon&&(h=this.action.label,this.options.keybinding&&(h=t.localize(0,null,h,this.options.keybinding))),h??void 0}updateClass(){var h;this.cssClass&&this.label&&this.label.classList.remove(...this.cssClass.split(" ")),this.options.icon?(this.cssClass=this.action.class,this.label&&(this.label.classList.add("codicon"),this.cssClass&&this.label.classList.add(...this.cssClass.split(" "))),this.updateEnabled()):(h=this.label)===null||h===void 0||h.classList.remove("codicon")}updateEnabled(){var h,n;this.action.enabled?(this.label&&(this.label.removeAttribute("aria-disabled"),this.label.classList.remove("disabled")),(h=this.element)===null||h===void 0||h.classList.remove("disabled")):(this.label&&(this.label.setAttribute("aria-disabled","true"),this.label.classList.add("disabled")),(n=this.element)===null||n===void 0||n.classList.add("disabled"))}updateAriaLabel(){var h;if(this.label){const n=(h=this.getTooltip())!==null&&h!==void 0?h:"";this.label.setAttribute("aria-label",n)}}updateChecked(){this.label&&(this.action.checked!==void 0?(this.label.classList.toggle("checked",this.action.checked),this.label.setAttribute("aria-checked",this.action.checked?"true":"false"),this.label.setAttribute("role","checkbox")):(this.label.classList.remove("checked"),this.label.setAttribute("aria-checked",""),this.label.setAttribute("role",this.getDefaultAriaRole())))}}e.ActionViewItem=o;class r extends i{constructor(h,n,c,a,l,u,C){super(h,n),this.selectBox=new m.SelectBox(c,a,l,u,C),this.selectBox.setFocusable(!1),this._register(this.selectBox),this.registerListeners()}select(h){this.selectBox.select(h)}registerListeners(){this._register(this.selectBox.onDidSelect(h=>this.runAction(h.selected,h.index)))}runAction(h,n){this.actionRunner.run(this._action,this.getActionContext(h,n))}getActionContext(h,n){return h}setFocusable(h){this.selectBox.setFocusable(h)}focus(){var h;(h=this.selectBox)===null||h===void 0||h.focus()}blur(){var h;(h=this.selectBox)===null||h===void 0||h.blur()}render(h){this.selectBox.render(h)}}e.SelectActionViewItem=r}),define(X[67],ee([1,0,7,45,153,40,6,2,18,263]),function(q,e,L,k,y,D,S,m,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ActionBar=void 0;class f extends m.Disposable{constructor(s,t={}){var i,o,r,d,h,n;super(),this._actionRunnerDisposables=this._register(new m.DisposableStore),this.viewItemDisposables=this._register(new m.DisposableMap),this.triggerKeyDown=!1,this.focusable=!0,this._onDidBlur=this._register(new S.Emitter),this.onDidBlur=this._onDidBlur.event,this._onDidCancel=this._register(new S.Emitter({onWillAddFirstListener:()=>this.cancelHasListener=!0})),this.onDidCancel=this._onDidCancel.event,this.cancelHasListener=!1,this._onDidRun=this._register(new S.Emitter),this.onDidRun=this._onDidRun.event,this._onWillRun=this._register(new S.Emitter),this.onWillRun=this._onWillRun.event,this.options=t,this._context=(i=t.context)!==null&&i!==void 0?i:null,this._orientation=(o=this.options.orientation)!==null&&o!==void 0?o:0,this._triggerKeys={keyDown:(d=(r=this.options.triggerKeys)===null||r===void 0?void 0:r.keyDown)!==null&&d!==void 0?d:!1,keys:(n=(h=this.options.triggerKeys)===null||h===void 0?void 0:h.keys)!==null&&n!==void 0?n:[3,10]},this.options.actionRunner?this._actionRunner=this.options.actionRunner:(this._actionRunner=new D.ActionRunner,this._actionRunnerDisposables.add(this._actionRunner)),this._actionRunnerDisposables.add(this._actionRunner.onDidRun(l=>this._onDidRun.fire(l))),this._actionRunnerDisposables.add(this._actionRunner.onWillRun(l=>this._onWillRun.fire(l))),this.viewItems=[],this.focusedItem=void 0,this.domNode=document.createElement("div"),this.domNode.className="monaco-action-bar",t.animated!==!1&&this.domNode.classList.add("animated");let c,a;switch(this._orientation){case 0:c=[15],a=[17];break;case 1:c=[16],a=[18],this.domNode.className+=" vertical";break}this._register(L.addDisposableListener(this.domNode,L.EventType.KEY_DOWN,l=>{const u=new k.StandardKeyboardEvent(l);let C=!0;const g=typeof this.focusedItem=="number"?this.viewItems[this.focusedItem]:void 0;c&&(u.equals(c[0])||u.equals(c[1]))?C=this.focusPrevious():a&&(u.equals(a[0])||u.equals(a[1]))?C=this.focusNext():u.equals(9)&&this.cancelHasListener?this._onDidCancel.fire():u.equals(14)?C=this.focusFirst():u.equals(13)?C=this.focusLast():u.equals(2)&&g instanceof y.BaseActionViewItem&&g.trapsArrowNavigation?C=this.focusNext():this.isTriggerKeyEvent(u)?this._triggerKeys.keyDown?this.doTrigger(u):this.triggerKeyDown=!0:C=!1,C&&(u.preventDefault(),u.stopPropagation())})),this._register(L.addDisposableListener(this.domNode,L.EventType.KEY_UP,l=>{const u=new k.StandardKeyboardEvent(l);this.isTriggerKeyEvent(u)?(!this._triggerKeys.keyDown&&this.triggerKeyDown&&(this.triggerKeyDown=!1,this.doTrigger(u)),u.preventDefault(),u.stopPropagation()):(u.equals(2)||u.equals(1026))&&this.updateFocusedItem()})),this.focusTracker=this._register(L.trackFocus(this.domNode)),this._register(this.focusTracker.onDidBlur(()=>{(L.getActiveElement()===this.domNode||!L.isAncestor(L.getActiveElement(),this.domNode))&&(this._onDidBlur.fire(),this.focusedItem=void 0,this.previouslyFocusedItem=void 0,this.triggerKeyDown=!1)})),this._register(this.focusTracker.onDidFocus(()=>this.updateFocusedItem())),this.actionsList=document.createElement("ul"),this.actionsList.className="actions-container",this.actionsList.setAttribute("role",this.options.ariaRole||"toolbar"),this.options.ariaLabel&&this.actionsList.setAttribute("aria-label",this.options.ariaLabel),this.domNode.appendChild(this.actionsList),s.appendChild(this.domNode)}refreshRole(){this.length()>=2?this.actionsList.setAttribute("role",this.options.ariaRole||"toolbar"):this.actionsList.setAttribute("role","presentation")}setFocusable(s){if(this.focusable=s,this.focusable){const t=this.viewItems.find(i=>i instanceof y.BaseActionViewItem&&i.isEnabled());t instanceof y.BaseActionViewItem&&t.setFocusable(!0)}else this.viewItems.forEach(t=>{t instanceof y.BaseActionViewItem&&t.setFocusable(!1)})}isTriggerKeyEvent(s){let t=!1;return this._triggerKeys.keys.forEach(i=>{t=t||s.equals(i)}),t}updateFocusedItem(){for(let s=0;s<this.actionsList.children.length;s++){const t=this.actionsList.children[s];if(L.isAncestor(L.getActiveElement(),t)){this.focusedItem=s;break}}}get context(){return this._context}set context(s){this._context=s,this.viewItems.forEach(t=>t.setActionContext(s))}get actionRunner(){return this._actionRunner}set actionRunner(s){this._actionRunner=s,this._actionRunnerDisposables.clear(),this._actionRunnerDisposables.add(this._actionRunner.onDidRun(t=>this._onDidRun.fire(t))),this._actionRunnerDisposables.add(this._actionRunner.onWillRun(t=>this._onWillRun.fire(t))),this.viewItems.forEach(t=>t.actionRunner=s)}getContainer(){return this.domNode}getAction(s){var t;if(typeof s=="number")return(t=this.viewItems[s])===null||t===void 0?void 0:t.action;if(s instanceof HTMLElement){for(;s.parentElement!==this.actionsList;){if(!s.parentElement)return;s=s.parentElement}for(let i=0;i<this.actionsList.childNodes.length;i++)if(this.actionsList.childNodes[i]===s)return this.viewItems[i].action}}push(s,t={}){const i=Array.isArray(s)?s:[s];let o=_.isNumber(t.index)?t.index:null;i.forEach(r=>{const d=document.createElement("li");d.className="action-item",d.setAttribute("role","presentation");let h;const n=Object.assign({hoverDelegate:this.options.hoverDelegate},t);this.options.actionViewItemProvider&&(h=this.options.actionViewItemProvider(r,n)),h||(h=new y.ActionViewItem(this.context,r,n)),this.options.allowContextMenu||this.viewItemDisposables.set(h,L.addDisposableListener(d,L.EventType.CONTEXT_MENU,c=>{L.EventHelper.stop(c,!0)})),h.actionRunner=this._actionRunner,h.setActionContext(this.context),h.render(d),this.focusable&&h instanceof y.BaseActionViewItem&&this.viewItems.length===0&&h.setFocusable(!0),o===null||o<0||o>=this.actionsList.children.length?(this.actionsList.appendChild(d),this.viewItems.push(h)):(this.actionsList.insertBefore(d,this.actionsList.children[o]),this.viewItems.splice(o,0,h),o++)}),typeof this.focusedItem=="number"&&this.focus(this.focusedItem),this.refreshRole()}clear(){this.isEmpty()||(this.viewItems=(0,m.dispose)(this.viewItems),this.viewItemDisposables.clearAndDisposeAll(),L.clearNode(this.actionsList),this.refreshRole())}length(){return this.viewItems.length}isEmpty(){return this.viewItems.length===0}focus(s){let t=!1,i;if(s===void 0?t=!0:typeof s=="number"?i=s:typeof s=="boolean"&&(t=s),t&&typeof this.focusedItem>"u"){const o=this.viewItems.findIndex(r=>r.isEnabled());this.focusedItem=o===-1?void 0:o,this.updateFocus(void 0,void 0,!0)}else i!==void 0&&(this.focusedItem=i),this.updateFocus(void 0,void 0,!0)}focusFirst(){return this.focusedItem=this.length()-1,this.focusNext(!0)}focusLast(){return this.focusedItem=0,this.focusPrevious(!0)}focusNext(s){if(typeof this.focusedItem>"u")this.focusedItem=this.viewItems.length-1;else if(this.viewItems.length<=1)return!1;const t=this.focusedItem;let i;do{if(!s&&this.options.preventLoopNavigation&&this.focusedItem+1>=this.viewItems.length)return this.focusedItem=t,!1;this.focusedItem=(this.focusedItem+1)%this.viewItems.length,i=this.viewItems[this.focusedItem]}while(this.focusedItem!==t&&(this.options.focusOnlyEnabledItems&&!i.isEnabled()||i.action.id===D.Separator.ID));return this.updateFocus(),!0}focusPrevious(s){if(typeof this.focusedItem>"u")this.focusedItem=0;else if(this.viewItems.length<=1)return!1;const t=this.focusedItem;let i;do{if(this.focusedItem=this.focusedItem-1,this.focusedItem<0){if(!s&&this.options.preventLoopNavigation)return this.focusedItem=t,!1;this.focusedItem=this.viewItems.length-1}i=this.viewItems[this.focusedItem]}while(this.focusedItem!==t&&(this.options.focusOnlyEnabledItems&&!i.isEnabled()||i.action.id===D.Separator.ID));return this.updateFocus(!0),!0}updateFocus(s,t,i=!1){var o;typeof this.focusedItem>"u"&&this.actionsList.focus({preventScroll:t}),this.previouslyFocusedItem!==void 0&&this.previouslyFocusedItem!==this.focusedItem&&((o=this.viewItems[this.previouslyFocusedItem])===null||o===void 0||o.blur());const r=this.focusedItem!==void 0&&this.viewItems[this.focusedItem];if(r){let d=!0;_.isFunction(r.focus)||(d=!1),this.options.focusOnlyEnabledItems&&_.isFunction(r.isEnabled)&&!r.isEnabled()&&(d=!1),r.action.id===D.Separator.ID&&(d=!1),d?(i||this.previouslyFocusedItem!==this.focusedItem)&&(r.focus(s),this.previouslyFocusedItem=this.focusedItem):(this.actionsList.focus({preventScroll:t}),this.previouslyFocusedItem=void 0)}}doTrigger(s){if(typeof this.focusedItem>"u")return;const t=this.viewItems[this.focusedItem];if(t instanceof y.BaseActionViewItem){const i=t._context===null||t._context===void 0?s:t._context;this.run(t._action,i)}}run(s,t){return Le(this,void 0,void 0,function*(){yield this._actionRunner.run(s,t)})}dispose(){this._context=void 0,this.viewItems=(0,m.dispose)(this.viewItems),this.getContainer().remove(),super.dispose()}}e.ActionBar=f}),define(X[311],ee([1,0,7,153,567,6,264]),function(q,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DropdownMenuActionViewItem=void 0;class S extends k.BaseActionViewItem{constructor(_,f,p,s=Object.create(null)){super(null,_,s),this.actionItem=null,this._onDidChangeVisibility=this._register(new D.Emitter),this.onDidChangeVisibility=this._onDidChangeVisibility.event,this.menuActionsOrProvider=f,this.contextMenuProvider=p,this.options=s,this.options.actionRunner&&(this.actionRunner=this.options.actionRunner)}render(_){this.actionItem=_;const f=t=>{this.element=(0,L.append)(t,(0,L.$)("a.action-label"));let i=[];return typeof this.options.classNames=="string"?i=this.options.classNames.split(/\s+/g).filter(o=>!!o):this.options.classNames&&(i=this.options.classNames),i.find(o=>o==="icon")||i.push("codicon"),this.element.classList.add(...i),this.element.setAttribute("role","button"),this.element.setAttribute("aria-haspopup","true"),this.element.setAttribute("aria-expanded","false"),this.element.title=this._action.label||"",this.element.ariaLabel=this._action.label||"",null},p=Array.isArray(this.menuActionsOrProvider),s={contextMenuProvider:this.contextMenuProvider,labelRenderer:f,menuAsChild:this.options.menuAsChild,actions:p?this.menuActionsOrProvider:void 0,actionProvider:p?void 0:this.menuActionsOrProvider,skipTelemetry:this.options.skipTelemetry};if(this.dropdownMenu=this._register(new y.DropdownMenu(_,s)),this._register(this.dropdownMenu.onDidChangeVisibility(t=>{var i;(i=this.element)===null||i===void 0||i.setAttribute("aria-expanded",`${t}`),this._onDidChangeVisibility.fire(t)})),this.dropdownMenu.menuOptions={actionViewItemProvider:this.options.actionViewItemProvider,actionRunner:this.actionRunner,getKeyBinding:this.options.keybindingProvider,context:this._context},this.options.anchorAlignmentProvider){const t=this;this.dropdownMenu.menuOptions=Object.assign(Object.assign({},this.dropdownMenu.menuOptions),{get anchorAlignment(){return t.options.anchorAlignmentProvider()}})}this.updateTooltip(),this.updateEnabled()}getTooltip(){let _=null;return this.action.tooltip?_=this.action.tooltip:this.action.label&&(_=this.action.label),_??void 0}setActionContext(_){super.setActionContext(_),this.dropdownMenu&&(this.dropdownMenu.menuOptions?this.dropdownMenu.menuOptions.context=_:this.dropdownMenu.menuOptions={context:_})}show(){var _;(_=this.dropdownMenu)===null||_===void 0||_.show()}updateEnabled(){var _,f;const p=!this.action.enabled;(_=this.actionItem)===null||_===void 0||_.classList.toggle("disabled",p),(f=this.element)===null||f===void 0||f.classList.toggle("disabled",p)}}e.DropdownMenuActionViewItem=S}),define(X[227],ee([1,0,7,80,301,67,54,74,82,6,384,46,552,396]),function(q,e,L,k,y,D,S,m,_,f,p,s,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HistoryInputBox=e.InputBox=e.unthemedInboxStyles=void 0;const i=L.$;e.unthemedInboxStyles={inputBackground:"#3C3C3C",inputForeground:"#CCCCCC",inputValidationInfoBorder:"#55AAFF",inputValidationInfoBackground:"#063B49",inputValidationWarningBorder:"#B89500",inputValidationWarningBackground:"#352A05",inputValidationErrorBorder:"#BE1100",inputValidationErrorBackground:"#5A1D1D",inputBorder:void 0,inputValidationErrorForeground:void 0,inputValidationInfoForeground:void 0,inputValidationWarningForeground:void 0};class o extends _.Widget{constructor(h,n,c){var a;super(),this.state="idle",this.maxHeight=Number.POSITIVE_INFINITY,this._onDidChange=this._register(new f.Emitter),this.onDidChange=this._onDidChange.event,this._onDidHeightChange=this._register(new f.Emitter),this.onDidHeightChange=this._onDidHeightChange.event,this.contextViewProvider=n,this.options=c,this.message=null,this.placeholder=this.options.placeholder||"",this.tooltip=(a=this.options.tooltip)!==null&&a!==void 0?a:this.placeholder||"",this.ariaLabel=this.options.ariaLabel||"",this.options.validationOptions&&(this.validation=this.options.validationOptions.validation),this.element=L.append(h,i(".monaco-inputbox.idle"));const l=this.options.flexibleHeight?"textarea":"input",u=L.append(this.element,i(".ibwrapper"));if(this.input=L.append(u,i(l+".input.empty")),this.input.setAttribute("autocorrect","off"),this.input.setAttribute("autocapitalize","off"),this.input.setAttribute("spellcheck","false"),this.onfocus(this.input,()=>this.element.classList.add("synthetic-focus")),this.onblur(this.input,()=>this.element.classList.remove("synthetic-focus")),this.options.flexibleHeight){this.maxHeight=typeof this.options.flexibleMaxHeight=="number"?this.options.flexibleMaxHeight:Number.POSITIVE_INFINITY,this.mirror=L.append(u,i("div.mirror")),this.mirror.innerText="\xA0",this.scrollableElement=new m.ScrollableElement(this.element,{vertical:1}),this.options.flexibleWidth&&(this.input.setAttribute("wrap","off"),this.mirror.style.whiteSpace="pre",this.mirror.style.wordWrap="initial"),L.append(h,this.scrollableElement.getDomNode()),this._register(this.scrollableElement),this._register(this.scrollableElement.onScroll(v=>this.input.scrollTop=v.scrollTop));const C=this._register(new k.DomEmitter(document,"selectionchange")),g=f.Event.filter(C.event,()=>{const v=document.getSelection();return v?.anchorNode===u});this._register(g(this.updateScrollDimensions,this)),this._register(this.onDidHeightChange(this.updateScrollDimensions,this))}else this.input.type=this.options.type||"text",this.input.setAttribute("wrap","off");this.ariaLabel&&this.input.setAttribute("aria-label",this.ariaLabel),this.placeholder&&!this.options.showPlaceholderOnFocus&&this.setPlaceHolder(this.placeholder),this.tooltip&&this.setTooltip(this.tooltip),this.oninput(this.input,()=>this.onValueChange()),this.onblur(this.input,()=>this.onBlur()),this.onfocus(this.input,()=>this.onFocus()),this._register(this.ignoreGesture(this.input)),setTimeout(()=>this.updateMirror(),0),this.options.actions&&(this.actionbar=this._register(new D.ActionBar(this.element)),this.actionbar.push(this.options.actions,{icon:!0,label:!1})),this.applyStyles()}onBlur(){this._hideMessage(),this.options.showPlaceholderOnFocus&&this.input.setAttribute("placeholder","")}onFocus(){this._showMessage(),this.options.showPlaceholderOnFocus&&this.input.setAttribute("placeholder",this.placeholder||"")}setPlaceHolder(h){this.placeholder=h,this.input.setAttribute("placeholder",h)}setTooltip(h){this.tooltip=h,this.input.title=h}get inputElement(){return this.input}get value(){return this.input.value}set value(h){this.input.value!==h&&(this.input.value=h,this.onValueChange())}get height(){return typeof this.cachedHeight=="number"?this.cachedHeight:L.getTotalHeight(this.element)}focus(){this.input.focus()}blur(){this.input.blur()}hasFocus(){return document.activeElement===this.input}select(h=null){this.input.select(),h&&(this.input.setSelectionRange(h.start,h.end),h.end===this.input.value.length&&(this.input.scrollLeft=this.input.scrollWidth))}isSelectionAtEnd(){return this.input.selectionEnd===this.input.value.length&&this.input.selectionStart===this.input.selectionEnd}enable(){this.input.removeAttribute("disabled")}disable(){this.blur(),this.input.disabled=!0,this._hideMessage()}set paddingRight(h){this.input.style.width=`calc(100% - ${h}px)`,this.mirror&&(this.mirror.style.paddingRight=h+"px")}updateScrollDimensions(){if(typeof this.cachedContentHeight!="number"||typeof this.cachedHeight!="number"||!this.scrollableElement)return;const h=this.cachedContentHeight,n=this.cachedHeight,c=this.input.scrollTop;this.scrollableElement.setScrollDimensions({scrollHeight:h,height:n}),this.scrollableElement.setScrollPosition({scrollTop:c})}showMessage(h,n){if(this.state==="open"&&(0,s.equals)(this.message,h))return;this.message=h,this.element.classList.remove("idle"),this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add(this.classForType(h.type));const c=this.stylesForType(this.message.type);this.element.style.border=`1px solid ${L.asCssValueWithDefault(c.border,"transparent")}`,this.message.content&&(this.hasFocus()||n)&&this._showMessage()}hideMessage(){this.message=null,this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add("idle"),this._hideMessage(),this.applyStyles()}validate(){let h=null;return this.validation&&(h=this.validation(this.value),h?(this.inputElement.setAttribute("aria-invalid","true"),this.showMessage(h)):this.inputElement.hasAttribute("aria-invalid")&&(this.inputElement.removeAttribute("aria-invalid"),this.hideMessage())),h?.type}stylesForType(h){const n=this.options.inputBoxStyles;switch(h){case 1:return{border:n.inputValidationInfoBorder,background:n.inputValidationInfoBackground,foreground:n.inputValidationInfoForeground};case 2:return{border:n.inputValidationWarningBorder,background:n.inputValidationWarningBackground,foreground:n.inputValidationWarningForeground};default:return{border:n.inputValidationErrorBorder,background:n.inputValidationErrorBackground,foreground:n.inputValidationErrorForeground}}}classForType(h){switch(h){case 1:return"info";case 2:return"warning";default:return"error"}}_showMessage(){if(!this.contextViewProvider||!this.message)return;let h;const n=()=>h.style.width=L.getTotalWidth(this.element)+"px";this.contextViewProvider.showContextView({getAnchor:()=>this.element,anchorAlignment:1,render:a=>{var l,u;if(!this.message)return null;h=L.append(a,i(".monaco-inputbox-container")),n();const C={inline:!0,className:"monaco-inputbox-message"},g=this.message.formatContent?(0,y.renderFormattedText)(this.message.content,C):(0,y.renderText)(this.message.content,C);g.classList.add(this.classForType(this.message.type));const v=this.stylesForType(this.message.type);return g.style.backgroundColor=(l=v.background)!==null&&l!==void 0?l:"",g.style.color=(u=v.foreground)!==null&&u!==void 0?u:"",g.style.border=v.border?`1px solid ${v.border}`:"",L.append(h,g),null},onHide:()=>{this.state="closed"},layout:n});let c;this.message.type===3?c=t.localize(0,null,this.message.content):this.message.type===2?c=t.localize(1,null,this.message.content):c=t.localize(2,null,this.message.content),S.alert(c),this.state="open"}_hideMessage(){this.contextViewProvider&&(this.state==="open"&&this.contextViewProvider.hideContextView(),this.state="idle")}onValueChange(){this._onDidChange.fire(this.value),this.validate(),this.updateMirror(),this.input.classList.toggle("empty",!this.value),this.state==="open"&&this.contextViewProvider&&this.contextViewProvider.layout()}updateMirror(){if(!this.mirror)return;const h=this.value,c=h.charCodeAt(h.length-1)===10?" ":"";(h+c).replace(/\u000c/g,"")?this.mirror.textContent=h+c:this.mirror.innerText="\xA0",this.layout()}applyStyles(){var h,n,c;const a=this.options.inputBoxStyles,l=(h=a.inputBackground)!==null&&h!==void 0?h:"",u=(n=a.inputForeground)!==null&&n!==void 0?n:"",C=(c=a.inputBorder)!==null&&c!==void 0?c:"";this.element.style.backgroundColor=l,this.element.style.color=u,this.input.style.backgroundColor="inherit",this.input.style.color=u,this.element.style.border=`1px solid ${L.asCssValueWithDefault(C,"transparent")}`}layout(){if(!this.mirror)return;const h=this.cachedContentHeight;this.cachedContentHeight=L.getTotalHeight(this.mirror),h!==this.cachedContentHeight&&(this.cachedHeight=Math.min(this.cachedContentHeight,this.maxHeight),this.input.style.height=this.cachedHeight+"px",this._onDidHeightChange.fire(this.cachedContentHeight))}insertAtCursor(h){const n=this.inputElement,c=n.selectionStart,a=n.selectionEnd,l=n.value;c!==null&&a!==null&&(this.value=l.substr(0,c)+h+l.substr(a),n.setSelectionRange(c+1,c+1),this.layout())}dispose(){var h;this._hideMessage(),this.message=null,(h=this.actionbar)===null||h===void 0||h.dispose(),super.dispose()}}e.InputBox=o;class r extends o{constructor(h,n,c){const a=t.localize(3,null),l=` or \u21C5 ${a}`,u=` (\u21C5 ${a})`;super(h,n,c),this._onDidFocus=this._register(new f.Emitter),this.onDidFocus=this._onDidFocus.event,this._onDidBlur=this._register(new f.Emitter),this.onDidBlur=this._onDidBlur.event,this.history=new p.HistoryNavigator(c.history,100);const C=()=>{if(c.showHistoryHint&&c.showHistoryHint()&&!this.placeholder.endsWith(l)&&!this.placeholder.endsWith(u)&&this.history.getHistory().length){const g=this.placeholder.endsWith(")")?l:u,v=this.placeholder+g;c.showPlaceholderOnFocus&&document.activeElement!==this.input?this.placeholder=v:this.setPlaceHolder(v)}};this.observer=new MutationObserver((g,v)=>{g.forEach(b=>{b.target.textContent||C()})}),this.observer.observe(this.input,{attributeFilter:["class"]}),this.onfocus(this.input,()=>C()),this.onblur(this.input,()=>{const g=v=>{if(this.placeholder.endsWith(v)){const b=this.placeholder.slice(0,this.placeholder.length-v.length);return c.showPlaceholderOnFocus?this.placeholder=b:this.setPlaceHolder(b),!0}else return!1};g(u)||g(l)})}dispose(){super.dispose(),this.observer&&(this.observer.disconnect(),this.observer=void 0)}addToHistory(h){this.value&&(h||this.value!==this.getCurrentValue())&&this.history.add(this.value)}isAtLastInHistory(){return this.history.isLast()}isNowhereInHistory(){return this.history.isNowhere()}showNextValue(){this.history.has(this.value)||this.addToHistory();let h=this.getNextValue();h&&(h=h===this.value?this.getNextValue():h),this.value=h??"",S.status(this.value?this.value:t.localize(4,null))}showPreviousValue(){this.history.has(this.value)||this.addToHistory();let h=this.getPreviousValue();h&&(h=h===this.value?this.getPreviousValue():h),h&&(this.value=h,S.status(this.value))}onBlur(){super.onBlur(),this._onDidBlur.fire()}onFocus(){super.onFocus(),this._onDidFocus.fire()}getCurrentValue(){let h=this.history.current();return h||(h=this.history.last(),this.history.next()),h}getPreviousValue(){return this.history.previous()||this.history.first()}getNextValue(){return this.history.next()}}e.HistoryInputBox=r}),define(X[228],ee([1,0,7,308,227,82,6,548,2,265]),function(q,e,L,k,y,D,S,m,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FindInput=void 0;const f=m.localize(0,null);class p extends D.Widget{constructor(t,i,o){super(),this.fixFocusOnOptionClickEnabled=!0,this.imeSessionInProgress=!1,this.additionalTogglesDisposables=new _.DisposableStore,this.additionalToggles=[],this._onDidOptionChange=this._register(new S.Emitter),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new S.Emitter),this.onKeyDown=this._onKeyDown.event,this._onMouseDown=this._register(new S.Emitter),this.onMouseDown=this._onMouseDown.event,this._onInput=this._register(new S.Emitter),this._onKeyUp=this._register(new S.Emitter),this._onCaseSensitiveKeyDown=this._register(new S.Emitter),this.onCaseSensitiveKeyDown=this._onCaseSensitiveKeyDown.event,this._onRegexKeyDown=this._register(new S.Emitter),this.onRegexKeyDown=this._onRegexKeyDown.event,this._lastHighlightFindOptions=0,this.placeholder=o.placeholder||"",this.validation=o.validation,this.label=o.label||f,this.showCommonFindToggles=!!o.showCommonFindToggles;const r=o.appendCaseSensitiveLabel||"",d=o.appendWholeWordsLabel||"",h=o.appendRegexLabel||"",n=o.history||[],c=!!o.flexibleHeight,a=!!o.flexibleWidth,l=o.flexibleMaxHeight;if(this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new y.HistoryInputBox(this.domNode,i,{placeholder:this.placeholder||"",ariaLabel:this.label||"",validationOptions:{validation:this.validation},history:n,showHistoryHint:o.showHistoryHint,flexibleHeight:c,flexibleWidth:a,flexibleMaxHeight:l,inputBoxStyles:o.inputBoxStyles})),this.showCommonFindToggles){this.regex=this._register(new k.RegexToggle(Object.assign({appendTitle:h,isChecked:!1},o.toggleStyles))),this._register(this.regex.onChange(C=>{this._onDidOptionChange.fire(C),!C&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.regex.onKeyDown(C=>{this._onRegexKeyDown.fire(C)})),this.wholeWords=this._register(new k.WholeWordsToggle(Object.assign({appendTitle:d,isChecked:!1},o.toggleStyles))),this._register(this.wholeWords.onChange(C=>{this._onDidOptionChange.fire(C),!C&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this.caseSensitive=this._register(new k.CaseSensitiveToggle(Object.assign({appendTitle:r,isChecked:!1},o.toggleStyles))),this._register(this.caseSensitive.onChange(C=>{this._onDidOptionChange.fire(C),!C&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.caseSensitive.onKeyDown(C=>{this._onCaseSensitiveKeyDown.fire(C)}));const u=[this.caseSensitive.domNode,this.wholeWords.domNode,this.regex.domNode];this.onkeydown(this.domNode,C=>{if(C.equals(15)||C.equals(17)||C.equals(9)){const g=u.indexOf(document.activeElement);if(g>=0){let v=-1;C.equals(17)?v=(g+1)%u.length:C.equals(15)&&(g===0?v=u.length-1:v=g-1),C.equals(9)?(u[g].blur(),this.inputBox.focus()):v>=0&&u[v].focus(),L.EventHelper.stop(C,!0)}}})}this.controls=document.createElement("div"),this.controls.className="controls",this.controls.style.display=this.showCommonFindToggles?"":"none",this.caseSensitive&&this.controls.append(this.caseSensitive.domNode),this.wholeWords&&this.controls.appendChild(this.wholeWords.domNode),this.regex&&this.controls.appendChild(this.regex.domNode),this.setAdditionalToggles(o?.additionalToggles),this.controls&&this.domNode.appendChild(this.controls),t?.appendChild(this.domNode),this._register(L.addDisposableListener(this.inputBox.inputElement,"compositionstart",u=>{this.imeSessionInProgress=!0})),this._register(L.addDisposableListener(this.inputBox.inputElement,"compositionend",u=>{this.imeSessionInProgress=!1,this._onInput.fire()})),this.onkeydown(this.inputBox.inputElement,u=>this._onKeyDown.fire(u)),this.onkeyup(this.inputBox.inputElement,u=>this._onKeyUp.fire(u)),this.oninput(this.inputBox.inputElement,u=>this._onInput.fire()),this.onmousedown(this.inputBox.inputElement,u=>this._onMouseDown.fire(u))}get onDidChange(){return this.inputBox.onDidChange}layout(t){this.inputBox.layout(),this.updateInputBoxPadding(t.collapsedFindWidget)}enable(){var t,i,o;this.domNode.classList.remove("disabled"),this.inputBox.enable(),(t=this.regex)===null||t===void 0||t.enable(),(i=this.wholeWords)===null||i===void 0||i.enable(),(o=this.caseSensitive)===null||o===void 0||o.enable();for(const r of this.additionalToggles)r.enable()}disable(){var t,i,o;this.domNode.classList.add("disabled"),this.inputBox.disable(),(t=this.regex)===null||t===void 0||t.disable(),(i=this.wholeWords)===null||i===void 0||i.disable(),(o=this.caseSensitive)===null||o===void 0||o.disable();for(const r of this.additionalToggles)r.disable()}setFocusInputOnOptionClick(t){this.fixFocusOnOptionClickEnabled=t}setEnabled(t){t?this.enable():this.disable()}setAdditionalToggles(t){for(const i of this.additionalToggles)i.domNode.remove();this.additionalToggles=[],this.additionalTogglesDisposables.dispose(),this.additionalTogglesDisposables=new _.DisposableStore;for(const i of t??[])this.additionalTogglesDisposables.add(i),this.controls.appendChild(i.domNode),this.additionalTogglesDisposables.add(i.onChange(o=>{this._onDidOptionChange.fire(o),!o&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus()})),this.additionalToggles.push(i);this.additionalToggles.length>0&&(this.controls.style.display=""),this.updateInputBoxPadding()}updateInputBoxPadding(t=!1){var i,o,r,d,h,n;t?this.inputBox.paddingRight=0:this.inputBox.paddingRight=((o=(i=this.caseSensitive)===null||i===void 0?void 0:i.width())!==null&&o!==void 0?o:0)+((d=(r=this.wholeWords)===null||r===void 0?void 0:r.width())!==null&&d!==void 0?d:0)+((n=(h=this.regex)===null||h===void 0?void 0:h.width())!==null&&n!==void 0?n:0)+this.additionalToggles.reduce((c,a)=>c+a.width(),0)}getValue(){return this.inputBox.value}setValue(t){this.inputBox.value!==t&&(this.inputBox.value=t)}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getCaseSensitive(){var t,i;return(i=(t=this.caseSensitive)===null||t===void 0?void 0:t.checked)!==null&&i!==void 0?i:!1}setCaseSensitive(t){this.caseSensitive&&(this.caseSensitive.checked=t)}getWholeWords(){var t,i;return(i=(t=this.wholeWords)===null||t===void 0?void 0:t.checked)!==null&&i!==void 0?i:!1}setWholeWords(t){this.wholeWords&&(this.wholeWords.checked=t)}getRegex(){var t,i;return(i=(t=this.regex)===null||t===void 0?void 0:t.checked)!==null&&i!==void 0?i:!1}setRegex(t){this.regex&&(this.regex.checked=t,this.validate())}focusOnCaseSensitive(){var t;(t=this.caseSensitive)===null||t===void 0||t.focus()}highlightFindOptions(){this.domNode.classList.remove("highlight-"+this._lastHighlightFindOptions),this._lastHighlightFindOptions=1-this._lastHighlightFindOptions,this.domNode.classList.add("highlight-"+this._lastHighlightFindOptions)}validate(){this.inputBox.validate()}showMessage(t){this.inputBox.showMessage(t)}clearMessage(){this.inputBox.hideMessage()}}e.FindInput=p}),define(X[577],ee([1,0,7,152,227,82,25,6,550,265]),function(q,e,L,k,y,D,S,m,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReplaceInput=void 0;const f=_.localize(0,null),p=_.localize(1,null);class s extends k.Toggle{constructor(o){super({icon:S.Codicon.preserveCase,title:p+o.appendTitle,isChecked:o.isChecked,inputActiveOptionBorder:o.inputActiveOptionBorder,inputActiveOptionForeground:o.inputActiveOptionForeground,inputActiveOptionBackground:o.inputActiveOptionBackground})}}class t extends D.Widget{constructor(o,r,d,h){super(),this._showOptionButtons=d,this.fixFocusOnOptionClickEnabled=!0,this.cachedOptionsWidth=0,this._onDidOptionChange=this._register(new m.Emitter),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new m.Emitter),this.onKeyDown=this._onKeyDown.event,this._onMouseDown=this._register(new m.Emitter),this._onInput=this._register(new m.Emitter),this._onKeyUp=this._register(new m.Emitter),this._onPreserveCaseKeyDown=this._register(new m.Emitter),this.onPreserveCaseKeyDown=this._onPreserveCaseKeyDown.event,this.contextViewProvider=r,this.placeholder=h.placeholder||"",this.validation=h.validation,this.label=h.label||f;const n=h.appendPreserveCaseLabel||"",c=h.history||[],a=!!h.flexibleHeight,l=!!h.flexibleWidth,u=h.flexibleMaxHeight;this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new y.HistoryInputBox(this.domNode,this.contextViewProvider,{ariaLabel:this.label||"",placeholder:this.placeholder||"",validationOptions:{validation:this.validation},history:c,showHistoryHint:h.showHistoryHint,flexibleHeight:a,flexibleWidth:l,flexibleMaxHeight:u,inputBoxStyles:h.inputBoxStyles})),this.preserveCase=this._register(new s(Object.assign({appendTitle:n,isChecked:!1},h.toggleStyles))),this._register(this.preserveCase.onChange(v=>{this._onDidOptionChange.fire(v),!v&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.preserveCase.onKeyDown(v=>{this._onPreserveCaseKeyDown.fire(v)})),this._showOptionButtons?this.cachedOptionsWidth=this.preserveCase.width():this.cachedOptionsWidth=0;const C=[this.preserveCase.domNode];this.onkeydown(this.domNode,v=>{if(v.equals(15)||v.equals(17)||v.equals(9)){const b=C.indexOf(document.activeElement);if(b>=0){let w=-1;v.equals(17)?w=(b+1)%C.length:v.equals(15)&&(b===0?w=C.length-1:w=b-1),v.equals(9)?(C[b].blur(),this.inputBox.focus()):w>=0&&C[w].focus(),L.EventHelper.stop(v,!0)}}});const g=document.createElement("div");g.className="controls",g.style.display=this._showOptionButtons?"block":"none",g.appendChild(this.preserveCase.domNode),this.domNode.appendChild(g),o?.appendChild(this.domNode),this.onkeydown(this.inputBox.inputElement,v=>this._onKeyDown.fire(v)),this.onkeyup(this.inputBox.inputElement,v=>this._onKeyUp.fire(v)),this.oninput(this.inputBox.inputElement,v=>this._onInput.fire()),this.onmousedown(this.inputBox.inputElement,v=>this._onMouseDown.fire(v))}enable(){this.domNode.classList.remove("disabled"),this.inputBox.enable(),this.preserveCase.enable()}disable(){this.domNode.classList.add("disabled"),this.inputBox.disable(),this.preserveCase.disable()}setEnabled(o){o?this.enable():this.disable()}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getPreserveCase(){return this.preserveCase.checked}setPreserveCase(o){this.preserveCase.checked=o}focusOnPreserve(){this.preserveCase.focus()}validate(){var o;(o=this.inputBox)===null||o===void 0||o.validate()}set width(o){this.inputBox.paddingRight=this.cachedOptionsWidth,this.domNode.style.width=o+"px"}dispose(){super.dispose()}}e.ReplaceInput=t}),define(X[578],ee([1,0,51,60,7,45,73,67,153,302,74,40,14,25,27,118,2,17,9]),function(q,e,L,k,y,D,S,m,_,f,p,s,t,i,o,r,d,h,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.formatRule=e.cleanMnemonic=e.Menu=e.Direction=e.MENU_ESCAPED_MNEMONIC_REGEX=e.MENU_MNEMONIC_REGEX=void 0,e.MENU_MNEMONIC_REGEX=/\(&([^\s&])\)|(^|[^&])&([^\s&])/,e.MENU_ESCAPED_MNEMONIC_REGEX=/(&amp;)?(&amp;)([^\s&])/g;var c;(function(w){w[w.Right=0]="Right",w[w.Left=1]="Left"})(c||(e.Direction=c={}));class a extends m.ActionBar{constructor(E,I,T,P){E.classList.add("monaco-menu-container"),E.setAttribute("role","presentation");const A=document.createElement("div");A.classList.add("monaco-menu"),A.setAttribute("role","presentation"),super(A,{orientation:1,actionViewItemProvider:R=>this.doGetActionViewItem(R,T,M),context:T.context,actionRunner:T.actionRunner,ariaLabel:T.ariaLabel,ariaRole:"menu",focusOnlyEnabledItems:!0,triggerKeys:{keys:[3,...h.isMacintosh||h.isLinux?[10]:[]],keyDown:!0}}),this.menuStyles=P,this.menuElement=A,this.actionsList.tabIndex=0,this.menuDisposables=this._register(new d.DisposableStore),this.initializeOrUpdateStyleSheet(E,P),this._register(k.Gesture.addTarget(A)),(0,y.addDisposableListener)(A,y.EventType.KEY_DOWN,R=>{new D.StandardKeyboardEvent(R).equals(2)&&R.preventDefault()}),T.enableMnemonics&&this.menuDisposables.add((0,y.addDisposableListener)(A,y.EventType.KEY_DOWN,R=>{const F=R.key.toLocaleLowerCase();if(this.mnemonics.has(F)){y.EventHelper.stop(R,!0);const x=this.mnemonics.get(F);if(x.length===1&&(x[0]instanceof u&&x[0].container&&this.focusItemByElement(x[0].container),x[0].onClick(R)),x.length>1){const W=x.shift();W&&W.container&&(this.focusItemByElement(W.container),x.push(W)),this.mnemonics.set(F,x)}}})),h.isLinux&&this._register((0,y.addDisposableListener)(A,y.EventType.KEY_DOWN,R=>{const F=new D.StandardKeyboardEvent(R);F.equals(14)||F.equals(11)?(this.focusedItem=this.viewItems.length-1,this.focusNext(),y.EventHelper.stop(R,!0)):(F.equals(13)||F.equals(12))&&(this.focusedItem=0,this.focusPrevious(),y.EventHelper.stop(R,!0))})),this._register((0,y.addDisposableListener)(this.domNode,y.EventType.MOUSE_OUT,R=>{const F=R.relatedTarget;(0,y.isAncestor)(F,this.domNode)||(this.focusedItem=void 0,this.updateFocus(),R.stopPropagation())})),this._register((0,y.addDisposableListener)(this.actionsList,y.EventType.MOUSE_OVER,R=>{let F=R.target;if(!(!F||!(0,y.isAncestor)(F,this.actionsList)||F===this.actionsList)){for(;F.parentElement!==this.actionsList&&F.parentElement!==null;)F=F.parentElement;if(F.classList.contains("action-item")){const x=this.focusedItem;this.setFocusedItem(F),x!==this.focusedItem&&this.updateFocus()}}})),this._register(k.Gesture.addTarget(this.actionsList)),this._register((0,y.addDisposableListener)(this.actionsList,k.EventType.Tap,R=>{let F=R.initialTarget;if(!(!F||!(0,y.isAncestor)(F,this.actionsList)||F===this.actionsList)){for(;F.parentElement!==this.actionsList&&F.parentElement!==null;)F=F.parentElement;if(F.classList.contains("action-item")){const x=this.focusedItem;this.setFocusedItem(F),x!==this.focusedItem&&this.updateFocus()}}}));const M={parent:this};this.mnemonics=new Map,this.scrollableElement=this._register(new p.DomScrollableElement(A,{alwaysConsumeMouseWheel:!0,horizontal:2,vertical:3,verticalScrollbarSize:7,handleMouseWheel:!0,useShadows:!0}));const N=this.scrollableElement.getDomNode();N.style.position="",this.styleScrollElement(N,P),this._register((0,y.addDisposableListener)(A,k.EventType.Change,R=>{y.EventHelper.stop(R,!0);const F=this.scrollableElement.getScrollPosition().scrollTop;this.scrollableElement.setScrollPosition({scrollTop:F-R.translationY})})),this._register((0,y.addDisposableListener)(N,y.EventType.MOUSE_UP,R=>{R.preventDefault()})),A.style.maxHeight=`${Math.max(10,window.innerHeight-E.getBoundingClientRect().top-35)}px`,I=I.filter(R=>{var F;return!((F=T.submenuIds)===null||F===void 0)&&F.has(R.id)?(console.warn(`Found submenu cycle: ${R.id}`),!1):!0}),this.push(I,{icon:!0,label:!0,isMenu:!0}),E.appendChild(this.scrollableElement.getDomNode()),this.scrollableElement.scanDomNode(),this.viewItems.filter(R=>!(R instanceof C)).forEach((R,F,x)=>{R.updatePositionInSet(F+1,x.length)})}initializeOrUpdateStyleSheet(E,I){this.styleSheet||((0,y.isInShadowDOM)(E)?this.styleSheet=(0,y.createStyleSheet)(E):(a.globalStyleSheet||(a.globalStyleSheet=(0,y.createStyleSheet)()),this.styleSheet=a.globalStyleSheet)),this.styleSheet.textContent=b(I,(0,y.isInShadowDOM)(E))}styleScrollElement(E,I){var T,P;const A=(T=I.foregroundColor)!==null&&T!==void 0?T:"",M=(P=I.backgroundColor)!==null&&P!==void 0?P:"",N=I.borderColor?`1px solid ${I.borderColor}`:"",R="5px",F=I.shadowColor?`0 2px 8px ${I.shadowColor}`:"";E.style.outline=N,E.style.borderRadius=R,E.style.color=A,E.style.backgroundColor=M,E.style.boxShadow=F}getContainer(){return this.scrollableElement.getDomNode()}get onScroll(){return this.scrollableElement.onScroll}focusItemByElement(E){const I=this.focusedItem;this.setFocusedItem(E),I!==this.focusedItem&&this.updateFocus()}setFocusedItem(E){for(let I=0;I<this.actionsList.children.length;I++){const T=this.actionsList.children[I];if(E===T){this.focusedItem=I;break}}}updateFocus(E){super.updateFocus(E,!0,!0),typeof this.focusedItem<"u"&&this.scrollableElement.setScrollPosition({scrollTop:Math.round(this.menuElement.scrollTop)})}doGetActionViewItem(E,I,T){if(E instanceof s.Separator)return new C(I.context,E,{icon:!0},this.menuStyles);if(E instanceof s.SubmenuAction){const P=new u(E,E.actions,T,Object.assign(Object.assign({},I),{submenuIds:new Set([...I.submenuIds||[],E.id])}),this.menuStyles);if(I.enableMnemonics){const A=P.getMnemonic();if(A&&P.isEnabled()){let M=[];this.mnemonics.has(A)&&(M=this.mnemonics.get(A)),M.push(P),this.mnemonics.set(A,M)}}return P}else{const P={enableMnemonics:I.enableMnemonics,useEventAsContext:I.useEventAsContext};if(I.getKeyBinding){const M=I.getKeyBinding(E);if(M){const N=M.getLabel();N&&(P.keybinding=N)}}const A=new l(I.context,E,P,this.menuStyles);if(I.enableMnemonics){const M=A.getMnemonic();if(M&&A.isEnabled()){let N=[];this.mnemonics.has(M)&&(N=this.mnemonics.get(M)),N.push(A),this.mnemonics.set(M,N)}}return A}}}e.Menu=a;class l extends _.BaseActionViewItem{constructor(E,I,T,P){if(T.isMenu=!0,super(I,I,T),this.menuStyle=P,this.options=T,this.options.icon=T.icon!==void 0?T.icon:!1,this.options.label=T.label!==void 0?T.label:!0,this.cssClass="",this.options.label&&T.enableMnemonics){const A=this.action.label;if(A){const M=e.MENU_MNEMONIC_REGEX.exec(A);M&&(this.mnemonic=(M[1]?M[1]:M[3]).toLocaleLowerCase())}}this.runOnceToEnableMouseUp=new t.RunOnceScheduler(()=>{this.element&&(this._register((0,y.addDisposableListener)(this.element,y.EventType.MOUSE_UP,A=>{if(y.EventHelper.stop(A,!0),L.isFirefox){if(new S.StandardMouseEvent(A).rightButton)return;this.onClick(A)}else setTimeout(()=>{this.onClick(A)},0)})),this._register((0,y.addDisposableListener)(this.element,y.EventType.CONTEXT_MENU,A=>{y.EventHelper.stop(A,!0)})))},100),this._register(this.runOnceToEnableMouseUp)}render(E){super.render(E),this.element&&(this.container=E,this.item=(0,y.append)(this.element,(0,y.$)("a.action-menu-item")),this._action.id===s.Separator.ID?this.item.setAttribute("role","presentation"):(this.item.setAttribute("role","menuitem"),this.mnemonic&&this.item.setAttribute("aria-keyshortcuts",`${this.mnemonic}`)),this.check=(0,y.append)(this.item,(0,y.$)("span.menu-item-check"+o.ThemeIcon.asCSSSelector(i.Codicon.menuSelection))),this.check.setAttribute("role","none"),this.label=(0,y.append)(this.item,(0,y.$)("span.action-label")),this.options.label&&this.options.keybinding&&((0,y.append)(this.item,(0,y.$)("span.keybinding")).textContent=this.options.keybinding),this.runOnceToEnableMouseUp.schedule(),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked(),this.applyStyle())}blur(){super.blur(),this.applyStyle()}focus(){var E;super.focus(),(E=this.item)===null||E===void 0||E.focus(),this.applyStyle()}updatePositionInSet(E,I){this.item&&(this.item.setAttribute("aria-posinset",`${E}`),this.item.setAttribute("aria-setsize",`${I}`))}updateLabel(){var E;if(this.label&&this.options.label){(0,y.clearNode)(this.label);let I=(0,r.stripIcons)(this.action.label);if(I){const T=g(I);this.options.enableMnemonics||(I=T),this.label.setAttribute("aria-label",T.replace(/&&/g,"&"));const P=e.MENU_MNEMONIC_REGEX.exec(I);if(P){I=n.escape(I),e.MENU_ESCAPED_MNEMONIC_REGEX.lastIndex=0;let A=e.MENU_ESCAPED_MNEMONIC_REGEX.exec(I);for(;A&&A[1];)A=e.MENU_ESCAPED_MNEMONIC_REGEX.exec(I);const M=N=>N.replace(/&amp;&amp;/g,"&amp;");A?this.label.append(n.ltrim(M(I.substr(0,A.index))," "),(0,y.$)("u",{"aria-hidden":"true"},A[3]),n.rtrim(M(I.substr(A.index+A[0].length))," ")):this.label.innerText=M(I).trim(),(E=this.item)===null||E===void 0||E.setAttribute("aria-keyshortcuts",(P[1]?P[1]:P[3]).toLocaleLowerCase())}else this.label.innerText=I.replace(/&&/g,"&").trim()}}}updateTooltip(){}updateClass(){this.cssClass&&this.item&&this.item.classList.remove(...this.cssClass.split(" ")),this.options.icon&&this.label?(this.cssClass=this.action.class||"",this.label.classList.add("icon"),this.cssClass&&this.label.classList.add(...this.cssClass.split(" ")),this.updateEnabled()):this.label&&this.label.classList.remove("icon")}updateEnabled(){this.action.enabled?(this.element&&(this.element.classList.remove("disabled"),this.element.removeAttribute("aria-disabled")),this.item&&(this.item.classList.remove("disabled"),this.item.removeAttribute("aria-disabled"),this.item.tabIndex=0)):(this.element&&(this.element.classList.add("disabled"),this.element.setAttribute("aria-disabled","true")),this.item&&(this.item.classList.add("disabled"),this.item.setAttribute("aria-disabled","true")))}updateChecked(){if(!this.item)return;const E=this.action.checked;this.item.classList.toggle("checked",!!E),E!==void 0?(this.item.setAttribute("role","menuitemcheckbox"),this.item.setAttribute("aria-checked",E?"true":"false")):(this.item.setAttribute("role","menuitem"),this.item.setAttribute("aria-checked",""))}getMnemonic(){return this.mnemonic}applyStyle(){const E=this.element&&this.element.classList.contains("focused"),I=E&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor,T=E&&this.menuStyle.selectionBackgroundColor?this.menuStyle.selectionBackgroundColor:void 0,P=E&&this.menuStyle.selectionBorderColor?`1px solid ${this.menuStyle.selectionBorderColor}`:"",A=E&&this.menuStyle.selectionBorderColor?"-1px":"";this.item&&(this.item.style.color=I??"",this.item.style.backgroundColor=T??"",this.item.style.outline=P,this.item.style.outlineOffset=A),this.check&&(this.check.style.color=I??"")}}class u extends l{constructor(E,I,T,P,A){super(E,E,P,A),this.submenuActions=I,this.parentData=T,this.submenuOptions=P,this.mysubmenu=null,this.submenuDisposables=this._register(new d.DisposableStore),this.mouseOver=!1,this.expandDirection=P&&P.expandDirection!==void 0?P.expandDirection:c.Right,this.showScheduler=new t.RunOnceScheduler(()=>{this.mouseOver&&(this.cleanupExistingSubmenu(!1),this.createSubmenu(!1))},250),this.hideScheduler=new t.RunOnceScheduler(()=>{this.element&&!(0,y.isAncestor)((0,y.getActiveElement)(),this.element)&&this.parentData.submenu===this.mysubmenu&&(this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!0))},750)}render(E){super.render(E),this.element&&(this.item&&(this.item.classList.add("monaco-submenu-item"),this.item.tabIndex=0,this.item.setAttribute("aria-haspopup","true"),this.updateAriaExpanded("false"),this.submenuIndicator=(0,y.append)(this.item,(0,y.$)("span.submenu-indicator"+o.ThemeIcon.asCSSSelector(i.Codicon.menuSubmenu))),this.submenuIndicator.setAttribute("aria-hidden","true")),this._register((0,y.addDisposableListener)(this.element,y.EventType.KEY_UP,I=>{const T=new D.StandardKeyboardEvent(I);(T.equals(17)||T.equals(3))&&(y.EventHelper.stop(I,!0),this.createSubmenu(!0))})),this._register((0,y.addDisposableListener)(this.element,y.EventType.KEY_DOWN,I=>{const T=new D.StandardKeyboardEvent(I);(0,y.getActiveElement)()===this.item&&(T.equals(17)||T.equals(3))&&y.EventHelper.stop(I,!0)})),this._register((0,y.addDisposableListener)(this.element,y.EventType.MOUSE_OVER,I=>{this.mouseOver||(this.mouseOver=!0,this.showScheduler.schedule())})),this._register((0,y.addDisposableListener)(this.element,y.EventType.MOUSE_LEAVE,I=>{this.mouseOver=!1})),this._register((0,y.addDisposableListener)(this.element,y.EventType.FOCUS_OUT,I=>{this.element&&!(0,y.isAncestor)((0,y.getActiveElement)(),this.element)&&this.hideScheduler.schedule()})),this._register(this.parentData.parent.onScroll(()=>{this.parentData.submenu===this.mysubmenu&&(this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!0))})))}updateEnabled(){}onClick(E){y.EventHelper.stop(E,!0),this.cleanupExistingSubmenu(!1),this.createSubmenu(!0)}cleanupExistingSubmenu(E){if(this.parentData.submenu&&(E||this.parentData.submenu!==this.mysubmenu)){try{this.parentData.submenu.dispose()}catch{}this.parentData.submenu=void 0,this.updateAriaExpanded("false"),this.submenuContainer&&(this.submenuDisposables.clear(),this.submenuContainer=void 0)}}calculateSubmenuMenuLayout(E,I,T,P){const A={top:0,left:0};return A.left=(0,f.layout)(E.width,I.width,{position:P===c.Right?0:1,offset:T.left,size:T.width}),A.left>=T.left&&A.left<T.left+T.width&&(T.left+10+I.width<=E.width&&(A.left=T.left+10),T.top+=10,T.height=0),A.top=(0,f.layout)(E.height,I.height,{position:0,offset:T.top,size:0}),A.top+I.height===T.top&&A.top+T.height+I.height<=E.height&&(A.top+=T.height),A}createSubmenu(E=!0){if(this.element)if(this.parentData.submenu)this.parentData.submenu.focus(!1);else{this.updateAriaExpanded("true"),this.submenuContainer=(0,y.append)(this.element,(0,y.$)("div.monaco-submenu")),this.submenuContainer.classList.add("menubar-menu-items-holder","context-view");const I=getComputedStyle(this.parentData.parent.domNode),T=parseFloat(I.paddingTop||"0")||0;this.submenuContainer.style.zIndex="1",this.submenuContainer.style.position="fixed",this.submenuContainer.style.top="0",this.submenuContainer.style.left="0",this.parentData.submenu=new a(this.submenuContainer,this.submenuActions.length?this.submenuActions:[new s.EmptySubmenuAction],this.submenuOptions,this.menuStyle);const P=this.element.getBoundingClientRect(),A={top:P.top-T,left:P.left,height:P.height+2*T,width:P.width},M=this.submenuContainer.getBoundingClientRect(),{top:N,left:R}=this.calculateSubmenuMenuLayout(new y.Dimension(window.innerWidth,window.innerHeight),y.Dimension.lift(M),A,this.expandDirection);this.submenuContainer.style.left=`${R-M.left}px`,this.submenuContainer.style.top=`${N-M.top}px`,this.submenuDisposables.add((0,y.addDisposableListener)(this.submenuContainer,y.EventType.KEY_UP,F=>{new D.StandardKeyboardEvent(F).equals(15)&&(y.EventHelper.stop(F,!0),this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0))})),this.submenuDisposables.add((0,y.addDisposableListener)(this.submenuContainer,y.EventType.KEY_DOWN,F=>{new D.StandardKeyboardEvent(F).equals(15)&&y.EventHelper.stop(F,!0)})),this.submenuDisposables.add(this.parentData.submenu.onDidCancel(()=>{this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0)})),this.parentData.submenu.focus(E),this.mysubmenu=this.parentData.submenu}}updateAriaExpanded(E){var I;this.item&&((I=this.item)===null||I===void 0||I.setAttribute("aria-expanded",E))}applyStyle(){super.applyStyle();const I=this.element&&this.element.classList.contains("focused")&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor;this.submenuIndicator&&(this.submenuIndicator.style.color=I??"")}dispose(){super.dispose(),this.hideScheduler.dispose(),this.mysubmenu&&(this.mysubmenu.dispose(),this.mysubmenu=null),this.submenuContainer&&(this.submenuContainer=void 0)}}class C extends _.ActionViewItem{constructor(E,I,T,P){super(E,I,T),this.menuStyles=P}render(E){super.render(E),this.label&&(this.label.style.borderBottomColor=this.menuStyles.separatorColor?`${this.menuStyles.separatorColor}`:"")}}function g(w){const E=e.MENU_MNEMONIC_REGEX,I=E.exec(w);if(!I)return w;const T=!I[1];return w.replace(E,T?"$2$3":"").trim()}e.cleanMnemonic=g;function v(w){const E=(0,i.getCodiconFontCharacters)()[w.id];return`.codicon-${w.id}:before { content: '\\${E.toString(16)}'; }`}e.formatRule=v;function b(w,E){let I=`
.monaco-menu {
	font-size: 13px;
	border-radius: 5px;
	min-width: 160px;
}

${v(i.Codicon.menuSelection)}
${v(i.Codicon.menuSubmenu)}

.monaco-menu .monaco-action-bar {
	text-align: right;
	overflow: hidden;
	white-space: nowrap;
}

.monaco-menu .monaco-action-bar .actions-container {
	display: flex;
	margin: 0 auto;
	padding: 0;
	width: 100%;
	justify-content: flex-end;
}

.monaco-menu .monaco-action-bar.vertical .actions-container {
	display: inline-block;
}

.monaco-menu .monaco-action-bar.reverse .actions-container {
	flex-direction: row-reverse;
}

.monaco-menu .monaco-action-bar .action-item {
	cursor: pointer;
	display: inline-block;
	transition: transform 50ms ease;
	position: relative;  /* DO NOT REMOVE - this is the key to preventing the ghosting icon bug in Chrome 42 */
}

.monaco-menu .monaco-action-bar .action-item.disabled {
	cursor: default;
}

.monaco-menu .monaco-action-bar.animated .action-item.active {
	transform: scale(1.272019649, 1.272019649); /* 1.272019649 = \u221A\u03C6 */
}

.monaco-menu .monaco-action-bar .action-item .icon,
.monaco-menu .monaco-action-bar .action-item .codicon {
	display: inline-block;
}

.monaco-menu .monaco-action-bar .action-item .codicon {
	display: flex;
	align-items: center;
}

.monaco-menu .monaco-action-bar .action-label {
	font-size: 11px;
	margin-right: 4px;
}

.monaco-menu .monaco-action-bar .action-item.disabled .action-label,
.monaco-menu .monaco-action-bar .action-item.disabled .action-label:hover {
	color: var(--vscode-disabledForeground);
}

/* Vertical actions */

.monaco-menu .monaco-action-bar.vertical {
	text-align: left;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	display: block;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	display: block;
	border-bottom: 1px solid var(--vscode-menu-separatorBackground);
	padding-top: 1px;
	padding: 30px;
}

.monaco-menu .secondary-actions .monaco-action-bar .action-label {
	margin-left: 6px;
}

/* Action Items */
.monaco-menu .monaco-action-bar .action-item.select-container {
	overflow: hidden; /* somehow the dropdown overflows its container, we prevent it here to not push */
	flex: 1;
	max-width: 170px;
	min-width: 60px;
	display: flex;
	align-items: center;
	justify-content: center;
	margin-right: 10px;
}

.monaco-menu .monaco-action-bar.vertical {
	margin-left: 0;
	overflow: visible;
}

.monaco-menu .monaco-action-bar.vertical .actions-container {
	display: block;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	padding: 0;
	transform: none;
	display: flex;
}

.monaco-menu .monaco-action-bar.vertical .action-item.active {
	transform: none;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item {
	flex: 1 1 auto;
	display: flex;
	height: 2em;
	align-items: center;
	position: relative;
	margin: 0 4px;
	border-radius: 4px;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item:hover .keybinding,
.monaco-menu .monaco-action-bar.vertical .action-menu-item:focus .keybinding {
	opacity: unset;
}

.monaco-menu .monaco-action-bar.vertical .action-label {
	flex: 1 1 auto;
	text-decoration: none;
	padding: 0 1em;
	background: none;
	font-size: 12px;
	line-height: 1;
}

.monaco-menu .monaco-action-bar.vertical .keybinding,
.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	display: inline-block;
	flex: 2 1 auto;
	padding: 0 1em;
	text-align: right;
	font-size: 12px;
	line-height: 1;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	height: 100%;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon {
	font-size: 16px !important;
	display: flex;
	align-items: center;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon::before {
	margin-left: auto;
	margin-right: -20px;
}

.monaco-menu .monaco-action-bar.vertical .action-item.disabled .keybinding,
.monaco-menu .monaco-action-bar.vertical .action-item.disabled .submenu-indicator {
	opacity: 0.4;
}

.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator) {
	display: inline-block;
	box-sizing: border-box;
	margin: 0;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	position: static;
	overflow: visible;
}

.monaco-menu .monaco-action-bar.vertical .action-item .monaco-submenu {
	position: absolute;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	width: 100%;
	height: 0px !important;
	opacity: 1;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator.text {
	padding: 0.7em 1em 0.1em 1em;
	font-weight: bold;
	opacity: 1;
}

.monaco-menu .monaco-action-bar.vertical .action-label:hover {
	color: inherit;
}

.monaco-menu .monaco-action-bar.vertical .menu-item-check {
	position: absolute;
	visibility: hidden;
	width: 1em;
	height: 100%;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item.checked .menu-item-check {
	visibility: visible;
	display: flex;
	align-items: center;
	justify-content: center;
}

/* Context Menu */

.context-view.monaco-menu-container {
	outline: 0;
	border: none;
	animation: fadeIn 0.083s linear;
	-webkit-app-region: no-drag;
}

.context-view.monaco-menu-container :focus,
.context-view.monaco-menu-container .monaco-action-bar.vertical:focus,
.context-view.monaco-menu-container .monaco-action-bar.vertical :focus {
	outline: 0;
}

.hc-black .context-view.monaco-menu-container,
.hc-light .context-view.monaco-menu-container,
:host-context(.hc-black) .context-view.monaco-menu-container,
:host-context(.hc-light) .context-view.monaco-menu-container {
	box-shadow: none;
}

.hc-black .monaco-menu .monaco-action-bar.vertical .action-item.focused,
.hc-light .monaco-menu .monaco-action-bar.vertical .action-item.focused,
:host-context(.hc-black) .monaco-menu .monaco-action-bar.vertical .action-item.focused,
:host-context(.hc-light) .monaco-menu .monaco-action-bar.vertical .action-item.focused {
	background: none;
}

/* Vertical Action Bar Styles */

.monaco-menu .monaco-action-bar.vertical {
	padding: 4px 0;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item {
	height: 2em;
}

.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator),
.monaco-menu .monaco-action-bar.vertical .keybinding {
	font-size: inherit;
	padding: 0 2em;
}

.monaco-menu .monaco-action-bar.vertical .menu-item-check {
	font-size: inherit;
	width: 2em;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	font-size: inherit;
	margin: 5px 0 !important;
	padding: 0;
	border-radius: 0;
}

.linux .monaco-menu .monaco-action-bar.vertical .action-label.separator,
:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .action-label.separator {
	margin-left: 0;
	margin-right: 0;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	font-size: 60%;
	padding: 0 1.8em;
}

.linux .monaco-menu .monaco-action-bar.vertical .submenu-indicator {
:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	height: 100%;
	mask-size: 10px 10px;
	-webkit-mask-size: 10px 10px;
}

.monaco-menu .action-item {
	cursor: default;
}`;if(E){I+=`
			/* Arrows */
			.monaco-scrollable-element > .scrollbar > .scra {
				cursor: pointer;
				font-size: 11px !important;
			}

			.monaco-scrollable-element > .visible {
				opacity: 1;

				/* Background rule added for IE9 - to allow clicks on dom node */
				background:rgba(0,0,0,0);

				transition: opacity 100ms linear;
			}
			.monaco-scrollable-element > .invisible {
				opacity: 0;
				pointer-events: none;
			}
			.monaco-scrollable-element > .invisible.fade {
				transition: opacity 800ms linear;
			}

			/* Scrollable Content Inset Shadow */
			.monaco-scrollable-element > .shadow {
				position: absolute;
				display: none;
			}
			.monaco-scrollable-element > .shadow.top {
				display: block;
				top: 0;
				left: 3px;
				height: 3px;
				width: 100%;
			}
			.monaco-scrollable-element > .shadow.left {
				display: block;
				top: 3px;
				left: 0;
				height: 100%;
				width: 3px;
			}
			.monaco-scrollable-element > .shadow.top-left-corner {
				display: block;
				top: 0;
				left: 0;
				height: 3px;
				width: 3px;
			}
		`;const T=w.scrollbarShadow;T&&(I+=`
				.monaco-scrollable-element > .shadow.top {
					box-shadow: ${T} 0 6px 6px -6px inset;
				}

				.monaco-scrollable-element > .shadow.left {
					box-shadow: ${T} 6px 0 6px -6px inset;
				}

				.monaco-scrollable-element > .shadow.top.left {
					box-shadow: ${T} 6px 6px 6px -6px inset;
				}
			`);const P=w.scrollbarSliderBackground;P&&(I+=`
				.monaco-scrollable-element > .scrollbar > .slider {
					background: ${P};
				}
			`);const A=w.scrollbarSliderHoverBackground;A&&(I+=`
				.monaco-scrollable-element > .scrollbar > .slider:hover {
					background: ${A};
				}
			`);const M=w.scrollbarSliderActiveBackground;M&&(I+=`
				.monaco-scrollable-element > .scrollbar > .slider.active {
					background: ${M};
				}
			`)}return I}}),define(X[579],ee([1,0,67,311,40,25,27,6,2,18,555,407]),function(q,e,L,k,y,D,S,m,_,f,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ToggleMenuAction=e.ToolBar=void 0;class s extends _.Disposable{constructor(o,r,d={orientation:0}){super(),this.submenuActionViewItems=[],this.hasSecondaryActions=!1,this._onDidChangeDropdownVisibility=this._register(new m.EventMultiplexer),this.onDidChangeDropdownVisibility=this._onDidChangeDropdownVisibility.event,this.disposables=new _.DisposableStore,this.options=d,this.lookupKeybindings=typeof this.options.getKeyBinding=="function",this.toggleMenuAction=this._register(new t(()=>{var h;return(h=this.toggleMenuActionViewItem)===null||h===void 0?void 0:h.show()},d.toggleMenuTitle)),this.element=document.createElement("div"),this.element.className="monaco-toolbar",o.appendChild(this.element),this.actionBar=this._register(new L.ActionBar(this.element,{orientation:d.orientation,ariaLabel:d.ariaLabel,actionRunner:d.actionRunner,allowContextMenu:d.allowContextMenu,actionViewItemProvider:(h,n)=>{var c;if(h.id===t.ID)return this.toggleMenuActionViewItem=new k.DropdownMenuActionViewItem(h,h.menuActions,r,{actionViewItemProvider:this.options.actionViewItemProvider,actionRunner:this.actionRunner,keybindingProvider:this.options.getKeyBinding,classNames:S.ThemeIcon.asClassNameArray((c=d.moreIcon)!==null&&c!==void 0?c:D.Codicon.toolBarMore),anchorAlignmentProvider:this.options.anchorAlignmentProvider,menuAsChild:!!this.options.renderDropdownAsChildElement,skipTelemetry:this.options.skipTelemetry}),this.toggleMenuActionViewItem.setActionContext(this.actionBar.context),this.disposables.add(this._onDidChangeDropdownVisibility.add(this.toggleMenuActionViewItem.onDidChangeVisibility)),this.toggleMenuActionViewItem;if(d.actionViewItemProvider){const a=d.actionViewItemProvider(h,n);if(a)return a}if(h instanceof y.SubmenuAction){const a=new k.DropdownMenuActionViewItem(h,h.actions,r,{actionViewItemProvider:this.options.actionViewItemProvider,actionRunner:this.actionRunner,keybindingProvider:this.options.getKeyBinding,classNames:h.class,anchorAlignmentProvider:this.options.anchorAlignmentProvider,menuAsChild:!!this.options.renderDropdownAsChildElement,skipTelemetry:this.options.skipTelemetry});return a.setActionContext(this.actionBar.context),this.submenuActionViewItems.push(a),this.disposables.add(this._onDidChangeDropdownVisibility.add(a.onDidChangeVisibility)),a}}}))}set actionRunner(o){this.actionBar.actionRunner=o}get actionRunner(){return this.actionBar.actionRunner}getElement(){return this.element}getItemAction(o){return this.actionBar.getAction(o)}setActions(o,r){this.clear();const d=o?o.slice(0):[];this.hasSecondaryActions=!!(r&&r.length>0),this.hasSecondaryActions&&r&&(this.toggleMenuAction.menuActions=r.slice(0),d.push(this.toggleMenuAction)),d.forEach(h=>{this.actionBar.push(h,{icon:!0,label:!1,keybinding:this.getKeybindingLabel(h)})})}getKeybindingLabel(o){var r,d;const h=this.lookupKeybindings?(d=(r=this.options).getKeyBinding)===null||d===void 0?void 0:d.call(r,o):void 0;return(0,f.withNullAsUndefined)(h?.getLabel())}clear(){this.submenuActionViewItems=[],this.disposables.clear(),this.actionBar.clear()}dispose(){this.clear(),super.dispose()}}e.ToolBar=s;class t extends y.Action{constructor(o,r){r=r||p.localize(0,null),super(t.ID,r,void 0,!0),this._menuActions=[],this.toggleDropdownMenu=o}run(){return Le(this,void 0,void 0,function*(){this.toggleDropdownMenu()})}get menuActions(){return this._menuActions}set menuActions(o){this._menuActions=o}}e.ToggleMenuAction=t,t.ID="toolbar.toggle.more"}),define(X[186],ee([1,0,7,80,45,67,228,227,225,113,152,218,137,40,16,14,25,27,378,6,70,2,139,18,556,408]),function(q,e,L,k,y,D,S,m,_,f,p,s,t,i,o,r,d,h,n,c,a,l,u,C,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractTree=e.TreeFindMatchType=e.TreeFindMode=e.FuzzyToggle=e.ModeToggle=e.RenderIndentGuides=e.ComposedTreeDelegate=void 0;class v extends _.ElementsDragAndDropData{constructor(B){super(B.elements.map(K=>K.element)),this.data=B}}function b(H){return H instanceof _.ElementsDragAndDropData?new v(H):H}class w{constructor(B,K){this.modelProvider=B,this.dnd=K,this.autoExpandDisposable=l.Disposable.None}getDragURI(B){return this.dnd.getDragURI(B.element)}getDragLabel(B,K){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(B.map(Z=>Z.element),K)}onDragStart(B,K){var Z,J;(J=(Z=this.dnd).onDragStart)===null||J===void 0||J.call(Z,b(B),K)}onDragOver(B,K,Z,J,ne=!0){const he=this.dnd.onDragOver(b(B),K&&K.element,Z,J),de=this.autoExpandNode!==K;if(de&&(this.autoExpandDisposable.dispose(),this.autoExpandNode=K),typeof K>"u")return he;if(de&&typeof he!="boolean"&&he.autoExpand&&(this.autoExpandDisposable=(0,r.disposableTimeout)(()=>{const j=this.modelProvider(),se=j.getNodeLocation(K);j.isCollapsed(se)&&j.setCollapsed(se,!1),this.autoExpandNode=void 0},500)),typeof he=="boolean"||!he.accept||typeof he.bubble>"u"||he.feedback){if(!ne){const j=typeof he=="boolean"?he:he.accept,se=typeof he=="boolean"?void 0:he.effect;return{accept:j,effect:se,feedback:[Z]}}return he}if(he.bubble===1){const j=this.modelProvider(),se=j.getNodeLocation(K),ie=j.getParentNodeLocation(se),Y=j.getNode(ie),le=ie&&j.getListIndex(ie);return this.onDragOver(B,Y,le,J,!1)}const ae=this.modelProvider(),ce=ae.getNodeLocation(K),$=ae.getListIndex(ce),V=ae.getListRenderCount(ce);return Object.assign(Object.assign({},he),{feedback:(0,o.range)($,$+V)})}drop(B,K,Z,J){this.autoExpandDisposable.dispose(),this.autoExpandNode=void 0,this.dnd.drop(b(B),K&&K.element,Z,J)}onDragEnd(B){var K,Z;(Z=(K=this.dnd).onDragEnd)===null||Z===void 0||Z.call(K,B)}}function E(H,B){return B&&Object.assign(Object.assign({},B),{identityProvider:B.identityProvider&&{getId(K){return B.identityProvider.getId(K.element)}},dnd:B.dnd&&new w(H,B.dnd),multipleSelectionController:B.multipleSelectionController&&{isSelectionSingleChangeEvent(K){return B.multipleSelectionController.isSelectionSingleChangeEvent(Object.assign(Object.assign({},K),{element:K.element}))},isSelectionRangeChangeEvent(K){return B.multipleSelectionController.isSelectionRangeChangeEvent(Object.assign(Object.assign({},K),{element:K.element}))}},accessibilityProvider:B.accessibilityProvider&&Object.assign(Object.assign({},B.accessibilityProvider),{getSetSize(K){const Z=H(),J=Z.getNodeLocation(K),ne=Z.getParentNodeLocation(J);return Z.getNode(ne).visibleChildrenCount},getPosInSet(K){return K.visibleChildIndex+1},isChecked:B.accessibilityProvider&&B.accessibilityProvider.isChecked?K=>B.accessibilityProvider.isChecked(K.element):void 0,getRole:B.accessibilityProvider&&B.accessibilityProvider.getRole?K=>B.accessibilityProvider.getRole(K.element):()=>"treeitem",getAriaLabel(K){return B.accessibilityProvider.getAriaLabel(K.element)},getWidgetAriaLabel(){return B.accessibilityProvider.getWidgetAriaLabel()},getWidgetRole:B.accessibilityProvider&&B.accessibilityProvider.getWidgetRole?()=>B.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:B.accessibilityProvider&&B.accessibilityProvider.getAriaLevel?K=>B.accessibilityProvider.getAriaLevel(K.element):K=>K.depth,getActiveDescendantId:B.accessibilityProvider.getActiveDescendantId&&(K=>B.accessibilityProvider.getActiveDescendantId(K.element))}),keyboardNavigationLabelProvider:B.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},B.keyboardNavigationLabelProvider),{getKeyboardNavigationLabel(K){return B.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(K.element)}})})}class I{constructor(B){this.delegate=B}getHeight(B){return this.delegate.getHeight(B.element)}getTemplateId(B){return this.delegate.getTemplateId(B.element)}hasDynamicHeight(B){return!!this.delegate.hasDynamicHeight&&this.delegate.hasDynamicHeight(B.element)}setDynamicHeight(B,K){var Z,J;(J=(Z=this.delegate).setDynamicHeight)===null||J===void 0||J.call(Z,B.element,K)}}e.ComposedTreeDelegate=I;var T;(function(H){H.None="none",H.OnHover="onHover",H.Always="always"})(T||(e.RenderIndentGuides=T={}));class P{get elements(){return this._elements}constructor(B,K=[]){this._elements=K,this.disposables=new l.DisposableStore,this.onDidChange=c.Event.forEach(B,Z=>this._elements=Z,this.disposables)}dispose(){this.disposables.dispose()}}class A{constructor(B,K,Z,J,ne,he={}){var de;this.renderer=B,this.modelProvider=K,this.activeNodes=J,this.renderedIndentGuides=ne,this.renderedElements=new Map,this.renderedNodes=new Map,this.indent=A.DefaultIndent,this.hideTwistiesOfChildlessElements=!1,this.shouldRenderIndentGuides=!1,this.activeIndentNodes=new Set,this.indentGuidesDisposable=l.Disposable.None,this.disposables=new l.DisposableStore,this.templateId=B.templateId,this.updateOptions(he),c.Event.map(Z,ae=>ae.node)(this.onDidChangeNodeTwistieState,this,this.disposables),(de=B.onDidChangeTwistieState)===null||de===void 0||de.call(B,this.onDidChangeTwistieState,this,this.disposables)}updateOptions(B={}){if(typeof B.indent<"u"){const K=(0,u.clamp)(B.indent,0,40);if(K!==this.indent){this.indent=K;for(const[Z,J]of this.renderedNodes)this.renderTreeElement(Z,J)}}if(typeof B.renderIndentGuides<"u"){const K=B.renderIndentGuides!==T.None;if(K!==this.shouldRenderIndentGuides){this.shouldRenderIndentGuides=K;for(const[Z,J]of this.renderedNodes)this._renderIndentGuides(Z,J);if(this.indentGuidesDisposable.dispose(),K){const Z=new l.DisposableStore;this.activeNodes.onDidChange(this._onDidChangeActiveNodes,this,Z),this.indentGuidesDisposable=Z,this._onDidChangeActiveNodes(this.activeNodes.elements)}}}typeof B.hideTwistiesOfChildlessElements<"u"&&(this.hideTwistiesOfChildlessElements=B.hideTwistiesOfChildlessElements)}renderTemplate(B){const K=(0,L.append)(B,(0,L.$)(".monaco-tl-row")),Z=(0,L.append)(K,(0,L.$)(".monaco-tl-indent")),J=(0,L.append)(K,(0,L.$)(".monaco-tl-twistie")),ne=(0,L.append)(K,(0,L.$)(".monaco-tl-contents")),he=this.renderer.renderTemplate(ne);return{container:B,indent:Z,twistie:J,indentGuidesDisposable:l.Disposable.None,templateData:he}}renderElement(B,K,Z,J){this.renderedNodes.set(B,Z),this.renderedElements.set(B.element,B),this.renderTreeElement(B,Z),this.renderer.renderElement(B,K,Z.templateData,J)}disposeElement(B,K,Z,J){var ne,he;Z.indentGuidesDisposable.dispose(),(he=(ne=this.renderer).disposeElement)===null||he===void 0||he.call(ne,B,K,Z.templateData,J),typeof J=="number"&&(this.renderedNodes.delete(B),this.renderedElements.delete(B.element))}disposeTemplate(B){this.renderer.disposeTemplate(B.templateData)}onDidChangeTwistieState(B){const K=this.renderedElements.get(B);K&&this.onDidChangeNodeTwistieState(K)}onDidChangeNodeTwistieState(B){const K=this.renderedNodes.get(B);K&&(this._onDidChangeActiveNodes(this.activeNodes.elements),this.renderTreeElement(B,K))}renderTreeElement(B,K){const Z=A.DefaultIndent+(B.depth-1)*this.indent;K.twistie.style.paddingLeft=`${Z}px`,K.indent.style.width=`${Z+this.indent-16}px`,B.collapsible?K.container.setAttribute("aria-expanded",String(!B.collapsed)):K.container.removeAttribute("aria-expanded"),K.twistie.classList.remove(...h.ThemeIcon.asClassNameArray(d.Codicon.treeItemExpanded));let J=!1;this.renderer.renderTwistie&&(J=this.renderer.renderTwistie(B.element,K.twistie)),B.collapsible&&(!this.hideTwistiesOfChildlessElements||B.visibleChildrenCount>0)?(J||K.twistie.classList.add(...h.ThemeIcon.asClassNameArray(d.Codicon.treeItemExpanded)),K.twistie.classList.add("collapsible"),K.twistie.classList.toggle("collapsed",B.collapsed)):K.twistie.classList.remove("collapsible","collapsed"),this._renderIndentGuides(B,K)}_renderIndentGuides(B,K){if((0,L.clearNode)(K.indent),K.indentGuidesDisposable.dispose(),!this.shouldRenderIndentGuides)return;const Z=new l.DisposableStore,J=this.modelProvider();for(;;){const ne=J.getNodeLocation(B),he=J.getParentNodeLocation(ne);if(!he)break;const de=J.getNode(he),ae=(0,L.$)(".indent-guide",{style:`width: ${this.indent}px`});this.activeIndentNodes.has(de)&&ae.classList.add("active"),K.indent.childElementCount===0?K.indent.appendChild(ae):K.indent.insertBefore(ae,K.indent.firstElementChild),this.renderedIndentGuides.add(de,ae),Z.add((0,l.toDisposable)(()=>this.renderedIndentGuides.delete(de,ae))),B=de}K.indentGuidesDisposable=Z}_onDidChangeActiveNodes(B){if(!this.shouldRenderIndentGuides)return;const K=new Set,Z=this.modelProvider();B.forEach(J=>{const ne=Z.getNodeLocation(J);try{const he=Z.getParentNodeLocation(ne);J.collapsible&&J.children.length>0&&!J.collapsed?K.add(J):he&&K.add(Z.getNode(he))}catch{}}),this.activeIndentNodes.forEach(J=>{K.has(J)||this.renderedIndentGuides.forEach(J,ne=>ne.classList.remove("active"))}),K.forEach(J=>{this.activeIndentNodes.has(J)||this.renderedIndentGuides.forEach(J,ne=>ne.classList.add("active"))}),this.activeIndentNodes=K}dispose(){this.renderedNodes.clear(),this.renderedElements.clear(),this.indentGuidesDisposable.dispose(),(0,l.dispose)(this.disposables)}}A.DefaultIndent=8;class M{get totalCount(){return this._totalCount}get matchCount(){return this._matchCount}constructor(B,K,Z){this.tree=B,this.keyboardNavigationLabelProvider=K,this._filter=Z,this._totalCount=0,this._matchCount=0,this._pattern="",this._lowercasePattern="",this.disposables=new l.DisposableStore,B.onWillRefilter(this.reset,this,this.disposables)}filter(B,K){let Z=1;if(this._filter){const he=this._filter.filter(B,K);if(typeof he=="boolean"?Z=he?1:0:(0,s.isFilterResult)(he)?Z=(0,s.getVisibleState)(he.visibility):Z=he,Z===0)return!1}if(this._totalCount++,!this._pattern)return this._matchCount++,{data:a.FuzzyScore.Default,visibility:Z};const J=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(B),ne=Array.isArray(J)?J:[J];for(const he of ne){const de=he&&he.toString();if(typeof de>"u")return{data:a.FuzzyScore.Default,visibility:Z};let ae;if(this.tree.findMatchType===W.Contiguous){const ce=de.toLowerCase().indexOf(this._lowercasePattern);if(ce>-1){ae=[Number.MAX_SAFE_INTEGER,0];for(let $=this._lowercasePattern.length;$>0;$--)ae.push(ce+$-1)}}else ae=(0,a.fuzzyScore)(this._pattern,this._lowercasePattern,0,de,de.toLowerCase(),0,{firstMatchCanBeWeak:!0,boostFullMatch:!0});if(ae)return this._matchCount++,ne.length===1?{data:ae,visibility:Z}:{data:{label:de,score:ae},visibility:Z}}return this.tree.findMode===x.Filter?typeof this.tree.options.defaultFindVisibility=="number"?this.tree.options.defaultFindVisibility:this.tree.options.defaultFindVisibility?this.tree.options.defaultFindVisibility(B):2:{data:a.FuzzyScore.Default,visibility:Z}}reset(){this._totalCount=0,this._matchCount=0}dispose(){(0,l.dispose)(this.disposables)}}class N extends p.Toggle{constructor(B){var K;super({icon:d.Codicon.listFilter,title:(0,g.localize)(0,null),isChecked:(K=B.isChecked)!==null&&K!==void 0?K:!1,inputActiveOptionBorder:B.inputActiveOptionBorder,inputActiveOptionForeground:B.inputActiveOptionForeground,inputActiveOptionBackground:B.inputActiveOptionBackground})}}e.ModeToggle=N;class R extends p.Toggle{constructor(B){var K;super({icon:d.Codicon.searchFuzzy,title:(0,g.localize)(1,null),isChecked:(K=B.isChecked)!==null&&K!==void 0?K:!1,inputActiveOptionBorder:B.inputActiveOptionBorder,inputActiveOptionForeground:B.inputActiveOptionForeground,inputActiveOptionBackground:B.inputActiveOptionBackground})}}e.FuzzyToggle=R;const F={inputBoxStyles:m.unthemedInboxStyles,toggleStyles:p.unthemedToggleStyles,listFilterWidgetBackground:void 0,listFilterWidgetNoMatchesOutline:void 0,listFilterWidgetOutline:void 0,listFilterWidgetShadow:void 0};var x;(function(H){H[H.Highlight=0]="Highlight",H[H.Filter=1]="Filter"})(x||(e.TreeFindMode=x={}));var W;(function(H){H[H.Fuzzy=0]="Fuzzy",H[H.Contiguous=1]="Contiguous"})(W||(e.TreeFindMatchType=W={}));class z extends l.Disposable{set mode(B){this.modeToggle.checked=B===x.Filter,this.findInput.inputBox.setPlaceHolder(B===x.Filter?(0,g.localize)(2,null):(0,g.localize)(3,null))}set matchType(B){this.matchTypeToggle.checked=B===W.Fuzzy}constructor(B,K,Z,J,ne,he){var de;super(),this.tree=K,this.elements=(0,L.h)(".monaco-tree-type-filter",[(0,L.h)(".monaco-tree-type-filter-grab.codicon.codicon-debug-gripper@grab",{tabIndex:0}),(0,L.h)(".monaco-tree-type-filter-input@findInput"),(0,L.h)(".monaco-tree-type-filter-actionbar@actionbar")]),this.width=0,this.right=0,this.top=0,this._onDidDisable=new c.Emitter,B.appendChild(this.elements.root),this._register((0,l.toDisposable)(()=>B.removeChild(this.elements.root)));const ae=(de=he?.styles)!==null&&de!==void 0?de:F;ae.listFilterWidgetBackground&&(this.elements.root.style.backgroundColor=ae.listFilterWidgetBackground),ae.listFilterWidgetShadow&&(this.elements.root.style.boxShadow=`0 0 8px 2px ${ae.listFilterWidgetShadow}`),this.modeToggle=this._register(new N(Object.assign(Object.assign({},ae.toggleStyles),{isChecked:J===x.Filter}))),this.matchTypeToggle=this._register(new R(Object.assign(Object.assign({},ae.toggleStyles),{isChecked:ne===W.Fuzzy}))),this.onDidChangeMode=c.Event.map(this.modeToggle.onChange,()=>this.modeToggle.checked?x.Filter:x.Highlight,this._store),this.onDidChangeMatchType=c.Event.map(this.matchTypeToggle.onChange,()=>this.matchTypeToggle.checked?W.Fuzzy:W.Contiguous,this._store),this.findInput=this._register(new S.FindInput(this.elements.findInput,Z,{label:(0,g.localize)(4,null),additionalToggles:[this.modeToggle,this.matchTypeToggle],showCommonFindToggles:!1,inputBoxStyles:ae.inputBoxStyles,toggleStyles:ae.toggleStyles,history:he?.history})),this.actionbar=this._register(new D.ActionBar(this.elements.actionbar)),this.mode=J;const ce=this._register(new k.DomEmitter(this.findInput.inputBox.inputElement,"keydown")),$=this._register(c.Event.chain(ce.event)).map(ie=>new y.StandardKeyboardEvent(ie)).event;this._register($(ie=>{if(ie.equals(3)){ie.preventDefault(),ie.stopPropagation(),this.findInput.inputBox.addToHistory(),this.tree.domFocus();return}if(ie.equals(18)){ie.preventDefault(),ie.stopPropagation(),this.findInput.inputBox.isAtLastInHistory()||this.findInput.inputBox.isNowhereInHistory()?(this.findInput.inputBox.addToHistory(),this.tree.domFocus()):this.findInput.inputBox.showNextValue();return}if(ie.equals(16)){ie.preventDefault(),ie.stopPropagation(),this.findInput.inputBox.showPreviousValue();return}}));const V=this._register(new i.Action("close",(0,g.localize)(5,null),"codicon codicon-close",!0,()=>this.dispose()));this.actionbar.push(V,{icon:!0,label:!1});const j=this._register(new k.DomEmitter(this.elements.grab,"mousedown"));this._register(j.event(ie=>{const Y=new l.DisposableStore,le=Y.add(new k.DomEmitter(window,"mousemove")),fe=Y.add(new k.DomEmitter(window,"mouseup")),be=this.right,we=ie.pageX,Ee=this.top,Ie=ie.pageY;this.elements.grab.classList.add("grabbing");const ye=this.elements.root.style.transition;this.elements.root.style.transition="unset";const ke=Ae=>{const Te=Ae.pageX-we;this.right=be-Te;const pe=Ae.pageY-Ie;this.top=Ee+pe,this.layout()};Y.add(le.event(ke)),Y.add(fe.event(Ae=>{ke(Ae),this.elements.grab.classList.remove("grabbing"),this.elements.root.style.transition=ye,Y.dispose()}))}));const se=this._register(c.Event.chain(this._register(new k.DomEmitter(this.elements.grab,"keydown")).event)).map(ie=>new y.StandardKeyboardEvent(ie)).event;this._register(se(ie=>{let Y,le;if(ie.keyCode===15?Y=Number.POSITIVE_INFINITY:ie.keyCode===17?Y=0:ie.keyCode===10&&(Y=this.right===0?Number.POSITIVE_INFINITY:0),ie.keyCode===16?le=0:ie.keyCode===18&&(le=Number.POSITIVE_INFINITY),Y!==void 0&&(ie.preventDefault(),ie.stopPropagation(),this.right=Y,this.layout()),le!==void 0){ie.preventDefault(),ie.stopPropagation(),this.top=le;const fe=this.elements.root.style.transition;this.elements.root.style.transition="unset",this.layout(),setTimeout(()=>{this.elements.root.style.transition=fe},0)}})),this.onDidChangeValue=this.findInput.onDidChange}layout(B=this.width){this.width=B,this.right=(0,u.clamp)(this.right,0,Math.max(0,B-212)),this.elements.root.style.right=`${this.right}px`,this.top=(0,u.clamp)(this.top,0,24),this.elements.root.style.top=`${this.top}px`}showMessage(B){this.findInput.showMessage(B)}clearMessage(){this.findInput.clearMessage()}dispose(){const B=Object.create(null,{dispose:{get:()=>super.dispose}});return Le(this,void 0,void 0,function*(){this._onDidDisable.fire(),this.elements.root.classList.add("disabled"),yield(0,r.timeout)(300),B.dispose.call(this)})}}class U{get pattern(){return this._pattern}get mode(){return this._mode}set mode(B){B!==this._mode&&(this._mode=B,this.widget&&(this.widget.mode=this._mode),this.tree.refilter(),this.render(),this._onDidChangeMode.fire(B))}get matchType(){return this._matchType}set matchType(B){B!==this._matchType&&(this._matchType=B,this.widget&&(this.widget.matchType=this._matchType),this.tree.refilter(),this.render(),this._onDidChangeMatchType.fire(B))}constructor(B,K,Z,J,ne,he={}){var de,ae;this.tree=B,this.view=Z,this.filter=J,this.contextViewProvider=ne,this.options=he,this._pattern="",this.width=0,this._onDidChangeMode=new c.Emitter,this.onDidChangeMode=this._onDidChangeMode.event,this._onDidChangeMatchType=new c.Emitter,this.onDidChangeMatchType=this._onDidChangeMatchType.event,this._onDidChangePattern=new c.Emitter,this._onDidChangeOpenState=new c.Emitter,this.onDidChangeOpenState=this._onDidChangeOpenState.event,this.enabledDisposables=new l.DisposableStore,this.disposables=new l.DisposableStore,this._mode=(de=B.options.defaultFindMode)!==null&&de!==void 0?de:x.Highlight,this._matchType=(ae=B.options.defaultFindMatchType)!==null&&ae!==void 0?ae:W.Fuzzy,K.onDidSplice(this.onDidSpliceModel,this,this.disposables)}updateOptions(B={}){B.defaultFindMode!==void 0&&(this.mode=B.defaultFindMode),B.defaultFindMatchType!==void 0&&(this.matchType=B.defaultFindMatchType)}onDidSpliceModel(){!this.widget||this.pattern.length===0||(this.tree.refilter(),this.render())}render(){var B,K,Z,J;const ne=this.filter.totalCount>0&&this.filter.matchCount===0;this.pattern&&ne?!((B=this.tree.options.showNotFoundMessage)!==null&&B!==void 0)||B?(K=this.widget)===null||K===void 0||K.showMessage({type:2,content:(0,g.localize)(6,null)}):(Z=this.widget)===null||Z===void 0||Z.showMessage({type:2}):(J=this.widget)===null||J===void 0||J.clearMessage()}shouldAllowFocus(B){return!this.widget||!this.pattern||this._mode===x.Filter||this.filter.totalCount>0&&this.filter.matchCount<=1?!0:!a.FuzzyScore.isDefault(B.filterData)}layout(B){var K;this.width=B,(K=this.widget)===null||K===void 0||K.layout(B)}dispose(){this._history=void 0,this._onDidChangePattern.dispose(),this.enabledDisposables.dispose(),this.disposables.dispose()}}function O(H){let B=t.TreeMouseEventTarget.Unknown;return(0,L.hasParentWithClass)(H.browserEvent.target,"monaco-tl-twistie","monaco-tl-row")?B=t.TreeMouseEventTarget.Twistie:(0,L.hasParentWithClass)(H.browserEvent.target,"monaco-tl-contents","monaco-tl-row")?B=t.TreeMouseEventTarget.Element:(0,L.hasParentWithClass)(H.browserEvent.target,"monaco-tree-type-filter","monaco-list")&&(B=t.TreeMouseEventTarget.Filter),{browserEvent:H.browserEvent,element:H.element?H.element.element:null,target:B}}function G(H,B){B(H),H.children.forEach(K=>G(K,B))}class Q{get nodeSet(){return this._nodeSet||(this._nodeSet=this.createNodeSet()),this._nodeSet}constructor(B,K){this.getFirstViewElementWithTrait=B,this.identityProvider=K,this.nodes=[],this._onDidChange=new c.Emitter,this.onDidChange=this._onDidChange.event}set(B,K){!K?.__forceEvent&&(0,o.equals)(this.nodes,B)||this._set(B,!1,K)}_set(B,K,Z){if(this.nodes=[...B],this.elements=void 0,this._nodeSet=void 0,!K){const J=this;this._onDidChange.fire({get elements(){return J.get()},browserEvent:Z})}}get(){return this.elements||(this.elements=this.nodes.map(B=>B.element)),[...this.elements]}getNodes(){return this.nodes}has(B){return this.nodeSet.has(B)}onDidModelSplice({insertedNodes:B,deletedNodes:K}){if(!this.identityProvider){const ae=this.createNodeSet(),ce=$=>ae.delete($);K.forEach($=>G($,ce)),this.set([...ae.values()]);return}const Z=new Set,J=ae=>Z.add(this.identityProvider.getId(ae.element).toString());K.forEach(ae=>G(ae,J));const ne=new Map,he=ae=>ne.set(this.identityProvider.getId(ae.element).toString(),ae);B.forEach(ae=>G(ae,he));const de=[];for(const ae of this.nodes){const ce=this.identityProvider.getId(ae.element).toString();if(!Z.has(ce))de.push(ae);else{const V=ne.get(ce);V&&V.visible&&de.push(V)}}if(this.nodes.length>0&&de.length===0){const ae=this.getFirstViewElementWithTrait();ae&&de.push(ae)}this._set(de,!0)}createNodeSet(){const B=new Set;for(const K of this.nodes)B.add(K);return B}}class re extends f.MouseController{constructor(B,K){super(B),this.tree=K}onViewPointer(B){if((0,f.isButton)(B.browserEvent.target)||(0,f.isInputElement)(B.browserEvent.target)||(0,f.isMonacoEditor)(B.browserEvent.target)||B.browserEvent.isHandledByList)return;const K=B.element;if(!K)return super.onViewPointer(B);if(this.isSelectionRangeChangeEvent(B)||this.isSelectionSingleChangeEvent(B))return super.onViewPointer(B);const Z=B.browserEvent.target,J=Z.classList.contains("monaco-tl-twistie")||Z.classList.contains("monaco-icon-label")&&Z.classList.contains("folder-icon")&&B.browserEvent.offsetX<16;let ne=!1;if(typeof this.tree.expandOnlyOnTwistieClick=="function"?ne=this.tree.expandOnlyOnTwistieClick(K.element):ne=!!this.tree.expandOnlyOnTwistieClick,ne&&!J&&B.browserEvent.detail!==2)return super.onViewPointer(B);if(!this.tree.expandOnDoubleClick&&B.browserEvent.detail===2)return super.onViewPointer(B);if(K.collapsible){const he=this.tree.getNodeLocation(K),de=B.browserEvent.altKey;if(this.tree.setFocus([he]),this.tree.toggleCollapsed(he,de),ne&&J){B.browserEvent.isHandledByList=!0;return}}super.onViewPointer(B)}onDoubleClick(B){B.browserEvent.target.classList.contains("monaco-tl-twistie")||!this.tree.expandOnDoubleClick||B.browserEvent.isHandledByList||super.onDoubleClick(B)}}class oe extends f.List{constructor(B,K,Z,J,ne,he,de,ae){super(B,K,Z,J,ae),this.focusTrait=ne,this.selectionTrait=he,this.anchorTrait=de}createMouseController(B){return new re(this,B.tree)}splice(B,K,Z=[]){if(super.splice(B,K,Z),Z.length===0)return;const J=[],ne=[];let he;Z.forEach((de,ae)=>{this.focusTrait.has(de)&&J.push(B+ae),this.selectionTrait.has(de)&&ne.push(B+ae),this.anchorTrait.has(de)&&(he=B+ae)}),J.length>0&&super.setFocus((0,o.distinct)([...super.getFocus(),...J])),ne.length>0&&super.setSelection((0,o.distinct)([...super.getSelection(),...ne])),typeof he=="number"&&super.setAnchor(he)}setFocus(B,K,Z=!1){super.setFocus(B,K),Z||this.focusTrait.set(B.map(J=>this.element(J)),K)}setSelection(B,K,Z=!1){super.setSelection(B,K),Z||this.selectionTrait.set(B.map(J=>this.element(J)),K)}setAnchor(B,K=!1){super.setAnchor(B),K||(typeof B>"u"?this.anchorTrait.set([]):this.anchorTrait.set([this.element(B)]))}}class te{get onDidChangeFocus(){return this.eventBufferer.wrapEvent(this.focus.onDidChange)}get onDidChangeSelection(){return this.eventBufferer.wrapEvent(this.selection.onDidChange)}get onMouseDblClick(){return c.Event.filter(c.Event.map(this.view.onMouseDblClick,O),B=>B.target!==t.TreeMouseEventTarget.Filter)}get onPointer(){return c.Event.map(this.view.onPointer,O)}get onDidFocus(){return this.view.onDidFocus}get onDidChangeModel(){return c.Event.signal(this.model.onDidSplice)}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get findMode(){var B,K;return(K=(B=this.findController)===null||B===void 0?void 0:B.mode)!==null&&K!==void 0?K:x.Highlight}set findMode(B){this.findController&&(this.findController.mode=B)}get findMatchType(){var B,K;return(K=(B=this.findController)===null||B===void 0?void 0:B.matchType)!==null&&K!==void 0?K:W.Fuzzy}set findMatchType(B){this.findController&&(this.findController.matchType=B)}get expandOnDoubleClick(){return typeof this._options.expandOnDoubleClick>"u"?!0:this._options.expandOnDoubleClick}get expandOnlyOnTwistieClick(){return typeof this._options.expandOnlyOnTwistieClick>"u"?!0:this._options.expandOnlyOnTwistieClick}get onDidDispose(){return this.view.onDidDispose}constructor(B,K,Z,J,ne={}){var he;this._user=B,this._options=ne,this.eventBufferer=new c.EventBufferer,this.onDidChangeFindOpenState=c.Event.None,this.disposables=new l.DisposableStore,this._onWillRefilter=new c.Emitter,this.onWillRefilter=this._onWillRefilter.event,this._onDidUpdateOptions=new c.Emitter;const de=new I(Z),ae=new c.Relay,ce=new c.Relay,$=this.disposables.add(new P(ce.event)),V=new n.SetMap;this.renderers=J.map(ie=>new A(ie,()=>this.model,ae.event,$,V,ne));for(const ie of this.renderers)this.disposables.add(ie);let j;ne.keyboardNavigationLabelProvider&&(j=new M(this,ne.keyboardNavigationLabelProvider,ne.filter),ne=Object.assign(Object.assign({},ne),{filter:j}),this.disposables.add(j)),this.focus=new Q(()=>this.view.getFocusedElements()[0],ne.identityProvider),this.selection=new Q(()=>this.view.getSelectedElements()[0],ne.identityProvider),this.anchor=new Q(()=>this.view.getAnchorElement(),ne.identityProvider),this.view=new oe(B,K,de,this.renderers,this.focus,this.selection,this.anchor,Object.assign(Object.assign({},E(()=>this.model,ne)),{tree:this})),this.model=this.createModel(B,this.view,ne),ae.input=this.model.onDidChangeCollapseState;const se=c.Event.forEach(this.model.onDidSplice,ie=>{this.eventBufferer.bufferEvents(()=>{this.focus.onDidModelSplice(ie),this.selection.onDidModelSplice(ie)})},this.disposables);if(se(()=>null,null,this.disposables),ce.input=c.Event.chain(c.Event.any(se,this.focus.onDidChange,this.selection.onDidChange)).debounce(()=>null,0).map(()=>{const ie=new Set;for(const Y of this.focus.getNodes())ie.add(Y);for(const Y of this.selection.getNodes())ie.add(Y);return[...ie.values()]}).event,ne.keyboardSupport!==!1){const ie=c.Event.chain(this.view.onKeyDown).filter(Y=>!(0,f.isInputElement)(Y.target)).map(Y=>new y.StandardKeyboardEvent(Y));ie.filter(Y=>Y.keyCode===15).on(this.onLeftArrow,this,this.disposables),ie.filter(Y=>Y.keyCode===17).on(this.onRightArrow,this,this.disposables),ie.filter(Y=>Y.keyCode===10).on(this.onSpace,this,this.disposables)}if((!((he=ne.findWidgetEnabled)!==null&&he!==void 0)||he)&&ne.keyboardNavigationLabelProvider&&ne.contextViewProvider){const ie=this.options.findWidgetStyles?{styles:this.options.findWidgetStyles}:void 0;this.findController=new U(this,this.model,this.view,j,ne.contextViewProvider,ie),this.focusNavigationFilter=Y=>this.findController.shouldAllowFocus(Y),this.onDidChangeFindOpenState=this.findController.onDidChangeOpenState,this.disposables.add(this.findController),this.onDidChangeFindMode=this.findController.onDidChangeMode,this.onDidChangeFindMatchType=this.findController.onDidChangeMatchType}else this.onDidChangeFindMode=c.Event.None,this.onDidChangeFindMatchType=c.Event.None;this.styleElement=(0,L.createStyleSheet)(this.view.getHTMLElement()),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===T.Always)}updateOptions(B={}){var K;this._options=Object.assign(Object.assign({},this._options),B);for(const Z of this.renderers)Z.updateOptions(B);this.view.updateOptions(this._options),(K=this.findController)===null||K===void 0||K.updateOptions(B),this._onDidUpdateOptions.fire(this._options),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===T.Always)}get options(){return this._options}getHTMLElement(){return this.view.getHTMLElement()}get scrollTop(){return this.view.scrollTop}set scrollTop(B){this.view.scrollTop=B}domFocus(){this.view.domFocus()}layout(B,K){var Z;this.view.layout(B,K),(0,C.isNumber)(K)&&((Z=this.findController)===null||Z===void 0||Z.layout(K))}style(B){const K=`.${this.view.domId}`,Z=[];B.treeIndentGuidesStroke&&(Z.push(`.monaco-list${K}:hover .monaco-tl-indent > .indent-guide, .monaco-list${K}.always .monaco-tl-indent > .indent-guide  { border-color: ${B.treeInactiveIndentGuidesStroke}; }`),Z.push(`.monaco-list${K} .monaco-tl-indent > .indent-guide.active { border-color: ${B.treeIndentGuidesStroke}; }`)),this.styleElement.textContent=Z.join(`
`),this.view.style(B)}getParentElement(B){const K=this.model.getParentNodeLocation(B);return this.model.getNode(K).element}getFirstElementChild(B){return this.model.getFirstElementChild(B)}getNode(B){return this.model.getNode(B)}getNodeLocation(B){return this.model.getNodeLocation(B)}collapse(B,K=!1){return this.model.setCollapsed(B,!0,K)}expand(B,K=!1){return this.model.setCollapsed(B,!1,K)}toggleCollapsed(B,K=!1){return this.model.setCollapsed(B,void 0,K)}isCollapsible(B){return this.model.isCollapsible(B)}setCollapsible(B,K){return this.model.setCollapsible(B,K)}isCollapsed(B){return this.model.isCollapsed(B)}refilter(){this._onWillRefilter.fire(void 0),this.model.refilter()}setSelection(B,K){const Z=B.map(ne=>this.model.getNode(ne));this.selection.set(Z,K);const J=B.map(ne=>this.model.getListIndex(ne)).filter(ne=>ne>-1);this.view.setSelection(J,K,!0)}getSelection(){return this.selection.get()}setFocus(B,K){const Z=B.map(ne=>this.model.getNode(ne));this.focus.set(Z,K);const J=B.map(ne=>this.model.getListIndex(ne)).filter(ne=>ne>-1);this.view.setFocus(J,K,!0)}getFocus(){return this.focus.get()}reveal(B,K){this.model.expandTo(B);const Z=this.model.getListIndex(B);Z!==-1&&this.view.reveal(Z,K)}onLeftArrow(B){B.preventDefault(),B.stopPropagation();const K=this.view.getFocusedElements();if(K.length===0)return;const Z=K[0],J=this.model.getNodeLocation(Z);if(!this.model.setCollapsed(J,!0)){const he=this.model.getParentNodeLocation(J);if(!he)return;const de=this.model.getListIndex(he);this.view.reveal(de),this.view.setFocus([de])}}onRightArrow(B){B.preventDefault(),B.stopPropagation();const K=this.view.getFocusedElements();if(K.length===0)return;const Z=K[0],J=this.model.getNodeLocation(Z);if(!this.model.setCollapsed(J,!1)){if(!Z.children.some(ae=>ae.visible))return;const[he]=this.view.getFocus(),de=he+1;this.view.reveal(de),this.view.setFocus([de])}}onSpace(B){B.preventDefault(),B.stopPropagation();const K=this.view.getFocusedElements();if(K.length===0)return;const Z=K[0],J=this.model.getNodeLocation(Z),ne=B.browserEvent.altKey;this.model.setCollapsed(J,void 0,ne)}dispose(){(0,l.dispose)(this.disposables),this.view.dispose()}}e.AbstractTree=te}),define(X[580],ee([1,0,186,219]),function(q,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DataTree=void 0;class y extends L.AbstractTree{constructor(S,m,_,f,p,s={}){super(S,m,_,f,s),this.user=S,this.dataSource=p,this.identityProvider=s.identityProvider}createModel(S,m,_){return new k.ObjectTreeModel(S,m,_)}}e.DataTree=y}),define(X[312],ee([1,0,186,563,219,104,50]),function(q,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CompressibleObjectTree=e.ObjectTree=void 0;class m extends L.AbstractTree{get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}constructor(t,i,o,r,d={}){super(t,i,o,r,d),this.user=t}setChildren(t,i=S.Iterable.empty(),o){this.model.setChildren(t,i,o)}rerender(t){if(t===void 0){this.view.rerender();return}this.model.rerender(t)}hasElement(t){return this.model.has(t)}createModel(t,i,o){return new y.ObjectTreeModel(t,i,o)}}e.ObjectTree=m;class _{get compressedTreeNodeProvider(){return this._compressedTreeNodeProvider()}constructor(t,i){this._compressedTreeNodeProvider=t,this.renderer=i,this.templateId=i.templateId,i.onDidChangeTwistieState&&(this.onDidChangeTwistieState=i.onDidChangeTwistieState)}renderTemplate(t){return{compressedTreeNode:void 0,data:this.renderer.renderTemplate(t)}}renderElement(t,i,o,r){const d=this.compressedTreeNodeProvider.getCompressedTreeNode(t.element);d.element.elements.length===1?(o.compressedTreeNode=void 0,this.renderer.renderElement(t,i,o.data,r)):(o.compressedTreeNode=d,this.renderer.renderCompressedElements(d,i,o.data,r))}disposeElement(t,i,o,r){var d,h,n,c;o.compressedTreeNode?(h=(d=this.renderer).disposeCompressedElements)===null||h===void 0||h.call(d,o.compressedTreeNode,i,o.data,r):(c=(n=this.renderer).disposeElement)===null||c===void 0||c.call(n,t,i,o.data,r)}disposeTemplate(t){this.renderer.disposeTemplate(t.data)}renderTwistie(t,i){return this.renderer.renderTwistie?this.renderer.renderTwistie(t,i):!1}}Ne([D.memoize],_.prototype,"compressedTreeNodeProvider",null);function f(s,t){return t&&Object.assign(Object.assign({},t),{keyboardNavigationLabelProvider:t.keyboardNavigationLabelProvider&&{getKeyboardNavigationLabel(i){let o;try{o=s().getCompressedTreeNode(i)}catch{return t.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(i)}return o.element.elements.length===1?t.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(i):t.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(o.element.elements)}}})}class p extends m{constructor(t,i,o,r,d={}){const h=()=>this,n=r.map(c=>new _(h,c));super(t,i,o,n,f(h,d))}setChildren(t,i=S.Iterable.empty(),o){this.model.setChildren(t,i,o)}createModel(t,i,o){return new k.CompressibleObjectTreeModel(t,i,o)}updateOptions(t={}){super.updateOptions(t),typeof t.compressionEnabled<"u"&&this.model.setCompressionEnabled(t.compressionEnabled)}getCompressedTreeNode(t=null){return this.model.getCompressedTreeNode(t)}}e.CompressibleObjectTree=p}),define(X[581],ee([1,0,225,186,218,312,137,14,25,27,12,6,50,2,18]),function(q,e,L,k,y,D,S,m,_,f,p,s,t,i,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CompressibleAsyncDataTree=e.AsyncDataTree=void 0;function r(M){return Object.assign(Object.assign({},M),{children:[],refreshPromise:void 0,stale:!0,slow:!1,collapsedByDefault:void 0})}function d(M,N){return N.parent?N.parent===M?!0:d(M,N.parent):!1}function h(M,N){return M===N||d(M,N)||d(N,M)}class n{get element(){return this.node.element.element}get children(){return this.node.children.map(N=>new n(N))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}constructor(N){this.node=N}}class c{constructor(N,R,F){this.renderer=N,this.nodeMapper=R,this.onDidChangeTwistieState=F,this.renderedNodes=new Map,this.templateId=N.templateId}renderTemplate(N){return{templateData:this.renderer.renderTemplate(N)}}renderElement(N,R,F,x){this.renderer.renderElement(this.nodeMapper.map(N),R,F.templateData,x)}renderTwistie(N,R){return N.slow?(R.classList.add(...f.ThemeIcon.asClassNameArray(_.Codicon.treeItemLoading)),!0):(R.classList.remove(...f.ThemeIcon.asClassNameArray(_.Codicon.treeItemLoading)),!1)}disposeElement(N,R,F,x){var W,z;(z=(W=this.renderer).disposeElement)===null||z===void 0||z.call(W,this.nodeMapper.map(N),R,F.templateData,x)}disposeTemplate(N){this.renderer.disposeTemplate(N.templateData)}dispose(){this.renderedNodes.clear()}}function a(M){return{browserEvent:M.browserEvent,elements:M.elements.map(N=>N.element)}}function l(M){return{browserEvent:M.browserEvent,element:M.element&&M.element.element,target:M.target}}class u extends L.ElementsDragAndDropData{constructor(N){super(N.elements.map(R=>R.element)),this.data=N}}function C(M){return M instanceof L.ElementsDragAndDropData?new u(M):M}class g{constructor(N){this.dnd=N}getDragURI(N){return this.dnd.getDragURI(N.element)}getDragLabel(N,R){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(N.map(F=>F.element),R)}onDragStart(N,R){var F,x;(x=(F=this.dnd).onDragStart)===null||x===void 0||x.call(F,C(N),R)}onDragOver(N,R,F,x,W=!0){return this.dnd.onDragOver(C(N),R&&R.element,F,x)}drop(N,R,F,x){this.dnd.drop(C(N),R&&R.element,F,x)}onDragEnd(N){var R,F;(F=(R=this.dnd).onDragEnd)===null||F===void 0||F.call(R,N)}}function v(M){return M&&Object.assign(Object.assign({},M),{collapseByDefault:!0,identityProvider:M.identityProvider&&{getId(N){return M.identityProvider.getId(N.element)}},dnd:M.dnd&&new g(M.dnd),multipleSelectionController:M.multipleSelectionController&&{isSelectionSingleChangeEvent(N){return M.multipleSelectionController.isSelectionSingleChangeEvent(Object.assign(Object.assign({},N),{element:N.element}))},isSelectionRangeChangeEvent(N){return M.multipleSelectionController.isSelectionRangeChangeEvent(Object.assign(Object.assign({},N),{element:N.element}))}},accessibilityProvider:M.accessibilityProvider&&Object.assign(Object.assign({},M.accessibilityProvider),{getPosInSet:void 0,getSetSize:void 0,getRole:M.accessibilityProvider.getRole?N=>M.accessibilityProvider.getRole(N.element):()=>"treeitem",isChecked:M.accessibilityProvider.isChecked?N=>{var R;return!!(!((R=M.accessibilityProvider)===null||R===void 0)&&R.isChecked(N.element))}:void 0,getAriaLabel(N){return M.accessibilityProvider.getAriaLabel(N.element)},getWidgetAriaLabel(){return M.accessibilityProvider.getWidgetAriaLabel()},getWidgetRole:M.accessibilityProvider.getWidgetRole?()=>M.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:M.accessibilityProvider.getAriaLevel&&(N=>M.accessibilityProvider.getAriaLevel(N.element)),getActiveDescendantId:M.accessibilityProvider.getActiveDescendantId&&(N=>M.accessibilityProvider.getActiveDescendantId(N.element))}),filter:M.filter&&{filter(N,R){return M.filter.filter(N.element,R)}},keyboardNavigationLabelProvider:M.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},M.keyboardNavigationLabelProvider),{getKeyboardNavigationLabel(N){return M.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(N.element)}}),sorter:void 0,expandOnlyOnTwistieClick:typeof M.expandOnlyOnTwistieClick>"u"?void 0:typeof M.expandOnlyOnTwistieClick!="function"?M.expandOnlyOnTwistieClick:N=>M.expandOnlyOnTwistieClick(N.element),defaultFindVisibility:N=>N.hasChildren&&N.stale?1:typeof M.defaultFindVisibility=="number"?M.defaultFindVisibility:typeof M.defaultFindVisibility>"u"?2:M.defaultFindVisibility(N.element)})}function b(M,N){N(M),M.children.forEach(R=>b(R,N))}class w{get onDidChangeFocus(){return s.Event.map(this.tree.onDidChangeFocus,a)}get onDidChangeSelection(){return s.Event.map(this.tree.onDidChangeSelection,a)}get onMouseDblClick(){return s.Event.map(this.tree.onMouseDblClick,l)}get onPointer(){return s.Event.map(this.tree.onPointer,l)}get onDidFocus(){return this.tree.onDidFocus}get onDidChangeModel(){return this.tree.onDidChangeModel}get onDidChangeCollapseState(){return this.tree.onDidChangeCollapseState}get onDidChangeFindOpenState(){return this.tree.onDidChangeFindOpenState}get onDidDispose(){return this.tree.onDidDispose}constructor(N,R,F,x,W,z={}){this.user=N,this.dataSource=W,this.nodes=new Map,this.subTreeRefreshPromises=new Map,this.refreshPromises=new Map,this._onDidRender=new s.Emitter,this._onDidChangeNodeSlowState=new s.Emitter,this.nodeMapper=new S.WeakMapper(U=>new n(U)),this.disposables=new i.DisposableStore,this.identityProvider=z.identityProvider,this.autoExpandSingleChildren=typeof z.autoExpandSingleChildren>"u"?!1:z.autoExpandSingleChildren,this.sorter=z.sorter,this.collapseByDefault=z.collapseByDefault,this.tree=this.createTree(N,R,F,x,z),this.onDidChangeFindMode=this.tree.onDidChangeFindMode,this.root=r({element:void 0,parent:null,hasChildren:!0}),this.identityProvider&&(this.root=Object.assign(Object.assign({},this.root),{id:null})),this.nodes.set(null,this.root),this.tree.onDidChangeCollapseState(this._onDidChangeCollapseState,this,this.disposables)}createTree(N,R,F,x,W){const z=new k.ComposedTreeDelegate(F),U=x.map(G=>new c(G,this.nodeMapper,this._onDidChangeNodeSlowState.event)),O=v(W)||{};return new D.ObjectTree(N,R,z,U,O)}updateOptions(N={}){this.tree.updateOptions(N)}getHTMLElement(){return this.tree.getHTMLElement()}get scrollTop(){return this.tree.scrollTop}set scrollTop(N){this.tree.scrollTop=N}domFocus(){this.tree.domFocus()}layout(N,R){this.tree.layout(N,R)}style(N){this.tree.style(N)}getInput(){return this.root.element}setInput(N,R){return Le(this,void 0,void 0,function*(){this.refreshPromises.forEach(x=>x.cancel()),this.refreshPromises.clear(),this.root.element=N;const F=R&&{viewState:R,focus:[],selection:[]};yield this._updateChildren(N,!0,!1,F),F&&(this.tree.setFocus(F.focus),this.tree.setSelection(F.selection)),R&&typeof R.scrollTop=="number"&&(this.scrollTop=R.scrollTop)})}_updateChildren(N=this.root.element,R=!0,F=!1,x,W){return Le(this,void 0,void 0,function*(){if(typeof this.root.element>"u")throw new S.TreeError(this.user,"Tree input not set");this.root.refreshPromise&&(yield this.root.refreshPromise,yield s.Event.toPromise(this._onDidRender.event));const z=this.getDataNode(N);if(yield this.refreshAndRenderNode(z,R,x,W),F)try{this.tree.rerender(z)}catch{}})}rerender(N){if(N===void 0||N===this.root.element){this.tree.rerender();return}const R=this.getDataNode(N);this.tree.rerender(R)}getNode(N=this.root.element){const R=this.getDataNode(N),F=this.tree.getNode(R===this.root?null:R);return this.nodeMapper.map(F)}collapse(N,R=!1){const F=this.getDataNode(N);return this.tree.collapse(F===this.root?null:F,R)}expand(N,R=!1){return Le(this,void 0,void 0,function*(){if(typeof this.root.element>"u")throw new S.TreeError(this.user,"Tree input not set");this.root.refreshPromise&&(yield this.root.refreshPromise,yield s.Event.toPromise(this._onDidRender.event));const F=this.getDataNode(N);if(this.tree.hasElement(F)&&!this.tree.isCollapsible(F)||(F.refreshPromise&&(yield this.root.refreshPromise,yield s.Event.toPromise(this._onDidRender.event)),F!==this.root&&!F.refreshPromise&&!this.tree.isCollapsed(F)))return!1;const x=this.tree.expand(F===this.root?null:F,R);return F.refreshPromise&&(yield this.root.refreshPromise,yield s.Event.toPromise(this._onDidRender.event)),x})}setSelection(N,R){const F=N.map(x=>this.getDataNode(x));this.tree.setSelection(F,R)}getSelection(){return this.tree.getSelection().map(R=>R.element)}setFocus(N,R){const F=N.map(x=>this.getDataNode(x));this.tree.setFocus(F,R)}getFocus(){return this.tree.getFocus().map(R=>R.element)}reveal(N,R){this.tree.reveal(this.getDataNode(N),R)}getParentElement(N){const R=this.tree.getParentElement(this.getDataNode(N));return R&&R.element}getFirstElementChild(N=this.root.element){const R=this.getDataNode(N),F=this.tree.getFirstElementChild(R===this.root?null:R);return F&&F.element}getDataNode(N){const R=this.nodes.get(N===this.root.element?null:N);if(!R)throw new S.TreeError(this.user,`Data tree node not found: ${N}`);return R}refreshAndRenderNode(N,R,F,x){return Le(this,void 0,void 0,function*(){yield this.refreshNode(N,R,F),this.render(N,F,x)})}refreshNode(N,R,F){return Le(this,void 0,void 0,function*(){let x;if(this.subTreeRefreshPromises.forEach((W,z)=>{!x&&h(z,N)&&(x=W.then(()=>this.refreshNode(N,R,F)))}),x)return x;if(N!==this.root&&this.tree.getNode(N).collapsed){N.hasChildren=!!this.dataSource.hasChildren(N.element),N.stale=!0;return}return this.doRefreshSubTree(N,R,F)})}doRefreshSubTree(N,R,F){return Le(this,void 0,void 0,function*(){let x;N.refreshPromise=new Promise(W=>x=W),this.subTreeRefreshPromises.set(N,N.refreshPromise),N.refreshPromise.finally(()=>{N.refreshPromise=void 0,this.subTreeRefreshPromises.delete(N)});try{const W=yield this.doRefreshNode(N,R,F);N.stale=!1,yield m.Promises.settled(W.map(z=>this.doRefreshSubTree(z,R,F)))}finally{x()}})}doRefreshNode(N,R,F){return Le(this,void 0,void 0,function*(){N.hasChildren=!!this.dataSource.hasChildren(N.element);let x;if(!N.hasChildren)x=Promise.resolve(t.Iterable.empty());else{const W=this.doGetChildren(N);if((0,o.isIterable)(W))x=Promise.resolve(W);else{const z=(0,m.timeout)(800);z.then(()=>{N.slow=!0,this._onDidChangeNodeSlowState.fire(N)},U=>null),x=W.finally(()=>z.cancel())}}try{const W=yield x;return this.setChildren(N,W,R,F)}catch(W){if(N!==this.root&&this.tree.hasElement(N)&&this.tree.collapse(N),(0,p.isCancellationError)(W))return[];throw W}finally{N.slow&&(N.slow=!1,this._onDidChangeNodeSlowState.fire(N))}})}doGetChildren(N){let R=this.refreshPromises.get(N);if(R)return R;const F=this.dataSource.getChildren(N.element);return(0,o.isIterable)(F)?this.processChildren(F):(R=(0,m.createCancelablePromise)(()=>Le(this,void 0,void 0,function*(){return this.processChildren(yield F)})),this.refreshPromises.set(N,R),R.finally(()=>{this.refreshPromises.delete(N)}))}_onDidChangeCollapseState({node:N,deep:R}){N.element!==null&&!N.collapsed&&N.element.stale&&(R?this.collapse(N.element.element):this.refreshAndRenderNode(N.element,!1).catch(p.onUnexpectedError))}setChildren(N,R,F,x){const W=[...R];if(N.children.length===0&&W.length===0)return[];const z=new Map,U=new Map;for(const Q of N.children)if(z.set(Q.element,Q),this.identityProvider){const re=this.tree.isCollapsed(Q);U.set(Q.id,{node:Q,collapsed:re})}const O=[],G=W.map(Q=>{const re=!!this.dataSource.hasChildren(Q);if(!this.identityProvider){const B=r({element:Q,parent:N,hasChildren:re});return re&&this.collapseByDefault&&!this.collapseByDefault(Q)&&(B.collapsedByDefault=!1,O.push(B)),B}const oe=this.identityProvider.getId(Q).toString(),te=U.get(oe);if(te){const B=te.node;return z.delete(B.element),this.nodes.delete(B.element),this.nodes.set(Q,B),B.element=Q,B.hasChildren=re,F?te.collapsed?(B.children.forEach(K=>b(K,Z=>this.nodes.delete(Z.element))),B.children.splice(0,B.children.length),B.stale=!0):O.push(B):re&&this.collapseByDefault&&!this.collapseByDefault(Q)&&(B.collapsedByDefault=!1,O.push(B)),B}const H=r({element:Q,parent:N,id:oe,hasChildren:re});return x&&x.viewState.focus&&x.viewState.focus.indexOf(oe)>-1&&x.focus.push(H),x&&x.viewState.selection&&x.viewState.selection.indexOf(oe)>-1&&x.selection.push(H),x&&x.viewState.expanded&&x.viewState.expanded.indexOf(oe)>-1?O.push(H):re&&this.collapseByDefault&&!this.collapseByDefault(Q)&&(H.collapsedByDefault=!1,O.push(H)),H});for(const Q of z.values())b(Q,re=>this.nodes.delete(re.element));for(const Q of G)this.nodes.set(Q.element,Q);return N.children.splice(0,N.children.length,...G),N!==this.root&&this.autoExpandSingleChildren&&G.length===1&&O.length===0&&(G[0].collapsedByDefault=!1,O.push(G[0])),O}render(N,R,F){const x=N.children.map(z=>this.asTreeElement(z,R)),W=F&&Object.assign(Object.assign({},F),{diffIdentityProvider:F.diffIdentityProvider&&{getId(z){return F.diffIdentityProvider.getId(z.element)}}});this.tree.setChildren(N===this.root?null:N,x,W),N!==this.root&&this.tree.setCollapsible(N,N.hasChildren),this._onDidRender.fire()}asTreeElement(N,R){if(N.stale)return{element:N,collapsible:N.hasChildren,collapsed:!0};let F;return R&&R.viewState.expanded&&N.id&&R.viewState.expanded.indexOf(N.id)>-1?F=!1:F=N.collapsedByDefault,N.collapsedByDefault=void 0,{element:N,children:N.hasChildren?t.Iterable.map(N.children,x=>this.asTreeElement(x,R)):[],collapsible:N.hasChildren,collapsed:F}}processChildren(N){return this.sorter&&(N=[...N].sort(this.sorter.compare.bind(this.sorter))),N}dispose(){this.disposables.dispose()}}e.AsyncDataTree=w;class E{get element(){return{elements:this.node.element.elements.map(N=>N.element),incompressible:this.node.element.incompressible}}get children(){return this.node.children.map(N=>new E(N))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}constructor(N){this.node=N}}class I{constructor(N,R,F,x){this.renderer=N,this.nodeMapper=R,this.compressibleNodeMapperProvider=F,this.onDidChangeTwistieState=x,this.renderedNodes=new Map,this.disposables=[],this.templateId=N.templateId}renderTemplate(N){return{templateData:this.renderer.renderTemplate(N)}}renderElement(N,R,F,x){this.renderer.renderElement(this.nodeMapper.map(N),R,F.templateData,x)}renderCompressedElements(N,R,F,x){this.renderer.renderCompressedElements(this.compressibleNodeMapperProvider().map(N),R,F.templateData,x)}renderTwistie(N,R){return N.slow?(R.classList.add(...f.ThemeIcon.asClassNameArray(_.Codicon.treeItemLoading)),!0):(R.classList.remove(...f.ThemeIcon.asClassNameArray(_.Codicon.treeItemLoading)),!1)}disposeElement(N,R,F,x){var W,z;(z=(W=this.renderer).disposeElement)===null||z===void 0||z.call(W,this.nodeMapper.map(N),R,F.templateData,x)}disposeCompressedElements(N,R,F,x){var W,z;(z=(W=this.renderer).disposeCompressedElements)===null||z===void 0||z.call(W,this.compressibleNodeMapperProvider().map(N),R,F.templateData,x)}disposeTemplate(N){this.renderer.disposeTemplate(N.templateData)}dispose(){this.renderedNodes.clear(),this.disposables=(0,i.dispose)(this.disposables)}}function T(M){const N=M&&v(M);return N&&Object.assign(Object.assign({},N),{keyboardNavigationLabelProvider:N.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},N.keyboardNavigationLabelProvider),{getCompressedNodeKeyboardNavigationLabel(R){return M.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(R.map(F=>F.element))}})})}class P extends w{constructor(N,R,F,x,W,z,U={}){super(N,R,F,W,z,U),this.compressionDelegate=x,this.compressibleNodeMapper=new S.WeakMapper(O=>new E(O)),this.filter=U.filter}createTree(N,R,F,x,W){const z=new k.ComposedTreeDelegate(F),U=x.map(G=>new I(G,this.nodeMapper,()=>this.compressibleNodeMapper,this._onDidChangeNodeSlowState.event)),O=T(W)||{};return new D.CompressibleObjectTree(N,R,z,U,O)}asTreeElement(N,R){return Object.assign({incompressible:this.compressionDelegate.isIncompressible(N.element)},super.asTreeElement(N,R))}updateOptions(N={}){this.tree.updateOptions(N)}render(N,R){if(!this.identityProvider)return super.render(N,R);const F=oe=>this.identityProvider.getId(oe).toString(),x=oe=>{const te=new Set;for(const H of oe){const B=this.tree.getCompressedTreeNode(H===this.root?null:H);if(B.element)for(const K of B.element.elements)te.add(F(K.element))}return te},W=x(this.tree.getSelection()),z=x(this.tree.getFocus());super.render(N,R);const U=this.getSelection();let O=!1;const G=this.getFocus();let Q=!1;const re=oe=>{const te=oe.element;if(te)for(let H=0;H<te.elements.length;H++){const B=F(te.elements[H].element),K=te.elements[te.elements.length-1].element;W.has(B)&&U.indexOf(K)===-1&&(U.push(K),O=!0),z.has(B)&&G.indexOf(K)===-1&&(G.push(K),Q=!0)}oe.children.forEach(re)};re(this.tree.getCompressedTreeNode(N===this.root?null:N)),O&&this.setSelection(U),Q&&this.setFocus(G)}processChildren(N){return this.filter&&(N=t.Iterable.filter(N,R=>{const F=this.filter.filter(R,1),x=A(F);if(x===2)throw new Error("Recursive tree visibility not supported in async data compressed trees");return x===1})),super.processChildren(N)}}e.CompressibleAsyncDataTree=P;function A(M){return typeof M=="boolean"?M?1:0:(0,y.isFilterResult)(M)?(0,y.getVisibleState)(M.visibility):(0,y.getVisibleState)(M)}}),define(X[313],ee([1,0,12,6,2,46,17,9]),function(q,e,L,k,y,D,S,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.create=e.SimpleWorkerServer=e.SimpleWorkerClient=e.logOnceWebWorkerWarning=void 0;const _="$initialize";let f=!1;function p(C){S.isWeb&&(f||(f=!0,console.warn("Could not create web worker(s). Falling back to loading web worker code in main thread, which might cause UI freezes. Please see https://github.com/microsoft/monaco-editor#faq")),console.warn(C.message))}e.logOnceWebWorkerWarning=p;class s{constructor(g,v,b,w){this.vsWorker=g,this.req=v,this.method=b,this.args=w,this.type=0}}class t{constructor(g,v,b,w){this.vsWorker=g,this.seq=v,this.res=b,this.err=w,this.type=1}}class i{constructor(g,v,b,w){this.vsWorker=g,this.req=v,this.eventName=b,this.arg=w,this.type=2}}class o{constructor(g,v,b){this.vsWorker=g,this.req=v,this.event=b,this.type=3}}class r{constructor(g,v){this.vsWorker=g,this.req=v,this.type=4}}class d{constructor(g){this._workerId=-1,this._handler=g,this._lastSentReq=0,this._pendingReplies=Object.create(null),this._pendingEmitters=new Map,this._pendingEvents=new Map}setWorkerId(g){this._workerId=g}sendMessage(g,v){const b=String(++this._lastSentReq);return new Promise((w,E)=>{this._pendingReplies[b]={resolve:w,reject:E},this._send(new s(this._workerId,b,g,v))})}listen(g,v){let b=null;const w=new k.Emitter({onWillAddFirstListener:()=>{b=String(++this._lastSentReq),this._pendingEmitters.set(b,w),this._send(new i(this._workerId,b,g,v))},onDidRemoveLastListener:()=>{this._pendingEmitters.delete(b),this._send(new r(this._workerId,b)),b=null}});return w.event}handleMessage(g){!g||!g.vsWorker||this._workerId!==-1&&g.vsWorker!==this._workerId||this._handleMessage(g)}_handleMessage(g){switch(g.type){case 1:return this._handleReplyMessage(g);case 0:return this._handleRequestMessage(g);case 2:return this._handleSubscribeEventMessage(g);case 3:return this._handleEventMessage(g);case 4:return this._handleUnsubscribeEventMessage(g)}}_handleReplyMessage(g){if(!this._pendingReplies[g.seq]){console.warn("Got reply to unknown seq");return}const v=this._pendingReplies[g.seq];if(delete this._pendingReplies[g.seq],g.err){let b=g.err;g.err.$isError&&(b=new Error,b.name=g.err.name,b.message=g.err.message,b.stack=g.err.stack),v.reject(b);return}v.resolve(g.res)}_handleRequestMessage(g){const v=g.req;this._handler.handleMessage(g.method,g.args).then(w=>{this._send(new t(this._workerId,v,w,void 0))},w=>{w.detail instanceof Error&&(w.detail=(0,L.transformErrorForSerialization)(w.detail)),this._send(new t(this._workerId,v,void 0,(0,L.transformErrorForSerialization)(w)))})}_handleSubscribeEventMessage(g){const v=g.req,b=this._handler.handleEvent(g.eventName,g.arg)(w=>{this._send(new o(this._workerId,v,w))});this._pendingEvents.set(v,b)}_handleEventMessage(g){if(!this._pendingEmitters.has(g.req)){console.warn("Got event for unknown req");return}this._pendingEmitters.get(g.req).fire(g.event)}_handleUnsubscribeEventMessage(g){if(!this._pendingEvents.has(g.req)){console.warn("Got unsubscribe for unknown req");return}this._pendingEvents.get(g.req).dispose(),this._pendingEvents.delete(g.req)}_send(g){const v=[];if(g.type===0)for(let b=0;b<g.args.length;b++)g.args[b]instanceof ArrayBuffer&&v.push(g.args[b]);else g.type===1&&g.res instanceof ArrayBuffer&&v.push(g.res);this._handler.sendMessage(g,v)}}class h extends y.Disposable{constructor(g,v,b){super();let w=null;this._worker=this._register(g.create("vs/base/common/worker/simpleWorker",M=>{this._protocol.handleMessage(M)},M=>{w?.(M)})),this._protocol=new d({sendMessage:(M,N)=>{this._worker.postMessage(M,N)},handleMessage:(M,N)=>{if(typeof b[M]!="function")return Promise.reject(new Error("Missing method "+M+" on main thread host."));try{return Promise.resolve(b[M].apply(b,N))}catch(R){return Promise.reject(R)}},handleEvent:(M,N)=>{if(c(M)){const R=b[M].call(b,N);if(typeof R!="function")throw new Error(`Missing dynamic event ${M} on main thread host.`);return R}if(n(M)){const R=b[M];if(typeof R!="function")throw new Error(`Missing event ${M} on main thread host.`);return R}throw new Error(`Malformed event name ${M}`)}}),this._protocol.setWorkerId(this._worker.getId());let E=null;const I=globalThis.require;typeof I<"u"&&typeof I.getConfig=="function"?E=I.getConfig():typeof globalThis.requirejs<"u"&&(E=globalThis.requirejs.s.contexts._.config);const T=(0,D.getAllMethodNames)(b);this._onModuleLoaded=this._protocol.sendMessage(_,[this._worker.getId(),JSON.parse(JSON.stringify(E)),v,T]);const P=(M,N)=>this._request(M,N),A=(M,N)=>this._protocol.listen(M,N);this._lazyProxy=new Promise((M,N)=>{w=N,this._onModuleLoaded.then(R=>{M(a(R,P,A))},R=>{N(R),this._onError("Worker failed to load "+v,R)})})}getProxyObject(){return this._lazyProxy}_request(g,v){return new Promise((b,w)=>{this._onModuleLoaded.then(()=>{this._protocol.sendMessage(g,v).then(b,w)},w)})}_onError(g,v){console.error(g),console.info(v)}}e.SimpleWorkerClient=h;function n(C){return C[0]==="o"&&C[1]==="n"&&m.isUpperAsciiLetter(C.charCodeAt(2))}function c(C){return/^onDynamic/.test(C)&&m.isUpperAsciiLetter(C.charCodeAt(9))}function a(C,g,v){const b=I=>function(){const T=Array.prototype.slice.call(arguments,0);return g(I,T)},w=I=>function(T){return v(I,T)},E={};for(const I of C){if(c(I)){E[I]=w(I);continue}if(n(I)){E[I]=v(I,void 0);continue}E[I]=b(I)}return E}class l{constructor(g,v){this._requestHandlerFactory=v,this._requestHandler=null,this._protocol=new d({sendMessage:(b,w)=>{g(b,w)},handleMessage:(b,w)=>this._handleMessage(b,w),handleEvent:(b,w)=>this._handleEvent(b,w)})}onmessage(g){this._protocol.handleMessage(g)}_handleMessage(g,v){if(g===_)return this.initialize(v[0],v[1],v[2],v[3]);if(!this._requestHandler||typeof this._requestHandler[g]!="function")return Promise.reject(new Error("Missing requestHandler or method: "+g));try{return Promise.resolve(this._requestHandler[g].apply(this._requestHandler,v))}catch(b){return Promise.reject(b)}}_handleEvent(g,v){if(!this._requestHandler)throw new Error("Missing requestHandler");if(c(g)){const b=this._requestHandler[g].call(this._requestHandler,v);if(typeof b!="function")throw new Error(`Missing dynamic event ${g} on request handler.`);return b}if(n(g)){const b=this._requestHandler[g];if(typeof b!="function")throw new Error(`Missing event ${g} on request handler.`);return b}throw new Error(`Malformed event name ${g}`)}initialize(g,v,b,w){this._protocol.setWorkerId(g);const T=a(w,(P,A)=>this._protocol.sendMessage(P,A),(P,A)=>this._protocol.listen(P,A));return this._requestHandlerFactory?(this._requestHandler=this._requestHandlerFactory(T),Promise.resolve((0,D.getAllMethodNames)(this._requestHandler))):(v&&(typeof v.baseUrl<"u"&&delete v.baseUrl,typeof v.paths<"u"&&typeof v.paths.vs<"u"&&delete v.paths.vs,typeof v.trustedTypesPolicy!==void 0&&delete v.trustedTypesPolicy,v.catchError=!0,globalThis.require.config(v)),new Promise((P,A)=>{(globalThis.require||q)([b],N=>{if(this._requestHandler=N.create(T),!this._requestHandler){A(new Error("No RequestHandler!"));return}P((0,D.getAllMethodNames)(this._requestHandler))},A)}))}}e.SimpleWorkerServer=l;function u(C){return new l(C,null)}e.create=u}),define(X[582],ee([1,0,89,53,313]),function(q,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DefaultWorkerFactory=e.getWorkerBootstrapUrl=void 0;const D=(0,L.createTrustedTypesPolicy)("defaultWorkerFactory",{createScriptURL:s=>s});function S(s){const t=globalThis.MonacoEnvironment;if(t){if(typeof t.getWorker=="function")return t.getWorker("workerMain.js",s);if(typeof t.getWorkerUrl=="function"){const i=t.getWorkerUrl("workerMain.js",s);return new Worker(D?D.createScriptURL(i):i,{name:s})}}if(typeof q=="function"){const i=q.toUrl("vs/base/worker/workerMain.js"),o=m(i,s);return new Worker(D?D.createScriptURL(o):o,{name:s})}throw new Error("You must define a function MonacoEnvironment.getWorkerUrl or MonacoEnvironment.getWorker")}function m(s,t){if(/^((http:)|(https:)|(file:))/.test(s)&&s.substring(0,globalThis.origin.length)!==globalThis.origin){const h="vs/base/worker/defaultWorkerFactory.js",n=q.toUrl(h).slice(0,-h.length),c=`/*${t}*/globalThis.MonacoEnvironment={baseUrl: '${n}'};const ttPolicy = globalThis.trustedTypes?.createPolicy('defaultWorkerFactory', { createScriptURL: value => value });importScripts(ttPolicy?.createScriptURL('${s}') ?? '${s}');/*${t}*/`,a=new Blob([c],{type:"application/javascript"});return URL.createObjectURL(a)}const i=s.lastIndexOf("?"),o=s.lastIndexOf("#",i),r=i>0?new URLSearchParams(s.substring(i+1,~o?o:void 0)):new URLSearchParams;return k.COI.addSearchParam(r,!0,!0),r.toString()?`${s}?${r.toString()}#${t}`:`${s}#${t}`}e.getWorkerBootstrapUrl=m;function _(s){return typeof s.then=="function"}class f{constructor(t,i,o,r,d){this.id=i;const h=S(o);_(h)?this.worker=h:this.worker=Promise.resolve(h),this.postMessage(t,[]),this.worker.then(n=>{n.onmessage=function(c){r(c.data)},n.onmessageerror=d,typeof n.addEventListener=="function"&&n.addEventListener("error",d)})}getId(){return this.id}postMessage(t,i){var o;(o=this.worker)===null||o===void 0||o.then(r=>r.postMessage(t,i))}dispose(){var t;(t=this.worker)===null||t===void 0||t.then(i=>i.terminate()),this.worker=null}}class p{constructor(t){this._label=t,this._webWorkerFailedBeforeError=!1}create(t,i,o){const r=++p.LAST_WORKER_ID;if(this._webWorkerFailedBeforeError)throw this._webWorkerFailedBeforeError;return new f(t,r,this._label||"anonymous"+r,i,d=>{(0,y.logOnceWebWorkerWarning)(d),this._webWorkerFailedBeforeError=d,o(d)})}}e.DefaultWorkerFactory=p,p.LAST_WORKER_ID=0}),define(X[583],ee([1,0,14,6,2,221,18]),function(q,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InMemoryStorageDatabase=e.Storage=e.StorageState=e.StorageHint=void 0;var m;(function(s){s[s.STORAGE_DOES_NOT_EXIST=0]="STORAGE_DOES_NOT_EXIST",s[s.STORAGE_IN_MEMORY=1]="STORAGE_IN_MEMORY"})(m||(e.StorageHint=m={}));var _;(function(s){s[s.None=0]="None",s[s.Initialized=1]="Initialized",s[s.Closed=2]="Closed"})(_||(e.StorageState=_={}));class f extends y.Disposable{constructor(t,i=Object.create(null)){super(),this.database=t,this.options=i,this._onDidChangeStorage=this._register(new k.PauseableEmitter),this.onDidChangeStorage=this._onDidChangeStorage.event,this.state=_.None,this.cache=new Map,this.flushDelayer=new L.ThrottledDelayer(f.DEFAULT_FLUSH_DELAY),this.pendingDeletes=new Set,this.pendingInserts=new Map,this.whenFlushedCallbacks=[],this.registerListeners()}registerListeners(){this._register(this.database.onDidChangeItemsExternal(t=>this.onDidChangeItemsExternal(t)))}onDidChangeItemsExternal(t){var i,o;this._onDidChangeStorage.pause();try{(i=t.changed)===null||i===void 0||i.forEach((r,d)=>this.acceptExternal(d,r)),(o=t.deleted)===null||o===void 0||o.forEach(r=>this.acceptExternal(r,void 0))}finally{this._onDidChangeStorage.resume()}}acceptExternal(t,i){if(this.state===_.Closed)return;let o=!1;(0,S.isUndefinedOrNull)(i)?o=this.cache.delete(t):this.cache.get(t)!==i&&(this.cache.set(t,i),o=!0),o&&this._onDidChangeStorage.fire({key:t,external:!0})}get(t,i){const o=this.cache.get(t);return(0,S.isUndefinedOrNull)(o)?i:o}getBoolean(t,i){const o=this.get(t);return(0,S.isUndefinedOrNull)(o)?i:o==="true"}getNumber(t,i){const o=this.get(t);return(0,S.isUndefinedOrNull)(o)?i:parseInt(o,10)}set(t,i,o=!1){return Le(this,void 0,void 0,function*(){if(this.state===_.Closed)return;if((0,S.isUndefinedOrNull)(i))return this.delete(t,o);const r=(0,S.isObject)(i)||Array.isArray(i)?(0,D.stringify)(i):String(i);if(this.cache.get(t)!==r)return this.cache.set(t,r),this.pendingInserts.set(t,r),this.pendingDeletes.delete(t),this._onDidChangeStorage.fire({key:t,external:o}),this.doFlush()})}delete(t,i=!1){return Le(this,void 0,void 0,function*(){if(!(this.state===_.Closed||!this.cache.delete(t)))return this.pendingDeletes.has(t)||this.pendingDeletes.add(t),this.pendingInserts.delete(t),this._onDidChangeStorage.fire({key:t,external:i}),this.doFlush()})}get hasPending(){return this.pendingInserts.size>0||this.pendingDeletes.size>0}flushPending(){return Le(this,void 0,void 0,function*(){if(!this.hasPending)return;const t={insert:this.pendingInserts,delete:this.pendingDeletes};return this.pendingDeletes=new Set,this.pendingInserts=new Map,this.database.updateItems(t).finally(()=>{var i;if(!this.hasPending)for(;this.whenFlushedCallbacks.length;)(i=this.whenFlushedCallbacks.pop())===null||i===void 0||i()})})}doFlush(t){return Le(this,void 0,void 0,function*(){return this.flushDelayer.trigger(()=>this.flushPending(),t)})}dispose(){this.flushDelayer.dispose(),super.dispose()}}e.Storage=f,f.DEFAULT_FLUSH_DELAY=100;class p{constructor(){this.onDidChangeItemsExternal=k.Event.None,this.items=new Map}updateItems(t){var i,o;return Le(this,void 0,void 0,function*(){(i=t.insert)===null||i===void 0||i.forEach((r,d)=>this.items.set(d,r)),(o=t.delete)===null||o===void 0||o.forEach(r=>this.items.delete(r))})}}e.InMemoryStorageDatabase=p}),define(X[229],ee([1,0,51,7,80,45,258,14,6,2,105,9,271,24]),function(q,e,L,k,y,D,S,m,_,f,p,s,t,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextAreaWrapper=e.TextAreaInput=e.InMemoryClipboardMetadataManager=e.CopyOptions=e.TextAreaSyntethicEvents=void 0;var o;(function(a){a.Tap="-monaco-textarea-synthetic-tap"})(o||(e.TextAreaSyntethicEvents=o={})),e.CopyOptions={forceCopyWithSyntaxHighlighting:!1};class r{constructor(){this._lastState=null}set(l,u){this._lastState={lastCopiedValue:l,data:u}}get(l){return this._lastState&&this._lastState.lastCopiedValue===l?this._lastState.data:(this._lastState=null,null)}}e.InMemoryClipboardMetadataManager=r,r.INSTANCE=new r;class d{constructor(){this._lastTypeTextLength=0}handleCompositionUpdate(l){l=l||"";const u={text:l,replacePrevCharCnt:this._lastTypeTextLength,replaceNextCharCnt:0,positionDelta:0};return this._lastTypeTextLength=l.length,u}}class h extends f.Disposable{get textAreaState(){return this._textAreaState}constructor(l,u,C,g){super(),this._host=l,this._textArea=u,this._OS=C,this._browser=g,this._onFocus=this._register(new _.Emitter),this.onFocus=this._onFocus.event,this._onBlur=this._register(new _.Emitter),this.onBlur=this._onBlur.event,this._onKeyDown=this._register(new _.Emitter),this.onKeyDown=this._onKeyDown.event,this._onKeyUp=this._register(new _.Emitter),this.onKeyUp=this._onKeyUp.event,this._onCut=this._register(new _.Emitter),this.onCut=this._onCut.event,this._onPaste=this._register(new _.Emitter),this.onPaste=this._onPaste.event,this._onType=this._register(new _.Emitter),this.onType=this._onType.event,this._onCompositionStart=this._register(new _.Emitter),this.onCompositionStart=this._onCompositionStart.event,this._onCompositionUpdate=this._register(new _.Emitter),this.onCompositionUpdate=this._onCompositionUpdate.event,this._onCompositionEnd=this._register(new _.Emitter),this.onCompositionEnd=this._onCompositionEnd.event,this._onSelectionChangeRequest=this._register(new _.Emitter),this.onSelectionChangeRequest=this._onSelectionChangeRequest.event,this._asyncTriggerCut=this._register(new m.RunOnceScheduler(()=>this._onCut.fire(),0)),this._asyncFocusGainWriteScreenReaderContent=this._register(new m.RunOnceScheduler(()=>this.writeScreenReaderContent("asyncFocusGain"),0)),this._textAreaState=t.TextAreaState.EMPTY,this._selectionChangeListener=null,this.writeScreenReaderContent("ctor"),this._hasFocus=!1,this._currentComposition=null;let v=null;this._register(this._textArea.onKeyDown(b=>{const w=new D.StandardKeyboardEvent(b);(w.keyCode===114||this._currentComposition&&w.keyCode===1)&&w.stopPropagation(),w.equals(9)&&w.preventDefault(),v=w,this._onKeyDown.fire(w)})),this._register(this._textArea.onKeyUp(b=>{const w=new D.StandardKeyboardEvent(b);this._onKeyUp.fire(w)})),this._register(this._textArea.onCompositionStart(b=>{t._debugComposition&&console.log("[compositionstart]",b);const w=new d;if(this._currentComposition){this._currentComposition=w;return}if(this._currentComposition=w,this._OS===2&&v&&v.equals(114)&&this._textAreaState.selectionStart===this._textAreaState.selectionEnd&&this._textAreaState.selectionStart>0&&this._textAreaState.value.substr(this._textAreaState.selectionStart-1,1)===b.data&&(v.code==="ArrowRight"||v.code==="ArrowLeft")){t._debugComposition&&console.log("[compositionstart] Handling long press case on macOS + arrow key",b),w.handleCompositionUpdate("x"),this._onCompositionStart.fire({data:b.data});return}if(this._browser.isAndroid){this._onCompositionStart.fire({data:b.data});return}this._onCompositionStart.fire({data:b.data})})),this._register(this._textArea.onCompositionUpdate(b=>{t._debugComposition&&console.log("[compositionupdate]",b);const w=this._currentComposition;if(!w)return;if(this._browser.isAndroid){const I=t.TextAreaState.readFromTextArea(this._textArea,this._textAreaState),T=t.TextAreaState.deduceAndroidCompositionInput(this._textAreaState,I);this._textAreaState=I,this._onType.fire(T),this._onCompositionUpdate.fire(b);return}const E=w.handleCompositionUpdate(b.data);this._textAreaState=t.TextAreaState.readFromTextArea(this._textArea,this._textAreaState),this._onType.fire(E),this._onCompositionUpdate.fire(b)})),this._register(this._textArea.onCompositionEnd(b=>{t._debugComposition&&console.log("[compositionend]",b);const w=this._currentComposition;if(!w)return;if(this._currentComposition=null,this._browser.isAndroid){const I=t.TextAreaState.readFromTextArea(this._textArea,this._textAreaState),T=t.TextAreaState.deduceAndroidCompositionInput(this._textAreaState,I);this._textAreaState=I,this._onType.fire(T),this._onCompositionEnd.fire();return}const E=w.handleCompositionUpdate(b.data);this._textAreaState=t.TextAreaState.readFromTextArea(this._textArea,this._textAreaState),this._onType.fire(E),this._onCompositionEnd.fire()})),this._register(this._textArea.onInput(b=>{if(t._debugComposition&&console.log("[input]",b),this._textArea.setIgnoreSelectionChangeTime("received input event"),this._currentComposition)return;const w=t.TextAreaState.readFromTextArea(this._textArea,this._textAreaState),E=t.TextAreaState.deduceInput(this._textAreaState,w,this._OS===2);E.replacePrevCharCnt===0&&E.text.length===1&&(s.isHighSurrogate(E.text.charCodeAt(0))||E.text.charCodeAt(0)===127)||(this._textAreaState=w,(E.text!==""||E.replacePrevCharCnt!==0||E.replaceNextCharCnt!==0||E.positionDelta!==0)&&this._onType.fire(E))})),this._register(this._textArea.onCut(b=>{this._textArea.setIgnoreSelectionChangeTime("received cut event"),this._ensureClipboardGetsEditorSelection(b),this._asyncTriggerCut.schedule()})),this._register(this._textArea.onCopy(b=>{this._ensureClipboardGetsEditorSelection(b)})),this._register(this._textArea.onPaste(b=>{if(this._textArea.setIgnoreSelectionChangeTime("received paste event"),b.preventDefault(),!b.clipboardData)return;let[w,E]=n.getTextData(b.clipboardData);w&&(E=E||r.INSTANCE.get(w),this._onPaste.fire({text:w,metadata:E}))})),this._register(this._textArea.onFocus(()=>{const b=this._hasFocus;this._setHasFocus(!0),this._browser.isSafari&&!b&&this._hasFocus&&this._asyncFocusGainWriteScreenReaderContent.schedule()})),this._register(this._textArea.onBlur(()=>{this._currentComposition&&(this._currentComposition=null,this.writeScreenReaderContent("blurWithoutCompositionEnd"),this._onCompositionEnd.fire()),this._setHasFocus(!1)})),this._register(this._textArea.onSyntheticTap(()=>{this._browser.isAndroid&&this._currentComposition&&(this._currentComposition=null,this.writeScreenReaderContent("tapWithoutCompositionEnd"),this._onCompositionEnd.fire())}))}_installSelectionChangeListener(){let l=0;return k.addDisposableListener(document,"selectionchange",u=>{if(S.inputLatency.onSelectionChange(),!this._hasFocus||this._currentComposition||!this._browser.isChrome)return;const C=Date.now(),g=C-l;if(l=C,g<5)return;const v=C-this._textArea.getIgnoreSelectionChangeTime();if(this._textArea.resetSelectionChangeTime(),v<100||!this._textAreaState.selection)return;const b=this._textArea.getValue();if(this._textAreaState.value!==b)return;const w=this._textArea.getSelectionStart(),E=this._textArea.getSelectionEnd();if(this._textAreaState.selectionStart===w&&this._textAreaState.selectionEnd===E)return;const I=this._textAreaState.deduceEditorPosition(w),T=this._host.deduceModelPosition(I[0],I[1],I[2]),P=this._textAreaState.deduceEditorPosition(E),A=this._host.deduceModelPosition(P[0],P[1],P[2]),M=new i.Selection(T.lineNumber,T.column,A.lineNumber,A.column);this._onSelectionChangeRequest.fire(M)})}dispose(){super.dispose(),this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null)}focusTextArea(){this._setHasFocus(!0),this.refreshFocusState()}isFocused(){return this._hasFocus}refreshFocusState(){this._setHasFocus(this._textArea.hasFocus())}_setHasFocus(l){this._hasFocus!==l&&(this._hasFocus=l,this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null),this._hasFocus&&(this._selectionChangeListener=this._installSelectionChangeListener()),this._hasFocus&&this.writeScreenReaderContent("focusgain"),this._hasFocus?this._onFocus.fire():this._onBlur.fire())}_setAndWriteTextAreaState(l,u){this._hasFocus||(u=u.collapseSelection()),u.writeToTextArea(l,this._textArea,this._hasFocus),this._textAreaState=u}writeScreenReaderContent(l){this._currentComposition||this._setAndWriteTextAreaState(l,this._host.getScreenReaderContent())}_ensureClipboardGetsEditorSelection(l){const u=this._host.getDataToCopy(),C={version:1,isFromEmptySelection:u.isFromEmptySelection,multicursorText:u.multicursorText,mode:u.mode};r.INSTANCE.set(this._browser.isFirefox?u.text.replace(/\r\n/g,`
`):u.text,C),l.preventDefault(),l.clipboardData&&n.setTextData(l.clipboardData,u.text,u.html,C)}}e.TextAreaInput=h;class n{static getTextData(l){const u=l.getData(p.Mimes.text);let C=null;const g=l.getData("vscode-editor-data");if(typeof g=="string")try{C=JSON.parse(g),C.version!==1&&(C=null)}catch{}return u.length===0&&C===null&&l.files.length>0?[Array.prototype.slice.call(l.files,0).map(b=>b.name).join(`
`),null]:[u,C]}static setTextData(l,u,C,g){l.setData(p.Mimes.text,u),typeof C=="string"&&l.setData("text/html",C),l.setData("vscode-editor-data",JSON.stringify(g))}}class c extends f.Disposable{constructor(l){super(),this._actual=l,this.onKeyDown=this._register(new y.DomEmitter(this._actual,"keydown")).event,this.onKeyUp=this._register(new y.DomEmitter(this._actual,"keyup")).event,this.onCompositionStart=this._register(new y.DomEmitter(this._actual,"compositionstart")).event,this.onCompositionUpdate=this._register(new y.DomEmitter(this._actual,"compositionupdate")).event,this.onCompositionEnd=this._register(new y.DomEmitter(this._actual,"compositionend")).event,this.onBeforeInput=this._register(new y.DomEmitter(this._actual,"beforeinput")).event,this.onInput=this._register(new y.DomEmitter(this._actual,"input")).event,this.onCut=this._register(new y.DomEmitter(this._actual,"cut")).event,this.onCopy=this._register(new y.DomEmitter(this._actual,"copy")).event,this.onPaste=this._register(new y.DomEmitter(this._actual,"paste")).event,this.onFocus=this._register(new y.DomEmitter(this._actual,"focus")).event,this.onBlur=this._register(new y.DomEmitter(this._actual,"blur")).event,this._onSyntheticTap=this._register(new _.Emitter),this.onSyntheticTap=this._onSyntheticTap.event,this._ignoreSelectionChangeTime=0,this._register(this.onKeyDown(()=>S.inputLatency.onKeyDown())),this._register(this.onBeforeInput(()=>S.inputLatency.onBeforeInput())),this._register(this.onInput(()=>S.inputLatency.onInput())),this._register(this.onKeyUp(()=>S.inputLatency.onKeyUp())),this._register(k.addDisposableListener(this._actual,o.Tap,()=>this._onSyntheticTap.fire()))}hasFocus(){const l=k.getShadowRoot(this._actual);return l?l.activeElement===this._actual:k.isInDOM(this._actual)?document.activeElement===this._actual:!1}setIgnoreSelectionChangeTime(l){this._ignoreSelectionChangeTime=Date.now()}getIgnoreSelectionChangeTime(){return this._ignoreSelectionChangeTime}resetSelectionChangeTime(){this._ignoreSelectionChangeTime=0}getValue(){return this._actual.value}setValue(l,u){const C=this._actual;C.value!==u&&(this.setIgnoreSelectionChangeTime("setValue"),C.value=u)}getSelectionStart(){return this._actual.selectionDirection==="backward"?this._actual.selectionEnd:this._actual.selectionStart}getSelectionEnd(){return this._actual.selectionDirection==="backward"?this._actual.selectionStart:this._actual.selectionEnd}setSelectionRange(l,u,C){const g=this._actual;let v=null;const b=k.getShadowRoot(g);b?v=b.activeElement:v=document.activeElement;const w=v===g,E=g.selectionStart,I=g.selectionEnd;if(w&&E===u&&I===C){L.isFirefox&&window.parent!==window&&g.focus();return}if(w){this.setIgnoreSelectionChangeTime("setSelectionRange"),g.setSelectionRange(u,C),L.isFirefox&&window.parent!==window&&g.focus();return}try{const T=k.saveParentsScrollTop(g);this.setIgnoreSelectionChangeTime("setSelectionRange"),g.focus(),g.setSelectionRange(u,C),k.restoreParentsScrollTop(g,T)}catch{}}}e.TextAreaWrapper=c}),define(X[584],ee([1,0,7,34,52]),function(q,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewContentWidgets=void 0;class D extends y.ViewPart{constructor(t,i){super(t),this._viewDomNode=i,this._widgets={},this.domNode=(0,k.createFastDomNode)(document.createElement("div")),y.PartFingerprints.write(this.domNode,1),this.domNode.setClassName("contentWidgets"),this.domNode.setPosition("absolute"),this.domNode.setTop(0),this.overflowingContentWidgetsDomNode=(0,k.createFastDomNode)(document.createElement("div")),y.PartFingerprints.write(this.overflowingContentWidgetsDomNode,2),this.overflowingContentWidgetsDomNode.setClassName("overflowingContentWidgets")}dispose(){super.dispose(),this._widgets={}}onConfigurationChanged(t){const i=Object.keys(this._widgets);for(const o of i)this._widgets[o].onConfigurationChanged(t);return!0}onDecorationsChanged(t){return!0}onFlushed(t){return!0}onLineMappingChanged(t){return this._updateAnchorsViewPositions(),!0}onLinesChanged(t){return this._updateAnchorsViewPositions(),!0}onLinesDeleted(t){return this._updateAnchorsViewPositions(),!0}onLinesInserted(t){return this._updateAnchorsViewPositions(),!0}onScrollChanged(t){return!0}onZonesChanged(t){return!0}_updateAnchorsViewPositions(){const t=Object.keys(this._widgets);for(const i of t)this._widgets[i].updateAnchorViewPosition()}addWidget(t){const i=new S(this._context,this._viewDomNode,t);this._widgets[i.id]=i,i.allowEditorOverflow?this.overflowingContentWidgetsDomNode.appendChild(i.domNode):this.domNode.appendChild(i.domNode),this.setShouldRender()}setWidgetPosition(t,i,o,r,d){this._widgets[t.getId()].setPosition(i,o,r,d),this.setShouldRender()}removeWidget(t){const i=t.getId();if(this._widgets.hasOwnProperty(i)){const o=this._widgets[i];delete this._widgets[i];const r=o.domNode.domNode;r.parentNode.removeChild(r),r.removeAttribute("monaco-visible-content-widget"),this.setShouldRender()}}shouldSuppressMouseDownOnWidget(t){return this._widgets.hasOwnProperty(t)?this._widgets[t].suppressMouseDown:!1}onBeforeRender(t){const i=Object.keys(this._widgets);for(const o of i)this._widgets[o].onBeforeRender(t)}prepareRender(t){const i=Object.keys(this._widgets);for(const o of i)this._widgets[o].prepareRender(t)}render(t){const i=Object.keys(this._widgets);for(const o of i)this._widgets[o].render(t)}}e.ViewContentWidgets=D;class S{constructor(t,i,o){this._primaryAnchor=new m(null,null),this._secondaryAnchor=new m(null,null),this._context=t,this._viewDomNode=i,this._actual=o,this.domNode=(0,k.createFastDomNode)(this._actual.getDomNode()),this.id=this._actual.getId(),this.allowEditorOverflow=this._actual.allowEditorOverflow||!1,this.suppressMouseDown=this._actual.suppressMouseDown||!1;const r=this._context.configuration.options,d=r.get(141);this._fixedOverflowWidgets=r.get(40),this._contentWidth=d.contentWidth,this._contentLeft=d.contentLeft,this._lineHeight=r.get(64),this._affinity=null,this._preference=[],this._cachedDomNodeOffsetWidth=-1,this._cachedDomNodeOffsetHeight=-1,this._maxWidth=this._getMaxWidth(),this._isVisible=!1,this._renderData=null,this.domNode.setPosition(this._fixedOverflowWidgets&&this.allowEditorOverflow?"fixed":"absolute"),this.domNode.setDisplay("none"),this.domNode.setVisibility("hidden"),this.domNode.setAttribute("widgetId",this.id),this.domNode.setMaxWidth(this._maxWidth)}onConfigurationChanged(t){const i=this._context.configuration.options;if(this._lineHeight=i.get(64),t.hasChanged(141)){const o=i.get(141);this._contentLeft=o.contentLeft,this._contentWidth=o.contentWidth,this._maxWidth=this._getMaxWidth()}}updateAnchorViewPosition(){this._setPosition(this._affinity,this._primaryAnchor.modelPosition,this._secondaryAnchor.modelPosition)}_setPosition(t,i,o){this._affinity=t,this._primaryAnchor=r(i,this._context.viewModel,this._affinity),this._secondaryAnchor=r(o,this._context.viewModel,this._affinity);function r(d,h,n){if(!d)return new m(null,null);const c=h.model.validatePosition(d);if(h.coordinatesConverter.modelPositionIsVisible(c)){const a=h.coordinatesConverter.convertModelPositionToViewPosition(c,n??void 0);return new m(d,a)}return new m(d,null)}}_getMaxWidth(){return this.allowEditorOverflow?window.innerWidth||document.documentElement.offsetWidth||document.body.offsetWidth:this._contentWidth}setPosition(t,i,o,r){this._setPosition(r,t,i),this._preference=o,this._primaryAnchor.viewPosition&&this._preference&&this._preference.length>0?this.domNode.setDisplay("block"):this.domNode.setDisplay("none"),this._cachedDomNodeOffsetWidth=-1,this._cachedDomNodeOffsetHeight=-1}_layoutBoxInViewport(t,i,o,r){const d=t.top,h=d,n=t.top+t.height,c=r.viewportHeight-n,a=d-o,l=h>=o,u=n,C=c>=o;let g=t.left;return g+i>r.scrollLeft+r.viewportWidth&&(g=r.scrollLeft+r.viewportWidth-i),g<r.scrollLeft&&(g=r.scrollLeft),{fitsAbove:l,aboveTop:a,fitsBelow:C,belowTop:u,left:g}}_layoutHorizontalSegmentInPage(t,i,o,r){const n=Math.max(15,i.left-r),c=Math.min(i.left+i.width+r,t.width-15);let a=i.left+o-window.scrollX;if(a+r>c){const l=a-(c-r);a-=l,o-=l}if(a<n){const l=a-n;a-=l,o-=l}return[o,a]}_layoutBoxInPage(t,i,o,r){const d=t.top-o,h=t.top+t.height,n=L.getDomNodePagePosition(this._viewDomNode.domNode),c=n.top+d-window.scrollY,a=n.top+h-window.scrollY,l=L.getClientArea(document.body),[u,C]=this._layoutHorizontalSegmentInPage(l,n,t.left-r.scrollLeft+this._contentLeft,i),g=22,v=22,b=c>=g,w=a+o<=l.height-v;return this._fixedOverflowWidgets?{fitsAbove:b,aboveTop:Math.max(c,g),fitsBelow:w,belowTop:a,left:C}:{fitsAbove:b,aboveTop:d,fitsBelow:w,belowTop:h,left:u}}_prepareRenderWidgetAtExactPositionOverflowing(t){return new _(t.top,t.left+this._contentLeft)}_getAnchorsCoordinates(t){var i,o;const r=n(this._primaryAnchor.viewPosition,this._affinity,this._lineHeight),d=((i=this._secondaryAnchor.viewPosition)===null||i===void 0?void 0:i.lineNumber)===((o=this._primaryAnchor.viewPosition)===null||o===void 0?void 0:o.lineNumber)?this._secondaryAnchor.viewPosition:null,h=n(d,this._affinity,this._lineHeight);return{primary:r,secondary:h};function n(c,a,l){if(!c)return null;const u=t.visibleRangeForPosition(c);if(!u)return null;const C=c.column===1&&a===3?0:u.left,g=t.getVerticalOffsetForLineNumber(c.lineNumber)-t.scrollTop;return new f(g,C,l)}}_reduceAnchorCoordinates(t,i,o){if(!i)return t;const r=this._context.configuration.options.get(48);let d=i.left;return d<t.left?d=Math.max(d,t.left-o+r.typicalFullwidthCharacterWidth):d=Math.min(d,t.left+o-r.typicalFullwidthCharacterWidth),new f(t.top,d,t.height)}_prepareRenderWidget(t){if(!this._preference||this._preference.length===0)return null;const{primary:i,secondary:o}=this._getAnchorsCoordinates(t);if(!i)return null;if(this._cachedDomNodeOffsetWidth===-1||this._cachedDomNodeOffsetHeight===-1){let h=null;if(typeof this._actual.beforeRender=="function"&&(h=p(this._actual.beforeRender,this._actual)),h)this._cachedDomNodeOffsetWidth=h.width,this._cachedDomNodeOffsetHeight=h.height;else{const c=this.domNode.domNode.getBoundingClientRect();this._cachedDomNodeOffsetWidth=Math.round(c.width),this._cachedDomNodeOffsetHeight=Math.round(c.height)}}const r=this._reduceAnchorCoordinates(i,o,this._cachedDomNodeOffsetWidth);let d;this.allowEditorOverflow?d=this._layoutBoxInPage(r,this._cachedDomNodeOffsetWidth,this._cachedDomNodeOffsetHeight,t):d=this._layoutBoxInViewport(r,this._cachedDomNodeOffsetWidth,this._cachedDomNodeOffsetHeight,t);for(let h=1;h<=2;h++)for(const n of this._preference)if(n===1){if(!d)return null;if(h===2||d.fitsAbove)return{coordinate:new _(d.aboveTop,d.left),position:1}}else if(n===2){if(!d)return null;if(h===2||d.fitsBelow)return{coordinate:new _(d.belowTop,d.left),position:2}}else return this.allowEditorOverflow?{coordinate:this._prepareRenderWidgetAtExactPositionOverflowing(new _(r.top,r.left)),position:0}:{coordinate:new _(r.top,r.left),position:0};return null}onBeforeRender(t){!this._primaryAnchor.viewPosition||!this._preference||this._primaryAnchor.viewPosition.lineNumber<t.startLineNumber||this._primaryAnchor.viewPosition.lineNumber>t.endLineNumber||this.domNode.setMaxWidth(this._maxWidth)}prepareRender(t){this._renderData=this._prepareRenderWidget(t)}render(t){if(!this._renderData){this._isVisible&&(this.domNode.removeAttribute("monaco-visible-content-widget"),this._isVisible=!1,this.domNode.setVisibility("hidden")),typeof this._actual.afterRender=="function"&&p(this._actual.afterRender,this._actual,null);return}this.allowEditorOverflow?(this.domNode.setTop(this._renderData.coordinate.top),this.domNode.setLeft(this._renderData.coordinate.left)):(this.domNode.setTop(this._renderData.coordinate.top+t.scrollTop-t.bigNumbersDelta),this.domNode.setLeft(this._renderData.coordinate.left)),this._isVisible||(this.domNode.setVisibility("inherit"),this.domNode.setAttribute("monaco-visible-content-widget","true"),this._isVisible=!0),typeof this._actual.afterRender=="function"&&p(this._actual.afterRender,this._actual,this._renderData.position)}}class m{constructor(t,i){this.modelPosition=t,this.viewPosition=i}}class _{constructor(t,i){this.top=t,this.left=i,this._coordinateBrand=void 0}}class f{constructor(t,i,o){this.top=t,this.left=i,this.height=o,this._anchorCoordinateBrand=void 0}}function p(s,t,...i){try{return s.call(t,...i)}catch{return null}}}),define(X[585],ee([1,0,130,2,42]),function(q,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiffEditorSash=void 0;class D extends k.Disposable{constructor(m,_,f){super(),this._options=m,this._domNode=_,this._dimensions=f,this._sashRatio=(0,y.observableValue)("sashRatio",void 0),this.sashLeft=(0,y.derived)("sashLeft",p=>{var s;const t=(s=this._sashRatio.read(p))!==null&&s!==void 0?s:this._options.splitViewDefaultRatio.read(p);return this._computeSashLeft(t,p)}),this._sash=this._register(new L.Sash(this._domNode,{getVerticalSashTop:p=>0,getVerticalSashLeft:p=>this.sashLeft.get(),getVerticalSashHeight:p=>this._dimensions.height.get()},{orientation:0})),this._startSashPosition=void 0,this._register(this._sash.onDidStart(()=>{this._startSashPosition=this.sashLeft.get()})),this._register(this._sash.onDidChange(p=>{const s=this._dimensions.width.get(),t=this._computeSashLeft((this._startSashPosition+(p.currentX-p.startX))/s,void 0);this._sashRatio.set(t/s,void 0)})),this._register(this._sash.onDidEnd(()=>this._sash.layout())),this._register(this._sash.onDidReset(()=>this._sashRatio.set(void 0,void 0))),this._register((0,y.autorun)("update sash layout",p=>{const s=this._options.enableSplitViewResizing.read(p);this._sash.state=s?3:0,this.sashLeft.read(p),this._sash.layout()}))}setBoundarySashes(m){this._sash.orthogonalEndSash=m.bottom}_computeSashLeft(m,_){const f=this._dimensions.width.read(_),p=Math.floor(this._options.splitViewDefaultRatio.read(_)*f),s=this._options.enableSplitViewResizing.read(_)?Math.floor(m*f):p,t=100;return f<=t*2?p:s<t?t:s>f-t?f-t:s}}e.DiffEditorSash=D}),define(X[314],ee([1,0,14,2,42,90,18,65,5,123,274,181,276,85]),function(q,e,L,k,y,D,S,m,_,f,p,s,t,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UnchangedRegion=e.DiffMapping=e.DiffState=e.DiffEditorViewModel=void 0;class o extends k.Disposable{constructor(g,v,b){super(),this.model=g,this._options=v,this._isDiffUpToDate=(0,y.observableValue)("isDiffUpToDate",!1),this.isDiffUpToDate=this._isDiffUpToDate,this._diff=(0,y.observableValue)("diff",void 0),this.diff=this._diff,this._unchangedRegions=(0,y.observableValue)("unchangedRegion",{regions:[],originalDecorationIds:[],modifiedDecorationIds:[]}),this.unchangedRegions=(0,y.derived)("unchangedRegions",T=>this._options.collapseUnchangedRegions.read(T)?this._unchangedRegions.read(T).regions:((0,y.transaction)(P=>{for(const A of this._unchangedRegions.get().regions)A.setState(0,0,P)}),[])),this.syncedMovedTexts=(0,y.observableValue)("syncedMovedText",void 0);const w=(0,y.observableSignal)("contentChangedSignal"),E=this._register(new L.RunOnceScheduler(()=>w.trigger(void 0),200));this._register(g.modified.onDidChangeContent(T=>{if(!this._diff.get())return;const A=s.TextEditInfo.fromModelContentChanges(T.changes),M=a(this._lastDiff,A,g.original,g.modified);if(M){this._lastDiff=M,this._diff.set(r.fromDiffResult(this._lastDiff),void 0);const N=this.syncedMovedTexts.get();this.syncedMovedTexts.set(N?this._lastDiff.moves.find(R=>R.lineRangeMapping.modifiedRange.intersect(N.lineRangeMapping.modifiedRange)):void 0,void 0)}E.schedule()})),this._register(g.original.onDidChangeContent(T=>{if(!this._diff.get())return;const A=s.TextEditInfo.fromModelContentChanges(T.changes),M=n(this._lastDiff,A,g.original,g.modified);if(M){this._lastDiff=M,this._diff.set(r.fromDiffResult(this._lastDiff),void 0);const N=this.syncedMovedTexts.get();this.syncedMovedTexts.set(N?this._lastDiff.moves.find(R=>R.lineRangeMapping.modifiedRange.intersect(N.lineRangeMapping.modifiedRange)):void 0,void 0)}E.schedule()}));const I=(0,y.observableSignalFromEvent)("documentDiffProviderOptionChanged",b.onDidChange);this._register((0,D.autorunWithStore2)("compute diff",(T,P)=>Le(this,void 0,void 0,function*(){var A,M;E.cancel(),w.read(T),I.read(T),this._isDiffUpToDate.set(!1,void 0);let N=[];P.add(g.original.onDidChangeContent(Q=>{const re=s.TextEditInfo.fromModelContentChanges(Q.changes);N=(0,t.combineTextEditInfos)(N,re)}));let R=[];P.add(g.modified.onDidChangeContent(Q=>{const re=s.TextEditInfo.fromModelContentChanges(Q.changes);R=(0,t.combineTextEditInfos)(R,re)}));let F=yield b.computeDiff(g.original,g.modified,{ignoreTrimWhitespace:this._options.ignoreTrimWhitespace.read(T),maxComputationTimeMs:this._options.maxComputationTimeMs.read(T),computeMoves:this._options.showMoves.read(T)});F=(A=n(F,N,g.original,g.modified))!==null&&A!==void 0?A:F,F=(M=a(F,R,g.original,g.modified))!==null&&M!==void 0?M:F;const x=h.fromDiffs(F.changes,g.original.getLineCount(),g.modified.getLineCount()),W=this._unchangedRegions.get(),z=W.originalDecorationIds.map(Q=>g.original.getDecorationRange(Q)).filter(Q=>!!Q).map(Q=>m.LineRange.fromRange(Q)),U=W.modifiedDecorationIds.map(Q=>g.modified.getDecorationRange(Q)).filter(Q=>!!Q).map(Q=>m.LineRange.fromRange(Q)),O=g.original.deltaDecorations(W.originalDecorationIds,x.map(Q=>({range:Q.originalRange.toInclusiveRange(),options:{description:"unchanged"}}))),G=g.modified.deltaDecorations(W.modifiedDecorationIds,x.map(Q=>({range:Q.modifiedRange.toInclusiveRange(),options:{description:"unchanged"}})));(0,y.transaction)(Q=>{for(const oe of x)for(let te=0;te<W.regions.length;te++)if(oe.originalRange.intersectsStrict(z[te])&&oe.modifiedRange.intersectsStrict(U[te])){oe.setHiddenModifiedRange(W.regions[te].getHiddenModifiedRange(void 0),Q);break}this._lastDiff=F,this._diff.set(r.fromDiffResult(F),Q),this._isDiffUpToDate.set(!0,Q);const re=this.syncedMovedTexts.get();this.syncedMovedTexts.set(re?this._lastDiff.moves.find(oe=>oe.lineRangeMapping.modifiedRange.intersect(re.lineRangeMapping.modifiedRange)):void 0,Q),this._unchangedRegions.set({regions:x,originalDecorationIds:O,modifiedDecorationIds:G},Q)})})))}ensureModifiedLineIsVisible(g,v){var b;if(((b=this.diff.get())===null||b===void 0?void 0:b.mappings.length)===0)return;const w=this._unchangedRegions.get().regions;for(const E of w)if(E.getHiddenModifiedRange(void 0).contains(g)){E.showAll(v);return}}ensureOriginalLineIsVisible(g,v){var b;if(((b=this.diff.get())===null||b===void 0?void 0:b.mappings.length)===0)return;const w=this._unchangedRegions.get().regions;for(const E of w)if(E.getHiddenOriginalRange(void 0).contains(g)){E.showAll(v);return}}waitForDiff(){return Le(this,void 0,void 0,function*(){yield(0,y.waitForState)(this.isDiffUpToDate,g=>g)})}serializeState(){return{collapsedRegions:this._unchangedRegions.get().regions.map(v=>({range:v.getHiddenModifiedRange(void 0).serialize()}))}}restoreSerializedState(g){const v=g.collapsedRegions.map(w=>m.LineRange.deserialize(w.range)),b=this._unchangedRegions.get();(0,y.transaction)(w=>{for(const E of b.regions)for(const I of v)if(E.modifiedRange.intersect(I)){E.setHiddenModifiedRange(I,w);break}})}}e.DiffEditorViewModel=o;class r{static fromDiffResult(g){return new r(g.changes.map(v=>new d(v)),g.moves||[],g.identical,g.quitEarly)}constructor(g,v,b,w){this.mappings=g,this.movedTexts=v,this.identical=b,this.quitEarly=w}}e.DiffState=r;class d{constructor(g){this.lineRangeMapping=g}}e.DiffMapping=d;class h{static fromDiffs(g,v,b){const w=f.LineRangeMapping.inverse(g,v,b),E=[],I=3,T=3;for(const P of w){let A=P.originalRange.startLineNumber,M=P.modifiedRange.startLineNumber,N=P.originalRange.length;A===1&&M===1&&N>T+I?(N<v&&(N-=T),E.push(new h(A,M,N,0,0))):A+N===v+1&&M+N===b+1&&N>T+I?(A+=T,M+=T,N-=T,E.push(new h(A,M,N,0,0))):N>T*2+I&&(A+=T,M+=T,N-=T*2,E.push(new h(A,M,N,0,0)))}return E}get originalRange(){return m.LineRange.ofLength(this.originalLineNumber,this.lineCount)}get modifiedRange(){return m.LineRange.ofLength(this.modifiedLineNumber,this.lineCount)}constructor(g,v,b,w,E){this.originalLineNumber=g,this.modifiedLineNumber=v,this.lineCount=b,this._visibleLineCountTop=(0,y.observableValue)("visibleLineCountTop",0),this.visibleLineCountTop=this._visibleLineCountTop,this._visibleLineCountBottom=(0,y.observableValue)("visibleLineCountBottom",0),this.visibleLineCountBottom=this._visibleLineCountBottom,this._shouldHideControls=(0,y.derived)("isVisible",I=>this.visibleLineCountTop.read(I)+this.visibleLineCountBottom.read(I)===this.lineCount&&!this.isDragged.read(I)),this.isDragged=(0,y.observableValue)("isDragged",!1),this._visibleLineCountTop.set(w,void 0),this._visibleLineCountBottom.set(E,void 0)}shouldHideControls(g){return this._shouldHideControls.read(g)}getHiddenOriginalRange(g){return m.LineRange.ofLength(this.originalLineNumber+this._visibleLineCountTop.read(g),this.lineCount-this._visibleLineCountTop.read(g)-this._visibleLineCountBottom.read(g))}getHiddenModifiedRange(g){return m.LineRange.ofLength(this.modifiedLineNumber+this._visibleLineCountTop.read(g),this.lineCount-this._visibleLineCountTop.read(g)-this._visibleLineCountBottom.read(g))}setHiddenModifiedRange(g,v){const b=g.startLineNumber-this.modifiedLineNumber,w=this.modifiedLineNumber+this.lineCount-g.endLineNumberExclusive;this.setState(b,w,v)}getMaxVisibleLineCountTop(){return this.lineCount-this._visibleLineCountBottom.get()}getMaxVisibleLineCountBottom(){return this.lineCount-this._visibleLineCountTop.get()}showMoreAbove(g=10,v){const b=this.getMaxVisibleLineCountTop();this._visibleLineCountTop.set(Math.min(this._visibleLineCountTop.get()+g,b),v)}showMoreBelow(g=10,v){const b=this.lineCount-this._visibleLineCountTop.get();this._visibleLineCountBottom.set(Math.min(this._visibleLineCountBottom.get()+g,b),v)}showAll(g){this._visibleLineCountBottom.set(this.lineCount-this._visibleLineCountTop.get(),g)}setState(g,v,b){g=Math.max(Math.min(g,this.lineCount),0),v=Math.max(Math.min(v,this.lineCount-g),0),this._visibleLineCountTop.set(g,b),this._visibleLineCountBottom.set(v,b)}}e.UnchangedRegion=h;function n(C,g,v,b){if(g.length===0)return C;const w=c(C),E=a(w,g,b,v);if(E)return c(E)}function c(C){return{changes:C.changes.map(g=>g.flip()),moves:C.moves.map(g=>g.flip()),identical:C.identical,quitEarly:C.quitEarly}}function a(C,g,v,b){if(g.length===0)return C;if(C.changes.some(I=>!I.innerChanges)||C.moves.length>0)return;const w=u(C.changes,g,v,b),E=C.moves.map(I=>{const T=l(I.lineRangeMapping.modifiedRange,g);return T?new f.MovedText(new f.SimpleLineRangeMapping(I.lineRangeMapping.originalRange,T),u(I.changes,g,v,b)):void 0}).filter(S.isDefined);return{identical:!1,quitEarly:!1,changes:w,moves:E}}function l(C,g){let v=C.startLineNumber,b=C.endLineNumberExclusive;for(let w=g.length-1;w>=0;w--){const E=g[w],I=(0,i.lengthGetLineCount)(E.startOffset)+1,T=(0,i.lengthGetLineCount)(E.endOffset)+1,A=(0,i.lengthGetLineCount)(E.newLength)-(T-I);if(T<v)v+=A,b+=A;else if(!(I>b)){if(I<v&&b<T)return;I<v&&T<=b?(v=T+1,v+=A,b+=A):v<=I&&T<v?b=I:b+=A}}return new m.LineRange(v,b)}function u(C,g,v,b){const w=C.flatMap(M=>M.innerChanges.map(N=>new s.TextEditInfo((0,i.positionToLength)(N.originalRange.getStartPosition()),(0,i.positionToLength)(N.originalRange.getEndPosition()),(0,i.lengthOfRange)(N.modifiedRange).toLength()))),E=(0,t.combineTextEditInfos)(w,g);let I=i.lengthZero,T=i.lengthZero;const P=E.map(M=>{const N=(0,i.lengthAdd)(T,(0,i.lengthDiffNonNegative)(I,M.startOffset));return I=M.endOffset,T=(0,i.lengthAdd)(N,M.newLength),new f.RangeMapping(_.Range.fromPositions((0,i.lengthToPosition)(M.startOffset),(0,i.lengthToPosition)(M.endOffset)),_.Range.fromPositions((0,i.lengthToPosition)(N),(0,i.lengthToPosition)(T)))});return(0,p.lineRangeMappingFromRangeMappings)(P,v.getLinesContent(),b.getLinesContent())}}),define(X[92],ee([1,0,9,17,138]),function(q,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StringBuilder=e.decodeUTF16LE=e.getPlatformTextDecoder=void 0;let D;function S(){return D||(D=new TextDecoder("UTF-16LE")),D}let m;function _(){return m||(m=new TextDecoder("UTF-16BE")),m}let f;function p(){return f||(f=k.isLittleEndian()?S():_()),f}e.getPlatformTextDecoder=p;function s(o,r,d){const h=new Uint16Array(o.buffer,r,d);return d>0&&(h[0]===65279||h[0]===65534)?t(o,r,d):S().decode(h)}e.decodeUTF16LE=s;function t(o,r,d){const h=[];let n=0;for(let c=0;c<d;c++){const a=y.readUInt16LE(o,r);r+=2,h[n++]=String.fromCharCode(a)}return h.join("")}class i{constructor(r){this._capacity=r|0,this._buffer=new Uint16Array(this._capacity),this._completedStrings=null,this._bufferLength=0}reset(){this._completedStrings=null,this._bufferLength=0}build(){return this._completedStrings!==null?(this._flushBuffer(),this._completedStrings.join("")):this._buildBuffer()}_buildBuffer(){if(this._bufferLength===0)return"";const r=new Uint16Array(this._buffer.buffer,0,this._bufferLength);return p().decode(r)}_flushBuffer(){const r=this._buildBuffer();this._bufferLength=0,this._completedStrings===null?this._completedStrings=[r]:this._completedStrings[this._completedStrings.length]=r}appendCharCode(r){const d=this._capacity-this._bufferLength;d<=1&&(d===0||L.isHighSurrogate(r))&&this._flushBuffer(),this._buffer[this._bufferLength++]=r}appendASCIICharCode(r){this._bufferLength===this._capacity&&this._flushBuffer(),this._buffer[this._bufferLength++]=r}appendString(r){const d=r.length;if(this._bufferLength+d>=this._capacity){this._flushBuffer(),this._completedStrings[this._completedStrings.length]=r;return}for(let h=0;h<d;h++)this._buffer[this._bufferLength++]=r.charCodeAt(h)}}e.StringBuilder=i}),define(X[586],ee([1,0,89,9,59,92,282,110]),function(q,e,L,k,y,D,S,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DOMLineBreaksComputerFactory=void 0;const _=(0,L.createTrustedTypesPolicy)("domLineBreaksComputer",{createHTML:r=>r});class f{static create(){return new f}constructor(){}createLineBreaksComputer(d,h,n,c,a){const l=[],u=[];return{addRequest:(C,g,v)=>{l.push(C),u.push(g)},finalize:()=>p(l,d,h,n,c,a,u)}}}e.DOMLineBreaksComputerFactory=f;function p(r,d,h,n,c,a,l){var u;function C(U){const O=l[U];if(O){const G=m.LineInjectedText.applyInjectedText(r[U],O),Q=O.map(oe=>oe.options),re=O.map(oe=>oe.column-1);return new S.ModelLineProjectionData(re,Q,[G.length],[],0)}else return null}if(n===-1){const U=[];for(let O=0,G=r.length;O<G;O++)U[O]=C(O);return U}const g=Math.round(n*d.typicalHalfwidthCharacterWidth),b=Math.round(h*(c===3?2:c===2?1:0)),w=Math.ceil(d.spaceWidth*b),E=document.createElement("div");(0,y.applyFontInfo)(E,d);const I=new D.StringBuilder(1e4),T=[],P=[],A=[],M=[],N=[];for(let U=0;U<r.length;U++){const O=m.LineInjectedText.applyInjectedText(r[U],l[U]);let G=0,Q=0,re=g;if(c!==0)if(G=k.firstNonWhitespaceIndex(O),G===-1)G=0;else{for(let B=0;B<G;B++){const K=O.charCodeAt(B)===9?h-Q%h:1;Q+=K}const H=Math.ceil(d.spaceWidth*Q);H+d.typicalFullwidthCharacterWidth>g?(G=0,Q=0):re=g-H}const oe=O.substr(G),te=s(oe,Q,h,re,I,w);T[U]=G,P[U]=Q,A[U]=oe,M[U]=te[0],N[U]=te[1]}const R=I.build(),F=(u=_?.createHTML(R))!==null&&u!==void 0?u:R;E.innerHTML=F,E.style.position="absolute",E.style.top="10000",a==="keepAll"?(E.style.wordBreak="keep-all",E.style.overflowWrap="anywhere"):(E.style.wordBreak="inherit",E.style.overflowWrap="break-word"),document.body.appendChild(E);const x=document.createRange(),W=Array.prototype.slice.call(E.children,0),z=[];for(let U=0;U<r.length;U++){const O=W[U],G=t(x,O,A[U],M[U]);if(G===null){z[U]=C(U);continue}const Q=T[U],re=P[U]+b,oe=N[U],te=[];for(let Z=0,J=G.length;Z<J;Z++)te[Z]=oe[G[Z]];if(Q!==0)for(let Z=0,J=G.length;Z<J;Z++)G[Z]+=Q;let H,B;const K=l[U];K?(H=K.map(Z=>Z.options),B=K.map(Z=>Z.column-1)):(H=null,B=null),z[U]=new S.ModelLineProjectionData(B,H,G,te,re)}return document.body.removeChild(E),z}function s(r,d,h,n,c,a){if(a!==0){const w=String(a);c.appendString('<div style="text-indent: -'),c.appendString(w),c.appendString("px; padding-left: "),c.appendString(w),c.appendString("px; box-sizing: border-box; width:")}else c.appendString('<div style="width:');c.appendString(String(n)),c.appendString('px;">');const l=r.length;let u=d,C=0;const g=[],v=[];let b=0<l?r.charCodeAt(0):0;c.appendString("<span>");for(let w=0;w<l;w++){w!==0&&w%16384===0&&c.appendString("</span><span>"),g[w]=C,v[w]=u;const E=b;b=w+1<l?r.charCodeAt(w+1):0;let I=1,T=1;switch(E){case 9:I=h-u%h,T=I;for(let P=1;P<=I;P++)P<I?c.appendCharCode(160):c.appendASCIICharCode(32);break;case 32:b===32?c.appendCharCode(160):c.appendASCIICharCode(32);break;case 60:c.appendString("&lt;");break;case 62:c.appendString("&gt;");break;case 38:c.appendString("&amp;");break;case 0:c.appendString("&#00;");break;case 65279:case 8232:case 8233:case 133:c.appendCharCode(65533);break;default:k.isFullWidthCharacter(E)&&T++,E<32?c.appendCharCode(9216+E):c.appendCharCode(E)}C+=I,u+=T}return c.appendString("</span>"),g[r.length]=C,v[r.length]=u,c.appendString("</div>"),[g,v]}function t(r,d,h,n){if(h.length<=1)return null;const c=Array.prototype.slice.call(d.children,0),a=[];try{i(r,c,n,0,null,h.length-1,null,a)}catch(l){return console.log(l),null}return a.length===0?null:(a.push(h.length),a)}function i(r,d,h,n,c,a,l,u){if(n===a||(c=c||o(r,d,h[n],h[n+1]),l=l||o(r,d,h[a],h[a+1]),Math.abs(c[0].top-l[0].top)<=.1))return;if(n+1===a){u.push(a);return}const C=n+(a-n)/2|0,g=o(r,d,h[C],h[C+1]);i(r,d,h,n,c,C,g,u),i(r,d,h,C,g,a,l,u)}function o(r,d,h,n){return r.setStart(d[h/16384|0].firstChild,h%16384),r.setEnd(d[n/16384|0].firstChild,n%16384),r.getClientRects()}}),define(X[230],ee([1,0,34,89,12,92]),function(q,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VisibleLinesCollection=e.RenderedLinesCollection=void 0;class S{constructor(p){this._createLine=p,this._set(1,[])}flush(){this._set(1,[])}_set(p,s){this._lines=s,this._rendLineNumberStart=p}_get(){return{rendLineNumberStart:this._rendLineNumberStart,lines:this._lines}}getStartLineNumber(){return this._rendLineNumberStart}getEndLineNumber(){return this._rendLineNumberStart+this._lines.length-1}getCount(){return this._lines.length}getLine(p){const s=p-this._rendLineNumberStart;if(s<0||s>=this._lines.length)throw new y.BugIndicatingError("Illegal value for lineNumber");return this._lines[s]}onLinesDeleted(p,s){if(this.getCount()===0)return null;const t=this.getStartLineNumber(),i=this.getEndLineNumber();if(s<t){const h=s-p+1;return this._rendLineNumberStart-=h,null}if(p>i)return null;let o=0,r=0;for(let h=t;h<=i;h++){const n=h-this._rendLineNumberStart;p<=h&&h<=s&&(r===0?(o=n,r=1):r++)}if(p<t){let h=0;s<t?h=s-p+1:h=t-p,this._rendLineNumberStart-=h}return this._lines.splice(o,r)}onLinesChanged(p,s){const t=p+s-1;if(this.getCount()===0)return!1;const i=this.getStartLineNumber(),o=this.getEndLineNumber();let r=!1;for(let d=p;d<=t;d++)d>=i&&d<=o&&(this._lines[d-this._rendLineNumberStart].onContentChanged(),r=!0);return r}onLinesInserted(p,s){if(this.getCount()===0)return null;const t=s-p+1,i=this.getStartLineNumber(),o=this.getEndLineNumber();if(p<=i)return this._rendLineNumberStart+=t,null;if(p>o)return null;if(t+p>o)return this._lines.splice(p-this._rendLineNumberStart,o-p+1);const r=[];for(let a=0;a<t;a++)r[a]=this._createLine();const d=p-this._rendLineNumberStart,h=this._lines.slice(0,d),n=this._lines.slice(d,this._lines.length-t),c=this._lines.slice(this._lines.length-t,this._lines.length);return this._lines=h.concat(r).concat(n),c}onTokensChanged(p){if(this.getCount()===0)return!1;const s=this.getStartLineNumber(),t=this.getEndLineNumber();let i=!1;for(let o=0,r=p.length;o<r;o++){const d=p[o];if(d.toLineNumber<s||d.fromLineNumber>t)continue;const h=Math.max(s,d.fromLineNumber),n=Math.min(t,d.toLineNumber);for(let c=h;c<=n;c++){const a=c-this._rendLineNumberStart;this._lines[a].onTokensChanged(),i=!0}}return i}}e.RenderedLinesCollection=S;class m{constructor(p){this._host=p,this.domNode=this._createDomNode(),this._linesCollection=new S(()=>this._host.createVisibleLine())}_createDomNode(){const p=(0,L.createFastDomNode)(document.createElement("div"));return p.setClassName("view-layer"),p.setPosition("absolute"),p.domNode.setAttribute("role","presentation"),p.domNode.setAttribute("aria-hidden","true"),p}onConfigurationChanged(p){return!!p.hasChanged(141)}onFlushed(p){return this._linesCollection.flush(),!0}onLinesChanged(p){return this._linesCollection.onLinesChanged(p.fromLineNumber,p.count)}onLinesDeleted(p){const s=this._linesCollection.onLinesDeleted(p.fromLineNumber,p.toLineNumber);if(s)for(let t=0,i=s.length;t<i;t++){const o=s[t].getDomNode();o&&this.domNode.domNode.removeChild(o)}return!0}onLinesInserted(p){const s=this._linesCollection.onLinesInserted(p.fromLineNumber,p.toLineNumber);if(s)for(let t=0,i=s.length;t<i;t++){const o=s[t].getDomNode();o&&this.domNode.domNode.removeChild(o)}return!0}onScrollChanged(p){return p.scrollTopChanged}onTokensChanged(p){return this._linesCollection.onTokensChanged(p.ranges)}onZonesChanged(p){return!0}getStartLineNumber(){return this._linesCollection.getStartLineNumber()}getEndLineNumber(){return this._linesCollection.getEndLineNumber()}getVisibleLine(p){return this._linesCollection.getLine(p)}renderLines(p){const s=this._linesCollection._get(),t=new _(this.domNode.domNode,this._host,p),i={rendLineNumberStart:s.rendLineNumberStart,lines:s.lines,linesLength:s.lines.length},o=t.render(i,p.startLineNumber,p.endLineNumber,p.relativeVerticalOffset);this._linesCollection._set(o.rendLineNumberStart,o.lines)}}e.VisibleLinesCollection=m;class _{constructor(p,s,t){this.domNode=p,this.host=s,this.viewportData=t}render(p,s,t,i){const o={rendLineNumberStart:p.rendLineNumberStart,lines:p.lines.slice(0),linesLength:p.linesLength};if(o.rendLineNumberStart+o.linesLength-1<s||t<o.rendLineNumberStart){o.rendLineNumberStart=s,o.linesLength=t-s+1,o.lines=[];for(let r=s;r<=t;r++)o.lines[r-s]=this.host.createVisibleLine();return this._finishRendering(o,!0,i),o}if(this._renderUntouchedLines(o,Math.max(s-o.rendLineNumberStart,0),Math.min(t-o.rendLineNumberStart,o.linesLength-1),i,s),o.rendLineNumberStart>s){const r=s,d=Math.min(t,o.rendLineNumberStart-1);r<=d&&(this._insertLinesBefore(o,r,d,i,s),o.linesLength+=d-r+1)}else if(o.rendLineNumberStart<s){const r=Math.min(o.linesLength,s-o.rendLineNumberStart);r>0&&(this._removeLinesBefore(o,r),o.linesLength-=r)}if(o.rendLineNumberStart=s,o.rendLineNumberStart+o.linesLength-1<t){const r=o.rendLineNumberStart+o.linesLength,d=t;r<=d&&(this._insertLinesAfter(o,r,d,i,s),o.linesLength+=d-r+1)}else if(o.rendLineNumberStart+o.linesLength-1>t){const r=Math.max(0,t-o.rendLineNumberStart+1),h=o.linesLength-1-r+1;h>0&&(this._removeLinesAfter(o,h),o.linesLength-=h)}return this._finishRendering(o,!1,i),o}_renderUntouchedLines(p,s,t,i,o){const r=p.rendLineNumberStart,d=p.lines;for(let h=s;h<=t;h++){const n=r+h;d[h].layoutLine(n,i[n-o])}}_insertLinesBefore(p,s,t,i,o){const r=[];let d=0;for(let h=s;h<=t;h++)r[d++]=this.host.createVisibleLine();p.lines=r.concat(p.lines)}_removeLinesBefore(p,s){for(let t=0;t<s;t++){const i=p.lines[t].getDomNode();i&&this.domNode.removeChild(i)}p.lines.splice(0,s)}_insertLinesAfter(p,s,t,i,o){const r=[];let d=0;for(let h=s;h<=t;h++)r[d++]=this.host.createVisibleLine();p.lines=p.lines.concat(r)}_removeLinesAfter(p,s){const t=p.linesLength-s;for(let i=0;i<s;i++){const o=p.lines[t+i].getDomNode();o&&this.domNode.removeChild(o)}p.lines.splice(t,s)}_finishRenderingNewLines(p,s,t,i){_._ttPolicy&&(t=_._ttPolicy.createHTML(t));const o=this.domNode.lastChild;s||!o?this.domNode.innerHTML=t:o.insertAdjacentHTML("afterend",t);let r=this.domNode.lastChild;for(let d=p.linesLength-1;d>=0;d--){const h=p.lines[d];i[d]&&(h.setDomNode(r),r=r.previousSibling)}}_finishRenderingInvalidLines(p,s,t){const i=document.createElement("div");_._ttPolicy&&(s=_._ttPolicy.createHTML(s)),i.innerHTML=s;for(let o=0;o<p.linesLength;o++){const r=p.lines[o];if(t[o]){const d=i.firstChild,h=r.getDomNode();h.parentNode.replaceChild(d,h),r.setDomNode(d)}}}_finishRendering(p,s,t){const i=_._sb,o=p.linesLength,r=p.lines,d=p.rendLineNumberStart,h=[];{i.reset();let n=!1;for(let c=0;c<o;c++){const a=r[c];h[c]=!1,!(a.getDomNode()||!a.renderLine(c+d,t[c],this.viewportData,i))&&(h[c]=!0,n=!0)}n&&this._finishRenderingNewLines(p,s,i.build(),h)}{i.reset();let n=!1;const c=[];for(let a=0;a<o;a++){const l=r[a];c[a]=!1,!(h[a]||!l.renderLine(a+d,t[a],this.viewportData,i))&&(c[a]=!0,n=!0)}n&&this._finishRenderingInvalidLines(p,i.build(),c)}}}_._ttPolicy=(0,k.createTrustedTypesPolicy)("editorViewLayer",{createHTML:f=>f}),_._sb=new D.StringBuilder(1e5)}),define(X[587],ee([1,0,34,59,230,52]),function(q,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarginViewOverlays=e.ContentViewOverlays=e.ViewOverlayLine=e.ViewOverlays=void 0;class S extends D.ViewPart{constructor(s){super(s),this._visibleLines=new y.VisibleLinesCollection(this),this.domNode=this._visibleLines.domNode;const i=this._context.configuration.options.get(48);(0,k.applyFontInfo)(this.domNode,i),this._dynamicOverlays=[],this._isFocused=!1,this.domNode.setClassName("view-overlays")}shouldRender(){if(super.shouldRender())return!0;for(let s=0,t=this._dynamicOverlays.length;s<t;s++)if(this._dynamicOverlays[s].shouldRender())return!0;return!1}dispose(){super.dispose();for(let s=0,t=this._dynamicOverlays.length;s<t;s++)this._dynamicOverlays[s].dispose();this._dynamicOverlays=[]}getDomNode(){return this.domNode}createVisibleLine(){return new m(this._context.configuration,this._dynamicOverlays)}addDynamicOverlay(s){this._dynamicOverlays.push(s)}onConfigurationChanged(s){this._visibleLines.onConfigurationChanged(s);const t=this._visibleLines.getStartLineNumber(),i=this._visibleLines.getEndLineNumber();for(let d=t;d<=i;d++)this._visibleLines.getVisibleLine(d).onConfigurationChanged(s);const r=this._context.configuration.options.get(48);return(0,k.applyFontInfo)(this.domNode,r),!0}onFlushed(s){return this._visibleLines.onFlushed(s)}onFocusChanged(s){return this._isFocused=s.isFocused,!0}onLinesChanged(s){return this._visibleLines.onLinesChanged(s)}onLinesDeleted(s){return this._visibleLines.onLinesDeleted(s)}onLinesInserted(s){return this._visibleLines.onLinesInserted(s)}onScrollChanged(s){return this._visibleLines.onScrollChanged(s)||!0}onTokensChanged(s){return this._visibleLines.onTokensChanged(s)}onZonesChanged(s){return this._visibleLines.onZonesChanged(s)}prepareRender(s){const t=this._dynamicOverlays.filter(i=>i.shouldRender());for(let i=0,o=t.length;i<o;i++){const r=t[i];r.prepareRender(s),r.onDidRender()}}render(s){this._viewOverlaysRender(s),this.domNode.toggleClassName("focused",this._isFocused)}_viewOverlaysRender(s){this._visibleLines.renderLines(s.viewportData)}}e.ViewOverlays=S;class m{constructor(s,t){this._configuration=s,this._lineHeight=this._configuration.options.get(64),this._dynamicOverlays=t,this._domNode=null,this._renderedContent=null}getDomNode(){return this._domNode?this._domNode.domNode:null}setDomNode(s){this._domNode=(0,L.createFastDomNode)(s)}onContentChanged(){}onTokensChanged(){}onConfigurationChanged(s){this._lineHeight=this._configuration.options.get(64)}renderLine(s,t,i,o){let r="";for(let d=0,h=this._dynamicOverlays.length;d<h;d++){const n=this._dynamicOverlays[d];r+=n.render(i.startLineNumber,s)}return this._renderedContent===r?!1:(this._renderedContent=r,o.appendString('<div style="position:absolute;top:'),o.appendString(String(t)),o.appendString("px;width:100%;height:"),o.appendString(String(this._lineHeight)),o.appendString('px;">'),o.appendString(r),o.appendString("</div>"),!0)}layoutLine(s,t){this._domNode&&(this._domNode.setTop(t),this._domNode.setHeight(this._lineHeight))}}e.ViewOverlayLine=m;class _ extends S{constructor(s){super(s);const i=this._context.configuration.options.get(141);this._contentWidth=i.contentWidth,this.domNode.setHeight(0)}onConfigurationChanged(s){const i=this._context.configuration.options.get(141);return this._contentWidth=i.contentWidth,super.onConfigurationChanged(s)||!0}onScrollChanged(s){return super.onScrollChanged(s)||s.scrollWidthChanged}_viewOverlaysRender(s){super._viewOverlaysRender(s),this.domNode.setWidth(Math.max(s.scrollWidth,this._contentWidth))}}e.ContentViewOverlays=_;class f extends S{constructor(s){super(s);const t=this._context.configuration.options,i=t.get(141);this._contentLeft=i.contentLeft,this.domNode.setClassName("margin-view-overlays"),this.domNode.setWidth(1),(0,k.applyFontInfo)(this.domNode,t.get(48))}onConfigurationChanged(s){const t=this._context.configuration.options;(0,k.applyFontInfo)(this.domNode,t.get(48));const i=t.get(141);return this._contentLeft=i.contentLeft,super.onConfigurationChanged(s)||!0}onScrollChanged(s){return super.onScrollChanged(s)||s.scrollHeightChanged}_viewOverlaysRender(s){super._viewOverlaysRender(s);const t=Math.min(s.scrollHeight,1e6);this.domNode.setHeight(t),this.domNode.setWidth(this._contentLeft)}}e.MarginViewOverlays=f}),define(X[315],ee([1,0,138,92]),function(q,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.compressConsecutiveTextChanges=e.TextChange=void 0;function y(_){return _.replace(/\n/g,"\\n").replace(/\r/g,"\\r")}class D{get oldLength(){return this.oldText.length}get oldEnd(){return this.oldPosition+this.oldText.length}get newLength(){return this.newText.length}get newEnd(){return this.newPosition+this.newText.length}constructor(f,p,s,t){this.oldPosition=f,this.oldText=p,this.newPosition=s,this.newText=t}toString(){return this.oldText.length===0?`(insert@${this.oldPosition} "${y(this.newText)}")`:this.newText.length===0?`(delete@${this.oldPosition} "${y(this.oldText)}")`:`(replace@${this.oldPosition} "${y(this.oldText)}" with "${y(this.newText)}")`}static _writeStringSize(f){return 4+2*f.length}static _writeString(f,p,s){const t=p.length;L.writeUInt32BE(f,t,s),s+=4;for(let i=0;i<t;i++)L.writeUInt16LE(f,p.charCodeAt(i),s),s+=2;return s}static _readString(f,p){const s=L.readUInt32BE(f,p);return p+=4,(0,k.decodeUTF16LE)(f,p,s)}writeSize(){return 4+4+D._writeStringSize(this.oldText)+D._writeStringSize(this.newText)}write(f,p){return L.writeUInt32BE(f,this.oldPosition,p),p+=4,L.writeUInt32BE(f,this.newPosition,p),p+=4,p=D._writeString(f,this.oldText,p),p=D._writeString(f,this.newText,p),p}static read(f,p,s){const t=L.readUInt32BE(f,p);p+=4;const i=L.readUInt32BE(f,p);p+=4;const o=D._readString(f,p);p+=D._writeStringSize(o);const r=D._readString(f,p);return p+=D._writeStringSize(r),s.push(new D(t,o,i,r)),p}}e.TextChange=D;function S(_,f){return _===null||_.length===0?f:new m(_,f).compress()}e.compressConsecutiveTextChanges=S;class m{constructor(f,p){this._prevEdits=f,this._currEdits=p,this._result=[],this._resultLen=0,this._prevLen=this._prevEdits.length,this._prevDeltaOffset=0,this._currLen=this._currEdits.length,this._currDeltaOffset=0}compress(){let f=0,p=0,s=this._getPrev(f),t=this._getCurr(p);for(;f<this._prevLen||p<this._currLen;){if(s===null){this._acceptCurr(t),t=this._getCurr(++p);continue}if(t===null){this._acceptPrev(s),s=this._getPrev(++f);continue}if(t.oldEnd<=s.newPosition){this._acceptCurr(t),t=this._getCurr(++p);continue}if(s.newEnd<=t.oldPosition){this._acceptPrev(s),s=this._getPrev(++f);continue}if(t.oldPosition<s.newPosition){const[h,n]=m._splitCurr(t,s.newPosition-t.oldPosition);this._acceptCurr(h),t=n;continue}if(s.newPosition<t.oldPosition){const[h,n]=m._splitPrev(s,t.oldPosition-s.newPosition);this._acceptPrev(h),s=n;continue}let r,d;if(t.oldEnd===s.newEnd)r=s,d=t,s=this._getPrev(++f),t=this._getCurr(++p);else if(t.oldEnd<s.newEnd){const[h,n]=m._splitPrev(s,t.oldLength);r=h,d=t,s=n,t=this._getCurr(++p)}else{const[h,n]=m._splitCurr(t,s.newLength);r=s,d=h,s=this._getPrev(++f),t=n}this._result[this._resultLen++]=new D(r.oldPosition,r.oldText,d.newPosition,d.newText),this._prevDeltaOffset+=r.newLength-r.oldLength,this._currDeltaOffset+=d.newLength-d.oldLength}const i=m._merge(this._result);return m._removeNoOps(i)}_acceptCurr(f){this._result[this._resultLen++]=m._rebaseCurr(this._prevDeltaOffset,f),this._currDeltaOffset+=f.newLength-f.oldLength}_getCurr(f){return f<this._currLen?this._currEdits[f]:null}_acceptPrev(f){this._result[this._resultLen++]=m._rebasePrev(this._currDeltaOffset,f),this._prevDeltaOffset+=f.newLength-f.oldLength}_getPrev(f){return f<this._prevLen?this._prevEdits[f]:null}static _rebaseCurr(f,p){return new D(p.oldPosition-f,p.oldText,p.newPosition,p.newText)}static _rebasePrev(f,p){return new D(p.oldPosition,p.oldText,p.newPosition+f,p.newText)}static _splitPrev(f,p){const s=f.newText.substr(0,p),t=f.newText.substr(p);return[new D(f.oldPosition,f.oldText,f.newPosition,s),new D(f.oldEnd,"",f.newPosition+p,t)]}static _splitCurr(f,p){const s=f.oldText.substr(0,p),t=f.oldText.substr(p);return[new D(f.oldPosition,s,f.newPosition,f.newText),new D(f.oldPosition+p,t,f.newEnd,"")]}static _merge(f){if(f.length===0)return f;const p=[];let s=0,t=f[0];for(let i=1;i<f.length;i++){const o=f[i];t.oldEnd===o.oldPosition?t=new D(t.oldPosition,t.oldText+o.oldText,t.newPosition,t.newText+o.newText):(p[s++]=t,t=o)}return p[s++]=t,p}static _removeNoOps(f){if(f.length===0)return f;const p=[];let s=0;for(let t=0;t<f.length;t++){const i=f[t];i.oldText!==i.newText&&(p[s++]=i)}return p}}}),define(X[588],ee([1,0,299,91]),function(q,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.score=void 0;function y(D,S,m,_,f,p){if(Array.isArray(D)){let s=0;for(const t of D){const i=y(t,S,m,_,f,p);if(i===10)return i;i>s&&(s=i)}return s}else{if(typeof D=="string")return _?D==="*"?5:D===m?10:0:0;if(D){const{language:s,pattern:t,scheme:i,hasAccessToAllModels:o,notebookType:r}=D;if(!_&&!o)return 0;r&&f&&(S=f);let d=0;if(i)if(i===S.scheme)d=10;else if(i==="*")d=5;else return 0;if(s)if(s===m)d=10;else if(s==="*")d=Math.max(d,5);else return 0;if(r)if(r===p)d=10;else if(r==="*"&&p!==void 0)d=Math.max(d,5);else return 0;if(t){let h;if(typeof t=="string"?h=t:h=Object.assign(Object.assign({},t),{base:(0,k.normalize)(t.base)}),h===S.fsPath||(0,L.match)(h,S.fsPath))d=10;else return 0}return d}else return 0}}e.score=y}),define(X[589],ee([1,0,6,2,47,588]),function(q,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LanguageFeatureRegistry=void 0;function S(p){return typeof p=="string"?!1:Array.isArray(p)?p.every(S):!!p.exclusive}class m{constructor(s,t,i,o){this.uri=s,this.languageId=t,this.notebookUri=i,this.notebookType=o}equals(s){var t,i;return this.notebookType===s.notebookType&&this.languageId===s.languageId&&this.uri.toString()===s.uri.toString()&&((t=this.notebookUri)===null||t===void 0?void 0:t.toString())===((i=s.notebookUri)===null||i===void 0?void 0:i.toString())}}class _{constructor(s){this._notebookInfoResolver=s,this._clock=0,this._entries=[],this._onDidChange=new L.Emitter,this.onDidChange=this._onDidChange.event}register(s,t){let i={selector:s,provider:t,_score:-1,_time:this._clock++};return this._entries.push(i),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),(0,k.toDisposable)(()=>{if(i){const o=this._entries.indexOf(i);o>=0&&(this._entries.splice(o,1),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),i=void 0)}})}has(s){return this.all(s).length>0}all(s){if(!s)return[];this._updateScores(s);const t=[];for(const i of this._entries)i._score>0&&t.push(i.provider);return t}ordered(s){const t=[];return this._orderedForEach(s,i=>t.push(i.provider)),t}orderedGroups(s){const t=[];let i,o;return this._orderedForEach(s,r=>{i&&o===r._score?i.push(r.provider):(o=r._score,i=[r.provider],t.push(i))}),t}_orderedForEach(s,t){this._updateScores(s);for(const i of this._entries)i._score>0&&t(i)}_updateScores(s){var t,i;const o=(t=this._notebookInfoResolver)===null||t===void 0?void 0:t.call(this,s.uri),r=o?new m(s.uri,s.getLanguageId(),o.uri,o.type):new m(s.uri,s.getLanguageId(),void 0,void 0);if(!(!((i=this._lastCandidate)===null||i===void 0)&&i.equals(r))){this._lastCandidate=r;for(const d of this._entries)if(d._score=(0,D.score)(d.selector,r.uri,r.languageId,(0,y.shouldSynchronizeModel)(s),r.notebookUri,r.notebookType),S(d.selector)&&d._score>0){for(const h of this._entries)h._score=0;d._score=1e3;break}this._entries.sort(_._compareByScoreAndTime)}}static _compareByScoreAndTime(s,t){return s._score<t._score?1:s._score>t._score?-1:f(s.selector)&&!f(t.selector)?1:!f(s.selector)&&f(t.selector)?-1:s._time<t._time?1:s._time>t._time?-1:0}}e.LanguageFeatureRegistry=_;function f(p){return typeof p=="string"?!1:Array.isArray(p)?p.some(f):!!p.isBuiltin}}),define(X[29],ee([1,0,25,21,5,509]),function(q,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TokenizationRegistry=e.LazyTokenizationSupport=e.InlayHintKind=e.Command=e.FoldingRangeKind=e.SymbolKinds=e.isLocationLink=e.DocumentHighlightKind=e.SignatureHelpTriggerKind=e.SelectedSuggestionInfo=e.InlineCompletionTriggerKind=e.CompletionItemKinds=e.EncodedTokenizationResult=e.TokenizationResult=e.Token=void 0;class S{constructor(l,u,C){this.offset=l,this.type=u,this.language=C,this._tokenBrand=void 0}toString(){return"("+this.offset+", "+this.type+")"}}e.Token=S;class m{constructor(l,u){this.tokens=l,this.endState=u,this._tokenizationResultBrand=void 0}}e.TokenizationResult=m;class _{constructor(l,u){this.tokens=l,this.endState=u,this._encodedTokenizationResultBrand=void 0}}e.EncodedTokenizationResult=_;var f;(function(a){const l=new Map;l.set(0,L.Codicon.symbolMethod),l.set(1,L.Codicon.symbolFunction),l.set(2,L.Codicon.symbolConstructor),l.set(3,L.Codicon.symbolField),l.set(4,L.Codicon.symbolVariable),l.set(5,L.Codicon.symbolClass),l.set(6,L.Codicon.symbolStruct),l.set(7,L.Codicon.symbolInterface),l.set(8,L.Codicon.symbolModule),l.set(9,L.Codicon.symbolProperty),l.set(10,L.Codicon.symbolEvent),l.set(11,L.Codicon.symbolOperator),l.set(12,L.Codicon.symbolUnit),l.set(13,L.Codicon.symbolValue),l.set(15,L.Codicon.symbolEnum),l.set(14,L.Codicon.symbolConstant),l.set(15,L.Codicon.symbolEnum),l.set(16,L.Codicon.symbolEnumMember),l.set(17,L.Codicon.symbolKeyword),l.set(27,L.Codicon.symbolSnippet),l.set(18,L.Codicon.symbolText),l.set(19,L.Codicon.symbolColor),l.set(20,L.Codicon.symbolFile),l.set(21,L.Codicon.symbolReference),l.set(22,L.Codicon.symbolCustomColor),l.set(23,L.Codicon.symbolFolder),l.set(24,L.Codicon.symbolTypeParameter),l.set(25,L.Codicon.account),l.set(26,L.Codicon.issues);function u(v){let b=l.get(v);return b||(console.info("No codicon found for CompletionItemKind "+v),b=L.Codicon.symbolProperty),b}a.toIcon=u;const C=new Map;C.set("method",0),C.set("function",1),C.set("constructor",2),C.set("field",3),C.set("variable",4),C.set("class",5),C.set("struct",6),C.set("interface",7),C.set("module",8),C.set("property",9),C.set("event",10),C.set("operator",11),C.set("unit",12),C.set("value",13),C.set("constant",14),C.set("enum",15),C.set("enum-member",16),C.set("enumMember",16),C.set("keyword",17),C.set("snippet",27),C.set("text",18),C.set("color",19),C.set("file",20),C.set("reference",21),C.set("customcolor",22),C.set("folder",23),C.set("type-parameter",24),C.set("typeParameter",24),C.set("account",25),C.set("issue",26);function g(v,b){let w=C.get(v);return typeof w>"u"&&!b&&(w=9),w}a.fromString=g})(f||(e.CompletionItemKinds=f={}));var p;(function(a){a[a.Automatic=0]="Automatic",a[a.Explicit=1]="Explicit"})(p||(e.InlineCompletionTriggerKind=p={}));class s{constructor(l,u,C,g){this.range=l,this.text=u,this.completionKind=C,this.isSnippetText=g}equals(l){return y.Range.lift(this.range).equalsRange(l.range)&&this.text===l.text&&this.completionKind===l.completionKind&&this.isSnippetText===l.isSnippetText}}e.SelectedSuggestionInfo=s;var t;(function(a){a[a.Invoke=1]="Invoke",a[a.TriggerCharacter=2]="TriggerCharacter",a[a.ContentChange=3]="ContentChange"})(t||(e.SignatureHelpTriggerKind=t={}));var i;(function(a){a[a.Text=0]="Text",a[a.Read=1]="Read",a[a.Write=2]="Write"})(i||(e.DocumentHighlightKind=i={}));function o(a){return a&&k.URI.isUri(a.uri)&&y.Range.isIRange(a.range)&&(y.Range.isIRange(a.originSelectionRange)||y.Range.isIRange(a.targetSelectionRange))}e.isLocationLink=o;var r;(function(a){const l=new Map;l.set(0,L.Codicon.symbolFile),l.set(1,L.Codicon.symbolModule),l.set(2,L.Codicon.symbolNamespace),l.set(3,L.Codicon.symbolPackage),l.set(4,L.Codicon.symbolClass),l.set(5,L.Codicon.symbolMethod),l.set(6,L.Codicon.symbolProperty),l.set(7,L.Codicon.symbolField),l.set(8,L.Codicon.symbolConstructor),l.set(9,L.Codicon.symbolEnum),l.set(10,L.Codicon.symbolInterface),l.set(11,L.Codicon.symbolFunction),l.set(12,L.Codicon.symbolVariable),l.set(13,L.Codicon.symbolConstant),l.set(14,L.Codicon.symbolString),l.set(15,L.Codicon.symbolNumber),l.set(16,L.Codicon.symbolBoolean),l.set(17,L.Codicon.symbolArray),l.set(18,L.Codicon.symbolObject),l.set(19,L.Codicon.symbolKey),l.set(20,L.Codicon.symbolNull),l.set(21,L.Codicon.symbolEnumMember),l.set(22,L.Codicon.symbolStruct),l.set(23,L.Codicon.symbolEvent),l.set(24,L.Codicon.symbolOperator),l.set(25,L.Codicon.symbolTypeParameter);function u(C){let g=l.get(C);return g||(console.info("No codicon found for SymbolKind "+C),g=L.Codicon.symbolProperty),g}a.toIcon=u})(r||(e.SymbolKinds=r={}));class d{static fromValue(l){switch(l){case"comment":return d.Comment;case"imports":return d.Imports;case"region":return d.Region}return new d(l)}constructor(l){this.value=l}}e.FoldingRangeKind=d,d.Comment=new d("comment"),d.Imports=new d("imports"),d.Region=new d("region");var h;(function(a){function l(u){return!u||typeof u!="object"?!1:typeof u.id=="string"&&typeof u.title=="string"}a.is=l})(h||(e.Command=h={}));var n;(function(a){a[a.Type=1]="Type",a[a.Parameter=2]="Parameter"})(n||(e.InlayHintKind=n={}));class c{constructor(l){this.createSupport=l,this._tokenizationSupport=null}dispose(){this._tokenizationSupport&&this._tokenizationSupport.then(l=>{l&&l.dispose()})}get tokenizationSupport(){return this._tokenizationSupport||(this._tokenizationSupport=this.createSupport()),this._tokenizationSupport}}e.LazyTokenizationSupport=c,e.TokenizationRegistry=new D.TokenizationRegistry}),define(X[154],ee([1,0,29]),function(q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.nullTokenizeEncoded=e.nullTokenize=e.NullState=void 0,e.NullState=new class{clone(){return this}equals(D){return this===D}};function k(D,S){return new L.TokenizationResult([new L.Token(0,"",D)],S)}e.nullTokenize=k;function y(D,S){const m=new Uint32Array(2);return m[0]=0,m[1]=(D<<0|0<<8|0<<11|1<<15|2<<24)>>>0,new L.EncodedTokenizationResult(m,S===null?e.NullState:S)}e.nullTokenizeEncoded=y}),define(X[231],ee([1,0,9,92,5]),function(q,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketsUtils=e.RichEditBrackets=e.RichEditBracket=void 0;class D{constructor(a,l,u,C,g,v){this._richEditBracketBrand=void 0,this.languageId=a,this.index=l,this.open=u,this.close=C,this.forwardRegex=g,this.reversedRegex=v,this._openSet=D._toSet(this.open),this._closeSet=D._toSet(this.close)}isOpen(a){return this._openSet.has(a)}isClose(a){return this._closeSet.has(a)}static _toSet(a){const l=new Set;for(const u of a)l.add(u);return l}}e.RichEditBracket=D;function S(c){const a=c.length;c=c.map(v=>[v[0].toLowerCase(),v[1].toLowerCase()]);const l=[];for(let v=0;v<a;v++)l[v]=v;const u=(v,b)=>{const[w,E]=v,[I,T]=b;return w===I||w===T||E===I||E===T},C=(v,b)=>{const w=Math.min(v,b),E=Math.max(v,b);for(let I=0;I<a;I++)l[I]===E&&(l[I]=w)};for(let v=0;v<a;v++){const b=c[v];for(let w=v+1;w<a;w++){const E=c[w];u(b,E)&&C(l[v],l[w])}}const g=[];for(let v=0;v<a;v++){const b=[],w=[];for(let E=0;E<a;E++)if(l[E]===v){const[I,T]=c[E];b.push(I),w.push(T)}b.length>0&&g.push({open:b,close:w})}return g}class m{constructor(a,l){this._richEditBracketsBrand=void 0;const u=S(l);this.brackets=u.map((C,g)=>new D(a,g,C.open,C.close,s(C.open,C.close,u,g),t(C.open,C.close,u,g))),this.forwardRegex=i(this.brackets),this.reversedRegex=o(this.brackets),this.textIsBracket={},this.textIsOpenBracket={},this.maxBracketLength=0;for(const C of this.brackets){for(const g of C.open)this.textIsBracket[g]=C,this.textIsOpenBracket[g]=!0,this.maxBracketLength=Math.max(this.maxBracketLength,g.length);for(const g of C.close)this.textIsBracket[g]=C,this.textIsOpenBracket[g]=!1,this.maxBracketLength=Math.max(this.maxBracketLength,g.length)}}}e.RichEditBrackets=m;function _(c,a,l,u){for(let C=0,g=a.length;C<g;C++){if(C===l)continue;const v=a[C];for(const b of v.open)b.indexOf(c)>=0&&u.push(b);for(const b of v.close)b.indexOf(c)>=0&&u.push(b)}}function f(c,a){return c.length-a.length}function p(c){if(c.length<=1)return c;const a=[],l=new Set;for(const u of c)l.has(u)||(a.push(u),l.add(u));return a}function s(c,a,l,u){let C=[];C=C.concat(c),C=C.concat(a);for(let g=0,v=C.length;g<v;g++)_(C[g],l,u,C);return C=p(C),C.sort(f),C.reverse(),d(C)}function t(c,a,l,u){let C=[];C=C.concat(c),C=C.concat(a);for(let g=0,v=C.length;g<v;g++)_(C[g],l,u,C);return C=p(C),C.sort(f),C.reverse(),d(C.map(h))}function i(c){let a=[];for(const l of c){for(const u of l.open)a.push(u);for(const u of l.close)a.push(u)}return a=p(a),d(a)}function o(c){let a=[];for(const l of c){for(const u of l.open)a.push(u);for(const u of l.close)a.push(u)}return a=p(a),d(a.map(h))}function r(c){const a=/^[\w ]+$/.test(c);return c=L.escapeRegExpCharacters(c),a?`\\b${c}\\b`:c}function d(c){const a=`(${c.map(r).join(")|(")})`;return L.createRegExp(a,!0)}const h=function(){function c(u){const C=new Uint16Array(u.length);let g=0;for(let v=u.length-1;v>=0;v--)C[g++]=u.charCodeAt(v);return k.getPlatformTextDecoder().decode(C)}let a=null,l=null;return function(C){return a!==C&&(a=C,l=c(a)),l}}();class n{static _findPrevBracketInText(a,l,u,C){const g=u.match(a);if(!g)return null;const v=u.length-(g.index||0),b=g[0].length,w=C+v;return new y.Range(l,w-b+1,l,w+1)}static findPrevBracketInRange(a,l,u,C,g){const b=h(u).substring(u.length-g,u.length-C);return this._findPrevBracketInText(a,l,b,C)}static findNextBracketInText(a,l,u,C){const g=u.match(a);if(!g)return null;const v=g.index||0,b=g[0].length;if(b===0)return null;const w=C+v;return new y.Range(l,w+1,l,w+1+b)}static findNextBracketInRange(a,l,u,C,g){const v=u.substring(C,g);return this.findNextBracketInText(a,l,v,C)}}e.BracketsUtils=n}),define(X[590],ee([1,0,16,125,231]),function(q,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketElectricCharacterSupport=void 0;class D{constructor(m){this._richEditBrackets=m}getElectricCharacters(){const m=[];if(this._richEditBrackets)for(const _ of this._richEditBrackets.brackets)for(const f of _.close){const p=f.charAt(f.length-1);m.push(p)}return(0,L.distinct)(m)}onElectricCharacter(m,_,f){if(!this._richEditBrackets||this._richEditBrackets.brackets.length===0)return null;const p=_.findTokenIndexAtOffset(f-1);if((0,k.ignoreBracketsInToken)(_.getStandardTokenType(p)))return null;const s=this._richEditBrackets.reversedRegex,t=_.getLineContent().substring(0,f-1)+m,i=y.BracketsUtils.findPrevBracketInRange(s,1,t,0,t.length);if(!i)return null;const o=t.substring(i.startColumn-1,i.endColumn-1).toLowerCase();if(this._richEditBrackets.textIsOpenBracket[o])return null;const d=_.getActualLineContentBefore(i.startColumn-1);return/^\s*$/.test(d)?{matchOpenBracket:o}:null}}e.BracketElectricCharacterSupport=D}),define(X[316],ee([1,0,9,86,29,154]),function(q,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e._tokenizeToString=e.tokenizeLineToHTML=e.tokenizeToString=void 0;const S={getInitialState:()=>D.NullState,tokenizeEncoded:(p,s,t)=>(0,D.nullTokenizeEncoded)(0,t)};function m(p,s,t){return Le(this,void 0,void 0,function*(){if(!t)return f(s,p.languageIdCodec,S);const i=yield y.TokenizationRegistry.getOrCreate(t);return f(s,p.languageIdCodec,i||S)})}e.tokenizeToString=m;function _(p,s,t,i,o,r,d){let h="<div>",n=i,c=0,a=!0;for(let l=0,u=s.getCount();l<u;l++){const C=s.getEndOffset(l);if(C<=i)continue;let g="";for(;n<C&&n<o;n++){const v=p.charCodeAt(n);switch(v){case 9:{let b=r-(n+c)%r;for(c+=b-1;b>0;)d&&a?(g+="&#160;",a=!1):(g+=" ",a=!0),b--;break}case 60:g+="&lt;",a=!1;break;case 62:g+="&gt;",a=!1;break;case 38:g+="&amp;",a=!1;break;case 0:g+="&#00;",a=!1;break;case 65279:case 8232:case 8233:case 133:g+="\uFFFD",a=!1;break;case 13:g+="&#8203",a=!1;break;case 32:d&&a?(g+="&#160;",a=!1):(g+=" ",a=!0);break;default:g+=String.fromCharCode(v),a=!1}}if(h+=`<span style="${s.getInlineStyle(l,t)}">${g}</span>`,C>o||n>=o)break}return h+="</div>",h}e.tokenizeLineToHTML=_;function f(p,s,t){let i='<div class="monaco-tokenized-source">';const o=L.splitLines(p);let r=t.getInitialState();for(let d=0,h=o.length;d<h;d++){const n=o[d];d>0&&(i+="<br/>");const c=t.tokenizeEncoded(n,!0,r);k.LineTokens.convertToEndOffset(c.tokens,n.length);const l=new k.LineTokens(c.tokens,n,s).inflate();let u=0;for(let C=0,g=l.getCount();C<g;C++){const v=l.getClassName(C),b=l.getEndOffset(C);i+=`<span class="${v}">${L.escape(n.substring(u,b))}</span>`,u=b}r=c.endState}return i+="</div>",i}e._tokenizeToString=f}),define(X[591],ee([1,0,16,6,2,5,125,231,508]),function(q,e,L,k,y,D,S,m,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketPairsTextModelPart=void 0;class f extends y.Disposable{get canBuildAST(){return this.textModel.getValueLength()<=5e6}constructor(r,d){super(),this.textModel=r,this.languageConfigurationService=d,this.bracketPairsTree=this._register(new y.MutableDisposable),this.onDidChangeEmitter=new k.Emitter,this.onDidChange=this.onDidChangeEmitter.event,this.bracketsRequested=!1,this._register(this.languageConfigurationService.onDidChange(h=>{var n;(!h.languageId||!((n=this.bracketPairsTree.value)===null||n===void 0)&&n.object.didLanguageChange(h.languageId))&&(this.bracketPairsTree.clear(),this.updateBracketPairsTree())}))}handleDidChangeOptions(r){this.bracketPairsTree.clear(),this.updateBracketPairsTree()}handleDidChangeLanguage(r){this.bracketPairsTree.clear(),this.updateBracketPairsTree()}handleDidChangeContent(r){var d;(d=this.bracketPairsTree.value)===null||d===void 0||d.object.handleContentChanged(r)}handleDidChangeBackgroundTokenizationState(){var r;(r=this.bracketPairsTree.value)===null||r===void 0||r.object.handleDidChangeBackgroundTokenizationState()}handleDidChangeTokens(r){var d;(d=this.bracketPairsTree.value)===null||d===void 0||d.object.handleDidChangeTokens(r)}updateBracketPairsTree(){if(this.bracketsRequested&&this.canBuildAST){if(!this.bracketPairsTree.value){const r=new y.DisposableStore;this.bracketPairsTree.value=p(r.add(new _.BracketPairsTree(this.textModel,d=>this.languageConfigurationService.getLanguageConfiguration(d))),r),r.add(this.bracketPairsTree.value.object.onDidChange(d=>this.onDidChangeEmitter.fire(d))),this.onDidChangeEmitter.fire()}}else this.bracketPairsTree.value&&(this.bracketPairsTree.clear(),this.onDidChangeEmitter.fire())}getBracketPairsInRange(r){var d;return this.bracketsRequested=!0,this.updateBracketPairsTree(),((d=this.bracketPairsTree.value)===null||d===void 0?void 0:d.object.getBracketPairsInRange(r,!1))||L.CallbackIterable.empty}getBracketPairsInRangeWithMinIndentation(r){var d;return this.bracketsRequested=!0,this.updateBracketPairsTree(),((d=this.bracketPairsTree.value)===null||d===void 0?void 0:d.object.getBracketPairsInRange(r,!0))||L.CallbackIterable.empty}getBracketsInRange(r,d=!1){var h;return this.bracketsRequested=!0,this.updateBracketPairsTree(),((h=this.bracketPairsTree.value)===null||h===void 0?void 0:h.object.getBracketsInRange(r,d))||L.CallbackIterable.empty}findMatchingBracketUp(r,d,h){const n=this.textModel.validatePosition(d),c=this.textModel.getLanguageIdAtPosition(n.lineNumber,n.column);if(this.canBuildAST){const a=this.languageConfigurationService.getLanguageConfiguration(c).bracketsNew.getClosingBracketInfo(r);if(!a)return null;const l=this.getBracketPairsInRange(D.Range.fromPositions(d,d)).findLast(u=>a.closes(u.openingBracketInfo));return l?l.openingBracketRange:null}else{const a=r.toLowerCase(),l=this.languageConfigurationService.getLanguageConfiguration(c).brackets;if(!l)return null;const u=l.textIsBracket[a];return u?i(this._findMatchingBracketUp(u,n,s(h))):null}}matchBracket(r,d){if(this.canBuildAST){const h=this.getBracketPairsInRange(D.Range.fromPositions(r,r)).filter(n=>n.closingBracketRange!==void 0&&(n.openingBracketRange.containsPosition(r)||n.closingBracketRange.containsPosition(r))).findLastMaxBy((0,L.compareBy)(n=>n.openingBracketRange.containsPosition(r)?n.openingBracketRange:n.closingBracketRange,D.Range.compareRangesUsingStarts));return h?[h.openingBracketRange,h.closingBracketRange]:null}else{const h=s(d);return this._matchBracket(this.textModel.validatePosition(r),h)}}_establishBracketSearchOffsets(r,d,h,n){const c=d.getCount(),a=d.getLanguageId(n);let l=Math.max(0,r.column-1-h.maxBracketLength);for(let C=n-1;C>=0;C--){const g=d.getEndOffset(C);if(g<=l)break;if((0,S.ignoreBracketsInToken)(d.getStandardTokenType(C))||d.getLanguageId(C)!==a){l=g;break}}let u=Math.min(d.getLineContent().length,r.column-1+h.maxBracketLength);for(let C=n+1;C<c;C++){const g=d.getStartOffset(C);if(g>=u)break;if((0,S.ignoreBracketsInToken)(d.getStandardTokenType(C))||d.getLanguageId(C)!==a){u=g;break}}return{searchStartOffset:l,searchEndOffset:u}}_matchBracket(r,d){const h=r.lineNumber,n=this.textModel.tokenization.getLineTokens(h),c=this.textModel.getLineContent(h),a=n.findTokenIndexAtOffset(r.column-1);if(a<0)return null;const l=this.languageConfigurationService.getLanguageConfiguration(n.getLanguageId(a)).brackets;if(l&&!(0,S.ignoreBracketsInToken)(n.getStandardTokenType(a))){let{searchStartOffset:u,searchEndOffset:C}=this._establishBracketSearchOffsets(r,n,l,a),g=null;for(;;){const v=m.BracketsUtils.findNextBracketInRange(l.forwardRegex,h,c,u,C);if(!v)break;if(v.startColumn<=r.column&&r.column<=v.endColumn){const b=c.substring(v.startColumn-1,v.endColumn-1).toLowerCase(),w=this._matchFoundBracket(v,l.textIsBracket[b],l.textIsOpenBracket[b],d);if(w){if(w instanceof t)return null;g=w}}u=v.endColumn-1}if(g)return g}if(a>0&&n.getStartOffset(a)===r.column-1){const u=a-1,C=this.languageConfigurationService.getLanguageConfiguration(n.getLanguageId(u)).brackets;if(C&&!(0,S.ignoreBracketsInToken)(n.getStandardTokenType(u))){const{searchStartOffset:g,searchEndOffset:v}=this._establishBracketSearchOffsets(r,n,C,u),b=m.BracketsUtils.findPrevBracketInRange(C.reversedRegex,h,c,g,v);if(b&&b.startColumn<=r.column&&r.column<=b.endColumn){const w=c.substring(b.startColumn-1,b.endColumn-1).toLowerCase(),E=this._matchFoundBracket(b,C.textIsBracket[w],C.textIsOpenBracket[w],d);if(E)return E instanceof t?null:E}}}return null}_matchFoundBracket(r,d,h,n){if(!d)return null;const c=h?this._findMatchingBracketDown(d,r.getEndPosition(),n):this._findMatchingBracketUp(d,r.getStartPosition(),n);return c?c instanceof t?c:[r,c]:null}_findMatchingBracketUp(r,d,h){const n=r.languageId,c=r.reversedRegex;let a=-1,l=0;const u=(C,g,v,b)=>{for(;;){if(h&&++l%100===0&&!h())return t.INSTANCE;const w=m.BracketsUtils.findPrevBracketInRange(c,C,g,v,b);if(!w)break;const E=g.substring(w.startColumn-1,w.endColumn-1).toLowerCase();if(r.isOpen(E)?a++:r.isClose(E)&&a--,a===0)return w;b=w.startColumn-1}return null};for(let C=d.lineNumber;C>=1;C--){const g=this.textModel.tokenization.getLineTokens(C),v=g.getCount(),b=this.textModel.getLineContent(C);let w=v-1,E=b.length,I=b.length;C===d.lineNumber&&(w=g.findTokenIndexAtOffset(d.column-1),E=d.column-1,I=d.column-1);let T=!0;for(;w>=0;w--){const P=g.getLanguageId(w)===n&&!(0,S.ignoreBracketsInToken)(g.getStandardTokenType(w));if(P)T?E=g.getStartOffset(w):(E=g.getStartOffset(w),I=g.getEndOffset(w));else if(T&&E!==I){const A=u(C,b,E,I);if(A)return A}T=P}if(T&&E!==I){const P=u(C,b,E,I);if(P)return P}}return null}_findMatchingBracketDown(r,d,h){const n=r.languageId,c=r.forwardRegex;let a=1,l=0;const u=(g,v,b,w)=>{for(;;){if(h&&++l%100===0&&!h())return t.INSTANCE;const E=m.BracketsUtils.findNextBracketInRange(c,g,v,b,w);if(!E)break;const I=v.substring(E.startColumn-1,E.endColumn-1).toLowerCase();if(r.isOpen(I)?a++:r.isClose(I)&&a--,a===0)return E;b=E.endColumn-1}return null},C=this.textModel.getLineCount();for(let g=d.lineNumber;g<=C;g++){const v=this.textModel.tokenization.getLineTokens(g),b=v.getCount(),w=this.textModel.getLineContent(g);let E=0,I=0,T=0;g===d.lineNumber&&(E=v.findTokenIndexAtOffset(d.column-1),I=d.column-1,T=d.column-1);let P=!0;for(;E<b;E++){const A=v.getLanguageId(E)===n&&!(0,S.ignoreBracketsInToken)(v.getStandardTokenType(E));if(A)P||(I=v.getStartOffset(E)),T=v.getEndOffset(E);else if(P&&I!==T){const M=u(g,w,I,T);if(M)return M}P=A}if(P&&I!==T){const A=u(g,w,I,T);if(A)return A}}return null}findPrevBracket(r){var d;const h=this.textModel.validatePosition(r);if(this.canBuildAST)return this.bracketsRequested=!0,this.updateBracketPairsTree(),((d=this.bracketPairsTree.value)===null||d===void 0?void 0:d.object.getFirstBracketBefore(h))||null;let n=null,c=null,a=null;for(let l=h.lineNumber;l>=1;l--){const u=this.textModel.tokenization.getLineTokens(l),C=u.getCount(),g=this.textModel.getLineContent(l);let v=C-1,b=g.length,w=g.length;if(l===h.lineNumber){v=u.findTokenIndexAtOffset(h.column-1),b=h.column-1,w=h.column-1;const I=u.getLanguageId(v);n!==I&&(n=I,c=this.languageConfigurationService.getLanguageConfiguration(n).brackets,a=this.languageConfigurationService.getLanguageConfiguration(n).bracketsNew)}let E=!0;for(;v>=0;v--){const I=u.getLanguageId(v);if(n!==I){if(c&&a&&E&&b!==w){const P=m.BracketsUtils.findPrevBracketInRange(c.reversedRegex,l,g,b,w);if(P)return this._toFoundBracket(a,P);E=!1}n=I,c=this.languageConfigurationService.getLanguageConfiguration(n).brackets,a=this.languageConfigurationService.getLanguageConfiguration(n).bracketsNew}const T=!!c&&!(0,S.ignoreBracketsInToken)(u.getStandardTokenType(v));if(T)E?b=u.getStartOffset(v):(b=u.getStartOffset(v),w=u.getEndOffset(v));else if(a&&c&&E&&b!==w){const P=m.BracketsUtils.findPrevBracketInRange(c.reversedRegex,l,g,b,w);if(P)return this._toFoundBracket(a,P)}E=T}if(a&&c&&E&&b!==w){const I=m.BracketsUtils.findPrevBracketInRange(c.reversedRegex,l,g,b,w);if(I)return this._toFoundBracket(a,I)}}return null}findNextBracket(r){var d;const h=this.textModel.validatePosition(r);if(this.canBuildAST)return this.bracketsRequested=!0,this.updateBracketPairsTree(),((d=this.bracketPairsTree.value)===null||d===void 0?void 0:d.object.getFirstBracketAfter(h))||null;const n=this.textModel.getLineCount();let c=null,a=null,l=null;for(let u=h.lineNumber;u<=n;u++){const C=this.textModel.tokenization.getLineTokens(u),g=C.getCount(),v=this.textModel.getLineContent(u);let b=0,w=0,E=0;if(u===h.lineNumber){b=C.findTokenIndexAtOffset(h.column-1),w=h.column-1,E=h.column-1;const T=C.getLanguageId(b);c!==T&&(c=T,a=this.languageConfigurationService.getLanguageConfiguration(c).brackets,l=this.languageConfigurationService.getLanguageConfiguration(c).bracketsNew)}let I=!0;for(;b<g;b++){const T=C.getLanguageId(b);if(c!==T){if(l&&a&&I&&w!==E){const A=m.BracketsUtils.findNextBracketInRange(a.forwardRegex,u,v,w,E);if(A)return this._toFoundBracket(l,A);I=!1}c=T,a=this.languageConfigurationService.getLanguageConfiguration(c).brackets,l=this.languageConfigurationService.getLanguageConfiguration(c).bracketsNew}const P=!!a&&!(0,S.ignoreBracketsInToken)(C.getStandardTokenType(b));if(P)I||(w=C.getStartOffset(b)),E=C.getEndOffset(b);else if(l&&a&&I&&w!==E){const A=m.BracketsUtils.findNextBracketInRange(a.forwardRegex,u,v,w,E);if(A)return this._toFoundBracket(l,A)}I=P}if(l&&a&&I&&w!==E){const T=m.BracketsUtils.findNextBracketInRange(a.forwardRegex,u,v,w,E);if(T)return this._toFoundBracket(l,T)}}return null}findEnclosingBrackets(r,d){const h=this.textModel.validatePosition(r);if(this.canBuildAST){const w=D.Range.fromPositions(h),E=this.getBracketPairsInRange(D.Range.fromPositions(h,h)).findLast(I=>I.closingBracketRange!==void 0&&I.range.strictContainsRange(w));return E?[E.openingBracketRange,E.closingBracketRange]:null}const n=s(d),c=this.textModel.getLineCount(),a=new Map;let l=[];const u=(w,E)=>{if(!a.has(w)){const I=[];for(let T=0,P=E?E.brackets.length:0;T<P;T++)I[T]=0;a.set(w,I)}l=a.get(w)};let C=0;const g=(w,E,I,T,P)=>{for(;;){if(n&&++C%100===0&&!n())return t.INSTANCE;const A=m.BracketsUtils.findNextBracketInRange(w.forwardRegex,E,I,T,P);if(!A)break;const M=I.substring(A.startColumn-1,A.endColumn-1).toLowerCase(),N=w.textIsBracket[M];if(N&&(N.isOpen(M)?l[N.index]++:N.isClose(M)&&l[N.index]--,l[N.index]===-1))return this._matchFoundBracket(A,N,!1,n);T=A.endColumn-1}return null};let v=null,b=null;for(let w=h.lineNumber;w<=c;w++){const E=this.textModel.tokenization.getLineTokens(w),I=E.getCount(),T=this.textModel.getLineContent(w);let P=0,A=0,M=0;if(w===h.lineNumber){P=E.findTokenIndexAtOffset(h.column-1),A=h.column-1,M=h.column-1;const R=E.getLanguageId(P);v!==R&&(v=R,b=this.languageConfigurationService.getLanguageConfiguration(v).brackets,u(v,b))}let N=!0;for(;P<I;P++){const R=E.getLanguageId(P);if(v!==R){if(b&&N&&A!==M){const x=g(b,w,T,A,M);if(x)return i(x);N=!1}v=R,b=this.languageConfigurationService.getLanguageConfiguration(v).brackets,u(v,b)}const F=!!b&&!(0,S.ignoreBracketsInToken)(E.getStandardTokenType(P));if(F)N||(A=E.getStartOffset(P)),M=E.getEndOffset(P);else if(b&&N&&A!==M){const x=g(b,w,T,A,M);if(x)return i(x)}N=F}if(b&&N&&A!==M){const R=g(b,w,T,A,M);if(R)return i(R)}}return null}_toFoundBracket(r,d){if(!d)return null;let h=this.textModel.getValueInRange(d);h=h.toLowerCase();const n=r.getBracketInfo(h);return n?{range:d,bracketInfo:n}:null}}e.BracketPairsTextModelPart=f;function p(o,r){return{object:o,dispose:()=>r?.dispose()}}function s(o){if(typeof o>"u")return()=>!0;{const r=Date.now();return()=>Date.now()-r<=o}}class t{constructor(){this._searchCanceledBrand=void 0}}t.INSTANCE=new t;function i(o){return o instanceof t?null:o}}),define(X[317],ee([1,0,6,9,5,47,281,120,315,2]),function(q,e,L,k,y,D,S,m,_,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PieceTreeTextBuffer=void 0;class p extends f.Disposable{constructor(t,i,o,r,d,h,n){super(),this._onDidChangeContent=this._register(new L.Emitter),this._BOM=i,this._mightContainNonBasicASCII=!h,this._mightContainRTL=r,this._mightContainUnusualLineTerminators=d,this._pieceTree=new S.PieceTreeBase(t,o,n)}mightContainRTL(){return this._mightContainRTL}mightContainUnusualLineTerminators(){return this._mightContainUnusualLineTerminators}resetMightContainUnusualLineTerminators(){this._mightContainUnusualLineTerminators=!1}mightContainNonBasicASCII(){return this._mightContainNonBasicASCII}getBOM(){return this._BOM}getEOL(){return this._pieceTree.getEOL()}createSnapshot(t){return this._pieceTree.createSnapshot(t?this._BOM:"")}getOffsetAt(t,i){return this._pieceTree.getOffsetAt(t,i)}getPositionAt(t){return this._pieceTree.getPositionAt(t)}getRangeAt(t,i){const o=t+i,r=this.getPositionAt(t),d=this.getPositionAt(o);return new y.Range(r.lineNumber,r.column,d.lineNumber,d.column)}getValueInRange(t,i=0){if(t.isEmpty())return"";const o=this._getEndOfLine(i);return this._pieceTree.getValueInRange(t,o)}getValueLengthInRange(t,i=0){if(t.isEmpty())return 0;if(t.startLineNumber===t.endLineNumber)return t.endColumn-t.startColumn;const o=this.getOffsetAt(t.startLineNumber,t.startColumn),r=this.getOffsetAt(t.endLineNumber,t.endColumn);let d=0;const h=this._getEndOfLine(i),n=this.getEOL();if(h.length!==n.length){const c=h.length-n.length,a=t.endLineNumber-t.startLineNumber;d=c*a}return r-o+d}getCharacterCountInRange(t,i=0){if(this._mightContainNonBasicASCII){let o=0;const r=t.startLineNumber,d=t.endLineNumber;for(let h=r;h<=d;h++){const n=this.getLineContent(h),c=h===r?t.startColumn-1:0,a=h===d?t.endColumn-1:n.length;for(let l=c;l<a;l++)k.isHighSurrogate(n.charCodeAt(l))?(o=o+1,l=l+1):o=o+1}return o+=this._getEndOfLine(i).length*(d-r),o}return this.getValueLengthInRange(t,i)}getLength(){return this._pieceTree.getLength()}getLineCount(){return this._pieceTree.getLineCount()}getLinesContent(){return this._pieceTree.getLinesContent()}getLineContent(t){return this._pieceTree.getLineContent(t)}getLineCharCode(t,i){return this._pieceTree.getLineCharCode(t,i)}getLineLength(t){return this._pieceTree.getLineLength(t)}getLineFirstNonWhitespaceColumn(t){const i=k.firstNonWhitespaceIndex(this.getLineContent(t));return i===-1?0:i+1}getLineLastNonWhitespaceColumn(t){const i=k.lastNonWhitespaceIndex(this.getLineContent(t));return i===-1?0:i+2}_getEndOfLine(t){switch(t){case 1:return`
`;case 2:return`\r
`;case 0:return this.getEOL();default:throw new Error("Unknown EOL preference")}}setEOL(t){this._pieceTree.setEOL(t)}applyEdits(t,i,o){let r=this._mightContainRTL,d=this._mightContainUnusualLineTerminators,h=this._mightContainNonBasicASCII,n=!0,c=[];for(let b=0;b<t.length;b++){const w=t[b];n&&w._isTracked&&(n=!1);const E=w.range;if(w.text){let M=!0;h||(M=!k.isBasicASCII(w.text),h=M),!r&&M&&(r=k.containsRTL(w.text)),!d&&M&&(d=k.containsUnusualLineTerminators(w.text))}let I="",T=0,P=0,A=0;if(w.text){let M;[T,P,A,M]=(0,m.countEOL)(w.text);const N=this.getEOL();M===0||M===(N===`\r
`?2:1)?I=w.text:I=w.text.replace(/\r\n|\r|\n/g,N)}c[b]={sortIndex:b,identifier:w.identifier||null,range:E,rangeOffset:this.getOffsetAt(E.startLineNumber,E.startColumn),rangeLength:this.getValueLengthInRange(E),text:I,eolCount:T,firstLineLength:P,lastLineLength:A,forceMoveMarkers:!!w.forceMoveMarkers,isAutoWhitespaceEdit:w.isAutoWhitespaceEdit||!1}}c.sort(p._sortOpsAscending);let a=!1;for(let b=0,w=c.length-1;b<w;b++){const E=c[b].range.getEndPosition(),I=c[b+1].range.getStartPosition();if(I.isBeforeOrEqual(E)){if(I.isBefore(E))throw new Error("Overlapping ranges are not allowed!");a=!0}}n&&(c=this._reduceOperations(c));const l=o||i?p._getInverseEditRanges(c):[],u=[];if(i)for(let b=0;b<c.length;b++){const w=c[b],E=l[b];if(w.isAutoWhitespaceEdit&&w.range.isEmpty())for(let I=E.startLineNumber;I<=E.endLineNumber;I++){let T="";I===E.startLineNumber&&(T=this.getLineContent(w.range.startLineNumber),k.firstNonWhitespaceIndex(T)!==-1)||u.push({lineNumber:I,oldContent:T})}}let C=null;if(o){let b=0;C=[];for(let w=0;w<c.length;w++){const E=c[w],I=l[w],T=this.getValueInRange(E.range),P=E.rangeOffset+b;b+=E.text.length-T.length,C[w]={sortIndex:E.sortIndex,identifier:E.identifier,range:I,text:T,textChange:new _.TextChange(E.rangeOffset,T,P,E.text)}}a||C.sort((w,E)=>w.sortIndex-E.sortIndex)}this._mightContainRTL=r,this._mightContainUnusualLineTerminators=d,this._mightContainNonBasicASCII=h;const g=this._doApplyEdits(c);let v=null;if(i&&u.length>0){u.sort((b,w)=>w.lineNumber-b.lineNumber),v=[];for(let b=0,w=u.length;b<w;b++){const E=u[b].lineNumber;if(b>0&&u[b-1].lineNumber===E)continue;const I=u[b].oldContent,T=this.getLineContent(E);T.length===0||T===I||k.firstNonWhitespaceIndex(T)!==-1||v.push(E)}}return this._onDidChangeContent.fire(),new D.ApplyEditsResult(C,g,v)}_reduceOperations(t){return t.length<1e3?t:[this._toSingleEditOperation(t)]}_toSingleEditOperation(t){let i=!1;const o=t[0].range,r=t[t.length-1].range,d=new y.Range(o.startLineNumber,o.startColumn,r.endLineNumber,r.endColumn);let h=o.startLineNumber,n=o.startColumn;const c=[];for(let g=0,v=t.length;g<v;g++){const b=t[g],w=b.range;i=i||b.forceMoveMarkers,c.push(this.getValueInRange(new y.Range(h,n,w.startLineNumber,w.startColumn))),b.text.length>0&&c.push(b.text),h=w.endLineNumber,n=w.endColumn}const a=c.join(""),[l,u,C]=(0,m.countEOL)(a);return{sortIndex:0,identifier:t[0].identifier,range:d,rangeOffset:this.getOffsetAt(d.startLineNumber,d.startColumn),rangeLength:this.getValueLengthInRange(d,0),text:a,eolCount:l,firstLineLength:u,lastLineLength:C,forceMoveMarkers:i,isAutoWhitespaceEdit:!1}}_doApplyEdits(t){t.sort(p._sortOpsDescending);const i=[];for(let o=0;o<t.length;o++){const r=t[o],d=r.range.startLineNumber,h=r.range.startColumn,n=r.range.endLineNumber,c=r.range.endColumn;if(d===n&&h===c&&r.text.length===0)continue;r.text?(this._pieceTree.delete(r.rangeOffset,r.rangeLength),this._pieceTree.insert(r.rangeOffset,r.text,!0)):this._pieceTree.delete(r.rangeOffset,r.rangeLength);const a=new y.Range(d,h,n,c);i.push({range:a,rangeLength:r.rangeLength,text:r.text,rangeOffset:r.rangeOffset,forceMoveMarkers:r.forceMoveMarkers})}return i}findMatchesLineByLine(t,i,o,r){return this._pieceTree.findMatchesLineByLine(t,i,o,r)}static _getInverseEditRanges(t){const i=[];let o=0,r=0,d=null;for(let h=0,n=t.length;h<n;h++){const c=t[h];let a,l;d?d.range.endLineNumber===c.range.startLineNumber?(a=o,l=r+(c.range.startColumn-d.range.endColumn)):(a=o+(c.range.startLineNumber-d.range.endLineNumber),l=c.range.startColumn):(a=c.range.startLineNumber,l=c.range.startColumn);let u;if(c.text.length>0){const C=c.eolCount+1;C===1?u=new y.Range(a,l,a,l+c.firstLineLength):u=new y.Range(a,l,a+C-1,c.lastLineLength+1)}else u=new y.Range(a,l,a,l);o=u.endLineNumber,r=u.endColumn,i.push(u),d=c}return i}static _sortOpsAscending(t,i){const o=y.Range.compareRangesUsingEnds(t.range,i.range);return o===0?t.sortIndex-i.sortIndex:o}static _sortOpsDescending(t,i){const o=y.Range.compareRangesUsingEnds(t.range,i.range);return o===0?i.sortIndex-t.sortIndex:-o}}e.PieceTreeTextBuffer=p}),define(X[592],ee([1,0,9,281,317]),function(q,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PieceTreeTextBufferBuilder=void 0;class D{constructor(_,f,p,s,t,i,o,r,d){this._chunks=_,this._bom=f,this._cr=p,this._lf=s,this._crlf=t,this._containsRTL=i,this._containsUnusualLineTerminators=o,this._isBasicASCII=r,this._normalizeEOL=d}_getEOL(_){const f=this._cr+this._lf+this._crlf,p=this._cr+this._crlf;return f===0?_===1?`
`:`\r
`:p>f/2?`\r
`:`
`}create(_){const f=this._getEOL(_),p=this._chunks;if(this._normalizeEOL&&(f===`\r
`&&(this._cr>0||this._lf>0)||f===`
`&&(this._cr>0||this._crlf>0)))for(let t=0,i=p.length;t<i;t++){const o=p[t].buffer.replace(/\r\n|\r|\n/g,f),r=(0,k.createLineStartsFast)(o);p[t]=new k.StringBuffer(o,r)}const s=new y.PieceTreeTextBuffer(p,this._bom,f,this._containsRTL,this._containsUnusualLineTerminators,this._isBasicASCII,this._normalizeEOL);return{textBuffer:s,disposable:s}}}class S{constructor(){this.chunks=[],this.BOM="",this._hasPreviousChar=!1,this._previousChar=0,this._tmpLineStarts=[],this.cr=0,this.lf=0,this.crlf=0,this.containsRTL=!1,this.containsUnusualLineTerminators=!1,this.isBasicASCII=!0}acceptChunk(_){if(_.length===0)return;this.chunks.length===0&&L.startsWithUTF8BOM(_)&&(this.BOM=L.UTF8_BOM_CHARACTER,_=_.substr(1));const f=_.charCodeAt(_.length-1);f===13||f>=55296&&f<=56319?(this._acceptChunk1(_.substr(0,_.length-1),!1),this._hasPreviousChar=!0,this._previousChar=f):(this._acceptChunk1(_,!1),this._hasPreviousChar=!1,this._previousChar=f)}_acceptChunk1(_,f){!f&&_.length===0||(this._hasPreviousChar?this._acceptChunk2(String.fromCharCode(this._previousChar)+_):this._acceptChunk2(_))}_acceptChunk2(_){const f=(0,k.createLineStarts)(this._tmpLineStarts,_);this.chunks.push(new k.StringBuffer(_,f.lineStarts)),this.cr+=f.cr,this.lf+=f.lf,this.crlf+=f.crlf,f.isBasicASCII||(this.isBasicASCII=!1,this.containsRTL||(this.containsRTL=L.containsRTL(_)),this.containsUnusualLineTerminators||(this.containsUnusualLineTerminators=L.containsUnusualLineTerminators(_)))}finish(_=!0){return this._finish(),new D(this.chunks,this.BOM,this.cr,this.lf,this.crlf,this.containsRTL,this.containsUnusualLineTerminators,this.isBasicASCII,_)}_finish(){if(this.chunks.length===0&&this._acceptChunk1("",!0),this._hasPreviousChar){this._hasPreviousChar=!1;const _=this.chunks[this.chunks.length-1];_.buffer+=String.fromCharCode(this._previousChar);const f=(0,k.createLineStartsFast)(_.buffer);_.lineStarts=f,this._previousChar===13&&this.cr++}}}e.PieceTreeTextBufferBuilder=S}),define(X[593],ee([1,0,14,12,17,58,120,65,121,154,502,286,86]),function(q,e,L,k,y,D,S,m,_,f,p,s,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DefaultBackgroundTokenizer=e.RangePriorityQueueImpl=e.TokenizationStateStore=e.TrackingTokenizationStateStore=e.TokenizerWithStateStoreAndTextModel=e.TokenizerWithStateStore=void 0;class i{constructor(l,u){this.tokenizationSupport=u,this.initialState=this.tokenizationSupport.getInitialState(),this.store=new r(l)}getStartState(l){return l===1?this.initialState:this.store.getEndState(l-1)}}e.TokenizerWithStateStore=i;class o extends i{constructor(l,u,C,g){super(l,u),this._textModel=C,this._languageIdCodec=g}updateTokensUntilLine(l,u){const C=this._textModel.getLanguageId();for(;;){const g=this.store.getFirstInvalidEndStateLineNumber();if(!g||g>u)break;const v=this._textModel.getLineContent(g),b=this.getStartState(g),w=n(this._languageIdCodec,C,this.tokenizationSupport,v,!0,b);l.add(g,w.tokens),this.store.setEndState(g,w.endState)}}getTokenTypeIfInsertingCharacter(l,u){const C=this.getStartState(l.lineNumber);if(!C)return 0;const g=this._textModel.getLanguageId(),v=this._textModel.getLineContent(l.lineNumber),b=v.substring(0,l.column-1)+u+v.substring(l.column-1),w=n(this._languageIdCodec,g,this.tokenizationSupport,b,!0,C),E=new t.LineTokens(w.tokens,b,this._languageIdCodec);if(E.getCount()===0)return 0;const I=E.findTokenIndexAtOffset(l.column-1);return E.getStandardTokenType(I)}tokenizeLineWithEdit(l,u,C){const g=l.lineNumber,v=l.column,b=this.getStartState(g);if(!b)return null;const w=this._textModel.getLineContent(g),E=w.substring(0,v-1)+C+w.substring(v-1+u),I=this._textModel.getLanguageIdAtPosition(g,0),T=n(this._languageIdCodec,I,this.tokenizationSupport,E,!0,b);return new t.LineTokens(T.tokens,E,this._languageIdCodec)}isCheapToTokenize(l){const u=this.store.getFirstInvalidEndStateLineNumberOrMax();return l<u||l===u&&this._textModel.getLineLength(l)<2048}tokenizeHeuristically(l,u,C){if(C<=this.store.getFirstInvalidEndStateLineNumberOrMax())return{heuristicTokens:!1};if(u<=this.store.getFirstInvalidEndStateLineNumberOrMax())return this.updateTokensUntilLine(l,C),{heuristicTokens:!1};let g=this.guessStartState(u);const v=this._textModel.getLanguageId();for(let b=u;b<=C;b++){const w=this._textModel.getLineContent(b),E=n(this._languageIdCodec,v,this.tokenizationSupport,w,!0,g);l.add(b,E.tokens),g=E.endState}return{heuristicTokens:!0}}guessStartState(l){let u=this._textModel.getLineFirstNonWhitespaceColumn(l);const C=[];let g=null;for(let w=l-1;u>1&&w>=1;w--){const E=this._textModel.getLineFirstNonWhitespaceColumn(w);if(E!==0&&E<u&&(C.push(this._textModel.getLineContent(w)),u=E,g=this.getStartState(w),g))break}g||(g=this.tokenizationSupport.getInitialState()),C.reverse();const v=this._textModel.getLanguageId();let b=g;for(const w of C)b=n(this._languageIdCodec,v,this.tokenizationSupport,w,!1,b).endState;return b}}e.TokenizerWithStateStoreAndTextModel=o;class r{constructor(l){this.lineCount=l,this.tokenizationStateStore=new d,this._invalidEndStatesLineNumbers=new h,this._invalidEndStatesLineNumbers.addRange(new _.OffsetRange(1,l+1))}getEndState(l){return this.tokenizationStateStore.getEndState(l)}setEndState(l,u){for(;;){const g=this._invalidEndStatesLineNumbers.min;if(g!==null&&g<=l)this._invalidEndStatesLineNumbers.removeMin();else break}const C=this.tokenizationStateStore.setEndState(l,u);return C&&l<this.lineCount&&this._invalidEndStatesLineNumbers.addRange(new _.OffsetRange(l+1,l+2)),C}acceptChange(l,u){this.lineCount+=u-l.length,this.tokenizationStateStore.acceptChange(l,u),this._invalidEndStatesLineNumbers.addRangeAndResize(new _.OffsetRange(l.startLineNumber,l.endLineNumberExclusive),u)}acceptChanges(l){for(const u of l){const[C]=(0,S.countEOL)(u.text);this.acceptChange(new m.LineRange(u.range.startLineNumber,u.range.endLineNumber+1),C+1)}}invalidateEndStateRange(l){this._invalidEndStatesLineNumbers.addRange(new _.OffsetRange(l.startLineNumber,l.endLineNumberExclusive))}getFirstInvalidEndStateLineNumber(){return this._invalidEndStatesLineNumbers.min}getFirstInvalidEndStateLineNumberOrMax(){return this._invalidEndStatesLineNumbers.min||Number.MAX_SAFE_INTEGER}isTokenizationComplete(){return this._invalidEndStatesLineNumbers.min===null}}e.TrackingTokenizationStateStore=r;class d{constructor(){this._lineEndStates=new p.FixedArray(null)}getEndState(l){return this._lineEndStates.get(l)}setEndState(l,u){const C=this._lineEndStates.get(l);return C&&C.equals(u)?!1:(this._lineEndStates.set(l,u),!0)}acceptChange(l,u){let C=l.length;u>0&&C>0&&(C--,u--),this._lineEndStates.replace(l.startLineNumber,C,u)}}e.TokenizationStateStore=d;class h{constructor(){this._ranges=[]}get min(){return this._ranges.length===0?null:this._ranges[0].start}removeMin(){if(this._ranges.length===0)return null;const l=this._ranges[0];return l.start+1===l.endExclusive?this._ranges.shift():this._ranges[0]=new _.OffsetRange(l.start+1,l.endExclusive),l.start}addRange(l){_.OffsetRange.addRange(l,this._ranges)}addRangeAndResize(l,u){let C=0;for(;!(C>=this._ranges.length||l.start<=this._ranges[C].endExclusive);)C++;let g=C;for(;!(g>=this._ranges.length||l.endExclusive<this._ranges[g].start);)g++;const v=u-l.length;for(let b=g;b<this._ranges.length;b++)this._ranges[b]=this._ranges[b].delta(v);if(C===g){const b=new _.OffsetRange(l.start,l.start+u);b.isEmpty||this._ranges.splice(C,0,b)}else{const b=Math.min(l.start,this._ranges[C].start),w=Math.max(l.endExclusive,this._ranges[g-1].endExclusive),E=new _.OffsetRange(b,w+v);E.isEmpty?this._ranges.splice(C,g-C):this._ranges.splice(C,g-C,E)}}toString(){return this._ranges.map(l=>l.toString()).join(" + ")}}e.RangePriorityQueueImpl=h;function n(a,l,u,C,g,v){let b=null;if(u)try{b=u.tokenizeEncoded(C,g,v.clone())}catch(w){(0,k.onUnexpectedError)(w)}return b||(b=(0,f.nullTokenizeEncoded)(a.encodeLanguageId(l),v)),t.LineTokens.convertToEndOffset(b.tokens,C.length),b}class c{constructor(l,u){this._tokenizerWithStateStore=l,this._backgroundTokenStore=u,this._isDisposed=!1,this._isScheduled=!1}dispose(){this._isDisposed=!0}handleChanges(){this._beginBackgroundTokenization()}_beginBackgroundTokenization(){this._isScheduled||!this._tokenizerWithStateStore._textModel.isAttachedToEditor()||!this._hasLinesToTokenize()||(this._isScheduled=!0,(0,L.runWhenIdle)(l=>{this._isScheduled=!1,this._backgroundTokenizeWithDeadline(l)}))}_backgroundTokenizeWithDeadline(l){const u=Date.now()+l.timeRemaining(),C=()=>{this._isDisposed||!this._tokenizerWithStateStore._textModel.isAttachedToEditor()||!this._hasLinesToTokenize()||(this._backgroundTokenizeForAtLeast1ms(),Date.now()<u?(0,y.setTimeout0)(C):this._beginBackgroundTokenization())};C()}_backgroundTokenizeForAtLeast1ms(){const l=this._tokenizerWithStateStore._textModel.getLineCount(),u=new s.ContiguousMultilineTokensBuilder,C=D.StopWatch.create(!1);do if(C.elapsed()>1||this._tokenizeOneInvalidLine(u)>=l)break;while(this._hasLinesToTokenize());this._backgroundTokenStore.setTokens(u.finalize()),this.checkFinished()}_hasLinesToTokenize(){return this._tokenizerWithStateStore?!this._tokenizerWithStateStore.store.isTokenizationComplete():!1}_tokenizeOneInvalidLine(l){if(!this._tokenizerWithStateStore||!this._hasLinesToTokenize())return this._tokenizerWithStateStore._textModel.getLineCount()+1;const u=this._tokenizerWithStateStore.store.getFirstInvalidEndStateLineNumber();return this._tokenizerWithStateStore.updateTokensUntilLine(l,u),u}checkFinished(){this._isDisposed||this._tokenizerWithStateStore.store.isTokenizationComplete()&&this._backgroundTokenStore.backgroundTokenizationFinished()}requestTokens(l,u){this._tokenizerWithStateStore.store.invalidateEndStateRange(new m.LineRange(l,u))}}e.DefaultBackgroundTokenizer=c}),define(X[594],ee([1,0,16,14,12,6,2,120,65,11,146,29,280,593,286,512,514]),function(q,e,L,k,y,D,S,m,_,f,p,s,t,i,o,r,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TokenizationTextModelPart=void 0;class h extends t.TextModelPart{constructor(l,u,C,g,v,b){super(),this._languageService=l,this._languageConfigurationService=u,this._textModel=C,this._bracketPairsTextModelPart=g,this._languageId=v,this._attachedViews=b,this._semanticTokens=new d.SparseTokensStore(this._languageService.languageIdCodec),this._onDidChangeLanguage=this._register(new D.Emitter),this.onDidChangeLanguage=this._onDidChangeLanguage.event,this._onDidChangeLanguageConfiguration=this._register(new D.Emitter),this.onDidChangeLanguageConfiguration=this._onDidChangeLanguageConfiguration.event,this._onDidChangeTokens=this._register(new D.Emitter),this.onDidChangeTokens=this._onDidChangeTokens.event,this.grammarTokens=this._register(new n(this._languageService.languageIdCodec,this._textModel,()=>this._languageId,this._attachedViews)),this._register(this._languageConfigurationService.onDidChange(w=>{w.affects(this._languageId)&&this._onDidChangeLanguageConfiguration.fire({})})),this._register(this.grammarTokens.onDidChangeTokens(w=>{this._emitModelTokensChangedEvent(w)})),this._register(this.grammarTokens.onDidChangeBackgroundTokenizationState(w=>{this._bracketPairsTextModelPart.handleDidChangeBackgroundTokenizationState()}))}handleDidChangeContent(l){if(l.isFlush)this._semanticTokens.flush();else if(!l.isEolChange)for(const u of l.changes){const[C,g,v]=(0,m.countEOL)(u.text);this._semanticTokens.acceptEdit(u.range,C,g,v,u.text.length>0?u.text.charCodeAt(0):0)}this.grammarTokens.handleDidChangeContent(l)}handleDidChangeAttached(){this.grammarTokens.handleDidChangeAttached()}getLineTokens(l){this.validateLineNumber(l);const u=this.grammarTokens.getLineTokens(l);return this._semanticTokens.addSparseTokens(l,u)}_emitModelTokensChangedEvent(l){this._textModel._isDisposing()||(this._bracketPairsTextModelPart.handleDidChangeTokens(l),this._onDidChangeTokens.fire(l))}validateLineNumber(l){if(l<1||l>this._textModel.getLineCount())throw new y.BugIndicatingError("Illegal value for lineNumber")}get hasTokens(){return this.grammarTokens.hasTokens}resetTokenization(){this.grammarTokens.resetTokenization()}get backgroundTokenizationState(){return this.grammarTokens.backgroundTokenizationState}forceTokenization(l){this.validateLineNumber(l),this.grammarTokens.forceTokenization(l)}isCheapToTokenize(l){return this.validateLineNumber(l),this.grammarTokens.isCheapToTokenize(l)}tokenizeIfCheap(l){this.validateLineNumber(l),this.grammarTokens.tokenizeIfCheap(l)}getTokenTypeIfInsertingCharacter(l,u,C){return this.grammarTokens.getTokenTypeIfInsertingCharacter(l,u,C)}tokenizeLineWithEdit(l,u,C){return this.grammarTokens.tokenizeLineWithEdit(l,u,C)}setSemanticTokens(l,u){this._semanticTokens.set(l,u),this._emitModelTokensChangedEvent({semanticTokensApplied:l!==null,ranges:[{fromLineNumber:1,toLineNumber:this._textModel.getLineCount()}]})}hasCompleteSemanticTokens(){return this._semanticTokens.isComplete()}hasSomeSemanticTokens(){return!this._semanticTokens.isEmpty()}setPartialSemanticTokens(l,u){if(this.hasCompleteSemanticTokens())return;const C=this._textModel.validateRange(this._semanticTokens.setPartial(l,u));this._emitModelTokensChangedEvent({semanticTokensApplied:!0,ranges:[{fromLineNumber:C.startLineNumber,toLineNumber:C.endLineNumber}]})}getWordAtPosition(l){this.assertNotDisposed();const u=this._textModel.validatePosition(l),C=this._textModel.getLineContent(u.lineNumber),g=this.getLineTokens(u.lineNumber),v=g.findTokenIndexAtOffset(u.column-1),[b,w]=h._findLanguageBoundaries(g,v),E=(0,p.getWordAtText)(u.column,this.getLanguageConfiguration(g.getLanguageId(v)).getWordDefinition(),C.substring(b,w),b);if(E&&E.startColumn<=l.column&&l.column<=E.endColumn)return E;if(v>0&&b===u.column-1){const[I,T]=h._findLanguageBoundaries(g,v-1),P=(0,p.getWordAtText)(u.column,this.getLanguageConfiguration(g.getLanguageId(v-1)).getWordDefinition(),C.substring(I,T),I);if(P&&P.startColumn<=l.column&&l.column<=P.endColumn)return P}return null}getLanguageConfiguration(l){return this._languageConfigurationService.getLanguageConfiguration(l)}static _findLanguageBoundaries(l,u){const C=l.getLanguageId(u);let g=0;for(let b=u;b>=0&&l.getLanguageId(b)===C;b--)g=l.getStartOffset(b);let v=l.getLineContent().length;for(let b=u,w=l.getCount();b<w&&l.getLanguageId(b)===C;b++)v=l.getEndOffset(b);return[g,v]}getWordUntilPosition(l){const u=this.getWordAtPosition(l);return u?{word:u.word.substr(0,l.column-u.startColumn),startColumn:u.startColumn,endColumn:l.column}:{word:"",startColumn:l.column,endColumn:l.column}}getLanguageId(){return this._languageId}getLanguageIdAtPosition(l,u){const C=this._textModel.validatePosition(new f.Position(l,u)),g=this.getLineTokens(C.lineNumber);return g.getLanguageId(g.findTokenIndexAtOffset(C.column-1))}setLanguageId(l,u="api"){if(this._languageId===l)return;const C={oldLanguage:this._languageId,newLanguage:l,source:u};this._languageId=l,this._bracketPairsTextModelPart.handleDidChangeLanguage(C),this.grammarTokens.resetTokenization(),this._onDidChangeLanguage.fire(C),this._onDidChangeLanguageConfiguration.fire({})}}e.TokenizationTextModelPart=h;class n extends S.Disposable{get backgroundTokenizationState(){return this._backgroundTokenizationState}constructor(l,u,C,g){super(),this._languageIdCodec=l,this._textModel=u,this.getLanguageId=C,this._tokenizer=null,this._defaultBackgroundTokenizer=null,this._backgroundTokenizer=this._register(new S.MutableDisposable),this._tokens=new r.ContiguousTokensStore(this._languageIdCodec),this._debugBackgroundTokenizer=this._register(new S.MutableDisposable),this._backgroundTokenizationState=1,this._onDidChangeBackgroundTokenizationState=this._register(new D.Emitter),this.onDidChangeBackgroundTokenizationState=this._onDidChangeBackgroundTokenizationState.event,this._onDidChangeTokens=this._register(new D.Emitter),this.onDidChangeTokens=this._onDidChangeTokens.event,this._attachedViewStates=this._register(new S.DisposableMap),this._register(s.TokenizationRegistry.onDidChange(v=>{const b=this.getLanguageId();v.changedLanguages.indexOf(b)!==-1&&this.resetTokenization()})),this.resetTokenization(),this._register(g.onDidChangeVisibleRanges(({view:v,state:b})=>{if(b){let w=this._attachedViewStates.get(v);w||(w=new c(()=>this.refreshRanges(w.lineRanges)),this._attachedViewStates.set(v,w)),w.handleStateChange(b)}else this._attachedViewStates.deleteAndDispose(v)}))}resetTokenization(l=!0){var u;this._tokens.flush(),(u=this._debugBackgroundTokens)===null||u===void 0||u.flush(),this._debugBackgroundStates&&(this._debugBackgroundStates=new i.TrackingTokenizationStateStore(this._textModel.getLineCount())),l&&this._onDidChangeTokens.fire({semanticTokensApplied:!1,ranges:[{fromLineNumber:1,toLineNumber:this._textModel.getLineCount()}]});const C=()=>{if(this._textModel.isTooLargeForTokenization())return[null,null];const b=s.TokenizationRegistry.get(this.getLanguageId());if(!b)return[null,null];let w;try{w=b.getInitialState()}catch(E){return(0,y.onUnexpectedError)(E),[null,null]}return[b,w]},[g,v]=C();if(g&&v?this._tokenizer=new i.TokenizerWithStateStoreAndTextModel(this._textModel.getLineCount(),g,this._textModel,this._languageIdCodec):this._tokenizer=null,this._backgroundTokenizer.clear(),this._defaultBackgroundTokenizer=null,this._tokenizer){const b={setTokens:w=>{this.setTokens(w)},backgroundTokenizationFinished:()=>{if(this._backgroundTokenizationState===2)return;const w=2;this._backgroundTokenizationState=w,this._onDidChangeBackgroundTokenizationState.fire()},setEndState:(w,E)=>{var I,T,P;if(!E)throw new y.BugIndicatingError;const A=(T=(I=this._tokenizer)===null||I===void 0?void 0:I.store.getFirstInvalidEndStateLineNumber())!==null&&T!==void 0?T:void 0;A!==void 0&&w>=A&&((P=this._tokenizer)===null||P===void 0||P.store.setEndState(w,E))}};g&&g.createBackgroundTokenizer&&!g.backgroundTokenizerShouldOnlyVerifyTokens&&(this._backgroundTokenizer.value=g.createBackgroundTokenizer(this._textModel,b)),this._backgroundTokenizer.value||(this._backgroundTokenizer.value=this._defaultBackgroundTokenizer=new i.DefaultBackgroundTokenizer(this._tokenizer,b),this._defaultBackgroundTokenizer.handleChanges()),g?.backgroundTokenizerShouldOnlyVerifyTokens&&g.createBackgroundTokenizer?(this._debugBackgroundTokens=new r.ContiguousTokensStore(this._languageIdCodec),this._debugBackgroundStates=new i.TrackingTokenizationStateStore(this._textModel.getLineCount()),this._debugBackgroundTokenizer.clear(),this._debugBackgroundTokenizer.value=g.createBackgroundTokenizer(this._textModel,{setTokens:w=>{var E;(E=this._debugBackgroundTokens)===null||E===void 0||E.setMultilineTokens(w,this._textModel)},backgroundTokenizationFinished(){},setEndState:(w,E)=>{var I;(I=this._debugBackgroundStates)===null||I===void 0||I.setEndState(w,E)}})):(this._debugBackgroundTokens=void 0,this._debugBackgroundStates=void 0,this._debugBackgroundTokenizer.value=void 0)}this.refreshAllVisibleLineTokens()}handleDidChangeAttached(){var l;(l=this._defaultBackgroundTokenizer)===null||l===void 0||l.handleChanges()}handleDidChangeContent(l){var u,C,g;if(l.isFlush)this.resetTokenization(!1);else if(!l.isEolChange){for(const v of l.changes){const[b,w]=(0,m.countEOL)(v.text);this._tokens.acceptEdit(v.range,b,w),(u=this._debugBackgroundTokens)===null||u===void 0||u.acceptEdit(v.range,b,w)}(C=this._debugBackgroundStates)===null||C===void 0||C.acceptChanges(l.changes),this._tokenizer&&this._tokenizer.store.acceptChanges(l.changes),(g=this._defaultBackgroundTokenizer)===null||g===void 0||g.handleChanges()}}setTokens(l){const{changes:u}=this._tokens.setMultilineTokens(l,this._textModel);return u.length>0&&this._onDidChangeTokens.fire({semanticTokensApplied:!1,ranges:u}),{changes:u}}refreshAllVisibleLineTokens(){const l=_.LineRange.joinMany([...this._attachedViewStates].map(([u,C])=>C.lineRanges));this.refreshRanges(l)}refreshRanges(l){for(const u of l)this.refreshRange(u.startLineNumber,u.endLineNumberExclusive-1)}refreshRange(l,u){var C,g;if(!this._tokenizer)return;l=Math.max(1,Math.min(this._textModel.getLineCount(),l)),u=Math.min(this._textModel.getLineCount(),u);const v=new o.ContiguousMultilineTokensBuilder,{heuristicTokens:b}=this._tokenizer.tokenizeHeuristically(v,l,u),w=this.setTokens(v.finalize());if(b)for(const E of w.changes)(C=this._backgroundTokenizer.value)===null||C===void 0||C.requestTokens(E.fromLineNumber,E.toLineNumber+1);(g=this._defaultBackgroundTokenizer)===null||g===void 0||g.checkFinished()}forceTokenization(l){var u,C;const g=new o.ContiguousMultilineTokensBuilder;(u=this._tokenizer)===null||u===void 0||u.updateTokensUntilLine(g,l),this.setTokens(g.finalize()),(C=this._defaultBackgroundTokenizer)===null||C===void 0||C.checkFinished()}isCheapToTokenize(l){return this._tokenizer?this._tokenizer.isCheapToTokenize(l):!0}tokenizeIfCheap(l){this.isCheapToTokenize(l)&&this.forceTokenization(l)}getLineTokens(l){var u;const C=this._textModel.getLineContent(l),g=this._tokens.getTokens(this._textModel.getLanguageId(),l-1,C);if(this._debugBackgroundTokens&&this._debugBackgroundStates&&this._tokenizer&&this._debugBackgroundStates.getFirstInvalidEndStateLineNumberOrMax()>l&&this._tokenizer.store.getFirstInvalidEndStateLineNumberOrMax()>l){const v=this._debugBackgroundTokens.getTokens(this._textModel.getLanguageId(),l-1,C);!g.equals(v)&&(!((u=this._debugBackgroundTokenizer.value)===null||u===void 0)&&u.reportMismatchingTokens)&&this._debugBackgroundTokenizer.value.reportMismatchingTokens(l)}return g}getTokenTypeIfInsertingCharacter(l,u,C){if(!this._tokenizer)return 0;const g=this._textModel.validatePosition(new f.Position(l,u));return this.forceTokenization(g.lineNumber),this._tokenizer.getTokenTypeIfInsertingCharacter(g,C)}tokenizeLineWithEdit(l,u,C){if(!this._tokenizer)return null;const g=this._textModel.validatePosition(l);return this.forceTokenization(g.lineNumber),this._tokenizer.tokenizeLineWithEdit(g,u,C)}get hasTokens(){return this._tokens.hasTokens}}class c extends S.Disposable{get lineRanges(){return this._lineRanges}constructor(l){super(),this._refreshTokens=l,this.runner=this._register(new k.RunOnceScheduler(()=>this.update(),50)),this._computedLineRanges=[],this._lineRanges=[]}update(){(0,L.equals)(this._computedLineRanges,this._lineRanges)||(this._computedLineRanges=this._lineRanges,this._refreshTokens())}handleStateChange(l){this._lineRanges=l.visibleLineRanges,l.stabilized?(this.runner.cancel(),this.update()):this.runner.schedule()}}}),define(X[318],ee([1,0,20,6,62,21,11,5,24,29,207]),function(q,e,L,k,y,D,S,m,_,f,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createMonacoBaseAPI=e.KeyMod=void 0;class s{static chord(o,r){return(0,y.KeyChord)(o,r)}}e.KeyMod=s,s.CtrlCmd=2048,s.Shift=1024,s.Alt=512,s.WinCtrl=256;function t(){return{editor:void 0,languages:void 0,CancellationTokenSource:L.CancellationTokenSource,Emitter:k.Emitter,KeyCode:p.KeyCode,KeyMod:s,Position:S.Position,Range:m.Range,Selection:_.Selection,SelectionDirection:p.SelectionDirection,MarkerSeverity:p.MarkerSeverity,MarkerTag:p.MarkerTag,Uri:D.URI,Token:f.Token}}e.createMonacoBaseAPI=t}),define(X[595],ee([1,0,170,21,11,5,506,146,489,495,318,58,284,486,46,488]),function(q,e,L,k,y,D,S,m,_,f,p,s,t,i,o,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.create=e.EditorSimpleWorker=void 0;class d extends S.MirrorTextModel{get uri(){return this._uri}get eol(){return this._eol}getValue(){return this.getText()}findMatches(a){const l=[];for(let u=0;u<this._lines.length;u++){const C=this._lines[u],g=this.offsetAt(new y.Position(u+1,1)),v=C.matchAll(a);for(const b of v)(b.index||b.index===0)&&(b.index=b.index+g),l.push(b)}return l}getLinesContent(){return this._lines.slice(0)}getLineCount(){return this._lines.length}getLineContent(a){return this._lines[a-1]}getWordAtPosition(a,l){const u=(0,m.getWordAtText)(a.column,(0,m.ensureValidWordDefinition)(l),this._lines[a.lineNumber-1],0);return u?new D.Range(a.lineNumber,u.startColumn,a.lineNumber,u.endColumn):null}words(a){const l=this._lines,u=this._wordenize.bind(this);let C=0,g="",v=0,b=[];return{*[Symbol.iterator](){for(;;)if(v<b.length){const w=g.substring(b[v].start,b[v].end);v+=1,yield w}else if(C<l.length)g=l[C],b=u(g,a),v=0,C+=1;else break}}}getLineWords(a,l){const u=this._lines[a-1],C=this._wordenize(u,l),g=[];for(const v of C)g.push({word:u.substring(v.start,v.end),startColumn:v.start+1,endColumn:v.end+1});return g}_wordenize(a,l){const u=[];let C;for(l.lastIndex=0;(C=l.exec(a))&&C[0].length!==0;)u.push({start:C.index,end:C.index+C[0].length});return u}getValueInRange(a){if(a=this._validateRange(a),a.startLineNumber===a.endLineNumber)return this._lines[a.startLineNumber-1].substring(a.startColumn-1,a.endColumn-1);const l=this._eol,u=a.startLineNumber-1,C=a.endLineNumber-1,g=[];g.push(this._lines[u].substring(a.startColumn-1));for(let v=u+1;v<C;v++)g.push(this._lines[v]);return g.push(this._lines[C].substring(0,a.endColumn-1)),g.join(l)}offsetAt(a){return a=this._validatePosition(a),this._ensureLineStarts(),this._lineStarts.getPrefixSum(a.lineNumber-2)+(a.column-1)}positionAt(a){a=Math.floor(a),a=Math.max(0,a),this._ensureLineStarts();const l=this._lineStarts.getIndexOf(a),u=this._lines[l.index].length;return{lineNumber:1+l.index,column:1+Math.min(l.remainder,u)}}_validateRange(a){const l=this._validatePosition({lineNumber:a.startLineNumber,column:a.startColumn}),u=this._validatePosition({lineNumber:a.endLineNumber,column:a.endColumn});return l.lineNumber!==a.startLineNumber||l.column!==a.startColumn||u.lineNumber!==a.endLineNumber||u.column!==a.endColumn?{startLineNumber:l.lineNumber,startColumn:l.column,endLineNumber:u.lineNumber,endColumn:u.column}:a}_validatePosition(a){if(!y.Position.isIPosition(a))throw new Error("bad position");let{lineNumber:l,column:u}=a,C=!1;if(l<1)l=1,u=1,C=!0;else if(l>this._lines.length)l=this._lines.length,u=this._lines[l-1].length+1,C=!0;else{const g=this._lines[l-1].length+1;u<1?(u=1,C=!0):u>g&&(u=g,C=!0)}return C?{lineNumber:l,column:u}:a}}class h{constructor(a,l){this._host=a,this._models=Object.create(null),this._foreignModuleFactory=l,this._foreignModule=null}dispose(){this._models=Object.create(null)}_getModel(a){return this._models[a]}_getModels(){const a=[];return Object.keys(this._models).forEach(l=>a.push(this._models[l])),a}acceptNewModel(a){this._models[a.url]=new d(k.URI.parse(a.url),a.lines,a.EOL,a.versionId)}acceptModelChanged(a,l){if(!this._models[a])return;this._models[a].onEvents(l)}acceptRemovedModel(a){this._models[a]&&delete this._models[a]}computeUnicodeHighlights(a,l,u){return Le(this,void 0,void 0,function*(){const C=this._getModel(a);return C?t.UnicodeTextModelHighlighter.computeUnicodeHighlights(C,l,u):{ranges:[],hasMore:!1,ambiguousCharacterCount:0,invisibleCharacterCount:0,nonBasicAsciiCharacterCount:0}})}computeDiff(a,l,u,C){return Le(this,void 0,void 0,function*(){const g=this._getModel(a),v=this._getModel(l);return!g||!v?null:h.computeDiff(g,v,u,C)})}static computeDiff(a,l,u,C){const g=C==="advanced"?i.linesDiffComputers.getAdvanced():i.linesDiffComputers.getLegacy(),v=a.getLinesContent(),b=l.getLinesContent(),w=g.computeDiff(v,b,u),E=w.changes.length>0?!1:this._modelsAreIdentical(a,l);function I(T){return T.map(P=>{var A;return[P.originalRange.startLineNumber,P.originalRange.endLineNumberExclusive,P.modifiedRange.startLineNumber,P.modifiedRange.endLineNumberExclusive,(A=P.innerChanges)===null||A===void 0?void 0:A.map(M=>[M.originalRange.startLineNumber,M.originalRange.startColumn,M.originalRange.endLineNumber,M.originalRange.endColumn,M.modifiedRange.startLineNumber,M.modifiedRange.startColumn,M.modifiedRange.endLineNumber,M.modifiedRange.endColumn])]})}return{identical:E,quitEarly:w.hitTimeout,changes:I(w.changes),moves:w.moves.map(T=>[T.lineRangeMapping.originalRange.startLineNumber,T.lineRangeMapping.originalRange.endLineNumberExclusive,T.lineRangeMapping.modifiedRange.startLineNumber,T.lineRangeMapping.modifiedRange.endLineNumberExclusive,I(T.changes)])}}static _modelsAreIdentical(a,l){const u=a.getLineCount(),C=l.getLineCount();if(u!==C)return!1;for(let g=1;g<=u;g++){const v=a.getLineContent(g),b=l.getLineContent(g);if(v!==b)return!1}return!0}computeMoreMinimalEdits(a,l,u){return Le(this,void 0,void 0,function*(){const C=this._getModel(a);if(!C)return l;const g=[];let v;l=l.slice(0).sort((b,w)=>{if(b.range&&w.range)return D.Range.compareRangesUsingStarts(b.range,w.range);const E=b.range?0:1,I=w.range?0:1;return E-I});for(let{range:b,text:w,eol:E}of l){if(typeof E=="number"&&(v=E),D.Range.isEmpty(b)&&!w)continue;const I=C.getValueInRange(b);if(w=w.replace(/\r\n|\n|\r/g,C.eol),I===w)continue;if(Math.max(w.length,I.length)>h._diffLimit){g.push({range:b,text:w});continue}const T=(0,L.stringDiff)(I,w,u),P=C.offsetAt(D.Range.lift(b).getStartPosition());for(const A of T){const M=C.positionAt(P+A.originalStart),N=C.positionAt(P+A.originalStart+A.originalLength),R={text:w.substr(A.modifiedStart,A.modifiedLength),range:{startLineNumber:M.lineNumber,startColumn:M.column,endLineNumber:N.lineNumber,endColumn:N.column}};C.getValueInRange(R.range)!==R.text&&g.push(R)}}return typeof v=="number"&&g.push({eol:v,text:"",range:{startLineNumber:0,startColumn:0,endLineNumber:0,endColumn:0}}),g})}computeLinks(a){return Le(this,void 0,void 0,function*(){const l=this._getModel(a);return l?(0,_.computeLinks)(l):null})}computeDefaultDocumentColors(a){return Le(this,void 0,void 0,function*(){const l=this._getModel(a);return l?(0,r.computeDefaultDocumentColors)(l):null})}textualSuggest(a,l,u,C){return Le(this,void 0,void 0,function*(){const g=new s.StopWatch,v=new RegExp(u,C),b=new Set;e:for(const w of a){const E=this._getModel(w);if(E){for(const I of E.words(v))if(!(I===l||!isNaN(Number(I)))&&(b.add(I),b.size>h._suggestionsLimit))break e}}return{words:Array.from(b),duration:g.elapsed()}})}computeWordRanges(a,l,u,C){return Le(this,void 0,void 0,function*(){const g=this._getModel(a);if(!g)return Object.create(null);const v=new RegExp(u,C),b=Object.create(null);for(let w=l.startLineNumber;w<l.endLineNumber;w++){const E=g.getLineWords(w,v);for(const I of E){if(!isNaN(Number(I.word)))continue;let T=b[I.word];T||(T=[],b[I.word]=T),T.push({startLineNumber:w,startColumn:I.startColumn,endLineNumber:w,endColumn:I.endColumn})}}return b})}navigateValueSet(a,l,u,C,g){return Le(this,void 0,void 0,function*(){const v=this._getModel(a);if(!v)return null;const b=new RegExp(C,g);l.startColumn===l.endColumn&&(l={startLineNumber:l.startLineNumber,startColumn:l.startColumn,endLineNumber:l.endLineNumber,endColumn:l.endColumn+1});const w=v.getValueInRange(l),E=v.getWordAtPosition({lineNumber:l.startLineNumber,column:l.startColumn},b);if(!E)return null;const I=v.getValueInRange(E);return f.BasicInplaceReplace.INSTANCE.navigateValueSet(l,w,E,I,u)})}loadForeignModule(a,l,u){const C=(b,w)=>this._host.fhr(b,w),v={host:(0,o.createProxyObject)(u,C),getMirrorModels:()=>this._getModels()};return this._foreignModuleFactory?(this._foreignModule=this._foreignModuleFactory(v,l),Promise.resolve((0,o.getAllMethodNames)(this._foreignModule))):new Promise((b,w)=>{q([a],E=>{this._foreignModule=E.create(v,l),b((0,o.getAllMethodNames)(this._foreignModule))},w)})}fmr(a,l){if(!this._foreignModule||typeof this._foreignModule[a]!="function")return Promise.reject(new Error("Missing requestHandler or method: "+a));try{return Promise.resolve(this._foreignModule[a].apply(this._foreignModule,l))}catch(u){return Promise.reject(u)}}}e.EditorSimpleWorker=h,h._diffLimit=1e5,h._suggestionsLimit=1e4;function n(c){return new h(c,null)}e.create=n,typeof importScripts=="function"&&(globalThis.monaco=(0,p.createMonacoBaseAPI)())}),define(X[596],ee([1,0,138,17]),function(q,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.encodeSemanticTokensDto=void 0;function y(_){for(let f=0,p=_.length;f<p;f+=4){const s=_[f+0],t=_[f+1],i=_[f+2],o=_[f+3];_[f+0]=o,_[f+1]=i,_[f+2]=t,_[f+3]=s}}function D(_){const f=new Uint8Array(_.buffer,_.byteOffset,_.length*4);return k.isLittleEndian()||y(f),L.VSBuffer.wrap(f)}function S(_){const f=new Uint32Array(m(_));let p=0;if(f[p++]=_.id,_.type==="full")f[p++]=1,f[p++]=_.data.length,f.set(_.data,p),p+=_.data.length;else{f[p++]=2,f[p++]=_.deltas.length;for(const s of _.deltas)f[p++]=s.start,f[p++]=s.deleteCount,s.data?(f[p++]=s.data.length,f.set(s.data,p),p+=s.data.length):f[p++]=0}return D(f)}e.encodeSemanticTokensDto=S;function m(_){let f=0;if(f+=1+1,_.type==="full")f+=1+_.data.length;else{f+=1,f+=(1+1+1)*_.deltas.length;for(const p of _.deltas)p.data&&(f+=p.data.length)}return f}}),define(X[319],ee([1,0,6,2,272,29]),function(q,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MinimapTokensColorTracker=void 0;class S extends k.Disposable{static getInstance(){return this._INSTANCE||(this._INSTANCE=(0,k.markAsSingleton)(new S)),this._INSTANCE}constructor(){super(),this._onDidChange=new L.Emitter,this.onDidChange=this._onDidChange.event,this._updateColorMap(),this._register(D.TokenizationRegistry.onDidChange(_=>{_.changedColorMap&&this._updateColorMap()}))}_updateColorMap(){const _=D.TokenizationRegistry.getColorMap();if(!_){this._colors=[y.RGBA8.Empty],this._backgroundIsLight=!0;return}this._colors=[y.RGBA8.Empty];for(let p=1;p<_.length;p++){const s=_[p].rgba;this._colors[p]=new y.RGBA8(s.r,s.g,s.b,Math.round(s.a*255))}const f=_[2].getRelativeLuminance();this._backgroundIsLight=f>=.5,this._onDidChange.fire(void 0)}getColor(_){return(_<1||_>=this._colors.length)&&(_=2),this._colors[_]}backgroundIsLight(){return this._backgroundIsLight}}e.MinimapTokensColorTracker=S,S._INSTANCE=null}),define(X[187],ee([1,0,6,2,17]),function(q,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ClickLinkGesture=e.ClickLinkOptions=e.ClickLinkKeyboardEvent=e.ClickLinkMouseEvent=void 0;function D(s,t){return!!s[t]}class S{constructor(t,i){this.target=t.target,this.isLeftClick=t.event.leftButton,this.isMiddleClick=t.event.middleButton,this.isRightClick=t.event.rightButton,this.hasTriggerModifier=D(t.event,i.triggerModifier),this.hasSideBySideModifier=D(t.event,i.triggerSideBySideModifier),this.isNoneOrSingleMouseDown=t.event.detail<=1}}e.ClickLinkMouseEvent=S;class m{constructor(t,i){this.keyCodeIsTriggerKey=t.keyCode===i.triggerKey,this.keyCodeIsSideBySideKey=t.keyCode===i.triggerSideBySideKey,this.hasTriggerModifier=D(t,i.triggerModifier)}}e.ClickLinkKeyboardEvent=m;class _{constructor(t,i,o,r){this.triggerKey=t,this.triggerModifier=i,this.triggerSideBySideKey=o,this.triggerSideBySideModifier=r}equals(t){return this.triggerKey===t.triggerKey&&this.triggerModifier===t.triggerModifier&&this.triggerSideBySideKey===t.triggerSideBySideKey&&this.triggerSideBySideModifier===t.triggerSideBySideModifier}}e.ClickLinkOptions=_;function f(s){return s==="altKey"?y.isMacintosh?new _(57,"metaKey",6,"altKey"):new _(5,"ctrlKey",6,"altKey"):y.isMacintosh?new _(6,"altKey",57,"metaKey"):new _(6,"altKey",5,"ctrlKey")}class p extends k.Disposable{constructor(t,i){super(),this._onMouseMoveOrRelevantKeyDown=this._register(new L.Emitter),this.onMouseMoveOrRelevantKeyDown=this._onMouseMoveOrRelevantKeyDown.event,this._onExecute=this._register(new L.Emitter),this.onExecute=this._onExecute.event,this._onCancel=this._register(new L.Emitter),this.onCancel=this._onCancel.event,this._editor=t,this._alwaysFireExecuteOnMouseUp=i,this._opts=f(this._editor.getOption(75)),this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._lineNumberOnMouseDown=0,this._register(this._editor.onDidChangeConfiguration(o=>{if(o.hasChanged(75)){const r=f(this._editor.getOption(75));if(this._opts.equals(r))return;this._opts=r,this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._lineNumberOnMouseDown=0,this._onCancel.fire()}})),this._register(this._editor.onMouseMove(o=>this._onEditorMouseMove(new S(o,this._opts)))),this._register(this._editor.onMouseDown(o=>this._onEditorMouseDown(new S(o,this._opts)))),this._register(this._editor.onMouseUp(o=>this._onEditorMouseUp(new S(o,this._opts)))),this._register(this._editor.onKeyDown(o=>this._onEditorKeyDown(new m(o,this._opts)))),this._register(this._editor.onKeyUp(o=>this._onEditorKeyUp(new m(o,this._opts)))),this._register(this._editor.onMouseDrag(()=>this._resetHandler())),this._register(this._editor.onDidChangeCursorSelection(o=>this._onDidChangeCursorSelection(o))),this._register(this._editor.onDidChangeModel(o=>this._resetHandler())),this._register(this._editor.onDidChangeModelContent(()=>this._resetHandler())),this._register(this._editor.onDidScrollChange(o=>{(o.scrollTopChanged||o.scrollLeftChanged)&&this._resetHandler()}))}_onDidChangeCursorSelection(t){t.selection&&t.selection.startColumn!==t.selection.endColumn&&this._resetHandler()}_onEditorMouseMove(t){this._lastMouseMoveEvent=t,this._onMouseMoveOrRelevantKeyDown.fire([t,null])}_onEditorMouseDown(t){this._hasTriggerKeyOnMouseDown=t.hasTriggerModifier,this._lineNumberOnMouseDown=t.target.position?t.target.position.lineNumber:0}_onEditorMouseUp(t){const i=t.target.position?t.target.position.lineNumber:0;(this._hasTriggerKeyOnMouseDown&&this._lineNumberOnMouseDown&&this._lineNumberOnMouseDown===i||this._alwaysFireExecuteOnMouseUp)&&this._onExecute.fire(t)}_onEditorKeyDown(t){this._lastMouseMoveEvent&&(t.keyCodeIsTriggerKey||t.keyCodeIsSideBySideKey&&t.hasTriggerModifier)?this._onMouseMoveOrRelevantKeyDown.fire([this._lastMouseMoveEvent,t]):t.hasTriggerModifier&&this._onCancel.fire()}_onEditorKeyUp(t){t.keyCodeIsTriggerKey&&this._onCancel.fire()}_resetHandler(){this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._onCancel.fire()}}e.ClickLinkGesture=p});var yt=this&&this.__asyncValues||function(q){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=q[Symbol.asyncIterator],L;return e?e.call(q):(q=typeof __values=="function"?__values(q):q[Symbol.iterator](),L={},k("next"),k("throw"),k("return"),L[Symbol.asyncIterator]=function(){return this},L);function k(D){L[D]=q[D]&&function(S){return new Promise(function(m,_){S=q[D](S),y(m,_,S.done,S.value)})}}function y(D,S,m,_){Promise.resolve(_).then(function(f){D({value:f,done:m})},S)}};define(X[320],ee([1,0,14,12,6,2]),function(q,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HoverOperation=e.HoverResult=void 0;class S{constructor(f,p,s){this.value=f,this.isComplete=p,this.hasLoadingMessage=s}}e.HoverResult=S;class m extends D.Disposable{constructor(f,p){super(),this._editor=f,this._computer=p,this._onResult=this._register(new y.Emitter),this.onResult=this._onResult.event,this._firstWaitScheduler=this._register(new L.RunOnceScheduler(()=>this._triggerAsyncComputation(),0)),this._secondWaitScheduler=this._register(new L.RunOnceScheduler(()=>this._triggerSyncComputation(),0)),this._loadingMessageScheduler=this._register(new L.RunOnceScheduler(()=>this._triggerLoadingMessage(),0)),this._state=0,this._asyncIterable=null,this._asyncIterableDone=!1,this._result=[]}dispose(){this._asyncIterable&&(this._asyncIterable.cancel(),this._asyncIterable=null),super.dispose()}get _hoverTime(){return this._editor.getOption(58).delay}get _firstWaitTime(){return this._hoverTime/2}get _secondWaitTime(){return this._hoverTime-this._firstWaitTime}get _loadingMessageTime(){return 3*this._hoverTime}_setState(f,p=!0){this._state=f,p&&this._fireResult()}_triggerAsyncComputation(){this._setState(2),this._secondWaitScheduler.schedule(this._secondWaitTime),this._computer.computeAsync?(this._asyncIterableDone=!1,this._asyncIterable=(0,L.createCancelableAsyncIterable)(f=>this._computer.computeAsync(f)),Le(this,void 0,void 0,function*(){var f,p,s,t;try{try{for(var i=!0,o=yt(this._asyncIterable),r;r=yield o.next(),f=r.done,!f;i=!0){t=r.value,i=!1;const d=t;d&&(this._result.push(d),this._fireResult())}}catch(d){p={error:d}}finally{try{!i&&!f&&(s=o.return)&&(yield s.call(o))}finally{if(p)throw p.error}}this._asyncIterableDone=!0,(this._state===3||this._state===4)&&this._setState(0)}catch(d){(0,k.onUnexpectedError)(d)}})):this._asyncIterableDone=!0}_triggerSyncComputation(){this._computer.computeSync&&(this._result=this._result.concat(this._computer.computeSync())),this._setState(this._asyncIterableDone?0:3)}_triggerLoadingMessage(){this._state===3&&this._setState(4)}_fireResult(){if(this._state===1||this._state===2)return;const f=this._state===0,p=this._state===4;this._onResult.fire(new S(this._result.slice(0),f,p))}start(f){if(f===0)this._state===0&&(this._setState(1),this._firstWaitScheduler.schedule(this._firstWaitTime),this._loadingMessageScheduler.schedule(this._loadingMessageTime));else switch(this._state){case 0:this._triggerAsyncComputation(),this._secondWaitScheduler.cancel(),this._triggerSyncComputation();break;case 2:this._secondWaitScheduler.cancel(),this._triggerSyncComputation();break}}cancel(){this._firstWaitScheduler.cancel(),this._secondWaitScheduler.cancel(),this._loadingMessageScheduler.cancel(),this._asyncIterable&&(this._asyncIterable.cancel(),this._asyncIterable=null),this._result=[],this._setState(0,!1)}}e.HoverOperation=m}),define(X[597],ee([1,0,223,2,11,7]),function(q,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ResizableContentWidget=void 0;const S=30,m=24;class _ extends k.Disposable{constructor(p,s=new D.Dimension(10,10)){super(),this._editor=p,this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._resizableNode=this._register(new L.ResizableHTMLElement),this._contentPosition=null,this._isResizing=!1,this._resizableNode.domNode.style.position="absolute",this._resizableNode.minSize=new D.Dimension(10,10),this._resizableNode.enableSashes(!0,!0,!0,!0),this._resizableNode.layout(s.height,s.width),this._register(this._resizableNode.onDidResize(t=>{this._resize(new D.Dimension(t.dimension.width,t.dimension.height)),t.done&&(this._isResizing=!1)})),this._register(this._resizableNode.onDidWillResize(()=>{this._isResizing=!0}))}get isResizing(){return this._isResizing}getDomNode(){return this._resizableNode.domNode}getPosition(){return this._contentPosition}get position(){var p;return!((p=this._contentPosition)===null||p===void 0)&&p.position?y.Position.lift(this._contentPosition.position):void 0}_availableVerticalSpaceAbove(p){const s=this._editor.getDomNode(),t=this._editor.getScrolledVisiblePosition(p);return!s||!t?void 0:D.getDomNodePagePosition(s).top+t.top-S}_availableVerticalSpaceBelow(p){const s=this._editor.getDomNode(),t=this._editor.getScrolledVisiblePosition(p);if(!s||!t)return;const i=D.getDomNodePagePosition(s),o=D.getClientArea(document.body),r=i.top+t.top+t.height;return o.height-r-m}_findPositionPreference(p,s){var t,i;const o=Math.min((t=this._availableVerticalSpaceBelow(s))!==null&&t!==void 0?t:1/0,p),r=Math.min((i=this._availableVerticalSpaceAbove(s))!==null&&i!==void 0?i:1/0,p),d=Math.min(Math.max(r,o),p),h=Math.min(p,d);let n;return this._editor.getOption(58).above?n=h<=r?1:2:n=h<=o?2:1,n===1?this._resizableNode.enableSashes(!0,!0,!1,!1):this._resizableNode.enableSashes(!1,!0,!0,!1),n}_resize(p){this._resizableNode.layout(p.height,p.width)}}e.ResizableContentWidget=_}),define(X[321],ee([1,0,12,2,11,5,53,21]),function(q,e,L,k,y,D,S,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.asCommandLink=e.InlayHintsFragments=e.InlayHintItem=e.InlayHintAnchor=void 0;class _{constructor(i,o){this.range=i,this.direction=o}}e.InlayHintAnchor=_;class f{constructor(i,o,r){this.hint=i,this.anchor=o,this.provider=r,this._isResolved=!1}with(i){const o=new f(this.hint,i.anchor,this.provider);return o._isResolved=this._isResolved,o._currentResolve=this._currentResolve,o}resolve(i){return Le(this,void 0,void 0,function*(){if(typeof this.provider.resolveInlayHint=="function"){if(this._currentResolve)return yield this._currentResolve,i.isCancellationRequested?void 0:this.resolve(i);this._isResolved||(this._currentResolve=this._doResolve(i).finally(()=>this._currentResolve=void 0)),yield this._currentResolve}})}_doResolve(i){var o,r;return Le(this,void 0,void 0,function*(){try{const d=yield Promise.resolve(this.provider.resolveInlayHint(this.hint,i));this.hint.tooltip=(o=d?.tooltip)!==null&&o!==void 0?o:this.hint.tooltip,this.hint.label=(r=d?.label)!==null&&r!==void 0?r:this.hint.label,this._isResolved=!0}catch(d){(0,L.onUnexpectedExternalError)(d),this._isResolved=!1}})}}e.InlayHintItem=f;class p{static create(i,o,r,d){return Le(this,void 0,void 0,function*(){const h=[],n=i.ordered(o).reverse().map(c=>r.map(a=>Le(this,void 0,void 0,function*(){try{const l=yield c.provideInlayHints(o,a,d);l?.hints.length&&h.push([l,c])}catch(l){(0,L.onUnexpectedExternalError)(l)}})));if(yield Promise.all(n.flat()),d.isCancellationRequested||o.isDisposed())throw new L.CancellationError;return new p(r,h,o)})}constructor(i,o,r){this._disposables=new k.DisposableStore,this.ranges=i,this.provider=new Set;const d=[];for(const[h,n]of o){this._disposables.add(h),this.provider.add(n);for(const c of h.hints){const a=r.validatePosition(c.position);let l="before";const u=p._getRangeAtPosition(r,a);let C;u.getStartPosition().isBefore(a)?(C=D.Range.fromPositions(u.getStartPosition(),a),l="after"):(C=D.Range.fromPositions(a,u.getEndPosition()),l="before"),d.push(new f(c,new _(C,l),n))}}this.items=d.sort((h,n)=>y.Position.compare(h.hint.position,n.hint.position))}dispose(){this._disposables.dispose()}static _getRangeAtPosition(i,o){const r=o.lineNumber,d=i.getWordAtPosition(o);if(d)return new D.Range(r,d.startColumn,r,d.endColumn);i.tokenization.tokenizeIfCheap(r);const h=i.tokenization.getLineTokens(r),n=o.column-1,c=h.findTokenIndexAtOffset(n);let a=h.getStartOffset(c),l=h.getEndOffset(c);return l-a===1&&(a===n&&c>1?(a=h.getStartOffset(c-1),l=h.getEndOffset(c-1)):l===n&&c<h.getCount()-1&&(a=h.getStartOffset(c+1),l=h.getEndOffset(c+1))),new D.Range(r,a+1,r,l+1)}}e.InlayHintsFragments=p;function s(t){return m.URI.from({scheme:S.Schemas.command,path:t.id,query:t.arguments&&encodeURIComponent(JSON.stringify(t.arguments))}).toString()}e.asCommandLink=s}),define(X[598],ee([3,4]),function(q,e){return q.create("vs/editor/browser/controller/textAreaHandler",e)}),define(X[599],ee([3,4]),function(q,e){return q.create("vs/editor/browser/coreCommands",e)}),define(X[600],ee([3,4]),function(q,e){return q.create("vs/editor/browser/editorExtensions",e)}),define(X[601],ee([3,4]),function(q,e){return q.create("vs/editor/browser/widget/codeEditorWidget",e)}),define(X[602],ee([3,4]),function(q,e){return q.create("vs/editor/browser/widget/diffEditor.contribution",e)}),define(X[603],ee([3,4]),function(q,e){return q.create("vs/editor/browser/widget/diffEditorWidget",e)}),define(X[604],ee([3,4]),function(q,e){return q.create("vs/editor/browser/widget/diffEditorWidget2/decorations",e)}),define(X[605],ee([3,4]),function(q,e){return q.create("vs/editor/browser/widget/diffEditorWidget2/diffEditorEditors",e)}),define(X[606],ee([3,4]),function(q,e){return q.create("vs/editor/browser/widget/diffEditorWidget2/diffReview",e)}),define(X[607],ee([3,4]),function(q,e){return q.create("vs/editor/browser/widget/diffEditorWidget2/inlineDiffDeletedCodeMargin",e)}),define(X[608],ee([1,0,7,40,25,2,17,27,607]),function(q,e,L,k,y,D,S,m,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlineDiffDeletedCodeMargin=void 0;class f extends D.Disposable{get visibility(){return this._visibility}set visibility(s){this._visibility!==s&&(this._visibility=s,this._diffActions.style.visibility=s?"visible":"hidden")}constructor(s,t,i,o,r,d,h,n,c){super(),this._getViewZoneId=s,this._marginDomNode=t,this._modifiedEditor=i,this._diff=o,this._editor=r,this._viewLineCounts=d,this._originalTextModel=h,this._contextMenuService=n,this._clipboardService=c,this._visibility=!1,this._marginDomNode.style.zIndex="10",this._diffActions=document.createElement("div"),this._diffActions.className=m.ThemeIcon.asClassName(y.Codicon.lightBulb)+" lightbulb-glyph",this._diffActions.style.position="absolute";const a=this._modifiedEditor.getOption(64);this._diffActions.style.right="0px",this._diffActions.style.visibility="hidden",this._diffActions.style.height=`${a}px`,this._diffActions.style.lineHeight=`${a}px`,this._marginDomNode.appendChild(this._diffActions);let l=0;const u=i.getOption(124)&&!S.isIOS,C=(g,v)=>{var b;this._contextMenuService.showContextMenu({domForShadowRoot:u&&(b=i.getDomNode())!==null&&b!==void 0?b:void 0,getAnchor:()=>({x:g,y:v}),getActions:()=>{const w=[],E=o.modifiedRange.isEmpty;return w.push(new k.Action("diff.clipboard.copyDeletedContent",E?o.originalRange.length>1?(0,_.localize)(0,null):(0,_.localize)(1,null):o.originalRange.length>1?(0,_.localize)(2,null):(0,_.localize)(3,null),void 0,!0,()=>Le(this,void 0,void 0,function*(){const T=this._originalTextModel.getValueInRange(o.originalRange.toExclusiveRange());yield this._clipboardService.writeText(T)}))),o.originalRange.length>1&&w.push(new k.Action("diff.clipboard.copyDeletedLineContent",E?(0,_.localize)(4,null,o.originalRange.startLineNumber+l):(0,_.localize)(5,null,o.originalRange.startLineNumber+l),void 0,!0,()=>Le(this,void 0,void 0,function*(){let T=this._originalTextModel.getLineContent(o.originalRange.startLineNumber+l);T===""&&(T=this._originalTextModel.getEndOfLineSequence()===0?`
`:`\r
`),yield this._clipboardService.writeText(T)}))),i.getOption(88)||w.push(new k.Action("diff.inline.revertChange",(0,_.localize)(6,null),void 0,!0,()=>Le(this,void 0,void 0,function*(){this._editor.revert(this._diff)}))),w},autoSelectFirstItem:!0})};this._register((0,L.addStandardDisposableListener)(this._diffActions,"mousedown",g=>{const{top:v,height:b}=(0,L.getDomNodePagePosition)(this._diffActions),w=Math.floor(a/3);g.preventDefault(),C(g.posx,v+b+w)})),this._register(i.onMouseMove(g=>{(g.target.type===8||g.target.type===5)&&g.target.detail.viewZoneId===this._getViewZoneId()?(l=this._updateLightBulbPosition(this._marginDomNode,g.event.browserEvent.y,a),this.visibility=!0):this.visibility=!1})),this._register(i.onMouseDown(g=>{g.event.rightButton&&(g.target.type===8||g.target.type===5)&&g.target.detail.viewZoneId===this._getViewZoneId()&&(g.event.preventDefault(),l=this._updateLightBulbPosition(this._marginDomNode,g.event.browserEvent.y,a),C(g.event.posx,g.event.posy+a))}))}_updateLightBulbPosition(s,t,i){const{top:o}=(0,L.getDomNodePagePosition)(s),r=t-o,d=Math.floor(r/i),h=d*i;if(this._diffActions.style.top=`${h}px`,this._viewLineCounts){let n=0;for(let c=0;c<this._viewLineCounts.length;c++)if(n+=this._viewLineCounts[c],d<n)return c}return d}}e.InlineDiffDeletedCodeMargin=f}),define(X[609],ee([3,4]),function(q,e){return q.create("vs/editor/browser/widget/diffEditorWidget2/unchangedRanges",e)}),define(X[610],ee([1,0,7,129,25,55,2,42,90,167,27,18,143,65,11,5,609]),function(q,e,L,k,y,D,S,m,_,f,p,s,t,i,o,r,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UnchangedRangesFeature=void 0;class h extends S.Disposable{get isUpdatingViewZones(){return this._isUpdatingViewZones}constructor(a,l,u){super(),this._editors=a,this._diffModel=l,this._options=u,this._isUpdatingViewZones=!1,this._register(this._editors.original.onDidChangeCursorPosition(w=>{if(w.reason===3){const E=this._diffModel.get();(0,m.transaction)(I=>{for(const T of this._editors.original.getSelections()||[])E?.ensureOriginalLineIsVisible(T.getStartPosition().lineNumber,I),E?.ensureOriginalLineIsVisible(T.getEndPosition().lineNumber,I)})}})),this._register(this._editors.modified.onDidChangeCursorPosition(w=>{if(w.reason===3){const E=this._diffModel.get();(0,m.transaction)(I=>{for(const T of this._editors.modified.getSelections()||[])E?.ensureModifiedLineIsVisible(T.getStartPosition().lineNumber,I),E?.ensureModifiedLineIsVisible(T.getEndPosition().lineNumber,I)})}}));const C=this._diffModel.map((w,E)=>{var I,T;return((I=w?.diff.read(E))===null||I===void 0?void 0:I.mappings.length)===0?[]:(T=w?.unchangedRegions.read(E))!==null&&T!==void 0?T:[]}),g=(0,f.derivedWithStore)("view zones",(w,E)=>{const I=[],T=[],P=this._options.renderSideBySide.read(w),A=C.read(w);for(const M of A)if(!M.shouldHideControls(w)){{const N=(0,f.derived)("hiddenOriginalRangeStart",F=>M.getHiddenOriginalRange(F).startLineNumber-1),R=new t.PlaceholderViewZone(N,24);I.push(R),E.add(new n(this._editors.original,R,M,!P))}{const N=(0,f.derived)("hiddenModifiedRangeStart",F=>M.getHiddenModifiedRange(F).startLineNumber-1),R=new t.PlaceholderViewZone(N,24);T.push(R),E.add(new n(this._editors.modified,R,M,!1))}}return{origViewZones:I,modViewZones:T}}),v={description:"unchanged lines",className:"diff-unchanged-lines",isWholeLine:!0},b={description:"Fold Unchanged",glyphMarginHoverMessage:new D.MarkdownString(void 0,{isTrusted:!0,supportThemeIcons:!0}).appendMarkdown((0,d.localize)(0,null)),glyphMarginClassName:"fold-unchanged "+p.ThemeIcon.asClassName(y.Codicon.fold),zIndex:10001};this._register((0,t.applyObservableDecorations)(this._editors.original,(0,f.derived)("decorations",w=>{const E=C.read(w),I=E.map(T=>({range:T.originalRange.toInclusiveRange(),options:v}));for(const T of E)T.shouldHideControls(w)&&I.push({range:r.Range.fromPositions(new o.Position(T.originalLineNumber,1)),options:b});return I}))),this._register((0,t.applyObservableDecorations)(this._editors.modified,(0,f.derived)("decorations",w=>{const E=C.read(w),I=E.map(T=>({range:T.modifiedRange.toInclusiveRange(),options:v}));for(const T of E)T.shouldHideControls(w)&&I.push({range:i.LineRange.ofLength(T.modifiedLineNumber,1).toInclusiveRange(),options:b});return I}))),this._register((0,t.applyViewZones)(this._editors.original,g.map(w=>w.origViewZones),w=>this._isUpdatingViewZones=w)),this._register((0,t.applyViewZones)(this._editors.modified,g.map(w=>w.modViewZones),w=>this._isUpdatingViewZones=w)),this._register((0,_.autorunWithStore2)("update folded unchanged regions",(w,E)=>{const I=C.read(w);this._editors.original.setHiddenAreas(I.map(T=>T.getHiddenOriginalRange(w).toInclusiveRange()).filter(s.isDefined)),this._editors.modified.setHiddenAreas(I.map(T=>T.getHiddenModifiedRange(w).toInclusiveRange()).filter(s.isDefined))})),this._register(this._editors.modified.onMouseUp(w=>{var E;if(!w.event.rightButton&&w.target.position&&(!((E=w.target.element)===null||E===void 0)&&E.className.includes("fold-unchanged"))){const I=w.target.position.lineNumber,T=this._diffModel.get();if(!T)return;const P=T.unchangedRegions.get().find(A=>A.modifiedRange.includes(I));if(!P)return;P.setState(0,0,void 0),w.event.stopPropagation(),w.event.preventDefault()}})),this._register(this._editors.original.onMouseUp(w=>{var E;if(!w.event.rightButton&&w.target.position&&(!((E=w.target.element)===null||E===void 0)&&E.className.includes("fold-unchanged"))){const I=w.target.position.lineNumber,T=this._diffModel.get();if(!T)return;const P=T.unchangedRegions.get().find(A=>A.originalRange.includes(I));if(!P)return;P.setState(0,0,void 0),w.event.stopPropagation(),w.event.preventDefault()}}))}}e.UnchangedRangesFeature=h;class n extends t.ViewZoneOverlayWidget{constructor(a,l,u,C){const g=(0,L.h)("div.diff-hidden-lines-widget");super(a,l,g.root),this._editor=a,this._unchangedRegion=u,this.hide=C,this._nodes=(0,L.h)("div.diff-hidden-lines",[(0,L.h)("div.top@top",{title:"Click or drag to show more above"}),(0,L.h)("div.center@content",{style:{display:"flex"}},[(0,L.h)("div@first",{style:{display:"flex",justifyContent:"center",alignItems:"center"}},[(0,L.$)("a",{title:"Show all",role:"button",onclick:()=>{this._unchangedRegion.showAll(void 0)}},...(0,k.renderLabelWithIcons)("$(unfold)"))]),(0,L.h)("div@others",{style:{display:"flex",justifyContent:"center",alignItems:"center"}})]),(0,L.h)("div.bottom@bottom",{title:"Click or drag to show more below",role:"button"})]),g.root.appendChild(this._nodes.root);const v=(0,m.observableFromEvent)(this._editor.onDidLayoutChange,()=>this._editor.getLayoutInfo());this.hide?(0,L.reset)(this._nodes.first):this._register((0,t.applyStyle)(this._nodes.first,{width:v.map(w=>w.contentLeft)}));const b=this._editor;this._register((0,L.addDisposableListener)(this._nodes.top,"mousedown",w=>{if(w.button!==0)return;this._nodes.top.classList.toggle("dragging",!0),this._nodes.root.classList.toggle("dragging",!0),w.preventDefault();const E=w.clientY;let I=!1;const T=this._unchangedRegion.visibleLineCountTop.get();this._unchangedRegion.isDragged.set(!0,void 0);const P=(0,L.addDisposableListener)(window,"mousemove",M=>{const R=M.clientY-E;I=I||Math.abs(R)>2;const F=Math.round(R/b.getOption(64)),x=Math.max(0,Math.min(T+F,this._unchangedRegion.getMaxVisibleLineCountTop()));this._unchangedRegion.visibleLineCountTop.set(x,void 0)}),A=(0,L.addDisposableListener)(window,"mouseup",M=>{I||this._unchangedRegion.showMoreAbove(20,void 0),this._nodes.top.classList.toggle("dragging",!1),this._nodes.root.classList.toggle("dragging",!1),this._unchangedRegion.isDragged.set(!1,void 0),P.dispose(),A.dispose()})})),this._register((0,L.addDisposableListener)(this._nodes.bottom,"mousedown",w=>{if(w.button!==0)return;this._nodes.bottom.classList.toggle("dragging",!0),this._nodes.root.classList.toggle("dragging",!0),w.preventDefault();const E=w.clientY;let I=!1;const T=this._unchangedRegion.visibleLineCountBottom.get();this._unchangedRegion.isDragged.set(!0,void 0);const P=(0,L.addDisposableListener)(window,"mousemove",M=>{const R=M.clientY-E;I=I||Math.abs(R)>2;const F=Math.round(R/b.getOption(64)),x=Math.max(0,Math.min(T-F,this._unchangedRegion.getMaxVisibleLineCountBottom())),W=b.getTopForLineNumber(this._unchangedRegion.originalRange.endLineNumberExclusive);this._unchangedRegion.visibleLineCountBottom.set(x,void 0);const z=b.getTopForLineNumber(this._unchangedRegion.originalRange.endLineNumberExclusive);b.setScrollTop(b.getScrollTop()+(z-W))}),A=(0,L.addDisposableListener)(window,"mouseup",M=>{if(this._unchangedRegion.isDragged.set(!1,void 0),!I){const N=b.getTopForLineNumber(this._unchangedRegion.originalRange.endLineNumberExclusive);this._unchangedRegion.showMoreBelow(20,void 0);const R=b.getTopForLineNumber(this._unchangedRegion.originalRange.endLineNumberExclusive);b.setScrollTop(b.getScrollTop()+(R-N))}this._nodes.bottom.classList.toggle("dragging",!1),this._nodes.root.classList.toggle("dragging",!1),P.dispose(),A.dispose()})})),this._register((0,_.autorun)("update labels",w=>{const E=[];if(!this.hide){const T=`${u.getHiddenModifiedRange(w).length} Hidden Lines`;E.push((0,L.$)("span",{title:T},T))}(0,L.reset)(this._nodes.others,...E)}))}}}),define(X[611],ee([3,4]),function(q,e){return q.create("vs/editor/browser/widget/diffReview",e)}),define(X[612],ee([3,4]),function(q,e){return q.create("vs/editor/browser/widget/inlineDiffMargin",e)}),define(X[613],ee([1,0,612,7,40,2,5,25,27,17]),function(q,e,L,k,y,D,S,m,_,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlineDiffMargin=void 0;class p extends D.Disposable{get visibility(){return this._visibility}set visibility(t){this._visibility!==t&&(this._visibility=t,t?this._diffActions.style.visibility="visible":this._diffActions.style.visibility="hidden")}constructor(t,i,o,r,d,h){super(),this._viewZoneId=t,this._marginDomNode=i,this.editor=o,this.diff=r,this._contextMenuService=d,this._clipboardService=h,this._visibility=!1,this._marginDomNode.style.zIndex="10",this._diffActions=document.createElement("div"),this._diffActions.className=_.ThemeIcon.asClassName(m.Codicon.lightBulb)+" lightbulb-glyph",this._diffActions.style.position="absolute";const n=o.getOption(64),c=o.getModel().getEOL();this._diffActions.style.right="0px",this._diffActions.style.visibility="hidden",this._diffActions.style.height=`${n}px`,this._diffActions.style.lineHeight=`${n}px`,this._marginDomNode.appendChild(this._diffActions);const a=[],l=r.modifiedEndLineNumber===0;a.push(new y.Action("diff.clipboard.copyDeletedContent",l?r.originalEndLineNumber>r.modifiedStartLineNumber?L.localize(0,null):L.localize(1,null):r.originalEndLineNumber>r.modifiedStartLineNumber?L.localize(2,null):L.localize(3,null),void 0,!0,()=>Le(this,void 0,void 0,function*(){const w=new S.Range(r.originalStartLineNumber,1,r.originalEndLineNumber+1,1),E=r.originalModel.getValueInRange(w);yield this._clipboardService.writeText(E)})));let u=0,C;r.originalEndLineNumber>r.modifiedStartLineNumber&&(C=new y.Action("diff.clipboard.copyDeletedLineContent",l?L.localize(4,null,r.originalStartLineNumber):L.localize(5,null,r.originalStartLineNumber),void 0,!0,()=>Le(this,void 0,void 0,function*(){const w=r.originalModel.getLineContent(r.originalStartLineNumber+u);if(w===""){const E=r.originalModel.getEndOfLineSequence();yield this._clipboardService.writeText(E===0?`
`:`\r
`)}else yield this._clipboardService.writeText(w)})),a.push(C)),o.getOption(88)||a.push(new y.Action("diff.inline.revertChange",L.localize(6,null),void 0,!0,()=>Le(this,void 0,void 0,function*(){const w=new S.Range(r.originalStartLineNumber,1,r.originalEndLineNumber,r.originalModel.getLineMaxColumn(r.originalEndLineNumber)),E=r.originalModel.getValueInRange(w);if(r.modifiedEndLineNumber===0){const I=o.getModel().getLineMaxColumn(r.modifiedStartLineNumber);o.executeEdits("diffEditor",[{range:new S.Range(r.modifiedStartLineNumber,I,r.modifiedStartLineNumber,I),text:c+E}])}else{const I=o.getModel().getLineMaxColumn(r.modifiedEndLineNumber);o.executeEdits("diffEditor",[{range:new S.Range(r.modifiedStartLineNumber,1,r.modifiedEndLineNumber,I),text:E}])}})));const v=o.getOption(124)&&!f.isIOS,b=(w,E)=>{var I;this._contextMenuService.showContextMenu({domForShadowRoot:v&&(I=o.getDomNode())!==null&&I!==void 0?I:void 0,getAnchor:()=>({x:w,y:E}),getActions:()=>(C&&(C.label=l?L.localize(7,null,r.originalStartLineNumber+u):L.localize(8,null,r.originalStartLineNumber+u)),a),autoSelectFirstItem:!0})};this._register(k.addStandardDisposableListener(this._diffActions,"mousedown",w=>{const{top:E,height:I}=k.getDomNodePagePosition(this._diffActions),T=Math.floor(n/3);w.preventDefault(),b(w.posx,E+I+T)})),this._register(o.onMouseMove(w=>{w.target.type===8||w.target.type===5?w.target.detail.viewZoneId===this._viewZoneId?(this.visibility=!0,u=this._updateLightBulbPosition(this._marginDomNode,w.event.browserEvent.y,n)):this.visibility=!1:this.visibility=!1})),this._register(o.onMouseDown(w=>{w.event.rightButton&&(w.target.type===8||w.target.type===5)&&w.target.detail.viewZoneId===this._viewZoneId&&(w.event.preventDefault(),u=this._updateLightBulbPosition(this._marginDomNode,w.event.browserEvent.y,n),b(w.event.posx,w.event.posy+n))}))}_updateLightBulbPosition(t,i,o){const{top:r}=k.getDomNodePagePosition(t),d=i-r,h=Math.floor(d/o),n=h*o;if(this._diffActions.style.top=`${n}px`,this.diff.viewLineCounts){let c=0;for(let a=0;a<this.diff.viewLineCounts.length;a++)if(c+=this.diff.viewLineCounts[a],h<c)return a}return h}}e.InlineDiffMargin=p}),define(X[614],ee([3,4]),function(q,e){return q.create("vs/editor/common/config/editorConfigurationSchema",e)}),define(X[615],ee([3,4]),function(q,e){return q.create("vs/editor/common/config/editorOptions",e)}),define(X[35],ee([1,0,16,46,17,177,146,615]),function(q,e,L,k,y,D,S,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorOptions=e.editorOptionsRegistry=e.EDITOR_FONT_DEFAULTS=e.unicodeHighlightConfigKeys=e.inUntrustedWorkspace=e.filterValidationDecorations=e.EditorLayoutInfoComputer=e.EditorFontVariations=e.EditorFontLigatures=e.TextEditorCursorStyle=e.stringSet=e.clampedFloat=e.clampedInt=e.boolean=e.ApplyUpdateResult=e.ComputeOptionsMemory=e.ConfigurationChangedEvent=e.MINIMAP_GUTTER_WIDTH=void 0,e.MINIMAP_GUTTER_WIDTH=8;class _{constructor(ue){this._values=ue}hasChanged(ue){return this._values[ue]}}e.ConfigurationChangedEvent=_;class f{constructor(){this.stableMinimapLayoutInput=null,this.stableFitMaxMinimapScale=0,this.stableFitRemainingWidth=0}}e.ComputeOptionsMemory=f;class p{constructor(ue,Ce,ve,_e){this.id=ue,this.name=Ce,this.defaultValue=ve,this.schema=_e}applyUpdate(ue,Ce){return t(ue,Ce)}compute(ue,Ce,ve){return ve}}class s{constructor(ue,Ce){this.newValue=ue,this.didChange=Ce}}e.ApplyUpdateResult=s;function t(Se,ue){if(typeof Se!="object"||typeof ue!="object"||!Se||!ue)return new s(ue,Se!==ue);if(Array.isArray(Se)||Array.isArray(ue)){const ve=Array.isArray(Se)&&Array.isArray(ue)&&L.equals(Se,ue);return new s(ue,!ve)}let Ce=!1;for(const ve in ue)if(ue.hasOwnProperty(ve)){const _e=t(Se[ve],ue[ve]);_e.didChange&&(Se[ve]=_e.newValue,Ce=!0)}return new s(Se,Ce)}class i{constructor(ue){this.schema=void 0,this.id=ue,this.name="_never_",this.defaultValue=void 0}applyUpdate(ue,Ce){return t(ue,Ce)}validate(ue){return this.defaultValue}}class o{constructor(ue,Ce,ve,_e){this.id=ue,this.name=Ce,this.defaultValue=ve,this.schema=_e}applyUpdate(ue,Ce){return t(ue,Ce)}validate(ue){return typeof ue>"u"?this.defaultValue:ue}compute(ue,Ce,ve){return ve}}function r(Se,ue){return typeof Se>"u"?ue:Se==="false"?!1:!!Se}e.boolean=r;class d extends o{constructor(ue,Ce,ve,_e=void 0){typeof _e<"u"&&(_e.type="boolean",_e.default=ve),super(ue,Ce,ve,_e)}validate(ue){return r(ue,this.defaultValue)}}function h(Se,ue,Ce,ve){if(typeof Se>"u")return ue;let _e=parseInt(Se,10);return isNaN(_e)?ue:(_e=Math.max(Ce,_e),_e=Math.min(ve,_e),_e|0)}e.clampedInt=h;class n extends o{static clampedInt(ue,Ce,ve,_e){return h(ue,Ce,ve,_e)}constructor(ue,Ce,ve,_e,De,Re=void 0){typeof Re<"u"&&(Re.type="integer",Re.default=ve,Re.minimum=_e,Re.maximum=De),super(ue,Ce,ve,Re),this.minimum=_e,this.maximum=De}validate(ue){return n.clampedInt(ue,this.defaultValue,this.minimum,this.maximum)}}function c(Se,ue,Ce,ve){if(typeof Se>"u")return ue;const _e=a.float(Se,ue);return a.clamp(_e,Ce,ve)}e.clampedFloat=c;class a extends o{static clamp(ue,Ce,ve){return ue<Ce?Ce:ue>ve?ve:ue}static float(ue,Ce){if(typeof ue=="number")return ue;if(typeof ue>"u")return Ce;const ve=parseFloat(ue);return isNaN(ve)?Ce:ve}constructor(ue,Ce,ve,_e,De){typeof De<"u"&&(De.type="number",De.default=ve),super(ue,Ce,ve,De),this.validationFn=_e}validate(ue){return this.validationFn(a.float(ue,this.defaultValue))}}class l extends o{static string(ue,Ce){return typeof ue!="string"?Ce:ue}constructor(ue,Ce,ve,_e=void 0){typeof _e<"u"&&(_e.type="string",_e.default=ve),super(ue,Ce,ve,_e)}validate(ue){return l.string(ue,this.defaultValue)}}function u(Se,ue,Ce,ve){return typeof Se!="string"?ue:ve&&Se in ve?ve[Se]:Ce.indexOf(Se)===-1?ue:Se}e.stringSet=u;class C extends o{constructor(ue,Ce,ve,_e,De=void 0){typeof De<"u"&&(De.type="string",De.enum=_e,De.default=ve),super(ue,Ce,ve,De),this._allowedValues=_e}validate(ue){return u(ue,this.defaultValue,this._allowedValues)}}class g extends p{constructor(ue,Ce,ve,_e,De,Re,Pe=void 0){typeof Pe<"u"&&(Pe.type="string",Pe.enum=De,Pe.default=_e),super(ue,Ce,ve,Pe),this._allowedValues=De,this._convert=Re}validate(ue){return typeof ue!="string"?this.defaultValue:this._allowedValues.indexOf(ue)===-1?this.defaultValue:this._convert(ue)}}function v(Se){switch(Se){case"none":return 0;case"keep":return 1;case"brackets":return 2;case"advanced":return 3;case"full":return 4}}class b extends p{constructor(){super(2,"accessibilitySupport",0,{type:"string",enum:["auto","on","off"],enumDescriptions:[m.localize(0,null),m.localize(1,null),m.localize(2,null)],default:"auto",tags:["accessibility"],description:m.localize(3,null)})}validate(ue){switch(ue){case"auto":return 0;case"off":return 1;case"on":return 2}return this.defaultValue}compute(ue,Ce,ve){return ve===0?ue.accessibilitySupport:ve}}class w extends p{constructor(){const ue={insertSpace:!0,ignoreEmptyLines:!0};super(21,"comments",ue,{"editor.comments.insertSpace":{type:"boolean",default:ue.insertSpace,description:m.localize(4,null)},"editor.comments.ignoreEmptyLines":{type:"boolean",default:ue.ignoreEmptyLines,description:m.localize(5,null)}})}validate(ue){if(!ue||typeof ue!="object")return this.defaultValue;const Ce=ue;return{insertSpace:r(Ce.insertSpace,this.defaultValue.insertSpace),ignoreEmptyLines:r(Ce.ignoreEmptyLines,this.defaultValue.ignoreEmptyLines)}}}function E(Se){switch(Se){case"blink":return 1;case"smooth":return 2;case"phase":return 3;case"expand":return 4;case"solid":return 5}}var I;(function(Se){Se[Se.Line=1]="Line",Se[Se.Block=2]="Block",Se[Se.Underline=3]="Underline",Se[Se.LineThin=4]="LineThin",Se[Se.BlockOutline=5]="BlockOutline",Se[Se.UnderlineThin=6]="UnderlineThin"})(I||(e.TextEditorCursorStyle=I={}));function T(Se){switch(Se){case"line":return I.Line;case"block":return I.Block;case"underline":return I.Underline;case"line-thin":return I.LineThin;case"block-outline":return I.BlockOutline;case"underline-thin":return I.UnderlineThin}}class P extends i{constructor(){super(138)}compute(ue,Ce,ve){const _e=["monaco-editor"];return Ce.get(37)&&_e.push(Ce.get(37)),ue.extraEditorClassName&&_e.push(ue.extraEditorClassName),Ce.get(71)==="default"?_e.push("mouse-default"):Ce.get(71)==="copy"&&_e.push("mouse-copy"),Ce.get(108)&&_e.push("showUnused"),Ce.get(136)&&_e.push("showDeprecated"),_e.join(" ")}}class A extends d{constructor(){super(35,"emptySelectionClipboard",!0,{description:m.localize(6,null)})}compute(ue,Ce,ve){return ve&&ue.emptySelectionClipboard}}class M extends p{constructor(){const ue={cursorMoveOnType:!0,seedSearchStringFromSelection:"always",autoFindInSelection:"never",globalFindClipboard:!1,addExtraSpaceOnTop:!0,loop:!0};super(39,"find",ue,{"editor.find.cursorMoveOnType":{type:"boolean",default:ue.cursorMoveOnType,description:m.localize(7,null)},"editor.find.seedSearchStringFromSelection":{type:"string",enum:["never","always","selection"],default:ue.seedSearchStringFromSelection,enumDescriptions:[m.localize(8,null),m.localize(9,null),m.localize(10,null)],description:m.localize(11,null)},"editor.find.autoFindInSelection":{type:"string",enum:["never","always","multiline"],default:ue.autoFindInSelection,enumDescriptions:[m.localize(12,null),m.localize(13,null),m.localize(14,null)],description:m.localize(15,null)},"editor.find.globalFindClipboard":{type:"boolean",default:ue.globalFindClipboard,description:m.localize(16,null),included:y.isMacintosh},"editor.find.addExtraSpaceOnTop":{type:"boolean",default:ue.addExtraSpaceOnTop,description:m.localize(17,null)},"editor.find.loop":{type:"boolean",default:ue.loop,description:m.localize(18,null)}})}validate(ue){if(!ue||typeof ue!="object")return this.defaultValue;const Ce=ue;return{cursorMoveOnType:r(Ce.cursorMoveOnType,this.defaultValue.cursorMoveOnType),seedSearchStringFromSelection:typeof ue.seedSearchStringFromSelection=="boolean"?ue.seedSearchStringFromSelection?"always":"never":u(Ce.seedSearchStringFromSelection,this.defaultValue.seedSearchStringFromSelection,["never","always","selection"]),autoFindInSelection:typeof ue.autoFindInSelection=="boolean"?ue.autoFindInSelection?"always":"never":u(Ce.autoFindInSelection,this.defaultValue.autoFindInSelection,["never","always","multiline"]),globalFindClipboard:r(Ce.globalFindClipboard,this.defaultValue.globalFindClipboard),addExtraSpaceOnTop:r(Ce.addExtraSpaceOnTop,this.defaultValue.addExtraSpaceOnTop),loop:r(Ce.loop,this.defaultValue.loop)}}}class N extends p{constructor(){super(49,"fontLigatures",N.OFF,{anyOf:[{type:"boolean",description:m.localize(19,null)},{type:"string",description:m.localize(20,null)}],description:m.localize(21,null),default:!1})}validate(ue){return typeof ue>"u"?this.defaultValue:typeof ue=="string"?ue==="false"?N.OFF:ue==="true"?N.ON:ue:ue?N.ON:N.OFF}}e.EditorFontLigatures=N,N.OFF='"liga" off, "calt" off',N.ON='"liga" on, "calt" on';class R extends p{constructor(){super(52,"fontVariations",R.OFF,{anyOf:[{type:"boolean",description:m.localize(22,null)},{type:"string",description:m.localize(23,null)}],description:m.localize(24,null),default:!1})}validate(ue){return typeof ue>"u"?this.defaultValue:typeof ue=="string"?ue==="false"?R.OFF:ue==="true"?R.TRANSLATE:ue:ue?R.TRANSLATE:R.OFF}compute(ue,Ce,ve){return ue.fontInfo.fontVariationSettings}}e.EditorFontVariations=R,R.OFF="normal",R.TRANSLATE="translate";class F extends i{constructor(){super(48)}compute(ue,Ce,ve){return ue.fontInfo}}class x extends o{constructor(){super(50,"fontSize",e.EDITOR_FONT_DEFAULTS.fontSize,{type:"number",minimum:6,maximum:100,default:e.EDITOR_FONT_DEFAULTS.fontSize,description:m.localize(25,null)})}validate(ue){const Ce=a.float(ue,this.defaultValue);return Ce===0?e.EDITOR_FONT_DEFAULTS.fontSize:a.clamp(Ce,6,100)}compute(ue,Ce,ve){return ue.fontInfo.fontSize}}class W extends p{constructor(){super(51,"fontWeight",e.EDITOR_FONT_DEFAULTS.fontWeight,{anyOf:[{type:"number",minimum:W.MINIMUM_VALUE,maximum:W.MAXIMUM_VALUE,errorMessage:m.localize(26,null)},{type:"string",pattern:"^(normal|bold|1000|[1-9][0-9]{0,2})$"},{enum:W.SUGGESTION_VALUES}],default:e.EDITOR_FONT_DEFAULTS.fontWeight,description:m.localize(27,null)})}validate(ue){return ue==="normal"||ue==="bold"?ue:String(n.clampedInt(ue,e.EDITOR_FONT_DEFAULTS.fontWeight,W.MINIMUM_VALUE,W.MAXIMUM_VALUE))}}W.SUGGESTION_VALUES=["normal","bold","100","200","300","400","500","600","700","800","900"],W.MINIMUM_VALUE=1,W.MAXIMUM_VALUE=1e3;class z extends p{constructor(){const ue={multiple:"peek",multipleDefinitions:"peek",multipleTypeDefinitions:"peek",multipleDeclarations:"peek",multipleImplementations:"peek",multipleReferences:"peek",alternativeDefinitionCommand:"editor.action.goToReferences",alternativeTypeDefinitionCommand:"editor.action.goToReferences",alternativeDeclarationCommand:"editor.action.goToReferences",alternativeImplementationCommand:"",alternativeReferenceCommand:""},Ce={type:"string",enum:["peek","gotoAndPeek","goto"],default:ue.multiple,enumDescriptions:[m.localize(28,null),m.localize(29,null),m.localize(30,null)]},ve=["","editor.action.referenceSearch.trigger","editor.action.goToReferences","editor.action.peekImplementation","editor.action.goToImplementation","editor.action.peekTypeDefinition","editor.action.goToTypeDefinition","editor.action.peekDeclaration","editor.action.revealDeclaration","editor.action.peekDefinition","editor.action.revealDefinitionAside","editor.action.revealDefinition"];super(56,"gotoLocation",ue,{"editor.gotoLocation.multiple":{deprecationMessage:m.localize(31,null)},"editor.gotoLocation.multipleDefinitions":Object.assign({description:m.localize(32,null)},Ce),"editor.gotoLocation.multipleTypeDefinitions":Object.assign({description:m.localize(33,null)},Ce),"editor.gotoLocation.multipleDeclarations":Object.assign({description:m.localize(34,null)},Ce),"editor.gotoLocation.multipleImplementations":Object.assign({description:m.localize(35,null)},Ce),"editor.gotoLocation.multipleReferences":Object.assign({description:m.localize(36,null)},Ce),"editor.gotoLocation.alternativeDefinitionCommand":{type:"string",default:ue.alternativeDefinitionCommand,enum:ve,description:m.localize(37,null)},"editor.gotoLocation.alternativeTypeDefinitionCommand":{type:"string",default:ue.alternativeTypeDefinitionCommand,enum:ve,description:m.localize(38,null)},"editor.gotoLocation.alternativeDeclarationCommand":{type:"string",default:ue.alternativeDeclarationCommand,enum:ve,description:m.localize(39,null)},"editor.gotoLocation.alternativeImplementationCommand":{type:"string",default:ue.alternativeImplementationCommand,enum:ve,description:m.localize(40,null)},"editor.gotoLocation.alternativeReferenceCommand":{type:"string",default:ue.alternativeReferenceCommand,enum:ve,description:m.localize(41,null)}})}validate(ue){var Ce,ve,_e,De,Re;if(!ue||typeof ue!="object")return this.defaultValue;const Pe=ue;return{multiple:u(Pe.multiple,this.defaultValue.multiple,["peek","gotoAndPeek","goto"]),multipleDefinitions:(Ce=Pe.multipleDefinitions)!==null&&Ce!==void 0?Ce:u(Pe.multipleDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleTypeDefinitions:(ve=Pe.multipleTypeDefinitions)!==null&&ve!==void 0?ve:u(Pe.multipleTypeDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleDeclarations:(_e=Pe.multipleDeclarations)!==null&&_e!==void 0?_e:u(Pe.multipleDeclarations,"peek",["peek","gotoAndPeek","goto"]),multipleImplementations:(De=Pe.multipleImplementations)!==null&&De!==void 0?De:u(Pe.multipleImplementations,"peek",["peek","gotoAndPeek","goto"]),multipleReferences:(Re=Pe.multipleReferences)!==null&&Re!==void 0?Re:u(Pe.multipleReferences,"peek",["peek","gotoAndPeek","goto"]),alternativeDefinitionCommand:l.string(Pe.alternativeDefinitionCommand,this.defaultValue.alternativeDefinitionCommand),alternativeTypeDefinitionCommand:l.string(Pe.alternativeTypeDefinitionCommand,this.defaultValue.alternativeTypeDefinitionCommand),alternativeDeclarationCommand:l.string(Pe.alternativeDeclarationCommand,this.defaultValue.alternativeDeclarationCommand),alternativeImplementationCommand:l.string(Pe.alternativeImplementationCommand,this.defaultValue.alternativeImplementationCommand),alternativeReferenceCommand:l.string(Pe.alternativeReferenceCommand,this.defaultValue.alternativeReferenceCommand)}}}class U extends p{constructor(){const ue={enabled:!0,delay:300,sticky:!0,above:!0};super(58,"hover",ue,{"editor.hover.enabled":{type:"boolean",default:ue.enabled,description:m.localize(42,null)},"editor.hover.delay":{type:"number",default:ue.delay,minimum:0,maximum:1e4,description:m.localize(43,null)},"editor.hover.sticky":{type:"boolean",default:ue.sticky,description:m.localize(44,null)},"editor.hover.above":{type:"boolean",default:ue.above,description:m.localize(45,null)}})}validate(ue){if(!ue||typeof ue!="object")return this.defaultValue;const Ce=ue;return{enabled:r(Ce.enabled,this.defaultValue.enabled),delay:n.clampedInt(Ce.delay,this.defaultValue.delay,0,1e4),sticky:r(Ce.sticky,this.defaultValue.sticky),above:r(Ce.above,this.defaultValue.above)}}}class O extends i{constructor(){super(141)}compute(ue,Ce,ve){return O.computeLayout(Ce,{memory:ue.memory,outerWidth:ue.outerWidth,outerHeight:ue.outerHeight,isDominatedByLongLines:ue.isDominatedByLongLines,lineHeight:ue.fontInfo.lineHeight,viewLineCount:ue.viewLineCount,lineNumbersDigitCount:ue.lineNumbersDigitCount,typicalHalfwidthCharacterWidth:ue.fontInfo.typicalHalfwidthCharacterWidth,maxDigitWidth:ue.fontInfo.maxDigitWidth,pixelRatio:ue.pixelRatio,glyphMarginDecorationLaneCount:ue.glyphMarginDecorationLaneCount})}static computeContainedMinimapLineCount(ue){const Ce=ue.height/ue.lineHeight,ve=Math.floor(ue.paddingTop/ue.lineHeight);let _e=Math.floor(ue.paddingBottom/ue.lineHeight);ue.scrollBeyondLastLine&&(_e=Math.max(_e,Ce-1));const De=(ve+ue.viewLineCount+_e)/(ue.pixelRatio*ue.height),Re=Math.floor(ue.viewLineCount/De);return{typicalViewportLineCount:Ce,extraLinesBeforeFirstLine:ve,extraLinesBeyondLastLine:_e,desiredRatio:De,minimapLineCount:Re}}static _computeMinimapLayout(ue,Ce){const ve=ue.outerWidth,_e=ue.outerHeight,De=ue.pixelRatio;if(!ue.minimap.enabled)return{renderMinimap:0,minimapLeft:0,minimapWidth:0,minimapHeightIsEditorHeight:!1,minimapIsSampling:!1,minimapScale:1,minimapLineHeight:1,minimapCanvasInnerWidth:0,minimapCanvasInnerHeight:Math.floor(De*_e),minimapCanvasOuterWidth:0,minimapCanvasOuterHeight:_e};const Re=Ce.stableMinimapLayoutInput,Pe=Re&&ue.outerHeight===Re.outerHeight&&ue.lineHeight===Re.lineHeight&&ue.typicalHalfwidthCharacterWidth===Re.typicalHalfwidthCharacterWidth&&ue.pixelRatio===Re.pixelRatio&&ue.scrollBeyondLastLine===Re.scrollBeyondLastLine&&ue.paddingTop===Re.paddingTop&&ue.paddingBottom===Re.paddingBottom&&ue.minimap.enabled===Re.minimap.enabled&&ue.minimap.side===Re.minimap.side&&ue.minimap.size===Re.minimap.size&&ue.minimap.showSlider===Re.minimap.showSlider&&ue.minimap.renderCharacters===Re.minimap.renderCharacters&&ue.minimap.maxColumn===Re.minimap.maxColumn&&ue.minimap.scale===Re.minimap.scale&&ue.verticalScrollbarWidth===Re.verticalScrollbarWidth&&ue.isViewportWrapping===Re.isViewportWrapping,Fe=ue.lineHeight,We=ue.typicalHalfwidthCharacterWidth,xe=ue.scrollBeyondLastLine,Ke=ue.minimap.renderCharacters;let qe=De>=2?Math.round(ue.minimap.scale*2):ue.minimap.scale;const et=ue.minimap.maxColumn,ze=ue.minimap.size,Me=ue.minimap.side,Be=ue.verticalScrollbarWidth,He=ue.viewLineCount,Ge=ue.remainingWidth,Qe=ue.isViewportWrapping,tt=Ke?2:3;let je=Math.floor(De*_e);const at=je/De;let ot=!1,dt=!1,ut=tt*qe,Ye=qe/De,lt=1;if(ze==="fill"||ze==="fit"){const{typicalViewportLineCount:$e,extraLinesBeforeFirstLine:it,extraLinesBeyondLastLine:Xe,desiredRatio:nt,minimapLineCount:st}=O.computeContainedMinimapLineCount({viewLineCount:He,scrollBeyondLastLine:xe,paddingTop:ue.paddingTop,paddingBottom:ue.paddingBottom,height:_e,lineHeight:Fe,pixelRatio:De});if(He/st>1)ot=!0,dt=!0,qe=1,ut=1,Ye=qe/De;else{let pt=!1,Et=qe+1;if(ze==="fit"){const Dt=Math.ceil((it+He+Xe)*ut);Qe&&Pe&&Ge<=Ce.stableFitRemainingWidth?(pt=!0,Et=Ce.stableFitMaxMinimapScale):pt=Dt>je}if(ze==="fill"||pt){ot=!0;const Dt=qe;ut=Math.min(Fe*De,Math.max(1,Math.floor(1/nt))),Qe&&Pe&&Ge<=Ce.stableFitRemainingWidth&&(Et=Ce.stableFitMaxMinimapScale),qe=Math.min(Et,Math.max(1,Math.floor(ut/tt))),qe>Dt&&(lt=Math.min(2,qe/Dt)),Ye=qe/De/lt,je=Math.ceil(Math.max($e,it+He+Xe)*ut),Qe?(Ce.stableMinimapLayoutInput=ue,Ce.stableFitRemainingWidth=Ge,Ce.stableFitMaxMinimapScale=qe):(Ce.stableMinimapLayoutInput=null,Ce.stableFitRemainingWidth=0)}}}const vt=Math.floor(et*Ye),rt=Math.min(vt,Math.max(0,Math.floor((Ge-Be-2)*Ye/(We+Ye)))+e.MINIMAP_GUTTER_WIDTH);let Ze=Math.floor(De*rt);const Oe=Ze/De;Ze=Math.floor(Ze*lt);const Ve=Ke?1:2,Ue=Me==="left"?0:ve-rt-Be;return{renderMinimap:Ve,minimapLeft:Ue,minimapWidth:rt,minimapHeightIsEditorHeight:ot,minimapIsSampling:dt,minimapScale:qe,minimapLineHeight:ut,minimapCanvasInnerWidth:Ze,minimapCanvasInnerHeight:je,minimapCanvasOuterWidth:Oe,minimapCanvasOuterHeight:at}}static computeLayout(ue,Ce){const ve=Ce.outerWidth|0,_e=Ce.outerHeight|0,De=Ce.lineHeight|0,Re=Ce.lineNumbersDigitCount|0,Pe=Ce.typicalHalfwidthCharacterWidth,Fe=Ce.maxDigitWidth,We=Ce.pixelRatio,xe=Ce.viewLineCount,Ke=ue.get(133),qe=Ke==="inherit"?ue.get(132):Ke,et=qe==="inherit"?ue.get(128):qe,ze=ue.get(131),Me=Ce.isDominatedByLongLines,Be=ue.get(55),He=ue.get(65).renderType!==0,Ge=ue.get(66),Qe=ue.get(102),tt=ue.get(81),je=ue.get(70),at=ue.get(100),ot=at.verticalScrollbarSize,dt=at.verticalHasArrows,ut=at.arrowSize,Ye=at.horizontalScrollbarSize,lt=ue.get(41),vt=ue.get(107)!=="never";let rt=ue.get(63);lt&&vt&&(rt+=16);let Ze=0;if(He){const _t=Math.max(Re,Ge);Ze=Math.round(_t*Fe)}let Oe=0;Be&&(Oe=De*Ce.glyphMarginDecorationLaneCount);let Ve=0,Ue=Ve+Oe,$e=Ue+Ze,it=$e+rt;const Xe=ve-Oe-Ze-rt;let nt=!1,st=!1,ct=-1;qe==="inherit"&&Me?(nt=!0,st=!0):et==="on"||et==="bounded"?st=!0:et==="wordWrapColumn"&&(ct=ze);const pt=O._computeMinimapLayout({outerWidth:ve,outerHeight:_e,lineHeight:De,typicalHalfwidthCharacterWidth:Pe,pixelRatio:We,scrollBeyondLastLine:Qe,paddingTop:tt.top,paddingBottom:tt.bottom,minimap:je,verticalScrollbarWidth:ot,viewLineCount:xe,remainingWidth:Xe,isViewportWrapping:st},Ce.memory||new f);pt.renderMinimap!==0&&pt.minimapLeft===0&&(Ve+=pt.minimapWidth,Ue+=pt.minimapWidth,$e+=pt.minimapWidth,it+=pt.minimapWidth);const Et=Xe-pt.minimapWidth,Dt=Math.max(1,Math.floor((Et-ot-2)/Pe)),ft=dt?ut:0;return st&&(ct=Math.max(1,Dt),et==="bounded"&&(ct=Math.min(ct,ze))),{width:ve,height:_e,glyphMarginLeft:Ve,glyphMarginWidth:Oe,glyphMarginDecorationLaneCount:Ce.glyphMarginDecorationLaneCount,lineNumbersLeft:Ue,lineNumbersWidth:Ze,decorationsLeft:$e,decorationsWidth:rt,contentLeft:it,contentWidth:Et,minimap:pt,viewportColumn:Dt,isWordWrapMinified:nt,isViewportWrapping:st,wrappingColumn:ct,verticalScrollbarWidth:ot,horizontalScrollbarHeight:Ye,overviewRuler:{top:ft,width:ot,height:_e-2*ft,right:0}}}}e.EditorLayoutInfoComputer=O;class G extends p{constructor(){super(135,"wrappingStrategy","simple",{"editor.wrappingStrategy":{enumDescriptions:[m.localize(46,null),m.localize(47,null)],type:"string",enum:["simple","advanced"],default:"simple",description:m.localize(48,null)}})}validate(ue){return u(ue,"simple",["simple","advanced"])}compute(ue,Ce,ve){return Ce.get(2)===2?"advanced":ve}}class Q extends p{constructor(){const ue={enabled:!0};super(62,"lightbulb",ue,{"editor.lightbulb.enabled":{type:"boolean",default:ue.enabled,description:m.localize(49,null)}})}validate(ue){return!ue||typeof ue!="object"?this.defaultValue:{enabled:r(ue.enabled,this.defaultValue.enabled)}}}class re extends p{constructor(){const ue={enabled:!1,maxLineCount:5,defaultModel:"outlineModel"};super(112,"stickyScroll",ue,{"editor.stickyScroll.enabled":{type:"boolean",default:ue.enabled,description:m.localize(50,null)},"editor.stickyScroll.maxLineCount":{type:"number",default:ue.maxLineCount,minimum:1,maximum:10,description:m.localize(51,null)},"editor.stickyScroll.defaultModel":{type:"string",enum:["outlineModel","foldingProviderModel","indentationModel"],default:ue.defaultModel,description:m.localize(52,null)}})}validate(ue){if(!ue||typeof ue!="object")return this.defaultValue;const Ce=ue;return{enabled:r(Ce.enabled,this.defaultValue.enabled),maxLineCount:n.clampedInt(Ce.maxLineCount,this.defaultValue.maxLineCount,1,10),defaultModel:u(Ce.defaultModel,this.defaultValue.defaultModel,["outlineModel","foldingProviderModel","indentationModel"])}}}class oe extends p{constructor(){const ue={enabled:"on",fontSize:0,fontFamily:"",padding:!1};super(137,"inlayHints",ue,{"editor.inlayHints.enabled":{type:"string",default:ue.enabled,description:m.localize(53,null),enum:["on","onUnlessPressed","offUnlessPressed","off"],markdownEnumDescriptions:[m.localize(54,null),m.localize(55,null,y.isMacintosh?"Ctrl+Option":"Ctrl+Alt"),m.localize(56,null,y.isMacintosh?"Ctrl+Option":"Ctrl+Alt"),m.localize(57,null)]},"editor.inlayHints.fontSize":{type:"number",default:ue.fontSize,markdownDescription:m.localize(58,null,"`#editor.fontSize#`","`5`")},"editor.inlayHints.fontFamily":{type:"string",default:ue.fontFamily,markdownDescription:m.localize(59,null,"`#editor.fontFamily#`")},"editor.inlayHints.padding":{type:"boolean",default:ue.padding,description:m.localize(60,null)}})}validate(ue){if(!ue||typeof ue!="object")return this.defaultValue;const Ce=ue;return typeof Ce.enabled=="boolean"&&(Ce.enabled=Ce.enabled?"on":"off"),{enabled:u(Ce.enabled,this.defaultValue.enabled,["on","off","offUnlessPressed","onUnlessPressed"]),fontSize:n.clampedInt(Ce.fontSize,this.defaultValue.fontSize,0,100),fontFamily:l.string(Ce.fontFamily,this.defaultValue.fontFamily),padding:r(Ce.padding,this.defaultValue.padding)}}}class te extends p{constructor(){super(63,"lineDecorationsWidth",10)}validate(ue){return typeof ue=="string"&&/^\d+(\.\d+)?ch$/.test(ue)?-parseFloat(ue.substring(0,ue.length-2)):n.clampedInt(ue,this.defaultValue,0,1e3)}compute(ue,Ce,ve){return ve<0?n.clampedInt(-ve*ue.fontInfo.typicalHalfwidthCharacterWidth,this.defaultValue,0,1e3):ve}}class H extends a{constructor(){super(64,"lineHeight",e.EDITOR_FONT_DEFAULTS.lineHeight,ue=>a.clamp(ue,0,150),{markdownDescription:m.localize(61,null)})}compute(ue,Ce,ve){return ue.fontInfo.lineHeight}}class B extends p{constructor(){const ue={enabled:!0,size:"proportional",side:"right",showSlider:"mouseover",autohide:!1,renderCharacters:!0,maxColumn:120,scale:1};super(70,"minimap",ue,{"editor.minimap.enabled":{type:"boolean",default:ue.enabled,description:m.localize(62,null)},"editor.minimap.autohide":{type:"boolean",default:ue.autohide,description:m.localize(63,null)},"editor.minimap.size":{type:"string",enum:["proportional","fill","fit"],enumDescriptions:[m.localize(64,null),m.localize(65,null),m.localize(66,null)],default:ue.size,description:m.localize(67,null)},"editor.minimap.side":{type:"string",enum:["left","right"],default:ue.side,description:m.localize(68,null)},"editor.minimap.showSlider":{type:"string",enum:["always","mouseover"],default:ue.showSlider,description:m.localize(69,null)},"editor.minimap.scale":{type:"number",default:ue.scale,minimum:1,maximum:3,enum:[1,2,3],description:m.localize(70,null)},"editor.minimap.renderCharacters":{type:"boolean",default:ue.renderCharacters,description:m.localize(71,null)},"editor.minimap.maxColumn":{type:"number",default:ue.maxColumn,description:m.localize(72,null)}})}validate(ue){if(!ue||typeof ue!="object")return this.defaultValue;const Ce=ue;return{enabled:r(Ce.enabled,this.defaultValue.enabled),autohide:r(Ce.autohide,this.defaultValue.autohide),size:u(Ce.size,this.defaultValue.size,["proportional","fill","fit"]),side:u(Ce.side,this.defaultValue.side,["right","left"]),showSlider:u(Ce.showSlider,this.defaultValue.showSlider,["always","mouseover"]),renderCharacters:r(Ce.renderCharacters,this.defaultValue.renderCharacters),scale:n.clampedInt(Ce.scale,1,1,3),maxColumn:n.clampedInt(Ce.maxColumn,this.defaultValue.maxColumn,1,1e4)}}}function K(Se){return Se==="ctrlCmd"?y.isMacintosh?"metaKey":"ctrlKey":"altKey"}class Z extends p{constructor(){super(81,"padding",{top:0,bottom:0},{"editor.padding.top":{type:"number",default:0,minimum:0,maximum:1e3,description:m.localize(73,null)},"editor.padding.bottom":{type:"number",default:0,minimum:0,maximum:1e3,description:m.localize(74,null)}})}validate(ue){if(!ue||typeof ue!="object")return this.defaultValue;const Ce=ue;return{top:n.clampedInt(Ce.top,0,0,1e3),bottom:n.clampedInt(Ce.bottom,0,0,1e3)}}}class J extends p{constructor(){const ue={enabled:!0,cycle:!0};super(83,"parameterHints",ue,{"editor.parameterHints.enabled":{type:"boolean",default:ue.enabled,description:m.localize(75,null)},"editor.parameterHints.cycle":{type:"boolean",default:ue.cycle,description:m.localize(76,null)}})}validate(ue){if(!ue||typeof ue!="object")return this.defaultValue;const Ce=ue;return{enabled:r(Ce.enabled,this.defaultValue.enabled),cycle:r(Ce.cycle,this.defaultValue.cycle)}}}class ne extends i{constructor(){super(139)}compute(ue,Ce,ve){return ue.pixelRatio}}class he extends p{constructor(){const ue={other:"on",comments:"off",strings:"off"},Ce=[{type:"boolean"},{type:"string",enum:["on","inline","off"],enumDescriptions:[m.localize(77,null),m.localize(78,null),m.localize(79,null)]}];super(86,"quickSuggestions",ue,{type:"object",additionalProperties:!1,properties:{strings:{anyOf:Ce,default:ue.strings,description:m.localize(80,null)},comments:{anyOf:Ce,default:ue.comments,description:m.localize(81,null)},other:{anyOf:Ce,default:ue.other,description:m.localize(82,null)}},default:ue,markdownDescription:m.localize(83,null,"#editor.suggestOnTriggerCharacters#")}),this.defaultValue=ue}validate(ue){if(typeof ue=="boolean"){const We=ue?"on":"off";return{comments:We,strings:We,other:We}}if(!ue||typeof ue!="object")return this.defaultValue;const{other:Ce,comments:ve,strings:_e}=ue,De=["on","inline","off"];let Re,Pe,Fe;return typeof Ce=="boolean"?Re=Ce?"on":"off":Re=u(Ce,this.defaultValue.other,De),typeof ve=="boolean"?Pe=ve?"on":"off":Pe=u(ve,this.defaultValue.comments,De),typeof _e=="boolean"?Fe=_e?"on":"off":Fe=u(_e,this.defaultValue.strings,De),{other:Re,comments:Pe,strings:Fe}}}class de extends p{constructor(){super(65,"lineNumbers",{renderType:1,renderFn:null},{type:"string",enum:["off","on","relative","interval"],enumDescriptions:[m.localize(84,null),m.localize(85,null),m.localize(86,null),m.localize(87,null)],default:"on",description:m.localize(88,null)})}validate(ue){let Ce=this.defaultValue.renderType,ve=this.defaultValue.renderFn;return typeof ue<"u"&&(typeof ue=="function"?(Ce=4,ve=ue):ue==="interval"?Ce=3:ue==="relative"?Ce=2:ue==="on"?Ce=1:Ce=0),{renderType:Ce,renderFn:ve}}}function ae(Se){const ue=Se.get(95);return ue==="editable"?Se.get(88):ue!=="on"}e.filterValidationDecorations=ae;class ce extends p{constructor(){const ue=[],Ce={type:"number",description:m.localize(89,null)};super(99,"rulers",ue,{type:"array",items:{anyOf:[Ce,{type:["object"],properties:{column:Ce,color:{type:"string",description:m.localize(90,null),format:"color-hex"}}}]},default:ue,description:m.localize(91,null)})}validate(ue){if(Array.isArray(ue)){const Ce=[];for(const ve of ue)if(typeof ve=="number")Ce.push({column:n.clampedInt(ve,0,0,1e4),color:null});else if(ve&&typeof ve=="object"){const _e=ve;Ce.push({column:n.clampedInt(_e.column,0,0,1e4),color:_e.color})}return Ce.sort((ve,_e)=>ve.column-_e.column),Ce}return this.defaultValue}}class $ extends p{constructor(){super(89,"readOnlyMessage",void 0)}validate(ue){return!ue||typeof ue!="object"?this.defaultValue:ue}}function V(Se,ue){if(typeof Se!="string")return ue;switch(Se){case"hidden":return 2;case"visible":return 3;default:return 1}}class j extends p{constructor(){const ue={vertical:1,horizontal:1,arrowSize:11,useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,horizontalScrollbarSize:12,horizontalSliderSize:12,verticalScrollbarSize:14,verticalSliderSize:14,handleMouseWheel:!0,alwaysConsumeMouseWheel:!0,scrollByPage:!1};super(100,"scrollbar",ue,{"editor.scrollbar.vertical":{type:"string",enum:["auto","visible","hidden"],enumDescriptions:[m.localize(92,null),m.localize(93,null),m.localize(94,null)],default:"auto",description:m.localize(95,null)},"editor.scrollbar.horizontal":{type:"string",enum:["auto","visible","hidden"],enumDescriptions:[m.localize(96,null),m.localize(97,null),m.localize(98,null)],default:"auto",description:m.localize(99,null)},"editor.scrollbar.verticalScrollbarSize":{type:"number",default:ue.verticalScrollbarSize,description:m.localize(100,null)},"editor.scrollbar.horizontalScrollbarSize":{type:"number",default:ue.horizontalScrollbarSize,description:m.localize(101,null)},"editor.scrollbar.scrollByPage":{type:"boolean",default:ue.scrollByPage,description:m.localize(102,null)}})}validate(ue){if(!ue||typeof ue!="object")return this.defaultValue;const Ce=ue,ve=n.clampedInt(Ce.horizontalScrollbarSize,this.defaultValue.horizontalScrollbarSize,0,1e3),_e=n.clampedInt(Ce.verticalScrollbarSize,this.defaultValue.verticalScrollbarSize,0,1e3);return{arrowSize:n.clampedInt(Ce.arrowSize,this.defaultValue.arrowSize,0,1e3),vertical:V(Ce.vertical,this.defaultValue.vertical),horizontal:V(Ce.horizontal,this.defaultValue.horizontal),useShadows:r(Ce.useShadows,this.defaultValue.useShadows),verticalHasArrows:r(Ce.verticalHasArrows,this.defaultValue.verticalHasArrows),horizontalHasArrows:r(Ce.horizontalHasArrows,this.defaultValue.horizontalHasArrows),handleMouseWheel:r(Ce.handleMouseWheel,this.defaultValue.handleMouseWheel),alwaysConsumeMouseWheel:r(Ce.alwaysConsumeMouseWheel,this.defaultValue.alwaysConsumeMouseWheel),horizontalScrollbarSize:ve,horizontalSliderSize:n.clampedInt(Ce.horizontalSliderSize,ve,0,1e3),verticalScrollbarSize:_e,verticalSliderSize:n.clampedInt(Ce.verticalSliderSize,_e,0,1e3),scrollByPage:r(Ce.scrollByPage,this.defaultValue.scrollByPage)}}}e.inUntrustedWorkspace="inUntrustedWorkspace",e.unicodeHighlightConfigKeys={allowedCharacters:"editor.unicodeHighlight.allowedCharacters",invisibleCharacters:"editor.unicodeHighlight.invisibleCharacters",nonBasicASCII:"editor.unicodeHighlight.nonBasicASCII",ambiguousCharacters:"editor.unicodeHighlight.ambiguousCharacters",includeComments:"editor.unicodeHighlight.includeComments",includeStrings:"editor.unicodeHighlight.includeStrings",allowedLocales:"editor.unicodeHighlight.allowedLocales"};class se extends p{constructor(){const ue={nonBasicASCII:e.inUntrustedWorkspace,invisibleCharacters:!0,ambiguousCharacters:!0,includeComments:e.inUntrustedWorkspace,includeStrings:!0,allowedCharacters:{},allowedLocales:{_os:!0,_vscode:!0}};super(122,"unicodeHighlight",ue,{[e.unicodeHighlightConfigKeys.nonBasicASCII]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,e.inUntrustedWorkspace],default:ue.nonBasicASCII,description:m.localize(103,null)},[e.unicodeHighlightConfigKeys.invisibleCharacters]:{restricted:!0,type:"boolean",default:ue.invisibleCharacters,description:m.localize(104,null)},[e.unicodeHighlightConfigKeys.ambiguousCharacters]:{restricted:!0,type:"boolean",default:ue.ambiguousCharacters,description:m.localize(105,null)},[e.unicodeHighlightConfigKeys.includeComments]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,e.inUntrustedWorkspace],default:ue.includeComments,description:m.localize(106,null)},[e.unicodeHighlightConfigKeys.includeStrings]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,e.inUntrustedWorkspace],default:ue.includeStrings,description:m.localize(107,null)},[e.unicodeHighlightConfigKeys.allowedCharacters]:{restricted:!0,type:"object",default:ue.allowedCharacters,description:m.localize(108,null),additionalProperties:{type:"boolean"}},[e.unicodeHighlightConfigKeys.allowedLocales]:{restricted:!0,type:"object",additionalProperties:{type:"boolean"},default:ue.allowedLocales,description:m.localize(109,null)}})}applyUpdate(ue,Ce){let ve=!1;Ce.allowedCharacters&&ue&&(k.equals(ue.allowedCharacters,Ce.allowedCharacters)||(ue=Object.assign(Object.assign({},ue),{allowedCharacters:Ce.allowedCharacters}),ve=!0)),Ce.allowedLocales&&ue&&(k.equals(ue.allowedLocales,Ce.allowedLocales)||(ue=Object.assign(Object.assign({},ue),{allowedLocales:Ce.allowedLocales}),ve=!0));const _e=super.applyUpdate(ue,Ce);return ve?new s(_e.newValue,!0):_e}validate(ue){if(!ue||typeof ue!="object")return this.defaultValue;const Ce=ue;return{nonBasicASCII:fe(Ce.nonBasicASCII,e.inUntrustedWorkspace,[!0,!1,e.inUntrustedWorkspace]),invisibleCharacters:r(Ce.invisibleCharacters,this.defaultValue.invisibleCharacters),ambiguousCharacters:r(Ce.ambiguousCharacters,this.defaultValue.ambiguousCharacters),includeComments:fe(Ce.includeComments,e.inUntrustedWorkspace,[!0,!1,e.inUntrustedWorkspace]),includeStrings:fe(Ce.includeStrings,e.inUntrustedWorkspace,[!0,!1,e.inUntrustedWorkspace]),allowedCharacters:this.validateBooleanMap(ue.allowedCharacters,this.defaultValue.allowedCharacters),allowedLocales:this.validateBooleanMap(ue.allowedLocales,this.defaultValue.allowedLocales)}}validateBooleanMap(ue,Ce){if(typeof ue!="object"||!ue)return Ce;const ve={};for(const[_e,De]of Object.entries(ue))De===!0&&(ve[_e]=!0);return ve}}class ie extends p{constructor(){const ue={enabled:!0,mode:"subwordSmart",showToolbar:"onHover",suppressSuggestions:!1,keepOnBlur:!1};super(60,"inlineSuggest",ue,{"editor.inlineSuggest.enabled":{type:"boolean",default:ue.enabled,description:m.localize(110,null)},"editor.inlineSuggest.showToolbar":{type:"string",default:ue.showToolbar,enum:["always","onHover"],enumDescriptions:[m.localize(111,null),m.localize(112,null)],description:m.localize(113,null)},"editor.inlineSuggest.suppressSuggestions":{type:"boolean",default:ue.suppressSuggestions,description:m.localize(114,null)}})}validate(ue){if(!ue||typeof ue!="object")return this.defaultValue;const Ce=ue;return{enabled:r(Ce.enabled,this.defaultValue.enabled),mode:u(Ce.mode,this.defaultValue.mode,["prefix","subword","subwordSmart"]),showToolbar:u(Ce.showToolbar,this.defaultValue.showToolbar,["always","onHover"]),suppressSuggestions:r(Ce.suppressSuggestions,this.defaultValue.suppressSuggestions),keepOnBlur:r(Ce.keepOnBlur,this.defaultValue.keepOnBlur)}}}class Y extends p{constructor(){const ue={enabled:D.EDITOR_MODEL_DEFAULTS.bracketPairColorizationOptions.enabled,independentColorPoolPerBracketType:D.EDITOR_MODEL_DEFAULTS.bracketPairColorizationOptions.independentColorPoolPerBracketType};super(13,"bracketPairColorization",ue,{"editor.bracketPairColorization.enabled":{type:"boolean",default:ue.enabled,markdownDescription:m.localize(115,null,"`#workbench.colorCustomizations#`")},"editor.bracketPairColorization.independentColorPoolPerBracketType":{type:"boolean",default:ue.independentColorPoolPerBracketType,description:m.localize(116,null)}})}validate(ue){if(!ue||typeof ue!="object")return this.defaultValue;const Ce=ue;return{enabled:r(Ce.enabled,this.defaultValue.enabled),independentColorPoolPerBracketType:r(Ce.independentColorPoolPerBracketType,this.defaultValue.independentColorPoolPerBracketType)}}}class le extends p{constructor(){const ue={bracketPairs:!1,bracketPairsHorizontal:"active",highlightActiveBracketPair:!0,indentation:!0,highlightActiveIndentation:!0};super(14,"guides",ue,{"editor.guides.bracketPairs":{type:["boolean","string"],enum:[!0,"active",!1],enumDescriptions:[m.localize(117,null),m.localize(118,null),m.localize(119,null)],default:ue.bracketPairs,description:m.localize(120,null)},"editor.guides.bracketPairsHorizontal":{type:["boolean","string"],enum:[!0,"active",!1],enumDescriptions:[m.localize(121,null),m.localize(122,null),m.localize(123,null)],default:ue.bracketPairsHorizontal,description:m.localize(124,null)},"editor.guides.highlightActiveBracketPair":{type:"boolean",default:ue.highlightActiveBracketPair,description:m.localize(125,null)},"editor.guides.indentation":{type:"boolean",default:ue.indentation,description:m.localize(126,null)},"editor.guides.highlightActiveIndentation":{type:["boolean","string"],enum:[!0,"always",!1],enumDescriptions:[m.localize(127,null),m.localize(128,null),m.localize(129,null)],default:ue.highlightActiveIndentation,description:m.localize(130,null)}})}validate(ue){if(!ue||typeof ue!="object")return this.defaultValue;const Ce=ue;return{bracketPairs:fe(Ce.bracketPairs,this.defaultValue.bracketPairs,[!0,!1,"active"]),bracketPairsHorizontal:fe(Ce.bracketPairsHorizontal,this.defaultValue.bracketPairsHorizontal,[!0,!1,"active"]),highlightActiveBracketPair:r(Ce.highlightActiveBracketPair,this.defaultValue.highlightActiveBracketPair),indentation:r(Ce.indentation,this.defaultValue.indentation),highlightActiveIndentation:fe(Ce.highlightActiveIndentation,this.defaultValue.highlightActiveIndentation,[!0,!1,"always"])}}}function fe(Se,ue,Ce){const ve=Ce.indexOf(Se);return ve===-1?ue:Ce[ve]}class be extends p{constructor(){const ue={insertMode:"insert",filterGraceful:!0,snippetsPreventQuickSuggestions:!1,localityBonus:!1,shareSuggestSelections:!1,selectionMode:"always",showIcons:!0,showStatusBar:!1,preview:!1,previewMode:"subwordSmart",showInlineDetails:!0,showMethods:!0,showFunctions:!0,showConstructors:!0,showDeprecated:!0,matchOnWordStartOnly:!0,showFields:!0,showVariables:!0,showClasses:!0,showStructs:!0,showInterfaces:!0,showModules:!0,showProperties:!0,showEvents:!0,showOperators:!0,showUnits:!0,showValues:!0,showConstants:!0,showEnums:!0,showEnumMembers:!0,showKeywords:!0,showWords:!0,showColors:!0,showFiles:!0,showReferences:!0,showFolders:!0,showTypeParameters:!0,showSnippets:!0,showUsers:!0,showIssues:!0};super(115,"suggest",ue,{"editor.suggest.insertMode":{type:"string",enum:["insert","replace"],enumDescriptions:[m.localize(131,null),m.localize(132,null)],default:ue.insertMode,description:m.localize(133,null)},"editor.suggest.filterGraceful":{type:"boolean",default:ue.filterGraceful,description:m.localize(134,null)},"editor.suggest.localityBonus":{type:"boolean",default:ue.localityBonus,description:m.localize(135,null)},"editor.suggest.shareSuggestSelections":{type:"boolean",default:ue.shareSuggestSelections,markdownDescription:m.localize(136,null)},"editor.suggest.selectionMode":{type:"string",enum:["always","never","whenTriggerCharacter","whenQuickSuggestion"],enumDescriptions:[m.localize(137,null),m.localize(138,null),m.localize(139,null),m.localize(140,null)],default:ue.selectionMode,markdownDescription:m.localize(141,null)},"editor.suggest.snippetsPreventQuickSuggestions":{type:"boolean",default:ue.snippetsPreventQuickSuggestions,description:m.localize(142,null)},"editor.suggest.showIcons":{type:"boolean",default:ue.showIcons,description:m.localize(143,null)},"editor.suggest.showStatusBar":{type:"boolean",default:ue.showStatusBar,description:m.localize(144,null)},"editor.suggest.preview":{type:"boolean",default:ue.preview,description:m.localize(145,null)},"editor.suggest.showInlineDetails":{type:"boolean",default:ue.showInlineDetails,description:m.localize(146,null)},"editor.suggest.maxVisibleSuggestions":{type:"number",deprecationMessage:m.localize(147,null)},"editor.suggest.filteredTypes":{type:"object",deprecationMessage:m.localize(148,null)},"editor.suggest.showMethods":{type:"boolean",default:!0,markdownDescription:m.localize(149,null)},"editor.suggest.showFunctions":{type:"boolean",default:!0,markdownDescription:m.localize(150,null)},"editor.suggest.showConstructors":{type:"boolean",default:!0,markdownDescription:m.localize(151,null)},"editor.suggest.showDeprecated":{type:"boolean",default:!0,markdownDescription:m.localize(152,null)},"editor.suggest.matchOnWordStartOnly":{type:"boolean",default:!0,markdownDescription:m.localize(153,null)},"editor.suggest.showFields":{type:"boolean",default:!0,markdownDescription:m.localize(154,null)},"editor.suggest.showVariables":{type:"boolean",default:!0,markdownDescription:m.localize(155,null)},"editor.suggest.showClasses":{type:"boolean",default:!0,markdownDescription:m.localize(156,null)},"editor.suggest.showStructs":{type:"boolean",default:!0,markdownDescription:m.localize(157,null)},"editor.suggest.showInterfaces":{type:"boolean",default:!0,markdownDescription:m.localize(158,null)},"editor.suggest.showModules":{type:"boolean",default:!0,markdownDescription:m.localize(159,null)},"editor.suggest.showProperties":{type:"boolean",default:!0,markdownDescription:m.localize(160,null)},"editor.suggest.showEvents":{type:"boolean",default:!0,markdownDescription:m.localize(161,null)},"editor.suggest.showOperators":{type:"boolean",default:!0,markdownDescription:m.localize(162,null)},"editor.suggest.showUnits":{type:"boolean",default:!0,markdownDescription:m.localize(163,null)},"editor.suggest.showValues":{type:"boolean",default:!0,markdownDescription:m.localize(164,null)},"editor.suggest.showConstants":{type:"boolean",default:!0,markdownDescription:m.localize(165,null)},"editor.suggest.showEnums":{type:"boolean",default:!0,markdownDescription:m.localize(166,null)},"editor.suggest.showEnumMembers":{type:"boolean",default:!0,markdownDescription:m.localize(167,null)},"editor.suggest.showKeywords":{type:"boolean",default:!0,markdownDescription:m.localize(168,null)},"editor.suggest.showWords":{type:"boolean",default:!0,markdownDescription:m.localize(169,null)},"editor.suggest.showColors":{type:"boolean",default:!0,markdownDescription:m.localize(170,null)},"editor.suggest.showFiles":{type:"boolean",default:!0,markdownDescription:m.localize(171,null)},"editor.suggest.showReferences":{type:"boolean",default:!0,markdownDescription:m.localize(172,null)},"editor.suggest.showCustomcolors":{type:"boolean",default:!0,markdownDescription:m.localize(173,null)},"editor.suggest.showFolders":{type:"boolean",default:!0,markdownDescription:m.localize(174,null)},"editor.suggest.showTypeParameters":{type:"boolean",default:!0,markdownDescription:m.localize(175,null)},"editor.suggest.showSnippets":{type:"boolean",default:!0,markdownDescription:m.localize(176,null)},"editor.suggest.showUsers":{type:"boolean",default:!0,markdownDescription:m.localize(177,null)},"editor.suggest.showIssues":{type:"boolean",default:!0,markdownDescription:m.localize(178,null)}})}validate(ue){if(!ue||typeof ue!="object")return this.defaultValue;const Ce=ue;return{insertMode:u(Ce.insertMode,this.defaultValue.insertMode,["insert","replace"]),filterGraceful:r(Ce.filterGraceful,this.defaultValue.filterGraceful),snippetsPreventQuickSuggestions:r(Ce.snippetsPreventQuickSuggestions,this.defaultValue.filterGraceful),localityBonus:r(Ce.localityBonus,this.defaultValue.localityBonus),shareSuggestSelections:r(Ce.shareSuggestSelections,this.defaultValue.shareSuggestSelections),selectionMode:u(Ce.selectionMode,this.defaultValue.selectionMode,["always","never","whenQuickSuggestion","whenTriggerCharacter"]),showIcons:r(Ce.showIcons,this.defaultValue.showIcons),showStatusBar:r(Ce.showStatusBar,this.defaultValue.showStatusBar),preview:r(Ce.preview,this.defaultValue.preview),previewMode:u(Ce.previewMode,this.defaultValue.previewMode,["prefix","subword","subwordSmart"]),showInlineDetails:r(Ce.showInlineDetails,this.defaultValue.showInlineDetails),showMethods:r(Ce.showMethods,this.defaultValue.showMethods),showFunctions:r(Ce.showFunctions,this.defaultValue.showFunctions),showConstructors:r(Ce.showConstructors,this.defaultValue.showConstructors),showDeprecated:r(Ce.showDeprecated,this.defaultValue.showDeprecated),matchOnWordStartOnly:r(Ce.matchOnWordStartOnly,this.defaultValue.matchOnWordStartOnly),showFields:r(Ce.showFields,this.defaultValue.showFields),showVariables:r(Ce.showVariables,this.defaultValue.showVariables),showClasses:r(Ce.showClasses,this.defaultValue.showClasses),showStructs:r(Ce.showStructs,this.defaultValue.showStructs),showInterfaces:r(Ce.showInterfaces,this.defaultValue.showInterfaces),showModules:r(Ce.showModules,this.defaultValue.showModules),showProperties:r(Ce.showProperties,this.defaultValue.showProperties),showEvents:r(Ce.showEvents,this.defaultValue.showEvents),showOperators:r(Ce.showOperators,this.defaultValue.showOperators),showUnits:r(Ce.showUnits,this.defaultValue.showUnits),showValues:r(Ce.showValues,this.defaultValue.showValues),showConstants:r(Ce.showConstants,this.defaultValue.showConstants),showEnums:r(Ce.showEnums,this.defaultValue.showEnums),showEnumMembers:r(Ce.showEnumMembers,this.defaultValue.showEnumMembers),showKeywords:r(Ce.showKeywords,this.defaultValue.showKeywords),showWords:r(Ce.showWords,this.defaultValue.showWords),showColors:r(Ce.showColors,this.defaultValue.showColors),showFiles:r(Ce.showFiles,this.defaultValue.showFiles),showReferences:r(Ce.showReferences,this.defaultValue.showReferences),showFolders:r(Ce.showFolders,this.defaultValue.showFolders),showTypeParameters:r(Ce.showTypeParameters,this.defaultValue.showTypeParameters),showSnippets:r(Ce.showSnippets,this.defaultValue.showSnippets),showUsers:r(Ce.showUsers,this.defaultValue.showUsers),showIssues:r(Ce.showIssues,this.defaultValue.showIssues)}}}class we extends p{constructor(){super(110,"smartSelect",{selectLeadingAndTrailingWhitespace:!0,selectSubwords:!0},{"editor.smartSelect.selectLeadingAndTrailingWhitespace":{description:m.localize(179,null),default:!0,type:"boolean"},"editor.smartSelect.selectSubwords":{description:m.localize(180,null),default:!0,type:"boolean"}})}validate(ue){return!ue||typeof ue!="object"?this.defaultValue:{selectLeadingAndTrailingWhitespace:r(ue.selectLeadingAndTrailingWhitespace,this.defaultValue.selectLeadingAndTrailingWhitespace),selectSubwords:r(ue.selectSubwords,this.defaultValue.selectSubwords)}}}class Ee extends p{constructor(){super(134,"wrappingIndent",1,{"editor.wrappingIndent":{type:"string",enum:["none","same","indent","deepIndent"],enumDescriptions:[m.localize(181,null),m.localize(182,null),m.localize(183,null),m.localize(184,null)],description:m.localize(185,null),default:"same"}})}validate(ue){switch(ue){case"none":return 0;case"same":return 1;case"indent":return 2;case"deepIndent":return 3}return 1}compute(ue,Ce,ve){return Ce.get(2)===2?0:ve}}class Ie extends i{constructor(){super(142)}compute(ue,Ce,ve){const _e=Ce.get(141);return{isDominatedByLongLines:ue.isDominatedByLongLines,isWordWrapMinified:_e.isWordWrapMinified,isViewportWrapping:_e.isViewportWrapping,wrappingColumn:_e.wrappingColumn}}}class ye extends p{constructor(){const ue={enabled:!0,showDropSelector:"afterDrop"};super(34,"dropIntoEditor",ue,{"editor.dropIntoEditor.enabled":{type:"boolean",default:ue.enabled,markdownDescription:m.localize(186,null)},"editor.dropIntoEditor.showDropSelector":{type:"string",markdownDescription:m.localize(187,null),enum:["afterDrop","never"],enumDescriptions:[m.localize(188,null),m.localize(189,null)],default:"afterDrop"}})}validate(ue){if(!ue||typeof ue!="object")return this.defaultValue;const Ce=ue;return{enabled:r(Ce.enabled,this.defaultValue.enabled),showDropSelector:u(Ce.showDropSelector,this.defaultValue.showDropSelector,["afterDrop","never"])}}}class ke extends p{constructor(){const ue={enabled:!0,showPasteSelector:"afterPaste"};super(82,"pasteAs",ue,{"editor.pasteAs.enabled":{type:"boolean",default:ue.enabled,markdownDescription:m.localize(190,null)},"editor.pasteAs.showPasteSelector":{type:"string",markdownDescription:m.localize(191,null),enum:["afterPaste","never"],enumDescriptions:[m.localize(192,null),m.localize(193,null)],default:"afterPaste"}})}validate(ue){if(!ue||typeof ue!="object")return this.defaultValue;const Ce=ue;return{enabled:r(Ce.enabled,this.defaultValue.enabled),showPasteSelector:u(Ce.showPasteSelector,this.defaultValue.showPasteSelector,["afterPaste","never"])}}}const Ae="Consolas, 'Courier New', monospace",Te="Menlo, Monaco, 'Courier New', monospace",pe="'Droid Sans Mono', 'monospace', monospace";e.EDITOR_FONT_DEFAULTS={fontFamily:y.isMacintosh?Te:y.isLinux?pe:Ae,fontWeight:"normal",fontSize:y.isMacintosh?12:14,lineHeight:0,letterSpacing:0},e.editorOptionsRegistry=[];function me(Se){return e.editorOptionsRegistry[Se.id]=Se,Se}e.EditorOptions={acceptSuggestionOnCommitCharacter:me(new d(0,"acceptSuggestionOnCommitCharacter",!0,{markdownDescription:m.localize(194,null)})),acceptSuggestionOnEnter:me(new C(1,"acceptSuggestionOnEnter","on",["on","smart","off"],{markdownEnumDescriptions:["",m.localize(195,null),""],markdownDescription:m.localize(196,null)})),accessibilitySupport:me(new b),accessibilityPageSize:me(new n(3,"accessibilityPageSize",10,1,1073741824,{description:m.localize(197,null),tags:["accessibility"]})),ariaLabel:me(new l(4,"ariaLabel",m.localize(198,null))),screenReaderAnnounceInlineSuggestion:me(new d(6,"screenReaderAnnounceInlineSuggestion",!0,{description:m.localize(199,null),tags:["accessibility"]})),autoClosingBrackets:me(new C(5,"autoClosingBrackets","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",m.localize(200,null),m.localize(201,null),""],description:m.localize(202,null)})),autoClosingDelete:me(new C(7,"autoClosingDelete","auto",["always","auto","never"],{enumDescriptions:["",m.localize(203,null),""],description:m.localize(204,null)})),autoClosingOvertype:me(new C(8,"autoClosingOvertype","auto",["always","auto","never"],{enumDescriptions:["",m.localize(205,null),""],description:m.localize(206,null)})),autoClosingQuotes:me(new C(9,"autoClosingQuotes","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",m.localize(207,null),m.localize(208,null),""],description:m.localize(209,null)})),autoIndent:me(new g(10,"autoIndent",4,"full",["none","keep","brackets","advanced","full"],v,{enumDescriptions:[m.localize(210,null),m.localize(211,null),m.localize(212,null),m.localize(213,null),m.localize(214,null)],description:m.localize(215,null)})),automaticLayout:me(new d(11,"automaticLayout",!1)),autoSurround:me(new C(12,"autoSurround","languageDefined",["languageDefined","quotes","brackets","never"],{enumDescriptions:[m.localize(216,null),m.localize(217,null),m.localize(218,null),""],description:m.localize(219,null)})),bracketPairColorization:me(new Y),bracketPairGuides:me(new le),stickyTabStops:me(new d(113,"stickyTabStops",!1,{description:m.localize(220,null)})),codeLens:me(new d(15,"codeLens",!0,{description:m.localize(221,null)})),codeLensFontFamily:me(new l(16,"codeLensFontFamily","",{description:m.localize(222,null)})),codeLensFontSize:me(new n(17,"codeLensFontSize",0,0,100,{type:"number",default:0,minimum:0,maximum:100,markdownDescription:m.localize(223,null)})),colorDecorators:me(new d(18,"colorDecorators",!0,{description:m.localize(224,null)})),colorDecoratorActivatedOn:me(new C(144,"colorDecoratorsActivatedOn","clickAndHover",["clickAndHover","hover","click"],{enumDescriptions:[m.localize(225,null),m.localize(226,null),m.localize(227,null)],description:m.localize(228,null)})),colorDecoratorsLimit:me(new n(19,"colorDecoratorsLimit",500,1,1e6,{markdownDescription:m.localize(229,null)})),columnSelection:me(new d(20,"columnSelection",!1,{description:m.localize(230,null)})),comments:me(new w),contextmenu:me(new d(22,"contextmenu",!0)),copyWithSyntaxHighlighting:me(new d(23,"copyWithSyntaxHighlighting",!0,{description:m.localize(231,null)})),cursorBlinking:me(new g(24,"cursorBlinking",1,"blink",["blink","smooth","phase","expand","solid"],E,{description:m.localize(232,null)})),cursorSmoothCaretAnimation:me(new C(25,"cursorSmoothCaretAnimation","off",["off","explicit","on"],{enumDescriptions:[m.localize(233,null),m.localize(234,null),m.localize(235,null)],description:m.localize(236,null)})),cursorStyle:me(new g(26,"cursorStyle",I.Line,"line",["line","block","underline","line-thin","block-outline","underline-thin"],T,{description:m.localize(237,null)})),cursorSurroundingLines:me(new n(27,"cursorSurroundingLines",0,0,1073741824,{description:m.localize(238,null)})),cursorSurroundingLinesStyle:me(new C(28,"cursorSurroundingLinesStyle","default",["default","all"],{enumDescriptions:[m.localize(239,null),m.localize(240,null)],description:m.localize(241,null)})),cursorWidth:me(new n(29,"cursorWidth",0,0,1073741824,{markdownDescription:m.localize(242,null)})),disableLayerHinting:me(new d(30,"disableLayerHinting",!1)),disableMonospaceOptimizations:me(new d(31,"disableMonospaceOptimizations",!1)),domReadOnly:me(new d(32,"domReadOnly",!1)),dragAndDrop:me(new d(33,"dragAndDrop",!0,{description:m.localize(243,null)})),emptySelectionClipboard:me(new A),dropIntoEditor:me(new ye),stickyScroll:me(new re),experimentalWhitespaceRendering:me(new C(36,"experimentalWhitespaceRendering","svg",["svg","font","off"],{enumDescriptions:[m.localize(244,null),m.localize(245,null),m.localize(246,null)],description:m.localize(247,null)})),extraEditorClassName:me(new l(37,"extraEditorClassName","")),fastScrollSensitivity:me(new a(38,"fastScrollSensitivity",5,Se=>Se<=0?5:Se,{markdownDescription:m.localize(248,null)})),find:me(new M),fixedOverflowWidgets:me(new d(40,"fixedOverflowWidgets",!1)),folding:me(new d(41,"folding",!0,{description:m.localize(249,null)})),foldingStrategy:me(new C(42,"foldingStrategy","auto",["auto","indentation"],{enumDescriptions:[m.localize(250,null),m.localize(251,null)],description:m.localize(252,null)})),foldingHighlight:me(new d(43,"foldingHighlight",!0,{description:m.localize(253,null)})),foldingImportsByDefault:me(new d(44,"foldingImportsByDefault",!1,{description:m.localize(254,null)})),foldingMaximumRegions:me(new n(45,"foldingMaximumRegions",5e3,10,65e3,{description:m.localize(255,null)})),unfoldOnClickAfterEndOfLine:me(new d(46,"unfoldOnClickAfterEndOfLine",!1,{description:m.localize(256,null)})),fontFamily:me(new l(47,"fontFamily",e.EDITOR_FONT_DEFAULTS.fontFamily,{description:m.localize(257,null)})),fontInfo:me(new F),fontLigatures2:me(new N),fontSize:me(new x),fontWeight:me(new W),fontVariations:me(new R),formatOnPaste:me(new d(53,"formatOnPaste",!1,{description:m.localize(258,null)})),formatOnType:me(new d(54,"formatOnType",!1,{description:m.localize(259,null)})),glyphMargin:me(new d(55,"glyphMargin",!0,{description:m.localize(260,null)})),gotoLocation:me(new z),hideCursorInOverviewRuler:me(new d(57,"hideCursorInOverviewRuler",!1,{description:m.localize(261,null)})),hover:me(new U),inDiffEditor:me(new d(59,"inDiffEditor",!1)),letterSpacing:me(new a(61,"letterSpacing",e.EDITOR_FONT_DEFAULTS.letterSpacing,Se=>a.clamp(Se,-5,20),{description:m.localize(262,null)})),lightbulb:me(new Q),lineDecorationsWidth:me(new te),lineHeight:me(new H),lineNumbers:me(new de),lineNumbersMinChars:me(new n(66,"lineNumbersMinChars",5,1,300)),linkedEditing:me(new d(67,"linkedEditing",!1,{description:m.localize(263,null)})),links:me(new d(68,"links",!0,{description:m.localize(264,null)})),matchBrackets:me(new C(69,"matchBrackets","always",["always","near","never"],{description:m.localize(265,null)})),minimap:me(new B),mouseStyle:me(new C(71,"mouseStyle","text",["text","default","copy"])),mouseWheelScrollSensitivity:me(new a(72,"mouseWheelScrollSensitivity",1,Se=>Se===0?1:Se,{markdownDescription:m.localize(266,null)})),mouseWheelZoom:me(new d(73,"mouseWheelZoom",!1,{markdownDescription:m.localize(267,null)})),multiCursorMergeOverlapping:me(new d(74,"multiCursorMergeOverlapping",!0,{description:m.localize(268,null)})),multiCursorModifier:me(new g(75,"multiCursorModifier","altKey","alt",["ctrlCmd","alt"],K,{markdownEnumDescriptions:[m.localize(269,null),m.localize(270,null)],markdownDescription:m.localize(271,null)})),multiCursorPaste:me(new C(76,"multiCursorPaste","spread",["spread","full"],{markdownEnumDescriptions:[m.localize(272,null),m.localize(273,null)],markdownDescription:m.localize(274,null)})),multiCursorLimit:me(new n(77,"multiCursorLimit",1e4,1,1e5,{markdownDescription:m.localize(275,null)})),occurrencesHighlight:me(new d(78,"occurrencesHighlight",!0,{description:m.localize(276,null)})),overviewRulerBorder:me(new d(79,"overviewRulerBorder",!0,{description:m.localize(277,null)})),overviewRulerLanes:me(new n(80,"overviewRulerLanes",3,0,3)),padding:me(new Z),pasteAs:me(new ke),parameterHints:me(new J),peekWidgetDefaultFocus:me(new C(84,"peekWidgetDefaultFocus","tree",["tree","editor"],{enumDescriptions:[m.localize(278,null),m.localize(279,null)],description:m.localize(280,null)})),definitionLinkOpensInPeek:me(new d(85,"definitionLinkOpensInPeek",!1,{description:m.localize(281,null)})),quickSuggestions:me(new he),quickSuggestionsDelay:me(new n(87,"quickSuggestionsDelay",10,0,1073741824,{description:m.localize(282,null)})),readOnly:me(new d(88,"readOnly",!1)),readOnlyMessage:me(new $),renameOnType:me(new d(90,"renameOnType",!1,{description:m.localize(283,null),markdownDeprecationMessage:m.localize(284,null)})),renderControlCharacters:me(new d(91,"renderControlCharacters",!0,{description:m.localize(285,null),restricted:!0})),renderFinalNewline:me(new C(92,"renderFinalNewline",y.isLinux?"dimmed":"on",["off","on","dimmed"],{description:m.localize(286,null)})),renderLineHighlight:me(new C(93,"renderLineHighlight","line",["none","gutter","line","all"],{enumDescriptions:["","","",m.localize(287,null)],description:m.localize(288,null)})),renderLineHighlightOnlyWhenFocus:me(new d(94,"renderLineHighlightOnlyWhenFocus",!1,{description:m.localize(289,null)})),renderValidationDecorations:me(new C(95,"renderValidationDecorations","editable",["editable","on","off"])),renderWhitespace:me(new C(96,"renderWhitespace","selection",["none","boundary","selection","trailing","all"],{enumDescriptions:["",m.localize(290,null),m.localize(291,null),m.localize(292,null),""],description:m.localize(293,null)})),revealHorizontalRightPadding:me(new n(97,"revealHorizontalRightPadding",15,0,1e3)),roundedSelection:me(new d(98,"roundedSelection",!0,{description:m.localize(294,null)})),rulers:me(new ce),scrollbar:me(new j),scrollBeyondLastColumn:me(new n(101,"scrollBeyondLastColumn",4,0,1073741824,{description:m.localize(295,null)})),scrollBeyondLastLine:me(new d(102,"scrollBeyondLastLine",!0,{description:m.localize(296,null)})),scrollPredominantAxis:me(new d(103,"scrollPredominantAxis",!0,{description:m.localize(297,null)})),selectionClipboard:me(new d(104,"selectionClipboard",!0,{description:m.localize(298,null),included:y.isLinux})),selectionHighlight:me(new d(105,"selectionHighlight",!0,{description:m.localize(299,null)})),selectOnLineNumbers:me(new d(106,"selectOnLineNumbers",!0)),showFoldingControls:me(new C(107,"showFoldingControls","mouseover",["always","never","mouseover"],{enumDescriptions:[m.localize(300,null),m.localize(301,null),m.localize(302,null)],description:m.localize(303,null)})),showUnused:me(new d(108,"showUnused",!0,{description:m.localize(304,null)})),showDeprecated:me(new d(136,"showDeprecated",!0,{description:m.localize(305,null)})),inlayHints:me(new oe),snippetSuggestions:me(new C(109,"snippetSuggestions","inline",["top","bottom","inline","none"],{enumDescriptions:[m.localize(306,null),m.localize(307,null),m.localize(308,null),m.localize(309,null)],description:m.localize(310,null)})),smartSelect:me(new we),smoothScrolling:me(new d(111,"smoothScrolling",!1,{description:m.localize(311,null)})),stopRenderingLineAfter:me(new n(114,"stopRenderingLineAfter",1e4,-1,1073741824)),suggest:me(new be),inlineSuggest:me(new ie),suggestFontSize:me(new n(116,"suggestFontSize",0,0,1e3,{markdownDescription:m.localize(312,null,"`0`","`#editor.fontSize#`")})),suggestLineHeight:me(new n(117,"suggestLineHeight",0,0,1e3,{markdownDescription:m.localize(313,null,"`0`","`#editor.lineHeight#`")})),suggestOnTriggerCharacters:me(new d(118,"suggestOnTriggerCharacters",!0,{description:m.localize(314,null)})),suggestSelection:me(new C(119,"suggestSelection","first",["first","recentlyUsed","recentlyUsedByPrefix"],{markdownEnumDescriptions:[m.localize(315,null),m.localize(316,null),m.localize(317,null)],description:m.localize(318,null)})),tabCompletion:me(new C(120,"tabCompletion","off",["on","off","onlySnippets"],{enumDescriptions:[m.localize(319,null),m.localize(320,null),m.localize(321,null)],description:m.localize(322,null)})),tabIndex:me(new n(121,"tabIndex",0,-1,1073741824)),unicodeHighlight:me(new se),unusualLineTerminators:me(new C(123,"unusualLineTerminators","prompt",["auto","off","prompt"],{enumDescriptions:[m.localize(323,null),m.localize(324,null),m.localize(325,null)],description:m.localize(326,null)})),useShadowDOM:me(new d(124,"useShadowDOM",!0)),useTabStops:me(new d(125,"useTabStops",!0,{description:m.localize(327,null)})),wordBreak:me(new C(126,"wordBreak","normal",["normal","keepAll"],{markdownEnumDescriptions:[m.localize(328,null),m.localize(329,null)],description:m.localize(330,null)})),wordSeparators:me(new l(127,"wordSeparators",S.USUAL_WORD_SEPARATORS,{description:m.localize(331,null)})),wordWrap:me(new C(128,"wordWrap","off",["off","on","wordWrapColumn","bounded"],{markdownEnumDescriptions:[m.localize(332,null),m.localize(333,null),m.localize(334,null),m.localize(335,null)],description:m.localize(336,null)})),wordWrapBreakAfterCharacters:me(new l(129,"wordWrapBreakAfterCharacters"," 	})]?|/&.,;\xA2\xB0\u2032\u2033\u2030\u2103\u3001\u3002\uFF61\uFF64\uFFE0\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF01\uFF05\u30FB\uFF65\u309D\u309E\u30FD\u30FE\u30FC\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u3095\u3096\u31F0\u31F1\u31F2\u31F3\u31F4\u31F5\u31F6\u31F7\u31F8\u31F9\u31FA\u31FB\u31FC\u31FD\u31FE\u31FF\u3005\u303B\uFF67\uFF68\uFF69\uFF6A\uFF6B\uFF6C\uFF6D\uFF6E\uFF6F\uFF70\u201D\u3009\u300B\u300D\u300F\u3011\u3015\uFF09\uFF3D\uFF5D\uFF63")),wordWrapBreakBeforeCharacters:me(new l(130,"wordWrapBreakBeforeCharacters","([{\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B\uFF62\xA3\xA5\uFF04\uFFE1\uFFE5+\uFF0B")),wordWrapColumn:me(new n(131,"wordWrapColumn",80,1,1073741824,{markdownDescription:m.localize(337,null)})),wordWrapOverride1:me(new C(132,"wordWrapOverride1","inherit",["off","on","inherit"])),wordWrapOverride2:me(new C(133,"wordWrapOverride2","inherit",["off","on","inherit"])),editorClassName:me(new P),defaultColorDecorators:me(new d(143,"defaultColorDecorators",!1,{markdownDescription:m.localize(338,null)})),pixelRatio:me(new ne),tabFocusMode:me(new d(140,"tabFocusMode",!1,{markdownDescription:m.localize(339,null)})),layoutInfo:me(new O),wrappingInfo:me(new Ie),wrappingIndent:me(new Ee),wrappingStrategy:me(new G)}}),define(X[616],ee([1,0,7,34,9,59,35,11,5,175]),function(q,e,L,k,y,D,S,m,_,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewCursor=void 0;class p{constructor(i,o,r,d,h,n,c){this.top=i,this.left=o,this.paddingLeft=r,this.width=d,this.height=h,this.textContent=n,this.textContentClassName=c}}class s{constructor(i){this._context=i;const o=this._context.configuration.options,r=o.get(48);this._cursorStyle=o.get(26),this._lineHeight=o.get(64),this._typicalHalfwidthCharacterWidth=r.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(o.get(29),this._typicalHalfwidthCharacterWidth),this._isVisible=!0,this._domNode=(0,k.createFastDomNode)(document.createElement("div")),this._domNode.setClassName(`cursor ${f.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME}`),this._domNode.setHeight(this._lineHeight),this._domNode.setTop(0),this._domNode.setLeft(0),(0,D.applyFontInfo)(this._domNode,r),this._domNode.setDisplay("none"),this._position=new m.Position(1,1),this._lastRenderedContent="",this._renderData=null}getDomNode(){return this._domNode}getPosition(){return this._position}show(){this._isVisible||(this._domNode.setVisibility("inherit"),this._isVisible=!0)}hide(){this._isVisible&&(this._domNode.setVisibility("hidden"),this._isVisible=!1)}onConfigurationChanged(i){const o=this._context.configuration.options,r=o.get(48);return this._cursorStyle=o.get(26),this._lineHeight=o.get(64),this._typicalHalfwidthCharacterWidth=r.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(o.get(29),this._typicalHalfwidthCharacterWidth),(0,D.applyFontInfo)(this._domNode,r),!0}onCursorPositionChanged(i,o){return o?this._domNode.domNode.style.transitionProperty="none":this._domNode.domNode.style.transitionProperty="",this._position=i,!0}_getGraphemeAwarePosition(){const{lineNumber:i,column:o}=this._position,r=this._context.viewModel.getLineContent(i),[d,h]=y.getCharContainingOffset(r,o-1);return[new m.Position(i,d+1),r.substring(d,h)]}_prepareRender(i){let o="",r="";const[d,h]=this._getGraphemeAwarePosition();if(this._cursorStyle===S.TextEditorCursorStyle.Line||this._cursorStyle===S.TextEditorCursorStyle.LineThin){const g=i.visibleRangeForPosition(d);if(!g||g.outsideRenderedLine)return null;let v;this._cursorStyle===S.TextEditorCursorStyle.Line?(v=L.computeScreenAwareSize(this._lineCursorWidth>0?this._lineCursorWidth:2),v>2&&(o=h,r=this._getTokenClassName(d))):v=L.computeScreenAwareSize(1);let b=g.left,w=0;v>=2&&b>=1&&(w=1,b-=w);const E=i.getVerticalOffsetForLineNumber(d.lineNumber)-i.bigNumbersDelta;return new p(E,b,w,v,this._lineHeight,o,r)}const n=i.linesVisibleRangesForRange(new _.Range(d.lineNumber,d.column,d.lineNumber,d.column+h.length),!1);if(!n||n.length===0)return null;const c=n[0];if(c.outsideRenderedLine||c.ranges.length===0)return null;const a=c.ranges[0],l=h==="	"?this._typicalHalfwidthCharacterWidth:a.width<1?this._typicalHalfwidthCharacterWidth:a.width;this._cursorStyle===S.TextEditorCursorStyle.Block&&(o=h,r=this._getTokenClassName(d));let u=i.getVerticalOffsetForLineNumber(d.lineNumber)-i.bigNumbersDelta,C=this._lineHeight;return(this._cursorStyle===S.TextEditorCursorStyle.Underline||this._cursorStyle===S.TextEditorCursorStyle.UnderlineThin)&&(u+=this._lineHeight-2,C=2),new p(u,a.left,0,l,C,o,r)}_getTokenClassName(i){const o=this._context.viewModel.getViewLineData(i.lineNumber),r=o.tokens.findTokenIndexAtOffset(i.column-1);return o.tokens.getClassName(r)}prepareRender(i){this._renderData=this._prepareRender(i)}render(i){return this._renderData?(this._lastRenderedContent!==this._renderData.textContent&&(this._lastRenderedContent=this._renderData.textContent,this._domNode.domNode.textContent=this._lastRenderedContent),this._domNode.setClassName(`cursor ${f.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME} ${this._renderData.textContentClassName}`),this._domNode.setDisplay("block"),this._domNode.setTop(this._renderData.top),this._domNode.setLeft(this._renderData.left),this._domNode.setPaddingLeft(this._renderData.paddingLeft),this._domNode.setWidth(this._renderData.width),this._domNode.setLineHeight(this._renderData.height),this._domNode.setHeight(this._renderData.height),{domNode:this._domNode.domNode,position:this._position,contentLeft:this._renderData.left,height:this._renderData.height,width:2}):(this._domNode.setDisplay("none"),null)}}e.ViewCursor=s}),define(X[617],ee([1,0,42,35]),function(q,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiffEditorOptions=void 0;class y{get editorOptions(){return this._options}constructor(_){this.renderOverviewRuler=(0,L.derived)("renderOverviewRuler",p=>this._options.read(p).renderOverviewRuler),this.renderSideBySide=(0,L.derived)("renderSideBySide",p=>this._options.read(p).renderSideBySide),this.readOnly=(0,L.derived)("readOnly",p=>this._options.read(p).readOnly),this.shouldRenderRevertArrows=(0,L.derived)("shouldRenderRevertArrows",p=>!(!this._options.read(p).renderMarginRevertIcon||!this.renderSideBySide.read(p)||this.readOnly.read(p))),this.renderIndicators=(0,L.derived)("renderIndicators",p=>this._options.read(p).renderIndicators),this.enableSplitViewResizing=(0,L.derived)("enableSplitViewResizing",p=>this._options.read(p).enableSplitViewResizing),this.collapseUnchangedRegions=(0,L.derived)("hideUnchangedRegions",p=>this._options.read(p).experimental.collapseUnchangedRegions),this.splitViewDefaultRatio=(0,L.derived)("splitViewDefaultRatio",p=>this._options.read(p).splitViewDefaultRatio),this.ignoreTrimWhitespace=(0,L.derived)("ignoreTrimWhitespace",p=>this._options.read(p).ignoreTrimWhitespace),this.maxComputationTimeMs=(0,L.derived)("maxComputationTime",p=>this._options.read(p).maxComputationTime),this.showMoves=(0,L.derived)("showMoves",p=>{const s=this._options.read(p);return s.experimental.showMoves&&s.renderSideBySide}),this.isInEmbeddedEditor=(0,L.derived)("isInEmbeddedEditor",p=>this._options.read(p).isInEmbeddedEditor),this.diffWordWrap=(0,L.derived)("diffWordWrap",p=>this._options.read(p).diffWordWrap),this.originalEditable=(0,L.derived)("originalEditable",p=>this._options.read(p).originalEditable),this.diffCodeLens=(0,L.derived)("diffCodeLens",p=>this._options.read(p).diffCodeLens),this.accessibilityVerbose=(0,L.derived)("accessibilityVerbose",p=>this._options.read(p).accessibilityVerbose),this.diffAlgorithm=(0,L.derived)("diffAlgorithm",p=>this._options.read(p).diffAlgorithm),this.showEmptyDecorations=(0,L.derived)("showEmptyDecorations",p=>this._options.read(p).experimental.showEmptyDecorations);const f=Object.assign(Object.assign({},_),S(_,D));this._options=(0,L.observableValue)("options",f)}updateOptions(_){const f=S(_,this._options.get()),p=Object.assign(Object.assign(Object.assign({},this._options.get()),_),f);this._options.set(p,void 0,{changedOptions:_})}}e.DiffEditorOptions=y;const D={enableSplitViewResizing:!0,splitViewDefaultRatio:.5,renderSideBySide:!0,renderMarginRevertIcon:!0,maxComputationTime:5e3,maxFileSize:50,ignoreTrimWhitespace:!0,renderIndicators:!0,originalEditable:!1,diffCodeLens:!1,renderOverviewRuler:!0,diffWordWrap:"inherit",diffAlgorithm:"advanced",accessibilityVerbose:!1,experimental:{collapseUnchangedRegions:!1,showMoves:!1,showEmptyDecorations:!0},isInEmbeddedEditor:!1};function S(m,_){var f,p,s;return{enableSplitViewResizing:(0,k.boolean)(m.enableSplitViewResizing,_.enableSplitViewResizing),splitViewDefaultRatio:(0,k.clampedFloat)(m.splitViewDefaultRatio,.5,.1,.9),renderSideBySide:(0,k.boolean)(m.renderSideBySide,_.renderSideBySide),renderMarginRevertIcon:(0,k.boolean)(m.renderMarginRevertIcon,_.renderMarginRevertIcon),maxComputationTime:(0,k.clampedInt)(m.maxComputationTime,_.maxComputationTime,0,1073741824),maxFileSize:(0,k.clampedInt)(m.maxFileSize,_.maxFileSize,0,1073741824),ignoreTrimWhitespace:(0,k.boolean)(m.ignoreTrimWhitespace,_.ignoreTrimWhitespace),renderIndicators:(0,k.boolean)(m.renderIndicators,_.renderIndicators),originalEditable:(0,k.boolean)(m.originalEditable,_.originalEditable),diffCodeLens:(0,k.boolean)(m.diffCodeLens,_.diffCodeLens),renderOverviewRuler:(0,k.boolean)(m.renderOverviewRuler,_.renderOverviewRuler),diffWordWrap:(0,k.stringSet)(m.diffWordWrap,_.diffWordWrap,["off","on","inherit"]),diffAlgorithm:(0,k.stringSet)(m.diffAlgorithm,_.diffAlgorithm,["legacy","advanced"],{smart:"legacy",experimental:"advanced"}),accessibilityVerbose:(0,k.boolean)(m.accessibilityVerbose,_.accessibilityVerbose),experimental:{collapseUnchangedRegions:(0,k.boolean)((f=m.experimental)===null||f===void 0?void 0:f.collapseUnchangedRegions,_.experimental.collapseUnchangedRegions),showMoves:(0,k.boolean)((p=m.experimental)===null||p===void 0?void 0:p.showMoves,_.experimental.showMoves),showEmptyDecorations:(0,k.boolean)((s=m.experimental)===null||s===void 0?void 0:s.showEmptyDecorations,_.experimental.showEmptyDecorations)},isInEmbeddedEditor:(0,k.boolean)(m.isInEmbeddedEditor,_.isInEmbeddedEditor)}}}),define(X[232],ee([1,0,17,35,144]),function(q,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FontInfo=e.SERIALIZED_FONT_INFO_VERSION=e.BareFontInfo=void 0;const D=L.isMacintosh?1.5:1.35,S=8;class m{static createFromValidatedSettings(p,s,t){const i=p.get(47),o=p.get(51),r=p.get(50),d=p.get(49),h=p.get(52),n=p.get(64),c=p.get(61);return m._create(i,o,r,d,h,n,c,s,t)}static _create(p,s,t,i,o,r,d,h,n){r===0?r=D*t:r<S&&(r=r*t),r=Math.round(r),r<S&&(r=S);const c=1+(n?0:y.EditorZoom.getZoomLevel()*.1);return t*=c,r*=c,o===k.EditorFontVariations.TRANSLATE&&(s==="normal"||s==="bold"?o=k.EditorFontVariations.OFF:(o=`'wght' ${parseInt(s,10)}`,s="normal")),new m({pixelRatio:h,fontFamily:p,fontWeight:s,fontSize:t,fontFeatureSettings:i,fontVariationSettings:o,lineHeight:r,letterSpacing:d})}constructor(p){this._bareFontInfoBrand=void 0,this.pixelRatio=p.pixelRatio,this.fontFamily=String(p.fontFamily),this.fontWeight=String(p.fontWeight),this.fontSize=p.fontSize,this.fontFeatureSettings=p.fontFeatureSettings,this.fontVariationSettings=p.fontVariationSettings,this.lineHeight=p.lineHeight|0,this.letterSpacing=p.letterSpacing}getId(){return`${this.pixelRatio}-${this.fontFamily}-${this.fontWeight}-${this.fontSize}-${this.fontFeatureSettings}-${this.fontVariationSettings}-${this.lineHeight}-${this.letterSpacing}`}getMassagedFontFamily(){const p=k.EDITOR_FONT_DEFAULTS.fontFamily,s=m._wrapInQuotes(this.fontFamily);return p&&this.fontFamily!==p?`${s}, ${p}`:s}static _wrapInQuotes(p){return/[,"']/.test(p)?p:/[+ ]/.test(p)?`"${p}"`:p}}e.BareFontInfo=m,e.SERIALIZED_FONT_INFO_VERSION=2;class _ extends m{constructor(p,s){super(p),this._editorStylingBrand=void 0,this.version=e.SERIALIZED_FONT_INFO_VERSION,this.isTrusted=s,this.isMonospace=p.isMonospace,this.typicalHalfwidthCharacterWidth=p.typicalHalfwidthCharacterWidth,this.typicalFullwidthCharacterWidth=p.typicalFullwidthCharacterWidth,this.canUseHalfwidthRightwardsArrow=p.canUseHalfwidthRightwardsArrow,this.spaceWidth=p.spaceWidth,this.middotWidth=p.middotWidth,this.wsmiddotWidth=p.wsmiddotWidth,this.maxDigitWidth=p.maxDigitWidth}equals(p){return this.fontFamily===p.fontFamily&&this.fontWeight===p.fontWeight&&this.fontSize===p.fontSize&&this.fontFeatureSettings===p.fontFeatureSettings&&this.fontVariationSettings===p.fontVariationSettings&&this.lineHeight===p.lineHeight&&this.letterSpacing===p.letterSpacing&&this.typicalHalfwidthCharacterWidth===p.typicalHalfwidthCharacterWidth&&this.typicalFullwidthCharacterWidth===p.typicalFullwidthCharacterWidth&&this.canUseHalfwidthRightwardsArrow===p.canUseHalfwidthRightwardsArrow&&this.spaceWidth===p.spaceWidth&&this.middotWidth===p.middotWidth&&this.wsmiddotWidth===p.wsmiddotWidth&&this.maxDigitWidth===p.maxDigitWidth}}e.FontInfo=_}),define(X[322],ee([1,0,51,6,2,470,35,232]),function(q,e,L,k,y,D,S,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FontMeasurements=e.FontMeasurementsImpl=void 0;class _ extends y.Disposable{constructor(){super(),this._onDidChange=this._register(new k.Emitter),this.onDidChange=this._onDidChange.event,this._cache=new f,this._evictUntrustedReadingsTimeout=-1}dispose(){this._evictUntrustedReadingsTimeout!==-1&&(window.clearTimeout(this._evictUntrustedReadingsTimeout),this._evictUntrustedReadingsTimeout=-1),super.dispose()}clearAllFontInfos(){this._cache=new f,this._onDidChange.fire()}_writeToCache(s,t){this._cache.put(s,t),!t.isTrusted&&this._evictUntrustedReadingsTimeout===-1&&(this._evictUntrustedReadingsTimeout=window.setTimeout(()=>{this._evictUntrustedReadingsTimeout=-1,this._evictUntrustedReadings()},5e3))}_evictUntrustedReadings(){const s=this._cache.getValues();let t=!1;for(const i of s)i.isTrusted||(t=!0,this._cache.remove(i));t&&this._onDidChange.fire()}readFontInfo(s){if(!this._cache.has(s)){let t=this._actualReadFontInfo(s);(t.typicalHalfwidthCharacterWidth<=2||t.typicalFullwidthCharacterWidth<=2||t.spaceWidth<=2||t.maxDigitWidth<=2)&&(t=new m.FontInfo({pixelRatio:L.PixelRatio.value,fontFamily:t.fontFamily,fontWeight:t.fontWeight,fontSize:t.fontSize,fontFeatureSettings:t.fontFeatureSettings,fontVariationSettings:t.fontVariationSettings,lineHeight:t.lineHeight,letterSpacing:t.letterSpacing,isMonospace:t.isMonospace,typicalHalfwidthCharacterWidth:Math.max(t.typicalHalfwidthCharacterWidth,5),typicalFullwidthCharacterWidth:Math.max(t.typicalFullwidthCharacterWidth,5),canUseHalfwidthRightwardsArrow:t.canUseHalfwidthRightwardsArrow,spaceWidth:Math.max(t.spaceWidth,5),middotWidth:Math.max(t.middotWidth,5),wsmiddotWidth:Math.max(t.wsmiddotWidth,5),maxDigitWidth:Math.max(t.maxDigitWidth,5)},!1)),this._writeToCache(s,t)}return this._cache.get(s)}_createRequest(s,t,i,o){const r=new D.CharWidthRequest(s,t);return i.push(r),o?.push(r),r}_actualReadFontInfo(s){const t=[],i=[],o=this._createRequest("n",0,t,i),r=this._createRequest("\uFF4D",0,t,null),d=this._createRequest(" ",0,t,i),h=this._createRequest("0",0,t,i),n=this._createRequest("1",0,t,i),c=this._createRequest("2",0,t,i),a=this._createRequest("3",0,t,i),l=this._createRequest("4",0,t,i),u=this._createRequest("5",0,t,i),C=this._createRequest("6",0,t,i),g=this._createRequest("7",0,t,i),v=this._createRequest("8",0,t,i),b=this._createRequest("9",0,t,i),w=this._createRequest("\u2192",0,t,i),E=this._createRequest("\uFFEB",0,t,null),I=this._createRequest("\xB7",0,t,i),T=this._createRequest(String.fromCharCode(11825),0,t,null),P="|/-_ilm%";for(let F=0,x=P.length;F<x;F++)this._createRequest(P.charAt(F),0,t,i),this._createRequest(P.charAt(F),1,t,i),this._createRequest(P.charAt(F),2,t,i);(0,D.readCharWidths)(s,t);const A=Math.max(h.width,n.width,c.width,a.width,l.width,u.width,C.width,g.width,v.width,b.width);let M=s.fontFeatureSettings===S.EditorFontLigatures.OFF;const N=i[0].width;for(let F=1,x=i.length;M&&F<x;F++){const W=N-i[F].width;if(W<-.001||W>.001){M=!1;break}}let R=!0;return M&&E.width!==N&&(R=!1),E.width>w.width&&(R=!1),new m.FontInfo({pixelRatio:L.PixelRatio.value,fontFamily:s.fontFamily,fontWeight:s.fontWeight,fontSize:s.fontSize,fontFeatureSettings:s.fontFeatureSettings,fontVariationSettings:s.fontVariationSettings,lineHeight:s.lineHeight,letterSpacing:s.letterSpacing,isMonospace:M,typicalHalfwidthCharacterWidth:o.width,typicalFullwidthCharacterWidth:r.width,canUseHalfwidthRightwardsArrow:R,spaceWidth:d.width,middotWidth:I.width,wsmiddotWidth:T.width,maxDigitWidth:A},!0)}}e.FontMeasurementsImpl=_;class f{constructor(){this._keys=Object.create(null),this._values=Object.create(null)}has(s){const t=s.getId();return!!this._values[t]}get(s){const t=s.getId();return this._values[t]}put(s,t){const i=s.getId();this._keys[i]=s,this._values[i]=t}remove(s){const t=s.getId();delete this._keys[t],delete this._values[t]}getValues(){return Object.keys(this._keys).map(s=>this._values[s])}}e.FontMeasurements=new _}),define(X[323],ee([1,0,11,5,66,35]),function(q,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isModelDecorationInString=e.isModelDecorationInComment=e.isModelDecorationVisible=e.ViewModelDecorations=void 0;class S{constructor(t,i,o,r,d){this.editorId=t,this.model=i,this.configuration=o,this._linesCollection=r,this._coordinatesConverter=d,this._decorationsCache=Object.create(null),this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}_clearCachedModelDecorationsResolver(){this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}dispose(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}reset(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onModelDecorationsChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onLineMappingChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}_getOrCreateViewModelDecoration(t){const i=t.id;let o=this._decorationsCache[i];if(!o){const r=t.range,d=t.options;let h;if(d.isWholeLine){const n=this._coordinatesConverter.convertModelPositionToViewPosition(new L.Position(r.startLineNumber,1),0,!1,!0),c=this._coordinatesConverter.convertModelPositionToViewPosition(new L.Position(r.endLineNumber,this.model.getLineMaxColumn(r.endLineNumber)),1);h=new k.Range(n.lineNumber,n.column,c.lineNumber,c.column)}else h=this._coordinatesConverter.convertModelRangeToViewRange(r,1);o=new y.ViewModelDecoration(h,d),this._decorationsCache[i]=o}return o}getMinimapDecorationsInRange(t){return this._getDecorationsInRange(t,!0,!1).decorations}getDecorationsViewportData(t){let i=this._cachedModelDecorationsResolver!==null;return i=i&&t.equalsRange(this._cachedModelDecorationsResolverViewRange),i||(this._cachedModelDecorationsResolver=this._getDecorationsInRange(t,!1,!1),this._cachedModelDecorationsResolverViewRange=t),this._cachedModelDecorationsResolver}getInlineDecorationsOnLine(t,i=!1,o=!1){const r=new k.Range(t,this._linesCollection.getViewLineMinColumn(t),t,this._linesCollection.getViewLineMaxColumn(t));return this._getDecorationsInRange(r,i,o).inlineDecorations[0]}_getDecorationsInRange(t,i,o){const r=this._linesCollection.getDecorationsInRange(t,this.editorId,(0,D.filterValidationDecorations)(this.configuration.options),i,o),d=t.startLineNumber,h=t.endLineNumber,n=[];let c=0;const a=[];for(let l=d;l<=h;l++)a[l-d]=[];for(let l=0,u=r.length;l<u;l++){const C=r[l],g=C.options;if(!m(this.model,C))continue;const v=this._getOrCreateViewModelDecoration(C),b=v.range;if(n[c++]=v,g.inlineClassName){const w=new y.InlineDecoration(b,g.inlineClassName,g.inlineClassNameAffectsLetterSpacing?3:0),E=Math.max(d,b.startLineNumber),I=Math.min(h,b.endLineNumber);for(let T=E;T<=I;T++)a[T-d].push(w)}if(g.beforeContentClassName&&d<=b.startLineNumber&&b.startLineNumber<=h){const w=new y.InlineDecoration(new k.Range(b.startLineNumber,b.startColumn,b.startLineNumber,b.startColumn),g.beforeContentClassName,1);a[b.startLineNumber-d].push(w)}if(g.afterContentClassName&&d<=b.endLineNumber&&b.endLineNumber<=h){const w=new y.InlineDecoration(new k.Range(b.endLineNumber,b.endColumn,b.endLineNumber,b.endColumn),g.afterContentClassName,2);a[b.endLineNumber-d].push(w)}}return{decorations:n,inlineDecorations:a}}}e.ViewModelDecorations=S;function m(s,t){return!(t.options.hideInCommentTokens&&_(s,t)||t.options.hideInStringTokens&&f(s,t))}e.isModelDecorationVisible=m;function _(s,t){return p(s,t.range,i=>i===1)}e.isModelDecorationInComment=_;function f(s,t){return p(s,t.range,i=>i===2)}e.isModelDecorationInString=f;function p(s,t,i){for(let o=t.startLineNumber;o<=t.endLineNumber;o++){const r=s.tokenization.getLineTokens(o),d=o===t.startLineNumber,h=o===t.endLineNumber;let n=d?r.findTokenIndexAtOffset(t.startColumn-1):0;for(;n<r.getCount()&&!(h&&r.getStartOffset(n)>t.endColumn-1);){if(!i(r.getStandardTokenType(n)))return!1;n++}}return!0}}),define(X[618],ee([3,4]),function(q,e){return q.create("vs/editor/common/core/editorColorRegistry",e)}),define(X[619],ee([3,4]),function(q,e){return q.create("vs/editor/common/editorContextKeys",e)}),define(X[620],ee([3,4]),function(q,e){return q.create("vs/editor/common/languages/modesRegistry",e)}),define(X[621],ee([3,4]),function(q,e){return q.create("vs/editor/common/model/editStack",e)}),define(X[324],ee([1,0,621,12,24,21,315,138,43]),function(q,e,L,k,y,D,S,m,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditStack=e.isEditStackElement=e.MultiModelEditStackElement=e.SingleModelEditStackElement=e.SingleModelEditStackData=void 0;function f(d){return d.toString()}class p{static create(h,n){const c=h.getAlternativeVersionId(),a=i(h);return new p(c,c,a,a,n,n,[])}constructor(h,n,c,a,l,u,C){this.beforeVersionId=h,this.afterVersionId=n,this.beforeEOL=c,this.afterEOL=a,this.beforeCursorState=l,this.afterCursorState=u,this.changes=C}append(h,n,c,a,l){n.length>0&&(this.changes=(0,S.compressConsecutiveTextChanges)(this.changes,n)),this.afterEOL=c,this.afterVersionId=a,this.afterCursorState=l}static _writeSelectionsSize(h){return 4+4*4*(h?h.length:0)}static _writeSelections(h,n,c){if(m.writeUInt32BE(h,n?n.length:0,c),c+=4,n)for(const a of n)m.writeUInt32BE(h,a.selectionStartLineNumber,c),c+=4,m.writeUInt32BE(h,a.selectionStartColumn,c),c+=4,m.writeUInt32BE(h,a.positionLineNumber,c),c+=4,m.writeUInt32BE(h,a.positionColumn,c),c+=4;return c}static _readSelections(h,n,c){const a=m.readUInt32BE(h,n);n+=4;for(let l=0;l<a;l++){const u=m.readUInt32BE(h,n);n+=4;const C=m.readUInt32BE(h,n);n+=4;const g=m.readUInt32BE(h,n);n+=4;const v=m.readUInt32BE(h,n);n+=4,c.push(new y.Selection(u,C,g,v))}return n}serialize(){let h=10+p._writeSelectionsSize(this.beforeCursorState)+p._writeSelectionsSize(this.afterCursorState)+4;for(const a of this.changes)h+=a.writeSize();const n=new Uint8Array(h);let c=0;m.writeUInt32BE(n,this.beforeVersionId,c),c+=4,m.writeUInt32BE(n,this.afterVersionId,c),c+=4,m.writeUInt8(n,this.beforeEOL,c),c+=1,m.writeUInt8(n,this.afterEOL,c),c+=1,c=p._writeSelections(n,this.beforeCursorState,c),c=p._writeSelections(n,this.afterCursorState,c),m.writeUInt32BE(n,this.changes.length,c),c+=4;for(const a of this.changes)c=a.write(n,c);return n.buffer}static deserialize(h){const n=new Uint8Array(h);let c=0;const a=m.readUInt32BE(n,c);c+=4;const l=m.readUInt32BE(n,c);c+=4;const u=m.readUInt8(n,c);c+=1;const C=m.readUInt8(n,c);c+=1;const g=[];c=p._readSelections(n,c,g);const v=[];c=p._readSelections(n,c,v);const b=m.readUInt32BE(n,c);c+=4;const w=[];for(let E=0;E<b;E++)c=S.TextChange.read(n,c,w);return new p(a,l,u,C,g,v,w)}}e.SingleModelEditStackData=p;class s{get type(){return 0}get resource(){return D.URI.isUri(this.model)?this.model:this.model.uri}constructor(h,n,c,a){this.label=h,this.code=n,this.model=c,this._data=p.create(c,a)}toString(){return(this._data instanceof p?this._data:p.deserialize(this._data)).changes.map(n=>n.toString()).join(", ")}matchesResource(h){return(D.URI.isUri(this.model)?this.model:this.model.uri).toString()===h.toString()}setModel(h){this.model=h}canAppend(h){return this.model===h&&this._data instanceof p}append(h,n,c,a,l){this._data instanceof p&&this._data.append(h,n,c,a,l)}close(){this._data instanceof p&&(this._data=this._data.serialize())}open(){this._data instanceof p||(this._data=p.deserialize(this._data))}undo(){if(D.URI.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof p&&(this._data=this._data.serialize());const h=p.deserialize(this._data);this.model._applyUndo(h.changes,h.beforeEOL,h.beforeVersionId,h.beforeCursorState)}redo(){if(D.URI.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof p&&(this._data=this._data.serialize());const h=p.deserialize(this._data);this.model._applyRedo(h.changes,h.afterEOL,h.afterVersionId,h.afterCursorState)}heapSize(){return this._data instanceof p&&(this._data=this._data.serialize()),this._data.byteLength+168}}e.SingleModelEditStackElement=s;class t{get resources(){return this._editStackElementsArr.map(h=>h.resource)}constructor(h,n,c){this.label=h,this.code=n,this.type=1,this._isOpen=!0,this._editStackElementsArr=c.slice(0),this._editStackElementsMap=new Map;for(const a of this._editStackElementsArr){const l=f(a.resource);this._editStackElementsMap.set(l,a)}this._delegate=null}prepareUndoRedo(){if(this._delegate)return this._delegate.prepareUndoRedo(this)}matchesResource(h){const n=f(h);return this._editStackElementsMap.has(n)}setModel(h){const n=f(D.URI.isUri(h)?h:h.uri);this._editStackElementsMap.has(n)&&this._editStackElementsMap.get(n).setModel(h)}canAppend(h){if(!this._isOpen)return!1;const n=f(h.uri);return this._editStackElementsMap.has(n)?this._editStackElementsMap.get(n).canAppend(h):!1}append(h,n,c,a,l){const u=f(h.uri);this._editStackElementsMap.get(u).append(h,n,c,a,l)}close(){this._isOpen=!1}open(){}undo(){this._isOpen=!1;for(const h of this._editStackElementsArr)h.undo()}redo(){for(const h of this._editStackElementsArr)h.redo()}heapSize(h){const n=f(h);return this._editStackElementsMap.has(n)?this._editStackElementsMap.get(n).heapSize():0}split(){return this._editStackElementsArr}toString(){const h=[];for(const n of this._editStackElementsArr)h.push(`${(0,_.basename)(n.resource)}: ${n}`);return`{${h.join(", ")}}`}}e.MultiModelEditStackElement=t;function i(d){return d.getEOL()===`
`?0:1}function o(d){return d?d instanceof s||d instanceof t:!1}e.isEditStackElement=o;class r{constructor(h,n){this._model=h,this._undoRedoService=n}pushStackElement(){const h=this._undoRedoService.getLastElement(this._model.uri);o(h)&&h.close()}popStackElement(){const h=this._undoRedoService.getLastElement(this._model.uri);o(h)&&h.open()}clear(){this._undoRedoService.removeElements(this._model.uri)}_getOrCreateEditStackElement(h,n){const c=this._undoRedoService.getLastElement(this._model.uri);if(o(c)&&c.canAppend(this._model))return c;const a=new s(L.localize(0,null),"undoredo.textBufferEdit",this._model,h);return this._undoRedoService.pushElement(a,n),a}pushEOL(h){const n=this._getOrCreateEditStackElement(null,void 0);this._model.setEOL(h),n.append(this._model,[],i(this._model),this._model.getAlternativeVersionId(),null)}pushEditOperation(h,n,c,a){const l=this._getOrCreateEditStackElement(h,a),u=this._model.applyEdits(n,!0),C=r._computeCursorState(c,u),g=u.map((v,b)=>({index:b,textChange:v.textChange}));return g.sort((v,b)=>v.textChange.oldPosition===b.textChange.oldPosition?v.index-b.index:v.textChange.oldPosition-b.textChange.oldPosition),l.append(this._model,g.map(v=>v.textChange),i(this._model),this._model.getAlternativeVersionId(),C),C}static _computeCursorState(h,n){try{return h?h(n):null}catch(c){return(0,k.onUnexpectedError)(c),null}}}e.EditStack=r}),define(X[622],ee([3,4]),function(q,e){return q.create("vs/editor/common/standaloneStrings",e)}),define(X[93],ee([1,0,622]),function(q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandaloneServicesNLS=e.ToggleHighContrastNLS=e.StandaloneCodeEditorNLS=e.QuickOutlineNLS=e.QuickCommandNLS=e.QuickHelpNLS=e.GoToLineNLS=e.InspectTokensNLS=void 0;var k;(function(s){s.inspectTokensAction=L.localize(0,null)})(k||(e.InspectTokensNLS=k={}));var y;(function(s){s.gotoLineActionLabel=L.localize(1,null)})(y||(e.GoToLineNLS=y={}));var D;(function(s){s.helpQuickAccessActionLabel=L.localize(2,null)})(D||(e.QuickHelpNLS=D={}));var S;(function(s){s.quickCommandActionLabel=L.localize(3,null),s.quickCommandHelp=L.localize(4,null)})(S||(e.QuickCommandNLS=S={}));var m;(function(s){s.quickOutlineActionLabel=L.localize(5,null),s.quickOutlineByCategoryActionLabel=L.localize(6,null)})(m||(e.QuickOutlineNLS=m={}));var _;(function(s){s.editorViewAccessibleLabel=L.localize(7,null),s.accessibilityHelpMessage=L.localize(8,null)})(_||(e.StandaloneCodeEditorNLS=_={}));var f;(function(s){s.toggleHighContrast=L.localize(9,null)})(f||(e.ToggleHighContrastNLS=f={}));var p;(function(s){s.bulkEditServiceSummary=L.localize(10,null)})(p||(e.StandaloneServicesNLS=p={}))}),define(X[623],ee([3,4]),function(q,e){return q.create("vs/editor/common/viewLayout/viewLineRenderer",e)}),define(X[94],ee([1,0,623,9,92,127,523]),function(q,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.renderViewLine2=e.RenderLineOutput2=e.renderViewLine=e.RenderLineOutput=e.CharacterMapping=e.DomPosition=e.RenderLineInput=e.LineRange=void 0;class m{constructor(w,E){this.startOffset=w,this.endOffset=E}equals(w){return this.startOffset===w.startOffset&&this.endOffset===w.endOffset}}e.LineRange=m;class _{constructor(w,E,I,T,P,A,M,N,R,F,x,W,z,U,O,G,Q,re,oe){this.useMonospaceOptimizations=w,this.canUseHalfwidthRightwardsArrow=E,this.lineContent=I,this.continuesWithWrappedLine=T,this.isBasicASCII=P,this.containsRTL=A,this.fauxIndentLength=M,this.lineTokens=N,this.lineDecorations=R.sort(D.LineDecoration.compare),this.tabSize=F,this.startVisibleColumn=x,this.spaceWidth=W,this.stopRenderingLineAfter=O,this.renderWhitespace=G==="all"?4:G==="boundary"?1:G==="selection"?2:G==="trailing"?3:0,this.renderControlCharacters=Q,this.fontLigatures=re,this.selectionsOnLine=oe&&oe.sort((B,K)=>B.startOffset<K.startOffset?-1:1);const te=Math.abs(U-W),H=Math.abs(z-W);te<H?(this.renderSpaceWidth=U,this.renderSpaceCharCode=11825):(this.renderSpaceWidth=z,this.renderSpaceCharCode=183)}sameSelection(w){if(this.selectionsOnLine===null)return w===null;if(w===null||w.length!==this.selectionsOnLine.length)return!1;for(let E=0;E<this.selectionsOnLine.length;E++)if(!this.selectionsOnLine[E].equals(w[E]))return!1;return!0}equals(w){return this.useMonospaceOptimizations===w.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===w.canUseHalfwidthRightwardsArrow&&this.lineContent===w.lineContent&&this.continuesWithWrappedLine===w.continuesWithWrappedLine&&this.isBasicASCII===w.isBasicASCII&&this.containsRTL===w.containsRTL&&this.fauxIndentLength===w.fauxIndentLength&&this.tabSize===w.tabSize&&this.startVisibleColumn===w.startVisibleColumn&&this.spaceWidth===w.spaceWidth&&this.renderSpaceWidth===w.renderSpaceWidth&&this.renderSpaceCharCode===w.renderSpaceCharCode&&this.stopRenderingLineAfter===w.stopRenderingLineAfter&&this.renderWhitespace===w.renderWhitespace&&this.renderControlCharacters===w.renderControlCharacters&&this.fontLigatures===w.fontLigatures&&D.LineDecoration.equalsArr(this.lineDecorations,w.lineDecorations)&&this.lineTokens.equals(w.lineTokens)&&this.sameSelection(w.selectionsOnLine)}}e.RenderLineInput=_;class f{constructor(w,E){this.partIndex=w,this.charIndex=E}}e.DomPosition=f;class p{static getPartIndex(w){return(w&4294901760)>>>16}static getCharIndex(w){return(w&65535)>>>0}constructor(w,E){this.length=w,this._data=new Uint32Array(this.length),this._horizontalOffset=new Uint32Array(this.length)}setColumnInfo(w,E,I,T){const P=(E<<16|I<<0)>>>0;this._data[w-1]=P,this._horizontalOffset[w-1]=T}getHorizontalOffset(w){return this._horizontalOffset.length===0?0:this._horizontalOffset[w-1]}charOffsetToPartData(w){return this.length===0?0:w<0?this._data[0]:w>=this.length?this._data[this.length-1]:this._data[w]}getDomPosition(w){const E=this.charOffsetToPartData(w-1),I=p.getPartIndex(E),T=p.getCharIndex(E);return new f(I,T)}getColumn(w,E){return this.partDataToCharOffset(w.partIndex,E,w.charIndex)+1}partDataToCharOffset(w,E,I){if(this.length===0)return 0;const T=(w<<16|I<<0)>>>0;let P=0,A=this.length-1;for(;P+1<A;){const O=P+A>>>1,G=this._data[O];if(G===T)return O;G>T?A=O:P=O}if(P===A)return P;const M=this._data[P],N=this._data[A];if(M===T)return P;if(N===T)return A;const R=p.getPartIndex(M),F=p.getCharIndex(M),x=p.getPartIndex(N);let W;R!==x?W=E:W=p.getCharIndex(N);const z=I-F,U=W-I;return z<=U?P:A}}e.CharacterMapping=p;class s{constructor(w,E,I){this._renderLineOutputBrand=void 0,this.characterMapping=w,this.containsRTL=E,this.containsForeignElements=I}}e.RenderLineOutput=s;function t(b,w){if(b.lineContent.length===0){if(b.lineDecorations.length>0){w.appendString("<span>");let E=0,I=0,T=0;for(const A of b.lineDecorations)(A.type===1||A.type===2)&&(w.appendString('<span class="'),w.appendString(A.className),w.appendString('"></span>'),A.type===1&&(T|=1,E++),A.type===2&&(T|=2,I++));w.appendString("</span>");const P=new p(1,E+I);return P.setColumnInfo(1,E,0,0),new s(P,!1,T)}return w.appendString("<span><span></span></span>"),new s(new p(0,0),!1,0)}return C(d(b),w)}e.renderViewLine=t;class i{constructor(w,E,I,T){this.characterMapping=w,this.html=E,this.containsRTL=I,this.containsForeignElements=T}}e.RenderLineOutput2=i;function o(b){const w=new y.StringBuilder(1e4),E=t(b,w);return new i(E.characterMapping,w.build(),E.containsRTL,E.containsForeignElements)}e.renderViewLine2=o;class r{constructor(w,E,I,T,P,A,M,N,R,F,x,W,z,U,O,G){this.fontIsMonospace=w,this.canUseHalfwidthRightwardsArrow=E,this.lineContent=I,this.len=T,this.isOverflowing=P,this.overflowingCharCount=A,this.parts=M,this.containsForeignElements=N,this.fauxIndentLength=R,this.tabSize=F,this.startVisibleColumn=x,this.containsRTL=W,this.spaceWidth=z,this.renderSpaceCharCode=U,this.renderWhitespace=O,this.renderControlCharacters=G}}function d(b){const w=b.lineContent;let E,I,T;b.stopRenderingLineAfter!==-1&&b.stopRenderingLineAfter<w.length?(E=!0,I=w.length-b.stopRenderingLineAfter,T=b.stopRenderingLineAfter):(E=!1,I=0,T=w.length);let P=h(w,b.containsRTL,b.lineTokens,b.fauxIndentLength,T);b.renderControlCharacters&&!b.isBasicASCII&&(P=a(w,P)),(b.renderWhitespace===4||b.renderWhitespace===1||b.renderWhitespace===2&&b.selectionsOnLine||b.renderWhitespace===3&&!b.continuesWithWrappedLine)&&(P=l(b,w,T,P));let A=0;if(b.lineDecorations.length>0){for(let M=0,N=b.lineDecorations.length;M<N;M++){const R=b.lineDecorations[M];R.type===3||R.type===1?A|=1:R.type===2&&(A|=2)}P=u(w,T,P,b.lineDecorations)}return b.containsRTL||(P=n(w,P,!b.isBasicASCII||b.fontLigatures)),new r(b.useMonospaceOptimizations,b.canUseHalfwidthRightwardsArrow,w,T,E,I,P,A,b.fauxIndentLength,b.tabSize,b.startVisibleColumn,b.containsRTL,b.spaceWidth,b.renderSpaceCharCode,b.renderWhitespace,b.renderControlCharacters)}function h(b,w,E,I,T){const P=[];let A=0;I>0&&(P[A++]=new S.LinePart(I,"",0,!1));let M=I;for(let N=0,R=E.getCount();N<R;N++){const F=E.getEndOffset(N);if(F<=I)continue;const x=E.getClassName(N);if(F>=T){const z=w?k.containsRTL(b.substring(M,T)):!1;P[A++]=new S.LinePart(T,x,0,z);break}const W=w?k.containsRTL(b.substring(M,F)):!1;P[A++]=new S.LinePart(F,x,0,W),M=F}return P}function n(b,w,E){let I=0;const T=[];let P=0;if(E)for(let A=0,M=w.length;A<M;A++){const N=w[A],R=N.endIndex;if(I+50<R){const F=N.type,x=N.metadata,W=N.containsRTL;let z=-1,U=I;for(let O=I;O<R;O++)b.charCodeAt(O)===32&&(z=O),z!==-1&&O-U>=50&&(T[P++]=new S.LinePart(z+1,F,x,W),U=z+1,z=-1);U!==R&&(T[P++]=new S.LinePart(R,F,x,W))}else T[P++]=N;I=R}else for(let A=0,M=w.length;A<M;A++){const N=w[A],R=N.endIndex,F=R-I;if(F>50){const x=N.type,W=N.metadata,z=N.containsRTL,U=Math.ceil(F/50);for(let O=1;O<U;O++){const G=I+O*50;T[P++]=new S.LinePart(G,x,W,z)}T[P++]=new S.LinePart(R,x,W,z)}else T[P++]=N;I=R}return T}function c(b){return b<32?b!==9:b===127||b>=8234&&b<=8238||b>=8294&&b<=8297||b>=8206&&b<=8207||b===1564}function a(b,w){const E=[];let I=new S.LinePart(0,"",0,!1),T=0;for(const P of w){const A=P.endIndex;for(;T<A;T++){const M=b.charCodeAt(T);c(M)&&(T>I.endIndex&&(I=new S.LinePart(T,P.type,P.metadata,P.containsRTL),E.push(I)),I=new S.LinePart(T+1,"mtkcontrol",P.metadata,!1),E.push(I))}T>I.endIndex&&(I=new S.LinePart(A,P.type,P.metadata,P.containsRTL),E.push(I))}return E}function l(b,w,E,I){const T=b.continuesWithWrappedLine,P=b.fauxIndentLength,A=b.tabSize,M=b.startVisibleColumn,N=b.useMonospaceOptimizations,R=b.selectionsOnLine,F=b.renderWhitespace===1,x=b.renderWhitespace===3,W=b.renderSpaceWidth!==b.spaceWidth,z=[];let U=0,O=0,G=I[O].type,Q=I[O].containsRTL,re=I[O].endIndex;const oe=I.length;let te=!1,H=k.firstNonWhitespaceIndex(w),B;H===-1?(te=!0,H=E,B=E):B=k.lastNonWhitespaceIndex(w);let K=!1,Z=0,J=R&&R[Z],ne=M%A;for(let de=P;de<E;de++){const ae=w.charCodeAt(de);J&&de>=J.endOffset&&(Z++,J=R&&R[Z]);let ce;if(de<H||de>B)ce=!0;else if(ae===9)ce=!0;else if(ae===32)if(F)if(K)ce=!0;else{const $=de+1<E?w.charCodeAt(de+1):0;ce=$===32||$===9}else ce=!0;else ce=!1;if(ce&&R&&(ce=!!J&&J.startOffset<=de&&J.endOffset>de),ce&&x&&(ce=te||de>B),ce&&Q&&de>=H&&de<=B&&(ce=!1),K){if(!ce||!N&&ne>=A){if(W){const $=U>0?z[U-1].endIndex:P;for(let V=$+1;V<=de;V++)z[U++]=new S.LinePart(V,"mtkw",1,!1)}else z[U++]=new S.LinePart(de,"mtkw",1,!1);ne=ne%A}}else(de===re||ce&&de>P)&&(z[U++]=new S.LinePart(de,G,0,Q),ne=ne%A);for(ae===9?ne=A:k.isFullWidthCharacter(ae)?ne+=2:ne++,K=ce;de===re&&(O++,O<oe);)G=I[O].type,Q=I[O].containsRTL,re=I[O].endIndex}let he=!1;if(K)if(T&&F){const de=E>0?w.charCodeAt(E-1):0,ae=E>1?w.charCodeAt(E-2):0;de===32&&ae!==32&&ae!==9||(he=!0)}else he=!0;if(he)if(W){const de=U>0?z[U-1].endIndex:P;for(let ae=de+1;ae<=E;ae++)z[U++]=new S.LinePart(ae,"mtkw",1,!1)}else z[U++]=new S.LinePart(E,"mtkw",1,!1);else z[U++]=new S.LinePart(E,G,0,Q);return z}function u(b,w,E,I){I.sort(D.LineDecoration.compare);const T=D.LineDecorationsNormalizer.normalize(b,I),P=T.length;let A=0;const M=[];let N=0,R=0;for(let x=0,W=E.length;x<W;x++){const z=E[x],U=z.endIndex,O=z.type,G=z.metadata,Q=z.containsRTL;for(;A<P&&T[A].startOffset<U;){const re=T[A];if(re.startOffset>R&&(R=re.startOffset,M[N++]=new S.LinePart(R,O,G,Q)),re.endOffset+1<=U)R=re.endOffset+1,M[N++]=new S.LinePart(R,O+" "+re.className,G|re.metadata,Q),A++;else{R=U,M[N++]=new S.LinePart(R,O+" "+re.className,G|re.metadata,Q);break}}U>R&&(R=U,M[N++]=new S.LinePart(R,O,G,Q))}const F=E[E.length-1].endIndex;if(A<P&&T[A].startOffset===F)for(;A<P&&T[A].startOffset===F;){const x=T[A];M[N++]=new S.LinePart(R,x.className,x.metadata,!1),A++}return M}function C(b,w){const E=b.fontIsMonospace,I=b.canUseHalfwidthRightwardsArrow,T=b.containsForeignElements,P=b.lineContent,A=b.len,M=b.isOverflowing,N=b.overflowingCharCount,R=b.parts,F=b.fauxIndentLength,x=b.tabSize,W=b.startVisibleColumn,z=b.containsRTL,U=b.spaceWidth,O=b.renderSpaceCharCode,G=b.renderWhitespace,Q=b.renderControlCharacters,re=new p(A+1,R.length);let oe=!1,te=0,H=W,B=0,K=0,Z=0;z?w.appendString('<span dir="ltr">'):w.appendString("<span>");for(let J=0,ne=R.length;J<ne;J++){const he=R[J],de=he.endIndex,ae=he.type,ce=he.containsRTL,$=G!==0&&he.isWhitespace(),V=$&&!E&&(ae==="mtkw"||!T),j=te===de&&he.isPseudoAfter();if(B=0,w.appendString("<span "),ce&&w.appendString('style="unicode-bidi:isolate" '),w.appendString('class="'),w.appendString(V?"mtkz":ae),w.appendASCIICharCode(34),$){let se=0;{let ie=te,Y=H;for(;ie<de;ie++){const fe=(P.charCodeAt(ie)===9?x-Y%x:1)|0;se+=fe,ie>=F&&(Y+=fe)}}for(V&&(w.appendString(' style="width:'),w.appendString(String(U*se)),w.appendString('px"')),w.appendASCIICharCode(62);te<de;te++){re.setColumnInfo(te+1,J-Z,B,K),Z=0;const ie=P.charCodeAt(te);let Y,le;if(ie===9){Y=x-H%x|0,le=Y,!I||le>1?w.appendCharCode(8594):w.appendCharCode(65515);for(let fe=2;fe<=le;fe++)w.appendCharCode(160)}else Y=2,le=1,w.appendCharCode(O),w.appendCharCode(8204);B+=Y,K+=le,te>=F&&(H+=le)}}else for(w.appendASCIICharCode(62);te<de;te++){re.setColumnInfo(te+1,J-Z,B,K),Z=0;const se=P.charCodeAt(te);let ie=1,Y=1;switch(se){case 9:ie=x-H%x,Y=ie;for(let le=1;le<=ie;le++)w.appendCharCode(160);break;case 32:w.appendCharCode(160);break;case 60:w.appendString("&lt;");break;case 62:w.appendString("&gt;");break;case 38:w.appendString("&amp;");break;case 0:Q?w.appendCharCode(9216):w.appendString("&#00;");break;case 65279:case 8232:case 8233:case 133:w.appendCharCode(65533);break;default:k.isFullWidthCharacter(se)&&Y++,Q&&se<32?w.appendCharCode(9216+se):Q&&se===127?w.appendCharCode(9249):Q&&c(se)?(w.appendString("[U+"),w.appendString(g(se)),w.appendString("]"),ie=8,Y=ie):w.appendCharCode(se)}B+=ie,K+=Y,te>=F&&(H+=Y)}j?Z++:Z=0,te>=A&&!oe&&he.isPseudoAfter()&&(oe=!0,re.setColumnInfo(te+1,J,B,K)),w.appendString("</span>")}return oe||re.setColumnInfo(A+1,R.length-1,B,K),M&&(w.appendString('<span class="mtkoverflow">'),w.appendString(L.localize(0,null,v(N))),w.appendString("</span>")),w.appendString("</span>"),new s(re,z,T)}function g(b){return b.toString(16).toUpperCase().padStart(4,"0")}function v(b){return b<1024?L.localize(1,null,b):b<1024*1024?`${(b/1024).toFixed(1)} KB`:`${(b/1024/1024).toFixed(1)} MB`}}),define(X[624],ee([3,4]),function(q,e){return q.create("vs/editor/contrib/anchorSelect/browser/anchorSelect",e)}),define(X[625],ee([3,4]),function(q,e){return q.create("vs/editor/contrib/bracketMatching/browser/bracketMatching",e)}),define(X[626],ee([3,4]),function(q,e){return q.create("vs/editor/contrib/caretOperations/browser/caretOperations",e)}),define(X[627],ee([3,4]),function(q,e){return q.create("vs/editor/contrib/caretOperations/browser/transpose",e)}),define(X[628],ee([3,4]),function(q,e){return q.create("vs/editor/contrib/clipboard/browser/clipboard",e)}),define(X[629],ee([3,4]),function(q,e){return q.create("vs/editor/contrib/codeAction/browser/codeAction",e)}),define(X[630],ee([3,4]),function(q,e){return q.create("vs/editor/contrib/codeAction/browser/codeActionCommands",e)}),define(X[631],ee([3,4]),function(q,e){return q.create("vs/editor/contrib/codeAction/browser/codeActionContributions",e)}),define(X[632],ee([3,4]),function(q,e){return q.create("vs/editor/contrib/codeAction/browser/codeActionController",e)}),define(X[633],ee([3,4]),function(q,e){return q.create("vs/editor/contrib/codeAction/browser/codeActionMenu",e)}),define(X[634],ee([3,4]),function(q,e){return q.create("vs/editor/contrib/codeAction/browser/lightBulbWidget",e)}),define(X[635],ee([3,4]),function(q,e){return q.create("vs/editor/contrib/codelens/browser/codelensController",e)}),define(X[636],ee([3,4]),function(q,e){return q.create("vs/editor/contrib/colorPicker/browser/colorPickerWidget",e)}),define(X[637],ee([3,4]),function(q,e){return q.create("vs/editor/contrib/colorPicker/browser/standaloneColorPickerActions",e)}),define(X[638],ee([3,4]),function(q,e){return q.create("vs/editor/contrib/comment/browser/comment",e)}),define(X[639],ee([3,4]),function(q,e){return q.create("vs/editor/contrib/contextmenu/browser/contextmenu",e)}),define(X[640],ee([3,4]),function(q,e){return q.create("vs/editor/contrib/cursorUndo/browser/cursorUndo",e)}),define(X[641],ee([3,4]),function(q,e){return q.create("vs/editor/contrib/dropOrPasteInto/browser/copyPasteContribution",e)}),define(X[642],ee([3,4]),function(q,e){return q.create("vs/editor/contrib/dropOrPasteInto/browser/copyPasteController",e)}),define(X[643],ee([3,4]),function(q,e){return q.create("vs/editor/contrib/dropOrPasteInto/browser/defaultProviders",e)}),define(X[644],ee([3,4]),function(q,e){return q.create("vs/editor/contrib/dropOrPasteInto/browser/dropIntoEditorController",e)}),define(X[645],ee([3,4]),function(q,e){return q.create("vs/editor/contrib/editorState/browser/keybindingCancellation",e)}),define(X[646],ee([3,4]),function(q,e){return q.create("vs/editor/contrib/find/browser/findController",e)}),define(X[647],ee([3,4]),function(q,e){return q.create("vs/editor/contrib/find/browser/findWidget",e)}),define(X[648],ee([3,4]),function(q,e){return q.create("vs/editor/contrib/folding/browser/folding",e)}),define(X[649],ee([3,4]),function(q,e){return q.create("vs/editor/contrib/folding/browser/foldingDecorations",e)}),define(X[650],ee([3,4]),function(q,e){return q.create("vs/editor/contrib/fontZoom/browser/fontZoom",e)}),define(X[651],ee([3,4]),function(q,e){return q.create("vs/editor/contrib/format/browser/format",e)}),define(X[652],ee([3,4]),function(q,e){return q.create("vs/editor/contrib/format/browser/formatActions",e)}),define(X[653],ee([3,4]),function(q,e){return q.create("vs/editor/contrib/gotoError/browser/gotoError",e)}),define(X[654],ee([3,4]),function(q,e){return q.create("vs/editor/contrib/gotoError/browser/gotoErrorWidget",e)}),define(X[655],ee([3,4]),function(q,e){return q.create("vs/editor/contrib/gotoSymbol/browser/goToCommands",e)}),define(X[656],ee([3,4]),function(q,e){return q.create("vs/editor/contrib/gotoSymbol/browser/link/goToDefinitionAtPosition",e)}),define(X[657],ee([3,4]),function(q,e){return q.create("vs/editor/contrib/gotoSymbol/browser/peek/referencesController",e)}),define(X[658],ee([3,4]),function(q,e){return q.create("vs/editor/contrib/gotoSymbol/browser/peek/referencesTree",e)}),define(X[659],ee([3,4]),function(q,e){return q.create("vs/editor/contrib/gotoSymbol/browser/peek/referencesWidget",e)}),define(X[660],ee([3,4]),function(q,e){return q.create("vs/editor/contrib/gotoSymbol/browser/referencesModel",e)}),define(X[155],ee([1,0,12,6,166,2,64,43,9,5,660]),function(q,e,L,k,y,D,S,m,_,f,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReferencesModel=e.FileReferences=e.FilePreview=e.OneReference=void 0;class s{constructor(d,h,n,c){this.isProviderFirst=d,this.parent=h,this.link=n,this._rangeCallback=c,this.id=y.defaultGenerator.nextId()}get uri(){return this.link.uri}get range(){var d,h;return(h=(d=this._range)!==null&&d!==void 0?d:this.link.targetSelectionRange)!==null&&h!==void 0?h:this.link.range}set range(d){this._range=d,this._rangeCallback(this)}get ariaMessage(){var d;const h=(d=this.parent.getPreview(this))===null||d===void 0?void 0:d.preview(this.range);return h?(0,p.localize)(1,null,h.value,(0,m.basename)(this.uri),this.range.startLineNumber,this.range.startColumn):(0,p.localize)(0,null,(0,m.basename)(this.uri),this.range.startLineNumber,this.range.startColumn)}}e.OneReference=s;class t{constructor(d){this._modelReference=d}dispose(){this._modelReference.dispose()}preview(d,h=8){const n=this._modelReference.object.textEditorModel;if(!n)return;const{startLineNumber:c,startColumn:a,endLineNumber:l,endColumn:u}=d,C=n.getWordUntilPosition({lineNumber:c,column:a-h}),g=new f.Range(c,C.startColumn,c,a),v=new f.Range(l,u,l,1073741824),b=n.getValueInRange(g).replace(/^\s+/,""),w=n.getValueInRange(d),E=n.getValueInRange(v).replace(/\s+$/,"");return{value:b+w+E,highlight:{start:b.length,end:b.length+w.length}}}}e.FilePreview=t;class i{constructor(d,h){this.parent=d,this.uri=h,this.children=[],this._previews=new S.ResourceMap}dispose(){(0,D.dispose)(this._previews.values()),this._previews.clear()}getPreview(d){return this._previews.get(d.uri)}get ariaMessage(){const d=this.children.length;return d===1?(0,p.localize)(2,null,(0,m.basename)(this.uri),this.uri.fsPath):(0,p.localize)(3,null,d,(0,m.basename)(this.uri),this.uri.fsPath)}resolve(d){return Le(this,void 0,void 0,function*(){if(this._previews.size!==0)return this;for(const h of this.children)if(!this._previews.has(h.uri))try{const n=yield d.createModelReference(h.uri);this._previews.set(h.uri,new t(n))}catch(n){(0,L.onUnexpectedError)(n)}return this})}}e.FileReferences=i;class o{constructor(d,h){this.groups=[],this.references=[],this._onDidChangeReferenceRange=new k.Emitter,this.onDidChangeReferenceRange=this._onDidChangeReferenceRange.event,this._links=d,this._title=h;const[n]=d;d.sort(o._compareReferences);let c;for(const a of d)if((!c||!m.extUri.isEqual(c.uri,a.uri,!0))&&(c=new i(this,a.uri),this.groups.push(c)),c.children.length===0||o._compareReferences(a,c.children[c.children.length-1])!==0){const l=new s(n===a,c,a,u=>this._onDidChangeReferenceRange.fire(u));this.references.push(l),c.children.push(l)}}dispose(){(0,D.dispose)(this.groups),this._onDidChangeReferenceRange.dispose(),this.groups.length=0}clone(){return new o(this._links,this._title)}get title(){return this._title}get isEmpty(){return this.groups.length===0}get ariaMessage(){return this.isEmpty?(0,p.localize)(4,null):this.references.length===1?(0,p.localize)(5,null,this.references[0].uri.fsPath):this.groups.length===1?(0,p.localize)(6,null,this.references.length,this.groups[0].uri.fsPath):(0,p.localize)(7,null,this.references.length,this.groups.length)}nextOrPreviousReference(d,h){const{parent:n}=d;let c=n.children.indexOf(d);const a=n.children.length,l=n.parent.groups.length;return l===1||h&&c+1<a||!h&&c>0?(h?c=(c+1)%a:c=(c+a-1)%a,n.children[c]):(c=n.parent.groups.indexOf(n),h?(c=(c+1)%l,n.parent.groups[c].children[0]):(c=(c+l-1)%l,n.parent.groups[c].children[n.parent.groups[c].children.length-1]))}nearestReference(d,h){const n=this.references.map((c,a)=>({idx:a,prefixLen:_.commonPrefixLength(c.uri.toString(),d.toString()),offsetDist:Math.abs(c.range.startLineNumber-h.lineNumber)*100+Math.abs(c.range.startColumn-h.column)})).sort((c,a)=>c.prefixLen>a.prefixLen?-1:c.prefixLen<a.prefixLen?1:c.offsetDist<a.offsetDist?-1:c.offsetDist>a.offsetDist?1:0)[0];if(n)return this.references[n.idx]}referenceAt(d,h){for(const n of this.references)if(n.uri.toString()===d.toString()&&f.Range.containsPosition(n.range,h))return n}firstReference(){for(const d of this.references)if(d.isProviderFirst)return d;return this.references[0]}static _compareReferences(d,h){return m.extUri.compare(d.uri,h.uri)||f.Range.compareRangesUsingStarts(d.range,h.range)}}e.ReferencesModel=o}),define(X[661],ee([3,4]),function(q,e){return q.create("vs/editor/contrib/gotoSymbol/browser/symbolNavigation",e)}),define(X[662],ee([3,4]),function(q,e){return q.create("vs/editor/contrib/hover/browser/hover",e)}),define(X[663],ee([3,4]),function(q,e){return q.create("vs/editor/contrib/hover/browser/markdownHoverParticipant",e)}),define(X[664],ee([3,4]),function(q,e){return q.create("vs/editor/contrib/hover/browser/markerHoverParticipant",e)}),define(X[665],ee([3,4]),function(q,e){return q.create("vs/editor/contrib/inPlaceReplace/browser/inPlaceReplace",e)}),define(X[666],ee([3,4]),function(q,e){return q.create("vs/editor/contrib/indentation/browser/indentation",e)}),define(X[667],ee([3,4]),function(q,e){return q.create("vs/editor/contrib/inlayHints/browser/inlayHintsHover",e)}),define(X[668],ee([3,4]),function(q,e){return q.create("vs/editor/contrib/inlineCompletions/browser/commands",e)}),define(X[669],ee([3,4]),function(q,e){return q.create("vs/editor/contrib/inlineCompletions/browser/hoverParticipant",e)}),define(X[670],ee([3,4]),function(q,e){return q.create("vs/editor/contrib/inlineCompletions/browser/inlineCompletionContextKeys",e)}),define(X[671],ee([3,4]),function(q,e){return q.create("vs/editor/contrib/inlineCompletions/browser/inlineCompletionsHintsWidget",e)}),define(X[672],ee([3,4]),function(q,e){return q.create("vs/editor/contrib/lineSelection/browser/lineSelection",e)}),define(X[673],ee([3,4]),function(q,e){return q.create("vs/editor/contrib/linesOperations/browser/linesOperations",e)}),define(X[674],ee([3,4]),function(q,e){return q.create("vs/editor/contrib/linkedEditing/browser/linkedEditing",e)}),define(X[675],ee([3,4]),function(q,e){return q.create("vs/editor/contrib/links/browser/links",e)}),define(X[676],ee([3,4]),function(q,e){return q.create("vs/editor/contrib/message/browser/messageController",e)}),define(X[677],ee([3,4]),function(q,e){return q.create("vs/editor/contrib/multicursor/browser/multicursor",e)}),define(X[678],ee([3,4]),function(q,e){return q.create("vs/editor/contrib/parameterHints/browser/parameterHints",e)}),define(X[679],ee([3,4]),function(q,e){return q.create("vs/editor/contrib/parameterHints/browser/parameterHintsWidget",e)}),define(X[680],ee([3,4]),function(q,e){return q.create("vs/editor/contrib/peekView/browser/peekView",e)}),define(X[681],ee([3,4]),function(q,e){return q.create("vs/editor/contrib/quickAccess/browser/gotoLineQuickAccess",e)}),define(X[682],ee([3,4]),function(q,e){return q.create("vs/editor/contrib/quickAccess/browser/gotoSymbolQuickAccess",e)}),define(X[683],ee([3,4]),function(q,e){return q.create("vs/editor/contrib/readOnlyMessage/browser/contribution",e)}),define(X[684],ee([3,4]),function(q,e){return q.create("vs/editor/contrib/rename/browser/rename",e)}),define(X[685],ee([3,4]),function(q,e){return q.create("vs/editor/contrib/rename/browser/renameInputField",e)}),define(X[686],ee([3,4]),function(q,e){return q.create("vs/editor/contrib/smartSelect/browser/smartSelect",e)}),define(X[687],ee([3,4]),function(q,e){return q.create("vs/editor/contrib/snippet/browser/snippetController2",e)}),define(X[688],ee([3,4]),function(q,e){return q.create("vs/editor/contrib/snippet/browser/snippetVariables",e)}),define(X[689],ee([3,4]),function(q,e){return q.create("vs/editor/contrib/stickyScroll/browser/stickyScrollActions",e)}),define(X[690],ee([3,4]),function(q,e){return q.create("vs/editor/contrib/suggest/browser/suggest",e)}),define(X[691],ee([3,4]),function(q,e){return q.create("vs/editor/contrib/suggest/browser/suggestController",e)}),define(X[692],ee([3,4]),function(q,e){return q.create("vs/editor/contrib/suggest/browser/suggestWidget",e)}),define(X[693],ee([3,4]),function(q,e){return q.create("vs/editor/contrib/suggest/browser/suggestWidgetDetails",e)}),define(X[694],ee([3,4]),function(q,e){return q.create("vs/editor/contrib/suggest/browser/suggestWidgetRenderer",e)}),define(X[695],ee([3,4]),function(q,e){return q.create("vs/editor/contrib/suggest/browser/suggestWidgetStatus",e)}),define(X[696],ee([3,4]),function(q,e){return q.create("vs/editor/contrib/symbolIcons/browser/symbolIcons",e)}),define(X[697],ee([3,4]),function(q,e){return q.create("vs/editor/contrib/toggleTabFocusMode/browser/toggleTabFocusMode",e)}),define(X[698],ee([3,4]),function(q,e){return q.create("vs/editor/contrib/tokenization/browser/tokenization",e)}),define(X[699],ee([3,4]),function(q,e){return q.create("vs/editor/contrib/unicodeHighlighter/browser/unicodeHighlighter",e)}),define(X[700],ee([3,4]),function(q,e){return q.create("vs/editor/contrib/unusualLineTerminators/browser/unusualLineTerminators",e)}),define(X[701],ee([3,4]),function(q,e){return q.create("vs/editor/contrib/wordHighlighter/browser/highlightDecorations",e)}),define(X[702],ee([3,4]),function(q,e){return q.create("vs/editor/contrib/wordHighlighter/browser/wordHighlighter",e)}),define(X[703],ee([3,4]),function(q,e){return q.create("vs/editor/contrib/wordOperations/browser/wordOperations",e)}),define(X[704],ee([3,4]),function(q,e){return q.create("vs/platform/action/common/actionCommonCategories",e)}),define(X[705],ee([3,4]),function(q,e){return q.create("vs/platform/actionWidget/browser/actionList",e)}),define(X[706],ee([3,4]),function(q,e){return q.create("vs/platform/actionWidget/browser/actionWidget",e)}),define(X[707],ee([3,4]),function(q,e){return q.create("vs/platform/actions/browser/menuEntryActionViewItem",e)}),define(X[708],ee([3,4]),function(q,e){return q.create("vs/platform/actions/browser/toolbar",e)}),define(X[709],ee([3,4]),function(q,e){return q.create("vs/platform/actions/common/menuService",e)}),define(X[710],ee([3,4]),function(q,e){return q.create("vs/platform/audioCues/browser/audioCueService",e)}),define(X[711],ee([3,4]),function(q,e){return q.create("vs/platform/configuration/common/configurationRegistry",e)}),define(X[712],ee([3,4]),function(q,e){return q.create("vs/platform/contextkey/browser/contextKeyService",e)}),define(X[713],ee([3,4]),function(q,e){return q.create("vs/platform/contextkey/common/contextkey",e)}),define(X[714],ee([3,4]),function(q,e){return q.create("vs/platform/contextkey/common/contextkeys",e)}),define(X[715],ee([3,4]),function(q,e){return q.create("vs/platform/contextkey/common/scanner",e)}),define(X[716],ee([3,4]),function(q,e){return q.create("vs/platform/history/browser/contextScopedHistoryWidget",e)}),define(X[717],ee([3,4]),function(q,e){return q.create("vs/platform/keybinding/common/abstractKeybindingService",e)}),define(X[718],ee([3,4]),function(q,e){return q.create("vs/platform/list/browser/listService",e)}),define(X[719],ee([3,4]),function(q,e){return q.create("vs/platform/markers/common/markers",e)}),define(X[720],ee([3,4]),function(q,e){return q.create("vs/platform/quickinput/browser/commandsQuickAccess",e)}),define(X[721],ee([3,4]),function(q,e){return q.create("vs/platform/quickinput/browser/helpQuickAccess",e)}),define(X[722],ee([3,4]),function(q,e){return q.create("vs/platform/quickinput/browser/quickInput",e)}),define(X[723],ee([3,4]),function(q,e){return q.create("vs/platform/quickinput/browser/quickInputList",e)}),define(X[724],ee([3,4]),function(q,e){return q.create("vs/platform/quickinput/browser/quickInputUtils",e)}),define(X[725],ee([3,4]),function(q,e){return q.create("vs/platform/theme/common/colorRegistry",e)}),define(X[726],ee([3,4]),function(q,e){return q.create("vs/platform/theme/common/iconRegistry",e)}),define(X[727],ee([3,4]),function(q,e){return q.create("vs/platform/undoRedo/common/undoRedoService",e)}),define(X[728],ee([3,4]),function(q,e){return q.create("vs/platform/workspace/common/workspace",e)}),define(X[729],ee([1,0]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isICommandActionToggleInfo=void 0;function L(k){return k?k.condition!==void 0:!1}e.isICommandActionToggleInfo=L}),define(X[730],ee([1,0,704]),function(q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Categories=void 0,e.Categories=Object.freeze({View:{value:(0,L.localize)(0,null),original:"View"},Help:{value:(0,L.localize)(1,null),original:"Help"},Test:{value:(0,L.localize)(2,null),original:"Test"},File:{value:(0,L.localize)(3,null),original:"File"},Preferences:{value:(0,L.localize)(4,null),original:"Preferences"},Developer:{value:(0,L.localize)(5,null),original:"Developer"}})}),define(X[731],ee([1,0,12,715]),function(q,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Scanner=void 0;function y(..._){switch(_.length){case 1:return(0,k.localize)(0,null,_[0]);case 2:return(0,k.localize)(1,null,_[0],_[1]);case 3:return(0,k.localize)(2,null,_[0],_[1],_[2]);default:return}}const D=(0,k.localize)(3,null),S=(0,k.localize)(4,null);class m{constructor(){this._input="",this._start=0,this._current=0,this._tokens=[],this._errors=[],this.stringRe=/[a-zA-Z0-9_<>\-\./\\:\*\?\+\[\]\^,#@;"%\$\p{L}-]+/uy}static getLexeme(f){switch(f.type){case 0:return"(";case 1:return")";case 2:return"!";case 3:return f.isTripleEq?"===":"==";case 4:return f.isTripleEq?"!==":"!=";case 5:return"<";case 6:return"<=";case 7:return">=";case 8:return">=";case 9:return"=~";case 10:return f.lexeme;case 11:return"true";case 12:return"false";case 13:return"in";case 14:return"not";case 15:return"&&";case 16:return"||";case 17:return f.lexeme;case 18:return f.lexeme;case 19:return f.lexeme;case 20:return"EOF";default:throw(0,L.illegalState)(`unhandled token type: ${JSON.stringify(f)}; have you forgotten to add a case?`)}}reset(f){return this._input=f,this._start=0,this._current=0,this._tokens=[],this._errors=[],this}scan(){for(;!this._isAtEnd();)switch(this._start=this._current,this._advance()){case 40:this._addToken(0);break;case 41:this._addToken(1);break;case 33:if(this._match(61)){const p=this._match(61);this._tokens.push({type:4,offset:this._start,isTripleEq:p})}else this._addToken(2);break;case 39:this._quotedString();break;case 47:this._regex();break;case 61:if(this._match(61)){const p=this._match(61);this._tokens.push({type:3,offset:this._start,isTripleEq:p})}else this._match(126)?this._addToken(9):this._error(y("==","=~"));break;case 60:this._addToken(this._match(61)?6:5);break;case 62:this._addToken(this._match(61)?8:7);break;case 38:this._match(38)?this._addToken(15):this._error(y("&&"));break;case 124:this._match(124)?this._addToken(16):this._error(y("||"));break;case 32:case 13:case 9:case 10:case 160:break;default:this._string()}return this._start=this._current,this._addToken(20),Array.from(this._tokens)}_match(f){return this._isAtEnd()||this._input.charCodeAt(this._current)!==f?!1:(this._current++,!0)}_advance(){return this._input.charCodeAt(this._current++)}_peek(){return this._isAtEnd()?0:this._input.charCodeAt(this._current)}_addToken(f){this._tokens.push({type:f,offset:this._start})}_error(f){const p=this._start,s=this._input.substring(this._start,this._current),t={type:19,offset:this._start,lexeme:s};this._errors.push({offset:p,lexeme:s,additionalInfo:f}),this._tokens.push(t)}_string(){this.stringRe.lastIndex=this._start;const f=this.stringRe.exec(this._input);if(f){this._current=this._start+f[0].length;const p=this._input.substring(this._start,this._current),s=m._keywords.get(p);s?this._addToken(s):this._tokens.push({type:17,lexeme:p,offset:this._start})}}_quotedString(){for(;this._peek()!==39&&!this._isAtEnd();)this._advance();if(this._isAtEnd()){this._error(D);return}this._advance(),this._tokens.push({type:18,lexeme:this._input.substring(this._start+1,this._current-1),offset:this._start+1})}_regex(){let f=this._current,p=!1,s=!1;for(;;){if(f>=this._input.length){this._current=f,this._error(S);return}const i=this._input.charCodeAt(f);if(p)p=!1;else if(i===47&&!s){f++;break}else i===91?s=!0:i===92?p=!0:i===93&&(s=!1);f++}for(;f<this._input.length&&m._regexFlags.has(this._input.charCodeAt(f));)f++;this._current=f;const t=this._input.substring(this._start,this._current);this._tokens.push({type:10,lexeme:t,offset:this._start})}_isAtEnd(){return this._current>=this._input.length}}e.Scanner=m,m._regexFlags=new Set(["i","g","s","m","y","u"].map(_=>_.charCodeAt(0))),m._keywords=new Map([["not",14],["in",13],["false",12],["true",11]])}),define(X[732],ee([1,0]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorOpenSource=void 0;var L;(function(k){k[k.API=0]="API",k[k.USER=1]="USER"})(L||(e.EditorOpenSource=L={}))}),define(X[733],ee([1,0]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtensionIdentifierSet=e.ExtensionIdentifier=void 0;class L{constructor(D){this.value=D,this._lower=D.toLowerCase()}static toKey(D){return typeof D=="string"?D.toLowerCase():D._lower}}e.ExtensionIdentifier=L;class k{constructor(D){if(this._set=new Set,D)for(const S of D)this.add(S)}add(D){this._set.add(L.toKey(D))}has(D){return this._set.has(L.toKey(D))}}e.ExtensionIdentifierSet=k}),define(X[325],ee([1,0]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FileKind=void 0;var L;(function(k){k[k.FILE=0]="FILE",k[k.FOLDER=1]="FOLDER",k[k.ROOT_FOLDER=2]="ROOT_FOLDER"})(L||(e.FileKind=L={}))}),define(X[734],ee([1,0]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.showHistoryKeybindingHint=void 0;function L(k){var y,D;return((y=k.lookupKeybinding("history.showPrevious"))===null||y===void 0?void 0:y.getElectronAccelerator())==="Up"&&((D=k.lookupKeybinding("history.showNext"))===null||D===void 0?void 0:D.getElectronAccelerator())==="Down"}e.showHistoryKeybindingHint=L}),define(X[233],ee([1,0]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SyncDescriptor=void 0;class L{constructor(y,D=[],S=!1){this.ctor=y,this.staticArguments=D,this.supportsDelayedInstantiation=S}}e.SyncDescriptor=L}),define(X[48],ee([1,0,233]),function(q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getSingletonServiceDescriptors=e.registerSingleton=void 0;const k=[];function y(S,m,_){m instanceof L.SyncDescriptor||(m=new L.SyncDescriptor(m,[],!!_)),k.push([S,m])}e.registerSingleton=y;function D(){return k}e.getSingletonServiceDescriptors=D}),define(X[735],ee([1,0]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Graph=e.Node=void 0;class L{constructor(D,S){this.key=D,this.data=S,this.incoming=new Map,this.outgoing=new Map}}e.Node=L;class k{constructor(D){this._hashFn=D,this._nodes=new Map}roots(){const D=[];for(const S of this._nodes.values())S.outgoing.size===0&&D.push(S);return D}insertEdge(D,S){const m=this.lookupOrInsertNode(D),_=this.lookupOrInsertNode(S);m.outgoing.set(_.key,_),_.incoming.set(m.key,m)}removeNode(D){const S=this._hashFn(D);this._nodes.delete(S);for(const m of this._nodes.values())m.outgoing.delete(S),m.incoming.delete(S)}lookupOrInsertNode(D){const S=this._hashFn(D);let m=this._nodes.get(S);return m||(m=new L(S,D),this._nodes.set(S,m)),m}isEmpty(){return this._nodes.size===0}toString(){const D=[];for(const[S,m]of this._nodes)D.push(`${S}
	(-> incoming)[${[...m.incoming.keys()].join(", ")}]
	(outgoing ->)[${[...m.outgoing.keys()].join(",")}]
`);return D.join(`
`)}findCycleSlow(){for(const[D,S]of this._nodes){const m=new Set([D]),_=this._findCycle(S,m);if(_)return _}}_findCycle(D,S){for(const[m,_]of D.outgoing){if(S.has(m))return[...S,m].join(" -> ");S.add(m);const f=this._findCycle(_,S);if(f)return f;S.delete(m)}}}e.Graph=k}),define(X[8],ee([1,0]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createDecorator=e.IInstantiationService=e._util=void 0;var L;(function(D){D.serviceIds=new Map,D.DI_TARGET="$di$target",D.DI_DEPENDENCIES="$di$dependencies";function S(m){return m[D.DI_DEPENDENCIES]||[]}D.getServiceDependencies=S})(L||(e._util=L={})),e.IInstantiationService=y("instantiationService");function k(D,S,m){S[L.DI_TARGET]===S?S[L.DI_DEPENDENCIES].push({id:D,index:m}):(S[L.DI_DEPENDENCIES]=[{id:D,index:m}],S[L.DI_TARGET]=S)}function y(D){if(L.serviceIds.has(D))return L.serviceIds.get(D);const S=function(m,_,f){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");k(S,m,f)};return S.toString=()=>D,L.serviceIds.set(D,S),S}e.createDecorator=y}),define(X[131],ee([1,0,8,21,18]),function(q,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ResourceFileEdit=e.ResourceTextEdit=e.ResourceEdit=e.IBulkEditService=void 0,e.IBulkEditService=(0,L.createDecorator)("IWorkspaceEditService");class D{constructor(f){this.metadata=f}static convert(f){return f.edits.map(p=>{if(S.is(p))return S.lift(p);if(m.is(p))return m.lift(p);throw new Error("Unsupported edit")})}}e.ResourceEdit=D;class S extends D{static is(f){return f instanceof S?!0:(0,y.isObject)(f)&&k.URI.isUri(f.resource)&&(0,y.isObject)(f.textEdit)}static lift(f){return f instanceof S?f:new S(f.resource,f.textEdit,f.versionId,f.metadata)}constructor(f,p,s=void 0,t){super(t),this.resource=f,this.textEdit=p,this.versionId=s}}e.ResourceTextEdit=S;class m extends D{static is(f){return f instanceof m?!0:(0,y.isObject)(f)&&(!!f.newResource||!!f.oldResource)}static lift(f){return f instanceof m?f:new m(f.oldResource,f.newResource,f.options,f.metadata)}constructor(f,p,s={},t){super(t),this.oldResource=f,this.newResource=p,this.options=s}}e.ResourceFileEdit=m}),define(X[32],ee([1,0,8]),function(q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ICodeEditorService=void 0,e.ICodeEditorService=(0,L.createDecorator)("codeEditorService")}),define(X[41],ee([1,0,8]),function(q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ILanguageService=void 0,e.ILanguageService=(0,L.createDecorator)("languageService")}),define(X[114],ee([1,0,8]),function(q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IEditorWorkerService=void 0,e.IEditorWorkerService=(0,L.createDecorator)("editorWorkerService")}),define(X[19],ee([1,0,8]),function(q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ILanguageFeaturesService=void 0,e.ILanguageFeaturesService=(0,L.createDecorator)("ILanguageFeaturesService")}),define(X[736],ee([1,0,589,19,48]),function(q,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LanguageFeaturesService=void 0;class D{constructor(){this.referenceProvider=new L.LanguageFeatureRegistry(this._score.bind(this)),this.renameProvider=new L.LanguageFeatureRegistry(this._score.bind(this)),this.codeActionProvider=new L.LanguageFeatureRegistry(this._score.bind(this)),this.definitionProvider=new L.LanguageFeatureRegistry(this._score.bind(this)),this.typeDefinitionProvider=new L.LanguageFeatureRegistry(this._score.bind(this)),this.declarationProvider=new L.LanguageFeatureRegistry(this._score.bind(this)),this.implementationProvider=new L.LanguageFeatureRegistry(this._score.bind(this)),this.documentSymbolProvider=new L.LanguageFeatureRegistry(this._score.bind(this)),this.inlayHintsProvider=new L.LanguageFeatureRegistry(this._score.bind(this)),this.colorProvider=new L.LanguageFeatureRegistry(this._score.bind(this)),this.codeLensProvider=new L.LanguageFeatureRegistry(this._score.bind(this)),this.documentFormattingEditProvider=new L.LanguageFeatureRegistry(this._score.bind(this)),this.documentRangeFormattingEditProvider=new L.LanguageFeatureRegistry(this._score.bind(this)),this.onTypeFormattingEditProvider=new L.LanguageFeatureRegistry(this._score.bind(this)),this.signatureHelpProvider=new L.LanguageFeatureRegistry(this._score.bind(this)),this.hoverProvider=new L.LanguageFeatureRegistry(this._score.bind(this)),this.documentHighlightProvider=new L.LanguageFeatureRegistry(this._score.bind(this)),this.selectionRangeProvider=new L.LanguageFeatureRegistry(this._score.bind(this)),this.foldingRangeProvider=new L.LanguageFeatureRegistry(this._score.bind(this)),this.linkProvider=new L.LanguageFeatureRegistry(this._score.bind(this)),this.inlineCompletionsProvider=new L.LanguageFeatureRegistry(this._score.bind(this)),this.completionProvider=new L.LanguageFeatureRegistry(this._score.bind(this)),this.linkedEditingRangeProvider=new L.LanguageFeatureRegistry(this._score.bind(this)),this.documentRangeSemanticTokensProvider=new L.LanguageFeatureRegistry(this._score.bind(this)),this.documentSemanticTokensProvider=new L.LanguageFeatureRegistry(this._score.bind(this)),this.documentOnDropEditProvider=new L.LanguageFeatureRegistry(this._score.bind(this)),this.documentPasteEditProvider=new L.LanguageFeatureRegistry(this._score.bind(this))}_score(m){var _;return(_=this._notebookTypeResolver)===null||_===void 0?void 0:_.call(this,m)}}e.LanguageFeaturesService=D,(0,y.registerSingleton)(k.ILanguageFeaturesService,D,1)}),define(X[234],ee([1,0,8]),function(q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IMarkerDecorationsService=void 0,e.IMarkerDecorationsService=(0,L.createDecorator)("markerDecorationsService")}),define(X[49],ee([1,0,8]),function(q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IModelService=void 0,e.IModelService=(0,L.createDecorator)("modelService")}),define(X[68],ee([1,0,8]),function(q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ITextModelService=void 0,e.ITextModelService=(0,L.createDecorator)("textModelService")}),define(X[235],ee([1,0,8]),function(q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ISemanticTokensStylingService=void 0,e.ISemanticTokensStylingService=(0,L.createDecorator)("semanticTokensStylingService")}),define(X[188],ee([1,0,8]),function(q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ITextResourcePropertiesService=e.ITextResourceConfigurationService=void 0,e.ITextResourceConfigurationService=(0,L.createDecorator)("textResourceConfigurationService"),e.ITextResourcePropertiesService=(0,L.createDecorator)("textResourcePropertiesService")}),define(X[737],ee([1,0,48,8,283]),function(q,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ITreeViewsDnDService=void 0,e.ITreeViewsDnDService=(0,k.createDecorator)("treeViewsDndService"),(0,L.registerSingleton)(e.ITreeViewsDnDService,y.TreeViewsDnDService,1)}),define(X[738],ee([1,0,131]),function(q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createCombinedWorkspaceEdit=void 0;function k(y,D,S){var m,_;return{edits:[...D.map(f=>new L.ResourceTextEdit(y,typeof S.insertText=="string"?{range:f,text:S.insertText,insertAsSnippet:!1}:{range:f,text:S.insertText.snippet,insertAsSnippet:!0})),...(_=(m=S.additionalEdit)===null||m===void 0?void 0:m.edits)!==null&&_!==void 0?_:[]]}}e.createCombinedWorkspaceEdit=k});var ge=this&&this.__param||function(q,e){return function(L,k){e(L,k,q)}};define(X[739],ee([1,0,89,6,2,42,9,59,35,11,5,92,41,47,86,127,94,214,150,445]),function(q,e,L,k,y,D,S,m,_,f,p,s,t,i,o,r,d,h,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GhostTextWidget=void 0;let c=e.GhostTextWidget=class extends y.Disposable{constructor(g,v,b){super(),this.editor=g,this.model=v,this.languageService=b,this.isDisposed=(0,D.observableValue)("isDisposed",!1),this.currentTextModel=(0,D.observableFromEvent)(this.editor.onDidChangeModel,()=>this.editor.getModel()),this.uiState=(0,D.derived)("uiState",w=>{if(this.isDisposed.read(w))return;const E=this.currentTextModel.read(w);if(E!==this.model.targetTextModel.read(w))return;const I=this.model.ghostText.read(w);if(!I)return;const T=I instanceof h.GhostTextReplacement?I.columnRange:void 0,P=[],A=[];function M(W,z){if(A.length>0){const U=A[A.length-1];z&&U.decorations.push(new r.LineDecoration(U.content.length+1,U.content.length+1+W[0].length,z,0)),U.content+=W[0],W=W.slice(1)}for(const U of W)A.push({content:U,decorations:z?[new r.LineDecoration(1,U.length+1,z,0)]:[]})}const N=E.getLineContent(I.lineNumber);let R,F=0;for(const W of I.parts){let z=W.lines;R===void 0?(P.push({column:W.column,text:z[0],preview:W.preview}),z=z.slice(1)):M([N.substring(F,W.column-1)],void 0),z.length>0&&(M(z,"ghost-text"),R===void 0&&W.column<=N.length&&(R=W.column)),F=W.column-1}R!==void 0&&M([N.substring(F)],void 0);const x=R!==void 0?new n.ColumnRange(R,N.length+1):void 0;return{replacedRange:T,inlineTexts:P,additionalLines:A,hiddenRange:x,lineNumber:I.lineNumber,additionalReservedLineCount:this.model.minReservedLineCount.read(w),targetTextModel:E}}),this.decorations=(0,D.derived)("decorations",w=>{const E=this.uiState.read(w);if(!E)return[];const I=[];E.replacedRange&&I.push({range:E.replacedRange.toRange(E.lineNumber),options:{inlineClassName:"inline-completion-text-to-replace",description:"GhostTextReplacement"}}),E.hiddenRange&&I.push({range:E.hiddenRange.toRange(E.lineNumber),options:{inlineClassName:"ghost-text-hidden",description:"ghost-text-hidden"}});for(const T of E.inlineTexts)I.push({range:p.Range.fromPositions(new f.Position(E.lineNumber,T.column)),options:{description:"ghost-text",after:{content:T.text,inlineClassName:T.preview?"ghost-text-decoration-preview":"ghost-text-decoration",cursorStops:i.InjectedTextCursorStops.Left},showIfCollapsed:!0}});return I}),this.additionalLinesWidget=this._register(new a(this.editor,this.languageService.languageIdCodec,(0,D.derived)("lines",w=>{const E=this.uiState.read(w);return E?{lineNumber:E.lineNumber,additionalLines:E.additionalLines,minReservedLineCount:E.additionalReservedLineCount,targetTextModel:E.targetTextModel}:void 0}))),this._register((0,y.toDisposable)(()=>{this.isDisposed.set(!0,void 0)})),this._register((0,n.applyObservableDecorations)(this.editor,this.decorations))}ownsViewZone(g){return this.additionalLinesWidget.viewZoneId===g}};e.GhostTextWidget=c=Ne([ge(2,t.ILanguageService)],c);class a extends y.Disposable{get viewZoneId(){return this._viewZoneId}constructor(g,v,b){super(),this.editor=g,this.languageIdCodec=v,this.lines=b,this._viewZoneId=void 0,this.editorOptionsChanged=(0,D.observableSignalFromEvent)("editorOptionChanged",k.Event.filter(this.editor.onDidChangeConfiguration,w=>w.hasChanged(31)||w.hasChanged(114)||w.hasChanged(96)||w.hasChanged(91)||w.hasChanged(49)||w.hasChanged(48)||w.hasChanged(64))),this._register((0,D.autorun)("update view zone",w=>{const E=this.lines.read(w);this.editorOptionsChanged.read(w),E?this.updateLines(E.lineNumber,E.additionalLines,E.minReservedLineCount):this.clear()}))}dispose(){super.dispose(),this.clear()}clear(){this.editor.changeViewZones(g=>{this._viewZoneId&&(g.removeZone(this._viewZoneId),this._viewZoneId=void 0)})}updateLines(g,v,b){const w=this.editor.getModel();if(!w)return;const{tabSize:E}=w.getOptions();this.editor.changeViewZones(I=>{this._viewZoneId&&(I.removeZone(this._viewZoneId),this._viewZoneId=void 0);const T=Math.max(v.length,b);if(T>0){const P=document.createElement("div");l(P,E,v,this.editor.getOptions(),this.languageIdCodec),this._viewZoneId=I.addZone({afterLineNumber:g,heightInLines:T,domNode:P,afterColumnAffinity:1})}})}}function l(C,g,v,b,w){const E=b.get(31),I=b.get(114),T="none",P=b.get(91),A=b.get(49),M=b.get(48),N=b.get(64),R=new s.StringBuilder(1e4);R.appendString('<div class="suggest-preview-text">');for(let W=0,z=v.length;W<z;W++){const U=v[W],O=U.content;R.appendString('<div class="view-line'),R.appendString('" style="top:'),R.appendString(String(W*N)),R.appendString('px;width:1000000px;">');const G=S.isBasicASCII(O),Q=S.containsRTL(O),re=o.LineTokens.createEmpty(O,w);(0,d.renderViewLine)(new d.RenderLineInput(M.isMonospace&&!E,M.canUseHalfwidthRightwardsArrow,O,!1,G,Q,0,re,U.decorations,g,0,M.spaceWidth,M.middotWidth,M.wsmiddotWidth,I,T,P,A!==_.EditorFontLigatures.OFF,null),R),R.appendString("</div>")}R.appendString("</div>"),(0,m.applyFontInfo)(C,M);const F=R.build(),x=u?u.createHTML(F):F;C.innerHTML=x}const u=(0,L.createTrustedTypesPolicy)("editorGhostText",{createHTML:C=>C})}),define(X[132],ee([1,0,8]),function(q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IStandaloneThemeService=void 0,e.IStandaloneThemeService=(0,L.createDecorator)("themeService")}),define(X[156],ee([1,0,8,710]),function(q,e,L,k){"use strict";var y;Object.defineProperty(e,"__esModule",{value:!0}),e.AudioCue=e.Sound=e.IAudioCueService=void 0,e.IAudioCueService=(0,L.createDecorator)("audioCue");class D{static register(_){return new D(_.fileName)}constructor(_){this.fileName=_}}e.Sound=D,D.error=D.register({fileName:"error.mp3"}),D.warning=D.register({fileName:"warning.mp3"}),D.foldedArea=D.register({fileName:"foldedAreas.mp3"}),D.break=D.register({fileName:"break.mp3"}),D.quickFixes=D.register({fileName:"quickFixes.mp3"}),D.taskCompleted=D.register({fileName:"taskCompleted.mp3"}),D.taskFailed=D.register({fileName:"taskFailed.mp3"}),D.terminalBell=D.register({fileName:"terminalBell.mp3"}),D.diffLineInserted=D.register({fileName:"diffLineInserted.mp3"}),D.diffLineDeleted=D.register({fileName:"diffLineDeleted.mp3"}),D.diffLineModified=D.register({fileName:"diffLineModified.mp3"}),D.chatRequestSent=D.register({fileName:"chatRequestSent.mp3"}),D.chatResponsePending=D.register({fileName:"chatResponsePending.mp3"}),D.chatResponseReceived1=D.register({fileName:"chatResponseReceived1.mp3"}),D.chatResponseReceived2=D.register({fileName:"chatResponseReceived2.mp3"}),D.chatResponseReceived3=D.register({fileName:"chatResponseReceived3.mp3"}),D.chatResponseReceived4=D.register({fileName:"chatResponseReceived4.mp3"});class S{static register(_){const f=new S(_.sound,_.name,_.settingsKey,_.groupId);return S._audioCues.add(f),f}constructor(_,f,p,s){this.sound=_,this.name=f,this.settingsKey=p,this.groupId=s}}e.AudioCue=S,y=S,S._audioCues=new Set,S.error=S.register({name:(0,k.localize)(0,null),sound:D.error,settingsKey:"audioCues.lineHasError"}),S.warning=S.register({name:(0,k.localize)(1,null),sound:D.warning,settingsKey:"audioCues.lineHasWarning"}),S.foldedArea=S.register({name:(0,k.localize)(2,null),sound:D.foldedArea,settingsKey:"audioCues.lineHasFoldedArea"}),S.break=S.register({name:(0,k.localize)(3,null),sound:D.break,settingsKey:"audioCues.lineHasBreakpoint"}),S.inlineSuggestion=S.register({name:(0,k.localize)(4,null),sound:D.quickFixes,settingsKey:"audioCues.lineHasInlineSuggestion"}),S.terminalQuickFix=S.register({name:(0,k.localize)(5,null),sound:D.quickFixes,settingsKey:"audioCues.terminalQuickFix"}),S.onDebugBreak=S.register({name:(0,k.localize)(6,null),sound:D.break,settingsKey:"audioCues.onDebugBreak"}),S.noInlayHints=S.register({name:(0,k.localize)(7,null),sound:D.error,settingsKey:"audioCues.noInlayHints"}),S.taskCompleted=S.register({name:(0,k.localize)(8,null),sound:D.taskCompleted,settingsKey:"audioCues.taskCompleted"}),S.taskFailed=S.register({name:(0,k.localize)(9,null),sound:D.taskFailed,settingsKey:"audioCues.taskFailed"}),S.terminalCommandFailed=S.register({name:(0,k.localize)(10,null),sound:D.error,settingsKey:"audioCues.terminalCommandFailed"}),S.terminalBell=S.register({name:(0,k.localize)(11,null),sound:D.terminalBell,settingsKey:"audioCues.terminalBell"}),S.notebookCellCompleted=S.register({name:(0,k.localize)(12,null),sound:D.taskCompleted,settingsKey:"audioCues.notebookCellCompleted"}),S.notebookCellFailed=S.register({name:(0,k.localize)(13,null),sound:D.taskFailed,settingsKey:"audioCues.notebookCellFailed"}),S.diffLineInserted=S.register({name:(0,k.localize)(14,null),sound:D.diffLineInserted,settingsKey:"audioCues.diffLineInserted"}),S.diffLineDeleted=S.register({name:(0,k.localize)(15,null),sound:D.diffLineDeleted,settingsKey:"audioCues.diffLineDeleted"}),S.diffLineModified=S.register({name:(0,k.localize)(16,null),sound:D.diffLineModified,settingsKey:"audioCues.diffLineModified"}),S.chatRequestSent=S.register({name:(0,k.localize)(17,null),sound:D.chatRequestSent,settingsKey:"audioCues.chatRequestSent"}),S.chatResponseReceived={name:(0,k.localize)(18,null),settingsKey:"audioCues.chatResponseReceived",groupId:"chatResponseReceived"},S.chatResponseReceived1=S.register(Object.assign({sound:D.chatResponseReceived1},y.chatResponseReceived)),S.chatResponseReceived2=S.register(Object.assign({sound:D.chatResponseReceived2},y.chatResponseReceived)),S.chatResponseReceived3=S.register(Object.assign({sound:D.chatResponseReceived3},y.chatResponseReceived)),S.chatResponseReceived4=S.register(Object.assign({sound:D.chatResponseReceived4},y.chatResponseReceived)),S.chatResponsePending=S.register({name:(0,k.localize)(19,null),sound:D.chatResponsePending,settingsKey:"audioCues.chatResponsePending"})}),define(X[95],ee([1,0,8]),function(q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IClipboardService=void 0,e.IClipboardService=(0,L.createDecorator)("clipboardService")}),define(X[26],ee([1,0,6,50,2,63,18,8]),function(q,e,L,k,y,D,S,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CommandsRegistry=e.ICommandService=void 0,e.ICommandService=(0,m.createDecorator)("commandService"),e.CommandsRegistry=new class{constructor(){this._commands=new Map,this._onDidRegisterCommand=new L.Emitter,this.onDidRegisterCommand=this._onDidRegisterCommand.event}registerCommand(_,f){if(!_)throw new Error("invalid command");if(typeof _=="string"){if(!f)throw new Error("invalid command");return this.registerCommand({id:_,handler:f})}if(_.description){const o=[];for(const d of _.description.args)o.push(d.constraint);const r=_.handler;_.handler=function(d,...h){return(0,S.validateConstraints)(h,o),r(d,...h)}}const{id:p}=_;let s=this._commands.get(p);s||(s=new D.LinkedList,this._commands.set(p,s));const t=s.unshift(_),i=(0,y.toDisposable)(()=>{t();const o=this._commands.get(p);o?.isEmpty()&&this._commands.delete(p)});return this._onDidRegisterCommand.fire(p),i}registerCommandAlias(_,f){return e.CommandsRegistry.registerCommand(_,(p,...s)=>p.get(e.ICommandService).executeCommand(f,...s))}getCommand(_){const f=this._commands.get(_);if(!(!f||f.isEmpty()))return k.Iterable.first(f)}getCommands(){const _=new Map;for(const f of this._commands.keys()){const p=this.getCommand(f);p&&_.set(f,p)}return _}},e.CommandsRegistry.registerCommand("noop",()=>{})}),define(X[326],ee([1,0,20,12,2,18,21,49,26,19]),function(q,e,L,k,y,D,S,m,_,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getCodeLensModel=e.CodeLensModel=void 0;class p{constructor(){this.lenses=[],this._disposables=new y.DisposableStore}dispose(){this._disposables.dispose()}get isDisposed(){return this._disposables.isDisposed}add(i,o){this._disposables.add(i);for(const r of i.lenses)this.lenses.push({symbol:r,provider:o})}}e.CodeLensModel=p;function s(t,i,o){return Le(this,void 0,void 0,function*(){const r=t.ordered(i),d=new Map,h=new p,n=r.map((c,a)=>Le(this,void 0,void 0,function*(){d.set(c,a);try{const l=yield Promise.resolve(c.provideCodeLenses(i,o));l&&h.add(l,c)}catch(l){(0,k.onUnexpectedExternalError)(l)}}));return yield Promise.all(n),h.lenses=h.lenses.sort((c,a)=>c.symbol.range.startLineNumber<a.symbol.range.startLineNumber?-1:c.symbol.range.startLineNumber>a.symbol.range.startLineNumber?1:d.get(c.provider)<d.get(a.provider)?-1:d.get(c.provider)>d.get(a.provider)?1:c.symbol.range.startColumn<a.symbol.range.startColumn?-1:c.symbol.range.startColumn>a.symbol.range.startColumn?1:0),h})}e.getCodeLensModel=s,_.CommandsRegistry.registerCommand("_executeCodeLensProvider",function(t,...i){let[o,r]=i;(0,D.assertType)(S.URI.isUri(o)),(0,D.assertType)(typeof r=="number"||!r);const{codeLensProvider:d}=t.get(f.ILanguageFeaturesService),h=t.get(m.IModelService).getModel(o);if(!h)throw(0,k.illegalArgument)();const n=[],c=new y.DisposableStore;return s(d,h,L.CancellationToken.None).then(a=>{c.add(a);const l=[];for(const u of a.lenses)r==null||u.symbol.command?n.push(u.symbol):r-- >0&&u.provider.resolveCodeLens&&l.push(Promise.resolve(u.provider.resolveCodeLens(h,u.symbol,L.CancellationToken.None)).then(C=>n.push(C||u.symbol)));return Promise.all(l)}).then(()=>n).finally(()=>{setTimeout(()=>c.dispose(),100)})})}),define(X[740],ee([1,0,16,20,12,2,18,21,5,49,26,19]),function(q,e,L,k,y,D,S,m,_,f,p,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getLinks=e.LinksList=e.Link=void 0;class t{constructor(d,h){this._link=d,this._provider=h}toJSON(){return{range:this.range,url:this.url,tooltip:this.tooltip}}get range(){return this._link.range}get url(){return this._link.url}get tooltip(){return this._link.tooltip}resolve(d){return Le(this,void 0,void 0,function*(){return this._link.url?this._link.url:typeof this._provider.resolveLink=="function"?Promise.resolve(this._provider.resolveLink(this._link,d)).then(h=>(this._link=h||this._link,this._link.url?this.resolve(d):Promise.reject(new Error("missing")))):Promise.reject(new Error("missing"))})}}e.Link=t;class i{constructor(d){this._disposables=new D.DisposableStore;let h=[];for(const[n,c]of d){const a=n.links.map(l=>new t(l,c));h=i._union(h,a),(0,D.isDisposable)(n)&&this._disposables.add(n)}this.links=h}dispose(){this._disposables.dispose(),this.links.length=0}static _union(d,h){const n=[];let c,a,l,u;for(c=0,l=0,a=d.length,u=h.length;c<a&&l<u;){const C=d[c],g=h[l];if(_.Range.areIntersectingOrTouching(C.range,g.range)){c++;continue}_.Range.compareRangesUsingStarts(C.range,g.range)<0?(n.push(C),c++):(n.push(g),l++)}for(;c<a;c++)n.push(d[c]);for(;l<u;l++)n.push(h[l]);return n}}e.LinksList=i;function o(r,d,h){const n=[],c=r.ordered(d).reverse().map((a,l)=>Promise.resolve(a.provideLinks(d,h)).then(u=>{u&&(n[l]=[u,a])},y.onUnexpectedExternalError));return Promise.all(c).then(()=>{const a=new i((0,L.coalesce)(n));return h.isCancellationRequested?(a.dispose(),new i([])):a})}e.getLinks=o,p.CommandsRegistry.registerCommand("_executeLinkProvider",(r,...d)=>Le(void 0,void 0,void 0,function*(){let[h,n]=d;(0,S.assertType)(h instanceof m.URI),typeof n!="number"&&(n=0);const{linkProvider:c}=r.get(s.ILanguageFeaturesService),a=r.get(f.IModelService).getModel(h);if(!a)return[];const l=yield o(c,a,k.CancellationToken.None);if(!l)return[];for(let C=0;C<Math.min(n,l.links.length);C++)yield l.links[C].resolve(k.CancellationToken.None);const u=l.links.slice(0);return l.dispose(),u}))}),define(X[327],ee([1,0,20,12,21,49,26,18,596,5,19]),function(q,e,L,k,y,D,S,m,_,f,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getDocumentRangeSemanticTokens=e.hasDocumentRangeSemanticTokensProvider=e.getDocumentSemanticTokens=e.hasDocumentSemanticTokensProvider=e.DocumentSemanticTokensResult=e.isSemanticTokensEdits=e.isSemanticTokens=void 0;function s(u){return u&&!!u.data}e.isSemanticTokens=s;function t(u){return u&&Array.isArray(u.edits)}e.isSemanticTokensEdits=t;class i{constructor(C,g,v){this.provider=C,this.tokens=g,this.error=v}}e.DocumentSemanticTokensResult=i;function o(u,C){return u.has(C)}e.hasDocumentSemanticTokensProvider=o;function r(u,C){const g=u.orderedGroups(C);return g.length>0?g[0]:[]}function d(u,C,g,v,b){return Le(this,void 0,void 0,function*(){const w=r(u,C),E=yield Promise.all(w.map(I=>Le(this,void 0,void 0,function*(){let T,P=null;try{T=yield I.provideDocumentSemanticTokens(C,I===g?v:null,b)}catch(A){P=A,T=null}return(!T||!s(T)&&!t(T))&&(T=null),new i(I,T,P)})));for(const I of E){if(I.error)throw I.error;if(I.tokens)return I}return E.length>0?E[0]:null})}e.getDocumentSemanticTokens=d;function h(u,C){const g=u.orderedGroups(C);return g.length>0?g[0]:null}class n{constructor(C,g){this.provider=C,this.tokens=g}}function c(u,C){return u.has(C)}e.hasDocumentRangeSemanticTokensProvider=c;function a(u,C){const g=u.orderedGroups(C);return g.length>0?g[0]:[]}function l(u,C,g,v){return Le(this,void 0,void 0,function*(){const b=a(u,C),w=yield Promise.all(b.map(E=>Le(this,void 0,void 0,function*(){let I;try{I=yield E.provideDocumentRangeSemanticTokens(C,g,v)}catch(T){(0,k.onUnexpectedExternalError)(T),I=null}return(!I||!s(I))&&(I=null),new n(E,I)})));for(const E of w)if(E.tokens)return E;return w.length>0?w[0]:null})}e.getDocumentRangeSemanticTokens=l,S.CommandsRegistry.registerCommand("_provideDocumentSemanticTokensLegend",(u,...C)=>Le(void 0,void 0,void 0,function*(){const[g]=C;(0,m.assertType)(g instanceof y.URI);const v=u.get(D.IModelService).getModel(g);if(!v)return;const{documentSemanticTokensProvider:b}=u.get(p.ILanguageFeaturesService),w=h(b,v);return w?w[0].getLegend():u.get(S.ICommandService).executeCommand("_provideDocumentRangeSemanticTokensLegend",g)})),S.CommandsRegistry.registerCommand("_provideDocumentSemanticTokens",(u,...C)=>Le(void 0,void 0,void 0,function*(){const[g]=C;(0,m.assertType)(g instanceof y.URI);const v=u.get(D.IModelService).getModel(g);if(!v)return;const{documentSemanticTokensProvider:b}=u.get(p.ILanguageFeaturesService);if(!o(b,v))return u.get(S.ICommandService).executeCommand("_provideDocumentRangeSemanticTokens",g,v.getFullModelRange());const w=yield d(b,v,null,null,L.CancellationToken.None);if(!w)return;const{provider:E,tokens:I}=w;if(!I||!s(I))return;const T=(0,_.encodeSemanticTokensDto)({id:0,type:"full",data:I.data});return I.resultId&&E.releaseDocumentSemanticTokens(I.resultId),T})),S.CommandsRegistry.registerCommand("_provideDocumentRangeSemanticTokensLegend",(u,...C)=>Le(void 0,void 0,void 0,function*(){const[g,v]=C;(0,m.assertType)(g instanceof y.URI);const b=u.get(D.IModelService).getModel(g);if(!b)return;const{documentRangeSemanticTokensProvider:w}=u.get(p.ILanguageFeaturesService),E=a(w,b);if(E.length===0)return;if(E.length===1)return E[0].getLegend();if(!v||!f.Range.isIRange(v))return console.warn("provideDocumentRangeSemanticTokensLegend might be out-of-sync with provideDocumentRangeSemanticTokens unless a range argument is passed in"),E[0].getLegend();const I=yield l(w,b,f.Range.lift(v),L.CancellationToken.None);if(I)return I.provider.getLegend()})),S.CommandsRegistry.registerCommand("_provideDocumentRangeSemanticTokens",(u,...C)=>Le(void 0,void 0,void 0,function*(){const[g,v]=C;(0,m.assertType)(g instanceof y.URI),(0,m.assertType)(f.Range.isIRange(v));const b=u.get(D.IModelService).getModel(g);if(!b)return;const{documentRangeSemanticTokensProvider:w}=u.get(p.ILanguageFeaturesService),E=yield l(w,b,f.Range.lift(v),L.CancellationToken.None);if(!(!E||!E.tokens))return(0,_.encodeSemanticTokensDto)({id:0,type:"full",data:E.tokens.data})}))}),define(X[28],ee([1,0,8]),function(q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getLanguageTagSettingPlainKey=e.getConfigurationValue=e.removeFromValueTree=e.addToValueTree=e.toValuesTree=e.IConfigurationService=void 0,e.IConfigurationService=(0,L.createDecorator)("configurationService");function k(f,p){const s=Object.create(null);for(const t in f)y(s,t,f[t],p);return s}e.toValuesTree=k;function y(f,p,s,t){const i=p.split("."),o=i.pop();let r=f;for(let d=0;d<i.length;d++){const h=i[d];let n=r[h];switch(typeof n){case"undefined":n=r[h]=Object.create(null);break;case"object":break;default:t(`Ignoring ${p} as ${i.slice(0,d+1).join(".")} is ${JSON.stringify(n)}`);return}r=n}if(typeof r=="object"&&r!==null)try{r[o]=s}catch{t(`Ignoring ${p} as ${i.join(".")} is ${JSON.stringify(r)}`)}else t(`Ignoring ${p} as ${i.join(".")} is ${JSON.stringify(r)}`)}e.addToValueTree=y;function D(f,p){const s=p.split(".");S(f,s)}e.removeFromValueTree=D;function S(f,p){const s=p.shift();if(p.length===0){delete f[s];return}if(Object.keys(f).indexOf(s)!==-1){const t=f[s];typeof t=="object"&&!Array.isArray(t)&&(S(t,p),Object.keys(t).length===0&&delete f[s])}}function m(f,p,s){function t(r,d){let h=r;for(const n of d){if(typeof h!="object"||h===null)return;h=h[n]}return h}const i=p.split("."),o=t(f,i);return typeof o>"u"?s:o}e.getConfigurationValue=m;function _(f){return f.replace(/[\[\]]/g,"")}e.getLanguageTagSettingPlainKey=_}),define(X[328],ee([1,0,29,154,298,28]),function(q,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MonarchTokenizer=void 0;const S=5;class m{static create(h,n){return this._INSTANCE.create(h,n)}constructor(h){this._maxCacheDepth=h,this._entries=Object.create(null)}create(h,n){if(h!==null&&h.depth>=this._maxCacheDepth)return new _(h,n);let c=_.getStackElementId(h);c.length>0&&(c+="|"),c+=n;let a=this._entries[c];return a||(a=new _(h,n),this._entries[c]=a,a)}}m._INSTANCE=new m(S);class _{constructor(h,n){this.parent=h,this.state=n,this.depth=(this.parent?this.parent.depth:0)+1}static getStackElementId(h){let n="";for(;h!==null;)n.length>0&&(n+="|"),n+=h.state,h=h.parent;return n}static _equals(h,n){for(;h!==null&&n!==null;){if(h===n)return!0;if(h.state!==n.state)return!1;h=h.parent,n=n.parent}return h===null&&n===null}equals(h){return _._equals(this,h)}push(h){return m.create(this,h)}pop(){return this.parent}popall(){let h=this;for(;h.parent;)h=h.parent;return h}switchTo(h){return m.create(this.parent,h)}}class f{constructor(h,n){this.languageId=h,this.state=n}equals(h){return this.languageId===h.languageId&&this.state.equals(h.state)}clone(){return this.state.clone()===this.state?this:new f(this.languageId,this.state)}}class p{static create(h,n){return this._INSTANCE.create(h,n)}constructor(h){this._maxCacheDepth=h,this._entries=Object.create(null)}create(h,n){if(n!==null)return new s(h,n);if(h!==null&&h.depth>=this._maxCacheDepth)return new s(h,n);const c=_.getStackElementId(h);let a=this._entries[c];return a||(a=new s(h,null),this._entries[c]=a,a)}}p._INSTANCE=new p(S);class s{constructor(h,n){this.stack=h,this.embeddedLanguageData=n}clone(){return(this.embeddedLanguageData?this.embeddedLanguageData.clone():null)===this.embeddedLanguageData?this:p.create(this.stack,this.embeddedLanguageData)}equals(h){return!(h instanceof s)||!this.stack.equals(h.stack)?!1:this.embeddedLanguageData===null&&h.embeddedLanguageData===null?!0:this.embeddedLanguageData===null||h.embeddedLanguageData===null?!1:this.embeddedLanguageData.equals(h.embeddedLanguageData)}}class t{constructor(){this._tokens=[],this._languageId=null,this._lastTokenType=null,this._lastTokenLanguage=null}enterLanguage(h){this._languageId=h}emit(h,n){this._lastTokenType===n&&this._lastTokenLanguage===this._languageId||(this._lastTokenType=n,this._lastTokenLanguage=this._languageId,this._tokens.push(new L.Token(h,n,this._languageId)))}nestedLanguageTokenize(h,n,c,a){const l=c.languageId,u=c.state,C=L.TokenizationRegistry.get(l);if(!C)return this.enterLanguage(l),this.emit(a,""),u;const g=C.tokenize(h,n,u);if(a!==0)for(const v of g.tokens)this._tokens.push(new L.Token(v.offset+a,v.type,v.language));else this._tokens=this._tokens.concat(g.tokens);return this._lastTokenType=null,this._lastTokenLanguage=null,this._languageId=null,g.endState}finalize(h){return new L.TokenizationResult(this._tokens,h)}}class i{constructor(h,n){this._languageService=h,this._theme=n,this._prependTokens=null,this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0}enterLanguage(h){this._currentLanguageId=this._languageService.languageIdCodec.encodeLanguageId(h)}emit(h,n){const c=this._theme.match(this._currentLanguageId,n)|1024;this._lastTokenMetadata!==c&&(this._lastTokenMetadata=c,this._tokens.push(h),this._tokens.push(c))}static _merge(h,n,c){const a=h!==null?h.length:0,l=n.length,u=c!==null?c.length:0;if(a===0&&l===0&&u===0)return new Uint32Array(0);if(a===0&&l===0)return c;if(l===0&&u===0)return h;const C=new Uint32Array(a+l+u);h!==null&&C.set(h);for(let g=0;g<l;g++)C[a+g]=n[g];return c!==null&&C.set(c,a+l),C}nestedLanguageTokenize(h,n,c,a){const l=c.languageId,u=c.state,C=L.TokenizationRegistry.get(l);if(!C)return this.enterLanguage(l),this.emit(a,""),u;const g=C.tokenizeEncoded(h,n,u);if(a!==0)for(let v=0,b=g.tokens.length;v<b;v+=2)g.tokens[v]+=a;return this._prependTokens=i._merge(this._prependTokens,this._tokens,g.tokens),this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0,g.endState}finalize(h){return new L.EncodedTokenizationResult(i._merge(this._prependTokens,this._tokens,null),h)}}let o=e.MonarchTokenizer=class xi{constructor(h,n,c,a,l){this._configurationService=l,this._languageService=h,this._standaloneThemeService=n,this._languageId=c,this._lexer=a,this._embeddedLanguages=Object.create(null),this.embeddedLoaded=Promise.resolve(void 0);let u=!1;this._tokenizationRegistryListener=L.TokenizationRegistry.onDidChange(C=>{if(u)return;let g=!1;for(let v=0,b=C.changedLanguages.length;v<b;v++){const w=C.changedLanguages[v];if(this._embeddedLanguages[w]){g=!0;break}}g&&(u=!0,L.TokenizationRegistry.handleChange([this._languageId]),u=!1)}),this._maxTokenizationLineLength=this._configurationService.getValue("editor.maxTokenizationLineLength",{overrideIdentifier:this._languageId}),this._configurationService.onDidChangeConfiguration(C=>{C.affectsConfiguration("editor.maxTokenizationLineLength")&&(this._maxTokenizationLineLength=this._configurationService.getValue("editor.maxTokenizationLineLength",{overrideIdentifier:this._languageId}))})}dispose(){this._tokenizationRegistryListener.dispose()}getLoadStatus(){const h=[];for(const n in this._embeddedLanguages){const c=L.TokenizationRegistry.get(n);if(c){if(c instanceof xi){const a=c.getLoadStatus();a.loaded===!1&&h.push(a.promise)}continue}L.TokenizationRegistry.isResolved(n)||h.push(L.TokenizationRegistry.getOrCreate(n))}return h.length===0?{loaded:!0}:{loaded:!1,promise:Promise.all(h).then(n=>{})}}getInitialState(){const h=m.create(null,this._lexer.start);return p.create(h,null)}tokenize(h,n,c){if(h.length>=this._maxTokenizationLineLength)return(0,k.nullTokenize)(this._languageId,c);const a=new t,l=this._tokenize(h,n,c,a);return a.finalize(l)}tokenizeEncoded(h,n,c){if(h.length>=this._maxTokenizationLineLength)return(0,k.nullTokenizeEncoded)(this._languageService.languageIdCodec.encodeLanguageId(this._languageId),c);const a=new i(this._languageService,this._standaloneThemeService.getColorTheme().tokenTheme),l=this._tokenize(h,n,c,a);return a.finalize(l)}_tokenize(h,n,c,a){return c.embeddedLanguageData?this._nestedTokenize(h,n,c,0,a):this._myTokenize(h,n,c,0,a)}_findLeavingNestedLanguageOffset(h,n){let c=this._lexer.tokenizer[n.stack.state];if(!c&&(c=y.findRules(this._lexer,n.stack.state),!c))throw y.createError(this._lexer,"tokenizer state is not defined: "+n.stack.state);let a=-1,l=!1;for(const u of c){if(!y.isIAction(u.action)||u.action.nextEmbedded!=="@pop")continue;l=!0;let C=u.regex;const g=u.regex.source;if(g.substr(0,4)==="^(?:"&&g.substr(g.length-1,1)===")"){const b=(C.ignoreCase?"i":"")+(C.unicode?"u":"");C=new RegExp(g.substr(4,g.length-5),b)}const v=h.search(C);v===-1||v!==0&&u.matchOnlyAtLineStart||(a===-1||v<a)&&(a=v)}if(!l)throw y.createError(this._lexer,'no rule containing nextEmbedded: "@pop" in tokenizer embedded state: '+n.stack.state);return a}_nestedTokenize(h,n,c,a,l){const u=this._findLeavingNestedLanguageOffset(h,c);if(u===-1){const v=l.nestedLanguageTokenize(h,n,c.embeddedLanguageData,a);return p.create(c.stack,new f(c.embeddedLanguageData.languageId,v))}const C=h.substring(0,u);C.length>0&&l.nestedLanguageTokenize(C,!1,c.embeddedLanguageData,a);const g=h.substring(u);return this._myTokenize(g,n,c,a+u,l)}_safeRuleName(h){return h?h.name:"(unknown)"}_myTokenize(h,n,c,a,l){l.enterLanguage(this._languageId);const u=h.length,C=n&&this._lexer.includeLF?h+`
`:h,g=C.length;let v=c.embeddedLanguageData,b=c.stack,w=0,E=null,I=!0;for(;I||w<g;){const T=w,P=b.depth,A=E?E.groups.length:0,M=b.state;let N=null,R=null,F=null,x=null,W=null;if(E){N=E.matches;const O=E.groups.shift();R=O.matched,F=O.action,x=E.rule,E.groups.length===0&&(E=null)}else{if(!I&&w>=g)break;I=!1;let O=this._lexer.tokenizer[M];if(!O&&(O=y.findRules(this._lexer,M),!O))throw y.createError(this._lexer,"tokenizer state is not defined: "+M);const G=C.substr(w);for(const Q of O)if((w===0||!Q.matchOnlyAtLineStart)&&(N=G.match(Q.regex),N)){R=N[0],F=Q.action;break}}if(N||(N=[""],R=""),F||(w<g&&(N=[C.charAt(w)],R=N[0]),F=this._lexer.defaultToken),R===null)break;for(w+=R.length;y.isFuzzyAction(F)&&y.isIAction(F)&&F.test;)F=F.test(R,N,M,w===g);let z=null;if(typeof F=="string"||Array.isArray(F))z=F;else if(F.group)z=F.group;else if(F.token!==null&&F.token!==void 0){if(F.tokenSubst?z=y.substituteMatches(this._lexer,F.token,R,N,M):z=F.token,F.nextEmbedded)if(F.nextEmbedded==="@pop"){if(!v)throw y.createError(this._lexer,"cannot pop embedded language if not inside one");v=null}else{if(v)throw y.createError(this._lexer,"cannot enter embedded language from within an embedded language");W=y.substituteMatches(this._lexer,F.nextEmbedded,R,N,M)}if(F.goBack&&(w=Math.max(0,w-F.goBack)),F.switchTo&&typeof F.switchTo=="string"){let O=y.substituteMatches(this._lexer,F.switchTo,R,N,M);if(O[0]==="@"&&(O=O.substr(1)),y.findRules(this._lexer,O))b=b.switchTo(O);else throw y.createError(this._lexer,"trying to switch to a state '"+O+"' that is undefined in rule: "+this._safeRuleName(x))}else{if(F.transform&&typeof F.transform=="function")throw y.createError(this._lexer,"action.transform not supported");if(F.next)if(F.next==="@push"){if(b.depth>=this._lexer.maxStack)throw y.createError(this._lexer,"maximum tokenizer stack size reached: ["+b.state+","+b.parent.state+",...]");b=b.push(M)}else if(F.next==="@pop"){if(b.depth<=1)throw y.createError(this._lexer,"trying to pop an empty stack in rule: "+this._safeRuleName(x));b=b.pop()}else if(F.next==="@popall")b=b.popall();else{let O=y.substituteMatches(this._lexer,F.next,R,N,M);if(O[0]==="@"&&(O=O.substr(1)),y.findRules(this._lexer,O))b=b.push(O);else throw y.createError(this._lexer,"trying to set a next state '"+O+"' that is undefined in rule: "+this._safeRuleName(x))}}F.log&&typeof F.log=="string"&&y.log(this._lexer,this._lexer.languageId+": "+y.substituteMatches(this._lexer,F.log,R,N,M))}if(z===null)throw y.createError(this._lexer,"lexer rule has no well-defined action in rule: "+this._safeRuleName(x));const U=O=>{const G=this._languageService.getLanguageIdByLanguageName(O)||this._languageService.getLanguageIdByMimeType(O)||O,Q=this._getNestedEmbeddedLanguageData(G);if(w<g){const re=h.substr(w);return this._nestedTokenize(re,n,p.create(b,Q),a+w,l)}else return p.create(b,Q)};if(Array.isArray(z)){if(E&&E.groups.length>0)throw y.createError(this._lexer,"groups cannot be nested: "+this._safeRuleName(x));if(N.length!==z.length+1)throw y.createError(this._lexer,"matched number of groups does not match the number of actions in rule: "+this._safeRuleName(x));let O=0;for(let G=1;G<N.length;G++)O+=N[G].length;if(O!==R.length)throw y.createError(this._lexer,"with groups, all characters should be matched in consecutive groups in rule: "+this._safeRuleName(x));E={rule:x,matches:N,groups:[]};for(let G=0;G<z.length;G++)E.groups[G]={action:z[G],matched:N[G+1]};w-=R.length;continue}else{if(z==="@rematch"&&(w-=R.length,R="",N=null,z="",W!==null))return U(W);if(R.length===0){if(g===0||P!==b.depth||M!==b.state||(E?E.groups.length:0)!==A)continue;throw y.createError(this._lexer,"no progress in tokenizer in rule: "+this._safeRuleName(x))}let O=null;if(y.isString(z)&&z.indexOf("@brackets")===0){const G=z.substr(9),Q=r(this._lexer,R);if(!Q)throw y.createError(this._lexer,"@brackets token returned but no bracket defined as: "+R);O=y.sanitize(Q.token+G)}else{const G=z===""?"":z+this._lexer.tokenPostfix;O=y.sanitize(G)}T<u&&l.emit(T+a,O)}if(W!==null)return U(W)}return p.create(b,v)}_getNestedEmbeddedLanguageData(h){if(!this._languageService.isRegisteredLanguageId(h))return new f(h,k.NullState);h!==this._languageId&&(this._languageService.requestBasicLanguageFeatures(h),L.TokenizationRegistry.getOrCreate(h),this._embeddedLanguages[h]=!0);const n=L.TokenizationRegistry.get(h);return n?new f(h,n.getInitialState()):new f(h,k.NullState)}};e.MonarchTokenizer=o=Ne([ge(4,D.IConfigurationService)],o);function r(d,h){if(!h)return null;h=y.fixCase(d,h);const n=d.brackets;for(const c of n){if(c.open===h)return{token:c.token,bracketType:1};if(c.close===h)return{token:c.token,bracketType:-1}}return null}}),define(X[741],ee([1,0,89,9,29,86,94,66,328]),function(q,e,L,k,y,D,S,m,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Colorizer=void 0;const f=(0,L.createTrustedTypesPolicy)("standaloneColorizer",{createHTML:o=>o});class p{static colorizeElement(r,d,h,n){n=n||{};const c=n.theme||"vs",a=n.mimeType||h.getAttribute("lang")||h.getAttribute("data-lang");if(!a)return console.error("Mode not detected"),Promise.resolve();const l=d.getLanguageIdByMimeType(a)||a;r.setTheme(c);const u=h.firstChild?h.firstChild.nodeValue:"";h.className+=" "+c;const C=g=>{var v;const b=(v=f?.createHTML(g))!==null&&v!==void 0?v:g;h.innerHTML=b};return this.colorize(d,u||"",l,n).then(C,g=>console.error(g))}static colorize(r,d,h,n){return Le(this,void 0,void 0,function*(){const c=r.languageIdCodec;let a=4;n&&typeof n.tabSize=="number"&&(a=n.tabSize),k.startsWithUTF8BOM(d)&&(d=d.substr(1));const l=k.splitLines(d);if(!r.isRegisteredLanguageId(h))return t(l,a,c);const u=yield y.TokenizationRegistry.getOrCreate(h);return u?s(l,a,u,c):t(l,a,c)})}static colorizeLine(r,d,h,n,c=4){const a=m.ViewLineRenderingData.isBasicASCII(r,d),l=m.ViewLineRenderingData.containsRTL(r,a,h);return(0,S.renderViewLine2)(new S.RenderLineInput(!1,!0,r,!1,a,l,0,n,[],c,0,0,0,0,-1,"none",!1,!1,null)).html}static colorizeModelLine(r,d,h=4){const n=r.getLineContent(d);r.tokenization.forceTokenization(d);const a=r.tokenization.getLineTokens(d).inflate();return this.colorizeLine(n,r.mightContainNonBasicASCII(),r.mightContainRTL(),a,h)}}e.Colorizer=p;function s(o,r,d,h){return new Promise((n,c)=>{const a=()=>{const l=i(o,r,d,h);if(d instanceof _.MonarchTokenizer){const u=d.getLoadStatus();if(u.loaded===!1){u.promise.then(a,c);return}}n(l)};a()})}function t(o,r,d){let h=[];const c=new Uint32Array(2);c[0]=0,c[1]=33587200;for(let a=0,l=o.length;a<l;a++){const u=o[a];c[0]=u.length;const C=new D.LineTokens(c,u,d),g=m.ViewLineRenderingData.isBasicASCII(u,!0),v=m.ViewLineRenderingData.containsRTL(u,g,!0),b=(0,S.renderViewLine2)(new S.RenderLineInput(!1,!0,u,!1,g,v,0,C,[],r,0,0,0,0,-1,"none",!1,!1,null));h=h.concat(b.html),h.push("<br/>")}return h.join("")}function i(o,r,d,h){let n=[],c=d.getInitialState();for(let a=0,l=o.length;a<l;a++){const u=o[a],C=d.tokenizeEncoded(u,!0,c);D.LineTokens.convertToEndOffset(C.tokens,u.length);const g=new D.LineTokens(C.tokens,u,h),v=m.ViewLineRenderingData.isBasicASCII(u,!0),b=m.ViewLineRenderingData.containsRTL(u,v,!0),w=(0,S.renderViewLine2)(new S.RenderLineInput(!1,!0,u,!1,v,b,0,g.inflate(),[],r,0,0,0,0,-1,"none",!1,!1,null));n=n.concat(w.html),n.push("<br/>"),c=C.endState}return n.join("")}}),define(X[13],ee([1,0,17,9,731,8,713]),function(q,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.implies=e.IContextKeyService=e.RawContextKey=e.ContextKeyOrExpr=e.ContextKeyAndExpr=e.ContextKeyNotRegexExpr=e.ContextKeyRegexExpr=e.ContextKeySmallerEqualsExpr=e.ContextKeySmallerExpr=e.ContextKeyGreaterEqualsExpr=e.ContextKeyGreaterExpr=e.ContextKeyNotExpr=e.ContextKeyNotEqualsExpr=e.ContextKeyNotInExpr=e.ContextKeyInExpr=e.ContextKeyEqualsExpr=e.ContextKeyDefinedExpr=e.ContextKeyTrueExpr=e.ContextKeyFalseExpr=e.expressionsAreEqualWithConstantSubstitution=e.ContextKeyExpr=e.Parser=void 0;const m=new Map;m.set("false",!1),m.set("true",!0),m.set("isMac",L.isMacintosh),m.set("isLinux",L.isLinux),m.set("isWindows",L.isWindows),m.set("isWeb",L.isWeb),m.set("isMacNative",L.isMacintosh&&!L.isWeb),m.set("isEdge",L.isEdge),m.set("isFirefox",L.isFirefox),m.set("isChrome",L.isChrome),m.set("isSafari",L.isSafari);const _=Object.prototype.hasOwnProperty,f={regexParsingWithErrorRecovery:!0},p=(0,S.localize)(0,null),s=(0,S.localize)(1,null),t=(0,S.localize)(2,null),i=(0,S.localize)(3,null),o=(0,S.localize)(4,null),r=(0,S.localize)(5,null),d=(0,S.localize)(6,null),h=(0,S.localize)(7,null);class n{constructor(H=f){this._config=H,this._scanner=new y.Scanner,this._tokens=[],this._current=0,this._parsingErrors=[],this._flagsGYRe=/g|y/g}parse(H){if(H===""){this._parsingErrors.push({message:p,offset:0,lexeme:"",additionalInfo:s});return}this._tokens=this._scanner.reset(H).scan(),this._current=0,this._parsingErrors=[];try{const B=this._expr();if(!this._isAtEnd()){const K=this._peek(),Z=K.type===17?r:void 0;throw this._parsingErrors.push({message:o,offset:K.offset,lexeme:y.Scanner.getLexeme(K),additionalInfo:Z}),n._parseError}return B}catch(B){if(B!==n._parseError)throw B;return}}_expr(){return this._or()}_or(){const H=[this._and()];for(;this._matchOne(16);){const B=this._and();H.push(B)}return H.length===1?H[0]:c.or(...H)}_and(){const H=[this._term()];for(;this._matchOne(15);){const B=this._term();H.push(B)}return H.length===1?H[0]:c.and(...H)}_term(){if(this._matchOne(2)){const H=this._peek();switch(H.type){case 11:return this._advance(),u.INSTANCE;case 12:return this._advance(),C.INSTANCE;case 0:{this._advance();const B=this._expr();return this._consume(1,i),B?.negate()}case 17:return this._advance(),I.create(H.lexeme);default:throw this._errExpectedButGot("KEY | true | false | '(' expression ')'",H)}}return this._primary()}_primary(){const H=this._peek();switch(H.type){case 11:return this._advance(),c.true();case 12:return this._advance(),c.false();case 0:{this._advance();const B=this._expr();return this._consume(1,i),B}case 17:{const B=H.lexeme;if(this._advance(),this._matchOne(9)){const Z=this._peek();if(!this._config.regexParsingWithErrorRecovery){if(this._advance(),Z.type!==10)throw this._errExpectedButGot("REGEX",Z);const J=Z.lexeme,ne=J.lastIndexOf("/"),he=ne===J.length-1?void 0:this._removeFlagsGY(J.substring(ne+1));let de;try{de=new RegExp(J.substring(1,ne),he)}catch{throw this._errExpectedButGot("REGEX",Z)}return R.create(B,de)}switch(Z.type){case 10:case 19:{const J=[Z.lexeme];this._advance();let ne=this._peek(),he=0;for(let V=0;V<Z.lexeme.length;V++)Z.lexeme.charCodeAt(V)===40?he++:Z.lexeme.charCodeAt(V)===41&&he--;for(;!this._isAtEnd()&&ne.type!==15&&ne.type!==16;){switch(ne.type){case 0:he++;break;case 1:he--;break;case 10:case 18:for(let V=0;V<ne.lexeme.length;V++)ne.lexeme.charCodeAt(V)===40?he++:Z.lexeme.charCodeAt(V)===41&&he--}if(he<0)break;J.push(y.Scanner.getLexeme(ne)),this._advance(),ne=this._peek()}const de=J.join(""),ae=de.lastIndexOf("/"),ce=ae===de.length-1?void 0:this._removeFlagsGY(de.substring(ae+1));let $;try{$=new RegExp(de.substring(1,ae),ce)}catch{throw this._errExpectedButGot("REGEX",Z)}return c.regex(B,$)}case 18:{const J=Z.lexeme;this._advance();let ne=null;if(!(0,k.isFalsyOrWhitespace)(J)){const he=J.indexOf("/"),de=J.lastIndexOf("/");if(he!==de&&he>=0){const ae=J.slice(he+1,de),ce=J[de+1]==="i"?"i":"";try{ne=new RegExp(ae,ce)}catch{throw this._errExpectedButGot("REGEX",Z)}}}if(ne===null)throw this._errExpectedButGot("REGEX",Z);return R.create(B,ne)}default:throw this._errExpectedButGot("REGEX",this._peek())}}if(this._matchOne(14)){this._consume(13,t);const Z=this._value();return c.notIn(B,Z)}switch(this._peek().type){case 3:{this._advance();const Z=this._value();if(this._previous().type===18)return c.equals(B,Z);switch(Z){case"true":return c.has(B);case"false":return c.not(B);default:return c.equals(B,Z)}}case 4:{this._advance();const Z=this._value();if(this._previous().type===18)return c.notEquals(B,Z);switch(Z){case"true":return c.not(B);case"false":return c.has(B);default:return c.notEquals(B,Z)}}case 5:return this._advance(),M.create(B,this._value());case 6:return this._advance(),N.create(B,this._value());case 7:return this._advance(),P.create(B,this._value());case 8:return this._advance(),A.create(B,this._value());case 13:return this._advance(),c.in(B,this._value());default:return c.has(B)}}case 20:throw this._parsingErrors.push({message:d,offset:H.offset,lexeme:"",additionalInfo:h}),n._parseError;default:throw this._errExpectedButGot(`true | false | KEY 
	| KEY '=~' REGEX 
	| KEY ('==' | '!=' | '<' | '<=' | '>' | '>=' | 'in' | 'not' 'in') value`,this._peek())}}_value(){const H=this._peek();switch(H.type){case 17:case 18:return this._advance(),H.lexeme;case 11:return this._advance(),"true";case 12:return this._advance(),"false";case 13:return this._advance(),"in";default:return""}}_removeFlagsGY(H){return H.replaceAll(this._flagsGYRe,"")}_previous(){return this._tokens[this._current-1]}_matchOne(H){return this._check(H)?(this._advance(),!0):!1}_advance(){return this._isAtEnd()||this._current++,this._previous()}_consume(H,B){if(this._check(H))return this._advance();throw this._errExpectedButGot(B,this._peek())}_errExpectedButGot(H,B,K){const Z=(0,S.localize)(8,null,H,y.Scanner.getLexeme(B)),J=B.offset,ne=y.Scanner.getLexeme(B);return this._parsingErrors.push({message:Z,offset:J,lexeme:ne,additionalInfo:K}),n._parseError}_check(H){return this._peek().type===H}_peek(){return this._tokens[this._current]}_isAtEnd(){return this._peek().type===20}}e.Parser=n,n._parseError=new Error;class c{static false(){return u.INSTANCE}static true(){return C.INSTANCE}static has(H){return g.create(H)}static equals(H,B){return v.create(H,B)}static notEquals(H,B){return E.create(H,B)}static regex(H,B){return R.create(H,B)}static in(H,B){return b.create(H,B)}static notIn(H,B){return w.create(H,B)}static not(H){return I.create(H)}static and(...H){return W.create(H,null,!0)}static or(...H){return z.create(H,null,!0)}static deserialize(H){return H==null?void 0:this._parser.parse(H)}}e.ContextKeyExpr=c,c._parser=new n({regexParsingWithErrorRecovery:!1});function a(te,H){const B=te?te.substituteConstants():void 0,K=H?H.substituteConstants():void 0;return!B&&!K?!0:!B||!K?!1:B.equals(K)}e.expressionsAreEqualWithConstantSubstitution=a;function l(te,H){return te.cmp(H)}class u{constructor(){this.type=0}cmp(H){return this.type-H.type}equals(H){return H.type===this.type}substituteConstants(){return this}evaluate(H){return!1}serialize(){return"false"}keys(){return[]}negate(){return C.INSTANCE}}e.ContextKeyFalseExpr=u,u.INSTANCE=new u;class C{constructor(){this.type=1}cmp(H){return this.type-H.type}equals(H){return H.type===this.type}substituteConstants(){return this}evaluate(H){return!0}serialize(){return"true"}keys(){return[]}negate(){return u.INSTANCE}}e.ContextKeyTrueExpr=C,C.INSTANCE=new C;class g{static create(H,B=null){const K=m.get(H);return typeof K=="boolean"?K?C.INSTANCE:u.INSTANCE:new g(H,B)}constructor(H,B){this.key=H,this.negated=B,this.type=2}cmp(H){return H.type!==this.type?this.type-H.type:O(this.key,H.key)}equals(H){return H.type===this.type?this.key===H.key:!1}substituteConstants(){const H=m.get(this.key);return typeof H=="boolean"?H?C.INSTANCE:u.INSTANCE:this}evaluate(H){return!!H.getValue(this.key)}serialize(){return this.key}keys(){return[this.key]}negate(){return this.negated||(this.negated=I.create(this.key,this)),this.negated}}e.ContextKeyDefinedExpr=g;class v{static create(H,B,K=null){if(typeof B=="boolean")return B?g.create(H,K):I.create(H,K);const Z=m.get(H);return typeof Z=="boolean"?B===(Z?"true":"false")?C.INSTANCE:u.INSTANCE:new v(H,B,K)}constructor(H,B,K){this.key=H,this.value=B,this.negated=K,this.type=4}cmp(H){return H.type!==this.type?this.type-H.type:G(this.key,this.value,H.key,H.value)}equals(H){return H.type===this.type?this.key===H.key&&this.value===H.value:!1}substituteConstants(){const H=m.get(this.key);if(typeof H=="boolean"){const B=H?"true":"false";return this.value===B?C.INSTANCE:u.INSTANCE}return this}evaluate(H){return H.getValue(this.key)==this.value}serialize(){return`${this.key} == '${this.value}'`}keys(){return[this.key]}negate(){return this.negated||(this.negated=E.create(this.key,this.value,this)),this.negated}}e.ContextKeyEqualsExpr=v;class b{static create(H,B){return new b(H,B)}constructor(H,B){this.key=H,this.valueKey=B,this.type=10,this.negated=null}cmp(H){return H.type!==this.type?this.type-H.type:G(this.key,this.valueKey,H.key,H.valueKey)}equals(H){return H.type===this.type?this.key===H.key&&this.valueKey===H.valueKey:!1}substituteConstants(){return this}evaluate(H){const B=H.getValue(this.valueKey),K=H.getValue(this.key);return Array.isArray(B)?B.includes(K):typeof K=="string"&&typeof B=="object"&&B!==null?_.call(B,K):!1}serialize(){return`${this.key} in '${this.valueKey}'`}keys(){return[this.key,this.valueKey]}negate(){return this.negated||(this.negated=w.create(this.key,this.valueKey)),this.negated}}e.ContextKeyInExpr=b;class w{static create(H,B){return new w(H,B)}constructor(H,B){this.key=H,this.valueKey=B,this.type=11,this._negated=b.create(H,B)}cmp(H){return H.type!==this.type?this.type-H.type:this._negated.cmp(H._negated)}equals(H){return H.type===this.type?this._negated.equals(H._negated):!1}substituteConstants(){return this}evaluate(H){return!this._negated.evaluate(H)}serialize(){return`${this.key} not in '${this.valueKey}'`}keys(){return this._negated.keys()}negate(){return this._negated}}e.ContextKeyNotInExpr=w;class E{static create(H,B,K=null){if(typeof B=="boolean")return B?I.create(H,K):g.create(H,K);const Z=m.get(H);return typeof Z=="boolean"?B===(Z?"true":"false")?u.INSTANCE:C.INSTANCE:new E(H,B,K)}constructor(H,B,K){this.key=H,this.value=B,this.negated=K,this.type=5}cmp(H){return H.type!==this.type?this.type-H.type:G(this.key,this.value,H.key,H.value)}equals(H){return H.type===this.type?this.key===H.key&&this.value===H.value:!1}substituteConstants(){const H=m.get(this.key);if(typeof H=="boolean"){const B=H?"true":"false";return this.value===B?u.INSTANCE:C.INSTANCE}return this}evaluate(H){return H.getValue(this.key)!=this.value}serialize(){return`${this.key} != '${this.value}'`}keys(){return[this.key]}negate(){return this.negated||(this.negated=v.create(this.key,this.value,this)),this.negated}}e.ContextKeyNotEqualsExpr=E;class I{static create(H,B=null){const K=m.get(H);return typeof K=="boolean"?K?u.INSTANCE:C.INSTANCE:new I(H,B)}constructor(H,B){this.key=H,this.negated=B,this.type=3}cmp(H){return H.type!==this.type?this.type-H.type:O(this.key,H.key)}equals(H){return H.type===this.type?this.key===H.key:!1}substituteConstants(){const H=m.get(this.key);return typeof H=="boolean"?H?u.INSTANCE:C.INSTANCE:this}evaluate(H){return!H.getValue(this.key)}serialize(){return`!${this.key}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=g.create(this.key,this)),this.negated}}e.ContextKeyNotExpr=I;function T(te,H){if(typeof te=="string"){const B=parseFloat(te);isNaN(B)||(te=B)}return typeof te=="string"||typeof te=="number"?H(te):u.INSTANCE}class P{static create(H,B,K=null){return T(B,Z=>new P(H,Z,K))}constructor(H,B,K){this.key=H,this.value=B,this.negated=K,this.type=12}cmp(H){return H.type!==this.type?this.type-H.type:G(this.key,this.value,H.key,H.value)}equals(H){return H.type===this.type?this.key===H.key&&this.value===H.value:!1}substituteConstants(){return this}evaluate(H){return typeof this.value=="string"?!1:parseFloat(H.getValue(this.key))>this.value}serialize(){return`${this.key} > ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=N.create(this.key,this.value,this)),this.negated}}e.ContextKeyGreaterExpr=P;class A{static create(H,B,K=null){return T(B,Z=>new A(H,Z,K))}constructor(H,B,K){this.key=H,this.value=B,this.negated=K,this.type=13}cmp(H){return H.type!==this.type?this.type-H.type:G(this.key,this.value,H.key,H.value)}equals(H){return H.type===this.type?this.key===H.key&&this.value===H.value:!1}substituteConstants(){return this}evaluate(H){return typeof this.value=="string"?!1:parseFloat(H.getValue(this.key))>=this.value}serialize(){return`${this.key} >= ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=M.create(this.key,this.value,this)),this.negated}}e.ContextKeyGreaterEqualsExpr=A;class M{static create(H,B,K=null){return T(B,Z=>new M(H,Z,K))}constructor(H,B,K){this.key=H,this.value=B,this.negated=K,this.type=14}cmp(H){return H.type!==this.type?this.type-H.type:G(this.key,this.value,H.key,H.value)}equals(H){return H.type===this.type?this.key===H.key&&this.value===H.value:!1}substituteConstants(){return this}evaluate(H){return typeof this.value=="string"?!1:parseFloat(H.getValue(this.key))<this.value}serialize(){return`${this.key} < ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=A.create(this.key,this.value,this)),this.negated}}e.ContextKeySmallerExpr=M;class N{static create(H,B,K=null){return T(B,Z=>new N(H,Z,K))}constructor(H,B,K){this.key=H,this.value=B,this.negated=K,this.type=15}cmp(H){return H.type!==this.type?this.type-H.type:G(this.key,this.value,H.key,H.value)}equals(H){return H.type===this.type?this.key===H.key&&this.value===H.value:!1}substituteConstants(){return this}evaluate(H){return typeof this.value=="string"?!1:parseFloat(H.getValue(this.key))<=this.value}serialize(){return`${this.key} <= ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=P.create(this.key,this.value,this)),this.negated}}e.ContextKeySmallerEqualsExpr=N;class R{static create(H,B){return new R(H,B)}constructor(H,B){this.key=H,this.regexp=B,this.type=7,this.negated=null}cmp(H){if(H.type!==this.type)return this.type-H.type;if(this.key<H.key)return-1;if(this.key>H.key)return 1;const B=this.regexp?this.regexp.source:"",K=H.regexp?H.regexp.source:"";return B<K?-1:B>K?1:0}equals(H){if(H.type===this.type){const B=this.regexp?this.regexp.source:"",K=H.regexp?H.regexp.source:"";return this.key===H.key&&B===K}return!1}substituteConstants(){return this}evaluate(H){const B=H.getValue(this.key);return this.regexp?this.regexp.test(B):!1}serialize(){const H=this.regexp?`/${this.regexp.source}/${this.regexp.flags}`:"/invalid/";return`${this.key} =~ ${H}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=F.create(this)),this.negated}}e.ContextKeyRegexExpr=R;class F{static create(H){return new F(H)}constructor(H){this._actual=H,this.type=8}cmp(H){return H.type!==this.type?this.type-H.type:this._actual.cmp(H._actual)}equals(H){return H.type===this.type?this._actual.equals(H._actual):!1}substituteConstants(){return this}evaluate(H){return!this._actual.evaluate(H)}serialize(){return`!(${this._actual.serialize()})`}keys(){return this._actual.keys()}negate(){return this._actual}}e.ContextKeyNotRegexExpr=F;function x(te){let H=null;for(let B=0,K=te.length;B<K;B++){const Z=te[B].substituteConstants();if(te[B]!==Z&&H===null){H=[];for(let J=0;J<B;J++)H[J]=te[J]}H!==null&&(H[B]=Z)}return H===null?te:H}class W{static create(H,B,K){return W._normalizeArr(H,B,K)}constructor(H,B){this.expr=H,this.negated=B,this.type=6}cmp(H){if(H.type!==this.type)return this.type-H.type;if(this.expr.length<H.expr.length)return-1;if(this.expr.length>H.expr.length)return 1;for(let B=0,K=this.expr.length;B<K;B++){const Z=l(this.expr[B],H.expr[B]);if(Z!==0)return Z}return 0}equals(H){if(H.type===this.type){if(this.expr.length!==H.expr.length)return!1;for(let B=0,K=this.expr.length;B<K;B++)if(!this.expr[B].equals(H.expr[B]))return!1;return!0}return!1}substituteConstants(){const H=x(this.expr);return H===this.expr?this:W.create(H,this.negated,!1)}evaluate(H){for(let B=0,K=this.expr.length;B<K;B++)if(!this.expr[B].evaluate(H))return!1;return!0}static _normalizeArr(H,B,K){const Z=[];let J=!1;for(const ne of H)if(ne){if(ne.type===1){J=!0;continue}if(ne.type===0)return u.INSTANCE;if(ne.type===6){Z.push(...ne.expr);continue}Z.push(ne)}if(Z.length===0&&J)return C.INSTANCE;if(Z.length!==0){if(Z.length===1)return Z[0];Z.sort(l);for(let ne=1;ne<Z.length;ne++)Z[ne-1].equals(Z[ne])&&(Z.splice(ne,1),ne--);if(Z.length===1)return Z[0];for(;Z.length>1;){const ne=Z[Z.length-1];if(ne.type!==9)break;Z.pop();const he=Z.pop(),de=Z.length===0,ae=z.create(ne.expr.map(ce=>W.create([ce,he],null,K)),null,de);ae&&(Z.push(ae),Z.sort(l))}if(Z.length===1)return Z[0];if(K){for(let ne=0;ne<Z.length;ne++)for(let he=ne+1;he<Z.length;he++)if(Z[ne].negate().equals(Z[he]))return u.INSTANCE;if(Z.length===1)return Z[0]}return new W(Z,B)}}serialize(){return this.expr.map(H=>H.serialize()).join(" && ")}keys(){const H=[];for(const B of this.expr)H.push(...B.keys());return H}negate(){if(!this.negated){const H=[];for(const B of this.expr)H.push(B.negate());this.negated=z.create(H,this,!0)}return this.negated}}e.ContextKeyAndExpr=W;class z{static create(H,B,K){return z._normalizeArr(H,B,K)}constructor(H,B){this.expr=H,this.negated=B,this.type=9}cmp(H){if(H.type!==this.type)return this.type-H.type;if(this.expr.length<H.expr.length)return-1;if(this.expr.length>H.expr.length)return 1;for(let B=0,K=this.expr.length;B<K;B++){const Z=l(this.expr[B],H.expr[B]);if(Z!==0)return Z}return 0}equals(H){if(H.type===this.type){if(this.expr.length!==H.expr.length)return!1;for(let B=0,K=this.expr.length;B<K;B++)if(!this.expr[B].equals(H.expr[B]))return!1;return!0}return!1}substituteConstants(){const H=x(this.expr);return H===this.expr?this:z.create(H,this.negated,!1)}evaluate(H){for(let B=0,K=this.expr.length;B<K;B++)if(this.expr[B].evaluate(H))return!0;return!1}static _normalizeArr(H,B,K){let Z=[],J=!1;if(H){for(let ne=0,he=H.length;ne<he;ne++){const de=H[ne];if(de){if(de.type===0){J=!0;continue}if(de.type===1)return C.INSTANCE;if(de.type===9){Z=Z.concat(de.expr);continue}Z.push(de)}}if(Z.length===0&&J)return u.INSTANCE;Z.sort(l)}if(Z.length!==0){if(Z.length===1)return Z[0];for(let ne=1;ne<Z.length;ne++)Z[ne-1].equals(Z[ne])&&(Z.splice(ne,1),ne--);if(Z.length===1)return Z[0];if(K){for(let ne=0;ne<Z.length;ne++)for(let he=ne+1;he<Z.length;he++)if(Z[ne].negate().equals(Z[he]))return C.INSTANCE;if(Z.length===1)return Z[0]}return new z(Z,B)}}serialize(){return this.expr.map(H=>H.serialize()).join(" || ")}keys(){const H=[];for(const B of this.expr)H.push(...B.keys());return H}negate(){if(!this.negated){const H=[];for(const B of this.expr)H.push(B.negate());for(;H.length>1;){const B=H.shift(),K=H.shift(),Z=[];for(const J of oe(B))for(const ne of oe(K))Z.push(W.create([J,ne],null,!1));H.unshift(z.create(Z,null,!1))}this.negated=z.create(H,this,!0)}return this.negated}}e.ContextKeyOrExpr=z;class U extends g{static all(){return U._info.values()}constructor(H,B,K){super(H,null),this._defaultValue=B,typeof K=="object"?U._info.push(Object.assign(Object.assign({},K),{key:H})):K!==!0&&U._info.push({key:H,description:K,type:B!=null?typeof B:void 0})}bindTo(H){return H.createKey(this.key,this._defaultValue)}getValue(H){return H.getContextKeyValue(this.key)}toNegated(){return this.negate()}isEqualTo(H){return v.create(this.key,H)}}e.RawContextKey=U,U._info=[],e.IContextKeyService=(0,D.createDecorator)("contextKeyService");function O(te,H){return te<H?-1:te>H?1:0}function G(te,H,B,K){return te<B?-1:te>B?1:H<K?-1:H>K?1:0}function Q(te,H){if(te.type===0||H.type===1)return!0;if(te.type===9)return H.type===9?re(te.expr,H.expr):!1;if(H.type===9){for(const B of H.expr)if(Q(te,B))return!0;return!1}if(te.type===6){if(H.type===6)return re(H.expr,te.expr);for(const B of te.expr)if(Q(B,H))return!0;return!1}return te.equals(H)}e.implies=Q;function re(te,H){let B=0,K=0;for(;B<te.length&&K<H.length;){const Z=te[B].cmp(H[K]);if(Z<0)return!1;Z===0&&B++,K++}return B===te.length}function oe(te){return te.type===9?te.expr:[te]}}),define(X[22],ee([1,0,619,13]),function(q,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorContextKeys=void 0;var y;(function(D){D.editorSimpleInput=new k.RawContextKey("editorSimpleInput",!1,!0),D.editorTextFocus=new k.RawContextKey("editorTextFocus",!1,L.localize(0,null)),D.focus=new k.RawContextKey("editorFocus",!1,L.localize(1,null)),D.textInputFocus=new k.RawContextKey("textInputFocus",!1,L.localize(2,null)),D.readOnly=new k.RawContextKey("editorReadonly",!1,L.localize(3,null)),D.inDiffEditor=new k.RawContextKey("inDiffEditor",!1,L.localize(4,null)),D.isEmbeddedDiffEditor=new k.RawContextKey("isEmbeddedDiffEditor",!1,L.localize(5,null)),D.columnSelection=new k.RawContextKey("editorColumnSelection",!1,L.localize(6,null)),D.writable=D.readOnly.toNegated(),D.hasNonEmptySelection=new k.RawContextKey("editorHasSelection",!1,L.localize(7,null)),D.hasOnlyEmptySelection=D.hasNonEmptySelection.toNegated(),D.hasMultipleSelections=new k.RawContextKey("editorHasMultipleSelections",!1,L.localize(8,null)),D.hasSingleSelection=D.hasMultipleSelections.toNegated(),D.tabMovesFocus=new k.RawContextKey("editorTabMovesFocus",!1,L.localize(9,null)),D.tabDoesNotMoveFocus=D.tabMovesFocus.toNegated(),D.isInWalkThroughSnippet=new k.RawContextKey("isInEmbeddedEditor",!1,!0),D.canUndo=new k.RawContextKey("canUndo",!1,!0),D.canRedo=new k.RawContextKey("canRedo",!1,!0),D.hoverVisible=new k.RawContextKey("editorHoverVisible",!1,L.localize(10,null)),D.hoverFocused=new k.RawContextKey("editorHoverFocused",!1,L.localize(11,null)),D.stickyScrollFocused=new k.RawContextKey("stickyScrollFocused",!1,L.localize(12,null)),D.stickyScrollVisible=new k.RawContextKey("stickyScrollVisible",!1,L.localize(13,null)),D.standaloneColorPickerVisible=new k.RawContextKey("standaloneColorPickerVisible",!1,L.localize(14,null)),D.standaloneColorPickerFocused=new k.RawContextKey("standaloneColorPickerFocused",!1,L.localize(15,null)),D.inCompositeEditor=new k.RawContextKey("inCompositeEditor",void 0,L.localize(16,null)),D.notInCompositeEditor=D.inCompositeEditor.toNegated(),D.languageId=new k.RawContextKey("editorLangId","",L.localize(17,null)),D.hasCompletionItemProvider=new k.RawContextKey("editorHasCompletionItemProvider",!1,L.localize(18,null)),D.hasCodeActionsProvider=new k.RawContextKey("editorHasCodeActionsProvider",!1,L.localize(19,null)),D.hasCodeLensProvider=new k.RawContextKey("editorHasCodeLensProvider",!1,L.localize(20,null)),D.hasDefinitionProvider=new k.RawContextKey("editorHasDefinitionProvider",!1,L.localize(21,null)),D.hasDeclarationProvider=new k.RawContextKey("editorHasDeclarationProvider",!1,L.localize(22,null)),D.hasImplementationProvider=new k.RawContextKey("editorHasImplementationProvider",!1,L.localize(23,null)),D.hasTypeDefinitionProvider=new k.RawContextKey("editorHasTypeDefinitionProvider",!1,L.localize(24,null)),D.hasHoverProvider=new k.RawContextKey("editorHasHoverProvider",!1,L.localize(25,null)),D.hasDocumentHighlightProvider=new k.RawContextKey("editorHasDocumentHighlightProvider",!1,L.localize(26,null)),D.hasDocumentSymbolProvider=new k.RawContextKey("editorHasDocumentSymbolProvider",!1,L.localize(27,null)),D.hasReferenceProvider=new k.RawContextKey("editorHasReferenceProvider",!1,L.localize(28,null)),D.hasRenameProvider=new k.RawContextKey("editorHasRenameProvider",!1,L.localize(29,null)),D.hasSignatureHelpProvider=new k.RawContextKey("editorHasSignatureHelpProvider",!1,L.localize(30,null)),D.hasInlayHintsProvider=new k.RawContextKey("editorHasInlayHintsProvider",!1,L.localize(31,null)),D.hasDocumentFormattingProvider=new k.RawContextKey("editorHasDocumentFormattingProvider",!1,L.localize(32,null)),D.hasDocumentSelectionFormattingProvider=new k.RawContextKey("editorHasDocumentSelectionFormattingProvider",!1,L.localize(33,null)),D.hasMultipleDocumentFormattingProvider=new k.RawContextKey("editorHasMultipleDocumentFormattingProvider",!1,L.localize(34,null)),D.hasMultipleDocumentSelectionFormattingProvider=new k.RawContextKey("editorHasMultipleDocumentSelectionFormattingProvider",!1,L.localize(35,null))})(y||(e.EditorContextKeys=y={}))}),define(X[236],ee([1,0,42,9,81,13,2,670]),function(q,e,L,k,y,D,S,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlineCompletionContextKeys=void 0;class _ extends S.Disposable{constructor(p,s){super(),this.contextKeyService=p,this.model=s,this.inlineCompletionVisible=_.inlineSuggestionVisible.bindTo(this.contextKeyService),this.inlineCompletionSuggestsIndentation=_.inlineSuggestionHasIndentation.bindTo(this.contextKeyService),this.inlineCompletionSuggestsIndentationLessThanTabSize=_.inlineSuggestionHasIndentationLessThanTabSize.bindTo(this.contextKeyService),this.suppressSuggestions=_.suppressSuggestions.bindTo(this.contextKeyService),this._register((0,L.autorun)("update context key: inlineCompletionVisible, suppressSuggestions",t=>{const i=this.model.read(t),o=i?.selectedInlineCompletion.read(t),r=i?.ghostText.read(t),d=i?.selectedSuggestItem.read(t);this.inlineCompletionVisible.set(d===void 0&&r!==void 0&&!r.isEmpty()),r&&o&&this.suppressSuggestions.set(o.inlineCompletion.source.inlineCompletions.suppressSuggestions)})),this._register((0,L.autorun)("update context key: inlineCompletionSuggestsIndentation, inlineCompletionSuggestsIndentationLessThanTabSize",t=>{const i=this.model.read(t);let o=!1,r=!0;const d=i?.ghostText.read(t);if(i?.selectedSuggestItem&&d&&d.parts.length>0){const{column:h,lines:n}=d.parts[0],c=n[0],a=i.textModel.getLineIndentColumn(d.lineNumber);if(h<=a){let u=(0,k.firstNonWhitespaceIndex)(c);u===-1&&(u=c.length-1),o=u>0;const C=i.textModel.getOptions().tabSize;r=y.CursorColumns.visibleColumnFromColumn(c,u+1,C)<C}}this.inlineCompletionSuggestsIndentation.set(o),this.inlineCompletionSuggestsIndentationLessThanTabSize.set(r)}))}}e.InlineCompletionContextKeys=_,_.inlineSuggestionVisible=new D.RawContextKey("inlineSuggestionVisible",!1,(0,m.localize)(0,null)),_.inlineSuggestionHasIndentation=new D.RawContextKey("inlineSuggestionHasIndentation",!1,(0,m.localize)(1,null)),_.inlineSuggestionHasIndentationLessThanTabSize=new D.RawContextKey("inlineSuggestionHasIndentationLessThanTabSize",!0,(0,m.localize)(2,null)),_.suppressSuggestions=new D.RawContextKey("inlineSuggestionSuppressSuggestions",void 0,(0,m.localize)(3,null))}),define(X[237],ee([1,0,20,12,18,21,11,29,19,68,26,13]),function(q,e,L,k,y,D,S,m,_,f,p,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.provideSignatureHelp=e.Context=void 0,e.Context={Visible:new s.RawContextKey("parameterHintsVisible",!1),MultipleSignatures:new s.RawContextKey("parameterHintsMultipleSignatures",!1)};function t(i,o,r,d,h){return Le(this,void 0,void 0,function*(){const n=i.ordered(o);for(const c of n)try{const a=yield c.provideSignatureHelp(o,r,h,d);if(a)return a}catch(a){(0,k.onUnexpectedExternalError)(a)}})}e.provideSignatureHelp=t,p.CommandsRegistry.registerCommand("_executeSignatureHelpProvider",(i,...o)=>Le(void 0,void 0,void 0,function*(){const[r,d,h]=o;(0,y.assertType)(D.URI.isUri(r)),(0,y.assertType)(S.Position.isIPosition(d)),(0,y.assertType)(typeof h=="string"||!h);const n=i.get(_.ILanguageFeaturesService),c=yield i.get(f.ITextModelService).createModelReference(r);try{const a=yield t(n.signatureHelpProvider,c.object.textEditorModel,S.Position.lift(d),{triggerKind:m.SignatureHelpTriggerKind.Invoke,isRetrigger:!1,triggerCharacter:h},L.CancellationToken.None);return a?(setTimeout(()=>a.dispose(),0),a.value):void 0}finally{c.dispose()}}))}),define(X[742],ee([1,0,14,12,6,2,119,29,237]),function(q,e,L,k,y,D,S,m,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ParameterHintsModel=void 0;var f;(function(t){t.Default={type:0};class i{constructor(d,h){this.request=d,this.previouslyActiveHints=h,this.type=2}}t.Pending=i;class o{constructor(d){this.hints=d,this.type=1}}t.Active=o})(f||(f={}));class p extends D.Disposable{constructor(i,o,r=p.DEFAULT_DELAY){super(),this._onChangedHints=this._register(new y.Emitter),this.onChangedHints=this._onChangedHints.event,this.triggerOnType=!1,this._state=f.Default,this._pendingTriggers=[],this._lastSignatureHelpResult=this._register(new D.MutableDisposable),this.triggerChars=new S.CharacterSet,this.retriggerChars=new S.CharacterSet,this.triggerId=0,this.editor=i,this.providers=o,this.throttledDelayer=new L.Delayer(r),this._register(this.editor.onDidBlurEditorWidget(()=>this.cancel())),this._register(this.editor.onDidChangeConfiguration(()=>this.onEditorConfigurationChange())),this._register(this.editor.onDidChangeModel(d=>this.onModelChanged())),this._register(this.editor.onDidChangeModelLanguage(d=>this.onModelChanged())),this._register(this.editor.onDidChangeCursorSelection(d=>this.onCursorChange(d))),this._register(this.editor.onDidChangeModelContent(d=>this.onModelContentChange())),this._register(this.providers.onDidChange(this.onModelChanged,this)),this._register(this.editor.onDidType(d=>this.onDidType(d))),this.onEditorConfigurationChange(),this.onModelChanged()}get state(){return this._state}set state(i){this._state.type===2&&this._state.request.cancel(),this._state=i}cancel(i=!1){this.state=f.Default,this.throttledDelayer.cancel(),i||this._onChangedHints.fire(void 0)}trigger(i,o){const r=this.editor.getModel();if(!r||!this.providers.has(r))return;const d=++this.triggerId;this._pendingTriggers.push(i),this.throttledDelayer.trigger(()=>this.doTrigger(d),o).catch(k.onUnexpectedError)}next(){if(this.state.type!==1)return;const i=this.state.hints.signatures.length,o=this.state.hints.activeSignature,r=o%i===i-1,d=this.editor.getOption(83).cycle;if((i<2||r)&&!d){this.cancel();return}this.updateActiveSignature(r&&d?0:o+1)}previous(){if(this.state.type!==1)return;const i=this.state.hints.signatures.length,o=this.state.hints.activeSignature,r=o===0,d=this.editor.getOption(83).cycle;if((i<2||r)&&!d){this.cancel();return}this.updateActiveSignature(r&&d?i-1:o-1)}updateActiveSignature(i){this.state.type===1&&(this.state=new f.Active(Object.assign(Object.assign({},this.state.hints),{activeSignature:i})),this._onChangedHints.fire(this.state.hints))}doTrigger(i){return Le(this,void 0,void 0,function*(){const o=this.state.type===1||this.state.type===2,r=this.getLastActiveHints();if(this.cancel(!0),this._pendingTriggers.length===0)return!1;const d=this._pendingTriggers.reduce(s);this._pendingTriggers=[];const h={triggerKind:d.triggerKind,triggerCharacter:d.triggerCharacter,isRetrigger:o,activeSignatureHelp:r};if(!this.editor.hasModel())return!1;const n=this.editor.getModel(),c=this.editor.getPosition();this.state=new f.Pending((0,L.createCancelablePromise)(a=>(0,_.provideSignatureHelp)(this.providers,n,c,h,a)),r);try{const a=yield this.state.request;return i!==this.triggerId?(a?.dispose(),!1):!a||!a.value.signatures||a.value.signatures.length===0?(a?.dispose(),this._lastSignatureHelpResult.clear(),this.cancel(),!1):(this.state=new f.Active(a.value),this._lastSignatureHelpResult.value=a,this._onChangedHints.fire(this.state.hints),!0)}catch(a){return i===this.triggerId&&(this.state=f.Default),(0,k.onUnexpectedError)(a),!1}})}getLastActiveHints(){switch(this.state.type){case 1:return this.state.hints;case 2:return this.state.previouslyActiveHints;default:return}}get isTriggered(){return this.state.type===1||this.state.type===2||this.throttledDelayer.isTriggered()}onModelChanged(){this.cancel(),this.triggerChars.clear(),this.retriggerChars.clear();const i=this.editor.getModel();if(i)for(const o of this.providers.ordered(i)){for(const r of o.signatureHelpTriggerCharacters||[])if(r.length){const d=r.charCodeAt(0);this.triggerChars.add(d),this.retriggerChars.add(d)}for(const r of o.signatureHelpRetriggerCharacters||[])r.length&&this.retriggerChars.add(r.charCodeAt(0))}}onDidType(i){if(!this.triggerOnType)return;const o=i.length-1,r=i.charCodeAt(o);(this.triggerChars.has(r)||this.isTriggered&&this.retriggerChars.has(r))&&this.trigger({triggerKind:m.SignatureHelpTriggerKind.TriggerCharacter,triggerCharacter:i.charAt(o)})}onCursorChange(i){i.source==="mouse"?this.cancel():this.isTriggered&&this.trigger({triggerKind:m.SignatureHelpTriggerKind.ContentChange})}onModelContentChange(){this.isTriggered&&this.trigger({triggerKind:m.SignatureHelpTriggerKind.ContentChange})}onEditorConfigurationChange(){this.triggerOnType=this.editor.getOption(83).enabled,this.triggerOnType||this.cancel()}dispose(){this.cancel(!0),super.dispose()}}e.ParameterHintsModel=p,p.DEFAULT_DELAY=120;function s(t,i){switch(i.triggerKind){case m.SignatureHelpTriggerKind.Invoke:return i;case m.SignatureHelpTriggerKind.ContentChange:return t;case m.SignatureHelpTriggerKind.TriggerCharacter:default:return i}}}),define(X[743],ee([1,0,13]),function(q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestAlternatives=void 0;let k=e.SuggestAlternatives=class Qt{constructor(D,S){this._editor=D,this._index=0,this._ckOtherSuggestions=Qt.OtherSuggestions.bindTo(S)}dispose(){this.reset()}reset(){var D;this._ckOtherSuggestions.reset(),(D=this._listener)===null||D===void 0||D.dispose(),this._model=void 0,this._acceptNext=void 0,this._ignore=!1}set({model:D,index:S},m){if(D.items.length===0){this.reset();return}if(Qt._moveIndex(!0,D,S)===S){this.reset();return}this._acceptNext=m,this._model=D,this._index=S,this._listener=this._editor.onDidChangeCursorPosition(()=>{this._ignore||this.reset()}),this._ckOtherSuggestions.set(!0)}static _moveIndex(D,S,m){let _=m;for(let f=S.items.length;f>0&&(_=(_+S.items.length+(D?1:-1))%S.items.length,!(_===m||!S.items[_].completion.additionalTextEdits));f--);return _}next(){this._move(!0)}prev(){this._move(!1)}_move(D){if(this._model)try{this._ignore=!0,this._index=Qt._moveIndex(D,this._model,this._index),this._acceptNext({index:this._index,item:this._model.items[this._index],model:this._model})}finally{this._ignore=!1}}};k.OtherSuggestions=new L.RawContextKey("hasOtherSuggestions",!1),e.SuggestAlternatives=k=Ne([ge(1,L.IContextKeyService)],k)}),define(X[744],ee([1,0,13]),function(q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WordContextKey=void 0;let k=e.WordContextKey=class Bi{constructor(D,S){this._editor=D,this._enabled=!1,this._ckAtEnd=Bi.AtEnd.bindTo(S),this._configListener=this._editor.onDidChangeConfiguration(m=>m.hasChanged(120)&&this._update()),this._update()}dispose(){var D;this._configListener.dispose(),(D=this._selectionListener)===null||D===void 0||D.dispose(),this._ckAtEnd.reset()}_update(){const D=this._editor.getOption(120)==="on";if(this._enabled!==D)if(this._enabled=D,this._enabled){const S=()=>{if(!this._editor.hasModel()){this._ckAtEnd.set(!1);return}const m=this._editor.getModel(),_=this._editor.getSelection(),f=m.getWordAtPosition(_.getStartPosition());if(!f){this._ckAtEnd.set(!1);return}this._ckAtEnd.set(f.endColumn===_.getStartPosition().column)};this._selectionListener=this._editor.onDidChangeCursorSelection(S),S()}else this._selectionListener&&(this._ckAtEnd.reset(),this._selectionListener.dispose(),this._selectionListener=void 0)}};k.AtEnd=new L.RawContextKey("atEndOfWord",!1),e.WordContextKey=k=Ne([ge(1,L.IContextKeyService)],k)}),define(X[96],ee([1,0,13,8]),function(q,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CONTEXT_ACCESSIBILITY_MODE_ENABLED=e.IAccessibilityService=void 0,e.IAccessibilityService=(0,k.createDecorator)("accessibilityService"),e.CONTEXT_ACCESSIBILITY_MODE_ENABLED=new L.RawContextKey("accessibilityModeEnabled",!1)}),define(X[745],ee([1,0,51,16,6,2,46,17,199,322,471,200,35,144,232,96]),function(q,e,L,k,y,D,S,m,_,f,p,s,t,i,o,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ComputedEditorOptions=e.EditorConfiguration=void 0;let d=e.EditorConfiguration=class extends D.Disposable{constructor(g,v,b,w){super(),this._accessibilityService=w,this._onDidChange=this._register(new y.Emitter),this.onDidChange=this._onDidChange.event,this._onDidChangeFast=this._register(new y.Emitter),this.onDidChangeFast=this._onDidChangeFast.event,this._isDominatedByLongLines=!1,this._viewLineCount=1,this._lineNumbersDigitCount=1,this._reservedHeight=0,this._glyphMarginDecorationLaneCount=1,this._computeOptionsMemory=new t.ComputeOptionsMemory,this.isSimpleWidget=g,this._containerObserver=this._register(new _.ElementSizeObserver(b,v.dimension)),this._rawOptions=u(v),this._validatedOptions=l.validateOptions(this._rawOptions),this.options=this._computeOptions(),this.options.get(11)&&this._containerObserver.startObserving(),this._register(i.EditorZoom.onDidChangeZoomLevel(()=>this._recomputeOptions())),this._register(s.TabFocus.onDidChangeTabFocus(()=>this._recomputeOptions())),this._register(this._containerObserver.onDidChange(()=>this._recomputeOptions())),this._register(f.FontMeasurements.onDidChange(()=>this._recomputeOptions())),this._register(L.PixelRatio.onDidChange(()=>this._recomputeOptions())),this._register(this._accessibilityService.onDidChangeScreenReaderOptimized(()=>this._recomputeOptions()))}_recomputeOptions(){const g=this._computeOptions(),v=l.checkEquals(this.options,g);v!==null&&(this.options=g,this._onDidChangeFast.fire(v),this._onDidChange.fire(v))}_computeOptions(){const g=this._readEnvConfiguration(),v=o.BareFontInfo.createFromValidatedSettings(this._validatedOptions,g.pixelRatio,this.isSimpleWidget),b=this._readFontInfo(v),w={memory:this._computeOptionsMemory,outerWidth:g.outerWidth,outerHeight:g.outerHeight-this._reservedHeight,fontInfo:b,extraEditorClassName:g.extraEditorClassName,isDominatedByLongLines:this._isDominatedByLongLines,viewLineCount:this._viewLineCount,lineNumbersDigitCount:this._lineNumbersDigitCount,emptySelectionClipboard:g.emptySelectionClipboard,pixelRatio:g.pixelRatio,tabFocusMode:s.TabFocus.getTabFocusMode("editorFocus"),accessibilitySupport:g.accessibilitySupport,glyphMarginDecorationLaneCount:this._glyphMarginDecorationLaneCount};return l.computeOptions(this._validatedOptions,w)}_readEnvConfiguration(){return{extraEditorClassName:n(),outerWidth:this._containerObserver.getWidth(),outerHeight:this._containerObserver.getHeight(),emptySelectionClipboard:L.isWebKit||L.isFirefox,pixelRatio:L.PixelRatio.value,accessibilitySupport:this._accessibilityService.isScreenReaderOptimized()?2:this._accessibilityService.getAccessibilitySupport()}}_readFontInfo(g){return f.FontMeasurements.readFontInfo(g)}getRawOptions(){return this._rawOptions}updateOptions(g){const v=u(g);l.applyUpdate(this._rawOptions,v)&&(this._validatedOptions=l.validateOptions(this._rawOptions),this._recomputeOptions())}observeContainer(g){this._containerObserver.observe(g)}setIsDominatedByLongLines(g){this._isDominatedByLongLines!==g&&(this._isDominatedByLongLines=g,this._recomputeOptions())}setModelLineCount(g){const v=h(g);this._lineNumbersDigitCount!==v&&(this._lineNumbersDigitCount=v,this._recomputeOptions())}setViewLineCount(g){this._viewLineCount!==g&&(this._viewLineCount=g,this._recomputeOptions())}setReservedHeight(g){this._reservedHeight!==g&&(this._reservedHeight=g,this._recomputeOptions())}setGlyphMarginDecorationLaneCount(g){this._glyphMarginDecorationLaneCount!==g&&(this._glyphMarginDecorationLaneCount=g,this._recomputeOptions())}};e.EditorConfiguration=d=Ne([ge(3,r.IAccessibilityService)],d);function h(C){let g=0;for(;C;)C=Math.floor(C/10),g++;return g||1}function n(){let C="";return!L.isSafari&&!L.isWebkitWebView&&(C+="no-user-select "),L.isSafari&&(C+="no-minimap-shadow ",C+="enable-user-select "),m.isMacintosh&&(C+="mac "),C}class c{constructor(){this._values=[]}_read(g){return this._values[g]}get(g){return this._values[g]}_write(g,v){this._values[g]=v}}class a{constructor(){this._values=[]}_read(g){if(g>=this._values.length)throw new Error("Cannot read uninitialized value");return this._values[g]}get(g){return this._read(g)}_write(g,v){this._values[g]=v}}e.ComputedEditorOptions=a;class l{static validateOptions(g){const v=new c;for(const b of t.editorOptionsRegistry){const w=b.name==="_never_"?void 0:g[b.name];v._write(b.id,b.validate(w))}return v}static computeOptions(g,v){const b=new a;for(const w of t.editorOptionsRegistry)b._write(w.id,w.compute(v,b,g._read(w.id)));return b}static _deepEquals(g,v){if(typeof g!="object"||typeof v!="object"||!g||!v)return g===v;if(Array.isArray(g)||Array.isArray(v))return Array.isArray(g)&&Array.isArray(v)?k.equals(g,v):!1;if(Object.keys(g).length!==Object.keys(v).length)return!1;for(const b in g)if(!l._deepEquals(g[b],v[b]))return!1;return!0}static checkEquals(g,v){const b=[];let w=!1;for(const E of t.editorOptionsRegistry){const I=!l._deepEquals(g._read(E.id),v._read(E.id));b[E.id]=I,I&&(w=!0)}return w?new t.ConfigurationChangedEvent(b):null}static applyUpdate(g,v){let b=!1;for(const w of t.editorOptionsRegistry)if(v.hasOwnProperty(w.name)){const E=w.applyUpdate(g[w.name],v[w.name]);g[w.name]=E.newValue,b=b||E.didChange}return b}}function u(C){const g=S.deepClone(C);return(0,p.migrateOptions)(g),g}}),define(X[238],ee([1,0,84,6,2,46,5,156,32,96]),function(q,e,L,k,y,D,S,m,_,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiffNavigator=void 0;const p={followsCaret:!0,ignoreCharChanges:!0,alwaysRevealFirst:!0,findResultLoop:!0};let s=e.DiffNavigator=class extends y.Disposable{constructor(i,o={},r,d,h){super(),this._audioCueService=r,this._codeEditorService=d,this._accessibilityService=h,this._onDidUpdate=this._register(new k.Emitter),this._editor=i,this._options=D.mixin(o,p,!1),this.disposed=!1,this.nextIdx=-1,this.ranges=[],this.ignoreSelectionChange=!1,this.revealFirst=!!this._options.alwaysRevealFirst,this._register(this._editor.onDidUpdateDiff(()=>this._onDiffUpdated())),this._options.followsCaret&&this._register(this._editor.getModifiedEditor().onDidChangeCursorPosition(n=>{this.ignoreSelectionChange||(this._updateAccessibilityState(n.position.lineNumber),this.nextIdx=-1)})),this._init()}_init(){this._editor.getLineChanges()}_onDiffUpdated(){this._init(),this._compute(this._editor.getLineChanges()),this.revealFirst&&this._editor.getLineChanges()!==null&&(this.revealFirst=!1,this.nextIdx=-1,this.next(1))}_compute(i){this.ranges=[],i&&i.forEach(o=>{!this._options.ignoreCharChanges&&o.charChanges?o.charChanges.forEach(r=>{this.ranges.push({rhs:!0,range:new S.Range(r.modifiedStartLineNumber,r.modifiedStartColumn,r.modifiedEndLineNumber,r.modifiedEndColumn)})}):o.modifiedEndLineNumber===0?this.ranges.push({rhs:!0,range:new S.Range(o.modifiedStartLineNumber,1,o.modifiedStartLineNumber+1,1)}):this.ranges.push({rhs:!0,range:new S.Range(o.modifiedStartLineNumber,1,o.modifiedEndLineNumber+1,1)})}),this.ranges.sort((o,r)=>S.Range.compareRangesUsingStarts(o.range,r.range)),this._onDidUpdate.fire(this)}_initIdx(i){let o=!1;const r=this._editor.getPosition();if(!r){this.nextIdx=0;return}for(let d=0,h=this.ranges.length;d<h&&!o;d++){const n=this.ranges[d].range;r.isBeforeOrEqual(n.getStartPosition())&&(this.nextIdx=d+(i?0:-1),o=!0)}o||(this.nextIdx=i?0:this.ranges.length-1),this.nextIdx<0&&(this.nextIdx=this.ranges.length-1)}_move(i,o){if(L.ok(!this.disposed,"Illegal State - diff navigator has been disposed"),!this.canNavigate())return;this.nextIdx===-1?this._initIdx(i):i?(this.nextIdx+=1,this.nextIdx>=this.ranges.length&&(this.nextIdx=0)):(this.nextIdx-=1,this.nextIdx<0&&(this.nextIdx=this.ranges.length-1));const r=this.ranges[this.nextIdx];this.ignoreSelectionChange=!0;try{const d=r.range.getStartPosition();this._editor.setPosition(d),this._editor.revealRangeInCenter(r.range,o),this._updateAccessibilityState(d.lineNumber,!0)}finally{this.ignoreSelectionChange=!1}}_updateAccessibilityState(i,o){var r;const d=(r=this._editor.getModel())===null||r===void 0?void 0:r.modified;if(!d)return;const h=d.getLineDecorations(i).find(c=>c.options.className==="line-insert");if(h)this._audioCueService.playAudioCue(m.AudioCue.diffLineModified,!0);else if(o)this._audioCueService.playAudioCue(m.AudioCue.diffLineDeleted,!0);else return;const n=this._codeEditorService.getActiveCodeEditor();o&&n&&h&&this._accessibilityService.isScreenReaderOptimized()&&(n.setSelection({startLineNumber:i,startColumn:0,endLineNumber:i,endColumn:Number.MAX_VALUE}),n.writeScreenReaderContent("diff-navigation"))}canNavigate(){return this.ranges&&this.ranges.length>0}next(i=0){this.canNavigateNext()&&this._move(!0,i)}previous(i=0){this.canNavigatePrevious()&&this._move(!1,i)}canNavigateNext(){return this.canNavigateLoop()||this.nextIdx<this.ranges.length-1}canNavigatePrevious(){return this.canNavigateLoop()||this.nextIdx!==0}canNavigateLoop(){return!!this._options.findResultLoop}dispose(){super.dispose(),this.ranges=[],this.disposed=!0}};e.DiffNavigator=s=Ne([ge(2,m.IAudioCueService),ge(3,_.ICodeEditorService),ge(4,f.IAccessibilityService)],s)}),define(X[746],ee([1,0,6,50,2,46,197,21,712,26,28,13]),function(q,e,L,k,y,D,S,m,_,f,p,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setContext=e.ContextKeyService=e.AbstractContextKeyService=e.Context=void 0;const t="data-keybinding-context";class i{constructor(E,I){this._id=E,this._parent=I,this._value=Object.create(null),this._value._contextId=E}get value(){return Object.assign({},this._value)}setValue(E,I){return this._value[E]!==I?(this._value[E]=I,!0):!1}removeValue(E){return E in this._value?(delete this._value[E],!0):!1}getValue(E){const I=this._value[E];return typeof I>"u"&&this._parent?this._parent.getValue(E):I}}e.Context=i;class o extends i{constructor(){super(-1,null)}setValue(E,I){return!1}removeValue(E){return!1}getValue(E){}}o.INSTANCE=new o;class r extends i{constructor(E,I,T){super(E,null),this._configurationService=I,this._values=S.TernarySearchTree.forConfigKeys(),this._listener=this._configurationService.onDidChangeConfiguration(P=>{if(P.source===7){const A=Array.from(this._values,([M])=>M);this._values.clear(),T.fire(new n(A))}else{const A=[];for(const M of P.affectedKeys){const N=`config.${M}`,R=this._values.findSuperstr(N);R!==void 0&&(A.push(...k.Iterable.map(R,([F])=>F)),this._values.deleteSuperstr(N)),this._values.has(N)&&(A.push(N),this._values.delete(N))}T.fire(new n(A))}})}dispose(){this._listener.dispose()}getValue(E){if(E.indexOf(r._keyPrefix)!==0)return super.getValue(E);if(this._values.has(E))return this._values.get(E);const I=E.substr(r._keyPrefix.length),T=this._configurationService.getValue(I);let P;switch(typeof T){case"number":case"boolean":case"string":P=T;break;default:Array.isArray(T)?P=JSON.stringify(T):P=T}return this._values.set(E,P),P}setValue(E,I){return super.setValue(E,I)}removeValue(E){return super.removeValue(E)}}r._keyPrefix="config.";class d{constructor(E,I,T){this._service=E,this._key=I,this._defaultValue=T,this.reset()}set(E){this._service.setContext(this._key,E)}reset(){typeof this._defaultValue>"u"?this._service.removeContext(this._key):this._service.setContext(this._key,this._defaultValue)}get(){return this._service.getContextKeyValue(this._key)}}class h{constructor(E){this.key=E}affectsSome(E){return E.has(this.key)}allKeysContainedIn(E){return this.affectsSome(E)}}class n{constructor(E){this.keys=E}affectsSome(E){for(const I of this.keys)if(E.has(I))return!0;return!1}allKeysContainedIn(E){return this.keys.every(I=>E.has(I))}}class c{constructor(E){this.events=E}affectsSome(E){for(const I of this.events)if(I.affectsSome(E))return!0;return!1}allKeysContainedIn(E){return this.events.every(I=>I.allKeysContainedIn(E))}}function a(w,E){return w.allKeysContainedIn(new Set(Object.keys(E)))}class l{constructor(E){this._onDidChangeContext=new L.PauseableEmitter({merge:I=>new c(I)}),this.onDidChangeContext=this._onDidChangeContext.event,this._isDisposed=!1,this._myContextId=E}createKey(E,I){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new d(this,E,I)}bufferChangeEvents(E){this._onDidChangeContext.pause();try{E()}finally{this._onDidChangeContext.resume()}}createScoped(E){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new C(this,E)}contextMatchesRules(E){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");const I=this.getContextValuesContainer(this._myContextId);return E?E.evaluate(I):!0}getContextKeyValue(E){if(!this._isDisposed)return this.getContextValuesContainer(this._myContextId).getValue(E)}setContext(E,I){if(this._isDisposed)return;const T=this.getContextValuesContainer(this._myContextId);T&&T.setValue(E,I)&&this._onDidChangeContext.fire(new h(E))}removeContext(E){this._isDisposed||this.getContextValuesContainer(this._myContextId).removeValue(E)&&this._onDidChangeContext.fire(new h(E))}getContext(E){return this._isDisposed?o.INSTANCE:this.getContextValuesContainer(g(E))}}e.AbstractContextKeyService=l;let u=e.ContextKeyService=class extends l{constructor(E){super(0),this._contexts=new Map,this._toDispose=new y.DisposableStore,this._lastContextId=0;const I=new r(this._myContextId,E,this._onDidChangeContext);this._contexts.set(this._myContextId,I),this._toDispose.add(I)}dispose(){this._onDidChangeContext.dispose(),this._isDisposed=!0,this._toDispose.dispose()}getContextValuesContainer(E){return this._isDisposed?o.INSTANCE:this._contexts.get(E)||o.INSTANCE}createChildContext(E=this._myContextId){if(this._isDisposed)throw new Error("ContextKeyService has been disposed");const I=++this._lastContextId;return this._contexts.set(I,new i(I,this.getContextValuesContainer(E))),I}disposeContext(E){this._isDisposed||this._contexts.delete(E)}};e.ContextKeyService=u=Ne([ge(0,p.IConfigurationService)],u);class C extends l{constructor(E,I){if(super(E.createChildContext()),this._parentChangeListener=new y.MutableDisposable,this._parent=E,this._updateParentChangeListener(),this._domNode=I,this._domNode.hasAttribute(t)){let T="";this._domNode.classList&&(T=Array.from(this._domNode.classList.values()).join(", ")),console.error(`Element already has context attribute${T?": "+T:""}`)}this._domNode.setAttribute(t,String(this._myContextId))}_updateParentChangeListener(){this._parentChangeListener.value=this._parent.onDidChangeContext(E=>{const T=this._parent.getContextValuesContainer(this._myContextId).value;a(E,T)||this._onDidChangeContext.fire(E)})}dispose(){this._isDisposed||(this._onDidChangeContext.dispose(),this._parent.disposeContext(this._myContextId),this._parentChangeListener.dispose(),this._domNode.removeAttribute(t),this._isDisposed=!0)}getContextValuesContainer(E){return this._isDisposed?o.INSTANCE:this._parent.getContextValuesContainer(E)}createChildContext(E=this._myContextId){if(this._isDisposed)throw new Error("ScopedContextKeyService has been disposed");return this._parent.createChildContext(E)}disposeContext(E){this._isDisposed||this._parent.disposeContext(E)}}function g(w){for(;w;){if(w.hasAttribute(t)){const E=w.getAttribute(t);return E?parseInt(E,10):NaN}w=w.parentElement}return 0}function v(w,E,I){w.get(s.IContextKeyService).createKey(String(E),b(I))}e.setContext=v;function b(w){return(0,D.cloneAndChange)(w,E=>{if(typeof E=="object"&&E.$mid===1)return m.URI.revive(E).toString();if(E instanceof m.URI)return E.toString()})}f.CommandsRegistry.registerCommand("_setContext",v),f.CommandsRegistry.registerCommand({id:"getContextKeyInfo",handler(){return[...s.RawContextKey.all()].sort((w,E)=>w.key.localeCompare(E.key))},description:{description:(0,_.localize)(0,null),args:[]}}),f.CommandsRegistry.registerCommand("_generateContextKeyInfo",function(){const w=[],E=new Set;for(const I of s.RawContextKey.all())E.has(I.key)||(E.add(I.key),w.push(I));w.sort((I,T)=>I.key.localeCompare(T.key)),console.log(JSON.stringify(w,void 0,2))})}),define(X[239],ee([1,0,17,714,13]),function(q,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InputFocusedContext=e.InputFocusedContextKey=e.ProductQualityContext=e.IsDevelopmentContext=e.IsMobileContext=e.IsIOSContext=e.IsMacNativeContext=e.IsWebContext=e.IsWindowsContext=e.IsLinuxContext=e.IsMacContext=void 0,e.IsMacContext=new y.RawContextKey("isMac",L.isMacintosh,(0,k.localize)(0,null)),e.IsLinuxContext=new y.RawContextKey("isLinux",L.isLinux,(0,k.localize)(1,null)),e.IsWindowsContext=new y.RawContextKey("isWindows",L.isWindows,(0,k.localize)(2,null)),e.IsWebContext=new y.RawContextKey("isWeb",L.isWeb,(0,k.localize)(3,null)),e.IsMacNativeContext=new y.RawContextKey("isMacNative",L.isMacintosh&&!L.isWeb,(0,k.localize)(4,null)),e.IsIOSContext=new y.RawContextKey("isIOS",L.isIOS,(0,k.localize)(5,null)),e.IsMobileContext=new y.RawContextKey("isMobile",L.isMobile,(0,k.localize)(6,null)),e.IsDevelopmentContext=new y.RawContextKey("isDevelopment",!1,!0),e.ProductQualityContext=new y.RawContextKey("productQualityType","",(0,k.localize)(7,null)),e.InputFocusedContextKey="inputFocus",e.InputFocusedContext=new y.RawContextKey(e.InputFocusedContextKey,!1,(0,k.localize)(8,null))}),define(X[57],ee([1,0,8]),function(q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IContextMenuService=e.IContextViewService=void 0,e.IContextViewService=(0,L.createDecorator)("contextViewService"),e.IContextMenuService=(0,L.createDecorator)("contextMenuService")}),define(X[157],ee([1,0,8]),function(q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IDialogService=void 0,e.IDialogService=(0,L.createDecorator)("dialogService")}),define(X[240],ee([1,0,8]),function(q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IEnvironmentService=void 0,e.IEnvironmentService=(0,L.createDecorator)("environmentService")}),define(X[158],ee([1,0]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ServiceCollection=void 0;class L{constructor(...y){this._entries=new Map;for(const[D,S]of y)this.set(D,S)}set(y,D){const S=this._entries.get(y);return this._entries.set(y,D),S}get(y){return this._entries.get(y)}}e.ServiceCollection=L}),define(X[747],ee([1,0,14,12,2,233,735,8,158,63]),function(q,e,L,k,y,D,S,m,_,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Trace=e.InstantiationService=void 0;const p=!1;class s extends Error{constructor(r){var d;super("cyclic dependency between services"),this.message=(d=r.findCycleSlow())!==null&&d!==void 0?d:`UNABLE to detect cycle, dumping graph: 
${r.toString()}`}}class t{constructor(r=new _.ServiceCollection,d=!1,h,n=p){var c;this._services=r,this._strict=d,this._parent=h,this._enableTracing=n,this._activeInstantiations=new Set,this._services.set(m.IInstantiationService,this),this._globalGraph=n?(c=h?._globalGraph)!==null&&c!==void 0?c:new S.Graph(a=>a):void 0}createChild(r){return new t(r,this._strict,this,this._enableTracing)}invokeFunction(r,...d){const h=i.traceInvocation(this._enableTracing,r);let n=!1;try{return r({get:a=>{if(n)throw(0,k.illegalState)("service accessor is only valid during the invocation of its target method");const l=this._getOrCreateServiceInstance(a,h);if(!l)throw new Error(`[invokeFunction] unknown service '${a}'`);return l}},...d)}finally{n=!0,h.stop()}}createInstance(r,...d){let h,n;return r instanceof D.SyncDescriptor?(h=i.traceCreation(this._enableTracing,r.ctor),n=this._createInstance(r.ctor,r.staticArguments.concat(d),h)):(h=i.traceCreation(this._enableTracing,r),n=this._createInstance(r,d,h)),h.stop(),n}_createInstance(r,d=[],h){const n=m._util.getServiceDependencies(r).sort((l,u)=>l.index-u.index),c=[];for(const l of n){const u=this._getOrCreateServiceInstance(l.id,h);u||this._throwIfStrict(`[createInstance] ${r.name} depends on UNKNOWN service ${l.id}.`,!1),c.push(u)}const a=n.length>0?n[0].index:d.length;if(d.length!==a){console.trace(`[createInstance] First service dependency of ${r.name} at position ${a+1} conflicts with ${d.length} static arguments`);const l=a-d.length;l>0?d=d.concat(new Array(l)):d=d.slice(0,a)}return Reflect.construct(r,d.concat(c))}_setServiceInstance(r,d){if(this._services.get(r)instanceof D.SyncDescriptor)this._services.set(r,d);else if(this._parent)this._parent._setServiceInstance(r,d);else throw new Error("illegalState - setting UNKNOWN service instance")}_getServiceInstanceOrDescriptor(r){const d=this._services.get(r);return!d&&this._parent?this._parent._getServiceInstanceOrDescriptor(r):d}_getOrCreateServiceInstance(r,d){this._globalGraph&&this._globalGraphImplicitDependency&&this._globalGraph.insertEdge(this._globalGraphImplicitDependency,String(r));const h=this._getServiceInstanceOrDescriptor(r);return h instanceof D.SyncDescriptor?this._safeCreateAndCacheServiceInstance(r,h,d.branch(r,!0)):(d.branch(r,!1),h)}_safeCreateAndCacheServiceInstance(r,d,h){if(this._activeInstantiations.has(r))throw new Error(`illegal state - RECURSIVELY instantiating service '${r}'`);this._activeInstantiations.add(r);try{return this._createAndCacheServiceInstance(r,d,h)}finally{this._activeInstantiations.delete(r)}}_createAndCacheServiceInstance(r,d,h){var n;const c=new S.Graph(u=>u.id.toString());let a=0;const l=[{id:r,desc:d,_trace:h}];for(;l.length;){const u=l.pop();if(c.lookupOrInsertNode(u),a++>1e3)throw new s(c);for(const C of m._util.getServiceDependencies(u.desc.ctor)){const g=this._getServiceInstanceOrDescriptor(C.id);if(g||this._throwIfStrict(`[createInstance] ${r} depends on ${C.id} which is NOT registered.`,!0),(n=this._globalGraph)===null||n===void 0||n.insertEdge(String(u.id),String(C.id)),g instanceof D.SyncDescriptor){const v={id:C.id,desc:g,_trace:u._trace.branch(C.id,!0)};c.insertEdge(u,v),l.push(v)}}}for(;;){const u=c.roots();if(u.length===0){if(!c.isEmpty())throw new s(c);break}for(const{data:C}of u){if(this._getServiceInstanceOrDescriptor(C.id)instanceof D.SyncDescriptor){const v=this._createServiceInstanceWithOwner(C.id,C.desc.ctor,C.desc.staticArguments,C.desc.supportsDelayedInstantiation,C._trace);this._setServiceInstance(C.id,v)}c.removeNode(C)}}return this._getServiceInstanceOrDescriptor(r)}_createServiceInstanceWithOwner(r,d,h=[],n,c){if(this._services.get(r)instanceof D.SyncDescriptor)return this._createServiceInstance(r,d,h,n,c);if(this._parent)return this._parent._createServiceInstanceWithOwner(r,d,h,n,c);throw new Error(`illegalState - creating UNKNOWN service instance ${d.name}`)}_createServiceInstance(r,d,h=[],n,c){if(n){const a=new t(void 0,this._strict,this,this._enableTracing);a._globalGraphImplicitDependency=String(r);const l=new Map,u=new L.IdleValue(()=>{const C=a._createInstance(d,h,c);for(const[g,v]of l){const b=C[g];if(typeof b=="function")for(const w of v)b.apply(C,w)}return l.clear(),C});return new Proxy(Object.create(null),{get(C,g){if(!u.isInitialized&&typeof g=="string"&&(g.startsWith("onDid")||g.startsWith("onWill"))){let w=l.get(g);return w||(w=new f.LinkedList,l.set(g,w)),(I,T,P)=>{const A=w.push([I,T,P]);return(0,y.toDisposable)(A)}}if(g in C)return C[g];const v=u.value;let b=v[g];return typeof b!="function"||(b=b.bind(v),C[g]=b),b},set(C,g,v){return u.value[g]=v,!0},getPrototypeOf(C){return d.prototype}})}else return this._createInstance(d,h,c)}_throwIfStrict(r,d){if(d&&console.warn(r),this._strict)throw new Error(r)}}e.InstantiationService=t;class i{static traceInvocation(r,d){return r?new i(2,d.name||new Error().stack.split(`
`).slice(3,4).join(`
`)):i._None}static traceCreation(r,d){return r?new i(1,d.name):i._None}constructor(r,d){this.type=r,this.name=d,this._start=Date.now(),this._dep=[]}branch(r,d){const h=new i(3,r.toString());return this._dep.push([r,d,h]),h}stop(){const r=Date.now()-this._start;i._totals+=r;let d=!1;function h(c,a){const l=[],u=new Array(c+1).join("	");for(const[C,g,v]of a._dep)if(g&&v){d=!0,l.push(`${u}CREATES -> ${C}`);const b=h(c+1,v);b&&l.push(b)}else l.push(`${u}uses -> ${C}`);return l.join(`
`)}const n=[`${this.type===1?"CREATE":"CALL"} ${this.name}`,`${h(1,this)}`,`DONE, took ${r.toFixed(2)}ms (grand total ${i._totals.toFixed(2)}ms)`];(r>2||d)&&i.all.add(n.join(`
`))}}e.Trace=i,i.all=new Set,i._None=new class extends i{constructor(){super(0,null)}stop(){}branch(){return this}},i._totals=0}),define(X[748],ee([1,0,12,216,117]),function(q,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BaseResolvedKeybinding=void 0;class D extends y.ResolvedKeybinding{constructor(m,_){if(super(),_.length===0)throw(0,L.illegalArgument)("chords");this._os=m,this._chords=_}getLabel(){return k.UILabelProvider.toLabel(this._os,this._chords,m=>this._getLabel(m))}getAriaLabel(){return k.AriaLabelProvider.toLabel(this._os,this._chords,m=>this._getAriaLabel(m))}getElectronAccelerator(){return this._chords.length>1||this._chords[0].isDuplicateModifierCase()?null:k.ElectronAcceleratorLabelProvider.toLabel(this._os,this._chords,m=>this._getElectronAccelerator(m))}getUserSettingsLabel(){return k.UserSettingsLabelProvider.toLabel(this._os,this._chords,m=>this._getUserSettingsLabel(m))}hasMultipleChords(){return this._chords.length>1}getChords(){return this._chords.map(m=>this._getChord(m))}_getChord(m){return new y.ResolvedChord(m.ctrlKey,m.shiftKey,m.altKey,m.metaKey,this._getLabel(m),this._getAriaLabel(m))}getDispatchChords(){return this._chords.map(m=>this._getChordDispatch(m))}getSingleModifierDispatchChords(){return this._chords.map(m=>this._getSingleModifierChordDispatch(m))}}e.BaseResolvedKeybinding=D}),define(X[37],ee([1,0,8]),function(q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IKeybindingService=void 0,e.IKeybindingService=(0,L.createDecorator)("keybindingService")}),define(X[329],ee([1,0,7,309,40,6,2,131,13,57,8,37,436]),function(q,e,L,k,y,D,S,m,_,f,p,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PostEditWidgetManager=void 0;let t=class Wi extends S.Disposable{constructor(r,d,h,n,c,a,l,u,C,g){super(),this.typeId=r,this.editor=d,this.showCommand=n,this.range=c,this.edits=a,this.onSelectNewEdit=l,this._contextMenuService=u,this._keybindingService=g,this.allowEditorOverflow=!0,this.suppressMouseDown=!0,this.create(),this.visibleContext=h.bindTo(C),this.visibleContext.set(!0),this._register((0,S.toDisposable)(()=>this.visibleContext.reset())),this.editor.addContentWidget(this),this.editor.layoutContentWidget(this),this._register((0,S.toDisposable)(()=>this.editor.removeContentWidget(this))),this._register(this.editor.onDidChangeCursorPosition(v=>{c.containsPosition(v.position)||this.dispose()})),this._register(D.Event.runAndSubscribe(g.onDidUpdateKeybindings,()=>{this._updateButtonTitle()}))}_updateButtonTitle(){var r;const d=(r=this._keybindingService.lookupKeybinding(this.showCommand.id))===null||r===void 0?void 0:r.getLabel();this.button.element.title=this.showCommand.label+(d?` (${d})`:"")}create(){this.domNode=L.$(".post-edit-widget"),this.button=this._register(new k.Button(this.domNode,{supportIcons:!0})),this.button.label="$(insert)",this._register(L.addDisposableListener(this.domNode,L.EventType.CLICK,()=>this.showSelector()))}getId(){return Wi.baseId+"."+this.typeId}getDomNode(){return this.domNode}getPosition(){return{position:this.range.getEndPosition(),preference:[2]}}showSelector(){this._contextMenuService.showContextMenu({getAnchor:()=>{const r=L.getDomNodePagePosition(this.button.element);return{x:r.left+r.width,y:r.top+r.height}},getActions:()=>this.edits.allEdits.map((r,d)=>(0,y.toAction)({id:"",label:r.label,checked:d===this.edits.activeEditIndex,run:()=>{if(d!==this.edits.activeEditIndex)return this.onSelectNewEdit(d)}}))})}};t.baseId="editor.widget.postEditWidget",t=Ne([ge(7,f.IContextMenuService),ge(8,_.IContextKeyService),ge(9,s.IKeybindingService)],t);let i=e.PostEditWidgetManager=class extends S.Disposable{constructor(r,d,h,n,c,a){super(),this._id=r,this._editor=d,this._visibleContext=h,this._showCommand=n,this._instantiationService=c,this._bulkEditService=a,this._currentWidget=this._register(new S.MutableDisposable),this._register(D.Event.any(d.onDidChangeModel,d.onDidChangeModelContent)(()=>this.clear()))}applyEditAndShowIfNeeded(r,d,h,n){var c,a;return Le(this,void 0,void 0,function*(){const l=this._editor.getModel();if(!l||!r.length)return;const u=d.allEdits[d.activeEditIndex];if(!u)return;let C=[];(typeof u.insertText=="string"?u.insertText==="":u.insertText.snippet==="")?C=[]:C=r.map(T=>new m.ResourceTextEdit(l.uri,typeof u.insertText=="string"?{range:T,text:u.insertText,insertAsSnippet:!1}:{range:T,text:u.insertText.snippet,insertAsSnippet:!0}));const v={edits:[...C,...(a=(c=u.additionalEdit)===null||c===void 0?void 0:c.edits)!==null&&a!==void 0?a:[]]},b=r[0],w=l.deltaDecorations([],[{range:b,options:{description:"paste-line-suffix",stickiness:0}}]);let E,I;try{E=yield this._bulkEditService.apply(v,{editor:this._editor,token:n}),I=l.getDecorationRange(w[0])}finally{l.deltaDecorations(w,[])}h&&E.isApplied&&d.allEdits.length>1&&this.show(I??b,d,T=>Le(this,void 0,void 0,function*(){const P=this._editor.getModel();P&&(yield P.undo(),this.applyEditAndShowIfNeeded(r,{activeEditIndex:T,allEdits:d.allEdits},h,n))}))})}show(r,d,h){this.clear(),this._editor.hasModel()&&(this._currentWidget.value=this._instantiationService.createInstance(t,this._id,this._editor,this._visibleContext,this._showCommand,r,d,h))}clear(){this._currentWidget.clear()}tryShowSelector(){var r;(r=this._currentWidget.value)===null||r===void 0||r.showSelector()}};e.PostEditWidgetManager=i=Ne([ge(4,p.IInstantiationService),ge(5,m.IBulkEditService)],i)}),define(X[330],ee([1,0,13]),function(q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.KeybindingResolver=e.NoMatchingKb=void 0,e.NoMatchingKb={kind:0};const k={kind:1};function y(_,f,p){return{kind:2,commandId:_,commandArgs:f,isBubble:p}}class D{constructor(f,p,s){var t;this._log=s,this._defaultKeybindings=f,this._defaultBoundCommands=new Map;for(const i of f){const o=i.command;o&&o.charAt(0)!=="-"&&this._defaultBoundCommands.set(o,!0)}this._map=new Map,this._lookupMap=new Map,this._keybindings=D.handleRemovals([].concat(f).concat(p));for(let i=0,o=this._keybindings.length;i<o;i++){const r=this._keybindings[i];if(r.chords.length===0)continue;const d=(t=r.when)===null||t===void 0?void 0:t.substituteConstants();d&&d.type===0||this._addKeyPress(r.chords[0],r)}}static _isTargetedForRemoval(f,p,s){if(p){for(let t=0;t<p.length;t++)if(p[t]!==f.chords[t])return!1}return!(s&&s.type!==1&&(!f.when||!(0,L.expressionsAreEqualWithConstantSubstitution)(s,f.when)))}static handleRemovals(f){const p=new Map;for(let t=0,i=f.length;t<i;t++){const o=f[t];if(o.command&&o.command.charAt(0)==="-"){const r=o.command.substring(1);p.has(r)?p.get(r).push(o):p.set(r,[o])}}if(p.size===0)return f;const s=[];for(let t=0,i=f.length;t<i;t++){const o=f[t];if(!o.command||o.command.length===0){s.push(o);continue}if(o.command.charAt(0)==="-")continue;const r=p.get(o.command);if(!r||!o.isDefault){s.push(o);continue}let d=!1;for(const h of r){const n=h.when;if(this._isTargetedForRemoval(o,h.chords,n)){d=!0;break}}if(!d){s.push(o);continue}}return s}_addKeyPress(f,p){const s=this._map.get(f);if(typeof s>"u"){this._map.set(f,[p]),this._addToLookupMap(p);return}for(let t=s.length-1;t>=0;t--){const i=s[t];if(i.command===p.command)continue;let o=!0;for(let r=1;r<i.chords.length&&r<p.chords.length;r++)if(i.chords[r]!==p.chords[r]){o=!1;break}o&&D.whenIsEntirelyIncluded(i.when,p.when)&&this._removeFromLookupMap(i)}s.push(p),this._addToLookupMap(p)}_addToLookupMap(f){if(!f.command)return;let p=this._lookupMap.get(f.command);typeof p>"u"?(p=[f],this._lookupMap.set(f.command,p)):p.push(f)}_removeFromLookupMap(f){if(!f.command)return;const p=this._lookupMap.get(f.command);if(!(typeof p>"u")){for(let s=0,t=p.length;s<t;s++)if(p[s]===f){p.splice(s,1);return}}}static whenIsEntirelyIncluded(f,p){return!p||p.type===1?!0:!f||f.type===1?!1:(0,L.implies)(f,p)}getKeybindings(){return this._keybindings}lookupPrimaryKeybinding(f,p){const s=this._lookupMap.get(f);if(typeof s>"u"||s.length===0)return null;if(s.length===1)return s[0];for(let t=s.length-1;t>=0;t--){const i=s[t];if(p.contextMatchesRules(i.when))return i}return s[s.length-1]}resolve(f,p,s){const t=[...p,s];this._log(`| Resolving ${t}`);const i=this._map.get(t[0]);if(i===void 0)return this._log("\\ No keybinding entries."),e.NoMatchingKb;let o=null;if(t.length<2)o=i;else{o=[];for(let d=0,h=i.length;d<h;d++){const n=i[d];if(t.length>n.chords.length)continue;let c=!0;for(let a=1;a<t.length;a++)if(n.chords[a]!==t[a]){c=!1;break}c&&o.push(n)}}const r=this._findCommand(f,o);return r?t.length<r.chords.length?(this._log(`\\ From ${o.length} keybinding entries, awaiting ${r.chords.length-t.length} more chord(s), when: ${S(r.when)}, source: ${m(r)}.`),k):(this._log(`\\ From ${o.length} keybinding entries, matched ${r.command}, when: ${S(r.when)}, source: ${m(r)}.`),y(r.command,r.commandArgs,r.bubble)):(this._log(`\\ From ${o.length} keybinding entries, no when clauses matched the context.`),e.NoMatchingKb)}_findCommand(f,p){for(let s=p.length-1;s>=0;s--){const t=p[s];if(D._contextMatchesRules(f,t.when))return t}return null}static _contextMatchesRules(f,p){return p?p.evaluate(f):!0}}e.KeybindingResolver=D;function S(_){return _?`${_.serialize()}`:"no when condition"}function m(_){return _.extensionId?_.isBuiltinExtension?`built-in extension ${_.extensionId}`:`user extension ${_.extensionId}`:_.isDefault?"built-in":"user"}}),define(X[749],ee([1,0,14,12,6,261,2,717,330]),function(q,e,L,k,y,D,S,m,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractKeybindingService=void 0;const f=/^(cursor|delete|undo|redo|tab|editor\.action\.clipboard)/;class p extends S.Disposable{get onDidUpdateKeybindings(){return this._onDidUpdateKeybindings?this._onDidUpdateKeybindings.event:y.Event.None}get inChordMode(){return this._currentChords.length>0}constructor(i,o,r,d,h){super(),this._contextKeyService=i,this._commandService=o,this._telemetryService=r,this._notificationService=d,this._logService=h,this._onDidUpdateKeybindings=this._register(new y.Emitter),this._currentChords=[],this._currentChordChecker=new L.IntervalTimer,this._currentChordStatusMessage=null,this._ignoreSingleModifiers=s.EMPTY,this._currentSingleModifier=null,this._currentSingleModifierClearTimeout=new L.TimeoutTimer,this._logging=!1}dispose(){super.dispose()}_log(i){this._logging&&this._logService.info(`[KeybindingService]: ${i}`)}getKeybindings(){return this._getResolver().getKeybindings()}lookupKeybinding(i,o){const r=this._getResolver().lookupPrimaryKeybinding(i,o||this._contextKeyService);if(r)return r.resolvedKeybinding}dispatchEvent(i,o){return this._dispatch(i,o)}softDispatch(i,o){this._log("/ Soft dispatching keyboard event");const r=this.resolveKeyboardEvent(i);if(r.hasMultipleChords())return console.warn("keyboard event should not be mapped to multiple chords"),_.NoMatchingKb;const[d]=r.getDispatchChords();if(d===null)return this._log("\\ Keyboard event cannot be dispatched"),_.NoMatchingKb;const h=this._contextKeyService.getContext(o),n=this._currentChords.map(({keypress:c})=>c);return this._getResolver().resolve(h,n,d)}_scheduleLeaveChordMode(){const i=Date.now();this._currentChordChecker.cancelAndSet(()=>{if(!this._documentHasFocus()){this._leaveChordMode();return}Date.now()-i>5e3&&this._leaveChordMode()},500)}_expectAnotherChord(i,o){switch(this._currentChords.push({keypress:i,label:o}),this._currentChords.length){case 0:throw(0,k.illegalState)("impossible");case 1:this._currentChordStatusMessage=this._notificationService.status(m.localize(0,null,o));break;default:{const r=this._currentChords.map(({label:d})=>d).join(", ");this._currentChordStatusMessage=this._notificationService.status(m.localize(1,null,r))}}this._scheduleLeaveChordMode(),D.IME.enabled&&D.IME.disable()}_leaveChordMode(){this._currentChordStatusMessage&&(this._currentChordStatusMessage.dispose(),this._currentChordStatusMessage=null),this._currentChordChecker.cancel(),this._currentChords=[],D.IME.enable()}_dispatch(i,o){return this._doDispatch(this.resolveKeyboardEvent(i),o,!1)}_singleModifierDispatch(i,o){const r=this.resolveKeyboardEvent(i),[d]=r.getSingleModifierDispatchChords();if(d)return this._ignoreSingleModifiers.has(d)?(this._log(`+ Ignoring single modifier ${d} due to it being pressed together with other keys.`),this._ignoreSingleModifiers=s.EMPTY,this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1):(this._ignoreSingleModifiers=s.EMPTY,this._currentSingleModifier===null?(this._log(`+ Storing single modifier for possible chord ${d}.`),this._currentSingleModifier=d,this._currentSingleModifierClearTimeout.cancelAndSet(()=>{this._log("+ Clearing single modifier due to 300ms elapsed."),this._currentSingleModifier=null},300),!1):d===this._currentSingleModifier?(this._log(`/ Dispatching single modifier chord ${d} ${d}`),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,this._doDispatch(r,o,!0)):(this._log(`+ Clearing single modifier due to modifier mismatch: ${this._currentSingleModifier} ${d}`),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1));const[h]=r.getChords();return this._ignoreSingleModifiers=new s(h),this._currentSingleModifier!==null&&this._log("+ Clearing single modifier due to other key up."),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1}_doDispatch(i,o,r=!1){var d;let h=!1;if(i.hasMultipleChords())return console.warn("Unexpected keyboard event mapped to multiple chords"),!1;let n=null,c=null;if(r){const[C]=i.getSingleModifierDispatchChords();n=C,c=C?[C]:[]}else[n]=i.getDispatchChords(),c=this._currentChords.map(({keypress:C})=>C);if(n===null)return this._log("\\ Keyboard event cannot be dispatched in keydown phase."),h;const a=this._contextKeyService.getContext(o),l=i.getLabel(),u=this._getResolver().resolve(a,c,n);switch(u.kind){case 0:{if(this._logService.trace("KeybindingService#dispatch",l,"[ No matching keybinding ]"),this.inChordMode){const C=this._currentChords.map(({label:g})=>g).join(", ");this._log(`+ Leaving multi-chord mode: Nothing bound to "${C}, ${l}".`),this._notificationService.status(m.localize(2,null,C,l),{hideAfter:10*1e3}),this._leaveChordMode(),h=!0}return h}case 1:return this._logService.trace("KeybindingService#dispatch",l,"[ Several keybindings match - more chords needed ]"),h=!0,this._expectAnotherChord(n,l),this._log(this._currentChords.length===1?"+ Entering multi-chord mode...":"+ Continuing multi-chord mode..."),h;case 2:{if(this._logService.trace("KeybindingService#dispatch",l,`[ Will dispatch command ${u.commandId} ]`),u.commandId===null||u.commandId===""){if(this.inChordMode){const C=this._currentChords.map(({label:g})=>g).join(", ");this._log(`+ Leaving chord mode: Nothing bound to "${C}, ${l}".`),this._notificationService.status(m.localize(3,null,C,l),{hideAfter:10*1e3}),this._leaveChordMode(),h=!0}}else this.inChordMode&&this._leaveChordMode(),u.isBubble||(h=!0),this._log(`+ Invoking command ${u.commandId}.`),typeof u.commandArgs>"u"?this._commandService.executeCommand(u.commandId).then(void 0,C=>this._notificationService.warn(C)):this._commandService.executeCommand(u.commandId,u.commandArgs).then(void 0,C=>this._notificationService.warn(C)),f.test(u.commandId)||this._telemetryService.publicLog2("workbenchActionExecuted",{id:u.commandId,from:"keybinding",detail:(d=i.getUserSettingsLabel())!==null&&d!==void 0?d:void 0});return h}}}mightProducePrintableCharacter(i){return i.ctrlKey||i.metaKey?!1:i.keyCode>=31&&i.keyCode<=56||i.keyCode>=21&&i.keyCode<=30}}e.AbstractKeybindingService=p;class s{constructor(i){this._ctrlKey=i?i.ctrlKey:!1,this._shiftKey=i?i.shiftKey:!1,this._altKey=i?i.altKey:!1,this._metaKey=i?i.metaKey:!1}has(i){switch(i){case"ctrl":return this._ctrlKey;case"shift":return this._shiftKey;case"alt":return this._altKey;case"meta":return this._metaKey}}}s.EMPTY=new s(null)}),define(X[331],ee([1,0]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toEmptyArrayIfContainsNull=e.ResolvedKeybindingItem=void 0;class L{constructor(D,S,m,_,f,p,s){this._resolvedKeybindingItemBrand=void 0,this.resolvedKeybinding=D,this.chords=D?k(D.getDispatchChords()):[],D&&this.chords.length===0&&(this.chords=k(D.getSingleModifierDispatchChords())),this.bubble=S?S.charCodeAt(0)===94:!1,this.command=this.bubble?S.substr(1):S,this.commandArgs=m,this.when=_,this.isDefault=f,this.extensionId=p,this.isBuiltinExtension=s}}e.ResolvedKeybindingItem=L;function k(y){const D=[];for(let S=0,m=y.length;S<m;S++){const _=y[S];if(!_)return[];D.push(_)}return D}e.toEmptyArrayIfContainsNull=k}),define(X[750],ee([1,0,62,117,748,331]),function(q,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.USLayoutResolvedKeybinding=void 0;class S extends y.BaseResolvedKeybinding{constructor(_,f){super(f,_)}_keyCodeToUILabel(_){if(this._os===2)switch(_){case 15:return"\u2190";case 16:return"\u2191";case 17:return"\u2192";case 18:return"\u2193"}return L.KeyCodeUtils.toString(_)}_getLabel(_){return _.isDuplicateModifierCase()?"":this._keyCodeToUILabel(_.keyCode)}_getAriaLabel(_){return _.isDuplicateModifierCase()?"":L.KeyCodeUtils.toString(_.keyCode)}_getElectronAccelerator(_){return L.KeyCodeUtils.toElectronAccelerator(_.keyCode)}_getUserSettingsLabel(_){if(_.isDuplicateModifierCase())return"";const f=L.KeyCodeUtils.toUserSettingsUS(_.keyCode);return f&&f.toLowerCase()}_getChordDispatch(_){return S.getDispatchStr(_)}static getDispatchStr(_){if(_.isModifierKey())return null;let f="";return _.ctrlKey&&(f+="ctrl+"),_.shiftKey&&(f+="shift+"),_.altKey&&(f+="alt+"),_.metaKey&&(f+="meta+"),f+=L.KeyCodeUtils.toString(_.keyCode),f}_getSingleModifierChordDispatch(_){return _.keyCode===5&&!_.shiftKey&&!_.altKey&&!_.metaKey?"ctrl":_.keyCode===4&&!_.ctrlKey&&!_.altKey&&!_.metaKey?"shift":_.keyCode===6&&!_.ctrlKey&&!_.shiftKey&&!_.metaKey?"alt":_.keyCode===57&&!_.ctrlKey&&!_.shiftKey&&!_.altKey?"meta":null}static _scanCodeToKeyCode(_){const f=L.IMMUTABLE_CODE_TO_KEY_CODE[_];if(f!==-1)return f;switch(_){case 10:return 31;case 11:return 32;case 12:return 33;case 13:return 34;case 14:return 35;case 15:return 36;case 16:return 37;case 17:return 38;case 18:return 39;case 19:return 40;case 20:return 41;case 21:return 42;case 22:return 43;case 23:return 44;case 24:return 45;case 25:return 46;case 26:return 47;case 27:return 48;case 28:return 49;case 29:return 50;case 30:return 51;case 31:return 52;case 32:return 53;case 33:return 54;case 34:return 55;case 35:return 56;case 36:return 22;case 37:return 23;case 38:return 24;case 39:return 25;case 40:return 26;case 41:return 27;case 42:return 28;case 43:return 29;case 44:return 30;case 45:return 21;case 51:return 88;case 52:return 86;case 53:return 92;case 54:return 94;case 55:return 93;case 56:return 0;case 57:return 85;case 58:return 95;case 59:return 91;case 60:return 87;case 61:return 89;case 62:return 90;case 106:return 97}return 0}static _toKeyCodeChord(_){if(!_)return null;if(_ instanceof k.KeyCodeChord)return _;const f=this._scanCodeToKeyCode(_.scanCode);return f===0?null:new k.KeyCodeChord(_.ctrlKey,_.shiftKey,_.altKey,_.metaKey,f)}static resolveKeybinding(_,f){const p=(0,D.toEmptyArrayIfContainsNull)(_.chords.map(s=>this._toKeyCodeChord(s)));return p.length>0?[new S(p,f)]:[]}}e.USLayoutResolvedKeybinding=S}),define(X[159],ee([1,0,8]),function(q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ILabelService=void 0,e.ILabelService=(0,L.createDecorator)("labelService")}),define(X[133],ee([1,0,8]),function(q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ILayoutService=void 0,e.ILayoutService=(0,L.createDecorator)("layoutService")}),define(X[332],ee([1,0,7,6,133,32,48]),function(q,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorScopedLayoutService=void 0;let m=class{get dimension(){return this._dimension||(this._dimension=L.getClientArea(window.document.body)),this._dimension}get hasContainer(){return!1}get container(){throw new Error("ILayoutService.container is not available in the standalone editor!")}focus(){var p;(p=this._codeEditorService.getFocusedCodeEditor())===null||p===void 0||p.focus()}constructor(p){this._codeEditorService=p,this.onDidLayout=k.Event.None,this.offset={top:0,quickPickTop:0}}};m=Ne([ge(0,D.ICodeEditorService)],m);let _=e.EditorScopedLayoutService=class extends m{get hasContainer(){return!1}get container(){return this._container}constructor(p,s){super(s),this._container=p}};e.EditorScopedLayoutService=_=Ne([ge(1,D.ICodeEditorService)],_),(0,S.registerSingleton)(y.ILayoutService,m,1)}),define(X[751],ee([1,0,7,6,2,96,28,13,133]),function(q,e,L,k,y,D,S,m,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AccessibilityService=void 0;let f=e.AccessibilityService=class extends y.Disposable{constructor(s,t,i){super(),this._contextKeyService=s,this._layoutService=t,this._configurationService=i,this._accessibilitySupport=0,this._onDidChangeScreenReaderOptimized=new k.Emitter,this._onDidChangeReducedMotion=new k.Emitter,this._accessibilityModeEnabledContext=D.CONTEXT_ACCESSIBILITY_MODE_ENABLED.bindTo(this._contextKeyService);const o=()=>this._accessibilityModeEnabledContext.set(this.isScreenReaderOptimized());this._register(this._configurationService.onDidChangeConfiguration(d=>{d.affectsConfiguration("editor.accessibilitySupport")&&(o(),this._onDidChangeScreenReaderOptimized.fire()),d.affectsConfiguration("workbench.reduceMotion")&&(this._configMotionReduced=this._configurationService.getValue("workbench.reduceMotion"),this._onDidChangeReducedMotion.fire())})),o(),this._register(this.onDidChangeScreenReaderOptimized(()=>o()));const r=window.matchMedia("(prefers-reduced-motion: reduce)");this._systemMotionReduced=r.matches,this._configMotionReduced=this._configurationService.getValue("workbench.reduceMotion"),this.initReducedMotionListeners(r)}initReducedMotionListeners(s){if(!this._layoutService.hasContainer)return;this._register((0,L.addDisposableListener)(s,"change",()=>{this._systemMotionReduced=s.matches,this._configMotionReduced==="auto"&&this._onDidChangeReducedMotion.fire()}));const t=()=>{const i=this.isMotionReduced();this._layoutService.container.classList.toggle("reduce-motion",i),this._layoutService.container.classList.toggle("enable-motion",!i)};t(),this._register(this.onDidChangeReducedMotion(()=>t()))}get onDidChangeScreenReaderOptimized(){return this._onDidChangeScreenReaderOptimized.event}isScreenReaderOptimized(){const s=this._configurationService.getValue("editor.accessibilitySupport");return s==="on"||s==="auto"&&this._accessibilitySupport===2}get onDidChangeReducedMotion(){return this._onDidChangeReducedMotion.event}isMotionReduced(){const s=this._configMotionReduced;return s==="on"||s==="auto"&&this._systemMotionReduced}getAccessibilitySupport(){return this._accessibilitySupport}};e.AccessibilityService=f=Ne([ge(0,m.IContextKeyService),ge(1,_.ILayoutService),ge(2,S.IConfigurationService)],f)}),define(X[752],ee([1,0,302,2,133]),function(q,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextViewService=void 0;let D=e.ContextViewService=class extends k.Disposable{constructor(m){super(),this.layoutService=m,this.currentViewDisposable=k.Disposable.None,this.container=m.hasContainer?m.container:null,this.contextView=this._register(new L.ContextView(this.container,1)),this.layout(),this._register(m.onDidLayout(()=>this.layout()))}setContainer(m,_){this.contextView.setContainer(m,_||1)}showContextView(m,_,f){_?(_!==this.container||this.shadowRoot!==f)&&(this.container=_,this.setContainer(_,f?3:2)):this.layoutService.hasContainer&&this.container!==this.layoutService.container&&(this.container=this.layoutService.container,this.setContainer(this.container,1)),this.shadowRoot=f,this.contextView.show(m);const p=(0,k.toDisposable)(()=>{this.currentViewDisposable===p&&this.hideContextView()});return this.currentViewDisposable=p,p}getContextViewElement(){return this.contextView.getViewElement()}layout(){this.contextView.layout()}hideContextView(m){this.contextView.hide(m)}};e.ContextViewService=D=Ne([ge(0,y.ILayoutService)],D)}),define(X[69],ee([1,0,6,2,13,8]),function(q,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CONTEXT_LOG_LEVEL=e.LogLevelToString=e.MultiplexLogger=e.ConsoleLogger=e.AbstractLogger=e.DEFAULT_LOG_LEVEL=e.LogLevel=e.ILogService=void 0,e.ILogService=(0,D.createDecorator)("logService");var S;(function(s){s[s.Off=0]="Off",s[s.Trace=1]="Trace",s[s.Debug=2]="Debug",s[s.Info=3]="Info",s[s.Warning=4]="Warning",s[s.Error=5]="Error"})(S||(e.LogLevel=S={})),e.DEFAULT_LOG_LEVEL=S.Info;class m extends k.Disposable{constructor(){super(...arguments),this.level=e.DEFAULT_LOG_LEVEL,this._onDidChangeLogLevel=this._register(new L.Emitter),this.onDidChangeLogLevel=this._onDidChangeLogLevel.event}setLevel(t){this.level!==t&&(this.level=t,this._onDidChangeLogLevel.fire(this.level))}getLevel(){return this.level}checkLogLevel(t){return this.level!==S.Off&&this.level<=t}}e.AbstractLogger=m;class _ extends m{constructor(t=e.DEFAULT_LOG_LEVEL,i=!0){super(),this.useColors=i,this.setLevel(t)}trace(t,...i){this.checkLogLevel(S.Trace)&&(this.useColors?console.log("%cTRACE","color: #888",t,...i):console.log(t,...i))}debug(t,...i){this.checkLogLevel(S.Debug)&&(this.useColors?console.log("%cDEBUG","background: #eee; color: #888",t,...i):console.log(t,...i))}info(t,...i){this.checkLogLevel(S.Info)&&(this.useColors?console.log("%c INFO","color: #33f",t,...i):console.log(t,...i))}warn(t,...i){this.checkLogLevel(S.Warning)&&(this.useColors?console.log("%c WARN","color: #993",t,...i):console.log(t,...i))}error(t,...i){this.checkLogLevel(S.Error)&&(this.useColors?console.log("%c  ERR","color: #f33",t,...i):console.error(t,...i))}dispose(){}}e.ConsoleLogger=_;class f extends m{constructor(t){super(),this.loggers=t,t.length&&this.setLevel(t[0].getLevel())}setLevel(t){for(const i of this.loggers)i.setLevel(t);super.setLevel(t)}trace(t,...i){for(const o of this.loggers)o.trace(t,...i)}debug(t,...i){for(const o of this.loggers)o.debug(t,...i)}info(t,...i){for(const o of this.loggers)o.info(t,...i)}warn(t,...i){for(const o of this.loggers)o.warn(t,...i)}error(t,...i){for(const o of this.loggers)o.error(t,...i)}dispose(){for(const t of this.loggers)t.dispose()}}e.MultiplexLogger=f;function p(s){switch(s){case S.Trace:return"trace";case S.Debug:return"debug";case S.Info:return"info";case S.Warning:return"warn";case S.Error:return"error";case S.Off:return"off"}}e.LogLevelToString=p,e.CONTEXT_LOG_LEVEL=new y.RawContextKey("logLevel",p(S.Info))}),define(X[753],ee([1,0,51,7,14,2,133,69]),function(q,e,L,k,y,D,S,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BrowserClipboardService=void 0;let _=e.BrowserClipboardService=class extends D.Disposable{constructor(p,s){super(),this.layoutService=p,this.logService=s,this.mapTextToType=new Map,this.findText="",this.resources=[],(L.isSafari||L.isWebkitWebView)&&this.installWebKitWriteTextWorkaround()}installWebKitWriteTextWorkaround(){const p=()=>{const s=new y.DeferredPromise;this.webKitPendingClipboardWritePromise&&!this.webKitPendingClipboardWritePromise.isSettled&&this.webKitPendingClipboardWritePromise.cancel(),this.webKitPendingClipboardWritePromise=s,navigator.clipboard.write([new ClipboardItem({"text/plain":s.p})]).catch(t=>Le(this,void 0,void 0,function*(){(!(t instanceof Error)||t.name!=="NotAllowedError"||!s.isRejected)&&this.logService.error(t)}))};this.layoutService.hasContainer&&(this._register((0,k.addDisposableListener)(this.layoutService.container,"click",p)),this._register((0,k.addDisposableListener)(this.layoutService.container,"keydown",p)))}writeText(p,s){return Le(this,void 0,void 0,function*(){if(s){this.mapTextToType.set(s,p);return}if(this.webKitPendingClipboardWritePromise)return this.webKitPendingClipboardWritePromise.complete(p);try{return yield navigator.clipboard.writeText(p)}catch(o){console.error(o)}const t=document.activeElement,i=document.body.appendChild((0,k.$)("textarea",{"aria-hidden":!0}));i.style.height="1px",i.style.width="1px",i.style.position="absolute",i.value=p,i.focus(),i.select(),document.execCommand("copy"),t instanceof HTMLElement&&t.focus(),document.body.removeChild(i)})}readText(p){return Le(this,void 0,void 0,function*(){if(p)return this.mapTextToType.get(p)||"";try{return yield navigator.clipboard.readText()}catch(s){return console.error(s),""}})}readFindText(){return Le(this,void 0,void 0,function*(){return this.findText})}writeFindText(p){return Le(this,void 0,void 0,function*(){this.findText=p})}writeResources(p){return Le(this,void 0,void 0,function*(){this.resources=p})}readResources(){return Le(this,void 0,void 0,function*(){return this.resources})}};e.BrowserClipboardService=_=Ne([ge(0,S.ILayoutService),ge(1,m.ILogService)],_)}),define(X[754],ee([1,0,2,69]),function(q,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LogService=void 0;class y extends L.Disposable{constructor(S,m=[]){super(),this.logger=new k.MultiplexLogger([S,...m]),this._register(S.onDidChangeLogLevel(_=>this.setLevel(_)))}get onDidChangeLogLevel(){return this.logger.onDidChangeLogLevel}setLevel(S){this.logger.setLevel(S)}getLevel(){return this.logger.getLevel()}trace(S,...m){this.logger.trace(S,...m)}debug(S,...m){this.logger.debug(S,...m)}info(S,...m){this.logger.info(S,...m)}warn(S,...m){this.logger.warn(S,...m)}error(S,...m){this.logger.error(S,...m)}}e.LogService=y}),define(X[97],ee([1,0,107,719,8]),function(q,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IMarkerService=e.IMarkerData=e.MarkerSeverity=void 0;var D;(function(m){m[m.Hint=1]="Hint",m[m.Info=2]="Info",m[m.Warning=4]="Warning",m[m.Error=8]="Error"})(D||(e.MarkerSeverity=D={})),function(m){function _(i,o){return o-i}m.compare=_;const f=Object.create(null);f[m.Error]=(0,k.localize)(0,null),f[m.Warning]=(0,k.localize)(1,null),f[m.Info]=(0,k.localize)(2,null);function p(i){return f[i]||""}m.toString=p;function s(i){switch(i){case L.default.Error:return m.Error;case L.default.Warning:return m.Warning;case L.default.Info:return m.Info;case L.default.Ignore:return m.Hint}}m.fromSeverity=s;function t(i){switch(i){case m.Error:return L.default.Error;case m.Warning:return L.default.Warning;case m.Info:return L.default.Info;case m.Hint:return L.default.Ignore}}m.toSeverity=t}(D||(e.MarkerSeverity=D={}));var S;(function(m){const _="";function f(s){return p(s,!0)}m.makeKey=f;function p(s,t){const i=[_];return s.source?i.push(s.source.replace("\xA6","\\\xA6")):i.push(_),s.code?typeof s.code=="string"?i.push(s.code.replace("\xA6","\\\xA6")):i.push(s.code.value.replace("\xA6","\\\xA6")):i.push(_),s.severity!==void 0&&s.severity!==null?i.push(D.toString(s.severity)):i.push(_),s.message&&t?i.push(s.message.replace("\xA6","\\\xA6")):i.push(_),s.startLineNumber!==void 0&&s.startLineNumber!==null?i.push(s.startLineNumber.toString()):i.push(_),s.startColumn!==void 0&&s.startColumn!==null?i.push(s.startColumn.toString()):i.push(_),s.endLineNumber!==void 0&&s.endLineNumber!==null?i.push(s.endLineNumber.toString()):i.push(_),s.endColumn!==void 0&&s.endColumn!==null?i.push(s.endColumn.toString()):i.push(_),i.push(_),i.join("\xA6")}m.makeKeyOptionalMessage=p})(S||(e.IMarkerData=S={})),e.IMarkerService=(0,y.createDecorator)("markerService")}),define(X[755],ee([1,0,16,6,2,63,9,21,5,48,8,97,28]),function(q,e,L,k,y,D,S,m,_,f,p,s,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IMarkerNavigationService=e.MarkerList=e.MarkerCoordinate=void 0;class i{constructor(h,n,c){this.marker=h,this.index=n,this.total=c}}e.MarkerCoordinate=i;let o=e.MarkerList=class{constructor(h,n,c){this._markerService=n,this._configService=c,this._onDidChange=new k.Emitter,this.onDidChange=this._onDidChange.event,this._dispoables=new y.DisposableStore,this._markers=[],this._nextIdx=-1,m.URI.isUri(h)?this._resourceFilter=C=>C.toString()===h.toString():h&&(this._resourceFilter=h);const a=this._configService.getValue("problems.sortOrder"),l=(C,g)=>{let v=(0,S.compare)(C.resource.toString(),g.resource.toString());return v===0&&(a==="position"?v=_.Range.compareRangesUsingStarts(C,g)||s.MarkerSeverity.compare(C.severity,g.severity):v=s.MarkerSeverity.compare(C.severity,g.severity)||_.Range.compareRangesUsingStarts(C,g)),v},u=()=>{this._markers=this._markerService.read({resource:m.URI.isUri(h)?h:void 0,severities:s.MarkerSeverity.Error|s.MarkerSeverity.Warning|s.MarkerSeverity.Info}),typeof h=="function"&&(this._markers=this._markers.filter(C=>this._resourceFilter(C.resource))),this._markers.sort(l)};u(),this._dispoables.add(n.onMarkerChanged(C=>{(!this._resourceFilter||C.some(g=>this._resourceFilter(g)))&&(u(),this._nextIdx=-1,this._onDidChange.fire())}))}dispose(){this._dispoables.dispose(),this._onDidChange.dispose()}matches(h){return!this._resourceFilter&&!h?!0:!this._resourceFilter||!h?!1:this._resourceFilter(h)}get selected(){const h=this._markers[this._nextIdx];return h&&new i(h,this._nextIdx+1,this._markers.length)}_initIdx(h,n,c){let a=!1,l=this._markers.findIndex(u=>u.resource.toString()===h.uri.toString());l<0&&(l=(0,L.binarySearch)(this._markers,{resource:h.uri},(u,C)=>(0,S.compare)(u.resource.toString(),C.resource.toString())),l<0&&(l=~l));for(let u=l;u<this._markers.length;u++){let C=_.Range.lift(this._markers[u]);if(C.isEmpty()){const g=h.getWordAtPosition(C.getStartPosition());g&&(C=new _.Range(C.startLineNumber,g.startColumn,C.startLineNumber,g.endColumn))}if(n&&(C.containsPosition(n)||n.isBeforeOrEqual(C.getStartPosition()))){this._nextIdx=u,a=!0;break}if(this._markers[u].resource.toString()!==h.uri.toString())break}a||(this._nextIdx=c?0:this._markers.length-1),this._nextIdx<0&&(this._nextIdx=this._markers.length-1)}resetIndex(){this._nextIdx=-1}move(h,n,c){if(this._markers.length===0)return!1;const a=this._nextIdx;return this._nextIdx===-1?this._initIdx(n,c,h):h?this._nextIdx=(this._nextIdx+1)%this._markers.length:h||(this._nextIdx=(this._nextIdx-1+this._markers.length)%this._markers.length),a!==this._nextIdx}find(h,n){let c=this._markers.findIndex(a=>a.resource.toString()===h.toString());if(!(c<0)){for(;c<this._markers.length;c++)if(_.Range.containsPosition(this._markers[c],n))return new i(this._markers[c],c+1,this._markers.length)}}};e.MarkerList=o=Ne([ge(1,s.IMarkerService),ge(2,t.IConfigurationService)],o),e.IMarkerNavigationService=(0,p.createDecorator)("IMarkerNavigationService");let r=class{constructor(h,n){this._markerService=h,this._configService=n,this._provider=new D.LinkedList}getMarkerList(h){for(const n of this._provider){const c=n.getMarkerList(h);if(c)return c}return new o(h,this._markerService,this._configService)}};r=Ne([ge(0,s.IMarkerService),ge(1,t.IConfigurationService)],r),(0,f.registerSingleton)(e.IMarkerNavigationService,r,1)}),define(X[756],ee([1,0,16,6,50,64,53,21,97]),function(q,e,L,k,y,D,S,m,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarkerService=e.unsupportedSchemas=void 0,e.unsupportedSchemas=new Set([S.Schemas.inMemory,S.Schemas.vscodeSourceControl,S.Schemas.walkThrough,S.Schemas.walkThroughSnippet]);class f{constructor(){this._byResource=new D.ResourceMap,this._byOwner=new Map}set(i,o,r){let d=this._byResource.get(i);d||(d=new Map,this._byResource.set(i,d)),d.set(o,r);let h=this._byOwner.get(o);h||(h=new D.ResourceMap,this._byOwner.set(o,h)),h.set(i,r)}get(i,o){const r=this._byResource.get(i);return r?.get(o)}delete(i,o){let r=!1,d=!1;const h=this._byResource.get(i);h&&(r=h.delete(o));const n=this._byOwner.get(o);if(n&&(d=n.delete(i)),r!==d)throw new Error("illegal state");return r&&d}values(i){var o,r,d,h;return typeof i=="string"?(r=(o=this._byOwner.get(i))===null||o===void 0?void 0:o.values())!==null&&r!==void 0?r:y.Iterable.empty():m.URI.isUri(i)?(h=(d=this._byResource.get(i))===null||d===void 0?void 0:d.values())!==null&&h!==void 0?h:y.Iterable.empty():y.Iterable.map(y.Iterable.concat(...this._byOwner.values()),n=>n[1])}}class p{constructor(i){this.errors=0,this.infos=0,this.warnings=0,this.unknowns=0,this._data=new D.ResourceMap,this._service=i,this._subscription=i.onMarkerChanged(this._update,this)}dispose(){this._subscription.dispose()}_update(i){for(const o of i){const r=this._data.get(o);r&&this._substract(r);const d=this._resourceStats(o);this._add(d),this._data.set(o,d)}}_resourceStats(i){const o={errors:0,warnings:0,infos:0,unknowns:0};if(e.unsupportedSchemas.has(i.scheme))return o;for(const{severity:r}of this._service.read({resource:i}))r===_.MarkerSeverity.Error?o.errors+=1:r===_.MarkerSeverity.Warning?o.warnings+=1:r===_.MarkerSeverity.Info?o.infos+=1:o.unknowns+=1;return o}_substract(i){this.errors-=i.errors,this.warnings-=i.warnings,this.infos-=i.infos,this.unknowns-=i.unknowns}_add(i){this.errors+=i.errors,this.warnings+=i.warnings,this.infos+=i.infos,this.unknowns+=i.unknowns}}class s{constructor(){this._onMarkerChanged=new k.DebounceEmitter({delay:0,merge:s._merge}),this.onMarkerChanged=this._onMarkerChanged.event,this._data=new f,this._stats=new p(this)}dispose(){this._stats.dispose(),this._onMarkerChanged.dispose()}remove(i,o){for(const r of o||[])this.changeOne(i,r,[])}changeOne(i,o,r){if((0,L.isFalsyOrEmpty)(r))this._data.delete(o,i)&&this._onMarkerChanged.fire([o]);else{const d=[];for(const h of r){const n=s._toMarker(i,o,h);n&&d.push(n)}this._data.set(o,i,d),this._onMarkerChanged.fire([o])}}static _toMarker(i,o,r){let{code:d,severity:h,message:n,source:c,startLineNumber:a,startColumn:l,endLineNumber:u,endColumn:C,relatedInformation:g,tags:v}=r;if(n)return a=a>0?a:1,l=l>0?l:1,u=u>=a?u:a,C=C>0?C:l,{resource:o,owner:i,code:d,severity:h,message:n,source:c,startLineNumber:a,startColumn:l,endLineNumber:u,endColumn:C,relatedInformation:g,tags:v}}changeAll(i,o){const r=[],d=this._data.values(i);if(d)for(const h of d){const n=y.Iterable.first(h);n&&(r.push(n.resource),this._data.delete(n.resource,i))}if((0,L.isNonEmptyArray)(o)){const h=new D.ResourceMap;for(const{resource:n,marker:c}of o){const a=s._toMarker(i,n,c);if(!a)continue;const l=h.get(n);l?l.push(a):(h.set(n,[a]),r.push(n))}for(const[n,c]of h)this._data.set(n,i,c)}r.length>0&&this._onMarkerChanged.fire(r)}read(i=Object.create(null)){let{owner:o,resource:r,severities:d,take:h}=i;if((!h||h<0)&&(h=-1),o&&r){const n=this._data.get(r,o);if(n){const c=[];for(const a of n)if(s._accept(a,d)){const l=c.push(a);if(h>0&&l===h)break}return c}else return[]}else if(!o&&!r){const n=[];for(const c of this._data.values())for(const a of c)if(s._accept(a,d)){const l=n.push(a);if(h>0&&l===h)return n}return n}else{const n=this._data.values(r??o),c=[];for(const a of n)for(const l of a)if(s._accept(l,d)){const u=c.push(l);if(h>0&&u===h)return c}return c}}static _accept(i,o){return o===void 0||(o&i.severity)===i.severity}static _merge(i){const o=new D.ResourceMap;for(const r of i)for(const d of r)o.set(d,!0);return Array.from(o.keys())}}e.MarkerService=s}),define(X[44],ee([1,0,107,8]),function(q,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NoOpNotification=e.INotificationService=e.Severity=void 0,e.Severity=L.default,e.INotificationService=(0,k.createDecorator)("notificationService");class y{}e.NoOpNotification=y}),define(X[56],ee([1,0,9,21,8]),function(q,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.extractSelection=e.matchesSomeScheme=e.matchesScheme=e.IOpenerService=void 0,e.IOpenerService=(0,y.createDecorator)("openerService");function D(_,f){return k.URI.isUri(_)?(0,L.equalsIgnoreCase)(_.scheme,f):(0,L.startsWithIgnoreCase)(_,f+":")}e.matchesScheme=D;function S(_,...f){return f.some(p=>D(_,p))}e.matchesSomeScheme=S;function m(_){let f;const p=/^L?(\d+)(?:,(\d+))?(-L?(\d+)(?:,(\d+))?)?/.exec(_.fragment);return p&&(f={startLineNumber:parseInt(p[1]),startColumn:p[2]?parseInt(p[2]):1,endLineNumber:p[4]?parseInt(p[4]):void 0,endColumn:p[4]?p[5]?parseInt(p[5]):1:void 0},_=_.with({fragment:""})),{selection:f,uri:_}}e.extractSelection=m}),define(X[757],ee([1,0,7,20,63,64,221,53,43,21,32,26,732,56]),function(q,e,L,k,y,D,S,m,_,f,p,s,t,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OpenerService=void 0;let o=class{constructor(n){this._commandService=n}open(n,c){return Le(this,void 0,void 0,function*(){if(!(0,i.matchesScheme)(n,m.Schemas.command))return!1;if(!c?.allowCommands||(typeof n=="string"&&(n=f.URI.parse(n)),Array.isArray(c.allowCommands)&&!c.allowCommands.includes(n.path)))return!0;let a=[];try{a=(0,S.parse)(decodeURIComponent(n.query))}catch{try{a=(0,S.parse)(n.query)}catch{}}return Array.isArray(a)||(a=[a]),yield this._commandService.executeCommand(n.path,...a),!0})}};o=Ne([ge(0,s.ICommandService)],o);let r=class{constructor(n){this._editorService=n}open(n,c){return Le(this,void 0,void 0,function*(){typeof n=="string"&&(n=f.URI.parse(n));const{selection:a,uri:l}=(0,i.extractSelection)(n);return n=l,n.scheme===m.Schemas.file&&(n=(0,_.normalizePath)(n)),yield this._editorService.openCodeEditor({resource:n,options:Object.assign({selection:a,source:c?.fromUserGesture?t.EditorOpenSource.USER:t.EditorOpenSource.API},c?.editorOptions)},this._editorService.getFocusedCodeEditor(),c?.openToSide),!0})}};r=Ne([ge(0,p.ICodeEditorService)],r);let d=e.OpenerService=class{constructor(n,c){this._openers=new y.LinkedList,this._validators=new y.LinkedList,this._resolvers=new y.LinkedList,this._resolvedUriTargets=new D.ResourceMap(a=>a.with({path:null,fragment:null,query:null}).toString()),this._externalOpeners=new y.LinkedList,this._defaultExternalOpener={openExternal:a=>Le(this,void 0,void 0,function*(){return(0,i.matchesSomeScheme)(a,m.Schemas.http,m.Schemas.https)?L.windowOpenNoOpener(a):window.location.href=a,!0})},this._openers.push({open:(a,l)=>Le(this,void 0,void 0,function*(){return l?.openExternal||(0,i.matchesSomeScheme)(a,m.Schemas.mailto,m.Schemas.http,m.Schemas.https,m.Schemas.vsls)?(yield this._doOpenExternal(a,l),!0):!1})}),this._openers.push(new o(c)),this._openers.push(new r(n))}registerOpener(n){return{dispose:this._openers.unshift(n)}}open(n,c){var a;return Le(this,void 0,void 0,function*(){const l=typeof n=="string"?f.URI.parse(n):n,u=(a=this._resolvedUriTargets.get(l))!==null&&a!==void 0?a:n;for(const C of this._validators)if(!(yield C.shouldOpen(u,c)))return!1;for(const C of this._openers)if(yield C.open(n,c))return!0;return!1})}resolveExternalUri(n,c){return Le(this,void 0,void 0,function*(){for(const a of this._resolvers)try{const l=yield a.resolveExternalUri(n,c);if(l)return this._resolvedUriTargets.has(l.resolved)||this._resolvedUriTargets.set(l.resolved,n),l}catch{}throw new Error("Could not resolve external URI: "+n.toString())})}_doOpenExternal(n,c){return Le(this,void 0,void 0,function*(){const a=typeof n=="string"?f.URI.parse(n):n;let l;try{l=(yield this.resolveExternalUri(a,c)).resolved}catch{l=a}let u;if(typeof n=="string"&&a.toString()===l.toString()?u=n:u=encodeURI(l.toString(!0)),c?.allowContributedOpeners){const C=typeof c?.allowContributedOpeners=="string"?c?.allowContributedOpeners:void 0;for(const g of this._externalOpeners)if(yield g.openExternal(u,{sourceUri:a,preferredOpenerId:C},k.CancellationToken.None))return!0}return this._defaultExternalOpener.openExternal(u,{sourceUri:a},k.CancellationToken.None)})}dispose(){this._validators.clear()}};e.OpenerService=d=Ne([ge(0,p.ICodeEditorService),ge(1,s.ICommandService)],d)}),define(X[75],ee([1,0,141,64,139,240,48,8,69,56]),function(q,e,L,k,y,D,S,m,_,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LanguageFeatureDebounceService=e.ILanguageFeatureDebounceService=void 0,e.ILanguageFeatureDebounceService=(0,m.createDecorator)("ILanguageFeatureDebounceService");var p;(function(o){const r=new WeakMap;let d=0;function h(n){let c=r.get(n);return c===void 0&&(c=++d,r.set(n,c)),c}o.of=h})(p||(p={}));class s{constructor(r){this._default=r}get(r){return this._default}update(r,d){return this._default}default(){return this._default}}class t{constructor(r,d,h,n,c,a){this._logService=r,this._name=d,this._registry=h,this._default=n,this._min=c,this._max=a,this._cache=new k.LRUCache(50,.7)}_key(r){return r.id+this._registry.all(r).reduce((d,h)=>(0,L.doHash)(p.of(h),d),0)}get(r){const d=this._key(r),h=this._cache.get(d);return h?(0,y.clamp)(h.value,this._min,this._max):this.default()}update(r,d){const h=this._key(r);let n=this._cache.get(h);n||(n=new y.SlidingWindowAverage(6),this._cache.set(h,n));const c=(0,y.clamp)(n.update(d),this._min,this._max);return(0,f.matchesScheme)(r.uri,"output")||this._logService.trace(`[DEBOUNCE: ${this._name}] for ${r.uri.toString()} is ${c}ms`),c}_overall(){const r=new y.MovingAverage;for(const[,d]of this._cache)r.update(d.value);return r.value}default(){const r=this._overall()|0||this._default;return(0,y.clamp)(r,this._min,this._max)}}let i=e.LanguageFeatureDebounceService=class{constructor(r,d){this._logService=r,this._data=new Map,this._isDev=d.isExtensionDevelopment||!d.isBuilt}for(r,d,h){var n,c,a;const l=(n=h?.min)!==null&&n!==void 0?n:50,u=(c=h?.max)!==null&&c!==void 0?c:Math.pow(l,2),C=(a=h?.key)!==null&&a!==void 0?a:void 0,g=`${p.of(r)},${l}${C?","+C:""}`;let v=this._data.get(g);return v||(this._isDev?v=new t(this._logService,d,r,this._overallAverage()|0||l*1.5,l,u):(this._logService.debug(`[DEBOUNCE: ${d}] is disabled in developed mode`),v=new s(l*1.5)),this._data.set(g,v)),v}_overallAverage(){const r=new y.MovingAverage;for(const d of this._data.values())r.update(d.default());return r.value}};e.LanguageFeatureDebounceService=i=Ne([ge(0,_.ILogService),ge(1,D.IEnvironmentService)],i),(0,S.registerSingleton)(e.ILanguageFeatureDebounceService,i,1)}),define(X[189],ee([1,0,16,20,12,50,64,11,5,75,8,48,49,2,19]),function(q,e,L,k,y,D,S,m,_,f,p,s,t,i,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OutlineModelService=e.IOutlineModelService=e.OutlineModel=e.OutlineGroup=e.OutlineElement=e.TreeElement=void 0;class r{remove(){var l;(l=this.parent)===null||l===void 0||l.children.delete(this.id)}static findId(l,u){let C;typeof l=="string"?C=`${u.id}/${l}`:(C=`${u.id}/${l.name}`,u.children.get(C)!==void 0&&(C=`${u.id}/${l.name}_${l.range.startLineNumber}_${l.range.startColumn}`));let g=C;for(let v=0;u.children.get(g)!==void 0;v++)g=`${C}_${v}`;return g}static empty(l){return l.children.size===0}}e.TreeElement=r;class d extends r{constructor(l,u,C){super(),this.id=l,this.parent=u,this.symbol=C,this.children=new Map}}e.OutlineElement=d;class h extends r{constructor(l,u,C,g){super(),this.id=l,this.parent=u,this.label=C,this.order=g,this.children=new Map}}e.OutlineGroup=h;class n extends r{static create(l,u,C){const g=new k.CancellationTokenSource(C),v=new n(u.uri),b=l.ordered(u),w=b.map((I,T)=>{var P;const A=r.findId(`provider_${T}`,v),M=new h(A,v,(P=I.displayName)!==null&&P!==void 0?P:"Unknown Outline Provider",T);return Promise.resolve(I.provideDocumentSymbols(u,g.token)).then(N=>{for(const R of N||[])n._makeOutlineElement(R,M);return M},N=>((0,y.onUnexpectedExternalError)(N),M)).then(N=>{r.empty(N)?N.remove():v._groups.set(A,N)})}),E=l.onDidChange(()=>{const I=l.ordered(u);(0,L.equals)(I,b)||g.cancel()});return Promise.all(w).then(()=>g.token.isCancellationRequested&&!C.isCancellationRequested?n.create(l,u,C):v._compact()).finally(()=>{E.dispose()})}static _makeOutlineElement(l,u){const C=r.findId(l,u),g=new d(C,u,l);if(l.children)for(const v of l.children)n._makeOutlineElement(v,g);u.children.set(g.id,g)}constructor(l){super(),this.uri=l,this.id="root",this.parent=void 0,this._groups=new Map,this.children=new Map,this.id="root",this.parent=void 0}_compact(){let l=0;for(const[u,C]of this._groups)C.children.size===0?this._groups.delete(u):l+=1;if(l!==1)this.children=this._groups;else{const u=D.Iterable.first(this._groups.values());for(const[,C]of u.children)C.parent=this,this.children.set(C.id,C)}return this}getTopLevelSymbols(){const l=[];for(const u of this.children.values())u instanceof d?l.push(u.symbol):l.push(...D.Iterable.map(u.children.values(),C=>C.symbol));return l.sort((u,C)=>_.Range.compareRangesUsingStarts(u.range,C.range))}asListOfDocumentSymbols(){const l=this.getTopLevelSymbols(),u=[];return n._flattenDocumentSymbols(u,l,""),u.sort((C,g)=>m.Position.compare(_.Range.getStartPosition(C.range),_.Range.getStartPosition(g.range))||m.Position.compare(_.Range.getEndPosition(g.range),_.Range.getEndPosition(C.range)))}static _flattenDocumentSymbols(l,u,C){for(const g of u)l.push({kind:g.kind,tags:g.tags,name:g.name,detail:g.detail,containerName:g.containerName||C,range:g.range,selectionRange:g.selectionRange,children:void 0}),g.children&&n._flattenDocumentSymbols(l,g.children,g.name)}}e.OutlineModel=n,e.IOutlineModelService=(0,p.createDecorator)("IOutlineModelService");let c=e.OutlineModelService=class{constructor(l,u,C){this._languageFeaturesService=l,this._disposables=new i.DisposableStore,this._cache=new S.LRUCache(10,.7),this._debounceInformation=u.for(l.documentSymbolProvider,"DocumentSymbols",{min:350}),this._disposables.add(C.onModelRemoved(g=>{this._cache.delete(g.id)}))}dispose(){this._disposables.dispose()}getOrCreate(l,u){return Le(this,void 0,void 0,function*(){const C=this._languageFeaturesService.documentSymbolProvider,g=C.ordered(l);let v=this._cache.get(l.id);if(!v||v.versionId!==l.getVersionId()||!(0,L.equals)(v.provider,g)){const w=new k.CancellationTokenSource;v={versionId:l.getVersionId(),provider:g,promiseCnt:0,source:w,promise:n.create(C,l,w.token),model:void 0},this._cache.set(l.id,v);const E=Date.now();v.promise.then(I=>{v.model=I,this._debounceInformation.update(l,Date.now()-E)}).catch(I=>{this._cache.delete(l.id)})}if(v.model)return v.model;v.promiseCnt+=1;const b=u.onCancellationRequested(()=>{--v.promiseCnt===0&&(v.source.cancel(),this._cache.delete(l.id))});try{return yield v.promise}finally{b.dispose()}})}};e.OutlineModelService=c=Ne([ge(0,o.ILanguageFeaturesService),ge(1,f.ILanguageFeatureDebounceService),ge(2,t.IModelService)],c),(0,s.registerSingleton)(e.IOutlineModelService,c,1)}),define(X[758],ee([1,0,20,18,21,68,189,26]),function(q,e,L,k,y,D,S,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),m.CommandsRegistry.registerCommand("_executeDocumentSymbolProvider",function(_,...f){return Le(this,void 0,void 0,function*(){const[p]=f;(0,k.assertType)(y.URI.isUri(p));const s=_.get(S.IOutlineModelService),i=yield _.get(D.ITextModelService).createModelReference(p);try{return(yield s.getOrCreate(i.object.textEditorModel,L.CancellationToken.None)).getTopLevelSymbols()}finally{i.dispose()}})})}),define(X[759],ee([1,0,7,80,45,60,6,2,56,468]),function(q,e,L,k,y,D,S,m,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Link=void 0;let f=e.Link=class extends m.Disposable{get enabled(){return this._enabled}set enabled(s){s?(this.el.setAttribute("aria-disabled","false"),this.el.tabIndex=0,this.el.style.pointerEvents="auto",this.el.style.opacity="1",this.el.style.cursor="pointer",this._enabled=!1):(this.el.setAttribute("aria-disabled","true"),this.el.tabIndex=-1,this.el.style.pointerEvents="none",this.el.style.opacity="0.4",this.el.style.cursor="default",this._enabled=!0),this._enabled=s}constructor(s,t,i={},o){var r;super(),this._link=t,this._enabled=!0,this.el=(0,L.append)(s,(0,L.$)("a.monaco-link",{tabIndex:(r=t.tabIndex)!==null&&r!==void 0?r:0,href:t.href,title:t.title},t.label)),this.el.setAttribute("role","button");const d=this._register(new k.DomEmitter(this.el,"click")),h=this._register(new k.DomEmitter(this.el,"keypress")),n=S.Event.chain(h.event).map(l=>new y.StandardKeyboardEvent(l)).filter(l=>l.keyCode===3).event,c=this._register(new k.DomEmitter(this.el,D.EventType.Tap)).event;this._register(D.Gesture.addTarget(this.el));const a=S.Event.any(d.event,n,c);this._register(a(l=>{this.enabled&&(L.EventHelper.stop(l,!0),i?.opener?i.opener(this._link.href):o.open(this._link.href,{allowCommands:!0}))})),this.enabled=!0}};e.Link=f=Ne([ge(3,_.IOpenerService)],f)}),define(X[83],ee([1,0,8]),function(q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IEditorProgressService=e.Progress=e.emptyProgressRunner=e.IProgressService=void 0,e.IProgressService=(0,L.createDecorator)("progressService"),e.emptyProgressRunner=Object.freeze({total(){},worked(){},done(){}});class k{constructor(D){this.callback=D}report(D){this._value=D,this.callback(this._value)}}e.Progress=k,k.None=Object.freeze({report(){}}),e.IEditorProgressService=(0,L.createDecorator)("editorProgressService")}),define(X[760],ee([1,0,14,20,2,18]),function(q,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PickerQuickAccessProvider=e.TriggerAction=void 0;var S;(function(p){p[p.NO_ACTION=0]="NO_ACTION",p[p.CLOSE_PICKER=1]="CLOSE_PICKER",p[p.REFRESH_PICKER=2]="REFRESH_PICKER",p[p.REMOVE_ITEM=3]="REMOVE_ITEM"})(S||(e.TriggerAction=S={}));function m(p){const s=p;return Array.isArray(s.items)}function _(p){const s=p;return!!s.picks&&s.additionalPicks instanceof Promise}class f extends y.Disposable{constructor(s,t){super(),this.prefix=s,this.options=t}provide(s,t,i){var o;const r=new y.DisposableStore;s.canAcceptInBackground=!!(!((o=this.options)===null||o===void 0)&&o.canAcceptInBackground),s.matchOnLabel=s.matchOnDescription=s.matchOnDetail=s.sortByLabel=!1;let d;const h=r.add(new y.MutableDisposable),n=()=>Le(this,void 0,void 0,function*(){const c=h.value=new y.DisposableStore;d?.dispose(!0),s.busy=!1,d=new k.CancellationTokenSource(t);const a=d.token,l=s.value.substr(this.prefix.length).trim(),u=this._getPicks(l,c,a,i),C=(v,b)=>{var w;let E,I;if(m(v)?(E=v.items,I=v.active):E=v,E.length===0){if(b)return!1;(l.length>0||s.hideInput)&&(!((w=this.options)===null||w===void 0)&&w.noResultsPick)&&((0,D.isFunction)(this.options.noResultsPick)?E=[this.options.noResultsPick(l)]:E=[this.options.noResultsPick])}return s.items=E,I&&(s.activeItems=[I]),!0},g=v=>Le(this,void 0,void 0,function*(){let b=!1,w=!1;yield Promise.all([(()=>Le(this,void 0,void 0,function*(){typeof v.mergeDelay=="number"&&(yield(0,L.timeout)(v.mergeDelay),a.isCancellationRequested)||w||(b=C(v.picks,!0))}))(),(()=>Le(this,void 0,void 0,function*(){s.busy=!0;try{const E=yield v.additionalPicks;if(a.isCancellationRequested)return;let I,T;m(v.picks)?(I=v.picks.items,T=v.picks.active):I=v.picks;let P,A;if(m(E)?(P=E.items,A=E.active):P=E,P.length>0||!b){let M;if(!T&&!A){const N=s.activeItems[0];N&&I.indexOf(N)!==-1&&(M=N)}C({items:[...I,...P],active:T||A||M})}}finally{a.isCancellationRequested||(s.busy=!1),w=!0}}))()])});if(u!==null)if(_(u))yield g(u);else if(!(u instanceof Promise))C(u);else{s.busy=!0;try{const v=yield u;if(a.isCancellationRequested)return;_(v)?yield g(v):C(v)}finally{a.isCancellationRequested||(s.busy=!1)}}});return r.add(s.onDidChangeValue(()=>n())),n(),r.add(s.onDidAccept(c=>{const[a]=s.selectedItems;typeof a?.accept=="function"&&(c.inBackground||s.hide(),a.accept(s.keyMods,c))})),r.add(s.onDidTriggerItemButton(({button:c,item:a})=>Le(this,void 0,void 0,function*(){var l,u;if(typeof a.trigger=="function"){const C=(u=(l=a.buttons)===null||l===void 0?void 0:l.indexOf(c))!==null&&u!==void 0?u:-1;if(C>=0){const g=a.trigger(C,s.keyMods),v=typeof g=="number"?g:yield g;if(t.isCancellationRequested)return;switch(v){case S.NO_ACTION:break;case S.CLOSE_PICKER:s.hide();break;case S.REFRESH_PICKER:n();break;case S.REMOVE_ITEM:{const b=s.items.indexOf(a);if(b!==-1){const w=s.items.slice(),E=w.splice(b,1),I=s.activeItems.filter(P=>P!==E[0]),T=s.keepScrollPosition;s.keepScrollPosition=!0,s.items=w,I&&(s.activeItems=I),s.keepScrollPosition=T}break}}}}}))),r}}e.PickerQuickAccessProvider=f}),define(X[761],ee([1,0,7,45,73,228,2,107,176]),function(q,e,L,k,y,D,S,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickInputBox=void 0;const _=L.$;class f extends S.Disposable{constructor(s,t,i){super(),this.parent=s,this.onKeyDown=r=>L.addDisposableListener(this.findInput.inputBox.inputElement,L.EventType.KEY_DOWN,d=>{r(new k.StandardKeyboardEvent(d))}),this.onMouseDown=r=>L.addDisposableListener(this.findInput.inputBox.inputElement,L.EventType.MOUSE_DOWN,d=>{r(new y.StandardMouseEvent(d))}),this.onDidChange=r=>this.findInput.onDidChange(r),this.container=L.append(this.parent,_(".quick-input-box")),this.findInput=this._register(new D.FindInput(this.container,void 0,{label:"",inputBoxStyles:t,toggleStyles:i}));const o=this.findInput.inputBox.inputElement;o.role="combobox",o.ariaHasPopup="menu",o.ariaAutoComplete="list",o.ariaExpanded="true"}get value(){return this.findInput.getValue()}set value(s){this.findInput.setValue(s)}select(s=null){this.findInput.inputBox.select(s)}isSelectionAtEnd(){return this.findInput.inputBox.isSelectionAtEnd()}get placeholder(){return this.findInput.inputBox.inputElement.getAttribute("placeholder")||""}set placeholder(s){this.findInput.inputBox.setPlaceHolder(s)}get password(){return this.findInput.inputBox.inputElement.type==="password"}set password(s){this.findInput.inputBox.inputElement.type=s?"password":"text"}set enabled(s){this.findInput.inputBox.inputElement.toggleAttribute("readonly",!s)}set toggles(s){this.findInput.setAdditionalToggles(s)}setAttribute(s,t){this.findInput.inputBox.inputElement.setAttribute(s,t)}showDecoration(s){s===m.default.Ignore?this.findInput.clearMessage():this.findInput.showMessage({type:s===m.default.Info?1:s===m.default.Warning?2:3,content:""})}stylesForType(s){return this.findInput.inputBox.stylesForType(s===m.default.Info?1:s===m.default.Warning?2:3)}setFocus(){this.findInput.focus()}layout(){this.findInput.inputBox.layout()}}e.QuickInputBox=f}),define(X[333],ee([1,0,7,80,6,45,60,129,166,381,724,176]),function(q,e,L,k,y,D,S,m,_,f,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.renderQuickInputDescription=e.getIconClass=void 0;const s={},t=new _.IdGenerator("quick-input-button-icon-");function i(r){if(!r)return;let d;const h=r.dark.toString();return s[h]?d=s[h]:(d=t.nextId(),L.createCSSRule(`.${d}, .hc-light .${d}`,`background-image: ${L.asCSSUrl(r.light||r.dark)}`),L.createCSSRule(`.vs-dark .${d}, .hc-black .${d}`,`background-image: ${L.asCSSUrl(r.dark)}`),s[h]=d),d}e.getIconClass=i;function o(r,d,h){L.reset(d);const n=(0,f.parseLinkedText)(r);let c=0;for(const a of n.nodes)if(typeof a=="string")d.append(...(0,m.renderLabelWithIcons)(a));else{let l=a.title;!l&&a.href.startsWith("command:")?l=(0,p.localize)(0,null,a.href.substring(8)):l||(l=a.href);const u=L.$("a",{href:a.href,title:l,tabIndex:c++},a.label);u.style.textDecoration="underline";const C=E=>{L.isEventLike(E)&&L.EventHelper.stop(E,!0),h.callback(a.href)},g=h.disposables.add(new k.DomEmitter(u,L.EventType.CLICK)).event,v=h.disposables.add(new k.DomEmitter(u,L.EventType.KEY_DOWN)).event,b=h.disposables.add(y.Event.chain(v)).filter(E=>{const I=new D.StandardKeyboardEvent(E);return I.equals(10)||I.equals(3)}).event;h.disposables.add(S.Gesture.addTarget(u));const w=h.disposables.add(new k.DomEmitter(u,S.EventType.Tap)).event;y.Event.any(g,w,b)(C,null,h.disposables),d.appendChild(u)}}e.renderQuickInputDescription=o}),define(X[76],ee([1,0,8]),function(q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IQuickInputService=e.quickPickItemScorerAccessor=e.QuickPickItemScorerAccessor=e.ItemActivation=e.QuickInputHideReason=e.NO_KEY_MODS=void 0,e.NO_KEY_MODS={ctrlCmd:!1,alt:!1};var k;(function(S){S[S.Blur=1]="Blur",S[S.Gesture=2]="Gesture",S[S.Other=3]="Other"})(k||(e.QuickInputHideReason=k={}));var y;(function(S){S[S.NONE=0]="NONE",S[S.FIRST=1]="FIRST",S[S.SECOND=2]="SECOND",S[S.LAST=3]="LAST"})(y||(e.ItemActivation=y={}));class D{constructor(m){this.options=m}}e.QuickPickItemScorerAccessor=D,e.quickPickItemScorerAccessor=new D,e.IQuickInputService=(0,L.createDecorator)("quickInputService")}),define(X[38],ee([1,0,84,18]),function(q,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Registry=void 0;class y{constructor(){this.data=new Map}add(S,m){L.ok(k.isString(S)),L.ok(k.isObject(m)),L.ok(!this.data.has(S),"There is already an extension with this id"),this.data.set(S,m)}as(S){return this.data.get(S)||null}}e.Registry=new y}),define(X[334],ee([1,0,38]),function(q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LocalSelectionTransfer=e.Extensions=e.CodeDataTransfers=void 0,e.CodeDataTransfers={EDITORS:"CodeEditors",FILES:"CodeFiles"};class k{}e.Extensions={DragAndDropContribution:"workbench.contributions.dragAndDrop"},L.Registry.add(e.Extensions.DragAndDropContribution,new k);class y{constructor(){}static getInstance(){return y.INSTANCE}hasData(S){return S&&S===this.proto}getData(S){if(this.hasData(S))return this.data}}e.LocalSelectionTransfer=y,y.INSTANCE=new y}),define(X[335],ee([1,0,196,173,105,21,334]),function(q,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toExternalVSDataTransfer=e.toVSDataTransfer=void 0;function m(s){const t=new k.VSDataTransfer;for(const i of s.items){const o=i.type;if(i.kind==="string"){const r=new Promise(d=>i.getAsString(d));t.append(o,(0,k.createStringDataTransferItem)(r))}else if(i.kind==="file"){const r=i.getAsFile();r&&t.append(o,_(r))}}return t}e.toVSDataTransfer=m;function _(s){const t=s.path?D.URI.parse(s.path):void 0;return(0,k.createFileDataTransferItem)(s.name,t,()=>Le(this,void 0,void 0,function*(){return new Uint8Array(yield s.arrayBuffer())}))}const f=Object.freeze([S.CodeDataTransfers.EDITORS,S.CodeDataTransfers.FILES,L.DataTransfers.RESOURCES,L.DataTransfers.INTERNAL_URI_LIST]);function p(s,t=!1){const i=m(s),o=i.get(L.DataTransfers.INTERNAL_URI_LIST);if(o)i.replace(y.Mimes.uriList,o);else if(t||!i.has(y.Mimes.uriList)){const r=[];for(const d of s.items){const h=d.getAsFile();if(h){const n=h.path;try{n?r.push(D.URI.file(n).toString()):r.push(D.URI.parse(h.name,!0).toString())}catch{}}}r.length&&i.replace(y.Mimes.uriList,(0,k.createStringDataTransferItem)(k.UriList.create(r)))}for(const r of f)i.delete(r);return i}e.toExternalVSDataTransfer=p}),define(X[241],ee([1,0,6,38]),function(q,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Extensions=void 0,e.Extensions={JSONContribution:"base.contributions.json"};function y(m){return m.length>0&&m.charAt(m.length-1)==="#"?m.substring(0,m.length-1):m}class D{constructor(){this._onDidChangeSchema=new L.Emitter,this.schemasById={}}registerSchema(_,f){this.schemasById[y(_)]=f,this._onDidChangeSchema.fire(_)}notifySchemaChanged(_){this._onDidChangeSchema.fire(_)}}const S=new D;k.Registry.add(e.Extensions.JSONContribution,S)}),define(X[101],ee([1,0,16,6,18,711,28,241,38]),function(q,e,L,k,y,D,S,m,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.validateProperty=e.getDefaultValue=e.overrideIdentifiersFromKey=e.OVERRIDE_PROPERTY_REGEX=e.OVERRIDE_PROPERTY_PATTERN=e.resourceLanguageSettingsSchemaId=e.resourceSettings=e.windowSettings=e.machineOverridableSettings=e.machineSettings=e.applicationSettings=e.allSettings=e.Extensions=void 0,e.Extensions={Configuration:"base.contributions.configuration"},e.allSettings={properties:{},patternProperties:{}},e.applicationSettings={properties:{},patternProperties:{}},e.machineSettings={properties:{},patternProperties:{}},e.machineOverridableSettings={properties:{},patternProperties:{}},e.windowSettings={properties:{},patternProperties:{}},e.resourceSettings={properties:{},patternProperties:{}},e.resourceLanguageSettingsSchemaId="vscode://schemas/settings/resourceLanguage";const f=_.Registry.as(m.Extensions.JSONContribution);class p{constructor(){this.overrideIdentifiers=new Set,this._onDidSchemaChange=new k.Emitter,this._onDidUpdateConfiguration=new k.Emitter,this.configurationDefaultsOverrides=new Map,this.defaultLanguageConfigurationOverridesNode={id:"defaultOverrides",title:D.localize(0,null),properties:{}},this.configurationContributors=[this.defaultLanguageConfigurationOverridesNode],this.resourceLanguageSettingsSchema={properties:{},patternProperties:{},additionalProperties:!0,allowTrailingCommas:!0,allowComments:!0},this.configurationProperties={},this.policyConfigurations=new Map,this.excludedConfigurationProperties={},f.registerSchema(e.resourceLanguageSettingsSchemaId,this.resourceLanguageSettingsSchema),this.registerOverridePropertyPatternKey()}registerConfiguration(n,c=!0){this.registerConfigurations([n],c)}registerConfigurations(n,c=!0){const a=new Set;this.doRegisterConfigurations(n,c,a),f.registerSchema(e.resourceLanguageSettingsSchemaId,this.resourceLanguageSettingsSchema),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:a})}registerDefaultConfigurations(n){const c=new Set;this.doRegisterDefaultConfigurations(n,c),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:c,defaultsOverrides:!0})}doRegisterDefaultConfigurations(n,c){var a;const l=[];for(const{overrides:u,source:C}of n)for(const g in u)if(c.add(g),e.OVERRIDE_PROPERTY_REGEX.test(g)){const v=this.configurationDefaultsOverrides.get(g),b=(a=v?.valuesSources)!==null&&a!==void 0?a:new Map;if(C)for(const T of Object.keys(u[g]))b.set(T,C);const w=Object.assign(Object.assign({},v?.value||{}),u[g]);this.configurationDefaultsOverrides.set(g,{source:C,value:w,valuesSources:b});const E=(0,S.getLanguageTagSettingPlainKey)(g),I={type:"object",default:w,description:D.localize(1,null,E),$ref:e.resourceLanguageSettingsSchemaId,defaultDefaultValue:w,source:y.isString(C)?void 0:C,defaultValueSource:C};l.push(...i(g)),this.configurationProperties[g]=I,this.defaultLanguageConfigurationOverridesNode.properties[g]=I}else{this.configurationDefaultsOverrides.set(g,{value:u[g],source:C});const v=this.configurationProperties[g];v&&(this.updatePropertyDefaultValue(g,v),this.updateSchema(g,v))}this.doRegisterOverrideIdentifiers(l)}registerOverrideIdentifiers(n){this.doRegisterOverrideIdentifiers(n),this._onDidSchemaChange.fire()}doRegisterOverrideIdentifiers(n){for(const c of n)this.overrideIdentifiers.add(c);this.updateOverridePropertyPatternKey()}doRegisterConfigurations(n,c,a){n.forEach(l=>{this.validateAndRegisterProperties(l,c,l.extensionInfo,l.restrictedProperties,void 0,a),this.configurationContributors.push(l),this.registerJSONConfiguration(l)})}validateAndRegisterProperties(n,c=!0,a,l,u=3,C){var g;u=y.isUndefinedOrNull(n.scope)?u:n.scope;const v=n.properties;if(v)for(const w in v){const E=v[w];if(c&&d(w,E)){delete v[w];continue}if(E.source=a,E.defaultDefaultValue=v[w].default,this.updatePropertyDefaultValue(w,E),e.OVERRIDE_PROPERTY_REGEX.test(w)?E.scope=void 0:(E.scope=y.isUndefinedOrNull(E.scope)?u:E.scope,E.restricted=y.isUndefinedOrNull(E.restricted)?!!l?.includes(w):E.restricted),v[w].hasOwnProperty("included")&&!v[w].included){this.excludedConfigurationProperties[w]=v[w],delete v[w];continue}else this.configurationProperties[w]=v[w],!((g=v[w].policy)===null||g===void 0)&&g.name&&this.policyConfigurations.set(v[w].policy.name,w);!v[w].deprecationMessage&&v[w].markdownDeprecationMessage&&(v[w].deprecationMessage=v[w].markdownDeprecationMessage),C.add(w)}const b=n.allOf;if(b)for(const w of b)this.validateAndRegisterProperties(w,c,a,l,u,C)}getConfigurationProperties(){return this.configurationProperties}getPolicyConfigurations(){return this.policyConfigurations}registerJSONConfiguration(n){const c=a=>{const l=a.properties;if(l)for(const C in l)this.updateSchema(C,l[C]);const u=a.allOf;u?.forEach(c)};c(n)}updateSchema(n,c){switch(e.allSettings.properties[n]=c,c.scope){case 1:e.applicationSettings.properties[n]=c;break;case 2:e.machineSettings.properties[n]=c;break;case 6:e.machineOverridableSettings.properties[n]=c;break;case 3:e.windowSettings.properties[n]=c;break;case 4:e.resourceSettings.properties[n]=c;break;case 5:e.resourceSettings.properties[n]=c,this.resourceLanguageSettingsSchema.properties[n]=c;break}}updateOverridePropertyPatternKey(){for(const n of this.overrideIdentifiers.values()){const c=`[${n}]`,a={type:"object",description:D.localize(2,null),errorMessage:D.localize(3,null),$ref:e.resourceLanguageSettingsSchemaId};this.updatePropertyDefaultValue(c,a),e.allSettings.properties[c]=a,e.applicationSettings.properties[c]=a,e.machineSettings.properties[c]=a,e.machineOverridableSettings.properties[c]=a,e.windowSettings.properties[c]=a,e.resourceSettings.properties[c]=a}}registerOverridePropertyPatternKey(){const n={type:"object",description:D.localize(4,null),errorMessage:D.localize(5,null),$ref:e.resourceLanguageSettingsSchemaId};e.allSettings.patternProperties[e.OVERRIDE_PROPERTY_PATTERN]=n,e.applicationSettings.patternProperties[e.OVERRIDE_PROPERTY_PATTERN]=n,e.machineSettings.patternProperties[e.OVERRIDE_PROPERTY_PATTERN]=n,e.machineOverridableSettings.patternProperties[e.OVERRIDE_PROPERTY_PATTERN]=n,e.windowSettings.patternProperties[e.OVERRIDE_PROPERTY_PATTERN]=n,e.resourceSettings.patternProperties[e.OVERRIDE_PROPERTY_PATTERN]=n,this._onDidSchemaChange.fire()}updatePropertyDefaultValue(n,c){const a=this.configurationDefaultsOverrides.get(n);let l=a?.value,u=a?.source;y.isUndefined(l)&&(l=c.defaultDefaultValue,u=void 0),y.isUndefined(l)&&(l=o(c.type)),c.default=l,c.defaultValueSource=u}}const s="\\[([^\\]]+)\\]",t=new RegExp(s,"g");e.OVERRIDE_PROPERTY_PATTERN=`^(${s})+$`,e.OVERRIDE_PROPERTY_REGEX=new RegExp(e.OVERRIDE_PROPERTY_PATTERN);function i(h){const n=[];if(e.OVERRIDE_PROPERTY_REGEX.test(h)){let c=t.exec(h);for(;c?.length;){const a=c[1].trim();a&&n.push(a),c=t.exec(h)}}return(0,L.distinct)(n)}e.overrideIdentifiersFromKey=i;function o(h){switch(Array.isArray(h)?h[0]:h){case"boolean":return!1;case"integer":case"number":return 0;case"string":return"";case"array":return[];case"object":return{};default:return null}}e.getDefaultValue=o;const r=new p;_.Registry.add(e.Extensions.Configuration,r);function d(h,n){var c,a,l,u;return h.trim()?e.OVERRIDE_PROPERTY_REGEX.test(h)?D.localize(7,null,h):r.getConfigurationProperties()[h]!==void 0?D.localize(8,null,h):!((c=n.policy)===null||c===void 0)&&c.name&&r.getPolicyConfigurations().get((a=n.policy)===null||a===void 0?void 0:a.name)!==void 0?D.localize(9,null,h,(l=n.policy)===null||l===void 0?void 0:l.name,r.getPolicyConfigurations().get((u=n.policy)===null||u===void 0?void 0:u.name)):null:D.localize(6,null)}e.validateProperty=d}),define(X[336],ee([1,0,35,177,614,101,38]),function(q,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isDiffEditorConfigurationKey=e.isEditorConfigurationKey=e.editorConfigurationBaseNode=void 0,e.editorConfigurationBaseNode=Object.freeze({id:"editor",order:5,type:"object",title:y.localize(0,null),scope:5});const m=Object.assign(Object.assign({},e.editorConfigurationBaseNode),{properties:{"editor.tabSize":{type:"number",default:k.EDITOR_MODEL_DEFAULTS.tabSize,minimum:1,markdownDescription:y.localize(1,null,"`#editor.detectIndentation#`")},"editor.indentSize":{anyOf:[{type:"string",enum:["tabSize"]},{type:"number",minimum:1}],default:"tabSize",markdownDescription:y.localize(2,null)},"editor.insertSpaces":{type:"boolean",default:k.EDITOR_MODEL_DEFAULTS.insertSpaces,markdownDescription:y.localize(3,null,"`#editor.detectIndentation#`")},"editor.detectIndentation":{type:"boolean",default:k.EDITOR_MODEL_DEFAULTS.detectIndentation,markdownDescription:y.localize(4,null,"`#editor.tabSize#`","`#editor.insertSpaces#`")},"editor.trimAutoWhitespace":{type:"boolean",default:k.EDITOR_MODEL_DEFAULTS.trimAutoWhitespace,description:y.localize(5,null)},"editor.largeFileOptimizations":{type:"boolean",default:k.EDITOR_MODEL_DEFAULTS.largeFileOptimizations,description:y.localize(6,null)},"editor.wordBasedSuggestions":{type:"boolean",default:!0,description:y.localize(7,null)},"editor.wordBasedSuggestionsMode":{enum:["currentDocument","matchingDocuments","allDocuments"],default:"matchingDocuments",enumDescriptions:[y.localize(8,null),y.localize(9,null),y.localize(10,null)],description:y.localize(11,null)},"editor.semanticHighlighting.enabled":{enum:[!0,!1,"configuredByTheme"],enumDescriptions:[y.localize(12,null),y.localize(13,null),y.localize(14,null)],default:"configuredByTheme",description:y.localize(15,null)},"editor.stablePeek":{type:"boolean",default:!1,markdownDescription:y.localize(16,null)},"editor.maxTokenizationLineLength":{type:"integer",default:2e4,description:y.localize(17,null)},"editor.experimental.asyncTokenization":{type:"boolean",default:!1,description:y.localize(18,null),tags:["experimental"]},"editor.experimental.asyncTokenizationLogging":{type:"boolean",default:!1,description:y.localize(19,null)},"editor.experimental.asyncTokenizationVerification":{type:"boolean",default:!1,description:y.localize(20,null)},"editor.language.brackets":{type:["array","null"],default:null,description:y.localize(21,null),items:{type:"array",items:[{type:"string",description:y.localize(22,null)},{type:"string",description:y.localize(23,null)}]}},"editor.language.colorizedBracketPairs":{type:["array","null"],default:null,description:y.localize(24,null),items:{type:"array",items:[{type:"string",description:y.localize(25,null)},{type:"string",description:y.localize(26,null)}]}},"diffEditor.maxComputationTime":{type:"number",default:5e3,description:y.localize(27,null)},"diffEditor.maxFileSize":{type:"number",default:50,description:y.localize(28,null)},"diffEditor.renderSideBySide":{type:"boolean",default:!0,description:y.localize(29,null)},"diffEditor.renderMarginRevertIcon":{type:"boolean",default:!0,description:y.localize(30,null)},"diffEditor.ignoreTrimWhitespace":{type:"boolean",default:!0,description:y.localize(31,null)},"diffEditor.renderIndicators":{type:"boolean",default:!0,description:y.localize(32,null)},"diffEditor.codeLens":{type:"boolean",default:!1,description:y.localize(33,null)},"diffEditor.wordWrap":{type:"string",enum:["off","on","inherit"],default:"inherit",markdownEnumDescriptions:[y.localize(34,null),y.localize(35,null),y.localize(36,null,"`#editor.wordWrap#`")]},"diffEditor.diffAlgorithm":{type:"string",enum:["legacy","advanced"],default:"legacy",markdownEnumDescriptions:[y.localize(37,null),y.localize(38,null)],tags:["experimental"]},"diffEditor.experimental.collapseUnchangedRegions":{type:"boolean",default:!1,markdownDescription:y.localize(39,null,"`#diffEditor.experimental.useVersion2#`")},"diffEditor.experimental.showMoves":{type:"boolean",default:!1,markdownDescription:y.localize(40,null,"`#diffEditor.experimental.useVersion2#`")},"diffEditor.experimental.useVersion2":{type:"boolean",default:!1,description:y.localize(41,null)},"diffEditor.experimental.showEmptyDecorations":{type:"boolean",default:!0,description:y.localize(42,null)}}});function _(o){return typeof o.type<"u"||typeof o.anyOf<"u"}for(const o of L.editorOptionsRegistry){const r=o.schema;if(typeof r<"u")if(_(r))m.properties[`editor.${o.name}`]=r;else for(const d in r)Object.hasOwnProperty.call(r,d)&&(m.properties[d]=r[d])}let f=null;function p(){return f===null&&(f=Object.create(null),Object.keys(m.properties).forEach(o=>{f[o]=!0})),f}function s(o){return p()[`editor.${o}`]||!1}e.isEditorConfigurationKey=s;function t(o){return p()[`diffEditor.${o}`]||!1}e.isDiffEditorConfigurationKey=t,S.Registry.as(D.Extensions.Configuration).registerConfiguration(m)}),define(X[77],ee([1,0,620,6,38,105,101]),function(q,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PLAINTEXT_EXTENSION=e.PLAINTEXT_LANGUAGE_ID=e.ModesRegistry=e.EditorModesRegistry=e.Extensions=void 0,e.Extensions={ModesRegistry:"editor.modesRegistry"};class m{constructor(){this._onDidChangeLanguages=new k.Emitter,this.onDidChangeLanguages=this._onDidChangeLanguages.event,this._languages=[]}registerLanguage(f){return this._languages.push(f),this._onDidChangeLanguages.fire(void 0),{dispose:()=>{for(let p=0,s=this._languages.length;p<s;p++)if(this._languages[p]===f){this._languages.splice(p,1);return}}}}getLanguages(){return this._languages}}e.EditorModesRegistry=m,e.ModesRegistry=new m,y.Registry.add(e.Extensions.ModesRegistry,e.ModesRegistry),e.PLAINTEXT_LANGUAGE_ID="plaintext",e.PLAINTEXT_EXTENSION=".txt",e.ModesRegistry.registerLanguage({id:e.PLAINTEXT_LANGUAGE_ID,extensions:[e.PLAINTEXT_EXTENSION],aliases:[L.localize(0,null),"text"],mimetypes:[D.Mimes.text]}),y.Registry.as(S.Extensions.Configuration).registerDefaultConfigurations([{overrides:{"[plaintext]":{"editor.unicodeHighlight.ambiguousCharacters":!1,"editor.unicodeHighlight.invisibleCharacters":!1}}}])}),define(X[30],ee([1,0,6,2,9,146,109,125,493,590,494,497,231,8,28,41,48,77,496]),function(q,e,L,k,y,D,S,m,_,f,p,s,t,i,o,r,d,h,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ResolvedLanguageConfiguration=e.LanguageConfigurationRegistry=e.LanguageConfigurationChangeEvent=e.getScopedLineTokens=e.getIndentationAtPosition=e.LanguageConfigurationService=e.ILanguageConfigurationService=e.LanguageConfigurationServiceChangeEvent=void 0;class c{constructor(N){this.languageId=N}affects(N){return this.languageId?this.languageId===N:!0}}e.LanguageConfigurationServiceChangeEvent=c,e.ILanguageConfigurationService=(0,i.createDecorator)("languageConfigurationService");let a=e.LanguageConfigurationService=class extends k.Disposable{constructor(N,R){super(),this.configurationService=N,this.languageService=R,this._registry=this._register(new P),this.onDidChangeEmitter=this._register(new L.Emitter),this.onDidChange=this.onDidChangeEmitter.event,this.configurations=new Map;const F=new Set(Object.values(u));this._register(this.configurationService.onDidChangeConfiguration(x=>{const W=x.change.keys.some(U=>F.has(U)),z=x.change.overrides.filter(([U,O])=>O.some(G=>F.has(G))).map(([U])=>U);if(W)this.configurations.clear(),this.onDidChangeEmitter.fire(new c(void 0));else for(const U of z)this.languageService.isRegisteredLanguageId(U)&&(this.configurations.delete(U),this.onDidChangeEmitter.fire(new c(U)))})),this._register(this._registry.onDidChange(x=>{this.configurations.delete(x.languageId),this.onDidChangeEmitter.fire(new c(x.languageId))}))}register(N,R,F){return this._registry.register(N,R,F)}getLanguageConfiguration(N){let R=this.configurations.get(N);return R||(R=l(N,this._registry,this.configurationService,this.languageService),this.configurations.set(N,R)),R}};e.LanguageConfigurationService=a=Ne([ge(0,o.IConfigurationService),ge(1,r.ILanguageService)],a);function l(M,N,R,F){let x=N.getLanguageConfiguration(M);if(!x){if(!F.isRegisteredLanguageId(M))return new A(M,{});x=new A(M,{})}const W=C(x.languageId,R),z=E([x.underlyingConfig,W]);return new A(x.languageId,z)}const u={brackets:"editor.language.brackets",colorizedBracketPairs:"editor.language.colorizedBracketPairs"};function C(M,N){const R=N.getValue(u.brackets,{overrideIdentifier:M}),F=N.getValue(u.colorizedBracketPairs,{overrideIdentifier:M});return{brackets:g(R),colorizedBracketPairs:g(F)}}function g(M){if(Array.isArray(M))return M.map(N=>{if(!(!Array.isArray(N)||N.length!==2))return[N[0],N[1]]}).filter(N=>!!N)}function v(M,N,R){const F=M.getLineContent(N);let x=y.getLeadingWhitespace(F);return x.length>R-1&&(x=x.substring(0,R-1)),x}e.getIndentationAtPosition=v;function b(M,N,R){M.tokenization.forceTokenization(N);const F=M.tokenization.getLineTokens(N),x=typeof R>"u"?M.getLineMaxColumn(N)-1:R-1;return(0,m.createScopedLineTokens)(F,x)}e.getScopedLineTokens=b;class w{constructor(N){this.languageId=N,this._resolved=null,this._entries=[],this._order=0,this._resolved=null}register(N,R){const F=new I(N,R,++this._order);return this._entries.push(F),this._resolved=null,(0,k.toDisposable)(()=>{for(let x=0;x<this._entries.length;x++)if(this._entries[x]===F){this._entries.splice(x,1),this._resolved=null;break}})}getResolvedConfiguration(){if(!this._resolved){const N=this._resolve();N&&(this._resolved=new A(this.languageId,N))}return this._resolved}_resolve(){return this._entries.length===0?null:(this._entries.sort(I.cmp),E(this._entries.map(N=>N.configuration)))}}function E(M){let N={comments:void 0,brackets:void 0,wordPattern:void 0,indentationRules:void 0,onEnterRules:void 0,autoClosingPairs:void 0,surroundingPairs:void 0,autoCloseBefore:void 0,folding:void 0,colorizedBracketPairs:void 0,__electricCharacterSupport:void 0};for(const R of M)N={comments:R.comments||N.comments,brackets:R.brackets||N.brackets,wordPattern:R.wordPattern||N.wordPattern,indentationRules:R.indentationRules||N.indentationRules,onEnterRules:R.onEnterRules||N.onEnterRules,autoClosingPairs:R.autoClosingPairs||N.autoClosingPairs,surroundingPairs:R.surroundingPairs||N.surroundingPairs,autoCloseBefore:R.autoCloseBefore||N.autoCloseBefore,folding:R.folding||N.folding,colorizedBracketPairs:R.colorizedBracketPairs||N.colorizedBracketPairs,__electricCharacterSupport:R.__electricCharacterSupport||N.__electricCharacterSupport};return N}class I{constructor(N,R,F){this.configuration=N,this.priority=R,this.order=F}static cmp(N,R){return N.priority===R.priority?N.order-R.order:N.priority-R.priority}}class T{constructor(N){this.languageId=N}}e.LanguageConfigurationChangeEvent=T;class P extends k.Disposable{constructor(){super(),this._entries=new Map,this._onDidChange=this._register(new L.Emitter),this.onDidChange=this._onDidChange.event,this._register(this.register(h.PLAINTEXT_LANGUAGE_ID,{brackets:[["(",")"],["[","]"],["{","}"]],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:"<",close:">"},{open:'"',close:'"'},{open:"'",close:"'"},{open:"`",close:"`"}],colorizedBracketPairs:[],folding:{offSide:!0}},0))}register(N,R,F=0){let x=this._entries.get(N);x||(x=new w(N),this._entries.set(N,x));const W=x.register(R,F);return this._onDidChange.fire(new T(N)),(0,k.toDisposable)(()=>{W.dispose(),this._onDidChange.fire(new T(N))})}getLanguageConfiguration(N){const R=this._entries.get(N);return R?.getResolvedConfiguration()||null}}e.LanguageConfigurationRegistry=P;class A{constructor(N,R){this.languageId=N,this.underlyingConfig=R,this._brackets=null,this._electricCharacter=null,this._onEnterSupport=this.underlyingConfig.brackets||this.underlyingConfig.indentationRules||this.underlyingConfig.onEnterRules?new s.OnEnterSupport(this.underlyingConfig):null,this.comments=A._handleComments(this.underlyingConfig),this.characterPair=new _.CharacterPairSupport(this.underlyingConfig),this.wordDefinition=this.underlyingConfig.wordPattern||D.DEFAULT_WORD_REGEXP,this.indentationRules=this.underlyingConfig.indentationRules,this.underlyingConfig.indentationRules?this.indentRulesSupport=new p.IndentRulesSupport(this.underlyingConfig.indentationRules):this.indentRulesSupport=null,this.foldingRules=this.underlyingConfig.folding||{},this.bracketsNew=new n.LanguageBracketsConfiguration(N,this.underlyingConfig)}getWordDefinition(){return(0,D.ensureValidWordDefinition)(this.wordDefinition)}get brackets(){return!this._brackets&&this.underlyingConfig.brackets&&(this._brackets=new t.RichEditBrackets(this.languageId,this.underlyingConfig.brackets)),this._brackets}get electricCharacter(){return this._electricCharacter||(this._electricCharacter=new f.BracketElectricCharacterSupport(this.brackets)),this._electricCharacter}onEnter(N,R,F,x){return this._onEnterSupport?this._onEnterSupport.onEnter(N,R,F,x):null}getAutoClosingPairs(){return new S.AutoClosingPairs(this.characterPair.getAutoClosingPairs())}getAutoCloseBeforeSet(N){return this.characterPair.getAutoCloseBeforeSet(N)}getSurroundingPairs(){return this.characterPair.getSurroundingPairs()}static _handleComments(N){const R=N.comments;if(!R)return null;const F={};if(R.lineComment&&(F.lineCommentToken=R.lineComment),R.blockComment){const[x,W]=R.blockComment;F.blockCommentStartToken=x,F.blockCommentEndToken=W}return F}}e.ResolvedLanguageConfiguration=A,(0,d.registerSingleton)(e.ILanguageConfigurationService,a,1)}),define(X[242],ee([1,0,14,2,313,582,5,30,595,49,188,9,16,69,58,12,19,123,65]),function(q,e,L,k,y,D,S,m,_,f,p,s,t,i,o,r,d,h,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorWorkerClient=e.EditorWorkerHost=e.EditorWorkerService=void 0;const c=60*1e3,a=5*60*1e3;function l(I,T){const P=I.getModel(T);return!(!P||P.isTooLargeForSyncing())}let u=e.EditorWorkerService=class extends k.Disposable{constructor(T,P,A,M,N){super(),this._modelService=T,this._workerManager=this._register(new g(this._modelService,M)),this._logService=A,this._register(N.linkProvider.register({language:"*",hasAccessToAllModels:!0},{provideLinks:(R,F)=>l(this._modelService,R.uri)?this._workerManager.withWorker().then(x=>x.computeLinks(R.uri)).then(x=>x&&{links:x}):Promise.resolve({links:[]})})),this._register(N.completionProvider.register("*",new C(this._workerManager,P,this._modelService,M)))}dispose(){super.dispose()}canComputeUnicodeHighlights(T){return l(this._modelService,T)}computedUnicodeHighlights(T,P,A){return this._workerManager.withWorker().then(M=>M.computedUnicodeHighlights(T,P,A))}computeDiff(T,P,A,M){return Le(this,void 0,void 0,function*(){const N=yield this._workerManager.withWorker().then(x=>x.computeDiff(T,P,A,M));if(!N)return null;return{identical:N.identical,quitEarly:N.quitEarly,changes:F(N.changes),moves:N.moves.map(x=>new h.MovedText(new h.SimpleLineRangeMapping(new n.LineRange(x[0],x[1]),new n.LineRange(x[2],x[3])),F(x[4])))};function F(x){return x.map(W=>{var z;return new h.LineRangeMapping(new n.LineRange(W[0],W[1]),new n.LineRange(W[2],W[3]),(z=W[4])===null||z===void 0?void 0:z.map(U=>new h.RangeMapping(new S.Range(U[0],U[1],U[2],U[3]),new S.Range(U[4],U[5],U[6],U[7]))))})}})}computeMoreMinimalEdits(T,P,A=!1){if((0,t.isNonEmptyArray)(P)){if(!l(this._modelService,T))return Promise.resolve(P);const M=o.StopWatch.create(),N=this._workerManager.withWorker().then(R=>R.computeMoreMinimalEdits(T,P,A));return N.finally(()=>this._logService.trace("FORMAT#computeMoreMinimalEdits",T.toString(!0),M.elapsed())),Promise.race([N,(0,L.timeout)(1e3).then(()=>P)])}else return Promise.resolve(void 0)}canNavigateValueSet(T){return l(this._modelService,T)}navigateValueSet(T,P,A){return this._workerManager.withWorker().then(M=>M.navigateValueSet(T,P,A))}canComputeWordRanges(T){return l(this._modelService,T)}computeWordRanges(T,P){return this._workerManager.withWorker().then(A=>A.computeWordRanges(T,P))}};e.EditorWorkerService=u=Ne([ge(0,f.IModelService),ge(1,p.ITextResourceConfigurationService),ge(2,i.ILogService),ge(3,m.ILanguageConfigurationService),ge(4,d.ILanguageFeaturesService)],u);class C{constructor(T,P,A,M){this.languageConfigurationService=M,this._debugDisplayName="wordbasedCompletions",this._workerManager=T,this._configurationService=P,this._modelService=A}provideCompletionItems(T,P){return Le(this,void 0,void 0,function*(){const A=this._configurationService.getValue(T.uri,P,"editor");if(!A.wordBasedSuggestions)return;const M=[];if(A.wordBasedSuggestionsMode==="currentDocument")l(this._modelService,T.uri)&&M.push(T.uri);else for(const U of this._modelService.getModels())l(this._modelService,U.uri)&&(U===T?M.unshift(U.uri):(A.wordBasedSuggestionsMode==="allDocuments"||U.getLanguageId()===T.getLanguageId())&&M.push(U.uri));if(M.length===0)return;const N=this.languageConfigurationService.getLanguageConfiguration(T.getLanguageId()).getWordDefinition(),R=T.getWordAtPosition(P),F=R?new S.Range(P.lineNumber,R.startColumn,P.lineNumber,R.endColumn):S.Range.fromPositions(P),x=F.setEndPosition(P.lineNumber,P.column),z=yield(yield this._workerManager.withWorker()).textualSuggest(M,R?.word,N);if(z)return{duration:z.duration,suggestions:z.words.map(U=>({kind:18,label:U,insertText:U,range:{insert:x,replace:F}}))}})}}class g extends k.Disposable{constructor(T,P){super(),this.languageConfigurationService=P,this._modelService=T,this._editorWorkerClient=null,this._lastWorkerUsedTime=new Date().getTime(),this._register(new L.IntervalTimer).cancelAndSet(()=>this._checkStopIdleWorker(),Math.round(a/2)),this._register(this._modelService.onModelRemoved(M=>this._checkStopEmptyWorker()))}dispose(){this._editorWorkerClient&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null),super.dispose()}_checkStopEmptyWorker(){if(!this._editorWorkerClient)return;this._modelService.getModels().length===0&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}_checkStopIdleWorker(){if(!this._editorWorkerClient)return;new Date().getTime()-this._lastWorkerUsedTime>a&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}withWorker(){return this._lastWorkerUsedTime=new Date().getTime(),this._editorWorkerClient||(this._editorWorkerClient=new E(this._modelService,!1,"editorWorkerService",this.languageConfigurationService)),Promise.resolve(this._editorWorkerClient)}}class v extends k.Disposable{constructor(T,P,A){if(super(),this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),this._proxy=T,this._modelService=P,!A){const M=new L.IntervalTimer;M.cancelAndSet(()=>this._checkStopModelSync(),Math.round(c/2)),this._register(M)}}dispose(){for(const T in this._syncedModels)(0,k.dispose)(this._syncedModels[T]);this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),super.dispose()}ensureSyncedResources(T,P){for(const A of T){const M=A.toString();this._syncedModels[M]||this._beginModelSync(A,P),this._syncedModels[M]&&(this._syncedModelsLastUsedTime[M]=new Date().getTime())}}_checkStopModelSync(){const T=new Date().getTime(),P=[];for(const A in this._syncedModelsLastUsedTime)T-this._syncedModelsLastUsedTime[A]>c&&P.push(A);for(const A of P)this._stopModelSync(A)}_beginModelSync(T,P){const A=this._modelService.getModel(T);if(!A||!P&&A.isTooLargeForSyncing())return;const M=T.toString();this._proxy.acceptNewModel({url:A.uri.toString(),lines:A.getLinesContent(),EOL:A.getEOL(),versionId:A.getVersionId()});const N=new k.DisposableStore;N.add(A.onDidChangeContent(R=>{this._proxy.acceptModelChanged(M.toString(),R)})),N.add(A.onWillDispose(()=>{this._stopModelSync(M)})),N.add((0,k.toDisposable)(()=>{this._proxy.acceptRemovedModel(M)})),this._syncedModels[M]=N}_stopModelSync(T){const P=this._syncedModels[T];delete this._syncedModels[T],delete this._syncedModelsLastUsedTime[T],(0,k.dispose)(P)}}class b{constructor(T){this._instance=T,this._proxyObj=Promise.resolve(this._instance)}dispose(){this._instance.dispose()}getProxyObject(){return this._proxyObj}}class w{constructor(T){this._workerClient=T}fhr(T,P){return this._workerClient.fhr(T,P)}}e.EditorWorkerHost=w;class E extends k.Disposable{constructor(T,P,A,M){super(),this.languageConfigurationService=M,this._disposed=!1,this._modelService=T,this._keepIdleModels=P,this._workerFactory=new D.DefaultWorkerFactory(A),this._worker=null,this._modelManager=null}fhr(T,P){throw new Error("Not implemented!")}_getOrCreateWorker(){if(!this._worker)try{this._worker=this._register(new y.SimpleWorkerClient(this._workerFactory,"vs/editor/common/services/editorSimpleWorker",new w(this)))}catch(T){(0,y.logOnceWebWorkerWarning)(T),this._worker=new b(new _.EditorSimpleWorker(new w(this),null))}return this._worker}_getProxy(){return this._getOrCreateWorker().getProxyObject().then(void 0,T=>((0,y.logOnceWebWorkerWarning)(T),this._worker=new b(new _.EditorSimpleWorker(new w(this),null)),this._getOrCreateWorker().getProxyObject()))}_getOrCreateModelManager(T){return this._modelManager||(this._modelManager=this._register(new v(T,this._modelService,this._keepIdleModels))),this._modelManager}_withSyncedResources(T,P=!1){return Le(this,void 0,void 0,function*(){return this._disposed?Promise.reject((0,r.canceled)()):this._getProxy().then(A=>(this._getOrCreateModelManager(A).ensureSyncedResources(T,P),A))})}computedUnicodeHighlights(T,P,A){return this._withSyncedResources([T]).then(M=>M.computeUnicodeHighlights(T.toString(),P,A))}computeDiff(T,P,A,M){return this._withSyncedResources([T,P],!0).then(N=>N.computeDiff(T.toString(),P.toString(),A,M))}computeMoreMinimalEdits(T,P,A){return this._withSyncedResources([T]).then(M=>M.computeMoreMinimalEdits(T.toString(),P,A))}computeLinks(T){return this._withSyncedResources([T]).then(P=>P.computeLinks(T.toString()))}computeDefaultDocumentColors(T){return this._withSyncedResources([T]).then(P=>P.computeDefaultDocumentColors(T.toString()))}textualSuggest(T,P,A){return Le(this,void 0,void 0,function*(){const M=yield this._withSyncedResources(T),N=A.source,R=(0,s.regExpFlags)(A);return M.textualSuggest(T.map(F=>F.toString()),P,N,R)})}computeWordRanges(T,P){return this._withSyncedResources([T]).then(A=>{const M=this._modelService.getModel(T);if(!M)return Promise.resolve(null);const N=this.languageConfigurationService.getLanguageConfiguration(M.getLanguageId()).getWordDefinition(),R=N.source,F=(0,s.regExpFlags)(N);return A.computeWordRanges(T.toString(),P,R,F)})}navigateValueSet(T,P,A){return this._withSyncedResources([T]).then(M=>{const N=this._modelService.getModel(T);if(!N)return null;const R=this.languageConfigurationService.getLanguageConfiguration(N.getLanguageId()).getWordDefinition(),F=R.source,x=(0,s.regExpFlags)(R);return M.navigateValueSet(T.toString(),P,A,F,x)})}dispose(){super.dispose(),this._disposed=!0}}e.EditorWorkerClient=E}),define(X[762],ee([1,0,46,242]),function(q,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createWebWorker=void 0;function y(S,m,_){return new D(S,m,_)}e.createWebWorker=y;class D extends k.EditorWorkerClient{constructor(m,_,f){super(m,f.keepIdleModels||!1,f.label,_),this._foreignModuleId=f.moduleId,this._foreignModuleCreateData=f.createData||null,this._foreignModuleHost=f.host||null,this._foreignProxy=null}fhr(m,_){if(!this._foreignModuleHost||typeof this._foreignModuleHost[m]!="function")return Promise.reject(new Error("Missing method "+m+" or missing main thread foreign host."));try{return Promise.resolve(this._foreignModuleHost[m].apply(this._foreignModuleHost,_))}catch(f){return Promise.reject(f)}}_getForeignProxy(){return this._foreignProxy||(this._foreignProxy=this._getProxy().then(m=>{const _=this._foreignModuleHost?(0,L.getAllMethodNames)(this._foreignModuleHost):[];return m.loadForeignModule(this._foreignModuleId,this._foreignModuleCreateData,_).then(f=>{this._foreignModuleCreateData=null;const p=(i,o)=>m.fmr(i,o),s=(i,o)=>function(){const r=Array.prototype.slice.call(arguments,0);return o(i,r)},t={};for(const i of f)t[i]=s(i,p);return t})})),this._foreignProxy}getProxy(){return this._getForeignProxy()}withSyncedResources(m){return this._withSyncedResources(m).then(_=>this.getProxy())}}}),define(X[243],ee([1,0,9,109,125,30]),function(q,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getIndentMetadata=e.getIndentActionForType=e.getIndentForEnter=e.getGoodIndentForLine=e.getInheritIndentForLine=void 0;function S(t,i,o){const r=t.tokenization.getLanguageIdAtPosition(i,0);if(i>1){let d,h=-1;for(d=i-1;d>=1;d--){if(t.tokenization.getLanguageIdAtPosition(d,0)!==r)return h;const n=t.getLineContent(d);if(o.shouldIgnore(n)||/^\s+$/.test(n)||n===""){h=d;continue}return d}}return-1}function m(t,i,o,r=!0,d){if(t<4)return null;const h=d.getLanguageConfiguration(i.tokenization.getLanguageId()).indentRulesSupport;if(!h)return null;if(o<=1)return{indentation:"",action:null};for(let a=o-1;a>0&&i.getLineContent(a)==="";a--)if(a===1)return{indentation:"",action:null};const n=S(i,o,h);if(n<0)return null;if(n<1)return{indentation:"",action:null};const c=i.getLineContent(n);if(h.shouldIncrease(c)||h.shouldIndentNextLine(c))return{indentation:L.getLeadingWhitespace(c),action:k.IndentAction.Indent,line:n};if(h.shouldDecrease(c))return{indentation:L.getLeadingWhitespace(c),action:null,line:n};{if(n===1)return{indentation:L.getLeadingWhitespace(i.getLineContent(n)),action:null,line:n};const a=n-1,l=h.getIndentMetadata(i.getLineContent(a));if(!(l&3)&&l&4){let u=0;for(let C=a-1;C>0;C--)if(!h.shouldIndentNextLine(i.getLineContent(C))){u=C;break}return{indentation:L.getLeadingWhitespace(i.getLineContent(u+1)),action:null,line:u+1}}if(r)return{indentation:L.getLeadingWhitespace(i.getLineContent(n)),action:null,line:n};for(let u=n;u>0;u--){const C=i.getLineContent(u);if(h.shouldIncrease(C))return{indentation:L.getLeadingWhitespace(C),action:k.IndentAction.Indent,line:u};if(h.shouldIndentNextLine(C)){let g=0;for(let v=u-1;v>0;v--)if(!h.shouldIndentNextLine(i.getLineContent(u))){g=v;break}return{indentation:L.getLeadingWhitespace(i.getLineContent(g+1)),action:null,line:g+1}}else if(h.shouldDecrease(C))return{indentation:L.getLeadingWhitespace(C),action:null,line:u}}return{indentation:L.getLeadingWhitespace(i.getLineContent(1)),action:null,line:1}}}e.getInheritIndentForLine=m;function _(t,i,o,r,d,h){if(t<4)return null;const n=h.getLanguageConfiguration(o);if(!n)return null;const c=h.getLanguageConfiguration(o).indentRulesSupport;if(!c)return null;const a=m(t,i,r,void 0,h),l=i.getLineContent(r);if(a){const u=a.line;if(u!==void 0){let C=!0;for(let g=u;g<r-1;g++)if(!/^\s*$/.test(i.getLineContent(g))){C=!1;break}if(C){const g=n.onEnter(t,"",i.getLineContent(u),"");if(g){let v=L.getLeadingWhitespace(i.getLineContent(u));return g.removeText&&(v=v.substring(0,v.length-g.removeText)),g.indentAction===k.IndentAction.Indent||g.indentAction===k.IndentAction.IndentOutdent?v=d.shiftIndent(v):g.indentAction===k.IndentAction.Outdent&&(v=d.unshiftIndent(v)),c.shouldDecrease(l)&&(v=d.unshiftIndent(v)),g.appendText&&(v+=g.appendText),L.getLeadingWhitespace(v)}}}return c.shouldDecrease(l)?a.action===k.IndentAction.Indent?a.indentation:d.unshiftIndent(a.indentation):a.action===k.IndentAction.Indent?d.shiftIndent(a.indentation):a.indentation}return null}e.getGoodIndentForLine=_;function f(t,i,o,r,d){if(t<4)return null;i.tokenization.forceTokenization(o.startLineNumber);const h=i.tokenization.getLineTokens(o.startLineNumber),n=(0,y.createScopedLineTokens)(h,o.startColumn-1),c=n.getLineContent();let a=!1,l;n.firstCharOffset>0&&h.getLanguageId(0)!==n.languageId?(a=!0,l=c.substr(0,o.startColumn-1-n.firstCharOffset)):l=h.getLineContent().substring(0,o.startColumn-1);let u;o.isEmpty()?u=c.substr(o.startColumn-1-n.firstCharOffset):u=(0,D.getScopedLineTokens)(i,o.endLineNumber,o.endColumn).getLineContent().substr(o.endColumn-1-n.firstCharOffset);const C=d.getLanguageConfiguration(n.languageId).indentRulesSupport;if(!C)return null;const g=l,v=L.getLeadingWhitespace(l),b={tokenization:{getLineTokens:T=>i.tokenization.getLineTokens(T),getLanguageId:()=>i.getLanguageId(),getLanguageIdAtPosition:(T,P)=>i.getLanguageIdAtPosition(T,P)},getLineContent:T=>T===o.startLineNumber?g:i.getLineContent(T)},w=L.getLeadingWhitespace(h.getLineContent()),E=m(t,b,o.startLineNumber+1,void 0,d);if(!E){const T=a?w:v;return{beforeEnter:T,afterEnter:T}}let I=a?w:E.indentation;return E.action===k.IndentAction.Indent&&(I=r.shiftIndent(I)),C.shouldDecrease(u)&&(I=r.unshiftIndent(I)),{beforeEnter:a?w:v,afterEnter:I}}e.getIndentForEnter=f;function p(t,i,o,r,d,h){if(t<4)return null;const n=(0,D.getScopedLineTokens)(i,o.startLineNumber,o.startColumn);if(n.firstCharOffset)return null;const c=h.getLanguageConfiguration(n.languageId).indentRulesSupport;if(!c)return null;const a=n.getLineContent(),l=a.substr(0,o.startColumn-1-n.firstCharOffset);let u;if(o.isEmpty()?u=a.substr(o.startColumn-1-n.firstCharOffset):u=(0,D.getScopedLineTokens)(i,o.endLineNumber,o.endColumn).getLineContent().substr(o.endColumn-1-n.firstCharOffset),!c.shouldDecrease(l+u)&&c.shouldDecrease(l+r+u)){const C=m(t,i,o.startLineNumber,!1,h);if(!C)return null;let g=C.indentation;return C.action!==k.IndentAction.Indent&&(g=d.unshiftIndent(g)),g}return null}e.getIndentActionForType=p;function s(t,i,o){const r=o.getLanguageConfiguration(t.getLanguageId()).indentRulesSupport;return!r||i<1||i>t.getLineCount()?null:r.getIndentMetadata(t.getLineContent(i))}e.getIndentMetadata=s}),define(X[244],ee([1,0,109,30]),function(q,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getEnterAction=void 0;function y(D,S,m,_){const f=(0,k.getScopedLineTokens)(S,m.startLineNumber,m.startColumn),p=_.getLanguageConfiguration(f.languageId);if(!p)return null;const s=f.getLineContent(),t=s.substr(0,m.startColumn-1-f.firstCharOffset);let i;m.isEmpty()?i=s.substr(m.startColumn-1-f.firstCharOffset):i=(0,k.getScopedLineTokens)(S,m.endLineNumber,m.endColumn).getLineContent().substr(m.endColumn-1-f.firstCharOffset);let o="";if(m.startLineNumber>1&&f.firstCharOffset===0){const a=(0,k.getScopedLineTokens)(S,m.startLineNumber-1);a.languageId===f.languageId&&(o=a.getLineContent())}const r=p.onEnter(D,o,t,i);if(!r)return null;const d=r.indentAction;let h=r.appendText;const n=r.removeText||0;h?d===L.IndentAction.Indent&&(h="	"+h):d===L.IndentAction.Indent||d===L.IndentAction.IndentOutdent?h="	":h="";let c=(0,k.getIndentationAtPosition)(S,m.startLineNumber,m.startColumn);return n&&(c=c.substring(0,c.length-n)),{indentAction:d,appendText:h,removeText:n,indentation:c}}e.getEnterAction=y}),define(X[245],ee([1,0,9,81,5,24,244,30]),function(q,e,L,k,y,D,S,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ShiftCommand=void 0;const _=Object.create(null);function f(s,t){if(t<=0)return"";_[s]||(_[s]=["",s]);const i=_[s];for(let o=i.length;o<=t;o++)i[o]=i[o-1]+s;return i[t]}let p=e.ShiftCommand=class gi{static unshiftIndent(t,i,o,r,d){const h=k.CursorColumns.visibleColumnFromColumn(t,i,o);if(d){const n=f(" ",r),a=k.CursorColumns.prevIndentTabStop(h,r)/r;return f(n,a)}else{const n="	",a=k.CursorColumns.prevRenderTabStop(h,o)/o;return f(n,a)}}static shiftIndent(t,i,o,r,d){const h=k.CursorColumns.visibleColumnFromColumn(t,i,o);if(d){const n=f(" ",r),a=k.CursorColumns.nextIndentTabStop(h,r)/r;return f(n,a)}else{const n="	",a=k.CursorColumns.nextRenderTabStop(h,o)/o;return f(n,a)}}constructor(t,i,o){this._languageConfigurationService=o,this._opts=i,this._selection=t,this._selectionId=null,this._useLastEditRangeForCursorEndPosition=!1,this._selectionStartColumnStaysPut=!1}_addEditOperation(t,i,o){this._useLastEditRangeForCursorEndPosition?t.addTrackedEditOperation(i,o):t.addEditOperation(i,o)}getEditOperations(t,i){const o=this._selection.startLineNumber;let r=this._selection.endLineNumber;this._selection.endColumn===1&&o!==r&&(r=r-1);const{tabSize:d,indentSize:h,insertSpaces:n}=this._opts,c=o===r;if(this._opts.useTabStops){this._selection.isEmpty()&&/^\s*$/.test(t.getLineContent(o))&&(this._useLastEditRangeForCursorEndPosition=!0);let a=0,l=0;for(let u=o;u<=r;u++,a=l){l=0;const C=t.getLineContent(u);let g=L.firstNonWhitespaceIndex(C);if(this._opts.isUnshift&&(C.length===0||g===0)||!c&&!this._opts.isUnshift&&C.length===0)continue;if(g===-1&&(g=C.length),u>1&&k.CursorColumns.visibleColumnFromColumn(C,g+1,d)%h!==0&&t.tokenization.isCheapToTokenize(u-1)){const w=(0,S.getEnterAction)(this._opts.autoIndent,t,new y.Range(u-1,t.getLineMaxColumn(u-1),u-1,t.getLineMaxColumn(u-1)),this._languageConfigurationService);if(w){if(l=a,w.appendText)for(let E=0,I=w.appendText.length;E<I&&l<h&&w.appendText.charCodeAt(E)===32;E++)l++;w.removeText&&(l=Math.max(0,l-w.removeText));for(let E=0;E<l&&!(g===0||C.charCodeAt(g-1)!==32);E++)g--}}if(this._opts.isUnshift&&g===0)continue;let v;this._opts.isUnshift?v=gi.unshiftIndent(C,g+1,d,h,n):v=gi.shiftIndent(C,g+1,d,h,n),this._addEditOperation(i,new y.Range(u,1,u,g+1),v),u===o&&!this._selection.isEmpty()&&(this._selectionStartColumnStaysPut=this._selection.startColumn<=g+1)}}else{!this._opts.isUnshift&&this._selection.isEmpty()&&t.getLineLength(o)===0&&(this._useLastEditRangeForCursorEndPosition=!0);const a=n?f(" ",h):"	";for(let l=o;l<=r;l++){const u=t.getLineContent(l);let C=L.firstNonWhitespaceIndex(u);if(!(this._opts.isUnshift&&(u.length===0||C===0))&&!(!c&&!this._opts.isUnshift&&u.length===0)&&(C===-1&&(C=u.length),!(this._opts.isUnshift&&C===0)))if(this._opts.isUnshift){C=Math.min(C,h);for(let g=0;g<C;g++)if(u.charCodeAt(g)===9){C=g+1;break}this._addEditOperation(i,new y.Range(l,1,l,C+1),"")}else this._addEditOperation(i,new y.Range(l,1,l,1),a),l===o&&!this._selection.isEmpty()&&(this._selectionStartColumnStaysPut=this._selection.startColumn===1)}}this._selectionId=i.trackSelection(this._selection)}computeCursorState(t,i){if(this._useLastEditRangeForCursorEndPosition){const r=i.getInverseEditOperations()[0];return new D.Selection(r.range.endLineNumber,r.range.endColumn,r.range.endLineNumber,r.range.endColumn)}const o=i.getTrackedSelection(this._selectionId);if(this._selectionStartColumnStaysPut){const r=this._selection.startColumn;return o.startColumn<=r?o:o.getDirection()===0?new D.Selection(o.startLineNumber,r,o.endLineNumber,o.endColumn):new D.Selection(o.endLineNumber,o.endColumn,o.startLineNumber,r)}return o}};e.ShiftCommand=p=Ne([ge(2,m.ILanguageConfigurationService)],p)}),define(X[246],ee([1,0,12,9,122,245,479,72,145,5,11,109,30,125,243,244]),function(q,e,L,k,y,D,S,m,_,f,p,s,t,i,o,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CompositionOutcome=e.TypeWithAutoClosingCommand=e.TypeOperations=void 0;class d{static indent(g,v,b){if(v===null||b===null)return[];const w=[];for(let E=0,I=b.length;E<I;E++)w[E]=new D.ShiftCommand(b[E],{isUnshift:!1,tabSize:g.tabSize,indentSize:g.indentSize,insertSpaces:g.insertSpaces,useTabStops:g.useTabStops,autoIndent:g.autoIndent},g.languageConfigurationService);return w}static outdent(g,v,b){const w=[];for(let E=0,I=b.length;E<I;E++)w[E]=new D.ShiftCommand(b[E],{isUnshift:!0,tabSize:g.tabSize,indentSize:g.indentSize,insertSpaces:g.insertSpaces,useTabStops:g.useTabStops,autoIndent:g.autoIndent},g.languageConfigurationService);return w}static shiftIndent(g,v,b){return b=b||1,D.ShiftCommand.shiftIndent(v,v.length+b,g.tabSize,g.indentSize,g.insertSpaces)}static unshiftIndent(g,v,b){return b=b||1,D.ShiftCommand.unshiftIndent(v,v.length+b,g.tabSize,g.indentSize,g.insertSpaces)}static _distributedPaste(g,v,b,w){const E=[];for(let I=0,T=b.length;I<T;I++)E[I]=new y.ReplaceCommand(b[I],w[I]);return new m.EditOperationResult(0,E,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _simplePaste(g,v,b,w,E){const I=[];for(let T=0,P=b.length;T<P;T++){const A=b[T],M=A.getPosition();if(E&&!A.isEmpty()&&(E=!1),E&&w.indexOf(`
`)!==w.length-1&&(E=!1),E){const N=new f.Range(M.lineNumber,1,M.lineNumber,1);I[T]=new y.ReplaceCommandThatPreservesSelection(N,w,A,!0)}else I[T]=new y.ReplaceCommand(A,w)}return new m.EditOperationResult(0,I,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _distributePasteToCursors(g,v,b,w,E){if(w||v.length===1)return null;if(E&&E.length===v.length)return E;if(g.multiCursorPaste==="spread"){b.charCodeAt(b.length-1)===10&&(b=b.substr(0,b.length-1)),b.charCodeAt(b.length-1)===13&&(b=b.substr(0,b.length-1));const I=k.splitLines(b);if(I.length===v.length)return I}return null}static paste(g,v,b,w,E,I){const T=this._distributePasteToCursors(g,b,w,E,I);return T?(b=b.sort(f.Range.compareRangesUsingStarts),this._distributedPaste(g,v,b,T)):this._simplePaste(g,v,b,w,E)}static _goodIndentForLine(g,v,b){let w=null,E="";const I=(0,o.getInheritIndentForLine)(g.autoIndent,v,b,!1,g.languageConfigurationService);if(I)w=I.action,E=I.indentation;else if(b>1){let T;for(T=b-1;T>=1;T--){const M=v.getLineContent(T);if(k.lastNonWhitespaceIndex(M)>=0)break}if(T<1)return null;const P=v.getLineMaxColumn(T),A=(0,r.getEnterAction)(g.autoIndent,v,new f.Range(T,P,T,P),g.languageConfigurationService);A&&(E=A.indentation+A.appendText)}return w&&(w===s.IndentAction.Indent&&(E=d.shiftIndent(g,E)),w===s.IndentAction.Outdent&&(E=d.unshiftIndent(g,E)),E=g.normalizeIndentation(E)),E||null}static _replaceJumpToNextIndent(g,v,b,w){let E="";const I=b.getStartPosition();if(g.insertSpaces){const T=g.visibleColumnFromColumn(v,I),P=g.indentSize,A=P-T%P;for(let M=0;M<A;M++)E+=" "}else E="	";return new y.ReplaceCommand(b,E,w)}static tab(g,v,b){const w=[];for(let E=0,I=b.length;E<I;E++){const T=b[E];if(T.isEmpty()){const P=v.getLineContent(T.startLineNumber);if(/^\s*$/.test(P)&&v.tokenization.isCheapToTokenize(T.startLineNumber)){let A=this._goodIndentForLine(g,v,T.startLineNumber);A=A||"	";const M=g.normalizeIndentation(A);if(!P.startsWith(M)){w[E]=new y.ReplaceCommand(new f.Range(T.startLineNumber,1,T.startLineNumber,P.length+1),M,!0);continue}}w[E]=this._replaceJumpToNextIndent(g,v,T,!0)}else{if(T.startLineNumber===T.endLineNumber){const P=v.getLineMaxColumn(T.startLineNumber);if(T.startColumn!==1||T.endColumn!==P){w[E]=this._replaceJumpToNextIndent(g,v,T,!1);continue}}w[E]=new D.ShiftCommand(T,{isUnshift:!1,tabSize:g.tabSize,indentSize:g.indentSize,insertSpaces:g.insertSpaces,useTabStops:g.useTabStops,autoIndent:g.autoIndent},g.languageConfigurationService)}}return w}static compositionType(g,v,b,w,E,I,T,P){const A=w.map(M=>this._compositionType(b,M,E,I,T,P));return new m.EditOperationResult(4,A,{shouldPushStackElementBefore:a(g,4),shouldPushStackElementAfter:!1})}static _compositionType(g,v,b,w,E,I){if(!v.isEmpty())return null;const T=v.getPosition(),P=Math.max(1,T.column-w),A=Math.min(g.getLineMaxColumn(T.lineNumber),T.column+E),M=new f.Range(T.lineNumber,P,T.lineNumber,A);return g.getValueInRange(M)===b&&I===0?null:new y.ReplaceCommandWithOffsetCursorState(M,b,0,I)}static _typeCommand(g,v,b){return b?new y.ReplaceCommandWithoutChangingPosition(g,v,!0):new y.ReplaceCommand(g,v,!0)}static _enter(g,v,b,w){if(g.autoIndent===0)return d._typeCommand(w,`
`,b);if(!v.tokenization.isCheapToTokenize(w.getStartPosition().lineNumber)||g.autoIndent===1){const P=v.getLineContent(w.startLineNumber),A=k.getLeadingWhitespace(P).substring(0,w.startColumn-1);return d._typeCommand(w,`
`+g.normalizeIndentation(A),b)}const E=(0,r.getEnterAction)(g.autoIndent,v,w,g.languageConfigurationService);if(E){if(E.indentAction===s.IndentAction.None)return d._typeCommand(w,`
`+g.normalizeIndentation(E.indentation+E.appendText),b);if(E.indentAction===s.IndentAction.Indent)return d._typeCommand(w,`
`+g.normalizeIndentation(E.indentation+E.appendText),b);if(E.indentAction===s.IndentAction.IndentOutdent){const P=g.normalizeIndentation(E.indentation),A=g.normalizeIndentation(E.indentation+E.appendText),M=`
`+A+`
`+P;return b?new y.ReplaceCommandWithoutChangingPosition(w,M,!0):new y.ReplaceCommandWithOffsetCursorState(w,M,-1,A.length-P.length,!0)}else if(E.indentAction===s.IndentAction.Outdent){const P=d.unshiftIndent(g,E.indentation);return d._typeCommand(w,`
`+g.normalizeIndentation(P+E.appendText),b)}}const I=v.getLineContent(w.startLineNumber),T=k.getLeadingWhitespace(I).substring(0,w.startColumn-1);if(g.autoIndent>=4){const P=(0,o.getIndentForEnter)(g.autoIndent,v,w,{unshiftIndent:A=>d.unshiftIndent(g,A),shiftIndent:A=>d.shiftIndent(g,A),normalizeIndentation:A=>g.normalizeIndentation(A)},g.languageConfigurationService);if(P){let A=g.visibleColumnFromColumn(v,w.getEndPosition());const M=w.endColumn,N=v.getLineContent(w.endLineNumber),R=k.firstNonWhitespaceIndex(N);if(R>=0?w=w.setEndPosition(w.endLineNumber,Math.max(w.endColumn,R+1)):w=w.setEndPosition(w.endLineNumber,v.getLineMaxColumn(w.endLineNumber)),b)return new y.ReplaceCommandWithoutChangingPosition(w,`
`+g.normalizeIndentation(P.afterEnter),!0);{let F=0;return M<=R+1&&(g.insertSpaces||(A=Math.ceil(A/g.indentSize)),F=Math.min(A+1-g.normalizeIndentation(P.afterEnter).length-1,0)),new y.ReplaceCommandWithOffsetCursorState(w,`
`+g.normalizeIndentation(P.afterEnter),0,F,!0)}}}return d._typeCommand(w,`
`+g.normalizeIndentation(T),b)}static _isAutoIndentType(g,v,b){if(g.autoIndent<4)return!1;for(let w=0,E=b.length;w<E;w++)if(!v.tokenization.isCheapToTokenize(b[w].getEndPosition().lineNumber))return!1;return!0}static _runAutoIndentType(g,v,b,w){const E=(0,t.getIndentationAtPosition)(v,b.startLineNumber,b.startColumn),I=(0,o.getIndentActionForType)(g.autoIndent,v,b,w,{shiftIndent:T=>d.shiftIndent(g,T),unshiftIndent:T=>d.unshiftIndent(g,T)},g.languageConfigurationService);if(I===null)return null;if(I!==g.normalizeIndentation(E)){const T=v.getLineFirstNonWhitespaceColumn(b.startLineNumber);return T===0?d._typeCommand(new f.Range(b.startLineNumber,1,b.endLineNumber,b.endColumn),g.normalizeIndentation(I)+w,!1):d._typeCommand(new f.Range(b.startLineNumber,1,b.endLineNumber,b.endColumn),g.normalizeIndentation(I)+v.getLineContent(b.startLineNumber).substring(T-1,b.startColumn-1)+w,!1)}return null}static _isAutoClosingOvertype(g,v,b,w,E){if(g.autoClosingOvertype==="never"||!g.autoClosingPairs.autoClosingPairsCloseSingleChar.has(E))return!1;for(let I=0,T=b.length;I<T;I++){const P=b[I];if(!P.isEmpty())return!1;const A=P.getPosition(),M=v.getLineContent(A.lineNumber);if(M.charAt(A.column-1)!==E)return!1;const R=(0,m.isQuote)(E);if((A.column>2?M.charCodeAt(A.column-2):0)===92&&R)return!1;if(g.autoClosingOvertype==="auto"){let x=!1;for(let W=0,z=w.length;W<z;W++){const U=w[W];if(A.lineNumber===U.startLineNumber&&A.column===U.startColumn){x=!0;break}}if(!x)return!1}}return!0}static _runAutoClosingOvertype(g,v,b,w,E){const I=[];for(let T=0,P=w.length;T<P;T++){const M=w[T].getPosition(),N=new f.Range(M.lineNumber,M.column,M.lineNumber,M.column+1);I[T]=new y.ReplaceCommand(N,E)}return new m.EditOperationResult(4,I,{shouldPushStackElementBefore:a(g,4),shouldPushStackElementAfter:!1})}static _isBeforeClosingBrace(g,v){const b=v.charAt(0),w=g.autoClosingPairs.autoClosingPairsOpenByStart.get(b)||[],E=g.autoClosingPairs.autoClosingPairsCloseByStart.get(b)||[],I=w.some(P=>v.startsWith(P.open)),T=E.some(P=>v.startsWith(P.close));return!I&&T}static _findAutoClosingPairOpen(g,v,b,w){const E=g.autoClosingPairs.autoClosingPairsOpenByEnd.get(w);if(!E)return null;let I=null;for(const T of E)if(I===null||T.open.length>I.open.length){let P=!0;for(const A of b)if(v.getValueInRange(new f.Range(A.lineNumber,A.column-T.open.length+1,A.lineNumber,A.column))+w!==T.open){P=!1;break}P&&(I=T)}return I}static _findContainedAutoClosingPair(g,v){if(v.open.length<=1)return null;const b=v.close.charAt(v.close.length-1),w=g.autoClosingPairs.autoClosingPairsCloseByEnd.get(b)||[];let E=null;for(const I of w)I.open!==v.open&&v.open.includes(I.open)&&v.close.endsWith(I.close)&&(!E||I.open.length>E.open.length)&&(E=I);return E}static _getAutoClosingPairClose(g,v,b,w,E){const I=(0,m.isQuote)(w),T=I?g.autoClosingQuotes:g.autoClosingBrackets,P=I?g.shouldAutoCloseBefore.quote:g.shouldAutoCloseBefore.bracket;if(T==="never")return null;for(const x of b)if(!x.isEmpty())return null;const A=b.map(x=>{const W=x.getPosition();return E?{lineNumber:W.lineNumber,beforeColumn:W.column-w.length,afterColumn:W.column}:{lineNumber:W.lineNumber,beforeColumn:W.column,afterColumn:W.column}}),M=this._findAutoClosingPairOpen(g,v,A.map(x=>new p.Position(x.lineNumber,x.beforeColumn)),w);if(!M)return null;const N=this._findContainedAutoClosingPair(g,M),R=N?N.close:"";let F=!0;for(const x of A){const{lineNumber:W,beforeColumn:z,afterColumn:U}=x,O=v.getLineContent(W),G=O.substring(0,z-1),Q=O.substring(U-1);if(Q.startsWith(R)||(F=!1),Q.length>0){const H=Q.charAt(0);if(!d._isBeforeClosingBrace(g,Q)&&!P(H))return null}if(M.open.length===1&&(w==="'"||w==='"')&&T!=="always"){const H=(0,_.getMapForWordSeparators)(g.wordSeparators);if(G.length>0){const B=G.charCodeAt(G.length-1);if(H.get(B)===0)return null}}if(!v.tokenization.isCheapToTokenize(W))return null;v.tokenization.forceTokenization(W);const re=v.tokenization.getLineTokens(W),oe=(0,i.createScopedLineTokens)(re,z-1);if(!M.shouldAutoClose(oe,z-oe.firstCharOffset))return null;const te=M.findNeutralCharacter();if(te){const H=v.tokenization.getTokenTypeIfInsertingCharacter(W,z,te);if(!M.isOK(H))return null}}return F?M.close.substring(0,M.close.length-R.length):M.close}static _runAutoClosingOpenCharType(g,v,b,w,E,I,T){const P=[];for(let A=0,M=w.length;A<M;A++){const N=w[A];P[A]=new h(N,E,!I,T)}return new m.EditOperationResult(4,P,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}static _shouldSurroundChar(g,v){return(0,m.isQuote)(v)?g.autoSurround==="quotes"||g.autoSurround==="languageDefined":g.autoSurround==="brackets"||g.autoSurround==="languageDefined"}static _isSurroundSelectionType(g,v,b,w){if(!d._shouldSurroundChar(g,w)||!g.surroundingPairs.hasOwnProperty(w))return!1;const E=(0,m.isQuote)(w);for(const I of b){if(I.isEmpty())return!1;let T=!0;for(let P=I.startLineNumber;P<=I.endLineNumber;P++){const A=v.getLineContent(P),M=P===I.startLineNumber?I.startColumn-1:0,N=P===I.endLineNumber?I.endColumn-1:A.length,R=A.substring(M,N);if(/[^ \t]/.test(R)){T=!1;break}}if(T)return!1;if(E&&I.startLineNumber===I.endLineNumber&&I.startColumn+1===I.endColumn){const P=v.getValueInRange(I);if((0,m.isQuote)(P))return!1}}return!0}static _runSurroundSelectionType(g,v,b,w,E){const I=[];for(let T=0,P=w.length;T<P;T++){const A=w[T],M=v.surroundingPairs[E];I[T]=new S.SurroundSelectionCommand(A,E,M)}return new m.EditOperationResult(0,I,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _isTypeInterceptorElectricChar(g,v,b){return!!(b.length===1&&v.tokenization.isCheapToTokenize(b[0].getEndPosition().lineNumber))}static _typeInterceptorElectricChar(g,v,b,w,E){if(!v.electricChars.hasOwnProperty(E)||!w.isEmpty())return null;const I=w.getPosition();b.tokenization.forceTokenization(I.lineNumber);const T=b.tokenization.getLineTokens(I.lineNumber);let P;try{P=v.onElectricCharacter(E,T,I.column)}catch(A){return(0,L.onUnexpectedError)(A),null}if(!P)return null;if(P.matchOpenBracket){const A=(T.getLineContent()+E).lastIndexOf(P.matchOpenBracket)+1,M=b.bracketPairs.findMatchingBracketUp(P.matchOpenBracket,{lineNumber:I.lineNumber,column:A},500);if(M){if(M.startLineNumber===I.lineNumber)return null;const N=b.getLineContent(M.startLineNumber),R=k.getLeadingWhitespace(N),F=v.normalizeIndentation(R),x=b.getLineContent(I.lineNumber),W=b.getLineFirstNonWhitespaceColumn(I.lineNumber)||I.column,z=x.substring(W-1,I.column-1),U=F+z+E,O=new f.Range(I.lineNumber,1,I.lineNumber,I.column),G=new y.ReplaceCommand(O,U);return new m.EditOperationResult(c(U,g),[G],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!0})}}return null}static compositionEndWithInterceptors(g,v,b,w,E,I){if(!w)return null;let T=null;for(const N of w)if(T===null)T=N.insertedText;else if(T!==N.insertedText)return null;if(!T||T.length!==1)return null;const P=T;let A=!1;for(const N of w)if(N.deletedText.length!==0){A=!0;break}if(A){if(!d._shouldSurroundChar(v,P)||!v.surroundingPairs.hasOwnProperty(P))return null;const N=(0,m.isQuote)(P);for(const x of w)if(x.deletedSelectionStart!==0||x.deletedSelectionEnd!==x.deletedText.length||/^[ \t]+$/.test(x.deletedText)||N&&(0,m.isQuote)(x.deletedText))return null;const R=[];for(const x of E){if(!x.isEmpty())return null;R.push(x.getPosition())}if(R.length!==w.length)return null;const F=[];for(let x=0,W=R.length;x<W;x++)F.push(new S.CompositionSurroundSelectionCommand(R[x],w[x].deletedText,v.surroundingPairs[P]));return new m.EditOperationResult(4,F,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(this._isAutoClosingOvertype(v,b,E,I,P)){const N=E.map(R=>new y.ReplaceCommand(new f.Range(R.positionLineNumber,R.positionColumn,R.positionLineNumber,R.positionColumn+1),"",!1));return new m.EditOperationResult(4,N,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}const M=this._getAutoClosingPairClose(v,b,E,P,!0);return M!==null?this._runAutoClosingOpenCharType(g,v,b,E,P,!0,M):null}static typeWithInterceptors(g,v,b,w,E,I,T){if(!g&&T===`
`){const M=[];for(let N=0,R=E.length;N<R;N++)M[N]=d._enter(b,w,!1,E[N]);return new m.EditOperationResult(4,M,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(!g&&this._isAutoIndentType(b,w,E)){const M=[];let N=!1;for(let R=0,F=E.length;R<F;R++)if(M[R]=this._runAutoIndentType(b,w,E[R],T),!M[R]){N=!0;break}if(!N)return new m.EditOperationResult(4,M,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(this._isAutoClosingOvertype(b,w,E,I,T))return this._runAutoClosingOvertype(v,b,w,E,T);if(!g){const M=this._getAutoClosingPairClose(b,w,E,T,!1);if(M)return this._runAutoClosingOpenCharType(v,b,w,E,T,!1,M)}if(!g&&this._isSurroundSelectionType(b,w,E,T))return this._runSurroundSelectionType(v,b,w,E,T);if(!g&&this._isTypeInterceptorElectricChar(b,w,E)){const M=this._typeInterceptorElectricChar(v,b,w,E[0],T);if(M)return M}const P=[];for(let M=0,N=E.length;M<N;M++)P[M]=new y.ReplaceCommand(E[M],T);const A=c(T,v);return new m.EditOperationResult(A,P,{shouldPushStackElementBefore:a(v,A),shouldPushStackElementAfter:!1})}static typeWithoutInterceptors(g,v,b,w,E){const I=[];for(let P=0,A=w.length;P<A;P++)I[P]=new y.ReplaceCommand(w[P],E);const T=c(E,g);return new m.EditOperationResult(T,I,{shouldPushStackElementBefore:a(g,T),shouldPushStackElementAfter:!1})}static lineInsertBefore(g,v,b){if(v===null||b===null)return[];const w=[];for(let E=0,I=b.length;E<I;E++){let T=b[E].positionLineNumber;if(T===1)w[E]=new y.ReplaceCommandWithoutChangingPosition(new f.Range(1,1,1,1),`
`);else{T--;const P=v.getLineMaxColumn(T);w[E]=this._enter(g,v,!1,new f.Range(T,P,T,P))}}return w}static lineInsertAfter(g,v,b){if(v===null||b===null)return[];const w=[];for(let E=0,I=b.length;E<I;E++){const T=b[E].positionLineNumber,P=v.getLineMaxColumn(T);w[E]=this._enter(g,v,!1,new f.Range(T,P,T,P))}return w}static lineBreakInsert(g,v,b){const w=[];for(let E=0,I=b.length;E<I;E++)w[E]=this._enter(g,v,!0,b[E]);return w}}e.TypeOperations=d;class h extends y.ReplaceCommandWithOffsetCursorState{constructor(g,v,b,w){super(g,(b?v:"")+w,0,-w.length),this._openCharacter=v,this._closeCharacter=w,this.closeCharacterRange=null,this.enclosingRange=null}computeCursorState(g,v){const w=v.getInverseEditOperations()[0].range;return this.closeCharacterRange=new f.Range(w.startLineNumber,w.endColumn-this._closeCharacter.length,w.endLineNumber,w.endColumn),this.enclosingRange=new f.Range(w.startLineNumber,w.endColumn-this._openCharacter.length-this._closeCharacter.length,w.endLineNumber,w.endColumn),super.computeCursorState(g,v)}}e.TypeWithAutoClosingCommand=h;class n{constructor(g,v,b,w,E,I){this.deletedText=g,this.deletedSelectionStart=v,this.deletedSelectionEnd=b,this.insertedText=w,this.insertedSelectionStart=E,this.insertedSelectionEnd=I}}e.CompositionOutcome=n;function c(C,g){return C===" "?g===5||g===6?6:5:4}function a(C,g){return u(C)&&!u(g)?!0:C===5?!1:l(C)!==l(g)}function l(C){return C===6||C===5?"space":C}function u(C){return C===4||C===5||C===6}}),define(X[763],ee([1,0,12,9,492,72,480,203,246,5,24,110,210,2,212]),function(q,e,L,k,y,D,S,m,_,f,p,s,t,i,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorsController=void 0;class r extends i.Disposable{constructor(u,C,g,v){super(),this._model=u,this._knownModelVersionId=this._model.getVersionId(),this._viewModel=C,this._coordinatesConverter=g,this.context=new S.CursorContext(this._model,this._viewModel,this._coordinatesConverter,v),this._cursors=new y.CursorCollection(this.context),this._hasFocus=!1,this._isHandling=!1,this._compositionState=null,this._columnSelectData=null,this._autoClosedActions=[],this._prevEditOperationType=0}dispose(){this._cursors.dispose(),this._autoClosedActions=(0,i.dispose)(this._autoClosedActions),super.dispose()}updateConfiguration(u){this.context=new S.CursorContext(this._model,this._viewModel,this._coordinatesConverter,u),this._cursors.updateContext(this.context)}onLineMappingChanged(u){this._knownModelVersionId===this._model.getVersionId()&&this.setStates(u,"viewModel",0,this.getCursorStates())}setHasFocus(u){this._hasFocus=u}_validateAutoClosedActions(){if(this._autoClosedActions.length>0){const u=this._cursors.getSelections();for(let C=0;C<this._autoClosedActions.length;C++){const g=this._autoClosedActions[C];g.isValid(u)||(g.dispose(),this._autoClosedActions.splice(C,1),C--)}}}getPrimaryCursorState(){return this._cursors.getPrimaryCursor()}getLastAddedCursorIndex(){return this._cursors.getLastAddedCursorIndex()}getCursorStates(){return this._cursors.getAll()}setStates(u,C,g,v){let b=!1;const w=this.context.cursorConfig.multiCursorLimit;v!==null&&v.length>w&&(v=v.slice(0,w),b=!0);const E=d.from(this._model,this);return this._cursors.setStates(v),this._cursors.normalize(),this._columnSelectData=null,this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(u,C,g,E,b)}setCursorColumnSelectData(u){this._columnSelectData=u}revealPrimary(u,C,g,v,b,w){const E=this._cursors.getViewPositions();let I=null,T=null;E.length>1?T=this._cursors.getViewSelections():I=f.Range.fromPositions(E[0],E[0]),u.emitViewEvent(new t.ViewRevealRangeRequestEvent(C,g,I,T,v,b,w))}saveState(){const u=[],C=this._cursors.getSelections();for(let g=0,v=C.length;g<v;g++){const b=C[g];u.push({inSelectionMode:!b.isEmpty(),selectionStart:{lineNumber:b.selectionStartLineNumber,column:b.selectionStartColumn},position:{lineNumber:b.positionLineNumber,column:b.positionColumn}})}return u}restoreState(u,C){const g=[];for(let v=0,b=C.length;v<b;v++){const w=C[v];let E=1,I=1;w.position&&w.position.lineNumber&&(E=w.position.lineNumber),w.position&&w.position.column&&(I=w.position.column);let T=E,P=I;w.selectionStart&&w.selectionStart.lineNumber&&(T=w.selectionStart.lineNumber),w.selectionStart&&w.selectionStart.column&&(P=w.selectionStart.column),g.push({selectionStartLineNumber:T,selectionStartColumn:P,positionLineNumber:E,positionColumn:I})}this.setStates(u,"restoreState",0,D.CursorState.fromModelSelections(g)),this.revealPrimary(u,"restoreState",!1,0,!0,1)}onModelContentChanged(u,C){if(C instanceof s.ModelInjectedTextChangedEvent){if(this._isHandling)return;this._isHandling=!0;try{this.setStates(u,"modelChange",0,this.getCursorStates())}finally{this._isHandling=!1}}else{const g=C.rawContentChangedEvent;if(this._knownModelVersionId=g.versionId,this._isHandling)return;const v=g.containsEvent(1);if(this._prevEditOperationType=0,v)this._cursors.dispose(),this._cursors=new y.CursorCollection(this.context),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(u,"model",1,null,!1);else if(this._hasFocus&&g.resultingSelection&&g.resultingSelection.length>0){const b=D.CursorState.fromModelSelections(g.resultingSelection);this.setStates(u,"modelChange",g.isUndoing?5:g.isRedoing?6:2,b)&&this.revealPrimary(u,"modelChange",!1,0,!0,0)}else{const b=this._cursors.readSelectionFromMarkers();this.setStates(u,"modelChange",2,D.CursorState.fromModelSelections(b))}}}getSelection(){return this._cursors.getPrimaryCursor().modelState.selection}getTopMostViewPosition(){return this._cursors.getTopMostViewPosition()}getBottomMostViewPosition(){return this._cursors.getBottomMostViewPosition()}getCursorColumnSelectData(){if(this._columnSelectData)return this._columnSelectData;const u=this._cursors.getPrimaryCursor(),C=u.viewState.selectionStart.getStartPosition(),g=u.viewState.position;return{isReal:!1,fromViewLineNumber:C.lineNumber,fromViewVisualColumn:this.context.cursorConfig.visibleColumnFromColumn(this._viewModel,C),toViewLineNumber:g.lineNumber,toViewVisualColumn:this.context.cursorConfig.visibleColumnFromColumn(this._viewModel,g)}}getSelections(){return this._cursors.getSelections()}setSelections(u,C,g,v){this.setStates(u,C,v,D.CursorState.fromModelSelections(g))}getPrevEditOperationType(){return this._prevEditOperationType}setPrevEditOperationType(u){this._prevEditOperationType=u}_pushAutoClosedAction(u,C){const g=[],v=[];for(let E=0,I=u.length;E<I;E++)g.push({range:u[E],options:{description:"auto-closed-character",inlineClassName:"auto-closed-character",stickiness:1}}),v.push({range:C[E],options:{description:"auto-closed-enclosing",stickiness:1}});const b=this._model.deltaDecorations([],g),w=this._model.deltaDecorations([],v);this._autoClosedActions.push(new h(this._model,b,w))}_executeEditOperation(u){if(!u)return;u.shouldPushStackElementBefore&&this._model.pushStackElement();const C=n.executeCommands(this._model,this._cursors.getSelections(),u.commands);if(C){this._interpretCommandResult(C);const g=[],v=[];for(let b=0;b<u.commands.length;b++){const w=u.commands[b];w instanceof _.TypeWithAutoClosingCommand&&w.enclosingRange&&w.closeCharacterRange&&(g.push(w.closeCharacterRange),v.push(w.enclosingRange))}g.length>0&&this._pushAutoClosedAction(g,v),this._prevEditOperationType=u.type}u.shouldPushStackElementAfter&&this._model.pushStackElement()}_interpretCommandResult(u){(!u||u.length===0)&&(u=this._cursors.readSelectionFromMarkers()),this._columnSelectData=null,this._cursors.setSelections(u),this._cursors.normalize()}_emitStateChangedIfNecessary(u,C,g,v,b){const w=d.from(this._model,this);if(w.equals(v))return!1;const E=this._cursors.getSelections(),I=this._cursors.getViewSelections();if(u.emitViewEvent(new t.ViewCursorStateChangedEvent(I,E,g)),!v||v.cursorState.length!==w.cursorState.length||w.cursorState.some((T,P)=>!T.modelState.equals(v.cursorState[P].modelState))){const T=v?v.cursorState.map(A=>A.modelState.selection):null,P=v?v.modelVersionId:0;u.emitOutgoingEvent(new o.CursorStateChangedEvent(T,E,P,w.modelVersionId,C||"keyboard",g,b))}return!0}_findAutoClosingPairs(u){if(!u.length)return null;const C=[];for(let g=0,v=u.length;g<v;g++){const b=u[g];if(!b.text||b.text.indexOf(`
`)>=0)return null;const w=b.text.match(/([)\]}>'"`])([^)\]}>'"`]*)$/);if(!w)return null;const E=w[1],I=this.context.cursorConfig.autoClosingPairs.autoClosingPairsCloseSingleChar.get(E);if(!I||I.length!==1)return null;const T=I[0].open,P=b.text.length-w[2].length-1,A=b.text.lastIndexOf(T,P-1);if(A===-1)return null;C.push([A,P])}return C}executeEdits(u,C,g,v){let b=null;C==="snippet"&&(b=this._findAutoClosingPairs(g)),b&&(g[0]._isTracked=!0);const w=[],E=[],I=this._model.pushEditOperations(this.getSelections(),g,T=>{if(b)for(let A=0,M=b.length;A<M;A++){const[N,R]=b[A],F=T[A],x=F.range.startLineNumber,W=F.range.startColumn-1+N,z=F.range.startColumn-1+R;w.push(new f.Range(x,z+1,x,z+2)),E.push(new f.Range(x,W+1,x,z+2))}const P=v(T);return P&&(this._isHandling=!0),P});I&&(this._isHandling=!1,this.setSelections(u,C,I,0)),w.length>0&&this._pushAutoClosedAction(w,E)}_executeEdit(u,C,g,v=0){if(this.context.cursorConfig.readOnly)return;const b=d.from(this._model,this);this._cursors.stopTrackingSelections(),this._isHandling=!0;try{this._cursors.ensureValidState(),u()}catch(w){(0,L.onUnexpectedError)(w)}this._isHandling=!1,this._cursors.startTrackingSelections(),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(C,g,v,b,!1)&&this.revealPrimary(C,g,!1,0,!0,0)}getAutoClosedCharacters(){return h.getAllAutoClosedCharacters(this._autoClosedActions)}startComposition(u){this._compositionState=new a(this._model,this.getSelections())}endComposition(u,C){const g=this._compositionState?this._compositionState.deduceOutcome(this._model,this.getSelections()):null;this._compositionState=null,this._executeEdit(()=>{C==="keyboard"&&this._executeEditOperation(_.TypeOperations.compositionEndWithInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,g,this.getSelections(),this.getAutoClosedCharacters()))},u,C)}type(u,C,g){this._executeEdit(()=>{if(g==="keyboard"){const v=C.length;let b=0;for(;b<v;){const w=k.nextCharLength(C,b),E=C.substr(b,w);this._executeEditOperation(_.TypeOperations.typeWithInterceptors(!!this._compositionState,this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),this.getAutoClosedCharacters(),E)),b+=w}}else this._executeEditOperation(_.TypeOperations.typeWithoutInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),C))},u,g)}compositionType(u,C,g,v,b,w){if(C.length===0&&g===0&&v===0){if(b!==0){const E=this.getSelections().map(I=>{const T=I.getPosition();return new p.Selection(T.lineNumber,T.column+b,T.lineNumber,T.column+b)});this.setSelections(u,w,E,0)}return}this._executeEdit(()=>{this._executeEditOperation(_.TypeOperations.compositionType(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),C,g,v,b))},u,w)}paste(u,C,g,v,b){this._executeEdit(()=>{this._executeEditOperation(_.TypeOperations.paste(this.context.cursorConfig,this._model,this.getSelections(),C,g,v||[]))},u,b,4)}cut(u,C){this._executeEdit(()=>{this._executeEditOperation(m.DeleteOperations.cut(this.context.cursorConfig,this._model,this.getSelections()))},u,C)}executeCommand(u,C,g){this._executeEdit(()=>{this._cursors.killSecondaryCursors(),this._executeEditOperation(new D.EditOperationResult(0,[C],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},u,g)}executeCommands(u,C,g){this._executeEdit(()=>{this._executeEditOperation(new D.EditOperationResult(0,C,{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},u,g)}}e.CursorsController=r;class d{static from(u,C){return new d(u.getVersionId(),C.getCursorStates())}constructor(u,C){this.modelVersionId=u,this.cursorState=C}equals(u){if(!u||this.modelVersionId!==u.modelVersionId||this.cursorState.length!==u.cursorState.length)return!1;for(let C=0,g=this.cursorState.length;C<g;C++)if(!this.cursorState[C].equals(u.cursorState[C]))return!1;return!0}}class h{static getAllAutoClosedCharacters(u){let C=[];for(const g of u)C=C.concat(g.getAutoClosedCharactersRanges());return C}constructor(u,C,g){this._model=u,this._autoClosedCharactersDecorations=C,this._autoClosedEnclosingDecorations=g}dispose(){this._autoClosedCharactersDecorations=this._model.deltaDecorations(this._autoClosedCharactersDecorations,[]),this._autoClosedEnclosingDecorations=this._model.deltaDecorations(this._autoClosedEnclosingDecorations,[])}getAutoClosedCharactersRanges(){const u=[];for(let C=0;C<this._autoClosedCharactersDecorations.length;C++){const g=this._model.getDecorationRange(this._autoClosedCharactersDecorations[C]);g&&u.push(g)}return u}isValid(u){const C=[];for(let g=0;g<this._autoClosedEnclosingDecorations.length;g++){const v=this._model.getDecorationRange(this._autoClosedEnclosingDecorations[g]);if(v&&(C.push(v),v.startLineNumber!==v.endLineNumber))return!1}C.sort(f.Range.compareRangesUsingStarts),u.sort(f.Range.compareRangesUsingStarts);for(let g=0;g<u.length;g++)if(g>=C.length||!C[g].strictContainsRange(u[g]))return!1;return!0}}class n{static executeCommands(u,C,g){const v={model:u,selectionsBefore:C,trackedRanges:[],trackedRangesDirection:[]},b=this._innerExecuteCommands(v,g);for(let w=0,E=v.trackedRanges.length;w<E;w++)v.model._setTrackedRange(v.trackedRanges[w],null,0);return b}static _innerExecuteCommands(u,C){if(this._arrayIsEmpty(C))return null;const g=this._getEditOperations(u,C);if(g.operations.length===0)return null;const v=g.operations,b=this._getLoserCursorMap(v);if(b.hasOwnProperty("0"))return console.warn("Ignoring commands"),null;const w=[];for(let T=0,P=v.length;T<P;T++)b.hasOwnProperty(v[T].identifier.major.toString())||w.push(v[T]);g.hadTrackedEditOperation&&w.length>0&&(w[0]._isTracked=!0);let E=u.model.pushEditOperations(u.selectionsBefore,w,T=>{const P=[];for(let N=0;N<u.selectionsBefore.length;N++)P[N]=[];for(const N of T)N.identifier&&P[N.identifier.major].push(N);const A=(N,R)=>N.identifier.minor-R.identifier.minor,M=[];for(let N=0;N<u.selectionsBefore.length;N++)P[N].length>0?(P[N].sort(A),M[N]=C[N].computeCursorState(u.model,{getInverseEditOperations:()=>P[N],getTrackedSelection:R=>{const F=parseInt(R,10),x=u.model._getTrackedRange(u.trackedRanges[F]);return u.trackedRangesDirection[F]===0?new p.Selection(x.startLineNumber,x.startColumn,x.endLineNumber,x.endColumn):new p.Selection(x.endLineNumber,x.endColumn,x.startLineNumber,x.startColumn)}})):M[N]=u.selectionsBefore[N];return M});E||(E=u.selectionsBefore);const I=[];for(const T in b)b.hasOwnProperty(T)&&I.push(parseInt(T,10));I.sort((T,P)=>P-T);for(const T of I)E.splice(T,1);return E}static _arrayIsEmpty(u){for(let C=0,g=u.length;C<g;C++)if(u[C])return!1;return!0}static _getEditOperations(u,C){let g=[],v=!1;for(let b=0,w=C.length;b<w;b++){const E=C[b];if(E){const I=this._getEditOperationsFromCommand(u,b,E);g=g.concat(I.operations),v=v||I.hadTrackedEditOperation}}return{operations:g,hadTrackedEditOperation:v}}static _getEditOperationsFromCommand(u,C,g){const v=[];let b=0;const w=(A,M,N=!1)=>{f.Range.isEmpty(A)&&M===""||v.push({identifier:{major:C,minor:b++},range:A,text:M,forceMoveMarkers:N,isAutoWhitespaceEdit:g.insertsAutoWhitespace})};let E=!1;const P={addEditOperation:w,addTrackedEditOperation:(A,M,N)=>{E=!0,w(A,M,N)},trackSelection:(A,M)=>{const N=p.Selection.liftSelection(A);let R;if(N.isEmpty())if(typeof M=="boolean")M?R=2:R=3;else{const W=u.model.getLineMaxColumn(N.startLineNumber);N.startColumn===W?R=2:R=3}else R=1;const F=u.trackedRanges.length,x=u.model._setTrackedRange(null,N,R);return u.trackedRanges[F]=x,u.trackedRangesDirection[F]=N.getDirection(),F.toString()}};try{g.getEditOperations(u.model,P)}catch(A){return(0,L.onUnexpectedError)(A),{operations:[],hadTrackedEditOperation:!1}}return{operations:v,hadTrackedEditOperation:E}}static _getLoserCursorMap(u){u=u.slice(0),u.sort((g,v)=>-f.Range.compareRangesUsingEnds(g.range,v.range));const C={};for(let g=1;g<u.length;g++){const v=u[g-1],b=u[g];if(f.Range.getStartPosition(v.range).isBefore(f.Range.getEndPosition(b.range))){let w;v.identifier.major>b.identifier.major?w=v.identifier.major:w=b.identifier.major,C[w.toString()]=!0;for(let E=0;E<u.length;E++)u[E].identifier.major===w&&(u.splice(E,1),E<g&&g--,E--);g>0&&g--}}return C}}class c{constructor(u,C,g){this.text=u,this.startSelection=C,this.endSelection=g}}class a{static _capture(u,C){const g=[];for(const v of C){if(v.startLineNumber!==v.endLineNumber)return null;g.push(new c(u.getLineContent(v.startLineNumber),v.startColumn-1,v.endColumn-1))}return g}constructor(u,C){this._original=a._capture(u,C)}deduceOutcome(u,C){if(!this._original)return null;const g=a._capture(u,C);if(!g||this._original.length!==g.length)return null;const v=[];for(let b=0,w=this._original.length;b<w;b++)v.push(a._deduceOutcome(this._original[b],g[b]));return v}static _deduceOutcome(u,C){const g=Math.min(u.startSelection,C.startSelection,k.commonPrefixLength(u.text,C.text)),v=Math.min(u.text.length-u.endSelection,C.text.length-C.endSelection,k.commonSuffixLength(u.text,C.text)),b=u.text.substring(g,u.text.length-v),w=C.text.substring(g,C.text.length-v);return new _.CompositionOutcome(b,u.startSelection-g,u.endSelection-g,w,C.startSelection-g,C.endSelection-g)}}}),define(X[764],ee([1,0,53,43,77,325]),function(q,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getIconClasses=void 0;const S=/(?:\/|^)(?:([^\/]+)\/)?([^\/]+)$/;function m(p,s,t,i){const o=i===D.FileKind.ROOT_FOLDER?["rootfolder-icon"]:i===D.FileKind.FOLDER?["folder-icon"]:["file-icon"];if(t){let r;if(t.scheme===L.Schemas.data)r=k.DataUri.parseMetaData(t).get(k.DataUri.META_DATA_LABEL);else{const d=t.path.match(S);d?(r=f(d[2].toLowerCase()),d[1]&&o.push(`${f(d[1].toLowerCase())}-name-dir-icon`)):r=f(t.authority.toLowerCase())}if(i===D.FileKind.FOLDER)o.push(`${r}-name-folder-icon`);else{if(r){if(o.push(`${r}-name-file-icon`),o.push("name-file-icon"),r.length<=255){const h=r.split(".");for(let n=1;n<h.length;n++)o.push(`${h.slice(n).join(".")}-ext-file-icon`)}o.push("ext-file-icon")}const d=_(p,s,t);d&&o.push(`${f(d)}-lang-file-icon`)}}return o}e.getIconClasses=m;function _(p,s,t){if(!t)return null;let i=null;if(t.scheme===L.Schemas.data){const r=k.DataUri.parseMetaData(t).get(k.DataUri.META_DATA_MIME);r&&(i=s.getLanguageIdByMimeType(r))}else{const o=p.getModel(t);o&&(i=o.getLanguageId())}return i&&i!==y.PLAINTEXT_LANGUAGE_ID?i:s.guessLanguageIdByFilepathOrFirstLine(t)}function f(p){return p.replace(/[\11\12\14\15\40]/g,"/")}}),define(X[765],ee([1,0,299,105,53,91,43,9,77]),function(q,e,L,k,y,D,S,m,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getLanguageIds=e.clearPlatformLanguageAssociations=e.registerPlatformLanguageAssociation=void 0;let f=[],p=[],s=[];function t(a,l=!1){i(a,!1,l)}e.registerPlatformLanguageAssociation=t;function i(a,l,u){const C=o(a,l);f.push(C),C.userConfigured?s.push(C):p.push(C),u&&!C.userConfigured&&f.forEach(g=>{g.mime===C.mime||g.userConfigured||(C.extension&&g.extension===C.extension&&console.warn(`Overwriting extension <<${C.extension}>> to now point to mime <<${C.mime}>>`),C.filename&&g.filename===C.filename&&console.warn(`Overwriting filename <<${C.filename}>> to now point to mime <<${C.mime}>>`),C.filepattern&&g.filepattern===C.filepattern&&console.warn(`Overwriting filepattern <<${C.filepattern}>> to now point to mime <<${C.mime}>>`),C.firstline&&g.firstline===C.firstline&&console.warn(`Overwriting firstline <<${C.firstline}>> to now point to mime <<${C.mime}>>`))})}function o(a,l){return{id:a.id,mime:a.mime,filename:a.filename,extension:a.extension,filepattern:a.filepattern,firstline:a.firstline,userConfigured:l,filenameLowercase:a.filename?a.filename.toLowerCase():void 0,extensionLowercase:a.extension?a.extension.toLowerCase():void 0,filepatternLowercase:a.filepattern?(0,L.parse)(a.filepattern.toLowerCase()):void 0,filepatternOnPath:a.filepattern?a.filepattern.indexOf(D.posix.sep)>=0:!1}}function r(){f=f.filter(a=>a.userConfigured),p=[]}e.clearPlatformLanguageAssociations=r;function d(a,l){return h(a,l).map(u=>u.id)}e.getLanguageIds=d;function h(a,l){let u;if(a)switch(a.scheme){case y.Schemas.file:u=a.fsPath;break;case y.Schemas.data:{u=S.DataUri.parseMetaData(a).get(S.DataUri.META_DATA_LABEL);break}case y.Schemas.vscodeNotebookCell:u=void 0;break;default:u=a.path}if(!u)return[{id:"unknown",mime:k.Mimes.unknown}];u=u.toLowerCase();const C=(0,D.basename)(u),g=n(u,C,s);if(g)return[g,{id:_.PLAINTEXT_LANGUAGE_ID,mime:k.Mimes.text}];const v=n(u,C,p);if(v)return[v,{id:_.PLAINTEXT_LANGUAGE_ID,mime:k.Mimes.text}];if(l){const b=c(l);if(b)return[b,{id:_.PLAINTEXT_LANGUAGE_ID,mime:k.Mimes.text}]}return[{id:"unknown",mime:k.Mimes.unknown}]}function n(a,l,u){var C;let g,v,b;for(let w=u.length-1;w>=0;w--){const E=u[w];if(l===E.filenameLowercase){g=E;break}if(E.filepattern&&(!v||E.filepattern.length>v.filepattern.length)){const I=E.filepatternOnPath?a:l;!((C=E.filepatternLowercase)===null||C===void 0)&&C.call(E,I)&&(v=E)}E.extension&&(!b||E.extension.length>b.extension.length)&&l.endsWith(E.extensionLowercase)&&(b=E)}if(g)return g;if(v)return v;if(b)return b}function c(a){if((0,m.startsWithUTF8BOM)(a)&&(a=a.substr(1)),a.length>0)for(let l=f.length-1;l>=0;l--){const u=f[l];if(!u.firstline)continue;const C=a.match(u.firstline);if(C&&C.length>0)return u}}}),define(X[766],ee([1,0,6,2,9,765,77,101,38]),function(q,e,L,k,y,D,S,m,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LanguagesRegistry=e.LanguageIdCodec=void 0;const f=Object.prototype.hasOwnProperty,p="vs.editor.nullLanguage";class s{constructor(){this._languageIdToLanguage=[],this._languageToLanguageId=new Map,this._register(p,0),this._register(S.PLAINTEXT_LANGUAGE_ID,1),this._nextLanguageId=2}_register(o,r){this._languageIdToLanguage[r]=o,this._languageToLanguageId.set(o,r)}register(o){if(this._languageToLanguageId.has(o))return;const r=this._nextLanguageId++;this._register(o,r)}encodeLanguageId(o){return this._languageToLanguageId.get(o)||0}decodeLanguageId(o){return this._languageIdToLanguage[o]||p}}e.LanguageIdCodec=s;class t extends k.Disposable{constructor(o=!0,r=!1){super(),this._onDidChange=this._register(new L.Emitter),this.onDidChange=this._onDidChange.event,t.instanceCount++,this._warnOnOverwrite=r,this.languageIdCodec=new s,this._dynamicLanguages=[],this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},o&&(this._initializeFromRegistry(),this._register(S.ModesRegistry.onDidChangeLanguages(d=>{this._initializeFromRegistry()})))}dispose(){t.instanceCount--,super.dispose()}_initializeFromRegistry(){this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},(0,D.clearPlatformLanguageAssociations)();const o=[].concat(S.ModesRegistry.getLanguages()).concat(this._dynamicLanguages);this._registerLanguages(o)}_registerLanguages(o){for(const r of o)this._registerLanguage(r);this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},Object.keys(this._languages).forEach(r=>{const d=this._languages[r];d.name&&(this._nameMap[d.name]=d.identifier),d.aliases.forEach(h=>{this._lowercaseNameMap[h.toLowerCase()]=d.identifier}),d.mimetypes.forEach(h=>{this._mimeTypesMap[h]=d.identifier})}),_.Registry.as(m.Extensions.Configuration).registerOverrideIdentifiers(this.getRegisteredLanguageIds()),this._onDidChange.fire()}_registerLanguage(o){const r=o.id;let d;f.call(this._languages,r)?d=this._languages[r]:(this.languageIdCodec.register(r),d={identifier:r,name:null,mimetypes:[],aliases:[],extensions:[],filenames:[],configurationFiles:[],icons:[]},this._languages[r]=d),this._mergeLanguage(d,o)}_mergeLanguage(o,r){const d=r.id;let h=null;if(Array.isArray(r.mimetypes)&&r.mimetypes.length>0&&(o.mimetypes.push(...r.mimetypes),h=r.mimetypes[0]),h||(h=`text/x-${d}`,o.mimetypes.push(h)),Array.isArray(r.extensions)){r.configuration?o.extensions=r.extensions.concat(o.extensions):o.extensions=o.extensions.concat(r.extensions);for(const a of r.extensions)(0,D.registerPlatformLanguageAssociation)({id:d,mime:h,extension:a},this._warnOnOverwrite)}if(Array.isArray(r.filenames))for(const a of r.filenames)(0,D.registerPlatformLanguageAssociation)({id:d,mime:h,filename:a},this._warnOnOverwrite),o.filenames.push(a);if(Array.isArray(r.filenamePatterns))for(const a of r.filenamePatterns)(0,D.registerPlatformLanguageAssociation)({id:d,mime:h,filepattern:a},this._warnOnOverwrite);if(typeof r.firstLine=="string"&&r.firstLine.length>0){let a=r.firstLine;a.charAt(0)!=="^"&&(a="^"+a);try{const l=new RegExp(a);(0,y.regExpLeadsToEndlessLoop)(l)||(0,D.registerPlatformLanguageAssociation)({id:d,mime:h,firstline:l},this._warnOnOverwrite)}catch(l){console.warn(`[${r.id}]: Invalid regular expression \`${a}\`: `,l)}}o.aliases.push(d);let n=null;if(typeof r.aliases<"u"&&Array.isArray(r.aliases)&&(r.aliases.length===0?n=[null]:n=r.aliases),n!==null)for(const a of n)!a||a.length===0||o.aliases.push(a);const c=n!==null&&n.length>0;if(!(c&&n[0]===null)){const a=(c?n[0]:null)||d;(c||!o.name)&&(o.name=a)}r.configuration&&o.configurationFiles.push(r.configuration),r.icon&&o.icons.push(r.icon)}isRegisteredLanguageId(o){return o?f.call(this._languages,o):!1}getRegisteredLanguageIds(){return Object.keys(this._languages)}getLanguageIdByLanguageName(o){const r=o.toLowerCase();return f.call(this._lowercaseNameMap,r)?this._lowercaseNameMap[r]:null}getLanguageIdByMimeType(o){return o&&f.call(this._mimeTypesMap,o)?this._mimeTypesMap[o]:null}guessLanguageIdByFilepathOrFirstLine(o,r){return!o&&!r?[]:(0,D.getLanguageIds)(o,r)}}e.LanguagesRegistry=t,t.instanceCount=0}),define(X[767],ee([1,0,6,2,766,16,29,77]),function(q,e,L,k,y,D,S,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LanguageService=void 0;class _ extends k.Disposable{constructor(s=!1){super(),this._onDidRequestBasicLanguageFeatures=this._register(new L.Emitter),this.onDidRequestBasicLanguageFeatures=this._onDidRequestBasicLanguageFeatures.event,this._onDidRequestRichLanguageFeatures=this._register(new L.Emitter),this.onDidRequestRichLanguageFeatures=this._onDidRequestRichLanguageFeatures.event,this._onDidChange=this._register(new L.Emitter({leakWarningThreshold:200})),this.onDidChange=this._onDidChange.event,this._requestedBasicLanguages=new Set,this._requestedRichLanguages=new Set,_.instanceCount++,this._registry=this._register(new y.LanguagesRegistry(!0,s)),this.languageIdCodec=this._registry.languageIdCodec,this._register(this._registry.onDidChange(()=>this._onDidChange.fire()))}dispose(){_.instanceCount--,super.dispose()}isRegisteredLanguageId(s){return this._registry.isRegisteredLanguageId(s)}getLanguageIdByLanguageName(s){return this._registry.getLanguageIdByLanguageName(s)}getLanguageIdByMimeType(s){return this._registry.getLanguageIdByMimeType(s)}guessLanguageIdByFilepathOrFirstLine(s,t){const i=this._registry.guessLanguageIdByFilepathOrFirstLine(s,t);return(0,D.firstOrDefault)(i,null)}createById(s){return new f(this.onDidChange,()=>this._createAndGetLanguageIdentifier(s))}createByFilepathOrFirstLine(s,t){return new f(this.onDidChange,()=>{const i=this.guessLanguageIdByFilepathOrFirstLine(s,t);return this._createAndGetLanguageIdentifier(i)})}_createAndGetLanguageIdentifier(s){return(!s||!this.isRegisteredLanguageId(s))&&(s=m.PLAINTEXT_LANGUAGE_ID),s}requestBasicLanguageFeatures(s){this._requestedBasicLanguages.has(s)||(this._requestedBasicLanguages.add(s),this._onDidRequestBasicLanguageFeatures.fire(s))}requestRichLanguageFeatures(s){this._requestedRichLanguages.has(s)||(this._requestedRichLanguages.add(s),this.requestBasicLanguageFeatures(s),S.TokenizationRegistry.getOrCreate(s),this._onDidRequestRichLanguageFeatures.fire(s))}}e.LanguageService=_,_.instanceCount=0;class f{constructor(s,t){this._onDidChangeLanguages=s,this._selector=t,this._listener=null,this._emitter=null,this.languageId=this._selector()}_dispose(){this._listener&&(this._listener.dispose(),this._listener=null),this._emitter&&(this._emitter.dispose(),this._emitter=null)}get onDidChange(){return this._listener||(this._listener=this._onDidChangeLanguages(()=>this._evaluate())),this._emitter||(this._emitter=new L.Emitter({onDidRemoveLastListener:()=>{this._dispose()}})),this._emitter.event}_evaluate(){var s;const t=this._selector();t!==this.languageId&&(this.languageId=t,(s=this._emitter)===null||s===void 0||s.fire(this.languageId))}}}),define(X[337],ee([1,0,36,242,49,30,2,19,148]),function(q,e,L,k,y,D,S,m,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DefaultDocumentColorProvider=void 0;class f{constructor(t,i){this._editorWorkerClient=new k.EditorWorkerClient(t,!1,"editorWorkerService",i)}provideDocumentColors(t,i){return Le(this,void 0,void 0,function*(){return this._editorWorkerClient.computeDefaultDocumentColors(t.uri)})}provideColorPresentations(t,i,o){const r=i.range,d=i.color,h=d.alpha,n=new L.Color(new L.RGBA(Math.round(255*d.red),Math.round(255*d.green),Math.round(255*d.blue),h)),c=h?L.Color.Format.CSS.formatRGB(n):L.Color.Format.CSS.formatRGBA(n),a=h?L.Color.Format.CSS.formatHSL(n):L.Color.Format.CSS.formatHSLA(n),l=h?L.Color.Format.CSS.formatHex(n):L.Color.Format.CSS.formatHexA(n),u=[];return u.push({label:c,textEdit:{range:r,text:c}}),u.push({label:a,textEdit:{range:r,text:a}}),u.push({label:l,textEdit:{range:r,text:l}}),u}}e.DefaultDocumentColorProvider=f;let p=class extends S.Disposable{constructor(t,i,o){super(),this._register(o.colorProvider.register("*",new f(t,i)))}};p=Ne([ge(0,y.IModelService),ge(1,D.ILanguageConfigurationService),ge(2,m.ILanguageFeaturesService)],p),(0,_.registerEditorFeature)(p)}),define(X[338],ee([1,0,20,12,21,5,49,26,19,337,28]),function(q,e,L,k,y,D,S,m,_,f,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getColorPresentations=e.getColors=void 0;function s(n,c,a,l=!0){return Le(this,void 0,void 0,function*(){return d(new i,n,c,a,l)})}e.getColors=s;function t(n,c,a,l){return Promise.resolve(a.provideColorPresentations(n,c,l))}e.getColorPresentations=t;class i{constructor(){}compute(c,a,l,u){return Le(this,void 0,void 0,function*(){const C=yield c.provideDocumentColors(a,l);if(Array.isArray(C))for(const g of C)u.push({colorInfo:g,provider:c});return Array.isArray(C)})}}class o{constructor(){}compute(c,a,l,u){return Le(this,void 0,void 0,function*(){const C=yield c.provideDocumentColors(a,l);if(Array.isArray(C))for(const g of C)u.push({range:g.range,color:[g.color.red,g.color.green,g.color.blue,g.color.alpha]});return Array.isArray(C)})}}class r{constructor(c){this.colorInfo=c}compute(c,a,l,u){return Le(this,void 0,void 0,function*(){const C=yield c.provideColorPresentations(a,this.colorInfo,L.CancellationToken.None);return Array.isArray(C)&&u.push(...C),Array.isArray(C)})}}function d(n,c,a,l,u){return Le(this,void 0,void 0,function*(){let C=!1,g;const v=[],b=c.ordered(a);for(let w=b.length-1;w>=0;w--){const E=b[w];if(E instanceof f.DefaultDocumentColorProvider)g=E;else try{(yield n.compute(E,a,l,v))&&(C=!0)}catch(I){(0,k.onUnexpectedExternalError)(I)}}return C?v:g&&u?(yield n.compute(g,a,l,v),v):[]})}function h(n,c){const{colorProvider:a}=n.get(_.ILanguageFeaturesService),l=n.get(S.IModelService).getModel(c);if(!l)throw(0,k.illegalArgument)();const u=n.get(p.IConfigurationService).getValue("editor.defaultColorDecorators",{resource:c});return{model:l,colorProviderRegistry:a,isDefaultColorDecoratorsEnabled:u}}m.CommandsRegistry.registerCommand("_executeDocumentColorProvider",function(n,...c){const[a]=c;if(!(a instanceof y.URI))throw(0,k.illegalArgument)();const{model:l,colorProviderRegistry:u,isDefaultColorDecoratorsEnabled:C}=h(n,a);return d(new o,u,l,L.CancellationToken.None,C)}),m.CommandsRegistry.registerCommand("_executeColorPresentationProvider",function(n,...c){const[a,l]=c,{uri:u,range:C}=l;if(!(u instanceof y.URI)||!Array.isArray(a)||a.length!==4||!D.Range.isIRange(C))throw(0,k.illegalArgument)();const{model:g,colorProviderRegistry:v,isDefaultColorDecoratorsEnabled:b}=h(n,u),[w,E,I,T]=a;return d(new r({range:C,color:{red:w,green:E,blue:I,alpha:T}}),v,g,L.CancellationToken.None,b)})}),define(X[768],ee([1,0,20,70,2,42,106,11,29,30,19,293,543]),function(q,e,L,k,y,D,S,m,_,f,p,s,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlineCompletionWithUpdatedRange=e.UpToDateInlineCompletions=e.InlineCompletionsSource=void 0;let i=e.InlineCompletionsSource=class extends y.Disposable{constructor(u,C,g,v,b){super(),this.textModel=u,this.versionId=C,this._debounceValue=g,this.languageFeaturesService=v,this.languageConfigurationService=b,this._updateOperation=this._register(new y.MutableDisposable),this.inlineCompletions=(0,S.disposableObservableValue)("inlineCompletions",void 0),this.suggestWidgetInlineCompletions=(0,S.disposableObservableValue)("suggestWidgetInlineCompletions",void 0),this._register(this.textModel.onDidChangeContent(()=>{this._updateOperation.clear()}))}fetch(u,C,g){var v,b;const w=new r(u,C,this.textModel.getVersionId()),E=C.selectedSuggestionInfo?this.suggestWidgetInlineCompletions:this.inlineCompletions;if(!((v=this._updateOperation.value)===null||v===void 0)&&v.request.satisfies(w))return this._updateOperation.value.promise;if(!((b=E.get())===null||b===void 0)&&b.request.satisfies(w))return Promise.resolve(!0);const I=!!this._updateOperation.value;this._updateOperation.clear();const T=new L.CancellationTokenSource,P=(()=>Le(this,void 0,void 0,function*(){if((I||C.triggerKind===_.InlineCompletionTriggerKind.Automatic)&&(yield o(this._debounceValue.get(this.textModel))),T.token.isCancellationRequested||this.textModel.getVersionId()!==w.versionId)return!1;const N=new Date,R=yield(0,t.provideInlineCompletions)(this.languageFeaturesService.inlineCompletionsProvider,u,this.textModel,C,T.token,this.languageConfigurationService);if(T.token.isCancellationRequested||this.textModel.getVersionId()!==w.versionId)return!1;const F=new Date;this._debounceValue.update(this.textModel,F.getTime()-N.getTime());const x=new n(R,w,this.textModel,this.versionId);if(g){const W=g.toInlineCompletion(void 0);g.canBeReused(this.textModel,u)&&!R.has(W)&&x.prepend(g.inlineCompletion,W.range,!0)}return this._updateOperation.clear(),(0,S.transaction)(W=>{E.set(x,W)}),!0}))(),A=new h(w,T,P);return this._updateOperation.value=A,P}clear(u){this._updateOperation.clear(),this.inlineCompletions.set(void 0,u),this.suggestWidgetInlineCompletions.set(void 0,u)}clearSuggestWidgetInlineCompletions(u){var C;!((C=this._updateOperation.value)===null||C===void 0)&&C.request.context.selectedSuggestionInfo&&this._updateOperation.clear(),this.suggestWidgetInlineCompletions.set(void 0,u)}cancelUpdate(){this._updateOperation.clear()}};e.InlineCompletionsSource=i=Ne([ge(3,p.ILanguageFeaturesService),ge(4,f.ILanguageConfigurationService)],i);function o(l,u){return new Promise(C=>{let g;const v=setTimeout(()=>{g&&g.dispose(),C()},l);u&&(g=u.onCancellationRequested(()=>{clearTimeout(v),g&&g.dispose(),C()}))})}class r{constructor(u,C,g){this.position=u,this.context=C,this.versionId=g}satisfies(u){return this.position.equals(u.position)&&d(this.context.selectedSuggestionInfo,u.context.selectedSuggestionInfo,(C,g)=>C.equals(g))&&(u.context.triggerKind===_.InlineCompletionTriggerKind.Automatic||this.context.triggerKind===_.InlineCompletionTriggerKind.Explicit)&&this.versionId===u.versionId}}function d(l,u,C){return!l||!u?l===u:C(l,u)}class h{constructor(u,C,g){this.request=u,this.cancellationTokenSource=C,this.promise=g}dispose(){this.cancellationTokenSource.cancel()}}class n{get inlineCompletions(){return this._inlineCompletions}constructor(u,C,g,v){this.inlineCompletionProviderResult=u,this.request=C,this.textModel=g,this.versionId=v,this._refCount=1,this._prependedInlineCompletionItems=[],this._rangeVersionIdValue=0,this._rangeVersionId=(0,D.derived)("ranges",w=>{this.versionId.read(w);let E=!1;for(const I of this._inlineCompletions)E=E||I._updateRange(this.textModel);return E&&this._rangeVersionIdValue++,this._rangeVersionIdValue});const b=g.deltaDecorations([],u.completions.map(w=>({range:w.range,options:{description:"inline-completion-tracking-range"}})));this._inlineCompletions=u.completions.map((w,E)=>new c(w,b[E],this._rangeVersionId))}clone(){return this._refCount++,this}dispose(){if(this._refCount--,this._refCount===0){this.textModel.deltaDecorations(this._inlineCompletions.map(u=>u.decorationId),[]),this.inlineCompletionProviderResult.dispose();for(const u of this._prependedInlineCompletionItems)u.source.removeRef()}}prepend(u,C,g){g&&u.source.addRef();const v=this.textModel.deltaDecorations([],[{range:C,options:{description:"inline-completion-tracking-range"}}])[0];this._inlineCompletions.unshift(new c(u,v,this._rangeVersionId,C)),this._prependedInlineCompletionItems.push(u)}}e.UpToDateInlineCompletions=n;class c{get forwardStable(){var u;return(u=this.inlineCompletion.source.inlineCompletions.enableForwardStability)!==null&&u!==void 0?u:!1}constructor(u,C,g,v){this.inlineCompletion=u,this.decorationId=C,this.rangeVersion=g,this.semanticId=JSON.stringify([this.inlineCompletion.filterText,this.inlineCompletion.insertText,this.inlineCompletion.range.getStartPosition().toString()]),this._isValid=!0,this._updatedRange=v??u.range}toInlineCompletion(u){return this.inlineCompletion.withRange(this._getUpdatedRange(u))}toSingleTextEdit(u){return new s.SingleTextEdit(this._getUpdatedRange(u),this.inlineCompletion.insertText)}isVisible(u,C,g){const v=this._toFilterTextReplacement(g).removeCommonPrefix(u);if(!this._isValid||!this.inlineCompletion.range.getStartPosition().equals(this._getUpdatedRange(g).getStartPosition())||C.lineNumber!==v.range.startLineNumber)return!1;const b=u.getValueInRange(v.range,1).toLowerCase(),w=v.text.toLowerCase(),E=Math.max(0,C.column-v.range.startColumn);let I=w.substring(0,E),T=w.substring(E),P=b.substring(0,E),A=b.substring(E);const M=u.getLineIndentColumn(v.range.startLineNumber);return v.range.startColumn<=M&&(P=P.trimStart(),P.length===0&&(A=A.trimStart()),I=I.trimStart(),I.length===0&&(T=T.trimStart())),I.startsWith(P)&&!!(0,k.matchesSubString)(A,T)}canBeReused(u,C){return this._isValid&&this._getUpdatedRange(void 0).containsPosition(C)&&this.isVisible(u,C,void 0)&&!this._isSmallerThanOriginal(void 0)}_toFilterTextReplacement(u){return new s.SingleTextEdit(this._getUpdatedRange(u),this.inlineCompletion.filterText)}_isSmallerThanOriginal(u){return a(this._getUpdatedRange(u)).isBefore(a(this.inlineCompletion.range))}_getUpdatedRange(u){return this.rangeVersion.read(u),this._updatedRange}_updateRange(u){const C=u.getDecorationRange(this.decorationId);return C?this._updatedRange.equalsRange(C)?!1:(this._updatedRange=C,!0):(this._isValid=!1,!0)}}e.InlineCompletionWithUpdatedRange=c;function a(l){return l.startLineNumber===l.endLineNumber?new m.Position(1,1+l.endColumn-l.startColumn):new m.Position(1+l.endLineNumber-l.startLineNumber,l.endColumn)}}),define(X[769],ee([1,0,9,245,5,24,109,30,292,243,244]),function(q,e,L,k,y,D,S,m,_,f,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MoveLinesCommand=void 0;let s=e.MoveLinesCommand=class{constructor(i,o,r,d){this._languageConfigurationService=d,this._selection=i,this._isMovingDown=o,this._autoIndent=r,this._selectionId=null,this._moveEndLineSelectionShrink=!1}getEditOperations(i,o){const r=i.getLineCount();if(this._isMovingDown&&this._selection.endLineNumber===r){this._selectionId=o.trackSelection(this._selection);return}if(!this._isMovingDown&&this._selection.startLineNumber===1){this._selectionId=o.trackSelection(this._selection);return}this._moveEndPositionDown=!1;let d=this._selection;d.startLineNumber<d.endLineNumber&&d.endColumn===1&&(this._moveEndPositionDown=!0,d=d.setEndPosition(d.endLineNumber-1,i.getLineMaxColumn(d.endLineNumber-1)));const{tabSize:h,indentSize:n,insertSpaces:c}=i.getOptions(),a=this.buildIndentConverter(h,n,c),l={tokenization:{getLineTokens:u=>i.tokenization.getLineTokens(u),getLanguageId:()=>i.getLanguageId(),getLanguageIdAtPosition:(u,C)=>i.getLanguageIdAtPosition(u,C)},getLineContent:null};if(d.startLineNumber===d.endLineNumber&&i.getLineMaxColumn(d.startLineNumber)===1){const u=d.startLineNumber,C=this._isMovingDown?u+1:u-1;i.getLineMaxColumn(C)===1?o.addEditOperation(new y.Range(1,1,1,1),null):(o.addEditOperation(new y.Range(u,1,u,1),i.getLineContent(C)),o.addEditOperation(new y.Range(C,1,C,i.getLineMaxColumn(C)),null)),d=new D.Selection(C,1,C,1)}else{let u,C;if(this._isMovingDown){u=d.endLineNumber+1,C=i.getLineContent(u),o.addEditOperation(new y.Range(u-1,i.getLineMaxColumn(u-1),u,i.getLineMaxColumn(u)),null);let g=C;if(this.shouldAutoIndent(i,d)){const v=this.matchEnterRule(i,a,h,u,d.startLineNumber-1);if(v!==null){const w=L.getLeadingWhitespace(i.getLineContent(u)),E=v+_.getSpaceCnt(w,h);g=_.generateIndent(E,h,c)+this.trimLeft(C)}else{l.getLineContent=E=>E===d.startLineNumber?i.getLineContent(u):i.getLineContent(E);const w=(0,f.getGoodIndentForLine)(this._autoIndent,l,i.getLanguageIdAtPosition(u,1),d.startLineNumber,a,this._languageConfigurationService);if(w!==null){const E=L.getLeadingWhitespace(i.getLineContent(u)),I=_.getSpaceCnt(w,h),T=_.getSpaceCnt(E,h);I!==T&&(g=_.generateIndent(I,h,c)+this.trimLeft(C))}}o.addEditOperation(new y.Range(d.startLineNumber,1,d.startLineNumber,1),g+`
`);const b=this.matchEnterRuleMovingDown(i,a,h,d.startLineNumber,u,g);if(b!==null)b!==0&&this.getIndentEditsOfMovingBlock(i,o,d,h,c,b);else{l.getLineContent=E=>E===d.startLineNumber?g:E>=d.startLineNumber+1&&E<=d.endLineNumber+1?i.getLineContent(E-1):i.getLineContent(E);const w=(0,f.getGoodIndentForLine)(this._autoIndent,l,i.getLanguageIdAtPosition(u,1),d.startLineNumber+1,a,this._languageConfigurationService);if(w!==null){const E=L.getLeadingWhitespace(i.getLineContent(d.startLineNumber)),I=_.getSpaceCnt(w,h),T=_.getSpaceCnt(E,h);if(I!==T){const P=I-T;this.getIndentEditsOfMovingBlock(i,o,d,h,c,P)}}}}else o.addEditOperation(new y.Range(d.startLineNumber,1,d.startLineNumber,1),g+`
`)}else if(u=d.startLineNumber-1,C=i.getLineContent(u),o.addEditOperation(new y.Range(u,1,u+1,1),null),o.addEditOperation(new y.Range(d.endLineNumber,i.getLineMaxColumn(d.endLineNumber),d.endLineNumber,i.getLineMaxColumn(d.endLineNumber)),`
`+C),this.shouldAutoIndent(i,d)){l.getLineContent=v=>v===u?i.getLineContent(d.startLineNumber):i.getLineContent(v);const g=this.matchEnterRule(i,a,h,d.startLineNumber,d.startLineNumber-2);if(g!==null)g!==0&&this.getIndentEditsOfMovingBlock(i,o,d,h,c,g);else{const v=(0,f.getGoodIndentForLine)(this._autoIndent,l,i.getLanguageIdAtPosition(d.startLineNumber,1),u,a,this._languageConfigurationService);if(v!==null){const b=L.getLeadingWhitespace(i.getLineContent(d.startLineNumber)),w=_.getSpaceCnt(v,h),E=_.getSpaceCnt(b,h);if(w!==E){const I=w-E;this.getIndentEditsOfMovingBlock(i,o,d,h,c,I)}}}}}this._selectionId=o.trackSelection(d)}buildIndentConverter(i,o,r){return{shiftIndent:d=>k.ShiftCommand.shiftIndent(d,d.length+1,i,o,r),unshiftIndent:d=>k.ShiftCommand.unshiftIndent(d,d.length+1,i,o,r)}}parseEnterResult(i,o,r,d,h){if(h){let n=h.indentation;h.indentAction===S.IndentAction.None||h.indentAction===S.IndentAction.Indent?n=h.indentation+h.appendText:h.indentAction===S.IndentAction.IndentOutdent?n=h.indentation:h.indentAction===S.IndentAction.Outdent&&(n=o.unshiftIndent(h.indentation)+h.appendText);const c=i.getLineContent(d);if(this.trimLeft(c).indexOf(this.trimLeft(n))>=0){const a=L.getLeadingWhitespace(i.getLineContent(d));let l=L.getLeadingWhitespace(n);const u=(0,f.getIndentMetadata)(i,d,this._languageConfigurationService);u!==null&&u&2&&(l=o.unshiftIndent(l));const C=_.getSpaceCnt(l,r),g=_.getSpaceCnt(a,r);return C-g}}return null}matchEnterRuleMovingDown(i,o,r,d,h,n){if(L.lastNonWhitespaceIndex(n)>=0){const c=i.getLineMaxColumn(h),a=(0,p.getEnterAction)(this._autoIndent,i,new y.Range(h,c,h,c),this._languageConfigurationService);return this.parseEnterResult(i,o,r,d,a)}else{let c=d-1;for(;c>=1;){const u=i.getLineContent(c);if(L.lastNonWhitespaceIndex(u)>=0)break;c--}if(c<1||d>i.getLineCount())return null;const a=i.getLineMaxColumn(c),l=(0,p.getEnterAction)(this._autoIndent,i,new y.Range(c,a,c,a),this._languageConfigurationService);return this.parseEnterResult(i,o,r,d,l)}}matchEnterRule(i,o,r,d,h,n){let c=h;for(;c>=1;){let u;if(c===h&&n!==void 0?u=n:u=i.getLineContent(c),L.lastNonWhitespaceIndex(u)>=0)break;c--}if(c<1||d>i.getLineCount())return null;const a=i.getLineMaxColumn(c),l=(0,p.getEnterAction)(this._autoIndent,i,new y.Range(c,a,c,a),this._languageConfigurationService);return this.parseEnterResult(i,o,r,d,l)}trimLeft(i){return i.replace(/^\s+/,"")}shouldAutoIndent(i,o){if(this._autoIndent<4||!i.tokenization.isCheapToTokenize(o.startLineNumber))return!1;const r=i.getLanguageIdAtPosition(o.startLineNumber,1),d=i.getLanguageIdAtPosition(o.endLineNumber,1);return!(r!==d||this._languageConfigurationService.getLanguageConfiguration(r).indentRulesSupport===null)}getIndentEditsOfMovingBlock(i,o,r,d,h,n){for(let c=r.startLineNumber;c<=r.endLineNumber;c++){const a=i.getLineContent(c),l=L.getLeadingWhitespace(a),C=_.getSpaceCnt(l,d)+n,g=_.generateIndent(C,d,h);g!==l&&(o.addEditOperation(new y.Range(c,1,c,l.length+1),g),c===r.endLineNumber&&r.endColumn<=l.length+1&&g===""&&(this._moveEndLineSelectionShrink=!0))}}computeCursorState(i,o){let r=o.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(r=r.setEndPosition(r.endLineNumber+1,1)),this._moveEndLineSelectionShrink&&r.startLineNumber<r.endLineNumber&&(r=r.setEndPosition(r.endLineNumber,2)),r}};e.MoveLinesCommand=s=Ne([ge(3,m.ILanguageConfigurationService)],s)}),define(X[115],ee([1,0,185,89,12,6,2,59,41,77,316,56,450]),function(q,e,L,k,y,D,S,m,_,f,p,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.openLinkFromMarkdown=e.MarkdownRenderer=void 0;let t=e.MarkdownRenderer=class Vi{constructor(d,h,n){this._options=d,this._languageService=h,this._openerService=n,this._onDidRenderAsync=new D.Emitter,this.onDidRenderAsync=this._onDidRenderAsync.event}dispose(){this._onDidRenderAsync.dispose()}render(d,h,n){if(!d)return{element:document.createElement("span"),dispose:()=>{}};const c=new S.DisposableStore,a=c.add((0,L.renderMarkdown)(d,Object.assign(Object.assign({},this._getRenderOptions(d,c)),h),n));return a.element.classList.add("rendered-markdown"),{element:a.element,dispose:()=>c.dispose()}}_getRenderOptions(d,h){return{codeBlockRenderer:(n,c)=>Le(this,void 0,void 0,function*(){var a,l,u;let C;n?C=this._languageService.getLanguageIdByLanguageName(n):this._options.editor&&(C=(a=this._options.editor.getModel())===null||a===void 0?void 0:a.getLanguageId()),C||(C=f.PLAINTEXT_LANGUAGE_ID);const g=yield(0,p.tokenizeToString)(this._languageService,c,C),v=document.createElement("span");if(v.innerHTML=(u=(l=Vi._ttpTokenizer)===null||l===void 0?void 0:l.createHTML(g))!==null&&u!==void 0?u:g,this._options.editor){const b=this._options.editor.getOption(48);(0,m.applyFontInfo)(v,b)}else this._options.codeBlockFontFamily&&(v.style.fontFamily=this._options.codeBlockFontFamily);return this._options.codeBlockFontSize!==void 0&&(v.style.fontSize=this._options.codeBlockFontSize),v}),asyncRenderCallback:()=>this._onDidRenderAsync.fire(),actionHandler:{callback:n=>i(this._openerService,n,d.isTrusted),disposables:h}}}};t._ttpTokenizer=(0,k.createTrustedTypesPolicy)("tokenizeToString",{createHTML(r){return r}}),e.MarkdownRenderer=t=Ne([ge(1,_.ILanguageService),ge(2,s.IOpenerService)],t);function i(r,d,h){return Le(this,void 0,void 0,function*(){try{return yield r.open(d,{fromUserGesture:!0,allowContributedOpeners:!0,allowCommands:o(h)})}catch(n){return(0,y.onUnexpectedError)(n),!1}})}e.openLinkFromMarkdown=i;function o(r){return r===!0?!0:r&&Array.isArray(r.enabledCommands)?r.enabledCommands:!1}}),define(X[770],ee([1,0,7,16,55,2,115,320,306]),function(q,e,L,k,y,D,S,m,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarginHoverWidget=void 0;const f=L.$;class p extends D.Disposable{constructor(i,o,r){super(),this._renderDisposeables=this._register(new D.DisposableStore),this._editor=i,this._isVisible=!1,this._messages=[],this._hover=this._register(new _.HoverWidget),this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible),this._markdownRenderer=this._register(new S.MarkdownRenderer({editor:this._editor},o,r)),this._computer=new s(this._editor),this._hoverOperation=this._register(new m.HoverOperation(this._editor,this._computer)),this._register(this._hoverOperation.onResult(d=>{this._withResult(d.value)})),this._register(this._editor.onDidChangeModelDecorations(()=>this._onModelDecorationsChanged())),this._register(this._editor.onDidChangeConfiguration(d=>{d.hasChanged(48)&&this._updateFont()})),this._editor.addOverlayWidget(this)}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return p.ID}getDomNode(){return this._hover.containerDomNode}getPosition(){return null}_updateFont(){Array.prototype.slice.call(this._hover.contentsDomNode.getElementsByClassName("code")).forEach(o=>this._editor.applyFontInfo(o))}_onModelDecorationsChanged(){this._isVisible&&(this._hoverOperation.cancel(),this._hoverOperation.start(0))}startShowingAt(i){this._computer.lineNumber!==i&&(this._hoverOperation.cancel(),this.hide(),this._computer.lineNumber=i,this._hoverOperation.start(0))}hide(){this._computer.lineNumber=-1,this._hoverOperation.cancel(),this._isVisible&&(this._isVisible=!1,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible))}_withResult(i){this._messages=i,this._messages.length>0?this._renderMessages(this._computer.lineNumber,this._messages):this.hide()}_renderMessages(i,o){this._renderDisposeables.clear();const r=document.createDocumentFragment();for(const d of o){const h=f("div.hover-row.markdown-hover"),n=L.append(h,f("div.hover-contents")),c=this._renderDisposeables.add(this._markdownRenderer.render(d.value));n.appendChild(c.element),r.appendChild(h)}this._updateContents(r),this._showAt(i)}_updateContents(i){this._hover.contentsDomNode.textContent="",this._hover.contentsDomNode.appendChild(i),this._updateFont()}_showAt(i){this._isVisible||(this._isVisible=!0,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible));const o=this._editor.getLayoutInfo(),r=this._editor.getTopForLineNumber(i),d=this._editor.getScrollTop(),h=this._editor.getOption(64),n=this._hover.containerDomNode.clientHeight,c=r-d-(n-h)/2;this._hover.containerDomNode.style.left=`${o.glyphMarginLeft+o.glyphMarginWidth}px`,this._hover.containerDomNode.style.top=`${Math.max(Math.round(c),0)}px`}}e.MarginHoverWidget=p,p.ID="editor.contrib.modesGlyphHoverWidget";class s{get lineNumber(){return this._lineNumber}set lineNumber(i){this._lineNumber=i}constructor(i){this._editor=i,this._lineNumber=-1}computeSync(){const i=d=>({value:d}),o=this._editor.getLineDecorations(this._lineNumber),r=[];if(!o)return r;for(const d of o){if(!d.options.glyphMarginClassName)continue;const h=d.options.glyphMarginHoverMessage;!h||(0,y.isEmptyMarkdownString)(h)||r.push(...(0,k.asArray)(h).map(i))}return r}}}),define(X[339],ee([1,0,7,74,25,27,6,55,2,115,223,693,8]),function(q,e,L,k,y,D,S,m,_,f,p,s,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestDetailsOverlay=e.SuggestDetailsWidget=e.canExpandCompletionItem=void 0;function i(d){return!!d&&!!(d.completion.documentation||d.completion.detail&&d.completion.detail!==d.completion.label)}e.canExpandCompletionItem=i;let o=e.SuggestDetailsWidget=class{constructor(h,n){this._editor=h,this._onDidClose=new S.Emitter,this.onDidClose=this._onDidClose.event,this._onDidChangeContents=new S.Emitter,this.onDidChangeContents=this._onDidChangeContents.event,this._disposables=new _.DisposableStore,this._renderDisposeable=new _.DisposableStore,this._borderWidth=1,this._size=new L.Dimension(330,0),this.domNode=L.$(".suggest-details"),this.domNode.classList.add("no-docs"),this._markdownRenderer=n.createInstance(f.MarkdownRenderer,{editor:h}),this._body=L.$(".body"),this._scrollbar=new k.DomScrollableElement(this._body,{alwaysConsumeMouseWheel:!0}),L.append(this.domNode,this._scrollbar.getDomNode()),this._disposables.add(this._scrollbar),this._header=L.append(this._body,L.$(".header")),this._close=L.append(this._header,L.$("span"+D.ThemeIcon.asCSSSelector(y.Codicon.close))),this._close.title=s.localize(0,null),this._type=L.append(this._header,L.$("p.type")),this._docs=L.append(this._body,L.$("p.docs")),this._configureFont(),this._disposables.add(this._editor.onDidChangeConfiguration(c=>{c.hasChanged(48)&&this._configureFont()}))}dispose(){this._disposables.dispose(),this._renderDisposeable.dispose()}_configureFont(){const h=this._editor.getOptions(),n=h.get(48),c=n.getMassagedFontFamily(),a=h.get(116)||n.fontSize,l=h.get(117)||n.lineHeight,u=n.fontWeight,C=`${a}px`,g=`${l}px`;this.domNode.style.fontSize=C,this.domNode.style.lineHeight=`${l/a}`,this.domNode.style.fontWeight=u,this.domNode.style.fontFeatureSettings=n.fontFeatureSettings,this._type.style.fontFamily=c,this._close.style.height=g,this._close.style.width=g}getLayoutInfo(){const h=this._editor.getOption(117)||this._editor.getOption(48).lineHeight,n=this._borderWidth,c=n*2;return{lineHeight:h,borderWidth:n,borderHeight:c,verticalPadding:22,horizontalPadding:14}}renderLoading(){this._type.textContent=s.localize(1,null),this._docs.textContent="",this.domNode.classList.remove("no-docs","no-type"),this.layout(this.size.width,this.getLayoutInfo().lineHeight*2),this._onDidChangeContents.fire(this)}renderItem(h,n){var c,a;this._renderDisposeable.clear();let{detail:l,documentation:u}=h.completion;if(n){let C="";C+=`score: ${h.score[0]}
`,C+=`prefix: ${(c=h.word)!==null&&c!==void 0?c:"(no prefix)"}
`,C+=`word: ${h.completion.filterText?h.completion.filterText+" (filterText)":h.textLabel}
`,C+=`distance: ${h.distance} (localityBonus-setting)
`,C+=`index: ${h.idx}, based on ${h.completion.sortText&&`sortText: "${h.completion.sortText}"`||"label"}
`,C+=`commit_chars: ${(a=h.completion.commitCharacters)===null||a===void 0?void 0:a.join("")}
`,u=new m.MarkdownString().appendCodeblock("empty",C),l=`Provider: ${h.provider._debugDisplayName}`}if(!n&&!i(h)){this.clearContents();return}if(this.domNode.classList.remove("no-docs","no-type"),l){const C=l.length>1e5?`${l.substr(0,1e5)}\u2026`:l;this._type.textContent=C,this._type.title=C,L.show(this._type),this._type.classList.toggle("auto-wrap",!/\r?\n^\s+/gmi.test(C))}else L.clearNode(this._type),this._type.title="",L.hide(this._type),this.domNode.classList.add("no-type");if(L.clearNode(this._docs),typeof u=="string")this._docs.classList.remove("markdown-docs"),this._docs.textContent=u;else if(u){this._docs.classList.add("markdown-docs"),L.clearNode(this._docs);const C=this._markdownRenderer.render(u);this._docs.appendChild(C.element),this._renderDisposeable.add(C),this._renderDisposeable.add(this._markdownRenderer.onDidRenderAsync(()=>{this.layout(this._size.width,this._type.clientHeight+this._docs.clientHeight),this._onDidChangeContents.fire(this)}))}this.domNode.style.userSelect="text",this.domNode.tabIndex=-1,this._close.onmousedown=C=>{C.preventDefault(),C.stopPropagation()},this._close.onclick=C=>{C.preventDefault(),C.stopPropagation(),this._onDidClose.fire()},this._body.scrollTop=0,this.layout(this._size.width,this._type.clientHeight+this._docs.clientHeight),this._onDidChangeContents.fire(this)}clearContents(){this.domNode.classList.add("no-docs"),this._type.textContent="",this._docs.textContent=""}get size(){return this._size}layout(h,n){const c=new L.Dimension(h,n);L.Dimension.equals(c,this._size)||(this._size=c,L.size(this.domNode,h,n)),this._scrollbar.scanDomNode()}scrollDown(h=8){this._body.scrollTop+=h}scrollUp(h=8){this._body.scrollTop-=h}scrollTop(){this._body.scrollTop=0}scrollBottom(){this._body.scrollTop=this._body.scrollHeight}pageDown(){this.scrollDown(80)}pageUp(){this.scrollUp(80)}set borderWidth(h){this._borderWidth=h}get borderWidth(){return this._borderWidth}};e.SuggestDetailsWidget=o=Ne([ge(1,t.IInstantiationService)],o);class r{constructor(h,n){this.widget=h,this._editor=n,this._disposables=new _.DisposableStore,this._added=!1,this._preferAlignAtTop=!0,this._resizable=new p.ResizableHTMLElement,this._resizable.domNode.classList.add("suggest-details-container"),this._resizable.domNode.appendChild(h.domNode),this._resizable.enableSashes(!1,!0,!0,!1);let c,a,l=0,u=0;this._disposables.add(this._resizable.onDidWillResize(()=>{c=this._topLeft,a=this._resizable.size})),this._disposables.add(this._resizable.onDidResize(C=>{if(c&&a){this.widget.layout(C.dimension.width,C.dimension.height);let g=!1;C.west&&(u=a.width-C.dimension.width,g=!0),C.north&&(l=a.height-C.dimension.height,g=!0),g&&this._applyTopLeft({top:c.top+l,left:c.left+u})}C.done&&(c=void 0,a=void 0,l=0,u=0,this._userSize=C.dimension)})),this._disposables.add(this.widget.onDidChangeContents(()=>{var C;this._anchorBox&&this._placeAtAnchor(this._anchorBox,(C=this._userSize)!==null&&C!==void 0?C:this.widget.size,this._preferAlignAtTop)}))}dispose(){this._resizable.dispose(),this._disposables.dispose(),this.hide()}getId(){return"suggest.details"}getDomNode(){return this._resizable.domNode}getPosition(){return null}show(){this._added||(this._editor.addOverlayWidget(this),this.getDomNode().style.position="fixed",this._added=!0)}hide(h=!1){this._resizable.clearSashHoverState(),this._added&&(this._editor.removeOverlayWidget(this),this._added=!1,this._anchorBox=void 0,this._topLeft=void 0),h&&(this._userSize=void 0,this.widget.clearContents())}placeAtAnchor(h,n){var c;const a=h.getBoundingClientRect();this._anchorBox=a,this._preferAlignAtTop=n,this._placeAtAnchor(this._anchorBox,(c=this._userSize)!==null&&c!==void 0?c:this.widget.size,n)}_placeAtAnchor(h,n,c){var a;const l=L.getClientArea(document.body),u=this.widget.getLayoutInfo(),C=new L.Dimension(220,2*u.lineHeight),g=h.top,v=function(){const R=l.width-(h.left+h.width+u.borderWidth+u.horizontalPadding),F=-u.borderWidth+h.left+h.width,x=new L.Dimension(R,l.height-h.top-u.borderHeight-u.verticalPadding),W=x.with(void 0,h.top+h.height-u.borderHeight-u.verticalPadding);return{top:g,left:F,fit:R-n.width,maxSizeTop:x,maxSizeBottom:W,minSize:C.with(Math.min(R,C.width))}}(),b=function(){const R=h.left-u.borderWidth-u.horizontalPadding,F=Math.max(u.horizontalPadding,h.left-n.width-u.borderWidth),x=new L.Dimension(R,l.height-h.top-u.borderHeight-u.verticalPadding),W=x.with(void 0,h.top+h.height-u.borderHeight-u.verticalPadding);return{top:g,left:F,fit:R-n.width,maxSizeTop:x,maxSizeBottom:W,minSize:C.with(Math.min(R,C.width))}}(),w=function(){const R=h.left,F=-u.borderWidth+h.top+h.height,x=new L.Dimension(h.width-u.borderHeight,l.height-h.top-h.height-u.verticalPadding);return{top:F,left:R,fit:x.height-n.height,maxSizeBottom:x,maxSizeTop:x,minSize:C.with(x.width)}}(),E=[v,b,w],I=(a=E.find(R=>R.fit>=0))!==null&&a!==void 0?a:E.sort((R,F)=>F.fit-R.fit)[0],T=h.top+h.height-u.borderHeight;let P,A=n.height;const M=Math.max(I.maxSizeTop.height,I.maxSizeBottom.height);A>M&&(A=M);let N;c?A<=I.maxSizeTop.height?(P=!0,N=I.maxSizeTop):(P=!1,N=I.maxSizeBottom):A<=I.maxSizeBottom.height?(P=!1,N=I.maxSizeBottom):(P=!0,N=I.maxSizeTop),this._applyTopLeft({left:I.left,top:P?I.top:T-A}),this.getDomNode().style.position="fixed",this._resizable.enableSashes(!P,I===v,P,I!==v),this._resizable.minSize=I.minSize,this._resizable.maxSize=N,this._resizable.layout(A,Math.min(N.width,n.width)),this.widget.layout(this._resizable.size.width,this._resizable.size.height)}_applyTopLeft(h){this._topLeft=h,this.getDomNode().style.left=`${this._topLeft.left}px`,this.getDomNode().style.top=`${this._topLeft.top}px`}}e.SuggestDetailsOverlay=r}),define(X[340],ee([1,0,16,64,46,18,21,28,101,38]),function(q,e,L,k,y,D,S,m,_,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ConfigurationChangeEvent=e.Configuration=e.ConfigurationModelParser=e.ConfigurationModel=void 0;function p(d){return Object.isFrozen(d)?d:y.deepFreeze(d)}class s{constructor(h={},n=[],c=[],a){this._contents=h,this._keys=n,this._overrides=c,this.raw=a,this.overrideConfigurations=new Map}get rawConfiguration(){var h;if(!this._rawConfiguration)if(!((h=this.raw)===null||h===void 0)&&h.length){const n=this.raw.map(c=>{if(c instanceof s)return c;const a=new t("");return a.parseRaw(c),a.configurationModel});this._rawConfiguration=n.reduce((c,a)=>a===c?a:c.merge(a),n[0])}else this._rawConfiguration=this;return this._rawConfiguration}get contents(){return this._contents}get overrides(){return this._overrides}get keys(){return this._keys}isEmpty(){return this._keys.length===0&&Object.keys(this._contents).length===0&&this._overrides.length===0}getValue(h){return h?(0,m.getConfigurationValue)(this.contents,h):this.contents}inspect(h,n){const c=this.rawConfiguration.getValue(h),a=n?this.rawConfiguration.getOverrideValue(h,n):void 0,l=n?this.rawConfiguration.override(n).getValue(h):c;return{value:c,override:a,merged:l}}getOverrideValue(h,n){const c=this.getContentsForOverrideIdentifer(n);return c?h?(0,m.getConfigurationValue)(c,h):c:void 0}override(h){let n=this.overrideConfigurations.get(h);return n||(n=this.createOverrideConfigurationModel(h),this.overrideConfigurations.set(h,n)),n}merge(...h){var n,c;const a=y.deepClone(this.contents),l=y.deepClone(this.overrides),u=[...this.keys],C=!((n=this.raw)===null||n===void 0)&&n.length?[...this.raw]:[this];for(const g of h)if(C.push(...!((c=g.raw)===null||c===void 0)&&c.length?g.raw:[g]),!g.isEmpty()){this.mergeContents(a,g.contents);for(const v of g.overrides){const[b]=l.filter(w=>L.equals(w.identifiers,v.identifiers));b?(this.mergeContents(b.contents,v.contents),b.keys.push(...v.keys),b.keys=L.distinct(b.keys)):l.push(y.deepClone(v))}for(const v of g.keys)u.indexOf(v)===-1&&u.push(v)}return new s(a,u,l,C.every(g=>g instanceof s)?void 0:C)}createOverrideConfigurationModel(h){const n=this.getContentsForOverrideIdentifer(h);if(!n||typeof n!="object"||!Object.keys(n).length)return this;const c={};for(const a of L.distinct([...Object.keys(this.contents),...Object.keys(n)])){let l=this.contents[a];const u=n[a];u&&(typeof l=="object"&&typeof u=="object"?(l=y.deepClone(l),this.mergeContents(l,u)):l=u),c[a]=l}return new s(c,this.keys,this.overrides)}mergeContents(h,n){for(const c of Object.keys(n)){if(c in h&&D.isObject(h[c])&&D.isObject(n[c])){this.mergeContents(h[c],n[c]);continue}h[c]=y.deepClone(n[c])}}getContentsForOverrideIdentifer(h){let n=null,c=null;const a=l=>{l&&(c?this.mergeContents(c,l):c=y.deepClone(l))};for(const l of this.overrides)L.equals(l.identifiers,[h])?n=l.contents:l.identifiers.includes(h)&&a(l.contents);return a(n),c}toJSON(){return{contents:this.contents,overrides:this.overrides,keys:this.keys}}addValue(h,n){this.updateValue(h,n,!0)}setValue(h,n){this.updateValue(h,n,!1)}removeValue(h){const n=this.keys.indexOf(h);n!==-1&&(this.keys.splice(n,1),(0,m.removeFromValueTree)(this.contents,h),_.OVERRIDE_PROPERTY_REGEX.test(h)&&this.overrides.splice(this.overrides.findIndex(c=>L.equals(c.identifiers,(0,_.overrideIdentifiersFromKey)(h))),1))}updateValue(h,n,c){(0,m.addToValueTree)(this.contents,h,n,a=>console.error(a)),c=c||this.keys.indexOf(h)===-1,c&&this.keys.push(h),_.OVERRIDE_PROPERTY_REGEX.test(h)&&this.overrides.push({identifiers:(0,_.overrideIdentifiersFromKey)(h),keys:Object.keys(this.contents[h]),contents:(0,m.toValuesTree)(this.contents[h],a=>console.error(a))})}}e.ConfigurationModel=s;class t{constructor(h){this._name=h,this._raw=null,this._configurationModel=null,this._restrictedConfigurations=[]}get configurationModel(){return this._configurationModel||new s}parseRaw(h,n){this._raw=h;const{contents:c,keys:a,overrides:l,restricted:u,hasExcludedProperties:C}=this.doParseRaw(h,n);this._configurationModel=new s(c,a,l,C?[h]:void 0),this._restrictedConfigurations=u||[]}doParseRaw(h,n){const c=f.Registry.as(_.Extensions.Configuration).getConfigurationProperties(),a=this.filter(h,c,!0,n);h=a.raw;const l=(0,m.toValuesTree)(h,g=>console.error(`Conflict in settings file ${this._name}: ${g}`)),u=Object.keys(h),C=this.toOverrides(h,g=>console.error(`Conflict in settings file ${this._name}: ${g}`));return{contents:l,keys:u,overrides:C,restricted:a.restricted,hasExcludedProperties:a.hasExcludedProperties}}filter(h,n,c,a){let l=!1;if(!a?.scopes&&!a?.skipRestricted)return{raw:h,restricted:[],hasExcludedProperties:l};const u={},C=[];for(const g in h)if(_.OVERRIDE_PROPERTY_REGEX.test(g)&&c){const v=this.filter(h[g],n,!1,a);u[g]=v.raw,l=l||v.hasExcludedProperties,C.push(...v.restricted)}else{const v=n[g],b=v?typeof v.scope<"u"?v.scope:3:void 0;v?.restricted&&C.push(g),(b===void 0||a.scopes===void 0||a.scopes.includes(b))&&!(a.skipRestricted&&v?.restricted)?u[g]=h[g]:l=!0}return{raw:u,restricted:C,hasExcludedProperties:l}}toOverrides(h,n){const c=[];for(const a of Object.keys(h))if(_.OVERRIDE_PROPERTY_REGEX.test(a)){const l={};for(const u in h[a])l[u]=h[a][u];c.push({identifiers:(0,_.overrideIdentifiersFromKey)(a),keys:Object.keys(l),contents:(0,m.toValuesTree)(l,n)})}return c}}e.ConfigurationModelParser=t;class i{constructor(h,n,c,a,l,u,C,g,v,b,w,E,I){this.key=h,this.overrides=n,this._value=c,this.overrideIdentifiers=a,this.defaultConfiguration=l,this.policyConfiguration=u,this.applicationConfiguration=C,this.userConfiguration=g,this.localUserConfiguration=v,this.remoteUserConfiguration=b,this.workspaceConfiguration=w,this.folderConfigurationModel=E,this.memoryConfigurationModel=I}inspect(h,n,c){const a=h.inspect(n,c);return{get value(){return p(a.value)},get override(){return p(a.override)},get merged(){return p(a.merged)}}}get userInspectValue(){return this._userInspectValue||(this._userInspectValue=this.inspect(this.userConfiguration,this.key,this.overrides.overrideIdentifier)),this._userInspectValue}get user(){return this.userInspectValue.value!==void 0||this.userInspectValue.override!==void 0?{value:this.userInspectValue.value,override:this.userInspectValue.override}:void 0}}class o{constructor(h,n,c,a,l=new s,u=new s,C=new k.ResourceMap,g=new s,v=new k.ResourceMap){this._defaultConfiguration=h,this._policyConfiguration=n,this._applicationConfiguration=c,this._localUserConfiguration=a,this._remoteUserConfiguration=l,this._workspaceConfiguration=u,this._folderConfigurations=C,this._memoryConfiguration=g,this._memoryConfigurationByResource=v,this._workspaceConsolidatedConfiguration=null,this._foldersConsolidatedConfigurations=new k.ResourceMap,this._userConfiguration=null}getValue(h,n,c){return this.getConsolidatedConfigurationModel(h,n,c).getValue(h)}updateValue(h,n,c={}){let a;c.resource?(a=this._memoryConfigurationByResource.get(c.resource),a||(a=new s,this._memoryConfigurationByResource.set(c.resource,a))):a=this._memoryConfiguration,n===void 0?a.removeValue(h):a.setValue(h,n),c.resource||(this._workspaceConsolidatedConfiguration=null)}inspect(h,n,c){const a=this.getConsolidatedConfigurationModel(h,n,c),l=this.getFolderConfigurationModelForResource(n.resource,c),u=n.resource?this._memoryConfigurationByResource.get(n.resource)||this._memoryConfiguration:this._memoryConfiguration,C=new Set;for(const g of a.overrides)for(const v of g.identifiers)a.getOverrideValue(h,v)!==void 0&&C.add(v);return new i(h,n,a.getValue(h),C.size?[...C]:void 0,this._defaultConfiguration,this._policyConfiguration.isEmpty()?void 0:this._policyConfiguration,this.applicationConfiguration.isEmpty()?void 0:this.applicationConfiguration,this.userConfiguration,this.localUserConfiguration,this.remoteUserConfiguration,c?this._workspaceConfiguration:void 0,l||void 0,u)}get applicationConfiguration(){return this._applicationConfiguration}get userConfiguration(){return this._userConfiguration||(this._userConfiguration=this._remoteUserConfiguration.isEmpty()?this._localUserConfiguration:this._localUserConfiguration.merge(this._remoteUserConfiguration)),this._userConfiguration}get localUserConfiguration(){return this._localUserConfiguration}get remoteUserConfiguration(){return this._remoteUserConfiguration}getConsolidatedConfigurationModel(h,n,c){let a=this.getConsolidatedConfigurationModelForResource(n,c);return n.overrideIdentifier&&(a=a.override(n.overrideIdentifier)),!this._policyConfiguration.isEmpty()&&this._policyConfiguration.getValue(h)!==void 0&&(a=a.merge(this._policyConfiguration)),a}getConsolidatedConfigurationModelForResource({resource:h},n){let c=this.getWorkspaceConsolidatedConfiguration();if(n&&h){const a=n.getFolder(h);a&&(c=this.getFolderConsolidatedConfiguration(a.uri)||c);const l=this._memoryConfigurationByResource.get(h);l&&(c=c.merge(l))}return c}getWorkspaceConsolidatedConfiguration(){return this._workspaceConsolidatedConfiguration||(this._workspaceConsolidatedConfiguration=this._defaultConfiguration.merge(this.applicationConfiguration,this.userConfiguration,this._workspaceConfiguration,this._memoryConfiguration)),this._workspaceConsolidatedConfiguration}getFolderConsolidatedConfiguration(h){let n=this._foldersConsolidatedConfigurations.get(h);if(!n){const c=this.getWorkspaceConsolidatedConfiguration(),a=this._folderConfigurations.get(h);a?(n=c.merge(a),this._foldersConsolidatedConfigurations.set(h,n)):n=c}return n}getFolderConfigurationModelForResource(h,n){if(n&&h){const c=n.getFolder(h);if(c)return this._folderConfigurations.get(c.uri)}}toData(){return{defaults:{contents:this._defaultConfiguration.contents,overrides:this._defaultConfiguration.overrides,keys:this._defaultConfiguration.keys},policy:{contents:this._policyConfiguration.contents,overrides:this._policyConfiguration.overrides,keys:this._policyConfiguration.keys},application:{contents:this.applicationConfiguration.contents,overrides:this.applicationConfiguration.overrides,keys:this.applicationConfiguration.keys},user:{contents:this.userConfiguration.contents,overrides:this.userConfiguration.overrides,keys:this.userConfiguration.keys},workspace:{contents:this._workspaceConfiguration.contents,overrides:this._workspaceConfiguration.overrides,keys:this._workspaceConfiguration.keys},folders:[...this._folderConfigurations.keys()].reduce((h,n)=>{const{contents:c,overrides:a,keys:l}=this._folderConfigurations.get(n);return h.push([n,{contents:c,overrides:a,keys:l}]),h},[])}}static parse(h){const n=this.parseConfigurationModel(h.defaults),c=this.parseConfigurationModel(h.policy),a=this.parseConfigurationModel(h.application),l=this.parseConfigurationModel(h.user),u=this.parseConfigurationModel(h.workspace),C=h.folders.reduce((g,v)=>(g.set(S.URI.revive(v[0]),this.parseConfigurationModel(v[1])),g),new k.ResourceMap);return new o(n,c,a,l,new s,u,C,new s,new k.ResourceMap)}static parseConfigurationModel(h){return new s(h.contents,h.keys,h.overrides)}}e.Configuration=o;class r{constructor(h,n,c,a){this.change=h,this.previous=n,this.currentConfiguraiton=c,this.currentWorkspace=a,this._marker=`
`,this._markerCode1=this._marker.charCodeAt(0),this._markerCode2=".".charCodeAt(0),this.affectedKeys=new Set,this._previousConfiguration=void 0;for(const l of h.keys)this.affectedKeys.add(l);for(const[,l]of h.overrides)for(const u of l)this.affectedKeys.add(u);this._affectsConfigStr=this._marker;for(const l of this.affectedKeys)this._affectsConfigStr+=l+this._marker}get previousConfiguration(){return!this._previousConfiguration&&this.previous&&(this._previousConfiguration=o.parse(this.previous.data)),this._previousConfiguration}affectsConfiguration(h,n){var c;const a=this._marker+h,l=this._affectsConfigStr.indexOf(a);if(l<0)return!1;const u=l+a.length;if(u>=this._affectsConfigStr.length)return!1;const C=this._affectsConfigStr.charCodeAt(u);if(C!==this._markerCode1&&C!==this._markerCode2)return!1;if(n){const g=this.previousConfiguration?this.previousConfiguration.getValue(h,n,(c=this.previous)===null||c===void 0?void 0:c.workspace):void 0,v=this.currentConfiguraiton.getValue(h,n,this.currentWorkspace);return!y.equals(g,v)}return!0}}e.ConfigurationChangeEvent=r}),define(X[771],ee([1,0,2,340,101,38]),function(q,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DefaultConfiguration=void 0;class S extends L.Disposable{constructor(){super(...arguments),this._configurationModel=new k.ConfigurationModel}get configurationModel(){return this._configurationModel}reload(){return this.resetConfigurationModel(),this.configurationModel}getConfigurationDefaultOverrides(){return{}}resetConfigurationModel(){this._configurationModel=new k.ConfigurationModel;const _=D.Registry.as(y.Extensions.Configuration).getConfigurationProperties();this.updateConfigurationModel(Object.keys(_),_)}updateConfigurationModel(_,f){const p=this.getConfigurationDefaultOverrides();for(const s of _){const t=p[s],i=f[s];t!==void 0?this._configurationModel.addValue(s,t):i?this._configurationModel.addValue(s,i.default):this._configurationModel.removeValue(s)}}}e.DefaultConfiguration=S}),define(X[116],ee([1,0,117,17,26,38,2,63]),function(q,e,L,k,y,D,S,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Extensions=e.KeybindingsRegistry=void 0;class _{constructor(){this._coreKeybindings=new m.LinkedList,this._extensionKeybindings=[],this._cachedMergedKeybindings=null}static bindToCurrentPlatform(s){if(k.OS===1){if(s&&s.win)return s.win}else if(k.OS===2){if(s&&s.mac)return s.mac}else if(s&&s.linux)return s.linux;return s}registerKeybindingRule(s){const t=_.bindToCurrentPlatform(s),i=new S.DisposableStore;if(t&&t.primary){const o=(0,L.decodeKeybinding)(t.primary,k.OS);o&&i.add(this._registerDefaultKeybinding(o,s.id,s.args,s.weight,0,s.when))}if(t&&Array.isArray(t.secondary))for(let o=0,r=t.secondary.length;o<r;o++){const d=t.secondary[o],h=(0,L.decodeKeybinding)(d,k.OS);h&&i.add(this._registerDefaultKeybinding(h,s.id,s.args,s.weight,-o-1,s.when))}return i}registerCommandAndKeybindingRule(s){return(0,S.combinedDisposable)(this.registerKeybindingRule(s),y.CommandsRegistry.registerCommand(s))}_registerDefaultKeybinding(s,t,i,o,r,d){const h=this._coreKeybindings.push({keybinding:s,command:t,commandArgs:i,when:d,weight1:o,weight2:r,extensionId:null,isBuiltinExtension:!1});return this._cachedMergedKeybindings=null,(0,S.toDisposable)(()=>{h(),this._cachedMergedKeybindings=null})}getDefaultKeybindings(){return this._cachedMergedKeybindings||(this._cachedMergedKeybindings=Array.from(this._coreKeybindings).concat(this._extensionKeybindings),this._cachedMergedKeybindings.sort(f)),this._cachedMergedKeybindings.slice(0)}}e.KeybindingsRegistry=new _,e.Extensions={EditorModes:"platform.keybindingsRegistry"},D.Registry.add(e.Extensions.EditorModes,e.KeybindingsRegistry);function f(p,s){if(p.weight1!==s.weight1)return p.weight1-s.weight1;if(p.command&&s.command){if(p.command<s.command)return-1;if(p.command>s.command)return 1}return p.weight2-s.weight2}});var zn=this&&this.__rest||function(q,e){var L={};for(var k in q)Object.prototype.hasOwnProperty.call(q,k)&&e.indexOf(k)<0&&(L[k]=q[k]);if(q!=null&&typeof Object.getOwnPropertySymbols=="function")for(var y=0,k=Object.getOwnPropertySymbols(q);y<k.length;y++)e.indexOf(k[y])<0&&Object.prototype.propertyIsEnumerable.call(q,k[y])&&(L[k[y]]=q[k[y]]);return L};define(X[31],ee([1,0,40,27,6,2,63,26,13,8,116]),function(q,e,L,k,y,D,S,m,_,f,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.registerAction2=e.Action2=e.MenuItemAction=e.SubmenuItemAction=e.MenuRegistry=e.IMenuService=e.MenuId=e.isISubmenuItem=e.isIMenuItem=void 0;function s(c){return c.command!==void 0}e.isIMenuItem=s;function t(c){return c.submenu!==void 0}e.isISubmenuItem=t;class i{constructor(a){if(i._instances.has(a))throw new TypeError(`MenuId with identifier '${a}' already exists. Use MenuId.for(ident) or a unique identifier`);i._instances.set(a,this),this.id=a}}e.MenuId=i,i._instances=new Map,i.CommandPalette=new i("CommandPalette"),i.DebugBreakpointsContext=new i("DebugBreakpointsContext"),i.DebugCallStackContext=new i("DebugCallStackContext"),i.DebugConsoleContext=new i("DebugConsoleContext"),i.DebugVariablesContext=new i("DebugVariablesContext"),i.DebugWatchContext=new i("DebugWatchContext"),i.DebugToolBar=new i("DebugToolBar"),i.DebugToolBarStop=new i("DebugToolBarStop"),i.EditorContext=new i("EditorContext"),i.SimpleEditorContext=new i("SimpleEditorContext"),i.EditorContent=new i("EditorContent"),i.EditorLineNumberContext=new i("EditorLineNumberContext"),i.EditorContextCopy=new i("EditorContextCopy"),i.EditorContextPeek=new i("EditorContextPeek"),i.EditorContextShare=new i("EditorContextShare"),i.EditorTitle=new i("EditorTitle"),i.EditorTitleRun=new i("EditorTitleRun"),i.EditorTitleContext=new i("EditorTitleContext"),i.EditorTitleContextShare=new i("EditorTitleContextShare"),i.EmptyEditorGroup=new i("EmptyEditorGroup"),i.EmptyEditorGroupContext=new i("EmptyEditorGroupContext"),i.EditorTabsBarContext=new i("EditorTabsBarContext"),i.ExplorerContext=new i("ExplorerContext"),i.ExplorerContextShare=new i("ExplorerContextShare"),i.ExtensionContext=new i("ExtensionContext"),i.GlobalActivity=new i("GlobalActivity"),i.CommandCenter=new i("CommandCenter"),i.LayoutControlMenuSubmenu=new i("LayoutControlMenuSubmenu"),i.LayoutControlMenu=new i("LayoutControlMenu"),i.MenubarMainMenu=new i("MenubarMainMenu"),i.MenubarAppearanceMenu=new i("MenubarAppearanceMenu"),i.MenubarDebugMenu=new i("MenubarDebugMenu"),i.MenubarEditMenu=new i("MenubarEditMenu"),i.MenubarCopy=new i("MenubarCopy"),i.MenubarFileMenu=new i("MenubarFileMenu"),i.MenubarGoMenu=new i("MenubarGoMenu"),i.MenubarHelpMenu=new i("MenubarHelpMenu"),i.MenubarLayoutMenu=new i("MenubarLayoutMenu"),i.MenubarNewBreakpointMenu=new i("MenubarNewBreakpointMenu"),i.PanelAlignmentMenu=new i("PanelAlignmentMenu"),i.PanelPositionMenu=new i("PanelPositionMenu"),i.MenubarPreferencesMenu=new i("MenubarPreferencesMenu"),i.MenubarRecentMenu=new i("MenubarRecentMenu"),i.MenubarSelectionMenu=new i("MenubarSelectionMenu"),i.MenubarShare=new i("MenubarShare"),i.MenubarSwitchEditorMenu=new i("MenubarSwitchEditorMenu"),i.MenubarSwitchGroupMenu=new i("MenubarSwitchGroupMenu"),i.MenubarTerminalMenu=new i("MenubarTerminalMenu"),i.MenubarViewMenu=new i("MenubarViewMenu"),i.MenubarHomeMenu=new i("MenubarHomeMenu"),i.OpenEditorsContext=new i("OpenEditorsContext"),i.OpenEditorsContextShare=new i("OpenEditorsContextShare"),i.ProblemsPanelContext=new i("ProblemsPanelContext"),i.SCMChangeContext=new i("SCMChangeContext"),i.SCMResourceContext=new i("SCMResourceContext"),i.SCMResourceContextShare=new i("SCMResourceContextShare"),i.SCMResourceFolderContext=new i("SCMResourceFolderContext"),i.SCMResourceGroupContext=new i("SCMResourceGroupContext"),i.SCMSourceControl=new i("SCMSourceControl"),i.SCMTitle=new i("SCMTitle"),i.SearchContext=new i("SearchContext"),i.SearchActionMenu=new i("SearchActionContext"),i.StatusBarWindowIndicatorMenu=new i("StatusBarWindowIndicatorMenu"),i.StatusBarRemoteIndicatorMenu=new i("StatusBarRemoteIndicatorMenu"),i.StickyScrollContext=new i("StickyScrollContext"),i.TestItem=new i("TestItem"),i.TestItemGutter=new i("TestItemGutter"),i.TestPeekElement=new i("TestPeekElement"),i.TestPeekTitle=new i("TestPeekTitle"),i.TouchBarContext=new i("TouchBarContext"),i.TitleBarContext=new i("TitleBarContext"),i.TitleBarTitleContext=new i("TitleBarTitleContext"),i.TunnelContext=new i("TunnelContext"),i.TunnelPrivacy=new i("TunnelPrivacy"),i.TunnelProtocol=new i("TunnelProtocol"),i.TunnelPortInline=new i("TunnelInline"),i.TunnelTitle=new i("TunnelTitle"),i.TunnelLocalAddressInline=new i("TunnelLocalAddressInline"),i.TunnelOriginInline=new i("TunnelOriginInline"),i.ViewItemContext=new i("ViewItemContext"),i.ViewContainerTitle=new i("ViewContainerTitle"),i.ViewContainerTitleContext=new i("ViewContainerTitleContext"),i.ViewTitle=new i("ViewTitle"),i.ViewTitleContext=new i("ViewTitleContext"),i.CommentEditorActions=new i("CommentEditorActions"),i.CommentThreadTitle=new i("CommentThreadTitle"),i.CommentThreadActions=new i("CommentThreadActions"),i.CommentThreadAdditionalActions=new i("CommentThreadAdditionalActions"),i.CommentThreadTitleContext=new i("CommentThreadTitleContext"),i.CommentThreadCommentContext=new i("CommentThreadCommentContext"),i.CommentTitle=new i("CommentTitle"),i.CommentActions=new i("CommentActions"),i.InteractiveToolbar=new i("InteractiveToolbar"),i.InteractiveCellTitle=new i("InteractiveCellTitle"),i.InteractiveCellDelete=new i("InteractiveCellDelete"),i.InteractiveCellExecute=new i("InteractiveCellExecute"),i.InteractiveInputExecute=new i("InteractiveInputExecute"),i.NotebookToolbar=new i("NotebookToolbar"),i.NotebookCellTitle=new i("NotebookCellTitle"),i.NotebookCellDelete=new i("NotebookCellDelete"),i.NotebookCellInsert=new i("NotebookCellInsert"),i.NotebookCellBetween=new i("NotebookCellBetween"),i.NotebookCellListTop=new i("NotebookCellTop"),i.NotebookCellExecute=new i("NotebookCellExecute"),i.NotebookCellExecutePrimary=new i("NotebookCellExecutePrimary"),i.NotebookDiffCellInputTitle=new i("NotebookDiffCellInputTitle"),i.NotebookDiffCellMetadataTitle=new i("NotebookDiffCellMetadataTitle"),i.NotebookDiffCellOutputsTitle=new i("NotebookDiffCellOutputsTitle"),i.NotebookOutputToolbar=new i("NotebookOutputToolbar"),i.NotebookEditorLayoutConfigure=new i("NotebookEditorLayoutConfigure"),i.NotebookKernelSource=new i("NotebookKernelSource"),i.BulkEditTitle=new i("BulkEditTitle"),i.BulkEditContext=new i("BulkEditContext"),i.TimelineItemContext=new i("TimelineItemContext"),i.TimelineTitle=new i("TimelineTitle"),i.TimelineTitleContext=new i("TimelineTitleContext"),i.TimelineFilterSubMenu=new i("TimelineFilterSubMenu"),i.AccountsContext=new i("AccountsContext"),i.PanelTitle=new i("PanelTitle"),i.AuxiliaryBarTitle=new i("AuxiliaryBarTitle"),i.TerminalInstanceContext=new i("TerminalInstanceContext"),i.TerminalEditorInstanceContext=new i("TerminalEditorInstanceContext"),i.TerminalNewDropdownContext=new i("TerminalNewDropdownContext"),i.TerminalTabContext=new i("TerminalTabContext"),i.TerminalTabEmptyAreaContext=new i("TerminalTabEmptyAreaContext"),i.TerminalInlineTabContext=new i("TerminalInlineTabContext"),i.WebviewContext=new i("WebviewContext"),i.InlineCompletionsActions=new i("InlineCompletionsActions"),i.NewFile=new i("NewFile"),i.MergeInput1Toolbar=new i("MergeToolbar1Toolbar"),i.MergeInput2Toolbar=new i("MergeToolbar2Toolbar"),i.MergeBaseToolbar=new i("MergeBaseToolbar"),i.MergeInputResultToolbar=new i("MergeToolbarResultToolbar"),i.InlineSuggestionToolbar=new i("InlineSuggestionToolbar"),i.ChatContext=new i("ChatContext"),i.ChatCodeBlock=new i("ChatCodeblock"),i.ChatMessageTitle=new i("ChatMessageTitle"),i.ChatExecute=new i("ChatExecute"),e.IMenuService=(0,f.createDecorator)("menuService");class o{static for(a){let l=this._all.get(a);return l||(l=new o(a),this._all.set(a,l)),l}static merge(a){const l=new Set;for(const u of a)u instanceof o&&l.add(u.id);return l}constructor(a){this.id=a,this.has=l=>l===a}}o._all=new Map,e.MenuRegistry=new class{constructor(){this._commands=new Map,this._menuItems=new Map,this._onDidChangeMenu=new y.MicrotaskEmitter({merge:o.merge}),this.onDidChangeMenu=this._onDidChangeMenu.event}addCommand(c){return this._commands.set(c.id,c),this._onDidChangeMenu.fire(o.for(i.CommandPalette)),(0,D.toDisposable)(()=>{this._commands.delete(c.id)&&this._onDidChangeMenu.fire(o.for(i.CommandPalette))})}getCommand(c){return this._commands.get(c)}getCommands(){const c=new Map;return this._commands.forEach((a,l)=>c.set(l,a)),c}appendMenuItem(c,a){let l=this._menuItems.get(c);l||(l=new S.LinkedList,this._menuItems.set(c,l));const u=l.push(a);return this._onDidChangeMenu.fire(o.for(c)),(0,D.toDisposable)(u)}appendMenuItems(c){const a=new D.DisposableStore;for(const{id:l,item:u}of c)a.add(this.appendMenuItem(l,u));return a}getMenuItems(c){let a;return this._menuItems.has(c)?a=[...this._menuItems.get(c)]:a=[],c===i.CommandPalette&&this._appendImplicitItems(a),a}_appendImplicitItems(c){const a=new Set;for(const l of c)s(l)&&(a.add(l.command.id),l.alt&&a.add(l.alt.id));this._commands.forEach((l,u)=>{a.has(u)||c.push({command:l})})}};class r extends L.SubmenuAction{constructor(a,l,u){super(`submenuitem.${a.submenu.id}`,typeof a.title=="string"?a.title:a.title.value,u,"submenu"),this.item=a,this.hideActions=l}}e.SubmenuItemAction=r;let d=e.MenuItemAction=class fi{static label(a,l){return l?.renderShortTitle&&a.shortTitle?typeof a.shortTitle=="string"?a.shortTitle:a.shortTitle.value:typeof a.title=="string"?a.title:a.title.value}constructor(a,l,u,C,g,v){var b,w;this.hideActions=C,this._commandService=v,this.id=a.id,this.label=fi.label(a,u),this.tooltip=(w=typeof a.tooltip=="string"?a.tooltip:(b=a.tooltip)===null||b===void 0?void 0:b.value)!==null&&w!==void 0?w:"",this.enabled=!a.precondition||g.contextMatchesRules(a.precondition),this.checked=void 0;let E;if(a.toggled){const I=a.toggled.condition?a.toggled:{condition:a.toggled};this.checked=g.contextMatchesRules(I.condition),this.checked&&I.tooltip&&(this.tooltip=typeof I.tooltip=="string"?I.tooltip:I.tooltip.value),this.checked&&k.ThemeIcon.isThemeIcon(I.icon)&&(E=I.icon),this.checked&&I.title&&(this.label=typeof I.title=="string"?I.title:I.title.value)}E||(E=k.ThemeIcon.isThemeIcon(a.icon)?a.icon:void 0),this.item=a,this.alt=l?new fi(l,void 0,u,C,g,v):void 0,this._options=u,this.class=E&&k.ThemeIcon.asClassName(E)}run(...a){var l,u;let C=[];return!((l=this._options)===null||l===void 0)&&l.arg&&(C=[...C,this._options.arg]),!((u=this._options)===null||u===void 0)&&u.shouldForwardArgs&&(C=[...C,...a]),this._commandService.executeCommand(this.id,...C)}};e.MenuItemAction=d=Ne([ge(4,_.IContextKeyService),ge(5,m.ICommandService)],d);class h{constructor(a){this.desc=a}}e.Action2=h;function n(c){const a=new D.DisposableStore,l=new c,u=l.desc,{f1:C,menu:g,keybinding:v,description:b}=u,w=zn(u,["f1","menu","keybinding","description"]);if(a.add(m.CommandsRegistry.registerCommand({id:w.id,handler:(E,...I)=>l.run(E,...I),description:b})),Array.isArray(g))for(const E of g)a.add(e.MenuRegistry.appendMenuItem(E.id,Object.assign({command:Object.assign(Object.assign({},w),{precondition:E.precondition===null?void 0:w.precondition})},E)));else g&&a.add(e.MenuRegistry.appendMenuItem(g.id,Object.assign({command:Object.assign(Object.assign({},w),{precondition:g.precondition===null?void 0:w.precondition})},g)));if(C&&(a.add(e.MenuRegistry.appendMenuItem(i.CommandPalette,{command:w,when:w.precondition})),a.add(e.MenuRegistry.addCommand(w))),Array.isArray(v))for(const E of v)a.add(p.KeybindingsRegistry.registerKeybindingRule(Object.assign(Object.assign({},E),{id:w.id,when:w.precondition?_.ContextKeyExpr.and(w.precondition,E.when):E.when})));else v&&a.add(p.KeybindingsRegistry.registerKeybindingRule(Object.assign(Object.assign({},v),{id:w.id,when:w.precondition?_.ContextKeyExpr.and(w.precondition,v.when):v.when})));return a}e.registerAction2=n}),define(X[772],ee([1,0,54,200,697,31,13]),function(q,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ToggleTabFocusModeAction=void 0;class m extends D.Action2{constructor(){super({id:m.ID,title:{value:y.localize(0,null),original:"Toggle Tab Key Moves Focus"},precondition:void 0,keybinding:{primary:2091,mac:{primary:1323},weight:100},f1:!0})}run(f){const p=f.get(S.IContextKeyService).getContextKeyValue("focusedView")==="terminal"?"terminalFocus":"editorFocus",t=!k.TabFocus.getTabFocusMode(p);k.TabFocus.setTabFocusMode(t,p),t?(0,L.alert)(y.localize(1,null)):(0,L.alert)(y.localize(2,null))}}e.ToggleTabFocusModeAction=m,m.ID="editor.action.toggleTabFocusMode",(0,D.registerAction2)(m)}),define(X[341],ee([1,0,228,577,13,116,716,2]),function(q,e,L,k,y,D,S,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextScopedReplaceInput=e.ContextScopedFindInput=e.registerAndCreateHistoryNavigationContext=e.historyNavigationVisible=void 0,e.historyNavigationVisible=new y.RawContextKey("suggestWidgetVisible",!1,(0,S.localize)(0,null));const _="historyNavigationWidgetFocus",f="historyNavigationForwardsEnabled",p="historyNavigationBackwardsEnabled";let s;const t=[];function i(d,h){if(t.includes(h))throw new Error("Cannot register the same widget multiple times");t.push(h);const n=new m.DisposableStore,c=new y.RawContextKey(_,!1).bindTo(d),a=new y.RawContextKey(f,!0).bindTo(d),l=new y.RawContextKey(p,!0).bindTo(d),u=()=>{c.set(!0),s=h},C=()=>{c.set(!1),s===h&&(s=void 0)};return h.element===document.activeElement&&u(),n.add(h.onDidFocus(()=>u())),n.add(h.onDidBlur(()=>C())),n.add((0,m.toDisposable)(()=>{t.splice(t.indexOf(h),1),C()})),{historyNavigationForwardsEnablement:a,historyNavigationBackwardsEnablement:l,dispose(){n.dispose()}}}e.registerAndCreateHistoryNavigationContext=i;let o=e.ContextScopedFindInput=class extends L.FindInput{constructor(h,n,c,a){super(h,n,c);const l=this._register(a.createScoped(this.inputBox.element));this._register(i(l,this.inputBox))}};e.ContextScopedFindInput=o=Ne([ge(3,y.IContextKeyService)],o);let r=e.ContextScopedReplaceInput=class extends k.ReplaceInput{constructor(h,n,c,a,l=!1){super(h,n,l,c);const u=this._register(a.createScoped(this.inputBox.element));this._register(i(u,this.inputBox))}};e.ContextScopedReplaceInput=r=Ne([ge(3,y.IContextKeyService)],r),D.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"history.showPrevious",weight:200,when:y.ContextKeyExpr.and(y.ContextKeyExpr.has(_),y.ContextKeyExpr.equals(p,!0),e.historyNavigationVisible.isEqualTo(!1)),primary:16,secondary:[528],handler:d=>{s?.showPreviousValue()}}),D.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"history.showNext",weight:200,when:y.ContextKeyExpr.and(y.ContextKeyExpr.has(_),y.ContextKeyExpr.equals(f,!0),e.historyNavigationVisible.isEqualTo(!1)),primary:18,secondary:[530],handler:d=>{s?.showNextValue()}})}),define(X[160],ee([1,0,20,12,70,2,58,18,21,11,5,68,128,690,31,26,13,19,341]),function(q,e,L,k,y,D,S,m,_,f,p,s,t,i,o,r,d,h,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickSuggestionsOptions=e.showSimpleSuggestions=e.getSuggestionComparator=e.provideSuggestionItems=e.CompletionItemModel=e.getSnippetSuggestSupport=e.CompletionOptions=e.CompletionItem=e.suggestWidgetStatusbarMenu=e.Context=void 0,e.Context={Visible:n.historyNavigationVisible,HasFocusedSuggestion:new d.RawContextKey("suggestWidgetHasFocusedSuggestion",!1,(0,i.localize)(0,null)),DetailsVisible:new d.RawContextKey("suggestWidgetDetailsVisible",!1,(0,i.localize)(1,null)),MultipleSuggestions:new d.RawContextKey("suggestWidgetMultipleSuggestions",!1,(0,i.localize)(2,null)),MakesTextEdit:new d.RawContextKey("suggestionMakesTextEdit",!0,(0,i.localize)(3,null)),AcceptSuggestionsOnEnter:new d.RawContextKey("acceptSuggestionOnEnter",!0,(0,i.localize)(4,null)),HasInsertAndReplaceRange:new d.RawContextKey("suggestionHasInsertAndReplaceRange",!1,(0,i.localize)(5,null)),InsertMode:new d.RawContextKey("suggestionInsertMode",void 0,{type:"string",description:(0,i.localize)(6,null)}),CanResolve:new d.RawContextKey("suggestionCanResolve",!1,(0,i.localize)(7,null))},e.suggestWidgetStatusbarMenu=new o.MenuId("suggestWidgetStatusBar");class c{constructor(M,N,R,F){var x;this.position=M,this.completion=N,this.container=R,this.provider=F,this.isInvalid=!1,this.score=y.FuzzyScore.Default,this.distance=0,this.textLabel=typeof N.label=="string"?N.label:(x=N.label)===null||x===void 0?void 0:x.label,this.labelLow=this.textLabel.toLowerCase(),this.isInvalid=!this.textLabel,this.sortTextLow=N.sortText&&N.sortText.toLowerCase(),this.filterTextLow=N.filterText&&N.filterText.toLowerCase(),this.extensionId=N.extensionId,p.Range.isIRange(N.range)?(this.editStart=new f.Position(N.range.startLineNumber,N.range.startColumn),this.editInsertEnd=new f.Position(N.range.endLineNumber,N.range.endColumn),this.editReplaceEnd=new f.Position(N.range.endLineNumber,N.range.endColumn),this.isInvalid=this.isInvalid||p.Range.spansMultipleLines(N.range)||N.range.startLineNumber!==M.lineNumber):(this.editStart=new f.Position(N.range.insert.startLineNumber,N.range.insert.startColumn),this.editInsertEnd=new f.Position(N.range.insert.endLineNumber,N.range.insert.endColumn),this.editReplaceEnd=new f.Position(N.range.replace.endLineNumber,N.range.replace.endColumn),this.isInvalid=this.isInvalid||p.Range.spansMultipleLines(N.range.insert)||p.Range.spansMultipleLines(N.range.replace)||N.range.insert.startLineNumber!==M.lineNumber||N.range.replace.startLineNumber!==M.lineNumber||N.range.insert.startColumn!==N.range.replace.startColumn),typeof F.resolveCompletionItem!="function"&&(this._resolveCache=Promise.resolve(),this._resolveDuration=0)}get isResolved(){return this._resolveDuration!==void 0}get resolveDuration(){return this._resolveDuration!==void 0?this._resolveDuration:-1}resolve(M){return Le(this,void 0,void 0,function*(){if(!this._resolveCache){const N=M.onCancellationRequested(()=>{this._resolveCache=void 0,this._resolveDuration=void 0}),R=new S.StopWatch(!0);this._resolveCache=Promise.resolve(this.provider.resolveCompletionItem(this.completion,M)).then(F=>{Object.assign(this.completion,F),this._resolveDuration=R.elapsed(),N.dispose()},F=>{(0,k.isCancellationError)(F)&&(this._resolveCache=void 0,this._resolveDuration=void 0)})}return this._resolveCache})}}e.CompletionItem=c;class a{constructor(M=2,N=new Set,R=new Set,F=new Map,x=!0){this.snippetSortOrder=M,this.kindFilter=N,this.providerFilter=R,this.providerItemsToReuse=F,this.showDeprecated=x}}e.CompletionOptions=a,a.default=new a;let l;function u(){return l}e.getSnippetSuggestSupport=u;class C{constructor(M,N,R,F){this.items=M,this.needsClipboard=N,this.durations=R,this.disposable=F}}e.CompletionItemModel=C;function g(A,M,N,R=a.default,F={triggerKind:0},x=L.CancellationToken.None){return Le(this,void 0,void 0,function*(){const W=new S.StopWatch;N=N.clone();const z=M.getWordAtPosition(N),U=z?new p.Range(N.lineNumber,z.startColumn,N.lineNumber,z.endColumn):p.Range.fromPositions(N),O={replace:U,insert:U.setEndPosition(N.lineNumber,N.column)},G=[],Q=new D.DisposableStore,re=[];let oe=!1;const te=(B,K,Z)=>{var J,ne,he;let de=!1;if(!K)return de;for(const ae of K.suggestions)if(!R.kindFilter.has(ae.kind)){if(!R.showDeprecated&&(!((J=ae?.tags)===null||J===void 0)&&J.includes(1)))continue;ae.range||(ae.range=O),ae.sortText||(ae.sortText=typeof ae.label=="string"?ae.label:ae.label.label),!oe&&ae.insertTextRules&&ae.insertTextRules&4&&(oe=t.SnippetParser.guessNeedsClipboard(ae.insertText)),G.push(new c(N,ae,K,B)),de=!0}return(0,D.isDisposable)(K)&&Q.add(K),re.push({providerName:(ne=B._debugDisplayName)!==null&&ne!==void 0?ne:"unknown_provider",elapsedProvider:(he=K.duration)!==null&&he!==void 0?he:-1,elapsedOverall:Z.elapsed()}),de},H=(()=>Le(this,void 0,void 0,function*(){if(!l||R.kindFilter.has(27))return;const B=R.providerItemsToReuse.get(l);if(B){B.forEach(J=>G.push(J));return}if(R.providerFilter.size>0&&!R.providerFilter.has(l))return;const K=new S.StopWatch,Z=yield l.provideCompletionItems(M,N,F,x);te(l,Z,K)}))();for(const B of A.orderedGroups(M)){let K=!1;if(yield Promise.all(B.map(Z=>Le(this,void 0,void 0,function*(){if(R.providerItemsToReuse.has(Z)){const J=R.providerItemsToReuse.get(Z);J.forEach(ne=>G.push(ne)),K=K||J.length>0;return}if(!(R.providerFilter.size>0&&!R.providerFilter.has(Z)))try{const J=new S.StopWatch,ne=yield Z.provideCompletionItems(M,N,F,x);K=te(Z,ne,J)||K}catch(J){(0,k.onUnexpectedExternalError)(J)}}))),K||x.isCancellationRequested)break}return yield H,x.isCancellationRequested?(Q.dispose(),Promise.reject(new k.CancellationError)):new C(G.sort(I(R.snippetSortOrder)),oe,{entries:re,elapsed:W.elapsed()},Q)})}e.provideSuggestionItems=g;function v(A,M){if(A.sortTextLow&&M.sortTextLow){if(A.sortTextLow<M.sortTextLow)return-1;if(A.sortTextLow>M.sortTextLow)return 1}return A.textLabel<M.textLabel?-1:A.textLabel>M.textLabel?1:A.completion.kind-M.completion.kind}function b(A,M){if(A.completion.kind!==M.completion.kind){if(A.completion.kind===27)return-1;if(M.completion.kind===27)return 1}return v(A,M)}function w(A,M){if(A.completion.kind!==M.completion.kind){if(A.completion.kind===27)return 1;if(M.completion.kind===27)return-1}return v(A,M)}const E=new Map;E.set(0,b),E.set(2,w),E.set(1,v);function I(A){return E.get(A)}e.getSuggestionComparator=I,r.CommandsRegistry.registerCommand("_executeCompletionItemProvider",(A,...M)=>Le(void 0,void 0,void 0,function*(){const[N,R,F,x]=M;(0,m.assertType)(_.URI.isUri(N)),(0,m.assertType)(f.Position.isIPosition(R)),(0,m.assertType)(typeof F=="string"||!F),(0,m.assertType)(typeof x=="number"||!x);const{completionProvider:W}=A.get(h.ILanguageFeaturesService),z=yield A.get(s.ITextModelService).createModelReference(N);try{const U={incomplete:!1,suggestions:[]},O=[],G=z.object.textEditorModel.validatePosition(R),Q=yield g(W,z.object.textEditorModel,G,void 0,{triggerCharacter:F??void 0,triggerKind:F?1:0});for(const re of Q.items)O.length<(x??0)&&O.push(re.resolve(L.CancellationToken.None)),U.incomplete=U.incomplete||re.container.incomplete,U.suggestions.push(re.completion);try{return yield Promise.all(O),U}finally{setTimeout(()=>Q.disposable.dispose(),100)}}finally{z.dispose()}}));function T(A,M){var N;(N=A.getContribution("editor.contrib.suggestController"))===null||N===void 0||N.triggerSuggest(new Set().add(M),void 0,!0)}e.showSimpleSuggestions=T;class P{static isAllOff(M){return M.other==="off"&&M.comments==="off"&&M.strings==="off"}static isAllOn(M){return M.other==="on"&&M.comments==="on"&&M.strings==="on"}static valueFor(M,N){switch(N){case 1:return M.comments;case 2:return M.strings;default:return M.other}}}e.QuickSuggestionsOptions=P}),define(X[134],ee([1,0,16,2,38]),function(q,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickAccessRegistry=e.Extensions=e.DefaultQuickAccessFilterValue=void 0;var D;(function(m){m[m.PRESERVE=0]="PRESERVE",m[m.LAST=1]="LAST"})(D||(e.DefaultQuickAccessFilterValue=D={})),e.Extensions={Quickaccess:"workbench.contributions.quickaccess"};class S{constructor(){this.providers=[],this.defaultProvider=void 0}registerQuickAccessProvider(_){return _.prefix.length===0?this.defaultProvider=_:this.providers.push(_),this.providers.sort((f,p)=>p.prefix.length-f.prefix.length),(0,k.toDisposable)(()=>{this.providers.splice(this.providers.indexOf(_),1),this.defaultProvider===_&&(this.defaultProvider=void 0)})}getQuickAccessProviders(){return(0,L.coalesce)([this.defaultProvider,...this.providers])}getQuickAccessProvider(_){return _&&this.providers.find(p=>_.startsWith(p.prefix))||void 0||this.defaultProvider}}e.QuickAccessRegistry=S,y.Registry.add(e.Extensions.Quickaccess,new S)}),define(X[773],ee([1,0,721,38,2,37,134,76]),function(q,e,L,k,y,D,S,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HelpQuickAccessProvider=void 0;let _=e.HelpQuickAccessProvider=class Xt{constructor(p,s){this.quickInputService=p,this.keybindingService=s,this.registry=k.Registry.as(S.Extensions.Quickaccess)}provide(p){const s=new y.DisposableStore;return s.add(p.onDidAccept(()=>{const[t]=p.selectedItems;t&&this.quickInputService.quickAccess.show(t.prefix,{preserveValue:!0})})),s.add(p.onDidChangeValue(t=>{const i=this.registry.getQuickAccessProvider(t.substr(Xt.PREFIX.length));i&&i.prefix&&i.prefix!==Xt.PREFIX&&this.quickInputService.quickAccess.show(i.prefix,{preserveValue:!0})})),p.items=this.getQuickAccessProviders().filter(t=>t.prefix!==Xt.PREFIX),s}getQuickAccessProviders(){return this.registry.getQuickAccessProviders().sort((s,t)=>s.prefix.localeCompare(t.prefix)).flatMap(s=>this.createPicks(s))}createPicks(p){return p.helpEntries.map(s=>{const t=s.prefix||p.prefix,i=t||"\u2026";return{prefix:t,label:i,keybinding:s.commandId?this.keybindingService.lookupKeybinding(s.commandId):void 0,ariaLabel:(0,L.localize)(0,null,i,s.description),description:s.description}})}};_.PREFIX="?",e.HelpQuickAccessProvider=_=Ne([ge(0,m.IQuickInputService),ge(1,D.IKeybindingService)],_)}),define(X[774],ee([1,0,38,134,93,773]),function(q,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),L.Registry.as(k.Extensions.Quickaccess).registerQuickAccessProvider({ctor:D.HelpQuickAccessProvider,prefix:"",helpEntries:[{description:y.QuickHelpNLS.helpQuickAccessActionLabel}]})}),define(X[775],ee([1,0,14,20,98,2,8,134,76,38]),function(q,e,L,k,y,D,S,m,_,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickAccessController=void 0;let p=e.QuickAccessController=class extends D.Disposable{constructor(t,i){super(),this.quickInputService=t,this.instantiationService=i,this.registry=f.Registry.as(m.Extensions.Quickaccess),this.mapProviderToDescriptor=new Map,this.lastAcceptedPickerValues=new Map,this.visibleQuickAccess=void 0}show(t="",i){this.doShowOrPick(t,!1,i)}doShowOrPick(t,i,o){var r;const[d,h]=this.getOrInstantiateProvider(t),n=this.visibleQuickAccess,c=n?.descriptor;if(n&&h&&c===h){t!==h.prefix&&!o?.preserveValue&&(n.picker.value=t),this.adjustValueSelection(n.picker,h,o);return}if(h&&!o?.preserveValue){let g;if(n&&c&&c!==h){const v=n.value.substr(c.prefix.length);v&&(g=`${h.prefix}${v}`)}if(!g){const v=d?.defaultFilterValue;v===m.DefaultQuickAccessFilterValue.LAST?g=this.lastAcceptedPickerValues.get(h):typeof v=="string"&&(g=`${h.prefix}${v}`)}typeof g=="string"&&(t=g)}const a=new D.DisposableStore,l=a.add(this.quickInputService.createQuickPick());l.value=t,this.adjustValueSelection(l,h,o),l.placeholder=h?.placeholder,l.quickNavigate=o?.quickNavigateConfiguration,l.hideInput=!!l.quickNavigate&&!n,(typeof o?.itemActivation=="number"||o?.quickNavigateConfiguration)&&(l.itemActivation=(r=o?.itemActivation)!==null&&r!==void 0?r:_.ItemActivation.SECOND),l.contextKey=h?.contextKey,l.filterValue=g=>g.substring(h?h.prefix.length:0);let u;i&&(u=new L.DeferredPromise,a.add((0,y.once)(l.onWillAccept)(g=>{g.veto(),l.hide()}))),a.add(this.registerPickerListeners(l,d,h,t,o?.providerOptions));const C=a.add(new k.CancellationTokenSource);if(d&&a.add(d.provide(l,C.token,o?.providerOptions)),(0,y.once)(l.onDidHide)(()=>{l.selectedItems.length===0&&C.cancel(),a.dispose(),u?.complete(l.selectedItems.slice(0))}),l.show(),i)return u?.p}adjustValueSelection(t,i,o){var r;let d;o?.preserveValue?d=[t.value.length,t.value.length]:d=[(r=i?.prefix.length)!==null&&r!==void 0?r:0,t.value.length],t.valueSelection=d}registerPickerListeners(t,i,o,r,d){const h=new D.DisposableStore,n=this.visibleQuickAccess={picker:t,descriptor:o,value:r};return h.add((0,D.toDisposable)(()=>{n===this.visibleQuickAccess&&(this.visibleQuickAccess=void 0)})),h.add(t.onDidChangeValue(c=>{const[a]=this.getOrInstantiateProvider(c);a!==i?this.show(c,{preserveValue:!0,providerOptions:d}):n.value=c})),o&&h.add(t.onDidAccept(()=>{this.lastAcceptedPickerValues.set(o,t.value)})),h}getOrInstantiateProvider(t){const i=this.registry.getQuickAccessProvider(t);if(!i)return[void 0,void 0];let o=this.mapProviderToDescriptor.get(i);return o||(o=this.instantiationService.createInstance(i.ctor),this.mapProviderToDescriptor.set(i,o)),[o,i]}};e.QuickAccessController=p=Ne([ge(0,_.IQuickInputService),ge(1,S.IInstantiationService)],p)}),define(X[776],ee([1,0,25,27,107,469]),function(q,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SeverityIcon=void 0;var D;(function(S){function m(_){switch(_){case y.default.Ignore:return"severity-ignore "+k.ThemeIcon.asClassName(L.Codicon.info);case y.default.Info:return k.ThemeIcon.asClassName(L.Codicon.info);case y.default.Warning:return k.ThemeIcon.asClassName(L.Codicon.warning);case y.default.Error:return k.ThemeIcon.asClassName(L.Codicon.error);default:return""}}S.className=m})(D||(e.SeverityIcon=D={}))}),define(X[87],ee([1,0,6,2,18,583,8]),function(q,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InMemoryStorageService=e.AbstractStorageService=e.loadKeyTargets=e.WillSaveStateReason=e.IStorageService=e.TARGET_KEY=void 0,e.TARGET_KEY="__$__targetStorageMarker",e.IStorageService=(0,S.createDecorator)("storageService");var m;(function(s){s[s.NONE=0]="NONE",s[s.SHUTDOWN=1]="SHUTDOWN"})(m||(e.WillSaveStateReason=m={}));function _(s){const t=s.get(e.TARGET_KEY);if(t)try{return JSON.parse(t)}catch{}return Object.create(null)}e.loadKeyTargets=_;class f extends k.Disposable{constructor(t={flushInterval:f.DEFAULT_FLUSH_INTERVAL}){super(),this.options=t,this._onDidChangeValue=this._register(new L.PauseableEmitter),this.onDidChangeValue=this._onDidChangeValue.event,this._onDidChangeTarget=this._register(new L.PauseableEmitter),this._onWillSaveState=this._register(new L.Emitter),this.onWillSaveState=this._onWillSaveState.event,this._workspaceKeyTargets=void 0,this._profileKeyTargets=void 0,this._applicationKeyTargets=void 0}emitDidChangeValue(t,i){const{key:o,external:r}=i;if(o===e.TARGET_KEY){switch(t){case-1:this._applicationKeyTargets=void 0;break;case 0:this._profileKeyTargets=void 0;break;case 1:this._workspaceKeyTargets=void 0;break}this._onDidChangeTarget.fire({scope:t})}else this._onDidChangeValue.fire({scope:t,key:o,target:this.getKeyTargets(t)[o],external:r})}get(t,i,o){var r;return(r=this.getStorage(i))===null||r===void 0?void 0:r.get(t,o)}getBoolean(t,i,o){var r;return(r=this.getStorage(i))===null||r===void 0?void 0:r.getBoolean(t,o)}getNumber(t,i,o){var r;return(r=this.getStorage(i))===null||r===void 0?void 0:r.getNumber(t,o)}store(t,i,o,r,d=!1){if((0,y.isUndefinedOrNull)(i)){this.remove(t,o,d);return}this.withPausedEmitters(()=>{var h;this.updateKeyTarget(t,o,r),(h=this.getStorage(o))===null||h===void 0||h.set(t,i,d)})}remove(t,i,o=!1){this.withPausedEmitters(()=>{var r;this.updateKeyTarget(t,i,void 0),(r=this.getStorage(i))===null||r===void 0||r.delete(t,o)})}withPausedEmitters(t){this._onDidChangeValue.pause(),this._onDidChangeTarget.pause();try{t()}finally{this._onDidChangeValue.resume(),this._onDidChangeTarget.resume()}}updateKeyTarget(t,i,o,r=!1){var d,h;const n=this.getKeyTargets(i);typeof o=="number"?n[t]!==o&&(n[t]=o,(d=this.getStorage(i))===null||d===void 0||d.set(e.TARGET_KEY,JSON.stringify(n),r)):typeof n[t]=="number"&&(delete n[t],(h=this.getStorage(i))===null||h===void 0||h.set(e.TARGET_KEY,JSON.stringify(n),r))}get workspaceKeyTargets(){return this._workspaceKeyTargets||(this._workspaceKeyTargets=this.loadKeyTargets(1)),this._workspaceKeyTargets}get profileKeyTargets(){return this._profileKeyTargets||(this._profileKeyTargets=this.loadKeyTargets(0)),this._profileKeyTargets}get applicationKeyTargets(){return this._applicationKeyTargets||(this._applicationKeyTargets=this.loadKeyTargets(-1)),this._applicationKeyTargets}getKeyTargets(t){switch(t){case-1:return this.applicationKeyTargets;case 0:return this.profileKeyTargets;default:return this.workspaceKeyTargets}}loadKeyTargets(t){const i=this.getStorage(t);return i?_(i):Object.create(null)}}e.AbstractStorageService=f,f.DEFAULT_FLUSH_INTERVAL=60*1e3;class p extends f{constructor(){super(),this.applicationStorage=this._register(new D.Storage(new D.InMemoryStorageDatabase,{hint:D.StorageHint.STORAGE_IN_MEMORY})),this.profileStorage=this._register(new D.Storage(new D.InMemoryStorageDatabase,{hint:D.StorageHint.STORAGE_IN_MEMORY})),this.workspaceStorage=this._register(new D.Storage(new D.InMemoryStorageDatabase,{hint:D.StorageHint.STORAGE_IN_MEMORY})),this._register(this.workspaceStorage.onDidChangeStorage(t=>this.emitDidChangeValue(1,t))),this._register(this.profileStorage.onDidChangeStorage(t=>this.emitDidChangeValue(0,t))),this._register(this.applicationStorage.onDidChangeStorage(t=>this.emitDidChangeValue(-1,t)))}getStorage(t){switch(t){case-1:return this.applicationStorage;case 0:return this.profileStorage;default:return this.workspaceStorage}}}e.InMemoryStorageService=p}),define(X[777],ee([1,0,14,98,64,5,326,48,8,87]),function(q,e,L,k,y,D,S,m,_,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeLensCache=e.ICodeLensCache=void 0,e.ICodeLensCache=(0,_.createDecorator)("ICodeLensCache");class p{constructor(i,o){this.lineCount=i,this.data=o}}let s=e.CodeLensCache=class{constructor(i){this._fakeProvider=new class{provideCodeLenses(){throw new Error("not supported")}},this._cache=new y.LRUCache(20,.75);const o="codelens/cache";(0,L.runWhenIdle)(()=>i.remove(o,1));const r="codelens/cache2",d=i.get(r,1,"{}");this._deserialize(d),(0,k.once)(i.onWillSaveState)(h=>{h.reason===f.WillSaveStateReason.SHUTDOWN&&i.store(r,this._serialize(),1,1)})}put(i,o){const r=o.lenses.map(n=>{var c;return{range:n.symbol.range,command:n.symbol.command&&{id:"",title:(c=n.symbol.command)===null||c===void 0?void 0:c.title}}}),d=new S.CodeLensModel;d.add({lenses:r,dispose:()=>{}},this._fakeProvider);const h=new p(i.getLineCount(),d);this._cache.set(i.uri.toString(),h)}get(i){const o=this._cache.get(i.uri.toString());return o&&o.lineCount===i.getLineCount()?o.data:void 0}delete(i){this._cache.delete(i.uri.toString())}_serialize(){const i=Object.create(null);for(const[o,r]of this._cache){const d=new Set;for(const h of r.data.lenses)d.add(h.symbol.range.startLineNumber);i[o]={lineCount:r.lineCount,lines:[...d.values()]}}return JSON.stringify(i)}_deserialize(i){try{const o=JSON.parse(i);for(const r in o){const d=o[r],h=[];for(const c of d.lines)h.push({range:new D.Range(c,1,c,11)});const n=new S.CodeLensModel;n.add({lenses:h,dispose(){}},this._fakeProvider),this._cache.set(r,new p(d.lineCount,n))}}catch{}}};e.CodeLensCache=s=Ne([ge(0,f.IStorageService)],s),(0,m.registerSingleton)(e.ICodeLensCache,s,1)}),define(X[342],ee([1,0,14,2,64,197,29,28,48,8,87]),function(q,e,L,k,y,D,S,m,_,f,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ISuggestMemoryService=e.SuggestMemoryService=e.PrefixMemory=e.LRUMemory=e.NoMemory=e.Memory=void 0;class s{constructor(h){this.name=h}select(h,n,c){if(c.length===0)return 0;const a=c[0].score[0];for(let l=0;l<c.length;l++){const{score:u,completion:C}=c[l];if(u[0]!==a)break;if(C.preselect)return l}return 0}}e.Memory=s;class t extends s{constructor(){super("first")}memorize(h,n,c){}toJSON(){}fromJSON(){}}e.NoMemory=t;class i extends s{constructor(){super("recentlyUsed"),this._cache=new y.LRUCache(300,.66),this._seq=0}memorize(h,n,c){const a=`${h.getLanguageId()}/${c.textLabel}`;this._cache.set(a,{touch:this._seq++,type:c.completion.kind,insertText:c.completion.insertText})}select(h,n,c){if(c.length===0)return 0;const a=h.getLineContent(n.lineNumber).substr(n.column-10,n.column-1);if(/\s$/.test(a))return super.select(h,n,c);const l=c[0].score[0];let u=-1,C=-1,g=-1;for(let v=0;v<c.length&&c[v].score[0]===l;v++){const b=`${h.getLanguageId()}/${c[v].textLabel}`,w=this._cache.peek(b);if(w&&w.touch>g&&w.type===c[v].completion.kind&&w.insertText===c[v].completion.insertText&&(g=w.touch,C=v),c[v].completion.preselect&&u===-1)return u=v}return C!==-1?C:u!==-1?u:0}toJSON(){return this._cache.toJSON()}fromJSON(h){this._cache.clear();const n=0;for(const[c,a]of h)a.touch=n,a.type=typeof a.type=="number"?a.type:S.CompletionItemKinds.fromString(a.type),this._cache.set(c,a);this._seq=this._cache.size}}e.LRUMemory=i;class o extends s{constructor(){super("recentlyUsedByPrefix"),this._trie=D.TernarySearchTree.forStrings(),this._seq=0}memorize(h,n,c){const{word:a}=h.getWordUntilPosition(n),l=`${h.getLanguageId()}/${a}`;this._trie.set(l,{type:c.completion.kind,insertText:c.completion.insertText,touch:this._seq++})}select(h,n,c){const{word:a}=h.getWordUntilPosition(n);if(!a)return super.select(h,n,c);const l=`${h.getLanguageId()}/${a}`;let u=this._trie.get(l);if(u||(u=this._trie.findSubstr(l)),u)for(let C=0;C<c.length;C++){const{kind:g,insertText:v}=c[C].completion;if(g===u.type&&v===u.insertText)return C}return super.select(h,n,c)}toJSON(){const h=[];return this._trie.forEach((n,c)=>h.push([c,n])),h.sort((n,c)=>-(n[1].touch-c[1].touch)).forEach((n,c)=>n[1].touch=c),h.slice(0,200)}fromJSON(h){if(this._trie.clear(),h.length>0){this._seq=h[0][1].touch+1;for(const[n,c]of h)c.type=typeof c.type=="number"?c.type:S.CompletionItemKinds.fromString(c.type),this._trie.set(n,c)}}}e.PrefixMemory=o;let r=e.SuggestMemoryService=class Jt{constructor(h,n){this._storageService=h,this._configService=n,this._disposables=new k.DisposableStore,this._persistSoon=new L.RunOnceScheduler(()=>this._saveState(),500),this._disposables.add(h.onWillSaveState(c=>{c.reason===p.WillSaveStateReason.SHUTDOWN&&this._saveState()}))}dispose(){this._disposables.dispose(),this._persistSoon.dispose()}memorize(h,n,c){this._withStrategy(h,n).memorize(h,n,c),this._persistSoon.schedule()}select(h,n,c){return this._withStrategy(h,n).select(h,n,c)}_withStrategy(h,n){var c;const a=this._configService.getValue("editor.suggestSelection",{overrideIdentifier:h.getLanguageIdAtPosition(n.lineNumber,n.column),resource:h.uri});if(((c=this._strategy)===null||c===void 0?void 0:c.name)!==a){this._saveState();const l=Jt._strategyCtors.get(a)||t;this._strategy=new l;try{const C=this._configService.getValue("editor.suggest.shareSuggestSelections")?0:1,g=this._storageService.get(`${Jt._storagePrefix}/${a}`,C);g&&this._strategy.fromJSON(JSON.parse(g))}catch{}}return this._strategy}_saveState(){if(this._strategy){const n=this._configService.getValue("editor.suggest.shareSuggestSelections")?0:1,c=JSON.stringify(this._strategy);this._storageService.store(`${Jt._storagePrefix}/${this._strategy.name}`,c,n,1)}}};r._strategyCtors=new Map([["recentlyUsedByPrefix",o],["recentlyUsed",i],["first",t]]),r._storagePrefix="suggest/memories",e.SuggestMemoryService=r=Ne([ge(0,p.IStorageService),ge(1,m.IConfigurationService)],r),e.ISuggestMemoryService=(0,f.createDecorator)("ISuggestMemories"),(0,_.registerSingleton)(e.ISuggestMemoryService,r,1)}),define(X[778],ee([1,0,14,6,2,31,26,13,40,87,16,709]),function(q,e,L,k,y,D,S,m,_,f,p,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MenuService=void 0;let t=e.MenuService=class{constructor(n,c){this._commandService=n,this._hiddenStates=new i(c)}createMenu(n,c,a){return new r(n,this._hiddenStates,Object.assign({emitEventsForSubmenuChanges:!1,eventDebounceDelay:50},a),this._commandService,c)}resetHiddenStates(n){this._hiddenStates.reset(n)}};e.MenuService=t=Ne([ge(0,S.ICommandService),ge(1,f.IStorageService)],t);let i=class Ut{constructor(n){this._storageService=n,this._disposables=new y.DisposableStore,this._onDidChange=new k.Emitter,this.onDidChange=this._onDidChange.event,this._ignoreChangeEvent=!1,this._hiddenByDefaultCache=new Map;try{const c=n.get(Ut._key,0,"{}");this._data=JSON.parse(c)}catch{this._data=Object.create(null)}this._disposables.add(n.onDidChangeValue(c=>{if(c.key===Ut._key){if(!this._ignoreChangeEvent)try{const a=n.get(Ut._key,0,"{}");this._data=JSON.parse(a)}catch(a){console.log("FAILED to read storage after UPDATE",a)}this._onDidChange.fire()}}))}dispose(){this._onDidChange.dispose(),this._disposables.dispose()}_isHiddenByDefault(n,c){var a;return(a=this._hiddenByDefaultCache.get(`${n.id}/${c}`))!==null&&a!==void 0?a:!1}setDefaultState(n,c,a){this._hiddenByDefaultCache.set(`${n.id}/${c}`,a)}isHidden(n,c){var a,l;const u=this._isHiddenByDefault(n,c),C=(l=(a=this._data[n.id])===null||a===void 0?void 0:a.includes(c))!==null&&l!==void 0?l:!1;return u?!C:C}updateHidden(n,c,a){this._isHiddenByDefault(n,c)&&(a=!a);const u=this._data[n.id];if(a)u?u.indexOf(c)<0&&u.push(c):this._data[n.id]=[c];else if(u){const C=u.indexOf(c);C>=0&&(0,p.removeFastWithoutKeepingOrder)(u,C),u.length===0&&delete this._data[n.id]}this._persist()}reset(n){if(n===void 0)this._data=Object.create(null),this._persist();else{for(const{id:c}of n)this._data[c]&&delete this._data[c];this._persist()}}_persist(){try{this._ignoreChangeEvent=!0;const n=JSON.stringify(this._data);this._storageService.store(Ut._key,n,0,0)}finally{this._ignoreChangeEvent=!1}}};i._key="menu.hiddenCommands",i=Ne([ge(0,f.IStorageService)],i);let o=class At{constructor(n,c,a,l,u){this._id=n,this._hiddenStates=c,this._collectContextKeysForSubmenus=a,this._commandService=l,this._contextKeyService=u,this._menuGroups=[],this._structureContextKeys=new Set,this._preconditionContextKeys=new Set,this._toggledContextKeys=new Set,this.refresh()}get structureContextKeys(){return this._structureContextKeys}get preconditionContextKeys(){return this._preconditionContextKeys}get toggledContextKeys(){return this._toggledContextKeys}refresh(){this._menuGroups.length=0,this._structureContextKeys.clear(),this._preconditionContextKeys.clear(),this._toggledContextKeys.clear();const n=D.MenuRegistry.getMenuItems(this._id);let c;n.sort(At._compareMenuItems);for(const a of n){const l=a.group||"";(!c||c[0]!==l)&&(c=[l,[]],this._menuGroups.push(c)),c[1].push(a),this._collectContextKeys(a)}}_collectContextKeys(n){if(At._fillInKbExprKeys(n.when,this._structureContextKeys),(0,D.isIMenuItem)(n)){if(n.command.precondition&&At._fillInKbExprKeys(n.command.precondition,this._preconditionContextKeys),n.command.toggled){const c=n.command.toggled.condition||n.command.toggled;At._fillInKbExprKeys(c,this._toggledContextKeys)}}else this._collectContextKeysForSubmenus&&D.MenuRegistry.getMenuItems(n.submenu).forEach(this._collectContextKeys,this)}createActionGroups(n){const c=[];for(const a of this._menuGroups){const[l,u]=a,C=[];for(const g of u)if(this._contextKeyService.contextMatchesRules(g.when)){const v=(0,D.isIMenuItem)(g);v&&this._hiddenStates.setDefaultState(this._id,g.command.id,!!g.isHiddenByDefault);const b=d(this._id,v?g.command:g,this._hiddenStates);if(v)C.push(new D.MenuItemAction(g.command,g.alt,n,b,this._contextKeyService,this._commandService));else{const w=new At(g.submenu,this._hiddenStates,this._collectContextKeysForSubmenus,this._commandService,this._contextKeyService).createActionGroups(n),E=_.Separator.join(...w.map(I=>I[1]));E.length>0&&C.push(new D.SubmenuItemAction(g,b,E))}}C.length>0&&c.push([l,C])}return c}static _fillInKbExprKeys(n,c){if(n)for(const a of n.keys())c.add(a)}static _compareMenuItems(n,c){const a=n.group,l=c.group;if(a!==l){if(a){if(!l)return-1}else return 1;if(a==="navigation")return-1;if(l==="navigation")return 1;const g=a.localeCompare(l);if(g!==0)return g}const u=n.order||0,C=c.order||0;return u<C?-1:u>C?1:At._compareTitles((0,D.isIMenuItem)(n)?n.command.title:n.title,(0,D.isIMenuItem)(c)?c.command.title:c.title)}static _compareTitles(n,c){const a=typeof n=="string"?n:n.original,l=typeof c=="string"?c:c.original;return a.localeCompare(l)}};o=Ne([ge(3,S.ICommandService),ge(4,m.IContextKeyService)],o);let r=class{constructor(n,c,a,l,u){this._disposables=new y.DisposableStore,this._menuInfo=new o(n,c,a.emitEventsForSubmenuChanges,l,u);const C=new L.RunOnceScheduler(()=>{this._menuInfo.refresh(),this._onDidChange.fire({menu:this,isStructuralChange:!0,isEnablementChange:!0,isToggleChange:!0})},a.eventDebounceDelay);this._disposables.add(C),this._disposables.add(D.MenuRegistry.onDidChangeMenu(w=>{w.has(n)&&C.schedule()}));const g=this._disposables.add(new y.DisposableStore),v=w=>{let E=!1,I=!1,T=!1;for(const P of w)if(E=E||P.isStructuralChange,I=I||P.isEnablementChange,T=T||P.isToggleChange,E&&I&&T)break;return{menu:this,isStructuralChange:E,isEnablementChange:I,isToggleChange:T}},b=()=>{g.add(u.onDidChangeContext(w=>{const E=w.affectsSome(this._menuInfo.structureContextKeys),I=w.affectsSome(this._menuInfo.preconditionContextKeys),T=w.affectsSome(this._menuInfo.toggledContextKeys);(E||I||T)&&this._onDidChange.fire({menu:this,isStructuralChange:E,isEnablementChange:I,isToggleChange:T})})),g.add(c.onDidChange(w=>{this._onDidChange.fire({menu:this,isStructuralChange:!0,isEnablementChange:!1,isToggleChange:!1})}))};this._onDidChange=new k.DebounceEmitter({onWillAddFirstListener:b,onDidRemoveLastListener:g.clear.bind(g),delay:a.eventDebounceDelay,merge:v}),this.onDidChange=this._onDidChange.event}getActions(n){return this._menuInfo.createActionGroups(n)}dispose(){this._disposables.dispose(),this._onDidChange.dispose()}};r=Ne([ge(3,S.ICommandService),ge(4,m.IContextKeyService)],r);function d(h,n,c){const a=(0,D.isISubmenuItem)(n)?n.submenu.id:n.id,l=typeof n.title=="string"?n.title:n.title.value,u=(0,_.toAction)({id:`hide/${h.id}/${a}`,label:(0,s.localize)(0,null,l),run(){c.updateHidden(h,a,!0)}}),C=(0,_.toAction)({id:`toggle/${h.id}/${a}`,label:l,get checked(){return!c.isHidden(h,a)},run(){c.updateHidden(h,a,!!this.checked)}});return{hide:u,toggle:C,get isHidden(){return!C.checked}}}}),define(X[78],ee([1,0,8]),function(q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ITelemetryService=void 0,e.ITelemetryService=(0,L.createDecorator)("telemetryService")}),define(X[15],ee([1,0,600,21,32,11,49,68,31,26,13,8,116,38,78,18,69]),function(q,e,L,k,y,D,S,m,_,f,p,s,t,i,o,r,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelectAllCommand=e.RedoCommand=e.UndoCommand=e.EditorExtensionsRegistry=e.registerEditorContribution=e.registerInstantiatedEditorAction=e.registerMultiEditorAction=e.registerEditorAction=e.registerEditorCommand=e.registerModelAndPositionCommand=e.EditorAction2=e.MultiEditorAction=e.EditorAction=e.EditorCommand=e.ProxyCommand=e.MultiCommand=e.Command=void 0;class h{constructor(R){this.id=R.id,this.precondition=R.precondition,this._kbOpts=R.kbOpts,this._menuOpts=R.menuOpts,this._description=R.description}register(){if(Array.isArray(this._menuOpts)?this._menuOpts.forEach(this._registerMenuItem,this):this._menuOpts&&this._registerMenuItem(this._menuOpts),this._kbOpts){const R=Array.isArray(this._kbOpts)?this._kbOpts:[this._kbOpts];for(const F of R){let x=F.kbExpr;this.precondition&&(x?x=p.ContextKeyExpr.and(x,this.precondition):x=this.precondition);const W={id:this.id,weight:F.weight,args:F.args,when:x,primary:F.primary,secondary:F.secondary,win:F.win,linux:F.linux,mac:F.mac};t.KeybindingsRegistry.registerKeybindingRule(W)}}f.CommandsRegistry.registerCommand({id:this.id,handler:(R,F)=>this.runCommand(R,F),description:this._description})}_registerMenuItem(R){_.MenuRegistry.appendMenuItem(R.menuId,{group:R.group,command:{id:this.id,title:R.title,icon:R.icon,precondition:this.precondition},when:R.when,order:R.order})}}e.Command=h;class n extends h{constructor(){super(...arguments),this._implementations=[]}addImplementation(R,F,x,W){return this._implementations.push({priority:R,name:F,implementation:x,when:W}),this._implementations.sort((z,U)=>U.priority-z.priority),{dispose:()=>{for(let z=0;z<this._implementations.length;z++)if(this._implementations[z].implementation===x){this._implementations.splice(z,1);return}}}}runCommand(R,F){const x=R.get(d.ILogService),W=R.get(p.IContextKeyService);x.trace(`Executing Command '${this.id}' which has ${this._implementations.length} bound.`);for(const z of this._implementations){if(z.when){const O=W.getContext(document.activeElement);if(!z.when.evaluate(O))continue}const U=z.implementation(R,F);if(U)return x.trace(`Command '${this.id}' was handled by '${z.name}'.`),typeof U=="boolean"?void 0:U}x.trace(`The Command '${this.id}' was not handled by any implementation.`)}}e.MultiCommand=n;class c extends h{constructor(R,F){super(F),this.command=R}runCommand(R,F){return this.command.runCommand(R,F)}}e.ProxyCommand=c;class a extends h{static bindToContribution(R){return class extends a{constructor(x){super(x),this._callback=x.handler}runEditorCommand(x,W,z){const U=R(W);U&&this._callback(U,z)}}}static runEditorCommand(R,F,x,W){const z=R.get(y.ICodeEditorService),U=z.getFocusedCodeEditor()||z.getActiveCodeEditor();if(U)return U.invokeWithinContext(O=>{if(O.get(p.IContextKeyService).contextMatchesRules((0,r.withNullAsUndefined)(x)))return W(O,U,F)})}runCommand(R,F){return a.runEditorCommand(R,F,this.precondition,(x,W,z)=>this.runEditorCommand(x,W,z))}}e.EditorCommand=a;class l extends a{static convertOptions(R){let F;Array.isArray(R.menuOpts)?F=R.menuOpts:R.menuOpts?F=[R.menuOpts]:F=[];function x(W){return W.menuId||(W.menuId=_.MenuId.EditorContext),W.title||(W.title=R.label),W.when=p.ContextKeyExpr.and(R.precondition,W.when),W}return Array.isArray(R.contextMenuOpts)?F.push(...R.contextMenuOpts.map(x)):R.contextMenuOpts&&F.push(x(R.contextMenuOpts)),R.menuOpts=F,R}constructor(R){super(l.convertOptions(R)),this.label=R.label,this.alias=R.alias}runEditorCommand(R,F,x){return this.reportTelemetry(R,F),this.run(R,F,x||{})}reportTelemetry(R,F){R.get(o.ITelemetryService).publicLog2("editorActionInvoked",{name:this.label,id:this.id})}}e.EditorAction=l;class u extends l{constructor(){super(...arguments),this._implementations=[]}addImplementation(R,F){return this._implementations.push([R,F]),this._implementations.sort((x,W)=>W[0]-x[0]),{dispose:()=>{for(let x=0;x<this._implementations.length;x++)if(this._implementations[x][1]===F){this._implementations.splice(x,1);return}}}}run(R,F,x){for(const W of this._implementations){const z=W[1](R,F,x);if(z)return typeof z=="boolean"?void 0:z}}}e.MultiEditorAction=u;class C extends _.Action2{run(R,...F){const x=R.get(y.ICodeEditorService),W=x.getFocusedCodeEditor()||x.getActiveCodeEditor();if(W)return W.invokeWithinContext(z=>{var U;const O=z.get(p.IContextKeyService),G=z.get(d.ILogService);if(!O.contextMatchesRules((0,r.withNullAsUndefined)(this.desc.precondition))){G.debug("[EditorAction2] NOT running command because its precondition is FALSE",this.desc.id,(U=this.desc.precondition)===null||U===void 0?void 0:U.serialize());return}return this.runEditorCommand(z,W,...F)})}}e.EditorAction2=C;function g(N,R){f.CommandsRegistry.registerCommand(N,function(F,...x){const W=F.get(s.IInstantiationService),[z,U]=x;(0,r.assertType)(k.URI.isUri(z)),(0,r.assertType)(D.Position.isIPosition(U));const O=F.get(S.IModelService).getModel(z);if(O){const G=D.Position.lift(U);return W.invokeFunction(R,O,G,...x.slice(2))}return F.get(m.ITextModelService).createModelReference(z).then(G=>new Promise((Q,re)=>{try{const oe=W.invokeFunction(R,G.object.textEditorModel,D.Position.lift(U),x.slice(2));Q(oe)}catch(oe){re(oe)}}).finally(()=>{G.dispose()}))})}e.registerModelAndPositionCommand=g;function v(N){return A.INSTANCE.registerEditorCommand(N),N}e.registerEditorCommand=v;function b(N){const R=new N;return A.INSTANCE.registerEditorAction(R),R}e.registerEditorAction=b;function w(N){return A.INSTANCE.registerEditorAction(N),N}e.registerMultiEditorAction=w;function E(N){A.INSTANCE.registerEditorAction(N)}e.registerInstantiatedEditorAction=E;function I(N,R,F){A.INSTANCE.registerEditorContribution(N,R,F)}e.registerEditorContribution=I;var T;(function(N){function R(U){return A.INSTANCE.getEditorCommand(U)}N.getEditorCommand=R;function F(){return A.INSTANCE.getEditorActions()}N.getEditorActions=F;function x(){return A.INSTANCE.getEditorContributions()}N.getEditorContributions=x;function W(U){return A.INSTANCE.getEditorContributions().filter(O=>U.indexOf(O.id)>=0)}N.getSomeEditorContributions=W;function z(){return A.INSTANCE.getDiffEditorContributions()}N.getDiffEditorContributions=z})(T||(e.EditorExtensionsRegistry=T={}));const P={EditorCommonContributions:"editor.contributions"};class A{constructor(){this.editorContributions=[],this.diffEditorContributions=[],this.editorActions=[],this.editorCommands=Object.create(null)}registerEditorContribution(R,F,x){this.editorContributions.push({id:R,ctor:F,instantiation:x})}getEditorContributions(){return this.editorContributions.slice(0)}getDiffEditorContributions(){return this.diffEditorContributions.slice(0)}registerEditorAction(R){R.register(),this.editorActions.push(R)}getEditorActions(){return this.editorActions}registerEditorCommand(R){R.register(),this.editorCommands[R.id]=R}getEditorCommand(R){return this.editorCommands[R]||null}}A.INSTANCE=new A,i.Registry.add(P.EditorCommonContributions,A.INSTANCE);function M(N){return N.register(),N}e.UndoCommand=M(new n({id:"undo",precondition:void 0,kbOpts:{weight:0,primary:2104},menuOpts:[{menuId:_.MenuId.MenubarEditMenu,group:"1_do",title:L.localize(0,null),order:1},{menuId:_.MenuId.CommandPalette,group:"",title:L.localize(1,null),order:1}]})),M(new c(e.UndoCommand,{id:"default:undo",precondition:void 0})),e.RedoCommand=M(new n({id:"redo",precondition:void 0,kbOpts:{weight:0,primary:2103,secondary:[3128],mac:{primary:3128}},menuOpts:[{menuId:_.MenuId.MenubarEditMenu,group:"1_do",title:L.localize(2,null),order:2},{menuId:_.MenuId.CommandPalette,group:"",title:L.localize(3,null),order:1}]})),M(new c(e.RedoCommand,{id:"default:redo",precondition:void 0})),e.SelectAllCommand=M(new n({id:"editor.action.selectAll",precondition:void 0,kbOpts:{weight:0,kbExpr:null,primary:2079},menuOpts:[{menuId:_.MenuId.MenubarSelectionMenu,group:"1_basic",title:L.localize(4,null),order:1},{menuId:_.MenuId.CommandPalette,group:"",title:L.localize(5,null),order:1}]}))}),define(X[190],ee([1,0,599,51,18,54,15,32,490,72,203,204,246,11,5,22,13,116]),function(q,e,L,k,y,D,S,m,_,f,p,s,t,i,o,r,d,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CoreEditingCommands=e.CoreNavigationCommands=e.RevealLine_=e.EditorScroll_=e.CoreEditorCommand=void 0;const n=0;class c extends S.EditorCommand{runEditorCommand(P,A,M){const N=A._getViewModel();N&&this.runCoreEditorCommand(N,M||{})}}e.CoreEditorCommand=c;var a;(function(T){const P=function(M){if(!y.isObject(M))return!1;const N=M;return!(!y.isString(N.to)||!y.isUndefined(N.by)&&!y.isString(N.by)||!y.isUndefined(N.value)&&!y.isNumber(N.value)||!y.isUndefined(N.revealCursor)&&!y.isBoolean(N.revealCursor))};T.description={description:"Scroll editor in the given direction",args:[{name:"Editor scroll argument object",description:"Property-value pairs that can be passed through this argument:\n					* 'to': A mandatory direction value.\n						```\n						'up', 'down'\n						```\n					* 'by': Unit to move. Default is computed based on 'to' value.\n						```\n						'line', 'wrappedLine', 'page', 'halfPage', 'editor'\n						```\n					* 'value': Number of units to move. Default is '1'.\n					* 'revealCursor': If 'true' reveals the cursor if it is outside view port.\n				",constraint:P,schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["up","down"]},by:{type:"string",enum:["line","wrappedLine","page","halfPage","editor"]},value:{type:"number",default:1},revealCursor:{type:"boolean"}}}}]},T.RawDirection={Up:"up",Right:"right",Down:"down",Left:"left"},T.RawUnit={Line:"line",WrappedLine:"wrappedLine",Page:"page",HalfPage:"halfPage",Editor:"editor",Column:"column"};function A(M){let N;switch(M.to){case T.RawDirection.Up:N=1;break;case T.RawDirection.Right:N=2;break;case T.RawDirection.Down:N=3;break;case T.RawDirection.Left:N=4;break;default:return null}let R;switch(M.by){case T.RawUnit.Line:R=1;break;case T.RawUnit.WrappedLine:R=2;break;case T.RawUnit.Page:R=3;break;case T.RawUnit.HalfPage:R=4;break;case T.RawUnit.Editor:R=5;break;case T.RawUnit.Column:R=6;break;default:R=2}const F=Math.floor(M.value||1),x=!!M.revealCursor;return{direction:N,unit:R,value:F,revealCursor:x,select:!!M.select}}T.parse=A})(a||(e.EditorScroll_=a={}));var l;(function(T){const P=function(A){if(!y.isObject(A))return!1;const M=A;return!(!y.isNumber(M.lineNumber)&&!y.isString(M.lineNumber)||!y.isUndefined(M.at)&&!y.isString(M.at))};T.description={description:"Reveal the given line at the given logical position",args:[{name:"Reveal line argument object",description:"Property-value pairs that can be passed through this argument:\n					* 'lineNumber': A mandatory line number value.\n					* 'at': Logical position at which line has to be revealed.\n						```\n						'top', 'center', 'bottom'\n						```\n				",constraint:P,schema:{type:"object",required:["lineNumber"],properties:{lineNumber:{type:["number","string"]},at:{type:"string",enum:["top","center","bottom"]}}}}]},T.RawAtArgument={Top:"top",Center:"center",Bottom:"bottom"}})(l||(e.RevealLine_=l={}));class u{constructor(P){P.addImplementation(1e4,"code-editor",(A,M)=>{const N=A.get(m.ICodeEditorService).getFocusedCodeEditor();return N&&N.hasTextFocus()?this._runEditorCommand(A,N,M):!1}),P.addImplementation(1e3,"generic-dom-input-textarea",(A,M)=>{const N=document.activeElement;return N&&["input","textarea"].indexOf(N.tagName.toLowerCase())>=0?(this.runDOMCommand(),!0):!1}),P.addImplementation(0,"generic-dom",(A,M)=>{const N=A.get(m.ICodeEditorService).getActiveCodeEditor();return N?(N.focus(),this._runEditorCommand(A,N,M)):!1})}_runEditorCommand(P,A,M){const N=this.runEditorCommand(P,A,M);return N||!0}}var C;(function(T){class P extends c{constructor(B){super(B),this._inSelectionMode=B.inSelectionMode}runCoreEditorCommand(B,K){if(!K.position)return;B.model.pushStackElement(),B.setCursorStates(K.source,3,[s.CursorMoveCommands.moveTo(B,B.getPrimaryCursorState(),this._inSelectionMode,K.position,K.viewPosition)])&&K.revealType!==2&&B.revealPrimaryCursor(K.source,!0,!0)}}T.MoveTo=(0,S.registerEditorCommand)(new P({id:"_moveTo",inSelectionMode:!1,precondition:void 0})),T.MoveToSelect=(0,S.registerEditorCommand)(new P({id:"_moveToSelect",inSelectionMode:!0,precondition:void 0}));class A extends c{runCoreEditorCommand(B,K){B.model.pushStackElement();const Z=this._getColumnSelectResult(B,B.getPrimaryCursorState(),B.getCursorColumnSelectData(),K);Z!==null&&(B.setCursorStates(K.source,3,Z.viewStates.map(J=>f.CursorState.fromViewState(J))),B.setCursorColumnSelectData({isReal:!0,fromViewLineNumber:Z.fromLineNumber,fromViewVisualColumn:Z.fromVisualColumn,toViewLineNumber:Z.toLineNumber,toViewVisualColumn:Z.toVisualColumn}),Z.reversed?B.revealTopMostCursor(K.source):B.revealBottomMostCursor(K.source))}}T.ColumnSelect=(0,S.registerEditorCommand)(new class extends A{constructor(){super({id:"columnSelect",precondition:void 0})}_getColumnSelectResult(H,B,K,Z){if(typeof Z.position>"u"||typeof Z.viewPosition>"u"||typeof Z.mouseColumn>"u")return null;const J=H.model.validatePosition(Z.position),ne=H.coordinatesConverter.validateViewPosition(new i.Position(Z.viewPosition.lineNumber,Z.viewPosition.column),J),he=Z.doColumnSelect?K.fromViewLineNumber:ne.lineNumber,de=Z.doColumnSelect?K.fromViewVisualColumn:Z.mouseColumn-1;return _.ColumnSelection.columnSelect(H.cursorConfig,H,he,de,ne.lineNumber,Z.mouseColumn-1)}}),T.CursorColumnSelectLeft=(0,S.registerEditorCommand)(new class extends A{constructor(){super({id:"cursorColumnSelectLeft",precondition:void 0,kbOpts:{weight:n,kbExpr:r.EditorContextKeys.textInputFocus,primary:3599,linux:{primary:0}}})}_getColumnSelectResult(H,B,K,Z){return _.ColumnSelection.columnSelectLeft(H.cursorConfig,H,K)}}),T.CursorColumnSelectRight=(0,S.registerEditorCommand)(new class extends A{constructor(){super({id:"cursorColumnSelectRight",precondition:void 0,kbOpts:{weight:n,kbExpr:r.EditorContextKeys.textInputFocus,primary:3601,linux:{primary:0}}})}_getColumnSelectResult(H,B,K,Z){return _.ColumnSelection.columnSelectRight(H.cursorConfig,H,K)}});class M extends A{constructor(B){super(B),this._isPaged=B.isPaged}_getColumnSelectResult(B,K,Z,J){return _.ColumnSelection.columnSelectUp(B.cursorConfig,B,Z,this._isPaged)}}T.CursorColumnSelectUp=(0,S.registerEditorCommand)(new M({isPaged:!1,id:"cursorColumnSelectUp",precondition:void 0,kbOpts:{weight:n,kbExpr:r.EditorContextKeys.textInputFocus,primary:3600,linux:{primary:0}}})),T.CursorColumnSelectPageUp=(0,S.registerEditorCommand)(new M({isPaged:!0,id:"cursorColumnSelectPageUp",precondition:void 0,kbOpts:{weight:n,kbExpr:r.EditorContextKeys.textInputFocus,primary:3595,linux:{primary:0}}}));class N extends A{constructor(B){super(B),this._isPaged=B.isPaged}_getColumnSelectResult(B,K,Z,J){return _.ColumnSelection.columnSelectDown(B.cursorConfig,B,Z,this._isPaged)}}T.CursorColumnSelectDown=(0,S.registerEditorCommand)(new N({isPaged:!1,id:"cursorColumnSelectDown",precondition:void 0,kbOpts:{weight:n,kbExpr:r.EditorContextKeys.textInputFocus,primary:3602,linux:{primary:0}}})),T.CursorColumnSelectPageDown=(0,S.registerEditorCommand)(new N({isPaged:!0,id:"cursorColumnSelectPageDown",precondition:void 0,kbOpts:{weight:n,kbExpr:r.EditorContextKeys.textInputFocus,primary:3596,linux:{primary:0}}}));class R extends c{constructor(){super({id:"cursorMove",precondition:void 0,description:s.CursorMove.description})}runCoreEditorCommand(B,K){const Z=s.CursorMove.parse(K);Z&&this._runCursorMove(B,K.source,Z)}_runCursorMove(B,K,Z){B.model.pushStackElement(),B.setCursorStates(K,3,R._move(B,B.getCursorStates(),Z)),B.revealPrimaryCursor(K,!0)}static _move(B,K,Z){const J=Z.select,ne=Z.value;switch(Z.direction){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:return s.CursorMoveCommands.simpleMove(B,K,Z.direction,J,ne,Z.unit);case 11:case 13:case 12:case 14:return s.CursorMoveCommands.viewportMove(B,K,Z.direction,J,ne);default:return null}}}T.CursorMoveImpl=R,T.CursorMove=(0,S.registerEditorCommand)(new R);class F extends c{constructor(B){super(B),this._staticArgs=B.args}runCoreEditorCommand(B,K){let Z=this._staticArgs;this._staticArgs.value===-1&&(Z={direction:this._staticArgs.direction,unit:this._staticArgs.unit,select:this._staticArgs.select,value:K.pageSize||B.cursorConfig.pageSize}),B.model.pushStackElement(),B.setCursorStates(K.source,3,s.CursorMoveCommands.simpleMove(B,B.getCursorStates(),Z.direction,Z.select,Z.value,Z.unit)),B.revealPrimaryCursor(K.source,!0)}}T.CursorLeft=(0,S.registerEditorCommand)(new F({args:{direction:0,unit:0,select:!1,value:1},id:"cursorLeft",precondition:void 0,kbOpts:{weight:n,kbExpr:r.EditorContextKeys.textInputFocus,primary:15,mac:{primary:15,secondary:[288]}}})),T.CursorLeftSelect=(0,S.registerEditorCommand)(new F({args:{direction:0,unit:0,select:!0,value:1},id:"cursorLeftSelect",precondition:void 0,kbOpts:{weight:n,kbExpr:r.EditorContextKeys.textInputFocus,primary:1039}})),T.CursorRight=(0,S.registerEditorCommand)(new F({args:{direction:1,unit:0,select:!1,value:1},id:"cursorRight",precondition:void 0,kbOpts:{weight:n,kbExpr:r.EditorContextKeys.textInputFocus,primary:17,mac:{primary:17,secondary:[292]}}})),T.CursorRightSelect=(0,S.registerEditorCommand)(new F({args:{direction:1,unit:0,select:!0,value:1},id:"cursorRightSelect",precondition:void 0,kbOpts:{weight:n,kbExpr:r.EditorContextKeys.textInputFocus,primary:1041}})),T.CursorUp=(0,S.registerEditorCommand)(new F({args:{direction:2,unit:2,select:!1,value:1},id:"cursorUp",precondition:void 0,kbOpts:{weight:n,kbExpr:r.EditorContextKeys.textInputFocus,primary:16,mac:{primary:16,secondary:[302]}}})),T.CursorUpSelect=(0,S.registerEditorCommand)(new F({args:{direction:2,unit:2,select:!0,value:1},id:"cursorUpSelect",precondition:void 0,kbOpts:{weight:n,kbExpr:r.EditorContextKeys.textInputFocus,primary:1040,secondary:[3088],mac:{primary:1040},linux:{primary:1040}}})),T.CursorPageUp=(0,S.registerEditorCommand)(new F({args:{direction:2,unit:2,select:!1,value:-1},id:"cursorPageUp",precondition:void 0,kbOpts:{weight:n,kbExpr:r.EditorContextKeys.textInputFocus,primary:11}})),T.CursorPageUpSelect=(0,S.registerEditorCommand)(new F({args:{direction:2,unit:2,select:!0,value:-1},id:"cursorPageUpSelect",precondition:void 0,kbOpts:{weight:n,kbExpr:r.EditorContextKeys.textInputFocus,primary:1035}})),T.CursorDown=(0,S.registerEditorCommand)(new F({args:{direction:3,unit:2,select:!1,value:1},id:"cursorDown",precondition:void 0,kbOpts:{weight:n,kbExpr:r.EditorContextKeys.textInputFocus,primary:18,mac:{primary:18,secondary:[300]}}})),T.CursorDownSelect=(0,S.registerEditorCommand)(new F({args:{direction:3,unit:2,select:!0,value:1},id:"cursorDownSelect",precondition:void 0,kbOpts:{weight:n,kbExpr:r.EditorContextKeys.textInputFocus,primary:1042,secondary:[3090],mac:{primary:1042},linux:{primary:1042}}})),T.CursorPageDown=(0,S.registerEditorCommand)(new F({args:{direction:3,unit:2,select:!1,value:-1},id:"cursorPageDown",precondition:void 0,kbOpts:{weight:n,kbExpr:r.EditorContextKeys.textInputFocus,primary:12}})),T.CursorPageDownSelect=(0,S.registerEditorCommand)(new F({args:{direction:3,unit:2,select:!0,value:-1},id:"cursorPageDownSelect",precondition:void 0,kbOpts:{weight:n,kbExpr:r.EditorContextKeys.textInputFocus,primary:1036}})),T.CreateCursor=(0,S.registerEditorCommand)(new class extends c{constructor(){super({id:"createCursor",precondition:void 0})}runCoreEditorCommand(H,B){if(!B.position)return;let K;B.wholeLine?K=s.CursorMoveCommands.line(H,H.getPrimaryCursorState(),!1,B.position,B.viewPosition):K=s.CursorMoveCommands.moveTo(H,H.getPrimaryCursorState(),!1,B.position,B.viewPosition);const Z=H.getCursorStates();if(Z.length>1){const J=K.modelState?K.modelState.position:null,ne=K.viewState?K.viewState.position:null;for(let he=0,de=Z.length;he<de;he++){const ae=Z[he];if(!(J&&!ae.modelState.selection.containsPosition(J))&&!(ne&&!ae.viewState.selection.containsPosition(ne))){Z.splice(he,1),H.model.pushStackElement(),H.setCursorStates(B.source,3,Z);return}}}Z.push(K),H.model.pushStackElement(),H.setCursorStates(B.source,3,Z)}}),T.LastCursorMoveToSelect=(0,S.registerEditorCommand)(new class extends c{constructor(){super({id:"_lastCursorMoveToSelect",precondition:void 0})}runCoreEditorCommand(H,B){if(!B.position)return;const K=H.getLastAddedCursorIndex(),Z=H.getCursorStates(),J=Z.slice(0);J[K]=s.CursorMoveCommands.moveTo(H,Z[K],!0,B.position,B.viewPosition),H.model.pushStackElement(),H.setCursorStates(B.source,3,J)}});class x extends c{constructor(B){super(B),this._inSelectionMode=B.inSelectionMode}runCoreEditorCommand(B,K){B.model.pushStackElement(),B.setCursorStates(K.source,3,s.CursorMoveCommands.moveToBeginningOfLine(B,B.getCursorStates(),this._inSelectionMode)),B.revealPrimaryCursor(K.source,!0)}}T.CursorHome=(0,S.registerEditorCommand)(new x({inSelectionMode:!1,id:"cursorHome",precondition:void 0,kbOpts:{weight:n,kbExpr:r.EditorContextKeys.textInputFocus,primary:14,mac:{primary:14,secondary:[2063]}}})),T.CursorHomeSelect=(0,S.registerEditorCommand)(new x({inSelectionMode:!0,id:"cursorHomeSelect",precondition:void 0,kbOpts:{weight:n,kbExpr:r.EditorContextKeys.textInputFocus,primary:1038,mac:{primary:1038,secondary:[3087]}}}));class W extends c{constructor(B){super(B),this._inSelectionMode=B.inSelectionMode}runCoreEditorCommand(B,K){B.model.pushStackElement(),B.setCursorStates(K.source,3,this._exec(B.getCursorStates())),B.revealPrimaryCursor(K.source,!0)}_exec(B){const K=[];for(let Z=0,J=B.length;Z<J;Z++){const ne=B[Z],he=ne.modelState.position.lineNumber;K[Z]=f.CursorState.fromModelState(ne.modelState.move(this._inSelectionMode,he,1,0))}return K}}T.CursorLineStart=(0,S.registerEditorCommand)(new W({inSelectionMode:!1,id:"cursorLineStart",precondition:void 0,kbOpts:{weight:n,kbExpr:r.EditorContextKeys.textInputFocus,primary:0,mac:{primary:287}}})),T.CursorLineStartSelect=(0,S.registerEditorCommand)(new W({inSelectionMode:!0,id:"cursorLineStartSelect",precondition:void 0,kbOpts:{weight:n,kbExpr:r.EditorContextKeys.textInputFocus,primary:0,mac:{primary:1311}}}));class z extends c{constructor(B){super(B),this._inSelectionMode=B.inSelectionMode}runCoreEditorCommand(B,K){B.model.pushStackElement(),B.setCursorStates(K.source,3,s.CursorMoveCommands.moveToEndOfLine(B,B.getCursorStates(),this._inSelectionMode,K.sticky||!1)),B.revealPrimaryCursor(K.source,!0)}}T.CursorEnd=(0,S.registerEditorCommand)(new z({inSelectionMode:!1,id:"cursorEnd",precondition:void 0,kbOpts:{args:{sticky:!1},weight:n,kbExpr:r.EditorContextKeys.textInputFocus,primary:13,mac:{primary:13,secondary:[2065]}},description:{description:"Go to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:L.localize(0,null),type:"boolean",default:!1}}}}]}})),T.CursorEndSelect=(0,S.registerEditorCommand)(new z({inSelectionMode:!0,id:"cursorEndSelect",precondition:void 0,kbOpts:{args:{sticky:!1},weight:n,kbExpr:r.EditorContextKeys.textInputFocus,primary:1037,mac:{primary:1037,secondary:[3089]}},description:{description:"Select to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:L.localize(1,null),type:"boolean",default:!1}}}}]}}));class U extends c{constructor(B){super(B),this._inSelectionMode=B.inSelectionMode}runCoreEditorCommand(B,K){B.model.pushStackElement(),B.setCursorStates(K.source,3,this._exec(B,B.getCursorStates())),B.revealPrimaryCursor(K.source,!0)}_exec(B,K){const Z=[];for(let J=0,ne=K.length;J<ne;J++){const he=K[J],de=he.modelState.position.lineNumber,ae=B.model.getLineMaxColumn(de);Z[J]=f.CursorState.fromModelState(he.modelState.move(this._inSelectionMode,de,ae,0))}return Z}}T.CursorLineEnd=(0,S.registerEditorCommand)(new U({inSelectionMode:!1,id:"cursorLineEnd",precondition:void 0,kbOpts:{weight:n,kbExpr:r.EditorContextKeys.textInputFocus,primary:0,mac:{primary:291}}})),T.CursorLineEndSelect=(0,S.registerEditorCommand)(new U({inSelectionMode:!0,id:"cursorLineEndSelect",precondition:void 0,kbOpts:{weight:n,kbExpr:r.EditorContextKeys.textInputFocus,primary:0,mac:{primary:1315}}}));class O extends c{constructor(B){super(B),this._inSelectionMode=B.inSelectionMode}runCoreEditorCommand(B,K){B.model.pushStackElement(),B.setCursorStates(K.source,3,s.CursorMoveCommands.moveToBeginningOfBuffer(B,B.getCursorStates(),this._inSelectionMode)),B.revealPrimaryCursor(K.source,!0)}}T.CursorTop=(0,S.registerEditorCommand)(new O({inSelectionMode:!1,id:"cursorTop",precondition:void 0,kbOpts:{weight:n,kbExpr:r.EditorContextKeys.textInputFocus,primary:2062,mac:{primary:2064}}})),T.CursorTopSelect=(0,S.registerEditorCommand)(new O({inSelectionMode:!0,id:"cursorTopSelect",precondition:void 0,kbOpts:{weight:n,kbExpr:r.EditorContextKeys.textInputFocus,primary:3086,mac:{primary:3088}}}));class G extends c{constructor(B){super(B),this._inSelectionMode=B.inSelectionMode}runCoreEditorCommand(B,K){B.model.pushStackElement(),B.setCursorStates(K.source,3,s.CursorMoveCommands.moveToEndOfBuffer(B,B.getCursorStates(),this._inSelectionMode)),B.revealPrimaryCursor(K.source,!0)}}T.CursorBottom=(0,S.registerEditorCommand)(new G({inSelectionMode:!1,id:"cursorBottom",precondition:void 0,kbOpts:{weight:n,kbExpr:r.EditorContextKeys.textInputFocus,primary:2061,mac:{primary:2066}}})),T.CursorBottomSelect=(0,S.registerEditorCommand)(new G({inSelectionMode:!0,id:"cursorBottomSelect",precondition:void 0,kbOpts:{weight:n,kbExpr:r.EditorContextKeys.textInputFocus,primary:3085,mac:{primary:3090}}}));class Q extends c{constructor(){super({id:"editorScroll",precondition:void 0,description:a.description})}determineScrollMethod(B){const K=[6],Z=[1,2,3,4,5,6],J=[4,2],ne=[1,3];return K.includes(B.unit)&&J.includes(B.direction)?this._runHorizontalEditorScroll.bind(this):Z.includes(B.unit)&&ne.includes(B.direction)?this._runVerticalEditorScroll.bind(this):null}runCoreEditorCommand(B,K){const Z=a.parse(K);if(!Z)return;const J=this.determineScrollMethod(Z);J&&J(B,K.source,Z)}_runVerticalEditorScroll(B,K,Z){const J=this._computeDesiredScrollTop(B,Z);if(Z.revealCursor){const ne=B.getCompletelyVisibleViewRangeAtScrollTop(J);B.setCursorStates(K,3,[s.CursorMoveCommands.findPositionInViewportIfOutside(B,B.getPrimaryCursorState(),ne,Z.select)])}B.viewLayout.setScrollPosition({scrollTop:J},0)}_computeDesiredScrollTop(B,K){if(K.unit===1){const ne=B.viewLayout.getFutureViewport(),he=B.getCompletelyVisibleViewRangeAtScrollTop(ne.top),de=B.coordinatesConverter.convertViewRangeToModelRange(he);let ae;K.direction===1?ae=Math.max(1,de.startLineNumber-K.value):ae=Math.min(B.model.getLineCount(),de.startLineNumber+K.value);const ce=B.coordinatesConverter.convertModelPositionToViewPosition(new i.Position(ae,1));return B.viewLayout.getVerticalOffsetForLineNumber(ce.lineNumber)}if(K.unit===5){let ne=0;return K.direction===3&&(ne=B.model.getLineCount()-B.cursorConfig.pageSize),B.viewLayout.getVerticalOffsetForLineNumber(ne)}let Z;K.unit===3?Z=B.cursorConfig.pageSize*K.value:K.unit===4?Z=Math.round(B.cursorConfig.pageSize/2)*K.value:Z=K.value;const J=(K.direction===1?-1:1)*Z;return B.viewLayout.getCurrentScrollTop()+J*B.cursorConfig.lineHeight}_runHorizontalEditorScroll(B,K,Z){const J=this._computeDesiredScrollLeft(B,Z);B.viewLayout.setScrollPosition({scrollLeft:J},0)}_computeDesiredScrollLeft(B,K){const Z=(K.direction===4?-1:1)*K.value;return B.viewLayout.getCurrentScrollLeft()+Z*B.cursorConfig.typicalHalfwidthCharacterWidth}}T.EditorScrollImpl=Q,T.EditorScroll=(0,S.registerEditorCommand)(new Q),T.ScrollLineUp=(0,S.registerEditorCommand)(new class extends c{constructor(){super({id:"scrollLineUp",precondition:void 0,kbOpts:{weight:n,kbExpr:r.EditorContextKeys.textInputFocus,primary:2064,mac:{primary:267}}})}runCoreEditorCommand(H,B){T.EditorScroll.runCoreEditorCommand(H,{to:a.RawDirection.Up,by:a.RawUnit.WrappedLine,value:1,revealCursor:!1,select:!1,source:B.source})}}),T.ScrollPageUp=(0,S.registerEditorCommand)(new class extends c{constructor(){super({id:"scrollPageUp",precondition:void 0,kbOpts:{weight:n,kbExpr:r.EditorContextKeys.textInputFocus,primary:2059,win:{primary:523},linux:{primary:523}}})}runCoreEditorCommand(H,B){T.EditorScroll.runCoreEditorCommand(H,{to:a.RawDirection.Up,by:a.RawUnit.Page,value:1,revealCursor:!1,select:!1,source:B.source})}}),T.ScrollEditorTop=(0,S.registerEditorCommand)(new class extends c{constructor(){super({id:"scrollEditorTop",precondition:void 0,kbOpts:{weight:n,kbExpr:r.EditorContextKeys.textInputFocus}})}runCoreEditorCommand(H,B){T.EditorScroll.runCoreEditorCommand(H,{to:a.RawDirection.Up,by:a.RawUnit.Editor,value:1,revealCursor:!1,select:!1,source:B.source})}}),T.ScrollLineDown=(0,S.registerEditorCommand)(new class extends c{constructor(){super({id:"scrollLineDown",precondition:void 0,kbOpts:{weight:n,kbExpr:r.EditorContextKeys.textInputFocus,primary:2066,mac:{primary:268}}})}runCoreEditorCommand(H,B){T.EditorScroll.runCoreEditorCommand(H,{to:a.RawDirection.Down,by:a.RawUnit.WrappedLine,value:1,revealCursor:!1,select:!1,source:B.source})}}),T.ScrollPageDown=(0,S.registerEditorCommand)(new class extends c{constructor(){super({id:"scrollPageDown",precondition:void 0,kbOpts:{weight:n,kbExpr:r.EditorContextKeys.textInputFocus,primary:2060,win:{primary:524},linux:{primary:524}}})}runCoreEditorCommand(H,B){T.EditorScroll.runCoreEditorCommand(H,{to:a.RawDirection.Down,by:a.RawUnit.Page,value:1,revealCursor:!1,select:!1,source:B.source})}}),T.ScrollEditorBottom=(0,S.registerEditorCommand)(new class extends c{constructor(){super({id:"scrollEditorBottom",precondition:void 0,kbOpts:{weight:n,kbExpr:r.EditorContextKeys.textInputFocus}})}runCoreEditorCommand(H,B){T.EditorScroll.runCoreEditorCommand(H,{to:a.RawDirection.Down,by:a.RawUnit.Editor,value:1,revealCursor:!1,select:!1,source:B.source})}}),T.ScrollLeft=(0,S.registerEditorCommand)(new class extends c{constructor(){super({id:"scrollLeft",precondition:void 0,kbOpts:{weight:n,kbExpr:r.EditorContextKeys.textInputFocus}})}runCoreEditorCommand(H,B){T.EditorScroll.runCoreEditorCommand(H,{to:a.RawDirection.Left,by:a.RawUnit.Column,value:2,revealCursor:!1,select:!1,source:B.source})}}),T.ScrollRight=(0,S.registerEditorCommand)(new class extends c{constructor(){super({id:"scrollRight",precondition:void 0,kbOpts:{weight:n,kbExpr:r.EditorContextKeys.textInputFocus}})}runCoreEditorCommand(H,B){T.EditorScroll.runCoreEditorCommand(H,{to:a.RawDirection.Right,by:a.RawUnit.Column,value:2,revealCursor:!1,select:!1,source:B.source})}});class re extends c{constructor(B){super(B),this._inSelectionMode=B.inSelectionMode}runCoreEditorCommand(B,K){K.position&&(B.model.pushStackElement(),B.setCursorStates(K.source,3,[s.CursorMoveCommands.word(B,B.getPrimaryCursorState(),this._inSelectionMode,K.position)]),K.revealType!==2&&B.revealPrimaryCursor(K.source,!0,!0))}}T.WordSelect=(0,S.registerEditorCommand)(new re({inSelectionMode:!1,id:"_wordSelect",precondition:void 0})),T.WordSelectDrag=(0,S.registerEditorCommand)(new re({inSelectionMode:!0,id:"_wordSelectDrag",precondition:void 0})),T.LastCursorWordSelect=(0,S.registerEditorCommand)(new class extends c{constructor(){super({id:"lastCursorWordSelect",precondition:void 0})}runCoreEditorCommand(H,B){if(!B.position)return;const K=H.getLastAddedCursorIndex(),Z=H.getCursorStates(),J=Z.slice(0),ne=Z[K];J[K]=s.CursorMoveCommands.word(H,ne,ne.modelState.hasSelection(),B.position),H.model.pushStackElement(),H.setCursorStates(B.source,3,J)}});class oe extends c{constructor(B){super(B),this._inSelectionMode=B.inSelectionMode}runCoreEditorCommand(B,K){K.position&&(B.model.pushStackElement(),B.setCursorStates(K.source,3,[s.CursorMoveCommands.line(B,B.getPrimaryCursorState(),this._inSelectionMode,K.position,K.viewPosition)]),K.revealType!==2&&B.revealPrimaryCursor(K.source,!1,!0))}}T.LineSelect=(0,S.registerEditorCommand)(new oe({inSelectionMode:!1,id:"_lineSelect",precondition:void 0})),T.LineSelectDrag=(0,S.registerEditorCommand)(new oe({inSelectionMode:!0,id:"_lineSelectDrag",precondition:void 0}));class te extends c{constructor(B){super(B),this._inSelectionMode=B.inSelectionMode}runCoreEditorCommand(B,K){if(!K.position)return;const Z=B.getLastAddedCursorIndex(),J=B.getCursorStates(),ne=J.slice(0);ne[Z]=s.CursorMoveCommands.line(B,J[Z],this._inSelectionMode,K.position,K.viewPosition),B.model.pushStackElement(),B.setCursorStates(K.source,3,ne)}}T.LastCursorLineSelect=(0,S.registerEditorCommand)(new te({inSelectionMode:!1,id:"lastCursorLineSelect",precondition:void 0})),T.LastCursorLineSelectDrag=(0,S.registerEditorCommand)(new te({inSelectionMode:!0,id:"lastCursorLineSelectDrag",precondition:void 0})),T.CancelSelection=(0,S.registerEditorCommand)(new class extends c{constructor(){super({id:"cancelSelection",precondition:r.EditorContextKeys.hasNonEmptySelection,kbOpts:{weight:n,kbExpr:r.EditorContextKeys.textInputFocus,primary:9,secondary:[1033]}})}runCoreEditorCommand(H,B){H.model.pushStackElement(),H.setCursorStates(B.source,3,[s.CursorMoveCommands.cancelSelection(H,H.getPrimaryCursorState())]),H.revealPrimaryCursor(B.source,!0)}}),T.RemoveSecondaryCursors=(0,S.registerEditorCommand)(new class extends c{constructor(){super({id:"removeSecondaryCursors",precondition:r.EditorContextKeys.hasMultipleSelections,kbOpts:{weight:n+1,kbExpr:r.EditorContextKeys.textInputFocus,primary:9,secondary:[1033]}})}runCoreEditorCommand(H,B){H.model.pushStackElement(),H.setCursorStates(B.source,3,[H.getPrimaryCursorState()]),H.revealPrimaryCursor(B.source,!0),(0,D.status)(L.localize(2,null))}}),T.RevealLine=(0,S.registerEditorCommand)(new class extends c{constructor(){super({id:"revealLine",precondition:void 0,description:l.description})}runCoreEditorCommand(H,B){const K=B,Z=K.lineNumber||0;let J=typeof Z=="number"?Z+1:parseInt(Z)+1;J<1&&(J=1);const ne=H.model.getLineCount();J>ne&&(J=ne);const he=new o.Range(J,1,J,H.model.getLineMaxColumn(J));let de=0;if(K.at)switch(K.at){case l.RawAtArgument.Top:de=3;break;case l.RawAtArgument.Center:de=1;break;case l.RawAtArgument.Bottom:de=4;break;default:break}const ae=H.coordinatesConverter.convertModelRangeToViewRange(he);H.revealRange(B.source,!1,ae,de,0)}}),T.SelectAll=new class extends u{constructor(){super(S.SelectAllCommand)}runDOMCommand(){k.isFirefox&&(document.activeElement.focus(),document.activeElement.select()),document.execCommand("selectAll")}runEditorCommand(H,B,K){const Z=B._getViewModel();Z&&this.runCoreEditorCommand(Z,K)}runCoreEditorCommand(H,B){H.model.pushStackElement(),H.setCursorStates("keyboard",3,[s.CursorMoveCommands.selectAll(H,H.getPrimaryCursorState())])}},T.SetSelection=(0,S.registerEditorCommand)(new class extends c{constructor(){super({id:"setSelection",precondition:void 0})}runCoreEditorCommand(H,B){B.selection&&(H.model.pushStackElement(),H.setCursorStates(B.source,3,[f.CursorState.fromModelSelection(B.selection)]))}})})(C||(e.CoreNavigationCommands=C={}));const g=d.ContextKeyExpr.and(r.EditorContextKeys.textInputFocus,r.EditorContextKeys.columnSelection);function v(T,P){h.KeybindingsRegistry.registerKeybindingRule({id:T,primary:P,when:g,weight:n+1})}v(C.CursorColumnSelectLeft.id,1039),v(C.CursorColumnSelectRight.id,1041),v(C.CursorColumnSelectUp.id,1040),v(C.CursorColumnSelectPageUp.id,1035),v(C.CursorColumnSelectDown.id,1042),v(C.CursorColumnSelectPageDown.id,1036);function b(T){return T.register(),T}var w;(function(T){class P extends S.EditorCommand{runEditorCommand(M,N,R){const F=N._getViewModel();F&&this.runCoreEditingCommand(N,F,R||{})}}T.CoreEditingCommand=P,T.LineBreakInsert=(0,S.registerEditorCommand)(new class extends P{constructor(){super({id:"lineBreakInsert",precondition:r.EditorContextKeys.writable,kbOpts:{weight:n,kbExpr:r.EditorContextKeys.textInputFocus,primary:0,mac:{primary:301}}})}runCoreEditingCommand(A,M,N){A.pushUndoStop(),A.executeCommands(this.id,t.TypeOperations.lineBreakInsert(M.cursorConfig,M.model,M.getCursorStates().map(R=>R.modelState.selection)))}}),T.Outdent=(0,S.registerEditorCommand)(new class extends P{constructor(){super({id:"outdent",precondition:r.EditorContextKeys.writable,kbOpts:{weight:n,kbExpr:d.ContextKeyExpr.and(r.EditorContextKeys.editorTextFocus,r.EditorContextKeys.tabDoesNotMoveFocus),primary:1026}})}runCoreEditingCommand(A,M,N){A.pushUndoStop(),A.executeCommands(this.id,t.TypeOperations.outdent(M.cursorConfig,M.model,M.getCursorStates().map(R=>R.modelState.selection))),A.pushUndoStop()}}),T.Tab=(0,S.registerEditorCommand)(new class extends P{constructor(){super({id:"tab",precondition:r.EditorContextKeys.writable,kbOpts:{weight:n,kbExpr:d.ContextKeyExpr.and(r.EditorContextKeys.editorTextFocus,r.EditorContextKeys.tabDoesNotMoveFocus),primary:2}})}runCoreEditingCommand(A,M,N){A.pushUndoStop(),A.executeCommands(this.id,t.TypeOperations.tab(M.cursorConfig,M.model,M.getCursorStates().map(R=>R.modelState.selection))),A.pushUndoStop()}}),T.DeleteLeft=(0,S.registerEditorCommand)(new class extends P{constructor(){super({id:"deleteLeft",precondition:void 0,kbOpts:{weight:n,kbExpr:r.EditorContextKeys.textInputFocus,primary:1,secondary:[1025],mac:{primary:1,secondary:[1025,294,257]}}})}runCoreEditingCommand(A,M,N){const[R,F]=p.DeleteOperations.deleteLeft(M.getPrevEditOperationType(),M.cursorConfig,M.model,M.getCursorStates().map(x=>x.modelState.selection),M.getCursorAutoClosedCharacters());R&&A.pushUndoStop(),A.executeCommands(this.id,F),M.setPrevEditOperationType(2)}}),T.DeleteRight=(0,S.registerEditorCommand)(new class extends P{constructor(){super({id:"deleteRight",precondition:void 0,kbOpts:{weight:n,kbExpr:r.EditorContextKeys.textInputFocus,primary:20,mac:{primary:20,secondary:[290,276]}}})}runCoreEditingCommand(A,M,N){const[R,F]=p.DeleteOperations.deleteRight(M.getPrevEditOperationType(),M.cursorConfig,M.model,M.getCursorStates().map(x=>x.modelState.selection));R&&A.pushUndoStop(),A.executeCommands(this.id,F),M.setPrevEditOperationType(3)}}),T.Undo=new class extends u{constructor(){super(S.UndoCommand)}runDOMCommand(){document.execCommand("undo")}runEditorCommand(A,M,N){if(!(!M.hasModel()||M.getOption(88)===!0))return M.getModel().undo()}},T.Redo=new class extends u{constructor(){super(S.RedoCommand)}runDOMCommand(){document.execCommand("redo")}runEditorCommand(A,M,N){if(!(!M.hasModel()||M.getOption(88)===!0))return M.getModel().redo()}}})(w||(e.CoreEditingCommands=w={}));class E extends S.Command{constructor(P,A,M){super({id:P,precondition:void 0,description:M}),this._handlerId=A}runCommand(P,A){const M=P.get(m.ICodeEditorService).getFocusedCodeEditor();M&&M.trigger("keyboard",this._handlerId,A)}}function I(T,P){b(new E("default:"+T,T)),b(new E(T,T,P))}I("type",{description:"Type",args:[{name:"args",schema:{type:"object",required:["text"],properties:{text:{type:"string"}}}}]}),I("replacePreviousChar"),I("compositionType"),I("compositionStart"),I("compositionEnd"),I("paste"),I("cut")}),define(X[779],ee([1,0,234,15]),function(q,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarkerDecorationsContribution=void 0;let y=e.MarkerDecorationsContribution=class{constructor(S,m){}dispose(){}};y.ID="editor.contrib.markerDecorations",e.MarkerDecorationsContribution=y=Ne([ge(1,L.IMarkerDecorationsService)],y),(0,k.registerEditorContribution)(y.ID,y,0)}),define(X[780],ee([1,0,190,11,17]),function(q,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewController=void 0;class D{constructor(m,_,f,p){this.configuration=m,this.viewModel=_,this.userInputEvents=f,this.commandDelegate=p}paste(m,_,f,p){this.commandDelegate.paste(m,_,f,p)}type(m){this.commandDelegate.type(m)}compositionType(m,_,f,p){this.commandDelegate.compositionType(m,_,f,p)}compositionStart(){this.commandDelegate.startComposition()}compositionEnd(){this.commandDelegate.endComposition()}cut(){this.commandDelegate.cut()}setSelection(m){L.CoreNavigationCommands.SetSelection.runCoreEditorCommand(this.viewModel,{source:"keyboard",selection:m})}_validateViewColumn(m){const _=this.viewModel.getLineMinColumn(m.lineNumber);return m.column<_?new k.Position(m.lineNumber,_):m}_hasMulticursorModifier(m){switch(this.configuration.options.get(75)){case"altKey":return m.altKey;case"ctrlKey":return m.ctrlKey;case"metaKey":return m.metaKey;default:return!1}}_hasNonMulticursorModifier(m){switch(this.configuration.options.get(75)){case"altKey":return m.ctrlKey||m.metaKey;case"ctrlKey":return m.altKey||m.metaKey;case"metaKey":return m.ctrlKey||m.altKey;default:return!1}}dispatchMouse(m){const _=this.configuration.options,f=y.isLinux&&_.get(104),p=_.get(20);m.middleButton&&!f?this._columnSelect(m.position,m.mouseColumn,m.inSelectionMode):m.startedOnLineNumbers?this._hasMulticursorModifier(m)?m.inSelectionMode?this._lastCursorLineSelect(m.position,m.revealType):this._createCursor(m.position,!0):m.inSelectionMode?this._lineSelectDrag(m.position,m.revealType):this._lineSelect(m.position,m.revealType):m.mouseDownCount>=4?this._selectAll():m.mouseDownCount===3?this._hasMulticursorModifier(m)?m.inSelectionMode?this._lastCursorLineSelectDrag(m.position,m.revealType):this._lastCursorLineSelect(m.position,m.revealType):m.inSelectionMode?this._lineSelectDrag(m.position,m.revealType):this._lineSelect(m.position,m.revealType):m.mouseDownCount===2?m.onInjectedText||(this._hasMulticursorModifier(m)?this._lastCursorWordSelect(m.position,m.revealType):m.inSelectionMode?this._wordSelectDrag(m.position,m.revealType):this._wordSelect(m.position,m.revealType)):this._hasMulticursorModifier(m)?this._hasNonMulticursorModifier(m)||(m.shiftKey?this._columnSelect(m.position,m.mouseColumn,!0):m.inSelectionMode?this._lastCursorMoveToSelect(m.position,m.revealType):this._createCursor(m.position,!1)):m.inSelectionMode?m.altKey?this._columnSelect(m.position,m.mouseColumn,!0):p?this._columnSelect(m.position,m.mouseColumn,!0):this._moveToSelect(m.position,m.revealType):this.moveTo(m.position,m.revealType)}_usualArgs(m,_){return m=this._validateViewColumn(m),{source:"mouse",position:this._convertViewToModelPosition(m),viewPosition:m,revealType:_}}moveTo(m,_){L.CoreNavigationCommands.MoveTo.runCoreEditorCommand(this.viewModel,this._usualArgs(m,_))}_moveToSelect(m,_){L.CoreNavigationCommands.MoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(m,_))}_columnSelect(m,_,f){m=this._validateViewColumn(m),L.CoreNavigationCommands.ColumnSelect.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(m),viewPosition:m,mouseColumn:_,doColumnSelect:f})}_createCursor(m,_){m=this._validateViewColumn(m),L.CoreNavigationCommands.CreateCursor.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(m),viewPosition:m,wholeLine:_})}_lastCursorMoveToSelect(m,_){L.CoreNavigationCommands.LastCursorMoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(m,_))}_wordSelect(m,_){L.CoreNavigationCommands.WordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(m,_))}_wordSelectDrag(m,_){L.CoreNavigationCommands.WordSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(m,_))}_lastCursorWordSelect(m,_){L.CoreNavigationCommands.LastCursorWordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(m,_))}_lineSelect(m,_){L.CoreNavigationCommands.LineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(m,_))}_lineSelectDrag(m,_){L.CoreNavigationCommands.LineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(m,_))}_lastCursorLineSelect(m,_){L.CoreNavigationCommands.LastCursorLineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(m,_))}_lastCursorLineSelectDrag(m,_){L.CoreNavigationCommands.LastCursorLineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(m,_))}_selectAll(){L.CoreNavigationCommands.SelectAll.runCoreEditorCommand(this.viewModel,{source:"mouse"})}_convertViewToModelPosition(m){return this.viewModel.coordinatesConverter.convertViewPositionToModelPosition(m)}emitKeyDown(m){this.userInputEvents.emitKeyDown(m)}emitKeyUp(m){this.userInputEvents.emitKeyUp(m)}emitContextMenu(m){this.userInputEvents.emitContextMenu(m)}emitMouseMove(m){this.userInputEvents.emitMouseMove(m)}emitMouseLeave(m){this.userInputEvents.emitMouseLeave(m)}emitMouseUp(m){this.userInputEvents.emitMouseUp(m)}emitMouseDown(m){this.userInputEvents.emitMouseDown(m)}emitMouseDrag(m){this.userInputEvents.emitMouseDrag(m)}emitMouseDrop(m){this.userInputEvents.emitMouseDrop(m)}emitMouseDropCanceled(){this.userInputEvents.emitMouseDropCanceled()}emitMouseWheel(m){this.userInputEvents.emitMouseWheel(m)}}e.ViewController=D}),define(X[781],ee([1,0,15,32,602,13]),function(q,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class S extends L.EditorAction{constructor(){super({id:"editor.action.diffReview.next",label:(0,y.localize)(0,null),alias:"Go to Next Difference",precondition:D.ContextKeyExpr.has("isInDiffEditor"),kbOpts:{kbExpr:null,primary:65,weight:100}})}run(p,s){const t=_(p);t?.diffReviewNext()}}class m extends L.EditorAction{constructor(){super({id:"editor.action.diffReview.prev",label:(0,y.localize)(1,null),alias:"Go to Previous Difference",precondition:D.ContextKeyExpr.has("isInDiffEditor"),kbOpts:{kbExpr:null,primary:1089,weight:100}})}run(p,s){const t=_(p);t?.diffReviewPrev()}}function _(f){var p;const s=f.get(k.ICodeEditorService),t=s.listDiffEditors(),i=(p=s.getFocusedCodeEditor())!==null&&p!==void 0?p:s.getActiveCodeEditor();if(!i)return null;for(let o=0,r=t.length;o<r;o++){const d=t[o];if(d.getModifiedEditor().getId()===i.getId()||d.getOriginalEditor().getId()===i.getId())return d}return null}(0,L.registerEditorAction)(S),(0,L.registerEditorAction)(m)}),define(X[782],ee([1,0,14,12,2,781]),function(q,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeEditorContributions=void 0;class D extends y.Disposable{constructor(){super(),this._editor=null,this._instantiationService=null,this._instances=this._register(new y.DisposableMap),this._pending=new Map,this._finishedInstantiation=[],this._finishedInstantiation[0]=!1,this._finishedInstantiation[1]=!1,this._finishedInstantiation[2]=!1,this._finishedInstantiation[3]=!1}initialize(m,_,f){this._editor=m,this._instantiationService=f;for(const p of _){if(this._pending.has(p.id)){(0,k.onUnexpectedError)(new Error(`Cannot have two contributions with the same id ${p.id}`));continue}this._pending.set(p.id,p)}this._instantiateSome(0),this._register((0,L.runWhenIdle)(()=>{this._instantiateSome(1)})),this._register((0,L.runWhenIdle)(()=>{this._instantiateSome(2)})),this._register((0,L.runWhenIdle)(()=>{this._instantiateSome(3)},5e3))}saveViewState(){const m={};for(const[_,f]of this._instances)typeof f.saveViewState=="function"&&(m[_]=f.saveViewState());return m}restoreViewState(m){for(const[_,f]of this._instances)typeof f.restoreViewState=="function"&&f.restoreViewState(m[_])}get(m){return this._instantiateById(m),this._instances.get(m)||null}onBeforeInteractionEvent(){this._instantiateSome(2)}onAfterModelAttached(){this._register((0,L.runWhenIdle)(()=>{this._instantiateSome(1)},50))}_instantiateSome(m){if(this._finishedInstantiation[m])return;this._finishedInstantiation[m]=!0;const _=this._findPendingContributionsByInstantiation(m);for(const f of _)this._instantiateById(f.id)}_findPendingContributionsByInstantiation(m){const _=[];for(const[,f]of this._pending)f.instantiation===m&&_.push(f);return _}_instantiateById(m){const _=this._pending.get(m);if(_){if(this._pending.delete(m),!this._instantiationService||!this._editor)throw new Error("Cannot instantiate contributions before being initialized!");try{const f=this._instantiationService.createInstance(_.ctor,this._editor);this._instances.set(_.id,f),typeof f.restoreViewState=="function"&&_.instantiation!==0&&console.warn(`Editor contribution '${_.id}' should be eager instantiated because it uses saveViewState / restoreViewState.`)}catch(f){(0,k.onUnexpectedError)(f)}}}}e.CodeEditorContributions=D}),define(X[343],ee([1,0,6,58,65,123,114,78]),function(q,e,L,k,y,D,S,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WorkerBasedDocumentDiffProvider=void 0;let _=e.WorkerBasedDocumentDiffProvider=class xt{constructor(p,s,t){this.editorWorkerService=s,this.telemetryService=t,this.onDidChangeEventEmitter=new L.Emitter,this.onDidChange=this.onDidChangeEventEmitter.event,this.diffAlgorithm="advanced",this.diffAlgorithmOnDidChangeSubscription=void 0,this.setOptions(p)}dispose(){var p;(p=this.diffAlgorithmOnDidChangeSubscription)===null||p===void 0||p.dispose()}computeDiff(p,s,t){var i;return Le(this,void 0,void 0,function*(){if(typeof this.diffAlgorithm!="string")return this.diffAlgorithm.computeDiff(p,s,t);if(p.getLineCount()===1&&p.getLineMaxColumn(1)===1)return{changes:[new D.LineRangeMapping(new y.LineRange(1,2),new y.LineRange(1,s.getLineCount()+1),[new D.RangeMapping(p.getFullModelRange(),s.getFullModelRange())])],identical:!1,quitEarly:!1,moves:[]};const o=JSON.stringify([p.uri.toString(),s.uri.toString()]),r=JSON.stringify([p.id,s.id,p.getAlternativeVersionId(),s.getAlternativeVersionId(),JSON.stringify(t)]),d=xt.diffCache.get(o);if(d&&d.context===r)return d.result;const h=k.StopWatch.create(),n=yield this.editorWorkerService.computeDiff(p.uri,s.uri,t,this.diffAlgorithm),c=h.elapsed();if(this.telemetryService.publicLog2("diffEditor.computeDiff",{timeMs:c,timedOut:(i=n?.quitEarly)!==null&&i!==void 0?i:!0}),!n)throw new Error("no diff result available");return xt.diffCache.size>10&&xt.diffCache.delete(xt.diffCache.keys().next().value),xt.diffCache.set(o,{result:n,context:r}),n})}setOptions(p){var s;let t=!1;p.diffAlgorithm&&this.diffAlgorithm!==p.diffAlgorithm&&((s=this.diffAlgorithmOnDidChangeSubscription)===null||s===void 0||s.dispose(),this.diffAlgorithmOnDidChangeSubscription=void 0,this.diffAlgorithm=p.diffAlgorithm,typeof p.diffAlgorithm!="string"&&(this.diffAlgorithmOnDidChangeSubscription=p.diffAlgorithm.onDidChange(()=>this.onDidChangeEventEmitter.fire())),t=!0),t&&this.onDidChangeEventEmitter.fire()}};_.diffCache=new Map,e.WorkerBasedDocumentDiffProvider=_=Ne([ge(1,S.IEditorWorkerService),ge(2,m.ITelemetryService)],_)}),define(X[783],ee([1,0,54,55,62,15,24,22,624,13,431]),function(q,e,L,k,y,D,S,m,_,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelectionAnchorSet=void 0,e.SelectionAnchorSet=new f.RawContextKey("selectionAnchorSet",!1);let p=class zi{static get(d){return d.getContribution(zi.ID)}constructor(d,h){this.editor=d,this.selectionAnchorSetContextKey=e.SelectionAnchorSet.bindTo(h),this.modelChangeListener=d.onDidChangeModel(()=>this.selectionAnchorSetContextKey.reset())}setSelectionAnchor(){if(this.editor.hasModel()){const d=this.editor.getPosition();this.editor.changeDecorations(h=>{this.decorationId&&h.removeDecoration(this.decorationId),this.decorationId=h.addDecoration(S.Selection.fromPositions(d,d),{description:"selection-anchor",stickiness:1,hoverMessage:new k.MarkdownString().appendText((0,_.localize)(0,null)),className:"selection-anchor"})}),this.selectionAnchorSetContextKey.set(!!this.decorationId),(0,L.alert)((0,_.localize)(1,null,d.lineNumber,d.column))}}goToSelectionAnchor(){if(this.editor.hasModel()&&this.decorationId){const d=this.editor.getModel().getDecorationRange(this.decorationId);d&&this.editor.setPosition(d.getStartPosition())}}selectFromAnchorToCursor(){if(this.editor.hasModel()&&this.decorationId){const d=this.editor.getModel().getDecorationRange(this.decorationId);if(d){const h=this.editor.getPosition();this.editor.setSelection(S.Selection.fromPositions(d.getStartPosition(),h)),this.cancelSelectionAnchor()}}}cancelSelectionAnchor(){if(this.decorationId){const d=this.decorationId;this.editor.changeDecorations(h=>{h.removeDecoration(d),this.decorationId=void 0}),this.selectionAnchorSetContextKey.set(!1)}}dispose(){this.cancelSelectionAnchor(),this.modelChangeListener.dispose()}};p.ID="editor.contrib.selectionAnchorController",p=Ne([ge(1,f.IContextKeyService)],p);class s extends D.EditorAction{constructor(){super({id:"editor.action.setSelectionAnchor",label:(0,_.localize)(2,null),alias:"Set Selection Anchor",precondition:void 0,kbOpts:{kbExpr:m.EditorContextKeys.editorTextFocus,primary:(0,y.KeyChord)(2089,2080),weight:100}})}run(d,h){var n;return Le(this,void 0,void 0,function*(){(n=p.get(h))===null||n===void 0||n.setSelectionAnchor()})}}class t extends D.EditorAction{constructor(){super({id:"editor.action.goToSelectionAnchor",label:(0,_.localize)(3,null),alias:"Go to Selection Anchor",precondition:e.SelectionAnchorSet})}run(d,h){var n;return Le(this,void 0,void 0,function*(){(n=p.get(h))===null||n===void 0||n.goToSelectionAnchor()})}}class i extends D.EditorAction{constructor(){super({id:"editor.action.selectFromAnchorToCursor",label:(0,_.localize)(4,null),alias:"Select from Anchor to Cursor",precondition:e.SelectionAnchorSet,kbOpts:{kbExpr:m.EditorContextKeys.editorTextFocus,primary:(0,y.KeyChord)(2089,2089),weight:100}})}run(d,h){var n;return Le(this,void 0,void 0,function*(){(n=p.get(h))===null||n===void 0||n.selectFromAnchorToCursor()})}}class o extends D.EditorAction{constructor(){super({id:"editor.action.cancelSelectionAnchor",label:(0,_.localize)(5,null),alias:"Cancel Selection Anchor",precondition:e.SelectionAnchorSet,kbOpts:{kbExpr:m.EditorContextKeys.editorTextFocus,primary:9,weight:100}})}run(d,h){var n;return Le(this,void 0,void 0,function*(){(n=p.get(h))===null||n===void 0||n.cancelSelectionAnchor()})}}(0,D.registerEditorContribution)(p.ID,p,4),(0,D.registerEditorAction)(s),(0,D.registerEditorAction)(t),(0,D.registerEditorAction)(i),(0,D.registerEditorAction)(o)}),define(X[784],ee([1,0,15,22,531,626]),function(q,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class S extends L.EditorAction{constructor(p,s){super(s),this.left=p}run(p,s){if(!s.hasModel())return;const t=[],i=s.getSelections();for(const o of i)t.push(new y.MoveCaretCommand(o,this.left));s.pushUndoStop(),s.executeCommands(this.id,t),s.pushUndoStop()}}class m extends S{constructor(){super(!0,{id:"editor.action.moveCarretLeftAction",label:D.localize(0,null),alias:"Move Selected Text Left",precondition:k.EditorContextKeys.writable})}}class _ extends S{constructor(){super(!1,{id:"editor.action.moveCarretRightAction",label:D.localize(1,null),alias:"Move Selected Text Right",precondition:k.EditorContextKeys.writable})}}(0,L.registerEditorAction)(m),(0,L.registerEditorAction)(_)}),define(X[785],ee([1,0,15,122,202,5,22,627]),function(q,e,L,k,y,D,S,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class _ extends L.EditorAction{constructor(){super({id:"editor.action.transposeLetters",label:m.localize(0,null),alias:"Transpose Letters",precondition:S.EditorContextKeys.writable,kbOpts:{kbExpr:S.EditorContextKeys.textInputFocus,primary:0,mac:{primary:306},weight:100}})}run(p,s){if(!s.hasModel())return;const t=s.getModel(),i=[],o=s.getSelections();for(const r of o){if(!r.isEmpty())continue;const d=r.startLineNumber,h=r.startColumn,n=t.getLineMaxColumn(d);if(d===1&&(h===1||h===2&&n===2))continue;const c=h===n?r.getPosition():y.MoveOperations.rightPosition(t,r.getPosition().lineNumber,r.getPosition().column),a=y.MoveOperations.leftPosition(t,c),l=y.MoveOperations.leftPosition(t,a),u=t.getValueInRange(D.Range.fromPositions(l,a)),C=t.getValueInRange(D.Range.fromPositions(a,c)),g=D.Range.fromPositions(l,c);i.push(new k.ReplaceCommand(g,C+u))}i.length>0&&(s.pushUndoStop(),s.executeCommands(this.id,i),s.pushUndoStop())}}(0,L.registerEditorAction)(_)}),define(X[786],ee([1,0,51,17,229,15,32,22,628,31,95,13]),function(q,e,L,k,y,D,S,m,_,f,p,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PasteAction=e.CopyAction=e.CutAction=void 0;const t="9_cutcopypaste",i=k.isNative||document.queryCommandSupported("cut"),o=k.isNative||document.queryCommandSupported("copy"),r=typeof navigator.clipboard>"u"||L.isFirefox?document.queryCommandSupported("paste"):!0;function d(c){return c.register(),c}e.CutAction=i?d(new D.MultiCommand({id:"editor.action.clipboardCutAction",precondition:void 0,kbOpts:k.isNative?{primary:2102,win:{primary:2102,secondary:[1044]},weight:100}:void 0,menuOpts:[{menuId:f.MenuId.MenubarEditMenu,group:"2_ccp",title:_.localize(0,null),order:1},{menuId:f.MenuId.EditorContext,group:t,title:_.localize(1,null),when:m.EditorContextKeys.writable,order:1},{menuId:f.MenuId.CommandPalette,group:"",title:_.localize(2,null),order:1},{menuId:f.MenuId.SimpleEditorContext,group:t,title:_.localize(3,null),when:m.EditorContextKeys.writable,order:1}]})):void 0,e.CopyAction=o?d(new D.MultiCommand({id:"editor.action.clipboardCopyAction",precondition:void 0,kbOpts:k.isNative?{primary:2081,win:{primary:2081,secondary:[2067]},weight:100}:void 0,menuOpts:[{menuId:f.MenuId.MenubarEditMenu,group:"2_ccp",title:_.localize(4,null),order:2},{menuId:f.MenuId.EditorContext,group:t,title:_.localize(5,null),order:2},{menuId:f.MenuId.CommandPalette,group:"",title:_.localize(6,null),order:1},{menuId:f.MenuId.SimpleEditorContext,group:t,title:_.localize(7,null),order:2}]})):void 0,f.MenuRegistry.appendMenuItem(f.MenuId.MenubarEditMenu,{submenu:f.MenuId.MenubarCopy,title:{value:_.localize(8,null),original:"Copy As"},group:"2_ccp",order:3}),f.MenuRegistry.appendMenuItem(f.MenuId.EditorContext,{submenu:f.MenuId.EditorContextCopy,title:{value:_.localize(9,null),original:"Copy As"},group:t,order:3}),f.MenuRegistry.appendMenuItem(f.MenuId.EditorContext,{submenu:f.MenuId.EditorContextShare,title:{value:_.localize(10,null),original:"Share"},group:"11_share",order:-1,when:s.ContextKeyExpr.and(s.ContextKeyExpr.notEquals("resourceScheme","output"),m.EditorContextKeys.editorTextFocus)}),f.MenuRegistry.appendMenuItem(f.MenuId.EditorTitleContext,{submenu:f.MenuId.EditorTitleContextShare,title:{value:_.localize(11,null),original:"Share"},group:"11_share",order:-1}),f.MenuRegistry.appendMenuItem(f.MenuId.ExplorerContext,{submenu:f.MenuId.ExplorerContextShare,title:{value:_.localize(12,null),original:"Share"},group:"11_share",order:-1}),e.PasteAction=r?d(new D.MultiCommand({id:"editor.action.clipboardPasteAction",precondition:void 0,kbOpts:k.isNative?{primary:2100,win:{primary:2100,secondary:[1043]},linux:{primary:2100,secondary:[1043]},weight:100}:void 0,menuOpts:[{menuId:f.MenuId.MenubarEditMenu,group:"2_ccp",title:_.localize(13,null),order:4},{menuId:f.MenuId.EditorContext,group:t,title:_.localize(14,null),when:m.EditorContextKeys.writable,order:4},{menuId:f.MenuId.CommandPalette,group:"",title:_.localize(15,null),order:1},{menuId:f.MenuId.SimpleEditorContext,group:t,title:_.localize(16,null),when:m.EditorContextKeys.writable,order:4}]})):void 0;class h extends D.EditorAction{constructor(){super({id:"editor.action.clipboardCopyWithSyntaxHighlightingAction",label:_.localize(17,null),alias:"Copy With Syntax Highlighting",precondition:void 0,kbOpts:{kbExpr:m.EditorContextKeys.textInputFocus,primary:0,weight:100}})}run(a,l){!l.hasModel()||!l.getOption(35)&&l.getSelection().isEmpty()||(y.CopyOptions.forceCopyWithSyntaxHighlighting=!0,l.focus(),document.execCommand("copy"),y.CopyOptions.forceCopyWithSyntaxHighlighting=!1)}}function n(c,a){c&&(c.addImplementation(1e4,"code-editor",(l,u)=>{const C=l.get(S.ICodeEditorService).getFocusedCodeEditor();if(C&&C.hasTextFocus()){const g=C.getOption(35),v=C.getSelection();return v&&v.isEmpty()&&!g||document.execCommand(a),!0}return!1}),c.addImplementation(0,"generic-dom",(l,u)=>(document.execCommand(a),!0)))}n(e.CutAction,"cut"),n(e.CopyAction,"copy"),e.PasteAction&&(e.PasteAction.addImplementation(1e4,"code-editor",(c,a)=>{const l=c.get(S.ICodeEditorService),u=c.get(p.IClipboardService),C=l.getFocusedCodeEditor();return C&&C.hasTextFocus()?!document.execCommand("paste")&&k.isWeb?(()=>Le(void 0,void 0,void 0,function*(){const v=yield u.readText();if(v!==""){const b=y.InMemoryClipboardMetadataManager.INSTANCE.get(v);let w=!1,E=null,I=null;b&&(w=C.getOption(35)&&!!b.isFromEmptySelection,E=typeof b.multicursorText<"u"?b.multicursorText:null,I=b.mode),C.trigger("keyboard","paste",{text:v,pasteOnNewLine:w,multicursorText:E,mode:I})}}))():!0:!1}),e.PasteAction.addImplementation(0,"generic-dom",(c,a)=>(document.execCommand("paste"),!0))),o&&(0,D.registerEditorAction)(h)}),define(X[787],ee([1,0,62,15,5,22,30,288,533,638,31]),function(q,e,L,k,y,D,S,m,_,f,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class s extends k.EditorAction{constructor(h,n){super(n),this._type=h}run(h,n){const c=h.get(S.ILanguageConfigurationService);if(!n.hasModel())return;const a=n.getModel(),l=[],u=a.getOptions(),C=n.getOption(21),g=n.getSelections().map((b,w)=>({selection:b,index:w,ignoreFirstLine:!1}));g.sort((b,w)=>y.Range.compareRangesUsingStarts(b.selection,w.selection));let v=g[0];for(let b=1;b<g.length;b++){const w=g[b];v.selection.endLineNumber===w.selection.startLineNumber&&(v.index<w.index?w.ignoreFirstLine=!0:(v.ignoreFirstLine=!0,v=w))}for(const b of g)l.push(new _.LineCommentCommand(c,b.selection,u.tabSize,this._type,C.insertSpace,C.ignoreEmptyLines,b.ignoreFirstLine));n.pushUndoStop(),n.executeCommands(this.id,l),n.pushUndoStop()}}class t extends s{constructor(){super(0,{id:"editor.action.commentLine",label:f.localize(0,null),alias:"Toggle Line Comment",precondition:D.EditorContextKeys.writable,kbOpts:{kbExpr:D.EditorContextKeys.editorTextFocus,primary:2138,weight:100},menuOpts:{menuId:p.MenuId.MenubarEditMenu,group:"5_insert",title:f.localize(1,null),order:1}})}}class i extends s{constructor(){super(1,{id:"editor.action.addCommentLine",label:f.localize(2,null),alias:"Add Line Comment",precondition:D.EditorContextKeys.writable,kbOpts:{kbExpr:D.EditorContextKeys.editorTextFocus,primary:(0,L.KeyChord)(2089,2081),weight:100}})}}class o extends s{constructor(){super(2,{id:"editor.action.removeCommentLine",label:f.localize(3,null),alias:"Remove Line Comment",precondition:D.EditorContextKeys.writable,kbOpts:{kbExpr:D.EditorContextKeys.editorTextFocus,primary:(0,L.KeyChord)(2089,2099),weight:100}})}}class r extends k.EditorAction{constructor(){super({id:"editor.action.blockComment",label:f.localize(4,null),alias:"Toggle Block Comment",precondition:D.EditorContextKeys.writable,kbOpts:{kbExpr:D.EditorContextKeys.editorTextFocus,primary:1567,linux:{primary:3103},weight:100},menuOpts:{menuId:p.MenuId.MenubarEditMenu,group:"5_insert",title:f.localize(5,null),order:2}})}run(h,n){const c=h.get(S.ILanguageConfigurationService);if(!n.hasModel())return;const a=n.getOption(21),l=[],u=n.getSelections();for(const C of u)l.push(new m.BlockCommentCommand(C,a.insertSpace,c));n.pushUndoStop(),n.executeCommands(this.id,l),n.pushUndoStop()}}(0,k.registerEditorAction)(t),(0,k.registerEditorAction)(i),(0,k.registerEditorAction)(o),(0,k.registerEditorAction)(r)}),define(X[788],ee([1,0,2,15,22,640]),function(q,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorRedo=e.CursorUndo=e.CursorUndoRedoController=void 0;class S{constructor(t){this.selections=t}equals(t){const i=this.selections.length,o=t.selections.length;if(i!==o)return!1;for(let r=0;r<i;r++)if(!this.selections[r].equalsSelection(t.selections[r]))return!1;return!0}}class m{constructor(t,i,o){this.cursorState=t,this.scrollTop=i,this.scrollLeft=o}}class _ extends L.Disposable{static get(t){return t.getContribution(_.ID)}constructor(t){super(),this._editor=t,this._isCursorUndoRedo=!1,this._undoStack=[],this._redoStack=[],this._register(t.onDidChangeModel(i=>{this._undoStack=[],this._redoStack=[]})),this._register(t.onDidChangeModelContent(i=>{this._undoStack=[],this._redoStack=[]})),this._register(t.onDidChangeCursorSelection(i=>{if(this._isCursorUndoRedo||!i.oldSelections||i.oldModelVersionId!==i.modelVersionId)return;const o=new S(i.oldSelections);this._undoStack.length>0&&this._undoStack[this._undoStack.length-1].cursorState.equals(o)||(this._undoStack.push(new m(o,t.getScrollTop(),t.getScrollLeft())),this._redoStack=[],this._undoStack.length>50&&this._undoStack.shift())}))}cursorUndo(){!this._editor.hasModel()||this._undoStack.length===0||(this._redoStack.push(new m(new S(this._editor.getSelections()),this._editor.getScrollTop(),this._editor.getScrollLeft())),this._applyState(this._undoStack.pop()))}cursorRedo(){!this._editor.hasModel()||this._redoStack.length===0||(this._undoStack.push(new m(new S(this._editor.getSelections()),this._editor.getScrollTop(),this._editor.getScrollLeft())),this._applyState(this._redoStack.pop()))}_applyState(t){this._isCursorUndoRedo=!0,this._editor.setSelections(t.cursorState.selections),this._editor.setScrollPosition({scrollTop:t.scrollTop,scrollLeft:t.scrollLeft}),this._isCursorUndoRedo=!1}}e.CursorUndoRedoController=_,_.ID="editor.contrib.cursorUndoRedoController";class f extends k.EditorAction{constructor(){super({id:"cursorUndo",label:D.localize(0,null),alias:"Cursor Undo",precondition:void 0,kbOpts:{kbExpr:y.EditorContextKeys.textInputFocus,primary:2099,weight:100}})}run(t,i,o){var r;(r=_.get(i))===null||r===void 0||r.cursorUndo()}}e.CursorUndo=f;class p extends k.EditorAction{constructor(){super({id:"cursorRedo",label:D.localize(1,null),alias:"Cursor Redo",precondition:void 0})}run(t,i,o){var r;(r=_.get(i))===null||r===void 0||r.cursorRedo()}}e.CursorRedo=p,(0,k.registerEditorContribution)(_.ID,_,0),(0,k.registerEditorAction)(f),(0,k.registerEditorAction)(p)}),define(X[789],ee([1,0,15,13,20,63,8,48,645]),function(q,e,L,k,y,D,S,m,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorKeybindingCancellationTokenSource=void 0;const f=(0,S.createDecorator)("IEditorCancelService"),p=new k.RawContextKey("cancellableOperation",!1,(0,_.localize)(0,null));(0,m.registerSingleton)(f,class{constructor(){this._tokens=new WeakMap}add(t,i){let o=this._tokens.get(t);o||(o=t.invokeWithinContext(d=>{const h=p.bindTo(d.get(k.IContextKeyService)),n=new D.LinkedList;return{key:h,tokens:n}}),this._tokens.set(t,o));let r;return o.key.set(!0),r=o.tokens.push(i),()=>{r&&(r(),o.key.set(!o.tokens.isEmpty()),r=void 0)}}cancel(t){const i=this._tokens.get(t);if(!i)return;const o=i.tokens.pop();o&&(o.cancel(),i.key.set(!i.tokens.isEmpty()))}},1);class s extends y.CancellationTokenSource{constructor(i,o){super(o),this.editor=i,this._unregister=i.invokeWithinContext(r=>r.get(f).add(i,this))}dispose(){this._unregister(),super.dispose()}}e.EditorKeybindingCancellationTokenSource=s,(0,L.registerEditorCommand)(new class extends L.EditorCommand{constructor(){super({id:"editor.cancelOperation",kbOpts:{weight:100,primary:9},precondition:p})}runEditorCommand(t,i){t.get(f).cancel(i)}})}),define(X[102],ee([1,0,9,5,20,2,789]),function(q,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextModelCancellationTokenSource=e.EditorStateCancellationTokenSource=e.EditorState=void 0;class m{constructor(s,t){if(this.flags=t,this.flags&1){const i=s.getModel();this.modelVersionId=i?L.format("{0}#{1}",i.uri.toString(),i.getVersionId()):null}else this.modelVersionId=null;this.flags&4?this.position=s.getPosition():this.position=null,this.flags&2?this.selection=s.getSelection():this.selection=null,this.flags&8?(this.scrollLeft=s.getScrollLeft(),this.scrollTop=s.getScrollTop()):(this.scrollLeft=-1,this.scrollTop=-1)}_equals(s){if(!(s instanceof m))return!1;const t=s;return!(this.modelVersionId!==t.modelVersionId||this.scrollLeft!==t.scrollLeft||this.scrollTop!==t.scrollTop||!this.position&&t.position||this.position&&!t.position||this.position&&t.position&&!this.position.equals(t.position)||!this.selection&&t.selection||this.selection&&!t.selection||this.selection&&t.selection&&!this.selection.equalsRange(t.selection))}validate(s){return this._equals(new m(s,this.flags))}}e.EditorState=m;class _ extends S.EditorKeybindingCancellationTokenSource{constructor(s,t,i,o){super(s,o),this._listener=new D.DisposableStore,t&4&&this._listener.add(s.onDidChangeCursorPosition(r=>{(!i||!k.Range.containsPosition(i,r.position))&&this.cancel()})),t&2&&this._listener.add(s.onDidChangeCursorSelection(r=>{(!i||!k.Range.containsRange(i,r.selection))&&this.cancel()})),t&8&&this._listener.add(s.onDidScrollChange(r=>this.cancel())),t&1&&(this._listener.add(s.onDidChangeModel(r=>this.cancel())),this._listener.add(s.onDidChangeModelContent(r=>this.cancel())))}dispose(){this._listener.dispose(),super.dispose()}}e.EditorStateCancellationTokenSource=_;class f extends y.CancellationTokenSource{constructor(s,t){super(t),this._listener=s.onDidChangeContent(()=>this.cancel())}dispose(){this._listener.dispose(),super.dispose()}}e.TextModelCancellationTokenSource=f}),define(X[135],ee([1,0,16,20,12,2,21,131,5,24,19,49,102,629,26,44,83,78,112]),function(q,e,L,k,y,D,S,m,_,f,p,s,t,i,o,r,d,h,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.applyCodeAction=e.ApplyCodeActionReason=e.getCodeActions=e.fixAllCommandId=e.organizeImportsCommandId=e.sourceActionCommandId=e.refactorCommandId=e.autoFixCommandId=e.quickFixCommandId=e.codeActionCommandId=void 0,e.codeActionCommandId="editor.action.codeAction",e.quickFixCommandId="editor.action.quickFix",e.autoFixCommandId="editor.action.autoFix",e.refactorCommandId="editor.action.refactor",e.sourceActionCommandId="editor.action.sourceAction",e.organizeImportsCommandId="editor.action.organizeImports",e.fixAllCommandId="editor.action.fixAll";class c extends D.Disposable{static codeActionsPreferredComparator(I,T){return I.isPreferred&&!T.isPreferred?-1:!I.isPreferred&&T.isPreferred?1:0}static codeActionsComparator({action:I},{action:T}){return(0,L.isNonEmptyArray)(I.diagnostics)?(0,L.isNonEmptyArray)(T.diagnostics)?c.codeActionsPreferredComparator(I,T):-1:(0,L.isNonEmptyArray)(T.diagnostics)?1:c.codeActionsPreferredComparator(I,T)}constructor(I,T,P){super(),this.documentation=T,this._register(P),this.allActions=[...I].sort(c.codeActionsComparator),this.validActions=this.allActions.filter(({action:A})=>!A.disabled)}get hasAutoFix(){return this.validActions.some(({action:I})=>!!I.kind&&n.CodeActionKind.QuickFix.contains(new n.CodeActionKind(I.kind))&&!!I.isPreferred)}}const a={actions:[],documentation:void 0};function l(E,I,T,P,A,M){var N;return Le(this,void 0,void 0,function*(){const R=P.filter||{},F={only:(N=R.include)===null||N===void 0?void 0:N.value,trigger:P.type},x=new t.TextModelCancellationTokenSource(I,M),W=u(E,I,R),z=new D.DisposableStore,U=W.map(G=>Le(this,void 0,void 0,function*(){try{A.report(G);const Q=yield G.provideCodeActions(I,T,F,x.token);if(Q&&z.add(Q),x.token.isCancellationRequested)return a;const re=(Q?.actions||[]).filter(te=>te&&(0,n.filtersAction)(R,te)),oe=g(G,re,R.include);return{actions:re.map(te=>new n.CodeActionItem(te,G)),documentation:oe}}catch(Q){if((0,y.isCancellationError)(Q))throw Q;return(0,y.onUnexpectedExternalError)(Q),a}})),O=E.onDidChange(()=>{const G=E.all(I);(0,L.equals)(G,W)||x.cancel()});try{const G=yield Promise.all(U),Q=G.map(oe=>oe.actions).flat(),re=[...(0,L.coalesce)(G.map(oe=>oe.documentation)),...C(E,I,P,Q)];return new c(Q,re,z)}finally{O.dispose(),x.dispose()}})}e.getCodeActions=l;function u(E,I,T){return E.all(I).filter(P=>P.providedCodeActionKinds?P.providedCodeActionKinds.some(A=>(0,n.mayIncludeActionsOfKind)(T,new n.CodeActionKind(A))):!0)}function*C(E,I,T,P){var A,M,N;if(I&&P.length)for(const R of E.all(I))R._getAdditionalMenuItems&&(yield*(A=R._getAdditionalMenuItems)===null||A===void 0?void 0:A.call(R,{trigger:T.type,only:(N=(M=T.filter)===null||M===void 0?void 0:M.include)===null||N===void 0?void 0:N.value},P.map(F=>F.action)))}function g(E,I,T){if(!E.documentation)return;const P=E.documentation.map(A=>({kind:new n.CodeActionKind(A.kind),command:A.command}));if(T){let A;for(const M of P)M.kind.contains(T)&&(A?A.kind.contains(M.kind)&&(A=M):A=M);if(A)return A?.command}for(const A of I)if(A.kind){for(const M of P)if(M.kind.contains(new n.CodeActionKind(A.kind)))return M.command}}var v;(function(E){E.OnSave="onSave",E.FromProblemsView="fromProblemsView",E.FromCodeActions="fromCodeActions"})(v||(e.ApplyCodeActionReason=v={}));function b(E,I,T,P,A=k.CancellationToken.None){var M;return Le(this,void 0,void 0,function*(){const N=E.get(m.IBulkEditService),R=E.get(o.ICommandService),F=E.get(h.ITelemetryService),x=E.get(r.INotificationService);if(F.publicLog2("codeAction.applyCodeAction",{codeActionTitle:I.action.title,codeActionKind:I.action.kind,codeActionIsPreferred:!!I.action.isPreferred,reason:T}),yield I.resolve(A),!A.isCancellationRequested&&!(!((M=I.action.edit)===null||M===void 0)&&M.edits.length&&!(yield N.apply(I.action.edit,{editor:P?.editor,label:I.action.title,quotableLabel:I.action.title,code:"undoredo.codeAction",respectAutoSaveConfig:T!==v.OnSave,showPreview:P?.preview})).isApplied)&&I.action.command)try{yield R.executeCommand(I.action.command.id,...I.action.command.arguments||[])}catch(W){const z=w(W);x.error(typeof z=="string"?z:i.localize(0,null))}})}e.applyCodeAction=b;function w(E){return typeof E=="string"?E:E instanceof Error&&typeof E.message=="string"?E.message:void 0}o.CommandsRegistry.registerCommand("_executeCodeActionProvider",function(E,I,T,P,A){return Le(this,void 0,void 0,function*(){if(!(I instanceof S.URI))throw(0,y.illegalArgument)();const{codeActionProvider:M}=E.get(p.ILanguageFeaturesService),N=E.get(s.IModelService).getModel(I);if(!N)throw(0,y.illegalArgument)();const R=f.Selection.isISelection(T)?f.Selection.liftSelection(T):_.Range.isIRange(T)?N.validateRange(T):void 0;if(!R)throw(0,y.illegalArgument)();const F=typeof P=="string"?new n.CodeActionKind(P):void 0,x=yield l(M,N,R,{type:1,triggerAction:n.CodeActionTriggerSource.Default,filter:{includeSourceActions:!0,include:F}},d.Progress.None,k.CancellationToken.None),W=[],z=Math.min(x.validActions.length,typeof A=="number"?A:0);for(let U=0;U<z;U++)W.push(x.validActions[U].resolve(k.CancellationToken.None));try{return yield Promise.all(W),x.validActions.map(U=>U.action)}finally{setTimeout(()=>x.dispose(),100)}})})}),define(X[790],ee([1,0,99,135,112,37]),function(q,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeActionKeybindingResolver=void 0;let S=e.CodeActionKeybindingResolver=class Hi{constructor(_){this.keybindingService=_}getResolver(){const _=new L.Lazy(()=>this.keybindingService.getKeybindings().filter(f=>Hi.codeActionCommands.indexOf(f.command)>=0).filter(f=>f.resolvedKeybinding).map(f=>{let p=f.commandArgs;return f.command===k.organizeImportsCommandId?p={kind:y.CodeActionKind.SourceOrganizeImports.value}:f.command===k.fixAllCommandId&&(p={kind:y.CodeActionKind.SourceFixAll.value}),Object.assign({resolvedKeybinding:f.resolvedKeybinding},y.CodeActionCommandArgs.fromUser(p,{kind:y.CodeActionKind.None,apply:"never"}))}));return f=>{if(f.kind){const p=this.bestKeybindingForCodeAction(f,_.value);return p?.resolvedKeybinding}}}bestKeybindingForCodeAction(_,f){if(!_.kind)return;const p=new y.CodeActionKind(_.kind);return f.filter(s=>s.kind.contains(p)).filter(s=>s.preferred?_.isPreferred:!0).reduceRight((s,t)=>s?s.kind.contains(t.kind)?t:s:t,void 0)}};S.codeActionCommands=[k.refactorCommandId,k.codeActionCommandId,k.sourceActionCommandId,k.organizeImportsCommandId,k.fixAllCommandId],e.CodeActionKeybindingResolver=S=Ne([ge(0,D.IKeybindingService)],S)});var Ht=this&&this.__classPrivateFieldGet||function(q,e,L,k){if(L==="a"&&!k)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?q!==e||!k:!e.has(q))throw new TypeError("Cannot read private member from an object whose class did not declare it");return L==="m"?k:L==="a"?k.call(q):k?k.value:e.get(q)},ci=this&&this.__classPrivateFieldSet||function(q,e,L,k,y){if(k==="m")throw new TypeError("Private method is not writable");if(k==="a"&&!y)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?q!==e||!y:!e.has(q))throw new TypeError("Cannot write private member to an object whose class did not declare it");return k==="a"?y.call(q,L):y?y.value=L:e.set(q,L),L};define(X[344],ee([1,0,14,12,6,2,43,13,83,112,135]),function(q,e,L,k,y,D,S,m,_,f,p){"use strict";var s;Object.defineProperty(e,"__esModule",{value:!0}),e.CodeActionModel=e.CodeActionsState=e.SUPPORTED_CODE_ACTIONS=void 0,e.SUPPORTED_CODE_ACTIONS=new m.RawContextKey("supportedCodeAction","");class t extends D.Disposable{constructor(h,n,c,a=250){super(),this._editor=h,this._markerService=n,this._signalChange=c,this._delay=a,this._autoTriggerTimer=this._register(new L.TimeoutTimer),this._register(this._markerService.onMarkerChanged(l=>this._onMarkerChanges(l))),this._register(this._editor.onDidChangeCursorPosition(()=>this._tryAutoTrigger()))}trigger(h){const n=this._getRangeOfSelectionUnlessWhitespaceEnclosed(h);this._signalChange(n?{trigger:h,selection:n}:void 0)}_onMarkerChanges(h){const n=this._editor.getModel();n&&h.some(c=>(0,S.isEqual)(c,n.uri))&&this._tryAutoTrigger()}_tryAutoTrigger(){this._autoTriggerTimer.cancelAndSet(()=>{this.trigger({type:2,triggerAction:f.CodeActionTriggerSource.Default})},this._delay)}_getRangeOfSelectionUnlessWhitespaceEnclosed(h){if(!this._editor.hasModel())return;const n=this._editor.getModel(),c=this._editor.getSelection();if(c.isEmpty()&&h.type===2){const{lineNumber:a,column:l}=c.getPosition(),u=n.getLineContent(a);if(u.length===0)return;if(l===1){if(/\s/.test(u[0]))return}else if(l===n.getLineMaxColumn(a)){if(/\s/.test(u[u.length-1]))return}else if(/\s/.test(u[l-2])&&/\s/.test(u[l-1]))return}return c}}var i;(function(d){d.Empty={type:0};class h{constructor(c,a,l){this.trigger=c,this.position=a,this._cancellablePromise=l,this.type=1,this.actions=l.catch(u=>{if((0,k.isCancellationError)(u))return o;throw u})}cancel(){this._cancellablePromise.cancel()}}d.Triggered=h})(i||(e.CodeActionsState=i={}));const o=Object.freeze({allActions:[],validActions:[],dispose:()=>{},documentation:[],hasAutoFix:!1});class r extends D.Disposable{constructor(h,n,c,a,l){super(),this._editor=h,this._registry=n,this._markerService=c,this._progressService=l,this._codeActionOracle=this._register(new D.MutableDisposable),this._state=i.Empty,this._onDidChangeState=this._register(new y.Emitter),this.onDidChangeState=this._onDidChangeState.event,s.set(this,!1),this._supportedCodeActions=e.SUPPORTED_CODE_ACTIONS.bindTo(a),this._register(this._editor.onDidChangeModel(()=>this._update())),this._register(this._editor.onDidChangeModelLanguage(()=>this._update())),this._register(this._registry.onDidChange(()=>this._update())),this._update()}dispose(){Ht(this,s,"f")||(ci(this,s,!0,"f"),super.dispose(),this.setState(i.Empty,!0))}_update(){if(Ht(this,s,"f"))return;this._codeActionOracle.value=void 0,this.setState(i.Empty);const h=this._editor.getModel();if(h&&this._registry.has(h)&&!this._editor.getOption(88)){const n=this._registry.all(h).flatMap(c=>{var a;return(a=c.providedCodeActionKinds)!==null&&a!==void 0?a:[]});this._supportedCodeActions.set(n.join(" ")),this._codeActionOracle.value=new t(this._editor,this._markerService,c=>{var a;if(!c){this.setState(i.Empty);return}const l=(0,L.createCancelablePromise)(u=>(0,p.getCodeActions)(this._registry,h,c.selection,c.trigger,_.Progress.None,u));c.trigger.type===1&&((a=this._progressService)===null||a===void 0||a.showWhile(l,250)),this.setState(new i.Triggered(c.trigger,c.selection.getStartPosition(),l))},void 0),this._codeActionOracle.value.trigger({type:2,triggerAction:f.CodeActionTriggerSource.Default})}else this._supportedCodeActions.reset()}trigger(h){var n;(n=this._codeActionOracle.value)===null||n===void 0||n.trigger(h)}setState(h,n){h!==this._state&&(this._state.type===1&&this._state.cancel(),this._state=h,!n&&!Ht(this,s,"f")&&this._onDidChangeState.fire(h))}}e.CodeActionModel=r,s=new WeakMap}),define(X[345],ee([1,0,7,60,25,6,2,27,18,206,135,634,37,433]),function(q,e,L,k,y,D,S,m,_,f,p,s,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LightBulbWidget=void 0;var i;(function(r){r.Hidden={type:0};class d{constructor(n,c,a,l){this.actions=n,this.trigger=c,this.editorPosition=a,this.widgetPosition=l,this.type=1}}r.Showing=d})(i||(i={}));let o=e.LightBulbWidget=class Ui extends S.Disposable{constructor(d,h){super(),this._editor=d,this._onClick=this._register(new D.Emitter),this.onClick=this._onClick.event,this._state=i.Hidden,this._domNode=L.$("div.lightBulbWidget"),this._register(k.Gesture.ignoreTarget(this._domNode)),this._editor.addContentWidget(this),this._register(this._editor.onDidChangeModelContent(n=>{const c=this._editor.getModel();(this.state.type!==1||!c||this.state.editorPosition.lineNumber>=c.getLineCount())&&this.hide()})),this._register(L.addStandardDisposableGenericMouseDownListener(this._domNode,n=>{if(this.state.type!==1)return;this._editor.focus(),n.preventDefault();const{top:c,height:a}=L.getDomNodePagePosition(this._domNode),l=this._editor.getOption(64);let u=Math.floor(l/3);this.state.widgetPosition.position!==null&&this.state.widgetPosition.position.lineNumber<this.state.editorPosition.lineNumber&&(u+=l),this._onClick.fire({x:n.posx,y:c+a+u,actions:this.state.actions,trigger:this.state.trigger})})),this._register(L.addDisposableListener(this._domNode,"mouseenter",n=>{(n.buttons&1)===1&&this.hide()})),this._register(this._editor.onDidChangeConfiguration(n=>{n.hasChanged(62)&&!this._editor.getOption(62).enabled&&this.hide()})),this._register(D.Event.runAndSubscribe(h.onDidUpdateKeybindings,()=>{var n,c;this._preferredKbLabel=(0,_.withNullAsUndefined)((n=h.lookupKeybinding(p.autoFixCommandId))===null||n===void 0?void 0:n.getLabel()),this._quickFixKbLabel=(0,_.withNullAsUndefined)((c=h.lookupKeybinding(p.quickFixCommandId))===null||c===void 0?void 0:c.getLabel()),this._updateLightBulbTitleAndIcon()}))}dispose(){super.dispose(),this._editor.removeContentWidget(this)}getId(){return"LightBulbWidget"}getDomNode(){return this._domNode}getPosition(){return this._state.type===1?this._state.widgetPosition:null}update(d,h,n){if(d.validActions.length<=0)return this.hide();const c=this._editor.getOptions();if(!c.get(62).enabled)return this.hide();const a=this._editor.getModel();if(!a)return this.hide();const{lineNumber:l,column:u}=a.validatePosition(n),C=a.getOptions().tabSize,g=c.get(48),v=a.getLineContent(l),b=(0,f.computeIndentLevel)(v,C),w=g.spaceWidth*b>22,E=T=>T>2&&this._editor.getTopForLineNumber(T)===this._editor.getTopForLineNumber(T-1);let I=l;if(!w){if(l>1&&!E(l-1))I-=1;else if(!E(l+1))I+=1;else if(u*g.spaceWidth<22)return this.hide()}this.state=new i.Showing(d,h,n,{position:{lineNumber:I,column:1},preference:Ui._posPref}),this._editor.layoutContentWidget(this)}hide(){this.state!==i.Hidden&&(this.state=i.Hidden,this._editor.layoutContentWidget(this))}get state(){return this._state}set state(d){this._state=d,this._updateLightBulbTitleAndIcon()}_updateLightBulbTitleAndIcon(){if(this.state.type===1&&this.state.actions.hasAutoFix&&(this._domNode.classList.remove(...m.ThemeIcon.asClassNameArray(y.Codicon.lightBulb)),this._domNode.classList.add(...m.ThemeIcon.asClassNameArray(y.Codicon.lightbulbAutofix)),this._preferredKbLabel)){this.title=s.localize(0,null,this._preferredKbLabel);return}this._domNode.classList.remove(...m.ThemeIcon.asClassNameArray(y.Codicon.lightbulbAutofix)),this._domNode.classList.add(...m.ThemeIcon.asClassNameArray(y.Codicon.lightBulb)),this._quickFixKbLabel?this.title=s.localize(1,null,this._quickFixKbLabel):this.title=s.localize(2,null)}set title(d){this._domNode.title=d}};o.ID="editor.contrib.lightbulbWidget",o._posPref=[0],e.LightBulbWidget=o=Ne([ge(1,t.IKeybindingService)],o)}),define(X[791],ee([1,0,15,144,650]),function(q,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class D extends L.EditorAction{constructor(){super({id:"editor.action.fontZoomIn",label:y.localize(0,null),alias:"Editor Font Zoom In",precondition:void 0})}run(f,p){k.EditorZoom.setZoomLevel(k.EditorZoom.getZoomLevel()+1)}}class S extends L.EditorAction{constructor(){super({id:"editor.action.fontZoomOut",label:y.localize(1,null),alias:"Editor Font Zoom Out",precondition:void 0})}run(f,p){k.EditorZoom.setZoomLevel(k.EditorZoom.getZoomLevel()-1)}}class m extends L.EditorAction{constructor(){super({id:"editor.action.fontZoomReset",label:y.localize(2,null),alias:"Editor Font Zoom Reset",precondition:void 0})}run(f,p){k.EditorZoom.setZoomLevel(0)}}(0,L.registerEditorAction)(D),(0,L.registerEditorAction)(S),(0,L.registerEditorAction)(m)}),define(X[346],ee([1,0,54,16,20,12,50,63,18,21,102,179,11,5,24,114,68,291,651,26,733,8,19,69]),function(q,e,L,k,y,D,S,m,_,f,p,s,t,i,o,r,d,h,n,c,a,l,u,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getOnTypeFormattingEdits=e.getDocumentFormattingEditsUntilResult=e.getDocumentRangeFormattingEditsUntilResult=e.formatDocumentWithProvider=e.formatDocumentWithSelectedProvider=e.formatDocumentRangesWithProvider=e.formatDocumentRangesWithSelectedProvider=e.FormattingConflicts=e.getRealAndSyntheticDocumentFormattersOrdered=e.alertFormattingEdits=void 0;function g(N){if(N=N.filter(W=>W.range),!N.length)return;let{range:R}=N[0];for(let W=1;W<N.length;W++)R=i.Range.plusRange(R,N[W].range);const{startLineNumber:F,endLineNumber:x}=R;F===x?N.length===1?(0,L.alert)(n.localize(0,null,F)):(0,L.alert)(n.localize(1,null,N.length,F)):N.length===1?(0,L.alert)(n.localize(2,null,F,x)):(0,L.alert)(n.localize(3,null,N.length,F,x))}e.alertFormattingEdits=g;function v(N,R,F){const x=[],W=new a.ExtensionIdentifierSet,z=N.ordered(F);for(const O of z)x.push(O),O.extensionId&&W.add(O.extensionId);const U=R.ordered(F);for(const O of U){if(O.extensionId){if(W.has(O.extensionId))continue;W.add(O.extensionId)}x.push({displayName:O.displayName,extensionId:O.extensionId,provideDocumentFormattingEdits(G,Q,re){return O.provideDocumentRangeFormattingEdits(G,G.getFullModelRange(),Q,re)}})}return x}e.getRealAndSyntheticDocumentFormattersOrdered=v;class b{static setFormatterSelector(R){return{dispose:b._selectors.unshift(R)}}static select(R,F,x){return Le(this,void 0,void 0,function*(){if(R.length===0)return;const W=S.Iterable.first(b._selectors);if(W)return yield W(R,F,x)})}}e.FormattingConflicts=b,b._selectors=new m.LinkedList;function w(N,R,F,x,W,z){return Le(this,void 0,void 0,function*(){const U=N.get(l.IInstantiationService),{documentRangeFormattingEditProvider:O}=N.get(u.ILanguageFeaturesService),G=(0,s.isCodeEditor)(R)?R.getModel():R,Q=O.ordered(G),re=yield b.select(Q,G,x);re&&(W.report(re),yield U.invokeFunction(E,re,R,F,z))})}e.formatDocumentRangesWithSelectedProvider=w;function E(N,R,F,x,W){var z,U;return Le(this,void 0,void 0,function*(){const O=N.get(r.IEditorWorkerService),G=N.get(C.ILogService);let Q,re;(0,s.isCodeEditor)(F)?(Q=F.getModel(),re=new p.EditorStateCancellationTokenSource(F,5,void 0,W)):(Q=F,re=new p.TextModelCancellationTokenSource(F,W));const oe=[];let te=0;for(const J of(0,k.asArray)(x).sort(i.Range.compareRangesUsingStarts))te>0&&i.Range.areIntersectingOrTouching(oe[te-1],J)?oe[te-1]=i.Range.fromPositions(oe[te-1].getStartPosition(),J.getEndPosition()):te=oe.push(J);const H=J=>Le(this,void 0,void 0,function*(){var ne,he;G.trace("[format][provideDocumentRangeFormattingEdits] (request)",(ne=R.extensionId)===null||ne===void 0?void 0:ne.value,J);const de=(yield R.provideDocumentRangeFormattingEdits(Q,J,Q.getFormattingOptions(),re.token))||[];return G.trace("[format][provideDocumentRangeFormattingEdits] (response)",(he=R.extensionId)===null||he===void 0?void 0:he.value,de),de}),B=(J,ne)=>{if(!J.length||!ne.length)return!1;const he=J.reduce((de,ae)=>i.Range.plusRange(de,ae.range),J[0].range);if(!ne.some(de=>i.Range.intersectRanges(he,de.range)))return!1;for(const de of J)for(const ae of ne)if(i.Range.intersectRanges(de.range,ae.range))return!0;return!1},K=[],Z=[];try{if(typeof R.provideDocumentRangesFormattingEdits=="function"){G.trace("[format][provideDocumentRangeFormattingEdits] (request)",(z=R.extensionId)===null||z===void 0?void 0:z.value,oe);const J=(yield R.provideDocumentRangesFormattingEdits(Q,oe,Q.getFormattingOptions(),re.token))||[];G.trace("[format][provideDocumentRangeFormattingEdits] (response)",(U=R.extensionId)===null||U===void 0?void 0:U.value,J),Z.push(J)}else{for(const J of oe){if(re.token.isCancellationRequested)return!0;Z.push(yield H(J))}for(let J=0;J<oe.length;++J)for(let ne=J+1;ne<oe.length;++ne){if(re.token.isCancellationRequested)return!0;if(B(Z[J],Z[ne])){const he=i.Range.plusRange(oe[J],oe[ne]),de=yield H(he);oe.splice(ne,1),oe.splice(J,1),oe.push(he),Z.splice(ne,1),Z.splice(J,1),Z.push(de),J=0,ne=0}}}for(const J of Z){if(re.token.isCancellationRequested)return!0;const ne=yield O.computeMoreMinimalEdits(Q.uri,J);ne&&K.push(...ne)}}finally{re.dispose()}if(K.length===0)return!1;if((0,s.isCodeEditor)(F))h.FormattingEdit.execute(F,K,!0),g(K),F.revealPositionInCenterIfOutsideViewport(F.getPosition(),1);else{const[{range:J}]=K,ne=new o.Selection(J.startLineNumber,J.startColumn,J.endLineNumber,J.endColumn);Q.pushEditOperations([ne],K.map(he=>({text:he.text,range:i.Range.lift(he.range),forceMoveMarkers:!0})),he=>{for(const{range:de}of he)if(i.Range.areIntersectingOrTouching(de,ne))return[new o.Selection(de.startLineNumber,de.startColumn,de.endLineNumber,de.endColumn)];return null})}return!0})}e.formatDocumentRangesWithProvider=E;function I(N,R,F,x,W){return Le(this,void 0,void 0,function*(){const z=N.get(l.IInstantiationService),U=N.get(u.ILanguageFeaturesService),O=(0,s.isCodeEditor)(R)?R.getModel():R,G=v(U.documentFormattingEditProvider,U.documentRangeFormattingEditProvider,O),Q=yield b.select(G,O,F);Q&&(x.report(Q),yield z.invokeFunction(T,Q,R,F,W))})}e.formatDocumentWithSelectedProvider=I;function T(N,R,F,x,W){return Le(this,void 0,void 0,function*(){const z=N.get(r.IEditorWorkerService);let U,O;(0,s.isCodeEditor)(F)?(U=F.getModel(),O=new p.EditorStateCancellationTokenSource(F,5,void 0,W)):(U=F,O=new p.TextModelCancellationTokenSource(F,W));let G;try{const Q=yield R.provideDocumentFormattingEdits(U,U.getFormattingOptions(),O.token);if(G=yield z.computeMoreMinimalEdits(U.uri,Q),O.token.isCancellationRequested)return!0}finally{O.dispose()}if(!G||G.length===0)return!1;if((0,s.isCodeEditor)(F))h.FormattingEdit.execute(F,G,x!==2),x!==2&&(g(G),F.revealPositionInCenterIfOutsideViewport(F.getPosition(),1));else{const[{range:Q}]=G,re=new o.Selection(Q.startLineNumber,Q.startColumn,Q.endLineNumber,Q.endColumn);U.pushEditOperations([re],G.map(oe=>({text:oe.text,range:i.Range.lift(oe.range),forceMoveMarkers:!0})),oe=>{for(const{range:te}of oe)if(i.Range.areIntersectingOrTouching(te,re))return[new o.Selection(te.startLineNumber,te.startColumn,te.endLineNumber,te.endColumn)];return null})}return!0})}e.formatDocumentWithProvider=T;function P(N,R,F,x,W,z){return Le(this,void 0,void 0,function*(){const U=R.documentRangeFormattingEditProvider.ordered(F);for(const O of U){const G=yield Promise.resolve(O.provideDocumentRangeFormattingEdits(F,x,W,z)).catch(D.onUnexpectedExternalError);if((0,k.isNonEmptyArray)(G))return yield N.computeMoreMinimalEdits(F.uri,G)}})}e.getDocumentRangeFormattingEditsUntilResult=P;function A(N,R,F,x,W){return Le(this,void 0,void 0,function*(){const z=v(R.documentFormattingEditProvider,R.documentRangeFormattingEditProvider,F);for(const U of z){const O=yield Promise.resolve(U.provideDocumentFormattingEdits(F,x,W)).catch(D.onUnexpectedExternalError);if((0,k.isNonEmptyArray)(O))return yield N.computeMoreMinimalEdits(F.uri,O)}})}e.getDocumentFormattingEditsUntilResult=A;function M(N,R,F,x,W,z,U){const O=R.onTypeFormattingEditProvider.ordered(F);return O.length===0||O[0].autoFormatTriggerCharacters.indexOf(W)<0?Promise.resolve(void 0):Promise.resolve(O[0].provideOnTypeFormattingEdits(F,x,W,z,U)).catch(D.onUnexpectedExternalError).then(G=>N.computeMoreMinimalEdits(F.uri,G))}e.getOnTypeFormattingEdits=M,c.CommandsRegistry.registerCommand("_executeFormatRangeProvider",function(N,...R){return Le(this,void 0,void 0,function*(){const[F,x,W]=R;(0,_.assertType)(f.URI.isUri(F)),(0,_.assertType)(i.Range.isIRange(x));const z=N.get(d.ITextModelService),U=N.get(r.IEditorWorkerService),O=N.get(u.ILanguageFeaturesService),G=yield z.createModelReference(F);try{return P(U,O,G.object.textEditorModel,i.Range.lift(x),W,y.CancellationToken.None)}finally{G.dispose()}})}),c.CommandsRegistry.registerCommand("_executeFormatDocumentProvider",function(N,...R){return Le(this,void 0,void 0,function*(){const[F,x]=R;(0,_.assertType)(f.URI.isUri(F));const W=N.get(d.ITextModelService),z=N.get(r.IEditorWorkerService),U=N.get(u.ILanguageFeaturesService),O=yield W.createModelReference(F);try{return A(z,U,O.object.textEditorModel,x,y.CancellationToken.None)}finally{O.dispose()}})}),c.CommandsRegistry.registerCommand("_executeFormatOnTypeProvider",function(N,...R){return Le(this,void 0,void 0,function*(){const[F,x,W,z]=R;(0,_.assertType)(f.URI.isUri(F)),(0,_.assertType)(t.Position.isIPosition(x)),(0,_.assertType)(typeof W=="string");const U=N.get(d.ITextModelService),O=N.get(r.IEditorWorkerService),G=N.get(u.ILanguageFeaturesService),Q=yield U.createModelReference(F);try{return M(O,G,Q.object.textEditorModel,t.Position.lift(x),W,z,y.CancellationToken.None)}finally{Q.dispose()}})})}),define(X[792],ee([1,0,16,20,12,62,2,15,32,119,5,22,114,19,346,291,652,26,13,8,83]),function(q,e,L,k,y,D,S,m,_,f,p,s,t,i,o,r,d,h,n,c,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});let l=class{constructor(b,w,E){this._editor=b,this._languageFeaturesService=w,this._workerService=E,this._disposables=new S.DisposableStore,this._sessionDisposables=new S.DisposableStore,this._disposables.add(w.onTypeFormattingEditProvider.onDidChange(this._update,this)),this._disposables.add(b.onDidChangeModel(()=>this._update())),this._disposables.add(b.onDidChangeModelLanguage(()=>this._update())),this._disposables.add(b.onDidChangeConfiguration(I=>{I.hasChanged(54)&&this._update()})),this._update()}dispose(){this._disposables.dispose(),this._sessionDisposables.dispose()}_update(){if(this._sessionDisposables.clear(),!this._editor.getOption(54)||!this._editor.hasModel())return;const b=this._editor.getModel(),[w]=this._languageFeaturesService.onTypeFormattingEditProvider.ordered(b);if(!w||!w.autoFormatTriggerCharacters)return;const E=new f.CharacterSet;for(const I of w.autoFormatTriggerCharacters)E.add(I.charCodeAt(0));this._sessionDisposables.add(this._editor.onDidType(I=>{const T=I.charCodeAt(I.length-1);E.has(T)&&this._trigger(String.fromCharCode(T))}))}_trigger(b){if(!this._editor.hasModel()||this._editor.getSelections().length>1||!this._editor.getSelection().isEmpty())return;const w=this._editor.getModel(),E=this._editor.getPosition(),I=new k.CancellationTokenSource,T=this._editor.onDidChangeModelContent(P=>{if(P.isFlush){I.cancel(),T.dispose();return}for(let A=0,M=P.changes.length;A<M;A++)if(P.changes[A].range.endLineNumber<=E.lineNumber){I.cancel(),T.dispose();return}});(0,o.getOnTypeFormattingEdits)(this._workerService,this._languageFeaturesService,w,E,b,w.getFormattingOptions(),I.token).then(P=>{I.token.isCancellationRequested||(0,L.isNonEmptyArray)(P)&&(r.FormattingEdit.execute(this._editor,P,!0),(0,o.alertFormattingEdits)(P))}).finally(()=>{T.dispose()})}};l.ID="editor.contrib.autoFormat",l=Ne([ge(1,i.ILanguageFeaturesService),ge(2,t.IEditorWorkerService)],l);let u=class{constructor(b,w,E){this.editor=b,this._languageFeaturesService=w,this._instantiationService=E,this._callOnDispose=new S.DisposableStore,this._callOnModel=new S.DisposableStore,this._callOnDispose.add(b.onDidChangeConfiguration(()=>this._update())),this._callOnDispose.add(b.onDidChangeModel(()=>this._update())),this._callOnDispose.add(b.onDidChangeModelLanguage(()=>this._update())),this._callOnDispose.add(w.documentRangeFormattingEditProvider.onDidChange(this._update,this))}dispose(){this._callOnDispose.dispose(),this._callOnModel.dispose()}_update(){this._callOnModel.clear(),this.editor.getOption(53)&&this.editor.hasModel()&&this._languageFeaturesService.documentRangeFormattingEditProvider.has(this.editor.getModel())&&this._callOnModel.add(this.editor.onDidPaste(({range:b})=>this._trigger(b)))}_trigger(b){this.editor.hasModel()&&(this.editor.getSelections().length>1||this._instantiationService.invokeFunction(o.formatDocumentRangesWithSelectedProvider,this.editor,b,2,a.Progress.None,k.CancellationToken.None).catch(y.onUnexpectedError))}};u.ID="editor.contrib.formatOnPaste",u=Ne([ge(1,i.ILanguageFeaturesService),ge(2,c.IInstantiationService)],u);class C extends m.EditorAction{constructor(){super({id:"editor.action.formatDocument",label:d.localize(0,null),alias:"Format Document",precondition:n.ContextKeyExpr.and(s.EditorContextKeys.notInCompositeEditor,s.EditorContextKeys.writable,s.EditorContextKeys.hasDocumentFormattingProvider),kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:1572,linux:{primary:3111},weight:100},contextMenuOpts:{group:"1_modification",order:1.3}})}run(b,w){return Le(this,void 0,void 0,function*(){if(w.hasModel()){const E=b.get(c.IInstantiationService);yield b.get(a.IEditorProgressService).showWhile(E.invokeFunction(o.formatDocumentWithSelectedProvider,w,1,a.Progress.None,k.CancellationToken.None),250)}})}}class g extends m.EditorAction{constructor(){super({id:"editor.action.formatSelection",label:d.localize(1,null),alias:"Format Selection",precondition:n.ContextKeyExpr.and(s.EditorContextKeys.writable,s.EditorContextKeys.hasDocumentSelectionFormattingProvider),kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:(0,D.KeyChord)(2089,2084),weight:100},contextMenuOpts:{when:s.EditorContextKeys.hasNonEmptySelection,group:"1_modification",order:1.31}})}run(b,w){return Le(this,void 0,void 0,function*(){if(!w.hasModel())return;const E=b.get(c.IInstantiationService),I=w.getModel(),T=w.getSelections().map(A=>A.isEmpty()?new p.Range(A.startLineNumber,1,A.startLineNumber,I.getLineMaxColumn(A.startLineNumber)):A);yield b.get(a.IEditorProgressService).showWhile(E.invokeFunction(o.formatDocumentRangesWithSelectedProvider,w,T,1,a.Progress.None,k.CancellationToken.None),250)})}}(0,m.registerEditorContribution)(l.ID,l,2),(0,m.registerEditorContribution)(u.ID,u,2),(0,m.registerEditorAction)(C),(0,m.registerEditorAction)(g),h.CommandsRegistry.registerCommand("editor.action.format",v=>Le(void 0,void 0,void 0,function*(){const b=v.get(_.ICodeEditorService).getFocusedCodeEditor();if(!b||!b.hasModel())return;const w=v.get(h.ICommandService);b.getSelection().isEmpty()?yield w.executeCommand("editor.action.formatDocument"):yield w.executeCommand("editor.action.formatSelection")}))}),define(X[247],ee([1,0,16,20,12,15,19,155]),function(q,e,L,k,y,D,S,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getReferencesAtPosition=e.getTypeDefinitionsAtPosition=e.getImplementationsAtPosition=e.getDeclarationsAtPosition=e.getDefinitionsAtPosition=void 0;function _(r,d,h,n){return Le(this,void 0,void 0,function*(){const a=h.ordered(r).map(u=>Promise.resolve(n(u,r,d)).then(void 0,C=>{(0,y.onUnexpectedExternalError)(C)})),l=yield Promise.all(a);return(0,L.coalesce)(l.flat())})}function f(r,d,h,n){return _(d,h,r,(c,a,l)=>c.provideDefinition(a,l,n))}e.getDefinitionsAtPosition=f;function p(r,d,h,n){return _(d,h,r,(c,a,l)=>c.provideDeclaration(a,l,n))}e.getDeclarationsAtPosition=p;function s(r,d,h,n){return _(d,h,r,(c,a,l)=>c.provideImplementation(a,l,n))}e.getImplementationsAtPosition=s;function t(r,d,h,n){return _(d,h,r,(c,a,l)=>c.provideTypeDefinition(a,l,n))}e.getTypeDefinitionsAtPosition=t;function i(r,d,h,n,c){return _(d,h,r,(a,l,u)=>Le(this,void 0,void 0,function*(){const C=yield a.provideReferences(l,u,{includeDeclaration:!0},c);if(!n||!C||C.length!==2)return C;const g=yield a.provideReferences(l,u,{includeDeclaration:!1},c);return g&&g.length===1?g:C}))}e.getReferencesAtPosition=i;function o(r){return Le(this,void 0,void 0,function*(){const d=yield r(),h=new m.ReferencesModel(d,""),n=h.references.map(c=>c.link);return h.dispose(),n})}(0,D.registerModelAndPositionCommand)("_executeDefinitionProvider",(r,d,h)=>{const n=r.get(S.ILanguageFeaturesService),c=f(n.definitionProvider,d,h,k.CancellationToken.None);return o(()=>c)}),(0,D.registerModelAndPositionCommand)("_executeTypeDefinitionProvider",(r,d,h)=>{const n=r.get(S.ILanguageFeaturesService),c=t(n.typeDefinitionProvider,d,h,k.CancellationToken.None);return o(()=>c)}),(0,D.registerModelAndPositionCommand)("_executeDeclarationProvider",(r,d,h)=>{const n=r.get(S.ILanguageFeaturesService),c=p(n.declarationProvider,d,h,k.CancellationToken.None);return o(()=>c)}),(0,D.registerModelAndPositionCommand)("_executeReferenceProvider",(r,d,h)=>{const n=r.get(S.ILanguageFeaturesService),c=i(n.referenceProvider,d,h,!1,k.CancellationToken.None);return o(()=>c)}),(0,D.registerModelAndPositionCommand)("_executeImplementationProvider",(r,d,h)=>{const n=r.get(S.ILanguageFeaturesService),c=s(n.implementationProvider,d,h,k.CancellationToken.None);return o(()=>c)})}),define(X[793],ee([1,0,6,2,43,15,32,5,661,13,48,8,37,116,44]),function(q,e,L,k,y,D,S,m,_,f,p,s,t,i,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ISymbolNavigationService=e.ctxHasSymbols=void 0,e.ctxHasSymbols=new f.RawContextKey("hasSymbols",!1,(0,_.localize)(0,null)),e.ISymbolNavigationService=(0,s.createDecorator)("ISymbolNavigationService");let r=class{constructor(n,c,a,l){this._editorService=c,this._notificationService=a,this._keybindingService=l,this._currentModel=void 0,this._currentIdx=-1,this._ignoreEditorChange=!1,this._ctxHasSymbols=e.ctxHasSymbols.bindTo(n)}reset(){var n,c;this._ctxHasSymbols.reset(),(n=this._currentState)===null||n===void 0||n.dispose(),(c=this._currentMessage)===null||c===void 0||c.dispose(),this._currentModel=void 0,this._currentIdx=-1}put(n){const c=n.parent.parent;if(c.references.length<=1){this.reset();return}this._currentModel=c,this._currentIdx=c.references.indexOf(n),this._ctxHasSymbols.set(!0),this._showMessage();const a=new d(this._editorService),l=a.onDidChange(u=>{if(this._ignoreEditorChange)return;const C=this._editorService.getActiveCodeEditor();if(!C)return;const g=C.getModel(),v=C.getPosition();if(!g||!v)return;let b=!1,w=!1;for(const E of c.references)if((0,y.isEqual)(E.uri,g.uri))b=!0,w=w||m.Range.containsPosition(E.range,v);else if(b)break;(!b||!w)&&this.reset()});this._currentState=(0,k.combinedDisposable)(a,l)}revealNext(n){if(!this._currentModel)return Promise.resolve();this._currentIdx+=1,this._currentIdx%=this._currentModel.references.length;const c=this._currentModel.references[this._currentIdx];return this._showMessage(),this._ignoreEditorChange=!0,this._editorService.openCodeEditor({resource:c.uri,options:{selection:m.Range.collapseToStart(c.range),selectionRevealType:3}},n).finally(()=>{this._ignoreEditorChange=!1})}_showMessage(){var n;(n=this._currentMessage)===null||n===void 0||n.dispose();const c=this._keybindingService.lookupKeybinding("editor.gotoNextSymbolFromResult"),a=c?(0,_.localize)(1,null,this._currentIdx+1,this._currentModel.references.length,c.getLabel()):(0,_.localize)(2,null,this._currentIdx+1,this._currentModel.references.length);this._currentMessage=this._notificationService.status(a)}};r=Ne([ge(0,f.IContextKeyService),ge(1,S.ICodeEditorService),ge(2,o.INotificationService),ge(3,t.IKeybindingService)],r),(0,p.registerSingleton)(e.ISymbolNavigationService,r,1),(0,D.registerEditorCommand)(new class extends D.EditorCommand{constructor(){super({id:"editor.gotoNextSymbolFromResult",precondition:e.ctxHasSymbols,kbOpts:{weight:100,primary:70}})}runEditorCommand(h,n){return h.get(e.ISymbolNavigationService).revealNext(n)}}),i.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"editor.gotoNextSymbolFromResult.cancel",weight:100,when:e.ctxHasSymbols,primary:9,handler(h){h.get(e.ISymbolNavigationService).reset()}});let d=class{constructor(n){this._listener=new Map,this._disposables=new k.DisposableStore,this._onDidChange=new L.Emitter,this.onDidChange=this._onDidChange.event,this._disposables.add(n.onCodeEditorRemove(this._onDidRemoveEditor,this)),this._disposables.add(n.onCodeEditorAdd(this._onDidAddEditor,this)),n.listCodeEditors().forEach(this._onDidAddEditor,this)}dispose(){this._disposables.dispose(),this._onDidChange.dispose(),(0,k.dispose)(this._listener.values())}_onDidAddEditor(n){this._listener.set(n,(0,k.combinedDisposable)(n.onDidChangeCursorPosition(c=>this._onDidChange.fire({editor:n})),n.onDidChangeModelContent(c=>this._onDidChange.fire({editor:n}))))}_onDidRemoveEditor(n){var c;(c=this._listener.get(n))===null||c===void 0||c.dispose(),this._listener.delete(n)}};d=Ne([ge(0,S.ICodeEditorService)],d)}),define(X[347],ee([1,0,14,20,12,15,19]),function(q,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getHoverPromise=e.getHover=e.HoverProviderResult=void 0;class m{constructor(i,o,r){this.provider=i,this.hover=o,this.ordinal=r}}e.HoverProviderResult=m;function _(t,i,o,r,d){return Le(this,void 0,void 0,function*(){try{const h=yield Promise.resolve(t.provideHover(o,r,d));if(h&&s(h))return new m(t,h,i)}catch(h){(0,y.onUnexpectedExternalError)(h)}})}function f(t,i,o,r){const h=t.ordered(i).map((n,c)=>_(n,c,i,o,r));return L.AsyncIterableObject.fromPromises(h).coalesce()}e.getHover=f;function p(t,i,o,r){return f(t,i,o,r).map(d=>d.hover).toPromise()}e.getHoverPromise=p,(0,D.registerModelAndPositionCommand)("_executeHoverProvider",(t,i,o)=>{const r=t.get(S.ILanguageFeaturesService);return p(r.hoverProvider,i,o,k.CancellationToken.None)});function s(t){const i=typeof t.range<"u",o=typeof t.contents<"u"&&t.contents&&t.contents.length>0;return i&&o}}),define(X[248],ee([1,0,7,16,14,55,2,115,11,5,41,347,663,28,56,19]),function(q,e,L,k,y,D,S,m,_,f,p,s,t,i,o,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.renderMarkdownHovers=e.MarkdownHoverParticipant=e.MarkdownHover=void 0;const d=L.$;class h{constructor(l,u,C,g,v){this.owner=l,this.range=u,this.contents=C,this.isBeforeContent=g,this.ordinal=v}isValidForHoverAnchor(l){return l.type===1&&this.range.startColumn<=l.range.startColumn&&this.range.endColumn>=l.range.endColumn}}e.MarkdownHover=h;let n=e.MarkdownHoverParticipant=class{constructor(l,u,C,g,v){this._editor=l,this._languageService=u,this._openerService=C,this._configurationService=g,this._languageFeaturesService=v,this.hoverOrdinal=3}createLoadingMessage(l){return new h(this,l.range,[new D.MarkdownString().appendText(t.localize(0,null))],!1,2e3)}computeSync(l,u){if(!this._editor.hasModel()||l.type!==1)return[];const C=this._editor.getModel(),g=l.range.startLineNumber,v=C.getLineMaxColumn(g),b=[];let w=1e3;const E=C.getLineLength(g),I=C.getLanguageIdAtPosition(l.range.startLineNumber,l.range.startColumn),T=this._editor.getOption(114),P=this._configurationService.getValue("editor.maxTokenizationLineLength",{overrideIdentifier:I});let A=!1;T>=0&&E>T&&l.range.startColumn>=T&&(A=!0,b.push(new h(this,l.range,[{value:t.localize(1,null)}],!1,w++))),!A&&typeof P=="number"&&E>=P&&b.push(new h(this,l.range,[{value:t.localize(2,null)}],!1,w++));let M=!1;for(const N of u){const R=N.range.startLineNumber===g?N.range.startColumn:1,F=N.range.endLineNumber===g?N.range.endColumn:v,x=N.options.hoverMessage;if(!x||(0,D.isEmptyMarkdownString)(x))continue;N.options.beforeContentClassName&&(M=!0);const W=new f.Range(l.range.startLineNumber,R,l.range.startLineNumber,F);b.push(new h(this,W,(0,k.asArray)(x),M,w++))}return b}computeAsync(l,u,C){if(!this._editor.hasModel()||l.type!==1)return y.AsyncIterableObject.EMPTY;const g=this._editor.getModel();if(!this._languageFeaturesService.hoverProvider.has(g))return y.AsyncIterableObject.EMPTY;const v=new _.Position(l.range.startLineNumber,l.range.startColumn);return(0,s.getHover)(this._languageFeaturesService.hoverProvider,g,v,C).filter(b=>!(0,D.isEmptyMarkdownString)(b.hover.contents)).map(b=>{const w=b.hover.range?f.Range.lift(b.hover.range):l.range;return new h(this,w,b.hover.contents,!1,b.ordinal)})}renderHoverParts(l,u){return c(l,u,this._editor,this._languageService,this._openerService)}};e.MarkdownHoverParticipant=n=Ne([ge(1,p.ILanguageService),ge(2,o.IOpenerService),ge(3,i.IConfigurationService),ge(4,r.ILanguageFeaturesService)],n);function c(a,l,u,C,g){l.sort((b,w)=>b.ordinal-w.ordinal);const v=new S.DisposableStore;for(const b of l)for(const w of b.contents){if((0,D.isEmptyMarkdownString)(w))continue;const E=d("div.hover-row.markdown-hover"),I=L.append(E,d("div.hover-contents")),T=v.add(new m.MarkdownRenderer({editor:u},C,g));v.add(T.onDidRenderAsync(()=>{I.className="hover-contents code-hover-contents",a.onContentsChanged()}));const P=v.add(T.render(w));I.appendChild(P.element),a.fragment.appendChild(E)}return v}e.renderMarkdownHovers=c}),define(X[794],ee([1,0,2,9,15,245,71,5,24,22,30,49,292,666,76,201,243]),function(q,e,L,k,y,D,S,m,_,f,p,s,t,i,o,r,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IndentationToTabsCommand=e.IndentationToSpacesCommand=e.AutoIndentOnPaste=e.AutoIndentOnPasteCommand=e.ReindentSelectedLinesAction=e.ReindentLinesAction=e.DetectIndentation=e.ChangeTabDisplaySize=e.IndentUsingSpaces=e.IndentUsingTabs=e.ChangeIndentationSizeAction=e.IndentationToTabsAction=e.IndentationToSpacesAction=e.getReindentEditOperations=void 0;function h(A,M,N,R,F){if(A.getLineCount()===1&&A.getLineMaxColumn(1)===1)return[];const x=M.getLanguageConfiguration(A.getLanguageId()).indentationRules;if(!x)return[];for(R=Math.min(R,A.getLineCount());N<=R&&x.unIndentedLinePattern;){const B=A.getLineContent(N);if(!x.unIndentedLinePattern.test(B))break;N++}if(N>R-1)return[];const{tabSize:W,indentSize:z,insertSpaces:U}=A.getOptions(),O=(B,K)=>(K=K||1,D.ShiftCommand.shiftIndent(B,B.length+K,W,z,U)),G=(B,K)=>(K=K||1,D.ShiftCommand.unshiftIndent(B,B.length+K,W,z,U)),Q=[];let re;const oe=A.getLineContent(N);let te=oe;if(F!=null){re=F;const B=k.getLeadingWhitespace(oe);te=re+oe.substring(B.length),x.decreaseIndentPattern&&x.decreaseIndentPattern.test(te)&&(re=G(re),te=re+oe.substring(B.length)),oe!==te&&Q.push(S.EditOperation.replaceMove(new _.Selection(N,1,N,B.length+1),(0,r.normalizeIndentation)(re,z,U)))}else re=k.getLeadingWhitespace(oe);let H=re;x.increaseIndentPattern&&x.increaseIndentPattern.test(te)?(H=O(H),re=O(re)):x.indentNextLinePattern&&x.indentNextLinePattern.test(te)&&(H=O(H)),N++;for(let B=N;B<=R;B++){const K=A.getLineContent(B),Z=k.getLeadingWhitespace(K),J=H+K.substring(Z.length);x.decreaseIndentPattern&&x.decreaseIndentPattern.test(J)&&(H=G(H),re=G(re)),Z!==H&&Q.push(S.EditOperation.replaceMove(new _.Selection(B,1,B,Z.length+1),(0,r.normalizeIndentation)(H,z,U))),!(x.unIndentedLinePattern&&x.unIndentedLinePattern.test(K))&&(x.increaseIndentPattern&&x.increaseIndentPattern.test(J)?(re=O(re),H=re):x.indentNextLinePattern&&x.indentNextLinePattern.test(J)?H=O(H):H=re)}return Q}e.getReindentEditOperations=h;class n extends y.EditorAction{constructor(){super({id:n.ID,label:i.localize(0,null),alias:"Convert Indentation to Spaces",precondition:f.EditorContextKeys.writable})}run(M,N){const R=N.getModel();if(!R)return;const F=R.getOptions(),x=N.getSelection();if(!x)return;const W=new T(x,F.tabSize);N.pushUndoStop(),N.executeCommands(this.id,[W]),N.pushUndoStop(),R.updateOptions({insertSpaces:!0})}}e.IndentationToSpacesAction=n,n.ID="editor.action.indentationToSpaces";class c extends y.EditorAction{constructor(){super({id:c.ID,label:i.localize(1,null),alias:"Convert Indentation to Tabs",precondition:f.EditorContextKeys.writable})}run(M,N){const R=N.getModel();if(!R)return;const F=R.getOptions(),x=N.getSelection();if(!x)return;const W=new P(x,F.tabSize);N.pushUndoStop(),N.executeCommands(this.id,[W]),N.pushUndoStop(),R.updateOptions({insertSpaces:!1})}}e.IndentationToTabsAction=c,c.ID="editor.action.indentationToTabs";class a extends y.EditorAction{constructor(M,N,R){super(R),this.insertSpaces=M,this.displaySizeOnly=N}run(M,N){const R=M.get(o.IQuickInputService),F=M.get(s.IModelService),x=N.getModel();if(!x)return;const W=F.getCreationOptions(x.getLanguageId(),x.uri,x.isForSimpleWidget),z=x.getOptions(),U=[1,2,3,4,5,6,7,8].map(G=>({id:G.toString(),label:G.toString(),description:G===W.tabSize&&G===z.tabSize?i.localize(2,null):G===W.tabSize?i.localize(3,null):G===z.tabSize?i.localize(4,null):void 0})),O=Math.min(x.getOptions().tabSize-1,7);setTimeout(()=>{R.pick(U,{placeHolder:i.localize(5,null),activeItem:U[O]}).then(G=>{if(G&&x&&!x.isDisposed()){const Q=parseInt(G.label,10);this.displaySizeOnly?x.updateOptions({tabSize:Q}):x.updateOptions({tabSize:Q,indentSize:Q,insertSpaces:this.insertSpaces})}})},50)}}e.ChangeIndentationSizeAction=a;class l extends a{constructor(){super(!1,!1,{id:l.ID,label:i.localize(6,null),alias:"Indent Using Tabs",precondition:void 0})}}e.IndentUsingTabs=l,l.ID="editor.action.indentUsingTabs";class u extends a{constructor(){super(!0,!1,{id:u.ID,label:i.localize(7,null),alias:"Indent Using Spaces",precondition:void 0})}}e.IndentUsingSpaces=u,u.ID="editor.action.indentUsingSpaces";class C extends a{constructor(){super(!0,!0,{id:C.ID,label:i.localize(8,null),alias:"Change Tab Display Size",precondition:void 0})}}e.ChangeTabDisplaySize=C,C.ID="editor.action.changeTabDisplaySize";class g extends y.EditorAction{constructor(){super({id:g.ID,label:i.localize(9,null),alias:"Detect Indentation from Content",precondition:void 0})}run(M,N){const R=M.get(s.IModelService),F=N.getModel();if(!F)return;const x=R.getCreationOptions(F.getLanguageId(),F.uri,F.isForSimpleWidget);F.detectIndentation(x.insertSpaces,x.tabSize)}}e.DetectIndentation=g,g.ID="editor.action.detectIndentation";class v extends y.EditorAction{constructor(){super({id:"editor.action.reindentlines",label:i.localize(10,null),alias:"Reindent Lines",precondition:f.EditorContextKeys.writable})}run(M,N){const R=M.get(p.ILanguageConfigurationService),F=N.getModel();if(!F)return;const x=h(F,R,1,F.getLineCount());x.length>0&&(N.pushUndoStop(),N.executeEdits(this.id,x),N.pushUndoStop())}}e.ReindentLinesAction=v;class b extends y.EditorAction{constructor(){super({id:"editor.action.reindentselectedlines",label:i.localize(11,null),alias:"Reindent Selected Lines",precondition:f.EditorContextKeys.writable})}run(M,N){const R=M.get(p.ILanguageConfigurationService),F=N.getModel();if(!F)return;const x=N.getSelections();if(x===null)return;const W=[];for(const z of x){let U=z.startLineNumber,O=z.endLineNumber;if(U!==O&&z.endColumn===1&&O--,U===1){if(U===O)continue}else U--;const G=h(F,R,U,O);W.push(...G)}W.length>0&&(N.pushUndoStop(),N.executeEdits(this.id,W),N.pushUndoStop())}}e.ReindentSelectedLinesAction=b;class w{constructor(M,N){this._initialSelection=N,this._edits=[],this._selectionId=null;for(const R of M)R.range&&typeof R.text=="string"&&this._edits.push(R)}getEditOperations(M,N){for(const F of this._edits)N.addEditOperation(m.Range.lift(F.range),F.text);let R=!1;Array.isArray(this._edits)&&this._edits.length===1&&this._initialSelection.isEmpty()&&(this._edits[0].range.startColumn===this._initialSelection.endColumn&&this._edits[0].range.startLineNumber===this._initialSelection.endLineNumber?(R=!0,this._selectionId=N.trackSelection(this._initialSelection,!0)):this._edits[0].range.endColumn===this._initialSelection.startColumn&&this._edits[0].range.endLineNumber===this._initialSelection.startLineNumber&&(R=!0,this._selectionId=N.trackSelection(this._initialSelection,!1))),R||(this._selectionId=N.trackSelection(this._initialSelection))}computeCursorState(M,N){return N.getTrackedSelection(this._selectionId)}}e.AutoIndentOnPasteCommand=w;let E=e.AutoIndentOnPaste=class{constructor(M,N){this.editor=M,this._languageConfigurationService=N,this.callOnDispose=new L.DisposableStore,this.callOnModel=new L.DisposableStore,this.callOnDispose.add(M.onDidChangeConfiguration(()=>this.update())),this.callOnDispose.add(M.onDidChangeModel(()=>this.update())),this.callOnDispose.add(M.onDidChangeModelLanguage(()=>this.update()))}update(){this.callOnModel.clear(),!(this.editor.getOption(10)<4||this.editor.getOption(53))&&this.editor.hasModel()&&this.callOnModel.add(this.editor.onDidPaste(({range:M})=>{this.trigger(M)}))}trigger(M){const N=this.editor.getSelections();if(N===null||N.length>1)return;const R=this.editor.getModel();if(!R||!R.tokenization.isCheapToTokenize(M.getStartPosition().lineNumber))return;const F=this.editor.getOption(10),{tabSize:x,indentSize:W,insertSpaces:z}=R.getOptions(),U=[],O={shiftIndent:oe=>D.ShiftCommand.shiftIndent(oe,oe.length+1,x,W,z),unshiftIndent:oe=>D.ShiftCommand.unshiftIndent(oe,oe.length+1,x,W,z)};let G=M.startLineNumber;for(;G<=M.endLineNumber;){if(this.shouldIgnoreLine(R,G)){G++;continue}break}if(G>M.endLineNumber)return;let Q=R.getLineContent(G);if(!/\S/.test(Q.substring(0,M.startColumn-1))){const oe=(0,d.getGoodIndentForLine)(F,R,R.getLanguageId(),G,O,this._languageConfigurationService);if(oe!==null){const te=k.getLeadingWhitespace(Q),H=t.getSpaceCnt(oe,x),B=t.getSpaceCnt(te,x);if(H!==B){const K=t.generateIndent(H,x,z);U.push({range:new m.Range(G,1,G,te.length+1),text:K}),Q=K+Q.substr(te.length)}else{const K=(0,d.getIndentMetadata)(R,G,this._languageConfigurationService);if(K===0||K===8)return}}}const re=G;for(;G<M.endLineNumber;){if(!/\S/.test(R.getLineContent(G+1))){G++;continue}break}if(G!==M.endLineNumber){const oe={tokenization:{getLineTokens:H=>R.tokenization.getLineTokens(H),getLanguageId:()=>R.getLanguageId(),getLanguageIdAtPosition:(H,B)=>R.getLanguageIdAtPosition(H,B)},getLineContent:H=>H===re?Q:R.getLineContent(H)},te=(0,d.getGoodIndentForLine)(F,oe,R.getLanguageId(),G+1,O,this._languageConfigurationService);if(te!==null){const H=t.getSpaceCnt(te,x),B=t.getSpaceCnt(k.getLeadingWhitespace(R.getLineContent(G+1)),x);if(H!==B){const K=H-B;for(let Z=G+1;Z<=M.endLineNumber;Z++){const J=R.getLineContent(Z),ne=k.getLeadingWhitespace(J),de=t.getSpaceCnt(ne,x)+K,ae=t.generateIndent(de,x,z);ae!==ne&&U.push({range:new m.Range(Z,1,Z,ne.length+1),text:ae})}}}}if(U.length>0){this.editor.pushUndoStop();const oe=new w(U,this.editor.getSelection());this.editor.executeCommand("autoIndentOnPaste",oe),this.editor.pushUndoStop()}}shouldIgnoreLine(M,N){M.tokenization.forceTokenization(N);const R=M.getLineFirstNonWhitespaceColumn(N);if(R===0)return!0;const F=M.tokenization.getLineTokens(N);if(F.getCount()>0){const x=F.findTokenIndexAtOffset(R);if(x>=0&&F.getStandardTokenType(x)===1)return!0}return!1}dispose(){this.callOnDispose.dispose(),this.callOnModel.dispose()}};E.ID="editor.contrib.autoIndentOnPaste",e.AutoIndentOnPaste=E=Ne([ge(1,p.ILanguageConfigurationService)],E);function I(A,M,N,R){if(A.getLineCount()===1&&A.getLineMaxColumn(1)===1)return;let F="";for(let W=0;W<N;W++)F+=" ";const x=new RegExp(F,"gi");for(let W=1,z=A.getLineCount();W<=z;W++){let U=A.getLineFirstNonWhitespaceColumn(W);if(U===0&&(U=A.getLineMaxColumn(W)),U===1)continue;const O=new m.Range(W,1,W,U),G=A.getValueInRange(O),Q=R?G.replace(/\t/ig,F):G.replace(x,"	");M.addEditOperation(O,Q)}}class T{constructor(M,N){this.selection=M,this.tabSize=N,this.selectionId=null}getEditOperations(M,N){this.selectionId=N.trackSelection(this.selection),I(M,N,this.tabSize,!0)}computeCursorState(M,N){return N.getTrackedSelection(this.selectionId)}}e.IndentationToSpacesCommand=T;class P{constructor(M,N){this.selection=M,this.tabSize=N,this.selectionId=null}getEditOperations(M,N){this.selectionId=N.trackSelection(this.selection),I(M,N,this.tabSize,!1)}computeCursorState(M,N){return N.getTrackedSelection(this.selectionId)}}e.IndentationToTabsCommand=P,(0,y.registerEditorContribution)(E.ID,E,2),(0,y.registerEditorAction)(n),(0,y.registerEditorAction)(c),(0,y.registerEditorAction)(l),(0,y.registerEditorAction)(u),(0,y.registerEditorAction)(C),(0,y.registerEditorAction)(g),(0,y.registerEditorAction)(v),(0,y.registerEditorAction)(b)}),define(X[795],ee([1,0,15,204,22,672]),function(q,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExpandLineSelectionAction=void 0;class S extends L.EditorAction{constructor(){super({id:"expandLineSelection",label:D.localize(0,null),alias:"Expand Line Selection",precondition:void 0,kbOpts:{weight:0,kbExpr:y.EditorContextKeys.textInputFocus,primary:2090}})}run(_,f,p){if(p=p||{},!f.hasModel())return;const s=f._getViewModel();s.model.pushStackElement(),s.setCursorStates(p.source,3,k.CursorMoveCommands.expandLineSelection(s,s.getCursorStates())),s.revealPrimaryCursor(p.source,!0)}}e.ExpandLineSelectionAction=S,(0,L.registerEditorAction)(S)}),define(X[796],ee([1,0,62,190,15,122,478,246,71,11,5,24,22,540,769,541,673,31,30]),function(q,e,L,k,y,D,S,m,_,f,p,s,t,i,o,r,d,h,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.KebabCaseAction=e.CamelCaseAction=e.SnakeCaseAction=e.TitleCaseAction=e.LowerCaseAction=e.UpperCaseAction=e.AbstractCaseAction=e.TransposeAction=e.JoinLinesAction=e.DeleteAllRightAction=e.DeleteAllLeftAction=e.AbstractDeleteAllToBoundaryAction=e.InsertLineAfterAction=e.InsertLineBeforeAction=e.IndentLinesAction=e.DeleteLinesAction=e.TrimTrailingWhitespaceAction=e.DeleteDuplicateLinesAction=e.SortLinesDescendingAction=e.SortLinesAscendingAction=e.AbstractSortLinesAction=e.DuplicateSelectionAction=void 0;class c extends y.EditorAction{constructor(Z,J){super(J),this.down=Z}run(Z,J){if(!J.hasModel())return;const ne=J.getSelections().map((ae,ce)=>({selection:ae,index:ce,ignore:!1}));ne.sort((ae,ce)=>p.Range.compareRangesUsingStarts(ae.selection,ce.selection));let he=ne[0];for(let ae=1;ae<ne.length;ae++){const ce=ne[ae];he.selection.endLineNumber===ce.selection.startLineNumber&&(he.index<ce.index?ce.ignore=!0:(he.ignore=!0,he=ce))}const de=[];for(const ae of ne)de.push(new i.CopyLinesCommand(ae.selection,this.down,ae.ignore));J.pushUndoStop(),J.executeCommands(this.id,de),J.pushUndoStop()}}class a extends c{constructor(){super(!1,{id:"editor.action.copyLinesUpAction",label:d.localize(0,null),alias:"Copy Line Up",precondition:t.EditorContextKeys.writable,kbOpts:{kbExpr:t.EditorContextKeys.editorTextFocus,primary:1552,linux:{primary:3600},weight:100},menuOpts:{menuId:h.MenuId.MenubarSelectionMenu,group:"2_line",title:d.localize(1,null),order:1}})}}class l extends c{constructor(){super(!0,{id:"editor.action.copyLinesDownAction",label:d.localize(2,null),alias:"Copy Line Down",precondition:t.EditorContextKeys.writable,kbOpts:{kbExpr:t.EditorContextKeys.editorTextFocus,primary:1554,linux:{primary:3602},weight:100},menuOpts:{menuId:h.MenuId.MenubarSelectionMenu,group:"2_line",title:d.localize(3,null),order:2}})}}class u extends y.EditorAction{constructor(){super({id:"editor.action.duplicateSelection",label:d.localize(4,null),alias:"Duplicate Selection",precondition:t.EditorContextKeys.writable,menuOpts:{menuId:h.MenuId.MenubarSelectionMenu,group:"2_line",title:d.localize(5,null),order:5}})}run(Z,J,ne){if(!J.hasModel())return;const he=[],de=J.getSelections(),ae=J.getModel();for(const ce of de)if(ce.isEmpty())he.push(new i.CopyLinesCommand(ce,!0));else{const $=new s.Selection(ce.endLineNumber,ce.endColumn,ce.endLineNumber,ce.endColumn);he.push(new D.ReplaceCommandThatSelectsText($,ae.getValueInRange(ce)))}J.pushUndoStop(),J.executeCommands(this.id,he),J.pushUndoStop()}}e.DuplicateSelectionAction=u;class C extends y.EditorAction{constructor(Z,J){super(J),this.down=Z}run(Z,J){const ne=Z.get(n.ILanguageConfigurationService),he=[],de=J.getSelections()||[],ae=J.getOption(10);for(const ce of de)he.push(new o.MoveLinesCommand(ce,this.down,ae,ne));J.pushUndoStop(),J.executeCommands(this.id,he),J.pushUndoStop()}}class g extends C{constructor(){super(!1,{id:"editor.action.moveLinesUpAction",label:d.localize(6,null),alias:"Move Line Up",precondition:t.EditorContextKeys.writable,kbOpts:{kbExpr:t.EditorContextKeys.editorTextFocus,primary:528,linux:{primary:528},weight:100},menuOpts:{menuId:h.MenuId.MenubarSelectionMenu,group:"2_line",title:d.localize(7,null),order:3}})}}class v extends C{constructor(){super(!0,{id:"editor.action.moveLinesDownAction",label:d.localize(8,null),alias:"Move Line Down",precondition:t.EditorContextKeys.writable,kbOpts:{kbExpr:t.EditorContextKeys.editorTextFocus,primary:530,linux:{primary:530},weight:100},menuOpts:{menuId:h.MenuId.MenubarSelectionMenu,group:"2_line",title:d.localize(9,null),order:4}})}}class b extends y.EditorAction{constructor(Z,J){super(J),this.descending=Z}run(Z,J){const ne=J.getSelections()||[];for(const de of ne)if(!r.SortLinesCommand.canRun(J.getModel(),de,this.descending))return;const he=[];for(let de=0,ae=ne.length;de<ae;de++)he[de]=new r.SortLinesCommand(ne[de],this.descending);J.pushUndoStop(),J.executeCommands(this.id,he),J.pushUndoStop()}}e.AbstractSortLinesAction=b;class w extends b{constructor(){super(!1,{id:"editor.action.sortLinesAscending",label:d.localize(10,null),alias:"Sort Lines Ascending",precondition:t.EditorContextKeys.writable})}}e.SortLinesAscendingAction=w;class E extends b{constructor(){super(!0,{id:"editor.action.sortLinesDescending",label:d.localize(11,null),alias:"Sort Lines Descending",precondition:t.EditorContextKeys.writable})}}e.SortLinesDescendingAction=E;class I extends y.EditorAction{constructor(){super({id:"editor.action.removeDuplicateLines",label:d.localize(12,null),alias:"Delete Duplicate Lines",precondition:t.EditorContextKeys.writable})}run(Z,J){if(!J.hasModel())return;const ne=J.getModel();if(ne.getLineCount()===1&&ne.getLineMaxColumn(1)===1)return;const he=[],de=[];let ae=0;for(const ce of J.getSelections()){const $=new Set,V=[];for(let Y=ce.startLineNumber;Y<=ce.endLineNumber;Y++){const le=ne.getLineContent(Y);$.has(le)||(V.push(le),$.add(le))}const j=new s.Selection(ce.startLineNumber,1,ce.endLineNumber,ne.getLineMaxColumn(ce.endLineNumber)),se=ce.startLineNumber-ae,ie=new s.Selection(se,1,se+V.length-1,V[V.length-1].length);he.push(_.EditOperation.replace(j,V.join(`
`))),de.push(ie),ae+=ce.endLineNumber-ce.startLineNumber+1-V.length}J.pushUndoStop(),J.executeEdits(this.id,he,de),J.pushUndoStop()}}e.DeleteDuplicateLinesAction=I;class T extends y.EditorAction{constructor(){super({id:T.ID,label:d.localize(13,null),alias:"Trim Trailing Whitespace",precondition:t.EditorContextKeys.writable,kbOpts:{kbExpr:t.EditorContextKeys.editorTextFocus,primary:(0,L.KeyChord)(2089,2102),weight:100}})}run(Z,J,ne){let he=[];ne.reason==="auto-save"&&(he=(J.getSelections()||[]).map(ce=>new f.Position(ce.positionLineNumber,ce.positionColumn)));const de=J.getSelection();if(de===null)return;const ae=new S.TrimTrailingWhitespaceCommand(de,he);J.pushUndoStop(),J.executeCommands(this.id,[ae]),J.pushUndoStop()}}e.TrimTrailingWhitespaceAction=T,T.ID="editor.action.trimTrailingWhitespace";class P extends y.EditorAction{constructor(){super({id:"editor.action.deleteLines",label:d.localize(14,null),alias:"Delete Line",precondition:t.EditorContextKeys.writable,kbOpts:{kbExpr:t.EditorContextKeys.textInputFocus,primary:3113,weight:100}})}run(Z,J){if(!J.hasModel())return;const ne=this._getLinesToRemove(J),he=J.getModel();if(he.getLineCount()===1&&he.getLineMaxColumn(1)===1)return;let de=0;const ae=[],ce=[];for(let $=0,V=ne.length;$<V;$++){const j=ne[$];let se=j.startLineNumber,ie=j.endLineNumber,Y=1,le=he.getLineMaxColumn(ie);ie<he.getLineCount()?(ie+=1,le=1):se>1&&(se-=1,Y=he.getLineMaxColumn(se)),ae.push(_.EditOperation.replace(new s.Selection(se,Y,ie,le),"")),ce.push(new s.Selection(se-de,j.positionColumn,se-de,j.positionColumn)),de+=j.endLineNumber-j.startLineNumber+1}J.pushUndoStop(),J.executeEdits(this.id,ae,ce),J.pushUndoStop()}_getLinesToRemove(Z){const J=Z.getSelections().map(de=>{let ae=de.endLineNumber;return de.startLineNumber<de.endLineNumber&&de.endColumn===1&&(ae-=1),{startLineNumber:de.startLineNumber,selectionStartColumn:de.selectionStartColumn,endLineNumber:ae,positionColumn:de.positionColumn}});J.sort((de,ae)=>de.startLineNumber===ae.startLineNumber?de.endLineNumber-ae.endLineNumber:de.startLineNumber-ae.startLineNumber);const ne=[];let he=J[0];for(let de=1;de<J.length;de++)he.endLineNumber+1>=J[de].startLineNumber?he.endLineNumber=J[de].endLineNumber:(ne.push(he),he=J[de]);return ne.push(he),ne}}e.DeleteLinesAction=P;class A extends y.EditorAction{constructor(){super({id:"editor.action.indentLines",label:d.localize(15,null),alias:"Indent Line",precondition:t.EditorContextKeys.writable,kbOpts:{kbExpr:t.EditorContextKeys.editorTextFocus,primary:2142,weight:100}})}run(Z,J){const ne=J._getViewModel();ne&&(J.pushUndoStop(),J.executeCommands(this.id,m.TypeOperations.indent(ne.cursorConfig,J.getModel(),J.getSelections())),J.pushUndoStop())}}e.IndentLinesAction=A;class M extends y.EditorAction{constructor(){super({id:"editor.action.outdentLines",label:d.localize(16,null),alias:"Outdent Line",precondition:t.EditorContextKeys.writable,kbOpts:{kbExpr:t.EditorContextKeys.editorTextFocus,primary:2140,weight:100}})}run(Z,J){k.CoreEditingCommands.Outdent.runEditorCommand(Z,J,null)}}class N extends y.EditorAction{constructor(){super({id:"editor.action.insertLineBefore",label:d.localize(17,null),alias:"Insert Line Above",precondition:t.EditorContextKeys.writable,kbOpts:{kbExpr:t.EditorContextKeys.editorTextFocus,primary:3075,weight:100}})}run(Z,J){const ne=J._getViewModel();ne&&(J.pushUndoStop(),J.executeCommands(this.id,m.TypeOperations.lineInsertBefore(ne.cursorConfig,J.getModel(),J.getSelections())))}}e.InsertLineBeforeAction=N;class R extends y.EditorAction{constructor(){super({id:"editor.action.insertLineAfter",label:d.localize(18,null),alias:"Insert Line Below",precondition:t.EditorContextKeys.writable,kbOpts:{kbExpr:t.EditorContextKeys.editorTextFocus,primary:2051,weight:100}})}run(Z,J){const ne=J._getViewModel();ne&&(J.pushUndoStop(),J.executeCommands(this.id,m.TypeOperations.lineInsertAfter(ne.cursorConfig,J.getModel(),J.getSelections())))}}e.InsertLineAfterAction=R;class F extends y.EditorAction{run(Z,J){if(!J.hasModel())return;const ne=J.getSelection(),he=this._getRangesToDelete(J),de=[];for(let $=0,V=he.length-1;$<V;$++){const j=he[$],se=he[$+1];p.Range.intersectRanges(j,se)===null?de.push(j):he[$+1]=p.Range.plusRange(j,se)}de.push(he[he.length-1]);const ae=this._getEndCursorState(ne,de),ce=de.map($=>_.EditOperation.replace($,""));J.pushUndoStop(),J.executeEdits(this.id,ce,ae),J.pushUndoStop()}}e.AbstractDeleteAllToBoundaryAction=F;class x extends F{constructor(){super({id:"deleteAllLeft",label:d.localize(19,null),alias:"Delete All Left",precondition:t.EditorContextKeys.writable,kbOpts:{kbExpr:t.EditorContextKeys.textInputFocus,primary:0,mac:{primary:2049},weight:100}})}_getEndCursorState(Z,J){let ne=null;const he=[];let de=0;return J.forEach(ae=>{let ce;if(ae.endColumn===1&&de>0){const $=ae.startLineNumber-de;ce=new s.Selection($,ae.startColumn,$,ae.startColumn)}else ce=new s.Selection(ae.startLineNumber,ae.startColumn,ae.startLineNumber,ae.startColumn);de+=ae.endLineNumber-ae.startLineNumber,ae.intersectRanges(Z)?ne=ce:he.push(ce)}),ne&&he.unshift(ne),he}_getRangesToDelete(Z){const J=Z.getSelections();if(J===null)return[];let ne=J;const he=Z.getModel();return he===null?[]:(ne.sort(p.Range.compareRangesUsingStarts),ne=ne.map(de=>{if(de.isEmpty())if(de.startColumn===1){const ae=Math.max(1,de.startLineNumber-1),ce=de.startLineNumber===1?1:he.getLineContent(ae).length+1;return new p.Range(ae,ce,de.startLineNumber,1)}else return new p.Range(de.startLineNumber,1,de.startLineNumber,de.startColumn);else return new p.Range(de.startLineNumber,1,de.endLineNumber,de.endColumn)}),ne)}}e.DeleteAllLeftAction=x;class W extends F{constructor(){super({id:"deleteAllRight",label:d.localize(20,null),alias:"Delete All Right",precondition:t.EditorContextKeys.writable,kbOpts:{kbExpr:t.EditorContextKeys.textInputFocus,primary:0,mac:{primary:297,secondary:[2068]},weight:100}})}_getEndCursorState(Z,J){let ne=null;const he=[];for(let de=0,ae=J.length,ce=0;de<ae;de++){const $=J[de],V=new s.Selection($.startLineNumber-ce,$.startColumn,$.startLineNumber-ce,$.startColumn);$.intersectRanges(Z)?ne=V:he.push(V)}return ne&&he.unshift(ne),he}_getRangesToDelete(Z){const J=Z.getModel();if(J===null)return[];const ne=Z.getSelections();if(ne===null)return[];const he=ne.map(de=>{if(de.isEmpty()){const ae=J.getLineMaxColumn(de.startLineNumber);return de.startColumn===ae?new p.Range(de.startLineNumber,de.startColumn,de.startLineNumber+1,1):new p.Range(de.startLineNumber,de.startColumn,de.startLineNumber,ae)}return de});return he.sort(p.Range.compareRangesUsingStarts),he}}e.DeleteAllRightAction=W;class z extends y.EditorAction{constructor(){super({id:"editor.action.joinLines",label:d.localize(21,null),alias:"Join Lines",precondition:t.EditorContextKeys.writable,kbOpts:{kbExpr:t.EditorContextKeys.editorTextFocus,primary:0,mac:{primary:296},weight:100}})}run(Z,J){const ne=J.getSelections();if(ne===null)return;let he=J.getSelection();if(he===null)return;ne.sort(p.Range.compareRangesUsingStarts);const de=[],ae=ne.reduce((ie,Y)=>ie.isEmpty()?ie.endLineNumber===Y.startLineNumber?(he.equalsSelection(ie)&&(he=Y),Y):Y.startLineNumber>ie.endLineNumber+1?(de.push(ie),Y):new s.Selection(ie.startLineNumber,ie.startColumn,Y.endLineNumber,Y.endColumn):Y.startLineNumber>ie.endLineNumber?(de.push(ie),Y):new s.Selection(ie.startLineNumber,ie.startColumn,Y.endLineNumber,Y.endColumn));de.push(ae);const ce=J.getModel();if(ce===null)return;const $=[],V=[];let j=he,se=0;for(let ie=0,Y=de.length;ie<Y;ie++){const le=de[ie],fe=le.startLineNumber,be=1;let we=0,Ee,Ie;const ye=ce.getLineContent(le.endLineNumber).length-le.endColumn;if(le.isEmpty()||le.startLineNumber===le.endLineNumber){const Te=le.getStartPosition();Te.lineNumber<ce.getLineCount()?(Ee=fe+1,Ie=ce.getLineMaxColumn(Ee)):(Ee=Te.lineNumber,Ie=ce.getLineMaxColumn(Te.lineNumber))}else Ee=le.endLineNumber,Ie=ce.getLineMaxColumn(Ee);let ke=ce.getLineContent(fe);for(let Te=fe+1;Te<=Ee;Te++){const pe=ce.getLineContent(Te),me=ce.getLineFirstNonWhitespaceColumn(Te);if(me>=1){let Se=!0;ke===""&&(Se=!1),Se&&(ke.charAt(ke.length-1)===" "||ke.charAt(ke.length-1)==="	")&&(Se=!1,ke=ke.replace(/[\s\uFEFF\xA0]+$/g," "));const ue=pe.substr(me-1);ke+=(Se?" ":"")+ue,Se?we=ue.length+1:we=ue.length}else we=0}const Ae=new p.Range(fe,be,Ee,Ie);if(!Ae.isEmpty()){let Te;le.isEmpty()?($.push(_.EditOperation.replace(Ae,ke)),Te=new s.Selection(Ae.startLineNumber-se,ke.length-we+1,fe-se,ke.length-we+1)):le.startLineNumber===le.endLineNumber?($.push(_.EditOperation.replace(Ae,ke)),Te=new s.Selection(le.startLineNumber-se,le.startColumn,le.endLineNumber-se,le.endColumn)):($.push(_.EditOperation.replace(Ae,ke)),Te=new s.Selection(le.startLineNumber-se,le.startColumn,le.startLineNumber-se,ke.length-ye)),p.Range.intersectRanges(Ae,he)!==null?j=Te:V.push(Te)}se+=Ae.endLineNumber-Ae.startLineNumber}V.unshift(j),J.pushUndoStop(),J.executeEdits(this.id,$,V),J.pushUndoStop()}}e.JoinLinesAction=z;class U extends y.EditorAction{constructor(){super({id:"editor.action.transpose",label:d.localize(22,null),alias:"Transpose characters around the cursor",precondition:t.EditorContextKeys.writable})}run(Z,J){const ne=J.getSelections();if(ne===null)return;const he=J.getModel();if(he===null)return;const de=[];for(let ae=0,ce=ne.length;ae<ce;ae++){const $=ne[ae];if(!$.isEmpty())continue;const V=$.getStartPosition(),j=he.getLineMaxColumn(V.lineNumber);if(V.column>=j){if(V.lineNumber===he.getLineCount())continue;const se=new p.Range(V.lineNumber,Math.max(1,V.column-1),V.lineNumber+1,1),ie=he.getValueInRange(se).split("").reverse().join("");de.push(new D.ReplaceCommand(new s.Selection(V.lineNumber,Math.max(1,V.column-1),V.lineNumber+1,1),ie))}else{const se=new p.Range(V.lineNumber,Math.max(1,V.column-1),V.lineNumber,V.column+1),ie=he.getValueInRange(se).split("").reverse().join("");de.push(new D.ReplaceCommandThatPreservesSelection(se,ie,new s.Selection(V.lineNumber,V.column+1,V.lineNumber,V.column+1)))}}J.pushUndoStop(),J.executeCommands(this.id,de),J.pushUndoStop()}}e.TransposeAction=U;class O extends y.EditorAction{run(Z,J){const ne=J.getSelections();if(ne===null)return;const he=J.getModel();if(he===null)return;const de=J.getOption(127),ae=[];for(const ce of ne)if(ce.isEmpty()){const $=ce.getStartPosition(),V=J.getConfiguredWordAtPosition($);if(!V)continue;const j=new p.Range($.lineNumber,V.startColumn,$.lineNumber,V.endColumn),se=he.getValueInRange(j);ae.push(_.EditOperation.replace(j,this._modifyText(se,de)))}else{const $=he.getValueInRange(ce);ae.push(_.EditOperation.replace(ce,this._modifyText($,de)))}J.pushUndoStop(),J.executeEdits(this.id,ae),J.pushUndoStop()}}e.AbstractCaseAction=O;class G extends O{constructor(){super({id:"editor.action.transformToUppercase",label:d.localize(23,null),alias:"Transform to Uppercase",precondition:t.EditorContextKeys.writable})}_modifyText(Z,J){return Z.toLocaleUpperCase()}}e.UpperCaseAction=G;class Q extends O{constructor(){super({id:"editor.action.transformToLowercase",label:d.localize(24,null),alias:"Transform to Lowercase",precondition:t.EditorContextKeys.writable})}_modifyText(Z,J){return Z.toLocaleLowerCase()}}e.LowerCaseAction=Q;class re{constructor(Z,J){this._pattern=Z,this._flags=J,this._actual=null,this._evaluated=!1}get(){if(!this._evaluated){this._evaluated=!0;try{this._actual=new RegExp(this._pattern,this._flags)}catch{}}return this._actual}isSupported(){return this.get()!==null}}class oe extends O{constructor(){super({id:"editor.action.transformToTitlecase",label:d.localize(25,null),alias:"Transform to Title Case",precondition:t.EditorContextKeys.writable})}_modifyText(Z,J){const ne=oe.titleBoundary.get();return ne?Z.toLocaleLowerCase().replace(ne,he=>he.toLocaleUpperCase()):Z}}e.TitleCaseAction=oe,oe.titleBoundary=new re("(^|[^\\p{L}\\p{N}']|((^|\\P{L})'))\\p{L}","gmu");class te extends O{constructor(){super({id:"editor.action.transformToSnakecase",label:d.localize(26,null),alias:"Transform to Snake Case",precondition:t.EditorContextKeys.writable})}_modifyText(Z,J){const ne=te.caseBoundary.get(),he=te.singleLetters.get();return!ne||!he?Z:Z.replace(ne,"$1_$2").replace(he,"$1_$2$3").toLocaleLowerCase()}}e.SnakeCaseAction=te,te.caseBoundary=new re("(\\p{Ll})(\\p{Lu})","gmu"),te.singleLetters=new re("(\\p{Lu}|\\p{N})(\\p{Lu})(\\p{Ll})","gmu");class H extends O{constructor(){super({id:"editor.action.transformToCamelcase",label:d.localize(27,null),alias:"Transform to Camel Case",precondition:t.EditorContextKeys.writable})}_modifyText(Z,J){const ne=H.wordBoundary.get();if(!ne)return Z;const he=Z.split(ne);return he.shift()+he.map(ae=>ae.substring(0,1).toLocaleUpperCase()+ae.substring(1)).join("")}}e.CamelCaseAction=H,H.wordBoundary=new re("[_\\s-]","gm");class B extends O{static isSupported(){return[this.caseBoundary,this.singleLetters,this.underscoreBoundary].every(J=>J.isSupported())}constructor(){super({id:"editor.action.transformToKebabcase",label:d.localize(28,null),alias:"Transform to Kebab Case",precondition:t.EditorContextKeys.writable})}_modifyText(Z,J){const ne=B.caseBoundary.get(),he=B.singleLetters.get(),de=B.underscoreBoundary.get();return!ne||!he||!de?Z:Z.replace(de,"$1-$3").replace(ne,"$1-$2").replace(he,"$1-$2").toLocaleLowerCase()}}e.KebabCaseAction=B,B.caseBoundary=new re("(\\p{Ll})(\\p{Lu})","gmu"),B.singleLetters=new re("(\\p{Lu}|\\p{N})(\\p{Lu}\\p{Ll})","gmu"),B.underscoreBoundary=new re("(\\S)(_)(\\S)","gm"),(0,y.registerEditorAction)(a),(0,y.registerEditorAction)(l),(0,y.registerEditorAction)(u),(0,y.registerEditorAction)(g),(0,y.registerEditorAction)(v),(0,y.registerEditorAction)(w),(0,y.registerEditorAction)(E),(0,y.registerEditorAction)(I),(0,y.registerEditorAction)(T),(0,y.registerEditorAction)(P),(0,y.registerEditorAction)(A),(0,y.registerEditorAction)(M),(0,y.registerEditorAction)(N),(0,y.registerEditorAction)(R),(0,y.registerEditorAction)(x),(0,y.registerEditorAction)(W),(0,y.registerEditorAction)(z),(0,y.registerEditorAction)(U),(0,y.registerEditorAction)(G),(0,y.registerEditorAction)(Q),te.caseBoundary.isSupported()&&te.singleLetters.isSupported()&&(0,y.registerEditorAction)(te),H.wordBoundary.isSupported()&&(0,y.registerEditorAction)(H),oe.titleBoundary.isSupported()&&(0,y.registerEditorAction)(oe),B.isSupported()&&(0,y.registerEditorAction)(B)}),define(X[797],ee([1,0,2,15]),function(q,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class y extends L.Disposable{constructor(S){super(),this._editor=S,this._register(this._editor.onMouseDown(m=>{const _=this._editor.getOption(114);_>=0&&m.target.type===6&&m.target.position.column>=_&&this._editor.updateOptions({stopRenderingLineAfter:-1})}))}}y.ID="editor.contrib.longLinesHelper",(0,k.registerEditorContribution)(y.ID,y,2)}),define(X[191],ee([1,0,185,54,6,55,2,15,5,115,676,13,56,7,451]),function(q,e,L,k,y,D,S,m,_,f,p,s,t,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MessageController=void 0;let o=e.MessageController=class mi{static get(n){return n.getContribution(mi.ID)}constructor(n,c,a){this._openerService=a,this._messageWidget=new S.MutableDisposable,this._messageListeners=new S.DisposableStore,this._mouseOverMessage=!1,this._editor=n,this._visible=mi.MESSAGE_VISIBLE.bindTo(c)}dispose(){var n;(n=this._message)===null||n===void 0||n.dispose(),this._messageListeners.dispose(),this._messageWidget.dispose(),this._visible.reset()}showMessage(n,c){(0,k.alert)((0,D.isMarkdownString)(n)?n.value:n),this._visible.set(!0),this._messageWidget.clear(),this._messageListeners.clear(),this._message=(0,D.isMarkdownString)(n)?(0,L.renderMarkdown)(n,{actionHandler:{callback:l=>(0,f.openLinkFromMarkdown)(this._openerService,l,(0,D.isMarkdownString)(n)?n.isTrusted:void 0),disposables:this._messageListeners}}):void 0,this._messageWidget.value=new d(this._editor,c,typeof n=="string"?n:this._message.element),this._messageListeners.add(y.Event.debounce(this._editor.onDidBlurEditorText,(l,u)=>u,0)(()=>{this._mouseOverMessage||this._messageWidget.value&&i.isAncestor(document.activeElement,this._messageWidget.value.getDomNode())||this.closeMessage()})),this._messageListeners.add(this._editor.onDidChangeCursorPosition(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidDispose(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidChangeModel(()=>this.closeMessage())),this._messageListeners.add(i.addDisposableListener(this._messageWidget.value.getDomNode(),i.EventType.MOUSE_ENTER,()=>this._mouseOverMessage=!0,!0)),this._messageListeners.add(i.addDisposableListener(this._messageWidget.value.getDomNode(),i.EventType.MOUSE_LEAVE,()=>this._mouseOverMessage=!1,!0));let a;this._messageListeners.add(this._editor.onMouseMove(l=>{l.target.position&&(a?a.containsPosition(l.target.position)||this.closeMessage():a=new _.Range(c.lineNumber-3,1,l.target.position.lineNumber+3,1))}))}closeMessage(){this._visible.reset(),this._messageListeners.clear(),this._messageWidget.value&&this._messageListeners.add(d.fadeOut(this._messageWidget.value))}};o.ID="editor.contrib.messageController",o.MESSAGE_VISIBLE=new s.RawContextKey("messageVisible",!1,p.localize(0,null)),e.MessageController=o=Ne([ge(1,s.IContextKeyService),ge(2,t.IOpenerService)],o);const r=m.EditorCommand.bindToContribution(o.get);(0,m.registerEditorCommand)(new r({id:"leaveEditorMessage",precondition:o.MESSAGE_VISIBLE,handler:h=>h.closeMessage(),kbOpts:{weight:100+30,primary:9}}));class d{static fadeOut(n){const c=()=>{n.dispose(),clearTimeout(a),n.getDomNode().removeEventListener("animationend",c)},a=setTimeout(c,110);return n.getDomNode().addEventListener("animationend",c),n.getDomNode().classList.add("fadeOut"),{dispose:c}}constructor(n,{lineNumber:c,column:a},l){this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._editor=n,this._editor.revealLinesInCenterIfOutsideViewport(c,c,0),this._position={lineNumber:c,column:a},this._domNode=document.createElement("div"),this._domNode.classList.add("monaco-editor-overlaymessage"),this._domNode.style.marginLeft="-6px";const u=document.createElement("div");u.classList.add("anchor","top"),this._domNode.appendChild(u);const C=document.createElement("div");typeof l=="string"?(C.classList.add("message"),C.textContent=l):(l.classList.add("message"),C.appendChild(l)),this._domNode.appendChild(C);const g=document.createElement("div");g.classList.add("anchor","below"),this._domNode.appendChild(g),this._editor.addContentWidget(this),this._domNode.classList.add("fadeIn")}dispose(){this._editor.removeContentWidget(this)}getId(){return"messageoverlay"}getDomNode(){return this._domNode}getPosition(){return{position:this._position,preference:[1,2],positionAffinity:1}}afterRender(n){this._domNode.classList.toggle("below",n===2)}}(0,m.registerEditorContribution)(o.ID,o,4)}),define(X[798],ee([1,0,55,2,15,191,683]),function(q,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReadOnlyMessageController=void 0;class m extends k.Disposable{constructor(f){super(),this.editor=f,this._register(this.editor.onDidAttemptReadOnlyEdit(()=>this._onDidAttemptReadOnlyEdit()))}_onDidAttemptReadOnlyEdit(){const f=D.MessageController.get(this.editor);if(f&&this.editor.hasModel()){let p=this.editor.getOptions().get(89);p||(this.editor.isSimpleWidget?p=new L.MarkdownString(S.localize(0,null)):p=new L.MarkdownString(S.localize(1,null))),f.showMessage(p,this.editor.getPosition())}}}e.ReadOnlyMessageController=m,m.ID="editor.contrib.readOnlyMessageController",(0,y.registerEditorContribution)(m.ID,m,2)}),define(X[799],ee([1,0,16,20,12,15,11,5,24,22,295,542,686,31,26,19,68,18,21]),function(q,e,L,k,y,D,S,m,_,f,p,s,t,i,o,r,d,h,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.provideSelectionRanges=e.SmartSelectController=void 0;class c{constructor(b,w){this.index=b,this.ranges=w}mov(b){const w=this.index+(b?1:-1);if(w<0||w>=this.ranges.length)return this;const E=new c(w,this.ranges);return E.ranges[w].equalsRange(this.ranges[this.index])?E.mov(b):E}}let a=e.SmartSelectController=class Ki{static get(b){return b.getContribution(Ki.ID)}constructor(b,w){this._editor=b,this._languageFeaturesService=w,this._ignoreSelection=!1}dispose(){var b;(b=this._selectionListener)===null||b===void 0||b.dispose()}run(b){return Le(this,void 0,void 0,function*(){if(!this._editor.hasModel())return;const w=this._editor.getSelections(),E=this._editor.getModel();if(this._state||(yield g(this._languageFeaturesService.selectionRangeProvider,E,w.map(T=>T.getPosition()),this._editor.getOption(110),k.CancellationToken.None).then(T=>{var P;if(!(!L.isNonEmptyArray(T)||T.length!==w.length)&&!(!this._editor.hasModel()||!L.equals(this._editor.getSelections(),w,(A,M)=>A.equalsSelection(M)))){for(let A=0;A<T.length;A++)T[A]=T[A].filter(M=>M.containsPosition(w[A].getStartPosition())&&M.containsPosition(w[A].getEndPosition())),T[A].unshift(w[A]);this._state=T.map(A=>new c(0,A)),(P=this._selectionListener)===null||P===void 0||P.dispose(),this._selectionListener=this._editor.onDidChangeCursorPosition(()=>{var A;this._ignoreSelection||((A=this._selectionListener)===null||A===void 0||A.dispose(),this._state=void 0)})}})),!this._state)return;this._state=this._state.map(T=>T.mov(b));const I=this._state.map(T=>_.Selection.fromPositions(T.ranges[T.index].getStartPosition(),T.ranges[T.index].getEndPosition()));this._ignoreSelection=!0;try{this._editor.setSelections(I)}finally{this._ignoreSelection=!1}})}};a.ID="editor.contrib.smartSelectController",e.SmartSelectController=a=Ne([ge(1,r.ILanguageFeaturesService)],a);class l extends D.EditorAction{constructor(b,w){super(w),this._forward=b}run(b,w){return Le(this,void 0,void 0,function*(){const E=a.get(w);E&&(yield E.run(this._forward))})}}class u extends l{constructor(){super(!0,{id:"editor.action.smartSelect.expand",label:t.localize(0,null),alias:"Expand Selection",precondition:void 0,kbOpts:{kbExpr:f.EditorContextKeys.editorTextFocus,primary:1553,mac:{primary:3345,secondary:[1297]},weight:100},menuOpts:{menuId:i.MenuId.MenubarSelectionMenu,group:"1_basic",title:t.localize(1,null),order:2}})}}o.CommandsRegistry.registerCommandAlias("editor.action.smartSelect.grow","editor.action.smartSelect.expand");class C extends l{constructor(){super(!1,{id:"editor.action.smartSelect.shrink",label:t.localize(2,null),alias:"Shrink Selection",precondition:void 0,kbOpts:{kbExpr:f.EditorContextKeys.editorTextFocus,primary:1551,mac:{primary:3343,secondary:[1295]},weight:100},menuOpts:{menuId:i.MenuId.MenubarSelectionMenu,group:"1_basic",title:t.localize(3,null),order:3}})}}(0,D.registerEditorContribution)(a.ID,a,4),(0,D.registerEditorAction)(u),(0,D.registerEditorAction)(C);function g(v,b,w,E,I){return Le(this,void 0,void 0,function*(){const T=v.all(b).concat(new s.WordSelectionRangeProvider(E.selectSubwords));T.length===1&&T.unshift(new p.BracketSelectionRangeProvider);const P=[],A=[];for(const M of T)P.push(Promise.resolve(M.provideSelectionRanges(b,w,I)).then(N=>{if(L.isNonEmptyArray(N)&&N.length===w.length)for(let R=0;R<w.length;R++){A[R]||(A[R]=[]);for(const F of N[R])m.Range.isIRange(F.range)&&m.Range.containsPosition(F.range,w[R])&&A[R].push(m.Range.lift(F.range))}},y.onUnexpectedExternalError));return yield Promise.all(P),A.map(M=>{if(M.length===0)return[];M.sort((x,W)=>S.Position.isBefore(x.getStartPosition(),W.getStartPosition())?1:S.Position.isBefore(W.getStartPosition(),x.getStartPosition())||S.Position.isBefore(x.getEndPosition(),W.getEndPosition())?-1:S.Position.isBefore(W.getEndPosition(),x.getEndPosition())?1:0);const N=[];let R;for(const x of M)(!R||m.Range.containsRange(x,R)&&!m.Range.equalsRange(x,R))&&(N.push(x),R=x);if(!E.selectLeadingAndTrailingWhitespace)return N;const F=[N[0]];for(let x=1;x<N.length;x++){const W=N[x-1],z=N[x];if(z.startLineNumber!==W.startLineNumber||z.endLineNumber!==W.endLineNumber){const U=new m.Range(W.startLineNumber,b.getLineFirstNonWhitespaceColumn(W.startLineNumber),W.endLineNumber,b.getLineLastNonWhitespaceColumn(W.endLineNumber));U.containsRange(W)&&!U.equalsRange(W)&&z.containsRange(U)&&!z.equalsRange(U)&&F.push(U);const O=new m.Range(W.startLineNumber,1,W.endLineNumber,b.getLineMaxColumn(W.endLineNumber));O.containsRange(W)&&!O.equalsRange(U)&&z.containsRange(O)&&!z.equalsRange(O)&&F.push(O)}F.push(z)}return F})})}e.provideSelectionRanges=g,o.CommandsRegistry.registerCommand("_executeSelectionRangeProvider",function(v,...b){return Le(this,void 0,void 0,function*(){const[w,E]=b;(0,h.assertType)(n.URI.isUri(w));const I=v.get(r.ILanguageFeaturesService).selectionRangeProvider,T=yield v.get(d.ITextModelService).createModelReference(w);try{return g(I,T.object.textEditorModel,E,{selectLeadingAndTrailingWhitespace:!0,selectSubwords:!0},k.CancellationToken.None)}finally{T.dispose()}})})}),define(X[800],ee([1,0,20,70,50,2,15,32,5,19,296,160,342,297,95,8]),function(q,e,L,k,y,D,S,m,_,f,p,s,t,i,o,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestInlineCompletions=void 0;class d{constructor(l,u,C,g,v,b){this.range=l,this.insertText=u,this.filterText=C,this.additionalTextEdits=g,this.command=v,this.completion=b}}let h=class extends D.RefCountedDisposable{constructor(l,u,C,g,v,b){super(v.disposable),this.model=l,this.line=u,this.word=C,this.completionModel=g,this._suggestMemoryService=b}canBeReused(l,u,C){return this.model===l&&this.line===u&&this.word.word.length>0&&this.word.startColumn===C.startColumn&&this.word.endColumn<C.endColumn&&this.completionModel.getIncompleteProvider().size===0}get items(){var l;const u=[],{items:C}=this.completionModel,g=this._suggestMemoryService.select(this.model,{lineNumber:this.line,column:this.word.endColumn+this.completionModel.lineContext.characterCountDelta},C),v=y.Iterable.slice(C,g),b=y.Iterable.slice(C,0,g);let w=5;for(const E of y.Iterable.concat(v,b)){if(E.score===k.FuzzyScore.Default)continue;const I=new _.Range(E.editStart.lineNumber,E.editStart.column,E.editInsertEnd.lineNumber,E.editInsertEnd.column+this.completionModel.lineContext.characterCountDelta),T=E.completion.insertTextRules&&E.completion.insertTextRules&4?{snippet:E.completion.insertText}:E.completion.insertText;u.push(new d(I,T,(l=E.filterTextLow)!==null&&l!==void 0?l:E.labelLow,E.completion.additionalTextEdits,E.completion.command,E)),w-->=0&&E.resolve(L.CancellationToken.None)}return u}};h=Ne([ge(5,t.ISuggestMemoryService)],h);let n=e.SuggestInlineCompletions=class{constructor(l,u,C,g){this._getEditorOption=l,this._languageFeatureService=u,this._clipboardService=C,this._suggestMemoryService=g}provideInlineCompletions(l,u,C,g){var v;return Le(this,void 0,void 0,function*(){if(C.selectedSuggestionInfo)return;const b=this._getEditorOption(86,l);if(s.QuickSuggestionsOptions.isAllOff(b))return;l.tokenization.tokenizeIfCheap(u.lineNumber);const w=l.tokenization.getLineTokens(u.lineNumber),E=w.getStandardTokenType(w.findTokenIndexAtOffset(Math.max(u.column-1-1,0)));if(s.QuickSuggestionsOptions.valueFor(b,E)!=="inline")return;let I=l.getWordAtPosition(u),T;if(I?.word||(T=this._getTriggerCharacterInfo(l,u)),!I?.word&&!T||(I||(I=l.getWordUntilPosition(u)),I.endColumn!==u.column))return;let P;const A=l.getValueInRange(new _.Range(u.lineNumber,1,u.lineNumber,u.column));if(!T&&(!((v=this._lastResult)===null||v===void 0)&&v.canBeReused(l,u.lineNumber,I))){const M=new p.LineContext(A,u.column-this._lastResult.word.endColumn);this._lastResult.completionModel.lineContext=M,this._lastResult.acquire(),P=this._lastResult}else{const M=yield(0,s.provideSuggestionItems)(this._languageFeatureService.completionProvider,l,u,new s.CompletionOptions(void 0,void 0,T?.providers),T&&{triggerKind:1,triggerCharacter:T.ch},g);let N;M.needsClipboard&&(N=yield this._clipboardService.readText());const R=new p.CompletionModel(M.items,u.column,new p.LineContext(A,0),i.WordDistance.None,this._getEditorOption(115,l),this._getEditorOption(109,l),{boostFullMatch:!1,firstMatchCanBeWeak:!1},N);P=new h(l,u.lineNumber,I,R,M,this._suggestMemoryService)}return this._lastResult=P,P})}handleItemDidShow(l,u){u.completion.resolve(L.CancellationToken.None)}freeInlineCompletions(l){l.release()}_getTriggerCharacterInfo(l,u){var C;const g=l.getValueInRange(_.Range.fromPositions({lineNumber:u.lineNumber,column:u.column-1},u)),v=new Set;for(const b of this._languageFeatureService.completionProvider.all(l))!((C=b.triggerCharacters)===null||C===void 0)&&C.includes(g)&&v.add(b);if(v.size!==0)return{providers:v,ch:g}}};e.SuggestInlineCompletions=n=Ne([ge(1,f.ILanguageFeaturesService),ge(2,o.IClipboardService),ge(3,t.ISuggestMemoryService)],n);let c=class Bt{constructor(l,u,C,g){if(++Bt._counter===1){const v=g.createInstance(n,(b,w)=>{var E;return((E=C.listCodeEditors().find(T=>T.getModel()===w))!==null&&E!==void 0?E:l).getOption(b)});Bt._disposable=u.inlineCompletionsProvider.register("*",v)}}dispose(){var l;--Bt._counter===0&&((l=Bt._disposable)===null||l===void 0||l.dispose(),Bt._disposable=void 0)}};c._counter=0,c=Ne([ge(1,f.ILanguageFeaturesService),ge(2,m.ICodeEditorService),ge(3,r.IInstantiationService)],c),(0,S.registerEditorContribution)("suggest.inlineCompletionsProvider",c,0)}),define(X[801],ee([1,0,58,15,698]),function(q,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class D extends k.EditorAction{constructor(){super({id:"editor.action.forceRetokenize",label:y.localize(0,null),alias:"Developer: Force Retokenize",precondition:void 0})}run(m,_){if(!_.hasModel())return;const f=_.getModel();f.tokenization.resetTokenization();const p=new L.StopWatch;f.tokenization.forceTokenization(f.getLineCount()),p.stop(),console.log(`tokenization took ${p.elapsed()}`)}}(0,k.registerEditorAction)(D)}),define(X[802],ee([1,0,2,43,15,32,700,157]),function(q,e,L,k,y,D,S,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UnusualLineTerminatorsDetector=void 0;const _="ignoreUnusualLineTerminators";function f(t,i,o){t.setModelProperty(i.uri,_,o)}function p(t,i){return t.getModelProperty(i.uri,_)}let s=e.UnusualLineTerminatorsDetector=class extends L.Disposable{constructor(i,o,r){super(),this._editor=i,this._dialogService=o,this._codeEditorService=r,this._isPresentingDialog=!1,this._config=this._editor.getOption(123),this._register(this._editor.onDidChangeConfiguration(d=>{d.hasChanged(123)&&(this._config=this._editor.getOption(123),this._checkForUnusualLineTerminators())})),this._register(this._editor.onDidChangeModel(()=>{this._checkForUnusualLineTerminators()})),this._register(this._editor.onDidChangeModelContent(d=>{d.isUndoing||this._checkForUnusualLineTerminators()})),this._checkForUnusualLineTerminators()}_checkForUnusualLineTerminators(){return Le(this,void 0,void 0,function*(){if(this._config==="off"||!this._editor.hasModel())return;const i=this._editor.getModel();if(!i.mightContainUnusualLineTerminators()||p(this._codeEditorService,i)===!0||this._editor.getOption(88))return;if(this._config==="auto"){i.removeUnusualLineTerminators(this._editor.getSelections());return}if(this._isPresentingDialog)return;let r;try{this._isPresentingDialog=!0,r=yield this._dialogService.confirm({title:S.localize(0,null),message:S.localize(1,null),detail:S.localize(2,null,(0,k.basename)(i.uri)),primaryButton:S.localize(3,null),cancelButton:S.localize(4,null)})}finally{this._isPresentingDialog=!1}if(!r.confirmed){f(this._codeEditorService,i,!0);return}i.removeUnusualLineTerminators(this._editor.getSelections())})}};s.ID="editor.contrib.unusualLineTerminatorsDetector",e.UnusualLineTerminatorsDetector=s=Ne([ge(1,m.IDialogService),ge(2,D.ICodeEditorService)],s),(0,y.registerEditorContribution)(s.ID,s,1)}),define(X[348],ee([1,0,15,122,35,72,180,145,11,5,24,22,30,703,96,13,239]),function(q,e,L,k,y,D,S,m,_,f,p,s,t,i,o,r,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DeleteInsideWord=e.DeleteWordRight=e.DeleteWordEndRight=e.DeleteWordStartRight=e.DeleteWordLeft=e.DeleteWordEndLeft=e.DeleteWordStartLeft=e.DeleteWordRightCommand=e.DeleteWordLeftCommand=e.DeleteWordCommand=e.CursorWordAccessibilityRightSelect=e.CursorWordAccessibilityRight=e.CursorWordRightSelect=e.CursorWordEndRightSelect=e.CursorWordStartRightSelect=e.CursorWordRight=e.CursorWordEndRight=e.CursorWordStartRight=e.CursorWordAccessibilityLeftSelect=e.CursorWordAccessibilityLeft=e.CursorWordLeftSelect=e.CursorWordEndLeftSelect=e.CursorWordStartLeftSelect=e.CursorWordLeft=e.CursorWordEndLeft=e.CursorWordStartLeft=e.WordRightCommand=e.WordLeftCommand=e.MoveWordCommand=void 0;class h extends L.EditorCommand{constructor(H){super(H),this._inSelectionMode=H.inSelectionMode,this._wordNavigationType=H.wordNavigationType}runEditorCommand(H,B,K){if(!B.hasModel())return;const Z=(0,m.getMapForWordSeparators)(B.getOption(127)),J=B.getModel(),he=B.getSelections().map(de=>{const ae=new _.Position(de.positionLineNumber,de.positionColumn),ce=this._move(Z,J,ae,this._wordNavigationType);return this._moveTo(de,ce,this._inSelectionMode)});if(J.pushStackElement(),B._getViewModel().setCursorStates("moveWordCommand",3,he.map(de=>D.CursorState.fromModelSelection(de))),he.length===1){const de=new _.Position(he[0].positionLineNumber,he[0].positionColumn);B.revealPosition(de,0)}}_moveTo(H,B,K){return K?new p.Selection(H.selectionStartLineNumber,H.selectionStartColumn,B.lineNumber,B.column):new p.Selection(B.lineNumber,B.column,B.lineNumber,B.column)}}e.MoveWordCommand=h;class n extends h{_move(H,B,K,Z){return S.WordOperations.moveWordLeft(H,B,K,Z)}}e.WordLeftCommand=n;class c extends h{_move(H,B,K,Z){return S.WordOperations.moveWordRight(H,B,K,Z)}}e.WordRightCommand=c;class a extends n{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartLeft",precondition:void 0})}}e.CursorWordStartLeft=a;class l extends n{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndLeft",precondition:void 0})}}e.CursorWordEndLeft=l;class u extends n{constructor(){var H;super({inSelectionMode:!1,wordNavigationType:1,id:"cursorWordLeft",precondition:void 0,kbOpts:{kbExpr:r.ContextKeyExpr.and(s.EditorContextKeys.textInputFocus,(H=r.ContextKeyExpr.and(o.CONTEXT_ACCESSIBILITY_MODE_ENABLED,d.IsWindowsContext))===null||H===void 0?void 0:H.negate()),primary:2063,mac:{primary:527},weight:100}})}}e.CursorWordLeft=u;class C extends n{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartLeftSelect",precondition:void 0})}}e.CursorWordStartLeftSelect=C;class g extends n{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndLeftSelect",precondition:void 0})}}e.CursorWordEndLeftSelect=g;class v extends n{constructor(){var H;super({inSelectionMode:!0,wordNavigationType:1,id:"cursorWordLeftSelect",precondition:void 0,kbOpts:{kbExpr:r.ContextKeyExpr.and(s.EditorContextKeys.textInputFocus,(H=r.ContextKeyExpr.and(o.CONTEXT_ACCESSIBILITY_MODE_ENABLED,d.IsWindowsContext))===null||H===void 0?void 0:H.negate()),primary:3087,mac:{primary:1551},weight:100}})}}e.CursorWordLeftSelect=v;class b extends n{constructor(){super({inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityLeft",precondition:void 0})}_move(H,B,K,Z){return super._move((0,m.getMapForWordSeparators)(y.EditorOptions.wordSeparators.defaultValue),B,K,Z)}}e.CursorWordAccessibilityLeft=b;class w extends n{constructor(){super({inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityLeftSelect",precondition:void 0})}_move(H,B,K,Z){return super._move((0,m.getMapForWordSeparators)(y.EditorOptions.wordSeparators.defaultValue),B,K,Z)}}e.CursorWordAccessibilityLeftSelect=w;class E extends c{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartRight",precondition:void 0})}}e.CursorWordStartRight=E;class I extends c{constructor(){var H;super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndRight",precondition:void 0,kbOpts:{kbExpr:r.ContextKeyExpr.and(s.EditorContextKeys.textInputFocus,(H=r.ContextKeyExpr.and(o.CONTEXT_ACCESSIBILITY_MODE_ENABLED,d.IsWindowsContext))===null||H===void 0?void 0:H.negate()),primary:2065,mac:{primary:529},weight:100}})}}e.CursorWordEndRight=I;class T extends c{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordRight",precondition:void 0})}}e.CursorWordRight=T;class P extends c{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartRightSelect",precondition:void 0})}}e.CursorWordStartRightSelect=P;class A extends c{constructor(){var H;super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndRightSelect",precondition:void 0,kbOpts:{kbExpr:r.ContextKeyExpr.and(s.EditorContextKeys.textInputFocus,(H=r.ContextKeyExpr.and(o.CONTEXT_ACCESSIBILITY_MODE_ENABLED,d.IsWindowsContext))===null||H===void 0?void 0:H.negate()),primary:3089,mac:{primary:1553},weight:100}})}}e.CursorWordEndRightSelect=A;class M extends c{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordRightSelect",precondition:void 0})}}e.CursorWordRightSelect=M;class N extends c{constructor(){super({inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityRight",precondition:void 0})}_move(H,B,K,Z){return super._move((0,m.getMapForWordSeparators)(y.EditorOptions.wordSeparators.defaultValue),B,K,Z)}}e.CursorWordAccessibilityRight=N;class R extends c{constructor(){super({inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityRightSelect",precondition:void 0})}_move(H,B,K,Z){return super._move((0,m.getMapForWordSeparators)(y.EditorOptions.wordSeparators.defaultValue),B,K,Z)}}e.CursorWordAccessibilityRightSelect=R;class F extends L.EditorCommand{constructor(H){super(H),this._whitespaceHeuristics=H.whitespaceHeuristics,this._wordNavigationType=H.wordNavigationType}runEditorCommand(H,B,K){const Z=H.get(t.ILanguageConfigurationService);if(!B.hasModel())return;const J=(0,m.getMapForWordSeparators)(B.getOption(127)),ne=B.getModel(),he=B.getSelections(),de=B.getOption(5),ae=B.getOption(9),ce=Z.getLanguageConfiguration(ne.getLanguageId()).getAutoClosingPairs(),$=B._getViewModel(),V=he.map(j=>{const se=this._delete({wordSeparators:J,model:ne,selection:j,whitespaceHeuristics:this._whitespaceHeuristics,autoClosingDelete:B.getOption(7),autoClosingBrackets:de,autoClosingQuotes:ae,autoClosingPairs:ce,autoClosedCharacters:$.getCursorAutoClosedCharacters()},this._wordNavigationType);return new k.ReplaceCommand(se,"")});B.pushUndoStop(),B.executeCommands(this.id,V),B.pushUndoStop()}}e.DeleteWordCommand=F;class x extends F{_delete(H,B){const K=S.WordOperations.deleteWordLeft(H,B);return K||new f.Range(1,1,1,1)}}e.DeleteWordLeftCommand=x;class W extends F{_delete(H,B){const K=S.WordOperations.deleteWordRight(H,B);if(K)return K;const Z=H.model.getLineCount(),J=H.model.getLineMaxColumn(Z);return new f.Range(Z,J,Z,J)}}e.DeleteWordRightCommand=W;class z extends x{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartLeft",precondition:s.EditorContextKeys.writable})}}e.DeleteWordStartLeft=z;class U extends x{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndLeft",precondition:s.EditorContextKeys.writable})}}e.DeleteWordEndLeft=U;class O extends x{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordLeft",precondition:s.EditorContextKeys.writable,kbOpts:{kbExpr:s.EditorContextKeys.textInputFocus,primary:2049,mac:{primary:513},weight:100}})}}e.DeleteWordLeft=O;class G extends W{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartRight",precondition:s.EditorContextKeys.writable})}}e.DeleteWordStartRight=G;class Q extends W{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndRight",precondition:s.EditorContextKeys.writable})}}e.DeleteWordEndRight=Q;class re extends W{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordRight",precondition:s.EditorContextKeys.writable,kbOpts:{kbExpr:s.EditorContextKeys.textInputFocus,primary:2068,mac:{primary:532},weight:100}})}}e.DeleteWordRight=re;class oe extends L.EditorAction{constructor(){super({id:"deleteInsideWord",precondition:s.EditorContextKeys.writable,label:i.localize(0,null),alias:"Delete Word"})}run(H,B,K){if(!B.hasModel())return;const Z=(0,m.getMapForWordSeparators)(B.getOption(127)),J=B.getModel(),he=B.getSelections().map(de=>{const ae=S.WordOperations.deleteInsideWord(Z,J,de);return new k.ReplaceCommand(ae,"")});B.pushUndoStop(),B.executeCommands(this.id,he),B.pushUndoStop()}}e.DeleteInsideWord=oe,(0,L.registerEditorCommand)(new a),(0,L.registerEditorCommand)(new l),(0,L.registerEditorCommand)(new u),(0,L.registerEditorCommand)(new C),(0,L.registerEditorCommand)(new g),(0,L.registerEditorCommand)(new v),(0,L.registerEditorCommand)(new E),(0,L.registerEditorCommand)(new I),(0,L.registerEditorCommand)(new T),(0,L.registerEditorCommand)(new P),(0,L.registerEditorCommand)(new A),(0,L.registerEditorCommand)(new M),(0,L.registerEditorCommand)(new b),(0,L.registerEditorCommand)(new w),(0,L.registerEditorCommand)(new N),(0,L.registerEditorCommand)(new R),(0,L.registerEditorCommand)(new z),(0,L.registerEditorCommand)(new U),(0,L.registerEditorCommand)(new O),(0,L.registerEditorCommand)(new G),(0,L.registerEditorCommand)(new Q),(0,L.registerEditorCommand)(new re),(0,L.registerEditorAction)(oe)}),define(X[803],ee([1,0,15,180,5,22,348,26]),function(q,e,L,k,y,D,S,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorWordPartRightSelect=e.CursorWordPartRight=e.WordPartRightCommand=e.CursorWordPartLeftSelect=e.CursorWordPartLeft=e.WordPartLeftCommand=e.DeleteWordPartRight=e.DeleteWordPartLeft=void 0;class _ extends S.DeleteWordCommand{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordPartLeft",precondition:D.EditorContextKeys.writable,kbOpts:{kbExpr:D.EditorContextKeys.textInputFocus,primary:0,mac:{primary:769},weight:100}})}_delete(h,n){const c=k.WordPartOperations.deleteWordPartLeft(h);return c||new y.Range(1,1,1,1)}}e.DeleteWordPartLeft=_;class f extends S.DeleteWordCommand{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordPartRight",precondition:D.EditorContextKeys.writable,kbOpts:{kbExpr:D.EditorContextKeys.textInputFocus,primary:0,mac:{primary:788},weight:100}})}_delete(h,n){const c=k.WordPartOperations.deleteWordPartRight(h);if(c)return c;const a=h.model.getLineCount(),l=h.model.getLineMaxColumn(a);return new y.Range(a,l,a,l)}}e.DeleteWordPartRight=f;class p extends S.MoveWordCommand{_move(h,n,c,a){return k.WordPartOperations.moveWordPartLeft(h,n,c)}}e.WordPartLeftCommand=p;class s extends p{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordPartLeft",precondition:void 0,kbOpts:{kbExpr:D.EditorContextKeys.textInputFocus,primary:0,mac:{primary:783},weight:100}})}}e.CursorWordPartLeft=s,m.CommandsRegistry.registerCommandAlias("cursorWordPartStartLeft","cursorWordPartLeft");class t extends p{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordPartLeftSelect",precondition:void 0,kbOpts:{kbExpr:D.EditorContextKeys.textInputFocus,primary:0,mac:{primary:1807},weight:100}})}}e.CursorWordPartLeftSelect=t,m.CommandsRegistry.registerCommandAlias("cursorWordPartStartLeftSelect","cursorWordPartLeftSelect");class i extends S.MoveWordCommand{_move(h,n,c,a){return k.WordPartOperations.moveWordPartRight(h,n,c)}}e.WordPartRightCommand=i;class o extends i{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordPartRight",precondition:void 0,kbOpts:{kbExpr:D.EditorContextKeys.textInputFocus,primary:0,mac:{primary:785},weight:100}})}}e.CursorWordPartRight=o;class r extends i{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordPartRightSelect",precondition:void 0,kbOpts:{kbExpr:D.EditorContextKeys.textInputFocus,primary:0,mac:{primary:1809},weight:100}})}}e.CursorWordPartRightSelect=r,(0,L.registerEditorCommand)(new _),(0,L.registerEditorCommand)(new f),(0,L.registerEditorCommand)(new s),(0,L.registerEditorCommand)(new t),(0,L.registerEditorCommand)(new o),(0,L.registerEditorCommand)(new r)}),define(X[804],ee([1,0,7,2,15,17,463]),function(q,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IPadShowKeyboard=void 0;class S extends k.Disposable{constructor(f){super(),this.editor=f,this.widget=null,D.isIOS&&(this._register(f.onDidChangeConfiguration(()=>this.update())),this.update())}update(){const f=!this.editor.getOption(88);!this.widget&&f?this.widget=new m(this.editor):this.widget&&!f&&(this.widget.dispose(),this.widget=null)}dispose(){super.dispose(),this.widget&&(this.widget.dispose(),this.widget=null)}}e.IPadShowKeyboard=S,S.ID="editor.contrib.iPadShowKeyboard";class m extends k.Disposable{constructor(f){super(),this.editor=f,this._domNode=document.createElement("textarea"),this._domNode.className="iPadShowKeyboard",this._register(L.addDisposableListener(this._domNode,"touchstart",p=>{this.editor.focus()})),this._register(L.addDisposableListener(this._domNode,"focus",p=>{this.editor.focus()})),this.editor.addOverlayWidget(this)}dispose(){this.editor.removeOverlayWidget(this),super.dispose()}getId(){return m.ID}getDomNode(){return this._domNode}getPosition(){return{preference:1}}}m.ID="editor.contrib.ShowKeyboardWidget",(0,y.registerEditorContribution)(S.ID,S,3)}),define(X[805],ee([1,0,7,36,2,15,29,124,154,41,132,93,464]),function(q,e,L,k,y,D,S,m,_,f,p,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});let t=class ji extends y.Disposable{static get(n){return n.getContribution(ji.ID)}constructor(n,c,a){super(),this._editor=n,this._languageService=a,this._widget=null,this._register(this._editor.onDidChangeModel(l=>this.stop())),this._register(this._editor.onDidChangeModelLanguage(l=>this.stop())),this._register(S.TokenizationRegistry.onDidChange(l=>this.stop())),this._register(this._editor.onKeyUp(l=>l.keyCode===9&&this.stop()))}dispose(){this.stop(),super.dispose()}launch(){this._widget||this._editor.hasModel()&&(this._widget=new d(this._editor,this._languageService))}stop(){this._widget&&(this._widget.dispose(),this._widget=null)}};t.ID="editor.contrib.inspectTokens",t=Ne([ge(1,p.IStandaloneThemeService),ge(2,f.ILanguageService)],t);class i extends D.EditorAction{constructor(){super({id:"editor.action.inspectTokens",label:s.InspectTokensNLS.inspectTokensAction,alias:"Developer: Inspect Tokens",precondition:void 0})}run(n,c){const a=t.get(c);a?.launch()}}function o(h){let n="";for(let c=0,a=h.length;c<a;c++){const l=h.charCodeAt(c);switch(l){case 9:n+="\u2192";break;case 32:n+="\xB7";break;default:n+=String.fromCharCode(l)}}return n}function r(h,n){const c=S.TokenizationRegistry.get(n);if(c)return c;const a=h.encodeLanguageId(n);return{getInitialState:()=>_.NullState,tokenize:(l,u,C)=>(0,_.nullTokenize)(n,C),tokenizeEncoded:(l,u,C)=>(0,_.nullTokenizeEncoded)(a,C)}}class d extends y.Disposable{constructor(n,c){super(),this.allowEditorOverflow=!0,this._editor=n,this._languageService=c,this._model=this._editor.getModel(),this._domNode=document.createElement("div"),this._domNode.className="tokens-inspect-widget",this._tokenizationSupport=r(this._languageService.languageIdCodec,this._model.getLanguageId()),this._compute(this._editor.getPosition()),this._register(this._editor.onDidChangeCursorPosition(a=>this._compute(this._editor.getPosition()))),this._editor.addContentWidget(this)}dispose(){this._editor.removeContentWidget(this),super.dispose()}getId(){return d._ID}_compute(n){const c=this._getTokensAtLine(n.lineNumber);let a=0;for(let v=c.tokens1.length-1;v>=0;v--){const b=c.tokens1[v];if(n.column-1>=b.offset){a=v;break}}let l=0;for(let v=c.tokens2.length>>>1;v>=0;v--)if(n.column-1>=c.tokens2[v<<1]){l=v;break}const u=this._model.getLineContent(n.lineNumber);let C="";if(a<c.tokens1.length){const v=c.tokens1[a].offset,b=a+1<c.tokens1.length?c.tokens1[a+1].offset:u.length;C=u.substring(v,b)}(0,L.reset)(this._domNode,(0,L.$)("h2.tm-token",void 0,o(C),(0,L.$)("span.tm-token-length",void 0,`${C.length} ${C.length===1?"char":"chars"}`))),(0,L.append)(this._domNode,(0,L.$)("hr.tokens-inspect-separator",{style:"clear:both"}));const g=(l<<1)+1<c.tokens2.length?this._decodeMetadata(c.tokens2[(l<<1)+1]):null;(0,L.append)(this._domNode,(0,L.$)("table.tm-metadata-table",void 0,(0,L.$)("tbody",void 0,(0,L.$)("tr",void 0,(0,L.$)("td.tm-metadata-key",void 0,"language"),(0,L.$)("td.tm-metadata-value",void 0,`${g?g.languageId:"-?-"}`)),(0,L.$)("tr",void 0,(0,L.$)("td.tm-metadata-key",void 0,"token type"),(0,L.$)("td.tm-metadata-value",void 0,`${g?this._tokenTypeToString(g.tokenType):"-?-"}`)),(0,L.$)("tr",void 0,(0,L.$)("td.tm-metadata-key",void 0,"font style"),(0,L.$)("td.tm-metadata-value",void 0,`${g?this._fontStyleToString(g.fontStyle):"-?-"}`)),(0,L.$)("tr",void 0,(0,L.$)("td.tm-metadata-key",void 0,"foreground"),(0,L.$)("td.tm-metadata-value",void 0,`${g?k.Color.Format.CSS.formatHex(g.foreground):"-?-"}`)),(0,L.$)("tr",void 0,(0,L.$)("td.tm-metadata-key",void 0,"background"),(0,L.$)("td.tm-metadata-value",void 0,`${g?k.Color.Format.CSS.formatHex(g.background):"-?-"}`))))),(0,L.append)(this._domNode,(0,L.$)("hr.tokens-inspect-separator")),a<c.tokens1.length&&(0,L.append)(this._domNode,(0,L.$)("span.tm-token-type",void 0,c.tokens1[a].type)),this._editor.layoutContentWidget(this)}_decodeMetadata(n){const c=S.TokenizationRegistry.getColorMap(),a=m.TokenMetadata.getLanguageId(n),l=m.TokenMetadata.getTokenType(n),u=m.TokenMetadata.getFontStyle(n),C=m.TokenMetadata.getForeground(n),g=m.TokenMetadata.getBackground(n);return{languageId:this._languageService.languageIdCodec.decodeLanguageId(a),tokenType:l,fontStyle:u,foreground:c[C],background:c[g]}}_tokenTypeToString(n){switch(n){case 0:return"Other";case 1:return"Comment";case 2:return"String";case 3:return"RegEx";default:return"??"}}_fontStyleToString(n){let c="";return n&1&&(c+="italic "),n&2&&(c+="bold "),n&4&&(c+="underline "),n&8&&(c+="strikethrough "),c.length===0&&(c="---"),c}_getTokensAtLine(n){const c=this._getStateBeforeLine(n),a=this._tokenizationSupport.tokenize(this._model.getLineContent(n),!0,c),l=this._tokenizationSupport.tokenizeEncoded(this._model.getLineContent(n),!0,c);return{startState:c,tokens1:a.tokens,tokens2:l.tokens,endState:a.endState}}_getStateBeforeLine(n){let c=this._tokenizationSupport.getInitialState();for(let a=1;a<n;a++)c=this._tokenizationSupport.tokenize(this._model.getLineContent(a),!0,c).endState;return c}getDomNode(){return this._domNode}getPosition(){return{position:this._editor.getPosition(),preference:[2,1]}}}d._ID="editor.contrib.inspectTokensWidget",(0,D.registerEditorContribution)(t.ID,t,4),(0,D.registerEditorAction)(i)}),define(X[806],ee([1,0,7,579,40,16,2,708,31,13,57,37,78]),function(q,e,L,k,y,D,S,m,_,f,p,s,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WorkbenchToolBar=void 0;let i=e.WorkbenchToolBar=class extends k.ToolBar{constructor(r,d,h,n,c,a,l){super(r,c,Object.assign(Object.assign({getKeyBinding:C=>{var g;return(g=a.lookupKeybinding(C.id))!==null&&g!==void 0?g:void 0}},d),{allowContextMenu:!0,skipTelemetry:typeof d?.telemetrySource=="string"})),this._options=d,this._menuService=h,this._contextKeyService=n,this._contextMenuService=c,this._sessionDisposables=this._store.add(new S.DisposableStore);const u=d?.telemetrySource;u&&this._store.add(this.actionBar.onDidRun(C=>l.publicLog2("workbenchActionExecuted",{id:C.action.id,from:u})))}setActions(r,d=[],h){var n,c,a;this._sessionDisposables.clear();const l=r.slice(),u=d.slice(),C=[];let g=0;const v=[];let b=!1;if(((n=this._options)===null||n===void 0?void 0:n.hiddenItemStrategy)!==-1)for(let w=0;w<l.length;w++){const E=l[w];!(E instanceof _.MenuItemAction)&&!(E instanceof _.SubmenuItemAction)||E.hideActions&&(C.push(E.hideActions.toggle),E.hideActions.toggle.checked&&g++,E.hideActions.isHidden&&(b=!0,l[w]=void 0,((c=this._options)===null||c===void 0?void 0:c.hiddenItemStrategy)!==0&&(v[w]=E)))}if(((a=this._options)===null||a===void 0?void 0:a.maxNumberOfItems)!==void 0){let w=0;for(let E=0;E<l.length;E++){const I=l[E];I&&++w>=this._options.maxNumberOfItems&&(l[E]=void 0,v[E]=I)}}(0,D.coalesceInPlace)(l),(0,D.coalesceInPlace)(v),super.setActions(l,y.Separator.join(v,u)),C.length>0&&this._sessionDisposables.add((0,L.addDisposableListener)(this.getElement(),"contextmenu",w=>{var E,I,T,P,A;const M=this.getItemAction(w.target);if(!M)return;w.preventDefault(),w.stopPropagation();let N=!1;if(g===1&&((E=this._options)===null||E===void 0?void 0:E.hiddenItemStrategy)===0){N=!0;for(let x=0;x<C.length;x++)if(C[x].checked){C[x]=(0,y.toAction)({id:M.id,label:M.label,checked:!0,enabled:!1,run(){}});break}}let R;if(!N&&(M instanceof _.MenuItemAction||M instanceof _.SubmenuItemAction)){if(!M.hideActions)return;R=M.hideActions.hide}else R=(0,y.toAction)({id:"label",label:(0,m.localize)(0,null),enabled:!1,run(){}});const F=y.Separator.join([R],C);!((I=this._options)===null||I===void 0)&&I.resetMenu&&!h&&(h=[this._options.resetMenu]),b&&h&&(F.push(new y.Separator),F.push((0,y.toAction)({id:"resetThisMenu",label:(0,m.localize)(1,null),run:()=>this._menuService.resetHiddenStates(h)}))),this._contextMenuService.showContextMenu({getAnchor:()=>w,getActions:()=>F,menuId:(T=this._options)===null||T===void 0?void 0:T.contextMenu,menuActionOptions:Object.assign({renderShortTitle:!0},(P=this._options)===null||P===void 0?void 0:P.menuOptions),skipTelemetry:typeof((A=this._options)===null||A===void 0?void 0:A.telemetrySource)=="string",contextKeyService:this._contextKeyService})}))}};e.WorkbenchToolBar=i=Ne([ge(2,_.IMenuService),ge(3,f.IContextKeyService),ge(4,p.IContextMenuService),ge(5,s.IKeybindingService),ge(6,t.ITelemetryService)],i)}),define(X[807],ee([1,0,559,12,70,2,64,18,720,26,28,157,8,37,760,87,78]),function(q,e,L,k,y,D,S,m,_,f,p,s,t,i,o,r,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CommandsHistory=e.AbstractCommandsQuickAccessProvider=void 0;let h=e.AbstractCommandsQuickAccessProvider=class ei extends o.PickerQuickAccessProvider{constructor(a,l,u,C,g,v){super(ei.PREFIX,a),this.instantiationService=l,this.keybindingService=u,this.commandService=C,this.telemetryService=g,this.dialogService=v,this.commandsHistory=this._register(this.instantiationService.createInstance(n)),this.options=a}_getPicks(a,l,u,C){var g,v;return Le(this,void 0,void 0,function*(){const b=yield this.getCommandPicks(u);if(u.isCancellationRequested)return[];const w=[];for(const A of b){const M=(0,m.withNullAsUndefined)(ei.WORD_FILTER(a,A.label)),N=A.commandAlias?(0,m.withNullAsUndefined)(ei.WORD_FILTER(a,A.commandAlias)):void 0;M||N?(A.highlights={label:M,detail:this.options.showAlias?N:void 0},w.push(A)):a===A.commandId&&w.push(A)}const E=new Map;for(const A of w){const M=E.get(A.label);M?(A.description=A.commandId,M.description=M.commandId):E.set(A.label,A)}w.sort((A,M)=>{const N=this.commandsHistory.peek(A.commandId),R=this.commandsHistory.peek(M.commandId);if(N&&R)return N>R?-1:1;if(N)return-1;if(R)return 1;if(this.options.suggestedCommandIds){const F=this.options.suggestedCommandIds.has(A.commandId),x=this.options.suggestedCommandIds.has(M.commandId);if(F&&x)return 0;if(F)return-1;if(x)return 1}return A.label.localeCompare(M.label)});const I=[];let T=!1,P=!!this.options.suggestedCommandIds;for(let A=0;A<w.length;A++){const M=w[A];A===0&&this.commandsHistory.peek(M.commandId)&&(I.push({type:"separator",label:(0,_.localize)(0,null)}),T=!0),P&&!this.commandsHistory.peek(M.commandId)&&(!((g=this.options.suggestedCommandIds)===null||g===void 0)&&g.has(M.commandId))&&(I.push({type:"separator",label:(0,_.localize)(1,null)}),T=!0,P=!1),T&&!this.commandsHistory.peek(M.commandId)&&!(!((v=this.options.suggestedCommandIds)===null||v===void 0)&&v.has(M.commandId))&&(I.push({type:"separator",label:(0,_.localize)(2,null)}),T=!1),I.push(this.toCommandPick(M,C))}return this.hasAdditionalCommandPicks(a,u)?{picks:I,additionalPicks:(()=>Le(this,void 0,void 0,function*(){const A=yield this.getAdditionalCommandPicks(b,w,a,u);return u.isCancellationRequested?[]:A.map(M=>this.toCommandPick(M,C))}))()}:I})}toCommandPick(a,l){if(a.type==="separator")return a;const u=this.keybindingService.lookupKeybinding(a.commandId),C=u?(0,_.localize)(3,null,a.label,u.getAriaLabel()):a.label;return Object.assign(Object.assign({},a),{ariaLabel:C,detail:this.options.showAlias&&a.commandAlias!==a.label?a.commandAlias:void 0,keybinding:u,accept:()=>Le(this,void 0,void 0,function*(){var g,v;this.commandsHistory.push(a.commandId),this.telemetryService.publicLog2("workbenchActionExecuted",{id:a.commandId,from:(g=l?.from)!==null&&g!==void 0?g:"quick open"});try{!((v=a.args)===null||v===void 0)&&v.length?yield this.commandService.executeCommand(a.commandId,...a.args):yield this.commandService.executeCommand(a.commandId)}catch(b){(0,k.isCancellationError)(b)||this.dialogService.error((0,_.localize)(4,null,a.label),(0,L.toErrorMessage)(b))}})})}};h.PREFIX=">",h.WORD_FILTER=(0,y.or)(y.matchesPrefix,y.matchesWords,y.matchesContiguousSubString),e.AbstractCommandsQuickAccessProvider=h=Ne([ge(1,t.IInstantiationService),ge(2,i.IKeybindingService),ge(3,f.ICommandService),ge(4,d.ITelemetryService),ge(5,s.IDialogService)],h);let n=e.CommandsHistory=class ht extends D.Disposable{constructor(a,l){super(),this.storageService=a,this.configurationService=l,this.configuredCommandsHistoryLength=0,this.updateConfiguration(),this.load(),this.registerListeners()}registerListeners(){this._register(this.configurationService.onDidChangeConfiguration(a=>this.updateConfiguration(a)))}updateConfiguration(a){a&&!a.affectsConfiguration("workbench.commandPalette.history")||(this.configuredCommandsHistoryLength=ht.getConfiguredCommandHistoryLength(this.configurationService),ht.cache&&ht.cache.limit!==this.configuredCommandsHistoryLength&&(ht.cache.limit=this.configuredCommandsHistoryLength,ht.saveState(this.storageService)))}load(){const a=this.storageService.get(ht.PREF_KEY_CACHE,0);let l;if(a)try{l=JSON.parse(a)}catch{}const u=ht.cache=new S.LRUCache(this.configuredCommandsHistoryLength,1);if(l){let C;l.usesLRU?C=l.entries:C=l.entries.sort((g,v)=>g.value-v.value),C.forEach(g=>u.set(g.key,g.value))}ht.counter=this.storageService.getNumber(ht.PREF_KEY_COUNTER,0,ht.counter)}push(a){ht.cache&&(ht.cache.set(a,ht.counter++),ht.saveState(this.storageService))}peek(a){var l;return(l=ht.cache)===null||l===void 0?void 0:l.peek(a)}static saveState(a){if(!ht.cache)return;const l={usesLRU:!0,entries:[]};ht.cache.forEach((u,C)=>l.entries.push({key:C,value:u})),a.store(ht.PREF_KEY_CACHE,JSON.stringify(l),0,0),a.store(ht.PREF_KEY_COUNTER,ht.counter,0,0)}static getConfiguredCommandHistoryLength(a){var l,u;const g=(u=(l=a.getValue().workbench)===null||l===void 0?void 0:l.commandPalette)===null||u===void 0?void 0:u.history;return typeof g=="number"?g:ht.DEFAULT_COMMANDS_HISTORY_LENGTH}};n.DEFAULT_COMMANDS_HISTORY_LENGTH=50,n.PREF_KEY_CACHE="commandPalette.mru.cache",n.PREF_KEY_COUNTER="commandPalette.mru.counter",n.counter=1,e.CommandsHistory=n=Ne([ge(0,r.IStorageService),ge(1,p.IConfigurationService)],n)}),define(X[808],ee([1,0,118,807]),function(q,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractEditorCommandsQuickAccessProvider=void 0;class y extends k.AbstractCommandsQuickAccessProvider{constructor(S,m,_,f,p,s){super(S,m,_,f,p,s)}getCodeEditorCommandPicks(){const S=this.activeTextEditorControl;if(!S)return[];const m=[];for(const _ of S.getSupportedActions())m.push({commandId:_.id,commandAlias:_.alias,label:(0,L.stripIcons)(_.label)||_.id});return m}}e.AbstractEditorCommandsQuickAccessProvider=y}),define(X[809],ee([1,0,38,134,93,32,808,18,8,37,26,78,157,15,22,76]),function(q,e,L,k,y,D,S,m,_,f,p,s,t,i,o,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GotoLineAction=e.StandaloneCommandsQuickAccessProvider=void 0;let d=e.StandaloneCommandsQuickAccessProvider=class extends S.AbstractEditorCommandsQuickAccessProvider{get activeTextEditorControl(){return(0,m.withNullAsUndefined)(this.codeEditorService.getFocusedCodeEditor())}constructor(c,a,l,u,C,g){super({showAlias:!1},c,l,u,C,g),this.codeEditorService=a}getCommandPicks(){return Le(this,void 0,void 0,function*(){return this.getCodeEditorCommandPicks()})}hasAdditionalCommandPicks(){return!1}getAdditionalCommandPicks(){return Le(this,void 0,void 0,function*(){return[]})}};e.StandaloneCommandsQuickAccessProvider=d=Ne([ge(0,_.IInstantiationService),ge(1,D.ICodeEditorService),ge(2,f.IKeybindingService),ge(3,p.ICommandService),ge(4,s.ITelemetryService),ge(5,t.IDialogService)],d);class h extends i.EditorAction{constructor(){super({id:h.ID,label:y.QuickCommandNLS.quickCommandActionLabel,alias:"Command Palette",precondition:void 0,kbOpts:{kbExpr:o.EditorContextKeys.focus,primary:59,weight:100},contextMenuOpts:{group:"z_commands",order:1}})}run(c){c.get(r.IQuickInputService).quickAccess.show(d.PREFIX)}}e.GotoLineAction=h,h.ID="editor.action.quickCommand",(0,i.registerEditorAction)(h),L.Registry.as(k.Extensions.Quickaccess).registerQuickAccessProvider({ctor:d,prefix:d.PREFIX,helpEntries:[{description:y.QuickCommandNLS.quickCommandHelp,commandId:h.ID}]})}),define(X[33],ee([1,0,14,36,6,84,725,241,38]),function(q,e,L,k,y,D,S,m,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.workbenchColorsSchemaId=e.resolveColorValue=e.ifDefinedThenElse=e.oneOf=e.transparent=e.lighten=e.darken=e.executeTransform=e.chartsPurple=e.chartsGreen=e.chartsOrange=e.chartsYellow=e.chartsBlue=e.chartsRed=e.chartsLines=e.chartsForeground=e.problemsInfoIconForeground=e.problemsWarningIconForeground=e.problemsErrorIconForeground=e.minimapSliderActiveBackground=e.minimapSliderHoverBackground=e.minimapSliderBackground=e.minimapForegroundOpacity=e.minimapBackground=e.minimapWarning=e.minimapError=e.minimapSelection=e.minimapSelectionOccurrenceHighlight=e.minimapFindMatch=e.overviewRulerSelectionHighlightForeground=e.overviewRulerFindMatchForeground=e.overviewRulerCommonContentForeground=e.overviewRulerIncomingContentForeground=e.overviewRulerCurrentContentForeground=e.mergeBorder=e.mergeCommonContentBackground=e.mergeCommonHeaderBackground=e.mergeIncomingContentBackground=e.mergeIncomingHeaderBackground=e.mergeCurrentContentBackground=e.mergeCurrentHeaderBackground=e.breadcrumbsPickerBackground=e.breadcrumbsActiveSelectionForeground=e.breadcrumbsFocusForeground=e.breadcrumbsBackground=e.breadcrumbsForeground=e.snippetFinalTabstopHighlightBorder=e.snippetFinalTabstopHighlightBackground=e.snippetTabstopHighlightBorder=e.snippetTabstopHighlightBackground=e.toolbarActiveBackground=e.toolbarHoverOutline=e.toolbarHoverBackground=e.menuSeparatorBackground=e.menuSelectionBorder=e.menuSelectionBackground=e.menuSelectionForeground=e.menuBackground=e.menuForeground=e.menuBorder=e.quickInputListFocusBackground=e.quickInputListFocusIconForeground=e.quickInputListFocusForeground=e._deprecatedQuickInputListFocusBackground=e.checkboxSelectBorder=e.checkboxBorder=e.checkboxForeground=e.checkboxSelectBackground=e.checkboxBackground=e.listDeemphasizedForeground=e.tableOddRowsBackgroundColor=e.tableColumnsBorder=e.treeInactiveIndentGuidesStroke=e.treeIndentGuidesStroke=e.listFilterMatchHighlightBorder=e.listFilterMatchHighlight=e.listFilterWidgetShadow=e.listFilterWidgetNoMatchesOutline=e.listFilterWidgetOutline=e.listFilterWidgetBackground=e.listWarningForeground=e.listErrorForeground=e.listInvalidItemForeground=e.listFocusHighlightForeground=e.listHighlightForeground=e.listDropBackground=e.listHoverForeground=e.listHoverBackground=e.listInactiveFocusOutline=e.listInactiveFocusBackground=e.listInactiveSelectionIconForeground=e.listInactiveSelectionForeground=e.listInactiveSelectionBackground=e.listActiveSelectionIconForeground=e.listActiveSelectionForeground=e.listActiveSelectionBackground=e.listFocusAndSelectionOutline=e.listFocusOutline=e.listFocusForeground=e.listFocusBackground=e.diffUnchangedTextBackground=e.diffUnchangedRegionForeground=e.diffUnchangedRegionBackground=e.diffDiagonalFill=e.diffBorder=e.diffRemovedOutline=e.diffInsertedOutline=e.diffOverviewRulerRemoved=e.diffOverviewRulerInserted=e.diffRemovedLineGutter=e.diffInsertedLineGutter=e.diffRemovedLine=e.diffInsertedLine=e.diffRemoved=e.diffInserted=e.defaultRemoveColor=e.defaultInsertColor=e.editorLightBulbAutoFixForeground=e.editorLightBulbForeground=e.editorInlayHintParameterBackground=e.editorInlayHintParameterForeground=e.editorInlayHintTypeBackground=e.editorInlayHintTypeForeground=e.editorInlayHintBackground=e.editorInlayHintForeground=e.editorActiveLinkForeground=e.editorHoverStatusBarBackground=e.editorHoverBorder=e.editorHoverForeground=e.editorHoverBackground=e.editorHoverHighlight=e.searchResultsInfoForeground=e.searchEditorFindMatchBorder=e.searchEditorFindMatch=e.editorFindRangeHighlightBorder=e.editorFindMatchHighlightBorder=e.editorFindMatchBorder=e.editorFindRangeHighlight=e.editorFindMatchHighlight=e.editorFindMatch=e.editorSelectionHighlightBorder=e.editorSelectionHighlight=e.editorInactiveSelection=e.editorSelectionForeground=e.editorSelectionBackground=e.keybindingLabelBottomBorder=e.keybindingLabelBorder=e.keybindingLabelForeground=e.keybindingLabelBackground=e.pickerGroupBorder=e.pickerGroupForeground=e.quickInputTitleBackground=e.quickInputForeground=e.quickInputBackground=e.editorWidgetResizeBorder=e.editorWidgetBorder=e.editorWidgetForeground=e.editorWidgetBackground=e.editorStickyScrollHoverBackground=e.editorStickyScrollBackground=e.editorForeground=e.editorBackground=e.sashHoverBorder=e.editorHintBorder=e.editorHintForeground=e.editorInfoBorder=e.editorInfoForeground=e.editorInfoBackground=e.editorWarningBorder=e.editorWarningForeground=e.editorWarningBackground=e.editorErrorBorder=e.editorErrorForeground=e.editorErrorBackground=e.progressBarBackground=e.scrollbarSliderActiveBackground=e.scrollbarSliderHoverBackground=e.scrollbarSliderBackground=e.scrollbarShadow=e.badgeForeground=e.badgeBackground=e.buttonSecondaryHoverBackground=e.buttonSecondaryBackground=e.buttonSecondaryForeground=e.buttonBorder=e.buttonHoverBackground=e.buttonBackground=e.buttonSeparator=e.buttonForeground=e.selectBorder=e.selectForeground=e.selectListBackground=e.selectBackground=e.inputValidationErrorBorder=e.inputValidationErrorForeground=e.inputValidationErrorBackground=e.inputValidationWarningBorder=e.inputValidationWarningForeground=e.inputValidationWarningBackground=e.inputValidationInfoBorder=e.inputValidationInfoForeground=e.inputValidationInfoBackground=e.inputPlaceholderForeground=e.inputActiveOptionForeground=e.inputActiveOptionBackground=e.inputActiveOptionHoverBackground=e.inputActiveOptionBorder=e.inputBorder=e.inputForeground=e.inputBackground=e.widgetBorder=e.widgetShadow=e.textCodeBlockBackground=e.textBlockQuoteBorder=e.textBlockQuoteBackground=e.textPreformatForeground=e.textLinkActiveForeground=e.textLinkForeground=e.textSeparatorForeground=e.selectionBackground=e.activeContrastBorder=e.contrastBorder=e.focusBorder=e.iconForeground=e.descriptionForeground=e.errorForeground=e.disabledForeground=e.foreground=e.registerColor=e.Extensions=e.asCssVariableWithDefault=e.asCssVariable=e.asCssVariableName=void 0;function f(P){return`--vscode-${P.replace(/\./g,"-")}`}e.asCssVariableName=f;function p(P){return`var(${f(P)})`}e.asCssVariable=p;function s(P,A){return`var(${f(P)}, ${A})`}e.asCssVariableWithDefault=s,e.Extensions={ColorContribution:"base.contributions.colors"};class t{constructor(){this._onDidChangeSchema=new y.Emitter,this.onDidChangeSchema=this._onDidChangeSchema.event,this.colorSchema={type:"object",properties:{}},this.colorReferenceSchema={type:"string",enum:[],enumDescriptions:[]},this.colorsById={}}registerColor(A,M,N,R=!1,F){const x={id:A,description:N,defaults:M,needsTransparency:R,deprecationMessage:F};this.colorsById[A]=x;const W={type:"string",description:N,format:"color-hex",defaultSnippets:[{body:"${1:#ff0000}"}]};return F&&(W.deprecationMessage=F),this.colorSchema.properties[A]=W,this.colorReferenceSchema.enum.push(A),this.colorReferenceSchema.enumDescriptions.push(N),this._onDidChangeSchema.fire(),A}getColors(){return Object.keys(this.colorsById).map(A=>this.colorsById[A])}resolveDefaultColor(A,M){const N=this.colorsById[A];if(N&&N.defaults){const R=N.defaults[M.type];return E(R,M)}}getColorSchema(){return this.colorSchema}toString(){const A=(M,N)=>{const R=M.indexOf(".")===-1?0:1,F=N.indexOf(".")===-1?0:1;return R!==F?R-F:M.localeCompare(N)};return Object.keys(this.colorsById).sort(A).map(M=>`- \`${M}\`: ${this.colorsById[M].description}`).join(`
`)}}const i=new t;_.Registry.add(e.Extensions.ColorContribution,i);function o(P,A,M,N,R){return i.registerColor(P,A,M,N,R)}e.registerColor=o,e.foreground=o("foreground",{dark:"#CCCCCC",light:"#616161",hcDark:"#FFFFFF",hcLight:"#292929"},S.localize(0,null)),e.disabledForeground=o("disabledForeground",{dark:"#CCCCCC80",light:"#61616180",hcDark:"#A5A5A5",hcLight:"#7F7F7F"},S.localize(1,null)),e.errorForeground=o("errorForeground",{dark:"#F48771",light:"#A1260D",hcDark:"#F48771",hcLight:"#B5200D"},S.localize(2,null)),e.descriptionForeground=o("descriptionForeground",{light:"#717171",dark:g(e.foreground,.7),hcDark:g(e.foreground,.7),hcLight:g(e.foreground,.7)},S.localize(3,null)),e.iconForeground=o("icon.foreground",{dark:"#C5C5C5",light:"#424242",hcDark:"#FFFFFF",hcLight:"#292929"},S.localize(4,null)),e.focusBorder=o("focusBorder",{dark:"#007FD4",light:"#0090F1",hcDark:"#F38518",hcLight:"#006BBD"},S.localize(5,null)),e.contrastBorder=o("contrastBorder",{light:null,dark:null,hcDark:"#6FC3DF",hcLight:"#0F4A85"},S.localize(6,null)),e.activeContrastBorder=o("contrastActiveBorder",{light:null,dark:null,hcDark:e.focusBorder,hcLight:e.focusBorder},S.localize(7,null)),e.selectionBackground=o("selection.background",{light:null,dark:null,hcDark:null,hcLight:null},S.localize(8,null)),e.textSeparatorForeground=o("textSeparator.foreground",{light:"#0000002e",dark:"#ffffff2e",hcDark:k.Color.black,hcLight:"#292929"},S.localize(9,null)),e.textLinkForeground=o("textLink.foreground",{light:"#006AB1",dark:"#3794FF",hcDark:"#3794FF",hcLight:"#0F4A85"},S.localize(10,null)),e.textLinkActiveForeground=o("textLink.activeForeground",{light:"#006AB1",dark:"#3794FF",hcDark:"#3794FF",hcLight:"#0F4A85"},S.localize(11,null)),e.textPreformatForeground=o("textPreformat.foreground",{light:"#A31515",dark:"#D7BA7D",hcDark:"#D7BA7D",hcLight:"#292929"},S.localize(12,null)),e.textBlockQuoteBackground=o("textBlockQuote.background",{light:"#7f7f7f1a",dark:"#7f7f7f1a",hcDark:null,hcLight:"#F2F2F2"},S.localize(13,null)),e.textBlockQuoteBorder=o("textBlockQuote.border",{light:"#007acc80",dark:"#007acc80",hcDark:k.Color.white,hcLight:"#292929"},S.localize(14,null)),e.textCodeBlockBackground=o("textCodeBlock.background",{light:"#dcdcdc66",dark:"#0a0a0a66",hcDark:k.Color.black,hcLight:"#F2F2F2"},S.localize(15,null)),e.widgetShadow=o("widget.shadow",{dark:g(k.Color.black,.36),light:g(k.Color.black,.16),hcDark:null,hcLight:null},S.localize(16,null)),e.widgetBorder=o("widget.border",{dark:null,light:null,hcDark:e.contrastBorder,hcLight:e.contrastBorder},S.localize(17,null)),e.inputBackground=o("input.background",{dark:"#3C3C3C",light:k.Color.white,hcDark:k.Color.black,hcLight:k.Color.white},S.localize(18,null)),e.inputForeground=o("input.foreground",{dark:e.foreground,light:e.foreground,hcDark:e.foreground,hcLight:e.foreground},S.localize(19,null)),e.inputBorder=o("input.border",{dark:null,light:null,hcDark:e.contrastBorder,hcLight:e.contrastBorder},S.localize(20,null)),e.inputActiveOptionBorder=o("inputOption.activeBorder",{dark:"#007ACC",light:"#007ACC",hcDark:e.contrastBorder,hcLight:e.contrastBorder},S.localize(21,null)),e.inputActiveOptionHoverBackground=o("inputOption.hoverBackground",{dark:"#5a5d5e80",light:"#b8b8b850",hcDark:null,hcLight:null},S.localize(22,null)),e.inputActiveOptionBackground=o("inputOption.activeBackground",{dark:g(e.focusBorder,.4),light:g(e.focusBorder,.2),hcDark:k.Color.transparent,hcLight:k.Color.transparent},S.localize(23,null)),e.inputActiveOptionForeground=o("inputOption.activeForeground",{dark:k.Color.white,light:k.Color.black,hcDark:e.foreground,hcLight:e.foreground},S.localize(24,null)),e.inputPlaceholderForeground=o("input.placeholderForeground",{light:g(e.foreground,.5),dark:g(e.foreground,.5),hcDark:g(e.foreground,.7),hcLight:g(e.foreground,.7)},S.localize(25,null)),e.inputValidationInfoBackground=o("inputValidation.infoBackground",{dark:"#063B49",light:"#D6ECF2",hcDark:k.Color.black,hcLight:k.Color.white},S.localize(26,null)),e.inputValidationInfoForeground=o("inputValidation.infoForeground",{dark:null,light:null,hcDark:null,hcLight:e.foreground},S.localize(27,null)),e.inputValidationInfoBorder=o("inputValidation.infoBorder",{dark:"#007acc",light:"#007acc",hcDark:e.contrastBorder,hcLight:e.contrastBorder},S.localize(28,null)),e.inputValidationWarningBackground=o("inputValidation.warningBackground",{dark:"#352A05",light:"#F6F5D2",hcDark:k.Color.black,hcLight:k.Color.white},S.localize(29,null)),e.inputValidationWarningForeground=o("inputValidation.warningForeground",{dark:null,light:null,hcDark:null,hcLight:e.foreground},S.localize(30,null)),e.inputValidationWarningBorder=o("inputValidation.warningBorder",{dark:"#B89500",light:"#B89500",hcDark:e.contrastBorder,hcLight:e.contrastBorder},S.localize(31,null)),e.inputValidationErrorBackground=o("inputValidation.errorBackground",{dark:"#5A1D1D",light:"#F2DEDE",hcDark:k.Color.black,hcLight:k.Color.white},S.localize(32,null)),e.inputValidationErrorForeground=o("inputValidation.errorForeground",{dark:null,light:null,hcDark:null,hcLight:e.foreground},S.localize(33,null)),e.inputValidationErrorBorder=o("inputValidation.errorBorder",{dark:"#BE1100",light:"#BE1100",hcDark:e.contrastBorder,hcLight:e.contrastBorder},S.localize(34,null)),e.selectBackground=o("dropdown.background",{dark:"#3C3C3C",light:k.Color.white,hcDark:k.Color.black,hcLight:k.Color.white},S.localize(35,null)),e.selectListBackground=o("dropdown.listBackground",{dark:null,light:null,hcDark:k.Color.black,hcLight:k.Color.white},S.localize(36,null)),e.selectForeground=o("dropdown.foreground",{dark:"#F0F0F0",light:e.foreground,hcDark:k.Color.white,hcLight:e.foreground},S.localize(37,null)),e.selectBorder=o("dropdown.border",{dark:e.selectBackground,light:"#CECECE",hcDark:e.contrastBorder,hcLight:e.contrastBorder},S.localize(38,null)),e.buttonForeground=o("button.foreground",{dark:k.Color.white,light:k.Color.white,hcDark:k.Color.white,hcLight:k.Color.white},S.localize(39,null)),e.buttonSeparator=o("button.separator",{dark:g(e.buttonForeground,.4),light:g(e.buttonForeground,.4),hcDark:g(e.buttonForeground,.4),hcLight:g(e.buttonForeground,.4)},S.localize(40,null)),e.buttonBackground=o("button.background",{dark:"#0E639C",light:"#007ACC",hcDark:null,hcLight:"#0F4A85"},S.localize(41,null)),e.buttonHoverBackground=o("button.hoverBackground",{dark:C(e.buttonBackground,.2),light:u(e.buttonBackground,.2),hcDark:e.buttonBackground,hcLight:e.buttonBackground},S.localize(42,null)),e.buttonBorder=o("button.border",{dark:e.contrastBorder,light:e.contrastBorder,hcDark:e.contrastBorder,hcLight:e.contrastBorder},S.localize(43,null)),e.buttonSecondaryForeground=o("button.secondaryForeground",{dark:k.Color.white,light:k.Color.white,hcDark:k.Color.white,hcLight:e.foreground},S.localize(44,null)),e.buttonSecondaryBackground=o("button.secondaryBackground",{dark:"#3A3D41",light:"#5F6A79",hcDark:null,hcLight:k.Color.white},S.localize(45,null)),e.buttonSecondaryHoverBackground=o("button.secondaryHoverBackground",{dark:C(e.buttonSecondaryBackground,.2),light:u(e.buttonSecondaryBackground,.2),hcDark:null,hcLight:null},S.localize(46,null)),e.badgeBackground=o("badge.background",{dark:"#4D4D4D",light:"#C4C4C4",hcDark:k.Color.black,hcLight:"#0F4A85"},S.localize(47,null)),e.badgeForeground=o("badge.foreground",{dark:k.Color.white,light:"#333",hcDark:k.Color.white,hcLight:k.Color.white},S.localize(48,null)),e.scrollbarShadow=o("scrollbar.shadow",{dark:"#000000",light:"#DDDDDD",hcDark:null,hcLight:null},S.localize(49,null)),e.scrollbarSliderBackground=o("scrollbarSlider.background",{dark:k.Color.fromHex("#797979").transparent(.4),light:k.Color.fromHex("#646464").transparent(.4),hcDark:g(e.contrastBorder,.6),hcLight:g(e.contrastBorder,.4)},S.localize(50,null)),e.scrollbarSliderHoverBackground=o("scrollbarSlider.hoverBackground",{dark:k.Color.fromHex("#646464").transparent(.7),light:k.Color.fromHex("#646464").transparent(.7),hcDark:g(e.contrastBorder,.8),hcLight:g(e.contrastBorder,.8)},S.localize(51,null)),e.scrollbarSliderActiveBackground=o("scrollbarSlider.activeBackground",{dark:k.Color.fromHex("#BFBFBF").transparent(.4),light:k.Color.fromHex("#000000").transparent(.6),hcDark:e.contrastBorder,hcLight:e.contrastBorder},S.localize(52,null)),e.progressBarBackground=o("progressBar.background",{dark:k.Color.fromHex("#0E70C0"),light:k.Color.fromHex("#0E70C0"),hcDark:e.contrastBorder,hcLight:e.contrastBorder},S.localize(53,null)),e.editorErrorBackground=o("editorError.background",{dark:null,light:null,hcDark:null,hcLight:null},S.localize(54,null),!0),e.editorErrorForeground=o("editorError.foreground",{dark:"#F14C4C",light:"#E51400",hcDark:"#F48771",hcLight:"#B5200D"},S.localize(55,null)),e.editorErrorBorder=o("editorError.border",{dark:null,light:null,hcDark:k.Color.fromHex("#E47777").transparent(.8),hcLight:"#B5200D"},S.localize(56,null)),e.editorWarningBackground=o("editorWarning.background",{dark:null,light:null,hcDark:null,hcLight:null},S.localize(57,null),!0),e.editorWarningForeground=o("editorWarning.foreground",{dark:"#CCA700",light:"#BF8803",hcDark:"#FFD370",hcLight:"#895503"},S.localize(58,null)),e.editorWarningBorder=o("editorWarning.border",{dark:null,light:null,hcDark:k.Color.fromHex("#FFCC00").transparent(.8),hcLight:k.Color.fromHex("#FFCC00").transparent(.8)},S.localize(59,null)),e.editorInfoBackground=o("editorInfo.background",{dark:null,light:null,hcDark:null,hcLight:null},S.localize(60,null),!0),e.editorInfoForeground=o("editorInfo.foreground",{dark:"#3794FF",light:"#1a85ff",hcDark:"#3794FF",hcLight:"#1a85ff"},S.localize(61,null)),e.editorInfoBorder=o("editorInfo.border",{dark:null,light:null,hcDark:k.Color.fromHex("#3794FF").transparent(.8),hcLight:"#292929"},S.localize(62,null)),e.editorHintForeground=o("editorHint.foreground",{dark:k.Color.fromHex("#eeeeee").transparent(.7),light:"#6c6c6c",hcDark:null,hcLight:null},S.localize(63,null)),e.editorHintBorder=o("editorHint.border",{dark:null,light:null,hcDark:k.Color.fromHex("#eeeeee").transparent(.8),hcLight:"#292929"},S.localize(64,null)),e.sashHoverBorder=o("sash.hoverBorder",{dark:e.focusBorder,light:e.focusBorder,hcDark:e.focusBorder,hcLight:e.focusBorder},S.localize(65,null)),e.editorBackground=o("editor.background",{light:"#ffffff",dark:"#1E1E1E",hcDark:k.Color.black,hcLight:k.Color.white},S.localize(66,null)),e.editorForeground=o("editor.foreground",{light:"#333333",dark:"#BBBBBB",hcDark:k.Color.white,hcLight:e.foreground},S.localize(67,null)),e.editorStickyScrollBackground=o("editorStickyScroll.background",{light:e.editorBackground,dark:e.editorBackground,hcDark:e.editorBackground,hcLight:e.editorBackground},S.localize(68,null)),e.editorStickyScrollHoverBackground=o("editorStickyScrollHover.background",{dark:"#2A2D2E",light:"#F0F0F0",hcDark:null,hcLight:k.Color.fromHex("#0F4A85").transparent(.1)},S.localize(69,null)),e.editorWidgetBackground=o("editorWidget.background",{dark:"#252526",light:"#F3F3F3",hcDark:"#0C141F",hcLight:k.Color.white},S.localize(70,null)),e.editorWidgetForeground=o("editorWidget.foreground",{dark:e.foreground,light:e.foreground,hcDark:e.foreground,hcLight:e.foreground},S.localize(71,null)),e.editorWidgetBorder=o("editorWidget.border",{dark:"#454545",light:"#C8C8C8",hcDark:e.contrastBorder,hcLight:e.contrastBorder},S.localize(72,null)),e.editorWidgetResizeBorder=o("editorWidget.resizeBorder",{light:null,dark:null,hcDark:null,hcLight:null},S.localize(73,null)),e.quickInputBackground=o("quickInput.background",{dark:e.editorWidgetBackground,light:e.editorWidgetBackground,hcDark:e.editorWidgetBackground,hcLight:e.editorWidgetBackground},S.localize(74,null)),e.quickInputForeground=o("quickInput.foreground",{dark:e.editorWidgetForeground,light:e.editorWidgetForeground,hcDark:e.editorWidgetForeground,hcLight:e.editorWidgetForeground},S.localize(75,null)),e.quickInputTitleBackground=o("quickInputTitle.background",{dark:new k.Color(new k.RGBA(255,255,255,.105)),light:new k.Color(new k.RGBA(0,0,0,.06)),hcDark:"#000000",hcLight:k.Color.white},S.localize(76,null)),e.pickerGroupForeground=o("pickerGroup.foreground",{dark:"#3794FF",light:"#0066BF",hcDark:k.Color.white,hcLight:"#0F4A85"},S.localize(77,null)),e.pickerGroupBorder=o("pickerGroup.border",{dark:"#3F3F46",light:"#CCCEDB",hcDark:k.Color.white,hcLight:"#0F4A85"},S.localize(78,null)),e.keybindingLabelBackground=o("keybindingLabel.background",{dark:new k.Color(new k.RGBA(128,128,128,.17)),light:new k.Color(new k.RGBA(221,221,221,.4)),hcDark:k.Color.transparent,hcLight:k.Color.transparent},S.localize(79,null)),e.keybindingLabelForeground=o("keybindingLabel.foreground",{dark:k.Color.fromHex("#CCCCCC"),light:k.Color.fromHex("#555555"),hcDark:k.Color.white,hcLight:e.foreground},S.localize(80,null)),e.keybindingLabelBorder=o("keybindingLabel.border",{dark:new k.Color(new k.RGBA(51,51,51,.6)),light:new k.Color(new k.RGBA(204,204,204,.4)),hcDark:new k.Color(new k.RGBA(111,195,223)),hcLight:e.contrastBorder},S.localize(81,null)),e.keybindingLabelBottomBorder=o("keybindingLabel.bottomBorder",{dark:new k.Color(new k.RGBA(68,68,68,.6)),light:new k.Color(new k.RGBA(187,187,187,.4)),hcDark:new k.Color(new k.RGBA(111,195,223)),hcLight:e.foreground},S.localize(82,null)),e.editorSelectionBackground=o("editor.selectionBackground",{light:"#ADD6FF",dark:"#264F78",hcDark:"#f3f518",hcLight:"#0F4A85"},S.localize(83,null)),e.editorSelectionForeground=o("editor.selectionForeground",{light:null,dark:null,hcDark:"#000000",hcLight:k.Color.white},S.localize(84,null)),e.editorInactiveSelection=o("editor.inactiveSelectionBackground",{light:g(e.editorSelectionBackground,.5),dark:g(e.editorSelectionBackground,.5),hcDark:g(e.editorSelectionBackground,.7),hcLight:g(e.editorSelectionBackground,.5)},S.localize(85,null),!0),e.editorSelectionHighlight=o("editor.selectionHighlightBackground",{light:w(e.editorSelectionBackground,e.editorBackground,.3,.6),dark:w(e.editorSelectionBackground,e.editorBackground,.3,.6),hcDark:null,hcLight:null},S.localize(86,null),!0),e.editorSelectionHighlightBorder=o("editor.selectionHighlightBorder",{light:null,dark:null,hcDark:e.activeContrastBorder,hcLight:e.activeContrastBorder},S.localize(87,null)),e.editorFindMatch=o("editor.findMatchBackground",{light:"#A8AC94",dark:"#515C6A",hcDark:null,hcLight:null},S.localize(88,null)),e.editorFindMatchHighlight=o("editor.findMatchHighlightBackground",{light:"#EA5C0055",dark:"#EA5C0055",hcDark:null,hcLight:null},S.localize(89,null),!0),e.editorFindRangeHighlight=o("editor.findRangeHighlightBackground",{dark:"#3a3d4166",light:"#b4b4b44d",hcDark:null,hcLight:null},S.localize(90,null),!0),e.editorFindMatchBorder=o("editor.findMatchBorder",{light:null,dark:null,hcDark:e.activeContrastBorder,hcLight:e.activeContrastBorder},S.localize(91,null)),e.editorFindMatchHighlightBorder=o("editor.findMatchHighlightBorder",{light:null,dark:null,hcDark:e.activeContrastBorder,hcLight:e.activeContrastBorder},S.localize(92,null)),e.editorFindRangeHighlightBorder=o("editor.findRangeHighlightBorder",{dark:null,light:null,hcDark:g(e.activeContrastBorder,.4),hcLight:g(e.activeContrastBorder,.4)},S.localize(93,null),!0),e.searchEditorFindMatch=o("searchEditor.findMatchBackground",{light:g(e.editorFindMatchHighlight,.66),dark:g(e.editorFindMatchHighlight,.66),hcDark:e.editorFindMatchHighlight,hcLight:e.editorFindMatchHighlight},S.localize(94,null)),e.searchEditorFindMatchBorder=o("searchEditor.findMatchBorder",{light:g(e.editorFindMatchHighlightBorder,.66),dark:g(e.editorFindMatchHighlightBorder,.66),hcDark:e.editorFindMatchHighlightBorder,hcLight:e.editorFindMatchHighlightBorder},S.localize(95,null)),e.searchResultsInfoForeground=o("search.resultsInfoForeground",{light:e.foreground,dark:g(e.foreground,.65),hcDark:e.foreground,hcLight:e.foreground},S.localize(96,null)),e.editorHoverHighlight=o("editor.hoverHighlightBackground",{light:"#ADD6FF26",dark:"#264f7840",hcDark:"#ADD6FF26",hcLight:null},S.localize(97,null),!0),e.editorHoverBackground=o("editorHoverWidget.background",{light:e.editorWidgetBackground,dark:e.editorWidgetBackground,hcDark:e.editorWidgetBackground,hcLight:e.editorWidgetBackground},S.localize(98,null)),e.editorHoverForeground=o("editorHoverWidget.foreground",{light:e.editorWidgetForeground,dark:e.editorWidgetForeground,hcDark:e.editorWidgetForeground,hcLight:e.editorWidgetForeground},S.localize(99,null)),e.editorHoverBorder=o("editorHoverWidget.border",{light:e.editorWidgetBorder,dark:e.editorWidgetBorder,hcDark:e.editorWidgetBorder,hcLight:e.editorWidgetBorder},S.localize(100,null)),e.editorHoverStatusBarBackground=o("editorHoverWidget.statusBarBackground",{dark:C(e.editorHoverBackground,.2),light:u(e.editorHoverBackground,.05),hcDark:e.editorWidgetBackground,hcLight:e.editorWidgetBackground},S.localize(101,null)),e.editorActiveLinkForeground=o("editorLink.activeForeground",{dark:"#4E94CE",light:k.Color.blue,hcDark:k.Color.cyan,hcLight:"#292929"},S.localize(102,null)),e.editorInlayHintForeground=o("editorInlayHint.foreground",{dark:e.foreground,light:e.foreground,hcDark:k.Color.black,hcLight:e.badgeForeground},S.localize(103,null)),e.editorInlayHintBackground=o("editorInlayHint.background",{dark:g(e.badgeBackground,.25),light:g(e.badgeBackground,.3),hcDark:"#f38518",hcLight:e.badgeBackground},S.localize(104,null)),e.editorInlayHintTypeForeground=o("editorInlayHint.typeForeground",{dark:e.editorInlayHintForeground,light:e.editorInlayHintForeground,hcDark:e.editorInlayHintForeground,hcLight:e.editorInlayHintForeground},S.localize(105,null)),e.editorInlayHintTypeBackground=o("editorInlayHint.typeBackground",{dark:e.editorInlayHintBackground,light:e.editorInlayHintBackground,hcDark:e.editorInlayHintBackground,hcLight:e.editorInlayHintBackground},S.localize(106,null)),e.editorInlayHintParameterForeground=o("editorInlayHint.parameterForeground",{dark:e.editorInlayHintForeground,light:e.editorInlayHintForeground,hcDark:e.editorInlayHintForeground,hcLight:e.editorInlayHintForeground},S.localize(107,null)),e.editorInlayHintParameterBackground=o("editorInlayHint.parameterBackground",{dark:e.editorInlayHintBackground,light:e.editorInlayHintBackground,hcDark:e.editorInlayHintBackground,hcLight:e.editorInlayHintBackground},S.localize(108,null)),e.editorLightBulbForeground=o("editorLightBulb.foreground",{dark:"#FFCC00",light:"#DDB100",hcDark:"#FFCC00",hcLight:"#007ACC"},S.localize(109,null)),e.editorLightBulbAutoFixForeground=o("editorLightBulbAutoFix.foreground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},S.localize(110,null)),e.defaultInsertColor=new k.Color(new k.RGBA(155,185,85,.2)),e.defaultRemoveColor=new k.Color(new k.RGBA(255,0,0,.2)),e.diffInserted=o("diffEditor.insertedTextBackground",{dark:"#9ccc2c33",light:"#9ccc2c40",hcDark:null,hcLight:null},S.localize(111,null),!0),e.diffRemoved=o("diffEditor.removedTextBackground",{dark:"#ff000033",light:"#ff000033",hcDark:null,hcLight:null},S.localize(112,null),!0),e.diffInsertedLine=o("diffEditor.insertedLineBackground",{dark:e.defaultInsertColor,light:e.defaultInsertColor,hcDark:null,hcLight:null},S.localize(113,null),!0),e.diffRemovedLine=o("diffEditor.removedLineBackground",{dark:e.defaultRemoveColor,light:e.defaultRemoveColor,hcDark:null,hcLight:null},S.localize(114,null),!0),e.diffInsertedLineGutter=o("diffEditorGutter.insertedLineBackground",{dark:null,light:null,hcDark:null,hcLight:null},S.localize(115,null)),e.diffRemovedLineGutter=o("diffEditorGutter.removedLineBackground",{dark:null,light:null,hcDark:null,hcLight:null},S.localize(116,null)),e.diffOverviewRulerInserted=o("diffEditorOverview.insertedForeground",{dark:null,light:null,hcDark:null,hcLight:null},S.localize(117,null)),e.diffOverviewRulerRemoved=o("diffEditorOverview.removedForeground",{dark:null,light:null,hcDark:null,hcLight:null},S.localize(118,null)),e.diffInsertedOutline=o("diffEditor.insertedTextBorder",{dark:null,light:null,hcDark:"#33ff2eff",hcLight:"#374E06"},S.localize(119,null)),e.diffRemovedOutline=o("diffEditor.removedTextBorder",{dark:null,light:null,hcDark:"#FF008F",hcLight:"#AD0707"},S.localize(120,null)),e.diffBorder=o("diffEditor.border",{dark:null,light:null,hcDark:e.contrastBorder,hcLight:e.contrastBorder},S.localize(121,null)),e.diffDiagonalFill=o("diffEditor.diagonalFill",{dark:"#cccccc33",light:"#22222233",hcDark:null,hcLight:null},S.localize(122,null)),e.diffUnchangedRegionBackground=o("diffEditor.unchangedRegionBackground",{dark:"#3e3e3e",light:"#e4e4e4",hcDark:null,hcLight:null},S.localize(123,null)),e.diffUnchangedRegionForeground=o("diffEditor.unchangedRegionForeground",{dark:"#a3a2a2",light:"#4d4c4c",hcDark:null,hcLight:null},S.localize(124,null)),e.diffUnchangedTextBackground=o("diffEditor.unchangedCodeBackground",{dark:"#74747429",light:"#b8b8b829",hcDark:null,hcLight:null},S.localize(125,null)),e.listFocusBackground=o("list.focusBackground",{dark:null,light:null,hcDark:null,hcLight:null},S.localize(126,null)),e.listFocusForeground=o("list.focusForeground",{dark:null,light:null,hcDark:null,hcLight:null},S.localize(127,null)),e.listFocusOutline=o("list.focusOutline",{dark:e.focusBorder,light:e.focusBorder,hcDark:e.activeContrastBorder,hcLight:e.activeContrastBorder},S.localize(128,null)),e.listFocusAndSelectionOutline=o("list.focusAndSelectionOutline",{dark:null,light:null,hcDark:null,hcLight:null},S.localize(129,null)),e.listActiveSelectionBackground=o("list.activeSelectionBackground",{dark:"#04395E",light:"#0060C0",hcDark:null,hcLight:k.Color.fromHex("#0F4A85").transparent(.1)},S.localize(130,null)),e.listActiveSelectionForeground=o("list.activeSelectionForeground",{dark:k.Color.white,light:k.Color.white,hcDark:null,hcLight:null},S.localize(131,null)),e.listActiveSelectionIconForeground=o("list.activeSelectionIconForeground",{dark:null,light:null,hcDark:null,hcLight:null},S.localize(132,null)),e.listInactiveSelectionBackground=o("list.inactiveSelectionBackground",{dark:"#37373D",light:"#E4E6F1",hcDark:null,hcLight:k.Color.fromHex("#0F4A85").transparent(.1)},S.localize(133,null)),e.listInactiveSelectionForeground=o("list.inactiveSelectionForeground",{dark:null,light:null,hcDark:null,hcLight:null},S.localize(134,null)),e.listInactiveSelectionIconForeground=o("list.inactiveSelectionIconForeground",{dark:null,light:null,hcDark:null,hcLight:null},S.localize(135,null)),e.listInactiveFocusBackground=o("list.inactiveFocusBackground",{dark:null,light:null,hcDark:null,hcLight:null},S.localize(136,null)),e.listInactiveFocusOutline=o("list.inactiveFocusOutline",{dark:null,light:null,hcDark:null,hcLight:null},S.localize(137,null)),e.listHoverBackground=o("list.hoverBackground",{dark:"#2A2D2E",light:"#F0F0F0",hcDark:k.Color.white.transparent(.1),hcLight:k.Color.fromHex("#0F4A85").transparent(.1)},S.localize(138,null)),e.listHoverForeground=o("list.hoverForeground",{dark:null,light:null,hcDark:null,hcLight:null},S.localize(139,null)),e.listDropBackground=o("list.dropBackground",{dark:"#062F4A",light:"#D6EBFF",hcDark:null,hcLight:null},S.localize(140,null)),e.listHighlightForeground=o("list.highlightForeground",{dark:"#2AAAFF",light:"#0066BF",hcDark:e.focusBorder,hcLight:e.focusBorder},S.localize(141,null)),e.listFocusHighlightForeground=o("list.focusHighlightForeground",{dark:e.listHighlightForeground,light:b(e.listActiveSelectionBackground,e.listHighlightForeground,"#BBE7FF"),hcDark:e.listHighlightForeground,hcLight:e.listHighlightForeground},S.localize(142,null)),e.listInvalidItemForeground=o("list.invalidItemForeground",{dark:"#B89500",light:"#B89500",hcDark:"#B89500",hcLight:"#B5200D"},S.localize(143,null)),e.listErrorForeground=o("list.errorForeground",{dark:"#F88070",light:"#B01011",hcDark:null,hcLight:null},S.localize(144,null)),e.listWarningForeground=o("list.warningForeground",{dark:"#CCA700",light:"#855F00",hcDark:null,hcLight:null},S.localize(145,null)),e.listFilterWidgetBackground=o("listFilterWidget.background",{light:u(e.editorWidgetBackground,0),dark:C(e.editorWidgetBackground,0),hcDark:e.editorWidgetBackground,hcLight:e.editorWidgetBackground},S.localize(146,null)),e.listFilterWidgetOutline=o("listFilterWidget.outline",{dark:k.Color.transparent,light:k.Color.transparent,hcDark:"#f38518",hcLight:"#007ACC"},S.localize(147,null)),e.listFilterWidgetNoMatchesOutline=o("listFilterWidget.noMatchesOutline",{dark:"#BE1100",light:"#BE1100",hcDark:e.contrastBorder,hcLight:e.contrastBorder},S.localize(148,null)),e.listFilterWidgetShadow=o("listFilterWidget.shadow",{dark:e.widgetShadow,light:e.widgetShadow,hcDark:e.widgetShadow,hcLight:e.widgetShadow},S.localize(149,null)),e.listFilterMatchHighlight=o("list.filterMatchBackground",{dark:e.editorFindMatchHighlight,light:e.editorFindMatchHighlight,hcDark:null,hcLight:null},S.localize(150,null)),e.listFilterMatchHighlightBorder=o("list.filterMatchBorder",{dark:e.editorFindMatchHighlightBorder,light:e.editorFindMatchHighlightBorder,hcDark:e.contrastBorder,hcLight:e.activeContrastBorder},S.localize(151,null)),e.treeIndentGuidesStroke=o("tree.indentGuidesStroke",{dark:"#585858",light:"#a9a9a9",hcDark:"#a9a9a9",hcLight:"#a5a5a5"},S.localize(152,null)),e.treeInactiveIndentGuidesStroke=o("tree.inactiveIndentGuidesStroke",{dark:g(e.treeIndentGuidesStroke,.4),light:g(e.treeIndentGuidesStroke,.4),hcDark:g(e.treeIndentGuidesStroke,.4),hcLight:g(e.treeIndentGuidesStroke,.4)},S.localize(153,null)),e.tableColumnsBorder=o("tree.tableColumnsBorder",{dark:"#CCCCCC20",light:"#61616120",hcDark:null,hcLight:null},S.localize(154,null)),e.tableOddRowsBackgroundColor=o("tree.tableOddRowsBackground",{dark:g(e.foreground,.04),light:g(e.foreground,.04),hcDark:null,hcLight:null},S.localize(155,null)),e.listDeemphasizedForeground=o("list.deemphasizedForeground",{dark:"#8C8C8C",light:"#8E8E90",hcDark:"#A7A8A9",hcLight:"#666666"},S.localize(156,null)),e.checkboxBackground=o("checkbox.background",{dark:e.selectBackground,light:e.selectBackground,hcDark:e.selectBackground,hcLight:e.selectBackground},S.localize(157,null)),e.checkboxSelectBackground=o("checkbox.selectBackground",{dark:e.editorWidgetBackground,light:e.editorWidgetBackground,hcDark:e.editorWidgetBackground,hcLight:e.editorWidgetBackground},S.localize(158,null)),e.checkboxForeground=o("checkbox.foreground",{dark:e.selectForeground,light:e.selectForeground,hcDark:e.selectForeground,hcLight:e.selectForeground},S.localize(159,null)),e.checkboxBorder=o("checkbox.border",{dark:e.selectBorder,light:e.selectBorder,hcDark:e.selectBorder,hcLight:e.selectBorder},S.localize(160,null)),e.checkboxSelectBorder=o("checkbox.selectBorder",{dark:e.iconForeground,light:e.iconForeground,hcDark:e.iconForeground,hcLight:e.iconForeground},S.localize(161,null)),e._deprecatedQuickInputListFocusBackground=o("quickInput.list.focusBackground",{dark:null,light:null,hcDark:null,hcLight:null},"",void 0,S.localize(162,null)),e.quickInputListFocusForeground=o("quickInputList.focusForeground",{dark:e.listActiveSelectionForeground,light:e.listActiveSelectionForeground,hcDark:e.listActiveSelectionForeground,hcLight:e.listActiveSelectionForeground},S.localize(163,null)),e.quickInputListFocusIconForeground=o("quickInputList.focusIconForeground",{dark:e.listActiveSelectionIconForeground,light:e.listActiveSelectionIconForeground,hcDark:e.listActiveSelectionIconForeground,hcLight:e.listActiveSelectionIconForeground},S.localize(164,null)),e.quickInputListFocusBackground=o("quickInputList.focusBackground",{dark:v(e._deprecatedQuickInputListFocusBackground,e.listActiveSelectionBackground),light:v(e._deprecatedQuickInputListFocusBackground,e.listActiveSelectionBackground),hcDark:null,hcLight:null},S.localize(165,null)),e.menuBorder=o("menu.border",{dark:null,light:null,hcDark:e.contrastBorder,hcLight:e.contrastBorder},S.localize(166,null)),e.menuForeground=o("menu.foreground",{dark:e.selectForeground,light:e.selectForeground,hcDark:e.selectForeground,hcLight:e.selectForeground},S.localize(167,null)),e.menuBackground=o("menu.background",{dark:e.selectBackground,light:e.selectBackground,hcDark:e.selectBackground,hcLight:e.selectBackground},S.localize(168,null)),e.menuSelectionForeground=o("menu.selectionForeground",{dark:e.listActiveSelectionForeground,light:e.listActiveSelectionForeground,hcDark:e.listActiveSelectionForeground,hcLight:e.listActiveSelectionForeground},S.localize(169,null)),e.menuSelectionBackground=o("menu.selectionBackground",{dark:e.listActiveSelectionBackground,light:e.listActiveSelectionBackground,hcDark:e.listActiveSelectionBackground,hcLight:e.listActiveSelectionBackground},S.localize(170,null)),e.menuSelectionBorder=o("menu.selectionBorder",{dark:null,light:null,hcDark:e.activeContrastBorder,hcLight:e.activeContrastBorder},S.localize(171,null)),e.menuSeparatorBackground=o("menu.separatorBackground",{dark:"#606060",light:"#D4D4D4",hcDark:e.contrastBorder,hcLight:e.contrastBorder},S.localize(172,null)),e.toolbarHoverBackground=o("toolbar.hoverBackground",{dark:"#5a5d5e50",light:"#b8b8b850",hcDark:null,hcLight:null},S.localize(173,null)),e.toolbarHoverOutline=o("toolbar.hoverOutline",{dark:null,light:null,hcDark:e.activeContrastBorder,hcLight:e.activeContrastBorder},S.localize(174,null)),e.toolbarActiveBackground=o("toolbar.activeBackground",{dark:C(e.toolbarHoverBackground,.1),light:u(e.toolbarHoverBackground,.1),hcDark:null,hcLight:null},S.localize(175,null)),e.snippetTabstopHighlightBackground=o("editor.snippetTabstopHighlightBackground",{dark:new k.Color(new k.RGBA(124,124,124,.3)),light:new k.Color(new k.RGBA(10,50,100,.2)),hcDark:new k.Color(new k.RGBA(124,124,124,.3)),hcLight:new k.Color(new k.RGBA(10,50,100,.2))},S.localize(176,null)),e.snippetTabstopHighlightBorder=o("editor.snippetTabstopHighlightBorder",{dark:null,light:null,hcDark:null,hcLight:null},S.localize(177,null)),e.snippetFinalTabstopHighlightBackground=o("editor.snippetFinalTabstopHighlightBackground",{dark:null,light:null,hcDark:null,hcLight:null},S.localize(178,null)),e.snippetFinalTabstopHighlightBorder=o("editor.snippetFinalTabstopHighlightBorder",{dark:"#525252",light:new k.Color(new k.RGBA(10,50,100,.5)),hcDark:"#525252",hcLight:"#292929"},S.localize(179,null)),e.breadcrumbsForeground=o("breadcrumb.foreground",{light:g(e.foreground,.8),dark:g(e.foreground,.8),hcDark:g(e.foreground,.8),hcLight:g(e.foreground,.8)},S.localize(180,null)),e.breadcrumbsBackground=o("breadcrumb.background",{light:e.editorBackground,dark:e.editorBackground,hcDark:e.editorBackground,hcLight:e.editorBackground},S.localize(181,null)),e.breadcrumbsFocusForeground=o("breadcrumb.focusForeground",{light:u(e.foreground,.2),dark:C(e.foreground,.1),hcDark:C(e.foreground,.1),hcLight:C(e.foreground,.1)},S.localize(182,null)),e.breadcrumbsActiveSelectionForeground=o("breadcrumb.activeSelectionForeground",{light:u(e.foreground,.2),dark:C(e.foreground,.1),hcDark:C(e.foreground,.1),hcLight:C(e.foreground,.1)},S.localize(183,null)),e.breadcrumbsPickerBackground=o("breadcrumbPicker.background",{light:e.editorWidgetBackground,dark:e.editorWidgetBackground,hcDark:e.editorWidgetBackground,hcLight:e.editorWidgetBackground},S.localize(184,null));const r=.5,d=k.Color.fromHex("#40C8AE").transparent(r),h=k.Color.fromHex("#40A6FF").transparent(r),n=k.Color.fromHex("#606060").transparent(.4),c=.4,a=1;e.mergeCurrentHeaderBackground=o("merge.currentHeaderBackground",{dark:d,light:d,hcDark:null,hcLight:null},S.localize(185,null),!0),e.mergeCurrentContentBackground=o("merge.currentContentBackground",{dark:g(e.mergeCurrentHeaderBackground,c),light:g(e.mergeCurrentHeaderBackground,c),hcDark:g(e.mergeCurrentHeaderBackground,c),hcLight:g(e.mergeCurrentHeaderBackground,c)},S.localize(186,null),!0),e.mergeIncomingHeaderBackground=o("merge.incomingHeaderBackground",{dark:h,light:h,hcDark:null,hcLight:null},S.localize(187,null),!0),e.mergeIncomingContentBackground=o("merge.incomingContentBackground",{dark:g(e.mergeIncomingHeaderBackground,c),light:g(e.mergeIncomingHeaderBackground,c),hcDark:g(e.mergeIncomingHeaderBackground,c),hcLight:g(e.mergeIncomingHeaderBackground,c)},S.localize(188,null),!0),e.mergeCommonHeaderBackground=o("merge.commonHeaderBackground",{dark:n,light:n,hcDark:null,hcLight:null},S.localize(189,null),!0),e.mergeCommonContentBackground=o("merge.commonContentBackground",{dark:g(e.mergeCommonHeaderBackground,c),light:g(e.mergeCommonHeaderBackground,c),hcDark:g(e.mergeCommonHeaderBackground,c),hcLight:g(e.mergeCommonHeaderBackground,c)},S.localize(190,null),!0),e.mergeBorder=o("merge.border",{dark:null,light:null,hcDark:"#C3DF6F",hcLight:"#007ACC"},S.localize(191,null)),e.overviewRulerCurrentContentForeground=o("editorOverviewRuler.currentContentForeground",{dark:g(e.mergeCurrentHeaderBackground,a),light:g(e.mergeCurrentHeaderBackground,a),hcDark:e.mergeBorder,hcLight:e.mergeBorder},S.localize(192,null)),e.overviewRulerIncomingContentForeground=o("editorOverviewRuler.incomingContentForeground",{dark:g(e.mergeIncomingHeaderBackground,a),light:g(e.mergeIncomingHeaderBackground,a),hcDark:e.mergeBorder,hcLight:e.mergeBorder},S.localize(193,null)),e.overviewRulerCommonContentForeground=o("editorOverviewRuler.commonContentForeground",{dark:g(e.mergeCommonHeaderBackground,a),light:g(e.mergeCommonHeaderBackground,a),hcDark:e.mergeBorder,hcLight:e.mergeBorder},S.localize(194,null)),e.overviewRulerFindMatchForeground=o("editorOverviewRuler.findMatchForeground",{dark:"#d186167e",light:"#d186167e",hcDark:"#AB5A00",hcLight:""},S.localize(195,null),!0),e.overviewRulerSelectionHighlightForeground=o("editorOverviewRuler.selectionHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hcDark:"#A0A0A0CC",hcLight:"#A0A0A0CC"},S.localize(196,null),!0),e.minimapFindMatch=o("minimap.findMatchHighlight",{light:"#d18616",dark:"#d18616",hcDark:"#AB5A00",hcLight:"#0F4A85"},S.localize(197,null),!0),e.minimapSelectionOccurrenceHighlight=o("minimap.selectionOccurrenceHighlight",{light:"#c9c9c9",dark:"#676767",hcDark:"#ffffff",hcLight:"#0F4A85"},S.localize(198,null),!0),e.minimapSelection=o("minimap.selectionHighlight",{light:"#ADD6FF",dark:"#264F78",hcDark:"#ffffff",hcLight:"#0F4A85"},S.localize(199,null),!0),e.minimapError=o("minimap.errorHighlight",{dark:new k.Color(new k.RGBA(255,18,18,.7)),light:new k.Color(new k.RGBA(255,18,18,.7)),hcDark:new k.Color(new k.RGBA(255,50,50,1)),hcLight:"#B5200D"},S.localize(200,null)),e.minimapWarning=o("minimap.warningHighlight",{dark:e.editorWarningForeground,light:e.editorWarningForeground,hcDark:e.editorWarningBorder,hcLight:e.editorWarningBorder},S.localize(201,null)),e.minimapBackground=o("minimap.background",{dark:null,light:null,hcDark:null,hcLight:null},S.localize(202,null)),e.minimapForegroundOpacity=o("minimap.foregroundOpacity",{dark:k.Color.fromHex("#000f"),light:k.Color.fromHex("#000f"),hcDark:k.Color.fromHex("#000f"),hcLight:k.Color.fromHex("#000f")},S.localize(203,null)),e.minimapSliderBackground=o("minimapSlider.background",{light:g(e.scrollbarSliderBackground,.5),dark:g(e.scrollbarSliderBackground,.5),hcDark:g(e.scrollbarSliderBackground,.5),hcLight:g(e.scrollbarSliderBackground,.5)},S.localize(204,null)),e.minimapSliderHoverBackground=o("minimapSlider.hoverBackground",{light:g(e.scrollbarSliderHoverBackground,.5),dark:g(e.scrollbarSliderHoverBackground,.5),hcDark:g(e.scrollbarSliderHoverBackground,.5),hcLight:g(e.scrollbarSliderHoverBackground,.5)},S.localize(205,null)),e.minimapSliderActiveBackground=o("minimapSlider.activeBackground",{light:g(e.scrollbarSliderActiveBackground,.5),dark:g(e.scrollbarSliderActiveBackground,.5),hcDark:g(e.scrollbarSliderActiveBackground,.5),hcLight:g(e.scrollbarSliderActiveBackground,.5)},S.localize(206,null)),e.problemsErrorIconForeground=o("problemsErrorIcon.foreground",{dark:e.editorErrorForeground,light:e.editorErrorForeground,hcDark:e.editorErrorForeground,hcLight:e.editorErrorForeground},S.localize(207,null)),e.problemsWarningIconForeground=o("problemsWarningIcon.foreground",{dark:e.editorWarningForeground,light:e.editorWarningForeground,hcDark:e.editorWarningForeground,hcLight:e.editorWarningForeground},S.localize(208,null)),e.problemsInfoIconForeground=o("problemsInfoIcon.foreground",{dark:e.editorInfoForeground,light:e.editorInfoForeground,hcDark:e.editorInfoForeground,hcLight:e.editorInfoForeground},S.localize(209,null)),e.chartsForeground=o("charts.foreground",{dark:e.foreground,light:e.foreground,hcDark:e.foreground,hcLight:e.foreground},S.localize(210,null)),e.chartsLines=o("charts.lines",{dark:g(e.foreground,.5),light:g(e.foreground,.5),hcDark:g(e.foreground,.5),hcLight:g(e.foreground,.5)},S.localize(211,null)),e.chartsRed=o("charts.red",{dark:e.editorErrorForeground,light:e.editorErrorForeground,hcDark:e.editorErrorForeground,hcLight:e.editorErrorForeground},S.localize(212,null)),e.chartsBlue=o("charts.blue",{dark:e.editorInfoForeground,light:e.editorInfoForeground,hcDark:e.editorInfoForeground,hcLight:e.editorInfoForeground},S.localize(213,null)),e.chartsYellow=o("charts.yellow",{dark:e.editorWarningForeground,light:e.editorWarningForeground,hcDark:e.editorWarningForeground,hcLight:e.editorWarningForeground},S.localize(214,null)),e.chartsOrange=o("charts.orange",{dark:e.minimapFindMatch,light:e.minimapFindMatch,hcDark:e.minimapFindMatch,hcLight:e.minimapFindMatch},S.localize(215,null)),e.chartsGreen=o("charts.green",{dark:"#89D185",light:"#388A34",hcDark:"#89D185",hcLight:"#374e06"},S.localize(216,null)),e.chartsPurple=o("charts.purple",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},S.localize(217,null));function l(P,A){var M,N,R,F;switch(P.op){case 0:return(M=E(P.value,A))===null||M===void 0?void 0:M.darken(P.factor);case 1:return(N=E(P.value,A))===null||N===void 0?void 0:N.lighten(P.factor);case 2:return(R=E(P.value,A))===null||R===void 0?void 0:R.transparent(P.factor);case 3:{const x=E(P.background,A);return x?(F=E(P.value,A))===null||F===void 0?void 0:F.makeOpaque(x):E(P.value,A)}case 4:for(const x of P.values){const W=E(x,A);if(W)return W}return;case 6:return E(A.defines(P.if)?P.then:P.else,A);case 5:{const x=E(P.value,A);if(!x)return;const W=E(P.background,A);return W?x.isDarkerThan(W)?k.Color.getLighterColor(x,W,P.factor).transparent(P.transparency):k.Color.getDarkerColor(x,W,P.factor).transparent(P.transparency):x.transparent(P.factor*P.transparency)}default:throw(0,D.assertNever)(P)}}e.executeTransform=l;function u(P,A){return{op:0,value:P,factor:A}}e.darken=u;function C(P,A){return{op:1,value:P,factor:A}}e.lighten=C;function g(P,A){return{op:2,value:P,factor:A}}e.transparent=g;function v(...P){return{op:4,values:P}}e.oneOf=v;function b(P,A,M){return{op:6,if:P,then:A,else:M}}e.ifDefinedThenElse=b;function w(P,A,M,N){return{op:5,value:P,background:A,factor:M,transparency:N}}function E(P,A){if(P!==null){if(typeof P=="string")return P[0]==="#"?k.Color.fromHex(P):A.getColor(P);if(P instanceof k.Color)return P;if(typeof P=="object")return l(P,A)}}e.resolveColorValue=E,e.workbenchColorsSchemaId="vscode://schemas/workbench-colors";const I=_.Registry.as(m.Extensions.JSONContribution);I.registerSchema(e.workbenchColorsSchemaId,i.getColorSchema());const T=new L.RunOnceScheduler(()=>I.notifySchemaChanged(e.workbenchColorsSchemaId),200);i.onDidChangeSchema(()=>{T.isScheduled()||T.schedule()})}),define(X[161],ee([1,0,7,151,73,14,2,33]),function(q,e,L,k,y,D,S,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DynamicCssRules=e.GlobalEditorPointerMoveMonitor=e.EditorPointerEventFactory=e.EditorMouseEventFactory=e.EditorMouseEvent=e.createCoordinatesRelativeToEditor=e.createEditorPagePosition=e.CoordinatesRelativeToEditor=e.EditorPagePosition=e.ClientCoordinates=e.PageCoordinates=void 0;class _{constructor(u,C){this.x=u,this.y=C,this._pageCoordinatesBrand=void 0}toClientCoordinates(){return new f(this.x-window.scrollX,this.y-window.scrollY)}}e.PageCoordinates=_;class f{constructor(u,C){this.clientX=u,this.clientY=C,this._clientCoordinatesBrand=void 0}toPageCoordinates(){return new _(this.clientX+window.scrollX,this.clientY+window.scrollY)}}e.ClientCoordinates=f;class p{constructor(u,C,g,v){this.x=u,this.y=C,this.width=g,this.height=v,this._editorPagePositionBrand=void 0}}e.EditorPagePosition=p;class s{constructor(u,C){this.x=u,this.y=C,this._positionRelativeToEditorBrand=void 0}}e.CoordinatesRelativeToEditor=s;function t(l){const u=L.getDomNodePagePosition(l);return new p(u.left,u.top,u.width,u.height)}e.createEditorPagePosition=t;function i(l,u,C){const g=u.width/l.offsetWidth,v=u.height/l.offsetHeight,b=(C.x-u.x)/g,w=(C.y-u.y)/v;return new s(b,w)}e.createCoordinatesRelativeToEditor=i;class o extends y.StandardMouseEvent{constructor(u,C,g){super(u),this._editorMouseEventBrand=void 0,this.isFromPointerCapture=C,this.pos=new _(this.posx,this.posy),this.editorPos=t(g),this.relativePos=i(g,this.editorPos,this.pos)}}e.EditorMouseEvent=o;class r{constructor(u){this._editorViewDomNode=u}_create(u){return new o(u,!1,this._editorViewDomNode)}onContextMenu(u,C){return L.addDisposableListener(u,"contextmenu",g=>{C(this._create(g))})}onMouseUp(u,C){return L.addDisposableListener(u,"mouseup",g=>{C(this._create(g))})}onMouseDown(u,C){return L.addDisposableListener(u,L.EventType.MOUSE_DOWN,g=>{C(this._create(g))})}onPointerDown(u,C){return L.addDisposableListener(u,L.EventType.POINTER_DOWN,g=>{C(this._create(g),g.pointerId)})}onMouseLeave(u,C){return L.addDisposableListener(u,L.EventType.MOUSE_LEAVE,g=>{C(this._create(g))})}onMouseMove(u,C){return L.addDisposableListener(u,"mousemove",g=>C(this._create(g)))}}e.EditorMouseEventFactory=r;class d{constructor(u){this._editorViewDomNode=u}_create(u){return new o(u,!1,this._editorViewDomNode)}onPointerUp(u,C){return L.addDisposableListener(u,"pointerup",g=>{C(this._create(g))})}onPointerDown(u,C){return L.addDisposableListener(u,L.EventType.POINTER_DOWN,g=>{C(this._create(g),g.pointerId)})}onPointerLeave(u,C){return L.addDisposableListener(u,L.EventType.POINTER_LEAVE,g=>{C(this._create(g))})}onPointerMove(u,C){return L.addDisposableListener(u,"pointermove",g=>C(this._create(g)))}}e.EditorPointerEventFactory=d;class h extends S.Disposable{constructor(u){super(),this._editorViewDomNode=u,this._globalPointerMoveMonitor=this._register(new k.GlobalPointerMoveMonitor),this._keydownListener=null}startMonitoring(u,C,g,v,b){this._keydownListener=L.addStandardDisposableListener(document,"keydown",w=>{w.toKeyCodeChord().isModifierKey()||this._globalPointerMoveMonitor.stopMonitoring(!0,w.browserEvent)},!0),this._globalPointerMoveMonitor.startMonitoring(u,C,g,w=>{v(new o(w,!0,this._editorViewDomNode))},w=>{this._keydownListener.dispose(),b(w)})}stopMonitoring(){this._globalPointerMoveMonitor.stopMonitoring(!0)}}e.GlobalEditorPointerMoveMonitor=h;class n{constructor(u){this._editor=u,this._instanceId=++n._idPool,this._counter=0,this._rules=new Map,this._garbageCollectionScheduler=new D.RunOnceScheduler(()=>this.garbageCollect(),1e3)}createClassNameRef(u){const C=this.getOrCreateRule(u);return C.increaseRefCount(),{className:C.className,dispose:()=>{C.decreaseRefCount(),this._garbageCollectionScheduler.schedule()}}}getOrCreateRule(u){const C=this.computeUniqueKey(u);let g=this._rules.get(C);if(!g){const v=this._counter++;g=new c(C,`dyn-rule-${this._instanceId}-${v}`,L.isInShadowDOM(this._editor.getContainerDomNode())?this._editor.getContainerDomNode():void 0,u),this._rules.set(C,g)}return g}computeUniqueKey(u){return JSON.stringify(u)}garbageCollect(){for(const u of this._rules.values())u.hasReferences()||(this._rules.delete(u.key),u.dispose())}}e.DynamicCssRules=n,n._idPool=0;class c{constructor(u,C,g,v){this.key=u,this.className=C,this.properties=v,this._referenceCount=0,this._styleElement=L.createStyleSheet(g),this._styleElement.textContent=this.getCssText(this.className,this.properties)}getCssText(u,C){let g=`.${u} {`;for(const v in C){const b=C[v];let w;typeof b=="object"?w=(0,m.asCssVariable)(b.id):w=b;const E=a(v);g+=`
	${E}: ${w};`}return g+=`
}`,g}dispose(){this._styleElement.remove()}increaseRefCount(){this._referenceCount++}decreaseRefCount(){this._referenceCount--}hasReferences(){return this._referenceCount>0}}function a(l){return l.replace(/(^[A-Z])/,([u])=>u.toLowerCase()).replace(/([A-Z])/g,([u])=>`-${u.toLowerCase()}`)}}),define(X[810],ee([1,0,7,34,151,2,17,9,230,52,35,5,272,319,66,33,24,60,476,47,98,420]),function(q,e,L,k,y,D,S,m,_,f,p,s,t,i,o,r,d,h,n,c,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Minimap=void 0;const l=140,u=2;class C{constructor(M,N,R){const F=M.options,x=F.get(139),W=F.get(141),z=W.minimap,U=F.get(48),O=F.get(70);this.renderMinimap=z.renderMinimap,this.size=O.size,this.minimapHeightIsEditorHeight=z.minimapHeightIsEditorHeight,this.scrollBeyondLastLine=F.get(102),this.paddingTop=F.get(81).top,this.paddingBottom=F.get(81).bottom,this.showSlider=O.showSlider,this.autohide=O.autohide,this.pixelRatio=x,this.typicalHalfwidthCharacterWidth=U.typicalHalfwidthCharacterWidth,this.lineHeight=F.get(64),this.minimapLeft=z.minimapLeft,this.minimapWidth=z.minimapWidth,this.minimapHeight=W.height,this.canvasInnerWidth=z.minimapCanvasInnerWidth,this.canvasInnerHeight=z.minimapCanvasInnerHeight,this.canvasOuterWidth=z.minimapCanvasOuterWidth,this.canvasOuterHeight=z.minimapCanvasOuterHeight,this.isSampling=z.minimapIsSampling,this.editorHeight=W.height,this.fontScale=z.minimapScale,this.minimapLineHeight=z.minimapLineHeight,this.minimapCharWidth=1*this.fontScale,this.charRenderer=(0,a.once)(()=>n.MinimapCharRendererFactory.create(this.fontScale,U.fontFamily)),this.defaultBackgroundColor=R.getColor(2),this.backgroundColor=C._getMinimapBackground(N,this.defaultBackgroundColor),this.foregroundAlpha=C._getMinimapForegroundOpacity(N)}static _getMinimapBackground(M,N){const R=M.getColor(r.minimapBackground);return R?new t.RGBA8(R.rgba.r,R.rgba.g,R.rgba.b,Math.round(255*R.rgba.a)):N}static _getMinimapForegroundOpacity(M){const N=M.getColor(r.minimapForegroundOpacity);return N?t.RGBA8._clamp(Math.round(255*N.rgba.a)):255}equals(M){return this.renderMinimap===M.renderMinimap&&this.size===M.size&&this.minimapHeightIsEditorHeight===M.minimapHeightIsEditorHeight&&this.scrollBeyondLastLine===M.scrollBeyondLastLine&&this.paddingTop===M.paddingTop&&this.paddingBottom===M.paddingBottom&&this.showSlider===M.showSlider&&this.autohide===M.autohide&&this.pixelRatio===M.pixelRatio&&this.typicalHalfwidthCharacterWidth===M.typicalHalfwidthCharacterWidth&&this.lineHeight===M.lineHeight&&this.minimapLeft===M.minimapLeft&&this.minimapWidth===M.minimapWidth&&this.minimapHeight===M.minimapHeight&&this.canvasInnerWidth===M.canvasInnerWidth&&this.canvasInnerHeight===M.canvasInnerHeight&&this.canvasOuterWidth===M.canvasOuterWidth&&this.canvasOuterHeight===M.canvasOuterHeight&&this.isSampling===M.isSampling&&this.editorHeight===M.editorHeight&&this.fontScale===M.fontScale&&this.minimapLineHeight===M.minimapLineHeight&&this.minimapCharWidth===M.minimapCharWidth&&this.defaultBackgroundColor&&this.defaultBackgroundColor.equals(M.defaultBackgroundColor)&&this.backgroundColor&&this.backgroundColor.equals(M.backgroundColor)&&this.foregroundAlpha===M.foregroundAlpha}}class g{constructor(M,N,R,F,x,W,z,U,O){this.scrollTop=M,this.scrollHeight=N,this.sliderNeeded=R,this._computedSliderRatio=F,this.sliderTop=x,this.sliderHeight=W,this.topPaddingLineCount=z,this.startLineNumber=U,this.endLineNumber=O}getDesiredScrollTopFromDelta(M){return Math.round(this.scrollTop+M/this._computedSliderRatio)}getDesiredScrollTopFromTouchLocation(M){return Math.round((M-this.sliderHeight/2)/this._computedSliderRatio)}intersectWithViewport(M){const N=Math.max(this.startLineNumber,M.startLineNumber),R=Math.min(this.endLineNumber,M.endLineNumber);return N>R?null:[N,R]}getYForLineNumber(M,N){return+(M-this.startLineNumber+this.topPaddingLineCount)*N}static create(M,N,R,F,x,W,z,U,O,G,Q){const re=M.pixelRatio,oe=M.minimapLineHeight,te=Math.floor(M.canvasInnerHeight/oe),H=M.lineHeight;if(M.minimapHeightIsEditorHeight){let de=U*M.lineHeight+M.paddingTop+M.paddingBottom;M.scrollBeyondLastLine&&(de+=Math.max(0,x-M.lineHeight-M.paddingBottom));const ae=Math.max(1,Math.floor(x*x/de)),ce=Math.max(0,M.minimapHeight-ae),$=ce/(G-x),V=O*$,j=ce>0,se=Math.floor(M.canvasInnerHeight/M.minimapLineHeight),ie=Math.floor(M.paddingTop/M.lineHeight);return new g(O,G,j,$,V,ae,ie,1,Math.min(z,se))}let B;if(W&&R!==z){const de=R-N+1;B=Math.floor(de*oe/re)}else{const de=x/H;B=Math.floor(de*oe/re)}const K=Math.floor(M.paddingTop/H);let Z=Math.floor(M.paddingBottom/H);if(M.scrollBeyondLastLine){const de=x/H;Z=Math.max(Z,de-1)}let J;if(Z>0){const de=x/H;J=(K+z+Z-de-1)*oe/re}else J=Math.max(0,(K+z)*oe/re-B);J=Math.min(M.minimapHeight-B,J);const ne=J/(G-x),he=O*ne;if(te>=K+z+Z){const de=J>0;return new g(O,G,de,ne,he,B,K,1,z)}else{let de;N>1?de=N+K:de=Math.max(1,O/H);let ae,ce=Math.max(1,Math.floor(de-he*re/oe));ce<K?(ae=K-ce+1,ce=1):(ae=0,ce=Math.max(1,ce-K)),Q&&Q.scrollHeight===G&&(Q.scrollTop>O&&(ce=Math.min(ce,Q.startLineNumber),ae=Math.max(ae,Q.topPaddingLineCount)),Q.scrollTop<O&&(ce=Math.max(ce,Q.startLineNumber),ae=Math.min(ae,Q.topPaddingLineCount)));const $=Math.min(z,ce-ae+te-1),V=(O-F)/H;let j;return O>M.paddingTop?j=(N-ce+ae+V)*oe/re:j=O/M.paddingTop*(ae+V)*oe/re,new g(O,G,!0,ne,j,B,ae,ce,$)}}}class v{constructor(M){this.dy=M}onContentChanged(){this.dy=-1}onTokensChanged(){this.dy=-1}}v.INVALID=new v(-1);class b{constructor(M,N,R){this.renderedLayout=M,this._imageData=N,this._renderedLines=new _.RenderedLinesCollection(()=>v.INVALID),this._renderedLines._set(M.startLineNumber,R)}linesEquals(M){if(!this.scrollEquals(M))return!1;const R=this._renderedLines._get().lines;for(let F=0,x=R.length;F<x;F++)if(R[F].dy===-1)return!1;return!0}scrollEquals(M){return this.renderedLayout.startLineNumber===M.startLineNumber&&this.renderedLayout.endLineNumber===M.endLineNumber}_get(){const M=this._renderedLines._get();return{imageData:this._imageData,rendLineNumberStart:M.rendLineNumberStart,lines:M.lines}}onLinesChanged(M,N){return this._renderedLines.onLinesChanged(M,N)}onLinesDeleted(M,N){this._renderedLines.onLinesDeleted(M,N)}onLinesInserted(M,N){this._renderedLines.onLinesInserted(M,N)}onTokensChanged(M){return this._renderedLines.onTokensChanged(M)}}class w{constructor(M,N,R,F){this._backgroundFillData=w._createBackgroundFillData(N,R,F),this._buffers=[M.createImageData(N,R),M.createImageData(N,R)],this._lastUsedBuffer=0}getBuffer(){this._lastUsedBuffer=1-this._lastUsedBuffer;const M=this._buffers[this._lastUsedBuffer];return M.data.set(this._backgroundFillData),M}static _createBackgroundFillData(M,N,R){const F=R.r,x=R.g,W=R.b,z=R.a,U=new Uint8ClampedArray(M*N*4);let O=0;for(let G=0;G<N;G++)for(let Q=0;Q<M;Q++)U[O]=F,U[O+1]=x,U[O+2]=W,U[O+3]=z,O+=4;return U}}class E{static compute(M,N,R){if(M.renderMinimap===0||!M.isSampling)return[null,[]];const{minimapLineCount:F}=p.EditorLayoutInfoComputer.computeContainedMinimapLineCount({viewLineCount:N,scrollBeyondLastLine:M.scrollBeyondLastLine,paddingTop:M.paddingTop,paddingBottom:M.paddingBottom,height:M.editorHeight,lineHeight:M.lineHeight,pixelRatio:M.pixelRatio}),x=N/F,W=x/2;if(!R||R.minimapLines.length===0){const B=[];if(B[0]=1,F>1){for(let K=0,Z=F-1;K<Z;K++)B[K]=Math.round(K*x+W);B[F-1]=N}return[new E(x,B),[]]}const z=R.minimapLines,U=z.length,O=[];let G=0,Q=0,re=1;const oe=10;let te=[],H=null;for(let B=0;B<F;B++){const K=Math.max(re,Math.round(B*x)),Z=Math.max(K,Math.round((B+1)*x));for(;G<U&&z[G]<K;){if(te.length<oe){const ne=G+1+Q;H&&H.type==="deleted"&&H._oldIndex===G-1?H.deleteToLineNumber++:(H={type:"deleted",_oldIndex:G,deleteFromLineNumber:ne,deleteToLineNumber:ne},te.push(H)),Q--}G++}let J;if(G<U&&z[G]<=Z)J=z[G],G++;else if(B===0?J=1:B+1===F?J=N:J=Math.round(B*x+W),te.length<oe){const ne=G+1+Q;H&&H.type==="inserted"&&H._i===B-1?H.insertToLineNumber++:(H={type:"inserted",_i:B,insertFromLineNumber:ne,insertToLineNumber:ne},te.push(H)),Q++}O[B]=J,re=J}if(te.length<oe)for(;G<U;){const B=G+1+Q;H&&H.type==="deleted"&&H._oldIndex===G-1?H.deleteToLineNumber++:(H={type:"deleted",_oldIndex:G,deleteFromLineNumber:B,deleteToLineNumber:B},te.push(H)),Q--,G++}else te=[{type:"flush"}];return[new E(x,O),te]}constructor(M,N){this.samplingRatio=M,this.minimapLines=N}modelLineToMinimapLine(M){return Math.min(this.minimapLines.length,Math.max(1,Math.round(M/this.samplingRatio)))}modelLineRangeToMinimapLineRange(M,N){let R=this.modelLineToMinimapLine(M)-1;for(;R>0&&this.minimapLines[R-1]>=M;)R--;let F=this.modelLineToMinimapLine(N)-1;for(;F+1<this.minimapLines.length&&this.minimapLines[F+1]<=N;)F++;if(R===F){const x=this.minimapLines[R];if(x<M||x>N)return null}return[R+1,F+1]}decorationLineRangeToMinimapLineRange(M,N){let R=this.modelLineToMinimapLine(M),F=this.modelLineToMinimapLine(N);return M!==N&&F===R&&(F===this.minimapLines.length?R>1&&R--:F++),[R,F]}onLinesDeleted(M){const N=M.toLineNumber-M.fromLineNumber+1;let R=this.minimapLines.length,F=0;for(let x=this.minimapLines.length-1;x>=0&&!(this.minimapLines[x]<M.fromLineNumber);x--)this.minimapLines[x]<=M.toLineNumber?(this.minimapLines[x]=Math.max(1,M.fromLineNumber-1),R=Math.min(R,x),F=Math.max(F,x)):this.minimapLines[x]-=N;return[R,F]}onLinesInserted(M){const N=M.toLineNumber-M.fromLineNumber+1;for(let R=this.minimapLines.length-1;R>=0&&!(this.minimapLines[R]<M.fromLineNumber);R--)this.minimapLines[R]+=N}}class I extends f.ViewPart{constructor(M){super(M),this.tokensColorTracker=i.MinimapTokensColorTracker.getInstance(),this._selections=[],this._minimapSelections=null,this.options=new C(this._context.configuration,this._context.theme,this.tokensColorTracker);const[N]=E.compute(this.options,this._context.viewModel.getLineCount(),null);this._samplingState=N,this._shouldCheckSampling=!1,this._actual=new T(M.theme,this)}dispose(){this._actual.dispose(),super.dispose()}getDomNode(){return this._actual.getDomNode()}_onOptionsMaybeChanged(){const M=new C(this._context.configuration,this._context.theme,this.tokensColorTracker);return this.options.equals(M)?!1:(this.options=M,this._recreateLineSampling(),this._actual.onDidChangeOptions(),!0)}onConfigurationChanged(M){return this._onOptionsMaybeChanged()}onCursorStateChanged(M){return this._selections=M.selections,this._minimapSelections=null,this._actual.onSelectionChanged()}onDecorationsChanged(M){return M.affectsMinimap?this._actual.onDecorationsChanged():!1}onFlushed(M){return this._samplingState&&(this._shouldCheckSampling=!0),this._actual.onFlushed()}onLinesChanged(M){if(this._samplingState){const N=this._samplingState.modelLineRangeToMinimapLineRange(M.fromLineNumber,M.fromLineNumber+M.count-1);return N?this._actual.onLinesChanged(N[0],N[1]-N[0]+1):!1}else return this._actual.onLinesChanged(M.fromLineNumber,M.count)}onLinesDeleted(M){if(this._samplingState){const[N,R]=this._samplingState.onLinesDeleted(M);return N<=R&&this._actual.onLinesChanged(N+1,R-N+1),this._shouldCheckSampling=!0,!0}else return this._actual.onLinesDeleted(M.fromLineNumber,M.toLineNumber)}onLinesInserted(M){return this._samplingState?(this._samplingState.onLinesInserted(M),this._shouldCheckSampling=!0,!0):this._actual.onLinesInserted(M.fromLineNumber,M.toLineNumber)}onScrollChanged(M){return this._actual.onScrollChanged()}onThemeChanged(M){return this._actual.onThemeChanged(),this._onOptionsMaybeChanged(),!0}onTokensChanged(M){if(this._samplingState){const N=[];for(const R of M.ranges){const F=this._samplingState.modelLineRangeToMinimapLineRange(R.fromLineNumber,R.toLineNumber);F&&N.push({fromLineNumber:F[0],toLineNumber:F[1]})}return N.length?this._actual.onTokensChanged(N):!1}else return this._actual.onTokensChanged(M.ranges)}onTokensColorsChanged(M){return this._onOptionsMaybeChanged(),this._actual.onTokensColorsChanged()}onZonesChanged(M){return this._actual.onZonesChanged()}prepareRender(M){this._shouldCheckSampling&&(this._shouldCheckSampling=!1,this._recreateLineSampling())}render(M){let N=M.visibleRange.startLineNumber,R=M.visibleRange.endLineNumber;this._samplingState&&(N=this._samplingState.modelLineToMinimapLine(N),R=this._samplingState.modelLineToMinimapLine(R));const F={viewportContainsWhitespaceGaps:M.viewportData.whitespaceViewportData.length>0,scrollWidth:M.scrollWidth,scrollHeight:M.scrollHeight,viewportStartLineNumber:N,viewportEndLineNumber:R,viewportStartLineNumberVerticalOffset:M.getVerticalOffsetForLineNumber(N),scrollTop:M.scrollTop,scrollLeft:M.scrollLeft,viewportWidth:M.viewportWidth,viewportHeight:M.viewportHeight};this._actual.render(F)}_recreateLineSampling(){this._minimapSelections=null;const M=!!this._samplingState,[N,R]=E.compute(this.options,this._context.viewModel.getLineCount(),this._samplingState);if(this._samplingState=N,M&&this._samplingState)for(const F of R)switch(F.type){case"deleted":this._actual.onLinesDeleted(F.deleteFromLineNumber,F.deleteToLineNumber);break;case"inserted":this._actual.onLinesInserted(F.insertFromLineNumber,F.insertToLineNumber);break;case"flush":this._actual.onFlushed();break}}getLineCount(){return this._samplingState?this._samplingState.minimapLines.length:this._context.viewModel.getLineCount()}getRealLineCount(){return this._context.viewModel.getLineCount()}getLineContent(M){return this._samplingState?this._context.viewModel.getLineContent(this._samplingState.minimapLines[M-1]):this._context.viewModel.getLineContent(M)}getLineMaxColumn(M){return this._samplingState?this._context.viewModel.getLineMaxColumn(this._samplingState.minimapLines[M-1]):this._context.viewModel.getLineMaxColumn(M)}getMinimapLinesRenderingData(M,N,R){if(this._samplingState){const F=[];for(let x=0,W=N-M+1;x<W;x++)R[x]?F[x]=this._context.viewModel.getViewLineData(this._samplingState.minimapLines[M+x-1]):F[x]=null;return F}return this._context.viewModel.getMinimapLinesRenderingData(M,N,R).data}getSelections(){if(this._minimapSelections===null)if(this._samplingState){this._minimapSelections=[];for(const M of this._selections){const[N,R]=this._samplingState.decorationLineRangeToMinimapLineRange(M.startLineNumber,M.endLineNumber);this._minimapSelections.push(new d.Selection(N,M.startColumn,R,M.endColumn))}}else this._minimapSelections=this._selections;return this._minimapSelections}getMinimapDecorationsInViewport(M,N){let R;if(this._samplingState){const x=this._samplingState.minimapLines[M-1],W=this._samplingState.minimapLines[N-1];R=new s.Range(x,1,W,this._context.viewModel.getLineMaxColumn(W))}else R=new s.Range(M,1,N,this._context.viewModel.getLineMaxColumn(N));const F=this._context.viewModel.getMinimapDecorationsInRange(R);if(this._samplingState){const x=[];for(const W of F){if(!W.options.minimap)continue;const z=W.range,U=this._samplingState.modelLineToMinimapLine(z.startLineNumber),O=this._samplingState.modelLineToMinimapLine(z.endLineNumber);x.push(new o.ViewModelDecoration(new s.Range(U,z.startColumn,O,z.endColumn),W.options))}return x}return F}getOptions(){return this._context.viewModel.model.getOptions()}revealLineNumber(M){this._samplingState&&(M=this._samplingState.minimapLines[M-1]),this._context.viewModel.revealRange("mouse",!1,new s.Range(M,1,M,1),1,0)}setScrollTop(M){this._context.viewModel.viewLayout.setScrollPosition({scrollTop:M},1)}}e.Minimap=I;class T extends D.Disposable{constructor(M,N){super(),this._renderDecorations=!1,this._gestureInProgress=!1,this._theme=M,this._model=N,this._lastRenderData=null,this._buffers=null,this._selectionColor=this._theme.getColor(r.minimapSelection),this._domNode=(0,k.createFastDomNode)(document.createElement("div")),f.PartFingerprints.write(this._domNode,8),this._domNode.setClassName(this._getMinimapDomNodeClassName()),this._domNode.setPosition("absolute"),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._shadow=(0,k.createFastDomNode)(document.createElement("div")),this._shadow.setClassName("minimap-shadow-hidden"),this._domNode.appendChild(this._shadow),this._canvas=(0,k.createFastDomNode)(document.createElement("canvas")),this._canvas.setPosition("absolute"),this._canvas.setLeft(0),this._domNode.appendChild(this._canvas),this._decorationsCanvas=(0,k.createFastDomNode)(document.createElement("canvas")),this._decorationsCanvas.setPosition("absolute"),this._decorationsCanvas.setClassName("minimap-decorations-layer"),this._decorationsCanvas.setLeft(0),this._domNode.appendChild(this._decorationsCanvas),this._slider=(0,k.createFastDomNode)(document.createElement("div")),this._slider.setPosition("absolute"),this._slider.setClassName("minimap-slider"),this._slider.setLayerHinting(!0),this._slider.setContain("strict"),this._domNode.appendChild(this._slider),this._sliderHorizontal=(0,k.createFastDomNode)(document.createElement("div")),this._sliderHorizontal.setPosition("absolute"),this._sliderHorizontal.setClassName("minimap-slider-horizontal"),this._slider.appendChild(this._sliderHorizontal),this._applyLayout(),this._pointerDownListener=L.addStandardDisposableListener(this._domNode.domNode,L.EventType.POINTER_DOWN,R=>{if(R.preventDefault(),this._model.options.renderMinimap===0||!this._lastRenderData)return;if(this._model.options.size!=="proportional"){if(R.button===0&&this._lastRenderData){const O=L.getDomNodePagePosition(this._slider.domNode),G=O.top+O.height/2;this._startSliderDragging(R,G,this._lastRenderData.renderedLayout)}return}const x=this._model.options.minimapLineHeight,W=this._model.options.canvasInnerHeight/this._model.options.canvasOuterHeight*R.offsetY;let U=Math.floor(W/x)+this._lastRenderData.renderedLayout.startLineNumber-this._lastRenderData.renderedLayout.topPaddingLineCount;U=Math.min(U,this._model.getLineCount()),this._model.revealLineNumber(U)}),this._sliderPointerMoveMonitor=new y.GlobalPointerMoveMonitor,this._sliderPointerDownListener=L.addStandardDisposableListener(this._slider.domNode,L.EventType.POINTER_DOWN,R=>{R.preventDefault(),R.stopPropagation(),R.button===0&&this._lastRenderData&&this._startSliderDragging(R,R.pageY,this._lastRenderData.renderedLayout)}),this._gestureDisposable=h.Gesture.addTarget(this._domNode.domNode),this._sliderTouchStartListener=L.addDisposableListener(this._domNode.domNode,h.EventType.Start,R=>{R.preventDefault(),R.stopPropagation(),this._lastRenderData&&(this._slider.toggleClassName("active",!0),this._gestureInProgress=!0,this.scrollDueToTouchEvent(R))},{passive:!1}),this._sliderTouchMoveListener=L.addDisposableListener(this._domNode.domNode,h.EventType.Change,R=>{R.preventDefault(),R.stopPropagation(),this._lastRenderData&&this._gestureInProgress&&this.scrollDueToTouchEvent(R)},{passive:!1}),this._sliderTouchEndListener=L.addStandardDisposableListener(this._domNode.domNode,h.EventType.End,R=>{R.preventDefault(),R.stopPropagation(),this._gestureInProgress=!1,this._slider.toggleClassName("active",!1)})}_startSliderDragging(M,N,R){if(!M.target||!(M.target instanceof Element))return;const F=M.pageX;this._slider.toggleClassName("active",!0);const x=(W,z)=>{const U=L.getDomNodePagePosition(this._domNode.domNode),O=Math.min(Math.abs(z-F),Math.abs(z-U.left),Math.abs(z-U.left-U.width));if(S.isWindows&&O>l){this._model.setScrollTop(R.scrollTop);return}const G=W-N;this._model.setScrollTop(R.getDesiredScrollTopFromDelta(G))};M.pageY!==N&&x(M.pageY,F),this._sliderPointerMoveMonitor.startMonitoring(M.target,M.pointerId,M.buttons,W=>x(W.pageY,W.pageX),()=>{this._slider.toggleClassName("active",!1)})}scrollDueToTouchEvent(M){const N=this._domNode.domNode.getBoundingClientRect().top,R=this._lastRenderData.renderedLayout.getDesiredScrollTopFromTouchLocation(M.pageY-N);this._model.setScrollTop(R)}dispose(){this._pointerDownListener.dispose(),this._sliderPointerMoveMonitor.dispose(),this._sliderPointerDownListener.dispose(),this._gestureDisposable.dispose(),this._sliderTouchStartListener.dispose(),this._sliderTouchMoveListener.dispose(),this._sliderTouchEndListener.dispose(),super.dispose()}_getMinimapDomNodeClassName(){const M=["minimap"];return this._model.options.showSlider==="always"?M.push("slider-always"):M.push("slider-mouseover"),this._model.options.autohide&&M.push("autohide"),M.join(" ")}getDomNode(){return this._domNode}_applyLayout(){this._domNode.setLeft(this._model.options.minimapLeft),this._domNode.setWidth(this._model.options.minimapWidth),this._domNode.setHeight(this._model.options.minimapHeight),this._shadow.setHeight(this._model.options.minimapHeight),this._canvas.setWidth(this._model.options.canvasOuterWidth),this._canvas.setHeight(this._model.options.canvasOuterHeight),this._canvas.domNode.width=this._model.options.canvasInnerWidth,this._canvas.domNode.height=this._model.options.canvasInnerHeight,this._decorationsCanvas.setWidth(this._model.options.canvasOuterWidth),this._decorationsCanvas.setHeight(this._model.options.canvasOuterHeight),this._decorationsCanvas.domNode.width=this._model.options.canvasInnerWidth,this._decorationsCanvas.domNode.height=this._model.options.canvasInnerHeight,this._slider.setWidth(this._model.options.minimapWidth)}_getBuffer(){return this._buffers||this._model.options.canvasInnerWidth>0&&this._model.options.canvasInnerHeight>0&&(this._buffers=new w(this._canvas.domNode.getContext("2d"),this._model.options.canvasInnerWidth,this._model.options.canvasInnerHeight,this._model.options.backgroundColor)),this._buffers?this._buffers.getBuffer():null}onDidChangeOptions(){this._lastRenderData=null,this._buffers=null,this._applyLayout(),this._domNode.setClassName(this._getMinimapDomNodeClassName())}onSelectionChanged(){return this._renderDecorations=!0,!0}onDecorationsChanged(){return this._renderDecorations=!0,!0}onFlushed(){return this._lastRenderData=null,!0}onLinesChanged(M,N){return this._lastRenderData?this._lastRenderData.onLinesChanged(M,N):!1}onLinesDeleted(M,N){var R;return(R=this._lastRenderData)===null||R===void 0||R.onLinesDeleted(M,N),!0}onLinesInserted(M,N){var R;return(R=this._lastRenderData)===null||R===void 0||R.onLinesInserted(M,N),!0}onScrollChanged(){return this._renderDecorations=!0,!0}onThemeChanged(){return this._selectionColor=this._theme.getColor(r.minimapSelection),this._renderDecorations=!0,!0}onTokensChanged(M){return this._lastRenderData?this._lastRenderData.onTokensChanged(M):!1}onTokensColorsChanged(){return this._lastRenderData=null,this._buffers=null,!0}onZonesChanged(){return this._lastRenderData=null,!0}render(M){if(this._model.options.renderMinimap===0){this._shadow.setClassName("minimap-shadow-hidden"),this._sliderHorizontal.setWidth(0),this._sliderHorizontal.setHeight(0);return}M.scrollLeft+M.viewportWidth>=M.scrollWidth?this._shadow.setClassName("minimap-shadow-hidden"):this._shadow.setClassName("minimap-shadow-visible");const R=g.create(this._model.options,M.viewportStartLineNumber,M.viewportEndLineNumber,M.viewportStartLineNumberVerticalOffset,M.viewportHeight,M.viewportContainsWhitespaceGaps,this._model.getLineCount(),this._model.getRealLineCount(),M.scrollTop,M.scrollHeight,this._lastRenderData?this._lastRenderData.renderedLayout:null);this._slider.setDisplay(R.sliderNeeded?"block":"none"),this._slider.setTop(R.sliderTop),this._slider.setHeight(R.sliderHeight),this._sliderHorizontal.setLeft(0),this._sliderHorizontal.setWidth(this._model.options.minimapWidth),this._sliderHorizontal.setTop(0),this._sliderHorizontal.setHeight(R.sliderHeight),this.renderDecorations(R),this._lastRenderData=this.renderLines(R)}renderDecorations(M){if(this._renderDecorations){this._renderDecorations=!1;const N=this._model.getSelections();N.sort(s.Range.compareRangesUsingStarts);const R=this._model.getMinimapDecorationsInViewport(M.startLineNumber,M.endLineNumber);R.sort((re,oe)=>(re.options.zIndex||0)-(oe.options.zIndex||0));const{canvasInnerWidth:F,canvasInnerHeight:x}=this._model.options,W=this._model.options.minimapLineHeight,z=this._model.options.minimapCharWidth,U=this._model.getOptions().tabSize,O=this._decorationsCanvas.domNode.getContext("2d");O.clearRect(0,0,F,x);const G=new P(M.startLineNumber,M.endLineNumber,!1);this._renderSelectionLineHighlights(O,N,G,M,W),this._renderDecorationsLineHighlights(O,R,G,M,W);const Q=new P(M.startLineNumber,M.endLineNumber,null);this._renderSelectionsHighlights(O,N,Q,M,W,U,z,F),this._renderDecorationsHighlights(O,R,Q,M,W,U,z,F)}}_renderSelectionLineHighlights(M,N,R,F,x){if(!this._selectionColor||this._selectionColor.isTransparent())return;M.fillStyle=this._selectionColor.transparent(.5).toString();let W=0,z=0;for(const U of N){const O=F.intersectWithViewport(U);if(!O)continue;const[G,Q]=O;for(let te=G;te<=Q;te++)R.set(te,!0);const re=F.getYForLineNumber(G,x),oe=F.getYForLineNumber(Q,x);z>=re||(z>W&&M.fillRect(p.MINIMAP_GUTTER_WIDTH,W,M.canvas.width,z-W),W=re),z=oe}z>W&&M.fillRect(p.MINIMAP_GUTTER_WIDTH,W,M.canvas.width,z-W)}_renderDecorationsLineHighlights(M,N,R,F,x){const W=new Map;for(let z=N.length-1;z>=0;z--){const U=N[z],O=U.options.minimap;if(!O||O.position!==c.MinimapPosition.Inline)continue;const G=F.intersectWithViewport(U.range);if(!G)continue;const[Q,re]=G,oe=O.getColor(this._theme.value);if(!oe||oe.isTransparent())continue;let te=W.get(oe.toString());te||(te=oe.transparent(.5).toString(),W.set(oe.toString(),te)),M.fillStyle=te;for(let H=Q;H<=re;H++){if(R.has(H))continue;R.set(H,!0);const B=F.getYForLineNumber(Q,x);M.fillRect(p.MINIMAP_GUTTER_WIDTH,B,M.canvas.width,x)}}}_renderSelectionsHighlights(M,N,R,F,x,W,z,U){if(!(!this._selectionColor||this._selectionColor.isTransparent()))for(const O of N){const G=F.intersectWithViewport(O);if(!G)continue;const[Q,re]=G;for(let oe=Q;oe<=re;oe++)this.renderDecorationOnLine(M,R,O,this._selectionColor,F,oe,x,x,W,z,U)}}_renderDecorationsHighlights(M,N,R,F,x,W,z,U){for(const O of N){const G=O.options.minimap;if(!G)continue;const Q=F.intersectWithViewport(O.range);if(!Q)continue;const[re,oe]=Q,te=G.getColor(this._theme.value);if(!(!te||te.isTransparent()))for(let H=re;H<=oe;H++)switch(G.position){case c.MinimapPosition.Inline:this.renderDecorationOnLine(M,R,O.range,te,F,H,x,x,W,z,U);continue;case c.MinimapPosition.Gutter:{const B=F.getYForLineNumber(H,x),K=2;this.renderDecoration(M,te,K,B,u,x);continue}}}}renderDecorationOnLine(M,N,R,F,x,W,z,U,O,G,Q){const re=x.getYForLineNumber(W,U);if(re+z<0||re>this._model.options.canvasInnerHeight)return;const{startLineNumber:oe,endLineNumber:te}=R,H=oe===W?R.startColumn:1,B=te===W?R.endColumn:this._model.getLineMaxColumn(W),K=this.getXOffsetForPosition(N,W,H,O,G,Q),Z=this.getXOffsetForPosition(N,W,B,O,G,Q);this.renderDecoration(M,F,K,re,Z-K,z)}getXOffsetForPosition(M,N,R,F,x,W){if(R===1)return p.MINIMAP_GUTTER_WIDTH;if((R-1)*x>=W)return W;let U=M.get(N);if(!U){const O=this._model.getLineContent(N);U=[p.MINIMAP_GUTTER_WIDTH];let G=p.MINIMAP_GUTTER_WIDTH;for(let Q=1;Q<O.length+1;Q++){const re=O.charCodeAt(Q-1),oe=re===9?F*x:m.isFullWidthCharacter(re)?2*x:x,te=G+oe;if(te>=W){U[Q]=W;break}U[Q]=te,G=te}M.set(N,U)}return R-1<U.length?U[R-1]:W}renderDecoration(M,N,R,F,x,W){M.fillStyle=N&&N.toString()||"",M.fillRect(R,F,x,W)}renderLines(M){const N=M.startLineNumber,R=M.endLineNumber,F=this._model.options.minimapLineHeight;if(this._lastRenderData&&this._lastRenderData.linesEquals(M)){const le=this._lastRenderData._get();return new b(M,le.imageData,le.lines)}const x=this._getBuffer();if(!x)return null;const[W,z,U]=T._renderUntouchedLines(x,M.topPaddingLineCount,N,R,F,this._lastRenderData),O=this._model.getMinimapLinesRenderingData(N,R,U),G=this._model.getOptions().tabSize,Q=this._model.options.defaultBackgroundColor,re=this._model.options.backgroundColor,oe=this._model.options.foregroundAlpha,te=this._model.tokensColorTracker,H=te.backgroundIsLight(),B=this._model.options.renderMinimap,K=this._model.options.charRenderer(),Z=this._model.options.fontScale,J=this._model.options.minimapCharWidth,he=(B===1?2:2+1)*Z,de=F>he?Math.floor((F-he)/2):0,ae=re.a/255,ce=new t.RGBA8(Math.round((re.r-Q.r)*ae+Q.r),Math.round((re.g-Q.g)*ae+Q.g),Math.round((re.b-Q.b)*ae+Q.b),255);let $=M.topPaddingLineCount*F;const V=[];for(let le=0,fe=R-N+1;le<fe;le++)U[le]&&T._renderLine(x,ce,re.a,H,B,J,te,oe,K,$,de,G,O[le],Z,F),V[le]=new v($),$+=F;const j=W===-1?0:W,ie=(z===-1?x.height:z)-j;return this._canvas.domNode.getContext("2d").putImageData(x,0,0,0,j,x.width,ie),new b(M,x,V)}static _renderUntouchedLines(M,N,R,F,x,W){const z=[];if(!W){for(let $=0,V=F-R+1;$<V;$++)z[$]=!0;return[-1,-1,z]}const U=W._get(),O=U.imageData.data,G=U.rendLineNumberStart,Q=U.lines,re=Q.length,oe=M.width,te=M.data,H=(F-R+1)*x*oe*4;let B=-1,K=-1,Z=-1,J=-1,ne=-1,he=-1,de=N*x;for(let $=R;$<=F;$++){const V=$-R,j=$-G,se=j>=0&&j<re?Q[j].dy:-1;if(se===-1){z[V]=!0,de+=x;continue}const ie=se*oe*4,Y=(se+x)*oe*4,le=de*oe*4,fe=(de+x)*oe*4;J===ie&&he===le?(J=Y,he=fe):(Z!==-1&&(te.set(O.subarray(Z,J),ne),B===-1&&Z===0&&Z===ne&&(B=J),K===-1&&J===H&&Z===ne&&(K=Z)),Z=ie,J=Y,ne=le,he=fe),z[V]=!1,de+=x}Z!==-1&&(te.set(O.subarray(Z,J),ne),B===-1&&Z===0&&Z===ne&&(B=J),K===-1&&J===H&&Z===ne&&(K=Z));const ae=B===-1?-1:B/(oe*4),ce=K===-1?-1:K/(oe*4);return[ae,ce,z]}static _renderLine(M,N,R,F,x,W,z,U,O,G,Q,re,oe,te,H){const B=oe.content,K=oe.tokens,Z=M.width-W,J=H===1;let ne=p.MINIMAP_GUTTER_WIDTH,he=0,de=0;for(let ae=0,ce=K.getCount();ae<ce;ae++){const $=K.getEndOffset(ae),V=K.getForeground(ae),j=z.getColor(V);for(;he<$;he++){if(ne>Z)return;const se=B.charCodeAt(he);if(se===9){const ie=re-(he+de)%re;de+=ie-1,ne+=ie*W}else if(se===32)ne+=W;else{const ie=m.isFullWidthCharacter(se)?2:1;for(let Y=0;Y<ie;Y++)if(x===2?O.blockRenderChar(M,ne,G+Q,j,U,N,R,J):O.renderChar(M,ne,G+Q,se,j,U,N,R,te,F,J),ne+=W,ne>Z)return}}}}}class P{constructor(M,N,R){this._startLineNumber=M,this._endLineNumber=N,this._defaultValue=R,this._values=[];for(let F=0,x=this._endLineNumber-this._startLineNumber+1;F<x;F++)this._values[F]=R}has(M){return this.get(M)!==this._defaultValue}set(M,N){M<this._startLineNumber||M>this._endLineNumber||(this._values[M-this._startLineNumber]=N)}get(M){return M<this._startLineNumber||M>this._endLineNumber?this._defaultValue:this._values[M-this._startLineNumber]}}}),define(X[249],ee([1,0,696,33,458]),function(q,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SYMBOL_ICON_VARIABLE_FOREGROUND=e.SYMBOL_ICON_UNIT_FOREGROUND=e.SYMBOL_ICON_TYPEPARAMETER_FOREGROUND=e.SYMBOL_ICON_TEXT_FOREGROUND=e.SYMBOL_ICON_STRUCT_FOREGROUND=e.SYMBOL_ICON_STRING_FOREGROUND=e.SYMBOL_ICON_SNIPPET_FOREGROUND=e.SYMBOL_ICON_REFERENCE_FOREGROUND=e.SYMBOL_ICON_PROPERTY_FOREGROUND=e.SYMBOL_ICON_PACKAGE_FOREGROUND=e.SYMBOL_ICON_OPERATOR_FOREGROUND=e.SYMBOL_ICON_OBJECT_FOREGROUND=e.SYMBOL_ICON_NUMBER_FOREGROUND=e.SYMBOL_ICON_NULL_FOREGROUND=e.SYMBOL_ICON_NAMESPACE_FOREGROUND=e.SYMBOL_ICON_MODULE_FOREGROUND=e.SYMBOL_ICON_METHOD_FOREGROUND=e.SYMBOL_ICON_KEYWORD_FOREGROUND=e.SYMBOL_ICON_KEY_FOREGROUND=e.SYMBOL_ICON_INTERFACE_FOREGROUND=e.SYMBOL_ICON_FUNCTION_FOREGROUND=e.SYMBOL_ICON_FOLDER_FOREGROUND=e.SYMBOL_ICON_FILE_FOREGROUND=e.SYMBOL_ICON_FIELD_FOREGROUND=e.SYMBOL_ICON_EVENT_FOREGROUND=e.SYMBOL_ICON_ENUMERATOR_MEMBER_FOREGROUND=e.SYMBOL_ICON_ENUMERATOR_FOREGROUND=e.SYMBOL_ICON_CONSTRUCTOR_FOREGROUND=e.SYMBOL_ICON_CONSTANT_FOREGROUND=e.SYMBOL_ICON_COLOR_FOREGROUND=e.SYMBOL_ICON_CLASS_FOREGROUND=e.SYMBOL_ICON_BOOLEAN_FOREGROUND=e.SYMBOL_ICON_ARRAY_FOREGROUND=void 0,e.SYMBOL_ICON_ARRAY_FOREGROUND=(0,k.registerColor)("symbolIcon.arrayForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,L.localize)(0,null)),e.SYMBOL_ICON_BOOLEAN_FOREGROUND=(0,k.registerColor)("symbolIcon.booleanForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,L.localize)(1,null)),e.SYMBOL_ICON_CLASS_FOREGROUND=(0,k.registerColor)("symbolIcon.classForeground",{dark:"#EE9D28",light:"#D67E00",hcDark:"#EE9D28",hcLight:"#D67E00"},(0,L.localize)(2,null)),e.SYMBOL_ICON_COLOR_FOREGROUND=(0,k.registerColor)("symbolIcon.colorForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,L.localize)(3,null)),e.SYMBOL_ICON_CONSTANT_FOREGROUND=(0,k.registerColor)("symbolIcon.constantForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,L.localize)(4,null)),e.SYMBOL_ICON_CONSTRUCTOR_FOREGROUND=(0,k.registerColor)("symbolIcon.constructorForeground",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},(0,L.localize)(5,null)),e.SYMBOL_ICON_ENUMERATOR_FOREGROUND=(0,k.registerColor)("symbolIcon.enumeratorForeground",{dark:"#EE9D28",light:"#D67E00",hcDark:"#EE9D28",hcLight:"#D67E00"},(0,L.localize)(6,null)),e.SYMBOL_ICON_ENUMERATOR_MEMBER_FOREGROUND=(0,k.registerColor)("symbolIcon.enumeratorMemberForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},(0,L.localize)(7,null)),e.SYMBOL_ICON_EVENT_FOREGROUND=(0,k.registerColor)("symbolIcon.eventForeground",{dark:"#EE9D28",light:"#D67E00",hcDark:"#EE9D28",hcLight:"#D67E00"},(0,L.localize)(8,null)),e.SYMBOL_ICON_FIELD_FOREGROUND=(0,k.registerColor)("symbolIcon.fieldForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},(0,L.localize)(9,null)),e.SYMBOL_ICON_FILE_FOREGROUND=(0,k.registerColor)("symbolIcon.fileForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,L.localize)(10,null)),e.SYMBOL_ICON_FOLDER_FOREGROUND=(0,k.registerColor)("symbolIcon.folderForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,L.localize)(11,null)),e.SYMBOL_ICON_FUNCTION_FOREGROUND=(0,k.registerColor)("symbolIcon.functionForeground",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},(0,L.localize)(12,null)),e.SYMBOL_ICON_INTERFACE_FOREGROUND=(0,k.registerColor)("symbolIcon.interfaceForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},(0,L.localize)(13,null)),e.SYMBOL_ICON_KEY_FOREGROUND=(0,k.registerColor)("symbolIcon.keyForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,L.localize)(14,null)),e.SYMBOL_ICON_KEYWORD_FOREGROUND=(0,k.registerColor)("symbolIcon.keywordForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,L.localize)(15,null)),e.SYMBOL_ICON_METHOD_FOREGROUND=(0,k.registerColor)("symbolIcon.methodForeground",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},(0,L.localize)(16,null)),e.SYMBOL_ICON_MODULE_FOREGROUND=(0,k.registerColor)("symbolIcon.moduleForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,L.localize)(17,null)),e.SYMBOL_ICON_NAMESPACE_FOREGROUND=(0,k.registerColor)("symbolIcon.namespaceForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,L.localize)(18,null)),e.SYMBOL_ICON_NULL_FOREGROUND=(0,k.registerColor)("symbolIcon.nullForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,L.localize)(19,null)),e.SYMBOL_ICON_NUMBER_FOREGROUND=(0,k.registerColor)("symbolIcon.numberForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,L.localize)(20,null)),e.SYMBOL_ICON_OBJECT_FOREGROUND=(0,k.registerColor)("symbolIcon.objectForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,L.localize)(21,null)),e.SYMBOL_ICON_OPERATOR_FOREGROUND=(0,k.registerColor)("symbolIcon.operatorForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,L.localize)(22,null)),e.SYMBOL_ICON_PACKAGE_FOREGROUND=(0,k.registerColor)("symbolIcon.packageForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,L.localize)(23,null)),e.SYMBOL_ICON_PROPERTY_FOREGROUND=(0,k.registerColor)("symbolIcon.propertyForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,L.localize)(24,null)),e.SYMBOL_ICON_REFERENCE_FOREGROUND=(0,k.registerColor)("symbolIcon.referenceForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,L.localize)(25,null)),e.SYMBOL_ICON_SNIPPET_FOREGROUND=(0,k.registerColor)("symbolIcon.snippetForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,L.localize)(26,null)),e.SYMBOL_ICON_STRING_FOREGROUND=(0,k.registerColor)("symbolIcon.stringForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,L.localize)(27,null)),e.SYMBOL_ICON_STRUCT_FOREGROUND=(0,k.registerColor)("symbolIcon.structForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,L.localize)(28,null)),e.SYMBOL_ICON_TEXT_FOREGROUND=(0,k.registerColor)("symbolIcon.textForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,L.localize)(29,null)),e.SYMBOL_ICON_TYPEPARAMETER_FOREGROUND=(0,k.registerColor)("symbolIcon.typeParameterForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,L.localize)(30,null)),e.SYMBOL_ICON_UNIT_FOREGROUND=(0,k.registerColor)("symbolIcon.unitForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,L.localize)(31,null)),e.SYMBOL_ICON_VARIABLE_FOREGROUND=(0,k.registerColor)("symbolIcon.variableForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},(0,L.localize)(32,null))}),define(X[811],ee([1,0,25,112,633,174,249]),function(q,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toMenuItems=void 0;const D=Object.freeze({kind:k.CodeActionKind.Empty,title:(0,y.localize)(0,null)}),S=Object.freeze([{kind:k.CodeActionKind.QuickFix,title:(0,y.localize)(1,null)},{kind:k.CodeActionKind.RefactorExtract,title:(0,y.localize)(2,null),icon:L.Codicon.wrench},{kind:k.CodeActionKind.RefactorInline,title:(0,y.localize)(3,null),icon:L.Codicon.wrench},{kind:k.CodeActionKind.RefactorRewrite,title:(0,y.localize)(4,null),icon:L.Codicon.wrench},{kind:k.CodeActionKind.RefactorMove,title:(0,y.localize)(5,null),icon:L.Codicon.wrench},{kind:k.CodeActionKind.SurroundWith,title:(0,y.localize)(6,null),icon:L.Codicon.symbolSnippet},{kind:k.CodeActionKind.Source,title:(0,y.localize)(7,null),icon:L.Codicon.symbolFile},D]);function m(_,f,p){if(!f)return _.map(i=>({kind:"action",item:i,group:D,disabled:!!i.action.disabled,label:i.action.disabled||i.action.title}));const s=S.map(i=>({group:i,actions:[]}));for(const i of _){const o=i.action.kind?new k.CodeActionKind(i.action.kind):k.CodeActionKind.None;for(const r of s)if(r.group.kind.contains(o)){r.actions.push(i);break}}const t=[];for(const i of s)if(i.actions.length){t.push({kind:"header",group:i.group});for(const o of i.actions)t.push({kind:"action",item:o,group:i.group,label:o.action.title,disabled:!!o.action.disabled,keybinding:p(o.action)})}return t}e.toMenuItems=m}),define(X[103],ee([1,0,33,36]),function(q,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.defaultMenuStyles=e.defaultSelectBoxStyles=e.getListStyles=e.defaultListStyles=e.defaultBreadcrumbsWidgetStyles=e.defaultCountBadgeStyles=e.defaultFindWidgetStyles=e.defaultInputBoxStyles=e.defaultDialogStyles=e.defaultCheckboxStyles=e.defaultToggleStyles=e.defaultProgressBarStyles=e.defaultButtonStyles=e.defaultKeybindingLabelStyles=void 0;function y(S,m){const _=Object.assign({},m);for(const f in S){const p=S[f];_[f]=p!==void 0?(0,L.asCssVariable)(p):void 0}return _}e.defaultKeybindingLabelStyles={keybindingLabelBackground:(0,L.asCssVariable)(L.keybindingLabelBackground),keybindingLabelForeground:(0,L.asCssVariable)(L.keybindingLabelForeground),keybindingLabelBorder:(0,L.asCssVariable)(L.keybindingLabelBorder),keybindingLabelBottomBorder:(0,L.asCssVariable)(L.keybindingLabelBottomBorder),keybindingLabelShadow:(0,L.asCssVariable)(L.widgetShadow)},e.defaultButtonStyles={buttonForeground:(0,L.asCssVariable)(L.buttonForeground),buttonSeparator:(0,L.asCssVariable)(L.buttonSeparator),buttonBackground:(0,L.asCssVariable)(L.buttonBackground),buttonHoverBackground:(0,L.asCssVariable)(L.buttonHoverBackground),buttonSecondaryForeground:(0,L.asCssVariable)(L.buttonSecondaryForeground),buttonSecondaryBackground:(0,L.asCssVariable)(L.buttonSecondaryBackground),buttonSecondaryHoverBackground:(0,L.asCssVariable)(L.buttonSecondaryHoverBackground),buttonBorder:(0,L.asCssVariable)(L.buttonBorder)},e.defaultProgressBarStyles={progressBarBackground:(0,L.asCssVariable)(L.progressBarBackground)},e.defaultToggleStyles={inputActiveOptionBorder:(0,L.asCssVariable)(L.inputActiveOptionBorder),inputActiveOptionForeground:(0,L.asCssVariable)(L.inputActiveOptionForeground),inputActiveOptionBackground:(0,L.asCssVariable)(L.inputActiveOptionBackground)},e.defaultCheckboxStyles={checkboxBackground:(0,L.asCssVariable)(L.checkboxBackground),checkboxBorder:(0,L.asCssVariable)(L.checkboxBorder),checkboxForeground:(0,L.asCssVariable)(L.checkboxForeground)},e.defaultDialogStyles={dialogBackground:(0,L.asCssVariable)(L.editorWidgetBackground),dialogForeground:(0,L.asCssVariable)(L.editorWidgetForeground),dialogShadow:(0,L.asCssVariable)(L.widgetShadow),dialogBorder:(0,L.asCssVariable)(L.contrastBorder),errorIconForeground:(0,L.asCssVariable)(L.problemsErrorIconForeground),warningIconForeground:(0,L.asCssVariable)(L.problemsWarningIconForeground),infoIconForeground:(0,L.asCssVariable)(L.problemsInfoIconForeground),textLinkForeground:(0,L.asCssVariable)(L.textLinkForeground)},e.defaultInputBoxStyles={inputBackground:(0,L.asCssVariable)(L.inputBackground),inputForeground:(0,L.asCssVariable)(L.inputForeground),inputBorder:(0,L.asCssVariable)(L.inputBorder),inputValidationInfoBorder:(0,L.asCssVariable)(L.inputValidationInfoBorder),inputValidationInfoBackground:(0,L.asCssVariable)(L.inputValidationInfoBackground),inputValidationInfoForeground:(0,L.asCssVariable)(L.inputValidationInfoForeground),inputValidationWarningBorder:(0,L.asCssVariable)(L.inputValidationWarningBorder),inputValidationWarningBackground:(0,L.asCssVariable)(L.inputValidationWarningBackground),inputValidationWarningForeground:(0,L.asCssVariable)(L.inputValidationWarningForeground),inputValidationErrorBorder:(0,L.asCssVariable)(L.inputValidationErrorBorder),inputValidationErrorBackground:(0,L.asCssVariable)(L.inputValidationErrorBackground),inputValidationErrorForeground:(0,L.asCssVariable)(L.inputValidationErrorForeground)},e.defaultFindWidgetStyles={listFilterWidgetBackground:(0,L.asCssVariable)(L.listFilterWidgetBackground),listFilterWidgetOutline:(0,L.asCssVariable)(L.listFilterWidgetOutline),listFilterWidgetNoMatchesOutline:(0,L.asCssVariable)(L.listFilterWidgetNoMatchesOutline),listFilterWidgetShadow:(0,L.asCssVariable)(L.listFilterWidgetShadow),inputBoxStyles:e.defaultInputBoxStyles,toggleStyles:e.defaultToggleStyles},e.defaultCountBadgeStyles={badgeBackground:(0,L.asCssVariable)(L.badgeBackground),badgeForeground:(0,L.asCssVariable)(L.badgeForeground),badgeBorder:(0,L.asCssVariable)(L.contrastBorder)},e.defaultBreadcrumbsWidgetStyles={breadcrumbsBackground:(0,L.asCssVariable)(L.breadcrumbsBackground),breadcrumbsForeground:(0,L.asCssVariable)(L.breadcrumbsForeground),breadcrumbsHoverForeground:(0,L.asCssVariable)(L.breadcrumbsFocusForeground),breadcrumbsFocusForeground:(0,L.asCssVariable)(L.breadcrumbsFocusForeground),breadcrumbsFocusAndSelectionForeground:(0,L.asCssVariable)(L.breadcrumbsActiveSelectionForeground)},e.defaultListStyles={listBackground:void 0,listInactiveFocusForeground:void 0,listFocusBackground:(0,L.asCssVariable)(L.listFocusBackground),listFocusForeground:(0,L.asCssVariable)(L.listFocusForeground),listFocusOutline:(0,L.asCssVariable)(L.listFocusOutline),listActiveSelectionBackground:(0,L.asCssVariable)(L.listActiveSelectionBackground),listActiveSelectionForeground:(0,L.asCssVariable)(L.listActiveSelectionForeground),listActiveSelectionIconForeground:(0,L.asCssVariable)(L.listActiveSelectionIconForeground),listFocusAndSelectionOutline:(0,L.asCssVariable)(L.listFocusAndSelectionOutline),listFocusAndSelectionBackground:(0,L.asCssVariable)(L.listActiveSelectionBackground),listFocusAndSelectionForeground:(0,L.asCssVariable)(L.listActiveSelectionForeground),listInactiveSelectionBackground:(0,L.asCssVariable)(L.listInactiveSelectionBackground),listInactiveSelectionIconForeground:(0,L.asCssVariable)(L.listInactiveSelectionIconForeground),listInactiveSelectionForeground:(0,L.asCssVariable)(L.listInactiveSelectionForeground),listInactiveFocusBackground:(0,L.asCssVariable)(L.listInactiveFocusBackground),listInactiveFocusOutline:(0,L.asCssVariable)(L.listInactiveFocusOutline),listHoverBackground:(0,L.asCssVariable)(L.listHoverBackground),listHoverForeground:(0,L.asCssVariable)(L.listHoverForeground),listDropBackground:(0,L.asCssVariable)(L.listDropBackground),listSelectionOutline:(0,L.asCssVariable)(L.activeContrastBorder),listHoverOutline:(0,L.asCssVariable)(L.activeContrastBorder),treeIndentGuidesStroke:(0,L.asCssVariable)(L.treeIndentGuidesStroke),treeInactiveIndentGuidesStroke:(0,L.asCssVariable)(L.treeInactiveIndentGuidesStroke),tableColumnsBorder:(0,L.asCssVariable)(L.tableColumnsBorder),tableOddRowsBackgroundColor:(0,L.asCssVariable)(L.tableOddRowsBackgroundColor)};function D(S){return y(S,e.defaultListStyles)}e.getListStyles=D,e.defaultSelectBoxStyles={selectBackground:(0,L.asCssVariable)(L.selectBackground),selectListBackground:(0,L.asCssVariable)(L.selectListBackground),selectForeground:(0,L.asCssVariable)(L.selectForeground),decoratorRightForeground:(0,L.asCssVariable)(L.pickerGroupForeground),selectBorder:(0,L.asCssVariable)(L.selectBorder),focusBorder:(0,L.asCssVariable)(L.focusBorder),listFocusBackground:(0,L.asCssVariable)(L.quickInputListFocusBackground),listInactiveSelectionIconForeground:(0,L.asCssVariable)(L.quickInputListFocusIconForeground),listFocusForeground:(0,L.asCssVariable)(L.quickInputListFocusForeground),listFocusOutline:(0,L.asCssVariableWithDefault)(L.activeContrastBorder,k.Color.transparent.toString()),listHoverBackground:(0,L.asCssVariable)(L.listHoverBackground),listHoverForeground:(0,L.asCssVariable)(L.listHoverForeground),listHoverOutline:(0,L.asCssVariable)(L.activeContrastBorder),selectListBorder:(0,L.asCssVariable)(L.editorWidgetBorder),listBackground:void 0,listActiveSelectionBackground:void 0,listActiveSelectionForeground:void 0,listActiveSelectionIconForeground:void 0,listFocusAndSelectionBackground:void 0,listDropBackground:void 0,listInactiveSelectionBackground:void 0,listInactiveSelectionForeground:void 0,listInactiveFocusBackground:void 0,listInactiveFocusOutline:void 0,listSelectionOutline:void 0,listFocusAndSelectionForeground:void 0,listFocusAndSelectionOutline:void 0,listInactiveFocusForeground:void 0,tableColumnsBorder:void 0,tableOddRowsBackgroundColor:void 0,treeIndentGuidesStroke:void 0,treeInactiveIndentGuidesStroke:void 0},e.defaultMenuStyles={shadowColor:(0,L.asCssVariable)(L.widgetShadow),borderColor:(0,L.asCssVariable)(L.menuBorder),foregroundColor:(0,L.asCssVariable)(L.menuForeground),backgroundColor:(0,L.asCssVariable)(L.menuBackground),selectionForegroundColor:(0,L.asCssVariable)(L.menuSelectionForeground),selectionBackgroundColor:(0,L.asCssVariable)(L.menuSelectionBackground),selectionBorderColor:(0,L.asCssVariable)(L.menuSelectionBorder),separatorColor:(0,L.asCssVariable)(L.menuSeparatorBackground),scrollbarShadow:(0,L.asCssVariable)(L.scrollbarShadow),scrollbarSliderBackground:(0,L.asCssVariable)(L.scrollbarSliderBackground),scrollbarSliderHoverBackground:(0,L.asCssVariable)(L.scrollbarSliderHoverBackground),scrollbarSliderActiveBackground:(0,L.asCssVariable)(L.scrollbarSliderActiveBackground)}}),define(X[812],ee([1,0,7,303,304,226,70,2,43,68,658,8,37,159,103,155]),function(q,e,L,k,y,D,S,m,_,f,p,s,t,i,o,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AccessibilityProvider=e.OneReferenceRenderer=e.FileReferencesRenderer=e.IdentityProvider=e.StringRepresentationProvider=e.Delegate=e.DataSource=void 0;let d=e.DataSource=class{constructor(b){this._resolverService=b}hasChildren(b){return b instanceof r.ReferencesModel||b instanceof r.FileReferences}getChildren(b){if(b instanceof r.ReferencesModel)return b.groups;if(b instanceof r.FileReferences)return b.resolve(this._resolverService).then(w=>w.children);throw new Error("bad tree")}};e.DataSource=d=Ne([ge(0,f.ITextModelService)],d);class h{getHeight(){return 23}getTemplateId(b){return b instanceof r.FileReferences?l.id:C.id}}e.Delegate=h;let n=e.StringRepresentationProvider=class{constructor(b){this._keybindingService=b}getKeyboardNavigationLabel(b){var w;if(b instanceof r.OneReference){const E=(w=b.parent.getPreview(b))===null||w===void 0?void 0:w.preview(b.range);if(E)return E.value}return(0,_.basename)(b.uri)}};e.StringRepresentationProvider=n=Ne([ge(0,t.IKeybindingService)],n);class c{getId(b){return b instanceof r.OneReference?b.id:b.uri}}e.IdentityProvider=c;let a=class extends m.Disposable{constructor(b,w){super(),this._labelService=w;const E=document.createElement("div");E.classList.add("reference-file"),this.file=this._register(new D.IconLabel(E,{supportHighlights:!0})),this.badge=new k.CountBadge(L.append(E,L.$(".count")),{},o.defaultCountBadgeStyles),b.appendChild(E)}set(b,w){const E=(0,_.dirname)(b.uri);this.file.setLabel(this._labelService.getUriBasenameLabel(b.uri),this._labelService.getUriLabel(E,{relative:!0}),{title:this._labelService.getUriLabel(b.uri),matches:w});const I=b.children.length;this.badge.setCount(I),I>1?this.badge.setTitleFormat((0,p.localize)(0,null,I)):this.badge.setTitleFormat((0,p.localize)(1,null,I))}};a=Ne([ge(1,i.ILabelService)],a);let l=e.FileReferencesRenderer=class qi{constructor(b){this._instantiationService=b,this.templateId=qi.id}renderTemplate(b){return this._instantiationService.createInstance(a,b)}renderElement(b,w,E){E.set(b.element,(0,S.createMatches)(b.filterData))}disposeTemplate(b){b.dispose()}};l.id="FileReferencesRenderer",e.FileReferencesRenderer=l=Ne([ge(0,s.IInstantiationService)],l);class u{constructor(b){this.label=new y.HighlightedLabel(b)}set(b,w){var E;const I=(E=b.parent.getPreview(b))===null||E===void 0?void 0:E.preview(b.range);if(!I||!I.value)this.label.set(`${(0,_.basename)(b.uri)}:${b.range.startLineNumber+1}:${b.range.startColumn+1}`);else{const{value:T,highlight:P}=I;w&&!S.FuzzyScore.isDefault(w)?(this.label.element.classList.toggle("referenceMatch",!1),this.label.set(T,(0,S.createMatches)(w))):(this.label.element.classList.toggle("referenceMatch",!0),this.label.set(T,[P]))}}}class C{constructor(){this.templateId=C.id}renderTemplate(b){return new u(b)}renderElement(b,w,E){E.set(b.element,b.filterData)}disposeTemplate(){}}e.OneReferenceRenderer=C,C.id="OneReferenceRenderer";class g{getWidgetAriaLabel(){return(0,p.localize)(2,null)}getAriaLabel(b){return b.ariaMessage}}e.AccessibilityProvider=g}),define(X[813],ee([1,0,7,222,113,25,2,17,27,705,57,37,103,33,267]),function(q,e,L,k,y,D,S,m,_,f,p,s,t,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ActionList=e.previewSelectedActionCommand=e.acceptSelectedActionCommand=void 0,e.acceptSelectedActionCommand="acceptSelectedCodeAction",e.previewSelectedActionCommand="previewSelectedCodeAction";class o{get templateId(){return"header"}renderTemplate(l){l.classList.add("group-header");const u=document.createElement("span");return l.append(u),{container:l,text:u}}renderElement(l,u,C){var g,v;C.text.textContent=(v=(g=l.group)===null||g===void 0?void 0:g.title)!==null&&v!==void 0?v:""}disposeTemplate(l){}}let r=class{get templateId(){return"action"}constructor(l,u){this._supportsPreview=l,this._keybindingService=u}renderTemplate(l){l.classList.add(this.templateId);const u=document.createElement("div");u.className="icon",l.append(u);const C=document.createElement("span");C.className="title",l.append(C);const g=new k.KeybindingLabel(l,m.OS);return{container:l,icon:u,text:C,keybinding:g}}renderElement(l,u,C){var g,v,b;if(!((g=l.group)===null||g===void 0)&&g.icon?(C.icon.className=_.ThemeIcon.asClassName(l.group.icon),l.group.icon.color&&(C.icon.style.color=(0,i.asCssVariable)(l.group.icon.color.id))):(C.icon.className=_.ThemeIcon.asClassName(D.Codicon.lightBulb),C.icon.style.color="var(--vscode-editorLightBulb-foreground)"),!l.item||!l.label)return;C.text.textContent=c(l.label),C.keybinding.set(l.keybinding),L.setVisibility(!!l.keybinding,C.keybinding.element);const w=(v=this._keybindingService.lookupKeybinding(e.acceptSelectedActionCommand))===null||v===void 0?void 0:v.getLabel(),E=(b=this._keybindingService.lookupKeybinding(e.previewSelectedActionCommand))===null||b===void 0?void 0:b.getLabel();C.container.classList.toggle("option-disabled",l.disabled),l.disabled?C.container.title=l.label:w&&E?this._supportsPreview?C.container.title=(0,f.localize)(0,null,w,E):C.container.title=(0,f.localize)(1,null,w):C.container.title=""}disposeTemplate(l){}};r=Ne([ge(1,s.IKeybindingService)],r);class d extends UIEvent{constructor(){super("acceptSelectedAction")}}class h extends UIEvent{constructor(){super("previewSelectedAction")}}let n=e.ActionList=class extends S.Disposable{constructor(l,u,C,g,v,b){super(),this._delegate=g,this._contextViewService=v,this._keybindingService=b,this._actionLineHeight=24,this._headerLineHeight=26,this.domNode=document.createElement("div"),this.domNode.classList.add("actionList");const w={getHeight:E=>E.kind==="header"?this._headerLineHeight:this._actionLineHeight,getTemplateId:E=>E.kind};this._list=this._register(new y.List(l,this.domNode,w,[new r(u,this._keybindingService),new o],{keyboardSupport:!1,accessibilityProvider:{getAriaLabel:E=>{if(E.kind==="action"){let I=E.label?c(E?.label):"";return E.disabled&&(I=(0,f.localize)(2,null,I,E.disabled)),I}return null},getWidgetAriaLabel:()=>(0,f.localize)(3,null),getRole:E=>E.kind==="action"?"option":"separator",getWidgetRole:()=>"listbox"}})),this._list.style(t.defaultListStyles),this._register(this._list.onMouseClick(E=>this.onListClick(E))),this._register(this._list.onMouseOver(E=>this.onListHover(E))),this._register(this._list.onDidChangeFocus(()=>this._list.domFocus())),this._register(this._list.onDidChangeSelection(E=>this.onListSelection(E))),this._allMenuItems=C,this._list.splice(0,this._list.length,this._allMenuItems),this._list.length&&this.focusNext()}focusCondition(l){return!l.disabled&&l.kind==="action"}hide(l){this._delegate.onHide(l),this._contextViewService.hideContextView()}layout(l){const u=this._allMenuItems.filter(I=>I.kind==="header").length,g=this._allMenuItems.length*this._actionLineHeight+u*this._headerLineHeight-u*this._actionLineHeight;this._list.layout(g);const v=this._allMenuItems.map((I,T)=>{const P=document.getElementById(this._list.getElementID(T));if(P){P.style.width="auto";const A=P.getBoundingClientRect().width;return P.style.width="",A}return 0}),b=Math.max(...v,l),w=.7,E=Math.min(g,document.body.clientHeight*w);return this._list.layout(E,b),this.domNode.style.height=`${E}px`,this._list.domFocus(),b}focusPrevious(){this._list.focusPrevious(1,!0,void 0,this.focusCondition)}focusNext(){this._list.focusNext(1,!0,void 0,this.focusCondition)}acceptSelected(l){const u=this._list.getFocus();if(u.length===0)return;const C=u[0],g=this._list.element(C);if(!this.focusCondition(g))return;const v=l?new h:new d;this._list.setSelection([C],v)}onListSelection(l){if(!l.elements.length)return;const u=l.elements[0];u.item&&this.focusCondition(u)?this._delegate.onSelect(u.item,l.browserEvent instanceof h):this._list.setSelection([])}onListHover(l){this._list.setFocus(typeof l.index=="number"?[l.index]:[])}onListClick(l){l.element&&this.focusCondition(l.element)&&this._list.setFocus([])}};e.ActionList=n=Ne([ge(4,p.IContextViewService),ge(5,s.IKeybindingService)],n);function c(a){return a.replace(/\r\n|\r|\n/g," ")}}),define(X[814],ee([1,0,7,67,2,706,813,31,13,57,48,8,267]),function(q,e,L,k,y,D,S,m,_,f,p,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IActionWidgetService=void 0;const t={Visible:new _.RawContextKey("codeActionMenuVisible",!1,(0,D.localize)(0,null))};e.IActionWidgetService=(0,s.createDecorator)("actionWidgetService");let i=class extends y.Disposable{get isVisible(){return t.Visible.getValue(this._contextKeyService)||!1}constructor(d,h,n){super(),this._contextViewService=d,this._contextKeyService=h,this._instantiationService=n,this._list=this._register(new y.MutableDisposable)}show(d,h,n,c,a,l,u){const C=t.Visible.bindTo(this._contextKeyService),g=this._instantiationService.createInstance(S.ActionList,d,h,n,c);this._contextViewService.showContextView({getAnchor:()=>a,render:v=>(C.set(!0),this._renderWidget(v,g,u??[])),onHide:v=>{C.reset(),this._onWidgetClosed(v)}},l,!1)}acceptSelected(d){var h;(h=this._list.value)===null||h===void 0||h.acceptSelected(d)}focusPrevious(){var d,h;(h=(d=this._list)===null||d===void 0?void 0:d.value)===null||h===void 0||h.focusPrevious()}focusNext(){var d,h;(h=(d=this._list)===null||d===void 0?void 0:d.value)===null||h===void 0||h.focusNext()}hide(){var d;(d=this._list.value)===null||d===void 0||d.hide(),this._list.clear()}_renderWidget(d,h,n){var c;const a=document.createElement("div");if(a.classList.add("action-widget"),d.appendChild(a),this._list.value=h,this._list.value)a.appendChild(this._list.value.domNode);else throw new Error("List has no value");const l=new y.DisposableStore,u=document.createElement("div"),C=d.appendChild(u);C.classList.add("context-view-block"),l.add(L.addDisposableListener(C,L.EventType.MOUSE_DOWN,I=>I.stopPropagation()));const g=document.createElement("div"),v=d.appendChild(g);v.classList.add("context-view-pointerBlock"),l.add(L.addDisposableListener(v,L.EventType.POINTER_MOVE,()=>v.remove())),l.add(L.addDisposableListener(v,L.EventType.MOUSE_DOWN,()=>v.remove()));let b=0;if(n.length){const I=this._createActionBar(".action-widget-action-bar",n);I&&(a.appendChild(I.getContainer().parentElement),l.add(I),b=I.getContainer().offsetWidth)}const w=(c=this._list.value)===null||c===void 0?void 0:c.layout(b);a.style.width=`${w}px`;const E=l.add(L.trackFocus(d));return l.add(E.onDidBlur(()=>this.hide())),l}_createActionBar(d,h){if(!h.length)return;const n=L.$(d),c=new k.ActionBar(n);return c.push(h,{icon:!1,label:!0}),c}_onWidgetClosed(d){var h;(h=this._list.value)===null||h===void 0||h.hide(d)}};i=Ne([ge(0,f.IContextViewService),ge(1,_.IContextKeyService),ge(2,s.IInstantiationService)],i),(0,p.registerSingleton)(e.IActionWidgetService,i,1);const o=100+1e3;(0,m.registerAction2)(class extends m.Action2{constructor(){super({id:"hideCodeActionWidget",title:{value:(0,D.localize)(1,null),original:"Hide action widget"},precondition:t.Visible,keybinding:{weight:o,primary:9,secondary:[1033]}})}run(r){r.get(e.IActionWidgetService).hide()}}),(0,m.registerAction2)(class extends m.Action2{constructor(){super({id:"selectPrevCodeAction",title:{value:(0,D.localize)(2,null),original:"Select previous action"},precondition:t.Visible,keybinding:{weight:o,primary:16,secondary:[2064],mac:{primary:16,secondary:[2064,302]}}})}run(r){const d=r.get(e.IActionWidgetService);d instanceof i&&d.focusPrevious()}}),(0,m.registerAction2)(class extends m.Action2{constructor(){super({id:"selectNextCodeAction",title:{value:(0,D.localize)(3,null),original:"Select next action"},precondition:t.Visible,keybinding:{weight:o,primary:18,secondary:[2066],mac:{primary:18,secondary:[2066,300]}}})}run(r){const d=r.get(e.IActionWidgetService);d instanceof i&&d.focusNext()}}),(0,m.registerAction2)(class extends m.Action2{constructor(){super({id:S.acceptSelectedActionCommand,title:{value:(0,D.localize)(4,null),original:"Accept selected action"},precondition:t.Visible,keybinding:{weight:o,primary:3,secondary:[2137]}})}run(r){const d=r.get(e.IActionWidgetService);d instanceof i&&d.acceptSelected()}}),(0,m.registerAction2)(class extends m.Action2{constructor(){super({id:S.previewSelectedActionCommand,title:{value:(0,D.localize)(5,null),original:"Preview selected action"},precondition:t.Visible,keybinding:{weight:o,primary:2051}})}run(r){const d=r.get(e.IActionWidgetService);d instanceof i&&d.acceptSelected(!0)}})});var ci=this&&this.__classPrivateFieldSet||function(q,e,L,k,y){if(k==="m")throw new TypeError("Private method is not writable");if(k==="a"&&!y)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?q!==e||!y:!e.has(q))throw new TypeError("Cannot write private member to an object whose class did not declare it");return k==="a"?y.call(q,L):y?y.value=L:e.set(q,L),L},Ht=this&&this.__classPrivateFieldGet||function(q,e,L,k){if(L==="a"&&!k)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?q!==e||!k:!e.has(q))throw new TypeError("Cannot read private member from an object whose class did not declare it");return L==="m"?k:L==="a"?k.call(q):k?k.value:e.get(q)};define(X[250],ee([1,0,7,12,99,2,11,19,135,790,811,345,191,632,814,26,28,13,8,97,83,112,344]),function(q,e,L,k,y,D,S,m,_,f,p,s,t,i,o,r,d,h,n,c,a,l,u){"use strict";var C;Object.defineProperty(e,"__esModule",{value:!0}),e.CodeActionController=void 0;let g=e.CodeActionController=class $i extends D.Disposable{static get(b){return b.getContribution($i.ID)}constructor(b,w,E,I,T,P,A,M,N,R){super(),this._commandService=A,this._configurationService=M,this._actionWidgetService=N,this._instantiationService=R,this._activeCodeActions=this._register(new D.MutableDisposable),this._showDisabled=!1,C.set(this,!1),this._editor=b,this._model=this._register(new u.CodeActionModel(this._editor,T.codeActionProvider,w,E,P)),this._register(this._model.onDidChangeState(F=>this.update(F))),this._lightBulbWidget=new y.Lazy(()=>{const F=this._editor.getContribution(s.LightBulbWidget.ID);return F&&this._register(F.onClick(x=>this.showCodeActionList(x.actions,x,{includeDisabledActions:!1,fromLightbulb:!0}))),F}),this._resolver=I.createInstance(f.CodeActionKeybindingResolver),this._register(this._editor.onDidLayoutChange(()=>this._actionWidgetService.hide()))}dispose(){ci(this,C,!0,"f"),super.dispose()}showCodeActions(b,w,E){return this.showCodeActionList(w,E,{includeDisabledActions:!1,fromLightbulb:!1})}manualTriggerAtCurrentPosition(b,w,E,I){var T;if(!this._editor.hasModel())return;(T=t.MessageController.get(this._editor))===null||T===void 0||T.closeMessage();const P=this._editor.getPosition();this._trigger({type:1,triggerAction:w,filter:E,autoApply:I,context:{notAvailableMessage:b,position:P}})}_trigger(b){return this._model.trigger(b)}_applyCodeAction(b,w,E){return Le(this,void 0,void 0,function*(){try{yield this._instantiationService.invokeFunction(_.applyCodeAction,b,_.ApplyCodeActionReason.FromCodeActions,{preview:E,editor:this._editor})}finally{w&&this._trigger({type:2,triggerAction:l.CodeActionTriggerSource.QuickFix,filter:{}})}})}update(b){var w,E,I,T,P,A,M;return Le(this,void 0,void 0,function*(){if(b.type!==1){(w=this._lightBulbWidget.rawValue)===null||w===void 0||w.hide();return}let N;try{N=yield b.actions}catch(R){(0,k.onUnexpectedError)(R);return}if(!Ht(this,C,"f"))if((E=this._lightBulbWidget.value)===null||E===void 0||E.update(N,b.trigger,b.position),b.trigger.type===1){if(!((I=b.trigger.filter)===null||I===void 0)&&I.include){const F=this.tryGetValidActionToApply(b.trigger,N);if(F){try{(T=this._lightBulbWidget.value)===null||T===void 0||T.hide(),yield this._applyCodeAction(F,!1,!1)}finally{N.dispose()}return}if(b.trigger.context){const x=this.getInvalidActionThatWouldHaveBeenApplied(b.trigger,N);if(x&&x.action.disabled){(P=t.MessageController.get(this._editor))===null||P===void 0||P.showMessage(x.action.disabled,b.trigger.context.position),N.dispose();return}}}const R=!!(!((A=b.trigger.filter)===null||A===void 0)&&A.include);if(b.trigger.context&&(!N.allActions.length||!R&&!N.validActions.length)){(M=t.MessageController.get(this._editor))===null||M===void 0||M.showMessage(b.trigger.context.notAvailableMessage,b.trigger.context.position),this._activeCodeActions.value=N,N.dispose();return}this._activeCodeActions.value=N,this.showCodeActionList(N,this.toCoords(b.position),{includeDisabledActions:R,fromLightbulb:!1})}else this._actionWidgetService.isVisible?N.dispose():this._activeCodeActions.value=N})}getInvalidActionThatWouldHaveBeenApplied(b,w){if(w.allActions.length&&(b.autoApply==="first"&&w.validActions.length===0||b.autoApply==="ifSingle"&&w.allActions.length===1))return w.allActions.find(({action:E})=>E.disabled)}tryGetValidActionToApply(b,w){if(w.validActions.length&&(b.autoApply==="first"&&w.validActions.length>0||b.autoApply==="ifSingle"&&w.validActions.length===1))return w.validActions[0]}showCodeActionList(b,w,E){return Le(this,void 0,void 0,function*(){const I=this._editor.getDomNode();if(!I)return;const T=E.includeDisabledActions&&(this._showDisabled||b.validActions.length===0)?b.allActions:b.validActions;if(!T.length)return;const P=S.Position.isIPosition(w)?this.toCoords(w):w,A={onSelect:(M,N)=>Le(this,void 0,void 0,function*(){this._applyCodeAction(M,!0,!!N),this._actionWidgetService.hide()}),onHide:()=>{var M;(M=this._editor)===null||M===void 0||M.focus()}};this._actionWidgetService.show("codeActionWidget",!0,(0,p.toMenuItems)(T,this._shouldShowHeaders(),this._resolver.getResolver()),A,P,I,this._getActionBarActions(b,w,E))})}toCoords(b){if(!this._editor.hasModel())return{x:0,y:0};this._editor.revealPosition(b,1),this._editor.render();const w=this._editor.getScrolledVisiblePosition(b),E=(0,L.getDomNodePagePosition)(this._editor.getDomNode()),I=E.left+w.left,T=E.top+w.top+w.height;return{x:I,y:T}}_shouldShowHeaders(){var b;const w=(b=this._editor)===null||b===void 0?void 0:b.getModel();return this._configurationService.getValue("editor.codeActionWidget.showHeaders",{resource:w?.uri})}_getActionBarActions(b,w,E){if(E.fromLightbulb)return[];const I=b.documentation.map(T=>{var P;return{id:T.id,label:T.title,tooltip:(P=T.tooltip)!==null&&P!==void 0?P:"",class:void 0,enabled:!0,run:()=>{var A;return this._commandService.executeCommand(T.id,...(A=T.arguments)!==null&&A!==void 0?A:[])}}});return E.includeDisabledActions&&b.validActions.length>0&&b.allActions.length!==b.validActions.length&&I.push(this._showDisabled?{id:"hideMoreActions",label:(0,i.localize)(0,null),enabled:!0,tooltip:"",class:void 0,run:()=>(this._showDisabled=!1,this.showCodeActionList(b,w,E))}:{id:"showMoreActions",label:(0,i.localize)(1,null),enabled:!0,tooltip:"",class:void 0,run:()=>(this._showDisabled=!0,this.showCodeActionList(b,w,E))}),I}};C=new WeakMap,g.ID="editor.contrib.codeActionController",e.CodeActionController=g=Ne([ge(1,c.IMarkerService),ge(2,h.IContextKeyService),ge(3,n.IInstantiationService),ge(4,m.ILanguageFeaturesService),ge(5,a.IEditorProgressService),ge(6,r.ICommandService),ge(7,d.IConfigurationService),ge(8,o.IActionWidgetService),ge(9,n.IInstantiationService)],g)}),define(X[815],ee([1,0,9,15,22,135,630,13,112,250,344]),function(q,e,L,k,y,D,S,m,_,f,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AutoFixAction=e.FixAllAction=e.OrganizeImportsAction=e.SourceAction=e.RefactorAction=e.CodeActionCommand=e.QuickFixAction=void 0;function s(l){return m.ContextKeyExpr.regex(p.SUPPORTED_CODE_ACTIONS.keys()[0],new RegExp("(\\s|^)"+(0,L.escapeRegExpCharacters)(l.value)+"\\b"))}const t={type:"object",defaultSnippets:[{body:{kind:""}}],properties:{kind:{type:"string",description:S.localize(0,null)},apply:{type:"string",description:S.localize(1,null),default:"ifSingle",enum:["first","ifSingle","never"],enumDescriptions:[S.localize(2,null),S.localize(3,null),S.localize(4,null)]},preferred:{type:"boolean",default:!1,description:S.localize(5,null)}}};function i(l,u,C,g,v=_.CodeActionTriggerSource.Default){if(l.hasModel()){const b=f.CodeActionController.get(l);b?.manualTriggerAtCurrentPosition(u,v,C,g)}}class o extends k.EditorAction{constructor(){super({id:D.quickFixCommandId,label:S.localize(6,null),alias:"Quick Fix...",precondition:m.ContextKeyExpr.and(y.EditorContextKeys.writable,y.EditorContextKeys.hasCodeActionsProvider),kbOpts:{kbExpr:y.EditorContextKeys.textInputFocus,primary:2137,weight:100}})}run(u,C){return i(C,S.localize(7,null),void 0,void 0,_.CodeActionTriggerSource.QuickFix)}}e.QuickFixAction=o;class r extends k.EditorCommand{constructor(){super({id:D.codeActionCommandId,precondition:m.ContextKeyExpr.and(y.EditorContextKeys.writable,y.EditorContextKeys.hasCodeActionsProvider),description:{description:"Trigger a code action",args:[{name:"args",schema:t}]}})}runEditorCommand(u,C,g){const v=_.CodeActionCommandArgs.fromUser(g,{kind:_.CodeActionKind.Empty,apply:"ifSingle"});return i(C,typeof g?.kind=="string"?v.preferred?S.localize(8,null,g.kind):S.localize(9,null,g.kind):v.preferred?S.localize(10,null):S.localize(11,null),{include:v.kind,includeSourceActions:!0,onlyIncludePreferredActions:v.preferred},v.apply)}}e.CodeActionCommand=r;class d extends k.EditorAction{constructor(){super({id:D.refactorCommandId,label:S.localize(12,null),alias:"Refactor...",precondition:m.ContextKeyExpr.and(y.EditorContextKeys.writable,y.EditorContextKeys.hasCodeActionsProvider),kbOpts:{kbExpr:y.EditorContextKeys.textInputFocus,primary:3120,mac:{primary:1328},weight:100},contextMenuOpts:{group:"1_modification",order:2,when:m.ContextKeyExpr.and(y.EditorContextKeys.writable,s(_.CodeActionKind.Refactor))},description:{description:"Refactor...",args:[{name:"args",schema:t}]}})}run(u,C,g){const v=_.CodeActionCommandArgs.fromUser(g,{kind:_.CodeActionKind.Refactor,apply:"never"});return i(C,typeof g?.kind=="string"?v.preferred?S.localize(13,null,g.kind):S.localize(14,null,g.kind):v.preferred?S.localize(15,null):S.localize(16,null),{include:_.CodeActionKind.Refactor.contains(v.kind)?v.kind:_.CodeActionKind.None,onlyIncludePreferredActions:v.preferred},v.apply,_.CodeActionTriggerSource.Refactor)}}e.RefactorAction=d;class h extends k.EditorAction{constructor(){super({id:D.sourceActionCommandId,label:S.localize(17,null),alias:"Source Action...",precondition:m.ContextKeyExpr.and(y.EditorContextKeys.writable,y.EditorContextKeys.hasCodeActionsProvider),contextMenuOpts:{group:"1_modification",order:2.1,when:m.ContextKeyExpr.and(y.EditorContextKeys.writable,s(_.CodeActionKind.Source))},description:{description:"Source Action...",args:[{name:"args",schema:t}]}})}run(u,C,g){const v=_.CodeActionCommandArgs.fromUser(g,{kind:_.CodeActionKind.Source,apply:"never"});return i(C,typeof g?.kind=="string"?v.preferred?S.localize(18,null,g.kind):S.localize(19,null,g.kind):v.preferred?S.localize(20,null):S.localize(21,null),{include:_.CodeActionKind.Source.contains(v.kind)?v.kind:_.CodeActionKind.None,includeSourceActions:!0,onlyIncludePreferredActions:v.preferred},v.apply,_.CodeActionTriggerSource.SourceAction)}}e.SourceAction=h;class n extends k.EditorAction{constructor(){super({id:D.organizeImportsCommandId,label:S.localize(22,null),alias:"Organize Imports",precondition:m.ContextKeyExpr.and(y.EditorContextKeys.writable,s(_.CodeActionKind.SourceOrganizeImports)),kbOpts:{kbExpr:y.EditorContextKeys.textInputFocus,primary:1581,weight:100}})}run(u,C){return i(C,S.localize(23,null),{include:_.CodeActionKind.SourceOrganizeImports,includeSourceActions:!0},"ifSingle",_.CodeActionTriggerSource.OrganizeImports)}}e.OrganizeImportsAction=n;class c extends k.EditorAction{constructor(){super({id:D.fixAllCommandId,label:S.localize(24,null),alias:"Fix All",precondition:m.ContextKeyExpr.and(y.EditorContextKeys.writable,s(_.CodeActionKind.SourceFixAll))})}run(u,C){return i(C,S.localize(25,null),{include:_.CodeActionKind.SourceFixAll,includeSourceActions:!0},"ifSingle",_.CodeActionTriggerSource.FixAll)}}e.FixAllAction=c;class a extends k.EditorAction{constructor(){super({id:D.autoFixCommandId,label:S.localize(26,null),alias:"Auto Fix...",precondition:m.ContextKeyExpr.and(y.EditorContextKeys.writable,s(_.CodeActionKind.QuickFix)),kbOpts:{kbExpr:y.EditorContextKeys.textInputFocus,primary:1625,mac:{primary:2649},weight:100}})}run(u,C){return i(C,S.localize(27,null),{include:_.CodeActionKind.QuickFix,onlyIncludePreferredActions:!0},"ifSingle",_.CodeActionTriggerSource.AutoFix)}}e.AutoFixAction=a}),define(X[816],ee([1,0,15,336,815,250,345,631,101,38]),function(q,e,L,k,y,D,S,m,_,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),(0,L.registerEditorContribution)(D.CodeActionController.ID,D.CodeActionController,3),(0,L.registerEditorContribution)(S.LightBulbWidget.ID,S.LightBulbWidget,4),(0,L.registerEditorAction)(y.QuickFixAction),(0,L.registerEditorAction)(y.RefactorAction),(0,L.registerEditorAction)(y.SourceAction),(0,L.registerEditorAction)(y.OrganizeImportsAction),(0,L.registerEditorAction)(y.AutoFixAction),(0,L.registerEditorAction)(y.FixAllAction),(0,L.registerEditorCommand)(new y.CodeActionCommand),f.Registry.as(_.Extensions.Configuration).registerConfiguration(Object.assign(Object.assign({},k.editorConfigurationBaseNode),{properties:{"editor.codeActionWidget.showHeaders":{type:"boolean",scope:5,description:m.localize(0,null),default:!0}}}))}),define(X[817],ee([1,0,7,73,578,40,12,2,103]),function(q,e,L,k,y,D,S,m,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextMenuHandler=void 0;class f{constructor(s,t,i,o){this.contextViewService=s,this.telemetryService=t,this.notificationService=i,this.keybindingService=o,this.focusToReturn=null,this.lastContainer=null,this.block=null,this.blockDisposable=null,this.options={blockMouse:!0}}configure(s){this.options=s}showContextMenu(s){const t=s.getActions();if(!t.length)return;this.focusToReturn=document.activeElement;let i;const o=(0,L.isHTMLElement)(s.domForShadowRoot)?s.domForShadowRoot:void 0;this.contextViewService.showContextView({getAnchor:()=>s.getAnchor(),canRelayout:!1,anchorAlignment:s.anchorAlignment,anchorAxisAlignment:s.anchorAxisAlignment,render:r=>{var d;this.lastContainer=r;const h=s.getMenuClassName?s.getMenuClassName():"";h&&(r.className+=" "+h),this.options.blockMouse&&(this.block=r.appendChild((0,L.$)(".context-view-block")),this.block.style.position="fixed",this.block.style.cursor="initial",this.block.style.left="0",this.block.style.top="0",this.block.style.width="100%",this.block.style.height="100%",this.block.style.zIndex="-1",(d=this.blockDisposable)===null||d===void 0||d.dispose(),this.blockDisposable=(0,L.addDisposableListener)(this.block,L.EventType.MOUSE_DOWN,a=>a.stopPropagation()));const n=new m.DisposableStore,c=s.actionRunner||new D.ActionRunner;return c.onWillRun(a=>this.onActionRun(a,!s.skipTelemetry),this,n),c.onDidRun(this.onDidActionRun,this,n),i=new y.Menu(r,t,{actionViewItemProvider:s.getActionViewItem,context:s.getActionsContext?s.getActionsContext():null,actionRunner:c,getKeyBinding:s.getKeyBinding?s.getKeyBinding:a=>this.keybindingService.lookupKeybinding(a.id)},_.defaultMenuStyles),i.onDidCancel(()=>this.contextViewService.hideContextView(!0),null,n),i.onDidBlur(()=>this.contextViewService.hideContextView(!0),null,n),n.add((0,L.addDisposableListener)(window,L.EventType.BLUR,()=>this.contextViewService.hideContextView(!0))),n.add((0,L.addDisposableListener)(window,L.EventType.MOUSE_DOWN,a=>{if(a.defaultPrevented)return;const l=new k.StandardMouseEvent(a);let u=l.target;if(!l.rightButton){for(;u;){if(u===r)return;u=u.parentElement}this.contextViewService.hideContextView(!0)}})),(0,m.combinedDisposable)(n,i)},focus:()=>{i?.focus(!!s.autoSelectFirstItem)},onHide:r=>{var d,h,n;(d=s.onHide)===null||d===void 0||d.call(s,!!r),this.block&&(this.block.remove(),this.block=null),(h=this.blockDisposable)===null||h===void 0||h.dispose(),this.blockDisposable=null,this.lastContainer&&((0,L.getActiveElement)()===this.lastContainer||(0,L.isAncestor)((0,L.getActiveElement)(),this.lastContainer))&&((n=this.focusToReturn)===null||n===void 0||n.focus()),this.lastContainer=null}},o,!!o)}onActionRun(s,t){t&&this.telemetryService.publicLog2("workbenchActionExecuted",{id:s.action.id,from:"contextMenu"}),this.contextViewService.hideContextView(!1)}onDidActionRun(s){s.error&&!(0,S.isCancellationError)(s.error)&&this.notificationService.error(s.error)}}e.ContextMenuHandler=f}),define(X[192],ee([1,0,7,573,113,574,186,581,580,312,6,2,718,28,101,13,239,57,8,37,38,103]),function(q,e,L,k,y,D,S,m,_,f,p,s,t,i,o,r,d,h,n,c,a,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WorkbenchCompressibleAsyncDataTree=e.WorkbenchAsyncDataTree=e.WorkbenchDataTree=e.WorkbenchCompressibleObjectTree=e.WorkbenchObjectTree=e.WorkbenchTable=e.WorkbenchPagedList=e.WorkbenchList=e.WorkbenchTreeFindOpen=e.WorkbenchTreeElementHasChild=e.WorkbenchTreeElementCanExpand=e.WorkbenchTreeElementHasParent=e.WorkbenchTreeElementCanCollapse=e.WorkbenchListSupportsFind=e.WorkbenchListSelectionNavigation=e.WorkbenchListMultiSelection=e.WorkbenchListDoubleSelection=e.WorkbenchListHasSelectionOrFocus=e.WorkbenchListFocusContextKey=e.WorkbenchListSupportsMultiSelectContextKey=e.RawWorkbenchListFocusContextKey=e.ListService=e.IListService=void 0,e.IListService=(0,n.createDecorator)("listService");class u{get lastFocusedList(){return this._lastFocusedWidget}constructor(){this.disposables=new s.DisposableStore,this.lists=[],this._lastFocusedWidget=void 0,this._hasCreatedStyleController=!1}setLastFocusedList(Y){var le,fe;Y!==this._lastFocusedWidget&&((le=this._lastFocusedWidget)===null||le===void 0||le.getHTMLElement().classList.remove("last-focused"),this._lastFocusedWidget=Y,(fe=this._lastFocusedWidget)===null||fe===void 0||fe.getHTMLElement().classList.add("last-focused"))}register(Y,le){if(this._hasCreatedStyleController||(this._hasCreatedStyleController=!0,new y.DefaultStyleController((0,L.createStyleSheet)(),"").style(l.defaultListStyles)),this.lists.some(be=>be.widget===Y))throw new Error("Cannot register the same widget multiple times");const fe={widget:Y,extraContextKeys:le};return this.lists.push(fe),Y.getHTMLElement()===document.activeElement&&this.setLastFocusedList(Y),(0,s.combinedDisposable)(Y.onDidFocus(()=>this.setLastFocusedList(Y)),(0,s.toDisposable)(()=>this.lists.splice(this.lists.indexOf(fe),1)),Y.onDidDispose(()=>{this.lists=this.lists.filter(be=>be!==fe),this._lastFocusedWidget===Y&&this.setLastFocusedList(void 0)}))}dispose(){this.disposables.dispose()}}e.ListService=u,e.RawWorkbenchListFocusContextKey=new r.RawContextKey("listFocus",!0),e.WorkbenchListSupportsMultiSelectContextKey=new r.RawContextKey("listSupportsMultiselect",!0),e.WorkbenchListFocusContextKey=r.ContextKeyExpr.and(e.RawWorkbenchListFocusContextKey,r.ContextKeyExpr.not(d.InputFocusedContextKey)),e.WorkbenchListHasSelectionOrFocus=new r.RawContextKey("listHasSelectionOrFocus",!1),e.WorkbenchListDoubleSelection=new r.RawContextKey("listDoubleSelection",!1),e.WorkbenchListMultiSelection=new r.RawContextKey("listMultiSelection",!1),e.WorkbenchListSelectionNavigation=new r.RawContextKey("listSelectionNavigation",!1),e.WorkbenchListSupportsFind=new r.RawContextKey("listSupportsFind",!0),e.WorkbenchTreeElementCanCollapse=new r.RawContextKey("treeElementCanCollapse",!1),e.WorkbenchTreeElementHasParent=new r.RawContextKey("treeElementHasParent",!1),e.WorkbenchTreeElementCanExpand=new r.RawContextKey("treeElementCanExpand",!1),e.WorkbenchTreeElementHasChild=new r.RawContextKey("treeElementHasChild",!1),e.WorkbenchTreeFindOpen=new r.RawContextKey("treeFindOpen",!1);const C="listTypeNavigationMode",g="listAutomaticKeyboardNavigation";function v(ie,Y){const le=ie.createScoped(Y.getHTMLElement());return e.RawWorkbenchListFocusContextKey.bindTo(le),le}const b="workbench.list.multiSelectModifier",w="workbench.list.openMode",E="workbench.list.horizontalScrolling",I="workbench.list.defaultFindMode",T="workbench.list.typeNavigationMode",P="workbench.list.keyboardNavigation",A="workbench.list.scrollByPage",M="workbench.list.defaultFindMatchType",N="workbench.tree.indent",R="workbench.tree.renderIndentGuides",F="workbench.list.smoothScrolling",x="workbench.list.mouseWheelScrollSensitivity",W="workbench.list.fastScrollSensitivity",z="workbench.tree.expandMode";function U(ie){return ie.getValue(b)==="alt"}class O extends s.Disposable{constructor(Y){super(),this.configurationService=Y,this.useAltAsMultipleSelectionModifier=U(Y),this.registerListeners()}registerListeners(){this._register(this.configurationService.onDidChangeConfiguration(Y=>{Y.affectsConfiguration(b)&&(this.useAltAsMultipleSelectionModifier=U(this.configurationService))}))}isSelectionSingleChangeEvent(Y){return this.useAltAsMultipleSelectionModifier?Y.browserEvent.altKey:(0,y.isSelectionSingleChangeEvent)(Y)}isSelectionRangeChangeEvent(Y){return(0,y.isSelectionRangeChangeEvent)(Y)}}function G(ie,Y){var le;const fe=ie.get(i.IConfigurationService),be=ie.get(c.IKeybindingService),we=new s.DisposableStore;return[Object.assign(Object.assign({},Y),{keyboardNavigationDelegate:{mightProducePrintableCharacter(Ie){return be.mightProducePrintableCharacter(Ie)}},smoothScrolling:!!fe.getValue(F),mouseWheelScrollSensitivity:fe.getValue(x),fastScrollSensitivity:fe.getValue(W),multipleSelectionController:(le=Y.multipleSelectionController)!==null&&le!==void 0?le:we.add(new O(fe)),keyboardNavigationEventFilter:Z(be),scrollByPage:!!fe.getValue(A)}),we]}let Q=e.WorkbenchList=class extends y.List{constructor(Y,le,fe,be,we,Ee,Ie,ye,ke){const Ae=typeof we.horizontalScrolling<"u"?we.horizontalScrolling:!!ye.getValue(E),[Te,pe]=ke.invokeFunction(G,we);super(Y,le,fe,be,Object.assign(Object.assign({keyboardSupport:!1},Te),{horizontalScrolling:Ae})),this.disposables.add(pe),this.contextKeyService=v(Ee,this),this.listSupportsMultiSelect=e.WorkbenchListSupportsMultiSelectContextKey.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(we.multipleSelectionSupport!==!1),e.WorkbenchListSelectionNavigation.bindTo(this.contextKeyService).set(!!we.selectionNavigation),this.listHasSelectionOrFocus=e.WorkbenchListHasSelectionOrFocus.bindTo(this.contextKeyService),this.listDoubleSelection=e.WorkbenchListDoubleSelection.bindTo(this.contextKeyService),this.listMultiSelection=e.WorkbenchListMultiSelection.bindTo(this.contextKeyService),this.horizontalScrolling=we.horizontalScrolling,this._useAltAsMultipleSelectionModifier=U(ye),this.disposables.add(this.contextKeyService),this.disposables.add(Ie.register(this)),this.updateStyles(we.overrideStyles),this.disposables.add(this.onDidChangeSelection(()=>{const Se=this.getSelection(),ue=this.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.listHasSelectionOrFocus.set(Se.length>0||ue.length>0),this.listMultiSelection.set(Se.length>1),this.listDoubleSelection.set(Se.length===2)})})),this.disposables.add(this.onDidChangeFocus(()=>{const Se=this.getSelection(),ue=this.getFocus();this.listHasSelectionOrFocus.set(Se.length>0||ue.length>0)})),this.disposables.add(ye.onDidChangeConfiguration(Se=>{Se.affectsConfiguration(b)&&(this._useAltAsMultipleSelectionModifier=U(ye));let ue={};if(Se.affectsConfiguration(E)&&this.horizontalScrolling===void 0){const Ce=!!ye.getValue(E);ue=Object.assign(Object.assign({},ue),{horizontalScrolling:Ce})}if(Se.affectsConfiguration(A)){const Ce=!!ye.getValue(A);ue=Object.assign(Object.assign({},ue),{scrollByPage:Ce})}if(Se.affectsConfiguration(F)){const Ce=!!ye.getValue(F);ue=Object.assign(Object.assign({},ue),{smoothScrolling:Ce})}if(Se.affectsConfiguration(x)){const Ce=ye.getValue(x);ue=Object.assign(Object.assign({},ue),{mouseWheelScrollSensitivity:Ce})}if(Se.affectsConfiguration(W)){const Ce=ye.getValue(W);ue=Object.assign(Object.assign({},ue),{fastScrollSensitivity:Ce})}Object.keys(ue).length>0&&this.updateOptions(ue)})),this.navigator=new H(this,Object.assign({configurationService:ye},we)),this.disposables.add(this.navigator)}updateOptions(Y){super.updateOptions(Y),Y.overrideStyles!==void 0&&this.updateStyles(Y.overrideStyles),Y.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!Y.multipleSelectionSupport)}updateStyles(Y){this.style(Y?(0,l.getListStyles)(Y):l.defaultListStyles)}};e.WorkbenchList=Q=Ne([ge(5,r.IContextKeyService),ge(6,e.IListService),ge(7,i.IConfigurationService),ge(8,n.IInstantiationService)],Q);let re=e.WorkbenchPagedList=class extends k.PagedList{constructor(Y,le,fe,be,we,Ee,Ie,ye,ke){const Ae=typeof we.horizontalScrolling<"u"?we.horizontalScrolling:!!ye.getValue(E),[Te,pe]=ke.invokeFunction(G,we);super(Y,le,fe,be,Object.assign(Object.assign({keyboardSupport:!1},Te),{horizontalScrolling:Ae})),this.disposables=new s.DisposableStore,this.disposables.add(pe),this.contextKeyService=v(Ee,this),this.horizontalScrolling=we.horizontalScrolling,this.listSupportsMultiSelect=e.WorkbenchListSupportsMultiSelectContextKey.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(we.multipleSelectionSupport!==!1),e.WorkbenchListSelectionNavigation.bindTo(this.contextKeyService).set(!!we.selectionNavigation),this._useAltAsMultipleSelectionModifier=U(ye),this.disposables.add(this.contextKeyService),this.disposables.add(Ie.register(this)),this.updateStyles(we.overrideStyles),this.disposables.add(ye.onDidChangeConfiguration(Se=>{Se.affectsConfiguration(b)&&(this._useAltAsMultipleSelectionModifier=U(ye));let ue={};if(Se.affectsConfiguration(E)&&this.horizontalScrolling===void 0){const Ce=!!ye.getValue(E);ue=Object.assign(Object.assign({},ue),{horizontalScrolling:Ce})}if(Se.affectsConfiguration(A)){const Ce=!!ye.getValue(A);ue=Object.assign(Object.assign({},ue),{scrollByPage:Ce})}if(Se.affectsConfiguration(F)){const Ce=!!ye.getValue(F);ue=Object.assign(Object.assign({},ue),{smoothScrolling:Ce})}if(Se.affectsConfiguration(x)){const Ce=ye.getValue(x);ue=Object.assign(Object.assign({},ue),{mouseWheelScrollSensitivity:Ce})}if(Se.affectsConfiguration(W)){const Ce=ye.getValue(W);ue=Object.assign(Object.assign({},ue),{fastScrollSensitivity:Ce})}Object.keys(ue).length>0&&this.updateOptions(ue)})),this.navigator=new H(this,Object.assign({configurationService:ye},we)),this.disposables.add(this.navigator)}updateOptions(Y){super.updateOptions(Y),Y.overrideStyles!==void 0&&this.updateStyles(Y.overrideStyles),Y.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!Y.multipleSelectionSupport)}updateStyles(Y){this.style(Y?(0,l.getListStyles)(Y):l.defaultListStyles)}dispose(){this.disposables.dispose(),super.dispose()}};e.WorkbenchPagedList=re=Ne([ge(5,r.IContextKeyService),ge(6,e.IListService),ge(7,i.IConfigurationService),ge(8,n.IInstantiationService)],re);let oe=e.WorkbenchTable=class extends D.Table{constructor(Y,le,fe,be,we,Ee,Ie,ye,ke,Ae){const Te=typeof Ee.horizontalScrolling<"u"?Ee.horizontalScrolling:!!ke.getValue(E),[pe,me]=Ae.invokeFunction(G,Ee);super(Y,le,fe,be,we,Object.assign(Object.assign({keyboardSupport:!1},pe),{horizontalScrolling:Te})),this.disposables.add(me),this.contextKeyService=v(Ie,this),this.listSupportsMultiSelect=e.WorkbenchListSupportsMultiSelectContextKey.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(Ee.multipleSelectionSupport!==!1),e.WorkbenchListSelectionNavigation.bindTo(this.contextKeyService).set(!!Ee.selectionNavigation),this.listHasSelectionOrFocus=e.WorkbenchListHasSelectionOrFocus.bindTo(this.contextKeyService),this.listDoubleSelection=e.WorkbenchListDoubleSelection.bindTo(this.contextKeyService),this.listMultiSelection=e.WorkbenchListMultiSelection.bindTo(this.contextKeyService),this.horizontalScrolling=Ee.horizontalScrolling,this._useAltAsMultipleSelectionModifier=U(ke),this.disposables.add(this.contextKeyService),this.disposables.add(ye.register(this)),this.updateStyles(Ee.overrideStyles),this.disposables.add(this.onDidChangeSelection(()=>{const ue=this.getSelection(),Ce=this.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.listHasSelectionOrFocus.set(ue.length>0||Ce.length>0),this.listMultiSelection.set(ue.length>1),this.listDoubleSelection.set(ue.length===2)})})),this.disposables.add(this.onDidChangeFocus(()=>{const ue=this.getSelection(),Ce=this.getFocus();this.listHasSelectionOrFocus.set(ue.length>0||Ce.length>0)})),this.disposables.add(ke.onDidChangeConfiguration(ue=>{ue.affectsConfiguration(b)&&(this._useAltAsMultipleSelectionModifier=U(ke));let Ce={};if(ue.affectsConfiguration(E)&&this.horizontalScrolling===void 0){const ve=!!ke.getValue(E);Ce=Object.assign(Object.assign({},Ce),{horizontalScrolling:ve})}if(ue.affectsConfiguration(A)){const ve=!!ke.getValue(A);Ce=Object.assign(Object.assign({},Ce),{scrollByPage:ve})}if(ue.affectsConfiguration(F)){const ve=!!ke.getValue(F);Ce=Object.assign(Object.assign({},Ce),{smoothScrolling:ve})}if(ue.affectsConfiguration(x)){const ve=ke.getValue(x);Ce=Object.assign(Object.assign({},Ce),{mouseWheelScrollSensitivity:ve})}if(ue.affectsConfiguration(W)){const ve=ke.getValue(W);Ce=Object.assign(Object.assign({},Ce),{fastScrollSensitivity:ve})}Object.keys(Ce).length>0&&this.updateOptions(Ce)})),this.navigator=new B(this,Object.assign({configurationService:ke},Ee)),this.disposables.add(this.navigator)}updateOptions(Y){super.updateOptions(Y),Y.overrideStyles!==void 0&&this.updateStyles(Y.overrideStyles),Y.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!Y.multipleSelectionSupport)}updateStyles(Y){this.style(Y?(0,l.getListStyles)(Y):l.defaultListStyles)}dispose(){this.disposables.dispose(),super.dispose()}};e.WorkbenchTable=oe=Ne([ge(6,r.IContextKeyService),ge(7,e.IListService),ge(8,i.IConfigurationService),ge(9,n.IInstantiationService)],oe);class te extends s.Disposable{constructor(Y,le){var fe;super(),this.widget=Y,this._onDidOpen=this._register(new p.Emitter),this.onDidOpen=this._onDidOpen.event,this._register(p.Event.filter(this.widget.onDidChangeSelection,be=>be.browserEvent instanceof KeyboardEvent)(be=>this.onSelectionFromKeyboard(be))),this._register(this.widget.onPointer(be=>this.onPointer(be.element,be.browserEvent))),this._register(this.widget.onMouseDblClick(be=>this.onMouseDblClick(be.element,be.browserEvent))),typeof le?.openOnSingleClick!="boolean"&&le?.configurationService?(this.openOnSingleClick=le?.configurationService.getValue(w)!=="doubleClick",this._register(le?.configurationService.onDidChangeConfiguration(be=>{be.affectsConfiguration(w)&&(this.openOnSingleClick=le?.configurationService.getValue(w)!=="doubleClick")}))):this.openOnSingleClick=(fe=le?.openOnSingleClick)!==null&&fe!==void 0?fe:!0}onSelectionFromKeyboard(Y){if(Y.elements.length!==1)return;const le=Y.browserEvent,fe=typeof le.preserveFocus=="boolean"?le.preserveFocus:!0,be=typeof le.pinned=="boolean"?le.pinned:!fe,we=!1;this._open(this.getSelectedElement(),fe,be,we,Y.browserEvent)}onPointer(Y,le){if(!this.openOnSingleClick||le.detail===2)return;const be=le.button===1,we=!0,Ee=be,Ie=le.ctrlKey||le.metaKey||le.altKey;this._open(Y,we,Ee,Ie,le)}onMouseDblClick(Y,le){if(!le)return;const fe=le.target;if(fe.classList.contains("monaco-tl-twistie")||fe.classList.contains("monaco-icon-label")&&fe.classList.contains("folder-icon")&&le.offsetX<16)return;const we=!1,Ee=!0,Ie=le.ctrlKey||le.metaKey||le.altKey;this._open(Y,we,Ee,Ie,le)}_open(Y,le,fe,be,we){Y&&this._onDidOpen.fire({editorOptions:{preserveFocus:le,pinned:fe,revealIfVisible:!0},sideBySide:be,element:Y,browserEvent:we})}}class H extends te{constructor(Y,le){super(Y,le),this.widget=Y}getSelectedElement(){return this.widget.getSelectedElements()[0]}}class B extends te{constructor(Y,le){super(Y,le)}getSelectedElement(){return this.widget.getSelectedElements()[0]}}class K extends te{constructor(Y,le){super(Y,le)}getSelectedElement(){var Y;return(Y=this.widget.getSelection()[0])!==null&&Y!==void 0?Y:void 0}}function Z(ie){let Y=!1;return le=>{if(le.toKeyCodeChord().isModifierKey())return!1;if(Y)return Y=!1,!1;const fe=ie.softDispatch(le,le.target);return fe.kind===1?(Y=!0,!1):(Y=!1,fe.kind===0)}}let J=e.WorkbenchObjectTree=class extends f.ObjectTree{constructor(Y,le,fe,be,we,Ee,Ie,ye,ke){const{options:Ae,getTypeNavigationMode:Te,disposable:pe}=Ee.invokeFunction(V,we);super(Y,le,fe,be,Ae),this.disposables.add(pe),this.internals=new j(this,we,Te,we.overrideStyles,Ie,ye,ke),this.disposables.add(this.internals)}updateOptions(Y){super.updateOptions(Y),this.internals.updateOptions(Y)}};e.WorkbenchObjectTree=J=Ne([ge(5,n.IInstantiationService),ge(6,r.IContextKeyService),ge(7,e.IListService),ge(8,i.IConfigurationService)],J);let ne=e.WorkbenchCompressibleObjectTree=class extends f.CompressibleObjectTree{constructor(Y,le,fe,be,we,Ee,Ie,ye,ke){const{options:Ae,getTypeNavigationMode:Te,disposable:pe}=Ee.invokeFunction(V,we);super(Y,le,fe,be,Ae),this.disposables.add(pe),this.internals=new j(this,we,Te,we.overrideStyles,Ie,ye,ke),this.disposables.add(this.internals)}updateOptions(Y={}){super.updateOptions(Y),Y.overrideStyles&&this.internals.updateStyleOverrides(Y.overrideStyles),this.internals.updateOptions(Y)}};e.WorkbenchCompressibleObjectTree=ne=Ne([ge(5,n.IInstantiationService),ge(6,r.IContextKeyService),ge(7,e.IListService),ge(8,i.IConfigurationService)],ne);let he=e.WorkbenchDataTree=class extends _.DataTree{constructor(Y,le,fe,be,we,Ee,Ie,ye,ke,Ae){const{options:Te,getTypeNavigationMode:pe,disposable:me}=Ie.invokeFunction(V,Ee);super(Y,le,fe,be,we,Te),this.disposables.add(me),this.internals=new j(this,Ee,pe,Ee.overrideStyles,ye,ke,Ae),this.disposables.add(this.internals)}updateOptions(Y={}){super.updateOptions(Y),Y.overrideStyles!==void 0&&this.internals.updateStyleOverrides(Y.overrideStyles),this.internals.updateOptions(Y)}};e.WorkbenchDataTree=he=Ne([ge(6,n.IInstantiationService),ge(7,r.IContextKeyService),ge(8,e.IListService),ge(9,i.IConfigurationService)],he);let de=e.WorkbenchAsyncDataTree=class extends m.AsyncDataTree{get onDidOpen(){return this.internals.onDidOpen}constructor(Y,le,fe,be,we,Ee,Ie,ye,ke,Ae){const{options:Te,getTypeNavigationMode:pe,disposable:me}=Ie.invokeFunction(V,Ee);super(Y,le,fe,be,we,Te),this.disposables.add(me),this.internals=new j(this,Ee,pe,Ee.overrideStyles,ye,ke,Ae),this.disposables.add(this.internals)}updateOptions(Y={}){super.updateOptions(Y),Y.overrideStyles&&this.internals.updateStyleOverrides(Y.overrideStyles),this.internals.updateOptions(Y)}};e.WorkbenchAsyncDataTree=de=Ne([ge(6,n.IInstantiationService),ge(7,r.IContextKeyService),ge(8,e.IListService),ge(9,i.IConfigurationService)],de);let ae=e.WorkbenchCompressibleAsyncDataTree=class extends m.CompressibleAsyncDataTree{constructor(Y,le,fe,be,we,Ee,Ie,ye,ke,Ae,Te){const{options:pe,getTypeNavigationMode:me,disposable:Se}=ye.invokeFunction(V,Ie);super(Y,le,fe,be,we,Ee,pe),this.disposables.add(Se),this.internals=new j(this,Ie,me,Ie.overrideStyles,ke,Ae,Te),this.disposables.add(this.internals)}updateOptions(Y){super.updateOptions(Y),this.internals.updateOptions(Y)}};e.WorkbenchCompressibleAsyncDataTree=ae=Ne([ge(7,n.IInstantiationService),ge(8,r.IContextKeyService),ge(9,e.IListService),ge(10,i.IConfigurationService)],ae);function ce(ie){const Y=ie.getValue(I);if(Y==="highlight")return S.TreeFindMode.Highlight;if(Y==="filter")return S.TreeFindMode.Filter;const le=ie.getValue(P);if(le==="simple"||le==="highlight")return S.TreeFindMode.Highlight;if(le==="filter")return S.TreeFindMode.Filter}function $(ie){const Y=ie.getValue(M);if(Y==="fuzzy")return S.TreeFindMatchType.Fuzzy;if(Y==="contiguous")return S.TreeFindMatchType.Contiguous}function V(ie,Y){var le;const fe=ie.get(i.IConfigurationService),be=ie.get(h.IContextViewService),we=ie.get(r.IContextKeyService),Ee=ie.get(n.IInstantiationService),Ie=()=>{const me=we.getContextKeyValue(C);if(me==="automatic")return y.TypeNavigationMode.Automatic;if(me==="trigger"||we.getContextKeyValue(g)===!1)return y.TypeNavigationMode.Trigger;const ue=fe.getValue(T);if(ue==="automatic")return y.TypeNavigationMode.Automatic;if(ue==="trigger")return y.TypeNavigationMode.Trigger},ye=Y.horizontalScrolling!==void 0?Y.horizontalScrolling:!!fe.getValue(E),[ke,Ae]=Ee.invokeFunction(G,Y),Te=Y.additionalScrollHeight,pe=Y.renderIndentGuides!==void 0?Y.renderIndentGuides:fe.getValue(R);return{getTypeNavigationMode:Ie,disposable:Ae,options:Object.assign(Object.assign({keyboardSupport:!1},ke),{indent:typeof fe.getValue(N)=="number"?fe.getValue(N):void 0,renderIndentGuides:pe,smoothScrolling:!!fe.getValue(F),defaultFindMode:ce(fe),defaultFindMatchType:$(fe),horizontalScrolling:ye,scrollByPage:!!fe.getValue(A),additionalScrollHeight:Te,hideTwistiesOfChildlessElements:Y.hideTwistiesOfChildlessElements,expandOnlyOnTwistieClick:(le=Y.expandOnlyOnTwistieClick)!==null&&le!==void 0?le:fe.getValue(z)==="doubleClick",contextViewProvider:be,findWidgetStyles:l.defaultFindWidgetStyles})}}let j=class{get onDidOpen(){return this.navigator.onDidOpen}constructor(Y,le,fe,be,we,Ee,Ie){var ye;this.tree=Y,this.disposables=[],this.contextKeyService=v(we,Y),this.listSupportsMultiSelect=e.WorkbenchListSupportsMultiSelectContextKey.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(le.multipleSelectionSupport!==!1),e.WorkbenchListSelectionNavigation.bindTo(this.contextKeyService).set(!!le.selectionNavigation),this.listSupportFindWidget=e.WorkbenchListSupportsFind.bindTo(this.contextKeyService),this.listSupportFindWidget.set((ye=le.findWidgetEnabled)!==null&&ye!==void 0?ye:!0),this.hasSelectionOrFocus=e.WorkbenchListHasSelectionOrFocus.bindTo(this.contextKeyService),this.hasDoubleSelection=e.WorkbenchListDoubleSelection.bindTo(this.contextKeyService),this.hasMultiSelection=e.WorkbenchListMultiSelection.bindTo(this.contextKeyService),this.treeElementCanCollapse=e.WorkbenchTreeElementCanCollapse.bindTo(this.contextKeyService),this.treeElementHasParent=e.WorkbenchTreeElementHasParent.bindTo(this.contextKeyService),this.treeElementCanExpand=e.WorkbenchTreeElementCanExpand.bindTo(this.contextKeyService),this.treeElementHasChild=e.WorkbenchTreeElementHasChild.bindTo(this.contextKeyService),this.treeFindOpen=e.WorkbenchTreeFindOpen.bindTo(this.contextKeyService),this._useAltAsMultipleSelectionModifier=U(Ie),this.updateStyleOverrides(be);const Ae=()=>{const pe=Y.getFocus()[0];if(!pe)return;const me=Y.getNode(pe);this.treeElementCanCollapse.set(me.collapsible&&!me.collapsed),this.treeElementHasParent.set(!!Y.getParentElement(pe)),this.treeElementCanExpand.set(me.collapsible&&me.collapsed),this.treeElementHasChild.set(!!Y.getFirstElementChild(pe))},Te=new Set;Te.add(C),Te.add(g),this.disposables.push(this.contextKeyService,Ee.register(Y),Y.onDidChangeSelection(()=>{const pe=Y.getSelection(),me=Y.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.hasSelectionOrFocus.set(pe.length>0||me.length>0),this.hasMultiSelection.set(pe.length>1),this.hasDoubleSelection.set(pe.length===2)})}),Y.onDidChangeFocus(()=>{const pe=Y.getSelection(),me=Y.getFocus();this.hasSelectionOrFocus.set(pe.length>0||me.length>0),Ae()}),Y.onDidChangeCollapseState(Ae),Y.onDidChangeModel(Ae),Y.onDidChangeFindOpenState(pe=>this.treeFindOpen.set(pe)),Ie.onDidChangeConfiguration(pe=>{let me={};if(pe.affectsConfiguration(b)&&(this._useAltAsMultipleSelectionModifier=U(Ie)),pe.affectsConfiguration(N)){const Se=Ie.getValue(N);me=Object.assign(Object.assign({},me),{indent:Se})}if(pe.affectsConfiguration(R)&&le.renderIndentGuides===void 0){const Se=Ie.getValue(R);me=Object.assign(Object.assign({},me),{renderIndentGuides:Se})}if(pe.affectsConfiguration(F)){const Se=!!Ie.getValue(F);me=Object.assign(Object.assign({},me),{smoothScrolling:Se})}if(pe.affectsConfiguration(I)||pe.affectsConfiguration(P)){const Se=ce(Ie);me=Object.assign(Object.assign({},me),{defaultFindMode:Se})}if(pe.affectsConfiguration(T)||pe.affectsConfiguration(P)){const Se=fe();me=Object.assign(Object.assign({},me),{typeNavigationMode:Se})}if(pe.affectsConfiguration(M)){const Se=$(Ie);me=Object.assign(Object.assign({},me),{defaultFindMatchType:Se})}if(pe.affectsConfiguration(E)&&le.horizontalScrolling===void 0){const Se=!!Ie.getValue(E);me=Object.assign(Object.assign({},me),{horizontalScrolling:Se})}if(pe.affectsConfiguration(A)){const Se=!!Ie.getValue(A);me=Object.assign(Object.assign({},me),{scrollByPage:Se})}if(pe.affectsConfiguration(z)&&le.expandOnlyOnTwistieClick===void 0&&(me=Object.assign(Object.assign({},me),{expandOnlyOnTwistieClick:Ie.getValue(z)==="doubleClick"})),pe.affectsConfiguration(x)){const Se=Ie.getValue(x);me=Object.assign(Object.assign({},me),{mouseWheelScrollSensitivity:Se})}if(pe.affectsConfiguration(W)){const Se=Ie.getValue(W);me=Object.assign(Object.assign({},me),{fastScrollSensitivity:Se})}Object.keys(me).length>0&&Y.updateOptions(me)}),this.contextKeyService.onDidChangeContext(pe=>{pe.affectsSome(Te)&&Y.updateOptions({typeNavigationMode:fe()})})),this.navigator=new K(Y,Object.assign({configurationService:Ie},le)),this.disposables.push(this.navigator)}updateOptions(Y){Y.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!Y.multipleSelectionSupport)}updateStyleOverrides(Y){this.tree.style(Y?(0,l.getListStyles)(Y):l.defaultListStyles)}dispose(){this.disposables=(0,s.dispose)(this.disposables)}};j=Ne([ge(4,r.IContextKeyService),ge(5,e.IListService),ge(6,i.IConfigurationService)],j),a.Registry.as(o.Extensions.Configuration).registerConfiguration({id:"workbench",order:7,title:(0,t.localize)(0,null),type:"object",properties:{[b]:{type:"string",enum:["ctrlCmd","alt"],markdownEnumDescriptions:[(0,t.localize)(1,null),(0,t.localize)(2,null)],default:"ctrlCmd",description:(0,t.localize)(3,null)},[w]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:(0,t.localize)(4,null)},[E]:{type:"boolean",default:!1,description:(0,t.localize)(5,null)},[A]:{type:"boolean",default:!1,description:(0,t.localize)(6,null)},[N]:{type:"number",default:8,minimum:4,maximum:40,description:(0,t.localize)(7,null)},[R]:{type:"string",enum:["none","onHover","always"],default:"onHover",description:(0,t.localize)(8,null)},[F]:{type:"boolean",default:!1,description:(0,t.localize)(9,null)},[x]:{type:"number",default:1,markdownDescription:(0,t.localize)(10,null)},[W]:{type:"number",default:5,markdownDescription:(0,t.localize)(11,null)},[I]:{type:"string",enum:["highlight","filter"],enumDescriptions:[(0,t.localize)(12,null),(0,t.localize)(13,null)],default:"highlight",description:(0,t.localize)(14,null)},[P]:{type:"string",enum:["simple","highlight","filter"],enumDescriptions:[(0,t.localize)(15,null),(0,t.localize)(16,null),(0,t.localize)(17,null)],default:"highlight",description:(0,t.localize)(18,null),deprecated:!0,deprecationMessage:(0,t.localize)(19,null)},[M]:{type:"string",enum:["fuzzy","contiguous"],enumDescriptions:[(0,t.localize)(20,null),(0,t.localize)(21,null)],default:"fuzzy",description:(0,t.localize)(22,null)},[z]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:(0,t.localize)(23,null)},[T]:{type:"string",enum:["automatic","trigger"],default:"automatic",description:(0,t.localize)(24,null)}}})}),define(X[61],ee([1,0,14,25,27,6,18,21,726,241,38]),function(q,e,L,k,y,D,S,m,_,f,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.spinningLoading=e.syncing=e.gotoNextLocation=e.gotoPreviousLocation=e.widgetClose=e.iconsSchemaId=e.getIconRegistry=e.registerIcon=e.IconFontDefinition=e.IconContribution=e.Extensions=void 0,e.Extensions={IconContribution:"base.contributions.icons"};var s;(function(a){function l(u,C){let g=u.defaults;for(;y.ThemeIcon.isThemeIcon(g);){const v=o.getIcon(g.id);if(!v)return;g=v.defaults}return g}a.getDefinition=l})(s||(e.IconContribution=s={}));var t;(function(a){function l(C){return{weight:C.weight,style:C.style,src:C.src.map(g=>({format:g.format,location:g.location.toString()}))}}a.toJSONObject=l;function u(C){const g=v=>(0,S.isString)(v)?v:void 0;if(C&&Array.isArray(C.src)&&C.src.every(v=>(0,S.isString)(v.format)&&(0,S.isString)(v.location)))return{weight:g(C.weight),style:g(C.style),src:C.src.map(v=>({format:v.format,location:m.URI.parse(v.location)}))}}a.fromJSONObject=u})(t||(e.IconFontDefinition=t={}));class i{constructor(){this._onDidChange=new D.Emitter,this.onDidChange=this._onDidChange.event,this.iconSchema={definitions:{icons:{type:"object",properties:{fontId:{type:"string",description:(0,_.localize)(0,null)},fontCharacter:{type:"string",description:(0,_.localize)(1,null)}},additionalProperties:!1,defaultSnippets:[{body:{fontCharacter:"\\\\e030"}}]}},type:"object",properties:{}},this.iconReferenceSchema={type:"string",pattern:`^${y.ThemeIcon.iconNameExpression}$`,enum:[],enumDescriptions:[]},this.iconsById={},this.iconFontsById={}}registerIcon(l,u,C,g){const v=this.iconsById[l];if(v){if(C&&!v.description){v.description=C,this.iconSchema.properties[l].markdownDescription=`${C} $(${l})`;const E=this.iconReferenceSchema.enum.indexOf(l);E!==-1&&(this.iconReferenceSchema.enumDescriptions[E]=C),this._onDidChange.fire()}return v}const b={id:l,description:C,defaults:u,deprecationMessage:g};this.iconsById[l]=b;const w={$ref:"#/definitions/icons"};return g&&(w.deprecationMessage=g),C&&(w.markdownDescription=`${C}: $(${l})`),this.iconSchema.properties[l]=w,this.iconReferenceSchema.enum.push(l),this.iconReferenceSchema.enumDescriptions.push(C||""),this._onDidChange.fire(),{id:l}}getIcons(){return Object.keys(this.iconsById).map(l=>this.iconsById[l])}getIcon(l){return this.iconsById[l]}getIconSchema(){return this.iconSchema}toString(){const l=(v,b)=>v.id.localeCompare(b.id),u=v=>{for(;y.ThemeIcon.isThemeIcon(v.defaults);)v=this.iconsById[v.defaults.id];return`codicon codicon-${v?v.id:""}`},C=[];C.push("| preview     | identifier                        | default codicon ID                | description"),C.push("| ----------- | --------------------------------- | --------------------------------- | --------------------------------- |");const g=Object.keys(this.iconsById).map(v=>this.iconsById[v]);for(const v of g.filter(b=>!!b.description).sort(l))C.push(`|<i class="${u(v)}"></i>|${v.id}|${y.ThemeIcon.isThemeIcon(v.defaults)?v.defaults.id:v.id}|${v.description||""}|`);C.push("| preview     | identifier                        "),C.push("| ----------- | --------------------------------- |");for(const v of g.filter(b=>!y.ThemeIcon.isThemeIcon(b.defaults)).sort(l))C.push(`|<i class="${u(v)}"></i>|${v.id}|`);return C.join(`
`)}}const o=new i;p.Registry.add(e.Extensions.IconContribution,o);function r(a,l,u,C){return o.registerIcon(a,l,u,C)}e.registerIcon=r;function d(){return o}e.getIconRegistry=d;function h(){const a=(0,k.getCodiconFontCharacters)();for(const l in a){const u="\\"+a[l].toString(16);o.registerIcon(l,{fontCharacter:u})}}h(),e.iconsSchemaId="vscode://schemas/icons";const n=p.Registry.as(f.Extensions.JSONContribution);n.registerSchema(e.iconsSchemaId,o.getIconSchema());const c=new L.RunOnceScheduler(()=>n.notifySchemaChanged(e.iconsSchemaId),200);o.onDidChange(()=>{c.isScheduled()||c.schedule()}),e.widgetClose=r("widget-close",k.Codicon.close,(0,_.localize)(2,null)),e.gotoPreviousLocation=r("goto-previous-location",k.Codicon.arrowUp,(0,_.localize)(3,null)),e.gotoNextLocation=r("goto-next-location",k.Codicon.arrowDown,(0,_.localize)(4,null)),e.syncing=y.ThemeIcon.modify(k.Codicon.sync,"spin"),e.spinningLoading=y.ThemeIcon.modify(k.Codicon.loading,"spin")}),define(X[349],ee([1,0,7,34,89,67,74,40,25,2,27,59,35,11,41,86,94,66,611,156,28,61,429]),function(q,e,L,k,y,D,S,m,_,f,p,s,t,i,o,r,d,h,n,c,a,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiffReview=void 0;const u=3;class C{constructor(T,P,A,M){this.originalLineStart=T,this.originalLineEnd=P,this.modifiedLineStart=A,this.modifiedLineEnd=M}getType(){return this.originalLineStart===0?1:this.modifiedLineStart===0?2:0}}class g{constructor(T){this.entries=T}}const v=(0,l.registerIcon)("diff-review-insert",_.Codicon.add,n.localize(0,null)),b=(0,l.registerIcon)("diff-review-remove",_.Codicon.remove,n.localize(1,null)),w=(0,l.registerIcon)("diff-review-close",_.Codicon.close,n.localize(2,null));let E=e.DiffReview=class Rt extends f.Disposable{constructor(T,P,A,M){super(),this._languageService=P,this._audioCueService=A,this._configurationService=M,this._width=0,this._diffEditor=T,this._isVisible=!1,this.shadow=(0,k.createFastDomNode)(document.createElement("div")),this.shadow.setClassName("diff-review-shadow"),this.actionBarContainer=(0,k.createFastDomNode)(document.createElement("div")),this.actionBarContainer.setClassName("diff-review-actions"),this._actionBar=this._register(new D.ActionBar(this.actionBarContainer.domNode)),this._actionBar.push(new m.Action("diffreview.close",n.localize(3,null),"close-diff-review "+p.ThemeIcon.asClassName(w),!0,()=>Le(this,void 0,void 0,function*(){return this.hide()})),{label:!1,icon:!0}),this.domNode=(0,k.createFastDomNode)(document.createElement("div")),this.domNode.setClassName("diff-review monaco-editor-background"),this._content=(0,k.createFastDomNode)(document.createElement("div")),this._content.setClassName("diff-review-content"),this._content.setAttribute("role","code"),this.scrollbar=this._register(new S.DomScrollableElement(this._content.domNode,{})),this.domNode.domNode.appendChild(this.scrollbar.getDomNode()),this._register(T.onDidUpdateDiff(()=>{this._isVisible&&(this._diffs=this._compute(),this._render())})),this._register(T.getModifiedEditor().onDidChangeCursorPosition(()=>{this._isVisible&&this._render()})),this._register(L.addStandardDisposableListener(this.domNode.domNode,"click",N=>{N.preventDefault();const R=L.findParentWithClass(N.target,"diff-review-row");R&&this._goToRow(R)})),this._register(L.addStandardDisposableListener(this.domNode.domNode,"keydown",N=>{(N.equals(18)||N.equals(2066)||N.equals(530))&&(N.preventDefault(),this._goToRow(this._getNextRow(),"next")),(N.equals(16)||N.equals(2064)||N.equals(528))&&(N.preventDefault(),this._goToRow(this._getPrevRow(),"previous")),(N.equals(9)||N.equals(2057)||N.equals(521)||N.equals(1033)||N.equals(10)||N.equals(3))&&(N.preventDefault(),this.accept())})),this._register(this._configurationService.onDidChangeConfiguration(N=>{N.affectsConfiguration("accessibility.verbosity.diffEditor")&&this._diffEditor.updateOptions({accessibilityVerbose:this._configurationService.getValue("accessibility.verbosity.diffEditor")})})),this._diffs=[],this._currentDiff=null}prev(){let T=0;if(this._isVisible||(this._diffs=this._compute()),this._isVisible){let A=-1;for(let M=0,N=this._diffs.length;M<N;M++)if(this._diffs[M]===this._currentDiff){A=M;break}T=this._diffs.length+A-1}else T=this._findDiffIndex(this._diffEditor.getPosition());if(this._diffs.length===0)return;T=T%this._diffs.length;const P=this._diffs[T].entries;this._diffEditor.setPosition(new i.Position(P[0].modifiedLineStart,1)),this._diffEditor.setSelection({startColumn:1,startLineNumber:P[0].modifiedLineStart,endColumn:1073741824,endLineNumber:P[P.length-1].modifiedLineEnd}),this._isVisible=!0,this._diffEditor.doLayout(),this._render(),this._goToRow(this._getPrevRow(),"previous")}next(){let T=0;if(this._isVisible||(this._diffs=this._compute()),this._isVisible){let A=-1;for(let M=0,N=this._diffs.length;M<N;M++)if(this._diffs[M]===this._currentDiff){A=M;break}T=A+1}else T=this._findDiffIndex(this._diffEditor.getPosition());if(this._diffs.length===0)return;T=T%this._diffs.length;const P=this._diffs[T].entries;this._diffEditor.setPosition(new i.Position(P[0].modifiedLineStart,1)),this._diffEditor.setSelection({startColumn:1,startLineNumber:P[0].modifiedLineStart,endColumn:1073741824,endLineNumber:P[P.length-1].modifiedLineEnd}),this._isVisible=!0,this._diffEditor.doLayout(),this._render(),this._goToRow(this._getNextRow(),"next")}accept(){let T=-1;const P=this._getCurrentFocusedRow();if(P){const A=parseInt(P.getAttribute("data-line"),10);isNaN(A)||(T=A)}this.hide(),T!==-1&&(this._diffEditor.setPosition(new i.Position(T,1)),this._diffEditor.revealPosition(new i.Position(T,1),1))}hide(){this._isVisible=!1,this._diffEditor.updateOptions({readOnly:!1}),this._diffEditor.focus(),this._diffEditor.doLayout(),this._render()}_getPrevRow(){const T=this._getCurrentFocusedRow();return T?T.previousElementSibling?T.previousElementSibling:T:this._getFirstRow()}_getNextRow(){const T=this._getCurrentFocusedRow();return T?T.nextElementSibling?T.nextElementSibling:T:this._getFirstRow()}_getFirstRow(){return this.domNode.domNode.querySelector(".diff-review-row")}_getCurrentFocusedRow(){const T=document.activeElement;return T&&/diff-review-row/.test(T.className)?T:null}_goToRow(T,P){const A=this._getCurrentFocusedRow();T.tabIndex=0,T.focus(),A&&A!==T&&(A.tabIndex=-1);const M=P?P==="next"?A?.nextElementSibling:A?.previousElementSibling:A;M?.classList.contains("line-insert")?this._audioCueService.playAudioCue(c.AudioCue.diffLineInserted,!0):M?.classList.contains("line-delete")&&this._audioCueService.playAudioCue(c.AudioCue.diffLineDeleted,!0),this.scrollbar.scanDomNode()}isVisible(){return this._isVisible}layout(T,P,A){this._width=P,this.shadow.setTop(T-6),this.shadow.setWidth(P),this.shadow.setHeight(this._isVisible?6:0),this.domNode.setTop(T),this.domNode.setWidth(P),this.domNode.setHeight(A),this._content.setHeight(A),this._content.setWidth(P),this._isVisible?(this.actionBarContainer.setAttribute("aria-hidden","false"),this.actionBarContainer.setDisplay("block")):(this.actionBarContainer.setAttribute("aria-hidden","true"),this.actionBarContainer.setDisplay("none"))}_compute(){const T=this._diffEditor.getLineChanges();if(!T||T.length===0)return[];const P=this._diffEditor.getOriginalEditor().getModel(),A=this._diffEditor.getModifiedEditor().getModel();return!P||!A?[]:Rt._mergeAdjacent(T,P.getLineCount(),A.getLineCount())}static _mergeAdjacent(T,P,A){if(!T||T.length===0)return[];const M=[];let N=0;for(let W=0,z=T.length;W<z;W++){const U=T[W],O=U.originalStartLineNumber,G=U.originalEndLineNumber,Q=U.modifiedStartLineNumber,re=U.modifiedEndLineNumber,oe=[];let te=0;{const H=G===0?O:O-1,B=re===0?Q:Q-1;let K=1,Z=1;if(W>0){const he=T[W-1];he.originalEndLineNumber===0?K=he.originalStartLineNumber+1:K=he.originalEndLineNumber+1,he.modifiedEndLineNumber===0?Z=he.modifiedStartLineNumber+1:Z=he.modifiedEndLineNumber+1}let J=H-u+1,ne=B-u+1;if(J<K){const he=K-J;J=J+he,ne=ne+he}if(ne<Z){const he=Z-ne;J=J+he,ne=ne+he}oe[te++]=new C(J,H,ne,B)}G!==0&&(oe[te++]=new C(O,G,0,0)),re!==0&&(oe[te++]=new C(0,0,Q,re));{const H=G===0?O+1:G+1,B=re===0?Q+1:re+1;let K=P,Z=A;if(W+1<z){const he=T[W+1];he.originalEndLineNumber===0?K=he.originalStartLineNumber:K=he.originalStartLineNumber-1,he.modifiedEndLineNumber===0?Z=he.modifiedStartLineNumber:Z=he.modifiedStartLineNumber-1}let J=H+u-1,ne=B+u-1;if(J>K){const he=K-J;J=J+he,ne=ne+he}if(ne>Z){const he=Z-ne;J=J+he,ne=ne+he}oe[te++]=new C(H,J,B,ne)}M[N++]=new g(oe)}let R=M[0].entries;const F=[];let x=0;for(let W=1,z=M.length;W<z;W++){const U=M[W].entries,O=R[R.length-1],G=U[0];if(O.getType()===0&&G.getType()===0&&G.originalLineStart<=O.originalLineEnd){R[R.length-1]=new C(O.originalLineStart,G.originalLineEnd,O.modifiedLineStart,G.modifiedLineEnd),R=R.concat(U.slice(1));continue}F[x++]=new g(R),R=U}return F[x++]=new g(R),F}_findDiffIndex(T){const P=T.lineNumber;for(let A=0,M=this._diffs.length;A<M;A++){const N=this._diffs[A].entries,R=N[N.length-1].modifiedLineEnd;if(P<=R)return A}return 0}_render(){const T=this._diffEditor.getOriginalEditor().getOptions(),P=this._diffEditor.getModifiedEditor().getOptions(),A=this._diffEditor.getOriginalEditor().getModel(),M=this._diffEditor.getModifiedEditor().getModel(),N=A.getOptions(),R=M.getOptions();if(!this._isVisible||!A||!M){L.clearNode(this._content.domNode),this._currentDiff=null,this.scrollbar.scanDomNode();return}this._diffEditor.updateOptions({readOnly:!0});const F=this._findDiffIndex(this._diffEditor.getPosition());if(this._diffs[F]===this._currentDiff)return;this._currentDiff=this._diffs[F];const x=this._diffs[F].entries,W=document.createElement("div");W.className="diff-review-table",W.setAttribute("role","list"),W.setAttribute("aria-label",'Difference review. Use "Stage | Unstage | Revert Selected Ranges" commands'),(0,s.applyFontInfo)(W,P.get(48));let z=0,U=0,O=0,G=0;for(let ne=0,he=x.length;ne<he;ne++){const de=x[ne],ae=de.originalLineStart,ce=de.originalLineEnd,$=de.modifiedLineStart,V=de.modifiedLineEnd;ae!==0&&(z===0||ae<z)&&(z=ae),ce!==0&&(U===0||ce>U)&&(U=ce),$!==0&&(O===0||$<O)&&(O=$),V!==0&&(G===0||V>G)&&(G=V)}const Q=document.createElement("div");Q.className="diff-review-row";const re=document.createElement("div");re.className="diff-review-cell diff-review-summary";const oe=U-z+1,te=G-O+1;re.appendChild(document.createTextNode(`${F+1}/${this._diffs.length}: @@ -${z},${oe} +${O},${te} @@`)),Q.setAttribute("data-line",String(O));const H=ne=>ne===0?n.localize(4,null):ne===1?n.localize(5,null):n.localize(6,null,ne),B=H(oe),K=H(te);Q.setAttribute("aria-label",n.localize(7,null,F+1,this._diffs.length,z,B,O,K)),Q.appendChild(re),Q.setAttribute("role","listitem"),W.appendChild(Q);const Z=P.get(64);let J=O;for(let ne=0,he=x.length;ne<he;ne++){const de=x[ne];Rt._renderSection(W,de,J,Z,this._width,T,A,N,P,M,R,this._languageService.languageIdCodec),de.modifiedLineStart!==0&&(J=de.modifiedLineEnd)}L.clearNode(this._content.domNode),this._content.domNode.appendChild(W),this.scrollbar.scanDomNode()}static _renderSection(T,P,A,M,N,R,F,x,W,z,U,O){const G=P.getType();let Q="diff-review-row",re="";const oe="diff-review-spacer";let te=null;switch(G){case 1:Q="diff-review-row line-insert",re=" char-insert",te=v;break;case 2:Q="diff-review-row line-delete",re=" char-delete",te=b;break}const H=P.originalLineStart,B=P.originalLineEnd,K=P.modifiedLineStart,Z=P.modifiedLineEnd,J=Math.max(Z-K,B-H),ne=R.get(141),he=ne.glyphMarginWidth+ne.lineNumbersWidth,de=W.get(141),ae=10+de.glyphMarginWidth+de.lineNumbersWidth;for(let ce=0;ce<=J;ce++){const $=H===0?0:H+ce,V=K===0?0:K+ce,j=document.createElement("div");j.style.minWidth=N+"px",j.className=Q,j.setAttribute("role","listitem"),V!==0&&(A=V),j.setAttribute("data-line",String(A));const se=document.createElement("div");se.className="diff-review-cell",se.style.height=`${M}px`,j.appendChild(se);const ie=document.createElement("span");ie.style.width=he+"px",ie.style.minWidth=he+"px",ie.className="diff-review-line-number"+re,$!==0?ie.appendChild(document.createTextNode(String($))):ie.innerText="\xA0",se.appendChild(ie);const Y=document.createElement("span");Y.style.width=ae+"px",Y.style.minWidth=ae+"px",Y.style.paddingRight="10px",Y.className="diff-review-line-number"+re,V!==0?Y.appendChild(document.createTextNode(String(V))):Y.innerText="\xA0",se.appendChild(Y);const le=document.createElement("span");if(le.className=oe,te){const we=document.createElement("span");we.className=p.ThemeIcon.asClassName(te),we.innerText="\xA0\xA0",le.appendChild(we)}else le.innerText="\xA0\xA0";se.appendChild(le);let fe;if(V!==0){let we=this._renderLine(z,W,U.tabSize,V,O);Rt._ttPolicy&&(we=Rt._ttPolicy.createHTML(we)),se.insertAdjacentHTML("beforeend",we),fe=z.getLineContent(V)}else{let we=this._renderLine(F,R,x.tabSize,$,O);Rt._ttPolicy&&(we=Rt._ttPolicy.createHTML(we)),se.insertAdjacentHTML("beforeend",we),fe=F.getLineContent($)}fe.length===0&&(fe=n.localize(8,null));let be="";switch(G){case 0:$===V?be=n.localize(9,null,fe,$):be=n.localize(10,null,fe,$,V);break;case 1:be=n.localize(11,null,fe,V);break;case 2:be=n.localize(12,null,fe,$);break}j.setAttribute("aria-label",be),T.appendChild(j)}}static _renderLine(T,P,A,M,N){const R=T.getLineContent(M),F=P.get(48),x=r.LineTokens.createEmpty(R,N),W=h.ViewLineRenderingData.isBasicASCII(R,T.mightContainNonBasicASCII()),z=h.ViewLineRenderingData.containsRTL(R,W,T.mightContainRTL());return(0,d.renderViewLine2)(new d.RenderLineInput(F.isMonospace&&!P.get(31),F.canUseHalfwidthRightwardsArrow,R,!1,W,z,0,x,[],A,0,F.spaceWidth,F.middotWidth,F.wsmiddotWidth,P.get(114),P.get(96),P.get(91),P.get(49)!==t.EditorFontLigatures.OFF,null)).html}};E._ttPolicy=(0,y.createTrustedTypesPolicy)("diffReview",{createHTML:I=>I}),e.DiffReview=E=Ne([ge(1,o.ILanguageService),ge(2,c.IAudioCueService),ge(3,a.IConfigurationService)],E)}),define(X[818],ee([1,0,7,34,67,74,40,25,2,27,59,349,35,11,41,86,94,66,606,156,28,61]),function(q,e,L,k,y,D,S,m,_,f,p,s,t,i,o,r,d,h,n,c,a,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiffReview2=void 0;const u=3;class C{constructor(T,P,A,M){this.originalLineStart=T,this.originalLineEnd=P,this.modifiedLineStart=A,this.modifiedLineEnd=M}getType(){return this.originalLineStart===0?1:this.modifiedLineStart===0?2:0}}class g{constructor(T){this.entries=T}}const v=(0,l.registerIcon)("diff-review-insert",m.Codicon.add,n.localize(0,null)),b=(0,l.registerIcon)("diff-review-remove",m.Codicon.remove,n.localize(1,null)),w=(0,l.registerIcon)("diff-review-close",m.Codicon.close,n.localize(2,null));let E=e.DiffReview2=class Pt extends _.Disposable{constructor(T,P,A,M){super(),this._languageService=P,this._audioCueService=A,this._configurationService=M,this._width=0,this._top=0,this._height=0,this._diffEditor=T,this._isVisible=!1,this.shadow=(0,k.createFastDomNode)(document.createElement("div")),this.shadow.setClassName("diff-review-shadow"),this.actionBarContainer=(0,k.createFastDomNode)(document.createElement("div")),this.actionBarContainer.setClassName("diff-review-actions"),this._actionBar=this._register(new y.ActionBar(this.actionBarContainer.domNode)),this._actionBar.push(new S.Action("diffreview.close",n.localize(3,null),"close-diff-review "+f.ThemeIcon.asClassName(w),!0,()=>Le(this,void 0,void 0,function*(){return this.hide()})),{label:!1,icon:!0}),this.domNode=(0,k.createFastDomNode)(document.createElement("div")),this.domNode.setClassName("diff-review monaco-editor-background"),this._content=(0,k.createFastDomNode)(document.createElement("div")),this._content.setClassName("diff-review-content"),this._content.setAttribute("role","code"),this.scrollbar=this._register(new D.DomScrollableElement(this._content.domNode,{})),this.domNode.domNode.appendChild(this.scrollbar.getDomNode()),this._register(T.onDidUpdateDiff(()=>{this._isVisible&&(this._diffs=this._compute(),this._render())})),this._register(T.getModifiedEditor().onDidChangeCursorPosition(()=>{this._isVisible&&this._render()})),this._register(L.addStandardDisposableListener(this.domNode.domNode,"click",N=>{N.preventDefault();const R=L.findParentWithClass(N.target,"diff-review-row");R&&this._goToRow(R)})),this._register(L.addStandardDisposableListener(this.domNode.domNode,"keydown",N=>{(N.equals(18)||N.equals(2066)||N.equals(530))&&(N.preventDefault(),this._goToRow(this._getNextRow(),"next")),(N.equals(16)||N.equals(2064)||N.equals(528))&&(N.preventDefault(),this._goToRow(this._getPrevRow(),"previous")),(N.equals(9)||N.equals(2057)||N.equals(521)||N.equals(1033)||N.equals(10)||N.equals(3))&&(N.preventDefault(),this.accept())})),this._register(this._configurationService.onDidChangeConfiguration(N=>{N.affectsConfiguration("accessibility.verbosity.diffEditor")&&this._diffEditor.updateOptions({accessibilityVerbose:this._configurationService.getValue("accessibility.verbosity.diffEditor")})})),this._diffs=[],this._currentDiff=null}prev(){let T=0;if(this._isVisible||(this._diffs=this._compute()),this._isVisible){let A=-1;for(let M=0,N=this._diffs.length;M<N;M++)if(this._diffs[M]===this._currentDiff){A=M;break}T=this._diffs.length+A-1}else T=this._findDiffIndex(this._diffEditor.getPosition());if(this._diffs.length===0)return;T=T%this._diffs.length;const P=this._diffs[T].entries;this._diffEditor.setPosition(new i.Position(P[0].modifiedLineStart,1)),this._diffEditor.setSelection({startColumn:1,startLineNumber:P[0].modifiedLineStart,endColumn:1073741824,endLineNumber:P[P.length-1].modifiedLineEnd}),this._isVisible=!0,this.layout(),this._render(),this._goToRow(this._getPrevRow(),"previous")}next(){let T=0;if(this._isVisible||(this._diffs=this._compute()),this._isVisible){let A=-1;for(let M=0,N=this._diffs.length;M<N;M++)if(this._diffs[M]===this._currentDiff){A=M;break}T=A+1}else T=this._findDiffIndex(this._diffEditor.getPosition());if(this._diffs.length===0)return;T=T%this._diffs.length;const P=this._diffs[T].entries;this._diffEditor.setPosition(new i.Position(P[0].modifiedLineStart,1)),this._diffEditor.setSelection({startColumn:1,startLineNumber:P[0].modifiedLineStart,endColumn:1073741824,endLineNumber:P[P.length-1].modifiedLineEnd}),this._isVisible=!0,this.layout(),this._render(),this._goToRow(this._getNextRow(),"next")}accept(){let T=-1;const P=this._getCurrentFocusedRow();if(P){const A=parseInt(P.getAttribute("data-line"),10);isNaN(A)||(T=A)}this.hide(),T!==-1&&(this._diffEditor.setPosition(new i.Position(T,1)),this._diffEditor.revealPosition(new i.Position(T,1),1))}hide(){this._isVisible=!1,this._diffEditor.updateOptions({readOnly:!1}),this._diffEditor.focus(),this.layout(),this._render()}_getPrevRow(){const T=this._getCurrentFocusedRow();return T?T.previousElementSibling?T.previousElementSibling:T:this._getFirstRow()}_getNextRow(){const T=this._getCurrentFocusedRow();return T?T.nextElementSibling?T.nextElementSibling:T:this._getFirstRow()}_getFirstRow(){return this.domNode.domNode.querySelector(".diff-review-row")}_getCurrentFocusedRow(){const T=document.activeElement;return T&&/diff-review-row/.test(T.className)?T:null}_goToRow(T,P){const A=this._getCurrentFocusedRow();T.tabIndex=0,T.focus(),A&&A!==T&&(A.tabIndex=-1);const M=P?P==="next"?A?.nextElementSibling:A?.previousElementSibling:A;M?.classList.contains("line-insert")?this._audioCueService.playAudioCue(c.AudioCue.diffLineInserted,!0):M?.classList.contains("line-delete")&&this._audioCueService.playAudioCue(c.AudioCue.diffLineDeleted,!0),this.scrollbar.scanDomNode()}layout(T=this._top,P=this._width,A=this._height){this._width=P,this._top=T,this._height=A,this.shadow.setTop(T-6),this.shadow.setWidth(P),this.shadow.setHeight(this._isVisible?6:0),this.domNode.setTop(T),this.domNode.setWidth(P),this.domNode.setHeight(A),this._content.setHeight(A),this._content.setWidth(P),this._isVisible?(this.domNode.setDisplay("block"),this.actionBarContainer.setAttribute("aria-hidden","false"),this.actionBarContainer.setDisplay("block")):(this.domNode.setDisplay("none"),this.actionBarContainer.setAttribute("aria-hidden","true"),this.actionBarContainer.setDisplay("none"))}_compute(){const T=this._diffEditor.getLineChanges();if(!T||T.length===0)return[];const P=this._diffEditor.getOriginalEditor().getModel(),A=this._diffEditor.getModifiedEditor().getModel();return!P||!A?[]:Pt._mergeAdjacent(T,P.getLineCount(),A.getLineCount())}static _mergeAdjacent(T,P,A){if(!T||T.length===0)return[];const M=[];let N=0;for(let W=0,z=T.length;W<z;W++){const U=T[W],O=U.originalStartLineNumber,G=U.originalEndLineNumber,Q=U.modifiedStartLineNumber,re=U.modifiedEndLineNumber,oe=[];let te=0;{const H=G===0?O:O-1,B=re===0?Q:Q-1;let K=1,Z=1;if(W>0){const he=T[W-1];he.originalEndLineNumber===0?K=he.originalStartLineNumber+1:K=he.originalEndLineNumber+1,he.modifiedEndLineNumber===0?Z=he.modifiedStartLineNumber+1:Z=he.modifiedEndLineNumber+1}let J=H-u+1,ne=B-u+1;if(J<K){const he=K-J;J=J+he,ne=ne+he}if(ne<Z){const he=Z-ne;J=J+he,ne=ne+he}oe[te++]=new C(J,H,ne,B)}G!==0&&(oe[te++]=new C(O,G,0,0)),re!==0&&(oe[te++]=new C(0,0,Q,re));{const H=G===0?O+1:G+1,B=re===0?Q+1:re+1;let K=P,Z=A;if(W+1<z){const he=T[W+1];he.originalEndLineNumber===0?K=he.originalStartLineNumber:K=he.originalStartLineNumber-1,he.modifiedEndLineNumber===0?Z=he.modifiedStartLineNumber:Z=he.modifiedStartLineNumber-1}let J=H+u-1,ne=B+u-1;if(J>K){const he=K-J;J=J+he,ne=ne+he}if(ne>Z){const he=Z-ne;J=J+he,ne=ne+he}oe[te++]=new C(H,J,B,ne)}M[N++]=new g(oe)}let R=M[0].entries;const F=[];let x=0;for(let W=1,z=M.length;W<z;W++){const U=M[W].entries,O=R[R.length-1],G=U[0];if(O.getType()===0&&G.getType()===0&&G.originalLineStart<=O.originalLineEnd){R[R.length-1]=new C(O.originalLineStart,G.originalLineEnd,O.modifiedLineStart,G.modifiedLineEnd),R=R.concat(U.slice(1));continue}F[x++]=new g(R),R=U}return F[x++]=new g(R),F}_findDiffIndex(T){const P=T.lineNumber;for(let A=0,M=this._diffs.length;A<M;A++){const N=this._diffs[A].entries,R=N[N.length-1].modifiedLineEnd;if(P<=R)return A}return 0}_render(){const T=this._diffEditor.getOriginalEditor().getOptions(),P=this._diffEditor.getModifiedEditor().getOptions(),A=this._diffEditor.getOriginalEditor().getModel(),M=this._diffEditor.getModifiedEditor().getModel(),N=A.getOptions(),R=M.getOptions();if(!this._isVisible||!A||!M){L.clearNode(this._content.domNode),this._currentDiff=null,this.scrollbar.scanDomNode();return}this._diffEditor.updateOptions({readOnly:!0});const F=this._findDiffIndex(this._diffEditor.getPosition());if(this._diffs[F]===this._currentDiff)return;this._currentDiff=this._diffs[F];const x=this._diffs[F].entries,W=document.createElement("div");W.className="diff-review-table",W.setAttribute("role","list"),W.setAttribute("aria-label",'Difference review. Use "Stage | Unstage | Revert Selected Ranges" commands'),(0,p.applyFontInfo)(W,P.get(48));let z=0,U=0,O=0,G=0;for(let ne=0,he=x.length;ne<he;ne++){const de=x[ne],ae=de.originalLineStart,ce=de.originalLineEnd,$=de.modifiedLineStart,V=de.modifiedLineEnd;ae!==0&&(z===0||ae<z)&&(z=ae),ce!==0&&(U===0||ce>U)&&(U=ce),$!==0&&(O===0||$<O)&&(O=$),V!==0&&(G===0||V>G)&&(G=V)}const Q=document.createElement("div");Q.className="diff-review-row";const re=document.createElement("div");re.className="diff-review-cell diff-review-summary";const oe=U-z+1,te=G-O+1;re.appendChild(document.createTextNode(`${F+1}/${this._diffs.length}: @@ -${z},${oe} +${O},${te} @@`)),Q.setAttribute("data-line",String(O));const H=ne=>ne===0?n.localize(4,null):ne===1?n.localize(5,null):n.localize(6,null,ne),B=H(oe),K=H(te);Q.setAttribute("aria-label",n.localize(7,null,F+1,this._diffs.length,z,B,O,K)),Q.appendChild(re),Q.setAttribute("role","listitem"),W.appendChild(Q);const Z=P.get(64);let J=O;for(let ne=0,he=x.length;ne<he;ne++){const de=x[ne];Pt._renderSection(W,de,J,Z,this._width,T,A,N,P,M,R,this._languageService.languageIdCodec),de.modifiedLineStart!==0&&(J=de.modifiedLineEnd)}L.clearNode(this._content.domNode),this._content.domNode.appendChild(W),this.scrollbar.scanDomNode()}static _renderSection(T,P,A,M,N,R,F,x,W,z,U,O){const G=P.getType();let Q="diff-review-row",re="";const oe="diff-review-spacer";let te=null;switch(G){case 1:Q="diff-review-row line-insert",re=" char-insert",te=v;break;case 2:Q="diff-review-row line-delete",re=" char-delete",te=b;break}const H=P.originalLineStart,B=P.originalLineEnd,K=P.modifiedLineStart,Z=P.modifiedLineEnd,J=Math.max(Z-K,B-H),ne=R.get(141),he=ne.glyphMarginWidth+ne.lineNumbersWidth,de=W.get(141),ae=10+de.glyphMarginWidth+de.lineNumbersWidth;for(let ce=0;ce<=J;ce++){const $=H===0?0:H+ce,V=K===0?0:K+ce,j=document.createElement("div");j.style.minWidth=N+"px",j.className=Q,j.setAttribute("role","listitem"),V!==0&&(A=V),j.setAttribute("data-line",String(A));const se=document.createElement("div");se.className="diff-review-cell",se.style.height=`${M}px`,j.appendChild(se);const ie=document.createElement("span");ie.style.width=he+"px",ie.style.minWidth=he+"px",ie.className="diff-review-line-number"+re,$!==0?ie.appendChild(document.createTextNode(String($))):ie.innerText="\xA0",se.appendChild(ie);const Y=document.createElement("span");Y.style.width=ae+"px",Y.style.minWidth=ae+"px",Y.style.paddingRight="10px",Y.className="diff-review-line-number"+re,V!==0?Y.appendChild(document.createTextNode(String(V))):Y.innerText="\xA0",se.appendChild(Y);const le=document.createElement("span");if(le.className=oe,te){const we=document.createElement("span");we.className=f.ThemeIcon.asClassName(te),we.innerText="\xA0\xA0",le.appendChild(we)}else le.innerText="\xA0\xA0";se.appendChild(le);let fe;if(V!==0){let we=this._renderLine(z,W,U.tabSize,V,O);Pt._ttPolicy&&(we=Pt._ttPolicy.createHTML(we)),se.insertAdjacentHTML("beforeend",we),fe=z.getLineContent(V)}else{let we=this._renderLine(F,R,x.tabSize,$,O);Pt._ttPolicy&&(we=Pt._ttPolicy.createHTML(we)),se.insertAdjacentHTML("beforeend",we),fe=F.getLineContent($)}fe.length===0&&(fe=n.localize(8,null));let be="";switch(G){case 0:$===V?be=n.localize(9,null,fe,$):be=n.localize(10,null,fe,$,V);break;case 1:be=n.localize(11,null,fe,V);break;case 2:be=n.localize(12,null,fe,$);break}j.setAttribute("aria-label",be),T.appendChild(j)}}static _renderLine(T,P,A,M,N){const R=T.getLineContent(M),F=P.get(48),x=r.LineTokens.createEmpty(R,N),W=h.ViewLineRenderingData.isBasicASCII(R,T.mightContainNonBasicASCII()),z=h.ViewLineRenderingData.containsRTL(R,W,T.mightContainRTL());return(0,d.renderViewLine2)(new d.RenderLineInput(F.isMonospace&&!P.get(31),F.canUseHalfwidthRightwardsArrow,R,!1,W,z,0,x,[],A,0,F.spaceWidth,F.middotWidth,F.wsmiddotWidth,P.get(114),P.get(96),P.get(91),P.get(49)!==t.EditorFontLigatures.OFF,null)).html}};E._ttPolicy=s.DiffReview._ttPolicy,e.DiffReview2=E=Ne([ge(1,o.ILanguageService),ge(2,c.IAudioCueService),ge(3,a.IConfigurationService)],E)}),define(X[819],ee([1,0,51,7,151,82,25,36,6,2,27,636,33,61,198]),function(q,e,L,k,y,D,S,m,_,f,p,s,t,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorPickerWidget=e.InsertButton=e.ColorPickerBody=e.ColorPickerHeader=void 0;const o=k.$;class r extends f.Disposable{constructor(v,b,w,E=!1){super(),this.model=b,this.showingStandaloneColorPicker=E,this._closeButton=null,this._domNode=o(".colorpicker-header"),k.append(v,this._domNode),this._pickedColorNode=k.append(this._domNode,o(".picked-color"));const I=(0,s.localize)(0,null);this._pickedColorNode.setAttribute("title",I),this._originalColorNode=k.append(this._domNode,o(".original-color")),this._originalColorNode.style.backgroundColor=m.Color.Format.CSS.format(this.model.originalColor)||"",this.backgroundColor=w.getColorTheme().getColor(t.editorHoverBackground)||m.Color.white,this._register(w.onDidColorThemeChange(T=>{this.backgroundColor=T.getColor(t.editorHoverBackground)||m.Color.white})),this._register(k.addDisposableListener(this._pickedColorNode,k.EventType.CLICK,()=>this.model.selectNextColorPresentation())),this._register(k.addDisposableListener(this._originalColorNode,k.EventType.CLICK,()=>{this.model.color=this.model.originalColor,this.model.flushColor()})),this._register(b.onDidChangeColor(this.onDidChangeColor,this)),this._register(b.onDidChangePresentation(this.onDidChangePresentation,this)),this._pickedColorNode.style.backgroundColor=m.Color.Format.CSS.format(b.color)||"",this._pickedColorNode.classList.toggle("light",b.color.rgba.a<.5?this.backgroundColor.isLighter():b.color.isLighter()),this.onDidChangeColor(this.model.color),this.showingStandaloneColorPicker&&(this._domNode.classList.add("standalone-colorpicker"),this._closeButton=this._register(new d(this._domNode)))}get closeButton(){return this._closeButton}get pickedColorNode(){return this._pickedColorNode}get originalColorNode(){return this._originalColorNode}onDidChangeColor(v){this._pickedColorNode.style.backgroundColor=m.Color.Format.CSS.format(v)||"",this._pickedColorNode.classList.toggle("light",v.rgba.a<.5?this.backgroundColor.isLighter():v.isLighter()),this.onDidChangePresentation()}onDidChangePresentation(){this._pickedColorNode.textContent=this.model.presentation?this.model.presentation.label:"",this._pickedColorNode.prepend(o(".codicon.codicon-color-mode"))}}e.ColorPickerHeader=r;class d extends f.Disposable{constructor(v){super(),this._onClicked=this._register(new _.Emitter),this.onClicked=this._onClicked.event,this._button=document.createElement("div"),this._button.classList.add("close-button"),k.append(v,this._button);const b=document.createElement("div");b.classList.add("close-button-inner-div"),k.append(this._button,b),k.append(b,o(".button"+p.ThemeIcon.asCSSSelector((0,i.registerIcon)("color-picker-close",S.Codicon.close,(0,s.localize)(1,null))))).classList.add("close-icon"),this._button.onclick=()=>{this._onClicked.fire()}}}class h extends f.Disposable{constructor(v,b,w,E=!1){super(),this.model=b,this.pixelRatio=w,this._insertButton=null,this._domNode=o(".colorpicker-body"),k.append(v,this._domNode),this._saturationBox=new n(this._domNode,this.model,this.pixelRatio),this._register(this._saturationBox),this._register(this._saturationBox.onDidChange(this.onDidSaturationValueChange,this)),this._register(this._saturationBox.onColorFlushed(this.flushColor,this)),this._opacityStrip=new a(this._domNode,this.model,E),this._register(this._opacityStrip),this._register(this._opacityStrip.onDidChange(this.onDidOpacityChange,this)),this._register(this._opacityStrip.onColorFlushed(this.flushColor,this)),this._hueStrip=new l(this._domNode,this.model,E),this._register(this._hueStrip),this._register(this._hueStrip.onDidChange(this.onDidHueChange,this)),this._register(this._hueStrip.onColorFlushed(this.flushColor,this)),E&&(this._insertButton=this._register(new u(this._domNode)),this._domNode.classList.add("standalone-colorpicker"))}flushColor(){this.model.flushColor()}onDidSaturationValueChange({s:v,v:b}){const w=this.model.color.hsva;this.model.color=new m.Color(new m.HSVA(w.h,v,b,w.a))}onDidOpacityChange(v){const b=this.model.color.hsva;this.model.color=new m.Color(new m.HSVA(b.h,b.s,b.v,v))}onDidHueChange(v){const b=this.model.color.hsva,w=(1-v)*360;this.model.color=new m.Color(new m.HSVA(w===360?0:w,b.s,b.v,b.a))}get domNode(){return this._domNode}get saturationBox(){return this._saturationBox}get enterButton(){return this._insertButton}layout(){this._saturationBox.layout(),this._opacityStrip.layout(),this._hueStrip.layout()}}e.ColorPickerBody=h;class n extends f.Disposable{constructor(v,b,w){super(),this.model=b,this.pixelRatio=w,this._onDidChange=new _.Emitter,this.onDidChange=this._onDidChange.event,this._onColorFlushed=new _.Emitter,this.onColorFlushed=this._onColorFlushed.event,this._domNode=o(".saturation-wrap"),k.append(v,this._domNode),this._canvas=document.createElement("canvas"),this._canvas.className="saturation-box",k.append(this._domNode,this._canvas),this.selection=o(".saturation-selection"),k.append(this._domNode,this.selection),this.layout(),this._register(k.addDisposableListener(this._domNode,k.EventType.POINTER_DOWN,E=>this.onPointerDown(E))),this._register(this.model.onDidChangeColor(this.onDidChangeColor,this)),this.monitor=null}get domNode(){return this._domNode}onPointerDown(v){if(!v.target||!(v.target instanceof Element))return;this.monitor=this._register(new y.GlobalPointerMoveMonitor);const b=k.getDomNodePagePosition(this._domNode);v.target!==this.selection&&this.onDidChangePosition(v.offsetX,v.offsetY),this.monitor.startMonitoring(v.target,v.pointerId,v.buttons,E=>this.onDidChangePosition(E.pageX-b.left,E.pageY-b.top),()=>null);const w=k.addDisposableListener(document,k.EventType.POINTER_UP,()=>{this._onColorFlushed.fire(),w.dispose(),this.monitor&&(this.monitor.stopMonitoring(!0),this.monitor=null)},!0)}onDidChangePosition(v,b){const w=Math.max(0,Math.min(1,v/this.width)),E=Math.max(0,Math.min(1,1-b/this.height));this.paintSelection(w,E),this._onDidChange.fire({s:w,v:E})}layout(){this.width=this._domNode.offsetWidth,this.height=this._domNode.offsetHeight,this._canvas.width=this.width*this.pixelRatio,this._canvas.height=this.height*this.pixelRatio,this.paint();const v=this.model.color.hsva;this.paintSelection(v.s,v.v)}paint(){const v=this.model.color.hsva,b=new m.Color(new m.HSVA(v.h,1,1,1)),w=this._canvas.getContext("2d"),E=w.createLinearGradient(0,0,this._canvas.width,0);E.addColorStop(0,"rgba(255, 255, 255, 1)"),E.addColorStop(.5,"rgba(255, 255, 255, 0.5)"),E.addColorStop(1,"rgba(255, 255, 255, 0)");const I=w.createLinearGradient(0,0,0,this._canvas.height);I.addColorStop(0,"rgba(0, 0, 0, 0)"),I.addColorStop(1,"rgba(0, 0, 0, 1)"),w.rect(0,0,this._canvas.width,this._canvas.height),w.fillStyle=m.Color.Format.CSS.format(b),w.fill(),w.fillStyle=E,w.fill(),w.fillStyle=I,w.fill()}paintSelection(v,b){this.selection.style.left=`${v*this.width}px`,this.selection.style.top=`${this.height-b*this.height}px`}onDidChangeColor(){this.monitor&&this.monitor.isMonitoring()||this.paint()}}class c extends f.Disposable{constructor(v,b,w=!1){super(),this.model=b,this._onDidChange=new _.Emitter,this.onDidChange=this._onDidChange.event,this._onColorFlushed=new _.Emitter,this.onColorFlushed=this._onColorFlushed.event,w?(this.domNode=k.append(v,o(".standalone-strip")),this.overlay=k.append(this.domNode,o(".standalone-overlay"))):(this.domNode=k.append(v,o(".strip")),this.overlay=k.append(this.domNode,o(".overlay"))),this.slider=k.append(this.domNode,o(".slider")),this.slider.style.top="0px",this._register(k.addDisposableListener(this.domNode,k.EventType.POINTER_DOWN,E=>this.onPointerDown(E))),this.layout()}layout(){this.height=this.domNode.offsetHeight-this.slider.offsetHeight;const v=this.getValue(this.model.color);this.updateSliderPosition(v)}onPointerDown(v){if(!v.target||!(v.target instanceof Element))return;const b=this._register(new y.GlobalPointerMoveMonitor),w=k.getDomNodePagePosition(this.domNode);this.domNode.classList.add("grabbing"),v.target!==this.slider&&this.onDidChangeTop(v.offsetY),b.startMonitoring(v.target,v.pointerId,v.buttons,I=>this.onDidChangeTop(I.pageY-w.top),()=>null);const E=k.addDisposableListener(document,k.EventType.POINTER_UP,()=>{this._onColorFlushed.fire(),E.dispose(),b.stopMonitoring(!0),this.domNode.classList.remove("grabbing")},!0)}onDidChangeTop(v){const b=Math.max(0,Math.min(1,1-v/this.height));this.updateSliderPosition(b),this._onDidChange.fire(b)}updateSliderPosition(v){this.slider.style.top=`${(1-v)*this.height}px`}}class a extends c{constructor(v,b,w=!1){super(v,b,w),this.domNode.classList.add("opacity-strip"),this._register(b.onDidChangeColor(this.onDidChangeColor,this)),this.onDidChangeColor(this.model.color)}onDidChangeColor(v){const{r:b,g:w,b:E}=v.rgba,I=new m.Color(new m.RGBA(b,w,E,1)),T=new m.Color(new m.RGBA(b,w,E,0));this.overlay.style.background=`linear-gradient(to bottom, ${I} 0%, ${T} 100%)`}getValue(v){return v.hsva.a}}class l extends c{constructor(v,b,w=!1){super(v,b,w),this.domNode.classList.add("hue-strip")}getValue(v){return 1-v.hsva.h/360}}class u extends f.Disposable{constructor(v){super(),this._onClicked=this._register(new _.Emitter),this.onClicked=this._onClicked.event,this._button=k.append(v,document.createElement("button")),this._button.classList.add("insert-button"),this._button.textContent="Insert",this._button.onclick=b=>{this._onClicked.fire()}}get button(){return this._button}}e.InsertButton=u;class C extends D.Widget{constructor(v,b,w,E,I=!1){super(),this.model=b,this.pixelRatio=w,this._register(L.PixelRatio.onDidChange(()=>this.layout()));const T=o(".colorpicker-widget");v.appendChild(T),this.header=this._register(new r(T,this.model,E,I)),this.body=this._register(new h(T,this.model,this.pixelRatio,I))}layout(){this.body.layout()}}e.ColorPickerWidget=C}),define(X[820],ee([1,0,7,54,74,25,6,2,9,18,41,115,237,679,13,56,33,61,27,452]),function(q,e,L,k,y,D,S,m,_,f,p,s,t,i,o,r,d,h,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ParameterHintsWidget=void 0;const c=L.$,a=(0,h.registerIcon)("parameter-hints-next",D.Codicon.chevronDown,i.localize(0,null)),l=(0,h.registerIcon)("parameter-hints-previous",D.Codicon.chevronUp,i.localize(1,null));let u=e.ParameterHintsWidget=class Gi extends m.Disposable{constructor(g,v,b,w,E){super(),this.editor=g,this.model=v,this.renderDisposeables=this._register(new m.DisposableStore),this.visible=!1,this.announcedLabel=null,this.allowEditorOverflow=!0,this.markdownRenderer=this._register(new s.MarkdownRenderer({editor:g},E,w)),this.keyVisible=t.Context.Visible.bindTo(b),this.keyMultipleSignatures=t.Context.MultipleSignatures.bindTo(b)}createParameterHintDOMNodes(){const g=c(".editor-widget.parameter-hints-widget"),v=L.append(g,c(".phwrapper"));v.tabIndex=-1;const b=L.append(v,c(".controls")),w=L.append(b,c(".button"+n.ThemeIcon.asCSSSelector(l))),E=L.append(b,c(".overloads")),I=L.append(b,c(".button"+n.ThemeIcon.asCSSSelector(a)));this._register(L.addDisposableListener(w,"click",R=>{L.EventHelper.stop(R),this.previous()})),this._register(L.addDisposableListener(I,"click",R=>{L.EventHelper.stop(R),this.next()}));const T=c(".body"),P=new y.DomScrollableElement(T,{alwaysConsumeMouseWheel:!0});this._register(P),v.appendChild(P.getDomNode());const A=L.append(T,c(".signature")),M=L.append(T,c(".docs"));g.style.userSelect="text",this.domNodes={element:g,signature:A,overloads:E,docs:M,scrollbar:P},this.editor.addContentWidget(this),this.hide(),this._register(this.editor.onDidChangeCursorSelection(R=>{this.visible&&this.editor.layoutContentWidget(this)}));const N=()=>{if(!this.domNodes)return;const R=this.editor.getOption(48);this.domNodes.element.style.fontSize=`${R.fontSize}px`,this.domNodes.element.style.lineHeight=`${R.lineHeight/R.fontSize}`};N(),this._register(S.Event.chain(this.editor.onDidChangeConfiguration.bind(this.editor)).filter(R=>R.hasChanged(48)).on(N,null)),this._register(this.editor.onDidLayoutChange(R=>this.updateMaxHeight())),this.updateMaxHeight()}show(){this.visible||(this.domNodes||this.createParameterHintDOMNodes(),this.keyVisible.set(!0),this.visible=!0,setTimeout(()=>{var g;(g=this.domNodes)===null||g===void 0||g.element.classList.add("visible")},100),this.editor.layoutContentWidget(this))}hide(){var g;this.renderDisposeables.clear(),this.visible&&(this.keyVisible.reset(),this.visible=!1,this.announcedLabel=null,(g=this.domNodes)===null||g===void 0||g.element.classList.remove("visible"),this.editor.layoutContentWidget(this))}getPosition(){return this.visible?{position:this.editor.getPosition(),preference:[1,2]}:null}render(g){var v;if(this.renderDisposeables.clear(),!this.domNodes)return;const b=g.signatures.length>1;this.domNodes.element.classList.toggle("multiple",b),this.keyMultipleSignatures.set(b),this.domNodes.signature.innerText="",this.domNodes.docs.innerText="";const w=g.signatures[g.activeSignature];if(!w)return;const E=L.append(this.domNodes.signature,c(".code")),I=this.editor.getOption(48);E.style.fontSize=`${I.fontSize}px`,E.style.fontFamily=I.fontFamily;const T=w.parameters.length>0,P=(v=w.activeParameter)!==null&&v!==void 0?v:g.activeParameter;if(T)this.renderParameters(E,w,P);else{const N=L.append(E,c("span"));N.textContent=w.label}const A=w.parameters[P];if(A?.documentation){const N=c("span.documentation");if(typeof A.documentation=="string")N.textContent=A.documentation;else{const R=this.renderMarkdownDocs(A.documentation);N.appendChild(R.element)}L.append(this.domNodes.docs,c("p",{},N))}if(w.documentation!==void 0)if(typeof w.documentation=="string")L.append(this.domNodes.docs,c("p",{},w.documentation));else{const N=this.renderMarkdownDocs(w.documentation);L.append(this.domNodes.docs,N.element)}const M=this.hasDocs(w,A);if(this.domNodes.signature.classList.toggle("has-docs",M),this.domNodes.docs.classList.toggle("empty",!M),this.domNodes.overloads.textContent=String(g.activeSignature+1).padStart(g.signatures.length.toString().length,"0")+"/"+g.signatures.length,A){let N="";const R=w.parameters[P];Array.isArray(R.label)?N=w.label.substring(R.label[0],R.label[1]):N=R.label,R.documentation&&(N+=typeof R.documentation=="string"?`, ${R.documentation}`:`, ${R.documentation.value}`),w.documentation&&(N+=typeof w.documentation=="string"?`, ${w.documentation}`:`, ${w.documentation.value}`),this.announcedLabel!==N&&(k.alert(i.localize(2,null,N)),this.announcedLabel=N)}this.editor.layoutContentWidget(this),this.domNodes.scrollbar.scanDomNode()}renderMarkdownDocs(g){const v=this.renderDisposeables.add(this.markdownRenderer.render(g,{asyncRenderCallback:()=>{var b;(b=this.domNodes)===null||b===void 0||b.scrollbar.scanDomNode()}}));return v.element.classList.add("markdown-docs"),v}hasDocs(g,v){return!!(v&&typeof v.documentation=="string"&&(0,f.assertIsDefined)(v.documentation).length>0||v&&typeof v.documentation=="object"&&(0,f.assertIsDefined)(v.documentation).value.length>0||g.documentation&&typeof g.documentation=="string"&&(0,f.assertIsDefined)(g.documentation).length>0||g.documentation&&typeof g.documentation=="object"&&(0,f.assertIsDefined)(g.documentation.value).length>0)}renderParameters(g,v,b){const[w,E]=this.getParameterLabelOffsets(v,b),I=document.createElement("span");I.textContent=v.label.substring(0,w);const T=document.createElement("span");T.textContent=v.label.substring(w,E),T.className="parameter active";const P=document.createElement("span");P.textContent=v.label.substring(E),L.append(g,I,T,P)}getParameterLabelOffsets(g,v){const b=g.parameters[v];if(b){if(Array.isArray(b.label))return b.label;if(b.label.length){const w=new RegExp(`(\\W|^)${(0,_.escapeRegExpCharacters)(b.label)}(?=\\W|$)`,"g");w.test(g.label);const E=w.lastIndex-b.label.length;return E>=0?[E,w.lastIndex]:[0,0]}else return[0,0]}else return[0,0]}next(){this.editor.focus(),this.model.next()}previous(){this.editor.focus(),this.model.previous()}getDomNode(){return this.domNodes||this.createParameterHintDOMNodes(),this.domNodes.element}getId(){return Gi.ID}updateMaxHeight(){if(!this.domNodes)return;const v=`${Math.max(this.editor.getLayoutInfo().height/4,250)}px`;this.domNodes.element.style.maxHeight=v;const b=this.domNodes.element.getElementsByClassName("phwrapper");b.length&&(b[0].style.maxHeight=v)}};u.ID="editor.widget.parameterHintsWidget",e.ParameterHintsWidget=u=Ne([ge(2,o.IContextKeyService),ge(3,r.IOpenerService),ge(4,p.ILanguageService)],u),(0,d.registerColor)("editorHoverWidget.highlightForeground",{dark:d.listHighlightForeground,light:d.listHighlightForeground,hcDark:d.listHighlightForeground,hcLight:d.listHighlightForeground},i.localize(3,null))}),define(X[821],ee([1,0,99,2,15,22,29,19,742,237,678,13,8,820]),function(q,e,L,k,y,D,S,m,_,f,p,s,t,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TriggerParameterHintsAction=e.ParameterHintsController=void 0;let o=e.ParameterHintsController=class Zi extends k.Disposable{static get(c){return c.getContribution(Zi.ID)}constructor(c,a,l){super(),this.editor=c,this.model=this._register(new _.ParameterHintsModel(c,l.signatureHelpProvider)),this._register(this.model.onChangedHints(u=>{var C;u?(this.widget.value.show(),this.widget.value.render(u)):(C=this.widget.rawValue)===null||C===void 0||C.hide()})),this.widget=new L.Lazy(()=>this._register(a.createInstance(i.ParameterHintsWidget,this.editor,this.model)))}cancel(){this.model.cancel()}previous(){var c;(c=this.widget.rawValue)===null||c===void 0||c.previous()}next(){var c;(c=this.widget.rawValue)===null||c===void 0||c.next()}trigger(c){this.model.trigger(c,0)}};o.ID="editor.controller.parameterHints",e.ParameterHintsController=o=Ne([ge(1,t.IInstantiationService),ge(2,m.ILanguageFeaturesService)],o);class r extends y.EditorAction{constructor(){super({id:"editor.action.triggerParameterHints",label:p.localize(0,null),alias:"Trigger Parameter Hints",precondition:D.EditorContextKeys.hasSignatureHelpProvider,kbOpts:{kbExpr:D.EditorContextKeys.editorTextFocus,primary:3082,weight:100}})}run(c,a){const l=o.get(a);l?.trigger({triggerKind:S.SignatureHelpTriggerKind.Invoke})}}e.TriggerParameterHintsAction=r,(0,y.registerEditorContribution)(o.ID,o,2),(0,y.registerEditorAction)(r);const d=100+75,h=y.EditorCommand.bindToContribution(o.get);(0,y.registerEditorCommand)(new h({id:"closeParameterHints",precondition:f.Context.Visible,handler:n=>n.cancel(),kbOpts:{weight:d,kbExpr:D.EditorContextKeys.focus,primary:9,secondary:[1033]}})),(0,y.registerEditorCommand)(new h({id:"showPrevParameterHint",precondition:s.ContextKeyExpr.and(f.Context.Visible,f.Context.MultipleSignatures),handler:n=>n.previous(),kbOpts:{weight:d,kbExpr:D.EditorContextKeys.focus,primary:16,secondary:[528],mac:{primary:16,secondary:[528,302]}}})),(0,y.registerEditorCommand)(new h({id:"showNextParameterHint",precondition:s.ContextKeyExpr.and(f.Context.Visible,f.Context.MultipleSignatures),handler:n=>n.next(),kbOpts:{weight:d,kbExpr:D.EditorContextKeys.focus,primary:18,secondary:[530],mac:{primary:18,secondary:[530,300]}}}))}),define(X[822],ee([1,0,7,67,40,2,115,8,759,61,27,459]),function(q,e,L,k,y,D,S,m,_,f,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BannerController=void 0;const s=26;let t=e.BannerController=class extends D.Disposable{constructor(r,d){super(),this._editor=r,this.instantiationService=d,this.banner=this._register(this.instantiationService.createInstance(i))}hide(){this._editor.setBanner(null,0),this.banner.clear()}show(r){this.banner.show(Object.assign(Object.assign({},r),{onClose:()=>{var d;this.hide(),(d=r.onClose)===null||d===void 0||d.call(r)}})),this._editor.setBanner(this.banner.element,s)}};e.BannerController=t=Ne([ge(1,m.IInstantiationService)],t);let i=class extends D.Disposable{constructor(r){super(),this.instantiationService=r,this.markdownRenderer=this.instantiationService.createInstance(S.MarkdownRenderer,{}),this.element=(0,L.$)("div.editor-banner"),this.element.tabIndex=0}getAriaLabel(r){if(r.ariaLabel)return r.ariaLabel;if(typeof r.message=="string")return r.message}getBannerMessage(r){if(typeof r=="string"){const d=(0,L.$)("span");return d.innerText=r,d}return this.markdownRenderer.render(r).element}clear(){(0,L.clearNode)(this.element)}show(r){(0,L.clearNode)(this.element);const d=this.getAriaLabel(r);d&&this.element.setAttribute("aria-label",d);const h=(0,L.append)(this.element,(0,L.$)("div.icon-container"));h.setAttribute("aria-hidden","true"),r.icon&&h.appendChild((0,L.$)(`div${p.ThemeIcon.asCSSSelector(r.icon)}`));const n=(0,L.append)(this.element,(0,L.$)("div.message-container"));if(n.setAttribute("aria-hidden","true"),n.appendChild(this.getBannerMessage(r.message)),this.messageActionsContainer=(0,L.append)(this.element,(0,L.$)("div.message-actions-container")),r.actions)for(const a of r.actions)this._register(this.instantiationService.createInstance(_.Link,this.messageActionsContainer,Object.assign(Object.assign({},a),{tabIndex:-1}),{}));const c=(0,L.append)(this.element,(0,L.$)("div.action-container"));this.actionBar=this._register(new k.ActionBar(c)),this.actionBar.push(this._register(new y.Action("banner.close","Close Banner",p.ThemeIcon.asClassName(f.widgetClose),!0,()=>{typeof r.onClose=="function"&&r.onClose()})),{icon:!0,label:!1}),this.actionBar.setFocusable(!1)}};i=Ne([ge(0,m.IInstantiationService)],i)}),define(X[823],ee([1,0,7,6,27,61]),function(q,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UnthemedProductIconTheme=e.getIconsStyleSheet=void 0;function S(_){const f=new k.Emitter,p=(0,D.getIconRegistry)();return p.onDidChange(()=>f.fire()),_?.onDidProductIconThemeChange(()=>f.fire()),{onDidChange:f.event,getCSS(){const s=_?_.getProductIconTheme():new m,t={},i=r=>{const d=s.getIcon(r);if(!d)return;const h=d.font;return h?(t[h.id]=h.definition,`.codicon-${r.id}:before { content: '${d.fontCharacter}'; font-family: ${(0,L.asCSSPropertyValue)(h.id)}; }`):`.codicon-${r.id}:before { content: '${d.fontCharacter}'; }`},o=[];for(const r of p.getIcons()){const d=i(r);d&&o.push(d)}for(const r in t){const d=t[r],h=d.weight?`font-weight: ${d.weight};`:"",n=d.style?`font-style: ${d.style};`:"",c=d.src.map(a=>`${(0,L.asCSSUrl)(a.location)} format('${a.format}')`).join(", ");o.push(`@font-face { src: ${c}; font-family: ${(0,L.asCSSPropertyValue)(r)};${h}${n} font-display: block; }`)}return o.join(`
`)}}}e.getIconsStyleSheet=S;class m{getIcon(f){const p=(0,D.getIconRegistry)();let s=f.defaults;for(;y.ThemeIcon.isThemeIcon(s);){const t=p.getIcon(s.id);if(!t)return;s=t.defaults}return s}}e.UnthemedProductIconTheme=m}),define(X[88],ee([1,0]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isDark=e.isHighContrast=e.ColorScheme=void 0;var L;(function(D){D.DARK="dark",D.LIGHT="light",D.HIGH_CONTRAST_DARK="hcDark",D.HIGH_CONTRAST_LIGHT="hcLight"})(L||(e.ColorScheme=L={}));function k(D){return D===L.HIGH_CONTRAST_DARK||D===L.HIGH_CONTRAST_LIGHT}e.isHighContrast=k;function y(D){return D===L.DARK||D===L.HIGH_CONTRAST_DARK}e.isDark=y}),define(X[350],ee([1,0,51,34,17,473,142,127,94,88,35]),function(q,e,L,k,y,D,S,m,_,f,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewLine=e.ViewLineOptions=void 0;const s=function(){return y.isNative?!0:!(y.isLinux||L.isFirefox||L.isSafari)}();let t=!0;class i{constructor(u,C){this.themeType=C;const g=u.options,v=g.get(48);g.get(36)==="off"?this.renderWhitespace=g.get(96):this.renderWhitespace="none",this.renderControlCharacters=g.get(91),this.spaceWidth=v.spaceWidth,this.middotWidth=v.middotWidth,this.wsmiddotWidth=v.wsmiddotWidth,this.useMonospaceOptimizations=v.isMonospace&&!g.get(31),this.canUseHalfwidthRightwardsArrow=v.canUseHalfwidthRightwardsArrow,this.lineHeight=g.get(64),this.stopRenderingLineAfter=g.get(114),this.fontLigatures=g.get(49)}equals(u){return this.themeType===u.themeType&&this.renderWhitespace===u.renderWhitespace&&this.renderControlCharacters===u.renderControlCharacters&&this.spaceWidth===u.spaceWidth&&this.middotWidth===u.middotWidth&&this.wsmiddotWidth===u.wsmiddotWidth&&this.useMonospaceOptimizations===u.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===u.canUseHalfwidthRightwardsArrow&&this.lineHeight===u.lineHeight&&this.stopRenderingLineAfter===u.stopRenderingLineAfter&&this.fontLigatures===u.fontLigatures}}e.ViewLineOptions=i;class o{constructor(u){this._options=u,this._isMaybeInvalid=!0,this._renderedViewLine=null}getDomNode(){return this._renderedViewLine&&this._renderedViewLine.domNode?this._renderedViewLine.domNode.domNode:null}setDomNode(u){if(this._renderedViewLine)this._renderedViewLine.domNode=(0,k.createFastDomNode)(u);else throw new Error("I have no rendered view line to set the dom node to...")}onContentChanged(){this._isMaybeInvalid=!0}onTokensChanged(){this._isMaybeInvalid=!0}onDecorationsChanged(){this._isMaybeInvalid=!0}onOptionsChanged(u){this._isMaybeInvalid=!0,this._options=u}onSelectionChanged(){return(0,f.isHighContrast)(this._options.themeType)||this._options.renderWhitespace==="selection"?(this._isMaybeInvalid=!0,!0):!1}renderLine(u,C,g,v){if(this._isMaybeInvalid===!1)return!1;this._isMaybeInvalid=!1;const b=g.getViewLineRenderingData(u),w=this._options,E=m.LineDecoration.filter(b.inlineDecorations,u,b.minColumn,b.maxColumn);let I=null;if((0,f.isHighContrast)(w.themeType)||this._options.renderWhitespace==="selection"){const M=g.selections;for(const N of M){if(N.endLineNumber<u||N.startLineNumber>u)continue;const R=N.startLineNumber===u?N.startColumn:b.minColumn,F=N.endLineNumber===u?N.endColumn:b.maxColumn;R<F&&((0,f.isHighContrast)(w.themeType)&&E.push(new m.LineDecoration(R,F,"inline-selected-text",0)),this._options.renderWhitespace==="selection"&&(I||(I=[]),I.push(new _.LineRange(R-1,F-1))))}}const T=new _.RenderLineInput(w.useMonospaceOptimizations,w.canUseHalfwidthRightwardsArrow,b.content,b.continuesWithWrappedLine,b.isBasicASCII,b.containsRTL,b.minColumn-1,b.tokens,E,b.tabSize,b.startVisibleColumn,w.spaceWidth,w.middotWidth,w.wsmiddotWidth,w.stopRenderingLineAfter,w.renderWhitespace,w.renderControlCharacters,w.fontLigatures!==p.EditorFontLigatures.OFF,I);if(this._renderedViewLine&&this._renderedViewLine.input.equals(T))return!1;v.appendString('<div style="top:'),v.appendString(String(C)),v.appendString("px;height:"),v.appendString(String(this._options.lineHeight)),v.appendString('px;" class="'),v.appendString(o.CLASS_NAME),v.appendString('">');const P=(0,_.renderViewLine)(T,v);v.appendString("</div>");let A=null;return t&&s&&b.isBasicASCII&&w.useMonospaceOptimizations&&P.containsForeignElements===0&&(A=new r(this._renderedViewLine?this._renderedViewLine.domNode:null,T,P.characterMapping)),A||(A=n(this._renderedViewLine?this._renderedViewLine.domNode:null,T,P.characterMapping,P.containsRTL,P.containsForeignElements)),this._renderedViewLine=A,!0}layoutLine(u,C){this._renderedViewLine&&this._renderedViewLine.domNode&&(this._renderedViewLine.domNode.setTop(C),this._renderedViewLine.domNode.setHeight(this._options.lineHeight))}getWidth(u){return this._renderedViewLine?this._renderedViewLine.getWidth(u):0}getWidthIsFast(){return this._renderedViewLine?this._renderedViewLine.getWidthIsFast():!0}needsMonospaceFontCheck(){return this._renderedViewLine?this._renderedViewLine instanceof r:!1}monospaceAssumptionsAreValid(){return this._renderedViewLine&&this._renderedViewLine instanceof r?this._renderedViewLine.monospaceAssumptionsAreValid():t}onMonospaceAssumptionsInvalidated(){this._renderedViewLine&&this._renderedViewLine instanceof r&&(this._renderedViewLine=this._renderedViewLine.toSlowRenderedLine())}getVisibleRangesForRange(u,C,g,v){if(!this._renderedViewLine)return null;C=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,C)),g=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,g));const b=this._renderedViewLine.input.stopRenderingLineAfter;if(b!==-1&&C>b+1&&g>b+1)return new S.VisibleRanges(!0,[new S.FloatHorizontalRange(this.getWidth(v),0)]);b!==-1&&C>b+1&&(C=b+1),b!==-1&&g>b+1&&(g=b+1);const w=this._renderedViewLine.getVisibleRangesForRange(u,C,g,v);return w&&w.length>0?new S.VisibleRanges(!1,w):null}getColumnOfNodeOffset(u,C,g){return this._renderedViewLine?this._renderedViewLine.getColumnOfNodeOffset(u,C,g):1}}e.ViewLine=o,o.CLASS_NAME="view-line";class r{constructor(u,C,g){this._cachedWidth=-1,this.domNode=u,this.input=C;const v=Math.floor(C.lineContent.length/300);if(v>0){this._keyColumnPixelOffsetCache=new Float32Array(v);for(let b=0;b<v;b++)this._keyColumnPixelOffsetCache[b]=-1}else this._keyColumnPixelOffsetCache=null;this._characterMapping=g,this._charWidth=C.spaceWidth}getWidth(u){if(!this.domNode||this.input.lineContent.length<300){const C=this._characterMapping.getHorizontalOffset(this._characterMapping.length);return Math.round(this._charWidth*C)}return this._cachedWidth===-1&&(this._cachedWidth=this._getReadingTarget(this.domNode).offsetWidth,u?.markDidDomLayout()),this._cachedWidth}getWidthIsFast(){return this.input.lineContent.length<300||this._cachedWidth!==-1}monospaceAssumptionsAreValid(){if(!this.domNode)return t;if(this.input.lineContent.length<300){const u=this.getWidth(null),C=this.domNode.domNode.firstChild.offsetWidth;Math.abs(u-C)>=2&&(console.warn("monospace assumptions have been violated, therefore disabling monospace optimizations!"),t=!1)}return t}toSlowRenderedLine(){return n(this.domNode,this.input,this._characterMapping,!1,0)}getVisibleRangesForRange(u,C,g,v){const b=this._getColumnPixelOffset(u,C,v),w=this._getColumnPixelOffset(u,g,v);return[new S.FloatHorizontalRange(b,w-b)]}_getColumnPixelOffset(u,C,g){if(C<=300){const T=this._characterMapping.getHorizontalOffset(C);return this._charWidth*T}const v=Math.floor((C-1)/300)-1,b=(v+1)*300+1;let w=-1;if(this._keyColumnPixelOffsetCache&&(w=this._keyColumnPixelOffsetCache[v],w===-1&&(w=this._actualReadPixelOffset(u,b,g),this._keyColumnPixelOffsetCache[v]=w)),w===-1){const T=this._characterMapping.getHorizontalOffset(C);return this._charWidth*T}const E=this._characterMapping.getHorizontalOffset(b),I=this._characterMapping.getHorizontalOffset(C);return w+this._charWidth*(I-E)}_getReadingTarget(u){return u.domNode.firstChild}_actualReadPixelOffset(u,C,g){if(!this.domNode)return-1;const v=this._characterMapping.getDomPosition(C),b=D.RangeUtil.readHorizontalRanges(this._getReadingTarget(this.domNode),v.partIndex,v.charIndex,v.partIndex,v.charIndex,g);return!b||b.length===0?-1:b[0].left}getColumnOfNodeOffset(u,C,g){const v=C.textContent.length;let b=-1;for(;C;)C=C.previousSibling,b++;return this._characterMapping.getColumn(new _.DomPosition(b,g),v)}}class d{constructor(u,C,g,v,b){if(this.domNode=u,this.input=C,this._characterMapping=g,this._isWhitespaceOnly=/^\s*$/.test(C.lineContent),this._containsForeignElements=b,this._cachedWidth=-1,this._pixelOffsetCache=null,!v||this._characterMapping.length===0){this._pixelOffsetCache=new Float32Array(Math.max(2,this._characterMapping.length+1));for(let w=0,E=this._characterMapping.length;w<=E;w++)this._pixelOffsetCache[w]=-1}}_getReadingTarget(u){return u.domNode.firstChild}getWidth(u){return this.domNode?(this._cachedWidth===-1&&(this._cachedWidth=this._getReadingTarget(this.domNode).offsetWidth,u?.markDidDomLayout()),this._cachedWidth):0}getWidthIsFast(){return this._cachedWidth!==-1}getVisibleRangesForRange(u,C,g,v){if(!this.domNode)return null;if(this._pixelOffsetCache!==null){const b=this._readPixelOffset(this.domNode,u,C,v);if(b===-1)return null;const w=this._readPixelOffset(this.domNode,u,g,v);return w===-1?null:[new S.FloatHorizontalRange(b,w-b)]}return this._readVisibleRangesForRange(this.domNode,u,C,g,v)}_readVisibleRangesForRange(u,C,g,v,b){if(g===v){const w=this._readPixelOffset(u,C,g,b);return w===-1?null:[new S.FloatHorizontalRange(w,0)]}else return this._readRawVisibleRangesForRange(u,g,v,b)}_readPixelOffset(u,C,g,v){if(this._characterMapping.length===0){if(this._containsForeignElements===0||this._containsForeignElements===2)return 0;if(this._containsForeignElements===1)return this.getWidth(v);const b=this._getReadingTarget(u);return b.firstChild?(v.markDidDomLayout(),b.firstChild.offsetWidth):0}if(this._pixelOffsetCache!==null){const b=this._pixelOffsetCache[g];if(b!==-1)return b;const w=this._actualReadPixelOffset(u,C,g,v);return this._pixelOffsetCache[g]=w,w}return this._actualReadPixelOffset(u,C,g,v)}_actualReadPixelOffset(u,C,g,v){if(this._characterMapping.length===0){const I=D.RangeUtil.readHorizontalRanges(this._getReadingTarget(u),0,0,0,0,v);return!I||I.length===0?-1:I[0].left}if(g===this._characterMapping.length&&this._isWhitespaceOnly&&this._containsForeignElements===0)return this.getWidth(v);const b=this._characterMapping.getDomPosition(g),w=D.RangeUtil.readHorizontalRanges(this._getReadingTarget(u),b.partIndex,b.charIndex,b.partIndex,b.charIndex,v);if(!w||w.length===0)return-1;const E=w[0].left;if(this.input.isBasicASCII){const I=this._characterMapping.getHorizontalOffset(g),T=Math.round(this.input.spaceWidth*I);if(Math.abs(T-E)<=1)return T}return E}_readRawVisibleRangesForRange(u,C,g,v){if(C===1&&g===this._characterMapping.length)return[new S.FloatHorizontalRange(0,this.getWidth(v))];const b=this._characterMapping.getDomPosition(C),w=this._characterMapping.getDomPosition(g);return D.RangeUtil.readHorizontalRanges(this._getReadingTarget(u),b.partIndex,b.charIndex,w.partIndex,w.charIndex,v)}getColumnOfNodeOffset(u,C,g){const v=C.textContent.length;let b=-1;for(;C;)C=C.previousSibling,b++;return this._characterMapping.getColumn(new _.DomPosition(b,g),v)}}class h extends d{_readVisibleRangesForRange(u,C,g,v,b){const w=super._readVisibleRangesForRange(u,C,g,v,b);if(!w||w.length===0||g===v||g===1&&v===this._characterMapping.length)return w;if(!this.input.containsRTL){const E=this._readPixelOffset(u,C,v,b);if(E!==-1){const I=w[w.length-1];I.left<E&&(I.width=E-I.left)}}return w}}const n=function(){return L.isWebKit?c:a}();function c(l,u,C,g,v){return new h(l,u,C,g,v)}function a(l,u,C,g,v){return new d(l,u,C,g,v)}}),define(X[351],ee([1,0,161,52,350,11,5,81,7,273]),function(q,e,L,k,y,D,S,m,_,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MouseTargetFactory=e.HitTestContext=e.MouseTarget=e.PointerHandlerLastRenderData=void 0;class p{constructor(v=null){this.hitTarget=v,this.type=0}}class s{constructor(v,b,w){this.position=v,this.spanNode=b,this.injectedText=w,this.type=1}}var t;(function(g){function v(b,w,E){const I=b.getPositionFromDOMInfo(w,E);return I?new s(I,w,null):new p(w)}g.createFromDOMInfo=v})(t||(t={}));class i{constructor(v,b){this.lastViewCursorsRenderData=v,this.lastTextareaPosition=b}}e.PointerHandlerLastRenderData=i;class o{static _deduceRage(v,b=null){return!b&&v?new S.Range(v.lineNumber,v.column,v.lineNumber,v.column):b??null}static createUnknown(v,b,w){return{type:0,element:v,mouseColumn:b,position:w,range:this._deduceRage(w)}}static createTextarea(v,b){return{type:1,element:v,mouseColumn:b,position:null,range:null}}static createMargin(v,b,w,E,I,T){return{type:v,element:b,mouseColumn:w,position:E,range:I,detail:T}}static createViewZone(v,b,w,E,I){return{type:v,element:b,mouseColumn:w,position:E,range:this._deduceRage(E),detail:I}}static createContentText(v,b,w,E,I){return{type:6,element:v,mouseColumn:b,position:w,range:this._deduceRage(w,E),detail:I}}static createContentEmpty(v,b,w,E){return{type:7,element:v,mouseColumn:b,position:w,range:this._deduceRage(w),detail:E}}static createContentWidget(v,b,w){return{type:9,element:v,mouseColumn:b,position:null,range:null,detail:w}}static createScrollbar(v,b,w){return{type:11,element:v,mouseColumn:b,position:w,range:this._deduceRage(w)}}static createOverlayWidget(v,b,w){return{type:12,element:v,mouseColumn:b,position:null,range:null,detail:w}}static createOutsideEditor(v,b,w,E){return{type:13,element:null,mouseColumn:v,position:b,range:this._deduceRage(b),outsidePosition:w,outsideDistance:E}}static _typeToString(v){return v===1?"TEXTAREA":v===2?"GUTTER_GLYPH_MARGIN":v===3?"GUTTER_LINE_NUMBERS":v===4?"GUTTER_LINE_DECORATIONS":v===5?"GUTTER_VIEW_ZONE":v===6?"CONTENT_TEXT":v===7?"CONTENT_EMPTY":v===8?"CONTENT_VIEW_ZONE":v===9?"CONTENT_WIDGET":v===10?"OVERVIEW_RULER":v===11?"SCROLLBAR":v===12?"OVERLAY_WIDGET":"UNKNOWN"}static toString(v){return this._typeToString(v.type)+": "+v.position+" - "+v.range+" - "+JSON.stringify(v.detail)}}e.MouseTarget=o;class r{static isTextArea(v){return v.length===2&&v[0]===3&&v[1]===6}static isChildOfViewLines(v){return v.length>=4&&v[0]===3&&v[3]===7}static isStrictChildOfViewLines(v){return v.length>4&&v[0]===3&&v[3]===7}static isChildOfScrollableElement(v){return v.length>=2&&v[0]===3&&v[1]===5}static isChildOfMinimap(v){return v.length>=2&&v[0]===3&&v[1]===8}static isChildOfContentWidgets(v){return v.length>=4&&v[0]===3&&v[3]===1}static isChildOfOverflowingContentWidgets(v){return v.length>=1&&v[0]===2}static isChildOfOverlayWidgets(v){return v.length>=2&&v[0]===3&&v[1]===4}}class d{constructor(v,b,w){this.viewModel=v.viewModel;const E=v.configuration.options;this.layoutInfo=E.get(141),this.viewDomNode=b.viewDomNode,this.lineHeight=E.get(64),this.stickyTabStops=E.get(113),this.typicalHalfwidthCharacterWidth=E.get(48).typicalHalfwidthCharacterWidth,this.lastRenderData=w,this._context=v,this._viewHelper=b}getZoneAtCoord(v){return d.getZoneAtCoord(this._context,v)}static getZoneAtCoord(v,b){const w=v.viewLayout.getWhitespaceAtVerticalOffset(b);if(w){const E=w.verticalOffset+w.height/2,I=v.viewModel.getLineCount();let T=null,P,A=null;return w.afterLineNumber!==I&&(A=new D.Position(w.afterLineNumber+1,1)),w.afterLineNumber>0&&(T=new D.Position(w.afterLineNumber,v.viewModel.getLineMaxColumn(w.afterLineNumber))),A===null?P=T:T===null?P=A:b<E?P=T:P=A,{viewZoneId:w.id,afterLineNumber:w.afterLineNumber,positionBefore:T,positionAfter:A,position:P}}return null}getFullLineRangeAtCoord(v){if(this._context.viewLayout.isAfterLines(v)){const E=this._context.viewModel.getLineCount(),I=this._context.viewModel.getLineMaxColumn(E);return{range:new S.Range(E,I,E,I),isAfterLines:!0}}const b=this._context.viewLayout.getLineNumberAtVerticalOffset(v),w=this._context.viewModel.getLineMaxColumn(b);return{range:new S.Range(b,1,b,w),isAfterLines:!1}}getLineNumberAtVerticalOffset(v){return this._context.viewLayout.getLineNumberAtVerticalOffset(v)}isAfterLines(v){return this._context.viewLayout.isAfterLines(v)}isInTopPadding(v){return this._context.viewLayout.isInTopPadding(v)}isInBottomPadding(v){return this._context.viewLayout.isInBottomPadding(v)}getVerticalOffsetForLineNumber(v){return this._context.viewLayout.getVerticalOffsetForLineNumber(v)}findAttribute(v,b){return d._findAttribute(v,b,this._viewHelper.viewDomNode)}static _findAttribute(v,b,w){for(;v&&v!==document.body;){if(v.hasAttribute&&v.hasAttribute(b))return v.getAttribute(b);if(v===w)return null;v=v.parentNode}return null}getLineWidth(v){return this._viewHelper.getLineWidth(v)}visibleRangeForPosition(v,b){return this._viewHelper.visibleRangeForPosition(v,b)}getPositionFromDOMInfo(v,b){return this._viewHelper.getPositionFromDOMInfo(v,b)}getCurrentScrollTop(){return this._context.viewLayout.getCurrentScrollTop()}getCurrentScrollLeft(){return this._context.viewLayout.getCurrentScrollLeft()}}e.HitTestContext=d;class h{constructor(v,b,w,E){this.editorPos=b,this.pos=w,this.relativePos=E,this.mouseVerticalOffset=Math.max(0,v.getCurrentScrollTop()+this.relativePos.y),this.mouseContentHorizontalOffset=v.getCurrentScrollLeft()+this.relativePos.x-v.layoutInfo.contentLeft,this.isInMarginArea=this.relativePos.x<v.layoutInfo.contentLeft&&this.relativePos.x>=v.layoutInfo.glyphMarginLeft,this.isInContentArea=!this.isInMarginArea,this.mouseColumn=Math.max(0,l._getMouseColumn(this.mouseContentHorizontalOffset,v.typicalHalfwidthCharacterWidth))}}class n extends h{constructor(v,b,w,E,I){super(v,b,w,E),this._ctx=v,I?(this.target=I,this.targetPath=k.PartFingerprints.collect(I,v.viewDomNode)):(this.target=null,this.targetPath=new Uint8Array(0))}toString(){return`pos(${this.pos.x},${this.pos.y}), editorPos(${this.editorPos.x},${this.editorPos.y}), relativePos(${this.relativePos.x},${this.relativePos.y}), mouseVerticalOffset: ${this.mouseVerticalOffset}, mouseContentHorizontalOffset: ${this.mouseContentHorizontalOffset}
	target: ${this.target?this.target.outerHTML:null}`}_getMouseColumn(v=null){return v&&v.column<this._ctx.viewModel.getLineMaxColumn(v.lineNumber)?m.CursorColumns.visibleColumnFromColumn(this._ctx.viewModel.getLineContent(v.lineNumber),v.column,this._ctx.viewModel.model.getOptions().tabSize)+1:this.mouseColumn}fulfillUnknown(v=null){return o.createUnknown(this.target,this._getMouseColumn(v),v)}fulfillTextarea(){return o.createTextarea(this.target,this._getMouseColumn())}fulfillMargin(v,b,w,E){return o.createMargin(v,this.target,this._getMouseColumn(b),b,w,E)}fulfillViewZone(v,b,w){return o.createViewZone(v,this.target,this._getMouseColumn(b),b,w)}fulfillContentText(v,b,w){return o.createContentText(this.target,this._getMouseColumn(v),v,b,w)}fulfillContentEmpty(v,b){return o.createContentEmpty(this.target,this._getMouseColumn(v),v,b)}fulfillContentWidget(v){return o.createContentWidget(this.target,this._getMouseColumn(),v)}fulfillScrollbar(v){return o.createScrollbar(this.target,this._getMouseColumn(v),v)}fulfillOverlayWidget(v){return o.createOverlayWidget(this.target,this._getMouseColumn(),v)}withTarget(v){return new n(this._ctx,this.editorPos,this.pos,this.relativePos,v)}}const c={isAfterLines:!0};function a(g){return{isAfterLines:!1,horizontalDistanceToText:g}}class l{constructor(v,b){this._context=v,this._viewHelper=b}mouseTargetIsWidget(v){const b=v.target,w=k.PartFingerprints.collect(b,this._viewHelper.viewDomNode);return!!(r.isChildOfContentWidgets(w)||r.isChildOfOverflowingContentWidgets(w)||r.isChildOfOverlayWidgets(w))}createMouseTarget(v,b,w,E,I){const T=new d(this._context,this._viewHelper,v),P=new n(T,b,w,E,I);try{const A=l._createMouseTarget(T,P,!1);if(A.type===6&&T.stickyTabStops&&A.position!==null){const M=l._snapToSoftTabBoundary(A.position,T.viewModel),N=S.Range.fromPositions(M,M).plusRange(A.range);return P.fulfillContentText(M,N,A.detail)}return A}catch{return P.fulfillUnknown()}}static _createMouseTarget(v,b,w){if(b.target===null){if(w)return b.fulfillUnknown();const T=l._doHitTest(v,b);return T.type===1?l.createMouseTargetFromHitTestPosition(v,b,T.spanNode,T.position,T.injectedText):this._createMouseTarget(v,b.withTarget(T.hitTarget),!0)}const E=b;let I=null;return I=I||l._hitTestContentWidget(v,E),I=I||l._hitTestOverlayWidget(v,E),I=I||l._hitTestMinimap(v,E),I=I||l._hitTestScrollbarSlider(v,E),I=I||l._hitTestViewZone(v,E),I=I||l._hitTestMargin(v,E),I=I||l._hitTestViewCursor(v,E),I=I||l._hitTestTextArea(v,E),I=I||l._hitTestViewLines(v,E,w),I=I||l._hitTestScrollbar(v,E),I||b.fulfillUnknown()}static _hitTestContentWidget(v,b){if(r.isChildOfContentWidgets(b.targetPath)||r.isChildOfOverflowingContentWidgets(b.targetPath)){const w=v.findAttribute(b.target,"widgetId");return w?b.fulfillContentWidget(w):b.fulfillUnknown()}return null}static _hitTestOverlayWidget(v,b){if(r.isChildOfOverlayWidgets(b.targetPath)){const w=v.findAttribute(b.target,"widgetId");return w?b.fulfillOverlayWidget(w):b.fulfillUnknown()}return null}static _hitTestViewCursor(v,b){if(b.target){const w=v.lastRenderData.lastViewCursorsRenderData;for(const E of w)if(b.target===E.domNode)return b.fulfillContentText(E.position,null,{mightBeForeignElement:!1,injectedText:null})}if(b.isInContentArea){const w=v.lastRenderData.lastViewCursorsRenderData,E=b.mouseContentHorizontalOffset,I=b.mouseVerticalOffset;for(const T of w){if(E<T.contentLeft||E>T.contentLeft+T.width)continue;const P=v.getVerticalOffsetForLineNumber(T.position.lineNumber);if(P<=I&&I<=P+T.height)return b.fulfillContentText(T.position,null,{mightBeForeignElement:!1,injectedText:null})}}return null}static _hitTestViewZone(v,b){const w=v.getZoneAtCoord(b.mouseVerticalOffset);if(w){const E=b.isInContentArea?8:5;return b.fulfillViewZone(E,w.position,w)}return null}static _hitTestTextArea(v,b){return r.isTextArea(b.targetPath)?v.lastRenderData.lastTextareaPosition?b.fulfillContentText(v.lastRenderData.lastTextareaPosition,null,{mightBeForeignElement:!1,injectedText:null}):b.fulfillTextarea():null}static _hitTestMargin(v,b){if(b.isInMarginArea){const w=v.getFullLineRangeAtCoord(b.mouseVerticalOffset),E=w.range.getStartPosition();let I=Math.abs(b.relativePos.x);const T={isAfterLines:w.isAfterLines,glyphMarginLeft:v.layoutInfo.glyphMarginLeft,glyphMarginWidth:v.layoutInfo.glyphMarginWidth,lineNumbersWidth:v.layoutInfo.lineNumbersWidth,offsetX:I};return I-=v.layoutInfo.glyphMarginLeft,I<=v.layoutInfo.glyphMarginWidth?b.fulfillMargin(2,E,w.range,T):(I-=v.layoutInfo.glyphMarginWidth,I<=v.layoutInfo.lineNumbersWidth?b.fulfillMargin(3,E,w.range,T):(I-=v.layoutInfo.lineNumbersWidth,b.fulfillMargin(4,E,w.range,T)))}return null}static _hitTestViewLines(v,b,w){if(!r.isChildOfViewLines(b.targetPath))return null;if(v.isInTopPadding(b.mouseVerticalOffset))return b.fulfillContentEmpty(new D.Position(1,1),c);if(v.isAfterLines(b.mouseVerticalOffset)||v.isInBottomPadding(b.mouseVerticalOffset)){const I=v.viewModel.getLineCount(),T=v.viewModel.getLineMaxColumn(I);return b.fulfillContentEmpty(new D.Position(I,T),c)}if(w){if(r.isStrictChildOfViewLines(b.targetPath)){const I=v.getLineNumberAtVerticalOffset(b.mouseVerticalOffset);if(v.viewModel.getLineLength(I)===0){const P=v.getLineWidth(I),A=a(b.mouseContentHorizontalOffset-P);return b.fulfillContentEmpty(new D.Position(I,1),A)}const T=v.getLineWidth(I);if(b.mouseContentHorizontalOffset>=T){const P=a(b.mouseContentHorizontalOffset-T),A=new D.Position(I,v.viewModel.getLineMaxColumn(I));return b.fulfillContentEmpty(A,P)}}return b.fulfillUnknown()}const E=l._doHitTest(v,b);return E.type===1?l.createMouseTargetFromHitTestPosition(v,b,E.spanNode,E.position,E.injectedText):this._createMouseTarget(v,b.withTarget(E.hitTarget),!0)}static _hitTestMinimap(v,b){if(r.isChildOfMinimap(b.targetPath)){const w=v.getLineNumberAtVerticalOffset(b.mouseVerticalOffset),E=v.viewModel.getLineMaxColumn(w);return b.fulfillScrollbar(new D.Position(w,E))}return null}static _hitTestScrollbarSlider(v,b){if(r.isChildOfScrollableElement(b.targetPath)&&b.target&&b.target.nodeType===1){const w=b.target.className;if(w&&/\b(slider|scrollbar)\b/.test(w)){const E=v.getLineNumberAtVerticalOffset(b.mouseVerticalOffset),I=v.viewModel.getLineMaxColumn(E);return b.fulfillScrollbar(new D.Position(E,I))}}return null}static _hitTestScrollbar(v,b){if(r.isChildOfScrollableElement(b.targetPath)){const w=v.getLineNumberAtVerticalOffset(b.mouseVerticalOffset),E=v.viewModel.getLineMaxColumn(w);return b.fulfillScrollbar(new D.Position(w,E))}return null}getMouseColumn(v){const b=this._context.configuration.options,w=b.get(141),E=this._context.viewLayout.getCurrentScrollLeft()+v.x-w.contentLeft;return l._getMouseColumn(E,b.get(48).typicalHalfwidthCharacterWidth)}static _getMouseColumn(v,b){return v<0?1:Math.round(v/b)+1}static createMouseTargetFromHitTestPosition(v,b,w,E,I){const T=E.lineNumber,P=E.column,A=v.getLineWidth(T);if(b.mouseContentHorizontalOffset>A){const O=a(b.mouseContentHorizontalOffset-A);return b.fulfillContentEmpty(E,O)}const M=v.visibleRangeForPosition(T,P);if(!M)return b.fulfillUnknown(E);const N=M.left;if(Math.abs(b.mouseContentHorizontalOffset-N)<1)return b.fulfillContentText(E,null,{mightBeForeignElement:!!I,injectedText:I});const R=[];if(R.push({offset:M.left,column:P}),P>1){const O=v.visibleRangeForPosition(T,P-1);O&&R.push({offset:O.left,column:P-1})}const F=v.viewModel.getLineMaxColumn(T);if(P<F){const O=v.visibleRangeForPosition(T,P+1);O&&R.push({offset:O.left,column:P+1})}R.sort((O,G)=>O.offset-G.offset);const x=b.pos.toClientCoordinates(),W=w.getBoundingClientRect(),z=W.left<=x.clientX&&x.clientX<=W.right;let U=null;for(let O=1;O<R.length;O++){const G=R[O-1],Q=R[O];if(G.offset<=b.mouseContentHorizontalOffset&&b.mouseContentHorizontalOffset<=Q.offset){U=new S.Range(T,G.column,T,Q.column);const re=Math.abs(G.offset-b.mouseContentHorizontalOffset),oe=Math.abs(Q.offset-b.mouseContentHorizontalOffset);E=re<oe?new D.Position(T,G.column):new D.Position(T,Q.column);break}}return b.fulfillContentText(E,U,{mightBeForeignElement:!z||!!I,injectedText:I})}static _doHitTestWithCaretRangeFromPoint(v,b){const w=v.getLineNumberAtVerticalOffset(b.mouseVerticalOffset),E=v.getVerticalOffsetForLineNumber(w),I=E+v.lineHeight;if(!(w===v.viewModel.getLineCount()&&b.mouseVerticalOffset>I)){const P=Math.floor((E+I)/2);let A=b.pos.y+(P-b.mouseVerticalOffset);A<=b.editorPos.y&&(A=b.editorPos.y+1),A>=b.editorPos.y+b.editorPos.height&&(A=b.editorPos.y+b.editorPos.height-1);const M=new L.PageCoordinates(b.pos.x,A),N=this._actualDoHitTestWithCaretRangeFromPoint(v,M.toClientCoordinates());if(N.type===1)return N}return this._actualDoHitTestWithCaretRangeFromPoint(v,b.pos.toClientCoordinates())}static _actualDoHitTestWithCaretRangeFromPoint(v,b){const w=_.getShadowRoot(v.viewDomNode);let E;if(w?typeof w.caretRangeFromPoint>"u"?E=u(w,b.clientX,b.clientY):E=w.caretRangeFromPoint(b.clientX,b.clientY):E=document.caretRangeFromPoint(b.clientX,b.clientY),!E||!E.startContainer)return new p;const I=E.startContainer;if(I.nodeType===I.TEXT_NODE){const T=I.parentNode,P=T?T.parentNode:null,A=P?P.parentNode:null;return(A&&A.nodeType===A.ELEMENT_NODE?A.className:null)===y.ViewLine.CLASS_NAME?t.createFromDOMInfo(v,T,E.startOffset):new p(I.parentNode)}else if(I.nodeType===I.ELEMENT_NODE){const T=I.parentNode,P=T?T.parentNode:null;return(P&&P.nodeType===P.ELEMENT_NODE?P.className:null)===y.ViewLine.CLASS_NAME?t.createFromDOMInfo(v,I,I.textContent.length):new p(I)}return new p}static _doHitTestWithCaretPositionFromPoint(v,b){const w=document.caretPositionFromPoint(b.clientX,b.clientY);if(w.offsetNode.nodeType===w.offsetNode.TEXT_NODE){const E=w.offsetNode.parentNode,I=E?E.parentNode:null,T=I?I.parentNode:null;return(T&&T.nodeType===T.ELEMENT_NODE?T.className:null)===y.ViewLine.CLASS_NAME?t.createFromDOMInfo(v,w.offsetNode.parentNode,w.offset):new p(w.offsetNode.parentNode)}if(w.offsetNode.nodeType===w.offsetNode.ELEMENT_NODE){const E=w.offsetNode.parentNode,I=E&&E.nodeType===E.ELEMENT_NODE?E.className:null,T=E?E.parentNode:null,P=T&&T.nodeType===T.ELEMENT_NODE?T.className:null;if(I===y.ViewLine.CLASS_NAME){const A=w.offsetNode.childNodes[Math.min(w.offset,w.offsetNode.childNodes.length-1)];if(A)return t.createFromDOMInfo(v,A,0)}else if(P===y.ViewLine.CLASS_NAME)return t.createFromDOMInfo(v,w.offsetNode,0)}return new p(w.offsetNode)}static _snapToSoftTabBoundary(v,b){const w=b.getLineContent(v.lineNumber),{tabSize:E}=b.model.getOptions(),I=f.AtomicTabMoveOperations.atomicPosition(w,v.column-1,E,2);return I!==-1?new D.Position(v.lineNumber,I+1):v}static _doHitTest(v,b){let w=new p;if(typeof document.caretRangeFromPoint=="function"?w=this._doHitTestWithCaretRangeFromPoint(v,b):document.caretPositionFromPoint&&(w=this._doHitTestWithCaretPositionFromPoint(v,b.pos.toClientCoordinates())),w.type===1){const E=v.viewModel.getInjectedTextAt(w.position),I=v.viewModel.normalizePosition(w.position,2);(E||!I.equals(w.position))&&(w=new s(I,w.spanNode,E))}return w}}e.MouseTargetFactory=l;function u(g,v,b){const w=document.createRange();let E=g.elementFromPoint(v,b);if(E!==null){for(;E&&E.firstChild&&E.firstChild.nodeType!==E.firstChild.TEXT_NODE&&E.lastChild&&E.lastChild.firstChild;)E=E.lastChild;const I=E.getBoundingClientRect(),T=window.getComputedStyle(E,null).getPropertyValue("font-style"),P=window.getComputedStyle(E,null).getPropertyValue("font-variant"),A=window.getComputedStyle(E,null).getPropertyValue("font-weight"),M=window.getComputedStyle(E,null).getPropertyValue("font-size"),N=window.getComputedStyle(E,null).getPropertyValue("line-height"),R=window.getComputedStyle(E,null).getPropertyValue("font-family"),F=`${T} ${P} ${A} ${M}/${N} ${R}`,x=E.innerText;let W=I.left,z=0,U;if(v>I.left+I.width)z=x.length;else{const O=C.getInstance();for(let G=0;G<x.length+1;G++){if(U=O.getCharWidth(x.charAt(G),F)/2,W+=U,v<W){z=G;break}W+=U}}w.setStart(E.firstChild,z),w.setEnd(E.firstChild,z)}return w}class C{static getInstance(){return C._INSTANCE||(C._INSTANCE=new C),C._INSTANCE}constructor(){this._cache={},this._canvas=document.createElement("canvas")}getCharWidth(v,b){const w=v+b;if(this._cache[w])return this._cache[w];const E=this._canvas.getContext("2d");E.font=b;const T=E.measureText(v).width;return this._cache[w]=T,T}}C._INSTANCE=null}),define(X[824],ee([1,0,7,73,2,17,351,161,144,11,24,149,74]),function(q,e,L,k,y,D,S,m,_,f,p,s,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MouseHandler=void 0;class i extends s.ViewEventHandler{constructor(c,a,l){super(),this._mouseLeaveMonitor=null,this._context=c,this.viewController=a,this.viewHelper=l,this.mouseTargetFactory=new S.MouseTargetFactory(this._context,l),this._mouseDownOperation=this._register(new o(this._context,this.viewController,this.viewHelper,this.mouseTargetFactory,(g,v)=>this._createMouseTarget(g,v),g=>this._getMouseColumn(g))),this.lastMouseLeaveTime=-1,this._height=this._context.configuration.options.get(141).height;const u=new m.EditorMouseEventFactory(this.viewHelper.viewDomNode);this._register(u.onContextMenu(this.viewHelper.viewDomNode,g=>this._onContextMenu(g,!0))),this._register(u.onMouseMove(this.viewHelper.viewDomNode,g=>{this._onMouseMove(g),this._mouseLeaveMonitor||(this._mouseLeaveMonitor=L.addDisposableListener(document,"mousemove",v=>{this.viewHelper.viewDomNode.contains(v.target)||this._onMouseLeave(new m.EditorMouseEvent(v,!1,this.viewHelper.viewDomNode))}))})),this._register(u.onMouseUp(this.viewHelper.viewDomNode,g=>this._onMouseUp(g))),this._register(u.onMouseLeave(this.viewHelper.viewDomNode,g=>this._onMouseLeave(g)));let C=0;this._register(u.onPointerDown(this.viewHelper.viewDomNode,(g,v)=>{C=v})),this._register(L.addDisposableListener(this.viewHelper.viewDomNode,L.EventType.POINTER_UP,g=>{this._mouseDownOperation.onPointerUp()})),this._register(u.onMouseDown(this.viewHelper.viewDomNode,g=>this._onMouseDown(g,C))),this._setupMouseWheelZoomListener(),this._context.addEventHandler(this)}_setupMouseWheelZoomListener(){const c=t.MouseWheelClassifier.INSTANCE;let a=0,l=_.EditorZoom.getZoomLevel(),u=!1,C=0;const g=b=>{if(this.viewController.emitMouseWheel(b),!this._context.configuration.options.get(73))return;const w=new k.StandardWheelEvent(b);if(c.acceptStandardWheelEvent(w),c.isPhysicalMouseWheel()){if(v(b)){const E=_.EditorZoom.getZoomLevel(),I=w.deltaY>0?1:-1;_.EditorZoom.setZoomLevel(E+I),w.preventDefault(),w.stopPropagation()}}else Date.now()-a>50&&(l=_.EditorZoom.getZoomLevel(),u=v(b),C=0),a=Date.now(),C+=w.deltaY,u&&(_.EditorZoom.setZoomLevel(l+C/5),w.preventDefault(),w.stopPropagation())};this._register(L.addDisposableListener(this.viewHelper.viewDomNode,L.EventType.MOUSE_WHEEL,g,{capture:!0,passive:!1}));function v(b){return D.isMacintosh?(b.metaKey||b.ctrlKey)&&!b.shiftKey&&!b.altKey:b.ctrlKey&&!b.metaKey&&!b.shiftKey&&!b.altKey}}dispose(){this._context.removeEventHandler(this),this._mouseLeaveMonitor&&(this._mouseLeaveMonitor.dispose(),this._mouseLeaveMonitor=null),super.dispose()}onConfigurationChanged(c){if(c.hasChanged(141)){const a=this._context.configuration.options.get(141).height;this._height!==a&&(this._height=a,this._mouseDownOperation.onHeightChanged())}return!1}onCursorStateChanged(c){return this._mouseDownOperation.onCursorStateChanged(c),!1}onFocusChanged(c){return!1}getTargetAtClientPoint(c,a){const u=new m.ClientCoordinates(c,a).toPageCoordinates(),C=(0,m.createEditorPagePosition)(this.viewHelper.viewDomNode);if(u.y<C.y||u.y>C.y+C.height||u.x<C.x||u.x>C.x+C.width)return null;const g=(0,m.createCoordinatesRelativeToEditor)(this.viewHelper.viewDomNode,C,u);return this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),C,u,g,null)}_createMouseTarget(c,a){let l=c.target;if(!this.viewHelper.viewDomNode.contains(l)){const u=L.getShadowRoot(this.viewHelper.viewDomNode);u&&(l=u.elementsFromPoint(c.posx,c.posy).find(C=>this.viewHelper.viewDomNode.contains(C)))}return this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),c.editorPos,c.pos,c.relativePos,a?l:null)}_getMouseColumn(c){return this.mouseTargetFactory.getMouseColumn(c.relativePos)}_onContextMenu(c,a){this.viewController.emitContextMenu({event:c,target:this._createMouseTarget(c,a)})}_onMouseMove(c){this.mouseTargetFactory.mouseTargetIsWidget(c)||c.preventDefault(),!(this._mouseDownOperation.isActive()||c.timestamp<this.lastMouseLeaveTime)&&this.viewController.emitMouseMove({event:c,target:this._createMouseTarget(c,!0)})}_onMouseLeave(c){this._mouseLeaveMonitor&&(this._mouseLeaveMonitor.dispose(),this._mouseLeaveMonitor=null),this.lastMouseLeaveTime=new Date().getTime(),this.viewController.emitMouseLeave({event:c,target:null})}_onMouseUp(c){this.viewController.emitMouseUp({event:c,target:this._createMouseTarget(c,!0)})}_onMouseDown(c,a){const l=this._createMouseTarget(c,!0),u=l.type===6||l.type===7,C=l.type===2||l.type===3||l.type===4,g=l.type===3,v=this._context.configuration.options.get(106),b=l.type===8||l.type===5,w=l.type===9;let E=c.leftButton||c.middleButton;D.isMacintosh&&c.leftButton&&c.ctrlKey&&(E=!1);const I=()=>{c.preventDefault(),this.viewHelper.focusTextArea()};if(E&&(u||g&&v))I(),this._mouseDownOperation.start(l.type,c,a);else if(C)c.preventDefault();else if(b){const T=l.detail;E&&this.viewHelper.shouldSuppressMouseDownOnViewZone(T.viewZoneId)&&(I(),this._mouseDownOperation.start(l.type,c,a),c.preventDefault())}else w&&this.viewHelper.shouldSuppressMouseDownOnWidget(l.detail)&&(I(),c.preventDefault());this.viewController.emitMouseDown({event:c,target:l})}}e.MouseHandler=i;class o extends y.Disposable{constructor(c,a,l,u,C,g){super(),this._context=c,this._viewController=a,this._viewHelper=l,this._mouseTargetFactory=u,this._createMouseTarget=C,this._getMouseColumn=g,this._mouseMoveMonitor=this._register(new m.GlobalEditorPointerMoveMonitor(this._viewHelper.viewDomNode)),this._topBottomDragScrolling=this._register(new r(this._context,this._viewHelper,this._mouseTargetFactory,(v,b,w)=>this._dispatchMouse(v,b,w))),this._mouseState=new h,this._currentSelection=new p.Selection(1,1,1,1),this._isActive=!1,this._lastMouseEvent=null}dispose(){super.dispose()}isActive(){return this._isActive}_onMouseDownThenMove(c){this._lastMouseEvent=c,this._mouseState.setModifiers(c);const a=this._findMousePosition(c,!1);a&&(this._mouseState.isDragAndDrop?this._viewController.emitMouseDrag({event:c,target:a}):a.type===13&&(a.outsidePosition==="above"||a.outsidePosition==="below")?this._topBottomDragScrolling.start(a,c):(this._topBottomDragScrolling.stop(),this._dispatchMouse(a,!0,1)))}start(c,a,l){this._lastMouseEvent=a,this._mouseState.setStartedOnLineNumbers(c===3),this._mouseState.setStartButtons(a),this._mouseState.setModifiers(a);const u=this._findMousePosition(a,!0);if(!u||!u.position)return;this._mouseState.trySetCount(a.detail,u.position),a.detail=this._mouseState.count;const C=this._context.configuration.options;if(!C.get(88)&&C.get(33)&&!C.get(20)&&!this._mouseState.altKey&&a.detail<2&&!this._isActive&&!this._currentSelection.isEmpty()&&u.type===6&&u.position&&this._currentSelection.containsPosition(u.position)){this._mouseState.isDragAndDrop=!0,this._isActive=!0,this._mouseMoveMonitor.startMonitoring(this._viewHelper.viewLinesDomNode,l,a.buttons,g=>this._onMouseDownThenMove(g),g=>{const v=this._findMousePosition(this._lastMouseEvent,!1);g&&g instanceof KeyboardEvent?this._viewController.emitMouseDropCanceled():this._viewController.emitMouseDrop({event:this._lastMouseEvent,target:v?this._createMouseTarget(this._lastMouseEvent,!0):null}),this._stop()});return}this._mouseState.isDragAndDrop=!1,this._dispatchMouse(u,a.shiftKey,1),this._isActive||(this._isActive=!0,this._mouseMoveMonitor.startMonitoring(this._viewHelper.viewLinesDomNode,l,a.buttons,g=>this._onMouseDownThenMove(g),()=>this._stop()))}_stop(){this._isActive=!1,this._topBottomDragScrolling.stop()}onHeightChanged(){this._mouseMoveMonitor.stopMonitoring()}onPointerUp(){this._mouseMoveMonitor.stopMonitoring()}onCursorStateChanged(c){this._currentSelection=c.selections[0]}_getPositionOutsideEditor(c){const a=c.editorPos,l=this._context.viewModel,u=this._context.viewLayout,C=this._getMouseColumn(c);if(c.posy<a.y){const v=a.y-c.posy,b=Math.max(u.getCurrentScrollTop()-v,0),w=S.HitTestContext.getZoneAtCoord(this._context,b);if(w){const I=this._helpPositionJumpOverViewZone(w);if(I)return S.MouseTarget.createOutsideEditor(C,I,"above",v)}const E=u.getLineNumberAtVerticalOffset(b);return S.MouseTarget.createOutsideEditor(C,new f.Position(E,1),"above",v)}if(c.posy>a.y+a.height){const v=c.posy-a.y-a.height,b=u.getCurrentScrollTop()+c.relativePos.y,w=S.HitTestContext.getZoneAtCoord(this._context,b);if(w){const I=this._helpPositionJumpOverViewZone(w);if(I)return S.MouseTarget.createOutsideEditor(C,I,"below",v)}const E=u.getLineNumberAtVerticalOffset(b);return S.MouseTarget.createOutsideEditor(C,new f.Position(E,l.getLineMaxColumn(E)),"below",v)}const g=u.getLineNumberAtVerticalOffset(u.getCurrentScrollTop()+c.relativePos.y);if(c.posx<a.x){const v=a.x-c.posx;return S.MouseTarget.createOutsideEditor(C,new f.Position(g,1),"left",v)}if(c.posx>a.x+a.width){const v=c.posx-a.x-a.width;return S.MouseTarget.createOutsideEditor(C,new f.Position(g,l.getLineMaxColumn(g)),"right",v)}return null}_findMousePosition(c,a){const l=this._getPositionOutsideEditor(c);if(l)return l;const u=this._createMouseTarget(c,a);if(!u.position)return null;if(u.type===8||u.type===5){const g=this._helpPositionJumpOverViewZone(u.detail);if(g)return S.MouseTarget.createViewZone(u.type,u.element,u.mouseColumn,g,u.detail)}return u}_helpPositionJumpOverViewZone(c){const a=new f.Position(this._currentSelection.selectionStartLineNumber,this._currentSelection.selectionStartColumn),l=c.positionBefore,u=c.positionAfter;return l&&u?l.isBefore(a)?l:u:null}_dispatchMouse(c,a,l){c.position&&this._viewController.dispatchMouse({position:c.position,mouseColumn:c.mouseColumn,startedOnLineNumbers:this._mouseState.startedOnLineNumbers,revealType:l,inSelectionMode:a,mouseDownCount:this._mouseState.count,altKey:this._mouseState.altKey,ctrlKey:this._mouseState.ctrlKey,metaKey:this._mouseState.metaKey,shiftKey:this._mouseState.shiftKey,leftButton:this._mouseState.leftButton,middleButton:this._mouseState.middleButton,onInjectedText:c.type===6&&c.detail.injectedText!==null})}}class r extends y.Disposable{constructor(c,a,l,u){super(),this._context=c,this._viewHelper=a,this._mouseTargetFactory=l,this._dispatchMouse=u,this._operation=null}dispose(){super.dispose(),this.stop()}start(c,a){this._operation?this._operation.setPosition(c,a):this._operation=new d(this._context,this._viewHelper,this._mouseTargetFactory,this._dispatchMouse,c,a)}stop(){this._operation&&(this._operation.dispose(),this._operation=null)}}class d extends y.Disposable{constructor(c,a,l,u,C,g){super(),this._context=c,this._viewHelper=a,this._mouseTargetFactory=l,this._dispatchMouse=u,this._position=C,this._mouseEvent=g,this._lastTime=Date.now(),this._animationFrameDisposable=L.scheduleAtNextAnimationFrame(()=>this._execute())}dispose(){this._animationFrameDisposable.dispose()}setPosition(c,a){this._position=c,this._mouseEvent=a}_tick(){const c=Date.now(),a=c-this._lastTime;return this._lastTime=c,a}_getScrollSpeed(){const c=this._context.configuration.options.get(64),a=this._context.configuration.options.get(141).height/c,l=this._position.outsideDistance/c;return l<=1.5?Math.max(30,a*(1+l)):l<=3?Math.max(60,a*(2+l)):Math.max(200,a*(7+l))}_execute(){const c=this._context.configuration.options.get(64),a=this._getScrollSpeed(),l=this._tick(),u=a*(l/1e3)*c,C=this._position.outsidePosition==="above"?-u:u;this._context.viewModel.viewLayout.deltaScrollNow(0,C),this._viewHelper.renderNow();const g=this._context.viewLayout.getLinesViewportData(),v=this._position.outsidePosition==="above"?g.startLineNumber:g.endLineNumber;let b;{const w=(0,m.createEditorPagePosition)(this._viewHelper.viewDomNode),E=this._context.configuration.options.get(141).horizontalScrollbarHeight,I=new m.PageCoordinates(this._mouseEvent.pos.x,w.y+w.height-E-.1),T=(0,m.createCoordinatesRelativeToEditor)(this._viewHelper.viewDomNode,w,I);b=this._mouseTargetFactory.createMouseTarget(this._viewHelper.getLastRenderData(),w,I,T,null)}(!b.position||b.position.lineNumber!==v)&&(this._position.outsidePosition==="above"?b=S.MouseTarget.createOutsideEditor(this._position.mouseColumn,new f.Position(v,1),"above",this._position.outsideDistance):b=S.MouseTarget.createOutsideEditor(this._position.mouseColumn,new f.Position(v,this._context.viewModel.getLineMaxColumn(v)),"below",this._position.outsideDistance)),this._dispatchMouse(b,!0,2),this._animationFrameDisposable=L.scheduleAtNextAnimationFrame(()=>this._execute())}}class h{get altKey(){return this._altKey}get ctrlKey(){return this._ctrlKey}get metaKey(){return this._metaKey}get shiftKey(){return this._shiftKey}get leftButton(){return this._leftButton}get middleButton(){return this._middleButton}get startedOnLineNumbers(){return this._startedOnLineNumbers}constructor(){this._altKey=!1,this._ctrlKey=!1,this._metaKey=!1,this._shiftKey=!1,this._leftButton=!1,this._middleButton=!1,this._startedOnLineNumbers=!1,this._lastMouseDownPosition=null,this._lastMouseDownPositionEqualCount=0,this._lastMouseDownCount=0,this._lastSetMouseDownCountTime=0,this.isDragAndDrop=!1}get count(){return this._lastMouseDownCount}setModifiers(c){this._altKey=c.altKey,this._ctrlKey=c.ctrlKey,this._metaKey=c.metaKey,this._shiftKey=c.shiftKey}setStartButtons(c){this._leftButton=c.leftButton,this._middleButton=c.middleButton}setStartedOnLineNumbers(c){this._startedOnLineNumbers=c}trySetCount(c,a){const l=new Date().getTime();l-this._lastSetMouseDownCountTime>h.CLEAR_MOUSE_DOWN_COUNT_TIME&&(c=1),this._lastSetMouseDownCountTime=l,c>this._lastMouseDownCount+1&&(c=this._lastMouseDownCount+1),this._lastMouseDownPosition&&this._lastMouseDownPosition.equals(a)?this._lastMouseDownPositionEqualCount++:this._lastMouseDownPositionEqualCount=1,this._lastMouseDownPosition=a,this._lastMouseDownCount=Math.min(c,this._lastMouseDownPositionEqualCount)}}h.CLEAR_MOUSE_DOWN_COUNT_TIME=400}),define(X[825],ee([1,0,7,17,60,2,824,161,217,229]),function(q,e,L,k,y,D,S,m,_,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PointerHandler=e.PointerEventHandler=void 0;class p extends S.MouseHandler{constructor(o,r,d){super(o,r,d),this._register(y.Gesture.addTarget(this.viewHelper.linesContentDomNode)),this._register(L.addDisposableListener(this.viewHelper.linesContentDomNode,y.EventType.Tap,n=>this.onTap(n))),this._register(L.addDisposableListener(this.viewHelper.linesContentDomNode,y.EventType.Change,n=>this.onChange(n))),this._register(L.addDisposableListener(this.viewHelper.linesContentDomNode,y.EventType.Contextmenu,n=>this._onContextMenu(new m.EditorMouseEvent(n,!1,this.viewHelper.viewDomNode),!1))),this._lastPointerType="mouse",this._register(L.addDisposableListener(this.viewHelper.linesContentDomNode,"pointerdown",n=>{const c=n.pointerType;if(c==="mouse"){this._lastPointerType="mouse";return}else c==="touch"?this._lastPointerType="touch":this._lastPointerType="pen"}));const h=new m.EditorPointerEventFactory(this.viewHelper.viewDomNode);this._register(h.onPointerMove(this.viewHelper.viewDomNode,n=>this._onMouseMove(n))),this._register(h.onPointerUp(this.viewHelper.viewDomNode,n=>this._onMouseUp(n))),this._register(h.onPointerLeave(this.viewHelper.viewDomNode,n=>this._onMouseLeave(n))),this._register(h.onPointerDown(this.viewHelper.viewDomNode,(n,c)=>this._onMouseDown(n,c)))}onTap(o){if(!o.initialTarget||!this.viewHelper.linesContentDomNode.contains(o.initialTarget))return;o.preventDefault(),this.viewHelper.focusTextArea();const r=this._createMouseTarget(new m.EditorMouseEvent(o,!1,this.viewHelper.viewDomNode),!1);r.position&&this.viewController.dispatchMouse({position:r.position,mouseColumn:r.position.column,startedOnLineNumbers:!1,revealType:1,mouseDownCount:o.tapCount,inSelectionMode:!1,altKey:!1,ctrlKey:!1,metaKey:!1,shiftKey:!1,leftButton:!1,middleButton:!1,onInjectedText:r.type===6&&r.detail.injectedText!==null})}onChange(o){this._lastPointerType==="touch"&&this._context.viewModel.viewLayout.deltaScrollNow(-o.translationX,-o.translationY)}_onMouseDown(o,r){o.browserEvent.pointerType!=="touch"&&super._onMouseDown(o,r)}}e.PointerEventHandler=p;class s extends S.MouseHandler{constructor(o,r,d){super(o,r,d),this._register(y.Gesture.addTarget(this.viewHelper.linesContentDomNode)),this._register(L.addDisposableListener(this.viewHelper.linesContentDomNode,y.EventType.Tap,h=>this.onTap(h))),this._register(L.addDisposableListener(this.viewHelper.linesContentDomNode,y.EventType.Change,h=>this.onChange(h))),this._register(L.addDisposableListener(this.viewHelper.linesContentDomNode,y.EventType.Contextmenu,h=>this._onContextMenu(new m.EditorMouseEvent(h,!1,this.viewHelper.viewDomNode),!1)))}onTap(o){o.preventDefault(),this.viewHelper.focusTextArea();const r=this._createMouseTarget(new m.EditorMouseEvent(o,!1,this.viewHelper.viewDomNode),!1);if(r.position){const d=document.createEvent("CustomEvent");d.initEvent(f.TextAreaSyntethicEvents.Tap,!1,!0),this.viewHelper.dispatchTextAreaEvent(d),this.viewController.moveTo(r.position,1)}}onChange(o){this._context.viewModel.viewLayout.deltaScrollNow(-o.translationX,-o.translationY)}}class t extends D.Disposable{constructor(o,r,d){super(),k.isIOS&&_.BrowserFeatures.pointerEvents?this.handler=this._register(new p(o,r,d)):window.TouchEvent?this.handler=this._register(new s(o,r,d)):this.handler=this._register(new S.MouseHandler(o,r,d))}getTargetAtClientPoint(o,r){return this.handler.getTargetAtClientPoint(o,r)}}e.PointerHandler=t}),define(X[826],ee([1,0,175,14,17,59,142,230,52,472,350,11,5,416]),function(q,e,L,k,y,D,S,m,_,f,p,s,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewLines=void 0;class i{constructor(){this._currentVisibleRange=new t.Range(1,1,1,1)}getCurrentVisibleRange(){return this._currentVisibleRange}setCurrentVisibleRange(n){this._currentVisibleRange=n}}class o{constructor(n,c,a,l,u,C,g){this.minimalReveal=n,this.lineNumber=c,this.startColumn=a,this.endColumn=l,this.startScrollTop=u,this.stopScrollTop=C,this.scrollType=g,this.type="range",this.minLineNumber=c,this.maxLineNumber=c}}class r{constructor(n,c,a,l,u){this.minimalReveal=n,this.selections=c,this.startScrollTop=a,this.stopScrollTop=l,this.scrollType=u,this.type="selections";let C=c[0].startLineNumber,g=c[0].endLineNumber;for(let v=1,b=c.length;v<b;v++){const w=c[v];C=Math.min(C,w.startLineNumber),g=Math.max(g,w.endLineNumber)}this.minLineNumber=C,this.maxLineNumber=g}}class d extends _.ViewPart{constructor(n,c){super(n),this._linesContent=c,this._textRangeRestingSpot=document.createElement("div"),this._visibleLines=new m.VisibleLinesCollection(this),this.domNode=this._visibleLines.domNode;const a=this._context.configuration,l=this._context.configuration.options,u=l.get(48),C=l.get(142);this._lineHeight=l.get(64),this._typicalHalfwidthCharacterWidth=u.typicalHalfwidthCharacterWidth,this._isViewportWrapping=C.isViewportWrapping,this._revealHorizontalRightPadding=l.get(97),this._cursorSurroundingLines=l.get(27),this._cursorSurroundingLinesStyle=l.get(28),this._canUseLayerHinting=!l.get(30),this._viewLineOptions=new p.ViewLineOptions(a,this._context.theme.type),_.PartFingerprints.write(this.domNode,7),this.domNode.setClassName(`view-lines ${L.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME}`),(0,D.applyFontInfo)(this.domNode,u),this._maxLineWidth=0,this._asyncUpdateLineWidths=new k.RunOnceScheduler(()=>{this._updateLineWidthsSlow()},200),this._asyncCheckMonospaceFontAssumptions=new k.RunOnceScheduler(()=>{this._checkMonospaceFontAssumptions()},2e3),this._lastRenderedData=new i,this._horizontalRevealRequest=null,this._stickyScrollEnabled=l.get(112).enabled,this._maxNumberStickyLines=l.get(112).maxLineCount}dispose(){this._asyncUpdateLineWidths.dispose(),this._asyncCheckMonospaceFontAssumptions.dispose(),super.dispose()}getDomNode(){return this.domNode}createVisibleLine(){return new p.ViewLine(this._viewLineOptions)}onConfigurationChanged(n){this._visibleLines.onConfigurationChanged(n),n.hasChanged(142)&&(this._maxLineWidth=0);const c=this._context.configuration.options,a=c.get(48),l=c.get(142);return this._lineHeight=c.get(64),this._typicalHalfwidthCharacterWidth=a.typicalHalfwidthCharacterWidth,this._isViewportWrapping=l.isViewportWrapping,this._revealHorizontalRightPadding=c.get(97),this._cursorSurroundingLines=c.get(27),this._cursorSurroundingLinesStyle=c.get(28),this._canUseLayerHinting=!c.get(30),this._stickyScrollEnabled=c.get(112).enabled,this._maxNumberStickyLines=c.get(112).maxLineCount,(0,D.applyFontInfo)(this.domNode,a),this._onOptionsMaybeChanged(),n.hasChanged(141)&&(this._maxLineWidth=0),!0}_onOptionsMaybeChanged(){const n=this._context.configuration,c=new p.ViewLineOptions(n,this._context.theme.type);if(!this._viewLineOptions.equals(c)){this._viewLineOptions=c;const a=this._visibleLines.getStartLineNumber(),l=this._visibleLines.getEndLineNumber();for(let u=a;u<=l;u++)this._visibleLines.getVisibleLine(u).onOptionsChanged(this._viewLineOptions);return!0}return!1}onCursorStateChanged(n){const c=this._visibleLines.getStartLineNumber(),a=this._visibleLines.getEndLineNumber();let l=!1;for(let u=c;u<=a;u++)l=this._visibleLines.getVisibleLine(u).onSelectionChanged()||l;return l}onDecorationsChanged(n){{const c=this._visibleLines.getStartLineNumber(),a=this._visibleLines.getEndLineNumber();for(let l=c;l<=a;l++)this._visibleLines.getVisibleLine(l).onDecorationsChanged()}return!0}onFlushed(n){const c=this._visibleLines.onFlushed(n);return this._maxLineWidth=0,c}onLinesChanged(n){return this._visibleLines.onLinesChanged(n)}onLinesDeleted(n){return this._visibleLines.onLinesDeleted(n)}onLinesInserted(n){return this._visibleLines.onLinesInserted(n)}onRevealRangeRequest(n){const c=this._computeScrollTopToRevealRange(this._context.viewLayout.getFutureViewport(),n.source,n.minimalReveal,n.range,n.selections,n.verticalType);if(c===-1)return!1;let a=this._context.viewLayout.validateScrollPosition({scrollTop:c});n.revealHorizontal?n.range&&n.range.startLineNumber!==n.range.endLineNumber?a={scrollTop:a.scrollTop,scrollLeft:0}:n.range?this._horizontalRevealRequest=new o(n.minimalReveal,n.range.startLineNumber,n.range.startColumn,n.range.endColumn,this._context.viewLayout.getCurrentScrollTop(),a.scrollTop,n.scrollType):n.selections&&n.selections.length>0&&(this._horizontalRevealRequest=new r(n.minimalReveal,n.selections,this._context.viewLayout.getCurrentScrollTop(),a.scrollTop,n.scrollType)):this._horizontalRevealRequest=null;const u=Math.abs(this._context.viewLayout.getCurrentScrollTop()-a.scrollTop)<=this._lineHeight?1:n.scrollType;return this._context.viewModel.viewLayout.setScrollPosition(a,u),!0}onScrollChanged(n){if(this._horizontalRevealRequest&&n.scrollLeftChanged&&(this._horizontalRevealRequest=null),this._horizontalRevealRequest&&n.scrollTopChanged){const c=Math.min(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop),a=Math.max(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop);(n.scrollTop<c||n.scrollTop>a)&&(this._horizontalRevealRequest=null)}return this.domNode.setWidth(n.scrollWidth),this._visibleLines.onScrollChanged(n)||!0}onTokensChanged(n){return this._visibleLines.onTokensChanged(n)}onZonesChanged(n){return this._context.viewModel.viewLayout.setMaxLineWidth(this._maxLineWidth),this._visibleLines.onZonesChanged(n)}onThemeChanged(n){return this._onOptionsMaybeChanged()}getPositionFromDOMInfo(n,c){const a=this._getViewLineDomNode(n);if(a===null)return null;const l=this._getLineNumberFor(a);if(l===-1||l<1||l>this._context.viewModel.getLineCount())return null;if(this._context.viewModel.getLineMaxColumn(l)===1)return new s.Position(l,1);const u=this._visibleLines.getStartLineNumber(),C=this._visibleLines.getEndLineNumber();if(l<u||l>C)return null;let g=this._visibleLines.getVisibleLine(l).getColumnOfNodeOffset(l,n,c);const v=this._context.viewModel.getLineMinColumn(l);return g<v&&(g=v),new s.Position(l,g)}_getViewLineDomNode(n){for(;n&&n.nodeType===1;){if(n.className===p.ViewLine.CLASS_NAME)return n;n=n.parentElement}return null}_getLineNumberFor(n){const c=this._visibleLines.getStartLineNumber(),a=this._visibleLines.getEndLineNumber();for(let l=c;l<=a;l++){const u=this._visibleLines.getVisibleLine(l);if(n===u.getDomNode())return l}return-1}getLineWidth(n){const c=this._visibleLines.getStartLineNumber(),a=this._visibleLines.getEndLineNumber();if(n<c||n>a)return-1;const l=new f.DomReadingContext(this.domNode.domNode,this._textRangeRestingSpot),u=this._visibleLines.getVisibleLine(n).getWidth(l);return this._updateLineWidthsSlowIfDomDidLayout(l),u}linesVisibleRangesForRange(n,c){if(this.shouldRender())return null;const a=n.endLineNumber,l=t.Range.intersectRanges(n,this._lastRenderedData.getCurrentVisibleRange());if(!l)return null;const u=[];let C=0;const g=new f.DomReadingContext(this.domNode.domNode,this._textRangeRestingSpot);let v=0;c&&(v=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new s.Position(l.startLineNumber,1)).lineNumber);const b=this._visibleLines.getStartLineNumber(),w=this._visibleLines.getEndLineNumber();for(let E=l.startLineNumber;E<=l.endLineNumber;E++){if(E<b||E>w)continue;const I=E===l.startLineNumber?l.startColumn:1,T=E!==l.endLineNumber,P=T?this._context.viewModel.getLineMaxColumn(E):l.endColumn,A=this._visibleLines.getVisibleLine(E).getVisibleRangesForRange(E,I,P,g);if(A){if(c&&E<a){const M=v;v=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new s.Position(E+1,1)).lineNumber,M!==v&&(A.ranges[A.ranges.length-1].width+=this._typicalHalfwidthCharacterWidth)}u[C++]=new S.LineVisibleRanges(A.outsideRenderedLine,E,S.HorizontalRange.from(A.ranges),T)}}return this._updateLineWidthsSlowIfDomDidLayout(g),C===0?null:u}_visibleRangesForLineRange(n,c,a){if(this.shouldRender()||n<this._visibleLines.getStartLineNumber()||n>this._visibleLines.getEndLineNumber())return null;const l=new f.DomReadingContext(this.domNode.domNode,this._textRangeRestingSpot),u=this._visibleLines.getVisibleLine(n).getVisibleRangesForRange(n,c,a,l);return this._updateLineWidthsSlowIfDomDidLayout(l),u}visibleRangeForPosition(n){const c=this._visibleRangesForLineRange(n.lineNumber,n.column,n.column);return c?new S.HorizontalPosition(c.outsideRenderedLine,c.ranges[0].left):null}_updateLineWidthsFast(){return this._updateLineWidths(!0)}_updateLineWidthsSlow(){this._updateLineWidths(!1)}_updateLineWidthsSlowIfDomDidLayout(n){n.didDomLayout&&(this._asyncUpdateLineWidths.isScheduled()||(this._asyncUpdateLineWidths.cancel(),this._updateLineWidthsSlow()))}_updateLineWidths(n){const c=this._visibleLines.getStartLineNumber(),a=this._visibleLines.getEndLineNumber();let l=1,u=!0;for(let C=c;C<=a;C++){const g=this._visibleLines.getVisibleLine(C);if(n&&!g.getWidthIsFast()){u=!1;continue}l=Math.max(l,g.getWidth(null))}return u&&c===1&&a===this._context.viewModel.getLineCount()&&(this._maxLineWidth=0),this._ensureMaxLineWidth(l),u}_checkMonospaceFontAssumptions(){let n=-1,c=-1;const a=this._visibleLines.getStartLineNumber(),l=this._visibleLines.getEndLineNumber();for(let u=a;u<=l;u++){const C=this._visibleLines.getVisibleLine(u);if(C.needsMonospaceFontCheck()){const g=C.getWidth(null);g>c&&(c=g,n=u)}}if(n!==-1&&!this._visibleLines.getVisibleLine(n).monospaceAssumptionsAreValid())for(let u=a;u<=l;u++)this._visibleLines.getVisibleLine(u).onMonospaceAssumptionsInvalidated()}prepareRender(){throw new Error("Not supported")}render(){throw new Error("Not supported")}renderText(n){if(this._visibleLines.renderLines(n),this._lastRenderedData.setCurrentVisibleRange(n.visibleRange),this.domNode.setWidth(this._context.viewLayout.getScrollWidth()),this.domNode.setHeight(Math.min(this._context.viewLayout.getScrollHeight(),1e6)),this._horizontalRevealRequest){const a=this._horizontalRevealRequest;if(n.startLineNumber<=a.minLineNumber&&a.maxLineNumber<=n.endLineNumber){this._horizontalRevealRequest=null,this.onDidRender();const l=this._computeScrollLeftToReveal(a);l&&(this._isViewportWrapping||this._ensureMaxLineWidth(l.maxHorizontalOffset),this._context.viewModel.viewLayout.setScrollPosition({scrollLeft:l.scrollLeft},a.scrollType))}}if(this._updateLineWidthsFast()?this._asyncUpdateLineWidths.cancel():this._asyncUpdateLineWidths.schedule(),y.isLinux&&!this._asyncCheckMonospaceFontAssumptions.isScheduled()){const a=this._visibleLines.getStartLineNumber(),l=this._visibleLines.getEndLineNumber();for(let u=a;u<=l;u++)if(this._visibleLines.getVisibleLine(u).needsMonospaceFontCheck()){this._asyncCheckMonospaceFontAssumptions.schedule();break}}this._linesContent.setLayerHinting(this._canUseLayerHinting),this._linesContent.setContain("strict");const c=this._context.viewLayout.getCurrentScrollTop()-n.bigNumbersDelta;this._linesContent.setTop(-c),this._linesContent.setLeft(-this._context.viewLayout.getCurrentScrollLeft())}_ensureMaxLineWidth(n){const c=Math.ceil(n);this._maxLineWidth<c&&(this._maxLineWidth=c,this._context.viewModel.viewLayout.setMaxLineWidth(this._maxLineWidth))}_computeScrollTopToRevealRange(n,c,a,l,u,C){const g=n.top,v=n.height,b=g+v;let w,E,I;if(u&&u.length>0){let N=u[0].startLineNumber,R=u[0].endLineNumber;for(let F=1,x=u.length;F<x;F++){const W=u[F];N=Math.min(N,W.startLineNumber),R=Math.max(R,W.endLineNumber)}w=!1,E=this._context.viewLayout.getVerticalOffsetForLineNumber(N),I=this._context.viewLayout.getVerticalOffsetForLineNumber(R)+this._lineHeight}else if(l)w=!0,E=this._context.viewLayout.getVerticalOffsetForLineNumber(l.startLineNumber),I=this._context.viewLayout.getVerticalOffsetForLineNumber(l.endLineNumber)+this._lineHeight;else return-1;const T=(c==="mouse"||a)&&this._cursorSurroundingLinesStyle==="default";let P=0,A=0;if(T)a||(P=this._lineHeight);else{const N=Math.min(v/this._lineHeight/2,this._cursorSurroundingLines);this._stickyScrollEnabled?P=Math.max(N,this._maxNumberStickyLines)*this._lineHeight:P=N*this._lineHeight,A=Math.max(0,N-1)*this._lineHeight}a||(C===0||C===4)&&(A+=this._lineHeight),E-=P,I+=A;let M;if(I-E>v){if(!w)return-1;M=E}else if(C===5||C===6)if(C===6&&g<=E&&I<=b)M=g;else{const N=Math.max(5*this._lineHeight,v*.2),R=E-N,F=I-v;M=Math.max(F,R)}else if(C===1||C===2)if(C===2&&g<=E&&I<=b)M=g;else{const N=(E+I)/2;M=Math.max(0,N-v/2)}else M=this._computeMinimumScrolling(g,b,E,I,C===3,C===4);return M}_computeScrollLeftToReveal(n){const c=this._context.viewLayout.getCurrentViewport(),a=this._context.configuration.options.get(141),l=c.left,u=l+c.width-a.verticalScrollbarWidth;let C=1073741824,g=0;if(n.type==="range"){const b=this._visibleRangesForLineRange(n.lineNumber,n.startColumn,n.endColumn);if(!b)return null;for(const w of b.ranges)C=Math.min(C,Math.round(w.left)),g=Math.max(g,Math.round(w.left+w.width))}else for(const b of n.selections){if(b.startLineNumber!==b.endLineNumber)return null;const w=this._visibleRangesForLineRange(b.startLineNumber,b.startColumn,b.endColumn);if(!w)return null;for(const E of w.ranges)C=Math.min(C,Math.round(E.left)),g=Math.max(g,Math.round(E.left+E.width))}return n.minimalReveal||(C=Math.max(0,C-d.HORIZONTAL_EXTRA_PX),g+=this._revealHorizontalRightPadding),n.type==="selections"&&g-C>c.width?null:{scrollLeft:this._computeMinimumScrolling(l,u,C,g),maxHorizontalOffset:g}}_computeMinimumScrolling(n,c,a,l,u,C){n=n|0,c=c|0,a=a|0,l=l|0,u=!!u,C=!!C;const g=c-n;if(l-a<g){if(u)return a;if(C)return Math.max(0,l-g);if(a<n)return a;if(l>c)return Math.max(0,l-g)}else return a;return n}}e.ViewLines=d,d.HORIZONTAL_EXTRA_PX=30}),define(X[827],ee([1,0,7,45,67,226,222,16,14,380,104,12,6,118,2,17,9,18,723,333,99,21,88,176]),function(q,e,L,k,y,D,S,m,_,f,p,s,t,i,o,r,d,h,n,c,a,l,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickInputList=e.QuickInputListFocus=void 0;const C=L.$;class g{constructor(N,R,F,x,W,z,U){var O,G,Q;this._checked=!1,this._hidden=!1,this.hasCheckbox=x,this.index=F,this.fireButtonTriggered=W,this.fireSeparatorButtonTriggered=z,this._onChecked=U,this.onChecked=x?t.Event.map(t.Event.filter(this._onChecked.event,re=>re.listElement===this),re=>re.checked):t.Event.None,N.type==="separator"?this._separator=N:(this.item=N,R&&R.type==="separator"&&!R.buttons&&(this._separator=R),this.saneDescription=this.item.description,this.saneDetail=this.item.detail,this._labelHighlights=(O=this.item.highlights)===null||O===void 0?void 0:O.label,this._descriptionHighlights=(G=this.item.highlights)===null||G===void 0?void 0:G.description,this._detailHighlights=(Q=this.item.highlights)===null||Q===void 0?void 0:Q.detail,this.saneTooltip=this.item.tooltip),this._init=new a.Lazy(()=>{var re;const oe=(re=N.label)!==null&&re!==void 0?re:"",te=(0,i.parseLabelWithIcons)(oe).text.trim(),H=N.ariaLabel||[oe,this.saneDescription,this.saneDetail].map(B=>(0,i.getCodiconAriaLabel)(B)).filter(B=>!!B).join(", ");return{saneLabel:oe,saneSortLabel:te,saneAriaLabel:H}})}get saneLabel(){return this._init.value.saneLabel}get saneSortLabel(){return this._init.value.saneSortLabel}get saneAriaLabel(){return this._init.value.saneAriaLabel}get element(){return this._element}set element(N){this._element=N}get hidden(){return this._hidden}set hidden(N){this._hidden=N}get checked(){return this._checked}set checked(N){N!==this._checked&&(this._checked=N,this._onChecked.fire({listElement:this,checked:N}))}get separator(){return this._separator}set separator(N){this._separator=N}get labelHighlights(){return this._labelHighlights}set labelHighlights(N){this._labelHighlights=N}get descriptionHighlights(){return this._descriptionHighlights}set descriptionHighlights(N){this._descriptionHighlights=N}get detailHighlights(){return this._detailHighlights}set detailHighlights(N){this._detailHighlights=N}}class v{constructor(N){this.colorScheme=N}get templateId(){return v.ID}renderTemplate(N){const R=Object.create(null);R.toDisposeElement=[],R.toDisposeTemplate=[],R.entry=L.append(N,C(".quick-input-list-entry"));const F=L.append(R.entry,C("label.quick-input-list-label"));R.toDisposeTemplate.push(L.addStandardDisposableListener(F,L.EventType.CLICK,G=>{R.checkbox.offsetParent||G.preventDefault()})),R.checkbox=L.append(F,C("input.quick-input-list-checkbox")),R.checkbox.type="checkbox",R.toDisposeTemplate.push(L.addStandardDisposableListener(R.checkbox,L.EventType.CHANGE,G=>{R.element.checked=R.checkbox.checked}));const x=L.append(F,C(".quick-input-list-rows")),W=L.append(x,C(".quick-input-list-row")),z=L.append(x,C(".quick-input-list-row"));R.label=new D.IconLabel(W,{supportHighlights:!0,supportDescriptionHighlights:!0,supportIcons:!0}),R.icon=L.prepend(R.label.element,C(".quick-input-list-icon"));const U=L.append(W,C(".quick-input-list-entry-keybinding"));R.keybinding=new S.KeybindingLabel(U,r.OS);const O=L.append(z,C(".quick-input-list-label-meta"));return R.detail=new D.IconLabel(O,{supportHighlights:!0,supportIcons:!0}),R.separator=L.append(R.entry,C(".quick-input-list-separator")),R.actionBar=new y.ActionBar(R.entry),R.actionBar.domNode.classList.add("quick-input-list-entry-action-bar"),R.toDisposeTemplate.push(R.actionBar),R}renderElement(N,R,F){var x,W,z;F.element=N,N.element=(0,h.withNullAsUndefined)(F.entry);const U=N.item?N.item:N.separator;F.checkbox.checked=N.checked,F.toDisposeElement.push(N.onChecked(te=>F.checkbox.checked=te));const{labelHighlights:O,descriptionHighlights:G,detailHighlights:Q}=N;if(!((x=N.item)===null||x===void 0)&&x.iconPath){const te=(0,u.isDark)(this.colorScheme)?N.item.iconPath.dark:(W=N.item.iconPath.light)!==null&&W!==void 0?W:N.item.iconPath.dark,H=l.URI.revive(te);F.icon.className="quick-input-list-icon",F.icon.style.backgroundImage=L.asCSSUrl(H)}else F.icon.style.backgroundImage="",F.icon.className=!((z=N.item)===null||z===void 0)&&z.iconClass?`quick-input-list-icon ${N.item.iconClass}`:"";const re={matches:O||[],descriptionTitle:N.saneDescription,descriptionMatches:G||[],labelEscapeNewLines:!0};U.type!=="separator"?(re.extraClasses=U.iconClasses,re.italic=U.italic,re.strikethrough=U.strikethrough,F.entry.classList.remove("quick-input-list-separator-as-item")):F.entry.classList.add("quick-input-list-separator-as-item"),F.label.setLabel(N.saneLabel,N.saneDescription,re),F.keybinding.set(U.type==="separator"?void 0:U.keybinding),N.saneDetail?(F.detail.element.style.display="",F.detail.setLabel(N.saneDetail,void 0,{matches:Q,title:N.saneDetail,labelEscapeNewLines:!0})):F.detail.element.style.display="none",N.item&&N.separator&&N.separator.label?(F.separator.textContent=N.separator.label,F.separator.style.display=""):F.separator.style.display="none",F.entry.classList.toggle("quick-input-list-separator-border",!!N.separator);const oe=U.buttons;oe&&oe.length?(F.actionBar.push(oe.map((te,H)=>{let B=te.iconClass||(te.iconPath?(0,c.getIconClass)(te.iconPath):void 0);return te.alwaysVisible&&(B=B?`${B} always-visible`:"always-visible"),{id:`id-${H}`,class:B,enabled:!0,label:"",tooltip:te.tooltip||"",run:()=>{U.type!=="separator"?N.fireButtonTriggered({button:te,item:U}):N.fireSeparatorButtonTriggered({button:te,separator:U})}}}),{icon:!0,label:!1}),F.entry.classList.add("has-actions")):F.entry.classList.remove("has-actions")}disposeElement(N,R,F){F.toDisposeElement=(0,o.dispose)(F.toDisposeElement),F.actionBar.clear()}disposeTemplate(N){N.toDisposeElement=(0,o.dispose)(N.toDisposeElement),N.toDisposeTemplate=(0,o.dispose)(N.toDisposeTemplate)}}v.ID="listelement";class b{getHeight(N){return N.item?N.saneDetail?44:22:24}getTemplateId(N){return v.ID}}var w;(function(M){M[M.First=1]="First",M[M.Second=2]="Second",M[M.Last=3]="Last",M[M.Next=4]="Next",M[M.Previous=5]="Previous",M[M.NextPage=6]="NextPage",M[M.PreviousPage=7]="PreviousPage"})(w||(e.QuickInputListFocus=w={}));class E{constructor(N,R,F){this.parent=N,this.options=F,this.inputElements=[],this.elements=[],this.elementsToIndexes=new Map,this.matchOnDescription=!1,this.matchOnDetail=!1,this.matchOnLabel=!0,this.matchOnLabelMode="fuzzy",this.sortByLabel=!0,this._onChangedAllVisibleChecked=new t.Emitter,this.onChangedAllVisibleChecked=this._onChangedAllVisibleChecked.event,this._onChangedCheckedCount=new t.Emitter,this.onChangedCheckedCount=this._onChangedCheckedCount.event,this._onChangedVisibleCount=new t.Emitter,this.onChangedVisibleCount=this._onChangedVisibleCount.event,this._onChangedCheckedElements=new t.Emitter,this.onChangedCheckedElements=this._onChangedCheckedElements.event,this._onButtonTriggered=new t.Emitter,this.onButtonTriggered=this._onButtonTriggered.event,this._onSeparatorButtonTriggered=new t.Emitter,this.onSeparatorButtonTriggered=this._onSeparatorButtonTriggered.event,this._onKeyDown=new t.Emitter,this.onKeyDown=this._onKeyDown.event,this._onLeave=new t.Emitter,this.onLeave=this._onLeave.event,this._listElementChecked=new t.Emitter,this._fireCheckedEvents=!0,this.elementDisposables=[],this.disposables=[],this.id=R,this.container=L.append(this.parent,C(".quick-input-list"));const x=new b,W=new A;this.list=F.createList("QuickInput",this.container,x,[new v(this.options.styles.colorScheme)],{identityProvider:{getId:U=>{var O,G,Q,re,oe,te,H,B;return(B=(te=(re=(G=(O=U.item)===null||O===void 0?void 0:O.id)!==null&&G!==void 0?G:(Q=U.item)===null||Q===void 0?void 0:Q.label)!==null&&re!==void 0?re:(oe=U.separator)===null||oe===void 0?void 0:oe.id)!==null&&te!==void 0?te:(H=U.separator)===null||H===void 0?void 0:H.label)!==null&&B!==void 0?B:""}},setRowLineHeight:!1,multipleSelectionSupport:!1,horizontalScrolling:!1,accessibilityProvider:W}),this.list.getHTMLElement().id=R,this.disposables.push(this.list),this.disposables.push(this.list.onKeyDown(U=>{const O=new k.StandardKeyboardEvent(U);switch(O.keyCode){case 10:this.toggleCheckbox();break;case 31:(r.isMacintosh?U.metaKey:U.ctrlKey)&&this.list.setFocus((0,m.range)(this.list.length));break;case 16:{const G=this.list.getFocus();G.length===1&&G[0]===0&&this._onLeave.fire();break}case 18:{const G=this.list.getFocus();G.length===1&&G[0]===this.list.length-1&&this._onLeave.fire();break}}this._onKeyDown.fire(O)})),this.disposables.push(this.list.onMouseDown(U=>{U.browserEvent.button!==2&&U.browserEvent.preventDefault()})),this.disposables.push(L.addDisposableListener(this.container,L.EventType.CLICK,U=>{(U.x||U.y)&&this._onLeave.fire()})),this.disposables.push(this.list.onMouseMiddleClick(U=>{this._onLeave.fire()})),this.disposables.push(this.list.onContextMenu(U=>{typeof U.index=="number"&&(U.browserEvent.preventDefault(),this.list.setSelection([U.index]))}));const z=new _.ThrottledDelayer(F.hoverDelegate.delay);this.disposables.push(this.list.onMouseOver(U=>Le(this,void 0,void 0,function*(){var O;if(U.browserEvent.target instanceof HTMLAnchorElement){z.cancel();return}if(!(!(U.browserEvent.relatedTarget instanceof HTMLAnchorElement)&&L.isAncestor(U.browserEvent.relatedTarget,(O=U.element)===null||O===void 0?void 0:O.element)))try{yield z.trigger(()=>Le(this,void 0,void 0,function*(){U.element&&this.showHover(U.element)}))}catch(G){if(!(0,s.isCancellationError)(G))throw G}}))),this.disposables.push(this.list.onMouseOut(U=>{var O;L.isAncestor(U.browserEvent.relatedTarget,(O=U.element)===null||O===void 0?void 0:O.element)||z.cancel()})),this.disposables.push(this._listElementChecked.event(U=>this.fireCheckedEvents())),this.disposables.push(this._onChangedAllVisibleChecked,this._onChangedCheckedCount,this._onChangedVisibleCount,this._onChangedCheckedElements,this._onButtonTriggered,this._onSeparatorButtonTriggered,this._onLeave,this._onKeyDown,z)}get onDidChangeFocus(){return t.Event.map(this.list.onDidChangeFocus,N=>N.elements.map(R=>R.item))}get onDidChangeSelection(){return t.Event.map(this.list.onDidChangeSelection,N=>({items:N.elements.map(R=>R.item),event:N.browserEvent}))}get scrollTop(){return this.list.scrollTop}set scrollTop(N){this.list.scrollTop=N}get ariaLabel(){return this.list.getHTMLElement().ariaLabel}set ariaLabel(N){this.list.getHTMLElement().ariaLabel=N}getAllVisibleChecked(){return this.allVisibleChecked(this.elements,!1)}allVisibleChecked(N,R=!0){for(let F=0,x=N.length;F<x;F++){const W=N[F];if(!W.hidden)if(W.checked)R=!0;else return!1}return R}getCheckedCount(){let N=0;const R=this.elements;for(let F=0,x=R.length;F<x;F++)R[F].checked&&N++;return N}getVisibleCount(){let N=0;const R=this.elements;for(let F=0,x=R.length;F<x;F++)R[F].hidden||N++;return N}setAllVisibleChecked(N){try{this._fireCheckedEvents=!1,this.elements.forEach(R=>{R.hidden||(R.checked=N)})}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}setElements(N){this.elementDisposables=(0,o.dispose)(this.elementDisposables);const R=z=>this.fireButtonTriggered(z),F=z=>this.fireSeparatorButtonTriggered(z);this.inputElements=N;const x=new Map,W=this.parent.classList.contains("show-checkboxes");this.elements=N.reduce((z,U,O)=>{var G;const Q=O>0?N[O-1]:void 0;if(U.type==="separator"&&!U.buttons)return z;const re=new g(U,Q,O,W,R,F,this._listElementChecked),oe=z.length;return z.push(re),x.set((G=re.item)!==null&&G!==void 0?G:re.separator,oe),z},[]),this.elementsToIndexes=x,this.list.splice(0,this.list.length),this.list.splice(0,this.list.length,this.elements),this._onChangedVisibleCount.fire(this.elements.length)}getFocusedElements(){return this.list.getFocusedElements().map(N=>N.item)}setFocusedElements(N){if(this.list.setFocus(N.filter(R=>this.elementsToIndexes.has(R)).map(R=>this.elementsToIndexes.get(R))),N.length>0){const R=this.list.getFocus()[0];typeof R=="number"&&this.list.reveal(R)}}getActiveDescendant(){return this.list.getHTMLElement().getAttribute("aria-activedescendant")}setSelectedElements(N){this.list.setSelection(N.filter(R=>this.elementsToIndexes.has(R)).map(R=>this.elementsToIndexes.get(R)))}getCheckedElements(){return this.elements.filter(N=>N.checked).map(N=>N.item).filter(N=>!!N)}setCheckedElements(N){try{this._fireCheckedEvents=!1;const R=new Set;for(const F of N)R.add(F);for(const F of this.elements)F.checked=R.has(F.item)}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}set enabled(N){this.list.getHTMLElement().style.pointerEvents=N?"":"none"}focus(N){if(!this.list.length)return;switch(N===w.Second&&this.list.length<2&&(N=w.First),N){case w.First:this.list.scrollTop=0,this.list.focusFirst(void 0,F=>!!F.item);break;case w.Second:this.list.scrollTop=0,this.list.focusNth(1,void 0,F=>!!F.item);break;case w.Last:this.list.scrollTop=this.list.scrollHeight,this.list.focusLast(void 0,F=>!!F.item);break;case w.Next:{this.list.focusNext(void 0,!0,void 0,x=>!!x.item);const F=this.list.getFocus()[0];F!==0&&!this.elements[F-1].item&&this.list.firstVisibleIndex>F-1&&this.list.reveal(F-1);break}case w.Previous:{this.list.focusPrevious(void 0,!0,void 0,x=>!!x.item);const F=this.list.getFocus()[0];F!==0&&!this.elements[F-1].item&&this.list.firstVisibleIndex>F-1&&this.list.reveal(F-1);break}case w.NextPage:this.list.focusNextPage(void 0,F=>!!F.item);break;case w.PreviousPage:this.list.focusPreviousPage(void 0,F=>!!F.item);break}const R=this.list.getFocus()[0];typeof R=="number"&&this.list.reveal(R)}clearFocus(){this.list.setFocus([])}domFocus(){this.list.domFocus()}showHover(N){var R,F,x;this._lastHover&&!this._lastHover.isDisposed&&((F=(R=this.options.hoverDelegate).onDidHideHover)===null||F===void 0||F.call(R),(x=this._lastHover)===null||x===void 0||x.dispose()),!(!N.element||!N.saneTooltip)&&(this._lastHover=this.options.hoverDelegate.showHover({content:N.saneTooltip,target:N.element,linkHandler:W=>{this.options.linkOpenerDelegate(W)},showPointer:!0,container:this.container,hoverPosition:1},!1))}layout(N){this.list.getHTMLElement().style.maxHeight=N?`${Math.floor(N/44)*44+6}px`:"",this.list.layout()}filter(N){if(!(this.sortByLabel||this.matchOnLabel||this.matchOnDescription||this.matchOnDetail))return this.list.layout(),!1;const R=N;if(N=N.trim(),!N||!(this.matchOnLabel||this.matchOnDescription||this.matchOnDetail))this.elements.forEach(x=>{x.labelHighlights=void 0,x.descriptionHighlights=void 0,x.detailHighlights=void 0,x.hidden=!1;const W=x.index&&this.inputElements[x.index-1];x.item&&(x.separator=W&&W.type==="separator"&&!W.buttons?W:void 0)});else{let x;this.elements.forEach(W=>{let z;this.matchOnLabelMode==="fuzzy"?z=this.matchOnLabel?(0,h.withNullAsUndefined)((0,i.matchesFuzzyIconAware)(N,(0,i.parseLabelWithIcons)(W.saneLabel))):void 0:z=this.matchOnLabel?(0,h.withNullAsUndefined)(I(R,(0,i.parseLabelWithIcons)(W.saneLabel))):void 0;const U=this.matchOnDescription?(0,h.withNullAsUndefined)((0,i.matchesFuzzyIconAware)(N,(0,i.parseLabelWithIcons)(W.saneDescription||""))):void 0,O=this.matchOnDetail?(0,h.withNullAsUndefined)((0,i.matchesFuzzyIconAware)(N,(0,i.parseLabelWithIcons)(W.saneDetail||""))):void 0;if(z||U||O?(W.labelHighlights=z,W.descriptionHighlights=U,W.detailHighlights=O,W.hidden=!1):(W.labelHighlights=void 0,W.descriptionHighlights=void 0,W.detailHighlights=void 0,W.hidden=W.item?!W.item.alwaysShow:!0),W.item?W.separator=void 0:W.separator&&(W.hidden=!0),!this.sortByLabel){const G=W.index&&this.inputElements[W.index-1];x=G&&G.type==="separator"?G:x,x&&!W.hidden&&(W.separator=x,x=void 0)}})}const F=this.elements.filter(x=>!x.hidden);if(this.sortByLabel&&N){const x=N.toLowerCase();F.sort((W,z)=>P(W,z,x))}return this.elementsToIndexes=F.reduce((x,W,z)=>{var U;return x.set((U=W.item)!==null&&U!==void 0?U:W.separator,z),x},new Map),this.list.splice(0,this.list.length,F),this.list.setFocus([]),this.list.layout(),this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedVisibleCount.fire(F.length),!0}toggleCheckbox(){try{this._fireCheckedEvents=!1;const N=this.list.getFocusedElements(),R=this.allVisibleChecked(N);for(const F of N)F.checked=!R}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}display(N){this.container.style.display=N?"":"none"}isDisplayed(){return this.container.style.display!=="none"}dispose(){this.elementDisposables=(0,o.dispose)(this.elementDisposables),this.disposables=(0,o.dispose)(this.disposables)}fireCheckedEvents(){this._fireCheckedEvents&&(this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedCheckedCount.fire(this.getCheckedCount()),this._onChangedCheckedElements.fire(this.getCheckedElements()))}fireButtonTriggered(N){this._onButtonTriggered.fire(N)}fireSeparatorButtonTriggered(N){this._onSeparatorButtonTriggered.fire(N)}style(N){this.list.style(N)}toggleHover(){const N=this.list.getFocusedElements()[0];if(!N?.saneTooltip)return;if(this._lastHover&&!this._lastHover.isDisposed){this._lastHover.dispose();return}const R=this.list.getFocusedElements()[0];if(!R)return;this.showHover(R);const F=new o.DisposableStore;F.add(this.list.onDidChangeFocus(x=>{x.indexes.length&&this.showHover(x.elements[0])})),this._lastHover&&F.add(this._lastHover),this._toggleHover=F,this.elementDisposables.push(this._toggleHover)}}e.QuickInputList=E,Ne([p.memoize],E.prototype,"onDidChangeFocus",null),Ne([p.memoize],E.prototype,"onDidChangeSelection",null);function I(M,N){const{text:R,iconOffsets:F}=N;if(!F||F.length===0)return T(M,R);const x=(0,d.ltrim)(R," "),W=R.length-x.length,z=T(M,x);if(z)for(const U of z){const O=F[U.start+W]+W;U.start+=O,U.end+=O}return z}function T(M,N){const R=N.toLowerCase().indexOf(M.toLowerCase());return R!==-1?[{start:R,end:R+M.length}]:null}function P(M,N,R){const F=M.labelHighlights||[],x=N.labelHighlights||[];return F.length&&!x.length?-1:!F.length&&x.length?1:F.length===0&&x.length===0?0:(0,f.compareAnything)(M.saneSortLabel,N.saneSortLabel,R)}class A{getWidgetAriaLabel(){return(0,n.localize)(0,null)}getAriaLabel(N){var R;return!((R=N.separator)===null||R===void 0)&&R.label?`${N.saneAriaLabel}, ${N.separator.label}`:N.saneAriaLabel}getWidgetRole(){return"listbox"}getRole(N){return N.hasCheckbox?"checkbox":"option"}isChecked(N){if(N.hasCheckbox)return{value:N.checked,onDidChange:N.onChecked}}}}),define(X[828],ee([1,0,7,45,67,309,303,569,152,40,16,14,20,25,6,2,17,107,27,18,722,76,761,827,333,176]),function(q,e,L,k,y,D,S,m,_,f,p,s,t,i,o,r,d,h,n,c,a,l,u,C,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickInputController=void 0;const v=L.$,b={iconClass:n.ThemeIcon.asClassName(i.Codicon.quickInputBack),tooltip:(0,a.localize)(0,null),handle:-1};class w extends r.Disposable{constructor(A){super(),this.ui=A,this._widgetUpdated=!1,this.visible=!1,this._enabled=!0,this._busy=!1,this._ignoreFocusOut=!1,this._buttons=[],this.buttonsUpdated=!1,this._toggles=[],this.togglesUpdated=!1,this.noValidationMessage=w.noPromptMessage,this._severity=h.default.Ignore,this.onDidTriggerButtonEmitter=this._register(new o.Emitter),this.onDidHideEmitter=this._register(new o.Emitter),this.onDisposeEmitter=this._register(new o.Emitter),this.visibleDisposables=this._register(new r.DisposableStore),this.onDidHide=this.onDidHideEmitter.event}get title(){return this._title}set title(A){this._title=A,this.update()}get description(){return this._description}set description(A){this._description=A,this.update()}get step(){return this._steps}set step(A){this._steps=A,this.update()}get totalSteps(){return this._totalSteps}set totalSteps(A){this._totalSteps=A,this.update()}get enabled(){return this._enabled}set enabled(A){this._enabled=A,this.update()}get contextKey(){return this._contextKey}set contextKey(A){this._contextKey=A,this.update()}get busy(){return this._busy}set busy(A){this._busy=A,this.update()}get ignoreFocusOut(){return this._ignoreFocusOut}set ignoreFocusOut(A){const M=this._ignoreFocusOut!==A&&!d.isIOS;this._ignoreFocusOut=A&&!d.isIOS,M&&this.update()}get buttons(){return this._buttons}set buttons(A){this._buttons=A,this.buttonsUpdated=!0,this.update()}get toggles(){return this._toggles}set toggles(A){this._toggles=A??[],this.togglesUpdated=!0,this.update()}get validationMessage(){return this._validationMessage}set validationMessage(A){this._validationMessage=A,this.update()}get severity(){return this._severity}set severity(A){this._severity=A,this.update()}show(){this.visible||(this.visibleDisposables.add(this.ui.onDidTriggerButton(A=>{this.buttons.indexOf(A)!==-1&&this.onDidTriggerButtonEmitter.fire(A)})),this.ui.show(this),this.visible=!0,this._lastValidationMessage=void 0,this._lastSeverity=void 0,this.buttons.length&&(this.buttonsUpdated=!0),this.toggles.length&&(this.togglesUpdated=!0),this.update())}hide(){this.visible&&this.ui.hide()}didHide(A=l.QuickInputHideReason.Other){this.visible=!1,this.visibleDisposables.clear(),this.onDidHideEmitter.fire({reason:A})}update(){var A,M;if(!this.visible)return;const N=this.getTitle();N&&this.ui.title.textContent!==N?this.ui.title.textContent=N:!N&&this.ui.title.innerHTML!=="&nbsp;"&&(this.ui.title.innerText="\xA0");const R=this.getDescription();if(this.ui.description1.textContent!==R&&(this.ui.description1.textContent=R),this.ui.description2.textContent!==R&&(this.ui.description2.textContent=R),this._widgetUpdated&&(this._widgetUpdated=!1,this._widget?L.reset(this.ui.widget,this._widget):L.reset(this.ui.widget)),this.busy&&!this.busyDelay&&(this.busyDelay=new s.TimeoutTimer,this.busyDelay.setIfNotSet(()=>{this.visible&&this.ui.progressBar.infinite()},800)),!this.busy&&this.busyDelay&&(this.ui.progressBar.stop(),this.busyDelay.cancel(),this.busyDelay=void 0),this.buttonsUpdated){this.buttonsUpdated=!1,this.ui.leftActionBar.clear();const x=this.buttons.filter(z=>z===b);this.ui.leftActionBar.push(x.map((z,U)=>{const O=new f.Action(`id-${U}`,"",z.iconClass||(0,g.getIconClass)(z.iconPath),!0,()=>Le(this,void 0,void 0,function*(){this.onDidTriggerButtonEmitter.fire(z)}));return O.tooltip=z.tooltip||"",O}),{icon:!0,label:!1}),this.ui.rightActionBar.clear();const W=this.buttons.filter(z=>z!==b);this.ui.rightActionBar.push(W.map((z,U)=>{const O=new f.Action(`id-${U}`,"",z.iconClass||(0,g.getIconClass)(z.iconPath),!0,()=>Le(this,void 0,void 0,function*(){this.onDidTriggerButtonEmitter.fire(z)}));return O.tooltip=z.tooltip||"",O}),{icon:!0,label:!1})}if(this.togglesUpdated){this.togglesUpdated=!1;const x=(M=(A=this.toggles)===null||A===void 0?void 0:A.filter(W=>W instanceof _.Toggle))!==null&&M!==void 0?M:[];this.ui.inputBox.toggles=x}this.ui.ignoreFocusOut=this.ignoreFocusOut,this.ui.setEnabled(this.enabled),this.ui.setContextKey(this.contextKey);const F=this.validationMessage||this.noValidationMessage;this._lastValidationMessage!==F&&(this._lastValidationMessage=F,L.reset(this.ui.message),(0,g.renderQuickInputDescription)(F,this.ui.message,{callback:x=>{this.ui.linkOpenerDelegate(x)},disposables:this.visibleDisposables})),this._lastSeverity!==this.severity&&(this._lastSeverity=this.severity,this.showMessageDecoration(this.severity))}getTitle(){return this.title&&this.step?`${this.title} (${this.getSteps()})`:this.title?this.title:this.step?this.getSteps():""}getDescription(){return this.description||""}getSteps(){return this.step&&this.totalSteps?(0,a.localize)(2,null,this.step,this.totalSteps):this.step?String(this.step):""}showMessageDecoration(A){if(this.ui.inputBox.showDecoration(A),A!==h.default.Ignore){const M=this.ui.inputBox.stylesForType(A);this.ui.message.style.color=M.foreground?`${M.foreground}`:"",this.ui.message.style.backgroundColor=M.background?`${M.background}`:"",this.ui.message.style.border=M.border?`1px solid ${M.border}`:"",this.ui.message.style.marginBottom="-2px"}else this.ui.message.style.color="",this.ui.message.style.backgroundColor="",this.ui.message.style.border="",this.ui.message.style.marginBottom=""}dispose(){this.hide(),this.onDisposeEmitter.fire(),super.dispose()}}w.noPromptMessage=(0,a.localize)(1,null);class E extends w{constructor(){super(...arguments),this._value="",this.onDidChangeValueEmitter=this._register(new o.Emitter),this.onWillAcceptEmitter=this._register(new o.Emitter),this.onDidAcceptEmitter=this._register(new o.Emitter),this.onDidCustomEmitter=this._register(new o.Emitter),this._items=[],this.itemsUpdated=!1,this._canSelectMany=!1,this._canAcceptInBackground=!1,this._matchOnDescription=!1,this._matchOnDetail=!1,this._matchOnLabel=!0,this._matchOnLabelMode="fuzzy",this._sortByLabel=!0,this._autoFocusOnList=!0,this._keepScrollPosition=!1,this._itemActivation=l.ItemActivation.FIRST,this._activeItems=[],this.activeItemsUpdated=!1,this.activeItemsToConfirm=[],this.onDidChangeActiveEmitter=this._register(new o.Emitter),this._selectedItems=[],this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=[],this.onDidChangeSelectionEmitter=this._register(new o.Emitter),this.onDidTriggerItemButtonEmitter=this._register(new o.Emitter),this.onDidTriggerSeparatorButtonEmitter=this._register(new o.Emitter),this.valueSelectionUpdated=!0,this._ok="default",this._customButton=!1,this.filterValue=A=>A,this.onDidChangeValue=this.onDidChangeValueEmitter.event,this.onWillAccept=this.onWillAcceptEmitter.event,this.onDidAccept=this.onDidAcceptEmitter.event,this.onDidChangeActive=this.onDidChangeActiveEmitter.event,this.onDidChangeSelection=this.onDidChangeSelectionEmitter.event,this.onDidTriggerItemButton=this.onDidTriggerItemButtonEmitter.event,this.onDidTriggerSeparatorButton=this.onDidTriggerSeparatorButtonEmitter.event}get quickNavigate(){return this._quickNavigate}set quickNavigate(A){this._quickNavigate=A,this.update()}get value(){return this._value}set value(A){this.doSetValue(A)}doSetValue(A,M){this._value!==A&&(this._value=A,M||this.update(),this.visible&&this.ui.list.filter(this.filterValue(this._value))&&this.trySelectFirst(),this.onDidChangeValueEmitter.fire(this._value))}set ariaLabel(A){this._ariaLabel=A,this.update()}get ariaLabel(){return this._ariaLabel}get placeholder(){return this._placeholder}set placeholder(A){this._placeholder=A,this.update()}get items(){return this._items}get scrollTop(){return this.ui.list.scrollTop}set scrollTop(A){this.ui.list.scrollTop=A}set items(A){this._items=A,this.itemsUpdated=!0,this.update()}get canSelectMany(){return this._canSelectMany}set canSelectMany(A){this._canSelectMany=A,this.update()}get canAcceptInBackground(){return this._canAcceptInBackground}set canAcceptInBackground(A){this._canAcceptInBackground=A}get matchOnDescription(){return this._matchOnDescription}set matchOnDescription(A){this._matchOnDescription=A,this.update()}get matchOnDetail(){return this._matchOnDetail}set matchOnDetail(A){this._matchOnDetail=A,this.update()}get matchOnLabel(){return this._matchOnLabel}set matchOnLabel(A){this._matchOnLabel=A,this.update()}get matchOnLabelMode(){return this._matchOnLabelMode}set matchOnLabelMode(A){this._matchOnLabelMode=A,this.update()}get sortByLabel(){return this._sortByLabel}set sortByLabel(A){this._sortByLabel=A,this.update()}get autoFocusOnList(){return this._autoFocusOnList}set autoFocusOnList(A){this._autoFocusOnList=A,this.update()}get keepScrollPosition(){return this._keepScrollPosition}set keepScrollPosition(A){this._keepScrollPosition=A}get itemActivation(){return this._itemActivation}set itemActivation(A){this._itemActivation=A}get activeItems(){return this._activeItems}set activeItems(A){this._activeItems=A,this.activeItemsUpdated=!0,this.update()}get selectedItems(){return this._selectedItems}set selectedItems(A){this._selectedItems=A,this.selectedItemsUpdated=!0,this.update()}get keyMods(){return this._quickNavigate?l.NO_KEY_MODS:this.ui.keyMods}set valueSelection(A){this._valueSelection=A,this.valueSelectionUpdated=!0,this.update()}get customButton(){return this._customButton}set customButton(A){this._customButton=A,this.update()}get customLabel(){return this._customButtonLabel}set customLabel(A){this._customButtonLabel=A,this.update()}get customHover(){return this._customButtonHover}set customHover(A){this._customButtonHover=A,this.update()}get ok(){return this._ok}set ok(A){this._ok=A,this.update()}get hideInput(){return!!this._hideInput}set hideInput(A){this._hideInput=A,this.update()}trySelectFirst(){this.autoFocusOnList&&(this.canSelectMany||this.ui.list.focus(C.QuickInputListFocus.First))}show(){this.visible||(this.visibleDisposables.add(this.ui.inputBox.onDidChange(A=>{this.doSetValue(A,!0)})),this.visibleDisposables.add(this.ui.inputBox.onMouseDown(A=>{this.autoFocusOnList||this.ui.list.clearFocus()})),this.visibleDisposables.add((this._hideInput?this.ui.list:this.ui.inputBox).onKeyDown(A=>{switch(A.keyCode){case 18:this.ui.list.focus(C.QuickInputListFocus.Next),this.canSelectMany&&this.ui.list.domFocus(),L.EventHelper.stop(A,!0);break;case 16:this.ui.list.getFocusedElements().length?this.ui.list.focus(C.QuickInputListFocus.Previous):this.ui.list.focus(C.QuickInputListFocus.Last),this.canSelectMany&&this.ui.list.domFocus(),L.EventHelper.stop(A,!0);break;case 12:this.ui.list.focus(C.QuickInputListFocus.NextPage),this.canSelectMany&&this.ui.list.domFocus(),L.EventHelper.stop(A,!0);break;case 11:this.ui.list.focus(C.QuickInputListFocus.PreviousPage),this.canSelectMany&&this.ui.list.domFocus(),L.EventHelper.stop(A,!0);break;case 17:if(!this._canAcceptInBackground||!this.ui.inputBox.isSelectionAtEnd())return;this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.handleAccept(!0));break;case 14:(A.ctrlKey||A.metaKey)&&!A.shiftKey&&!A.altKey&&(this.ui.list.focus(C.QuickInputListFocus.First),L.EventHelper.stop(A,!0));break;case 13:(A.ctrlKey||A.metaKey)&&!A.shiftKey&&!A.altKey&&(this.ui.list.focus(C.QuickInputListFocus.Last),L.EventHelper.stop(A,!0));break}})),this.visibleDisposables.add(this.ui.onDidAccept(()=>{this.canSelectMany?this.ui.list.getCheckedElements().length||(this._selectedItems=[],this.onDidChangeSelectionEmitter.fire(this.selectedItems)):this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems)),this.handleAccept(!1)})),this.visibleDisposables.add(this.ui.onDidCustom(()=>{this.onDidCustomEmitter.fire()})),this.visibleDisposables.add(this.ui.list.onDidChangeFocus(A=>{this.activeItemsUpdated||this.activeItemsToConfirm!==this._activeItems&&(0,p.equals)(A,this._activeItems,(M,N)=>M===N)||(this._activeItems=A,this.onDidChangeActiveEmitter.fire(A))})),this.visibleDisposables.add(this.ui.list.onDidChangeSelection(({items:A,event:M})=>{if(this.canSelectMany){A.length&&this.ui.list.setSelectedElements([]);return}this.selectedItemsToConfirm!==this._selectedItems&&(0,p.equals)(A,this._selectedItems,(N,R)=>N===R)||(this._selectedItems=A,this.onDidChangeSelectionEmitter.fire(A),A.length&&this.handleAccept(M instanceof MouseEvent&&M.button===1))})),this.visibleDisposables.add(this.ui.list.onChangedCheckedElements(A=>{this.canSelectMany&&(this.selectedItemsToConfirm!==this._selectedItems&&(0,p.equals)(A,this._selectedItems,(M,N)=>M===N)||(this._selectedItems=A,this.onDidChangeSelectionEmitter.fire(A)))})),this.visibleDisposables.add(this.ui.list.onButtonTriggered(A=>this.onDidTriggerItemButtonEmitter.fire(A))),this.visibleDisposables.add(this.ui.list.onSeparatorButtonTriggered(A=>this.onDidTriggerSeparatorButtonEmitter.fire(A))),this.visibleDisposables.add(this.registerQuickNavigation()),this.valueSelectionUpdated=!0),super.show()}handleAccept(A){let M=!1;this.onWillAcceptEmitter.fire({veto:()=>M=!0}),M||this.onDidAcceptEmitter.fire({inBackground:A})}registerQuickNavigation(){return L.addDisposableListener(this.ui.container,L.EventType.KEY_UP,A=>{if(this.canSelectMany||!this._quickNavigate)return;const M=new k.StandardKeyboardEvent(A),N=M.keyCode;this._quickNavigate.keybindings.some(x=>{const W=x.getChords();return W.length>1?!1:W[0].shiftKey&&N===4?!(M.ctrlKey||M.altKey||M.metaKey):!!(W[0].altKey&&N===6||W[0].ctrlKey&&N===5||W[0].metaKey&&N===57)})&&(this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.handleAccept(!1)),this._quickNavigate=void 0)})}update(){if(!this.visible)return;const A=this.keepScrollPosition?this.scrollTop:0,M=!!this.description,N={title:!!this.title||!!this.step||!!this.buttons.length,description:M,checkAll:this.canSelectMany&&!this._hideCheckAll,checkBox:this.canSelectMany,inputBox:!this._hideInput,progressBar:!this._hideInput||M,visibleCount:!0,count:this.canSelectMany,ok:this.ok==="default"?this.canSelectMany:this.ok,list:!0,message:!!this.validationMessage,customButton:this.customButton};this.ui.setVisibilities(N),super.update(),this.ui.inputBox.value!==this.value&&(this.ui.inputBox.value=this.value),this.valueSelectionUpdated&&(this.valueSelectionUpdated=!1,this.ui.inputBox.select(this._valueSelection&&{start:this._valueSelection[0],end:this._valueSelection[1]})),this.ui.inputBox.placeholder!==(this.placeholder||"")&&(this.ui.inputBox.placeholder=this.placeholder||"");let R=this.ariaLabel;if(!R&&N.inputBox&&(R=this.placeholder||E.DEFAULT_ARIA_LABEL,this.title&&(R+=` - ${this.title}`)),this.ui.list.ariaLabel!==R&&(this.ui.list.ariaLabel=(0,c.withUndefinedAsNull)(R)),this.ui.list.matchOnDescription=this.matchOnDescription,this.ui.list.matchOnDetail=this.matchOnDetail,this.ui.list.matchOnLabel=this.matchOnLabel,this.ui.list.matchOnLabelMode=this.matchOnLabelMode,this.ui.list.sortByLabel=this.sortByLabel,this.itemsUpdated)switch(this.itemsUpdated=!1,this.ui.list.setElements(this.items),this.ui.list.filter(this.filterValue(this.ui.inputBox.value)),this.ui.checkAll.checked=this.ui.list.getAllVisibleChecked(),this.ui.visibleCount.setCount(this.ui.list.getVisibleCount()),this.ui.count.setCount(this.ui.list.getCheckedCount()),this._itemActivation){case l.ItemActivation.NONE:this._itemActivation=l.ItemActivation.FIRST;break;case l.ItemActivation.SECOND:this.ui.list.focus(C.QuickInputListFocus.Second),this._itemActivation=l.ItemActivation.FIRST;break;case l.ItemActivation.LAST:this.ui.list.focus(C.QuickInputListFocus.Last),this._itemActivation=l.ItemActivation.FIRST;break;default:this.trySelectFirst();break}this.ui.container.classList.contains("show-checkboxes")!==!!this.canSelectMany&&(this.canSelectMany?this.ui.list.clearFocus():this.trySelectFirst()),this.activeItemsUpdated&&(this.activeItemsUpdated=!1,this.activeItemsToConfirm=this._activeItems,this.ui.list.setFocusedElements(this.activeItems),this.activeItemsToConfirm===this._activeItems&&(this.activeItemsToConfirm=null)),this.selectedItemsUpdated&&(this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=this._selectedItems,this.canSelectMany?this.ui.list.setCheckedElements(this.selectedItems):this.ui.list.setSelectedElements(this.selectedItems),this.selectedItemsToConfirm===this._selectedItems&&(this.selectedItemsToConfirm=null)),this.ui.customButton.label=this.customLabel||"",this.ui.customButton.element.title=this.customHover||"",N.inputBox||(this.ui.list.domFocus(),this.canSelectMany&&this.ui.list.focus(C.QuickInputListFocus.First)),this.keepScrollPosition&&(this.scrollTop=A)}}E.DEFAULT_ARIA_LABEL=(0,a.localize)(3,null);class I extends w{constructor(){super(...arguments),this._value="",this.valueSelectionUpdated=!0,this._password=!1,this.onDidValueChangeEmitter=this._register(new o.Emitter),this.onDidAcceptEmitter=this._register(new o.Emitter),this.onDidChangeValue=this.onDidValueChangeEmitter.event,this.onDidAccept=this.onDidAcceptEmitter.event}get value(){return this._value}set value(A){this._value=A||"",this.update()}get placeholder(){return this._placeholder}set placeholder(A){this._placeholder=A,this.update()}get password(){return this._password}set password(A){this._password=A,this.update()}show(){this.visible||(this.visibleDisposables.add(this.ui.inputBox.onDidChange(A=>{A!==this.value&&(this._value=A,this.onDidValueChangeEmitter.fire(A))})),this.visibleDisposables.add(this.ui.onDidAccept(()=>this.onDidAcceptEmitter.fire())),this.valueSelectionUpdated=!0),super.show()}update(){if(!this.visible)return;this.ui.container.classList.remove("hidden-input");const A={title:!!this.title||!!this.step||!!this.buttons.length,description:!!this.description||!!this.step,inputBox:!0,message:!0};this.ui.setVisibilities(A),super.update(),this.ui.inputBox.value!==this.value&&(this.ui.inputBox.value=this.value),this.valueSelectionUpdated&&(this.valueSelectionUpdated=!1,this.ui.inputBox.select(this._valueSelection&&{start:this._valueSelection[0],end:this._valueSelection[1]})),this.ui.inputBox.placeholder!==(this.placeholder||"")&&(this.ui.inputBox.placeholder=this.placeholder||""),this.ui.inputBox.password!==this.password&&(this.ui.inputBox.password=this.password)}}class T extends r.Disposable{constructor(A){super(),this.options=A,this.enabled=!0,this.onDidAcceptEmitter=this._register(new o.Emitter),this.onDidCustomEmitter=this._register(new o.Emitter),this.onDidTriggerButtonEmitter=this._register(new o.Emitter),this.keyMods={ctrlCmd:!1,alt:!1},this.controller=null,this.onShowEmitter=this._register(new o.Emitter),this.onShow=this.onShowEmitter.event,this.onHideEmitter=this._register(new o.Emitter),this.onHide=this.onHideEmitter.event,this.idPrefix=A.idPrefix,this.parentElement=A.container,this.styles=A.styles,this.registerKeyModsListeners()}registerKeyModsListeners(){const A=M=>{this.keyMods.ctrlCmd=M.ctrlKey||M.metaKey,this.keyMods.alt=M.altKey};this._register(L.addDisposableListener(window,L.EventType.KEY_DOWN,A,!0)),this._register(L.addDisposableListener(window,L.EventType.KEY_UP,A,!0)),this._register(L.addDisposableListener(window,L.EventType.MOUSE_DOWN,A,!0))}getUI(){if(this.ui)return this.ui;const A=L.append(this.parentElement,v(".quick-input-widget.show-file-icons"));A.tabIndex=-1,A.style.display="none";const M=L.createStyleSheet(A),N=L.append(A,v(".quick-input-titlebar")),R=this._register(new y.ActionBar(N));R.domNode.classList.add("quick-input-left-action-bar");const F=L.append(N,v(".quick-input-title")),x=this._register(new y.ActionBar(N));x.domNode.classList.add("quick-input-right-action-bar");const W=L.append(A,v(".quick-input-description")),z=L.append(A,v(".quick-input-header")),U=L.append(z,v("input.quick-input-check-all"));U.type="checkbox",U.setAttribute("aria-label",(0,a.localize)(4,null)),this._register(L.addStandardDisposableListener(U,L.EventType.CHANGE,j=>{const se=U.checked;$.setAllVisibleChecked(se)})),this._register(L.addDisposableListener(U,L.EventType.CLICK,j=>{(j.x||j.y)&&re.setFocus()}));const O=L.append(z,v(".quick-input-description")),G=L.append(z,v(".quick-input-and-message")),Q=L.append(G,v(".quick-input-filter")),re=this._register(new u.QuickInputBox(Q,this.styles.inputBox,this.styles.toggle));re.setAttribute("aria-describedby",`${this.idPrefix}message`);const oe=L.append(Q,v(".quick-input-visible-count"));oe.setAttribute("aria-live","polite"),oe.setAttribute("aria-atomic","true");const te=new S.CountBadge(oe,{countFormat:(0,a.localize)(5,null)},this.styles.countBadge),H=L.append(Q,v(".quick-input-count"));H.setAttribute("aria-live","polite");const B=new S.CountBadge(H,{countFormat:(0,a.localize)(6,null)},this.styles.countBadge),K=L.append(z,v(".quick-input-action")),Z=new D.Button(K,this.styles.button);Z.label=(0,a.localize)(7,null),this._register(Z.onDidClick(j=>{this.onDidAcceptEmitter.fire()}));const J=L.append(z,v(".quick-input-action")),ne=new D.Button(J,this.styles.button);ne.label=(0,a.localize)(8,null),this._register(ne.onDidClick(j=>{this.onDidCustomEmitter.fire()}));const he=L.append(G,v(`#${this.idPrefix}message.quick-input-message`)),de=new m.ProgressBar(A,this.styles.progressBar);de.getContainer().classList.add("quick-input-progress");const ae=L.append(A,v(".quick-input-html-widget"));ae.tabIndex=-1;const ce=this.idPrefix+"list",$=this._register(new C.QuickInputList(A,ce,this.options));re.setAttribute("aria-controls",ce),this._register($.onDidChangeFocus(()=>{var j;re.setAttribute("aria-activedescendant",(j=$.getActiveDescendant())!==null&&j!==void 0?j:"")})),this._register($.onChangedAllVisibleChecked(j=>{U.checked=j})),this._register($.onChangedVisibleCount(j=>{te.setCount(j)})),this._register($.onChangedCheckedCount(j=>{B.setCount(j)})),this._register($.onLeave(()=>{setTimeout(()=>{re.setFocus(),this.controller instanceof E&&this.controller.canSelectMany&&$.clearFocus()},0)}));const V=L.trackFocus(A);return this._register(V),this._register(L.addDisposableListener(A,L.EventType.FOCUS,j=>{this.previousFocusElement=j.relatedTarget instanceof HTMLElement?j.relatedTarget:void 0},!0)),this._register(V.onDidBlur(()=>{!this.getUI().ignoreFocusOut&&!this.options.ignoreFocusOut()&&this.hide(l.QuickInputHideReason.Blur),this.previousFocusElement=void 0})),this._register(L.addDisposableListener(A,L.EventType.FOCUS,j=>{re.setFocus()})),this._register(L.addDisposableListener(A,L.EventType.KEY_DOWN,j=>{const se=new k.StandardKeyboardEvent(j);switch(se.keyCode){case 3:L.EventHelper.stop(j,!0),this.enabled&&this.onDidAcceptEmitter.fire();break;case 9:L.EventHelper.stop(j,!0),this.hide(l.QuickInputHideReason.Gesture);break;case 2:if(!se.altKey&&!se.ctrlKey&&!se.metaKey){const ie=[".quick-input-list .monaco-action-bar .always-visible",".quick-input-list-entry:hover .monaco-action-bar",".monaco-list-row.focused .monaco-action-bar"];if(A.classList.contains("show-checkboxes")?ie.push("input"):ie.push("input[type=text]"),this.getUI().list.isDisplayed()&&ie.push(".monaco-list"),this.getUI().message&&ie.push(".quick-input-message a"),this.getUI().widget){if(L.isAncestor(se.target,this.getUI().widget))break;ie.push(".quick-input-html-widget")}const Y=A.querySelectorAll(ie.join(", "));se.shiftKey&&se.target===Y[0]?(L.EventHelper.stop(j,!0),$.clearFocus()):!se.shiftKey&&L.isAncestor(se.target,Y[Y.length-1])&&(L.EventHelper.stop(j,!0),Y[0].focus())}break;case 10:se.ctrlKey&&(L.EventHelper.stop(j,!0),this.getUI().list.toggleHover());break}})),this.ui={container:A,styleSheet:M,leftActionBar:R,titleBar:N,title:F,description1:W,description2:O,widget:ae,rightActionBar:x,checkAll:U,filterContainer:Q,inputBox:re,visibleCountContainer:oe,visibleCount:te,countContainer:H,count:B,okContainer:K,ok:Z,message:he,customButtonContainer:J,customButton:ne,list:$,progressBar:de,onDidAccept:this.onDidAcceptEmitter.event,onDidCustom:this.onDidCustomEmitter.event,onDidTriggerButton:this.onDidTriggerButtonEmitter.event,ignoreFocusOut:!1,keyMods:this.keyMods,show:j=>this.show(j),hide:()=>this.hide(),setVisibilities:j=>this.setVisibilities(j),setEnabled:j=>this.setEnabled(j),setContextKey:j=>this.options.setContextKey(j),linkOpenerDelegate:j=>this.options.linkOpenerDelegate(j)},this.updateStyles(),this.ui}pick(A,M={},N=t.CancellationToken.None){return new Promise((R,F)=>{let x=O=>{var G;x=R,(G=M.onKeyMods)===null||G===void 0||G.call(M,W.keyMods),R(O)};if(N.isCancellationRequested){x(void 0);return}const W=this.createQuickPick();let z;const U=[W,W.onDidAccept(()=>{if(W.canSelectMany)x(W.selectedItems.slice()),W.hide();else{const O=W.activeItems[0];O&&(x(O),W.hide())}}),W.onDidChangeActive(O=>{const G=O[0];G&&M.onDidFocus&&M.onDidFocus(G)}),W.onDidChangeSelection(O=>{if(!W.canSelectMany){const G=O[0];G&&(x(G),W.hide())}}),W.onDidTriggerItemButton(O=>M.onDidTriggerItemButton&&M.onDidTriggerItemButton(Object.assign(Object.assign({},O),{removeItem:()=>{const G=W.items.indexOf(O.item);if(G!==-1){const Q=W.items.slice(),re=Q.splice(G,1),oe=W.activeItems.filter(H=>H!==re[0]),te=W.keepScrollPosition;W.keepScrollPosition=!0,W.items=Q,oe&&(W.activeItems=oe),W.keepScrollPosition=te}}}))),W.onDidTriggerSeparatorButton(O=>{var G;return(G=M.onDidTriggerSeparatorButton)===null||G===void 0?void 0:G.call(M,O)}),W.onDidChangeValue(O=>{z&&!O&&(W.activeItems.length!==1||W.activeItems[0]!==z)&&(W.activeItems=[z])}),N.onCancellationRequested(()=>{W.hide()}),W.onDidHide(()=>{(0,r.dispose)(U),x(void 0)})];W.title=M.title,W.canSelectMany=!!M.canPickMany,W.placeholder=M.placeHolder,W.ignoreFocusOut=!!M.ignoreFocusLost,W.matchOnDescription=!!M.matchOnDescription,W.matchOnDetail=!!M.matchOnDetail,W.matchOnLabel=M.matchOnLabel===void 0||M.matchOnLabel,W.autoFocusOnList=M.autoFocusOnList===void 0||M.autoFocusOnList,W.quickNavigate=M.quickNavigate,W.hideInput=!!M.hideInput,W.contextKey=M.contextKey,W.busy=!0,Promise.all([A,M.activeItem]).then(([O,G])=>{z=G,W.busy=!1,W.items=O,W.canSelectMany&&(W.selectedItems=O.filter(Q=>Q.type!=="separator"&&Q.picked)),z&&(W.activeItems=[z])}),W.show(),Promise.resolve(A).then(void 0,O=>{F(O),W.hide()})})}createQuickPick(){const A=this.getUI();return new E(A)}createInputBox(){const A=this.getUI();return new I(A)}show(A){const M=this.getUI();this.onShowEmitter.fire();const N=this.controller;this.controller=A,N?.didHide(),this.setEnabled(!0),M.leftActionBar.clear(),M.title.textContent="",M.description1.textContent="",M.description2.textContent="",L.reset(M.widget),M.rightActionBar.clear(),M.checkAll.checked=!1,M.inputBox.placeholder="",M.inputBox.password=!1,M.inputBox.showDecoration(h.default.Ignore),M.visibleCount.setCount(0),M.count.setCount(0),L.reset(M.message),M.progressBar.stop(),M.list.setElements([]),M.list.matchOnDescription=!1,M.list.matchOnDetail=!1,M.list.matchOnLabel=!0,M.list.sortByLabel=!0,M.ignoreFocusOut=!1,M.inputBox.toggles=void 0;const R=this.options.backKeybindingLabel();b.tooltip=R?(0,a.localize)(9,null,R):(0,a.localize)(10,null),M.container.style.display="",this.updateLayout(),M.inputBox.setFocus()}setVisibilities(A){const M=this.getUI();M.title.style.display=A.title?"":"none",M.description1.style.display=A.description&&(A.inputBox||A.checkAll)?"":"none",M.description2.style.display=A.description&&!(A.inputBox||A.checkAll)?"":"none",M.checkAll.style.display=A.checkAll?"":"none",M.filterContainer.style.display=A.inputBox?"":"none",M.visibleCountContainer.style.display=A.visibleCount?"":"none",M.countContainer.style.display=A.count?"":"none",M.okContainer.style.display=A.ok?"":"none",M.customButtonContainer.style.display=A.customButton?"":"none",M.message.style.display=A.message?"":"none",M.progressBar.getContainer().style.display=A.progressBar?"":"none",M.list.display(!!A.list),M.container.classList.toggle("show-checkboxes",!!A.checkBox),M.container.classList.toggle("hidden-input",!A.inputBox&&!A.description),this.updateLayout()}setEnabled(A){if(A!==this.enabled){this.enabled=A;for(const M of this.getUI().leftActionBar.viewItems)M.action.enabled=A;for(const M of this.getUI().rightActionBar.viewItems)M.action.enabled=A;this.getUI().checkAll.disabled=!A,this.getUI().inputBox.enabled=A,this.getUI().ok.enabled=A,this.getUI().list.enabled=A}}hide(A){var M;const N=this.controller;if(N){const R=!(!((M=this.ui)===null||M===void 0)&&M.container.contains(document.activeElement));if(this.controller=null,this.onHideEmitter.fire(),this.getUI().container.style.display="none",!R){let F=this.previousFocusElement;for(;F&&!F.offsetParent;)F=(0,c.withNullAsUndefined)(F.parentElement);F?.offsetParent?(F.focus(),this.previousFocusElement=void 0):this.options.returnFocus()}N.didHide(A)}}layout(A,M){this.dimension=A,this.titleBarOffset=M,this.updateLayout()}updateLayout(){if(this.ui&&this.isDisplayed()){this.ui.container.style.top=`${this.titleBarOffset}px`;const A=this.ui.container.style,M=Math.min(this.dimension.width*.62,T.MAX_WIDTH);A.width=M+"px",A.marginLeft="-"+M/2+"px",this.ui.inputBox.layout(),this.ui.list.layout(this.dimension&&this.dimension.height*.4)}}applyStyles(A){this.styles=A,this.updateStyles()}updateStyles(){if(this.ui){const{quickInputTitleBackground:A,quickInputBackground:M,quickInputForeground:N,widgetBorder:R,widgetShadow:F}=this.styles.widget;this.ui.titleBar.style.backgroundColor=A??"",this.ui.container.style.backgroundColor=M??"",this.ui.container.style.color=N??"",this.ui.container.style.border=R?`1px solid ${R}`:"",this.ui.container.style.boxShadow=F?`0 0 8px 2px ${F}`:"",this.ui.list.style(this.styles.list);const x=[];this.styles.pickerGroup.pickerGroupBorder&&x.push(`.quick-input-list .quick-input-list-entry { border-top-color:  ${this.styles.pickerGroup.pickerGroupBorder}; }`),this.styles.pickerGroup.pickerGroupForeground&&x.push(`.quick-input-list .quick-input-list-separator { color:  ${this.styles.pickerGroup.pickerGroupForeground}; }`),this.styles.pickerGroup.pickerGroupForeground&&x.push(`.quick-input-list .quick-input-list-separator-as-item { color:  ${this.styles.pickerGroup.pickerGroupForeground}; }`),(this.styles.keybindingLabel.keybindingLabelBackground||this.styles.keybindingLabel.keybindingLabelBorder||this.styles.keybindingLabel.keybindingLabelBottomBorder||this.styles.keybindingLabel.keybindingLabelShadow||this.styles.keybindingLabel.keybindingLabelForeground)&&(x.push(".quick-input-list .monaco-keybinding > .monaco-keybinding-key {"),this.styles.keybindingLabel.keybindingLabelBackground&&x.push(`background-color: ${this.styles.keybindingLabel.keybindingLabelBackground};`),this.styles.keybindingLabel.keybindingLabelBorder&&x.push(`border-color: ${this.styles.keybindingLabel.keybindingLabelBorder};`),this.styles.keybindingLabel.keybindingLabelBottomBorder&&x.push(`border-bottom-color: ${this.styles.keybindingLabel.keybindingLabelBottomBorder};`),this.styles.keybindingLabel.keybindingLabelShadow&&x.push(`box-shadow: inset 0 -1px 0 ${this.styles.keybindingLabel.keybindingLabelShadow};`),this.styles.keybindingLabel.keybindingLabelForeground&&x.push(`color: ${this.styles.keybindingLabel.keybindingLabelForeground};`),x.push("}"));const W=x.join(`
`);W!==this.ui.styleSheet.textContent&&(this.ui.styleSheet.textContent=W)}}isDisplayed(){return this.ui&&this.ui.container.style.display!=="none"}}e.QuickInputController=T,T.MAX_WIDTH=600}),define(X[23],ee([1,0,6,2,8,38,88]),function(q,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Themable=e.registerThemingParticipant=e.Extensions=e.getThemeTypeSelector=e.themeColorFromId=e.IThemeService=void 0,e.IThemeService=(0,y.createDecorator)("themeService");function m(i){return{id:i}}e.themeColorFromId=m;function _(i){switch(i){case S.ColorScheme.DARK:return"vs-dark";case S.ColorScheme.HIGH_CONTRAST_DARK:return"hc-black";case S.ColorScheme.HIGH_CONTRAST_LIGHT:return"hc-light";default:return"vs"}}e.getThemeTypeSelector=_,e.Extensions={ThemingContribution:"base.contributions.theming"};class f{constructor(){this.themingParticipants=[],this.themingParticipants=[],this.onThemingParticipantAddedEmitter=new L.Emitter}onColorThemeChange(o){return this.themingParticipants.push(o),this.onThemingParticipantAddedEmitter.fire(o),(0,k.toDisposable)(()=>{const r=this.themingParticipants.indexOf(o);this.themingParticipants.splice(r,1)})}getThemingParticipants(){return this.themingParticipants}}const p=new f;D.Registry.add(e.Extensions.ThemingContribution,p);function s(i){return p.onColorThemeChange(i)}e.registerThemingParticipant=s;class t extends k.Disposable{constructor(o){super(),this.themeService=o,this.theme=o.getColorTheme(),this._register(this.themeService.onDidColorThemeChange(r=>this.onThemeChange(r)))}onThemeChange(o){this.theme=o,this.updateStyles()}updateStyles(){}}e.Themable=t}),define(X[829],ee([1,0,6,2,63,23]),function(q,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GlobalStyleSheet=e.AbstractCodeEditorService=void 0;let S=e.AbstractCodeEditorService=class extends k.Disposable{constructor(f){super(),this._themeService=f,this._onWillCreateCodeEditor=this._register(new L.Emitter),this._onCodeEditorAdd=this._register(new L.Emitter),this.onCodeEditorAdd=this._onCodeEditorAdd.event,this._onCodeEditorRemove=this._register(new L.Emitter),this.onCodeEditorRemove=this._onCodeEditorRemove.event,this._onWillCreateDiffEditor=this._register(new L.Emitter),this._onDiffEditorAdd=this._register(new L.Emitter),this.onDiffEditorAdd=this._onDiffEditorAdd.event,this._onDiffEditorRemove=this._register(new L.Emitter),this.onDiffEditorRemove=this._onDiffEditorRemove.event,this._decorationOptionProviders=new Map,this._codeEditorOpenHandlers=new y.LinkedList,this._modelProperties=new Map,this._codeEditors=Object.create(null),this._diffEditors=Object.create(null),this._globalStyleSheet=null}willCreateCodeEditor(){this._onWillCreateCodeEditor.fire()}addCodeEditor(f){this._codeEditors[f.getId()]=f,this._onCodeEditorAdd.fire(f)}removeCodeEditor(f){delete this._codeEditors[f.getId()]&&this._onCodeEditorRemove.fire(f)}listCodeEditors(){return Object.keys(this._codeEditors).map(f=>this._codeEditors[f])}willCreateDiffEditor(){this._onWillCreateDiffEditor.fire()}addDiffEditor(f){this._diffEditors[f.getId()]=f,this._onDiffEditorAdd.fire(f)}removeDiffEditor(f){delete this._diffEditors[f.getId()]&&this._onDiffEditorRemove.fire(f)}listDiffEditors(){return Object.keys(this._diffEditors).map(f=>this._diffEditors[f])}getFocusedCodeEditor(){let f=null;const p=this.listCodeEditors();for(const s of p){if(s.hasTextFocus())return s;s.hasWidgetFocus()&&(f=s)}return f}removeDecorationType(f){const p=this._decorationOptionProviders.get(f);p&&(p.refCount--,p.refCount<=0&&(this._decorationOptionProviders.delete(f),p.dispose(),this.listCodeEditors().forEach(s=>s.removeDecorationsByType(f))))}setModelProperty(f,p,s){const t=f.toString();let i;this._modelProperties.has(t)?i=this._modelProperties.get(t):(i=new Map,this._modelProperties.set(t,i)),i.set(p,s)}getModelProperty(f,p){const s=f.toString();if(this._modelProperties.has(s))return this._modelProperties.get(s).get(p)}openCodeEditor(f,p,s){return Le(this,void 0,void 0,function*(){for(const t of this._codeEditorOpenHandlers){const i=yield t(f,p,s);if(i!==null)return i}return null})}registerCodeEditorOpenHandler(f){const p=this._codeEditorOpenHandlers.unshift(f);return(0,k.toDisposable)(p)}};e.AbstractCodeEditorService=S=Ne([ge(0,D.IThemeService)],S);class m{constructor(f){this._styleSheet=f}}e.GlobalStyleSheet=m}),define(X[830],ee([1,0,7,34,74,52,23]),function(q,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorScrollbar=void 0;class m extends D.ViewPart{constructor(f,p,s,t){super(f);const i=this._context.configuration.options,o=i.get(100),r=i.get(72),d=i.get(38),h=i.get(103),n={listenOnDomNode:s.domNode,className:"editor-scrollable "+(0,S.getThemeTypeSelector)(f.theme.type),useShadows:!1,lazyRender:!0,vertical:o.vertical,horizontal:o.horizontal,verticalHasArrows:o.verticalHasArrows,horizontalHasArrows:o.horizontalHasArrows,verticalScrollbarSize:o.verticalScrollbarSize,verticalSliderSize:o.verticalSliderSize,horizontalScrollbarSize:o.horizontalScrollbarSize,horizontalSliderSize:o.horizontalSliderSize,handleMouseWheel:o.handleMouseWheel,alwaysConsumeMouseWheel:o.alwaysConsumeMouseWheel,arrowSize:o.arrowSize,mouseWheelScrollSensitivity:r,fastScrollSensitivity:d,scrollPredominantAxis:h,scrollByPage:o.scrollByPage};this.scrollbar=this._register(new y.SmoothScrollableElement(p.domNode,n,this._context.viewLayout.getScrollable())),D.PartFingerprints.write(this.scrollbar.getDomNode(),5),this.scrollbarDomNode=(0,k.createFastDomNode)(this.scrollbar.getDomNode()),this.scrollbarDomNode.setPosition("absolute"),this._setLayout();const c=(a,l,u)=>{const C={};if(l){const g=a.scrollTop;g&&(C.scrollTop=this._context.viewLayout.getCurrentScrollTop()+g,a.scrollTop=0)}if(u){const g=a.scrollLeft;g&&(C.scrollLeft=this._context.viewLayout.getCurrentScrollLeft()+g,a.scrollLeft=0)}this._context.viewModel.viewLayout.setScrollPosition(C,1)};this._register(L.addDisposableListener(s.domNode,"scroll",a=>c(s.domNode,!0,!0))),this._register(L.addDisposableListener(p.domNode,"scroll",a=>c(p.domNode,!0,!1))),this._register(L.addDisposableListener(t.domNode,"scroll",a=>c(t.domNode,!0,!1))),this._register(L.addDisposableListener(this.scrollbarDomNode.domNode,"scroll",a=>c(this.scrollbarDomNode.domNode,!0,!1)))}dispose(){super.dispose()}_setLayout(){const f=this._context.configuration.options,p=f.get(141);this.scrollbarDomNode.setLeft(p.contentLeft),f.get(70).side==="right"?this.scrollbarDomNode.setWidth(p.contentWidth+p.minimap.minimapWidth):this.scrollbarDomNode.setWidth(p.contentWidth),this.scrollbarDomNode.setHeight(p.height)}getOverviewRulerLayoutInfo(){return this.scrollbar.getOverviewRulerLayoutInfo()}getDomNode(){return this.scrollbarDomNode}delegateVerticalScrollbarPointerDown(f){this.scrollbar.delegateVerticalScrollbarPointerDown(f)}delegateScrollFromMouseWheelEvent(f){this.scrollbar.delegateScrollFromMouseWheelEvent(f)}onConfigurationChanged(f){if(f.hasChanged(100)||f.hasChanged(72)||f.hasChanged(38)){const p=this._context.configuration.options,s=p.get(100),t=p.get(72),i=p.get(38),o=p.get(103),r={vertical:s.vertical,horizontal:s.horizontal,verticalScrollbarSize:s.verticalScrollbarSize,horizontalScrollbarSize:s.horizontalScrollbarSize,scrollByPage:s.scrollByPage,handleMouseWheel:s.handleMouseWheel,mouseWheelScrollSensitivity:t,fastScrollSensitivity:i,scrollPredominantAxis:o};this.scrollbar.updateOptions(r)}return f.hasChanged(141)&&this._setLayout(),!0}onScrollChanged(f){return!0}onThemeChanged(f){return this.scrollbar.updateClassName("editor-scrollable "+(0,S.getThemeTypeSelector)(this._context.theme.type)),!0}prepareRender(f){}render(f){this.scrollbar.renderNow()}}e.EditorScrollbar=m}),define(X[831],ee([1,0,111,33,23,424]),function(q,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelectionsOverlay=void 0;class D{constructor(t){this.left=t.left,this.width=t.width,this.startStyle=null,this.endStyle=null}}class S{constructor(t,i){this.lineNumber=t,this.ranges=i}}function m(s){return new D(s)}function _(s){return new S(s.lineNumber,s.ranges.map(m))}class f extends L.DynamicViewOverlay{constructor(t){super(),this._previousFrameVisibleRangesWithStyle=[],this._context=t;const i=this._context.configuration.options;this._lineHeight=i.get(64),this._roundedSelection=i.get(98),this._typicalHalfwidthCharacterWidth=i.get(48).typicalHalfwidthCharacterWidth,this._selections=[],this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(t){const i=this._context.configuration.options;return this._lineHeight=i.get(64),this._roundedSelection=i.get(98),this._typicalHalfwidthCharacterWidth=i.get(48).typicalHalfwidthCharacterWidth,!0}onCursorStateChanged(t){return this._selections=t.selections.slice(0),!0}onDecorationsChanged(t){return!0}onFlushed(t){return!0}onLinesChanged(t){return!0}onLinesDeleted(t){return!0}onLinesInserted(t){return!0}onScrollChanged(t){return t.scrollTopChanged}onZonesChanged(t){return!0}_visibleRangesHaveGaps(t){for(let i=0,o=t.length;i<o;i++)if(t[i].ranges.length>1)return!0;return!1}_enrichVisibleRangesWithStyle(t,i,o){const r=this._typicalHalfwidthCharacterWidth/4;let d=null,h=null;if(o&&o.length>0&&i.length>0){const n=i[0].lineNumber;if(n===t.startLineNumber)for(let a=0;!d&&a<o.length;a++)o[a].lineNumber===n&&(d=o[a].ranges[0]);const c=i[i.length-1].lineNumber;if(c===t.endLineNumber)for(let a=o.length-1;!h&&a>=0;a--)o[a].lineNumber===c&&(h=o[a].ranges[0]);d&&!d.startStyle&&(d=null),h&&!h.startStyle&&(h=null)}for(let n=0,c=i.length;n<c;n++){const a=i[n].ranges[0],l=a.left,u=a.left+a.width,C={top:0,bottom:0},g={top:0,bottom:0};if(n>0){const v=i[n-1].ranges[0].left,b=i[n-1].ranges[0].left+i[n-1].ranges[0].width;p(l-v)<r?C.top=2:l>v&&(C.top=1),p(u-b)<r?g.top=2:v<u&&u<b&&(g.top=1)}else d&&(C.top=d.startStyle.top,g.top=d.endStyle.top);if(n+1<c){const v=i[n+1].ranges[0].left,b=i[n+1].ranges[0].left+i[n+1].ranges[0].width;p(l-v)<r?C.bottom=2:v<l&&l<b&&(C.bottom=1),p(u-b)<r?g.bottom=2:u<b&&(g.bottom=1)}else h&&(C.bottom=h.startStyle.bottom,g.bottom=h.endStyle.bottom);a.startStyle=C,a.endStyle=g}}_getVisibleRangesWithStyle(t,i,o){const d=(i.linesVisibleRangesForRange(t,!0)||[]).map(_);return!this._visibleRangesHaveGaps(d)&&this._roundedSelection&&this._enrichVisibleRangesWithStyle(i.visibleRange,d,o),d}_createSelectionPiece(t,i,o,r,d){return'<div class="cslr '+o+'" style="top:'+t.toString()+"px;left:"+r.toString()+"px;width:"+d.toString()+"px;height:"+i+'px;"></div>'}_actualRenderOneSelection(t,i,o,r){if(r.length===0)return;const d=!!r[0].ranges[0].startStyle,h=this._lineHeight.toString(),n=(this._lineHeight-1).toString(),c=r[0].lineNumber,a=r[r.length-1].lineNumber;for(let l=0,u=r.length;l<u;l++){const C=r[l],g=C.lineNumber,v=g-i,b=o&&(g===a||g===c)?n:h,w=o&&g===c?1:0;let E="",I="";for(let T=0,P=C.ranges.length;T<P;T++){const A=C.ranges[T];if(d){const N=A.startStyle,R=A.endStyle;if(N.top===1||N.bottom===1){E+=this._createSelectionPiece(w,b,f.SELECTION_CLASS_NAME,A.left-f.ROUNDED_PIECE_WIDTH,f.ROUNDED_PIECE_WIDTH);let F=f.EDITOR_BACKGROUND_CLASS_NAME;N.top===1&&(F+=" "+f.SELECTION_TOP_RIGHT),N.bottom===1&&(F+=" "+f.SELECTION_BOTTOM_RIGHT),E+=this._createSelectionPiece(w,b,F,A.left-f.ROUNDED_PIECE_WIDTH,f.ROUNDED_PIECE_WIDTH)}if(R.top===1||R.bottom===1){E+=this._createSelectionPiece(w,b,f.SELECTION_CLASS_NAME,A.left+A.width,f.ROUNDED_PIECE_WIDTH);let F=f.EDITOR_BACKGROUND_CLASS_NAME;R.top===1&&(F+=" "+f.SELECTION_TOP_LEFT),R.bottom===1&&(F+=" "+f.SELECTION_BOTTOM_LEFT),E+=this._createSelectionPiece(w,b,F,A.left+A.width,f.ROUNDED_PIECE_WIDTH)}}let M=f.SELECTION_CLASS_NAME;if(d){const N=A.startStyle,R=A.endStyle;N.top===0&&(M+=" "+f.SELECTION_TOP_LEFT),N.bottom===0&&(M+=" "+f.SELECTION_BOTTOM_LEFT),R.top===0&&(M+=" "+f.SELECTION_TOP_RIGHT),R.bottom===0&&(M+=" "+f.SELECTION_BOTTOM_RIGHT)}I+=this._createSelectionPiece(w,b,M,A.left,A.width)}t[v][0]+=E,t[v][1]+=I}}prepareRender(t){const i=[],o=t.visibleRange.startLineNumber,r=t.visibleRange.endLineNumber;for(let h=o;h<=r;h++){const n=h-o;i[n]=["",""]}const d=[];for(let h=0,n=this._selections.length;h<n;h++){const c=this._selections[h];if(c.isEmpty()){d[h]=null;continue}const a=this._getVisibleRangesWithStyle(c,t,this._previousFrameVisibleRangesWithStyle[h]);d[h]=a,this._actualRenderOneSelection(i,o,this._selections.length>1,a)}this._previousFrameVisibleRangesWithStyle=d,this._renderResult=i.map(([h,n])=>h+n)}render(t,i){if(!this._renderResult)return"";const o=i-t;return o<0||o>=this._renderResult.length?"":this._renderResult[o]}}e.SelectionsOverlay=f,f.SELECTION_CLASS_NAME="selected-text",f.SELECTION_TOP_LEFT="top-left-radius",f.SELECTION_BOTTOM_LEFT="bottom-left-radius",f.SELECTION_TOP_RIGHT="top-right-radius",f.SELECTION_BOTTOM_RIGHT="bottom-right-radius",f.EDITOR_BACKGROUND_CLASS_NAME="monaco-editor-background",f.ROUNDED_PIECE_WIDTH=10,(0,y.registerThemingParticipant)((s,t)=>{const i=s.getColor(k.editorSelectionForeground);i&&!i.isTransparent()&&t.addRule(`.monaco-editor .view-line span.inline-selected-text { color: ${i}; }`)});function p(s){return s<0?-s:s}}),define(X[352],ee([1,0,7,34,2,42,90,143,11,211,33,23]),function(q,e,L,k,y,D,S,m,_,f,p,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OverviewRulerPart=void 0;let t=e.OverviewRulerPart=class It extends y.Disposable{constructor(o,r,d,h,n,c,a,l){super(),this._editors=o,this._rootElement=r,this._diffModel=d,this._rootWidth=h,this._rootHeight=n,this._modifiedEditorLayoutInfo=c,this._options=a,this._themeService=l;const u=(0,D.observableFromEvent)(this._themeService.onDidColorThemeChange,()=>this._themeService.getColorTheme()),C=(0,D.derived)("colors",b=>{const w=u.read(b),E=w.getColor(p.diffOverviewRulerInserted)||(w.getColor(p.diffInserted)||p.defaultInsertColor).transparent(2),I=w.getColor(p.diffOverviewRulerRemoved)||(w.getColor(p.diffRemoved)||p.defaultRemoveColor).transparent(2);return{insertColor:E,removeColor:I}}),g=(0,D.observableFromEvent)(this._editors.modified.onDidScrollChange,()=>this._editors.modified.getScrollTop()),v=(0,D.observableFromEvent)(this._editors.modified.onDidScrollChange,()=>this._editors.modified.getScrollHeight());this._register((0,S.autorunWithStore2)("create diff editor overview ruler if enabled",(b,w)=>{if(!this._options.renderOverviewRuler.read(b))return;const E=(0,k.createFastDomNode)(document.createElement("div"));E.setClassName("diffViewport"),E.setPosition("absolute");const I=(0,L.h)("div.diffOverview",{style:{position:"absolute",top:"0px",width:It.ENTIRE_DIFF_OVERVIEW_WIDTH+"px"}}).root;w.add((0,m.appendRemoveOnDispose)(I,E.domNode)),w.add((0,L.addStandardDisposableListener)(I,L.EventType.POINTER_DOWN,T=>{this._editors.modified.delegateVerticalScrollbarPointerDown(T)})),w.add((0,L.addDisposableListener)(I,L.EventType.MOUSE_WHEEL,T=>{this._editors.modified.delegateScrollFromMouseWheelEvent(T)},{passive:!1})),w.add((0,m.appendRemoveOnDispose)(this._rootElement,I)),w.add((0,S.autorunWithStore2)("recreate overview rules when model changes",(T,P)=>{const A=this._diffModel.read(T),M=this._editors.original.createOverviewRuler("original diffOverviewRuler");M&&(P.add(M),P.add((0,m.appendRemoveOnDispose)(I,M.getDomNode())));const N=this._editors.modified.createOverviewRuler("modified diffOverviewRuler");if(N&&(P.add(N),P.add((0,m.appendRemoveOnDispose)(I,N.getDomNode()))),!M||!N)return;const R=(0,D.observableSignalFromEvent)("viewZoneChanged",this._editors.original.onDidChangeViewZones),F=(0,D.observableSignalFromEvent)("viewZoneChanged",this._editors.modified.onDidChangeViewZones),x=(0,D.observableSignalFromEvent)("hiddenRangesChanged",this._editors.original.onDidChangeHiddenAreas),W=(0,D.observableSignalFromEvent)("hiddenRangesChanged",this._editors.modified.onDidChangeHiddenAreas);P.add((0,D.autorun)("set overview ruler zones",z=>{var U;R.read(z),F.read(z),x.read(z),W.read(z);const O=C.read(z),G=(U=A?.diff.read(z))===null||U===void 0?void 0:U.mappings;function Q(re,oe,te){const H=te._getViewModel();return H?re.filter(B=>B.length>0).map(B=>{const K=H.coordinatesConverter.convertModelPositionToViewPosition(new _.Position(B.startLineNumber,1)),Z=H.coordinatesConverter.convertModelPositionToViewPosition(new _.Position(B.endLineNumberExclusive,1));return new f.OverviewRulerZone(K.lineNumber,Z.lineNumber,0,oe.toString())}):[]}M?.setZones(Q((G||[]).map(re=>re.lineRangeMapping.originalRange),O.removeColor,this._editors.original)),N?.setZones(Q((G||[]).map(re=>re.lineRangeMapping.modifiedRange),O.insertColor,this._editors.modified))})),P.add((0,D.autorun)("layout overview ruler",z=>{const U=this._rootHeight.read(z),O=this._rootWidth.read(z),G=this._modifiedEditorLayoutInfo.read(z);if(G){const Q=It.ENTIRE_DIFF_OVERVIEW_WIDTH-2*It.ONE_OVERVIEW_WIDTH;M.setLayout({top:0,height:U,right:Q+It.ONE_OVERVIEW_WIDTH,width:It.ONE_OVERVIEW_WIDTH}),N.setLayout({top:0,height:U,right:0,width:It.ONE_OVERVIEW_WIDTH});const re=g.read(z),oe=v.read(z),te=Math.max(0,G.height),H=Math.max(0,te-2*0),B=oe>0?H/oe:0,K=Math.max(0,Math.floor(G.height*B)),Z=Math.floor(re*B);E.setTop(Z),E.setHeight(K)}else E.setTop(0),E.setHeight(0);I.style.height=U+"px",I.style.left=O-It.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",E.setWidth(It.ENTIRE_DIFF_OVERVIEW_WIDTH)}))}))}))}};t.ONE_OVERVIEW_WIDTH=15,t.ENTIRE_DIFF_OVERVIEW_WIDTH=t.ONE_OVERVIEW_WIDTH*2,e.OverviewRulerPart=t=Ne([ge(7,s.IThemeService)],t)}),define(X[832],ee([1,0,6,2,90,352,35,605,13,8]),function(q,e,L,k,y,D,S,m,_,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiffEditorEditors=void 0;let p=e.DiffEditorEditors=class extends k.Disposable{constructor(t,i,o,r,d,h,n){super(),this.originalEditorElement=t,this.modifiedEditorElement=i,this._options=o,this._createInnerEditor=d,this._contextKeyService=h,this._instantiationService=n,this._onDidContentSizeChange=this._register(new L.Emitter),this.original=this._createLeftHandSideEditor(o.editorOptions.get(),r.originalEditor||{}),this.modified=this._createRightHandSideEditor(o.editorOptions.get(),r.modifiedEditor||{}),this._register((0,y.autorunHandleChanges)("update editor options",{createEmptyChangeSummary:()=>({}),handleChange:(c,a)=>(c.didChange(o.editorOptions)&&Object.assign(a,c.change.changedOptions),!0)},(c,a)=>{o.editorOptions.read(c),this.modified.updateOptions(this._adjustOptionsForRightHandSide(a)),this.original.updateOptions(this._adjustOptionsForLeftHandSide(a))}))}_createLeftHandSideEditor(t,i){const o=this._constructInnerEditor(this._instantiationService,this.originalEditorElement,this._adjustOptionsForLeftHandSide(t),i),r=this._contextKeyService.createKey("isInDiffLeftEditor",o.hasWidgetFocus());return this._register(o.onDidFocusEditorWidget(()=>r.set(!0))),this._register(o.onDidBlurEditorWidget(()=>r.set(!1))),o}_createRightHandSideEditor(t,i){const o=this._constructInnerEditor(this._instantiationService,this.modifiedEditorElement,this._adjustOptionsForRightHandSide(t),i),r=this._contextKeyService.createKey("isInDiffRightEditor",o.hasWidgetFocus());return this._register(o.onDidFocusEditorWidget(()=>r.set(!0))),this._register(o.onDidBlurEditorWidget(()=>r.set(!1))),o}_constructInnerEditor(t,i,o,r){const d=this._createInnerEditor(t,i,o,r);return this._register(d.onDidContentSizeChange(h=>{const n=this.original.getContentWidth()+this.modified.getContentWidth()+D.OverviewRulerPart.ENTIRE_DIFF_OVERVIEW_WIDTH,c=Math.max(this.modified.getContentHeight(),this.original.getContentHeight());this._onDidContentSizeChange.fire({contentHeight:c,contentWidth:n,contentHeightChanged:h.contentHeightChanged,contentWidthChanged:h.contentWidthChanged})})),d}_adjustOptionsForLeftHandSide(t){const i=this._adjustOptionsForSubEditor(t);return this._options.renderSideBySide.get()?i.wordWrapOverride1=this._options.diffWordWrap.get():(i.wordWrapOverride1="off",i.wordWrapOverride2="off",i.stickyScroll={enabled:!1}),t.originalAriaLabel&&(i.ariaLabel=t.originalAriaLabel),i.ariaLabel=this._updateAriaLabel(i.ariaLabel),i.readOnly=!this._options.originalEditable.get(),i.dropIntoEditor={enabled:!i.readOnly},i.extraEditorClassName="original-in-monaco-diff-editor",i}_adjustOptionsForRightHandSide(t){const i=this._adjustOptionsForSubEditor(t);return t.modifiedAriaLabel&&(i.ariaLabel=t.modifiedAriaLabel),i.ariaLabel=this._updateAriaLabel(i.ariaLabel),i.wordWrapOverride1=this._options.diffWordWrap.get(),i.revealHorizontalRightPadding=S.EditorOptions.revealHorizontalRightPadding.defaultValue+D.OverviewRulerPart.ENTIRE_DIFF_OVERVIEW_WIDTH,i.scrollbar.verticalHasArrows=!1,i.extraEditorClassName="modified-in-monaco-diff-editor",i}_adjustOptionsForSubEditor(t){const i=Object.assign(Object.assign({},t),{dimension:{height:0,width:0}});return i.inDiffEditor=!0,i.automaticLayout=!1,i.scrollbar=Object.assign({},i.scrollbar||{}),i.scrollbar.vertical="visible",i.folding=!1,i.codeLens=this._options.diffCodeLens.get(),i.fixedOverflowWidgets=!0,i.minimap=Object.assign({},i.minimap||{}),i.minimap.enabled=!1,this._options.collapseUnchangedRegions.get()?i.stickyScroll={enabled:!1}:i.stickyScroll=this._options.editorOptions.get().stickyScroll,i}_updateAriaLabel(t){const i=(0,m.localize)(0,null);if(this._options.accessibilityVerbose.get())return t+i;if(t)return t.replaceAll(i,"")}};e.DiffEditorEditors=p=Ne([ge(5,_.IContextKeyService),ge(6,f.IInstantiationService)],p)}),define(X[79],ee([1,0,618,36,33,23]),function(q,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.editorUnicodeHighlightBackground=e.editorUnicodeHighlightBorder=e.editorBracketPairGuideActiveBackground6=e.editorBracketPairGuideActiveBackground5=e.editorBracketPairGuideActiveBackground4=e.editorBracketPairGuideActiveBackground3=e.editorBracketPairGuideActiveBackground2=e.editorBracketPairGuideActiveBackground1=e.editorBracketPairGuideBackground6=e.editorBracketPairGuideBackground5=e.editorBracketPairGuideBackground4=e.editorBracketPairGuideBackground3=e.editorBracketPairGuideBackground2=e.editorBracketPairGuideBackground1=e.editorBracketHighlightingUnexpectedBracketForeground=e.editorBracketHighlightingForeground6=e.editorBracketHighlightingForeground5=e.editorBracketHighlightingForeground4=e.editorBracketHighlightingForeground3=e.editorBracketHighlightingForeground2=e.editorBracketHighlightingForeground1=e.overviewRulerInfo=e.overviewRulerWarning=e.overviewRulerError=e.overviewRulerRangeHighlight=e.ghostTextBackground=e.ghostTextForeground=e.ghostTextBorder=e.editorUnnecessaryCodeOpacity=e.editorUnnecessaryCodeBorder=e.editorGutter=e.editorOverviewRulerBackground=e.editorOverviewRulerBorder=e.editorBracketMatchBorder=e.editorBracketMatchBackground=e.editorCodeLensForeground=e.editorRuler=e.editorDimmedLineNumber=e.editorActiveLineNumber=e.editorLineNumbers=e.editorActiveIndentGuides=e.editorIndentGuides=e.editorWhitespaces=e.editorCursorBackground=e.editorCursorForeground=e.editorSymbolHighlightBorder=e.editorSymbolHighlight=e.editorRangeHighlightBorder=e.editorRangeHighlight=e.editorLineHighlightBorder=e.editorLineHighlight=void 0,e.editorLineHighlight=(0,y.registerColor)("editor.lineHighlightBackground",{dark:null,light:null,hcDark:null,hcLight:null},L.localize(0,null)),e.editorLineHighlightBorder=(0,y.registerColor)("editor.lineHighlightBorder",{dark:"#282828",light:"#eeeeee",hcDark:"#f38518",hcLight:y.contrastBorder},L.localize(1,null)),e.editorRangeHighlight=(0,y.registerColor)("editor.rangeHighlightBackground",{dark:"#ffffff0b",light:"#fdff0033",hcDark:null,hcLight:null},L.localize(2,null),!0),e.editorRangeHighlightBorder=(0,y.registerColor)("editor.rangeHighlightBorder",{dark:null,light:null,hcDark:y.activeContrastBorder,hcLight:y.activeContrastBorder},L.localize(3,null),!0),e.editorSymbolHighlight=(0,y.registerColor)("editor.symbolHighlightBackground",{dark:y.editorFindMatchHighlight,light:y.editorFindMatchHighlight,hcDark:null,hcLight:null},L.localize(4,null),!0),e.editorSymbolHighlightBorder=(0,y.registerColor)("editor.symbolHighlightBorder",{dark:null,light:null,hcDark:y.activeContrastBorder,hcLight:y.activeContrastBorder},L.localize(5,null),!0),e.editorCursorForeground=(0,y.registerColor)("editorCursor.foreground",{dark:"#AEAFAD",light:k.Color.black,hcDark:k.Color.white,hcLight:"#0F4A85"},L.localize(6,null)),e.editorCursorBackground=(0,y.registerColor)("editorCursor.background",null,L.localize(7,null)),e.editorWhitespaces=(0,y.registerColor)("editorWhitespace.foreground",{dark:"#e3e4e229",light:"#33333333",hcDark:"#e3e4e229",hcLight:"#CCCCCC"},L.localize(8,null)),e.editorIndentGuides=(0,y.registerColor)("editorIndentGuide.background",{dark:e.editorWhitespaces,light:e.editorWhitespaces,hcDark:e.editorWhitespaces,hcLight:e.editorWhitespaces},L.localize(9,null)),e.editorActiveIndentGuides=(0,y.registerColor)("editorIndentGuide.activeBackground",{dark:e.editorWhitespaces,light:e.editorWhitespaces,hcDark:e.editorWhitespaces,hcLight:e.editorWhitespaces},L.localize(10,null)),e.editorLineNumbers=(0,y.registerColor)("editorLineNumber.foreground",{dark:"#858585",light:"#237893",hcDark:k.Color.white,hcLight:"#292929"},L.localize(11,null));const S=(0,y.registerColor)("editorActiveLineNumber.foreground",{dark:"#c6c6c6",light:"#0B216F",hcDark:y.activeContrastBorder,hcLight:y.activeContrastBorder},L.localize(12,null),!1,L.localize(13,null));e.editorActiveLineNumber=(0,y.registerColor)("editorLineNumber.activeForeground",{dark:S,light:S,hcDark:S,hcLight:S},L.localize(14,null)),e.editorDimmedLineNumber=(0,y.registerColor)("editorLineNumber.dimmedForeground",{dark:null,light:null,hcDark:null,hcLight:null},L.localize(15,null)),e.editorRuler=(0,y.registerColor)("editorRuler.foreground",{dark:"#5A5A5A",light:k.Color.lightgrey,hcDark:k.Color.white,hcLight:"#292929"},L.localize(16,null)),e.editorCodeLensForeground=(0,y.registerColor)("editorCodeLens.foreground",{dark:"#999999",light:"#919191",hcDark:"#999999",hcLight:"#292929"},L.localize(17,null)),e.editorBracketMatchBackground=(0,y.registerColor)("editorBracketMatch.background",{dark:"#0064001a",light:"#0064001a",hcDark:"#0064001a",hcLight:"#0000"},L.localize(18,null)),e.editorBracketMatchBorder=(0,y.registerColor)("editorBracketMatch.border",{dark:"#888",light:"#B9B9B9",hcDark:y.contrastBorder,hcLight:y.contrastBorder},L.localize(19,null)),e.editorOverviewRulerBorder=(0,y.registerColor)("editorOverviewRuler.border",{dark:"#7f7f7f4d",light:"#7f7f7f4d",hcDark:"#7f7f7f4d",hcLight:"#666666"},L.localize(20,null)),e.editorOverviewRulerBackground=(0,y.registerColor)("editorOverviewRuler.background",null,L.localize(21,null)),e.editorGutter=(0,y.registerColor)("editorGutter.background",{dark:y.editorBackground,light:y.editorBackground,hcDark:y.editorBackground,hcLight:y.editorBackground},L.localize(22,null)),e.editorUnnecessaryCodeBorder=(0,y.registerColor)("editorUnnecessaryCode.border",{dark:null,light:null,hcDark:k.Color.fromHex("#fff").transparent(.8),hcLight:y.contrastBorder},L.localize(23,null)),e.editorUnnecessaryCodeOpacity=(0,y.registerColor)("editorUnnecessaryCode.opacity",{dark:k.Color.fromHex("#000a"),light:k.Color.fromHex("#0007"),hcDark:null,hcLight:null},L.localize(24,null)),e.ghostTextBorder=(0,y.registerColor)("editorGhostText.border",{dark:null,light:null,hcDark:k.Color.fromHex("#fff").transparent(.8),hcLight:k.Color.fromHex("#292929").transparent(.8)},L.localize(25,null)),e.ghostTextForeground=(0,y.registerColor)("editorGhostText.foreground",{dark:k.Color.fromHex("#ffffff56"),light:k.Color.fromHex("#0007"),hcDark:null,hcLight:null},L.localize(26,null)),e.ghostTextBackground=(0,y.registerColor)("editorGhostText.background",{dark:null,light:null,hcDark:null,hcLight:null},L.localize(27,null));const m=new k.Color(new k.RGBA(0,122,204,.6));e.overviewRulerRangeHighlight=(0,y.registerColor)("editorOverviewRuler.rangeHighlightForeground",{dark:m,light:m,hcDark:m,hcLight:m},L.localize(28,null),!0),e.overviewRulerError=(0,y.registerColor)("editorOverviewRuler.errorForeground",{dark:new k.Color(new k.RGBA(255,18,18,.7)),light:new k.Color(new k.RGBA(255,18,18,.7)),hcDark:new k.Color(new k.RGBA(255,50,50,1)),hcLight:"#B5200D"},L.localize(29,null)),e.overviewRulerWarning=(0,y.registerColor)("editorOverviewRuler.warningForeground",{dark:y.editorWarningForeground,light:y.editorWarningForeground,hcDark:y.editorWarningBorder,hcLight:y.editorWarningBorder},L.localize(30,null)),e.overviewRulerInfo=(0,y.registerColor)("editorOverviewRuler.infoForeground",{dark:y.editorInfoForeground,light:y.editorInfoForeground,hcDark:y.editorInfoBorder,hcLight:y.editorInfoBorder},L.localize(31,null)),e.editorBracketHighlightingForeground1=(0,y.registerColor)("editorBracketHighlight.foreground1",{dark:"#FFD700",light:"#0431FAFF",hcDark:"#FFD700",hcLight:"#0431FAFF"},L.localize(32,null)),e.editorBracketHighlightingForeground2=(0,y.registerColor)("editorBracketHighlight.foreground2",{dark:"#DA70D6",light:"#319331FF",hcDark:"#DA70D6",hcLight:"#319331FF"},L.localize(33,null)),e.editorBracketHighlightingForeground3=(0,y.registerColor)("editorBracketHighlight.foreground3",{dark:"#179FFF",light:"#7B3814FF",hcDark:"#87CEFA",hcLight:"#7B3814FF"},L.localize(34,null)),e.editorBracketHighlightingForeground4=(0,y.registerColor)("editorBracketHighlight.foreground4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},L.localize(35,null)),e.editorBracketHighlightingForeground5=(0,y.registerColor)("editorBracketHighlight.foreground5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},L.localize(36,null)),e.editorBracketHighlightingForeground6=(0,y.registerColor)("editorBracketHighlight.foreground6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},L.localize(37,null)),e.editorBracketHighlightingUnexpectedBracketForeground=(0,y.registerColor)("editorBracketHighlight.unexpectedBracket.foreground",{dark:new k.Color(new k.RGBA(255,18,18,.8)),light:new k.Color(new k.RGBA(255,18,18,.8)),hcDark:new k.Color(new k.RGBA(255,50,50,1)),hcLight:""},L.localize(38,null)),e.editorBracketPairGuideBackground1=(0,y.registerColor)("editorBracketPairGuide.background1",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},L.localize(39,null)),e.editorBracketPairGuideBackground2=(0,y.registerColor)("editorBracketPairGuide.background2",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},L.localize(40,null)),e.editorBracketPairGuideBackground3=(0,y.registerColor)("editorBracketPairGuide.background3",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},L.localize(41,null)),e.editorBracketPairGuideBackground4=(0,y.registerColor)("editorBracketPairGuide.background4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},L.localize(42,null)),e.editorBracketPairGuideBackground5=(0,y.registerColor)("editorBracketPairGuide.background5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},L.localize(43,null)),e.editorBracketPairGuideBackground6=(0,y.registerColor)("editorBracketPairGuide.background6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},L.localize(44,null)),e.editorBracketPairGuideActiveBackground1=(0,y.registerColor)("editorBracketPairGuide.activeBackground1",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},L.localize(45,null)),e.editorBracketPairGuideActiveBackground2=(0,y.registerColor)("editorBracketPairGuide.activeBackground2",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},L.localize(46,null)),e.editorBracketPairGuideActiveBackground3=(0,y.registerColor)("editorBracketPairGuide.activeBackground3",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},L.localize(47,null)),e.editorBracketPairGuideActiveBackground4=(0,y.registerColor)("editorBracketPairGuide.activeBackground4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},L.localize(48,null)),e.editorBracketPairGuideActiveBackground5=(0,y.registerColor)("editorBracketPairGuide.activeBackground5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},L.localize(49,null)),e.editorBracketPairGuideActiveBackground6=(0,y.registerColor)("editorBracketPairGuide.activeBackground6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},L.localize(50,null)),e.editorUnicodeHighlightBorder=(0,y.registerColor)("editorUnicodeHighlight.border",{dark:"#BD9B03",light:"#CEA33D",hcDark:"#ff0000",hcLight:"#CEA33D"},L.localize(51,null)),e.editorUnicodeHighlightBackground=(0,y.registerColor)("editorUnicodeHighlight.background",{dark:"#bd9b0326",light:"#cea33d14",hcDark:"#00000000",hcLight:"#cea33d14"},L.localize(52,null)),(0,D.registerThemingParticipant)((_,f)=>{const p=_.getColor(y.editorBackground),s=_.getColor(e.editorLineHighlight),t=s&&!s.isTransparent()?s:p;t&&f.addRule(`.monaco-editor .inputarea.ime-input { background-color: ${t}; }`)})}),define(X[833],ee([1,0,111,79,16,23,24,88,411]),function(q,e,L,k,y,D,S,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CurrentLineMarginHighlightOverlay=e.CurrentLineHighlightOverlay=e.AbstractLineHighlightOverlay=void 0;class _ extends L.DynamicViewOverlay{constructor(t){super(),this._context=t;const i=this._context.configuration.options,o=i.get(141);this._lineHeight=i.get(64),this._renderLineHighlight=i.get(93),this._renderLineHighlightOnlyWhenFocus=i.get(94),this._contentLeft=o.contentLeft,this._contentWidth=o.contentWidth,this._selectionIsEmpty=!0,this._focused=!1,this._cursorLineNumbers=[1],this._selections=[new S.Selection(1,1,1,1)],this._renderData=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}_readFromSelections(){let t=!1;const i=this._selections.map(r=>r.positionLineNumber);i.sort((r,d)=>r-d),y.equals(this._cursorLineNumbers,i)||(this._cursorLineNumbers=i,t=!0);const o=this._selections.every(r=>r.isEmpty());return this._selectionIsEmpty!==o&&(this._selectionIsEmpty=o,t=!0),t}onThemeChanged(t){return this._readFromSelections()}onConfigurationChanged(t){const i=this._context.configuration.options,o=i.get(141);return this._lineHeight=i.get(64),this._renderLineHighlight=i.get(93),this._renderLineHighlightOnlyWhenFocus=i.get(94),this._contentLeft=o.contentLeft,this._contentWidth=o.contentWidth,!0}onCursorStateChanged(t){return this._selections=t.selections,this._readFromSelections()}onFlushed(t){return!0}onLinesDeleted(t){return!0}onLinesInserted(t){return!0}onScrollChanged(t){return t.scrollWidthChanged||t.scrollTopChanged}onZonesChanged(t){return!0}onFocusChanged(t){return this._renderLineHighlightOnlyWhenFocus?(this._focused=t.isFocused,!0):!1}prepareRender(t){if(!this._shouldRenderThis()){this._renderData=null;return}const i=this._renderOne(t),o=t.visibleRange.startLineNumber,r=t.visibleRange.endLineNumber,d=this._cursorLineNumbers.length;let h=0;const n=[];for(let c=o;c<=r;c++){const a=c-o;for(;h<d&&this._cursorLineNumbers[h]<c;)h++;h<d&&this._cursorLineNumbers[h]===c?n[a]=i:n[a]=""}this._renderData=n}render(t,i){if(!this._renderData)return"";const o=i-t;return o>=this._renderData.length?"":this._renderData[o]}_shouldRenderInMargin(){return(this._renderLineHighlight==="gutter"||this._renderLineHighlight==="all")&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}_shouldRenderInContent(){return(this._renderLineHighlight==="line"||this._renderLineHighlight==="all")&&this._selectionIsEmpty&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}}e.AbstractLineHighlightOverlay=_;class f extends _{_renderOne(t){return`<div class="${"current-line"+(this._shouldRenderOther()?" current-line-both":"")}" style="width:${Math.max(t.scrollWidth,this._contentWidth)}px; height:${this._lineHeight}px;"></div>`}_shouldRenderThis(){return this._shouldRenderInContent()}_shouldRenderOther(){return this._shouldRenderInMargin()}}e.CurrentLineHighlightOverlay=f;class p extends _{_renderOne(t){return`<div class="${"current-line"+(this._shouldRenderInMargin()?" current-line-margin":"")+(this._shouldRenderOther()?" current-line-margin-both":"")}" style="width:${this._contentLeft}px; height:${this._lineHeight}px;"></div>`}_shouldRenderThis(){return!0}_shouldRenderOther(){return this._shouldRenderInContent()}}e.CurrentLineMarginHighlightOverlay=p,(0,D.registerThemingParticipant)((s,t)=>{const i=s.getColor(k.editorLineHighlight);if(i&&(t.addRule(`.monaco-editor .view-overlays .current-line { background-color: ${i}; }`),t.addRule(`.monaco-editor .margin-view-overlays .current-line-margin { background-color: ${i}; border: none; }`)),!i||i.isTransparent()||s.defines(k.editorLineHighlightBorder)){const o=s.getColor(k.editorLineHighlightBorder);o&&(t.addRule(`.monaco-editor .view-overlays .current-line { border: 2px solid ${o}; }`),t.addRule(`.monaco-editor .margin-view-overlays .current-line-margin { border: 2px solid ${o}; }`),(0,m.isHighContrast)(s.type)&&(t.addRule(".monaco-editor .view-overlays .current-line { border-width: 1px; }"),t.addRule(".monaco-editor .margin-view-overlays .current-line-margin { border-width: 1px; }")))}})}),define(X[834],ee([1,0,111,79,23,11,16,18,285,208,414]),function(q,e,L,k,y,D,S,m,_,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IndentGuidesOverlay=void 0;class p extends L.DynamicViewOverlay{constructor(i){super(),this._context=i,this._primaryPosition=null;const o=this._context.configuration.options,r=o.get(142),d=o.get(48);this._lineHeight=o.get(64),this._spaceWidth=d.spaceWidth,this._maxIndentLeft=r.wrappingColumn===-1?-1:r.wrappingColumn*d.typicalHalfwidthCharacterWidth,this._bracketPairGuideOptions=o.get(14),this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(i){const o=this._context.configuration.options,r=o.get(142),d=o.get(48);return this._lineHeight=o.get(64),this._spaceWidth=d.spaceWidth,this._maxIndentLeft=r.wrappingColumn===-1?-1:r.wrappingColumn*d.typicalHalfwidthCharacterWidth,this._bracketPairGuideOptions=o.get(14),!0}onCursorStateChanged(i){var o;const d=i.selections[0].getPosition();return!((o=this._primaryPosition)===null||o===void 0)&&o.equals(d)?!1:(this._primaryPosition=d,!0)}onDecorationsChanged(i){return!0}onFlushed(i){return!0}onLinesChanged(i){return!0}onLinesDeleted(i){return!0}onLinesInserted(i){return!0}onScrollChanged(i){return i.scrollTopChanged}onZonesChanged(i){return!0}onLanguageConfigurationChanged(i){return!0}prepareRender(i){var o,r,d,h;if(!this._bracketPairGuideOptions.indentation&&this._bracketPairGuideOptions.bracketPairs===!1){this._renderResult=null;return}const n=i.visibleRange.startLineNumber,c=i.visibleRange.endLineNumber,a=i.scrollWidth,l=this._lineHeight,u=this._primaryPosition,C=this.getGuidesByLine(n,Math.min(c+1,this._context.viewModel.getLineCount()),u),g=[];for(let v=n;v<=c;v++){const b=v-n,w=C[b];let E="";const I=(r=(o=i.visibleRangeForPosition(new D.Position(v,1)))===null||o===void 0?void 0:o.left)!==null&&r!==void 0?r:0;for(const T of w){const P=T.column===-1?I+(T.visibleColumn-1)*this._spaceWidth:i.visibleRangeForPosition(new D.Position(v,T.column)).left;if(P>a||this._maxIndentLeft>0&&P>this._maxIndentLeft)break;const A=T.horizontalLine?T.horizontalLine.top?"horizontal-top":"horizontal-bottom":"vertical",M=T.horizontalLine?((h=(d=i.visibleRangeForPosition(new D.Position(v,T.horizontalLine.endColumn)))===null||d===void 0?void 0:d.left)!==null&&h!==void 0?h:P+this._spaceWidth)-P:this._spaceWidth;E+=`<div class="core-guide ${T.className} ${A}" style="left:${P}px;height:${l}px;width:${M}px"></div>`}g[b]=E}this._renderResult=g}getGuidesByLine(i,o,r){const d=this._bracketPairGuideOptions.bracketPairs!==!1?this._context.viewModel.getBracketGuidesInRangeByLine(i,o,r,{highlightActive:this._bracketPairGuideOptions.highlightActiveBracketPair,horizontalGuides:this._bracketPairGuideOptions.bracketPairsHorizontal===!0?f.HorizontalGuidesState.Enabled:this._bracketPairGuideOptions.bracketPairsHorizontal==="active"?f.HorizontalGuidesState.EnabledForActive:f.HorizontalGuidesState.Disabled,includeInactive:this._bracketPairGuideOptions.bracketPairs===!0}):null,h=this._bracketPairGuideOptions.indentation?this._context.viewModel.getLinesIndentGuides(i,o):null;let n=0,c=0,a=0;if(this._bracketPairGuideOptions.highlightActiveIndentation!==!1&&r){const C=this._context.viewModel.getActiveIndentGuide(r.lineNumber,i,o);n=C.startLineNumber,c=C.endLineNumber,a=C.indent}const{indentSize:l}=this._context.viewModel.model.getOptions(),u=[];for(let C=i;C<=o;C++){const g=new Array;u.push(g);const v=d?d[C-i]:[],b=new S.ArrayQueue(v),w=h?h[C-i]:0;for(let E=1;E<=w;E++){const I=(E-1)*l+1,T=(this._bracketPairGuideOptions.highlightActiveIndentation==="always"||v.length===0)&&n<=C&&C<=c&&E===a;g.push(...b.takeWhile(A=>A.visibleColumn<I)||[]);const P=b.peek();(!P||P.visibleColumn!==I||P.horizontalLine)&&g.push(new f.IndentGuide(I,-1,T?"core-guide-indent-active":"core-guide-indent",null,-1,-1))}g.push(...b.takeWhile(E=>!0)||[])}return u}render(i,o){if(!this._renderResult)return"";const r=o-i;return r<0||r>=this._renderResult.length?"":this._renderResult[r]}}e.IndentGuidesOverlay=p;function s(t){if(!(t&&t.isTransparent()))return t}(0,y.registerThemingParticipant)((t,i)=>{const o=[{bracketColor:k.editorBracketHighlightingForeground1,guideColor:k.editorBracketPairGuideBackground1,guideColorActive:k.editorBracketPairGuideActiveBackground1},{bracketColor:k.editorBracketHighlightingForeground2,guideColor:k.editorBracketPairGuideBackground2,guideColorActive:k.editorBracketPairGuideActiveBackground2},{bracketColor:k.editorBracketHighlightingForeground3,guideColor:k.editorBracketPairGuideBackground3,guideColorActive:k.editorBracketPairGuideActiveBackground3},{bracketColor:k.editorBracketHighlightingForeground4,guideColor:k.editorBracketPairGuideBackground4,guideColorActive:k.editorBracketPairGuideActiveBackground4},{bracketColor:k.editorBracketHighlightingForeground5,guideColor:k.editorBracketPairGuideBackground5,guideColorActive:k.editorBracketPairGuideActiveBackground5},{bracketColor:k.editorBracketHighlightingForeground6,guideColor:k.editorBracketPairGuideBackground6,guideColorActive:k.editorBracketPairGuideActiveBackground6}],r=new _.BracketPairGuidesClassNames,d=o.map(h=>{var n,c;const a=t.getColor(h.bracketColor),l=t.getColor(h.guideColor),u=t.getColor(h.guideColorActive),C=s((n=s(l))!==null&&n!==void 0?n:a?.transparent(.3)),g=s((c=s(u))!==null&&c!==void 0?c:a);if(!(!C||!g))return{guideColor:C,guideColorActive:g}}).filter(m.isDefined);if(d.length>0){for(let h=0;h<30;h++){const n=d[h%d.length];i.addRule(`.monaco-editor .${r.getInlineClassNameOfLevel(h).replace(/ /g,".")} { --guide-color: ${n.guideColor}; --guide-color-active: ${n.guideColorActive}; }`)}i.addRule(".monaco-editor .vertical { box-shadow: 1px 0 0 0 var(--guide-color) inset; }"),i.addRule(".monaco-editor .horizontal-top { border-top: 1px solid var(--guide-color); }"),i.addRule(".monaco-editor .horizontal-bottom { border-bottom: 1px solid var(--guide-color); }"),i.addRule(`.monaco-editor .vertical.${r.activeClassName} { box-shadow: 1px 0 0 0 var(--guide-color-active) inset; }`),i.addRule(`.monaco-editor .horizontal-top.${r.activeClassName} { border-top: 1px solid var(--guide-color-active); }`),i.addRule(`.monaco-editor .horizontal-bottom.${r.activeClassName} { border-bottom: 1px solid var(--guide-color-active); }`)}})}),define(X[353],ee([1,0,17,111,11,23,79,415]),function(q,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LineNumbersOverlay=void 0;class m extends k.DynamicViewOverlay{constructor(f){super(),this._context=f,this._readConfig(),this._lastCursorModelPosition=new y.Position(1,1),this._renderResult=null,this._activeLineNumber=1,this._context.addEventHandler(this)}_readConfig(){const f=this._context.configuration.options;this._lineHeight=f.get(64);const p=f.get(65);this._renderLineNumbers=p.renderType,this._renderCustomLineNumbers=p.renderFn,this._renderFinalNewline=f.get(92);const s=f.get(141);this._lineNumbersLeft=s.lineNumbersLeft,this._lineNumbersWidth=s.lineNumbersWidth}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(f){return this._readConfig(),!0}onCursorStateChanged(f){const p=f.selections[0].getPosition();this._lastCursorModelPosition=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(p);let s=!1;return this._activeLineNumber!==p.lineNumber&&(this._activeLineNumber=p.lineNumber,s=!0),(this._renderLineNumbers===2||this._renderLineNumbers===3)&&(s=!0),s}onFlushed(f){return!0}onLinesChanged(f){return!0}onLinesDeleted(f){return!0}onLinesInserted(f){return!0}onScrollChanged(f){return f.scrollTopChanged}onZonesChanged(f){return!0}_getLineRenderLineNumber(f){const p=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new y.Position(f,1));if(p.column!==1)return"";const s=p.lineNumber;if(this._renderCustomLineNumbers)return this._renderCustomLineNumbers(s);if(this._renderLineNumbers===2){const t=Math.abs(this._lastCursorModelPosition.lineNumber-s);return t===0?'<span class="relative-current-line-number">'+s+"</span>":String(t)}return this._renderLineNumbers===3?this._lastCursorModelPosition.lineNumber===s||s%10===0?String(s):"":String(s)}prepareRender(f){if(this._renderLineNumbers===0){this._renderResult=null;return}const p=L.isLinux?this._lineHeight%2===0?" lh-even":" lh-odd":"",s=f.visibleRange.startLineNumber,t=f.visibleRange.endLineNumber,i=this._context.viewModel.getLineCount(),o=[];for(let r=s;r<=t;r++){const d=r-s,h=this._getLineRenderLineNumber(r);if(!h){o[d]="";continue}let n="";if(r===i&&this._context.viewModel.getLineLength(r)===0){if(this._renderFinalNewline==="off"){o[d]="";continue}this._renderFinalNewline==="dimmed"&&(n=" dimmed-line-number")}r===this._activeLineNumber&&(n=" active-line-number"),o[d]=`<div class="${m.CLASS_NAME}${p}${n}" style="left:${this._lineNumbersLeft}px;width:${this._lineNumbersWidth}px;">${h}</div>`}this._renderResult=o}render(f,p){if(!this._renderResult)return"";const s=p-f;return s<0||s>=this._renderResult.length?"":this._renderResult[s]}}e.LineNumbersOverlay=m,m.CLASS_NAME="line-numbers",(0,D.registerThemingParticipant)((_,f)=>{const p=_.getColor(S.editorLineNumbers),s=_.getColor(S.editorDimmedLineNumber);s?f.addRule(`.monaco-editor .line-numbers.dimmed-line-number { color: ${s}; }`):p&&f.addRule(`.monaco-editor .line-numbers.dimmed-line-number { color: ${p.transparent(.4)}; }`)})}),define(X[835],ee([1,0,598,51,34,17,9,59,229,271,52,353,287,35,145,11,5,24,175,29,36,261,409]),function(q,e,L,k,y,D,S,m,_,f,p,s,t,i,o,r,d,h,n,c,a,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextAreaHandler=void 0;class u{constructor(w,E,I,T,P){this._context=w,this.modelLineNumber=E,this.distanceToModelLineStart=I,this.widthOfHiddenLineTextBefore=T,this.distanceToModelLineEnd=P,this._visibleTextAreaBrand=void 0,this.startPosition=null,this.endPosition=null,this.visibleTextareaStart=null,this.visibleTextareaEnd=null,this._previousPresentation=null}prepareRender(w){const E=new r.Position(this.modelLineNumber,this.distanceToModelLineStart+1),I=new r.Position(this.modelLineNumber,this._context.viewModel.model.getLineMaxColumn(this.modelLineNumber)-this.distanceToModelLineEnd);this.startPosition=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(E),this.endPosition=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(I),this.startPosition.lineNumber===this.endPosition.lineNumber?(this.visibleTextareaStart=w.visibleRangeForPosition(this.startPosition),this.visibleTextareaEnd=w.visibleRangeForPosition(this.endPosition)):(this.visibleTextareaStart=null,this.visibleTextareaEnd=null)}definePresentation(w){return this._previousPresentation||(w?this._previousPresentation=w:this._previousPresentation={foreground:1,italic:!1,bold:!1,underline:!1,strikethrough:!1}),this._previousPresentation}}const C=k.isFirefox;class g extends p.ViewPart{constructor(w,E,I){super(w),this._primaryCursorPosition=new r.Position(1,1),this._primaryCursorVisibleRange=null,this._viewController=E,this._visibleRangeProvider=I,this._scrollLeft=0,this._scrollTop=0;const T=this._context.configuration.options,P=T.get(141);this._setAccessibilityOptions(T),this._contentLeft=P.contentLeft,this._contentWidth=P.contentWidth,this._contentHeight=P.height,this._fontInfo=T.get(48),this._lineHeight=T.get(64),this._emptySelectionClipboard=T.get(35),this._copyWithSyntaxHighlighting=T.get(23),this._visibleTextArea=null,this._selections=[new h.Selection(1,1,1,1)],this._modelSelections=[new h.Selection(1,1,1,1)],this._lastRenderPosition=null,this.textArea=(0,y.createFastDomNode)(document.createElement("textarea")),p.PartFingerprints.write(this.textArea,6),this.textArea.setClassName(`inputarea ${n.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME}`),this.textArea.setAttribute("wrap",this._textAreaWrapping&&!this._visibleTextArea?"on":"off");const{tabSize:A}=this._context.viewModel.model.getOptions();this.textArea.domNode.style.tabSize=`${A*this._fontInfo.spaceWidth}px`,this.textArea.setAttribute("autocorrect","off"),this.textArea.setAttribute("autocapitalize","off"),this.textArea.setAttribute("autocomplete","off"),this.textArea.setAttribute("spellcheck","false"),this.textArea.setAttribute("aria-label",this._getAriaLabel(T)),this.textArea.setAttribute("tabindex",String(T.get(121))),this.textArea.setAttribute("role","textbox"),this.textArea.setAttribute("aria-roledescription",L.localize(0,null)),this.textArea.setAttribute("aria-multiline","true"),this.textArea.setAttribute("aria-haspopup","false"),this.textArea.setAttribute("aria-autocomplete","both"),this._ensureReadOnlyAttribute(),this.textAreaCover=(0,y.createFastDomNode)(document.createElement("div")),this.textAreaCover.setPosition("absolute");const M={getLineCount:()=>this._context.viewModel.getLineCount(),getLineMaxColumn:F=>this._context.viewModel.getLineMaxColumn(F),getValueInRange:(F,x)=>this._context.viewModel.getValueInRange(F,x),getValueLengthInRange:(F,x)=>this._context.viewModel.getValueLengthInRange(F,x),modifyPosition:(F,x)=>this._context.viewModel.modifyPosition(F,x)},N={getDataToCopy:()=>{const F=this._context.viewModel.getPlainTextToCopy(this._modelSelections,this._emptySelectionClipboard,D.isWindows),x=this._context.viewModel.model.getEOL(),W=this._emptySelectionClipboard&&this._modelSelections.length===1&&this._modelSelections[0].isEmpty(),z=Array.isArray(F)?F:null,U=Array.isArray(F)?F.join(x):F;let O,G=null;if(_.CopyOptions.forceCopyWithSyntaxHighlighting||this._copyWithSyntaxHighlighting&&U.length<65536){const Q=this._context.viewModel.getRichTextToCopy(this._modelSelections,this._emptySelectionClipboard);Q&&(O=Q.html,G=Q.mode)}return{isFromEmptySelection:W,multicursorText:z,text:U,html:O,mode:G}},getScreenReaderContent:()=>{if(this._accessibilitySupport===1){const F=this._selections[0];if(D.isMacintosh&&F.isEmpty()){const W=F.getStartPosition();let z=this._getWordBeforePosition(W);if(z.length===0&&(z=this._getCharacterBeforePosition(W)),z.length>0)return new f.TextAreaState(z,z.length,z.length,d.Range.fromPositions(W),0)}const x=500;if(D.isMacintosh&&!F.isEmpty()&&M.getValueLengthInRange(F,0)<x){const W=M.getValueInRange(F,0);return new f.TextAreaState(W,0,W.length,F,0)}if(k.isSafari&&!F.isEmpty()){const W="vscode-placeholder";return new f.TextAreaState(W,0,W.length,null,void 0)}return f.TextAreaState.EMPTY}if(k.isAndroid){const F=this._selections[0];if(F.isEmpty()){const x=F.getStartPosition(),[W,z]=this._getAndroidWordAtPosition(x);if(W.length>0)return new f.TextAreaState(W,z,z,d.Range.fromPositions(x),0)}return f.TextAreaState.EMPTY}return f.PagedScreenReaderStrategy.fromEditorSelection(M,this._selections[0],this._accessibilityPageSize,this._accessibilitySupport===0)},deduceModelPosition:(F,x,W)=>this._context.viewModel.deduceModelPositionRelativeToViewPosition(F,x,W)},R=this._register(new _.TextAreaWrapper(this.textArea.domNode));this._textAreaInput=this._register(new _.TextAreaInput(N,R,D.OS,{isAndroid:k.isAndroid,isChrome:k.isChrome,isFirefox:k.isFirefox,isSafari:k.isSafari})),this._register(this._textAreaInput.onKeyDown(F=>{this._viewController.emitKeyDown(F)})),this._register(this._textAreaInput.onKeyUp(F=>{this._viewController.emitKeyUp(F)})),this._register(this._textAreaInput.onPaste(F=>{let x=!1,W=null,z=null;F.metadata&&(x=this._emptySelectionClipboard&&!!F.metadata.isFromEmptySelection,W=typeof F.metadata.multicursorText<"u"?F.metadata.multicursorText:null,z=F.metadata.mode),this._viewController.paste(F.text,x,W,z)})),this._register(this._textAreaInput.onCut(()=>{this._viewController.cut()})),this._register(this._textAreaInput.onType(F=>{F.replacePrevCharCnt||F.replaceNextCharCnt||F.positionDelta?(f._debugComposition&&console.log(` => compositionType: <<${F.text}>>, ${F.replacePrevCharCnt}, ${F.replaceNextCharCnt}, ${F.positionDelta}`),this._viewController.compositionType(F.text,F.replacePrevCharCnt,F.replaceNextCharCnt,F.positionDelta)):(f._debugComposition&&console.log(` => type: <<${F.text}>>`),this._viewController.type(F.text))})),this._register(this._textAreaInput.onSelectionChangeRequest(F=>{this._viewController.setSelection(F)})),this._register(this._textAreaInput.onCompositionStart(F=>{const x=this.textArea.domNode,W=this._modelSelections[0],{distanceToModelLineStart:z,widthOfHiddenTextBefore:U}=(()=>{const G=x.value.substring(0,Math.min(x.selectionStart,x.selectionEnd)),Q=G.lastIndexOf(`
`),re=G.substring(Q+1),oe=re.lastIndexOf("	"),te=re.length-oe-1,H=W.getStartPosition(),B=Math.min(H.column-1,te),K=H.column-1-B,Z=re.substring(0,re.length-B),{tabSize:J}=this._context.viewModel.model.getOptions(),ne=v(Z,this._fontInfo,J);return{distanceToModelLineStart:K,widthOfHiddenTextBefore:ne}})(),{distanceToModelLineEnd:O}=(()=>{const G=x.value.substring(Math.max(x.selectionStart,x.selectionEnd)),Q=G.indexOf(`
`),re=Q===-1?G:G.substring(0,Q),oe=re.indexOf("	"),te=oe===-1?re.length:re.length-oe-1,H=W.getEndPosition(),B=Math.min(this._context.viewModel.model.getLineMaxColumn(H.lineNumber)-H.column,te);return{distanceToModelLineEnd:this._context.viewModel.model.getLineMaxColumn(H.lineNumber)-H.column-B}})();this._context.viewModel.revealRange("keyboard",!0,d.Range.fromPositions(this._selections[0].getStartPosition()),0,1),this._visibleTextArea=new u(this._context,W.startLineNumber,z,U,O),this.textArea.setAttribute("wrap",this._textAreaWrapping&&!this._visibleTextArea?"on":"off"),this._visibleTextArea.prepareRender(this._visibleRangeProvider),this._render(),this.textArea.setClassName(`inputarea ${n.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME} ime-input`),this._viewController.compositionStart(),this._context.viewModel.onCompositionStart()})),this._register(this._textAreaInput.onCompositionUpdate(F=>{this._visibleTextArea&&(this._visibleTextArea.prepareRender(this._visibleRangeProvider),this._render())})),this._register(this._textAreaInput.onCompositionEnd(()=>{this._visibleTextArea=null,this.textArea.setAttribute("wrap",this._textAreaWrapping&&!this._visibleTextArea?"on":"off"),this._render(),this.textArea.setClassName(`inputarea ${n.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME}`),this._viewController.compositionEnd(),this._context.viewModel.onCompositionEnd()})),this._register(this._textAreaInput.onFocus(()=>{this._context.viewModel.setHasFocus(!0)})),this._register(this._textAreaInput.onBlur(()=>{this._context.viewModel.setHasFocus(!1)})),this._register(l.IME.onDidChange(()=>{this._ensureReadOnlyAttribute()}))}writeScreenReaderContent(w){this._textAreaInput.writeScreenReaderContent(w)}dispose(){super.dispose()}_getAndroidWordAtPosition(w){const E='`~!@#$%^&*()-=+[{]}\\|;:",.<>/?',I=this._context.viewModel.getLineContent(w.lineNumber),T=(0,o.getMapForWordSeparators)(E);let P=!0,A=w.column,M=!0,N=w.column,R=0;for(;R<50&&(P||M);){if(P&&A<=1&&(P=!1),P){const F=I.charCodeAt(A-2);T.get(F)!==0?P=!1:A--}if(M&&N>I.length&&(M=!1),M){const F=I.charCodeAt(N-1);T.get(F)!==0?M=!1:N++}R++}return[I.substring(A-1,N-1),w.column-A]}_getWordBeforePosition(w){const E=this._context.viewModel.getLineContent(w.lineNumber),I=(0,o.getMapForWordSeparators)(this._context.configuration.options.get(127));let T=w.column,P=0;for(;T>1;){const A=E.charCodeAt(T-2);if(I.get(A)!==0||P>50)return E.substring(T-1,w.column-1);P++,T--}return E.substring(0,w.column-1)}_getCharacterBeforePosition(w){if(w.column>1){const I=this._context.viewModel.getLineContent(w.lineNumber).charAt(w.column-2);if(!S.isHighSurrogate(I.charCodeAt(0)))return I}return""}_getAriaLabel(w){return w.get(2)===1?L.localize(1,null,D.isLinux?"Shift+Alt+F1":"Alt+F1"):w.get(4)}_setAccessibilityOptions(w){this._accessibilitySupport=w.get(2);const E=w.get(3);this._accessibilitySupport===2&&E===i.EditorOptions.accessibilityPageSize.defaultValue?this._accessibilityPageSize=500:this._accessibilityPageSize=E;const T=w.get(141).wrappingColumn;if(T!==-1&&this._accessibilitySupport!==1){const P=w.get(48);this._textAreaWrapping=!0,this._textAreaWidth=Math.round(T*P.typicalHalfwidthCharacterWidth)}else this._textAreaWrapping=!1,this._textAreaWidth=C?0:1}onConfigurationChanged(w){const E=this._context.configuration.options,I=E.get(141);this._setAccessibilityOptions(E),this._contentLeft=I.contentLeft,this._contentWidth=I.contentWidth,this._contentHeight=I.height,this._fontInfo=E.get(48),this._lineHeight=E.get(64),this._emptySelectionClipboard=E.get(35),this._copyWithSyntaxHighlighting=E.get(23),this.textArea.setAttribute("wrap",this._textAreaWrapping&&!this._visibleTextArea?"on":"off");const{tabSize:T}=this._context.viewModel.model.getOptions();return this.textArea.domNode.style.tabSize=`${T*this._fontInfo.spaceWidth}px`,this.textArea.setAttribute("aria-label",this._getAriaLabel(E)),this.textArea.setAttribute("tabindex",String(E.get(121))),(w.hasChanged(32)||w.hasChanged(88))&&this._ensureReadOnlyAttribute(),w.hasChanged(2)&&this._textAreaInput.writeScreenReaderContent("strategy changed"),!0}onCursorStateChanged(w){return this._selections=w.selections.slice(0),this._modelSelections=w.modelSelections.slice(0),this._textAreaInput.writeScreenReaderContent("selection changed"),!0}onDecorationsChanged(w){return!0}onFlushed(w){return!0}onLinesChanged(w){return!0}onLinesDeleted(w){return!0}onLinesInserted(w){return!0}onScrollChanged(w){return this._scrollLeft=w.scrollLeft,this._scrollTop=w.scrollTop,!0}onZonesChanged(w){return!0}isFocused(){return this._textAreaInput.isFocused()}focusTextArea(){this._textAreaInput.focusTextArea()}getLastRenderData(){return this._lastRenderPosition}setAriaOptions(w){w.activeDescendant?(this.textArea.setAttribute("aria-haspopup","true"),this.textArea.setAttribute("aria-autocomplete","list"),this.textArea.setAttribute("aria-activedescendant",w.activeDescendant)):(this.textArea.setAttribute("aria-haspopup","false"),this.textArea.setAttribute("aria-autocomplete","both"),this.textArea.removeAttribute("aria-activedescendant")),w.role&&this.textArea.setAttribute("role",w.role)}_ensureReadOnlyAttribute(){const w=this._context.configuration.options;!l.IME.enabled||w.get(32)&&w.get(88)?this.textArea.setAttribute("readonly","true"):this.textArea.removeAttribute("readonly")}prepareRender(w){var E;this._primaryCursorPosition=new r.Position(this._selections[0].positionLineNumber,this._selections[0].positionColumn),this._primaryCursorVisibleRange=w.visibleRangeForPosition(this._primaryCursorPosition),(E=this._visibleTextArea)===null||E===void 0||E.prepareRender(w)}render(w){this._textAreaInput.writeScreenReaderContent("render"),this._render()}_render(){var w;if(this._visibleTextArea){const T=this._visibleTextArea.visibleTextareaStart,P=this._visibleTextArea.visibleTextareaEnd,A=this._visibleTextArea.startPosition,M=this._visibleTextArea.endPosition;if(A&&M&&T&&P&&P.left>=this._scrollLeft&&T.left<=this._scrollLeft+this._contentWidth){const N=this._context.viewLayout.getVerticalOffsetForLineNumber(this._primaryCursorPosition.lineNumber)-this._scrollTop,R=this._newlinecount(this.textArea.domNode.value.substr(0,this.textArea.domNode.selectionStart));let F=this._visibleTextArea.widthOfHiddenLineTextBefore,x=this._contentLeft+T.left-this._scrollLeft,W=P.left-T.left+1;if(x<this._contentLeft){const re=this._contentLeft-x;x+=re,F+=re,W-=re}W>this._contentWidth&&(W=this._contentWidth);const z=this._context.viewModel.getViewLineData(A.lineNumber),U=z.tokens.findTokenIndexAtOffset(A.column-1),O=z.tokens.findTokenIndexAtOffset(M.column-1),G=U===O,Q=this._visibleTextArea.definePresentation(G?z.tokens.getPresentation(U):null);this.textArea.domNode.scrollTop=R*this._lineHeight,this.textArea.domNode.scrollLeft=F,this._doRender({lastRenderPosition:null,top:N,left:x,width:W,height:this._lineHeight,useCover:!1,color:(c.TokenizationRegistry.getColorMap()||[])[Q.foreground],italic:Q.italic,bold:Q.bold,underline:Q.underline,strikethrough:Q.strikethrough})}return}if(!this._primaryCursorVisibleRange){this._renderAtTopLeft();return}const E=this._contentLeft+this._primaryCursorVisibleRange.left-this._scrollLeft;if(E<this._contentLeft||E>this._contentLeft+this._contentWidth){this._renderAtTopLeft();return}const I=this._context.viewLayout.getVerticalOffsetForLineNumber(this._selections[0].positionLineNumber)-this._scrollTop;if(I<0||I>this._contentHeight){this._renderAtTopLeft();return}if(D.isMacintosh){this._doRender({lastRenderPosition:this._primaryCursorPosition,top:I,left:this._textAreaWrapping?this._contentLeft:E,width:this._textAreaWidth,height:this._lineHeight,useCover:!1}),this.textArea.domNode.scrollLeft=this._primaryCursorVisibleRange.left;const T=(w=this._textAreaInput.textAreaState.newlineCountBeforeSelection)!==null&&w!==void 0?w:this._newlinecount(this.textArea.domNode.value.substr(0,this.textArea.domNode.selectionStart));this.textArea.domNode.scrollTop=T*this._lineHeight;return}this._doRender({lastRenderPosition:this._primaryCursorPosition,top:I,left:this._textAreaWrapping?this._contentLeft:E,width:this._textAreaWidth,height:C?0:1,useCover:!1})}_newlinecount(w){let E=0,I=-1;do{if(I=w.indexOf(`
`,I+1),I===-1)break;E++}while(!0);return E}_renderAtTopLeft(){this._doRender({lastRenderPosition:null,top:0,left:0,width:this._textAreaWidth,height:C?0:1,useCover:!0})}_doRender(w){this._lastRenderPosition=w.lastRenderPosition;const E=this.textArea,I=this.textAreaCover;(0,m.applyFontInfo)(E,this._fontInfo),E.setTop(w.top),E.setLeft(w.left),E.setWidth(w.width),E.setHeight(w.height),E.setColor(w.color?a.Color.Format.CSS.formatHex(w.color):""),E.setFontStyle(w.italic?"italic":""),w.bold&&E.setFontWeight("bold"),E.setTextDecoration(`${w.underline?" underline":""}${w.strikethrough?" line-through":""}`),I.setTop(w.useCover?w.top:0),I.setLeft(w.useCover?w.left:0),I.setWidth(w.useCover?w.width:0),I.setHeight(w.useCover?w.height:0);const T=this._context.configuration.options;T.get(55)?I.setClassName("monaco-editor-background textAreaCover "+t.Margin.OUTER_CLASS_NAME):T.get(65).renderType!==0?I.setClassName("monaco-editor-background textAreaCover "+s.LineNumbersOverlay.CLASS_NAME):I.setClassName("monaco-editor-background textAreaCover")}}e.TextAreaHandler=g;function v(b,w,E){if(b.length===0)return 0;const I=document.createElement("div");I.style.position="absolute",I.style.top="-50000px",I.style.width="50000px";const T=document.createElement("span");(0,m.applyFontInfo)(T,w),T.style.whiteSpace="pre",T.style.tabSize=`${E*w.spaceWidth}px`,T.append(b),I.appendChild(T),document.body.appendChild(I);const P=T.offsetWidth;return document.body.removeChild(I),P}}),define(X[836],ee([1,0,34,36,52,11,29,79,66]),function(q,e,L,k,y,D,S,m,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DecorationsOverviewRuler=void 0;class f{constructor(t,i){const o=t.options;this.lineHeight=o.get(64),this.pixelRatio=o.get(139),this.overviewRulerLanes=o.get(80),this.renderBorder=o.get(79);const r=i.getColor(m.editorOverviewRulerBorder);this.borderColor=r?r.toString():null,this.hideCursor=o.get(57);const d=i.getColor(m.editorCursorForeground);this.cursorColor=d?d.transparent(.7).toString():null,this.themeType=i.type;const h=o.get(70),n=h.enabled,c=h.side,a=i.getColor(m.editorOverviewRulerBackground),l=S.TokenizationRegistry.getDefaultBackground();a?this.backgroundColor=a:n&&c==="right"?this.backgroundColor=l:this.backgroundColor=null;const C=o.get(141).overviewRuler;this.top=C.top,this.right=C.right,this.domWidth=C.width,this.domHeight=C.height,this.overviewRulerLanes===0?(this.canvasWidth=0,this.canvasHeight=0):(this.canvasWidth=this.domWidth*this.pixelRatio|0,this.canvasHeight=this.domHeight*this.pixelRatio|0);const[g,v]=this._initLanes(1,this.canvasWidth,this.overviewRulerLanes);this.x=g,this.w=v}_initLanes(t,i,o){const r=i-t;if(o>=3){const d=Math.floor(r/3),h=Math.floor(r/3),n=r-d-h,c=t,a=c+d,l=c+d+n;return[[0,c,a,c,l,c,a,c],[0,d,n,d+n,h,d+n+h,n+h,d+n+h]]}else if(o===2){const d=Math.floor(r/2),h=r-d,n=t,c=n+d;return[[0,n,n,n,c,n,n,n],[0,d,d,d,h,d+h,d+h,d+h]]}else{const d=t,h=r;return[[0,d,d,d,d,d,d,d],[0,h,h,h,h,h,h,h]]}}equals(t){return this.lineHeight===t.lineHeight&&this.pixelRatio===t.pixelRatio&&this.overviewRulerLanes===t.overviewRulerLanes&&this.renderBorder===t.renderBorder&&this.borderColor===t.borderColor&&this.hideCursor===t.hideCursor&&this.cursorColor===t.cursorColor&&this.themeType===t.themeType&&k.Color.equals(this.backgroundColor,t.backgroundColor)&&this.top===t.top&&this.right===t.right&&this.domWidth===t.domWidth&&this.domHeight===t.domHeight&&this.canvasWidth===t.canvasWidth&&this.canvasHeight===t.canvasHeight}}class p extends y.ViewPart{constructor(t){super(t),this._domNode=(0,L.createFastDomNode)(document.createElement("canvas")),this._domNode.setClassName("decorationsOverviewRuler"),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._domNode.setContain("strict"),this._domNode.setAttribute("aria-hidden","true"),this._updateSettings(!1),this._tokensColorTrackerListener=S.TokenizationRegistry.onDidChange(i=>{i.changedColorMap&&this._updateSettings(!0)}),this._cursorPositions=[]}dispose(){super.dispose(),this._tokensColorTrackerListener.dispose()}_updateSettings(t){const i=new f(this._context.configuration,this._context.theme);return this._settings&&this._settings.equals(i)?!1:(this._settings=i,this._domNode.setTop(this._settings.top),this._domNode.setRight(this._settings.right),this._domNode.setWidth(this._settings.domWidth),this._domNode.setHeight(this._settings.domHeight),this._domNode.domNode.width=this._settings.canvasWidth,this._domNode.domNode.height=this._settings.canvasHeight,t&&this._render(),!0)}onConfigurationChanged(t){return this._updateSettings(!1)}onCursorStateChanged(t){this._cursorPositions=[];for(let i=0,o=t.selections.length;i<o;i++)this._cursorPositions[i]=t.selections[i].getPosition();return this._cursorPositions.sort(D.Position.compare),!0}onDecorationsChanged(t){return!!t.affectsOverviewRuler}onFlushed(t){return!0}onScrollChanged(t){return t.scrollHeightChanged}onZonesChanged(t){return!0}onThemeChanged(t){return this._updateSettings(!1)}getDomNode(){return this._domNode.domNode}prepareRender(t){}render(t){this._render()}_render(){const t=this._settings.backgroundColor;if(this._settings.overviewRulerLanes===0){this._domNode.setBackgroundColor(t?k.Color.Format.CSS.formatHexA(t):""),this._domNode.setDisplay("none");return}this._domNode.setDisplay("block");const i=this._settings.canvasWidth,o=this._settings.canvasHeight,r=this._settings.lineHeight,d=this._context.viewLayout,h=this._context.viewLayout.getScrollHeight(),n=o/h,c=this._context.viewModel.getAllOverviewRulerDecorations(this._context.theme),a=6*this._settings.pixelRatio|0,l=a/2|0,u=this._domNode.domNode.getContext("2d");t?t.isOpaque()?(u.fillStyle=k.Color.Format.CSS.formatHexA(t),u.fillRect(0,0,i,o)):(u.clearRect(0,0,i,o),u.fillStyle=k.Color.Format.CSS.formatHexA(t),u.fillRect(0,0,i,o)):u.clearRect(0,0,i,o);const C=this._settings.x,g=this._settings.w;c.sort(_.OverviewRulerDecorationsGroup.cmp);for(const v of c){const b=v.color,w=v.data;u.fillStyle=b;let E=0,I=0,T=0;for(let P=0,A=w.length/3;P<A;P++){const M=w[3*P],N=w[3*P+1],R=w[3*P+2];let F=d.getVerticalOffsetForLineNumber(N)*n|0,x=(d.getVerticalOffsetForLineNumber(R)+r)*n|0;if(x-F<a){let z=(F+x)/2|0;z<l?z=l:z+l>o&&(z=o-l),F=z-l,x=z+l}F>T+1||M!==E?(P!==0&&u.fillRect(C[E],I,g[E],T-I),E=M,I=F,T=x):x>T&&(T=x)}u.fillRect(C[E],I,g[E],T-I)}if(!this._settings.hideCursor&&this._settings.cursorColor){const v=2*this._settings.pixelRatio|0,b=v/2|0,w=this._settings.x[7],E=this._settings.w[7];u.fillStyle=this._settings.cursorColor;let I=-100,T=-100;for(let P=0,A=this._cursorPositions.length;P<A;P++){const M=this._cursorPositions[P];let N=d.getVerticalOffsetForLineNumber(M.lineNumber)*n|0;N<b?N=b:N+b>o&&(N=o-b);const R=N-b,F=R+v;R>T+1?(P!==0&&u.fillRect(w,I,E,T-I),I=R,T=F):F>T&&(T=F)}u.fillRect(w,I,E,T-I)}this._settings.renderBorder&&this._settings.borderColor&&this._settings.overviewRulerLanes>0&&(u.beginPath(),u.lineWidth=1,u.strokeStyle=this._settings.borderColor,u.moveTo(0,0),u.lineTo(0,o),u.stroke(),u.moveTo(0,0),u.lineTo(i,0),u.stroke())}}e.DecorationsOverviewRuler=p}),define(X[837],ee([1,0,34,14,52,616,35,79,23,88,425]),function(q,e,L,k,y,D,S,m,_,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewCursors=void 0;class p extends y.ViewPart{constructor(t){super(t);const i=this._context.configuration.options;this._readOnly=i.get(88),this._cursorBlinking=i.get(24),this._cursorStyle=i.get(26),this._cursorSmoothCaretAnimation=i.get(25),this._selectionIsEmpty=!0,this._isComposingInput=!1,this._isVisible=!1,this._primaryCursor=new D.ViewCursor(this._context),this._secondaryCursors=[],this._renderData=[],this._domNode=(0,L.createFastDomNode)(document.createElement("div")),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._updateDomClassName(),this._domNode.appendChild(this._primaryCursor.getDomNode()),this._startCursorBlinkAnimation=new k.TimeoutTimer,this._cursorFlatBlinkInterval=new k.IntervalTimer,this._blinkingEnabled=!1,this._editorHasFocus=!1,this._updateBlinking()}dispose(){super.dispose(),this._startCursorBlinkAnimation.dispose(),this._cursorFlatBlinkInterval.dispose()}getDomNode(){return this._domNode}onCompositionStart(t){return this._isComposingInput=!0,this._updateBlinking(),!0}onCompositionEnd(t){return this._isComposingInput=!1,this._updateBlinking(),!0}onConfigurationChanged(t){const i=this._context.configuration.options;this._readOnly=i.get(88),this._cursorBlinking=i.get(24),this._cursorStyle=i.get(26),this._cursorSmoothCaretAnimation=i.get(25),this._updateBlinking(),this._updateDomClassName(),this._primaryCursor.onConfigurationChanged(t);for(let o=0,r=this._secondaryCursors.length;o<r;o++)this._secondaryCursors[o].onConfigurationChanged(t);return!0}_onCursorPositionChanged(t,i,o){const r=this._secondaryCursors.length!==i.length||this._cursorSmoothCaretAnimation==="explicit"&&o!==3;if(this._primaryCursor.onCursorPositionChanged(t,r),this._updateBlinking(),this._secondaryCursors.length<i.length){const d=i.length-this._secondaryCursors.length;for(let h=0;h<d;h++){const n=new D.ViewCursor(this._context);this._domNode.domNode.insertBefore(n.getDomNode().domNode,this._primaryCursor.getDomNode().domNode.nextSibling),this._secondaryCursors.push(n)}}else if(this._secondaryCursors.length>i.length){const d=this._secondaryCursors.length-i.length;for(let h=0;h<d;h++)this._domNode.removeChild(this._secondaryCursors[0].getDomNode()),this._secondaryCursors.splice(0,1)}for(let d=0;d<i.length;d++)this._secondaryCursors[d].onCursorPositionChanged(i[d],r)}onCursorStateChanged(t){const i=[];for(let r=0,d=t.selections.length;r<d;r++)i[r]=t.selections[r].getPosition();this._onCursorPositionChanged(i[0],i.slice(1),t.reason);const o=t.selections[0].isEmpty();return this._selectionIsEmpty!==o&&(this._selectionIsEmpty=o,this._updateDomClassName()),!0}onDecorationsChanged(t){return!0}onFlushed(t){return!0}onFocusChanged(t){return this._editorHasFocus=t.isFocused,this._updateBlinking(),!1}onLinesChanged(t){return!0}onLinesDeleted(t){return!0}onLinesInserted(t){return!0}onScrollChanged(t){return!0}onTokensChanged(t){const i=o=>{for(let r=0,d=t.ranges.length;r<d;r++)if(t.ranges[r].fromLineNumber<=o.lineNumber&&o.lineNumber<=t.ranges[r].toLineNumber)return!0;return!1};if(i(this._primaryCursor.getPosition()))return!0;for(const o of this._secondaryCursors)if(i(o.getPosition()))return!0;return!1}onZonesChanged(t){return!0}_getCursorBlinking(){return this._isComposingInput||!this._editorHasFocus?0:this._readOnly?5:this._cursorBlinking}_updateBlinking(){this._startCursorBlinkAnimation.cancel(),this._cursorFlatBlinkInterval.cancel();const t=this._getCursorBlinking(),i=t===0,o=t===5;i?this._hide():this._show(),this._blinkingEnabled=!1,this._updateDomClassName(),!i&&!o&&(t===1?this._cursorFlatBlinkInterval.cancelAndSet(()=>{this._isVisible?this._hide():this._show()},p.BLINK_INTERVAL):this._startCursorBlinkAnimation.setIfNotSet(()=>{this._blinkingEnabled=!0,this._updateDomClassName()},p.BLINK_INTERVAL))}_updateDomClassName(){this._domNode.setClassName(this._getClassName())}_getClassName(){let t="cursors-layer";switch(this._selectionIsEmpty||(t+=" has-selection"),this._cursorStyle){case S.TextEditorCursorStyle.Line:t+=" cursor-line-style";break;case S.TextEditorCursorStyle.Block:t+=" cursor-block-style";break;case S.TextEditorCursorStyle.Underline:t+=" cursor-underline-style";break;case S.TextEditorCursorStyle.LineThin:t+=" cursor-line-thin-style";break;case S.TextEditorCursorStyle.BlockOutline:t+=" cursor-block-outline-style";break;case S.TextEditorCursorStyle.UnderlineThin:t+=" cursor-underline-thin-style";break;default:t+=" cursor-line-style"}if(this._blinkingEnabled)switch(this._getCursorBlinking()){case 1:t+=" cursor-blink";break;case 2:t+=" cursor-smooth";break;case 3:t+=" cursor-phase";break;case 4:t+=" cursor-expand";break;case 5:t+=" cursor-solid";break;default:t+=" cursor-solid"}else t+=" cursor-solid";return(this._cursorSmoothCaretAnimation==="on"||this._cursorSmoothCaretAnimation==="explicit")&&(t+=" cursor-smooth-caret-animation"),t}_show(){this._primaryCursor.show();for(let t=0,i=this._secondaryCursors.length;t<i;t++)this._secondaryCursors[t].show();this._isVisible=!0}_hide(){this._primaryCursor.hide();for(let t=0,i=this._secondaryCursors.length;t<i;t++)this._secondaryCursors[t].hide();this._isVisible=!1}prepareRender(t){this._primaryCursor.prepareRender(t);for(let i=0,o=this._secondaryCursors.length;i<o;i++)this._secondaryCursors[i].prepareRender(t)}render(t){const i=[];let o=0;const r=this._primaryCursor.render(t);r&&(i[o++]=r);for(let d=0,h=this._secondaryCursors.length;d<h;d++){const n=this._secondaryCursors[d].render(t);n&&(i[o++]=n)}this._renderData=i}getLastRenderData(){return this._renderData}}e.ViewCursors=p,p.BLINK_INTERVAL=500,(0,_.registerThemingParticipant)((s,t)=>{const i=s.getColor(m.editorCursorForeground);if(i){let o=s.getColor(m.editorCursorBackground);o||(o=i.opposite()),t.addRule(`.monaco-editor .cursors-layer .cursor { background-color: ${i}; border-color: ${i}; color: ${o}; }`),(0,f.isHighContrast)(s.type)&&t.addRule(`.monaco-editor .cursors-layer.has-selection .cursor { border-left: 1px solid ${o}; border-right: 1px solid ${o}; }`)}})}),define(X[838],ee([1,0,111,9,94,11,79,426]),function(q,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WhitespaceOverlay=void 0;class m extends L.DynamicViewOverlay{constructor(p){super(),this._context=p,this._options=new _(this._context.configuration),this._selection=[],this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(p){const s=new _(this._context.configuration);return this._options.equals(s)?p.hasChanged(141):(this._options=s,!0)}onCursorStateChanged(p){return this._selection=p.selections,this._options.renderWhitespace==="selection"}onDecorationsChanged(p){return!0}onFlushed(p){return!0}onLinesChanged(p){return!0}onLinesDeleted(p){return!0}onLinesInserted(p){return!0}onScrollChanged(p){return p.scrollTopChanged}onZonesChanged(p){return!0}prepareRender(p){if(this._options.renderWhitespace==="none"){this._renderResult=null;return}const s=p.visibleRange.startLineNumber,i=p.visibleRange.endLineNumber-s+1,o=new Array(i);for(let d=0;d<i;d++)o[d]=!0;const r=this._context.viewModel.getMinimapLinesRenderingData(p.viewportData.startLineNumber,p.viewportData.endLineNumber,o);this._renderResult=[];for(let d=p.viewportData.startLineNumber;d<=p.viewportData.endLineNumber;d++){const h=d-p.viewportData.startLineNumber,n=r.data[h];let c=null;if(this._options.renderWhitespace==="selection"){const a=this._selection;for(const l of a){if(l.endLineNumber<d||l.startLineNumber>d)continue;const u=l.startLineNumber===d?l.startColumn:n.minColumn,C=l.endLineNumber===d?l.endColumn:n.maxColumn;u<C&&(c||(c=[]),c.push(new y.LineRange(u-1,C-1)))}}this._renderResult[h]=this._applyRenderWhitespace(p,d,c,n)}}_applyRenderWhitespace(p,s,t,i){if(this._options.renderWhitespace==="selection"&&!t||this._options.renderWhitespace==="trailing"&&i.continuesWithWrappedLine)return"";const o=this._context.theme.getColor(S.editorWhitespaces),r=this._options.renderWithSVG,d=i.content,h=this._options.stopRenderingLineAfter===-1?d.length:Math.min(this._options.stopRenderingLineAfter,d.length),n=i.continuesWithWrappedLine,c=i.minColumn-1,a=this._options.renderWhitespace==="boundary",l=this._options.renderWhitespace==="trailing",u=this._options.lineHeight,C=this._options.middotWidth,g=this._options.wsmiddotWidth,v=this._options.spaceWidth,b=Math.abs(g-v),w=Math.abs(C-v),E=b<w?11825:183,I=this._options.canUseHalfwidthRightwardsArrow;let T="",P=!1,A=k.firstNonWhitespaceIndex(d),M;A===-1?(P=!0,A=h,M=h):M=k.lastNonWhitespaceIndex(d);let N=0,R=t&&t[N],F=0;for(let x=c;x<h;x++){const W=d.charCodeAt(x);if(R&&x>=R.endOffset&&(N++,R=t&&t[N]),W!==9&&W!==32||l&&!P&&x<=M)continue;if(a&&x>=A&&x<=M&&W===32){const U=x-1>=0?d.charCodeAt(x-1):0,O=x+1<h?d.charCodeAt(x+1):0;if(U!==32&&O!==32)continue}if(a&&n&&x===h-1){const U=x-1>=0?d.charCodeAt(x-1):0;if(W===32&&U!==32&&U!==9)continue}if(t&&(!R||R.startOffset>x||R.endOffset<=x))continue;const z=p.visibleRangeForPosition(new D.Position(s,x+1));z&&(r?(F=Math.max(F,z.left),W===9?T+=this._renderArrow(u,v,z.left):T+=`<circle cx="${(z.left+v/2).toFixed(2)}" cy="${(u/2).toFixed(2)}" r="${(v/7).toFixed(2)}" />`):W===9?T+=`<div class="mwh" style="left:${z.left}px;height:${u}px;">${I?String.fromCharCode(65515):String.fromCharCode(8594)}</div>`:T+=`<div class="mwh" style="left:${z.left}px;height:${u}px;">${String.fromCharCode(E)}</div>`)}return r?(F=Math.round(F+v),`<svg style="position:absolute;width:${F}px;height:${u}px" viewBox="0 0 ${F} ${u}" xmlns="http://www.w3.org/2000/svg" fill="${o}">`+T+"</svg>"):T}_renderArrow(p,s,t){const i=s/7,o=s,r=p/2,d=t,h={x:0,y:i/2},n={x:100/125*o,y:h.y},c={x:n.x-.2*n.x,y:n.y+.2*n.x},a={x:c.x+.1*n.x,y:c.y+.1*n.x},l={x:a.x+.35*n.x,y:a.y-.35*n.x},u={x:l.x,y:-l.y},C={x:a.x,y:-a.y},g={x:c.x,y:-c.y},v={x:n.x,y:-n.y},b={x:h.x,y:-h.y};return`<path d="M ${[h,n,c,a,l,u,C,g,v,b].map(I=>`${(d+I.x).toFixed(2)} ${(r+I.y).toFixed(2)}`).join(" L ")}" />`}render(p,s){if(!this._renderResult)return"";const t=s-p;return t<0||t>=this._renderResult.length?"":this._renderResult[t]}}e.WhitespaceOverlay=m;class _{constructor(p){const s=p.options,t=s.get(48),i=s.get(36);i==="off"?(this.renderWhitespace="none",this.renderWithSVG=!1):i==="svg"?(this.renderWhitespace=s.get(96),this.renderWithSVG=!0):(this.renderWhitespace=s.get(96),this.renderWithSVG=!1),this.spaceWidth=t.spaceWidth,this.middotWidth=t.middotWidth,this.wsmiddotWidth=t.wsmiddotWidth,this.canUseHalfwidthRightwardsArrow=t.canUseHalfwidthRightwardsArrow,this.lineHeight=s.get(64),this.stopRenderingLineAfter=s.get(114)}equals(p){return this.renderWhitespace===p.renderWhitespace&&this.renderWithSVG===p.renderWithSVG&&this.spaceWidth===p.spaceWidth&&this.middotWidth===p.middotWidth&&this.wsmiddotWidth===p.wsmiddotWidth&&this.canUseHalfwidthRightwardsArrow===p.canUseHalfwidthRightwardsArrow&&this.lineHeight===p.lineHeight&&this.stopRenderingLineAfter===p.stopRenderingLineAfter}}}),define(X[839],ee([1,0,7,24,5,34,12,825,835,780,270,587,52,584,833,516,830,834,353,826,517,287,518,810,519,836,528,520,521,831,837,522,11,142,529,525,149,23,351,515,258,838,209,47]),function(q,e,L,k,y,D,S,m,_,f,p,s,t,i,o,r,d,h,n,c,a,l,u,C,g,v,b,w,E,I,T,P,A,M,N,R,F,x,W,z,U,O,G,Q){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.View=void 0;class re extends F.ViewEventHandler{constructor(H,B,K,Z,J,ne){super(),this._shouldRecomputeGlyphMarginLanes=!1,this._selections=[new k.Selection(1,1,1,1)],this._renderAnimationFrame=null;const he=new f.ViewController(B,Z,J,H);this._context=new N.ViewContext(B,K,Z),this._context.addEventHandler(this),this._viewParts=[],this._textAreaHandler=new _.TextAreaHandler(this._context,he,this._createTextAreaHandlerHelper()),this._viewParts.push(this._textAreaHandler),this._linesContent=(0,D.createFastDomNode)(document.createElement("div")),this._linesContent.setClassName("lines-content monaco-editor-background"),this._linesContent.setPosition("absolute"),this.domNode=(0,D.createFastDomNode)(document.createElement("div")),this.domNode.setClassName(this._getEditorClassName()),this.domNode.setAttribute("role","code"),this._overflowGuardContainer=(0,D.createFastDomNode)(document.createElement("div")),t.PartFingerprints.write(this._overflowGuardContainer,3),this._overflowGuardContainer.setClassName("overflow-guard"),this._scrollbar=new d.EditorScrollbar(this._context,this._linesContent,this.domNode,this._overflowGuardContainer),this._viewParts.push(this._scrollbar),this._viewLines=new c.ViewLines(this._context,this._linesContent),this._viewZones=new P.ViewZones(this._context),this._viewParts.push(this._viewZones);const de=new v.DecorationsOverviewRuler(this._context);this._viewParts.push(de);const ae=new E.ScrollDecorationViewPart(this._context);this._viewParts.push(ae);const ce=new s.ContentViewOverlays(this._context);this._viewParts.push(ce),ce.addDynamicOverlay(new o.CurrentLineHighlightOverlay(this._context)),ce.addDynamicOverlay(new I.SelectionsOverlay(this._context)),ce.addDynamicOverlay(new h.IndentGuidesOverlay(this._context)),ce.addDynamicOverlay(new r.DecorationsOverlay(this._context)),ce.addDynamicOverlay(new O.WhitespaceOverlay(this._context));const $=new s.MarginViewOverlays(this._context);this._viewParts.push($),$.addDynamicOverlay(new o.CurrentLineMarginHighlightOverlay(this._context)),$.addDynamicOverlay(new u.MarginViewLineDecorationsOverlay(this._context)),$.addDynamicOverlay(new a.LinesDecorationsOverlay(this._context)),$.addDynamicOverlay(new n.LineNumbersOverlay(this._context)),this._glyphMarginWidgets=new G.GlyphMarginWidgets(this._context),this._viewParts.push(this._glyphMarginWidgets);const V=new l.Margin(this._context);V.getDomNode().appendChild(this._viewZones.marginDomNode),V.getDomNode().appendChild($.getDomNode()),V.getDomNode().appendChild(this._glyphMarginWidgets.domNode),this._viewParts.push(V),this._contentWidgets=new i.ViewContentWidgets(this._context,this.domNode),this._viewParts.push(this._contentWidgets),this._viewCursors=new T.ViewCursors(this._context),this._viewParts.push(this._viewCursors),this._overlayWidgets=new g.ViewOverlayWidgets(this._context),this._viewParts.push(this._overlayWidgets);const j=new w.Rulers(this._context);this._viewParts.push(j);const se=new z.BlockDecorations(this._context);this._viewParts.push(se);const ie=new C.Minimap(this._context);if(this._viewParts.push(ie),de){const Y=this._scrollbar.getOverviewRulerLayoutInfo();Y.parent.insertBefore(de.getDomNode(),Y.insertBefore)}this._linesContent.appendChild(ce.getDomNode()),this._linesContent.appendChild(j.domNode),this._linesContent.appendChild(this._viewZones.domNode),this._linesContent.appendChild(this._viewLines.getDomNode()),this._linesContent.appendChild(this._contentWidgets.domNode),this._linesContent.appendChild(this._viewCursors.getDomNode()),this._overflowGuardContainer.appendChild(V.getDomNode()),this._overflowGuardContainer.appendChild(this._scrollbar.getDomNode()),this._overflowGuardContainer.appendChild(ae.getDomNode()),this._overflowGuardContainer.appendChild(this._textAreaHandler.textArea),this._overflowGuardContainer.appendChild(this._textAreaHandler.textAreaCover),this._overflowGuardContainer.appendChild(this._overlayWidgets.getDomNode()),this._overflowGuardContainer.appendChild(ie.getDomNode()),this._overflowGuardContainer.appendChild(se.domNode),this.domNode.appendChild(this._overflowGuardContainer),ne?ne.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode.domNode):this.domNode.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode),this._applyLayout(),this._pointerHandler=this._register(new m.PointerHandler(this._context,he,this._createPointerHandlerHelper()))}_flushAccumulatedAndRenderNow(){this._shouldRecomputeGlyphMarginLanes&&(this._shouldRecomputeGlyphMarginLanes=!1,this._context.configuration.setGlyphMarginDecorationLaneCount(this._computeGlyphMarginLaneCount())),U.inputLatency.onRenderStart(),this._renderNow()}_computeGlyphMarginLaneCount(){const H=this._context.viewModel.model;let B=[];B=B.concat(H.getAllMarginDecorations().map(J=>{var ne,he;const de=(he=(ne=J.options.glyphMargin)===null||ne===void 0?void 0:ne.position)!==null&&he!==void 0?he:Q.GlyphMarginLane.Left;return{range:J.range,lane:de}})),B=B.concat(this._glyphMarginWidgets.getWidgets().map(J=>({range:H.validateRange(J.preference.range),lane:J.preference.lane}))),B.sort((J,ne)=>y.Range.compareRangesUsingStarts(J.range,ne.range));let K=null,Z=null;for(const J of B)if(J.lane===Q.GlyphMarginLane.Left&&(!K||y.Range.compareRangesUsingEnds(K,J.range)<0)&&(K=J.range),J.lane===Q.GlyphMarginLane.Right&&(!Z||y.Range.compareRangesUsingEnds(Z,J.range)<0)&&(Z=J.range),K&&Z){if(K.endLineNumber<Z.startLineNumber){K=null;continue}if(Z.endLineNumber<K.startLineNumber){Z=null;continue}return 2}return 1}_createPointerHandlerHelper(){return{viewDomNode:this.domNode.domNode,linesContentDomNode:this._linesContent.domNode,viewLinesDomNode:this._viewLines.getDomNode().domNode,focusTextArea:()=>{this.focus()},dispatchTextAreaEvent:H=>{this._textAreaHandler.textArea.domNode.dispatchEvent(H)},getLastRenderData:()=>{const H=this._viewCursors.getLastRenderData()||[],B=this._textAreaHandler.getLastRenderData();return new W.PointerHandlerLastRenderData(H,B)},renderNow:()=>{this.render(!0,!1)},shouldSuppressMouseDownOnViewZone:H=>this._viewZones.shouldSuppressMouseDownOnViewZone(H),shouldSuppressMouseDownOnWidget:H=>this._contentWidgets.shouldSuppressMouseDownOnWidget(H),getPositionFromDOMInfo:(H,B)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.getPositionFromDOMInfo(H,B)),visibleRangeForPosition:(H,B)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.visibleRangeForPosition(new A.Position(H,B))),getLineWidth:H=>(this._flushAccumulatedAndRenderNow(),this._viewLines.getLineWidth(H))}}_createTextAreaHandlerHelper(){return{visibleRangeForPosition:H=>(this._flushAccumulatedAndRenderNow(),this._viewLines.visibleRangeForPosition(H))}}_applyLayout(){const B=this._context.configuration.options.get(141);this.domNode.setWidth(B.width),this.domNode.setHeight(B.height),this._overflowGuardContainer.setWidth(B.width),this._overflowGuardContainer.setHeight(B.height),this._linesContent.setWidth(1e6),this._linesContent.setHeight(1e6)}_getEditorClassName(){const H=this._textAreaHandler.isFocused()?" focused":"";return this._context.configuration.options.get(138)+" "+(0,x.getThemeTypeSelector)(this._context.theme.type)+H}handleEvents(H){super.handleEvents(H),this._scheduleRender()}onConfigurationChanged(H){return this.domNode.setClassName(this._getEditorClassName()),this._applyLayout(),!1}onCursorStateChanged(H){return this._selections=H.selections,!1}onDecorationsChanged(H){return H.affectsGlyphMargin&&(this._shouldRecomputeGlyphMarginLanes=!0),!1}onFocusChanged(H){return this.domNode.setClassName(this._getEditorClassName()),!1}onThemeChanged(H){return this._context.theme.update(H.theme),this.domNode.setClassName(this._getEditorClassName()),!1}dispose(){this._renderAnimationFrame!==null&&(this._renderAnimationFrame.dispose(),this._renderAnimationFrame=null),this._contentWidgets.overflowingContentWidgetsDomNode.domNode.remove(),this._context.removeEventHandler(this),this._viewLines.dispose();for(const H of this._viewParts)H.dispose();super.dispose()}_scheduleRender(){this._renderAnimationFrame===null&&(this._renderAnimationFrame=L.runAtThisOrScheduleAtNextAnimationFrame(this._onRenderScheduled.bind(this),100))}_onRenderScheduled(){this._renderAnimationFrame=null,this._flushAccumulatedAndRenderNow()}_renderNow(){oe(()=>this._actualRender())}_getViewPartsToRender(){const H=[];let B=0;for(const K of this._viewParts)K.shouldRender()&&(H[B++]=K);return H}_actualRender(){if(!L.isInDOM(this.domNode.domNode))return;let H=this._getViewPartsToRender();if(!this._viewLines.shouldRender()&&H.length===0)return;const B=this._context.viewLayout.getLinesViewportData();this._context.viewModel.setViewport(B.startLineNumber,B.endLineNumber,B.centeredLineNumber);const K=new R.ViewportData(this._selections,B,this._context.viewLayout.getWhitespaceViewportData(),this._context.viewModel);this._contentWidgets.shouldRender()&&this._contentWidgets.onBeforeRender(K),this._viewLines.shouldRender()&&(this._viewLines.renderText(K),this._viewLines.onDidRender(),H=this._getViewPartsToRender());const Z=new M.RenderingContext(this._context.viewLayout,K,this._viewLines);for(const J of H)J.prepareRender(Z);for(const J of H)J.render(Z),J.onDidRender()}delegateVerticalScrollbarPointerDown(H){this._scrollbar.delegateVerticalScrollbarPointerDown(H)}delegateScrollFromMouseWheelEvent(H){this._scrollbar.delegateScrollFromMouseWheelEvent(H)}restoreState(H){this._context.viewModel.viewLayout.setScrollPosition({scrollTop:H.scrollTop,scrollLeft:H.scrollLeft},1),this._context.viewModel.visibleLinesStabilized()}getOffsetForColumn(H,B){const K=this._context.viewModel.model.validatePosition({lineNumber:H,column:B}),Z=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(K);this._flushAccumulatedAndRenderNow();const J=this._viewLines.visibleRangeForPosition(new A.Position(Z.lineNumber,Z.column));return J?J.left:-1}getTargetAtClientPoint(H,B){const K=this._pointerHandler.getTargetAtClientPoint(H,B);return K?p.ViewUserInputEvents.convertViewToModelMouseTarget(K,this._context.viewModel.coordinatesConverter):null}createOverviewRuler(H){return new b.OverviewRuler(this._context,H)}change(H){this._viewZones.changeViewZones(H),this._scheduleRender()}render(H,B){if(B){this._viewLines.forceShouldRender();for(const K of this._viewParts)K.forceShouldRender()}H?this._flushAccumulatedAndRenderNow():this._scheduleRender()}writeScreenReaderContent(H){this._textAreaHandler.writeScreenReaderContent(H)}focus(){this._textAreaHandler.focusTextArea()}isFocused(){return this._textAreaHandler.isFocused()}setAriaOptions(H){this._textAreaHandler.setAriaOptions(H)}addContentWidget(H){this._contentWidgets.addWidget(H.widget),this.layoutContentWidget(H),this._scheduleRender()}layoutContentWidget(H){var B,K,Z,J,ne,he,de,ae;this._contentWidgets.setWidgetPosition(H.widget,(K=(B=H.position)===null||B===void 0?void 0:B.position)!==null&&K!==void 0?K:null,(J=(Z=H.position)===null||Z===void 0?void 0:Z.secondaryPosition)!==null&&J!==void 0?J:null,(he=(ne=H.position)===null||ne===void 0?void 0:ne.preference)!==null&&he!==void 0?he:null,(ae=(de=H.position)===null||de===void 0?void 0:de.positionAffinity)!==null&&ae!==void 0?ae:null),this._scheduleRender()}removeContentWidget(H){this._contentWidgets.removeWidget(H.widget),this._scheduleRender()}addOverlayWidget(H){this._overlayWidgets.addWidget(H.widget),this.layoutOverlayWidget(H),this._scheduleRender()}layoutOverlayWidget(H){const B=H.position?H.position.preference:null;this._overlayWidgets.setWidgetPosition(H.widget,B)&&this._scheduleRender()}removeOverlayWidget(H){this._overlayWidgets.removeWidget(H.widget),this._scheduleRender()}addGlyphMarginWidget(H){this._glyphMarginWidgets.addWidget(H.widget),this._shouldRecomputeGlyphMarginLanes=!0,this._scheduleRender()}layoutGlyphMarginWidget(H){const B=H.position;this._glyphMarginWidgets.setWidgetPosition(H.widget,B)&&(this._shouldRecomputeGlyphMarginLanes=!0,this._scheduleRender())}removeGlyphMarginWidget(H){this._glyphMarginWidgets.removeWidget(H.widget),this._shouldRecomputeGlyphMarginLanes=!0,this._scheduleRender()}}e.View=re;function oe(te){try{return te()}catch(H){(0,S.onUnexpectedError)(H)}}}),define(X[840],ee([1,0,6,2,5,79,23]),function(q,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorizedBracketPairsDecorationProvider=void 0;class m extends k.Disposable{constructor(p){super(),this.textModel=p,this.colorProvider=new _,this.onDidChangeEmitter=new L.Emitter,this.onDidChange=this.onDidChangeEmitter.event,this.colorizationOptions=p.getOptions().bracketPairColorizationOptions,this._register(p.bracketPairs.onDidChange(s=>{this.onDidChangeEmitter.fire()}))}handleDidChangeOptions(p){this.colorizationOptions=this.textModel.getOptions().bracketPairColorizationOptions}getDecorationsInRange(p,s,t,i){return i?[]:s===void 0?[]:this.colorizationOptions.enabled?this.textModel.bracketPairs.getBracketsInRange(p,!0).map(r=>({id:`bracket${r.range.toString()}-${r.nestingLevel}`,options:{description:"BracketPairColorization",inlineClassName:this.colorProvider.getInlineClassName(r,this.colorizationOptions.independentColorPoolPerBracketType)},ownerId:0,range:r.range})).toArray():[]}getAllDecorations(p,s){return p===void 0?[]:this.colorizationOptions.enabled?this.getDecorationsInRange(new y.Range(1,1,this.textModel.getLineCount(),1),p,s):[]}}e.ColorizedBracketPairsDecorationProvider=m;class _{constructor(){this.unexpectedClosingBracketClassName="unexpected-closing-bracket"}getInlineClassName(p,s){return p.isInvalid?this.unexpectedClosingBracketClassName:this.getInlineClassNameOfLevel(s?p.nestingLevelOfEqualBracketType:p.nestingLevel)}getInlineClassNameOfLevel(p){return`bracket-highlighting-${p%30}`}}(0,S.registerThemingParticipant)((f,p)=>{const s=[D.editorBracketHighlightingForeground1,D.editorBracketHighlightingForeground2,D.editorBracketHighlightingForeground3,D.editorBracketHighlightingForeground4,D.editorBracketHighlightingForeground5,D.editorBracketHighlightingForeground6],t=new _;p.addRule(`.monaco-editor .${t.unexpectedClosingBracketClassName} { color: ${f.getColor(D.editorBracketHighlightingUnexpectedBracketForeground)}; }`);const i=s.map(o=>f.getColor(o)).filter(o=>!!o).filter(o=>!o.isTransparent());for(let o=0;o<30;o++){const r=i[o%i.length];p.addRule(`.monaco-editor .${t.getInlineClassNameOfLevel(o)} { color: ${r}; }`)}})}),define(X[841],ee([1,0,97,2,47,23,79,49,5,53,6,33,64]),function(q,e,L,k,y,D,S,m,_,f,p,s,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarkerDecorationsService=void 0;class i extends k.Disposable{constructor(d){super(),this.model=d,this._markersData=new Map,this._register((0,k.toDisposable)(()=>{this.model.deltaDecorations([...this._markersData.keys()],[]),this._markersData.clear()}))}update(d,h){const n=[...this._markersData.keys()];this._markersData.clear();const c=this.model.deltaDecorations(n,h);for(let a=0;a<c.length;a++)this._markersData.set(c[a],d[a]);return n.length!==0||c.length!==0}getMarker(d){return this._markersData.get(d.id)}}let o=e.MarkerDecorationsService=class extends k.Disposable{constructor(d,h){super(),this._markerService=h,this._onDidChangeMarker=this._register(new p.Emitter),this._markerDecorations=new t.ResourceMap,d.getModels().forEach(n=>this._onModelAdded(n)),this._register(d.onModelAdded(this._onModelAdded,this)),this._register(d.onModelRemoved(this._onModelRemoved,this)),this._register(this._markerService.onMarkerChanged(this._handleMarkerChange,this))}dispose(){super.dispose(),this._markerDecorations.forEach(d=>d.dispose()),this._markerDecorations.clear()}getMarker(d,h){const n=this._markerDecorations.get(d);return n&&n.getMarker(h)||null}_handleMarkerChange(d){d.forEach(h=>{const n=this._markerDecorations.get(h);n&&this._updateDecorations(n)})}_onModelAdded(d){const h=new i(d);this._markerDecorations.set(d.uri,h),this._updateDecorations(h)}_onModelRemoved(d){var h;const n=this._markerDecorations.get(d.uri);n&&(n.dispose(),this._markerDecorations.delete(d.uri)),(d.uri.scheme===f.Schemas.inMemory||d.uri.scheme===f.Schemas.internal||d.uri.scheme===f.Schemas.vscode)&&((h=this._markerService)===null||h===void 0||h.read({resource:d.uri}).map(c=>c.owner).forEach(c=>this._markerService.remove(c,[d.uri])))}_updateDecorations(d){const h=this._markerService.read({resource:d.model.uri,take:500}),n=h.map(c=>({range:this._createDecorationRange(d.model,c),options:this._createDecorationOption(c)}));d.update(h,n)&&this._onDidChangeMarker.fire(d.model)}_createDecorationRange(d,h){let n=_.Range.lift(h);if(h.severity===L.MarkerSeverity.Hint&&!this._hasMarkerTag(h,1)&&!this._hasMarkerTag(h,2)&&(n=n.setEndPosition(n.startLineNumber,n.startColumn+2)),n=d.validateRange(n),n.isEmpty()){const c=d.getLineLastNonWhitespaceColumn(n.startLineNumber)||d.getLineMaxColumn(n.startLineNumber);if(c===1||n.endColumn>=c)return n;const a=d.getWordAtPosition(n.getStartPosition());a&&(n=new _.Range(n.startLineNumber,a.startColumn,n.endLineNumber,a.endColumn))}else if(h.endColumn===Number.MAX_VALUE&&h.startColumn===1&&n.startLineNumber===n.endLineNumber){const c=d.getLineFirstNonWhitespaceColumn(h.startLineNumber);c<n.endColumn&&(n=new _.Range(n.startLineNumber,c,n.endLineNumber,n.endColumn),h.startColumn=c)}return n}_createDecorationOption(d){let h,n,c,a,l;switch(d.severity){case L.MarkerSeverity.Hint:this._hasMarkerTag(d,2)?h=void 0:this._hasMarkerTag(d,1)?h="squiggly-unnecessary":h="squiggly-hint",c=0;break;case L.MarkerSeverity.Warning:h="squiggly-warning",n=(0,D.themeColorFromId)(S.overviewRulerWarning),c=20,l={color:(0,D.themeColorFromId)(s.minimapWarning),position:y.MinimapPosition.Inline};break;case L.MarkerSeverity.Info:h="squiggly-info",n=(0,D.themeColorFromId)(S.overviewRulerInfo),c=10;break;case L.MarkerSeverity.Error:default:h="squiggly-error",n=(0,D.themeColorFromId)(S.overviewRulerError),c=30,l={color:(0,D.themeColorFromId)(s.minimapError),position:y.MinimapPosition.Inline};break}return d.tags&&(d.tags.indexOf(1)!==-1&&(a="squiggly-inline-unnecessary"),d.tags.indexOf(2)!==-1&&(a="squiggly-inline-deprecated")),{description:"marker-decoration",stickiness:1,className:h,showIfCollapsed:!0,overviewRuler:{color:n,position:y.OverviewRulerLane.Right},minimap:l,zIndex:c,inlineClassName:a}}_hasMarkerTag(d,h){return d.tags?d.tags.indexOf(h)>=0:!1}};e.MarkerDecorationsService=o=Ne([ge(0,m.IModelService),ge(1,L.IMarkerService)],o)}),define(X[251],ee([1,0,124,23,69,513,41]),function(q,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toMultilineTokens2=e.SemanticTokensProviderStyling=void 0;let m=e.SemanticTokensProviderStyling=class{constructor(t,i,o,r){this._legend=t,this._themeService=i,this._languageService=o,this._logService=r,this._hasWarnedOverlappingTokens=!1,this._hasWarnedInvalidLengthTokens=!1,this._hasWarnedInvalidEditStart=!1,this._hashTable=new p}getMetadata(t,i,o){const r=this._languageService.languageIdCodec.encodeLanguageId(o),d=this._hashTable.get(t,i,r);let h;if(d)h=d.metadata,this._logService.getLevel()===y.LogLevel.Trace&&this._logService.trace(`SemanticTokensProviderStyling [CACHED] ${t} / ${i}: foreground ${L.TokenMetadata.getForeground(h)}, fontStyle ${L.TokenMetadata.getFontStyle(h).toString(2)}`);else{let n=this._legend.tokenTypes[t];const c=[];if(n){let a=i;for(let u=0;a>0&&u<this._legend.tokenModifiers.length;u++)a&1&&c.push(this._legend.tokenModifiers[u]),a=a>>1;a>0&&this._logService.getLevel()===y.LogLevel.Trace&&(this._logService.trace(`SemanticTokensProviderStyling: unknown token modifier index: ${i.toString(2)} for legend: ${JSON.stringify(this._legend.tokenModifiers)}`),c.push("not-in-legend"));const l=this._themeService.getColorTheme().getTokenStyleMetadata(n,c,o);if(typeof l>"u")h=2147483647;else{if(h=0,typeof l.italic<"u"){const u=(l.italic?1:0)<<11;h|=u|1}if(typeof l.bold<"u"){const u=(l.bold?2:0)<<11;h|=u|2}if(typeof l.underline<"u"){const u=(l.underline?4:0)<<11;h|=u|4}if(typeof l.strikethrough<"u"){const u=(l.strikethrough?8:0)<<11;h|=u|8}if(l.foreground){const u=l.foreground<<15;h|=u|16}h===0&&(h=2147483647)}}else this._logService.getLevel()===y.LogLevel.Trace&&this._logService.trace(`SemanticTokensProviderStyling: unknown token type index: ${t} for legend: ${JSON.stringify(this._legend.tokenTypes)}`),h=2147483647,n="not-in-legend";this._hashTable.add(t,i,r,h),this._logService.getLevel()===y.LogLevel.Trace&&this._logService.trace(`SemanticTokensProviderStyling ${t} (${n}) / ${i} (${c.join(" ")}): foreground ${L.TokenMetadata.getForeground(h)}, fontStyle ${L.TokenMetadata.getFontStyle(h).toString(2)}`)}return h}warnOverlappingSemanticTokens(t,i){this._hasWarnedOverlappingTokens||(this._hasWarnedOverlappingTokens=!0,console.warn(`Overlapping semantic tokens detected at lineNumber ${t}, column ${i}`))}warnInvalidLengthSemanticTokens(t,i){this._hasWarnedInvalidLengthTokens||(this._hasWarnedInvalidLengthTokens=!0,console.warn(`Semantic token with invalid length detected at lineNumber ${t}, column ${i}`))}warnInvalidEditStart(t,i,o,r,d){this._hasWarnedInvalidEditStart||(this._hasWarnedInvalidEditStart=!0,console.warn(`Invalid semantic tokens edit detected (previousResultId: ${t}, resultId: ${i}) at edit #${o}: The provided start offset ${r} is outside the previous data (length ${d}).`))}};e.SemanticTokensProviderStyling=m=Ne([ge(1,k.IThemeService),ge(2,S.ILanguageService),ge(3,y.ILogService)],m);function _(s,t,i){const o=s.data,r=s.data.length/5|0,d=Math.max(Math.ceil(r/1024),400),h=[];let n=0,c=1,a=0;for(;n<r;){const l=n;let u=Math.min(l+d,r);if(u<r){let I=u;for(;I-1>l&&o[5*I]===0;)I--;if(I-1===l){let T=u;for(;T+1<r&&o[5*T]===0;)T++;u=T}else u=I}let C=new Uint32Array((u-l)*4),g=0,v=0,b=0,w=0;for(;n<u;){const I=5*n,T=o[I],P=o[I+1],A=c+T|0,M=T===0?a+P|0:P,N=o[I+2],R=M+N|0,F=o[I+3],x=o[I+4];if(R<=M)t.warnInvalidLengthSemanticTokens(A,M+1);else if(b===A&&w>M)t.warnOverlappingSemanticTokens(A,M+1);else{const W=t.getMetadata(F,x,i);W!==2147483647&&(v===0&&(v=A),C[g]=A-v,C[g+1]=M,C[g+2]=R,C[g+3]=W,g+=4,b=A,w=R)}c=A,a=M,n++}g!==C.length&&(C=C.subarray(0,g));const E=D.SparseMultilineTokens.create(v,C);h.push(E)}return h}e.toMultilineTokens2=_;class f{constructor(t,i,o,r){this.tokenTypeIndex=t,this.tokenModifierSet=i,this.languageId=o,this.metadata=r,this.next=null}}class p{constructor(){this._elementsCount=0,this._currentLengthIndex=0,this._currentLength=p._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<p._SIZES.length?2/3*this._currentLength:0),this._elements=[],p._nullOutEntries(this._elements,this._currentLength)}static _nullOutEntries(t,i){for(let o=0;o<i;o++)t[o]=null}_hash2(t,i){return(t<<5)-t+i|0}_hashFunc(t,i,o){return this._hash2(this._hash2(t,i),o)%this._currentLength}get(t,i,o){const r=this._hashFunc(t,i,o);let d=this._elements[r];for(;d;){if(d.tokenTypeIndex===t&&d.tokenModifierSet===i&&d.languageId===o)return d;d=d.next}return null}add(t,i,o,r){if(this._elementsCount++,this._growCount!==0&&this._elementsCount>=this._growCount){const d=this._elements;this._currentLengthIndex++,this._currentLength=p._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<p._SIZES.length?2/3*this._currentLength:0),this._elements=[],p._nullOutEntries(this._elements,this._currentLength);for(const h of d){let n=h;for(;n;){const c=n.next;n.next=null,this._add(n),n=c}}}this._add(new f(t,i,o,r))}_add(t){const i=this._hashFunc(t.tokenTypeIndex,t.tokenModifierSet,t.languageId);t.next=this._elements[i],this._elements[i]=t}}p._SIZES=[3,7,13,31,61,127,251,509,1021,2039,4093,8191,16381,32749,65521,131071,262139,524287,1048573,2097143]}),define(X[842],ee([1,0,2,41,23,69,251,235,48]),function(q,e,L,k,y,D,S,m,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SemanticTokensStylingService=void 0;let f=e.SemanticTokensStylingService=class extends L.Disposable{constructor(s,t,i){super(),this._themeService=s,this._logService=t,this._languageService=i,this._caches=new WeakMap,this._register(this._themeService.onDidColorThemeChange(()=>{this._caches=new WeakMap}))}getStyling(s){return this._caches.has(s)||this._caches.set(s,new S.SemanticTokensProviderStyling(s.getLegend(),this._themeService,this._languageService,this._logService)),this._caches.get(s)}};e.SemanticTokensStylingService=f=Ne([ge(0,y.IThemeService),ge(1,D.ILogService),ge(2,k.ILanguageService)],f),(0,_.registerSingleton)(m.ISemanticTokensStylingService,f,1)}),define(X[354],ee([1,0,98,2,18,179,47,79,23,54]),function(q,e,L,k,y,D,S,m,_,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractEditorNavigationQuickAccessProvider=void 0;class p{constructor(t){this.options=t,this.rangeHighlightDecorationId=void 0}provide(t,i){var o;const r=new k.DisposableStore;t.canAcceptInBackground=!!(!((o=this.options)===null||o===void 0)&&o.canAcceptInBackground),t.matchOnLabel=t.matchOnDescription=t.matchOnDetail=t.sortByLabel=!1;const d=r.add(new k.MutableDisposable);return d.value=this.doProvide(t,i),r.add(this.onDidActiveTextEditorControlChange(()=>{d.value=void 0,d.value=this.doProvide(t,i)})),r}doProvide(t,i){const o=new k.DisposableStore,r=this.activeTextEditorControl;if(r&&this.canProvideWithTextEditor(r)){const d={editor:r},h=(0,D.getCodeEditor)(r);if(h){let n=(0,y.withNullAsUndefined)(r.saveViewState());o.add(h.onDidChangeCursorPosition(()=>{n=(0,y.withNullAsUndefined)(r.saveViewState())})),d.restoreViewState=()=>{n&&r===this.activeTextEditorControl&&r.restoreViewState(n)},o.add((0,L.once)(i.onCancellationRequested)(()=>{var c;return(c=d.restoreViewState)===null||c===void 0?void 0:c.call(d)}))}o.add((0,k.toDisposable)(()=>this.clearDecorations(r))),o.add(this.provideWithTextEditor(d,t,i))}else o.add(this.provideWithoutTextEditor(t,i));return o}canProvideWithTextEditor(t){return!0}gotoLocation({editor:t},i){t.setSelection(i.range),t.revealRangeInCenter(i.range,0),i.preserveFocus||t.focus();const o=t.getModel();o&&"getLineContent"in o&&(0,f.status)(`${o.getLineContent(i.range.startLineNumber)}`)}getModel(t){var i;return(0,D.isDiffEditor)(t)?(i=t.getModel())===null||i===void 0?void 0:i.modified:t.getModel()}addDecorations(t,i){t.changeDecorations(o=>{const r=[];this.rangeHighlightDecorationId&&(r.push(this.rangeHighlightDecorationId.overviewRulerDecorationId),r.push(this.rangeHighlightDecorationId.rangeHighlightId),this.rangeHighlightDecorationId=void 0);const d=[{range:i,options:{description:"quick-access-range-highlight",className:"rangeHighlight",isWholeLine:!0}},{range:i,options:{description:"quick-access-range-highlight-overview",overviewRuler:{color:(0,_.themeColorFromId)(m.overviewRulerRangeHighlight),position:S.OverviewRulerLane.Full}}}],[h,n]=o.deltaDecorations(r,d);this.rangeHighlightDecorationId={rangeHighlightId:h,overviewRulerDecorationId:n}})}clearDecorations(t){const i=this.rangeHighlightDecorationId;i&&(t.changeDecorations(o=>{o.deltaDecorations([i.overviewRulerDecorationId,i.rangeHighlightId],[])}),this.rangeHighlightDecorationId=void 0)}}e.AbstractEditorNavigationQuickAccessProvider=p}),define(X[843],ee([1,0,2,179,354,681]),function(q,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractGotoLineQuickAccessProvider=void 0;class S extends y.AbstractEditorNavigationQuickAccessProvider{constructor(){super({canAcceptInBackground:!0})}provideWithoutTextEditor(_){const f=(0,D.localize)(0,null);return _.items=[{label:f}],_.ariaLabel=f,L.Disposable.None}provideWithTextEditor(_,f,p){const s=_.editor,t=new L.DisposableStore;t.add(f.onDidAccept(r=>{const[d]=f.selectedItems;if(d){if(!this.isValidLineNumber(s,d.lineNumber))return;this.gotoLocation(_,{range:this.toRange(d.lineNumber,d.column),keyMods:f.keyMods,preserveFocus:r.inBackground}),r.inBackground||f.hide()}}));const i=()=>{const r=this.parsePosition(s,f.value.trim().substr(S.PREFIX.length)),d=this.getPickLabel(s,r.lineNumber,r.column);if(f.items=[{lineNumber:r.lineNumber,column:r.column,label:d}],f.ariaLabel=d,!this.isValidLineNumber(s,r.lineNumber)){this.clearDecorations(s);return}const h=this.toRange(r.lineNumber,r.column);s.revealRangeInCenter(h,0),this.addDecorations(s,h)};i(),t.add(f.onDidChangeValue(()=>i()));const o=(0,k.getCodeEditor)(s);return o&&o.getOptions().get(65).renderType===2&&(o.updateOptions({lineNumbers:"on"}),t.add((0,L.toDisposable)(()=>o.updateOptions({lineNumbers:"relative"})))),t}toRange(_=1,f=1){return{startLineNumber:_,startColumn:f,endLineNumber:_,endColumn:f}}parsePosition(_,f){const p=f.split(/,|:|#/).map(t=>parseInt(t,10)).filter(t=>!isNaN(t)),s=this.lineCount(_)+1;return{lineNumber:p[0]>0?p[0]:s+p[0],column:p[1]}}getPickLabel(_,f,p){if(this.isValidLineNumber(_,f))return this.isValidColumn(_,f,p)?(0,D.localize)(1,null,f,p):(0,D.localize)(2,null,f);const s=_.getPosition()||{lineNumber:1,column:1},t=this.lineCount(_);return t>1?(0,D.localize)(3,null,s.lineNumber,s.column,t):(0,D.localize)(4,null,s.lineNumber,s.column)}isValidLineNumber(_,f){return!f||typeof f!="number"?!1:f>0&&f<=this.lineCount(_)}isValidColumn(_,f,p){if(!p||typeof p!="number")return!1;const s=this.getModel(_);if(!s)return!1;const t={lineNumber:f,column:p};return s.validatePosition(t).equals(t)}lineCount(_){var f,p;return(p=(f=this.getModel(_))===null||f===void 0?void 0:f.getLineCount())!==null&&p!==void 0?p:0}}e.AbstractGotoLineQuickAccessProvider=S,S.PREFIX=":"}),define(X[844],ee([1,0,14,20,25,27,565,2,9,5,29,189,354,682,19,16]),function(q,e,L,k,y,D,S,m,_,f,p,s,t,i,o,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractGotoSymbolQuickAccessProvider=void 0;let d=e.AbstractGotoSymbolQuickAccessProvider=class pi extends t.AbstractEditorNavigationQuickAccessProvider{constructor(a,l,u=Object.create(null)){super(u),this._languageFeaturesService=a,this._outlineModelService=l,this.options=u,this.options.canAcceptInBackground=!0}provideWithoutTextEditor(a){return this.provideLabelPick(a,(0,i.localize)(0,null)),m.Disposable.None}provideWithTextEditor(a,l,u){const C=a.editor,g=this.getModel(C);return g?this._languageFeaturesService.documentSymbolProvider.has(g)?this.doProvideWithEditorSymbols(a,g,l,u):this.doProvideWithoutEditorSymbols(a,g,l,u):m.Disposable.None}doProvideWithoutEditorSymbols(a,l,u,C){const g=new m.DisposableStore;return this.provideLabelPick(u,(0,i.localize)(1,null)),Le(this,void 0,void 0,function*(){!(yield this.waitForLanguageSymbolRegistry(l,g))||C.isCancellationRequested||g.add(this.doProvideWithEditorSymbols(a,l,u,C))}),g}provideLabelPick(a,l){a.items=[{label:l,index:0,kind:14}],a.ariaLabel=l}waitForLanguageSymbolRegistry(a,l){return Le(this,void 0,void 0,function*(){if(this._languageFeaturesService.documentSymbolProvider.has(a))return!0;const u=new L.DeferredPromise,C=l.add(this._languageFeaturesService.documentSymbolProvider.onDidChange(()=>{this._languageFeaturesService.documentSymbolProvider.has(a)&&(C.dispose(),u.complete(!0))}));return l.add((0,m.toDisposable)(()=>u.complete(!1))),u.p})}doProvideWithEditorSymbols(a,l,u,C){var g;const v=a.editor,b=new m.DisposableStore;b.add(u.onDidAccept(T=>{const[P]=u.selectedItems;P&&P.range&&(this.gotoLocation(a,{range:P.range.selection,keyMods:u.keyMods,preserveFocus:T.inBackground}),T.inBackground||u.hide())})),b.add(u.onDidTriggerItemButton(({item:T})=>{T&&T.range&&(this.gotoLocation(a,{range:T.range.selection,keyMods:u.keyMods,forceSideBySide:!0}),u.hide())}));const w=this.getDocumentSymbols(l,C);let E;const I=T=>Le(this,void 0,void 0,function*(){E?.dispose(!0),u.busy=!1,E=new k.CancellationTokenSource(C),u.busy=!0;try{const P=(0,S.prepareQuery)(u.value.substr(pi.PREFIX.length).trim()),A=yield this.doGetSymbolPicks(w,P,void 0,E.token);if(C.isCancellationRequested)return;if(A.length>0){if(u.items=A,T&&P.original.length===0){const M=(0,r.findLast)(A,N=>!!(N.type!=="separator"&&N.range&&f.Range.containsPosition(N.range.decoration,T)));M&&(u.activeItems=[M])}}else P.original.length>0?this.provideLabelPick(u,(0,i.localize)(2,null)):this.provideLabelPick(u,(0,i.localize)(3,null))}finally{C.isCancellationRequested||(u.busy=!1)}});return b.add(u.onDidChangeValue(()=>I(void 0))),I((g=v.getSelection())===null||g===void 0?void 0:g.getPosition()),b.add(u.onDidChangeActive(()=>{const[T]=u.activeItems;T&&T.range&&(v.revealRangeInCenter(T.range.selection,0),this.addDecorations(v,T.range.decoration))})),b}doGetSymbolPicks(a,l,u,C){var g,v;return Le(this,void 0,void 0,function*(){const b=yield a;if(C.isCancellationRequested)return[];const w=l.original.indexOf(pi.SCOPE_PREFIX)===0,E=w?1:0;let I,T;l.values&&l.values.length>1?(I=(0,S.pieceToQuery)(l.values[0]),T=(0,S.pieceToQuery)(l.values.slice(1))):I=l;let P;const A=(v=(g=this.options)===null||g===void 0?void 0:g.openSideBySideDirection)===null||v===void 0?void 0:v.call(g);A&&(P=[{iconClass:A==="right"?D.ThemeIcon.asClassName(y.Codicon.splitHorizontal):D.ThemeIcon.asClassName(y.Codicon.splitVertical),tooltip:A==="right"?(0,i.localize)(4,null):(0,i.localize)(5,null)}]);const M=[];for(let F=0;F<b.length;F++){const x=b[F],W=(0,_.trim)(x.name),z=`$(${p.SymbolKinds.toIcon(x.kind).id}) ${W}`,U=z.length-W.length;let O=x.containerName;u?.extraContainerLabel&&(O?O=`${u.extraContainerLabel} \u2022 ${O}`:O=u.extraContainerLabel);let G,Q,re,oe;if(l.original.length>E){let H=!1;if(I!==l&&([G,Q]=(0,S.scoreFuzzy2)(z,Object.assign(Object.assign({},l),{values:void 0}),E,U),typeof G=="number"&&(H=!0)),typeof G!="number"&&([G,Q]=(0,S.scoreFuzzy2)(z,I,E,U),typeof G!="number"))continue;if(!H&&T){if(O&&T.original.length>0&&([re,oe]=(0,S.scoreFuzzy2)(O,T)),typeof re!="number")continue;typeof G=="number"&&(G+=re)}}const te=x.tags&&x.tags.indexOf(1)>=0;M.push({index:F,kind:x.kind,score:G,label:z,ariaLabel:W,description:O,highlights:te?void 0:{label:Q,description:oe},range:{selection:f.Range.collapseToStart(x.selectionRange),decoration:x.range},strikethrough:te,buttons:P})}const N=M.sort((F,x)=>w?this.compareByKindAndScore(F,x):this.compareByScore(F,x));let R=[];if(w){let z=function(){x&&typeof F=="number"&&W>0&&(x.label=(0,_.format)(n[F]||h,W))},F,x,W=0;for(const U of N)F!==U.kind?(z(),F=U.kind,W=1,x={type:"separator"},R.push(x)):W++,R.push(U);z()}else N.length>0&&(R=[{label:(0,i.localize)(6,null,M.length),type:"separator"},...N]);return R})}compareByScore(a,l){if(typeof a.score!="number"&&typeof l.score=="number")return 1;if(typeof a.score=="number"&&typeof l.score!="number")return-1;if(typeof a.score=="number"&&typeof l.score=="number"){if(a.score>l.score)return-1;if(a.score<l.score)return 1}return a.index<l.index?-1:a.index>l.index?1:0}compareByKindAndScore(a,l){const u=n[a.kind]||h,C=n[l.kind]||h,g=u.localeCompare(C);return g===0?this.compareByScore(a,l):g}getDocumentSymbols(a,l){return Le(this,void 0,void 0,function*(){const u=yield this._outlineModelService.getOrCreate(a,l);return l.isCancellationRequested?[]:u.asListOfDocumentSymbols()})}};d.PREFIX="@",d.SCOPE_PREFIX=":",d.PREFIX_BY_CATEGORY=`${d.PREFIX}${d.SCOPE_PREFIX}`,e.AbstractGotoSymbolQuickAccessProvider=d=Ne([ge(0,o.ILanguageFeaturesService),ge(1,s.IOutlineModelService)],d);const h=(0,i.localize)(7,null),n={[5]:(0,i.localize)(8,null),[11]:(0,i.localize)(9,null),[8]:(0,i.localize)(10,null),[12]:(0,i.localize)(11,null),[4]:(0,i.localize)(12,null),[22]:(0,i.localize)(13,null),[23]:(0,i.localize)(14,null),[24]:(0,i.localize)(15,null),[10]:(0,i.localize)(16,null),[2]:(0,i.localize)(17,null),[3]:(0,i.localize)(18,null),[25]:(0,i.localize)(19,null),[1]:(0,i.localize)(20,null),[6]:(0,i.localize)(21,null),[9]:(0,i.localize)(22,null),[21]:(0,i.localize)(23,null),[14]:(0,i.localize)(24,null),[0]:(0,i.localize)(25,null),[17]:(0,i.localize)(26,null),[15]:(0,i.localize)(27,null),[16]:(0,i.localize)(28,null),[18]:(0,i.localize)(29,null),[19]:(0,i.localize)(30,null),[7]:(0,i.localize)(31,null),[13]:(0,i.localize)(32,null)}}),define(X[845],ee([1,0,2,11,685,13,37,33,23,454]),function(q,e,L,k,y,D,S,m,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RenameInputField=e.CONTEXT_RENAME_INPUT_VISIBLE=void 0,e.CONTEXT_RENAME_INPUT_VISIBLE=new D.RawContextKey("renameInputVisible",!1,(0,y.localize)(0,null));let f=e.RenameInputField=class{constructor(s,t,i,o,r){this._editor=s,this._acceptKeybindings=t,this._themeService=i,this._keybindingService=o,this._disposables=new L.DisposableStore,this.allowEditorOverflow=!0,this._visibleContextKey=e.CONTEXT_RENAME_INPUT_VISIBLE.bindTo(r),this._editor.addContentWidget(this),this._disposables.add(this._editor.onDidChangeConfiguration(d=>{d.hasChanged(48)&&this._updateFont()})),this._disposables.add(i.onDidColorThemeChange(this._updateStyles,this))}dispose(){this._disposables.dispose(),this._editor.removeContentWidget(this)}getId(){return"__renameInputWidget"}getDomNode(){return this._domNode||(this._domNode=document.createElement("div"),this._domNode.className="monaco-editor rename-box",this._input=document.createElement("input"),this._input.className="rename-input",this._input.type="text",this._input.setAttribute("aria-label",(0,y.localize)(1,null)),this._domNode.appendChild(this._input),this._label=document.createElement("div"),this._label.className="rename-label",this._domNode.appendChild(this._label),this._updateFont(),this._updateStyles(this._themeService.getColorTheme())),this._domNode}_updateStyles(s){var t,i,o,r;if(!this._input||!this._domNode)return;const d=s.getColor(m.widgetShadow),h=s.getColor(m.widgetBorder);this._domNode.style.backgroundColor=String((t=s.getColor(m.editorWidgetBackground))!==null&&t!==void 0?t:""),this._domNode.style.boxShadow=d?` 0 0 8px 2px ${d}`:"",this._domNode.style.border=h?`1px solid ${h}`:"",this._domNode.style.color=String((i=s.getColor(m.inputForeground))!==null&&i!==void 0?i:""),this._input.style.backgroundColor=String((o=s.getColor(m.inputBackground))!==null&&o!==void 0?o:"");const n=s.getColor(m.inputBorder);this._input.style.borderWidth=n?"1px":"0px",this._input.style.borderStyle=n?"solid":"none",this._input.style.borderColor=(r=n?.toString())!==null&&r!==void 0?r:"none"}_updateFont(){if(!this._input||!this._label)return;const s=this._editor.getOption(48);this._input.style.fontFamily=s.fontFamily,this._input.style.fontWeight=s.fontWeight,this._input.style.fontSize=`${s.fontSize}px`,this._label.style.fontSize=`${s.fontSize*.8}px`}getPosition(){return this._visible?{position:this._position,preference:[2,1]}:null}beforeRender(){var s,t;const[i,o]=this._acceptKeybindings;return this._label.innerText=(0,y.localize)(2,null,(s=this._keybindingService.lookupKeybinding(i))===null||s===void 0?void 0:s.getLabel(),(t=this._keybindingService.lookupKeybinding(o))===null||t===void 0?void 0:t.getLabel()),null}afterRender(s){s||this.cancelInput(!0)}acceptInput(s){var t;(t=this._currentAcceptInput)===null||t===void 0||t.call(this,s)}cancelInput(s){var t;(t=this._currentCancelInput)===null||t===void 0||t.call(this,s)}getInput(s,t,i,o,r,d){this._domNode.classList.toggle("preview",r),this._position=new k.Position(s.startLineNumber,s.startColumn),this._input.value=t,this._input.setAttribute("selectionStart",i.toString()),this._input.setAttribute("selectionEnd",o.toString()),this._input.size=Math.max((s.endColumn-s.startColumn)*1.1,20);const h=new L.DisposableStore;return new Promise(n=>{this._currentCancelInput=c=>(this._currentAcceptInput=void 0,this._currentCancelInput=void 0,n(c),!0),this._currentAcceptInput=c=>{if(this._input.value.trim().length===0||this._input.value===t){this.cancelInput(!0);return}this._currentAcceptInput=void 0,this._currentCancelInput=void 0,n({newName:this._input.value,wantsPreview:r&&c})},h.add(d.onCancellationRequested(()=>this.cancelInput(!0))),h.add(this._editor.onDidBlurEditorWidget(()=>this.cancelInput(!document.hasFocus()))),this._show()}).finally(()=>{h.dispose(),this._hide()})}_show(){this._editor.revealLineInCenterIfOutsideViewport(this._position.lineNumber,0),this._visible=!0,this._visibleContextKey.set(!0),this._editor.layoutContentWidget(this),setTimeout(()=>{this._input.focus(),this._input.setSelectionRange(parseInt(this._input.getAttribute("selectionStart")),parseInt(this._input.getAttribute("selectionEnd")))},100)}_hide(){this._visible=!1,this._visibleContextKey.reset(),this._editor.layoutContentWidget(this)}};e.RenameInputField=f=Ne([ge(2,_.IThemeService),ge(3,S.IKeybindingService),ge(4,D.IContextKeyService)],f)}),define(X[846],ee([1,0,54,14,20,12,2,18,21,102,15,131,32,11,5,22,188,191,684,101,13,8,69,44,83,38,845,19]),function(q,e,L,k,y,D,S,m,_,f,p,s,t,i,o,r,d,h,n,c,a,l,u,C,g,v,b,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RenameAction=e.rename=void 0;class E{constructor(N,R,F){this.model=N,this.position=R,this._providerRenameIdx=0,this._providers=F.ordered(N)}hasProvider(){return this._providers.length>0}resolveRenameLocation(N){return Le(this,void 0,void 0,function*(){const R=[];for(this._providerRenameIdx=0;this._providerRenameIdx<this._providers.length;this._providerRenameIdx++){const x=this._providers[this._providerRenameIdx];if(!x.resolveRenameLocation)break;const W=yield x.resolveRenameLocation(this.model,this.position,N);if(W){if(W.rejectReason){R.push(W.rejectReason);continue}return W}}const F=this.model.getWordAtPosition(this.position);return F?{range:new o.Range(this.position.lineNumber,F.startColumn,this.position.lineNumber,F.endColumn),text:F.word,rejectReason:R.length>0?R.join(`
`):void 0}:{range:o.Range.fromPositions(this.position),text:"",rejectReason:R.length>0?R.join(`
`):void 0}})}provideRenameEdits(N,R){return Le(this,void 0,void 0,function*(){return this._provideRenameEdits(N,this._providerRenameIdx,[],R)})}_provideRenameEdits(N,R,F,x){return Le(this,void 0,void 0,function*(){const W=this._providers[R];if(!W)return{edits:[],rejectReason:F.join(`
`)};const z=yield W.provideRenameEdits(this.model,this.position,N,x);if(z){if(z.rejectReason)return this._provideRenameEdits(N,R+1,F.concat(z.rejectReason),x)}else return this._provideRenameEdits(N,R+1,F.concat(n.localize(0,null)),x);return z})}}function I(M,N,R,F){return Le(this,void 0,void 0,function*(){const x=new E(N,R,M),W=yield x.resolveRenameLocation(y.CancellationToken.None);return W?.rejectReason?{edits:[],rejectReason:W.rejectReason}:x.provideRenameEdits(F,y.CancellationToken.None)})}e.rename=I;let T=class Yi{static get(N){return N.getContribution(Yi.ID)}constructor(N,R,F,x,W,z,U,O){this.editor=N,this._instaService=R,this._notificationService=F,this._bulkEditService=x,this._progressService=W,this._logService=z,this._configService=U,this._languageFeaturesService=O,this._disposableStore=new S.DisposableStore,this._cts=new y.CancellationTokenSource,this._renameInputField=this._disposableStore.add(this._instaService.createInstance(b.RenameInputField,this.editor,["acceptRenameInput","acceptRenameInputWithPreview"]))}dispose(){this._disposableStore.dispose(),this._cts.dispose(!0)}run(){var N,R;return Le(this,void 0,void 0,function*(){if(this._cts.dispose(!0),this._cts=new y.CancellationTokenSource,!this.editor.hasModel())return;const F=this.editor.getPosition(),x=new E(this.editor.getModel(),F,this._languageFeaturesService.renameProvider);if(!x.hasProvider())return;const W=new f.EditorStateCancellationTokenSource(this.editor,5,void 0,this._cts.token);let z;try{const H=x.resolveRenameLocation(W.token);this._progressService.showWhile(H,250),z=yield H}catch(H){(N=h.MessageController.get(this.editor))===null||N===void 0||N.showMessage(H||n.localize(1,null),F);return}finally{W.dispose()}if(!z)return;if(z.rejectReason){(R=h.MessageController.get(this.editor))===null||R===void 0||R.showMessage(z.rejectReason,F);return}if(W.token.isCancellationRequested)return;const U=new f.EditorStateCancellationTokenSource(this.editor,5,z.range,this._cts.token),O=this.editor.getSelection();let G=0,Q=z.text.length;!o.Range.isEmpty(O)&&!o.Range.spansMultipleLines(O)&&o.Range.containsRange(z.range,O)&&(G=Math.max(0,O.startColumn-z.range.startColumn),Q=Math.min(z.range.endColumn,O.endColumn)-z.range.startColumn);const re=this._bulkEditService.hasPreviewHandler()&&this._configService.getValue(this.editor.getModel().uri,"editor.rename.enablePreview"),oe=yield this._renameInputField.getInput(z.range,z.text,G,Q,re,U.token);if(typeof oe=="boolean"){oe&&this.editor.focus(),U.dispose();return}this.editor.focus();const te=(0,k.raceCancellation)(x.provideRenameEdits(oe.newName,U.token),U.token).then(H=>Le(this,void 0,void 0,function*(){if(!(!H||!this.editor.hasModel())){if(H.rejectReason){this._notificationService.info(H.rejectReason);return}this.editor.setSelection(o.Range.fromPositions(this.editor.getSelection().getPosition())),this._bulkEditService.apply(H,{editor:this.editor,showPreview:oe.wantsPreview,label:n.localize(2,null,z?.text,oe.newName),code:"undoredo.rename",quotableLabel:n.localize(3,null,z?.text,oe.newName),respectAutoSaveConfig:!0}).then(B=>{B.ariaSummary&&(0,L.alert)(n.localize(4,null,z.text,oe.newName,B.ariaSummary))}).catch(B=>{this._notificationService.error(n.localize(5,null)),this._logService.error(B)})}}),H=>{this._notificationService.error(n.localize(6,null)),this._logService.error(H)}).finally(()=>{U.dispose()});return this._progressService.showWhile(te,250),te})}acceptRenameInput(N){this._renameInputField.acceptInput(N)}cancelRenameInput(){this._renameInputField.cancelInput(!0)}};T.ID="editor.contrib.renameController",T=Ne([ge(1,l.IInstantiationService),ge(2,C.INotificationService),ge(3,s.IBulkEditService),ge(4,g.IEditorProgressService),ge(5,u.ILogService),ge(6,d.ITextResourceConfigurationService),ge(7,w.ILanguageFeaturesService)],T);class P extends p.EditorAction{constructor(){super({id:"editor.action.rename",label:n.localize(7,null),alias:"Rename Symbol",precondition:a.ContextKeyExpr.and(r.EditorContextKeys.writable,r.EditorContextKeys.hasRenameProvider),kbOpts:{kbExpr:r.EditorContextKeys.editorTextFocus,primary:60,weight:100},contextMenuOpts:{group:"1_modification",order:1.1}})}runCommand(N,R){const F=N.get(t.ICodeEditorService),[x,W]=Array.isArray(R)&&R||[void 0,void 0];return _.URI.isUri(x)&&i.Position.isIPosition(W)?F.openCodeEditor({resource:x},F.getActiveCodeEditor()).then(z=>{z&&(z.setPosition(W),z.invokeWithinContext(U=>(this.reportTelemetry(U,z),this.run(U,z))))},D.onUnexpectedError):super.runCommand(N,R)}run(N,R){const F=T.get(R);return F?F.run():Promise.resolve()}}e.RenameAction=P,(0,p.registerEditorContribution)(T.ID,T,4),(0,p.registerEditorAction)(P);const A=p.EditorCommand.bindToContribution(T.get);(0,p.registerEditorCommand)(new A({id:"acceptRenameInput",precondition:b.CONTEXT_RENAME_INPUT_VISIBLE,handler:M=>M.acceptRenameInput(!1),kbOpts:{weight:100+99,kbExpr:a.ContextKeyExpr.and(r.EditorContextKeys.focus,a.ContextKeyExpr.not("isComposing")),primary:3}})),(0,p.registerEditorCommand)(new A({id:"acceptRenameInputWithPreview",precondition:a.ContextKeyExpr.and(b.CONTEXT_RENAME_INPUT_VISIBLE,a.ContextKeyExpr.has("config.editor.rename.enablePreview")),handler:M=>M.acceptRenameInput(!0),kbOpts:{weight:100+99,kbExpr:a.ContextKeyExpr.and(r.EditorContextKeys.focus,a.ContextKeyExpr.not("isComposing")),primary:1024+3}})),(0,p.registerEditorCommand)(new A({id:"cancelRenameInput",precondition:b.CONTEXT_RENAME_INPUT_VISIBLE,handler:M=>M.cancelRenameInput(),kbOpts:{weight:100+99,kbExpr:r.EditorContextKeys.focus,primary:9,secondary:[1033]}})),(0,p.registerModelAndPositionCommand)("_executeDocumentRenameProvider",function(M,N,R,...F){const[x]=F;(0,m.assertType)(typeof x=="string");const{renameProvider:W}=M.get(w.ILanguageFeaturesService);return I(W,N,R,x)}),(0,p.registerModelAndPositionCommand)("_executePrepareRename",function(M,N,R){return Le(this,void 0,void 0,function*(){const{renameProvider:F}=M.get(w.ILanguageFeaturesService),W=yield new E(N,R,F).resolveRenameLocation(y.CancellationToken.None);if(W?.rejectReason)throw new Error(W.rejectReason);return W})}),v.Registry.as(c.Extensions.Configuration).registerConfiguration({id:"editor",properties:{"editor.rename.enablePreview":{scope:5,description:n.localize(8,null),default:!0,type:"boolean"}}})}),define(X[847],ee([1,0,2,12,49,28,14,20,23,251,327,75,58,19,235,148,294]),function(q,e,L,k,y,D,S,m,_,f,p,s,t,i,o,r,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DocumentSemanticTokensFeature=void 0;let h=e.DocumentSemanticTokensFeature=class extends L.Disposable{constructor(l,u,C,g,v,b){super(),this._watchers=Object.create(null);const w=T=>{this._watchers[T.uri.toString()]=new n(T,l,C,v,b)},E=(T,P)=>{P.dispose(),delete this._watchers[T.uri.toString()]},I=()=>{for(const T of u.getModels()){const P=this._watchers[T.uri.toString()];(0,d.isSemanticColoringEnabled)(T,C,g)?P||w(T):P&&E(T,P)}};this._register(u.onModelAdded(T=>{(0,d.isSemanticColoringEnabled)(T,C,g)&&w(T)})),this._register(u.onModelRemoved(T=>{const P=this._watchers[T.uri.toString()];P&&E(T,P)})),this._register(g.onDidChangeConfiguration(T=>{T.affectsConfiguration(d.SEMANTIC_HIGHLIGHTING_SETTING_ID)&&I()})),this._register(C.onDidColorThemeChange(I))}dispose(){for(const l of Object.values(this._watchers))l.dispose();super.dispose()}};e.DocumentSemanticTokensFeature=h=Ne([ge(0,o.ISemanticTokensStylingService),ge(1,y.IModelService),ge(2,_.IThemeService),ge(3,D.IConfigurationService),ge(4,s.ILanguageFeatureDebounceService),ge(5,i.ILanguageFeaturesService)],h);let n=class Ot extends L.Disposable{constructor(l,u,C,g,v){super(),this._semanticTokensStylingService=u,this._isDisposed=!1,this._model=l,this._provider=v.documentSemanticTokensProvider,this._debounceInformation=g.for(this._provider,"DocumentSemanticTokens",{min:Ot.REQUEST_MIN_DELAY,max:Ot.REQUEST_MAX_DELAY}),this._fetchDocumentSemanticTokens=this._register(new S.RunOnceScheduler(()=>this._fetchDocumentSemanticTokensNow(),Ot.REQUEST_MIN_DELAY)),this._currentDocumentResponse=null,this._currentDocumentRequestCancellationTokenSource=null,this._documentProvidersChangeListeners=[],this._providersChangedDuringRequest=!1,this._register(this._model.onDidChangeContent(()=>{this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._register(this._model.onDidChangeAttached(()=>{this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._register(this._model.onDidChangeLanguage(()=>{this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._currentDocumentRequestCancellationTokenSource&&(this._currentDocumentRequestCancellationTokenSource.cancel(),this._currentDocumentRequestCancellationTokenSource=null),this._setDocumentSemanticTokens(null,null,null,[]),this._fetchDocumentSemanticTokens.schedule(0)}));const b=()=>{(0,L.dispose)(this._documentProvidersChangeListeners),this._documentProvidersChangeListeners=[];for(const w of this._provider.all(l))typeof w.onDidChange=="function"&&this._documentProvidersChangeListeners.push(w.onDidChange(()=>{if(this._currentDocumentRequestCancellationTokenSource){this._providersChangedDuringRequest=!0;return}this._fetchDocumentSemanticTokens.schedule(0)}))};b(),this._register(this._provider.onDidChange(()=>{b(),this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._register(C.onDidColorThemeChange(w=>{this._setDocumentSemanticTokens(null,null,null,[]),this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._fetchDocumentSemanticTokens.schedule(0)}dispose(){this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._currentDocumentRequestCancellationTokenSource&&(this._currentDocumentRequestCancellationTokenSource.cancel(),this._currentDocumentRequestCancellationTokenSource=null),(0,L.dispose)(this._documentProvidersChangeListeners),this._documentProvidersChangeListeners=[],this._setDocumentSemanticTokens(null,null,null,[]),this._isDisposed=!0,super.dispose()}_fetchDocumentSemanticTokensNow(){if(this._currentDocumentRequestCancellationTokenSource)return;if(!(0,p.hasDocumentSemanticTokensProvider)(this._provider,this._model)){this._currentDocumentResponse&&this._model.tokenization.setSemanticTokens(null,!1);return}if(!this._model.isAttachedToEditor())return;const l=new m.CancellationTokenSource,u=this._currentDocumentResponse?this._currentDocumentResponse.provider:null,C=this._currentDocumentResponse&&this._currentDocumentResponse.resultId||null,g=(0,p.getDocumentSemanticTokens)(this._provider,this._model,u,C,l.token);this._currentDocumentRequestCancellationTokenSource=l,this._providersChangedDuringRequest=!1;const v=[],b=this._model.onDidChangeContent(E=>{v.push(E)}),w=new t.StopWatch(!1);g.then(E=>{if(this._debounceInformation.update(this._model,w.elapsed()),this._currentDocumentRequestCancellationTokenSource=null,b.dispose(),!E)this._setDocumentSemanticTokens(null,null,null,v);else{const{provider:I,tokens:T}=E,P=this._semanticTokensStylingService.getStyling(I);this._setDocumentSemanticTokens(I,T||null,P,v)}},E=>{E&&(k.isCancellationError(E)||typeof E.message=="string"&&E.message.indexOf("busy")!==-1)||k.onUnexpectedError(E),this._currentDocumentRequestCancellationTokenSource=null,b.dispose(),(v.length>0||this._providersChangedDuringRequest)&&(this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model)))})}static _copy(l,u,C,g,v){v=Math.min(v,C.length-g,l.length-u);for(let b=0;b<v;b++)C[g+b]=l[u+b]}_setDocumentSemanticTokens(l,u,C,g){const v=this._currentDocumentResponse,b=()=>{(g.length>0||this._providersChangedDuringRequest)&&!this._fetchDocumentSemanticTokens.isScheduled()&&this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))};if(this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._isDisposed){l&&u&&l.releaseDocumentSemanticTokens(u.resultId);return}if(!l||!C){this._model.tokenization.setSemanticTokens(null,!1);return}if(!u){this._model.tokenization.setSemanticTokens(null,!0),b();return}if((0,p.isSemanticTokensEdits)(u)){if(!v){this._model.tokenization.setSemanticTokens(null,!0);return}if(u.edits.length===0)u={resultId:u.resultId,data:v.data};else{let w=0;for(const A of u.edits)w+=(A.data?A.data.length:0)-A.deleteCount;const E=v.data,I=new Uint32Array(E.length+w);let T=E.length,P=I.length;for(let A=u.edits.length-1;A>=0;A--){const M=u.edits[A];if(M.start>E.length){C.warnInvalidEditStart(v.resultId,u.resultId,A,M.start,E.length),this._model.tokenization.setSemanticTokens(null,!0);return}const N=T-(M.start+M.deleteCount);N>0&&(Ot._copy(E,T-N,I,P-N,N),P-=N),M.data&&(Ot._copy(M.data,0,I,P-M.data.length,M.data.length),P-=M.data.length),T=M.start}T>0&&Ot._copy(E,0,I,0,T),u={resultId:u.resultId,data:I}}}if((0,p.isSemanticTokens)(u)){this._currentDocumentResponse=new c(l,u.resultId,u.data);const w=(0,f.toMultilineTokens2)(u,C,this._model.getLanguageId());if(g.length>0)for(const E of g)for(const I of w)for(const T of E.changes)I.applyEdit(T.range,T.text);this._model.tokenization.setSemanticTokens(w,!0)}else this._model.tokenization.setSemanticTokens(null,!0);b()}};n.REQUEST_MIN_DELAY=300,n.REQUEST_MAX_DELAY=2e3,n=Ne([ge(1,o.ISemanticTokensStylingService),ge(2,_.IThemeService),ge(3,s.ILanguageFeatureDebounceService),ge(4,i.ILanguageFeaturesService)],n);class c{constructor(l,u,C){this.provider=l,this.resultId=u,this.data=C}dispose(){this.provider.releaseDocumentSemanticTokens(this.resultId)}}(0,r.registerEditorFeature)(h)}),define(X[848],ee([1,0,14,2,15,327,294,251,28,23,75,58,19,235]),function(q,e,L,k,y,D,S,m,_,f,p,s,t,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewportSemanticTokensContribution=void 0;let o=e.ViewportSemanticTokensContribution=class extends k.Disposable{constructor(d,h,n,c,a,l){super(),this._semanticTokensStylingService=h,this._themeService=n,this._configurationService=c,this._editor=d,this._provider=l.documentRangeSemanticTokensProvider,this._debounceInformation=a.for(this._provider,"DocumentRangeSemanticTokens",{min:100,max:500}),this._tokenizeViewport=this._register(new L.RunOnceScheduler(()=>this._tokenizeViewportNow(),100)),this._outstandingRequests=[];const u=()=>{this._editor.hasModel()&&this._tokenizeViewport.schedule(this._debounceInformation.get(this._editor.getModel()))};this._register(this._editor.onDidScrollChange(()=>{u()})),this._register(this._editor.onDidChangeModel(()=>{this._cancelAll(),u()})),this._register(this._editor.onDidChangeModelContent(C=>{this._cancelAll(),u()})),this._register(this._provider.onDidChange(()=>{this._cancelAll(),u()})),this._register(this._configurationService.onDidChangeConfiguration(C=>{C.affectsConfiguration(S.SEMANTIC_HIGHLIGHTING_SETTING_ID)&&(this._cancelAll(),u())})),this._register(this._themeService.onDidColorThemeChange(()=>{this._cancelAll(),u()})),u()}_cancelAll(){for(const d of this._outstandingRequests)d.cancel();this._outstandingRequests=[]}_removeOutstandingRequest(d){for(let h=0,n=this._outstandingRequests.length;h<n;h++)if(this._outstandingRequests[h]===d){this._outstandingRequests.splice(h,1);return}}_tokenizeViewportNow(){if(!this._editor.hasModel())return;const d=this._editor.getModel();if(d.tokenization.hasCompleteSemanticTokens())return;if(!(0,S.isSemanticColoringEnabled)(d,this._themeService,this._configurationService)){d.tokenization.hasSomeSemanticTokens()&&d.tokenization.setSemanticTokens(null,!1);return}if(!(0,D.hasDocumentRangeSemanticTokensProvider)(this._provider,d)){d.tokenization.hasSomeSemanticTokens()&&d.tokenization.setSemanticTokens(null,!1);return}const h=this._editor.getVisibleRangesPlusViewportAboveBelow();this._outstandingRequests=this._outstandingRequests.concat(h.map(n=>this._requestRange(d,n)))}_requestRange(d,h){const n=d.getVersionId(),c=(0,L.createCancelablePromise)(l=>Promise.resolve((0,D.getDocumentRangeSemanticTokens)(this._provider,d,h,l))),a=new s.StopWatch(!1);return c.then(l=>{if(this._debounceInformation.update(d,a.elapsed()),!l||!l.tokens||d.isDisposed()||d.getVersionId()!==n)return;const{provider:u,tokens:C}=l,g=this._semanticTokensStylingService.getStyling(u);d.tokenization.setPartialSemanticTokens(h,(0,m.toMultilineTokens2)(C,g,d.getLanguageId()))}).then(()=>this._removeOutstandingRequest(c),()=>this._removeOutstandingRequest(c)),c}};o.ID="editor.contrib.viewportSemanticTokens",e.ViewportSemanticTokensContribution=o=Ne([ge(1,i.ISemanticTokensStylingService),ge(2,f.IThemeService),ge(3,_.IConfigurationService),ge(4,p.ILanguageFeatureDebounceService),ge(5,t.ILanguageFeaturesService)],o),(0,y.registerEditorContribution)(o.ID,o,1)}),define(X[849],ee([1,0,7,226,25,27,6,70,2,21,29,764,49,41,694,325,61,23,339]),function(q,e,L,k,y,D,S,m,_,f,p,s,t,i,o,r,d,h,n){"use strict";var c;Object.defineProperty(e,"__esModule",{value:!0}),e.ItemRenderer=e.getAriaId=void 0;function a(v){return`suggest-aria-id:${v}`}e.getAriaId=a;const l=(0,d.registerIcon)("suggest-more-info",y.Codicon.chevronRight,o.localize(0,null)),u=new(c=class ti{extract(b,w){if(b.textLabel.match(ti._regexStrict))return w[0]=b.textLabel,!0;if(b.completion.detail&&b.completion.detail.match(ti._regexStrict))return w[0]=b.completion.detail,!0;if(typeof b.completion.documentation=="string"){const E=ti._regexRelaxed.exec(b.completion.documentation);if(E&&(E.index===0||E.index+E[0].length===b.completion.documentation.length))return w[0]=E[0],!0}return!1}},c._regexRelaxed=/(#([\da-fA-F]{3}){1,2}|(rgb|hsl)a\(\s*(\d{1,3}%?\s*,\s*){3}(1|0?\.\d+)\)|(rgb|hsl)\(\s*\d{1,3}%?(\s*,\s*\d{1,3}%?){2}\s*\))/,c._regexStrict=new RegExp(`^${c._regexRelaxed.source}$`,"i"),c);let C=e.ItemRenderer=class{constructor(b,w,E,I){this._editor=b,this._modelService=w,this._languageService=E,this._themeService=I,this._onDidToggleDetails=new S.Emitter,this.onDidToggleDetails=this._onDidToggleDetails.event,this.templateId="suggestion"}dispose(){this._onDidToggleDetails.dispose()}renderTemplate(b){const w=new _.DisposableStore,E=b;E.classList.add("show-file-icons");const I=(0,L.append)(b,(0,L.$)(".icon")),T=(0,L.append)(I,(0,L.$)("span.colorspan")),P=(0,L.append)(b,(0,L.$)(".contents")),A=(0,L.append)(P,(0,L.$)(".main")),M=(0,L.append)(A,(0,L.$)(".icon-label.codicon")),N=(0,L.append)(A,(0,L.$)("span.left")),R=(0,L.append)(A,(0,L.$)("span.right")),F=new k.IconLabel(N,{supportHighlights:!0,supportIcons:!0});w.add(F);const x=(0,L.append)(N,(0,L.$)("span.signature-label")),W=(0,L.append)(N,(0,L.$)("span.qualifier-label")),z=(0,L.append)(R,(0,L.$)("span.details-label")),U=(0,L.append)(R,(0,L.$)("span.readMore"+D.ThemeIcon.asCSSSelector(l)));U.title=o.localize(1,null);const O=()=>{const G=this._editor.getOptions(),Q=G.get(48),re=Q.getMassagedFontFamily(),oe=Q.fontFeatureSettings,te=G.get(116)||Q.fontSize,H=G.get(117)||Q.lineHeight,B=Q.fontWeight,K=Q.letterSpacing,Z=`${te}px`,J=`${H}px`,ne=`${K}px`;E.style.fontSize=Z,E.style.fontWeight=B,E.style.letterSpacing=ne,A.style.fontFamily=re,A.style.fontFeatureSettings=oe,A.style.lineHeight=J,I.style.height=J,I.style.width=J,U.style.height=J,U.style.width=J};return O(),w.add(this._editor.onDidChangeConfiguration(G=>{(G.hasChanged(48)||G.hasChanged(116)||G.hasChanged(117))&&O()})),{root:E,left:N,right:R,icon:I,colorspan:T,iconLabel:F,iconContainer:M,parametersLabel:x,qualifierLabel:W,detailsLabel:z,readMore:U,disposables:w}}renderElement(b,w,E){const{completion:I}=b;E.root.id=a(w),E.colorspan.style.backgroundColor="";const T={labelEscapeNewLines:!0,matches:(0,m.createMatches)(b.score)},P=[];if(I.kind===19&&u.extract(b,P))E.icon.className="icon customcolor",E.iconContainer.className="icon hide",E.colorspan.style.backgroundColor=P[0];else if(I.kind===20&&this._themeService.getFileIconTheme().hasFileIcons){E.icon.className="icon hide",E.iconContainer.className="icon hide";const A=(0,s.getIconClasses)(this._modelService,this._languageService,f.URI.from({scheme:"fake",path:b.textLabel}),r.FileKind.FILE),M=(0,s.getIconClasses)(this._modelService,this._languageService,f.URI.from({scheme:"fake",path:I.detail}),r.FileKind.FILE);T.extraClasses=A.length>M.length?A:M}else I.kind===23&&this._themeService.getFileIconTheme().hasFolderIcons?(E.icon.className="icon hide",E.iconContainer.className="icon hide",T.extraClasses=[(0,s.getIconClasses)(this._modelService,this._languageService,f.URI.from({scheme:"fake",path:b.textLabel}),r.FileKind.FOLDER),(0,s.getIconClasses)(this._modelService,this._languageService,f.URI.from({scheme:"fake",path:I.detail}),r.FileKind.FOLDER)].flat()):(E.icon.className="icon hide",E.iconContainer.className="",E.iconContainer.classList.add("suggest-icon",...D.ThemeIcon.asClassNameArray(p.CompletionItemKinds.toIcon(I.kind))));I.tags&&I.tags.indexOf(1)>=0&&(T.extraClasses=(T.extraClasses||[]).concat(["deprecated"]),T.matches=[]),E.iconLabel.setLabel(b.textLabel,void 0,T),typeof I.label=="string"?(E.parametersLabel.textContent="",E.detailsLabel.textContent=g(I.detail||""),E.root.classList.add("string-label")):(E.parametersLabel.textContent=g(I.label.detail||""),E.detailsLabel.textContent=g(I.label.description||""),E.root.classList.remove("string-label")),this._editor.getOption(115).showInlineDetails?(0,L.show)(E.detailsLabel):(0,L.hide)(E.detailsLabel),(0,n.canExpandCompletionItem)(b)?(E.right.classList.add("can-expand-details"),(0,L.show)(E.readMore),E.readMore.onmousedown=A=>{A.stopPropagation(),A.preventDefault()},E.readMore.onclick=A=>{A.stopPropagation(),A.preventDefault(),this._onDidToggleDetails.fire()}):(E.right.classList.remove("can-expand-details"),(0,L.hide)(E.readMore),E.readMore.onmousedown=null,E.readMore.onclick=null)}disposeTemplate(b){b.disposables.dispose()}};e.ItemRenderer=C=Ne([ge(1,t.IModelService),ge(2,i.ILanguageService),ge(3,h.IThemeService)],C);function g(v){return v.replace(/\r\n|\r|\n/g,"")}}),define(X[850],ee([1,0,843,38,134,32,18,93,6,15,22,76]),function(q,e,L,k,y,D,S,m,_,f,p,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GotoLineAction=e.StandaloneGotoLineQuickAccessProvider=void 0;let t=e.StandaloneGotoLineQuickAccessProvider=class extends L.AbstractGotoLineQuickAccessProvider{constructor(r){super(),this.editorService=r,this.onDidActiveTextEditorControlChange=_.Event.None}get activeTextEditorControl(){return(0,S.withNullAsUndefined)(this.editorService.getFocusedCodeEditor())}};e.StandaloneGotoLineQuickAccessProvider=t=Ne([ge(0,D.ICodeEditorService)],t);class i extends f.EditorAction{constructor(){super({id:i.ID,label:m.GoToLineNLS.gotoLineActionLabel,alias:"Go to Line/Column...",precondition:void 0,kbOpts:{kbExpr:p.EditorContextKeys.focus,primary:2085,mac:{primary:293},weight:100}})}run(r){r.get(s.IQuickInputService).quickAccess.show(t.PREFIX)}}e.GotoLineAction=i,i.ID="editor.action.gotoLine",(0,f.registerEditorAction)(i),k.Registry.as(y.Extensions.Quickaccess).registerQuickAccessProvider({ctor:t,prefix:t.PREFIX,helpEntries:[{description:m.GoToLineNLS.gotoLineActionLabel,commandId:i.ID}]})}),define(X[851],ee([1,0,844,38,134,32,18,93,6,15,22,76,189,19,174,249]),function(q,e,L,k,y,D,S,m,_,f,p,s,t,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GotoSymbolAction=e.StandaloneGotoSymbolQuickAccessProvider=void 0;let o=e.StandaloneGotoSymbolQuickAccessProvider=class extends L.AbstractGotoSymbolQuickAccessProvider{constructor(h,n,c){super(n,c),this.editorService=h,this.onDidActiveTextEditorControlChange=_.Event.None}get activeTextEditorControl(){return(0,S.withNullAsUndefined)(this.editorService.getFocusedCodeEditor())}};e.StandaloneGotoSymbolQuickAccessProvider=o=Ne([ge(0,D.ICodeEditorService),ge(1,i.ILanguageFeaturesService),ge(2,t.IOutlineModelService)],o);class r extends f.EditorAction{constructor(){super({id:r.ID,label:m.QuickOutlineNLS.quickOutlineActionLabel,alias:"Go to Symbol...",precondition:p.EditorContextKeys.hasDocumentSymbolProvider,kbOpts:{kbExpr:p.EditorContextKeys.focus,primary:3117,weight:100},contextMenuOpts:{group:"navigation",order:3}})}run(h){h.get(s.IQuickInputService).quickAccess.show(L.AbstractGotoSymbolQuickAccessProvider.PREFIX,{itemActivation:s.ItemActivation.NONE})}}e.GotoSymbolAction=r,r.ID="editor.action.quickOutline",(0,f.registerEditorAction)(r),k.Registry.as(y.Extensions.Quickaccess).registerQuickAccessProvider({ctor:o,prefix:L.AbstractGotoSymbolQuickAccessProvider.PREFIX,helpEntries:[{description:m.QuickOutlineNLS.quickOutlineActionLabel,prefix:L.AbstractGotoSymbolQuickAccessProvider.PREFIX,commandId:r.ID},{description:m.QuickOutlineNLS.quickOutlineByCategoryActionLabel,prefix:L.AbstractGotoSymbolQuickAccessProvider.PREFIX_BY_CATEGORY}]})}),define(X[355],ee([1,0,7,53,829,32,13,48,23]),function(q,e,L,k,y,D,S,m,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandaloneCodeEditorService=void 0;let f=e.StandaloneCodeEditorService=class extends y.AbstractCodeEditorService{constructor(s,t){super(t),this.onCodeEditorAdd(()=>this._checkContextKey()),this.onCodeEditorRemove(()=>this._checkContextKey()),this._editorIsOpen=s.createKey("editorIsOpen",!1),this._activeCodeEditor=null,this.registerCodeEditorOpenHandler((i,o,r)=>Le(this,void 0,void 0,function*(){return o?this.doOpenEditor(o,i):null}))}_checkContextKey(){let s=!1;for(const t of this.listCodeEditors())if(!t.isSimpleWidget){s=!0;break}this._editorIsOpen.set(s)}setActiveCodeEditor(s){this._activeCodeEditor=s}getActiveCodeEditor(){return this._activeCodeEditor}doOpenEditor(s,t){if(!this.findModel(s,t.resource)){if(t.resource){const r=t.resource.scheme;if(r===k.Schemas.http||r===k.Schemas.https)return(0,L.windowOpenNoOpener)(t.resource.toString()),s}return null}const o=t.options?t.options.selection:null;if(o)if(typeof o.endLineNumber=="number"&&typeof o.endColumn=="number")s.setSelection(o),s.revealRangeInCenter(o,1);else{const r={lineNumber:o.startLineNumber,column:o.startColumn};s.setPosition(r),s.revealPositionInCenter(r,1)}return s}findModel(s,t){const i=s.getModel();return i&&i.uri.toString()!==t.toString()?null:i}};e.StandaloneCodeEditorService=f=Ne([ge(0,S.IContextKeyService),ge(1,_.IThemeService)],f),(0,m.registerSingleton)(D.ICodeEditorService,f,0)}),define(X[852],ee([1,0,79,33]),function(q,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.hc_light=e.hc_black=e.vs_dark=e.vs=void 0,e.vs={base:"vs",inherit:!1,rules:[{token:"",foreground:"000000",background:"fffffe"},{token:"invalid",foreground:"cd3131"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"001188"},{token:"variable.predefined",foreground:"4864AA"},{token:"constant",foreground:"dd0000"},{token:"comment",foreground:"008000"},{token:"number",foreground:"098658"},{token:"number.hex",foreground:"3030c0"},{token:"regexp",foreground:"800000"},{token:"annotation",foreground:"808080"},{token:"type",foreground:"008080"},{token:"delimiter",foreground:"000000"},{token:"delimiter.html",foreground:"383838"},{token:"delimiter.xml",foreground:"0000FF"},{token:"tag",foreground:"800000"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"800000"},{token:"metatag",foreground:"e00000"},{token:"metatag.content.html",foreground:"FF0000"},{token:"metatag.html",foreground:"808080"},{token:"metatag.xml",foreground:"808080"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"863B00"},{token:"string.key.json",foreground:"A31515"},{token:"string.value.json",foreground:"0451A5"},{token:"attribute.name",foreground:"FF0000"},{token:"attribute.value",foreground:"0451A5"},{token:"attribute.value.number",foreground:"098658"},{token:"attribute.value.unit",foreground:"098658"},{token:"attribute.value.html",foreground:"0000FF"},{token:"attribute.value.xml",foreground:"0000FF"},{token:"string",foreground:"A31515"},{token:"string.html",foreground:"0000FF"},{token:"string.sql",foreground:"FF0000"},{token:"string.yaml",foreground:"0451A5"},{token:"keyword",foreground:"0000FF"},{token:"keyword.json",foreground:"0451A5"},{token:"keyword.flow",foreground:"AF00DB"},{token:"keyword.flow.scss",foreground:"0000FF"},{token:"operator.scss",foreground:"666666"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"666666"},{token:"predefined.sql",foreground:"C700C7"}],colors:{[k.editorBackground]:"#FFFFFE",[k.editorForeground]:"#000000",[k.editorInactiveSelection]:"#E5EBF1",[L.editorIndentGuides]:"#D3D3D3",[L.editorActiveIndentGuides]:"#939393",[k.editorSelectionHighlight]:"#ADD6FF4D"}},e.vs_dark={base:"vs-dark",inherit:!1,rules:[{token:"",foreground:"D4D4D4",background:"1E1E1E"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"74B0DF"},{token:"variable.predefined",foreground:"4864AA"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"B5CEA8"},{token:"number.hex",foreground:"5BB498"},{token:"regexp",foreground:"B46695"},{token:"annotation",foreground:"cc6666"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"DCDCDC"},{token:"delimiter.html",foreground:"808080"},{token:"delimiter.xml",foreground:"808080"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"A79873"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"DD6A6F"},{token:"metatag.content.html",foreground:"9CDCFE"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key.json",foreground:"9CDCFE"},{token:"string.value.json",foreground:"CE9178"},{token:"attribute.name",foreground:"9CDCFE"},{token:"attribute.value",foreground:"CE9178"},{token:"attribute.value.number.css",foreground:"B5CEA8"},{token:"attribute.value.unit.css",foreground:"B5CEA8"},{token:"attribute.value.hex.css",foreground:"D4D4D4"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"keyword.json",foreground:"CE9178"},{token:"keyword.flow.scss",foreground:"569CD6"},{token:"operator.scss",foreground:"909090"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[k.editorBackground]:"#1E1E1E",[k.editorForeground]:"#D4D4D4",[k.editorInactiveSelection]:"#3A3D41",[L.editorIndentGuides]:"#404040",[L.editorActiveIndentGuides]:"#707070",[k.editorSelectionHighlight]:"#ADD6FF26"}},e.hc_black={base:"hc-black",inherit:!1,rules:[{token:"",foreground:"FFFFFF",background:"000000"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"1AEBFF"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"FFFFFF"},{token:"regexp",foreground:"C0C0C0"},{token:"annotation",foreground:"569CD6"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"FFFF00"},{token:"delimiter.html",foreground:"FFFF00"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta",foreground:"D4D4D4"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"569CD6"},{token:"metatag.content.html",foreground:"1AEBFF"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key",foreground:"9CDCFE"},{token:"string.value",foreground:"CE9178"},{token:"attribute.name",foreground:"569CD6"},{token:"attribute.value",foreground:"3FF23F"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[k.editorBackground]:"#000000",[k.editorForeground]:"#FFFFFF",[L.editorIndentGuides]:"#FFFFFF",[L.editorActiveIndentGuides]:"#FFFFFF"}},e.hc_light={base:"hc-light",inherit:!1,rules:[{token:"",foreground:"292929",background:"FFFFFF"},{token:"invalid",foreground:"B5200D"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"264F70"},{token:"variable.predefined",foreground:"4864AA"},{token:"constant",foreground:"dd0000"},{token:"comment",foreground:"008000"},{token:"number",foreground:"098658"},{token:"number.hex",foreground:"3030c0"},{token:"regexp",foreground:"800000"},{token:"annotation",foreground:"808080"},{token:"type",foreground:"008080"},{token:"delimiter",foreground:"000000"},{token:"delimiter.html",foreground:"383838"},{token:"tag",foreground:"800000"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"800000"},{token:"metatag",foreground:"e00000"},{token:"metatag.content.html",foreground:"B5200D"},{token:"metatag.html",foreground:"808080"},{token:"metatag.xml",foreground:"808080"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"863B00"},{token:"string.key.json",foreground:"A31515"},{token:"string.value.json",foreground:"0451A5"},{token:"attribute.name",foreground:"264F78"},{token:"attribute.value",foreground:"0451A5"},{token:"string",foreground:"A31515"},{token:"string.sql",foreground:"B5200D"},{token:"keyword",foreground:"0000FF"},{token:"keyword.flow",foreground:"AF00DB"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"666666"},{token:"predefined.sql",foreground:"C700C7"}],colors:{[k.editorBackground]:"#FFFFFF",[k.editorForeground]:"#292929",[L.editorIndentGuides]:"#292929",[L.editorActiveIndentGuides]:"#292929"}}}),define(X[356],ee([1,0,7,51,36,6,29,124,498,852,38,33,23,2,88,823]),function(q,e,L,k,y,D,S,m,_,f,p,s,t,i,o,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandaloneThemeService=e.HC_LIGHT_THEME_NAME=e.HC_BLACK_THEME_NAME=e.VS_DARK_THEME_NAME=e.VS_LIGHT_THEME_NAME=void 0,e.VS_LIGHT_THEME_NAME="vs",e.VS_DARK_THEME_NAME="vs-dark",e.HC_BLACK_THEME_NAME="hc-black",e.HC_LIGHT_THEME_NAME="hc-light";const d=p.Registry.as(s.Extensions.ColorContribution),h=p.Registry.as(t.Extensions.ThemingContribution);class n{constructor(g,v){this.semanticHighlighting=!1,this.themeData=v;const b=v.base;g.length>0?(c(g)?this.id=g:this.id=b+" "+g,this.themeName=g):(this.id=b,this.themeName=b),this.colors=null,this.defaultColors=Object.create(null),this._tokenTheme=null}get base(){return this.themeData.base}notifyBaseUpdated(){this.themeData.inherit&&(this.colors=null,this._tokenTheme=null)}getColors(){if(!this.colors){const g=new Map;for(const v in this.themeData.colors)g.set(v,y.Color.fromHex(this.themeData.colors[v]));if(this.themeData.inherit){const v=a(this.themeData.base);for(const b in v.colors)g.has(b)||g.set(b,y.Color.fromHex(v.colors[b]))}this.colors=g}return this.colors}getColor(g,v){const b=this.getColors().get(g);if(b)return b;if(v!==!1)return this.getDefault(g)}getDefault(g){let v=this.defaultColors[g];return v||(v=d.resolveDefaultColor(g,this),this.defaultColors[g]=v,v)}defines(g){return this.getColors().has(g)}get type(){switch(this.base){case e.VS_LIGHT_THEME_NAME:return o.ColorScheme.LIGHT;case e.HC_BLACK_THEME_NAME:return o.ColorScheme.HIGH_CONTRAST_DARK;case e.HC_LIGHT_THEME_NAME:return o.ColorScheme.HIGH_CONTRAST_LIGHT;default:return o.ColorScheme.DARK}}get tokenTheme(){if(!this._tokenTheme){let g=[],v=[];if(this.themeData.inherit){const E=a(this.themeData.base);g=E.rules,E.encodedTokensColors&&(v=E.encodedTokensColors)}const b=this.themeData.colors["editor.foreground"],w=this.themeData.colors["editor.background"];if(b||w){const E={token:""};b&&(E.foreground=b),w&&(E.background=w),g.push(E)}g=g.concat(this.themeData.rules),this.themeData.encodedTokensColors&&(v=this.themeData.encodedTokensColors),this._tokenTheme=_.TokenTheme.createFromRawTokenTheme(g,v)}return this._tokenTheme}getTokenStyleMetadata(g,v,b){const E=this.tokenTheme._match([g].concat(v).join(".")).metadata,I=m.TokenMetadata.getForeground(E),T=m.TokenMetadata.getFontStyle(E);return{foreground:I,italic:!!(T&1),bold:!!(T&2),underline:!!(T&4),strikethrough:!!(T&8)}}}function c(C){return C===e.VS_LIGHT_THEME_NAME||C===e.VS_DARK_THEME_NAME||C===e.HC_BLACK_THEME_NAME||C===e.HC_LIGHT_THEME_NAME}function a(C){switch(C){case e.VS_LIGHT_THEME_NAME:return f.vs;case e.VS_DARK_THEME_NAME:return f.vs_dark;case e.HC_BLACK_THEME_NAME:return f.hc_black;case e.HC_LIGHT_THEME_NAME:return f.hc_light}}function l(C){const g=a(C);return new n(C,g)}class u extends i.Disposable{constructor(){super(),this._onColorThemeChange=this._register(new D.Emitter),this.onDidColorThemeChange=this._onColorThemeChange.event,this._onProductIconThemeChange=this._register(new D.Emitter),this.onDidProductIconThemeChange=this._onProductIconThemeChange.event,this._environment=Object.create(null),this._builtInProductIconTheme=new r.UnthemedProductIconTheme,this._autoDetectHighContrast=!0,this._knownThemes=new Map,this._knownThemes.set(e.VS_LIGHT_THEME_NAME,l(e.VS_LIGHT_THEME_NAME)),this._knownThemes.set(e.VS_DARK_THEME_NAME,l(e.VS_DARK_THEME_NAME)),this._knownThemes.set(e.HC_BLACK_THEME_NAME,l(e.HC_BLACK_THEME_NAME)),this._knownThemes.set(e.HC_LIGHT_THEME_NAME,l(e.HC_LIGHT_THEME_NAME));const g=(0,r.getIconsStyleSheet)(this);this._codiconCSS=g.getCSS(),this._themeCSS="",this._allCSS=`${this._codiconCSS}
${this._themeCSS}`,this._globalStyleElement=null,this._styleElements=[],this._colorMapOverride=null,this.setTheme(e.VS_LIGHT_THEME_NAME),this._onOSSchemeChanged(),g.onDidChange(()=>{this._codiconCSS=g.getCSS(),this._updateCSS()}),(0,k.addMatchMediaChangeListener)("(forced-colors: active)",()=>{this._onOSSchemeChanged()})}registerEditorContainer(g){return L.isInShadowDOM(g)?this._registerShadowDomContainer(g):this._registerRegularEditorContainer()}_registerRegularEditorContainer(){return this._globalStyleElement||(this._globalStyleElement=L.createStyleSheet(void 0,g=>{g.className="monaco-colors",g.textContent=this._allCSS}),this._styleElements.push(this._globalStyleElement)),i.Disposable.None}_registerShadowDomContainer(g){const v=L.createStyleSheet(g,b=>{b.className="monaco-colors",b.textContent=this._allCSS});return this._styleElements.push(v),{dispose:()=>{for(let b=0;b<this._styleElements.length;b++)if(this._styleElements[b]===v){this._styleElements.splice(b,1);return}}}}defineTheme(g,v){if(!/^[a-z0-9\-]+$/i.test(g))throw new Error("Illegal theme name!");if(!c(v.base)&&!c(g))throw new Error("Illegal theme base!");this._knownThemes.set(g,new n(g,v)),c(g)&&this._knownThemes.forEach(b=>{b.base===g&&b.notifyBaseUpdated()}),this._theme.themeName===g&&this.setTheme(g)}getColorTheme(){return this._theme}setColorMapOverride(g){this._colorMapOverride=g,this._updateThemeOrColorMap()}setTheme(g){let v;this._knownThemes.has(g)?v=this._knownThemes.get(g):v=this._knownThemes.get(e.VS_LIGHT_THEME_NAME),this._updateActualTheme(v)}_updateActualTheme(g){!g||this._theme===g||(this._theme=g,this._updateThemeOrColorMap())}_onOSSchemeChanged(){if(this._autoDetectHighContrast){const g=window.matchMedia("(forced-colors: active)").matches;if(g!==(0,o.isHighContrast)(this._theme.type)){let v;(0,o.isDark)(this._theme.type)?v=g?e.HC_BLACK_THEME_NAME:e.VS_DARK_THEME_NAME:v=g?e.HC_LIGHT_THEME_NAME:e.VS_LIGHT_THEME_NAME,this._updateActualTheme(this._knownThemes.get(v))}}}setAutoDetectHighContrast(g){this._autoDetectHighContrast=g,this._onOSSchemeChanged()}_updateThemeOrColorMap(){const g=[],v={},b={addRule:I=>{v[I]||(g.push(I),v[I]=!0)}};h.getThemingParticipants().forEach(I=>I(this._theme,b,this._environment));const w=[];for(const I of d.getColors()){const T=this._theme.getColor(I.id,!0);T&&w.push(`${(0,s.asCssVariableName)(I.id)}: ${T.toString()};`)}b.addRule(`.monaco-editor { ${w.join(`
`)} }`);const E=this._colorMapOverride||this._theme.tokenTheme.getColorMap();b.addRule((0,_.generateTokensCSSForColorMap)(E)),this._themeCSS=g.join(`
`),this._updateCSS(),S.TokenizationRegistry.setColorMap(E),this._onColorThemeChange.fire(this._theme)}_updateCSS(){this._allCSS=`${this._codiconCSS}
${this._themeCSS}`,this._styleElements.forEach(g=>g.textContent=this._allCSS)}getFileIconTheme(){return{hasFileIcons:!1,hasFolderIcons:!1,hidesExplorerArrows:!1}}getProductIconTheme(){return this._builtInProductIconTheme}}e.StandaloneThemeService=u}),define(X[853],ee([1,0,15,132,93,88,356]),function(q,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class m extends L.EditorAction{constructor(){super({id:"editor.action.toggleHighContrast",label:y.ToggleHighContrastNLS.toggleHighContrast,alias:"Toggle High Contrast Theme",precondition:void 0}),this._originalThemeName=null}run(f,p){const s=f.get(k.IStandaloneThemeService),t=s.getColorTheme();(0,D.isHighContrast)(t.type)?(s.setTheme(this._originalThemeName||((0,D.isDark)(t.type)?S.VS_DARK_THEME_NAME:S.VS_LIGHT_THEME_NAME)),this._originalThemeName=null):(s.setTheme((0,D.isDark)(t.type)?S.HC_BLACK_THEME_NAME:S.HC_LIGHT_THEME_NAME),this._originalThemeName=t.themeName)}}(0,L.registerEditorAction)(m)}),define(X[162],ee([1,0,7,45,153,311,40,216,2,17,707,31,729,13,57,8,37,44,87,23,27,88,18,33,103,467]),function(q,e,L,k,y,D,S,m,_,f,p,s,t,i,o,r,d,h,n,c,a,l,u,C,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createActionViewItem=e.DropdownWithDefaultActionViewItem=e.SubmenuEntryActionViewItem=e.MenuEntryActionViewItem=e.createAndFillInActionBarActions=e.createAndFillInContextMenuActions=void 0;function v(M,N,R,F){const x=M.getActions(N),W=L.ModifierKeyEmitter.getInstance(),z=W.keyStatus.altKey||(f.isWindows||f.isLinux)&&W.keyStatus.shiftKey;w(x,R,z,F?U=>U===F:U=>U==="navigation")}e.createAndFillInContextMenuActions=v;function b(M,N,R,F,x,W){const z=M.getActions(N);w(z,R,!1,typeof F=="string"?O=>O===F:F,x,W)}e.createAndFillInActionBarActions=b;function w(M,N,R,F=z=>z==="navigation",x=()=>!1,W=!1){let z,U;Array.isArray(N)?(z=N,U=N):(z=N.primary,U=N.secondary);const O=new Set;for(const[G,Q]of M){let re;F(G)?(re=z,re.length>0&&W&&re.push(new S.Separator)):(re=U,re.length>0&&re.push(new S.Separator));for(let oe of Q){R&&(oe=oe instanceof s.MenuItemAction&&oe.alt?oe.alt:oe);const te=re.push(oe);oe instanceof S.SubmenuAction&&O.add({group:G,action:oe,index:te-1})}}for(const{group:G,action:Q,index:re}of O){const oe=F(G)?z:U,te=Q.actions;te.length<=1&&x(Q,G,oe.length)&&oe.splice(re,1,...te)}}let E=e.MenuEntryActionViewItem=class extends y.ActionViewItem{constructor(N,R,F,x,W,z,U){super(void 0,N,{icon:!!(N.class||N.item.icon),label:!N.class&&!N.item.icon,draggable:R?.draggable,keybinding:R?.keybinding,hoverDelegate:R?.hoverDelegate}),this._keybindingService=F,this._notificationService=x,this._contextKeyService=W,this._themeService=z,this._contextMenuService=U,this._wantsAltCommand=!1,this._itemClassDispose=this._register(new _.MutableDisposable),this._altKey=L.ModifierKeyEmitter.getInstance()}get _menuItemAction(){return this._action}get _commandAction(){return this._wantsAltCommand&&this._menuItemAction.alt||this._menuItemAction}onClick(N){return Le(this,void 0,void 0,function*(){N.preventDefault(),N.stopPropagation();try{yield this.actionRunner.run(this._commandAction,this._context)}catch(R){this._notificationService.error(R)}})}render(N){if(super.render(N),N.classList.add("menu-entry"),this.options.icon&&this._updateItemClass(this._menuItemAction.item),this._menuItemAction.alt){const R=F=>{var x;const W=!!(!((x=this._commandAction.alt)===null||x===void 0)&&x.enabled)&&(F.altKey||(f.isWindows||f.isLinux)&&F.shiftKey);W!==this._wantsAltCommand&&(this._wantsAltCommand=W,this.updateLabel(),this.updateTooltip(),this.updateClass())};this._register(this._altKey.event(R)),R(this._altKey.keyStatus)}}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this._commandAction.label)}getTooltip(){var N;const R=this._keybindingService.lookupKeybinding(this._commandAction.id,this._contextKeyService),F=R&&R.getLabel(),x=this._commandAction.tooltip||this._commandAction.label;let W=F?(0,p.localize)(0,null,x,F):x;if(!this._wantsAltCommand&&(!((N=this._menuItemAction.alt)===null||N===void 0)&&N.enabled)){const z=this._menuItemAction.alt.tooltip||this._menuItemAction.alt.label,U=this._keybindingService.lookupKeybinding(this._menuItemAction.alt.id,this._contextKeyService),O=U&&U.getLabel(),G=O?(0,p.localize)(1,null,z,O):z;W=(0,p.localize)(2,null,W,m.UILabelProvider.modifierLabels[f.OS].altKey,G)}return W}updateClass(){this.options.icon&&(this._commandAction!==this._menuItemAction?this._menuItemAction.alt&&this._updateItemClass(this._menuItemAction.alt.item):this._updateItemClass(this._menuItemAction.item))}_updateItemClass(N){this._itemClassDispose.value=void 0;const{element:R,label:F}=this;if(!R||!F)return;const x=this._commandAction.checked&&(0,t.isICommandActionToggleInfo)(N.toggled)&&N.toggled.icon?N.toggled.icon:N.icon;if(x)if(a.ThemeIcon.isThemeIcon(x)){const W=a.ThemeIcon.asClassNameArray(x);F.classList.add(...W),this._itemClassDispose.value=(0,_.toDisposable)(()=>{F.classList.remove(...W)})}else F.style.backgroundImage=(0,l.isDark)(this._themeService.getColorTheme().type)?(0,L.asCSSUrl)(x.dark):(0,L.asCSSUrl)(x.light),F.classList.add("icon"),this._itemClassDispose.value=(0,_.combinedDisposable)((0,_.toDisposable)(()=>{F.style.backgroundImage="",F.classList.remove("icon")}),this._themeService.onDidColorThemeChange(()=>{this.updateClass()}))}};e.MenuEntryActionViewItem=E=Ne([ge(2,d.IKeybindingService),ge(3,h.INotificationService),ge(4,i.IContextKeyService),ge(5,c.IThemeService),ge(6,o.IContextMenuService)],E);let I=e.SubmenuEntryActionViewItem=class extends D.DropdownMenuActionViewItem{constructor(N,R,F,x,W){var z,U,O;const G=Object.assign(Object.assign({},R),{menuAsChild:(z=R?.menuAsChild)!==null&&z!==void 0?z:!1,classNames:(U=R?.classNames)!==null&&U!==void 0?U:a.ThemeIcon.isThemeIcon(N.item.icon)?a.ThemeIcon.asClassName(N.item.icon):void 0,keybindingProvider:(O=R?.keybindingProvider)!==null&&O!==void 0?O:Q=>F.lookupKeybinding(Q.id)});super(N,{getActions:()=>N.actions},x,G),this._keybindingService=F,this._contextMenuService=x,this._themeService=W}render(N){super.render(N),(0,u.assertType)(this.element),N.classList.add("menu-entry");const R=this._action,{icon:F}=R.item;if(F&&!a.ThemeIcon.isThemeIcon(F)){this.element.classList.add("icon");const x=()=>{this.element&&(this.element.style.backgroundImage=(0,l.isDark)(this._themeService.getColorTheme().type)?(0,L.asCSSUrl)(F.dark):(0,L.asCSSUrl)(F.light))};x(),this._register(this._themeService.onDidColorThemeChange(()=>{x()}))}}};e.SubmenuEntryActionViewItem=I=Ne([ge(2,d.IKeybindingService),ge(3,o.IContextMenuService),ge(4,c.IThemeService)],I);let T=e.DropdownWithDefaultActionViewItem=class extends y.BaseActionViewItem{constructor(N,R,F,x,W,z,U,O){var G,Q,re;super(null,N),this._keybindingService=F,this._notificationService=x,this._contextMenuService=W,this._menuService=z,this._instaService=U,this._storageService=O,this._container=null,this._options=R,this._storageKey=`${N.item.submenu.id}_lastActionId`;let oe;const te=R?.persistLastActionId?O.get(this._storageKey,1):void 0;te&&(oe=N.actions.find(B=>te===B.id)),oe||(oe=N.actions[0]),this._defaultAction=this._instaService.createInstance(E,oe,{keybinding:this._getDefaultActionKeybindingLabel(oe)});const H=Object.assign(Object.assign({keybindingProvider:B=>this._keybindingService.lookupKeybinding(B.id)},R),{menuAsChild:(G=R?.menuAsChild)!==null&&G!==void 0?G:!0,classNames:(Q=R?.classNames)!==null&&Q!==void 0?Q:["codicon","codicon-chevron-down"],actionRunner:(re=R?.actionRunner)!==null&&re!==void 0?re:new S.ActionRunner});this._dropdown=new D.DropdownMenuActionViewItem(N,N.actions,this._contextMenuService,H),this._dropdown.actionRunner.onDidRun(B=>{B.action instanceof s.MenuItemAction&&this.update(B.action)})}update(N){var R;!((R=this._options)===null||R===void 0)&&R.persistLastActionId&&this._storageService.store(this._storageKey,N.id,1,1),this._defaultAction.dispose(),this._defaultAction=this._instaService.createInstance(E,N,{keybinding:this._getDefaultActionKeybindingLabel(N)}),this._defaultAction.actionRunner=new class extends S.ActionRunner{runAction(F,x){return Le(this,void 0,void 0,function*(){yield F.run(void 0)})}},this._container&&this._defaultAction.render((0,L.prepend)(this._container,(0,L.$)(".action-container")))}_getDefaultActionKeybindingLabel(N){var R;let F;if(!((R=this._options)===null||R===void 0)&&R.renderKeybindingWithDefaultActionLabel){const x=this._keybindingService.lookupKeybinding(N.id);x&&(F=`(${x.getLabel()})`)}return F}setActionContext(N){super.setActionContext(N),this._defaultAction.setActionContext(N),this._dropdown.setActionContext(N)}render(N){this._container=N,super.render(this._container),this._container.classList.add("monaco-dropdown-with-default");const R=(0,L.$)(".action-container");this._defaultAction.render((0,L.append)(this._container,R)),this._register((0,L.addDisposableListener)(R,L.EventType.KEY_DOWN,x=>{const W=new k.StandardKeyboardEvent(x);W.equals(17)&&(this._defaultAction.element.tabIndex=-1,this._dropdown.focus(),W.stopPropagation())}));const F=(0,L.$)(".dropdown-action-container");this._dropdown.render((0,L.append)(this._container,F)),this._register((0,L.addDisposableListener)(F,L.EventType.KEY_DOWN,x=>{var W;const z=new k.StandardKeyboardEvent(x);z.equals(15)&&(this._defaultAction.element.tabIndex=0,this._dropdown.setFocusable(!1),(W=this._defaultAction.element)===null||W===void 0||W.focus(),z.stopPropagation())}))}focus(N){N?this._dropdown.focus():(this._defaultAction.element.tabIndex=0,this._defaultAction.element.focus())}blur(){this._defaultAction.element.tabIndex=-1,this._dropdown.blur(),this._container.blur()}setFocusable(N){N?this._defaultAction.element.tabIndex=0:(this._defaultAction.element.tabIndex=-1,this._dropdown.setFocusable(!1))}dispose(){this._defaultAction.dispose(),this._dropdown.dispose(),super.dispose()}};e.DropdownWithDefaultActionViewItem=T=Ne([ge(2,d.IKeybindingService),ge(3,h.INotificationService),ge(4,o.IContextMenuService),ge(5,s.IMenuService),ge(6,r.IInstantiationService),ge(7,n.IStorageService)],T);let P=class extends y.SelectActionViewItem{constructor(N,R){super(null,N,N.actions.map(F=>({text:F.id===S.Separator.ID?"\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500":F.label,isDisabled:!F.enabled})),0,R,g.defaultSelectBoxStyles,{ariaLabel:N.tooltip,optionsAsChildren:!0}),this.select(Math.max(0,N.actions.findIndex(F=>F.checked)))}render(N){super.render(N),N.style.borderColor=(0,C.asCssVariable)(C.selectBorder)}runAction(N,R){const F=this.action.actions[R];F&&this.actionRunner.run(F)}};P=Ne([ge(1,o.IContextViewService)],P);function A(M,N,R){return N instanceof s.MenuItemAction?M.createInstance(E,N,R):N instanceof s.SubmenuItemAction?N.item.isSelection?M.createInstance(P,N):N.item.rememberDefaultAction?M.createInstance(T,N,Object.assign(Object.assign({},R),{persistLastActionId:!0})):M.createInstance(I,N,R):void 0}e.createActionViewItem=A}),define(X[252],ee([1,0,7,67,222,40,16,14,25,2,42,90,17,27,11,29,213,671,162,806,31,26,13,57,8,37,78,61,446]),function(q,e,L,k,y,D,S,m,_,f,p,s,t,i,o,r,d,h,n,c,a,l,u,C,g,v,b,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CustomizedMenuWorkbenchToolBar=e.InlineSuggestionHintsContentWidget=e.InlineCompletionsHintsWidget=void 0;let E=e.InlineCompletionsHintsWidget=class extends f.Disposable{constructor(R,F,x){super(),this.editor=R,this.model=F,this.instantiationService=x,this.alwaysShowToolbar=(0,p.observableFromEvent)(this.editor.onDidChangeConfiguration,()=>this.editor.getOption(60).showToolbar==="always"),this.sessionPosition=void 0,this.position=(0,p.derived)("position",W=>{var z,U,O;const G=(z=this.model.read(W))===null||z===void 0?void 0:z.ghostText.read(W);if(!this.alwaysShowToolbar.read(W)||!G||G.parts.length===0)return this.sessionPosition=void 0,null;const Q=G.parts[0].column;this.sessionPosition&&this.sessionPosition.lineNumber!==G.lineNumber&&(this.sessionPosition=void 0);const re=new o.Position(G.lineNumber,Math.min(Q,(O=(U=this.sessionPosition)===null||U===void 0?void 0:U.column)!==null&&O!==void 0?O:Number.MAX_SAFE_INTEGER));return this.sessionPosition=re,re}),this._register((0,s.autorunWithStore2)("setup content widget",(W,z)=>{const U=this.model.read(W);if(!U||!this.alwaysShowToolbar.read(W))return;const O=z.add(this.instantiationService.createInstance(P,this.editor,!0,this.position,U.selectedInlineCompletionIndex,U.inlineCompletionsCount,U.selectedInlineCompletion.map(G=>{var Q;return(Q=G?.inlineCompletion.source.inlineCompletions.commands)!==null&&Q!==void 0?Q:[]})));R.addContentWidget(O),z.add((0,f.toDisposable)(()=>R.removeContentWidget(O))),z.add((0,p.autorun)("request explicit",G=>{this.position.read(G)&&U.lastTriggerKind.read(G)!==r.InlineCompletionTriggerKind.Explicit&&U.triggerExplicitly()}))}))}};e.InlineCompletionsHintsWidget=E=Ne([ge(2,g.IInstantiationService)],E);const I=(0,w.registerIcon)("inline-suggestion-hints-next",_.Codicon.chevronRight,(0,h.localize)(0,null)),T=(0,w.registerIcon)("inline-suggestion-hints-previous",_.Codicon.chevronLeft,(0,h.localize)(1,null));let P=e.InlineSuggestionHintsContentWidget=class vi extends f.Disposable{static get dropDownVisible(){return this._dropDownVisible}createCommandAction(R,F,x){const W=new D.Action(R,F,x,!0,()=>this._commandService.executeCommand(R)),z=this.keybindingService.lookupKeybinding(R,this._contextKeyService);let U=F;return z&&(U=(0,h.localize)(2,null,F,z.getLabel())),W.tooltip=U,W}constructor(R,F,x,W,z,U,O,G,Q,re,oe){super(),this.editor=R,this.withBorder=F,this._position=x,this._currentSuggestionIdx=W,this._suggestionCount=z,this._extraCommands=U,this._commandService=O,this.keybindingService=Q,this._contextKeyService=re,this._menuService=oe,this.id=`InlineSuggestionHintsContentWidget${vi.id++}`,this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this.nodes=(0,L.h)("div.inlineSuggestionsHints",{className:this.withBorder?".withBorder":""},[(0,L.h)("div",{style:{display:"flex"}},[(0,L.h)("div@actionBar",{className:"custom-actions"}),(0,L.h)("div@toolBar")])]),this.previousAction=this.createCommandAction(d.showPreviousInlineSuggestionActionId,(0,h.localize)(3,null),i.ThemeIcon.asClassName(T)),this.availableSuggestionCountAction=new D.Action("inlineSuggestionHints.availableSuggestionCount","",void 0,!1),this.nextAction=this.createCommandAction(d.showNextInlineSuggestionActionId,(0,h.localize)(4,null),i.ThemeIcon.asClassName(I)),this.inlineCompletionsActionsMenus=this._register(this._menuService.createMenu(a.MenuId.InlineCompletionsActions,this._contextKeyService)),this.clearAvailableSuggestionCountLabelDebounced=this._register(new m.RunOnceScheduler(()=>{this.availableSuggestionCountAction.label=""},100)),this.disableButtonsDebounced=this._register(new m.RunOnceScheduler(()=>{this.previousAction.enabled=this.nextAction.enabled=!1},100)),this.lastCommands=[];const te=this._register(new k.ActionBar(this.nodes.actionBar));te.push(this.previousAction,{icon:!0,label:!1}),te.push(this.availableSuggestionCountAction),te.push(this.nextAction,{icon:!0,label:!1}),this.toolBar=this._register(G.createInstance(M,this.nodes.toolBar,a.MenuId.InlineSuggestionToolbar,{menuOptions:{renderShortTitle:!0},toolbarOptions:{primaryGroup:H=>H.startsWith("primary")},actionViewItemProvider:(H,B)=>H instanceof a.MenuItemAction?G.createInstance(A,H,void 0):void 0,telemetrySource:"InlineSuggestionToolbar"})),this._register(this.toolBar.onDidChangeDropdownVisibility(H=>{vi._dropDownVisible=H})),this._register((0,p.autorun)("update position",H=>{this._position.read(H),this.editor.layoutContentWidget(this)})),this._register((0,p.autorun)("counts",H=>{const B=this._suggestionCount.read(H),K=this._currentSuggestionIdx.read(H);B!==void 0?(this.clearAvailableSuggestionCountLabelDebounced.cancel(),this.availableSuggestionCountAction.label=`${K+1}/${B}`):this.clearAvailableSuggestionCountLabelDebounced.schedule(),B!==void 0&&B>1?(this.disableButtonsDebounced.cancel(),this.previousAction.enabled=this.nextAction.enabled=!0):this.disableButtonsDebounced.schedule()})),this._register((0,p.autorun)("extra commands",H=>{const B=this._extraCommands.read(H);if((0,S.equals)(this.lastCommands,B))return;this.lastCommands=B;const K=B.map(Z=>({class:void 0,id:Z.id,enabled:!0,tooltip:Z.tooltip||"",label:Z.title,run:J=>this._commandService.executeCommand(Z.id)}));for(const[Z,J]of this.inlineCompletionsActionsMenus.getActions())for(const ne of J)ne instanceof a.MenuItemAction&&K.push(ne);K.length>0&&K.unshift(new D.Separator),this.toolBar.setAdditionalSecondaryActions(K)}))}getId(){return this.id}getDomNode(){return this.nodes.root}getPosition(){return{position:this._position.get(),preference:[1,2],positionAffinity:3}}};P._dropDownVisible=!1,P.id=0,e.InlineSuggestionHintsContentWidget=P=Ne([ge(6,l.ICommandService),ge(7,g.IInstantiationService),ge(8,v.IKeybindingService),ge(9,u.IContextKeyService),ge(10,a.IMenuService)],P);class A extends n.MenuEntryActionViewItem{updateLabel(){const R=this._keybindingService.lookupKeybinding(this._action.id,this._contextKeyService);if(!R)return super.updateLabel();if(this.label){const F=(0,L.h)("div.keybinding").root;new y.KeybindingLabel(F,t.OS,Object.assign({disableTitle:!0},y.unthemedKeybindingLabelOptions)).set(R),this.label.textContent=this._action.label,this.label.appendChild(F),this.label.classList.add("inlineSuggestionStatusBarItemLabel")}}}let M=e.CustomizedMenuWorkbenchToolBar=class extends c.WorkbenchToolBar{constructor(R,F,x,W,z,U,O,G){super(R,Object.assign({resetMenu:F},x),W,z,U,O,G),this.menuId=F,this.options2=x,this.menuService=W,this.contextKeyService=z,this.menu=this._store.add(this.menuService.createMenu(this.menuId,this.contextKeyService,{emitEventsForSubmenuChanges:!0})),this.additionalActions=[],this._store.add(this.menu.onDidChange(()=>this.updateToolbar())),this.updateToolbar()}updateToolbar(){var R,F,x,W,z,U,O;const G=[],Q=[];(0,n.createAndFillInActionBarActions)(this.menu,(R=this.options2)===null||R===void 0?void 0:R.menuOptions,{primary:G,secondary:Q},(x=(F=this.options2)===null||F===void 0?void 0:F.toolbarOptions)===null||x===void 0?void 0:x.primaryGroup,(z=(W=this.options2)===null||W===void 0?void 0:W.toolbarOptions)===null||z===void 0?void 0:z.shouldInlineSubmenu,(O=(U=this.options2)===null||U===void 0?void 0:U.toolbarOptions)===null||O===void 0?void 0:O.useSeparatorsInPrimaryActions),Q.push(...this.additionalActions),this.setActions(G,Q)}setAdditionalSecondaryActions(R){(0,S.equals)(this.additionalActions,R,(F,x)=>F===x)||(this.additionalActions=R,this.updateToolbar())}};e.CustomizedMenuWorkbenchToolBar=M=Ne([ge(3,a.IMenuService),ge(4,u.IContextKeyService),ge(5,C.IContextMenuService),ge(6,v.IKeybindingService),ge(7,b.ITelemetryService)],M)}),define(X[854],ee([1,0,7,67,2,695,162,31,13,8]),function(q,e,L,k,y,D,S,m,_,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestWidgetStatus=void 0;class p extends S.MenuEntryActionViewItem{updateLabel(){const i=this._keybindingService.lookupKeybinding(this._action.id,this._contextKeyService);if(!i)return super.updateLabel();this.label&&(this.label.textContent=(0,D.localize)(0,null,this._action.label,p.symbolPrintEnter(i)))}static symbolPrintEnter(i){var o;return(o=i.getLabel())===null||o===void 0?void 0:o.replace(/\benter\b/gi,"\u23CE")}}let s=e.SuggestWidgetStatus=class{constructor(i,o,r,d,h){this._menuId=o,this._menuService=d,this._contextKeyService=h,this._menuDisposables=new y.DisposableStore,this.element=L.append(i,L.$(".suggest-status-bar"));const n=c=>c instanceof m.MenuItemAction?r.createInstance(p,c,void 0):void 0;this._leftActions=new k.ActionBar(this.element,{actionViewItemProvider:n}),this._rightActions=new k.ActionBar(this.element,{actionViewItemProvider:n}),this._leftActions.domNode.classList.add("left"),this._rightActions.domNode.classList.add("right")}dispose(){this._menuDisposables.dispose(),this.element.remove()}show(){const i=this._menuService.createMenu(this._menuId,this._contextKeyService),o=()=>{const r=[],d=[];for(const[h,n]of i.getActions())h==="left"?r.push(...n):d.push(...n);this._leftActions.clear(),this._leftActions.push(r),this._rightActions.clear(),this._rightActions.push(d)};this._menuDisposables.add(i.onDidChange(()=>o())),this._menuDisposables.add(i)}hide(){this._menuDisposables.clear()}};e.SuggestWidgetStatus=s=Ne([ge(2,f.IInstantiationService),ge(3,m.IMenuService),ge(4,_.IContextKeyService)],s)}),define(X[855],ee([1,0,7,40,6,2,162,31,13,37,44,78,817,57]),function(q,e,L,k,y,D,S,m,_,f,p,s,t,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextMenuMenuDelegate=e.ContextMenuService=void 0;let o=e.ContextMenuService=class extends D.Disposable{get contextMenuHandler(){return this._contextMenuHandler||(this._contextMenuHandler=new t.ContextMenuHandler(this.contextViewService,this.telemetryService,this.notificationService,this.keybindingService)),this._contextMenuHandler}constructor(h,n,c,a,l,u){super(),this.telemetryService=h,this.notificationService=n,this.contextViewService=c,this.keybindingService=a,this.menuService=l,this.contextKeyService=u,this._contextMenuHandler=void 0,this._onDidShowContextMenu=this._store.add(new y.Emitter),this._onDidHideContextMenu=this._store.add(new y.Emitter)}configure(h){this.contextMenuHandler.configure(h)}showContextMenu(h){h=r.transform(h,this.menuService,this.contextKeyService),this.contextMenuHandler.showContextMenu(Object.assign(Object.assign({},h),{onHide:n=>{var c;(c=h.onHide)===null||c===void 0||c.call(h,n),this._onDidHideContextMenu.fire()}})),L.ModifierKeyEmitter.getInstance().resetKeyStatus(),this._onDidShowContextMenu.fire()}};e.ContextMenuService=o=Ne([ge(0,s.ITelemetryService),ge(1,p.INotificationService),ge(2,i.IContextViewService),ge(3,f.IKeybindingService),ge(4,m.IMenuService),ge(5,_.IContextKeyService)],o);var r;(function(d){function h(c){return c&&c.menuId instanceof m.MenuId}function n(c,a,l){if(!h(c))return c;const{menuId:u,menuActionOptions:C,contextKeyService:g}=c;return Object.assign(Object.assign({},c),{getActions:()=>{const v=[];if(u){const b=a.createMenu(u,g??l);(0,S.createAndFillInContextMenuActions)(b,C,v),b.dispose()}return c.getActions?k.Separator.join(c.getActions(),v):v}})}d.transform=n})(r||(e.ContextMenuMenuDelegate=r={}))}),define(X[856],ee([1,0,20,6,13,8,133,192,56,775,103,33,23,828]),function(q,e,L,k,y,D,S,m,_,f,p,s,t,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickInputService=void 0;let o=e.QuickInputService=class extends t.Themable{get controller(){return this._controller||(this._controller=this._register(this.createController())),this._controller}get hasController(){return!!this._controller}get quickAccess(){return this._quickAccess||(this._quickAccess=this._register(this.instantiationService.createInstance(f.QuickAccessController))),this._quickAccess}constructor(d,h,n,c){super(n),this.instantiationService=d,this.contextKeyService=h,this.layoutService=c,this._onShow=this._register(new k.Emitter),this._onHide=this._register(new k.Emitter),this.contexts=new Map}createController(d=this.layoutService,h){const n={idPrefix:"quickInput_",container:d.container,ignoreFocusOut:()=>!1,backKeybindingLabel:()=>{},setContextKey:a=>this.setContextKey(a),linkOpenerDelegate:a=>{this.instantiationService.invokeFunction(l=>{l.get(_.IOpenerService).open(a,{allowCommands:!0,fromUserGesture:!0})})},returnFocus:()=>d.focus(),createList:(a,l,u,C,g)=>this.instantiationService.createInstance(m.WorkbenchList,a,l,u,C,g),hoverDelegate:{showHover(a,l){},delay:200},styles:this.computeStyles()},c=this._register(new i.QuickInputController(Object.assign(Object.assign({},n),h)));return c.layout(d.dimension,d.offset.quickPickTop),this._register(d.onDidLayout(a=>c.layout(a,d.offset.quickPickTop))),this._register(c.onShow(()=>{this.resetContextKeys(),this._onShow.fire()})),this._register(c.onHide(()=>{this.resetContextKeys(),this._onHide.fire()})),c}setContextKey(d){let h;d&&(h=this.contexts.get(d),h||(h=new y.RawContextKey(d,!1).bindTo(this.contextKeyService),this.contexts.set(d,h))),!(h&&h.get())&&(this.resetContextKeys(),h?.set(!0))}resetContextKeys(){this.contexts.forEach(d=>{d.get()&&d.reset()})}pick(d,h={},n=L.CancellationToken.None){return this.controller.pick(d,h,n)}createQuickPick(){return this.controller.createQuickPick()}createInputBox(){return this.controller.createInputBox()}updateStyles(){this.hasController&&this.controller.applyStyles(this.computeStyles())}computeStyles(){return{widget:{quickInputBackground:(0,s.asCssVariable)(s.quickInputBackground),quickInputForeground:(0,s.asCssVariable)(s.quickInputForeground),quickInputTitleBackground:(0,s.asCssVariable)(s.quickInputTitleBackground),widgetBorder:(0,s.asCssVariable)(s.widgetBorder),widgetShadow:(0,s.asCssVariable)(s.widgetShadow)},inputBox:p.defaultInputBoxStyles,toggle:p.defaultToggleStyles,countBadge:p.defaultCountBadgeStyles,button:p.defaultButtonStyles,progressBar:p.defaultProgressBarStyles,keybindingLabel:p.defaultKeybindingLabelStyles,list:(0,p.getListStyles)({listBackground:s.quickInputBackground,listFocusBackground:s.quickInputListFocusBackground,listFocusForeground:s.quickInputListFocusForeground,listInactiveFocusForeground:s.quickInputListFocusForeground,listInactiveSelectionIconForeground:s.quickInputListFocusIconForeground,listInactiveFocusBackground:s.quickInputListFocusBackground,listFocusOutline:s.activeContrastBorder,listInactiveFocusOutline:s.activeContrastBorder}),pickerGroup:{pickerGroupBorder:(0,s.asCssVariable)(s.pickerGroupBorder),pickerGroupForeground:(0,s.asCssVariable)(s.pickerGroupForeground)},colorScheme:this.themeService.getColorTheme().type}}};e.QuickInputService=o=Ne([ge(0,D.IInstantiationService),ge(1,y.IContextKeyService),ge(2,t.IThemeService),ge(3,S.ILayoutService)],o)}),define(X[857],ee([1,0,15,23,20,8,13,332,32,856,98,465]),function(q,e,L,k,y,D,S,m,_,f,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickInputEditorWidget=e.QuickInputEditorContribution=e.StandaloneQuickInputService=void 0;let s=class extends f.QuickInputService{constructor(d,h,n,c,a){super(h,n,c,new m.EditorScopedLayoutService(d.getContainerDomNode(),a)),this.host=void 0;const l=i.get(d);if(l){const u=l.widget;this.host={_serviceBrand:void 0,get hasContainer(){return!0},get container(){return u.getDomNode()},get dimension(){return d.getLayoutInfo()},get onDidLayout(){return d.onDidLayoutChange},focus:()=>d.focus(),offset:{top:0,quickPickTop:0}}}else this.host=void 0}createController(){return super.createController(this.host)}};s=Ne([ge(1,D.IInstantiationService),ge(2,S.IContextKeyService),ge(3,k.IThemeService),ge(4,_.ICodeEditorService)],s);let t=e.StandaloneQuickInputService=class{get activeService(){const d=this.codeEditorService.getFocusedCodeEditor();if(!d)throw new Error("Quick input service needs a focused editor to work.");let h=this.mapEditorToService.get(d);if(!h){const n=h=this.instantiationService.createInstance(s,d);this.mapEditorToService.set(d,h),(0,p.once)(d.onDidDispose)(()=>{n.dispose(),this.mapEditorToService.delete(d)})}return h}get quickAccess(){return this.activeService.quickAccess}constructor(d,h){this.instantiationService=d,this.codeEditorService=h,this.mapEditorToService=new Map}pick(d,h={},n=y.CancellationToken.None){return this.activeService.pick(d,h,n)}createQuickPick(){return this.activeService.createQuickPick()}createInputBox(){return this.activeService.createInputBox()}};e.StandaloneQuickInputService=t=Ne([ge(0,D.IInstantiationService),ge(1,_.ICodeEditorService)],t);class i{static get(d){return d.getContribution(i.ID)}constructor(d){this.editor=d,this.widget=new o(this.editor)}dispose(){this.widget.dispose()}}e.QuickInputEditorContribution=i,i.ID="editor.controller.quickInput";class o{constructor(d){this.codeEditor=d,this.domNode=document.createElement("div"),this.codeEditor.addOverlayWidget(this)}getId(){return o.ID}getDomNode(){return this.domNode}getPosition(){return{preference:2}}dispose(){this.codeEditor.removeOverlayWidget(this)}}e.QuickInputEditorWidget=o,o.ID="editor.contrib.quickInputWidget",(0,L.registerEditorContribution)(i.ID,i,4)}),define(X[193],ee([1,0,8]),function(q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UndoRedoSource=e.UndoRedoGroup=e.ResourceEditStackSnapshot=e.IUndoRedoService=void 0,e.IUndoRedoService=(0,L.createDecorator)("undoRedoService");class k{constructor(m,_){this.resource=m,this.elements=_}}e.ResourceEditStackSnapshot=k;class y{constructor(){this.id=y._ID++,this.order=1}nextOrder(){return this.id===0?0:this.order++}}e.UndoRedoGroup=y,y._ID=0,y.None=new y;class D{constructor(){this.id=D._ID++,this.order=1}nextOrder(){return this.id===0?0:this.order++}}e.UndoRedoSource=D,D._ID=0,D.None=new D}),define(X[39],ee([1,0,16,36,12,6,2,9,21,120,201,65,11,5,24,177,41,30,47,591,840,324,285,503,504,317,592,183,594,110,193]),function(q,e,L,k,y,D,S,m,_,f,p,s,t,i,o,r,d,h,n,c,a,l,u,C,g,v,b,w,E,I,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AttachedViews=e.ModelDecorationOptions=e.ModelDecorationInjectedTextOptions=e.ModelDecorationMinimapOptions=e.ModelDecorationGlyphMarginOptions=e.ModelDecorationOverviewRulerOptions=e.TextModel=e.createTextBuffer=e.createTextBufferFactoryFromSnapshot=e.createTextBufferFactory=void 0;function P($){const V=new b.PieceTreeTextBufferBuilder;return V.acceptChunk($),V.finish()}e.createTextBufferFactory=P;function A($){const V=new b.PieceTreeTextBufferBuilder;let j;for(;typeof(j=$.read())=="string";)V.acceptChunk(j);return V.finish()}e.createTextBufferFactoryFromSnapshot=A;function M($,V){let j;return typeof $=="string"?j=P($):n.isITextSnapshot($)?j=A($):j=$,j.create(V)}e.createTextBuffer=M;let N=0;const R=999,F=1e4;class x{constructor(V){this._source=V,this._eos=!1}read(){if(this._eos)return null;const V=[];let j=0,se=0;do{const ie=this._source.read();if(ie===null)return this._eos=!0,j===0?null:V.join("");if(ie.length>0&&(V[j++]=ie,se+=ie.length),se>=64*1024)return V.join("")}while(!0)}}const W=()=>{throw new Error("Invalid change accessor")};let z=e.TextModel=class Kt extends S.Disposable{static resolveOptions(V,j){if(j.detectIndentation){const se=(0,C.guessIndentation)(V,j.tabSize,j.insertSpaces);return new n.TextModelResolvedOptions({tabSize:se.tabSize,indentSize:"tabSize",insertSpaces:se.insertSpaces,trimAutoWhitespace:j.trimAutoWhitespace,defaultEOL:j.defaultEOL,bracketPairColorizationOptions:j.bracketPairColorizationOptions})}return new n.TextModelResolvedOptions(j)}get onDidChangeLanguage(){return this._tokenizationTextModelPart.onDidChangeLanguage}get onDidChangeLanguageConfiguration(){return this._tokenizationTextModelPart.onDidChangeLanguageConfiguration}get onDidChangeTokens(){return this._tokenizationTextModelPart.onDidChangeTokens}onDidChangeContent(V){return this._eventEmitter.slowEvent(j=>V(j.contentChangedEvent))}onDidChangeContentOrInjectedText(V){return(0,S.combinedDisposable)(this._eventEmitter.fastEvent(j=>V(j)),this._onDidChangeInjectedText.event(j=>V(j)))}_isDisposing(){return this.__isDisposing}get tokenization(){return this._tokenizationTextModelPart}get bracketPairs(){return this._bracketPairs}get guides(){return this._guidesTextModelPart}constructor(V,j,se,ie=null,Y,le,fe){super(),this._undoRedoService=Y,this._languageService=le,this._languageConfigurationService=fe,this._onWillDispose=this._register(new D.Emitter),this.onWillDispose=this._onWillDispose.event,this._onDidChangeDecorations=this._register(new he(ke=>this.handleBeforeFireDecorationsChangedEvent(ke))),this.onDidChangeDecorations=this._onDidChangeDecorations.event,this._onDidChangeOptions=this._register(new D.Emitter),this.onDidChangeOptions=this._onDidChangeOptions.event,this._onDidChangeAttached=this._register(new D.Emitter),this.onDidChangeAttached=this._onDidChangeAttached.event,this._onDidChangeInjectedText=this._register(new D.Emitter),this._eventEmitter=this._register(new de),this._languageSelectionListener=this._register(new S.MutableDisposable),this._deltaDecorationCallCnt=0,this._attachedViews=new ae,N++,this.id="$model"+N,this.isForSimpleWidget=se.isForSimpleWidget,typeof ie>"u"||ie===null?this._associatedResource=_.URI.parse("inmemory://model/"+N):this._associatedResource=ie,this._attachedEditorCount=0;const{textBuffer:be,disposable:we}=M(V,se.defaultEOL);this._buffer=be,this._bufferDisposable=we,this._options=Kt.resolveOptions(this._buffer,se);const Ee=typeof j=="string"?j:j.languageId;typeof j!="string"&&(this._languageSelectionListener.value=j.onDidChange(()=>this._setLanguage(j.languageId))),this._bracketPairs=this._register(new c.BracketPairsTextModelPart(this,this._languageConfigurationService)),this._guidesTextModelPart=this._register(new u.GuidesTextModelPart(this,this._languageConfigurationService)),this._decorationProvider=this._register(new a.ColorizedBracketPairsDecorationProvider(this)),this._tokenizationTextModelPart=new E.TokenizationTextModelPart(this._languageService,this._languageConfigurationService,this,this._bracketPairs,Ee,this._attachedViews);const Ie=this._buffer.getLineCount(),ye=this._buffer.getValueLengthInRange(new i.Range(1,1,Ie,this._buffer.getLineLength(Ie)+1),0);se.largeFileOptimizations?this._isTooLargeForTokenization=ye>Kt.LARGE_FILE_SIZE_THRESHOLD||Ie>Kt.LARGE_FILE_LINE_COUNT_THRESHOLD:this._isTooLargeForTokenization=!1,this._isTooLargeForSyncing=ye>Kt._MODEL_SYNC_LIMIT,this._versionId=1,this._alternativeVersionId=1,this._initialUndoRedoSnapshot=null,this._isDisposed=!1,this.__isDisposing=!1,this._instanceId=m.singleLetterHash(N),this._lastDecorationId=0,this._decorations=Object.create(null),this._decorationsTree=new Q,this._commandManager=new l.EditStack(this,this._undoRedoService),this._isUndoing=!1,this._isRedoing=!1,this._trimAutoWhitespaceLines=null,this._register(this._decorationProvider.onDidChange(()=>{this._onDidChangeDecorations.beginDeferredEmit(),this._onDidChangeDecorations.fire(),this._onDidChangeDecorations.endDeferredEmit()})),this._languageService.requestRichLanguageFeatures(Ee)}dispose(){this.__isDisposing=!0,this._onWillDispose.fire(),this._tokenizationTextModelPart.dispose(),this._isDisposed=!0,super.dispose(),this._bufferDisposable.dispose(),this.__isDisposing=!1;const V=new v.PieceTreeTextBuffer([],"",`
`,!1,!1,!0,!0);V.dispose(),this._buffer=V,this._bufferDisposable=S.Disposable.None}_assertNotDisposed(){if(this._isDisposed)throw new Error("Model is disposed!")}_emitContentChangedEvent(V,j){this.__isDisposing||(this._tokenizationTextModelPart.handleDidChangeContent(j),this._bracketPairs.handleDidChangeContent(j),this._eventEmitter.fire(new I.InternalModelContentChangeEvent(V,j)))}setValue(V){if(this._assertNotDisposed(),V==null)throw(0,y.illegalArgument)();const{textBuffer:j,disposable:se}=M(V,this._options.defaultEOL);this._setValueFromTextBuffer(j,se)}_createContentChanged2(V,j,se,ie,Y,le,fe,be){return{changes:[{range:V,rangeOffset:j,rangeLength:se,text:ie}],eol:this._buffer.getEOL(),isEolChange:be,versionId:this.getVersionId(),isUndoing:Y,isRedoing:le,isFlush:fe}}_setValueFromTextBuffer(V,j){this._assertNotDisposed();const se=this.getFullModelRange(),ie=this.getValueLengthInRange(se),Y=this.getLineCount(),le=this.getLineMaxColumn(Y);this._buffer=V,this._bufferDisposable.dispose(),this._bufferDisposable=j,this._increaseVersionId(),this._decorations=Object.create(null),this._decorationsTree=new Q,this._commandManager.clear(),this._trimAutoWhitespaceLines=null,this._emitContentChangedEvent(new I.ModelRawContentChangedEvent([new I.ModelRawFlush],this._versionId,!1,!1),this._createContentChanged2(new i.Range(1,1,Y,le),0,ie,this.getValue(),!1,!1,!0,!1))}setEOL(V){this._assertNotDisposed();const j=V===1?`\r
`:`
`;if(this._buffer.getEOL()===j)return;const se=this.getFullModelRange(),ie=this.getValueLengthInRange(se),Y=this.getLineCount(),le=this.getLineMaxColumn(Y);this._onBeforeEOLChange(),this._buffer.setEOL(j),this._increaseVersionId(),this._onAfterEOLChange(),this._emitContentChangedEvent(new I.ModelRawContentChangedEvent([new I.ModelRawEOLChanged],this._versionId,!1,!1),this._createContentChanged2(new i.Range(1,1,Y,le),0,ie,this.getValue(),!1,!1,!1,!0))}_onBeforeEOLChange(){this._decorationsTree.ensureAllNodesHaveRanges(this)}_onAfterEOLChange(){const V=this.getVersionId(),j=this._decorationsTree.collectNodesPostOrder();for(let se=0,ie=j.length;se<ie;se++){const Y=j[se],le=Y.range,fe=Y.cachedAbsoluteStart-Y.start,be=this._buffer.getOffsetAt(le.startLineNumber,le.startColumn),we=this._buffer.getOffsetAt(le.endLineNumber,le.endColumn);Y.cachedAbsoluteStart=be,Y.cachedAbsoluteEnd=we,Y.cachedVersionId=V,Y.start=be-fe,Y.end=we-fe,(0,g.recomputeMaxEnd)(Y)}}onBeforeAttached(){return this._attachedEditorCount++,this._attachedEditorCount===1&&(this._tokenizationTextModelPart.handleDidChangeAttached(),this._onDidChangeAttached.fire(void 0)),this._attachedViews.attachView()}onBeforeDetached(V){this._attachedEditorCount--,this._attachedEditorCount===0&&(this._tokenizationTextModelPart.handleDidChangeAttached(),this._onDidChangeAttached.fire(void 0)),this._attachedViews.detachView(V)}isAttachedToEditor(){return this._attachedEditorCount>0}getAttachedEditorCount(){return this._attachedEditorCount}isTooLargeForSyncing(){return this._isTooLargeForSyncing}isTooLargeForTokenization(){return this._isTooLargeForTokenization}isDisposed(){return this._isDisposed}isDominatedByLongLines(){if(this._assertNotDisposed(),this.isTooLargeForTokenization())return!1;let V=0,j=0;const se=this._buffer.getLineCount();for(let ie=1;ie<=se;ie++){const Y=this._buffer.getLineLength(ie);Y>=F?j+=Y:V+=Y}return j>V}get uri(){return this._associatedResource}getOptions(){return this._assertNotDisposed(),this._options}getFormattingOptions(){return{tabSize:this._options.indentSize,insertSpaces:this._options.insertSpaces}}updateOptions(V){this._assertNotDisposed();const j=typeof V.tabSize<"u"?V.tabSize:this._options.tabSize,se=typeof V.indentSize<"u"?V.indentSize:this._options.originalIndentSize,ie=typeof V.insertSpaces<"u"?V.insertSpaces:this._options.insertSpaces,Y=typeof V.trimAutoWhitespace<"u"?V.trimAutoWhitespace:this._options.trimAutoWhitespace,le=typeof V.bracketColorizationOptions<"u"?V.bracketColorizationOptions:this._options.bracketPairColorizationOptions,fe=new n.TextModelResolvedOptions({tabSize:j,indentSize:se,insertSpaces:ie,defaultEOL:this._options.defaultEOL,trimAutoWhitespace:Y,bracketPairColorizationOptions:le});if(this._options.equals(fe))return;const be=this._options.createChangeEvent(fe);this._options=fe,this._bracketPairs.handleDidChangeOptions(be),this._decorationProvider.handleDidChangeOptions(be),this._onDidChangeOptions.fire(be)}detectIndentation(V,j){this._assertNotDisposed();const se=(0,C.guessIndentation)(this._buffer,j,V);this.updateOptions({insertSpaces:se.insertSpaces,tabSize:se.tabSize,indentSize:se.tabSize})}normalizeIndentation(V){return this._assertNotDisposed(),(0,p.normalizeIndentation)(V,this._options.indentSize,this._options.insertSpaces)}getVersionId(){return this._assertNotDisposed(),this._versionId}mightContainRTL(){return this._buffer.mightContainRTL()}mightContainUnusualLineTerminators(){return this._buffer.mightContainUnusualLineTerminators()}removeUnusualLineTerminators(V=null){const j=this.findMatches(m.UNUSUAL_LINE_TERMINATORS.source,!1,!0,!1,null,!1,1073741824);this._buffer.resetMightContainUnusualLineTerminators(),this.pushEditOperations(V,j.map(se=>({range:se.range,text:null})),()=>null)}mightContainNonBasicASCII(){return this._buffer.mightContainNonBasicASCII()}getAlternativeVersionId(){return this._assertNotDisposed(),this._alternativeVersionId}getInitialUndoRedoSnapshot(){return this._assertNotDisposed(),this._initialUndoRedoSnapshot}getOffsetAt(V){this._assertNotDisposed();const j=this._validatePosition(V.lineNumber,V.column,0);return this._buffer.getOffsetAt(j.lineNumber,j.column)}getPositionAt(V){this._assertNotDisposed();const j=Math.min(this._buffer.getLength(),Math.max(0,V));return this._buffer.getPositionAt(j)}_increaseVersionId(){this._versionId=this._versionId+1,this._alternativeVersionId=this._versionId}_overwriteVersionId(V){this._versionId=V}_overwriteAlternativeVersionId(V){this._alternativeVersionId=V}_overwriteInitialUndoRedoSnapshot(V){this._initialUndoRedoSnapshot=V}getValue(V,j=!1){this._assertNotDisposed();const se=this.getFullModelRange(),ie=this.getValueInRange(se,V);return j?this._buffer.getBOM()+ie:ie}createSnapshot(V=!1){return new x(this._buffer.createSnapshot(V))}getValueLength(V,j=!1){this._assertNotDisposed();const se=this.getFullModelRange(),ie=this.getValueLengthInRange(se,V);return j?this._buffer.getBOM().length+ie:ie}getValueInRange(V,j=0){return this._assertNotDisposed(),this._buffer.getValueInRange(this.validateRange(V),j)}getValueLengthInRange(V,j=0){return this._assertNotDisposed(),this._buffer.getValueLengthInRange(this.validateRange(V),j)}getCharacterCountInRange(V,j=0){return this._assertNotDisposed(),this._buffer.getCharacterCountInRange(this.validateRange(V),j)}getLineCount(){return this._assertNotDisposed(),this._buffer.getLineCount()}getLineContent(V){if(this._assertNotDisposed(),V<1||V>this.getLineCount())throw new y.BugIndicatingError("Illegal value for lineNumber");return this._buffer.getLineContent(V)}getLineLength(V){if(this._assertNotDisposed(),V<1||V>this.getLineCount())throw new y.BugIndicatingError("Illegal value for lineNumber");return this._buffer.getLineLength(V)}getLinesContent(){return this._assertNotDisposed(),this._buffer.getLinesContent()}getEOL(){return this._assertNotDisposed(),this._buffer.getEOL()}getEndOfLineSequence(){return this._assertNotDisposed(),this._buffer.getEOL()===`
`?0:1}getLineMinColumn(V){return this._assertNotDisposed(),1}getLineMaxColumn(V){if(this._assertNotDisposed(),V<1||V>this.getLineCount())throw new y.BugIndicatingError("Illegal value for lineNumber");return this._buffer.getLineLength(V)+1}getLineFirstNonWhitespaceColumn(V){if(this._assertNotDisposed(),V<1||V>this.getLineCount())throw new y.BugIndicatingError("Illegal value for lineNumber");return this._buffer.getLineFirstNonWhitespaceColumn(V)}getLineLastNonWhitespaceColumn(V){if(this._assertNotDisposed(),V<1||V>this.getLineCount())throw new y.BugIndicatingError("Illegal value for lineNumber");return this._buffer.getLineLastNonWhitespaceColumn(V)}_validateRangeRelaxedNoAllocations(V){const j=this._buffer.getLineCount(),se=V.startLineNumber,ie=V.startColumn;let Y=Math.floor(typeof se=="number"&&!isNaN(se)?se:1),le=Math.floor(typeof ie=="number"&&!isNaN(ie)?ie:1);if(Y<1)Y=1,le=1;else if(Y>j)Y=j,le=this.getLineMaxColumn(Y);else if(le<=1)le=1;else{const Ie=this.getLineMaxColumn(Y);le>=Ie&&(le=Ie)}const fe=V.endLineNumber,be=V.endColumn;let we=Math.floor(typeof fe=="number"&&!isNaN(fe)?fe:1),Ee=Math.floor(typeof be=="number"&&!isNaN(be)?be:1);if(we<1)we=1,Ee=1;else if(we>j)we=j,Ee=this.getLineMaxColumn(we);else if(Ee<=1)Ee=1;else{const Ie=this.getLineMaxColumn(we);Ee>=Ie&&(Ee=Ie)}return se===Y&&ie===le&&fe===we&&be===Ee&&V instanceof i.Range&&!(V instanceof o.Selection)?V:new i.Range(Y,le,we,Ee)}_isValidPosition(V,j,se){if(typeof V!="number"||typeof j!="number"||isNaN(V)||isNaN(j)||V<1||j<1||(V|0)!==V||(j|0)!==j)return!1;const ie=this._buffer.getLineCount();if(V>ie)return!1;if(j===1)return!0;const Y=this.getLineMaxColumn(V);if(j>Y)return!1;if(se===1){const le=this._buffer.getLineCharCode(V,j-2);if(m.isHighSurrogate(le))return!1}return!0}_validatePosition(V,j,se){const ie=Math.floor(typeof V=="number"&&!isNaN(V)?V:1),Y=Math.floor(typeof j=="number"&&!isNaN(j)?j:1),le=this._buffer.getLineCount();if(ie<1)return new t.Position(1,1);if(ie>le)return new t.Position(le,this.getLineMaxColumn(le));if(Y<=1)return new t.Position(ie,1);const fe=this.getLineMaxColumn(ie);if(Y>=fe)return new t.Position(ie,fe);if(se===1){const be=this._buffer.getLineCharCode(ie,Y-2);if(m.isHighSurrogate(be))return new t.Position(ie,Y-1)}return new t.Position(ie,Y)}validatePosition(V){return this._assertNotDisposed(),V instanceof t.Position&&this._isValidPosition(V.lineNumber,V.column,1)?V:this._validatePosition(V.lineNumber,V.column,1)}_isValidRange(V,j){const se=V.startLineNumber,ie=V.startColumn,Y=V.endLineNumber,le=V.endColumn;if(!this._isValidPosition(se,ie,0)||!this._isValidPosition(Y,le,0))return!1;if(j===1){const fe=ie>1?this._buffer.getLineCharCode(se,ie-2):0,be=le>1&&le<=this._buffer.getLineLength(Y)?this._buffer.getLineCharCode(Y,le-2):0,we=m.isHighSurrogate(fe),Ee=m.isHighSurrogate(be);return!we&&!Ee}return!0}validateRange(V){if(this._assertNotDisposed(),V instanceof i.Range&&!(V instanceof o.Selection)&&this._isValidRange(V,1))return V;const se=this._validatePosition(V.startLineNumber,V.startColumn,0),ie=this._validatePosition(V.endLineNumber,V.endColumn,0),Y=se.lineNumber,le=se.column,fe=ie.lineNumber,be=ie.column;{const we=le>1?this._buffer.getLineCharCode(Y,le-2):0,Ee=be>1&&be<=this._buffer.getLineLength(fe)?this._buffer.getLineCharCode(fe,be-2):0,Ie=m.isHighSurrogate(we),ye=m.isHighSurrogate(Ee);return!Ie&&!ye?new i.Range(Y,le,fe,be):Y===fe&&le===be?new i.Range(Y,le-1,fe,be-1):Ie&&ye?new i.Range(Y,le-1,fe,be+1):Ie?new i.Range(Y,le-1,fe,be):new i.Range(Y,le,fe,be+1)}return new i.Range(Y,le,fe,be)}modifyPosition(V,j){this._assertNotDisposed();const se=this.getOffsetAt(V)+j;return this.getPositionAt(Math.min(this._buffer.getLength(),Math.max(0,se)))}getFullModelRange(){this._assertNotDisposed();const V=this.getLineCount();return new i.Range(1,1,V,this.getLineMaxColumn(V))}findMatchesLineByLine(V,j,se,ie){return this._buffer.findMatchesLineByLine(V,j,se,ie)}findMatches(V,j,se,ie,Y,le,fe=R){this._assertNotDisposed();let be=null;j!==null&&(Array.isArray(j)||(j=[j]),j.every(Ie=>i.Range.isIRange(Ie))&&(be=j.map(Ie=>this.validateRange(Ie)))),be===null&&(be=[this.getFullModelRange()]),be=be.sort((Ie,ye)=>Ie.startLineNumber-ye.startLineNumber||Ie.startColumn-ye.startColumn);const we=[];we.push(be.reduce((Ie,ye)=>i.Range.areIntersecting(Ie,ye)?Ie.plusRange(ye):(we.push(Ie),ye)));let Ee;if(!se&&V.indexOf(`
`)<0){const ye=new w.SearchParams(V,se,ie,Y).parseSearchRequest();if(!ye)return[];Ee=ke=>this.findMatchesLineByLine(ke,ye,le,fe)}else Ee=Ie=>w.TextModelSearch.findMatches(this,new w.SearchParams(V,se,ie,Y),Ie,le,fe);return we.map(Ee).reduce((Ie,ye)=>Ie.concat(ye),[])}findNextMatch(V,j,se,ie,Y,le){this._assertNotDisposed();const fe=this.validatePosition(j);if(!se&&V.indexOf(`
`)<0){const we=new w.SearchParams(V,se,ie,Y).parseSearchRequest();if(!we)return null;const Ee=this.getLineCount();let Ie=new i.Range(fe.lineNumber,fe.column,Ee,this.getLineMaxColumn(Ee)),ye=this.findMatchesLineByLine(Ie,we,le,1);return w.TextModelSearch.findNextMatch(this,new w.SearchParams(V,se,ie,Y),fe,le),ye.length>0||(Ie=new i.Range(1,1,fe.lineNumber,this.getLineMaxColumn(fe.lineNumber)),ye=this.findMatchesLineByLine(Ie,we,le,1),ye.length>0)?ye[0]:null}return w.TextModelSearch.findNextMatch(this,new w.SearchParams(V,se,ie,Y),fe,le)}findPreviousMatch(V,j,se,ie,Y,le){this._assertNotDisposed();const fe=this.validatePosition(j);return w.TextModelSearch.findPreviousMatch(this,new w.SearchParams(V,se,ie,Y),fe,le)}pushStackElement(){this._commandManager.pushStackElement()}popStackElement(){this._commandManager.popStackElement()}pushEOL(V){if((this.getEOL()===`
`?0:1)!==V)try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._initialUndoRedoSnapshot===null&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEOL(V)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_validateEditOperation(V){return V instanceof n.ValidAnnotatedEditOperation?V:new n.ValidAnnotatedEditOperation(V.identifier||null,this.validateRange(V.range),V.text,V.forceMoveMarkers||!1,V.isAutoWhitespaceEdit||!1,V._isTracked||!1)}_validateEditOperations(V){const j=[];for(let se=0,ie=V.length;se<ie;se++)j[se]=this._validateEditOperation(V[se]);return j}pushEditOperations(V,j,se,ie){try{return this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._pushEditOperations(V,this._validateEditOperations(j),se,ie)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_pushEditOperations(V,j,se,ie){if(this._options.trimAutoWhitespace&&this._trimAutoWhitespaceLines){const Y=j.map(fe=>({range:this.validateRange(fe.range),text:fe.text}));let le=!0;if(V)for(let fe=0,be=V.length;fe<be;fe++){const we=V[fe];let Ee=!1;for(let Ie=0,ye=Y.length;Ie<ye;Ie++){const ke=Y[Ie].range,Ae=ke.startLineNumber>we.endLineNumber,Te=we.startLineNumber>ke.endLineNumber;if(!Ae&&!Te){Ee=!0;break}}if(!Ee){le=!1;break}}if(le)for(let fe=0,be=this._trimAutoWhitespaceLines.length;fe<be;fe++){const we=this._trimAutoWhitespaceLines[fe],Ee=this.getLineMaxColumn(we);let Ie=!0;for(let ye=0,ke=Y.length;ye<ke;ye++){const Ae=Y[ye].range,Te=Y[ye].text;if(!(we<Ae.startLineNumber||we>Ae.endLineNumber)&&!(we===Ae.startLineNumber&&Ae.startColumn===Ee&&Ae.isEmpty()&&Te&&Te.length>0&&Te.charAt(0)===`
`)&&!(we===Ae.startLineNumber&&Ae.startColumn===1&&Ae.isEmpty()&&Te&&Te.length>0&&Te.charAt(Te.length-1)===`
`)){Ie=!1;break}}if(Ie){const ye=new i.Range(we,1,we,Ee);j.push(new n.ValidAnnotatedEditOperation(null,ye,null,!1,!1,!1))}}this._trimAutoWhitespaceLines=null}return this._initialUndoRedoSnapshot===null&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEditOperation(V,j,se,ie)}_applyUndo(V,j,se,ie){const Y=V.map(le=>{const fe=this.getPositionAt(le.newPosition),be=this.getPositionAt(le.newEnd);return{range:new i.Range(fe.lineNumber,fe.column,be.lineNumber,be.column),text:le.oldText}});this._applyUndoRedoEdits(Y,j,!0,!1,se,ie)}_applyRedo(V,j,se,ie){const Y=V.map(le=>{const fe=this.getPositionAt(le.oldPosition),be=this.getPositionAt(le.oldEnd);return{range:new i.Range(fe.lineNumber,fe.column,be.lineNumber,be.column),text:le.newText}});this._applyUndoRedoEdits(Y,j,!1,!0,se,ie)}_applyUndoRedoEdits(V,j,se,ie,Y,le){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._isUndoing=se,this._isRedoing=ie,this.applyEdits(V,!1),this.setEOL(j),this._overwriteAlternativeVersionId(Y)}finally{this._isUndoing=!1,this._isRedoing=!1,this._eventEmitter.endDeferredEmit(le),this._onDidChangeDecorations.endDeferredEmit()}}applyEdits(V,j=!1){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit();const se=this._validateEditOperations(V);return this._doApplyEdits(se,j)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_doApplyEdits(V,j){const se=this._buffer.getLineCount(),ie=this._buffer.applyEdits(V,this._options.trimAutoWhitespace,j),Y=this._buffer.getLineCount(),le=ie.changes;if(this._trimAutoWhitespaceLines=ie.trimAutoWhitespaceLineNumbers,le.length!==0){for(let we=0,Ee=le.length;we<Ee;we++){const Ie=le[we];this._decorationsTree.acceptReplace(Ie.rangeOffset,Ie.rangeLength,Ie.text.length,Ie.forceMoveMarkers)}const fe=[];this._increaseVersionId();let be=se;for(let we=0,Ee=le.length;we<Ee;we++){const Ie=le[we],[ye]=(0,f.countEOL)(Ie.text);this._onDidChangeDecorations.fire();const ke=Ie.range.startLineNumber,Ae=Ie.range.endLineNumber,Te=Ae-ke,pe=ye,me=Math.min(Te,pe),Se=pe-Te,ue=Y-be-Se+ke,Ce=ue,ve=ue+pe,_e=this._decorationsTree.getInjectedTextInInterval(this,this.getOffsetAt(new t.Position(Ce,1)),this.getOffsetAt(new t.Position(ve,this.getLineMaxColumn(ve))),0),De=I.LineInjectedText.fromDecorations(_e),Re=new L.ArrayQueue(De);for(let Pe=me;Pe>=0;Pe--){const Fe=ke+Pe,We=ue+Pe;Re.takeFromEndWhile(Ke=>Ke.lineNumber>We);const xe=Re.takeFromEndWhile(Ke=>Ke.lineNumber===We);fe.push(new I.ModelRawLineChanged(Fe,this.getLineContent(We),xe))}if(me<Te){const Pe=ke+me;fe.push(new I.ModelRawLinesDeleted(Pe+1,Ae))}if(me<pe){const Pe=new L.ArrayQueue(De),Fe=ke+me,We=pe-me,xe=Y-be-We+Fe+1,Ke=[],qe=[];for(let et=0;et<We;et++){const ze=xe+et;qe[et]=this.getLineContent(ze),Pe.takeWhile(Me=>Me.lineNumber<ze),Ke[et]=Pe.takeWhile(Me=>Me.lineNumber===ze)}fe.push(new I.ModelRawLinesInserted(Fe+1,ke+pe,qe,Ke))}be+=Se}this._emitContentChangedEvent(new I.ModelRawContentChangedEvent(fe,this.getVersionId(),this._isUndoing,this._isRedoing),{changes:le,eol:this._buffer.getEOL(),isEolChange:!1,versionId:this.getVersionId(),isUndoing:this._isUndoing,isRedoing:this._isRedoing,isFlush:!1})}return ie.reverseEdits===null?void 0:ie.reverseEdits}undo(){return this._undoRedoService.undo(this.uri)}canUndo(){return this._undoRedoService.canUndo(this.uri)}redo(){return this._undoRedoService.redo(this.uri)}canRedo(){return this._undoRedoService.canRedo(this.uri)}handleBeforeFireDecorationsChangedEvent(V){if(V===null||V.size===0)return;const se=Array.from(V).map(ie=>new I.ModelRawLineChanged(ie,this.getLineContent(ie),this._getInjectedTextInLine(ie)));this._onDidChangeInjectedText.fire(new I.ModelInjectedTextChangedEvent(se))}changeDecorations(V,j=0){this._assertNotDisposed();try{return this._onDidChangeDecorations.beginDeferredEmit(),this._changeDecorations(j,V)}finally{this._onDidChangeDecorations.endDeferredEmit()}}_changeDecorations(V,j){const se={addDecoration:(Y,le)=>this._deltaDecorationsImpl(V,[],[{range:Y,options:le}])[0],changeDecoration:(Y,le)=>{this._changeDecorationImpl(Y,le)},changeDecorationOptions:(Y,le)=>{this._changeDecorationOptionsImpl(Y,ne(le))},removeDecoration:Y=>{this._deltaDecorationsImpl(V,[Y],[])},deltaDecorations:(Y,le)=>Y.length===0&&le.length===0?[]:this._deltaDecorationsImpl(V,Y,le)};let ie=null;try{ie=j(se)}catch(Y){(0,y.onUnexpectedError)(Y)}return se.addDecoration=W,se.changeDecoration=W,se.changeDecorationOptions=W,se.removeDecoration=W,se.deltaDecorations=W,ie}deltaDecorations(V,j,se=0){if(this._assertNotDisposed(),V||(V=[]),V.length===0&&j.length===0)return[];try{return this._deltaDecorationCallCnt++,this._deltaDecorationCallCnt>1&&(console.warn("Invoking deltaDecorations recursively could lead to leaking decorations."),(0,y.onUnexpectedError)(new Error("Invoking deltaDecorations recursively could lead to leaking decorations."))),this._onDidChangeDecorations.beginDeferredEmit(),this._deltaDecorationsImpl(se,V,j)}finally{this._onDidChangeDecorations.endDeferredEmit(),this._deltaDecorationCallCnt--}}_getTrackedRange(V){return this.getDecorationRange(V)}_setTrackedRange(V,j,se){const ie=V?this._decorations[V]:null;if(!ie)return j?this._deltaDecorationsImpl(0,[],[{range:j,options:J[se]}],!0)[0]:null;if(!j)return this._decorationsTree.delete(ie),delete this._decorations[ie.id],null;const Y=this._validateRangeRelaxedNoAllocations(j),le=this._buffer.getOffsetAt(Y.startLineNumber,Y.startColumn),fe=this._buffer.getOffsetAt(Y.endLineNumber,Y.endColumn);return this._decorationsTree.delete(ie),ie.reset(this.getVersionId(),le,fe,Y),ie.setOptions(J[se]),this._decorationsTree.insert(ie),ie.id}removeAllDecorationsWithOwnerId(V){if(this._isDisposed)return;const j=this._decorationsTree.collectNodesFromOwner(V);for(let se=0,ie=j.length;se<ie;se++){const Y=j[se];this._decorationsTree.delete(Y),delete this._decorations[Y.id]}}getDecorationOptions(V){const j=this._decorations[V];return j?j.options:null}getDecorationRange(V){const j=this._decorations[V];return j?this._decorationsTree.getNodeRange(this,j):null}getLineDecorations(V,j=0,se=!1){return V<1||V>this.getLineCount()?[]:this.getLinesDecorations(V,V,j,se)}getLinesDecorations(V,j,se=0,ie=!1,Y=!1){const le=this.getLineCount(),fe=Math.min(le,Math.max(1,V)),be=Math.min(le,Math.max(1,j)),we=this.getLineMaxColumn(be),Ee=new i.Range(fe,1,be,we),Ie=this._getDecorationsInRange(Ee,se,ie,Y);return(0,L.pushMany)(Ie,this._decorationProvider.getDecorationsInRange(Ee,se,ie)),Ie}getDecorationsInRange(V,j=0,se=!1,ie=!1,Y=!1){const le=this.validateRange(V),fe=this._getDecorationsInRange(le,j,se,Y);return(0,L.pushMany)(fe,this._decorationProvider.getDecorationsInRange(le,j,se,ie)),fe}getOverviewRulerDecorations(V=0,j=!1){return this._decorationsTree.getAll(this,V,j,!0,!1)}getInjectedTextDecorations(V=0){return this._decorationsTree.getAllInjectedText(this,V)}_getInjectedTextInLine(V){const j=this._buffer.getOffsetAt(V,1),se=j+this._buffer.getLineLength(V),ie=this._decorationsTree.getInjectedTextInInterval(this,j,se,0);return I.LineInjectedText.fromDecorations(ie).filter(Y=>Y.lineNumber===V)}getAllDecorations(V=0,j=!1){let se=this._decorationsTree.getAll(this,V,j,!1,!1);return se=se.concat(this._decorationProvider.getAllDecorations(V,j)),se}getAllMarginDecorations(V=0){return this._decorationsTree.getAll(this,V,!1,!1,!0)}_getDecorationsInRange(V,j,se,ie){const Y=this._buffer.getOffsetAt(V.startLineNumber,V.startColumn),le=this._buffer.getOffsetAt(V.endLineNumber,V.endColumn);return this._decorationsTree.getAllInInterval(this,Y,le,j,se,ie)}getRangeAt(V,j){return this._buffer.getRangeAt(V,j-V)}_changeDecorationImpl(V,j){const se=this._decorations[V];if(!se)return;if(se.options.after){const fe=this.getDecorationRange(V);this._onDidChangeDecorations.recordLineAffectedByInjectedText(fe.endLineNumber)}if(se.options.before){const fe=this.getDecorationRange(V);this._onDidChangeDecorations.recordLineAffectedByInjectedText(fe.startLineNumber)}const ie=this._validateRangeRelaxedNoAllocations(j),Y=this._buffer.getOffsetAt(ie.startLineNumber,ie.startColumn),le=this._buffer.getOffsetAt(ie.endLineNumber,ie.endColumn);this._decorationsTree.delete(se),se.reset(this.getVersionId(),Y,le,ie),this._decorationsTree.insert(se),this._onDidChangeDecorations.checkAffectedAndFire(se.options),se.options.after&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(ie.endLineNumber),se.options.before&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(ie.startLineNumber)}_changeDecorationOptionsImpl(V,j){const se=this._decorations[V];if(!se)return;const ie=!!(se.options.overviewRuler&&se.options.overviewRuler.color),Y=!!(j.overviewRuler&&j.overviewRuler.color);if(this._onDidChangeDecorations.checkAffectedAndFire(se.options),this._onDidChangeDecorations.checkAffectedAndFire(j),se.options.after||j.after){const le=this._decorationsTree.getNodeRange(this,se);this._onDidChangeDecorations.recordLineAffectedByInjectedText(le.endLineNumber)}if(se.options.before||j.before){const le=this._decorationsTree.getNodeRange(this,se);this._onDidChangeDecorations.recordLineAffectedByInjectedText(le.startLineNumber)}ie!==Y?(this._decorationsTree.delete(se),se.setOptions(j),this._decorationsTree.insert(se)):se.setOptions(j)}_deltaDecorationsImpl(V,j,se,ie=!1){const Y=this.getVersionId(),le=j.length;let fe=0;const be=se.length;let we=0;this._onDidChangeDecorations.beginDeferredEmit();try{const Ee=new Array(be);for(;fe<le||we<be;){let Ie=null;if(fe<le){do Ie=this._decorations[j[fe++]];while(!Ie&&fe<le);if(Ie){if(Ie.options.after){const ye=this._decorationsTree.getNodeRange(this,Ie);this._onDidChangeDecorations.recordLineAffectedByInjectedText(ye.endLineNumber)}if(Ie.options.before){const ye=this._decorationsTree.getNodeRange(this,Ie);this._onDidChangeDecorations.recordLineAffectedByInjectedText(ye.startLineNumber)}this._decorationsTree.delete(Ie),ie||this._onDidChangeDecorations.checkAffectedAndFire(Ie.options)}}if(we<be){if(!Ie){const me=++this._lastDecorationId,Se=`${this._instanceId};${me}`;Ie=new g.IntervalNode(Se,0,0),this._decorations[Se]=Ie}const ye=se[we],ke=this._validateRangeRelaxedNoAllocations(ye.range),Ae=ne(ye.options),Te=this._buffer.getOffsetAt(ke.startLineNumber,ke.startColumn),pe=this._buffer.getOffsetAt(ke.endLineNumber,ke.endColumn);Ie.ownerId=V,Ie.reset(Y,Te,pe,ke),Ie.setOptions(Ae),Ie.options.after&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(ke.endLineNumber),Ie.options.before&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(ke.startLineNumber),ie||this._onDidChangeDecorations.checkAffectedAndFire(Ae),this._decorationsTree.insert(Ie),Ee[we]=Ie.id,we++}else Ie&&delete this._decorations[Ie.id]}return Ee}finally{this._onDidChangeDecorations.endDeferredEmit()}}getLanguageId(){return this.tokenization.getLanguageId()}setLanguage(V,j){typeof V=="string"?(this._languageSelectionListener.clear(),this._setLanguage(V,j)):(this._languageSelectionListener.value=V.onDidChange(()=>this._setLanguage(V.languageId,j)),this._setLanguage(V.languageId,j))}_setLanguage(V,j){this.tokenization.setLanguageId(V,j),this._languageService.requestRichLanguageFeatures(V)}getLanguageIdAtPosition(V,j){return this.tokenization.getLanguageIdAtPosition(V,j)}getWordAtPosition(V){return this._tokenizationTextModelPart.getWordAtPosition(V)}getWordUntilPosition(V){return this._tokenizationTextModelPart.getWordUntilPosition(V)}normalizePosition(V,j){return V}getLineIndentColumn(V){return U(this.getLineContent(V))+1}};z._MODEL_SYNC_LIMIT=50*1024*1024,z.LARGE_FILE_SIZE_THRESHOLD=20*1024*1024,z.LARGE_FILE_LINE_COUNT_THRESHOLD=300*1e3,z.DEFAULT_CREATION_OPTIONS={isForSimpleWidget:!1,tabSize:r.EDITOR_MODEL_DEFAULTS.tabSize,indentSize:r.EDITOR_MODEL_DEFAULTS.indentSize,insertSpaces:r.EDITOR_MODEL_DEFAULTS.insertSpaces,detectIndentation:!1,defaultEOL:1,trimAutoWhitespace:r.EDITOR_MODEL_DEFAULTS.trimAutoWhitespace,largeFileOptimizations:r.EDITOR_MODEL_DEFAULTS.largeFileOptimizations,bracketPairColorizationOptions:r.EDITOR_MODEL_DEFAULTS.bracketPairColorizationOptions},e.TextModel=z=Ne([ge(4,T.IUndoRedoService),ge(5,d.ILanguageService),ge(6,h.ILanguageConfigurationService)],z);function U($){let V=0;for(const j of $)if(j===" "||j==="	")V++;else break;return V}function O($){return!!($.options.overviewRuler&&$.options.overviewRuler.color)}function G($){return!!$.options.after||!!$.options.before}class Q{constructor(){this._decorationsTree0=new g.IntervalTree,this._decorationsTree1=new g.IntervalTree,this._injectedTextDecorationsTree=new g.IntervalTree}ensureAllNodesHaveRanges(V){this.getAll(V,0,!1,!1,!1)}_ensureNodesHaveRanges(V,j){for(const se of j)se.range===null&&(se.range=V.getRangeAt(se.cachedAbsoluteStart,se.cachedAbsoluteEnd));return j}getAllInInterval(V,j,se,ie,Y,le){const fe=V.getVersionId(),be=this._intervalSearch(j,se,ie,Y,fe,le);return this._ensureNodesHaveRanges(V,be)}_intervalSearch(V,j,se,ie,Y,le){const fe=this._decorationsTree0.intervalSearch(V,j,se,ie,Y,le),be=this._decorationsTree1.intervalSearch(V,j,se,ie,Y,le),we=this._injectedTextDecorationsTree.intervalSearch(V,j,se,ie,Y,le);return fe.concat(be).concat(we)}getInjectedTextInInterval(V,j,se,ie){const Y=V.getVersionId(),le=this._injectedTextDecorationsTree.intervalSearch(j,se,ie,!1,Y,!1);return this._ensureNodesHaveRanges(V,le).filter(fe=>fe.options.showIfCollapsed||!fe.range.isEmpty())}getAllInjectedText(V,j){const se=V.getVersionId(),ie=this._injectedTextDecorationsTree.search(j,!1,se,!1);return this._ensureNodesHaveRanges(V,ie).filter(Y=>Y.options.showIfCollapsed||!Y.range.isEmpty())}getAll(V,j,se,ie,Y){const le=V.getVersionId(),fe=this._search(j,se,ie,le,Y);return this._ensureNodesHaveRanges(V,fe)}_search(V,j,se,ie,Y){if(se)return this._decorationsTree1.search(V,j,ie,Y);{const le=this._decorationsTree0.search(V,j,ie,Y),fe=this._decorationsTree1.search(V,j,ie,Y),be=this._injectedTextDecorationsTree.search(V,j,ie,Y);return le.concat(fe).concat(be)}}collectNodesFromOwner(V){const j=this._decorationsTree0.collectNodesFromOwner(V),se=this._decorationsTree1.collectNodesFromOwner(V),ie=this._injectedTextDecorationsTree.collectNodesFromOwner(V);return j.concat(se).concat(ie)}collectNodesPostOrder(){const V=this._decorationsTree0.collectNodesPostOrder(),j=this._decorationsTree1.collectNodesPostOrder(),se=this._injectedTextDecorationsTree.collectNodesPostOrder();return V.concat(j).concat(se)}insert(V){G(V)?this._injectedTextDecorationsTree.insert(V):O(V)?this._decorationsTree1.insert(V):this._decorationsTree0.insert(V)}delete(V){G(V)?this._injectedTextDecorationsTree.delete(V):O(V)?this._decorationsTree1.delete(V):this._decorationsTree0.delete(V)}getNodeRange(V,j){const se=V.getVersionId();return j.cachedVersionId!==se&&this._resolveNode(j,se),j.range===null&&(j.range=V.getRangeAt(j.cachedAbsoluteStart,j.cachedAbsoluteEnd)),j.range}_resolveNode(V,j){G(V)?this._injectedTextDecorationsTree.resolveNode(V,j):O(V)?this._decorationsTree1.resolveNode(V,j):this._decorationsTree0.resolveNode(V,j)}acceptReplace(V,j,se,ie){this._decorationsTree0.acceptReplace(V,j,se,ie),this._decorationsTree1.acceptReplace(V,j,se,ie),this._injectedTextDecorationsTree.acceptReplace(V,j,se,ie)}}function re($){return $.replace(/[^a-z0-9\-_]/gi," ")}class oe{constructor(V){this.color=V.color||"",this.darkColor=V.darkColor||""}}class te extends oe{constructor(V){super(V),this._resolvedColor=null,this.position=typeof V.position=="number"?V.position:n.OverviewRulerLane.Center}getColor(V){return this._resolvedColor||(V.type!=="light"&&this.darkColor?this._resolvedColor=this._resolveColor(this.darkColor,V):this._resolvedColor=this._resolveColor(this.color,V)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=null}_resolveColor(V,j){if(typeof V=="string")return V;const se=V?j.getColor(V.id):null;return se?se.toString():""}}e.ModelDecorationOverviewRulerOptions=te;class H{constructor(V){var j;this.position=(j=V?.position)!==null&&j!==void 0?j:n.GlyphMarginLane.Left}}e.ModelDecorationGlyphMarginOptions=H;class B extends oe{constructor(V){super(V),this.position=V.position}getColor(V){return this._resolvedColor||(V.type!=="light"&&this.darkColor?this._resolvedColor=this._resolveColor(this.darkColor,V):this._resolvedColor=this._resolveColor(this.color,V)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=void 0}_resolveColor(V,j){return typeof V=="string"?k.Color.fromHex(V):j.getColor(V.id)}}e.ModelDecorationMinimapOptions=B;class K{static from(V){return V instanceof K?V:new K(V)}constructor(V){this.content=V.content||"",this.inlineClassName=V.inlineClassName||null,this.inlineClassNameAffectsLetterSpacing=V.inlineClassNameAffectsLetterSpacing||!1,this.attachedData=V.attachedData||null,this.cursorStops=V.cursorStops||null}}e.ModelDecorationInjectedTextOptions=K;class Z{static register(V){return new Z(V)}static createDynamic(V){return new Z(V)}constructor(V){var j,se,ie,Y,le,fe;this.description=V.description,this.blockClassName=V.blockClassName?re(V.blockClassName):null,this.blockDoesNotCollapse=(j=V.blockDoesNotCollapse)!==null&&j!==void 0?j:null,this.blockIsAfterEnd=(se=V.blockIsAfterEnd)!==null&&se!==void 0?se:null,this.blockPadding=(ie=V.blockPadding)!==null&&ie!==void 0?ie:null,this.stickiness=V.stickiness||0,this.zIndex=V.zIndex||0,this.className=V.className?re(V.className):null,this.shouldFillLineOnLineBreak=(Y=V.shouldFillLineOnLineBreak)!==null&&Y!==void 0?Y:null,this.hoverMessage=V.hoverMessage||null,this.glyphMarginHoverMessage=V.glyphMarginHoverMessage||null,this.isWholeLine=V.isWholeLine||!1,this.showIfCollapsed=V.showIfCollapsed||!1,this.collapseOnReplaceEdit=V.collapseOnReplaceEdit||!1,this.overviewRuler=V.overviewRuler?new te(V.overviewRuler):null,this.minimap=V.minimap?new B(V.minimap):null,this.glyphMargin=V.glyphMarginClassName?new H(V.glyphMargin):null,this.glyphMarginClassName=V.glyphMarginClassName?re(V.glyphMarginClassName):null,this.linesDecorationsClassName=V.linesDecorationsClassName?re(V.linesDecorationsClassName):null,this.firstLineDecorationClassName=V.firstLineDecorationClassName?re(V.firstLineDecorationClassName):null,this.marginClassName=V.marginClassName?re(V.marginClassName):null,this.inlineClassName=V.inlineClassName?re(V.inlineClassName):null,this.inlineClassNameAffectsLetterSpacing=V.inlineClassNameAffectsLetterSpacing||!1,this.beforeContentClassName=V.beforeContentClassName?re(V.beforeContentClassName):null,this.afterContentClassName=V.afterContentClassName?re(V.afterContentClassName):null,this.after=V.after?K.from(V.after):null,this.before=V.before?K.from(V.before):null,this.hideInCommentTokens=(le=V.hideInCommentTokens)!==null&&le!==void 0?le:!1,this.hideInStringTokens=(fe=V.hideInStringTokens)!==null&&fe!==void 0?fe:!1}}e.ModelDecorationOptions=Z,Z.EMPTY=Z.register({description:"empty"});const J=[Z.register({description:"tracked-range-always-grows-when-typing-at-edges",stickiness:0}),Z.register({description:"tracked-range-never-grows-when-typing-at-edges",stickiness:1}),Z.register({description:"tracked-range-grows-only-when-typing-before",stickiness:2}),Z.register({description:"tracked-range-grows-only-when-typing-after",stickiness:3})];function ne($){return $ instanceof Z?$:Z.createDynamic($)}class he extends S.Disposable{constructor(V){super(),this.handleBeforeFire=V,this._actual=this._register(new D.Emitter),this.event=this._actual.event,this._affectedInjectedTextLines=null,this._deferredCnt=0,this._shouldFireDeferred=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1,this._affectsGlyphMargin=!1}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(){var V;this._deferredCnt--,this._deferredCnt===0&&(this._shouldFireDeferred&&this.doFire(),(V=this._affectedInjectedTextLines)===null||V===void 0||V.clear(),this._affectedInjectedTextLines=null)}recordLineAffectedByInjectedText(V){this._affectedInjectedTextLines||(this._affectedInjectedTextLines=new Set),this._affectedInjectedTextLines.add(V)}checkAffectedAndFire(V){this._affectsMinimap||(this._affectsMinimap=!!(V.minimap&&V.minimap.position)),this._affectsOverviewRuler||(this._affectsOverviewRuler=!!(V.overviewRuler&&V.overviewRuler.color)),this._affectsGlyphMargin||(this._affectsGlyphMargin=!!V.glyphMarginClassName),this.tryFire()}fire(){this._affectsMinimap=!0,this._affectsOverviewRuler=!0,this._affectsGlyphMargin=!0,this.tryFire()}tryFire(){this._deferredCnt===0?this.doFire():this._shouldFireDeferred=!0}doFire(){this.handleBeforeFire(this._affectedInjectedTextLines);const V={affectsMinimap:this._affectsMinimap,affectsOverviewRuler:this._affectsOverviewRuler,affectsGlyphMargin:this._affectsGlyphMargin};this._shouldFireDeferred=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1,this._affectsGlyphMargin=!1,this._actual.fire(V)}}class de extends S.Disposable{constructor(){super(),this._fastEmitter=this._register(new D.Emitter),this.fastEvent=this._fastEmitter.event,this._slowEmitter=this._register(new D.Emitter),this.slowEvent=this._slowEmitter.event,this._deferredCnt=0,this._deferredEvent=null}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(V=null){if(this._deferredCnt--,this._deferredCnt===0&&this._deferredEvent!==null){this._deferredEvent.rawContentChangedEvent.resultingSelection=V;const j=this._deferredEvent;this._deferredEvent=null,this._fastEmitter.fire(j),this._slowEmitter.fire(j)}}fire(V){if(this._deferredCnt>0){this._deferredEvent?this._deferredEvent=this._deferredEvent.merge(V):this._deferredEvent=V;return}this._fastEmitter.fire(V),this._slowEmitter.fire(V)}}class ae{constructor(){this._onDidChangeVisibleRanges=new D.Emitter,this.onDidChangeVisibleRanges=this._onDidChangeVisibleRanges.event,this._views=new Set}attachView(){const V=new ce(j=>{this._onDidChangeVisibleRanges.fire({view:V,state:j})});return this._views.add(V),V}detachView(V){this._views.delete(V),this._onDidChangeVisibleRanges.fire({view:V,state:void 0})}}e.AttachedViews=ae;class ce{constructor(V){this.handleStateChange=V}setVisibleLines(V,j){const se=V.map(ie=>new s.LineRange(ie.startLineNumber,ie.endLineNumber+1));this.handleStateChange({visibleLineRanges:se,stabilized:j})}}}),define(X[357],ee([1,0,25,55,27,39,604,61]),function(q,e,L,k,y,D,S,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.arrowRevertChange=e.diffDeleteDecorationEmpty=e.diffWholeLineDeleteDecoration=e.diffDeleteDecoration=e.diffAddDecorationEmpty=e.diffWholeLineAddDecoration=e.diffAddDecoration=e.diffLineDeleteDecorationBackground=e.diffLineAddDecorationBackground=e.diffLineDeleteDecorationBackgroundWithIndicator=e.diffLineAddDecorationBackgroundWithIndicator=e.diffRemoveIcon=e.diffInsertIcon=void 0,e.diffInsertIcon=(0,m.registerIcon)("diff-insert",L.Codicon.add,(0,S.localize)(0,null)),e.diffRemoveIcon=(0,m.registerIcon)("diff-remove",L.Codicon.remove,(0,S.localize)(1,null)),e.diffLineAddDecorationBackgroundWithIndicator=D.ModelDecorationOptions.register({className:"line-insert",description:"line-insert",isWholeLine:!0,linesDecorationsClassName:"insert-sign "+y.ThemeIcon.asClassName(e.diffInsertIcon),marginClassName:"gutter-insert"}),e.diffLineDeleteDecorationBackgroundWithIndicator=D.ModelDecorationOptions.register({className:"line-delete",description:"line-delete",isWholeLine:!0,linesDecorationsClassName:"delete-sign "+y.ThemeIcon.asClassName(e.diffRemoveIcon),marginClassName:"gutter-delete"}),e.diffLineAddDecorationBackground=D.ModelDecorationOptions.register({className:"line-insert",description:"line-insert",isWholeLine:!0,marginClassName:"gutter-insert"}),e.diffLineDeleteDecorationBackground=D.ModelDecorationOptions.register({className:"line-delete",description:"line-delete",isWholeLine:!0,marginClassName:"gutter-delete"}),e.diffAddDecoration=D.ModelDecorationOptions.register({className:"char-insert",description:"char-insert",shouldFillLineOnLineBreak:!0}),e.diffWholeLineAddDecoration=D.ModelDecorationOptions.register({className:"char-insert",description:"char-insert",isWholeLine:!0}),e.diffAddDecorationEmpty=D.ModelDecorationOptions.register({className:"char-insert diff-range-empty",description:"char-insert diff-range-empty"}),e.diffDeleteDecoration=D.ModelDecorationOptions.register({className:"char-delete",description:"char-delete",shouldFillLineOnLineBreak:!0}),e.diffWholeLineDeleteDecoration=D.ModelDecorationOptions.register({className:"char-delete",description:"char-delete",isWholeLine:!0}),e.diffDeleteDecorationEmpty=D.ModelDecorationOptions.register({className:"char-delete diff-range-empty",description:"char-delete diff-range-empty"}),e.arrowRevertChange=D.ModelDecorationOptions.register({description:"diff-editor-arrow-revert-change",glyphMarginHoverMessage:new k.MarkdownString(void 0,{isTrusted:!0,supportThemeIcons:!0}).appendMarkdown((0,S.localize)(2,null)),glyphMarginClassName:"arrow-revert-change "+y.ThemeIcon.asClassName(L.Codicon.arrowRight),zIndex:10001})}),define(X[858],ee([1,0,2,42,18,357,269,143,65,11,5]),function(q,e,L,k,y,D,S,m,_,f,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiffEditorDecorations=void 0;class s extends L.Disposable{constructor(i,o,r){super(),this._editors=i,this._diffModel=o,this._options=r,this._decorations=(0,k.derived)("decorations",d=>{var h;const n=(h=this._diffModel.read(d))===null||h===void 0?void 0:h.diff.read(d);if(!n)return null;const c=this._diffModel.read(d).syncedMovedTexts.read(d),a=this._options.renderIndicators.read(d),l=this._options.showEmptyDecorations.read(d),u=[],C=[];for(const g of n.mappings){const v=_.LineRange.subtract(g.lineRangeMapping.originalRange,c?.lineRangeMapping.originalRange).map(w=>w.toInclusiveRange()).filter(y.isDefined);for(const w of v)u.push({range:w,options:a?D.diffLineDeleteDecorationBackgroundWithIndicator:D.diffLineDeleteDecorationBackground});const b=_.LineRange.subtract(g.lineRangeMapping.modifiedRange,c?.lineRangeMapping.modifiedRange).map(w=>w.toInclusiveRange()).filter(y.isDefined);for(const w of b)C.push({range:w,options:a?D.diffLineAddDecorationBackgroundWithIndicator:D.diffLineAddDecorationBackground});for(const w of g.lineRangeMapping.innerChanges||[])c&&(c.lineRangeMapping.originalRange.intersect(new _.LineRange(w.originalRange.startLineNumber,w.originalRange.endLineNumber))||c.lineRangeMapping.modifiedRange.intersect(new _.LineRange(w.modifiedRange.startLineNumber,w.modifiedRange.endLineNumber)))||(g.lineRangeMapping.originalRange.contains(w.originalRange.startLineNumber)&&u.push({range:w.originalRange,options:w.originalRange.isEmpty()&&l?D.diffDeleteDecorationEmpty:D.diffDeleteDecoration}),g.lineRangeMapping.modifiedRange.contains(w.modifiedRange.startLineNumber)&&C.push({range:w.modifiedRange,options:w.modifiedRange.isEmpty()&&l?D.diffAddDecorationEmpty:D.diffAddDecoration}));!g.lineRangeMapping.modifiedRange.isEmpty&&this._options.shouldRenderRevertArrows.read(d)&&!c&&C.push({range:p.Range.fromPositions(new f.Position(g.lineRangeMapping.modifiedRange.startLineNumber,1)),options:D.arrowRevertChange})}if(c)for(const g of c.changes){const v=g.originalRange.toInclusiveRange();v&&u.push({range:v,options:a?D.diffLineDeleteDecorationBackgroundWithIndicator:D.diffLineDeleteDecorationBackground});const b=g.modifiedRange.toInclusiveRange();b&&C.push({range:b,options:a?D.diffLineAddDecorationBackgroundWithIndicator:D.diffLineAddDecorationBackground});for(const w of g.innerChanges||[])u.push({range:w.originalRange,options:D.diffDeleteDecoration}),C.push({range:w.modifiedRange,options:D.diffAddDecoration})}for(const g of n.movedTexts)u.push({range:g.lineRangeMapping.originalRange.toInclusiveRange(),options:{description:"moved",blockClassName:"movedOriginal",blockPadding:[S.MovedBlocksLinesPart.movedCodeBlockPadding,0,S.MovedBlocksLinesPart.movedCodeBlockPadding,S.MovedBlocksLinesPart.movedCodeBlockPadding]}}),C.push({range:g.lineRangeMapping.modifiedRange.toInclusiveRange(),options:{description:"moved",blockClassName:"movedModified",blockPadding:[4,0,4,4]}});return{originalDecorations:u,modifiedDecorations:C}}),this._register((0,m.applyObservableDecorations)(this._editors.original,this._decorations.map(d=>d?.originalDecorations||[]))),this._register((0,m.applyObservableDecorations)(this._editors.modified,this._decorations.map(d=>d?.modifiedDecorations||[])))}}e.DiffEditorDecorations=s}),define(X[859],ee([1,0,6,2,17,39,177,77,41,188,28,193,141,324,53,46,30]),function(q,e,L,k,y,D,S,m,_,f,p,s,t,i,o,r,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ModelService=void 0;function h(C){return C.toString()}function n(C){const g=new t.StringSHA1,v=C.createSnapshot();let b;for(;b=v.read();)g.update(b);return g.digest()}class c{constructor(g,v,b){this.model=g,this._modelEventListeners=new k.DisposableStore,this.model=g,this._modelEventListeners.add(g.onWillDispose(()=>v(g))),this._modelEventListeners.add(g.onDidChangeLanguage(w=>b(g,w)))}dispose(){this._modelEventListeners.dispose()}}const a=y.isLinux||y.isMacintosh?1:2;class l{constructor(g,v,b,w,E,I,T,P){this.uri=g,this.initialUndoRedoSnapshot=v,this.time=b,this.sharesUndoRedoStack=w,this.heapSize=E,this.sha1=I,this.versionId=T,this.alternativeVersionId=P}}let u=e.ModelService=class jt extends k.Disposable{constructor(g,v,b,w,E){super(),this._configurationService=g,this._resourcePropertiesService=v,this._undoRedoService=b,this._languageService=w,this._languageConfigurationService=E,this._onModelAdded=this._register(new L.Emitter),this.onModelAdded=this._onModelAdded.event,this._onModelRemoved=this._register(new L.Emitter),this.onModelRemoved=this._onModelRemoved.event,this._onModelModeChanged=this._register(new L.Emitter),this.onModelLanguageChanged=this._onModelModeChanged.event,this._modelCreationOptionsByLanguageAndResource=Object.create(null),this._models={},this._disposedModels=new Map,this._disposedModelsHeapSize=0,this._register(this._configurationService.onDidChangeConfiguration(I=>this._updateModelOptions(I))),this._updateModelOptions(void 0)}static _readModelOptions(g,v){var b;let w=S.EDITOR_MODEL_DEFAULTS.tabSize;if(g.editor&&typeof g.editor.tabSize<"u"){const F=parseInt(g.editor.tabSize,10);isNaN(F)||(w=F),w<1&&(w=1)}let E="tabSize";if(g.editor&&typeof g.editor.indentSize<"u"&&g.editor.indentSize!=="tabSize"){const F=parseInt(g.editor.indentSize,10);isNaN(F)||(E=Math.max(F,1))}let I=S.EDITOR_MODEL_DEFAULTS.insertSpaces;g.editor&&typeof g.editor.insertSpaces<"u"&&(I=g.editor.insertSpaces==="false"?!1:!!g.editor.insertSpaces);let T=a;const P=g.eol;P===`\r
`?T=2:P===`
`&&(T=1);let A=S.EDITOR_MODEL_DEFAULTS.trimAutoWhitespace;g.editor&&typeof g.editor.trimAutoWhitespace<"u"&&(A=g.editor.trimAutoWhitespace==="false"?!1:!!g.editor.trimAutoWhitespace);let M=S.EDITOR_MODEL_DEFAULTS.detectIndentation;g.editor&&typeof g.editor.detectIndentation<"u"&&(M=g.editor.detectIndentation==="false"?!1:!!g.editor.detectIndentation);let N=S.EDITOR_MODEL_DEFAULTS.largeFileOptimizations;g.editor&&typeof g.editor.largeFileOptimizations<"u"&&(N=g.editor.largeFileOptimizations==="false"?!1:!!g.editor.largeFileOptimizations);let R=S.EDITOR_MODEL_DEFAULTS.bracketPairColorizationOptions;return!((b=g.editor)===null||b===void 0)&&b.bracketPairColorization&&typeof g.editor.bracketPairColorization=="object"&&(R={enabled:!!g.editor.bracketPairColorization.enabled,independentColorPoolPerBracketType:!!g.editor.bracketPairColorization.independentColorPoolPerBracketType}),{isForSimpleWidget:v,tabSize:w,indentSize:E,insertSpaces:I,detectIndentation:M,defaultEOL:T,trimAutoWhitespace:A,largeFileOptimizations:N,bracketPairColorizationOptions:R}}_getEOL(g,v){if(g)return this._resourcePropertiesService.getEOL(g,v);const b=this._configurationService.getValue("files.eol",{overrideIdentifier:v});return b&&typeof b=="string"&&b!=="auto"?b:y.OS===3||y.OS===2?`
`:`\r
`}_shouldRestoreUndoStack(){const g=this._configurationService.getValue("files.restoreUndoStack");return typeof g=="boolean"?g:!0}getCreationOptions(g,v,b){const w=typeof g=="string"?g:g.languageId;let E=this._modelCreationOptionsByLanguageAndResource[w+v];if(!E){const I=this._configurationService.getValue("editor",{overrideIdentifier:w,resource:v}),T=this._getEOL(v,w);E=jt._readModelOptions({editor:I,eol:T},b),this._modelCreationOptionsByLanguageAndResource[w+v]=E}return E}_updateModelOptions(g){const v=this._modelCreationOptionsByLanguageAndResource;this._modelCreationOptionsByLanguageAndResource=Object.create(null);const b=Object.keys(this._models);for(let w=0,E=b.length;w<E;w++){const I=b[w],T=this._models[I],P=T.model.getLanguageId(),A=T.model.uri;if(g&&!g.affectsConfiguration("editor",{overrideIdentifier:P,resource:A})&&!g.affectsConfiguration("files.eol",{overrideIdentifier:P,resource:A}))continue;const M=v[P+A],N=this.getCreationOptions(P,A,T.model.isForSimpleWidget);jt._setModelOptionsForModel(T.model,N,M)}}static _setModelOptionsForModel(g,v,b){b&&b.defaultEOL!==v.defaultEOL&&g.getLineCount()===1&&g.setEOL(v.defaultEOL===1?0:1),!(b&&b.detectIndentation===v.detectIndentation&&b.insertSpaces===v.insertSpaces&&b.tabSize===v.tabSize&&b.indentSize===v.indentSize&&b.trimAutoWhitespace===v.trimAutoWhitespace&&(0,r.equals)(b.bracketPairColorizationOptions,v.bracketPairColorizationOptions))&&(v.detectIndentation?(g.detectIndentation(v.insertSpaces,v.tabSize),g.updateOptions({trimAutoWhitespace:v.trimAutoWhitespace,bracketColorizationOptions:v.bracketPairColorizationOptions})):g.updateOptions({insertSpaces:v.insertSpaces,tabSize:v.tabSize,indentSize:v.indentSize,trimAutoWhitespace:v.trimAutoWhitespace,bracketColorizationOptions:v.bracketPairColorizationOptions}))}_insertDisposedModel(g){this._disposedModels.set(h(g.uri),g),this._disposedModelsHeapSize+=g.heapSize}_removeDisposedModel(g){const v=this._disposedModels.get(h(g));return v&&(this._disposedModelsHeapSize-=v.heapSize),this._disposedModels.delete(h(g)),v}_ensureDisposedModelsHeapSize(g){if(this._disposedModelsHeapSize>g){const v=[];for(this._disposedModels.forEach(b=>{b.sharesUndoRedoStack||v.push(b)}),v.sort((b,w)=>b.time-w.time);v.length>0&&this._disposedModelsHeapSize>g;){const b=v.shift();this._removeDisposedModel(b.uri),b.initialUndoRedoSnapshot!==null&&this._undoRedoService.restoreSnapshot(b.initialUndoRedoSnapshot)}}}_createModelData(g,v,b,w){const E=this.getCreationOptions(v,b,w),I=new D.TextModel(g,v,E,b,this._undoRedoService,this._languageService,this._languageConfigurationService);if(b&&this._disposedModels.has(h(b))){const A=this._removeDisposedModel(b),M=this._undoRedoService.getElements(b),N=n(I)===A.sha1;if(N||A.sharesUndoRedoStack){for(const R of M.past)(0,i.isEditStackElement)(R)&&R.matchesResource(b)&&R.setModel(I);for(const R of M.future)(0,i.isEditStackElement)(R)&&R.matchesResource(b)&&R.setModel(I);this._undoRedoService.setElementsValidFlag(b,!0,R=>(0,i.isEditStackElement)(R)&&R.matchesResource(b)),N&&(I._overwriteVersionId(A.versionId),I._overwriteAlternativeVersionId(A.alternativeVersionId),I._overwriteInitialUndoRedoSnapshot(A.initialUndoRedoSnapshot))}else A.initialUndoRedoSnapshot!==null&&this._undoRedoService.restoreSnapshot(A.initialUndoRedoSnapshot)}const T=h(I.uri);if(this._models[T])throw new Error("ModelService: Cannot add model because it already exists!");const P=new c(I,A=>this._onWillDispose(A),(A,M)=>this._onDidChangeLanguage(A,M));return this._models[T]=P,P}createModel(g,v,b,w=!1){let E;return v?E=this._createModelData(g,v,b,w):E=this._createModelData(g,m.PLAINTEXT_LANGUAGE_ID,b,w),this._onModelAdded.fire(E.model),E.model}getModels(){const g=[],v=Object.keys(this._models);for(let b=0,w=v.length;b<w;b++){const E=v[b];g.push(this._models[E].model)}return g}getModel(g){const v=h(g),b=this._models[v];return b?b.model:null}_schemaShouldMaintainUndoRedoElements(g){return g.scheme===o.Schemas.file||g.scheme===o.Schemas.vscodeRemote||g.scheme===o.Schemas.vscodeUserData||g.scheme===o.Schemas.vscodeNotebookCell||g.scheme==="fake-fs"}_onWillDispose(g){const v=h(g.uri),b=this._models[v],w=this._undoRedoService.getUriComparisonKey(g.uri)!==g.uri.toString();let E=!1,I=0;if(w||this._shouldRestoreUndoStack()&&this._schemaShouldMaintainUndoRedoElements(g.uri)){const P=this._undoRedoService.getElements(g.uri);if(P.past.length>0||P.future.length>0){for(const A of P.past)(0,i.isEditStackElement)(A)&&A.matchesResource(g.uri)&&(E=!0,I+=A.heapSize(g.uri),A.setModel(g.uri));for(const A of P.future)(0,i.isEditStackElement)(A)&&A.matchesResource(g.uri)&&(E=!0,I+=A.heapSize(g.uri),A.setModel(g.uri))}}const T=jt.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK;if(E)if(!w&&I>T){const P=b.model.getInitialUndoRedoSnapshot();P!==null&&this._undoRedoService.restoreSnapshot(P)}else this._ensureDisposedModelsHeapSize(T-I),this._undoRedoService.setElementsValidFlag(g.uri,!1,P=>(0,i.isEditStackElement)(P)&&P.matchesResource(g.uri)),this._insertDisposedModel(new l(g.uri,b.model.getInitialUndoRedoSnapshot(),Date.now(),w,I,n(g),g.getVersionId(),g.getAlternativeVersionId()));else if(!w){const P=b.model.getInitialUndoRedoSnapshot();P!==null&&this._undoRedoService.restoreSnapshot(P)}delete this._models[v],b.dispose(),delete this._modelCreationOptionsByLanguageAndResource[g.getLanguageId()+g.uri],this._onModelRemoved.fire(g)}_onDidChangeLanguage(g,v){const b=v.oldLanguage,w=g.getLanguageId(),E=this.getCreationOptions(b,g.uri,g.isForSimpleWidget),I=this.getCreationOptions(w,g.uri,g.isForSimpleWidget);jt._setModelOptionsForModel(g,I,E),this._onModelModeChanged.fire({model:g,oldLanguageId:b})}};u.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK=20*1024*1024,e.ModelService=u=Ne([ge(0,p.IConfigurationService),ge(1,f.ITextResourcePropertiesService),ge(2,s.IUndoRedoService),ge(3,_.ILanguageService),ge(4,d.ILanguageConfigurationService)],u)}),define(X[860],ee([1,0,16,11,5,208,39,110,210,526,279,66]),function(q,e,L,k,y,D,S,m,_,f,p,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewModelLinesFromModelAsIs=e.ViewModelLinesFromProjectedModel=void 0;class t{constructor(a,l,u,C,g,v,b,w,E,I){this._editorId=a,this.model=l,this._validModelVersionId=-1,this._domLineBreaksComputerFactory=u,this._monospaceLineBreaksComputerFactory=C,this.fontInfo=g,this.tabSize=v,this.wrappingStrategy=b,this.wrappingColumn=w,this.wrappingIndent=E,this.wordBreak=I,this._constructLines(!0,null)}dispose(){this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,[])}createCoordinatesConverter(){return new d(this)}_constructLines(a,l){this.modelLineProjections=[],a&&(this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,[]));const u=this.model.getLinesContent(),C=this.model.getInjectedTextDecorations(this._editorId),g=u.length,v=this.createLineBreaksComputer(),b=new L.ArrayQueue(m.LineInjectedText.fromDecorations(C));for(let N=0;N<g;N++){const R=b.takeWhile(F=>F.lineNumber===N+1);v.addRequest(u[N],R,l?l[N]:null)}const w=v.finalize(),E=[],I=this.hiddenAreasDecorationIds.map(N=>this.model.getDecorationRange(N)).sort(y.Range.compareRangesUsingStarts);let T=1,P=0,A=-1,M=A+1<I.length?P+1:g+2;for(let N=0;N<g;N++){const R=N+1;R===M&&(A++,T=I[A].startLineNumber,P=I[A].endLineNumber,M=A+1<I.length?P+1:g+2);const F=R>=T&&R<=P,x=(0,f.createModelLineProjection)(w[N],!F);E[N]=x.getViewLineCount(),this.modelLineProjections[N]=x}this._validModelVersionId=this.model.getVersionId(),this.projectedModelLineLineCounts=new p.ConstantTimePrefixSumComputer(E)}getHiddenAreas(){return this.hiddenAreasDecorationIds.map(a=>this.model.getDecorationRange(a))}setHiddenAreas(a){const l=a.map(P=>this.model.validateRange(P)),u=i(l),C=this.hiddenAreasDecorationIds.map(P=>this.model.getDecorationRange(P)).sort(y.Range.compareRangesUsingStarts);if(u.length===C.length){let P=!1;for(let A=0;A<u.length;A++)if(!u[A].equalsRange(C[A])){P=!0;break}if(!P)return!1}const g=u.map(P=>({range:P,options:S.ModelDecorationOptions.EMPTY}));this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,g);const v=u;let b=1,w=0,E=-1,I=E+1<v.length?w+1:this.modelLineProjections.length+2,T=!1;for(let P=0;P<this.modelLineProjections.length;P++){const A=P+1;A===I&&(E++,b=v[E].startLineNumber,w=v[E].endLineNumber,I=E+1<v.length?w+1:this.modelLineProjections.length+2);let M=!1;if(A>=b&&A<=w?this.modelLineProjections[P].isVisible()&&(this.modelLineProjections[P]=this.modelLineProjections[P].setVisible(!1),M=!0):(T=!0,this.modelLineProjections[P].isVisible()||(this.modelLineProjections[P]=this.modelLineProjections[P].setVisible(!0),M=!0)),M){const N=this.modelLineProjections[P].getViewLineCount();this.projectedModelLineLineCounts.setValue(P,N)}}return T||this.setHiddenAreas([]),!0}modelPositionIsVisible(a,l){return a<1||a>this.modelLineProjections.length?!1:this.modelLineProjections[a-1].isVisible()}getModelLineViewLineCount(a){return a<1||a>this.modelLineProjections.length?1:this.modelLineProjections[a-1].getViewLineCount()}setTabSize(a){return this.tabSize===a?!1:(this.tabSize=a,this._constructLines(!1,null),!0)}setWrappingSettings(a,l,u,C,g){const v=this.fontInfo.equals(a),b=this.wrappingStrategy===l,w=this.wrappingColumn===u,E=this.wrappingIndent===C,I=this.wordBreak===g;if(v&&b&&w&&E&&I)return!1;const T=v&&b&&!w&&E&&I;this.fontInfo=a,this.wrappingStrategy=l,this.wrappingColumn=u,this.wrappingIndent=C,this.wordBreak=g;let P=null;if(T){P=[];for(let A=0,M=this.modelLineProjections.length;A<M;A++)P[A]=this.modelLineProjections[A].getProjectionData()}return this._constructLines(!1,P),!0}createLineBreaksComputer(){return(this.wrappingStrategy==="advanced"?this._domLineBreaksComputerFactory:this._monospaceLineBreaksComputerFactory).createLineBreaksComputer(this.fontInfo,this.tabSize,this.wrappingColumn,this.wrappingIndent,this.wordBreak)}onModelFlushed(){this._constructLines(!0,null)}onModelLinesDeleted(a,l,u){if(!a||a<=this._validModelVersionId)return null;const C=l===1?1:this.projectedModelLineLineCounts.getPrefixSum(l-1)+1,g=this.projectedModelLineLineCounts.getPrefixSum(u);return this.modelLineProjections.splice(l-1,u-l+1),this.projectedModelLineLineCounts.removeValues(l-1,u-l+1),new _.ViewLinesDeletedEvent(C,g)}onModelLinesInserted(a,l,u,C){if(!a||a<=this._validModelVersionId)return null;const g=l>2&&!this.modelLineProjections[l-2].isVisible(),v=l===1?1:this.projectedModelLineLineCounts.getPrefixSum(l-1)+1;let b=0;const w=[],E=[];for(let I=0,T=C.length;I<T;I++){const P=(0,f.createModelLineProjection)(C[I],!g);w.push(P);const A=P.getViewLineCount();b+=A,E[I]=A}return this.modelLineProjections=this.modelLineProjections.slice(0,l-1).concat(w).concat(this.modelLineProjections.slice(l-1)),this.projectedModelLineLineCounts.insertValues(l-1,E),new _.ViewLinesInsertedEvent(v,v+b-1)}onModelLineChanged(a,l,u){if(a!==null&&a<=this._validModelVersionId)return[!1,null,null,null];const C=l-1,g=this.modelLineProjections[C].getViewLineCount(),v=this.modelLineProjections[C].isVisible(),b=(0,f.createModelLineProjection)(u,v);this.modelLineProjections[C]=b;const w=this.modelLineProjections[C].getViewLineCount();let E=!1,I=0,T=-1,P=0,A=-1,M=0,N=-1;g>w?(I=this.projectedModelLineLineCounts.getPrefixSum(l-1)+1,T=I+w-1,M=T+1,N=M+(g-w)-1,E=!0):g<w?(I=this.projectedModelLineLineCounts.getPrefixSum(l-1)+1,T=I+g-1,P=T+1,A=P+(w-g)-1,E=!0):(I=this.projectedModelLineLineCounts.getPrefixSum(l-1)+1,T=I+w-1),this.projectedModelLineLineCounts.setValue(C,w);const R=I<=T?new _.ViewLinesChangedEvent(I,T-I+1):null,F=P<=A?new _.ViewLinesInsertedEvent(P,A):null,x=M<=N?new _.ViewLinesDeletedEvent(M,N):null;return[E,R,F,x]}acceptVersionId(a){this._validModelVersionId=a,this.modelLineProjections.length===1&&!this.modelLineProjections[0].isVisible()&&this.setHiddenAreas([])}getViewLineCount(){return this.projectedModelLineLineCounts.getTotalSum()}_toValidViewLineNumber(a){if(a<1)return 1;const l=this.getViewLineCount();return a>l?l:a|0}getActiveIndentGuide(a,l,u){a=this._toValidViewLineNumber(a),l=this._toValidViewLineNumber(l),u=this._toValidViewLineNumber(u);const C=this.convertViewPositionToModelPosition(a,this.getViewLineMinColumn(a)),g=this.convertViewPositionToModelPosition(l,this.getViewLineMinColumn(l)),v=this.convertViewPositionToModelPosition(u,this.getViewLineMinColumn(u)),b=this.model.guides.getActiveIndentGuide(C.lineNumber,g.lineNumber,v.lineNumber),w=this.convertModelPositionToViewPosition(b.startLineNumber,1),E=this.convertModelPositionToViewPosition(b.endLineNumber,this.model.getLineMaxColumn(b.endLineNumber));return{startLineNumber:w.lineNumber,endLineNumber:E.lineNumber,indent:b.indent}}getViewLineInfo(a){a=this._toValidViewLineNumber(a);const l=this.projectedModelLineLineCounts.getIndexOf(a-1),u=l.index,C=l.remainder;return new o(u+1,C)}getMinColumnOfViewLine(a){return this.modelLineProjections[a.modelLineNumber-1].getViewLineMinColumn(this.model,a.modelLineNumber,a.modelLineWrappedLineIdx)}getMaxColumnOfViewLine(a){return this.modelLineProjections[a.modelLineNumber-1].getViewLineMaxColumn(this.model,a.modelLineNumber,a.modelLineWrappedLineIdx)}getModelStartPositionOfViewLine(a){const l=this.modelLineProjections[a.modelLineNumber-1],u=l.getViewLineMinColumn(this.model,a.modelLineNumber,a.modelLineWrappedLineIdx),C=l.getModelColumnOfViewPosition(a.modelLineWrappedLineIdx,u);return new k.Position(a.modelLineNumber,C)}getModelEndPositionOfViewLine(a){const l=this.modelLineProjections[a.modelLineNumber-1],u=l.getViewLineMaxColumn(this.model,a.modelLineNumber,a.modelLineWrappedLineIdx),C=l.getModelColumnOfViewPosition(a.modelLineWrappedLineIdx,u);return new k.Position(a.modelLineNumber,C)}getViewLineInfosGroupedByModelRanges(a,l){const u=this.getViewLineInfo(a),C=this.getViewLineInfo(l),g=new Array;let v=this.getModelStartPositionOfViewLine(u),b=new Array;for(let w=u.modelLineNumber;w<=C.modelLineNumber;w++){const E=this.modelLineProjections[w-1];if(E.isVisible()){const I=w===u.modelLineNumber?u.modelLineWrappedLineIdx:0,T=w===C.modelLineNumber?C.modelLineWrappedLineIdx+1:E.getViewLineCount();for(let P=I;P<T;P++)b.push(new o(w,P))}if(!E.isVisible()&&v){const I=new k.Position(w-1,this.model.getLineMaxColumn(w-1)+1),T=y.Range.fromPositions(v,I);g.push(new r(T,b)),b=[],v=null}else E.isVisible()&&!v&&(v=new k.Position(w,1))}if(v){const w=y.Range.fromPositions(v,this.getModelEndPositionOfViewLine(C));g.push(new r(w,b))}return g}getViewLinesBracketGuides(a,l,u,C){const g=u?this.convertViewPositionToModelPosition(u.lineNumber,u.column):null,v=[];for(const b of this.getViewLineInfosGroupedByModelRanges(a,l)){const w=b.modelRange.startLineNumber,E=this.model.guides.getLinesBracketGuides(w,b.modelRange.endLineNumber,g,C);for(const I of b.viewLines){const P=E[I.modelLineNumber-w].map(A=>{if(A.forWrappedLinesAfterColumn!==-1&&this.modelLineProjections[I.modelLineNumber-1].getViewPositionOfModelPosition(0,A.forWrappedLinesAfterColumn).lineNumber>=I.modelLineWrappedLineIdx||A.forWrappedLinesBeforeOrAtColumn!==-1&&this.modelLineProjections[I.modelLineNumber-1].getViewPositionOfModelPosition(0,A.forWrappedLinesBeforeOrAtColumn).lineNumber<I.modelLineWrappedLineIdx)return;if(!A.horizontalLine)return A;let M=-1;if(A.column!==-1){const F=this.modelLineProjections[I.modelLineNumber-1].getViewPositionOfModelPosition(0,A.column);if(F.lineNumber===I.modelLineWrappedLineIdx)M=F.column;else if(F.lineNumber<I.modelLineWrappedLineIdx)M=this.getMinColumnOfViewLine(I);else if(F.lineNumber>I.modelLineWrappedLineIdx)return}const N=this.convertModelPositionToViewPosition(I.modelLineNumber,A.horizontalLine.endColumn),R=this.modelLineProjections[I.modelLineNumber-1].getViewPositionOfModelPosition(0,A.horizontalLine.endColumn);return R.lineNumber===I.modelLineWrappedLineIdx?new D.IndentGuide(A.visibleColumn,M,A.className,new D.IndentGuideHorizontalLine(A.horizontalLine.top,N.column),-1,-1):R.lineNumber<I.modelLineWrappedLineIdx||A.visibleColumn!==-1?void 0:new D.IndentGuide(A.visibleColumn,M,A.className,new D.IndentGuideHorizontalLine(A.horizontalLine.top,this.getMaxColumnOfViewLine(I)),-1,-1)});v.push(P.filter(A=>!!A))}}return v}getViewLinesIndentGuides(a,l){a=this._toValidViewLineNumber(a),l=this._toValidViewLineNumber(l);const u=this.convertViewPositionToModelPosition(a,this.getViewLineMinColumn(a)),C=this.convertViewPositionToModelPosition(l,this.getViewLineMaxColumn(l));let g=[];const v=[],b=[],w=u.lineNumber-1,E=C.lineNumber-1;let I=null;for(let M=w;M<=E;M++){const N=this.modelLineProjections[M];if(N.isVisible()){const R=N.getViewLineNumberOfModelPosition(0,M===w?u.column:1),F=N.getViewLineNumberOfModelPosition(0,this.model.getLineMaxColumn(M+1)),x=F-R+1;let W=0;x>1&&N.getViewLineMinColumn(this.model,M+1,F)===1&&(W=R===0?1:2),v.push(x),b.push(W),I===null&&(I=new k.Position(M+1,0))}else I!==null&&(g=g.concat(this.model.guides.getLinesIndentGuides(I.lineNumber,M)),I=null)}I!==null&&(g=g.concat(this.model.guides.getLinesIndentGuides(I.lineNumber,C.lineNumber)),I=null);const T=l-a+1,P=new Array(T);let A=0;for(let M=0,N=g.length;M<N;M++){let R=g[M];const F=Math.min(T-A,v[M]),x=b[M];let W;x===2?W=0:x===1?W=1:W=F;for(let z=0;z<F;z++)z===W&&(R=0),P[A++]=R}return P}getViewLineContent(a){const l=this.getViewLineInfo(a);return this.modelLineProjections[l.modelLineNumber-1].getViewLineContent(this.model,l.modelLineNumber,l.modelLineWrappedLineIdx)}getViewLineLength(a){const l=this.getViewLineInfo(a);return this.modelLineProjections[l.modelLineNumber-1].getViewLineLength(this.model,l.modelLineNumber,l.modelLineWrappedLineIdx)}getViewLineMinColumn(a){const l=this.getViewLineInfo(a);return this.modelLineProjections[l.modelLineNumber-1].getViewLineMinColumn(this.model,l.modelLineNumber,l.modelLineWrappedLineIdx)}getViewLineMaxColumn(a){const l=this.getViewLineInfo(a);return this.modelLineProjections[l.modelLineNumber-1].getViewLineMaxColumn(this.model,l.modelLineNumber,l.modelLineWrappedLineIdx)}getViewLineData(a){const l=this.getViewLineInfo(a);return this.modelLineProjections[l.modelLineNumber-1].getViewLineData(this.model,l.modelLineNumber,l.modelLineWrappedLineIdx)}getViewLinesData(a,l,u){a=this._toValidViewLineNumber(a),l=this._toValidViewLineNumber(l);const C=this.projectedModelLineLineCounts.getIndexOf(a-1);let g=a;const v=C.index,b=C.remainder,w=[];for(let E=v,I=this.model.getLineCount();E<I;E++){const T=this.modelLineProjections[E];if(!T.isVisible())continue;const P=E===v?b:0;let A=T.getViewLineCount()-P,M=!1;if(g+A>l&&(M=!0,A=l-g+1),T.getViewLinesData(this.model,E+1,P,A,g-a,u,w),g+=A,M)break}return w}validateViewPosition(a,l,u){a=this._toValidViewLineNumber(a);const C=this.projectedModelLineLineCounts.getIndexOf(a-1),g=C.index,v=C.remainder,b=this.modelLineProjections[g],w=b.getViewLineMinColumn(this.model,g+1,v),E=b.getViewLineMaxColumn(this.model,g+1,v);l<w&&(l=w),l>E&&(l=E);const I=b.getModelColumnOfViewPosition(v,l);return this.model.validatePosition(new k.Position(g+1,I)).equals(u)?new k.Position(a,l):this.convertModelPositionToViewPosition(u.lineNumber,u.column)}validateViewRange(a,l){const u=this.validateViewPosition(a.startLineNumber,a.startColumn,l.getStartPosition()),C=this.validateViewPosition(a.endLineNumber,a.endColumn,l.getEndPosition());return new y.Range(u.lineNumber,u.column,C.lineNumber,C.column)}convertViewPositionToModelPosition(a,l){const u=this.getViewLineInfo(a),C=this.modelLineProjections[u.modelLineNumber-1].getModelColumnOfViewPosition(u.modelLineWrappedLineIdx,l);return this.model.validatePosition(new k.Position(u.modelLineNumber,C))}convertViewRangeToModelRange(a){const l=this.convertViewPositionToModelPosition(a.startLineNumber,a.startColumn),u=this.convertViewPositionToModelPosition(a.endLineNumber,a.endColumn);return new y.Range(l.lineNumber,l.column,u.lineNumber,u.column)}convertModelPositionToViewPosition(a,l,u=2,C=!1,g=!1){const v=this.model.validatePosition(new k.Position(a,l)),b=v.lineNumber,w=v.column;let E=b-1,I=!1;if(g)for(;E<this.modelLineProjections.length&&!this.modelLineProjections[E].isVisible();)E++,I=!0;else for(;E>0&&!this.modelLineProjections[E].isVisible();)E--,I=!0;if(E===0&&!this.modelLineProjections[E].isVisible())return new k.Position(C?0:1,1);const T=1+this.projectedModelLineLineCounts.getPrefixSum(E);let P;return I?g?P=this.modelLineProjections[E].getViewPositionOfModelPosition(T,1,u):P=this.modelLineProjections[E].getViewPositionOfModelPosition(T,this.model.getLineMaxColumn(E+1),u):P=this.modelLineProjections[b-1].getViewPositionOfModelPosition(T,w,u),P}convertModelRangeToViewRange(a,l=0){if(a.isEmpty()){const u=this.convertModelPositionToViewPosition(a.startLineNumber,a.startColumn,l);return y.Range.fromPositions(u)}else{const u=this.convertModelPositionToViewPosition(a.startLineNumber,a.startColumn,1),C=this.convertModelPositionToViewPosition(a.endLineNumber,a.endColumn,0);return new y.Range(u.lineNumber,u.column,C.lineNumber,C.column)}}getViewLineNumberOfModelPosition(a,l){let u=a-1;if(this.modelLineProjections[u].isVisible()){const g=1+this.projectedModelLineLineCounts.getPrefixSum(u);return this.modelLineProjections[u].getViewLineNumberOfModelPosition(g,l)}for(;u>0&&!this.modelLineProjections[u].isVisible();)u--;if(u===0&&!this.modelLineProjections[u].isVisible())return 1;const C=1+this.projectedModelLineLineCounts.getPrefixSum(u);return this.modelLineProjections[u].getViewLineNumberOfModelPosition(C,this.model.getLineMaxColumn(u+1))}getDecorationsInRange(a,l,u,C,g){const v=this.convertViewPositionToModelPosition(a.startLineNumber,a.startColumn),b=this.convertViewPositionToModelPosition(a.endLineNumber,a.endColumn);if(b.lineNumber-v.lineNumber<=a.endLineNumber-a.startLineNumber)return this.model.getDecorationsInRange(new y.Range(v.lineNumber,1,b.lineNumber,b.column),l,u,C,g);let w=[];const E=v.lineNumber-1,I=b.lineNumber-1;let T=null;for(let N=E;N<=I;N++)if(this.modelLineProjections[N].isVisible())T===null&&(T=new k.Position(N+1,N===E?v.column:1));else if(T!==null){const F=this.model.getLineMaxColumn(N);w=w.concat(this.model.getDecorationsInRange(new y.Range(T.lineNumber,T.column,N,F),l,u,C)),T=null}T!==null&&(w=w.concat(this.model.getDecorationsInRange(new y.Range(T.lineNumber,T.column,b.lineNumber,b.column),l,u,C)),T=null),w.sort((N,R)=>{const F=y.Range.compareRangesUsingStarts(N.range,R.range);return F===0?N.id<R.id?-1:N.id>R.id?1:0:F});const P=[];let A=0,M=null;for(const N of w){const R=N.id;M!==R&&(M=R,P[A++]=N)}return P}getInjectedTextAt(a){const l=this.getViewLineInfo(a.lineNumber);return this.modelLineProjections[l.modelLineNumber-1].getInjectedTextAt(l.modelLineWrappedLineIdx,a.column)}normalizePosition(a,l){const u=this.getViewLineInfo(a.lineNumber);return this.modelLineProjections[u.modelLineNumber-1].normalizePosition(u.modelLineWrappedLineIdx,a,l)}getLineIndentColumn(a){const l=this.getViewLineInfo(a);return l.modelLineWrappedLineIdx===0?this.model.getLineIndentColumn(l.modelLineNumber):0}}e.ViewModelLinesFromProjectedModel=t;function i(c){if(c.length===0)return[];const a=c.slice();a.sort(y.Range.compareRangesUsingStarts);const l=[];let u=a[0].startLineNumber,C=a[0].endLineNumber;for(let g=1,v=a.length;g<v;g++){const b=a[g];b.startLineNumber>C+1?(l.push(new y.Range(u,1,C,1)),u=b.startLineNumber,C=b.endLineNumber):b.endLineNumber>C&&(C=b.endLineNumber)}return l.push(new y.Range(u,1,C,1)),l}class o{constructor(a,l){this.modelLineNumber=a,this.modelLineWrappedLineIdx=l}}class r{constructor(a,l){this.modelRange=a,this.viewLines=l}}class d{constructor(a){this._lines=a}convertViewPositionToModelPosition(a){return this._lines.convertViewPositionToModelPosition(a.lineNumber,a.column)}convertViewRangeToModelRange(a){return this._lines.convertViewRangeToModelRange(a)}validateViewPosition(a,l){return this._lines.validateViewPosition(a.lineNumber,a.column,l)}validateViewRange(a,l){return this._lines.validateViewRange(a,l)}convertModelPositionToViewPosition(a,l,u,C){return this._lines.convertModelPositionToViewPosition(a.lineNumber,a.column,l,u,C)}convertModelRangeToViewRange(a,l){return this._lines.convertModelRangeToViewRange(a,l)}modelPositionIsVisible(a){return this._lines.modelPositionIsVisible(a.lineNumber,a.column)}getModelLineViewLineCount(a){return this._lines.getModelLineViewLineCount(a)}getViewLineNumberOfModelPosition(a,l){return this._lines.getViewLineNumberOfModelPosition(a,l)}}class h{constructor(a){this.model=a}dispose(){}createCoordinatesConverter(){return new n(this)}getHiddenAreas(){return[]}setHiddenAreas(a){return!1}setTabSize(a){return!1}setWrappingSettings(a,l,u,C){return!1}createLineBreaksComputer(){const a=[];return{addRequest:(l,u,C)=>{a.push(null)},finalize:()=>a}}onModelFlushed(){}onModelLinesDeleted(a,l,u){return new _.ViewLinesDeletedEvent(l,u)}onModelLinesInserted(a,l,u,C){return new _.ViewLinesInsertedEvent(l,u)}onModelLineChanged(a,l,u){return[!1,new _.ViewLinesChangedEvent(l,1),null,null]}acceptVersionId(a){}getViewLineCount(){return this.model.getLineCount()}getActiveIndentGuide(a,l,u){return{startLineNumber:a,endLineNumber:a,indent:0}}getViewLinesBracketGuides(a,l,u){return new Array(l-a+1).fill([])}getViewLinesIndentGuides(a,l){const u=l-a+1,C=new Array(u);for(let g=0;g<u;g++)C[g]=0;return C}getViewLineContent(a){return this.model.getLineContent(a)}getViewLineLength(a){return this.model.getLineLength(a)}getViewLineMinColumn(a){return this.model.getLineMinColumn(a)}getViewLineMaxColumn(a){return this.model.getLineMaxColumn(a)}getViewLineData(a){const l=this.model.tokenization.getLineTokens(a),u=l.getLineContent();return new s.ViewLineData(u,!1,1,u.length+1,0,l.inflate(),null)}getViewLinesData(a,l,u){const C=this.model.getLineCount();a=Math.min(Math.max(1,a),C),l=Math.min(Math.max(1,l),C);const g=[];for(let v=a;v<=l;v++){const b=v-a;g[b]=u[b]?this.getViewLineData(v):null}return g}getDecorationsInRange(a,l,u,C,g){return this.model.getDecorationsInRange(a,l,u,C,g)}normalizePosition(a,l){return this.model.normalizePosition(a,l)}getLineIndentColumn(a){return this.model.getLineIndentColumn(a)}getInjectedTextAt(a){return null}}e.ViewModelLinesFromModelAsIs=h;class n{constructor(a){this._lines=a}_validPosition(a){return this._lines.model.validatePosition(a)}_validRange(a){return this._lines.model.validateRange(a)}convertViewPositionToModelPosition(a){return this._validPosition(a)}convertViewRangeToModelRange(a){return this._validRange(a)}validateViewPosition(a,l){return this._validPosition(l)}validateViewRange(a,l){return this._validRange(l)}convertModelPositionToViewPosition(a){return this._validPosition(a)}convertModelRangeToViewRange(a){return this._validRange(a)}modelPositionIsVisible(a){const l=this._lines.model.getLineCount();return!(a.lineNumber<1||a.lineNumber>l)}getModelLineViewLineCount(a){return 1}getViewLineNumberOfModelPosition(a,l){return a}}}),define(X[861],ee([1,0,16,14,36,2,17,9,35,763,72,11,5,110,29,77,316,210,530,319,66,323,212,860]),function(q,e,L,k,y,D,S,m,_,f,p,s,t,i,o,r,d,h,n,c,a,l,u,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewModel=void 0;const g=!0;class v extends D.Disposable{constructor(M,N,R,F,x,W,z,U,O){if(super(),this.languageConfigurationService=z,this._themeService=U,this._attachedView=O,this.hiddenAreasModel=new E,this.previousHiddenAreas=[],this._editorId=M,this._configuration=N,this.model=R,this._eventDispatcher=new u.ViewModelEventDispatcher,this.onEvent=this._eventDispatcher.onEvent,this.cursorConfig=new p.CursorConfiguration(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._updateConfigurationViewLineCount=this._register(new k.RunOnceScheduler(()=>this._updateConfigurationViewLineCountNow(),0)),this._hasFocus=!1,this._viewportStart=b.create(this.model),g&&this.model.isTooLargeForTokenization())this._lines=new C.ViewModelLinesFromModelAsIs(this.model);else{const G=this._configuration.options,Q=G.get(48),re=G.get(135),oe=G.get(142),te=G.get(134),H=G.get(126);this._lines=new C.ViewModelLinesFromProjectedModel(this._editorId,this.model,F,x,Q,this.model.getOptions().tabSize,re,oe.wrappingColumn,te,H)}this.coordinatesConverter=this._lines.createCoordinatesConverter(),this._cursor=this._register(new f.CursorsController(R,this,this.coordinatesConverter,this.cursorConfig)),this.viewLayout=this._register(new n.ViewLayout(this._configuration,this.getLineCount(),W)),this._register(this.viewLayout.onDidScroll(G=>{G.scrollTopChanged&&this._handleVisibleLinesChanged(),G.scrollTopChanged&&this._viewportStart.invalidate(),this._eventDispatcher.emitSingleViewEvent(new h.ViewScrollChangedEvent(G)),this._eventDispatcher.emitOutgoingEvent(new u.ScrollChangedEvent(G.oldScrollWidth,G.oldScrollLeft,G.oldScrollHeight,G.oldScrollTop,G.scrollWidth,G.scrollLeft,G.scrollHeight,G.scrollTop))})),this._register(this.viewLayout.onDidContentSizeChange(G=>{this._eventDispatcher.emitOutgoingEvent(G)})),this._decorations=new l.ViewModelDecorations(this._editorId,this.model,this._configuration,this._lines,this.coordinatesConverter),this._registerModelEvents(),this._register(this._configuration.onDidChangeFast(G=>{try{const Q=this._eventDispatcher.beginEmitViewEvents();this._onConfigurationChanged(Q,G)}finally{this._eventDispatcher.endEmitViewEvents()}})),this._register(c.MinimapTokensColorTracker.getInstance().onDidChange(()=>{this._eventDispatcher.emitSingleViewEvent(new h.ViewTokensColorsChangedEvent)})),this._register(this._themeService.onDidColorThemeChange(G=>{this._invalidateDecorationsColorCache(),this._eventDispatcher.emitSingleViewEvent(new h.ViewThemeChangedEvent(G))})),this._updateConfigurationViewLineCountNow()}dispose(){super.dispose(),this._decorations.dispose(),this._lines.dispose(),this._viewportStart.dispose(),this._eventDispatcher.dispose()}createLineBreaksComputer(){return this._lines.createLineBreaksComputer()}addViewEventHandler(M){this._eventDispatcher.addViewEventHandler(M)}removeViewEventHandler(M){this._eventDispatcher.removeViewEventHandler(M)}_updateConfigurationViewLineCountNow(){this._configuration.setViewLineCount(this._lines.getViewLineCount())}getModelVisibleRanges(){const M=this.viewLayout.getLinesViewportData(),N=new t.Range(M.startLineNumber,this.getLineMinColumn(M.startLineNumber),M.endLineNumber,this.getLineMaxColumn(M.endLineNumber));return this._toModelVisibleRanges(N)}visibleLinesStabilized(){const M=this.getModelVisibleRanges();this._attachedView.setVisibleLines(M,!0)}_handleVisibleLinesChanged(){const M=this.getModelVisibleRanges();this._attachedView.setVisibleLines(M,!1)}setHasFocus(M){this._hasFocus=M,this._cursor.setHasFocus(M),this._eventDispatcher.emitSingleViewEvent(new h.ViewFocusChangedEvent(M)),this._eventDispatcher.emitOutgoingEvent(new u.FocusChangedEvent(!M,M))}onCompositionStart(){this._eventDispatcher.emitSingleViewEvent(new h.ViewCompositionStartEvent)}onCompositionEnd(){this._eventDispatcher.emitSingleViewEvent(new h.ViewCompositionEndEvent)}_captureStableViewport(){if(this._viewportStart.isValid&&this.viewLayout.getCurrentScrollTop()>0){const M=new s.Position(this._viewportStart.viewLineNumber,this.getLineMinColumn(this._viewportStart.viewLineNumber)),N=this.coordinatesConverter.convertViewPositionToModelPosition(M);return new P(N,this._viewportStart.startLineDelta)}return new P(null,0)}_onConfigurationChanged(M,N){const R=this._captureStableViewport(),F=this._configuration.options,x=F.get(48),W=F.get(135),z=F.get(142),U=F.get(134),O=F.get(126);this._lines.setWrappingSettings(x,W,z.wrappingColumn,U,O)&&(M.emitViewEvent(new h.ViewFlushedEvent),M.emitViewEvent(new h.ViewLineMappingChangedEvent),M.emitViewEvent(new h.ViewDecorationsChangedEvent(null)),this._cursor.onLineMappingChanged(M),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this._updateConfigurationViewLineCount.schedule()),N.hasChanged(88)&&(this._decorations.reset(),M.emitViewEvent(new h.ViewDecorationsChangedEvent(null))),M.emitViewEvent(new h.ViewConfigurationChangedEvent(N)),this.viewLayout.onConfigurationChanged(N),R.recoverViewportStart(this.coordinatesConverter,this.viewLayout),p.CursorConfiguration.shouldRecreate(N)&&(this.cursorConfig=new p.CursorConfiguration(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig))}_registerModelEvents(){this._register(this.model.onDidChangeContentOrInjectedText(M=>{try{const R=this._eventDispatcher.beginEmitViewEvents();let F=!1,x=!1;const W=M instanceof i.InternalModelContentChangeEvent?M.rawContentChangedEvent.changes:M.changes,z=M instanceof i.InternalModelContentChangeEvent?M.rawContentChangedEvent.versionId:null,U=this._lines.createLineBreaksComputer();for(const Q of W)switch(Q.changeType){case 4:{for(let re=0;re<Q.detail.length;re++){const oe=Q.detail[re];let te=Q.injectedTexts[re];te&&(te=te.filter(H=>!H.ownerId||H.ownerId===this._editorId)),U.addRequest(oe,te,null)}break}case 2:{let re=null;Q.injectedText&&(re=Q.injectedText.filter(oe=>!oe.ownerId||oe.ownerId===this._editorId)),U.addRequest(Q.detail,re,null);break}}const O=U.finalize(),G=new L.ArrayQueue(O);for(const Q of W)switch(Q.changeType){case 1:{this._lines.onModelFlushed(),R.emitViewEvent(new h.ViewFlushedEvent),this._decorations.reset(),this.viewLayout.onFlushed(this.getLineCount()),F=!0;break}case 3:{const re=this._lines.onModelLinesDeleted(z,Q.fromLineNumber,Q.toLineNumber);re!==null&&(R.emitViewEvent(re),this.viewLayout.onLinesDeleted(re.fromLineNumber,re.toLineNumber)),F=!0;break}case 4:{const re=G.takeCount(Q.detail.length),oe=this._lines.onModelLinesInserted(z,Q.fromLineNumber,Q.toLineNumber,re);oe!==null&&(R.emitViewEvent(oe),this.viewLayout.onLinesInserted(oe.fromLineNumber,oe.toLineNumber)),F=!0;break}case 2:{const re=G.dequeue(),[oe,te,H,B]=this._lines.onModelLineChanged(z,Q.lineNumber,re);x=oe,te&&R.emitViewEvent(te),H&&(R.emitViewEvent(H),this.viewLayout.onLinesInserted(H.fromLineNumber,H.toLineNumber)),B&&(R.emitViewEvent(B),this.viewLayout.onLinesDeleted(B.fromLineNumber,B.toLineNumber));break}case 5:break}z!==null&&this._lines.acceptVersionId(z),this.viewLayout.onHeightMaybeChanged(),!F&&x&&(R.emitViewEvent(new h.ViewLineMappingChangedEvent),R.emitViewEvent(new h.ViewDecorationsChangedEvent(null)),this._cursor.onLineMappingChanged(R),this._decorations.onLineMappingChanged())}finally{this._eventDispatcher.endEmitViewEvents()}const N=this._viewportStart.isValid;if(this._viewportStart.invalidate(),this._configuration.setModelLineCount(this.model.getLineCount()),this._updateConfigurationViewLineCountNow(),!this._hasFocus&&this.model.getAttachedEditorCount()>=2&&N){const R=this.model._getTrackedRange(this._viewportStart.modelTrackedRange);if(R){const F=this.coordinatesConverter.convertModelPositionToViewPosition(R.getStartPosition()),x=this.viewLayout.getVerticalOffsetForLineNumber(F.lineNumber);this.viewLayout.setScrollPosition({scrollTop:x+this._viewportStart.startLineDelta},1)}}try{const R=this._eventDispatcher.beginEmitViewEvents();M instanceof i.InternalModelContentChangeEvent&&R.emitOutgoingEvent(new u.ModelContentChangedEvent(M.contentChangedEvent)),this._cursor.onModelContentChanged(R,M)}finally{this._eventDispatcher.endEmitViewEvents()}this._handleVisibleLinesChanged()})),this._register(this.model.onDidChangeTokens(M=>{const N=[];for(let R=0,F=M.ranges.length;R<F;R++){const x=M.ranges[R],W=this.coordinatesConverter.convertModelPositionToViewPosition(new s.Position(x.fromLineNumber,1)).lineNumber,z=this.coordinatesConverter.convertModelPositionToViewPosition(new s.Position(x.toLineNumber,this.model.getLineMaxColumn(x.toLineNumber))).lineNumber;N[R]={fromLineNumber:W,toLineNumber:z}}this._eventDispatcher.emitSingleViewEvent(new h.ViewTokensChangedEvent(N)),this._eventDispatcher.emitOutgoingEvent(new u.ModelTokensChangedEvent(M))})),this._register(this.model.onDidChangeLanguageConfiguration(M=>{this._eventDispatcher.emitSingleViewEvent(new h.ViewLanguageConfigurationEvent),this.cursorConfig=new p.CursorConfiguration(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig),this._eventDispatcher.emitOutgoingEvent(new u.ModelLanguageConfigurationChangedEvent(M))})),this._register(this.model.onDidChangeLanguage(M=>{this.cursorConfig=new p.CursorConfiguration(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig),this._eventDispatcher.emitOutgoingEvent(new u.ModelLanguageChangedEvent(M))})),this._register(this.model.onDidChangeOptions(M=>{if(this._lines.setTabSize(this.model.getOptions().tabSize)){try{const N=this._eventDispatcher.beginEmitViewEvents();N.emitViewEvent(new h.ViewFlushedEvent),N.emitViewEvent(new h.ViewLineMappingChangedEvent),N.emitViewEvent(new h.ViewDecorationsChangedEvent(null)),this._cursor.onLineMappingChanged(N),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount())}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule()}this.cursorConfig=new p.CursorConfiguration(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig),this._eventDispatcher.emitOutgoingEvent(new u.ModelOptionsChangedEvent(M))})),this._register(this.model.onDidChangeDecorations(M=>{this._decorations.onModelDecorationsChanged(),this._eventDispatcher.emitSingleViewEvent(new h.ViewDecorationsChangedEvent(M)),this._eventDispatcher.emitOutgoingEvent(new u.ModelDecorationsChangedEvent(M))}))}setHiddenAreas(M,N){this.hiddenAreasModel.setHiddenAreas(N,M);const R=this.hiddenAreasModel.getMergedRanges();if(R===this.previousHiddenAreas)return;this.previousHiddenAreas=R;const F=this._captureStableViewport();let x=!1;try{const W=this._eventDispatcher.beginEmitViewEvents();x=this._lines.setHiddenAreas(R),x&&(W.emitViewEvent(new h.ViewFlushedEvent),W.emitViewEvent(new h.ViewLineMappingChangedEvent),W.emitViewEvent(new h.ViewDecorationsChangedEvent(null)),this._cursor.onLineMappingChanged(W),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this.viewLayout.onHeightMaybeChanged()),F.recoverViewportStart(this.coordinatesConverter,this.viewLayout)}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule(),x&&this._eventDispatcher.emitOutgoingEvent(new u.HiddenAreasChangedEvent)}getVisibleRangesPlusViewportAboveBelow(){const M=this._configuration.options.get(141),N=this._configuration.options.get(64),R=Math.max(20,Math.round(M.height/N)),F=this.viewLayout.getLinesViewportData(),x=Math.max(1,F.completelyVisibleStartLineNumber-R),W=Math.min(this.getLineCount(),F.completelyVisibleEndLineNumber+R);return this._toModelVisibleRanges(new t.Range(x,this.getLineMinColumn(x),W,this.getLineMaxColumn(W)))}getVisibleRanges(){const M=this.getCompletelyVisibleViewRange();return this._toModelVisibleRanges(M)}getHiddenAreas(){return this._lines.getHiddenAreas()}_toModelVisibleRanges(M){const N=this.coordinatesConverter.convertViewRangeToModelRange(M),R=this._lines.getHiddenAreas();if(R.length===0)return[N];const F=[];let x=0,W=N.startLineNumber,z=N.startColumn;const U=N.endLineNumber,O=N.endColumn;for(let G=0,Q=R.length;G<Q;G++){const re=R[G].startLineNumber,oe=R[G].endLineNumber;oe<W||re>U||(W<re&&(F[x++]=new t.Range(W,z,re-1,this.model.getLineMaxColumn(re-1))),W=oe+1,z=1)}return(W<U||W===U&&z<O)&&(F[x++]=new t.Range(W,z,U,O)),F}getCompletelyVisibleViewRange(){const M=this.viewLayout.getLinesViewportData(),N=M.completelyVisibleStartLineNumber,R=M.completelyVisibleEndLineNumber;return new t.Range(N,this.getLineMinColumn(N),R,this.getLineMaxColumn(R))}getCompletelyVisibleViewRangeAtScrollTop(M){const N=this.viewLayout.getLinesViewportDataAtScrollTop(M),R=N.completelyVisibleStartLineNumber,F=N.completelyVisibleEndLineNumber;return new t.Range(R,this.getLineMinColumn(R),F,this.getLineMaxColumn(F))}saveState(){const M=this.viewLayout.saveState(),N=M.scrollTop,R=this.viewLayout.getLineNumberAtVerticalOffset(N),F=this.coordinatesConverter.convertViewPositionToModelPosition(new s.Position(R,this.getLineMinColumn(R))),x=this.viewLayout.getVerticalOffsetForLineNumber(R)-N;return{scrollLeft:M.scrollLeft,firstPosition:F,firstPositionDeltaTop:x}}reduceRestoreState(M){if(typeof M.firstPosition>"u")return this._reduceRestoreStateCompatibility(M);const N=this.model.validatePosition(M.firstPosition),R=this.coordinatesConverter.convertModelPositionToViewPosition(N),F=this.viewLayout.getVerticalOffsetForLineNumber(R.lineNumber)-M.firstPositionDeltaTop;return{scrollLeft:M.scrollLeft,scrollTop:F}}_reduceRestoreStateCompatibility(M){return{scrollLeft:M.scrollLeft,scrollTop:M.scrollTopWithoutViewZones}}getTabSize(){return this.model.getOptions().tabSize}getLineCount(){return this._lines.getViewLineCount()}setViewport(M,N,R){this._viewportStart.update(this,M)}getActiveIndentGuide(M,N,R){return this._lines.getActiveIndentGuide(M,N,R)}getLinesIndentGuides(M,N){return this._lines.getViewLinesIndentGuides(M,N)}getBracketGuidesInRangeByLine(M,N,R,F){return this._lines.getViewLinesBracketGuides(M,N,R,F)}getLineContent(M){return this._lines.getViewLineContent(M)}getLineLength(M){return this._lines.getViewLineLength(M)}getLineMinColumn(M){return this._lines.getViewLineMinColumn(M)}getLineMaxColumn(M){return this._lines.getViewLineMaxColumn(M)}getLineFirstNonWhitespaceColumn(M){const N=m.firstNonWhitespaceIndex(this.getLineContent(M));return N===-1?0:N+1}getLineLastNonWhitespaceColumn(M){const N=m.lastNonWhitespaceIndex(this.getLineContent(M));return N===-1?0:N+2}getMinimapDecorationsInRange(M){return this._decorations.getMinimapDecorationsInRange(M)}getDecorationsInViewport(M){return this._decorations.getDecorationsViewportData(M).decorations}getInjectedTextAt(M){return this._lines.getInjectedTextAt(M)}getViewportViewLineRenderingData(M,N){const F=this._decorations.getDecorationsViewportData(M).inlineDecorations[N-M.startLineNumber];return this._getViewLineRenderingData(N,F)}getViewLineRenderingData(M){const N=this._decorations.getInlineDecorationsOnLine(M);return this._getViewLineRenderingData(M,N)}_getViewLineRenderingData(M,N){const R=this.model.mightContainRTL(),F=this.model.mightContainNonBasicASCII(),x=this.getTabSize(),W=this._lines.getViewLineData(M);return W.inlineDecorations&&(N=[...N,...W.inlineDecorations.map(z=>z.toInlineDecoration(M))]),new a.ViewLineRenderingData(W.minColumn,W.maxColumn,W.content,W.continuesWithWrappedLine,R,F,W.tokens,N,x,W.startVisibleColumn)}getViewLineData(M){return this._lines.getViewLineData(M)}getMinimapLinesRenderingData(M,N,R){const F=this._lines.getViewLinesData(M,N,R);return new a.MinimapLinesRenderingData(this.getTabSize(),F)}getAllOverviewRulerDecorations(M){const N=this.model.getOverviewRulerDecorations(this._editorId,(0,_.filterValidationDecorations)(this._configuration.options)),R=new w;for(const F of N){const x=F.options,W=x.overviewRuler;if(!W)continue;const z=W.position;if(z===0)continue;const U=W.getColor(M.value),O=this.coordinatesConverter.getViewLineNumberOfModelPosition(F.range.startLineNumber,F.range.startColumn),G=this.coordinatesConverter.getViewLineNumberOfModelPosition(F.range.endLineNumber,F.range.endColumn);R.accept(U,x.zIndex,O,G,z)}return R.asArray}_invalidateDecorationsColorCache(){const M=this.model.getOverviewRulerDecorations();for(const N of M){const R=N.options.overviewRuler;R?.invalidateCachedColor();const F=N.options.minimap;F?.invalidateCachedColor()}}getValueInRange(M,N){const R=this.coordinatesConverter.convertViewRangeToModelRange(M);return this.model.getValueInRange(R,N)}getValueLengthInRange(M,N){const R=this.coordinatesConverter.convertViewRangeToModelRange(M);return this.model.getValueLengthInRange(R,N)}modifyPosition(M,N){const R=this.coordinatesConverter.convertViewPositionToModelPosition(M);return this.model.modifyPosition(R,N)}deduceModelPositionRelativeToViewPosition(M,N,R){const F=this.coordinatesConverter.convertViewPositionToModelPosition(M);this.model.getEOL().length===2&&(N<0?N-=R:N+=R);const W=this.model.getOffsetAt(F)+N;return this.model.getPositionAt(W)}getPlainTextToCopy(M,N,R){const F=R?`\r
`:this.model.getEOL();M=M.slice(0),M.sort(t.Range.compareRangesUsingStarts);let x=!1,W=!1;for(const U of M)U.isEmpty()?x=!0:W=!0;if(!W){if(!N)return"";const U=M.map(G=>G.startLineNumber);let O="";for(let G=0;G<U.length;G++)G>0&&U[G-1]===U[G]||(O+=this.model.getLineContent(U[G])+F);return O}if(x&&N){const U=[];let O=0;for(const G of M){const Q=G.startLineNumber;G.isEmpty()?Q!==O&&U.push(this.model.getLineContent(Q)):U.push(this.model.getValueInRange(G,R?2:0)),O=Q}return U.length===1?U[0]:U}const z=[];for(const U of M)U.isEmpty()||z.push(this.model.getValueInRange(U,R?2:0));return z.length===1?z[0]:z}getRichTextToCopy(M,N){const R=this.model.getLanguageId();if(R===r.PLAINTEXT_LANGUAGE_ID||M.length!==1)return null;let F=M[0];if(F.isEmpty()){if(!N)return null;const G=F.startLineNumber;F=new t.Range(G,this.model.getLineMinColumn(G),G,this.model.getLineMaxColumn(G))}const x=this._configuration.options.get(48),W=this._getColorMap(),U=/[:;\\\/<>]/.test(x.fontFamily)||x.fontFamily===_.EDITOR_FONT_DEFAULTS.fontFamily;let O;return U?O=_.EDITOR_FONT_DEFAULTS.fontFamily:(O=x.fontFamily,O=O.replace(/"/g,"'"),/[,']/.test(O)||/[+ ]/.test(O)&&(O=`'${O}'`),O=`${O}, ${_.EDITOR_FONT_DEFAULTS.fontFamily}`),{mode:R,html:`<div style="color: ${W[1]};background-color: ${W[2]};font-family: ${O};font-weight: ${x.fontWeight};font-size: ${x.fontSize}px;line-height: ${x.lineHeight}px;white-space: pre;">`+this._getHTMLToCopy(F,W)+"</div>"}}_getHTMLToCopy(M,N){const R=M.startLineNumber,F=M.startColumn,x=M.endLineNumber,W=M.endColumn,z=this.getTabSize();let U="";for(let O=R;O<=x;O++){const G=this.model.tokenization.getLineTokens(O),Q=G.getLineContent(),re=O===R?F-1:0,oe=O===x?W-1:Q.length;Q===""?U+="<br>":U+=(0,d.tokenizeLineToHTML)(Q,G.inflate(),N,re,oe,z,S.isWindows)}return U}_getColorMap(){const M=o.TokenizationRegistry.getColorMap(),N=["#000000"];if(M)for(let R=1,F=M.length;R<F;R++)N[R]=y.Color.Format.CSS.formatHex(M[R]);return N}getPrimaryCursorState(){return this._cursor.getPrimaryCursorState()}getLastAddedCursorIndex(){return this._cursor.getLastAddedCursorIndex()}getCursorStates(){return this._cursor.getCursorStates()}setCursorStates(M,N,R){return this._withViewEventsCollector(F=>this._cursor.setStates(F,M,N,R))}getCursorColumnSelectData(){return this._cursor.getCursorColumnSelectData()}getCursorAutoClosedCharacters(){return this._cursor.getAutoClosedCharacters()}setCursorColumnSelectData(M){this._cursor.setCursorColumnSelectData(M)}getPrevEditOperationType(){return this._cursor.getPrevEditOperationType()}setPrevEditOperationType(M){this._cursor.setPrevEditOperationType(M)}getSelection(){return this._cursor.getSelection()}getSelections(){return this._cursor.getSelections()}getPosition(){return this._cursor.getPrimaryCursorState().modelState.position}setSelections(M,N,R=0){this._withViewEventsCollector(F=>this._cursor.setSelections(F,M,N,R))}saveCursorState(){return this._cursor.saveState()}restoreCursorState(M){this._withViewEventsCollector(N=>this._cursor.restoreState(N,M))}_executeCursorEdit(M){if(this._cursor.context.cursorConfig.readOnly){this._eventDispatcher.emitOutgoingEvent(new u.ReadOnlyEditAttemptEvent);return}this._withViewEventsCollector(M)}executeEdits(M,N,R){this._executeCursorEdit(F=>this._cursor.executeEdits(F,M,N,R))}startComposition(){this._executeCursorEdit(M=>this._cursor.startComposition(M))}endComposition(M){this._executeCursorEdit(N=>this._cursor.endComposition(N,M))}type(M,N){this._executeCursorEdit(R=>this._cursor.type(R,M,N))}compositionType(M,N,R,F,x){this._executeCursorEdit(W=>this._cursor.compositionType(W,M,N,R,F,x))}paste(M,N,R,F){this._executeCursorEdit(x=>this._cursor.paste(x,M,N,R,F))}cut(M){this._executeCursorEdit(N=>this._cursor.cut(N,M))}executeCommand(M,N){this._executeCursorEdit(R=>this._cursor.executeCommand(R,M,N))}executeCommands(M,N){this._executeCursorEdit(R=>this._cursor.executeCommands(R,M,N))}revealPrimaryCursor(M,N,R=!1){this._withViewEventsCollector(F=>this._cursor.revealPrimary(F,M,R,0,N,0))}revealTopMostCursor(M){const N=this._cursor.getTopMostViewPosition(),R=new t.Range(N.lineNumber,N.column,N.lineNumber,N.column);this._withViewEventsCollector(F=>F.emitViewEvent(new h.ViewRevealRangeRequestEvent(M,!1,R,null,0,!0,0)))}revealBottomMostCursor(M){const N=this._cursor.getBottomMostViewPosition(),R=new t.Range(N.lineNumber,N.column,N.lineNumber,N.column);this._withViewEventsCollector(F=>F.emitViewEvent(new h.ViewRevealRangeRequestEvent(M,!1,R,null,0,!0,0)))}revealRange(M,N,R,F,x){this._withViewEventsCollector(W=>W.emitViewEvent(new h.ViewRevealRangeRequestEvent(M,!1,R,null,F,N,x)))}changeWhitespace(M){this.viewLayout.changeWhitespace(M)&&(this._eventDispatcher.emitSingleViewEvent(new h.ViewZonesChangedEvent),this._eventDispatcher.emitOutgoingEvent(new u.ViewZonesChangedEvent))}_withViewEventsCollector(M){try{const N=this._eventDispatcher.beginEmitViewEvents();return M(N)}finally{this._eventDispatcher.endEmitViewEvents()}}normalizePosition(M,N){return this._lines.normalizePosition(M,N)}getLineIndentColumn(M){return this._lines.getLineIndentColumn(M)}}e.ViewModel=v;class b{static create(M){const N=M._setTrackedRange(null,new t.Range(1,1,1,1),1);return new b(M,1,!1,N,0)}get viewLineNumber(){return this._viewLineNumber}get isValid(){return this._isValid}get modelTrackedRange(){return this._modelTrackedRange}get startLineDelta(){return this._startLineDelta}constructor(M,N,R,F,x){this._model=M,this._viewLineNumber=N,this._isValid=R,this._modelTrackedRange=F,this._startLineDelta=x}dispose(){this._model._setTrackedRange(this._modelTrackedRange,null,1)}update(M,N){const R=M.coordinatesConverter.convertViewPositionToModelPosition(new s.Position(N,M.getLineMinColumn(N))),F=M.model._setTrackedRange(this._modelTrackedRange,new t.Range(R.lineNumber,R.column,R.lineNumber,R.column),1),x=M.viewLayout.getVerticalOffsetForLineNumber(N),W=M.viewLayout.getCurrentScrollTop();this._viewLineNumber=N,this._isValid=!0,this._modelTrackedRange=F,this._startLineDelta=W-x}invalidate(){this._isValid=!1}}class w{constructor(){this._asMap=Object.create(null),this.asArray=[]}accept(M,N,R,F,x){const W=this._asMap[M];if(W){const z=W.data,U=z[z.length-3],O=z[z.length-1];if(U===x&&O+1>=R){F>O&&(z[z.length-1]=F);return}z.push(x,R,F)}else{const z=new a.OverviewRulerDecorationsGroup(M,N,[x,R,F]);this._asMap[M]=z,this.asArray.push(z)}}}class E{constructor(){this.hiddenAreas=new Map,this.shouldRecompute=!1,this.ranges=[]}setHiddenAreas(M,N){const R=this.hiddenAreas.get(M);R&&T(R,N)||(this.hiddenAreas.set(M,N),this.shouldRecompute=!0)}getMergedRanges(){if(!this.shouldRecompute)return this.ranges;this.shouldRecompute=!1;const M=Array.from(this.hiddenAreas.values()).reduce((N,R)=>I(N,R),[]);return T(this.ranges,M)?this.ranges:(this.ranges=M,this.ranges)}}function I(A,M){const N=[];let R=0,F=0;for(;R<A.length&&F<M.length;){const x=A[R],W=M[F];if(x.endLineNumber<W.startLineNumber-1)N.push(A[R++]);else if(W.endLineNumber<x.startLineNumber-1)N.push(M[F++]);else{const z=Math.min(x.startLineNumber,W.startLineNumber),U=Math.max(x.endLineNumber,W.endLineNumber);N.push(new t.Range(z,1,U,1)),R++,F++}}for(;R<A.length;)N.push(A[R++]);for(;F<M.length;)N.push(M[F++]);return N}function T(A,M){if(A.length!==M.length)return!1;for(let N=0;N<A.length;N++)if(!A[N].equalsRange(M[N]))return!1;return!0}class P{constructor(M,N){this.viewportStartModelPosition=M,this.startLineDelta=N}recoverViewportStart(M,N){if(!this.viewportStartModelPosition)return;const R=M.convertModelPositionToViewPosition(this.viewportStartModelPosition),F=N.getVerticalOffsetForLineNumber(R.lineNumber);N.setScrollPosition({scrollTop:F+this.startLineDelta},1)}}}),define(X[163],ee([1,0,601,7,12,6,2,53,745,15,32,839,270,35,81,11,5,24,275,147,22,39,79,33,861,26,13,8,158,44,23,96,18,527,586,180,30,59,19,782,200,779,430]),function(q,e,L,k,y,D,S,m,_,f,p,s,t,i,o,r,d,h,n,c,a,l,u,C,g,v,b,w,E,I,T,P,A,M,N,R,F,x,W,z,U){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorModeContext=e.BooleanEventEmitter=e.CodeEditorWidget=void 0;let O=0;class G{constructor($,V,j,se,ie,Y){this.model=$,this.viewModel=V,this.view=j,this.hasRealView=se,this.listenersToRemove=ie,this.attachedView=Y}dispose(){(0,S.dispose)(this.listenersToRemove),this.model.onBeforeDetached(this.attachedView),this.hasRealView&&this.view.dispose(),this.viewModel.dispose()}}let Q=e.CodeEditorWidget=class Wt extends S.Disposable{get isSimpleWidget(){return this._configuration.isSimpleWidget}constructor($,V,j,se,ie,Y,le,fe,be,we,Ee,Ie){super(),this.languageConfigurationService=Ee,this._deliveryQueue=(0,D.createEventDeliveryQueue)(),this._contributions=this._register(new z.CodeEditorContributions),this._onDidDispose=this._register(new D.Emitter),this.onDidDispose=this._onDidDispose.event,this._onDidChangeModelContent=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelContent=this._onDidChangeModelContent.event,this._onDidChangeModelLanguage=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelLanguage=this._onDidChangeModelLanguage.event,this._onDidChangeModelLanguageConfiguration=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelLanguageConfiguration=this._onDidChangeModelLanguageConfiguration.event,this._onDidChangeModelOptions=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelOptions=this._onDidChangeModelOptions.event,this._onDidChangeModelDecorations=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelDecorations=this._onDidChangeModelDecorations.event,this._onDidChangeModelTokens=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelTokens=this._onDidChangeModelTokens.event,this._onDidChangeConfiguration=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeConfiguration=this._onDidChangeConfiguration.event,this._onDidChangeModel=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeModel=this._onDidChangeModel.event,this._onDidChangeCursorPosition=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeCursorPosition=this._onDidChangeCursorPosition.event,this._onDidChangeCursorSelection=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeCursorSelection=this._onDidChangeCursorSelection.event,this._onDidAttemptReadOnlyEdit=this._register(new oe(this._contributions,this._deliveryQueue)),this.onDidAttemptReadOnlyEdit=this._onDidAttemptReadOnlyEdit.event,this._onDidLayoutChange=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidLayoutChange=this._onDidLayoutChange.event,this._editorTextFocus=this._register(new re({deliveryQueue:this._deliveryQueue})),this.onDidFocusEditorText=this._editorTextFocus.onDidChangeToTrue,this.onDidBlurEditorText=this._editorTextFocus.onDidChangeToFalse,this._editorWidgetFocus=this._register(new re({deliveryQueue:this._deliveryQueue})),this.onDidFocusEditorWidget=this._editorWidgetFocus.onDidChangeToTrue,this.onDidBlurEditorWidget=this._editorWidgetFocus.onDidChangeToFalse,this._onWillType=this._register(new oe(this._contributions,this._deliveryQueue)),this.onWillType=this._onWillType.event,this._onDidType=this._register(new oe(this._contributions,this._deliveryQueue)),this.onDidType=this._onDidType.event,this._onDidCompositionStart=this._register(new oe(this._contributions,this._deliveryQueue)),this.onDidCompositionStart=this._onDidCompositionStart.event,this._onDidCompositionEnd=this._register(new oe(this._contributions,this._deliveryQueue)),this.onDidCompositionEnd=this._onDidCompositionEnd.event,this._onDidPaste=this._register(new oe(this._contributions,this._deliveryQueue)),this.onDidPaste=this._onDidPaste.event,this._onMouseUp=this._register(new oe(this._contributions,this._deliveryQueue)),this.onMouseUp=this._onMouseUp.event,this._onMouseDown=this._register(new oe(this._contributions,this._deliveryQueue)),this.onMouseDown=this._onMouseDown.event,this._onMouseDrag=this._register(new oe(this._contributions,this._deliveryQueue)),this.onMouseDrag=this._onMouseDrag.event,this._onMouseDrop=this._register(new oe(this._contributions,this._deliveryQueue)),this.onMouseDrop=this._onMouseDrop.event,this._onMouseDropCanceled=this._register(new oe(this._contributions,this._deliveryQueue)),this.onMouseDropCanceled=this._onMouseDropCanceled.event,this._onDropIntoEditor=this._register(new oe(this._contributions,this._deliveryQueue)),this.onDropIntoEditor=this._onDropIntoEditor.event,this._onContextMenu=this._register(new oe(this._contributions,this._deliveryQueue)),this.onContextMenu=this._onContextMenu.event,this._onMouseMove=this._register(new oe(this._contributions,this._deliveryQueue)),this.onMouseMove=this._onMouseMove.event,this._onMouseLeave=this._register(new oe(this._contributions,this._deliveryQueue)),this.onMouseLeave=this._onMouseLeave.event,this._onMouseWheel=this._register(new oe(this._contributions,this._deliveryQueue)),this.onMouseWheel=this._onMouseWheel.event,this._onKeyUp=this._register(new oe(this._contributions,this._deliveryQueue)),this.onKeyUp=this._onKeyUp.event,this._onKeyDown=this._register(new oe(this._contributions,this._deliveryQueue)),this.onKeyDown=this._onKeyDown.event,this._onDidContentSizeChange=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._onDidScrollChange=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidScrollChange=this._onDidScrollChange.event,this._onDidChangeViewZones=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeViewZones=this._onDidChangeViewZones.event,this._onDidChangeHiddenAreas=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeHiddenAreas=this._onDidChangeHiddenAreas.event,this._actions=new Map,this._bannerDomNode=null,this._dropIntoEditorDecorations=this.createDecorationsCollection(),ie.willCreateCodeEditor();const ye=Object.assign({},V);this._domElement=$,this._overflowWidgetsDomNode=ye.overflowWidgetsDomNode,delete ye.overflowWidgetsDomNode,this._id=++O,this._decorationTypeKeysToIds={},this._decorationTypeSubtypes={},this._telemetryData=j.telemetryData,this._configuration=this._register(this._createConfiguration(j.isSimpleWidget||!1,ye,we)),this._register(this._configuration.onDidChange(Te=>{this._onDidChangeConfiguration.fire(Te);const pe=this._configuration.options;if(Te.hasChanged(141)){const me=pe.get(141);this._onDidLayoutChange.fire(me)}})),this._contextKeyService=this._register(le.createScoped(this._domElement)),this._notificationService=be,this._codeEditorService=ie,this._commandService=Y,this._themeService=fe,this._register(new te(this,this._contextKeyService)),this._register(new H(this,this._contextKeyService,Ie)),this._instantiationService=se.createChild(new E.ServiceCollection([b.IContextKeyService,this._contextKeyService])),this._modelData=null,this._focusTracker=new B($),this._register(this._focusTracker.onChange(()=>{this._editorWidgetFocus.setValue(this._focusTracker.hasFocus())})),this._contentWidgets={},this._overlayWidgets={},this._glyphMarginWidgets={};let ke;Array.isArray(j.contributions)?ke=j.contributions:ke=f.EditorExtensionsRegistry.getEditorContributions(),this._contributions.initialize(this,ke,this._instantiationService);for(const Te of f.EditorExtensionsRegistry.getEditorActions()){if(this._actions.has(Te.id)){(0,y.onUnexpectedError)(new Error(`Cannot have two actions with the same id ${Te.id}`));continue}const pe=new n.InternalEditorAction(Te.id,Te.label,Te.alias,(0,A.withNullAsUndefined)(Te.precondition),()=>this._instantiationService.invokeFunction(me=>Promise.resolve(Te.runEditorCommand(me,this,null))),this._contextKeyService);this._actions.set(pe.id,pe)}const Ae=()=>!this._configuration.options.get(88)&&this._configuration.options.get(34).enabled;this._register(new k.DragAndDropObserver(this._domElement,{onDragEnter:()=>{},onDragOver:Te=>{if(!Ae())return;const pe=this.getTargetAtClientPoint(Te.clientX,Te.clientY);pe?.position&&this.showDropIndicatorAt(pe.position)},onDrop:Te=>Le(this,void 0,void 0,function*(){if(!Ae()||(this.removeDropIndicator(),!Te.dataTransfer))return;const pe=this.getTargetAtClientPoint(Te.clientX,Te.clientY);pe?.position&&this._onDropIntoEditor.fire({position:pe.position,event:Te})}),onDragLeave:()=>{this.removeDropIndicator()},onDragEnd:()=>{this.removeDropIndicator()}})),this._codeEditorService.addCodeEditor(this)}writeScreenReaderContent($){var V;(V=this._modelData)===null||V===void 0||V.view.writeScreenReaderContent($)}_createConfiguration($,V,j){return new _.EditorConfiguration($,V,this._domElement,j)}getId(){return this.getEditorType()+":"+this._id}getEditorType(){return c.EditorType.ICodeEditor}dispose(){this._codeEditorService.removeCodeEditor(this),this._focusTracker.dispose(),this._actions.clear(),this._contentWidgets={},this._overlayWidgets={},this._removeDecorationTypes(),this._postDetachModelCleanup(this._detachModel()),this._onDidDispose.fire(),super.dispose()}invokeWithinContext($){return this._instantiationService.invokeFunction($)}updateOptions($){this._configuration.updateOptions($||{})}getOptions(){return this._configuration.options}getOption($){return this._configuration.options.get($)}getRawOptions(){return this._configuration.getRawOptions()}getOverflowWidgetsDomNode(){return this._overflowWidgetsDomNode}getConfiguredWordAtPosition($){return this._modelData?R.WordOperations.getWordAtPosition(this._modelData.model,this._configuration.options.get(127),$):null}getValue($=null){if(!this._modelData)return"";const V=!!($&&$.preserveBOM);let j=0;return $&&$.lineEnding&&$.lineEnding===`
`?j=1:$&&$.lineEnding&&$.lineEnding===`\r
`&&(j=2),this._modelData.model.getValue(j,V)}setValue($){this._modelData&&this._modelData.model.setValue($)}getModel(){return this._modelData?this._modelData.model:null}setModel($=null){const V=$;if(this._modelData===null&&V===null||this._modelData&&this._modelData.model===V)return;const j=this.hasTextFocus(),se=this._detachModel();this._attachModel(V),j&&this.hasModel()&&this.focus();const ie={oldModelUrl:se?se.uri:null,newModelUrl:V?V.uri:null};this._removeDecorationTypes(),this._onDidChangeModel.fire(ie),this._postDetachModelCleanup(se),this._contributions.onAfterModelAttached()}_removeDecorationTypes(){if(this._decorationTypeKeysToIds={},this._decorationTypeSubtypes){for(const $ in this._decorationTypeSubtypes){const V=this._decorationTypeSubtypes[$];for(const j in V)this._removeDecorationType($+"-"+j)}this._decorationTypeSubtypes={}}}getVisibleRanges(){return this._modelData?this._modelData.viewModel.getVisibleRanges():[]}getVisibleRangesPlusViewportAboveBelow(){return this._modelData?this._modelData.viewModel.getVisibleRangesPlusViewportAboveBelow():[]}getWhitespaces(){return this._modelData?this._modelData.viewModel.viewLayout.getWhitespaces():[]}static _getVerticalOffsetAfterPosition($,V,j,se){const ie=$.model.validatePosition({lineNumber:V,column:j}),Y=$.viewModel.coordinatesConverter.convertModelPositionToViewPosition(ie);return $.viewModel.viewLayout.getVerticalOffsetAfterLineNumber(Y.lineNumber,se)}getTopForLineNumber($,V=!1){return this._modelData?Wt._getVerticalOffsetForPosition(this._modelData,$,1,V):-1}getTopForPosition($,V){return this._modelData?Wt._getVerticalOffsetForPosition(this._modelData,$,V,!1):-1}static _getVerticalOffsetForPosition($,V,j,se=!1){const ie=$.model.validatePosition({lineNumber:V,column:j}),Y=$.viewModel.coordinatesConverter.convertModelPositionToViewPosition(ie);return $.viewModel.viewLayout.getVerticalOffsetForLineNumber(Y.lineNumber,se)}getBottomForLineNumber($,V=!1){return this._modelData?Wt._getVerticalOffsetAfterPosition(this._modelData,$,1,V):-1}setHiddenAreas($,V){var j;(j=this._modelData)===null||j===void 0||j.viewModel.setHiddenAreas($.map(se=>d.Range.lift(se)),V)}getVisibleColumnFromPosition($){if(!this._modelData)return $.column;const V=this._modelData.model.validatePosition($),j=this._modelData.model.getOptions().tabSize;return o.CursorColumns.visibleColumnFromColumn(this._modelData.model.getLineContent(V.lineNumber),V.column,j)+1}getPosition(){return this._modelData?this._modelData.viewModel.getPosition():null}setPosition($,V="api"){if(this._modelData){if(!r.Position.isIPosition($))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections(V,[{selectionStartLineNumber:$.lineNumber,selectionStartColumn:$.column,positionLineNumber:$.lineNumber,positionColumn:$.column}])}}_sendRevealRange($,V,j,se){if(!this._modelData)return;if(!d.Range.isIRange($))throw new Error("Invalid arguments");const ie=this._modelData.model.validateRange($),Y=this._modelData.viewModel.coordinatesConverter.convertModelRangeToViewRange(ie);this._modelData.viewModel.revealRange("api",j,Y,V,se)}revealLine($,V=0){this._revealLine($,0,V)}revealLineInCenter($,V=0){this._revealLine($,1,V)}revealLineInCenterIfOutsideViewport($,V=0){this._revealLine($,2,V)}revealLineNearTop($,V=0){this._revealLine($,5,V)}_revealLine($,V,j){if(typeof $!="number")throw new Error("Invalid arguments");this._sendRevealRange(new d.Range($,1,$,1),V,!1,j)}revealPosition($,V=0){this._revealPosition($,0,!0,V)}revealPositionInCenter($,V=0){this._revealPosition($,1,!0,V)}revealPositionInCenterIfOutsideViewport($,V=0){this._revealPosition($,2,!0,V)}revealPositionNearTop($,V=0){this._revealPosition($,5,!0,V)}_revealPosition($,V,j,se){if(!r.Position.isIPosition($))throw new Error("Invalid arguments");this._sendRevealRange(new d.Range($.lineNumber,$.column,$.lineNumber,$.column),V,j,se)}getSelection(){return this._modelData?this._modelData.viewModel.getSelection():null}getSelections(){return this._modelData?this._modelData.viewModel.getSelections():null}setSelection($,V="api"){const j=h.Selection.isISelection($),se=d.Range.isIRange($);if(!j&&!se)throw new Error("Invalid arguments");if(j)this._setSelectionImpl($,V);else if(se){const ie={selectionStartLineNumber:$.startLineNumber,selectionStartColumn:$.startColumn,positionLineNumber:$.endLineNumber,positionColumn:$.endColumn};this._setSelectionImpl(ie,V)}}_setSelectionImpl($,V){if(!this._modelData)return;const j=new h.Selection($.selectionStartLineNumber,$.selectionStartColumn,$.positionLineNumber,$.positionColumn);this._modelData.viewModel.setSelections(V,[j])}revealLines($,V,j=0){this._revealLines($,V,0,j)}revealLinesInCenter($,V,j=0){this._revealLines($,V,1,j)}revealLinesInCenterIfOutsideViewport($,V,j=0){this._revealLines($,V,2,j)}revealLinesNearTop($,V,j=0){this._revealLines($,V,5,j)}_revealLines($,V,j,se){if(typeof $!="number"||typeof V!="number")throw new Error("Invalid arguments");this._sendRevealRange(new d.Range($,1,V,1),j,!1,se)}revealRange($,V=0,j=!1,se=!0){this._revealRange($,j?1:0,se,V)}revealRangeInCenter($,V=0){this._revealRange($,1,!0,V)}revealRangeInCenterIfOutsideViewport($,V=0){this._revealRange($,2,!0,V)}revealRangeNearTop($,V=0){this._revealRange($,5,!0,V)}revealRangeNearTopIfOutsideViewport($,V=0){this._revealRange($,6,!0,V)}revealRangeAtTop($,V=0){this._revealRange($,3,!0,V)}_revealRange($,V,j,se){if(!d.Range.isIRange($))throw new Error("Invalid arguments");this._sendRevealRange(d.Range.lift($),V,j,se)}setSelections($,V="api",j=0){if(this._modelData){if(!$||$.length===0)throw new Error("Invalid arguments");for(let se=0,ie=$.length;se<ie;se++)if(!h.Selection.isISelection($[se]))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections(V,$,j)}}getContentWidth(){return this._modelData?this._modelData.viewModel.viewLayout.getContentWidth():-1}getScrollWidth(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollWidth():-1}getScrollLeft(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollLeft():-1}getContentHeight(){return this._modelData?this._modelData.viewModel.viewLayout.getContentHeight():-1}getScrollHeight(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollHeight():-1}getScrollTop(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollTop():-1}setScrollLeft($,V=1){if(this._modelData){if(typeof $!="number")throw new Error("Invalid arguments");this._modelData.viewModel.viewLayout.setScrollPosition({scrollLeft:$},V)}}setScrollTop($,V=1){if(this._modelData){if(typeof $!="number")throw new Error("Invalid arguments");this._modelData.viewModel.viewLayout.setScrollPosition({scrollTop:$},V)}}setScrollPosition($,V=1){this._modelData&&this._modelData.viewModel.viewLayout.setScrollPosition($,V)}hasPendingScrollAnimation(){return this._modelData?this._modelData.viewModel.viewLayout.hasPendingScrollAnimation():!1}saveViewState(){if(!this._modelData)return null;const $=this._contributions.saveViewState(),V=this._modelData.viewModel.saveCursorState(),j=this._modelData.viewModel.saveState();return{cursorState:V,viewState:j,contributionsState:$}}restoreViewState($){if(!this._modelData||!this._modelData.hasRealView)return;const V=$;if(V&&V.cursorState&&V.viewState){const j=V.cursorState;Array.isArray(j)?j.length>0&&this._modelData.viewModel.restoreCursorState(j):this._modelData.viewModel.restoreCursorState([j]),this._contributions.restoreViewState(V.contributionsState||{});const se=this._modelData.viewModel.reduceRestoreState(V.viewState);this._modelData.view.restoreState(se)}}getContribution($){return this._contributions.get($)}getActions(){return Array.from(this._actions.values())}getSupportedActions(){let $=this.getActions();return $=$.filter(V=>V.isSupported()),$}getAction($){return this._actions.get($)||null}trigger($,V,j){switch(j=j||{},V){case"compositionStart":this._startComposition();return;case"compositionEnd":this._endComposition($);return;case"type":{const ie=j;this._type($,ie.text||"");return}case"replacePreviousChar":{const ie=j;this._compositionType($,ie.text||"",ie.replaceCharCnt||0,0,0);return}case"compositionType":{const ie=j;this._compositionType($,ie.text||"",ie.replacePrevCharCnt||0,ie.replaceNextCharCnt||0,ie.positionDelta||0);return}case"paste":{const ie=j;this._paste($,ie.text||"",ie.pasteOnNewLine||!1,ie.multicursorText||null,ie.mode||null);return}case"cut":this._cut($);return}const se=this.getAction(V);if(se){Promise.resolve(se.run(j)).then(void 0,y.onUnexpectedError);return}this._modelData&&(this._triggerEditorCommand($,V,j)||this._triggerCommand(V,j))}_triggerCommand($,V){this._commandService.executeCommand($,V)}_startComposition(){this._modelData&&(this._modelData.viewModel.startComposition(),this._onDidCompositionStart.fire())}_endComposition($){this._modelData&&(this._modelData.viewModel.endComposition($),this._onDidCompositionEnd.fire())}_type($,V){!this._modelData||V.length===0||($==="keyboard"&&this._onWillType.fire(V),this._modelData.viewModel.type(V,$),$==="keyboard"&&this._onDidType.fire(V))}_compositionType($,V,j,se,ie){this._modelData&&this._modelData.viewModel.compositionType(V,j,se,ie,$)}_paste($,V,j,se,ie){if(!this._modelData||V.length===0)return;const Y=this._modelData.viewModel,le=Y.getSelection().getStartPosition();Y.paste(V,j,se,$);const fe=Y.getSelection().getStartPosition();$==="keyboard"&&this._onDidPaste.fire({range:new d.Range(le.lineNumber,le.column,fe.lineNumber,fe.column),languageId:ie})}_cut($){this._modelData&&this._modelData.viewModel.cut($)}_triggerEditorCommand($,V,j){const se=f.EditorExtensionsRegistry.getEditorCommand(V);return se?(j=j||{},j.source=$,this._instantiationService.invokeFunction(ie=>{Promise.resolve(se.runEditorCommand(ie,this,j)).then(void 0,y.onUnexpectedError)}),!0):!1}_getViewModel(){return this._modelData?this._modelData.viewModel:null}pushUndoStop(){return!this._modelData||this._configuration.options.get(88)?!1:(this._modelData.model.pushStackElement(),!0)}popUndoStop(){return!this._modelData||this._configuration.options.get(88)?!1:(this._modelData.model.popStackElement(),!0)}executeEdits($,V,j){if(!this._modelData||this._configuration.options.get(88))return!1;let se;return j?Array.isArray(j)?se=()=>j:se=j:se=()=>null,this._modelData.viewModel.executeEdits($,V,se),!0}executeCommand($,V){this._modelData&&this._modelData.viewModel.executeCommand(V,$)}executeCommands($,V){this._modelData&&this._modelData.viewModel.executeCommands(V,$)}createDecorationsCollection($){return new K(this,$)}changeDecorations($){return this._modelData?this._modelData.model.changeDecorations($,this._id):null}getLineDecorations($){return this._modelData?this._modelData.model.getLineDecorations($,this._id,(0,i.filterValidationDecorations)(this._configuration.options)):null}getDecorationsInRange($){return this._modelData?this._modelData.model.getDecorationsInRange($,this._id,(0,i.filterValidationDecorations)(this._configuration.options)):null}deltaDecorations($,V){return this._modelData?$.length===0&&V.length===0?$:this._modelData.model.deltaDecorations($,V,this._id):[]}removeDecorations($){!this._modelData||$.length===0||this._modelData.model.changeDecorations(V=>{V.deltaDecorations($,[])})}removeDecorationsByType($){const V=this._decorationTypeKeysToIds[$];V&&this.deltaDecorations(V,[]),this._decorationTypeKeysToIds.hasOwnProperty($)&&delete this._decorationTypeKeysToIds[$],this._decorationTypeSubtypes.hasOwnProperty($)&&delete this._decorationTypeSubtypes[$]}getLayoutInfo(){return this._configuration.options.get(141)}createOverviewRuler($){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.createOverviewRuler($)}getContainerDomNode(){return this._domElement}getDomNode(){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.domNode.domNode}delegateVerticalScrollbarPointerDown($){!this._modelData||!this._modelData.hasRealView||this._modelData.view.delegateVerticalScrollbarPointerDown($)}delegateScrollFromMouseWheelEvent($){!this._modelData||!this._modelData.hasRealView||this._modelData.view.delegateScrollFromMouseWheelEvent($)}layout($){this._configuration.observeContainer($),this.render()}focus(){!this._modelData||!this._modelData.hasRealView||this._modelData.view.focus()}hasTextFocus(){return!this._modelData||!this._modelData.hasRealView?!1:this._modelData.view.isFocused()}hasWidgetFocus(){return this._focusTracker&&this._focusTracker.hasFocus()}addContentWidget($){const V={widget:$,position:$.getPosition()};this._contentWidgets.hasOwnProperty($.getId())&&console.warn("Overwriting a content widget with the same id."),this._contentWidgets[$.getId()]=V,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addContentWidget(V)}layoutContentWidget($){const V=$.getId();if(this._contentWidgets.hasOwnProperty(V)){const j=this._contentWidgets[V];j.position=$.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutContentWidget(j)}}removeContentWidget($){const V=$.getId();if(this._contentWidgets.hasOwnProperty(V)){const j=this._contentWidgets[V];delete this._contentWidgets[V],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeContentWidget(j)}}addOverlayWidget($){const V={widget:$,position:$.getPosition()};this._overlayWidgets.hasOwnProperty($.getId())&&console.warn("Overwriting an overlay widget with the same id."),this._overlayWidgets[$.getId()]=V,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addOverlayWidget(V)}layoutOverlayWidget($){const V=$.getId();if(this._overlayWidgets.hasOwnProperty(V)){const j=this._overlayWidgets[V];j.position=$.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutOverlayWidget(j)}}removeOverlayWidget($){const V=$.getId();if(this._overlayWidgets.hasOwnProperty(V)){const j=this._overlayWidgets[V];delete this._overlayWidgets[V],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeOverlayWidget(j)}}addGlyphMarginWidget($){const V={widget:$,position:$.getPosition()};this._glyphMarginWidgets.hasOwnProperty($.getId())&&console.warn("Overwriting a glyph margin widget with the same id."),this._glyphMarginWidgets[$.getId()]=V,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addGlyphMarginWidget(V)}layoutGlyphMarginWidget($){const V=$.getId();if(this._glyphMarginWidgets.hasOwnProperty(V)){const j=this._glyphMarginWidgets[V];j.position=$.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutGlyphMarginWidget(j)}}removeGlyphMarginWidget($){const V=$.getId();if(this._glyphMarginWidgets.hasOwnProperty(V)){const j=this._glyphMarginWidgets[V];delete this._glyphMarginWidgets[V],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeGlyphMarginWidget(j)}}changeViewZones($){!this._modelData||!this._modelData.hasRealView||this._modelData.view.change($)}getTargetAtClientPoint($,V){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.getTargetAtClientPoint($,V)}getScrolledVisiblePosition($){if(!this._modelData||!this._modelData.hasRealView)return null;const V=this._modelData.model.validatePosition($),j=this._configuration.options,se=j.get(141),ie=Wt._getVerticalOffsetForPosition(this._modelData,V.lineNumber,V.column)-this.getScrollTop(),Y=this._modelData.view.getOffsetForColumn(V.lineNumber,V.column)+se.glyphMarginWidth+se.lineNumbersWidth+se.decorationsWidth-this.getScrollLeft();return{top:ie,left:Y,height:j.get(64)}}getOffsetForColumn($,V){return!this._modelData||!this._modelData.hasRealView?-1:this._modelData.view.getOffsetForColumn($,V)}render($=!1){!this._modelData||!this._modelData.hasRealView||this._modelData.view.render(!0,$)}setAriaOptions($){!this._modelData||!this._modelData.hasRealView||this._modelData.view.setAriaOptions($)}applyFontInfo($){(0,x.applyFontInfo)($,this._configuration.options.get(48))}setBanner($,V){this._bannerDomNode&&this._domElement.contains(this._bannerDomNode)&&this._domElement.removeChild(this._bannerDomNode),this._bannerDomNode=$,this._configuration.setReservedHeight($?V:0),this._bannerDomNode&&this._domElement.prepend(this._bannerDomNode)}_attachModel($){if(!$){this._modelData=null;return}const V=[];this._domElement.setAttribute("data-mode-id",$.getLanguageId()),this._configuration.setIsDominatedByLongLines($.isDominatedByLongLines()),this._configuration.setModelLineCount($.getLineCount());const j=$.onBeforeAttached(),se=new g.ViewModel(this._id,this._configuration,$,N.DOMLineBreaksComputerFactory.create(),M.MonospaceLineBreaksComputerFactory.create(this._configuration.options),le=>k.scheduleAtNextAnimationFrame(le),this.languageConfigurationService,this._themeService,j);V.push($.onWillDispose(()=>this.setModel(null))),V.push(se.onEvent(le=>{switch(le.kind){case 0:this._onDidContentSizeChange.fire(le);break;case 1:this._editorTextFocus.setValue(le.hasFocus);break;case 2:this._onDidScrollChange.fire(le);break;case 3:this._onDidChangeViewZones.fire();break;case 4:this._onDidChangeHiddenAreas.fire();break;case 5:this._onDidAttemptReadOnlyEdit.fire();break;case 6:{if(le.reachedMaxCursorCount){const Ee=this.getOption(77),Ie=L.localize(0,null,Ee);this._notificationService.prompt(I.Severity.Warning,Ie,[{label:"Find and Replace",run:()=>{this._commandService.executeCommand("editor.action.startFindReplaceAction")}},{label:L.localize(1,null),run:()=>{this._commandService.executeCommand("workbench.action.openSettings2",{query:"editor.multiCursorLimit"})}}])}const fe=[];for(let Ee=0,Ie=le.selections.length;Ee<Ie;Ee++)fe[Ee]=le.selections[Ee].getPosition();const be={position:fe[0],secondaryPositions:fe.slice(1),reason:le.reason,source:le.source};this._onDidChangeCursorPosition.fire(be);const we={selection:le.selections[0],secondarySelections:le.selections.slice(1),modelVersionId:le.modelVersionId,oldSelections:le.oldSelections,oldModelVersionId:le.oldModelVersionId,source:le.source,reason:le.reason};this._onDidChangeCursorSelection.fire(we);break}case 7:this._onDidChangeModelDecorations.fire(le.event);break;case 8:this._domElement.setAttribute("data-mode-id",$.getLanguageId()),this._onDidChangeModelLanguage.fire(le.event);break;case 9:this._onDidChangeModelLanguageConfiguration.fire(le.event);break;case 10:this._onDidChangeModelContent.fire(le.event);break;case 11:this._onDidChangeModelOptions.fire(le.event);break;case 12:this._onDidChangeModelTokens.fire(le.event);break}}));const[ie,Y]=this._createView(se);if(Y){this._domElement.appendChild(ie.domNode.domNode);let le=Object.keys(this._contentWidgets);for(let fe=0,be=le.length;fe<be;fe++){const we=le[fe];ie.addContentWidget(this._contentWidgets[we])}le=Object.keys(this._overlayWidgets);for(let fe=0,be=le.length;fe<be;fe++){const we=le[fe];ie.addOverlayWidget(this._overlayWidgets[we])}le=Object.keys(this._glyphMarginWidgets);for(let fe=0,be=le.length;fe<be;fe++){const we=le[fe];ie.addGlyphMarginWidget(this._glyphMarginWidgets[we])}ie.render(!1,!0),ie.domNode.domNode.setAttribute("data-uri",$.uri.toString())}this._modelData=new G($,se,ie,Y,V,j)}_createView($){let V;this.isSimpleWidget?V={paste:(ie,Y,le,fe)=>{this._paste("keyboard",ie,Y,le,fe)},type:ie=>{this._type("keyboard",ie)},compositionType:(ie,Y,le,fe)=>{this._compositionType("keyboard",ie,Y,le,fe)},startComposition:()=>{this._startComposition()},endComposition:()=>{this._endComposition("keyboard")},cut:()=>{this._cut("keyboard")}}:V={paste:(ie,Y,le,fe)=>{const be={text:ie,pasteOnNewLine:Y,multicursorText:le,mode:fe};this._commandService.executeCommand("paste",be)},type:ie=>{const Y={text:ie};this._commandService.executeCommand("type",Y)},compositionType:(ie,Y,le,fe)=>{if(le||fe){const be={text:ie,replacePrevCharCnt:Y,replaceNextCharCnt:le,positionDelta:fe};this._commandService.executeCommand("compositionType",be)}else{const be={text:ie,replaceCharCnt:Y};this._commandService.executeCommand("replacePreviousChar",be)}},startComposition:()=>{this._commandService.executeCommand("compositionStart",{})},endComposition:()=>{this._commandService.executeCommand("compositionEnd",{})},cut:()=>{this._commandService.executeCommand("cut",{})}};const j=new t.ViewUserInputEvents($.coordinatesConverter);return j.onKeyDown=ie=>this._onKeyDown.fire(ie),j.onKeyUp=ie=>this._onKeyUp.fire(ie),j.onContextMenu=ie=>this._onContextMenu.fire(ie),j.onMouseMove=ie=>this._onMouseMove.fire(ie),j.onMouseLeave=ie=>this._onMouseLeave.fire(ie),j.onMouseDown=ie=>this._onMouseDown.fire(ie),j.onMouseUp=ie=>this._onMouseUp.fire(ie),j.onMouseDrag=ie=>this._onMouseDrag.fire(ie),j.onMouseDrop=ie=>this._onMouseDrop.fire(ie),j.onMouseDropCanceled=ie=>this._onMouseDropCanceled.fire(ie),j.onMouseWheel=ie=>this._onMouseWheel.fire(ie),[new s.View(V,this._configuration,this._themeService.getColorTheme(),$,j,this._overflowWidgetsDomNode),!0]}_postDetachModelCleanup($){$?.removeAllDecorationsWithOwnerId(this._id)}_detachModel(){if(!this._modelData)return null;const $=this._modelData.model,V=this._modelData.hasRealView?this._modelData.view.domNode.domNode:null;return this._modelData.dispose(),this._modelData=null,this._domElement.removeAttribute("data-mode-id"),V&&this._domElement.contains(V)&&this._domElement.removeChild(V),this._bannerDomNode&&this._domElement.contains(this._bannerDomNode)&&this._domElement.removeChild(this._bannerDomNode),$}_removeDecorationType($){this._codeEditorService.removeDecorationType($)}hasModel(){return this._modelData!==null}showDropIndicatorAt($){const V=[{range:new d.Range($.lineNumber,$.column,$.lineNumber,$.column),options:Wt.dropIntoEditorDecorationOptions}];this._dropIntoEditorDecorations.set(V),this.revealPosition($,1)}removeDropIndicator(){this._dropIntoEditorDecorations.clear()}};Q.dropIntoEditorDecorationOptions=l.ModelDecorationOptions.register({description:"workbench-dnd-target",className:"dnd-target"}),e.CodeEditorWidget=Q=Ne([ge(3,w.IInstantiationService),ge(4,p.ICodeEditorService),ge(5,v.ICommandService),ge(6,b.IContextKeyService),ge(7,T.IThemeService),ge(8,I.INotificationService),ge(9,P.IAccessibilityService),ge(10,F.ILanguageConfigurationService),ge(11,W.ILanguageFeaturesService)],Q);class re extends S.Disposable{constructor($){super(),this._emitterOptions=$,this._onDidChangeToTrue=this._register(new D.Emitter(this._emitterOptions)),this.onDidChangeToTrue=this._onDidChangeToTrue.event,this._onDidChangeToFalse=this._register(new D.Emitter(this._emitterOptions)),this.onDidChangeToFalse=this._onDidChangeToFalse.event,this._value=0}setValue($){const V=$?2:1;this._value!==V&&(this._value=V,this._value===2?this._onDidChangeToTrue.fire():this._value===1&&this._onDidChangeToFalse.fire())}}e.BooleanEventEmitter=re;class oe extends D.Emitter{constructor($,V){super({deliveryQueue:V}),this._contributions=$}fire($){this._contributions.onBeforeInteractionEvent(),super.fire($)}}class te extends S.Disposable{constructor($,V){super(),this._editor=$,V.createKey("editorId",$.getId()),this._editorSimpleInput=a.EditorContextKeys.editorSimpleInput.bindTo(V),this._editorFocus=a.EditorContextKeys.focus.bindTo(V),this._textInputFocus=a.EditorContextKeys.textInputFocus.bindTo(V),this._editorTextFocus=a.EditorContextKeys.editorTextFocus.bindTo(V),this._editorTabMovesFocus=a.EditorContextKeys.tabMovesFocus.bindTo(V),this._editorReadonly=a.EditorContextKeys.readOnly.bindTo(V),this._inDiffEditor=a.EditorContextKeys.inDiffEditor.bindTo(V),this._editorColumnSelection=a.EditorContextKeys.columnSelection.bindTo(V),this._hasMultipleSelections=a.EditorContextKeys.hasMultipleSelections.bindTo(V),this._hasNonEmptySelection=a.EditorContextKeys.hasNonEmptySelection.bindTo(V),this._canUndo=a.EditorContextKeys.canUndo.bindTo(V),this._canRedo=a.EditorContextKeys.canRedo.bindTo(V),this._register(this._editor.onDidChangeConfiguration(()=>this._updateFromConfig())),this._register(this._editor.onDidChangeCursorSelection(()=>this._updateFromSelection())),this._register(this._editor.onDidFocusEditorWidget(()=>this._updateFromFocus())),this._register(this._editor.onDidBlurEditorWidget(()=>this._updateFromFocus())),this._register(this._editor.onDidFocusEditorText(()=>this._updateFromFocus())),this._register(this._editor.onDidBlurEditorText(()=>this._updateFromFocus())),this._register(this._editor.onDidChangeModel(()=>this._updateFromModel())),this._register(this._editor.onDidChangeConfiguration(()=>this._updateFromModel())),this._register(U.TabFocus.onDidChangeTabFocus(()=>this._editorTabMovesFocus.set(U.TabFocus.getTabFocusMode("editorFocus")))),this._updateFromConfig(),this._updateFromSelection(),this._updateFromFocus(),this._updateFromModel(),this._editorSimpleInput.set(this._editor.isSimpleWidget)}_updateFromConfig(){const $=this._editor.getOptions();this._editorTabMovesFocus.set(U.TabFocus.getTabFocusMode("editorFocus")),this._editorReadonly.set($.get(88)),this._inDiffEditor.set($.get(59)),this._editorColumnSelection.set($.get(20))}_updateFromSelection(){const $=this._editor.getSelections();$?(this._hasMultipleSelections.set($.length>1),this._hasNonEmptySelection.set($.some(V=>!V.isEmpty()))):(this._hasMultipleSelections.reset(),this._hasNonEmptySelection.reset())}_updateFromFocus(){this._editorFocus.set(this._editor.hasWidgetFocus()&&!this._editor.isSimpleWidget),this._editorTextFocus.set(this._editor.hasTextFocus()&&!this._editor.isSimpleWidget),this._textInputFocus.set(this._editor.hasTextFocus())}_updateFromModel(){const $=this._editor.getModel();this._canUndo.set(!!($&&$.canUndo())),this._canRedo.set(!!($&&$.canRedo()))}}class H extends S.Disposable{constructor($,V,j){super(),this._editor=$,this._contextKeyService=V,this._languageFeaturesService=j,this._langId=a.EditorContextKeys.languageId.bindTo(V),this._hasCompletionItemProvider=a.EditorContextKeys.hasCompletionItemProvider.bindTo(V),this._hasCodeActionsProvider=a.EditorContextKeys.hasCodeActionsProvider.bindTo(V),this._hasCodeLensProvider=a.EditorContextKeys.hasCodeLensProvider.bindTo(V),this._hasDefinitionProvider=a.EditorContextKeys.hasDefinitionProvider.bindTo(V),this._hasDeclarationProvider=a.EditorContextKeys.hasDeclarationProvider.bindTo(V),this._hasImplementationProvider=a.EditorContextKeys.hasImplementationProvider.bindTo(V),this._hasTypeDefinitionProvider=a.EditorContextKeys.hasTypeDefinitionProvider.bindTo(V),this._hasHoverProvider=a.EditorContextKeys.hasHoverProvider.bindTo(V),this._hasDocumentHighlightProvider=a.EditorContextKeys.hasDocumentHighlightProvider.bindTo(V),this._hasDocumentSymbolProvider=a.EditorContextKeys.hasDocumentSymbolProvider.bindTo(V),this._hasReferenceProvider=a.EditorContextKeys.hasReferenceProvider.bindTo(V),this._hasRenameProvider=a.EditorContextKeys.hasRenameProvider.bindTo(V),this._hasSignatureHelpProvider=a.EditorContextKeys.hasSignatureHelpProvider.bindTo(V),this._hasInlayHintsProvider=a.EditorContextKeys.hasInlayHintsProvider.bindTo(V),this._hasDocumentFormattingProvider=a.EditorContextKeys.hasDocumentFormattingProvider.bindTo(V),this._hasDocumentSelectionFormattingProvider=a.EditorContextKeys.hasDocumentSelectionFormattingProvider.bindTo(V),this._hasMultipleDocumentFormattingProvider=a.EditorContextKeys.hasMultipleDocumentFormattingProvider.bindTo(V),this._hasMultipleDocumentSelectionFormattingProvider=a.EditorContextKeys.hasMultipleDocumentSelectionFormattingProvider.bindTo(V),this._isInWalkThrough=a.EditorContextKeys.isInWalkThroughSnippet.bindTo(V);const se=()=>this._update();this._register($.onDidChangeModel(se)),this._register($.onDidChangeModelLanguage(se)),this._register(j.completionProvider.onDidChange(se)),this._register(j.codeActionProvider.onDidChange(se)),this._register(j.codeLensProvider.onDidChange(se)),this._register(j.definitionProvider.onDidChange(se)),this._register(j.declarationProvider.onDidChange(se)),this._register(j.implementationProvider.onDidChange(se)),this._register(j.typeDefinitionProvider.onDidChange(se)),this._register(j.hoverProvider.onDidChange(se)),this._register(j.documentHighlightProvider.onDidChange(se)),this._register(j.documentSymbolProvider.onDidChange(se)),this._register(j.referenceProvider.onDidChange(se)),this._register(j.renameProvider.onDidChange(se)),this._register(j.documentFormattingEditProvider.onDidChange(se)),this._register(j.documentRangeFormattingEditProvider.onDidChange(se)),this._register(j.signatureHelpProvider.onDidChange(se)),this._register(j.inlayHintsProvider.onDidChange(se)),se()}dispose(){super.dispose()}reset(){this._contextKeyService.bufferChangeEvents(()=>{this._langId.reset(),this._hasCompletionItemProvider.reset(),this._hasCodeActionsProvider.reset(),this._hasCodeLensProvider.reset(),this._hasDefinitionProvider.reset(),this._hasDeclarationProvider.reset(),this._hasImplementationProvider.reset(),this._hasTypeDefinitionProvider.reset(),this._hasHoverProvider.reset(),this._hasDocumentHighlightProvider.reset(),this._hasDocumentSymbolProvider.reset(),this._hasReferenceProvider.reset(),this._hasRenameProvider.reset(),this._hasDocumentFormattingProvider.reset(),this._hasDocumentSelectionFormattingProvider.reset(),this._hasSignatureHelpProvider.reset(),this._isInWalkThrough.reset()})}_update(){const $=this._editor.getModel();if(!$){this.reset();return}this._contextKeyService.bufferChangeEvents(()=>{this._langId.set($.getLanguageId()),this._hasCompletionItemProvider.set(this._languageFeaturesService.completionProvider.has($)),this._hasCodeActionsProvider.set(this._languageFeaturesService.codeActionProvider.has($)),this._hasCodeLensProvider.set(this._languageFeaturesService.codeLensProvider.has($)),this._hasDefinitionProvider.set(this._languageFeaturesService.definitionProvider.has($)),this._hasDeclarationProvider.set(this._languageFeaturesService.declarationProvider.has($)),this._hasImplementationProvider.set(this._languageFeaturesService.implementationProvider.has($)),this._hasTypeDefinitionProvider.set(this._languageFeaturesService.typeDefinitionProvider.has($)),this._hasHoverProvider.set(this._languageFeaturesService.hoverProvider.has($)),this._hasDocumentHighlightProvider.set(this._languageFeaturesService.documentHighlightProvider.has($)),this._hasDocumentSymbolProvider.set(this._languageFeaturesService.documentSymbolProvider.has($)),this._hasReferenceProvider.set(this._languageFeaturesService.referenceProvider.has($)),this._hasRenameProvider.set(this._languageFeaturesService.renameProvider.has($)),this._hasSignatureHelpProvider.set(this._languageFeaturesService.signatureHelpProvider.has($)),this._hasInlayHintsProvider.set(this._languageFeaturesService.inlayHintsProvider.has($)),this._hasDocumentFormattingProvider.set(this._languageFeaturesService.documentFormattingEditProvider.has($)||this._languageFeaturesService.documentRangeFormattingEditProvider.has($)),this._hasDocumentSelectionFormattingProvider.set(this._languageFeaturesService.documentRangeFormattingEditProvider.has($)),this._hasMultipleDocumentFormattingProvider.set(this._languageFeaturesService.documentFormattingEditProvider.all($).length+this._languageFeaturesService.documentRangeFormattingEditProvider.all($).length>1),this._hasMultipleDocumentSelectionFormattingProvider.set(this._languageFeaturesService.documentRangeFormattingEditProvider.all($).length>1),this._isInWalkThrough.set($.uri.scheme===m.Schemas.walkThroughSnippet)})}}e.EditorModeContext=H;class B extends S.Disposable{constructor($){super(),this._onChange=this._register(new D.Emitter),this.onChange=this._onChange.event,this._hasFocus=!1,this._domFocusTracker=this._register(k.trackFocus($)),this._register(this._domFocusTracker.onDidFocus(()=>{this._hasFocus=!0,this._onChange.fire(void 0)})),this._register(this._domFocusTracker.onDidBlur(()=>{this._hasFocus=!1,this._onChange.fire(void 0)}))}hasFocus(){return this._hasFocus}}class K{get length(){return this._decorationIds.length}constructor($,V){this._editor=$,this._decorationIds=[],this._isChangingDecorations=!1,Array.isArray(V)&&V.length>0&&this.set(V)}onDidChange($,V,j){return this._editor.onDidChangeModelDecorations(se=>{this._isChangingDecorations||$.call(V,se)},j)}getRange($){return!this._editor.hasModel()||$>=this._decorationIds.length?null:this._editor.getModel().getDecorationRange(this._decorationIds[$])}getRanges(){if(!this._editor.hasModel())return[];const $=this._editor.getModel(),V=[];for(const j of this._decorationIds){const se=$.getDecorationRange(j);se&&V.push(se)}return V}has($){return this._decorationIds.includes($.id)}clear(){this._decorationIds.length!==0&&this.set([])}set($){try{this._isChangingDecorations=!0,this._editor.changeDecorations(V=>{this._decorationIds=V.deltaDecorations(this._decorationIds,$)})}finally{this._isChangingDecorations=!1}return this._decorationIds}}const Z=encodeURIComponent("<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 6 3' enable-background='new 0 0 6 3' height='3' width='6'><g fill='"),J=encodeURIComponent("'><polygon points='5.5,0 2.5,3 1.1,3 4.1,0'/><polygon points='4,0 6,2 6,0.6 5.4,0'/><polygon points='0,2 1,3 2.4,3 0,0.6'/></g></svg>");function ne(ce){return Z+encodeURIComponent(ce.toString())+J}const he=encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" height="3" width="12"><g fill="'),de=encodeURIComponent('"><circle cx="1" cy="1" r="1"/><circle cx="5" cy="1" r="1"/><circle cx="9" cy="1" r="1"/></g></svg>');function ae(ce){return he+encodeURIComponent(ce.toString())+de}(0,T.registerThemingParticipant)((ce,$)=>{const V=ce.getColor(C.editorErrorForeground);V&&$.addRule(`.monaco-editor .squiggly-error { background: url("data:image/svg+xml,${ne(V)}") repeat-x bottom left; }`);const j=ce.getColor(C.editorWarningForeground);j&&$.addRule(`.monaco-editor .squiggly-warning { background: url("data:image/svg+xml,${ne(j)}") repeat-x bottom left; }`);const se=ce.getColor(C.editorInfoForeground);se&&$.addRule(`.monaco-editor .squiggly-info { background: url("data:image/svg+xml,${ne(se)}") repeat-x bottom left; }`);const ie=ce.getColor(C.editorHintForeground);ie&&$.addRule(`.monaco-editor .squiggly-hint { background: url("data:image/svg+xml,${ae(ie)}") no-repeat bottom left; }`);const Y=ce.getColor(u.editorUnnecessaryCodeOpacity);Y&&$.addRule(`.monaco-editor.showUnused .squiggly-inline-unnecessary { opacity: ${Y.rgba.a}; }`)})}),define(X[253],ee([1,0,7,34,89,175,130,84,14,25,12,6,55,2,27,59,199,15,32,108,163,238,349,613,343,35,11,5,92,147,22,39,127,94,66,211,603,95,13,57,8,158,44,83,33,61,23,428]),function(q,e,L,k,y,D,S,m,_,f,p,s,t,i,o,r,d,h,n,c,a,l,u,C,g,v,b,w,E,I,T,P,A,M,N,R,F,x,W,z,U,O,G,Q,re,oe,te){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiffEditorWidget=e.diffEditorWidgetTtPolicy=void 0;class H{constructor(pe,me){this._contextMenuService=pe,this._clipboardService=me,this._zones=[],this._inlineDiffMargins=[],this._zonesMap={},this._decorations=[]}getForeignViewZones(pe){return pe.filter(me=>!this._zonesMap[String(me.id)])}clean(pe){this._zones.length>0&&pe.changeViewZones(me=>{for(const Se of this._zones)me.removeZone(Se)}),this._zones=[],this._zonesMap={},pe.changeDecorations(me=>{this._decorations=me.deltaDecorations(this._decorations,[])})}apply(pe,me,Se,ue){const Ce=ue?c.StableEditorScrollState.capture(pe):null;pe.changeViewZones(ve=>{var _e;for(const De of this._zones)ve.removeZone(De);for(const De of this._inlineDiffMargins)De.dispose();this._zones=[],this._zonesMap={},this._inlineDiffMargins=[];for(let De=0,Re=Se.zones.length;De<Re;De++){const Pe=Se.zones[De];Pe.suppressMouseDown=!0,Pe.showInHiddenAreas=!0;const Fe=ve.addZone(Pe);this._zones.push(Fe),this._zonesMap[String(Fe)]=!0,Se.zones[De].diff&&Pe.marginDomNode&&(Pe.suppressMouseDown=!1,((_e=Se.zones[De].diff)===null||_e===void 0?void 0:_e.originalModel.getValueLength())!==0&&this._inlineDiffMargins.push(new C.InlineDiffMargin(Fe,Pe.marginDomNode,pe,Se.zones[De].diff,this._contextMenuService,this._clipboardService)))}}),Ce?.restore(pe),pe.changeDecorations(ve=>{this._decorations=ve.deltaDecorations(this._decorations,Se.decorations)}),me?.setZones(Se.overviewZones)}}let B=0;const K=(0,oe.registerIcon)("diff-insert",f.Codicon.add,F.localize(0,null)),Z=(0,oe.registerIcon)("diff-remove",f.Codicon.remove,F.localize(1,null));e.diffEditorWidgetTtPolicy=(0,y.createTrustedTypesPolicy)("diffEditorWidget",{createHTML:Te=>Te});const J=F.localize(2,null);let ne=e.DiffEditorWidget=class gt extends i.Disposable{constructor(pe,me,Se,ue,Ce,ve,_e,De,Re,Pe,Fe){super(),this._editorProgressService=Fe,this._onDidDispose=this._register(new s.Emitter),this.onDidDispose=this._onDidDispose.event,this._onDidChangeModel=this._register(new s.Emitter),this.onDidChangeModel=this._onDidChangeModel.event,this._onDidUpdateDiff=this._register(new s.Emitter),this.onDidUpdateDiff=this._onDidUpdateDiff.event,this._onDidContentSizeChange=this._register(new s.Emitter),this._lastOriginalWarning=null,this._lastModifiedWarning=null,_e.willCreateDiffEditor(),this._documentDiffProvider=this._register(ve.createInstance(g.WorkerBasedDocumentDiffProvider,me)),this._register(this._documentDiffProvider.onDidChange(xe=>this._beginUpdateDecorationsSoon())),this._codeEditorService=_e,this._contextKeyService=this._register(Ce.createScoped(pe)),this._instantiationService=ve.createChild(new O.ServiceCollection([W.IContextKeyService,this._contextKeyService])),this._contextKeyService.createKey("isInDiffEditor",!0),this._themeService=De,this._notificationService=Re,this._id=++B,this._state=0,this._updatingDiffProgress=null,this._domElement=pe,me=me||{},this._options=ke(me,{enableSplitViewResizing:!0,splitViewDefaultRatio:.5,renderSideBySide:!0,renderMarginRevertIcon:!0,maxComputationTime:5e3,maxFileSize:50,ignoreTrimWhitespace:!0,renderIndicators:!0,originalEditable:!1,diffCodeLens:!1,renderOverviewRuler:!0,diffWordWrap:"inherit",diffAlgorithm:"advanced",accessibilityVerbose:!1,experimental:{collapseUnchangedRegions:!1},isInEmbeddedEditor:!1}),this.isEmbeddedDiffEditorKey=T.EditorContextKeys.isEmbeddedDiffEditor.bindTo(this._contextKeyService),this.isEmbeddedDiffEditorKey.set(typeof me.isInEmbeddedEditor<"u"?me.isInEmbeddedEditor:!1),this._updateDecorationsRunner=this._register(new _.RunOnceScheduler(()=>this._updateDecorations(),0)),this._containerDomElement=document.createElement("div"),this._containerDomElement.className=gt._getClassName(this._themeService.getColorTheme(),this._options.renderSideBySide),this._containerDomElement.style.position="relative",this._containerDomElement.style.height="100%",this._domElement.appendChild(this._containerDomElement),this._overviewViewportDomElement=(0,k.createFastDomNode)(document.createElement("div")),this._overviewViewportDomElement.setClassName("diffViewport"),this._overviewViewportDomElement.setPosition("absolute"),this._overviewDomElement=document.createElement("div"),this._overviewDomElement.className="diffOverview",this._overviewDomElement.style.position="absolute",this._overviewDomElement.appendChild(this._overviewViewportDomElement.domNode),this._register(L.addStandardDisposableListener(this._overviewDomElement,L.EventType.POINTER_DOWN,xe=>{this._modifiedEditor.delegateVerticalScrollbarPointerDown(xe)})),this._register(L.addDisposableListener(this._overviewDomElement,L.EventType.MOUSE_WHEEL,xe=>{this._modifiedEditor.delegateScrollFromMouseWheelEvent(xe)},{passive:!1})),this._options.renderOverviewRuler&&this._containerDomElement.appendChild(this._overviewDomElement),this._originalDomNode=document.createElement("div"),this._originalDomNode.className="editor original",this._originalDomNode.style.position="absolute",this._originalDomNode.style.height="100%",this._containerDomElement.appendChild(this._originalDomNode),this._modifiedDomNode=document.createElement("div"),this._modifiedDomNode.className="editor modified",this._modifiedDomNode.style.position="absolute",this._modifiedDomNode.style.height="100%",this._containerDomElement.appendChild(this._modifiedDomNode),this._beginUpdateDecorationsTimeout=-1,this._currentlyChangingViewZones=!1,this._diffComputationToken=0,this._originalEditorState=new H(Pe,ue),this._modifiedEditorState=new H(Pe,ue),this._isVisible=!0,this._isHandlingScrollEvent=!1,this._elementSizeObserver=this._register(new d.ElementSizeObserver(this._containerDomElement,me.dimension)),this._register(this._elementSizeObserver.onDidChange(()=>this._onDidContainerSizeChanged())),me.automaticLayout&&this._elementSizeObserver.startObserving(),this._diffComputationResult=null,this._originalEditor=this._createLeftHandSideEditor(me,Se.originalEditor||{}),this._modifiedEditor=this._createRightHandSideEditor(me,Se.modifiedEditor||{}),this._originalOverviewRuler=null,this._modifiedOverviewRuler=null,this._reviewPane=ve.createInstance(u.DiffReview,this),this._containerDomElement.appendChild(this._reviewPane.domNode.domNode),this._containerDomElement.appendChild(this._reviewPane.shadow.domNode),this._containerDomElement.appendChild(this._reviewPane.actionBarContainer.domNode),this._options.renderSideBySide?this._setStrategy(new V(this._createDataSource(),this._options.enableSplitViewResizing,this._options.splitViewDefaultRatio)):this._setStrategy(new se(this._createDataSource(),this._options.enableSplitViewResizing)),this._register(De.onDidColorThemeChange(xe=>{this._strategy&&this._strategy.applyColors(xe)&&this._updateDecorationsRunner.schedule(),this._containerDomElement.className=gt._getClassName(this._themeService.getColorTheme(),this._options.renderSideBySide)}));const We=h.EditorExtensionsRegistry.getDiffEditorContributions();for(const xe of We)try{this._register(ve.createInstance(xe.ctor,this))}catch(Ke){(0,p.onUnexpectedError)(Ke)}this._codeEditorService.addDiffEditor(this)}_setState(pe){this._state!==pe&&(this._state=pe,this._updatingDiffProgress&&(this._updatingDiffProgress.done(),this._updatingDiffProgress=null),this._state===1&&(this._updatingDiffProgress=this._editorProgressService.show(!0,1e3)))}diffReviewNext(){this._reviewPane.next()}diffReviewPrev(){this._reviewPane.prev()}static _getClassName(pe,me){let Se="monaco-diff-editor monaco-editor-background ";return me&&(Se+="side-by-side "),Se+=(0,te.getThemeTypeSelector)(pe.type),Se}_disposeOverviewRulers(){this._originalOverviewRuler&&(this._overviewDomElement.removeChild(this._originalOverviewRuler.getDomNode()),this._originalOverviewRuler.dispose(),this._originalOverviewRuler=null),this._modifiedOverviewRuler&&(this._overviewDomElement.removeChild(this._modifiedOverviewRuler.getDomNode()),this._modifiedOverviewRuler.dispose(),this._modifiedOverviewRuler=null)}_createOverviewRulers(){this._options.renderOverviewRuler&&(m.ok(!this._originalOverviewRuler&&!this._modifiedOverviewRuler),this._originalEditor.hasModel()&&(this._originalOverviewRuler=this._originalEditor.createOverviewRuler("original diffOverviewRuler"),this._overviewDomElement.appendChild(this._originalOverviewRuler.getDomNode())),this._modifiedEditor.hasModel()&&(this._modifiedOverviewRuler=this._modifiedEditor.createOverviewRuler("modified diffOverviewRuler"),this._overviewDomElement.appendChild(this._modifiedOverviewRuler.getDomNode())),this._layoutOverviewRulers())}_createLeftHandSideEditor(pe,me){const Se=this._createInnerEditor(this._instantiationService,this._originalDomNode,this._adjustOptionsForLeftHandSide(pe),me);this._register(Se.onDidScrollChange(Ce=>{this._isHandlingScrollEvent||!Ce.scrollTopChanged&&!Ce.scrollLeftChanged&&!Ce.scrollHeightChanged||(this._isHandlingScrollEvent=!0,this._modifiedEditor.setScrollPosition({scrollLeft:Ce.scrollLeft,scrollTop:Ce.scrollTop}),this._isHandlingScrollEvent=!1,this._layoutOverviewViewport())})),this._register(Se.onDidChangeViewZones(()=>{this._onViewZonesChanged()})),this._register(Se.onDidChangeConfiguration(Ce=>{Se.getModel()&&(Ce.hasChanged(48)&&this._updateDecorationsRunner.schedule(),Ce.hasChanged(142)&&(this._updateDecorationsRunner.cancel(),this._updateDecorations()))})),this._register(Se.onDidChangeHiddenAreas(()=>{this._updateDecorationsRunner.cancel(),this._updateDecorations()})),this._register(Se.onDidChangeModelContent(()=>{this._isVisible&&this._beginUpdateDecorationsSoon()}));const ue=this._contextKeyService.createKey("isInDiffLeftEditor",Se.hasWidgetFocus());return this._register(Se.onDidFocusEditorWidget(()=>ue.set(!0))),this._register(Se.onDidBlurEditorWidget(()=>ue.set(!1))),this._register(Se.onDidContentSizeChange(Ce=>{const ve=this._originalEditor.getContentWidth()+this._modifiedEditor.getContentWidth()+gt.ONE_OVERVIEW_WIDTH,_e=Math.max(this._modifiedEditor.getContentHeight(),this._originalEditor.getContentHeight());this._onDidContentSizeChange.fire({contentHeight:_e,contentWidth:ve,contentHeightChanged:Ce.contentHeightChanged,contentWidthChanged:Ce.contentWidthChanged})})),Se}_createRightHandSideEditor(pe,me){const Se=this._createInnerEditor(this._instantiationService,this._modifiedDomNode,this._adjustOptionsForRightHandSide(pe),me);this._register(Se.onDidScrollChange(Ce=>{this._isHandlingScrollEvent||!Ce.scrollTopChanged&&!Ce.scrollLeftChanged&&!Ce.scrollHeightChanged||(this._isHandlingScrollEvent=!0,this._originalEditor.setScrollPosition({scrollLeft:Ce.scrollLeft,scrollTop:Ce.scrollTop}),this._isHandlingScrollEvent=!1,this._layoutOverviewViewport())})),this._register(Se.onDidChangeViewZones(()=>{this._onViewZonesChanged()})),this._register(Se.onDidChangeConfiguration(Ce=>{Se.getModel()&&(Ce.hasChanged(48)&&this._updateDecorationsRunner.schedule(),Ce.hasChanged(142)&&(this._updateDecorationsRunner.cancel(),this._updateDecorations()))})),this._register(Se.onDidChangeHiddenAreas(()=>{this._updateDecorationsRunner.cancel(),this._updateDecorations()})),this._register(Se.onDidChangeModelContent(()=>{this._isVisible&&this._beginUpdateDecorationsSoon()})),this._register(Se.onDidChangeModelOptions(Ce=>{Ce.tabSize&&this._updateDecorationsRunner.schedule()}));const ue=this._contextKeyService.createKey("isInDiffRightEditor",Se.hasWidgetFocus());return this._register(Se.onDidFocusEditorWidget(()=>ue.set(!0))),this._register(Se.onDidBlurEditorWidget(()=>ue.set(!1))),this._register(Se.onDidContentSizeChange(Ce=>{const ve=this._originalEditor.getContentWidth()+this._modifiedEditor.getContentWidth()+gt.ONE_OVERVIEW_WIDTH,_e=Math.max(this._modifiedEditor.getContentHeight(),this._originalEditor.getContentHeight());this._onDidContentSizeChange.fire({contentHeight:_e,contentWidth:ve,contentHeightChanged:Ce.contentHeightChanged,contentWidthChanged:Ce.contentWidthChanged})})),this._register(Se.onMouseDown(Ce=>{var ve,_e;if(!Ce.event.rightButton&&Ce.target.position&&(!((ve=Ce.target.element)===null||ve===void 0)&&ve.className.includes("arrow-revert-change"))){const De=Ce.target.position.lineNumber,Re=Ce.target,Pe=(_e=this._diffComputationResult)===null||_e===void 0?void 0:_e.changes.find(Fe=>Re?.detail.afterLineNumber===Fe.modifiedStartLineNumber||Fe.modifiedEndLineNumber>0&&Fe.modifiedStartLineNumber===De);Pe&&this.revertChange(Pe),Ce.event.stopPropagation(),this._updateDecorations();return}})),Se}revertChange(pe){const me=this._modifiedEditor,Se=this._originalEditor.getModel(),ue=this._modifiedEditor.getModel();if(!Se||!ue||!me)return;const Ce=pe.originalEndLineNumber>0?new w.Range(pe.originalStartLineNumber,1,pe.originalEndLineNumber,Se.getLineMaxColumn(pe.originalEndLineNumber)):null,ve=Ce?Se.getValueInRange(Ce):null,_e=pe.modifiedEndLineNumber>0?new w.Range(pe.modifiedStartLineNumber,1,pe.modifiedEndLineNumber,ue.getLineMaxColumn(pe.modifiedEndLineNumber)):null,De=ue.getEOL();if(pe.originalEndLineNumber===0&&_e){let Re=_e;pe.modifiedStartLineNumber>1?Re=_e.setStartPosition(pe.modifiedStartLineNumber-1,ue.getLineMaxColumn(pe.modifiedStartLineNumber-1)):pe.modifiedEndLineNumber<ue.getLineCount()&&(Re=_e.setEndPosition(pe.modifiedEndLineNumber+1,1)),me.executeEdits("diffEditor",[{range:Re,text:""}])}else if(pe.modifiedEndLineNumber===0&&ve!==null){const Re=pe.modifiedStartLineNumber<ue.getLineCount()?new b.Position(pe.modifiedStartLineNumber+1,1):new b.Position(pe.modifiedStartLineNumber,ue.getLineMaxColumn(pe.modifiedStartLineNumber));me.executeEdits("diffEditor",[{range:w.Range.fromPositions(Re,Re),text:pe.modifiedStartLineNumber<ue.getLineCount()?ve+De:De+ve}])}else _e&&ve!==null&&me.executeEdits("diffEditor",[{range:_e,text:ve}])}_createInnerEditor(pe,me,Se,ue){return pe.createInstance(a.CodeEditorWidget,me,Se,ue)}dispose(){this._codeEditorService.removeDiffEditor(this),this._beginUpdateDecorationsTimeout!==-1&&(window.clearTimeout(this._beginUpdateDecorationsTimeout),this._beginUpdateDecorationsTimeout=-1),this._cleanViewZonesAndDecorations(),this._originalOverviewRuler&&(this._overviewDomElement.removeChild(this._originalOverviewRuler.getDomNode()),this._originalOverviewRuler.dispose()),this._modifiedOverviewRuler&&(this._overviewDomElement.removeChild(this._modifiedOverviewRuler.getDomNode()),this._modifiedOverviewRuler.dispose()),this._overviewDomElement.removeChild(this._overviewViewportDomElement.domNode),this._options.renderOverviewRuler&&this._containerDomElement.removeChild(this._overviewDomElement),this._containerDomElement.removeChild(this._originalDomNode),this._originalEditor.dispose(),this._containerDomElement.removeChild(this._modifiedDomNode),this._modifiedEditor.dispose(),this._strategy.dispose(),this._containerDomElement.removeChild(this._reviewPane.domNode.domNode),this._containerDomElement.removeChild(this._reviewPane.shadow.domNode),this._containerDomElement.removeChild(this._reviewPane.actionBarContainer.domNode),this._reviewPane.dispose(),this._domElement.removeChild(this._containerDomElement),this._onDidDispose.fire(),super.dispose()}getId(){return this.getEditorType()+":"+this._id}getEditorType(){return I.EditorType.IDiffEditor}getLineChanges(){return this._diffComputationResult?this._diffComputationResult.changes:null}getOriginalEditor(){return this._originalEditor}getModifiedEditor(){return this._modifiedEditor}updateOptions(pe){const me=ke(pe,this._options),Se=Ae(this._options,me);this._options=me,this.isEmbeddedDiffEditorKey.set(typeof pe.isInEmbeddedEditor<"u"?pe.isInEmbeddedEditor:!1);const ue=Se.ignoreTrimWhitespace||Se.renderIndicators||Se.renderMarginRevertIcon,Ce=this._isVisible&&(Se.maxComputationTime||Se.maxFileSize);this._documentDiffProvider.setOptions(me),ue?this._beginUpdateDecorations():Ce&&this._beginUpdateDecorationsSoon(),this._modifiedEditor.updateOptions(this._adjustOptionsForRightHandSide(pe)),this._originalEditor.updateOptions(this._adjustOptionsForLeftHandSide(pe)),this._strategy.setEnableSplitViewResizing(this._options.enableSplitViewResizing,this._options.splitViewDefaultRatio),Se.renderSideBySide&&(this._options.renderSideBySide?this._setStrategy(new V(this._createDataSource(),this._options.enableSplitViewResizing,this._options.splitViewDefaultRatio)):this._setStrategy(new se(this._createDataSource(),this._options.enableSplitViewResizing)),this._containerDomElement.className=gt._getClassName(this._themeService.getColorTheme(),this._options.renderSideBySide)),Se.renderOverviewRuler&&(this._options.renderOverviewRuler?this._containerDomElement.appendChild(this._overviewDomElement):this._containerDomElement.removeChild(this._overviewDomElement))}getModel(){return{original:this._originalEditor.getModel(),modified:this._modifiedEditor.getModel()}}createViewModel(pe){return{model:pe,waitForDiff(){return Le(this,void 0,void 0,function*(){})}}}setModel(pe){if(pe&&"model"in pe&&(pe=pe.model),pe&&(!pe.original||!pe.modified))throw new Error(pe.original?"DiffEditorWidget.setModel: Modified model is null":"DiffEditorWidget.setModel: Original model is null");this._cleanViewZonesAndDecorations(),this._disposeOverviewRulers(),this._originalEditor.setModel(pe?pe.original:null),this._modifiedEditor.setModel(pe?pe.modified:null),this._updateDecorationsRunner.cancel(),pe&&(this._originalEditor.setScrollTop(0),this._modifiedEditor.setScrollTop(0)),this._diffComputationResult=null,this._diffComputationToken++,this._setState(0),pe&&(this._createOverviewRulers(),this._beginUpdateDecorations()),this._layoutOverviewViewport(),this._onDidChangeModel.fire(),this._diffNavigator=this._register(this._instantiationService.createInstance(l.DiffNavigator,this,{alwaysRevealFirst:!1,findResultLoop:this.getModifiedEditor().getOption(39).loop}))}getContainerDomNode(){return this._domElement}getVisibleColumnFromPosition(pe){return this._modifiedEditor.getVisibleColumnFromPosition(pe)}getPosition(){return this._modifiedEditor.getPosition()}setPosition(pe,me="api"){this._modifiedEditor.setPosition(pe,me)}revealLine(pe,me=0){this._modifiedEditor.revealLine(pe,me)}revealLineInCenter(pe,me=0){this._modifiedEditor.revealLineInCenter(pe,me)}revealLineInCenterIfOutsideViewport(pe,me=0){this._modifiedEditor.revealLineInCenterIfOutsideViewport(pe,me)}revealLineNearTop(pe,me=0){this._modifiedEditor.revealLineNearTop(pe,me)}revealPosition(pe,me=0){this._modifiedEditor.revealPosition(pe,me)}revealPositionInCenter(pe,me=0){this._modifiedEditor.revealPositionInCenter(pe,me)}revealPositionInCenterIfOutsideViewport(pe,me=0){this._modifiedEditor.revealPositionInCenterIfOutsideViewport(pe,me)}revealPositionNearTop(pe,me=0){this._modifiedEditor.revealPositionNearTop(pe,me)}getSelection(){return this._modifiedEditor.getSelection()}getSelections(){return this._modifiedEditor.getSelections()}setSelection(pe,me="api"){this._modifiedEditor.setSelection(pe,me)}setSelections(pe,me="api"){this._modifiedEditor.setSelections(pe,me)}revealLines(pe,me,Se=0){this._modifiedEditor.revealLines(pe,me,Se)}revealLinesInCenter(pe,me,Se=0){this._modifiedEditor.revealLinesInCenter(pe,me,Se)}revealLinesInCenterIfOutsideViewport(pe,me,Se=0){this._modifiedEditor.revealLinesInCenterIfOutsideViewport(pe,me,Se)}revealLinesNearTop(pe,me,Se=0){this._modifiedEditor.revealLinesNearTop(pe,me,Se)}revealRange(pe,me=0,Se=!1,ue=!0){this._modifiedEditor.revealRange(pe,me,Se,ue)}revealRangeInCenter(pe,me=0){this._modifiedEditor.revealRangeInCenter(pe,me)}revealRangeInCenterIfOutsideViewport(pe,me=0){this._modifiedEditor.revealRangeInCenterIfOutsideViewport(pe,me)}revealRangeNearTop(pe,me=0){this._modifiedEditor.revealRangeNearTop(pe,me)}revealRangeNearTopIfOutsideViewport(pe,me=0){this._modifiedEditor.revealRangeNearTopIfOutsideViewport(pe,me)}revealRangeAtTop(pe,me=0){this._modifiedEditor.revealRangeAtTop(pe,me)}getSupportedActions(){return this._modifiedEditor.getSupportedActions()}focus(){this._modifiedEditor.focus()}trigger(pe,me,Se){this._modifiedEditor.trigger(pe,me,Se)}createDecorationsCollection(pe){return this._modifiedEditor.createDecorationsCollection(pe)}changeDecorations(pe){return this._modifiedEditor.changeDecorations(pe)}saveViewState(){const pe=this._originalEditor.saveViewState(),me=this._modifiedEditor.saveViewState();return{original:pe,modified:me}}restoreViewState(pe){if(pe&&pe.original&&pe.modified){const me=pe;this._originalEditor.restoreViewState(me.original),this._modifiedEditor.restoreViewState(me.modified)}}layout(pe){this._elementSizeObserver.observe(pe)}hasTextFocus(){return this._originalEditor.hasTextFocus()||this._modifiedEditor.hasTextFocus()}_onDidContainerSizeChanged(){this._doLayout()}_getReviewHeight(){return this._reviewPane.isVisible()?this._elementSizeObserver.getHeight():0}_layoutOverviewRulers(){if(!this._options.renderOverviewRuler||!this._originalOverviewRuler||!this._modifiedOverviewRuler)return;const pe=this._elementSizeObserver.getHeight(),me=this._getReviewHeight(),Se=gt.ENTIRE_DIFF_OVERVIEW_WIDTH-2*gt.ONE_OVERVIEW_WIDTH;this._modifiedEditor.getLayoutInfo()&&(this._originalOverviewRuler.setLayout({top:0,width:gt.ONE_OVERVIEW_WIDTH,right:Se+gt.ONE_OVERVIEW_WIDTH,height:pe-me}),this._modifiedOverviewRuler.setLayout({top:0,right:0,width:gt.ONE_OVERVIEW_WIDTH,height:pe-me}))}_onViewZonesChanged(){this._currentlyChangingViewZones||this._updateDecorationsRunner.schedule()}_beginUpdateDecorationsSoon(){this._beginUpdateDecorationsTimeout!==-1&&(window.clearTimeout(this._beginUpdateDecorationsTimeout),this._beginUpdateDecorationsTimeout=-1),this._beginUpdateDecorationsTimeout=window.setTimeout(()=>this._beginUpdateDecorations(),gt.UPDATE_DIFF_DECORATIONS_DELAY)}static _equals(pe,me){return!pe&&!me?!0:!pe||!me?!1:pe.toString()===me.toString()}_beginUpdateDecorations(){this._beginUpdateDecorationsTimeout!==-1&&(window.clearTimeout(this._beginUpdateDecorationsTimeout),this._beginUpdateDecorationsTimeout=-1);const pe=this._originalEditor.getModel(),me=this._modifiedEditor.getModel();if(!pe||!me)return;this._diffComputationToken++;const Se=this._diffComputationToken,ue=this._options.maxFileSize*1024*1024,Ce=ve=>{const _e=ve.getValueLength();return ue===0||_e<=ue};if(!Ce(pe)||!Ce(me)){(!gt._equals(pe.uri,this._lastOriginalWarning)||!gt._equals(me.uri,this._lastModifiedWarning))&&(this._lastOriginalWarning=pe.uri,this._lastModifiedWarning=me.uri,this._notificationService.warn(F.localize(3,null)));return}this._setState(1),this._documentDiffProvider.computeDiff(pe,me,{ignoreTrimWhitespace:this._options.ignoreTrimWhitespace,maxComputationTimeMs:this._options.maxComputationTime,computeMoves:!1}).then(ve=>{Se===this._diffComputationToken&&pe===this._originalEditor.getModel()&&me===this._modifiedEditor.getModel()&&(this._setState(2),this._diffComputationResult={identical:ve.identical,quitEarly:ve.quitEarly,changes2:ve.changes,changes:ve.changes.map(_e=>{let De,Re,Pe,Fe,We=_e.innerChanges;return _e.originalRange.isEmpty?(De=_e.originalRange.startLineNumber-1,Re=0,We=void 0):(De=_e.originalRange.startLineNumber,Re=_e.originalRange.endLineNumberExclusive-1),_e.modifiedRange.isEmpty?(Pe=_e.modifiedRange.startLineNumber-1,Fe=0,We=void 0):(Pe=_e.modifiedRange.startLineNumber,Fe=_e.modifiedRange.endLineNumberExclusive-1),{originalStartLineNumber:De,originalEndLineNumber:Re,modifiedStartLineNumber:Pe,modifiedEndLineNumber:Fe,charChanges:We?.map(xe=>({originalStartLineNumber:xe.originalRange.startLineNumber,originalStartColumn:xe.originalRange.startColumn,originalEndLineNumber:xe.originalRange.endLineNumber,originalEndColumn:xe.originalRange.endColumn,modifiedStartLineNumber:xe.modifiedRange.startLineNumber,modifiedStartColumn:xe.modifiedRange.startColumn,modifiedEndLineNumber:xe.modifiedRange.endLineNumber,modifiedEndColumn:xe.modifiedRange.endColumn}))}})},this._updateDecorationsRunner.schedule(),this._onDidUpdateDiff.fire())},ve=>{Se===this._diffComputationToken&&pe===this._originalEditor.getModel()&&me===this._modifiedEditor.getModel()&&(this._setState(2),this._diffComputationResult=null,this._updateDecorationsRunner.schedule())})}_cleanViewZonesAndDecorations(){this._originalEditorState.clean(this._originalEditor),this._modifiedEditorState.clean(this._modifiedEditor)}_updateDecorations(){if(!this._originalEditor.getModel()||!this._modifiedEditor.getModel())return;const pe=this._diffComputationResult?this._diffComputationResult.changes:[],me=this._originalEditorState.getForeignViewZones(this._originalEditor.getWhitespaces()),Se=this._modifiedEditorState.getForeignViewZones(this._modifiedEditor.getWhitespaces()),ue=this._options.renderMarginRevertIcon&&!this._modifiedEditor.getOption(88),Ce=this._strategy.getEditorsDiffDecorations(pe,this._options.ignoreTrimWhitespace,this._options.renderIndicators,ue,me,Se);try{this._currentlyChangingViewZones=!0,this._originalEditorState.apply(this._originalEditor,this._originalOverviewRuler,Ce.original,!1),this._modifiedEditorState.apply(this._modifiedEditor,this._modifiedOverviewRuler,Ce.modified,!0)}finally{this._currentlyChangingViewZones=!1}}_adjustOptionsForSubEditor(pe){const me=Object.assign({},pe);return me.inDiffEditor=!0,me.automaticLayout=!1,me.scrollbar=Object.assign({},me.scrollbar||{}),me.scrollbar.vertical="visible",me.folding=!1,me.codeLens=this._options.diffCodeLens,me.fixedOverflowWidgets=!0,me.minimap=Object.assign({},me.minimap||{}),me.minimap.enabled=!1,me}_adjustOptionsForLeftHandSide(pe){const me=this._adjustOptionsForSubEditor(pe);return this._options.renderSideBySide?me.wordWrapOverride1=this._options.diffWordWrap:(me.wordWrapOverride1="off",me.wordWrapOverride2="off",me.stickyScroll={enabled:!1}),pe.originalAriaLabel&&(me.ariaLabel=pe.originalAriaLabel),this._updateAriaLabel(me),me.readOnly=!this._options.originalEditable,me.dropIntoEditor={enabled:!me.readOnly},me.extraEditorClassName="original-in-monaco-diff-editor",Object.assign(Object.assign({},me),{dimension:{height:0,width:0}})}_updateAriaLabel(pe){var me;let Se=(me=pe.ariaLabel)!==null&&me!==void 0?me:"";this._options.accessibilityVerbose?Se+=J:Se&&(Se=Se.replaceAll(J,"")),pe.ariaLabel=Se}_adjustOptionsForRightHandSide(pe){const me=this._adjustOptionsForSubEditor(pe);return pe.modifiedAriaLabel&&(me.ariaLabel=pe.modifiedAriaLabel),this._updateAriaLabel(me),me.wordWrapOverride1=this._options.diffWordWrap,me.revealHorizontalRightPadding=v.EditorOptions.revealHorizontalRightPadding.defaultValue+gt.ENTIRE_DIFF_OVERVIEW_WIDTH,me.scrollbar.verticalHasArrows=!1,me.extraEditorClassName="modified-in-monaco-diff-editor",Object.assign(Object.assign({},me),{dimension:{height:0,width:0}})}doLayout(){this._elementSizeObserver.observe(),this._doLayout()}_doLayout(){const pe=this._elementSizeObserver.getWidth(),me=this._elementSizeObserver.getHeight(),Se=this._getReviewHeight(),ue=this._strategy.layout();this._originalDomNode.style.width=ue+"px",this._originalDomNode.style.left="0px",this._modifiedDomNode.style.width=pe-ue+"px",this._modifiedDomNode.style.left=ue+"px",this._overviewDomElement.style.top="0px",this._overviewDomElement.style.height=me-Se+"px",this._overviewDomElement.style.width=gt.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",this._overviewDomElement.style.left=pe-gt.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",this._overviewViewportDomElement.setWidth(gt.ENTIRE_DIFF_OVERVIEW_WIDTH),this._overviewViewportDomElement.setHeight(30),this._originalEditor.layout({width:ue,height:me-Se}),this._modifiedEditor.layout({width:pe-ue-(this._options.renderOverviewRuler?gt.ENTIRE_DIFF_OVERVIEW_WIDTH:0),height:me-Se}),(this._originalOverviewRuler||this._modifiedOverviewRuler)&&this._layoutOverviewRulers(),this._reviewPane.layout(me-Se,pe,Se),this._layoutOverviewViewport()}_layoutOverviewViewport(){const pe=this._computeOverviewViewport();pe?(this._overviewViewportDomElement.setTop(pe.top),this._overviewViewportDomElement.setHeight(pe.height)):(this._overviewViewportDomElement.setTop(0),this._overviewViewportDomElement.setHeight(0))}_computeOverviewViewport(){const pe=this._modifiedEditor.getLayoutInfo();if(!pe)return null;const me=this._modifiedEditor.getScrollTop(),Se=this._modifiedEditor.getScrollHeight(),ue=Math.max(0,pe.height),Ce=Math.max(0,ue-2*0),ve=Se>0?Ce/Se:0,_e=Math.max(0,Math.floor(pe.height*ve)),De=Math.floor(me*ve);return{height:_e,top:De}}_createDataSource(){return{getWidth:()=>this._elementSizeObserver.getWidth(),getHeight:()=>this._elementSizeObserver.getHeight()-this._getReviewHeight(),getOptions:()=>({renderOverviewRuler:this._options.renderOverviewRuler}),getContainerDomNode:()=>this._containerDomElement,relayoutEditors:()=>{this._doLayout()},getOriginalEditor:()=>this._originalEditor,getModifiedEditor:()=>this._modifiedEditor}}_setStrategy(pe){var me;(me=this._strategy)===null||me===void 0||me.dispose(),this._strategy=pe,this._boundarySashes&&pe.setBoundarySashes(this._boundarySashes),pe.applyColors(this._themeService.getColorTheme()),this._diffComputationResult&&this._updateDecorations(),this._doLayout()}};ne.ONE_OVERVIEW_WIDTH=15,ne.ENTIRE_DIFF_OVERVIEW_WIDTH=30,ne.UPDATE_DIFF_DECORATIONS_DELAY=200,e.DiffEditorWidget=ne=Ne([ge(3,x.IClipboardService),ge(4,W.IContextKeyService),ge(5,U.IInstantiationService),ge(6,n.ICodeEditorService),ge(7,te.IThemeService),ge(8,G.INotificationService),ge(9,z.IContextMenuService),ge(10,Q.IEditorProgressService)],ne);class he extends i.Disposable{constructor(pe){super(),this._dataSource=pe,this._insertColor=null,this._removeColor=null}applyColors(pe){const me=pe.getColor(re.diffOverviewRulerInserted)||(pe.getColor(re.diffInserted)||re.defaultInsertColor).transparent(2),Se=pe.getColor(re.diffOverviewRulerRemoved)||(pe.getColor(re.diffRemoved)||re.defaultRemoveColor).transparent(2),ue=!me.equals(this._insertColor)||!Se.equals(this._removeColor);return this._insertColor=me,this._removeColor=Se,ue}getEditorsDiffDecorations(pe,me,Se,ue,Ce,ve){ve=ve.sort((Pe,Fe)=>Pe.afterLineNumber-Fe.afterLineNumber),Ce=Ce.sort((Pe,Fe)=>Pe.afterLineNumber-Fe.afterLineNumber);const _e=this._getViewZones(pe,Ce,ve,Se),De=this._getOriginalEditorDecorations(_e,pe,me,Se),Re=this._getModifiedEditorDecorations(_e,pe,me,Se,ue);return{original:{decorations:De.decorations,overviewZones:De.overviewZones,zones:_e.original},modified:{decorations:Re.decorations,overviewZones:Re.overviewZones,zones:_e.modified}}}setBoundarySashes(pe){}}class de{constructor(pe){this._source=pe,this._index=-1,this.current=null,this.advance()}advance(){this._index++,this._index<this._source.length?this.current=this._source[this._index]:this.current=null}}class ae{constructor(pe,me,Se,ue,Ce){this._lineChanges=pe,this._originalForeignVZ=me,this._modifiedForeignVZ=Se,this._originalEditor=ue,this._modifiedEditor=Ce}static _getViewLineCount(pe,me,Se){const ue=pe.getModel(),Ce=pe._getViewModel();if(ue&&Ce){const ve=ye(ue,Ce,me,Se);return ve.endLineNumber-ve.startLineNumber+1}return Se-me+1}getViewZones(){const pe=this._originalEditor.getOption(64),me=this._modifiedEditor.getOption(64),Se=this._originalEditor.getOption(142).wrappingColumn!==-1,ue=this._modifiedEditor.getOption(142).wrappingColumn!==-1,Ce=Se||ue,ve=this._originalEditor.getModel(),_e=this._originalEditor._getViewModel().coordinatesConverter,De=this._modifiedEditor._getViewModel().coordinatesConverter,Re={original:[],modified:[]};let Pe=0,Fe=0,We=0,xe=0,Ke=0,qe=0;const et=(Qe,tt)=>Qe.afterLineNumber-tt.afterLineNumber,ze=(Qe,tt)=>{if(tt.domNode===null&&Qe.length>0){const je=Qe[Qe.length-1];if(je.afterLineNumber===tt.afterLineNumber&&je.domNode===null){je.heightInLines+=tt.heightInLines;return}}Qe.push(tt)},Me=new de(this._modifiedForeignVZ),Be=new de(this._originalForeignVZ);let He=1,Ge=1;for(let Qe=0,tt=this._lineChanges.length;Qe<=tt;Qe++){const je=Qe<tt?this._lineChanges[Qe]:null;je!==null?(We=je.originalStartLineNumber+(je.originalEndLineNumber>0?-1:0),xe=je.modifiedStartLineNumber+(je.modifiedEndLineNumber>0?-1:0),Fe=je.originalEndLineNumber>0?ae._getViewLineCount(this._originalEditor,je.originalStartLineNumber,je.originalEndLineNumber):0,Pe=je.modifiedEndLineNumber>0?ae._getViewLineCount(this._modifiedEditor,je.modifiedStartLineNumber,je.modifiedEndLineNumber):0,Ke=Math.max(je.originalStartLineNumber,je.originalEndLineNumber),qe=Math.max(je.modifiedStartLineNumber,je.modifiedEndLineNumber)):(We+=1e7+Fe,xe+=1e7+Pe,Ke=We,qe=xe);let at=[],ot=[];if(Ce){let Ye;je?je.originalEndLineNumber>0?Ye=je.originalStartLineNumber-He:Ye=je.modifiedStartLineNumber-Ge:Ye=ve.getLineCount()-He+1;for(let lt=0;lt<Ye;lt++){const vt=He+lt,rt=Ge+lt,Ze=_e.getModelLineViewLineCount(vt),Oe=De.getModelLineViewLineCount(rt);Ze<Oe?at.push({afterLineNumber:vt,heightInLines:Oe-Ze,domNode:null,marginDomNode:null}):Ze>Oe&&ot.push({afterLineNumber:rt,heightInLines:Ze-Oe,domNode:null,marginDomNode:null})}je&&(He=(je.originalEndLineNumber>0?je.originalEndLineNumber:je.originalStartLineNumber)+1,Ge=(je.modifiedEndLineNumber>0?je.modifiedEndLineNumber:je.modifiedStartLineNumber)+1)}for(;Me.current&&Me.current.afterLineNumber<=qe;){let Ye;Me.current.afterLineNumber<=xe?Ye=We-xe+Me.current.afterLineNumber:Ye=Ke;let lt=null;je&&je.modifiedStartLineNumber<=Me.current.afterLineNumber&&Me.current.afterLineNumber<=je.modifiedEndLineNumber&&(lt=this._createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion()),at.push({afterLineNumber:Ye,heightInLines:Me.current.height/me,domNode:null,marginDomNode:lt}),Me.advance()}for(;Be.current&&Be.current.afterLineNumber<=Ke;){let Ye;Be.current.afterLineNumber<=We?Ye=xe-We+Be.current.afterLineNumber:Ye=qe,ot.push({afterLineNumber:Ye,heightInLines:Be.current.height/pe,domNode:null}),Be.advance()}if(je!==null&&le(je)){const Ye=this._produceOriginalFromDiff(je,Fe,Pe);Ye&&at.push(Ye)}if(je!==null&&fe(je)){const Ye=this._produceModifiedFromDiff(je,Fe,Pe);Ye&&ot.push(Ye)}let dt=0,ut=0;for(at=at.sort(et),ot=ot.sort(et);dt<at.length&&ut<ot.length;){const Ye=at[dt],lt=ot[ut],vt=Ye.afterLineNumber-We,rt=lt.afterLineNumber-xe;vt<rt?(ze(Re.original,Ye),dt++):rt<vt?(ze(Re.modified,lt),ut++):Ye.shouldNotShrink?(ze(Re.original,Ye),dt++):lt.shouldNotShrink?(ze(Re.modified,lt),ut++):Ye.heightInLines>=lt.heightInLines?(Ye.heightInLines-=lt.heightInLines,ut++):(lt.heightInLines-=Ye.heightInLines,dt++)}for(;dt<at.length;)ze(Re.original,at[dt]),dt++;for(;ut<ot.length;)ze(Re.modified,ot[ut]),ut++}return{original:ae._ensureDomNodes(Re.original),modified:ae._ensureDomNodes(Re.modified)}}static _ensureDomNodes(pe){return pe.map(me=>(me.domNode||(me.domNode=Ee()),me))}}function ce(Te,pe,me,Se,ue){return{range:new w.Range(Te,pe,me,Se),options:ue}}const $={arrowRevertChange:P.ModelDecorationOptions.register({description:"diff-editor-arrow-revert-change",glyphMarginHoverMessage:new t.MarkdownString(void 0,{isTrusted:!0,supportThemeIcons:!0}).appendMarkdown(F.localize(4,null)),glyphMarginClassName:"arrow-revert-change "+o.ThemeIcon.asClassName(f.Codicon.arrowRight),zIndex:10001}),charDelete:P.ModelDecorationOptions.register({description:"diff-editor-char-delete",className:"char-delete"}),charDeleteWholeLine:P.ModelDecorationOptions.register({description:"diff-editor-char-delete-whole-line",className:"char-delete",isWholeLine:!0}),charInsert:P.ModelDecorationOptions.register({description:"diff-editor-char-insert",className:"char-insert"}),charInsertWholeLine:P.ModelDecorationOptions.register({description:"diff-editor-char-insert-whole-line",className:"char-insert",isWholeLine:!0}),lineInsert:P.ModelDecorationOptions.register({description:"diff-editor-line-insert",className:"line-insert",marginClassName:"gutter-insert",isWholeLine:!0}),lineInsertWithSign:P.ModelDecorationOptions.register({description:"diff-editor-line-insert-with-sign",className:"line-insert",linesDecorationsClassName:"insert-sign "+o.ThemeIcon.asClassName(K),marginClassName:"gutter-insert",isWholeLine:!0}),lineDelete:P.ModelDecorationOptions.register({description:"diff-editor-line-delete",className:"line-delete",marginClassName:"gutter-delete",isWholeLine:!0}),lineDeleteWithSign:P.ModelDecorationOptions.register({description:"diff-editor-line-delete-with-sign",className:"line-delete",linesDecorationsClassName:"delete-sign "+o.ThemeIcon.asClassName(Z),marginClassName:"gutter-delete",isWholeLine:!0}),lineDeleteMargin:P.ModelDecorationOptions.register({description:"diff-editor-line-delete-margin",marginClassName:"gutter-delete"})};class V extends he{constructor(pe,me,Se){super(pe),this._disableSash=me===!1,this._defaultRatio=Se,this._sashRatio=null,this._sashPosition=null,this._startSashPosition=null,this._sash=this._register(new S.Sash(this._dataSource.getContainerDomNode(),this,{orientation:0})),this._disableSash&&(this._sash.state=0),this._sash.onDidStart(()=>this._onSashDragStart()),this._sash.onDidChange(ue=>this._onSashDrag(ue)),this._sash.onDidEnd(()=>this._onSashDragEnd()),this._sash.onDidReset(()=>this._onSashReset())}setEnableSplitViewResizing(pe,me){this._defaultRatio=me;const Se=pe===!1;this._disableSash!==Se&&(this._disableSash=Se,this._sash.state=this._disableSash?0:3)}layout(pe=this._sashRatio||this._defaultRatio){const Se=this._dataSource.getWidth()-(this._dataSource.getOptions().renderOverviewRuler?ne.ENTIRE_DIFF_OVERVIEW_WIDTH:0);let ue=Math.floor((pe||this._defaultRatio)*Se);const Ce=Math.floor(this._defaultRatio*Se);return ue=this._disableSash?Ce:ue||Ce,Se>V.MINIMUM_EDITOR_WIDTH*2?(ue<V.MINIMUM_EDITOR_WIDTH&&(ue=V.MINIMUM_EDITOR_WIDTH),ue>Se-V.MINIMUM_EDITOR_WIDTH&&(ue=Se-V.MINIMUM_EDITOR_WIDTH)):ue=Ce,this._sashPosition!==ue&&(this._sashPosition=ue),this._sash.layout(),this._sashPosition}_onSashDragStart(){this._startSashPosition=this._sashPosition}_onSashDrag(pe){const Se=this._dataSource.getWidth()-(this._dataSource.getOptions().renderOverviewRuler?ne.ENTIRE_DIFF_OVERVIEW_WIDTH:0),ue=this.layout((this._startSashPosition+(pe.currentX-pe.startX))/Se);this._sashRatio=ue/Se,this._dataSource.relayoutEditors()}_onSashDragEnd(){this._sash.layout()}_onSashReset(){this._sashRatio=this._defaultRatio,this._dataSource.relayoutEditors(),this._sash.layout()}getVerticalSashTop(pe){return 0}getVerticalSashLeft(pe){return this._sashPosition}getVerticalSashHeight(pe){return this._dataSource.getHeight()}setBoundarySashes(pe){this._sash.orthogonalEndSash=pe.bottom}_getViewZones(pe,me,Se){const ue=this._dataSource.getOriginalEditor(),Ce=this._dataSource.getModifiedEditor();return new j(pe,me,Se,ue,Ce).getViewZones()}_getOriginalEditorDecorations(pe,me,Se,ue){const Ce=this._dataSource.getOriginalEditor(),ve=String(this._removeColor),_e={decorations:[],overviewZones:[]},De=Ce.getModel(),Re=Ce._getViewModel();for(const Pe of me)if(fe(Pe)){_e.decorations.push({range:new w.Range(Pe.originalStartLineNumber,1,Pe.originalEndLineNumber,1073741824),options:ue?$.lineDeleteWithSign:$.lineDelete}),(!le(Pe)||!Pe.charChanges)&&_e.decorations.push(ce(Pe.originalStartLineNumber,1,Pe.originalEndLineNumber,1073741824,$.charDeleteWholeLine));const Fe=ye(De,Re,Pe.originalStartLineNumber,Pe.originalEndLineNumber);if(_e.overviewZones.push(new R.OverviewRulerZone(Fe.startLineNumber,Fe.endLineNumber,0,ve)),Pe.charChanges){for(const We of Pe.charChanges)if(we(We))if(Se)for(let xe=We.originalStartLineNumber;xe<=We.originalEndLineNumber;xe++){let Ke,qe;xe===We.originalStartLineNumber?Ke=We.originalStartColumn:Ke=De.getLineFirstNonWhitespaceColumn(xe),xe===We.originalEndLineNumber?qe=We.originalEndColumn:qe=De.getLineLastNonWhitespaceColumn(xe),_e.decorations.push(ce(xe,Ke,xe,qe,$.charDelete))}else _e.decorations.push(ce(We.originalStartLineNumber,We.originalStartColumn,We.originalEndLineNumber,We.originalEndColumn,$.charDelete))}}return _e}_getModifiedEditorDecorations(pe,me,Se,ue,Ce){const ve=this._dataSource.getModifiedEditor(),_e=String(this._insertColor),De={decorations:[],overviewZones:[]},Re=ve.getModel(),Pe=ve._getViewModel();for(const Fe of me){if(Ce)if(Fe.modifiedEndLineNumber>0)De.decorations.push({range:new w.Range(Fe.modifiedStartLineNumber,1,Fe.modifiedStartLineNumber,1),options:$.arrowRevertChange});else{const We=pe.modified.find(xe=>xe.afterLineNumber===Fe.modifiedStartLineNumber);We&&(We.marginDomNode=Ie())}if(le(Fe)){De.decorations.push({range:new w.Range(Fe.modifiedStartLineNumber,1,Fe.modifiedEndLineNumber,1073741824),options:ue?$.lineInsertWithSign:$.lineInsert}),(!fe(Fe)||!Fe.charChanges)&&De.decorations.push(ce(Fe.modifiedStartLineNumber,1,Fe.modifiedEndLineNumber,1073741824,$.charInsertWholeLine));const We=ye(Re,Pe,Fe.modifiedStartLineNumber,Fe.modifiedEndLineNumber);if(De.overviewZones.push(new R.OverviewRulerZone(We.startLineNumber,We.endLineNumber,0,_e)),Fe.charChanges){for(const xe of Fe.charChanges)if(be(xe))if(Se)for(let Ke=xe.modifiedStartLineNumber;Ke<=xe.modifiedEndLineNumber;Ke++){let qe,et;Ke===xe.modifiedStartLineNumber?qe=xe.modifiedStartColumn:qe=Re.getLineFirstNonWhitespaceColumn(Ke),Ke===xe.modifiedEndLineNumber?et=xe.modifiedEndColumn:et=Re.getLineLastNonWhitespaceColumn(Ke),De.decorations.push(ce(Ke,qe,Ke,et,$.charInsert))}else De.decorations.push(ce(xe.modifiedStartLineNumber,xe.modifiedStartColumn,xe.modifiedEndLineNumber,xe.modifiedEndColumn,$.charInsert))}}}return De}}V.MINIMUM_EDITOR_WIDTH=100;class j extends ae{constructor(pe,me,Se,ue,Ce){super(pe,me,Se,ue,Ce)}_createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion(){return null}_produceOriginalFromDiff(pe,me,Se){return Se>me?{afterLineNumber:Math.max(pe.originalStartLineNumber,pe.originalEndLineNumber),heightInLines:Se-me,domNode:null}:null}_produceModifiedFromDiff(pe,me,Se){return me>Se?{afterLineNumber:Math.max(pe.modifiedStartLineNumber,pe.modifiedEndLineNumber),heightInLines:me-Se,domNode:null}:null}}class se extends he{constructor(pe,me){super(pe),this._decorationsLeft=pe.getOriginalEditor().getLayoutInfo().decorationsLeft,this._register(pe.getOriginalEditor().onDidLayoutChange(Se=>{this._decorationsLeft!==Se.decorationsLeft&&(this._decorationsLeft=Se.decorationsLeft,pe.relayoutEditors())}))}setEnableSplitViewResizing(pe){}_getViewZones(pe,me,Se,ue){const Ce=this._dataSource.getOriginalEditor(),ve=this._dataSource.getModifiedEditor();return new ie(pe,me,Se,Ce,ve,ue).getViewZones()}_getOriginalEditorDecorations(pe,me,Se,ue){const Ce=String(this._removeColor),ve={decorations:[],overviewZones:[]},_e=this._dataSource.getOriginalEditor(),De=_e.getModel(),Re=_e._getViewModel();let Pe=0;for(const Fe of me)if(fe(Fe)){for(ve.decorations.push({range:new w.Range(Fe.originalStartLineNumber,1,Fe.originalEndLineNumber,1073741824),options:$.lineDeleteMargin});Pe<pe.modified.length;){const Ke=pe.modified[Pe];if(Ke.diff&&Ke.diff.originalStartLineNumber>=Fe.originalStartLineNumber)break;Pe++}let We=0;if(Pe<pe.modified.length){const Ke=pe.modified[Pe];Ke.diff&&Ke.diff.originalStartLineNumber===Fe.originalStartLineNumber&&Ke.diff.originalEndLineNumber===Fe.originalEndLineNumber&&Ke.diff.modifiedStartLineNumber===Fe.modifiedStartLineNumber&&Ke.diff.modifiedEndLineNumber===Fe.modifiedEndLineNumber&&(We=Ke.heightInLines)}const xe=ye(De,Re,Fe.originalStartLineNumber,Fe.originalEndLineNumber);ve.overviewZones.push(new R.OverviewRulerZone(xe.startLineNumber,xe.endLineNumber,We,Ce))}return ve}_getModifiedEditorDecorations(pe,me,Se,ue,Ce){const ve=this._dataSource.getModifiedEditor(),_e=String(this._insertColor),De={decorations:[],overviewZones:[]},Re=ve.getModel(),Pe=ve._getViewModel();for(const Fe of me)if(le(Fe)){De.decorations.push({range:new w.Range(Fe.modifiedStartLineNumber,1,Fe.modifiedEndLineNumber,1073741824),options:ue?$.lineInsertWithSign:$.lineInsert});const We=ye(Re,Pe,Fe.modifiedStartLineNumber,Fe.modifiedEndLineNumber);if(De.overviewZones.push(new R.OverviewRulerZone(We.startLineNumber,We.endLineNumber,0,_e)),Fe.charChanges){for(const xe of Fe.charChanges)if(be(xe))if(Se)for(let Ke=xe.modifiedStartLineNumber;Ke<=xe.modifiedEndLineNumber;Ke++){let qe,et;Ke===xe.modifiedStartLineNumber?qe=xe.modifiedStartColumn:qe=Re.getLineFirstNonWhitespaceColumn(Ke),Ke===xe.modifiedEndLineNumber?et=xe.modifiedEndColumn:et=Re.getLineLastNonWhitespaceColumn(Ke),De.decorations.push(ce(Ke,qe,Ke,et,$.charInsert))}else De.decorations.push(ce(xe.modifiedStartLineNumber,xe.modifiedStartColumn,xe.modifiedEndLineNumber,xe.modifiedEndColumn,$.charInsert))}else De.decorations.push(ce(Fe.modifiedStartLineNumber,1,Fe.modifiedEndLineNumber,1073741824,$.charInsertWholeLine))}return De}layout(){return Math.max(5,this._decorationsLeft)}}class ie extends ae{constructor(pe,me,Se,ue,Ce,ve){super(pe,me,Se,ue,Ce),this._originalModel=ue.getModel(),this._renderIndicators=ve,this._pendingLineChange=[],this._pendingViewZones=[],this._lineBreaksComputer=this._modifiedEditor._getViewModel().createLineBreaksComputer()}getViewZones(){const pe=super.getViewZones();return this._finalize(pe),pe}_createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion(){const pe=document.createElement("div");return pe.className="inline-added-margin-view-zone",pe}_produceOriginalFromDiff(pe,me,Se){const ue=document.createElement("div");return ue.className="inline-added-margin-view-zone",{afterLineNumber:Math.max(pe.originalStartLineNumber,pe.originalEndLineNumber),heightInLines:Se,domNode:document.createElement("div"),marginDomNode:ue}}_produceModifiedFromDiff(pe,me,Se){const ue=document.createElement("div");ue.className=`view-lines line-delete ${D.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME}`;const Ce=document.createElement("div");Ce.className="inline-deleted-margin-view-zone";const ve={shouldNotShrink:!0,afterLineNumber:pe.modifiedEndLineNumber===0?pe.modifiedStartLineNumber:pe.modifiedStartLineNumber-1,heightInLines:me,minWidthInPx:0,domNode:ue,marginDomNode:Ce,diff:{originalStartLineNumber:pe.originalStartLineNumber,originalEndLineNumber:pe.originalEndLineNumber,modifiedStartLineNumber:pe.modifiedStartLineNumber,modifiedEndLineNumber:pe.modifiedEndLineNumber,originalModel:this._originalModel,viewLineCounts:null}};for(let _e=pe.originalStartLineNumber;_e<=pe.originalEndLineNumber;_e++)this._lineBreaksComputer.addRequest(this._originalModel.getLineContent(_e),null,null);return this._pendingLineChange.push(pe),this._pendingViewZones.push(ve),ve}_finalize(pe){const me=this._modifiedEditor.getOptions(),Se=this._modifiedEditor.getModel().getOptions().tabSize,ue=me.get(48),Ce=me.get(31),ve=ue.typicalHalfwidthCharacterWidth,_e=me.get(101),De=this._originalModel.mightContainNonBasicASCII(),Re=this._originalModel.mightContainRTL(),Pe=me.get(64),We=me.get(141).decorationsWidth,xe=me.get(114),Ke=me.get(96),qe=me.get(91),et=me.get(49),ze=this._lineBreaksComputer.finalize();let Me=0;for(let Be=0;Be<this._pendingLineChange.length;Be++){const He=this._pendingLineChange[Be],Ge=this._pendingViewZones[Be],Qe=Ge.domNode;(0,r.applyFontInfo)(Qe,ue);const tt=Ge.marginDomNode;(0,r.applyFontInfo)(tt,ue);const je=[];if(He.charChanges)for(const rt of He.charChanges)we(rt)&&je.push(new N.InlineDecoration(new w.Range(rt.originalStartLineNumber,rt.originalStartColumn,rt.originalEndLineNumber,rt.originalEndColumn),"char-delete",0));const at=je.length>0,ot=new E.StringBuilder(1e4);let dt=0,ut=0,Ye=null;for(let rt=He.originalStartLineNumber;rt<=He.originalEndLineNumber;rt++){const Ze=rt-He.originalStartLineNumber,Oe=this._originalModel.tokenization.getLineTokens(rt),Ve=Oe.getLineContent(),Ue=ze[Me++],$e=A.LineDecoration.filter(je,rt,1,Ve.length+1);if(Ue){let it=0;for(const nt of Ue.breakOffsets){const st=Oe.sliceAndInflate(it,nt,0),ct=Ve.substring(it,nt);dt=Math.max(dt,this._renderOriginalLine(ut++,ct,st,A.LineDecoration.extractWrapped($e,it,nt),at,De,Re,ue,Ce,Pe,We,xe,Ke,qe,et,Se,ot,tt)),it=nt}for(Ye||(Ye=[]);Ye.length<Ze;)Ye[Ye.length]=1;Ye[Ze]=Ue.breakOffsets.length,Ge.heightInLines+=Ue.breakOffsets.length-1;const Xe=document.createElement("div");Xe.className="gutter-delete",pe.original.push({afterLineNumber:rt,afterColumn:0,heightInLines:Ue.breakOffsets.length-1,domNode:Ee(),marginDomNode:Xe})}else dt=Math.max(dt,this._renderOriginalLine(ut++,Ve,Oe,$e,at,De,Re,ue,Ce,Pe,We,xe,Ke,qe,et,Se,ot,tt))}dt+=_e;const lt=ot.build(),vt=e.diffEditorWidgetTtPolicy?e.diffEditorWidgetTtPolicy.createHTML(lt):lt;if(Qe.innerHTML=vt,Ge.minWidthInPx=dt*ve,Ye){const rt=He.originalEndLineNumber-He.originalStartLineNumber;for(;Ye.length<=rt;)Ye[Ye.length]=1}Ge.diff.viewLineCounts=Ye}pe.original.sort((Be,He)=>Be.afterLineNumber-He.afterLineNumber)}_renderOriginalLine(pe,me,Se,ue,Ce,ve,_e,De,Re,Pe,Fe,We,xe,Ke,qe,et,ze,Me){ze.appendString('<div class="view-line'),Ce||ze.appendString(" char-delete"),ze.appendString('" style="top:'),ze.appendString(String(pe*Pe)),ze.appendString('px;width:1000000px;">');const Be=N.ViewLineRenderingData.isBasicASCII(me,ve),He=N.ViewLineRenderingData.containsRTL(me,Be,_e),Ge=(0,M.renderViewLine)(new M.RenderLineInput(De.isMonospace&&!Re,De.canUseHalfwidthRightwardsArrow,me,!1,Be,He,0,Se,ue,et,0,De.spaceWidth,De.middotWidth,De.wsmiddotWidth,We,xe,Ke,qe!==v.EditorFontLigatures.OFF,null),ze);if(ze.appendString("</div>"),this._renderIndicators){const Qe=document.createElement("div");Qe.className=`delete-sign ${o.ThemeIcon.asClassName(Z)}`,Qe.setAttribute("style",`position:absolute;top:${pe*Pe}px;width:${Fe}px;height:${Pe}px;right:0;`),Me.appendChild(Qe)}return Ge.characterMapping.getHorizontalOffset(Ge.characterMapping.length)}}function Y(Te,pe){return(0,v.stringSet)(Te,pe,["off","on","inherit"])}function le(Te){return Te.modifiedEndLineNumber>0}function fe(Te){return Te.originalEndLineNumber>0}function be(Te){return Te.modifiedStartLineNumber===Te.modifiedEndLineNumber?Te.modifiedEndColumn-Te.modifiedStartColumn>0:Te.modifiedEndLineNumber-Te.modifiedStartLineNumber>0}function we(Te){return Te.originalStartLineNumber===Te.originalEndLineNumber?Te.originalEndColumn-Te.originalStartColumn>0:Te.originalEndLineNumber-Te.originalStartLineNumber>0}function Ee(){const Te=document.createElement("div");return Te.className="diagonal-fill",Te}function Ie(){const Te=document.createElement("div");return Te.className="arrow-revert-change "+o.ThemeIcon.asClassName(f.Codicon.arrowRight),L.$("div",{},Te)}function ye(Te,pe,me,Se){const ue=Te.getLineCount();return me=Math.min(ue,Math.max(1,me)),Se=Math.min(ue,Math.max(1,Se)),pe.coordinatesConverter.convertModelRangeToViewRange(new w.Range(me,Te.getLineMinColumn(me),Se,Te.getLineMaxColumn(Se)))}function ke(Te,pe){return{enableSplitViewResizing:(0,v.boolean)(Te.enableSplitViewResizing,pe.enableSplitViewResizing),splitViewDefaultRatio:(0,v.clampedFloat)(Te.splitViewDefaultRatio,.5,.1,.9),renderSideBySide:(0,v.boolean)(Te.renderSideBySide,pe.renderSideBySide),renderMarginRevertIcon:(0,v.boolean)(Te.renderMarginRevertIcon,pe.renderMarginRevertIcon),maxComputationTime:(0,v.clampedInt)(Te.maxComputationTime,pe.maxComputationTime,0,1073741824),maxFileSize:(0,v.clampedInt)(Te.maxFileSize,pe.maxFileSize,0,1073741824),ignoreTrimWhitespace:(0,v.boolean)(Te.ignoreTrimWhitespace,pe.ignoreTrimWhitespace),renderIndicators:(0,v.boolean)(Te.renderIndicators,pe.renderIndicators),originalEditable:(0,v.boolean)(Te.originalEditable,pe.originalEditable),diffCodeLens:(0,v.boolean)(Te.diffCodeLens,pe.diffCodeLens),renderOverviewRuler:(0,v.boolean)(Te.renderOverviewRuler,pe.renderOverviewRuler),diffWordWrap:Y(Te.diffWordWrap,pe.diffWordWrap),diffAlgorithm:(0,v.stringSet)(Te.diffAlgorithm,pe.diffAlgorithm,["legacy","advanced"],{smart:"legacy",experimental:"advanced"}),accessibilityVerbose:(0,v.boolean)(Te.accessibilityVerbose,pe.accessibilityVerbose),experimental:{collapseUnchangedRegions:!1},isInEmbeddedEditor:(0,v.boolean)(Te.isInEmbeddedEditor,pe.isInEmbeddedEditor)}}function Ae(Te,pe){return{enableSplitViewResizing:Te.enableSplitViewResizing!==pe.enableSplitViewResizing,renderSideBySide:Te.renderSideBySide!==pe.renderSideBySide,renderMarginRevertIcon:Te.renderMarginRevertIcon!==pe.renderMarginRevertIcon,maxComputationTime:Te.maxComputationTime!==pe.maxComputationTime,maxFileSize:Te.maxFileSize!==pe.maxFileSize,ignoreTrimWhitespace:Te.ignoreTrimWhitespace!==pe.ignoreTrimWhitespace,renderIndicators:Te.renderIndicators!==pe.renderIndicators,originalEditable:Te.originalEditable!==pe.originalEditable,diffCodeLens:Te.diffCodeLens!==pe.diffCodeLens,renderOverviewRuler:Te.renderOverviewRuler!==pe.renderOverviewRuler,diffWordWrap:Te.diffWordWrap!==pe.diffWordWrap,diffAlgorithm:Te.diffAlgorithm!==pe.diffAlgorithm,accessibilityVerbose:Te.accessibilityVerbose!==pe.accessibilityVerbose}}(0,te.registerThemingParticipant)((Te,pe)=>{const me=Te.getColor(re.diffDiagonalFill);pe.addRule(`
	.monaco-editor .diagonal-fill {
		background-image: linear-gradient(
			-45deg,
			${me} 12.5%,
			#0000 12.5%, #0000 50%,
			${me} 50%, ${me} 62.5%,
			#0000 62.5%, #0000 100%
		);
		background-size: 8px 8px;
	}
	`)})}),define(X[862],ee([1,0,59,253,35,92,127,94,66]),function(q,e,L,k,y,D,S,m,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RenderOptions=e.LineSource=e.renderLines=void 0;const f=k.diffEditorWidgetTtPolicy;function p(o,r,d,h){(0,L.applyFontInfo)(h,r.fontInfo);const n=d.length>0,c=new D.StringBuilder(1e4);let a=0,l=0;const u=[];for(let b=0;b<o.lineTokens.length;b++){const w=b+1,E=o.lineTokens[b],I=o.lineBreakData[b],T=S.LineDecoration.filter(d,w,1,Number.MAX_SAFE_INTEGER);if(I){let P=0;for(const A of I.breakOffsets){const M=E.sliceAndInflate(P,A,0);a=Math.max(a,i(l,M,S.LineDecoration.extractWrapped(T,P,A),n,o.mightContainNonBasicASCII,o.mightContainRTL,r,c)),l++,P=A}u.push(I.breakOffsets.length)}else u.push(1),a=Math.max(a,i(l,E,T,n,o.mightContainNonBasicASCII,o.mightContainRTL,r,c)),l++}a+=r.scrollBeyondLastColumn;const C=c.build(),g=f?f.createHTML(C):C;h.innerHTML=g;const v=a*r.typicalHalfwidthCharacterWidth;return{heightInLines:l,minWidthInPx:v,viewLineCounts:u}}e.renderLines=p;class s{constructor(r,d,h,n){this.lineTokens=r,this.lineBreakData=d,this.mightContainNonBasicASCII=h,this.mightContainRTL=n}}e.LineSource=s;class t{static fromEditor(r){var d;const h=r.getOptions(),n=h.get(48),c=h.get(141);return new t(((d=r.getModel())===null||d===void 0?void 0:d.getOptions().tabSize)||0,n,h.get(31),n.typicalHalfwidthCharacterWidth,h.get(101),h.get(64),c.decorationsWidth,h.get(114),h.get(96),h.get(91),h.get(49))}constructor(r,d,h,n,c,a,l,u,C,g,v){this.tabSize=r,this.fontInfo=d,this.disableMonospaceOptimizations=h,this.typicalHalfwidthCharacterWidth=n,this.scrollBeyondLastColumn=c,this.lineHeight=a,this.lineDecorationsWidth=l,this.stopRenderingLineAfter=u,this.renderWhitespace=C,this.renderControlCharacters=g,this.fontLigatures=v}}e.RenderOptions=t;function i(o,r,d,h,n,c,a,l){l.appendString('<div class="view-line'),h||l.appendString(" char-delete"),l.appendString('" style="top:'),l.appendString(String(o*a.lineHeight)),l.appendString('px;width:1000000px;">');const u=r.getLineContent(),C=_.ViewLineRenderingData.isBasicASCII(u,n),g=_.ViewLineRenderingData.containsRTL(u,C,c),v=(0,m.renderViewLine)(new m.RenderLineInput(a.fontInfo.isMonospace&&!a.disableMonospaceOptimizations,a.fontInfo.canUseHalfwidthRightwardsArrow,u,!1,C,g,0,r,d,a.tabSize,0,a.fontInfo.spaceWidth,a.fontInfo.middotWidth,a.fontInfo.wsmiddotWidth,a.stopRenderingLineAfter,a.renderWhitespace,a.renderControlCharacters,a.fontLigatures!==y.EditorFontLigatures.OFF,null),l);return l.appendString("</div>"),v.characterMapping.getHorizontalOffset(v.characterMapping.length)}}),define(X[863],ee([1,0,7,16,14,25,2,42,90,27,18,59,108,357,314,608,862,143,65,11,66,95,57]),function(q,e,L,k,y,D,S,m,_,f,p,s,t,i,o,r,d,h,n,c,a,l,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewZoneManager=void 0;let C=e.ViewZoneManager=class extends S.Disposable{constructor(w,E,I,T,P,A,M){super(),this._editors=w,this._diffModel=E,this._options=I,this._diffEditorWidget=T,this._canIgnoreViewZoneUpdateEvent=P,this._clipboardService=A,this._contextMenuService=M,this._originalTopPadding=(0,m.observableValue)("originalTopPadding",0),this._originalScrollOffset=(0,m.observableValue)("originalScrollOffset",0),this._originalScrollOffsetAnimated=(0,h.animatedObservable)(this._originalScrollOffset,this._store),this._modifiedTopPadding=(0,m.observableValue)("modifiedTopPadding",0),this._modifiedScrollOffset=(0,m.observableValue)("modifiedScrollOffset",0),this._modifiedScrollOffsetAnimated=(0,h.animatedObservable)(this._modifiedScrollOffset,this._store);let N=!1;const R=(0,m.observableValue)("state",0),F=this._register(new y.RunOnceScheduler(()=>{R.set(R.get()+1,void 0)},0));this._register(this._editors.original.onDidChangeViewZones(te=>{!N&&!this._canIgnoreViewZoneUpdateEvent()&&F.schedule()})),this._register(this._editors.modified.onDidChangeViewZones(te=>{!N&&!this._canIgnoreViewZoneUpdateEvent()&&F.schedule()})),this._register(this._editors.original.onDidChangeConfiguration(te=>{te.hasChanged(142)&&F.schedule()})),this._register(this._editors.modified.onDidChangeConfiguration(te=>{te.hasChanged(142)&&F.schedule()}));const x=this._diffModel.map(te=>te?(0,m.observableFromEvent)(te.model.original.onDidChangeTokens,()=>te.model.original.tokenization.backgroundTokenizationState===2):void 0).map((te,H)=>te?.read(H)),W=new Set,z=new Set,U=(0,m.derived)("alignments",te=>{const H=this._diffModel.read(te),B=H?.diff.read(te);return!H||!B?null:(R.read(te),g(this._editors.original,this._editors.modified,B.mappings,W,z))}),O=(0,m.derived)("alignments",te=>{var H;const B=(H=this._diffModel.read(te))===null||H===void 0?void 0:H.syncedMovedTexts.read(te);if(!B)return null;R.read(te);const K=B.changes.map(Z=>new o.DiffMapping(Z));return g(this._editors.original,this._editors.modified,K,W,z)});function G(){const te=document.createElement("div");return te.className="diagonal-fill",te}const Q=this._register(new S.DisposableStore),re=(0,m.derived)("alignment viewzones",te=>{var H,B,K,Z,J,ne,he,de;Q.clear();const ae=U.read(te)||[],ce=[],$=[],V=this._modifiedTopPadding.read(te);V>0&&$.push({afterLineNumber:0,domNode:document.createElement("div"),heightInPx:V,showInHiddenAreas:!0});const j=this._originalTopPadding.read(te);j>0&&ce.push({afterLineNumber:0,domNode:document.createElement("div"),heightInPx:j,showInHiddenAreas:!0});const se=this._options.renderSideBySide.read(te),ie=se||(H=this._editors.modified._getViewModel())===null||H===void 0?void 0:H.createLineBreaksComputer();if(ie){for(const ye of ae)if(ye.diff)for(let ke=ye.originalRange.startLineNumber;ke<ye.originalRange.endLineNumberExclusive;ke++)ie?.addRequest(this._editors.original.getModel().getLineContent(ke),null,null)}const Y=(B=ie?.finalize())!==null&&B!==void 0?B:[];let le=0;const fe=this._editors.modified.getOption(64),be=(K=this._diffModel.read(te))===null||K===void 0?void 0:K.syncedMovedTexts.read(te),we=(J=(Z=this._editors.original.getModel())===null||Z===void 0?void 0:Z.mightContainNonBasicASCII())!==null&&J!==void 0?J:!1,Ee=(he=(ne=this._editors.original.getModel())===null||ne===void 0?void 0:ne.mightContainRTL())!==null&&he!==void 0?he:!1,Ie=d.RenderOptions.fromEditor(this._editors.modified);for(const ye of ae)if(ye.diff&&!se){if(!ye.originalRange.isEmpty){x.read(te);const Ae=document.createElement("div");Ae.classList.add("view-lines","line-delete","monaco-mouse-cursor-text");const Te=new d.LineSource(ye.originalRange.mapToLineArray(Ce=>this._editors.original.getModel().tokenization.getLineTokens(Ce)),ye.originalRange.mapToLineArray(Ce=>Y[le++]),we,Ee),pe=[];for(const Ce of ye.diff.innerChanges||[])pe.push(new a.InlineDecoration(Ce.originalRange.delta(-(ye.diff.originalRange.startLineNumber-1)),i.diffDeleteDecoration.className,0));const me=(0,d.renderLines)(Te,Ie,pe,Ae),Se=document.createElement("div");if(Se.className="inline-deleted-margin-view-zone",(0,s.applyFontInfo)(Se,Ie.fontInfo),this._options.renderIndicators.read(te))for(let Ce=0;Ce<me.heightInLines;Ce++){const ve=document.createElement("div");ve.className=`delete-sign ${f.ThemeIcon.asClassName(i.diffRemoveIcon)}`,ve.setAttribute("style",`position:absolute;top:${Ce*fe}px;width:${Ie.lineDecorationsWidth}px;height:${fe}px;right:0;`),Se.appendChild(ve)}let ue;Q.add(new r.InlineDiffDeletedCodeMargin(()=>(0,p.assertIsDefined)(ue),Se,this._editors.modified,ye.diff,this._diffEditorWidget,me.viewLineCounts,this._editors.original.getModel(),this._contextMenuService,this._clipboardService));for(let Ce=0;Ce<me.viewLineCounts.length;Ce++){const ve=me.viewLineCounts[Ce];ve>1&&ce.push({afterLineNumber:ye.originalRange.startLineNumber+Ce,domNode:G(),heightInPx:(ve-1)*fe,showInHiddenAreas:!0})}$.push({afterLineNumber:ye.modifiedRange.startLineNumber-1,domNode:Ae,heightInPx:me.heightInLines*fe,minWidthInPx:me.minWidthInPx,marginDomNode:Se,setZoneId(Ce){ue=Ce},showInHiddenAreas:!0})}const ke=document.createElement("div");ke.className="gutter-delete",ce.push({afterLineNumber:ye.originalRange.endLineNumberExclusive-1,domNode:G(),heightInPx:ye.modifiedHeightInPx,marginDomNode:ke,showInHiddenAreas:!0})}else{const ke=ye.modifiedHeightInPx-ye.originalHeightInPx;if(ke>0){if(be?.lineRangeMapping.originalRange.contains(ye.originalRange.endLineNumberExclusive-1))continue;ce.push({afterLineNumber:ye.originalRange.endLineNumberExclusive-1,domNode:G(),heightInPx:ke,showInHiddenAreas:!0})}else{let Ae=function(){const pe=document.createElement("div");return pe.className="arrow-revert-change "+f.ThemeIcon.asClassName(D.Codicon.arrowRight),(0,L.$)("div",{},pe)};if(be?.lineRangeMapping.modifiedRange.contains(ye.modifiedRange.endLineNumberExclusive-1))continue;let Te;ye.diff&&ye.diff.modifiedRange.isEmpty&&this._options.shouldRenderRevertArrows.read(te)&&(Te=Ae()),$.push({afterLineNumber:ye.modifiedRange.endLineNumberExclusive-1,domNode:G(),heightInPx:-ke,marginDomNode:Te,showInHiddenAreas:!0})}}for(const ye of(de=O.read(te))!==null&&de!==void 0?de:[]){if(!be?.lineRangeMapping.originalRange.intersect(ye.originalRange)&&!be?.lineRangeMapping.modifiedRange.intersect(ye.modifiedRange))continue;const ke=ye.modifiedHeightInPx-ye.originalHeightInPx;ke>0?ce.push({afterLineNumber:ye.originalRange.endLineNumberExclusive-1,domNode:G(),heightInPx:ke,showInHiddenAreas:!0}):$.push({afterLineNumber:ye.modifiedRange.endLineNumberExclusive-1,domNode:G(),heightInPx:-ke,showInHiddenAreas:!0})}return{orig:ce,mod:$}});this._register((0,_.autorunWithStore2)("alignment viewzones",te=>{const H=t.StableEditorScrollState.capture(this._editors.modified),B=re.read(te);N=!0,this._editors.original.changeViewZones(K=>{for(const Z of W)K.removeZone(Z);W.clear();for(const Z of B.orig){const J=K.addZone(Z);Z.setZoneId&&Z.setZoneId(J),W.add(J)}}),this._editors.modified.changeViewZones(K=>{for(const Z of z)K.removeZone(Z);z.clear();for(const Z of B.mod){const J=K.addZone(Z);Z.setZoneId&&Z.setZoneId(J),z.add(J)}}),N=!1,H.restore(this._editors.modified)}));let oe=!1;this._register(this._editors.original.onDidScrollChange(te=>{te.scrollLeftChanged&&!oe&&(oe=!0,this._editors.modified.setScrollLeft(te.scrollLeft),oe=!1)})),this._register(this._editors.modified.onDidScrollChange(te=>{te.scrollLeftChanged&&!oe&&(oe=!0,this._editors.original.setScrollLeft(te.scrollLeft),oe=!1)})),this._originalScrollTop=(0,m.observableFromEvent)(this._editors.original.onDidScrollChange,()=>this._editors.original.getScrollTop()),this._modifiedScrollTop=(0,m.observableFromEvent)(this._editors.modified.onDidScrollChange,()=>this._editors.modified.getScrollTop()),this._register((0,_.autorun)("update scroll modified",te=>{const H=this._originalScrollTop.read(te)-(this._originalScrollOffsetAnimated.get()-this._modifiedScrollOffsetAnimated.read(te))-(this._originalTopPadding.get()-this._modifiedTopPadding.read(te));H!==this._editors.modified.getScrollTop()&&this._editors.modified.setScrollTop(H,1)})),this._register((0,_.autorun)("update scroll original",te=>{const H=this._modifiedScrollTop.read(te)-(this._modifiedScrollOffsetAnimated.get()-this._originalScrollOffsetAnimated.read(te))-(this._modifiedTopPadding.get()-this._originalTopPadding.read(te));H!==this._editors.original.getScrollTop()&&this._editors.original.setScrollTop(H,1)})),this._register((0,_.autorun)("update",te=>{var H;const B=(H=this._diffModel.read(te))===null||H===void 0?void 0:H.syncedMovedTexts.read(te);let K=0;if(B){const Z=this._editors.original.getTopForLineNumber(B.lineRangeMapping.originalRange.startLineNumber,!0)-this._originalTopPadding.get();K=this._editors.modified.getTopForLineNumber(B.lineRangeMapping.modifiedRange.startLineNumber,!0)-this._modifiedTopPadding.get()-Z}K>0?(this._modifiedTopPadding.set(0,void 0),this._originalTopPadding.set(K,void 0)):K<0?(this._modifiedTopPadding.set(-K,void 0),this._originalTopPadding.set(0,void 0)):setTimeout(()=>{this._modifiedTopPadding.set(0,void 0),this._originalTopPadding.set(0,void 0)},400),this._editors.modified.hasTextFocus()?this._originalScrollOffset.set(this._modifiedScrollOffset.get()-K,void 0,!0):this._modifiedScrollOffset.set(this._originalScrollOffset.get()+K,void 0,!0)}))}};e.ViewZoneManager=C=Ne([ge(5,l.IClipboardService),ge(6,u.IContextMenuService)],C);function g(b,w,E,I,T){var P,A,M,N;const R=new k.ArrayQueue(v(b,I)),F=new k.ArrayQueue(v(w,T)),x=b.getOption(64),W=w.getOption(64),z=[];let U=0,O=0;function G(Q,re){for(;;){let oe=R.peek(),te=F.peek();if(oe&&oe.lineNumber>=Q&&(oe=void 0),te&&te.lineNumber>=re&&(te=void 0),!oe&&!te)break;const H=oe?oe.lineNumber-U:Number.MAX_VALUE,B=te?te.lineNumber-O:Number.MAX_VALUE;H<B?(R.dequeue(),te={lineNumber:oe.lineNumber-U+O,heightInPx:0}):H>B?(F.dequeue(),oe={lineNumber:te.lineNumber-O+U,heightInPx:0}):(R.dequeue(),F.dequeue()),z.push({originalRange:n.LineRange.ofLength(oe.lineNumber,1),modifiedRange:n.LineRange.ofLength(te.lineNumber,1),originalHeightInPx:x+oe.heightInPx,modifiedHeightInPx:W+te.heightInPx,diff:void 0})}}for(const Q of E){const re=Q.lineRangeMapping;G(re.originalRange.startLineNumber,re.modifiedRange.startLineNumber);const oe=(A=(P=R.takeWhile(H=>H.lineNumber<re.originalRange.endLineNumberExclusive))===null||P===void 0?void 0:P.reduce((H,B)=>H+B.heightInPx,0))!==null&&A!==void 0?A:0,te=(N=(M=F.takeWhile(H=>H.lineNumber<re.modifiedRange.endLineNumberExclusive))===null||M===void 0?void 0:M.reduce((H,B)=>H+B.heightInPx,0))!==null&&N!==void 0?N:0;z.push({originalRange:re.originalRange,modifiedRange:re.modifiedRange,originalHeightInPx:re.originalRange.length*x+oe,modifiedHeightInPx:re.modifiedRange.length*W+te,diff:Q.lineRangeMapping}),U=re.originalRange.endLineNumberExclusive,O=re.modifiedRange.endLineNumberExclusive}return G(Number.MAX_VALUE,Number.MAX_VALUE),z}function v(b,w){const E=[],I=[],T=b.getOption(142).wrappingColumn!==-1,P=b._getViewModel().coordinatesConverter,A=b.getOption(64);if(T)for(let N=1;N<=b.getModel().getLineCount();N++){const R=P.getModelLineViewLineCount(N);R>1&&I.push({lineNumber:N,heightInPx:A*(R-1)})}for(const N of b.getWhitespaces()){if(w.has(N.id))continue;const R=N.afterLineNumber===0?0:P.convertViewPositionToModelPosition(new c.Position(N.afterLineNumber,1)).lineNumber;E.push({lineNumber:R,heightInPx:N.height})}return(0,h.joinCombine)(E,I,N=>N.lineNumber,(N,R)=>({lineNumber:N.lineNumber,heightInPx:N.heightInPx+R.heightInPx}))}}),define(X[864],ee([1,0,7,12,6,42,90,106,167,15,32,163,858,585,818,863,269,352,610,143,343,147,22,13,8,158,477,832,617,314,427]),function(q,e,L,k,y,D,S,m,_,f,p,s,t,i,o,r,d,h,n,c,a,l,u,C,g,v,b,w,E,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiffEditorWidget2=void 0;let T=e.DiffEditorWidget2=class extends b.DelegatingEditor{constructor(M,N,R,F,x,W){var z;super(),this._domElement=M,this._parentContextKeyService=F,this._parentInstantiationService=x,this.elements=(0,L.h)("div.monaco-diff-editor.side-by-side",{style:{position:"relative",height:"100%"}},[(0,L.h)("div.noModificationsOverlay@overlay",{style:{position:"absolute",height:"100%",visibility:"hidden"}},[(0,L.$)("span",{},"No Changes")]),(0,L.h)("div.editor.original@original",{style:{position:"absolute",height:"100%"}}),(0,L.h)("div.editor.modified@modified",{style:{position:"absolute",height:"100%"}})]),this._diffModel=this._register((0,m.disposableObservableValue)("diffModel",void 0)),this.onDidChangeModel=y.Event.fromObservableLight(this._diffModel),this._contextKeyService=this._register(this._parentContextKeyService.createScoped(this._domElement)),this._instantiationService=this._parentInstantiationService.createChild(new v.ServiceCollection([C.IContextKeyService,this._contextKeyService])),this._boundarySashes=(0,D.observableValue)("boundarySashes",void 0),this._layoutInfo=(0,D.derived)("modifiedEditorLayoutInfo",O=>{var G;const Q=this._rootSizeObserver.width.read(O),re=this._rootSizeObserver.height.read(O),oe=(G=this._sash.read(O))===null||G===void 0?void 0:G.sashLeft.read(O),te=oe??Math.max(5,this._editors.original.getLayoutInfo().decorationsLeft);return this.elements.original.style.width=te+"px",this.elements.original.style.left="0px",this.elements.modified.style.width=Q-te+"px",this.elements.modified.style.left=te+"px",this._editors.original.layout({width:te,height:re}),this._editors.modified.layout({width:Q-te-(this._options.renderOverviewRuler.read(O)?h.OverviewRulerPart.ENTIRE_DIFF_OVERVIEW_WIDTH:0),height:re}),this._reviewPane.layout(0,Q,re),{modifiedEditor:this._editors.modified.getLayoutInfo(),originalEditor:this._editors.original.getLayoutInfo()}}),this._diffValue=this._diffModel.map((O,G)=>O?.diff.read(G)),this.onDidUpdateDiff=y.Event.fromObservableLight(this._diffValue),W.willCreateDiffEditor(),this._contextKeyService.createKey("isInDiffEditor",!0),this._contextKeyService.createKey("diffEditorVersion",2),this._options=new E.DiffEditorOptions(N),this._contextKeyService.createKey(u.EditorContextKeys.isEmbeddedDiffEditor.key,!1);const U=u.EditorContextKeys.isEmbeddedDiffEditor.bindTo(this._contextKeyService);this._register((0,D.autorun)("update isEmbeddedDiffEditorKey",O=>{U.set(this._options.isInEmbeddedEditor.read(O))})),this._domElement.appendChild(this.elements.root),this._rootSizeObserver=this._register(new c.ObservableElementSizeObserver(this.elements.root,N.dimension)),this._rootSizeObserver.setAutomaticLayout((z=N.automaticLayout)!==null&&z!==void 0?z:!1),this._editors=this._register(this._instantiationService.createInstance(w.DiffEditorEditors,this.elements.original,this.elements.modified,this._options,R,(O,G,Q,re)=>this._createInnerEditor(O,G,Q,re))),this._sash=(0,_.derivedWithStore)("sash",(O,G)=>{const Q=this._options.renderSideBySide.read(O);if(this.elements.root.classList.toggle("side-by-side",Q),!Q)return;const re=G.add(new i.DiffEditorSash(this._options,this.elements.root,{height:this._rootSizeObserver.height,width:this._rootSizeObserver.width.map((oe,te)=>oe-(this._options.renderOverviewRuler.read(te)?h.OverviewRulerPart.ENTIRE_DIFF_OVERVIEW_WIDTH:0))}));return G.add((0,D.autorun)("setBoundarySashes",oe=>{const te=this._boundarySashes.read(oe);te&&re.setBoundarySashes(te)})),re}),this._register((0,D.keepAlive)(this._sash,!0)),this._register((0,S.autorunWithStore2)("UnchangedRangesFeature",(O,G)=>{this.unchangedRangesFeature=G.add(new((0,c.readHotReloadableExport)(n.UnchangedRangesFeature,O))(this._editors,this._diffModel,this._options))})),this._register((0,S.autorunWithStore2)("DiffEditorDecorations",(O,G)=>{G.add(new((0,c.readHotReloadableExport)(t.DiffEditorDecorations,O))(this._editors,this._diffModel,this._options))})),this._register(this._instantiationService.createInstance(r.ViewZoneManager,this._editors,this._diffModel,this._options,this,()=>this.unchangedRangesFeature.isUpdatingViewZones)),this._register((0,S.autorunWithStore2)("OverviewRulerPart",(O,G)=>{G.add(this._instantiationService.createInstance((0,c.readHotReloadableExport)(h.OverviewRulerPart,O),this._editors,this.elements.root,this._diffModel,this._rootSizeObserver.width,this._rootSizeObserver.height,this._layoutInfo.map(Q=>Q.modifiedEditor),this._options))})),this._reviewPane=this._register(this._instantiationService.createInstance(o.DiffReview2,this)),this.elements.root.appendChild(this._reviewPane.domNode.domNode),this.elements.root.appendChild(this._reviewPane.shadow.domNode),this.elements.root.appendChild(this._reviewPane.actionBarContainer.domNode),this._createDiffEditorContributions(),W.addDiffEditor(this),this._register((0,D.keepAlive)(this._layoutInfo,!0)),this._register(new d.MovedBlocksLinesPart(this.elements.root,this._diffModel,this._layoutInfo.map(O=>O.originalEditor),this._layoutInfo.map(O=>O.modifiedEditor),this._editors)),this._register((0,c.applyStyle)(this.elements.overlay,{width:this._layoutInfo.map((O,G)=>O.originalEditor.width+(this._options.renderSideBySide.read(G)?0:O.modifiedEditor.width)),visibility:(0,D.derived)("visibility",O=>{var G,Q;return this._options.collapseUnchangedRegions.read(O)&&((Q=(G=this._diffModel.read(O))===null||G===void 0?void 0:G.diff.read(O))===null||Q===void 0?void 0:Q.mappings.length)===0?"visible":"hidden"})})),this._register(this._editors.original.onDidChangeCursorPosition(O=>{const G=this._diffModel.get();if(!G)return;const Q=G.diff.get().movedTexts.find(re=>re.lineRangeMapping.originalRange.contains(O.position.lineNumber));G.syncedMovedTexts.set(Q,void 0)})),this._register(this._editors.modified.onDidChangeCursorPosition(O=>{const G=this._diffModel.get();if(!G)return;const Q=G.diff.get().movedTexts.find(re=>re.lineRangeMapping.modifiedRange.contains(O.position.lineNumber));G.syncedMovedTexts.set(Q,void 0)})),this._register(this._editors.modified.onMouseDown(O=>{var G,Q;if(!O.event.rightButton&&O.target.position&&(!((G=O.target.element)===null||G===void 0)&&G.className.includes("arrow-revert-change"))){const re=O.target.position.lineNumber,oe=O.target,te=this._diffModel.get();if(!te)return;const H=(Q=te.diff.get())===null||Q===void 0?void 0:Q.mappings;if(!H)return;const B=H.find(K=>oe?.detail.afterLineNumber===K.lineRangeMapping.modifiedRange.startLineNumber-1||K.lineRangeMapping.modifiedRange.startLineNumber===re);if(!B)return;this.revert(B.lineRangeMapping),O.event.stopPropagation()}}))}_createInnerEditor(M,N,R,F){return M.createInstance(s.CodeEditorWidget,N,R,F)}_createDiffEditorContributions(){const M=f.EditorExtensionsRegistry.getDiffEditorContributions();for(const N of M)try{this._register(this._instantiationService.createInstance(N.ctor,this))}catch(R){(0,k.onUnexpectedError)(R)}}get _targetEditor(){return this._editors.modified}getEditorType(){return l.EditorType.IDiffEditor}layout(M){this._rootSizeObserver.observe(M)}hasTextFocus(){return this._editors.original.hasTextFocus()||this._editors.modified.hasTextFocus()}saveViewState(){var M;const N=this._editors.original.saveViewState(),R=this._editors.modified.saveViewState();return{original:N,modified:R,modelState:(M=this._diffModel.get())===null||M===void 0?void 0:M.serializeState()}}restoreViewState(M){var N;if(M&&M.original&&M.modified){const R=M;this._editors.original.restoreViewState(R.original),this._editors.modified.restoreViewState(R.modified),R.modelState&&((N=this._diffModel.get())===null||N===void 0||N.restoreSerializedState(R.modelState))}}createViewModel(M){return new I.DiffEditorViewModel(M,this._options,this._instantiationService.createInstance(a.WorkerBasedDocumentDiffProvider,{diffAlgorithm:this._options.diffAlgorithm.get()}))}getModel(){var M,N;return(N=(M=this._diffModel.get())===null||M===void 0?void 0:M.model)!==null&&N!==void 0?N:null}setModel(M){const N=M?"model"in M?M:this.createViewModel(M):void 0;this._editors.original.setModel(N?N.model.original:null),this._editors.modified.setModel(N?N.model.modified:null),(0,m.transaction)(R=>{this._diffModel.set(N,R)})}updateOptions(M){this._options.updateOptions(M)}getContainerDomNode(){return this._domElement}getOriginalEditor(){return this._editors.original}getModifiedEditor(){return this._editors.modified}getLineChanges(){var M;const N=(M=this._diffModel.get())===null||M===void 0?void 0:M.diff.get();return N?P(N):null}revert(M){var N;const R=(N=this._diffModel.get())===null||N===void 0?void 0:N.model;if(!R)return;const F=M.innerChanges?M.innerChanges.map(x=>({range:x.modifiedRange,text:R.original.getValueInRange(x.originalRange)})):[{range:M.modifiedRange.toExclusiveRange(),text:R.original.getValueInRange(M.originalRange.toExclusiveRange())}];this._editors.modified.executeEdits("diffEditor",F)}diffReviewNext(){this._reviewPane.next()}diffReviewPrev(){this._reviewPane.prev()}};e.DiffEditorWidget2=T=Ne([ge(3,C.IContextKeyService),ge(4,g.IInstantiationService),ge(5,p.ICodeEditorService)],T);function P(A){return A.mappings.map(M=>{const N=M.lineRangeMapping;let R,F,x,W,z=N.innerChanges;return N.originalRange.isEmpty?(R=N.originalRange.startLineNumber-1,F=0,z=void 0):(R=N.originalRange.startLineNumber,F=N.originalRange.endLineNumberExclusive-1),N.modifiedRange.isEmpty?(x=N.modifiedRange.startLineNumber-1,W=0,z=void 0):(x=N.modifiedRange.startLineNumber,W=N.modifiedRange.endLineNumberExclusive-1),{originalStartLineNumber:R,originalEndLineNumber:F,modifiedStartLineNumber:x,modifiedEndLineNumber:W,charChanges:z?.map(U=>({originalStartLineNumber:U.originalRange.startLineNumber,originalStartColumn:U.originalRange.startColumn,originalEndLineNumber:U.originalRange.endLineNumber,originalEndColumn:U.originalRange.endColumn,modifiedStartLineNumber:U.modifiedRange.startLineNumber,modifiedStartColumn:U.modifiedRange.startColumn,modifiedEndLineNumber:U.modifiedRange.endLineNumber,modifiedEndColumn:U.modifiedRange.endColumn}))}})}}),define(X[164],ee([1,0,46,32,163,26,13,8,44,23,96,30,19]),function(q,e,L,k,y,D,S,m,_,f,p,s,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EmbeddedCodeEditorWidget=void 0;let i=e.EmbeddedCodeEditorWidget=class extends y.CodeEditorWidget{constructor(r,d,h,n,c,a,l,u,C,g,v,b,w){super(r,Object.assign(Object.assign({},n.getRawOptions()),{overflowWidgetsDomNode:n.getOverflowWidgetsDomNode()}),h,c,a,l,u,C,g,v,b,w),this._parentEditor=n,this._overwriteOptions=d,super.updateOptions(this._overwriteOptions),this._register(n.onDidChangeConfiguration(E=>this._onParentConfigurationChanged(E)))}getParentEditor(){return this._parentEditor}_onParentConfigurationChanged(r){super.updateOptions(this._parentEditor.getRawOptions()),super.updateOptions(this._overwriteOptions)}updateOptions(r){L.mixin(this._overwriteOptions,r,!0),super.updateOptions(this._overwriteOptions)}};e.EmbeddedCodeEditorWidget=i=Ne([ge(4,m.IInstantiationService),ge(5,k.ICodeEditorService),ge(6,D.ICommandService),ge(7,S.IContextKeyService),ge(8,f.IThemeService),ge(9,_.INotificationService),ge(10,p.IAccessibilityService),ge(11,s.ILanguageConfigurationService),ge(12,t.ILanguageFeaturesService)],i)}),define(X[865],ee([1,0,14,2,15,11,5,24,22,47,39,625,31,33,23,432]),function(q,e,L,k,y,D,S,m,_,f,p,s,t,i,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketMatchingController=void 0;const r=(0,i.registerColor)("editorOverviewRuler.bracketMatchForeground",{dark:"#A0A0A0",light:"#A0A0A0",hcDark:"#A0A0A0",hcLight:"#A0A0A0"},s.localize(0,null));class d extends y.EditorAction{constructor(){super({id:"editor.action.jumpToBracket",label:s.localize(1,null),alias:"Go to Bracket",precondition:void 0,kbOpts:{kbExpr:_.EditorContextKeys.editorTextFocus,primary:3165,weight:100}})}run(u,C){var g;(g=a.get(C))===null||g===void 0||g.jumpToBracket()}}class h extends y.EditorAction{constructor(){super({id:"editor.action.selectToBracket",label:s.localize(2,null),alias:"Select to Bracket",precondition:void 0,description:{description:"Select to Bracket",args:[{name:"args",schema:{type:"object",properties:{selectBrackets:{type:"boolean",default:!0}}}}]}})}run(u,C,g){var v;let b=!0;g&&g.selectBrackets===!1&&(b=!1),(v=a.get(C))===null||v===void 0||v.selectToBracket(b)}}class n extends y.EditorAction{constructor(){super({id:"editor.action.removeBrackets",label:s.localize(3,null),alias:"Remove Brackets",precondition:void 0,kbOpts:{kbExpr:_.EditorContextKeys.editorTextFocus,primary:2561,weight:100}})}run(u,C){var g;(g=a.get(C))===null||g===void 0||g.removeBrackets(this.id)}}class c{constructor(u,C,g){this.position=u,this.brackets=C,this.options=g}}class a extends k.Disposable{static get(u){return u.getContribution(a.ID)}constructor(u){super(),this._editor=u,this._lastBracketsData=[],this._lastVersionId=0,this._decorations=this._editor.createDecorationsCollection(),this._updateBracketsSoon=this._register(new L.RunOnceScheduler(()=>this._updateBrackets(),50)),this._matchBrackets=this._editor.getOption(69),this._updateBracketsSoon.schedule(),this._register(u.onDidChangeCursorPosition(C=>{this._matchBrackets!=="never"&&this._updateBracketsSoon.schedule()})),this._register(u.onDidChangeModelContent(C=>{this._updateBracketsSoon.schedule()})),this._register(u.onDidChangeModel(C=>{this._lastBracketsData=[],this._updateBracketsSoon.schedule()})),this._register(u.onDidChangeModelLanguageConfiguration(C=>{this._lastBracketsData=[],this._updateBracketsSoon.schedule()})),this._register(u.onDidChangeConfiguration(C=>{C.hasChanged(69)&&(this._matchBrackets=this._editor.getOption(69),this._decorations.clear(),this._lastBracketsData=[],this._lastVersionId=0,this._updateBracketsSoon.schedule())})),this._register(u.onDidBlurEditorWidget(()=>{this._updateBracketsSoon.schedule()})),this._register(u.onDidFocusEditorWidget(()=>{this._updateBracketsSoon.schedule()}))}jumpToBracket(){if(!this._editor.hasModel())return;const u=this._editor.getModel(),C=this._editor.getSelections().map(g=>{const v=g.getStartPosition(),b=u.bracketPairs.matchBracket(v);let w=null;if(b)b[0].containsPosition(v)&&!b[1].containsPosition(v)?w=b[1].getStartPosition():b[1].containsPosition(v)&&(w=b[0].getStartPosition());else{const E=u.bracketPairs.findEnclosingBrackets(v);if(E)w=E[1].getStartPosition();else{const I=u.bracketPairs.findNextBracket(v);I&&I.range&&(w=I.range.getStartPosition())}}return w?new m.Selection(w.lineNumber,w.column,w.lineNumber,w.column):new m.Selection(v.lineNumber,v.column,v.lineNumber,v.column)});this._editor.setSelections(C),this._editor.revealRange(C[0])}selectToBracket(u){if(!this._editor.hasModel())return;const C=this._editor.getModel(),g=[];this._editor.getSelections().forEach(v=>{const b=v.getStartPosition();let w=C.bracketPairs.matchBracket(b);if(!w&&(w=C.bracketPairs.findEnclosingBrackets(b),!w)){const T=C.bracketPairs.findNextBracket(b);T&&T.range&&(w=C.bracketPairs.matchBracket(T.range.getStartPosition()))}let E=null,I=null;if(w){w.sort(S.Range.compareRangesUsingStarts);const[T,P]=w;if(E=u?T.getStartPosition():T.getEndPosition(),I=u?P.getEndPosition():P.getStartPosition(),P.containsPosition(b)){const A=E;E=I,I=A}}E&&I&&g.push(new m.Selection(E.lineNumber,E.column,I.lineNumber,I.column))}),g.length>0&&(this._editor.setSelections(g),this._editor.revealRange(g[0]))}removeBrackets(u){if(!this._editor.hasModel())return;const C=this._editor.getModel();this._editor.getSelections().forEach(g=>{const v=g.getPosition();let b=C.bracketPairs.matchBracket(v);b||(b=C.bracketPairs.findEnclosingBrackets(v)),b&&(this._editor.pushUndoStop(),this._editor.executeEdits(u,[{range:b[0],text:""},{range:b[1],text:""}]),this._editor.pushUndoStop())})}_updateBrackets(){if(this._matchBrackets==="never")return;this._recomputeBrackets();const u=[];let C=0;for(const g of this._lastBracketsData){const v=g.brackets;v&&(u[C++]={range:v[0],options:g.options},u[C++]={range:v[1],options:g.options})}this._decorations.set(u)}_recomputeBrackets(){if(!this._editor.hasModel()||!this._editor.hasWidgetFocus()){this._lastBracketsData=[],this._lastVersionId=0;return}const u=this._editor.getSelections();if(u.length>100){this._lastBracketsData=[],this._lastVersionId=0;return}const C=this._editor.getModel(),g=C.getVersionId();let v=[];this._lastVersionId===g&&(v=this._lastBracketsData);const b=[];let w=0;for(let A=0,M=u.length;A<M;A++){const N=u[A];N.isEmpty()&&(b[w++]=N.getStartPosition())}b.length>1&&b.sort(D.Position.compare);const E=[];let I=0,T=0;const P=v.length;for(let A=0,M=b.length;A<M;A++){const N=b[A];for(;T<P&&v[T].position.isBefore(N);)T++;if(T<P&&v[T].position.equals(N))E[I++]=v[T];else{let R=C.bracketPairs.matchBracket(N,20),F=a._DECORATION_OPTIONS_WITH_OVERVIEW_RULER;!R&&this._matchBrackets==="always"&&(R=C.bracketPairs.findEnclosingBrackets(N,20),F=a._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER),E[I++]=new c(N,R,F)}}this._lastBracketsData=E,this._lastVersionId=g}}e.BracketMatchingController=a,a.ID="editor.contrib.bracketMatchingController",a._DECORATION_OPTIONS_WITH_OVERVIEW_RULER=p.ModelDecorationOptions.register({description:"bracket-match-overview",stickiness:1,className:"bracket-match",overviewRuler:{color:(0,o.themeColorFromId)(r),position:f.OverviewRulerLane.Center}}),a._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER=p.ModelDecorationOptions.register({description:"bracket-match-no-overview",stickiness:1,className:"bracket-match"}),(0,y.registerEditorContribution)(a.ID,a,1),(0,y.registerEditorAction)(h),(0,y.registerEditorAction)(d),(0,y.registerEditorAction)(n),t.MenuRegistry.appendMenuItem(t.MenuId.MenubarGoMenu,{group:"5_infile_nav",command:{id:"editor.action.jumpToBracket",title:s.localize(4,null)},order:2})}),define(X[866],ee([1,0,7,129,5,39,434]),function(q,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeLensWidget=e.CodeLensHelper=void 0;class S{constructor(t,i,o){this.afterColumn=1073741824,this.afterLineNumber=t,this.heightInPx=i,this._onHeight=o,this.suppressMouseDown=!0,this.domNode=document.createElement("div")}onComputedHeight(t){this._lastHeight===void 0?this._lastHeight=t:this._lastHeight!==t&&(this._lastHeight=t,this._onHeight())}isVisible(){return this._lastHeight!==0&&this.domNode.hasAttribute("monaco-visible-view-zone")}}class m{constructor(t,i){this.allowEditorOverflow=!1,this.suppressMouseDown=!0,this._commands=new Map,this._isEmpty=!0,this._editor=t,this._id=`codelens.widget-${m._idPool++}`,this.updatePosition(i),this._domNode=document.createElement("span"),this._domNode.className="codelens-decoration"}withCommands(t,i){this._commands.clear();const o=[];let r=!1;for(let d=0;d<t.length;d++){const h=t[d];if(h&&(r=!0,h.command)){const n=(0,k.renderLabelWithIcons)(h.command.title.trim());h.command.id?(o.push(L.$("a",{id:String(d),title:h.command.tooltip,role:"button"},...n)),this._commands.set(String(d),h.command)):o.push(L.$("span",{title:h.command.tooltip},...n)),d+1<t.length&&o.push(L.$("span",void 0,"\xA0|\xA0"))}}r?(L.reset(this._domNode,...o),this._isEmpty&&i&&this._domNode.classList.add("fadein"),this._isEmpty=!1):L.reset(this._domNode,L.$("span",void 0,"no commands"))}getCommand(t){return t.parentElement===this._domNode?this._commands.get(t.id):void 0}getId(){return this._id}getDomNode(){return this._domNode}updatePosition(t){const i=this._editor.getModel().getLineFirstNonWhitespaceColumn(t);this._widgetPosition={position:{lineNumber:t,column:i},preference:[1]}}getPosition(){return this._widgetPosition||null}}m._idPool=0;class _{constructor(){this._removeDecorations=[],this._addDecorations=[],this._addDecorationsCallbacks=[]}addDecoration(t,i){this._addDecorations.push(t),this._addDecorationsCallbacks.push(i)}removeDecoration(t){this._removeDecorations.push(t)}commit(t){const i=t.deltaDecorations(this._removeDecorations,this._addDecorations);for(let o=0,r=i.length;o<r;o++)this._addDecorationsCallbacks[o](i[o])}}e.CodeLensHelper=_;const f=D.ModelDecorationOptions.register({collapseOnReplaceEdit:!0,description:"codelens"});class p{constructor(t,i,o,r,d,h){this._isDisposed=!1,this._editor=i,this._data=t,this._decorationIds=[];let n;const c=[];this._data.forEach((a,l)=>{a.symbol.command&&c.push(a.symbol),o.addDecoration({range:a.symbol.range,options:f},u=>this._decorationIds[l]=u),n?n=y.Range.plusRange(n,a.symbol.range):n=y.Range.lift(a.symbol.range)}),this._viewZone=new S(n.startLineNumber-1,d,h),this._viewZoneId=r.addZone(this._viewZone),c.length>0&&(this._createContentWidgetIfNecessary(),this._contentWidget.withCommands(c,!1))}_createContentWidgetIfNecessary(){this._contentWidget?this._editor.layoutContentWidget(this._contentWidget):(this._contentWidget=new m(this._editor,this._viewZone.afterLineNumber+1),this._editor.addContentWidget(this._contentWidget))}dispose(t,i){this._decorationIds.forEach(t.removeDecoration,t),this._decorationIds=[],i?.removeZone(this._viewZoneId),this._contentWidget&&(this._editor.removeContentWidget(this._contentWidget),this._contentWidget=void 0),this._isDisposed=!0}isDisposed(){return this._isDisposed}isValid(){return this._decorationIds.some((t,i)=>{const o=this._editor.getModel().getDecorationRange(t),r=this._data[i].symbol;return!!(o&&y.Range.isEmpty(r.range)===o.isEmpty())})}updateCodeLensSymbols(t,i){this._decorationIds.forEach(i.removeDecoration,i),this._decorationIds=[],this._data=t,this._data.forEach((o,r)=>{i.addDecoration({range:o.symbol.range,options:f},d=>this._decorationIds[r]=d)})}updateHeight(t,i){this._viewZone.heightInPx=t,i.layoutZone(this._viewZoneId),this._contentWidget&&this._editor.layoutContentWidget(this._contentWidget)}computeIfNecessary(t){if(!this._viewZone.isVisible())return null;for(let i=0;i<this._decorationIds.length;i++){const o=t.getDecorationRange(this._decorationIds[i]);o&&(this._data[i].symbol.range=o)}return this._data}updateCommands(t){this._createContentWidgetIfNecessary(),this._contentWidget.withCommands(t,!0);for(let i=0;i<this._data.length;i++){const o=t[i];if(o){const{symbol:r}=this._data[i];r.command=o.command||r.command}}}getCommand(t){var i;return(i=this._contentWidget)===null||i===void 0?void 0:i.getCommand(t)}getLineNumber(){const t=this._editor.getModel().getDecorationRange(this._decorationIds[0]);return t?t.startLineNumber:-1}update(t){if(this.isValid()){const i=this._editor.getModel().getDecorationRange(this._decorationIds[0]);i&&(this._viewZone.afterLineNumber=i.startLineNumber-1,t.layoutZone(this._viewZoneId),this._contentWidget&&(this._contentWidget.updatePosition(i.startLineNumber),this._editor.layoutContentWidget(this._contentWidget)))}}}e.CodeLensWidget=p}),define(X[867],ee([1,0,14,12,2,108,15,35,22,326,777,866,635,26,44,76,75,19]),function(q,e,L,k,y,D,S,m,_,f,p,s,t,i,o,r,d,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeLensContribution=void 0;let n=e.CodeLensContribution=class{constructor(a,l,u,C,g,v){this._editor=a,this._languageFeaturesService=l,this._commandService=C,this._notificationService=g,this._codeLensCache=v,this._disposables=new y.DisposableStore,this._localToDispose=new y.DisposableStore,this._lenses=[],this._oldCodeLensModels=new y.DisposableStore,this._provideCodeLensDebounce=u.for(l.codeLensProvider,"CodeLensProvide",{min:250}),this._resolveCodeLensesDebounce=u.for(l.codeLensProvider,"CodeLensResolve",{min:250,salt:"resolve"}),this._resolveCodeLensesScheduler=new L.RunOnceScheduler(()=>this._resolveCodeLensesInViewport(),this._resolveCodeLensesDebounce.default()),this._disposables.add(this._editor.onDidChangeModel(()=>this._onModelChange())),this._disposables.add(this._editor.onDidChangeModelLanguage(()=>this._onModelChange())),this._disposables.add(this._editor.onDidChangeConfiguration(b=>{(b.hasChanged(48)||b.hasChanged(17)||b.hasChanged(16))&&this._updateLensStyle(),b.hasChanged(15)&&this._onModelChange()})),this._disposables.add(l.codeLensProvider.onDidChange(this._onModelChange,this)),this._onModelChange(),this._updateLensStyle()}dispose(){var a;this._localDispose(),this._disposables.dispose(),this._oldCodeLensModels.dispose(),(a=this._currentCodeLensModel)===null||a===void 0||a.dispose()}_getLayoutInfo(){const a=Math.max(1.3,this._editor.getOption(64)/this._editor.getOption(50));let l=this._editor.getOption(17);return(!l||l<5)&&(l=this._editor.getOption(50)*.9|0),{fontSize:l,codeLensHeight:l*a|0}}_updateLensStyle(){const{codeLensHeight:a,fontSize:l}=this._getLayoutInfo(),u=this._editor.getOption(16),C=this._editor.getOption(48),{style:g}=this._editor.getContainerDomNode();g.setProperty("--vscode-editorCodeLens-lineHeight",`${a}px`),g.setProperty("--vscode-editorCodeLens-fontSize",`${l}px`),g.setProperty("--vscode-editorCodeLens-fontFeatureSettings",C.fontFeatureSettings),u&&(g.setProperty("--vscode-editorCodeLens-fontFamily",u),g.setProperty("--vscode-editorCodeLens-fontFamilyDefault",m.EDITOR_FONT_DEFAULTS.fontFamily)),this._editor.changeViewZones(v=>{for(const b of this._lenses)b.updateHeight(a,v)})}_localDispose(){var a,l,u;(a=this._getCodeLensModelPromise)===null||a===void 0||a.cancel(),this._getCodeLensModelPromise=void 0,(l=this._resolveCodeLensesPromise)===null||l===void 0||l.cancel(),this._resolveCodeLensesPromise=void 0,this._localToDispose.clear(),this._oldCodeLensModels.clear(),(u=this._currentCodeLensModel)===null||u===void 0||u.dispose()}_onModelChange(){this._localDispose();const a=this._editor.getModel();if(!a||!this._editor.getOption(15))return;const l=this._codeLensCache.get(a);if(l&&this._renderCodeLensSymbols(l),!this._languageFeaturesService.codeLensProvider.has(a)){l&&this._localToDispose.add((0,L.disposableTimeout)(()=>{const C=this._codeLensCache.get(a);l===C&&(this._codeLensCache.delete(a),this._onModelChange())},30*1e3));return}for(const C of this._languageFeaturesService.codeLensProvider.all(a))if(typeof C.onDidChange=="function"){const g=C.onDidChange(()=>u.schedule());this._localToDispose.add(g)}const u=new L.RunOnceScheduler(()=>{var C;const g=Date.now();(C=this._getCodeLensModelPromise)===null||C===void 0||C.cancel(),this._getCodeLensModelPromise=(0,L.createCancelablePromise)(v=>(0,f.getCodeLensModel)(this._languageFeaturesService.codeLensProvider,a,v)),this._getCodeLensModelPromise.then(v=>{this._currentCodeLensModel&&this._oldCodeLensModels.add(this._currentCodeLensModel),this._currentCodeLensModel=v,this._codeLensCache.put(a,v);const b=this._provideCodeLensDebounce.update(a,Date.now()-g);u.delay=b,this._renderCodeLensSymbols(v),this._resolveCodeLensesInViewportSoon()},k.onUnexpectedError)},this._provideCodeLensDebounce.get(a));this._localToDispose.add(u),this._localToDispose.add((0,y.toDisposable)(()=>this._resolveCodeLensesScheduler.cancel())),this._localToDispose.add(this._editor.onDidChangeModelContent(()=>{var C;this._editor.changeDecorations(g=>{this._editor.changeViewZones(v=>{const b=[];let w=-1;this._lenses.forEach(I=>{!I.isValid()||w===I.getLineNumber()?b.push(I):(I.update(v),w=I.getLineNumber())});const E=new s.CodeLensHelper;b.forEach(I=>{I.dispose(E,v),this._lenses.splice(this._lenses.indexOf(I),1)}),E.commit(g)})}),u.schedule(),this._resolveCodeLensesScheduler.cancel(),(C=this._resolveCodeLensesPromise)===null||C===void 0||C.cancel(),this._resolveCodeLensesPromise=void 0})),this._localToDispose.add(this._editor.onDidFocusEditorWidget(()=>{u.schedule()})),this._localToDispose.add(this._editor.onDidScrollChange(C=>{C.scrollTopChanged&&this._lenses.length>0&&this._resolveCodeLensesInViewportSoon()})),this._localToDispose.add(this._editor.onDidLayoutChange(()=>{this._resolveCodeLensesInViewportSoon()})),this._localToDispose.add((0,y.toDisposable)(()=>{if(this._editor.getModel()){const C=D.StableEditorScrollState.capture(this._editor);this._editor.changeDecorations(g=>{this._editor.changeViewZones(v=>{this._disposeAllLenses(g,v)})}),C.restore(this._editor)}else this._disposeAllLenses(void 0,void 0)})),this._localToDispose.add(this._editor.onMouseDown(C=>{if(C.target.type!==9)return;let g=C.target.element;if(g?.tagName==="SPAN"&&(g=g.parentElement),g?.tagName==="A")for(const v of this._lenses){const b=v.getCommand(g);if(b){this._commandService.executeCommand(b.id,...b.arguments||[]).catch(w=>this._notificationService.error(w));break}}})),u.schedule()}_disposeAllLenses(a,l){const u=new s.CodeLensHelper;for(const C of this._lenses)C.dispose(u,l);a&&u.commit(a),this._lenses.length=0}_renderCodeLensSymbols(a){if(!this._editor.hasModel())return;const l=this._editor.getModel().getLineCount(),u=[];let C;for(const b of a.lenses){const w=b.symbol.range.startLineNumber;w<1||w>l||(C&&C[C.length-1].symbol.range.startLineNumber===w?C.push(b):(C=[b],u.push(C)))}if(!u.length&&!this._lenses.length)return;const g=D.StableEditorScrollState.capture(this._editor),v=this._getLayoutInfo();this._editor.changeDecorations(b=>{this._editor.changeViewZones(w=>{const E=new s.CodeLensHelper;let I=0,T=0;for(;T<u.length&&I<this._lenses.length;){const P=u[T][0].symbol.range.startLineNumber,A=this._lenses[I].getLineNumber();A<P?(this._lenses[I].dispose(E,w),this._lenses.splice(I,1)):A===P?(this._lenses[I].updateCodeLensSymbols(u[T],E),T++,I++):(this._lenses.splice(I,0,new s.CodeLensWidget(u[T],this._editor,E,w,v.codeLensHeight,()=>this._resolveCodeLensesInViewportSoon())),I++,T++)}for(;I<this._lenses.length;)this._lenses[I].dispose(E,w),this._lenses.splice(I,1);for(;T<u.length;)this._lenses.push(new s.CodeLensWidget(u[T],this._editor,E,w,v.codeLensHeight,()=>this._resolveCodeLensesInViewportSoon())),T++;E.commit(b)})}),g.restore(this._editor)}_resolveCodeLensesInViewportSoon(){this._editor.getModel()&&this._resolveCodeLensesScheduler.schedule()}_resolveCodeLensesInViewport(){var a;(a=this._resolveCodeLensesPromise)===null||a===void 0||a.cancel(),this._resolveCodeLensesPromise=void 0;const l=this._editor.getModel();if(!l)return;const u=[],C=[];if(this._lenses.forEach(b=>{const w=b.computeIfNecessary(l);w&&(u.push(w),C.push(b))}),u.length===0)return;const g=Date.now(),v=(0,L.createCancelablePromise)(b=>{const w=u.map((E,I)=>{const T=new Array(E.length),P=E.map((A,M)=>!A.symbol.command&&typeof A.provider.resolveCodeLens=="function"?Promise.resolve(A.provider.resolveCodeLens(l,A.symbol,b)).then(N=>{T[M]=N},k.onUnexpectedExternalError):(T[M]=A.symbol,Promise.resolve(void 0)));return Promise.all(P).then(()=>{!b.isCancellationRequested&&!C[I].isDisposed()&&C[I].updateCommands(T)})});return Promise.all(w)});this._resolveCodeLensesPromise=v,this._resolveCodeLensesPromise.then(()=>{const b=this._resolveCodeLensesDebounce.update(l,Date.now()-g);this._resolveCodeLensesScheduler.delay=b,this._currentCodeLensModel&&this._codeLensCache.put(l,this._currentCodeLensModel),this._oldCodeLensModels.clear(),v===this._resolveCodeLensesPromise&&(this._resolveCodeLensesPromise=void 0)},b=>{(0,k.onUnexpectedError)(b),v===this._resolveCodeLensesPromise&&(this._resolveCodeLensesPromise=void 0)})}getModel(){return this._currentCodeLensModel}};n.ID="css.editor.codeLens",e.CodeLensContribution=n=Ne([ge(1,h.ILanguageFeaturesService),ge(2,d.ILanguageFeatureDebounceService),ge(3,i.ICommandService),ge(4,o.INotificationService),ge(5,p.ICodeLensCache)],n),(0,S.registerEditorContribution)(n.ID,n,1),(0,S.registerEditorAction)(class extends S.EditorAction{constructor(){super({id:"codelens.showLensesInCurrentLine",precondition:_.EditorContextKeys.hasCodeLensProvider,label:(0,t.localize)(0,null),alias:"Show CodeLens Commands For Current Line"})}run(a,l){return Le(this,void 0,void 0,function*(){if(!l.hasModel())return;const u=a.get(r.IQuickInputService),C=a.get(i.ICommandService),g=a.get(o.INotificationService),v=l.getSelection().positionLineNumber,b=l.getContribution(n.ID);if(!b)return;const w=b.getModel();if(!w)return;const E=[];for(const T of w.lenses)T.symbol.command&&T.symbol.range.startLineNumber===v&&E.push({label:T.symbol.command.title,command:T.symbol.command});if(E.length===0)return;const I=yield u.pick(E,{canPickMany:!1});if(I){if(w.isDisposed)return yield C.executeCommand(this.id);try{yield C.executeCommand(I.command.id,...I.command.arguments||[])}catch(T){g.error(T)}}})}})}),define(X[358],ee([1,0,14,36,12,6,2,58,9,161,15,5,39,75,19,338,28]),function(q,e,L,k,y,D,S,m,_,f,p,s,t,i,o,r,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DecoratorLimitReporter=e.ColorDetector=e.ColorDecorationInjectedTextMarker=void 0,e.ColorDecorationInjectedTextMarker=Object.create({});let h=e.ColorDetector=class Qi extends S.Disposable{constructor(a,l,u,C){super(),this._editor=a,this._configurationService=l,this._languageFeaturesService=u,this._localToDispose=this._register(new S.DisposableStore),this._decorationsIds=[],this._colorDatas=new Map,this._colorDecoratorIds=this._editor.createDecorationsCollection(),this._ruleFactory=new f.DynamicCssRules(this._editor),this._decoratorLimitReporter=new n,this._colorDecorationClassRefs=this._register(new S.DisposableStore),this._debounceInformation=C.for(u.colorProvider,"Document Colors",{min:Qi.RECOMPUTE_TIME}),this._register(a.onDidChangeModel(()=>{this._isColorDecoratorsEnabled=this.isEnabled(),this.updateColors()})),this._register(a.onDidChangeModelLanguage(()=>this.updateColors())),this._register(u.colorProvider.onDidChange(()=>this.updateColors())),this._register(a.onDidChangeConfiguration(g=>{const v=this._isColorDecoratorsEnabled;this._isColorDecoratorsEnabled=this.isEnabled(),this._isDefaultColorDecoratorsEnabled=this._editor.getOption(143);const b=v!==this._isColorDecoratorsEnabled||g.hasChanged(19),w=g.hasChanged(143);(b||w)&&(this._isColorDecoratorsEnabled?this.updateColors():this.removeAllDecorations())})),this._timeoutTimer=null,this._computePromise=null,this._isColorDecoratorsEnabled=this.isEnabled(),this._isDefaultColorDecoratorsEnabled=this._editor.getOption(143),this.updateColors()}isEnabled(){const a=this._editor.getModel();if(!a)return!1;const l=a.getLanguageId(),u=this._configurationService.getValue(l);if(u&&typeof u=="object"){const C=u.colorDecorators;if(C&&C.enable!==void 0&&!C.enable)return C.enable}return this._editor.getOption(18)}static get(a){return a.getContribution(this.ID)}dispose(){this.stop(),this.removeAllDecorations(),super.dispose()}updateColors(){if(this.stop(),!this._isColorDecoratorsEnabled)return;const a=this._editor.getModel();!a||!this._languageFeaturesService.colorProvider.has(a)||(this._localToDispose.add(this._editor.onDidChangeModelContent(()=>{this._timeoutTimer||(this._timeoutTimer=new L.TimeoutTimer,this._timeoutTimer.cancelAndSet(()=>{this._timeoutTimer=null,this.beginCompute()},this._debounceInformation.get(a)))})),this.beginCompute())}beginCompute(){return Le(this,void 0,void 0,function*(){this._computePromise=(0,L.createCancelablePromise)(a=>Le(this,void 0,void 0,function*(){const l=this._editor.getModel();if(!l)return[];const u=new m.StopWatch(!1),C=yield(0,r.getColors)(this._languageFeaturesService.colorProvider,l,a,this._isDefaultColorDecoratorsEnabled);return this._debounceInformation.update(l,u.elapsed()),C}));try{const a=yield this._computePromise;this.updateDecorations(a),this.updateColorDecorators(a),this._computePromise=null}catch(a){(0,y.onUnexpectedError)(a)}})}stop(){this._timeoutTimer&&(this._timeoutTimer.cancel(),this._timeoutTimer=null),this._computePromise&&(this._computePromise.cancel(),this._computePromise=null),this._localToDispose.clear()}updateDecorations(a){const l=a.map(u=>({range:{startLineNumber:u.colorInfo.range.startLineNumber,startColumn:u.colorInfo.range.startColumn,endLineNumber:u.colorInfo.range.endLineNumber,endColumn:u.colorInfo.range.endColumn},options:t.ModelDecorationOptions.EMPTY}));this._editor.changeDecorations(u=>{this._decorationsIds=u.deltaDecorations(this._decorationsIds,l),this._colorDatas=new Map,this._decorationsIds.forEach((C,g)=>this._colorDatas.set(C,a[g]))})}updateColorDecorators(a){this._colorDecorationClassRefs.clear();const l=[],u=this._editor.getOption(19);for(let g=0;g<a.length&&l.length<u;g++){const{red:v,green:b,blue:w,alpha:E}=a[g].colorInfo.color,I=new k.RGBA(Math.round(v*255),Math.round(b*255),Math.round(w*255),E),T=`rgba(${I.r}, ${I.g}, ${I.b}, ${I.a})`,P=this._colorDecorationClassRefs.add(this._ruleFactory.createClassNameRef({backgroundColor:T}));l.push({range:{startLineNumber:a[g].colorInfo.range.startLineNumber,startColumn:a[g].colorInfo.range.startColumn,endLineNumber:a[g].colorInfo.range.endLineNumber,endColumn:a[g].colorInfo.range.endColumn},options:{description:"colorDetector",before:{content:_.noBreakWhitespace,inlineClassName:`${P.className} colorpicker-color-decoration`,inlineClassNameAffectsLetterSpacing:!0,attachedData:e.ColorDecorationInjectedTextMarker}}})}const C=u<a.length?u:!1;this._decoratorLimitReporter.update(a.length,C),this._colorDecoratorIds.set(l)}removeAllDecorations(){this._editor.removeDecorations(this._decorationsIds),this._decorationsIds=[],this._colorDecoratorIds.clear(),this._colorDecorationClassRefs.clear()}getColorData(a){const l=this._editor.getModel();if(!l)return null;const u=l.getDecorationsInRange(s.Range.fromPositions(a,a)).filter(C=>this._colorDatas.has(C.id));return u.length===0?null:this._colorDatas.get(u[0].id)}isColorDecoration(a){return this._colorDecoratorIds.has(a)}};h.ID="editor.contrib.colorDetector",h.RECOMPUTE_TIME=1e3,e.ColorDetector=h=Ne([ge(1,d.IConfigurationService),ge(2,o.ILanguageFeaturesService),ge(3,i.ILanguageFeatureDebounceService)],h);class n{constructor(){this._onDidChange=new D.Emitter,this._computed=0,this._limited=!1}update(a,l){(a!==this._computed||l!==this._limited)&&(this._computed=a,this._limited=l,this._onDidChange.fire())}}e.DecoratorLimitReporter=n,(0,p.registerEditorContribution)(h.ID,h,1)}),define(X[359],ee([1,0,14,20,36,2,5,338,358,532,819,23]),function(q,e,L,k,y,D,S,m,_,f,p,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandaloneColorPickerParticipant=e.StandaloneColorPickerHover=e.ColorHoverParticipant=e.ColorHover=void 0;class t{constructor(l,u,C,g){this.owner=l,this.range=u,this.model=C,this.provider=g,this.forceShowAtRange=!0}isValidForHoverAnchor(l){return l.type===1&&this.range.startColumn<=l.range.startColumn&&this.range.endColumn>=l.range.endColumn}}e.ColorHover=t;let i=e.ColorHoverParticipant=class{constructor(l,u){this._editor=l,this._themeService=u,this.hoverOrdinal=2}computeSync(l,u){return[]}computeAsync(l,u,C){return L.AsyncIterableObject.fromPromise(this._computeAsync(l,u,C))}_computeAsync(l,u,C){return Le(this,void 0,void 0,function*(){if(!this._editor.hasModel())return[];const g=_.ColorDetector.get(this._editor);if(!g)return[];for(const v of u){if(!g.isColorDecoration(v))continue;const b=g.getColorData(v.range.getStartPosition());if(b)return[yield d(this,this._editor.getModel(),b.colorInfo,b.provider)]}return[]})}renderHoverParts(l,u){return h(this,this._editor,this._themeService,u,l)}};e.ColorHoverParticipant=i=Ne([ge(1,s.IThemeService)],i);class o{constructor(l,u,C,g){this.owner=l,this.range=u,this.model=C,this.provider=g}}e.StandaloneColorPickerHover=o;let r=e.StandaloneColorPickerParticipant=class{constructor(l,u){this._editor=l,this._themeService=u,this._color=null}createColorHover(l,u,C){return Le(this,void 0,void 0,function*(){if(!this._editor.hasModel()||!_.ColorDetector.get(this._editor))return null;const v=yield(0,m.getColors)(C,this._editor.getModel(),k.CancellationToken.None);let b=null,w=null;for(const P of v){const A=P.colorInfo;S.Range.containsRange(A.range,l.range)&&(b=A,w=P.provider)}const E=b??l,I=w??u,T=!!b;return{colorHover:yield d(this,this._editor.getModel(),E,I),foundInEditor:T}})}updateEditorModel(l){return Le(this,void 0,void 0,function*(){if(!this._editor.hasModel())return;const u=l.model;let C=new S.Range(l.range.startLineNumber,l.range.startColumn,l.range.endLineNumber,l.range.endColumn);this._color&&(yield c(this._editor.getModel(),u,this._color,C,l),C=n(this._editor,C,u))})}renderHoverParts(l,u){return h(this,this._editor,this._themeService,u,l)}set color(l){this._color=l}get color(){return this._color}};e.StandaloneColorPickerParticipant=r=Ne([ge(1,s.IThemeService)],r);function d(a,l,u,C){return Le(this,void 0,void 0,function*(){const g=l.getValueInRange(u.range),{red:v,green:b,blue:w,alpha:E}=u.color,I=new y.RGBA(Math.round(v*255),Math.round(b*255),Math.round(w*255),E),T=new y.Color(I),P=yield(0,m.getColorPresentations)(l,u,C,k.CancellationToken.None),A=new f.ColorPickerModel(T,[],0);return A.colorPresentations=P||[],A.guessColorPresentation(T,g),a instanceof i?new t(a,S.Range.lift(u.range),A,C):new o(a,S.Range.lift(u.range),A,C)})}function h(a,l,u,C,g){if(C.length===0||!l.hasModel())return D.Disposable.None;const v=new D.DisposableStore,b=C[0],w=l.getModel(),E=b.model,I=v.add(new p.ColorPickerWidget(g.fragment,E,l.getOption(139),u,a instanceof r));g.setColorPicker(I);let T=!1,P=new S.Range(b.range.startLineNumber,b.range.startColumn,b.range.endLineNumber,b.range.endColumn);if(a instanceof r){const A=C[0].model.color;a.color=A,c(w,E,A,P,b),v.add(E.onColorFlushed(M=>{a.color=M}))}else v.add(E.onColorFlushed(A=>Le(this,void 0,void 0,function*(){yield c(w,E,A,P,b),T=!0,P=n(l,P,E,g)})));return v.add(E.onDidChangeColor(A=>{c(w,E,A,P,b)})),v.add(l.onDidChangeModelContent(A=>{T?T=!1:(g.hide(),l.focus())})),v}function n(a,l,u,C){let g,v;if(u.presentation.textEdit){g=[u.presentation.textEdit],v=new S.Range(u.presentation.textEdit.range.startLineNumber,u.presentation.textEdit.range.startColumn,u.presentation.textEdit.range.endLineNumber,u.presentation.textEdit.range.endColumn);const b=a.getModel()._setTrackedRange(null,v,3);a.pushUndoStop(),a.executeEdits("colorpicker",g),v=a.getModel()._getTrackedRange(b)||v}else g=[{range:l,text:u.presentation.label,forceMoveMarkers:!1}],v=l.setEndPosition(l.endLineNumber,l.startColumn+u.presentation.label.length),a.pushUndoStop(),a.executeEdits("colorpicker",g);return u.presentation.additionalTextEdits&&(g=[...u.presentation.additionalTextEdits],a.executeEdits("colorpicker",g),C&&C.hide()),a.pushUndoStop(),v}function c(a,l,u,C,g){return Le(this,void 0,void 0,function*(){const v=yield(0,m.getColorPresentations)(a,{range:C,color:{red:u.rgba.r/255,green:u.rgba.g/255,blue:u.rgba.b/255,alpha:u.rgba.a}},g.provider,k.CancellationToken.None);l.colorPresentations=v||[]})}}),define(X[868],ee([1,0,2,17,15,11,5,24,39,534,435]),function(q,e,L,k,y,D,S,m,_,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DragAndDropController=void 0;function p(t){return k.isMacintosh?t.altKey:t.ctrlKey}class s extends L.Disposable{constructor(i){super(),this._editor=i,this._dndDecorationIds=this._editor.createDecorationsCollection(),this._register(this._editor.onMouseDown(o=>this._onEditorMouseDown(o))),this._register(this._editor.onMouseUp(o=>this._onEditorMouseUp(o))),this._register(this._editor.onMouseDrag(o=>this._onEditorMouseDrag(o))),this._register(this._editor.onMouseDrop(o=>this._onEditorMouseDrop(o))),this._register(this._editor.onMouseDropCanceled(()=>this._onEditorMouseDropCanceled())),this._register(this._editor.onKeyDown(o=>this.onEditorKeyDown(o))),this._register(this._editor.onKeyUp(o=>this.onEditorKeyUp(o))),this._register(this._editor.onDidBlurEditorWidget(()=>this.onEditorBlur())),this._register(this._editor.onDidBlurEditorText(()=>this.onEditorBlur())),this._mouseDown=!1,this._modifierPressed=!1,this._dragSelection=null}onEditorBlur(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1}onEditorKeyDown(i){!this._editor.getOption(33)||this._editor.getOption(20)||(p(i)&&(this._modifierPressed=!0),this._mouseDown&&p(i)&&this._editor.updateOptions({mouseStyle:"copy"}))}onEditorKeyUp(i){!this._editor.getOption(33)||this._editor.getOption(20)||(p(i)&&(this._modifierPressed=!1),this._mouseDown&&i.keyCode===s.TRIGGER_KEY_VALUE&&this._editor.updateOptions({mouseStyle:"default"}))}_onEditorMouseDown(i){this._mouseDown=!0}_onEditorMouseUp(i){this._mouseDown=!1,this._editor.updateOptions({mouseStyle:"text"})}_onEditorMouseDrag(i){const o=i.target;if(this._dragSelection===null){const d=(this._editor.getSelections()||[]).filter(h=>o.position&&h.containsPosition(o.position));if(d.length===1)this._dragSelection=d[0];else return}p(i.event)?this._editor.updateOptions({mouseStyle:"copy"}):this._editor.updateOptions({mouseStyle:"default"}),o.position&&(this._dragSelection.containsPosition(o.position)?this._removeDecoration():this.showAt(o.position))}_onEditorMouseDropCanceled(){this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1}_onEditorMouseDrop(i){if(i.target&&(this._hitContent(i.target)||this._hitMargin(i.target))&&i.target.position){const o=new D.Position(i.target.position.lineNumber,i.target.position.column);if(this._dragSelection===null){let r=null;if(i.event.shiftKey){const d=this._editor.getSelection();if(d){const{selectionStartLineNumber:h,selectionStartColumn:n}=d;r=[new m.Selection(h,n,o.lineNumber,o.column)]}}else r=(this._editor.getSelections()||[]).map(d=>d.containsPosition(o)?new m.Selection(o.lineNumber,o.column,o.lineNumber,o.column):d);this._editor.setSelections(r||[],"mouse",3)}else(!this._dragSelection.containsPosition(o)||(p(i.event)||this._modifierPressed)&&(this._dragSelection.getEndPosition().equals(o)||this._dragSelection.getStartPosition().equals(o)))&&(this._editor.pushUndoStop(),this._editor.executeCommand(s.ID,new f.DragAndDropCommand(this._dragSelection,o,p(i.event)||this._modifierPressed)),this._editor.pushUndoStop())}this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1}showAt(i){this._dndDecorationIds.set([{range:new S.Range(i.lineNumber,i.column,i.lineNumber,i.column),options:s._DECORATION_OPTIONS}]),this._editor.revealPosition(i,1)}_removeDecoration(){this._dndDecorationIds.clear()}_hitContent(i){return i.type===6||i.type===7}_hitMargin(i){return i.type===2||i.type===3||i.type===4}dispose(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1,super.dispose()}}e.DragAndDropController=s,s.ID="editor.contrib.dragAndDrop",s.TRIGGER_KEY_VALUE=k.isMacintosh?6:5,s._DECORATION_OPTIONS=_.ModelDecorationOptions.register({description:"dnd-target",className:"dnd-target"}),(0,y.registerEditorContribution)(s.ID,s,2)}),define(X[869],ee([1,0,5,47,39,33,23]),function(q,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FindDecorations=void 0;class m{constructor(f){this._editor=f,this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null,this._startPosition=this._editor.getPosition()}dispose(){this._editor.removeDecorations(this._allDecorations()),this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}reset(){this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}getCount(){return this._decorations.length}getFindScope(){return this._findScopeDecorationIds[0]?this._editor.getModel().getDecorationRange(this._findScopeDecorationIds[0]):null}getFindScopes(){if(this._findScopeDecorationIds.length){const f=this._findScopeDecorationIds.map(p=>this._editor.getModel().getDecorationRange(p)).filter(p=>!!p);if(f.length)return f}return null}getStartPosition(){return this._startPosition}setStartPosition(f){this._startPosition=f,this.setCurrentFindMatch(null)}_getDecorationIndex(f){const p=this._decorations.indexOf(f);return p>=0?p+1:1}getDecorationRangeAt(f){const p=f<this._decorations.length?this._decorations[f]:null;return p?this._editor.getModel().getDecorationRange(p):null}getCurrentMatchesPosition(f){const p=this._editor.getModel().getDecorationsInRange(f);for(const s of p){const t=s.options;if(t===m._FIND_MATCH_DECORATION||t===m._CURRENT_FIND_MATCH_DECORATION)return this._getDecorationIndex(s.id)}return 0}setCurrentFindMatch(f){let p=null,s=0;if(f)for(let t=0,i=this._decorations.length;t<i;t++){const o=this._editor.getModel().getDecorationRange(this._decorations[t]);if(f.equalsRange(o)){p=this._decorations[t],s=t+1;break}}return(this._highlightedDecorationId!==null||p!==null)&&this._editor.changeDecorations(t=>{if(this._highlightedDecorationId!==null&&(t.changeDecorationOptions(this._highlightedDecorationId,m._FIND_MATCH_DECORATION),this._highlightedDecorationId=null),p!==null&&(this._highlightedDecorationId=p,t.changeDecorationOptions(this._highlightedDecorationId,m._CURRENT_FIND_MATCH_DECORATION)),this._rangeHighlightDecorationId!==null&&(t.removeDecoration(this._rangeHighlightDecorationId),this._rangeHighlightDecorationId=null),p!==null){let i=this._editor.getModel().getDecorationRange(p);if(i.startLineNumber!==i.endLineNumber&&i.endColumn===1){const o=i.endLineNumber-1,r=this._editor.getModel().getLineMaxColumn(o);i=new L.Range(i.startLineNumber,i.startColumn,o,r)}this._rangeHighlightDecorationId=t.addDecoration(i,m._RANGE_HIGHLIGHT_DECORATION)}}),s}set(f,p){this._editor.changeDecorations(s=>{let t=m._FIND_MATCH_DECORATION;const i=[];if(f.length>1e3){t=m._FIND_MATCH_NO_OVERVIEW_DECORATION;const r=this._editor.getModel().getLineCount(),h=this._editor.getLayoutInfo().height/r,n=Math.max(2,Math.ceil(3/h));let c=f[0].range.startLineNumber,a=f[0].range.endLineNumber;for(let l=1,u=f.length;l<u;l++){const C=f[l].range;a+n>=C.startLineNumber?C.endLineNumber>a&&(a=C.endLineNumber):(i.push({range:new L.Range(c,1,a,1),options:m._FIND_MATCH_ONLY_OVERVIEW_DECORATION}),c=C.startLineNumber,a=C.endLineNumber)}i.push({range:new L.Range(c,1,a,1),options:m._FIND_MATCH_ONLY_OVERVIEW_DECORATION})}const o=new Array(f.length);for(let r=0,d=f.length;r<d;r++)o[r]={range:f[r].range,options:t};this._decorations=s.deltaDecorations(this._decorations,o),this._overviewRulerApproximateDecorations=s.deltaDecorations(this._overviewRulerApproximateDecorations,i),this._rangeHighlightDecorationId&&(s.removeDecoration(this._rangeHighlightDecorationId),this._rangeHighlightDecorationId=null),this._findScopeDecorationIds.length&&(this._findScopeDecorationIds.forEach(r=>s.removeDecoration(r)),this._findScopeDecorationIds=[]),p?.length&&(this._findScopeDecorationIds=p.map(r=>s.addDecoration(r,m._FIND_SCOPE_DECORATION)))})}matchBeforePosition(f){if(this._decorations.length===0)return null;for(let p=this._decorations.length-1;p>=0;p--){const s=this._decorations[p],t=this._editor.getModel().getDecorationRange(s);if(!(!t||t.endLineNumber>f.lineNumber)){if(t.endLineNumber<f.lineNumber)return t;if(!(t.endColumn>f.column))return t}}return this._editor.getModel().getDecorationRange(this._decorations[this._decorations.length-1])}matchAfterPosition(f){if(this._decorations.length===0)return null;for(let p=0,s=this._decorations.length;p<s;p++){const t=this._decorations[p],i=this._editor.getModel().getDecorationRange(t);if(!(!i||i.startLineNumber<f.lineNumber)){if(i.startLineNumber>f.lineNumber)return i;if(!(i.startColumn<f.column))return i}}return this._editor.getModel().getDecorationRange(this._decorations[0])}_allDecorations(){let f=[];return f=f.concat(this._decorations),f=f.concat(this._overviewRulerApproximateDecorations),this._findScopeDecorationIds.length&&f.push(...this._findScopeDecorationIds),this._rangeHighlightDecorationId&&f.push(this._rangeHighlightDecorationId),f}}e.FindDecorations=m,m._CURRENT_FIND_MATCH_DECORATION=y.ModelDecorationOptions.register({description:"current-find-match",stickiness:1,zIndex:13,className:"currentFindMatch",showIfCollapsed:!0,overviewRuler:{color:(0,S.themeColorFromId)(D.overviewRulerFindMatchForeground),position:k.OverviewRulerLane.Center},minimap:{color:(0,S.themeColorFromId)(D.minimapFindMatch),position:k.MinimapPosition.Inline}}),m._FIND_MATCH_DECORATION=y.ModelDecorationOptions.register({description:"find-match",stickiness:1,zIndex:10,className:"findMatch",showIfCollapsed:!0,overviewRuler:{color:(0,S.themeColorFromId)(D.overviewRulerFindMatchForeground),position:k.OverviewRulerLane.Center},minimap:{color:(0,S.themeColorFromId)(D.minimapFindMatch),position:k.MinimapPosition.Inline}}),m._FIND_MATCH_NO_OVERVIEW_DECORATION=y.ModelDecorationOptions.register({description:"find-match-no-overview",stickiness:1,className:"findMatch",showIfCollapsed:!0}),m._FIND_MATCH_ONLY_OVERVIEW_DECORATION=y.ModelDecorationOptions.register({description:"find-match-only-overview",stickiness:1,overviewRuler:{color:(0,S.themeColorFromId)(D.overviewRulerFindMatchForeground),position:k.OverviewRulerLane.Center}}),m._RANGE_HIGHLIGHT_DECORATION=y.ModelDecorationOptions.register({description:"find-range-highlight",stickiness:1,className:"rangeHighlight",isWholeLine:!0}),m._FIND_SCOPE_DECORATION=y.ModelDecorationOptions.register({description:"find-scope",className:"findScope",isWholeLine:!0})}),define(X[194],ee([1,0,16,14,2,122,11,5,24,183,869,535,536,13]),function(q,e,L,k,y,D,S,m,_,f,p,s,t,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FindModelBoundToEditorModel=e.MATCHES_LIMIT=e.FIND_IDS=e.TogglePreserveCaseKeybinding=e.ToggleSearchScopeKeybinding=e.ToggleRegexKeybinding=e.ToggleWholeWordKeybinding=e.ToggleCaseSensitiveKeybinding=e.CONTEXT_REPLACE_INPUT_FOCUSED=e.CONTEXT_FIND_INPUT_FOCUSED=e.CONTEXT_FIND_WIDGET_NOT_VISIBLE=e.CONTEXT_FIND_WIDGET_VISIBLE=void 0,e.CONTEXT_FIND_WIDGET_VISIBLE=new i.RawContextKey("findWidgetVisible",!1),e.CONTEXT_FIND_WIDGET_NOT_VISIBLE=e.CONTEXT_FIND_WIDGET_VISIBLE.toNegated(),e.CONTEXT_FIND_INPUT_FOCUSED=new i.RawContextKey("findInputFocussed",!1),e.CONTEXT_REPLACE_INPUT_FOCUSED=new i.RawContextKey("replaceInputFocussed",!1),e.ToggleCaseSensitiveKeybinding={primary:545,mac:{primary:2593}},e.ToggleWholeWordKeybinding={primary:565,mac:{primary:2613}},e.ToggleRegexKeybinding={primary:560,mac:{primary:2608}},e.ToggleSearchScopeKeybinding={primary:554,mac:{primary:2602}},e.TogglePreserveCaseKeybinding={primary:558,mac:{primary:2606}},e.FIND_IDS={StartFindAction:"actions.find",StartFindWithSelection:"actions.findWithSelection",StartFindWithArgs:"editor.actions.findWithArgs",NextMatchFindAction:"editor.action.nextMatchFindAction",PreviousMatchFindAction:"editor.action.previousMatchFindAction",GoToMatchFindAction:"editor.action.goToMatchFindAction",NextSelectionMatchFindAction:"editor.action.nextSelectionMatchFindAction",PreviousSelectionMatchFindAction:"editor.action.previousSelectionMatchFindAction",StartFindReplaceAction:"editor.action.startFindReplaceAction",CloseFindWidgetCommand:"closeFindWidget",ToggleCaseSensitiveCommand:"toggleFindCaseSensitive",ToggleWholeWordCommand:"toggleFindWholeWord",ToggleRegexCommand:"toggleFindRegex",ToggleSearchScopeCommand:"toggleFindInSelection",TogglePreserveCaseCommand:"togglePreserveCase",ReplaceOneAction:"editor.action.replaceOne",ReplaceAllAction:"editor.action.replaceAll",SelectAllMatchesAction:"editor.action.selectAllMatches"},e.MATCHES_LIMIT=19999;const o=240;class r{constructor(h,n){this._toDispose=new y.DisposableStore,this._editor=h,this._state=n,this._isDisposed=!1,this._startSearchingTimer=new k.TimeoutTimer,this._decorations=new p.FindDecorations(h),this._toDispose.add(this._decorations),this._updateDecorationsScheduler=new k.RunOnceScheduler(()=>this.research(!1),100),this._toDispose.add(this._updateDecorationsScheduler),this._toDispose.add(this._editor.onDidChangeCursorPosition(c=>{(c.reason===3||c.reason===5||c.reason===6)&&this._decorations.setStartPosition(this._editor.getPosition())})),this._ignoreModelContentChanged=!1,this._toDispose.add(this._editor.onDidChangeModelContent(c=>{this._ignoreModelContentChanged||(c.isFlush&&this._decorations.reset(),this._decorations.setStartPosition(this._editor.getPosition()),this._updateDecorationsScheduler.schedule())})),this._toDispose.add(this._state.onFindReplaceStateChange(c=>this._onStateChanged(c))),this.research(!1,this._state.searchScope)}dispose(){this._isDisposed=!0,(0,y.dispose)(this._startSearchingTimer),this._toDispose.dispose()}_onStateChanged(h){this._isDisposed||this._editor.hasModel()&&(h.searchString||h.isReplaceRevealed||h.isRegex||h.wholeWord||h.matchCase||h.searchScope)&&(this._editor.getModel().isTooLargeForSyncing()?(this._startSearchingTimer.cancel(),this._startSearchingTimer.setIfNotSet(()=>{h.searchScope?this.research(h.moveCursor,this._state.searchScope):this.research(h.moveCursor)},o)):h.searchScope?this.research(h.moveCursor,this._state.searchScope):this.research(h.moveCursor))}static _getSearchRange(h,n){return n||h.getFullModelRange()}research(h,n){let c=null;typeof n<"u"?n!==null&&(Array.isArray(n)?c=n:c=[n]):c=this._decorations.getFindScopes(),c!==null&&(c=c.map(C=>{if(C.startLineNumber!==C.endLineNumber){let g=C.endLineNumber;return C.endColumn===1&&(g=g-1),new m.Range(C.startLineNumber,1,g,this._editor.getModel().getLineMaxColumn(g))}return C}));const a=this._findMatches(c,!1,e.MATCHES_LIMIT);this._decorations.set(a,c);const l=this._editor.getSelection();let u=this._decorations.getCurrentMatchesPosition(l);if(u===0&&a.length>0){const C=(0,L.findFirstInSorted)(a.map(g=>g.range),g=>m.Range.compareRangesUsingStarts(g,l)>=0);u=C>0?C-1+1:u}this._state.changeMatchInfo(u,this._decorations.getCount(),void 0),h&&this._editor.getOption(39).cursorMoveOnType&&this._moveToNextMatch(this._decorations.getStartPosition())}_hasMatches(){return this._state.matchesCount>0}_cannotFind(){if(!this._hasMatches()){const h=this._decorations.getFindScope();return h&&this._editor.revealRangeInCenterIfOutsideViewport(h,0),!0}return!1}_setCurrentFindMatch(h){const n=this._decorations.setCurrentFindMatch(h);this._state.changeMatchInfo(n,this._decorations.getCount(),h),this._editor.setSelection(h),this._editor.revealRangeInCenterIfOutsideViewport(h,0)}_prevSearchPosition(h){const n=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0);let{lineNumber:c,column:a}=h;const l=this._editor.getModel();return n||a===1?(c===1?c=l.getLineCount():c--,a=l.getLineMaxColumn(c)):a--,new S.Position(c,a)}_moveToPrevMatch(h,n=!1){if(!this._state.canNavigateBack()){const b=this._decorations.matchAfterPosition(h);b&&this._setCurrentFindMatch(b);return}if(this._decorations.getCount()<e.MATCHES_LIMIT){let b=this._decorations.matchBeforePosition(h);b&&b.isEmpty()&&b.getStartPosition().equals(h)&&(h=this._prevSearchPosition(h),b=this._decorations.matchBeforePosition(h)),b&&this._setCurrentFindMatch(b);return}if(this._cannotFind())return;const c=this._decorations.getFindScope(),a=r._getSearchRange(this._editor.getModel(),c);a.getEndPosition().isBefore(h)&&(h=a.getEndPosition()),h.isBefore(a.getStartPosition())&&(h=a.getEndPosition());const{lineNumber:l,column:u}=h,C=this._editor.getModel();let g=new S.Position(l,u),v=C.findPreviousMatch(this._state.searchString,g,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(127):null,!1);if(v&&v.range.isEmpty()&&v.range.getStartPosition().equals(g)&&(g=this._prevSearchPosition(g),v=C.findPreviousMatch(this._state.searchString,g,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(127):null,!1)),!!v){if(!n&&!a.containsRange(v.range))return this._moveToPrevMatch(v.range.getStartPosition(),!0);this._setCurrentFindMatch(v.range)}}moveToPrevMatch(){this._moveToPrevMatch(this._editor.getSelection().getStartPosition())}_nextSearchPosition(h){const n=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0);let{lineNumber:c,column:a}=h;const l=this._editor.getModel();return n||a===l.getLineMaxColumn(c)?(c===l.getLineCount()?c=1:c++,a=1):a++,new S.Position(c,a)}_moveToNextMatch(h){if(!this._state.canNavigateForward()){const c=this._decorations.matchBeforePosition(h);c&&this._setCurrentFindMatch(c);return}if(this._decorations.getCount()<e.MATCHES_LIMIT){let c=this._decorations.matchAfterPosition(h);c&&c.isEmpty()&&c.getStartPosition().equals(h)&&(h=this._nextSearchPosition(h),c=this._decorations.matchAfterPosition(h)),c&&this._setCurrentFindMatch(c);return}const n=this._getNextMatch(h,!1,!0);n&&this._setCurrentFindMatch(n.range)}_getNextMatch(h,n,c,a=!1){if(this._cannotFind())return null;const l=this._decorations.getFindScope(),u=r._getSearchRange(this._editor.getModel(),l);u.getEndPosition().isBefore(h)&&(h=u.getStartPosition()),h.isBefore(u.getStartPosition())&&(h=u.getStartPosition());const{lineNumber:C,column:g}=h,v=this._editor.getModel();let b=new S.Position(C,g),w=v.findNextMatch(this._state.searchString,b,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(127):null,n);return c&&w&&w.range.isEmpty()&&w.range.getStartPosition().equals(b)&&(b=this._nextSearchPosition(b),w=v.findNextMatch(this._state.searchString,b,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(127):null,n)),w?!a&&!u.containsRange(w.range)?this._getNextMatch(w.range.getEndPosition(),n,c,!0):w:null}moveToNextMatch(){this._moveToNextMatch(this._editor.getSelection().getEndPosition())}_moveToMatch(h){const n=this._decorations.getDecorationRangeAt(h);n&&this._setCurrentFindMatch(n)}moveToMatch(h){this._moveToMatch(h)}_getReplacePattern(){return this._state.isRegex?(0,t.parseReplaceString)(this._state.replaceString):t.ReplacePattern.fromStaticValue(this._state.replaceString)}replace(){if(!this._hasMatches())return;const h=this._getReplacePattern(),n=this._editor.getSelection(),c=this._getNextMatch(n.getStartPosition(),!0,!1);if(c)if(n.equalsRange(c.range)){const a=h.buildReplaceString(c.matches,this._state.preserveCase),l=new D.ReplaceCommand(n,a);this._executeEditorCommand("replace",l),this._decorations.setStartPosition(new S.Position(n.startLineNumber,n.startColumn+a.length)),this.research(!0)}else this._decorations.setStartPosition(this._editor.getPosition()),this._setCurrentFindMatch(c.range)}_findMatches(h,n,c){const a=(h||[null]).map(l=>r._getSearchRange(this._editor.getModel(),l));return this._editor.getModel().findMatches(this._state.searchString,a,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(127):null,n,c)}replaceAll(){if(!this._hasMatches())return;const h=this._decorations.getFindScopes();h===null&&this._state.matchesCount>=e.MATCHES_LIMIT?this._largeReplaceAll():this._regularReplaceAll(h),this.research(!1)}_largeReplaceAll(){const n=new f.SearchParams(this._state.searchString,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(127):null).parseSearchRequest();if(!n)return;let c=n.regex;if(!c.multiline){let w="mu";c.ignoreCase&&(w+="i"),c.global&&(w+="g"),c=new RegExp(c.source,w)}const a=this._editor.getModel(),l=a.getValue(1),u=a.getFullModelRange(),C=this._getReplacePattern();let g;const v=this._state.preserveCase;C.hasReplacementPatterns||v?g=l.replace(c,function(){return C.buildReplaceString(arguments,v)}):g=l.replace(c,C.buildReplaceString(null,v));const b=new D.ReplaceCommandThatPreservesSelection(u,g,this._editor.getSelection());this._executeEditorCommand("replaceAll",b)}_regularReplaceAll(h){const n=this._getReplacePattern(),c=this._findMatches(h,n.hasReplacementPatterns||this._state.preserveCase,1073741824),a=[];for(let u=0,C=c.length;u<C;u++)a[u]=n.buildReplaceString(c[u].matches,this._state.preserveCase);const l=new s.ReplaceAllCommand(this._editor.getSelection(),c.map(u=>u.range),a);this._executeEditorCommand("replaceAll",l)}selectAllMatches(){if(!this._hasMatches())return;const h=this._decorations.getFindScopes();let c=this._findMatches(h,!1,1073741824).map(l=>new _.Selection(l.range.startLineNumber,l.range.startColumn,l.range.endLineNumber,l.range.endColumn));const a=this._editor.getSelection();for(let l=0,u=c.length;l<u;l++)if(c[l].equalsRange(a)){c=[a].concat(c.slice(0,l)).concat(c.slice(l+1));break}this._editor.setSelections(c)}_executeEditorCommand(h,n){try{this._ignoreModelContentChanged=!0,this._editor.pushUndoStop(),this._editor.executeCommand(h,n),this._editor.pushUndoStop()}finally{this._ignoreModelContentChanged=!1}}}e.FindModelBoundToEditorModel=r}),define(X[870],ee([1,0,7,308,82,14,194,33,437]),function(q,e,L,k,y,D,S,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FindOptionsWidget=void 0;class _ extends y.Widget{constructor(p,s,t){super(),this._hideSoon=this._register(new D.RunOnceScheduler(()=>this._hide(),2e3)),this._isVisible=!1,this._editor=p,this._state=s,this._keybindingService=t,this._domNode=document.createElement("div"),this._domNode.className="findOptionsWidget",this._domNode.style.display="none",this._domNode.style.top="10px",this._domNode.style.zIndex="12",this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true");const i={inputActiveOptionBorder:(0,m.asCssVariable)(m.inputActiveOptionBorder),inputActiveOptionForeground:(0,m.asCssVariable)(m.inputActiveOptionForeground),inputActiveOptionBackground:(0,m.asCssVariable)(m.inputActiveOptionBackground)};this.caseSensitive=this._register(new k.CaseSensitiveToggle(Object.assign({appendTitle:this._keybindingLabelFor(S.FIND_IDS.ToggleCaseSensitiveCommand),isChecked:this._state.matchCase},i))),this._domNode.appendChild(this.caseSensitive.domNode),this._register(this.caseSensitive.onChange(()=>{this._state.change({matchCase:this.caseSensitive.checked},!1)})),this.wholeWords=this._register(new k.WholeWordsToggle(Object.assign({appendTitle:this._keybindingLabelFor(S.FIND_IDS.ToggleWholeWordCommand),isChecked:this._state.wholeWord},i))),this._domNode.appendChild(this.wholeWords.domNode),this._register(this.wholeWords.onChange(()=>{this._state.change({wholeWord:this.wholeWords.checked},!1)})),this.regex=this._register(new k.RegexToggle(Object.assign({appendTitle:this._keybindingLabelFor(S.FIND_IDS.ToggleRegexCommand),isChecked:this._state.isRegex},i))),this._domNode.appendChild(this.regex.domNode),this._register(this.regex.onChange(()=>{this._state.change({isRegex:this.regex.checked},!1)})),this._editor.addOverlayWidget(this),this._register(this._state.onFindReplaceStateChange(o=>{let r=!1;o.isRegex&&(this.regex.checked=this._state.isRegex,r=!0),o.wholeWord&&(this.wholeWords.checked=this._state.wholeWord,r=!0),o.matchCase&&(this.caseSensitive.checked=this._state.matchCase,r=!0),!this._state.isRevealed&&r&&this._revealTemporarily()})),this._register(L.addDisposableListener(this._domNode,L.EventType.MOUSE_LEAVE,o=>this._onMouseLeave())),this._register(L.addDisposableListener(this._domNode,"mouseover",o=>this._onMouseOver()))}_keybindingLabelFor(p){const s=this._keybindingService.lookupKeybinding(p);return s?` (${s.getLabel()})`:""}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return _.ID}getDomNode(){return this._domNode}getPosition(){return{preference:0}}highlightFindOptions(){this._revealTemporarily()}_revealTemporarily(){this._show(),this._hideSoon.schedule()}_onMouseLeave(){this._hideSoon.schedule()}_onMouseOver(){this._hideSoon.cancel()}_show(){this._isVisible||(this._isVisible=!0,this._domNode.style.display="block")}_hide(){this._isVisible&&(this._isVisible=!1,this._domNode.style.display="none")}}e.FindOptionsWidget=_,_.ID="editor.contrib.findOptionsWidget"}),define(X[871],ee([1,0,6,2,5,194]),function(q,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FindReplaceState=void 0;function S(_,f){return _===1?!0:_===2?!1:f}class m extends k.Disposable{get searchString(){return this._searchString}get replaceString(){return this._replaceString}get isRevealed(){return this._isRevealed}get isReplaceRevealed(){return this._isReplaceRevealed}get isRegex(){return S(this._isRegexOverride,this._isRegex)}get wholeWord(){return S(this._wholeWordOverride,this._wholeWord)}get matchCase(){return S(this._matchCaseOverride,this._matchCase)}get preserveCase(){return S(this._preserveCaseOverride,this._preserveCase)}get actualIsRegex(){return this._isRegex}get actualWholeWord(){return this._wholeWord}get actualMatchCase(){return this._matchCase}get actualPreserveCase(){return this._preserveCase}get searchScope(){return this._searchScope}get matchesPosition(){return this._matchesPosition}get matchesCount(){return this._matchesCount}get currentMatch(){return this._currentMatch}constructor(){super(),this._onFindReplaceStateChange=this._register(new L.Emitter),this.onFindReplaceStateChange=this._onFindReplaceStateChange.event,this._searchString="",this._replaceString="",this._isRevealed=!1,this._isReplaceRevealed=!1,this._isRegex=!1,this._isRegexOverride=0,this._wholeWord=!1,this._wholeWordOverride=0,this._matchCase=!1,this._matchCaseOverride=0,this._preserveCase=!1,this._preserveCaseOverride=0,this._searchScope=null,this._matchesPosition=0,this._matchesCount=0,this._currentMatch=null,this._loop=!0,this._isSearching=!1,this._filters=null}changeMatchInfo(f,p,s){const t={moveCursor:!1,updateHistory:!1,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1,isSearching:!1,filters:!1};let i=!1;p===0&&(f=0),f>p&&(f=p),this._matchesPosition!==f&&(this._matchesPosition=f,t.matchesPosition=!0,i=!0),this._matchesCount!==p&&(this._matchesCount=p,t.matchesCount=!0,i=!0),typeof s<"u"&&(y.Range.equalsRange(this._currentMatch,s)||(this._currentMatch=s,t.currentMatch=!0,i=!0)),i&&this._onFindReplaceStateChange.fire(t)}change(f,p,s=!0){var t;const i={moveCursor:p,updateHistory:s,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1,isSearching:!1,filters:!1};let o=!1;const r=this.isRegex,d=this.wholeWord,h=this.matchCase,n=this.preserveCase;typeof f.searchString<"u"&&this._searchString!==f.searchString&&(this._searchString=f.searchString,i.searchString=!0,o=!0),typeof f.replaceString<"u"&&this._replaceString!==f.replaceString&&(this._replaceString=f.replaceString,i.replaceString=!0,o=!0),typeof f.isRevealed<"u"&&this._isRevealed!==f.isRevealed&&(this._isRevealed=f.isRevealed,i.isRevealed=!0,o=!0),typeof f.isReplaceRevealed<"u"&&this._isReplaceRevealed!==f.isReplaceRevealed&&(this._isReplaceRevealed=f.isReplaceRevealed,i.isReplaceRevealed=!0,o=!0),typeof f.isRegex<"u"&&(this._isRegex=f.isRegex),typeof f.wholeWord<"u"&&(this._wholeWord=f.wholeWord),typeof f.matchCase<"u"&&(this._matchCase=f.matchCase),typeof f.preserveCase<"u"&&(this._preserveCase=f.preserveCase),typeof f.searchScope<"u"&&(!((t=f.searchScope)===null||t===void 0)&&t.every(c=>{var a;return(a=this._searchScope)===null||a===void 0?void 0:a.some(l=>!y.Range.equalsRange(l,c))})||(this._searchScope=f.searchScope,i.searchScope=!0,o=!0)),typeof f.loop<"u"&&this._loop!==f.loop&&(this._loop=f.loop,i.loop=!0,o=!0),typeof f.isSearching<"u"&&this._isSearching!==f.isSearching&&(this._isSearching=f.isSearching,i.isSearching=!0,o=!0),typeof f.filters<"u"&&(this._filters?this._filters.update(f.filters):this._filters=f.filters,i.filters=!0,o=!0),this._isRegexOverride=typeof f.isRegexOverride<"u"?f.isRegexOverride:0,this._wholeWordOverride=typeof f.wholeWordOverride<"u"?f.wholeWordOverride:0,this._matchCaseOverride=typeof f.matchCaseOverride<"u"?f.matchCaseOverride:0,this._preserveCaseOverride=typeof f.preserveCaseOverride<"u"?f.preserveCaseOverride:0,r!==this.isRegex&&(o=!0,i.isRegex=!0),d!==this.wholeWord&&(o=!0,i.wholeWord=!0),h!==this.matchCase&&(o=!0,i.matchCase=!0),n!==this.preserveCase&&(o=!0,i.preserveCase=!0),o&&this._onFindReplaceStateChange.fire(i)}canNavigateBack(){return this.canNavigateInLoop()||this.matchesPosition!==1}canNavigateForward(){return this.canNavigateInLoop()||this.matchesPosition<this.matchesCount}canNavigateInLoop(){return this._loop||this.matchesCount>=D.MATCHES_LIMIT}}e.FindReplaceState=m}),define(X[872],ee([1,0,7,54,152,130,82,14,25,12,2,17,9,5,194,647,341,734,33,61,23,27,88,18,103,438]),function(q,e,L,k,y,D,S,m,_,f,p,s,t,i,o,r,d,h,n,c,a,l,u,C,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SimpleButton=e.FindWidget=e.FindWidgetViewZone=e.NLS_NO_RESULTS=e.NLS_MATCHES_LOCATION=e.findNextMatchIcon=e.findPreviousMatchIcon=e.findReplaceAllIcon=e.findReplaceIcon=void 0;const v=(0,c.registerIcon)("find-selection",_.Codicon.selection,r.localize(0,null)),b=(0,c.registerIcon)("find-collapsed",_.Codicon.chevronRight,r.localize(1,null)),w=(0,c.registerIcon)("find-expanded",_.Codicon.chevronDown,r.localize(2,null));e.findReplaceIcon=(0,c.registerIcon)("find-replace",_.Codicon.replace,r.localize(3,null)),e.findReplaceAllIcon=(0,c.registerIcon)("find-replace-all",_.Codicon.replaceAll,r.localize(4,null)),e.findPreviousMatchIcon=(0,c.registerIcon)("find-previous-match",_.Codicon.arrowUp,r.localize(5,null)),e.findNextMatchIcon=(0,c.registerIcon)("find-next-match",_.Codicon.arrowDown,r.localize(6,null));const E=r.localize(7,null),I=r.localize(8,null),T=r.localize(9,null),P=r.localize(10,null),A=r.localize(11,null),M=r.localize(12,null),N=r.localize(13,null),R=r.localize(14,null),F=r.localize(15,null),x=r.localize(16,null),W=r.localize(17,null),z=r.localize(18,null),U=r.localize(19,null,o.MATCHES_LIMIT);e.NLS_MATCHES_LOCATION=r.localize(20,null),e.NLS_NO_RESULTS=r.localize(21,null);const O=419,Q=275-54;let re=69;const oe=33,te="ctrlEnterReplaceAll.windows.donotask",H=s.isMacintosh?256:2048;class B{constructor(de){this.afterLineNumber=de,this.heightInPx=oe,this.suppressMouseDown=!1,this.domNode=document.createElement("div"),this.domNode.className="dock-find-viewzone"}}e.FindWidgetViewZone=B;function K(he,de,ae){const ce=!!de.match(/\n/);if(ae&&ce&&ae.selectionStart>0){he.stopPropagation();return}}function Z(he,de,ae){const ce=!!de.match(/\n/);if(ae&&ce&&ae.selectionEnd<ae.value.length){he.stopPropagation();return}}class J extends S.Widget{constructor(de,ae,ce,$,V,j,se,ie,Y){super(),this._cachedHeight=null,this._revealTimeouts=[],this._codeEditor=de,this._controller=ae,this._state=ce,this._contextViewProvider=$,this._keybindingService=V,this._contextKeyService=j,this._storageService=ie,this._notificationService=Y,this._ctrlEnterReplaceAllWarningPrompted=!!ie.getBoolean(te,0),this._isVisible=!1,this._isReplaceVisible=!1,this._ignoreChangeEvent=!1,this._updateHistoryDelayer=new m.Delayer(500),this._register((0,p.toDisposable)(()=>this._updateHistoryDelayer.cancel())),this._register(this._state.onFindReplaceStateChange(le=>this._onStateChanged(le))),this._buildDomNode(),this._updateButtons(),this._tryUpdateWidgetWidth(),this._findInput.inputBox.layout(),this._register(this._codeEditor.onDidChangeConfiguration(le=>{if(le.hasChanged(88)&&(this._codeEditor.getOption(88)&&this._state.change({isReplaceRevealed:!1},!1),this._updateButtons()),le.hasChanged(141)&&this._tryUpdateWidgetWidth(),le.hasChanged(2)&&this.updateAccessibilitySupport(),le.hasChanged(39)){const fe=this._codeEditor.getOption(39).loop;this._state.change({loop:fe},!1);const be=this._codeEditor.getOption(39).addExtraSpaceOnTop;be&&!this._viewZone&&(this._viewZone=new B(0),this._showViewZone()),!be&&this._viewZone&&this._removeViewZone()}})),this.updateAccessibilitySupport(),this._register(this._codeEditor.onDidChangeCursorSelection(()=>{this._isVisible&&this._updateToggleSelectionFindButton()})),this._register(this._codeEditor.onDidFocusEditorWidget(()=>Le(this,void 0,void 0,function*(){if(this._isVisible){const le=yield this._controller.getGlobalBufferTerm();le&&le!==this._state.searchString&&(this._state.change({searchString:le},!1),this._findInput.select())}}))),this._findInputFocused=o.CONTEXT_FIND_INPUT_FOCUSED.bindTo(j),this._findFocusTracker=this._register(L.trackFocus(this._findInput.inputBox.inputElement)),this._register(this._findFocusTracker.onDidFocus(()=>{this._findInputFocused.set(!0),this._updateSearchScope()})),this._register(this._findFocusTracker.onDidBlur(()=>{this._findInputFocused.set(!1)})),this._replaceInputFocused=o.CONTEXT_REPLACE_INPUT_FOCUSED.bindTo(j),this._replaceFocusTracker=this._register(L.trackFocus(this._replaceInput.inputBox.inputElement)),this._register(this._replaceFocusTracker.onDidFocus(()=>{this._replaceInputFocused.set(!0),this._updateSearchScope()})),this._register(this._replaceFocusTracker.onDidBlur(()=>{this._replaceInputFocused.set(!1)})),this._codeEditor.addOverlayWidget(this),this._codeEditor.getOption(39).addExtraSpaceOnTop&&(this._viewZone=new B(0)),this._register(this._codeEditor.onDidChangeModel(()=>{this._isVisible&&(this._viewZoneId=void 0)})),this._register(this._codeEditor.onDidScrollChange(le=>{if(le.scrollTopChanged){this._layoutViewZone();return}setTimeout(()=>{this._layoutViewZone()},0)}))}getId(){return J.ID}getDomNode(){return this._domNode}getPosition(){return this._isVisible?{preference:0}:null}_onStateChanged(de){if(de.searchString){try{this._ignoreChangeEvent=!0,this._findInput.setValue(this._state.searchString)}finally{this._ignoreChangeEvent=!1}this._updateButtons()}if(de.replaceString&&(this._replaceInput.inputBox.value=this._state.replaceString),de.isRevealed&&(this._state.isRevealed?this._reveal():this._hide(!0)),de.isReplaceRevealed&&(this._state.isReplaceRevealed?!this._codeEditor.getOption(88)&&!this._isReplaceVisible&&(this._isReplaceVisible=!0,this._replaceInput.width=L.getTotalWidth(this._findInput.domNode),this._updateButtons(),this._replaceInput.inputBox.layout()):this._isReplaceVisible&&(this._isReplaceVisible=!1,this._updateButtons())),(de.isRevealed||de.isReplaceRevealed)&&(this._state.isRevealed||this._state.isReplaceRevealed)&&this._tryUpdateHeight()&&this._showViewZone(),de.isRegex&&this._findInput.setRegex(this._state.isRegex),de.wholeWord&&this._findInput.setWholeWords(this._state.wholeWord),de.matchCase&&this._findInput.setCaseSensitive(this._state.matchCase),de.preserveCase&&this._replaceInput.setPreserveCase(this._state.preserveCase),de.searchScope&&(this._state.searchScope?this._toggleSelectionFind.checked=!0:this._toggleSelectionFind.checked=!1,this._updateToggleSelectionFindButton()),de.searchString||de.matchesCount||de.matchesPosition){const ae=this._state.searchString.length>0&&this._state.matchesCount===0;this._domNode.classList.toggle("no-results",ae),this._updateMatchesCount(),this._updateButtons()}(de.searchString||de.currentMatch)&&this._layoutViewZone(),de.updateHistory&&this._delayedUpdateHistory(),de.loop&&this._updateButtons()}_delayedUpdateHistory(){this._updateHistoryDelayer.trigger(this._updateHistory.bind(this)).then(void 0,f.onUnexpectedError)}_updateHistory(){this._state.searchString&&this._findInput.inputBox.addToHistory(),this._state.replaceString&&this._replaceInput.inputBox.addToHistory()}_updateMatchesCount(){this._matchesCount.style.minWidth=re+"px",this._state.matchesCount>=o.MATCHES_LIMIT?this._matchesCount.title=U:this._matchesCount.title="",this._matchesCount.firstChild&&this._matchesCount.removeChild(this._matchesCount.firstChild);let de;if(this._state.matchesCount>0){let ae=String(this._state.matchesCount);this._state.matchesCount>=o.MATCHES_LIMIT&&(ae+="+");let ce=String(this._state.matchesPosition);ce==="0"&&(ce="?"),de=t.format(e.NLS_MATCHES_LOCATION,ce,ae)}else de=e.NLS_NO_RESULTS;this._matchesCount.appendChild(document.createTextNode(de)),(0,k.alert)(this._getAriaLabel(de,this._state.currentMatch,this._state.searchString)),re=Math.max(re,this._matchesCount.clientWidth)}_getAriaLabel(de,ae,ce){if(de===e.NLS_NO_RESULTS)return ce===""?r.localize(22,null,de):r.localize(23,null,de,ce);if(ae){const $=r.localize(24,null,de,ce,ae.startLineNumber+":"+ae.startColumn),V=this._codeEditor.getModel();return V&&ae.startLineNumber<=V.getLineCount()&&ae.startLineNumber>=1?`${V.getLineContent(ae.startLineNumber)}, ${$}`:$}return r.localize(25,null,de,ce)}_updateToggleSelectionFindButton(){const de=this._codeEditor.getSelection(),ae=de?de.startLineNumber!==de.endLineNumber||de.startColumn!==de.endColumn:!1,ce=this._toggleSelectionFind.checked;this._isVisible&&(ce||ae)?this._toggleSelectionFind.enable():this._toggleSelectionFind.disable()}_updateButtons(){this._findInput.setEnabled(this._isVisible),this._replaceInput.setEnabled(this._isVisible&&this._isReplaceVisible),this._updateToggleSelectionFindButton(),this._closeBtn.setEnabled(this._isVisible);const de=this._state.searchString.length>0,ae=!!this._state.matchesCount;this._prevBtn.setEnabled(this._isVisible&&de&&ae&&this._state.canNavigateBack()),this._nextBtn.setEnabled(this._isVisible&&de&&ae&&this._state.canNavigateForward()),this._replaceBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&de),this._replaceAllBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&de),this._domNode.classList.toggle("replaceToggled",this._isReplaceVisible),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible);const ce=!this._codeEditor.getOption(88);this._toggleReplaceBtn.setEnabled(this._isVisible&&ce)}_reveal(){if(this._revealTimeouts.forEach(de=>{clearTimeout(de)}),this._revealTimeouts=[],!this._isVisible){this._isVisible=!0;const de=this._codeEditor.getSelection();switch(this._codeEditor.getOption(39).autoFindInSelection){case"always":this._toggleSelectionFind.checked=!0;break;case"never":this._toggleSelectionFind.checked=!1;break;case"multiline":{const ce=!!de&&de.startLineNumber!==de.endLineNumber;this._toggleSelectionFind.checked=ce;break}default:break}this._tryUpdateWidgetWidth(),this._updateButtons(),this._revealTimeouts.push(setTimeout(()=>{this._domNode.classList.add("visible"),this._domNode.setAttribute("aria-hidden","false")},0)),this._revealTimeouts.push(setTimeout(()=>{this._findInput.validate()},200)),this._codeEditor.layoutOverlayWidget(this);let ae=!0;if(this._codeEditor.getOption(39).seedSearchStringFromSelection&&de){const ce=this._codeEditor.getDomNode();if(ce){const $=L.getDomNodePagePosition(ce),V=this._codeEditor.getScrolledVisiblePosition(de.getStartPosition()),j=$.left+(V?V.left:0),se=V?V.top:0;if(this._viewZone&&se<this._viewZone.heightInPx){de.endLineNumber>de.startLineNumber&&(ae=!1);const ie=L.getTopLeftOffset(this._domNode).left;j>ie&&(ae=!1);const Y=this._codeEditor.getScrolledVisiblePosition(de.getEndPosition());$.left+(Y?Y.left:0)>ie&&(ae=!1)}}}this._showViewZone(ae)}}_hide(de){this._revealTimeouts.forEach(ae=>{clearTimeout(ae)}),this._revealTimeouts=[],this._isVisible&&(this._isVisible=!1,this._updateButtons(),this._domNode.classList.remove("visible"),this._domNode.setAttribute("aria-hidden","true"),this._findInput.clearMessage(),de&&this._codeEditor.focus(),this._codeEditor.layoutOverlayWidget(this),this._removeViewZone())}_layoutViewZone(de){if(!this._codeEditor.getOption(39).addExtraSpaceOnTop){this._removeViewZone();return}if(!this._isVisible)return;const ce=this._viewZone;this._viewZoneId!==void 0||!ce||this._codeEditor.changeViewZones($=>{ce.heightInPx=this._getHeight(),this._viewZoneId=$.addZone(ce),this._codeEditor.setScrollTop(de||this._codeEditor.getScrollTop()+ce.heightInPx)})}_showViewZone(de=!0){if(!this._isVisible||!this._codeEditor.getOption(39).addExtraSpaceOnTop)return;this._viewZone===void 0&&(this._viewZone=new B(0));const ce=this._viewZone;this._codeEditor.changeViewZones($=>{if(this._viewZoneId!==void 0){const V=this._getHeight();if(V===ce.heightInPx)return;const j=V-ce.heightInPx;ce.heightInPx=V,$.layoutZone(this._viewZoneId),de&&this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()+j);return}else{let V=this._getHeight();if(V-=this._codeEditor.getOption(81).top,V<=0)return;ce.heightInPx=V,this._viewZoneId=$.addZone(ce),de&&this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()+V)}})}_removeViewZone(){this._codeEditor.changeViewZones(de=>{this._viewZoneId!==void 0&&(de.removeZone(this._viewZoneId),this._viewZoneId=void 0,this._viewZone&&(this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()-this._viewZone.heightInPx),this._viewZone=void 0))})}_tryUpdateWidgetWidth(){if(!this._isVisible||!L.isInDOM(this._domNode))return;const de=this._codeEditor.getLayoutInfo();if(de.contentWidth<=0){this._domNode.classList.add("hiddenEditor");return}else this._domNode.classList.contains("hiddenEditor")&&this._domNode.classList.remove("hiddenEditor");const ce=de.width,$=de.minimap.minimapWidth;let V=!1,j=!1,se=!1;if(this._resized&&L.getTotalWidth(this._domNode)>O){this._domNode.style.maxWidth=`${ce-28-$-15}px`,this._replaceInput.width=L.getTotalWidth(this._findInput.domNode);return}if(O+28+$>=ce&&(j=!0),O+28+$-re>=ce&&(se=!0),O+28+$-re>=ce+50&&(V=!0),this._domNode.classList.toggle("collapsed-find-widget",V),this._domNode.classList.toggle("narrow-find-widget",se),this._domNode.classList.toggle("reduced-find-widget",j),!se&&!V&&(this._domNode.style.maxWidth=`${ce-28-$-15}px`),this._findInput.layout({collapsedFindWidget:V,narrowFindWidget:se,reducedFindWidget:j}),this._resized){const ie=this._findInput.inputBox.element.clientWidth;ie>0&&(this._replaceInput.width=ie)}else this._isReplaceVisible&&(this._replaceInput.width=L.getTotalWidth(this._findInput.domNode))}_getHeight(){let de=0;return de+=4,de+=this._findInput.inputBox.height+2,this._isReplaceVisible&&(de+=4,de+=this._replaceInput.inputBox.height+2),de+=4,de}_tryUpdateHeight(){const de=this._getHeight();return this._cachedHeight!==null&&this._cachedHeight===de?!1:(this._cachedHeight=de,this._domNode.style.height=`${de}px`,!0)}focusFindInput(){this._findInput.select(),this._findInput.focus()}focusReplaceInput(){this._replaceInput.select(),this._replaceInput.focus()}highlightFindOptions(){this._findInput.highlightFindOptions()}_updateSearchScope(){if(this._codeEditor.hasModel()&&this._toggleSelectionFind.checked){const de=this._codeEditor.getSelections();de.map(ae=>{ae.endColumn===1&&ae.endLineNumber>ae.startLineNumber&&(ae=ae.setEndPosition(ae.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn(ae.endLineNumber-1)));const ce=this._state.currentMatch;return ae.startLineNumber!==ae.endLineNumber&&!i.Range.equalsRange(ae,ce)?ae:null}).filter(ae=>!!ae),de.length&&this._state.change({searchScope:de},!0)}}_onFindInputMouseDown(de){de.middleButton&&de.stopPropagation()}_onFindInputKeyDown(de){if(de.equals(H|3))if(this._keybindingService.dispatchEvent(de,de.target)){de.preventDefault();return}else{this._findInput.inputBox.insertAtCursor(`
`),de.preventDefault();return}if(de.equals(2)){this._isReplaceVisible?this._replaceInput.focus():this._findInput.focusOnCaseSensitive(),de.preventDefault();return}if(de.equals(2066)){this._codeEditor.focus(),de.preventDefault();return}if(de.equals(16))return K(de,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea"));if(de.equals(18))return Z(de,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea"))}_onReplaceInputKeyDown(de){if(de.equals(H|3))if(this._keybindingService.dispatchEvent(de,de.target)){de.preventDefault();return}else{s.isWindows&&s.isNative&&!this._ctrlEnterReplaceAllWarningPrompted&&(this._notificationService.info(r.localize(26,null)),this._ctrlEnterReplaceAllWarningPrompted=!0,this._storageService.store(te,!0,0,0)),this._replaceInput.inputBox.insertAtCursor(`
`),de.preventDefault();return}if(de.equals(2)){this._findInput.focusOnCaseSensitive(),de.preventDefault();return}if(de.equals(1026)){this._findInput.focus(),de.preventDefault();return}if(de.equals(2066)){this._codeEditor.focus(),de.preventDefault();return}if(de.equals(16))return K(de,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea"));if(de.equals(18))return Z(de,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea"))}getVerticalSashLeft(de){return 0}_keybindingLabelFor(de){const ae=this._keybindingService.lookupKeybinding(de);return ae?` (${ae.getLabel()})`:""}_buildDomNode(){this._findInput=this._register(new d.ContextScopedFindInput(null,this._contextViewProvider,{width:Q,label:I,placeholder:T,appendCaseSensitiveLabel:this._keybindingLabelFor(o.FIND_IDS.ToggleCaseSensitiveCommand),appendWholeWordsLabel:this._keybindingLabelFor(o.FIND_IDS.ToggleWholeWordCommand),appendRegexLabel:this._keybindingLabelFor(o.FIND_IDS.ToggleRegexCommand),validation:ie=>{if(ie.length===0||!this._findInput.getRegex())return null;try{return new RegExp(ie,"gu"),null}catch(Y){return{content:Y.message}}},flexibleHeight:!0,flexibleWidth:!0,flexibleMaxHeight:118,showCommonFindToggles:!0,showHistoryHint:()=>(0,h.showHistoryKeybindingHint)(this._keybindingService),inputBoxStyles:g.defaultInputBoxStyles,toggleStyles:g.defaultToggleStyles},this._contextKeyService)),this._findInput.setRegex(!!this._state.isRegex),this._findInput.setCaseSensitive(!!this._state.matchCase),this._findInput.setWholeWords(!!this._state.wholeWord),this._register(this._findInput.onKeyDown(ie=>this._onFindInputKeyDown(ie))),this._register(this._findInput.inputBox.onDidChange(()=>{this._ignoreChangeEvent||this._state.change({searchString:this._findInput.getValue()},!0)})),this._register(this._findInput.onDidOptionChange(()=>{this._state.change({isRegex:this._findInput.getRegex(),wholeWord:this._findInput.getWholeWords(),matchCase:this._findInput.getCaseSensitive()},!0)})),this._register(this._findInput.onCaseSensitiveKeyDown(ie=>{ie.equals(1026)&&this._isReplaceVisible&&(this._replaceInput.focus(),ie.preventDefault())})),this._register(this._findInput.onRegexKeyDown(ie=>{ie.equals(2)&&this._isReplaceVisible&&(this._replaceInput.focusOnPreserve(),ie.preventDefault())})),this._register(this._findInput.inputBox.onDidHeightChange(ie=>{this._tryUpdateHeight()&&this._showViewZone()})),s.isLinux&&this._register(this._findInput.onMouseDown(ie=>this._onFindInputMouseDown(ie))),this._matchesCount=document.createElement("div"),this._matchesCount.className="matchesCount",this._updateMatchesCount(),this._prevBtn=this._register(new ne({label:P+this._keybindingLabelFor(o.FIND_IDS.PreviousMatchFindAction),icon:e.findPreviousMatchIcon,onTrigger:()=>{(0,C.assertIsDefined)(this._codeEditor.getAction(o.FIND_IDS.PreviousMatchFindAction)).run().then(void 0,f.onUnexpectedError)}})),this._nextBtn=this._register(new ne({label:A+this._keybindingLabelFor(o.FIND_IDS.NextMatchFindAction),icon:e.findNextMatchIcon,onTrigger:()=>{(0,C.assertIsDefined)(this._codeEditor.getAction(o.FIND_IDS.NextMatchFindAction)).run().then(void 0,f.onUnexpectedError)}}));const ce=document.createElement("div");ce.className="find-part",ce.appendChild(this._findInput.domNode);const $=document.createElement("div");$.className="find-actions",ce.appendChild($),$.appendChild(this._matchesCount),$.appendChild(this._prevBtn.domNode),$.appendChild(this._nextBtn.domNode),this._toggleSelectionFind=this._register(new y.Toggle({icon:v,title:M+this._keybindingLabelFor(o.FIND_IDS.ToggleSearchScopeCommand),isChecked:!1,inputActiveOptionBackground:(0,n.asCssVariable)(n.inputActiveOptionBackground),inputActiveOptionBorder:(0,n.asCssVariable)(n.inputActiveOptionBorder),inputActiveOptionForeground:(0,n.asCssVariable)(n.inputActiveOptionForeground)})),this._register(this._toggleSelectionFind.onChange(()=>{if(this._toggleSelectionFind.checked){if(this._codeEditor.hasModel()){const ie=this._codeEditor.getSelections();ie.map(Y=>(Y.endColumn===1&&Y.endLineNumber>Y.startLineNumber&&(Y=Y.setEndPosition(Y.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn(Y.endLineNumber-1))),Y.isEmpty()?null:Y)).filter(Y=>!!Y),ie.length&&this._state.change({searchScope:ie},!0)}}else this._state.change({searchScope:null},!0)})),$.appendChild(this._toggleSelectionFind.domNode),this._closeBtn=this._register(new ne({label:N+this._keybindingLabelFor(o.FIND_IDS.CloseFindWidgetCommand),icon:c.widgetClose,onTrigger:()=>{this._state.change({isRevealed:!1,searchScope:null},!1)},onKeyDown:ie=>{ie.equals(2)&&this._isReplaceVisible&&(this._replaceBtn.isEnabled()?this._replaceBtn.focus():this._codeEditor.focus(),ie.preventDefault())}})),this._replaceInput=this._register(new d.ContextScopedReplaceInput(null,void 0,{label:R,placeholder:F,appendPreserveCaseLabel:this._keybindingLabelFor(o.FIND_IDS.TogglePreserveCaseCommand),history:[],flexibleHeight:!0,flexibleWidth:!0,flexibleMaxHeight:118,showHistoryHint:()=>(0,h.showHistoryKeybindingHint)(this._keybindingService),inputBoxStyles:g.defaultInputBoxStyles,toggleStyles:g.defaultToggleStyles},this._contextKeyService,!0)),this._replaceInput.setPreserveCase(!!this._state.preserveCase),this._register(this._replaceInput.onKeyDown(ie=>this._onReplaceInputKeyDown(ie))),this._register(this._replaceInput.inputBox.onDidChange(()=>{this._state.change({replaceString:this._replaceInput.inputBox.value},!1)})),this._register(this._replaceInput.inputBox.onDidHeightChange(ie=>{this._isReplaceVisible&&this._tryUpdateHeight()&&this._showViewZone()})),this._register(this._replaceInput.onDidOptionChange(()=>{this._state.change({preserveCase:this._replaceInput.getPreserveCase()},!0)})),this._register(this._replaceInput.onPreserveCaseKeyDown(ie=>{ie.equals(2)&&(this._prevBtn.isEnabled()?this._prevBtn.focus():this._nextBtn.isEnabled()?this._nextBtn.focus():this._toggleSelectionFind.enabled?this._toggleSelectionFind.focus():this._closeBtn.isEnabled()&&this._closeBtn.focus(),ie.preventDefault())})),this._replaceBtn=this._register(new ne({label:x+this._keybindingLabelFor(o.FIND_IDS.ReplaceOneAction),icon:e.findReplaceIcon,onTrigger:()=>{this._controller.replace()},onKeyDown:ie=>{ie.equals(1026)&&(this._closeBtn.focus(),ie.preventDefault())}})),this._replaceAllBtn=this._register(new ne({label:W+this._keybindingLabelFor(o.FIND_IDS.ReplaceAllAction),icon:e.findReplaceAllIcon,onTrigger:()=>{this._controller.replaceAll()}}));const V=document.createElement("div");V.className="replace-part",V.appendChild(this._replaceInput.domNode);const j=document.createElement("div");j.className="replace-actions",V.appendChild(j),j.appendChild(this._replaceBtn.domNode),j.appendChild(this._replaceAllBtn.domNode),this._toggleReplaceBtn=this._register(new ne({label:z,className:"codicon toggle left",onTrigger:()=>{this._state.change({isReplaceRevealed:!this._isReplaceVisible},!1),this._isReplaceVisible&&(this._replaceInput.width=L.getTotalWidth(this._findInput.domNode),this._replaceInput.inputBox.layout()),this._showViewZone()}})),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible),this._domNode=document.createElement("div"),this._domNode.className="editor-widget find-widget",this._domNode.setAttribute("aria-hidden","true"),this._domNode.ariaLabel=E,this._domNode.role="dialog",this._domNode.style.width=`${O}px`,this._domNode.appendChild(this._toggleReplaceBtn.domNode),this._domNode.appendChild(ce),this._domNode.appendChild(this._closeBtn.domNode),this._domNode.appendChild(V),this._resizeSash=new D.Sash(this._domNode,this,{orientation:0,size:2}),this._resized=!1;let se=O;this._register(this._resizeSash.onDidStart(()=>{se=L.getTotalWidth(this._domNode)})),this._register(this._resizeSash.onDidChange(ie=>{this._resized=!0;const Y=se+ie.startX-ie.currentX;if(Y<O)return;const le=parseFloat(L.getComputedStyle(this._domNode).maxWidth)||0;Y>le||(this._domNode.style.width=`${Y}px`,this._isReplaceVisible&&(this._replaceInput.width=L.getTotalWidth(this._findInput.domNode)),this._findInput.inputBox.layout(),this._tryUpdateHeight())})),this._register(this._resizeSash.onDidReset(()=>{const ie=L.getTotalWidth(this._domNode);if(ie<O)return;let Y=O;if(!this._resized||ie===O){const le=this._codeEditor.getLayoutInfo();Y=le.width-28-le.minimap.minimapWidth-15,this._resized=!0}this._domNode.style.width=`${Y}px`,this._isReplaceVisible&&(this._replaceInput.width=L.getTotalWidth(this._findInput.domNode)),this._findInput.inputBox.layout()}))}updateAccessibilitySupport(){const de=this._codeEditor.getOption(2);this._findInput.setFocusInputOnOptionClick(de!==2)}}e.FindWidget=J,J.ID="editor.contrib.findWidget";class ne extends S.Widget{constructor(de){super(),this._opts=de;let ae="button";this._opts.className&&(ae=ae+" "+this._opts.className),this._opts.icon&&(ae=ae+" "+l.ThemeIcon.asClassName(this._opts.icon)),this._domNode=document.createElement("div"),this._domNode.title=this._opts.label,this._domNode.tabIndex=0,this._domNode.className=ae,this._domNode.setAttribute("role","button"),this._domNode.setAttribute("aria-label",this._opts.label),this.onclick(this._domNode,ce=>{this._opts.onTrigger(),ce.preventDefault()}),this.onkeydown(this._domNode,ce=>{var $,V;if(ce.equals(10)||ce.equals(3)){this._opts.onTrigger(),ce.preventDefault();return}(V=($=this._opts).onKeyDown)===null||V===void 0||V.call($,ce)})}get domNode(){return this._domNode}isEnabled(){return this._domNode.tabIndex>=0}focus(){this._domNode.focus()}setEnabled(de){this._domNode.classList.toggle("disabled",!de),this._domNode.setAttribute("aria-disabled",String(!de)),this._domNode.tabIndex=de?0:-1}setExpanded(de){this._domNode.setAttribute("aria-expanded",String(!!de)),de?(this._domNode.classList.remove(...l.ThemeIcon.asClassNameArray(b)),this._domNode.classList.add(...l.ThemeIcon.asClassNameArray(w))):(this._domNode.classList.remove(...l.ThemeIcon.asClassNameArray(w)),this._domNode.classList.add(...l.ThemeIcon.asClassNameArray(b)))}}e.SimpleButton=ne,(0,a.registerThemingParticipant)((he,de)=>{const ae=(Ie,ye)=>{ye&&de.addRule(`.monaco-editor ${Ie} { background-color: ${ye}; }`)};ae(".findMatch",he.getColor(n.editorFindMatchHighlight)),ae(".currentFindMatch",he.getColor(n.editorFindMatch)),ae(".findScope",he.getColor(n.editorFindRangeHighlight));const ce=he.getColor(n.editorWidgetBackground);ae(".find-widget",ce);const $=he.getColor(n.widgetShadow);$&&de.addRule(`.monaco-editor .find-widget { box-shadow: 0 0 8px 2px ${$}; }`);const V=he.getColor(n.widgetBorder);V&&de.addRule(`.monaco-editor .find-widget { border-left: 1px solid ${V}; border-right: 1px solid ${V}; border-bottom: 1px solid ${V}; }`);const j=he.getColor(n.editorFindMatchHighlightBorder);j&&de.addRule(`.monaco-editor .findMatch { border: 1px ${(0,u.isHighContrast)(he.type)?"dotted":"solid"} ${j}; box-sizing: border-box; }`);const se=he.getColor(n.editorFindMatchBorder);se&&de.addRule(`.monaco-editor .currentFindMatch { border: 2px solid ${se}; padding: 1px; box-sizing: border-box; }`);const ie=he.getColor(n.editorFindRangeHighlightBorder);ie&&de.addRule(`.monaco-editor .findScope { border: 1px ${(0,u.isHighContrast)(he.type)?"dashed":"solid"} ${ie}; }`);const Y=he.getColor(n.contrastBorder);Y&&de.addRule(`.monaco-editor .find-widget { border: 1px solid ${Y}; }`);const le=he.getColor(n.editorWidgetForeground);le&&de.addRule(`.monaco-editor .find-widget { color: ${le}; }`);const fe=he.getColor(n.errorForeground);fe&&de.addRule(`.monaco-editor .find-widget.no-results .matchesCount { color: ${fe}; }`);const be=he.getColor(n.editorWidgetResizeBorder);if(be)de.addRule(`.monaco-editor .find-widget .monaco-sash { background-color: ${be}; }`);else{const Ie=he.getColor(n.editorWidgetBorder);Ie&&de.addRule(`.monaco-editor .find-widget .monaco-sash { background-color: ${Ie}; }`)}const we=he.getColor(n.toolbarHoverBackground);we&&de.addRule(`
		.monaco-editor .find-widget .button:not(.disabled):hover,
		.monaco-editor .find-widget .codicon-find-selection:hover {
			background-color: ${we} !important;
		}
	`);const Ee=he.getColor(n.focusBorder);Ee&&de.addRule(`.monaco-editor .find-widget .monaco-inputbox.synthetic-focus { outline-color: ${Ee}; }`)})}),define(X[360],ee([1,0,14,2,9,15,79,22,47,194,870,871,872,646,31,95,13,57,37,44,76,87,23]),function(q,e,L,k,y,D,S,m,_,f,p,s,t,i,o,r,d,h,n,c,a,l,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StartFindReplaceAction=e.PreviousSelectionMatchFindAction=e.NextSelectionMatchFindAction=e.SelectionMatchFindAction=e.MoveToMatchFindAction=e.PreviousMatchFindAction=e.NextMatchFindAction=e.MatchFindAction=e.StartFindWithSelectionAction=e.StartFindWithArgsAction=e.StartFindAction=e.FindController=e.CommonFindController=e.getSelectionSearchString=void 0;const C=524288;function g(W,z="single",U=!1){if(!W.hasModel())return null;const O=W.getSelection();if(z==="single"&&O.startLineNumber===O.endLineNumber||z==="multiple"){if(O.isEmpty()){const G=W.getConfiguredWordAtPosition(O.getStartPosition());if(G&&U===!1)return G.word}else if(W.getModel().getValueLengthInRange(O)<C)return W.getModel().getValueInRange(O)}return null}e.getSelectionSearchString=g;let v=e.CommonFindController=class Xi extends k.Disposable{get editor(){return this._editor}static get(z){return z.getContribution(Xi.ID)}constructor(z,U,O,G){super(),this._editor=z,this._findWidgetVisible=f.CONTEXT_FIND_WIDGET_VISIBLE.bindTo(U),this._contextKeyService=U,this._storageService=O,this._clipboardService=G,this._updateHistoryDelayer=new L.Delayer(500),this._state=this._register(new s.FindReplaceState),this.loadQueryState(),this._register(this._state.onFindReplaceStateChange(Q=>this._onStateChanged(Q))),this._model=null,this._register(this._editor.onDidChangeModel(()=>{const Q=this._editor.getModel()&&this._state.isRevealed;this.disposeModel(),this._state.change({searchScope:null,matchCase:this._storageService.getBoolean("editor.matchCase",1,!1),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,!1),isRegex:this._storageService.getBoolean("editor.isRegex",1,!1),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,!1)},!1),Q&&this._start({forceRevealReplace:!1,seedSearchStringFromSelection:"none",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!1,updateSearchScope:!1,loop:this._editor.getOption(39).loop})}))}dispose(){this.disposeModel(),super.dispose()}disposeModel(){this._model&&(this._model.dispose(),this._model=null)}_onStateChanged(z){this.saveQueryState(z),z.isRevealed&&(this._state.isRevealed?this._findWidgetVisible.set(!0):(this._findWidgetVisible.reset(),this.disposeModel())),z.searchString&&this.setGlobalBufferTerm(this._state.searchString)}saveQueryState(z){z.isRegex&&this._storageService.store("editor.isRegex",this._state.actualIsRegex,1,1),z.wholeWord&&this._storageService.store("editor.wholeWord",this._state.actualWholeWord,1,1),z.matchCase&&this._storageService.store("editor.matchCase",this._state.actualMatchCase,1,1),z.preserveCase&&this._storageService.store("editor.preserveCase",this._state.actualPreserveCase,1,1)}loadQueryState(){this._state.change({matchCase:this._storageService.getBoolean("editor.matchCase",1,this._state.matchCase),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,this._state.wholeWord),isRegex:this._storageService.getBoolean("editor.isRegex",1,this._state.isRegex),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,this._state.preserveCase)},!1)}isFindInputFocused(){return!!f.CONTEXT_FIND_INPUT_FOCUSED.getValue(this._contextKeyService)}getState(){return this._state}closeFindWidget(){this._state.change({isRevealed:!1,searchScope:null},!1),this._editor.focus()}toggleCaseSensitive(){this._state.change({matchCase:!this._state.matchCase},!1),this._state.isRevealed||this.highlightFindOptions()}toggleWholeWords(){this._state.change({wholeWord:!this._state.wholeWord},!1),this._state.isRevealed||this.highlightFindOptions()}toggleRegex(){this._state.change({isRegex:!this._state.isRegex},!1),this._state.isRevealed||this.highlightFindOptions()}togglePreserveCase(){this._state.change({preserveCase:!this._state.preserveCase},!1),this._state.isRevealed||this.highlightFindOptions()}toggleSearchScope(){if(this._state.searchScope)this._state.change({searchScope:null},!0);else if(this._editor.hasModel()){const z=this._editor.getSelections();z.map(U=>(U.endColumn===1&&U.endLineNumber>U.startLineNumber&&(U=U.setEndPosition(U.endLineNumber-1,this._editor.getModel().getLineMaxColumn(U.endLineNumber-1))),U.isEmpty()?null:U)).filter(U=>!!U),z.length&&this._state.change({searchScope:z},!0)}}setSearchString(z){this._state.isRegex&&(z=y.escapeRegExpCharacters(z)),this._state.change({searchString:z},!1)}highlightFindOptions(z=!1){}_start(z,U){return Le(this,void 0,void 0,function*(){if(this.disposeModel(),!this._editor.hasModel())return;const O=Object.assign(Object.assign({},U),{isRevealed:!0});if(z.seedSearchStringFromSelection==="single"){const G=g(this._editor,z.seedSearchStringFromSelection,z.seedSearchStringFromNonEmptySelection);G&&(this._state.isRegex?O.searchString=y.escapeRegExpCharacters(G):O.searchString=G)}else if(z.seedSearchStringFromSelection==="multiple"&&!z.updateSearchScope){const G=g(this._editor,z.seedSearchStringFromSelection);G&&(O.searchString=G)}if(!O.searchString&&z.seedSearchStringFromGlobalClipboard){const G=yield this.getGlobalBufferTerm();if(!this._editor.hasModel())return;G&&(O.searchString=G)}if(z.forceRevealReplace||O.isReplaceRevealed?O.isReplaceRevealed=!0:this._findWidgetVisible.get()||(O.isReplaceRevealed=!1),z.updateSearchScope){const G=this._editor.getSelections();G.some(Q=>!Q.isEmpty())&&(O.searchScope=G)}O.loop=z.loop,this._state.change(O,!1),this._model||(this._model=new f.FindModelBoundToEditorModel(this._editor,this._state))})}start(z,U){return this._start(z,U)}moveToNextMatch(){return this._model?(this._model.moveToNextMatch(),!0):!1}moveToPrevMatch(){return this._model?(this._model.moveToPrevMatch(),!0):!1}goToMatch(z){return this._model?(this._model.moveToMatch(z),!0):!1}replace(){return this._model?(this._model.replace(),!0):!1}replaceAll(){return this._model?(this._model.replaceAll(),!0):!1}selectAllMatches(){return this._model?(this._model.selectAllMatches(),this._editor.focus(),!0):!1}getGlobalBufferTerm(){return Le(this,void 0,void 0,function*(){return this._editor.getOption(39).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()?this._clipboardService.readFindText():""})}setGlobalBufferTerm(z){this._editor.getOption(39).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()&&this._clipboardService.writeFindText(z)}};v.ID="editor.contrib.findController",e.CommonFindController=v=Ne([ge(1,d.IContextKeyService),ge(2,l.IStorageService),ge(3,r.IClipboardService)],v);let b=e.FindController=class extends v{constructor(z,U,O,G,Q,re,oe,te){super(z,O,oe,te),this._contextViewService=U,this._keybindingService=G,this._themeService=Q,this._notificationService=re,this._widget=null,this._findOptionsWidget=null}_start(z,U){const O=Object.create(null,{_start:{get:()=>super._start}});return Le(this,void 0,void 0,function*(){this._widget||this._createFindWidget();const G=this._editor.getSelection();let Q=!1;switch(this._editor.getOption(39).autoFindInSelection){case"always":Q=!0;break;case"never":Q=!1;break;case"multiline":{Q=!!G&&G.startLineNumber!==G.endLineNumber;break}default:break}z.updateSearchScope=z.updateSearchScope||Q,yield O._start.call(this,z,U),this._widget&&(z.shouldFocus===2?this._widget.focusReplaceInput():z.shouldFocus===1&&this._widget.focusFindInput())})}highlightFindOptions(z=!1){this._widget||this._createFindWidget(),this._state.isRevealed&&!z?this._widget.highlightFindOptions():this._findOptionsWidget.highlightFindOptions()}_createFindWidget(){this._widget=this._register(new t.FindWidget(this._editor,this,this._state,this._contextViewService,this._keybindingService,this._contextKeyService,this._themeService,this._storageService,this._notificationService)),this._findOptionsWidget=this._register(new p.FindOptionsWidget(this._editor,this._state,this._keybindingService))}};e.FindController=b=Ne([ge(1,h.IContextViewService),ge(2,d.IContextKeyService),ge(3,n.IKeybindingService),ge(4,u.IThemeService),ge(5,c.INotificationService),ge(6,l.IStorageService),ge(7,r.IClipboardService)],b),e.StartFindAction=(0,D.registerMultiEditorAction)(new D.MultiEditorAction({id:f.FIND_IDS.StartFindAction,label:i.localize(0,null),alias:"Find",precondition:d.ContextKeyExpr.or(m.EditorContextKeys.focus,d.ContextKeyExpr.has("editorIsOpen")),kbOpts:{kbExpr:null,primary:2084,weight:100},menuOpts:{menuId:o.MenuId.MenubarEditMenu,group:"3_find",title:i.localize(1,null),order:1}})),e.StartFindAction.addImplementation(0,(W,z,U)=>{const O=v.get(z);return O?O.start({forceRevealReplace:!1,seedSearchStringFromSelection:z.getOption(39).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:z.getOption(39).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:z.getOption(39).globalFindClipboard,shouldFocus:1,shouldAnimate:!0,updateSearchScope:!1,loop:z.getOption(39).loop}):!1});const w={description:"Open a new In-Editor Find Widget.",args:[{name:"Open a new In-Editor Find Widget args",schema:{properties:{searchString:{type:"string"},replaceString:{type:"string"},regex:{type:"boolean"},regexOverride:{type:"number",description:i.localize(2,null)},wholeWord:{type:"boolean"},wholeWordOverride:{type:"number",description:i.localize(3,null)},matchCase:{type:"boolean"},matchCaseOverride:{type:"number",description:i.localize(4,null)},preserveCase:{type:"boolean"},preserveCaseOverride:{type:"number",description:i.localize(5,null)},findInSelection:{type:"boolean"}}}}]};class E extends D.EditorAction{constructor(){super({id:f.FIND_IDS.StartFindWithArgs,label:i.localize(6,null),alias:"Find With Arguments",precondition:void 0,kbOpts:{kbExpr:null,primary:0,weight:100},description:w})}run(z,U,O){return Le(this,void 0,void 0,function*(){const G=v.get(U);if(G){const Q=O?{searchString:O.searchString,replaceString:O.replaceString,isReplaceRevealed:O.replaceString!==void 0,isRegex:O.isRegex,wholeWord:O.matchWholeWord,matchCase:O.isCaseSensitive,preserveCase:O.preserveCase}:{};yield G.start({forceRevealReplace:!1,seedSearchStringFromSelection:G.getState().searchString.length===0&&U.getOption(39).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:U.getOption(39).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:!0,shouldFocus:1,shouldAnimate:!0,updateSearchScope:O?.findInSelection||!1,loop:U.getOption(39).loop},Q),G.setGlobalBufferTerm(G.getState().searchString)}})}}e.StartFindWithArgsAction=E;class I extends D.EditorAction{constructor(){super({id:f.FIND_IDS.StartFindWithSelection,label:i.localize(7,null),alias:"Find With Selection",precondition:void 0,kbOpts:{kbExpr:null,primary:0,mac:{primary:2083},weight:100}})}run(z,U){return Le(this,void 0,void 0,function*(){const O=v.get(U);O&&(yield O.start({forceRevealReplace:!1,seedSearchStringFromSelection:"multiple",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:U.getOption(39).loop}),O.setGlobalBufferTerm(O.getState().searchString))})}}e.StartFindWithSelectionAction=I;class T extends D.EditorAction{run(z,U){return Le(this,void 0,void 0,function*(){const O=v.get(U);O&&!this._run(O)&&(yield O.start({forceRevealReplace:!1,seedSearchStringFromSelection:O.getState().searchString.length===0&&U.getOption(39).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:U.getOption(39).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:!0,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:U.getOption(39).loop}),this._run(O))})}}e.MatchFindAction=T;class P extends T{constructor(){super({id:f.FIND_IDS.NextMatchFindAction,label:i.localize(8,null),alias:"Find Next",precondition:void 0,kbOpts:[{kbExpr:m.EditorContextKeys.focus,primary:61,mac:{primary:2085,secondary:[61]},weight:100},{kbExpr:d.ContextKeyExpr.and(m.EditorContextKeys.focus,f.CONTEXT_FIND_INPUT_FOCUSED),primary:3,weight:100}]})}_run(z){return z.moveToNextMatch()?(z.editor.pushUndoStop(),!0):!1}}e.NextMatchFindAction=P;class A extends T{constructor(){super({id:f.FIND_IDS.PreviousMatchFindAction,label:i.localize(9,null),alias:"Find Previous",precondition:void 0,kbOpts:[{kbExpr:m.EditorContextKeys.focus,primary:1085,mac:{primary:3109,secondary:[1085]},weight:100},{kbExpr:d.ContextKeyExpr.and(m.EditorContextKeys.focus,f.CONTEXT_FIND_INPUT_FOCUSED),primary:1027,weight:100}]})}_run(z){return z.moveToPrevMatch()}}e.PreviousMatchFindAction=A;class M extends D.EditorAction{constructor(){super({id:f.FIND_IDS.GoToMatchFindAction,label:i.localize(10,null),alias:"Go to Match...",precondition:f.CONTEXT_FIND_WIDGET_VISIBLE}),this._highlightDecorations=[]}run(z,U,O){const G=v.get(U);if(!G)return;const Q=G.getState().matchesCount;if(Q<1){z.get(c.INotificationService).notify({severity:c.Severity.Warning,message:i.localize(11,null)});return}const oe=z.get(a.IQuickInputService).createInputBox();oe.placeholder=i.localize(12,null,Q);const te=B=>{const K=parseInt(B);if(isNaN(K))return;const Z=G.getState().matchesCount;if(K>0&&K<=Z)return K-1;if(K<0&&K>=-Z)return Z+K},H=B=>{const K=te(B);if(typeof K=="number"){oe.validationMessage=void 0,G.goToMatch(K);const Z=G.getState().currentMatch;Z&&this.addDecorations(U,Z)}else oe.validationMessage=i.localize(13,null,G.getState().matchesCount),this.clearDecorations(U)};oe.onDidChangeValue(B=>{H(B)}),oe.onDidAccept(()=>{const B=te(oe.value);typeof B=="number"?(G.goToMatch(B),oe.hide()):oe.validationMessage=i.localize(14,null,G.getState().matchesCount)}),oe.onDidHide(()=>{this.clearDecorations(U),oe.dispose()}),oe.show()}clearDecorations(z){z.changeDecorations(U=>{this._highlightDecorations=U.deltaDecorations(this._highlightDecorations,[])})}addDecorations(z,U){z.changeDecorations(O=>{this._highlightDecorations=O.deltaDecorations(this._highlightDecorations,[{range:U,options:{description:"find-match-quick-access-range-highlight",className:"rangeHighlight",isWholeLine:!0}},{range:U,options:{description:"find-match-quick-access-range-highlight-overview",overviewRuler:{color:(0,u.themeColorFromId)(S.overviewRulerRangeHighlight),position:_.OverviewRulerLane.Full}}}])})}}e.MoveToMatchFindAction=M;class N extends D.EditorAction{run(z,U){return Le(this,void 0,void 0,function*(){const O=v.get(U);if(!O)return;const G=g(U,"single",!1);G&&O.setSearchString(G),this._run(O)||(yield O.start({forceRevealReplace:!1,seedSearchStringFromSelection:"none",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:U.getOption(39).loop}),this._run(O))})}}e.SelectionMatchFindAction=N;class R extends N{constructor(){super({id:f.FIND_IDS.NextSelectionMatchFindAction,label:i.localize(15,null),alias:"Find Next Selection",precondition:void 0,kbOpts:{kbExpr:m.EditorContextKeys.focus,primary:2109,weight:100}})}_run(z){return z.moveToNextMatch()}}e.NextSelectionMatchFindAction=R;class F extends N{constructor(){super({id:f.FIND_IDS.PreviousSelectionMatchFindAction,label:i.localize(16,null),alias:"Find Previous Selection",precondition:void 0,kbOpts:{kbExpr:m.EditorContextKeys.focus,primary:3133,weight:100}})}_run(z){return z.moveToPrevMatch()}}e.PreviousSelectionMatchFindAction=F,e.StartFindReplaceAction=(0,D.registerMultiEditorAction)(new D.MultiEditorAction({id:f.FIND_IDS.StartFindReplaceAction,label:i.localize(17,null),alias:"Replace",precondition:d.ContextKeyExpr.or(m.EditorContextKeys.focus,d.ContextKeyExpr.has("editorIsOpen")),kbOpts:{kbExpr:null,primary:2086,mac:{primary:2596},weight:100},menuOpts:{menuId:o.MenuId.MenubarEditMenu,group:"3_find",title:i.localize(18,null),order:2}})),e.StartFindReplaceAction.addImplementation(0,(W,z,U)=>{if(!z.hasModel()||z.getOption(88))return!1;const O=v.get(z);if(!O)return!1;const G=z.getSelection(),Q=O.isFindInputFocused(),re=!G.isEmpty()&&G.startLineNumber===G.endLineNumber&&z.getOption(39).seedSearchStringFromSelection!=="never"&&!Q,oe=Q||re?2:1;return O.start({forceRevealReplace:!0,seedSearchStringFromSelection:re?"single":"none",seedSearchStringFromNonEmptySelection:z.getOption(39).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:z.getOption(39).seedSearchStringFromSelection!=="never",shouldFocus:oe,shouldAnimate:!0,updateSearchScope:!1,loop:z.getOption(39).loop})}),(0,D.registerEditorContribution)(v.ID,b,0),(0,D.registerEditorAction)(E),(0,D.registerEditorAction)(I),(0,D.registerEditorAction)(P),(0,D.registerEditorAction)(A),(0,D.registerEditorAction)(M),(0,D.registerEditorAction)(R),(0,D.registerEditorAction)(F);const x=D.EditorCommand.bindToContribution(v.get);(0,D.registerEditorCommand)(new x({id:f.FIND_IDS.CloseFindWidgetCommand,precondition:f.CONTEXT_FIND_WIDGET_VISIBLE,handler:W=>W.closeFindWidget(),kbOpts:{weight:100+5,kbExpr:d.ContextKeyExpr.and(m.EditorContextKeys.focus,d.ContextKeyExpr.not("isComposing")),primary:9,secondary:[1033]}})),(0,D.registerEditorCommand)(new x({id:f.FIND_IDS.ToggleCaseSensitiveCommand,precondition:void 0,handler:W=>W.toggleCaseSensitive(),kbOpts:{weight:100+5,kbExpr:m.EditorContextKeys.focus,primary:f.ToggleCaseSensitiveKeybinding.primary,mac:f.ToggleCaseSensitiveKeybinding.mac,win:f.ToggleCaseSensitiveKeybinding.win,linux:f.ToggleCaseSensitiveKeybinding.linux}})),(0,D.registerEditorCommand)(new x({id:f.FIND_IDS.ToggleWholeWordCommand,precondition:void 0,handler:W=>W.toggleWholeWords(),kbOpts:{weight:100+5,kbExpr:m.EditorContextKeys.focus,primary:f.ToggleWholeWordKeybinding.primary,mac:f.ToggleWholeWordKeybinding.mac,win:f.ToggleWholeWordKeybinding.win,linux:f.ToggleWholeWordKeybinding.linux}})),(0,D.registerEditorCommand)(new x({id:f.FIND_IDS.ToggleRegexCommand,precondition:void 0,handler:W=>W.toggleRegex(),kbOpts:{weight:100+5,kbExpr:m.EditorContextKeys.focus,primary:f.ToggleRegexKeybinding.primary,mac:f.ToggleRegexKeybinding.mac,win:f.ToggleRegexKeybinding.win,linux:f.ToggleRegexKeybinding.linux}})),(0,D.registerEditorCommand)(new x({id:f.FIND_IDS.ToggleSearchScopeCommand,precondition:void 0,handler:W=>W.toggleSearchScope(),kbOpts:{weight:100+5,kbExpr:m.EditorContextKeys.focus,primary:f.ToggleSearchScopeKeybinding.primary,mac:f.ToggleSearchScopeKeybinding.mac,win:f.ToggleSearchScopeKeybinding.win,linux:f.ToggleSearchScopeKeybinding.linux}})),(0,D.registerEditorCommand)(new x({id:f.FIND_IDS.TogglePreserveCaseCommand,precondition:void 0,handler:W=>W.togglePreserveCase(),kbOpts:{weight:100+5,kbExpr:m.EditorContextKeys.focus,primary:f.TogglePreserveCaseKeybinding.primary,mac:f.TogglePreserveCaseKeybinding.mac,win:f.TogglePreserveCaseKeybinding.win,linux:f.TogglePreserveCaseKeybinding.linux}})),(0,D.registerEditorCommand)(new x({id:f.FIND_IDS.ReplaceOneAction,precondition:f.CONTEXT_FIND_WIDGET_VISIBLE,handler:W=>W.replace(),kbOpts:{weight:100+5,kbExpr:m.EditorContextKeys.focus,primary:3094}})),(0,D.registerEditorCommand)(new x({id:f.FIND_IDS.ReplaceOneAction,precondition:f.CONTEXT_FIND_WIDGET_VISIBLE,handler:W=>W.replace(),kbOpts:{weight:100+5,kbExpr:d.ContextKeyExpr.and(m.EditorContextKeys.focus,f.CONTEXT_REPLACE_INPUT_FOCUSED),primary:3}})),(0,D.registerEditorCommand)(new x({id:f.FIND_IDS.ReplaceAllAction,precondition:f.CONTEXT_FIND_WIDGET_VISIBLE,handler:W=>W.replaceAll(),kbOpts:{weight:100+5,kbExpr:m.EditorContextKeys.focus,primary:2563}})),(0,D.registerEditorCommand)(new x({id:f.FIND_IDS.ReplaceAllAction,precondition:f.CONTEXT_FIND_WIDGET_VISIBLE,handler:W=>W.replaceAll(),kbOpts:{weight:100+5,kbExpr:d.ContextKeyExpr.and(m.EditorContextKeys.focus,f.CONTEXT_REPLACE_INPUT_FOCUSED),primary:void 0,mac:{primary:2051}}})),(0,D.registerEditorCommand)(new x({id:f.FIND_IDS.SelectAllMatchesAction,precondition:f.CONTEXT_FIND_WIDGET_VISIBLE,handler:W=>W.selectAllMatches(),kbOpts:{weight:100+5,kbExpr:m.EditorContextKeys.focus,primary:515}}))}),define(X[873],ee([1,0,25,47,39,649,33,61,23,27]),function(q,e,L,k,y,D,S,m,_,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FoldingDecorationProvider=e.foldingManualExpandedIcon=e.foldingManualCollapsedIcon=e.foldingCollapsedIcon=e.foldingExpandedIcon=void 0;const p=(0,S.registerColor)("editor.foldBackground",{light:(0,S.transparent)(S.editorSelectionBackground,.3),dark:(0,S.transparent)(S.editorSelectionBackground,.3),hcDark:null,hcLight:null},(0,D.localize)(0,null),!0);(0,S.registerColor)("editorGutter.foldingControlForeground",{dark:S.iconForeground,light:S.iconForeground,hcDark:S.iconForeground,hcLight:S.iconForeground},(0,D.localize)(1,null)),e.foldingExpandedIcon=(0,m.registerIcon)("folding-expanded",L.Codicon.chevronDown,(0,D.localize)(2,null)),e.foldingCollapsedIcon=(0,m.registerIcon)("folding-collapsed",L.Codicon.chevronRight,(0,D.localize)(3,null)),e.foldingManualCollapsedIcon=(0,m.registerIcon)("folding-manual-collapsed",e.foldingCollapsedIcon,(0,D.localize)(4,null)),e.foldingManualExpandedIcon=(0,m.registerIcon)("folding-manual-expanded",e.foldingExpandedIcon,(0,D.localize)(5,null));const s={color:(0,_.themeColorFromId)(p),position:k.MinimapPosition.Inline};class t{constructor(o){this.editor=o,this.showFoldingControls="mouseover",this.showFoldingHighlights=!0}getDecorationOption(o,r,d){return r?t.HIDDEN_RANGE_DECORATION:this.showFoldingControls==="never"?o?this.showFoldingHighlights?t.NO_CONTROLS_COLLAPSED_HIGHLIGHTED_RANGE_DECORATION:t.NO_CONTROLS_COLLAPSED_RANGE_DECORATION:t.NO_CONTROLS_EXPANDED_RANGE_DECORATION:o?d?this.showFoldingHighlights?t.MANUALLY_COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION:t.MANUALLY_COLLAPSED_VISUAL_DECORATION:this.showFoldingHighlights?t.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION:t.COLLAPSED_VISUAL_DECORATION:this.showFoldingControls==="mouseover"?d?t.MANUALLY_EXPANDED_AUTO_HIDE_VISUAL_DECORATION:t.EXPANDED_AUTO_HIDE_VISUAL_DECORATION:d?t.MANUALLY_EXPANDED_VISUAL_DECORATION:t.EXPANDED_VISUAL_DECORATION}changeDecorations(o){return this.editor.changeDecorations(o)}removeDecorations(o){this.editor.removeDecorations(o)}}e.FoldingDecorationProvider=t,t.COLLAPSED_VISUAL_DECORATION=y.ModelDecorationOptions.register({description:"folding-collapsed-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",isWholeLine:!0,firstLineDecorationClassName:f.ThemeIcon.asClassName(e.foldingCollapsedIcon)}),t.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION=y.ModelDecorationOptions.register({description:"folding-collapsed-highlighted-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",className:"folded-background",minimap:s,isWholeLine:!0,firstLineDecorationClassName:f.ThemeIcon.asClassName(e.foldingCollapsedIcon)}),t.MANUALLY_COLLAPSED_VISUAL_DECORATION=y.ModelDecorationOptions.register({description:"folding-manually-collapsed-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",isWholeLine:!0,firstLineDecorationClassName:f.ThemeIcon.asClassName(e.foldingManualCollapsedIcon)}),t.MANUALLY_COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION=y.ModelDecorationOptions.register({description:"folding-manually-collapsed-highlighted-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",className:"folded-background",minimap:s,isWholeLine:!0,firstLineDecorationClassName:f.ThemeIcon.asClassName(e.foldingManualCollapsedIcon)}),t.NO_CONTROLS_COLLAPSED_RANGE_DECORATION=y.ModelDecorationOptions.register({description:"folding-no-controls-range-decoration",stickiness:0,afterContentClassName:"inline-folded",isWholeLine:!0}),t.NO_CONTROLS_COLLAPSED_HIGHLIGHTED_RANGE_DECORATION=y.ModelDecorationOptions.register({description:"folding-no-controls-range-decoration",stickiness:0,afterContentClassName:"inline-folded",className:"folded-background",minimap:s,isWholeLine:!0}),t.EXPANDED_VISUAL_DECORATION=y.ModelDecorationOptions.register({description:"folding-expanded-visual-decoration",stickiness:1,isWholeLine:!0,firstLineDecorationClassName:"alwaysShowFoldIcons "+f.ThemeIcon.asClassName(e.foldingExpandedIcon)}),t.EXPANDED_AUTO_HIDE_VISUAL_DECORATION=y.ModelDecorationOptions.register({description:"folding-expanded-auto-hide-visual-decoration",stickiness:1,isWholeLine:!0,firstLineDecorationClassName:f.ThemeIcon.asClassName(e.foldingExpandedIcon)}),t.MANUALLY_EXPANDED_VISUAL_DECORATION=y.ModelDecorationOptions.register({description:"folding-manually-expanded-visual-decoration",stickiness:0,isWholeLine:!0,firstLineDecorationClassName:"alwaysShowFoldIcons "+f.ThemeIcon.asClassName(e.foldingManualExpandedIcon)}),t.MANUALLY_EXPANDED_AUTO_HIDE_VISUAL_DECORATION=y.ModelDecorationOptions.register({description:"folding-manually-expanded-auto-hide-visual-decoration",stickiness:0,isWholeLine:!0,firstLineDecorationClassName:f.ThemeIcon.asClassName(e.foldingManualExpandedIcon)}),t.NO_CONTROLS_EXPANDED_RANGE_DECORATION=y.ModelDecorationOptions.register({description:"folding-no-controls-range-decoration",stickiness:0,isWholeLine:!0}),t.HIDDEN_RANGE_DECORATION=y.ModelDecorationOptions.register({description:"folding-hidden-range-decoration",stickiness:1})}),define(X[361],ee([1,0,14,20,12,62,2,9,18,108,15,22,29,30,537,538,289,648,13,873,184,290,44,75,58,19,6,26,21,49,28,439]),function(q,e,L,k,y,D,S,m,_,f,p,s,t,i,o,r,d,h,n,c,a,l,u,C,g,v,b,w,E,I,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RangesLimitReporter=e.FoldingController=void 0;const P=new n.RawContextKey("foldingEnabled",!1);let A=e.FoldingController=class qt extends S.Disposable{static get(ae){return ae.getContribution(qt.ID)}static getFoldingRangeProviders(ae,ce){var $,V;const j=ae.foldingRangeProvider.ordered(ce);return(V=($=qt._foldingRangeSelector)===null||$===void 0?void 0:$.call(qt,j,ce))!==null&&V!==void 0?V:j}constructor(ae,ce,$,V,j,se){super(),this.contextKeyService=ce,this.languageConfigurationService=$,this.languageFeaturesService=se,this.localToDispose=this._register(new S.DisposableStore),this.editor=ae,this._foldingLimitReporter=new M(ae);const ie=this.editor.getOptions();this._isEnabled=ie.get(41),this._useFoldingProviders=ie.get(42)!=="indentation",this._unfoldOnClickAfterEndOfLine=ie.get(46),this._restoringViewState=!1,this._currentModelHasFoldedImports=!1,this._foldingImportsByDefault=ie.get(44),this.updateDebounceInfo=j.for(se.foldingRangeProvider,"Folding",{min:200}),this.foldingModel=null,this.hiddenRangeModel=null,this.rangeProvider=null,this.foldingRegionPromise=null,this.foldingModelPromise=null,this.updateScheduler=null,this.cursorChangedScheduler=null,this.mouseDownInfo=null,this.foldingDecorationProvider=new c.FoldingDecorationProvider(ae),this.foldingDecorationProvider.showFoldingControls=ie.get(107),this.foldingDecorationProvider.showFoldingHighlights=ie.get(43),this.foldingEnabled=P.bindTo(this.contextKeyService),this.foldingEnabled.set(this._isEnabled),this._register(this.editor.onDidChangeModel(()=>this.onModelChanged())),this._register(this.editor.onDidChangeConfiguration(Y=>{if(Y.hasChanged(41)&&(this._isEnabled=this.editor.getOptions().get(41),this.foldingEnabled.set(this._isEnabled),this.onModelChanged()),Y.hasChanged(45)&&this.onModelChanged(),Y.hasChanged(107)||Y.hasChanged(43)){const le=this.editor.getOptions();this.foldingDecorationProvider.showFoldingControls=le.get(107),this.foldingDecorationProvider.showFoldingHighlights=le.get(43),this.triggerFoldingModelChanged()}Y.hasChanged(42)&&(this._useFoldingProviders=this.editor.getOptions().get(42)!=="indentation",this.onFoldingStrategyChanged()),Y.hasChanged(46)&&(this._unfoldOnClickAfterEndOfLine=this.editor.getOptions().get(46)),Y.hasChanged(44)&&(this._foldingImportsByDefault=this.editor.getOptions().get(44))})),this.onModelChanged()}saveViewState(){const ae=this.editor.getModel();if(!ae||!this._isEnabled||ae.isTooLargeForTokenization())return{};if(this.foldingModel){const ce=this.foldingModel.getMemento(),$=this.rangeProvider?this.rangeProvider.id:void 0;return{collapsedRegions:ce,lineCount:ae.getLineCount(),provider:$,foldedImports:this._currentModelHasFoldedImports}}}restoreViewState(ae){const ce=this.editor.getModel();if(!(!ce||!this._isEnabled||ce.isTooLargeForTokenization()||!this.hiddenRangeModel)&&ae&&(this._currentModelHasFoldedImports=!!ae.foldedImports,ae.collapsedRegions&&ae.collapsedRegions.length>0&&this.foldingModel)){this._restoringViewState=!0;try{this.foldingModel.applyMemento(ae.collapsedRegions)}finally{this._restoringViewState=!1}}}onModelChanged(){this.localToDispose.clear();const ae=this.editor.getModel();!this._isEnabled||!ae||ae.isTooLargeForTokenization()||(this._currentModelHasFoldedImports=!1,this.foldingModel=new o.FoldingModel(ae,this.foldingDecorationProvider),this.localToDispose.add(this.foldingModel),this.hiddenRangeModel=new r.HiddenRangeModel(this.foldingModel),this.localToDispose.add(this.hiddenRangeModel),this.localToDispose.add(this.hiddenRangeModel.onDidChange(ce=>this.onHiddenRangesChanges(ce))),this.updateScheduler=new L.Delayer(this.updateDebounceInfo.get(ae)),this.cursorChangedScheduler=new L.RunOnceScheduler(()=>this.revealCursor(),200),this.localToDispose.add(this.cursorChangedScheduler),this.localToDispose.add(this.languageFeaturesService.foldingRangeProvider.onDidChange(()=>this.onFoldingStrategyChanged())),this.localToDispose.add(this.editor.onDidChangeModelLanguageConfiguration(()=>this.onFoldingStrategyChanged())),this.localToDispose.add(this.editor.onDidChangeModelContent(ce=>this.onDidChangeModelContent(ce))),this.localToDispose.add(this.editor.onDidChangeCursorPosition(()=>this.onCursorPositionChanged())),this.localToDispose.add(this.editor.onMouseDown(ce=>this.onEditorMouseDown(ce))),this.localToDispose.add(this.editor.onMouseUp(ce=>this.onEditorMouseUp(ce))),this.localToDispose.add({dispose:()=>{var ce,$;this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),(ce=this.updateScheduler)===null||ce===void 0||ce.cancel(),this.updateScheduler=null,this.foldingModel=null,this.foldingModelPromise=null,this.hiddenRangeModel=null,this.cursorChangedScheduler=null,($=this.rangeProvider)===null||$===void 0||$.dispose(),this.rangeProvider=null}}),this.triggerFoldingModelChanged())}onFoldingStrategyChanged(){var ae;(ae=this.rangeProvider)===null||ae===void 0||ae.dispose(),this.rangeProvider=null,this.triggerFoldingModelChanged()}getRangeProvider(ae){if(this.rangeProvider)return this.rangeProvider;const ce=new d.IndentRangeProvider(ae,this.languageConfigurationService,this._foldingLimitReporter);if(this.rangeProvider=ce,this._useFoldingProviders&&this.foldingModel){const $=qt.getFoldingRangeProviders(this.languageFeaturesService,ae);$.length>0&&(this.rangeProvider=new l.SyntaxRangeProvider(ae,$,()=>this.triggerFoldingModelChanged(),this._foldingLimitReporter,ce))}return this.rangeProvider}getFoldingModel(){return this.foldingModelPromise}onDidChangeModelContent(ae){var ce;(ce=this.hiddenRangeModel)===null||ce===void 0||ce.notifyChangeModelContent(ae),this.triggerFoldingModelChanged()}triggerFoldingModelChanged(){this.updateScheduler&&(this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),this.foldingModelPromise=this.updateScheduler.trigger(()=>{const ae=this.foldingModel;if(!ae)return null;const ce=new g.StopWatch,$=this.getRangeProvider(ae.textModel),V=this.foldingRegionPromise=(0,L.createCancelablePromise)(j=>$.compute(j));return V.then(j=>{if(j&&V===this.foldingRegionPromise){let se;if(this._foldingImportsByDefault&&!this._currentModelHasFoldedImports){const fe=j.setCollapsedAllOfType(t.FoldingRangeKind.Imports.value,!0);fe&&(se=f.StableEditorScrollState.capture(this.editor),this._currentModelHasFoldedImports=fe)}const ie=this.editor.getSelections(),Y=ie?ie.map(fe=>fe.startLineNumber):[];ae.update(j,Y),se?.restore(this.editor);const le=this.updateDebounceInfo.update(ae.textModel,ce.elapsed());this.updateScheduler&&(this.updateScheduler.defaultDelay=le)}return ae})}).then(void 0,ae=>((0,y.onUnexpectedError)(ae),null)))}onHiddenRangesChanges(ae){if(this.hiddenRangeModel&&ae.length&&!this._restoringViewState){const ce=this.editor.getSelections();ce&&this.hiddenRangeModel.adjustSelections(ce)&&this.editor.setSelections(ce)}this.editor.setHiddenAreas(ae,this)}onCursorPositionChanged(){this.hiddenRangeModel&&this.hiddenRangeModel.hasRanges()&&this.cursorChangedScheduler.schedule()}revealCursor(){const ae=this.getFoldingModel();ae&&ae.then(ce=>{if(ce){const $=this.editor.getSelections();if($&&$.length>0){const V=[];for(const j of $){const se=j.selectionStartLineNumber;this.hiddenRangeModel&&this.hiddenRangeModel.isHidden(se)&&V.push(...ce.getAllRegionsAtLine(se,ie=>ie.isCollapsed&&se>ie.startLineNumber))}V.length&&(ce.toggleCollapseState(V),this.reveal($[0].getPosition()))}}}).then(void 0,y.onUnexpectedError)}onEditorMouseDown(ae){if(this.mouseDownInfo=null,!this.hiddenRangeModel||!ae.target||!ae.target.range||!ae.event.leftButton&&!ae.event.middleButton)return;const ce=ae.target.range;let $=!1;switch(ae.target.type){case 4:{const V=ae.target.detail,j=ae.target.element.offsetLeft;if(V.offsetX-j<4)return;$=!0;break}case 7:{if(this._unfoldOnClickAfterEndOfLine&&this.hiddenRangeModel.hasRanges()&&!ae.target.detail.isAfterLines)break;return}case 6:{if(this.hiddenRangeModel.hasRanges()){const V=this.editor.getModel();if(V&&ce.startColumn===V.getLineMaxColumn(ce.startLineNumber))break}return}default:return}this.mouseDownInfo={lineNumber:ce.startLineNumber,iconClicked:$}}onEditorMouseUp(ae){const ce=this.foldingModel;if(!ce||!this.mouseDownInfo||!ae.target)return;const $=this.mouseDownInfo.lineNumber,V=this.mouseDownInfo.iconClicked,j=ae.target.range;if(!j||j.startLineNumber!==$)return;if(V){if(ae.target.type!==4)return}else{const ie=this.editor.getModel();if(!ie||j.startColumn!==ie.getLineMaxColumn($))return}const se=ce.getRegionAtLine($);if(se&&se.startLineNumber===$){const ie=se.isCollapsed;if(V||ie){const Y=ae.event.altKey;let le=[];if(Y){const fe=we=>!we.containedBy(se)&&!se.containedBy(we),be=ce.getRegionsInside(null,fe);for(const we of be)we.isCollapsed&&le.push(we);le.length===0&&(le=be)}else{const fe=ae.event.middleButton||ae.event.shiftKey;if(fe)for(const be of ce.getRegionsInside(se))be.isCollapsed===ie&&le.push(be);(ie||!fe||le.length===0)&&le.push(se)}ce.toggleCollapseState(le),this.reveal({lineNumber:$,column:1})}}}reveal(ae){this.editor.revealPositionInCenterIfOutsideViewport(ae,0)}};A.ID="editor.contrib.folding",e.FoldingController=A=Ne([ge(1,n.IContextKeyService),ge(2,i.ILanguageConfigurationService),ge(3,u.INotificationService),ge(4,C.ILanguageFeatureDebounceService),ge(5,v.ILanguageFeaturesService)],A);class M{constructor(ae){this.editor=ae,this._onDidChange=new b.Emitter,this._computed=0,this._limited=!1}get limit(){return this.editor.getOptions().get(45)}update(ae,ce){(ae!==this._computed||ce!==this._limited)&&(this._computed=ae,this._limited=ce,this._onDidChange.fire())}}e.RangesLimitReporter=M;class N extends p.EditorAction{runEditorCommand(ae,ce,$){const V=ae.get(i.ILanguageConfigurationService),j=A.get(ce);if(!j)return;const se=j.getFoldingModel();if(se)return this.reportTelemetry(ae,ce),se.then(ie=>{if(ie){this.invoke(j,ie,ce,$,V);const Y=ce.getSelection();Y&&j.reveal(Y.getStartPosition())}})}getSelectedLines(ae){const ce=ae.getSelections();return ce?ce.map($=>$.startLineNumber):[]}getLineNumbers(ae,ce){return ae&&ae.selectionLines?ae.selectionLines.map($=>$+1):this.getSelectedLines(ce)}run(ae,ce){}}function R(de){if(!_.isUndefined(de)){if(!_.isObject(de))return!1;const ae=de;if(!_.isUndefined(ae.levels)&&!_.isNumber(ae.levels)||!_.isUndefined(ae.direction)&&!_.isString(ae.direction)||!_.isUndefined(ae.selectionLines)&&(!Array.isArray(ae.selectionLines)||!ae.selectionLines.every(_.isNumber)))return!1}return!0}class F extends N{constructor(){super({id:"editor.unfold",label:h.localize(0,null),alias:"Unfold",precondition:P,kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:3166,mac:{primary:2654},weight:100},description:{description:"Unfold the content in the editor",args:[{name:"Unfold editor argument",description:`Property-value pairs that can be passed through this argument:
						* 'levels': Number of levels to unfold. If not set, defaults to 1.
						* 'direction': If 'up', unfold given number of levels up otherwise unfolds down.
						* 'selectionLines': Array of the start lines (0-based) of the editor selections to apply the unfold action to. If not set, the active selection(s) will be used.
						`,constraint:R,schema:{type:"object",properties:{levels:{type:"number",default:1},direction:{type:"string",enum:["up","down"],default:"down"},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}invoke(ae,ce,$,V){const j=V&&V.levels||1,se=this.getLineNumbers(V,$);V&&V.direction==="up"?(0,o.setCollapseStateLevelsUp)(ce,!1,j,se):(0,o.setCollapseStateLevelsDown)(ce,!1,j,se)}}class x extends N{constructor(){super({id:"editor.unfoldRecursively",label:h.localize(1,null),alias:"Unfold Recursively",precondition:P,kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:(0,D.KeyChord)(2089,2142),weight:100}})}invoke(ae,ce,$,V){(0,o.setCollapseStateLevelsDown)(ce,!1,Number.MAX_VALUE,this.getSelectedLines($))}}class W extends N{constructor(){super({id:"editor.fold",label:h.localize(2,null),alias:"Fold",precondition:P,kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:3164,mac:{primary:2652},weight:100},description:{description:"Fold the content in the editor",args:[{name:"Fold editor argument",description:`Property-value pairs that can be passed through this argument:
							* 'levels': Number of levels to fold.
							* 'direction': If 'up', folds given number of levels up otherwise folds down.
							* 'selectionLines': Array of the start lines (0-based) of the editor selections to apply the fold action to. If not set, the active selection(s) will be used.
							If no levels or direction is set, folds the region at the locations or if already collapsed, the first uncollapsed parent instead.
						`,constraint:R,schema:{type:"object",properties:{levels:{type:"number"},direction:{type:"string",enum:["up","down"]},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}invoke(ae,ce,$,V){const j=this.getLineNumbers(V,$),se=V&&V.levels,ie=V&&V.direction;typeof se!="number"&&typeof ie!="string"?(0,o.setCollapseStateUp)(ce,!0,j):ie==="up"?(0,o.setCollapseStateLevelsUp)(ce,!0,se||1,j):(0,o.setCollapseStateLevelsDown)(ce,!0,se||1,j)}}class z extends N{constructor(){super({id:"editor.toggleFold",label:h.localize(3,null),alias:"Toggle Fold",precondition:P,kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:(0,D.KeyChord)(2089,2090),weight:100}})}invoke(ae,ce,$){const V=this.getSelectedLines($);(0,o.toggleCollapseState)(ce,1,V)}}class U extends N{constructor(){super({id:"editor.foldRecursively",label:h.localize(4,null),alias:"Fold Recursively",precondition:P,kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:(0,D.KeyChord)(2089,2140),weight:100}})}invoke(ae,ce,$){const V=this.getSelectedLines($);(0,o.setCollapseStateLevelsDown)(ce,!0,Number.MAX_VALUE,V)}}class O extends N{constructor(){super({id:"editor.foldAllBlockComments",label:h.localize(5,null),alias:"Fold All Block Comments",precondition:P,kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:(0,D.KeyChord)(2089,2138),weight:100}})}invoke(ae,ce,$,V,j){if(ce.regions.hasTypes())(0,o.setCollapseStateForType)(ce,t.FoldingRangeKind.Comment.value,!0);else{const se=$.getModel();if(!se)return;const ie=j.getLanguageConfiguration(se.getLanguageId()).comments;if(ie&&ie.blockCommentStartToken){const Y=new RegExp("^\\s*"+(0,m.escapeRegExpCharacters)(ie.blockCommentStartToken));(0,o.setCollapseStateForMatchingLines)(ce,Y,!0)}}}}class G extends N{constructor(){super({id:"editor.foldAllMarkerRegions",label:h.localize(6,null),alias:"Fold All Regions",precondition:P,kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:(0,D.KeyChord)(2089,2077),weight:100}})}invoke(ae,ce,$,V,j){if(ce.regions.hasTypes())(0,o.setCollapseStateForType)(ce,t.FoldingRangeKind.Region.value,!0);else{const se=$.getModel();if(!se)return;const ie=j.getLanguageConfiguration(se.getLanguageId()).foldingRules;if(ie&&ie.markers&&ie.markers.start){const Y=new RegExp(ie.markers.start);(0,o.setCollapseStateForMatchingLines)(ce,Y,!0)}}}}class Q extends N{constructor(){super({id:"editor.unfoldAllMarkerRegions",label:h.localize(7,null),alias:"Unfold All Regions",precondition:P,kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:(0,D.KeyChord)(2089,2078),weight:100}})}invoke(ae,ce,$,V,j){if(ce.regions.hasTypes())(0,o.setCollapseStateForType)(ce,t.FoldingRangeKind.Region.value,!1);else{const se=$.getModel();if(!se)return;const ie=j.getLanguageConfiguration(se.getLanguageId()).foldingRules;if(ie&&ie.markers&&ie.markers.start){const Y=new RegExp(ie.markers.start);(0,o.setCollapseStateForMatchingLines)(ce,Y,!1)}}}}class re extends N{constructor(){super({id:"editor.foldAllExcept",label:h.localize(8,null),alias:"Fold All Regions Except Selected",precondition:P,kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:(0,D.KeyChord)(2089,2136),weight:100}})}invoke(ae,ce,$){const V=this.getSelectedLines($);(0,o.setCollapseStateForRest)(ce,!0,V)}}class oe extends N{constructor(){super({id:"editor.unfoldAllExcept",label:h.localize(9,null),alias:"Unfold All Regions Except Selected",precondition:P,kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:(0,D.KeyChord)(2089,2134),weight:100}})}invoke(ae,ce,$){const V=this.getSelectedLines($);(0,o.setCollapseStateForRest)(ce,!1,V)}}class te extends N{constructor(){super({id:"editor.foldAll",label:h.localize(10,null),alias:"Fold All",precondition:P,kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:(0,D.KeyChord)(2089,2069),weight:100}})}invoke(ae,ce,$){(0,o.setCollapseStateLevelsDown)(ce,!0)}}class H extends N{constructor(){super({id:"editor.unfoldAll",label:h.localize(11,null),alias:"Unfold All",precondition:P,kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:(0,D.KeyChord)(2089,2088),weight:100}})}invoke(ae,ce,$){(0,o.setCollapseStateLevelsDown)(ce,!1)}}class B extends N{getFoldingLevel(){return parseInt(this.id.substr(B.ID_PREFIX.length))}invoke(ae,ce,$){(0,o.setCollapseStateAtLevel)(ce,this.getFoldingLevel(),!0,this.getSelectedLines($))}}B.ID_PREFIX="editor.foldLevel",B.ID=de=>B.ID_PREFIX+de;class K extends N{constructor(){super({id:"editor.gotoParentFold",label:h.localize(12,null),alias:"Go to Parent Fold",precondition:P,kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,weight:100}})}invoke(ae,ce,$){const V=this.getSelectedLines($);if(V.length>0){const j=(0,o.getParentFoldLine)(V[0],ce);j!==null&&$.setSelection({startLineNumber:j,startColumn:1,endLineNumber:j,endColumn:1})}}}class Z extends N{constructor(){super({id:"editor.gotoPreviousFold",label:h.localize(13,null),alias:"Go to Previous Folding Range",precondition:P,kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,weight:100}})}invoke(ae,ce,$){const V=this.getSelectedLines($);if(V.length>0){const j=(0,o.getPreviousFoldLine)(V[0],ce);j!==null&&$.setSelection({startLineNumber:j,startColumn:1,endLineNumber:j,endColumn:1})}}}class J extends N{constructor(){super({id:"editor.gotoNextFold",label:h.localize(14,null),alias:"Go to Next Folding Range",precondition:P,kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,weight:100}})}invoke(ae,ce,$){const V=this.getSelectedLines($);if(V.length>0){const j=(0,o.getNextFoldLine)(V[0],ce);j!==null&&$.setSelection({startLineNumber:j,startColumn:1,endLineNumber:j,endColumn:1})}}}class ne extends N{constructor(){super({id:"editor.createFoldingRangeFromSelection",label:h.localize(15,null),alias:"Create Folding Range from Selection",precondition:P,kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:(0,D.KeyChord)(2089,2135),weight:100}})}invoke(ae,ce,$){var V;const j=[],se=$.getSelections();if(se){for(const ie of se){let Y=ie.endLineNumber;ie.endColumn===1&&--Y,Y>ie.startLineNumber&&(j.push({startLineNumber:ie.startLineNumber,endLineNumber:Y,type:void 0,isCollapsed:!0,source:1}),$.setSelection({startLineNumber:ie.startLineNumber,startColumn:1,endLineNumber:ie.startLineNumber,endColumn:1}))}if(j.length>0){j.sort((Y,le)=>Y.startLineNumber-le.startLineNumber);const ie=a.FoldingRegions.sanitizeAndMerge(ce.regions,j,(V=$.getModel())===null||V===void 0?void 0:V.getLineCount());ce.updatePost(a.FoldingRegions.fromFoldRanges(ie))}}}}class he extends N{constructor(){super({id:"editor.removeManualFoldingRanges",label:h.localize(16,null),alias:"Remove Manual Folding Ranges",precondition:P,kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:(0,D.KeyChord)(2089,2137),weight:100}})}invoke(ae,ce,$){const V=$.getSelections();if(V){const j=[];for(const se of V){const{startLineNumber:ie,endLineNumber:Y}=se;j.push(Y>=ie?{startLineNumber:ie,endLineNumber:Y}:{endLineNumber:Y,startLineNumber:ie})}ce.removeManualRanges(j),ae.triggerFoldingModelChanged()}}}(0,p.registerEditorContribution)(A.ID,A,0),(0,p.registerEditorAction)(F),(0,p.registerEditorAction)(x),(0,p.registerEditorAction)(W),(0,p.registerEditorAction)(U),(0,p.registerEditorAction)(te),(0,p.registerEditorAction)(H),(0,p.registerEditorAction)(O),(0,p.registerEditorAction)(G),(0,p.registerEditorAction)(Q),(0,p.registerEditorAction)(re),(0,p.registerEditorAction)(oe),(0,p.registerEditorAction)(z),(0,p.registerEditorAction)(K),(0,p.registerEditorAction)(Z),(0,p.registerEditorAction)(J),(0,p.registerEditorAction)(ne),(0,p.registerEditorAction)(he);for(let de=1;de<=7;de++)(0,p.registerInstantiatedEditorAction)(new B({id:B.ID(de),label:h.localize(17,null,de),alias:`Fold Level ${de}`,precondition:P,kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:(0,D.KeyChord)(2089,2048|21+de),weight:100}}));w.CommandsRegistry.registerCommand("_executeFoldingRangeProvider",function(de,...ae){return Le(this,void 0,void 0,function*(){const[ce]=ae;if(!(ce instanceof E.URI))throw(0,y.illegalArgument)();const $=de.get(v.ILanguageFeaturesService),V=de.get(I.IModelService).getModel(ce);if(!V)throw(0,y.illegalArgument)();const j=de.get(T.IConfigurationService);if(!j.getValue("editor.folding",{resource:ce}))return[];const se=de.get(i.ILanguageConfigurationService),ie=j.getValue("editor.foldingStrategy",{resource:ce}),Y={get limit(){return j.getValue("editor.foldingMaximumRegions",{resource:ce})},update:(Ee,Ie)=>{}},le=new d.IndentRangeProvider(V,se,Y);let fe=le;if(ie!=="indentation"){const Ee=A.getFoldingRangeProviders($,V);Ee.length&&(fe=new l.SyntaxRangeProvider(V,Ee,()=>{},Y,le))}const be=yield fe.compute(k.CancellationToken.None),we=[];try{if(be)for(let Ee=0;Ee<be.length;Ee++){const Ie=be.getType(Ee);we.push({start:be.getStartLineNumber(Ee),end:be.getEndLineNumber(Ee),kind:Ie?t.FoldingRangeKind.fromValue(Ie):void 0})}return we}finally{fe.dispose()}})})}),define(X[362],ee([1,0,7,306,16,2,11,5,39,29,320,100,8,37,14,22,13,597]),function(q,e,L,k,y,D,S,m,_,f,p,s,t,i,o,r,d,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorHoverStatusBar=e.ContentHoverWidget=e.ContentHoverController=void 0;const n=L.$;let c=e.ContentHoverController=class Ci extends D.Disposable{constructor(P,A,M){super(),this._editor=P,this._instantiationService=A,this._keybindingService=M,this._widget=this._register(this._instantiationService.createInstance(b,this._editor)),this._currentResult=null,this._participants=[];for(const N of s.HoverParticipantRegistry.getAll())this._participants.push(this._instantiationService.createInstance(N,this._editor));this._participants.sort((N,R)=>N.hoverOrdinal-R.hoverOrdinal),this._computer=new E(this._editor,this._participants),this._hoverOperation=this._register(new p.HoverOperation(this._editor,this._computer)),this._register(this._hoverOperation.onResult(N=>{if(!this._computer.anchor)return;const R=N.hasLoadingMessage?this._addLoadingMessage(N.value):N.value;this._withResult(new a(this._computer.anchor,R,N.isComplete))})),this._register(L.addStandardDisposableListener(this._widget.getDomNode(),"keydown",N=>{N.equals(9)&&this.hide()})),this._register(f.TokenizationRegistry.onDidChange(()=>{this._widget.position&&this._currentResult&&this._setCurrentResult(this._currentResult)}))}get widget(){return this._widget}maybeShowAt(P){if(this._widget.isResizing)return!0;const A=[];for(const N of this._participants)if(N.suggestHoverAnchor){const R=N.suggestHoverAnchor(P);R&&A.push(R)}const M=P.target;if(M.type===6&&A.push(new s.HoverRangeAnchor(0,M.range,P.event.posx,P.event.posy)),M.type===7){const N=this._editor.getOption(48).typicalHalfwidthCharacterWidth/2;!M.detail.isAfterLines&&typeof M.detail.horizontalDistanceToText=="number"&&M.detail.horizontalDistanceToText<N&&A.push(new s.HoverRangeAnchor(0,M.range,P.event.posx,P.event.posy))}return A.length===0?this._startShowingOrUpdateHover(null,0,0,!1,P):(A.sort((N,R)=>R.priority-N.priority),this._startShowingOrUpdateHover(A[0],0,0,!1,P))}startShowingAtRange(P,A,M,N){this._startShowingOrUpdateHover(new s.HoverRangeAnchor(0,P,void 0,void 0),A,M,N,null)}_startShowingOrUpdateHover(P,A,M,N,R){return!this._widget.position||!this._currentResult?P?(this._startHoverOperationIfNecessary(P,A,M,N,!1),!0):!1:this._editor.getOption(58).sticky&&R&&this._widget.isMouseGettingCloser(R.event.posx,R.event.posy)?(P&&this._startHoverOperationIfNecessary(P,A,M,N,!0),!0):P?P&&this._currentResult.anchor.equals(P)?!0:P.canAdoptVisibleHover(this._currentResult.anchor,this._widget.position)?(this._setCurrentResult(this._currentResult.filter(P)),this._startHoverOperationIfNecessary(P,A,M,N,!1),!0):(this._setCurrentResult(null),this._startHoverOperationIfNecessary(P,A,M,N,!1),!0):(this._setCurrentResult(null),!1)}_startHoverOperationIfNecessary(P,A,M,N,R){this._computer.anchor&&this._computer.anchor.equals(P)||(this._hoverOperation.cancel(),this._computer.anchor=P,this._computer.shouldFocus=N,this._computer.source=M,this._computer.insistOnKeepingHoverVisible=R,this._hoverOperation.start(A))}_setCurrentResult(P){this._currentResult!==P&&(P&&P.messages.length===0&&(P=null),this._currentResult=P,this._currentResult?this._renderMessages(this._currentResult.anchor,this._currentResult.messages):this._widget.hide())}hide(){this._computer.anchor=null,this._hoverOperation.cancel(),this._setCurrentResult(null)}isColorPickerVisible(){return this._widget.isColorPickerVisible}isVisibleFromKeyboard(){return this._widget.isVisibleFromKeyboard}isVisible(){return this._widget.isVisible}containsNode(P){return P?this._widget.getDomNode().contains(P):!1}_addLoadingMessage(P){if(this._computer.anchor){for(const A of this._participants)if(A.createLoadingMessage){const M=A.createLoadingMessage(this._computer.anchor);if(M)return P.slice(0).concat([M])}}return P}_withResult(P){this._widget.position&&this._currentResult&&this._currentResult.isComplete&&(!P.isComplete||this._computer.insistOnKeepingHoverVisible&&P.messages.length===0)||this._setCurrentResult(P)}_renderMessages(P,A){const{showAtPosition:M,showAtSecondaryPosition:N,highlightRange:R}=Ci.computeHoverRanges(this._editor,P.range,A),F=new D.DisposableStore,x=F.add(new w(this._keybindingService)),W=document.createDocumentFragment();let z=null;const U={fragment:W,statusBar:x,setColorPicker:G=>z=G,onContentsChanged:()=>this._widget.onContentsChanged(),hide:()=>this.hide()};for(const G of this._participants){const Q=A.filter(re=>re.owner===G);Q.length>0&&F.add(G.renderHoverParts(U,Q))}const O=A.some(G=>G.isBeforeContent);if(x.hasContent&&W.appendChild(x.hoverElement),W.hasChildNodes()){if(R){const G=this._editor.createDecorationsCollection();G.set([{range:R,options:Ci._DECORATION_OPTIONS}]),F.add((0,D.toDisposable)(()=>{G.clear()}))}this._widget.showAt(W,new u(z,M,N,this._editor.getOption(58).above,this._computer.shouldFocus,this._computer.source,O,P.initialMousePosX,P.initialMousePosY,F))}else F.dispose()}static computeHoverRanges(P,A,M){let N=1;if(P.hasModel()){const z=P._getViewModel(),U=z.coordinatesConverter,O=U.convertModelRangeToViewRange(A),G=new S.Position(O.startLineNumber,z.getLineMinColumn(O.startLineNumber));N=U.convertViewPositionToModelPosition(G).column}const R=A.startLineNumber;let F=A.startColumn,x=M[0].range,W=null;for(const z of M)x=m.Range.plusRange(x,z.range),z.range.startLineNumber===R&&z.range.endLineNumber===R&&(F=Math.max(Math.min(F,z.range.startColumn),N)),z.forceShowAtRange&&(W=z.range);return{showAtPosition:W?W.getStartPosition():new S.Position(R,A.startColumn),showAtSecondaryPosition:W?W.getStartPosition():new S.Position(R,F),highlightRange:x}}focus(){this._widget.focus()}scrollUp(){this._widget.scrollUp()}scrollDown(){this._widget.scrollDown()}scrollLeft(){this._widget.scrollLeft()}scrollRight(){this._widget.scrollRight()}pageUp(){this._widget.pageUp()}pageDown(){this._widget.pageDown()}goToTop(){this._widget.goToTop()}goToBottom(){this._widget.goToBottom()}escape(){this._widget.escape()}};c._DECORATION_OPTIONS=_.ModelDecorationOptions.register({description:"content-hover-highlight",className:"hoverHighlight"}),e.ContentHoverController=c=Ne([ge(1,t.IInstantiationService),ge(2,i.IKeybindingService)],c);class a{constructor(P,A,M){this.anchor=P,this.messages=A,this.isComplete=M}filter(P){const A=this.messages.filter(M=>M.isValidForHoverAnchor(P));return A.length===this.messages.length?this:new l(this,this.anchor,A,this.isComplete)}}class l extends a{constructor(P,A,M,N){super(A,M,N),this.original=P}filter(P){return this.original.filter(P)}}class u{constructor(P,A,M,N,R,F,x,W,z,U){this.colorPicker=P,this.showAtPosition=A,this.showAtSecondaryPosition=M,this.preferAbove=N,this.stoleFocus=R,this.source=F,this.isBeforeContent=x,this.initialMousePosX=W,this.initialMousePosY=z,this.disposables=U,this.closestMouseDistance=void 0}}const C=30,g=10,v=6;let b=e.ContentHoverWidget=class ii extends h.ResizableContentWidget{get isColorPickerVisible(){var P;return!!(!((P=this._visibleData)===null||P===void 0)&&P.colorPicker)}get isVisibleFromKeyboard(){var P;return((P=this._visibleData)===null||P===void 0?void 0:P.source)===1}get isVisible(){var P;return(P=this._hoverVisibleKey.get())!==null&&P!==void 0?P:!1}constructor(P,A){super(P),this._hover=this._register(new k.HoverWidget),this._hoverVisibleKey=r.EditorContextKeys.hoverVisible.bindTo(A),this._hoverFocusedKey=r.EditorContextKeys.hoverFocused.bindTo(A),L.append(this._resizableNode.domNode,this._hover.containerDomNode),this._resizableNode.domNode.style.zIndex="50",this._register(this._editor.onDidLayoutChange(()=>this._layout())),this._register(this._editor.onDidChangeConfiguration(N=>{N.hasChanged(48)&&this._updateFont()}));const M=this._register(L.trackFocus(this._resizableNode.domNode));this._register(M.onDidFocus(()=>{this._hoverFocusedKey.set(!0)})),this._register(M.onDidBlur(()=>{this._hoverFocusedKey.set(!1)})),this._setHoverData(void 0),this._layout(),this._editor.addContentWidget(this)}dispose(){var P;super.dispose(),(P=this._visibleData)===null||P===void 0||P.disposables.dispose(),this._editor.removeContentWidget(this)}getId(){return ii.ID}static _applyDimensions(P,A,M){const N=typeof A=="number"?`${A}px`:A,R=typeof M=="number"?`${M}px`:M;P.style.width=N,P.style.height=R}_setContentsDomNodeDimensions(P,A){const M=this._hover.contentsDomNode;return ii._applyDimensions(M,P,A)}_setContainerDomNodeDimensions(P,A){const M=this._hover.containerDomNode;return ii._applyDimensions(M,P,A)}_setHoverWidgetDimensions(P,A){this._setContentsDomNodeDimensions(P,A),this._setContainerDomNodeDimensions(P,A),this._layoutContentWidget()}_setContentsDomNodeMaxDimensions(P,A){const M=typeof P=="number"?`${P}px`:P,N=typeof A=="number"?`${A}px`:A,R=this._hover.contentsDomNode;R.style.maxWidth=M,R.style.maxHeight=N}_hasHorizontalScrollbar(){const P=this._hover.scrollbar.getScrollDimensions();return P.scrollWidth>P.width}_adjustContentsBottomPadding(){const P=this._hover.contentsDomNode,A=`${this._hover.scrollbar.options.horizontalScrollbarSize}px`;P.style.paddingBottom!==A&&(P.style.paddingBottom=A)}_setAdjustedHoverWidgetDimensions(P){this._setContentsDomNodeMaxDimensions("none","none");const A=P.width,M=P.height;this._setHoverWidgetDimensions(A,M),this._hasHorizontalScrollbar()&&(this._adjustContentsBottomPadding(),this._setContentsDomNodeDimensions(A,M-g))}_setResizableNodeMaxDimensions(){var P,A;const M=(P=this._findMaximumRenderingWidth())!==null&&P!==void 0?P:1/0,N=(A=this._findMaximumRenderingHeight())!==null&&A!==void 0?A:1/0;this._resizableNode.maxSize=new L.Dimension(M,N)}_resize(P){var A,M;this._setAdjustedHoverWidgetDimensions(P),this._resizableNode.layout(P.height,P.width),this._setResizableNodeMaxDimensions(),this._hover.scrollbar.scanDomNode(),this._editor.layoutContentWidget(this),(M=(A=this._visibleData)===null||A===void 0?void 0:A.colorPicker)===null||M===void 0||M.layout()}_findAvailableSpaceVertically(){var P;const A=(P=this._visibleData)===null||P===void 0?void 0:P.showAtPosition;if(A)return this._positionPreference===1?this._availableVerticalSpaceAbove(A):this._availableVerticalSpaceBelow(A)}_findMaximumRenderingHeight(){const P=this._findAvailableSpaceVertically();if(!P)return;let A=v;return Array.from(this._hover.contentsDomNode.children).forEach(M=>{A+=M.clientHeight}),this._hasHorizontalScrollbar()&&(A+=g),Math.min(P,A)}_findMaximumRenderingWidth(){return!this._editor||!this._editor.hasModel()?void 0:L.getClientArea(document.body).width-14}isMouseGettingCloser(P,A){if(!this._visibleData)return!1;if(typeof this._visibleData.initialMousePosX>"u"||typeof this._visibleData.initialMousePosY>"u")return this._visibleData.initialMousePosX=P,this._visibleData.initialMousePosY=A,!1;const M=L.getDomNodePagePosition(this.getDomNode());typeof this._visibleData.closestMouseDistance>"u"&&(this._visibleData.closestMouseDistance=I(this._visibleData.initialMousePosX,this._visibleData.initialMousePosY,M.left,M.top,M.width,M.height));const N=I(P,A,M.left,M.top,M.width,M.height);return N>this._visibleData.closestMouseDistance+4?!1:(this._visibleData.closestMouseDistance=Math.min(this._visibleData.closestMouseDistance,N),!0)}_setHoverData(P){var A;(A=this._visibleData)===null||A===void 0||A.disposables.dispose(),this._visibleData=P,this._hoverVisibleKey.set(!!P),this._hover.containerDomNode.classList.toggle("hidden",!P)}_layout(){const P=Math.max(this._editor.getLayoutInfo().height/4,250),{fontSize:A,lineHeight:M}=this._editor.getOption(48),N=this._hover.contentsDomNode;N.style.fontSize=`${A}px`,N.style.lineHeight=`${M/A}`,this._setContentsDomNodeMaxDimensions(Math.max(this._editor.getLayoutInfo().width*.66,500),P)}_updateFont(){Array.prototype.slice.call(this._hover.contentsDomNode.getElementsByClassName("code")).forEach(A=>this._editor.applyFontInfo(A))}_updateContent(P){const A=this._hover.contentsDomNode;A.style.paddingBottom="",A.textContent="",A.appendChild(P)}_layoutContentWidget(){this._editor.layoutContentWidget(this),this._hover.onContentsChanged()}_updateContentsDomNodeMaxDimensions(){const P=Math.max(this._editor.getLayoutInfo().width*.66,500),A=Math.max(this._editor.getLayoutInfo().height/4,250);this._setContentsDomNodeMaxDimensions(P,A)}_render(P,A){this._setHoverData(A),this._updateFont(),this._updateContent(P),this._updateContentsDomNodeMaxDimensions(),this.onContentsChanged(),this._editor.render()}getPosition(){var P;return this._visibleData?{position:this._visibleData.showAtPosition,secondaryPosition:this._visibleData.showAtSecondaryPosition,positionAffinity:this._visibleData.isBeforeContent?3:void 0,preference:[(P=this._positionPreference)!==null&&P!==void 0?P:1]}:null}showAt(P,A){var M,N;if(!this._editor||!this._editor.hasModel())return;this._render(P,A);const R=L.getTotalHeight(this._hover.containerDomNode),F=A.showAtPosition;this._positionPreference=(M=this._findPositionPreference(R,F))!==null&&M!==void 0?M:1,this.onContentsChanged(),A.stoleFocus&&this._hover.containerDomNode.focus(),(N=A.colorPicker)===null||N===void 0||N.layout()}hide(){if(!this._visibleData)return;const P=this._visibleData.stoleFocus;this._setHoverData(void 0),this._resizableNode.maxSize=new L.Dimension(1/0,1/0),this._resizableNode.clearSashHoverState(),this._hoverFocusedKey.set(!1),this._editor.layoutContentWidget(this),P&&this._editor.focus()}_removeConstraintsRenderNormally(){const P=this._editor.getLayoutInfo();this._resizableNode.layout(P.height,P.width),this._setHoverWidgetDimensions("auto","auto")}_adjustHoverHeightForScrollbar(P){var A;const M=this._hover.containerDomNode,N=this._hover.contentsDomNode,R=(A=this._findMaximumRenderingHeight())!==null&&A!==void 0?A:1/0;this._setContainerDomNodeDimensions(L.getTotalWidth(M),Math.min(R,P)),this._setContentsDomNodeDimensions(L.getTotalWidth(N),Math.min(R,P-g))}onContentsChanged(){this._removeConstraintsRenderNormally();const P=this._hover.containerDomNode;let A=L.getTotalHeight(P),M=L.getTotalWidth(P);this._resizableNode.layout(A,M),this._setHoverWidgetDimensions(M,A),A=L.getTotalHeight(P),M=L.getTotalWidth(P),this._resizableNode.layout(A,M),this._hasHorizontalScrollbar()&&(this._adjustContentsBottomPadding(),this._adjustHoverHeightForScrollbar(A)),this._layoutContentWidget()}focus(){this._hover.containerDomNode.focus()}scrollUp(){const P=this._hover.scrollbar.getScrollPosition().scrollTop,A=this._editor.getOption(48);this._hover.scrollbar.setScrollPosition({scrollTop:P-A.lineHeight})}scrollDown(){const P=this._hover.scrollbar.getScrollPosition().scrollTop,A=this._editor.getOption(48);this._hover.scrollbar.setScrollPosition({scrollTop:P+A.lineHeight})}scrollLeft(){const P=this._hover.scrollbar.getScrollPosition().scrollLeft;this._hover.scrollbar.setScrollPosition({scrollLeft:P-C})}scrollRight(){const P=this._hover.scrollbar.getScrollPosition().scrollLeft;this._hover.scrollbar.setScrollPosition({scrollLeft:P+C})}pageUp(){const P=this._hover.scrollbar.getScrollPosition().scrollTop,A=this._hover.scrollbar.getScrollDimensions().height;this._hover.scrollbar.setScrollPosition({scrollTop:P-A})}pageDown(){const P=this._hover.scrollbar.getScrollPosition().scrollTop,A=this._hover.scrollbar.getScrollDimensions().height;this._hover.scrollbar.setScrollPosition({scrollTop:P+A})}goToTop(){this._hover.scrollbar.setScrollPosition({scrollTop:0})}goToBottom(){this._hover.scrollbar.setScrollPosition({scrollTop:this._hover.scrollbar.getScrollDimensions().scrollHeight})}escape(){this._editor.focus()}};b.ID="editor.contrib.resizableContentHoverWidget",e.ContentHoverWidget=b=Ne([ge(1,d.IContextKeyService)],b);let w=e.EditorHoverStatusBar=class extends D.Disposable{get hasContent(){return this._hasContent}constructor(P){super(),this._keybindingService=P,this._hasContent=!1,this.hoverElement=n("div.hover-row.status-bar"),this.actionsElement=L.append(this.hoverElement,n("div.actions"))}addAction(P){const A=this._keybindingService.lookupKeybinding(P.commandId),M=A?A.getLabel():null;return this._hasContent=!0,this._register(k.HoverAction.render(this.actionsElement,P,M))}append(P){const A=L.append(this.actionsElement,P);return this._hasContent=!0,A}};e.EditorHoverStatusBar=w=Ne([ge(0,i.IKeybindingService)],w);class E{get anchor(){return this._anchor}set anchor(P){this._anchor=P}get shouldFocus(){return this._shouldFocus}set shouldFocus(P){this._shouldFocus=P}get source(){return this._source}set source(P){this._source=P}get insistOnKeepingHoverVisible(){return this._insistOnKeepingHoverVisible}set insistOnKeepingHoverVisible(P){this._insistOnKeepingHoverVisible=P}constructor(P,A){this._editor=P,this._participants=A,this._anchor=null,this._shouldFocus=!1,this._source=0,this._insistOnKeepingHoverVisible=!1}static _getLineDecorations(P,A){if(A.type!==1&&!A.supportsMarkerHover)return[];const M=P.getModel(),N=A.range.startLineNumber;if(N>M.getLineCount())return[];const R=M.getLineMaxColumn(N);return P.getLineDecorations(N).filter(F=>{if(F.options.isWholeLine)return!0;const x=F.range.startLineNumber===N?F.range.startColumn:1,W=F.range.endLineNumber===N?F.range.endColumn:R;if(F.options.showIfCollapsed){if(x>A.range.startColumn+1||A.range.endColumn-1>W)return!1}else if(x>A.range.startColumn||A.range.endColumn>W)return!1;return!0})}computeAsync(P){const A=this._anchor;if(!this._editor.hasModel()||!A)return o.AsyncIterableObject.EMPTY;const M=E._getLineDecorations(this._editor,A);return o.AsyncIterableObject.merge(this._participants.map(N=>N.computeAsync?N.computeAsync(A,M,P):o.AsyncIterableObject.EMPTY))}computeSync(){if(!this._editor.hasModel()||!this._anchor)return[];const P=E._getLineDecorations(this._editor,this._anchor);let A=[];for(const M of this._participants)A=A.concat(M.computeSync(this._anchor,P));return(0,y.coalesce)(A)}}function I(T,P,A,M,N,R){const F=A+N/2,x=M+R/2,W=Math.max(Math.abs(T-F)-N/2,0),z=Math.max(Math.abs(P-x)-R/2,0);return Math.sqrt(W*W+z*z)}}),define(X[874],ee([1,0,2,359,8,362,37,6,19,15,22,13,49,30,337,7,198]),function(q,e,L,k,y,D,S,m,_,f,p,s,t,i,o,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandaloneColorPickerWidget=e.StandaloneColorPickerController=void 0;let d=e.StandaloneColorPickerController=class Ji extends L.Disposable{constructor(u,C,g,v,b,w,E){super(),this._editor=u,this._modelService=g,this._keybindingService=v,this._instantiationService=b,this._languageFeatureService=w,this._languageConfigurationService=E,this._standaloneColorPickerWidget=null,this._standaloneColorPickerVisible=p.EditorContextKeys.standaloneColorPickerVisible.bindTo(C),this._standaloneColorPickerFocused=p.EditorContextKeys.standaloneColorPickerFocused.bindTo(C)}showOrFocus(){var u;this._editor.hasModel()&&(this._standaloneColorPickerVisible.get()?this._standaloneColorPickerFocused.get()||(u=this._standaloneColorPickerWidget)===null||u===void 0||u.focus():this._standaloneColorPickerWidget=new c(this._editor,this._standaloneColorPickerVisible,this._standaloneColorPickerFocused,this._instantiationService,this._modelService,this._keybindingService,this._languageFeatureService,this._languageConfigurationService))}hide(){var u;this._standaloneColorPickerFocused.set(!1),this._standaloneColorPickerVisible.set(!1),(u=this._standaloneColorPickerWidget)===null||u===void 0||u.hide(),this._editor.focus()}insertColor(){var u;(u=this._standaloneColorPickerWidget)===null||u===void 0||u.updateEditor(),this.hide()}static get(u){return u.getContribution(Ji.ID)}};d.ID="editor.contrib.standaloneColorPickerController",e.StandaloneColorPickerController=d=Ne([ge(1,s.IContextKeyService),ge(2,t.IModelService),ge(3,S.IKeybindingService),ge(4,y.IInstantiationService),ge(5,_.ILanguageFeaturesService),ge(6,i.ILanguageConfigurationService)],d),(0,f.registerEditorContribution)(d.ID,d,1);const h=8,n=22;let c=e.StandaloneColorPickerWidget=class en extends L.Disposable{constructor(u,C,g,v,b,w,E,I){var T;super(),this._editor=u,this._standaloneColorPickerVisible=C,this._standaloneColorPickerFocused=g,this._modelService=b,this._keybindingService=w,this._languageFeaturesService=E,this._languageConfigurationService=I,this.allowEditorOverflow=!0,this.body=document.createElement("div"),this._position=void 0,this._colorHover=null,this._selectionSetInEditor=!1,this._onResult=this._register(new m.Emitter),this.onResult=this._onResult.event,this._standaloneColorPickerVisible.set(!0),this._standaloneColorPickerParticipant=v.createInstance(k.StandaloneColorPickerParticipant,this._editor),this._position=(T=this._editor._getViewModel())===null||T===void 0?void 0:T.getPrimaryCursorState().modelState.position;const P=this._editor.getSelection(),A=P?{startLineNumber:P.startLineNumber,startColumn:P.startColumn,endLineNumber:P.endLineNumber,endColumn:P.endColumn}:{startLineNumber:0,endLineNumber:0,endColumn:0,startColumn:0},M=this._register(r.trackFocus(this.body));this._register(M.onDidBlur(N=>{this.hide()})),this._register(M.onDidFocus(N=>{this.focus()})),this._register(this._editor.onDidChangeCursorPosition(()=>{this._selectionSetInEditor?this._selectionSetInEditor=!1:this.hide()})),this._register(this._editor.onMouseMove(N=>{var R;const F=(R=N.target.element)===null||R===void 0?void 0:R.classList;F&&F.contains("colorpicker-color-decoration")&&this.hide()})),this._register(this.onResult(N=>{this._render(N.value,N.foundInEditor)})),this._start(A),this._editor.addContentWidget(this)}updateEditor(){this._colorHover&&this._standaloneColorPickerParticipant.updateEditorModel(this._colorHover)}getId(){return en.ID}getDomNode(){return this.body}getPosition(){if(!this._position)return null;const u=this._editor.getOption(58).above;return{position:this._position,secondaryPosition:this._position,preference:u?[1,2]:[2,1],positionAffinity:2}}hide(){this.dispose(),this._standaloneColorPickerVisible.set(!1),this._standaloneColorPickerFocused.set(!1),this._editor.removeContentWidget(this),this._editor.focus()}focus(){this._standaloneColorPickerFocused.set(!0),this.body.focus()}_start(u){return Le(this,void 0,void 0,function*(){const C=yield this._computeAsync(u);C&&this._onResult.fire(new a(C.result,C.foundInEditor))})}_computeAsync(u){return Le(this,void 0,void 0,function*(){if(!this._editor.hasModel())return null;const C={range:u,color:{red:0,green:0,blue:0,alpha:1}},g=yield this._standaloneColorPickerParticipant.createColorHover(C,new o.DefaultDocumentColorProvider(this._modelService,this._languageConfigurationService),this._languageFeaturesService.colorProvider);return g?{result:g.colorHover,foundInEditor:g.foundInEditor}:null})}_render(u,C){const g=document.createDocumentFragment(),v=this._register(new D.EditorHoverStatusBar(this._keybindingService));let b;const w={fragment:g,statusBar:v,setColorPicker:F=>b=F,onContentsChanged:()=>{},hide:()=>this.hide()};if(this._colorHover=u,this._register(this._standaloneColorPickerParticipant.renderHoverParts(w,[u])),b===void 0)return;this.body.classList.add("standalone-colorpicker-body"),this.body.style.maxHeight=Math.max(this._editor.getLayoutInfo().height/4,250)+"px",this.body.style.maxWidth=Math.max(this._editor.getLayoutInfo().width*.66,500)+"px",this.body.tabIndex=0,this.body.appendChild(g),b.layout();const E=b.body,I=E.saturationBox.domNode.clientWidth,T=E.domNode.clientWidth-I-n-h,P=b.body.enterButton;P?.onClicked(()=>{this.updateEditor(),this.hide()});const A=b.header,M=A.pickedColorNode;M.style.width=I+h+"px";const N=A.originalColorNode;N.style.width=T+"px";const R=b.header.closeButton;R?.onClicked(()=>{this.hide()}),C&&(P&&(P.button.textContent="Replace"),this._selectionSetInEditor=!0,this._editor.setSelection(u.range)),this._editor.layoutContentWidget(this)}};c.ID="editor.contrib.standaloneColorPickerWidget",e.StandaloneColorPickerWidget=c=Ne([ge(3,y.IInstantiationService),ge(4,t.IModelService),ge(5,S.IKeybindingService),ge(6,_.ILanguageFeaturesService),ge(7,i.ILanguageConfigurationService)],c);class a{constructor(u,C){this.value=u,this.foundInEditor=C}}}),define(X[875],ee([1,0,15,637,874,22,31,198]),function(q,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ShowOrFocusStandaloneColorPicker=void 0;class m extends L.EditorAction2{constructor(){super({id:"editor.action.showOrFocusStandaloneColorPicker",title:{value:(0,k.localize)(0,null),mnemonicTitle:(0,k.localize)(1,null),original:"Show or Focus Standalone Color Picker"},precondition:void 0,menu:[{id:S.MenuId.CommandPalette}]})}runEditorCommand(s,t){var i;(i=y.StandaloneColorPickerController.get(t))===null||i===void 0||i.showOrFocus()}}e.ShowOrFocusStandaloneColorPicker=m;class _ extends L.EditorAction{constructor(){super({id:"editor.action.hideColorPicker",label:(0,k.localize)(2,null),alias:"Hide the Color Picker",precondition:D.EditorContextKeys.standaloneColorPickerVisible.isEqualTo(!0),kbOpts:{primary:9,weight:100}})}run(s,t){var i;(i=y.StandaloneColorPickerController.get(t))===null||i===void 0||i.hide()}}class f extends L.EditorAction{constructor(){super({id:"editor.action.insertColorWithStandaloneColorPicker",label:(0,k.localize)(3,null),alias:"Insert Color with Standalone Color Picker",precondition:D.EditorContextKeys.standaloneColorPickerFocused.isEqualTo(!0),kbOpts:{primary:3,weight:100}})}run(s,t){var i;(i=y.StandaloneColorPickerController.get(t))===null||i===void 0||i.insertColor()}}(0,L.registerEditorAction)(_),(0,L.registerEditorAction)(f),(0,S.registerAction2)(m)}),define(X[876],ee([1,0,14,12,102,15,5,24,22,39,114,665,539,444]),function(q,e,L,k,y,D,S,m,_,f,p,s,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});let i=class bi{static get(h){return h.getContribution(bi.ID)}constructor(h,n){this.editor=h,this.editorWorkerService=n,this.decorations=this.editor.createDecorationsCollection()}dispose(){}run(h,n){var c;(c=this.currentRequest)===null||c===void 0||c.cancel();const a=this.editor.getSelection(),l=this.editor.getModel();if(!l||!a)return;let u=a;if(u.startLineNumber!==u.endLineNumber)return;const C=new y.EditorState(this.editor,5),g=l.uri;return this.editorWorkerService.canNavigateValueSet(g)?(this.currentRequest=(0,L.createCancelablePromise)(v=>this.editorWorkerService.navigateValueSet(g,u,n)),this.currentRequest.then(v=>{var b;if(!v||!v.range||!v.value||!C.validate(this.editor))return;const w=S.Range.lift(v.range);let E=v.range;const I=v.value.length-(u.endColumn-u.startColumn);E={startLineNumber:E.startLineNumber,startColumn:E.startColumn,endLineNumber:E.endLineNumber,endColumn:E.startColumn+v.value.length},I>1&&(u=new m.Selection(u.startLineNumber,u.startColumn,u.endLineNumber,u.endColumn+I-1));const T=new t.InPlaceReplaceCommand(w,u,v.value);this.editor.pushUndoStop(),this.editor.executeCommand(h,T),this.editor.pushUndoStop(),this.decorations.set([{range:E,options:bi.DECORATION}]),(b=this.decorationRemover)===null||b===void 0||b.cancel(),this.decorationRemover=(0,L.timeout)(350),this.decorationRemover.then(()=>this.decorations.clear()).catch(k.onUnexpectedError)}).catch(k.onUnexpectedError)):Promise.resolve(void 0)}};i.ID="editor.contrib.inPlaceReplaceController",i.DECORATION=f.ModelDecorationOptions.register({description:"in-place-replace",className:"valueSetReplacement"}),i=Ne([ge(1,p.IEditorWorkerService)],i);class o extends D.EditorAction{constructor(){super({id:"editor.action.inPlaceReplace.up",label:s.localize(0,null),alias:"Replace with Previous Value",precondition:_.EditorContextKeys.writable,kbOpts:{kbExpr:_.EditorContextKeys.editorTextFocus,primary:3159,weight:100}})}run(h,n){const c=i.get(n);return c?c.run(this.id,!1):Promise.resolve(void 0)}}class r extends D.EditorAction{constructor(){super({id:"editor.action.inPlaceReplace.down",label:s.localize(1,null),alias:"Replace with Next Value",precondition:_.EditorContextKeys.writable,kbOpts:{kbExpr:_.EditorContextKeys.editorTextFocus,primary:3161,weight:100}})}run(h,n){const c=i.get(n);return c?c.run(this.id,!0):Promise.resolve(void 0)}}(0,D.registerEditorContribution)(i.ID,i,4),(0,D.registerEditorAction)(o),(0,D.registerEditorAction)(r)}),define(X[254],ee([1,0,7,14,25,2,9,27,5,39,8,447]),function(q,e,L,k,y,D,S,m,_,f,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlineProgressManager=void 0;const s=f.ModelDecorationOptions.register({description:"inline-progress-widget",stickiness:1,showIfCollapsed:!0,after:{content:S.noBreakWhitespace,inlineClassName:"inline-editor-progress-decoration",inlineClassNameAffectsLetterSpacing:!0}});class t extends D.Disposable{constructor(r,d,h,n,c){super(),this.typeId=r,this.editor=d,this.range=h,this.delegate=c,this.allowEditorOverflow=!1,this.suppressMouseDown=!0,this.create(n),this.editor.addContentWidget(this),this.editor.layoutContentWidget(this)}create(r){this.domNode=L.$(".inline-progress-widget"),this.domNode.role="button",this.domNode.title=r;const d=L.$("span.icon");this.domNode.append(d),d.classList.add(...m.ThemeIcon.asClassNameArray(y.Codicon.loading),"codicon-modifier-spin");const h=()=>{const n=this.editor.getOption(64);this.domNode.style.height=`${n}px`,this.domNode.style.width=`${Math.ceil(.8*n)}px`};h(),this._register(this.editor.onDidChangeConfiguration(n=>{(n.hasChanged(50)||n.hasChanged(64))&&h()})),this._register(L.addDisposableListener(this.domNode,L.EventType.CLICK,n=>{this.delegate.cancel()}))}getId(){return t.baseId+"."+this.typeId}getDomNode(){return this.domNode}getPosition(){return{position:{lineNumber:this.range.startLineNumber,column:this.range.startColumn},preference:[0]}}dispose(){super.dispose(),this.editor.removeContentWidget(this)}}t.baseId="editor.widget.inlineProgressWidget";let i=e.InlineProgressManager=class extends D.Disposable{constructor(r,d,h){super(),this.id=r,this._editor=d,this._instantiationService=h,this._showDelay=500,this._showPromise=this._register(new D.MutableDisposable),this._currentWidget=new D.MutableDisposable,this._operationIdPool=0,this._currentDecorations=d.createDecorationsCollection()}showWhile(r,d,h){return Le(this,void 0,void 0,function*(){const n=this._operationIdPool++;this._currentOperation=n,this.clear(),this._showPromise.value=(0,k.disposableTimeout)(()=>{const c=_.Range.fromPositions(r);this._currentDecorations.set([{range:c,options:s}]).length>0&&(this._currentWidget.value=this._instantiationService.createInstance(t,this.id,this._editor,c,d,h))},this._showDelay);try{return yield h}finally{this._currentOperation===n&&(this.clear(),this._currentOperation=void 0)}})}clear(){this._showPromise.clear(),this._currentDecorations.clear(),this._currentWidget.clear()}};e.InlineProgressManager=i=Ne([ge(2,p.IInstantiationService)],i)}),define(X[877],ee([1,0,7,16,14,173,2,105,17,172,335,131,5,19,738,102,254,642,95,13,8,83,76,329]),function(q,e,L,k,y,D,S,m,_,f,p,s,t,i,o,r,d,h,n,c,a,l,u,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CopyPasteController=e.pasteWidgetVisibleCtx=e.changePasteTypeCommandId=void 0,e.changePasteTypeCommandId="editor.changePasteType",e.pasteWidgetVisibleCtx=new c.RawContextKey("pasteWidgetVisible",!1,(0,h.localize)(0,null));const g="application/vnd.code.copyMetadata";let v=e.CopyPasteController=class tn extends S.Disposable{static get(E){return E.getContribution(tn.ID)}constructor(E,I,T,P,A,M,N){super(),this._bulkEditService=T,this._clipboardService=P,this._languageFeaturesService=A,this._quickInputService=M,this._progressService=N,this._editor=E;const R=E.getContainerDomNode();this._register((0,L.addDisposableListener)(R,"copy",F=>this.handleCopy(F))),this._register((0,L.addDisposableListener)(R,"cut",F=>this.handleCopy(F))),this._register((0,L.addDisposableListener)(R,"paste",F=>this.handlePaste(F),!0)),this._pasteProgressManager=this._register(new d.InlineProgressManager("pasteIntoEditor",E,I)),this._postPasteWidgetManager=this._register(I.createInstance(C.PostEditWidgetManager,"pasteIntoEditor",E,e.pasteWidgetVisibleCtx,{id:e.changePasteTypeCommandId,label:(0,h.localize)(1,null)}))}changePasteType(){this._postPasteWidgetManager.tryShowSelector()}pasteAs(E){this._editor.focus();try{this._pasteAsActionContext={preferredId:E},document.execCommand("paste")}finally{this._pasteAsActionContext=void 0}}isPasteAsEnabled(){return this._editor.getOption(82).enabled&&!this._editor.getOption(88)}handleCopy(E){var I,T;if(!this._editor.hasTextFocus()||(_.isWeb&&this._clipboardService.writeResources([]),!E.clipboardData||!this.isPasteAsEnabled()))return;const P=this._editor.getModel(),A=this._editor.getSelections();if(!P||!A?.length)return;const M=this._editor.getOption(35);let N=A;const R=A.length===1&&A[0].isEmpty();if(R){if(!M)return;N=[new t.Range(N[0].startLineNumber,1,N[0].startLineNumber,1+P.getLineLength(N[0].startLineNumber))]}const F=(I=this._editor._getViewModel())===null||I===void 0?void 0:I.getPlainTextToCopy(A,M,_.isWindows),W={multicursorText:Array.isArray(F)?F:null,pasteOnNewLine:R,mode:null},z=this._languageFeaturesService.documentPasteEditProvider.ordered(P).filter(re=>!!re.prepareDocumentPaste);if(!z.length){this.setCopyMetadata(E.clipboardData,{defaultPastePayload:W});return}const U=(0,p.toVSDataTransfer)(E.clipboardData),O=z.flatMap(re=>{var oe;return(oe=re.copyMimeTypes)!==null&&oe!==void 0?oe:[]}),G=(0,f.generateUuid)();this.setCopyMetadata(E.clipboardData,{id:G,providerCopyMimeTypes:O,defaultPastePayload:W});const Q=(0,y.createCancelablePromise)(re=>Le(this,void 0,void 0,function*(){const oe=(0,k.coalesce)(yield Promise.all(z.map(te=>Le(this,void 0,void 0,function*(){try{return yield te.prepareDocumentPaste(P,N,U,re)}catch(H){console.error(H);return}}))));oe.reverse();for(const te of oe)for(const[H,B]of te)U.replace(H,B);return U}));(T=this._currentCopyOperation)===null||T===void 0||T.dataTransferPromise.cancel(),this._currentCopyOperation={handle:G,dataTransferPromise:Q}}handlePaste(E){var I,T;return Le(this,void 0,void 0,function*(){if(!E.clipboardData||!this._editor.hasTextFocus())return;(I=this._currentPasteOperation)===null||I===void 0||I.cancel(),this._currentPasteOperation=void 0;const P=this._editor.getModel(),A=this._editor.getSelections();if(!A?.length||!P||!this.isPasteAsEnabled())return;const M=this.fetchCopyMetadata(E.clipboardData),N=(0,p.toExternalVSDataTransfer)(E.clipboardData);N.delete(g);const R=[...E.clipboardData.types,...(T=M?.providerCopyMimeTypes)!==null&&T!==void 0?T:[],m.Mimes.uriList],F=this._languageFeaturesService.documentPasteEditProvider.ordered(P).filter(x=>{var W;return(W=x.pasteMimeTypes)===null||W===void 0?void 0:W.some(z=>(0,D.matchesMimeType)(z,R))});F.length&&(E.preventDefault(),E.stopImmediatePropagation(),this._pasteAsActionContext?this.showPasteAsPick(this._pasteAsActionContext.preferredId,F,A,N,M):this.doPasteInline(F,A,N,M))})}doPasteInline(E,I,T,P){const A=(0,y.createCancelablePromise)(M=>Le(this,void 0,void 0,function*(){const N=this._editor;if(!N.hasModel())return;const R=N.getModel(),F=new r.EditorStateCancellationTokenSource(N,3,void 0,M);try{if(yield this.mergeInDataFromCopy(T,P,F.token),F.token.isCancellationRequested)return;const x=E.filter(z=>b(z,T));if(!x.length||x.length===1&&x[0].id==="text"){yield this.applyDefaultPasteHandler(T,P,F.token);return}const W=yield this.getPasteEdits(x,T,R,I,F.token);if(F.token.isCancellationRequested)return;if(W.length===1&&W[0].id==="text"){yield this.applyDefaultPasteHandler(T,P,F.token);return}if(W.length){const z=N.getOption(82).showPasteSelector==="afterPaste";return this._postPasteWidgetManager.applyEditAndShowIfNeeded(I,{activeEditIndex:0,allEdits:W},z,F.token)}yield this.applyDefaultPasteHandler(T,P,F.token)}finally{F.dispose(),this._currentPasteOperation===A&&(this._currentPasteOperation=void 0)}}));this._pasteProgressManager.showWhile(I[0].getEndPosition(),(0,h.localize)(2,null),A),this._currentPasteOperation=A}showPasteAsPick(E,I,T,P,A){const M=(0,y.createCancelablePromise)(N=>Le(this,void 0,void 0,function*(){const R=this._editor;if(!R.hasModel())return;const F=R.getModel(),x=new r.EditorStateCancellationTokenSource(R,3,void 0,N);try{if(yield this.mergeInDataFromCopy(P,A,x.token),x.token.isCancellationRequested)return;const W=I.filter(G=>b(G,P)),z=yield this.getPasteEdits(W,P,F,T,x.token);if(x.token.isCancellationRequested||!z.length)return;let U;if(typeof E=="string")U=z.find(G=>G.id===E);else{const G=yield this._quickInputService.pick(z.map(Q=>({label:Q.label,description:Q.id,detail:Q.detail,edit:Q})),{placeHolder:(0,h.localize)(3,null)});U=G?.edit}if(!U)return;const O=(0,o.createCombinedWorkspaceEdit)(F.uri,T,U);yield this._bulkEditService.apply(O,{editor:this._editor})}finally{x.dispose(),this._currentPasteOperation===M&&(this._currentPasteOperation=void 0)}}));this._progressService.withProgress({location:10,title:(0,h.localize)(4,null)},()=>M)}setCopyMetadata(E,I){E.setData(g,JSON.stringify(I))}fetchCopyMetadata(E){const I=E.getData(g);if(I)try{return JSON.parse(I)}catch{return}}mergeInDataFromCopy(E,I,T){var P;return Le(this,void 0,void 0,function*(){if(I?.id&&((P=this._currentCopyOperation)===null||P===void 0?void 0:P.handle)===I.id){const A=yield this._currentCopyOperation.dataTransferPromise;if(T.isCancellationRequested)return;for(const[M,N]of A)E.replace(M,N)}if(!E.has(m.Mimes.uriList)){const A=yield this._clipboardService.readResources();if(T.isCancellationRequested)return;A.length&&E.append(m.Mimes.uriList,(0,D.createStringDataTransferItem)(D.UriList.create(A)))}})}getPasteEdits(E,I,T,P,A){return Le(this,void 0,void 0,function*(){const M=yield(0,y.raceCancellation)(Promise.all(E.map(N=>{var R;try{return(R=N.provideDocumentPasteEdits)===null||R===void 0?void 0:R.call(N,T,P,I,A)}catch(F){console.error(F);return}})).then(k.coalesce),A);return M?.sort((N,R)=>R.priority-N.priority),M??[]})}applyDefaultPasteHandler(E,I,T){var P,A,M;return Le(this,void 0,void 0,function*(){const N=(P=E.get(m.Mimes.text))!==null&&P!==void 0?P:E.get("text");if(!N)return;const R=yield N.asString();if(T.isCancellationRequested)return;const F={text:R,pasteOnNewLine:(A=I?.defaultPastePayload.pasteOnNewLine)!==null&&A!==void 0?A:!1,multicursorText:(M=I?.defaultPastePayload.multicursorText)!==null&&M!==void 0?M:null,mode:null};this._editor.trigger("keyboard","paste",F)})}};v.ID="editor.contrib.copyPasteActionController",e.CopyPasteController=v=Ne([ge(1,a.IInstantiationService),ge(2,s.IBulkEditService),ge(3,n.IClipboardService),ge(4,i.ILanguageFeaturesService),ge(5,u.IQuickInputService),ge(6,l.IProgressService)],v);function b(w,E){var I;return!!(!((I=w.pasteMimeTypes)===null||I===void 0)&&I.some(T=>E.matches(T)))}}),define(X[878],ee([1,0,16,14,173,2,335,5,19,283,737,102,254,644,13,334,8,329]),function(q,e,L,k,y,D,S,m,_,f,p,s,t,i,o,r,d,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DropIntoEditorController=e.dropWidgetVisibleCtx=e.changeDropTypeCommandId=void 0,e.changeDropTypeCommandId="editor.changeDropType",e.dropWidgetVisibleCtx=new o.RawContextKey("dropWidgetVisible",!1,(0,i.localize)(0,null));let n=e.DropIntoEditorController=class nn extends D.Disposable{static get(a){return a.getContribution(nn.ID)}constructor(a,l,u,C){super(),this._languageFeaturesService=u,this._treeViewsDragAndDropService=C,this.treeItemsTransfer=r.LocalSelectionTransfer.getInstance(),this._dropProgressManager=this._register(l.createInstance(t.InlineProgressManager,"dropIntoEditor",a)),this._postDropWidgetManager=this._register(l.createInstance(h.PostEditWidgetManager,"dropIntoEditor",a,e.dropWidgetVisibleCtx,{id:e.changeDropTypeCommandId,label:(0,i.localize)(1,null)})),this._register(a.onDropIntoEditor(g=>this.onDropIntoEditor(a,g.position,g.event)))}changeDropType(){this._postDropWidgetManager.tryShowSelector()}onDropIntoEditor(a,l,u){var C;return Le(this,void 0,void 0,function*(){if(!u.dataTransfer||!a.hasModel())return;(C=this._currentOperation)===null||C===void 0||C.cancel(),a.focus(),a.setPosition(l);const g=(0,k.createCancelablePromise)(v=>Le(this,void 0,void 0,function*(){const b=new s.EditorStateCancellationTokenSource(a,1,void 0,v);try{const w=yield this.extractDataTransferData(u);if(w.size===0||b.token.isCancellationRequested)return;const E=a.getModel();if(!E)return;const I=this._languageFeaturesService.documentOnDropEditProvider.ordered(E).filter(P=>P.dropMimeTypes?P.dropMimeTypes.some(A=>w.matches(A)):!0),T=yield this.getDropEdits(I,E,l,w,b);if(b.token.isCancellationRequested)return;if(T.length){const P=a.getOption(34).showDropSelector==="afterDrop";yield this._postDropWidgetManager.applyEditAndShowIfNeeded([m.Range.fromPositions(l)],{activeEditIndex:0,allEdits:T},P,v)}}finally{b.dispose(),this._currentOperation===g&&(this._currentOperation=void 0)}}));this._dropProgressManager.showWhile(l,(0,i.localize)(2,null),g),this._currentOperation=g})}getDropEdits(a,l,u,C,g){return Le(this,void 0,void 0,function*(){const v=yield(0,k.raceCancellation)(Promise.all(a.map(w=>w.provideDocumentOnDropEdits(l,u,C,g.token))),g.token),b=(0,L.coalesce)(v??[]);return b.sort((w,E)=>E.priority-w.priority),b})}extractDataTransferData(a){return Le(this,void 0,void 0,function*(){if(!a.dataTransfer)return new y.VSDataTransfer;const l=(0,S.toExternalVSDataTransfer)(a.dataTransfer);if(this.treeItemsTransfer.hasData(f.DraggedTreeItemsIdentifier.prototype)){const u=this.treeItemsTransfer.getData(f.DraggedTreeItemsIdentifier.prototype);if(Array.isArray(u))for(const C of u){const g=yield this._treeViewsDragAndDropService.removeDragOperationTransfer(C.identifier);if(g)for(const[v,b]of g)l.replace(v,b)}}return l})}};n.ID="editor.contrib.dropIntoEditorController",e.DropIntoEditorController=n=Ne([ge(1,d.IInstantiationService),ge(2,_.ILanguageFeaturesService),ge(3,p.ITreeViewsDnDService)],n)}),define(X[879],ee([1,0,16,14,20,36,12,6,2,9,21,15,32,11,5,22,39,30,674,13,19,33,75,58,448]),function(q,e,L,k,y,D,S,m,_,f,p,s,t,i,o,r,d,h,n,c,a,l,u,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.editorLinkedEditingBackground=e.LinkedEditingAction=e.LinkedEditingContribution=e.CONTEXT_ONTYPE_RENAME_INPUT_VISIBLE=void 0,e.CONTEXT_ONTYPE_RENAME_INPUT_VISIBLE=new c.RawContextKey("LinkedEditingInputVisible",!1);const g="linked-editing-decoration";let v=e.LinkedEditingContribution=class _i extends _.Disposable{static get(T){return T.getContribution(_i.ID)}constructor(T,P,A,M,N){super(),this.languageConfigurationService=M,this._syncRangesToken=0,this._localToDispose=this._register(new _.DisposableStore),this._editor=T,this._providers=A.linkedEditingRangeProvider,this._enabled=!1,this._visibleContextKey=e.CONTEXT_ONTYPE_RENAME_INPUT_VISIBLE.bindTo(P),this._debounceInformation=N.for(this._providers,"Linked Editing",{max:200}),this._currentDecorations=this._editor.createDecorationsCollection(),this._languageWordPattern=null,this._currentWordPattern=null,this._ignoreChangeEvent=!1,this._localToDispose=this._register(new _.DisposableStore),this._rangeUpdateTriggerPromise=null,this._rangeSyncTriggerPromise=null,this._currentRequest=null,this._currentRequestPosition=null,this._currentRequestModelVersion=null,this._register(this._editor.onDidChangeModel(()=>this.reinitialize(!0))),this._register(this._editor.onDidChangeConfiguration(R=>{(R.hasChanged(67)||R.hasChanged(90))&&this.reinitialize(!1)})),this._register(this._providers.onDidChange(()=>this.reinitialize(!1))),this._register(this._editor.onDidChangeModelLanguage(()=>this.reinitialize(!0))),this.reinitialize(!0)}reinitialize(T){const P=this._editor.getModel(),A=P!==null&&(this._editor.getOption(67)||this._editor.getOption(90))&&this._providers.has(P);if(A===this._enabled&&!T||(this._enabled=A,this.clearRanges(),this._localToDispose.clear(),!A||P===null))return;this._localToDispose.add(m.Event.runAndSubscribe(P.onDidChangeLanguageConfiguration,()=>{this._languageWordPattern=this.languageConfigurationService.getLanguageConfiguration(P.getLanguageId()).getWordDefinition()}));const M=new k.Delayer(this._debounceInformation.get(P)),N=()=>{var x;this._rangeUpdateTriggerPromise=M.trigger(()=>this.updateRanges(),(x=this._debounceDuration)!==null&&x!==void 0?x:this._debounceInformation.get(P))},R=new k.Delayer(0),F=x=>{this._rangeSyncTriggerPromise=R.trigger(()=>this._syncRanges(x))};this._localToDispose.add(this._editor.onDidChangeCursorPosition(()=>{N()})),this._localToDispose.add(this._editor.onDidChangeModelContent(x=>{if(!this._ignoreChangeEvent&&this._currentDecorations.length>0){const W=this._currentDecorations.getRange(0);if(W&&x.changes.every(z=>W.intersectRanges(z.range))){F(this._syncRangesToken);return}}N()})),this._localToDispose.add({dispose:()=>{M.dispose(),R.dispose()}}),this.updateRanges()}_syncRanges(T){if(!this._editor.hasModel()||T!==this._syncRangesToken||this._currentDecorations.length===0)return;const P=this._editor.getModel(),A=this._currentDecorations.getRange(0);if(!A||A.startLineNumber!==A.endLineNumber)return this.clearRanges();const M=P.getValueInRange(A);if(this._currentWordPattern){const R=M.match(this._currentWordPattern);if((R?R[0].length:0)!==M.length)return this.clearRanges()}const N=[];for(let R=1,F=this._currentDecorations.length;R<F;R++){const x=this._currentDecorations.getRange(R);if(x)if(x.startLineNumber!==x.endLineNumber)N.push({range:x,text:M});else{let W=P.getValueInRange(x),z=M,U=x.startColumn,O=x.endColumn;const G=f.commonPrefixLength(W,z);U+=G,W=W.substr(G),z=z.substr(G);const Q=f.commonSuffixLength(W,z);O-=Q,W=W.substr(0,W.length-Q),z=z.substr(0,z.length-Q),(U!==O||z.length!==0)&&N.push({range:new o.Range(x.startLineNumber,U,x.endLineNumber,O),text:z})}}if(N.length!==0)try{this._editor.popUndoStop(),this._ignoreChangeEvent=!0;const R=this._editor._getViewModel().getPrevEditOperationType();this._editor.executeEdits("linkedEditing",N),this._editor._getViewModel().setPrevEditOperationType(R)}finally{this._ignoreChangeEvent=!1}}dispose(){this.clearRanges(),super.dispose()}clearRanges(){this._visibleContextKey.set(!1),this._currentDecorations.clear(),this._currentRequest&&(this._currentRequest.cancel(),this._currentRequest=null,this._currentRequestPosition=null)}updateRanges(T=!1){return Le(this,void 0,void 0,function*(){if(!this._editor.hasModel()){this.clearRanges();return}const P=this._editor.getPosition();if(!this._enabled&&!T||this._editor.getSelections().length>1){this.clearRanges();return}const A=this._editor.getModel(),M=A.getVersionId();if(this._currentRequestPosition&&this._currentRequestModelVersion===M){if(P.equals(this._currentRequestPosition))return;if(this._currentDecorations.length>0){const R=this._currentDecorations.getRange(0);if(R&&R.containsPosition(P))return}}this.clearRanges(),this._currentRequestPosition=P,this._currentRequestModelVersion=M;const N=(0,k.createCancelablePromise)(R=>Le(this,void 0,void 0,function*(){try{const F=new C.StopWatch(!1),x=yield E(this._providers,A,P,R);if(this._debounceInformation.update(A,F.elapsed()),N!==this._currentRequest||(this._currentRequest=null,M!==A.getVersionId()))return;let W=[];x?.ranges&&(W=x.ranges),this._currentWordPattern=x?.wordPattern||this._languageWordPattern;let z=!1;for(let O=0,G=W.length;O<G;O++)if(o.Range.containsPosition(W[O],P)){if(z=!0,O!==0){const Q=W[O];W.splice(O,1),W.unshift(Q)}break}if(!z){this.clearRanges();return}const U=W.map(O=>({range:O,options:_i.DECORATION}));this._visibleContextKey.set(!0),this._currentDecorations.set(U),this._syncRangesToken++}catch(F){(0,S.isCancellationError)(F)||(0,S.onUnexpectedError)(F),(this._currentRequest===N||!this._currentRequest)&&this.clearRanges()}}));return this._currentRequest=N,N})}};v.ID="editor.contrib.linkedEditing",v.DECORATION=d.ModelDecorationOptions.register({description:"linked-editing",stickiness:0,className:g}),e.LinkedEditingContribution=v=Ne([ge(1,c.IContextKeyService),ge(2,a.ILanguageFeaturesService),ge(3,h.ILanguageConfigurationService),ge(4,u.ILanguageFeatureDebounceService)],v);class b extends s.EditorAction{constructor(){super({id:"editor.action.linkedEditing",label:n.localize(0,null),alias:"Start Linked Editing",precondition:c.ContextKeyExpr.and(r.EditorContextKeys.writable,r.EditorContextKeys.hasRenameProvider),kbOpts:{kbExpr:r.EditorContextKeys.editorTextFocus,primary:3132,weight:100}})}runCommand(T,P){const A=T.get(t.ICodeEditorService),[M,N]=Array.isArray(P)&&P||[void 0,void 0];return p.URI.isUri(M)&&i.Position.isIPosition(N)?A.openCodeEditor({resource:M},A.getActiveCodeEditor()).then(R=>{R&&(R.setPosition(N),R.invokeWithinContext(F=>(this.reportTelemetry(F,R),this.run(F,R))))},S.onUnexpectedError):super.runCommand(T,P)}run(T,P){const A=v.get(P);return A?Promise.resolve(A.updateRanges(!0)):Promise.resolve()}}e.LinkedEditingAction=b;const w=s.EditorCommand.bindToContribution(v.get);(0,s.registerEditorCommand)(new w({id:"cancelLinkedEditingInput",precondition:e.CONTEXT_ONTYPE_RENAME_INPUT_VISIBLE,handler:I=>I.clearRanges(),kbOpts:{kbExpr:r.EditorContextKeys.editorTextFocus,weight:100+99,primary:9,secondary:[1033]}}));function E(I,T,P,A){const M=I.ordered(T);return(0,k.first)(M.map(N=>()=>Le(this,void 0,void 0,function*(){try{return yield N.provideLinkedEditingRanges(T,P,A)}catch(R){(0,S.onUnexpectedExternalError)(R);return}})),N=>!!N&&L.isNonEmptyArray(N?.ranges))}e.editorLinkedEditingBackground=(0,l.registerColor)("editor.linkedEditingBackground",{dark:D.Color.fromHex("#f00").transparent(.3),light:D.Color.fromHex("#f00").transparent(.3),hcDark:D.Color.fromHex("#f00").transparent(.3),hcLight:D.Color.white},n.localize(1,null)),(0,s.registerModelAndPositionCommand)("_executeLinkedEditingProvider",(I,T,P)=>{const{linkedEditingRangeProvider:A}=I.get(a.ILanguageFeaturesService);return E(A,T,P,y.CancellationToken.None)}),(0,s.registerEditorContribution)(v.ID,v,1),(0,s.registerEditorAction)(b)}),define(X[880],ee([1,0,14,20,12,55,2,53,17,43,58,21,15,39,75,19,187,740,675,44,56,449]),function(q,e,L,k,y,D,S,m,_,f,p,s,t,i,o,r,d,h,n,c,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LinkDetector=void 0;let l=e.LinkDetector=class sn extends S.Disposable{static get(w){return w.getContribution(sn.ID)}constructor(w,E,I,T,P){super(),this.editor=w,this.openerService=E,this.notificationService=I,this.languageFeaturesService=T,this.providers=this.languageFeaturesService.linkProvider,this.debounceInformation=P.for(this.providers,"Links",{min:1e3,max:4e3}),this.computeLinks=this._register(new L.RunOnceScheduler(()=>this.computeLinksNow(),1e3)),this.computePromise=null,this.activeLinksList=null,this.currentOccurrences={},this.activeLinkDecorationId=null;const A=this._register(new d.ClickLinkGesture(w));this._register(A.onMouseMoveOrRelevantKeyDown(([M,N])=>{this._onEditorMouseMove(M,N)})),this._register(A.onExecute(M=>{this.onEditorMouseUp(M)})),this._register(A.onCancel(M=>{this.cleanUpActiveLinkDecoration()})),this._register(w.onDidChangeConfiguration(M=>{M.hasChanged(68)&&(this.updateDecorations([]),this.stop(),this.computeLinks.schedule(0))})),this._register(w.onDidChangeModelContent(M=>{this.editor.hasModel()&&this.computeLinks.schedule(this.debounceInformation.get(this.editor.getModel()))})),this._register(w.onDidChangeModel(M=>{this.currentOccurrences={},this.activeLinkDecorationId=null,this.stop(),this.computeLinks.schedule(0)})),this._register(w.onDidChangeModelLanguage(M=>{this.stop(),this.computeLinks.schedule(0)})),this._register(this.providers.onDidChange(M=>{this.stop(),this.computeLinks.schedule(0)})),this.computeLinks.schedule(0)}computeLinksNow(){return Le(this,void 0,void 0,function*(){if(!this.editor.hasModel()||!this.editor.getOption(68))return;const w=this.editor.getModel();if(this.providers.has(w)){this.activeLinksList&&(this.activeLinksList.dispose(),this.activeLinksList=null),this.computePromise=(0,L.createCancelablePromise)(E=>(0,h.getLinks)(this.providers,w,E));try{const E=new p.StopWatch(!1);if(this.activeLinksList=yield this.computePromise,this.debounceInformation.update(w,E.elapsed()),w.isDisposed())return;this.updateDecorations(this.activeLinksList.links)}catch(E){(0,y.onUnexpectedError)(E)}finally{this.computePromise=null}}})}updateDecorations(w){const E=this.editor.getOption(75)==="altKey",I=[],T=Object.keys(this.currentOccurrences);for(const A of T){const M=this.currentOccurrences[A];I.push(M.decorationId)}const P=[];if(w)for(const A of w)P.push(C.decoration(A,E));this.editor.changeDecorations(A=>{const M=A.deltaDecorations(I,P);this.currentOccurrences={},this.activeLinkDecorationId=null;for(let N=0,R=M.length;N<R;N++){const F=new C(w[N],M[N]);this.currentOccurrences[F.decorationId]=F}})}_onEditorMouseMove(w,E){const I=this.editor.getOption(75)==="altKey";if(this.isEnabled(w,E)){this.cleanUpActiveLinkDecoration();const T=this.getLinkOccurrence(w.target.position);T&&this.editor.changeDecorations(P=>{T.activate(P,I),this.activeLinkDecorationId=T.decorationId})}else this.cleanUpActiveLinkDecoration()}cleanUpActiveLinkDecoration(){const w=this.editor.getOption(75)==="altKey";if(this.activeLinkDecorationId){const E=this.currentOccurrences[this.activeLinkDecorationId];E&&this.editor.changeDecorations(I=>{E.deactivate(I,w)}),this.activeLinkDecorationId=null}}onEditorMouseUp(w){if(!this.isEnabled(w))return;const E=this.getLinkOccurrence(w.target.position);E&&this.openLinkOccurrence(E,w.hasSideBySideModifier,!0)}openLinkOccurrence(w,E,I=!1){if(!this.openerService)return;const{link:T}=w;T.resolve(k.CancellationToken.None).then(P=>{if(typeof P=="string"&&this.editor.hasModel()){const A=this.editor.getModel().uri;if(A.scheme===m.Schemas.file&&P.startsWith(`${m.Schemas.file}:`)){const M=s.URI.parse(P);if(M.scheme===m.Schemas.file){const N=f.originalFSPath(M);let R=null;N.startsWith("/./")?R=`.${N.substr(1)}`:N.startsWith("//./")&&(R=`.${N.substr(2)}`),R&&(P=f.joinPath(A,R))}}}return this.openerService.open(P,{openToSide:E,fromUserGesture:I,allowContributedOpeners:!0,allowCommands:!0,fromWorkspace:!0})},P=>{const A=P instanceof Error?P.message:P;A==="invalid"?this.notificationService.warn(n.localize(0,null,T.url.toString())):A==="missing"?this.notificationService.warn(n.localize(1,null)):(0,y.onUnexpectedError)(P)})}getLinkOccurrence(w){if(!this.editor.hasModel()||!w)return null;const E=this.editor.getModel().getDecorationsInRange({startLineNumber:w.lineNumber,startColumn:w.column,endLineNumber:w.lineNumber,endColumn:w.column},0,!0);for(const I of E){const T=this.currentOccurrences[I.id];if(T)return T}return null}isEnabled(w,E){return!!(w.target.type===6&&(w.hasTriggerModifier||E&&E.keyCodeIsTriggerKey))}stop(){var w;this.computeLinks.cancel(),this.activeLinksList&&((w=this.activeLinksList)===null||w===void 0||w.dispose(),this.activeLinksList=null),this.computePromise&&(this.computePromise.cancel(),this.computePromise=null)}dispose(){super.dispose(),this.stop()}};l.ID="editor.linkDetector",e.LinkDetector=l=Ne([ge(1,a.IOpenerService),ge(2,c.INotificationService),ge(3,r.ILanguageFeaturesService),ge(4,o.ILanguageFeatureDebounceService)],l);const u={general:i.ModelDecorationOptions.register({description:"detected-link",stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link"}),active:i.ModelDecorationOptions.register({description:"detected-link-active",stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link-active"})};class C{static decoration(w,E){return{range:w.range,options:C._getOptions(w,E,!1)}}static _getOptions(w,E,I){const T=Object.assign({},I?u.active:u.general);return T.hoverMessage=g(w,E),T}constructor(w,E){this.link=w,this.decorationId=E}activate(w,E){w.changeDecorationOptions(this.decorationId,C._getOptions(this.link,E,!0))}deactivate(w,E){w.changeDecorationOptions(this.decorationId,C._getOptions(this.link,E,!1))}}function g(b,w){const E=b.url&&/^command:/i.test(b.url.toString()),I=b.tooltip?b.tooltip:E?n.localize(2,null):n.localize(3,null),T=w?_.isMacintosh?n.localize(4,null):n.localize(5,null):_.isMacintosh?n.localize(6,null):n.localize(7,null);if(b.url){let P="";if(/^command:/i.test(b.url.toString())){const M=b.url.toString().match(/^command:([^?#]+)/);if(M){const N=M[1];P=n.localize(8,null,N)}}return new D.MarkdownString("",!0).appendLink(b.url.toString(!0).replace(/ /g,"%20"),I,P).appendMarkdown(` (${T})`)}else return new D.MarkdownString().appendText(`${I} (${T})`)}class v extends t.EditorAction{constructor(){super({id:"editor.action.openLink",label:n.localize(9,null),alias:"Open Link",precondition:void 0})}run(w,E){const I=l.get(E);if(!I||!E.hasModel())return;const T=E.getSelections();for(const P of T){const A=I.getLinkOccurrence(P.getEndPosition());A&&I.openLinkOccurrence(A,!1)}}}(0,t.registerEditorContribution)(l.ID,l,1),(0,t.registerEditorAction)(v)}),define(X[881],ee([1,0,2,19,189,14,361,290,289,30,12,215,50]),function(q,e,L,k,y,D,S,m,_,f,p,s,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StickyModelProvider=void 0;var i;(function(l){l.OUTLINE_MODEL="outlineModel",l.FOLDING_PROVIDER_MODEL="foldingProviderModel",l.INDENTATION_MODEL="indentationModel"})(i||(i={}));var o;(function(l){l[l.VALID=0]="VALID",l[l.INVALID=1]="INVALID",l[l.CANCELED=2]="CANCELED"})(o||(o={}));let r=e.StickyModelProvider=class{constructor(u,C,g,v){this._editor=u,this._languageConfigurationService=C,this._languageFeaturesService=g,this._modelProviders=[],this._modelPromise=null,this._updateScheduler=new D.Delayer(300);const b=new h(g),w=new a(this._editor,g),E=new c(this._editor,C);switch(v){case i.OUTLINE_MODEL:this._modelProviders.push(b),this._modelProviders.push(w),this._modelProviders.push(E);break;case i.FOLDING_PROVIDER_MODEL:this._modelProviders.push(w),this._modelProviders.push(E);break;case i.INDENTATION_MODEL:this._modelProviders.push(E);break}this._store=new L.DisposableStore}_cancelModelPromise(){this._modelPromise&&(this._modelPromise.cancel(),this._modelPromise=null)}update(u,C,g){return Le(this,void 0,void 0,function*(){return this._store.clear(),this._store.add({dispose:()=>{var v;this._cancelModelPromise(),(v=this._updateScheduler)===null||v===void 0||v.cancel()}}),this._cancelModelPromise(),yield this._updateScheduler.trigger(()=>Le(this,void 0,void 0,function*(){for(const v of this._modelProviders){const{statusPromise:b,modelPromise:w}=v.computeStickyModel(u,C,g);this._modelPromise=w;const E=yield b;if(this._modelPromise!==w)return null;switch(E){case o.CANCELED:return this._store.clear(),null;case o.VALID:return v.stickyModel}}return null}))})}};e.StickyModelProvider=r=Ne([ge(1,f.ILanguageConfigurationService),ge(2,k.ILanguageFeaturesService)],r);class d{constructor(){this._stickyModel=null}get stickyModel(){return this._stickyModel}_invalid(){return this._stickyModel=null,o.INVALID}computeStickyModel(u,C,g){if(g.isCancellationRequested||!this.isProviderValid(u))return{statusPromise:this._invalid(),modelPromise:null};const v=(0,D.createCancelablePromise)(b=>this.createModelFromProvider(u,C,b));return{statusPromise:v.then(b=>this.isModelValid(b)?g.isCancellationRequested?o.CANCELED:(this._stickyModel=this.createStickyModel(u,C,g,b),o.VALID):this._invalid()).then(void 0,b=>((0,p.onUnexpectedError)(b),o.CANCELED)),modelPromise:v}}isModelValid(u){return!0}isProviderValid(u){return!0}}let h=class extends d{constructor(u){super(),this._languageFeaturesService=u}createModelFromProvider(u,C,g){return y.OutlineModel.create(this._languageFeaturesService.documentSymbolProvider,u,g)}createStickyModel(u,C,g,v){var b;const{stickyOutlineElement:w,providerID:E}=this._stickyModelFromOutlineModel(v,(b=this._stickyModel)===null||b===void 0?void 0:b.outlineProviderId);return new s.StickyModel(u.uri,C,w,E)}isModelValid(u){return u&&u.children.size>0}_stickyModelFromOutlineModel(u,C){let g;if(t.Iterable.first(u.children.values())instanceof y.OutlineGroup){const E=t.Iterable.find(u.children.values(),I=>I.id===C);if(E)g=E.children;else{let I="",T=-1,P;for(const[A,M]of u.children.entries()){const N=this._findSumOfRangesOfGroup(M);N>T&&(P=M,T=N,I=M.id)}C=I,g=P.children}}else g=u.children;const v=[],b=Array.from(g.values()).sort((E,I)=>{const T=new s.StickyRange(E.symbol.range.startLineNumber,E.symbol.range.endLineNumber),P=new s.StickyRange(I.symbol.range.startLineNumber,I.symbol.range.endLineNumber);return this._comparator(T,P)});for(const E of b)v.push(this._stickyModelFromOutlineElement(E,E.symbol.selectionRange.startLineNumber));return{stickyOutlineElement:new s.StickyElement(void 0,v,void 0),providerID:C}}_stickyModelFromOutlineElement(u,C){const g=[];for(const b of u.children.values())if(b.symbol.selectionRange.startLineNumber!==b.symbol.range.endLineNumber)if(b.symbol.selectionRange.startLineNumber!==C)g.push(this._stickyModelFromOutlineElement(b,b.symbol.selectionRange.startLineNumber));else for(const w of b.children.values())g.push(this._stickyModelFromOutlineElement(w,b.symbol.selectionRange.startLineNumber));g.sort((b,w)=>this._comparator(b.range,w.range));const v=new s.StickyRange(u.symbol.selectionRange.startLineNumber,u.symbol.range.endLineNumber);return new s.StickyElement(v,g,void 0)}_comparator(u,C){return u.startLineNumber!==C.startLineNumber?u.startLineNumber-C.startLineNumber:C.endLineNumber-u.endLineNumber}_findSumOfRangesOfGroup(u){let C=0;for(const g of u.children.values())C+=this._findSumOfRangesOfGroup(g);return u instanceof y.OutlineElement?C+u.symbol.range.endLineNumber-u.symbol.selectionRange.startLineNumber:C}};h=Ne([ge(0,k.ILanguageFeaturesService)],h);class n extends d{constructor(u){super(),this._foldingLimitReporter=new S.RangesLimitReporter(u)}createStickyModel(u,C,g,v){const b=this._fromFoldingRegions(v);return new s.StickyModel(u.uri,C,b,void 0)}isModelValid(u){return u!==null}_fromFoldingRegions(u){const C=u.length,g=[],v=new s.StickyElement(void 0,[],void 0);for(let b=0;b<C;b++){const w=u.getParentIndex(b);let E;w!==-1?E=g[w]:E=v;const I=new s.StickyElement(new s.StickyRange(u.getStartLineNumber(b),u.getEndLineNumber(b)+1),[],E);E.children.push(I),g.push(I)}return v}}let c=class extends n{constructor(u,C){super(u),this._languageConfigurationService=C}createModelFromProvider(u,C,g){return new _.IndentRangeProvider(u,this._languageConfigurationService,this._foldingLimitReporter).compute(g)}};c=Ne([ge(1,f.ILanguageConfigurationService)],c);let a=class extends n{constructor(u,C){super(u),this._languageFeaturesService=C}isProviderValid(u){return S.FoldingController.getFoldingRangeProviders(this._languageFeaturesService,u).length>0}createModelFromProvider(u,C,g){const v=S.FoldingController.getFoldingRangeProviders(this._languageFeaturesService,u);return new m.SyntaxRangeProvider(u,v,()=>this.createModelFromProvider(u,C,g),this._foldingLimitReporter,void 0).compute(g)}};a=Ne([ge(1,k.ILanguageFeaturesService)],a)}),define(X[882],ee([1,0,2,19,20,14,16,43,6,30,881,215]),function(q,e,L,k,y,D,S,m,_,f,p,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StickyLineCandidateProvider=e.StickyLineCandidate=void 0;class t{constructor(r,d,h){this.startLineNumber=r,this.endLineNumber=d,this.nestingDepth=h}}e.StickyLineCandidate=t;let i=e.StickyLineCandidateProvider=class extends L.Disposable{constructor(r,d,h){super(),this._languageFeaturesService=d,this._languageConfigurationService=h,this._onDidChangeStickyScroll=this._store.add(new _.Emitter),this.onDidChangeStickyScroll=this._onDidChangeStickyScroll.event,this._options=null,this._model=null,this._cts=null,this._stickyModelProvider=null,this._editor=r,this._sessionStore=new L.DisposableStore,this._updateSoon=this._register(new D.RunOnceScheduler(()=>this.update(),50)),this._register(this._editor.onDidChangeConfiguration(n=>{n.hasChanged(112)&&this.readConfiguration()})),this.readConfiguration()}dispose(){super.dispose(),this._sessionStore.dispose()}readConfiguration(){if(this._options=this._editor.getOption(112),!this._options.enabled){this._sessionStore.clear();return}this._stickyModelProvider=new p.StickyModelProvider(this._editor,this._languageConfigurationService,this._languageFeaturesService,this._options.defaultModel),this._sessionStore.add(this._editor.onDidChangeModel(()=>this.update())),this._sessionStore.add(this._editor.onDidChangeHiddenAreas(()=>this.update())),this._sessionStore.add(this._editor.onDidChangeModelContent(()=>this._updateSoon.schedule())),this._sessionStore.add(this._languageFeaturesService.documentSymbolProvider.onDidChange(()=>this.update())),this.update()}getVersionId(){var r;return(r=this._model)===null||r===void 0?void 0:r.version}update(){var r;return Le(this,void 0,void 0,function*(){(r=this._cts)===null||r===void 0||r.dispose(!0),this._cts=new y.CancellationTokenSource,yield this.updateStickyModel(this._cts.token),this._onDidChangeStickyScroll.fire()})}updateStickyModel(r){return Le(this,void 0,void 0,function*(){if(!this._editor.hasModel()||!this._stickyModelProvider)return;const d=this._editor.getModel(),h=d.getVersionId(),c=(this._model?!(0,m.isEqual)(this._model.uri,d.uri):!1)?setTimeout(()=>{r.isCancellationRequested||(this._model=new s.StickyModel(d.uri,d.getVersionId(),void 0,void 0),this._onDidChangeStickyScroll.fire())},75):void 0;this._model=yield this._stickyModelProvider.update(d,h,r),clearTimeout(c)})}updateIndex(r){return r===-1?r=0:r<0&&(r=-r-2),r}getCandidateStickyLinesIntersectingFromStickyModel(r,d,h,n,c){if(d.children.length===0)return;let a=c;const l=[];for(let g=0;g<d.children.length;g++){const v=d.children[g];v.range&&l.push(v.range.startLineNumber)}const u=this.updateIndex((0,S.binarySearch)(l,r.startLineNumber,(g,v)=>g-v)),C=this.updateIndex((0,S.binarySearch)(l,r.startLineNumber+n,(g,v)=>g-v));for(let g=u;g<=C;g++){const v=d.children[g];if(!v)return;if(v.range){const b=v.range.startLineNumber,w=v.range.endLineNumber;r.startLineNumber<=w+1&&b-1<=r.endLineNumber&&b!==a&&(a=b,h.push(new t(b,w-1,n+1)),this.getCandidateStickyLinesIntersectingFromStickyModel(r,v,h,n+1,b))}else this.getCandidateStickyLinesIntersectingFromStickyModel(r,v,h,n,c)}}getCandidateStickyLinesIntersecting(r){var d,h;if(!(!((d=this._model)===null||d===void 0)&&d.element))return[];let n=[];this.getCandidateStickyLinesIntersectingFromStickyModel(r,this._model.element,n,0,-1);const c=(h=this._editor._getViewModel())===null||h===void 0?void 0:h.getHiddenAreas();if(c)for(const a of c)n=n.filter(l=>!(l.startLineNumber>=a.startLineNumber&&l.endLineNumber<=a.endLineNumber+1));return n}};e.StickyLineCandidateProvider=i=Ne([ge(1,k.ILanguageFeaturesService),ge(2,f.ILanguageConfigurationService)],i)}),define(X[883],ee([1,0,7,73,89,2,164,11,92,127,94,456]),function(q,e,L,k,y,D,S,m,_,f,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StickyScrollWidget=e.StickyScrollWidgetState=void 0;class s{constructor(r,d){this.lineNumbers=r,this.lastLineRelativePosition=d}}e.StickyScrollWidgetState=s;const t=(0,y.createTrustedTypesPolicy)("stickyScrollViewLayer",{createHTML:o=>o});class i extends D.Disposable{constructor(r){super(),this._editor=r,this._rootDomNode=document.createElement("div"),this._disposableStore=this._register(new D.DisposableStore),this._lineNumbers=[],this._lastLineRelativePosition=0,this._hoverOnLine=-1,this._hoverOnColumn=-1,this._layoutInfo=this._editor.getLayoutInfo(),this._rootDomNode=document.createElement("div"),this._rootDomNode.className="sticky-widget",this._rootDomNode.classList.toggle("peek",r instanceof S.EmbeddedCodeEditorWidget),this._rootDomNode.style.width=`${this._layoutInfo.width-this._layoutInfo.minimap.minimapCanvasOuterWidth-this._layoutInfo.verticalScrollbarWidth}px`}get hoverOnLine(){return this._hoverOnLine}get hoverOnColumn(){return this._hoverOnColumn}get lineNumbers(){return this._lineNumbers}getCurrentLines(){return this._lineNumbers}setState(r){L.clearNode(this._rootDomNode),this._disposableStore.clear(),this._lineNumbers.length=0;const d=this._editor.getOption(64);r.lineNumbers.length*d+r.lastLineRelativePosition>0?(this._lastLineRelativePosition=r.lastLineRelativePosition,this._lineNumbers=r.lineNumbers):(this._lastLineRelativePosition=0,this._lineNumbers=[]),this._renderRootNode()}_renderRootNode(){if(!this._editor._getViewModel())return;for(const[n,c]of this._lineNumbers.entries()){const a=this._renderChildNode(n,c);this._rootDomNode.appendChild(a)}const r=this._editor.getOption(64),d=this._lineNumbers.length*r+this._lastLineRelativePosition;this._rootDomNode.style.display=d>0?"block":"none",this._rootDomNode.style.height=d.toString()+"px",this._rootDomNode.setAttribute("role","list"),this._editor.getOption(70).side==="left"&&(this._rootDomNode.style.marginLeft=this._editor.getLayoutInfo().minimap.minimapCanvasOuterWidth+"px")}_renderChildNode(r,d){const h=document.createElement("div"),n=this._editor._getViewModel(),c=n.coordinatesConverter.convertModelPositionToViewPosition(new m.Position(d,1)).lineNumber,a=n.getViewLineRenderingData(c),l=this._editor.getLayoutInfo(),u=l.width-l.minimap.minimapCanvasOuterWidth-l.verticalScrollbarWidth,C=this._editor.getOption(70).side,g=this._editor.getOption(64),v=this._editor.getOption(65);let b;try{b=f.LineDecoration.filter(a.inlineDecorations,c,a.minColumn,a.maxColumn)}catch{b=[]}const w=new p.RenderLineInput(!0,!0,a.content,a.continuesWithWrappedLine,a.isBasicASCII,a.containsRTL,0,a.tokens,b,a.tabSize,a.startVisibleColumn,1,1,1,500,"none",!0,!0,null),E=new _.StringBuilder(2e3);(0,p.renderViewLine)(w,E);let I;t?I=t.createHTML(E.build()):I=E.build();const T=document.createElement("span");T.className="sticky-line",T.classList.add(`stickyLine${d}`),T.style.lineHeight=`${g}px`,T.innerHTML=I;const P=document.createElement("span");P.className="sticky-line",P.style.lineHeight=`${g}px`,C==="left"?P.style.width=`${l.contentLeft-l.minimap.minimapCanvasOuterWidth}px`:C==="right"&&(P.style.width=`${l.contentLeft}px`);const A=document.createElement("span");return v.renderType===1||v.renderType===3&&d%10===0?A.innerText=d.toString():v.renderType===2&&(A.innerText=Math.abs(d-this._editor.getPosition().lineNumber).toString()),A.className="sticky-line-number",A.style.lineHeight=`${g}px`,A.style.width=`${l.lineNumbersWidth}px`,C==="left"?A.style.paddingLeft=`${l.lineNumbersLeft-l.minimap.minimapCanvasOuterWidth}px`:C==="right"&&(A.style.paddingLeft=`${l.lineNumbersLeft}px`),P.appendChild(A),this._editor.applyFontInfo(T),this._editor.applyFontInfo(A),h.appendChild(P),h.appendChild(T),h.className="sticky-line-root",h.setAttribute("role","listitem"),h.tabIndex=0,h.style.lineHeight=`${g}px`,h.style.width=`${u}px`,h.style.height=`${g}px`,h.style.zIndex="0",r===this._lineNumbers.length-1&&(h.style.position="relative",h.style.zIndex="-1",h.style.top=this._lastLineRelativePosition+"px"),this._disposableStore.add(L.addDisposableListener(h,"mouseover",M=>{if(this._editor.hasModel()){const R=new k.StandardMouseEvent(M).target.innerText;this._hoverOnLine=d,this._hoverOnColumn=this._editor.getModel().getLineContent(d).indexOf(R)+1||-1}})),h}getId(){return"editor.contrib.stickyScrollWidget"}getDomNode(){return this._rootDomNode}getPosition(){return{preference:null}}}e.StickyScrollWidget=i}),define(X[884],ee([1,0,7,113,14,12,6,2,139,9,164,854,692,13,8,87,33,88,23,223,160,339,849,103,174,457,249]),function(q,e,L,k,y,D,S,m,_,f,p,s,t,i,o,r,d,h,n,c,a,l,u,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestContentWidget=e.SuggestWidget=e.editorSuggestWidgetSelectedBackground=void 0,(0,d.registerColor)("editorSuggestWidget.background",{dark:d.editorWidgetBackground,light:d.editorWidgetBackground,hcDark:d.editorWidgetBackground,hcLight:d.editorWidgetBackground},t.localize(0,null)),(0,d.registerColor)("editorSuggestWidget.border",{dark:d.editorWidgetBorder,light:d.editorWidgetBorder,hcDark:d.editorWidgetBorder,hcLight:d.editorWidgetBorder},t.localize(1,null));const g=(0,d.registerColor)("editorSuggestWidget.foreground",{dark:d.editorForeground,light:d.editorForeground,hcDark:d.editorForeground,hcLight:d.editorForeground},t.localize(2,null));(0,d.registerColor)("editorSuggestWidget.selectedForeground",{dark:d.quickInputListFocusForeground,light:d.quickInputListFocusForeground,hcDark:d.quickInputListFocusForeground,hcLight:d.quickInputListFocusForeground},t.localize(3,null)),(0,d.registerColor)("editorSuggestWidget.selectedIconForeground",{dark:d.quickInputListFocusIconForeground,light:d.quickInputListFocusIconForeground,hcDark:d.quickInputListFocusIconForeground,hcLight:d.quickInputListFocusIconForeground},t.localize(4,null)),e.editorSuggestWidgetSelectedBackground=(0,d.registerColor)("editorSuggestWidget.selectedBackground",{dark:d.quickInputListFocusBackground,light:d.quickInputListFocusBackground,hcDark:d.quickInputListFocusBackground,hcLight:d.quickInputListFocusBackground},t.localize(5,null)),(0,d.registerColor)("editorSuggestWidget.highlightForeground",{dark:d.listHighlightForeground,light:d.listHighlightForeground,hcDark:d.listHighlightForeground,hcLight:d.listHighlightForeground},t.localize(6,null)),(0,d.registerColor)("editorSuggestWidget.focusHighlightForeground",{dark:d.listFocusHighlightForeground,light:d.listFocusHighlightForeground,hcDark:d.listFocusHighlightForeground,hcLight:d.listFocusHighlightForeground},t.localize(7,null)),(0,d.registerColor)("editorSuggestWidgetStatus.foreground",{dark:(0,d.transparent)(g,.5),light:(0,d.transparent)(g,.5),hcDark:(0,d.transparent)(g,.5),hcLight:(0,d.transparent)(g,.5)},t.localize(8,null));class v{constructor(I,T){this._service=I,this._key=`suggestWidget.size/${T.getEditorType()}/${T instanceof p.EmbeddedCodeEditorWidget}`}restore(){var I;const T=(I=this._service.get(this._key,0))!==null&&I!==void 0?I:"";try{const P=JSON.parse(T);if(L.Dimension.is(P))return L.Dimension.lift(P)}catch{}}store(I){this._service.store(this._key,JSON.stringify(I),0,1)}reset(){this._service.remove(this._key,0)}}let b=e.SuggestWidget=class Si{constructor(I,T,P,A,M){this.editor=I,this._storageService=T,this._state=0,this._isAuto=!1,this._pendingLayout=new m.MutableDisposable,this._pendingShowDetails=new m.MutableDisposable,this._ignoreFocusEvents=!1,this._forceRenderingAbove=!1,this._explainMode=!1,this._showTimeout=new y.TimeoutTimer,this._disposables=new m.DisposableStore,this._onDidSelect=new S.PauseableEmitter,this._onDidFocus=new S.PauseableEmitter,this._onDidHide=new S.Emitter,this._onDidShow=new S.Emitter,this.onDidSelect=this._onDidSelect.event,this.onDidFocus=this._onDidFocus.event,this.onDidHide=this._onDidHide.event,this.onDidShow=this._onDidShow.event,this._onDetailsKeydown=new S.Emitter,this.onDetailsKeyDown=this._onDetailsKeydown.event,this.element=new c.ResizableHTMLElement,this.element.domNode.classList.add("editor-widget","suggest-widget"),this._contentWidget=new w(this,I),this._persistedSize=new v(T,I);class N{constructor(O,G,Q=!1,re=!1){this.persistedSize=O,this.currentSize=G,this.persistHeight=Q,this.persistWidth=re}}let R;this._disposables.add(this.element.onDidWillResize(()=>{this._contentWidget.lockPreference(),R=new N(this._persistedSize.restore(),this.element.size)})),this._disposables.add(this.element.onDidResize(U=>{var O,G,Q,re;if(this._resize(U.dimension.width,U.dimension.height),R&&(R.persistHeight=R.persistHeight||!!U.north||!!U.south,R.persistWidth=R.persistWidth||!!U.east||!!U.west),!!U.done){if(R){const{itemHeight:oe,defaultSize:te}=this.getLayoutInfo(),H=Math.round(oe/2);let{width:B,height:K}=this.element.size;(!R.persistHeight||Math.abs(R.currentSize.height-K)<=H)&&(K=(G=(O=R.persistedSize)===null||O===void 0?void 0:O.height)!==null&&G!==void 0?G:te.height),(!R.persistWidth||Math.abs(R.currentSize.width-B)<=H)&&(B=(re=(Q=R.persistedSize)===null||Q===void 0?void 0:Q.width)!==null&&re!==void 0?re:te.width),this._persistedSize.store(new L.Dimension(B,K))}this._contentWidget.unlockPreference(),R=void 0}})),this._messageElement=L.append(this.element.domNode,L.$(".message")),this._listElement=L.append(this.element.domNode,L.$(".tree"));const F=M.createInstance(l.SuggestDetailsWidget,this.editor);F.onDidClose(this.toggleDetails,this,this._disposables),this._details=new l.SuggestDetailsOverlay(F,this.editor);const x=()=>this.element.domNode.classList.toggle("no-icons",!this.editor.getOption(115).showIcons);x();const W=M.createInstance(u.ItemRenderer,this.editor);this._disposables.add(W),this._disposables.add(W.onDidToggleDetails(()=>this.toggleDetails())),this._list=new k.List("SuggestWidget",this._listElement,{getHeight:U=>this.getLayoutInfo().itemHeight,getTemplateId:U=>"suggestion"},[W],{alwaysConsumeMouseWheel:!0,useShadows:!1,mouseSupport:!1,multipleSelectionSupport:!1,accessibilityProvider:{getRole:()=>"option",getWidgetAriaLabel:()=>t.localize(11,null),getWidgetRole:()=>"listbox",getAriaLabel:U=>{let O=U.textLabel;if(typeof U.completion.label!="string"){const{detail:oe,description:te}=U.completion.label;oe&&te?O=t.localize(12,null,O,oe,te):oe?O=t.localize(13,null,O,oe):te&&(O=t.localize(14,null,O,te))}if(!U.isResolved||!this._isDetailsVisible())return O;const{documentation:G,detail:Q}=U.completion,re=f.format("{0}{1}",Q||"",G?typeof G=="string"?G:G.value:"");return t.localize(15,null,O,re)}}}),this._list.style((0,C.getListStyles)({listInactiveFocusBackground:e.editorSuggestWidgetSelectedBackground,listInactiveFocusOutline:d.activeContrastBorder})),this._status=M.createInstance(s.SuggestWidgetStatus,this.element.domNode,a.suggestWidgetStatusbarMenu);const z=()=>this.element.domNode.classList.toggle("with-status-bar",this.editor.getOption(115).showStatusBar);z(),this._disposables.add(A.onDidColorThemeChange(U=>this._onThemeChange(U))),this._onThemeChange(A.getColorTheme()),this._disposables.add(this._list.onMouseDown(U=>this._onListMouseDownOrTap(U))),this._disposables.add(this._list.onTap(U=>this._onListMouseDownOrTap(U))),this._disposables.add(this._list.onDidChangeSelection(U=>this._onListSelection(U))),this._disposables.add(this._list.onDidChangeFocus(U=>this._onListFocus(U))),this._disposables.add(this.editor.onDidChangeCursorSelection(()=>this._onCursorSelectionChanged())),this._disposables.add(this.editor.onDidChangeConfiguration(U=>{U.hasChanged(115)&&(z(),x())})),this._ctxSuggestWidgetVisible=a.Context.Visible.bindTo(P),this._ctxSuggestWidgetDetailsVisible=a.Context.DetailsVisible.bindTo(P),this._ctxSuggestWidgetMultipleSuggestions=a.Context.MultipleSuggestions.bindTo(P),this._ctxSuggestWidgetHasFocusedSuggestion=a.Context.HasFocusedSuggestion.bindTo(P),this._disposables.add(L.addStandardDisposableListener(this._details.widget.domNode,"keydown",U=>{this._onDetailsKeydown.fire(U)})),this._disposables.add(this.editor.onMouseDown(U=>this._onEditorMouseDown(U)))}dispose(){var I;this._details.widget.dispose(),this._details.dispose(),this._list.dispose(),this._status.dispose(),this._disposables.dispose(),(I=this._loadingTimeout)===null||I===void 0||I.dispose(),this._pendingLayout.dispose(),this._pendingShowDetails.dispose(),this._showTimeout.dispose(),this._contentWidget.dispose(),this.element.dispose()}_onEditorMouseDown(I){this._details.widget.domNode.contains(I.target.element)?this._details.widget.domNode.focus():this.element.domNode.contains(I.target.element)&&this.editor.focus()}_onCursorSelectionChanged(){this._state!==0&&this._contentWidget.layout()}_onListMouseDownOrTap(I){typeof I.element>"u"||typeof I.index>"u"||(I.browserEvent.preventDefault(),I.browserEvent.stopPropagation(),this._select(I.element,I.index))}_onListSelection(I){I.elements.length&&this._select(I.elements[0],I.indexes[0])}_select(I,T){const P=this._completionModel;P&&(this._onDidSelect.fire({item:I,index:T,model:P}),this.editor.focus())}_onThemeChange(I){this._details.widget.borderWidth=(0,h.isHighContrast)(I.type)?2:1}_onListFocus(I){var T;if(this._ignoreFocusEvents)return;if(!I.elements.length){this._currentSuggestionDetails&&(this._currentSuggestionDetails.cancel(),this._currentSuggestionDetails=void 0,this._focusedItem=void 0),this.editor.setAriaOptions({activeDescendant:void 0}),this._ctxSuggestWidgetHasFocusedSuggestion.set(!1);return}if(!this._completionModel)return;this._ctxSuggestWidgetHasFocusedSuggestion.set(!0);const P=I.elements[0],A=I.indexes[0];P!==this._focusedItem&&((T=this._currentSuggestionDetails)===null||T===void 0||T.cancel(),this._currentSuggestionDetails=void 0,this._focusedItem=P,this._list.reveal(A),this._currentSuggestionDetails=(0,y.createCancelablePromise)(M=>Le(this,void 0,void 0,function*(){const N=(0,y.disposableTimeout)(()=>{this._isDetailsVisible()&&this.showDetails(!0)},250),R=M.onCancellationRequested(()=>N.dispose()),F=yield P.resolve(M);return N.dispose(),R.dispose(),F})),this._currentSuggestionDetails.then(()=>{A>=this._list.length||P!==this._list.element(A)||(this._ignoreFocusEvents=!0,this._list.splice(A,1,[P]),this._list.setFocus([A]),this._ignoreFocusEvents=!1,this._isDetailsVisible()?this.showDetails(!1):this.element.domNode.classList.remove("docs-side"),this.editor.setAriaOptions({activeDescendant:(0,u.getAriaId)(A)}))}).catch(D.onUnexpectedError)),this._onDidFocus.fire({item:P,index:A,model:this._completionModel})}_setState(I){if(this._state!==I)switch(this._state=I,this.element.domNode.classList.toggle("frozen",I===4),this.element.domNode.classList.remove("message"),I){case 0:L.hide(this._messageElement,this._listElement,this._status.element),this._details.hide(!0),this._status.hide(),this._contentWidget.hide(),this._ctxSuggestWidgetVisible.reset(),this._ctxSuggestWidgetMultipleSuggestions.reset(),this._ctxSuggestWidgetHasFocusedSuggestion.reset(),this._showTimeout.cancel(),this.element.domNode.classList.remove("visible"),this._list.splice(0,this._list.length),this._focusedItem=void 0,this._cappedHeight=void 0,this._explainMode=!1;break;case 1:this.element.domNode.classList.add("message"),this._messageElement.textContent=Si.LOADING_MESSAGE,L.hide(this._listElement,this._status.element),L.show(this._messageElement),this._details.hide(),this._show(),this._focusedItem=void 0;break;case 2:this.element.domNode.classList.add("message"),this._messageElement.textContent=Si.NO_SUGGESTIONS_MESSAGE,L.hide(this._listElement,this._status.element),L.show(this._messageElement),this._details.hide(),this._show(),this._focusedItem=void 0;break;case 3:L.hide(this._messageElement),L.show(this._listElement,this._status.element),this._show();break;case 4:L.hide(this._messageElement),L.show(this._listElement,this._status.element),this._show();break;case 5:L.hide(this._messageElement),L.show(this._listElement,this._status.element),this._details.show(),this._show();break}}_show(){this._status.show(),this._contentWidget.show(),this._layout(this._persistedSize.restore()),this._ctxSuggestWidgetVisible.set(!0),this._showTimeout.cancelAndSet(()=>{this.element.domNode.classList.add("visible"),this._onDidShow.fire(this)},100)}showTriggered(I,T){this._state===0&&(this._contentWidget.setPosition(this.editor.getPosition()),this._isAuto=!!I,this._isAuto||(this._loadingTimeout=(0,y.disposableTimeout)(()=>this._setState(1),T)))}showSuggestions(I,T,P,A,M){var N,R;if(this._contentWidget.setPosition(this.editor.getPosition()),(N=this._loadingTimeout)===null||N===void 0||N.dispose(),(R=this._currentSuggestionDetails)===null||R===void 0||R.cancel(),this._currentSuggestionDetails=void 0,this._completionModel!==I&&(this._completionModel=I),P&&this._state!==2&&this._state!==0){this._setState(4);return}const F=this._completionModel.items.length,x=F===0;if(this._ctxSuggestWidgetMultipleSuggestions.set(F>1),x){this._setState(A?0:2),this._completionModel=void 0;return}this._focusedItem=void 0,this._onDidFocus.pause(),this._onDidSelect.pause();try{this._list.splice(0,this._list.length,this._completionModel.items),this._setState(P?4:3),this._list.reveal(T,0),this._list.setFocus(M?[]:[T])}finally{this._onDidFocus.resume(),this._onDidSelect.resume()}this._pendingLayout.value=L.runAtThisOrScheduleAtNextAnimationFrame(()=>{this._pendingLayout.clear(),this._layout(this.element.size),this._details.widget.domNode.classList.remove("focused")})}focusSelected(){this._list.length>0&&this._list.setFocus([0])}selectNextPage(){switch(this._state){case 0:return!1;case 5:return this._details.widget.pageDown(),!0;case 1:return!this._isAuto;default:return this._list.focusNextPage(),!0}}selectNext(){switch(this._state){case 0:return!1;case 1:return!this._isAuto;default:return this._list.focusNext(1,!0),!0}}selectLast(){switch(this._state){case 0:return!1;case 5:return this._details.widget.scrollBottom(),!0;case 1:return!this._isAuto;default:return this._list.focusLast(),!0}}selectPreviousPage(){switch(this._state){case 0:return!1;case 5:return this._details.widget.pageUp(),!0;case 1:return!this._isAuto;default:return this._list.focusPreviousPage(),!0}}selectPrevious(){switch(this._state){case 0:return!1;case 1:return!this._isAuto;default:return this._list.focusPrevious(1,!0),!1}}selectFirst(){switch(this._state){case 0:return!1;case 5:return this._details.widget.scrollTop(),!0;case 1:return!this._isAuto;default:return this._list.focusFirst(),!0}}getFocusedItem(){if(this._state!==0&&this._state!==2&&this._state!==1&&this._completionModel&&this._list.getFocus().length>0)return{item:this._list.getFocusedElements()[0],index:this._list.getFocus()[0],model:this._completionModel}}toggleDetailsFocus(){this._state===5?(this._setState(3),this._details.widget.domNode.classList.remove("focused")):this._state===3&&this._isDetailsVisible()&&(this._setState(5),this._details.widget.domNode.classList.add("focused"))}toggleDetails(){this._isDetailsVisible()?(this._pendingShowDetails.clear(),this._ctxSuggestWidgetDetailsVisible.set(!1),this._setDetailsVisible(!1),this._details.hide(),this.element.domNode.classList.remove("shows-details")):((0,l.canExpandCompletionItem)(this._list.getFocusedElements()[0])||this._explainMode)&&(this._state===3||this._state===5||this._state===4)&&(this._ctxSuggestWidgetDetailsVisible.set(!0),this._setDetailsVisible(!0),this.showDetails(!1))}showDetails(I){this._pendingShowDetails.value=L.runAtThisOrScheduleAtNextAnimationFrame(()=>{this._pendingShowDetails.clear(),this._details.show(),I?this._details.widget.renderLoading():this._details.widget.renderItem(this._list.getFocusedElements()[0],this._explainMode),this._positionDetails(),this.editor.focus(),this.element.domNode.classList.add("shows-details")})}toggleExplainMode(){this._list.getFocusedElements()[0]&&(this._explainMode=!this._explainMode,this._isDetailsVisible()?this.showDetails(!1):this.toggleDetails())}resetPersistedSize(){this._persistedSize.reset()}hideWidget(){var I;this._pendingLayout.clear(),this._pendingShowDetails.clear(),(I=this._loadingTimeout)===null||I===void 0||I.dispose(),this._setState(0),this._onDidHide.fire(this),this.element.clearSashHoverState();const T=this._persistedSize.restore(),P=Math.ceil(this.getLayoutInfo().itemHeight*4.3);T&&T.height<P&&this._persistedSize.store(T.with(void 0,P))}isFrozen(){return this._state===4}_afterRender(I){if(I===null){this._isDetailsVisible()&&this._details.hide();return}this._state===2||this._state===1||(this._isDetailsVisible()&&this._details.show(),this._positionDetails())}_layout(I){var T,P,A;if(!this.editor.hasModel()||!this.editor.getDomNode())return;const M=L.getClientArea(document.body),N=this.getLayoutInfo();I||(I=N.defaultSize);let R=I.height,F=I.width;if(this._status.element.style.height=`${N.itemHeight}px`,this._state===2||this._state===1)R=N.itemHeight+N.borderHeight,F=N.defaultSize.width/2,this.element.enableSashes(!1,!1,!1,!1),this.element.minSize=this.element.maxSize=new L.Dimension(F,R),this._contentWidget.setPreference(2);else{const x=M.width-N.borderHeight-2*N.horizontalPadding;F>x&&(F=x);const W=this._completionModel?this._completionModel.stats.pLabelLen*N.typicalHalfwidthCharacterWidth:F,z=N.statusBarHeight+this._list.contentHeight+N.borderHeight,U=N.itemHeight+N.statusBarHeight,O=L.getDomNodePagePosition(this.editor.getDomNode()),G=this.editor.getScrolledVisiblePosition(this.editor.getPosition()),Q=O.top+G.top+G.height,re=Math.min(M.height-Q-N.verticalPadding,z),oe=O.top+G.top-N.verticalPadding,te=Math.min(oe,z);let H=Math.min(Math.max(te,re)+N.borderHeight,z);R===((T=this._cappedHeight)===null||T===void 0?void 0:T.capped)&&(R=this._cappedHeight.wanted),R<U&&(R=U),R>H&&(R=H);const B=150;R>re||this._forceRenderingAbove&&oe>B?(this._contentWidget.setPreference(1),this.element.enableSashes(!0,!0,!1,!1),H=te):(this._contentWidget.setPreference(2),this.element.enableSashes(!1,!0,!0,!1),H=re),this.element.preferredSize=new L.Dimension(W,N.defaultSize.height),this.element.maxSize=new L.Dimension(x,H),this.element.minSize=new L.Dimension(220,U),this._cappedHeight=R===z?{wanted:(A=(P=this._cappedHeight)===null||P===void 0?void 0:P.wanted)!==null&&A!==void 0?A:I.height,capped:R}:void 0}this._resize(F,R)}_resize(I,T){const{width:P,height:A}=this.element.maxSize;I=Math.min(P,I),T=Math.min(A,T);const{statusBarHeight:M}=this.getLayoutInfo();this._list.layout(T-M,I),this._listElement.style.height=`${T-M}px`,this.element.layout(T,I),this._contentWidget.layout(),this._positionDetails()}_positionDetails(){var I;this._isDetailsVisible()&&this._details.placeAtAnchor(this.element.domNode,((I=this._contentWidget.getPosition())===null||I===void 0?void 0:I.preference[0])===2)}getLayoutInfo(){const I=this.editor.getOption(48),T=(0,_.clamp)(this.editor.getOption(117)||I.lineHeight,8,1e3),P=!this.editor.getOption(115).showStatusBar||this._state===2||this._state===1?0:T,A=this._details.widget.borderWidth,M=2*A;return{itemHeight:T,statusBarHeight:P,borderWidth:A,borderHeight:M,typicalHalfwidthCharacterWidth:I.typicalHalfwidthCharacterWidth,verticalPadding:22,horizontalPadding:14,defaultSize:new L.Dimension(430,P+12*T+M)}}_isDetailsVisible(){return this._storageService.getBoolean("expandSuggestionDocs",0,!1)}_setDetailsVisible(I){this._storageService.store("expandSuggestionDocs",I,0,0)}forceRenderingAbove(){this._forceRenderingAbove||(this._forceRenderingAbove=!0,this._layout(this._persistedSize.restore()))}stopForceRenderingAbove(){this._forceRenderingAbove=!1}};b.LOADING_MESSAGE=t.localize(9,null),b.NO_SUGGESTIONS_MESSAGE=t.localize(10,null),e.SuggestWidget=b=Ne([ge(1,r.IStorageService),ge(2,i.IContextKeyService),ge(3,n.IThemeService),ge(4,o.IInstantiationService)],b);class w{constructor(I,T){this._widget=I,this._editor=T,this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._preferenceLocked=!1,this._added=!1,this._hidden=!1}dispose(){this._added&&(this._added=!1,this._editor.removeContentWidget(this))}getId(){return"editor.widget.suggestWidget"}getDomNode(){return this._widget.element.domNode}show(){this._hidden=!1,this._added||(this._added=!0,this._editor.addContentWidget(this))}hide(){this._hidden||(this._hidden=!0,this.layout())}layout(){this._editor.layoutContentWidget(this)}getPosition(){return this._hidden||!this._position||!this._preference?null:{position:this._position,preference:[this._preference]}}beforeRender(){const{height:I,width:T}=this._widget.element.size,{borderWidth:P,horizontalPadding:A}=this._widget.getLayoutInfo();return new L.Dimension(T+2*P+A,I+2*P)}afterRender(I){this._widget._afterRender(I)}setPreference(I){this._preferenceLocked||(this._preference=I)}lockPreference(){this._preferenceLocked=!0}unlockPreference(){this._preferenceLocked=!1}setPosition(I){this._position=I}}e.SuggestContentWidget=w}),define(X[363],ee([1,0,47,39,29,701,33,23,461]),function(q,e,L,k,y,D,S,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getSelectionHighlightDecorationOptions=e.getHighlightDecorationOptions=void 0;const _=(0,S.registerColor)("editor.wordHighlightBackground",{dark:"#575757B8",light:"#57575740",hcDark:null,hcLight:null},D.localize(0,null),!0);(0,S.registerColor)("editor.wordHighlightStrongBackground",{dark:"#004972B8",light:"#0e639c40",hcDark:null,hcLight:null},D.localize(1,null),!0),(0,S.registerColor)("editor.wordHighlightTextBackground",{light:_,dark:_,hcDark:_,hcLight:_},D.localize(2,null),!0);const f=(0,S.registerColor)("editor.wordHighlightBorder",{light:null,dark:null,hcDark:S.activeContrastBorder,hcLight:S.activeContrastBorder},D.localize(3,null));(0,S.registerColor)("editor.wordHighlightStrongBorder",{light:null,dark:null,hcDark:S.activeContrastBorder,hcLight:S.activeContrastBorder},D.localize(4,null)),(0,S.registerColor)("editor.wordHighlightTextBorder",{light:f,dark:f,hcDark:f,hcLight:f},D.localize(5,null));const p=(0,S.registerColor)("editorOverviewRuler.wordHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hcDark:"#A0A0A0CC",hcLight:"#A0A0A0CC"},D.localize(6,null),!0),s=(0,S.registerColor)("editorOverviewRuler.wordHighlightStrongForeground",{dark:"#C0A0C0CC",light:"#C0A0C0CC",hcDark:"#C0A0C0CC",hcLight:"#C0A0C0CC"},D.localize(7,null),!0),t=(0,S.registerColor)("editorOverviewRuler.wordHighlightTextForeground",{dark:S.overviewRulerSelectionHighlightForeground,light:S.overviewRulerSelectionHighlightForeground,hcDark:S.overviewRulerSelectionHighlightForeground,hcLight:S.overviewRulerSelectionHighlightForeground},D.localize(8,null),!0),i=k.ModelDecorationOptions.register({description:"word-highlight-strong",stickiness:1,className:"wordHighlightStrong",overviewRuler:{color:(0,m.themeColorFromId)(s),position:L.OverviewRulerLane.Center},minimap:{color:(0,m.themeColorFromId)(S.minimapSelectionOccurrenceHighlight),position:L.MinimapPosition.Inline}}),o=k.ModelDecorationOptions.register({description:"word-highlight-text",stickiness:1,className:"wordHighlightText",overviewRuler:{color:(0,m.themeColorFromId)(t),position:L.OverviewRulerLane.Center},minimap:{color:(0,m.themeColorFromId)(S.minimapSelectionOccurrenceHighlight),position:L.MinimapPosition.Inline}}),r=k.ModelDecorationOptions.register({description:"selection-highlight-overview",stickiness:1,className:"selectionHighlight",overviewRuler:{color:(0,m.themeColorFromId)(S.overviewRulerSelectionHighlightForeground),position:L.OverviewRulerLane.Center},minimap:{color:(0,m.themeColorFromId)(S.minimapSelectionOccurrenceHighlight),position:L.MinimapPosition.Inline}}),d=k.ModelDecorationOptions.register({description:"selection-highlight",stickiness:1,className:"selectionHighlight"}),h=k.ModelDecorationOptions.register({description:"word-highlight",stickiness:1,className:"wordHighlight",overviewRuler:{color:(0,m.themeColorFromId)(p),position:L.OverviewRulerLane.Center},minimap:{color:(0,m.themeColorFromId)(S.minimapSelectionOccurrenceHighlight),position:L.MinimapPosition.Inline}});function n(a){return a===y.DocumentHighlightKind.Write?i:a===y.DocumentHighlightKind.Text?o:h}e.getHighlightDecorationOptions=n;function c(a){return a?d:r}e.getSelectionHighlightDecorationOptions=c,(0,m.registerThemingParticipant)((a,l)=>{const u=a.getColor(S.editorSelectionHighlight);u&&l.addRule(`.monaco-editor .selectionHighlight { background-color: ${u.transparent(.5)}; }`)})}),define(X[885],ee([1,0,54,14,62,2,15,204,5,24,22,360,677,31,13,19,363,8]),function(q,e,L,k,y,D,S,m,_,f,p,s,t,i,o,r,d,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FocusPreviousCursor=e.FocusNextCursor=e.SelectionHighlighter=e.CompatChangeAll=e.SelectHighlightsAction=e.MoveSelectionToPreviousFindMatchAction=e.MoveSelectionToNextFindMatchAction=e.AddSelectionToPreviousFindMatchAction=e.AddSelectionToNextFindMatchAction=e.MultiCursorSelectionControllerAction=e.MultiCursorSelectionController=e.MultiCursorSession=e.MultiCursorSessionResult=e.InsertCursorBelow=e.InsertCursorAbove=void 0;function n(U,O){const G=O.filter(Q=>!U.find(re=>re.equals(Q)));if(G.length>=1){const Q=G.map(oe=>`line ${oe.viewState.position.lineNumber} column ${oe.viewState.position.column}`).join(", "),re=G.length===1?t.localize(0,null,Q):t.localize(1,null,Q);(0,L.status)(re)}}class c extends S.EditorAction{constructor(){super({id:"editor.action.insertCursorAbove",label:t.localize(2,null),alias:"Add Cursor Above",precondition:void 0,kbOpts:{kbExpr:p.EditorContextKeys.editorTextFocus,primary:2576,linux:{primary:1552,secondary:[3088]},weight:100},menuOpts:{menuId:i.MenuId.MenubarSelectionMenu,group:"3_multi",title:t.localize(3,null),order:2}})}run(O,G,Q){if(!G.hasModel())return;let re=!0;Q&&Q.logicalLine===!1&&(re=!1);const oe=G._getViewModel();if(oe.cursorConfig.readOnly)return;oe.model.pushStackElement();const te=oe.getCursorStates();oe.setCursorStates(Q.source,3,m.CursorMoveCommands.addCursorUp(oe,te,re)),oe.revealTopMostCursor(Q.source),n(te,oe.getCursorStates())}}e.InsertCursorAbove=c;class a extends S.EditorAction{constructor(){super({id:"editor.action.insertCursorBelow",label:t.localize(4,null),alias:"Add Cursor Below",precondition:void 0,kbOpts:{kbExpr:p.EditorContextKeys.editorTextFocus,primary:2578,linux:{primary:1554,secondary:[3090]},weight:100},menuOpts:{menuId:i.MenuId.MenubarSelectionMenu,group:"3_multi",title:t.localize(5,null),order:3}})}run(O,G,Q){if(!G.hasModel())return;let re=!0;Q&&Q.logicalLine===!1&&(re=!1);const oe=G._getViewModel();if(oe.cursorConfig.readOnly)return;oe.model.pushStackElement();const te=oe.getCursorStates();oe.setCursorStates(Q.source,3,m.CursorMoveCommands.addCursorDown(oe,te,re)),oe.revealBottomMostCursor(Q.source),n(te,oe.getCursorStates())}}e.InsertCursorBelow=a;class l extends S.EditorAction{constructor(){super({id:"editor.action.insertCursorAtEndOfEachLineSelected",label:t.localize(6,null),alias:"Add Cursors to Line Ends",precondition:void 0,kbOpts:{kbExpr:p.EditorContextKeys.editorTextFocus,primary:1575,weight:100},menuOpts:{menuId:i.MenuId.MenubarSelectionMenu,group:"3_multi",title:t.localize(7,null),order:4}})}getCursorsForSelection(O,G,Q){if(!O.isEmpty()){for(let re=O.startLineNumber;re<O.endLineNumber;re++){const oe=G.getLineMaxColumn(re);Q.push(new f.Selection(re,oe,re,oe))}O.endColumn>1&&Q.push(new f.Selection(O.endLineNumber,O.endColumn,O.endLineNumber,O.endColumn))}}run(O,G){if(!G.hasModel())return;const Q=G.getModel(),re=G.getSelections(),oe=G._getViewModel(),te=oe.getCursorStates(),H=[];re.forEach(B=>this.getCursorsForSelection(B,Q,H)),H.length>0&&G.setSelections(H),n(te,oe.getCursorStates())}}class u extends S.EditorAction{constructor(){super({id:"editor.action.addCursorsToBottom",label:t.localize(8,null),alias:"Add Cursors To Bottom",precondition:void 0})}run(O,G){if(!G.hasModel())return;const Q=G.getSelections(),re=G.getModel().getLineCount(),oe=[];for(let B=Q[0].startLineNumber;B<=re;B++)oe.push(new f.Selection(B,Q[0].startColumn,B,Q[0].endColumn));const te=G._getViewModel(),H=te.getCursorStates();oe.length>0&&G.setSelections(oe),n(H,te.getCursorStates())}}class C extends S.EditorAction{constructor(){super({id:"editor.action.addCursorsToTop",label:t.localize(9,null),alias:"Add Cursors To Top",precondition:void 0})}run(O,G){if(!G.hasModel())return;const Q=G.getSelections(),re=[];for(let H=Q[0].startLineNumber;H>=1;H--)re.push(new f.Selection(H,Q[0].startColumn,H,Q[0].endColumn));const oe=G._getViewModel(),te=oe.getCursorStates();re.length>0&&G.setSelections(re),n(te,oe.getCursorStates())}}class g{constructor(O,G,Q){this.selections=O,this.revealRange=G,this.revealScrollType=Q}}e.MultiCursorSessionResult=g;class v{static create(O,G){if(!O.hasModel())return null;const Q=G.getState();if(!O.hasTextFocus()&&Q.isRevealed&&Q.searchString.length>0)return new v(O,G,!1,Q.searchString,Q.wholeWord,Q.matchCase,null);let re=!1,oe,te;const H=O.getSelections();H.length===1&&H[0].isEmpty()?(re=!0,oe=!0,te=!0):(oe=Q.wholeWord,te=Q.matchCase);const B=O.getSelection();let K,Z=null;if(B.isEmpty()){const J=O.getConfiguredWordAtPosition(B.getStartPosition());if(!J)return null;K=J.word,Z=new f.Selection(B.startLineNumber,J.startColumn,B.startLineNumber,J.endColumn)}else K=O.getModel().getValueInRange(B).replace(/\r\n/g,`
`);return new v(O,G,re,K,oe,te,Z)}constructor(O,G,Q,re,oe,te,H){this._editor=O,this.findController=G,this.isDisconnectedFromFindController=Q,this.searchText=re,this.wholeWord=oe,this.matchCase=te,this.currentMatch=H}addSelectionToNextFindMatch(){if(!this._editor.hasModel())return null;const O=this._getNextMatch();if(!O)return null;const G=this._editor.getSelections();return new g(G.concat(O),O,0)}moveSelectionToNextFindMatch(){if(!this._editor.hasModel())return null;const O=this._getNextMatch();if(!O)return null;const G=this._editor.getSelections();return new g(G.slice(0,G.length-1).concat(O),O,0)}_getNextMatch(){if(!this._editor.hasModel())return null;if(this.currentMatch){const re=this.currentMatch;return this.currentMatch=null,re}this.findController.highlightFindOptions();const O=this._editor.getSelections(),G=O[O.length-1],Q=this._editor.getModel().findNextMatch(this.searchText,G.getEndPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(127):null,!1);return Q?new f.Selection(Q.range.startLineNumber,Q.range.startColumn,Q.range.endLineNumber,Q.range.endColumn):null}addSelectionToPreviousFindMatch(){if(!this._editor.hasModel())return null;const O=this._getPreviousMatch();if(!O)return null;const G=this._editor.getSelections();return new g(G.concat(O),O,0)}moveSelectionToPreviousFindMatch(){if(!this._editor.hasModel())return null;const O=this._getPreviousMatch();if(!O)return null;const G=this._editor.getSelections();return new g(G.slice(0,G.length-1).concat(O),O,0)}_getPreviousMatch(){if(!this._editor.hasModel())return null;if(this.currentMatch){const re=this.currentMatch;return this.currentMatch=null,re}this.findController.highlightFindOptions();const O=this._editor.getSelections(),G=O[O.length-1],Q=this._editor.getModel().findPreviousMatch(this.searchText,G.getStartPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(127):null,!1);return Q?new f.Selection(Q.range.startLineNumber,Q.range.startColumn,Q.range.endLineNumber,Q.range.endColumn):null}selectAll(O){if(!this._editor.hasModel())return[];this.findController.highlightFindOptions();const G=this._editor.getModel();return O?G.findMatches(this.searchText,O,!1,this.matchCase,this.wholeWord?this._editor.getOption(127):null,!1,1073741824):G.findMatches(this.searchText,!0,!1,this.matchCase,this.wholeWord?this._editor.getOption(127):null,!1,1073741824)}}e.MultiCursorSession=v;class b extends D.Disposable{static get(O){return O.getContribution(b.ID)}constructor(O){super(),this._sessionDispose=this._register(new D.DisposableStore),this._editor=O,this._ignoreSelectionChange=!1,this._session=null}dispose(){this._endSession(),super.dispose()}_beginSessionIfNeeded(O){if(!this._session){const G=v.create(this._editor,O);if(!G)return;this._session=G;const Q={searchString:this._session.searchText};this._session.isDisconnectedFromFindController&&(Q.wholeWordOverride=1,Q.matchCaseOverride=1,Q.isRegexOverride=2),O.getState().change(Q,!1),this._sessionDispose.add(this._editor.onDidChangeCursorSelection(re=>{this._ignoreSelectionChange||this._endSession()})),this._sessionDispose.add(this._editor.onDidBlurEditorText(()=>{this._endSession()})),this._sessionDispose.add(O.getState().onFindReplaceStateChange(re=>{(re.matchCase||re.wholeWord)&&this._endSession()}))}}_endSession(){if(this._sessionDispose.clear(),this._session&&this._session.isDisconnectedFromFindController){const O={wholeWordOverride:0,matchCaseOverride:0,isRegexOverride:0};this._session.findController.getState().change(O,!1)}this._session=null}_setSelections(O){this._ignoreSelectionChange=!0,this._editor.setSelections(O),this._ignoreSelectionChange=!1}_expandEmptyToWord(O,G){if(!G.isEmpty())return G;const Q=this._editor.getConfiguredWordAtPosition(G.getStartPosition());return Q?new f.Selection(G.startLineNumber,Q.startColumn,G.startLineNumber,Q.endColumn):G}_applySessionResult(O){O&&(this._setSelections(O.selections),O.revealRange&&this._editor.revealRangeInCenterIfOutsideViewport(O.revealRange,O.revealScrollType))}getSession(O){return this._session}addSelectionToNextFindMatch(O){if(this._editor.hasModel()){if(!this._session){const G=this._editor.getSelections();if(G.length>1){const re=O.getState().matchCase;if(!F(this._editor.getModel(),G,re)){const te=this._editor.getModel(),H=[];for(let B=0,K=G.length;B<K;B++)H[B]=this._expandEmptyToWord(te,G[B]);this._editor.setSelections(H);return}}}this._beginSessionIfNeeded(O),this._session&&this._applySessionResult(this._session.addSelectionToNextFindMatch())}}addSelectionToPreviousFindMatch(O){this._beginSessionIfNeeded(O),this._session&&this._applySessionResult(this._session.addSelectionToPreviousFindMatch())}moveSelectionToNextFindMatch(O){this._beginSessionIfNeeded(O),this._session&&this._applySessionResult(this._session.moveSelectionToNextFindMatch())}moveSelectionToPreviousFindMatch(O){this._beginSessionIfNeeded(O),this._session&&this._applySessionResult(this._session.moveSelectionToPreviousFindMatch())}selectAll(O){if(!this._editor.hasModel())return;let G=null;const Q=O.getState();if(Q.isRevealed&&Q.searchString.length>0&&Q.isRegex){const re=this._editor.getModel();Q.searchScope?G=re.findMatches(Q.searchString,Q.searchScope,Q.isRegex,Q.matchCase,Q.wholeWord?this._editor.getOption(127):null,!1,1073741824):G=re.findMatches(Q.searchString,!0,Q.isRegex,Q.matchCase,Q.wholeWord?this._editor.getOption(127):null,!1,1073741824)}else{if(this._beginSessionIfNeeded(O),!this._session)return;G=this._session.selectAll(Q.searchScope)}if(G.length>0){const re=this._editor.getSelection();for(let oe=0,te=G.length;oe<te;oe++){const H=G[oe];if(H.range.intersectRanges(re)){G[oe]=G[0],G[0]=H;break}}this._setSelections(G.map(oe=>new f.Selection(oe.range.startLineNumber,oe.range.startColumn,oe.range.endLineNumber,oe.range.endColumn)))}}}e.MultiCursorSelectionController=b,b.ID="editor.contrib.multiCursorController";class w extends S.EditorAction{run(O,G){const Q=b.get(G);if(!Q)return;const re=G._getViewModel();if(re){const oe=re.getCursorStates(),te=s.CommonFindController.get(G);if(te)this._run(Q,te);else{const H=O.get(h.IInstantiationService).createInstance(s.CommonFindController,G);this._run(Q,H),H.dispose()}n(oe,re.getCursorStates())}}}e.MultiCursorSelectionControllerAction=w;class E extends w{constructor(){super({id:"editor.action.addSelectionToNextFindMatch",label:t.localize(10,null),alias:"Add Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:p.EditorContextKeys.focus,primary:2082,weight:100},menuOpts:{menuId:i.MenuId.MenubarSelectionMenu,group:"3_multi",title:t.localize(11,null),order:5}})}_run(O,G){O.addSelectionToNextFindMatch(G)}}e.AddSelectionToNextFindMatchAction=E;class I extends w{constructor(){super({id:"editor.action.addSelectionToPreviousFindMatch",label:t.localize(12,null),alias:"Add Selection To Previous Find Match",precondition:void 0,menuOpts:{menuId:i.MenuId.MenubarSelectionMenu,group:"3_multi",title:t.localize(13,null),order:6}})}_run(O,G){O.addSelectionToPreviousFindMatch(G)}}e.AddSelectionToPreviousFindMatchAction=I;class T extends w{constructor(){super({id:"editor.action.moveSelectionToNextFindMatch",label:t.localize(14,null),alias:"Move Last Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:p.EditorContextKeys.focus,primary:(0,y.KeyChord)(2089,2082),weight:100}})}_run(O,G){O.moveSelectionToNextFindMatch(G)}}e.MoveSelectionToNextFindMatchAction=T;class P extends w{constructor(){super({id:"editor.action.moveSelectionToPreviousFindMatch",label:t.localize(15,null),alias:"Move Last Selection To Previous Find Match",precondition:void 0})}_run(O,G){O.moveSelectionToPreviousFindMatch(G)}}e.MoveSelectionToPreviousFindMatchAction=P;class A extends w{constructor(){super({id:"editor.action.selectHighlights",label:t.localize(16,null),alias:"Select All Occurrences of Find Match",precondition:void 0,kbOpts:{kbExpr:p.EditorContextKeys.focus,primary:3114,weight:100},menuOpts:{menuId:i.MenuId.MenubarSelectionMenu,group:"3_multi",title:t.localize(17,null),order:7}})}_run(O,G){O.selectAll(G)}}e.SelectHighlightsAction=A;class M extends w{constructor(){super({id:"editor.action.changeAll",label:t.localize(18,null),alias:"Change All Occurrences",precondition:o.ContextKeyExpr.and(p.EditorContextKeys.writable,p.EditorContextKeys.editorTextFocus),kbOpts:{kbExpr:p.EditorContextKeys.editorTextFocus,primary:2108,weight:100},contextMenuOpts:{group:"1_modification",order:1.2}})}_run(O,G){O.selectAll(G)}}e.CompatChangeAll=M;class N{constructor(O,G,Q,re,oe){this._model=O,this._searchText=G,this._matchCase=Q,this._wordSeparators=re,this._modelVersionId=this._model.getVersionId(),this._cachedFindMatches=null,oe&&this._model===oe._model&&this._searchText===oe._searchText&&this._matchCase===oe._matchCase&&this._wordSeparators===oe._wordSeparators&&this._modelVersionId===oe._modelVersionId&&(this._cachedFindMatches=oe._cachedFindMatches)}findMatches(){return this._cachedFindMatches===null&&(this._cachedFindMatches=this._model.findMatches(this._searchText,!0,!1,this._matchCase,this._wordSeparators,!1).map(O=>O.range),this._cachedFindMatches.sort(_.Range.compareRangesUsingStarts)),this._cachedFindMatches}}let R=e.SelectionHighlighter=class on extends D.Disposable{constructor(O,G){super(),this._languageFeaturesService=G,this.editor=O,this._isEnabled=O.getOption(105),this._decorations=O.createDecorationsCollection(),this.updateSoon=this._register(new k.RunOnceScheduler(()=>this._update(),300)),this.state=null,this._register(O.onDidChangeConfiguration(re=>{this._isEnabled=O.getOption(105)})),this._register(O.onDidChangeCursorSelection(re=>{this._isEnabled&&(re.selection.isEmpty()?re.reason===3?(this.state&&this._setState(null),this.updateSoon.schedule()):this._setState(null):this._update())})),this._register(O.onDidChangeModel(re=>{this._setState(null)})),this._register(O.onDidChangeModelContent(re=>{this._isEnabled&&this.updateSoon.schedule()}));const Q=s.CommonFindController.get(O);Q&&this._register(Q.getState().onFindReplaceStateChange(re=>{this._update()})),this.updateSoon.schedule()}_update(){this._setState(on._createState(this.state,this._isEnabled,this.editor))}static _createState(O,G,Q){if(!G||!Q.hasModel())return null;const re=Q.getSelection();if(re.startLineNumber!==re.endLineNumber)return null;const oe=b.get(Q);if(!oe)return null;const te=s.CommonFindController.get(Q);if(!te)return null;let H=oe.getSession(te);if(!H){const Z=Q.getSelections();if(Z.length>1){const ne=te.getState().matchCase;if(!F(Q.getModel(),Z,ne))return null}H=v.create(Q,te)}if(!H||H.currentMatch||/^[ \t]+$/.test(H.searchText)||H.searchText.length>200)return null;const B=te.getState(),K=B.matchCase;if(B.isRevealed){let Z=B.searchString;K||(Z=Z.toLowerCase());let J=H.searchText;if(K||(J=J.toLowerCase()),Z===J&&H.matchCase===B.matchCase&&H.wholeWord===B.wholeWord&&!B.isRegex)return null}return new N(Q.getModel(),H.searchText,H.matchCase,H.wholeWord?Q.getOption(127):null,O)}_setState(O){if(this.state=O,!this.state){this._decorations.clear();return}if(!this.editor.hasModel())return;const G=this.editor.getModel();if(G.isTooLargeForTokenization())return;const Q=this.state.findMatches(),re=this.editor.getSelections();re.sort(_.Range.compareRangesUsingStarts);const oe=[];for(let B=0,K=0,Z=Q.length,J=re.length;B<Z;){const ne=Q[B];if(K>=J)oe.push(ne),B++;else{const he=_.Range.compareRangesUsingStarts(ne,re[K]);he<0?((re[K].isEmpty()||!_.Range.areIntersecting(ne,re[K]))&&oe.push(ne),B++):(he>0||B++,K++)}}const te=this._languageFeaturesService.documentHighlightProvider.has(G)&&this.editor.getOption(78),H=oe.map(B=>({range:B,options:(0,d.getSelectionHighlightDecorationOptions)(te)}));this._decorations.set(H)}dispose(){this._setState(null),super.dispose()}};R.ID="editor.contrib.selectionHighlighter",e.SelectionHighlighter=R=Ne([ge(1,r.ILanguageFeaturesService)],R);function F(U,O,G){const Q=x(U,O[0],!G);for(let re=1,oe=O.length;re<oe;re++){const te=O[re];if(te.isEmpty())return!1;const H=x(U,te,!G);if(Q!==H)return!1}return!0}function x(U,O,G){const Q=U.getValueInRange(O);return G?Q.toLowerCase():Q}class W extends S.EditorAction{constructor(){super({id:"editor.action.focusNextCursor",label:t.localize(19,null),description:{description:t.localize(20,null),args:[]},alias:"Focus Next Cursor",precondition:void 0})}run(O,G,Q){if(!G.hasModel())return;const re=G._getViewModel();if(re.cursorConfig.readOnly)return;re.model.pushStackElement();const oe=Array.from(re.getCursorStates()),te=oe.shift();te&&(oe.push(te),re.setCursorStates(Q.source,3,oe),re.revealPrimaryCursor(Q.source,!0),n(oe,re.getCursorStates()))}}e.FocusNextCursor=W;class z extends S.EditorAction{constructor(){super({id:"editor.action.focusPreviousCursor",label:t.localize(21,null),description:{description:t.localize(22,null),args:[]},alias:"Focus Previous Cursor",precondition:void 0})}run(O,G,Q){if(!G.hasModel())return;const re=G._getViewModel();if(re.cursorConfig.readOnly)return;re.model.pushStackElement();const oe=Array.from(re.getCursorStates()),te=oe.pop();te&&(oe.unshift(te),re.setCursorStates(Q.source,3,oe),re.revealPrimaryCursor(Q.source,!0),n(oe,re.getCursorStates()))}}e.FocusPreviousCursor=z,(0,S.registerEditorContribution)(b.ID,b,4),(0,S.registerEditorContribution)(R.ID,R,1),(0,S.registerEditorAction)(c),(0,S.registerEditorAction)(a),(0,S.registerEditorAction)(l),(0,S.registerEditorAction)(E),(0,S.registerEditorAction)(I),(0,S.registerEditorAction)(T),(0,S.registerEditorAction)(P),(0,S.registerEditorAction)(A),(0,S.registerEditorAction)(M),(0,S.registerEditorAction)(u),(0,S.registerEditorAction)(C),(0,S.registerEditorAction)(W),(0,S.registerEditorAction)(z)}),define(X[886],ee([1,0,54,16,14,20,12,2,15,5,22,29,702,13,19,363,50]),function(q,e,L,k,y,D,S,m,_,f,p,s,t,i,o,r,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WordHighlighterContribution=e.getOccurrencesAtPosition=void 0;const h=new i.RawContextKey("hasWordHighlights",!1);function n(I,T,P,A){const M=I.ordered(T);return(0,y.first)(M.map(N=>()=>Promise.resolve(N.provideDocumentHighlights(T,P,A)).then(void 0,S.onUnexpectedExternalError)),k.isNonEmptyArray)}e.getOccurrencesAtPosition=n;class c{constructor(T,P,A){this._model=T,this._selection=P,this._wordSeparators=A,this._wordRange=this._getCurrentWordRange(T,P),this._result=null}get result(){return this._result||(this._result=(0,y.createCancelablePromise)(T=>this._compute(this._model,this._selection,this._wordSeparators,T))),this._result}_getCurrentWordRange(T,P){const A=T.getWordAtPosition(P.getPosition());return A?new f.Range(P.startLineNumber,A.startColumn,P.startLineNumber,A.endColumn):null}isValid(T,P,A){const M=P.startLineNumber,N=P.startColumn,R=P.endColumn,F=this._getCurrentWordRange(T,P);let x=!!(this._wordRange&&this._wordRange.equalsRange(F));for(let W=0,z=A.length;!x&&W<z;W++){const U=A.getRange(W);U&&U.startLineNumber===M&&U.startColumn<=N&&U.endColumn>=R&&(x=!0)}return x}cancel(){this.result.cancel()}}class a extends c{constructor(T,P,A,M){super(T,P,A),this._providers=M}_compute(T,P,A,M){return n(this._providers,T,P.getPosition(),M).then(N=>N||[])}}class l extends c{constructor(T,P,A){super(T,P,A),this._selectionIsEmpty=P.isEmpty()}_compute(T,P,A,M){return(0,y.timeout)(250,M).then(()=>{if(!P.isEmpty())return[];const N=T.getWordAtPosition(P.getPosition());return!N||N.word.length>1e3?[]:T.findMatches(N.word,!0,!1,!0,A,!1).map(F=>({range:F.range,kind:s.DocumentHighlightKind.Text}))})}isValid(T,P,A){const M=P.isEmpty();return this._selectionIsEmpty!==M?!1:super.isValid(T,P,A)}}function u(I,T,P,A){return I.has(T)?new a(T,P,A,I):new l(T,P,A)}(0,_.registerModelAndPositionCommand)("_executeDocumentHighlights",(I,T,P)=>{const A=I.get(o.ILanguageFeaturesService);return n(A.documentHighlightProvider,T,P,D.CancellationToken.None)});class C{constructor(T,P,A,M){this.toUnhook=new m.DisposableStore,this.workerRequestTokenId=0,this.workerRequestCompleted=!1,this.workerRequestValue=[],this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1,this.editor=T,this.providers=P,this.linkedHighlighters=A,this._hasWordHighlights=h.bindTo(M),this._ignorePositionChangeEvent=!1,this.occurrencesHighlight=this.editor.getOption(78),this.model=this.editor.getModel(),this.toUnhook.add(T.onDidChangeCursorPosition(N=>{this._ignorePositionChangeEvent||this.occurrencesHighlight&&this._onPositionChanged(N)})),this.toUnhook.add(T.onDidChangeModelContent(N=>{this._stopAll()})),this.toUnhook.add(T.onDidChangeConfiguration(N=>{const R=this.editor.getOption(78);this.occurrencesHighlight!==R&&(this.occurrencesHighlight=R,this._stopAll())})),this.decorations=this.editor.createDecorationsCollection(),this.workerRequestTokenId=0,this.workerRequest=null,this.workerRequestCompleted=!1,this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1}hasDecorations(){return this.decorations.length>0}restore(){this.occurrencesHighlight&&this._run()}_getSortedHighlights(){return this.decorations.getRanges().sort(f.Range.compareRangesUsingStarts)}moveNext(){const T=this._getSortedHighlights(),A=(T.findIndex(N=>N.containsPosition(this.editor.getPosition()))+1)%T.length,M=T[A];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(M.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(M);const N=this._getWord();if(N){const R=this.editor.getModel().getLineContent(M.startLineNumber);(0,L.alert)(`${R}, ${A+1} of ${T.length} for '${N.word}'`)}}finally{this._ignorePositionChangeEvent=!1}}moveBack(){const T=this._getSortedHighlights(),A=(T.findIndex(N=>N.containsPosition(this.editor.getPosition()))-1+T.length)%T.length,M=T[A];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(M.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(M);const N=this._getWord();if(N){const R=this.editor.getModel().getLineContent(M.startLineNumber);(0,L.alert)(`${R}, ${A+1} of ${T.length} for '${N.word}'`)}}finally{this._ignorePositionChangeEvent=!1}}_removeDecorations(){this.decorations.length>0&&(this.decorations.clear(),this._hasWordHighlights.set(!1))}_stopAll(){this._removeDecorations(),this.renderDecorationsTimer!==-1&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1),this.workerRequest!==null&&(this.workerRequest.cancel(),this.workerRequest=null),this.workerRequestCompleted||(this.workerRequestTokenId++,this.workerRequestCompleted=!0)}_onPositionChanged(T){if(!this.occurrencesHighlight){this._stopAll();return}if(T.reason!==3){this._stopAll();return}this._run()}_getWord(){const T=this.editor.getSelection(),P=T.startLineNumber,A=T.startColumn;return this.model.getWordAtPosition({lineNumber:P,column:A})}_run(){const T=this.editor.getSelection();if(T.startLineNumber!==T.endLineNumber){this._stopAll();return}const P=T.startColumn,A=T.endColumn,M=this._getWord();if(!M||M.startColumn>P||M.endColumn<A){this._stopAll();return}const N=this.workerRequest&&this.workerRequest.isValid(this.model,T,this.decorations);if(this.lastCursorPositionChangeTime=new Date().getTime(),N)this.workerRequestCompleted&&this.renderDecorationsTimer!==-1&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1,this._beginRenderDecorations());else{this._stopAll();const R=++this.workerRequestTokenId;this.workerRequestCompleted=!1,this.workerRequest=u(this.providers,this.model,this.editor.getSelection(),this.editor.getOption(127)),this.workerRequest.result.then(F=>{R===this.workerRequestTokenId&&(this.workerRequestCompleted=!0,this.workerRequestValue=F||[],this._beginRenderDecorations())},S.onUnexpectedError)}}_beginRenderDecorations(){const T=new Date().getTime(),P=this.lastCursorPositionChangeTime+250;T>=P?(this.renderDecorationsTimer=-1,this.renderDecorations()):this.renderDecorationsTimer=setTimeout(()=>{this.renderDecorations()},P-T)}renderDecorations(){this.renderDecorationsTimer=-1;const T=[];for(const P of this.workerRequestValue)P.range&&T.push({range:P.range,options:(0,r.getHighlightDecorationOptions)(P.kind)});this.decorations.set(T),this._hasWordHighlights.set(this.hasDecorations());for(const P of this.linkedHighlighters())P?.editor.getModel()===this.editor.getModel()&&(P._stopAll(),P.decorations.set(T),P._hasWordHighlights.set(P.hasDecorations()))}dispose(){this._stopAll(),this.toUnhook.dispose()}}let g=e.WordHighlighterContribution=class rn extends m.Disposable{static get(T){return T.getContribution(rn.ID)}constructor(T,P,A){super(),this.wordHighlighter=null,this.linkedContributions=new Set;const M=()=>{T.hasModel()&&(this.wordHighlighter=new C(T,A.documentHighlightProvider,()=>d.Iterable.map(this.linkedContributions,N=>N.wordHighlighter),P))};this._register(T.onDidChangeModel(N=>{this.wordHighlighter&&(this.wordHighlighter.dispose(),this.wordHighlighter=null),M()})),M()}saveViewState(){return!!(this.wordHighlighter&&this.wordHighlighter.hasDecorations())}moveNext(){var T;(T=this.wordHighlighter)===null||T===void 0||T.moveNext()}moveBack(){var T;(T=this.wordHighlighter)===null||T===void 0||T.moveBack()}restoreViewState(T){this.wordHighlighter&&T&&this.wordHighlighter.restore()}dispose(){this.wordHighlighter&&(this.wordHighlighter.dispose(),this.wordHighlighter=null),super.dispose()}};g.ID="editor.contrib.wordHighlighter",e.WordHighlighterContribution=g=Ne([ge(1,i.IContextKeyService),ge(2,o.ILanguageFeaturesService)],g);class v extends _.EditorAction{constructor(T,P){super(P),this._isNext=T}run(T,P){const A=g.get(P);A&&(this._isNext?A.moveNext():A.moveBack())}}class b extends v{constructor(){super(!0,{id:"editor.action.wordHighlight.next",label:t.localize(0,null),alias:"Go to Next Symbol Highlight",precondition:h,kbOpts:{kbExpr:p.EditorContextKeys.editorTextFocus,primary:65,weight:100}})}}class w extends v{constructor(){super(!1,{id:"editor.action.wordHighlight.prev",label:t.localize(1,null),alias:"Go to Previous Symbol Highlight",precondition:h,kbOpts:{kbExpr:p.EditorContextKeys.editorTextFocus,primary:1089,weight:100}})}}class E extends _.EditorAction{constructor(){super({id:"editor.action.wordHighlight.trigger",label:t.localize(2,null),alias:"Trigger Symbol Highlight",precondition:h.toNegated(),kbOpts:{kbExpr:p.EditorContextKeys.editorTextFocus,primary:0,weight:100}})}run(T,P,A){const M=g.get(P);M&&M.restoreViewState(!0)}}(0,_.registerEditorContribution)(g.ID,g,0),(0,_.registerEditorAction)(b),(0,_.registerEditorAction)(w),(0,_.registerEditorAction)(E)}),define(X[887],ee([1,0,7,130,36,166,2,46,5,39,462]),function(q,e,L,k,y,D,S,m,_,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ZoneWidget=e.OverlayWidgetDelegate=void 0;const p=new y.Color(new y.RGBA(0,122,204)),s={showArrow:!0,showFrame:!0,className:"",frameColor:p,arrowColor:p,keepEditorSelection:!1},t="vs.editor.contrib.zoneWidget";class i{constructor(n,c,a,l,u,C,g,v){this.id="",this.domNode=n,this.afterLineNumber=c,this.afterColumn=a,this.heightInLines=l,this.showInHiddenAreas=g,this.ordinal=v,this._onDomNodeTop=u,this._onComputedHeight=C}onDomNodeTop(n){this._onDomNodeTop(n)}onComputedHeight(n){this._onComputedHeight(n)}}class o{constructor(n,c){this._id=n,this._domNode=c}getId(){return this._id}getDomNode(){return this._domNode}getPosition(){return null}}e.OverlayWidgetDelegate=o;class r{constructor(n){this._editor=n,this._ruleName=r._IdGenerator.nextId(),this._decorations=this._editor.createDecorationsCollection(),this._color=null,this._height=-1}dispose(){this.hide(),L.removeCSSRulesContainingSelector(this._ruleName)}set color(n){this._color!==n&&(this._color=n,this._updateStyle())}set height(n){this._height!==n&&(this._height=n,this._updateStyle())}_updateStyle(){L.removeCSSRulesContainingSelector(this._ruleName),L.createCSSRule(`.monaco-editor ${this._ruleName}`,`border-style: solid; border-color: transparent; border-bottom-color: ${this._color}; border-width: ${this._height}px; bottom: -${this._height}px; margin-left: -${this._height}px; `)}show(n){n.column===1&&(n={lineNumber:n.lineNumber,column:2}),this._decorations.set([{range:_.Range.fromPositions(n),options:{description:"zone-widget-arrow",className:this._ruleName,stickiness:1}}])}hide(){this._decorations.clear()}}r._IdGenerator=new D.IdGenerator(".arrow-decoration-");class d{constructor(n,c={}){this._arrow=null,this._overlayWidget=null,this._resizeSash=null,this._viewZone=null,this._disposables=new S.DisposableStore,this.container=null,this._isShowing=!1,this.editor=n,this._positionMarkerId=this.editor.createDecorationsCollection(),this.options=m.deepClone(c),m.mixin(this.options,s,!1),this.domNode=document.createElement("div"),this.options.isAccessible||(this.domNode.setAttribute("aria-hidden","true"),this.domNode.setAttribute("role","presentation")),this._disposables.add(this.editor.onDidLayoutChange(a=>{const l=this._getWidth(a);this.domNode.style.width=l+"px",this.domNode.style.left=this._getLeft(a)+"px",this._onWidth(l)}))}dispose(){this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this._viewZone&&this.editor.changeViewZones(n=>{this._viewZone&&n.removeZone(this._viewZone.id),this._viewZone=null}),this._positionMarkerId.clear(),this._disposables.dispose()}create(){this.domNode.classList.add("zone-widget"),this.options.className&&this.domNode.classList.add(this.options.className),this.container=document.createElement("div"),this.container.classList.add("zone-widget-container"),this.domNode.appendChild(this.container),this.options.showArrow&&(this._arrow=new r(this.editor),this._disposables.add(this._arrow)),this._fillContainer(this.container),this._initSash(),this._applyStyles()}style(n){n.frameColor&&(this.options.frameColor=n.frameColor),n.arrowColor&&(this.options.arrowColor=n.arrowColor),this._applyStyles()}_applyStyles(){if(this.container&&this.options.frameColor){const n=this.options.frameColor.toString();this.container.style.borderTopColor=n,this.container.style.borderBottomColor=n}if(this._arrow&&this.options.arrowColor){const n=this.options.arrowColor.toString();this._arrow.color=n}}_getWidth(n){return n.width-n.minimap.minimapWidth-n.verticalScrollbarWidth}_getLeft(n){return n.minimap.minimapWidth>0&&n.minimap.minimapLeft===0?n.minimap.minimapWidth:0}_onViewZoneTop(n){this.domNode.style.top=n+"px"}_onViewZoneHeight(n){var c;if(this.domNode.style.height=`${n}px`,this.container){const a=n-this._decoratingElementsHeight();this.container.style.height=`${a}px`;const l=this.editor.getLayoutInfo();this._doLayout(a,this._getWidth(l))}(c=this._resizeSash)===null||c===void 0||c.layout()}get position(){const n=this._positionMarkerId.getRange(0);if(n)return n.getStartPosition()}show(n,c){const a=_.Range.isIRange(n)?_.Range.lift(n):_.Range.fromPositions(n);this._isShowing=!0,this._showImpl(a,c),this._isShowing=!1,this._positionMarkerId.set([{range:a,options:f.ModelDecorationOptions.EMPTY}])}hide(){var n;this._viewZone&&(this.editor.changeViewZones(c=>{this._viewZone&&c.removeZone(this._viewZone.id)}),this._viewZone=null),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),(n=this._arrow)===null||n===void 0||n.hide(),this._positionMarkerId.clear()}_decoratingElementsHeight(){const n=this.editor.getOption(64);let c=0;if(this.options.showArrow){const a=Math.round(n/3);c+=2*a}if(this.options.showFrame){const a=Math.round(n/9);c+=2*a}return c}_showImpl(n,c){const a=n.getStartPosition(),l=this.editor.getLayoutInfo(),u=this._getWidth(l);this.domNode.style.width=`${u}px`,this.domNode.style.left=this._getLeft(l)+"px";const C=document.createElement("div");C.style.overflow="hidden";const g=this.editor.getOption(64);if(!this.options.allowUnlimitedHeight){const I=Math.max(12,this.editor.getLayoutInfo().height/g*.8);c=Math.min(c,I)}let v=0,b=0;if(this._arrow&&this.options.showArrow&&(v=Math.round(g/3),this._arrow.height=v,this._arrow.show(a)),this.options.showFrame&&(b=Math.round(g/9)),this.editor.changeViewZones(I=>{this._viewZone&&I.removeZone(this._viewZone.id),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this.domNode.style.top="-1000px",this._viewZone=new i(C,a.lineNumber,a.column,c,T=>this._onViewZoneTop(T),T=>this._onViewZoneHeight(T),this.options.showInHiddenAreas,this.options.ordinal),this._viewZone.id=I.addZone(this._viewZone),this._overlayWidget=new o(t+this._viewZone.id,this.domNode),this.editor.addOverlayWidget(this._overlayWidget)}),this.container&&this.options.showFrame){const I=this.options.frameWidth?this.options.frameWidth:b;this.container.style.borderTopWidth=I+"px",this.container.style.borderBottomWidth=I+"px"}const w=c*g-this._decoratingElementsHeight();this.container&&(this.container.style.top=v+"px",this.container.style.height=w+"px",this.container.style.overflow="hidden"),this._doLayout(w,u),this.options.keepEditorSelection||this.editor.setSelection(n);const E=this.editor.getModel();if(E){const I=E.validateRange(new _.Range(n.startLineNumber,1,n.endLineNumber+1,1));this.revealRange(I,I.startLineNumber===E.getLineCount())}}revealRange(n,c){c?this.editor.revealLineNearTop(n.endLineNumber,0):this.editor.revealRange(n,0)}setCssClass(n,c){this.container&&(c&&this.container.classList.remove(c),this.container.classList.add(n))}_onWidth(n){}_doLayout(n,c){}_relayout(n){this._viewZone&&this._viewZone.heightInLines!==n&&this.editor.changeViewZones(c=>{this._viewZone&&(this._viewZone.heightInLines=n,c.layoutZone(this._viewZone.id))})}_initSash(){if(this._resizeSash)return;this._resizeSash=this._disposables.add(new k.Sash(this.domNode,this,{orientation:1})),this.options.isResizeable||(this._resizeSash.state=0);let n;this._disposables.add(this._resizeSash.onDidStart(c=>{this._viewZone&&(n={startY:c.startY,heightInLines:this._viewZone.heightInLines})})),this._disposables.add(this._resizeSash.onDidEnd(()=>{n=void 0})),this._disposables.add(this._resizeSash.onDidChange(c=>{if(n){const a=(c.currentY-n.startY)/this.editor.getOption(64),l=a<0?Math.ceil(a):Math.floor(a),u=n.heightInLines+l;u>5&&u<35&&this._relayout(u)}}))}getHorizontalSashLeft(){return 0}getHorizontalSashTop(){return(this.domNode.style.height===null?0:parseInt(this.domNode.style.height))-this._decoratingElementsHeight()/2}getHorizontalSashWidth(){const n=this.editor.getLayoutInfo();return n.width-n.minimap.minimapWidth}}e.ZoneWidget=d}),define(X[136],ee([1,0,7,67,40,25,27,36,6,46,15,32,164,887,680,162,13,48,8,33,453]),function(q,e,L,k,y,D,S,m,_,f,p,s,t,i,o,r,d,h,n,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.peekViewEditorMatchHighlightBorder=e.peekViewEditorMatchHighlight=e.peekViewResultsMatchHighlight=e.peekViewEditorStickyScrollBackground=e.peekViewEditorGutterBackground=e.peekViewEditorBackground=e.peekViewResultsSelectionForeground=e.peekViewResultsSelectionBackground=e.peekViewResultsFileForeground=e.peekViewResultsMatchForeground=e.peekViewResultsBackground=e.peekViewBorder=e.peekViewTitleInfoForeground=e.peekViewTitleForeground=e.peekViewTitleBackground=e.PeekViewWidget=e.getOuterEditor=e.PeekContext=e.IPeekViewService=void 0,e.IPeekViewService=(0,n.createDecorator)("IPeekViewService"),(0,h.registerSingleton)(e.IPeekViewService,class{constructor(){this._widgets=new Map}addExclusiveWidget(v,b){const w=this._widgets.get(v);w&&(w.listener.dispose(),w.widget.dispose());const E=()=>{const I=this._widgets.get(v);I&&I.widget===b&&(I.listener.dispose(),this._widgets.delete(v))};this._widgets.set(v,{widget:b,listener:b.onDidClose(E)})}},1);var a;(function(v){v.inPeekEditor=new d.RawContextKey("inReferenceSearchEditor",!0,o.localize(0,null)),v.notInPeekEditor=v.inPeekEditor.toNegated()})(a||(e.PeekContext=a={}));let l=class{constructor(b,w){b instanceof t.EmbeddedCodeEditorWidget&&a.inPeekEditor.bindTo(w)}dispose(){}};l.ID="editor.contrib.referenceController",l=Ne([ge(1,d.IContextKeyService)],l),(0,p.registerEditorContribution)(l.ID,l,0);function u(v){const b=v.get(s.ICodeEditorService).getFocusedCodeEditor();return b instanceof t.EmbeddedCodeEditorWidget?b.getParentEditor():b}e.getOuterEditor=u;const C={headerBackgroundColor:m.Color.white,primaryHeadingColor:m.Color.fromHex("#333333"),secondaryHeadingColor:m.Color.fromHex("#6c6c6cb3")};let g=e.PeekViewWidget=class extends i.ZoneWidget{constructor(b,w,E){super(b,w),this.instantiationService=E,this._onDidClose=new _.Emitter,this.onDidClose=this._onDidClose.event,f.mixin(this.options,C,!1)}dispose(){this.disposed||(this.disposed=!0,super.dispose(),this._onDidClose.fire(this))}style(b){const w=this.options;b.headerBackgroundColor&&(w.headerBackgroundColor=b.headerBackgroundColor),b.primaryHeadingColor&&(w.primaryHeadingColor=b.primaryHeadingColor),b.secondaryHeadingColor&&(w.secondaryHeadingColor=b.secondaryHeadingColor),super.style(b)}_applyStyles(){super._applyStyles();const b=this.options;this._headElement&&b.headerBackgroundColor&&(this._headElement.style.backgroundColor=b.headerBackgroundColor.toString()),this._primaryHeading&&b.primaryHeadingColor&&(this._primaryHeading.style.color=b.primaryHeadingColor.toString()),this._secondaryHeading&&b.secondaryHeadingColor&&(this._secondaryHeading.style.color=b.secondaryHeadingColor.toString()),this._bodyElement&&b.frameColor&&(this._bodyElement.style.borderColor=b.frameColor.toString())}_fillContainer(b){this.setCssClass("peekview-widget"),this._headElement=L.$(".head"),this._bodyElement=L.$(".body"),this._fillHead(this._headElement),this._fillBody(this._bodyElement),b.appendChild(this._headElement),b.appendChild(this._bodyElement)}_fillHead(b,w){this._titleElement=L.$(".peekview-title"),this.options.supportOnTitleClick&&(this._titleElement.classList.add("clickable"),L.addStandardDisposableListener(this._titleElement,"click",T=>this._onTitleClick(T))),L.append(this._headElement,this._titleElement),this._fillTitleIcon(this._titleElement),this._primaryHeading=L.$("span.filename"),this._secondaryHeading=L.$("span.dirname"),this._metaHeading=L.$("span.meta"),L.append(this._titleElement,this._primaryHeading,this._secondaryHeading,this._metaHeading);const E=L.$(".peekview-actions");L.append(this._headElement,E);const I=this._getActionBarOptions();this._actionbarWidget=new k.ActionBar(E,I),this._disposables.add(this._actionbarWidget),w||this._actionbarWidget.push(new y.Action("peekview.close",o.localize(1,null),S.ThemeIcon.asClassName(D.Codicon.close),!0,()=>(this.dispose(),Promise.resolve())),{label:!1,icon:!0})}_fillTitleIcon(b){}_getActionBarOptions(){return{actionViewItemProvider:r.createActionViewItem.bind(void 0,this.instantiationService),orientation:0}}_onTitleClick(b){}setTitle(b,w){this._primaryHeading&&this._secondaryHeading&&(this._primaryHeading.innerText=b,this._primaryHeading.setAttribute("title",b),w?this._secondaryHeading.innerText=w:L.clearNode(this._secondaryHeading))}setMetaTitle(b){this._metaHeading&&(b?(this._metaHeading.innerText=b,L.show(this._metaHeading)):L.hide(this._metaHeading))}_doLayout(b,w){if(!this._isShowing&&b<0){this.dispose();return}const E=Math.ceil(this.editor.getOption(64)*1.2),I=Math.round(b-(E+2));this._doLayoutHead(E,w),this._doLayoutBody(I,w)}_doLayoutHead(b,w){this._headElement&&(this._headElement.style.height=`${b}px`,this._headElement.style.lineHeight=this._headElement.style.height)}_doLayoutBody(b,w){this._bodyElement&&(this._bodyElement.style.height=`${b}px`)}};e.PeekViewWidget=g=Ne([ge(2,n.IInstantiationService)],g),e.peekViewTitleBackground=(0,c.registerColor)("peekViewTitle.background",{dark:"#252526",light:"#F3F3F3",hcDark:m.Color.black,hcLight:m.Color.white},o.localize(2,null)),e.peekViewTitleForeground=(0,c.registerColor)("peekViewTitleLabel.foreground",{dark:m.Color.white,light:m.Color.black,hcDark:m.Color.white,hcLight:c.editorForeground},o.localize(3,null)),e.peekViewTitleInfoForeground=(0,c.registerColor)("peekViewTitleDescription.foreground",{dark:"#ccccccb3",light:"#616161",hcDark:"#FFFFFF99",hcLight:"#292929"},o.localize(4,null)),e.peekViewBorder=(0,c.registerColor)("peekView.border",{dark:c.editorInfoForeground,light:c.editorInfoForeground,hcDark:c.contrastBorder,hcLight:c.contrastBorder},o.localize(5,null)),e.peekViewResultsBackground=(0,c.registerColor)("peekViewResult.background",{dark:"#252526",light:"#F3F3F3",hcDark:m.Color.black,hcLight:m.Color.white},o.localize(6,null)),e.peekViewResultsMatchForeground=(0,c.registerColor)("peekViewResult.lineForeground",{dark:"#bbbbbb",light:"#646465",hcDark:m.Color.white,hcLight:c.editorForeground},o.localize(7,null)),e.peekViewResultsFileForeground=(0,c.registerColor)("peekViewResult.fileForeground",{dark:m.Color.white,light:"#1E1E1E",hcDark:m.Color.white,hcLight:c.editorForeground},o.localize(8,null)),e.peekViewResultsSelectionBackground=(0,c.registerColor)("peekViewResult.selectionBackground",{dark:"#3399ff33",light:"#3399ff33",hcDark:null,hcLight:null},o.localize(9,null)),e.peekViewResultsSelectionForeground=(0,c.registerColor)("peekViewResult.selectionForeground",{dark:m.Color.white,light:"#6C6C6C",hcDark:m.Color.white,hcLight:c.editorForeground},o.localize(10,null)),e.peekViewEditorBackground=(0,c.registerColor)("peekViewEditor.background",{dark:"#001F33",light:"#F2F8FC",hcDark:m.Color.black,hcLight:m.Color.white},o.localize(11,null)),e.peekViewEditorGutterBackground=(0,c.registerColor)("peekViewEditorGutter.background",{dark:e.peekViewEditorBackground,light:e.peekViewEditorBackground,hcDark:e.peekViewEditorBackground,hcLight:e.peekViewEditorBackground},o.localize(12,null)),e.peekViewEditorStickyScrollBackground=(0,c.registerColor)("peekViewEditorStickyScroll.background",{dark:e.peekViewEditorBackground,light:e.peekViewEditorBackground,hcDark:e.peekViewEditorBackground,hcLight:e.peekViewEditorBackground},o.localize(13,null)),e.peekViewResultsMatchHighlight=(0,c.registerColor)("peekViewResult.matchHighlightBackground",{dark:"#ea5c004d",light:"#ea5c004d",hcDark:null,hcLight:null},o.localize(14,null)),e.peekViewEditorMatchHighlight=(0,c.registerColor)("peekViewEditor.matchHighlightBackground",{dark:"#ff8f0099",light:"#f5d802de",hcDark:null,hcLight:null},o.localize(15,null)),e.peekViewEditorMatchHighlightBorder=(0,c.registerColor)("peekViewEditor.matchHighlightBorder",{dark:null,light:null,hcDark:c.activeContrastBorder,hcLight:c.activeContrastBorder},o.localize(16,null))}),define(X[888],ee([1,0,7,74,16,36,6,2,43,9,5,136,654,162,31,13,8,159,97,56,776,33,23,440]),function(q,e,L,k,y,D,S,m,_,f,p,s,t,i,o,r,d,h,n,c,a,l,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarkerNavigationWidget=void 0;class C{constructor(F,x,W,z,U){this._openerService=z,this._labelService=U,this._lines=0,this._longestLineLength=0,this._relatedDiagnostics=new WeakMap,this._disposables=new m.DisposableStore,this._editor=x;const O=document.createElement("div");O.className="descriptioncontainer",this._messageBlock=document.createElement("div"),this._messageBlock.classList.add("message"),this._messageBlock.setAttribute("aria-live","assertive"),this._messageBlock.setAttribute("role","alert"),O.appendChild(this._messageBlock),this._relatedBlock=document.createElement("div"),O.appendChild(this._relatedBlock),this._disposables.add(L.addStandardDisposableListener(this._relatedBlock,"click",G=>{G.preventDefault();const Q=this._relatedDiagnostics.get(G.target);Q&&W(Q)})),this._scrollable=new k.ScrollableElement(O,{horizontal:1,vertical:1,useShadows:!1,horizontalScrollbarSize:6,verticalScrollbarSize:6}),F.appendChild(this._scrollable.getDomNode()),this._disposables.add(this._scrollable.onScroll(G=>{O.style.left=`-${G.scrollLeft}px`,O.style.top=`-${G.scrollTop}px`})),this._disposables.add(this._scrollable)}dispose(){(0,m.dispose)(this._disposables)}update(F){const{source:x,message:W,relatedInformation:z,code:U}=F;let O=(x?.length||0)+2;U&&(typeof U=="string"?O+=U.length:O+=U.value.length);const G=(0,f.splitLines)(W);this._lines=G.length,this._longestLineLength=0;for(const H of G)this._longestLineLength=Math.max(H.length+O,this._longestLineLength);L.clearNode(this._messageBlock),this._messageBlock.setAttribute("aria-label",this.getAriaLabel(F)),this._editor.applyFontInfo(this._messageBlock);let Q=this._messageBlock;for(const H of G)Q=document.createElement("div"),Q.innerText=H,H===""&&(Q.style.height=this._messageBlock.style.lineHeight),this._messageBlock.appendChild(Q);if(x||U){const H=document.createElement("span");if(H.classList.add("details"),Q.appendChild(H),x){const B=document.createElement("span");B.innerText=x,B.classList.add("source"),H.appendChild(B)}if(U)if(typeof U=="string"){const B=document.createElement("span");B.innerText=`(${U})`,B.classList.add("code"),H.appendChild(B)}else{this._codeLink=L.$("a.code-link"),this._codeLink.setAttribute("href",`${U.target.toString()}`),this._codeLink.onclick=K=>{this._openerService.open(U.target,{allowCommands:!0}),K.preventDefault(),K.stopPropagation()};const B=L.append(this._codeLink,L.$("span"));B.innerText=U.value,H.appendChild(this._codeLink)}}if(L.clearNode(this._relatedBlock),this._editor.applyFontInfo(this._relatedBlock),(0,y.isNonEmptyArray)(z)){const H=this._relatedBlock.appendChild(document.createElement("div"));H.style.paddingTop=`${Math.floor(this._editor.getOption(64)*.66)}px`,this._lines+=1;for(const B of z){const K=document.createElement("div"),Z=document.createElement("a");Z.classList.add("filename"),Z.innerText=`${this._labelService.getUriBasenameLabel(B.resource)}(${B.startLineNumber}, ${B.startColumn}): `,Z.title=this._labelService.getUriLabel(B.resource),this._relatedDiagnostics.set(Z,B);const J=document.createElement("span");J.innerText=B.message,K.appendChild(Z),K.appendChild(J),this._lines+=1,H.appendChild(K)}}const re=this._editor.getOption(48),oe=Math.ceil(re.typicalFullwidthCharacterWidth*this._longestLineLength*.75),te=re.lineHeight*this._lines;this._scrollable.setScrollDimensions({scrollWidth:oe,scrollHeight:te})}layout(F,x){this._scrollable.getDomNode().style.height=`${F}px`,this._scrollable.getDomNode().style.width=`${x}px`,this._scrollable.setScrollDimensions({width:x,height:F})}getHeightInLines(){return Math.min(17,this._lines)}getAriaLabel(F){let x="";switch(F.severity){case n.MarkerSeverity.Error:x=t.localize(0,null);break;case n.MarkerSeverity.Warning:x=t.localize(1,null);break;case n.MarkerSeverity.Info:x=t.localize(2,null);break;case n.MarkerSeverity.Hint:x=t.localize(3,null);break}let W=t.localize(4,null,x,F.startLineNumber+":"+F.startColumn);const z=this._editor.getModel();return z&&F.startLineNumber<=z.getLineCount()&&F.startLineNumber>=1&&(W=`${z.getLineContent(F.startLineNumber)}, ${W}`),W}}let g=e.MarkerNavigationWidget=class an extends s.PeekViewWidget{constructor(F,x,W,z,U,O,G){super(F,{showArrow:!0,showFrame:!0,isAccessible:!0,frameWidth:1},U),this._themeService=x,this._openerService=W,this._menuService=z,this._contextKeyService=O,this._labelService=G,this._callOnDispose=new m.DisposableStore,this._onDidSelectRelatedInformation=new S.Emitter,this.onDidSelectRelatedInformation=this._onDidSelectRelatedInformation.event,this._severity=n.MarkerSeverity.Warning,this._backgroundColor=D.Color.white,this._applyTheme(x.getColorTheme()),this._callOnDispose.add(x.onDidColorThemeChange(this._applyTheme.bind(this))),this.create()}_applyTheme(F){this._backgroundColor=F.getColor(N);let x=E,W=I;this._severity===n.MarkerSeverity.Warning?(x=T,W=P):this._severity===n.MarkerSeverity.Info&&(x=A,W=M);const z=F.getColor(x),U=F.getColor(W);this.style({arrowColor:z,frameColor:z,headerBackgroundColor:U,primaryHeadingColor:F.getColor(s.peekViewTitleForeground),secondaryHeadingColor:F.getColor(s.peekViewTitleInfoForeground)})}_applyStyles(){this._parentContainer&&(this._parentContainer.style.backgroundColor=this._backgroundColor?this._backgroundColor.toString():""),super._applyStyles()}dispose(){this._callOnDispose.dispose(),super.dispose()}_fillHead(F){super._fillHead(F),this._disposables.add(this._actionbarWidget.actionRunner.onWillRun(z=>this.editor.focus()));const x=[],W=this._menuService.createMenu(an.TitleMenu,this._contextKeyService);(0,i.createAndFillInActionBarActions)(W,void 0,x),this._actionbarWidget.push(x,{label:!1,icon:!0,index:0}),W.dispose()}_fillTitleIcon(F){this._icon=L.append(F,L.$(""))}_fillBody(F){this._parentContainer=F,F.classList.add("marker-widget"),this._parentContainer.tabIndex=0,this._parentContainer.setAttribute("role","tooltip"),this._container=document.createElement("div"),F.appendChild(this._container),this._message=new C(this._container,this.editor,x=>this._onDidSelectRelatedInformation.fire(x),this._openerService,this._labelService),this._disposables.add(this._message)}show(){throw new Error("call showAtMarker")}showAtMarker(F,x,W){this._container.classList.remove("stale"),this._message.update(F),this._severity=F.severity,this._applyTheme(this._themeService.getColorTheme());const z=p.Range.lift(F),U=this.editor.getPosition(),O=U&&z.containsPosition(U)?U:z.getStartPosition();super.show(O,this.computeRequiredHeight());const G=this.editor.getModel();if(G){const Q=W>1?t.localize(5,null,x,W):t.localize(6,null,x,W);this.setTitle((0,_.basename)(G.uri),Q)}this._icon.className=`codicon ${a.SeverityIcon.className(n.MarkerSeverity.toSeverity(this._severity))}`,this.editor.revealPositionNearTop(O,0),this.editor.focus()}updateMarker(F){this._container.classList.remove("stale"),this._message.update(F)}showStale(){this._container.classList.add("stale"),this._relayout()}_doLayoutBody(F,x){super._doLayoutBody(F,x),this._heightInPixel=F,this._message.layout(F,x),this._container.style.height=`${F}px`}_onWidth(F){this._message.layout(this._heightInPixel,F)}_relayout(){super._relayout(this.computeRequiredHeight())}computeRequiredHeight(){return 3+this._message.getHeightInLines()}};g.TitleMenu=new o.MenuId("gotoErrorTitleMenu"),e.MarkerNavigationWidget=g=Ne([ge(1,u.IThemeService),ge(2,c.IOpenerService),ge(3,o.IMenuService),ge(4,d.IInstantiationService),ge(5,r.IContextKeyService),ge(6,h.ILabelService)],g);const v=(0,l.oneOf)(l.editorErrorForeground,l.editorErrorBorder),b=(0,l.oneOf)(l.editorWarningForeground,l.editorWarningBorder),w=(0,l.oneOf)(l.editorInfoForeground,l.editorInfoBorder),E=(0,l.registerColor)("editorMarkerNavigationError.background",{dark:v,light:v,hcDark:l.contrastBorder,hcLight:l.contrastBorder},t.localize(7,null)),I=(0,l.registerColor)("editorMarkerNavigationError.headerBackground",{dark:(0,l.transparent)(E,.1),light:(0,l.transparent)(E,.1),hcDark:null,hcLight:null},t.localize(8,null)),T=(0,l.registerColor)("editorMarkerNavigationWarning.background",{dark:b,light:b,hcDark:l.contrastBorder,hcLight:l.contrastBorder},t.localize(9,null)),P=(0,l.registerColor)("editorMarkerNavigationWarning.headerBackground",{dark:(0,l.transparent)(T,.1),light:(0,l.transparent)(T,.1),hcDark:"#0C141F",hcLight:(0,l.transparent)(T,.2)},t.localize(10,null)),A=(0,l.registerColor)("editorMarkerNavigationInfo.background",{dark:w,light:w,hcDark:l.contrastBorder,hcLight:l.contrastBorder},t.localize(11,null)),M=(0,l.registerColor)("editorMarkerNavigationInfo.headerBackground",{dark:(0,l.transparent)(A,.1),light:(0,l.transparent)(A,.1),hcDark:null,hcLight:null},t.localize(12,null)),N=(0,l.registerColor)("editorMarkerNavigation.background",{dark:l.editorBackground,light:l.editorBackground,hcDark:l.editorBackground,hcLight:l.editorBackground},t.localize(13,null))}),define(X[364],ee([1,0,25,2,15,32,11,5,22,755,653,31,13,8,61,888]),function(q,e,L,k,y,D,S,m,_,f,p,s,t,i,o,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NextMarkerAction=e.MarkerController=void 0;let d=e.MarkerController=class ni{static get(v){return v.getContribution(ni.ID)}constructor(v,b,w,E,I){this._markerNavigationService=b,this._contextKeyService=w,this._editorService=E,this._instantiationService=I,this._sessionDispoables=new k.DisposableStore,this._editor=v,this._widgetVisible=u.bindTo(this._contextKeyService)}dispose(){this._cleanUp(),this._sessionDispoables.dispose()}_cleanUp(){this._widgetVisible.reset(),this._sessionDispoables.clear(),this._widget=void 0,this._model=void 0}_getOrCreateModel(v){if(this._model&&this._model.matches(v))return this._model;let b=!1;return this._model&&(b=!0,this._cleanUp()),this._model=this._markerNavigationService.getMarkerList(v),b&&this._model.move(!0,this._editor.getModel(),this._editor.getPosition()),this._widget=this._instantiationService.createInstance(r.MarkerNavigationWidget,this._editor),this._widget.onDidClose(()=>this.close(),this,this._sessionDispoables),this._widgetVisible.set(!0),this._sessionDispoables.add(this._model),this._sessionDispoables.add(this._widget),this._sessionDispoables.add(this._editor.onDidChangeCursorPosition(w=>{var E,I,T;(!(!((E=this._model)===null||E===void 0)&&E.selected)||!m.Range.containsPosition((I=this._model)===null||I===void 0?void 0:I.selected.marker,w.position))&&((T=this._model)===null||T===void 0||T.resetIndex())})),this._sessionDispoables.add(this._model.onDidChange(()=>{if(!this._widget||!this._widget.position||!this._model)return;const w=this._model.find(this._editor.getModel().uri,this._widget.position);w?this._widget.updateMarker(w.marker):this._widget.showStale()})),this._sessionDispoables.add(this._widget.onDidSelectRelatedInformation(w=>{this._editorService.openCodeEditor({resource:w.resource,options:{pinned:!0,revealIfOpened:!0,selection:m.Range.lift(w).collapseToStart()}},this._editor),this.close(!1)})),this._sessionDispoables.add(this._editor.onDidChangeModel(()=>this._cleanUp())),this._model}close(v=!0){this._cleanUp(),v&&this._editor.focus()}showAtMarker(v){if(this._editor.hasModel()){const b=this._getOrCreateModel(this._editor.getModel().uri);b.resetIndex(),b.move(!0,this._editor.getModel(),new S.Position(v.startLineNumber,v.startColumn)),b.selected&&this._widget.showAtMarker(b.selected.marker,b.selected.index,b.selected.total)}}nagivate(v,b){var w,E;return Le(this,void 0,void 0,function*(){if(this._editor.hasModel()){const I=this._getOrCreateModel(b?void 0:this._editor.getModel().uri);if(I.move(v,this._editor.getModel(),this._editor.getPosition()),!I.selected)return;if(I.selected.marker.resource.toString()!==this._editor.getModel().uri.toString()){this._cleanUp();const T=yield this._editorService.openCodeEditor({resource:I.selected.marker.resource,options:{pinned:!1,revealIfOpened:!0,selectionRevealType:2,selection:I.selected.marker}},this._editor);T&&((w=ni.get(T))===null||w===void 0||w.close(),(E=ni.get(T))===null||E===void 0||E.nagivate(v,b))}else this._widget.showAtMarker(I.selected.marker,I.selected.index,I.selected.total)}})}};d.ID="editor.contrib.markerController",e.MarkerController=d=Ne([ge(1,f.IMarkerNavigationService),ge(2,t.IContextKeyService),ge(3,D.ICodeEditorService),ge(4,i.IInstantiationService)],d);class h extends y.EditorAction{constructor(v,b,w){super(w),this._next=v,this._multiFile=b}run(v,b){var w;return Le(this,void 0,void 0,function*(){b.hasModel()&&((w=d.get(b))===null||w===void 0||w.nagivate(this._next,this._multiFile))})}}class n extends h{constructor(){super(!0,!1,{id:n.ID,label:n.LABEL,alias:"Go to Next Problem (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:_.EditorContextKeys.focus,primary:578,weight:100},menuOpts:{menuId:r.MarkerNavigationWidget.TitleMenu,title:n.LABEL,icon:(0,o.registerIcon)("marker-navigation-next",L.Codicon.arrowDown,p.localize(1,null)),group:"navigation",order:1}})}}e.NextMarkerAction=n,n.ID="editor.action.marker.next",n.LABEL=p.localize(0,null);class c extends h{constructor(){super(!1,!1,{id:c.ID,label:c.LABEL,alias:"Go to Previous Problem (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:_.EditorContextKeys.focus,primary:1602,weight:100},menuOpts:{menuId:r.MarkerNavigationWidget.TitleMenu,title:c.LABEL,icon:(0,o.registerIcon)("marker-navigation-previous",L.Codicon.arrowUp,p.localize(3,null)),group:"navigation",order:2}})}}c.ID="editor.action.marker.prev",c.LABEL=p.localize(2,null);class a extends h{constructor(){super(!0,!0,{id:"editor.action.marker.nextInFiles",label:p.localize(4,null),alias:"Go to Next Problem in Files (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:_.EditorContextKeys.focus,primary:66,weight:100},menuOpts:{menuId:s.MenuId.MenubarGoMenu,title:p.localize(5,null),group:"6_problem_nav",order:1}})}}class l extends h{constructor(){super(!1,!0,{id:"editor.action.marker.prevInFiles",label:p.localize(6,null),alias:"Go to Previous Problem in Files (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:_.EditorContextKeys.focus,primary:1090,weight:100},menuOpts:{menuId:s.MenuId.MenubarGoMenu,title:p.localize(7,null),group:"6_problem_nav",order:2}})}}(0,y.registerEditorContribution)(d.ID,d,4),(0,y.registerEditorAction)(n),(0,y.registerEditorAction)(c),(0,y.registerEditorAction)(a),(0,y.registerEditorAction)(l);const u=new t.RawContextKey("markersNavigationVisible",!1),C=y.EditorCommand.bindToContribution(d.get);(0,y.registerEditorCommand)(new C({id:"closeMarkersNavigation",precondition:u,handler:g=>g.close(),kbOpts:{weight:100+50,kbExpr:_.EditorContextKeys.focus,primary:9,secondary:[1033]}}))}),define(X[889],ee([1,0,7,307,36,6,2,53,43,164,5,39,30,77,41,68,812,136,659,8,37,159,192,23,193,155,442]),function(q,e,L,k,y,D,S,m,_,f,p,s,t,i,o,r,d,h,n,c,a,l,u,C,g,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReferenceWidget=e.LayoutData=void 0;class b{constructor(P,A){this._editor=P,this._model=A,this._decorations=new Map,this._decorationIgnoreSet=new Set,this._callOnDispose=new S.DisposableStore,this._callOnModelChange=new S.DisposableStore,this._callOnDispose.add(this._editor.onDidChangeModel(()=>this._onModelChanged())),this._onModelChanged()}dispose(){this._callOnModelChange.dispose(),this._callOnDispose.dispose(),this.removeDecorations()}_onModelChanged(){this._callOnModelChange.clear();const P=this._editor.getModel();if(P){for(const A of this._model.references)if(A.uri.toString()===P.uri.toString()){this._addDecorations(A.parent);return}}}_addDecorations(P){if(!this._editor.hasModel())return;this._callOnModelChange.add(this._editor.getModel().onDidChangeDecorations(()=>this._onDecorationChanged()));const A=[],M=[];for(let N=0,R=P.children.length;N<R;N++){const F=P.children[N];this._decorationIgnoreSet.has(F.id)||F.uri.toString()===this._editor.getModel().uri.toString()&&(A.push({range:F.range,options:b.DecorationOptions}),M.push(N))}this._editor.changeDecorations(N=>{const R=N.deltaDecorations([],A);for(let F=0;F<R.length;F++)this._decorations.set(R[F],P.children[M[F]])})}_onDecorationChanged(){const P=[],A=this._editor.getModel();if(A){for(const[M,N]of this._decorations){const R=A.getDecorationRange(M);if(!R)continue;let F=!1;if(!p.Range.equalsRange(R,N.range)){if(p.Range.spansMultipleLines(R))F=!0;else{const x=N.range.endColumn-N.range.startColumn,W=R.endColumn-R.startColumn;x!==W&&(F=!0)}F?(this._decorationIgnoreSet.add(N.id),P.push(M)):N.range=R}}for(let M=0,N=P.length;M<N;M++)this._decorations.delete(P[M]);this._editor.removeDecorations(P)}}removeDecorations(){this._editor.removeDecorations([...this._decorations.keys()]),this._decorations.clear()}}b.DecorationOptions=s.ModelDecorationOptions.register({description:"reference-decoration",stickiness:1,className:"reference-decoration"});class w{constructor(){this.ratio=.7,this.heightInLines=18}static fromJSON(P){let A,M;try{const N=JSON.parse(P);A=N.ratio,M=N.heightInLines}catch{}return{ratio:A||.7,heightInLines:M||18}}}e.LayoutData=w;class E extends u.WorkbenchAsyncDataTree{}let I=e.ReferenceWidget=class extends h.PeekViewWidget{constructor(P,A,M,N,R,F,x,W,z,U,O,G){super(P,{showFrame:!1,showArrow:!0,isResizeable:!0,isAccessible:!0,supportOnTitleClick:!0},F),this._defaultTreeKeyboardSupport=A,this.layoutData=M,this._textModelResolverService=R,this._instantiationService=F,this._peekViewService=x,this._uriLabel=W,this._undoRedoService=z,this._keybindingService=U,this._languageService=O,this._languageConfigurationService=G,this._disposeOnNewModel=new S.DisposableStore,this._callOnDispose=new S.DisposableStore,this._onDidSelectReference=new D.Emitter,this.onDidSelectReference=this._onDidSelectReference.event,this._dim=new L.Dimension(0,0),this._applyTheme(N.getColorTheme()),this._callOnDispose.add(N.onDidColorThemeChange(this._applyTheme.bind(this))),this._peekViewService.addExclusiveWidget(P,this),this.create()}dispose(){this.setModel(void 0),this._callOnDispose.dispose(),this._disposeOnNewModel.dispose(),(0,S.dispose)(this._preview),(0,S.dispose)(this._previewNotAvailableMessage),(0,S.dispose)(this._tree),(0,S.dispose)(this._previewModelReference),this._splitView.dispose(),super.dispose()}_applyTheme(P){const A=P.getColor(h.peekViewBorder)||y.Color.transparent;this.style({arrowColor:A,frameColor:A,headerBackgroundColor:P.getColor(h.peekViewTitleBackground)||y.Color.transparent,primaryHeadingColor:P.getColor(h.peekViewTitleForeground),secondaryHeadingColor:P.getColor(h.peekViewTitleInfoForeground)})}show(P){super.show(P,this.layoutData.heightInLines||18)}focusOnReferenceTree(){this._tree.domFocus()}focusOnPreviewEditor(){this._preview.focus()}isPreviewEditorFocused(){return this._preview.hasTextFocus()}_onTitleClick(P){this._preview&&this._preview.getModel()&&this._onDidSelectReference.fire({element:this._getFocusedReference(),kind:P.ctrlKey||P.metaKey||P.altKey?"side":"open",source:"title"})}_fillBody(P){this.setCssClass("reference-zone-widget"),this._messageContainer=L.append(P,L.$("div.messages")),L.hide(this._messageContainer),this._splitView=new k.SplitView(P,{orientation:1}),this._previewContainer=L.append(P,L.$("div.preview.inline"));const A={scrollBeyondLastLine:!1,scrollbar:{verticalScrollbarSize:14,horizontal:"auto",useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,alwaysConsumeMouseWheel:!1},overviewRulerLanes:2,fixedOverflowWidgets:!0,minimap:{enabled:!1}};this._preview=this._instantiationService.createInstance(f.EmbeddedCodeEditorWidget,this._previewContainer,A,{},this.editor),L.hide(this._previewContainer),this._previewNotAvailableMessage=new s.TextModel(n.localize(0,null),i.PLAINTEXT_LANGUAGE_ID,s.TextModel.DEFAULT_CREATION_OPTIONS,null,this._undoRedoService,this._languageService,this._languageConfigurationService),this._treeContainer=L.append(P,L.$("div.ref-tree.inline"));const M={keyboardSupport:this._defaultTreeKeyboardSupport,accessibilityProvider:new d.AccessibilityProvider,keyboardNavigationLabelProvider:this._instantiationService.createInstance(d.StringRepresentationProvider),identityProvider:new d.IdentityProvider,openOnSingleClick:!0,selectionNavigation:!0,overrideStyles:{listBackground:h.peekViewResultsBackground}};this._defaultTreeKeyboardSupport&&this._callOnDispose.add(L.addStandardDisposableListener(this._treeContainer,"keydown",R=>{R.equals(9)&&(this._keybindingService.dispatchEvent(R,R.target),R.stopPropagation())},!0)),this._tree=this._instantiationService.createInstance(E,"ReferencesWidget",this._treeContainer,new d.Delegate,[this._instantiationService.createInstance(d.FileReferencesRenderer),this._instantiationService.createInstance(d.OneReferenceRenderer)],this._instantiationService.createInstance(d.DataSource),M),this._splitView.addView({onDidChange:D.Event.None,element:this._previewContainer,minimumSize:200,maximumSize:Number.MAX_VALUE,layout:R=>{this._preview.layout({height:this._dim.height,width:R})}},k.Sizing.Distribute),this._splitView.addView({onDidChange:D.Event.None,element:this._treeContainer,minimumSize:100,maximumSize:Number.MAX_VALUE,layout:R=>{this._treeContainer.style.height=`${this._dim.height}px`,this._treeContainer.style.width=`${R}px`,this._tree.layout(this._dim.height,R)}},k.Sizing.Distribute),this._disposables.add(this._splitView.onDidSashChange(()=>{this._dim.width&&(this.layoutData.ratio=this._splitView.getViewSize(0)/this._dim.width)},void 0));const N=(R,F)=>{R instanceof v.OneReference&&(F==="show"&&this._revealReference(R,!1),this._onDidSelectReference.fire({element:R,kind:F,source:"tree"}))};this._tree.onDidOpen(R=>{R.sideBySide?N(R.element,"side"):R.editorOptions.pinned?N(R.element,"goto"):N(R.element,"show")}),L.hide(this._treeContainer)}_onWidth(P){this._dim&&this._doLayoutBody(this._dim.height,P)}_doLayoutBody(P,A){super._doLayoutBody(P,A),this._dim=new L.Dimension(A,P),this.layoutData.heightInLines=this._viewZone?this._viewZone.heightInLines:this.layoutData.heightInLines,this._splitView.layout(A),this._splitView.resizeView(0,A*this.layoutData.ratio)}setSelection(P){return this._revealReference(P,!0).then(()=>{this._model&&(this._tree.setSelection([P]),this._tree.setFocus([P]))})}setModel(P){return this._disposeOnNewModel.clear(),this._model=P,this._model?this._onNewModel():Promise.resolve()}_onNewModel(){return this._model?this._model.isEmpty?(this.setTitle(""),this._messageContainer.innerText=n.localize(1,null),L.show(this._messageContainer),Promise.resolve(void 0)):(L.hide(this._messageContainer),this._decorationsManager=new b(this._preview,this._model),this._disposeOnNewModel.add(this._decorationsManager),this._disposeOnNewModel.add(this._model.onDidChangeReferenceRange(P=>this._tree.rerender(P))),this._disposeOnNewModel.add(this._preview.onMouseDown(P=>{const{event:A,target:M}=P;if(A.detail!==2)return;const N=this._getFocusedReference();N&&this._onDidSelectReference.fire({element:{uri:N.uri,range:M.range},kind:A.ctrlKey||A.metaKey||A.altKey?"side":"open",source:"editor"})})),this.container.classList.add("results-loaded"),L.show(this._treeContainer),L.show(this._previewContainer),this._splitView.layout(this._dim.width),this.focusOnReferenceTree(),this._tree.setInput(this._model.groups.length===1?this._model.groups[0]:this._model)):Promise.resolve(void 0)}_getFocusedReference(){const[P]=this._tree.getFocus();if(P instanceof v.OneReference)return P;if(P instanceof v.FileReferences&&P.children.length>0)return P.children[0]}revealReference(P){return Le(this,void 0,void 0,function*(){yield this._revealReference(P,!1),this._onDidSelectReference.fire({element:P,kind:"goto",source:"tree"})})}_revealReference(P,A){return Le(this,void 0,void 0,function*(){if(this._revealedReference===P)return;this._revealedReference=P,P.uri.scheme!==m.Schemas.inMemory?this.setTitle((0,_.basenameOrAuthority)(P.uri),this._uriLabel.getUriLabel((0,_.dirname)(P.uri))):this.setTitle(n.localize(2,null));const M=this._textModelResolverService.createModelReference(P.uri);this._tree.getInput()===P.parent?this._tree.reveal(P):(A&&this._tree.reveal(P.parent),yield this._tree.expand(P.parent),this._tree.reveal(P));const N=yield M;if(!this._model){N.dispose();return}(0,S.dispose)(this._previewModelReference);const R=N.object;if(R){const F=this._preview.getModel()===R.textEditorModel?0:1,x=p.Range.lift(P.range).collapseToStart();this._previewModelReference=N,this._preview.setModel(R.textEditorModel),this._preview.setSelection(x),this._preview.revealRangeInCenter(x,F)}else this._preview.setModel(this._previewNotAvailableMessage),N.dispose()})}};e.ReferenceWidget=I=Ne([ge(3,C.IThemeService),ge(4,r.ITextModelService),ge(5,c.IInstantiationService),ge(6,h.IPeekViewService),ge(7,l.ILabelService),ge(8,g.IUndoRedoService),ge(9,a.IKeybindingService),ge(10,o.ILanguageService),ge(11,t.ILanguageConfigurationService)],I)}),define(X[365],ee([1,0,14,12,62,2,32,11,5,136,657,26,28,13,8,116,192,44,87,155,889]),function(q,e,L,k,y,D,S,m,_,f,p,s,t,i,o,r,d,h,n,c,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReferencesController=e.ctxReferenceSearchVisible=void 0,e.ctxReferenceSearchVisible=new i.RawContextKey("referenceSearchVisible",!1,p.localize(0,null));let l=e.ReferencesController=class wi{static get(g){return g.getContribution(wi.ID)}constructor(g,v,b,w,E,I,T,P){this._defaultTreeKeyboardSupport=g,this._editor=v,this._editorService=w,this._notificationService=E,this._instantiationService=I,this._storageService=T,this._configurationService=P,this._disposables=new D.DisposableStore,this._requestIdPool=0,this._ignoreModelChangeEvent=!1,this._referenceSearchVisible=e.ctxReferenceSearchVisible.bindTo(b)}dispose(){var g,v;this._referenceSearchVisible.reset(),this._disposables.dispose(),(g=this._widget)===null||g===void 0||g.dispose(),(v=this._model)===null||v===void 0||v.dispose(),this._widget=void 0,this._model=void 0}toggleWidget(g,v,b){let w;if(this._widget&&(w=this._widget.position),this.closeWidget(),w&&g.containsPosition(w))return;this._peekMode=b,this._referenceSearchVisible.set(!0),this._disposables.add(this._editor.onDidChangeModelLanguage(()=>{this.closeWidget()})),this._disposables.add(this._editor.onDidChangeModel(()=>{this._ignoreModelChangeEvent||this.closeWidget()}));const E="peekViewLayout",I=a.LayoutData.fromJSON(this._storageService.get(E,0,"{}"));this._widget=this._instantiationService.createInstance(a.ReferenceWidget,this._editor,this._defaultTreeKeyboardSupport,I),this._widget.setTitle(p.localize(1,null)),this._widget.show(g),this._disposables.add(this._widget.onDidClose(()=>{v.cancel(),this._widget&&(this._storageService.store(E,JSON.stringify(this._widget.layoutData),0,1),this._widget=void 0),this.closeWidget()})),this._disposables.add(this._widget.onDidSelectReference(P=>{const{element:A,kind:M}=P;if(A)switch(M){case"open":(P.source!=="editor"||!this._configurationService.getValue("editor.stablePeek"))&&this.openReference(A,!1,!1);break;case"side":this.openReference(A,!0,!1);break;case"goto":b?this._gotoReference(A,!0):this.openReference(A,!1,!0);break}}));const T=++this._requestIdPool;v.then(P=>{var A;if(T!==this._requestIdPool||!this._widget){P.dispose();return}return(A=this._model)===null||A===void 0||A.dispose(),this._model=P,this._widget.setModel(this._model).then(()=>{if(this._widget&&this._model&&this._editor.hasModel()){this._model.isEmpty?this._widget.setMetaTitle(""):this._widget.setMetaTitle(p.localize(2,null,this._model.title,this._model.references.length));const M=this._editor.getModel().uri,N=new m.Position(g.startLineNumber,g.startColumn),R=this._model.nearestReference(M,N);if(R)return this._widget.setSelection(R).then(()=>{this._widget&&this._editor.getOption(84)==="editor"&&this._widget.focusOnPreviewEditor()})}})},P=>{this._notificationService.error(P)})}changeFocusBetweenPreviewAndReferences(){this._widget&&(this._widget.isPreviewEditorFocused()?this._widget.focusOnReferenceTree():this._widget.focusOnPreviewEditor())}goToNextOrPreviousReference(g){return Le(this,void 0,void 0,function*(){if(!this._editor.hasModel()||!this._model||!this._widget)return;const v=this._widget.position;if(!v)return;const b=this._model.nearestReference(this._editor.getModel().uri,v);if(!b)return;const w=this._model.nextOrPreviousReference(b,g),E=this._editor.hasTextFocus(),I=this._widget.isPreviewEditorFocused();yield this._widget.setSelection(w),yield this._gotoReference(w,!1),E?this._editor.focus():this._widget&&I&&this._widget.focusOnPreviewEditor()})}revealReference(g){return Le(this,void 0,void 0,function*(){!this._editor.hasModel()||!this._model||!this._widget||(yield this._widget.revealReference(g))})}closeWidget(g=!0){var v,b;(v=this._widget)===null||v===void 0||v.dispose(),(b=this._model)===null||b===void 0||b.dispose(),this._referenceSearchVisible.reset(),this._disposables.clear(),this._widget=void 0,this._model=void 0,g&&this._editor.focus(),this._requestIdPool+=1}_gotoReference(g,v){var b;(b=this._widget)===null||b===void 0||b.hide(),this._ignoreModelChangeEvent=!0;const w=_.Range.lift(g.range).collapseToStart();return this._editorService.openCodeEditor({resource:g.uri,options:{selection:w,selectionSource:"code.jump",pinned:v}},this._editor).then(E=>{var I;if(this._ignoreModelChangeEvent=!1,!E||!this._widget){this.closeWidget();return}if(this._editor===E)this._widget.show(w),this._widget.focusOnReferenceTree();else{const T=wi.get(E),P=this._model.clone();this.closeWidget(),E.focus(),T?.toggleWidget(w,(0,L.createCancelablePromise)(A=>Promise.resolve(P)),(I=this._peekMode)!==null&&I!==void 0?I:!1)}},E=>{this._ignoreModelChangeEvent=!1,(0,k.onUnexpectedError)(E)})}openReference(g,v,b){v||this.closeWidget();const{uri:w,range:E}=g;this._editorService.openCodeEditor({resource:w,options:{selection:E,selectionSource:"code.jump",pinned:b}},this._editor,v)}};l.ID="editor.contrib.referencesController",e.ReferencesController=l=Ne([ge(2,i.IContextKeyService),ge(3,S.ICodeEditorService),ge(4,h.INotificationService),ge(5,o.IInstantiationService),ge(6,n.IStorageService),ge(7,t.IConfigurationService)],l);function u(C,g){const v=(0,f.getOuterEditor)(C);if(!v)return;const b=l.get(v);b&&g(b)}r.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"togglePeekWidgetFocus",weight:100,primary:(0,y.KeyChord)(2089,60),when:i.ContextKeyExpr.or(e.ctxReferenceSearchVisible,f.PeekContext.inPeekEditor),handler(C){u(C,g=>{g.changeFocusBetweenPreviewAndReferences()})}}),r.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"goToNextReference",weight:100-10,primary:62,secondary:[70],when:i.ContextKeyExpr.or(e.ctxReferenceSearchVisible,f.PeekContext.inPeekEditor),handler(C){u(C,g=>{g.goToNextOrPreviousReference(!0)})}}),r.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"goToPreviousReference",weight:100-10,primary:1086,secondary:[1094],when:i.ContextKeyExpr.or(e.ctxReferenceSearchVisible,f.PeekContext.inPeekEditor),handler(C){u(C,g=>{g.goToNextOrPreviousReference(!1)})}}),s.CommandsRegistry.registerCommandAlias("goToNextReferenceFromEmbeddedEditor","goToNextReference"),s.CommandsRegistry.registerCommandAlias("goToPreviousReferenceFromEmbeddedEditor","goToPreviousReference"),s.CommandsRegistry.registerCommandAlias("closeReferenceSearchEditor","closeReferenceSearch"),s.CommandsRegistry.registerCommand("closeReferenceSearch",C=>u(C,g=>g.closeWidget())),r.KeybindingsRegistry.registerKeybindingRule({id:"closeReferenceSearch",weight:100-101,primary:9,secondary:[1033],when:i.ContextKeyExpr.and(f.PeekContext.inPeekEditor,i.ContextKeyExpr.not("config.editor.stablePeek"))}),r.KeybindingsRegistry.registerKeybindingRule({id:"closeReferenceSearch",weight:200+50,primary:9,secondary:[1033],when:i.ContextKeyExpr.and(e.ctxReferenceSearchVisible,i.ContextKeyExpr.not("config.editor.stablePeek"))}),r.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"revealReference",weight:200,primary:3,mac:{primary:3,secondary:[2066]},when:i.ContextKeyExpr.and(e.ctxReferenceSearchVisible,d.WorkbenchListFocusContextKey,d.WorkbenchTreeElementCanCollapse.negate(),d.WorkbenchTreeElementCanExpand.negate()),handler(C){var g;const b=(g=C.get(d.IListService).lastFocusedList)===null||g===void 0?void 0:g.getFocus();Array.isArray(b)&&b[0]instanceof c.OneReference&&u(C,w=>w.revealReference(b[0]))}}),r.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"openReferenceToSide",weight:100,primary:2051,mac:{primary:259},when:i.ContextKeyExpr.and(e.ctxReferenceSearchVisible,d.WorkbenchListFocusContextKey,d.WorkbenchTreeElementCanCollapse.negate(),d.WorkbenchTreeElementCanExpand.negate()),handler(C){var g;const b=(g=C.get(d.IListService).lastFocusedList)===null||g===void 0?void 0:g.getFocus();Array.isArray(b)&&b[0]instanceof c.OneReference&&u(C,w=>w.openReference(b[0],!0,!0))}}),s.CommandsRegistry.registerCommand("openReference",C=>{var g;const b=(g=C.get(d.IListService).lastFocusedList)===null||g===void 0?void 0:g.getFocus();Array.isArray(b)&&b[0]instanceof c.OneReference&&u(C,w=>w.openReference(b[0],!1,!0))})}),define(X[255],ee([1,0,54,14,62,18,21,102,179,15,32,164,11,5,22,29,365,155,793,191,136,655,31,26,13,8,44,83,247,19,50,239]),function(q,e,L,k,y,D,S,m,_,f,p,s,t,i,o,r,d,h,n,c,a,l,u,C,g,v,b,w,E,I,T,P){"use strict";var A,M,N,R,F,x,W,z;Object.defineProperty(e,"__esModule",{value:!0}),e.DefinitionAction=e.SymbolNavigationAction=e.SymbolNavigationAnchor=void 0,u.MenuRegistry.appendMenuItem(u.MenuId.EditorContext,{submenu:u.MenuId.EditorContextPeek,title:l.localize(0,null),group:"navigation",order:100});class U{static is(K){return!K||typeof K!="object"?!1:!!(K instanceof U||t.Position.isIPosition(K.position)&&K.model)}constructor(K,Z){this.model=K,this.position=Z}}e.SymbolNavigationAnchor=U;class O extends f.EditorAction2{static all(){return O._allSymbolNavigationCommands.values()}static _patchConfig(K){const Z=Object.assign(Object.assign({},K),{f1:!0});if(Z.menu)for(const J of T.Iterable.wrap(Z.menu))(J.id===u.MenuId.EditorContext||J.id===u.MenuId.EditorContextPeek)&&(J.when=g.ContextKeyExpr.and(K.precondition,J.when));return Z}constructor(K,Z){super(O._patchConfig(Z)),this.configuration=K,O._allSymbolNavigationCommands.set(Z.id,this)}runEditorCommand(K,Z,J,ne){if(!Z.hasModel())return Promise.resolve(void 0);const he=K.get(b.INotificationService),de=K.get(p.ICodeEditorService),ae=K.get(w.IEditorProgressService),ce=K.get(n.ISymbolNavigationService),$=K.get(I.ILanguageFeaturesService),V=K.get(v.IInstantiationService),j=Z.getModel(),se=Z.getPosition(),ie=U.is(J)?J:new U(j,se),Y=new m.EditorStateCancellationTokenSource(Z,5),le=(0,k.raceCancellation)(this._getLocationModel($,ie.model,ie.position,Y.token),Y.token).then(fe=>Le(this,void 0,void 0,function*(){var be;if(!fe||Y.token.isCancellationRequested)return;(0,L.alert)(fe.ariaMessage);let we;if(fe.referenceAt(j.uri,se)){const Ie=this._getAlternativeCommand(Z);!O._activeAlternativeCommands.has(Ie)&&O._allSymbolNavigationCommands.has(Ie)&&(we=O._allSymbolNavigationCommands.get(Ie))}const Ee=fe.references.length;if(Ee===0){if(!this.configuration.muteMessage){const Ie=j.getWordAtPosition(se);(be=c.MessageController.get(Z))===null||be===void 0||be.showMessage(this._getNoResultFoundMessage(Ie),se)}}else if(Ee===1&&we)O._activeAlternativeCommands.add(this.desc.id),V.invokeFunction(Ie=>we.runEditorCommand(Ie,Z,J,ne).finally(()=>{O._activeAlternativeCommands.delete(this.desc.id)}));else return this._onResult(de,ce,Z,fe,ne)}),fe=>{he.error(fe)}).finally(()=>{Y.dispose()});return ae.showWhile(le,250),le}_onResult(K,Z,J,ne,he){return Le(this,void 0,void 0,function*(){const de=this._getGoToPreference(J);if(!(J instanceof s.EmbeddedCodeEditorWidget)&&(this.configuration.openInPeek||de==="peek"&&ne.references.length>1))this._openInPeek(J,ne,he);else{const ae=ne.firstReference(),ce=ne.references.length>1&&de==="gotoAndPeek",$=yield this._openReference(J,K,ae,this.configuration.openToSide,!ce);ce&&$?this._openInPeek($,ne,he):ne.dispose(),de==="goto"&&Z.put(ae)}})}_openReference(K,Z,J,ne,he){return Le(this,void 0,void 0,function*(){let de;if((0,r.isLocationLink)(J)&&(de=J.targetSelectionRange),de||(de=J.range),!de)return;const ae=yield Z.openCodeEditor({resource:J.uri,options:{selection:i.Range.collapseToStart(de),selectionRevealType:3,selectionSource:"code.jump"}},K,ne);if(ae){if(he){const ce=ae.getModel(),$=ae.createDecorationsCollection([{range:de,options:{description:"symbol-navigate-action-highlight",className:"symbolHighlight"}}]);setTimeout(()=>{ae.getModel()===ce&&$.clear()},350)}return ae}})}_openInPeek(K,Z,J){const ne=d.ReferencesController.get(K);ne&&K.hasModel()?ne.toggleWidget(J??K.getSelection(),(0,k.createCancelablePromise)(he=>Promise.resolve(Z)),this.configuration.openInPeek):Z.dispose()}}e.SymbolNavigationAction=O,O._allSymbolNavigationCommands=new Map,O._activeAlternativeCommands=new Set;class G extends O{_getLocationModel(K,Z,J,ne){return Le(this,void 0,void 0,function*(){return new h.ReferencesModel(yield(0,E.getDefinitionsAtPosition)(K.definitionProvider,Z,J,ne),l.localize(1,null))})}_getNoResultFoundMessage(K){return K&&K.word?l.localize(2,null,K.word):l.localize(3,null)}_getAlternativeCommand(K){return K.getOption(56).alternativeDefinitionCommand}_getGoToPreference(K){return K.getOption(56).multipleDefinitions}}e.DefinitionAction=G,(0,u.registerAction2)((A=class Li extends G{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:Li.id,title:{value:l.localize(4,null),original:"Go to Definition",mnemonicTitle:l.localize(5,null)},precondition:g.ContextKeyExpr.and(o.EditorContextKeys.hasDefinitionProvider,o.EditorContextKeys.isInWalkThroughSnippet.toNegated()),keybinding:[{when:o.EditorContextKeys.editorTextFocus,primary:70,weight:100},{when:g.ContextKeyExpr.and(o.EditorContextKeys.editorTextFocus,P.IsWebContext),primary:2118,weight:100}],menu:[{id:u.MenuId.EditorContext,group:"navigation",order:1.1},{id:u.MenuId.MenubarGoMenu,precondition:null,group:"4_symbol_nav",order:2}]}),C.CommandsRegistry.registerCommandAlias("editor.action.goToDeclaration",Li.id)}},A.id="editor.action.revealDefinition",A)),(0,u.registerAction2)((M=class yi extends G{constructor(){super({openToSide:!0,openInPeek:!1,muteMessage:!1},{id:yi.id,title:{value:l.localize(6,null),original:"Open Definition to the Side"},precondition:g.ContextKeyExpr.and(o.EditorContextKeys.hasDefinitionProvider,o.EditorContextKeys.isInWalkThroughSnippet.toNegated()),keybinding:[{when:o.EditorContextKeys.editorTextFocus,primary:(0,y.KeyChord)(2089,70),weight:100},{when:g.ContextKeyExpr.and(o.EditorContextKeys.editorTextFocus,P.IsWebContext),primary:(0,y.KeyChord)(2089,2118),weight:100}]}),C.CommandsRegistry.registerCommandAlias("editor.action.openDeclarationToTheSide",yi.id)}},M.id="editor.action.revealDefinitionAside",M)),(0,u.registerAction2)((N=class Ei extends G{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:Ei.id,title:{value:l.localize(7,null),original:"Peek Definition"},precondition:g.ContextKeyExpr.and(o.EditorContextKeys.hasDefinitionProvider,a.PeekContext.notInPeekEditor,o.EditorContextKeys.isInWalkThroughSnippet.toNegated()),keybinding:{when:o.EditorContextKeys.editorTextFocus,primary:582,linux:{primary:3140},weight:100},menu:{id:u.MenuId.EditorContextPeek,group:"peek",order:2}}),C.CommandsRegistry.registerCommandAlias("editor.action.previewDeclaration",Ei.id)}},N.id="editor.action.peekDefinition",N));class Q extends O{_getLocationModel(K,Z,J,ne){return Le(this,void 0,void 0,function*(){return new h.ReferencesModel(yield(0,E.getDeclarationsAtPosition)(K.declarationProvider,Z,J,ne),l.localize(8,null))})}_getNoResultFoundMessage(K){return K&&K.word?l.localize(9,null,K.word):l.localize(10,null)}_getAlternativeCommand(K){return K.getOption(56).alternativeDeclarationCommand}_getGoToPreference(K){return K.getOption(56).multipleDeclarations}}(0,u.registerAction2)((R=class ln extends Q{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:ln.id,title:{value:l.localize(11,null),original:"Go to Declaration",mnemonicTitle:l.localize(12,null)},precondition:g.ContextKeyExpr.and(o.EditorContextKeys.hasDeclarationProvider,o.EditorContextKeys.isInWalkThroughSnippet.toNegated()),menu:[{id:u.MenuId.EditorContext,group:"navigation",order:1.3},{id:u.MenuId.MenubarGoMenu,precondition:null,group:"4_symbol_nav",order:3}]})}_getNoResultFoundMessage(K){return K&&K.word?l.localize(13,null,K.word):l.localize(14,null)}},R.id="editor.action.revealDeclaration",R)),(0,u.registerAction2)(class extends Q{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.peekDeclaration",title:{value:l.localize(15,null),original:"Peek Declaration"},precondition:g.ContextKeyExpr.and(o.EditorContextKeys.hasDeclarationProvider,a.PeekContext.notInPeekEditor,o.EditorContextKeys.isInWalkThroughSnippet.toNegated()),menu:{id:u.MenuId.EditorContextPeek,group:"peek",order:3}})}});class re extends O{_getLocationModel(K,Z,J,ne){return Le(this,void 0,void 0,function*(){return new h.ReferencesModel(yield(0,E.getTypeDefinitionsAtPosition)(K.typeDefinitionProvider,Z,J,ne),l.localize(16,null))})}_getNoResultFoundMessage(K){return K&&K.word?l.localize(17,null,K.word):l.localize(18,null)}_getAlternativeCommand(K){return K.getOption(56).alternativeTypeDefinitionCommand}_getGoToPreference(K){return K.getOption(56).multipleTypeDefinitions}}(0,u.registerAction2)((F=class dn extends re{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:dn.ID,title:{value:l.localize(19,null),original:"Go to Type Definition",mnemonicTitle:l.localize(20,null)},precondition:g.ContextKeyExpr.and(o.EditorContextKeys.hasTypeDefinitionProvider,o.EditorContextKeys.isInWalkThroughSnippet.toNegated()),keybinding:{when:o.EditorContextKeys.editorTextFocus,primary:0,weight:100},menu:[{id:u.MenuId.EditorContext,group:"navigation",order:1.4},{id:u.MenuId.MenubarGoMenu,precondition:null,group:"4_symbol_nav",order:3}]})}},F.ID="editor.action.goToTypeDefinition",F)),(0,u.registerAction2)((x=class cn extends re{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:cn.ID,title:{value:l.localize(21,null),original:"Peek Type Definition"},precondition:g.ContextKeyExpr.and(o.EditorContextKeys.hasTypeDefinitionProvider,a.PeekContext.notInPeekEditor,o.EditorContextKeys.isInWalkThroughSnippet.toNegated()),menu:{id:u.MenuId.EditorContextPeek,group:"peek",order:4}})}},x.ID="editor.action.peekTypeDefinition",x));class oe extends O{_getLocationModel(K,Z,J,ne){return Le(this,void 0,void 0,function*(){return new h.ReferencesModel(yield(0,E.getImplementationsAtPosition)(K.implementationProvider,Z,J,ne),l.localize(22,null))})}_getNoResultFoundMessage(K){return K&&K.word?l.localize(23,null,K.word):l.localize(24,null)}_getAlternativeCommand(K){return K.getOption(56).alternativeImplementationCommand}_getGoToPreference(K){return K.getOption(56).multipleImplementations}}(0,u.registerAction2)((W=class un extends oe{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:un.ID,title:{value:l.localize(25,null),original:"Go to Implementations",mnemonicTitle:l.localize(26,null)},precondition:g.ContextKeyExpr.and(o.EditorContextKeys.hasImplementationProvider,o.EditorContextKeys.isInWalkThroughSnippet.toNegated()),keybinding:{when:o.EditorContextKeys.editorTextFocus,primary:2118,weight:100},menu:[{id:u.MenuId.EditorContext,group:"navigation",order:1.45},{id:u.MenuId.MenubarGoMenu,precondition:null,group:"4_symbol_nav",order:4}]})}},W.ID="editor.action.goToImplementation",W)),(0,u.registerAction2)((z=class hn extends oe{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:hn.ID,title:{value:l.localize(27,null),original:"Peek Implementations"},precondition:g.ContextKeyExpr.and(o.EditorContextKeys.hasImplementationProvider,a.PeekContext.notInPeekEditor,o.EditorContextKeys.isInWalkThroughSnippet.toNegated()),keybinding:{when:o.EditorContextKeys.editorTextFocus,primary:3142,weight:100},menu:{id:u.MenuId.EditorContextPeek,group:"peek",order:5}})}},z.ID="editor.action.peekImplementation",z));class te extends O{_getNoResultFoundMessage(K){return K?l.localize(28,null,K.word):l.localize(29,null)}_getAlternativeCommand(K){return K.getOption(56).alternativeReferenceCommand}_getGoToPreference(K){return K.getOption(56).multipleReferences}}(0,u.registerAction2)(class extends te{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:"editor.action.goToReferences",title:{value:l.localize(30,null),original:"Go to References",mnemonicTitle:l.localize(31,null)},precondition:g.ContextKeyExpr.and(o.EditorContextKeys.hasReferenceProvider,a.PeekContext.notInPeekEditor,o.EditorContextKeys.isInWalkThroughSnippet.toNegated()),keybinding:{when:o.EditorContextKeys.editorTextFocus,primary:1094,weight:100},menu:[{id:u.MenuId.EditorContext,group:"navigation",order:1.45},{id:u.MenuId.MenubarGoMenu,precondition:null,group:"4_symbol_nav",order:5}]})}_getLocationModel(K,Z,J,ne){return Le(this,void 0,void 0,function*(){return new h.ReferencesModel(yield(0,E.getReferencesAtPosition)(K.referenceProvider,Z,J,!0,ne),l.localize(32,null))})}}),(0,u.registerAction2)(class extends te{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.referenceSearch.trigger",title:{value:l.localize(33,null),original:"Peek References"},precondition:g.ContextKeyExpr.and(o.EditorContextKeys.hasReferenceProvider,a.PeekContext.notInPeekEditor,o.EditorContextKeys.isInWalkThroughSnippet.toNegated()),menu:{id:u.MenuId.EditorContextPeek,group:"peek",order:6}})}_getLocationModel(K,Z,J,ne){return Le(this,void 0,void 0,function*(){return new h.ReferencesModel(yield(0,E.getReferencesAtPosition)(K.referenceProvider,Z,J,!1,ne),l.localize(34,null))})}});class H extends O{constructor(K,Z,J){super(K,{id:"editor.action.goToLocation",title:{value:l.localize(35,null),original:"Go to Any Symbol"},precondition:g.ContextKeyExpr.and(a.PeekContext.notInPeekEditor,o.EditorContextKeys.isInWalkThroughSnippet.toNegated())}),this._references=Z,this._gotoMultipleBehaviour=J}_getLocationModel(K,Z,J,ne){return Le(this,void 0,void 0,function*(){return new h.ReferencesModel(this._references,l.localize(36,null))})}_getNoResultFoundMessage(K){return K&&l.localize(37,null,K.word)||""}_getGoToPreference(K){var Z;return(Z=this._gotoMultipleBehaviour)!==null&&Z!==void 0?Z:K.getOption(56).multipleReferences}_getAlternativeCommand(){return""}}C.CommandsRegistry.registerCommand({id:"editor.action.goToLocations",description:{description:"Go to locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:S.URI},{name:"position",description:"The position at which to start",constraint:t.Position.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto"},{name:"noResultsMessage",description:"Human readable message that shows when locations is empty."}]},handler:(B,K,Z,J,ne,he,de)=>Le(void 0,void 0,void 0,function*(){(0,D.assertType)(S.URI.isUri(K)),(0,D.assertType)(t.Position.isIPosition(Z)),(0,D.assertType)(Array.isArray(J)),(0,D.assertType)(typeof ne>"u"||typeof ne=="string"),(0,D.assertType)(typeof de>"u"||typeof de=="boolean");const ae=B.get(p.ICodeEditorService),ce=yield ae.openCodeEditor({resource:K},ae.getFocusedCodeEditor());if((0,_.isCodeEditor)(ce))return ce.setPosition(Z),ce.revealPositionInCenterIfOutsideViewport(Z,0),ce.invokeWithinContext($=>{const V=new class extends H{_getNoResultFoundMessage(j){return he||super._getNoResultFoundMessage(j)}}({muteMessage:!he,openInPeek:!!de,openToSide:!1},J,ne);$.get(v.IInstantiationService).invokeFunction(V.run.bind(V),ce)})})}),C.CommandsRegistry.registerCommand({id:"editor.action.peekLocations",description:{description:"Peek locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:S.URI},{name:"position",description:"The position at which to start",constraint:t.Position.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto"}]},handler:(B,K,Z,J,ne)=>Le(void 0,void 0,void 0,function*(){B.get(C.ICommandService).executeCommand("editor.action.goToLocations",K,Z,J,ne,void 0,!0)})}),C.CommandsRegistry.registerCommand({id:"editor.action.findReferences",handler:(B,K,Z)=>{(0,D.assertType)(S.URI.isUri(K)),(0,D.assertType)(t.Position.isIPosition(Z));const J=B.get(I.ILanguageFeaturesService),ne=B.get(p.ICodeEditorService);return ne.openCodeEditor({resource:K},ne.getFocusedCodeEditor()).then(he=>{if(!(0,_.isCodeEditor)(he)||!he.hasModel())return;const de=d.ReferencesController.get(he);if(!de)return;const ae=(0,k.createCancelablePromise)($=>(0,E.getReferencesAtPosition)(J.referenceProvider,he.getModel(),t.Position.lift(Z),!1,$).then(V=>new h.ReferencesModel(V,l.localize(38,null)))),ce=new i.Range(Z.lineNumber,Z.column,Z.lineNumber,Z.column);return Promise.resolve(de.toggleWidget(ce,ae,!1))})}}),C.CommandsRegistry.registerCommandAlias("editor.action.showReferences","editor.action.peekLocations")}),define(X[366],ee([1,0,14,12,55,2,18,102,15,5,41,68,187,136,656,13,255,247,19,39,441]),function(q,e,L,k,y,D,S,m,_,f,p,s,t,i,o,r,d,h,n,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GotoDefinitionAtPositionEditorContribution=void 0;let a=e.GotoDefinitionAtPositionEditorContribution=class si{constructor(u,C,g,v){this.textModelResolverService=C,this.languageService=g,this.languageFeaturesService=v,this.toUnhook=new D.DisposableStore,this.toUnhookForKeyboard=new D.DisposableStore,this.currentWordAtPosition=null,this.previousPromise=null,this.editor=u,this.linkDecorations=this.editor.createDecorationsCollection();const b=new t.ClickLinkGesture(u);this.toUnhook.add(b),this.toUnhook.add(b.onMouseMoveOrRelevantKeyDown(([w,E])=>{this.startFindDefinitionFromMouse(w,(0,S.withNullAsUndefined)(E))})),this.toUnhook.add(b.onExecute(w=>{this.isEnabled(w)&&this.gotoDefinition(w.target.position,w.hasSideBySideModifier).catch(E=>{(0,k.onUnexpectedError)(E)}).finally(()=>{this.removeLinkDecorations()})})),this.toUnhook.add(b.onCancel(()=>{this.removeLinkDecorations(),this.currentWordAtPosition=null}))}static get(u){return u.getContribution(si.ID)}startFindDefinitionFromCursor(u){return Le(this,void 0,void 0,function*(){yield this.startFindDefinition(u),this.toUnhookForKeyboard.add(this.editor.onDidChangeCursorPosition(()=>{this.currentWordAtPosition=null,this.removeLinkDecorations(),this.toUnhookForKeyboard.clear()})),this.toUnhookForKeyboard.add(this.editor.onKeyDown(C=>{C&&(this.currentWordAtPosition=null,this.removeLinkDecorations(),this.toUnhookForKeyboard.clear())}))})}startFindDefinitionFromMouse(u,C){if(u.target.type===9&&this.linkDecorations.length>0)return;if(!this.editor.hasModel()||!this.isEnabled(u,C)){this.currentWordAtPosition=null,this.removeLinkDecorations();return}const g=u.target.position;this.startFindDefinition(g)}startFindDefinition(u){var C;return Le(this,void 0,void 0,function*(){this.toUnhookForKeyboard.clear();const g=u?(C=this.editor.getModel())===null||C===void 0?void 0:C.getWordAtPosition(u):null;if(!g){this.currentWordAtPosition=null,this.removeLinkDecorations();return}if(this.currentWordAtPosition&&this.currentWordAtPosition.startColumn===g.startColumn&&this.currentWordAtPosition.endColumn===g.endColumn&&this.currentWordAtPosition.word===g.word)return;this.currentWordAtPosition=g;const v=new m.EditorState(this.editor,15);this.previousPromise&&(this.previousPromise.cancel(),this.previousPromise=null),this.previousPromise=(0,L.createCancelablePromise)(E=>this.findDefinition(u,E));let b;try{b=yield this.previousPromise}catch(E){(0,k.onUnexpectedError)(E);return}if(!b||!b.length||!v.validate(this.editor)){this.removeLinkDecorations();return}const w=b[0].originSelectionRange?f.Range.lift(b[0].originSelectionRange):new f.Range(u.lineNumber,g.startColumn,u.lineNumber,g.endColumn);if(b.length>1){let E=w;for(const{originSelectionRange:I}of b)I&&(E=f.Range.plusRange(E,I));this.addDecoration(E,new y.MarkdownString().appendText(o.localize(0,null,b.length)))}else{const E=b[0];if(!E.uri)return;this.textModelResolverService.createModelReference(E.uri).then(I=>{if(!I.object||!I.object.textEditorModel){I.dispose();return}const{object:{textEditorModel:T}}=I,{startLineNumber:P}=E.range;if(P<1||P>T.getLineCount()){I.dispose();return}const A=this.getPreviewValue(T,P,E),M=this.languageService.guessLanguageIdByFilepathOrFirstLine(T.uri);this.addDecoration(w,A?new y.MarkdownString().appendCodeblock(M||"",A):void 0),I.dispose()})}})}getPreviewValue(u,C,g){let v=g.range;return v.endLineNumber-v.startLineNumber>=si.MAX_SOURCE_PREVIEW_LINES&&(v=this.getPreviewRangeBasedOnIndentation(u,C)),this.stripIndentationFromPreviewRange(u,C,v)}stripIndentationFromPreviewRange(u,C,g){let b=u.getLineFirstNonWhitespaceColumn(C);for(let E=C+1;E<g.endLineNumber;E++){const I=u.getLineFirstNonWhitespaceColumn(E);b=Math.min(b,I)}return u.getValueInRange(g).replace(new RegExp(`^\\s{${b-1}}`,"gm"),"").trim()}getPreviewRangeBasedOnIndentation(u,C){const g=u.getLineFirstNonWhitespaceColumn(C),v=Math.min(u.getLineCount(),C+si.MAX_SOURCE_PREVIEW_LINES);let b=C+1;for(;b<v;b++){const w=u.getLineFirstNonWhitespaceColumn(b);if(g===w)break}return new f.Range(C,1,b+1,1)}addDecoration(u,C){const g={range:u,options:{description:"goto-definition-link",inlineClassName:"goto-definition-link",hoverMessage:C}};this.linkDecorations.set([g])}removeLinkDecorations(){this.linkDecorations.clear()}isEnabled(u,C){var g;return this.editor.hasModel()&&u.isLeftClick&&u.isNoneOrSingleMouseDown&&u.target.type===6&&!(((g=u.target.detail.injectedText)===null||g===void 0?void 0:g.options)instanceof c.ModelDecorationInjectedTextOptions)&&(u.hasTriggerModifier||(C?C.keyCodeIsTriggerKey:!1))&&this.languageFeaturesService.definitionProvider.has(this.editor.getModel())}findDefinition(u,C){const g=this.editor.getModel();return g?(0,h.getDefinitionsAtPosition)(this.languageFeaturesService.definitionProvider,g,u,C):Promise.resolve(null)}gotoDefinition(u,C){return this.editor.setPosition(u),this.editor.invokeWithinContext(g=>{const v=!C&&this.editor.getOption(85)&&!this.isInPeekEditor(g);return new d.DefinitionAction({openToSide:C,openInPeek:v,muteMessage:!0},{title:{value:"",original:""},id:"",precondition:void 0}).run(g)})}isInPeekEditor(u){const C=u.get(r.IContextKeyService);return i.PeekContext.inPeekEditor.getValue(C)}dispose(){this.toUnhook.dispose(),this.toUnhookForKeyboard.dispose()}};a.ID="editor.contrib.gotodefinitionatposition",a.MAX_SOURCE_PREVIEW_LINES=8,e.GotoDefinitionAtPositionEditorContribution=a=Ne([ge(1,s.ITextModelService),ge(2,p.ILanguageService),ge(3,n.ILanguageFeaturesService)],a),(0,_.registerEditorContribution)(a.ID,a,2)}),define(X[890],ee([1,0,7,16,14,12,2,43,5,19,234,135,250,112,364,664,97,56,83]),function(q,e,L,k,y,D,S,m,_,f,p,s,t,i,o,r,d,h,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarkerHoverParticipant=e.MarkerHover=void 0;const c=L.$;class a{constructor(g,v,b){this.owner=g,this.range=v,this.marker=b}isValidForHoverAnchor(g){return g.type===1&&this.range.startColumn<=g.range.startColumn&&this.range.endColumn>=g.range.endColumn}}e.MarkerHover=a;const l={type:1,filter:{include:i.CodeActionKind.QuickFix},triggerAction:i.CodeActionTriggerSource.QuickFixHover};let u=e.MarkerHoverParticipant=class{constructor(g,v,b,w){this._editor=g,this._markerDecorationsService=v,this._openerService=b,this._languageFeaturesService=w,this.hoverOrdinal=1,this.recentMarkerCodeActionsInfo=void 0}computeSync(g,v){if(!this._editor.hasModel()||g.type!==1&&!g.supportsMarkerHover)return[];const b=this._editor.getModel(),w=g.range.startLineNumber,E=b.getLineMaxColumn(w),I=[];for(const T of v){const P=T.range.startLineNumber===w?T.range.startColumn:1,A=T.range.endLineNumber===w?T.range.endColumn:E,M=this._markerDecorationsService.getMarker(b.uri,T);if(!M)continue;const N=new _.Range(g.range.startLineNumber,P,g.range.startLineNumber,A);I.push(new a(this,N,M))}return I}renderHoverParts(g,v){if(!v.length)return S.Disposable.None;const b=new S.DisposableStore;v.forEach(E=>g.fragment.appendChild(this.renderMarkerHover(E,b)));const w=v.length===1?v[0]:v.sort((E,I)=>d.MarkerSeverity.compare(E.marker.severity,I.marker.severity))[0];return this.renderMarkerStatusbar(g,w,b),b}renderMarkerHover(g,v){const b=c("div.hover-row"),w=L.append(b,c("div.marker.hover-contents")),{source:E,message:I,code:T,relatedInformation:P}=g.marker;this._editor.applyFontInfo(w);const A=L.append(w,c("span"));if(A.style.whiteSpace="pre-wrap",A.innerText=I,E||T)if(T&&typeof T!="string"){const M=c("span");if(E){const x=L.append(M,c("span"));x.innerText=E}const N=L.append(M,c("a.code-link"));N.setAttribute("href",T.target.toString()),v.add(L.addDisposableListener(N,"click",x=>{this._openerService.open(T.target,{allowCommands:!0}),x.preventDefault(),x.stopPropagation()}));const R=L.append(N,c("span"));R.innerText=T.value;const F=L.append(w,M);F.style.opacity="0.6",F.style.paddingLeft="6px"}else{const M=L.append(w,c("span"));M.style.opacity="0.6",M.style.paddingLeft="6px",M.innerText=E&&T?`${E}(${T})`:E||`(${T})`}if((0,k.isNonEmptyArray)(P))for(const{message:M,resource:N,startLineNumber:R,startColumn:F}of P){const x=L.append(w,c("div"));x.style.marginTop="8px";const W=L.append(x,c("a"));W.innerText=`${(0,m.basename)(N)}(${R}, ${F}): `,W.style.cursor="pointer",v.add(L.addDisposableListener(W,"click",U=>{U.stopPropagation(),U.preventDefault(),this._openerService&&this._openerService.open(N,{fromUserGesture:!0,editorOptions:{selection:{startLineNumber:R,startColumn:F}}}).catch(D.onUnexpectedError)}));const z=L.append(x,c("span"));z.innerText=M,this._editor.applyFontInfo(z)}return b}renderMarkerStatusbar(g,v,b){if((v.marker.severity===d.MarkerSeverity.Error||v.marker.severity===d.MarkerSeverity.Warning||v.marker.severity===d.MarkerSeverity.Info)&&g.statusBar.addAction({label:r.localize(0,null),commandId:o.NextMarkerAction.ID,run:()=>{var w;g.hide(),(w=o.MarkerController.get(this._editor))===null||w===void 0||w.showAtMarker(v.marker),this._editor.focus()}}),!this._editor.getOption(88)){const w=g.statusBar.append(c("div"));this.recentMarkerCodeActionsInfo&&(d.IMarkerData.makeKey(this.recentMarkerCodeActionsInfo.marker)===d.IMarkerData.makeKey(v.marker)?this.recentMarkerCodeActionsInfo.hasCodeActions||(w.textContent=r.localize(1,null)):this.recentMarkerCodeActionsInfo=void 0);const E=this.recentMarkerCodeActionsInfo&&!this.recentMarkerCodeActionsInfo.hasCodeActions?S.Disposable.None:b.add((0,y.disposableTimeout)(()=>w.textContent=r.localize(2,null),200));w.textContent||(w.textContent=String.fromCharCode(160));const I=this.getCodeActions(v.marker);b.add((0,S.toDisposable)(()=>I.cancel())),I.then(T=>{if(E.dispose(),this.recentMarkerCodeActionsInfo={marker:v.marker,hasCodeActions:T.validActions.length>0},!this.recentMarkerCodeActionsInfo.hasCodeActions){T.dispose(),w.textContent=r.localize(3,null);return}w.style.display="none";let P=!1;b.add((0,S.toDisposable)(()=>{P||T.dispose()})),g.statusBar.addAction({label:r.localize(4,null),commandId:s.quickFixCommandId,run:A=>{P=!0;const M=t.CodeActionController.get(this._editor),N=L.getDomNodePagePosition(A);g.hide(),M?.showCodeActions(l,T,{x:N.left,y:N.top,width:N.width,height:N.height})}})},D.onUnexpectedError)}}getCodeActions(g){return(0,y.createCancelablePromise)(v=>(0,s.getCodeActions)(this._languageFeaturesService.codeActionProvider,this._editor.getModel(),new _.Range(g.startLineNumber,g.startColumn,g.endLineNumber,g.endColumn),l,n.Progress.None,v))}};e.MarkerHoverParticipant=u=Ne([ge(1,p.IMarkerDecorationsService),ge(2,h.IOpenerService),ge(3,f.ILanguageFeaturesService)],u)}),define(X[367],ee([1,0,62,2,15,5,22,41,366,362,770,8,56,33,23,100,248,890,252,37,662,443]),function(q,e,L,k,y,D,S,m,_,f,p,s,t,i,o,r,d,h,n,c,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ModesHoverController=void 0;const l=!1;let u=e.ModesHoverController=class gn{static get(R){return R.getContribution(gn.ID)}constructor(R,F,x,W,z){this._editor=R,this._instantiationService=F,this._openerService=x,this._languageService=W,this._keybindingService=z,this._toUnhook=new k.DisposableStore,this._hoverActivatedByColorDecoratorClick=!1,this._isMouseDown=!1,this._hoverClicked=!1,this._contentWidget=null,this._glyphWidget=null,this._hookEvents(),this._didChangeConfigurationHandler=this._editor.onDidChangeConfiguration(U=>{U.hasChanged(58)&&(this._unhookEvents(),this._hookEvents())})}_hookEvents(){const R=()=>this._hideWidgets(),F=this._editor.getOption(58);this._isHoverEnabled=F.enabled,this._isHoverSticky=F.sticky,this._isHoverEnabled?(this._toUnhook.add(this._editor.onMouseDown(x=>this._onEditorMouseDown(x))),this._toUnhook.add(this._editor.onMouseUp(x=>this._onEditorMouseUp(x))),this._toUnhook.add(this._editor.onMouseMove(x=>this._onEditorMouseMove(x))),this._toUnhook.add(this._editor.onKeyDown(x=>this._onKeyDown(x)))):(this._toUnhook.add(this._editor.onMouseMove(x=>this._onEditorMouseMove(x))),this._toUnhook.add(this._editor.onKeyDown(x=>this._onKeyDown(x)))),this._toUnhook.add(this._editor.onMouseLeave(x=>this._onEditorMouseLeave(x))),this._toUnhook.add(this._editor.onDidChangeModel(R)),this._toUnhook.add(this._editor.onDidScrollChange(x=>this._onEditorScrollChanged(x)))}_unhookEvents(){this._toUnhook.clear()}_onEditorScrollChanged(R){(R.scrollTopChanged||R.scrollLeftChanged)&&this._hideWidgets()}_onEditorMouseDown(R){var F;this._isMouseDown=!0;const x=R.target;if(x.type===9&&x.detail===f.ContentHoverWidget.ID){this._hoverClicked=!0;return}x.type===12&&x.detail===p.MarginHoverWidget.ID||(x.type!==12&&(this._hoverClicked=!1),!((F=this._contentWidget)===null||F===void 0)&&F.widget.isResizing||this._hideWidgets())}_onEditorMouseUp(R){this._isMouseDown=!1}_onEditorMouseLeave(R){var F,x;const W=R.event.browserEvent.relatedTarget;!((F=this._contentWidget)===null||F===void 0)&&F.widget.isResizing||!((x=this._contentWidget)===null||x===void 0)&&x.containsNode(W)||l||this._hideWidgets()}_onEditorMouseMove(R){var F,x,W,z,U,O,G,Q,re,oe;const te=R.target;if(this._isMouseDown&&this._hoverClicked||this._isHoverSticky&&te.type===9&&te.detail===f.ContentHoverWidget.ID||this._isHoverSticky&&(!((F=this._contentWidget)===null||F===void 0)&&F.containsNode((x=R.event.browserEvent.view)===null||x===void 0?void 0:x.document.activeElement))&&!(!((z=(W=R.event.browserEvent.view)===null||W===void 0?void 0:W.getSelection())===null||z===void 0)&&z.isCollapsed)||!this._isHoverSticky&&te.type===9&&te.detail===f.ContentHoverWidget.ID&&(!((U=this._contentWidget)===null||U===void 0)&&U.isColorPickerVisible())||this._isHoverSticky&&te.type===12&&te.detail===p.MarginHoverWidget.ID||this._isHoverSticky&&(!((O=this._contentWidget)===null||O===void 0)&&O.isVisibleFromKeyboard()))return;const H=(G=te.element)===null||G===void 0?void 0:G.classList.contains("colorpicker-color-decoration"),B=this._editor.getOption(144);if(H&&(B==="click"&&!this._hoverActivatedByColorDecoratorClick||B==="hover"&&!this._isHoverEnabled&&!l||B==="clickAndHover"&&!this._isHoverEnabled&&!this._hoverActivatedByColorDecoratorClick)||!H&&!this._isHoverEnabled&&!this._hoverActivatedByColorDecoratorClick){this._hideWidgets();return}if(this._getOrCreateContentWidget().maybeShowAt(R)){(Q=this._glyphWidget)===null||Q===void 0||Q.hide();return}if(te.type===2&&te.position){(re=this._contentWidget)===null||re===void 0||re.hide(),this._glyphWidget||(this._glyphWidget=new p.MarginHoverWidget(this._editor,this._languageService,this._openerService)),this._glyphWidget.startShowingAt(te.position.lineNumber);return}!(!((oe=this._contentWidget)===null||oe===void 0)&&oe.widget.isResizing)&&!l&&this._hideWidgets()}_onKeyDown(R){var F;if(!this._editor.hasModel())return;const x=this._keybindingService.softDispatch(R,this._editor.getDomNode()),W=x.kind===1||x.kind===2&&x.commandId==="editor.action.showHover"&&((F=this._contentWidget)===null||F===void 0?void 0:F.isVisible());R.keyCode!==5&&R.keyCode!==6&&R.keyCode!==57&&R.keyCode!==4&&!W&&this._hideWidgets()}_hideWidgets(){var R,F,x;l||this._isMouseDown&&this._hoverClicked&&(!((R=this._contentWidget)===null||R===void 0)&&R.isColorPickerVisible())||n.InlineSuggestionHintsContentWidget.dropDownVisible||(this._hoverActivatedByColorDecoratorClick=!1,this._hoverClicked=!1,(F=this._glyphWidget)===null||F===void 0||F.hide(),(x=this._contentWidget)===null||x===void 0||x.hide())}_getOrCreateContentWidget(){return this._contentWidget||(this._contentWidget=this._instantiationService.createInstance(f.ContentHoverController,this._editor)),this._contentWidget}isColorPickerVisible(){var R;return((R=this._contentWidget)===null||R===void 0?void 0:R.isColorPickerVisible())||!1}showContentHover(R,F,x,W,z=!1){this._hoverActivatedByColorDecoratorClick=z,this._getOrCreateContentWidget().startShowingAtRange(R,F,x,W)}focus(){var R;(R=this._contentWidget)===null||R===void 0||R.focus()}scrollUp(){var R;(R=this._contentWidget)===null||R===void 0||R.scrollUp()}scrollDown(){var R;(R=this._contentWidget)===null||R===void 0||R.scrollDown()}scrollLeft(){var R;(R=this._contentWidget)===null||R===void 0||R.scrollLeft()}scrollRight(){var R;(R=this._contentWidget)===null||R===void 0||R.scrollRight()}pageUp(){var R;(R=this._contentWidget)===null||R===void 0||R.pageUp()}pageDown(){var R;(R=this._contentWidget)===null||R===void 0||R.pageDown()}goToTop(){var R;(R=this._contentWidget)===null||R===void 0||R.goToTop()}goToBottom(){var R;(R=this._contentWidget)===null||R===void 0||R.goToBottom()}escape(){var R;(R=this._contentWidget)===null||R===void 0||R.escape()}isHoverVisible(){var R;return(R=this._contentWidget)===null||R===void 0?void 0:R.isVisible()}dispose(){var R,F;this._unhookEvents(),this._toUnhook.dispose(),this._didChangeConfigurationHandler.dispose(),(R=this._glyphWidget)===null||R===void 0||R.dispose(),(F=this._contentWidget)===null||F===void 0||F.dispose()}};u.ID="editor.contrib.hover",e.ModesHoverController=u=Ne([ge(1,s.IInstantiationService),ge(2,t.IOpenerService),ge(3,m.ILanguageService),ge(4,c.IKeybindingService)],u);class C extends y.EditorAction{constructor(){super({id:"editor.action.showHover",label:a.localize(0,null),description:{description:"Show or Focus Hover",args:[{name:"args",schema:{type:"object",properties:{focus:{description:"Controls if when triggered with the keyboard, the hover should take focus immediately.",type:"boolean",default:!1}}}}]},alias:"Show or Focus Hover",precondition:void 0,kbOpts:{kbExpr:S.EditorContextKeys.editorTextFocus,primary:(0,L.KeyChord)(2089,2087),weight:100}})}run(R,F,x){if(!F.hasModel())return;const W=u.get(F);if(!W)return;const z=F.getPosition(),U=new D.Range(z.lineNumber,z.column,z.lineNumber,z.column),O=F.getOption(2)===2||!!x?.focus;W.isHoverVisible()?W.focus():W.showContentHover(U,1,1,O)}}class g extends y.EditorAction{constructor(){super({id:"editor.action.showDefinitionPreviewHover",label:a.localize(1,null),alias:"Show Definition Preview Hover",precondition:void 0})}run(R,F){const x=u.get(F);if(!x)return;const W=F.getPosition();if(!W)return;const z=new D.Range(W.lineNumber,W.column,W.lineNumber,W.column),U=_.GotoDefinitionAtPositionEditorContribution.get(F);if(!U)return;U.startFindDefinitionFromCursor(W).then(()=>{x.showContentHover(z,1,1,!0)})}}class v extends y.EditorAction{constructor(){super({id:"editor.action.scrollUpHover",label:a.localize(2,null),alias:"Scroll Up Hover",precondition:S.EditorContextKeys.hoverFocused,kbOpts:{kbExpr:S.EditorContextKeys.hoverFocused,primary:16,weight:100}})}run(R,F){const x=u.get(F);x&&x.scrollUp()}}class b extends y.EditorAction{constructor(){super({id:"editor.action.scrollDownHover",label:a.localize(3,null),alias:"Scroll Down Hover",precondition:S.EditorContextKeys.hoverFocused,kbOpts:{kbExpr:S.EditorContextKeys.hoverFocused,primary:18,weight:100}})}run(R,F){const x=u.get(F);x&&x.scrollDown()}}class w extends y.EditorAction{constructor(){super({id:"editor.action.scrollLeftHover",label:a.localize(4,null),alias:"Scroll Left Hover",precondition:S.EditorContextKeys.hoverFocused,kbOpts:{kbExpr:S.EditorContextKeys.hoverFocused,primary:15,weight:100}})}run(R,F){const x=u.get(F);x&&x.scrollLeft()}}class E extends y.EditorAction{constructor(){super({id:"editor.action.scrollRightHover",label:a.localize(5,null),alias:"Scroll Right Hover",precondition:S.EditorContextKeys.hoverFocused,kbOpts:{kbExpr:S.EditorContextKeys.hoverFocused,primary:17,weight:100}})}run(R,F){const x=u.get(F);x&&x.scrollRight()}}class I extends y.EditorAction{constructor(){super({id:"editor.action.pageUpHover",label:a.localize(6,null),alias:"Page Up Hover",precondition:S.EditorContextKeys.hoverFocused,kbOpts:{kbExpr:S.EditorContextKeys.hoverFocused,primary:11,secondary:[528],weight:100}})}run(R,F){const x=u.get(F);x&&x.pageUp()}}class T extends y.EditorAction{constructor(){super({id:"editor.action.pageDownHover",label:a.localize(7,null),alias:"Page Down Hover",precondition:S.EditorContextKeys.hoverFocused,kbOpts:{kbExpr:S.EditorContextKeys.hoverFocused,primary:12,secondary:[530],weight:100}})}run(R,F){const x=u.get(F);x&&x.pageDown()}}class P extends y.EditorAction{constructor(){super({id:"editor.action.goToTopHover",label:a.localize(8,null),alias:"Go To Bottom Hover",precondition:S.EditorContextKeys.hoverFocused,kbOpts:{kbExpr:S.EditorContextKeys.hoverFocused,primary:14,secondary:[2064],weight:100}})}run(R,F){const x=u.get(F);x&&x.goToTop()}}class A extends y.EditorAction{constructor(){super({id:"editor.action.goToBottomHover",label:a.localize(9,null),alias:"Go To Bottom Hover",precondition:S.EditorContextKeys.hoverFocused,kbOpts:{kbExpr:S.EditorContextKeys.hoverFocused,primary:13,secondary:[2066],weight:100}})}run(R,F){const x=u.get(F);x&&x.goToBottom()}}class M extends y.EditorAction{constructor(){super({id:"editor.action.escapeFocusHover",label:a.localize(10,null),alias:"Escape Focus Hover",precondition:S.EditorContextKeys.hoverFocused,kbOpts:{kbExpr:S.EditorContextKeys.hoverFocused,primary:9,weight:100}})}run(R,F){const x=u.get(F);x&&x.escape()}}(0,y.registerEditorContribution)(u.ID,u,2),(0,y.registerEditorAction)(C),(0,y.registerEditorAction)(g),(0,y.registerEditorAction)(v),(0,y.registerEditorAction)(b),(0,y.registerEditorAction)(w),(0,y.registerEditorAction)(E),(0,y.registerEditorAction)(I),(0,y.registerEditorAction)(T),(0,y.registerEditorAction)(P),(0,y.registerEditorAction)(A),(0,y.registerEditorAction)(M),r.HoverParticipantRegistry.register(d.MarkdownHoverParticipant),r.HoverParticipantRegistry.register(h.MarkerHoverParticipant),(0,o.registerThemingParticipant)((N,R)=>{const F=N.getColor(i.editorHoverBorder);F&&(R.addRule(`.monaco-editor .monaco-hover .hover-row:not(:first-child):not(:empty) { border-top: 1px solid ${F.transparent(.5)}; }`),R.addRule(`.monaco-editor .monaco-hover hr { border-top: 1px solid ${F.transparent(.5)}; }`),R.addRule(`.monaco-editor .monaco-hover hr { border-bottom: 0px solid ${F.transparent(.5)}; }`))})}),define(X[891],ee([1,0,2,15,5,358,359,367,100]),function(q,e,L,k,y,D,S,m,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorContribution=void 0;class f extends L.Disposable{constructor(s){super(),this._editor=s,this._register(s.onMouseDown(t=>this.onMouseDown(t)))}dispose(){super.dispose()}onMouseDown(s){const t=this._editor.getOption(144);if(t!=="click"&&t!=="clickAndHover")return;const i=s.target;if(i.type!==6||!i.detail.injectedText||i.detail.injectedText.options.attachedData!==D.ColorDecorationInjectedTextMarker||!i.range)return;const o=this._editor.getContribution(m.ModesHoverController.ID);if(o&&!o.isColorPickerVisible()){const r=new y.Range(i.range.startLineNumber,i.range.startColumn+1,i.range.endLineNumber,i.range.endColumn+1);o.showContentHover(r,1,0,!1,!0)}}}e.ColorContribution=f,f.ID="editor.contrib.colorContribution",(0,k.registerEditorContribution)(f.ID,f,2),_.HoverParticipantRegistry.register(S.ColorHoverParticipant)}),define(X[368],ee([1,0,7,40,20,172,5,68,255,136,31,26,13,57,8,44]),function(q,e,L,k,y,D,S,m,_,f,p,s,t,i,o,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.goToDefinitionWithLocation=e.showGoToContextMenu=void 0;function d(n,c,a,l){var u;return Le(this,void 0,void 0,function*(){const C=n.get(m.ITextModelService),g=n.get(i.IContextMenuService),v=n.get(s.ICommandService),b=n.get(o.IInstantiationService),w=n.get(r.INotificationService);if(yield l.item.resolve(y.CancellationToken.None),!l.part.location)return;const E=l.part.location,I=[],T=new Set(p.MenuRegistry.getMenuItems(p.MenuId.EditorContext).map(A=>(0,p.isIMenuItem)(A)?A.command.id:(0,D.generateUuid)()));for(const A of _.SymbolNavigationAction.all())T.has(A.desc.id)&&I.push(new k.Action(A.desc.id,p.MenuItemAction.label(A.desc,{renderShortTitle:!0}),void 0,!0,()=>Le(this,void 0,void 0,function*(){const M=yield C.createModelReference(E.uri);try{const N=new _.SymbolNavigationAnchor(M.object.textEditorModel,S.Range.getStartPosition(E.range)),R=l.item.anchor.range;yield b.invokeFunction(A.runEditorCommand.bind(A),c,N,R)}finally{M.dispose()}})));if(l.part.command){const{command:A}=l.part;I.push(new k.Separator),I.push(new k.Action(A.id,A.title,void 0,!0,()=>Le(this,void 0,void 0,function*(){var M;try{yield v.executeCommand(A.id,...(M=A.arguments)!==null&&M!==void 0?M:[])}catch(N){w.notify({severity:r.Severity.Error,source:l.item.provider.displayName,message:N})}})))}const P=c.getOption(124);g.showContextMenu({domForShadowRoot:P&&(u=c.getDomNode())!==null&&u!==void 0?u:void 0,getAnchor:()=>{const A=L.getDomNodePagePosition(a);return{x:A.left,y:A.top+A.height+8}},getActions:()=>I,onHide:()=>{c.focus()},autoSelectFirstItem:!0})})}e.showGoToContextMenu=d;function h(n,c,a,l){return Le(this,void 0,void 0,function*(){const C=yield n.get(m.ITextModelService).createModelReference(l.uri);yield a.invokeWithinContext(g=>Le(this,void 0,void 0,function*(){const v=c.hasSideBySideModifier,b=g.get(t.IContextKeyService),w=f.PeekContext.inPeekEditor.getValue(b),E=!v&&a.getOption(85)&&!w;return new _.DefinitionAction({openToSide:v,openInPeek:E,muteMessage:!0},{title:{value:"",original:""},id:"",precondition:void 0}).run(g,new _.SymbolNavigationAnchor(C.object.textEditorModel,S.Range.getStartPosition(l.range)),S.Range.lift(l.range))})),C.dispose()})}e.goToDefinitionWithLocation=h}),define(X[369],ee([1,0,7,16,14,20,12,2,64,18,21,161,108,35,71,5,29,47,39,75,19,68,187,321,368,26,48,8,44,33,23]),function(q,e,L,k,y,D,S,m,_,f,p,s,t,i,o,r,d,h,n,c,a,l,u,C,g,v,b,w,E,I,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlayHintsController=e.RenderedInlayHintLabelPart=void 0;class P{constructor(){this._entries=new _.LRUCache(50)}get(W){const z=P._key(W);return this._entries.get(z)}set(W,z){const U=P._key(W);this._entries.set(U,z)}static _key(W){return`${W.uri.toString()}/${W.getVersionId()}`}}const A=(0,w.createDecorator)("IInlayHintsCache");(0,b.registerSingleton)(A,P,1);class M{constructor(W,z){this.item=W,this.index=z}get part(){const W=this.item.hint.label;return typeof W=="string"?{label:W}:W[this.index]}}e.RenderedInlayHintLabelPart=M;class N{constructor(W,z){this.part=W,this.hasTriggerModifier=z}}let R=e.InlayHintsController=class Di{static get(W){var z;return(z=W.getContribution(Di.ID))!==null&&z!==void 0?z:void 0}constructor(W,z,U,O,G,Q,re){this._editor=W,this._languageFeaturesService=z,this._inlayHintsCache=O,this._commandService=G,this._notificationService=Q,this._instaService=re,this._disposables=new m.DisposableStore,this._sessionDisposables=new m.DisposableStore,this._decorationsMetadata=new Map,this._ruleFactory=new s.DynamicCssRules(this._editor),this._activeRenderMode=0,this._debounceInfo=U.for(z.inlayHintsProvider,"InlayHint",{min:25}),this._disposables.add(z.inlayHintsProvider.onDidChange(()=>this._update())),this._disposables.add(W.onDidChangeModel(()=>this._update())),this._disposables.add(W.onDidChangeModelLanguage(()=>this._update())),this._disposables.add(W.onDidChangeConfiguration(oe=>{oe.hasChanged(137)&&this._update()})),this._update()}dispose(){this._sessionDisposables.dispose(),this._removeAllDecorations(),this._disposables.dispose()}_update(){this._sessionDisposables.clear(),this._removeAllDecorations();const W=this._editor.getOption(137);if(W.enabled==="off")return;const z=this._editor.getModel();if(!z||!this._languageFeaturesService.inlayHintsProvider.has(z))return;const U=this._inlayHintsCache.get(z);U&&this._updateHintsDecorators([z.getFullModelRange()],U),this._sessionDisposables.add((0,m.toDisposable)(()=>{z.isDisposed()||this._cacheHintsForFastRestore(z)}));let O;const G=new Set,Q=new y.RunOnceScheduler(()=>Le(this,void 0,void 0,function*(){const re=Date.now();O?.dispose(!0),O=new D.CancellationTokenSource;const oe=z.onWillDispose(()=>O?.cancel());try{const te=O.token,H=yield C.InlayHintsFragments.create(this._languageFeaturesService.inlayHintsProvider,z,this._getHintsRanges(),te);if(Q.delay=this._debounceInfo.update(z,Date.now()-re),te.isCancellationRequested){H.dispose();return}for(const B of H.provider)typeof B.onDidChangeInlayHints=="function"&&!G.has(B)&&(G.add(B),this._sessionDisposables.add(B.onDidChangeInlayHints(()=>{Q.isScheduled()||Q.schedule()})));this._sessionDisposables.add(H),this._updateHintsDecorators(H.ranges,H.items),this._cacheHintsForFastRestore(z)}catch(te){(0,S.onUnexpectedError)(te)}finally{O.dispose(),oe.dispose()}}),this._debounceInfo.get(z));if(this._sessionDisposables.add(Q),this._sessionDisposables.add((0,m.toDisposable)(()=>O?.dispose(!0))),Q.schedule(0),this._sessionDisposables.add(this._editor.onDidScrollChange(re=>{(re.scrollTopChanged||!Q.isScheduled())&&Q.schedule()})),this._sessionDisposables.add(this._editor.onDidChangeModelContent(re=>{const oe=Math.max(Q.delay,1250);Q.schedule(oe)})),W.enabled==="on")this._activeRenderMode=0;else{let re,oe;W.enabled==="onUnlessPressed"?(re=0,oe=1):(re=1,oe=0),this._activeRenderMode=re,this._sessionDisposables.add(L.ModifierKeyEmitter.getInstance().event(te=>{if(!this._editor.hasModel())return;const H=te.altKey&&te.ctrlKey&&!(te.shiftKey||te.metaKey)?oe:re;if(H!==this._activeRenderMode){this._activeRenderMode=H;const B=this._editor.getModel(),K=this._copyInlayHintsWithCurrentAnchor(B);this._updateHintsDecorators([B.getFullModelRange()],K),Q.schedule(0)}}))}this._sessionDisposables.add(this._installDblClickGesture(()=>Q.schedule(0))),this._sessionDisposables.add(this._installLinkGesture()),this._sessionDisposables.add(this._installContextMenu())}_installLinkGesture(){const W=new m.DisposableStore,z=W.add(new u.ClickLinkGesture(this._editor)),U=new m.DisposableStore;return W.add(U),W.add(z.onMouseMoveOrRelevantKeyDown(O=>{const[G]=O,Q=this._getInlayHintLabelPart(G),re=this._editor.getModel();if(!Q||!re){U.clear();return}const oe=new D.CancellationTokenSource;U.add((0,m.toDisposable)(()=>oe.dispose(!0))),Q.item.resolve(oe.token),this._activeInlayHintPart=Q.part.command||Q.part.location?new N(Q,G.hasTriggerModifier):void 0;const te=re.validatePosition(Q.item.hint.position).lineNumber,H=new r.Range(te,1,te,re.getLineMaxColumn(te)),B=this._getInlineHintsForRange(H);this._updateHintsDecorators([H],B),U.add((0,m.toDisposable)(()=>{this._activeInlayHintPart=void 0,this._updateHintsDecorators([H],B)}))})),W.add(z.onCancel(()=>U.clear())),W.add(z.onExecute(O=>Le(this,void 0,void 0,function*(){const G=this._getInlayHintLabelPart(O);if(G){const Q=G.part;Q.location?this._instaService.invokeFunction(g.goToDefinitionWithLocation,O,this._editor,Q.location):d.Command.is(Q.command)&&(yield this._invokeCommand(Q.command,G.item))}}))),W}_getInlineHintsForRange(W){const z=new Set;for(const U of this._decorationsMetadata.values())W.containsRange(U.item.anchor.range)&&z.add(U.item);return Array.from(z)}_installDblClickGesture(W){return this._editor.onMouseUp(z=>Le(this,void 0,void 0,function*(){if(z.event.detail!==2)return;const U=this._getInlayHintLabelPart(z);if(U&&(z.event.preventDefault(),yield U.item.resolve(D.CancellationToken.None),(0,k.isNonEmptyArray)(U.item.hint.textEdits))){const O=U.item.hint.textEdits.map(G=>o.EditOperation.replace(r.Range.lift(G.range),G.text));this._editor.executeEdits("inlayHint.default",O),W()}}))}_installContextMenu(){return this._editor.onContextMenu(W=>Le(this,void 0,void 0,function*(){if(!(W.event.target instanceof HTMLElement))return;const z=this._getInlayHintLabelPart(W);z&&(yield this._instaService.invokeFunction(g.showGoToContextMenu,this._editor,W.event.target,z))}))}_getInlayHintLabelPart(W){var z;if(W.target.type!==6)return;const U=(z=W.target.detail.injectedText)===null||z===void 0?void 0:z.options;if(U instanceof n.ModelDecorationInjectedTextOptions&&U?.attachedData instanceof M)return U.attachedData}_invokeCommand(W,z){var U;return Le(this,void 0,void 0,function*(){try{yield this._commandService.executeCommand(W.id,...(U=W.arguments)!==null&&U!==void 0?U:[])}catch(O){this._notificationService.notify({severity:E.Severity.Error,source:z.provider.displayName,message:O})}})}_cacheHintsForFastRestore(W){const z=this._copyInlayHintsWithCurrentAnchor(W);this._inlayHintsCache.set(W,z)}_copyInlayHintsWithCurrentAnchor(W){const z=new Map;for(const[U,O]of this._decorationsMetadata){if(z.has(O.item))continue;const G=W.getDecorationRange(U);if(G){const Q=new C.InlayHintAnchor(G,O.item.anchor.direction),re=O.item.with({anchor:Q});z.set(O.item,re)}}return Array.from(z.values())}_getHintsRanges(){const z=this._editor.getModel(),U=this._editor.getVisibleRangesPlusViewportAboveBelow(),O=[];for(const G of U.sort(r.Range.compareRangesUsingStarts)){const Q=z.validateRange(new r.Range(G.startLineNumber-30,G.startColumn,G.endLineNumber+30,G.endColumn));O.length===0||!r.Range.areIntersectingOrTouching(O[O.length-1],Q)?O.push(Q):O[O.length-1]=r.Range.plusRange(O[O.length-1],Q)}return O}_updateHintsDecorators(W,z){var U,O;const G=[],Q=(ne,he,de,ae,ce)=>{const $={content:de,inlineClassNameAffectsLetterSpacing:!0,inlineClassName:he.className,cursorStops:ae,attachedData:ce};G.push({item:ne,classNameRef:he,decoration:{range:ne.anchor.range,options:{description:"InlayHint",showIfCollapsed:ne.anchor.range.isEmpty(),collapseOnReplaceEdit:!ne.anchor.range.isEmpty(),stickiness:0,[ne.anchor.direction]:this._activeRenderMode===0?$:void 0}}})},re=(ne,he)=>{const de=this._ruleFactory.createClassNameRef({width:`${oe/3|0}px`,display:"inline-block"});Q(ne,de,"\u200A",he?h.InjectedTextCursorStops.Right:h.InjectedTextCursorStops.None)},{fontSize:oe,fontFamily:te,padding:H,isUniform:B}=this._getLayoutInfo(),K="--code-editorInlayHintsFontFamily";this._editor.getContainerDomNode().style.setProperty(K,te);for(const ne of z){ne.hint.paddingLeft&&re(ne,!1);const he=typeof ne.hint.label=="string"?[{label:ne.hint.label}]:ne.hint.label;for(let de=0;de<he.length;de++){const ae=he[de],ce=de===0,$=de===he.length-1,V={fontSize:`${oe}px`,fontFamily:`var(${K}), ${i.EDITOR_FONT_DEFAULTS.fontFamily}`,verticalAlign:B?"baseline":"middle",unicodeBidi:"isolate"};(0,k.isNonEmptyArray)(ne.hint.textEdits)&&(V.cursor="default"),this._fillInColors(V,ne.hint),(ae.command||ae.location)&&((U=this._activeInlayHintPart)===null||U===void 0?void 0:U.part.item)===ne&&this._activeInlayHintPart.part.index===de&&(V.textDecoration="underline",this._activeInlayHintPart.hasTriggerModifier&&(V.color=(0,T.themeColorFromId)(I.editorActiveLinkForeground),V.cursor="pointer")),H&&(ce&&$?(V.padding=`1px ${Math.max(1,oe/4)|0}px`,V.borderRadius=`${oe/4|0}px`):ce?(V.padding=`1px 0 1px ${Math.max(1,oe/4)|0}px`,V.borderRadius=`${oe/4|0}px 0 0 ${oe/4|0}px`):$?(V.padding=`1px ${Math.max(1,oe/4)|0}px 1px 0`,V.borderRadius=`0 ${oe/4|0}px ${oe/4|0}px 0`):V.padding="1px 0 1px 0"),Q(ne,this._ruleFactory.createClassNameRef(V),F(ae.label),$&&!ne.hint.paddingRight?h.InjectedTextCursorStops.Right:h.InjectedTextCursorStops.None,new M(ne,de))}if(ne.hint.paddingRight&&re(ne,!0),G.length>Di._MAX_DECORATORS)break}const Z=[];for(const ne of W)for(const{id:he}of(O=this._editor.getDecorationsInRange(ne))!==null&&O!==void 0?O:[]){const de=this._decorationsMetadata.get(he);de&&(Z.push(he),de.classNameRef.dispose(),this._decorationsMetadata.delete(he))}const J=t.StableEditorScrollState.capture(this._editor);this._editor.changeDecorations(ne=>{const he=ne.deltaDecorations(Z,G.map(de=>de.decoration));for(let de=0;de<he.length;de++){const ae=G[de];this._decorationsMetadata.set(he[de],ae)}}),J.restore(this._editor)}_fillInColors(W,z){z.kind===d.InlayHintKind.Parameter?(W.backgroundColor=(0,T.themeColorFromId)(I.editorInlayHintParameterBackground),W.color=(0,T.themeColorFromId)(I.editorInlayHintParameterForeground)):z.kind===d.InlayHintKind.Type?(W.backgroundColor=(0,T.themeColorFromId)(I.editorInlayHintTypeBackground),W.color=(0,T.themeColorFromId)(I.editorInlayHintTypeForeground)):(W.backgroundColor=(0,T.themeColorFromId)(I.editorInlayHintBackground),W.color=(0,T.themeColorFromId)(I.editorInlayHintForeground))}_getLayoutInfo(){const W=this._editor.getOption(137),z=W.padding,U=this._editor.getOption(50),O=this._editor.getOption(47);let G=W.fontSize;(!G||G<5||G>U)&&(G=U);const Q=W.fontFamily||O;return{fontSize:G,fontFamily:Q,padding:z,isUniform:!z&&Q===O&&G===U}}_removeAllDecorations(){this._editor.removeDecorations(Array.from(this._decorationsMetadata.keys()));for(const W of this._decorationsMetadata.values())W.classNameRef.dispose();this._decorationsMetadata.clear()}};R.ID="editor.contrib.InlayHints",R._MAX_DECORATORS=1500,e.InlayHintsController=R=Ne([ge(1,a.ILanguageFeaturesService),ge(2,c.ILanguageFeatureDebounceService),ge(3,A),ge(4,v.ICommandService),ge(5,E.INotificationService),ge(6,w.IInstantiationService)],R);function F(x){const W="\xA0";return x.replace(/[ \t]/g,W)}v.CommandsRegistry.registerCommand("_executeInlayHintProvider",(x,...W)=>Le(void 0,void 0,void 0,function*(){const[z,U]=W;(0,f.assertType)(p.URI.isUri(z)),(0,f.assertType)(r.Range.isIRange(U));const{inlayHintsProvider:O}=x.get(a.ILanguageFeaturesService),G=yield x.get(l.ITextModelService).createModelReference(z);try{const Q=yield C.InlayHintsFragments.create(O,G.object.textEditorModel,[r.Range.lift(U)],D.CancellationToken.None),re=Q.items.map(oe=>oe.hint);return setTimeout(()=>Q.dispose(),0),re}finally{G.dispose()}}))});var yt=this&&this.__asyncValues||function(q){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=q[Symbol.asyncIterator],L;return e?e.call(q):(q=typeof __values=="function"?__values(q):q[Symbol.iterator](),L={},k("next"),k("throw"),k("return"),L[Symbol.asyncIterator]=function(){return this},L);function k(D){L[D]=q[D]&&function(S){return new Promise(function(m,_){S=q[D](S),y(m,_,S.done,S.value)})}}function y(D,S,m,_){Promise.resolve(_).then(function(f){D({value:f,done:m})},S)}};define(X[892],ee([1,0,14,55,11,39,100,41,68,347,248,369,28,56,19,667,17,321,16]),function(q,e,L,k,y,D,S,m,_,f,p,s,t,i,o,r,d,h,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlayHintsHover=void 0;class c extends S.HoverForeignElementAnchor{constructor(u,C,g,v){super(10,C,u.item.anchor.range,g,v,!0),this.part=u}}let a=e.InlayHintsHover=class extends p.MarkdownHoverParticipant{constructor(u,C,g,v,b,w){super(u,C,g,v,w),this._resolverService=b,this.hoverOrdinal=6}suggestHoverAnchor(u){var C;if(!s.InlayHintsController.get(this._editor)||u.target.type!==6)return null;const v=(C=u.target.detail.injectedText)===null||C===void 0?void 0:C.options;return v instanceof D.ModelDecorationInjectedTextOptions&&v.attachedData instanceof s.RenderedInlayHintLabelPart?new c(v.attachedData,this,u.event.posx,u.event.posy):null}computeSync(){return[]}computeAsync(u,C,g){return u instanceof c?new L.AsyncIterableObject(v=>Le(this,void 0,void 0,function*(){var b,w,E,I;const{part:T}=u;if(yield T.item.resolve(g),g.isCancellationRequested)return;let P;typeof T.item.hint.tooltip=="string"?P=new k.MarkdownString().appendText(T.item.hint.tooltip):T.item.hint.tooltip&&(P=T.item.hint.tooltip),P&&v.emitOne(new p.MarkdownHover(this,u.range,[P],!1,0)),(0,n.isNonEmptyArray)(T.item.hint.textEdits)&&v.emitOne(new p.MarkdownHover(this,u.range,[new k.MarkdownString().appendText((0,r.localize)(0,null))],!1,10001));let A;if(typeof T.part.tooltip=="string"?A=new k.MarkdownString().appendText(T.part.tooltip):T.part.tooltip&&(A=T.part.tooltip),A&&v.emitOne(new p.MarkdownHover(this,u.range,[A],!1,1)),T.part.location||T.part.command){let x;const z=this._editor.getOption(75)==="altKey"?d.isMacintosh?(0,r.localize)(1,null):(0,r.localize)(2,null):d.isMacintosh?(0,r.localize)(3,null):(0,r.localize)(4,null);T.part.location&&T.part.command?x=new k.MarkdownString().appendText((0,r.localize)(5,null,z)):T.part.location?x=new k.MarkdownString().appendText((0,r.localize)(6,null,z)):T.part.command&&(x=new k.MarkdownString(`[${(0,r.localize)(7,null)}](${(0,h.asCommandLink)(T.part.command)} "${T.part.command.title}") (${z})`,{isTrusted:!0})),x&&v.emitOne(new p.MarkdownHover(this,u.range,[x],!1,1e4))}const M=yield this._resolveInlayHintLabelPartHover(T,g);try{for(var N=!0,R=yt(M),F;F=yield R.next(),b=F.done,!b;N=!0){I=F.value,N=!1;const x=I;v.emitOne(x)}}catch(x){w={error:x}}finally{try{!N&&!b&&(E=R.return)&&(yield E.call(R))}finally{if(w)throw w.error}}})):L.AsyncIterableObject.EMPTY}_resolveInlayHintLabelPartHover(u,C){return Le(this,void 0,void 0,function*(){if(!u.part.location)return L.AsyncIterableObject.EMPTY;const{uri:g,range:v}=u.part.location,b=yield this._resolverService.createModelReference(g);try{const w=b.object.textEditorModel;return this._languageFeaturesService.hoverProvider.has(w)?(0,f.getHover)(this._languageFeaturesService.hoverProvider,w,new y.Position(v.startLineNumber,v.startColumn),C).filter(E=>!(0,k.isEmptyMarkdownString)(E.hover.contents)).map(E=>new p.MarkdownHover(this,u.item.anchor.range,E.hover.contents,!1,2+E.ordinal)):L.AsyncIterableObject.EMPTY}finally{b.dispose()}})}};e.InlayHintsHover=a=Ne([ge(1,m.ILanguageService),ge(2,i.IOpenerService),ge(3,t.IConfigurationService),ge(4,_.ITextModelService),ge(5,o.ILanguageFeaturesService)],a)}),define(X[893],ee([1,0,15,100,369,892]),function(q,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),(0,L.registerEditorContribution)(y.InlayHintsController.ID,y.InlayHintsController,1),k.HoverParticipantRegistry.register(D.InlayHintsHover)}),define(X[370],ee([1,0,2,19,883,882,8,57,31,13,22,187,5,247,368,11,20,30,75,7,215]),function(q,e,L,k,y,D,S,m,_,f,p,s,t,i,o,r,d,h,n,c,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StickyScrollController=void 0;let l=e.StickyScrollController=class fn extends L.Disposable{constructor(C,g,v,b,w,E,I){super(),this._editor=C,this._contextMenuService=g,this._languageFeaturesService=v,this._instaService=b,this._contextKeyService=I,this._sessionStore=new L.DisposableStore,this._maxStickyLines=Number.MAX_SAFE_INTEGER,this._candidateDefinitionsLength=-1,this._focusedStickyElementIndex=-1,this._enabled=!1,this._focused=!1,this._positionRevealed=!1,this._onMouseDown=!1,this._stickyScrollWidget=new y.StickyScrollWidget(this._editor),this._stickyLineCandidateProvider=new D.StickyLineCandidateProvider(this._editor,v,w),this._register(this._stickyScrollWidget),this._register(this._stickyLineCandidateProvider),this._widgetState=new y.StickyScrollWidgetState([],0),this._readConfiguration(),this._register(this._editor.onDidChangeConfiguration(P=>{P.hasChanged(112)&&this._readConfiguration()})),this._register(c.addDisposableListener(this._stickyScrollWidget.getDomNode(),c.EventType.CONTEXT_MENU,P=>Le(this,void 0,void 0,function*(){this._onContextMenu(P)}))),this._stickyScrollFocusedContextKey=p.EditorContextKeys.stickyScrollFocused.bindTo(this._contextKeyService),this._stickyScrollVisibleContextKey=p.EditorContextKeys.stickyScrollVisible.bindTo(this._contextKeyService);const T=this._register(c.trackFocus(this._stickyScrollWidget.getDomNode()));this._register(T.onDidBlur(P=>{const A=this._stickyScrollWidget.getDomNode().clientHeight;this._positionRevealed===!1&&A===0?(this._focusedStickyElementIndex=-1,this.focus()):this._disposeFocusStickyScrollStore()})),this._register(T.onDidFocus(P=>{this.focus()})),this._register(this._createClickLinkGesture()),this._register(c.addDisposableListener(this._stickyScrollWidget.getDomNode(),c.EventType.MOUSE_DOWN,P=>{this._onMouseDown=!0}))}static get(C){return C.getContribution(fn.ID)}_disposeFocusStickyScrollStore(){var C;this._stickyScrollFocusedContextKey.set(!1),(C=this._focusDisposableStore)===null||C===void 0||C.dispose(),this._focused=!1,this._positionRevealed=!1,this._onMouseDown=!1}focus(){if(this._onMouseDown){this._onMouseDown=!1,this._editor.focus();return}if(this._stickyScrollFocusedContextKey.get()===!0)return;this._focused=!0,this._focusDisposableStore=new L.DisposableStore,this._stickyScrollFocusedContextKey.set(!0);const g=this._stickyScrollWidget.getDomNode();g.lastElementChild.focus(),this._stickyElements=g.children,this._focusedStickyElementIndex=this._stickyScrollWidget.lineNumbers.length-1}focusNext(){this._focusedStickyElementIndex<this._stickyElements.length-1&&this._focusNav(!0)}focusPrevious(){this._focusedStickyElementIndex>0&&this._focusNav(!1)}selectEditor(){this._editor.focus()}_focusNav(C){this._focusedStickyElementIndex=C?this._focusedStickyElementIndex+1:this._focusedStickyElementIndex-1,this._stickyElements.item(this._focusedStickyElementIndex).focus()}goToFocused(){const C=this._stickyScrollWidget.lineNumbers;this._disposeFocusStickyScrollStore(),this._revealPosition({lineNumber:C[this._focusedStickyElementIndex],column:1})}_revealPosition(C){this._positionRevealed=!0,this._editor.revealPosition(C),this._editor.setSelection(t.Range.fromPositions(C)),this._editor.focus()}_createClickLinkGesture(){const C=new L.DisposableStore,g=new L.DisposableStore;C.add(g);const v=new s.ClickLinkGesture(this._editor,!0);return C.add(v),C.add(v.onMouseMoveOrRelevantKeyDown(([b,w])=>{if(!this._editor.hasModel()||!b.hasTriggerModifier){g.clear();return}const E=b.target;if(E.detail===this._stickyScrollWidget.getId()&&E.element.innerText===E.element.innerHTML){const I=E.element.innerText;if(this._stickyScrollWidget.hoverOnColumn===-1)return;const T=this._stickyScrollWidget.hoverOnLine,P=this._stickyScrollWidget.hoverOnColumn,A=new t.Range(T,P,T,P+I.length);if(!A.equalsRange(this._stickyRangeProjectedOnEditor))this._stickyRangeProjectedOnEditor=A,g.clear();else if(E.element.style.textDecoration==="underline")return;const M=new d.CancellationTokenSource;g.add((0,L.toDisposable)(()=>M.dispose(!0)));let N;(0,i.getDefinitionsAtPosition)(this._languageFeaturesService.definitionProvider,this._editor.getModel(),new r.Position(T,P+1),M.token).then(R=>{if(!M.token.isCancellationRequested)if(R.length!==0){this._candidateDefinitionsLength=R.length;const F=E.element;N!==F?(g.clear(),N=F,N.style.textDecoration="underline",g.add((0,L.toDisposable)(()=>{N.style.textDecoration="none"}))):N||(N=F,N.style.textDecoration="underline",g.add((0,L.toDisposable)(()=>{N.style.textDecoration="none"})))}else g.clear()})}else g.clear()})),C.add(v.onCancel(()=>{g.clear()})),C.add(v.onExecute(b=>Le(this,void 0,void 0,function*(){b.target.detail===this._stickyScrollWidget.getId()&&(b.hasTriggerModifier?(this._candidateDefinitionsLength>1&&(this._focused&&this._disposeFocusStickyScrollStore(),this._revealPosition({lineNumber:this._stickyScrollWidget.hoverOnLine,column:1})),this._instaService.invokeFunction(o.goToDefinitionWithLocation,b,this._editor,{uri:this._editor.getModel().uri,range:this._stickyRangeProjectedOnEditor})):b.isRightClick||(this._focused&&this._disposeFocusStickyScrollStore(),this._revealPosition({lineNumber:this._stickyScrollWidget.hoverOnLine,column:this._stickyScrollWidget.hoverOnColumn})))}))),C}_onContextMenu(C){this._contextMenuService.showContextMenu({menuId:_.MenuId.StickyScrollContext,getAnchor:()=>C})}_readConfiguration(){const C=this._editor.getOption(112);if(C.enabled===!1){this._editor.removeOverlayWidget(this._stickyScrollWidget),this._sessionStore.clear(),this._enabled=!1;return}else C.enabled&&!this._enabled&&(this._editor.addOverlayWidget(this._stickyScrollWidget),this._sessionStore.add(this._editor.onDidScrollChange(()=>this._renderStickyScroll())),this._sessionStore.add(this._editor.onDidLayoutChange(()=>this._onDidResize())),this._sessionStore.add(this._editor.onDidChangeModelTokens(v=>this._onTokensChange(v))),this._sessionStore.add(this._stickyLineCandidateProvider.onDidChangeStickyScroll(()=>this._renderStickyScroll())),this._enabled=!0);this._editor.getOption(65).renderType===2&&this._sessionStore.add(this._editor.onDidChangeCursorPosition(()=>this._renderStickyScroll()))}_needsUpdate(C){const g=this._stickyScrollWidget.getCurrentLines();for(const v of g)for(const b of C.ranges)if(v>=b.fromLineNumber&&v<=b.toLineNumber)return!0;return!1}_onTokensChange(C){this._needsUpdate(C)&&this._renderStickyScroll()}_onDidResize(){const C=this._editor.getLayoutInfo(),g=C.width-C.minimap.minimapCanvasOuterWidth-C.verticalScrollbarWidth;this._stickyScrollWidget.getDomNode().style.width=`${g}px`;const v=C.height/this._editor.getOption(64);this._maxStickyLines=Math.round(v*.25)}_renderStickyScroll(){if(!this._editor.hasModel())return;const C=this._editor.getModel(),g=this._stickyLineCandidateProvider.getVersionId();if(g===void 0||g===C.getVersionId())if(this._widgetState=this.findScrollWidgetState(),this._stickyScrollVisibleContextKey.set(this._widgetState.lineNumbers.length!==0),!this._focused)this._stickyScrollWidget.setState(this._widgetState);else if(this._stickyElements=this._stickyScrollWidget.getDomNode().children,this._focusedStickyElementIndex===-1)this._stickyScrollWidget.setState(this._widgetState),this._focusedStickyElementIndex=this._stickyElements.length-1,this._focusedStickyElementIndex!==-1&&this._stickyElements.item(this._focusedStickyElementIndex).focus();else{const v=this._stickyScrollWidget.lineNumbers[this._focusedStickyElementIndex];this._stickyScrollWidget.setState(this._widgetState),this._stickyElements.length===0?this._focusedStickyElementIndex=-1:(this._stickyScrollWidget.lineNumbers.includes(v)||(this._focusedStickyElementIndex=this._stickyElements.length-1),this._stickyElements.item(this._focusedStickyElementIndex).focus())}}findScrollWidgetState(){const C=this._editor.getOption(64),g=Math.min(this._maxStickyLines,this._editor.getOption(112).maxLineCount),v=this._editor.getScrollTop();let b=0;const w=[],E=this._editor.getVisibleRanges();if(E.length!==0){const I=new a.StickyRange(E[0].startLineNumber,E[E.length-1].endLineNumber),T=this._stickyLineCandidateProvider.getCandidateStickyLinesIntersecting(I);for(const P of T){const A=P.startLineNumber,M=P.endLineNumber,N=P.nestingDepth;if(M-A>0){const R=(N-1)*C,F=N*C,x=this._editor.getBottomForLineNumber(A)-v,W=this._editor.getTopForLineNumber(M)-v,z=this._editor.getBottomForLineNumber(M)-v;if(R>W&&R<=z){w.push(A),b=z-F;break}else F>x&&F<=z&&w.push(A);if(w.length===g)break}}}return new y.StickyScrollWidgetState(w,b)}dispose(){super.dispose(),this._sessionStore.dispose()}};l.ID="store.contrib.stickyScrollController",e.StickyScrollController=l=Ne([ge(1,m.IContextMenuService),ge(2,k.ILanguageFeaturesService),ge(3,S.IInstantiationService),ge(4,h.ILanguageConfigurationService),ge(5,n.ILanguageFeatureDebounceService),ge(6,f.IContextKeyService)],l)}),define(X[894],ee([1,0,15,689,730,31,28,13,22,370]),function(q,e,L,k,y,D,S,m,_,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelectEditor=e.GoToStickyScrollLine=e.SelectPreviousStickyScrollLine=e.SelectNextStickyScrollLine=e.FocusStickyScroll=e.ToggleStickyScroll=void 0;class p extends D.Action2{constructor(){super({id:"editor.action.toggleStickyScroll",title:{value:(0,k.localize)(0,null),mnemonicTitle:(0,k.localize)(1,null),original:"Toggle Sticky Scroll"},category:y.Categories.View,toggled:{condition:m.ContextKeyExpr.equals("config.editor.stickyScroll.enabled",!0),title:(0,k.localize)(2,null),mnemonicTitle:(0,k.localize)(3,null)},menu:[{id:D.MenuId.CommandPalette},{id:D.MenuId.MenubarViewMenu,group:"5_editor",order:2},{id:D.MenuId.StickyScrollContext}]})}run(n){return Le(this,void 0,void 0,function*(){const c=n.get(S.IConfigurationService),a=!c.getValue("editor.stickyScroll.enabled");return c.updateValue("editor.stickyScroll.enabled",a)})}}e.ToggleStickyScroll=p;const s=100;class t extends L.EditorAction2{constructor(){super({id:"editor.action.focusStickyScroll",title:{value:(0,k.localize)(4,null),mnemonicTitle:(0,k.localize)(5,null),original:"Focus Sticky Scroll"},precondition:m.ContextKeyExpr.and(m.ContextKeyExpr.has("config.editor.stickyScroll.enabled"),_.EditorContextKeys.stickyScrollVisible),menu:[{id:D.MenuId.CommandPalette}]})}runEditorCommand(n,c){var a;(a=f.StickyScrollController.get(c))===null||a===void 0||a.focus()}}e.FocusStickyScroll=t;class i extends L.EditorAction2{constructor(){super({id:"editor.action.selectNextStickyScrollLine",title:{value:(0,k.localize)(6,null),original:"Select next sticky scroll line"},precondition:_.EditorContextKeys.stickyScrollFocused.isEqualTo(!0),keybinding:{weight:s,primary:18}})}runEditorCommand(n,c){var a;(a=f.StickyScrollController.get(c))===null||a===void 0||a.focusNext()}}e.SelectNextStickyScrollLine=i;class o extends L.EditorAction2{constructor(){super({id:"editor.action.selectPreviousStickyScrollLine",title:{value:(0,k.localize)(7,null),original:"Select previous sticky scroll line"},precondition:_.EditorContextKeys.stickyScrollFocused.isEqualTo(!0),keybinding:{weight:s,primary:16}})}runEditorCommand(n,c){var a;(a=f.StickyScrollController.get(c))===null||a===void 0||a.focusPrevious()}}e.SelectPreviousStickyScrollLine=o;class r extends L.EditorAction2{constructor(){super({id:"editor.action.goToFocusedStickyScrollLine",title:{value:(0,k.localize)(8,null),original:"Go to focused sticky scroll line"},precondition:_.EditorContextKeys.stickyScrollFocused.isEqualTo(!0),keybinding:{weight:s,primary:3}})}runEditorCommand(n,c){var a;(a=f.StickyScrollController.get(c))===null||a===void 0||a.goToFocused()}}e.GoToStickyScrollLine=r;class d extends L.EditorAction2{constructor(){super({id:"editor.action.selectEditor",title:{value:(0,k.localize)(9,null),original:"Select Editor"},precondition:_.EditorContextKeys.stickyScrollFocused.isEqualTo(!0),keybinding:{weight:s,primary:9}})}runEditorCommand(n,c){var a;(a=f.StickyScrollController.get(c))===null||a===void 0||a.selectEditor()}}e.SelectEditor=d}),define(X[895],ee([1,0,15,894,370,31]),function(q,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),(0,L.registerEditorContribution)(y.StickyScrollController.ID,y.StickyScrollController,1),(0,D.registerAction2)(k.ToggleStickyScroll),(0,D.registerAction2)(k.FocusStickyScroll),(0,D.registerAction2)(k.SelectPreviousStickyScrollLine),(0,D.registerAction2)(k.SelectNextStickyScrollLine),(0,D.registerAction2)(k.GoToStickyScrollLine),(0,D.registerAction2)(k.SelectEditor)}),define(X[896],ee([1,0,15,32,365,28,13,8,44,87]),function(q,e,L,k,y,D,S,m,_,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandaloneReferencesController=void 0;let p=e.StandaloneReferencesController=class extends y.ReferencesController{constructor(t,i,o,r,d,h,n){super(!0,t,i,o,r,d,h,n)}};e.StandaloneReferencesController=p=Ne([ge(1,S.IContextKeyService),ge(2,k.ICodeEditorService),ge(3,_.INotificationService),ge(4,m.IInstantiationService),ge(5,f.IStorageService),ge(6,D.IConfigurationService)],p),(0,L.registerEditorContribution)(y.ReferencesController.ID,p,4)}),define(X[897],ee([1,0,12,2,53,107,727,157,48,44,193]),function(q,e,L,k,y,D,S,m,_,f,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UndoRedoService=void 0;const s=!1;function t(C){return C.scheme===y.Schemas.file?C.fsPath:C.path}let i=0;class o{constructor(g,v,b,w,E,I,T){this.id=++i,this.type=0,this.actual=g,this.label=g.label,this.confirmBeforeUndo=g.confirmBeforeUndo||!1,this.resourceLabel=v,this.strResource=b,this.resourceLabels=[this.resourceLabel],this.strResources=[this.strResource],this.groupId=w,this.groupOrder=E,this.sourceId=I,this.sourceOrder=T,this.isValid=!0}setValid(g){this.isValid=g}toString(){return`[id:${this.id}] [group:${this.groupId}] [${this.isValid?"  VALID":"INVALID"}] ${this.actual.constructor.name} - ${this.actual}`}}class r{constructor(g,v){this.resourceLabel=g,this.reason=v}}class d{constructor(){this.elements=new Map}createMessage(){const g=[],v=[];for(const[,w]of this.elements)(w.reason===0?g:v).push(w.resourceLabel);const b=[];return g.length>0&&b.push(S.localize(0,null,g.join(", "))),v.length>0&&b.push(S.localize(1,null,v.join(", "))),b.join(`
`)}get size(){return this.elements.size}has(g){return this.elements.has(g)}set(g,v){this.elements.set(g,v)}delete(g){return this.elements.delete(g)}}class h{constructor(g,v,b,w,E,I,T){this.id=++i,this.type=1,this.actual=g,this.label=g.label,this.confirmBeforeUndo=g.confirmBeforeUndo||!1,this.resourceLabels=v,this.strResources=b,this.groupId=w,this.groupOrder=E,this.sourceId=I,this.sourceOrder=T,this.removedResources=null,this.invalidatedResources=null}canSplit(){return typeof this.actual.split=="function"}removeResource(g,v,b){this.removedResources||(this.removedResources=new d),this.removedResources.has(v)||this.removedResources.set(v,new r(g,b))}setValid(g,v,b){b?this.invalidatedResources&&(this.invalidatedResources.delete(v),this.invalidatedResources.size===0&&(this.invalidatedResources=null)):(this.invalidatedResources||(this.invalidatedResources=new d),this.invalidatedResources.has(v)||this.invalidatedResources.set(v,new r(g,0)))}toString(){return`[id:${this.id}] [group:${this.groupId}] [${this.invalidatedResources?"INVALID":"  VALID"}] ${this.actual.constructor.name} - ${this.actual}`}}class n{constructor(g,v){this.resourceLabel=g,this.strResource=v,this._past=[],this._future=[],this.locked=!1,this.versionId=1}dispose(){for(const g of this._past)g.type===1&&g.removeResource(this.resourceLabel,this.strResource,0);for(const g of this._future)g.type===1&&g.removeResource(this.resourceLabel,this.strResource,0);this.versionId++}toString(){const g=[];g.push(`* ${this.strResource}:`);for(let v=0;v<this._past.length;v++)g.push(`   * [UNDO] ${this._past[v]}`);for(let v=this._future.length-1;v>=0;v--)g.push(`   * [REDO] ${this._future[v]}`);return g.join(`
`)}flushAllElements(){this._past=[],this._future=[],this.versionId++}_setElementValidFlag(g,v){g.type===1?g.setValid(this.resourceLabel,this.strResource,v):g.setValid(v)}setElementsValidFlag(g,v){for(const b of this._past)v(b.actual)&&this._setElementValidFlag(b,g);for(const b of this._future)v(b.actual)&&this._setElementValidFlag(b,g)}pushElement(g){for(const v of this._future)v.type===1&&v.removeResource(this.resourceLabel,this.strResource,1);this._future=[],this._past.push(g),this.versionId++}createSnapshot(g){const v=[];for(let b=0,w=this._past.length;b<w;b++)v.push(this._past[b].id);for(let b=this._future.length-1;b>=0;b--)v.push(this._future[b].id);return new p.ResourceEditStackSnapshot(g,v)}restoreSnapshot(g){const v=g.elements.length;let b=!0,w=0,E=-1;for(let T=0,P=this._past.length;T<P;T++,w++){const A=this._past[T];b&&(w>=v||A.id!==g.elements[w])&&(b=!1,E=0),!b&&A.type===1&&A.removeResource(this.resourceLabel,this.strResource,0)}let I=-1;for(let T=this._future.length-1;T>=0;T--,w++){const P=this._future[T];b&&(w>=v||P.id!==g.elements[w])&&(b=!1,I=T),!b&&P.type===1&&P.removeResource(this.resourceLabel,this.strResource,0)}E!==-1&&(this._past=this._past.slice(0,E)),I!==-1&&(this._future=this._future.slice(I+1)),this.versionId++}getElements(){const g=[],v=[];for(const b of this._past)g.push(b.actual);for(const b of this._future)v.push(b.actual);return{past:g,future:v}}getClosestPastElement(){return this._past.length===0?null:this._past[this._past.length-1]}getSecondClosestPastElement(){return this._past.length<2?null:this._past[this._past.length-2]}getClosestFutureElement(){return this._future.length===0?null:this._future[this._future.length-1]}hasPastElements(){return this._past.length>0}hasFutureElements(){return this._future.length>0}splitPastWorkspaceElement(g,v){for(let b=this._past.length-1;b>=0;b--)if(this._past[b]===g){v.has(this.strResource)?this._past[b]=v.get(this.strResource):this._past.splice(b,1);break}this.versionId++}splitFutureWorkspaceElement(g,v){for(let b=this._future.length-1;b>=0;b--)if(this._future[b]===g){v.has(this.strResource)?this._future[b]=v.get(this.strResource):this._future.splice(b,1);break}this.versionId++}moveBackward(g){this._past.pop(),this._future.push(g),this.versionId++}moveForward(g){this._future.pop(),this._past.push(g),this.versionId++}}class c{constructor(g){this.editStacks=g,this._versionIds=[];for(let v=0,b=this.editStacks.length;v<b;v++)this._versionIds[v]=this.editStacks[v].versionId}isValid(){for(let g=0,v=this.editStacks.length;g<v;g++)if(this._versionIds[g]!==this.editStacks[g].versionId)return!1;return!0}}const a=new n("","");a.locked=!0;let l=e.UndoRedoService=class{constructor(g,v){this._dialogService=g,this._notificationService=v,this._editStacks=new Map,this._uriComparisonKeyComputers=[]}getUriComparisonKey(g){for(const v of this._uriComparisonKeyComputers)if(v[0]===g.scheme)return v[1].getComparisonKey(g);return g.toString()}_print(g){console.log("------------------------------------"),console.log(`AFTER ${g}: `);const v=[];for(const b of this._editStacks)v.push(b[1].toString());console.log(v.join(`
`))}pushElement(g,v=p.UndoRedoGroup.None,b=p.UndoRedoSource.None){if(g.type===0){const w=t(g.resource),E=this.getUriComparisonKey(g.resource);this._pushElement(new o(g,w,E,v.id,v.nextOrder(),b.id,b.nextOrder()))}else{const w=new Set,E=[],I=[];for(const T of g.resources){const P=t(T),A=this.getUriComparisonKey(T);w.has(A)||(w.add(A),E.push(P),I.push(A))}E.length===1?this._pushElement(new o(g,E[0],I[0],v.id,v.nextOrder(),b.id,b.nextOrder())):this._pushElement(new h(g,E,I,v.id,v.nextOrder(),b.id,b.nextOrder()))}s&&this._print("pushElement")}_pushElement(g){for(let v=0,b=g.strResources.length;v<b;v++){const w=g.resourceLabels[v],E=g.strResources[v];let I;this._editStacks.has(E)?I=this._editStacks.get(E):(I=new n(w,E),this._editStacks.set(E,I)),I.pushElement(g)}}getLastElement(g){const v=this.getUriComparisonKey(g);if(this._editStacks.has(v)){const b=this._editStacks.get(v);if(b.hasFutureElements())return null;const w=b.getClosestPastElement();return w?w.actual:null}return null}_splitPastWorkspaceElement(g,v){const b=g.actual.split(),w=new Map;for(const E of b){const I=t(E.resource),T=this.getUriComparisonKey(E.resource),P=new o(E,I,T,0,0,0,0);w.set(P.strResource,P)}for(const E of g.strResources){if(v&&v.has(E))continue;this._editStacks.get(E).splitPastWorkspaceElement(g,w)}}_splitFutureWorkspaceElement(g,v){const b=g.actual.split(),w=new Map;for(const E of b){const I=t(E.resource),T=this.getUriComparisonKey(E.resource),P=new o(E,I,T,0,0,0,0);w.set(P.strResource,P)}for(const E of g.strResources){if(v&&v.has(E))continue;this._editStacks.get(E).splitFutureWorkspaceElement(g,w)}}removeElements(g){const v=typeof g=="string"?g:this.getUriComparisonKey(g);this._editStacks.has(v)&&(this._editStacks.get(v).dispose(),this._editStacks.delete(v)),s&&this._print("removeElements")}setElementsValidFlag(g,v,b){const w=this.getUriComparisonKey(g);this._editStacks.has(w)&&this._editStacks.get(w).setElementsValidFlag(v,b),s&&this._print("setElementsValidFlag")}createSnapshot(g){const v=this.getUriComparisonKey(g);return this._editStacks.has(v)?this._editStacks.get(v).createSnapshot(g):new p.ResourceEditStackSnapshot(g,[])}restoreSnapshot(g){const v=this.getUriComparisonKey(g.resource);if(this._editStacks.has(v)){const b=this._editStacks.get(v);b.restoreSnapshot(g),!b.hasPastElements()&&!b.hasFutureElements()&&(b.dispose(),this._editStacks.delete(v))}s&&this._print("restoreSnapshot")}getElements(g){const v=this.getUriComparisonKey(g);return this._editStacks.has(v)?this._editStacks.get(v).getElements():{past:[],future:[]}}_findClosestUndoElementWithSource(g){if(!g)return[null,null];let v=null,b=null;for(const[w,E]of this._editStacks){const I=E.getClosestPastElement();I&&I.sourceId===g&&(!v||I.sourceOrder>v.sourceOrder)&&(v=I,b=w)}return[v,b]}canUndo(g){if(g instanceof p.UndoRedoSource){const[,b]=this._findClosestUndoElementWithSource(g.id);return!!b}const v=this.getUriComparisonKey(g);return this._editStacks.has(v)?this._editStacks.get(v).hasPastElements():!1}_onError(g,v){(0,L.onUnexpectedError)(g);for(const b of v.strResources)this.removeElements(b);this._notificationService.error(g)}_acquireLocks(g){for(const v of g.editStacks)if(v.locked)throw new Error("Cannot acquire edit stack lock");for(const v of g.editStacks)v.locked=!0;return()=>{for(const v of g.editStacks)v.locked=!1}}_safeInvokeWithLocks(g,v,b,w,E){const I=this._acquireLocks(b);let T;try{T=v()}catch(P){return I(),w.dispose(),this._onError(P,g)}return T?T.then(()=>(I(),w.dispose(),E()),P=>(I(),w.dispose(),this._onError(P,g))):(I(),w.dispose(),E())}_invokeWorkspacePrepare(g){return Le(this,void 0,void 0,function*(){if(typeof g.actual.prepareUndoRedo>"u")return k.Disposable.None;const v=g.actual.prepareUndoRedo();return typeof v>"u"?k.Disposable.None:v})}_invokeResourcePrepare(g,v){if(g.actual.type!==1||typeof g.actual.prepareUndoRedo>"u")return v(k.Disposable.None);const b=g.actual.prepareUndoRedo();return b?(0,k.isDisposable)(b)?v(b):b.then(w=>v(w)):v(k.Disposable.None)}_getAffectedEditStacks(g){const v=[];for(const b of g.strResources)v.push(this._editStacks.get(b)||a);return new c(v)}_tryToSplitAndUndo(g,v,b,w){if(v.canSplit())return this._splitPastWorkspaceElement(v,b),this._notificationService.warn(w),new u(this._undo(g,0,!0));for(const E of v.strResources)this.removeElements(E);return this._notificationService.warn(w),new u}_checkWorkspaceUndo(g,v,b,w){if(v.removedResources)return this._tryToSplitAndUndo(g,v,v.removedResources,S.localize(2,null,v.label,v.removedResources.createMessage()));if(w&&v.invalidatedResources)return this._tryToSplitAndUndo(g,v,v.invalidatedResources,S.localize(3,null,v.label,v.invalidatedResources.createMessage()));const E=[];for(const T of b.editStacks)T.getClosestPastElement()!==v&&E.push(T.resourceLabel);if(E.length>0)return this._tryToSplitAndUndo(g,v,null,S.localize(4,null,v.label,E.join(", ")));const I=[];for(const T of b.editStacks)T.locked&&I.push(T.resourceLabel);return I.length>0?this._tryToSplitAndUndo(g,v,null,S.localize(5,null,v.label,I.join(", "))):b.isValid()?null:this._tryToSplitAndUndo(g,v,null,S.localize(6,null,v.label))}_workspaceUndo(g,v,b){const w=this._getAffectedEditStacks(v),E=this._checkWorkspaceUndo(g,v,w,!1);return E?E.returnValue:this._confirmAndExecuteWorkspaceUndo(g,v,w,b)}_isPartOfUndoGroup(g){if(!g.groupId)return!1;for(const[,v]of this._editStacks){const b=v.getClosestPastElement();if(b){if(b===g){const w=v.getSecondClosestPastElement();if(w&&w.groupId===g.groupId)return!0}if(b.groupId===g.groupId)return!0}}return!1}_confirmAndExecuteWorkspaceUndo(g,v,b,w){return Le(this,void 0,void 0,function*(){if(v.canSplit()&&!this._isPartOfUndoGroup(v)){let T;(function(M){M[M.All=0]="All",M[M.This=1]="This",M[M.Cancel=2]="Cancel"})(T||(T={}));const{result:P}=yield this._dialogService.prompt({type:D.default.Info,message:S.localize(7,null,v.label),buttons:[{label:S.localize(8,null,b.editStacks.length),run:()=>T.All},{label:S.localize(9,null),run:()=>T.This}],cancelButton:{run:()=>T.Cancel}});if(P===T.Cancel)return;if(P===T.This)return this._splitPastWorkspaceElement(v,null),this._undo(g,0,!0);const A=this._checkWorkspaceUndo(g,v,b,!1);if(A)return A.returnValue;w=!0}let E;try{E=yield this._invokeWorkspacePrepare(v)}catch(T){return this._onError(T,v)}const I=this._checkWorkspaceUndo(g,v,b,!0);if(I)return E.dispose(),I.returnValue;for(const T of b.editStacks)T.moveBackward(v);return this._safeInvokeWithLocks(v,()=>v.actual.undo(),b,E,()=>this._continueUndoInGroup(v.groupId,w))})}_resourceUndo(g,v,b){if(!v.isValid){g.flushAllElements();return}if(g.locked){const w=S.localize(10,null,v.label);this._notificationService.warn(w);return}return this._invokeResourcePrepare(v,w=>(g.moveBackward(v),this._safeInvokeWithLocks(v,()=>v.actual.undo(),new c([g]),w,()=>this._continueUndoInGroup(v.groupId,b))))}_findClosestUndoElementInGroup(g){if(!g)return[null,null];let v=null,b=null;for(const[w,E]of this._editStacks){const I=E.getClosestPastElement();I&&I.groupId===g&&(!v||I.groupOrder>v.groupOrder)&&(v=I,b=w)}return[v,b]}_continueUndoInGroup(g,v){if(!g)return;const[,b]=this._findClosestUndoElementInGroup(g);if(b)return this._undo(b,0,v)}undo(g){if(g instanceof p.UndoRedoSource){const[,v]=this._findClosestUndoElementWithSource(g.id);return v?this._undo(v,g.id,!1):void 0}return typeof g=="string"?this._undo(g,0,!1):this._undo(this.getUriComparisonKey(g),0,!1)}_undo(g,v=0,b){if(!this._editStacks.has(g))return;const w=this._editStacks.get(g),E=w.getClosestPastElement();if(!E)return;if(E.groupId){const[T,P]=this._findClosestUndoElementInGroup(E.groupId);if(E!==T&&P)return this._undo(P,v,b)}if((E.sourceId!==v||E.confirmBeforeUndo)&&!b)return this._confirmAndContinueUndo(g,v,E);try{return E.type===1?this._workspaceUndo(g,E,b):this._resourceUndo(w,E,b)}finally{s&&this._print("undo")}}_confirmAndContinueUndo(g,v,b){return Le(this,void 0,void 0,function*(){if((yield this._dialogService.confirm({message:S.localize(11,null,b.label),primaryButton:S.localize(12,null),cancelButton:S.localize(13,null)})).confirmed)return this._undo(g,v,!0)})}_findClosestRedoElementWithSource(g){if(!g)return[null,null];let v=null,b=null;for(const[w,E]of this._editStacks){const I=E.getClosestFutureElement();I&&I.sourceId===g&&(!v||I.sourceOrder<v.sourceOrder)&&(v=I,b=w)}return[v,b]}canRedo(g){if(g instanceof p.UndoRedoSource){const[,b]=this._findClosestRedoElementWithSource(g.id);return!!b}const v=this.getUriComparisonKey(g);return this._editStacks.has(v)?this._editStacks.get(v).hasFutureElements():!1}_tryToSplitAndRedo(g,v,b,w){if(v.canSplit())return this._splitFutureWorkspaceElement(v,b),this._notificationService.warn(w),new u(this._redo(g));for(const E of v.strResources)this.removeElements(E);return this._notificationService.warn(w),new u}_checkWorkspaceRedo(g,v,b,w){if(v.removedResources)return this._tryToSplitAndRedo(g,v,v.removedResources,S.localize(14,null,v.label,v.removedResources.createMessage()));if(w&&v.invalidatedResources)return this._tryToSplitAndRedo(g,v,v.invalidatedResources,S.localize(15,null,v.label,v.invalidatedResources.createMessage()));const E=[];for(const T of b.editStacks)T.getClosestFutureElement()!==v&&E.push(T.resourceLabel);if(E.length>0)return this._tryToSplitAndRedo(g,v,null,S.localize(16,null,v.label,E.join(", ")));const I=[];for(const T of b.editStacks)T.locked&&I.push(T.resourceLabel);return I.length>0?this._tryToSplitAndRedo(g,v,null,S.localize(17,null,v.label,I.join(", "))):b.isValid()?null:this._tryToSplitAndRedo(g,v,null,S.localize(18,null,v.label))}_workspaceRedo(g,v){const b=this._getAffectedEditStacks(v),w=this._checkWorkspaceRedo(g,v,b,!1);return w?w.returnValue:this._executeWorkspaceRedo(g,v,b)}_executeWorkspaceRedo(g,v,b){return Le(this,void 0,void 0,function*(){let w;try{w=yield this._invokeWorkspacePrepare(v)}catch(I){return this._onError(I,v)}const E=this._checkWorkspaceRedo(g,v,b,!0);if(E)return w.dispose(),E.returnValue;for(const I of b.editStacks)I.moveForward(v);return this._safeInvokeWithLocks(v,()=>v.actual.redo(),b,w,()=>this._continueRedoInGroup(v.groupId))})}_resourceRedo(g,v){if(!v.isValid){g.flushAllElements();return}if(g.locked){const b=S.localize(19,null,v.label);this._notificationService.warn(b);return}return this._invokeResourcePrepare(v,b=>(g.moveForward(v),this._safeInvokeWithLocks(v,()=>v.actual.redo(),new c([g]),b,()=>this._continueRedoInGroup(v.groupId))))}_findClosestRedoElementInGroup(g){if(!g)return[null,null];let v=null,b=null;for(const[w,E]of this._editStacks){const I=E.getClosestFutureElement();I&&I.groupId===g&&(!v||I.groupOrder<v.groupOrder)&&(v=I,b=w)}return[v,b]}_continueRedoInGroup(g){if(!g)return;const[,v]=this._findClosestRedoElementInGroup(g);if(v)return this._redo(v)}redo(g){if(g instanceof p.UndoRedoSource){const[,v]=this._findClosestRedoElementWithSource(g.id);return v?this._redo(v):void 0}return typeof g=="string"?this._redo(g):this._redo(this.getUriComparisonKey(g))}_redo(g){if(!this._editStacks.has(g))return;const v=this._editStacks.get(g),b=v.getClosestFutureElement();if(b){if(b.groupId){const[w,E]=this._findClosestRedoElementInGroup(b.groupId);if(b!==w&&E)return this._redo(E)}try{return b.type===1?this._workspaceRedo(g,b):this._resourceRedo(v,b)}finally{s&&this._print("redo")}}}};e.UndoRedoService=l=Ne([ge(0,m.IDialogService),ge(1,f.INotificationService)],l);class u{constructor(g){this.returnValue=g}}(0,_.registerSingleton)(p.IUndoRedoService,l,1)}),define(X[165],ee([1,0,728,91,197,21,8]),function(q,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isStandaloneEditorWorkspace=e.STANDALONE_EDITOR_WORKSPACE_ID=e.WORKSPACE_FILTER=e.WORKSPACE_EXTENSION=e.WorkspaceFolder=e.Workspace=e.isWorkspaceIdentifier=e.toWorkspaceIdentifier=e.UNKNOWN_EMPTY_WINDOW_WORKSPACE=e.EXTENSION_DEVELOPMENT_EMPTY_WINDOW_WORKSPACE=e.isEmptyWorkspaceIdentifier=e.isSingleFolderWorkspaceIdentifier=e.IWorkspaceContextService=void 0,e.IWorkspaceContextService=(0,S.createDecorator)("contextService");function m(o){const r=o;return typeof r?.id=="string"&&D.URI.isUri(r.uri)}e.isSingleFolderWorkspaceIdentifier=m;function _(o){const r=o;return typeof r?.id=="string"&&!m(o)&&!p(o)}e.isEmptyWorkspaceIdentifier=_,e.EXTENSION_DEVELOPMENT_EMPTY_WINDOW_WORKSPACE={id:"ext-dev"},e.UNKNOWN_EMPTY_WINDOW_WORKSPACE={id:"empty-window"};function f(o,r){if(typeof o=="string"||typeof o>"u")return typeof o=="string"?{id:(0,k.basename)(o)}:r?e.EXTENSION_DEVELOPMENT_EMPTY_WINDOW_WORKSPACE:e.UNKNOWN_EMPTY_WINDOW_WORKSPACE;const d=o;return d.configuration?{id:d.id,configPath:d.configuration}:d.folders.length===1?{id:d.id,uri:d.folders[0].uri}:{id:d.id}}e.toWorkspaceIdentifier=f;function p(o){const r=o;return typeof r?.id=="string"&&D.URI.isUri(r.configPath)}e.isWorkspaceIdentifier=p;class s{constructor(r,d,h,n,c){this._id=r,this._transient=h,this._configuration=n,this._ignorePathCasing=c,this._foldersMap=y.TernarySearchTree.forUris(this._ignorePathCasing,()=>!0),this.folders=d}get folders(){return this._folders}set folders(r){this._folders=r,this.updateFoldersMap()}get id(){return this._id}get transient(){return this._transient}get configuration(){return this._configuration}set configuration(r){this._configuration=r}getFolder(r){return r&&this._foldersMap.findSubstr(r)||null}updateFoldersMap(){this._foldersMap=y.TernarySearchTree.forUris(this._ignorePathCasing,()=>!0);for(const r of this.folders)this._foldersMap.set(r.uri,r)}toJSON(){return{id:this.id,folders:this.folders,transient:this.transient,configuration:this.configuration}}}e.Workspace=s;class t{constructor(r,d){this.raw=d,this.uri=r.uri,this.index=r.index,this.name=r.name}toJSON(){return{uri:this.uri,name:this.name,index:this.index}}}e.WorkspaceFolder=t,e.WORKSPACE_EXTENSION="code-workspace",e.WORKSPACE_FILTER=[{name:(0,L.localize)(0,null),extensions:[e.WORKSPACE_EXTENSION]}],e.STANDALONE_EDITOR_WORKSPACE_ID="4064f6ec-cb38-4ad0-af64-ee6467e63c82";function i(o){return o.id===e.STANDALONE_EDITOR_WORKSPACE_ID}e.isStandaloneEditorWorkspace=i}),define(X[898],ee([1,0,7,153,40,2,17,15,22,639,31,13,57,37,28,165]),function(q,e,L,k,y,D,S,m,_,f,p,s,t,i,o,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextMenuController=void 0;let d=e.ContextMenuController=class mn{static get(c){return c.getContribution(mn.ID)}constructor(c,a,l,u,C,g,v,b){this._contextMenuService=a,this._contextViewService=l,this._contextKeyService=u,this._keybindingService=C,this._menuService=g,this._configurationService=v,this._workspaceContextService=b,this._toDispose=new D.DisposableStore,this._contextMenuIsBeingShownCount=0,this._editor=c,this._toDispose.add(this._editor.onContextMenu(w=>this._onContextMenu(w))),this._toDispose.add(this._editor.onMouseWheel(w=>{if(this._contextMenuIsBeingShownCount>0){const E=this._contextViewService.getContextViewElement(),I=w.srcElement;I.shadowRoot&&L.getShadowRoot(E)===I.shadowRoot||this._contextViewService.hideContextView()}})),this._toDispose.add(this._editor.onKeyDown(w=>{this._editor.getOption(22)&&w.keyCode===58&&(w.preventDefault(),w.stopPropagation(),this.showContextMenu())}))}_onContextMenu(c){if(!this._editor.hasModel())return;if(!this._editor.getOption(22)){this._editor.focus(),c.target.position&&!this._editor.getSelection().containsPosition(c.target.position)&&this._editor.setPosition(c.target.position);return}if(c.target.type===12||c.target.type===6&&c.target.detail.injectedText)return;if(c.event.preventDefault(),c.event.stopPropagation(),c.target.type===11)return this._showScrollbarContextMenu({x:c.event.posx-1,width:2,y:c.event.posy-1,height:2});if(c.target.type!==6&&c.target.type!==7&&c.target.type!==1)return;if(this._editor.focus(),c.target.position){let l=!1;for(const u of this._editor.getSelections())if(u.containsPosition(c.target.position)){l=!0;break}l||this._editor.setPosition(c.target.position)}let a=null;c.target.type!==1&&(a={x:c.event.posx-1,width:2,y:c.event.posy-1,height:2}),this.showContextMenu(a)}showContextMenu(c){if(!this._editor.getOption(22)||!this._editor.hasModel())return;const a=this._getMenuActions(this._editor.getModel(),this._editor.isSimpleWidget?p.MenuId.SimpleEditorContext:p.MenuId.EditorContext);a.length>0&&this._doShowContextMenu(a,c)}_getMenuActions(c,a){const l=[],u=this._menuService.createMenu(a,this._contextKeyService),C=u.getActions({arg:c.uri});u.dispose();for(const g of C){const[,v]=g;let b=0;for(const w of v)if(w instanceof p.SubmenuItemAction){const E=this._getMenuActions(c,w.item.submenu);E.length>0&&(l.push(new y.SubmenuAction(w.id,w.label,E)),b++)}else l.push(w),b++;b&&l.push(new y.Separator)}return l.length&&l.pop(),l}_doShowContextMenu(c,a=null){if(!this._editor.hasModel())return;const l=this._editor.getOption(58);if(this._editor.updateOptions({hover:{enabled:!1}}),!a){this._editor.revealPosition(this._editor.getPosition(),1),this._editor.render();const C=this._editor.getScrolledVisiblePosition(this._editor.getPosition()),g=L.getDomNodePagePosition(this._editor.getDomNode()),v=g.left+C.left,b=g.top+C.top+C.height;a={x:v,y:b}}const u=this._editor.getOption(124)&&!S.isIOS;this._contextMenuIsBeingShownCount++,this._contextMenuService.showContextMenu({domForShadowRoot:u?this._editor.getDomNode():void 0,getAnchor:()=>a,getActions:()=>c,getActionViewItem:C=>{const g=this._keybindingFor(C);if(g)return new k.ActionViewItem(C,C,{label:!0,keybinding:g.getLabel(),isMenu:!0});const v=C;return typeof v.getActionViewItem=="function"?v.getActionViewItem():new k.ActionViewItem(C,C,{icon:!0,label:!0,isMenu:!0})},getKeyBinding:C=>this._keybindingFor(C),onHide:C=>{this._contextMenuIsBeingShownCount--,this._editor.updateOptions({hover:l})}})}_showScrollbarContextMenu(c){if(!this._editor.hasModel()||(0,r.isStandaloneEditorWorkspace)(this._workspaceContextService.getWorkspace()))return;const a=this._editor.getOption(70);let l=0;const u=w=>({id:`menu-action-${++l}`,label:w.label,tooltip:"",class:void 0,enabled:typeof w.enabled>"u"?!0:w.enabled,checked:w.checked,run:w.run}),C=(w,E)=>new y.SubmenuAction(`menu-action-${++l}`,w,E,void 0),g=(w,E,I,T,P)=>{if(!E)return u({label:w,enabled:E,run:()=>{}});const A=N=>()=>{this._configurationService.updateValue(I,N)},M=[];for(const N of P)M.push(u({label:N.label,checked:T===N.value,run:A(N.value)}));return C(w,M)},v=[];v.push(u({label:f.localize(0,null),checked:a.enabled,run:()=>{this._configurationService.updateValue("editor.minimap.enabled",!a.enabled)}})),v.push(new y.Separator),v.push(u({label:f.localize(1,null),enabled:a.enabled,checked:a.renderCharacters,run:()=>{this._configurationService.updateValue("editor.minimap.renderCharacters",!a.renderCharacters)}})),v.push(g(f.localize(2,null),a.enabled,"editor.minimap.size",a.size,[{label:f.localize(3,null),value:"proportional"},{label:f.localize(4,null),value:"fill"},{label:f.localize(5,null),value:"fit"}])),v.push(g(f.localize(6,null),a.enabled,"editor.minimap.showSlider",a.showSlider,[{label:f.localize(7,null),value:"mouseover"},{label:f.localize(8,null),value:"always"}]));const b=this._editor.getOption(124)&&!S.isIOS;this._contextMenuIsBeingShownCount++,this._contextMenuService.showContextMenu({domForShadowRoot:b?this._editor.getDomNode():void 0,getAnchor:()=>c,getActions:()=>v,onHide:w=>{this._contextMenuIsBeingShownCount--,this._editor.focus()}})}_keybindingFor(c){return this._keybindingService.lookupKeybinding(c.id)}dispose(){this._contextMenuIsBeingShownCount>0&&this._contextViewService.hideContextView(),this._toDispose.dispose()}};d.ID="editor.contrib.contextmenu",e.ContextMenuController=d=Ne([ge(1,t.IContextMenuService),ge(2,t.IContextViewService),ge(3,s.IContextKeyService),ge(4,i.IKeybindingService),ge(5,p.IMenuService),ge(6,o.IConfigurationService),ge(7,r.IWorkspaceContextService)],d);class h extends m.EditorAction{constructor(){super({id:"editor.action.showContextMenu",label:f.localize(9,null),alias:"Show Editor Context Menu",precondition:void 0,kbOpts:{kbExpr:_.EditorContextKeys.textInputFocus,primary:1092,weight:100}})}run(c,a){var l;(l=d.get(a))===null||l===void 0||l.showContextMenu()}}(0,m.registerEditorContribution)(d.ID,d,2),(0,m.registerEditorAction)(h)}),define(X[371],ee([1,0,16,173,2,105,53,43,21,19,643,165]),function(q,e,L,k,y,D,S,m,_,f,p,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DefaultPasteProvidersFeature=e.DefaultDropProvidersFeature=void 0;const t=(0,p.localize)(0,null);class i{provideDocumentPasteEdits(l,u,C,g){return Le(this,void 0,void 0,function*(){const v=yield this.getEdit(C,g);return v?{id:this.id,insertText:v.insertText,label:v.label,detail:v.detail,priority:v.priority}:void 0})}provideDocumentOnDropEdits(l,u,C,g){return Le(this,void 0,void 0,function*(){const v=yield this.getEdit(C,g);return v?{id:this.id,insertText:v.insertText,label:v.label,priority:v.priority}:void 0})}}class o extends i{constructor(){super(...arguments),this.id="text",this.dropMimeTypes=[D.Mimes.text],this.pasteMimeTypes=[D.Mimes.text]}getEdit(l,u){return Le(this,void 0,void 0,function*(){const C=l.get(D.Mimes.text);if(!C||l.has(D.Mimes.uriList))return;const g=yield C.asString();return{id:this.id,priority:0,label:(0,p.localize)(1,null),detail:t,insertText:g}})}}class r extends i{constructor(){super(...arguments),this.id="uri",this.dropMimeTypes=[D.Mimes.uriList],this.pasteMimeTypes=[D.Mimes.uriList]}getEdit(l,u){return Le(this,void 0,void 0,function*(){const C=yield h(l);if(!C.length||u.isCancellationRequested)return;let g=0;const v=C.map(({uri:w,originalText:E})=>w.scheme===S.Schemas.file?w.fsPath:(g++,E)).join(" ");let b;return g>0?b=C.length>1?(0,p.localize)(2,null):(0,p.localize)(3,null):b=C.length>1?(0,p.localize)(4,null):(0,p.localize)(5,null),{id:this.id,priority:0,insertText:v,label:b,detail:t}})}}let d=class extends i{constructor(l){super(),this._workspaceContextService=l,this.id="relativePath",this.dropMimeTypes=[D.Mimes.uriList],this.pasteMimeTypes=[D.Mimes.uriList]}getEdit(l,u){return Le(this,void 0,void 0,function*(){const C=yield h(l);if(!C.length||u.isCancellationRequested)return;const g=(0,L.coalesce)(C.map(({uri:v})=>{const b=this._workspaceContextService.getWorkspaceFolder(v);return b?(0,m.relativePath)(b.uri,v):void 0}));if(g.length)return{id:this.id,priority:0,insertText:g.join(" "),label:C.length>1?(0,p.localize)(6,null):(0,p.localize)(7,null),detail:t}})}};d=Ne([ge(0,s.IWorkspaceContextService)],d);function h(a){return Le(this,void 0,void 0,function*(){const l=a.get(D.Mimes.uriList);if(!l)return[];const u=yield l.asString(),C=[];for(const g of k.UriList.parse(u))try{C.push({uri:_.URI.parse(g),originalText:g})}catch{}return C})}let n=e.DefaultDropProvidersFeature=class extends y.Disposable{constructor(l,u){super(),this._register(l.documentOnDropEditProvider.register("*",new o)),this._register(l.documentOnDropEditProvider.register("*",new r)),this._register(l.documentOnDropEditProvider.register("*",new d(u)))}};e.DefaultDropProvidersFeature=n=Ne([ge(0,f.ILanguageFeaturesService),ge(1,s.IWorkspaceContextService)],n);let c=e.DefaultPasteProvidersFeature=class extends y.Disposable{constructor(l,u){super(),this._register(l.documentPasteEditProvider.register("*",new o)),this._register(l.documentPasteEditProvider.register("*",new r)),this._register(l.documentPasteEditProvider.register("*",new d(u)))}};e.DefaultPasteProvidersFeature=c=Ne([ge(0,f.ILanguageFeaturesService),ge(1,s.IWorkspaceContextService)],c)}),define(X[899],ee([1,0,15,148,877,371,641]),function(q,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),(0,L.registerEditorContribution)(y.CopyPasteController.ID,y.CopyPasteController,0),(0,k.registerEditorFeature)(D.DefaultPasteProvidersFeature),(0,L.registerEditorCommand)(new class extends L.EditorCommand{constructor(){super({id:y.changePasteTypeCommandId,precondition:y.pasteWidgetVisibleCtx,kbOpts:{weight:100,primary:2137}})}runEditorCommand(m,_,f){var p;return(p=y.CopyPasteController.get(_))===null||p===void 0?void 0:p.changePasteType()}}),(0,L.registerEditorAction)(class extends L.EditorAction{constructor(){super({id:"editor.action.pasteAs",label:S.localize(0,null),alias:"Paste As...",precondition:void 0,description:{description:"Paste as",args:[{name:"args",schema:{type:"object",properties:{id:{type:"string",description:S.localize(1,null)}}}}]}})}run(m,_,f){var p;const s=typeof f?.id=="string"?f.id:void 0;return(p=y.CopyPasteController.get(_))===null||p===void 0?void 0:p.pasteAs(s)}})}),define(X[900],ee([1,0,15,148,371,878]),function(q,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),(0,L.registerEditorContribution)(D.DropIntoEditorController.ID,D.DropIntoEditorController,2),(0,L.registerEditorCommand)(new class extends L.EditorCommand{constructor(){super({id:D.changeDropTypeCommandId,precondition:D.dropWidgetVisibleCtx,kbOpts:{weight:100,primary:2137}})}runEditorCommand(S,m,_){var f;(f=D.DropIntoEditorController.get(m))===null||f===void 0||f.changeDropType()}}),(0,k.registerEditorFeature)(y.DefaultDropProvidersFeature)}),define(X[901],ee([1,0,566,91,43,9,172,30,128,688,165]),function(q,e,L,k,y,D,S,m,_,f,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RandomBasedVariableResolver=e.WorkspaceBasedVariableResolver=e.TimeBasedVariableResolver=e.CommentBasedVariableResolver=e.ClipboardBasedVariableResolver=e.ModelBasedVariableResolver=e.SelectionBasedVariableResolver=e.CompositeSnippetVariableResolver=e.KnownSnippetVariableNames=void 0,e.KnownSnippetVariableNames=Object.freeze({CURRENT_YEAR:!0,CURRENT_YEAR_SHORT:!0,CURRENT_MONTH:!0,CURRENT_DATE:!0,CURRENT_HOUR:!0,CURRENT_MINUTE:!0,CURRENT_SECOND:!0,CURRENT_DAY_NAME:!0,CURRENT_DAY_NAME_SHORT:!0,CURRENT_MONTH_NAME:!0,CURRENT_MONTH_NAME_SHORT:!0,CURRENT_SECONDS_UNIX:!0,CURRENT_TIMEZONE_OFFSET:!0,SELECTION:!0,CLIPBOARD:!0,TM_SELECTED_TEXT:!0,TM_CURRENT_LINE:!0,TM_CURRENT_WORD:!0,TM_LINE_INDEX:!0,TM_LINE_NUMBER:!0,TM_FILENAME:!0,TM_FILENAME_BASE:!0,TM_DIRECTORY:!0,TM_FILEPATH:!0,CURSOR_INDEX:!0,CURSOR_NUMBER:!0,RELATIVE_FILEPATH:!0,BLOCK_COMMENT_START:!0,BLOCK_COMMENT_END:!0,LINE_COMMENT:!0,WORKSPACE_NAME:!0,WORKSPACE_FOLDER:!0,RANDOM:!0,RANDOM_HEX:!0,UUID:!0});class s{constructor(a){this._delegates=a}resolve(a){for(const l of this._delegates){const u=l.resolve(a);if(u!==void 0)return u}}}e.CompositeSnippetVariableResolver=s;class t{constructor(a,l,u,C){this._model=a,this._selection=l,this._selectionIdx=u,this._overtypingCapturer=C}resolve(a){const{name:l}=a;if(l==="SELECTION"||l==="TM_SELECTED_TEXT"){let u=this._model.getValueInRange(this._selection)||void 0,C=this._selection.startLineNumber!==this._selection.endLineNumber;if(!u&&this._overtypingCapturer){const g=this._overtypingCapturer.getLastOvertypedInfo(this._selectionIdx);g&&(u=g.value,C=g.multiline)}if(u&&C&&a.snippet){const g=this._model.getLineContent(this._selection.startLineNumber),v=(0,D.getLeadingWhitespace)(g,0,this._selection.startColumn-1);let b=v;a.snippet.walk(E=>E===a?!1:(E instanceof _.Text&&(b=(0,D.getLeadingWhitespace)((0,D.splitLines)(E.value).pop())),!0));const w=(0,D.commonPrefixLength)(b,v);u=u.replace(/(\r\n|\r|\n)(.*)/g,(E,I,T)=>`${I}${b.substr(w)}${T}`)}return u}else{if(l==="TM_CURRENT_LINE")return this._model.getLineContent(this._selection.positionLineNumber);if(l==="TM_CURRENT_WORD"){const u=this._model.getWordAtPosition({lineNumber:this._selection.positionLineNumber,column:this._selection.positionColumn});return u&&u.word||void 0}else{if(l==="TM_LINE_INDEX")return String(this._selection.positionLineNumber-1);if(l==="TM_LINE_NUMBER")return String(this._selection.positionLineNumber);if(l==="CURSOR_INDEX")return String(this._selectionIdx);if(l==="CURSOR_NUMBER")return String(this._selectionIdx+1)}}}}e.SelectionBasedVariableResolver=t;class i{constructor(a,l){this._labelService=a,this._model=l}resolve(a){const{name:l}=a;if(l==="TM_FILENAME")return k.basename(this._model.uri.fsPath);if(l==="TM_FILENAME_BASE"){const u=k.basename(this._model.uri.fsPath),C=u.lastIndexOf(".");return C<=0?u:u.slice(0,C)}else{if(l==="TM_DIRECTORY")return k.dirname(this._model.uri.fsPath)==="."?"":this._labelService.getUriLabel((0,y.dirname)(this._model.uri));if(l==="TM_FILEPATH")return this._labelService.getUriLabel(this._model.uri);if(l==="RELATIVE_FILEPATH")return this._labelService.getUriLabel(this._model.uri,{relative:!0,noPrefix:!0})}}}e.ModelBasedVariableResolver=i;class o{constructor(a,l,u,C){this._readClipboardText=a,this._selectionIdx=l,this._selectionCount=u,this._spread=C}resolve(a){if(a.name!=="CLIPBOARD")return;const l=this._readClipboardText();if(l){if(this._spread){const u=l.split(/\r\n|\n|\r/).filter(C=>!(0,D.isFalsyOrWhitespace)(C));if(u.length===this._selectionCount)return u[this._selectionIdx]}return l}}}e.ClipboardBasedVariableResolver=o;let r=e.CommentBasedVariableResolver=class{constructor(a,l,u){this._model=a,this._selection=l,this._languageConfigurationService=u}resolve(a){const{name:l}=a,u=this._model.getLanguageIdAtPosition(this._selection.selectionStartLineNumber,this._selection.selectionStartColumn),C=this._languageConfigurationService.getLanguageConfiguration(u).comments;if(C){if(l==="LINE_COMMENT")return C.lineCommentToken||void 0;if(l==="BLOCK_COMMENT_START")return C.blockCommentStartToken||void 0;if(l==="BLOCK_COMMENT_END")return C.blockCommentEndToken||void 0}}};e.CommentBasedVariableResolver=r=Ne([ge(2,m.ILanguageConfigurationService)],r);class d{constructor(){this._date=new Date}resolve(a){const{name:l}=a;if(l==="CURRENT_YEAR")return String(this._date.getFullYear());if(l==="CURRENT_YEAR_SHORT")return String(this._date.getFullYear()).slice(-2);if(l==="CURRENT_MONTH")return String(this._date.getMonth().valueOf()+1).padStart(2,"0");if(l==="CURRENT_DATE")return String(this._date.getDate().valueOf()).padStart(2,"0");if(l==="CURRENT_HOUR")return String(this._date.getHours().valueOf()).padStart(2,"0");if(l==="CURRENT_MINUTE")return String(this._date.getMinutes().valueOf()).padStart(2,"0");if(l==="CURRENT_SECOND")return String(this._date.getSeconds().valueOf()).padStart(2,"0");if(l==="CURRENT_DAY_NAME")return d.dayNames[this._date.getDay()];if(l==="CURRENT_DAY_NAME_SHORT")return d.dayNamesShort[this._date.getDay()];if(l==="CURRENT_MONTH_NAME")return d.monthNames[this._date.getMonth()];if(l==="CURRENT_MONTH_NAME_SHORT")return d.monthNamesShort[this._date.getMonth()];if(l==="CURRENT_SECONDS_UNIX")return String(Math.floor(this._date.getTime()/1e3));if(l==="CURRENT_TIMEZONE_OFFSET"){const u=this._date.getTimezoneOffset(),C=u>0?"-":"+",g=Math.trunc(Math.abs(u/60)),v=g<10?"0"+g:g,b=Math.abs(u)-g*60,w=b<10?"0"+b:b;return C+v+":"+w}}}e.TimeBasedVariableResolver=d,d.dayNames=[f.localize(0,null),f.localize(1,null),f.localize(2,null),f.localize(3,null),f.localize(4,null),f.localize(5,null),f.localize(6,null)],d.dayNamesShort=[f.localize(7,null),f.localize(8,null),f.localize(9,null),f.localize(10,null),f.localize(11,null),f.localize(12,null),f.localize(13,null)],d.monthNames=[f.localize(14,null),f.localize(15,null),f.localize(16,null),f.localize(17,null),f.localize(18,null),f.localize(19,null),f.localize(20,null),f.localize(21,null),f.localize(22,null),f.localize(23,null),f.localize(24,null),f.localize(25,null)],d.monthNamesShort=[f.localize(26,null),f.localize(27,null),f.localize(28,null),f.localize(29,null),f.localize(30,null),f.localize(31,null),f.localize(32,null),f.localize(33,null),f.localize(34,null),f.localize(35,null),f.localize(36,null),f.localize(37,null)];class h{constructor(a){this._workspaceService=a}resolve(a){if(!this._workspaceService)return;const l=(0,p.toWorkspaceIdentifier)(this._workspaceService.getWorkspace());if(!(0,p.isEmptyWorkspaceIdentifier)(l)){if(a.name==="WORKSPACE_NAME")return this._resolveWorkspaceName(l);if(a.name==="WORKSPACE_FOLDER")return this._resoveWorkspacePath(l)}}_resolveWorkspaceName(a){if((0,p.isSingleFolderWorkspaceIdentifier)(a))return k.basename(a.uri.path);let l=k.basename(a.configPath.path);return l.endsWith(p.WORKSPACE_EXTENSION)&&(l=l.substr(0,l.length-p.WORKSPACE_EXTENSION.length-1)),l}_resoveWorkspacePath(a){if((0,p.isSingleFolderWorkspaceIdentifier)(a))return(0,L.normalizeDriveLetter)(a.uri.fsPath);const l=k.basename(a.configPath.path);let u=a.configPath.fsPath;return u.endsWith(l)&&(u=u.substr(0,u.length-l.length-1)),u?(0,L.normalizeDriveLetter)(u):"/"}}e.WorkspaceBasedVariableResolver=h;class n{resolve(a){const{name:l}=a;if(l==="RANDOM")return Math.random().toString().slice(-6);if(l==="RANDOM_HEX")return Math.random().toString(16).slice(-6);if(l==="UUID")return(0,S.generateUuid)()}}e.RandomBasedVariableResolver=n}),define(X[372],ee([1,0,16,2,9,71,5,24,30,39,159,165,128,901,455]),function(q,e,L,k,y,D,S,m,_,f,p,s,t,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SnippetSession=e.OneSnippet=void 0;class o{constructor(n,c,a){this._editor=n,this._snippet=c,this._snippetLineLeadingWhitespace=a,this._offset=-1,this._nestingLevel=1,this._placeholderGroups=(0,L.groupBy)(c.placeholders,t.Placeholder.compareByIndex),this._placeholderGroupsIdx=-1}initialize(n){this._offset=n.newPosition}dispose(){this._placeholderDecorations&&this._editor.removeDecorations([...this._placeholderDecorations.values()]),this._placeholderGroups.length=0}_initDecorations(){if(this._offset===-1)throw new Error("Snippet not initialized!");if(this._placeholderDecorations)return;this._placeholderDecorations=new Map;const n=this._editor.getModel();this._editor.changeDecorations(c=>{for(const a of this._snippet.placeholders){const l=this._snippet.offset(a),u=this._snippet.fullLen(a),C=S.Range.fromPositions(n.getPositionAt(this._offset+l),n.getPositionAt(this._offset+l+u)),g=a.isFinalTabstop?o._decor.inactiveFinal:o._decor.inactive,v=c.addDecoration(C,g);this._placeholderDecorations.set(a,v)}})}move(n){if(!this._editor.hasModel())return[];if(this._initDecorations(),this._placeholderGroupsIdx>=0){const l=[];for(const u of this._placeholderGroups[this._placeholderGroupsIdx])if(u.transform){const C=this._placeholderDecorations.get(u),g=this._editor.getModel().getDecorationRange(C),v=this._editor.getModel().getValueInRange(g),b=u.transform.resolve(v).split(/\r\n|\r|\n/);for(let w=1;w<b.length;w++)b[w]=this._editor.getModel().normalizeIndentation(this._snippetLineLeadingWhitespace+b[w]);l.push(D.EditOperation.replace(g,b.join(this._editor.getModel().getEOL())))}l.length>0&&this._editor.executeEdits("snippet.placeholderTransform",l)}let c=!1;n===!0&&this._placeholderGroupsIdx<this._placeholderGroups.length-1?(this._placeholderGroupsIdx+=1,c=!0):n===!1&&this._placeholderGroupsIdx>0&&(this._placeholderGroupsIdx-=1,c=!0);const a=this._editor.getModel().changeDecorations(l=>{const u=new Set,C=[];for(const g of this._placeholderGroups[this._placeholderGroupsIdx]){const v=this._placeholderDecorations.get(g),b=this._editor.getModel().getDecorationRange(v);C.push(new m.Selection(b.startLineNumber,b.startColumn,b.endLineNumber,b.endColumn)),c=c&&this._hasPlaceholderBeenCollapsed(g),l.changeDecorationOptions(v,g.isFinalTabstop?o._decor.activeFinal:o._decor.active),u.add(g);for(const w of this._snippet.enclosingPlaceholders(g)){const E=this._placeholderDecorations.get(w);l.changeDecorationOptions(E,w.isFinalTabstop?o._decor.activeFinal:o._decor.active),u.add(w)}}for(const[g,v]of this._placeholderDecorations)u.has(g)||l.changeDecorationOptions(v,g.isFinalTabstop?o._decor.inactiveFinal:o._decor.inactive);return C});return c?this.move(n):a??[]}_hasPlaceholderBeenCollapsed(n){let c=n;for(;c;){if(c instanceof t.Placeholder){const a=this._placeholderDecorations.get(c);if(this._editor.getModel().getDecorationRange(a).isEmpty()&&c.toString().length>0)return!0}c=c.parent}return!1}get isAtFirstPlaceholder(){return this._placeholderGroupsIdx<=0||this._placeholderGroups.length===0}get isAtLastPlaceholder(){return this._placeholderGroupsIdx===this._placeholderGroups.length-1}get hasPlaceholder(){return this._snippet.placeholders.length>0}get isTrivialSnippet(){if(this._snippet.placeholders.length===0)return!0;if(this._snippet.placeholders.length===1){const[n]=this._snippet.placeholders;if(n.isFinalTabstop&&this._snippet.rightMostDescendant===n)return!0}return!1}computePossibleSelections(){const n=new Map;for(const c of this._placeholderGroups){let a;for(const l of c){if(l.isFinalTabstop)break;a||(a=[],n.set(l.index,a));const u=this._placeholderDecorations.get(l),C=this._editor.getModel().getDecorationRange(u);if(!C){n.delete(l.index);break}a.push(C)}}return n}get activeChoice(){if(!this._placeholderDecorations)return;const n=this._placeholderGroups[this._placeholderGroupsIdx][0];if(!n?.choice)return;const c=this._placeholderDecorations.get(n);if(!c)return;const a=this._editor.getModel().getDecorationRange(c);if(a)return{range:a,choice:n.choice}}get hasChoice(){let n=!1;return this._snippet.walk(c=>(n=c instanceof t.Choice,!n)),n}merge(n){const c=this._editor.getModel();this._nestingLevel*=10,this._editor.changeDecorations(a=>{for(const l of this._placeholderGroups[this._placeholderGroupsIdx]){const u=n.shift();console.assert(u._offset!==-1),console.assert(!u._placeholderDecorations);const C=u._snippet.placeholderInfo.last.index;for(const v of u._snippet.placeholderInfo.all)v.isFinalTabstop?v.index=l.index+(C+1)/this._nestingLevel:v.index=l.index+v.index/this._nestingLevel;this._snippet.replace(l,u._snippet.children);const g=this._placeholderDecorations.get(l);a.removeDecoration(g),this._placeholderDecorations.delete(l);for(const v of u._snippet.placeholders){const b=u._snippet.offset(v),w=u._snippet.fullLen(v),E=S.Range.fromPositions(c.getPositionAt(u._offset+b),c.getPositionAt(u._offset+b+w)),I=a.addDecoration(E,o._decor.inactive);this._placeholderDecorations.set(v,I)}}this._placeholderGroups=(0,L.groupBy)(this._snippet.placeholders,t.Placeholder.compareByIndex)})}}e.OneSnippet=o,o._decor={active:f.ModelDecorationOptions.register({description:"snippet-placeholder-1",stickiness:0,className:"snippet-placeholder"}),inactive:f.ModelDecorationOptions.register({description:"snippet-placeholder-2",stickiness:1,className:"snippet-placeholder"}),activeFinal:f.ModelDecorationOptions.register({description:"snippet-placeholder-3",stickiness:1,className:"finish-snippet-placeholder"}),inactiveFinal:f.ModelDecorationOptions.register({description:"snippet-placeholder-4",stickiness:1,className:"finish-snippet-placeholder"})};const r={overwriteBefore:0,overwriteAfter:0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0};let d=e.SnippetSession=class St{static adjustWhitespace(n,c,a,l,u){const C=n.getLineContent(c.lineNumber),g=(0,y.getLeadingWhitespace)(C,0,c.column-1);let v;return l.walk(b=>{if(!(b instanceof t.Text)||b.parent instanceof t.Choice||u&&!u.has(b))return!0;const w=b.value.split(/\r\n|\r|\n/);if(a){const I=l.offset(b);if(I===0)w[0]=n.normalizeIndentation(w[0]);else{v=v??l.toString();const T=v.charCodeAt(I-1);(T===10||T===13)&&(w[0]=n.normalizeIndentation(g+w[0]))}for(let T=1;T<w.length;T++)w[T]=n.normalizeIndentation(g+w[T])}const E=w.join(n.getEOL());return E!==b.value&&(b.parent.replace(b,[new t.Text(E)]),v=void 0),!0}),g}static adjustSelection(n,c,a,l){if(a!==0||l!==0){const{positionLineNumber:u,positionColumn:C}=c,g=C-a,v=C+l,b=n.validateRange({startLineNumber:u,startColumn:g,endLineNumber:u,endColumn:v});c=m.Selection.createWithDirection(b.startLineNumber,b.startColumn,b.endLineNumber,b.endColumn,c.getDirection())}return c}static createEditsAndSnippetsFromSelections(n,c,a,l,u,C,g,v,b){const w=[],E=[];if(!n.hasModel())return{edits:w,snippets:E};const I=n.getModel(),T=n.invokeWithinContext(x=>x.get(s.IWorkspaceContextService)),P=n.invokeWithinContext(x=>new i.ModelBasedVariableResolver(x.get(p.ILabelService),I)),A=()=>g,M=I.getValueInRange(St.adjustSelection(I,n.getSelection(),a,0)),N=I.getValueInRange(St.adjustSelection(I,n.getSelection(),0,l)),R=I.getLineFirstNonWhitespaceColumn(n.getSelection().positionLineNumber),F=n.getSelections().map((x,W)=>({selection:x,idx:W})).sort((x,W)=>S.Range.compareRangesUsingStarts(x.selection,W.selection));for(const{selection:x,idx:W}of F){let z=St.adjustSelection(I,x,a,0),U=St.adjustSelection(I,x,0,l);M!==I.getValueInRange(z)&&(z=x),N!==I.getValueInRange(U)&&(U=x);const O=x.setStartPosition(z.startLineNumber,z.startColumn).setEndPosition(U.endLineNumber,U.endColumn),G=new t.SnippetParser().parse(c,!0,u),Q=O.getStartPosition(),re=St.adjustWhitespace(I,Q,C||W>0&&R!==I.getLineFirstNonWhitespaceColumn(x.positionLineNumber),G);G.resolveVariables(new i.CompositeSnippetVariableResolver([P,new i.ClipboardBasedVariableResolver(A,W,F.length,n.getOption(76)==="spread"),new i.SelectionBasedVariableResolver(I,x,W,v),new i.CommentBasedVariableResolver(I,x,b),new i.TimeBasedVariableResolver,new i.WorkspaceBasedVariableResolver(T),new i.RandomBasedVariableResolver])),w[W]=D.EditOperation.replace(O,G.toString()),w[W].identifier={major:W,minor:0},w[W]._isTracked=!0,E[W]=new o(n,G,re)}return{edits:w,snippets:E}}static createEditsAndSnippetsFromEdits(n,c,a,l,u,C,g){if(!n.hasModel()||c.length===0)return{edits:[],snippets:[]};const v=[],b=n.getModel(),w=new t.SnippetParser,E=new t.TextmateSnippet,I=new i.CompositeSnippetVariableResolver([n.invokeWithinContext(P=>new i.ModelBasedVariableResolver(P.get(p.ILabelService),b)),new i.ClipboardBasedVariableResolver(()=>u,0,n.getSelections().length,n.getOption(76)==="spread"),new i.SelectionBasedVariableResolver(b,n.getSelection(),0,C),new i.CommentBasedVariableResolver(b,n.getSelection(),g),new i.TimeBasedVariableResolver,new i.WorkspaceBasedVariableResolver(n.invokeWithinContext(P=>P.get(s.IWorkspaceContextService))),new i.RandomBasedVariableResolver]);c=c.sort((P,A)=>S.Range.compareRangesUsingStarts(P.range,A.range));let T=0;for(let P=0;P<c.length;P++){const{range:A,template:M}=c[P];if(P>0){const W=c[P-1].range,z=S.Range.fromPositions(W.getEndPosition(),A.getStartPosition()),U=new t.Text(b.getValueInRange(z));E.appendChild(U),T+=U.value.length}const N=w.parseFragment(M,E);St.adjustWhitespace(b,A.getStartPosition(),!0,E,new Set(N)),E.resolveVariables(I);const R=E.toString(),F=R.slice(T);T=R.length;const x=D.EditOperation.replace(A,F);x.identifier={major:P,minor:0},x._isTracked=!0,v.push(x)}return w.ensureFinalTabstop(E,a,!0),{edits:v,snippets:[new o(n,E,"")]}}constructor(n,c,a=r,l){this._editor=n,this._template=c,this._options=a,this._languageConfigurationService=l,this._templateMerges=[],this._snippets=[]}dispose(){(0,k.dispose)(this._snippets)}_logInfo(){return`template="${this._template}", merged_templates="${this._templateMerges.join(" -> ")}"`}insert(){if(!this._editor.hasModel())return;const{edits:n,snippets:c}=typeof this._template=="string"?St.createEditsAndSnippetsFromSelections(this._editor,this._template,this._options.overwriteBefore,this._options.overwriteAfter,!1,this._options.adjustWhitespace,this._options.clipboardText,this._options.overtypingCapturer,this._languageConfigurationService):St.createEditsAndSnippetsFromEdits(this._editor,this._template,!1,this._options.adjustWhitespace,this._options.clipboardText,this._options.overtypingCapturer,this._languageConfigurationService);this._snippets=c,this._editor.executeEdits("snippet",n,a=>{const l=a.filter(u=>!!u.identifier);for(let u=0;u<c.length;u++)c[u].initialize(l[u].textChange);return this._snippets[0].hasPlaceholder?this._move(!0):l.map(u=>m.Selection.fromPositions(u.range.getEndPosition()))}),this._editor.revealRange(this._editor.getSelections()[0])}merge(n,c=r){if(!this._editor.hasModel())return;this._templateMerges.push([this._snippets[0]._nestingLevel,this._snippets[0]._placeholderGroupsIdx,n]);const{edits:a,snippets:l}=St.createEditsAndSnippetsFromSelections(this._editor,n,c.overwriteBefore,c.overwriteAfter,!0,c.adjustWhitespace,c.clipboardText,c.overtypingCapturer,this._languageConfigurationService);this._editor.executeEdits("snippet",a,u=>{const C=u.filter(v=>!!v.identifier);for(let v=0;v<l.length;v++)l[v].initialize(C[v].textChange);const g=l[0].isTrivialSnippet;if(!g){for(const v of this._snippets)v.merge(l);console.assert(l.length===0)}return this._snippets[0].hasPlaceholder&&!g?this._move(void 0):C.map(v=>m.Selection.fromPositions(v.range.getEndPosition()))})}next(){const n=this._move(!0);this._editor.setSelections(n),this._editor.revealPositionInCenterIfOutsideViewport(n[0].getPosition())}prev(){const n=this._move(!1);this._editor.setSelections(n),this._editor.revealPositionInCenterIfOutsideViewport(n[0].getPosition())}_move(n){const c=[];for(const a of this._snippets){const l=a.move(n);c.push(...l)}return c}get isAtFirstPlaceholder(){return this._snippets[0].isAtFirstPlaceholder}get isAtLastPlaceholder(){return this._snippets[0].isAtLastPlaceholder}get hasPlaceholder(){return this._snippets[0].hasPlaceholder}get hasChoice(){return this._snippets[0].hasChoice}get activeChoice(){return this._snippets[0].activeChoice}isSelectionWithinPlaceholders(){if(!this.hasPlaceholder)return!1;const n=this._editor.getSelections();if(n.length<this._snippets.length)return!1;const c=new Map;for(const a of this._snippets){const l=a.computePossibleSelections();if(c.size===0)for(const[u,C]of l){C.sort(S.Range.compareRangesUsingStarts);for(const g of n)if(C[0].containsRange(g)){c.set(u,[]);break}}if(c.size===0)return!1;c.forEach((u,C)=>{u.push(...l.get(C))})}n.sort(S.Range.compareRangesUsingStarts);for(const[a,l]of c){if(l.length!==n.length){c.delete(a);continue}l.sort(S.Range.compareRangesUsingStarts);for(let u=0;u<l.length;u++)if(!l[u].containsRange(n[u])){c.delete(a);continue}}return c.size>0}};e.SnippetSession=d=Ne([ge(3,_.ILanguageConfigurationService)],d)}),define(X[195],ee([1,0,2,18,15,11,22,30,19,160,687,13,69,372]),function(q,e,L,k,y,D,S,m,_,f,p,s,t,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SnippetController2=void 0;const o={overwriteBefore:0,overwriteAfter:0,undoStopBefore:!0,undoStopAfter:!0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0};let r=e.SnippetController2=class $t{static get(n){return n.getContribution($t.ID)}constructor(n,c,a,l,u){this._editor=n,this._logService=c,this._languageFeaturesService=a,this._languageConfigurationService=u,this._snippetListener=new L.DisposableStore,this._modelVersionId=-1,this._inSnippet=$t.InSnippetMode.bindTo(l),this._hasNextTabstop=$t.HasNextTabstop.bindTo(l),this._hasPrevTabstop=$t.HasPrevTabstop.bindTo(l)}dispose(){var n;this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),(n=this._session)===null||n===void 0||n.dispose(),this._snippetListener.dispose()}insert(n,c){try{this._doInsert(n,typeof c>"u"?o:Object.assign(Object.assign({},o),c))}catch(a){this.cancel(),this._logService.error(a),this._logService.error("snippet_error"),this._logService.error("insert_template=",n),this._logService.error("existing_template=",this._session?this._session._logInfo():"<no_session>")}}_doInsert(n,c){var a;if(this._editor.hasModel()){if(this._snippetListener.clear(),c.undoStopBefore&&this._editor.getModel().pushStackElement(),this._session&&typeof n!="string"&&this.cancel(),this._session?((0,k.assertType)(typeof n=="string"),this._session.merge(n,c)):(this._modelVersionId=this._editor.getModel().getAlternativeVersionId(),this._session=new i.SnippetSession(this._editor,n,c,this._languageConfigurationService),this._session.insert()),c.undoStopAfter&&this._editor.getModel().pushStackElement(),!((a=this._session)===null||a===void 0)&&a.hasChoice){const l={_debugDisplayName:"snippetChoiceCompletions",provideCompletionItems:(w,E)=>{if(!this._session||w!==this._editor.getModel()||!D.Position.equals(this._editor.getPosition(),E))return;const{activeChoice:I}=this._session;if(!I||I.choice.options.length===0)return;const T=w.getValueInRange(I.range),P=!!I.choice.options.find(M=>M.value===T),A=[];for(let M=0;M<I.choice.options.length;M++){const N=I.choice.options[M];A.push({kind:13,label:N.value,insertText:N.value,sortText:"a".repeat(M+1),range:I.range,filterText:P?`${T}_${N.value}`:void 0,command:{id:"jumpToNextSnippetPlaceholder",title:(0,p.localize)(3,null)}})}return{suggestions:A}}},u=this._editor.getModel();let C=L.Disposable.None,g=!1;const v=()=>{C.dispose(),g=!1},b=()=>{g||(C=this._languageFeaturesService.completionProvider.register({language:u.getLanguageId(),pattern:u.uri.fsPath,scheme:u.uri.scheme,exclusive:!0},l),g=!0)};this._snippetListener.add(C),this._choiceCompletions={provider:l,enable:b,disable:v}}this._updateState(),this._snippetListener.add(this._editor.onDidChangeModelContent(l=>l.isFlush&&this.cancel())),this._snippetListener.add(this._editor.onDidChangeModel(()=>this.cancel())),this._snippetListener.add(this._editor.onDidChangeCursorSelection(()=>this._updateState()))}}_updateState(){if(!(!this._session||!this._editor.hasModel())){if(this._modelVersionId===this._editor.getModel().getAlternativeVersionId())return this.cancel();if(!this._session.hasPlaceholder)return this.cancel();if(this._session.isAtLastPlaceholder||!this._session.isSelectionWithinPlaceholders())return this._editor.getModel().pushStackElement(),this.cancel();this._inSnippet.set(!0),this._hasPrevTabstop.set(!this._session.isAtFirstPlaceholder),this._hasNextTabstop.set(!this._session.isAtLastPlaceholder),this._handleChoice()}}_handleChoice(){var n;if(!this._session||!this._editor.hasModel()){this._currentChoice=void 0;return}const{activeChoice:c}=this._session;if(!c||!this._choiceCompletions){(n=this._choiceCompletions)===null||n===void 0||n.disable(),this._currentChoice=void 0;return}this._currentChoice!==c.choice&&(this._currentChoice=c.choice,this._choiceCompletions.enable(),queueMicrotask(()=>{(0,f.showSimpleSuggestions)(this._editor,this._choiceCompletions.provider)}))}finish(){for(;this._inSnippet.get();)this.next()}cancel(n=!1){var c;this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),this._snippetListener.clear(),this._currentChoice=void 0,(c=this._session)===null||c===void 0||c.dispose(),this._session=void 0,this._modelVersionId=-1,n&&this._editor.setSelections([this._editor.getSelection()])}prev(){var n;(n=this._session)===null||n===void 0||n.prev(),this._updateState()}next(){var n;(n=this._session)===null||n===void 0||n.next(),this._updateState()}isInSnippet(){return!!this._inSnippet.get()}};r.ID="snippetController2",r.InSnippetMode=new s.RawContextKey("inSnippetMode",!1,(0,p.localize)(0,null)),r.HasNextTabstop=new s.RawContextKey("hasNextTabstop",!1,(0,p.localize)(1,null)),r.HasPrevTabstop=new s.RawContextKey("hasPrevTabstop",!1,(0,p.localize)(2,null)),e.SnippetController2=r=Ne([ge(1,t.ILogService),ge(2,_.ILanguageFeaturesService),ge(3,s.IContextKeyService),ge(4,m.ILanguageConfigurationService)],r),(0,y.registerEditorContribution)(r.ID,r,4);const d=y.EditorCommand.bindToContribution(r.get);(0,y.registerEditorCommand)(new d({id:"jumpToNextSnippetPlaceholder",precondition:s.ContextKeyExpr.and(r.InSnippetMode,r.HasNextTabstop),handler:h=>h.next(),kbOpts:{weight:100+30,kbExpr:S.EditorContextKeys.editorTextFocus,primary:2}})),(0,y.registerEditorCommand)(new d({id:"jumpToPrevSnippetPlaceholder",precondition:s.ContextKeyExpr.and(r.InSnippetMode,r.HasPrevTabstop),handler:h=>h.prev(),kbOpts:{weight:100+30,kbExpr:S.EditorContextKeys.editorTextFocus,primary:1026}})),(0,y.registerEditorCommand)(new d({id:"leaveSnippet",precondition:r.InSnippetMode,handler:h=>h.cancel(!0),kbOpts:{weight:100+30,kbExpr:S.EditorContextKeys.editorTextFocus,primary:9,secondary:[1033]}})),(0,y.registerEditorCommand)(new d({id:"acceptSnippet",precondition:r.InSnippetMode,handler:h=>h.finish()}))}),define(X[902],ee([1,0,16,12,2,42,106,167,18,71,11,5,29,30,214,768,150,195,26,8]),function(q,e,L,k,y,D,S,m,_,f,p,s,t,i,o,r,d,h,n,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlineCompletionsModel=e.VersionIdChangeReason=void 0;var a;(function(u){u[u.Undo=0]="Undo",u[u.Redo=1]="Redo",u[u.AcceptWord=2]="AcceptWord",u[u.Other=3]="Other"})(a||(e.VersionIdChangeReason=a={}));let l=e.InlineCompletionsModel=class extends y.Disposable{get isAcceptingPartially(){return this._isAcceptingPartially}get isNavigatingCurrentInlineCompletion(){return this._isNavigatingCurrentInlineCompletion}constructor(C,g,v,b,w,E,I,T,P,A,M,N){super(),this.textModel=C,this.selectedSuggestItem=g,this.cursorPosition=v,this.textModelVersionId=b,this._debounceValue=w,this._suggestPreviewEnabled=E,this._suggestPreviewMode=I,this._inlineSuggestMode=T,this._enabled=P,this._instantiationService=A,this._commandService=M,this._languageConfigurationService=N,this._source=this._register(this._instantiationService.createInstance(r.InlineCompletionsSource,this.textModel,this.textModelVersionId,this._debounceValue)),this._isActive=(0,D.observableValue)("isActive",!1),this._forceUpdate=(0,D.observableSignal)("forceUpdate"),this._selectedInlineCompletionId=(0,D.observableValue)("selectedInlineCompletionId",void 0),this._isAcceptingPartially=!1,this._isNavigatingCurrentInlineCompletion=!1,this._preserveCurrentCompletionReasons=new Set([a.Redo,a.Undo,a.AcceptWord]),this._fetchInlineCompletions=(0,m.derivedHandleChanges)("fetch inline completions",{createEmptyChangeSummary:()=>({preserveCurrentCompletion:!1,inlineCompletionTriggerKind:t.InlineCompletionTriggerKind.Automatic}),handleChange:(F,x)=>(F.didChange(this.textModelVersionId)&&this._preserveCurrentCompletionReasons.has(F.change)?x.preserveCurrentCompletion=!0:F.didChange(this._forceUpdate)&&(x.inlineCompletionTriggerKind=F.change),!0)},(F,x)=>{if(this._forceUpdate.read(F),!(this._enabled.read(F)&&this.selectedSuggestItem.read(F)||this._isActive.read(F))){this._source.cancelUpdate();return}this.textModelVersionId.read(F);const z=this.selectedInlineCompletion.get(),U=x.preserveCurrentCompletion||z?.forwardStable?z:void 0,O=this._source.suggestWidgetInlineCompletions.get(),G=this.selectedSuggestItem.read(F);if(O&&!G){const oe=this._source.inlineCompletions.get();(0,D.transaction)(te=>{oe&&O.request.versionId>oe.request.versionId&&this._source.inlineCompletions.set(O.clone(),te),this._source.clearSuggestWidgetInlineCompletions(te)})}const Q=this.cursorPosition.read(F),re={triggerKind:x.inlineCompletionTriggerKind,selectedSuggestionInfo:G?.toSelectedSuggestionInfo()};return this._source.fetch(Q,re,U)}),this._filteredInlineCompletionItems=(0,D.derived)("filteredInlineCompletionItems",F=>{const x=this._source.inlineCompletions.read(F);if(!x)return[];const W=this.cursorPosition.read(F);return x.inlineCompletions.filter(U=>U.isVisible(this.textModel,W,F))}),this.selectedInlineCompletionIndex=(0,D.derived)("selectedCachedCompletionIndex",F=>{const x=this._selectedInlineCompletionId.read(F),W=this._filteredInlineCompletionItems.read(F),z=this._selectedInlineCompletionId===void 0?-1:W.findIndex(U=>U.semanticId===x);return z===-1?(this._selectedInlineCompletionId.set(void 0,void 0),0):z}),this.selectedInlineCompletion=(0,D.derived)("selectedCachedCompletion",F=>{const x=this._filteredInlineCompletionItems.read(F),W=this.selectedInlineCompletionIndex.read(F);return x[W]}),this.lastTriggerKind=this._source.inlineCompletions.map(F=>F?.request.context.triggerKind),this.inlineCompletionsCount=(0,D.derived)("selectedInlineCompletionsCount",F=>{if(this.lastTriggerKind.read(F)===t.InlineCompletionTriggerKind.Explicit)return this._filteredInlineCompletionItems.read(F).length}),this.state=(0,D.derived)("ghostTextAndCompletion",F=>{var x;const W=this.textModel,z=this.selectedSuggestItem.read(F);if(z){const U=this._source.suggestWidgetInlineCompletions.read(F),O=U?U.inlineCompletions:[this.selectedInlineCompletion.read(F)].filter(_.isDefined),G=z.toSingleTextEdit().removeCommonPrefix(W),Q=(0,L.mapFind)(O,J=>{let ne=J.toSingleTextEdit(F);return ne=ne.removeCommonPrefix(W,s.Range.fromPositions(ne.range.getStartPosition(),z.range.getEndPosition())),ne.augments(G)?{edit:ne,completion:J}:void 0});if(!this._suggestPreviewEnabled.read(F)&&!Q)return;const oe=(x=Q?.edit)!==null&&x!==void 0?x:G,te=Q?Q.edit.text.length-G.text.length:0,H=this._suggestPreviewMode.read(F),B=this.cursorPosition.read(F),K=oe.computeGhostText(W,H,B,te);return{ghostText:K??new o.GhostText(oe.range.endLineNumber,[]),completion:Q?.completion,suggestItem:z}}else{if(!this._isActive.read(F))return;const U=this.selectedInlineCompletion.read(F);if(!U)return;const O=U.toSingleTextEdit(F),G=this._inlineSuggestMode.read(F),Q=this.cursorPosition.read(F),re=O.computeGhostText(W,G,Q);return re?{ghostText:re,completion:U,suggestItem:void 0}:void 0}}),this.ghostText=(0,D.derived)("ghostText",F=>{const x=this.state.read(F);if(x)return x.ghostText}),this._register((0,D.keepAlive)(this._fetchInlineCompletions,!0));let R;this._register((0,D.autorun)("call handleItemDidShow",F=>{var x,W;const z=this.state.read(F),U=z?.completion;if(U?.semanticId!==R?.semanticId&&(R=U,U)){const O=U.inlineCompletion,G=O.source;(W=(x=G.provider).handleItemDidShow)===null||W===void 0||W.call(x,G.inlineCompletions,O.sourceInlineCompletion,O.insertText)}}))}trigger(C){return Le(this,void 0,void 0,function*(){this._isActive.set(!0,C),yield this._fetchInlineCompletions.get()})}triggerExplicitly(C){return Le(this,void 0,void 0,function*(){(0,S.subtransaction)(C,g=>{this._isActive.set(!0,g),this._forceUpdate.trigger(g,t.InlineCompletionTriggerKind.Explicit)}),yield this._fetchInlineCompletions.get()})}stop(C){(0,S.subtransaction)(C,g=>{this._isActive.set(!1,g),this._source.clear(g)})}_deltaSelectedInlineCompletionIndex(C){return Le(this,void 0,void 0,function*(){yield this.triggerExplicitly(),this._isNavigatingCurrentInlineCompletion=!0;try{const g=this._filteredInlineCompletionItems.get()||[];if(g.length>0){const v=(this.selectedInlineCompletionIndex.get()+C+g.length)%g.length;this._selectedInlineCompletionId.set(g[v].semanticId,void 0)}else this._selectedInlineCompletionId.set(void 0,void 0)}finally{this._isNavigatingCurrentInlineCompletion=!1}})}next(){return Le(this,void 0,void 0,function*(){yield this._deltaSelectedInlineCompletionIndex(1)})}previous(){return Le(this,void 0,void 0,function*(){yield this._deltaSelectedInlineCompletionIndex(-1)})}accept(C){var g,v;return Le(this,void 0,void 0,function*(){if(C.getModel()!==this.textModel)throw new k.BugIndicatingError;const b=this.ghostText.get(),w=(g=this.selectedInlineCompletion.get())===null||g===void 0?void 0:g.toInlineCompletion(void 0);!b||!w||(C.pushUndoStop(),w.snippetInfo?(C.executeEdits("inlineSuggestion.accept",[f.EditOperation.replaceMove(w.range,""),...w.additionalTextEdits]),C.setPosition(w.snippetInfo.range.getStartPosition()),(v=h.SnippetController2.get(C))===null||v===void 0||v.insert(w.snippetInfo.snippet,{undoStopBefore:!1})):C.executeEdits("inlineSuggestion.accept",[f.EditOperation.replaceMove(w.range,w.insertText),...w.additionalTextEdits]),w.command&&(yield this._commandService.executeCommand(w.command.id,...w.command.arguments||[]).then(void 0,k.onUnexpectedExternalError)),(0,D.transaction)(E=>{this._source.clear(E),this._isActive.set(!1,E)}))})}acceptNextWord(C){this._acceptNext(C,(g,v)=>{const b=this.textModel.getLanguageIdAtPosition(g.lineNumber,g.column),w=this._languageConfigurationService.getLanguageConfiguration(b),E=new RegExp(w.wordDefinition.source,w.wordDefinition.flags.replace("g","")),I=v.match(E);let T=0;I&&I.index!==void 0?I.index===0?T=I[0].length:T=I.index:T=v.length;const A=/\s+/g.exec(v);return A&&A.index!==void 0&&A.index+A[0].length<T&&(T=A.index+A[0].length),T})}acceptNextLine(C){this._acceptNext(C,(g,v)=>{const b=v.match(/\n/);return b&&b.index!==void 0?b.index+1:v.length})}_acceptNext(C,g){var v;if(C.getModel()!==this.textModel)throw new k.BugIndicatingError;const b=this.ghostText.get(),w=(v=this.selectedInlineCompletion.get())===null||v===void 0?void 0:v.toInlineCompletion(void 0);if(!b||!w)return;if(w.snippetInfo||w.filterText!==w.insertText){this.accept(C);return}if(b.parts.length===0)return;const E=b.parts[0],I=new p.Position(b.lineNumber,E.column),T=E.lines.join(`
`),P=g(I,T);if(P===T.length&&b.parts.length===1){this.accept(C);return}const A=T.substring(0,P);this._isAcceptingPartially=!0;try{C.pushUndoStop(),C.executeEdits("inlineSuggestion.accept",[f.EditOperation.replace(s.Range.fromPositions(I),A)]);const M=(0,d.lengthOfText)(A);C.setPosition((0,d.addPositions)(I,M))}finally{this._isAcceptingPartially=!1}if(w.source.provider.handlePartialAccept){const M=s.Range.fromPositions(w.range.getStartPosition(),(0,d.addPositions)(I,(0,d.lengthOfText)(A))),N=C.getModel().getValueInRange(M,1);w.source.provider.handlePartialAccept(w.source.inlineCompletions,w.sourceInlineCompletion,N.length)}}};e.InlineCompletionsModel=l=Ne([ge(9,c.IInstantiationService),ge(10,n.ICommandService),ge(11,i.ILanguageConfigurationService)],l)}),define(X[903],ee([1,0,14,20,12,6,2,9,24,114,297,95,28,13,69,78,296,160,19,70,18,236,195,240]),function(q,e,L,k,y,D,S,m,_,f,p,s,t,i,o,r,d,h,n,c,a,l,u,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestModel=e.LineContext=void 0;class g{static shouldAutoTrigger(I){if(!I.hasModel())return!1;const T=I.getModel(),P=I.getPosition();T.tokenization.tokenizeIfCheap(P.lineNumber);const A=T.getWordAtPosition(P);return!(!A||A.endColumn!==P.column&&A.startColumn+1!==P.column||!isNaN(Number(A.word)))}constructor(I,T,P){this.leadingLineContent=I.getLineContent(T.lineNumber).substr(0,T.column-1),this.leadingWord=I.getWordUntilPosition(T),this.lineNumber=T.lineNumber,this.column=T.column,this.triggerOptions=P}}e.LineContext=g;function v(E,I,T){if(!I.getContextKeyValue(l.InlineCompletionContextKeys.inlineSuggestionVisible.key))return!0;const P=I.getContextKeyValue(l.InlineCompletionContextKeys.suppressSuggestions.key);return P!==void 0?!P:!E.getOption(60).suppressSuggestions}function b(E,I,T){if(!I.getContextKeyValue("inlineSuggestionVisible"))return!0;const P=I.getContextKeyValue(l.InlineCompletionContextKeys.suppressSuggestions.key);return P!==void 0?!P:!E.getOption(60).suppressSuggestions}let w=e.SuggestModel=class pn{constructor(I,T,P,A,M,N,R,F,x){this._editor=I,this._editorWorkerService=T,this._clipboardService=P,this._telemetryService=A,this._logService=M,this._contextKeyService=N,this._configurationService=R,this._languageFeaturesService=F,this._envService=x,this._toDispose=new S.DisposableStore,this._triggerCharacterListener=new S.DisposableStore,this._triggerQuickSuggest=new L.TimeoutTimer,this._triggerState=void 0,this._completionDisposables=new S.DisposableStore,this._onDidCancel=new D.Emitter,this._onDidTrigger=new D.Emitter,this._onDidSuggest=new D.Emitter,this.onDidCancel=this._onDidCancel.event,this.onDidTrigger=this._onDidTrigger.event,this.onDidSuggest=this._onDidSuggest.event,this._telemetryGate=0,this._currentSelection=this._editor.getSelection()||new _.Selection(1,1,1,1),this._toDispose.add(this._editor.onDidChangeModel(()=>{this._updateTriggerCharacters(),this.cancel()})),this._toDispose.add(this._editor.onDidChangeModelLanguage(()=>{this._updateTriggerCharacters(),this.cancel()})),this._toDispose.add(this._editor.onDidChangeConfiguration(()=>{this._updateTriggerCharacters()})),this._toDispose.add(this._languageFeaturesService.completionProvider.onDidChange(()=>{this._updateTriggerCharacters(),this._updateActiveSuggestSession()}));let W=!1;this._toDispose.add(this._editor.onDidCompositionStart(()=>{W=!0})),this._toDispose.add(this._editor.onDidCompositionEnd(()=>{W=!1,this._onCompositionEnd()})),this._toDispose.add(this._editor.onDidChangeCursorSelection(z=>{W||this._onCursorChange(z)})),this._toDispose.add(this._editor.onDidChangeModelContent(()=>{!W&&this._triggerState!==void 0&&this._refilterCompletionItems()})),this._updateTriggerCharacters()}dispose(){(0,S.dispose)(this._triggerCharacterListener),(0,S.dispose)([this._onDidCancel,this._onDidSuggest,this._onDidTrigger,this._triggerQuickSuggest]),this._toDispose.dispose(),this._completionDisposables.dispose(),this.cancel()}_updateTriggerCharacters(){if(this._triggerCharacterListener.clear(),this._editor.getOption(88)||!this._editor.hasModel()||!this._editor.getOption(118))return;const I=new Map;for(const P of this._languageFeaturesService.completionProvider.all(this._editor.getModel()))for(const A of P.triggerCharacters||[]){let M=I.get(A);M||(M=new Set,M.add((0,h.getSnippetSuggestSupport)()),I.set(A,M)),M.add(P)}const T=P=>{var A;if(!b(this._editor,this._contextKeyService,this._configurationService)||g.shouldAutoTrigger(this._editor))return;if(!P){const R=this._editor.getPosition();P=this._editor.getModel().getLineContent(R.lineNumber).substr(0,R.column-1)}let M="";(0,m.isLowSurrogate)(P.charCodeAt(P.length-1))?(0,m.isHighSurrogate)(P.charCodeAt(P.length-2))&&(M=P.substr(P.length-2)):M=P.charAt(P.length-1);const N=I.get(M);if(N){const R=new Map;if(this._completionModel)for(const[F,x]of this._completionModel.getItemsByProvider())N.has(F)||R.set(F,x);this.trigger({auto:!0,triggerKind:1,triggerCharacter:M,retrigger:!!this._completionModel,clipboardText:(A=this._completionModel)===null||A===void 0?void 0:A.clipboardText,completionOptions:{providerFilter:N,providerItemsToReuse:R}})}};this._triggerCharacterListener.add(this._editor.onDidType(T)),this._triggerCharacterListener.add(this._editor.onDidCompositionEnd(()=>T()))}get state(){return this._triggerState?this._triggerState.auto?2:1:0}cancel(I=!1){var T;this._triggerState!==void 0&&(this._triggerQuickSuggest.cancel(),(T=this._requestToken)===null||T===void 0||T.cancel(),this._requestToken=void 0,this._triggerState=void 0,this._completionModel=void 0,this._context=void 0,this._onDidCancel.fire({retrigger:I}))}clear(){this._completionDisposables.clear()}_updateActiveSuggestSession(){this._triggerState!==void 0&&(!this._editor.hasModel()||!this._languageFeaturesService.completionProvider.has(this._editor.getModel())?this.cancel():this.trigger({auto:this._triggerState.auto,retrigger:!0}))}_onCursorChange(I){if(!this._editor.hasModel())return;const T=this._currentSelection;if(this._currentSelection=this._editor.getSelection(),!I.selection.isEmpty()||I.reason!==0&&I.reason!==3||I.source!=="keyboard"&&I.source!=="deleteLeft"){this.cancel();return}this._triggerState===void 0&&I.reason===0?(T.containsRange(this._currentSelection)||T.getEndPosition().isBeforeOrEqual(this._currentSelection.getPosition()))&&this._doTriggerQuickSuggest():this._triggerState!==void 0&&I.reason===3&&this._refilterCompletionItems()}_onCompositionEnd(){this._triggerState===void 0?this._doTriggerQuickSuggest():this._refilterCompletionItems()}_doTriggerQuickSuggest(){var I;h.QuickSuggestionsOptions.isAllOff(this._editor.getOption(86))||this._editor.getOption(115).snippetsPreventQuickSuggestions&&(!((I=u.SnippetController2.get(this._editor))===null||I===void 0)&&I.isInSnippet())||(this.cancel(),this._triggerQuickSuggest.cancelAndSet(()=>{if(this._triggerState!==void 0||!g.shouldAutoTrigger(this._editor)||!this._editor.hasModel()||!this._editor.hasWidgetFocus())return;const T=this._editor.getModel(),P=this._editor.getPosition(),A=this._editor.getOption(86);if(!h.QuickSuggestionsOptions.isAllOff(A)){if(!h.QuickSuggestionsOptions.isAllOn(A)){T.tokenization.tokenizeIfCheap(P.lineNumber);const M=T.tokenization.getLineTokens(P.lineNumber),N=M.getStandardTokenType(M.findTokenIndexAtOffset(Math.max(P.column-1-1,0)));if(h.QuickSuggestionsOptions.valueFor(A,N)!=="on")return}v(this._editor,this._contextKeyService,this._configurationService)&&this._languageFeaturesService.completionProvider.has(T)&&this.trigger({auto:!0})}},this._editor.getOption(87)))}_refilterCompletionItems(){(0,a.assertType)(this._editor.hasModel()),(0,a.assertType)(this._triggerState!==void 0);const I=this._editor.getModel(),T=this._editor.getPosition(),P=new g(I,T,Object.assign(Object.assign({},this._triggerState),{refilter:!0}));this._onNewContext(P)}trigger(I){var T,P,A,M,N,R;if(!this._editor.hasModel())return;const F=this._editor.getModel(),x=new g(F,this._editor.getPosition(),I);this.cancel(I.retrigger),this._triggerState=I,this._onDidTrigger.fire({auto:I.auto,shy:(T=I.shy)!==null&&T!==void 0?T:!1,position:this._editor.getPosition()}),this._context=x;let W={triggerKind:(P=I.triggerKind)!==null&&P!==void 0?P:0};I.triggerCharacter&&(W={triggerKind:1,triggerCharacter:I.triggerCharacter}),this._requestToken=new k.CancellationTokenSource;const z=this._editor.getOption(109);let U=1;switch(z){case"top":U=0;break;case"bottom":U=2;break}const{itemKind:O,showDeprecated:G}=pn._createSuggestFilter(this._editor),Q=new h.CompletionOptions(U,(M=(A=I.completionOptions)===null||A===void 0?void 0:A.kindFilter)!==null&&M!==void 0?M:O,(N=I.completionOptions)===null||N===void 0?void 0:N.providerFilter,(R=I.completionOptions)===null||R===void 0?void 0:R.providerItemsToReuse,G),re=p.WordDistance.create(this._editorWorkerService,this._editor),oe=(0,h.provideSuggestionItems)(this._languageFeaturesService.completionProvider,F,this._editor.getPosition(),Q,W,this._requestToken.token);Promise.all([oe,re]).then(([te,H])=>Le(this,void 0,void 0,function*(){var B;if((B=this._requestToken)===null||B===void 0||B.dispose(),!this._editor.hasModel())return;let K=I?.clipboardText;if(!K&&te.needsClipboard&&(K=yield this._clipboardService.readText()),this._triggerState===void 0)return;const Z=this._editor.getModel(),J=new g(Z,this._editor.getPosition(),I),ne=Object.assign(Object.assign({},c.FuzzyScoreOptions.default),{firstMatchCanBeWeak:!this._editor.getOption(115).matchOnWordStartOnly});if(this._completionModel=new d.CompletionModel(te.items,this._context.column,{leadingLineContent:J.leadingLineContent,characterCountDelta:J.column-this._context.column},H,this._editor.getOption(115),this._editor.getOption(109),ne,K),this._completionDisposables.add(te.disposable),this._onNewContext(J),this._reportDurationsTelemetry(te.durations),!this._envService.isBuilt||this._envService.isExtensionDevelopment)for(const he of te.items)he.isInvalid&&this._logService.warn(`[suggest] did IGNORE invalid completion item from ${he.provider._debugDisplayName}`,he.completion)})).catch(y.onUnexpectedError)}_reportDurationsTelemetry(I){this._telemetryGate++%230===0&&setTimeout(()=>{this._telemetryService.publicLog2("suggest.durations.json",{data:JSON.stringify(I)}),this._logService.debug("suggest.durations.json",I)})}static _createSuggestFilter(I){const T=new Set;I.getOption(109)==="none"&&T.add(27);const A=I.getOption(115);return A.showMethods||T.add(0),A.showFunctions||T.add(1),A.showConstructors||T.add(2),A.showFields||T.add(3),A.showVariables||T.add(4),A.showClasses||T.add(5),A.showStructs||T.add(6),A.showInterfaces||T.add(7),A.showModules||T.add(8),A.showProperties||T.add(9),A.showEvents||T.add(10),A.showOperators||T.add(11),A.showUnits||T.add(12),A.showValues||T.add(13),A.showConstants||T.add(14),A.showEnums||T.add(15),A.showEnumMembers||T.add(16),A.showKeywords||T.add(17),A.showWords||T.add(18),A.showColors||T.add(19),A.showFiles||T.add(20),A.showReferences||T.add(21),A.showColors||T.add(22),A.showFolders||T.add(23),A.showTypeParameters||T.add(24),A.showSnippets||T.add(27),A.showUsers||T.add(25),A.showIssues||T.add(26),{itemKind:T,showDeprecated:A.showDeprecated}}_onNewContext(I){if(this._context){if(I.lineNumber!==this._context.lineNumber){this.cancel();return}if((0,m.getLeadingWhitespace)(I.leadingLineContent)!==(0,m.getLeadingWhitespace)(this._context.leadingLineContent)){this.cancel();return}if(I.column<this._context.column){I.leadingWord.word?this.trigger({auto:this._context.triggerOptions.auto,retrigger:!0}):this.cancel();return}if(this._completionModel){if(I.leadingWord.word.length!==0&&I.leadingWord.startColumn>this._context.leadingWord.startColumn){if(g.shouldAutoTrigger(this._editor)&&this._context){const P=this._completionModel.getItemsByProvider();this.trigger({auto:this._context.triggerOptions.auto,retrigger:!0,clipboardText:this._completionModel.clipboardText,completionOptions:{providerItemsToReuse:P}})}return}if(I.column>this._context.column&&this._completionModel.getIncompleteProvider().size>0&&I.leadingWord.word.length!==0){const T=new Map,P=new Set;for(const[A,M]of this._completionModel.getItemsByProvider())M.length>0&&M[0].container.incomplete?P.add(A):T.set(A,M);this.trigger({auto:this._context.triggerOptions.auto,triggerKind:2,retrigger:!0,clipboardText:this._completionModel.clipboardText,completionOptions:{providerFilter:P,providerItemsToReuse:T}})}else{const T=this._completionModel.lineContext;let P=!1;if(this._completionModel.lineContext={leadingLineContent:I.leadingLineContent,characterCountDelta:I.column-this._context.column},this._completionModel.items.length===0){const A=g.shouldAutoTrigger(this._editor);if(!this._context){this.cancel();return}if(A&&this._context.leadingWord.endColumn<I.leadingWord.startColumn){this.trigger({auto:this._context.triggerOptions.auto,retrigger:!0});return}if(this._context.triggerOptions.auto){this.cancel();return}else if(this._completionModel.lineContext=T,P=this._completionModel.items.length>0,P&&I.leadingWord.word.length===0){this.cancel();return}}this._onDidSuggest.fire({completionModel:this._completionModel,triggerOptions:I.triggerOptions,isFrozen:P})}}}}};e.SuggestModel=w=Ne([ge(1,f.IEditorWorkerService),ge(2,s.IClipboardService),ge(3,r.ITelemetryService),ge(4,o.ILogService),ge(5,i.IContextKeyService),ge(6,t.IConfigurationService),ge(7,n.ILanguageFeaturesService),ge(8,C.IEnvironmentService)],w)}),define(X[373],ee([1,0,54,16,14,20,12,6,117,2,17,58,18,108,15,71,11,5,22,195,128,342,744,691,26,13,8,69,160,743,544,903,545,884,78,43,141]),function(q,e,L,k,y,D,S,m,_,f,p,s,t,i,o,r,d,h,n,c,a,l,u,C,g,v,b,w,E,I,T,P,A,M,N,R,F){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TriggerSuggestAction=e.SuggestController=void 0;const x=!1;class W{constructor(oe,te){if(this._model=oe,this._position=te,oe.getLineMaxColumn(te.lineNumber)!==te.column){const B=oe.getOffsetAt(te),K=oe.getPositionAt(B+1);this._marker=oe.deltaDecorations([],[{range:h.Range.fromPositions(te,K),options:{description:"suggest-line-suffix",stickiness:1}}])}}dispose(){this._marker&&!this._model.isDisposed()&&this._model.deltaDecorations(this._marker,[])}delta(oe){if(this._model.isDisposed()||this._position.lineNumber!==oe.lineNumber)return 0;if(this._marker){const te=this._model.getDecorationRange(this._marker[0]);return this._model.getOffsetAt(te.getStartPosition())-this._model.getOffsetAt(oe)}else return this._model.getLineMaxColumn(oe.lineNumber)-oe.column}}let z=e.SuggestController=class vn{static get(oe){return oe.getContribution(vn.ID)}constructor(oe,te,H,B,K,Z,J){this._memoryService=te,this._commandService=H,this._contextKeyService=B,this._instantiationService=K,this._logService=Z,this._telemetryService=J,this._lineSuffix=new f.MutableDisposable,this._toDispose=new f.DisposableStore,this._selectors=new U(ae=>ae.priority),this.editor=oe,this.model=K.createInstance(P.SuggestModel,this.editor),this._selectors.register({priority:0,select:(ae,ce,$)=>this._memoryService.select(ae,ce,$)});const ne=E.Context.InsertMode.bindTo(B);ne.set(oe.getOption(115).insertMode),this.model.onDidTrigger(()=>ne.set(oe.getOption(115).insertMode)),this.widget=this._toDispose.add(new y.IdleValue(()=>{const ae=this._instantiationService.createInstance(M.SuggestWidget,this.editor);this._toDispose.add(ae),this._toDispose.add(ae.onDidSelect(se=>this._insertSuggestion(se,0),this));const ce=new T.CommitCharacterController(this.editor,ae,this.model,se=>this._insertSuggestion(se,2));this._toDispose.add(ce);const $=E.Context.MakesTextEdit.bindTo(this._contextKeyService),V=E.Context.HasInsertAndReplaceRange.bindTo(this._contextKeyService),j=E.Context.CanResolve.bindTo(this._contextKeyService);return this._toDispose.add((0,f.toDisposable)(()=>{$.reset(),V.reset(),j.reset()})),this._toDispose.add(ae.onDidFocus(({item:se})=>{const ie=this.editor.getPosition(),Y=se.editStart.column,le=ie.column;let fe=!0;this.editor.getOption(1)==="smart"&&this.model.state===2&&!se.completion.additionalTextEdits&&!(se.completion.insertTextRules&4)&&le-Y===se.completion.insertText.length&&(fe=this.editor.getModel().getValueInRange({startLineNumber:ie.lineNumber,startColumn:Y,endLineNumber:ie.lineNumber,endColumn:le})!==se.completion.insertText),$.set(fe),V.set(!d.Position.equals(se.editInsertEnd,se.editReplaceEnd)),j.set(!!se.provider.resolveCompletionItem||!!se.completion.documentation||se.completion.detail!==se.completion.label)})),this._toDispose.add(ae.onDetailsKeyDown(se=>{if(se.toKeyCodeChord().equals(new _.KeyCodeChord(!0,!1,!1,!1,33))||p.isMacintosh&&se.toKeyCodeChord().equals(new _.KeyCodeChord(!1,!1,!1,!0,33))){se.stopPropagation();return}se.toKeyCodeChord().isModifierKey()||this.editor.focus()})),ae})),this._overtypingCapturer=this._toDispose.add(new y.IdleValue(()=>this._toDispose.add(new A.OvertypingCapturer(this.editor,this.model)))),this._alternatives=this._toDispose.add(new y.IdleValue(()=>this._toDispose.add(new I.SuggestAlternatives(this.editor,this._contextKeyService)))),this._toDispose.add(K.createInstance(u.WordContextKey,oe)),this._toDispose.add(this.model.onDidTrigger(ae=>{this.widget.value.showTriggered(ae.auto,ae.shy?250:50),this._lineSuffix.value=new W(this.editor.getModel(),ae.position)})),this._toDispose.add(this.model.onDidSuggest(ae=>{if(ae.triggerOptions.shy)return;let ce=-1;for(const V of this._selectors.itemsOrderedByPriorityDesc)if(ce=V.select(this.editor.getModel(),this.editor.getPosition(),ae.completionModel.items),ce!==-1)break;ce===-1&&(ce=0);let $=!1;if(ae.triggerOptions.auto){const V=this.editor.getOption(115);V.selectionMode==="never"||V.selectionMode==="always"?$=V.selectionMode==="never":V.selectionMode==="whenTriggerCharacter"?$=ae.triggerOptions.triggerKind!==1:V.selectionMode==="whenQuickSuggestion"&&($=ae.triggerOptions.triggerKind===1&&!ae.triggerOptions.refilter)}this.widget.value.showSuggestions(ae.completionModel,ce,ae.isFrozen,ae.triggerOptions.auto,$)})),this._toDispose.add(this.model.onDidCancel(ae=>{ae.retrigger||this.widget.value.hideWidget()})),this._toDispose.add(this.editor.onDidBlurEditorWidget(()=>{x||(this.model.cancel(),this.model.clear())}));const he=E.Context.AcceptSuggestionsOnEnter.bindTo(B),de=()=>{const ae=this.editor.getOption(1);he.set(ae==="on"||ae==="smart")};this._toDispose.add(this.editor.onDidChangeConfiguration(()=>de())),de()}dispose(){this._alternatives.dispose(),this._toDispose.dispose(),this.widget.dispose(),this.model.dispose(),this._lineSuffix.dispose()}_insertSuggestion(oe,te){if(!oe||!oe.item){this._alternatives.value.reset(),this.model.cancel(),this.model.clear();return}if(!this.editor.hasModel())return;const H=c.SnippetController2.get(this.editor);if(!H)return;const B=this.editor.getModel(),K=B.getAlternativeVersionId(),{item:Z}=oe,J=[],ne=new D.CancellationTokenSource;te&1||this.editor.pushUndoStop();const he=this.getOverwriteInfo(Z,!!(te&8));this._memoryService.memorize(B,this.editor.getPosition(),Z);const de=Z.isResolved;let ae=-1,ce=-1;if(Array.isArray(Z.completion.additionalTextEdits)){this.model.cancel();const V=i.StableEditorScrollState.capture(this.editor);this.editor.executeEdits("suggestController.additionalTextEdits.sync",Z.completion.additionalTextEdits.map(j=>r.EditOperation.replaceMove(h.Range.lift(j.range),j.text))),V.restoreRelativeVerticalPositionOfCursor(this.editor)}else if(!de){const V=new s.StopWatch;let j;const se=B.onDidChangeContent(fe=>{if(fe.isFlush){ne.cancel(),se.dispose();return}for(const be of fe.changes){const we=h.Range.getEndPosition(be.range);(!j||d.Position.isBefore(we,j))&&(j=we)}}),ie=te;te|=2;let Y=!1;const le=this.editor.onWillType(()=>{le.dispose(),Y=!0,ie&2||this.editor.pushUndoStop()});J.push(Z.resolve(ne.token).then(()=>{if(!Z.completion.additionalTextEdits||ne.token.isCancellationRequested)return;if(j&&Z.completion.additionalTextEdits.some(be=>d.Position.isBefore(j,h.Range.getStartPosition(be.range))))return!1;Y&&this.editor.pushUndoStop();const fe=i.StableEditorScrollState.capture(this.editor);return this.editor.executeEdits("suggestController.additionalTextEdits.async",Z.completion.additionalTextEdits.map(be=>r.EditOperation.replaceMove(h.Range.lift(be.range),be.text))),fe.restoreRelativeVerticalPositionOfCursor(this.editor),(Y||!(ie&2))&&this.editor.pushUndoStop(),!0}).then(fe=>{this._logService.trace("[suggest] async resolving of edits DONE (ms, applied?)",V.elapsed(),fe),ce=fe===!0?1:fe===!1?0:-2}).finally(()=>{se.dispose(),le.dispose()}))}let{insertText:$}=Z.completion;if(Z.completion.insertTextRules&4||($=a.SnippetParser.escape($)),this.model.cancel(),H.insert($,{overwriteBefore:he.overwriteBefore,overwriteAfter:he.overwriteAfter,undoStopBefore:!1,undoStopAfter:!1,adjustWhitespace:!(Z.completion.insertTextRules&1),clipboardText:oe.model.clipboardText,overtypingCapturer:this._overtypingCapturer.value}),te&2||this.editor.pushUndoStop(),Z.completion.command)if(Z.completion.command.id===O.id)this.model.trigger({auto:!0,retrigger:!0});else{const V=new s.StopWatch;J.push(this._commandService.executeCommand(Z.completion.command.id,...Z.completion.command.arguments?[...Z.completion.command.arguments]:[]).catch(j=>{Z.completion.extensionId?(0,S.onUnexpectedExternalError)(j):(0,S.onUnexpectedError)(j)}).finally(()=>{ae=V.elapsed()}))}te&4&&this._alternatives.value.set(oe,V=>{for(ne.cancel();B.canUndo();){K!==B.getAlternativeVersionId()&&B.undo(),this._insertSuggestion(V,3|(te&8?8:0));break}}),this._alertCompletionItem(Z),Promise.all(J).finally(()=>{this._reportSuggestionAcceptedTelemetry(Z,B,de,ae,ce),this.model.clear(),ne.dispose()})}_reportSuggestionAcceptedTelemetry(oe,te,H,B,K){var Z,J,ne;Math.floor(Math.random()*100)!==0&&this._telemetryService.publicLog2("suggest.acceptedSuggestion",{extensionId:(J=(Z=oe.extensionId)===null||Z===void 0?void 0:Z.value)!==null&&J!==void 0?J:"unknown",providerId:(ne=oe.provider._debugDisplayName)!==null&&ne!==void 0?ne:"unknown",kind:oe.completion.kind,basenameHash:(0,F.hash)((0,R.basename)(te.uri)).toString(16),languageId:te.getLanguageId(),fileExtension:(0,R.extname)(te.uri),resolveInfo:oe.provider.resolveCompletionItem?H?1:0:-1,resolveDuration:oe.resolveDuration,commandDuration:B,additionalEditsAsync:K})}getOverwriteInfo(oe,te){(0,t.assertType)(this.editor.hasModel());let H=this.editor.getOption(115).insertMode==="replace";te&&(H=!H);const B=oe.position.column-oe.editStart.column,K=(H?oe.editReplaceEnd.column:oe.editInsertEnd.column)-oe.position.column,Z=this.editor.getPosition().column-oe.position.column,J=this._lineSuffix.value?this._lineSuffix.value.delta(this.editor.getPosition()):0;return{overwriteBefore:B+Z,overwriteAfter:K+J}}_alertCompletionItem(oe){if((0,k.isNonEmptyArray)(oe.completion.additionalTextEdits)){const te=C.localize(0,null,oe.textLabel,oe.completion.additionalTextEdits.length);(0,L.alert)(te)}}triggerSuggest(oe,te,H){this.editor.hasModel()&&(this.model.trigger({auto:te??!1,completionOptions:{providerFilter:oe,kindFilter:H?new Set:void 0}}),this.editor.revealPosition(this.editor.getPosition(),0),this.editor.focus())}triggerSuggestAndAcceptBest(oe){if(!this.editor.hasModel())return;const te=this.editor.getPosition(),H=()=>{te.equals(this.editor.getPosition())&&this._commandService.executeCommand(oe.fallback)},B=K=>{if(K.completion.insertTextRules&4||K.completion.additionalTextEdits)return!0;const Z=this.editor.getPosition(),J=K.editStart.column,ne=Z.column;return ne-J!==K.completion.insertText.length?!0:this.editor.getModel().getValueInRange({startLineNumber:Z.lineNumber,startColumn:J,endLineNumber:Z.lineNumber,endColumn:ne})!==K.completion.insertText};m.Event.once(this.model.onDidTrigger)(K=>{const Z=[];m.Event.any(this.model.onDidTrigger,this.model.onDidCancel)(()=>{(0,f.dispose)(Z),H()},void 0,Z),this.model.onDidSuggest(({completionModel:J})=>{if((0,f.dispose)(Z),J.items.length===0){H();return}const ne=this._memoryService.select(this.editor.getModel(),this.editor.getPosition(),J.items),he=J.items[ne];if(!B(he)){H();return}this.editor.pushUndoStop(),this._insertSuggestion({index:ne,item:he,model:J},7)},void 0,Z)}),this.model.trigger({auto:!1,shy:!0}),this.editor.revealPosition(te,0),this.editor.focus()}acceptSelectedSuggestion(oe,te){const H=this.widget.value.getFocusedItem();let B=0;oe&&(B|=4),te&&(B|=8),this._insertSuggestion(H,B)}acceptNextSuggestion(){this._alternatives.value.next()}acceptPrevSuggestion(){this._alternatives.value.prev()}cancelSuggestWidget(){this.model.cancel(),this.model.clear(),this.widget.value.hideWidget()}focusSuggestion(){this.widget.value.focusSelected()}selectNextSuggestion(){this.widget.value.selectNext()}selectNextPageSuggestion(){this.widget.value.selectNextPage()}selectLastSuggestion(){this.widget.value.selectLast()}selectPrevSuggestion(){this.widget.value.selectPrevious()}selectPrevPageSuggestion(){this.widget.value.selectPreviousPage()}selectFirstSuggestion(){this.widget.value.selectFirst()}toggleSuggestionDetails(){this.widget.value.toggleDetails()}toggleExplainMode(){this.widget.value.toggleExplainMode()}toggleSuggestionFocus(){this.widget.value.toggleDetailsFocus()}resetWidgetSize(){this.widget.value.resetPersistedSize()}forceRenderingAbove(){this.widget.value.forceRenderingAbove()}stopForceRenderingAbove(){this.widget.isInitialized&&this.widget.value.stopForceRenderingAbove()}registerSelector(oe){return this._selectors.register(oe)}};z.ID="editor.contrib.suggestController",e.SuggestController=z=Ne([ge(1,l.ISuggestMemoryService),ge(2,g.ICommandService),ge(3,v.IContextKeyService),ge(4,b.IInstantiationService),ge(5,w.ILogService),ge(6,N.ITelemetryService)],z);class U{constructor(oe){this.prioritySelector=oe,this._items=new Array}register(oe){if(this._items.indexOf(oe)!==-1)throw new Error("Value is already registered");return this._items.push(oe),this._items.sort((te,H)=>this.prioritySelector(H)-this.prioritySelector(te)),{dispose:()=>{const te=this._items.indexOf(oe);te>=0&&this._items.splice(te,1)}}}get itemsOrderedByPriorityDesc(){return this._items}}class O extends o.EditorAction{constructor(){super({id:O.id,label:C.localize(1,null),alias:"Trigger Suggest",precondition:v.ContextKeyExpr.and(n.EditorContextKeys.writable,n.EditorContextKeys.hasCompletionItemProvider,E.Context.Visible.toNegated()),kbOpts:{kbExpr:n.EditorContextKeys.textInputFocus,primary:2058,secondary:[2087],mac:{primary:266,secondary:[521,2087]},weight:100}})}run(oe,te,H){const B=z.get(te);if(!B)return;let K;H&&typeof H=="object"&&H.auto===!0&&(K=!0),B.triggerSuggest(void 0,K,void 0)}}e.TriggerSuggestAction=O,O.id="editor.action.triggerSuggest",(0,o.registerEditorContribution)(z.ID,z,2),(0,o.registerEditorAction)(O);const G=100+90,Q=o.EditorCommand.bindToContribution(z.get);(0,o.registerEditorCommand)(new Q({id:"acceptSelectedSuggestion",precondition:v.ContextKeyExpr.and(E.Context.Visible,E.Context.HasFocusedSuggestion),handler(re){re.acceptSelectedSuggestion(!0,!1)},kbOpts:[{primary:2,kbExpr:v.ContextKeyExpr.and(E.Context.Visible,n.EditorContextKeys.textInputFocus),weight:G},{primary:3,kbExpr:v.ContextKeyExpr.and(E.Context.Visible,n.EditorContextKeys.textInputFocus,E.Context.AcceptSuggestionsOnEnter,E.Context.MakesTextEdit),weight:G}],menuOpts:[{menuId:E.suggestWidgetStatusbarMenu,title:C.localize(2,null),group:"left",order:1,when:E.Context.HasInsertAndReplaceRange.toNegated()},{menuId:E.suggestWidgetStatusbarMenu,title:C.localize(3,null),group:"left",order:1,when:v.ContextKeyExpr.and(E.Context.HasInsertAndReplaceRange,E.Context.InsertMode.isEqualTo("insert"))},{menuId:E.suggestWidgetStatusbarMenu,title:C.localize(4,null),group:"left",order:1,when:v.ContextKeyExpr.and(E.Context.HasInsertAndReplaceRange,E.Context.InsertMode.isEqualTo("replace"))}]})),(0,o.registerEditorCommand)(new Q({id:"acceptAlternativeSelectedSuggestion",precondition:v.ContextKeyExpr.and(E.Context.Visible,n.EditorContextKeys.textInputFocus,E.Context.HasFocusedSuggestion),kbOpts:{weight:G,kbExpr:n.EditorContextKeys.textInputFocus,primary:1027,secondary:[1026]},handler(re){re.acceptSelectedSuggestion(!1,!0)},menuOpts:[{menuId:E.suggestWidgetStatusbarMenu,group:"left",order:2,when:v.ContextKeyExpr.and(E.Context.HasInsertAndReplaceRange,E.Context.InsertMode.isEqualTo("insert")),title:C.localize(5,null)},{menuId:E.suggestWidgetStatusbarMenu,group:"left",order:2,when:v.ContextKeyExpr.and(E.Context.HasInsertAndReplaceRange,E.Context.InsertMode.isEqualTo("replace")),title:C.localize(6,null)}]})),g.CommandsRegistry.registerCommandAlias("acceptSelectedSuggestionOnEnter","acceptSelectedSuggestion"),(0,o.registerEditorCommand)(new Q({id:"hideSuggestWidget",precondition:E.Context.Visible,handler:re=>re.cancelSuggestWidget(),kbOpts:{weight:G,kbExpr:n.EditorContextKeys.textInputFocus,primary:9,secondary:[1033]}})),(0,o.registerEditorCommand)(new Q({id:"selectNextSuggestion",precondition:v.ContextKeyExpr.and(E.Context.Visible,v.ContextKeyExpr.or(E.Context.MultipleSuggestions,E.Context.HasFocusedSuggestion.negate())),handler:re=>re.selectNextSuggestion(),kbOpts:{weight:G,kbExpr:n.EditorContextKeys.textInputFocus,primary:18,secondary:[2066],mac:{primary:18,secondary:[2066,300]}}})),(0,o.registerEditorCommand)(new Q({id:"selectNextPageSuggestion",precondition:v.ContextKeyExpr.and(E.Context.Visible,v.ContextKeyExpr.or(E.Context.MultipleSuggestions,E.Context.HasFocusedSuggestion.negate())),handler:re=>re.selectNextPageSuggestion(),kbOpts:{weight:G,kbExpr:n.EditorContextKeys.textInputFocus,primary:12,secondary:[2060]}})),(0,o.registerEditorCommand)(new Q({id:"selectLastSuggestion",precondition:v.ContextKeyExpr.and(E.Context.Visible,v.ContextKeyExpr.or(E.Context.MultipleSuggestions,E.Context.HasFocusedSuggestion.negate())),handler:re=>re.selectLastSuggestion()})),(0,o.registerEditorCommand)(new Q({id:"selectPrevSuggestion",precondition:v.ContextKeyExpr.and(E.Context.Visible,v.ContextKeyExpr.or(E.Context.MultipleSuggestions,E.Context.HasFocusedSuggestion.negate())),handler:re=>re.selectPrevSuggestion(),kbOpts:{weight:G,kbExpr:n.EditorContextKeys.textInputFocus,primary:16,secondary:[2064],mac:{primary:16,secondary:[2064,302]}}})),(0,o.registerEditorCommand)(new Q({id:"selectPrevPageSuggestion",precondition:v.ContextKeyExpr.and(E.Context.Visible,v.ContextKeyExpr.or(E.Context.MultipleSuggestions,E.Context.HasFocusedSuggestion.negate())),handler:re=>re.selectPrevPageSuggestion(),kbOpts:{weight:G,kbExpr:n.EditorContextKeys.textInputFocus,primary:11,secondary:[2059]}})),(0,o.registerEditorCommand)(new Q({id:"selectFirstSuggestion",precondition:v.ContextKeyExpr.and(E.Context.Visible,v.ContextKeyExpr.or(E.Context.MultipleSuggestions,E.Context.HasFocusedSuggestion.negate())),handler:re=>re.selectFirstSuggestion()})),(0,o.registerEditorCommand)(new Q({id:"focusSuggestion",precondition:v.ContextKeyExpr.and(E.Context.Visible,E.Context.HasFocusedSuggestion.negate()),handler:re=>re.focusSuggestion(),kbOpts:{weight:G,kbExpr:n.EditorContextKeys.textInputFocus,primary:2058,secondary:[2087],mac:{primary:266,secondary:[2087]}}})),(0,o.registerEditorCommand)(new Q({id:"focusAndAcceptSuggestion",precondition:v.ContextKeyExpr.and(E.Context.Visible,E.Context.HasFocusedSuggestion.negate()),handler:re=>{re.focusSuggestion(),re.acceptSelectedSuggestion(!0,!1)}})),(0,o.registerEditorCommand)(new Q({id:"toggleSuggestionDetails",precondition:v.ContextKeyExpr.and(E.Context.Visible,E.Context.HasFocusedSuggestion),handler:re=>re.toggleSuggestionDetails(),kbOpts:{weight:G,kbExpr:n.EditorContextKeys.textInputFocus,primary:2058,secondary:[2087],mac:{primary:266,secondary:[2087]}},menuOpts:[{menuId:E.suggestWidgetStatusbarMenu,group:"right",order:1,when:v.ContextKeyExpr.and(E.Context.DetailsVisible,E.Context.CanResolve),title:C.localize(7,null)},{menuId:E.suggestWidgetStatusbarMenu,group:"right",order:1,when:v.ContextKeyExpr.and(E.Context.DetailsVisible.toNegated(),E.Context.CanResolve),title:C.localize(8,null)}]})),(0,o.registerEditorCommand)(new Q({id:"toggleExplainMode",precondition:E.Context.Visible,handler:re=>re.toggleExplainMode(),kbOpts:{weight:100,primary:2138}})),(0,o.registerEditorCommand)(new Q({id:"toggleSuggestionFocus",precondition:E.Context.Visible,handler:re=>re.toggleSuggestionFocus(),kbOpts:{weight:G,kbExpr:n.EditorContextKeys.textInputFocus,primary:2570,mac:{primary:778}}})),(0,o.registerEditorCommand)(new Q({id:"insertBestCompletion",precondition:v.ContextKeyExpr.and(n.EditorContextKeys.textInputFocus,v.ContextKeyExpr.equals("config.editor.tabCompletion","on"),u.WordContextKey.AtEnd,E.Context.Visible.toNegated(),I.SuggestAlternatives.OtherSuggestions.toNegated(),c.SnippetController2.InSnippetMode.toNegated()),handler:(re,oe)=>{re.triggerSuggestAndAcceptBest((0,t.isObject)(oe)?Object.assign({fallback:"tab"},oe):{fallback:"tab"})},kbOpts:{weight:G,primary:2}})),(0,o.registerEditorCommand)(new Q({id:"insertNextSuggestion",precondition:v.ContextKeyExpr.and(n.EditorContextKeys.textInputFocus,v.ContextKeyExpr.equals("config.editor.tabCompletion","on"),I.SuggestAlternatives.OtherSuggestions,E.Context.Visible.toNegated(),c.SnippetController2.InSnippetMode.toNegated()),handler:re=>re.acceptNextSuggestion(),kbOpts:{weight:G,kbExpr:n.EditorContextKeys.textInputFocus,primary:2}})),(0,o.registerEditorCommand)(new Q({id:"insertPrevSuggestion",precondition:v.ContextKeyExpr.and(n.EditorContextKeys.textInputFocus,v.ContextKeyExpr.equals("config.editor.tabCompletion","on"),I.SuggestAlternatives.OtherSuggestions,E.Context.Visible.toNegated(),c.SnippetController2.InSnippetMode.toNegated()),handler:re=>re.acceptPrevSuggestion(),kbOpts:{weight:G,kbExpr:n.EditorContextKeys.textInputFocus,primary:1026}})),(0,o.registerEditorAction)(class extends o.EditorAction{constructor(){super({id:"editor.action.resetSuggestSize",label:C.localize(9,null),alias:"Reset Suggest Widget Size",precondition:void 0})}run(re,oe){var te;(te=z.get(oe))===null||te===void 0||te.resetWidgetSize()}})}),define(X[904],ee([1,0,6,2,11,5,29,128,372,373,42,293,16]),function(q,e,L,k,y,D,S,m,_,f,p,s,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestItemInfo=e.SuggestWidgetAdaptor=void 0;class i extends k.Disposable{get selectedItem(){return this._selectedItem}constructor(h,n,c){super(),this.editor=h,this.suggestControllerPreselector=n,this.checkModelVersion=c,this.isSuggestWidgetVisible=!1,this.isShiftKeyPressed=!1,this._isActive=!1,this._currentSuggestItemInfo=void 0,this._selectedItem=(0,p.observableValue)("suggestWidgetInlineCompletionProvider.selectedItem",void 0),this._register(h.onKeyDown(l=>{l.shiftKey&&!this.isShiftKeyPressed&&(this.isShiftKeyPressed=!0,this.update(this._isActive))})),this._register(h.onKeyUp(l=>{l.shiftKey&&this.isShiftKeyPressed&&(this.isShiftKeyPressed=!1,this.update(this._isActive))}));const a=f.SuggestController.get(this.editor);if(a){this._register(a.registerSelector({priority:100,select:(C,g,v)=>{var b;(0,p.transaction)(A=>this.checkModelVersion(A));const w=this.editor.getModel();if(!w)return-1;const E=(b=this.suggestControllerPreselector())===null||b===void 0?void 0:b.removeCommonPrefix(w);if(!E)return-1;const I=y.Position.lift(g),T=v.map((A,M)=>{const R=o.fromSuggestion(a,w,I,A,this.isShiftKeyPressed).toSingleTextEdit().removeCommonPrefix(w),F=E.augments(R);return{index:M,valid:F,prefixLength:R.text.length,suggestItem:A}}).filter(A=>A&&A.valid&&A.prefixLength>0),P=(0,t.findMaxBy)(T,(0,t.compareBy)(A=>A.prefixLength,t.numberComparator));return P?P.index:-1}}));let l=!1;const u=()=>{l||(l=!0,this._register(a.widget.value.onDidShow(()=>{this.isSuggestWidgetVisible=!0,this.update(!0)})),this._register(a.widget.value.onDidHide(()=>{this.isSuggestWidgetVisible=!1,this.update(!1)})),this._register(a.widget.value.onDidFocus(()=>{this.isSuggestWidgetVisible=!0,this.update(!0)})))};this._register(L.Event.once(a.model.onDidTrigger)(C=>{u()}))}this.update(this._isActive)}update(h){const n=this.getSuggestItemInfo();(this._isActive!==h||!r(this._currentSuggestItemInfo,n))&&(this._isActive=h,this._currentSuggestItemInfo=n,(0,p.transaction)(c=>{this.checkModelVersion(c),this._selectedItem.set(this._isActive?this._currentSuggestItemInfo:void 0,c)}))}getSuggestItemInfo(){const h=f.SuggestController.get(this.editor);if(!h||!this.isSuggestWidgetVisible)return;const n=h.widget.value.getFocusedItem(),c=this.editor.getPosition(),a=this.editor.getModel();if(!(!n||!c||!a))return o.fromSuggestion(h,a,c,n.item,this.isShiftKeyPressed)}stopForceRenderingAbove(){const h=f.SuggestController.get(this.editor);h?.stopForceRenderingAbove()}forceRenderingAbove(){const h=f.SuggestController.get(this.editor);h?.forceRenderingAbove()}}e.SuggestWidgetAdaptor=i;class o{static fromSuggestion(h,n,c,a,l){let{insertText:u}=a.completion,C=!1;if(a.completion.insertTextRules&4){const v=new m.SnippetParser().parse(u);v.children.length<100&&_.SnippetSession.adjustWhitespace(n,c,!0,v),u=v.toString(),C=!0}const g=h.getOverwriteInfo(a,l);return new o(D.Range.fromPositions(c.delta(0,-g.overwriteBefore),c.delta(0,Math.max(g.overwriteAfter,0))),u,a.completion.kind,C)}constructor(h,n,c,a){this.range=h,this.insertText=n,this.completionItemKind=c,this.isSnippetText=a}equals(h){return this.range.equalsRange(h.range)&&this.insertText===h.insertText&&this.completionItemKind===h.completionItemKind&&this.isSnippetText===h.isSnippetText}toSelectedSuggestionInfo(){return new S.SelectedSuggestionInfo(this.range,this.insertText,this.completionItemKind,this.isSnippetText)}toSingleTextEdit(){return new s.SingleTextEdit(this.range,this.insertText)}}e.SuggestItemInfo=o;function r(d,h){return d===h?!0:!d||!h?!1:d.equals(h)}}),define(X[256],ee([1,0,54,6,2,42,106,190,11,75,19,213,739,236,252,902,904,156,26,28,13,8]),function(q,e,L,k,y,D,S,m,_,f,p,s,t,i,o,r,d,h,n,c,a,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlineCompletionsController=void 0;let u=e.InlineCompletionsController=class Cn extends y.Disposable{static get(g){return g.getContribution(Cn.ID)}constructor(g,v,b,w,E,I,T,P){super(),this.editor=g,this.instantiationService=v,this.contextKeyService=b,this.configurationService=w,this.commandService=E,this.debounceService=I,this.languageFeaturesService=T,this.audioCueService=P,this.model=(0,S.disposableObservableValue)("inlineCompletionModel",void 0),this.textModelVersionId=(0,D.observableValue)("textModelVersionId",-1),this.cursorPosition=(0,D.observableValue)("cursorPosition",new _.Position(1,1)),this.suggestWidgetAdaptor=this._register(new d.SuggestWidgetAdaptor(this.editor,()=>{var N,R;return(R=(N=this.model.get())===null||N===void 0?void 0:N.selectedInlineCompletion.get())===null||R===void 0?void 0:R.toSingleTextEdit(void 0)},N=>this.updateObservables(N,r.VersionIdChangeReason.Other))),this._enabled=(0,D.observableFromEvent)(this.editor.onDidChangeConfiguration,()=>this.editor.getOption(60).enabled),this.ghostTextWidget=this._register(this.instantiationService.createInstance(t.GhostTextWidget,this.editor,{ghostText:this.model.map((N,R)=>N?.ghostText.read(R)),minReservedLineCount:(0,D.constObservable)(0),targetTextModel:this.model.map(N=>N?.textModel)})),this._debounceValue=this.debounceService.for(this.languageFeaturesService.inlineCompletionsProvider,"InlineCompletionsDebounce",{min:50,max:50}),this._register(new i.InlineCompletionContextKeys(this.contextKeyService,this.model)),this._register(k.Event.runAndSubscribe(g.onDidChangeModel,()=>(0,S.transaction)(N=>{this.model.set(void 0,N),this.updateObservables(N,r.VersionIdChangeReason.Other);const R=g.getModel();if(R){const F=v.createInstance(r.InlineCompletionsModel,R,this.suggestWidgetAdaptor.selectedItem,this.cursorPosition,this.textModelVersionId,this._debounceValue,(0,D.observableFromEvent)(g.onDidChangeConfiguration,()=>g.getOption(115).preview),(0,D.observableFromEvent)(g.onDidChangeConfiguration,()=>g.getOption(115).previewMode),(0,D.observableFromEvent)(g.onDidChangeConfiguration,()=>g.getOption(60).mode),this._enabled);this.model.set(F,N)}})));const A=N=>{var R;return N.isUndoing?r.VersionIdChangeReason.Undo:N.isRedoing?r.VersionIdChangeReason.Redo:!((R=this.model.get())===null||R===void 0)&&R.isAcceptingPartially?r.VersionIdChangeReason.AcceptWord:r.VersionIdChangeReason.Other};this._register(g.onDidChangeModelContent(N=>(0,S.transaction)(R=>this.updateObservables(R,A(N))))),this._register(g.onDidChangeCursorPosition(N=>(0,S.transaction)(R=>{var F;this.updateObservables(R,r.VersionIdChangeReason.Other),N.reason===3&&((F=this.model.get())===null||F===void 0||F.stop(R))}))),this._register(g.onDidType(()=>(0,S.transaction)(N=>{var R;this.updateObservables(N,r.VersionIdChangeReason.Other),this._enabled.get()&&((R=this.model.get())===null||R===void 0||R.trigger(N))}))),this._register(this.commandService.onDidExecuteCommand(N=>{new Set([m.CoreEditingCommands.Tab.id,m.CoreEditingCommands.DeleteLeft.id,m.CoreEditingCommands.DeleteRight.id,s.inlineSuggestCommitId,"acceptSelectedSuggestion"]).has(N.commandId)&&g.hasTextFocus()&&this._enabled.get()&&(0,S.transaction)(F=>{var x;(x=this.model.get())===null||x===void 0||x.trigger(F)})})),this._register(this.editor.onDidBlurEditorWidget(()=>{this.configurationService.getValue("editor.inlineSuggest.keepOnBlur")||g.getOption(60).keepOnBlur||o.InlineSuggestionHintsContentWidget.dropDownVisible||(0,S.transaction)(N=>{var R;(R=this.model.get())===null||R===void 0||R.stop(N)})})),this._register((0,D.autorun)("forceRenderingAbove",N=>{var R;const F=(R=this.model.read(N))===null||R===void 0?void 0:R.state.read(N);F?.suggestItem?F.ghostText.lineCount>=2&&this.suggestWidgetAdaptor.forceRenderingAbove():this.suggestWidgetAdaptor.stopForceRenderingAbove()})),this._register((0,y.toDisposable)(()=>{this.suggestWidgetAdaptor.stopForceRenderingAbove()}));let M;this._register((0,D.autorun)("play audio cue & read suggestion",N=>{const R=this.model.read(N),F=R?.state.read(N);if(!R||!F||!F.completion){M=void 0;return}if(F.completion.semanticId!==M){if(M=F.completion.semanticId,R.isNavigatingCurrentInlineCompletion)return;this.audioCueService.playAudioCue(h.AudioCue.inlineSuggestion).then(()=>{if(this.editor.getOption(6)){const x=R.textModel.getLineContent(F.ghostText.lineNumber);(0,L.alert)(F.ghostText.renderForScreenReader(x))}})}})),this._register(new o.InlineCompletionsHintsWidget(this.editor,this.model,this.instantiationService))}updateObservables(g,v){var b,w;const E=this.editor.getModel();this.textModelVersionId.set((b=E?.getVersionId())!==null&&b!==void 0?b:-1,g,v),this.cursorPosition.set((w=this.editor.getPosition())!==null&&w!==void 0?w:new _.Position(1,1),g)}shouldShowHoverAt(g){var v;const b=(v=this.model.get())===null||v===void 0?void 0:v.ghostText.get();return b?b.parts.some(w=>g.containsPosition(new _.Position(b.lineNumber,w.column))):!1}shouldShowHoverAtViewZone(g){return this.ghostTextWidget.ownsViewZone(g)}};u.ID="editor.contrib.inlineCompletionsController",e.InlineCompletionsController=u=Ne([ge(1,l.IInstantiationService),ge(2,a.IContextKeyService),ge(3,c.IConfigurationService),ge(4,n.ICommandService),ge(5,f.ILanguageFeatureDebounceService),ge(6,p.ILanguageFeaturesService),ge(7,h.IAudioCueService)],u)}),define(X[905],ee([1,0,42,15,22,213,236,256,668,31,28,13]),function(q,e,L,k,y,D,S,m,_,f,p,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ToggleAlwaysShowInlineSuggestionToolbar=e.HideInlineCompletion=e.AcceptInlineCompletion=e.AcceptNextLineOfInlineCompletion=e.AcceptNextWordOfInlineCompletion=e.TriggerInlineSuggestionAction=e.ShowPreviousInlineSuggestionAction=e.ShowNextInlineSuggestionAction=void 0;class t extends k.EditorAction{constructor(){super({id:t.ID,label:_.localize(0,null),alias:"Show Next Inline Suggestion",precondition:s.ContextKeyExpr.and(y.EditorContextKeys.writable,S.InlineCompletionContextKeys.inlineSuggestionVisible),kbOpts:{weight:100,primary:606}})}run(l,u){var C;return Le(this,void 0,void 0,function*(){const g=m.InlineCompletionsController.get(u);(C=g?.model.get())===null||C===void 0||C.next()})}}e.ShowNextInlineSuggestionAction=t,t.ID=D.showNextInlineSuggestionActionId;class i extends k.EditorAction{constructor(){super({id:i.ID,label:_.localize(1,null),alias:"Show Previous Inline Suggestion",precondition:s.ContextKeyExpr.and(y.EditorContextKeys.writable,S.InlineCompletionContextKeys.inlineSuggestionVisible),kbOpts:{weight:100,primary:604}})}run(l,u){var C;return Le(this,void 0,void 0,function*(){const g=m.InlineCompletionsController.get(u);(C=g?.model.get())===null||C===void 0||C.previous()})}}e.ShowPreviousInlineSuggestionAction=i,i.ID=D.showPreviousInlineSuggestionActionId;class o extends k.EditorAction{constructor(){super({id:"editor.action.inlineSuggest.trigger",label:_.localize(2,null),alias:"Trigger Inline Suggestion",precondition:y.EditorContextKeys.writable})}run(l,u){var C;return Le(this,void 0,void 0,function*(){const g=m.InlineCompletionsController.get(u);(C=g?.model.get())===null||C===void 0||C.triggerExplicitly()})}}e.TriggerInlineSuggestionAction=o;class r extends k.EditorAction{constructor(){super({id:"editor.action.inlineSuggest.acceptNextWord",label:_.localize(3,null),alias:"Accept Next Word Of Inline Suggestion",precondition:s.ContextKeyExpr.and(y.EditorContextKeys.writable,S.InlineCompletionContextKeys.inlineSuggestionVisible),kbOpts:{weight:100+1,primary:2065},menuOpts:[{menuId:f.MenuId.InlineSuggestionToolbar,title:_.localize(4,null),group:"primary",order:2}]})}run(l,u){var C;return Le(this,void 0,void 0,function*(){const g=m.InlineCompletionsController.get(u);(C=g?.model.get())===null||C===void 0||C.acceptNextWord(g.editor)})}}e.AcceptNextWordOfInlineCompletion=r;class d extends k.EditorAction{constructor(){super({id:"editor.action.inlineSuggest.acceptNextLine",label:_.localize(5,null),alias:"Accept Next Line Of Inline Suggestion",precondition:s.ContextKeyExpr.and(y.EditorContextKeys.writable,S.InlineCompletionContextKeys.inlineSuggestionVisible),kbOpts:{weight:100+1},menuOpts:[{menuId:f.MenuId.InlineSuggestionToolbar,title:_.localize(6,null),group:"secondary",order:2}]})}run(l,u){var C;return Le(this,void 0,void 0,function*(){const g=m.InlineCompletionsController.get(u);(C=g?.model.get())===null||C===void 0||C.acceptNextLine(g.editor)})}}e.AcceptNextLineOfInlineCompletion=d;class h extends k.EditorAction{constructor(){super({id:D.inlineSuggestCommitId,label:_.localize(7,null),alias:"Accept Inline Suggestion",precondition:S.InlineCompletionContextKeys.inlineSuggestionVisible,menuOpts:[{menuId:f.MenuId.InlineSuggestionToolbar,title:_.localize(8,null),group:"primary",order:1}],kbOpts:{primary:2,weight:200,kbExpr:s.ContextKeyExpr.and(S.InlineCompletionContextKeys.inlineSuggestionVisible,y.EditorContextKeys.tabMovesFocus.toNegated(),S.InlineCompletionContextKeys.inlineSuggestionHasIndentationLessThanTabSize)}})}run(l,u){var C;return Le(this,void 0,void 0,function*(){const g=m.InlineCompletionsController.get(u);g&&((C=g.model.get())===null||C===void 0||C.accept(g.editor),g.editor.focus())})}}e.AcceptInlineCompletion=h;class n extends k.EditorAction{constructor(){super({id:n.ID,label:_.localize(9,null),alias:"Hide Inline Suggestion",precondition:S.InlineCompletionContextKeys.inlineSuggestionVisible,kbOpts:{weight:100,primary:9}})}run(l,u){return Le(this,void 0,void 0,function*(){const C=m.InlineCompletionsController.get(u);(0,L.transaction)(g=>{var v;(v=C?.model.get())===null||v===void 0||v.stop(g)})})}}e.HideInlineCompletion=n,n.ID="editor.action.inlineSuggest.hide";class c extends f.Action2{constructor(){super({id:c.ID,title:_.localize(10,null),f1:!1,precondition:void 0,menu:[{id:f.MenuId.InlineSuggestionToolbar,group:"secondary",order:10}],toggled:s.ContextKeyExpr.equals("config.editor.inlineSuggest.showToolbar","always")})}run(l,u){return Le(this,void 0,void 0,function*(){const C=l.get(p.IConfigurationService),v=C.getValue("editor.inlineSuggest.showToolbar")==="always"?"onHover":"always";C.updateValue("editor.inlineSuggest.showToolbar",v)})}}e.ToggleAlwaysShowInlineSuggestionToolbar=c,c.ID="editor.action.inlineSuggest.toggleAlwaysShowToolbar"}),define(X[906],ee([1,0,7,55,2,42,5,41,100,256,252,115,669,96,8,56,78]),function(q,e,L,k,y,D,S,m,_,f,p,s,t,i,o,r,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlineCompletionsHoverParticipant=e.InlineCompletionsHover=void 0;class h{constructor(a,l,u){this.owner=a,this.range=l,this.controller=u}isValidForHoverAnchor(a){return a.type===1&&this.range.startColumn<=a.range.startColumn&&this.range.endColumn>=a.range.endColumn}}e.InlineCompletionsHover=h;let n=e.InlineCompletionsHoverParticipant=class{constructor(a,l,u,C,g,v){this._editor=a,this._languageService=l,this._openerService=u,this.accessibilityService=C,this._instantiationService=g,this._telemetryService=v,this.hoverOrdinal=4}suggestHoverAnchor(a){const l=f.InlineCompletionsController.get(this._editor);if(!l)return null;const u=a.target;if(u.type===8){const C=u.detail;if(l.shouldShowHoverAtViewZone(C.viewZoneId))return new _.HoverForeignElementAnchor(1e3,this,S.Range.fromPositions(this._editor.getModel().validatePosition(C.positionBefore||C.position)),a.event.posx,a.event.posy,!1)}return u.type===7&&l.shouldShowHoverAt(u.range)?new _.HoverForeignElementAnchor(1e3,this,u.range,a.event.posx,a.event.posy,!1):u.type===6&&u.detail.mightBeForeignElement&&l.shouldShowHoverAt(u.range)?new _.HoverForeignElementAnchor(1e3,this,u.range,a.event.posx,a.event.posy,!1):null}computeSync(a,l){if(this._editor.getOption(60).showToolbar==="always")return[];const u=f.InlineCompletionsController.get(this._editor);return u&&u.shouldShowHoverAt(a.range)?[new h(this,a.range,u)]:[]}renderHoverParts(a,l){const u=new y.DisposableStore,C=l[0];this._telemetryService.publicLog2("inlineCompletionHover.shown"),this.accessibilityService.isScreenReaderOptimized()&&this.renderScreenReaderText(a,C,u);const g=C.controller.model.get(),v=this._instantiationService.createInstance(p.InlineSuggestionHintsContentWidget,this._editor,!1,(0,D.constObservable)(null),g.selectedInlineCompletionIndex,g.inlineCompletionsCount,g.selectedInlineCompletion.map(b=>{var w;return(w=b?.inlineCompletion.source.inlineCompletions.commands)!==null&&w!==void 0?w:[]}));return a.fragment.appendChild(v.getDomNode()),g.triggerExplicitly(),u.add(v),u}renderScreenReaderText(a,l,u){const C=L.$,g=C("div.hover-row.markdown-hover"),v=L.append(g,C("div.hover-contents",{["aria-live"]:"assertive"})),b=u.add(new s.MarkdownRenderer({editor:this._editor},this._languageService,this._openerService)),w=E=>{u.add(b.onDidRenderAsync(()=>{v.className="hover-contents code-hover-contents",a.onContentsChanged()}));const I=t.localize(0,null),T=u.add(b.render(new k.MarkdownString().appendText(I).appendCodeblock("text",E)));v.replaceChildren(T.element)};u.add((0,D.autorun)("update hover",E=>{var I;const T=(I=l.controller.model.read(E))===null||I===void 0?void 0:I.ghostText.read(E);if(T){const P=this._editor.getModel().getLineContent(T.lineNumber);w(T.renderForScreenReader(P))}else L.reset(v)})),a.fragment.appendChild(g)}};e.InlineCompletionsHoverParticipant=n=Ne([ge(1,m.ILanguageService),ge(2,r.IOpenerService),ge(3,i.IAccessibilityService),ge(4,o.IInstantiationService),ge(5,d.ITelemetryService)],n)}),define(X[907],ee([1,0,15,100,905,906,256,31]),function(q,e,L,k,y,D,S,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),(0,L.registerEditorContribution)(S.InlineCompletionsController.ID,S.InlineCompletionsController,3),(0,L.registerEditorAction)(y.TriggerInlineSuggestionAction),(0,L.registerEditorAction)(y.ShowNextInlineSuggestionAction),(0,L.registerEditorAction)(y.ShowPreviousInlineSuggestionAction),(0,L.registerEditorAction)(y.AcceptNextWordOfInlineCompletion),(0,L.registerEditorAction)(y.AcceptNextLineOfInlineCompletion),(0,L.registerEditorAction)(y.AcceptInlineCompletion),(0,L.registerEditorAction)(y.HideInlineCompletion),(0,m.registerAction2)(y.ToggleAlwaysShowInlineSuggestionToolbar),k.HoverParticipantRegistry.register(D.InlineCompletionsHoverParticipant)}),define(X[374],ee([1,0,8]),function(q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IWorkspaceTrustManagementService=void 0,e.IWorkspaceTrustManagementService=(0,L.createDecorator)("workspaceTrustManagementService")}),define(X[908],ee([1,0,14,25,55,2,17,9,15,35,39,284,114,41,323,100,248,822,699,28,8,56,76,61,374,460]),function(q,e,L,k,y,D,S,m,_,f,p,s,t,i,o,r,d,h,n,c,a,l,u,C,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ShowExcludeOptions=e.DisableHighlightingOfNonBasicAsciiCharactersAction=e.DisableHighlightingOfInvisibleCharactersAction=e.DisableHighlightingOfAmbiguousCharactersAction=e.DisableHighlightingInStringsAction=e.DisableHighlightingInCommentsAction=e.UnicodeHighlighterHoverParticipant=e.UnicodeHighlighter=e.warningIcon=void 0,e.warningIcon=(0,C.registerIcon)("extensions-warning-message",k.Codicon.warning,n.localize(0,null));let v=e.UnicodeHighlighter=class extends D.Disposable{constructor(oe,te,H,B){super(),this._editor=oe,this._editorWorkerService=te,this._workspaceTrustService=H,this._highlighter=null,this._bannerClosed=!1,this._updateState=K=>{if(K&&K.hasMore){if(this._bannerClosed)return;const Z=Math.max(K.ambiguousCharacterCount,K.nonBasicAsciiCharacterCount,K.invisibleCharacterCount);let J;if(K.nonBasicAsciiCharacterCount>=Z)J={message:n.localize(1,null),command:new z};else if(K.ambiguousCharacterCount>=Z)J={message:n.localize(2,null),command:new x};else if(K.invisibleCharacterCount>=Z)J={message:n.localize(3,null),command:new W};else throw new Error("Unreachable");this._bannerController.show({id:"unicodeHighlightBanner",message:J.message,icon:e.warningIcon,actions:[{label:J.command.shortLabel,href:`command:${J.command.id}`}],onClose:()=>{this._bannerClosed=!0}})}else this._bannerController.hide()},this._bannerController=this._register(B.createInstance(h.BannerController,oe)),this._register(this._editor.onDidChangeModel(()=>{this._bannerClosed=!1,this._updateHighlighter()})),this._options=oe.getOption(122),this._register(H.onDidChangeTrust(K=>{this._updateHighlighter()})),this._register(oe.onDidChangeConfiguration(K=>{K.hasChanged(122)&&(this._options=oe.getOption(122),this._updateHighlighter())})),this._updateHighlighter()}dispose(){this._highlighter&&(this._highlighter.dispose(),this._highlighter=null),super.dispose()}_updateHighlighter(){if(this._updateState(null),this._highlighter&&(this._highlighter.dispose(),this._highlighter=null),!this._editor.hasModel())return;const oe=b(this._workspaceTrustService.isWorkspaceTrusted(),this._options);if([oe.nonBasicASCII,oe.ambiguousCharacters,oe.invisibleCharacters].every(H=>H===!1))return;const te={nonBasicASCII:oe.nonBasicASCII,ambiguousCharacters:oe.ambiguousCharacters,invisibleCharacters:oe.invisibleCharacters,includeComments:oe.includeComments,includeStrings:oe.includeStrings,allowedCodePoints:Object.keys(oe.allowedCharacters).map(H=>H.codePointAt(0)),allowedLocales:Object.keys(oe.allowedLocales).map(H=>H==="_os"?new Intl.NumberFormat().resolvedOptions().locale:H==="_vscode"?S.language:H)};this._editorWorkerService.canComputeUnicodeHighlights(this._editor.getModel().uri)?this._highlighter=new w(this._editor,te,this._updateState,this._editorWorkerService):this._highlighter=new E(this._editor,te,this._updateState)}getDecorationInfo(oe){return this._highlighter?this._highlighter.getDecorationInfo(oe):null}};v.ID="editor.contrib.unicodeHighlighter",e.UnicodeHighlighter=v=Ne([ge(1,t.IEditorWorkerService),ge(2,g.IWorkspaceTrustManagementService),ge(3,a.IInstantiationService)],v);function b(re,oe){return{nonBasicASCII:oe.nonBasicASCII===f.inUntrustedWorkspace?!re:oe.nonBasicASCII,ambiguousCharacters:oe.ambiguousCharacters,invisibleCharacters:oe.invisibleCharacters,includeComments:oe.includeComments===f.inUntrustedWorkspace?!re:oe.includeComments,includeStrings:oe.includeStrings===f.inUntrustedWorkspace?!re:oe.includeStrings,allowedCharacters:oe.allowedCharacters,allowedLocales:oe.allowedLocales}}let w=class extends D.Disposable{constructor(oe,te,H,B){super(),this._editor=oe,this._options=te,this._updateState=H,this._editorWorkerService=B,this._model=this._editor.getModel(),this._decorations=this._editor.createDecorationsCollection(),this._updateSoon=this._register(new L.RunOnceScheduler(()=>this._update(),250)),this._register(this._editor.onDidChangeModelContent(()=>{this._updateSoon.schedule()})),this._updateSoon.schedule()}dispose(){this._decorations.clear(),super.dispose()}_update(){if(this._model.isDisposed())return;if(!this._model.mightContainNonBasicASCII()){this._decorations.clear();return}const oe=this._model.getVersionId();this._editorWorkerService.computedUnicodeHighlights(this._model.uri,this._options).then(te=>{if(this._model.isDisposed()||this._model.getVersionId()!==oe)return;this._updateState(te);const H=[];if(!te.hasMore)for(const B of te.ranges)H.push({range:B,options:N.instance.getDecorationFromOptions(this._options)});this._decorations.set(H)})}getDecorationInfo(oe){if(!this._decorations.has(oe))return null;const te=this._editor.getModel();if(!(0,o.isModelDecorationVisible)(te,oe))return null;const H=te.getValueInRange(oe.range);return{reason:M(H,this._options),inComment:(0,o.isModelDecorationInComment)(te,oe),inString:(0,o.isModelDecorationInString)(te,oe)}}};w=Ne([ge(3,t.IEditorWorkerService)],w);class E extends D.Disposable{constructor(oe,te,H){super(),this._editor=oe,this._options=te,this._updateState=H,this._model=this._editor.getModel(),this._decorations=this._editor.createDecorationsCollection(),this._updateSoon=this._register(new L.RunOnceScheduler(()=>this._update(),250)),this._register(this._editor.onDidLayoutChange(()=>{this._updateSoon.schedule()})),this._register(this._editor.onDidScrollChange(()=>{this._updateSoon.schedule()})),this._register(this._editor.onDidChangeHiddenAreas(()=>{this._updateSoon.schedule()})),this._register(this._editor.onDidChangeModelContent(()=>{this._updateSoon.schedule()})),this._updateSoon.schedule()}dispose(){this._decorations.clear(),super.dispose()}_update(){if(this._model.isDisposed())return;if(!this._model.mightContainNonBasicASCII()){this._decorations.clear();return}const oe=this._editor.getVisibleRanges(),te=[],H={ranges:[],ambiguousCharacterCount:0,invisibleCharacterCount:0,nonBasicAsciiCharacterCount:0,hasMore:!1};for(const B of oe){const K=s.UnicodeTextModelHighlighter.computeUnicodeHighlights(this._model,this._options,B);for(const Z of K.ranges)H.ranges.push(Z);H.ambiguousCharacterCount+=H.ambiguousCharacterCount,H.invisibleCharacterCount+=H.invisibleCharacterCount,H.nonBasicAsciiCharacterCount+=H.nonBasicAsciiCharacterCount,H.hasMore=H.hasMore||K.hasMore}if(!H.hasMore)for(const B of H.ranges)te.push({range:B,options:N.instance.getDecorationFromOptions(this._options)});this._updateState(H),this._decorations.set(te)}getDecorationInfo(oe){if(!this._decorations.has(oe))return null;const te=this._editor.getModel(),H=te.getValueInRange(oe.range);return(0,o.isModelDecorationVisible)(te,oe)?{reason:M(H,this._options),inComment:(0,o.isModelDecorationInComment)(te,oe),inString:(0,o.isModelDecorationInString)(te,oe)}:null}}let I=e.UnicodeHighlighterHoverParticipant=class{constructor(oe,te,H){this._editor=oe,this._languageService=te,this._openerService=H,this.hoverOrdinal=5}computeSync(oe,te){if(!this._editor.hasModel()||oe.type!==1)return[];const H=this._editor.getModel(),B=this._editor.getContribution(v.ID);if(!B)return[];const K=[];let Z=300;for(const J of te){const ne=B.getDecorationInfo(J);if(!ne)continue;const de=H.getValueInRange(J.range).codePointAt(0),ae=P(de);let ce;switch(ne.reason.kind){case 0:{(0,m.isBasicASCII)(ne.reason.confusableWith)?ce=n.localize(4,null,ae,P(ne.reason.confusableWith.codePointAt(0))):ce=n.localize(5,null,ae,P(ne.reason.confusableWith.codePointAt(0)));break}case 1:ce=n.localize(6,null,ae);break;case 2:ce=n.localize(7,null,ae);break}const $={codePoint:de,reason:ne.reason,inComment:ne.inComment,inString:ne.inString},V=n.localize(8,null),j=`command:${U.ID}?${encodeURIComponent(JSON.stringify($))}`,se=new y.MarkdownString("",!0).appendMarkdown(ce).appendText(" ").appendLink(j,V);K.push(new d.MarkdownHover(this,J.range,[se],!1,Z++))}return K}renderHoverParts(oe,te){return(0,d.renderMarkdownHovers)(oe,te,this._editor,this._languageService,this._openerService)}};e.UnicodeHighlighterHoverParticipant=I=Ne([ge(1,i.ILanguageService),ge(2,l.IOpenerService)],I);function T(re){return`U+${re.toString(16).padStart(4,"0")}`}function P(re){let oe=`\`${T(re)}\``;return m.InvisibleCharacters.isInvisibleCharacter(re)||(oe+=` "${`${A(re)}`}"`),oe}function A(re){return re===96?"`` ` ``":"`"+String.fromCodePoint(re)+"`"}function M(re,oe){return s.UnicodeTextModelHighlighter.computeUnicodeHighlightReason(re,oe)}class N{constructor(){this.map=new Map}getDecorationFromOptions(oe){return this.getDecoration(!oe.includeComments,!oe.includeStrings)}getDecoration(oe,te){const H=`${oe}${te}`;let B=this.map.get(H);return B||(B=p.ModelDecorationOptions.createDynamic({description:"unicode-highlight",stickiness:1,className:"unicode-highlight",showIfCollapsed:!0,overviewRuler:null,minimap:null,hideInCommentTokens:oe,hideInStringTokens:te}),this.map.set(H,B)),B}}N.instance=new N;class R extends _.EditorAction{constructor(){super({id:x.ID,label:n.localize(10,null),alias:"Disable highlighting of characters in comments",precondition:void 0}),this.shortLabel=n.localize(9,null)}run(oe,te,H){return Le(this,void 0,void 0,function*(){const B=oe?.get(c.IConfigurationService);B&&this.runAction(B)})}runAction(oe){return Le(this,void 0,void 0,function*(){yield oe.updateValue(f.unicodeHighlightConfigKeys.includeComments,!1,2)})}}e.DisableHighlightingInCommentsAction=R;class F extends _.EditorAction{constructor(){super({id:x.ID,label:n.localize(12,null),alias:"Disable highlighting of characters in strings",precondition:void 0}),this.shortLabel=n.localize(11,null)}run(oe,te,H){return Le(this,void 0,void 0,function*(){const B=oe?.get(c.IConfigurationService);B&&this.runAction(B)})}runAction(oe){return Le(this,void 0,void 0,function*(){yield oe.updateValue(f.unicodeHighlightConfigKeys.includeStrings,!1,2)})}}e.DisableHighlightingInStringsAction=F;class x extends _.EditorAction{constructor(){super({id:x.ID,label:n.localize(14,null),alias:"Disable highlighting of ambiguous characters",precondition:void 0}),this.shortLabel=n.localize(13,null)}run(oe,te,H){return Le(this,void 0,void 0,function*(){const B=oe?.get(c.IConfigurationService);B&&this.runAction(B)})}runAction(oe){return Le(this,void 0,void 0,function*(){yield oe.updateValue(f.unicodeHighlightConfigKeys.ambiguousCharacters,!1,2)})}}e.DisableHighlightingOfAmbiguousCharactersAction=x,x.ID="editor.action.unicodeHighlight.disableHighlightingOfAmbiguousCharacters";class W extends _.EditorAction{constructor(){super({id:W.ID,label:n.localize(16,null),alias:"Disable highlighting of invisible characters",precondition:void 0}),this.shortLabel=n.localize(15,null)}run(oe,te,H){return Le(this,void 0,void 0,function*(){const B=oe?.get(c.IConfigurationService);B&&this.runAction(B)})}runAction(oe){return Le(this,void 0,void 0,function*(){yield oe.updateValue(f.unicodeHighlightConfigKeys.invisibleCharacters,!1,2)})}}e.DisableHighlightingOfInvisibleCharactersAction=W,W.ID="editor.action.unicodeHighlight.disableHighlightingOfInvisibleCharacters";class z extends _.EditorAction{constructor(){super({id:z.ID,label:n.localize(18,null),alias:"Disable highlighting of non basic ASCII characters",precondition:void 0}),this.shortLabel=n.localize(17,null)}run(oe,te,H){return Le(this,void 0,void 0,function*(){const B=oe?.get(c.IConfigurationService);B&&this.runAction(B)})}runAction(oe){return Le(this,void 0,void 0,function*(){yield oe.updateValue(f.unicodeHighlightConfigKeys.nonBasicASCII,!1,2)})}}e.DisableHighlightingOfNonBasicAsciiCharactersAction=z,z.ID="editor.action.unicodeHighlight.disableHighlightingOfNonBasicAsciiCharacters";class U extends _.EditorAction{constructor(){super({id:U.ID,label:n.localize(19,null),alias:"Show Exclude Options",precondition:void 0})}run(oe,te,H){return Le(this,void 0,void 0,function*(){const{codePoint:B,reason:K,inString:Z,inComment:J}=H,ne=String.fromCodePoint(B),he=oe.get(u.IQuickInputService),de=oe.get(c.IConfigurationService);function ae(V){return m.InvisibleCharacters.isInvisibleCharacter(V)?n.localize(20,null,T(V)):n.localize(21,null,`${T(V)} "${ne}"`)}const ce=[];if(K.kind===0)for(const V of K.notAmbiguousInLocales)ce.push({label:n.localize(22,null,V),run:()=>Le(this,void 0,void 0,function*(){G(de,[V])})});if(ce.push({label:ae(B),run:()=>O(de,[B])}),J){const V=new R;ce.push({label:V.label,run:()=>Le(this,void 0,void 0,function*(){return V.runAction(de)})})}else if(Z){const V=new F;ce.push({label:V.label,run:()=>Le(this,void 0,void 0,function*(){return V.runAction(de)})})}if(K.kind===0){const V=new x;ce.push({label:V.label,run:()=>Le(this,void 0,void 0,function*(){return V.runAction(de)})})}else if(K.kind===1){const V=new W;ce.push({label:V.label,run:()=>Le(this,void 0,void 0,function*(){return V.runAction(de)})})}else if(K.kind===2){const V=new z;ce.push({label:V.label,run:()=>Le(this,void 0,void 0,function*(){return V.runAction(de)})})}else Q(K);const $=yield he.pick(ce,{title:n.localize(23,null)});$&&(yield $.run())})}}e.ShowExcludeOptions=U,U.ID="editor.action.unicodeHighlight.showExcludeOptions";function O(re,oe){return Le(this,void 0,void 0,function*(){const te=re.getValue(f.unicodeHighlightConfigKeys.allowedCharacters);let H;typeof te=="object"&&te?H=te:H={};for(const B of oe)H[String.fromCodePoint(B)]=!0;yield re.updateValue(f.unicodeHighlightConfigKeys.allowedCharacters,H,2)})}function G(re,oe){var te;return Le(this,void 0,void 0,function*(){const H=(te=re.inspect(f.unicodeHighlightConfigKeys.allowedLocales).user)===null||te===void 0?void 0:te.value;let B;typeof H=="object"&&H?B=Object.assign({},H):B={};for(const K of oe)B[K]=!0;yield re.updateValue(f.unicodeHighlightConfigKeys.allowedLocales,B,2)})}function Q(re){throw new Error(`Unexpected value: ${re}`)}(0,_.registerEditorAction)(x),(0,_.registerEditorAction)(W),(0,_.registerEditorAction)(z),(0,_.registerEditorAction)(U),(0,_.registerEditorContribution)(v.ID,v,1),r.HoverParticipantRegistry.register(I)}),define(X[909],ee([1,0,190,163,253,238,783,865,784,785,786,816,867,891,875,787,898,788,868,899,900,360,361,791,792,758,907,254,255,366,364,367,794,893,876,795,796,879,880,797,885,821,846,847,848,799,195,895,373,800,801,772,908,802,886,348,803,798,93,174]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),define(X[257],ee([1,0,9,7,45,6,117,2,17,107,21,131,336,71,11,5,49,68,188,26,28,340,13,157,8,749,37,330,116,331,750,159,44,83,78,165,133,93,43,32,69,374,57,752,767,855,48,757,114,242,41,841,234,859,857,356,132,751,96,31,778,753,95,746,233,747,158,192,97,756,56,76,87,771,156,754,148,12,240,30,355,332,897,75,842,736]),function(q,e,L,k,y,D,S,m,_,f,p,s,t,i,o,r,d,h,n,c,a,l,u,C,g,v,b,w,E,I,T,P,A,M,N,R,F,x,W,z,U,O,G,Q,re,oe,te,H,B,K,Z,J,ne,he,de,ae,ce,$,V,j,se,ie,Y,le,fe,be,we,Ee,Ie,ye,ke,Ae,Te,pe,me,Se,ue,Ce,ve){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandaloneServices=e.updateConfigurationService=e.StandaloneConfigurationService=e.StandaloneKeybindingService=e.StandaloneCommandService=e.StandaloneNotificationService=void 0;class _e{constructor(Oe){this.disposed=!1,this.model=Oe,this._onWillDispose=new D.Emitter}get textEditorModel(){return this.model}dispose(){this.disposed=!0,this._onWillDispose.fire()}}let De=class{constructor(Oe){this.modelService=Oe}createModelReference(Oe){const Ve=this.modelService.getModel(Oe);return Ve?Promise.resolve(new m.ImmortalReference(new _e(Ve))):Promise.reject(new Error("Model not found"))}};De=Ne([ge(0,d.IModelService)],De);class Re{show(){return Re.NULL_PROGRESS_RUNNER}showWhile(Oe,Ve){return Le(this,void 0,void 0,function*(){yield Oe})}}Re.NULL_PROGRESS_RUNNER={done:()=>{},total:()=>{},worked:()=>{}};class Pe{withProgress(Oe,Ve,Ue){return Ve({report:()=>{}})}}class Fe{constructor(){this.isExtensionDevelopment=!1,this.isBuilt=!1}}class We{confirm(Oe){return Le(this,void 0,void 0,function*(){return{confirmed:this.doConfirm(Oe.message,Oe.detail),checkboxChecked:!1}})}doConfirm(Oe,Ve){let Ue=Oe;return Ve&&(Ue=Ue+`

`+Ve),window.confirm(Ue)}prompt(Oe){var Ve,Ue;return Le(this,void 0,void 0,function*(){let $e;if(this.doConfirm(Oe.message,Oe.detail)){const Xe=[...(Ve=Oe.buttons)!==null&&Ve!==void 0?Ve:[]];Oe.cancelButton&&typeof Oe.cancelButton!="string"&&typeof Oe.cancelButton!="boolean"&&Xe.push(Oe.cancelButton),$e=yield(Ue=Xe[0])===null||Ue===void 0?void 0:Ue.run({checkboxChecked:!1})}return{result:$e}})}error(Oe,Ve){return Le(this,void 0,void 0,function*(){yield this.prompt({type:f.default.Error,message:Oe,detail:Ve})})}}class xe{info(Oe){return this.notify({severity:f.default.Info,message:Oe})}warn(Oe){return this.notify({severity:f.default.Warning,message:Oe})}error(Oe){return this.notify({severity:f.default.Error,message:Oe})}notify(Oe){switch(Oe.severity){case f.default.Error:console.error(Oe.message);break;case f.default.Warning:console.warn(Oe.message);break;default:console.log(Oe.message);break}return xe.NO_OP}prompt(Oe,Ve,Ue,$e){return xe.NO_OP}status(Oe,Ve){return m.Disposable.None}}e.StandaloneNotificationService=xe,xe.NO_OP=new A.NoOpNotification;let Ke=e.StandaloneCommandService=class{constructor(Oe){this._onWillExecuteCommand=new D.Emitter,this._onDidExecuteCommand=new D.Emitter,this.onDidExecuteCommand=this._onDidExecuteCommand.event,this._instantiationService=Oe}executeCommand(Oe,...Ve){const Ue=c.CommandsRegistry.getCommand(Oe);if(!Ue)return Promise.reject(new Error(`command '${Oe}' not found`));try{this._onWillExecuteCommand.fire({commandId:Oe,args:Ve});const $e=this._instantiationService.invokeFunction.apply(this._instantiationService,[Ue.handler,...Ve]);return this._onDidExecuteCommand.fire({commandId:Oe,args:Ve}),Promise.resolve($e)}catch($e){return Promise.reject($e)}}};e.StandaloneCommandService=Ke=Ne([ge(0,g.IInstantiationService)],Ke);let qe=e.StandaloneKeybindingService=class extends v.AbstractKeybindingService{constructor(Oe,Ve,Ue,$e,it,Xe){super(Oe,Ve,Ue,$e,it),this._cachedResolver=null,this._dynamicKeybindings=[],this._domNodeListeners=[];const nt=ft=>{const _t=new m.DisposableStore;_t.add(k.addDisposableListener(ft,k.EventType.KEY_DOWN,Ft=>{const Tt=new y.StandardKeyboardEvent(Ft);this._dispatch(Tt,Tt.target)&&(Tt.preventDefault(),Tt.stopPropagation())})),_t.add(k.addDisposableListener(ft,k.EventType.KEY_UP,Ft=>{const Tt=new y.StandardKeyboardEvent(Ft);this._singleModifierDispatch(Tt,Tt.target)&&Tt.preventDefault()})),this._domNodeListeners.push(new et(ft,_t))},st=ft=>{for(let _t=0;_t<this._domNodeListeners.length;_t++){const Ft=this._domNodeListeners[_t];Ft.domNode===ft&&(this._domNodeListeners.splice(_t,1),Ft.dispose())}},ct=ft=>{ft.getOption(59)||nt(ft.getContainerDomNode())},pt=ft=>{ft.getOption(59)||st(ft.getContainerDomNode())};this._register(Xe.onCodeEditorAdd(ct)),this._register(Xe.onCodeEditorRemove(pt)),Xe.listCodeEditors().forEach(ct);const Et=ft=>{nt(ft.getContainerDomNode())},Dt=ft=>{st(ft.getContainerDomNode())};this._register(Xe.onDiffEditorAdd(Et)),this._register(Xe.onDiffEditorRemove(Dt)),Xe.listDiffEditors().forEach(Et)}addDynamicKeybinding(Oe,Ve,Ue,$e){return(0,m.combinedDisposable)(c.CommandsRegistry.registerCommand(Oe,Ue),this.addDynamicKeybindings([{keybinding:Ve,command:Oe,when:$e}]))}addDynamicKeybindings(Oe){const Ve=Oe.map(Ue=>{var $e;return{keybinding:(0,S.decodeKeybinding)(Ue.keybinding,_.OS),command:($e=Ue.command)!==null&&$e!==void 0?$e:null,commandArgs:Ue.commandArgs,when:Ue.when,weight1:1e3,weight2:0,extensionId:null,isBuiltinExtension:!1}});return this._dynamicKeybindings=this._dynamicKeybindings.concat(Ve),this.updateResolver(),(0,m.toDisposable)(()=>{for(let Ue=0;Ue<this._dynamicKeybindings.length;Ue++)if(this._dynamicKeybindings[Ue]===Ve[0]){this._dynamicKeybindings.splice(Ue,Ve.length),this.updateResolver();return}})}updateResolver(){this._cachedResolver=null,this._onDidUpdateKeybindings.fire()}_getResolver(){if(!this._cachedResolver){const Oe=this._toNormalizedKeybindingItems(E.KeybindingsRegistry.getDefaultKeybindings(),!0),Ve=this._toNormalizedKeybindingItems(this._dynamicKeybindings,!1);this._cachedResolver=new w.KeybindingResolver(Oe,Ve,Ue=>this._log(Ue))}return this._cachedResolver}_documentHasFocus(){return document.hasFocus()}_toNormalizedKeybindingItems(Oe,Ve){const Ue=[];let $e=0;for(const it of Oe){const Xe=it.when||void 0,nt=it.keybinding;if(!nt)Ue[$e++]=new I.ResolvedKeybindingItem(void 0,it.command,it.commandArgs,Xe,Ve,null,!1);else{const st=T.USLayoutResolvedKeybinding.resolveKeybinding(nt,_.OS);for(const ct of st)Ue[$e++]=new I.ResolvedKeybindingItem(ct,it.command,it.commandArgs,Xe,Ve,null,!1)}}return Ue}resolveKeyboardEvent(Oe){const Ve=new S.KeyCodeChord(Oe.ctrlKey,Oe.shiftKey,Oe.altKey,Oe.metaKey,Oe.keyCode);return new T.USLayoutResolvedKeybinding([Ve],_.OS)}};e.StandaloneKeybindingService=qe=Ne([ge(0,u.IContextKeyService),ge(1,c.ICommandService),ge(2,N.ITelemetryService),ge(3,A.INotificationService),ge(4,U.ILogService),ge(5,z.ICodeEditorService)],qe);class et extends m.Disposable{constructor(Oe,Ve){super(),this.domNode=Oe,this._register(Ve)}}function ze(Ze){return Ze&&typeof Ze=="object"&&(!Ze.overrideIdentifier||typeof Ze.overrideIdentifier=="string")&&(!Ze.resource||Ze.resource instanceof p.URI)}class Me{constructor(){this._onDidChangeConfiguration=new D.Emitter,this.onDidChangeConfiguration=this._onDidChangeConfiguration.event;const Oe=new pe.DefaultConfiguration;this._configuration=new l.Configuration(Oe.reload(),new l.ConfigurationModel,new l.ConfigurationModel,new l.ConfigurationModel),Oe.dispose()}getValue(Oe,Ve){const Ue=typeof Oe=="string"?Oe:void 0,$e=ze(Oe)?Oe:ze(Ve)?Ve:{};return this._configuration.getValue(Ue,$e,void 0)}updateValues(Oe){const Ve={data:this._configuration.toData()},Ue=[];for(const $e of Oe){const[it,Xe]=$e;this.getValue(it)!==Xe&&(this._configuration.updateValue(it,Xe),Ue.push(it))}if(Ue.length>0){const $e=new l.ConfigurationChangeEvent({keys:Ue,overrides:[]},Ve,this._configuration);$e.source=8,$e.sourceConfig=null,this._onDidChangeConfiguration.fire($e)}return Promise.resolve()}updateValue(Oe,Ve,Ue,$e){return this.updateValues([[Oe,Ve]])}inspect(Oe,Ve={}){return this._configuration.inspect(Oe,Ve,void 0)}}e.StandaloneConfigurationService=Me;let Be=class{constructor(Oe,Ve,Ue){this.configurationService=Oe,this.modelService=Ve,this.languageService=Ue,this._onDidChangeConfiguration=new D.Emitter,this.configurationService.onDidChangeConfiguration($e=>{this._onDidChangeConfiguration.fire({affectedKeys:$e.affectedKeys,affectsConfiguration:(it,Xe)=>$e.affectsConfiguration(Xe)})})}getValue(Oe,Ve,Ue){const $e=o.Position.isIPosition(Ve)?Ve:null,it=$e?typeof Ue=="string"?Ue:void 0:typeof Ve=="string"?Ve:void 0,Xe=Oe?this.getLanguage(Oe,$e):void 0;return typeof it>"u"?this.configurationService.getValue({resource:Oe,overrideIdentifier:Xe}):this.configurationService.getValue(it,{resource:Oe,overrideIdentifier:Xe})}getLanguage(Oe,Ve){const Ue=this.modelService.getModel(Oe);return Ue?Ve?Ue.getLanguageIdAtPosition(Ve.lineNumber,Ve.column):Ue.getLanguageId():this.languageService.guessLanguageIdByFilepathOrFirstLine(Oe)}};Be=Ne([ge(0,a.IConfigurationService),ge(1,d.IModelService),ge(2,Z.ILanguageService)],Be);let He=class{constructor(Oe){this.configurationService=Oe}getEOL(Oe,Ve){const Ue=this.configurationService.getValue("files.eol",{overrideIdentifier:Ve,resource:Oe});return Ue&&typeof Ue=="string"&&Ue!=="auto"?Ue:_.isLinux||_.isMacintosh?`
`:`\r
`}};He=Ne([ge(0,a.IConfigurationService)],He);class Ge{publicLog2(){}}class Qe{constructor(){const Oe=p.URI.from({scheme:Qe.SCHEME,authority:"model",path:"/"});this.workspace={id:R.STANDALONE_EDITOR_WORKSPACE_ID,folders:[new R.WorkspaceFolder({uri:Oe,name:"",index:0})]}}getWorkspace(){return this.workspace}getWorkspaceFolder(Oe){return Oe&&Oe.scheme===Qe.SCHEME?this.workspace.folders[0]:null}}Qe.SCHEME="inmemory";function tt(Ze,Oe,Ve){if(!Oe||!(Ze instanceof Me))return;const Ue=[];Object.keys(Oe).forEach($e=>{(0,t.isEditorConfigurationKey)($e)&&Ue.push([`editor.${$e}`,Oe[$e]]),Ve&&(0,t.isDiffEditorConfigurationKey)($e)&&Ue.push([`diffEditor.${$e}`,Oe[$e]])}),Ue.length>0&&Ze.updateValues(Ue)}e.updateConfigurationService=tt;let je=class{constructor(Oe){this._modelService=Oe}hasPreviewHandler(){return!1}apply(Oe,Ve){return Le(this,void 0,void 0,function*(){const Ue=Array.isArray(Oe)?Oe:s.ResourceEdit.convert(Oe),$e=new Map;for(const nt of Ue){if(!(nt instanceof s.ResourceTextEdit))throw new Error("bad edit - only text edits are supported");const st=this._modelService.getModel(nt.resource);if(!st)throw new Error("bad edit - model not found");if(typeof nt.versionId=="number"&&st.getVersionId()!==nt.versionId)throw new Error("bad state - model changed in the meantime");let ct=$e.get(st);ct||(ct=[],$e.set(st,ct)),ct.push(i.EditOperation.replaceMove(r.Range.lift(nt.textEdit.range),nt.textEdit.text))}let it=0,Xe=0;for(const[nt,st]of $e)nt.pushStackElement(),nt.pushEditOperations([],st,()=>[]),nt.pushStackElement(),Xe+=1,it+=st.length;return{ariaSummary:L.format(x.StandaloneServicesNLS.bulkEditServiceSummary,it,Xe),isApplied:it>0}})}};je=Ne([ge(0,d.IModelService)],je);class at{getUriLabel(Oe,Ve){return Oe.scheme==="file"?Oe.fsPath:Oe.path}getUriBasenameLabel(Oe){return(0,W.basename)(Oe)}}let ot=class extends Q.ContextViewService{constructor(Oe,Ve){super(Oe),this._codeEditorService=Ve}showContextView(Oe,Ve,Ue){if(!Ve){const $e=this._codeEditorService.getFocusedCodeEditor()||this._codeEditorService.getActiveCodeEditor();$e&&(Ve=$e.getContainerDomNode())}return super.showContextView(Oe,Ve,Ue)}};ot=Ne([ge(0,F.ILayoutService),ge(1,z.ICodeEditorService)],ot);class dt{constructor(){this._neverEmitter=new D.Emitter,this.onDidChangeTrust=this._neverEmitter.event}isWorkspaceTrusted(){return!0}}class ut extends re.LanguageService{constructor(){super()}}class Ye extends Se.LogService{constructor(){super(new U.ConsoleLogger)}}let lt=class extends oe.ContextMenuService{constructor(Oe,Ve,Ue,$e,it,Xe){super(Oe,Ve,Ue,$e,it,Xe),this.configure({blockMouse:!1})}};lt=Ne([ge(0,N.ITelemetryService),ge(1,A.INotificationService),ge(2,G.IContextViewService),ge(3,b.IKeybindingService),ge(4,j.IMenuService),ge(5,u.IContextKeyService)],lt);class vt{playAudioCue(Oe,Ve){return Le(this,void 0,void 0,function*(){})}}(0,te.registerSingleton)(a.IConfigurationService,Me,0),(0,te.registerSingleton)(n.ITextResourceConfigurationService,Be,0),(0,te.registerSingleton)(n.ITextResourcePropertiesService,He,0),(0,te.registerSingleton)(R.IWorkspaceContextService,Qe,0),(0,te.registerSingleton)(P.ILabelService,at,0),(0,te.registerSingleton)(N.ITelemetryService,Ge,0),(0,te.registerSingleton)(C.IDialogService,We,0),(0,te.registerSingleton)(ve.IEnvironmentService,Fe,0),(0,te.registerSingleton)(A.INotificationService,xe,0),(0,te.registerSingleton)(Ie.IMarkerService,ye.MarkerService,0),(0,te.registerSingleton)(Z.ILanguageService,ut,0),(0,te.registerSingleton)(ce.IStandaloneThemeService,ae.StandaloneThemeService,0),(0,te.registerSingleton)(U.ILogService,Ye,0),(0,te.registerSingleton)(d.IModelService,he.ModelService,0),(0,te.registerSingleton)(ne.IMarkerDecorationsService,J.MarkerDecorationsService,0),(0,te.registerSingleton)(u.IContextKeyService,le.ContextKeyService,0),(0,te.registerSingleton)(M.IProgressService,Pe,0),(0,te.registerSingleton)(M.IEditorProgressService,Re,0),(0,te.registerSingleton)(Te.IStorageService,Te.InMemoryStorageService,0),(0,te.registerSingleton)(B.IEditorWorkerService,K.EditorWorkerService,0),(0,te.registerSingleton)(s.IBulkEditService,je,0),(0,te.registerSingleton)(O.IWorkspaceTrustManagementService,dt,0),(0,te.registerSingleton)(h.ITextModelService,De,0),(0,te.registerSingleton)(V.IAccessibilityService,$.AccessibilityService,0),(0,te.registerSingleton)(Ee.IListService,Ee.ListService,0),(0,te.registerSingleton)(c.ICommandService,Ke,0),(0,te.registerSingleton)(b.IKeybindingService,qe,0),(0,te.registerSingleton)(Ae.IQuickInputService,de.StandaloneQuickInputService,0),(0,te.registerSingleton)(G.IContextViewService,ot,0),(0,te.registerSingleton)(ke.IOpenerService,H.OpenerService,0),(0,te.registerSingleton)(Y.IClipboardService,ie.BrowserClipboardService,0),(0,te.registerSingleton)(G.IContextMenuService,lt,0),(0,te.registerSingleton)(j.IMenuService,se.MenuService,0),(0,te.registerSingleton)(me.IAudioCueService,vt,0);var rt;(function(Ze){const Oe=new we.ServiceCollection;for(const[Xe,nt]of(0,te.getSingletonServiceDescriptors)())Oe.set(Xe,nt);const Ve=new be.InstantiationService(Oe,!0);Oe.set(g.IInstantiationService,Ve);function Ue(Xe){const nt=Oe.get(Xe);if(!nt)throw new Error("Missing service "+Xe);return nt instanceof fe.SyncDescriptor?Ve.invokeFunction(st=>st.get(Xe)):nt}Ze.get=Ue;let $e=!1;function it(Xe){if($e)return Ve;$e=!0;for(const[st,ct]of(0,te.getSingletonServiceDescriptors)())Oe.get(st)||Oe.set(st,ct);for(const st in Xe)if(Xe.hasOwnProperty(st)){const ct=(0,g.createDecorator)(st);Oe.get(ct)instanceof fe.SyncDescriptor&&Oe.set(ct,Xe[st])}const nt=(0,ue.getEditorFeatures)();for(const st of nt)try{Ve.createInstance(st)}catch(ct){(0,Ce.onUnexpectedError)(ct)}return Ve}Ze.initialize=it})(rt||(e.StandaloneServices=rt={}))}),define(X[910],ee([1,0,54,2,32,163,253,275,257,132,31,26,28,13,57,8,37,44,23,96,93,95,83,49,41,355,77,30,19,864]),function(q,e,L,k,y,D,S,m,_,f,p,s,t,i,o,r,d,h,n,c,a,l,u,C,g,v,b,w,E,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createTextModel=e.StandaloneDiffEditor2=e.StandaloneDiffEditor=e.StandaloneEditor=e.StandaloneCodeEditor=void 0;let T=0,P=!1;function A(z){if(!z){if(P)return;P=!0}L.setARIAContainer(z||document.body)}let M=e.StandaloneCodeEditor=class extends D.CodeEditorWidget{constructor(U,O,G,Q,re,oe,te,H,B,K,Z,J){const ne=Object.assign({},O);ne.ariaLabel=ne.ariaLabel||a.StandaloneCodeEditorNLS.editorViewAccessibleLabel,ne.ariaLabel=ne.ariaLabel+";"+a.StandaloneCodeEditorNLS.accessibilityHelpMessage,super(U,ne,{},G,Q,re,oe,H,B,K,Z,J),te instanceof _.StandaloneKeybindingService?this._standaloneKeybindingService=te:this._standaloneKeybindingService=null,A(ne.ariaContainerElement)}addCommand(U,O,G){if(!this._standaloneKeybindingService)return console.warn("Cannot add command because the editor is configured with an unrecognized KeybindingService"),null;const Q="DYNAMIC_"+ ++T,re=i.ContextKeyExpr.deserialize(G);return this._standaloneKeybindingService.addDynamicKeybinding(Q,U,O,re),Q}createContextKey(U,O){return this._contextKeyService.createKey(U,O)}addAction(U){if(typeof U.id!="string"||typeof U.label!="string"||typeof U.run!="function")throw new Error("Invalid action descriptor, `id`, `label` and `run` are required properties!");if(!this._standaloneKeybindingService)return console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService"),k.Disposable.None;const O=U.id,G=U.label,Q=i.ContextKeyExpr.and(i.ContextKeyExpr.equals("editorId",this.getId()),i.ContextKeyExpr.deserialize(U.precondition)),re=U.keybindings,oe=i.ContextKeyExpr.and(Q,i.ContextKeyExpr.deserialize(U.keybindingContext)),te=U.contextMenuGroupId||null,H=U.contextMenuOrder||0,B=(ne,...he)=>Promise.resolve(U.run(this,...he)),K=new k.DisposableStore,Z=this.getId()+":"+O;if(K.add(s.CommandsRegistry.registerCommand(Z,B)),te){const ne={command:{id:Z,title:G},when:Q,group:te,order:H};K.add(p.MenuRegistry.appendMenuItem(p.MenuId.EditorContext,ne))}if(Array.isArray(re))for(const ne of re)K.add(this._standaloneKeybindingService.addDynamicKeybinding(Z,ne,B,oe));const J=new m.InternalEditorAction(Z,G,G,Q,(...ne)=>Promise.resolve(U.run(this,...ne)),this._contextKeyService);return this._actions.set(O,J),K.add((0,k.toDisposable)(()=>{this._actions.delete(O)})),K}_triggerCommand(U,O){if(this._codeEditorService instanceof v.StandaloneCodeEditorService)try{this._codeEditorService.setActiveCodeEditor(this),super._triggerCommand(U,O)}finally{this._codeEditorService.setActiveCodeEditor(null)}else super._triggerCommand(U,O)}};e.StandaloneCodeEditor=M=Ne([ge(2,r.IInstantiationService),ge(3,y.ICodeEditorService),ge(4,s.ICommandService),ge(5,i.IContextKeyService),ge(6,d.IKeybindingService),ge(7,n.IThemeService),ge(8,h.INotificationService),ge(9,c.IAccessibilityService),ge(10,w.ILanguageConfigurationService),ge(11,E.ILanguageFeaturesService)],M);let N=e.StandaloneEditor=class extends M{constructor(U,O,G,Q,re,oe,te,H,B,K,Z,J,ne,he,de){const ae=Object.assign({},O);(0,_.updateConfigurationService)(K,ae,!1);const ce=H.registerEditorContainer(U);typeof ae.theme=="string"&&H.setTheme(ae.theme),typeof ae.autoDetectHighContrast<"u"&&H.setAutoDetectHighContrast(!!ae.autoDetectHighContrast);const $=ae.model;delete ae.model,super(U,ae,G,Q,re,oe,te,H,B,Z,he,de),this._configurationService=K,this._standaloneThemeService=H,this._register(ce);let V;if(typeof $>"u"){const j=ne.getLanguageIdByMimeType(ae.language)||ae.language||b.PLAINTEXT_LANGUAGE_ID;V=x(J,ne,ae.value||"",j,void 0),this._ownsModel=!0}else V=$,this._ownsModel=!1;if(this._attachModel(V),V){const j={oldModelUrl:null,newModelUrl:V.uri};this._onDidChangeModel.fire(j)}}dispose(){super.dispose()}updateOptions(U){(0,_.updateConfigurationService)(this._configurationService,U,!1),typeof U.theme=="string"&&this._standaloneThemeService.setTheme(U.theme),typeof U.autoDetectHighContrast<"u"&&this._standaloneThemeService.setAutoDetectHighContrast(!!U.autoDetectHighContrast),super.updateOptions(U)}_postDetachModelCleanup(U){super._postDetachModelCleanup(U),U&&this._ownsModel&&(U.dispose(),this._ownsModel=!1)}};e.StandaloneEditor=N=Ne([ge(2,r.IInstantiationService),ge(3,y.ICodeEditorService),ge(4,s.ICommandService),ge(5,i.IContextKeyService),ge(6,d.IKeybindingService),ge(7,f.IStandaloneThemeService),ge(8,h.INotificationService),ge(9,t.IConfigurationService),ge(10,c.IAccessibilityService),ge(11,C.IModelService),ge(12,g.ILanguageService),ge(13,w.ILanguageConfigurationService),ge(14,E.ILanguageFeaturesService)],N);let R=e.StandaloneDiffEditor=class extends S.DiffEditorWidget{constructor(U,O,G,Q,re,oe,te,H,B,K,Z){const J=Object.assign({},O);(0,_.updateConfigurationService)(H,J,!0);const ne=oe.registerEditorContainer(U);typeof J.theme=="string"&&oe.setTheme(J.theme),typeof J.autoDetectHighContrast<"u"&&oe.setAutoDetectHighContrast(!!J.autoDetectHighContrast),super(U,J,{},Z,Q,G,re,oe,te,B,K),this._configurationService=H,this._standaloneThemeService=oe,this._register(ne)}dispose(){super.dispose()}updateOptions(U){(0,_.updateConfigurationService)(this._configurationService,U,!0),typeof U.theme=="string"&&this._standaloneThemeService.setTheme(U.theme),typeof U.autoDetectHighContrast<"u"&&this._standaloneThemeService.setAutoDetectHighContrast(!!U.autoDetectHighContrast),super.updateOptions(U)}_createInnerEditor(U,O,G){return U.createInstance(M,O,G)}getOriginalEditor(){return super.getOriginalEditor()}getModifiedEditor(){return super.getModifiedEditor()}addCommand(U,O,G){return this.getModifiedEditor().addCommand(U,O,G)}createContextKey(U,O){return this.getModifiedEditor().createContextKey(U,O)}addAction(U){return this.getModifiedEditor().addAction(U)}};e.StandaloneDiffEditor=R=Ne([ge(2,r.IInstantiationService),ge(3,i.IContextKeyService),ge(4,y.ICodeEditorService),ge(5,f.IStandaloneThemeService),ge(6,h.INotificationService),ge(7,t.IConfigurationService),ge(8,o.IContextMenuService),ge(9,u.IEditorProgressService),ge(10,l.IClipboardService)],R);let F=e.StandaloneDiffEditor2=class extends I.DiffEditorWidget2{constructor(U,O,G,Q,re,oe,te,H,B,K,Z){const J=Object.assign({},O);(0,_.updateConfigurationService)(H,J,!0);const ne=oe.registerEditorContainer(U);typeof J.theme=="string"&&oe.setTheme(J.theme),typeof J.autoDetectHighContrast<"u"&&oe.setAutoDetectHighContrast(!!J.autoDetectHighContrast),super(U,J,{},Q,G,re),this._configurationService=H,this._standaloneThemeService=oe,this._register(ne)}dispose(){super.dispose()}updateOptions(U){(0,_.updateConfigurationService)(this._configurationService,U,!0),typeof U.theme=="string"&&this._standaloneThemeService.setTheme(U.theme),typeof U.autoDetectHighContrast<"u"&&this._standaloneThemeService.setAutoDetectHighContrast(!!U.autoDetectHighContrast),super.updateOptions(U)}_createInnerEditor(U,O,G){return U.createInstance(M,O,G)}getOriginalEditor(){return super.getOriginalEditor()}getModifiedEditor(){return super.getModifiedEditor()}addCommand(U,O,G){return this.getModifiedEditor().addCommand(U,O,G)}createContextKey(U,O){return this.getModifiedEditor().createContextKey(U,O)}addAction(U){return this.getModifiedEditor().addAction(U)}};e.StandaloneDiffEditor2=F=Ne([ge(2,r.IInstantiationService),ge(3,i.IContextKeyService),ge(4,y.ICodeEditorService),ge(5,f.IStandaloneThemeService),ge(6,h.INotificationService),ge(7,t.IConfigurationService),ge(8,o.IContextMenuService),ge(9,u.IEditorProgressService),ge(10,l.IClipboardService)],F);function x(z,U,O,G,Q){if(O=O||"",!G){const re=O.indexOf(`
`);let oe=O;return re!==-1&&(oe=O.substring(0,re)),W(z,O,U.createByFilepathOrFirstLine(Q||null,oe),Q)}return W(z,O,U.createById(G),Q)}e.createTextModel=x;function W(z,U,O,G){return z.createModel(U,O,G)}}),define(X[911],ee([1,0,2,9,21,322,32,238,35,232,147,47,29,30,154,41,49,762,207,741,910,257,132,26,97,37,15,31,13,77,123,65,144,56,466]),function(q,e,L,k,y,D,S,m,_,f,p,s,t,i,o,r,d,h,n,c,a,l,u,C,g,v,b,w,E,I,T,P,A,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createMonacoEditorAPI=e.registerEditorOpener=e.registerLinkOpener=e.registerCommand=e.remeasureFonts=e.setTheme=e.defineTheme=e.tokenize=e.colorizeModelLine=e.colorize=e.colorizeElement=e.createWebWorker=e.onDidChangeModelLanguage=e.onWillDisposeModel=e.onDidCreateModel=e.getModels=e.getModel=e.onDidChangeMarkers=e.getModelMarkers=e.removeAllMarkers=e.setModelMarkers=e.setModelLanguage=e.createModel=e.addKeybindingRules=e.addKeybindingRule=e.addEditorAction=e.addCommand=e.createDiffNavigator=e.createDiffEditor=e.getDiffEditors=e.getEditors=e.onDidCreateDiffEditor=e.onDidCreateEditor=e.create=void 0;function N(ye,ke,Ae){return l.StandaloneServices.initialize(Ae||{}).createInstance(a.StandaloneEditor,ye,ke)}e.create=N;function R(ye){return l.StandaloneServices.get(S.ICodeEditorService).onCodeEditorAdd(Ae=>{ye(Ae)})}e.onDidCreateEditor=R;function F(ye){return l.StandaloneServices.get(S.ICodeEditorService).onDiffEditorAdd(Ae=>{ye(Ae)})}e.onDidCreateDiffEditor=F;function x(){return l.StandaloneServices.get(S.ICodeEditorService).listCodeEditors()}e.getEditors=x;function W(){return l.StandaloneServices.get(S.ICodeEditorService).listDiffEditors()}e.getDiffEditors=W;function z(ye,ke,Ae){var Te;const pe=l.StandaloneServices.initialize(Ae||{});return!((Te=ke?.experimental)===null||Te===void 0)&&Te.useVersion2?pe.createInstance(a.StandaloneDiffEditor2,ye,ke):pe.createInstance(a.StandaloneDiffEditor,ye,ke)}e.createDiffEditor=z;function U(ye,ke){return l.StandaloneServices.initialize({}).createInstance(m.DiffNavigator,ye,ke)}e.createDiffNavigator=U;function O(ye){if(typeof ye.id!="string"||typeof ye.run!="function")throw new Error("Invalid command descriptor, `id` and `run` are required properties!");return C.CommandsRegistry.registerCommand(ye.id,ye.run)}e.addCommand=O;function G(ye){if(typeof ye.id!="string"||typeof ye.label!="string"||typeof ye.run!="function")throw new Error("Invalid action descriptor, `id`, `label` and `run` are required properties!");const ke=E.ContextKeyExpr.deserialize(ye.precondition),Ae=(pe,...me)=>b.EditorCommand.runEditorCommand(pe,me,ke,(Se,ue,Ce)=>Promise.resolve(ye.run(ue,...Ce))),Te=new L.DisposableStore;if(Te.add(C.CommandsRegistry.registerCommand(ye.id,Ae)),ye.contextMenuGroupId){const pe={command:{id:ye.id,title:ye.label},when:ke,group:ye.contextMenuGroupId,order:ye.contextMenuOrder||0};Te.add(w.MenuRegistry.appendMenuItem(w.MenuId.EditorContext,pe))}if(Array.isArray(ye.keybindings)){const pe=l.StandaloneServices.get(v.IKeybindingService);if(!(pe instanceof l.StandaloneKeybindingService))console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService");else{const me=E.ContextKeyExpr.and(ke,E.ContextKeyExpr.deserialize(ye.keybindingContext));Te.add(pe.addDynamicKeybindings(ye.keybindings.map(Se=>({keybinding:Se,command:ye.id,when:me}))))}}return Te}e.addEditorAction=G;function Q(ye){return re([ye])}e.addKeybindingRule=Q;function re(ye){const ke=l.StandaloneServices.get(v.IKeybindingService);return ke instanceof l.StandaloneKeybindingService?ke.addDynamicKeybindings(ye.map(Ae=>({keybinding:Ae.keybinding,command:Ae.command,commandArgs:Ae.commandArgs,when:E.ContextKeyExpr.deserialize(Ae.when)}))):(console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService"),L.Disposable.None)}e.addKeybindingRules=re;function oe(ye,ke,Ae){const Te=l.StandaloneServices.get(r.ILanguageService),pe=Te.getLanguageIdByMimeType(ke)||ke;return(0,a.createTextModel)(l.StandaloneServices.get(d.IModelService),Te,ye,pe,Ae)}e.createModel=oe;function te(ye,ke){const Ae=l.StandaloneServices.get(r.ILanguageService),Te=Ae.getLanguageIdByMimeType(ke)||ke||I.PLAINTEXT_LANGUAGE_ID;ye.setLanguage(Ae.createById(Te))}e.setModelLanguage=te;function H(ye,ke,Ae){ye&&l.StandaloneServices.get(g.IMarkerService).changeOne(ke,ye.uri,Ae)}e.setModelMarkers=H;function B(ye){l.StandaloneServices.get(g.IMarkerService).changeAll(ye,[])}e.removeAllMarkers=B;function K(ye){return l.StandaloneServices.get(g.IMarkerService).read(ye)}e.getModelMarkers=K;function Z(ye){return l.StandaloneServices.get(g.IMarkerService).onMarkerChanged(ye)}e.onDidChangeMarkers=Z;function J(ye){return l.StandaloneServices.get(d.IModelService).getModel(ye)}e.getModel=J;function ne(){return l.StandaloneServices.get(d.IModelService).getModels()}e.getModels=ne;function he(ye){return l.StandaloneServices.get(d.IModelService).onModelAdded(ye)}e.onDidCreateModel=he;function de(ye){return l.StandaloneServices.get(d.IModelService).onModelRemoved(ye)}e.onWillDisposeModel=de;function ae(ye){return l.StandaloneServices.get(d.IModelService).onModelLanguageChanged(Ae=>{ye({model:Ae.model,oldLanguage:Ae.oldLanguageId})})}e.onDidChangeModelLanguage=ae;function ce(ye){return(0,h.createWebWorker)(l.StandaloneServices.get(d.IModelService),l.StandaloneServices.get(i.ILanguageConfigurationService),ye)}e.createWebWorker=ce;function $(ye,ke){const Ae=l.StandaloneServices.get(r.ILanguageService),Te=l.StandaloneServices.get(u.IStandaloneThemeService);return Te.registerEditorContainer(ye),c.Colorizer.colorizeElement(Te,Ae,ye,ke)}e.colorizeElement=$;function V(ye,ke,Ae){const Te=l.StandaloneServices.get(r.ILanguageService);return l.StandaloneServices.get(u.IStandaloneThemeService).registerEditorContainer(document.body),c.Colorizer.colorize(Te,ye,ke,Ae)}e.colorize=V;function j(ye,ke,Ae=4){return l.StandaloneServices.get(u.IStandaloneThemeService).registerEditorContainer(document.body),c.Colorizer.colorizeModelLine(ye,ke,Ae)}e.colorizeModelLine=j;function se(ye){const ke=t.TokenizationRegistry.get(ye);return ke||{getInitialState:()=>o.NullState,tokenize:(Ae,Te,pe)=>(0,o.nullTokenize)(ye,pe)}}function ie(ye,ke){t.TokenizationRegistry.getOrCreate(ke);const Ae=se(ke),Te=(0,k.splitLines)(ye),pe=[];let me=Ae.getInitialState();for(let Se=0,ue=Te.length;Se<ue;Se++){const Ce=Te[Se],ve=Ae.tokenize(Ce,!0,me);pe[Se]=ve.tokens,me=ve.endState}return pe}e.tokenize=ie;function Y(ye,ke){l.StandaloneServices.get(u.IStandaloneThemeService).defineTheme(ye,ke)}e.defineTheme=Y;function le(ye){l.StandaloneServices.get(u.IStandaloneThemeService).setTheme(ye)}e.setTheme=le;function fe(){D.FontMeasurements.clearAllFontInfos()}e.remeasureFonts=fe;function be(ye,ke){return C.CommandsRegistry.registerCommand({id:ye,handler:ke})}e.registerCommand=be;function we(ye){return l.StandaloneServices.get(M.IOpenerService).registerOpener({open(Ae){return Le(this,void 0,void 0,function*(){return typeof Ae=="string"&&(Ae=y.URI.parse(Ae)),ye.open(Ae)})}})}e.registerLinkOpener=we;function Ee(ye){return l.StandaloneServices.get(S.ICodeEditorService).registerCodeEditorOpenHandler((Ae,Te,pe)=>Le(this,void 0,void 0,function*(){var me;if(!Te)return null;const Se=(me=Ae.options)===null||me===void 0?void 0:me.selection;let ue;return Se&&typeof Se.endLineNumber=="number"&&typeof Se.endColumn=="number"?ue=Se:Se&&(ue={lineNumber:Se.startLineNumber,column:Se.startColumn}),(yield ye.openCodeEditor(Te,Ae.resource,ue))?Te:null}))}e.registerEditorOpener=Ee;function Ie(){return{create:N,getEditors:x,getDiffEditors:W,onDidCreateEditor:R,onDidCreateDiffEditor:F,createDiffEditor:z,createDiffNavigator:U,addCommand:O,addEditorAction:G,addKeybindingRule:Q,addKeybindingRules:re,createModel:oe,setModelLanguage:te,setModelMarkers:H,getModelMarkers:K,removeAllMarkers:B,onDidChangeMarkers:Z,getModels:ne,getModel:J,onDidCreateModel:he,onWillDisposeModel:de,onDidChangeModelLanguage:ae,createWebWorker:ce,colorizeElement:$,colorize:V,colorizeModelLine:j,tokenize:ie,defineTheme:Y,setTheme:le,remeasureFonts:fe,registerCommand:be,registerLinkOpener:we,registerEditorOpener:Ee,AccessibilitySupport:n.AccessibilitySupport,ContentWidgetPositionPreference:n.ContentWidgetPositionPreference,CursorChangeReason:n.CursorChangeReason,DefaultEndOfLine:n.DefaultEndOfLine,EditorAutoIndentStrategy:n.EditorAutoIndentStrategy,EditorOption:n.EditorOption,EndOfLinePreference:n.EndOfLinePreference,EndOfLineSequence:n.EndOfLineSequence,MinimapPosition:n.MinimapPosition,MouseTargetType:n.MouseTargetType,OverlayWidgetPositionPreference:n.OverlayWidgetPositionPreference,OverviewRulerLane:n.OverviewRulerLane,GlyphMarginLane:n.GlyphMarginLane,RenderLineNumbersType:n.RenderLineNumbersType,RenderMinimap:n.RenderMinimap,ScrollbarVisibility:n.ScrollbarVisibility,ScrollType:n.ScrollType,TextEditorCursorBlinkingStyle:n.TextEditorCursorBlinkingStyle,TextEditorCursorStyle:n.TextEditorCursorStyle,TrackedRangeStickiness:n.TrackedRangeStickiness,WrappingIndent:n.WrappingIndent,InjectedTextCursorStops:n.InjectedTextCursorStops,PositionAffinity:n.PositionAffinity,ConfigurationChangedEvent:_.ConfigurationChangedEvent,BareFontInfo:f.BareFontInfo,FontInfo:f.FontInfo,TextModelResolvedOptions:s.TextModelResolvedOptions,FindMatch:s.FindMatch,ApplyUpdateResult:_.ApplyUpdateResult,LineRange:P.LineRange,LineRangeMapping:T.LineRangeMapping,RangeMapping:T.RangeMapping,EditorZoom:A.EditorZoom,MovedText:T.MovedText,SimpleLineRangeMapping:T.SimpleLineRangeMapping,EditorType:p.EditorType,EditorOptions:_.EditorOptions}}e.createMonacoEditorAPI=Ie}),define(X[912],ee([1,0,36,5,29,30,77,41,207,257,546,328,132,97,19,28]),function(q,e,L,k,y,D,S,m,_,f,p,s,t,i,o,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createMonacoLanguagesAPI=e.registerInlayHintsProvider=e.registerInlineCompletionsProvider=e.registerDocumentRangeSemanticTokensProvider=e.registerDocumentSemanticTokensProvider=e.registerSelectionRangeProvider=e.registerDeclarationProvider=e.registerFoldingRangeProvider=e.registerColorProvider=e.registerCompletionItemProvider=e.registerLinkProvider=e.registerOnTypeFormattingEditProvider=e.registerDocumentRangeFormattingEditProvider=e.registerDocumentFormattingEditProvider=e.registerCodeActionProvider=e.registerCodeLensProvider=e.registerTypeDefinitionProvider=e.registerImplementationProvider=e.registerDefinitionProvider=e.registerLinkedEditingRangeProvider=e.registerDocumentHighlightProvider=e.registerDocumentSymbolProvider=e.registerHoverProvider=e.registerSignatureHelpProvider=e.registerRenameProvider=e.registerReferenceProvider=e.setMonarchTokensProvider=e.setTokensProvider=e.registerTokensProviderFactory=e.setColorMap=e.TokenizationSupportAdapter=e.EncodedTokenizationSupportAdapter=e.setLanguageConfiguration=e.onLanguageEncountered=e.onLanguage=e.getEncodedLanguageId=e.getLanguages=e.register=void 0;function d(V){S.ModesRegistry.registerLanguage(V)}e.register=d;function h(){let V=[];return V=V.concat(S.ModesRegistry.getLanguages()),V}e.getLanguages=h;function n(V){return f.StandaloneServices.get(m.ILanguageService).languageIdCodec.encodeLanguageId(V)}e.getEncodedLanguageId=n;function c(V,j){const ie=f.StandaloneServices.get(m.ILanguageService).onDidRequestRichLanguageFeatures(Y=>{Y===V&&(ie.dispose(),j())});return ie}e.onLanguage=c;function a(V,j){const ie=f.StandaloneServices.get(m.ILanguageService).onDidRequestBasicLanguageFeatures(Y=>{Y===V&&(ie.dispose(),j())});return ie}e.onLanguageEncountered=a;function l(V,j){if(!f.StandaloneServices.get(m.ILanguageService).isRegisteredLanguageId(V))throw new Error(`Cannot set configuration for unknown language ${V}`);return f.StandaloneServices.get(D.ILanguageConfigurationService).register(V,j,100)}e.setLanguageConfiguration=l;class u{constructor(j,se){this._languageId=j,this._actual=se}dispose(){}getInitialState(){return this._actual.getInitialState()}tokenize(j,se,ie){if(typeof this._actual.tokenize=="function")return C.adaptTokenize(this._languageId,this._actual,j,ie);throw new Error("Not supported!")}tokenizeEncoded(j,se,ie){const Y=this._actual.tokenizeEncoded(j,ie);return new y.EncodedTokenizationResult(Y.tokens,Y.endState)}}e.EncodedTokenizationSupportAdapter=u;class C{constructor(j,se,ie,Y){this._languageId=j,this._actual=se,this._languageService=ie,this._standaloneThemeService=Y}dispose(){}getInitialState(){return this._actual.getInitialState()}static _toClassicTokens(j,se){const ie=[];let Y=0;for(let le=0,fe=j.length;le<fe;le++){const be=j[le];let we=be.startIndex;le===0?we=0:we<Y&&(we=Y),ie[le]=new y.Token(we,be.scopes,se),Y=we}return ie}static adaptTokenize(j,se,ie,Y){const le=se.tokenize(ie,Y),fe=C._toClassicTokens(le.tokens,j);let be;return le.endState.equals(Y)?be=Y:be=le.endState,new y.TokenizationResult(fe,be)}tokenize(j,se,ie){return C.adaptTokenize(this._languageId,this._actual,j,ie)}_toBinaryTokens(j,se){const ie=j.encodeLanguageId(this._languageId),Y=this._standaloneThemeService.getColorTheme().tokenTheme,le=[];let fe=0,be=0;for(let Ee=0,Ie=se.length;Ee<Ie;Ee++){const ye=se[Ee],ke=Y.match(ie,ye.scopes)|1024;if(fe>0&&le[fe-1]===ke)continue;let Ae=ye.startIndex;Ee===0?Ae=0:Ae<be&&(Ae=be),le[fe++]=Ae,le[fe++]=ke,be=Ae}const we=new Uint32Array(fe);for(let Ee=0;Ee<fe;Ee++)we[Ee]=le[Ee];return we}tokenizeEncoded(j,se,ie){const Y=this._actual.tokenize(j,ie),le=this._toBinaryTokens(this._languageService.languageIdCodec,Y.tokens);let fe;return Y.endState.equals(ie)?fe=ie:fe=Y.endState,new y.EncodedTokenizationResult(le,fe)}}e.TokenizationSupportAdapter=C;function g(V){return typeof V.getInitialState=="function"}function v(V){return"tokenizeEncoded"in V}function b(V){return V&&typeof V.then=="function"}function w(V){const j=f.StandaloneServices.get(t.IStandaloneThemeService);if(V){const se=[null];for(let ie=1,Y=V.length;ie<Y;ie++)se[ie]=L.Color.fromHex(V[ie]);j.setColorMapOverride(se)}else j.setColorMapOverride(null)}e.setColorMap=w;function E(V,j){return v(j)?new u(V,j):new C(V,j,f.StandaloneServices.get(m.ILanguageService),f.StandaloneServices.get(t.IStandaloneThemeService))}function I(V,j){const se=new y.LazyTokenizationSupport(()=>Le(this,void 0,void 0,function*(){const ie=yield Promise.resolve(j.create());return ie?g(ie)?E(V,ie):new s.MonarchTokenizer(f.StandaloneServices.get(m.ILanguageService),f.StandaloneServices.get(t.IStandaloneThemeService),V,(0,p.compile)(V,ie),f.StandaloneServices.get(r.IConfigurationService)):null}));return y.TokenizationRegistry.registerFactory(V,se)}e.registerTokensProviderFactory=I;function T(V,j){if(!f.StandaloneServices.get(m.ILanguageService).isRegisteredLanguageId(V))throw new Error(`Cannot set tokens provider for unknown language ${V}`);return b(j)?I(V,{create:()=>j}):y.TokenizationRegistry.register(V,E(V,j))}e.setTokensProvider=T;function P(V,j){const se=ie=>new s.MonarchTokenizer(f.StandaloneServices.get(m.ILanguageService),f.StandaloneServices.get(t.IStandaloneThemeService),V,(0,p.compile)(V,ie),f.StandaloneServices.get(r.IConfigurationService));return b(j)?I(V,{create:()=>j}):y.TokenizationRegistry.register(V,se(j))}e.setMonarchTokensProvider=P;function A(V,j){return f.StandaloneServices.get(o.ILanguageFeaturesService).referenceProvider.register(V,j)}e.registerReferenceProvider=A;function M(V,j){return f.StandaloneServices.get(o.ILanguageFeaturesService).renameProvider.register(V,j)}e.registerRenameProvider=M;function N(V,j){return f.StandaloneServices.get(o.ILanguageFeaturesService).signatureHelpProvider.register(V,j)}e.registerSignatureHelpProvider=N;function R(V,j){return f.StandaloneServices.get(o.ILanguageFeaturesService).hoverProvider.register(V,{provideHover:(ie,Y,le)=>{const fe=ie.getWordAtPosition(Y);return Promise.resolve(j.provideHover(ie,Y,le)).then(be=>{if(be)return!be.range&&fe&&(be.range=new k.Range(Y.lineNumber,fe.startColumn,Y.lineNumber,fe.endColumn)),be.range||(be.range=new k.Range(Y.lineNumber,Y.column,Y.lineNumber,Y.column)),be})}})}e.registerHoverProvider=R;function F(V,j){return f.StandaloneServices.get(o.ILanguageFeaturesService).documentSymbolProvider.register(V,j)}e.registerDocumentSymbolProvider=F;function x(V,j){return f.StandaloneServices.get(o.ILanguageFeaturesService).documentHighlightProvider.register(V,j)}e.registerDocumentHighlightProvider=x;function W(V,j){return f.StandaloneServices.get(o.ILanguageFeaturesService).linkedEditingRangeProvider.register(V,j)}e.registerLinkedEditingRangeProvider=W;function z(V,j){return f.StandaloneServices.get(o.ILanguageFeaturesService).definitionProvider.register(V,j)}e.registerDefinitionProvider=z;function U(V,j){return f.StandaloneServices.get(o.ILanguageFeaturesService).implementationProvider.register(V,j)}e.registerImplementationProvider=U;function O(V,j){return f.StandaloneServices.get(o.ILanguageFeaturesService).typeDefinitionProvider.register(V,j)}e.registerTypeDefinitionProvider=O;function G(V,j){return f.StandaloneServices.get(o.ILanguageFeaturesService).codeLensProvider.register(V,j)}e.registerCodeLensProvider=G;function Q(V,j,se){return f.StandaloneServices.get(o.ILanguageFeaturesService).codeActionProvider.register(V,{providedCodeActionKinds:se?.providedCodeActionKinds,documentation:se?.documentation,provideCodeActions:(Y,le,fe,be)=>{const Ee=f.StandaloneServices.get(i.IMarkerService).read({resource:Y.uri}).filter(Ie=>k.Range.areIntersectingOrTouching(Ie,le));return j.provideCodeActions(Y,le,{markers:Ee,only:fe.only,trigger:fe.trigger},be)},resolveCodeAction:j.resolveCodeAction})}e.registerCodeActionProvider=Q;function re(V,j){return f.StandaloneServices.get(o.ILanguageFeaturesService).documentFormattingEditProvider.register(V,j)}e.registerDocumentFormattingEditProvider=re;function oe(V,j){return f.StandaloneServices.get(o.ILanguageFeaturesService).documentRangeFormattingEditProvider.register(V,j)}e.registerDocumentRangeFormattingEditProvider=oe;function te(V,j){return f.StandaloneServices.get(o.ILanguageFeaturesService).onTypeFormattingEditProvider.register(V,j)}e.registerOnTypeFormattingEditProvider=te;function H(V,j){return f.StandaloneServices.get(o.ILanguageFeaturesService).linkProvider.register(V,j)}e.registerLinkProvider=H;function B(V,j){return f.StandaloneServices.get(o.ILanguageFeaturesService).completionProvider.register(V,j)}e.registerCompletionItemProvider=B;function K(V,j){return f.StandaloneServices.get(o.ILanguageFeaturesService).colorProvider.register(V,j)}e.registerColorProvider=K;function Z(V,j){return f.StandaloneServices.get(o.ILanguageFeaturesService).foldingRangeProvider.register(V,j)}e.registerFoldingRangeProvider=Z;function J(V,j){return f.StandaloneServices.get(o.ILanguageFeaturesService).declarationProvider.register(V,j)}e.registerDeclarationProvider=J;function ne(V,j){return f.StandaloneServices.get(o.ILanguageFeaturesService).selectionRangeProvider.register(V,j)}e.registerSelectionRangeProvider=ne;function he(V,j){return f.StandaloneServices.get(o.ILanguageFeaturesService).documentSemanticTokensProvider.register(V,j)}e.registerDocumentSemanticTokensProvider=he;function de(V,j){return f.StandaloneServices.get(o.ILanguageFeaturesService).documentRangeSemanticTokensProvider.register(V,j)}e.registerDocumentRangeSemanticTokensProvider=de;function ae(V,j){return f.StandaloneServices.get(o.ILanguageFeaturesService).inlineCompletionsProvider.register(V,j)}e.registerInlineCompletionsProvider=ae;function ce(V,j){return f.StandaloneServices.get(o.ILanguageFeaturesService).inlayHintsProvider.register(V,j)}e.registerInlayHintsProvider=ce;function $(){return{register:d,getLanguages:h,onLanguage:c,onLanguageEncountered:a,getEncodedLanguageId:n,setLanguageConfiguration:l,setColorMap:w,registerTokensProviderFactory:I,setTokensProvider:T,setMonarchTokensProvider:P,registerReferenceProvider:A,registerRenameProvider:M,registerCompletionItemProvider:B,registerSignatureHelpProvider:N,registerHoverProvider:R,registerDocumentSymbolProvider:F,registerDocumentHighlightProvider:x,registerLinkedEditingRangeProvider:W,registerDefinitionProvider:z,registerImplementationProvider:U,registerTypeDefinitionProvider:O,registerCodeLensProvider:G,registerCodeActionProvider:Q,registerDocumentFormattingEditProvider:re,registerDocumentRangeFormattingEditProvider:oe,registerOnTypeFormattingEditProvider:te,registerLinkProvider:H,registerColorProvider:K,registerFoldingRangeProvider:Z,registerDeclarationProvider:J,registerSelectionRangeProvider:ne,registerDocumentSemanticTokensProvider:he,registerDocumentRangeSemanticTokensProvider:de,registerInlineCompletionsProvider:ae,registerInlayHintsProvider:ce,DocumentHighlightKind:_.DocumentHighlightKind,CompletionItemKind:_.CompletionItemKind,CompletionItemTag:_.CompletionItemTag,CompletionItemInsertTextRule:_.CompletionItemInsertTextRule,SymbolKind:_.SymbolKind,SymbolTag:_.SymbolTag,IndentAction:_.IndentAction,CompletionTriggerKind:_.CompletionTriggerKind,SignatureHelpTriggerKind:_.SignatureHelpTriggerKind,InlayHintKind:_.InlayHintKind,InlineCompletionTriggerKind:_.InlineCompletionTriggerKind,CodeActionTriggerType:_.CodeActionTriggerType,FoldingRangeKind:y.FoldingRangeKind,SelectedSuggestionInfo:y.SelectedSuggestionInfo}}e.createMonacoLanguagesAPI=$}),define(X[913],ee([1,0,35,318,911,912,346]),function(q,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.languages=e.editor=e.Token=e.Uri=e.MarkerTag=e.MarkerSeverity=e.SelectionDirection=e.Selection=e.Range=e.Position=e.KeyMod=e.KeyCode=e.Emitter=e.CancellationTokenSource=void 0,L.EditorOptions.wrappingIndent.defaultValue=0,L.EditorOptions.glyphMargin.defaultValue=!1,L.EditorOptions.autoIndent.defaultValue=3,L.EditorOptions.overviewRulerLanes.defaultValue=2,S.FormattingConflicts.setFormatterSelector((f,p,s)=>Promise.resolve(f[0]));const m=(0,k.createMonacoBaseAPI)();m.editor=(0,y.createMonacoEditorAPI)(),m.languages=(0,D.createMonacoLanguagesAPI)(),e.CancellationTokenSource=m.CancellationTokenSource,e.Emitter=m.Emitter,e.KeyCode=m.KeyCode,e.KeyMod=m.KeyMod,e.Position=m.Position,e.Range=m.Range,e.Selection=m.Selection,e.SelectionDirection=m.SelectionDirection,e.MarkerSeverity=m.MarkerSeverity,e.MarkerTag=m.MarkerTag,e.Uri=m.Uri,e.Token=m.Token,e.editor=m.editor,e.languages=m.languages;const _=globalThis.MonacoEnvironment;(_?.globalAPI||typeof define=="function"&&define.amd)&&(globalThis.monaco=m),typeof globalThis.require<"u"&&typeof globalThis.require.config=="function"&&globalThis.require.config({ignoreDuplicateModules:["vscode-languageserver-types","vscode-languageserver-types/main","vscode-languageserver-textdocument","vscode-languageserver-textdocument/main","vscode-nls","vscode-nls/vscode-nls","jsonc-parser","jsonc-parser/main","vscode-uri","vscode-uri/index","vs/basic-languages/typescript/typescript"]})});var ui=this&&this.__createBinding||(Object.create?function(q,e,L,k){k===void 0&&(k=L);var y=Object.getOwnPropertyDescriptor(e,L);(!y||("get"in y?!e.__esModule:y.writable||y.configurable))&&(y={enumerable:!0,get:function(){return e[L]}}),Object.defineProperty(q,k,y)}:function(q,e,L,k){k===void 0&&(k=L),q[k]=e[L]}),hi=this&&this.__exportStar||function(q,e){for(var L in q)L!=="default"&&!Object.prototype.hasOwnProperty.call(e,L)&&ui(e,q,L)};define(X[915],ee([1,0,913,909,804,805,774,850,851,809,896,853]),function(q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),hi(L,e)})}).call(this);


"use strict";/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.40.0(83b3cf23ca80c94cccca7c5b3e48351b220f8e35)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/
define("vs/basic-languages/monaco.contribution", ["require","require","vs/editor/editor.api"],(require)=>{
var moduleExports=(()=>{var y=Object.create;var g=Object.defineProperty;var x=Object.getOwnPropertyDescriptor;var q=Object.getOwnPropertyNames;var A=Object.getPrototypeOf,M=Object.prototype.hasOwnProperty;var a=(e=>typeof require!="undefined"?require:typeof Proxy!="undefined"?new Proxy(e,{get:(r,s)=>(typeof require!="undefined"?require:r)[s]}):e)(function(e){if(typeof require!="undefined")return require.apply(this,arguments);throw new Error('Dynamic require of "'+e+'" is not supported')});var D=(e,r)=>()=>(r||e((r={exports:{}}).exports,r),r.exports);var m=(e,r,s,n)=>{if(r&&typeof r=="object"||typeof r=="function")for(let o of q(r))!M.call(e,o)&&o!==s&&g(e,o,{get:()=>r[o],enumerable:!(n=x(r,o))||n.enumerable});return e},p=(e,r,s)=>(m(e,r,"default"),s&&m(s,r,"default")),c=(e,r,s)=>(s=e!=null?y(A(e)):{},m(r||!e||!e.__esModule?g(s,"default",{value:e,enumerable:!0}):s,e));var f=D((w,d)=>{var b=c(a("vs/editor/editor.api"));d.exports=b});var t={};p(t,c(f()));var v={},u={},l=class{static getOrCreate(r){return u[r]||(u[r]=new l(r)),u[r]}_languageId;_loadingTriggered;_lazyLoadPromise;_lazyLoadPromiseResolve;_lazyLoadPromiseReject;constructor(r){this._languageId=r,this._loadingTriggered=!1,this._lazyLoadPromise=new Promise((s,n)=>{this._lazyLoadPromiseResolve=s,this._lazyLoadPromiseReject=n})}load(){return this._loadingTriggered||(this._loadingTriggered=!0,v[this._languageId].loader().then(r=>this._lazyLoadPromiseResolve(r),r=>this._lazyLoadPromiseReject(r))),this._lazyLoadPromise}};function i(e){let r=e.id;v[r]=e,t.languages.register(e);let s=l.getOrCreate(r);t.languages.registerTokensProviderFactory(r,{create:async()=>(await s.load()).language}),t.languages.onLanguageEncountered(r,async()=>{let n=await s.load();t.languages.setLanguageConfiguration(r,n.conf)})}i({id:"abap",extensions:[".abap"],aliases:["abap","ABAP"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/abap/abap"],e,r)})});i({id:"apex",extensions:[".cls"],aliases:["Apex","apex"],mimetypes:["text/x-apex-source","text/x-apex"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/apex/apex"],e,r)})});i({id:"azcli",extensions:[".azcli"],aliases:["Azure CLI","azcli"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/azcli/azcli"],e,r)})});i({id:"bat",extensions:[".bat",".cmd"],aliases:["Batch","bat"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/bat/bat"],e,r)})});i({id:"bicep",extensions:[".bicep"],aliases:["Bicep"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/bicep/bicep"],e,r)})});i({id:"cameligo",extensions:[".mligo"],aliases:["Cameligo"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/cameligo/cameligo"],e,r)})});i({id:"clojure",extensions:[".clj",".cljs",".cljc",".edn"],aliases:["clojure","Clojure"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/clojure/clojure"],e,r)})});i({id:"coffeescript",extensions:[".coffee"],aliases:["CoffeeScript","coffeescript","coffee"],mimetypes:["text/x-coffeescript","text/coffeescript"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/coffee/coffee"],e,r)})});i({id:"c",extensions:[".c",".h"],aliases:["C","c"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/cpp/cpp"],e,r)})});i({id:"cpp",extensions:[".cpp",".cc",".cxx",".hpp",".hh",".hxx"],aliases:["C++","Cpp","cpp"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/cpp/cpp"],e,r)})});i({id:"csharp",extensions:[".cs",".csx",".cake"],aliases:["C#","csharp"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/csharp/csharp"],e,r)})});i({id:"csp",extensions:[],aliases:["CSP","csp"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/csp/csp"],e,r)})});i({id:"css",extensions:[".css"],aliases:["CSS","css"],mimetypes:["text/css"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/css/css"],e,r)})});i({id:"cypher",extensions:[".cypher",".cyp"],aliases:["Cypher","OpenCypher"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/cypher/cypher"],e,r)})});i({id:"dart",extensions:[".dart"],aliases:["Dart","dart"],mimetypes:["text/x-dart-source","text/x-dart"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/dart/dart"],e,r)})});i({id:"dockerfile",extensions:[".dockerfile"],filenames:["Dockerfile"],aliases:["Dockerfile"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/dockerfile/dockerfile"],e,r)})});i({id:"ecl",extensions:[".ecl"],aliases:["ECL","Ecl","ecl"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/ecl/ecl"],e,r)})});i({id:"elixir",extensions:[".ex",".exs"],aliases:["Elixir","elixir","ex"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/elixir/elixir"],e,r)})});i({id:"flow9",extensions:[".flow"],aliases:["Flow9","Flow","flow9","flow"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/flow9/flow9"],e,r)})});i({id:"fsharp",extensions:[".fs",".fsi",".ml",".mli",".fsx",".fsscript"],aliases:["F#","FSharp","fsharp"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/fsharp/fsharp"],e,r)})});i({id:"freemarker2",extensions:[".ftl",".ftlh",".ftlx"],aliases:["FreeMarker2","Apache FreeMarker2"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/freemarker2/freemarker2"],e,r)}).then(e=>e.TagAngleInterpolationDollar)});i({id:"freemarker2.tag-angle.interpolation-dollar",aliases:["FreeMarker2 (Angle/Dollar)","Apache FreeMarker2 (Angle/Dollar)"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/freemarker2/freemarker2"],e,r)}).then(e=>e.TagAngleInterpolationDollar)});i({id:"freemarker2.tag-bracket.interpolation-dollar",aliases:["FreeMarker2 (Bracket/Dollar)","Apache FreeMarker2 (Bracket/Dollar)"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/freemarker2/freemarker2"],e,r)}).then(e=>e.TagBracketInterpolationDollar)});i({id:"freemarker2.tag-angle.interpolation-bracket",aliases:["FreeMarker2 (Angle/Bracket)","Apache FreeMarker2 (Angle/Bracket)"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/freemarker2/freemarker2"],e,r)}).then(e=>e.TagAngleInterpolationBracket)});i({id:"freemarker2.tag-bracket.interpolation-bracket",aliases:["FreeMarker2 (Bracket/Bracket)","Apache FreeMarker2 (Bracket/Bracket)"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/freemarker2/freemarker2"],e,r)}).then(e=>e.TagBracketInterpolationBracket)});i({id:"freemarker2.tag-auto.interpolation-dollar",aliases:["FreeMarker2 (Auto/Dollar)","Apache FreeMarker2 (Auto/Dollar)"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/freemarker2/freemarker2"],e,r)}).then(e=>e.TagAutoInterpolationDollar)});i({id:"freemarker2.tag-auto.interpolation-bracket",aliases:["FreeMarker2 (Auto/Bracket)","Apache FreeMarker2 (Auto/Bracket)"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/freemarker2/freemarker2"],e,r)}).then(e=>e.TagAutoInterpolationBracket)});i({id:"go",extensions:[".go"],aliases:["Go"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/go/go"],e,r)})});i({id:"graphql",extensions:[".graphql",".gql"],aliases:["GraphQL","graphql","gql"],mimetypes:["application/graphql"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/graphql/graphql"],e,r)})});i({id:"handlebars",extensions:[".handlebars",".hbs"],aliases:["Handlebars","handlebars","hbs"],mimetypes:["text/x-handlebars-template"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/handlebars/handlebars"],e,r)})});i({id:"hcl",extensions:[".tf",".tfvars",".hcl"],aliases:["Terraform","tf","HCL","hcl"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/hcl/hcl"],e,r)})});i({id:"html",extensions:[".html",".htm",".shtml",".xhtml",".mdoc",".jsp",".asp",".aspx",".jshtm"],aliases:["HTML","htm","html","xhtml"],mimetypes:["text/html","text/x-jshtm","text/template","text/ng-template"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/html/html"],e,r)})});i({id:"ini",extensions:[".ini",".properties",".gitconfig"],filenames:["config",".gitattributes",".gitconfig",".editorconfig"],aliases:["Ini","ini"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/ini/ini"],e,r)})});i({id:"java",extensions:[".java",".jav"],aliases:["Java","java"],mimetypes:["text/x-java-source","text/x-java"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/java/java"],e,r)})});i({id:"javascript",extensions:[".js",".es6",".jsx",".mjs",".cjs"],firstLine:"^#!.*\\bnode",filenames:["jakefile"],aliases:["JavaScript","javascript","js"],mimetypes:["text/javascript"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/javascript/javascript"],e,r)})});i({id:"julia",extensions:[".jl"],aliases:["julia","Julia"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/julia/julia"],e,r)})});i({id:"kotlin",extensions:[".kt",".kts"],aliases:["Kotlin","kotlin"],mimetypes:["text/x-kotlin-source","text/x-kotlin"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/kotlin/kotlin"],e,r)})});i({id:"less",extensions:[".less"],aliases:["Less","less"],mimetypes:["text/x-less","text/less"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/less/less"],e,r)})});i({id:"lexon",extensions:[".lex"],aliases:["Lexon"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/lexon/lexon"],e,r)})});i({id:"lua",extensions:[".lua"],aliases:["Lua","lua"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/lua/lua"],e,r)})});i({id:"liquid",extensions:[".liquid",".html.liquid"],aliases:["Liquid","liquid"],mimetypes:["application/liquid"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/liquid/liquid"],e,r)})});i({id:"m3",extensions:[".m3",".i3",".mg",".ig"],aliases:["Modula-3","Modula3","modula3","m3"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/m3/m3"],e,r)})});i({id:"markdown",extensions:[".md",".markdown",".mdown",".mkdn",".mkd",".mdwn",".mdtxt",".mdtext"],aliases:["Markdown","markdown"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/markdown/markdown"],e,r)})});i({id:"mips",extensions:[".s"],aliases:["MIPS","MIPS-V"],mimetypes:["text/x-mips","text/mips","text/plaintext"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/mips/mips"],e,r)})});i({id:"msdax",extensions:[".dax",".msdax"],aliases:["DAX","MSDAX"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/msdax/msdax"],e,r)})});i({id:"mysql",extensions:[],aliases:["MySQL","mysql"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/mysql/mysql"],e,r)})});i({id:"objective-c",extensions:[".m"],aliases:["Objective-C"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/objective-c/objective-c"],e,r)})});i({id:"pascal",extensions:[".pas",".p",".pp"],aliases:["Pascal","pas"],mimetypes:["text/x-pascal-source","text/x-pascal"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/pascal/pascal"],e,r)})});i({id:"pascaligo",extensions:[".ligo"],aliases:["Pascaligo","ligo"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/pascaligo/pascaligo"],e,r)})});i({id:"perl",extensions:[".pl",".pm"],aliases:["Perl","pl"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/perl/perl"],e,r)})});i({id:"pgsql",extensions:[],aliases:["PostgreSQL","postgres","pg","postgre"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/pgsql/pgsql"],e,r)})});i({id:"php",extensions:[".php",".php4",".php5",".phtml",".ctp"],aliases:["PHP","php"],mimetypes:["application/x-php"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/php/php"],e,r)})});i({id:"pla",extensions:[".pla"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/pla/pla"],e,r)})});i({id:"postiats",extensions:[".dats",".sats",".hats"],aliases:["ATS","ATS/Postiats"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/postiats/postiats"],e,r)})});i({id:"powerquery",extensions:[".pq",".pqm"],aliases:["PQ","M","Power Query","Power Query M"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/powerquery/powerquery"],e,r)})});i({id:"powershell",extensions:[".ps1",".psm1",".psd1"],aliases:["PowerShell","powershell","ps","ps1"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/powershell/powershell"],e,r)})});i({id:"proto",extensions:[".proto"],aliases:["protobuf","Protocol Buffers"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/protobuf/protobuf"],e,r)})});i({id:"pug",extensions:[".jade",".pug"],aliases:["Pug","Jade","jade"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/pug/pug"],e,r)})});i({id:"python",extensions:[".py",".rpy",".pyw",".cpy",".gyp",".gypi"],aliases:["Python","py"],firstLine:"^#!/.*\\bpython[0-9.-]*\\b",loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/python/python"],e,r)})});i({id:"qsharp",extensions:[".qs"],aliases:["Q#","qsharp"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/qsharp/qsharp"],e,r)})});i({id:"r",extensions:[".r",".rhistory",".rmd",".rprofile",".rt"],aliases:["R","r"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/r/r"],e,r)})});i({id:"razor",extensions:[".cshtml"],aliases:["Razor","razor"],mimetypes:["text/x-cshtml"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/razor/razor"],e,r)})});i({id:"redis",extensions:[".redis"],aliases:["redis"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/redis/redis"],e,r)})});i({id:"redshift",extensions:[],aliases:["Redshift","redshift"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/redshift/redshift"],e,r)})});i({id:"restructuredtext",extensions:[".rst"],aliases:["reStructuredText","restructuredtext"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/restructuredtext/restructuredtext"],e,r)})});i({id:"ruby",extensions:[".rb",".rbx",".rjs",".gemspec",".pp"],filenames:["rakefile","Gemfile"],aliases:["Ruby","rb"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/ruby/ruby"],e,r)})});i({id:"rust",extensions:[".rs",".rlib"],aliases:["Rust","rust"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/rust/rust"],e,r)})});i({id:"sb",extensions:[".sb"],aliases:["Small Basic","sb"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/sb/sb"],e,r)})});i({id:"scala",extensions:[".scala",".sc",".sbt"],aliases:["Scala","scala","SBT","Sbt","sbt","Dotty","dotty"],mimetypes:["text/x-scala-source","text/x-scala","text/x-sbt","text/x-dotty"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/scala/scala"],e,r)})});i({id:"scheme",extensions:[".scm",".ss",".sch",".rkt"],aliases:["scheme","Scheme"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/scheme/scheme"],e,r)})});i({id:"scss",extensions:[".scss"],aliases:["Sass","sass","scss"],mimetypes:["text/x-scss","text/scss"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/scss/scss"],e,r)})});i({id:"shell",extensions:[".sh",".bash"],aliases:["Shell","sh"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/shell/shell"],e,r)})});i({id:"sol",extensions:[".sol"],aliases:["sol","solidity","Solidity"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/solidity/solidity"],e,r)})});i({id:"aes",extensions:[".aes"],aliases:["aes","sophia","Sophia"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/sophia/sophia"],e,r)})});i({id:"sparql",extensions:[".rq"],aliases:["sparql","SPARQL"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/sparql/sparql"],e,r)})});i({id:"sql",extensions:[".sql"],aliases:["SQL"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/sql/sql"],e,r)})});i({id:"st",extensions:[".st",".iecst",".iecplc",".lc3lib"],aliases:["StructuredText","scl","stl"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/st/st"],e,r)})});i({id:"swift",aliases:["Swift","swift"],extensions:[".swift"],mimetypes:["text/swift"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/swift/swift"],e,r)})});i({id:"systemverilog",extensions:[".sv",".svh"],aliases:["SV","sv","SystemVerilog","systemverilog"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/systemverilog/systemverilog"],e,r)})});i({id:"verilog",extensions:[".v",".vh"],aliases:["V","v","Verilog","verilog"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/systemverilog/systemverilog"],e,r)})});i({id:"tcl",extensions:[".tcl"],aliases:["tcl","Tcl","tcltk","TclTk","tcl/tk","Tcl/Tk"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/tcl/tcl"],e,r)})});i({id:"twig",extensions:[".twig"],aliases:["Twig","twig"],mimetypes:["text/x-twig"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/twig/twig"],e,r)})});i({id:"typescript",extensions:[".ts",".tsx",".cts",".mts"],aliases:["TypeScript","ts","typescript"],mimetypes:["text/typescript"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/typescript/typescript"],e,r)})});i({id:"vb",extensions:[".vb"],aliases:["Visual Basic","vb"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/vb/vb"],e,r)})});i({id:"wgsl",extensions:[".wgsl"],aliases:["WebGPU Shading Language","WGSL","wgsl"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/wgsl/wgsl"],e,r)})});i({id:"xml",extensions:[".xml",".xsd",".dtd",".ascx",".csproj",".config",".props",".targets",".wxi",".wxl",".wxs",".xaml",".svg",".svgz",".opf",".xslt",".xsl"],firstLine:"(\\<\\?xml.*)|(\\<svg)|(\\<\\!doctype\\s+svg)",aliases:["XML","xml"],mimetypes:["text/xml","application/xml","application/xaml+xml","application/xml-dtd"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/xml/xml"],e,r)})});i({id:"yaml",extensions:[".yaml",".yml"],aliases:["YAML","yaml","YML","yml"],mimetypes:["application/x-yaml","text/x-yaml"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/yaml/yaml"],e,r)})});})();
return moduleExports;
});

"use strict";/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.40.0(83b3cf23ca80c94cccca7c5b3e48351b220f8e35)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/
define("vs/language/css/monaco.contribution", ["require","require","vs/editor/editor.api"],(require)=>{
var moduleExports=(()=>{var C=Object.create;var g=Object.defineProperty;var S=Object.getOwnPropertyDescriptor;var b=Object.getOwnPropertyNames;var x=Object.getPrototypeOf,h=Object.prototype.hasOwnProperty;var l=(e=>typeof require!="undefined"?require:typeof Proxy!="undefined"?new Proxy(e,{get:(n,r)=>(typeof require!="undefined"?require:n)[r]}):e)(function(e){if(typeof require!="undefined")return require.apply(this,arguments);throw new Error('Dynamic require of "'+e+'" is not supported')});var I=(e,n)=>()=>(n||e((n={exports:{}}).exports,n),n.exports),M=(e,n)=>{for(var r in n)g(e,r,{get:n[r],enumerable:!0})},s=(e,n,r,a)=>{if(n&&typeof n=="object"||typeof n=="function")for(let t of b(n))!h.call(e,t)&&t!==r&&g(e,t,{get:()=>n[t],enumerable:!(a=S(n,t))||a.enumerable});return e},y=(e,n,r)=>(s(e,n,"default"),r&&s(r,n,"default")),w=(e,n,r)=>(r=e!=null?C(x(e)):{},s(n||!e||!e.__esModule?g(r,"default",{value:e,enumerable:!0}):r,e)),P=e=>s(g({},"__esModule",{value:!0}),e);var v=I((k,D)=>{var O=w(l("vs/editor/editor.api"));D.exports=O});var R={};M(R,{cssDefaults:()=>p,lessDefaults:()=>f,scssDefaults:()=>c});var o={};y(o,w(v()));var i=class{_onDidChange=new o.Emitter;_options;_modeConfiguration;_languageId;constructor(n,r,a){this._languageId=n,this.setOptions(r),this.setModeConfiguration(a)}get onDidChange(){return this._onDidChange.event}get languageId(){return this._languageId}get modeConfiguration(){return this._modeConfiguration}get diagnosticsOptions(){return this.options}get options(){return this._options}setOptions(n){this._options=n||Object.create(null),this._onDidChange.fire(this)}setDiagnosticsOptions(n){this.setOptions(n)}setModeConfiguration(n){this._modeConfiguration=n||Object.create(null),this._onDidChange.fire(this)}},d={validate:!0,lint:{compatibleVendorPrefixes:"ignore",vendorPrefix:"warning",duplicateProperties:"warning",emptyRules:"warning",importStatement:"ignore",boxModel:"ignore",universalSelector:"ignore",zeroUnits:"ignore",fontFaceProperties:"warning",hexColorLength:"error",argumentsInColorFunction:"error",unknownProperties:"warning",ieHack:"ignore",unknownVendorSpecificProperties:"ignore",propertyIgnoredDueToDisplay:"warning",important:"ignore",float:"ignore",idSelector:"ignore"},data:{useDefaultDataProvider:!0},format:{newlineBetweenSelectors:!0,newlineBetweenRules:!0,spaceAroundSelectorSeparator:!1,braceStyle:"collapse",maxPreserveNewLines:void 0,preserveNewLines:!0}},u={completionItems:!0,hovers:!0,documentSymbols:!0,definitions:!0,references:!0,documentHighlights:!0,rename:!0,colors:!0,foldingRanges:!0,diagnostics:!0,selectionRanges:!0,documentFormattingEdits:!0,documentRangeFormattingEdits:!0},p=new i("css",d,u),c=new i("scss",d,u),f=new i("less",d,u);o.languages.css={cssDefaults:p,lessDefaults:f,scssDefaults:c};function m(){return new Promise((e,n)=>{l(["vs/language/css/cssMode"],e,n)})}o.languages.onLanguage("less",()=>{m().then(e=>e.setupMode(f))});o.languages.onLanguage("scss",()=>{m().then(e=>e.setupMode(c))});o.languages.onLanguage("css",()=>{m().then(e=>e.setupMode(p))});return P(R);})();
return moduleExports;
});

"use strict";/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.40.0(83b3cf23ca80c94cccca7c5b3e48351b220f8e35)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/
define("vs/language/html/monaco.contribution", ["require","require","vs/editor/editor.api"],(require)=>{
var moduleExports=(()=>{var w=Object.create;var l=Object.defineProperty;var R=Object.getOwnPropertyDescriptor;var H=Object.getOwnPropertyNames;var O=Object.getPrototypeOf,_=Object.prototype.hasOwnProperty;var f=(e=>typeof require!="undefined"?require:typeof Proxy!="undefined"?new Proxy(e,{get:(n,t)=>(typeof require!="undefined"?require:n)[t]}):e)(function(e){if(typeof require!="undefined")return require.apply(this,arguments);throw new Error('Dynamic require of "'+e+'" is not supported')});var k=(e,n)=>()=>(n||e((n={exports:{}}).exports,n),n.exports),T=(e,n)=>{for(var t in n)l(e,t,{get:n[t],enumerable:!0})},d=(e,n,t,r)=>{if(n&&typeof n=="object"||typeof n=="function")for(let o of H(n))!_.call(e,o)&&o!==t&&l(e,o,{get:()=>n[o],enumerable:!(r=R(n,o))||r.enumerable});return e},b=(e,n,t)=>(d(e,n,"default"),t&&d(t,n,"default")),v=(e,n,t)=>(t=e!=null?w(O(e)):{},d(n||!e||!e.__esModule?l(t,"default",{value:e,enumerable:!0}):t,e)),A=e=>d(l({},"__esModule",{value:!0}),e);var C=k((z,h)=>{var E=v(f("vs/editor/editor.api"));h.exports=E});var V={};T(V,{handlebarDefaults:()=>M,handlebarLanguageService:()=>m,htmlDefaults:()=>x,htmlLanguageService:()=>c,razorDefaults:()=>I,razorLanguageService:()=>y,registerHTMLLanguageService:()=>s});var a={};b(a,v(C()));var p=class{_onDidChange=new a.Emitter;_options;_modeConfiguration;_languageId;constructor(n,t,r){this._languageId=n,this.setOptions(t),this.setModeConfiguration(r)}get onDidChange(){return this._onDidChange.event}get languageId(){return this._languageId}get options(){return this._options}get modeConfiguration(){return this._modeConfiguration}setOptions(n){this._options=n||Object.create(null),this._onDidChange.fire(this)}setModeConfiguration(n){this._modeConfiguration=n||Object.create(null),this._onDidChange.fire(this)}},F={tabSize:4,insertSpaces:!1,wrapLineLength:120,unformatted:'default": "a, abbr, acronym, b, bdo, big, br, button, cite, code, dfn, em, i, img, input, kbd, label, map, object, q, samp, select, small, span, strong, sub, sup, textarea, tt, var',contentUnformatted:"pre",indentInnerHtml:!1,preserveNewLines:!0,maxPreserveNewLines:void 0,indentHandlebars:!1,endWithNewline:!1,extraLiners:"head, body, /html",wrapAttributes:"auto"},u={format:F,suggest:{},data:{useDefaultDataProvider:!0}};function g(e){return{completionItems:!0,hovers:!0,documentSymbols:!0,links:!0,documentHighlights:!0,rename:!0,colors:!0,foldingRanges:!0,selectionRanges:!0,diagnostics:e===i,documentFormattingEdits:e===i,documentRangeFormattingEdits:e===i}}var i="html",D="handlebars",L="razor",c=s(i,u,g(i)),x=c.defaults,m=s(D,u,g(D)),M=m.defaults,y=s(L,u,g(L)),I=y.defaults;a.languages.html={htmlDefaults:x,razorDefaults:I,handlebarDefaults:M,htmlLanguageService:c,handlebarLanguageService:m,razorLanguageService:y,registerHTMLLanguageService:s};function P(){return new Promise((e,n)=>{f(["vs/language/html/htmlMode"],e,n)})}function s(e,n=u,t=g(e)){let r=new p(e,n,t),o,S=a.languages.onLanguage(e,async()=>{o=(await P()).setupMode(r)});return{defaults:r,dispose(){S.dispose(),o?.dispose(),o=void 0}}}return A(V);})();
return moduleExports;
});

"use strict";/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.40.0(83b3cf23ca80c94cccca7c5b3e48351b220f8e35)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/
define("vs/language/json/monaco.contribution", ["require","require","vs/editor/editor.api"],(require)=>{
var moduleExports=(()=>{var p=Object.create;var r=Object.defineProperty;var y=Object.getOwnPropertyDescriptor;var h=Object.getOwnPropertyNames;var v=Object.getPrototypeOf,C=Object.prototype.hasOwnProperty;var g=(o=>typeof require!="undefined"?require:typeof Proxy!="undefined"?new Proxy(o,{get:(e,n)=>(typeof require!="undefined"?require:e)[n]}):o)(function(o){if(typeof require!="undefined")return require.apply(this,arguments);throw new Error('Dynamic require of "'+o+'" is not supported')});var D=(o,e)=>()=>(e||o((e={exports:{}}).exports,e),e.exports),b=(o,e)=>{for(var n in e)r(o,n,{get:e[n],enumerable:!0})},s=(o,e,n,a)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of h(e))!C.call(o,i)&&i!==n&&r(o,i,{get:()=>e[i],enumerable:!(a=y(e,i))||a.enumerable});return o},u=(o,e,n)=>(s(o,e,"default"),n&&s(n,e,"default")),c=(o,e,n)=>(n=o!=null?p(v(o)):{},s(e||!o||!o.__esModule?r(n,"default",{value:o,enumerable:!0}):n,o)),O=o=>s(r({},"__esModule",{value:!0}),o);var f=D((w,m)=>{var M=c(g("vs/editor/editor.api"));m.exports=M});var R={};b(R,{jsonDefaults:()=>d});var t={};u(t,c(f()));var l=class{_onDidChange=new t.Emitter;_diagnosticsOptions;_modeConfiguration;_languageId;constructor(e,n,a){this._languageId=e,this.setDiagnosticsOptions(n),this.setModeConfiguration(a)}get onDidChange(){return this._onDidChange.event}get languageId(){return this._languageId}get modeConfiguration(){return this._modeConfiguration}get diagnosticsOptions(){return this._diagnosticsOptions}setDiagnosticsOptions(e){this._diagnosticsOptions=e||Object.create(null),this._onDidChange.fire(this)}setModeConfiguration(e){this._modeConfiguration=e||Object.create(null),this._onDidChange.fire(this)}},j={validate:!0,allowComments:!0,schemas:[],enableSchemaRequest:!1,schemaRequest:"warning",schemaValidation:"warning",comments:"error",trailingCommas:"error"},S={documentFormattingEdits:!0,documentRangeFormattingEdits:!0,completionItems:!0,hovers:!0,documentSymbols:!0,tokens:!0,colors:!0,foldingRanges:!0,diagnostics:!0,selectionRanges:!0},d=new l("json",j,S);t.languages.json={jsonDefaults:d};function _(){return new Promise((o,e)=>{g(["vs/language/json/jsonMode"],o,e)})}t.languages.register({id:"json",extensions:[".json",".bowerrc",".jshintrc",".jscsrc",".eslintrc",".babelrc",".har"],aliases:["JSON","json"],mimetypes:["application/json"]});t.languages.onLanguage("json",()=>{_().then(o=>o.setupMode(d))});return O(R);})();
return moduleExports;
});

"use strict";/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.40.0(83b3cf23ca80c94cccca7c5b3e48351b220f8e35)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/
define("vs/language/typescript/monaco.contribution", ["require","require","vs/editor/editor.api"],(require)=>{
var moduleExports=(()=>{var N=Object.create;var d=Object.defineProperty;var H=Object.getOwnPropertyDescriptor;var M=Object.getOwnPropertyNames;var R=Object.getPrototypeOf,F=Object.prototype.hasOwnProperty;var c=(n=>typeof require!="undefined"?require:typeof Proxy!="undefined"?new Proxy(n,{get:(e,t)=>(typeof require!="undefined"?require:e)[t]}):n)(function(n){if(typeof require!="undefined")return require.apply(this,arguments);throw new Error('Dynamic require of "'+n+'" is not supported')});var w=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports),A=(n,e)=>{for(var t in e)d(n,t,{get:e[t],enumerable:!0})},g=(n,e,t,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of M(e))!F.call(n,r)&&r!==t&&d(n,r,{get:()=>e[r],enumerable:!(i=H(e,r))||i.enumerable});return n},D=(n,e,t)=>(g(n,e,"default"),t&&g(t,e,"default")),C=(n,e,t)=>(t=n!=null?N(R(n)):{},g(e||!n||!n.__esModule?d(t,"default",{value:n,enumerable:!0}):t,n)),W=n=>g(d({},"__esModule",{value:!0}),n);var _=w((B,E)=>{var V=C(c("vs/editor/editor.api"));E.exports=V});var T={};A(T,{JsxEmit:()=>f,ModuleKind:()=>b,ModuleResolutionKind:()=>O,NewLineKind:()=>y,ScriptTarget:()=>h,getJavaScriptWorker:()=>k,getTypeScriptWorker:()=>P,javascriptDefaults:()=>v,typescriptDefaults:()=>x,typescriptVersion:()=>I});var L="5.0.2";var l={};D(l,C(_()));var b=(s=>(s[s.None=0]="None",s[s.CommonJS=1]="CommonJS",s[s.AMD=2]="AMD",s[s.UMD=3]="UMD",s[s.System=4]="System",s[s.ES2015=5]="ES2015",s[s.ESNext=99]="ESNext",s))(b||{}),f=(a=>(a[a.None=0]="None",a[a.Preserve=1]="Preserve",a[a.React=2]="React",a[a.ReactNative=3]="ReactNative",a[a.ReactJSX=4]="ReactJSX",a[a.ReactJSXDev=5]="ReactJSXDev",a))(f||{}),y=(t=>(t[t.CarriageReturnLineFeed=0]="CarriageReturnLineFeed",t[t.LineFeed=1]="LineFeed",t))(y||{}),h=(o=>(o[o.ES3=0]="ES3",o[o.ES5=1]="ES5",o[o.ES2015=2]="ES2015",o[o.ES2016=3]="ES2016",o[o.ES2017=4]="ES2017",o[o.ES2018=5]="ES2018",o[o.ES2019=6]="ES2019",o[o.ES2020=7]="ES2020",o[o.ESNext=99]="ESNext",o[o.JSON=100]="JSON",o[o.Latest=99]="Latest",o))(h||{}),O=(t=>(t[t.Classic=1]="Classic",t[t.NodeJs=2]="NodeJs",t))(O||{}),m=class{_onDidChange=new l.Emitter;_onDidExtraLibsChange=new l.Emitter;_extraLibs;_removedExtraLibs;_eagerModelSync;_compilerOptions;_diagnosticsOptions;_workerOptions;_onDidExtraLibsChangeTimeout;_inlayHintsOptions;_modeConfiguration;constructor(e,t,i,r,p){this._extraLibs=Object.create(null),this._removedExtraLibs=Object.create(null),this._eagerModelSync=!1,this.setCompilerOptions(e),this.setDiagnosticsOptions(t),this.setWorkerOptions(i),this.setInlayHintsOptions(r),this.setModeConfiguration(p),this._onDidExtraLibsChangeTimeout=-1}get onDidChange(){return this._onDidChange.event}get onDidExtraLibsChange(){return this._onDidExtraLibsChange.event}get modeConfiguration(){return this._modeConfiguration}get workerOptions(){return this._workerOptions}get inlayHintsOptions(){return this._inlayHintsOptions}getExtraLibs(){return this._extraLibs}addExtraLib(e,t){let i;if(typeof t>"u"?i=`ts:extralib-${Math.random().toString(36).substring(2,15)}`:i=t,this._extraLibs[i]&&this._extraLibs[i].content===e)return{dispose:()=>{}};let r=1;return this._removedExtraLibs[i]&&(r=this._removedExtraLibs[i]+1),this._extraLibs[i]&&(r=this._extraLibs[i].version+1),this._extraLibs[i]={content:e,version:r},this._fireOnDidExtraLibsChangeSoon(),{dispose:()=>{let p=this._extraLibs[i];!p||p.version===r&&(delete this._extraLibs[i],this._removedExtraLibs[i]=r,this._fireOnDidExtraLibsChangeSoon())}}}setExtraLibs(e){for(let t in this._extraLibs)this._removedExtraLibs[t]=this._extraLibs[t].version;if(this._extraLibs=Object.create(null),e&&e.length>0)for(let t of e){let i=t.filePath||`ts:extralib-${Math.random().toString(36).substring(2,15)}`,r=t.content,p=1;this._removedExtraLibs[i]&&(p=this._removedExtraLibs[i]+1),this._extraLibs[i]={content:r,version:p}}this._fireOnDidExtraLibsChangeSoon()}_fireOnDidExtraLibsChangeSoon(){this._onDidExtraLibsChangeTimeout===-1&&(this._onDidExtraLibsChangeTimeout=window.setTimeout(()=>{this._onDidExtraLibsChangeTimeout=-1,this._onDidExtraLibsChange.fire(void 0)},0))}getCompilerOptions(){return this._compilerOptions}setCompilerOptions(e){this._compilerOptions=e||Object.create(null),this._onDidChange.fire(void 0)}getDiagnosticsOptions(){return this._diagnosticsOptions}setDiagnosticsOptions(e){this._diagnosticsOptions=e||Object.create(null),this._onDidChange.fire(void 0)}setWorkerOptions(e){this._workerOptions=e||Object.create(null),this._onDidChange.fire(void 0)}setInlayHintsOptions(e){this._inlayHintsOptions=e||Object.create(null),this._onDidChange.fire(void 0)}setMaximumWorkerIdleTime(e){}setEagerModelSync(e){this._eagerModelSync=e}getEagerModelSync(){return this._eagerModelSync}setModeConfiguration(e){this._modeConfiguration=e||Object.create(null),this._onDidChange.fire(void 0)}},I=L,S={completionItems:!0,hovers:!0,documentSymbols:!0,definitions:!0,references:!0,documentHighlights:!0,rename:!0,diagnostics:!0,documentRangeFormattingEdits:!0,signatureHelp:!0,onTypeFormattingEdits:!0,codeActions:!0,inlayHints:!0},x=new m({allowNonTsExtensions:!0,target:99},{noSemanticValidation:!1,noSyntaxValidation:!1,onlyVisible:!1},{},{},S),v=new m({allowNonTsExtensions:!0,allowJs:!0,target:99},{noSemanticValidation:!0,noSyntaxValidation:!1,onlyVisible:!1},{},{},S),P=()=>u().then(n=>n.getTypeScriptWorker()),k=()=>u().then(n=>n.getJavaScriptWorker());l.languages.typescript={ModuleKind:b,JsxEmit:f,NewLineKind:y,ScriptTarget:h,ModuleResolutionKind:O,typescriptVersion:I,typescriptDefaults:x,javascriptDefaults:v,getTypeScriptWorker:P,getJavaScriptWorker:k};function u(){return new Promise((n,e)=>{c(["vs/language/typescript/tsMode"],n,e)})}l.languages.onLanguage("typescript",()=>u().then(n=>n.setupTypeScript(x)));l.languages.onLanguage("javascript",()=>u().then(n=>n.setupJavaScript(v)));return W(T);})();
return moduleExports;
});

define("vs/editor/editor.main", ["vs/editor/edcore.main","vs/basic-languages/monaco.contribution","vs/language/css/monaco.contribution","vs/language/html/monaco.contribution","vs/language/json/monaco.contribution","vs/language/typescript/monaco.contribution"], function(api) { return api; });
//# sourceMappingURL=../../../min-maps/vs/editor/editor.main.js.map