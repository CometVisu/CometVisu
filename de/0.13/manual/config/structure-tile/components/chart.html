<!DOCTYPE html>
<html class="writer-html5" lang="de" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Chart &mdash; CometVisu</title>
      <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/theme_override.css" type="text/css" />
    <link rel="canonical" href="https://www.cometvisu.org/CometVisu/de/0.13/manual/config/structure-tile/components/chart.html"/>
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
        <script src="../../../_static/jquery.js"></script>
        <script src="../../../_static/underscore.js"></script>
        <script src="../../../_static/doctools.js"></script>
        <script src="../../../_static/versions.js"></script>
        <script src="../../../_static/translations.js"></script>
    <script src="../../../_static/js/theme.js"></script>
    <link rel="index" title="Stichwortverzeichnis" href="../../../genindex.html" />
    <link rel="search" title="Suche" href="../../../search.html" />
    <link rel="next" title="Color" href="color.html" />
    <link rel="prev" title="List" href="list.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../../index.html" class="icon icon-home"> CometVisu
            <img src="../../../_static/comet_webapp_icon_android_48.png" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                0.13.0-dev
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../install/index.html">Installation der CometVisu</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../index.html">Konfiguration der CometVisu</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../manager.html">Der CometVisu Manager</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../editor.html">Grafischer Editor</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../hidden-config.html">Versteckte Konfigurationen</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../url-params.html">URL-Parameter</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../index.html#grundsatzliches">Grundsätzliches</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../index.html#pure-struktur">Pure-Struktur</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../../index.html#tile-struktur">Tile-Struktur</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../index.html">Grundsätzlicher Aufbau</a></li>
<li class="toctree-l3"><a class="reference internal" href="../index.html#widgets">Widgets</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="../index.html#eigene-widgets-definieren">Eigene Widgets definieren</a><ul class="current">
<li class="toctree-l4 current"><a class="reference internal" href="../index.html#komponenten">Komponenten</a><ul class="current">
<li class="toctree-l5"><a class="reference internal" href="button.html">Button</a></li>
<li class="toctree-l5"><a class="reference internal" href="value.html">Value</a></li>
<li class="toctree-l5"><a class="reference internal" href="image.html">Image</a></li>
<li class="toctree-l5"><a class="reference internal" href="select.html">Select</a></li>
<li class="toctree-l5"><a class="reference internal" href="spinner.html">Spinner</a></li>
<li class="toctree-l5"><a class="reference internal" href="slider.html">Slider</a></li>
<li class="toctree-l5"><a class="reference internal" href="list.html">List</a></li>
<li class="toctree-l5 current"><a class="current reference internal" href="#">Chart</a></li>
<li class="toctree-l5"><a class="reference internal" href="color.html">Color</a></li>
<li class="toctree-l5"><a class="reference internal" href="icon.html">Icon</a></li>
<li class="toctree-l5"><a class="reference internal" href="../elements/address.html">Address</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../colab/index.html">Hilf dem CometVisu Projekt</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../devel/index.html">Informationen für Entwickler</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../faq.html">FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../tutorial/index.html">Tutorials</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">CometVisu</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="../../index.html">Konfiguration der CometVisu</a> &raquo;</li>
          <li><a href="../index.html">Grundsätzlicher Aufbau</a> &raquo;</li>
      <li>Chart</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="admonition caution">
<p class="admonition-title">Vorsicht</p>
<p>Dies ist die Dokumentation des aktuellen Entwicklungszweigs der CometVisu.
Es besteht daher die Möglichkeit, dass einige der hier beschriebenen Features
mit dem aktuellsten Release der CometVisu nicht genutzt werden können.</p>
</div>
<section id="chart">
<span id="tile-component-chart"></span><h1>Chart<a class="headerlink" href="#chart" title="Link zu dieser Überschrift">¶</a></h1>
<section id="beschreibung">
<h2>Beschreibung<a class="headerlink" href="#beschreibung" title="Link zu dieser Überschrift">¶</a></h2>
<p>Das Chart-Element ermöglicht die Visualisierung von historischen Werten als Diagramm.
Dazu muss das Chart-Element mindestens ein <code class="docutils literal notranslate"><span class="pre">&lt;dataset&gt;</span></code> Kind-Element enthalten.
Für jedes <code class="docutils literal notranslate"><span class="pre">&lt;dataset&gt;</span></code> wird in dem Chart z.B. eine Linie eingezeichnet.</p>
<figure class="align-default">
<img alt="../../../_images/cv-chart-temp.png" src="../../../_images/cv-chart-temp.png" />
</figure>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;cv-widget</span><span class="w"> </span><span class="na">size=</span><span class="s">&quot;2x1&quot;</span><span class="nt">&gt;</span>
<span class="w">    </span><span class="nt">&lt;cv-tile&gt;</span>
<span class="w">        </span><span class="nt">&lt;cv-chart</span><span class="w"> </span><span class="na">title=</span><span class="s">&quot;Wohnzimmer&quot;</span><span class="w"> </span><span class="na">y-format=</span><span class="s">&quot;%.1f °C&quot;</span><span class="w"> </span><span class="na">series=</span><span class="s">&quot;day&quot;</span><span class="w"> </span><span class="na">refresh=</span><span class="s">&quot;300&quot;</span><span class="w"> </span><span class="na">colspan=</span><span class="s">&quot;3&quot;</span><span class="w"> </span><span class="na">rowspan=</span><span class="s">&quot;3&quot;</span><span class="nt">&gt;</span>
<span class="w">            </span><span class="nt">&lt;dataset</span><span class="w"> </span><span class="na">chart-type=</span><span class="s">&quot;line&quot;</span><span class="w"> </span><span class="na">src=</span><span class="s">&quot;openhab://Temperature_FF_Living&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;/cv-chart&gt;</span>
<span class="w">    </span><span class="nt">&lt;/cv-tile&gt;</span>
<span class="nt">&lt;/cv-widget&gt;</span>
</pre></div>
</div>
<p>Das Beispiel zeigt den Temperaturverlauf der letzten 24 Stunden, der exakte, formatierte Temperaturwert für
einen Zeitpunkt im Chart wird als Tooltip angezeigt, wenn man mit dem Mauszeiger über den Chart fährt.
Damit der Chart eine gewisse Größe erreicht wird hier eine Kachel mit doppelter Breite <code class="docutils literal notranslate"><span class="pre">&lt;cv-tile</span> <span class="pre">size=&quot;2x1&quot;&gt;</span></code> benutzt
und der Chart selbst soll die gesamte Kachel ausfüllen <code class="docutils literal notranslate"><span class="pre">&lt;cv-chart</span> <span class="pre">...</span> <span class="pre">colspan=&quot;3&quot;</span> <span class="pre">rowspan=&quot;3&quot;&gt;</span></code>.</p>
<section id="konfiguration-der-datenquelle">
<h3>Konfiguration der Datenquelle<a class="headerlink" href="#konfiguration-der-datenquelle" title="Link zu dieser Überschrift">¶</a></h3>
<p>Im <code class="docutils literal notranslate"><span class="pre">src</span></code>-Attribute des <code class="docutils literal notranslate"><span class="pre">dataset</span></code>-Elements wird eine URL angegeben die die Datenquelle definiert. Bisher werden
openHAB (<a class="reference external" href="https://www.openhab.org/docs/configuration/persistence.html">Persistence</a>), InfluxDB und RRD als Datenquellen unterstützt.</p>
<p><strong>Konfiguration einer openHAB-Quelle</strong></p>
<p><code class="docutils literal notranslate"><span class="pre">openhab://&lt;Item-Name&gt;</span></code> wobei &lt;Item-Name&gt; ein beliebiger Item-Name in openHAB sein kann, für den historische Daten aufgezeichnet werden.
Es ist zusätzlich möglich einen spezielle Persistence-Service anzugeben, falls man mehrere benutzt:
<code class="docutils literal notranslate"><span class="pre">openhab://&lt;service-id&gt;&#64;&lt;Item-Name&gt;</span></code>, gibt man diesen nicht an wird der in openHAB konfigurierte default-Persistence Service benutzt.</p>
<p><strong>Konfiguration einer InfluxDB-Quelle</strong></p>
<p><code class="docutils literal notranslate"><span class="pre">flux://&lt;organization&gt;&#64;&lt;bucket&gt;/&lt;measurement&gt;/&lt;field&gt;</span></code> Optional können Angaben für die
<a class="reference external" href="https://docs.influxdata.com/flux/v0.x/stdlib/universe/aggregatewindow/">aggregationWindow-Funktion</a> als
Query-Parameter angehängt werden. Diese benötigen den Präfix <code class="docutils literal notranslate"><span class="pre">ag-</span></code>. Beispiel:
<code class="docutils literal notranslate"><span class="pre">flux://cometvisu&#64;cv-bucket/Temperature/value?ag-every=1d&amp;amp;ag-fn=mean</span></code> würde in folgende Flux-Query an die
Datenbank geschickt:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">from</span><span class="p">(</span><span class="n">bucket</span><span class="p">:</span><span class="s2">&quot;cv-bucket&quot;</span><span class="p">)</span>
  <span class="o">|&gt;</span> <span class="nb">range</span><span class="p">(</span><span class="n">start</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">start</span><span class="o">-</span><span class="n">zeit</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">stop</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">end</span><span class="o">-</span><span class="n">zeit</span><span class="o">&gt;</span><span class="p">)</span>
  <span class="o">|&gt;</span> <span class="nb">filter</span><span class="p">(</span><span class="n">fn</span><span class="p">:</span> <span class="p">(</span><span class="n">r</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="n">r</span><span class="o">.</span><span class="n">_measurement</span> <span class="o">==</span> <span class="s2">&quot;Temperature&quot;</span> <span class="ow">and</span> <span class="n">r</span><span class="o">.</span><span class="n">_field</span> <span class="o">==</span> <span class="s2">&quot;value&quot;</span><span class="p">)</span>
  <span class="o">|&gt;</span> <span class="n">aggregateWindow</span><span class="p">(</span><span class="n">every</span><span class="p">:</span> <span class="mi">1</span><span class="n">d</span><span class="p">,</span> <span class="n">fn</span><span class="p">:</span> <span class="n">mean</span><span class="p">)</span>
</pre></div>
</div>
<p>Wird nur <code class="docutils literal notranslate"><span class="pre">ag-every</span></code> angegeben, dann wird „mean“ als Standard-Wert für <code class="docutils literal notranslate"><span class="pre">ag-fn</span></code> genommen. Wird beides nicht
angeben, werden die Werte anhand der vom Chart benutzen <code class="docutils literal notranslate"><span class="pre">series</span></code> automatisch bestimmt.</p>
<p>Für komplexere Datenbankanfragen kann auch direkt der Code der Flux-Query als Text-Inhalt des <code class="docutils literal notranslate"><span class="pre">&lt;dataset&gt;</span></code>-Elements
angegeben werden. Im <code class="docutils literal notranslate"><span class="pre">src</span></code>-Attribute muss dann lediglich noch die Organisation und der Hinweis, dass die Query „inline“
angegeben wurde angegeben werden.</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;dataset</span><span class="w"> </span><span class="na">src=</span><span class="s">&quot;flux://openhab@inline&quot;</span><span class="nt">&gt;</span>
<span class="w">    </span>from(bucket:&quot;openhab&quot;)
<span class="w">        </span>|&gt;<span class="w"> </span>range(start:<span class="w"> </span>-2d)
<span class="w">        </span>|&gt;<span class="w"> </span>filter(fn:<span class="w"> </span>(r)<span class="w"> </span>=&gt;<span class="w"> </span>r._measurement<span class="w"> </span>==<span class="w"> </span>&quot;Counter&quot;<span class="w"> </span>and<span class="w"> </span>r._field<span class="w"> </span>==<span class="w"> </span>&quot;value&quot;)
<span class="w">        </span>|&gt;<span class="w"> </span>aggregateWindow(every:<span class="w"> </span>1d,<span class="w"> </span>fn:<span class="w"> </span>last)
<span class="w">        </span>|&gt;<span class="w"> </span>difference()
<span class="nt">&lt;/dataset&gt;</span>
</pre></div>
</div>
<div class="admonition hint">
<p class="admonition-title">Hinweis</p>
<p>Da die CometVisu selbst nicht prüfen kann, ob der Flux-Code korrekt ist, empfiehlt es sich die Query
in der UI der InfluxDB zusammenzustellen und den funktionieren Code dann zu kopieren.</p>
</div>
<p>Die URI des InfluxDB-Servers und ein Token für die Authentifizierung der Anfragen müssen in der <a class="reference internal" href="../../hidden-config.html#hidden-config"><span class="std std-ref">Versteckten Konfigurationen</span></a>
unter der Sektion „influx“ angegeben werden. In dieser Sektion sind folgende Schlüssel-Wert Einträge erforderlich.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 31%" />
<col style="width: 69%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Schlüssel</p></td>
<td><p>Wert</p></td>
</tr>
<tr class="row-even"><td><p>uri</p></td>
<td><p><cite>http://&lt;influx-server&gt;:8062</cite></p></td>
</tr>
<tr class="row-odd"><td><p>token</p></td>
<td><p><cite>API Token (kann in der Influx-UI
generiert werden)</cite></p></td>
</tr>
<tr class="row-even"><td><p>config</p></td>
<td><p>flux</p></td>
</tr>
</tbody>
</table>
<p>Die Werte für „uri“ und „token“ müssen entsprechend angepasst werden, der Wert für „config“ muss „flux“ sind damit
die Kommunikation korrekt funktionieren kann.</p>
<p><strong>Konfiguration einer RRD-Quelle</strong></p>
<p><code class="docutils literal notranslate"><span class="pre">rrd://&lt;dateiname-ohne-rrd&gt;</span></code> Für die RRD-Datenquelle muss der Dateiname ohne das „.rrd“ am Ende angebene werden.
Zusätzlich können als Query-Parameter hinzugefügt werden:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">ds</span></code>: Auswählen einer der verfügbaren Consolidation Functions des RRDTools (<a class="reference external" href="http://rrdtool.org">http://rrdtool.org</a>).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">res</span></code>: Die Standard-Auflösung für die Daten aus der RRD-Datei kann überschrieben werden mit einem eigenen Sekunden-Wert.</p></li>
</ul>
<p>Beispiel: <code class="docutils literal notranslate"><span class="pre">rrd://&lt;dateiname-ohne-rrd&gt;?ds=AVERAGE&amp;resolution=3600</span></code></p>
</section>
<section id="weitere-beispiele">
<h3>Weitere Beispiele<a class="headerlink" href="#weitere-beispiele" title="Link zu dieser Überschrift">¶</a></h3>
<p>Es ist auch möglich mehrere Linien in einem Chart darzustellen und diese farblich von einander abzugrenzen.</p>
<figure class="align-default" id="id1">
<img alt="Zwei Linien in einem Chart." src="../../../_images/cv-chart-pv.png" />
<figcaption>
<p><span class="caption-text">Zwei Linien in einem Chart.</span><a class="headerlink" href="#id1" title="Link zu diesem Bild">¶</a></p>
</figcaption>
</figure>
<figure class="align-default" id="id2">
<img alt="Tooltip mit Einzelwert." src="../../../_images/cv-chart-pv-tooltip.png" />
<figcaption>
<p><span class="caption-text">Tooltip mit Einzelwert.</span><a class="headerlink" href="#id2" title="Link zu diesem Bild">¶</a></p>
</figcaption>
</figure>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;cv-widget</span><span class="w"> </span><span class="na">size=</span><span class="s">&quot;2x1&quot;</span><span class="nt">&gt;</span>
<span class="w">    </span><span class="nt">&lt;cv-tile&gt;</span>
<span class="w">        </span><span class="nt">&lt;cv-chart</span><span class="w"> </span><span class="na">title=</span><span class="s">&quot;Strom&quot;</span><span class="w"> </span><span class="na">y-format=</span><span class="s">&quot;%.1f kWh&quot;</span><span class="w"> </span><span class="na">series=</span><span class="s">&quot;month&quot;</span><span class="w"> </span><span class="na">refresh=</span><span class="s">&quot;300&quot;</span><span class="w"> </span><span class="na">colspan=</span><span class="s">&quot;3&quot;</span><span class="w"> </span><span class="na">rowspan=</span><span class="s">&quot;3&quot;</span><span class="w"> </span><span class="na">x-format=</span><span class="s">&quot;%d. %b&quot;</span><span class="nt">&gt;</span>
<span class="w">            </span><span class="nt">&lt;dataset</span><span class="w"> </span><span class="na">src=</span><span class="s">&quot;openhab://Meter_Energy_Grid_Import_Today&quot;</span><span class="w"> </span><span class="na">title=</span><span class="s">&quot;Netzbezug&quot;</span><span class="w"> </span><span class="na">color=</span><span class="s">&quot;#FF0000&quot;</span><span class="w"> </span><span class="na">show-area=</span><span class="s">&quot;false&quot;</span><span class="nt">/&gt;</span>
<span class="w">            </span><span class="nt">&lt;dataset</span><span class="w"> </span><span class="na">src=</span><span class="s">&quot;openhab://PV_Energy_Today&quot;</span><span class="w"> </span><span class="na">color=</span><span class="s">&quot;#FF9900&quot;</span><span class="w"> </span><span class="na">title=</span><span class="s">&quot;Produktion&quot;</span><span class="nt">/&gt;</span>
<span class="w">          </span><span class="nt">&lt;/cv-chart&gt;</span>
<span class="w">    </span><span class="nt">&lt;/cv-tile&gt;</span>
<span class="nt">&lt;/cv-widget&gt;</span>
</pre></div>
</div>
<p>Die rote Linie zeigt den täglichen Bezug aus dem Stromnetz in kWh und der orange Bereich stellt dem die täglich PV-Produktion in kWh gegenüber.</p>
<p>Das Chart-Element bietet auch die Möglichkeit ein Balkendiagramm darzustellen:</p>
<figure class="align-default" id="id3">
<img alt="Zwei Balken in einem Chart." src="../../../_images/cv-chart-pv-bar.png" />
<figcaption>
<p><span class="caption-text">Zwei Balken in einem Chart.</span><a class="headerlink" href="#id3" title="Link zu diesem Bild">¶</a></p>
</figcaption>
</figure>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;cv-widget</span><span class="w"> </span><span class="na">size=</span><span class="s">&quot;2x1&quot;</span><span class="nt">&gt;</span>
<span class="w">    </span><span class="nt">&lt;cv-tile&gt;</span>
<span class="w">        </span><span class="nt">&lt;cv-chart</span><span class="w"> </span><span class="na">title=</span><span class="s">&quot;Strom&quot;</span><span class="w"> </span><span class="na">y-format=</span><span class="s">&quot;%.1f kWh&quot;</span><span class="w"> </span><span class="na">series=</span><span class="s">&quot;month&quot;</span><span class="w"> </span><span class="na">refresh=</span><span class="s">&quot;300&quot;</span><span class="w"> </span><span class="na">colspan=</span><span class="s">&quot;3&quot;</span><span class="w"> </span><span class="na">rowspan=</span><span class="s">&quot;3&quot;</span><span class="w"> </span><span class="na">x-format=</span><span class="s">&quot;%d. %b&quot;</span><span class="nt">&gt;</span>
<span class="w">            </span><span class="nt">&lt;dataset</span><span class="w"> </span><span class="na">src=</span><span class="s">&quot;openhab://Meter_Energy_Grid_Import_Today&quot;</span><span class="w"> </span><span class="na">title=</span><span class="s">&quot;Netzbezug&quot;</span><span class="w"> </span><span class="na">color=</span><span class="s">&quot;#FF0000&quot;</span><span class="w"> </span><span class="na">show-area=</span><span class="s">&quot;false&quot;</span><span class="w"> </span><span class="na">chart-type=</span><span class="s">&quot;bar&quot;</span><span class="nt">/&gt;</span>
<span class="w">            </span><span class="nt">&lt;dataset</span><span class="w"> </span><span class="na">src=</span><span class="s">&quot;openhab://PV_Energy_Today&quot;</span><span class="w"> </span><span class="na">color=</span><span class="s">&quot;#FF9900&quot;</span><span class="w"> </span><span class="na">title=</span><span class="s">&quot;Produktion&quot;</span><span class="w"> </span><span class="na">chart-type=</span><span class="s">&quot;bar&quot;</span><span class="nt">/&gt;</span>
<span class="w">          </span><span class="nt">&lt;/cv-chart&gt;</span>
<span class="w">    </span><span class="nt">&lt;/cv-tile&gt;</span>
<span class="nt">&lt;/cv-widget&gt;</span>
</pre></div>
</div>
<p>Möchte man auf andere Zeitserien wechseln und innerhalb der gerade ausgewählten navigieren, so kann man diese mit
dem <code class="docutils literal notranslate"><span class="pre">selection</span></code>-Attribut freischalten. Dieses kann man mit einer Komma-separierten Listen der erlaubten Zeitserien
füllen, oder einfach mit <code class="docutils literal notranslate"><span class="pre">all</span></code> for alle.</p>
<figure class="align-default" id="id4">
<img alt="Zeitserienauswahl mit Navigation." src="../../../_images/cv-chart-pv-nav.png" />
<figcaption>
<p><span class="caption-text">Zeitserienauswahl mit Navigation.</span><a class="headerlink" href="#id4" title="Link zu diesem Bild">¶</a></p>
</figcaption>
</figure>
<figure class="align-default" id="id5">
<img alt="Zeitserienauswahl geöffnet" src="../../../_images/cv-chart-pv-nav-open.png" />
<figcaption>
<p><span class="caption-text">Zeitserienauswahl geöffnet</span><a class="headerlink" href="#id5" title="Link zu diesem Bild">¶</a></p>
</figcaption>
</figure>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;cv-widget</span><span class="w"> </span><span class="na">size=</span><span class="s">&quot;2x1&quot;</span><span class="nt">&gt;</span>
<span class="w">    </span><span class="nt">&lt;cv-tile&gt;</span>
<span class="w">        </span><span class="nt">&lt;cv-chart</span><span class="w"> </span><span class="na">title=</span><span class="s">&quot;Strom&quot;</span><span class="w"> </span><span class="na">selection=</span><span class="s">&quot;week,month,year&quot;</span><span class="w"> </span><span class="na">y-format=</span><span class="s">&quot;%.1f kWh&quot;</span><span class="w"> </span><span class="na">series=</span><span class="s">&quot;month&quot;</span><span class="w"> </span><span class="na">refresh=</span><span class="s">&quot;300&quot;</span><span class="w"> </span><span class="na">colspan=</span><span class="s">&quot;3&quot;</span><span class="w"> </span><span class="na">rowspan=</span><span class="s">&quot;3&quot;</span><span class="w"> </span><span class="na">x-format=</span><span class="s">&quot;%d. %b&quot;</span><span class="nt">&gt;</span>
<span class="w">            </span><span class="nt">&lt;dataset</span><span class="w"> </span><span class="na">src=</span><span class="s">&quot;openhab://Meter_Energy_Grid_Import_Today&quot;</span><span class="w"> </span><span class="na">title=</span><span class="s">&quot;Netzbezug&quot;</span><span class="w"> </span><span class="na">color=</span><span class="s">&quot;#FF0000&quot;</span><span class="w"> </span><span class="na">show-area=</span><span class="s">&quot;false&quot;</span><span class="nt">/&gt;</span>
<span class="w">          </span><span class="nt">&lt;/cv-chart&gt;</span>
<span class="w">    </span><span class="nt">&lt;/cv-tile&gt;</span>
<span class="nt">&lt;/cv-widget&gt;</span>
</pre></div>
</div>
<section id="erlaubte-attribute">
<h4>Erlaubte Attribute<a class="headerlink" href="#erlaubte-attribute" title="Link zu dieser Überschrift">¶</a></h4>
<table class="docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 15%" />
<col style="width: 20%" />
<col style="width: 55%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Element</p></th>
<th class="head" colspan="4"><p>Attribut</p></th>
</tr>
<tr class="row-even"><th class="head"></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Inhalt</p></th>
<th class="head"><p>Beschreibung</p></th>
</tr>
</thead>
<tbody>
<tr class="row-odd"><td rowspan="15"><p>cv-chart</p></td>
<td><p>title</p></td>
<td><p>Text</p></td>
<td><p>Titel des Charts.</p></td>
</tr>
<tr class="row-even"><td><p>y-format</p></td>
<td><p>Text</p></td>
<td><p>Formatierung der y-Achse.</p></td>
</tr>
<tr class="row-odd"><td><p>x-format</p></td>
<td><p>Text</p></td>
<td><p>Formatierung der x-Achse.</p></td>
</tr>
<tr class="row-even"><td><p>series</p></td>
<td><p><em>hour</em>, <em>day</em>, <em>week</em>, <em>month</em> oder <em>year</em></p></td>
<td><p>Zeitspanne der Daten.</p></td>
</tr>
<tr class="row-odd"><td><p>selection</p></td>
<td><p>Text</p></td>
<td><p>Typ des Chart-Elements.</p></td>
</tr>
<tr class="row-even"><td><p>allow-fullscreen</p></td>
<td><p><em>true</em> oder <em>false</em></p></td>
<td><p>Erlaubt die Vergrößerung des Charts auf volle Bildschirmgröße.</p></td>
</tr>
<tr class="row-odd"><td><p>show-x-axis</p></td>
<td><p><em>true</em> oder <em>false</em></p></td>
<td><p>X-Achsen Skala anzeigen (default = true).</p></td>
</tr>
<tr class="row-even"><td><p>show-y-axis</p></td>
<td><p><em>true</em> oder <em>false</em></p></td>
<td><p>Y-Achsen Skala anzeigen (default = true).</p></td>
</tr>
<tr class="row-odd"><td><p>refresh</p></td>
<td><p>Zahl</p></td>
<td><p>Zeitintervall in Sekunden in dem dieses Widget aktualisiert wird.</p></td>
</tr>
<tr class="row-even"><td><p>show-grid</p></td>
<td><p><em>xy</em>, <em>x</em>, <em>y</em> oder <em>false</em></p></td>
<td><p>Zeige Gitterlinien.</p></td>
</tr>
<tr class="row-odd"><td><p>background</p></td>
<td><p><em>true</em> oder <em>false</em></p></td>
<td><p>Zeigt den Chart im Hintergrund einer Kachel.</p></td>
</tr>
<tr class="row-even"><td><p>zero-based</p></td>
<td><p><em>true</em> oder <em>false</em></p></td>
<td><p>Die y-Achse immer bei 0 beginnen lassen.</p></td>
</tr>
<tr class="row-odd"><td><p>visible-on</p></td>
<td><p><em>mobile</em> oder <em>desktop</em></p></td>
<td><p>Steuert die Sichtbarkeit dieses Elements anhand der Bildschirmgröße.</p></td>
</tr>
<tr class="row-even"><td><p>class</p></td>
<td><p>Text</p></td>
<td><p>Füge dieses Attribut der CSS Klasse hinzu, so dass das Widget durch ein eigenes Stylesheet zusätzlich formatiert werden kann.</p></td>
</tr>
<tr class="row-odd"><td><p>style</p></td>
<td><p>Text</p></td>
<td><p>Individuelle CSS style Regeln für dieses Widget.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="erlaubte-kind-elemente-und-deren-attribute">
<h4>Erlaubte Kind-Elemente und deren Attribute<a class="headerlink" href="#erlaubte-kind-elemente-und-deren-attribute" title="Link zu dieser Überschrift">¶</a></h4>
<table class="schema-table docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 15%" />
<col style="width: 15%" />
<col style="width: 55%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Element</p></th>
<th class="head" colspan="4"><p>Attribut</p></th>
</tr>
<tr class="row-even"><th class="head"><p>Struktur</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Inhalt</p></th>
<th class="head"><p>Beschreibung</p></th>
</tr>
</thead>
<tbody>
<tr class="row-odd"><td rowspan="6"><dl class="simple">
<dt>cv-chart</dt><dd><ul class="simple">
<li><p>dataset</p></li>
</ul>
</dd>
</dl>
</td>
<td><p>src</p></td>
<td><p>anyURI</p></td>
<td><p>Datenquelle für dieses Chart-Element.</p></td>
</tr>
<tr class="row-even"><td><p>title</p></td>
<td><p>Text</p></td>
<td><p>Titel des Chart-Elements.</p></td>
</tr>
<tr class="row-odd"><td><p>chart-type</p></td>
<td><p><em>line</em> oder <em>bar</em></p></td>
<td><p>Typ des Chart-Elements.</p></td>
</tr>
<tr class="row-even"><td><p>curve</p></td>
<td><p><em>linear</em>, <em>step</em> oder <em>natural</em></p></td>
<td><p>Typ der Kurven-Interpolation eines Linien-Charts.</p></td>
</tr>
<tr class="row-odd"><td><p>color</p></td>
<td><p>token</p></td>
<td><p>Farbe des Chart-Elements.</p></td>
</tr>
<tr class="row-even"><td><p>show-area</p></td>
<td><p><em>true</em> oder <em>false</em></p></td>
<td><p>Bereich unterhalb eines Liniendiagramms ausfüllen.</p></td>
</tr>
<tr class="row-odd"><td><dl class="simple">
<dt>cv-chart</dt><dd><ul class="simple">
<li><p>dataset</p>
<ul>
<li><p>#text</p></li>
</ul>
</li>
</ul>
</dd>
</dl>
</td>
<td></td>
<td><p>Text</p></td>
<td></td>
</tr>
</tbody>
</table>
<table class="schema-table docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 15%" />
<col style="width: 15%" />
<col style="width: 55%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Element</p></th>
<th class="head" colspan="4"><p>Attribut</p></th>
</tr>
<tr class="row-even"><th class="head"><p>Struktur</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Inhalt</p></th>
<th class="head"><p>Beschreibung</p></th>
</tr>
</thead>
<tbody>
<tr class="row-odd"><td rowspan="6"><dl class="simple">
<dt>cv-chart</dt><dd><ul class="simple">
<li><p>h-line</p></li>
</ul>
</dd>
</dl>
</td>
<td><p>src</p></td>
<td><p>Text</p></td>
<td><p>Datenquelle für diese Linie</p></td>
</tr>
<tr class="row-even"><td><p>value</p></td>
<td></td>
<td><p>Typ des Chart-Elements.</p></td>
</tr>
<tr class="row-odd"><td><p>format</p></td>
<td><p>Text</p></td>
<td><p>Formatierung des Wertes (printf-Syntax).</p></td>
</tr>
<tr class="row-even"><td><p>color</p></td>
<td><p>token</p></td>
<td><p>Farbe der Linie.</p></td>
</tr>
<tr class="row-odd"><td><p>show-value</p></td>
<td><p><em>true</em> oder <em>false</em></p></td>
<td><p>Wert anzeigen</p></td>
</tr>
<tr class="row-even"><td><p>value-color</p></td>
<td><p>token</p></td>
<td><p>Farbe des Werts.</p></td>
</tr>
</tbody>
</table>
</section>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="list.html" class="btn btn-neutral float-left" title="List" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="color.html" class="btn btn-neutral float-right" title="Color" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2010-2023 Christian Mayer and the CometVisu contributers.</p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  

  <div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="Versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      <span class="fa fa-book"> Version</span>
      v: 0.13.0-dev
      <span class="fa fa-caret-down"></span>
    </span>
    <div class="rst-other-versions">
      <dl>
        <dt>Versions</dt>
        
          <dd><a href="../../0.10/manual">0.10.2</a></dd>
        
          <dd><a href="../../0.11/manual">0.11.2</a></dd>
        
          <dd><a href="../../0.12/manual">0.12.2</a></dd>
        
          <dd><a href="../../0.13/manual">0.13.0-dev</a></dd>
        
      </dl>
    </div>
  </div>
<script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>