!function(e){var x={not_string:/[^s]/,number:/[diefg]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijosuxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[\+\-]/};function b(){var e=arguments[0],n=b.cache;return n[e]&&n.hasOwnProperty(e)||(n[e]=b.parse(e)),b.format.call(null,n[e],arguments)}b.format=function(e,n){for(var t,r,s,o,a,i,l,c=1,f=e.length,p="",u=[],d=!0,g="",h=0;h<f;h++)if("string"===(p=y(e[h])))u[u.length]=e[h];else if("array"===p){if((s=e[h])[2])for(t=n[c],r=0;r<s[2].length;r++){if(!t.hasOwnProperty(s[2][r]))throw new Error(b("[sprintf] property '%s' does not exist",s[2][r]));t=t[s[2][r]]}else t=s[1]?n[s[1]]:n[c++];if("function"==y(t)&&(t=t()),x.not_string.test(s[8])&&x.not_json.test(s[8])&&"number"!=y(t)&&isNaN(t))throw new TypeError(b("[sprintf] expecting number but found %s",y(t)));switch(x.number.test(s[8])&&(d=0<=t),s[8]){case"b":t=t.toString(2);break;case"c":t=String.fromCharCode(t);break;case"d":case"i":t=parseInt(t,10);break;case"j":t=JSON.stringify(t,null,s[6]?parseInt(s[6]):0);break;case"e":t=s[7]?t.toExponential(s[7]):t.toExponential();break;case"f":t=s[7]?parseFloat(t).toFixed(s[7]):parseFloat(t);break;case"g":t=s[7]?parseFloat(t).toPrecision(s[7]):parseFloat(t);break;case"o":t=t.toString(8);break;case"s":t=(t=String(t))&&s[7]?t.substring(0,s[7]):t;break;case"u":t>>>=0;break;case"x":t=t.toString(16);break;case"X":t=t.toString(16).toUpperCase()}x.json.test(s[8])?u[u.length]=t:(!x.number.test(s[8])||d&&!s[3]?g="":(g=d?"+":"-",t=t.toString().replace(x.sign,"")),a=s[4]?"0"===s[4]?"0":s[4].charAt(1):" ",i=s[6]-(g+t).length,o=s[6]&&0<i?(l=a,Array(i+1).join(l)):"",u[u.length]=s[5]?g+t+o:"0"===a?g+o+t:o+g+t)}return u.join("")},b.cache={},b.parse=function(e){for(var n=e,t=[],r=[],s=0;n;){if(null!==(t=x.text.exec(n)))r[r.length]=t[0];else if(null!==(t=x.modulo.exec(n)))r[r.length]="%";else{if(null===(t=x.placeholder.exec(n)))throw new SyntaxError("[sprintf] unexpected placeholder");if(t[2]){s|=1;var o=[],a=t[2],i=[];if(null===(i=x.key.exec(a)))throw new SyntaxError("[sprintf] failed to parse named argument key");for(o[o.length]=i[1];""!==(a=a.substring(i[0].length));)if(null!==(i=x.key_access.exec(a)))o[o.length]=i[1];else{if(null===(i=x.index_access.exec(a)))throw new SyntaxError("[sprintf] failed to parse named argument key");o[o.length]=i[1]}t[2]=o}else s|=2;if(3===s)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");r[r.length]=t}n=n.substring(t[0].length)}return r};function n(e,n,t){return(t=(n||[]).slice(0)).splice(0,0,e),b.apply(null,t)}function y(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()}"undefined"!=typeof exports?(exports.sprintf=b,exports.vsprintf=n):(e.sprintf=b,e.vsprintf=n,"function"==typeof define&&define.amd&&define(function(){return{sprintf:b,vsprintf:n}}))}("undefined"==typeof window?this:window);