name: CometVisu nightly builds
on:
  workflow_dispatch:
  schedule:
    # * is a special character in YAML so you have to quote this string
    - cron: '0 0 * * *'


jobs:
  build:
    runs-on: ubuntu-latest
    steps:
      - run: echo "Hello world"

#    - name: "[NIGHTLY] - Build and push Nightly Build"
#      if: type = cron OR commit_message =~ /^\[ci nightly\].*/
#      script: &3
#        - 'CLIENT_CHANGES=`./utils/travis/check-changes.py client`'
#        - 'CORE_CHANGES=`./utils/travis/check-changes.py cv`'
#        - export DEPLOY_NIGHTLY=0
#        - if [[ ($CORE_CHANGES -gt 0 || $CLIENT_CHANGES -gt 0) ]]; then export DEPLOY_NIGHTLY=1; fi
#        - if [[ ${TRAVIS_COMMIT_MESSAGE:0:12} == "[ci nightly]" ]]; then export DEPLOY_NIGHTLY=1; export CORE_CHANGES=1; fi
#        - echo "$CORE_CHANGES changes in core, $CLIENT_CHANGES changes in client, nighlies $DEPLOY_NIGHTLY, $TRAVIS_EVENT_TYPE event type"
#      before_deploy:
#        - if [ $CORE_CHANGES -gt 0 ]; then grunt release-cv; fi
#        - if [ $CLIENT_CHANGES -gt 0 ]; then grunt release-client; fi
