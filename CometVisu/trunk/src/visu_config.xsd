<?xml version="1.0" encoding="UTF-8"?>
<xsd:schema xmlns:xsd="http://www.w3.org/2001/XMLSchema">

  <!-- basic types -->
  <xsd:simpleType name="addr">
    <xsd:restriction base="xsd:string">
      <xsd:pattern value="([0-9]{1,2}/[0-9]{1,2}/[0-9]{1,3}|[A-Za-z][A-Za-z0-9_\-\.]*)" />
    </xsd:restriction>
  </xsd:simpleType>

  <xsd:simpleType name="dimension">
    <xsd:restriction base="xsd:string" />
  </xsd:simpleType>

  <xsd:simpleType name="uri">
    <xsd:restriction base="xsd:anyURI" />
  </xsd:simpleType>

  <xsd:complexType name="layout">
    <xsd:attribute name="colspan" type="xsd:decimal" use="optional" />
    <xsd:attribute name="rowspan" type="xsd:decimal" use="optional" />
    <xsd:attribute name="x" type="xsd:string" use="optional" />
    <xsd:attribute name="y" type="xsd:string" use="optional" />
    <xsd:attribute name="z" type="xsd:string" use="optional" />
    <xsd:attribute name="width" type="xsd:string" use="optional" />
  </xsd:complexType>

  <xsd:complexType name="address">
    <xsd:simpleContent>
      <xsd:extension base="addr">
        <xsd:attribute ref="transform" use="required" />
        <xsd:attribute ref="mode" use="optional" />
        <xsd:attribute name="type" type="xsd:string" use="optional" />
        <xsd:attribute name="variant" type="xsd:string" use="optional" />
      </xsd:extension>
    </xsd:simpleContent>
  </xsd:complexType>

  <xsd:complexType name="entry" mixed="true">
    <xsd:annotation>
        <xsd:appinfo>descriptor:#text</xsd:appinfo>
    </xsd:annotation>
    <xsd:choice minOccurs="0" maxOccurs="unbounded">
      <xsd:element name="icon" type="icon" />
    </xsd:choice>
    <xsd:attribute ref="value" />
    <xsd:attributeGroup ref="range" />
    <xsd:attribute name="default" type="xsd:boolean" use="optional">
      <xsd:annotation>
        <xsd:documentation xml:lang="en">Marks the entry as being the default entry in case of non-existing applicable entries.</xsd:documentation>
        <xsd:documentation xml:lang="de">Markiert den Entry als Standard-Entry für den Fall, dass kein anderer passender Entry gefunden werden kann.</xsd:documentation>
      </xsd:annotation>
    </xsd:attribute>
  </xsd:complexType>

  <!-- simple elements -->
  <xsd:complexType name="icon">
    <xsd:attribute name="name" type="xsd:string" use="required" />
    <xsd:attribute name="type" type="xsd:string" use="optional" />
    <xsd:attribute ref="flavour" use="optional" />
    <xsd:attribute name="color" type="xsd:string" use="optional" />
    <xsd:attribute ref="styling" use="optional" />
    <xsd:attribute ref="class" use="optional" />
  </xsd:complexType>

  <!-- attributes -->
  <xsd:attribute name="min" type="xsd:decimal" />
  <xsd:attribute name="max" type="xsd:decimal" />
  <xsd:attribute name="step" type="xsd:decimal" />

  <xsd:attribute name="transform" type="xsd:string" />
  <xsd:attribute name="format" type="xsd:string" />

  <xsd:attributeGroup name="range">
    <xsd:attribute name="range_min" type="xsd:float" />
    <xsd:attribute name="range_max" type="xsd:float" />
  </xsd:attributeGroup>

  <xsd:attribute name="mapping" type="xsd:string">
    <xsd:annotation>
      <xsd:documentation xml:lang="en">Map the bus value to a different value for displaying.</xsd:documentation>
      <xsd:documentation xml:lang="de">Ordnet den Werten vom Bus andere zur Anzeige zu.</xsd:documentation>
    </xsd:annotation>
  </xsd:attribute>
  <xsd:attribute name="styling" type="xsd:string" />
  <xsd:attribute name="value" type="xsd:string" />
  <xsd:attribute name="flavour" type="xsd:string">
    <xsd:annotation>
        <xsd:appinfo>level:expert</xsd:appinfo>
    </xsd:annotation>
  </xsd:attribute>

  <xsd:attribute name="mode">
    <xsd:simpleType>
      <xsd:restriction base="xsd:string">
        <xsd:enumeration value="disable" />
        <xsd:enumeration value="read" />
        <xsd:enumeration value="write" />
        <xsd:enumeration value="readwrite" />
      </xsd:restriction>
    </xsd:simpleType>
  </xsd:attribute>

  <xsd:attribute name="class" type="xsd:string">
    <xsd:annotation>
      <xsd:documentation xml:lang="en">Add this value to the CSS class so that it can be formated by a user provided style sheet.</xsd:documentation>
      <xsd:documentation xml:lang="de">Füge dieses Attribut der CSS Klasse hinzu, so dass das Widget durch ein eigenes Stylesheet zusätzlich formatiert werden kann.</xsd:documentation>
      <xsd:appinfo>level:expert</xsd:appinfo>
    </xsd:annotation>
  </xsd:attribute>
  
  <xsd:simpleType name="rss_mode">
    <xsd:restriction base="xsd:string">
      <xsd:enumeration value="first" />
      <xsd:enumeration value="last" />
      <xsd:enumeration value="rollover" />
    </xsd:restriction>
  </xsd:simpleType>
      
  <xsd:attribute name="series">
      <xsd:simpleType>
          <xsd:restriction base="xsd:string">
              <xsd:enumeration value="hour" />
              <xsd:enumeration value="day" />
              <xsd:enumeration value="week" />
              <xsd:enumeration value="month" />
              <xsd:enumeration value="year" />
              <xsd:enumeration value="fullday" />
          </xsd:restriction>
      </xsd:simpleType>
  </xsd:attribute>
  
  <xsd:attribute name="datasource">
      <xsd:simpleType>
          <xsd:restriction base="xsd:string">
              <xsd:enumeration value="MIN" />
              <xsd:enumeration value="AVERAGE" />
              <xsd:enumeration value="MAX" />
          </xsd:restriction>
      </xsd:simpleType>
  </xsd:attribute>
  
  <xsd:attribute name="align">
    <xsd:simpleType>
      <xsd:restriction base="xsd:string">
        <xsd:enumeration value="left" />
        <xsd:enumeration value="right" />
        <xsd:enumeration value="center" />
      </xsd:restriction>
    </xsd:simpleType>
  </xsd:attribute>
  <xsd:attribute name="variant" type="xsd:string" />

  <xsd:attribute name="legendposition">
    <xsd:simpleType>
      <xsd:restriction base="xsd:string">
        <xsd:enumeration value="nw">
            <xsd:annotation>
                <xsd:documentation xml:lang="en">topleft</xsd:documentation>
            </xsd:annotation>
        </xsd:enumeration>
        <xsd:enumeration value="ne">
            <xsd:annotation>
                <xsd:documentation xml:lang="en">topright</xsd:documentation>
            </xsd:annotation>
        </xsd:enumeration>
        <xsd:enumeration value="sw">
            <xsd:annotation>
                <xsd:documentation xml:lang="en">bottomleft</xsd:documentation>
            </xsd:annotation>
        </xsd:enumeration>
        <xsd:enumeration value="se">
            <xsd:annotation>
                <xsd:documentation xml:lang="en">bottomright</xsd:documentation>
            </xsd:annotation>
        </xsd:enumeration>
      </xsd:restriction>
    </xsd:simpleType>
  </xsd:attribute>

  <xsd:attribute name="legend">
    <xsd:simpleType>
      <xsd:restriction base="xsd:string">
        <xsd:enumeration value="both" />
        <xsd:enumeration value="inline" />
        <xsd:enumeration value="popup" />
        <xsd:enumeration value="none" />
      </xsd:restriction>
    </xsd:simpleType>
  </xsd:attribute>
  
  <xsd:attribute name="backend">
    <xsd:annotation>
        <xsd:appinfo>level:expert</xsd:appinfo>
    </xsd:annotation>
    <xsd:simpleType>
      <xsd:restriction base="xsd:string">
        <xsd:enumeration value="cgi" />
        <xsd:enumeration value="oh" />
      </xsd:restriction>
    </xsd:simpleType>
  </xsd:attribute>

  <xsd:simpleType name="navbarPositionType">
    <xsd:restriction base="xsd:string">
      <xsd:enumeration value="top" />
      <xsd:enumeration value="left" />
      <xsd:enumeration value="right" />
      <xsd:enumeration value="bottom" />
    </xsd:restriction>
  </xsd:simpleType>
  
  <xsd:attribute name="bind_click_to_widget" type="xsd:boolean">
    <xsd:annotation>
      <xsd:documentation xml:lang="en">use the whole widget area to react on click events</xsd:documentation>
	  <xsd:documentation xml:lang="de">Beim aktivieren dieser Option wird die gesammte Widget Fläche als Schaltfläche genutzt</xsd:documentation>
    </xsd:annotation>
  </xsd:attribute>
  

  <xsd:attribute name="lang">
    <xsd:simpleType>
      <xsd:restriction base="xsd:string">
        <xsd:enumeration value="de">
            <xsd:annotation>
                <xsd:documentation xml:lang="en">german</xsd:documentation>
            </xsd:annotation>
        </xsd:enumeration>
        <xsd:enumeration value="en">
            <xsd:annotation>
                <xsd:documentation xml:lang="en">english</xsd:documentation>
            </xsd:annotation>
        </xsd:enumeration>
        <xsd:enumeration value="es">
            <xsd:annotation>
                <xsd:documentation xml:lang="en">spanish</xsd:documentation>
            </xsd:annotation>
        </xsd:enumeration>
        <xsd:enumeration value="fr">
            <xsd:annotation>
                <xsd:documentation xml:lang="en">french</xsd:documentation>
            </xsd:annotation>
        </xsd:enumeration>
        <xsd:enumeration value="it">
            <xsd:annotation>
                <xsd:documentation xml:lang="en">italian</xsd:documentation>
            </xsd:annotation>
        </xsd:enumeration>
        <xsd:enumeration value="ru">
            <xsd:annotation>
                <xsd:documentation xml:lang="en">russian</xsd:documentation>
            </xsd:annotation>
        </xsd:enumeration>
      </xsd:restriction>
    </xsd:simpleType>
  </xsd:attribute>

  <xsd:attribute name="linktarget">
    <xsd:simpleType>
      <xsd:restriction base="xsd:string">
        <xsd:enumeration value="_new" />
        <xsd:enumeration value="_self" />
      </xsd:restriction>
    </xsd:simpleType>
  </xsd:attribute>



  <!-- complex elements -->
  <xsd:element name="pages">
    <xsd:complexType>
      <xsd:sequence>
        <xsd:element name="meta" type="meta" minOccurs="0" maxOccurs="1"/>
        <xsd:element name="page" type="page" minOccurs="1" maxOccurs="1"/>
      </xsd:sequence>
      <xsd:attribute name="design" type="xsd:string" use="required" >
          <xsd:annotation>
          <xsd:documentation xml:lang="en">Select the main design.</xsd:documentation>
          <xsd:documentation xml:lang="de">Hier wird das Design für die Visu ausgewählt</xsd:documentation>
          </xsd:annotation>
      </xsd:attribute>
      <xsd:attribute ref="backend" use="optional" />
      <xsd:attribute ref="bind_click_to_widget" use="optional"/>
      <xsd:attribute name="scroll_speed" type="xsd:decimal" use="optional">
        <xsd:annotation>
            <xsd:appinfo>level:expert</xsd:appinfo>
        </xsd:annotation>
      </xsd:attribute>
      <xsd:attribute name="max_mobile_screen_width" type="xsd:decimal" use="optional" >
        <xsd:annotation>
            <xsd:appinfo>level:expert</xsd:appinfo>
        </xsd:annotation>
      </xsd:attribute>
      <xsd:attribute name="min_column_width" type="xsd:decimal" use="optional">
        <xsd:annotation>
            <xsd:appinfo>level:expert</xsd:appinfo>
        </xsd:annotation>
      </xsd:attribute>
      <xsd:attribute name="default_columns" type="xsd:decimal" use="optional">
        <xsd:annotation>
            <xsd:appinfo>level:expert</xsd:appinfo>
        </xsd:annotation>
      </xsd:attribute>
      <xsd:attribute name="enable_column_adjustment" type="xsd:boolean" use="optional">
        <xsd:annotation>
            <xsd:appinfo>level:expert</xsd:appinfo>
        </xsd:annotation>
      </xsd:attribute>
      <xsd:attribute name="lib_version" type="xsd:integer" use="optional">
          <xsd:annotation>
              <xsd:documentation xml:lang="en">Version of the CometVisu-library. This value is for the Upgrade-Script</xsd:documentation>
              <xsd:documentation xml:lang="de">Version der CometVisu-library. Dieser Wert ist für das Upgrade-Script</xsd:documentation>
              <xsd:appinfo>level:expert</xsd:appinfo>
          </xsd:annotation>
      </xsd:attribute>
      <xsd:attribute name="screensave_time" type="xsd:decimal" use="optional">
        <xsd:annotation>
            <xsd:documentation xml:lang="en">Time in seconds till the screensave_page will be jumped to.</xsd:documentation>
            <xsd:documentation xml:lang="de">Zeit in Sekunden bis die Visu zur screensave_page zurück scrollt. </xsd:documentation>
            <xsd:appinfo>level:expert</xsd:appinfo>
        </xsd:annotation>
      </xsd:attribute>
      <xsd:attribute name="screensave_page" type="xsd:string" use="optional">
        <xsd:annotation>
            <xsd:documentation xml:lang="en">Page to jump to when after the screensave_time elapsed without user input.</xsd:documentation>
            <xsd:documentation xml:lang="de">Seite die als screensave_page genutzt werden soll. </xsd:documentation>
            <xsd:appinfo>level:expert</xsd:appinfo>
        </xsd:annotation>
      </xsd:attribute>
    </xsd:complexType>
  </xsd:element>

  <xsd:complexType name="meta">
    <xsd:choice minOccurs="0" maxOccurs="unbounded">
      <xsd:element name="plugins" type="plugins" />
      <xsd:element name="icons" type="icons" />
      <xsd:element name="mappings" type="mappings" />
      <xsd:element name="stylings" type="stylings" />
      <xsd:element name="statusbar" type="statusbar" />
    </xsd:choice>
  </xsd:complexType>

  <xsd:complexType name="plugins">
    <xsd:choice minOccurs="0" maxOccurs="unbounded">
      <xsd:element name="plugin" type="plugin" />
    </xsd:choice>
  </xsd:complexType>

  <xsd:complexType name="plugin">
    <xsd:attribute name="name" type="xsd:string" use="required" />
  </xsd:complexType>

  <xsd:group name="AvailablePlugins">
    <xsd:choice>
      <xsd:element name="clock" type="clock" />
      <xsd:element name="colorchooser" type="colorchooser" />
      <xsd:element name="diagram_info" type="diagram_info" />
      <xsd:element name="diagram" type="diagram" />
      <xsd:element name="rss" type="rss" />
      <xsd:element name="rsslog" type="rsslog" />
      <xsd:element name="strftime" type="strftime" />
      <xsd:element name="upnpcontroller" type="upnpcontroller" />
      <xsd:element name="timeout" type="timeout" />
    </xsd:choice>
  </xsd:group>

  <xsd:complexType name="icons">
    <xsd:choice minOccurs="0" maxOccurs="unbounded">
      <xsd:element name="icon-definition" type="icon-definition" />
    </xsd:choice>
  </xsd:complexType>

  <xsd:complexType name="icon-definition">
    <xsd:attribute name="name" type="xsd:string" use="required" />
    <xsd:attribute name="uri" type="uri" use="required" />
    <xsd:attribute name="type" type="xsd:string" use="optional" />
    <xsd:attribute ref="flavour" use="optional" />
    <xsd:attribute name="color" type="xsd:string" use="optional" />
    <xsd:attribute name="styling" type="xsd:string" use="optional" />
    <xsd:attribute name="dynamic" type="xsd:string" use="optional" />
  </xsd:complexType>

  <xsd:complexType name="mappings">
    <xsd:choice minOccurs="0" maxOccurs="unbounded">
      <xsd:element name="mapping" type="mapping" />
    </xsd:choice>
  </xsd:complexType>

  <xsd:complexType name="mapping">
    <xsd:sequence>
      <xsd:element name="formula" type="xsd:string" minOccurs="0" maxOccurs="1"/>
      <xsd:element name="entry" type="entry" minOccurs="0" maxOccurs="unbounded" />
    </xsd:sequence>
    <xsd:attribute name="name" type="xsd:string" use="required" />
  </xsd:complexType>

<!--
 Due to editor limitation the following actual correct version cannot be used.
 see bug #75 at http://sourceforge.net/p/openautomation/bugs/75/
 
  <xsd:complexType name="mapping">
    <xsd:choice>
      <xsd:element name="formula" type="xsd:string" minOccurs="0" maxOccurs="1"/>
      <xsd:element name="entry" type="entry" minOccurs="0" maxOccurs="unbounded" />
    </xsd:choice>
    <xsd:attribute name="name" type="xsd:string" use="required" />
  </xsd:complexType>
-->

  <xsd:complexType name="stylings">
    <xsd:choice minOccurs="0" maxOccurs="unbounded">
      <xsd:element name="styling" type="styling_entry" />
    </xsd:choice>
  </xsd:complexType>

  <xsd:complexType name="styling_entry">
    <xsd:choice minOccurs="0" maxOccurs="unbounded">
      <xsd:element name="entry" type="entry" minOccurs="1" />
    </xsd:choice>
    <xsd:attribute name="name" type="xsd:string" use="required" />
  </xsd:complexType>

  <xsd:complexType name="status">
    <xsd:simpleContent>
      <xsd:extension base="xsd:string">
        <xsd:attribute name="type" type="xsd:string" use="optional" />
        <xsd:attribute name="condition" type="xsd:string" use="optional" />
        <xsd:attribute name="hrefextend" type="xsd:string" use="optional" />
      </xsd:extension>
    </xsd:simpleContent>
  </xsd:complexType>

  <xsd:complexType name="statusbar">
    <xsd:choice minOccurs="0" maxOccurs="unbounded">
      <xsd:element name="status" type="status" minOccurs="1" />
    </xsd:choice>
  </xsd:complexType>

  <!-- define a page -->
  <xsd:complexType name="page">
    <xsd:sequence>
      <xsd:element name="layout" type="layout" minOccurs="0" maxOccurs="1"/>
      <xsd:choice minOccurs="0" maxOccurs="unbounded">
        <xsd:element name="page" type="page" />
        <xsd:element name="group" type="group" />
        <xsd:element name="navbar" type="navbar" />
        <xsd:group ref="Widgets"/>
        <xsd:group ref="AvailablePlugins"/>
      </xsd:choice>
    </xsd:sequence>
    <xsd:attribute name="name" type="xsd:string" use="required">
        <xsd:annotation>
            <xsd:documentation xml:lang="en">title of this page</xsd:documentation>
        </xsd:annotation>
    </xsd:attribute>
    <xsd:attribute ref="flavour" use="optional" />
    <xsd:attribute ref="align" use="optional" />
    <xsd:attribute name="ga" type="addr" use="optional">
        <xsd:annotation>
            <xsd:appinfo>level:expert</xsd:appinfo>
        </xsd:annotation>
    </xsd:attribute>
    <xsd:attribute name="visible" type="xsd:boolean" />
    <xsd:attribute name="type" use="optional">
      <xsd:annotation>
          <xsd:appinfo>level:expert</xsd:appinfo>
      </xsd:annotation>
      <xsd:simpleType>
        <xsd:restriction base="xsd:string">
          <xsd:enumeration value="text" />
          <xsd:enumeration value="2d" />
          <xsd:enumeration value="3d" />
        </xsd:restriction>
      </xsd:simpleType>
    </xsd:attribute>
    <xsd:attribute name="size" use="optional">
      <xsd:annotation>
          <xsd:appinfo>level:expert</xsd:appinfo>
      </xsd:annotation>
      <xsd:simpleType>
        <xsd:restriction base="xsd:string">
          <xsd:enumeration value="fixed" />
          <xsd:enumeration value="scaled" />
        </xsd:restriction>
      </xsd:simpleType>
    </xsd:attribute>
    <xsd:attribute name="backdrop" type="uri" use="optional">
        <xsd:annotation>
            <xsd:appinfo>level:expert</xsd:appinfo>
        </xsd:annotation>
    </xsd:attribute>
    <xsd:attribute name="showtopnavigation" type="xsd:boolean" use="optional" />
    <xsd:attribute name="showfooter" type="xsd:boolean" use="optional" />
    <xsd:attribute name="shownavbar-top" type="xsd:boolean" use="optional" />
    <xsd:attribute name="shownavbar-bottom" type="xsd:boolean" use="optional" />
    <xsd:attribute name="shownavbar-left" type="xsd:boolean" use="optional" />
    <xsd:attribute name="shownavbar-right" type="xsd:boolean" use="optional" />
    <xsd:attribute ref="bind_click_to_widget" use="optional"/>
  </xsd:complexType>

  <xsd:complexType name="group">
    <xsd:sequence>
      <xsd:element name="layout" type="layout" minOccurs="0" maxOccurs="1"/>
      <xsd:choice minOccurs="0" maxOccurs="unbounded">
        <xsd:element name="page" type="page" />
        <xsd:element name="group" type="group" />
        <xsd:group ref="Widgets"/>
        <xsd:group ref="AvailablePlugins"/>
      </xsd:choice>
    </xsd:sequence>
    <xsd:attribute name="name" type="xsd:string" use="optional" />
    <xsd:attribute name="nowidget" type="xsd:boolean" use="optional" />
    <xsd:attribute ref="flavour" use="optional" />
    <xsd:attribute name="pagejumptarget" type="xsd:string" use="optional">
        <xsd:annotation>
            <xsd:appinfo>level:expert</xsd:appinfo>
        </xsd:annotation>
    </xsd:attribute>
    <xsd:attribute ref="align" use="optional" />
    <xsd:attribute ref="class" use="optional" />
  </xsd:complexType>

  <xsd:complexType name="navbar">
    <xsd:choice minOccurs="0" maxOccurs="unbounded">
      <xsd:element name="page" type="page" />
      <xsd:element name="group" type="group" />
      <xsd:group ref="Widgets"/>
      <xsd:group ref="AvailablePlugins"/>
    </xsd:choice>
    <xsd:attribute name="name" type="xsd:string" use="optional" />
    <xsd:attribute name="position" type="navbarPositionType" use="required" />
    <xsd:attribute name="dynamic" type="xsd:boolean" use="optional" />
    <xsd:attribute name="width" type="xsd:string" use="optional" />
    <xsd:attribute name="scope" type="xsd:decimal" use="optional" />
  </xsd:complexType>

  <!-- if you add a new widget, you need to list it here -->

  <xsd:group name="Widgets">
    <xsd:choice>
      <!-- visual effects -->
      <xsd:element name="line" type="line" />
      <xsd:element name="break" type="break" />
      <!-- list all possbile widgets here -->
      <xsd:element name="text" type="text" />
      <xsd:element name="switch" type="switch" />
      <xsd:element name="toggle" type="toggle" />
      <xsd:element name="trigger" type="trigger" />
      <xsd:element name="urltrigger" type="urltrigger" />
      <xsd:element name="multitrigger" type="multitrigger" />
      <xsd:element name="infotrigger" type="infotrigger" />
      <xsd:element name="designtoggle" type="designtoggle" />
      <xsd:element name="slide" type="slide" />
      <xsd:element name="include" type="include" />
      <xsd:element name="info" type="info" />
      <xsd:element name="shade" type="info" />
      <xsd:element name="image" type="image" />
      <xsd:element name="imagetrigger" type="imagetrigger" />
      <xsd:element name="video" type="video" />
      <xsd:element name="web" type="web" />
      <xsd:element name="rgb" type="rgb" />
      <xsd:element name="pagejump" type="pagejump" />
      <xsd:element name="wgplugin_info" type="wgplugin_info"/>
    </xsd:choice>
  </xsd:group>

  <!-- more fun part - all widgets - if you add a new widget, you need to define it here -->

  <xsd:complexType name="text">
    <xsd:sequence>
      <xsd:element name="layout" type="layout" minOccurs="0" maxOccurs="1"/>
      <xsd:element name="label" type="label" minOccurs="1" maxOccurs="1"/>
    </xsd:sequence>
    <xsd:attribute ref="align" use="optional" />
    <xsd:attribute ref="flavour" use="optional" />
  </xsd:complexType>

  <xsd:complexType name="designtoggle">
    <xsd:simpleContent>
      <xsd:extension base="xsd:string" />
    </xsd:simpleContent>
  </xsd:complexType>

  <xsd:complexType name="label" mixed="true">
    <xsd:choice maxOccurs="unbounded" minOccurs="0">
      <xsd:element name="icon" type="icon" />
    </xsd:choice>
  </xsd:complexType>

  <xsd:complexType name="switch">
    <xsd:sequence>
      <xsd:element name="layout" type="layout" minOccurs="0" maxOccurs="1"/>
      <xsd:element name="label" type="label" minOccurs="0" maxOccurs="1"/>
      <xsd:element name="address" type="address" minOccurs="1" maxOccurs="unbounded"/>
    </xsd:sequence>
    <xsd:attribute ref="styling" use="optional" />
    <xsd:attribute ref="mapping" use="optional" />
    <xsd:attribute name="on_value" type="xsd:string" use="optional" />
    <xsd:attribute name="off_value" type="xsd:string" use="optional" />
    <xsd:attribute ref="align" use="optional" />
    <xsd:attribute ref="flavour" use="optional" />
    <xsd:attribute ref="bind_click_to_widget" use="optional"/>
  </xsd:complexType>

  <xsd:complexType name="trigger">
    <xsd:sequence>
      <xsd:element name="layout" type="layout" minOccurs="0" maxOccurs="1"/>
      <xsd:element name="label" type="label" minOccurs="0" maxOccurs="1"/>
      <xsd:element name="address" type="address" minOccurs="0" maxOccurs="unbounded"/>
    </xsd:sequence>
    <xsd:attribute ref="value" use="required" />
    <xsd:attribute name="shortvalue" type="xsd:string" use="optional" />
    <xsd:attribute name="shorttime" type="xsd:decimal" use="optional">
      <xsd:annotation>
        <xsd:documentation xml:lang="en">Time in milliseconds that is accepted as shorttime.</xsd:documentation>
        <xsd:documentation xml:lang="de">Zeit in Millisekunden innerhalb der der Tastendruck als Kurzzeit interpretiert wird.</xsd:documentation>
      </xsd:annotation>
    </xsd:attribute>
    <xsd:attribute ref="mapping" use="optional" />
    <xsd:attribute ref="styling" use="optional" />
    <xsd:attribute ref="align" use="optional" />
    <xsd:attribute ref="flavour" use="optional" />
    <xsd:attribute ref="bind_click_to_widget" use="optional"/>
  </xsd:complexType>

  <xsd:complexType name="urltrigger">
    <xsd:sequence>
      <xsd:element name="layout" type="layout" minOccurs="0" maxOccurs="1"/>
      <xsd:element name="label" type="label" minOccurs="0" maxOccurs="1"/>
    </xsd:sequence>
    <xsd:attribute ref="value" use="optional" />
    <xsd:attribute ref="mapping" use="optional" />
    <xsd:attribute ref="styling" use="optional" />
    <xsd:attribute ref="align" use="optional" />
    <xsd:attribute name="url" type="uri" use="required" />
    <xsd:attribute name="params" type="xsd:string" use="optional" />
    <xsd:attribute ref="flavour" use="optional" />
    <xsd:attribute ref="bind_click_to_widget" use="optional"/>
  </xsd:complexType>

  <xsd:complexType name="infotrigger">
    <xsd:sequence>
      <xsd:element name="layout" type="layout" minOccurs="0" maxOccurs="1"/>
      <xsd:element name="label" type="label" minOccurs="0" maxOccurs="1"/>
      <xsd:element name="address" type="address" minOccurs="1" maxOccurs="unbounded"/>
    </xsd:sequence>
    <xsd:attribute name="upvalue" type="xsd:string" use="optional" />
    <xsd:attribute name="shortupvalue" type="xsd:string" use="optional" />
    <xsd:attribute name="downvalue" type="xsd:string" use="optional" />
    <xsd:attribute name="shortdownvalue" type="xsd:string" use="optional" />
    <xsd:attribute name="uplabel" type="xsd:string" use="optional" />
    <xsd:attribute name="downlabel" type="xsd:string" use="optional" />
    <xsd:attribute name="shorttime" type="xsd:decimal" use="optional">
      <xsd:annotation>
        <xsd:documentation xml:lang="en">Time in milliseconds that is accepted as shorttime.</xsd:documentation>
        <xsd:documentation xml:lang="de">Zeit in Millisekunden innerhalb der der Tastendruck als Kurzzeit interpretiert wird.</xsd:documentation>
      </xsd:annotation>
    </xsd:attribute>
    <xsd:attribute name="change" type="xsd:string" use="optional">
      <xsd:annotation>
        <xsd:documentation xml:lang="en">Might be 'absolute' or 'relative'.</xsd:documentation>
      </xsd:annotation>
    </xsd:attribute>
    <xsd:attribute ref="min" />
    <xsd:attribute ref="max" />
    <xsd:attribute ref="mapping" use="optional" />
    <xsd:attribute ref="styling" use="optional" />
    <xsd:attribute ref="align" use="optional" />
    <xsd:attribute ref="format" use="optional" />
    <xsd:attribute name="infoposition" type="xsd:decimal" use="optional">
        <xsd:annotation>
            <xsd:appinfo>level:expert</xsd:appinfo>
        </xsd:annotation>
    </xsd:attribute>
    <xsd:attribute ref="flavour" use="optional" />
  </xsd:complexType>
  
  <xsd:complexType name="rgb">
    <xsd:sequence>
      <xsd:element name="layout" type="layout" minOccurs="0" maxOccurs="1"/>
      <xsd:element name="label" type="label" minOccurs="0" maxOccurs="1"/>
      <xsd:element name="address" type="address" minOccurs="3" maxOccurs="unbounded"/>
    </xsd:sequence>
    <xsd:attribute ref="flavour" use="optional" />
  </xsd:complexType>

  <xsd:complexType name="multitrigger">
    <xsd:sequence>
      <xsd:element name="layout" type="layout" minOccurs="0" maxOccurs="1"/>
      <xsd:element name="label" type="label" minOccurs="0" maxOccurs="1"/>
      <xsd:element name="address" type="address" minOccurs="1" maxOccurs="unbounded"/>
    </xsd:sequence>
    <xsd:attribute ref="mapping" use="optional" />
    <xsd:attribute ref="styling" use="optional" />
    <xsd:attribute name="showstatus" type="xsd:string" use="optional" />
    <xsd:attribute name="button1label" type="xsd:string" use="optional" />
    <xsd:attribute name="button1value" type="xsd:string" use="optional" />
    <xsd:attribute name="button2label" type="xsd:string" use="optional" />
    <xsd:attribute name="button2value" type="xsd:string" use="optional" />
    <xsd:attribute name="button3label" type="xsd:string" use="optional" />
    <xsd:attribute name="button3value" type="xsd:string" use="optional" />
    <xsd:attribute name="button4label" type="xsd:string" use="optional" />
    <xsd:attribute name="button4value" type="xsd:string" use="optional" />
    <xsd:attribute ref="flavour" use="optional" />
  </xsd:complexType>

  <xsd:complexType name="slide">
    <xsd:sequence>
      <xsd:element name="layout" type="layout" minOccurs="0" maxOccurs="1"/>
      <xsd:element name="label" type="label" minOccurs="0" maxOccurs="1"/>
      <xsd:element name="address" type="address" minOccurs="1" maxOccurs="unbounded"/>
    </xsd:sequence>
    <xsd:attribute ref="min" />
    <xsd:attribute ref="max" />
    <xsd:attribute ref="step" />
    <xsd:attribute ref="mapping" use="optional" />
    <xsd:attribute ref="styling" use="optional" />
    <xsd:attribute ref="format" use="optional" />
    <xsd:attribute ref="flavour" use="optional" />
  </xsd:complexType>

  <xsd:complexType name="include">
    <xsd:attribute name="src" type="uri" use="required" />
  </xsd:complexType>
  
  <xsd:complexType name="info">
    <xsd:sequence>
      <xsd:element name="layout" type="layout" minOccurs="0" maxOccurs="1"/>
      <xsd:element name="label" type="label" minOccurs="0" maxOccurs="1"/>
      <xsd:element name="address" type="address" minOccurs="1" maxOccurs="unbounded"/>
    </xsd:sequence>
    <xsd:attribute ref="format" use="optional" />
    <xsd:attribute ref="styling" use="optional" />
    <xsd:attribute ref="mapping" use="optional" />
    <xsd:attribute ref="align" use="optional" />
    <xsd:attribute ref="flavour" use="optional" />
    <xsd:attribute ref="class" use="optional" />
  </xsd:complexType>

  <xsd:complexType name="wgplugin_info">
    <xsd:sequence>
      <xsd:element name="layout" type="layout" minOccurs="0" maxOccurs="1"/>
      <xsd:element name="label" type="label" minOccurs="0" maxOccurs="1"/>
      <xsd:element name="address" type="address" minOccurs="1" maxOccurs="unbounded"/>
    </xsd:sequence>
    <xsd:attribute name="variable" type="xsd:string" />
    <xsd:attribute ref="format" use="optional" />
    <xsd:attribute ref="styling" use="optional" />
    <xsd:attribute ref="mapping" use="optional" />
    <xsd:attribute ref="align" use="optional" />
    <xsd:attribute ref="flavour" use="optional" />
  </xsd:complexType>

  <xsd:complexType name="image">
    <xsd:sequence>
      <xsd:element name="layout" type="layout" minOccurs="0" maxOccurs="1"/>
      <xsd:element name="label" type="label" minOccurs="0" maxOccurs="1"/>
    </xsd:sequence>
    <xsd:attribute name="src" type="uri" use="required" />
    <xsd:attribute name="width" type="dimension" />
    <xsd:attribute name="height" type="dimension" />
    <xsd:attribute name="refresh" type="xsd:decimal" />
    <xsd:attribute ref="flavour" use="optional" />
  </xsd:complexType>

  <xsd:complexType name="imagetrigger">
    <xsd:sequence>
      <xsd:element name="layout" type="layout" minOccurs="0" maxOccurs="1"/>
      <xsd:element name="label" type="label" minOccurs="0" maxOccurs="1"/>
      <xsd:element name="address" type="address" minOccurs="1" maxOccurs="unbounded"/>
    </xsd:sequence>
    <xsd:attribute name="src" type="uri" />
    <xsd:attribute name="suffix" type="xsd:string" use="required" />
    <xsd:attribute name="type" type="xsd:string" use="optional" />
    <xsd:attribute name="width" type="dimension" />
    <xsd:attribute name="height" type="dimension" />
    <xsd:attribute name="refresh" type="xsd:decimal" />
    <xsd:attribute ref="mapping" use="optional" />
    <xsd:attribute name="sendValue" type="xsd:string" use="optional" />
    <xsd:attribute ref="flavour" use="optional" />
    <xsd:attribute ref="bind_click_to_widget" use="optional"/>
  </xsd:complexType>

  <xsd:complexType name="video">
    <xsd:sequence>
      <xsd:element name="layout" type="layout" minOccurs="0" maxOccurs="1"/>
      <xsd:element name="label" type="label" minOccurs="0" maxOccurs="1"/>
    </xsd:sequence>
    <xsd:attribute name="src" type="uri" use="required" />
    <xsd:attribute name="width" type="dimension" />
    <xsd:attribute name="height" type="dimension" />
    <xsd:attribute name="autoplay" type="xsd:string" />
    <xsd:attribute ref="flavour" use="optional" />
  </xsd:complexType>

  <xsd:complexType name="web">
    <xsd:sequence>
      <xsd:element name="layout" type="layout" minOccurs="0" maxOccurs="1"/>
      <xsd:element name="label" type="label" minOccurs="0" maxOccurs="1"/>
    </xsd:sequence>
    <xsd:attribute name="src" type="uri" use="required" />
    <xsd:attribute name="width" type="dimension" />
    <xsd:attribute name="height" type="dimension" />
    <xsd:attribute name="frameborder" type="xsd:string" />
    <xsd:attribute name="background" type="xsd:string" />
    <xsd:attribute name="refresh" type="xsd:decimal" />
    <xsd:attribute name="scrolling" use="optional">
      <xsd:simpleType>
        <xsd:restriction base="xsd:string">
          <xsd:enumeration value="yes" />
          <xsd:enumeration value="no" />
          <xsd:enumeration value="auto" />
        </xsd:restriction>
      </xsd:simpleType>
    </xsd:attribute>
    <xsd:attribute name="ga" type="addr" use="optional">
        <xsd:annotation>
            <xsd:appinfo>level:expert</xsd:appinfo>
        </xsd:annotation>
    </xsd:attribute>
    <xsd:attribute ref="flavour" use="optional" />
  </xsd:complexType>

  <xsd:complexType name="pagejump">
    <xsd:sequence>
      <xsd:element name="layout" type="layout" minOccurs="0" maxOccurs="1"/>
      <xsd:element name="label" type="label" minOccurs="0" maxOccurs="1"/>
    </xsd:sequence>
    <xsd:attribute name="name" type="xsd:string" />
    <xsd:attribute name="target" type="xsd:string" />
    <xsd:attribute ref="align" use="optional" />
    <xsd:attribute ref="flavour" use="optional" />
    <xsd:attribute ref="bind_click_to_widget" use="optional"/>
  </xsd:complexType>

  <xsd:complexType name="clock">
    <xsd:sequence>
      <xsd:element name="layout" type="layout" minOccurs="0" maxOccurs="1"/>
      <xsd:element name="label" type="label" minOccurs="0" maxOccurs="1"/>
      <xsd:element name="address" type="address" minOccurs="1" maxOccurs="unbounded"/>
    </xsd:sequence>
  </xsd:complexType>
  
  <xsd:complexType name="colorchooser">
    <xsd:sequence>
      <xsd:element name="layout" type="layout" minOccurs="0" maxOccurs="1"/>
      <xsd:element name="label" type="label" minOccurs="0" maxOccurs="1"/>
      <xsd:element name="address" type="address" minOccurs="3" maxOccurs="unbounded"/>
    </xsd:sequence>
  </xsd:complexType>

  <xsd:complexType name="diagram">
    <xsd:sequence>
      <xsd:element name="layout" type="layout" minOccurs="0" maxOccurs="1"/>
      <xsd:element name="label" type="label" minOccurs="0" maxOccurs="1"/>
      <xsd:element name="axis" type="axis" minOccurs="0" maxOccurs="unbounded"/>
      <xsd:element name="rrd" type="rrd" minOccurs="0" maxOccurs="unbounded"/>
    </xsd:sequence>
    <xsd:attribute name="width" type="dimension" use="optional" />
    <xsd:attribute ref="series" use="optional" />
    <xsd:attribute name="height" type="dimension" use="optional" />
    <xsd:attribute name="refresh" type="xsd:integer" use="optional" />
    <xsd:attribute name="period" type="xsd:string" use="optional" />
    <xsd:attribute ref="datasource" use="optional" />
    <xsd:attribute name="gridcolor" type="xsd:string" use="optional" />
    <xsd:attribute ref="legend" use="optional" />
    <xsd:attribute ref="legendposition" use="optional" />
    <xsd:attribute name="popup" type="xsd:boolean" use="optional" />
    <xsd:attribute name="previewlabels" type="xsd:boolean" use="optional" />
    <xsd:attribute name="title" type="xsd:string" use="optional" />
    <xsd:attribute name="tooltip" type="xsd:boolean" use="optional" />
  </xsd:complexType>
  
  <xsd:complexType name="diagram_info">
    <xsd:sequence>
      <xsd:element name="layout" type="layout" minOccurs="0" maxOccurs="1"/>
      <xsd:element name="label" type="label" minOccurs="0" maxOccurs="1"/>
      <xsd:element name="axis" type="axis" minOccurs="0" maxOccurs="unbounded"/>
      <xsd:element name="rrd" type="rrd" minOccurs="0" maxOccurs="unbounded"/>
      <xsd:element name="address" type="address" minOccurs="1" maxOccurs="unbounded"/>
    </xsd:sequence>
    <xsd:attribute ref="format" use="optional" />
    <xsd:attribute ref="styling" use="optional" />
    <xsd:attribute ref="mapping" use="optional" />
    <xsd:attribute ref="series" use="optional" />
    <xsd:attribute name="refresh" type="xsd:integer" use="optional" />
    <xsd:attribute name="period" type="xsd:string" use="optional" />
    <xsd:attribute ref="datasource" use="optional" />
    <xsd:attribute name="tooltip" type="xsd:boolean" use="optional" />
    <xsd:attribute name="gridcolor" type="xsd:string" use="optional" />
    <xsd:attribute ref="legend" use="optional" />
    <xsd:attribute ref="legendposition" use="optional" />
    <xsd:attribute name="title" type="xsd:string" use="optional" />
    <xsd:attribute ref="align" use="optional" />
    <xsd:attribute ref="bind_click_to_widget" use="optional"/>
  </xsd:complexType>

  <xsd:complexType name="rss">
    <xsd:sequence>
      <xsd:element name="layout" type="layout" minOccurs="0" maxOccurs="1"/>
      <xsd:element name="label" type="label" minOccurs="0" maxOccurs="1"/>
    </xsd:sequence>
    <xsd:attribute name="src" type="xsd:string" use="required" />
    <xsd:attribute name="width" type="dimension" use="optional" />
    <xsd:attribute name="height" type="dimension" use="optional" />
    <xsd:attribute name="refresh" type="xsd:integer" use="optional" />
    <xsd:attribute name="limit" type="xsd:integer" use="optional" />
    <xsd:attribute name="header" type="xsd:boolean" use="required" />
    <xsd:attribute name="date" type="xsd:boolean" use="optional" />
    <xsd:attribute name="content" type="xsd:boolean" use="optional" />
    <xsd:attribute name="snippet" type="xsd:boolean" use="optional" />
    <xsd:attribute name="showerror" type="xsd:boolean" use="optional" />
    <xsd:attribute name="ssl" type="xsd:boolean" use="optional" />
    <xsd:attribute ref="linktarget" use="optional" />
    <xsd:attribute name="link" type="xsd:boolean" use="optional" />
    <xsd:attribute name="title" type="xsd:boolean" use="optional" />
  </xsd:complexType>

  <xsd:complexType name="rsslog">
    <xsd:sequence>
      <xsd:element name="layout" type="layout" minOccurs="0" maxOccurs="1"/>
      <xsd:element name="label" type="label" minOccurs="0" maxOccurs="1"/>
    </xsd:sequence>
    <xsd:attribute name="src" type="xsd:string" use="required" />
    <xsd:attribute name="refresh" type="xsd:integer" use="optional" />
    <xsd:attribute name="limit" type="xsd:integer" use="optional" />
    <xsd:attribute name="mode" type="rss_mode" use="optional" />
    <xsd:attribute name="datetime" type="xsd:boolean" use="optional" />
    <xsd:attribute name="timeformat" type="xsd:string" use="optional" />
    <xsd:attribute name="filter" type="xsd:string" use="optional" />
  </xsd:complexType>

  <xsd:complexType name="strftime">
    <xsd:sequence>
      <xsd:element name="layout" type="layout" minOccurs="0" maxOccurs="1"/>
    </xsd:sequence>
    <xsd:attribute name="lang" use="optional">
      <xsd:simpleType>
        <xsd:restriction base="xsd:string">
          <xsd:enumeration value="en" />
          <xsd:enumeration value="de" />
          <xsd:enumeration value="fr" />
        </xsd:restriction>
      </xsd:simpleType>
    </xsd:attribute>
    <xsd:attribute name="format" type="xsd:string" use="optional" />
    <xsd:attribute ref="class" use="optional" />
  </xsd:complexType>

  <xsd:complexType name="upnpcontroller">
    <xsd:attribute name="label" type="xsd:string" use="required" />
    <xsd:attribute name="player_ip_addr" type="xsd:string" use="required" />
    <xsd:attribute name="player_port" type="xsd:string" use="optional" />
    <xsd:attribute name="refresh" type="xsd:string" use="required" />
    <xsd:attribute name="debug" type="xsd:boolean" use="optional" />
  </xsd:complexType>

  <xsd:complexType name="timeout">
    <xsd:attribute name="time" type="xsd:string" use="optional" />
    <xsd:attribute name="target" type="xsd:string" use="required" />
    <xsd:attribute name="debug" type="xsd:boolean" use="optional" />
  </xsd:complexType>

  <xsd:complexType name="break" />

  <xsd:complexType name="line" />

  <xsd:complexType name="toggle">  
     <xsd:sequence>
       <xsd:element name="layout" type="layout" minOccurs="0" maxOccurs="1" />  
       <xsd:element name="label" type="label" minOccurs="0" maxOccurs="1" />       
       <xsd:element name="address" type="address" minOccurs="1"  maxOccurs="unbounded"/>   
     </xsd:sequence>   
     <xsd:attribute ref="styling" use="optional" />  
     <xsd:attribute ref="mapping" />  
     <xsd:attribute ref="align" use="optional" />  
     <xsd:attribute ref="flavour" use="optional" />  
   </xsd:complexType>

  <xsd:complexType name="axis">
    <xsd:simpleContent>
      <xsd:extension base="xsd:string">
        <xsd:attribute name="label" type="xsd:string" />
        <xsd:attribute name="min" type="xsd:decimal" />
        <xsd:attribute name="max" type="xsd:decimal" />
        <xsd:attribute name="position" type="xsd:string" />
        <xsd:attribute name="unit" type="xsd:string" use="optional" />
      </xsd:extension>
    </xsd:simpleContent>
  </xsd:complexType>

  <xsd:complexType name="rrd">
    <xsd:simpleContent>
      <xsd:extension base="xsd:string">
        <xsd:attribute name="yaxis" type="xsd:string" />
        <xsd:attribute name="color" type="xsd:string" />
        <xsd:attribute name="label" type="xsd:string" />
        <xsd:attribute name="scaling" type="xsd:decimal" />
        <xsd:attribute name="steps" type="xsd:boolean" />
        <xsd:attribute name="fill" type="xsd:boolean" />
      </xsd:extension>
    </xsd:simpleContent>
  </xsd:complexType>
</xsd:schema>
