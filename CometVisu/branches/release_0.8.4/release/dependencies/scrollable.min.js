(function(e){function t(t,n){var r=e(n);return r.length<2?r:t.parent().find(n)}function n(n,i){var s=this,o=n.add(s),u=n.children(),a=0,f=i.vertical;r||(r=s),u.length>1&&(u=e(i.items,n)),e.extend(s,{getConf:function(){return i},getIndex:function(){return a},getSize:function(){return s.getItems().size()},getNaviButtons:function(){return h.add(d)},getRoot:function(){return n},getItemWrap:function(){return u},getItems:function(){return u.children(i.item).not("."+i.clonedClass)},move:function(e,t){return s.seekTo(a+e,t)},next:function(e){return s.move(1,e)},prev:function(e){return s.move(-1,e)},begin:function(e){return s.seekTo(0,e)},end:function(e){return s.seekTo(s.getSize()-1,e)},focus:function(){return r=s},addItem:function(t){return t=e(t),i.circular?(u.children("."+i.clonedClass+":last").before(t),u.children("."+i.clonedClass+":first").replaceWith(t.clone().addClass(i.clonedClass))):u.append(t),o.trigger("onAddItem",[t]),s},seekTo:function(t,n,l){t.jquery||(t*=1);if(i.circular&&t===0&&a==-1&&n!==0)return s;if(!i.circular&&t<0||t>s.getSize()||t<-1)return s;var c=t;t.jquery?t=s.getItems().index(t):c=s.getItems().eq(t);var h=e.Event("onBeforeSeek");if(!l){o.trigger(h,[t,n]);if(h.isDefaultPrevented()||!c.length)return s}return c=f?{top:-c.position().top}:{left:-c.position().left},a=t,r=s,n===undefined&&(n=i.speed),u.animate(c,n,i.easing,l||function(){o.trigger("onSeek",[t])}),s}}),e.each(["onBeforeSeek","onSeek","onAddItem"],function(t,n){e.isFunction(i[n])&&e(s).bind(n,i[n]),s[n]=function(t){return t&&e(s).bind(n,t),s}});if(i.circular){var l=s.getItems().slice(-1).clone().prependTo(u),c=s.getItems().eq(1).clone().appendTo(u);l.add(c).addClass(i.clonedClass),s.onBeforeSeek(function(e,t,n){if(!e.isDefaultPrevented()){if(t==-1)return s.seekTo(l,n,function(){s.end(0)}),e.preventDefault();t==s.getSize()&&s.seekTo(c,n,function(){s.begin(0)})}}),s.seekTo(0,0,function(){})}var h=t(n,i.prev).click(function(){s.prev()}),d=t(n,i.next).click(function(){s.next()});!i.circular&&s.getSize()>1&&(s.onBeforeSeek(function(e,t){setTimeout(function(){e.isDefaultPrevented()||(h.toggleClass(i.disabledClass,t<=0),d.toggleClass(i.disabledClass,t>=s.getSize()-1))},1)}),i.initialIndex||h.addClass(i.disabledClass)),i.mousewheel&&e.fn.mousewheel&&n.mousewheel(function(e,t){if(i.mousewheel)return s.move(t<0?1:-1,i.wheelSpeed||50),!1});if(i.touch){var v={};u[0].ontouchstart=function(e){e=e.touches[0],v.x=e.clientX,v.y=e.clientY},u[0].ontouchmove=function(e){if(e.touches.length==1&&!u.is(":animated")){var t=e.touches[0],n=v.x-t.clientX;t=v.y-t.clientY,s[f&&t>0||!f&&n>0?"next":"prev"](),e.preventDefault()}}}i.keyboard&&e(document).bind("keydown.scrollable",function(t){if(!(!i.keyboard||t.altKey||t.ctrlKey||e(t.target).is(":input")))if(i.keyboard=="static"||r==s){var n=t.keyCode;if(!(!f||n!=38&&n!=40))return s.move(n==38?-1:1),t.preventDefault();if(!f&&(n==37||n==39))return s.move(n==37?-1:1),t.preventDefault()}}),i.initialIndex&&s.seekTo(i.initialIndex,0,function(){})}e.tools=e.tools||{version:"1.2.5"},e.tools.scrollable={conf:{activeClass:"active",circular:!1,clonedClass:"cloned",disabledClass:"disabled",easing:"swing",initialIndex:0,item:null,items:".items",keyboard:!0,mousewheel:!1,next:".next",prev:".prev",speed:400,vertical:!1,touch:!0,wheelSpeed:0}};var r;e.fn.scrollable=function(t){var r=this.data("scrollable");return r?r:(t=e.extend({},e.tools.scrollable.conf,t),this.each(function(){r=new n(e(this),t),e(this).data("scrollable",r)}),t.api?r:this)}})(jQuery);