<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<pages xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" lib_version="8" design="metal" xsi:noNamespaceSchemaLocation="../visu_config.xsd" scroll_speed="0" bind_click_to_widget="true">
  <meta>
    <files>
      <file type="css">resource/demo/media/testmode.css</file>
      <file type="js">resource/demo/media/testmode.js</file>
    </files>
    <plugins>
      <plugin name="colorchooser"/>
    </plugins>
    <mappings>
      <mapping name="OpenClose">
        <entry value="0">
          <icon color="red" name="fts_window_1w_open"/>
        </entry>
        <entry value="1">
          <icon name="fts_window_1w"/>
        </entry>
      </mapping>
      <mapping name="DoorOpenClose">
        <entry value="0">
          <icon name="fts_door_open"/>
        </entry>
        <entry value="1">
          <icon name="fts_door"/>
        </entry>
      </mapping>
      <mapping name="OnOff">
        <entry default="true" value="0">O</entry>
        <entry value="1">I</entry>
      </mapping>
      <mapping name="OnOff_Licht">
        <entry value="0">
          <icon name="light_light" color="white"/>
        </entry>
        <entry value="1">
          <icon name="light_light" color="orange"/>
        </entry>
      </mapping>
      <mapping name="AudioMute">
        <entry value="0">
          <icon name="audio_mute"/>
        </entry>
        <entry value="1">
          <icon name="audio_audio"/>
        </entry>
      </mapping>
    </mappings>
    <stylings>
      <styling name="GreyGreen">
        <entry value="0">grey</entry>
        <entry value="1">green</entry>
      </styling>
      <styling name="RedGreen">
        <entry value="0">red</entry>
        <entry value="1">green</entry>
      </styling>
      <styling name="GreyGrey">
        <entry value="0">grey</entry>
        <entry value="1">grey</entry>
      </styling>
      <styling name="BluePurpleRedTemp">
        <entry range_min="0" range_max="18">blue</entry>
        <entry range_min="18" range_max="21">purple</entry>
        <entry range_min="21" range_max="100">red</entry>
      </styling>
    </stylings>
    <statusbar>
      <status type="html"><![CDATA[
      <div style="display: flex; flex-direction: row; flex-wrap: nowrap; justify-content: space-between; align-items: center;">
          <div style="flex: auto"><a href="https://www.cometvisu.org/"><img src="resource/icon/comet_64_ff8000.png" alt="CometVisu" /></a></div>
]]></status>
      <status type="html" condition="testMode"><![CDATA[
      <div style="flex: auto;"><span style="color: #FF8000;">Bitte beachten: Im Testmodus steht nicht die volle Funktionalität der CometVisu zur Verfügung!</span></div>
]]></status>
      <status type="html"><![CDATA[
      <div style="padding-right:0.5em">Version: Git</div>
      </div>
]]></status>
    </statusbar>
    <templates>
      <template name="Heizung">
        <group name="Heizung">
          <slide min="0" max="100" format="%d%%" flavour="sodium">
            <label><icon name="sani_heating"/>Heizung</label>
            <address transform="DPT:5.001" variant="">{{ valve_control_address }}</address>
          </slide>
          <info format="%.1f °C">
            <label><icon name="temp_temperature"/>Ist</label>
            <address transform="DPT:9.001" variant="">{{ current_temp_address }}</address>
          </info>
          <infotrigger uplabel="+" upvalue="0.5" downlabel="-" downvalue="-0.5" styling="BluePurpleRedTemp" align="center" infoposition="middle" format="%.1f °C" change="absolute" min="15" max="25">
            <label><icon name="temp_control"/>Soll</label>
            <address transform="DPT:9.001" variant="">{{ target_temp_address }}</address>
          </infotrigger>
        </group>
      </template>
    </templates>
  </meta>
  <page name="Übersicht" flavour="transparent-background" showtopnavigation="false" type="2d" backdrop="demo/media/demo_flat_floorplan.png" align="center" size="contained" backdropalign="25% 0">
    <navbar position="top">
      <pagejump target="Übersicht">
        <layout colspan="0"/>
        <label><icon name="control_home"/>Übersicht</label>
      </pagejump>
      <text class="vertical">
        <layout colspan="0"/>
        <label>EG</label>
      </text>
      <pagejump target="Wohnzimmer">
        <layout colspan="0"/>
        <label><icon name="it_television"/>Wohnen</label>
        <widgetinfo>
          <info format="%d">
          <layout colspan="0" />
            <address transform="DPT:9.001" variant="">13/1/28</address>
          </info>
        </widgetinfo>
      </pagejump>
      <pagejump target="Schlafzimmer">
        <layout colspan="0"/>
        <label><icon name="scene_sleeping"/>Schlafen</label>
        <widgetinfo>
          <info format="%d">
            <layout colspan="0" />
            <address transform="DPT:9.001" variant="">13/1/28</address>
          </info>
        </widgetinfo>
      </pagejump>
      <pagejump target="Bad">
        <layout colspan="0"/>
        <label><icon name="temp_temperature"/>Bad</label>
        <widgetinfo>
          <info format="%d">
            <layout colspan="0" />
            <address transform="DPT:9.001" variant="">13/1/28</address>
          </info>
        </widgetinfo>
      </pagejump>
      <text class="vertical">
        <layout colspan="0"/>
        <label>1. Stock</label>
      </text>
      <pagejump path="Übersicht/OG" target="Büro" active_scope="path">
        <layout colspan="0"/>
        <label><icon name="it_television"/>Büro</label>
        <widgetinfo>
          <info format="%d">
            <layout colspan="0" />
            <address transform="DPT:9.001" variant="">13/1/28</address>
          </info>
        </widgetinfo>
      </pagejump>
      <pagejump path="Übersicht/OG" target="Kinderzimmer" active_scope="path">
        <layout colspan="0"/>
        <label><icon name="scene_sleeping"/>Kinder</label>
        <widgetinfo>
          <info format="%d">
            <layout colspan="0" />
            <address transform="DPT:9.001" variant="">13/1/28</address>
          </info>
        </widgetinfo>
      </pagejump>
      <pagejump path="Übersicht/Flur" target="Flur" active_scope="path">
        <layout colspan="0"/>
        <label><icon name="temp_temperature"/>Flur</label>
        <widgetinfo>
          <info format="%d">
            <layout colspan="0" />
            <address transform="DPT:9.001" variant="">13/1/28</address>
          </info>
        </widgetinfo>
      </pagejump>
      <text class="vertical">
        <layout colspan="0"/>
        <label>Sonstiges</label>
      </text>
      <pagejump target="Audio">
        <layout colspan="0"/>
        <label><icon name="audio_audio"/>Audio</label>
      </pagejump>
      <refresh value="Refresh">
        <layout colspan="0"/>
      	<label><icon name="audio_repeat"/></label>
      </refresh>
    </navbar>
    <navbar position="right">
      <info>
        <label>Modus</label>
        <address transform="DPT:16.001" variant="">12/1/3</address>
      </info>
      <info>
        <label>Präsenz</label>
        <address transform="DPT:16.001" variant="">12/1/0</address>
      </info>
      <switch mapping="OnOff" styling="GreyGreen">
        <label>Follow me</label>
        <address transform="DPT:1.001" variant="">12/1/6</address>
      </switch>
      <switch mapping="OnOff" styling="GreyGreen">
        <layout colspan="3"/>
        <label>Abwesend</label>
        <address transform="DPT:1.001" variant="">12/1/2</address>
      </switch>
      <switch mapping="OnOff" styling="GreyGreen">
        <layout colspan="3"/>
        <label>Wecker</label>
        <address transform="DPT:1.001" variant="">12/1/8</address>
      </switch>
    </navbar>
    <info mapping="OpenClose" styling="RedGreen" class="bubble">
      <layout x="554px" y="8px"/>
      <address transform="DPT:1.001">12/7/10</address>
    </info>
    <info mapping="OpenClose" class="bubble">
      <layout x="300px" y="0px"/>
      <address transform="DPT:1.001">12/7/11</address>
    </info>
    <info mapping="OpenClose" class="bubble">
      <layout x="100px" y="270px"/>
      <address transform="DPT:1.001">12/7/12</address>
    </info>
    <info mapping="OpenClose" class="bubble">
      <layout x="120px" y="880px"/>
      <address transform="DPT:1.001">12/7/20</address>
    </info>
    <info mapping="OpenClose" class="bubble">
      <layout x="460px" y="910px"/>
      <address transform="DPT:1.001">12/7/30</address>
    </info>
    <info format="%f°" class="text-2d embedded">
      <layout x="440px" y="500px"/>
      <address transform="DPT:5.010">12/7/40</address>
    </info>
    <info format="%d°" class="text-2d embedded">
      <layout x="260px" y="280px"/>
      <address transform="DPT:5.010">12/7/40</address>
    </info>
    <info format="%d°" class="text-2d embedded">
      <layout x="220px" y="500px"/>
      <address transform="DPT:5.010">12/7/41</address>
    </info>
    <info format="%d°" class="text-2d embedded">
      <layout x="440px" y="680px"/>
      <address transform="DPT:5.010">12/7/42</address>
    </info>
    <switch class="bubble embedded" mapping="OnOff_Licht" styling="GreyGreen">
      <layout x="190px" y="670px"/>
      <address transform="DPT:1.001">12/7/50</address>
    </switch>

    <switch class="bubble embedded" mapping="OnOff_Licht" styling="GreyGreen">
      <layout x="270px" y="160px"/>
      <address transform="DPT:1.001">12/7/51</address>
    </switch>

    <switch class="bubble embedded" mapping="OnOff_Licht" styling="GreyGreen">
      <layout x="480px" y="750px"/>
      <address transform="DPT:1.001">12/7/50</address>
    </switch>

    <page name="Erdgeschoss" shownavbar-left="true" visible="false">
      <navbar position="left" dynamic="true" width="200px">
        <group name="Räume">
          <pagejump target="Wohnzimmer" name="Wohnen">
            <label>
              <icon name="it_television"/>
            </label>
          </pagejump>
          <pagejump target="Schlafzimmer" name="Schlafen">
            <label>
              <icon name="scene_sleeping"/>
            </label>
            <widgetinfo>
              <info format="%d">
              <layout colspan="0" />
                <address transform="DPT:9.001" variant="">13/1/28</address>
              </info>
            </widgetinfo>
          </pagejump>
        </group>
        <group name="Sonstiges">
          <pagejump target="Bad" name="Bad">
            <label>
              <icon name="temp_temperature"/>
            </label>
          </pagejump>
        </group>
      </navbar>
      <page name="Wohnzimmer">
        <layout colspan="3"/>
        <group name="Licht">
          <layout colspan="12"/>
          <group nowidget="true" flavour="lithium">
            <layout colspan="12"/>
            <switch mapping="OnOff" styling="GreyGreen">
              <layout colspan="3"/>
              <label>Strahler</label>
              <address transform="DPT:1.001" variant="">13/0/0</address>
            </switch>
            <switch mapping="OnOff" styling="GreyGreen">
              <layout colspan="3"/>
              <label>Spot</label>
              <address transform="DPT:1.001" variant="">13/0/1</address>
            </switch>
            <switch mapping="OnOff" styling="GreyGreen">
              <layout colspan="3"/>
              <label>Schrank</label>
              <address transform="DPT:1.001" variant="">13/0/2</address>
            </switch>
            <switch mapping="OnOff" styling="GreyGreen">
              <layout colspan="3"/>
              <label>Stehlampe</label>
              <address transform="DPT:1.001" variant="">13/0/24</address>
            </switch>
          </group>
        </group>
        <group name="Licht mit Icons">
          <layout colspan="12"/>
          <group nowidget="true" flavour="lithium">
            <layout colspan="12"/>
            <switch mapping="OnOff_Licht" styling="GreyGrey">
              <layout colspan="3"/>
              <label>Strahler</label>
              <address transform="DPT:1.001" variant="">13/0/0</address>
            </switch>
            <switch mapping="OnOff_Licht" styling="GreyGrey">
              <layout colspan="3"/>
              <label>Spot</label>
              <address transform="DPT:1.001" variant="">13/0/1</address>
            </switch>
            <switch mapping="OnOff_Licht" styling="GreyGrey">
              <layout colspan="3"/>
              <label>Schrank</label>
              <address transform="DPT:1.001" variant="">13/0/2</address>
            </switch>
            <switch mapping="OnOff_Licht" styling="GreyGrey">
              <layout colspan="3"/>
              <label>Stehlampe</label>
              <address transform="DPT:1.001" variant="">13/0/24</address>
            </switch>
          </group>
        </group>
        <group name="Jalousien">
          <layout colspan="12"/>
          <multitrigger button1label="↑" button1value="0" button2label="↓" button2value="1">
            <label><icon name="fts_shutter"/>Fenster</label>
            <address transform="DPT:1.001" variant="">13/0/3</address>
          </multitrigger>
          <multitrigger button1label="↑" button1value="0" button2label="↓" button2value="1">
            <label><icon name="fts_shutter"/>
              Tür
            </label>
            <address transform="DPT:1.001" variant="">13/0/4</address>
          </multitrigger>
        </group>
        <group name="Steckdosen">
          <layout colspan="12"/>
          <switch mapping="OnOff" styling="GreyGreen">
            <layout colspan="3"/>
            <label>SD 1</label>
            <address transform="DPT:1.001" variant="">10/0/0</address>
          </switch>
          <switch mapping="OnOff" styling="GreyGreen">
            <layout colspan="3"/>
            <label>SD 2</label>
            <address transform="DPT:1.001" variant="">13/0/5</address>
          </switch>
          <switch mapping="OnOff" styling="GreyGreen">
            <layout colspan="3"/>
            <label>SD 3</label>
            <address transform="DPT:1.001" variant="">13/0/6</address>
          </switch>
          <switch mapping="OnOff" styling="GreyGreen">
            <layout colspan="3"/>
            <label>SD 4</label>
            <address transform="DPT:1.001" variant="">13/0/13</address>
          </switch>
        </group>
        <template name="Heizung">
          <value name="valve_control_address">13/0/38</value>
          <value name="current_temp_address">13/0/14</value>
          <value name="target_temp_address">13/0/39</value>
        </template>
        <group name="Sonstiges">
          <info mapping="OpenClose">
            <layout colspan="3"/>
            <label>Fenster</label>
            <address transform="DPT:1.001" variant="">13/0/34</address>
          </info>
          <info mapping="DoorOpenClose">
            <layout colspan="3"/>
            <label>Tür</label>
            <address transform="DPT:1.001" variant="">13/0/35</address>
          </info>
          <info mapping="OnOff" styling="GreyGreen">
            <label>Bewegung</label>
            <address transform="DPT:1.001" variant="">13/0/36</address>
          </info>
          <pagejump target="Schlafzimmer" name="Schlafen">
            <layout colspan="3"/>
            <label>
              <icon name="scene_sleeping"/>
            </label>
            <widgetinfo>
              <info format="%d">
                <layout colspan="0" />
                <address transform="DPT:9.001" variant="">13/1/28</address>
              </info>
            </widgetinfo>
          </pagejump>
          <infoaction>
            <layout colspan="3"/>
            <label>
              Test
            </label>
            <widgetinfo>
              <info format="%d">
                <layout colspan="0" />
                <address transform="DPT:9.001" variant="">13/1/28</address>
              </info>
            </widgetinfo>
            <widgetaction>
              <switch mapping="OnOff" styling="GreyGreen">
                <address transform="DPT:1.001" variant="">13/0/13</address>
              </switch>
            </widgetaction>
          </infoaction>
        </group>
      </page>
      <page name="Schlafzimmer">
        <layout colspan="3"/>
        <group name="Licht">
          <layout colspan="12"/>
          <switch mapping="OnOff" styling="GreyGreen">
            <label>Licht</label>
            <address transform="DPT:1.001" variant="">13/1/0</address>
          </switch>
          <info format="%.2f Lux">
            <address transform="DPT:9.001" variant="">13/1/25</address>
          </info>
        </group>
        <group name="Jalousien + Fenster">
          <layout colspan="12"/>
          <multitrigger button1label="↑" button1value="0" button2label="↓" button2value="1">
            <label><icon name="fts_shutter"/>Jalousien</label>
            <address transform="DPT:1.001" variant="">13/1/1</address>
          </multitrigger>
          <info mapping="OpenClose">
            <label><icon name="fts_shutter"/>Fenster</label>
            <address transform="DPT:1.001" variant="">13/1/17</address>
          </info>
        </group>
        <template name="Heizung">
          <value name="valve_control_address">13/1/27</value>
          <value name="current_temp_address">13/1/12</value>
          <value name="target_temp_address">13/1/28</value>
        </template>
        <group align="center" name="Verbraucher">
          <switch mapping="AudioMute" styling="GreyGreen">
            <label>Lautsprecher</label>
            <address transform="DPT:1.001" variant="">13/5/1</address>
          </switch>
          <switch mapping="OnOff" styling="GreyGreen">
            <label>TV</label>
            <address transform="DPT:1.001" variant="">13/1/4</address>
          </switch>
          <switch mapping="OnOff" styling="GreyGreen">
            <label>DVD</label>
            <address transform="DPT:1.001" variant="">13/1/7</address>
          </switch>
          <switch mapping="OnOff" styling="GreyGreen">
            <label>IR</label>
            <address transform="DPT:1.001" variant="">13/1/6</address>
          </switch>
        </group>
      </page>
      <page name="Bad">
        <layout colspan="3"/>
        <group name="Heizung">
          <layout colspan="6"></layout>
          <group nowidget="true">
            <layout colspan="3" rowspan="3"></layout>
            <info format="%.1f °C">
              <layout colspan="3"></layout>
              <label><icon name="temp_temperature"/>
                Ist
              </label>
              <address transform="DPT:9.001" variant="">13/0/14</address>
            </info>
            <infotrigger uplabel="+" upvalue="0.5" downlabel="-" downvalue="-0.5" styling="BluePurpleRedTemp" class="small-label" infoposition="middle" format="%.1f °C" change="absolute" min="15" max="25">
              <layout colspan="3"></layout>
              <label><icon name="temp_control"/>
                Soll
              </label>
              <address transform="DPT:9.001" variant="">13/0/39</address>
            </infotrigger>
          </group>
          <multitrigger button1label="Auto" button1value="auto" button2label="Komfort" button2value="comfort" button3label="Stand by" button3value="standby" button4label="Economy" button4value="economy" showstatus="true" mapping="KonnexHVAC">
            <layout colspan="3" rowspan="3"></layout>
            <address transform="DPT:20.102" mode="readwrite">12/7/13</address>
          </multitrigger>
        </group>

        <group name="Licht">
          <layout colspan="6"></layout>
          <colorchooser>
            <label><icon name="light_led_stripe_rgb"/>Ambiente</label>
            <address transform="DPT:5.001" variant="r" mode="readwrite">12/7/17</address>
            <address transform="DPT:5.001" variant="g" mode="readwrite">12/7/18</address>
            <address transform="DPT:5.001" variant="b" mode="readwrite">12/7/19</address>
          </colorchooser>
        </group>
      </page>
    </page>

    <page name="Audio" shownavbar-left="true" visible="false">
      <navbar position="left" dynamic="true" width="200px">
        <group name="Sonstiges">
          <pagejump target="Audio" name="Audio">
            <label>
              <icon name="audio_sound"/>
            </label>
          </pagejump>
        </group>
      </navbar>
      <group name="Allgemein">
        <layout colspan="12"/>
        <switch mapping="OnOff" styling="GreyGreen">
          <label>Webradio</label>
          <address transform="DPT:1.001" variant="">12/1/7</address>
        </switch>
        <switch mapping="AudioMute" styling="GreyGreen">
          <layout colspan="3"/>
          <label>LS Schlafzimmer</label>
          <address transform="DPT:1.001" variant="">13/5/1</address>
        </switch>
        <switch mapping="AudioMute" styling="GreyGreen">
          <layout colspan="3"/>
          <label>LS Wohnzimmer</label>
          <address transform="DPT:1.001" variant="">14/1/3</address>
        </switch>
      </group>
    </page>
    <page name="Temperaturen" visible="false">
      <info format="%.1f °C">
        <label><icon name="temp_outside"/>Aussen</label>
        <address transform="DPT:9.001" variant="">13/6/1</address>
      </info>
      <info format="%.1f °C">
        <label><icon name="temp_frost"/>Kühlbox</label>
        <address transform="DPT:9.001" variant="">13/5/4</address>
      </info>
      <info format="%.1f °C">
        <label><icon name="temp_inside"/>Innen</label>
        <address transform="DPT:9.001" variant="">14/1/6</address>
      </info>
    </page>
  </page>
</pages>
