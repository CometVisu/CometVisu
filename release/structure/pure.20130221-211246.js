/*
 * jQuery JavaScript Library v1.8.3
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright 2012 jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: Tue Nov 13 2012 08:20:33 GMT-0500 (Eastern Standard Time)
 */
(function(a3,aC){var x,ag,p=a3.document,aJ=a3.location,d=a3.navigator,bh=a3.jQuery,J=a3.$,an=Array.prototype.push,a5=Array.prototype.slice,aL=Array.prototype.indexOf,A=Object.prototype.toString,W=Object.prototype.hasOwnProperty,aP=String.prototype.trim,bH=function(e,b0){return new bH.fn.init(e,b0,x)},by=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,ab=/\S/,aW=/\s+/,D=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,bp=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,a=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,bg=/^[\],:{}\s]*$/,bj=/(?:^|:|,)(?:\s*\[)+/g,bE=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,a1=/"[^"\\\r\n]*"|true|false|null|-?(?:\d\d*\.|)\d+(?:[eE][\-+]?\d+|)/g,bQ=/^-ms-/,aV=/-([\da-z])/gi,O=function(e,b0){return(b0+"").toUpperCase()},aG=function(){if(p.addEventListener){p.removeEventListener("DOMContentLoaded",aG,false);bH.ready()}else{if(p.readyState==="complete"){p.detachEvent("onreadystatechange",aG);bH.ready()}}},aa={};bH.fn=bH.prototype={constructor:bH,init:function(e,b3,b2){var b1,b4,b0,b5;if(!e){return this}if(e.nodeType){this.context=this[0]=e;this.length=1;return this}if(typeof e==="string"){if(e.charAt(0)==="<"&&e.charAt(e.length-1)===">"&&e.length>=3){b1=[null,e,null]}else{b1=bp.exec(e)}if(b1&&(b1[1]||!b3)){if(b1[1]){b3=b3 instanceof bH?b3[0]:b3;b5=(b3&&b3.nodeType?b3.ownerDocument||b3:p);e=bH.parseHTML(b1[1],b5,true);if(a.test(b1[1])&&bH.isPlainObject(b3)){this.attr.call(e,b3,true)}return bH.merge(this,e)}else{b4=p.getElementById(b1[2]);if(b4&&b4.parentNode){if(b4.id!==b1[2]){return b2.find(e)}this.length=1;this[0]=b4}this.context=p;this.selector=e;return this}}else{if(!b3||b3.jquery){return(b3||b2).find(e)}else{return this.constructor(b3).find(e)}}}else{if(bH.isFunction(e)){return b2.ready(e)}}if(e.selector!==aC){this.selector=e.selector;this.context=e.context}return bH.makeArray(e,this)},selector:"",jquery:"1.8.3",length:0,size:function(){return this.length},toArray:function(){return a5.call(this)},get:function(e){return e==null?this.toArray():(e<0?this[this.length+e]:this[e])},pushStack:function(b0,b2,e){var b1=bH.merge(this.constructor(),b0);b1.prevObject=this;b1.context=this.context;if(b2==="find"){b1.selector=this.selector+(this.selector?" ":"")+e}else{if(b2){b1.selector=this.selector+"."+b2+"("+e+")"}}return b1},each:function(b0,e){return bH.each(this,b0,e)},ready:function(e){bH.ready.promise().done(e);return this},eq:function(e){e=+e;return e===-1?this.slice(e):this.slice(e,e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(a5.apply(this,arguments),"slice",a5.call(arguments).join(","))},map:function(e){return this.pushStack(bH.map(this,function(b1,b0){return e.call(b1,b0,b1)}))},end:function(){return this.prevObject||this.constructor(null)},push:an,sort:[].sort,splice:[].splice};bH.fn.init.prototype=bH.fn;bH.extend=bH.fn.extend=function(){var b8,b1,e,b0,b5,b6,b4=arguments[0]||{},b3=1,b2=arguments.length,b7=false;if(typeof b4==="boolean"){b7=b4;b4=arguments[1]||{};b3=2}if(typeof b4!=="object"&&!bH.isFunction(b4)){b4={}}if(b2===b3){b4=this;--b3}for(;b3<b2;b3++){if((b8=arguments[b3])!=null){for(b1 in b8){e=b4[b1];b0=b8[b1];if(b4===b0){continue}if(b7&&b0&&(bH.isPlainObject(b0)||(b5=bH.isArray(b0)))){if(b5){b5=false;b6=e&&bH.isArray(e)?e:[]}else{b6=e&&bH.isPlainObject(e)?e:{}}b4[b1]=bH.extend(b7,b6,b0)}else{if(b0!==aC){b4[b1]=b0}}}}}return b4};bH.extend({noConflict:function(e){if(a3.$===bH){a3.$=J}if(e&&a3.jQuery===bH){a3.jQuery=bh}return bH},isReady:false,readyWait:1,holdReady:function(e){if(e){bH.readyWait++}else{bH.ready(true)}},ready:function(e){if(e===true?--bH.readyWait:bH.isReady){return}if(!p.body){return setTimeout(bH.ready,1)}bH.isReady=true;if(e!==true&&--bH.readyWait>0){return}ag.resolveWith(p,[bH]);if(bH.fn.trigger){bH(p).trigger("ready").off("ready")}},isFunction:function(e){return bH.type(e)==="function"},isArray:Array.isArray||function(e){return bH.type(e)==="array"},isWindow:function(e){return e!=null&&e==e.window},isNumeric:function(e){return !isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return e==null?String(e):aa[A.call(e)]||"object"},isPlainObject:function(b2){if(!b2||bH.type(b2)!=="object"||b2.nodeType||bH.isWindow(b2)){return false}try{if(b2.constructor&&!W.call(b2,"constructor")&&!W.call(b2.constructor.prototype,"isPrototypeOf")){return false}}catch(b1){return false}var b0;for(b0 in b2){}return b0===aC||W.call(b2,b0)},isEmptyObject:function(b0){var e;for(e in b0){return false}return true},error:function(e){throw new Error(e)},parseHTML:function(b2,b1,e){var b0;if(!b2||typeof b2!=="string"){return null}if(typeof b1==="boolean"){e=b1;b1=0}b1=b1||p;if((b0=a.exec(b2))){return[b1.createElement(b0[1])]}b0=bH.buildFragment([b2],b1,e?null:[]);return bH.merge([],(b0.cacheable?bH.clone(b0.fragment):b0.fragment).childNodes)},parseJSON:function(e){if(!e||typeof e!=="string"){return null}e=bH.trim(e);if(a3.JSON&&a3.JSON.parse){return a3.JSON.parse(e)}if(bg.test(e.replace(bE,"@").replace(a1,"]").replace(bj,""))){return(new Function("return "+e))()}bH.error("Invalid JSON: "+e)},parseXML:function(b2){var b0,b1;if(!b2||typeof b2!=="string"){return null}try{if(a3.DOMParser){b1=new DOMParser();b0=b1.parseFromString(b2,"text/xml")}else{b0=new ActiveXObject("Microsoft.XMLDOM");b0.async="false";b0.loadXML(b2)}}catch(b3){b0=aC}if(!b0||!b0.documentElement||b0.getElementsByTagName("parsererror").length){bH.error("Invalid XML: "+b2)}return b0},noop:function(){},globalEval:function(e){if(e&&ab.test(e)){(a3.execScript||function(b0){a3["eval"].call(a3,b0)})(e)}},camelCase:function(e){return e.replace(bQ,"ms-").replace(aV,O)},nodeName:function(b0,e){return b0.nodeName&&b0.nodeName.toLowerCase()===e.toLowerCase()},each:function(b4,b5,b1){var b0,b2=0,b3=b4.length,e=b3===aC||bH.isFunction(b4);if(b1){if(e){for(b0 in b4){if(b5.apply(b4[b0],b1)===false){break}}}else{for(;b2<b3;){if(b5.apply(b4[b2++],b1)===false){break}}}}else{if(e){for(b0 in b4){if(b5.call(b4[b0],b0,b4[b0])===false){break}}}else{for(;b2<b3;){if(b5.call(b4[b2],b2,b4[b2++])===false){break}}}}return b4},trim:aP&&!aP.call("\uFEFF\xA0")?function(e){return e==null?"":aP.call(e)}:function(e){return e==null?"":(e+"").replace(D,"")},makeArray:function(e,b1){var b2,b0=b1||[];if(e!=null){b2=bH.type(e);if(e.length==null||b2==="string"||b2==="function"||b2==="regexp"||bH.isWindow(e)){an.call(b0,e)}else{bH.merge(b0,e)}}return b0},inArray:function(b2,b0,b1){var e;if(b0){if(aL){return aL.call(b0,b2,b1)}e=b0.length;b1=b1?b1<0?Math.max(0,e+b1):b1:0;for(;b1<e;b1++){if(b1 in b0&&b0[b1]===b2){return b1}}}return -1},merge:function(b3,b1){var e=b1.length,b2=b3.length,b0=0;if(typeof e==="number"){for(;b0<e;b0++){b3[b2++]=b1[b0]}}else{while(b1[b0]!==aC){b3[b2++]=b1[b0++]}}b3.length=b2;return b3},grep:function(b0,b5,e){var b4,b1=[],b2=0,b3=b0.length;e=!!e;for(;b2<b3;b2++){b4=!!b5(b0[b2],b2);if(e!==b4){b1.push(b0[b2])}}return b1},map:function(e,b6,b7){var b4,b5,b3=[],b1=0,b0=e.length,b2=e instanceof bH||b0!==aC&&typeof b0==="number"&&((b0>0&&e[0]&&e[b0-1])||b0===0||bH.isArray(e));if(b2){for(;b1<b0;b1++){b4=b6(e[b1],b1,b7);if(b4!=null){b3[b3.length]=b4}}}else{for(b5 in e){b4=b6(e[b5],b5,b7);if(b4!=null){b3[b3.length]=b4}}}return b3.concat.apply([],b3)},guid:1,proxy:function(b3,b2){var b1,e,b0;if(typeof b2==="string"){b1=b3[b2];b2=b3;b3=b1}if(!bH.isFunction(b3)){return aC}e=a5.call(arguments,2);b0=function(){return b3.apply(b2,e.concat(a5.call(arguments)))};b0.guid=b3.guid=b3.guid||bH.guid++;return b0},access:function(e,b5,b8,b6,b3,b9,b7){var b1,b4=b8==null,b2=0,b0=e.length;if(b8&&typeof b8==="object"){for(b2 in b8){bH.access(e,b5,b2,b8[b2],1,b9,b6)}b3=1}else{if(b6!==aC){b1=b7===aC&&bH.isFunction(b6);if(b4){if(b1){b1=b5;b5=function(cb,ca,cc){return b1.call(bH(cb),cc)}}else{b5.call(e,b6);b5=null}}if(b5){for(;b2<b0;b2++){b5(e[b2],b8,b1?b6.call(e[b2],b2,b5(e[b2],b8)):b6,b7)}}b3=1}}return b3?e:b4?b5.call(e):b0?b5(e[0],b8):b9},now:function(){return(new Date()).getTime()}});bH.ready.promise=function(b3){if(!ag){ag=bH.Deferred();if(p.readyState==="complete"){setTimeout(bH.ready,1)}else{if(p.addEventListener){p.addEventListener("DOMContentLoaded",aG,false);a3.addEventListener("load",bH.ready,false)}else{p.attachEvent("onreadystatechange",aG);a3.attachEvent("onload",bH.ready);var b2=false;try{b2=a3.frameElement==null&&p.documentElement}catch(b1){}if(b2&&b2.doScroll){(function b0(){if(!bH.isReady){try{b2.doScroll("left")}catch(b4){return setTimeout(b0,50)}bH.ready()}})()}}}}return ag.promise(b3)};bH.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(b0,e){aa["[object "+e+"]"]=e.toLowerCase()});x=bH(p);var bV={};function ad(b0){var e=bV[b0]={};bH.each(b0.split(aW),function(b2,b1){e[b1]=true});return e}bH.Callbacks=function(b9){b9=typeof b9==="string"?(bV[b9]||ad(b9)):bH.extend({},b9);var b2,e,b3,b1,b4,b5,b6=[],b7=!b9.once&&[],b0=function(ca){b2=b9.memory&&ca;e=true;b5=b1||0;b1=0;b4=b6.length;b3=true;for(;b6&&b5<b4;b5++){if(b6[b5].apply(ca[0],ca[1])===false&&b9.stopOnFalse){b2=false;break}}b3=false;if(b6){if(b7){if(b7.length){b0(b7.shift())}}else{if(b2){b6=[]}else{b8.disable()}}}},b8={add:function(){if(b6){var cb=b6.length;(function ca(cc){bH.each(cc,function(ce,cd){var cf=bH.type(cd);if(cf==="function"){if(!b9.unique||!b8.has(cd)){b6.push(cd)}}else{if(cd&&cd.length&&cf!=="string"){ca(cd)}}})})(arguments);if(b3){b4=b6.length}else{if(b2){b1=cb;b0(b2)}}}return this},remove:function(){if(b6){bH.each(arguments,function(cc,ca){var cb;while((cb=bH.inArray(ca,b6,cb))>-1){b6.splice(cb,1);if(b3){if(cb<=b4){b4--}if(cb<=b5){b5--}}}})}return this},has:function(ca){return bH.inArray(ca,b6)>-1},empty:function(){b6=[];return this},disable:function(){b6=b7=b2=aC;return this},disabled:function(){return !b6},lock:function(){b7=aC;if(!b2){b8.disable()}return this},locked:function(){return !b7},fireWith:function(cb,ca){ca=ca||[];ca=[cb,ca.slice?ca.slice():ca];if(b6&&(!e||b7)){if(b3){b7.push(ca)}else{b0(ca)}}return this},fire:function(){b8.fireWith(this,arguments);return this},fired:function(){return !!e}};return b8};bH.extend({Deferred:function(b1){var b0=[["resolve","done",bH.Callbacks("once memory"),"resolved"],["reject","fail",bH.Callbacks("once memory"),"rejected"],["notify","progress",bH.Callbacks("memory")]],b2="pending",b3={state:function(){return b2},always:function(){e.done(arguments).fail(arguments);return this},then:function(){var b4=arguments;return bH.Deferred(function(b5){bH.each(b0,function(b7,b6){var b9=b6[0],b8=b4[b7];e[b6[1]](bH.isFunction(b8)?function(){var ca=b8.apply(this,arguments);if(ca&&bH.isFunction(ca.promise)){ca.promise().done(b5.resolve).fail(b5.reject).progress(b5.notify)}else{b5[b9+"With"](this===e?b5:this,[ca])}}:b5[b9])});b4=null}).promise()},promise:function(b4){return b4!=null?bH.extend(b4,b3):b3}},e={};b3.pipe=b3.then;bH.each(b0,function(b5,b4){var b7=b4[2],b6=b4[3];b3[b4[1]]=b7.add;if(b6){b7.add(function(){b2=b6},b0[b5^1][2].disable,b0[2][2].lock)}e[b4[0]]=b7.fire;e[b4[0]+"With"]=b7.fireWith});b3.promise(e);if(b1){b1.call(e,e)}return e},when:function(b3){var b1=0,b5=a5.call(arguments),e=b5.length,b0=e!==1||(b3&&bH.isFunction(b3.promise))?e:0,b8=b0===1?b3:bH.Deferred(),b2=function(ca,cb,b9){return function(cc){cb[ca]=this;b9[ca]=arguments.length>1?a5.call(arguments):cc;if(b9===b7){b8.notifyWith(cb,b9)}else{if(!(--b0)){b8.resolveWith(cb,b9)}}}},b7,b4,b6;if(e>1){b7=new Array(e);b4=new Array(e);b6=new Array(e);for(;b1<e;b1++){if(b5[b1]&&bH.isFunction(b5[b1].promise)){b5[b1].promise().done(b2(b1,b6,b5)).fail(b8.reject).progress(b2(b1,b4,b7))}else{--b0}}}if(!b0){b8.resolveWith(b6,b5)}return b8.promise()}});bH.support=(function(){var cc,cb,b9,ca,b3,b8,b7,b5,b4,b2,b0,b1=p.createElement("div");b1.setAttribute("className","t");b1.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>";cb=b1.getElementsByTagName("*");b9=b1.getElementsByTagName("a")[0];if(!cb||!b9||!cb.length){return{}}ca=p.createElement("select");b3=ca.appendChild(p.createElement("option"));b8=b1.getElementsByTagName("input")[0];b9.style.cssText="top:1px;float:left;opacity:.5";cc={leadingWhitespace:(b1.firstChild.nodeType===3),tbody:!b1.getElementsByTagName("tbody").length,htmlSerialize:!!b1.getElementsByTagName("link").length,style:/top/.test(b9.getAttribute("style")),hrefNormalized:(b9.getAttribute("href")==="/a"),opacity:/^0.5/.test(b9.style.opacity),cssFloat:!!b9.style.cssFloat,checkOn:(b8.value==="on"),optSelected:b3.selected,getSetAttribute:b1.className!=="t",enctype:!!p.createElement("form").enctype,html5Clone:p.createElement("nav").cloneNode(true).outerHTML!=="<:nav></:nav>",boxModel:(p.compatMode==="CSS1Compat"),submitBubbles:true,changeBubbles:true,focusinBubbles:false,deleteExpando:true,noCloneEvent:true,inlineBlockNeedsLayout:false,shrinkWrapBlocks:false,reliableMarginRight:true,boxSizingReliable:true,pixelPosition:false};b8.checked=true;cc.noCloneChecked=b8.cloneNode(true).checked;ca.disabled=true;cc.optDisabled=!b3.disabled;try{delete b1.test}catch(b6){cc.deleteExpando=false}if(!b1.addEventListener&&b1.attachEvent&&b1.fireEvent){b1.attachEvent("onclick",b0=function(){cc.noCloneEvent=false});b1.cloneNode(true).fireEvent("onclick");b1.detachEvent("onclick",b0)}b8=p.createElement("input");b8.value="t";b8.setAttribute("type","radio");cc.radioValue=b8.value==="t";b8.setAttribute("checked","checked");b8.setAttribute("name","t");b1.appendChild(b8);b7=p.createDocumentFragment();b7.appendChild(b1.lastChild);cc.checkClone=b7.cloneNode(true).cloneNode(true).lastChild.checked;cc.appendChecked=b8.checked;b7.removeChild(b8);b7.appendChild(b1);if(b1.attachEvent){for(b4 in {submit:true,change:true,focusin:true}){b5="on"+b4;b2=(b5 in b1);if(!b2){b1.setAttribute(b5,"return;");b2=(typeof b1[b5]==="function")}cc[b4+"Bubbles"]=b2}}bH(function(){var cd,ch,cf,cg,ce="padding:0;margin:0;border:0;display:block;overflow:hidden;",e=p.getElementsByTagName("body")[0];if(!e){return}cd=p.createElement("div");cd.style.cssText="visibility:hidden;border:0;width:0;height:0;position:static;top:0;margin-top:1px";e.insertBefore(cd,e.firstChild);ch=p.createElement("div");cd.appendChild(ch);ch.innerHTML="<table><tr><td></td><td>t</td></tr></table>";cf=ch.getElementsByTagName("td");cf[0].style.cssText="padding:0;margin:0;border:0;display:none";b2=(cf[0].offsetHeight===0);cf[0].style.display="";cf[1].style.display="none";cc.reliableHiddenOffsets=b2&&(cf[0].offsetHeight===0);ch.innerHTML="";ch.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;";cc.boxSizing=(ch.offsetWidth===4);cc.doesNotIncludeMarginInBodyOffset=(e.offsetTop!==1);if(a3.getComputedStyle){cc.pixelPosition=(a3.getComputedStyle(ch,null)||{}).top!=="1%";cc.boxSizingReliable=(a3.getComputedStyle(ch,null)||{width:"4px"}).width==="4px";cg=p.createElement("div");cg.style.cssText=ch.style.cssText=ce;cg.style.marginRight=cg.style.width="0";ch.style.width="1px";ch.appendChild(cg);cc.reliableMarginRight=!parseFloat((a3.getComputedStyle(cg,null)||{}).marginRight)}if(typeof ch.style.zoom!=="undefined"){ch.innerHTML="";ch.style.cssText=ce+"width:1px;padding:1px;display:inline;zoom:1";cc.inlineBlockNeedsLayout=(ch.offsetWidth===3);ch.style.display="block";ch.style.overflow="visible";ch.innerHTML="<div></div>";ch.firstChild.style.width="5px";cc.shrinkWrapBlocks=(ch.offsetWidth!==3);cd.style.zoom=1}e.removeChild(cd);cd=ch=cf=cg=null});b7.removeChild(b1);cb=b9=ca=b3=b8=b7=b1=null;return cc})();var bu=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,aM=/([A-Z])/g;bH.extend({cache:{},deletedIds:[],uuid:0,expando:"jQuery"+(bH.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:true,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:true},hasData:function(e){e=e.nodeType?bH.cache[e[bH.expando]]:e[bH.expando];return !!e&&!P(e)},data:function(b2,b0,b4,b3){if(!bH.acceptData(b2)){return}var b5,b7,b8=bH.expando,b6=typeof b0==="string",b9=b2.nodeType,e=b9?bH.cache:b2,b1=b9?b2[b8]:b2[b8]&&b8;if((!b1||!e[b1]||(!b3&&!e[b1].data))&&b6&&b4===aC){return}if(!b1){if(b9){b2[b8]=b1=bH.deletedIds.pop()||bH.guid++}else{b1=b8}}if(!e[b1]){e[b1]={};if(!b9){e[b1].toJSON=bH.noop}}if(typeof b0==="object"||typeof b0==="function"){if(b3){e[b1]=bH.extend(e[b1],b0)}else{e[b1].data=bH.extend(e[b1].data,b0)}}b5=e[b1];if(!b3){if(!b5.data){b5.data={}}b5=b5.data}if(b4!==aC){b5[bH.camelCase(b0)]=b4}if(b6){b7=b5[b0];if(b7==null){b7=b5[bH.camelCase(b0)]}}else{b7=b5}return b7},removeData:function(b2,b0,b3){if(!bH.acceptData(b2)){return}var b6,b5,b4,b7=b2.nodeType,e=b7?bH.cache:b2,b1=b7?b2[bH.expando]:bH.expando;if(!e[b1]){return}if(b0){b6=b3?e[b1]:e[b1].data;if(b6){if(!bH.isArray(b0)){if(b0 in b6){b0=[b0]}else{b0=bH.camelCase(b0);if(b0 in b6){b0=[b0]}else{b0=b0.split(" ")}}}for(b5=0,b4=b0.length;b5<b4;b5++){delete b6[b0[b5]]}if(!(b3?P:bH.isEmptyObject)(b6)){return}}}if(!b3){delete e[b1].data;if(!P(e[b1])){return}}if(b7){bH.cleanData([b2],true)}else{if(bH.support.deleteExpando||e!=e.window){delete e[b1]}else{e[b1]=null}}},_data:function(b0,e,b1){return bH.data(b0,e,b1,true)},acceptData:function(b0){var e=b0.nodeName&&bH.noData[b0.nodeName.toLowerCase()];return !e||e!==true&&b0.getAttribute("classid")===e}});bH.fn.extend({data:function(b8,b7){var b3,b0,b6,e,b2,b1=this[0],b5=0,b4=null;if(b8===aC){if(this.length){b4=bH.data(b1);if(b1.nodeType===1&&!bH._data(b1,"parsedAttrs")){b6=b1.attributes;for(b2=b6.length;b5<b2;b5++){e=b6[b5].name;if(!e.indexOf("data-")){e=bH.camelCase(e.substring(5));bw(b1,e,b4[e])}}bH._data(b1,"parsedAttrs",true)}}return b4}if(typeof b8==="object"){return this.each(function(){bH.data(this,b8)})}b3=b8.split(".",2);b3[1]=b3[1]?"."+b3[1]:"";b0=b3[1]+"!";return bH.access(this,function(b9){if(b9===aC){b4=this.triggerHandler("getData"+b0,[b3[0]]);if(b4===aC&&b1){b4=bH.data(b1,b8);b4=bw(b1,b8,b4)}return b4===aC&&b3[1]?this.data(b3[0]):b4}b3[1]=b9;this.each(function(){var ca=bH(this);ca.triggerHandler("setData"+b0,b3);bH.data(this,b8,b9);ca.triggerHandler("changeData"+b0,b3)})},null,b7,arguments.length>1,null,false)},removeData:function(e){return this.each(function(){bH.removeData(this,e)})}});function bw(b2,b1,b3){if(b3===aC&&b2.nodeType===1){var b0="data-"+b1.replace(aM,"-$1").toLowerCase();b3=b2.getAttribute(b0);if(typeof b3==="string"){try{b3=b3==="true"?true:b3==="false"?false:b3==="null"?null:+b3+""===b3?+b3:bu.test(b3)?bH.parseJSON(b3):b3}catch(b4){}bH.data(b2,b1,b3)}else{b3=aC}}return b3}function P(b0){var e;for(e in b0){if(e==="data"&&bH.isEmptyObject(b0[e])){continue}if(e!=="toJSON"){return false}}return true}bH.extend({queue:function(b1,b0,b2){var e;if(b1){b0=(b0||"fx")+"queue";e=bH._data(b1,b0);if(b2){if(!e||bH.isArray(b2)){e=bH._data(b1,b0,bH.makeArray(b2))}else{e.push(b2)}}return e||[]}},dequeue:function(b4,b3){b3=b3||"fx";var b0=bH.queue(b4,b3),b5=b0.length,b2=b0.shift(),e=bH._queueHooks(b4,b3),b1=function(){bH.dequeue(b4,b3)};if(b2==="inprogress"){b2=b0.shift();b5--}if(b2){if(b3==="fx"){b0.unshift("inprogress")}delete e.stop;b2.call(b4,b1,e)}if(!b5&&e){e.empty.fire()}},_queueHooks:function(b1,b0){var e=b0+"queueHooks";return bH._data(b1,e)||bH._data(b1,e,{empty:bH.Callbacks("once memory").add(function(){bH.removeData(b1,b0+"queue",true);bH.removeData(b1,e,true)})})}});bH.fn.extend({queue:function(e,b0){var b1=2;if(typeof e!=="string"){b0=e;e="fx";b1--}if(arguments.length<b1){return bH.queue(this[0],e)}return b0===aC?this:this.each(function(){var b2=bH.queue(this,e,b0);bH._queueHooks(this,e);if(e==="fx"&&b2[0]!=="inprogress"){bH.dequeue(this,e)}})},dequeue:function(e){return this.each(function(){bH.dequeue(this,e)})},delay:function(b0,e){b0=bH.fx?bH.fx.speeds[b0]||b0:b0;e=e||"fx";return this.queue(e,function(b2,b1){var b3=setTimeout(b2,b0);b1.stop=function(){clearTimeout(b3)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(b1,b5){var b0,b2=1,b6=bH.Deferred(),b4=this,e=this.length,b3=function(){if(!(--b2)){b6.resolveWith(b4,[b4])}};if(typeof b1!=="string"){b5=b1;b1=aC}b1=b1||"fx";while(e--){b0=bH._data(b4[e],b1+"queueHooks");if(b0&&b0.empty){b2++;b0.empty.add(b3)}}b3();return b6.promise(b5)}});var a8,bW,o,bK=/[\t\r\n]/g,aj=/\r/g,k=/^(?:button|input)$/i,aB=/^(?:button|input|object|select|textarea)$/i,E=/^a(?:rea|)$/i,N=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,bM=bH.support.getSetAttribute;bH.fn.extend({attr:function(e,b0){return bH.access(this,bH.attr,e,b0,arguments.length>1)},removeAttr:function(e){return this.each(function(){bH.removeAttr(this,e)})},prop:function(e,b0){return bH.access(this,bH.prop,e,b0,arguments.length>1)},removeProp:function(e){e=bH.propFix[e]||e;return this.each(function(){try{this[e]=aC;delete this[e]}catch(b0){}})},addClass:function(b3){var b5,b1,b0,b2,b4,b6,e;if(bH.isFunction(b3)){return this.each(function(b7){bH(this).addClass(b3.call(this,b7,this.className))})}if(b3&&typeof b3==="string"){b5=b3.split(aW);for(b1=0,b0=this.length;b1<b0;b1++){b2=this[b1];if(b2.nodeType===1){if(!b2.className&&b5.length===1){b2.className=b3}else{b4=" "+b2.className+" ";for(b6=0,e=b5.length;b6<e;b6++){if(b4.indexOf(" "+b5[b6]+" ")<0){b4+=b5[b6]+" "}}b2.className=bH.trim(b4)}}}}return this},removeClass:function(b5){var b2,b3,b4,b6,b0,b1,e;if(bH.isFunction(b5)){return this.each(function(b7){bH(this).removeClass(b5.call(this,b7,this.className))})}if((b5&&typeof b5==="string")||b5===aC){b2=(b5||"").split(aW);for(b1=0,e=this.length;b1<e;b1++){b4=this[b1];if(b4.nodeType===1&&b4.className){b3=(" "+b4.className+" ").replace(bK," ");for(b6=0,b0=b2.length;b6<b0;b6++){while(b3.indexOf(" "+b2[b6]+" ")>=0){b3=b3.replace(" "+b2[b6]+" "," ")}}b4.className=b5?bH.trim(b3):""}}}return this},toggleClass:function(b2,b0){var b1=typeof b2,e=typeof b0==="boolean";if(bH.isFunction(b2)){return this.each(function(b3){bH(this).toggleClass(b2.call(this,b3,this.className,b0),b0)})}return this.each(function(){if(b1==="string"){var b5,b4=0,b3=bH(this),b6=b0,b7=b2.split(aW);while((b5=b7[b4++])){b6=e?b6:!b3.hasClass(b5);b3[b6?"addClass":"removeClass"](b5)}}else{if(b1==="undefined"||b1==="boolean"){if(this.className){bH._data(this,"__className__",this.className)}this.className=this.className||b2===false?"":bH._data(this,"__className__")||""}}})},hasClass:function(e){var b2=" "+e+" ",b1=0,b0=this.length;for(;b1<b0;b1++){if(this[b1].nodeType===1&&(" "+this[b1].className+" ").replace(bK," ").indexOf(b2)>=0){return true}}return false},val:function(b2){var e,b0,b3,b1=this[0];if(!arguments.length){if(b1){e=bH.valHooks[b1.type]||bH.valHooks[b1.nodeName.toLowerCase()];if(e&&"get" in e&&(b0=e.get(b1,"value"))!==aC){return b0}b0=b1.value;return typeof b0==="string"?b0.replace(aj,""):b0==null?"":b0}return}b3=bH.isFunction(b2);return this.each(function(b5){var b6,b4=bH(this);if(this.nodeType!==1){return}if(b3){b6=b2.call(this,b5,b4.val())}else{b6=b2}if(b6==null){b6=""}else{if(typeof b6==="number"){b6+=""}else{if(bH.isArray(b6)){b6=bH.map(b6,function(b7){return b7==null?"":b7+""})}}}e=bH.valHooks[this.type]||bH.valHooks[this.nodeName.toLowerCase()];if(!e||!("set" in e)||e.set(this,b6,"value")===aC){this.value=b6}})}});bH.extend({valHooks:{option:{get:function(e){var b0=e.attributes.value;return !b0||b0.specified?e.value:e.text}},select:{get:function(e){var b5,b1,b7=e.options,b3=e.selectedIndex,b2=e.type==="select-one"||b3<0,b6=b2?null:[],b4=b2?b3+1:b7.length,b0=b3<0?b4:b2?b3:0;for(;b0<b4;b0++){b1=b7[b0];if((b1.selected||b0===b3)&&(bH.support.optDisabled?!b1.disabled:b1.getAttribute("disabled")===null)&&(!b1.parentNode.disabled||!bH.nodeName(b1.parentNode,"optgroup"))){b5=bH(b1).val();if(b2){return b5}b6.push(b5)}}return b6},set:function(b0,b1){var e=bH.makeArray(b1);bH(b0).find("option").each(function(){this.selected=bH.inArray(bH(this).val(),e)>=0});if(!e.length){b0.selectedIndex=-1}return e}}},attrFn:{},attr:function(b5,b2,b6,b4){var b1,e,b3,b0=b5.nodeType;if(!b5||b0===3||b0===8||b0===2){return}if(b4&&bH.isFunction(bH.fn[b2])){return bH(b5)[b2](b6)}if(typeof b5.getAttribute==="undefined"){return bH.prop(b5,b2,b6)}b3=b0!==1||!bH.isXMLDoc(b5);if(b3){b2=b2.toLowerCase();e=bH.attrHooks[b2]||(N.test(b2)?bW:a8)}if(b6!==aC){if(b6===null){bH.removeAttr(b5,b2);return}else{if(e&&"set" in e&&b3&&(b1=e.set(b5,b6,b2))!==aC){return b1}else{b5.setAttribute(b2,b6+"");return b6}}}else{if(e&&"get" in e&&b3&&(b1=e.get(b5,b2))!==null){return b1}else{b1=b5.getAttribute(b2);return b1===null?aC:b1}}},removeAttr:function(b2,b4){var b3,b5,b0,e,b1=0;if(b4&&b2.nodeType===1){b5=b4.split(aW);for(;b1<b5.length;b1++){b0=b5[b1];if(b0){b3=bH.propFix[b0]||b0;e=N.test(b0);if(!e){bH.attr(b2,b0,"")}b2.removeAttribute(bM?b0:b3);if(e&&b3 in b2){b2[b3]=false}}}}},attrHooks:{type:{set:function(e,b0){if(k.test(e.nodeName)&&e.parentNode){bH.error("type property can't be changed")}else{if(!bH.support.radioValue&&b0==="radio"&&bH.nodeName(e,"input")){var b1=e.value;e.setAttribute("type",b0);if(b1){e.value=b1}return b0}}}},value:{get:function(b0,e){if(a8&&bH.nodeName(b0,"button")){return a8.get(b0,e)}return e in b0?b0.value:null},set:function(b0,b1,e){if(a8&&bH.nodeName(b0,"button")){return a8.set(b0,b1,e)}b0.value=b1}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(b4,b2,b5){var b1,e,b3,b0=b4.nodeType;if(!b4||b0===3||b0===8||b0===2){return}b3=b0!==1||!bH.isXMLDoc(b4);if(b3){b2=bH.propFix[b2]||b2;e=bH.propHooks[b2]}if(b5!==aC){if(e&&"set" in e&&(b1=e.set(b4,b5,b2))!==aC){return b1}else{return(b4[b2]=b5)}}else{if(e&&"get" in e&&(b1=e.get(b4,b2))!==null){return b1}else{return b4[b2]}}},propHooks:{tabIndex:{get:function(b0){var e=b0.getAttributeNode("tabindex");return e&&e.specified?parseInt(e.value,10):aB.test(b0.nodeName)||E.test(b0.nodeName)&&b0.href?0:aC}}}});bW={get:function(b0,e){var b2,b1=bH.prop(b0,e);return b1===true||typeof b1!=="boolean"&&(b2=b0.getAttributeNode(e))&&b2.nodeValue!==false?e.toLowerCase():aC},set:function(b0,b2,e){var b1;if(b2===false){bH.removeAttr(b0,e)}else{b1=bH.propFix[e]||e;if(b1 in b0){b0[b1]=true}b0.setAttribute(e,e.toLowerCase())}return e}};if(!bM){o={name:true,id:true,coords:true};a8=bH.valHooks.button={get:function(b1,b0){var e;e=b1.getAttributeNode(b0);return e&&(o[b0]?e.value!=="":e.specified)?e.value:aC},set:function(b1,b2,b0){var e=b1.getAttributeNode(b0);if(!e){e=p.createAttribute(b0);b1.setAttributeNode(e)}return(e.value=b2+"")}};bH.each(["width","height"],function(b0,e){bH.attrHooks[e]=bH.extend(bH.attrHooks[e],{set:function(b1,b2){if(b2===""){b1.setAttribute(e,"auto");return b2}}})});bH.attrHooks.contenteditable={get:a8.get,set:function(b0,b1,e){if(b1===""){b1="false"}a8.set(b0,b1,e)}}}if(!bH.support.hrefNormalized){bH.each(["href","src","width","height"],function(b0,e){bH.attrHooks[e]=bH.extend(bH.attrHooks[e],{get:function(b2){var b1=b2.getAttribute(e,2);return b1===null?aC:b1}})})}if(!bH.support.style){bH.attrHooks.style={get:function(e){return e.style.cssText.toLowerCase()||aC},set:function(e,b0){return(e.style.cssText=b0+"")}}}if(!bH.support.optSelected){bH.propHooks.selected=bH.extend(bH.propHooks.selected,{get:function(b0){var e=b0.parentNode;if(e){e.selectedIndex;if(e.parentNode){e.parentNode.selectedIndex}}return null}})}if(!bH.support.enctype){bH.propFix.enctype="encoding"}if(!bH.support.checkOn){bH.each(["radio","checkbox"],function(){bH.valHooks[this]={get:function(e){return e.getAttribute("value")===null?"on":e.value}}})}bH.each(["radio","checkbox"],function(){bH.valHooks[this]=bH.extend(bH.valHooks[this],{set:function(e,b0){if(bH.isArray(b0)){return(e.checked=bH.inArray(bH(e).val(),b0)>=0)}}})});var bF=/^(?:textarea|input|select)$/i,bs=/^([^\.]*|)(?:\.(.+)|)$/,bb=/(?:^|\s)hover(\.\S+|)\b/,a4=/^key/,bL=/^(?:mouse|contextmenu)|click/,bz=/^(?:focusinfocus|focusoutblur)$/,ar=function(e){return bH.event.special.hover?e:e.replace(bb,"mouseenter$1 mouseleave$1")};bH.event={add:function(b2,b6,cd,b4,b3){var b7,b5,ce,cc,cb,b9,e,ca,b0,b1,b8;if(b2.nodeType===3||b2.nodeType===8||!b6||!cd||!(b7=bH._data(b2))){return}if(cd.handler){b0=cd;cd=b0.handler;b3=b0.selector}if(!cd.guid){cd.guid=bH.guid++}ce=b7.events;if(!ce){b7.events=ce={}}b5=b7.handle;if(!b5){b7.handle=b5=function(cf){return typeof bH!=="undefined"&&(!cf||bH.event.triggered!==cf.type)?bH.event.dispatch.apply(b5.elem,arguments):aC};b5.elem=b2}b6=bH.trim(ar(b6)).split(" ");for(cc=0;cc<b6.length;cc++){cb=bs.exec(b6[cc])||[];b9=cb[1];e=(cb[2]||"").split(".").sort();b8=bH.event.special[b9]||{};b9=(b3?b8.delegateType:b8.bindType)||b9;b8=bH.event.special[b9]||{};ca=bH.extend({type:b9,origType:cb[1],data:b4,handler:cd,guid:cd.guid,selector:b3,needsContext:b3&&bH.expr.match.needsContext.test(b3),namespace:e.join(".")},b0);b1=ce[b9];if(!b1){b1=ce[b9]=[];b1.delegateCount=0;if(!b8.setup||b8.setup.call(b2,b4,e,b5)===false){if(b2.addEventListener){b2.addEventListener(b9,b5,false)}else{if(b2.attachEvent){b2.attachEvent("on"+b9,b5)}}}}if(b8.add){b8.add.call(b2,ca);if(!ca.handler.guid){ca.handler.guid=cd.guid}}if(b3){b1.splice(b1.delegateCount++,0,ca)}else{b1.push(ca)}bH.event.global[b9]=true}b2=null},global:{},remove:function(b2,b7,cd,b3,b6){var ce,cf,ca,b1,b0,b4,b5,cc,b9,e,cb,b8=bH.hasData(b2)&&bH._data(b2);if(!b8||!(cc=b8.events)){return}b7=bH.trim(ar(b7||"")).split(" ");for(ce=0;ce<b7.length;ce++){cf=bs.exec(b7[ce])||[];ca=b1=cf[1];b0=cf[2];if(!ca){for(ca in cc){bH.event.remove(b2,ca+b7[ce],cd,b3,true)}continue}b9=bH.event.special[ca]||{};ca=(b3?b9.delegateType:b9.bindType)||ca;e=cc[ca]||[];b4=e.length;b0=b0?new RegExp("(^|\\.)"+b0.split(".").sort().join("\\.(?:.*\\.|)")+"(\\.|$)"):null;for(b5=0;b5<e.length;b5++){cb=e[b5];if((b6||b1===cb.origType)&&(!cd||cd.guid===cb.guid)&&(!b0||b0.test(cb.namespace))&&(!b3||b3===cb.selector||b3==="**"&&cb.selector)){e.splice(b5--,1);if(cb.selector){e.delegateCount--}if(b9.remove){b9.remove.call(b2,cb)}}}if(e.length===0&&b4!==e.length){if(!b9.teardown||b9.teardown.call(b2,b0,b8.handle)===false){bH.removeEvent(b2,ca,b8.handle)}delete cc[ca]}}if(bH.isEmptyObject(cc)){delete b8.handle;bH.removeData(b2,"events",true)}},customEvent:{getData:true,setData:true,changeData:true},trigger:function(b0,b7,b5,ce){if(b5&&(b5.nodeType===3||b5.nodeType===8)){return}var e,b2,b8,cc,b4,b3,ca,b9,b6,cd,cb=b0.type||b0,b1=[];if(bz.test(cb+bH.event.triggered)){return}if(cb.indexOf("!")>=0){cb=cb.slice(0,-1);b2=true}if(cb.indexOf(".")>=0){b1=cb.split(".");cb=b1.shift();b1.sort()}if((!b5||bH.event.customEvent[cb])&&!bH.event.global[cb]){return}b0=typeof b0==="object"?b0[bH.expando]?b0:new bH.Event(cb,b0):new bH.Event(cb);b0.type=cb;b0.isTrigger=true;b0.exclusive=b2;b0.namespace=b1.join(".");b0.namespace_re=b0.namespace?new RegExp("(^|\\.)"+b1.join("\\.(?:.*\\.|)")+"(\\.|$)"):null;b3=cb.indexOf(":")<0?"on"+cb:"";if(!b5){e=bH.cache;for(b8 in e){if(e[b8].events&&e[b8].events[cb]){bH.event.trigger(b0,b7,e[b8].handle.elem,true)}}return}b0.result=aC;if(!b0.target){b0.target=b5}b7=b7!=null?bH.makeArray(b7):[];b7.unshift(b0);ca=bH.event.special[cb]||{};if(ca.trigger&&ca.trigger.apply(b5,b7)===false){return}b6=[[b5,ca.bindType||cb]];if(!ce&&!ca.noBubble&&!bH.isWindow(b5)){cd=ca.delegateType||cb;cc=bz.test(cd+cb)?b5:b5.parentNode;for(b4=b5;cc;cc=cc.parentNode){b6.push([cc,cd]);b4=cc}if(b4===(b5.ownerDocument||p)){b6.push([b4.defaultView||b4.parentWindow||a3,cd])}}for(b8=0;b8<b6.length&&!b0.isPropagationStopped();b8++){cc=b6[b8][0];b0.type=b6[b8][1];b9=(bH._data(cc,"events")||{})[b0.type]&&bH._data(cc,"handle");if(b9){b9.apply(cc,b7)}b9=b3&&cc[b3];if(b9&&bH.acceptData(cc)&&b9.apply&&b9.apply(cc,b7)===false){b0.preventDefault()}}b0.type=cb;if(!ce&&!b0.isDefaultPrevented()){if((!ca._default||ca._default.apply(b5.ownerDocument,b7)===false)&&!(cb==="click"&&bH.nodeName(b5,"a"))&&bH.acceptData(b5)){if(b3&&b5[cb]&&((cb!=="focus"&&cb!=="blur")||b0.target.offsetWidth!==0)&&!bH.isWindow(b5)){b4=b5[b3];if(b4){b5[b3]=null}bH.event.triggered=cb;b5[cb]();bH.event.triggered=aC;if(b4){b5[b3]=b4}}}}return b0.result},dispatch:function(e){e=bH.event.fix(e||a3.event);var b6,b5,cf,b9,b8,b0,b7,cd,b2,ce,b3=((bH._data(this,"events")||{})[e.type]||[]),b4=b3.delegateCount,cb=a5.call(arguments),b1=!e.exclusive&&!e.namespace,ca=bH.event.special[e.type]||{},cc=[];cb[0]=e;e.delegateTarget=this;if(ca.preDispatch&&ca.preDispatch.call(this,e)===false){return}if(b4&&!(e.button&&e.type==="click")){for(cf=e.target;cf!=this;cf=cf.parentNode||this){if(cf.disabled!==true||e.type!=="click"){b8={};b7=[];for(b6=0;b6<b4;b6++){cd=b3[b6];b2=cd.selector;if(b8[b2]===aC){b8[b2]=cd.needsContext?bH(b2,this).index(cf)>=0:bH.find(b2,this,null,[cf]).length}if(b8[b2]){b7.push(cd)}}if(b7.length){cc.push({elem:cf,matches:b7})}}}}if(b3.length>b4){cc.push({elem:this,matches:b3.slice(b4)})}for(b6=0;b6<cc.length&&!e.isPropagationStopped();b6++){b0=cc[b6];e.currentTarget=b0.elem;for(b5=0;b5<b0.matches.length&&!e.isImmediatePropagationStopped();b5++){cd=b0.matches[b5];if(b1||(!e.namespace&&!cd.namespace)||e.namespace_re&&e.namespace_re.test(cd.namespace)){e.data=cd.data;e.handleObj=cd;b9=((bH.event.special[cd.origType]||{}).handle||cd.handler).apply(b0.elem,cb);if(b9!==aC){e.result=b9;if(b9===false){e.preventDefault();e.stopPropagation()}}}}}if(ca.postDispatch){ca.postDispatch.call(this,e)}return e.result},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(b0,e){if(b0.which==null){b0.which=e.charCode!=null?e.charCode:e.keyCode}return b0}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(b2,b1){var b3,b4,e,b0=b1.button,b5=b1.fromElement;if(b2.pageX==null&&b1.clientX!=null){b3=b2.target.ownerDocument||p;b4=b3.documentElement;e=b3.body;b2.pageX=b1.clientX+(b4&&b4.scrollLeft||e&&e.scrollLeft||0)-(b4&&b4.clientLeft||e&&e.clientLeft||0);b2.pageY=b1.clientY+(b4&&b4.scrollTop||e&&e.scrollTop||0)-(b4&&b4.clientTop||e&&e.clientTop||0)}if(!b2.relatedTarget&&b5){b2.relatedTarget=b5===b2.target?b1.toElement:b5}if(!b2.which&&b0!==aC){b2.which=(b0&1?1:(b0&2?3:(b0&4?2:0)))}return b2}},fix:function(b1){if(b1[bH.expando]){return b1}var b0,b4,e=b1,b2=bH.event.fixHooks[b1.type]||{},b3=b2.props?this.props.concat(b2.props):this.props;b1=bH.Event(e);for(b0=b3.length;b0;){b4=b3[--b0];b1[b4]=e[b4]}if(!b1.target){b1.target=e.srcElement||p}if(b1.target.nodeType===3){b1.target=b1.target.parentNode}b1.metaKey=!!b1.metaKey;return b2.filter?b2.filter(b1,e):b1},special:{load:{noBubble:true},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(b1,b0,e){if(bH.isWindow(this)){this.onbeforeunload=e}},teardown:function(b0,e){if(this.onbeforeunload===e){this.onbeforeunload=null}}}},simulate:function(b1,b3,b2,b0){var b4=bH.extend(new bH.Event(),b2,{type:b1,isSimulated:true,originalEvent:{}});if(b0){bH.event.trigger(b4,null,b3)}else{bH.event.dispatch.call(b3,b4)}if(b4.isDefaultPrevented()){b2.preventDefault()}}};bH.event.handle=bH.event.dispatch;bH.removeEvent=p.removeEventListener?function(b0,e,b1){if(b0.removeEventListener){b0.removeEventListener(e,b1,false)}}:function(b1,b0,b2){var e="on"+b0;if(b1.detachEvent){if(typeof b1[e]==="undefined"){b1[e]=null}b1.detachEvent(e,b2)}};bH.Event=function(b0,e){if(!(this instanceof bH.Event)){return new bH.Event(b0,e)}if(b0&&b0.type){this.originalEvent=b0;this.type=b0.type;this.isDefaultPrevented=(b0.defaultPrevented||b0.returnValue===false||b0.getPreventDefault&&b0.getPreventDefault())?S:Y}else{this.type=b0}if(e){bH.extend(this,e)}this.timeStamp=b0&&b0.timeStamp||bH.now();this[bH.expando]=true};function Y(){return false}function S(){return true}bH.Event.prototype={preventDefault:function(){this.isDefaultPrevented=S;var b0=this.originalEvent;if(!b0){return}if(b0.preventDefault){b0.preventDefault()}else{b0.returnValue=false}},stopPropagation:function(){this.isPropagationStopped=S;var b0=this.originalEvent;if(!b0){return}if(b0.stopPropagation){b0.stopPropagation()}b0.cancelBubble=true},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=S;this.stopPropagation()},isDefaultPrevented:Y,isPropagationStopped:Y,isImmediatePropagationStopped:Y};bH.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(b0,e){bH.event.special[b0]={delegateType:e,bindType:e,handle:function(b4){var b2,b6=this,b5=b4.relatedTarget,b3=b4.handleObj,b1=b3.selector;if(!b5||(b5!==b6&&!bH.contains(b6,b5))){b4.type=b3.origType;b2=b3.handler.apply(this,arguments);b4.type=e}return b2}}});if(!bH.support.submitBubbles){bH.event.special.submit={setup:function(){if(bH.nodeName(this,"form")){return false}bH.event.add(this,"click._submit keypress._submit",function(b2){var b1=b2.target,b0=bH.nodeName(b1,"input")||bH.nodeName(b1,"button")?b1.form:aC;if(b0&&!bH._data(b0,"_submit_attached")){bH.event.add(b0,"submit._submit",function(e){e._submit_bubble=true});bH._data(b0,"_submit_attached",true)}})},postDispatch:function(e){if(e._submit_bubble){delete e._submit_bubble;if(this.parentNode&&!e.isTrigger){bH.event.simulate("submit",this.parentNode,e,true)}}},teardown:function(){if(bH.nodeName(this,"form")){return false}bH.event.remove(this,"._submit")}}}if(!bH.support.changeBubbles){bH.event.special.change={setup:function(){if(bF.test(this.nodeName)){if(this.type==="checkbox"||this.type==="radio"){bH.event.add(this,"propertychange._change",function(e){if(e.originalEvent.propertyName==="checked"){this._just_changed=true}});bH.event.add(this,"click._change",function(e){if(this._just_changed&&!e.isTrigger){this._just_changed=false}bH.event.simulate("change",this,e,true)})}return false}bH.event.add(this,"beforeactivate._change",function(b1){var b0=b1.target;if(bF.test(b0.nodeName)&&!bH._data(b0,"_change_attached")){bH.event.add(b0,"change._change",function(e){if(this.parentNode&&!e.isSimulated&&!e.isTrigger){bH.event.simulate("change",this.parentNode,e,true)}});bH._data(b0,"_change_attached",true)}})},handle:function(b0){var e=b0.target;if(this!==e||b0.isSimulated||b0.isTrigger||(e.type!=="radio"&&e.type!=="checkbox")){return b0.handleObj.handler.apply(this,arguments)}},teardown:function(){bH.event.remove(this,"._change");return !bF.test(this.nodeName)}}}if(!bH.support.focusinBubbles){bH.each({focus:"focusin",blur:"focusout"},function(b2,e){var b0=0,b1=function(b3){bH.event.simulate(e,b3.target,bH.event.fix(b3),true)};bH.event.special[e]={setup:function(){if(b0++===0){p.addEventListener(b2,b1,true)}},teardown:function(){if(--b0===0){p.removeEventListener(b2,b1,true)}}}})}bH.fn.extend({on:function(b1,e,b4,b3,b0){var b5,b2;if(typeof b1==="object"){if(typeof e!=="string"){b4=b4||e;e=aC}for(b2 in b1){this.on(b2,e,b4,b1[b2],b0)}return this}if(b4==null&&b3==null){b3=e;b4=e=aC}else{if(b3==null){if(typeof e==="string"){b3=b4;b4=aC}else{b3=b4;b4=e;e=aC}}}if(b3===false){b3=Y}else{if(!b3){return this}}if(b0===1){b5=b3;b3=function(b6){bH().off(b6);return b5.apply(this,arguments)};b3.guid=b5.guid||(b5.guid=bH.guid++)}return this.each(function(){bH.event.add(this,b1,b3,b4,e)})},one:function(b0,e,b2,b1){return this.on(b0,e,b2,b1,1)},off:function(b1,e,b3){var b0,b2;if(b1&&b1.preventDefault&&b1.handleObj){b0=b1.handleObj;bH(b1.delegateTarget).off(b0.namespace?b0.origType+"."+b0.namespace:b0.origType,b0.selector,b0.handler);return this}if(typeof b1==="object"){for(b2 in b1){this.off(b2,e,b1[b2])}return this}if(e===false||typeof e==="function"){b3=e;e=aC}if(b3===false){b3=Y}return this.each(function(){bH.event.remove(this,b1,b3,e)})},bind:function(e,b1,b0){return this.on(e,null,b1,b0)},unbind:function(e,b0){return this.off(e,null,b0)},live:function(e,b1,b0){bH(this.context).on(e,this.selector,b1,b0);return this},die:function(e,b0){bH(this.context).off(e,this.selector||"**",b0);return this},delegate:function(e,b0,b2,b1){return this.on(b0,e,b2,b1)},undelegate:function(e,b0,b1){return arguments.length===1?this.off(e,"**"):this.off(b0,e||"**",b1)},trigger:function(e,b0){return this.each(function(){bH.event.trigger(e,b0,this)})},triggerHandler:function(e,b0){if(this[0]){return bH.event.trigger(e,b0,this[0],true)}},toggle:function(b2){var b0=arguments,e=b2.guid||bH.guid++,b1=0,b3=function(b4){var b5=(bH._data(this,"lastToggle"+b2.guid)||0)%b1;bH._data(this,"lastToggle"+b2.guid,b5+1);b4.preventDefault();return b0[b5].apply(this,arguments)||false};b3.guid=e;while(b1<b0.length){b0[b1++].guid=e}return this.click(b3)},hover:function(e,b0){return this.mouseenter(e).mouseleave(b0||e)}});bH.each(("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu").split(" "),function(b0,e){bH.fn[e]=function(b2,b1){if(b1==null){b1=b2;b2=null}return arguments.length>0?this.on(e,null,b2,b1):this.trigger(e)};if(a4.test(e)){bH.event.fixHooks[e]=bH.event.keyHooks}if(bL.test(e)){bH.event.fixHooks[e]=bH.event.mouseHooks}});
/*
 * Sizzle CSS Selector Engine
 * Copyright 2012 jQuery Foundation and other contributors
 * Released under the MIT license
 * http://sizzlejs.com/
 */
(function(cT,ci){var cY,cb,cM,b1,cn,cB,ce,ch,cd,cK,ca=true,cv="undefined",c0=("sizcache"+Math.random()).replace(".",""),b5=String,b9=cT.document,cc=b9.documentElement,cs=0,cg=0,cF=[].pop,cX=[].push,cm=[].slice,cp=[].indexOf||function(c9){var c8=0,e=this.length;for(;c8<e;c8++){if(this[c8]===c9){return c8}}return -1},c2=function(e,c8){e[c0]=c8==null||c8;return e},c6=function(){var e={},c8=[];return c2(function(c9,da){if(c8.push(c9)>cM.cacheLength){delete e[c8.shift()]}return(e[c9+" "]=da)},e)},cV=c6(),cW=c6(),co=c6(),cz="[\\x20\\t\\r\\n\\f]",cl="(?:\\\\.|[-\\w]|[^\\x00-\\xa0])+",cj=cl.replace("w","w#"),c5="([*^$|!~]?=)",cQ="\\["+cz+"*("+cl+")"+cz+"*(?:"+c5+cz+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+cj+")|)|)"+cz+"*\\]",c7=":("+cl+")(?:\\((?:(['\"])((?:\\\\.|[^\\\\])*?)\\2|([^()[\\]]*|(?:(?:"+cQ+")|[^:]|\\\\.)*|.*))\\)|)",cA=":(even|odd|eq|gt|lt|nth|first|last)(?:\\("+cz+"*((?:-\\d)?\\d*)"+cz+"*\\)|)(?=[^-]|$)",cU=new RegExp("^"+cz+"+|((?:^|[^\\\\])(?:\\\\.)*)"+cz+"+$","g"),b6=new RegExp("^"+cz+"*,"+cz+"*"),cI=new RegExp("^"+cz+"*([\\x20\\t\\r\\n\\f>+~])"+cz+"*"),cN=new RegExp(c7),cP=/^(?:#([\w\-]+)|(\w+)|\.([\w\-]+))$/,cE=/^:not/,cS=/[\x20\t\r\n\f]*[+~]/,c1=/:not\($/,ct=/h\d/i,cO=/input|select|textarea|button/i,cu=/\\(?!\\)/g,cH={ID:new RegExp("^#("+cl+")"),CLASS:new RegExp("^\\.("+cl+")"),NAME:new RegExp("^\\[name=['\"]?("+cl+")['\"]?\\]"),TAG:new RegExp("^("+cl.replace("w","w*")+")"),ATTR:new RegExp("^"+cQ),PSEUDO:new RegExp("^"+c7),POS:new RegExp(cA,"i"),CHILD:new RegExp("^:(only|nth|first|last)-child(?:\\("+cz+"*(even|odd|(([+-]|)(\\d*)n|)"+cz+"*(?:([+-]|)"+cz+"*(\\d+)|))"+cz+"*\\)|)","i"),needsContext:new RegExp("^"+cz+"*[>+~]|"+cA,"i")},cL=function(c8){var da=b9.createElement("div");try{return c8(da)}catch(c9){return false}finally{da=null}},b8=cL(function(e){e.appendChild(b9.createComment(""));return !e.getElementsByTagName("*").length}),cD=cL(function(e){e.innerHTML="<a href='#'></a>";return e.firstChild&&typeof e.firstChild.getAttribute!==cv&&e.firstChild.getAttribute("href")==="#"}),cr=cL(function(c8){c8.innerHTML="<select></select>";var e=typeof c8.lastChild.getAttribute("multiple");return e!=="boolean"&&e!=="string"}),cC=cL(function(e){e.innerHTML="<div class='hidden e'></div><div class='hidden'></div>";if(!e.getElementsByClassName||!e.getElementsByClassName("e").length){return false}e.lastChild.className="e";return e.getElementsByClassName("e").length===2}),b0=cL(function(c8){c8.id=c0+0;c8.innerHTML="<a name='"+c0+"'></a><div name='"+c0+"'></div>";cc.insertBefore(c8,cc.firstChild);var e=b9.getElementsByName&&b9.getElementsByName(c0).length===2+b9.getElementsByName(c0+0).length;cb=!b9.getElementById(c0);cc.removeChild(c8);return e});try{cm.call(cc.childNodes,0)[0].nodeType}catch(c4){cm=function(c8){var c9,e=[];for(;(c9=this[c8]);c8++){e.push(c9)}return e}}function cR(da,e,dc,df){dc=dc||[];e=e||b9;var dd,c8,de,c9,db=e.nodeType;if(!da||typeof da!=="string"){return dc}if(db!==1&&db!==9){return[]}de=cn(e);if(!de&&!df){if((dd=cP.exec(da))){if((c9=dd[1])){if(db===9){c8=e.getElementById(c9);if(c8&&c8.parentNode){if(c8.id===c9){dc.push(c8);return dc}}else{return dc}}else{if(e.ownerDocument&&(c8=e.ownerDocument.getElementById(c9))&&cB(e,c8)&&c8.id===c9){dc.push(c8);return dc}}}else{if(dd[2]){cX.apply(dc,cm.call(e.getElementsByTagName(da),0));return dc}else{if((c9=dd[3])&&cC&&e.getElementsByClassName){cX.apply(dc,cm.call(e.getElementsByClassName(c9),0));return dc}}}}}return cZ(da.replace(cU,"$1"),e,dc,df,de)}cR.matches=function(c8,e){return cR(c8,null,null,e)};cR.matchesSelector=function(e,c8){return cR(c8,null,null,[e]).length>0};function cJ(e){return function(c9){var c8=c9.nodeName.toLowerCase();return c8==="input"&&c9.type===e}}function b4(e){return function(c9){var c8=c9.nodeName.toLowerCase();return(c8==="input"||c8==="button")&&c9.type===e}}function cG(e){return c2(function(c8){c8=+c8;return c2(function(c9,dd){var db,da=e([],c9.length,c8),dc=da.length;while(dc--){if(c9[(db=da[dc])]){c9[db]=!(dd[db]=c9[db])}}})})}b1=cR.getText=function(db){var da,c8="",c9=0,e=db.nodeType;if(e){if(e===1||e===9||e===11){if(typeof db.textContent==="string"){return db.textContent}else{for(db=db.firstChild;db;db=db.nextSibling){c8+=b1(db)}}}else{if(e===3||e===4){return db.nodeValue}}}else{for(;(da=db[c9]);c9++){c8+=b1(da)}}return c8};cn=cR.isXML=function(e){var c8=e&&(e.ownerDocument||e).documentElement;return c8?c8.nodeName!=="HTML":false};cB=cR.contains=cc.contains?function(c8,e){var da=c8.nodeType===9?c8.documentElement:c8,c9=e&&e.parentNode;return c8===c9||!!(c9&&c9.nodeType===1&&da.contains&&da.contains(c9))}:cc.compareDocumentPosition?function(c8,e){return e&&!!(c8.compareDocumentPosition(e)&16)}:function(c8,e){while((e=e.parentNode)){if(e===c8){return true}}return false};cR.attr=function(c9,c8){var da,e=cn(c9);if(!e){c8=c8.toLowerCase()}if((da=cM.attrHandle[c8])){return da(c9)}if(e||cr){return c9.getAttribute(c8)}da=c9.getAttributeNode(c8);return da?typeof c9[c8]==="boolean"?c9[c8]?c8:null:da.specified?da.value:null:null};cM=cR.selectors={cacheLength:50,createPseudo:c2,match:cH,attrHandle:cD?{}:{href:function(e){return e.getAttribute("href",2)},type:function(e){return e.getAttribute("type")}},find:{ID:cb?function(da,c9,c8){if(typeof c9.getElementById!==cv&&!c8){var e=c9.getElementById(da);return e&&e.parentNode?[e]:[]}}:function(da,c9,c8){if(typeof c9.getElementById!==cv&&!c8){var e=c9.getElementById(da);return e?e.id===da||typeof e.getAttributeNode!==cv&&e.getAttributeNode("id").value===da?[e]:ci:[]}},TAG:b8?function(e,c8){if(typeof c8.getElementsByTagName!==cv){return c8.getElementsByTagName(e)}}:function(e,db){var da=db.getElementsByTagName(e);if(e==="*"){var dc,c9=[],c8=0;for(;(dc=da[c8]);c8++){if(dc.nodeType===1){c9.push(dc)}}return c9}return da},NAME:b0&&function(e,c8){if(typeof c8.getElementsByName!==cv){return c8.getElementsByName(name)}},CLASS:cC&&function(c9,c8,e){if(typeof c8.getElementsByClassName!==cv&&!e){return c8.getElementsByClassName(c9)}}},relative:{">":{dir:"parentNode",first:true}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:true},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){e[1]=e[1].replace(cu,"");e[3]=(e[4]||e[5]||"").replace(cu,"");if(e[2]==="~="){e[3]=" "+e[3]+" "}return e.slice(0,4)},CHILD:function(e){e[1]=e[1].toLowerCase();if(e[1]==="nth"){if(!e[2]){cR.error(e[0])}e[3]=+(e[3]?e[4]+(e[5]||1):2*(e[2]==="even"||e[2]==="odd"));e[4]=+((e[6]+e[7])||e[2]==="odd")}else{if(e[2]){cR.error(e[0])}}return e},PSEUDO:function(c8){var c9,e;if(cH.CHILD.test(c8[0])){return null}if(c8[3]){c8[2]=c8[3]}else{if((c9=c8[4])){if(cN.test(c9)&&(e=b2(c9,true))&&(e=c9.indexOf(")",c9.length-e)-c9.length)){c9=c9.slice(0,e);c8[0]=c8[0].slice(0,e)}c8[2]=c9}}return c8.slice(0,3)}},filter:{ID:cb?function(e){e=e.replace(cu,"");return function(c8){return c8.getAttribute("id")===e}}:function(e){e=e.replace(cu,"");return function(c9){var c8=typeof c9.getAttributeNode!==cv&&c9.getAttributeNode("id");return c8&&c8.value===e}},TAG:function(e){if(e==="*"){return function(){return true}}e=e.replace(cu,"").toLowerCase();return function(c8){return c8.nodeName&&c8.nodeName.toLowerCase()===e}},CLASS:function(e){var c8=cV[c0][e+" "];return c8||(c8=new RegExp("(^|"+cz+")"+e+"("+cz+"|$)"))&&cV(e,function(c9){return c8.test(c9.className||(typeof c9.getAttribute!==cv&&c9.getAttribute("class"))||"")})},ATTR:function(c9,c8,e){return function(dc,db){var da=cR.attr(dc,c9);if(da==null){return c8==="!="}if(!c8){return true}da+="";return c8==="="?da===e:c8==="!="?da!==e:c8==="^="?e&&da.indexOf(e)===0:c8==="*="?e&&da.indexOf(e)>-1:c8==="$="?e&&da.substr(da.length-e.length)===e:c8==="~="?(" "+da+" ").indexOf(e)>-1:c8==="|="?da===e||da.substr(0,e.length+1)===e+"-":false}},CHILD:function(e,c9,da,c8){if(e==="nth"){return function(dd){var dc,de,db=dd.parentNode;if(da===1&&c8===0){return true}if(db){de=0;for(dc=db.firstChild;dc;dc=dc.nextSibling){if(dc.nodeType===1){de++;if(dd===dc){break}}}}de-=c8;return de===da||(de%da===0&&de/da>=0)}}return function(dc){var db=dc;switch(e){case"only":case"first":while((db=db.previousSibling)){if(db.nodeType===1){return false}}if(e==="first"){return true}db=dc;case"last":while((db=db.nextSibling)){if(db.nodeType===1){return false}}return true}}},PSEUDO:function(da,c9){var e,c8=cM.pseudos[da]||cM.setFilters[da.toLowerCase()]||cR.error("unsupported pseudo: "+da);if(c8[c0]){return c8(c9)}if(c8.length>1){e=[da,da,"",c9];return cM.setFilters.hasOwnProperty(da.toLowerCase())?c2(function(dd,df){var dc,db=c8(dd,c9),de=db.length;while(de--){dc=cp.call(dd,db[de]);dd[dc]=!(df[dc]=db[de])}}):function(db){return c8(db,0,e)}}return c8}},pseudos:{not:c2(function(e){var c8=[],c9=[],da=ce(e.replace(cU,"$1"));return da[c0]?c2(function(dc,dh,df,dd){var dg,db=da(dc,null,dd,[]),de=dc.length;while(de--){if((dg=db[de])){dc[de]=!(dh[de]=dg)}}}):function(dd,dc,db){c8[0]=dd;da(c8,null,db,c9);return !c9.pop()}}),has:c2(function(e){return function(c8){return cR(e,c8).length>0}}),contains:c2(function(e){return function(c8){return(c8.textContent||c8.innerText||b1(c8)).indexOf(e)>-1}}),enabled:function(e){return e.disabled===false},disabled:function(e){return e.disabled===true},checked:function(e){var c8=e.nodeName.toLowerCase();return(c8==="input"&&!!e.checked)||(c8==="option"&&!!e.selected)},selected:function(e){if(e.parentNode){e.parentNode.selectedIndex}return e.selected===true},parent:function(e){return !cM.pseudos.empty(e)},empty:function(c8){var e;c8=c8.firstChild;while(c8){if(c8.nodeName>"@"||(e=c8.nodeType)===3||e===4){return false}c8=c8.nextSibling}return true},header:function(e){return ct.test(e.nodeName)},text:function(c9){var c8,e;return c9.nodeName.toLowerCase()==="input"&&(c8=c9.type)==="text"&&((e=c9.getAttribute("type"))==null||e.toLowerCase()===c8)},radio:cJ("radio"),checkbox:cJ("checkbox"),file:cJ("file"),password:cJ("password"),image:cJ("image"),submit:b4("submit"),reset:b4("reset"),button:function(c8){var e=c8.nodeName.toLowerCase();return e==="input"&&c8.type==="button"||e==="button"},input:function(e){return cO.test(e.nodeName)},focus:function(e){var c8=e.ownerDocument;return e===c8.activeElement&&(!c8.hasFocus||c8.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},active:function(e){return e===e.ownerDocument.activeElement},first:cG(function(){return[0]}),last:cG(function(e,c8){return[c8-1]}),eq:cG(function(e,c9,c8){return[c8<0?c8+c9:c8]}),even:cG(function(e,c9){for(var c8=0;c8<c9;c8+=2){e.push(c8)}return e}),odd:cG(function(e,c9){for(var c8=1;c8<c9;c8+=2){e.push(c8)}return e}),lt:cG(function(e,da,c9){for(var c8=c9<0?c9+da:c9;--c8>=0;){e.push(c8)}return e}),gt:cG(function(e,da,c9){for(var c8=c9<0?c9+da:c9;++c8<da;){e.push(c8)}return e})}};function b3(c8,e,c9){if(c8===e){return c9}var da=c8.nextSibling;while(da){if(da===e){return -1}da=da.nextSibling}return 1}ch=cc.compareDocumentPosition?function(c8,e){if(c8===e){cd=true;return 0}return(!c8.compareDocumentPosition||!e.compareDocumentPosition?c8.compareDocumentPosition:c8.compareDocumentPosition(e)&4)?-1:1}:function(df,de){if(df===de){cd=true;return 0}else{if(df.sourceIndex&&de.sourceIndex){return df.sourceIndex-de.sourceIndex}}var dc,c8,c9=[],e=[],db=df.parentNode,dd=de.parentNode,dg=db;if(db===dd){return b3(df,de)}else{if(!db){return -1}else{if(!dd){return 1}}}while(dg){c9.unshift(dg);dg=dg.parentNode}dg=dd;while(dg){e.unshift(dg);dg=dg.parentNode}dc=c9.length;c8=e.length;for(var da=0;da<dc&&da<c8;da++){if(c9[da]!==e[da]){return b3(c9[da],e[da])}}return da===dc?b3(df,e[da],-1):b3(c9[da],de,1)};[0,0].sort(ch);ca=!cd;cR.uniqueSort=function(c9){var da,db=[],c8=1,e=0;cd=ca;c9.sort(ch);if(cd){for(;(da=c9[c8]);c8++){if(da===c9[c8-1]){e=db.push(c8)}}while(e--){c9.splice(db[e],1)}}return c9};cR.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)};function b2(db,dg){var c8,dc,de,df,dd,c9,e,da=cW[c0][db+" "];if(da){return dg?0:da.slice(0)}dd=db;c9=[];e=cM.preFilter;while(dd){if(!c8||(dc=b6.exec(dd))){if(dc){dd=dd.slice(dc[0].length)||dd}c9.push(de=[])}c8=false;if((dc=cI.exec(dd))){de.push(c8=new b5(dc.shift()));dd=dd.slice(c8.length);c8.type=dc[0].replace(cU," ")}for(df in cM.filter){if((dc=cH[df].exec(dd))&&(!e[df]||(dc=e[df](dc)))){de.push(c8=new b5(dc.shift()));dd=dd.slice(c8.length);c8.type=df;c8.matches=dc}}if(!c8){break}}return dg?dd.length:dd?cR.error(db):cW(db,c9).slice(0)}function cx(db,c9,da){var e=c9.dir,dc=da&&c9.dir==="parentNode",c8=cg++;return c9.first?function(df,de,dd){while((df=df[e])){if(dc||df.nodeType===1){return db(df,de,dd)}}}:function(dg,df,de){if(!de){var dd,dh=cs+" "+c8+" ",di=dh+cY;while((dg=dg[e])){if(dc||dg.nodeType===1){if((dd=dg[c0])===di){return dg.sizset}else{if(typeof dd==="string"&&dd.indexOf(dh)===0){if(dg.sizset){return dg}}else{dg[c0]=di;if(db(dg,df,de)){dg.sizset=true;return dg}dg.sizset=false}}}}}else{while((dg=dg[e])){if(dc||dg.nodeType===1){if(db(dg,df,de)){return dg}}}}}}function cf(e){return e.length>1?function(db,da,c8){var c9=e.length;while(c9--){if(!e[c9](db,da,c8)){return false}}return true}:e[0]}function cw(e,c8,c9,da,dd){var db,dg=[],dc=0,de=e.length,df=c8!=null;for(;dc<de;dc++){if((db=e[dc])){if(!c9||c9(db,da,dd)){dg.push(db);if(df){c8.push(dc)}}}}return dg}function c3(c9,c8,db,da,dc,e){if(da&&!da[c0]){da=c3(da)}if(dc&&!dc[c0]){dc=c3(dc,e)}return c2(function(dn,dk,df,dm){var dq,dl,dh,dg=[],dp=[],de=dk.length,dd=dn||cq(c8||"*",df.nodeType?[df]:df,[]),di=c9&&(dn||!c8)?cw(dd,dg,c9,df,dm):dd,dj=db?dc||(dn?c9:de||da)?[]:dk:di;if(db){db(di,dj,df,dm)}if(da){dq=cw(dj,dp);da(dq,[],df,dm);dl=dq.length;while(dl--){if((dh=dq[dl])){dj[dp[dl]]=!(di[dp[dl]]=dh)}}}if(dn){if(dc||c9){if(dc){dq=[];dl=dj.length;while(dl--){if((dh=dj[dl])){dq.push((di[dl]=dh))}}dc(null,(dj=[]),dq,dm)}dl=dj.length;while(dl--){if((dh=dj[dl])&&(dq=dc?cp.call(dn,dh):dg[dl])>-1){dn[dq]=!(dk[dq]=dh)}}}}else{dj=cw(dj===dk?dj.splice(de,dj.length):dj);if(dc){dc(null,dk,dj,dm)}else{cX.apply(dk,dj)}}})}function cy(dd){var c8,db,c9,dc=dd.length,dg=cM.relative[dd[0].type],dh=dg||cM.relative[" "],da=dg?1:0,de=cx(function(di){return di===c8},dh,true),df=cx(function(di){return cp.call(c8,di)>-1},dh,true),e=[function(dk,dj,di){return(!dg&&(di||dj!==cK))||((c8=dj).nodeType?de(dk,dj,di):df(dk,dj,di))}];for(;da<dc;da++){if((db=cM.relative[dd[da].type])){e=[cx(cf(e),db)]}else{db=cM.filter[dd[da].type].apply(null,dd[da].matches);if(db[c0]){c9=++da;for(;c9<dc;c9++){if(cM.relative[dd[c9].type]){break}}return c3(da>1&&cf(e),da>1&&dd.slice(0,da-1).join("").replace(cU,"$1"),db,da<c9&&cy(dd.slice(da,c9)),c9<dc&&cy((dd=dd.slice(c9))),c9<dc&&dd.join(""))}e.push(db)}}return cf(e)}function b7(da,c9){var e=c9.length>0,db=da.length>0,c8=function(dl,df,dk,dj,ds){var dg,dh,dm,dr=[],dq=0,di="0",dc=dl&&[],dn=ds!=null,dp=cK,de=dl||db&&cM.find.TAG("*",ds&&df.parentNode||df),dd=(cs+=dp==null?1:Math.E);if(dn){cK=df!==b9&&df;cY=c8.el}for(;(dg=de[di])!=null;di++){if(db&&dg){for(dh=0;(dm=da[dh]);dh++){if(dm(dg,df,dk)){dj.push(dg);break}}if(dn){cs=dd;cY=++c8.el}}if(e){if((dg=!dm&&dg)){dq--}if(dl){dc.push(dg)}}}dq+=di;if(e&&di!==dq){for(dh=0;(dm=c9[dh]);dh++){dm(dc,dr,df,dk)}if(dl){if(dq>0){while(di--){if(!(dc[di]||dr[di])){dr[di]=cF.call(dj)}}}dr=cw(dr)}cX.apply(dj,dr);if(dn&&!dl&&dr.length>0&&(dq+c9.length)>1){cR.uniqueSort(dj)}}if(dn){cs=dd;cK=dp}return dc};c8.el=0;return e?c2(c8):c8}ce=cR.compile=function(e,dc){var c9,c8=[],db=[],da=co[c0][e+" "];if(!da){if(!dc){dc=b2(e)}c9=dc.length;while(c9--){da=cy(dc[c9]);if(da[c0]){c8.push(da)}else{db.push(da)}}da=co(e,b7(db,c8))}return da};function cq(c8,db,da){var c9=0,e=db.length;for(;c9<e;c9++){cR(c8,db[c9],da)}return da}function cZ(c9,e,db,df,de){var dc,di,c8,dh,dg,dd=b2(c9),da=dd.length;if(!df){if(dd.length===1){di=dd[0]=dd[0].slice(0);if(di.length>2&&(c8=di[0]).type==="ID"&&e.nodeType===9&&!de&&cM.relative[di[1].type]){e=cM.find.ID(c8.matches[0].replace(cu,""),e,de)[0];if(!e){return db}c9=c9.slice(di.shift().length)}for(dc=cH.POS.test(c9)?-1:di.length-1;dc>=0;dc--){c8=di[dc];if(cM.relative[(dh=c8.type)]){break}if((dg=cM.find[dh])){if((df=dg(c8.matches[0].replace(cu,""),cS.test(di[0].type)&&e.parentNode||e,de))){di.splice(dc,1);c9=df.length&&di.join("");if(!c9){cX.apply(db,cm.call(df,0));return db}break}}}}}ce(c9,dd)(df,e,de,db,cS.test(c9));return db}if(b9.querySelectorAll){(function(){var dc,dd=cZ,db=/'|\\/g,c9=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,c8=[":focus"],e=[":active"],da=cc.matchesSelector||cc.mozMatchesSelector||cc.webkitMatchesSelector||cc.oMatchesSelector||cc.msMatchesSelector;cL(function(de){de.innerHTML="<select><option selected=''></option></select>";if(!de.querySelectorAll("[selected]").length){c8.push("\\["+cz+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)")}if(!de.querySelectorAll(":checked").length){c8.push(":checked")}});cL(function(de){de.innerHTML="<p test=''></p>";if(de.querySelectorAll("[test^='']").length){c8.push("[*^$]="+cz+"*(?:\"\"|'')")}de.innerHTML="<input type='hidden'/>";if(!de.querySelectorAll(":enabled").length){c8.push(":enabled",":disabled")}});c8=new RegExp(c8.join("|"));cZ=function(dk,df,dm,dq,dp){if(!dq&&!dp&&!c8.test(dk)){var di,dn,dh=true,de=c0,dg=df,dl=df.nodeType===9&&dk;if(df.nodeType===1&&df.nodeName.toLowerCase()!=="object"){di=b2(dk);if((dh=df.getAttribute("id"))){de=dh.replace(db,"\\$&")}else{df.setAttribute("id",de)}de="[id='"+de+"'] ";dn=di.length;while(dn--){di[dn]=de+di[dn].join("")}dg=cS.test(dk)&&df.parentNode||df;dl=di.join(",")}if(dl){try{cX.apply(dm,cm.call(dg.querySelectorAll(dl),0));return dm}catch(dj){}finally{if(!dh){df.removeAttribute("id")}}}}return dd(dk,df,dm,dq,dp)};if(da){cL(function(df){dc=da.call(df,"div");try{da.call(df,"[test!='']:sizzle");e.push("!=",c7)}catch(de){}});e=new RegExp(e.join("|"));cR.matchesSelector=function(df,dh){dh=dh.replace(c9,"='$1']");if(!cn(df)&&!e.test(dh)&&!c8.test(dh)){try{var de=da.call(df,dh);if(de||dc||df.document&&df.document.nodeType!==11){return de}}catch(dg){}}return cR(dh,null,null,[df]).length>0}}})()}cM.pseudos.nth=cM.pseudos.eq;function ck(){}cM.filters=ck.prototype=cM.pseudos;cM.setFilters=new ck();cR.attr=bH.attr;bH.find=cR;bH.expr=cR.selectors;bH.expr[":"]=bH.expr.pseudos;bH.unique=cR.uniqueSort;bH.text=cR.getText;bH.isXMLDoc=cR.isXML;bH.contains=cR.contains})(a3);var ah=/Until$/,br=/^(?:parents|prev(?:Until|All))/,am=/^.[^:#\[\.,]*$/,z=bH.expr.match.needsContext,bv={children:true,contents:true,next:true,prev:true};bH.fn.extend({find:function(e){var b3,b0,b5,b6,b4,b2,b1=this;if(typeof e!=="string"){return bH(e).filter(function(){for(b3=0,b0=b1.length;b3<b0;b3++){if(bH.contains(b1[b3],this)){return true}}})}b2=this.pushStack("","find",e);for(b3=0,b0=this.length;b3<b0;b3++){b5=b2.length;bH.find(e,this[b3],b2);if(b3>0){for(b6=b5;b6<b2.length;b6++){for(b4=0;b4<b5;b4++){if(b2[b4]===b2[b6]){b2.splice(b6--,1);break}}}}}return b2},has:function(b2){var b1,b0=bH(b2,this),e=b0.length;return this.filter(function(){for(b1=0;b1<e;b1++){if(bH.contains(this,b0[b1])){return true}}})},not:function(e){return this.pushStack(aN(this,e,false),"not",e)},filter:function(e){return this.pushStack(aN(this,e,true),"filter",e)},is:function(e){return !!e&&(typeof e==="string"?z.test(e)?bH(e,this.context).index(this[0])>=0:bH.filter(e,this).length>0:this.filter(e).length>0)},closest:function(b3,b2){var b4,b1=0,e=this.length,b0=[],b5=z.test(b3)||typeof b3!=="string"?bH(b3,b2||this.context):0;for(;b1<e;b1++){b4=this[b1];while(b4&&b4.ownerDocument&&b4!==b2&&b4.nodeType!==11){if(b5?b5.index(b4)>-1:bH.find.matchesSelector(b4,b3)){b0.push(b4);break}b4=b4.parentNode}}b0=b0.length>1?bH.unique(b0):b0;return this.pushStack(b0,"closest",b3)},index:function(e){if(!e){return(this[0]&&this[0].parentNode)?this.prevAll().length:-1}if(typeof e==="string"){return bH.inArray(this[0],bH(e))}return bH.inArray(e.jquery?e[0]:e,this)},add:function(e,b0){var b2=typeof e==="string"?bH(e,b0):bH.makeArray(e&&e.nodeType?[e]:e),b1=bH.merge(this.get(),b2);return this.pushStack(aS(b2[0])||aS(b1[0])?b1:bH.unique(b1))},addBack:function(e){return this.add(e==null?this.prevObject:this.prevObject.filter(e))}});bH.fn.andSelf=bH.fn.addBack;function aS(e){return !e||!e.parentNode||e.parentNode.nodeType===11}function aZ(b0,e){do{b0=b0[e]}while(b0&&b0.nodeType!==1);return b0}bH.each({parent:function(b0){var e=b0.parentNode;return e&&e.nodeType!==11?e:null},parents:function(e){return bH.dir(e,"parentNode")},parentsUntil:function(b0,e,b1){return bH.dir(b0,"parentNode",b1)},next:function(e){return aZ(e,"nextSibling")},prev:function(e){return aZ(e,"previousSibling")},nextAll:function(e){return bH.dir(e,"nextSibling")},prevAll:function(e){return bH.dir(e,"previousSibling")},nextUntil:function(b0,e,b1){return bH.dir(b0,"nextSibling",b1)},prevUntil:function(b0,e,b1){return bH.dir(b0,"previousSibling",b1)},siblings:function(e){return bH.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return bH.sibling(e.firstChild)},contents:function(e){return bH.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:bH.merge([],e.childNodes)}},function(e,b0){bH.fn[e]=function(b3,b1){var b2=bH.map(this,b0,b3);if(!ah.test(e)){b1=b3}if(b1&&typeof b1==="string"){b2=bH.filter(b1,b2)}b2=this.length>1&&!bv[e]?bH.unique(b2):b2;if(this.length>1&&br.test(e)){b2=b2.reverse()}return this.pushStack(b2,e,a5.call(arguments).join(","))}});bH.extend({filter:function(b1,e,b0){if(b0){b1=":not("+b1+")"}return e.length===1?bH.find.matchesSelector(e[0],b1)?[e[0]]:[]:bH.find.matches(b1,e)},dir:function(b1,b0,b3){var e=[],b2=b1[b0];while(b2&&b2.nodeType!==9&&(b3===aC||b2.nodeType!==1||!bH(b2).is(b3))){if(b2.nodeType===1){e.push(b2)}b2=b2[b0]}return e},sibling:function(b1,b0){var e=[];for(;b1;b1=b1.nextSibling){if(b1.nodeType===1&&b1!==b0){e.push(b1)}}return e}});function aN(b2,b1,e){b1=b1||0;if(bH.isFunction(b1)){return bH.grep(b2,function(b4,b3){var b5=!!b1.call(b4,b3,b4);return b5===e})}else{if(b1.nodeType){return bH.grep(b2,function(b4,b3){return(b4===b1)===e})}else{if(typeof b1==="string"){var b0=bH.grep(b2,function(b3){return b3.nodeType===1});if(am.test(b1)){return bH.filter(b1,b0,!e)}else{b1=bH.filter(b1,b0)}}}}return bH.grep(b2,function(b4,b3){return(bH.inArray(b4,b1)>=0)===e})}function B(e){var b1=c.split("|"),b0=e.createDocumentFragment();if(b0.createElement){while(b1.length){b0.createElement(b1.pop())}}return b0}var c="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",aw=/ jQuery\d+="(?:null|\d+)"/g,bZ=/^\s+/,az=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,q=/<([\w:]+)/,bU=/<tbody/i,K=/<|&#?\w+;/,ak=/<(?:script|style|link)/i,aq=/<(?:script|object|embed|option|style)/i,L=new RegExp("<(?:"+c+")[\\s/>]","i"),aF=/^(?:checkbox|radio)$/,bS=/checked\s*(?:[^=]|=\s*.checked.)/i,bx=/\/(java|ecma)script/i,aI=/^\s*<!(?:\[CDATA\[|\-\-)|[\]\-]{2}>\s*$/g,U={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},aR=B(p),m=aR.appendChild(p.createElement("div"));U.optgroup=U.option;U.tbody=U.tfoot=U.colgroup=U.caption=U.thead;U.th=U.td;if(!bH.support.htmlSerialize){U._default=[1,"X<div>","</div>"]}bH.fn.extend({text:function(e){return bH.access(this,function(b0){return b0===aC?bH.text(this):this.empty().append((this[0]&&this[0].ownerDocument||p).createTextNode(b0))},null,e,arguments.length)},wrapAll:function(e){if(bH.isFunction(e)){return this.each(function(b1){bH(this).wrapAll(e.call(this,b1))})}if(this[0]){var b0=bH(e,this[0].ownerDocument).eq(0).clone(true);if(this[0].parentNode){b0.insertBefore(this[0])}b0.map(function(){var b1=this;while(b1.firstChild&&b1.firstChild.nodeType===1){b1=b1.firstChild}return b1}).append(this)}return this},wrapInner:function(e){if(bH.isFunction(e)){return this.each(function(b0){bH(this).wrapInner(e.call(this,b0))})}return this.each(function(){var b0=bH(this),b1=b0.contents();if(b1.length){b1.wrapAll(e)}else{b0.append(e)}})},wrap:function(e){var b0=bH.isFunction(e);return this.each(function(b1){bH(this).wrapAll(b0?e.call(this,b1):e)})},unwrap:function(){return this.parent().each(function(){if(!bH.nodeName(this,"body")){bH(this).replaceWith(this.childNodes)}}).end()},append:function(){return this.domManip(arguments,true,function(e){if(this.nodeType===1||this.nodeType===11){this.appendChild(e)}})},prepend:function(){return this.domManip(arguments,true,function(e){if(this.nodeType===1||this.nodeType===11){this.insertBefore(e,this.firstChild)}})},before:function(){if(!aS(this[0])){return this.domManip(arguments,false,function(b0){this.parentNode.insertBefore(b0,this)})}if(arguments.length){var e=bH.clean(arguments);return this.pushStack(bH.merge(e,this),"before",this.selector)}},after:function(){if(!aS(this[0])){return this.domManip(arguments,false,function(b0){this.parentNode.insertBefore(b0,this.nextSibling)})}if(arguments.length){var e=bH.clean(arguments);return this.pushStack(bH.merge(this,e),"after",this.selector)}},remove:function(e,b2){var b1,b0=0;for(;(b1=this[b0])!=null;b0++){if(!e||bH.filter(e,[b1]).length){if(!b2&&b1.nodeType===1){bH.cleanData(b1.getElementsByTagName("*"));bH.cleanData([b1])}if(b1.parentNode){b1.parentNode.removeChild(b1)}}}return this},empty:function(){var b0,e=0;for(;(b0=this[e])!=null;e++){if(b0.nodeType===1){bH.cleanData(b0.getElementsByTagName("*"))}while(b0.firstChild){b0.removeChild(b0.firstChild)}}return this},clone:function(b0,e){b0=b0==null?false:b0;e=e==null?b0:e;return this.map(function(){return bH.clone(this,b0,e)})},html:function(e){return bH.access(this,function(b3){var b2=this[0]||{},b1=0,b0=this.length;if(b3===aC){return b2.nodeType===1?b2.innerHTML.replace(aw,""):aC}if(typeof b3==="string"&&!ak.test(b3)&&(bH.support.htmlSerialize||!L.test(b3))&&(bH.support.leadingWhitespace||!bZ.test(b3))&&!U[(q.exec(b3)||["",""])[1].toLowerCase()]){b3=b3.replace(az,"<$1></$2>");try{for(;b1<b0;b1++){b2=this[b1]||{};if(b2.nodeType===1){bH.cleanData(b2.getElementsByTagName("*"));b2.innerHTML=b3}}b2=0}catch(b4){}}if(b2){this.empty().append(b3)}},null,e,arguments.length)},replaceWith:function(e){if(!aS(this[0])){if(bH.isFunction(e)){return this.each(function(b2){var b1=bH(this),b0=b1.html();b1.replaceWith(e.call(this,b2,b0))})}if(typeof e!=="string"){e=bH(e).detach()}return this.each(function(){var b1=this.nextSibling,b0=this.parentNode;bH(this).remove();if(b1){bH(b1).before(e)}else{bH(b0).append(e)}})}return this.length?this.pushStack(bH(bH.isFunction(e)?e():e),"replaceWith",e):this},detach:function(e){return this.remove(e,true)},domManip:function(b5,b9,b8){b5=[].concat.apply([],b5);var b1,b3,b4,b7,b2=0,b6=b5[0],b0=[],e=this.length;if(!bH.support.checkClone&&e>1&&typeof b6==="string"&&bS.test(b6)){return this.each(function(){bH(this).domManip(b5,b9,b8)})}if(bH.isFunction(b6)){return this.each(function(cb){var ca=bH(this);b5[0]=b6.call(this,cb,b9?ca.html():aC);ca.domManip(b5,b9,b8)})}if(this[0]){b1=bH.buildFragment(b5,this,b0);b4=b1.fragment;b3=b4.firstChild;if(b4.childNodes.length===1){b4=b3}if(b3){b9=b9&&bH.nodeName(b3,"tr");for(b7=b1.cacheable||e-1;b2<e;b2++){b8.call(b9&&bH.nodeName(this[b2],"table")?y(this[b2],"tbody"):this[b2],b2===b7?b4:bH.clone(b4,true,true))}}b4=b3=null;if(b0.length){bH.each(b0,function(ca,cb){if(cb.src){if(bH.ajax){bH.ajax({url:cb.src,type:"GET",dataType:"script",async:false,global:false,"throws":true})}else{bH.error("no ajax")}}else{bH.globalEval((cb.text||cb.textContent||cb.innerHTML||"").replace(aI,""))}if(cb.parentNode){cb.parentNode.removeChild(cb)}})}}return this}});function y(b0,e){return b0.getElementsByTagName(e)[0]||b0.appendChild(b0.ownerDocument.createElement(e))}function ap(b6,b0){if(b0.nodeType!==1||!bH.hasData(b6)){return}var b3,b2,e,b5=bH._data(b6),b4=bH._data(b0,b5),b1=b5.events;if(b1){delete b4.handle;b4.events={};for(b3 in b1){for(b2=0,e=b1[b3].length;b2<e;b2++){bH.event.add(b0,b3,b1[b3][b2])}}}if(b4.data){b4.data=bH.extend({},b4.data)}}function G(b0,e){var b1;if(e.nodeType!==1){return}if(e.clearAttributes){e.clearAttributes()}if(e.mergeAttributes){e.mergeAttributes(b0)}b1=e.nodeName.toLowerCase();if(b1==="object"){if(e.parentNode){e.outerHTML=b0.outerHTML}if(bH.support.html5Clone&&(b0.innerHTML&&!bH.trim(e.innerHTML))){e.innerHTML=b0.innerHTML}}else{if(b1==="input"&&aF.test(b0.type)){e.defaultChecked=e.checked=b0.checked;if(e.value!==b0.value){e.value=b0.value}}else{if(b1==="option"){e.selected=b0.defaultSelected}else{if(b1==="input"||b1==="textarea"){e.defaultValue=b0.defaultValue}else{if(b1==="script"&&e.text!==b0.text){e.text=b0.text}}}}}e.removeAttribute(bH.expando)}bH.buildFragment=function(b2,b3,b0){var b1,e,b4,b5=b2[0];b3=b3||p;b3=!b3.nodeType&&b3[0]||b3;b3=b3.ownerDocument||b3;if(b2.length===1&&typeof b5==="string"&&b5.length<512&&b3===p&&b5.charAt(0)==="<"&&!aq.test(b5)&&(bH.support.checkClone||!bS.test(b5))&&(bH.support.html5Clone||!L.test(b5))){e=true;b1=bH.fragments[b5];b4=b1!==aC}if(!b1){b1=b3.createDocumentFragment();bH.clean(b2,b3,b1,b0);if(e){bH.fragments[b5]=b4&&b1}}return{fragment:b1,cacheable:e}};bH.fragments={};bH.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,b0){bH.fn[e]=function(b1){var b3,b5=0,b4=[],b7=bH(b1),b2=b7.length,b6=this.length===1&&this[0].parentNode;if((b6==null||b6&&b6.nodeType===11&&b6.childNodes.length===1)&&b2===1){b7[b0](this[0]);return this}else{for(;b5<b2;b5++){b3=(b5>0?this.clone(true):this).get();bH(b7[b5])[b0](b3);b4=b4.concat(b3)}return this.pushStack(b4,e,b7.selector)}}});function n(e){if(typeof e.getElementsByTagName!=="undefined"){return e.getElementsByTagName("*")}else{if(typeof e.querySelectorAll!=="undefined"){return e.querySelectorAll("*")}else{return[]}}}function bT(e){if(aF.test(e.type)){e.defaultChecked=e.checked}}bH.extend({clone:function(b3,b5,b1){var e,b0,b2,b4;if(bH.support.html5Clone||bH.isXMLDoc(b3)||!L.test("<"+b3.nodeName+">")){b4=b3.cloneNode(true)}else{m.innerHTML=b3.outerHTML;m.removeChild(b4=m.firstChild)}if((!bH.support.noCloneEvent||!bH.support.noCloneChecked)&&(b3.nodeType===1||b3.nodeType===11)&&!bH.isXMLDoc(b3)){G(b3,b4);e=n(b3);b0=n(b4);for(b2=0;e[b2];++b2){if(b0[b2]){G(e[b2],b0[b2])}}}if(b5){ap(b3,b4);if(b1){e=n(b3);b0=n(b4);for(b2=0;e[b2];++b2){ap(e[b2],b0[b2])}}}e=b0=null;return b4},clean:function(cc,b1,e,b2){var b9,b8,cb,cg,b5,cf,b6,b3,b0,ca,ce,b7,b4=b1===p&&aR,cd=[];if(!b1||typeof b1.createDocumentFragment==="undefined"){b1=p}for(b9=0;(cb=cc[b9])!=null;b9++){if(typeof cb==="number"){cb+=""}if(!cb){continue}if(typeof cb==="string"){if(!K.test(cb)){cb=b1.createTextNode(cb)}else{b4=b4||B(b1);b6=b1.createElement("div");b4.appendChild(b6);cb=cb.replace(az,"<$1></$2>");cg=(q.exec(cb)||["",""])[1].toLowerCase();b5=U[cg]||U._default;cf=b5[0];b6.innerHTML=b5[1]+cb+b5[2];while(cf--){b6=b6.lastChild}if(!bH.support.tbody){b3=bU.test(cb);b0=cg==="table"&&!b3?b6.firstChild&&b6.firstChild.childNodes:b5[1]==="<table>"&&!b3?b6.childNodes:[];for(b8=b0.length-1;b8>=0;--b8){if(bH.nodeName(b0[b8],"tbody")&&!b0[b8].childNodes.length){b0[b8].parentNode.removeChild(b0[b8])}}}if(!bH.support.leadingWhitespace&&bZ.test(cb)){b6.insertBefore(b1.createTextNode(bZ.exec(cb)[0]),b6.firstChild)}cb=b6.childNodes;b6.parentNode.removeChild(b6)}}if(cb.nodeType){cd.push(cb)}else{bH.merge(cd,cb)}}if(b6){cb=b6=b4=null}if(!bH.support.appendChecked){for(b9=0;(cb=cd[b9])!=null;b9++){if(bH.nodeName(cb,"input")){bT(cb)}else{if(typeof cb.getElementsByTagName!=="undefined"){bH.grep(cb.getElementsByTagName("input"),bT)}}}}if(e){ce=function(ch){if(!ch.type||bx.test(ch.type)){return b2?b2.push(ch.parentNode?ch.parentNode.removeChild(ch):ch):e.appendChild(ch)}};for(b9=0;(cb=cd[b9])!=null;b9++){if(!(bH.nodeName(cb,"script")&&ce(cb))){e.appendChild(cb);if(typeof cb.getElementsByTagName!=="undefined"){b7=bH.grep(bH.merge([],cb.getElementsByTagName("script")),ce);cd.splice.apply(cd,[b9+1,0].concat(b7));b9+=b7.length}}}}return cd},cleanData:function(b0,b8){var b3,b1,b2,b7,b4=0,b9=bH.expando,e=bH.cache,b5=bH.support.deleteExpando,b6=bH.event.special;for(;(b2=b0[b4])!=null;b4++){if(b8||bH.acceptData(b2)){b1=b2[b9];b3=b1&&e[b1];if(b3){if(b3.events){for(b7 in b3.events){if(b6[b7]){bH.event.remove(b2,b7)}else{bH.removeEvent(b2,b7,b3.handle)}}}if(e[b1]){delete e[b1];if(b5){delete b2[b9]}else{if(b2.removeAttribute){b2.removeAttribute(b9)}else{b2[b9]=null}}bH.deletedIds.push(b1)}}}}}});(function(){var e,b0;bH.uaMatch=function(b2){b2=b2.toLowerCase();var b1=/(chrome)[ \/]([\w.]+)/.exec(b2)||/(webkit)[ \/]([\w.]+)/.exec(b2)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(b2)||/(msie) ([\w.]+)/.exec(b2)||b2.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(b2)||[];return{browser:b1[1]||"",version:b1[2]||"0"}};e=bH.uaMatch(d.userAgent);b0={};if(e.browser){b0[e.browser]=true;b0.version=e.version}if(b0.chrome){b0.webkit=true}else{if(b0.webkit){b0.safari=true}}bH.browser=b0;bH.sub=function(){function b1(b4,b5){return new b1.fn.init(b4,b5)}bH.extend(true,b1,this);b1.superclass=this;b1.fn=b1.prototype=this();b1.fn.constructor=b1;b1.sub=this.sub;b1.fn.init=function b3(b4,b5){if(b5&&b5 instanceof bH&&!(b5 instanceof b1)){b5=b1(b5)}return bH.fn.init.call(this,b4,b5,b2)};b1.fn.init.prototype=b1.fn;var b2=b1(p);return b1}})();var F,aA,aX,bf=/alpha\([^)]*\)/i,aT=/opacity=([^)]*)/,bl=/^(top|right|bottom|left)$/,H=/^(none|table(?!-c[ea]).+)/,a0=/^margin/,a9=new RegExp("^("+by+")(.*)$","i"),X=new RegExp("^("+by+")(?!px)[a-z%]+$","i"),T=new RegExp("^([-+])=("+by+")","i"),bi={BODY:"block"},ba={position:"absolute",visibility:"hidden",display:"block"},bB={letterSpacing:0,fontWeight:400},bR=["Top","Right","Bottom","Left"],at=["Webkit","O","Moz","ms"],aK=bH.fn.toggle;function b(b2,b0){if(b0 in b2){return b0}var b3=b0.charAt(0).toUpperCase()+b0.slice(1),e=b0,b1=at.length;while(b1--){b0=at[b1]+b3;if(b0 in b2){return b0}}return e}function R(b0,e){b0=e||b0;return bH.css(b0,"display")==="none"||!bH.contains(b0.ownerDocument,b0)}function t(b4,e){var b3,b5,b0=[],b1=0,b2=b4.length;for(;b1<b2;b1++){b3=b4[b1];if(!b3.style){continue}b0[b1]=bH._data(b3,"olddisplay");if(e){if(!b0[b1]&&b3.style.display==="none"){b3.style.display=""}if(b3.style.display===""&&R(b3)){b0[b1]=bH._data(b3,"olddisplay",bD(b3.nodeName))}}else{b5=F(b3,"display");if(!b0[b1]&&b5!=="none"){bH._data(b3,"olddisplay",b5)}}}for(b1=0;b1<b2;b1++){b3=b4[b1];if(!b3.style){continue}if(!e||b3.style.display==="none"||b3.style.display===""){b3.style.display=e?b0[b1]||"":"none"}}return b4}bH.fn.extend({css:function(e,b0){return bH.access(this,function(b2,b1,b3){return b3!==aC?bH.style(b2,b1,b3):bH.css(b2,b1)},e,b0,arguments.length>1)},show:function(){return t(this,true)},hide:function(){return t(this)},toggle:function(b1,b0){var e=typeof b1==="boolean";if(bH.isFunction(b1)&&bH.isFunction(b0)){return aK.apply(this,arguments)}return this.each(function(){if(e?b1:R(this)){bH(this).show()}else{bH(this).hide()}})}});bH.extend({cssHooks:{opacity:{get:function(b1,b0){if(b0){var e=F(b1,"opacity");return e===""?"1":e}}}},cssNumber:{fillOpacity:true,fontWeight:true,lineHeight:true,opacity:true,orphans:true,widows:true,zIndex:true,zoom:true},cssProps:{"float":bH.support.cssFloat?"cssFloat":"styleFloat"},style:function(b2,b1,b8,b3){if(!b2||b2.nodeType===3||b2.nodeType===8||!b2.style){return}var b6,b7,b9,b4=bH.camelCase(b1),b0=b2.style;b1=bH.cssProps[b4]||(bH.cssProps[b4]=b(b0,b4));b9=bH.cssHooks[b1]||bH.cssHooks[b4];if(b8!==aC){b7=typeof b8;if(b7==="string"&&(b6=T.exec(b8))){b8=(b6[1]+1)*b6[2]+parseFloat(bH.css(b2,b1));b7="number"}if(b8==null||b7==="number"&&isNaN(b8)){return}if(b7==="number"&&!bH.cssNumber[b4]){b8+="px"}if(!b9||!("set" in b9)||(b8=b9.set(b2,b8,b3))!==aC){try{b0[b1]=b8}catch(b5){}}}else{if(b9&&"get" in b9&&(b6=b9.get(b2,false,b3))!==aC){return b6}return b0[b1]}},css:function(b5,b3,b4,b0){var b6,b2,e,b1=bH.camelCase(b3);b3=bH.cssProps[b1]||(bH.cssProps[b1]=b(b5.style,b1));e=bH.cssHooks[b3]||bH.cssHooks[b1];if(e&&"get" in e){b6=e.get(b5,true,b0)}if(b6===aC){b6=F(b5,b3)}if(b6==="normal"&&b3 in bB){b6=bB[b3]}if(b4||b0!==aC){b2=parseFloat(b6);return b4||bH.isNumeric(b2)?b2||0:b6}return b6},swap:function(b3,b2,b4){var b1,b0,e={};for(b0 in b2){e[b0]=b3.style[b0];b3.style[b0]=b2[b0]}b1=b4.call(b3);for(b0 in b2){b3.style[b0]=e[b0]}return b1}});if(a3.getComputedStyle){F=function(b6,b0){var e,b3,b2,b5,b4=a3.getComputedStyle(b6,null),b1=b6.style;if(b4){e=b4.getPropertyValue(b0)||b4[b0];if(e===""&&!bH.contains(b6.ownerDocument,b6)){e=bH.style(b6,b0)}if(X.test(e)&&a0.test(b0)){b3=b1.width;b2=b1.minWidth;b5=b1.maxWidth;b1.minWidth=b1.maxWidth=b1.width=e;e=b4.width;b1.width=b3;b1.minWidth=b2;b1.maxWidth=b5}}return e}}else{if(p.documentElement.currentStyle){F=function(b3,b1){var b4,e,b0=b3.currentStyle&&b3.currentStyle[b1],b2=b3.style;if(b0==null&&b2&&b2[b1]){b0=b2[b1]}if(X.test(b0)&&!bl.test(b1)){b4=b2.left;e=b3.runtimeStyle&&b3.runtimeStyle.left;if(e){b3.runtimeStyle.left=b3.currentStyle.left}b2.left=b1==="fontSize"?"1em":b0;b0=b2.pixelLeft+"px";b2.left=b4;if(e){b3.runtimeStyle.left=e}}return b0===""?"auto":b0}}}function aH(e,b1,b2){var b0=a9.exec(b1);return b0?Math.max(0,b0[1]-(b2||0))+(b0[2]||"px"):b1}function au(b2,b0,e,b4){var b1=e===(b4?"border":"content")?4:b0==="width"?1:0,b3=0;for(;b1<4;b1+=2){if(e==="margin"){b3+=bH.css(b2,e+bR[b1],true)}if(b4){if(e==="content"){b3-=parseFloat(F(b2,"padding"+bR[b1]))||0}if(e!=="margin"){b3-=parseFloat(F(b2,"border"+bR[b1]+"Width"))||0}}else{b3+=parseFloat(F(b2,"padding"+bR[b1]))||0;if(e!=="padding"){b3+=parseFloat(F(b2,"border"+bR[b1]+"Width"))||0}}}return b3}function v(b2,b0,e){var b3=b0==="width"?b2.offsetWidth:b2.offsetHeight,b1=true,b4=bH.support.boxSizing&&bH.css(b2,"boxSizing")==="border-box";if(b3<=0||b3==null){b3=F(b2,b0);if(b3<0||b3==null){b3=b2.style[b0]}if(X.test(b3)){return b3}b1=b4&&(bH.support.boxSizingReliable||b3===b2.style[b0]);b3=parseFloat(b3)||0}return(b3+au(b2,b0,e||(b4?"border":"content"),b1))+"px"}function bD(b1){if(bi[b1]){return bi[b1]}var e=bH("<"+b1+">").appendTo(p.body),b0=e.css("display");e.remove();if(b0==="none"||b0===""){aA=p.body.appendChild(aA||bH.extend(p.createElement("iframe"),{frameBorder:0,width:0,height:0}));if(!aX||!aA.createElement){aX=(aA.contentWindow||aA.contentDocument).document;aX.write("<!doctype html><html><body>");aX.close()}e=aX.body.appendChild(aX.createElement(b1));b0=F(e,"display");p.body.removeChild(aA)}bi[b1]=b0;return b0}bH.each(["height","width"],function(b0,e){bH.cssHooks[e]={get:function(b3,b2,b1){if(b2){if(b3.offsetWidth===0&&H.test(F(b3,"display"))){return bH.swap(b3,ba,function(){return v(b3,e,b1)})}else{return v(b3,e,b1)}}},set:function(b2,b3,b1){return aH(b2,b3,b1?au(b2,e,b1,bH.support.boxSizing&&bH.css(b2,"boxSizing")==="border-box"):0)}}});if(!bH.support.opacity){bH.cssHooks.opacity={get:function(b0,e){return aT.test((e&&b0.currentStyle?b0.currentStyle.filter:b0.style.filter)||"")?(0.01*parseFloat(RegExp.$1))+"":e?"1":""},set:function(b3,b4){var b2=b3.style,b0=b3.currentStyle,e=bH.isNumeric(b4)?"alpha(opacity="+b4*100+")":"",b1=b0&&b0.filter||b2.filter||"";b2.zoom=1;if(b4>=1&&bH.trim(b1.replace(bf,""))===""&&b2.removeAttribute){b2.removeAttribute("filter");if(b0&&!b0.filter){return}}b2.filter=bf.test(b1)?b1.replace(bf,e):b1+" "+e}}}bH(function(){if(!bH.support.reliableMarginRight){bH.cssHooks.marginRight={get:function(b0,e){return bH.swap(b0,{display:"inline-block"},function(){if(e){return F(b0,"marginRight")}})}}}if(!bH.support.pixelPosition&&bH.fn.position){bH.each(["top","left"],function(e,b0){bH.cssHooks[b0]={get:function(b3,b2){if(b2){var b1=F(b3,b0);return X.test(b1)?bH(b3).position()[b0]+"px":b1}}}})}});if(bH.expr&&bH.expr.filters){bH.expr.filters.hidden=function(e){return(e.offsetWidth===0&&e.offsetHeight===0)||(!bH.support.reliableHiddenOffsets&&((e.style&&e.style.display)||F(e,"display"))==="none")};bH.expr.filters.visible=function(e){return !bH.expr.filters.hidden(e)}}bH.each({margin:"",padding:"",border:"Width"},function(e,b0){bH.cssHooks[e+b0]={expand:function(b3){var b2,b4=typeof b3==="string"?b3.split(" "):[b3],b1={};for(b2=0;b2<4;b2++){b1[e+bR[b2]+b0]=b4[b2]||b4[b2-2]||b4[0]}return b1}};if(!a0.test(e)){bH.cssHooks[e+b0].set=aH}});var bt=/%20/g,aQ=/\[\]$/,V=/\r?\n/g,bA=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,aE=/^(?:select|textarea)/i;bH.fn.extend({serialize:function(){return bH.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?bH.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||aE.test(this.nodeName)||bA.test(this.type))}).map(function(e,b0){var b1=bH(this).val();return b1==null?null:bH.isArray(b1)?bH.map(b1,function(b3,b2){return{name:b0.name,value:b3.replace(V,"\r\n")}}):{name:b0.name,value:b1.replace(V,"\r\n")}}).get()}});bH.param=function(e,b1){var b2,b0=[],b3=function(b4,b5){b5=bH.isFunction(b5)?b5():(b5==null?"":b5);b0[b0.length]=encodeURIComponent(b4)+"="+encodeURIComponent(b5)};if(b1===aC){b1=bH.ajaxSettings&&bH.ajaxSettings.traditional}if(bH.isArray(e)||(e.jquery&&!bH.isPlainObject(e))){bH.each(e,function(){b3(this.name,this.value)})}else{for(b2 in e){l(b2,e[b2],b1,b3)}}return b0.join("&").replace(bt,"+")};function l(b1,b3,b0,b2){var e;if(bH.isArray(b3)){bH.each(b3,function(b5,b4){if(b0||aQ.test(b1)){b2(b1,b4)}else{l(b1+"["+(typeof b4==="object"?b5:"")+"]",b4,b0,b2)}})}else{if(!b0&&bH.type(b3)==="object"){for(e in b3){l(b1+"["+e+"]",b3[e],b0,b2)}}else{b2(b1,b3)}}}var bY,Z,ao=/#.*$/,ae=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,C=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,s=/^(?:GET|HEAD)$/,aD=/^\/\//,bO=/\?/,g=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,Q=/([?&])_=[^&]*/,aU=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,bX=bH.fn.load,w={},a7={},aY=["*/"]+["*"];try{Z=aJ.href}catch(be){Z=p.createElement("a");Z.href="";Z=Z.href}bY=aU.exec(Z.toLowerCase())||[];function bJ(e){return function(b3,b5){if(typeof b3!=="string"){b5=b3;b3="*"}var b0,b6,b7,b2=b3.toLowerCase().split(aW),b1=0,b4=b2.length;if(bH.isFunction(b5)){for(;b1<b4;b1++){b0=b2[b1];b7=/^\+/.test(b0);if(b7){b0=b0.substr(1)||"*"}b6=e[b0]=e[b0]||[];b6[b7?"unshift":"push"](b5)}}}}function r(b0,b9,b4,b7,b6,b2){b6=b6||b9.dataTypes[0];b2=b2||{};b2[b6]=true;var b8,b5=b0[b6],b1=0,e=b5?b5.length:0,b3=(b0===w);for(;b1<e&&(b3||!b8);b1++){b8=b5[b1](b9,b4,b7);if(typeof b8==="string"){if(!b3||b2[b8]){b8=aC}else{b9.dataTypes.unshift(b8);b8=r(b0,b9,b4,b7,b8,b2)}}}if((b3||!b8)&&!b2["*"]){b8=r(b0,b9,b4,b7,"*",b2)}return b8}function u(b1,b2){var b0,e,b3=bH.ajaxSettings.flatOptions||{};for(b0 in b2){if(b2[b0]!==aC){(b3[b0]?b1:(e||(e={})))[b0]=b2[b0]}}if(e){bH.extend(true,b1,e)}}bH.fn.load=function(b2,b5,b6){if(typeof b2!=="string"&&bX){return bX.apply(this,arguments)}if(!this.length){return this}var e,b3,b1,b0=this,b4=b2.indexOf(" ");if(b4>=0){e=b2.slice(b4,b2.length);b2=b2.slice(0,b4)}if(bH.isFunction(b5)){b6=b5;b5=aC}else{if(b5&&typeof b5==="object"){b3="POST"}}bH.ajax({url:b2,type:b3,dataType:"html",data:b5,complete:function(b8,b7){if(b6){b0.each(b6,b1||[b8.responseText,b7,b8])}}}).done(function(b7){b1=arguments;b0.html(e?bH("<div>").append(b7.replace(g,"")).find(e):b7)});return this};bH.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(e,b0){bH.fn[b0]=function(b1){return this.on(b0,b1)}});bH.each(["get","post"],function(e,b0){bH[b0]=function(b1,b3,b4,b2){if(bH.isFunction(b3)){b2=b2||b4;b4=b3;b3=aC}return bH.ajax({type:b0,url:b1,data:b3,success:b4,dataType:b2})}});bH.extend({getScript:function(e,b0){return bH.get(e,aC,b0,"script")},getJSON:function(e,b0,b1){return bH.get(e,b0,b1,"json")},ajaxSetup:function(b0,e){if(e){u(b0,bH.ajaxSettings)}else{e=b0;b0=bH.ajaxSettings}u(b0,e);return b0},ajaxSettings:{url:Z,isLocal:C.test(bY[1]),global:true,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:true,async:true,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":aY},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":a3.String,"text html":true,"text json":bH.parseJSON,"text xml":bH.parseXML},flatOptions:{context:true,url:true}},ajaxPrefilter:bJ(w),ajaxTransport:bJ(a7),ajax:function(b5,b2){if(typeof b5==="object"){b2=b5;b5=aC}b2=b2||{};var b8,cm,b3,ch,ca,ce,b1,cg,b9=bH.ajaxSetup({},b2),co=b9.context||b9,cc=co!==b9&&(co.nodeType||co instanceof bH)?bH(co):bH.event,cn=bH.Deferred(),cj=bH.Callbacks("once memory"),b6=b9.statusCode||{},cd={},ck={},b4=0,b7="canceled",cf={readyState:0,setRequestHeader:function(cp,cq){if(!b4){var e=cp.toLowerCase();cp=ck[e]=ck[e]||cp;cd[cp]=cq}return this},getAllResponseHeaders:function(){return b4===2?cm:null},getResponseHeader:function(cp){var e;if(b4===2){if(!b3){b3={};while((e=ae.exec(cm))){b3[e[1].toLowerCase()]=e[2]}}e=b3[cp.toLowerCase()]}return e===aC?null:e},overrideMimeType:function(e){if(!b4){b9.mimeType=e}return this},abort:function(e){e=e||b7;if(ch){ch.abort(e)}cb(0,e);return this}};function cb(ct,cp,cu,cr){var e,cx,cv,cs,cw,cq=cp;if(b4===2){return}b4=2;if(ca){clearTimeout(ca)}ch=aC;cm=cr||"";cf.readyState=ct>0?4:0;if(cu){cs=h(b9,cf,cu)}if(ct>=200&&ct<300||ct===304){if(b9.ifModified){cw=cf.getResponseHeader("Last-Modified");if(cw){bH.lastModified[b8]=cw}cw=cf.getResponseHeader("Etag");if(cw){bH.etag[b8]=cw}}if(ct===304){cq="notmodified";e=true}else{e=af(b9,cs);cq=e.state;cx=e.data;cv=e.error;e=!cv}}else{cv=cq;if(!cq||ct){cq="error";if(ct<0){ct=0}}}cf.status=ct;cf.statusText=(cp||cq)+"";if(e){cn.resolveWith(co,[cx,cq,cf])}else{cn.rejectWith(co,[cf,cq,cv])}cf.statusCode(b6);b6=aC;if(b1){cc.trigger("ajax"+(e?"Success":"Error"),[cf,b9,e?cx:cv])}cj.fireWith(co,[cf,cq]);if(b1){cc.trigger("ajaxComplete",[cf,b9]);if(!(--bH.active)){bH.event.trigger("ajaxStop")}}}cn.promise(cf);cf.success=cf.done;cf.error=cf.fail;cf.complete=cj.add;cf.statusCode=function(cp){if(cp){var e;if(b4<2){for(e in cp){b6[e]=[b6[e],cp[e]]}}else{e=cp[cf.status];cf.always(e)}}return this};b9.url=((b5||b9.url)+"").replace(ao,"").replace(aD,bY[1]+"//");b9.dataTypes=bH.trim(b9.dataType||"*").toLowerCase().split(aW);if(b9.crossDomain==null){ce=aU.exec(b9.url.toLowerCase());b9.crossDomain=!!(ce&&(ce[1]!==bY[1]||ce[2]!==bY[2]||(ce[3]||(ce[1]==="http:"?80:443))!=(bY[3]||(bY[1]==="http:"?80:443))))}if(b9.data&&b9.processData&&typeof b9.data!=="string"){b9.data=bH.param(b9.data,b9.traditional)}r(w,b9,b2,cf);if(b4===2){return cf}b1=b9.global;b9.type=b9.type.toUpperCase();b9.hasContent=!s.test(b9.type);if(b1&&bH.active++===0){bH.event.trigger("ajaxStart")}if(!b9.hasContent){if(b9.data){b9.url+=(bO.test(b9.url)?"&":"?")+b9.data;delete b9.data}b8=b9.url;if(b9.cache===false){var b0=bH.now(),cl=b9.url.replace(Q,"$1_="+b0);b9.url=cl+((cl===b9.url)?(bO.test(b9.url)?"&":"?")+"_="+b0:"")}}if(b9.data&&b9.hasContent&&b9.contentType!==false||b2.contentType){cf.setRequestHeader("Content-Type",b9.contentType)}if(b9.ifModified){b8=b8||b9.url;if(bH.lastModified[b8]){cf.setRequestHeader("If-Modified-Since",bH.lastModified[b8])}if(bH.etag[b8]){cf.setRequestHeader("If-None-Match",bH.etag[b8])}}cf.setRequestHeader("Accept",b9.dataTypes[0]&&b9.accepts[b9.dataTypes[0]]?b9.accepts[b9.dataTypes[0]]+(b9.dataTypes[0]!=="*"?", "+aY+"; q=0.01":""):b9.accepts["*"]);for(cg in b9.headers){cf.setRequestHeader(cg,b9.headers[cg])}if(b9.beforeSend&&(b9.beforeSend.call(co,cf,b9)===false||b4===2)){return cf.abort()}b7="abort";for(cg in {success:1,error:1,complete:1}){cf[cg](b9[cg])}ch=r(a7,b9,b2,cf);if(!ch){cb(-1,"No Transport")}else{cf.readyState=1;if(b1){cc.trigger("ajaxSend",[cf,b9])}if(b9.async&&b9.timeout>0){ca=setTimeout(function(){cf.abort("timeout")},b9.timeout)}try{b4=1;ch.send(cd,cb)}catch(ci){if(b4<2){cb(-1,ci)}else{throw ci}}}return cf},active:0,lastModified:{},etag:{}});function h(b8,b7,b4){var b3,b5,b2,e,b0=b8.contents,b6=b8.dataTypes,b1=b8.responseFields;for(b5 in b1){if(b5 in b4){b7[b1[b5]]=b4[b5]}}while(b6[0]==="*"){b6.shift();if(b3===aC){b3=b8.mimeType||b7.getResponseHeader("content-type")}}if(b3){for(b5 in b0){if(b0[b5]&&b0[b5].test(b3)){b6.unshift(b5);break}}}if(b6[0] in b4){b2=b6[0]}else{for(b5 in b4){if(!b6[0]||b8.converters[b5+" "+b6[0]]){b2=b5;break}if(!e){e=b5}}b2=b2||e}if(b2){if(b2!==b6[0]){b6.unshift(b2)}return b4[b2]}}function af(ca,b2){var b8,b0,b6,b4,b7=ca.dataTypes.slice(),b1=b7[0],b9={},b3=0;if(ca.dataFilter){b2=ca.dataFilter(b2,ca.dataType)}if(b7[1]){for(b8 in ca.converters){b9[b8.toLowerCase()]=ca.converters[b8]}}for(;(b6=b7[++b3]);){if(b6!=="*"){if(b1!=="*"&&b1!==b6){b8=b9[b1+" "+b6]||b9["* "+b6];if(!b8){for(b0 in b9){b4=b0.split(" ");if(b4[1]===b6){b8=b9[b1+" "+b4[0]]||b9["* "+b4[0]];if(b8){if(b8===true){b8=b9[b0]}else{if(b9[b0]!==true){b6=b4[0];b7.splice(b3--,0,b6)}}break}}}}if(b8!==true){if(b8&&ca["throws"]){b2=b8(b2)}else{try{b2=b8(b2)}catch(b5){return{state:"parsererror",error:b8?b5:"No conversion from "+b1+" to "+b6}}}}}b1=b6}}return{state:"success",data:b2}}var bq=[],ax=/\?/,a6=/(=)\?(?=&|$)|\?\?/,bm=bH.now();bH.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=bq.pop()||(bH.expando+"_"+(bm++));this[e]=true;return e}});bH.ajaxPrefilter("json jsonp",function(b9,b4,b8){var b7,e,b6,b2=b9.data,b0=b9.url,b1=b9.jsonp!==false,b5=b1&&a6.test(b0),b3=b1&&!b5&&typeof b2==="string"&&!(b9.contentType||"").indexOf("application/x-www-form-urlencoded")&&a6.test(b2);if(b9.dataTypes[0]==="jsonp"||b5||b3){b7=b9.jsonpCallback=bH.isFunction(b9.jsonpCallback)?b9.jsonpCallback():b9.jsonpCallback;e=a3[b7];if(b5){b9.url=b0.replace(a6,"$1"+b7)}else{if(b3){b9.data=b2.replace(a6,"$1"+b7)}else{if(b1){b9.url+=(ax.test(b0)?"&":"?")+b9.jsonp+"="+b7}}}b9.converters["script json"]=function(){if(!b6){bH.error(b7+" was not called")}return b6[0]};b9.dataTypes[0]="json";a3[b7]=function(){b6=arguments};b8.always(function(){a3[b7]=e;if(b9[b7]){b9.jsonpCallback=b4.jsonpCallback;bq.push(b7)}if(b6&&bH.isFunction(e)){e(b6[0])}b6=e=aC});return"script"}});bH.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(e){bH.globalEval(e);return e}}});bH.ajaxPrefilter("script",function(e){if(e.cache===aC){e.cache=false}if(e.crossDomain){e.type="GET";e.global=false}});bH.ajaxTransport("script",function(b1){if(b1.crossDomain){var e,b0=p.head||p.getElementsByTagName("head")[0]||p.documentElement;return{send:function(b2,b3){e=p.createElement("script");e.async="async";if(b1.scriptCharset){e.charset=b1.scriptCharset}e.src=b1.url;e.onload=e.onreadystatechange=function(b5,b4){if(b4||!e.readyState||/loaded|complete/.test(e.readyState)){e.onload=e.onreadystatechange=null;if(b0&&e.parentNode){b0.removeChild(e)}e=aC;if(!b4){b3(200,"success")}}};b0.insertBefore(e,b0.firstChild)},abort:function(){if(e){e.onload(0,1)}}}}});var ai,aO=a3.ActiveXObject?function(){for(var e in ai){ai[e](0,1)}}:false,av=0;function bC(){try{return new a3.XMLHttpRequest()}catch(b0){}}function bc(){try{return new a3.ActiveXObject("Microsoft.XMLHTTP")}catch(b0){}}bH.ajaxSettings.xhr=a3.ActiveXObject?function(){return !this.isLocal&&bC()||bc()}:bC;(function(e){bH.extend(bH.support,{ajax:!!e,cors:!!e&&("withCredentials" in e)})})(bH.ajaxSettings.xhr());if(bH.support.ajax){bH.ajaxTransport(function(e){if(!e.crossDomain||bH.support.cors){var b0;return{send:function(b6,b1){var b4,b3,b5=e.xhr();if(e.username){b5.open(e.type,e.url,e.async,e.username,e.password)}else{b5.open(e.type,e.url,e.async)}if(e.xhrFields){for(b3 in e.xhrFields){b5[b3]=e.xhrFields[b3]}}if(e.mimeType&&b5.overrideMimeType){b5.overrideMimeType(e.mimeType)}if(!e.crossDomain&&!b6["X-Requested-With"]){b6["X-Requested-With"]="XMLHttpRequest"}try{for(b3 in b6){b5.setRequestHeader(b3,b6[b3])}}catch(b2){}b5.send((e.hasContent&&e.data)||null);b0=function(cf,b9){var ca,b8,b7,cd,cc;try{if(b0&&(b9||b5.readyState===4)){b0=aC;if(b4){b5.onreadystatechange=bH.noop;if(aO){delete ai[b4]}}if(b9){if(b5.readyState!==4){b5.abort()}}else{ca=b5.status;b7=b5.getAllResponseHeaders();cd={};cc=b5.responseXML;if(cc&&cc.documentElement){cd.xml=cc}try{cd.text=b5.responseText}catch(ce){}try{b8=b5.statusText}catch(ce){b8=""}if(!ca&&e.isLocal&&!e.crossDomain){ca=cd.text?200:404}else{if(ca===1223){ca=204}}}}}catch(cb){if(!b9){b1(-1,cb)}}if(cd){b1(ca,b8,cd,b7)}};if(!e.async){b0()}else{if(b5.readyState===4){setTimeout(b0,0)}else{b4=++av;if(aO){if(!ai){ai={};bH(a3).unload(aO)}ai[b4]=b0}b5.onreadystatechange=b0}}},abort:function(){if(b0){b0(0,1)}}}}})}var M,ac,bP=/^(?:toggle|show|hide)$/,bI=new RegExp("^(?:([-+])=|)("+by+")([a-z%]*)$","i"),bN=/queueHooks$/,ay=[j],a2={"*":[function(e,b6){var b2,b7,b8=this.createTween(e,b6),b3=bI.exec(b6),b4=b8.cur(),b0=+b4||0,b1=1,b5=20;if(b3){b2=+b3[2];b7=b3[3]||(bH.cssNumber[e]?"":"px");if(b7!=="px"&&b0){b0=bH.css(b8.elem,e,true)||b2||1;do{b1=b1||".5";b0=b0/b1;bH.style(b8.elem,e,b0+b7)}while(b1!==(b1=b8.cur()/b4)&&b1!==1&&--b5)}b8.unit=b7;b8.start=b0;b8.end=b3[1]?b0+(b3[1]+1)*b2:b2}return b8}]};function bk(){setTimeout(function(){M=aC},0);return(M=bH.now())}function bd(b0,e){bH.each(e,function(b5,b3){var b4=(a2[b5]||[]).concat(a2["*"]),b1=0,b2=b4.length;for(;b1<b2;b1++){if(b4[b1].call(b0,b5,b3)){return}}})}function f(b1,b5,b8){var b9,b4=0,e=0,b0=ay.length,b7=bH.Deferred().always(function(){delete b3.elem}),b3=function(){var cf=M||bk(),cc=Math.max(0,b2.startTime+b2.duration-cf),ca=cc/b2.duration||0,ce=1-ca,cb=0,cd=b2.tweens.length;for(;cb<cd;cb++){b2.tweens[cb].run(ce)}b7.notifyWith(b1,[b2,ce,cc]);if(ce<1&&cd){return cc}else{b7.resolveWith(b1,[b2]);return false}},b2=b7.promise({elem:b1,props:bH.extend({},b5),opts:bH.extend(true,{specialEasing:{}},b8),originalProperties:b5,originalOptions:b8,startTime:M||bk(),duration:b8.duration,tweens:[],createTween:function(cd,ca,cc){var cb=bH.Tween(b1,b2.opts,cd,ca,b2.opts.specialEasing[cd]||b2.opts.easing);b2.tweens.push(cb);return cb},stop:function(cb){var ca=0,cc=cb?b2.tweens.length:0;for(;ca<cc;ca++){b2.tweens[ca].run(1)}if(cb){b7.resolveWith(b1,[b2,cb])}else{b7.rejectWith(b1,[b2,cb])}return this}}),b6=b2.props;al(b6,b2.opts.specialEasing);for(;b4<b0;b4++){b9=ay[b4].call(b2,b1,b6,b2.opts);if(b9){return b9}}bd(b2,b6);if(bH.isFunction(b2.opts.start)){b2.opts.start.call(b1,b2)}bH.fx.timer(bH.extend(b3,{anim:b2,queue:b2.opts.queue,elem:b1}));return b2.progress(b2.opts.progress).done(b2.opts.done,b2.opts.complete).fail(b2.opts.fail).always(b2.opts.always)}function al(b2,b4){var b1,b0,b5,b3,e;for(b1 in b2){b0=bH.camelCase(b1);b5=b4[b0];b3=b2[b1];if(bH.isArray(b3)){b5=b3[1];b3=b2[b1]=b3[0]}if(b1!==b0){b2[b0]=b3;delete b2[b1]}e=bH.cssHooks[b0];if(e&&"expand" in e){b3=e.expand(b3);delete b2[b0];for(b1 in b3){if(!(b1 in b2)){b2[b1]=b3[b1];b4[b1]=b5}}}else{b4[b0]=b5}}}bH.Animation=bH.extend(f,{tweener:function(b0,b3){if(bH.isFunction(b0)){b3=b0;b0=["*"]}else{b0=b0.split(" ")}var b2,e=0,b1=b0.length;for(;e<b1;e++){b2=b0[e];a2[b2]=a2[b2]||[];a2[b2].unshift(b3)}},prefilter:function(b0,e){if(e){ay.unshift(b0)}else{ay.push(b0)}}});function j(b3,b9,e){var b8,b1,cb,b2,cf,b5,ce,cd,cc,b4=this,b0=b3.style,ca={},b7=[],b6=b3.nodeType&&R(b3);if(!e.queue){cd=bH._queueHooks(b3,"fx");if(cd.unqueued==null){cd.unqueued=0;cc=cd.empty.fire;cd.empty.fire=function(){if(!cd.unqueued){cc()}}}cd.unqueued++;b4.always(function(){b4.always(function(){cd.unqueued--;if(!bH.queue(b3,"fx").length){cd.empty.fire()}})})}if(b3.nodeType===1&&("height" in b9||"width" in b9)){e.overflow=[b0.overflow,b0.overflowX,b0.overflowY];if(bH.css(b3,"display")==="inline"&&bH.css(b3,"float")==="none"){if(!bH.support.inlineBlockNeedsLayout||bD(b3.nodeName)==="inline"){b0.display="inline-block"}else{b0.zoom=1}}}if(e.overflow){b0.overflow="hidden";if(!bH.support.shrinkWrapBlocks){b4.done(function(){b0.overflow=e.overflow[0];b0.overflowX=e.overflow[1];b0.overflowY=e.overflow[2]})}}for(b8 in b9){cb=b9[b8];if(bP.exec(cb)){delete b9[b8];b5=b5||cb==="toggle";if(cb===(b6?"hide":"show")){continue}b7.push(b8)}}b2=b7.length;if(b2){cf=bH._data(b3,"fxshow")||bH._data(b3,"fxshow",{});if("hidden" in cf){b6=cf.hidden}if(b5){cf.hidden=!b6}if(b6){bH(b3).show()}else{b4.done(function(){bH(b3).hide()})}b4.done(function(){var cg;bH.removeData(b3,"fxshow",true);for(cg in ca){bH.style(b3,cg,ca[cg])}});for(b8=0;b8<b2;b8++){b1=b7[b8];ce=b4.createTween(b1,b6?cf[b1]:0);ca[b1]=cf[b1]||bH.style(b3,b1);if(!(b1 in cf)){cf[b1]=ce.start;if(b6){ce.end=ce.start;ce.start=b1==="width"||b1==="height"?1:0}}}}}function I(b1,b0,b3,e,b2){return new I.prototype.init(b1,b0,b3,e,b2)}bH.Tween=I;I.prototype={constructor:I,init:function(b2,b0,b4,e,b3,b1){this.elem=b2;this.prop=b4;this.easing=b3||"swing";this.options=b0;this.start=this.now=this.cur();this.end=e;this.unit=b1||(bH.cssNumber[b4]?"":"px")},cur:function(){var e=I.propHooks[this.prop];return e&&e.get?e.get(this):I.propHooks._default.get(this)},run:function(b1){var b0,e=I.propHooks[this.prop];if(this.options.duration){this.pos=b0=bH.easing[this.easing](b1,this.options.duration*b1,0,1,this.options.duration)}else{this.pos=b0=b1}this.now=(this.end-this.start)*b0+this.start;if(this.options.step){this.options.step.call(this.elem,this.now,this)}if(e&&e.set){e.set(this)}else{I.propHooks._default.set(this)}return this}};I.prototype.init.prototype=I.prototype;I.propHooks={_default:{get:function(b0){var e;if(b0.elem[b0.prop]!=null&&(!b0.elem.style||b0.elem.style[b0.prop]==null)){return b0.elem[b0.prop]}e=bH.css(b0.elem,b0.prop,false,"");return !e||e==="auto"?0:e},set:function(e){if(bH.fx.step[e.prop]){bH.fx.step[e.prop](e)}else{if(e.elem.style&&(e.elem.style[bH.cssProps[e.prop]]!=null||bH.cssHooks[e.prop])){bH.style(e.elem,e.prop,e.now+e.unit)}else{e.elem[e.prop]=e.now}}}}};I.propHooks.scrollTop=I.propHooks.scrollLeft={set:function(e){if(e.elem.nodeType&&e.elem.parentNode){e.elem[e.prop]=e.now}}};bH.each(["toggle","show","hide"],function(b0,e){var b1=bH.fn[e];bH.fn[e]=function(b2,b4,b3){return b2==null||typeof b2==="boolean"||(!b0&&bH.isFunction(b2)&&bH.isFunction(b4))?b1.apply(this,arguments):this.animate(bG(e,true),b2,b4,b3)}});bH.fn.extend({fadeTo:function(e,b2,b1,b0){return this.filter(R).css("opacity",0).show().end().animate({opacity:b2},e,b1,b0)},animate:function(b5,b2,b4,b3){var b1=bH.isEmptyObject(b5),e=bH.speed(b2,b4,b3),b0=function(){var b6=f(this,bH.extend({},b5),e);if(b1){b6.stop(true)}};return b1||e.queue===false?this.each(b0):this.queue(e.queue,b0)},stop:function(b1,b0,e){var b2=function(b3){var b4=b3.stop;delete b3.stop;b4(e)};if(typeof b1!=="string"){e=b0;b0=b1;b1=aC}if(b0&&b1!==false){this.queue(b1||"fx",[])}return this.each(function(){var b6=true,b3=b1!=null&&b1+"queueHooks",b5=bH.timers,b4=bH._data(this);if(b3){if(b4[b3]&&b4[b3].stop){b2(b4[b3])}}else{for(b3 in b4){if(b4[b3]&&b4[b3].stop&&bN.test(b3)){b2(b4[b3])}}}for(b3=b5.length;b3--;){if(b5[b3].elem===this&&(b1==null||b5[b3].queue===b1)){b5[b3].anim.stop(e);b6=false;b5.splice(b3,1)}}if(b6||!e){bH.dequeue(this,b1)}})}});function bG(b1,b3){var b2,e={height:b1},b0=0;b3=b3?1:0;for(;b0<4;b0+=2-b3){b2=bR[b0];e["margin"+b2]=e["padding"+b2]=b1}if(b3){e.opacity=e.width=b1}return e}bH.each({slideDown:bG("show"),slideUp:bG("hide"),slideToggle:bG("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,b0){bH.fn[e]=function(b1,b3,b2){return this.animate(b0,b1,b3,b2)}});bH.speed=function(b1,b2,b0){var e=b1&&typeof b1==="object"?bH.extend({},b1):{complete:b0||!b0&&b2||bH.isFunction(b1)&&b1,duration:b1,easing:b0&&b2||b2&&!bH.isFunction(b2)&&b2};e.duration=bH.fx.off?0:typeof e.duration==="number"?e.duration:e.duration in bH.fx.speeds?bH.fx.speeds[e.duration]:bH.fx.speeds._default;if(e.queue==null||e.queue===true){e.queue="fx"}e.old=e.complete;e.complete=function(){if(bH.isFunction(e.old)){e.old.call(this)}if(e.queue){bH.dequeue(this,e.queue)}};return e};bH.easing={linear:function(e){return e},swing:function(e){return 0.5-Math.cos(e*Math.PI)/2}};bH.timers=[];bH.fx=I.prototype.init;bH.fx.tick=function(){var b1,b0=bH.timers,e=0;M=bH.now();for(;e<b0.length;e++){b1=b0[e];if(!b1()&&b0[e]===b1){b0.splice(e--,1)}}if(!b0.length){bH.fx.stop()}M=aC};bH.fx.timer=function(e){if(e()&&bH.timers.push(e)&&!ac){ac=setInterval(bH.fx.tick,bH.fx.interval)}};bH.fx.interval=13;bH.fx.stop=function(){clearInterval(ac);ac=null};bH.fx.speeds={slow:600,fast:200,_default:400};bH.fx.step={};if(bH.expr&&bH.expr.filters){bH.expr.filters.animated=function(e){return bH.grep(bH.timers,function(b0){return e===b0.elem}).length}}var bn=/^(?:body|html)$/i;bH.fn.offset=function(b9){if(arguments.length){return b9===aC?this:this.each(function(ca){bH.offset.setOffset(this,b9,ca)})}var b0,b5,b6,b3,b7,e,b2,b4={top:0,left:0},b1=this[0],b8=b1&&b1.ownerDocument;if(!b8){return}if((b5=b8.body)===b1){return bH.offset.bodyOffset(b1)}b0=b8.documentElement;if(!bH.contains(b0,b1)){return b4}if(typeof b1.getBoundingClientRect!=="undefined"){b4=b1.getBoundingClientRect()}b6=bo(b8);b3=b0.clientTop||b5.clientTop||0;b7=b0.clientLeft||b5.clientLeft||0;e=b6.pageYOffset||b0.scrollTop;b2=b6.pageXOffset||b0.scrollLeft;return{top:b4.top+e-b3,left:b4.left+b2-b7}};bH.offset={bodyOffset:function(e){var b1=e.offsetTop,b0=e.offsetLeft;if(bH.support.doesNotIncludeMarginInBodyOffset){b1+=parseFloat(bH.css(e,"marginTop"))||0;b0+=parseFloat(bH.css(e,"marginLeft"))||0}return{top:b1,left:b0}},setOffset:function(b2,cb,b5){var b6=bH.css(b2,"position");if(b6==="static"){b2.style.position="relative"}var b4=bH(b2),b0=b4.offset(),e=bH.css(b2,"top"),b9=bH.css(b2,"left"),ca=(b6==="absolute"||b6==="fixed")&&bH.inArray("auto",[e,b9])>-1,b8={},b7={},b1,b3;if(ca){b7=b4.position();b1=b7.top;b3=b7.left}else{b1=parseFloat(e)||0;b3=parseFloat(b9)||0}if(bH.isFunction(cb)){cb=cb.call(b2,b5,b0)}if(cb.top!=null){b8.top=(cb.top-b0.top)+b1}if(cb.left!=null){b8.left=(cb.left-b0.left)+b3}if("using" in cb){cb.using.call(b2,b8)}else{b4.css(b8)}}};bH.fn.extend({position:function(){if(!this[0]){return}var b1=this[0],b0=this.offsetParent(),b2=this.offset(),e=bn.test(b0[0].nodeName)?{top:0,left:0}:b0.offset();b2.top-=parseFloat(bH.css(b1,"marginTop"))||0;b2.left-=parseFloat(bH.css(b1,"marginLeft"))||0;e.top+=parseFloat(bH.css(b0[0],"borderTopWidth"))||0;e.left+=parseFloat(bH.css(b0[0],"borderLeftWidth"))||0;return{top:b2.top-e.top,left:b2.left-e.left}},offsetParent:function(){return this.map(function(){var e=this.offsetParent||p.body;while(e&&(!bn.test(e.nodeName)&&bH.css(e,"position")==="static")){e=e.offsetParent}return e||p.body})}});bH.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(b1,b0){var e=/Y/.test(b0);bH.fn[b1]=function(b2){return bH.access(this,function(b3,b6,b5){var b4=bo(b3);if(b5===aC){return b4?(b0 in b4)?b4[b0]:b4.document.documentElement[b6]:b3[b6]}if(b4){b4.scrollTo(!e?b5:bH(b4).scrollLeft(),e?b5:bH(b4).scrollTop())}else{b3[b6]=b5}},b1,b2,arguments.length,null)}});function bo(e){return bH.isWindow(e)?e:e.nodeType===9?e.defaultView||e.parentWindow:false}bH.each({Height:"height",Width:"width"},function(e,b0){bH.each({padding:"inner"+e,content:b0,"":"outer"+e},function(b1,b2){bH.fn[b2]=function(b6,b5){var b4=arguments.length&&(b1||typeof b6!=="boolean"),b3=b1||(b6===true||b5===true?"margin":"border");return bH.access(this,function(b8,b7,b9){var ca;if(bH.isWindow(b8)){return b8.document.documentElement["client"+e]}if(b8.nodeType===9){ca=b8.documentElement;return Math.max(b8.body["scroll"+e],ca["scroll"+e],b8.body["offset"+e],ca["offset"+e],ca["client"+e])}return b9===aC?bH.css(b8,b7,b9,b3):bH.style(b8,b7,b9,b3)},b0,b4?b6:aC,b4,null)}})});a3.jQuery=a3.$=bH;if(typeof define==="function"&&define.amd&&define.amd.jQuery){define("jquery",[],function(){return bH})}})(window);if(/(msie)/i.test(navigator.userAgent.toLowerCase())){alert("Sorry, but Internet Explorer is not supported!")}if(typeof(console)=="undefined"){console={};console.log=console.debug=console.info=console.warn=console.error=function(){}}sprintfWrapper={init:function(){if(typeof arguments=="undefined"){return null}if(arguments.length<1){return null}if(typeof arguments[0]!="string"){return null}if(typeof RegExp=="undefined"){return null}var j=arguments[0];var c=new RegExp(/(%([%]|(\-)?(\+|\x20)?(0)?(\d+)?(\.(\d)?)?([bcdfosxX])))/g);var g=new Array();var l=new Array();var a=0;var h=0;var m=0;var d=0;var k="";var f=null;while(f=c.exec(j)){if(f[9]){a+=1}h=d;m=c.lastIndex-f[0].length;l[l.length]=j.substring(h,m);d=c.lastIndex;g[g.length]={match:f[0],left:f[3]?true:false,sign:f[4]||"",pad:f[5]||" ",min:f[6]||0,precision:f[8],code:f[9]||"%",negative:parseFloat(arguments[a])<0?true:false,argument:String(arguments[a])}}l[l.length]=j.substring(d);if(g.length==0){return j}if((arguments.length-1)<a){return null}var b=null;var f=null;var e=null;for(e=0;e<g.length;e++){if(g[e].code=="%"){substitution="%"}else{if(g[e].code=="b"){g[e].argument=String(Math.abs(parseInt(g[e].argument)).toString(2));substitution=sprintfWrapper.convert(g[e],true)}else{if(g[e].code=="c"){g[e].argument=String(String.fromCharCode(parseInt(Math.abs(parseInt(g[e].argument)))));substitution=sprintfWrapper.convert(g[e],true)}else{if(g[e].code=="d"){g[e].argument=String(Math.abs(parseInt(g[e].argument)));substitution=sprintfWrapper.convert(g[e])}else{if(g[e].code=="f"){g[e].argument=String(Math.abs(parseFloat(g[e].argument)).toFixed(g[e].precision?g[e].precision:6));substitution=sprintfWrapper.convert(g[e])}else{if(g[e].code=="o"){g[e].argument=String(Math.abs(parseInt(g[e].argument)).toString(8));substitution=sprintfWrapper.convert(g[e])}else{if(g[e].code=="s"){g[e].argument=g[e].argument.substring(0,g[e].precision?g[e].precision:g[e].argument.length);substitution=sprintfWrapper.convert(g[e],true)}else{if(g[e].code=="x"){g[e].argument=String(Math.abs(parseInt(g[e].argument)).toString(16));substitution=sprintfWrapper.convert(g[e])}else{if(g[e].code=="X"){g[e].argument=String(Math.abs(parseInt(g[e].argument)).toString(16));substitution=sprintfWrapper.convert(g[e]).toUpperCase()}else{substitution=g[e].match}}}}}}}}}k+=l[e];k+=substitution}k+=l[e];return k},convert:function(b,d){if(d){b.sign=""}else{b.sign=b.negative?"-":b.sign}var a=b.min-b.argument.length+1-b.sign.length;var c=new Array(a<0?0:a).join(b.pad);if(!b.left){if(b.pad=="0"||d){return b.sign+c+b.argument}else{return c+b.sign+b.argument}}else{if(b.pad=="0"||d){return b.sign+b.argument+c.replace(/0/g," ")}else{return b.sign+b.argument+c}}}};sprintf=sprintfWrapper.init;$.extend({getUrlVars:function(){var d=[],c;var a=window.location.href.slice(window.location.href.indexOf("?")+1).split("#")[0].split("&");for(var b=0;b<a.length;b++){c=a[b].split("=");d.push(c[0]);d[c[0]]=c[1]}return d},getUrlVar:function(a){return $.getUrlVars()[a]},getOrderedScripts:function(a,b){if("object"===typeof a&&0==a.length&&b){b()}else{if("string"===typeof a){a=[a]}$.ajax({url:a.shift(),dataType:"script",async:false,success:a.length?function(){$.getOrderedScripts(a,b)}:b})}},includeScripts:function(a,b){this.getOrderedScripts(a,b)},getCSS:function(b,c){var a=$("<link/>");$("head").append(a);a.attr($.extend(c,{rel:"stylesheet",type:"text/css",href:$.ajaxSettings.cache?b:b+"?_="+(new Date()).valueOf()}))}});
/* jQuery UI - v1.9.2 - 2012-11-23
* http://jqueryui.com
* Includes: jquery.ui.core.js, jquery.ui.widget.js, jquery.ui.mouse.js, jquery.ui.position.js, jquery.ui.draggable.js, jquery.ui.droppable.js, jquery.ui.resizable.js, jquery.ui.selectable.js, jquery.ui.sortable.js, jquery.ui.accordion.js, jquery.ui.autocomplete.js, jquery.ui.button.js, jquery.ui.datepicker.js, jquery.ui.dialog.js, jquery.ui.menu.js, jquery.ui.progressbar.js, jquery.ui.slider.js, jquery.ui.spinner.js, jquery.ui.tabs.js, jquery.ui.tooltip.js, jquery.ui.effect.js, jquery.ui.effect-blind.js, jquery.ui.effect-bounce.js, jquery.ui.effect-clip.js, jquery.ui.effect-drop.js, jquery.ui.effect-explode.js, jquery.ui.effect-fade.js, jquery.ui.effect-fold.js, jquery.ui.effect-highlight.js, jquery.ui.effect-pulsate.js, jquery.ui.effect-scale.js, jquery.ui.effect-shake.js, jquery.ui.effect-slide.js, jquery.ui.effect-transfer.js
* Copyright (c) 2012 jQuery Foundation and other contributors Licensed MIT */
(function(b,f){var a=0,e=/^ui-id-\d+$/;b.ui=b.ui||{};if(b.ui.version){return}b.extend(b.ui,{version:"1.9.2",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}});b.fn.extend({_focus:b.fn.focus,focus:function(g,h){return typeof g==="number"?this.each(function(){var j=this;setTimeout(function(){b(j).focus();if(h){h.call(j)}},g)}):this._focus.apply(this,arguments)},scrollParent:function(){var g;if((b.ui.ie&&(/(static|relative)/).test(this.css("position")))||(/absolute/).test(this.css("position"))){g=this.parents().filter(function(){return(/(relative|absolute|fixed)/).test(b.css(this,"position"))&&(/(auto|scroll)/).test(b.css(this,"overflow")+b.css(this,"overflow-y")+b.css(this,"overflow-x"))}).eq(0)}else{g=this.parents().filter(function(){return(/(auto|scroll)/).test(b.css(this,"overflow")+b.css(this,"overflow-y")+b.css(this,"overflow-x"))}).eq(0)}return(/fixed/).test(this.css("position"))||!g.length?b(document):g},zIndex:function(k){if(k!==f){return this.css("zIndex",k)}if(this.length){var h=b(this[0]),g,j;while(h.length&&h[0]!==document){g=h.css("position");if(g==="absolute"||g==="relative"||g==="fixed"){j=parseInt(h.css("zIndex"),10);if(!isNaN(j)&&j!==0){return j}}h=h.parent()}}return 0},uniqueId:function(){return this.each(function(){if(!this.id){this.id="ui-id-"+(++a)}})},removeUniqueId:function(){return this.each(function(){if(e.test(this.id)){b(this).removeAttr("id")}})}});function d(j,g){var l,k,h,m=j.nodeName.toLowerCase();if("area"===m){l=j.parentNode;k=l.name;if(!j.href||!k||l.nodeName.toLowerCase()!=="map"){return false}h=b("img[usemap=#"+k+"]")[0];return !!h&&c(h)}return(/input|select|textarea|button|object/.test(m)?!j.disabled:"a"===m?j.href||g:g)&&c(j)}function c(g){return b.expr.filters.visible(g)&&!b(g).parents().andSelf().filter(function(){return b.css(this,"visibility")==="hidden"}).length}b.extend(b.expr[":"],{data:b.expr.createPseudo?b.expr.createPseudo(function(g){return function(h){return !!b.data(h,g)}}):function(j,h,g){return !!b.data(j,g[3])},focusable:function(g){return d(g,!isNaN(b.attr(g,"tabindex")))},tabbable:function(j){var g=b.attr(j,"tabindex"),h=isNaN(g);return(h||g>=0)&&d(j,!h)}});b(function(){var g=document.body,h=g.appendChild(h=document.createElement("div"));h.offsetHeight;b.extend(h.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0});b.support.minHeight=h.offsetHeight===100;b.support.selectstart="onselectstart" in h;g.removeChild(h).style.display="none"});if(!b("<a>").outerWidth(1).jquery){b.each(["Width","Height"],function(j,g){var h=g==="Width"?["Left","Right"]:["Top","Bottom"],k=g.toLowerCase(),m={innerWidth:b.fn.innerWidth,innerHeight:b.fn.innerHeight,outerWidth:b.fn.outerWidth,outerHeight:b.fn.outerHeight};function l(p,o,n,q){b.each(h,function(){o-=parseFloat(b.css(p,"padding"+this))||0;if(n){o-=parseFloat(b.css(p,"border"+this+"Width"))||0}if(q){o-=parseFloat(b.css(p,"margin"+this))||0}});return o}b.fn["inner"+g]=function(n){if(n===f){return m["inner"+g].call(this)}return this.each(function(){b(this).css(k,l(this,n)+"px")})};b.fn["outer"+g]=function(n,o){if(typeof n!=="number"){return m["outer"+g].call(this,n)}return this.each(function(){b(this).css(k,l(this,n,true,o)+"px")})}})}if(b("<a>").data("a-b","a").removeData("a-b").data("a-b")){b.fn.removeData=(function(g){return function(h){if(arguments.length){return g.call(this,b.camelCase(h))}else{return g.call(this)}}})(b.fn.removeData)}(function(){var g=/msie ([\w.]+)/.exec(navigator.userAgent.toLowerCase())||[];b.ui.ie=g.length?true:false;b.ui.ie6=parseFloat(g[1],10)===6})();b.fn.extend({disableSelection:function(){return this.bind((b.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(g){g.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}});b.extend(b.ui,{plugin:{add:function(h,j,l){var g,k=b.ui[h].prototype;for(g in l){k.plugins[g]=k.plugins[g]||[];k.plugins[g].push([j,l[g]])}},call:function(g,j,h){var k,l=g.plugins[j];if(!l||!g.element[0].parentNode||g.element[0].parentNode.nodeType===11){return}for(k=0;k<l.length;k++){if(g.options[l[k][0]]){l[k][1].apply(g.element,h)}}}},contains:b.contains,hasScroll:function(k,h){if(b(k).css("overflow")==="hidden"){return false}var g=(h&&h==="left")?"scrollLeft":"scrollTop",j=false;if(k[g]>0){return true}k[g]=1;j=(k[g]>0);k[g]=0;return j},isOverAxis:function(h,g,j){return(h>g)&&(h<(g+j))},isOver:function(m,h,l,k,g,j){return b.ui.isOverAxis(m,l,g)&&b.ui.isOverAxis(h,k,j)}})})(jQuery);(function(b,e){var a=0,d=Array.prototype.slice,c=b.cleanData;b.cleanData=function(f){for(var g=0,h;(h=f[g])!=null;g++){try{b(h).triggerHandler("remove")}catch(j){}}c(f)};b.widget=function(g,k,f){var n,m,j,l,h=g.split(".")[0];g=g.split(".")[1];n=h+"-"+g;if(!f){f=k;k=b.Widget}b.expr[":"][n.toLowerCase()]=function(o){return !!b.data(o,n)};b[h]=b[h]||{};m=b[h][g];j=b[h][g]=function(o,p){if(!this._createWidget){return new j(o,p)}if(arguments.length){this._createWidget(o,p)}};b.extend(j,m,{version:f.version,_proto:b.extend({},f),_childConstructors:[]});l=new k();l.options=b.widget.extend({},l.options);b.each(f,function(p,o){if(b.isFunction(o)){f[p]=(function(){var q=function(){return k.prototype[p].apply(this,arguments)},r=function(s){return k.prototype[p].apply(this,s)};return function(){var u=this._super,s=this._superApply,t;this._super=q;this._superApply=r;t=o.apply(this,arguments);this._super=u;this._superApply=s;return t}})()}});j.prototype=b.widget.extend(l,{widgetEventPrefix:m?l.widgetEventPrefix:g},f,{constructor:j,namespace:h,widgetName:g,widgetBaseClass:n,widgetFullName:n});if(m){b.each(m._childConstructors,function(p,q){var o=q.prototype;b.widget(o.namespace+"."+o.widgetName,j,q._proto)});delete m._childConstructors}else{k._childConstructors.push(j)}b.widget.bridge(g,j)};b.widget.extend=function(l){var g=d.call(arguments,1),k=0,f=g.length,h,j;for(;k<f;k++){for(h in g[k]){j=g[k][h];if(g[k].hasOwnProperty(h)&&j!==e){if(b.isPlainObject(j)){l[h]=b.isPlainObject(l[h])?b.widget.extend({},l[h],j):b.widget.extend({},j)}else{l[h]=j}}}}return l};b.widget.bridge=function(g,f){var h=f.prototype.widgetFullName||g;b.fn[g]=function(l){var j=typeof l==="string",k=d.call(arguments,1),m=this;l=!j&&k.length?b.widget.extend.apply(null,[l].concat(k)):l;if(j){this.each(function(){var o,n=b.data(this,h);if(!n){return b.error("cannot call methods on "+g+" prior to initialization; attempted to call method '"+l+"'")}if(!b.isFunction(n[l])||l.charAt(0)==="_"){return b.error("no such method '"+l+"' for "+g+" widget instance")}o=n[l].apply(n,k);if(o!==n&&o!==e){m=o&&o.jquery?m.pushStack(o.get()):o;return false}})}else{this.each(function(){var n=b.data(this,h);if(n){n.option(l||{})._init()}else{b.data(this,h,new f(l,this))}})}return m}};b.Widget=function(){};b.Widget._childConstructors=[];b.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:false,create:null},_createWidget:function(f,g){g=b(g||this.defaultElement||this)[0];this.element=b(g);this.uuid=a++;this.eventNamespace="."+this.widgetName+this.uuid;this.options=b.widget.extend({},this.options,this._getCreateOptions(),f);this.bindings=b();this.hoverable=b();this.focusable=b();if(g!==this){b.data(g,this.widgetName,this);b.data(g,this.widgetFullName,this);this._on(true,this.element,{remove:function(h){if(h.target===g){this.destroy()}}});this.document=b(g.style?g.ownerDocument:g.document||g);this.window=b(this.document[0].defaultView||this.document[0].parentWindow)}this._create();this._trigger("create",null,this._getCreateEventData());this._init()},_getCreateOptions:b.noop,_getCreateEventData:b.noop,_create:b.noop,_init:b.noop,destroy:function(){this._destroy();this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(b.camelCase(this.widgetFullName));this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled");this.bindings.unbind(this.eventNamespace);this.hoverable.removeClass("ui-state-hover");this.focusable.removeClass("ui-state-focus")},_destroy:b.noop,widget:function(){return this.element},option:function(j,k){var f=j,l,h,g;if(arguments.length===0){return b.widget.extend({},this.options)}if(typeof j==="string"){f={};l=j.split(".");j=l.shift();if(l.length){h=f[j]=b.widget.extend({},this.options[j]);for(g=0;g<l.length-1;g++){h[l[g]]=h[l[g]]||{};h=h[l[g]]}j=l.pop();if(k===e){return h[j]===e?null:h[j]}h[j]=k}else{if(k===e){return this.options[j]===e?null:this.options[j]}f[j]=k}}this._setOptions(f);return this},_setOptions:function(f){var g;for(g in f){this._setOption(g,f[g])}return this},_setOption:function(f,g){this.options[f]=g;if(f==="disabled"){this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!g).attr("aria-disabled",g);this.hoverable.removeClass("ui-state-hover");this.focusable.removeClass("ui-state-focus")}return this},enable:function(){return this._setOption("disabled",false)},disable:function(){return this._setOption("disabled",true)},_on:function(j,h,g){var k,f=this;if(typeof j!=="boolean"){g=h;h=j;j=false}if(!g){g=h;h=this.element;k=this.widget()}else{h=k=b(h);this.bindings=this.bindings.add(h)}b.each(g,function(q,p){function n(){if(!j&&(f.options.disabled===true||b(this).hasClass("ui-state-disabled"))){return}return(typeof p==="string"?f[p]:p).apply(f,arguments)}if(typeof p!=="string"){n.guid=p.guid=p.guid||n.guid||b.guid++}var o=q.match(/^(\w+)\s*(.*)$/),m=o[1]+f.eventNamespace,l=o[2];if(l){k.delegate(l,m,n)}else{h.bind(m,n)}})},_off:function(g,f){f=(f||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace;g.unbind(f).undelegate(f)},_delay:function(j,h){function g(){return(typeof j==="string"?f[j]:j).apply(f,arguments)}var f=this;return setTimeout(g,h||0)},_hoverable:function(f){this.hoverable=this.hoverable.add(f);this._on(f,{mouseenter:function(g){b(g.currentTarget).addClass("ui-state-hover")},mouseleave:function(g){b(g.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(f){this.focusable=this.focusable.add(f);this._on(f,{focusin:function(g){b(g.currentTarget).addClass("ui-state-focus")},focusout:function(g){b(g.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(f,g,h){var l,k,j=this.options[f];h=h||{};g=b.Event(g);g.type=(f===this.widgetEventPrefix?f:this.widgetEventPrefix+f).toLowerCase();g.target=this.element[0];k=g.originalEvent;if(k){for(l in k){if(!(l in g)){g[l]=k[l]}}}this.element.trigger(g,h);return !(b.isFunction(j)&&j.apply(this.element[0],[g].concat(h))===false||g.isDefaultPrevented())}};b.each({show:"fadeIn",hide:"fadeOut"},function(g,f){b.Widget.prototype["_"+g]=function(k,j,m){if(typeof j==="string"){j={effect:j}}var l,h=!j?g:j===true||typeof j==="number"?f:j.effect||f;j=j||{};if(typeof j==="number"){j={duration:j}}l=!b.isEmptyObject(j);j.complete=m;if(j.delay){k.delay(j.delay)}if(l&&b.effects&&(b.effects.effect[h]||b.uiBackCompat!==false&&b.effects[h])){k[g](j)}else{if(h!==g&&k[h]){k[h](j.duration,j.easing,m)}else{k.queue(function(n){b(this)[g]();if(m){m.call(k[0])}n()})}}}});if(b.uiBackCompat!==false){b.Widget.prototype._getCreateOptions=function(){return b.metadata&&b.metadata.get(this.element[0])[this.widgetName]}}})(jQuery);(function(b,c){var a=false;b(document).mouseup(function(d){a=false});b.widget("ui.mouse",{version:"1.9.2",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var d=this;this.element.bind("mousedown."+this.widgetName,function(e){return d._mouseDown(e)}).bind("click."+this.widgetName,function(e){if(true===b.data(e.target,d.widgetName+".preventClickEvent")){b.removeData(e.target,d.widgetName+".preventClickEvent");e.stopImmediatePropagation();return false}});this.started=false},_mouseDestroy:function(){this.element.unbind("."+this.widgetName);if(this._mouseMoveDelegate){b(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)}},_mouseDown:function(f){if(a){return}(this._mouseStarted&&this._mouseUp(f));this._mouseDownEvent=f;var e=this,g=(f.which===1),d=(typeof this.options.cancel==="string"&&f.target.nodeName?b(f.target).closest(this.options.cancel).length:false);if(!g||d||!this._mouseCapture(f)){return true}this.mouseDelayMet=!this.options.delay;if(!this.mouseDelayMet){this._mouseDelayTimer=setTimeout(function(){e.mouseDelayMet=true},this.options.delay)}if(this._mouseDistanceMet(f)&&this._mouseDelayMet(f)){this._mouseStarted=(this._mouseStart(f)!==false);if(!this._mouseStarted){f.preventDefault();return true}}if(true===b.data(f.target,this.widgetName+".preventClickEvent")){b.removeData(f.target,this.widgetName+".preventClickEvent")}this._mouseMoveDelegate=function(h){return e._mouseMove(h)};this._mouseUpDelegate=function(h){return e._mouseUp(h)};b(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate);f.preventDefault();a=true;return true},_mouseMove:function(d){if(b.ui.ie&&!(document.documentMode>=9)&&!d.button){return this._mouseUp(d)}if(this._mouseStarted){this._mouseDrag(d);return d.preventDefault()}if(this._mouseDistanceMet(d)&&this._mouseDelayMet(d)){this._mouseStarted=(this._mouseStart(this._mouseDownEvent,d)!==false);(this._mouseStarted?this._mouseDrag(d):this._mouseUp(d))}return !this._mouseStarted},_mouseUp:function(d){b(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate);if(this._mouseStarted){this._mouseStarted=false;if(d.target===this._mouseDownEvent.target){b.data(d.target,this.widgetName+".preventClickEvent",true)}this._mouseStop(d)}return false},_mouseDistanceMet:function(d){return(Math.max(Math.abs(this._mouseDownEvent.pageX-d.pageX),Math.abs(this._mouseDownEvent.pageY-d.pageY))>=this.options.distance)},_mouseDelayMet:function(d){return this.mouseDelayMet},_mouseStart:function(d){},_mouseDrag:function(d){},_mouseStop:function(d){},_mouseCapture:function(d){return true}})})(jQuery);(function(e,c){e.ui=e.ui||{};var j,k=Math.max,o=Math.abs,m=Math.round,d=/left|center|right/,g=/top|center|bottom/,a=/[\+\-]\d+%?/,l=/^\w+/,b=/%$/,f=e.fn.position;function n(r,q,p){return[parseInt(r[0],10)*(b.test(r[0])?q/100:1),parseInt(r[1],10)*(b.test(r[1])?p/100:1)]}function h(p,q){return parseInt(e.css(p,q),10)||0}e.position={scrollbarWidth:function(){if(j!==c){return j}var q,p,s=e("<div style='display:block;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),r=s.children()[0];e("body").append(s);q=r.offsetWidth;s.css("overflow","scroll");p=r.offsetWidth;if(q===p){p=s[0].clientWidth}s.remove();return(j=q-p)},getScrollInfo:function(t){var s=t.isWindow?"":t.element.css("overflow-x"),r=t.isWindow?"":t.element.css("overflow-y"),q=s==="scroll"||(s==="auto"&&t.width<t.element[0].scrollWidth),p=r==="scroll"||(r==="auto"&&t.height<t.element[0].scrollHeight);return{width:q?e.position.scrollbarWidth():0,height:p?e.position.scrollbarWidth():0}},getWithinInfo:function(q){var r=e(q||window),p=e.isWindow(r[0]);return{element:r,isWindow:p,offset:r.offset()||{left:0,top:0},scrollLeft:r.scrollLeft(),scrollTop:r.scrollTop(),width:p?r.width():r.outerWidth(),height:p?r.height():r.outerHeight()}}};e.fn.position=function(z){if(!z||!z.of){return f.apply(this,arguments)}z=e.extend({},z);var A,w,t,y,s,v=e(z.of),r=e.position.getWithinInfo(z.within),p=e.position.getScrollInfo(r),u=v[0],x=(z.collision||"flip").split(" "),q={};if(u.nodeType===9){w=v.width();t=v.height();y={top:0,left:0}}else{if(e.isWindow(u)){w=v.width();t=v.height();y={top:v.scrollTop(),left:v.scrollLeft()}}else{if(u.preventDefault){z.at="left top";w=t=0;y={top:u.pageY,left:u.pageX}}else{w=v.outerWidth();t=v.outerHeight();y=v.offset()}}}s=e.extend({},y);e.each(["my","at"],function(){var D=(z[this]||"").split(" "),C,B;if(D.length===1){D=d.test(D[0])?D.concat(["center"]):g.test(D[0])?["center"].concat(D):["center","center"]}D[0]=d.test(D[0])?D[0]:"center";D[1]=g.test(D[1])?D[1]:"center";C=a.exec(D[0]);B=a.exec(D[1]);q[this]=[C?C[0]:0,B?B[0]:0];z[this]=[l.exec(D[0])[0],l.exec(D[1])[0]]});if(x.length===1){x[1]=x[0]}if(z.at[0]==="right"){s.left+=w}else{if(z.at[0]==="center"){s.left+=w/2}}if(z.at[1]==="bottom"){s.top+=t}else{if(z.at[1]==="center"){s.top+=t/2}}A=n(q.at,w,t);s.left+=A[0];s.top+=A[1];return this.each(function(){var C,L,E=e(this),G=E.outerWidth(),D=E.outerHeight(),F=h(this,"marginLeft"),B=h(this,"marginTop"),K=G+F+h(this,"marginRight")+p.width,J=D+B+h(this,"marginBottom")+p.height,H=e.extend({},s),I=n(q.my,E.outerWidth(),E.outerHeight());if(z.my[0]==="right"){H.left-=G}else{if(z.my[0]==="center"){H.left-=G/2}}if(z.my[1]==="bottom"){H.top-=D}else{if(z.my[1]==="center"){H.top-=D/2}}H.left+=I[0];H.top+=I[1];if(!e.support.offsetFractions){H.left=m(H.left);H.top=m(H.top)}C={marginLeft:F,marginTop:B};e.each(["left","top"],function(N,M){if(e.ui.position[x[N]]){e.ui.position[x[N]][M](H,{targetWidth:w,targetHeight:t,elemWidth:G,elemHeight:D,collisionPosition:C,collisionWidth:K,collisionHeight:J,offset:[A[0]+I[0],A[1]+I[1]],my:z.my,at:z.at,within:r,elem:E})}});if(e.fn.bgiframe){E.bgiframe()}if(z.using){L=function(P){var R=y.left-H.left,O=R+w-G,Q=y.top-H.top,N=Q+t-D,M={target:{element:v,left:y.left,top:y.top,width:w,height:t},element:{element:E,left:H.left,top:H.top,width:G,height:D},horizontal:O<0?"left":R>0?"right":"center",vertical:N<0?"top":Q>0?"bottom":"middle"};if(w<G&&o(R+O)<w){M.horizontal="center"}if(t<D&&o(Q+N)<t){M.vertical="middle"}if(k(o(R),o(O))>k(o(Q),o(N))){M.important="horizontal"}else{M.important="vertical"}z.using.call(this,P,M)}}E.offset(e.extend(H,{using:L}))})};e.ui.position={fit:{left:function(t,s){var r=s.within,v=r.isWindow?r.scrollLeft:r.offset.left,x=r.width,u=t.left-s.collisionPosition.marginLeft,w=v-u,q=u+s.collisionWidth-x-v,p;if(s.collisionWidth>x){if(w>0&&q<=0){p=t.left+w+s.collisionWidth-x-v;t.left+=w-p}else{if(q>0&&w<=0){t.left=v}else{if(w>q){t.left=v+x-s.collisionWidth}else{t.left=v}}}}else{if(w>0){t.left+=w}else{if(q>0){t.left-=q}else{t.left=k(t.left-u,t.left)}}}},top:function(s,r){var q=r.within,w=q.isWindow?q.scrollTop:q.offset.top,x=r.within.height,u=s.top-r.collisionPosition.marginTop,v=w-u,t=u+r.collisionHeight-x-w,p;if(r.collisionHeight>x){if(v>0&&t<=0){p=s.top+v+r.collisionHeight-x-w;s.top+=v-p}else{if(t>0&&v<=0){s.top=w}else{if(v>t){s.top=w+x-r.collisionHeight}else{s.top=w}}}}else{if(v>0){s.top+=v}else{if(t>0){s.top-=t}else{s.top=k(s.top-u,s.top)}}}}},flip:{left:function(v,u){var t=u.within,z=t.offset.left+t.scrollLeft,C=t.width,r=t.isWindow?t.scrollLeft:t.offset.left,w=v.left-u.collisionPosition.marginLeft,A=w-r,q=w+u.collisionWidth-C-r,y=u.my[0]==="left"?-u.elemWidth:u.my[0]==="right"?u.elemWidth:0,B=u.at[0]==="left"?u.targetWidth:u.at[0]==="right"?-u.targetWidth:0,s=-2*u.offset[0],p,x;if(A<0){p=v.left+y+B+s+u.collisionWidth-C-z;if(p<0||p<o(A)){v.left+=y+B+s}}else{if(q>0){x=v.left-u.collisionPosition.marginLeft+y+B+s-r;if(x>0||o(x)<q){v.left+=y+B+s}}}},top:function(u,t){var s=t.within,B=s.offset.top+s.scrollTop,C=s.height,p=s.isWindow?s.scrollTop:s.offset.top,w=u.top-t.collisionPosition.marginTop,y=w-p,v=w+t.collisionHeight-C-p,z=t.my[1]==="top",x=z?-t.elemHeight:t.my[1]==="bottom"?t.elemHeight:0,D=t.at[1]==="top"?t.targetHeight:t.at[1]==="bottom"?-t.targetHeight:0,r=-2*t.offset[1],A,q;if(y<0){q=u.top+x+D+r+t.collisionHeight-C-B;if((u.top+x+D+r)>y&&(q<0||q<o(y))){u.top+=x+D+r}}else{if(v>0){A=u.top-t.collisionPosition.marginTop+x+D+r-p;if((u.top+x+D+r)>v&&(A>0||o(A)<v)){u.top+=x+D+r}}}}},flipfit:{left:function(){e.ui.position.flip.left.apply(this,arguments);e.ui.position.fit.left.apply(this,arguments)},top:function(){e.ui.position.flip.top.apply(this,arguments);e.ui.position.fit.top.apply(this,arguments)}}};(function(){var t,v,q,s,r,p=document.getElementsByTagName("body")[0],u=document.createElement("div");t=document.createElement(p?"div":"body");q={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"};if(p){e.extend(q,{position:"absolute",left:"-1000px",top:"-1000px"})}for(r in q){t.style[r]=q[r]}t.appendChild(u);v=p||document.documentElement;v.insertBefore(t,v.firstChild);u.style.cssText="position: absolute; left: 10.7432222px;";s=e(u).offset().left;e.support.offsetFractions=s>10&&s<11;t.innerHTML="";v.removeChild(t)})();if(e.uiBackCompat!==false){(function(q){var p=q.fn.position;q.fn.position=function(s){if(!s||!s.offset){return p.call(this,s)}var t=s.offset.split(" "),r=s.at.split(" ");if(t.length===1){t[1]=t[0]}if(/^\d/.test(t[0])){t[0]="+"+t[0]}if(/^\d/.test(t[1])){t[1]="+"+t[1]}if(r.length===1){if(/left|center|right/.test(r[0])){r[1]="center"}else{r[1]=r[0];r[0]="center"}}return p.call(this,q.extend(s,{at:r[0]+t[0]+" "+r[1]+t[1],offset:c}))}}(jQuery))}}(jQuery));(function(a,b){a.widget("ui.draggable",a.ui.mouse,{version:"1.9.2",widgetEventPrefix:"drag",options:{addClasses:true,appendTo:"parent",axis:false,connectToSortable:false,containment:false,cursor:"auto",cursorAt:false,grid:false,handle:false,helper:"original",iframeFix:false,opacity:false,refreshPositions:false,revert:false,revertDuration:500,scope:"default",scroll:true,scrollSensitivity:20,scrollSpeed:20,snap:false,snapMode:"both",snapTolerance:20,stack:false,zIndex:false},_create:function(){if(this.options.helper=="original"&&!(/^(?:r|a|f)/).test(this.element.css("position"))){this.element[0].style.position="relative"}(this.options.addClasses&&this.element.addClass("ui-draggable"));(this.options.disabled&&this.element.addClass("ui-draggable-disabled"));this._mouseInit()},_destroy:function(){this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled");this._mouseDestroy()},_mouseCapture:function(c){var d=this.options;if(this.helper||d.disabled||a(c.target).is(".ui-resizable-handle")){return false}this.handle=this._getHandle(c);if(!this.handle){return false}a(d.iframeFix===true?"iframe":d.iframeFix).each(function(){a('<div class="ui-draggable-iframeFix" style="background: #fff;"></div>').css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1000}).css(a(this).offset()).appendTo("body")});return true},_mouseStart:function(c){var d=this.options;this.helper=this._createHelper(c);this.helper.addClass("ui-draggable-dragging");this._cacheHelperProportions();if(a.ui.ddmanager){a.ui.ddmanager.current=this}this._cacheMargins();this.cssPosition=this.helper.css("position");this.scrollParent=this.helper.scrollParent();this.offset=this.positionAbs=this.element.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};a.extend(this.offset,{click:{left:c.pageX-this.offset.left,top:c.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.originalPosition=this.position=this._generatePosition(c);this.originalPageX=c.pageX;this.originalPageY=c.pageY;(d.cursorAt&&this._adjustOffsetFromHelper(d.cursorAt));if(d.containment){this._setContainment()}if(this._trigger("start",c)===false){this._clear();return false}this._cacheHelperProportions();if(a.ui.ddmanager&&!d.dropBehaviour){a.ui.ddmanager.prepareOffsets(this,c)}this._mouseDrag(c,true);if(a.ui.ddmanager){a.ui.ddmanager.dragStart(this,c)}return true},_mouseDrag:function(c,e){this.position=this._generatePosition(c);this.positionAbs=this._convertPositionTo("absolute");if(!e){var d=this._uiHash();if(this._trigger("drag",c,d)===false){this._mouseUp({});return false}this.position=d.position}if(!this.options.axis||this.options.axis!="y"){this.helper[0].style.left=this.position.left+"px"}if(!this.options.axis||this.options.axis!="x"){this.helper[0].style.top=this.position.top+"px"}if(a.ui.ddmanager){a.ui.ddmanager.drag(this,c)}return false},_mouseStop:function(e){var g=false;if(a.ui.ddmanager&&!this.options.dropBehaviour){g=a.ui.ddmanager.drop(this,e)}if(this.dropped){g=this.dropped;this.dropped=false}var c=this.element[0],f=false;while(c&&(c=c.parentNode)){if(c==document){f=true}}if(!f&&this.options.helper==="original"){return false}if((this.options.revert=="invalid"&&!g)||(this.options.revert=="valid"&&g)||this.options.revert===true||(a.isFunction(this.options.revert)&&this.options.revert.call(this.element,g))){var d=this;a(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){if(d._trigger("stop",e)!==false){d._clear()}})}else{if(this._trigger("stop",e)!==false){this._clear()}}return false},_mouseUp:function(c){a("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)});if(a.ui.ddmanager){a.ui.ddmanager.dragStop(this,c)}return a.ui.mouse.prototype._mouseUp.call(this,c)},cancel:function(){if(this.helper.is(".ui-draggable-dragging")){this._mouseUp({})}else{this._clear()}return this},_getHandle:function(c){var d=!this.options.handle||!a(this.options.handle,this.element).length?true:false;a(this.options.handle,this.element).find("*").andSelf().each(function(){if(this==c.target){d=true}});return d},_createHelper:function(d){var e=this.options;var c=a.isFunction(e.helper)?a(e.helper.apply(this.element[0],[d])):(e.helper=="clone"?this.element.clone().removeAttr("id"):this.element);if(!c.parents("body").length){c.appendTo((e.appendTo=="parent"?this.element[0].parentNode:e.appendTo))}if(c[0]!=this.element[0]&&!(/(fixed|absolute)/).test(c.css("position"))){c.css("position","absolute")}return c},_adjustOffsetFromHelper:function(c){if(typeof c=="string"){c=c.split(" ")}if(a.isArray(c)){c={left:+c[0],top:+c[1]||0}}if("left" in c){this.offset.click.left=c.left+this.margins.left}if("right" in c){this.offset.click.left=this.helperProportions.width-c.right+this.margins.left}if("top" in c){this.offset.click.top=c.top+this.margins.top}if("bottom" in c){this.offset.click.top=this.helperProportions.height-c.bottom+this.margins.top}},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var c=this.offsetParent.offset();if(this.cssPosition=="absolute"&&this.scrollParent[0]!=document&&a.contains(this.scrollParent[0],this.offsetParent[0])){c.left+=this.scrollParent.scrollLeft();c.top+=this.scrollParent.scrollTop()}if((this.offsetParent[0]==document.body)||(this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()=="html"&&a.ui.ie)){c={top:0,left:0}}return{top:c.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:c.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition=="relative"){var c=this.element.position();return{top:c.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:c.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}else{return{top:0,left:0}}},_cacheMargins:function(){this.margins={left:(parseInt(this.element.css("marginLeft"),10)||0),top:(parseInt(this.element.css("marginTop"),10)||0),right:(parseInt(this.element.css("marginRight"),10)||0),bottom:(parseInt(this.element.css("marginBottom"),10)||0)}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var g=this.options;if(g.containment=="parent"){g.containment=this.helper[0].parentNode}if(g.containment=="document"||g.containment=="window"){this.containment=[g.containment=="document"?0:a(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,g.containment=="document"?0:a(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,(g.containment=="document"?0:a(window).scrollLeft())+a(g.containment=="document"?document:window).width()-this.helperProportions.width-this.margins.left,(g.containment=="document"?0:a(window).scrollTop())+(a(g.containment=="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]}if(!(/^(document|window|parent)$/).test(g.containment)&&g.containment.constructor!=Array){var h=a(g.containment);var e=h[0];if(!e){return}var f=h.offset();var d=(a(e).css("overflow")!="hidden");this.containment=[(parseInt(a(e).css("borderLeftWidth"),10)||0)+(parseInt(a(e).css("paddingLeft"),10)||0),(parseInt(a(e).css("borderTopWidth"),10)||0)+(parseInt(a(e).css("paddingTop"),10)||0),(d?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(a(e).css("borderLeftWidth"),10)||0)-(parseInt(a(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(d?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(a(e).css("borderTopWidth"),10)||0)-(parseInt(a(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom];this.relative_container=h}else{if(g.containment.constructor==Array){this.containment=g.containment}}},_convertPositionTo:function(g,j){if(!j){j=this.position}var e=g=="absolute"?1:-1;var f=this.options,c=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&a.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,h=(/(html|body)/i).test(c[0].tagName);return{top:(j.top+this.offset.relative.top*e+this.offset.parent.top*e-((this.cssPosition=="fixed"?-this.scrollParent.scrollTop():(h?0:c.scrollTop()))*e)),left:(j.left+this.offset.relative.left*e+this.offset.parent.left*e-((this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():h?0:c.scrollLeft())*e))}},_generatePosition:function(d){var e=this.options,m=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&a.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,j=(/(html|body)/i).test(m[0].tagName);var h=d.pageX;var g=d.pageY;if(this.originalPosition){var c;if(this.containment){if(this.relative_container){var l=this.relative_container.offset();c=[this.containment[0]+l.left,this.containment[1]+l.top,this.containment[2]+l.left,this.containment[3]+l.top]}else{c=this.containment}if(d.pageX-this.offset.click.left<c[0]){h=c[0]+this.offset.click.left}if(d.pageY-this.offset.click.top<c[1]){g=c[1]+this.offset.click.top}if(d.pageX-this.offset.click.left>c[2]){h=c[2]+this.offset.click.left}if(d.pageY-this.offset.click.top>c[3]){g=c[3]+this.offset.click.top}}if(e.grid){var k=e.grid[1]?this.originalPageY+Math.round((g-this.originalPageY)/e.grid[1])*e.grid[1]:this.originalPageY;g=c?(!(k-this.offset.click.top<c[1]||k-this.offset.click.top>c[3])?k:(!(k-this.offset.click.top<c[1])?k-e.grid[1]:k+e.grid[1])):k;var f=e.grid[0]?this.originalPageX+Math.round((h-this.originalPageX)/e.grid[0])*e.grid[0]:this.originalPageX;h=c?(!(f-this.offset.click.left<c[0]||f-this.offset.click.left>c[2])?f:(!(f-this.offset.click.left<c[0])?f-e.grid[0]:f+e.grid[0])):f}}return{top:(g-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+((this.cssPosition=="fixed"?-this.scrollParent.scrollTop():(j?0:m.scrollTop())))),left:(h-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+((this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():j?0:m.scrollLeft())))}},_clear:function(){this.helper.removeClass("ui-draggable-dragging");if(this.helper[0]!=this.element[0]&&!this.cancelHelperRemoval){this.helper.remove()}this.helper=null;this.cancelHelperRemoval=false},_trigger:function(c,d,e){e=e||this._uiHash();a.ui.plugin.call(this,c,[d,e]);if(c=="drag"){this.positionAbs=this._convertPositionTo("absolute")}return a.Widget.prototype._trigger.call(this,c,d,e)},plugins:{},_uiHash:function(c){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}});a.ui.plugin.add("draggable","connectToSortable",{start:function(d,f){var e=a(this).data("draggable"),g=e.options,c=a.extend({},f,{item:e.element});e.sortables=[];a(g.connectToSortable).each(function(){var h=a.data(this,"sortable");if(h&&!h.options.disabled){e.sortables.push({instance:h,shouldRevert:h.options.revert});h.refreshPositions();h._trigger("activate",d,c)}})},stop:function(d,f){var e=a(this).data("draggable"),c=a.extend({},f,{item:e.element});a.each(e.sortables,function(){if(this.instance.isOver){this.instance.isOver=0;e.cancelHelperRemoval=true;this.instance.cancelHelperRemoval=false;if(this.shouldRevert){this.instance.options.revert=true}this.instance._mouseStop(d);this.instance.options.helper=this.instance.options._helper;if(e.options.helper=="original"){this.instance.currentItem.css({top:"auto",left:"auto"})}}else{this.instance.cancelHelperRemoval=false;this.instance._trigger("deactivate",d,c)}})},drag:function(d,g){var f=a(this).data("draggable"),c=this;var e=function(k){var q=this.offset.click.top,p=this.offset.click.left;var h=this.positionAbs.top,m=this.positionAbs.left;var l=k.height,n=k.width;var r=k.top,j=k.left;return a.ui.isOver(h+q,m+p,r,j,l,n)};a.each(f.sortables,function(j){var h=false;var k=this;this.instance.positionAbs=f.positionAbs;this.instance.helperProportions=f.helperProportions;this.instance.offset.click=f.offset.click;if(this.instance._intersectsWith(this.instance.containerCache)){h=true;a.each(f.sortables,function(){this.instance.positionAbs=f.positionAbs;this.instance.helperProportions=f.helperProportions;this.instance.offset.click=f.offset.click;if(this!=k&&this.instance._intersectsWith(this.instance.containerCache)&&a.ui.contains(k.instance.element[0],this.instance.element[0])){h=false}return h})}if(h){if(!this.instance.isOver){this.instance.isOver=1;this.instance.currentItem=a(c).clone().removeAttr("id").appendTo(this.instance.element).data("sortable-item",true);this.instance.options._helper=this.instance.options.helper;this.instance.options.helper=function(){return g.helper[0]};d.target=this.instance.currentItem[0];this.instance._mouseCapture(d,true);this.instance._mouseStart(d,true,true);this.instance.offset.click.top=f.offset.click.top;this.instance.offset.click.left=f.offset.click.left;this.instance.offset.parent.left-=f.offset.parent.left-this.instance.offset.parent.left;this.instance.offset.parent.top-=f.offset.parent.top-this.instance.offset.parent.top;f._trigger("toSortable",d);f.dropped=this.instance.element;f.currentItem=f.element;this.instance.fromOutside=f}if(this.instance.currentItem){this.instance._mouseDrag(d)}}else{if(this.instance.isOver){this.instance.isOver=0;this.instance.cancelHelperRemoval=true;this.instance.options.revert=false;this.instance._trigger("out",d,this.instance._uiHash(this.instance));this.instance._mouseStop(d,true);this.instance.options.helper=this.instance.options._helper;this.instance.currentItem.remove();if(this.instance.placeholder){this.instance.placeholder.remove()}f._trigger("fromSortable",d);f.dropped=false}}})}});a.ui.plugin.add("draggable","cursor",{start:function(d,e){var c=a("body"),f=a(this).data("draggable").options;if(c.css("cursor")){f._cursor=c.css("cursor")}c.css("cursor",f.cursor)},stop:function(c,d){var e=a(this).data("draggable").options;if(e._cursor){a("body").css("cursor",e._cursor)}}});a.ui.plugin.add("draggable","opacity",{start:function(d,e){var c=a(e.helper),f=a(this).data("draggable").options;if(c.css("opacity")){f._opacity=c.css("opacity")}c.css("opacity",f.opacity)},stop:function(c,d){var e=a(this).data("draggable").options;if(e._opacity){a(d.helper).css("opacity",e._opacity)}}});a.ui.plugin.add("draggable","scroll",{start:function(d,e){var c=a(this).data("draggable");if(c.scrollParent[0]!=document&&c.scrollParent[0].tagName!="HTML"){c.overflowOffset=c.scrollParent.offset()}},drag:function(e,f){var d=a(this).data("draggable"),g=d.options,c=false;if(d.scrollParent[0]!=document&&d.scrollParent[0].tagName!="HTML"){if(!g.axis||g.axis!="x"){if((d.overflowOffset.top+d.scrollParent[0].offsetHeight)-e.pageY<g.scrollSensitivity){d.scrollParent[0].scrollTop=c=d.scrollParent[0].scrollTop+g.scrollSpeed}else{if(e.pageY-d.overflowOffset.top<g.scrollSensitivity){d.scrollParent[0].scrollTop=c=d.scrollParent[0].scrollTop-g.scrollSpeed}}}if(!g.axis||g.axis!="y"){if((d.overflowOffset.left+d.scrollParent[0].offsetWidth)-e.pageX<g.scrollSensitivity){d.scrollParent[0].scrollLeft=c=d.scrollParent[0].scrollLeft+g.scrollSpeed}else{if(e.pageX-d.overflowOffset.left<g.scrollSensitivity){d.scrollParent[0].scrollLeft=c=d.scrollParent[0].scrollLeft-g.scrollSpeed}}}}else{if(!g.axis||g.axis!="x"){if(e.pageY-a(document).scrollTop()<g.scrollSensitivity){c=a(document).scrollTop(a(document).scrollTop()-g.scrollSpeed)}else{if(a(window).height()-(e.pageY-a(document).scrollTop())<g.scrollSensitivity){c=a(document).scrollTop(a(document).scrollTop()+g.scrollSpeed)}}}if(!g.axis||g.axis!="y"){if(e.pageX-a(document).scrollLeft()<g.scrollSensitivity){c=a(document).scrollLeft(a(document).scrollLeft()-g.scrollSpeed)}else{if(a(window).width()-(e.pageX-a(document).scrollLeft())<g.scrollSensitivity){c=a(document).scrollLeft(a(document).scrollLeft()+g.scrollSpeed)}}}}if(c!==false&&a.ui.ddmanager&&!g.dropBehaviour){a.ui.ddmanager.prepareOffsets(d,e)}}});a.ui.plugin.add("draggable","snap",{start:function(d,e){var c=a(this).data("draggable"),f=c.options;c.snapElements=[];a(f.snap.constructor!=String?(f.snap.items||":data(draggable)"):f.snap).each(function(){var h=a(this);var g=h.offset();if(this!=c.element[0]){c.snapElements.push({item:this,width:h.outerWidth(),height:h.outerHeight(),top:g.top,left:g.left})}})},drag:function(u,p){var g=a(this).data("draggable"),q=g.options;var y=q.snapTolerance;var x=p.offset.left,w=x+g.helperProportions.width,f=p.offset.top,e=f+g.helperProportions.height;for(var v=g.snapElements.length-1;v>=0;v--){var s=g.snapElements[v].left,n=s+g.snapElements[v].width,m=g.snapElements[v].top,A=m+g.snapElements[v].height;if(!((s-y<x&&x<n+y&&m-y<f&&f<A+y)||(s-y<x&&x<n+y&&m-y<e&&e<A+y)||(s-y<w&&w<n+y&&m-y<f&&f<A+y)||(s-y<w&&w<n+y&&m-y<e&&e<A+y))){if(g.snapElements[v].snapping){(g.options.snap.release&&g.options.snap.release.call(g.element,u,a.extend(g._uiHash(),{snapItem:g.snapElements[v].item})))}g.snapElements[v].snapping=false;continue}if(q.snapMode!="inner"){var c=Math.abs(m-e)<=y;var z=Math.abs(A-f)<=y;var j=Math.abs(s-w)<=y;var k=Math.abs(n-x)<=y;if(c){p.position.top=g._convertPositionTo("relative",{top:m-g.helperProportions.height,left:0}).top-g.margins.top}if(z){p.position.top=g._convertPositionTo("relative",{top:A,left:0}).top-g.margins.top}if(j){p.position.left=g._convertPositionTo("relative",{top:0,left:s-g.helperProportions.width}).left-g.margins.left}if(k){p.position.left=g._convertPositionTo("relative",{top:0,left:n}).left-g.margins.left}}var h=(c||z||j||k);if(q.snapMode!="outer"){var c=Math.abs(m-f)<=y;var z=Math.abs(A-e)<=y;var j=Math.abs(s-x)<=y;var k=Math.abs(n-w)<=y;if(c){p.position.top=g._convertPositionTo("relative",{top:m,left:0}).top-g.margins.top}if(z){p.position.top=g._convertPositionTo("relative",{top:A-g.helperProportions.height,left:0}).top-g.margins.top}if(j){p.position.left=g._convertPositionTo("relative",{top:0,left:s}).left-g.margins.left}if(k){p.position.left=g._convertPositionTo("relative",{top:0,left:n-g.helperProportions.width}).left-g.margins.left}}if(!g.snapElements[v].snapping&&(c||z||j||k||h)){(g.options.snap.snap&&g.options.snap.snap.call(g.element,u,a.extend(g._uiHash(),{snapItem:g.snapElements[v].item})))}g.snapElements[v].snapping=(c||z||j||k||h)}}});a.ui.plugin.add("draggable","stack",{start:function(d,e){var g=a(this).data("draggable").options;var f=a.makeArray(a(g.stack)).sort(function(j,h){return(parseInt(a(j).css("zIndex"),10)||0)-(parseInt(a(h).css("zIndex"),10)||0)});if(!f.length){return}var c=parseInt(f[0].style.zIndex)||0;a(f).each(function(h){this.style.zIndex=c+h});this[0].style.zIndex=c+f.length}});a.ui.plugin.add("draggable","zIndex",{start:function(d,e){var c=a(e.helper),f=a(this).data("draggable").options;if(c.css("zIndex")){f._zIndex=c.css("zIndex")}c.css("zIndex",f.zIndex)},stop:function(c,d){var e=a(this).data("draggable").options;if(e._zIndex){a(d.helper).css("zIndex",e._zIndex)}}})})(jQuery);(function(a,b){a.widget("ui.droppable",{version:"1.9.2",widgetEventPrefix:"drop",options:{accept:"*",activeClass:false,addClasses:true,greedy:false,hoverClass:false,scope:"default",tolerance:"intersect"},_create:function(){var d=this.options,c=d.accept;this.isover=0;this.isout=1;this.accept=a.isFunction(c)?c:function(e){return e.is(c)};this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight};a.ui.ddmanager.droppables[d.scope]=a.ui.ddmanager.droppables[d.scope]||[];a.ui.ddmanager.droppables[d.scope].push(this);(d.addClasses&&this.element.addClass("ui-droppable"))},_destroy:function(){var c=a.ui.ddmanager.droppables[this.options.scope];for(var d=0;d<c.length;d++){if(c[d]==this){c.splice(d,1)}}this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(c,d){if(c=="accept"){this.accept=a.isFunction(d)?d:function(e){return e.is(d)}}a.Widget.prototype._setOption.apply(this,arguments)},_activate:function(d){var c=a.ui.ddmanager.current;if(this.options.activeClass){this.element.addClass(this.options.activeClass)}(c&&this._trigger("activate",d,this.ui(c)))},_deactivate:function(d){var c=a.ui.ddmanager.current;if(this.options.activeClass){this.element.removeClass(this.options.activeClass)}(c&&this._trigger("deactivate",d,this.ui(c)))},_over:function(d){var c=a.ui.ddmanager.current;if(!c||(c.currentItem||c.element)[0]==this.element[0]){return}if(this.accept.call(this.element[0],(c.currentItem||c.element))){if(this.options.hoverClass){this.element.addClass(this.options.hoverClass)}this._trigger("over",d,this.ui(c))}},_out:function(d){var c=a.ui.ddmanager.current;if(!c||(c.currentItem||c.element)[0]==this.element[0]){return}if(this.accept.call(this.element[0],(c.currentItem||c.element))){if(this.options.hoverClass){this.element.removeClass(this.options.hoverClass)}this._trigger("out",d,this.ui(c))}},_drop:function(d,e){var c=e||a.ui.ddmanager.current;if(!c||(c.currentItem||c.element)[0]==this.element[0]){return false}var f=false;this.element.find(":data(droppable)").not(".ui-draggable-dragging").each(function(){var g=a.data(this,"droppable");if(g.options.greedy&&!g.options.disabled&&g.options.scope==c.options.scope&&g.accept.call(g.element[0],(c.currentItem||c.element))&&a.ui.intersect(c,a.extend(g,{offset:g.element.offset()}),g.options.tolerance)){f=true;return false}});if(f){return false}if(this.accept.call(this.element[0],(c.currentItem||c.element))){if(this.options.activeClass){this.element.removeClass(this.options.activeClass)}if(this.options.hoverClass){this.element.removeClass(this.options.hoverClass)}this._trigger("drop",d,this.ui(c));return this.element}return false},ui:function(d){return{draggable:(d.currentItem||d.element),helper:d.helper,position:d.position,offset:d.positionAbs}}});a.ui.intersect=function(s,k,p){if(!k.offset){return false}var e=(s.positionAbs||s.position.absolute).left,d=e+s.helperProportions.width,o=(s.positionAbs||s.position.absolute).top,n=o+s.helperProportions.height;var g=k.offset.left,c=g+k.proportions.width,q=k.offset.top,m=q+k.proportions.height;switch(p){case"fit":return(g<=e&&d<=c&&q<=o&&n<=m);break;case"intersect":return(g<e+(s.helperProportions.width/2)&&d-(s.helperProportions.width/2)<c&&q<o+(s.helperProportions.height/2)&&n-(s.helperProportions.height/2)<m);break;case"pointer":var h=((s.positionAbs||s.position.absolute).left+(s.clickOffset||s.offset.click).left),j=((s.positionAbs||s.position.absolute).top+(s.clickOffset||s.offset.click).top),f=a.ui.isOver(j,h,q,g,k.proportions.height,k.proportions.width);return f;break;case"touch":return((o>=q&&o<=m)||(n>=q&&n<=m)||(o<q&&n>m))&&((e>=g&&e<=c)||(d>=g&&d<=c)||(e<g&&d>c));break;default:return false;break}};a.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(f,h){var c=a.ui.ddmanager.droppables[f.options.scope]||[];var g=h?h.type:null;var k=(f.currentItem||f.element).find(":data(droppable)").andSelf();droppablesLoop:for(var e=0;e<c.length;e++){if(c[e].options.disabled||(f&&!c[e].accept.call(c[e].element[0],(f.currentItem||f.element)))){continue}for(var d=0;d<k.length;d++){if(k[d]==c[e].element[0]){c[e].proportions.height=0;continue droppablesLoop}}c[e].visible=c[e].element.css("display")!="none";if(!c[e].visible){continue}if(g=="mousedown"){c[e]._activate.call(c[e],h)}c[e].offset=c[e].element.offset();c[e].proportions={width:c[e].element[0].offsetWidth,height:c[e].element[0].offsetHeight}}},drop:function(c,d){var e=false;a.each(a.ui.ddmanager.droppables[c.options.scope]||[],function(){if(!this.options){return}if(!this.options.disabled&&this.visible&&a.ui.intersect(c,this,this.options.tolerance)){e=this._drop.call(this,d)||e}if(!this.options.disabled&&this.visible&&this.accept.call(this.element[0],(c.currentItem||c.element))){this.isout=1;this.isover=0;this._deactivate.call(this,d)}});return e},dragStart:function(c,d){c.element.parentsUntil("body").bind("scroll.droppable",function(){if(!c.options.refreshPositions){a.ui.ddmanager.prepareOffsets(c,d)}})},drag:function(c,d){if(c.options.refreshPositions){a.ui.ddmanager.prepareOffsets(c,d)}a.each(a.ui.ddmanager.droppables[c.options.scope]||[],function(){if(this.options.disabled||this.greedyChild||!this.visible){return}var g=a.ui.intersect(c,this,this.options.tolerance);var j=!g&&this.isover==1?"isout":(g&&this.isover==0?"isover":null);if(!j){return}var h;if(this.options.greedy){var f=this.options.scope;var e=this.element.parents(":data(droppable)").filter(function(){return a.data(this,"droppable").options.scope===f});if(e.length){h=a.data(e[0],"droppable");h.greedyChild=(j=="isover"?1:0)}}if(h&&j=="isover"){h.isover=0;h.isout=1;h._out.call(h,d)}this[j]=1;this[j=="isout"?"isover":"isout"]=0;this[j=="isover"?"_over":"_out"].call(this,d);if(h&&j=="isout"){h.isout=0;h.isover=1;h._over.call(h,d)}})},dragStop:function(c,d){c.element.parentsUntil("body").unbind("scroll.droppable");if(!c.options.refreshPositions){a.ui.ddmanager.prepareOffsets(c,d)}}}})(jQuery);(function(c,d){c.widget("ui.resizable",c.ui.mouse,{version:"1.9.2",widgetEventPrefix:"resize",options:{alsoResize:false,animate:false,animateDuration:"slow",animateEasing:"swing",aspectRatio:false,autoHide:false,containment:false,ghost:false,grid:false,handles:"e,s,se",helper:false,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:1000},_create:function(){var h=this,k=this.options;this.element.addClass("ui-resizable");c.extend(this,{_aspectRatio:!!(k.aspectRatio),aspectRatio:k.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:k.helper||k.ghost||k.animate?k.helper||"ui-resizable-helper":null});if(this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)){this.element.wrap(c('<div class="ui-wrapper" style="overflow: hidden;"></div>').css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")}));this.element=this.element.parent().data("resizable",this.element.data("resizable"));this.elementIsWrapper=true;this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")});this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0});this.originalResizeStyle=this.originalElement.css("resize");this.originalElement.css("resize","none");this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"}));this.originalElement.css({margin:this.originalElement.css("margin")});this._proportionallyResize()}this.handles=k.handles||(!c(".ui-resizable-handle",this.element).length?"e,s,se":{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"});if(this.handles.constructor==String){if(this.handles=="all"){this.handles="n,e,s,w,se,sw,ne,nw"}var l=this.handles.split(",");this.handles={};for(var f=0;f<l.length;f++){var j=c.trim(l[f]),e="ui-resizable-"+j;var g=c('<div class="ui-resizable-handle '+e+'"></div>');g.css({zIndex:k.zIndex});if("se"==j){g.addClass("ui-icon ui-icon-gripsmall-diagonal-se")}this.handles[j]=".ui-resizable-"+j;this.element.append(g)}}this._renderAxis=function(q){q=q||this.element;for(var n in this.handles){if(this.handles[n].constructor==String){this.handles[n]=c(this.handles[n],this.element).show()}if(this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)){var o=c(this.handles[n],this.element),p=0;p=/sw|ne|nw|se|n|s/.test(n)?o.outerHeight():o.outerWidth();var m=["padding",/ne|nw|n/.test(n)?"Top":/se|sw|s/.test(n)?"Bottom":/^e$/.test(n)?"Right":"Left"].join("");q.css(m,p);this._proportionallyResize()}if(!c(this.handles[n]).length){continue}}};this._renderAxis(this.element);this._handles=c(".ui-resizable-handle",this.element).disableSelection();this._handles.mouseover(function(){if(!h.resizing){if(this.className){var m=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)}h.axis=m&&m[1]?m[1]:"se"}});if(k.autoHide){this._handles.hide();c(this.element).addClass("ui-resizable-autohide").mouseenter(function(){if(k.disabled){return}c(this).removeClass("ui-resizable-autohide");h._handles.show()}).mouseleave(function(){if(k.disabled){return}if(!h.resizing){c(this).addClass("ui-resizable-autohide");h._handles.hide()}})}this._mouseInit()},_destroy:function(){this._mouseDestroy();var e=function(g){c(g).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};if(this.elementIsWrapper){e(this.element);var f=this.element;this.originalElement.css({position:f.css("position"),width:f.outerWidth(),height:f.outerHeight(),top:f.css("top"),left:f.css("left")}).insertAfter(f);f.remove()}this.originalElement.css("resize",this.originalResizeStyle);e(this.originalElement);return this},_mouseCapture:function(f){var g=false;for(var e in this.handles){if(c(this.handles[e])[0]==f.target){g=true}}return !this.options.disabled&&g},_mouseStart:function(g){var k=this.options,f=this.element.position(),e=this.element;this.resizing=true;this.documentScroll={top:c(document).scrollTop(),left:c(document).scrollLeft()};if(e.is(".ui-draggable")||(/absolute/).test(e.css("position"))){e.css({position:"absolute",top:f.top,left:f.left})}this._renderProxy();var l=b(this.helper.css("left")),h=b(this.helper.css("top"));if(k.containment){l+=c(k.containment).scrollLeft()||0;h+=c(k.containment).scrollTop()||0}this.offset=this.helper.offset();this.position={left:l,top:h};this.size=this._helper?{width:e.outerWidth(),height:e.outerHeight()}:{width:e.width(),height:e.height()};this.originalSize=this._helper?{width:e.outerWidth(),height:e.outerHeight()}:{width:e.width(),height:e.height()};this.originalPosition={left:l,top:h};this.sizeDiff={width:e.outerWidth()-e.width(),height:e.outerHeight()-e.height()};this.originalMousePosition={left:g.pageX,top:g.pageY};this.aspectRatio=(typeof k.aspectRatio=="number")?k.aspectRatio:((this.originalSize.width/this.originalSize.height)||1);var j=c(".ui-resizable-"+this.axis).css("cursor");c("body").css("cursor",j=="auto"?this.axis+"-resize":j);e.addClass("ui-resizable-resizing");this._propagate("start",g);return true},_mouseDrag:function(e){var g=this.helper,f=this.options,m={},l=this,j=this.originalMousePosition,n=this.axis;var q=(e.pageX-j.left)||0,p=(e.pageY-j.top)||0;var h=this._change[n];if(!h){return false}var k=h.apply(this,[e,q,p]);this._updateVirtualBoundaries(e.shiftKey);if(this._aspectRatio||e.shiftKey){k=this._updateRatio(k,e)}k=this._respectSize(k,e);this._propagate("resize",e);g.css({top:this.position.top+"px",left:this.position.left+"px",width:this.size.width+"px",height:this.size.height+"px"});if(!this._helper&&this._proportionallyResizeElements.length){this._proportionallyResize()}this._updateCache(k);this._trigger("resize",e,this.ui());return false},_mouseStop:function(h){this.resizing=false;var j=this.options,m=this;if(this._helper){var g=this._proportionallyResizeElements,e=g.length&&(/textarea/i).test(g[0].nodeName),f=e&&c.ui.hasScroll(g[0],"left")?0:m.sizeDiff.height,l=e?0:m.sizeDiff.width;var p={width:(m.helper.width()-l),height:(m.helper.height()-f)},k=(parseInt(m.element.css("left"),10)+(m.position.left-m.originalPosition.left))||null,n=(parseInt(m.element.css("top"),10)+(m.position.top-m.originalPosition.top))||null;if(!j.animate){this.element.css(c.extend(p,{top:n,left:k}))}m.helper.height(m.size.height);m.helper.width(m.size.width);if(this._helper&&!j.animate){this._proportionallyResize()}}c("body").css("cursor","auto");this.element.removeClass("ui-resizable-resizing");this._propagate("stop",h);if(this._helper){this.helper.remove()}return false},_updateVirtualBoundaries:function(g){var k=this.options,j,h,f,l,e;e={minWidth:a(k.minWidth)?k.minWidth:0,maxWidth:a(k.maxWidth)?k.maxWidth:Infinity,minHeight:a(k.minHeight)?k.minHeight:0,maxHeight:a(k.maxHeight)?k.maxHeight:Infinity};if(this._aspectRatio||g){j=e.minHeight*this.aspectRatio;f=e.minWidth/this.aspectRatio;h=e.maxHeight*this.aspectRatio;l=e.maxWidth/this.aspectRatio;if(j>e.minWidth){e.minWidth=j}if(f>e.minHeight){e.minHeight=f}if(h<e.maxWidth){e.maxWidth=h}if(l<e.maxHeight){e.maxHeight=l}}this._vBoundaries=e},_updateCache:function(e){var f=this.options;this.offset=this.helper.offset();if(a(e.left)){this.position.left=e.left}if(a(e.top)){this.position.top=e.top}if(a(e.height)){this.size.height=e.height}if(a(e.width)){this.size.width=e.width}},_updateRatio:function(h,g){var j=this.options,k=this.position,f=this.size,e=this.axis;if(a(h.height)){h.width=(h.height*this.aspectRatio)}else{if(a(h.width)){h.height=(h.width/this.aspectRatio)}}if(e=="sw"){h.left=k.left+(f.width-h.width);h.top=null}if(e=="nw"){h.top=k.top+(f.height-h.height);h.left=k.left+(f.width-h.width)}return h},_respectSize:function(m,g){var k=this.helper,j=this._vBoundaries,s=this._aspectRatio||g.shiftKey,r=this.axis,u=a(m.width)&&j.maxWidth&&(j.maxWidth<m.width),n=a(m.height)&&j.maxHeight&&(j.maxHeight<m.height),h=a(m.width)&&j.minWidth&&(j.minWidth>m.width),t=a(m.height)&&j.minHeight&&(j.minHeight>m.height);if(h){m.width=j.minWidth}if(t){m.height=j.minHeight}if(u){m.width=j.maxWidth}if(n){m.height=j.maxHeight}var f=this.originalPosition.left+this.originalSize.width,q=this.position.top+this.size.height;var l=/sw|nw|w/.test(r),e=/nw|ne|n/.test(r);if(h&&l){m.left=f-j.minWidth}if(u&&l){m.left=f-j.maxWidth}if(t&&e){m.top=q-j.minHeight}if(n&&e){m.top=q-j.maxHeight}var p=!m.width&&!m.height;if(p&&!m.left&&m.top){m.top=null}else{if(p&&!m.top&&m.left){m.left=null}}return m},_proportionallyResize:function(){var k=this.options;if(!this._proportionallyResizeElements.length){return}var g=this.helper||this.element;for(var f=0;f<this._proportionallyResizeElements.length;f++){var h=this._proportionallyResizeElements[f];if(!this.borderDif){var e=[h.css("borderTopWidth"),h.css("borderRightWidth"),h.css("borderBottomWidth"),h.css("borderLeftWidth")],j=[h.css("paddingTop"),h.css("paddingRight"),h.css("paddingBottom"),h.css("paddingLeft")];this.borderDif=c.map(e,function(l,n){var m=parseInt(l,10)||0,o=parseInt(j[n],10)||0;return m+o})}h.css({height:(g.height()-this.borderDif[0]-this.borderDif[2])||0,width:(g.width()-this.borderDif[1]-this.borderDif[3])||0})}},_renderProxy:function(){var e=this.element,h=this.options;this.elementOffset=e.offset();if(this._helper){this.helper=this.helper||c('<div style="overflow:hidden;"></div>');var f=(c.ui.ie6?1:0),g=(c.ui.ie6?2:-1);this.helper.addClass(this._helper).css({width:this.element.outerWidth()+g,height:this.element.outerHeight()+g,position:"absolute",left:this.elementOffset.left-f+"px",top:this.elementOffset.top-f+"px",zIndex:++h.zIndex});this.helper.appendTo("body").disableSelection()}else{this.helper=this.element}},_change:{e:function(g,f,e){return{width:this.originalSize.width+f}},w:function(h,f,e){var k=this.options,g=this.originalSize,j=this.originalPosition;return{left:j.left+f,width:g.width-f}},n:function(h,f,e){var k=this.options,g=this.originalSize,j=this.originalPosition;return{top:j.top+e,height:g.height-e}},s:function(g,f,e){return{height:this.originalSize.height+e}},se:function(g,f,e){return c.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[g,f,e]))},sw:function(g,f,e){return c.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[g,f,e]))},ne:function(g,f,e){return c.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[g,f,e]))},nw:function(g,f,e){return c.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[g,f,e]))}},_propagate:function(f,e){c.ui.plugin.call(this,f,[e,this.ui()]);(f!="resize"&&this._trigger(f,e,this.ui()))},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}});c.ui.plugin.add("resizable","alsoResize",{start:function(f,g){var e=c(this).data("resizable"),j=e.options;var h=function(k){c(k).each(function(){var l=c(this);l.data("resizable-alsoresize",{width:parseInt(l.width(),10),height:parseInt(l.height(),10),left:parseInt(l.css("left"),10),top:parseInt(l.css("top"),10)})})};if(typeof(j.alsoResize)=="object"&&!j.alsoResize.parentNode){if(j.alsoResize.length){j.alsoResize=j.alsoResize[0];h(j.alsoResize)}else{c.each(j.alsoResize,function(k){h(k)})}}else{h(j.alsoResize)}},resize:function(g,j){var f=c(this).data("resizable"),k=f.options,h=f.originalSize,m=f.originalPosition;var l={height:(f.size.height-h.height)||0,width:(f.size.width-h.width)||0,top:(f.position.top-m.top)||0,left:(f.position.left-m.left)||0},e=function(n,o){c(n).each(function(){var r=c(this),s=c(this).data("resizable-alsoresize"),q={},p=o&&o.length?o:r.parents(j.originalElement[0]).length?["width","height"]:["width","height","top","left"];c.each(p,function(t,v){var u=(s[v]||0)+(l[v]||0);if(u&&u>=0){q[v]=u||null}});r.css(q)})};if(typeof(k.alsoResize)=="object"&&!k.alsoResize.nodeType){c.each(k.alsoResize,function(n,o){e(n,o)})}else{e(k.alsoResize)}},stop:function(e,f){c(this).removeData("resizable-alsoresize")}});c.ui.plugin.add("resizable","animate",{stop:function(j,q){var n=c(this).data("resizable"),k=n.options;var h=n._proportionallyResizeElements,e=h.length&&(/textarea/i).test(h[0].nodeName),f=e&&c.ui.hasScroll(h[0],"left")?0:n.sizeDiff.height,m=e?0:n.sizeDiff.width;var g={width:(n.size.width-m),height:(n.size.height-f)},l=(parseInt(n.element.css("left"),10)+(n.position.left-n.originalPosition.left))||null,p=(parseInt(n.element.css("top"),10)+(n.position.top-n.originalPosition.top))||null;n.element.animate(c.extend(g,p&&l?{top:p,left:l}:{}),{duration:k.animateDuration,easing:k.animateEasing,step:function(){var o={width:parseInt(n.element.css("width"),10),height:parseInt(n.element.css("height"),10),top:parseInt(n.element.css("top"),10),left:parseInt(n.element.css("left"),10)};if(h&&h.length){c(h[0]).css({width:o.width,height:o.height})}n._updateCache(o);n._propagate("resize",j)}})}});c.ui.plugin.add("resizable","containment",{start:function(f,t){var r=c(this).data("resizable"),k=r.options,m=r.element;var g=k.containment,l=(g instanceof c)?g.get(0):(/parent/.test(g))?m.parent().get(0):g;if(!l){return}r.containerElement=c(l);if(/document/.test(g)||g==document){r.containerOffset={left:0,top:0};r.containerPosition={left:0,top:0};r.parentData={element:c(document),left:0,top:0,width:c(document).width(),height:c(document).height()||document.body.parentNode.scrollHeight}}else{var q=c(l),j=[];c(["Top","Right","Left","Bottom"]).each(function(p,o){j[p]=b(q.css("padding"+o))});r.containerOffset=q.offset();r.containerPosition=q.position();r.containerSize={height:(q.innerHeight()-j[3]),width:(q.innerWidth()-j[1])};var s=r.containerOffset,e=r.containerSize.height,n=r.containerSize.width,h=(c.ui.hasScroll(l,"left")?l.scrollWidth:n),u=(c.ui.hasScroll(l)?l.scrollHeight:e);r.parentData={element:l,left:s.left,top:s.top,width:h,height:u}}},resize:function(g,s){var n=c(this).data("resizable"),j=n.options,f=n.containerSize,r=n.containerOffset,p=n.size,q=n.position,t=n._aspectRatio||g.shiftKey,e={top:0,left:0},h=n.containerElement;if(h[0]!=document&&(/static/).test(h.css("position"))){e=r}if(q.left<(n._helper?r.left:0)){n.size.width=n.size.width+(n._helper?(n.position.left-r.left):(n.position.left-e.left));if(t){n.size.height=n.size.width/n.aspectRatio}n.position.left=j.helper?r.left:0}if(q.top<(n._helper?r.top:0)){n.size.height=n.size.height+(n._helper?(n.position.top-r.top):n.position.top);if(t){n.size.width=n.size.height*n.aspectRatio}n.position.top=n._helper?r.top:0}n.offset.left=n.parentData.left+n.position.left;n.offset.top=n.parentData.top+n.position.top;var m=Math.abs((n._helper?n.offset.left-e.left:(n.offset.left-e.left))+n.sizeDiff.width),u=Math.abs((n._helper?n.offset.top-e.top:(n.offset.top-r.top))+n.sizeDiff.height);var l=n.containerElement.get(0)==n.element.parent().get(0),k=/relative|absolute/.test(n.containerElement.css("position"));if(l&&k){m-=n.parentData.left}if(m+n.size.width>=n.parentData.width){n.size.width=n.parentData.width-m;if(t){n.size.height=n.size.width/n.aspectRatio}}if(u+n.size.height>=n.parentData.height){n.size.height=n.parentData.height-u;if(t){n.size.width=n.size.height*n.aspectRatio}}},stop:function(f,q){var m=c(this).data("resizable"),g=m.options,n=m.position,p=m.containerOffset,e=m.containerPosition,j=m.containerElement;var k=c(m.helper),s=k.offset(),r=k.outerWidth()-m.sizeDiff.width,l=k.outerHeight()-m.sizeDiff.height;if(m._helper&&!g.animate&&(/relative/).test(j.css("position"))){c(this).css({left:s.left-e.left-p.left,width:r,height:l})}if(m._helper&&!g.animate&&(/static/).test(j.css("position"))){c(this).css({left:s.left-e.left-p.left,width:r,height:l})}}});c.ui.plugin.add("resizable","ghost",{start:function(g,h){var f=c(this).data("resizable"),j=f.options,e=f.size;f.ghost=f.originalElement.clone();f.ghost.css({opacity:0.25,display:"block",position:"relative",height:e.height,width:e.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass(typeof j.ghost=="string"?j.ghost:"");f.ghost.appendTo(f.helper)},resize:function(f,g){var e=c(this).data("resizable"),h=e.options;if(e.ghost){e.ghost.css({position:"relative",height:e.size.height,width:e.size.width})}},stop:function(f,g){var e=c(this).data("resizable"),h=e.options;if(e.ghost&&e.helper){e.helper.get(0).removeChild(e.ghost.get(0))}}});c.ui.plugin.add("resizable","grid",{resize:function(e,p){var l=c(this).data("resizable"),h=l.options,m=l.size,j=l.originalSize,k=l.originalPosition,q=l.axis,n=h._aspectRatio||e.shiftKey;h.grid=typeof h.grid=="number"?[h.grid,h.grid]:h.grid;var g=Math.round((m.width-j.width)/(h.grid[0]||1))*(h.grid[0]||1),f=Math.round((m.height-j.height)/(h.grid[1]||1))*(h.grid[1]||1);if(/^(se|s|e)$/.test(q)){l.size.width=j.width+g;l.size.height=j.height+f}else{if(/^(ne)$/.test(q)){l.size.width=j.width+g;l.size.height=j.height+f;l.position.top=k.top-f}else{if(/^(sw)$/.test(q)){l.size.width=j.width+g;l.size.height=j.height+f;l.position.left=k.left-g}else{l.size.width=j.width+g;l.size.height=j.height+f;l.position.top=k.top-f;l.position.left=k.left-g}}}}});var b=function(e){return parseInt(e,10)||0};var a=function(e){return !isNaN(parseInt(e,10))}})(jQuery);(function(a,b){a.widget("ui.selectable",a.ui.mouse,{version:"1.9.2",options:{appendTo:"body",autoRefresh:true,distance:0,filter:"*",tolerance:"touch"},_create:function(){var c=this;this.element.addClass("ui-selectable");this.dragged=false;var d;this.refresh=function(){d=a(c.options.filter,c.element[0]);d.addClass("ui-selectee");d.each(function(){var e=a(this);var f=e.offset();a.data(this,"selectable-item",{element:this,$element:e,left:f.left,top:f.top,right:f.left+e.outerWidth(),bottom:f.top+e.outerHeight(),startselected:false,selected:e.hasClass("ui-selected"),selecting:e.hasClass("ui-selecting"),unselecting:e.hasClass("ui-unselecting")})})};this.refresh();this.selectees=d.addClass("ui-selectee");this._mouseInit();this.helper=a("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item");this.element.removeClass("ui-selectable ui-selectable-disabled");this._mouseDestroy()},_mouseStart:function(e){var d=this;this.opos=[e.pageX,e.pageY];if(this.options.disabled){return}var c=this.options;this.selectees=a(c.filter,this.element[0]);this._trigger("start",e);a(c.appendTo).append(this.helper);this.helper.css({left:e.clientX,top:e.clientY,width:0,height:0});if(c.autoRefresh){this.refresh()}this.selectees.filter(".ui-selected").each(function(){var f=a.data(this,"selectable-item");f.startselected=true;if(!e.metaKey&&!e.ctrlKey){f.$element.removeClass("ui-selected");f.selected=false;f.$element.addClass("ui-unselecting");f.unselecting=true;d._trigger("unselecting",e,{unselecting:f.element})}});a(e.target).parents().andSelf().each(function(){var g=a.data(this,"selectable-item");if(g){var f=(!e.metaKey&&!e.ctrlKey)||!g.$element.hasClass("ui-selected");g.$element.removeClass(f?"ui-unselecting":"ui-selected").addClass(f?"ui-selecting":"ui-unselecting");g.unselecting=!f;g.selecting=f;g.selected=f;if(f){d._trigger("selecting",e,{selecting:g.element})}else{d._trigger("unselecting",e,{unselecting:g.element})}return false}})},_mouseDrag:function(k){var j=this;this.dragged=true;if(this.options.disabled){return}var e=this.options;var d=this.opos[0],h=this.opos[1],c=k.pageX,g=k.pageY;if(d>c){var f=c;c=d;d=f}if(h>g){var f=g;g=h;h=f}this.helper.css({left:d,top:h,width:c-d,height:g-h});this.selectees.each(function(){var l=a.data(this,"selectable-item");if(!l||l.element==j.element[0]){return}var m=false;if(e.tolerance=="touch"){m=(!(l.left>c||l.right<d||l.top>g||l.bottom<h))}else{if(e.tolerance=="fit"){m=(l.left>d&&l.right<c&&l.top>h&&l.bottom<g)}}if(m){if(l.selected){l.$element.removeClass("ui-selected");l.selected=false}if(l.unselecting){l.$element.removeClass("ui-unselecting");l.unselecting=false}if(!l.selecting){l.$element.addClass("ui-selecting");l.selecting=true;j._trigger("selecting",k,{selecting:l.element})}}else{if(l.selecting){if((k.metaKey||k.ctrlKey)&&l.startselected){l.$element.removeClass("ui-selecting");l.selecting=false;l.$element.addClass("ui-selected");l.selected=true}else{l.$element.removeClass("ui-selecting");l.selecting=false;if(l.startselected){l.$element.addClass("ui-unselecting");l.unselecting=true}j._trigger("unselecting",k,{unselecting:l.element})}}if(l.selected){if(!k.metaKey&&!k.ctrlKey&&!l.startselected){l.$element.removeClass("ui-selected");l.selected=false;l.$element.addClass("ui-unselecting");l.unselecting=true;j._trigger("unselecting",k,{unselecting:l.element})}}}});return false},_mouseStop:function(e){var d=this;this.dragged=false;var c=this.options;a(".ui-unselecting",this.element[0]).each(function(){var f=a.data(this,"selectable-item");f.$element.removeClass("ui-unselecting");f.unselecting=false;f.startselected=false;d._trigger("unselected",e,{unselected:f.element})});a(".ui-selecting",this.element[0]).each(function(){var f=a.data(this,"selectable-item");f.$element.removeClass("ui-selecting").addClass("ui-selected");f.selecting=false;f.selected=true;f.startselected=true;d._trigger("selected",e,{selected:f.element})});this._trigger("stop",e);this.helper.remove();return false}})})(jQuery);(function(a,b){a.widget("ui.sortable",a.ui.mouse,{version:"1.9.2",widgetEventPrefix:"sort",ready:false,options:{appendTo:"parent",axis:false,connectWith:false,containment:false,cursor:"auto",cursorAt:false,dropOnEmpty:true,forcePlaceholderSize:false,forceHelperSize:false,grid:false,handle:false,helper:"original",items:"> *",opacity:false,placeholder:false,revert:false,scroll:true,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1000},_create:function(){var c=this.options;this.containerCache={};this.element.addClass("ui-sortable");this.refresh();this.floating=this.items.length?c.axis==="x"||(/left|right/).test(this.items[0].item.css("float"))||(/inline|table-cell/).test(this.items[0].item.css("display")):false;this.offset=this.element.offset();this._mouseInit();this.ready=true},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled");this._mouseDestroy();for(var c=this.items.length-1;c>=0;c--){this.items[c].item.removeData(this.widgetName+"-item")}return this},_setOption:function(c,d){if(c==="disabled"){this.options[c]=d;this.widget().toggleClass("ui-sortable-disabled",!!d)}else{a.Widget.prototype._setOption.apply(this,arguments)}},_mouseCapture:function(f,g){var e=this;if(this.reverting){return false}if(this.options.disabled||this.options.type=="static"){return false}this._refreshItems(f);var d=null,c=a(f.target).parents().each(function(){if(a.data(this,e.widgetName+"-item")==e){d=a(this);return false}});if(a.data(f.target,e.widgetName+"-item")==e){d=a(f.target)}if(!d){return false}if(this.options.handle&&!g){var h=false;a(this.options.handle,d).find("*").andSelf().each(function(){if(this==f.target){h=true}});if(!h){return false}}this.currentItem=d;this._removeCurrentsFromItems();return true},_mouseStart:function(e,f,c){var g=this.options;this.currentContainer=this;this.refreshPositions();this.helper=this._createHelper(e);this._cacheHelperProportions();this._cacheMargins();this.scrollParent=this.helper.scrollParent();this.offset=this.currentItem.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};a.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.helper.css("position","absolute");this.cssPosition=this.helper.css("position");this.originalPosition=this._generatePosition(e);this.originalPageX=e.pageX;this.originalPageY=e.pageY;(g.cursorAt&&this._adjustOffsetFromHelper(g.cursorAt));this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]};if(this.helper[0]!=this.currentItem[0]){this.currentItem.hide()}this._createPlaceholder();if(g.containment){this._setContainment()}if(g.cursor){if(a("body").css("cursor")){this._storedCursor=a("body").css("cursor")}a("body").css("cursor",g.cursor)}if(g.opacity){if(this.helper.css("opacity")){this._storedOpacity=this.helper.css("opacity")}this.helper.css("opacity",g.opacity)}if(g.zIndex){if(this.helper.css("zIndex")){this._storedZIndex=this.helper.css("zIndex")}this.helper.css("zIndex",g.zIndex)}if(this.scrollParent[0]!=document&&this.scrollParent[0].tagName!="HTML"){this.overflowOffset=this.scrollParent.offset()}this._trigger("start",e,this._uiHash());if(!this._preserveHelperProportions){this._cacheHelperProportions()}if(!c){for(var d=this.containers.length-1;d>=0;d--){this.containers[d]._trigger("activate",e,this._uiHash(this))}}if(a.ui.ddmanager){a.ui.ddmanager.current=this}if(a.ui.ddmanager&&!g.dropBehaviour){a.ui.ddmanager.prepareOffsets(this,e)}this.dragging=true;this.helper.addClass("ui-sortable-helper");this._mouseDrag(e);return true},_mouseDrag:function(g){this.position=this._generatePosition(g);this.positionAbs=this._convertPositionTo("absolute");if(!this.lastPositionAbs){this.lastPositionAbs=this.positionAbs}if(this.options.scroll){var h=this.options,c=false;if(this.scrollParent[0]!=document&&this.scrollParent[0].tagName!="HTML"){if((this.overflowOffset.top+this.scrollParent[0].offsetHeight)-g.pageY<h.scrollSensitivity){this.scrollParent[0].scrollTop=c=this.scrollParent[0].scrollTop+h.scrollSpeed}else{if(g.pageY-this.overflowOffset.top<h.scrollSensitivity){this.scrollParent[0].scrollTop=c=this.scrollParent[0].scrollTop-h.scrollSpeed}}if((this.overflowOffset.left+this.scrollParent[0].offsetWidth)-g.pageX<h.scrollSensitivity){this.scrollParent[0].scrollLeft=c=this.scrollParent[0].scrollLeft+h.scrollSpeed}else{if(g.pageX-this.overflowOffset.left<h.scrollSensitivity){this.scrollParent[0].scrollLeft=c=this.scrollParent[0].scrollLeft-h.scrollSpeed}}}else{if(g.pageY-a(document).scrollTop()<h.scrollSensitivity){c=a(document).scrollTop(a(document).scrollTop()-h.scrollSpeed)}else{if(a(window).height()-(g.pageY-a(document).scrollTop())<h.scrollSensitivity){c=a(document).scrollTop(a(document).scrollTop()+h.scrollSpeed)}}if(g.pageX-a(document).scrollLeft()<h.scrollSensitivity){c=a(document).scrollLeft(a(document).scrollLeft()-h.scrollSpeed)}else{if(a(window).width()-(g.pageX-a(document).scrollLeft())<h.scrollSensitivity){c=a(document).scrollLeft(a(document).scrollLeft()+h.scrollSpeed)}}}if(c!==false&&a.ui.ddmanager&&!h.dropBehaviour){a.ui.ddmanager.prepareOffsets(this,g)}}this.positionAbs=this._convertPositionTo("absolute");if(!this.options.axis||this.options.axis!="y"){this.helper[0].style.left=this.position.left+"px"}if(!this.options.axis||this.options.axis!="x"){this.helper[0].style.top=this.position.top+"px"}for(var e=this.items.length-1;e>=0;e--){var f=this.items[e],d=f.item[0],j=this._intersectsWithPointer(f);if(!j){continue}if(f.instance!==this.currentContainer){continue}if(d!=this.currentItem[0]&&this.placeholder[j==1?"next":"prev"]()[0]!=d&&!a.contains(this.placeholder[0],d)&&(this.options.type=="semi-dynamic"?!a.contains(this.element[0],d):true)){this.direction=j==1?"down":"up";if(this.options.tolerance=="pointer"||this._intersectsWithSides(f)){this._rearrange(g,f)}else{break}this._trigger("change",g,this._uiHash());break}}this._contactContainers(g);if(a.ui.ddmanager){a.ui.ddmanager.drag(this,g)}this._trigger("sort",g,this._uiHash());this.lastPositionAbs=this.positionAbs;return false},_mouseStop:function(d,e){if(!d){return}if(a.ui.ddmanager&&!this.options.dropBehaviour){a.ui.ddmanager.drop(this,d)}if(this.options.revert){var c=this;var f=this.placeholder.offset();this.reverting=true;a(this.helper).animate({left:f.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollLeft),top:f.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollTop)},parseInt(this.options.revert,10)||500,function(){c._clear(d)})}else{this._clear(d,e)}return false},cancel:function(){if(this.dragging){this._mouseUp({target:null});if(this.options.helper=="original"){this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else{this.currentItem.show()}for(var c=this.containers.length-1;c>=0;c--){this.containers[c]._trigger("deactivate",null,this._uiHash(this));if(this.containers[c].containerCache.over){this.containers[c]._trigger("out",null,this._uiHash(this));this.containers[c].containerCache.over=0}}}if(this.placeholder){if(this.placeholder[0].parentNode){this.placeholder[0].parentNode.removeChild(this.placeholder[0])}if(this.options.helper!="original"&&this.helper&&this.helper[0].parentNode){this.helper.remove()}a.extend(this,{helper:null,dragging:false,reverting:false,_noFinalSort:null});if(this.domPosition.prev){a(this.domPosition.prev).after(this.currentItem)}else{a(this.domPosition.parent).prepend(this.currentItem)}}return this},serialize:function(e){var c=this._getItemsAsjQuery(e&&e.connected);var d=[];e=e||{};a(c).each(function(){var f=(a(e.item||this).attr(e.attribute||"id")||"").match(e.expression||(/(.+)[-=_](.+)/));if(f){d.push((e.key||f[1]+"[]")+"="+(e.key&&e.expression?f[1]:f[2]))}});if(!d.length&&e.key){d.push(e.key+"=")}return d.join("&")},toArray:function(e){var c=this._getItemsAsjQuery(e&&e.connected);var d=[];e=e||{};c.each(function(){d.push(a(e.item||this).attr(e.attribute||"id")||"")});return d},_intersectsWith:function(n){var e=this.positionAbs.left,d=e+this.helperProportions.width,m=this.positionAbs.top,k=m+this.helperProportions.height;var f=n.left,c=f+n.width,o=n.top,j=o+n.height;var p=this.offset.click.top,h=this.offset.click.left;var g=(m+p)>o&&(m+p)<j&&(e+h)>f&&(e+h)<c;if(this.options.tolerance=="pointer"||this.options.forcePointerForContainers||(this.options.tolerance!="pointer"&&this.helperProportions[this.floating?"width":"height"]>n[this.floating?"width":"height"])){return g}else{return(f<e+(this.helperProportions.width/2)&&d-(this.helperProportions.width/2)<c&&o<m+(this.helperProportions.height/2)&&k-(this.helperProportions.height/2)<j)}},_intersectsWithPointer:function(e){var f=(this.options.axis==="x")||a.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,e.top,e.height),d=(this.options.axis==="y")||a.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,e.left,e.width),h=f&&d,c=this._getDragVerticalDirection(),g=this._getDragHorizontalDirection();if(!h){return false}return this.floating?(((g&&g=="right")||c=="down")?2:1):(c&&(c=="down"?2:1))},_intersectsWithSides:function(f){var d=a.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,f.top+(f.height/2),f.height),e=a.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,f.left+(f.width/2),f.width),c=this._getDragVerticalDirection(),g=this._getDragHorizontalDirection();if(this.floating&&g){return((g=="right"&&e)||(g=="left"&&!e))}else{return c&&((c=="down"&&d)||(c=="up"&&!d))}},_getDragVerticalDirection:function(){var c=this.positionAbs.top-this.lastPositionAbs.top;return c!=0&&(c>0?"down":"up")},_getDragHorizontalDirection:function(){var c=this.positionAbs.left-this.lastPositionAbs.left;return c!=0&&(c>0?"right":"left")},refresh:function(c){this._refreshItems(c);this.refreshPositions();return this},_connectWith:function(){var c=this.options;return c.connectWith.constructor==String?[c.connectWith]:c.connectWith},_getItemsAsjQuery:function(h){var c=[];var e=[];var g=this._connectWith();if(g&&h){for(var f=g.length-1;f>=0;f--){var l=a(g[f]);for(var d=l.length-1;d>=0;d--){var k=a.data(l[d],this.widgetName);if(k&&k!=this&&!k.options.disabled){e.push([a.isFunction(k.options.items)?k.options.items.call(k.element):a(k.options.items,k.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),k])}}}}e.push([a.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):a(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]);for(var f=e.length-1;f>=0;f--){e[f][0].each(function(){c.push(this)})}return a(c)},_removeCurrentsFromItems:function(){var c=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=a.grep(this.items,function(e){for(var d=0;d<c.length;d++){if(c[d]==e.item[0]){return false}}return true})},_refreshItems:function(c){this.items=[];this.containers=[this];var k=this.items;var g=[[a.isFunction(this.options.items)?this.options.items.call(this.element[0],c,{item:this.currentItem}):a(this.options.items,this.element),this]];var m=this._connectWith();if(m&&this.ready){for(var f=m.length-1;f>=0;f--){var n=a(m[f]);for(var e=n.length-1;e>=0;e--){var h=a.data(n[e],this.widgetName);if(h&&h!=this&&!h.options.disabled){g.push([a.isFunction(h.options.items)?h.options.items.call(h.element[0],c,{item:this.currentItem}):a(h.options.items,h.element),h]);this.containers.push(h)}}}}for(var f=g.length-1;f>=0;f--){var l=g[f][1];var d=g[f][0];for(var e=0,o=d.length;e<o;e++){var p=a(d[e]);p.data(this.widgetName+"-item",l);k.push({item:p,instance:l,width:0,height:0,left:0,top:0})}}},refreshPositions:function(c){if(this.offsetParent&&this.helper){this.offset.parent=this._getParentOffset()}for(var e=this.items.length-1;e>=0;e--){var f=this.items[e];if(f.instance!=this.currentContainer&&this.currentContainer&&f.item[0]!=this.currentItem[0]){continue}var d=this.options.toleranceElement?a(this.options.toleranceElement,f.item):f.item;if(!c){f.width=d.outerWidth();f.height=d.outerHeight()}var g=d.offset();f.left=g.left;f.top=g.top}if(this.options.custom&&this.options.custom.refreshContainers){this.options.custom.refreshContainers.call(this)}else{for(var e=this.containers.length-1;e>=0;e--){var g=this.containers[e].element.offset();this.containers[e].containerCache.left=g.left;this.containers[e].containerCache.top=g.top;this.containers[e].containerCache.width=this.containers[e].element.outerWidth();this.containers[e].containerCache.height=this.containers[e].element.outerHeight()}}return this},_createPlaceholder:function(d){d=d||this;var e=d.options;if(!e.placeholder||e.placeholder.constructor==String){var c=e.placeholder;e.placeholder={element:function(){var f=a(document.createElement(d.currentItem[0].nodeName)).addClass(c||d.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper")[0];if(!c){f.style.visibility="hidden"}return f},update:function(f,g){if(c&&!e.forcePlaceholderSize){return}if(!g.height()){g.height(d.currentItem.innerHeight()-parseInt(d.currentItem.css("paddingTop")||0,10)-parseInt(d.currentItem.css("paddingBottom")||0,10))}if(!g.width()){g.width(d.currentItem.innerWidth()-parseInt(d.currentItem.css("paddingLeft")||0,10)-parseInt(d.currentItem.css("paddingRight")||0,10))}}}}d.placeholder=a(e.placeholder.element.call(d.element,d.currentItem));d.currentItem.after(d.placeholder);e.placeholder.update(d,d.placeholder)},_contactContainers:function(c){var e=null,n=null;for(var h=this.containers.length-1;h>=0;h--){if(a.contains(this.currentItem[0],this.containers[h].element[0])){continue}if(this._intersectsWith(this.containers[h].containerCache)){if(e&&a.contains(this.containers[h].element[0],e.element[0])){continue}e=this.containers[h];n=h}else{if(this.containers[h].containerCache.over){this.containers[h]._trigger("out",c,this._uiHash(this));this.containers[h].containerCache.over=0}}}if(!e){return}if(this.containers.length===1){this.containers[n]._trigger("over",c,this._uiHash(this));this.containers[n].containerCache.over=1}else{var m=10000;var k=null;var l=this.containers[n].floating?"left":"top";var o=this.containers[n].floating?"width":"height";var d=this.positionAbs[l]+this.offset.click[l];for(var f=this.items.length-1;f>=0;f--){if(!a.contains(this.containers[n].element[0],this.items[f].item[0])){continue}if(this.items[f].item[0]==this.currentItem[0]){continue}var p=this.items[f].item.offset()[l];var g=false;if(Math.abs(p-d)>Math.abs(p+this.items[f][o]-d)){g=true;p+=this.items[f][o]}if(Math.abs(p-d)<m){m=Math.abs(p-d);k=this.items[f];this.direction=g?"up":"down"}}if(!k&&!this.options.dropOnEmpty){return}this.currentContainer=this.containers[n];k?this._rearrange(c,k,null,true):this._rearrange(c,null,this.containers[n].element,true);this._trigger("change",c,this._uiHash());this.containers[n]._trigger("change",c,this._uiHash(this));this.options.placeholder.update(this.currentContainer,this.placeholder);this.containers[n]._trigger("over",c,this._uiHash(this));this.containers[n].containerCache.over=1}},_createHelper:function(d){var e=this.options;var c=a.isFunction(e.helper)?a(e.helper.apply(this.element[0],[d,this.currentItem])):(e.helper=="clone"?this.currentItem.clone():this.currentItem);if(!c.parents("body").length){a(e.appendTo!="parent"?e.appendTo:this.currentItem[0].parentNode)[0].appendChild(c[0])}if(c[0]==this.currentItem[0]){this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}}if(c[0].style.width==""||e.forceHelperSize){c.width(this.currentItem.width())}if(c[0].style.height==""||e.forceHelperSize){c.height(this.currentItem.height())}return c},_adjustOffsetFromHelper:function(c){if(typeof c=="string"){c=c.split(" ")}if(a.isArray(c)){c={left:+c[0],top:+c[1]||0}}if("left" in c){this.offset.click.left=c.left+this.margins.left}if("right" in c){this.offset.click.left=this.helperProportions.width-c.right+this.margins.left}if("top" in c){this.offset.click.top=c.top+this.margins.top}if("bottom" in c){this.offset.click.top=this.helperProportions.height-c.bottom+this.margins.top}},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var c=this.offsetParent.offset();if(this.cssPosition=="absolute"&&this.scrollParent[0]!=document&&a.contains(this.scrollParent[0],this.offsetParent[0])){c.left+=this.scrollParent.scrollLeft();c.top+=this.scrollParent.scrollTop()}if((this.offsetParent[0]==document.body)||(this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()=="html"&&a.ui.ie)){c={top:0,left:0}}return{top:c.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:c.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition=="relative"){var c=this.currentItem.position();return{top:c.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:c.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}else{return{top:0,left:0}}},_cacheMargins:function(){this.margins={left:(parseInt(this.currentItem.css("marginLeft"),10)||0),top:(parseInt(this.currentItem.css("marginTop"),10)||0)}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var f=this.options;if(f.containment=="parent"){f.containment=this.helper[0].parentNode}if(f.containment=="document"||f.containment=="window"){this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,a(f.containment=="document"?document:window).width()-this.helperProportions.width-this.margins.left,(a(f.containment=="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]}if(!(/^(document|window|parent)$/).test(f.containment)){var d=a(f.containment)[0];var e=a(f.containment).offset();var c=(a(d).css("overflow")!="hidden");this.containment=[e.left+(parseInt(a(d).css("borderLeftWidth"),10)||0)+(parseInt(a(d).css("paddingLeft"),10)||0)-this.margins.left,e.top+(parseInt(a(d).css("borderTopWidth"),10)||0)+(parseInt(a(d).css("paddingTop"),10)||0)-this.margins.top,e.left+(c?Math.max(d.scrollWidth,d.offsetWidth):d.offsetWidth)-(parseInt(a(d).css("borderLeftWidth"),10)||0)-(parseInt(a(d).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,e.top+(c?Math.max(d.scrollHeight,d.offsetHeight):d.offsetHeight)-(parseInt(a(d).css("borderTopWidth"),10)||0)-(parseInt(a(d).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top]}},_convertPositionTo:function(g,j){if(!j){j=this.position}var e=g=="absolute"?1:-1;var f=this.options,c=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&a.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,h=(/(html|body)/i).test(c[0].tagName);return{top:(j.top+this.offset.relative.top*e+this.offset.parent.top*e-((this.cssPosition=="fixed"?-this.scrollParent.scrollTop():(h?0:c.scrollTop()))*e)),left:(j.left+this.offset.relative.left*e+this.offset.parent.left*e-((this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():h?0:c.scrollLeft())*e))}},_generatePosition:function(f){var j=this.options,c=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&a.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,k=(/(html|body)/i).test(c[0].tagName);if(this.cssPosition=="relative"&&!(this.scrollParent[0]!=document&&this.scrollParent[0]!=this.offsetParent[0])){this.offset.relative=this._getRelativeOffset()}var e=f.pageX;var d=f.pageY;if(this.originalPosition){if(this.containment){if(f.pageX-this.offset.click.left<this.containment[0]){e=this.containment[0]+this.offset.click.left}if(f.pageY-this.offset.click.top<this.containment[1]){d=this.containment[1]+this.offset.click.top}if(f.pageX-this.offset.click.left>this.containment[2]){e=this.containment[2]+this.offset.click.left}if(f.pageY-this.offset.click.top>this.containment[3]){d=this.containment[3]+this.offset.click.top}}if(j.grid){var h=this.originalPageY+Math.round((d-this.originalPageY)/j.grid[1])*j.grid[1];d=this.containment?(!(h-this.offset.click.top<this.containment[1]||h-this.offset.click.top>this.containment[3])?h:(!(h-this.offset.click.top<this.containment[1])?h-j.grid[1]:h+j.grid[1])):h;var g=this.originalPageX+Math.round((e-this.originalPageX)/j.grid[0])*j.grid[0];e=this.containment?(!(g-this.offset.click.left<this.containment[0]||g-this.offset.click.left>this.containment[2])?g:(!(g-this.offset.click.left<this.containment[0])?g-j.grid[0]:g+j.grid[0])):g}}return{top:(d-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+((this.cssPosition=="fixed"?-this.scrollParent.scrollTop():(k?0:c.scrollTop())))),left:(e-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+((this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():k?0:c.scrollLeft())))}},_rearrange:function(g,f,d,e){d?d[0].appendChild(this.placeholder[0]):f.item[0].parentNode.insertBefore(this.placeholder[0],(this.direction=="down"?f.item[0]:f.item[0].nextSibling));this.counter=this.counter?++this.counter:1;var c=this.counter;this._delay(function(){if(c==this.counter){this.refreshPositions(!e)}})},_clear:function(d,e){this.reverting=false;var f=[];if(!this._noFinalSort&&this.currentItem.parent().length){this.placeholder.before(this.currentItem)}this._noFinalSort=null;if(this.helper[0]==this.currentItem[0]){for(var c in this._storedCSS){if(this._storedCSS[c]=="auto"||this._storedCSS[c]=="static"){this._storedCSS[c]=""}}this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else{this.currentItem.show()}if(this.fromOutside&&!e){f.push(function(g){this._trigger("receive",g,this._uiHash(this.fromOutside))})}if((this.fromOutside||this.domPosition.prev!=this.currentItem.prev().not(".ui-sortable-helper")[0]||this.domPosition.parent!=this.currentItem.parent()[0])&&!e){f.push(function(g){this._trigger("update",g,this._uiHash())})}if(this!==this.currentContainer){if(!e){f.push(function(g){this._trigger("remove",g,this._uiHash())});f.push((function(g){return function(h){g._trigger("receive",h,this._uiHash(this))}}).call(this,this.currentContainer));f.push((function(g){return function(h){g._trigger("update",h,this._uiHash(this))}}).call(this,this.currentContainer))}}for(var c=this.containers.length-1;c>=0;c--){if(!e){f.push((function(g){return function(h){g._trigger("deactivate",h,this._uiHash(this))}}).call(this,this.containers[c]))}if(this.containers[c].containerCache.over){f.push((function(g){return function(h){g._trigger("out",h,this._uiHash(this))}}).call(this,this.containers[c]));this.containers[c].containerCache.over=0}}if(this._storedCursor){a("body").css("cursor",this._storedCursor)}if(this._storedOpacity){this.helper.css("opacity",this._storedOpacity)}if(this._storedZIndex){this.helper.css("zIndex",this._storedZIndex=="auto"?"":this._storedZIndex)}this.dragging=false;if(this.cancelHelperRemoval){if(!e){this._trigger("beforeStop",d,this._uiHash());for(var c=0;c<f.length;c++){f[c].call(this,d)}this._trigger("stop",d,this._uiHash())}this.fromOutside=false;return false}if(!e){this._trigger("beforeStop",d,this._uiHash())}this.placeholder[0].parentNode.removeChild(this.placeholder[0]);if(this.helper[0]!=this.currentItem[0]){this.helper.remove()}this.helper=null;if(!e){for(var c=0;c<f.length;c++){f[c].call(this,d)}this._trigger("stop",d,this._uiHash())}this.fromOutside=false;return true},_trigger:function(){if(a.Widget.prototype._trigger.apply(this,arguments)===false){this.cancel()}},_uiHash:function(c){var d=c||this;return{helper:d.helper,placeholder:d.placeholder||a([]),position:d.position,originalPosition:d.originalPosition,offset:d.positionAbs,item:d.currentItem,sender:c?c.element:null}}})})(jQuery);(function(d,e){var b=0,c={},a={};c.height=c.paddingTop=c.paddingBottom=c.borderTopWidth=c.borderBottomWidth="hide";a.height=a.paddingTop=a.paddingBottom=a.borderTopWidth=a.borderBottomWidth="show";d.widget("ui.accordion",{version:"1.9.2",options:{active:0,animate:{},collapsible:false,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},_create:function(){var g=this.accordionId="ui-accordion-"+(this.element.attr("id")||++b),f=this.options;this.prevShow=this.prevHide=d();this.element.addClass("ui-accordion ui-widget ui-helper-reset");this.headers=this.element.find(f.header).addClass("ui-accordion-header ui-helper-reset ui-state-default ui-corner-all");this._hoverable(this.headers);this._focusable(this.headers);this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").hide();if(!f.collapsible&&(f.active===false||f.active==null)){f.active=0}if(f.active<0){f.active+=this.headers.length}this.active=this._findActive(f.active).addClass("ui-accordion-header-active ui-state-active").toggleClass("ui-corner-all ui-corner-top");this.active.next().addClass("ui-accordion-content-active").show();this._createIcons();this.refresh();this.element.attr("role","tablist");this.headers.attr("role","tab").each(function(l){var m=d(this),k=m.attr("id"),h=m.next(),j=h.attr("id");if(!k){k=g+"-header-"+l;m.attr("id",k)}if(!j){j=g+"-panel-"+l;h.attr("id",j)}m.attr("aria-controls",j);h.attr("aria-labelledby",k)}).next().attr("role","tabpanel");this.headers.not(this.active).attr({"aria-selected":"false",tabIndex:-1}).next().attr({"aria-expanded":"false","aria-hidden":"true"}).hide();if(!this.active.length){this.headers.eq(0).attr("tabIndex",0)}else{this.active.attr({"aria-selected":"true",tabIndex:0}).next().attr({"aria-expanded":"true","aria-hidden":"false"})}this._on(this.headers,{keydown:"_keydown"});this._on(this.headers.next(),{keydown:"_panelKeyDown"});this._setupEvents(f.event)},_getCreateEventData:function(){return{header:this.active,content:!this.active.length?d():this.active.next()}},_createIcons:function(){var f=this.options.icons;if(f){d("<span>").addClass("ui-accordion-header-icon ui-icon "+f.header).prependTo(this.headers);this.active.children(".ui-accordion-header-icon").removeClass(f.header).addClass(f.activeHeader);this.headers.addClass("ui-accordion-icons")}},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()},_destroy:function(){var f;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role");this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-helper-reset ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").each(function(){if(/^ui-accordion/.test(this.id)){this.removeAttribute("id")}});this._destroyIcons();f=this.headers.next().css("display","").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").each(function(){if(/^ui-accordion/.test(this.id)){this.removeAttribute("id")}});if(this.options.heightStyle!=="content"){f.css("height","")}},_setOption:function(f,g){if(f==="active"){this._activate(g);return}if(f==="event"){if(this.options.event){this._off(this.headers,this.options.event)}this._setupEvents(g)}this._super(f,g);if(f==="collapsible"&&!g&&this.options.active===false){this._activate(0)}if(f==="icons"){this._destroyIcons();if(g){this._createIcons()}}if(f==="disabled"){this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!g)}},_keydown:function(j){if(j.altKey||j.ctrlKey){return}var k=d.ui.keyCode,h=this.headers.length,f=this.headers.index(j.target),g=false;switch(j.keyCode){case k.RIGHT:case k.DOWN:g=this.headers[(f+1)%h];break;case k.LEFT:case k.UP:g=this.headers[(f-1+h)%h];break;case k.SPACE:case k.ENTER:this._eventHandler(j);break;case k.HOME:g=this.headers[0];break;case k.END:g=this.headers[h-1];break}if(g){d(j.target).attr("tabIndex",-1);d(g).attr("tabIndex",0);g.focus();j.preventDefault()}},_panelKeyDown:function(f){if(f.keyCode===d.ui.keyCode.UP&&f.ctrlKey){d(f.currentTarget).prev().focus()}},refresh:function(){var h,j,f=this.options.heightStyle,g=this.element.parent();if(f==="fill"){if(!d.support.minHeight){j=g.css("overflow");g.css("overflow","hidden")}h=g.height();this.element.siblings(":visible").each(function(){var l=d(this),k=l.css("position");if(k==="absolute"||k==="fixed"){return}h-=l.outerHeight(true)});if(j){g.css("overflow",j)}this.headers.each(function(){h-=d(this).outerHeight(true)});this.headers.next().each(function(){d(this).height(Math.max(0,h-d(this).innerHeight()+d(this).height()))}).css("overflow","auto")}else{if(f==="auto"){h=0;this.headers.next().each(function(){h=Math.max(h,d(this).css("height","").height())}).height(h)}}},_activate:function(f){var g=this._findActive(f)[0];if(g===this.active[0]){return}g=g||this.active[0];this._eventHandler({target:g,currentTarget:g,preventDefault:d.noop})},_findActive:function(f){return typeof f==="number"?this.headers.eq(f):d()},_setupEvents:function(g){var f={};if(!g){return}d.each(g.split(" "),function(j,h){f[h]="_eventHandler"});this._on(this.headers,f)},_eventHandler:function(f){var o=this.options,j=this.active,k=d(f.currentTarget),m=k[0]===j[0],g=m&&o.collapsible,h=g?d():k.next(),l=j.next(),n={oldHeader:j,oldPanel:l,newHeader:g?d():k,newPanel:h};f.preventDefault();if((m&&!o.collapsible)||(this._trigger("beforeActivate",f,n)===false)){return}o.active=g?false:this.headers.index(k);this.active=m?d():k;this._toggle(n);j.removeClass("ui-accordion-header-active ui-state-active");if(o.icons){j.children(".ui-accordion-header-icon").removeClass(o.icons.activeHeader).addClass(o.icons.header)}if(!m){k.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top");if(o.icons){k.children(".ui-accordion-header-icon").removeClass(o.icons.header).addClass(o.icons.activeHeader)}k.next().addClass("ui-accordion-content-active")}},_toggle:function(h){var f=h.newPanel,g=this.prevShow.length?this.prevShow:h.oldPanel;this.prevShow.add(this.prevHide).stop(true,true);this.prevShow=f;this.prevHide=g;if(this.options.animate){this._animate(f,g,h)}else{g.hide();f.show();this._toggleComplete(h)}g.attr({"aria-expanded":"false","aria-hidden":"true"});g.prev().attr("aria-selected","false");if(f.length&&g.length){g.prev().attr("tabIndex",-1)}else{if(f.length){this.headers.filter(function(){return d(this).attr("tabIndex")===0}).attr("tabIndex",-1)}}f.attr({"aria-expanded":"true","aria-hidden":"false"}).prev().attr({"aria-selected":"true",tabIndex:0})},_animate:function(f,o,k){var n,m,j,l=this,p=0,q=f.length&&(!o.length||(f.index()<o.index())),h=this.options.animate||{},r=q&&h.down||h,g=function(){l._toggleComplete(k)};if(typeof r==="number"){j=r}if(typeof r==="string"){m=r}m=m||r.easing||h.easing;j=j||r.duration||h.duration;if(!o.length){return f.animate(a,j,m,g)}if(!f.length){return o.animate(c,j,m,g)}n=f.show().outerHeight();o.animate(c,{duration:j,easing:m,step:function(s,t){t.now=Math.round(s)}});f.hide().animate(a,{duration:j,easing:m,complete:g,step:function(s,t){t.now=Math.round(s);if(t.prop!=="height"){p+=t.now}else{if(l.options.heightStyle!=="content"){t.now=Math.round(n-o.outerHeight()-p);p=0}}}})},_toggleComplete:function(g){var f=g.oldPanel;f.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all");if(f.length){f.parent()[0].className=f.parent()[0].className}this._trigger("activate",null,g)}});if(d.uiBackCompat!==false){(function(g,f){g.extend(f.options,{navigation:false,navigationFilter:function(){return this.href.toLowerCase()===location.href.toLowerCase()}});var h=f._create;f._create=function(){if(this.options.navigation){var k=this,m=this.element.find(this.options.header),j=m.next(),l=m.add(j).find("a").filter(this.options.navigationFilter)[0];if(l){m.add(j).each(function(n){if(g.contains(this,l)){k.options.active=Math.floor(n/2);return false}})}}h.call(this)}}(jQuery,jQuery.ui.accordion.prototype));(function(h,f){h.extend(f.options,{heightStyle:null,autoHeight:true,clearStyle:false,fillSpace:false});var j=f._create,g=f._setOption;h.extend(f,{_create:function(){this.options.heightStyle=this.options.heightStyle||this._mergeHeightStyle();j.call(this)},_setOption:function(k){if(k==="autoHeight"||k==="clearStyle"||k==="fillSpace"){this.options.heightStyle=this._mergeHeightStyle()}g.apply(this,arguments)},_mergeHeightStyle:function(){var k=this.options;if(k.fillSpace){return"fill"}if(k.clearStyle){return"content"}if(k.autoHeight){return"auto"}}})}(jQuery,jQuery.ui.accordion.prototype));(function(h,g){h.extend(g.options.icons,{activeHeader:null,headerSelected:"ui-icon-triangle-1-s"});var f=g._createIcons;g._createIcons=function(){if(this.options.icons){this.options.icons.activeHeader=this.options.icons.activeHeader||this.options.icons.headerSelected}f.call(this)}}(jQuery,jQuery.ui.accordion.prototype));(function(h,g){g.activate=g._activate;var f=g._findActive;g._findActive=function(j){if(j===-1){j=false}if(j&&typeof j!=="number"){j=this.headers.index(this.headers.filter(j));if(j===-1){j=false}}return f.call(this,j)}}(jQuery,jQuery.ui.accordion.prototype));jQuery.ui.accordion.prototype.resize=jQuery.ui.accordion.prototype.refresh;(function(h,g){h.extend(g.options,{change:null,changestart:null});var f=g._trigger;g._trigger=function(k,l,m){var j=f.apply(this,arguments);if(!j){return false}if(k==="beforeActivate"){j=f.call(this,"changestart",l,{oldHeader:m.oldHeader,oldContent:m.oldPanel,newHeader:m.newHeader,newContent:m.newPanel})}else{if(k==="activate"){j=f.call(this,"change",l,{oldHeader:m.oldHeader,oldContent:m.oldPanel,newHeader:m.newHeader,newContent:m.newPanel})}}return j}}(jQuery,jQuery.ui.accordion.prototype));(function(g,f){g.extend(f.options,{animate:null,animated:"slide"});var h=f._create;f._create=function(){var j=this.options;if(j.animate===null){if(!j.animated){j.animate=false}else{if(j.animated==="slide"){j.animate=300}else{if(j.animated==="bounceslide"){j.animate={duration:200,down:{easing:"easeOutBounce",duration:1000}}}else{j.animate=j.animated}}}}h.call(this)}}(jQuery,jQuery.ui.accordion.prototype))}})(jQuery);(function(a,b){var c=0;a.widget("ui.autocomplete",{version:"1.9.2",defaultElement:"<input>",options:{appendTo:"body",autoFocus:false,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},pending:0,_create:function(){var e,d,f;this.isMultiLine=this._isMultiLine();this.valueMethod=this.element[this.element.is("input,textarea")?"val":"text"];this.isNewMenu=true;this.element.addClass("ui-autocomplete-input").attr("autocomplete","off");this._on(this.element,{keydown:function(g){if(this.element.prop("readOnly")){e=true;f=true;d=true;return}e=false;f=false;d=false;var h=a.ui.keyCode;switch(g.keyCode){case h.PAGE_UP:e=true;this._move("previousPage",g);break;case h.PAGE_DOWN:e=true;this._move("nextPage",g);break;case h.UP:e=true;this._keyEvent("previous",g);break;case h.DOWN:e=true;this._keyEvent("next",g);break;case h.ENTER:case h.NUMPAD_ENTER:if(this.menu.active){e=true;g.preventDefault();this.menu.select(g)}break;case h.TAB:if(this.menu.active){this.menu.select(g)}break;case h.ESCAPE:if(this.menu.element.is(":visible")){this._value(this.term);this.close(g);g.preventDefault()}break;default:d=true;this._searchTimeout(g);break}},keypress:function(g){if(e){e=false;g.preventDefault();return}if(d){return}var h=a.ui.keyCode;switch(g.keyCode){case h.PAGE_UP:this._move("previousPage",g);break;case h.PAGE_DOWN:this._move("nextPage",g);break;case h.UP:this._keyEvent("previous",g);break;case h.DOWN:this._keyEvent("next",g);break}},input:function(g){if(f){f=false;g.preventDefault();return}this._searchTimeout(g)},focus:function(){this.selectedItem=null;this.previous=this._value()},blur:function(g){if(this.cancelBlur){delete this.cancelBlur;return}clearTimeout(this.searching);this.close(g);this._change(g)}});this._initSource();this.menu=a("<ul>").addClass("ui-autocomplete").appendTo(this.document.find(this.options.appendTo||"body")[0]).menu({input:a(),role:null}).zIndex(this.element.zIndex()+1).hide().data("menu");this._on(this.menu.element,{mousedown:function(g){g.preventDefault();this.cancelBlur=true;this._delay(function(){delete this.cancelBlur});var h=this.menu.element[0];if(!a(g.target).closest(".ui-menu-item").length){this._delay(function(){var j=this;this.document.one("mousedown",function(k){if(k.target!==j.element[0]&&k.target!==h&&!a.contains(h,k.target)){j.close()}})})}},menufocus:function(h,j){if(this.isNewMenu){this.isNewMenu=false;if(h.originalEvent&&/^mouse/.test(h.originalEvent.type)){this.menu.blur();this.document.one("mousemove",function(){a(h.target).trigger(h.originalEvent)});return}}var g=j.item.data("ui-autocomplete-item")||j.item.data("item.autocomplete");if(false!==this._trigger("focus",h,{item:g})){if(h.originalEvent&&/^key/.test(h.originalEvent.type)){this._value(g.value)}}else{this.liveRegion.text(g.value)}},menuselect:function(j,k){var h=k.item.data("ui-autocomplete-item")||k.item.data("item.autocomplete"),g=this.previous;if(this.element[0]!==this.document[0].activeElement){this.element.focus();this.previous=g;this._delay(function(){this.previous=g;this.selectedItem=h})}if(false!==this._trigger("select",j,{item:h})){this._value(h.value)}this.term=this._value();this.close(j);this.selectedItem=h}});this.liveRegion=a("<span>",{role:"status","aria-live":"polite"}).addClass("ui-helper-hidden-accessible").insertAfter(this.element);if(a.fn.bgiframe){this.menu.element.bgiframe()}this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching);this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete");this.menu.element.remove();this.liveRegion.remove()},_setOption:function(d,e){this._super(d,e);if(d==="source"){this._initSource()}if(d==="appendTo"){this.menu.element.appendTo(this.document.find(e||"body")[0])}if(d==="disabled"&&e&&this.xhr){this.xhr.abort()}},_isMultiLine:function(){if(this.element.is("textarea")){return true}if(this.element.is("input")){return false}return this.element.prop("isContentEditable")},_initSource:function(){var f,d,e=this;if(a.isArray(this.options.source)){f=this.options.source;this.source=function(h,g){g(a.ui.autocomplete.filter(f,h.term))}}else{if(typeof this.options.source==="string"){d=this.options.source;this.source=function(h,g){if(e.xhr){e.xhr.abort()}e.xhr=a.ajax({url:d,data:h,dataType:"json",success:function(j){g(j)},error:function(){g([])}})}}else{this.source=this.options.source}}},_searchTimeout:function(d){clearTimeout(this.searching);this.searching=this._delay(function(){if(this.term!==this._value()){this.selectedItem=null;this.search(null,d)}},this.options.delay)},search:function(e,d){e=e!=null?e:this._value();this.term=this._value();if(e.length<this.options.minLength){return this.close(d)}if(this._trigger("search",d)===false){return}return this._search(e)},_search:function(d){this.pending++;this.element.addClass("ui-autocomplete-loading");this.cancelSearch=false;this.source({term:d},this._response())},_response:function(){var e=this,d=++c;return function(f){if(d===c){e.__response(f)}e.pending--;if(!e.pending){e.element.removeClass("ui-autocomplete-loading")}}},__response:function(d){if(d){d=this._normalize(d)}this._trigger("response",null,{content:d});if(!this.options.disabled&&d&&d.length&&!this.cancelSearch){this._suggest(d);this._trigger("open")}else{this._close()}},close:function(d){this.cancelSearch=true;this._close(d)},_close:function(d){if(this.menu.element.is(":visible")){this.menu.element.hide();this.menu.blur();this.isNewMenu=true;this._trigger("close",d)}},_change:function(d){if(this.previous!==this._value()){this._trigger("change",d,{item:this.selectedItem})}},_normalize:function(d){if(d.length&&d[0].label&&d[0].value){return d}return a.map(d,function(e){if(typeof e==="string"){return{label:e,value:e}}return a.extend({label:e.label||e.value,value:e.value||e.label},e)})},_suggest:function(d){var e=this.menu.element.empty().zIndex(this.element.zIndex()+1);this._renderMenu(e,d);this.menu.refresh();e.show();this._resizeMenu();e.position(a.extend({of:this.element},this.options.position));if(this.options.autoFocus){this.menu.next()}},_resizeMenu:function(){var d=this.menu.element;d.outerWidth(Math.max(d.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(e,d){var f=this;a.each(d,function(g,h){f._renderItemData(e,h)})},_renderItemData:function(d,e){return this._renderItem(d,e).data("ui-autocomplete-item",e)},_renderItem:function(d,e){return a("<li>").append(a("<a>").text(e.label)).appendTo(d)},_move:function(e,d){if(!this.menu.element.is(":visible")){this.search(null,d);return}if(this.menu.isFirstItem()&&/^previous/.test(e)||this.menu.isLastItem()&&/^next/.test(e)){this._value(this.term);this.menu.blur();return}this.menu[e](d)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(e,d){if(!this.isMultiLine||this.menu.element.is(":visible")){this._move(e,d);d.preventDefault()}}});a.extend(a.ui.autocomplete,{escapeRegex:function(d){return d.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(f,d){var e=new RegExp(a.ui.autocomplete.escapeRegex(d),"i");return a.grep(f,function(g){return e.test(g.label||g.value||g)})}});a.widget("ui.autocomplete",a.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(d){return d+(d>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(e){var d;this._superApply(arguments);if(this.options.disabled||this.cancelSearch){return}if(e&&e.length){d=this.options.messages.results(e.length)}else{d=this.options.messages.noResults}this.liveRegion.text(d)}})}(jQuery));(function(f,b){var l,e,a,h,j="ui-button ui-widget ui-state-default ui-corner-all",c="ui-state-hover ui-state-active ",g="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",k=function(){var m=f(this).find(":ui-button");setTimeout(function(){m.button("refresh")},1)},d=function(n){var m=n.name,o=n.form,p=f([]);if(m){if(o){p=f(o).find("[name='"+m+"']")}else{p=f("[name='"+m+"']",n.ownerDocument).filter(function(){return !this.form})}}return p};f.widget("ui.button",{version:"1.9.2",defaultElement:"<button>",options:{disabled:null,text:true,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,k);if(typeof this.options.disabled!=="boolean"){this.options.disabled=!!this.element.prop("disabled")}else{this.element.prop("disabled",this.options.disabled)}this._determineButtonType();this.hasTitle=!!this.buttonElement.attr("title");var p=this,n=this.options,q=this.type==="checkbox"||this.type==="radio",o=!q?"ui-state-active":"",m="ui-state-focus";if(n.label===null){n.label=(this.type==="input"?this.buttonElement.val():this.buttonElement.html())}this._hoverable(this.buttonElement);this.buttonElement.addClass(j).attr("role","button").bind("mouseenter"+this.eventNamespace,function(){if(n.disabled){return}if(this===l){f(this).addClass("ui-state-active")}}).bind("mouseleave"+this.eventNamespace,function(){if(n.disabled){return}f(this).removeClass(o)}).bind("click"+this.eventNamespace,function(r){if(n.disabled){r.preventDefault();r.stopImmediatePropagation()}});this.element.bind("focus"+this.eventNamespace,function(){p.buttonElement.addClass(m)}).bind("blur"+this.eventNamespace,function(){p.buttonElement.removeClass(m)});if(q){this.element.bind("change"+this.eventNamespace,function(){if(h){return}p.refresh()});this.buttonElement.bind("mousedown"+this.eventNamespace,function(r){if(n.disabled){return}h=false;e=r.pageX;a=r.pageY}).bind("mouseup"+this.eventNamespace,function(r){if(n.disabled){return}if(e!==r.pageX||a!==r.pageY){h=true}})}if(this.type==="checkbox"){this.buttonElement.bind("click"+this.eventNamespace,function(){if(n.disabled||h){return false}f(this).toggleClass("ui-state-active");p.buttonElement.attr("aria-pressed",p.element[0].checked)})}else{if(this.type==="radio"){this.buttonElement.bind("click"+this.eventNamespace,function(){if(n.disabled||h){return false}f(this).addClass("ui-state-active");p.buttonElement.attr("aria-pressed","true");var r=p.element[0];d(r).not(r).map(function(){return f(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")})}else{this.buttonElement.bind("mousedown"+this.eventNamespace,function(){if(n.disabled){return false}f(this).addClass("ui-state-active");l=this;p.document.one("mouseup",function(){l=null})}).bind("mouseup"+this.eventNamespace,function(){if(n.disabled){return false}f(this).removeClass("ui-state-active")}).bind("keydown"+this.eventNamespace,function(r){if(n.disabled){return false}if(r.keyCode===f.ui.keyCode.SPACE||r.keyCode===f.ui.keyCode.ENTER){f(this).addClass("ui-state-active")}}).bind("keyup"+this.eventNamespace,function(){f(this).removeClass("ui-state-active")});if(this.buttonElement.is("a")){this.buttonElement.keyup(function(r){if(r.keyCode===f.ui.keyCode.SPACE){f(this).click()}})}}}this._setOption("disabled",n.disabled);this._resetButton()},_determineButtonType:function(){var m,o,n;if(this.element.is("[type=checkbox]")){this.type="checkbox"}else{if(this.element.is("[type=radio]")){this.type="radio"}else{if(this.element.is("input")){this.type="input"}else{this.type="button"}}}if(this.type==="checkbox"||this.type==="radio"){m=this.element.parents().last();o="label[for='"+this.element.attr("id")+"']";this.buttonElement=m.find(o);if(!this.buttonElement.length){m=m.length?m.siblings():this.element.siblings();this.buttonElement=m.filter(o);if(!this.buttonElement.length){this.buttonElement=m.find(o)}}this.element.addClass("ui-helper-hidden-accessible");n=this.element.is(":checked");if(n){this.buttonElement.addClass("ui-state-active")}this.buttonElement.prop("aria-pressed",n)}else{this.buttonElement=this.element}},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible");this.buttonElement.removeClass(j+" "+c+" "+g).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html());if(!this.hasTitle){this.buttonElement.removeAttr("title")}},_setOption:function(m,n){this._super(m,n);if(m==="disabled"){if(n){this.element.prop("disabled",true)}else{this.element.prop("disabled",false)}return}this._resetButton()},refresh:function(){var m=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");if(m!==this.options.disabled){this._setOption("disabled",m)}if(this.type==="radio"){d(this.element[0]).each(function(){if(f(this).is(":checked")){f(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true")}else{f(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}})}else{if(this.type==="checkbox"){if(this.element.is(":checked")){this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true")}else{this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false")}}}},_resetButton:function(){if(this.type==="input"){if(this.options.label){this.element.val(this.options.label)}return}var q=this.buttonElement.removeClass(g),o=f("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(q.empty()).text(),n=this.options.icons,m=n.primary&&n.secondary,p=[];if(n.primary||n.secondary){if(this.options.text){p.push("ui-button-text-icon"+(m?"s":(n.primary?"-primary":"-secondary")))}if(n.primary){q.prepend("<span class='ui-button-icon-primary ui-icon "+n.primary+"'></span>")}if(n.secondary){q.append("<span class='ui-button-icon-secondary ui-icon "+n.secondary+"'></span>")}if(!this.options.text){p.push(m?"ui-button-icons-only":"ui-button-icon-only");if(!this.hasTitle){q.attr("title",f.trim(o))}}}else{p.push("ui-button-text-only")}q.addClass(p.join(" "))}});f.widget("ui.buttonset",{version:"1.9.2",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(m,n){if(m==="disabled"){this.buttons.button("option",m,n)}this._super(m,n)},refresh:function(){var m=this.element.css("direction")==="rtl";this.buttons=this.element.find(this.options.items).filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map(function(){return f(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(m?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(m?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset");this.buttons.map(function(){return f(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}})}(jQuery));(function($,undefined){$.extend($.ui,{datepicker:{version:"1.9.2"}});var PROP_NAME="datepicker";var dpuuid=new Date().getTime();var instActive;function Datepicker(){this.debug=false;this._curInst=null;this._keyEvent=false;this._disabledInputs=[];this._datepickerShowing=false;this._inDialog=false;this._mainDivId="ui-datepicker-div";this._inlineClass="ui-datepicker-inline";this._appendClass="ui-datepicker-append";this._triggerClass="ui-datepicker-trigger";this._dialogClass="ui-datepicker-dialog";this._disableClass="ui-datepicker-disabled";this._unselectableClass="ui-datepicker-unselectable";this._currentClass="ui-datepicker-current-day";this._dayOverClass="ui-datepicker-days-cell-over";this.regional=[];this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:false,showMonthAfterYear:false,yearSuffix:""};this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:false,hideIfNoPrevNext:false,navigationAsDateFormat:false,gotoCurrent:false,changeMonth:false,changeYear:false,yearRange:"c-10:c+10",showOtherMonths:false,selectOtherMonths:false,showWeek:false,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:true,showButtonPanel:false,autoSize:false,disabled:false};$.extend(this._defaults,this.regional[""]);this.dpDiv=bindHover($('<div id="'+this._mainDivId+'" class="ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>'))}$.extend(Datepicker.prototype,{markerClassName:"hasDatepicker",maxRows:4,log:function(){if(this.debug){console.log.apply("",arguments)}},_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(settings){extendRemove(this._defaults,settings||{});return this},_attachDatepicker:function(target,settings){var inlineSettings=null;for(var attrName in this._defaults){var attrValue=target.getAttribute("date:"+attrName);if(attrValue){inlineSettings=inlineSettings||{};try{inlineSettings[attrName]=eval(attrValue)}catch(err){inlineSettings[attrName]=attrValue}}}var nodeName=target.nodeName.toLowerCase();var inline=(nodeName=="div"||nodeName=="span");if(!target.id){this.uuid+=1;target.id="dp"+this.uuid}var inst=this._newInst($(target),inline);inst.settings=$.extend({},settings||{},inlineSettings||{});if(nodeName=="input"){this._connectDatepicker(target,inst)}else{if(inline){this._inlineDatepicker(target,inst)}}},_newInst:function(target,inline){var id=target[0].id.replace(/([^A-Za-z0-9_-])/g,"\\\\$1");return{id:id,input:target,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:inline,dpDiv:(!inline?this.dpDiv:bindHover($('<div class="'+this._inlineClass+' ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>')))}},_connectDatepicker:function(target,inst){var input=$(target);inst.append=$([]);inst.trigger=$([]);if(input.hasClass(this.markerClassName)){return}this._attachments(input,inst);input.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp).bind("setData.datepicker",function(event,key,value){inst.settings[key]=value}).bind("getData.datepicker",function(event,key){return this._get(inst,key)});this._autoSize(inst);$.data(target,PROP_NAME,inst);if(inst.settings.disabled){this._disableDatepicker(target)}},_attachments:function(input,inst){var appendText=this._get(inst,"appendText");var isRTL=this._get(inst,"isRTL");if(inst.append){inst.append.remove()}if(appendText){inst.append=$('<span class="'+this._appendClass+'">'+appendText+"</span>");input[isRTL?"before":"after"](inst.append)}input.unbind("focus",this._showDatepicker);if(inst.trigger){inst.trigger.remove()}var showOn=this._get(inst,"showOn");if(showOn=="focus"||showOn=="both"){input.focus(this._showDatepicker)}if(showOn=="button"||showOn=="both"){var buttonText=this._get(inst,"buttonText");var buttonImage=this._get(inst,"buttonImage");inst.trigger=$(this._get(inst,"buttonImageOnly")?$("<img/>").addClass(this._triggerClass).attr({src:buttonImage,alt:buttonText,title:buttonText}):$('<button type="button"></button>').addClass(this._triggerClass).html(buttonImage==""?buttonText:$("<img/>").attr({src:buttonImage,alt:buttonText,title:buttonText})));input[isRTL?"before":"after"](inst.trigger);inst.trigger.click(function(){if($.datepicker._datepickerShowing&&$.datepicker._lastInput==input[0]){$.datepicker._hideDatepicker()}else{if($.datepicker._datepickerShowing&&$.datepicker._lastInput!=input[0]){$.datepicker._hideDatepicker();$.datepicker._showDatepicker(input[0])}else{$.datepicker._showDatepicker(input[0])}}return false})}},_autoSize:function(inst){if(this._get(inst,"autoSize")&&!inst.inline){var date=new Date(2009,12-1,20);var dateFormat=this._get(inst,"dateFormat");if(dateFormat.match(/[DM]/)){var findMax=function(names){var max=0;var maxI=0;for(var i=0;i<names.length;i++){if(names[i].length>max){max=names[i].length;maxI=i}}return maxI};date.setMonth(findMax(this._get(inst,(dateFormat.match(/MM/)?"monthNames":"monthNamesShort"))));date.setDate(findMax(this._get(inst,(dateFormat.match(/DD/)?"dayNames":"dayNamesShort")))+20-date.getDay())}inst.input.attr("size",this._formatDate(inst,date).length)}},_inlineDatepicker:function(target,inst){var divSpan=$(target);if(divSpan.hasClass(this.markerClassName)){return}divSpan.addClass(this.markerClassName).append(inst.dpDiv).bind("setData.datepicker",function(event,key,value){inst.settings[key]=value}).bind("getData.datepicker",function(event,key){return this._get(inst,key)});$.data(target,PROP_NAME,inst);this._setDate(inst,this._getDefaultDate(inst),true);this._updateDatepicker(inst);this._updateAlternate(inst);if(inst.settings.disabled){this._disableDatepicker(target)}inst.dpDiv.css("display","block")},_dialogDatepicker:function(input,date,onSelect,settings,pos){var inst=this._dialogInst;if(!inst){this.uuid+=1;var id="dp"+this.uuid;this._dialogInput=$('<input type="text" id="'+id+'" style="position: absolute; top: -100px; width: 0px;"/>');this._dialogInput.keydown(this._doKeyDown);$("body").append(this._dialogInput);inst=this._dialogInst=this._newInst(this._dialogInput,false);inst.settings={};$.data(this._dialogInput[0],PROP_NAME,inst)}extendRemove(inst.settings,settings||{});date=(date&&date.constructor==Date?this._formatDate(inst,date):date);this._dialogInput.val(date);this._pos=(pos?(pos.length?pos:[pos.pageX,pos.pageY]):null);if(!this._pos){var browserWidth=document.documentElement.clientWidth;var browserHeight=document.documentElement.clientHeight;var scrollX=document.documentElement.scrollLeft||document.body.scrollLeft;var scrollY=document.documentElement.scrollTop||document.body.scrollTop;this._pos=[(browserWidth/2)-100+scrollX,(browserHeight/2)-150+scrollY]}this._dialogInput.css("left",(this._pos[0]+20)+"px").css("top",this._pos[1]+"px");inst.settings.onSelect=onSelect;this._inDialog=true;this.dpDiv.addClass(this._dialogClass);this._showDatepicker(this._dialogInput[0]);if($.blockUI){$.blockUI(this.dpDiv)}$.data(this._dialogInput[0],PROP_NAME,inst);return this},_destroyDatepicker:function(target){var $target=$(target);var inst=$.data(target,PROP_NAME);if(!$target.hasClass(this.markerClassName)){return}var nodeName=target.nodeName.toLowerCase();$.removeData(target,PROP_NAME);if(nodeName=="input"){inst.append.remove();inst.trigger.remove();$target.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)}else{if(nodeName=="div"||nodeName=="span"){$target.removeClass(this.markerClassName).empty()}}},_enableDatepicker:function(target){var $target=$(target);var inst=$.data(target,PROP_NAME);if(!$target.hasClass(this.markerClassName)){return}var nodeName=target.nodeName.toLowerCase();if(nodeName=="input"){target.disabled=false;inst.trigger.filter("button").each(function(){this.disabled=false}).end().filter("img").css({opacity:"1.0",cursor:""})}else{if(nodeName=="div"||nodeName=="span"){var inline=$target.children("."+this._inlineClass);inline.children().removeClass("ui-state-disabled");inline.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",false)}}this._disabledInputs=$.map(this._disabledInputs,function(value){return(value==target?null:value)})},_disableDatepicker:function(target){var $target=$(target);var inst=$.data(target,PROP_NAME);if(!$target.hasClass(this.markerClassName)){return}var nodeName=target.nodeName.toLowerCase();if(nodeName=="input"){target.disabled=true;inst.trigger.filter("button").each(function(){this.disabled=true}).end().filter("img").css({opacity:"0.5",cursor:"default"})}else{if(nodeName=="div"||nodeName=="span"){var inline=$target.children("."+this._inlineClass);inline.children().addClass("ui-state-disabled");inline.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",true)}}this._disabledInputs=$.map(this._disabledInputs,function(value){return(value==target?null:value)});this._disabledInputs[this._disabledInputs.length]=target},_isDisabledDatepicker:function(target){if(!target){return false}for(var i=0;i<this._disabledInputs.length;i++){if(this._disabledInputs[i]==target){return true}}return false},_getInst:function(target){try{return $.data(target,PROP_NAME)}catch(err){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(target,name,value){var inst=this._getInst(target);if(arguments.length==2&&typeof name=="string"){return(name=="defaults"?$.extend({},$.datepicker._defaults):(inst?(name=="all"?$.extend({},inst.settings):this._get(inst,name)):null))}var settings=name||{};if(typeof name=="string"){settings={};settings[name]=value}if(inst){if(this._curInst==inst){this._hideDatepicker()}var date=this._getDateDatepicker(target,true);var minDate=this._getMinMaxDate(inst,"min");var maxDate=this._getMinMaxDate(inst,"max");extendRemove(inst.settings,settings);if(minDate!==null&&settings.dateFormat!==undefined&&settings.minDate===undefined){inst.settings.minDate=this._formatDate(inst,minDate)}if(maxDate!==null&&settings.dateFormat!==undefined&&settings.maxDate===undefined){inst.settings.maxDate=this._formatDate(inst,maxDate)}this._attachments($(target),inst);this._autoSize(inst);this._setDate(inst,date);this._updateAlternate(inst);this._updateDatepicker(inst)}},_changeDatepicker:function(target,name,value){this._optionDatepicker(target,name,value)},_refreshDatepicker:function(target){var inst=this._getInst(target);if(inst){this._updateDatepicker(inst)}},_setDateDatepicker:function(target,date){var inst=this._getInst(target);if(inst){this._setDate(inst,date);this._updateDatepicker(inst);this._updateAlternate(inst)}},_getDateDatepicker:function(target,noDefault){var inst=this._getInst(target);if(inst&&!inst.inline){this._setDateFromField(inst,noDefault)}return(inst?this._getDate(inst):null)},_doKeyDown:function(event){var inst=$.datepicker._getInst(event.target);var handled=true;var isRTL=inst.dpDiv.is(".ui-datepicker-rtl");inst._keyEvent=true;if($.datepicker._datepickerShowing){switch(event.keyCode){case 9:$.datepicker._hideDatepicker();handled=false;break;case 13:var sel=$("td."+$.datepicker._dayOverClass+":not(."+$.datepicker._currentClass+")",inst.dpDiv);if(sel[0]){$.datepicker._selectDay(event.target,inst.selectedMonth,inst.selectedYear,sel[0])}var onSelect=$.datepicker._get(inst,"onSelect");if(onSelect){var dateStr=$.datepicker._formatDate(inst);onSelect.apply((inst.input?inst.input[0]:null),[dateStr,inst])}else{$.datepicker._hideDatepicker()}return false;break;case 27:$.datepicker._hideDatepicker();break;case 33:$.datepicker._adjustDate(event.target,(event.ctrlKey?-$.datepicker._get(inst,"stepBigMonths"):-$.datepicker._get(inst,"stepMonths")),"M");break;case 34:$.datepicker._adjustDate(event.target,(event.ctrlKey?+$.datepicker._get(inst,"stepBigMonths"):+$.datepicker._get(inst,"stepMonths")),"M");break;case 35:if(event.ctrlKey||event.metaKey){$.datepicker._clearDate(event.target)}handled=event.ctrlKey||event.metaKey;break;case 36:if(event.ctrlKey||event.metaKey){$.datepicker._gotoToday(event.target)}handled=event.ctrlKey||event.metaKey;break;case 37:if(event.ctrlKey||event.metaKey){$.datepicker._adjustDate(event.target,(isRTL?+1:-1),"D")}handled=event.ctrlKey||event.metaKey;if(event.originalEvent.altKey){$.datepicker._adjustDate(event.target,(event.ctrlKey?-$.datepicker._get(inst,"stepBigMonths"):-$.datepicker._get(inst,"stepMonths")),"M")}break;case 38:if(event.ctrlKey||event.metaKey){$.datepicker._adjustDate(event.target,-7,"D")}handled=event.ctrlKey||event.metaKey;break;case 39:if(event.ctrlKey||event.metaKey){$.datepicker._adjustDate(event.target,(isRTL?-1:+1),"D")}handled=event.ctrlKey||event.metaKey;if(event.originalEvent.altKey){$.datepicker._adjustDate(event.target,(event.ctrlKey?+$.datepicker._get(inst,"stepBigMonths"):+$.datepicker._get(inst,"stepMonths")),"M")}break;case 40:if(event.ctrlKey||event.metaKey){$.datepicker._adjustDate(event.target,+7,"D")}handled=event.ctrlKey||event.metaKey;break;default:handled=false}}else{if(event.keyCode==36&&event.ctrlKey){$.datepicker._showDatepicker(this)}else{handled=false}}if(handled){event.preventDefault();event.stopPropagation()}},_doKeyPress:function(event){var inst=$.datepicker._getInst(event.target);if($.datepicker._get(inst,"constrainInput")){var chars=$.datepicker._possibleChars($.datepicker._get(inst,"dateFormat"));var chr=String.fromCharCode(event.charCode==undefined?event.keyCode:event.charCode);return event.ctrlKey||event.metaKey||(chr<" "||!chars||chars.indexOf(chr)>-1)}},_doKeyUp:function(event){var inst=$.datepicker._getInst(event.target);if(inst.input.val()!=inst.lastVal){try{var date=$.datepicker.parseDate($.datepicker._get(inst,"dateFormat"),(inst.input?inst.input.val():null),$.datepicker._getFormatConfig(inst));if(date){$.datepicker._setDateFromField(inst);$.datepicker._updateAlternate(inst);$.datepicker._updateDatepicker(inst)}}catch(err){$.datepicker.log(err)}}return true},_showDatepicker:function(input){input=input.target||input;if(input.nodeName.toLowerCase()!="input"){input=$("input",input.parentNode)[0]}if($.datepicker._isDisabledDatepicker(input)||$.datepicker._lastInput==input){return}var inst=$.datepicker._getInst(input);if($.datepicker._curInst&&$.datepicker._curInst!=inst){$.datepicker._curInst.dpDiv.stop(true,true);if(inst&&$.datepicker._datepickerShowing){$.datepicker._hideDatepicker($.datepicker._curInst.input[0])}}var beforeShow=$.datepicker._get(inst,"beforeShow");var beforeShowSettings=beforeShow?beforeShow.apply(input,[input,inst]):{};if(beforeShowSettings===false){return}extendRemove(inst.settings,beforeShowSettings);inst.lastVal=null;$.datepicker._lastInput=input;$.datepicker._setDateFromField(inst);if($.datepicker._inDialog){input.value=""}if(!$.datepicker._pos){$.datepicker._pos=$.datepicker._findPos(input);$.datepicker._pos[1]+=input.offsetHeight}var isFixed=false;$(input).parents().each(function(){isFixed|=$(this).css("position")=="fixed";return !isFixed});var offset={left:$.datepicker._pos[0],top:$.datepicker._pos[1]};$.datepicker._pos=null;inst.dpDiv.empty();inst.dpDiv.css({position:"absolute",display:"block",top:"-1000px"});$.datepicker._updateDatepicker(inst);offset=$.datepicker._checkOffset(inst,offset,isFixed);inst.dpDiv.css({position:($.datepicker._inDialog&&$.blockUI?"static":(isFixed?"fixed":"absolute")),display:"none",left:offset.left+"px",top:offset.top+"px"});if(!inst.inline){var showAnim=$.datepicker._get(inst,"showAnim");var duration=$.datepicker._get(inst,"duration");var postProcess=function(){var cover=inst.dpDiv.find("iframe.ui-datepicker-cover");if(!!cover.length){var borders=$.datepicker._getBorders(inst.dpDiv);cover.css({left:-borders[0],top:-borders[1],width:inst.dpDiv.outerWidth(),height:inst.dpDiv.outerHeight()})}};inst.dpDiv.zIndex($(input).zIndex()+1);$.datepicker._datepickerShowing=true;if($.effects&&($.effects.effect[showAnim]||$.effects[showAnim])){inst.dpDiv.show(showAnim,$.datepicker._get(inst,"showOptions"),duration,postProcess)}else{inst.dpDiv[showAnim||"show"]((showAnim?duration:null),postProcess)}if(!showAnim||!duration){postProcess()}if(inst.input.is(":visible")&&!inst.input.is(":disabled")){inst.input.focus()}$.datepicker._curInst=inst}},_updateDatepicker:function(inst){this.maxRows=4;var borders=$.datepicker._getBorders(inst.dpDiv);instActive=inst;inst.dpDiv.empty().append(this._generateHTML(inst));this._attachHandlers(inst);var cover=inst.dpDiv.find("iframe.ui-datepicker-cover");if(!!cover.length){cover.css({left:-borders[0],top:-borders[1],width:inst.dpDiv.outerWidth(),height:inst.dpDiv.outerHeight()})}inst.dpDiv.find("."+this._dayOverClass+" a").mouseover();var numMonths=this._getNumberOfMonths(inst);var cols=numMonths[1];var width=17;inst.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width("");if(cols>1){inst.dpDiv.addClass("ui-datepicker-multi-"+cols).css("width",(width*cols)+"em")}inst.dpDiv[(numMonths[0]!=1||numMonths[1]!=1?"add":"remove")+"Class"]("ui-datepicker-multi");inst.dpDiv[(this._get(inst,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl");if(inst==$.datepicker._curInst&&$.datepicker._datepickerShowing&&inst.input&&inst.input.is(":visible")&&!inst.input.is(":disabled")&&inst.input[0]!=document.activeElement){inst.input.focus()}if(inst.yearshtml){var origyearshtml=inst.yearshtml;setTimeout(function(){if(origyearshtml===inst.yearshtml&&inst.yearshtml){inst.dpDiv.find("select.ui-datepicker-year:first").replaceWith(inst.yearshtml)}origyearshtml=inst.yearshtml=null},0)}},_getBorders:function(elem){var convert=function(value){return{thin:1,medium:2,thick:3}[value]||value};return[parseFloat(convert(elem.css("border-left-width"))),parseFloat(convert(elem.css("border-top-width")))]},_checkOffset:function(inst,offset,isFixed){var dpWidth=inst.dpDiv.outerWidth();var dpHeight=inst.dpDiv.outerHeight();var inputWidth=inst.input?inst.input.outerWidth():0;var inputHeight=inst.input?inst.input.outerHeight():0;var viewWidth=document.documentElement.clientWidth+(isFixed?0:$(document).scrollLeft());var viewHeight=document.documentElement.clientHeight+(isFixed?0:$(document).scrollTop());offset.left-=(this._get(inst,"isRTL")?(dpWidth-inputWidth):0);offset.left-=(isFixed&&offset.left==inst.input.offset().left)?$(document).scrollLeft():0;offset.top-=(isFixed&&offset.top==(inst.input.offset().top+inputHeight))?$(document).scrollTop():0;offset.left-=Math.min(offset.left,(offset.left+dpWidth>viewWidth&&viewWidth>dpWidth)?Math.abs(offset.left+dpWidth-viewWidth):0);offset.top-=Math.min(offset.top,(offset.top+dpHeight>viewHeight&&viewHeight>dpHeight)?Math.abs(dpHeight+inputHeight):0);return offset},_findPos:function(obj){var inst=this._getInst(obj);var isRTL=this._get(inst,"isRTL");while(obj&&(obj.type=="hidden"||obj.nodeType!=1||$.expr.filters.hidden(obj))){obj=obj[isRTL?"previousSibling":"nextSibling"]}var position=$(obj).offset();return[position.left,position.top]},_hideDatepicker:function(input){var inst=this._curInst;if(!inst||(input&&inst!=$.data(input,PROP_NAME))){return}if(this._datepickerShowing){var showAnim=this._get(inst,"showAnim");var duration=this._get(inst,"duration");var postProcess=function(){$.datepicker._tidyDialog(inst)};if($.effects&&($.effects.effect[showAnim]||$.effects[showAnim])){inst.dpDiv.hide(showAnim,$.datepicker._get(inst,"showOptions"),duration,postProcess)}else{inst.dpDiv[(showAnim=="slideDown"?"slideUp":(showAnim=="fadeIn"?"fadeOut":"hide"))]((showAnim?duration:null),postProcess)}if(!showAnim){postProcess()}this._datepickerShowing=false;var onClose=this._get(inst,"onClose");if(onClose){onClose.apply((inst.input?inst.input[0]:null),[(inst.input?inst.input.val():""),inst])}this._lastInput=null;if(this._inDialog){this._dialogInput.css({position:"absolute",left:"0",top:"-100px"});if($.blockUI){$.unblockUI();$("body").append(this.dpDiv)}}this._inDialog=false}},_tidyDialog:function(inst){inst.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(event){if(!$.datepicker._curInst){return}var $target=$(event.target),inst=$.datepicker._getInst($target[0]);if((($target[0].id!=$.datepicker._mainDivId&&$target.parents("#"+$.datepicker._mainDivId).length==0&&!$target.hasClass($.datepicker.markerClassName)&&!$target.closest("."+$.datepicker._triggerClass).length&&$.datepicker._datepickerShowing&&!($.datepicker._inDialog&&$.blockUI)))||($target.hasClass($.datepicker.markerClassName)&&$.datepicker._curInst!=inst)){$.datepicker._hideDatepicker()}},_adjustDate:function(id,offset,period){var target=$(id);var inst=this._getInst(target[0]);if(this._isDisabledDatepicker(target[0])){return}this._adjustInstDate(inst,offset+(period=="M"?this._get(inst,"showCurrentAtPos"):0),period);this._updateDatepicker(inst)},_gotoToday:function(id){var target=$(id);var inst=this._getInst(target[0]);if(this._get(inst,"gotoCurrent")&&inst.currentDay){inst.selectedDay=inst.currentDay;inst.drawMonth=inst.selectedMonth=inst.currentMonth;inst.drawYear=inst.selectedYear=inst.currentYear}else{var date=new Date();inst.selectedDay=date.getDate();inst.drawMonth=inst.selectedMonth=date.getMonth();inst.drawYear=inst.selectedYear=date.getFullYear()}this._notifyChange(inst);this._adjustDate(target)},_selectMonthYear:function(id,select,period){var target=$(id);var inst=this._getInst(target[0]);inst["selected"+(period=="M"?"Month":"Year")]=inst["draw"+(period=="M"?"Month":"Year")]=parseInt(select.options[select.selectedIndex].value,10);this._notifyChange(inst);this._adjustDate(target)},_selectDay:function(id,month,year,td){var target=$(id);if($(td).hasClass(this._unselectableClass)||this._isDisabledDatepicker(target[0])){return}var inst=this._getInst(target[0]);inst.selectedDay=inst.currentDay=$("a",td).html();inst.selectedMonth=inst.currentMonth=month;inst.selectedYear=inst.currentYear=year;this._selectDate(id,this._formatDate(inst,inst.currentDay,inst.currentMonth,inst.currentYear))},_clearDate:function(id){var target=$(id);var inst=this._getInst(target[0]);this._selectDate(target,"")},_selectDate:function(id,dateStr){var target=$(id);var inst=this._getInst(target[0]);dateStr=(dateStr!=null?dateStr:this._formatDate(inst));if(inst.input){inst.input.val(dateStr)}this._updateAlternate(inst);var onSelect=this._get(inst,"onSelect");if(onSelect){onSelect.apply((inst.input?inst.input[0]:null),[dateStr,inst])}else{if(inst.input){inst.input.trigger("change")}}if(inst.inline){this._updateDatepicker(inst)}else{this._hideDatepicker();this._lastInput=inst.input[0];if(typeof(inst.input[0])!="object"){inst.input.focus()}this._lastInput=null}},_updateAlternate:function(inst){var altField=this._get(inst,"altField");if(altField){var altFormat=this._get(inst,"altFormat")||this._get(inst,"dateFormat");var date=this._getDate(inst);var dateStr=this.formatDate(altFormat,date,this._getFormatConfig(inst));$(altField).each(function(){$(this).val(dateStr)})}},noWeekends:function(date){var day=date.getDay();return[(day>0&&day<6),""]},iso8601Week:function(date){var checkDate=new Date(date.getTime());checkDate.setDate(checkDate.getDate()+4-(checkDate.getDay()||7));var time=checkDate.getTime();checkDate.setMonth(0);checkDate.setDate(1);return Math.floor(Math.round((time-checkDate)/86400000)/7)+1},parseDate:function(format,value,settings){if(format==null||value==null){throw"Invalid arguments"}value=(typeof value=="object"?value.toString():value+"");if(value==""){return null}var shortYearCutoff=(settings?settings.shortYearCutoff:null)||this._defaults.shortYearCutoff;shortYearCutoff=(typeof shortYearCutoff!="string"?shortYearCutoff:new Date().getFullYear()%100+parseInt(shortYearCutoff,10));var dayNamesShort=(settings?settings.dayNamesShort:null)||this._defaults.dayNamesShort;var dayNames=(settings?settings.dayNames:null)||this._defaults.dayNames;var monthNamesShort=(settings?settings.monthNamesShort:null)||this._defaults.monthNamesShort;var monthNames=(settings?settings.monthNames:null)||this._defaults.monthNames;var year=-1;var month=-1;var day=-1;var doy=-1;var literal=false;var lookAhead=function(match){var matches=(iFormat+1<format.length&&format.charAt(iFormat+1)==match);if(matches){iFormat++}return matches};var getNumber=function(match){var isDoubled=lookAhead(match);var size=(match=="@"?14:(match=="!"?20:(match=="y"&&isDoubled?4:(match=="o"?3:2))));var digits=new RegExp("^\\d{1,"+size+"}");var num=value.substring(iValue).match(digits);if(!num){throw"Missing number at position "+iValue}iValue+=num[0].length;return parseInt(num[0],10)};var getName=function(match,shortNames,longNames){var names=$.map(lookAhead(match)?longNames:shortNames,function(v,k){return[[k,v]]}).sort(function(a,b){return -(a[1].length-b[1].length)});var index=-1;$.each(names,function(i,pair){var name=pair[1];if(value.substr(iValue,name.length).toLowerCase()==name.toLowerCase()){index=pair[0];iValue+=name.length;return false}});if(index!=-1){return index+1}else{throw"Unknown name at position "+iValue}};var checkLiteral=function(){if(value.charAt(iValue)!=format.charAt(iFormat)){throw"Unexpected literal at position "+iValue}iValue++};var iValue=0;for(var iFormat=0;iFormat<format.length;iFormat++){if(literal){if(format.charAt(iFormat)=="'"&&!lookAhead("'")){literal=false}else{checkLiteral()}}else{switch(format.charAt(iFormat)){case"d":day=getNumber("d");break;case"D":getName("D",dayNamesShort,dayNames);break;case"o":doy=getNumber("o");break;case"m":month=getNumber("m");break;case"M":month=getName("M",monthNamesShort,monthNames);break;case"y":year=getNumber("y");break;case"@":var date=new Date(getNumber("@"));year=date.getFullYear();month=date.getMonth()+1;day=date.getDate();break;case"!":var date=new Date((getNumber("!")-this._ticksTo1970)/10000);year=date.getFullYear();month=date.getMonth()+1;day=date.getDate();break;case"'":if(lookAhead("'")){checkLiteral()}else{literal=true}break;default:checkLiteral()}}}if(iValue<value.length){var extra=value.substr(iValue);if(!/^\s+/.test(extra)){throw"Extra/unparsed characters found in date: "+extra}}if(year==-1){year=new Date().getFullYear()}else{if(year<100){year+=new Date().getFullYear()-new Date().getFullYear()%100+(year<=shortYearCutoff?0:-100)}}if(doy>-1){month=1;day=doy;do{var dim=this._getDaysInMonth(year,month-1);if(day<=dim){break}month++;day-=dim}while(true)}var date=this._daylightSavingAdjust(new Date(year,month-1,day));if(date.getFullYear()!=year||date.getMonth()+1!=month||date.getDate()!=day){throw"Invalid date"}return date},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:(((1970-1)*365+Math.floor(1970/4)-Math.floor(1970/100)+Math.floor(1970/400))*24*60*60*10000000),formatDate:function(format,date,settings){if(!date){return""}var dayNamesShort=(settings?settings.dayNamesShort:null)||this._defaults.dayNamesShort;var dayNames=(settings?settings.dayNames:null)||this._defaults.dayNames;var monthNamesShort=(settings?settings.monthNamesShort:null)||this._defaults.monthNamesShort;var monthNames=(settings?settings.monthNames:null)||this._defaults.monthNames;var lookAhead=function(match){var matches=(iFormat+1<format.length&&format.charAt(iFormat+1)==match);if(matches){iFormat++}return matches};var formatNumber=function(match,value,len){var num=""+value;if(lookAhead(match)){while(num.length<len){num="0"+num}}return num};var formatName=function(match,value,shortNames,longNames){return(lookAhead(match)?longNames[value]:shortNames[value])};var output="";var literal=false;if(date){for(var iFormat=0;iFormat<format.length;iFormat++){if(literal){if(format.charAt(iFormat)=="'"&&!lookAhead("'")){literal=false}else{output+=format.charAt(iFormat)}}else{switch(format.charAt(iFormat)){case"d":output+=formatNumber("d",date.getDate(),2);break;case"D":output+=formatName("D",date.getDay(),dayNamesShort,dayNames);break;case"o":output+=formatNumber("o",Math.round((new Date(date.getFullYear(),date.getMonth(),date.getDate()).getTime()-new Date(date.getFullYear(),0,0).getTime())/86400000),3);break;case"m":output+=formatNumber("m",date.getMonth()+1,2);break;case"M":output+=formatName("M",date.getMonth(),monthNamesShort,monthNames);break;case"y":output+=(lookAhead("y")?date.getFullYear():(date.getYear()%100<10?"0":"")+date.getYear()%100);break;case"@":output+=date.getTime();break;case"!":output+=date.getTime()*10000+this._ticksTo1970;break;case"'":if(lookAhead("'")){output+="'"}else{literal=true}break;default:output+=format.charAt(iFormat)}}}}return output},_possibleChars:function(format){var chars="";var literal=false;var lookAhead=function(match){var matches=(iFormat+1<format.length&&format.charAt(iFormat+1)==match);if(matches){iFormat++}return matches};for(var iFormat=0;iFormat<format.length;iFormat++){if(literal){if(format.charAt(iFormat)=="'"&&!lookAhead("'")){literal=false}else{chars+=format.charAt(iFormat)}}else{switch(format.charAt(iFormat)){case"d":case"m":case"y":case"@":chars+="0123456789";break;case"D":case"M":return null;case"'":if(lookAhead("'")){chars+="'"}else{literal=true}break;default:chars+=format.charAt(iFormat)}}}return chars},_get:function(inst,name){return inst.settings[name]!==undefined?inst.settings[name]:this._defaults[name]},_setDateFromField:function(inst,noDefault){if(inst.input.val()==inst.lastVal){return}var dateFormat=this._get(inst,"dateFormat");var dates=inst.lastVal=inst.input?inst.input.val():null;var date,defaultDate;date=defaultDate=this._getDefaultDate(inst);var settings=this._getFormatConfig(inst);try{date=this.parseDate(dateFormat,dates,settings)||defaultDate}catch(event){this.log(event);dates=(noDefault?"":dates)}inst.selectedDay=date.getDate();inst.drawMonth=inst.selectedMonth=date.getMonth();inst.drawYear=inst.selectedYear=date.getFullYear();inst.currentDay=(dates?date.getDate():0);inst.currentMonth=(dates?date.getMonth():0);inst.currentYear=(dates?date.getFullYear():0);this._adjustInstDate(inst)},_getDefaultDate:function(inst){return this._restrictMinMax(inst,this._determineDate(inst,this._get(inst,"defaultDate"),new Date()))},_determineDate:function(inst,date,defaultDate){var offsetNumeric=function(offset){var date=new Date();date.setDate(date.getDate()+offset);return date};var offsetString=function(offset){try{return $.datepicker.parseDate($.datepicker._get(inst,"dateFormat"),offset,$.datepicker._getFormatConfig(inst))}catch(e){}var date=(offset.toLowerCase().match(/^c/)?$.datepicker._getDate(inst):null)||new Date();var year=date.getFullYear();var month=date.getMonth();var day=date.getDate();var pattern=/([+-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g;var matches=pattern.exec(offset);while(matches){switch(matches[2]||"d"){case"d":case"D":day+=parseInt(matches[1],10);break;case"w":case"W":day+=parseInt(matches[1],10)*7;break;case"m":case"M":month+=parseInt(matches[1],10);day=Math.min(day,$.datepicker._getDaysInMonth(year,month));break;case"y":case"Y":year+=parseInt(matches[1],10);day=Math.min(day,$.datepicker._getDaysInMonth(year,month));break}matches=pattern.exec(offset)}return new Date(year,month,day)};var newDate=(date==null||date===""?defaultDate:(typeof date=="string"?offsetString(date):(typeof date=="number"?(isNaN(date)?defaultDate:offsetNumeric(date)):new Date(date.getTime()))));newDate=(newDate&&newDate.toString()=="Invalid Date"?defaultDate:newDate);if(newDate){newDate.setHours(0);newDate.setMinutes(0);newDate.setSeconds(0);newDate.setMilliseconds(0)}return this._daylightSavingAdjust(newDate)},_daylightSavingAdjust:function(date){if(!date){return null}date.setHours(date.getHours()>12?date.getHours()+2:0);return date},_setDate:function(inst,date,noChange){var clear=!date;var origMonth=inst.selectedMonth;var origYear=inst.selectedYear;var newDate=this._restrictMinMax(inst,this._determineDate(inst,date,new Date()));inst.selectedDay=inst.currentDay=newDate.getDate();inst.drawMonth=inst.selectedMonth=inst.currentMonth=newDate.getMonth();inst.drawYear=inst.selectedYear=inst.currentYear=newDate.getFullYear();if((origMonth!=inst.selectedMonth||origYear!=inst.selectedYear)&&!noChange){this._notifyChange(inst)}this._adjustInstDate(inst);if(inst.input){inst.input.val(clear?"":this._formatDate(inst))}},_getDate:function(inst){var startDate=(!inst.currentYear||(inst.input&&inst.input.val()=="")?null:this._daylightSavingAdjust(new Date(inst.currentYear,inst.currentMonth,inst.currentDay)));return startDate},_attachHandlers:function(inst){var stepMonths=this._get(inst,"stepMonths");var id="#"+inst.id.replace(/\\\\/g,"\\");inst.dpDiv.find("[data-handler]").map(function(){var handler={prev:function(){window["DP_jQuery_"+dpuuid].datepicker._adjustDate(id,-stepMonths,"M")},next:function(){window["DP_jQuery_"+dpuuid].datepicker._adjustDate(id,+stepMonths,"M")},hide:function(){window["DP_jQuery_"+dpuuid].datepicker._hideDatepicker()},today:function(){window["DP_jQuery_"+dpuuid].datepicker._gotoToday(id)},selectDay:function(){window["DP_jQuery_"+dpuuid].datepicker._selectDay(id,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this);return false},selectMonth:function(){window["DP_jQuery_"+dpuuid].datepicker._selectMonthYear(id,this,"M");return false},selectYear:function(){window["DP_jQuery_"+dpuuid].datepicker._selectMonthYear(id,this,"Y");return false}};$(this).bind(this.getAttribute("data-event"),handler[this.getAttribute("data-handler")])})},_generateHTML:function(inst){var today=new Date();today=this._daylightSavingAdjust(new Date(today.getFullYear(),today.getMonth(),today.getDate()));var isRTL=this._get(inst,"isRTL");var showButtonPanel=this._get(inst,"showButtonPanel");var hideIfNoPrevNext=this._get(inst,"hideIfNoPrevNext");var navigationAsDateFormat=this._get(inst,"navigationAsDateFormat");var numMonths=this._getNumberOfMonths(inst);var showCurrentAtPos=this._get(inst,"showCurrentAtPos");var stepMonths=this._get(inst,"stepMonths");var isMultiMonth=(numMonths[0]!=1||numMonths[1]!=1);var currentDate=this._daylightSavingAdjust((!inst.currentDay?new Date(9999,9,9):new Date(inst.currentYear,inst.currentMonth,inst.currentDay)));var minDate=this._getMinMaxDate(inst,"min");var maxDate=this._getMinMaxDate(inst,"max");var drawMonth=inst.drawMonth-showCurrentAtPos;var drawYear=inst.drawYear;if(drawMonth<0){drawMonth+=12;drawYear--}if(maxDate){var maxDraw=this._daylightSavingAdjust(new Date(maxDate.getFullYear(),maxDate.getMonth()-(numMonths[0]*numMonths[1])+1,maxDate.getDate()));maxDraw=(minDate&&maxDraw<minDate?minDate:maxDraw);while(this._daylightSavingAdjust(new Date(drawYear,drawMonth,1))>maxDraw){drawMonth--;if(drawMonth<0){drawMonth=11;drawYear--}}}inst.drawMonth=drawMonth;inst.drawYear=drawYear;var prevText=this._get(inst,"prevText");prevText=(!navigationAsDateFormat?prevText:this.formatDate(prevText,this._daylightSavingAdjust(new Date(drawYear,drawMonth-stepMonths,1)),this._getFormatConfig(inst)));var prev=(this._canAdjustMonth(inst,-1,drawYear,drawMonth)?'<a class="ui-datepicker-prev ui-corner-all" data-handler="prev" data-event="click" title="'+prevText+'"><span class="ui-icon ui-icon-circle-triangle-'+(isRTL?"e":"w")+'">'+prevText+"</span></a>":(hideIfNoPrevNext?"":'<a class="ui-datepicker-prev ui-corner-all ui-state-disabled" title="'+prevText+'"><span class="ui-icon ui-icon-circle-triangle-'+(isRTL?"e":"w")+'">'+prevText+"</span></a>"));var nextText=this._get(inst,"nextText");nextText=(!navigationAsDateFormat?nextText:this.formatDate(nextText,this._daylightSavingAdjust(new Date(drawYear,drawMonth+stepMonths,1)),this._getFormatConfig(inst)));var next=(this._canAdjustMonth(inst,+1,drawYear,drawMonth)?'<a class="ui-datepicker-next ui-corner-all" data-handler="next" data-event="click" title="'+nextText+'"><span class="ui-icon ui-icon-circle-triangle-'+(isRTL?"w":"e")+'">'+nextText+"</span></a>":(hideIfNoPrevNext?"":'<a class="ui-datepicker-next ui-corner-all ui-state-disabled" title="'+nextText+'"><span class="ui-icon ui-icon-circle-triangle-'+(isRTL?"w":"e")+'">'+nextText+"</span></a>"));var currentText=this._get(inst,"currentText");var gotoDate=(this._get(inst,"gotoCurrent")&&inst.currentDay?currentDate:today);currentText=(!navigationAsDateFormat?currentText:this.formatDate(currentText,gotoDate,this._getFormatConfig(inst)));var controls=(!inst.inline?'<button type="button" class="ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all" data-handler="hide" data-event="click">'+this._get(inst,"closeText")+"</button>":"");var buttonPanel=(showButtonPanel)?'<div class="ui-datepicker-buttonpane ui-widget-content">'+(isRTL?controls:"")+(this._isInRange(inst,gotoDate)?'<button type="button" class="ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all" data-handler="today" data-event="click">'+currentText+"</button>":"")+(isRTL?"":controls)+"</div>":"";var firstDay=parseInt(this._get(inst,"firstDay"),10);firstDay=(isNaN(firstDay)?0:firstDay);var showWeek=this._get(inst,"showWeek");var dayNames=this._get(inst,"dayNames");var dayNamesShort=this._get(inst,"dayNamesShort");var dayNamesMin=this._get(inst,"dayNamesMin");var monthNames=this._get(inst,"monthNames");var monthNamesShort=this._get(inst,"monthNamesShort");var beforeShowDay=this._get(inst,"beforeShowDay");var showOtherMonths=this._get(inst,"showOtherMonths");var selectOtherMonths=this._get(inst,"selectOtherMonths");var calculateWeek=this._get(inst,"calculateWeek")||this.iso8601Week;var defaultDate=this._getDefaultDate(inst);var html="";for(var row=0;row<numMonths[0];row++){var group="";this.maxRows=4;for(var col=0;col<numMonths[1];col++){var selectedDate=this._daylightSavingAdjust(new Date(drawYear,drawMonth,inst.selectedDay));var cornerClass=" ui-corner-all";var calender="";if(isMultiMonth){calender+='<div class="ui-datepicker-group';if(numMonths[1]>1){switch(col){case 0:calender+=" ui-datepicker-group-first";cornerClass=" ui-corner-"+(isRTL?"right":"left");break;case numMonths[1]-1:calender+=" ui-datepicker-group-last";cornerClass=" ui-corner-"+(isRTL?"left":"right");break;default:calender+=" ui-datepicker-group-middle";cornerClass="";break}}calender+='">'}calender+='<div class="ui-datepicker-header ui-widget-header ui-helper-clearfix'+cornerClass+'">'+(/all|left/.test(cornerClass)&&row==0?(isRTL?next:prev):"")+(/all|right/.test(cornerClass)&&row==0?(isRTL?prev:next):"")+this._generateMonthYearHeader(inst,drawMonth,drawYear,minDate,maxDate,row>0||col>0,monthNames,monthNamesShort)+'</div><table class="ui-datepicker-calendar"><thead><tr>';var thead=(showWeek?'<th class="ui-datepicker-week-col">'+this._get(inst,"weekHeader")+"</th>":"");for(var dow=0;dow<7;dow++){var day=(dow+firstDay)%7;thead+="<th"+((dow+firstDay+6)%7>=5?' class="ui-datepicker-week-end"':"")+'><span title="'+dayNames[day]+'">'+dayNamesMin[day]+"</span></th>"}calender+=thead+"</tr></thead><tbody>";var daysInMonth=this._getDaysInMonth(drawYear,drawMonth);if(drawYear==inst.selectedYear&&drawMonth==inst.selectedMonth){inst.selectedDay=Math.min(inst.selectedDay,daysInMonth)}var leadDays=(this._getFirstDayOfMonth(drawYear,drawMonth)-firstDay+7)%7;var curRows=Math.ceil((leadDays+daysInMonth)/7);var numRows=(isMultiMonth?this.maxRows>curRows?this.maxRows:curRows:curRows);this.maxRows=numRows;var printDate=this._daylightSavingAdjust(new Date(drawYear,drawMonth,1-leadDays));for(var dRow=0;dRow<numRows;dRow++){calender+="<tr>";var tbody=(!showWeek?"":'<td class="ui-datepicker-week-col">'+this._get(inst,"calculateWeek")(printDate)+"</td>");for(var dow=0;dow<7;dow++){var daySettings=(beforeShowDay?beforeShowDay.apply((inst.input?inst.input[0]:null),[printDate]):[true,""]);var otherMonth=(printDate.getMonth()!=drawMonth);var unselectable=(otherMonth&&!selectOtherMonths)||!daySettings[0]||(minDate&&printDate<minDate)||(maxDate&&printDate>maxDate);tbody+='<td class="'+((dow+firstDay+6)%7>=5?" ui-datepicker-week-end":"")+(otherMonth?" ui-datepicker-other-month":"")+((printDate.getTime()==selectedDate.getTime()&&drawMonth==inst.selectedMonth&&inst._keyEvent)||(defaultDate.getTime()==printDate.getTime()&&defaultDate.getTime()==selectedDate.getTime())?" "+this._dayOverClass:"")+(unselectable?" "+this._unselectableClass+" ui-state-disabled":"")+(otherMonth&&!showOtherMonths?"":" "+daySettings[1]+(printDate.getTime()==currentDate.getTime()?" "+this._currentClass:"")+(printDate.getTime()==today.getTime()?" ui-datepicker-today":""))+'"'+((!otherMonth||showOtherMonths)&&daySettings[2]?' title="'+daySettings[2]+'"':"")+(unselectable?"":' data-handler="selectDay" data-event="click" data-month="'+printDate.getMonth()+'" data-year="'+printDate.getFullYear()+'"')+">"+(otherMonth&&!showOtherMonths?"&#xa0;":(unselectable?'<span class="ui-state-default">'+printDate.getDate()+"</span>":'<a class="ui-state-default'+(printDate.getTime()==today.getTime()?" ui-state-highlight":"")+(printDate.getTime()==currentDate.getTime()?" ui-state-active":"")+(otherMonth?" ui-priority-secondary":"")+'" href="#">'+printDate.getDate()+"</a>"))+"</td>";printDate.setDate(printDate.getDate()+1);printDate=this._daylightSavingAdjust(printDate)}calender+=tbody+"</tr>"}drawMonth++;if(drawMonth>11){drawMonth=0;drawYear++}calender+="</tbody></table>"+(isMultiMonth?"</div>"+((numMonths[0]>0&&col==numMonths[1]-1)?'<div class="ui-datepicker-row-break"></div>':""):"");group+=calender}html+=group}html+=buttonPanel+($.ui.ie6&&!inst.inline?'<iframe src="javascript:false;" class="ui-datepicker-cover" frameborder="0"></iframe>':"");inst._keyEvent=false;return html},_generateMonthYearHeader:function(inst,drawMonth,drawYear,minDate,maxDate,secondary,monthNames,monthNamesShort){var changeMonth=this._get(inst,"changeMonth");var changeYear=this._get(inst,"changeYear");var showMonthAfterYear=this._get(inst,"showMonthAfterYear");var html='<div class="ui-datepicker-title">';var monthHtml="";if(secondary||!changeMonth){monthHtml+='<span class="ui-datepicker-month">'+monthNames[drawMonth]+"</span>"}else{var inMinYear=(minDate&&minDate.getFullYear()==drawYear);var inMaxYear=(maxDate&&maxDate.getFullYear()==drawYear);monthHtml+='<select class="ui-datepicker-month" data-handler="selectMonth" data-event="change">';for(var month=0;month<12;month++){if((!inMinYear||month>=minDate.getMonth())&&(!inMaxYear||month<=maxDate.getMonth())){monthHtml+='<option value="'+month+'"'+(month==drawMonth?' selected="selected"':"")+">"+monthNamesShort[month]+"</option>"}}monthHtml+="</select>"}if(!showMonthAfterYear){html+=monthHtml+(secondary||!(changeMonth&&changeYear)?"&#xa0;":"")}if(!inst.yearshtml){inst.yearshtml="";if(secondary||!changeYear){html+='<span class="ui-datepicker-year">'+drawYear+"</span>"}else{var years=this._get(inst,"yearRange").split(":");var thisYear=new Date().getFullYear();var determineYear=function(value){var year=(value.match(/c[+-].*/)?drawYear+parseInt(value.substring(1),10):(value.match(/[+-].*/)?thisYear+parseInt(value,10):parseInt(value,10)));return(isNaN(year)?thisYear:year)};var year=determineYear(years[0]);var endYear=Math.max(year,determineYear(years[1]||""));year=(minDate?Math.max(year,minDate.getFullYear()):year);endYear=(maxDate?Math.min(endYear,maxDate.getFullYear()):endYear);inst.yearshtml+='<select class="ui-datepicker-year" data-handler="selectYear" data-event="change">';for(;year<=endYear;year++){inst.yearshtml+='<option value="'+year+'"'+(year==drawYear?' selected="selected"':"")+">"+year+"</option>"}inst.yearshtml+="</select>";html+=inst.yearshtml;inst.yearshtml=null}}html+=this._get(inst,"yearSuffix");if(showMonthAfterYear){html+=(secondary||!(changeMonth&&changeYear)?"&#xa0;":"")+monthHtml}html+="</div>";return html},_adjustInstDate:function(inst,offset,period){var year=inst.drawYear+(period=="Y"?offset:0);var month=inst.drawMonth+(period=="M"?offset:0);var day=Math.min(inst.selectedDay,this._getDaysInMonth(year,month))+(period=="D"?offset:0);var date=this._restrictMinMax(inst,this._daylightSavingAdjust(new Date(year,month,day)));inst.selectedDay=date.getDate();inst.drawMonth=inst.selectedMonth=date.getMonth();inst.drawYear=inst.selectedYear=date.getFullYear();if(period=="M"||period=="Y"){this._notifyChange(inst)}},_restrictMinMax:function(inst,date){var minDate=this._getMinMaxDate(inst,"min");var maxDate=this._getMinMaxDate(inst,"max");var newDate=(minDate&&date<minDate?minDate:date);newDate=(maxDate&&newDate>maxDate?maxDate:newDate);return newDate},_notifyChange:function(inst){var onChange=this._get(inst,"onChangeMonthYear");if(onChange){onChange.apply((inst.input?inst.input[0]:null),[inst.selectedYear,inst.selectedMonth+1,inst])}},_getNumberOfMonths:function(inst){var numMonths=this._get(inst,"numberOfMonths");return(numMonths==null?[1,1]:(typeof numMonths=="number"?[1,numMonths]:numMonths))},_getMinMaxDate:function(inst,minMax){return this._determineDate(inst,this._get(inst,minMax+"Date"),null)},_getDaysInMonth:function(year,month){return 32-this._daylightSavingAdjust(new Date(year,month,32)).getDate()},_getFirstDayOfMonth:function(year,month){return new Date(year,month,1).getDay()},_canAdjustMonth:function(inst,offset,curYear,curMonth){var numMonths=this._getNumberOfMonths(inst);var date=this._daylightSavingAdjust(new Date(curYear,curMonth+(offset<0?offset:numMonths[0]*numMonths[1]),1));if(offset<0){date.setDate(this._getDaysInMonth(date.getFullYear(),date.getMonth()))}return this._isInRange(inst,date)},_isInRange:function(inst,date){var minDate=this._getMinMaxDate(inst,"min");var maxDate=this._getMinMaxDate(inst,"max");return((!minDate||date.getTime()>=minDate.getTime())&&(!maxDate||date.getTime()<=maxDate.getTime()))},_getFormatConfig:function(inst){var shortYearCutoff=this._get(inst,"shortYearCutoff");shortYearCutoff=(typeof shortYearCutoff!="string"?shortYearCutoff:new Date().getFullYear()%100+parseInt(shortYearCutoff,10));return{shortYearCutoff:shortYearCutoff,dayNamesShort:this._get(inst,"dayNamesShort"),dayNames:this._get(inst,"dayNames"),monthNamesShort:this._get(inst,"monthNamesShort"),monthNames:this._get(inst,"monthNames")}},_formatDate:function(inst,day,month,year){if(!day){inst.currentDay=inst.selectedDay;inst.currentMonth=inst.selectedMonth;inst.currentYear=inst.selectedYear}var date=(day?(typeof day=="object"?day:this._daylightSavingAdjust(new Date(year,month,day))):this._daylightSavingAdjust(new Date(inst.currentYear,inst.currentMonth,inst.currentDay)));return this.formatDate(this._get(inst,"dateFormat"),date,this._getFormatConfig(inst))}});function bindHover(dpDiv){var selector="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return dpDiv.delegate(selector,"mouseout",function(){$(this).removeClass("ui-state-hover");if(this.className.indexOf("ui-datepicker-prev")!=-1){$(this).removeClass("ui-datepicker-prev-hover")}if(this.className.indexOf("ui-datepicker-next")!=-1){$(this).removeClass("ui-datepicker-next-hover")}}).delegate(selector,"mouseover",function(){if(!$.datepicker._isDisabledDatepicker(instActive.inline?dpDiv.parent()[0]:instActive.input[0])){$(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover");$(this).addClass("ui-state-hover");if(this.className.indexOf("ui-datepicker-prev")!=-1){$(this).addClass("ui-datepicker-prev-hover")}if(this.className.indexOf("ui-datepicker-next")!=-1){$(this).addClass("ui-datepicker-next-hover")}}})}function extendRemove(target,props){$.extend(target,props);for(var name in props){if(props[name]==null||props[name]==undefined){target[name]=props[name]}}return target}$.fn.datepicker=function(options){if(!this.length){return this}if(!$.datepicker.initialized){$(document).mousedown($.datepicker._checkExternalClick).find(document.body).append($.datepicker.dpDiv);$.datepicker.initialized=true}var otherArgs=Array.prototype.slice.call(arguments,1);if(typeof options=="string"&&(options=="isDisabled"||options=="getDate"||options=="widget")){return $.datepicker["_"+options+"Datepicker"].apply($.datepicker,[this[0]].concat(otherArgs))}if(options=="option"&&arguments.length==2&&typeof arguments[1]=="string"){return $.datepicker["_"+options+"Datepicker"].apply($.datepicker,[this[0]].concat(otherArgs))}return this.each(function(){typeof options=="string"?$.datepicker["_"+options+"Datepicker"].apply($.datepicker,[this].concat(otherArgs)):$.datepicker._attachDatepicker(this,options)})};$.datepicker=new Datepicker();$.datepicker.initialized=false;$.datepicker.uuid=new Date().getTime();$.datepicker.version="1.9.2";window["DP_jQuery_"+dpuuid]=$})(jQuery);(function(d,e){var b="ui-dialog ui-widget ui-widget-content ui-corner-all ",a={buttons:true,height:true,maxHeight:true,maxWidth:true,minHeight:true,minWidth:true,width:true},c={maxHeight:true,maxWidth:true,minHeight:true,minWidth:true};d.widget("ui.dialog",{version:"1.9.2",options:{autoOpen:true,buttons:{},closeOnEscape:true,closeText:"close",dialogClass:"",draggable:true,hide:null,height:"auto",maxHeight:false,maxWidth:false,minHeight:150,minWidth:150,modal:false,position:{my:"center",at:"center",of:window,collision:"fit",using:function(g){var f=d(this).css(g).offset().top;if(f<0){d(this).css("top",g.top-f)}}},resizable:true,show:null,stack:true,title:"",width:300,zIndex:1000},_create:function(){this.originalTitle=this.element.attr("title");if(typeof this.originalTitle!=="string"){this.originalTitle=""}this.oldPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)};this.options.title=this.options.title||this.originalTitle;var l=this,k=this.options,n=k.title||"&#160;",h,m,f,j,g;h=(this.uiDialog=d("<div>")).addClass(b+k.dialogClass).css({display:"none",outline:0,zIndex:k.zIndex}).attr("tabIndex",-1).keydown(function(o){if(k.closeOnEscape&&!o.isDefaultPrevented()&&o.keyCode&&o.keyCode===d.ui.keyCode.ESCAPE){l.close(o);o.preventDefault()}}).mousedown(function(o){l.moveToTop(false,o)}).appendTo("body");this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(h);m=(this.uiDialogTitlebar=d("<div>")).addClass("ui-dialog-titlebar  ui-widget-header  ui-corner-all  ui-helper-clearfix").bind("mousedown",function(){h.focus()}).prependTo(h);f=d("<a href='#'></a>").addClass("ui-dialog-titlebar-close  ui-corner-all").attr("role","button").click(function(o){o.preventDefault();l.close(o)}).appendTo(m);(this.uiDialogTitlebarCloseText=d("<span>")).addClass("ui-icon ui-icon-closethick").text(k.closeText).appendTo(f);j=d("<span>").uniqueId().addClass("ui-dialog-title").html(n).prependTo(m);g=(this.uiDialogButtonPane=d("<div>")).addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix");(this.uiButtonSet=d("<div>")).addClass("ui-dialog-buttonset").appendTo(g);h.attr({role:"dialog","aria-labelledby":j.attr("id")});m.find("*").add(m).disableSelection();this._hoverable(f);this._focusable(f);if(k.draggable&&d.fn.draggable){this._makeDraggable()}if(k.resizable&&d.fn.resizable){this._makeResizable()}this._createButtons(k.buttons);this._isOpen=false;if(d.fn.bgiframe){h.bgiframe()}this._on(h,{keydown:function(q){if(!k.modal||q.keyCode!==d.ui.keyCode.TAB){return}var p=d(":tabbable",h),r=p.filter(":first"),o=p.filter(":last");if(q.target===o[0]&&!q.shiftKey){r.focus(1);return false}else{if(q.target===r[0]&&q.shiftKey){o.focus(1);return false}}}})},_init:function(){if(this.options.autoOpen){this.open()}},_destroy:function(){var g,f=this.oldPosition;if(this.overlay){this.overlay.destroy()}this.uiDialog.hide();this.element.removeClass("ui-dialog-content ui-widget-content").hide().appendTo("body");this.uiDialog.remove();if(this.originalTitle){this.element.attr("title",this.originalTitle)}g=f.parent.children().eq(f.index);if(g.length&&g[0]!==this.element[0]){g.before(this.element)}else{f.parent.append(this.element)}},widget:function(){return this.uiDialog},close:function(j){var h=this,g,f;if(!this._isOpen){return}if(false===this._trigger("beforeClose",j)){return}this._isOpen=false;if(this.overlay){this.overlay.destroy()}if(this.options.hide){this._hide(this.uiDialog,this.options.hide,function(){h._trigger("close",j)})}else{this.uiDialog.hide();this._trigger("close",j)}d.ui.dialog.overlay.resize();if(this.options.modal){g=0;d(".ui-dialog").each(function(){if(this!==h.uiDialog[0]){f=d(this).css("z-index");if(!isNaN(f)){g=Math.max(g,f)}}});d.ui.dialog.maxZ=g}return this},isOpen:function(){return this._isOpen},moveToTop:function(j,h){var g=this.options,f;if((g.modal&&!j)||(!g.stack&&!g.modal)){return this._trigger("focus",h)}if(g.zIndex>d.ui.dialog.maxZ){d.ui.dialog.maxZ=g.zIndex}if(this.overlay){d.ui.dialog.maxZ+=1;d.ui.dialog.overlay.maxZ=d.ui.dialog.maxZ;this.overlay.$el.css("z-index",d.ui.dialog.overlay.maxZ)}f={scrollTop:this.element.scrollTop(),scrollLeft:this.element.scrollLeft()};d.ui.dialog.maxZ+=1;this.uiDialog.css("z-index",d.ui.dialog.maxZ);this.element.attr(f);this._trigger("focus",h);return this},open:function(){if(this._isOpen){return}var h,g=this.options,f=this.uiDialog;this._size();this._position(g.position);f.show(g.show);this.overlay=g.modal?new d.ui.dialog.overlay(this):null;this.moveToTop(true);h=this.element.find(":tabbable");if(!h.length){h=this.uiDialogButtonPane.find(":tabbable");if(!h.length){h=f}}h.eq(0).focus();this._isOpen=true;this._trigger("open");return this},_createButtons:function(h){var g=this,f=false;this.uiDialogButtonPane.remove();this.uiButtonSet.empty();if(typeof h==="object"&&h!==null){d.each(h,function(){return !(f=true)})}if(f){d.each(h,function(j,l){var k,m;l=d.isFunction(l)?{click:l,text:j}:l;l=d.extend({type:"button"},l);m=l.click;l.click=function(){m.apply(g.element[0],arguments)};k=d("<button></button>",l).appendTo(g.uiButtonSet);if(d.fn.button){k.button()}});this.uiDialog.addClass("ui-dialog-buttons");this.uiDialogButtonPane.appendTo(this.uiDialog)}else{this.uiDialog.removeClass("ui-dialog-buttons")}},_makeDraggable:function(){var h=this,g=this.options;function f(j){return{position:j.position,offset:j.offset}}this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(j,k){d(this).addClass("ui-dialog-dragging");h._trigger("dragStart",j,f(k))},drag:function(j,k){h._trigger("drag",j,f(k))},stop:function(j,k){g.position=[k.position.left-h.document.scrollLeft(),k.position.top-h.document.scrollTop()];d(this).removeClass("ui-dialog-dragging");h._trigger("dragStop",j,f(k));d.ui.dialog.overlay.resize()}})},_makeResizable:function(k){k=(k===e?this.options.resizable:k);var l=this,j=this.options,f=this.uiDialog.css("position"),h=typeof k==="string"?k:"n,e,s,w,se,sw,ne,nw";function g(m){return{originalPosition:m.originalPosition,originalSize:m.originalSize,position:m.position,size:m.size}}this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:j.maxWidth,maxHeight:j.maxHeight,minWidth:j.minWidth,minHeight:this._minHeight(),handles:h,start:function(m,n){d(this).addClass("ui-dialog-resizing");l._trigger("resizeStart",m,g(n))},resize:function(m,n){l._trigger("resize",m,g(n))},stop:function(m,n){d(this).removeClass("ui-dialog-resizing");j.height=d(this).height();j.width=d(this).width();l._trigger("resizeStop",m,g(n));d.ui.dialog.overlay.resize()}}).css("position",f).find(".ui-resizable-se").addClass("ui-icon ui-icon-grip-diagonal-se")},_minHeight:function(){var f=this.options;if(f.height==="auto"){return f.minHeight}else{return Math.min(f.minHeight,f.height)}},_position:function(g){var h=[],j=[0,0],f;if(g){if(typeof g==="string"||(typeof g==="object"&&"0" in g)){h=g.split?g.split(" "):[g[0],g[1]];if(h.length===1){h[1]=h[0]}d.each(["left","top"],function(l,k){if(+h[l]===h[l]){j[l]=h[l];h[l]=k}});g={my:h[0]+(j[0]<0?j[0]:"+"+j[0])+" "+h[1]+(j[1]<0?j[1]:"+"+j[1]),at:h.join(" ")}}g=d.extend({},d.ui.dialog.prototype.options.position,g)}else{g=d.ui.dialog.prototype.options.position}f=this.uiDialog.is(":visible");if(!f){this.uiDialog.show()}this.uiDialog.position(g);if(!f){this.uiDialog.hide()}},_setOptions:function(h){var j=this,f={},g=false;d.each(h,function(k,l){j._setOption(k,l);if(k in a){g=true}if(k in c){f[k]=l}});if(g){this._size()}if(this.uiDialog.is(":data(resizable)")){this.uiDialog.resizable("option",f)}},_setOption:function(h,j){var g,k,f=this.uiDialog;switch(h){case"buttons":this._createButtons(j);break;case"closeText":this.uiDialogTitlebarCloseText.text(""+j);break;case"dialogClass":f.removeClass(this.options.dialogClass).addClass(b+j);break;case"disabled":if(j){f.addClass("ui-dialog-disabled")}else{f.removeClass("ui-dialog-disabled")}break;case"draggable":g=f.is(":data(draggable)");if(g&&!j){f.draggable("destroy")}if(!g&&j){this._makeDraggable()}break;case"position":this._position(j);break;case"resizable":k=f.is(":data(resizable)");if(k&&!j){f.resizable("destroy")}if(k&&typeof j==="string"){f.resizable("option","handles",j)}if(!k&&j!==false){this._makeResizable(j)}break;case"title":d(".ui-dialog-title",this.uiDialogTitlebar).html(""+(j||"&#160;"));break}this._super(h,j)},_size:function(){var g,k,j,h=this.options,f=this.uiDialog.is(":visible");this.element.show().css({width:"auto",minHeight:0,height:0});if(h.minWidth>h.width){h.width=h.minWidth}g=this.uiDialog.css({height:"auto",width:h.width}).outerHeight();k=Math.max(0,h.minHeight-g);if(h.height==="auto"){if(d.support.minHeight){this.element.css({minHeight:k,height:"auto"})}else{this.uiDialog.show();j=this.element.css("height","auto").height();if(!f){this.uiDialog.hide()}this.element.height(Math.max(j,k))}}else{this.element.height(Math.max(h.height-g,0))}if(this.uiDialog.is(":data(resizable)")){this.uiDialog.resizable("option","minHeight",this._minHeight())}}});d.extend(d.ui.dialog,{uuid:0,maxZ:0,getTitleId:function(f){var g=f.attr("id");if(!g){this.uuid+=1;g=this.uuid}return"ui-dialog-title-"+g},overlay:function(f){this.$el=d.ui.dialog.overlay.create(f)}});d.extend(d.ui.dialog.overlay,{instances:[],oldInstances:[],maxZ:0,events:d.map("focus,mousedown,mouseup,keydown,keypress,click".split(","),function(f){return f+".dialog-overlay"}).join(" "),create:function(g){if(this.instances.length===0){setTimeout(function(){if(d.ui.dialog.overlay.instances.length){d(document).bind(d.ui.dialog.overlay.events,function(h){if(d(h.target).zIndex()<d.ui.dialog.overlay.maxZ){return false}})}},1);d(window).bind("resize.dialog-overlay",d.ui.dialog.overlay.resize)}var f=(this.oldInstances.pop()||d("<div>").addClass("ui-widget-overlay"));d(document).bind("keydown.dialog-overlay",function(h){var j=d.ui.dialog.overlay.instances;if(j.length!==0&&j[j.length-1]===f&&g.options.closeOnEscape&&!h.isDefaultPrevented()&&h.keyCode&&h.keyCode===d.ui.keyCode.ESCAPE){g.close(h);h.preventDefault()}});f.appendTo(document.body).css({width:this.width(),height:this.height()});if(d.fn.bgiframe){f.bgiframe()}this.instances.push(f);return f},destroy:function(f){var g=d.inArray(f,this.instances),h=0;if(g!==-1){this.oldInstances.push(this.instances.splice(g,1)[0])}if(this.instances.length===0){d([document,window]).unbind(".dialog-overlay")}f.height(0).width(0).remove();d.each(this.instances,function(){h=Math.max(h,this.css("z-index"))});this.maxZ=h},height:function(){var g,f;if(d.ui.ie){g=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight);f=Math.max(document.documentElement.offsetHeight,document.body.offsetHeight);if(g<f){return d(window).height()+"px"}else{return g+"px"}}else{return d(document).height()+"px"}},width:function(){var f,g;if(d.ui.ie){f=Math.max(document.documentElement.scrollWidth,document.body.scrollWidth);g=Math.max(document.documentElement.offsetWidth,document.body.offsetWidth);if(f<g){return d(window).width()+"px"}else{return f+"px"}}else{return d(document).width()+"px"}},resize:function(){var f=d([]);d.each(d.ui.dialog.overlay.instances,function(){f=f.add(this)});f.css({width:0,height:0}).css({width:d.ui.dialog.overlay.width(),height:d.ui.dialog.overlay.height()})}});d.extend(d.ui.dialog.overlay.prototype,{destroy:function(){d.ui.dialog.overlay.destroy(this.$el)}})}(jQuery));(function(b,c){var a=false;b.widget("ui.menu",{version:"1.9.2",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element;this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content ui-corner-all").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}).bind("click"+this.eventNamespace,b.proxy(function(d){if(this.options.disabled){d.preventDefault()}},this));if(this.options.disabled){this.element.addClass("ui-state-disabled").attr("aria-disabled","true")}this._on({"mousedown .ui-menu-item > a":function(d){d.preventDefault()},"click .ui-state-disabled > a":function(d){d.preventDefault()},"click .ui-menu-item:has(a)":function(d){var e=b(d.target).closest(".ui-menu-item");if(!a&&e.not(".ui-state-disabled").length){a=true;this.select(d);if(e.has(".ui-menu").length){this.expand(d)}else{if(!this.element.is(":focus")){this.element.trigger("focus",[true]);if(this.active&&this.active.parents(".ui-menu").length===1){clearTimeout(this.timer)}}}}},"mouseenter .ui-menu-item":function(d){var e=b(d.currentTarget);e.siblings().children(".ui-state-active").removeClass("ui-state-active");this.focus(d,e)},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(f,d){var e=this.active||this.element.children(".ui-menu-item").eq(0);if(!d){this.focus(f,e)}},blur:function(d){this._delay(function(){if(!b.contains(this.element[0],this.document[0].activeElement)){this.collapseAll(d)}})},keydown:"_keydown"});this.refresh();this._on(this.document,{click:function(d){if(!b(d.target).closest(".ui-menu").length){this.collapseAll(d)}a=false}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").andSelf().removeClass("ui-menu ui-widget ui-widget-content ui-corner-all ui-menu-icons").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show();this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").children("a").removeUniqueId().removeClass("ui-corner-all ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var d=b(this);if(d.data("ui-menu-submenu-carat")){d.remove()}});this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(k){var e,j,l,h,g,d=true;function f(m){return m.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}switch(k.keyCode){case b.ui.keyCode.PAGE_UP:this.previousPage(k);break;case b.ui.keyCode.PAGE_DOWN:this.nextPage(k);break;case b.ui.keyCode.HOME:this._move("first","first",k);break;case b.ui.keyCode.END:this._move("last","last",k);break;case b.ui.keyCode.UP:this.previous(k);break;case b.ui.keyCode.DOWN:this.next(k);break;case b.ui.keyCode.LEFT:this.collapse(k);break;case b.ui.keyCode.RIGHT:if(this.active&&!this.active.is(".ui-state-disabled")){this.expand(k)}break;case b.ui.keyCode.ENTER:case b.ui.keyCode.SPACE:this._activate(k);break;case b.ui.keyCode.ESCAPE:this.collapse(k);break;default:d=false;j=this.previousFilter||"";l=String.fromCharCode(k.keyCode);h=false;clearTimeout(this.filterTimer);if(l===j){h=true}else{l=j+l}g=new RegExp("^"+f(l),"i");e=this.activeMenu.children(".ui-menu-item").filter(function(){return g.test(b(this).children("a").text())});e=h&&e.index(this.active.next())!==-1?this.active.nextAll(".ui-menu-item"):e;if(!e.length){l=String.fromCharCode(k.keyCode);g=new RegExp("^"+f(l),"i");e=this.activeMenu.children(".ui-menu-item").filter(function(){return g.test(b(this).children("a").text())})}if(e.length){this.focus(k,e);if(e.length>1){this.previousFilter=l;this.filterTimer=this._delay(function(){delete this.previousFilter},1000)}else{delete this.previousFilter}}else{delete this.previousFilter}}if(d){k.preventDefault()}},_activate:function(d){if(!this.active.is(".ui-state-disabled")){if(this.active.children("a[aria-haspopup='true']").length){this.expand(d)}else{this.select(d)}}},refresh:function(){var f,e=this.options.icons.submenu,d=this.element.find(this.options.menus);d.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-corner-all").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var j=b(this),h=j.prev("a"),g=b("<span>").addClass("ui-menu-icon ui-icon "+e).data("ui-menu-submenu-carat",true);h.attr("aria-haspopup","true").prepend(g);j.attr("aria-labelledby",h.attr("id"))});f=d.add(this.element);f.children(":not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","presentation").children("a").uniqueId().addClass("ui-corner-all").attr({tabIndex:-1,role:this._itemRole()});f.children(":not(.ui-menu-item)").each(function(){var g=b(this);if(!/[^\-\s]/.test(g.text())){g.addClass("ui-widget-content ui-menu-divider")}});f.children(".ui-state-disabled").attr("aria-disabled","true");if(this.active&&!b.contains(this.element[0],this.active[0])){this.blur()}},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},focus:function(e,d){var g,f;this.blur(e,e&&e.type==="focus");this._scrollIntoView(d);this.active=d.first();f=this.active.children("a").addClass("ui-state-focus");if(this.options.role){this.element.attr("aria-activedescendant",f.attr("id"))}this.active.parent().closest(".ui-menu-item").children("a:first").addClass("ui-state-active");if(e&&e.type==="keydown"){this._close()}else{this.timer=this._delay(function(){this._close()},this.delay)}g=d.children(".ui-menu");if(g.length&&(/^mouse/.test(e.type))){this._startOpening(g)}this.activeMenu=d.parent();this._trigger("focus",e,{item:d})},_scrollIntoView:function(g){var k,f,h,d,e,j;if(this._hasScroll()){k=parseFloat(b.css(this.activeMenu[0],"borderTopWidth"))||0;f=parseFloat(b.css(this.activeMenu[0],"paddingTop"))||0;h=g.offset().top-this.activeMenu.offset().top-k-f;d=this.activeMenu.scrollTop();e=this.activeMenu.height();j=g.height();if(h<0){this.activeMenu.scrollTop(d+h)}else{if(h+j>e){this.activeMenu.scrollTop(d+h-e+j)}}}},blur:function(e,d){if(!d){clearTimeout(this.timer)}if(!this.active){return}this.active.children("a").removeClass("ui-state-focus");this.active=null;this._trigger("blur",e,{item:this.active})},_startOpening:function(d){clearTimeout(this.timer);if(d.attr("aria-hidden")!=="true"){return}this.timer=this._delay(function(){this._close();this._open(d)},this.delay)},_open:function(e){var d=b.extend({of:this.active},this.options.position);clearTimeout(this.timer);this.element.find(".ui-menu").not(e.parents(".ui-menu")).hide().attr("aria-hidden","true");e.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(d)},collapseAll:function(e,d){clearTimeout(this.timer);this.timer=this._delay(function(){var f=d?this.element:b(e&&e.target).closest(this.element.find(".ui-menu"));if(!f.length){f=this.element}this._close(f);this.blur(e);this.activeMenu=f},this.delay)},_close:function(d){if(!d){d=this.active?this.active.parent():this.element}d.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find("a.ui-state-active").removeClass("ui-state-active")},collapse:function(e){var d=this.active&&this.active.parent().closest(".ui-menu-item",this.element);if(d&&d.length){this._close();this.focus(e,d)}},expand:function(e){var d=this.active&&this.active.children(".ui-menu ").children(".ui-menu-item").first();if(d&&d.length){this._open(d.parent());this._delay(function(){this.focus(e,d)})}},next:function(d){this._move("next","first",d)},previous:function(d){this._move("prev","last",d)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(g,e,f){var d;if(this.active){if(g==="first"||g==="last"){d=this.active[g==="first"?"prevAll":"nextAll"](".ui-menu-item").eq(-1)}else{d=this.active[g+"All"](".ui-menu-item").eq(0)}}if(!d||!d.length||!this.active){d=this.activeMenu.children(".ui-menu-item")[e]()}this.focus(f,d)},nextPage:function(f){var e,g,d;if(!this.active){this.next(f);return}if(this.isLastItem()){return}if(this._hasScroll()){g=this.active.offset().top;d=this.element.height();this.active.nextAll(".ui-menu-item").each(function(){e=b(this);return e.offset().top-g-d<0});this.focus(f,e)}else{this.focus(f,this.activeMenu.children(".ui-menu-item")[!this.active?"first":"last"]())}},previousPage:function(f){var e,g,d;if(!this.active){this.next(f);return}if(this.isFirstItem()){return}if(this._hasScroll()){g=this.active.offset().top;d=this.element.height();this.active.prevAll(".ui-menu-item").each(function(){e=b(this);return e.offset().top-g+d>0});this.focus(f,e)}else{this.focus(f,this.activeMenu.children(".ui-menu-item").first())}},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(d){this.active=this.active||b(d.target).closest(".ui-menu-item");var e={item:this.active};if(!this.active.has(".ui-menu").length){this.collapseAll(d,true)}this._trigger("select",d,e)}})}(jQuery));(function(a,b){a.widget("ui.progressbar",{version:"1.9.2",options:{value:0,max:100},min:0,_create:function(){this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min,"aria-valuemax":this.options.max,"aria-valuenow":this._value()});this.valueDiv=a("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element);this.oldValue=this._value();this._refreshValue()},_destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow");this.valueDiv.remove()},value:function(c){if(c===b){return this._value()}this._setOption("value",c);return this},_setOption:function(c,d){if(c==="value"){this.options.value=d;this._refreshValue();if(this._value()===this.options.max){this._trigger("complete")}}this._super(c,d)},_value:function(){var c=this.options.value;if(typeof c!=="number"){c=0}return Math.min(this.options.max,Math.max(this.min,c))},_percentage:function(){return 100*this._value()/this.options.max},_refreshValue:function(){var d=this.value(),c=this._percentage();if(this.oldValue!==d){this.oldValue=d;this._trigger("change")}this.valueDiv.toggle(d>this.min).toggleClass("ui-corner-right",d===this.options.max).width(c.toFixed(0)+"%");this.element.attr("aria-valuenow",d)}})})(jQuery);(function(b,c){var a=5;b.widget("ui.slider",b.ui.mouse,{version:"1.9.2",widgetEventPrefix:"slide",options:{animate:false,distance:0,max:100,min:0,orientation:"horizontal",range:false,step:1,value:0,values:null},_create:function(){var f,d,j=this.options,h=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),g="<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>",e=[];this._keySliding=false;this._mouseSliding=false;this._animateOff=true;this._handleIndex=null;this._detectOrientation();this._mouseInit();this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all"+(j.disabled?" ui-slider-disabled ui-disabled":""));this.range=b([]);if(j.range){if(j.range===true){if(!j.values){j.values=[this._valueMin(),this._valueMin()]}if(j.values.length&&j.values.length!==2){j.values=[j.values[0],j.values[0]]}}this.range=b("<div></div>").appendTo(this.element).addClass("ui-slider-range ui-widget-header"+((j.range==="min"||j.range==="max")?" ui-slider-range-"+j.range:""))}d=(j.values&&j.values.length)||1;for(f=h.length;f<d;f++){e.push(g)}this.handles=h.add(b(e.join("")).appendTo(this.element));this.handle=this.handles.eq(0);this.handles.add(this.range).filter("a").click(function(k){k.preventDefault()}).mouseenter(function(){if(!j.disabled){b(this).addClass("ui-state-hover")}}).mouseleave(function(){b(this).removeClass("ui-state-hover")}).focus(function(){if(!j.disabled){b(".ui-slider .ui-state-focus").removeClass("ui-state-focus");b(this).addClass("ui-state-focus")}else{b(this).blur()}}).blur(function(){b(this).removeClass("ui-state-focus")});this.handles.each(function(k){b(this).data("ui-slider-handle-index",k)});this._on(this.handles,{keydown:function(o){var p,m,l,n,k=b(o.target).data("ui-slider-handle-index");switch(o.keyCode){case b.ui.keyCode.HOME:case b.ui.keyCode.END:case b.ui.keyCode.PAGE_UP:case b.ui.keyCode.PAGE_DOWN:case b.ui.keyCode.UP:case b.ui.keyCode.RIGHT:case b.ui.keyCode.DOWN:case b.ui.keyCode.LEFT:o.preventDefault();if(!this._keySliding){this._keySliding=true;b(o.target).addClass("ui-state-active");p=this._start(o,k);if(p===false){return}}break}n=this.options.step;if(this.options.values&&this.options.values.length){m=l=this.values(k)}else{m=l=this.value()}switch(o.keyCode){case b.ui.keyCode.HOME:l=this._valueMin();break;case b.ui.keyCode.END:l=this._valueMax();break;case b.ui.keyCode.PAGE_UP:l=this._trimAlignValue(m+((this._valueMax()-this._valueMin())/a));break;case b.ui.keyCode.PAGE_DOWN:l=this._trimAlignValue(m-((this._valueMax()-this._valueMin())/a));break;case b.ui.keyCode.UP:case b.ui.keyCode.RIGHT:if(m===this._valueMax()){return}l=this._trimAlignValue(m+n);break;case b.ui.keyCode.DOWN:case b.ui.keyCode.LEFT:if(m===this._valueMin()){return}l=this._trimAlignValue(m-n);break}this._slide(o,k,l)},keyup:function(l){var k=b(l.target).data("ui-slider-handle-index");if(this._keySliding){this._keySliding=false;this._stop(l,k);this._change(l,k);b(l.target).removeClass("ui-state-active")}}});this._refreshValue();this._animateOff=false},_destroy:function(){this.handles.remove();this.range.remove();this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-slider-disabled ui-widget ui-widget-content ui-corner-all");this._mouseDestroy()},_mouseCapture:function(f){var k,n,e,h,m,p,j,d,l=this,g=this.options;if(g.disabled){return false}this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()};this.elementOffset=this.element.offset();k={x:f.pageX,y:f.pageY};n=this._normValueFromMouse(k);e=this._valueMax()-this._valueMin()+1;this.handles.each(function(o){var q=Math.abs(n-l.values(o));if(e>q){e=q;h=b(this);m=o}});if(g.range===true&&this.values(1)===g.min){m+=1;h=b(this.handles[m])}p=this._start(f,m);if(p===false){return false}this._mouseSliding=true;this._handleIndex=m;h.addClass("ui-state-active").focus();j=h.offset();d=!b(f.target).parents().andSelf().is(".ui-slider-handle");this._clickOffset=d?{left:0,top:0}:{left:f.pageX-j.left-(h.width()/2),top:f.pageY-j.top-(h.height()/2)-(parseInt(h.css("borderTopWidth"),10)||0)-(parseInt(h.css("borderBottomWidth"),10)||0)+(parseInt(h.css("marginTop"),10)||0)};if(!this.handles.hasClass("ui-state-hover")){this._slide(f,m,n)}this._animateOff=true;return true},_mouseStart:function(){return true},_mouseDrag:function(f){var d={x:f.pageX,y:f.pageY},e=this._normValueFromMouse(d);this._slide(f,this._handleIndex,e);return false},_mouseStop:function(d){this.handles.removeClass("ui-state-active");this._mouseSliding=false;this._stop(d,this._handleIndex);this._change(d,this._handleIndex);this._handleIndex=null;this._clickOffset=null;this._animateOff=false;return false},_detectOrientation:function(){this.orientation=(this.options.orientation==="vertical")?"vertical":"horizontal"},_normValueFromMouse:function(e){var d,h,g,f,j;if(this.orientation==="horizontal"){d=this.elementSize.width;h=e.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)}else{d=this.elementSize.height;h=e.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)}g=(h/d);if(g>1){g=1}if(g<0){g=0}if(this.orientation==="vertical"){g=1-g}f=this._valueMax()-this._valueMin();j=this._valueMin()+g*f;return this._trimAlignValue(j)},_start:function(f,e){var d={handle:this.handles[e],value:this.value()};if(this.options.values&&this.options.values.length){d.value=this.values(e);d.values=this.values()}return this._trigger("start",f,d)},_slide:function(h,g,f){var d,e,j;if(this.options.values&&this.options.values.length){d=this.values(g?0:1);if((this.options.values.length===2&&this.options.range===true)&&((g===0&&f>d)||(g===1&&f<d))){f=d}if(f!==this.values(g)){e=this.values();e[g]=f;j=this._trigger("slide",h,{handle:this.handles[g],value:f,values:e});d=this.values(g?0:1);if(j!==false){this.values(g,f,true)}}}else{if(f!==this.value()){j=this._trigger("slide",h,{handle:this.handles[g],value:f});if(j!==false){this.value(f)}}}},_stop:function(f,e){var d={handle:this.handles[e],value:this.value()};if(this.options.values&&this.options.values.length){d.value=this.values(e);d.values=this.values()}this._trigger("stop",f,d)},_change:function(f,e){if(!this._keySliding&&!this._mouseSliding){var d={handle:this.handles[e],value:this.value()};if(this.options.values&&this.options.values.length){d.value=this.values(e);d.values=this.values()}this._trigger("change",f,d)}},value:function(d){if(arguments.length){this.options.value=this._trimAlignValue(d);this._refreshValue();this._change(null,0);return}return this._value()},values:function(e,h){var g,d,f;if(arguments.length>1){this.options.values[e]=this._trimAlignValue(h);this._refreshValue();this._change(null,e);return}if(arguments.length){if(b.isArray(arguments[0])){g=this.options.values;d=arguments[0];for(f=0;f<g.length;f+=1){g[f]=this._trimAlignValue(d[f]);this._change(null,f)}this._refreshValue()}else{if(this.options.values&&this.options.values.length){return this._values(e)}else{return this.value()}}}else{return this._values()}},_setOption:function(e,f){var d,g=0;if(b.isArray(this.options.values)){g=this.options.values.length}b.Widget.prototype._setOption.apply(this,arguments);switch(e){case"disabled":if(f){this.handles.filter(".ui-state-focus").blur();this.handles.removeClass("ui-state-hover");this.handles.prop("disabled",true);this.element.addClass("ui-disabled")}else{this.handles.prop("disabled",false);this.element.removeClass("ui-disabled")}break;case"orientation":this._detectOrientation();this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation);this._refreshValue();break;case"value":this._animateOff=true;this._refreshValue();this._change(null,0);this._animateOff=false;break;case"values":this._animateOff=true;this._refreshValue();for(d=0;d<g;d+=1){this._change(null,d)}this._animateOff=false;break;case"min":case"max":this._animateOff=true;this._refreshValue();this._animateOff=false;break}},_value:function(){var d=this.options.value;d=this._trimAlignValue(d);return d},_values:function(d){var g,f,e;if(arguments.length){g=this.options.values[d];g=this._trimAlignValue(g);return g}else{f=this.options.values.slice();for(e=0;e<f.length;e+=1){f[e]=this._trimAlignValue(f[e])}return f}},_trimAlignValue:function(g){if(g<=this._valueMin()){return this._valueMin()}if(g>=this._valueMax()){return this._valueMax()}var d=(this.options.step>0)?this.options.step:1,f=(g-this._valueMin())%d,e=g-f;if(Math.abs(f)*2>=d){e+=(f>0)?d:(-d)}return parseFloat(e.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var j,h,m,k,n,g=this.options.range,f=this.options,l=this,e=(!this._animateOff)?f.animate:false,d={};if(this.options.values&&this.options.values.length){this.handles.each(function(o){h=(l.values(o)-l._valueMin())/(l._valueMax()-l._valueMin())*100;d[l.orientation==="horizontal"?"left":"bottom"]=h+"%";b(this).stop(1,1)[e?"animate":"css"](d,f.animate);if(l.options.range===true){if(l.orientation==="horizontal"){if(o===0){l.range.stop(1,1)[e?"animate":"css"]({left:h+"%"},f.animate)}if(o===1){l.range[e?"animate":"css"]({width:(h-j)+"%"},{queue:false,duration:f.animate})}}else{if(o===0){l.range.stop(1,1)[e?"animate":"css"]({bottom:(h)+"%"},f.animate)}if(o===1){l.range[e?"animate":"css"]({height:(h-j)+"%"},{queue:false,duration:f.animate})}}}j=h})}else{m=this.value();k=this._valueMin();n=this._valueMax();h=(n!==k)?(m-k)/(n-k)*100:0;d[this.orientation==="horizontal"?"left":"bottom"]=h+"%";this.handle.stop(1,1)[e?"animate":"css"](d,f.animate);if(g==="min"&&this.orientation==="horizontal"){this.range.stop(1,1)[e?"animate":"css"]({width:h+"%"},f.animate)}if(g==="max"&&this.orientation==="horizontal"){this.range[e?"animate":"css"]({width:(100-h)+"%"},{queue:false,duration:f.animate})}if(g==="min"&&this.orientation==="vertical"){this.range.stop(1,1)[e?"animate":"css"]({height:h+"%"},f.animate)}if(g==="max"&&this.orientation==="vertical"){this.range[e?"animate":"css"]({height:(100-h)+"%"},{queue:false,duration:f.animate})}}}})}(jQuery));(function(b){function a(c){return function(){var d=this.element.val();c.apply(this,arguments);this._refresh();if(d!==this.element.val()){this._trigger("change")}}}b.widget("ui.spinner",{version:"1.9.2",defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:true,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max);this._setOption("min",this.options.min);this._setOption("step",this.options.step);this._value(this.element.val(),true);this._draw();this._on(this._events);this._refresh();this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var c={},d=this.element;b.each(["min","max","step"],function(e,f){var g=d.attr(f);if(g!==undefined&&g.length){c[f]=g}});return c},_events:{keydown:function(c){if(this._start(c)&&this._keydown(c)){c.preventDefault()}},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(c){if(this.cancelBlur){delete this.cancelBlur;return}this._refresh();if(this.previous!==this.element.val()){this._trigger("change",c)}},mousewheel:function(c,d){if(!d){return}if(!this.spinning&&!this._start(c)){return false}this._spin((d>0?1:-1)*this.options.step,c);clearTimeout(this.mousewheelTimer);this.mousewheelTimer=this._delay(function(){if(this.spinning){this._stop(c)}},100);c.preventDefault()},"mousedown .ui-spinner-button":function(d){var c;c=this.element[0]===this.document[0].activeElement?this.previous:this.element.val();function e(){var f=this.element[0]===this.document[0].activeElement;if(!f){this.element.focus();this.previous=c;this._delay(function(){this.previous=c})}}d.preventDefault();e.call(this);this.cancelBlur=true;this._delay(function(){delete this.cancelBlur;e.call(this)});if(this._start(d)===false){return}this._repeat(null,b(d.currentTarget).hasClass("ui-spinner-up")?1:-1,d)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(c){if(!b(c.currentTarget).hasClass("ui-state-active")){return}if(this._start(c)===false){return false}this._repeat(null,b(c.currentTarget).hasClass("ui-spinner-up")?1:-1,c)},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var c=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role","spinbutton");this.buttons=c.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all");if(this.buttons.height()>Math.ceil(c.height()*0.5)&&c.height()>0){c.height(c.height())}if(this.options.disabled){this.disable()}},_keydown:function(d){var c=this.options,e=b.ui.keyCode;switch(d.keyCode){case e.UP:this._repeat(null,1,d);return true;case e.DOWN:this._repeat(null,-1,d);return true;case e.PAGE_UP:this._repeat(null,c.page,d);return true;case e.PAGE_DOWN:this._repeat(null,-c.page,d);return true}return false},_uiSpinnerHtml:function(){return"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>"},_buttonHtml:function(){return"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon "+this.options.icons.up+"'>&#9650;</span></a><a class='ui-spinner-button ui-spinner-down ui-corner-br'><span class='ui-icon "+this.options.icons.down+"'>&#9660;</span></a>"},_start:function(c){if(!this.spinning&&this._trigger("start",c)===false){return false}if(!this.counter){this.counter=1}this.spinning=true;return true},_repeat:function(d,c,e){d=d||500;clearTimeout(this.timer);this.timer=this._delay(function(){this._repeat(40,c,e)},d);this._spin(c*this.options.step,e)},_spin:function(d,c){var e=this.value()||0;if(!this.counter){this.counter=1}e=this._adjustValue(e+d*this._increment(this.counter));if(!this.spinning||this._trigger("spin",c,{value:e})!==false){this._value(e);this.counter++}},_increment:function(c){var d=this.options.incremental;if(d){return b.isFunction(d)?d(c):Math.floor(c*c*c/50000-c*c/500+17*c/200+1)}return 1},_precision:function(){var c=this._precisionOf(this.options.step);if(this.options.min!==null){c=Math.max(c,this._precisionOf(this.options.min))}return c},_precisionOf:function(d){var e=d.toString(),c=e.indexOf(".");return c===-1?0:e.length-c-1},_adjustValue:function(e){var d,f,c=this.options;d=c.min!==null?c.min:0;f=e-d;f=Math.round(f/c.step)*c.step;e=d+f;e=parseFloat(e.toFixed(this._precision()));if(c.max!==null&&e>c.max){return c.max}if(c.min!==null&&e<c.min){return c.min}return e},_stop:function(c){if(!this.spinning){return}clearTimeout(this.timer);clearTimeout(this.mousewheelTimer);this.counter=0;this.spinning=false;this._trigger("stop",c)},_setOption:function(c,d){if(c==="culture"||c==="numberFormat"){var e=this._parse(this.element.val());this.options[c]=d;this.element.val(this._format(e));return}if(c==="max"||c==="min"||c==="step"){if(typeof d==="string"){d=this._parse(d)}}this._super(c,d);if(c==="disabled"){if(d){this.element.prop("disabled",true);this.buttons.button("disable")}else{this.element.prop("disabled",false);this.buttons.button("enable")}}},_setOptions:a(function(c){this._super(c);this._value(this.element.val())}),_parse:function(c){if(typeof c==="string"&&c!==""){c=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(c,10,this.options.culture):+c}return c===""||isNaN(c)?null:c},_format:function(c){if(c===""){return""}return window.Globalize&&this.options.numberFormat?Globalize.format(c,this.options.numberFormat,this.options.culture):c},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},_value:function(e,c){var d;if(e!==""){d=this._parse(e);if(d!==null){if(!c){d=this._adjustValue(d)}e=this._format(d)}}this.element.val(e);this._refresh()},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",false).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow");this.uiSpinner.replaceWith(this.element)},stepUp:a(function(c){this._stepUp(c)}),_stepUp:function(c){this._spin((c||1)*this.options.step)},stepDown:a(function(c){this._stepDown(c)}),_stepDown:function(c){this._spin((c||1)*-this.options.step)},pageUp:a(function(c){this._stepUp((c||1)*this.options.page)}),pageDown:a(function(c){this._stepDown((c||1)*this.options.page)}),value:function(c){if(!arguments.length){return this._parse(this.element.val())}a(this._value).call(this,c)},widget:function(){return this.uiSpinner}})}(jQuery));(function(c,e){var a=0,f=/#.*$/;function d(){return ++a}function b(g){return g.hash.length>1&&g.href.replace(f,"")===location.href.replace(f,"").replace(/\s/g,"%20")}c.widget("ui.tabs",{version:"1.9.2",delay:300,options:{active:null,collapsible:false,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_create:function(){var h=this,g=this.options,j=g.active,k=location.hash.substring(1);this.running=false;this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",g.collapsible).delegate(".ui-tabs-nav > li","mousedown"+this.eventNamespace,function(l){if(c(this).is(".ui-state-disabled")){l.preventDefault()}}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){if(c(this).closest("li").is(".ui-state-disabled")){this.blur()}});this._processTabs();if(j===null){if(k){this.tabs.each(function(l,m){if(c(m).attr("aria-controls")===k){j=l;return false}})}if(j===null){j=this.tabs.index(this.tabs.filter(".ui-tabs-active"))}if(j===null||j===-1){j=this.tabs.length?0:false}}if(j!==false){j=this.tabs.index(this.tabs.eq(j));if(j===-1){j=g.collapsible?false:0}}g.active=j;if(!g.collapsible&&g.active===false&&this.anchors.length){g.active=0}if(c.isArray(g.disabled)){g.disabled=c.unique(g.disabled.concat(c.map(this.tabs.filter(".ui-state-disabled"),function(l){return h.tabs.index(l)}))).sort()}if(this.options.active!==false&&this.anchors.length){this.active=this._findActive(this.options.active)}else{this.active=c()}this._refresh();if(this.active.length){this.load(g.active)}},_getCreateEventData:function(){return{tab:this.active,panel:!this.active.length?c():this._getPanelForTab(this.active)}},_tabKeydown:function(j){var h=c(this.document[0].activeElement).closest("li"),g=this.tabs.index(h),k=true;if(this._handlePageNav(j)){return}switch(j.keyCode){case c.ui.keyCode.RIGHT:case c.ui.keyCode.DOWN:g++;break;case c.ui.keyCode.UP:case c.ui.keyCode.LEFT:k=false;g--;break;case c.ui.keyCode.END:g=this.anchors.length-1;break;case c.ui.keyCode.HOME:g=0;break;case c.ui.keyCode.SPACE:j.preventDefault();clearTimeout(this.activating);this._activate(g);return;case c.ui.keyCode.ENTER:j.preventDefault();clearTimeout(this.activating);this._activate(g===this.options.active?false:g);return;default:return}j.preventDefault();clearTimeout(this.activating);g=this._focusNextTab(g,k);if(!j.ctrlKey){h.attr("aria-selected","false");this.tabs.eq(g).attr("aria-selected","true");this.activating=this._delay(function(){this.option("active",g)},this.delay)}},_panelKeydown:function(g){if(this._handlePageNav(g)){return}if(g.ctrlKey&&g.keyCode===c.ui.keyCode.UP){g.preventDefault();this.active.focus()}},_handlePageNav:function(g){if(g.altKey&&g.keyCode===c.ui.keyCode.PAGE_UP){this._activate(this._focusNextTab(this.options.active-1,false));return true}if(g.altKey&&g.keyCode===c.ui.keyCode.PAGE_DOWN){this._activate(this._focusNextTab(this.options.active+1,true));return true}},_findNextTab:function(h,j){var g=this.tabs.length-1;function k(){if(h>g){h=0}if(h<0){h=g}return h}while(c.inArray(k(),this.options.disabled)!==-1){h=j?h+1:h-1}return h},_focusNextTab:function(g,h){g=this._findNextTab(g,h);this.tabs.eq(g).focus();return g},_setOption:function(g,h){if(g==="active"){this._activate(h);return}if(g==="disabled"){this._setupDisabled(h);return}this._super(g,h);if(g==="collapsible"){this.element.toggleClass("ui-tabs-collapsible",h);if(!h&&this.options.active===false){this._activate(0)}}if(g==="event"){this._setupEvents(h)}if(g==="heightStyle"){this._setupHeightStyle(h)}},_tabId:function(g){return g.attr("aria-controls")||"ui-tabs-"+d()},_sanitizeSelector:function(g){return g?g.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var h=this.options,g=this.tablist.children(":has(a[href])");h.disabled=c.map(g.filter(".ui-state-disabled"),function(j){return g.index(j)});this._processTabs();if(h.active===false||!this.anchors.length){h.active=false;this.active=c()}else{if(this.active.length&&!c.contains(this.tablist[0],this.active[0])){if(this.tabs.length===h.disabled.length){h.active=false;this.active=c()}else{this._activate(this._findNextTab(Math.max(0,h.active-1),false))}}else{h.active=this.tabs.index(this.active)}}this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled);this._setupEvents(this.options.event);this._setupHeightStyle(this.options.heightStyle);this.tabs.not(this.active).attr({"aria-selected":"false",tabIndex:-1});this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-expanded":"false","aria-hidden":"true"});if(!this.active.length){this.tabs.eq(0).attr("tabIndex",0)}else{this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true",tabIndex:0});this._getPanelForTab(this.active).show().attr({"aria-expanded":"true","aria-hidden":"false"})}},_processTabs:function(){var g=this;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist");this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1});this.anchors=this.tabs.map(function(){return c("a",this)[0]}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1});this.panels=c();this.anchors.each(function(n,l){var h,j,m,k=c(l).uniqueId().attr("id"),o=c(l).closest("li"),p=o.attr("aria-controls");if(b(l)){h=l.hash;j=g.element.find(g._sanitizeSelector(h))}else{m=g._tabId(o);h="#"+m;j=g.element.find(h);if(!j.length){j=g._createPanel(m);j.insertAfter(g.panels[n-1]||g.tablist)}j.attr("aria-live","polite")}if(j.length){g.panels=g.panels.add(j)}if(p){o.data("ui-tabs-aria-controls",p)}o.attr({"aria-controls":h.substring(1),"aria-labelledby":k});j.attr("aria-labelledby",k)});this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role","tabpanel")},_getList:function(){return this.element.find("ol,ul").eq(0)},_createPanel:function(g){return c("<div>").attr("id",g).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",true)},_setupDisabled:function(j){if(c.isArray(j)){if(!j.length){j=false}else{if(j.length===this.anchors.length){j=true}}}for(var h=0,g;(g=this.tabs[h]);h++){if(j===true||c.inArray(h,j)!==-1){c(g).addClass("ui-state-disabled").attr("aria-disabled","true")}else{c(g).removeClass("ui-state-disabled").removeAttr("aria-disabled")}}this.options.disabled=j},_setupEvents:function(h){var g={click:function(j){j.preventDefault()}};if(h){c.each(h.split(" "),function(k,j){g[j]="_eventHandler"})}this._off(this.anchors.add(this.tabs).add(this.panels));this._on(this.anchors,g);this._on(this.tabs,{keydown:"_tabKeydown"});this._on(this.panels,{keydown:"_panelKeydown"});this._focusable(this.tabs);this._hoverable(this.tabs)},_setupHeightStyle:function(g){var j,k,h=this.element.parent();if(g==="fill"){if(!c.support.minHeight){k=h.css("overflow");h.css("overflow","hidden")}j=h.height();this.element.siblings(":visible").each(function(){var m=c(this),l=m.css("position");if(l==="absolute"||l==="fixed"){return}j-=m.outerHeight(true)});if(k){h.css("overflow",k)}this.element.children().not(this.panels).each(function(){j-=c(this).outerHeight(true)});this.panels.each(function(){c(this).height(Math.max(0,j-c(this).innerHeight()+c(this).height()))}).css("overflow","auto")}else{if(g==="auto"){j=0;this.panels.each(function(){j=Math.max(j,c(this).height("").height())}).height(j)}}},_eventHandler:function(g){var q=this.options,l=this.active,m=c(g.currentTarget),k=m.closest("li"),o=k[0]===l[0],h=o&&q.collapsible,j=h?c():this._getPanelForTab(k),n=!l.length?c():this._getPanelForTab(l),p={oldTab:l,oldPanel:n,newTab:h?c():k,newPanel:j};g.preventDefault();if(k.hasClass("ui-state-disabled")||k.hasClass("ui-tabs-loading")||this.running||(o&&!q.collapsible)||(this._trigger("beforeActivate",g,p)===false)){return}q.active=h?false:this.tabs.index(k);this.active=o?c():k;if(this.xhr){this.xhr.abort()}if(!n.length&&!j.length){c.error("jQuery UI Tabs: Mismatching fragment identifier.")}if(j.length){this.load(this.tabs.index(k),g)}this._toggle(g,p)},_toggle:function(n,m){var l=this,g=m.newPanel,k=m.oldPanel;this.running=true;function j(){l.running=false;l._trigger("activate",n,m)}function h(){m.newTab.closest("li").addClass("ui-tabs-active ui-state-active");if(g.length&&l.options.show){l._show(g,l.options.show,j)}else{g.show();j()}}if(k.length&&this.options.hide){this._hide(k,this.options.hide,function(){m.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active");h()})}else{m.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active");k.hide();h()}k.attr({"aria-expanded":"false","aria-hidden":"true"});m.oldTab.attr("aria-selected","false");if(g.length&&k.length){m.oldTab.attr("tabIndex",-1)}else{if(g.length){this.tabs.filter(function(){return c(this).attr("tabIndex")===0}).attr("tabIndex",-1)}}g.attr({"aria-expanded":"true","aria-hidden":"false"});m.newTab.attr({"aria-selected":"true",tabIndex:0})},_activate:function(h){var g,j=this._findActive(h);if(j[0]===this.active[0]){return}if(!j.length){j=this.active}g=j.find(".ui-tabs-anchor")[0];this._eventHandler({target:g,currentTarget:g,preventDefault:c.noop})},_findActive:function(g){return g===false?c():this.tabs.eq(g)},_getIndex:function(g){if(typeof g==="string"){g=this.anchors.index(this.anchors.filter("[href$='"+g+"']"))}return g},_destroy:function(){if(this.xhr){this.xhr.abort()}this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible");this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role");this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeData("href.tabs").removeData("load.tabs").removeUniqueId();this.tabs.add(this.panels).each(function(){if(c.data(this,"ui-tabs-destroy")){c(this).remove()}else{c(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")}});this.tabs.each(function(){var g=c(this),h=g.data("ui-tabs-aria-controls");if(h){g.attr("aria-controls",h)}else{g.removeAttr("aria-controls")}});this.panels.show();if(this.options.heightStyle!=="content"){this.panels.css("height","")}},enable:function(g){var h=this.options.disabled;if(h===false){return}if(g===e){h=false}else{g=this._getIndex(g);if(c.isArray(h)){h=c.map(h,function(j){return j!==g?j:null})}else{h=c.map(this.tabs,function(j,k){return k!==g?k:null})}}this._setupDisabled(h)},disable:function(g){var h=this.options.disabled;if(h===true){return}if(g===e){h=true}else{g=this._getIndex(g);if(c.inArray(g,h)!==-1){return}if(c.isArray(h)){h=c.merge([g],h).sort()}else{h=[g]}}this._setupDisabled(h)},load:function(j,n){j=this._getIndex(j);var m=this,k=this.tabs.eq(j),h=k.find(".ui-tabs-anchor"),g=this._getPanelForTab(k),l={tab:k,panel:g};if(b(h[0])){return}this.xhr=c.ajax(this._ajaxSettings(h,n,l));if(this.xhr&&this.xhr.statusText!=="canceled"){k.addClass("ui-tabs-loading");g.attr("aria-busy","true");this.xhr.success(function(o){setTimeout(function(){g.html(o);m._trigger("load",n,l)},1)}).complete(function(p,o){setTimeout(function(){if(o==="abort"){m.panels.stop(false,true)}k.removeClass("ui-tabs-loading");g.removeAttr("aria-busy");if(p===m.xhr){delete m.xhr}},1)})}},_ajaxSettings:function(g,k,j){var h=this;return{url:g.attr("href"),beforeSend:function(m,l){return h._trigger("beforeLoad",k,c.extend({jqXHR:m,ajaxSettings:l},j))}}},_getPanelForTab:function(g){var h=c(g).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+h))}});if(c.uiBackCompat!==false){c.ui.tabs.prototype._ui=function(h,g){return{tab:h,panel:g,index:this.anchors.index(h)}};c.widget("ui.tabs",c.ui.tabs,{url:function(h,g){this.anchors.eq(h).attr("href",g)}});c.widget("ui.tabs",c.ui.tabs,{options:{ajaxOptions:null,cache:false},_create:function(){this._super();var g=this;this._on({tabsbeforeload:function(h,j){if(c.data(j.tab[0],"cache.tabs")){h.preventDefault();return}j.jqXHR.success(function(){if(g.options.cache){c.data(j.tab[0],"cache.tabs",true)}})}})},_ajaxSettings:function(h,j,k){var g=this.options.ajaxOptions;return c.extend({},g,{error:function(n,l){try{g.error(n,l,k.tab.closest("li").index(),k.tab[0])}catch(m){}}},this._superApply(arguments))},_setOption:function(g,h){if(g==="cache"&&h===false){this.anchors.removeData("cache.tabs")}this._super(g,h)},_destroy:function(){this.anchors.removeData("cache.tabs");this._super()},url:function(g){this.anchors.eq(g).removeData("cache.tabs");this._superApply(arguments)}});c.widget("ui.tabs",c.ui.tabs,{abort:function(){if(this.xhr){this.xhr.abort()}}});c.widget("ui.tabs",c.ui.tabs,{options:{spinner:"<em>Loading&#8230;</em>"},_create:function(){this._super();this._on({tabsbeforeload:function(j,k){if(j.target!==this.element[0]||!this.options.spinner){return}var h=k.tab.find("span"),g=h.html();h.html(this.options.spinner);k.jqXHR.complete(function(){h.html(g)})}})}});c.widget("ui.tabs",c.ui.tabs,{options:{enable:null,disable:null},enable:function(j){var h=this.options,g;if(j&&h.disabled===true||(c.isArray(h.disabled)&&c.inArray(j,h.disabled)!==-1)){g=true}this._superApply(arguments);if(g){this._trigger("enable",null,this._ui(this.anchors[j],this.panels[j]))}},disable:function(j){var h=this.options,g;if(j&&h.disabled===false||(c.isArray(h.disabled)&&c.inArray(j,h.disabled)===-1)){g=true}this._superApply(arguments);if(g){this._trigger("disable",null,this._ui(this.anchors[j],this.panels[j]))}}});c.widget("ui.tabs",c.ui.tabs,{options:{add:null,remove:null,tabTemplate:"<li><a href='#{href}'><span>#{label}</span></a></li>"},add:function(m,l,k){if(k===e){k=this.anchors.length}var n,h,j=this.options,g=c(j.tabTemplate.replace(/#\{href\}/g,m).replace(/#\{label\}/g,l)),o=!m.indexOf("#")?m.replace("#",""):this._tabId(g);g.addClass("ui-state-default ui-corner-top").data("ui-tabs-destroy",true);g.attr("aria-controls",o);n=k>=this.tabs.length;h=this.element.find("#"+o);if(!h.length){h=this._createPanel(o);if(n){if(k>0){h.insertAfter(this.panels.eq(-1))}else{h.appendTo(this.element)}}else{h.insertBefore(this.panels[k])}}h.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").hide();if(n){g.appendTo(this.tablist)}else{g.insertBefore(this.tabs[k])}j.disabled=c.map(j.disabled,function(p){return p>=k?++p:p});this.refresh();if(this.tabs.length===1&&j.active===false){this.option("active",0)}this._trigger("add",null,this._ui(this.anchors[k],this.panels[k]));return this},remove:function(j){j=this._getIndex(j);var h=this.options,k=this.tabs.eq(j).remove(),g=this._getPanelForTab(k).remove();if(k.hasClass("ui-tabs-active")&&this.anchors.length>2){this._activate(j+(j+1<this.anchors.length?1:-1))}h.disabled=c.map(c.grep(h.disabled,function(l){return l!==j}),function(l){return l>=j?--l:l});this.refresh();this._trigger("remove",null,this._ui(k.find("a")[0],g[0]));return this}});c.widget("ui.tabs",c.ui.tabs,{length:function(){return this.anchors.length}});c.widget("ui.tabs",c.ui.tabs,{options:{idPrefix:"ui-tabs-"},_tabId:function(h){var g=h.is("li")?h.find("a[href]"):h;g=g[0];return c(g).closest("li").attr("aria-controls")||g.title&&g.title.replace(/\s/g,"_").replace(/[^\w\u00c0-\uFFFF\-]/g,"")||this.options.idPrefix+d()}});c.widget("ui.tabs",c.ui.tabs,{options:{panelTemplate:"<div></div>"},_createPanel:function(g){return c(this.options.panelTemplate).attr("id",g).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",true)}});c.widget("ui.tabs",c.ui.tabs,{_create:function(){var g=this.options;if(g.active===null&&g.selected!==e){g.active=g.selected===-1?false:g.selected}this._super();g.selected=g.active;if(g.selected===false){g.selected=-1}},_setOption:function(h,j){if(h!=="selected"){return this._super(h,j)}var g=this.options;this._super("active",j===-1?false:j);g.selected=g.active;if(g.selected===false){g.selected=-1}},_eventHandler:function(){this._superApply(arguments);this.options.selected=this.options.active;if(this.options.selected===false){this.options.selected=-1}}});c.widget("ui.tabs",c.ui.tabs,{options:{show:null,select:null},_create:function(){this._super();if(this.options.active!==false){this._trigger("show",null,this._ui(this.active.find(".ui-tabs-anchor")[0],this._getPanelForTab(this.active)[0]))}},_trigger:function(k,l,m){var j,g,h=this._superApply(arguments);if(!h){return false}if(k==="beforeActivate"){j=m.newTab.length?m.newTab:m.oldTab;g=m.newPanel.length?m.newPanel:m.oldPanel;h=this._super("select",l,{tab:j.find(".ui-tabs-anchor")[0],panel:g[0],index:j.closest("li").index()})}else{if(k==="activate"&&m.newTab.length){h=this._super("show",l,{tab:m.newTab.find(".ui-tabs-anchor")[0],panel:m.newPanel[0],index:m.newTab.closest("li").index()})}}return h}});c.widget("ui.tabs",c.ui.tabs,{select:function(g){g=this._getIndex(g);if(g===-1){if(this.options.collapsible&&this.options.selected!==-1){g=this.options.selected}else{return}}this.anchors.eq(g).trigger(this.options.event+this.eventNamespace)}});(function(){var g=0;c.widget("ui.tabs",c.ui.tabs,{options:{cookie:null},_create:function(){var h=this.options,j;if(h.active==null&&h.cookie){j=parseInt(this._cookie(),10);if(j===-1){j=false}h.active=j}this._super()},_cookie:function(j){var h=[this.cookie||(this.cookie=this.options.cookie.name||"ui-tabs-"+(++g))];if(arguments.length){h.push(j===false?-1:j);h.push(this.options.cookie)}return c.cookie.apply(null,h)},_refresh:function(){this._super();if(this.options.cookie){this._cookie(this.options.active,this.options.cookie)}},_eventHandler:function(){this._superApply(arguments);if(this.options.cookie){this._cookie(this.options.active,this.options.cookie)}},_destroy:function(){this._super();if(this.options.cookie){this._cookie(null,this.options.cookie)}}})})();c.widget("ui.tabs",c.ui.tabs,{_trigger:function(h,j,k){var g=c.extend({},k);if(h==="load"){g.panel=g.panel[0];g.tab=g.tab.find(".ui-tabs-anchor")[0]}return this._super(h,j,g)}});c.widget("ui.tabs",c.ui.tabs,{options:{fx:null},_getFx:function(){var h,g,j=this.options.fx;if(j){if(c.isArray(j)){h=j[0];g=j[1]}else{h=g=j}}return j?{show:g,hide:h}:null},_toggle:function(o,n){var m=this,g=n.newPanel,k=n.oldPanel,l=this._getFx();if(!l){return this._super(o,n)}m.running=true;function j(){m.running=false;m._trigger("activate",o,n)}function h(){n.newTab.closest("li").addClass("ui-tabs-active ui-state-active");if(g.length&&l.show){g.animate(l.show,l.show.duration,function(){j()})}else{g.show();j()}}if(k.length&&l.hide){k.animate(l.hide,l.hide.duration,function(){n.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active");h()})}else{n.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active");k.hide();h()}}})}})(jQuery);(function(d){var b=0;function c(f,g){var e=(f.attr("aria-describedby")||"").split(/\s+/);e.push(g);f.data("ui-tooltip-id",g).attr("aria-describedby",d.trim(e.join(" ")))}function a(g){var h=g.data("ui-tooltip-id"),f=(g.attr("aria-describedby")||"").split(/\s+/),e=d.inArray(h,f);if(e!==-1){f.splice(e,1)}g.removeData("ui-tooltip-id");f=d.trim(f.join(" "));if(f){g.attr("aria-describedby",f)}else{g.removeAttr("aria-describedby")}}d.widget("ui.tooltip",{version:"1.9.2",options:{content:function(){return d(this).attr("title")},hide:true,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:true,tooltipClass:null,track:false,close:null,open:null},_create:function(){this._on({mouseover:"open",focusin:"open"});this.tooltips={};this.parents={};if(this.options.disabled){this._disable()}},_setOption:function(e,g){var f=this;if(e==="disabled"){this[g?"_disable":"_enable"]();this.options[e]=g;return}this._super(e,g);if(e==="content"){d.each(this.tooltips,function(j,h){f._updateContent(h)})}},_disable:function(){var e=this;d.each(this.tooltips,function(h,f){var g=d.Event("blur");g.target=g.currentTarget=f[0];e.close(g,true)});this.element.find(this.options.items).andSelf().each(function(){var f=d(this);if(f.is("[title]")){f.data("ui-tooltip-title",f.attr("title")).attr("title","")}})},_enable:function(){this.element.find(this.options.items).andSelf().each(function(){var e=d(this);if(e.data("ui-tooltip-title")){e.attr("title",e.data("ui-tooltip-title"))}})},open:function(f){var e=this,g=d(f?f.target:this.element).closest(this.options.items);if(!g.length||g.data("ui-tooltip-id")){return}if(g.attr("title")){g.data("ui-tooltip-title",g.attr("title"))}g.data("ui-tooltip-open",true);if(f&&f.type==="mouseover"){g.parents().each(function(){var j=d(this),h;if(j.data("ui-tooltip-open")){h=d.Event("blur");h.target=h.currentTarget=this;e.close(h,true)}if(j.attr("title")){j.uniqueId();e.parents[this.id]={element:this,title:j.attr("title")};j.attr("title","")}})}this._updateContent(g,f)},_updateContent:function(k,j){var h,e=this.options.content,g=this,f=j?j.type:null;if(typeof e==="string"){return this._open(j,k,e)}h=e.call(k[0],function(l){if(!k.data("ui-tooltip-open")){return}g._delay(function(){if(j){j.type=f}this._open(j,k,l)})});if(h){this._open(j,k,h)}},_open:function(j,l,h){var k,g,f,m=d.extend({},this.options.position);if(!h){return}k=this._find(l);if(k.length){k.find(".ui-tooltip-content").html(h);return}if(l.is("[title]")){if(j&&j.type==="mouseover"){l.attr("title","")}else{l.removeAttr("title")}}k=this._tooltip(l);c(l,k.attr("id"));k.find(".ui-tooltip-content").html(h);function e(n){m.of=n;if(k.is(":hidden")){return}k.position(m)}if(this.options.track&&j&&/^mouse/.test(j.type)){this._on(this.document,{mousemove:e});e(j)}else{k.position(d.extend({of:l},this.options.position))}k.hide();this._show(k,this.options.show);if(this.options.show&&this.options.show.delay){f=setInterval(function(){if(k.is(":visible")){e(m.of);clearInterval(f)}},d.fx.interval)}this._trigger("open",j,{tooltip:k});g={keyup:function(n){if(n.keyCode===d.ui.keyCode.ESCAPE){var o=d.Event(n);o.currentTarget=l[0];this.close(o,true)}},remove:function(){this._removeTooltip(k)}};if(!j||j.type==="mouseover"){g.mouseleave="close"}if(!j||j.type==="focusin"){g.focusout="close"}this._on(true,l,g)},close:function(f){var e=this,h=d(f?f.currentTarget:this.element),g=this._find(h);if(this.closing){return}if(h.data("ui-tooltip-title")){h.attr("title",h.data("ui-tooltip-title"))}a(h);g.stop(true);this._hide(g,this.options.hide,function(){e._removeTooltip(d(this))});h.removeData("ui-tooltip-open");this._off(h,"mouseleave focusout keyup");if(h[0]!==this.element[0]){this._off(h,"remove")}this._off(this.document,"mousemove");if(f&&f.type==="mouseleave"){d.each(this.parents,function(k,j){d(j.element).attr("title",j.title);delete e.parents[k]})}this.closing=true;this._trigger("close",f,{tooltip:g});this.closing=false},_tooltip:function(e){var g="ui-tooltip-"+b++,f=d("<div>").attr({id:g,role:"tooltip"}).addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+(this.options.tooltipClass||""));d("<div>").addClass("ui-tooltip-content").appendTo(f);f.appendTo(this.document[0].body);if(d.fn.bgiframe){f.bgiframe()}this.tooltips[g]=e;return f},_find:function(e){var f=e.data("ui-tooltip-id");return f?d("#"+f):d()},_removeTooltip:function(e){e.remove();delete this.tooltips[e.attr("id")]},_destroy:function(){var e=this;d.each(this.tooltips,function(h,f){var g=d.Event("blur");g.target=g.currentTarget=f[0];e.close(g,true);d("#"+h).remove();if(f.data("ui-tooltip-title")){f.attr("title",f.data("ui-tooltip-title"));f.removeData("ui-tooltip-title")}})}})}(jQuery));(jQuery.effects||(function(b,d){var a=b.uiBackCompat!==false,c="ui-effects-";b.effects={effect:{}};
/*
 * jQuery Color Animations v2.0.0
 * http://jquery.com/
 *
 * Copyright 2012 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * Date: Mon Aug 13 13:41:02 2012 -0500
 */
(function(t,h){var p="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor".split(" "),m=/^([\-+])=\s*(\d+\.?\d*)/,l=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(u){return[u[1],u[2],u[3],u[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(u){return[u[1]*2.55,u[2]*2.55,u[3]*2.55,u[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(u){return[parseInt(u[1],16),parseInt(u[2],16),parseInt(u[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(u){return[parseInt(u[1]+u[1],16),parseInt(u[2]+u[2],16),parseInt(u[3]+u[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(u){return[u[1],u[2]/100,u[3]/100,u[4]]}}],j=t.Color=function(v,w,u,x){return new t.Color.fn.parse(v,w,u,x)},o={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},s={"byte":{floor:true,max:255},percent:{max:1},degrees:{mod:360,floor:true}},r=j.support={},f=t("<p>")[0],e,q=t.each;f.style.cssText="background-color:rgba(1,1,1,.5)";r.rgba=f.style.backgroundColor.indexOf("rgba")>-1;q(o,function(u,v){v.cache="_"+u;v.props.alpha={idx:3,type:"percent",def:1}});function n(v,x,w){var u=s[x.type]||{};if(v==null){return(w||!x.def)?null:x.def}v=u.floor?~~v:parseFloat(v);if(isNaN(v)){return x.def}if(u.mod){return(v+u.mod)%u.mod}return 0>v?0:u.max<v?u.max:v}function k(u){var w=j(),v=w._rgba=[];u=u.toLowerCase();q(l,function(B,C){var z,A=C.re.exec(u),y=A&&C.parse(A),x=C.space||"rgba";if(y){z=w[x](y);w[o[x].cache]=z[o[x].cache];v=w._rgba=z._rgba;return false}});if(v.length){if(v.join()==="0,0,0,0"){t.extend(v,e.transparent)}return w}return e[u]}j.fn=t.extend(j.prototype,{parse:function(A,y,u,z){if(A===h){this._rgba=[null,null,null,null];return this}if(A.jquery||A.nodeType){A=t(A).css(y);y=h}var x=this,w=t.type(A),v=this._rgba=[];if(y!==h){A=[A,y,u,z];w="array"}if(w==="string"){return this.parse(k(A)||e._default)}if(w==="array"){q(o.rgba.props,function(B,C){v[C.idx]=n(A[C.idx],C)});return this}if(w==="object"){if(A instanceof j){q(o,function(B,C){if(A[C.cache]){x[C.cache]=A[C.cache].slice()}})}else{q(o,function(C,D){var B=D.cache;q(D.props,function(E,F){if(!x[B]&&D.to){if(E==="alpha"||A[E]==null){return}x[B]=D.to(x._rgba)}x[B][F.idx]=n(A[E],F,true)});if(x[B]&&b.inArray(null,x[B].slice(0,3))<0){x[B][3]=1;if(D.from){x._rgba=D.from(x[B])}}})}return this}},is:function(w){var u=j(w),x=true,v=this;q(o,function(y,A){var B,z=u[A.cache];if(z){B=v[A.cache]||A.to&&A.to(v._rgba)||[];q(A.props,function(C,D){if(z[D.idx]!=null){x=(z[D.idx]===B[D.idx]);return x}})}return x});return x},_space:function(){var u=[],v=this;q(o,function(w,x){if(v[x.cache]){u.push(w)}});return u.pop()},transition:function(v,B){var w=j(v),x=w._space(),y=o[x],z=this.alpha()===0?j("transparent"):this,A=z[y.cache]||y.to(z._rgba),u=A.slice();w=w[y.cache];q(y.props,function(F,H){var E=H.idx,D=A[E],C=w[E],G=s[H.type]||{};if(C===null){return}if(D===null){u[E]=C}else{if(G.mod){if(C-D>G.mod/2){D+=G.mod}else{if(D-C>G.mod/2){D-=G.mod}}}u[E]=n((C-D)*B+D,H)}});return this[x](u)},blend:function(x){if(this._rgba[3]===1){return this}var w=this._rgba.slice(),v=w.pop(),u=j(x)._rgba;return j(t.map(w,function(y,z){return(1-v)*u[z]+v*y}))},toRgbaString:function(){var v="rgba(",u=t.map(this._rgba,function(w,x){return w==null?(x>2?1:0):w});if(u[3]===1){u.pop();v="rgb("}return v+u.join()+")"},toHslaString:function(){var v="hsla(",u=t.map(this.hsla(),function(w,x){if(w==null){w=x>2?1:0}if(x&&x<3){w=Math.round(w*100)+"%"}return w});if(u[3]===1){u.pop();v="hsl("}return v+u.join()+")"},toHexString:function(u){var v=this._rgba.slice(),w=v.pop();if(u){v.push(~~(w*255))}return"#"+t.map(v,function(x){x=(x||0).toString(16);return x.length===1?"0"+x:x}).join("")},toString:function(){return this._rgba[3]===0?"transparent":this.toRgbaString()}});j.fn.parse.prototype=j.fn;function g(w,v,u){u=(u+1)%1;if(u*6<1){return w+(v-w)*u*6}if(u*2<1){return v}if(u*3<2){return w+(v-w)*((2/3)-u)*6}return w}o.hsla.to=function(w){if(w[0]==null||w[1]==null||w[2]==null){return[null,null,null,w[3]]}var u=w[0]/255,z=w[1]/255,A=w[2]/255,C=w[3],B=Math.max(u,z,A),x=Math.min(u,z,A),D=B-x,E=B+x,v=E*0.5,y,F;if(x===B){y=0}else{if(u===B){y=(60*(z-A)/D)+360}else{if(z===B){y=(60*(A-u)/D)+120}else{y=(60*(u-z)/D)+240}}}if(v===0||v===1){F=v}else{if(v<=0.5){F=D/E}else{F=D/(2-E)}}return[Math.round(y)%360,F,v,C==null?1:C]};o.hsla.from=function(y){if(y[0]==null||y[1]==null||y[2]==null){return[null,null,null,y[3]]}var x=y[0]/360,w=y[1],v=y[2],u=y[3],z=v<=0.5?v*(1+w):v+w-v*w,A=2*v-z;return[Math.round(g(A,z,x+(1/3))*255),Math.round(g(A,z,x)*255),Math.round(g(A,z,x-(1/3))*255),u]};q(o,function(v,x){var w=x.props,u=x.cache,z=x.to,y=x.from;j.fn[v]=function(E){if(z&&!this[u]){this[u]=z(this._rgba)}if(E===h){return this[u].slice()}var B,D=t.type(E),A=(D==="array"||D==="object")?E:arguments,C=this[u].slice();q(w,function(F,H){var G=A[D==="object"?F:H.idx];if(G==null){G=C[H.idx]}C[H.idx]=n(G,H)});if(y){B=j(y(C));B[u]=C;return B}else{return j(C)}};q(w,function(A,B){if(j.fn[A]){return}j.fn[A]=function(F){var H=t.type(F),E=(A==="alpha"?(this._hsla?"hsla":"rgba"):v),D=this[E](),G=D[B.idx],C;if(H==="undefined"){return G}if(H==="function"){F=F.call(this,G);H=t.type(F)}if(F==null&&B.empty){return this}if(H==="string"){C=m.exec(F);if(C){F=G+parseFloat(C[2])*(C[1]==="+"?1:-1)}}D[B.idx]=F;return this[E](D)}})});q(p,function(u,v){t.cssHooks[v]={set:function(A,B){var x,z,w="";if(t.type(B)!=="string"||(x=k(B))){B=j(x||B);if(!r.rgba&&B._rgba[3]!==1){z=v==="backgroundColor"?A.parentNode:A;while((w===""||w==="transparent")&&z&&z.style){try{w=t.css(z,"backgroundColor");z=z.parentNode}catch(C){}}B=B.blend(w&&w!=="transparent"?w:"_default")}B=B.toRgbaString()}try{A.style[v]=B}catch(y){}}};t.fx.step[v]=function(w){if(!w.colorInit){w.start=j(w.elem,v);w.end=j(w.end);w.colorInit=true}t.cssHooks[v].set(w.elem,w.start.transition(w.end,w.pos))}});t.cssHooks.borderColor={expand:function(v){var u={};q(["Top","Right","Bottom","Left"],function(x,w){u["border"+w+"Color"]=v});return u}};e=t.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}})(jQuery);(function(){var f=["add","remove","toggle"],g={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};b.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(j,k){b.fx.step[k]=function(l){if(l.end!=="none"&&!l.setAttr||l.pos===1&&!l.setAttr){jQuery.style(l.elem,k,l.end);l.setAttr=true}}});function h(){var l=this.ownerDocument.defaultView?this.ownerDocument.defaultView.getComputedStyle(this,null):this.currentStyle,m={},k,j;if(l&&l.length&&l[0]&&l[l[0]]){j=l.length;while(j--){k=l[j];if(typeof l[k]==="string"){m[b.camelCase(k)]=l[k]}}}else{for(k in l){if(typeof l[k]==="string"){m[k]=l[k]}}}return m}function e(j,l){var n={},k,m;for(k in l){m=l[k];if(j[k]!==m){if(!g[k]){if(b.fx.step[k]||!isNaN(parseFloat(m))){n[k]=m}}}}return n}b.effects.animateClass=function(j,k,n,m){var l=b.speed(k,n,m);return this.queue(function(){var q=b(this),o=q.attr("class")||"",p,r=l.children?q.find("*").andSelf():q;r=r.map(function(){var s=b(this);return{el:s,start:h.call(this)}});p=function(){b.each(f,function(s,t){if(j[t]){q[t+"Class"](j[t])}})};p();r=r.map(function(){this.end=h.call(this.el[0]);this.diff=e(this.start,this.end);return this});q.attr("class",o);r=r.map(function(){var u=this,s=b.Deferred(),t=jQuery.extend({},l,{queue:false,complete:function(){s.resolve(u)}});this.el.animate(this.diff,t);return s.promise()});b.when.apply(b,r.get()).done(function(){p();b.each(arguments,function(){var s=this.el;b.each(this.diff,function(t){s.css(t,"")})});l.complete.call(q[0])})})};b.fn.extend({_addClass:b.fn.addClass,addClass:function(k,j,m,l){return j?b.effects.animateClass.call(this,{add:k},j,m,l):this._addClass(k)},_removeClass:b.fn.removeClass,removeClass:function(k,j,m,l){return j?b.effects.animateClass.call(this,{remove:k},j,m,l):this._removeClass(k)},_toggleClass:b.fn.toggleClass,toggleClass:function(l,k,j,n,m){if(typeof k==="boolean"||k===d){if(!j){return this._toggleClass(l,k)}else{return b.effects.animateClass.call(this,(k?{add:l}:{remove:l}),j,n,m)}}else{return b.effects.animateClass.call(this,{toggle:l},k,j,n)}},switchClass:function(j,l,k,n,m){return b.effects.animateClass.call(this,{add:l,remove:j},k,n,m)}})})();(function(){b.extend(b.effects,{version:"1.9.2",save:function(h,j){for(var g=0;g<j.length;g++){if(j[g]!==null){h.data(c+j[g],h[0].style[j[g]])}}},restore:function(h,k){var j,g;for(g=0;g<k.length;g++){if(k[g]!==null){j=h.data(c+k[g]);if(j===d){j=""}h.css(k[g],j)}}},setMode:function(g,h){if(h==="toggle"){h=g.is(":hidden")?"show":"hide"}return h},getBaseline:function(h,j){var k,g;switch(h[0]){case"top":k=0;break;case"middle":k=0.5;break;case"bottom":k=1;break;default:k=h[0]/j.height}switch(h[1]){case"left":g=0;break;case"center":g=0.5;break;case"right":g=1;break;default:g=h[1]/j.width}return{x:g,y:k}},createWrapper:function(h){if(h.parent().is(".ui-effects-wrapper")){return h.parent()}var j={width:h.outerWidth(true),height:h.outerHeight(true),"float":h.css("float")},m=b("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),g={width:h.width(),height:h.height()},l=document.activeElement;try{l.id}catch(k){l=document.body}h.wrap(m);if(h[0]===l||b.contains(h[0],l)){b(l).focus()}m=h.parent();if(h.css("position")==="static"){m.css({position:"relative"});h.css({position:"relative"})}else{b.extend(j,{position:h.css("position"),zIndex:h.css("z-index")});b.each(["top","left","bottom","right"],function(n,o){j[o]=h.css(o);if(isNaN(parseInt(j[o],10))){j[o]="auto"}});h.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})}h.css(g);return m.css(j).show()},removeWrapper:function(g){var h=document.activeElement;if(g.parent().is(".ui-effects-wrapper")){g.parent().replaceWith(g);if(g[0]===h||b.contains(g[0],h)){b(h).focus()}}return g},setTransition:function(h,k,g,j){j=j||{};b.each(k,function(m,l){var n=h.cssUnit(l);if(n[0]>0){j[l]=n[0]*g+n[1]}});return j}});function e(h,g,j,k){if(b.isPlainObject(h)){g=h;h=h.effect}h={effect:h};if(g==null){g={}}if(b.isFunction(g)){k=g;j=null;g={}}if(typeof g==="number"||b.fx.speeds[g]){k=j;j=g;g={}}if(b.isFunction(j)){k=j;j=null}if(g){b.extend(h,g)}j=j||g.duration;h.duration=b.fx.off?0:typeof j==="number"?j:j in b.fx.speeds?b.fx.speeds[j]:b.fx.speeds._default;h.complete=k||g.complete;return h}function f(g){if(!g||typeof g==="number"||b.fx.speeds[g]){return true}if(typeof g==="string"&&!b.effects.effect[g]){if(a&&b.effects[g]){return false}return true}return false}b.fn.extend({effect:function(){var j=e.apply(this,arguments),m=j.mode,g=j.queue,h=b.effects.effect[j.effect],k=!h&&a&&b.effects[j.effect];if(b.fx.off||!(h||k)){if(m){return this[m](j.duration,j.complete)}else{return this.each(function(){if(j.complete){j.complete.call(this)}})}}function l(p){var q=b(this),o=j.complete,r=j.mode;function n(){if(b.isFunction(o)){o.call(q[0])}if(b.isFunction(p)){p()}}if(q.is(":hidden")?r==="hide":r==="show"){n()}else{h.call(q[0],j,n)}}if(h){return g===false?this.each(l):this.queue(g||"fx",l)}else{return k.call(this,{options:j,duration:j.duration,callback:j.complete,mode:j.mode})}},_show:b.fn.show,show:function(h){if(f(h)){return this._show.apply(this,arguments)}else{var g=e.apply(this,arguments);g.mode="show";return this.effect.call(this,g)}},_hide:b.fn.hide,hide:function(h){if(f(h)){return this._hide.apply(this,arguments)}else{var g=e.apply(this,arguments);g.mode="hide";return this.effect.call(this,g)}},__toggle:b.fn.toggle,toggle:function(h){if(f(h)||typeof h==="boolean"||b.isFunction(h)){return this.__toggle.apply(this,arguments)}else{var g=e.apply(this,arguments);g.mode="toggle";return this.effect.call(this,g)}},cssUnit:function(g){var h=this.css(g),j=[];b.each(["em","px","%","pt"],function(k,l){if(h.indexOf(l)>0){j=[parseFloat(h),l]}});return j}})})();(function(){var e={};b.each(["Quad","Cubic","Quart","Quint","Expo"],function(g,f){e[f]=function(h){return Math.pow(h,g+2)}});b.extend(e,{Sine:function(f){return 1-Math.cos(f*Math.PI/2)},Circ:function(f){return 1-Math.sqrt(1-f*f)},Elastic:function(f){return f===0||f===1?f:-Math.pow(2,8*(f-1))*Math.sin(((f-1)*80-7.5)*Math.PI/15)},Back:function(f){return f*f*(3*f-2)},Bounce:function(h){var f,g=4;while(h<((f=Math.pow(2,--g))-1)/11){}return 1/Math.pow(4,3-g)-7.5625*Math.pow((f*3-2)/22-h,2)}});b.each(e,function(g,f){b.easing["easeIn"+g]=f;b.easing["easeOut"+g]=function(h){return 1-f(1-h)};b.easing["easeInOut"+g]=function(h){return h<0.5?f(h*2)/2:1-f(h*-2+2)/2}})})()})(jQuery));(function(b,d){var a=/up|down|vertical/,c=/up|left|vertical|horizontal/;b.effects.effect.blind=function(g,n){var h=b(this),r=["position","top","bottom","left","right","height","width"],p=b.effects.setMode(h,g.mode||"hide"),s=g.direction||"up",k=a.test(s),j=k?"height":"width",q=k?"top":"left",u=c.test(s),m={},t=p==="show",f,e,l;if(h.parent().is(".ui-effects-wrapper")){b.effects.save(h.parent(),r)}else{b.effects.save(h,r)}h.show();f=b.effects.createWrapper(h).css({overflow:"hidden"});e=f[j]();l=parseFloat(f.css(q))||0;m[j]=t?e:0;if(!u){h.css(k?"bottom":"right",0).css(k?"top":"left","auto").css({position:"absolute"});m[q]=t?l:e+l}if(t){f.css(j,0);if(!u){f.css(q,l+e)}}f.animate(m,{duration:g.duration,easing:g.easing,queue:false,complete:function(){if(p==="hide"){h.hide()}b.effects.restore(h,r);b.effects.removeWrapper(h);n()}})}})(jQuery);(function(a,b){a.effects.effect.bounce=function(m,l){var c=a(this),d=["position","top","bottom","left","right","height","width"],k=a.effects.setMode(c,m.mode||"effect"),j=k==="hide",v=k==="show",w=m.direction||"up",e=m.distance,h=m.times||5,x=h*2+(v||j?1:0),u=m.duration/x,p=m.easing,f=(w==="up"||w==="down")?"top":"left",n=(w==="up"||w==="left"),t,g,s,q=c.queue(),r=q.length;if(v||j){d.push("opacity")}a.effects.save(c,d);c.show();a.effects.createWrapper(c);if(!e){e=c[f==="top"?"outerHeight":"outerWidth"]()/3}if(v){s={opacity:1};s[f]=0;c.css("opacity",0).css(f,n?-e*2:e*2).animate(s,u,p)}if(j){e=e/Math.pow(2,h-1)}s={};s[f]=0;for(t=0;t<h;t++){g={};g[f]=(n?"-=":"+=")+e;c.animate(g,u,p).animate(s,u,p);e=j?e*2:e/2}if(j){g={opacity:0};g[f]=(n?"-=":"+=")+e;c.animate(g,u,p)}c.queue(function(){if(j){c.hide()}a.effects.restore(c,d);a.effects.removeWrapper(c);l()});if(r>1){q.splice.apply(q,[1,0].concat(q.splice(r,x+1)))}c.dequeue()}})(jQuery);(function(a,b){a.effects.effect.clip=function(f,j){var g=a(this),n=["position","top","bottom","left","right","height","width"],m=a.effects.setMode(g,f.mode||"hide"),q=m==="show",p=f.direction||"vertical",l=p==="vertical",r=l?"height":"width",k=l?"top":"left",h={},d,e,c;a.effects.save(g,n);g.show();d=a.effects.createWrapper(g).css({overflow:"hidden"});e=(g[0].tagName==="IMG")?d:g;c=e[r]();if(q){e.css(r,0);e.css(k,c/2)}h[r]=q?c:0;h[k]=q?0:c/2;e.animate(h,{queue:false,duration:f.duration,easing:f.easing,complete:function(){if(!q){g.hide()}a.effects.restore(g,n);a.effects.removeWrapper(g);j()}})}})(jQuery);(function(a,b){a.effects.effect.drop=function(d,h){var e=a(this),k=["position","top","bottom","left","right","opacity","height","width"],j=a.effects.setMode(e,d.mode||"hide"),m=j==="show",l=d.direction||"left",f=(l==="up"||l==="down")?"top":"left",n=(l==="up"||l==="left")?"pos":"neg",g={opacity:m?1:0},c;a.effects.save(e,k);e.show();a.effects.createWrapper(e);c=d.distance||e[f==="top"?"outerHeight":"outerWidth"](true)/2;if(m){e.css("opacity",0).css(f,n==="pos"?-c:c)}g[f]=(m?(n==="pos"?"+=":"-="):(n==="pos"?"-=":"+="))+c;e.animate(g,{queue:false,duration:d.duration,easing:d.easing,complete:function(){if(j==="hide"){e.hide()}a.effects.restore(e,k);a.effects.removeWrapper(e);h()}})}})(jQuery);(function(a,b){a.effects.effect.explode=function(s,r){var k=s.pieces?Math.round(Math.sqrt(s.pieces)):3,d=k,c=a(this),m=a.effects.setMode(c,s.mode||"hide"),w=m==="show",g=c.show().css("visibility","hidden").offset(),t=Math.ceil(c.outerWidth()/d),q=Math.ceil(c.outerHeight()/k),h=[],v,u,e,p,n,l;function x(){h.push(this);if(h.length===k*d){f()}}for(v=0;v<k;v++){p=g.top+v*q;l=v-(k-1)/2;for(u=0;u<d;u++){e=g.left+u*t;n=u-(d-1)/2;c.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-u*t,top:-v*q}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:t,height:q,left:e+(w?n*t:0),top:p+(w?l*q:0),opacity:w?0:1}).animate({left:e+(w?0:n*t),top:p+(w?0:l*q),opacity:w?1:0},s.duration||500,s.easing,x)}}function f(){c.css({visibility:"visible"});a(h).remove();if(!w){c.hide()}r()}}})(jQuery);(function(a,b){a.effects.effect.fade=function(f,c){var d=a(this),e=a.effects.setMode(d,f.mode||"toggle");d.animate({opacity:e},{queue:false,duration:f.duration,easing:f.easing,complete:c})}})(jQuery);(function(a,b){a.effects.effect.fold=function(e,j){var f=a(this),p=["position","top","bottom","left","right","height","width"],l=a.effects.setMode(f,e.mode||"hide"),s=l==="show",m=l==="hide",u=e.size||15,n=/([0-9]+)%/.exec(u),t=!!e.horizFirst,k=s!==t,g=k?["width","height"]:["height","width"],h=e.duration/2,d,c,r={},q={};a.effects.save(f,p);f.show();d=a.effects.createWrapper(f).css({overflow:"hidden"});c=k?[d.width(),d.height()]:[d.height(),d.width()];if(n){u=parseInt(n[1],10)/100*c[m?0:1]}if(s){d.css(t?{height:0,width:u}:{height:u,width:0})}r[g[0]]=s?c[0]:u;q[g[1]]=s?c[1]:0;d.animate(r,h,e.easing).animate(q,h,e.easing,function(){if(m){f.hide()}a.effects.restore(f,p);a.effects.removeWrapper(f);j()})}})(jQuery);(function(a,b){a.effects.effect.highlight=function(h,c){var e=a(this),d=["backgroundImage","backgroundColor","opacity"],g=a.effects.setMode(e,h.mode||"show"),f={backgroundColor:e.css("backgroundColor")};if(g==="hide"){f.opacity=0}a.effects.save(e,d);e.show().css({backgroundImage:"none",backgroundColor:h.color||"#ffff99"}).animate(f,{queue:false,duration:h.duration,easing:h.easing,complete:function(){if(g==="hide"){e.hide()}a.effects.restore(e,d);c()}})}})(jQuery);(function(a,b){a.effects.effect.pulsate=function(c,g){var e=a(this),k=a.effects.setMode(e,c.mode||"show"),p=k==="show",l=k==="hide",q=(p||k==="hide"),m=((c.times||5)*2)+(q?1:0),f=c.duration/m,n=0,j=e.queue(),d=j.length,h;if(p||!e.is(":visible")){e.css("opacity",0).show();n=1}for(h=1;h<m;h++){e.animate({opacity:n},f,c.easing);n=1-n}e.animate({opacity:n},f,c.easing);e.queue(function(){if(l){e.hide()}g()});if(d>1){j.splice.apply(j,[1,0].concat(j.splice(d,m+1)))}e.dequeue()}})(jQuery);(function(a,b){a.effects.effect.puff=function(k,c){var h=a(this),j=a.effects.setMode(h,k.mode||"hide"),f=j==="hide",g=parseInt(k.percent,10)||150,e=g/100,d={height:h.height(),width:h.width(),outerHeight:h.outerHeight(),outerWidth:h.outerWidth()};a.extend(k,{effect:"scale",queue:false,fade:true,mode:j,complete:c,percent:f?g:100,from:f?d:{height:d.height*e,width:d.width*e,outerHeight:d.outerHeight*e,outerWidth:d.outerWidth*e}});h.effect(k)};a.effects.effect.scale=function(c,f){var d=a(this),m=a.extend(true,{},c),g=a.effects.setMode(d,c.mode||"effect"),h=parseInt(c.percent,10)||(parseInt(c.percent,10)===0?0:(g==="hide"?0:100)),k=c.direction||"both",l=c.origin,e={height:d.height(),width:d.width(),outerHeight:d.outerHeight(),outerWidth:d.outerWidth()},j={y:k!=="horizontal"?(h/100):1,x:k!=="vertical"?(h/100):1};m.effect="size";m.queue=false;m.complete=f;if(g!=="effect"){m.origin=l||["middle","center"];m.restore=true}m.from=c.from||(g==="show"?{height:0,width:0,outerHeight:0,outerWidth:0}:e);m.to={height:e.height*j.y,width:e.width*j.x,outerHeight:e.outerHeight*j.y,outerWidth:e.outerWidth*j.x};if(m.fade){if(g==="show"){m.from.opacity=0;m.to.opacity=1}if(g==="hide"){m.from.opacity=1;m.to.opacity=0}}d.effect(m)};a.effects.effect.size=function(m,l){var r,j,k,c=a(this),q=["position","top","bottom","left","right","width","height","overflow","opacity"],p=["position","top","bottom","left","right","overflow","opacity"],n=["width","height","overflow"],g=["fontSize"],t=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],d=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],h=a.effects.setMode(c,m.mode||"effect"),s=m.restore||h!=="effect",w=m.scale||"both",u=m.origin||["middle","center"],v=c.css("position"),e=s?q:p,f={height:0,width:0,outerHeight:0,outerWidth:0};if(h==="show"){c.show()}r={height:c.height(),width:c.width(),outerHeight:c.outerHeight(),outerWidth:c.outerWidth()};if(m.mode==="toggle"&&h==="show"){c.from=m.to||f;c.to=m.from||r}else{c.from=m.from||(h==="show"?f:r);c.to=m.to||(h==="hide"?f:r)}k={from:{y:c.from.height/r.height,x:c.from.width/r.width},to:{y:c.to.height/r.height,x:c.to.width/r.width}};if(w==="box"||w==="both"){if(k.from.y!==k.to.y){e=e.concat(t);c.from=a.effects.setTransition(c,t,k.from.y,c.from);c.to=a.effects.setTransition(c,t,k.to.y,c.to)}if(k.from.x!==k.to.x){e=e.concat(d);c.from=a.effects.setTransition(c,d,k.from.x,c.from);c.to=a.effects.setTransition(c,d,k.to.x,c.to)}}if(w==="content"||w==="both"){if(k.from.y!==k.to.y){e=e.concat(g).concat(n);c.from=a.effects.setTransition(c,g,k.from.y,c.from);c.to=a.effects.setTransition(c,g,k.to.y,c.to)}}a.effects.save(c,e);c.show();a.effects.createWrapper(c);c.css("overflow","hidden").css(c.from);if(u){j=a.effects.getBaseline(u,r);c.from.top=(r.outerHeight-c.outerHeight())*j.y;c.from.left=(r.outerWidth-c.outerWidth())*j.x;c.to.top=(r.outerHeight-c.to.outerHeight)*j.y;c.to.left=(r.outerWidth-c.to.outerWidth)*j.x}c.css(c.from);if(w==="content"||w==="both"){t=t.concat(["marginTop","marginBottom"]).concat(g);d=d.concat(["marginLeft","marginRight"]);n=q.concat(t).concat(d);c.find("*[width]").each(function(){var x=a(this),o={height:x.height(),width:x.width(),outerHeight:x.outerHeight(),outerWidth:x.outerWidth()};if(s){a.effects.save(x,n)}x.from={height:o.height*k.from.y,width:o.width*k.from.x,outerHeight:o.outerHeight*k.from.y,outerWidth:o.outerWidth*k.from.x};x.to={height:o.height*k.to.y,width:o.width*k.to.x,outerHeight:o.height*k.to.y,outerWidth:o.width*k.to.x};if(k.from.y!==k.to.y){x.from=a.effects.setTransition(x,t,k.from.y,x.from);x.to=a.effects.setTransition(x,t,k.to.y,x.to)}if(k.from.x!==k.to.x){x.from=a.effects.setTransition(x,d,k.from.x,x.from);x.to=a.effects.setTransition(x,d,k.to.x,x.to)}x.css(x.from);x.animate(x.to,m.duration,m.easing,function(){if(s){a.effects.restore(x,n)}})})}c.animate(c.to,{queue:false,duration:m.duration,easing:m.easing,complete:function(){if(c.to.opacity===0){c.css("opacity",c.from.opacity)}if(h==="hide"){c.hide()}a.effects.restore(c,e);if(!s){if(v==="static"){c.css({position:"relative",top:c.to.top,left:c.to.left})}else{a.each(["top","left"],function(o,x){c.css(x,function(z,B){var A=parseInt(B,10),y=o?c.to.left:c.to.top;if(B==="auto"){return y+"px"}return A+y+"px"})})}}a.effects.removeWrapper(c);l()}})}})(jQuery);(function(a,b){a.effects.effect.shake=function(l,k){var c=a(this),d=["position","top","bottom","left","right","height","width"],j=a.effects.setMode(c,l.mode||"effect"),u=l.direction||"left",e=l.distance||20,h=l.times||3,v=h*2+1,q=Math.round(l.duration/v),g=(u==="up"||u==="down")?"top":"left",f=(u==="up"||u==="left"),t={},s={},r={},p,m=c.queue(),n=m.length;a.effects.save(c,d);c.show();a.effects.createWrapper(c);t[g]=(f?"-=":"+=")+e;s[g]=(f?"+=":"-=")+e*2;r[g]=(f?"-=":"+=")+e*2;c.animate(t,q,l.easing);for(p=1;p<h;p++){c.animate(s,q,l.easing).animate(r,q,l.easing)}c.animate(s,q,l.easing).animate(t,q/2,l.easing).queue(function(){if(j==="hide"){c.hide()}a.effects.restore(c,d);a.effects.removeWrapper(c);k()});if(n>1){m.splice.apply(m,[1,0].concat(m.splice(n,v+1)))}c.dequeue()}})(jQuery);(function(a,b){a.effects.effect.slide=function(e,j){var f=a(this),l=["position","top","bottom","left","right","width","height"],k=a.effects.setMode(f,e.mode||"show"),n=k==="show",m=e.direction||"left",g=(m==="up"||m==="down")?"top":"left",d=(m==="up"||m==="left"),c,h={};a.effects.save(f,l);f.show();c=e.distance||f[g==="top"?"outerHeight":"outerWidth"](true);a.effects.createWrapper(f).css({overflow:"hidden"});if(n){f.css(g,d?(isNaN(c)?"-"+c:-c):c)}h[g]=(n?(d?"+=":"-="):(d?"-=":"+="))+c;f.animate(h,{queue:false,duration:e.duration,easing:e.easing,complete:function(){if(k==="hide"){f.hide()}a.effects.restore(f,l);a.effects.removeWrapper(f);j()}})}})(jQuery);(function(a,b){a.effects.effect.transfer=function(d,h){var f=a(this),l=a(d.to),p=l.css("position")==="fixed",k=a("body"),m=p?k.scrollTop():0,n=p?k.scrollLeft():0,c=l.offset(),g={top:c.top-m,left:c.left-n,height:l.innerHeight(),width:l.innerWidth()},j=f.offset(),e=a('<div class="ui-effects-transfer"></div>').appendTo(document.body).addClass(d.className).css({top:j.top-m,left:j.left-n,height:f.innerHeight(),width:f.innerWidth(),position:p?"fixed":"absolute"}).animate(g,d.duration,d.easing,function(){e.remove();h()})}})(jQuery);Date.ext={};Date.ext.util={};Date.ext.util.xPad=function(a,c,b){if(typeof(b)=="undefined"){b=10}for(;parseInt(a,10)<b&&b>1;b/=10){a=c.toString()+a}return a.toString()};Date.prototype.locale="en-GB";if(document.getElementsByTagName("html")&&document.getElementsByTagName("html")[0].lang){Date.prototype.locale=document.getElementsByTagName("html")[0].lang}Date.ext.locales={};Date.ext.locales.en={a:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],A:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],b:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],B:["January","February","March","April","May","June","July","August","September","October","November","December"],c:"%a %d %b %Y %T %Z",p:["AM","PM"],P:["am","pm"],x:"%d/%m/%y",X:"%T"};Date.ext.locales["en-US"]=Date.ext.locales.en;Date.ext.locales["en-US"].c="%a %d %b %Y %r %Z";Date.ext.locales["en-US"].x="%D";Date.ext.locales["en-US"].X="%r";Date.ext.locales["en-GB"]=Date.ext.locales.en;Date.ext.locales["en-AU"]=Date.ext.locales["en-GB"];Date.ext.formats={a:function(a){return Date.ext.locales[a.locale].a[a.getDay()]},A:function(a){return Date.ext.locales[a.locale].A[a.getDay()]},b:function(a){return Date.ext.locales[a.locale].b[a.getMonth()]},B:function(a){return Date.ext.locales[a.locale].B[a.getMonth()]},c:"toLocaleString",C:function(a){return Date.ext.util.xPad(parseInt(a.getFullYear()/100,10),0)},d:["getDate","0"],e:["getDate"," "],g:function(a){return Date.ext.util.xPad(parseInt(Date.ext.util.G(a)/100,10),0)},G:function(c){var e=c.getFullYear();var b=parseInt(Date.ext.formats.V(c),10);var a=parseInt(Date.ext.formats.W(c),10);if(a>b){e++}else{if(a===0&&b>=52){e--}}return e},H:["getHours","0"],I:function(b){var a=b.getHours()%12;return Date.ext.util.xPad(a===0?12:a,0)},j:function(c){var a=c-new Date(""+c.getFullYear()+"/1/1 GMT");a+=c.getTimezoneOffset()*60000;var b=parseInt(a/60000/60/24,10)+1;return Date.ext.util.xPad(b,0,100)},m:function(a){return Date.ext.util.xPad(a.getMonth()+1,0)},M:["getMinutes","0"],p:function(a){return Date.ext.locales[a.locale].p[a.getHours()>=12?1:0]},P:function(a){return Date.ext.locales[a.locale].P[a.getHours()>=12?1:0]},S:["getSeconds","0"],u:function(a){var b=a.getDay();return b===0?7:b},U:function(e){var a=parseInt(Date.ext.formats.j(e),10);var c=6-e.getDay();var b=parseInt((a+c)/7,10);return Date.ext.util.xPad(b,0)},V:function(e){var c=parseInt(Date.ext.formats.W(e),10);var a=(new Date(""+e.getFullYear()+"/1/1")).getDay();var b=c+(a>4||a<=1?0:1);if(b==53&&(new Date(""+e.getFullYear()+"/12/31")).getDay()<4){b=1}else{if(b===0){b=Date.ext.formats.V(new Date(""+(e.getFullYear()-1)+"/12/31"))}}return Date.ext.util.xPad(b,0)},w:"getDay",W:function(e){var a=parseInt(Date.ext.formats.j(e),10);var c=7-Date.ext.formats.u(e);var b=parseInt((a+c)/7,10);return Date.ext.util.xPad(b,0,10)},y:function(a){return Date.ext.util.xPad(a.getFullYear()%100,0)},Y:"getFullYear",z:function(c){var b=c.getTimezoneOffset();var a=Date.ext.util.xPad(parseInt(Math.abs(b/60),10),0);var e=Date.ext.util.xPad(b%60,0);return(b>0?"-":"+")+a+e},Z:function(a){return a.toString().replace(/^.*\(([^)]+)\)$/,"$1")},"%":function(a){return"%"}};Date.ext.aggregates={c:"locale",D:"%m/%d/%y",h:"%b",n:"\n",r:"%I:%M:%S %p",R:"%H:%M",t:"\t",T:"%H:%M:%S",x:"locale",X:"locale"};Date.ext.aggregates.z=Date.ext.formats.z(new Date());Date.ext.aggregates.Z=Date.ext.formats.Z(new Date());Date.ext.unsupported={};Date.prototype.strftime=function(a){if(!(this.locale in Date.ext.locales)){if(this.locale.replace(/-[a-zA-Z]+$/,"") in Date.ext.locales){this.locale=this.locale.replace(/-[a-zA-Z]+$/,"")}else{this.locale="en-GB"}}var c=this;while(a.match(/%[cDhnrRtTxXzZ]/)){a=a.replace(/%([cDhnrRtTxXzZ])/g,function(e,d){var g=Date.ext.aggregates[d];return(g=="locale"?Date.ext.locales[c.locale][d]:g)})}var b=a.replace(/%([aAbBCdegGHIjmMpPSuUVwWyY%])/g,function(e,d){var g=Date.ext.formats[d];if(typeof(g)=="string"){return c[g]()}else{if(typeof(g)=="function"){return g.call(c,c)}else{if(typeof(g)=="object"&&typeof(g[0])=="string"){return Date.ext.util.xPad(c[g[0]](),g[1])}else{return d}}}});c=null;return b};(function(b){b.tools=b.tools||{version:"1.2.5"};b.tools.scrollable={conf:{activeClass:"active",circular:false,clonedClass:"cloned",disabledClass:"disabled",easing:"swing",initialIndex:0,item:null,items:".items",keyboard:true,mousewheel:false,next:".next",prev:".prev",speed:400,vertical:false,touch:true,wheelSpeed:0}};function d(j,g){var f=parseInt(j.css(g),10);if(f){return f}var h=j[0].currentStyle;return h&&h.width&&parseInt(h.width,10)}function e(f,h){var g=b(h);return g.length<2?g:f.parent().find(h)}var c;function a(q,p){var r=this,g=q.add(r),f=q.children(),n=0,j=p.vertical;if(!c){c=r}if(f.length>1){f=b(p.items,q)}b.extend(r,{getConf:function(){return p},getIndex:function(){return n},getSize:function(){return r.getItems().size()},getNaviButtons:function(){return h.add(l)},getRoot:function(){return q},getItemWrap:function(){return f},getItems:function(){return f.children(p.item).not("."+p.clonedClass)},move:function(t,s){return r.seekTo(n+t,s)},next:function(s){return r.move(1,s)},prev:function(s){return r.move(-1,s)},begin:function(s){return r.seekTo(0,s)},end:function(s){return r.seekTo(r.getSize()-1,s)},focus:function(){c=r;return r},addItem:function(s){s=b(s);if(!p.circular){f.append(s)}else{f.children("."+p.clonedClass+":last").before(s);f.children("."+p.clonedClass+":first").replaceWith(s.clone().addClass(p.clonedClass))}g.trigger("onAddItem",[s]);return r},seekTo:function(s,x,u){if(!s.jquery){s*=1}if(p.circular&&s===0&&n==-1&&x!==0){return r}if(!p.circular&&s<0||s>r.getSize()||s<-1){return r}var v=s;if(s.jquery){s=r.getItems().index(s)}else{v=r.getItems().eq(s)}var w=b.Event("onBeforeSeek");if(!u){g.trigger(w,[s,x]);if(w.isDefaultPrevented()||!v.length){return r}}var t=j?{top:-v.position().top}:{left:-v.position().left};n=s;c=r;if(x===undefined){x=p.speed}f.animate(t,x,p.easing,u||function(){g.trigger("onSeek",[s])});return r}});b.each(["onBeforeSeek","onSeek","onAddItem"],function(t,s){if(b.isFunction(p[s])){b(r).bind(s,p[s])}r[s]=function(u){if(u){b(r).bind(s,u)}return r}});if(p.circular){var o=r.getItems().slice(-1).clone().prependTo(f),m=r.getItems().eq(1).clone().appendTo(f);o.add(m).addClass(p.clonedClass);r.onBeforeSeek(function(u,s,t){if(u.isDefaultPrevented()){return}if(s==-1){r.seekTo(o,t,function(){r.end(0)});return u.preventDefault()}else{if(s==r.getSize()){r.seekTo(m,t,function(){r.begin(0)})}}});r.seekTo(0,0,function(){})}var h=e(q,p.prev).click(function(){r.prev()}),l=e(q,p.next).click(function(){r.next()});if(!p.circular&&r.getSize()>1){r.onBeforeSeek(function(t,s){setTimeout(function(){if(!t.isDefaultPrevented()){h.toggleClass(p.disabledClass,s<=0);l.toggleClass(p.disabledClass,s>=r.getSize()-1)}},1)});if(!p.initialIndex){h.addClass(p.disabledClass)}}if(p.mousewheel&&b.fn.mousewheel){q.mousewheel(function(s,t){if(p.mousewheel){r.move(t<0?1:-1,p.wheelSpeed||50);return false}})}if(p.touch){var k={};f[0].ontouchstart=function(u){var s=u.touches[0];k.x=s.clientX;k.y=s.clientY};f[0].ontouchmove=function(w){if(w.touches.length==1&&!f.is(":animated")){var v=w.touches[0],u=k.x-v.clientX,s=k.y-v.clientY;r[j&&s>0||!j&&u>0?"next":"prev"]();w.preventDefault()}}}if(p.keyboard){b(document).bind("keydown.scrollable",function(s){if(!p.keyboard||s.altKey||s.ctrlKey||b(s.target).is(":input")){return}if(p.keyboard!="static"&&c!=r){return}var t=s.keyCode;if(j&&(t==38||t==40)){r.move(t==38?-1:1);return s.preventDefault()}if(!j&&(t==37||t==39)){r.move(t==37?-1:1);return s.preventDefault()}})}if(p.initialIndex){r.seekTo(p.initialIndex,0,function(){})}}b.fn.scrollable=function(f){var g=this.data("scrollable");if(g){return g}f=b.extend({},b.tools.scrollable.conf,f);this.each(function(){g=new a(b(this),f);b(this).data("scrollable",g)});return f.api?g:this}})(jQuery);
/*
 * jQuery UI Touch Punch 0.2.2
 *
 * Copyright 2011, Dave Furfero
 * Dual licensed under the MIT or GPL Version 2 licenses.
 *
 * Depends:
 *  jquery.ui.widget.js
 *  jquery.ui.mouse.js
 *  
 *  https://github.com/furf/jquery-ui-touch-punch
 *  
 */
(function(b){b.support.touch="ontouchend" in document;if(!b.support.touch){console.log("Kein Touch Support");return}else{console.log("MIT Touch Support")}var c=b.ui.mouse.prototype,e=c._mouseInit,a;function d(g,h){if(g.originalEvent.touches.length>1){return}g.preventDefault();var j=g.originalEvent.changedTouches[0],f=document.createEvent("MouseEvents");f.initMouseEvent(h,true,true,window,1,j.screenX,j.screenY,j.clientX,j.clientY,false,false,false,false,0,null);g.target.dispatchEvent(f)}c._touchStart=function(g){var f=this;if(a||!f._mouseCapture(g.originalEvent.changedTouches[0])){return}a=true;f._touchMoved=false;d(g,"mouseover");d(g,"mousemove");d(g,"mousedown")};c._touchMove=function(f){if(!a){return}this._touchMoved=true;d(f,"mousemove")};c._touchEnd=function(f){if(!a){return}d(f,"mouseup");d(f,"mouseout");if(!this._touchMoved){d(f,"click")}a=false};c._mouseInit=function(){var f=this;f.element.bind("touchstart",b.proxy(f,"_touchStart")).bind("touchmove",b.proxy(f,"_touchMove")).bind("touchend",b.proxy(f,"_touchEnd"));e.call(f)}})(jQuery);(function(f){function d(){this._settings=[];this._extensions=[];this.regional=[];this.regional[""]={errorLoadingText:"Error loading",notSupportedText:"This browser does not support SVG"};this.local=this.regional[""];this._uuid=new Date().getTime();this._renesis=c("RenesisX.RenesisCtrl")}function c(j){try{return !!(window.ActiveXObject&&new ActiveXObject(j))}catch(k){return false}}var e="svgwrapper";f.extend(d.prototype,{markerClassName:"hasSVG",svgNS:"http://www.w3.org/2000/svg",xlinkNS:"http://www.w3.org/1999/xlink",_wrapperClass:b,_attrNames:{class_:"class",in_:"in",alignmentBaseline:"alignment-baseline",baselineShift:"baseline-shift",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorRendering:"color-rendering",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",underlinePosition:"underline-position",underlineThickness:"underline-thickness",vertAdvY:"vert-adv-y",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode"},_attachSVG:function(k,j){var m=(k.namespaceURI==this.svgNS?k:null);var k=(m?null:k);if(f(k||m).hasClass(this.markerClassName)){return}if(typeof j=="string"){j={loadURL:j}}else{if(typeof j=="function"){j={onLoad:j}}}f(k||m).addClass(this.markerClassName);try{if(!m){m=document.createElementNS(this.svgNS,"svg");m.setAttribute("version","1.1");if(k.clientWidth>0){m.setAttribute("width",k.clientWidth)}if(k.clientHeight>0){m.setAttribute("height",k.clientHeight)}k.appendChild(m)}this._afterLoad(k,m,j||{})}catch(l){if(f.browser.msie){if(!k.id){k.id="svg"+(this._uuid++)}this._settings[k.id]=j;k.innerHTML='<embed type="image/svg+xml" width="100%" height="100%" src="'+(j.initPath||"")+'blank.svg" pluginspage="http://www.adobe.com/svg/viewer/install/main.html"/>'}else{k.innerHTML='<p class="svg_error">'+this.local.notSupportedText+"</p>"}}},_registerSVG:function(){for(var l=0;l<document.embeds.length;l++){var k=document.embeds[l].parentNode;if(!f(k).hasClass(f.svg.markerClassName)||f.data(k,e)){continue}var j=null;try{j=document.embeds[l].getSVGDocument()}catch(m){setTimeout(f.svg._registerSVG,250);return}j=(j?j.documentElement:null);if(j){f.svg._afterLoad(k,j)}}},_afterLoad:function(k,j,n){var n=n||this._settings[k.id];this._settings[k?k.id:""]=null;var m=new this._wrapperClass(j,k);f.data(k||j,e,m);try{if(n.loadURL){m.load(n.loadURL,n)}if(n.settings){m.configure(n.settings)}if(n.onLoad&&!n.loadURL){n.onLoad.apply(k||j,[m])}}catch(l){alert(l)}},_getSVG:function(j){j=(typeof j=="string"?f(j)[0]:(j.jquery?j[0]:j));return f.data(j,e)},_destroySVG:function(k){var j=f(k);if(!j.hasClass(this.markerClassName)){return}j.removeClass(this.markerClassName);if(k.namespaceURI!=this.svgNS){j.empty()}f.removeData(k,e)},addExtension:function(k,j){this._extensions.push([k,j])},isSVGElem:function(j){return(j.nodeType==1&&j.namespaceURI==f.svg.svgNS)}});function b(k,j){this._svg=k;this._container=j;for(var l=0;l<f.svg._extensions.length;l++){var m=f.svg._extensions[l];this[m[0]]=new m[1](this)}}f.extend(b.prototype,{_width:function(){return(this._container?this._container.clientWidth:this._svg.width)},_height:function(){return(this._container?this._container.clientHeight:this._svg.height)},root:function(){return this._svg},configure:function(k,j,o){if(!k.nodeName){o=j;j=k;k=this._svg}if(o){for(var l=k.attributes.length-1;l>=0;l--){var n=k.attributes.item(l);if(!(n.nodeName=="onload"||n.nodeName=="version"||n.nodeName.substring(0,5)=="xmlns")){k.attributes.removeNamedItem(n.nodeName)}}}for(var m in j){k.setAttribute(f.svg._attrNames[m]||m,j[m])}return this},getElementById:function(j){return this._svg.ownerDocument.getElementById(j)},change:function(k,j){if(k){for(var l in j){if(j[l]==null){k.removeAttribute(f.svg._attrNames[l]||l)}else{k.setAttribute(f.svg._attrNames[l]||l,j[l])}}}return this},_args:function(j,o,n){o.splice(0,0,"parent");o.splice(o.length,0,"settings");var m={};var l=0;if(j[0]!=null&&j[0].jquery){j[0]=j[0][0]}if(j[0]!=null&&!(typeof j[0]=="object"&&j[0].nodeName)){m.parent=null;l=1}for(var k=0;k<j.length;k++){m[o[k+l]]=j[k]}if(n){f.each(n,function(q,p){if(typeof m[p]=="object"){m.settings=m[p];m[p]=null}})}return m},title:function(k,j,n){var m=this._args(arguments,["text"]);var l=this._makeNode(m.parent,"title",m.settings||{});l.appendChild(this._svg.ownerDocument.createTextNode(m.text));return l},describe:function(k,j,n){var m=this._args(arguments,["text"]);var l=this._makeNode(m.parent,"desc",m.settings||{});l.appendChild(this._svg.ownerDocument.createTextNode(m.text));return l},defs:function(k,j,m){var l=this._args(arguments,["id"],["id"]);return this._makeNode(l.parent,"defs",f.extend((l.id?{id:l.id}:{}),l.settings||{}))},symbol:function(k,j,q,p,o,n,m){var l=this._args(arguments,["id","x1","y1","width","height"]);return this._makeNode(l.parent,"symbol",f.extend({id:l.id,viewBox:l.x1+" "+l.y1+" "+l.width+" "+l.height},l.settings||{}))},marker:function(r,q,p,o,n,m,l,k){var j=this._args(arguments,["id","refX","refY","mWidth","mHeight","orient"],["orient"]);return this._makeNode(j.parent,"marker",f.extend({id:j.id,refX:j.refX,refY:j.refY,markerWidth:j.mWidth,markerHeight:j.mHeight,orient:j.orient||"auto"},j.settings||{}))},style:function(k,j,n){var m=this._args(arguments,["styles"]);var l=this._makeNode(m.parent,"style",f.extend({type:"text/css"},m.settings||{}));l.appendChild(this._svg.ownerDocument.createTextNode(m.styles));if(f.browser.opera){f("head").append('<style type="text/css">'+m.styles+"</style>")}return l},script:function(k,j,o,n){var m=this._args(arguments,["script","type"],["type"]);var l=this._makeNode(m.parent,"script",f.extend({type:m.type||"text/javascript"},m.settings||{}));l.appendChild(this._svg.ownerDocument.createTextNode(m.script));if(!f.browser.mozilla){f.globalEval(m.script)}return l},linearGradient:function(t,s,r,q,p,o,n,m){var l=this._args(arguments,["id","stops","x1","y1","x2","y2"],["x1"]);var k=f.extend({id:l.id},(l.x1!=null?{x1:l.x1,y1:l.y1,x2:l.x2,y2:l.y2}:{}));return this._gradient(l.parent,"linearGradient",f.extend(k,l.settings||{}),l.stops)},radialGradient:function(v,u,t,s,q,k,p,o,n){var m=this._args(arguments,["id","stops","cx","cy","r","fx","fy"],["cx"]);var l=f.extend({id:m.id},(m.cx!=null?{cx:m.cx,cy:m.cy,r:m.r,fx:m.fx,fy:m.fy}:{}));return this._gradient(m.parent,"radialGradient",f.extend(l,m.settings||{}),m.stops)},_gradient:function(k,j,p,o){var n=this._makeNode(k,j,p);for(var l=0;l<o.length;l++){var m=o[l];this._makeNode(n,"stop",f.extend({offset:m[0],stopColor:m[1]},(m[2]!=null?{stopOpacity:m[2]}:{})))}return n},pattern:function(w,v,z,u,t,s,r,q,p,o,n){var m=this._args(arguments,["id","x","y","width","height","vx","vy","vwidth","vheight"],["vx"]);var l=f.extend({id:m.id,x:m.x,y:m.y,width:m.width,height:m.height},(m.vx!=null?{viewBox:m.vx+" "+m.vy+" "+m.vwidth+" "+m.vheight}:{}));return this._makeNode(m.parent,"pattern",f.extend(l,m.settings||{}))},clipPath:function(k,j,n,m){var l=this._args(arguments,["id","units"]);l.units=l.units||"userSpaceOnUse";return this._makeNode(l.parent,"clipPath",f.extend({id:l.id,clipPathUnits:l.units},l.settings||{}))},mask:function(l,k,j,q,p,o,n){var m=this._args(arguments,["id","x","y","width","height"]);return this._makeNode(m.parent,"mask",f.extend({id:m.id,x:m.x,y:m.y,width:m.width,height:m.height},m.settings||{}))},createPath:function(){return new g()},createText:function(){return new h()},svg:function(u,v,s,t,r,q,p,o,n,m){var l=this._args(arguments,["x","y","width","height","vx","vy","vwidth","vheight"],["vx"]);var k=f.extend({x:l.x,y:l.y,width:l.width,height:l.height},(l.vx!=null?{viewBox:l.vx+" "+l.vy+" "+l.vwidth+" "+l.vheight}:{}));return this._makeNode(l.parent,"svg",f.extend(k,l.settings||{}))},group:function(k,j,m){var l=this._args(arguments,["id"],["id"]);return this._makeNode(l.parent,"g",f.extend({id:l.id},l.settings||{}))},use:function(q,r,o,p,n,m,l){var k=this._args(arguments,["x","y","width","height","ref"]);if(typeof k.x=="string"){k.ref=k.x;k.settings=k.y;k.x=k.y=k.width=k.height=null}var j=this._makeNode(k.parent,"use",f.extend({x:k.x,y:k.y,width:k.width,height:k.height},k.settings||{}));j.setAttributeNS(f.svg.xlinkNS,"href",k.ref);return j},link:function(k,j,n){var m=this._args(arguments,["ref"]);var l=this._makeNode(m.parent,"a",m.settings);l.setAttributeNS(f.svg.xlinkNS,"href",m.ref);return l},image:function(q,r,o,p,n,m,l){var k=this._args(arguments,["x","y","width","height","ref"]);var j=this._makeNode(k.parent,"image",f.extend({x:k.x,y:k.y,width:k.width,height:k.height},k.settings||{}));j.setAttributeNS(f.svg.xlinkNS,"href",k.ref);return j},path:function(k,j,m){var l=this._args(arguments,["path"]);return this._makeNode(l.parent,"path",f.extend({d:(l.path.path?l.path.path():l.path)},l.settings||{}))},rect:function(q,r,o,p,n,m,l,k){var j=this._args(arguments,["x","y","width","height","rx","ry"],["rx"]);return this._makeNode(j.parent,"rect",f.extend({x:j.x,y:j.y,width:j.width,height:j.height},(j.rx?{rx:j.rx,ry:j.ry}:{}),j.settings||{}))},circle:function(k,j,o,l,n){var m=this._args(arguments,["cx","cy","r"]);return this._makeNode(m.parent,"circle",f.extend({cx:m.cx,cy:m.cy,r:m.r},m.settings||{}))},ellipse:function(k,j,p,o,n,m){var l=this._args(arguments,["cx","cy","rx","ry"]);return this._makeNode(l.parent,"ellipse",f.extend({cx:l.cx,cy:l.cy,rx:l.rx,ry:l.ry},l.settings||{}))},line:function(k,j,p,o,n,m){var l=this._args(arguments,["x1","y1","x2","y2"]);return this._makeNode(l.parent,"line",f.extend({x1:l.x1,y1:l.y1,x2:l.x2,y2:l.y2},l.settings||{}))},polyline:function(k,j,m){var l=this._args(arguments,["points"]);return this._poly(l.parent,"polyline",l.points,l.settings)},polygon:function(k,j,m){var l=this._args(arguments,["points"]);return this._poly(l.parent,"polygon",l.points,l.settings)},_poly:function(k,j,o,n){var m="";for(var l=0;l<o.length;l++){m+=o[l].join()+" "}return this._makeNode(k,j,f.extend({points:f.trim(m)},n||{}))},text:function(l,k,o,j,n){var m=this._args(arguments,["x","y","value"]);if(typeof m.x=="string"&&arguments.length<4){m.value=m.x;m.settings=m.y;m.x=m.y=null}return this._text(m.parent,"text",m.value,f.extend({x:(m.x&&a(m.x)?m.x.join(" "):m.x),y:(m.y&&a(m.y)?m.y.join(" "):m.y)},m.settings||{}))},textpath:function(k,j,o,n){var m=this._args(arguments,["path","value"]);var l=this._text(m.parent,"textPath",m.value,m.settings||{});l.setAttributeNS(f.svg.xlinkNS,"href",m.path);return l},_text:function(r,q,p,o){var n=this._makeNode(r,q,o);if(typeof p=="string"){n.appendChild(n.ownerDocument.createTextNode(p))}else{for(var j=0;j<p._parts.length;j++){var m=p._parts[j];if(m[0]=="tspan"){var l=this._makeNode(n,m[0],m[2]);l.appendChild(n.ownerDocument.createTextNode(m[1]));n.appendChild(l)}else{if(m[0]=="tref"){var l=this._makeNode(n,m[0],m[2]);l.setAttributeNS(f.svg.xlinkNS,"href",m[1]);n.appendChild(l)}else{if(m[0]=="textpath"){var k=f.extend({},m[2]);k.href=null;var l=this._makeNode(n,m[0],k);l.setAttributeNS(f.svg.xlinkNS,"href",m[2].href);l.appendChild(n.ownerDocument.createTextNode(m[1]));n.appendChild(l)}else{n.appendChild(n.ownerDocument.createTextNode(m[1]))}}}}}return n},other:function(k,j,m){var l=this._args(arguments,["name"]);return this._makeNode(l.parent,l.name,l.settings||{})},_makeNode:function(k,j,n){k=k||this._svg;var m=this._svg.ownerDocument.createElementNS(f.svg.svgNS,j);for(var j in n){var l=n[j];if(l!=null&&l!=null&&(typeof l!="string"||l!="")){m.setAttribute(f.svg._attrNames[j]||j,l)}}k.appendChild(m);return m},add:function(j,n){var m=this._args((arguments.length==1?[null,j]:arguments),["node"]);var k=this;m.parent=m.parent||this._svg;m.node=(m.node.jquery?m.node:f(m.node));try{if(f.svg._renesis){throw"Force traversal"}m.parent.appendChild(m.node.cloneNode(true))}catch(l){m.node.each(function(){var o=k._cloneAsSVG(this);if(o){m.parent.appendChild(o)}})}return this},clone:function(j,n){var m=this;var l=this._args((arguments.length==1?[null,j]:arguments),["node"]);l.parent=l.parent||this._svg;l.node=(l.node.jquery?l.node:f(l.node));var k=[];l.node.each(function(){var o=m._cloneAsSVG(this);if(o){o.id="";l.parent.appendChild(o);k.push(o)}});return k},_cloneAsSVG:function(k){var j=null;if(k.nodeType==1){j=this._svg.ownerDocument.createElementNS(f.svg.svgNS,this._checkName(k.nodeName));for(var l=0;l<k.attributes.length;l++){var o=k.attributes.item(l);if(o.nodeName!="xmlns"&&o.nodeValue){if(o.prefix=="xlink"){j.setAttributeNS(f.svg.xlinkNS,o.localName||o.baseName,o.nodeValue)}else{j.setAttribute(this._checkName(o.nodeName),o.nodeValue)}}}for(var l=0;l<k.childNodes.length;l++){var n=this._cloneAsSVG(k.childNodes[l]);if(n){j.appendChild(n)}}}else{if(k.nodeType==3){if(f.trim(k.nodeValue)){j=this._svg.ownerDocument.createTextNode(k.nodeValue)}}else{if(k.nodeType==4){if(f.trim(k.nodeValue)){try{j=this._svg.ownerDocument.createCDATASection(k.nodeValue)}catch(m){j=this._svg.ownerDocument.createTextNode(k.nodeValue.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"))}}}}}return j},_checkName:function(j){j=(j.substring(0,1)>="A"&&j.substring(0,1)<="Z"?j.toLowerCase():j);return(j.substring(0,4)=="svg:"?j.substring(4):j)},load:function(t,s){s=(typeof s=="boolean"?{addTo:s}:(typeof s=="function"?{onLoad:s}:(typeof s=="string"?{parent:s}:(typeof s=="object"&&s.nodeName?{parent:s}:(typeof s=="object"&&s.jquery?{parent:s}:s||{})))));if(!s.parent&&!s.addTo){this.clear(false)}var r=[this._svg.getAttribute("width"),this._svg.getAttribute("height")];var q=this;var w=function(j){j=f.svg.local.errorLoadingText+": "+j;if(s.onLoad){s.onLoad.apply(q._container||q._svg,[q,j])}else{q.text(null,10,20,j)}};var v=function(k){var j=new ActiveXObject("Microsoft.XMLDOM");j.validateOnParse=false;j.resolveExternals=false;j.async=false;j.loadXML(k);if(j.parseError.errorCode!=0){w(j.parseError.reason);return null}return j};var u=function(y){if(!y){return}if(y.documentElement.nodeName!="svg"){var x=y.getElementsByTagName("parsererror");var p=(x.length?x[0].getElementsByTagName("div"):[]);w(!x.length?"???":(p.length?p[0]:x[0]).firstChild.nodeValue);return}var o=(s.parent?f(s.parent)[0]:q._svg);var m={};for(var j=0;j<y.documentElement.attributes.length;j++){var l=y.documentElement.attributes.item(j);if(!(l.nodeName=="version"||l.nodeName.substring(0,5)=="xmlns")){m[l.nodeName]=l.nodeValue}}q.configure(o,m,!s.parent);var k=y.documentElement.childNodes;for(var j=0;j<k.length;j++){try{if(f.svg._renesis){throw"Force traversal"}o.appendChild(q._svg.ownerDocument.importNode(k[j],true));if(k[j].nodeName=="script"){f.globalEval(k[j].textContent)}}catch(n){q.add(o,k[j])}}if(!s.changeSize){q.configure(o,{width:r[0],height:r[1]})}if(s.onLoad){s.onLoad.apply(q._container||q._svg,[q])}};if(t.match("<svg")){u(f.browser.msie?v(t):new DOMParser().parseFromString(t,"text/xml"))}else{f.ajax({url:t,dataType:(f.browser.msie?"text":"xml"),success:function(j){u(f.browser.msie?v(j):j)},error:function(k,j,l){w(j+(l?" "+l.message:""))}})}return this},remove:function(j){j=(j.jquery?j[0]:j);j.parentNode.removeChild(j);return this},clear:function(j){if(j){this.configure({},true)}while(this._svg.firstChild){this._svg.removeChild(this._svg.firstChild)}return this},toSVG:function(j){j=j||this._svg;return(typeof XMLSerializer=="undefined"?this._toSVG(j):new XMLSerializer().serializeToString(j))},_toSVG:function(k){var j="";if(!k){return j}if(k.nodeType==3){j=k.nodeValue}else{if(k.nodeType==4){j="<![CDATA["+k.nodeValue+"]]>"}else{j="<"+k.nodeName;if(k.attributes){for(var l=0;l<k.attributes.length;l++){var n=k.attributes.item(l);if(!(f.trim(n.nodeValue)==""||n.nodeValue.match(/^\[object/)||n.nodeValue.match(/^function/))){j+=" "+(n.namespaceURI==f.svg.xlinkNS?"xlink:":"")+n.nodeName+'="'+n.nodeValue+'"'}}}if(k.firstChild){j+=">";var m=k.firstChild;while(m){j+=this._toSVG(m);m=m.nextSibling}j+="</"+k.nodeName+">"}else{j+="/>"}}}return j}});function g(){this._path=""}f.extend(g.prototype,{reset:function(){this._path="";return this},move:function(j,l,k){k=(a(j)?l:k);return this._coords((k?"m":"M"),j,l)},line:function(j,l,k){k=(a(j)?l:k);return this._coords((k?"l":"L"),j,l)},horiz:function(j,k){this._path+=(k?"h":"H")+(a(j)?j.join(" "):j);return this},vert:function(k,j){this._path+=(j?"v":"V")+(a(k)?k.join(" "):k);return this},curveC:function(l,k,p,n,j,o,m){m=(a(l)?k:m);return this._coords((m?"c":"C"),l,k,p,n,j,o)},smoothC:function(l,k,j,n,m){m=(a(l)?k:m);return this._coords((m?"s":"S"),l,k,j,n)},curveQ:function(l,k,j,n,m){m=(a(l)?k:m);return this._coords((m?"q":"Q"),l,k,j,n)},smoothQ:function(j,l,k){k=(a(j)?l:k);return this._coords((k?"t":"T"),j,l)},_coords:function(r,q,p,o,n,m,l){if(a(q)){for(var j=0;j<q.length;j++){var k=q[j];this._path+=(j==0?r:" ")+k[0]+","+k[1]+(k.length<4?"":" "+k[2]+","+k[3]+(k.length<6?"":" "+k[4]+","+k[5]))}}else{this._path+=r+q+","+p+(o==null?"":" "+o+","+n+(m==null?"":" "+m+","+l))}return this},arc:function(r,q,o,n,m,s,p,l){l=(a(r)?q:l);this._path+=(l?"a":"A");if(a(r)){for(var j=0;j<r.length;j++){var k=r[j];this._path+=(j==0?"":" ")+k[0]+","+k[1]+" "+k[2]+" "+(k[3]?"1":"0")+","+(k[4]?"1":"0")+" "+k[5]+","+k[6]}}else{this._path+=r+","+q+" "+o+" "+(n?"1":"0")+","+(m?"1":"0")+" "+s+","+p}return this},close:function(){this._path+="z";return this},path:function(){return this._path}});g.prototype.moveTo=g.prototype.move;g.prototype.lineTo=g.prototype.line;g.prototype.horizTo=g.prototype.horiz;g.prototype.vertTo=g.prototype.vert;g.prototype.curveCTo=g.prototype.curveC;g.prototype.smoothCTo=g.prototype.smoothC;g.prototype.curveQTo=g.prototype.curveQ;g.prototype.smoothQTo=g.prototype.smoothQ;g.prototype.arcTo=g.prototype.arc;function h(){this._parts=[]}f.extend(h.prototype,{reset:function(){this._parts=[];return this},string:function(j){this._parts[this._parts.length]=["text",j];return this},span:function(k,j){this._parts[this._parts.length]=["tspan",k,j];return this},ref:function(k,j){this._parts[this._parts.length]=["tref",k,j];return this},path:function(k,j,l){this._parts[this._parts.length]=["textpath",j,f.extend({href:k},l||{})];return this}});f.fn.svg=function(k){var j=Array.prototype.slice.call(arguments,1);if(typeof k=="string"&&k=="get"){return f.svg["_"+k+"SVG"].apply(f.svg,[this[0]].concat(j))}return this.each(function(){if(typeof k=="string"){f.svg["_"+k+"SVG"].apply(f.svg,[this].concat(j))}else{f.svg._attachSVG(this,k||{})}})};function a(j){return(j&&j.constructor==Array)}f.svg=new d()})(jQuery);function CometVisu(a){var b=this;this.urlPrefix=(null==a)?"":a;this.addresses=[];this.initialAddresses=[];this.filters=[];this.user="";this.pass="";this.device="";this.running=false;this.doRestart=false;this.xhr=false;this.watchdogTimer=5;this.maxConnectionAge=60;this.maxDataAge=3200;this.lastIndex=-1;this.setInitialAddresses=function(d){this.initialAddresses=d};this.handleSession=function(d){this.session=d.s;this.version=d.v.split(".",3);if(0<parseInt(this.version[0])||1<parseInt(this.version[1])){alert("ERROR CometVisu Client: too new protocoll version ("+d.v+") used!")}this.running=true;if(this.initialAddresses.length){this.xhr=$.ajax({url:this.urlPrefix+"r",dataType:"json",context:this,data:this.buildRequest(this.initialAddresses)+"&t=0",success:this.handleReadStart})}else{this.xhr=$.ajax({url:this.urlPrefix+"r",dataType:"json",context:this,data:this.buildRequest()+"&t=0",success:this.handleRead,error:this.handleError})}};this.handleRead=function(d){if(!d&&(-1==this.lastIndex)){if(this.running){this.xhr=$.ajax({url:this.urlPrefix+"r",dataType:"json",context:this,data:this.buildRequest()+"&t=0",success:this.handleRead,error:this.handleError});c.ping()}return}if(d&&!this.doRestart){this.lastIndex=d.i;var e=d.d;this.update(e)}if(this.running){this.xhr=$.ajax({url:this.urlPrefix+"r",dataType:"json",context:this,data:this.buildRequest()+"&i="+this.lastIndex,success:this.handleRead,error:this.handleError});c.ping()}};this.handleReadStart=function(d){if(!d&&(-1==this.lastIndex)){if(this.running){this.xhr=$.ajax({url:this.urlPrefix+"r",dataType:"json",context:this,data:this.buildRequest(this.startPageAddresses)+"&t=0",success:this.handleReadStart});c.ping()}return}if(d&&!this.doRestart){this.update(d.d)}if(this.running){this.xhr=$.ajax({url:this.urlPrefix+"r",dataType:"json",context:this,data:this.buildRequest()+"&t=0",success:this.handleRead,error:this.handleError});c.ping()}};this.handleError=function(g,f,e){if(this.running&&g.readyState!=4&&!this.doRestart&&g.status!==0){var d="UNKNOWN";switch(g.readyState){case 0:d="UNINITIALIZED";break;case 1:d="LOADING";break;case 2:d="LOADED";break;case 3:d="INTERACTIVE";break;case 4:d="COMPLETED";break}alert('Error! Type: "'+f+'" ExceptionObject: "'+e+'" readyState: '+d)}};this.handleComplete=function(e,d){};this.buildRequest=function(f){f=f?f:this.addresses;var e=(f.length)?"a="+f.join("&a="):"";var d=(this.filters.length)?"f="+this.filters.join("&f="):"";return"s="+this.session+"&"+e+((f.length&&this.filters.length)?"&":"")+d};this.subscribe=function(f,e){var d=!this.addresses.length;this.addresses=f?f:[];this.filters=e?e:[];if(!f.length){this.stop()}else{if(d){this.login()}}};this.login=function(){var d={};if(""!=this.user){d.u=this.user}if(""!=this.pass){d.p=this.pass}if(""!=this.device){d.d=this.device}$.ajax({url:this.urlPrefix+"l",dataType:"json",context:this,data:d,success:this.handleSession})};this.stop=function(){this.running=false;if(this.xhr.abort){this.xhr.abort()}};this.write=function(d,g){var f=new Date().getTime();var e="a="+d+"&v="+g+"&ts="+f;$.ajax({url:this.urlPrefix+"w",dataType:"json",context:this,data:e})};this.restart=function(){this.doRestart=true;if(this.xhr.abort){this.xhr.abort()}this.handleRead();this.doRestart=false};var c=(function(){var f=new Date();var d=f;var g=function(){var h=new Date();if(h-f<b.maxConnectionAge*1000){return}if(h-d>b.maxDataAge*1000){b.lastIndex=-1}b.restart();f=h};var e=setInterval(g,b.watchdogTimer*1000);return{ping:function(){delete f;f=new Date();if(!b.doRestart){delete d;d=f}}}})()}CometVisu.prototype.update=function(a){};function icon(){if(!(this instanceof icon)){return new icon()}var a={CometVisu:{"*":"128","16":{black:"*/000000",white:"*/ffffff",antimony:"*/00ddff",boron:"*/00ff11",lithium:"*/ff0000",potassium:"*/d00055","orange  ":"*/ff8000","*":{"*":"ff8000","000000":{uri:"icon/comet_16_000000.png"},ffffff:{uri:"icon/comet_16_ffffff.png"},"00ddff":{uri:"icon/comet_16_00ddff.png"},"00ff11":{uri:"icon/comet_16_00ff11.png"},ff0000:{uri:"icon/comet_16_ff0000.png"},d00055:{uri:"icon/comet_16_d00055.png"},ff8000:{uri:"icon/comet_16_ff8000.png"}}},"32":{black:"*/000000",white:"*/ffffff",antimony:"*/00ddff",boron:"*/00ff11",lithium:"*/ff0000",potassium:"*/d00055","orange  ":"*/ff8000","*":{"*":"ff8000","000000":{uri:"icon/comet_32_000000.png"},ffffff:{uri:"icon/comet_32_ffffff.png"},"00ddff":{uri:"icon/comet_32_00ddff.png"},"00ff11":{uri:"icon/comet_32_00ff11.png"},ff0000:{uri:"icon/comet_32_ff0000.png"},d00055:{uri:"icon/comet_32_d00055.png"},ff8000:{uri:"icon/comet_32_ff8000.png"}}},"64":{black:"*/000000",white:"*/ffffff",antimony:"*/00ddff",boron:"*/00ff11",lithium:"*/ff0000",potassium:"*/d00055","orange  ":"*/ff8000","*":{"*":"ff8000","000000":{uri:"icon/comet_64_000000.png"},ffffff:{uri:"icon/comet_64_ffffff.png"},"00ddff":{uri:"icon/comet_64_00ddff.png"},"00ff11":{uri:"icon/comet_64_00ff11.png"},ff0000:{uri:"icon/comet_64_ff0000.png"},d00055:{uri:"icon/comet_64_d00055.png"},ff8000:{uri:"icon/comet_64_ff8000.png"}}},"128":{black:"*/000000",white:"*/ffffff",antimony:"*/00ddff",boron:"*/00ff11",lithium:"*/ff0000",potassium:"*/d00055","orange  ":"*/ff8000","*":{"*":"ff8000","000000":{uri:"icon/comet_128_000000.png"},ffffff:{uri:"icon/comet_128_ffffff.png"},"00ddff":{uri:"icon/comet_128_00ddff.png"},"00ff11":{uri:"icon/comet_128_00ff11.png"},ff0000:{uri:"icon/comet_128_ff0000.png"},d00055:{uri:"icon/comet_128_d00055.png"},ff8000:{uri:"icon/comet_128_ff8000.png"}}}},audio_audio:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/audio_audio.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/audio_audio.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/audio_audio.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/audio_audio.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/audio_audio.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/audio_audio.png"}}}},audio_eject:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/audio_eject.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/audio_eject.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/audio_eject.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/audio_eject.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/audio_eject.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/audio_eject.png"}}}},audio_eq:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/audio_eq.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/audio_eq.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/audio_eq.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/audio_eq.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/audio_eq.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/audio_eq.png"}}}},audio_fade:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/audio_fade.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/audio_fade.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/audio_fade.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/audio_fade.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/audio_fade.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/audio_fade.png"}}}},audio_ff:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/audio_ff.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/audio_ff.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/audio_ff.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/audio_ff.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/audio_ff.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/audio_ff.png"}}}},audio_headphone:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/audio_headphone.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/audio_headphone.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/audio_headphone.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/audio_headphone.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/audio_headphone.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/audio_headphone.png"}}}},audio_pause:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/audio_pause.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/audio_pause.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/audio_pause.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/audio_pause.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/audio_pause.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/audio_pause.png"}}}},audio_play:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/audio_play.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/audio_play.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/audio_play.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/audio_play.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/audio_play.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/audio_play.png"}}}},audio_playlist:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/audio_playlist.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/audio_playlist.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/audio_playlist.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/audio_playlist.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/audio_playlist.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/audio_playlist.png"}}}},audio_rec:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/audio_rec.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/audio_rec.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/audio_rec.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/audio_rec.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/audio_rec.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/audio_rec.png"}}}},audio_repeat:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/audio_repeat.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/audio_repeat.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/audio_repeat.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/audio_repeat.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/audio_repeat.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/audio_repeat.png"}}}},audio_rew:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/audio_rew.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/audio_rew.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/audio_rew.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/audio_rew.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/audio_rew.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/audio_rew.png"}}}},audio_shuffle:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/audio_shuffle.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/audio_shuffle.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/audio_shuffle.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/audio_shuffle.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/audio_shuffle.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/audio_shuffle.png"}}}},audio_sound:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/audio_sound.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/audio_sound.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/audio_sound.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/audio_sound.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/audio_sound.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/audio_sound.png"}}}},audio_stop:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/audio_stop.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/audio_stop.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/audio_stop.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/audio_stop.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/audio_stop.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/audio_stop.png"}}}},audio_volume_high:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/audio_volume_high.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/audio_volume_high.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/audio_volume_high.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/audio_volume_high.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/audio_volume_high.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/audio_volume_high.png"}}}},audio_volume_low:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/audio_volume_low.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/audio_volume_low.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/audio_volume_low.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/audio_volume_low.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/audio_volume_low.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/audio_volume_low.png"}}}},audio_volume_mid:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/audio_volume_mid.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/audio_volume_mid.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/audio_volume_mid.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/audio_volume_mid.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/audio_volume_mid.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/audio_volume_mid.png"}}}},audio_volume_mute:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/audio_volume_mute.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/audio_volume_mute.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/audio_volume_mute.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/audio_volume_mute.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/audio_volume_mute.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/audio_volume_mute.png"}}}},control_all_on_off:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/control_all_on_off.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/control_all_on_off.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/control_all_on_off.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/control_all_on_off.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/control_all_on_off.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/control_all_on_off.png"}}}},control_arrow_down:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/control_arrow_down.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/control_arrow_down.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/control_arrow_down.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/control_arrow_down.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/control_arrow_down.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/control_arrow_down.png"}}}},control_arrow_down_left:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/control_arrow_down_left.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/control_arrow_down_left.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/control_arrow_down_left.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/control_arrow_down_left.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/control_arrow_down_left.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/control_arrow_down_left.png"}}}},control_arrow_down_right:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/control_arrow_down_right.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/control_arrow_down_right.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/control_arrow_down_right.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/control_arrow_down_right.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/control_arrow_down_right.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/control_arrow_down_right.png"}}}},control_arrow_left:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/control_arrow_left.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/control_arrow_left.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/control_arrow_left.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/control_arrow_left.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/control_arrow_left.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/control_arrow_left.png"}}}},control_arrow_right:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/control_arrow_right.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/control_arrow_right.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/control_arrow_right.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/control_arrow_right.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/control_arrow_right.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/control_arrow_right.png"}}}},control_arrow_up:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/control_arrow_up.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/control_arrow_up.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/control_arrow_up.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/control_arrow_up.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/control_arrow_up.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/control_arrow_up.png"}}}},control_arrow_up_left:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/control_arrow_up_left.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/control_arrow_up_left.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/control_arrow_up_left.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/control_arrow_up_left.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/control_arrow_up_left.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/control_arrow_up_left.png"}}}},control_arrow_up_right:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/control_arrow_up_right.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/control_arrow_up_right.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/control_arrow_up_right.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/control_arrow_up_right.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/control_arrow_up_right.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/control_arrow_up_right.png"}}}},control_building_all:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/control_building_all.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/control_building_all.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/control_building_all.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/control_building_all.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/control_building_all.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/control_building_all.png"}}}},control_building_control:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/control_building_control.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/control_building_control.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/control_building_control.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/control_building_control.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/control_building_control.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/control_building_control.png"}}}},control_building_dg:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/control_building_dg.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/control_building_dg.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/control_building_dg.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/control_building_dg.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/control_building_dg.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/control_building_dg.png"}}}},control_building_eg:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/control_building_eg.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/control_building_eg.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/control_building_eg.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/control_building_eg.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/control_building_eg.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/control_building_eg.png"}}}},control_building_empty:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/control_building_empty.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/control_building_empty.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/control_building_empty.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/control_building_empty.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/control_building_empty.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/control_building_empty.png"}}}},control_building_filled:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/control_building_filled.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/control_building_filled.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/control_building_filled.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/control_building_filled.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/control_building_filled.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/control_building_filled.png"}}}},control_building_kg:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/control_building_kg.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/control_building_kg.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/control_building_kg.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/control_building_kg.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/control_building_kg.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/control_building_kg.png"}}}},control_building_modern_s_2og_all:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/control_building_modern_s_2og_all.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/control_building_modern_s_2og_all.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/control_building_modern_s_2og_all.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/control_building_modern_s_2og_all.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/control_building_modern_s_2og_all.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/control_building_modern_s_2og_all.png"}}}},control_building_modern_s_2og_dg:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/control_building_modern_s_2og_dg.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/control_building_modern_s_2og_dg.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/control_building_modern_s_2og_dg.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/control_building_modern_s_2og_dg.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/control_building_modern_s_2og_dg.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/control_building_modern_s_2og_dg.png"}}}},control_building_modern_s_2og_eg:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/control_building_modern_s_2og_eg.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/control_building_modern_s_2og_eg.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/control_building_modern_s_2og_eg.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/control_building_modern_s_2og_eg.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/control_building_modern_s_2og_eg.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/control_building_modern_s_2og_eg.png"}}}},control_building_modern_s_2og_kg:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/control_building_modern_s_2og_kg.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/control_building_modern_s_2og_kg.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/control_building_modern_s_2og_kg.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/control_building_modern_s_2og_kg.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/control_building_modern_s_2og_kg.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/control_building_modern_s_2og_kg.png"}}}},control_building_modern_s_2og_og1:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/control_building_modern_s_2og_og1.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/control_building_modern_s_2og_og1.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/control_building_modern_s_2og_og1.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/control_building_modern_s_2og_og1.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/control_building_modern_s_2og_og1.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/control_building_modern_s_2og_og1.png"}}}},control_building_modern_s_2og_og2:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/control_building_modern_s_2og_og2.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/control_building_modern_s_2og_og2.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/control_building_modern_s_2og_og2.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/control_building_modern_s_2og_og2.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/control_building_modern_s_2og_og2.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/control_building_modern_s_2og_og2.png"}}}},control_building_modern_s_all:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/control_building_modern_s_all.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/control_building_modern_s_all.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/control_building_modern_s_all.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/control_building_modern_s_all.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/control_building_modern_s_all.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/control_building_modern_s_all.png"}}}},control_building_modern_s_dg:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/control_building_modern_s_dg.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/control_building_modern_s_dg.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/control_building_modern_s_dg.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/control_building_modern_s_dg.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/control_building_modern_s_dg.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/control_building_modern_s_dg.png"}}}},control_building_modern_s_eg:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/control_building_modern_s_eg.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/control_building_modern_s_eg.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/control_building_modern_s_eg.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/control_building_modern_s_eg.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/control_building_modern_s_eg.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/control_building_modern_s_eg.png"}}}},control_building_modern_s_kg:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/control_building_modern_s_kg.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/control_building_modern_s_kg.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/control_building_modern_s_kg.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/control_building_modern_s_kg.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/control_building_modern_s_kg.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/control_building_modern_s_kg.png"}}}},control_building_modern_s_og:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/control_building_modern_s_og.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/control_building_modern_s_og.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/control_building_modern_s_og.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/control_building_modern_s_og.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/control_building_modern_s_og.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/control_building_modern_s_og.png"}}}},control_building_modern_s_okg_all:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/control_building_modern_s_okg_all.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/control_building_modern_s_okg_all.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/control_building_modern_s_okg_all.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/control_building_modern_s_okg_all.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/control_building_modern_s_okg_all.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/control_building_modern_s_okg_all.png"}}}},control_building_modern_s_okg_dg:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/control_building_modern_s_okg_dg.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/control_building_modern_s_okg_dg.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/control_building_modern_s_okg_dg.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/control_building_modern_s_okg_dg.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/control_building_modern_s_okg_dg.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/control_building_modern_s_okg_dg.png"}}}},control_building_modern_s_okg_eg:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/control_building_modern_s_okg_eg.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/control_building_modern_s_okg_eg.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/control_building_modern_s_okg_eg.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/control_building_modern_s_okg_eg.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/control_building_modern_s_okg_eg.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/control_building_modern_s_okg_eg.png"}}}},control_building_modern_s_okg_og:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/control_building_modern_s_okg_og.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/control_building_modern_s_okg_og.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/control_building_modern_s_okg_og.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/control_building_modern_s_okg_og.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/control_building_modern_s_okg_og.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/control_building_modern_s_okg_og.png"}}}},control_building_og:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/control_building_og.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/control_building_og.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/control_building_og.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/control_building_og.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/control_building_og.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/control_building_og.png"}}}},control_building_outside:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/control_building_outside.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/control_building_outside.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/control_building_outside.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/control_building_outside.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/control_building_outside.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/control_building_outside.png"}}}},control_building_s_all:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/control_building_s_all.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/control_building_s_all.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/control_building_s_all.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/control_building_s_all.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/control_building_s_all.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/control_building_s_all.png"}}}},control_building_s_dg:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/control_building_s_dg.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/control_building_s_dg.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/control_building_s_dg.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/control_building_s_dg.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/control_building_s_dg.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/control_building_s_dg.png"}}}},control_building_s_eg:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/control_building_s_eg.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/control_building_s_eg.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/control_building_s_eg.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/control_building_s_eg.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/control_building_s_eg.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/control_building_s_eg.png"}}}},control_building_s_kg:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/control_building_s_kg.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/control_building_s_kg.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/control_building_s_kg.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/control_building_s_kg.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/control_building_s_kg.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/control_building_s_kg.png"}}}},control_building_s_og:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/control_building_s_og.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/control_building_s_og.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/control_building_s_og.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/control_building_s_og.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/control_building_s_og.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/control_building_s_og.png"}}}},control_home:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/control_home.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/control_home.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/control_home.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/control_home.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/control_home.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/control_home.png"}}}},control_minus:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/control_minus.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/control_minus.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/control_minus.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/control_minus.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/control_minus.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/control_minus.png"}}}},control_on_off:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/control_on_off.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/control_on_off.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/control_on_off.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/control_on_off.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/control_on_off.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/control_on_off.png"}}}},control_outside_on_off:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/control_outside_on_off.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/control_outside_on_off.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/control_outside_on_off.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/control_outside_on_off.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/control_outside_on_off.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/control_outside_on_off.png"}}}},control_plus:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/control_plus.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/control_plus.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/control_plus.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/control_plus.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/control_plus.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/control_plus.png"}}}},control_return:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/control_return.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/control_return.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/control_return.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/control_return.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/control_return.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/control_return.png"}}}},control_standby:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/control_standby.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/control_standby.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/control_standby.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/control_standby.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/control_standby.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/control_standby.png"}}}},control_x:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/control_x.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/control_x.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/control_x.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/control_x.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/control_x.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/control_x.png"}}}},control_zoom_in:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/control_zoom_in.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/control_zoom_in.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/control_zoom_in.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/control_zoom_in.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/control_zoom_in.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/control_zoom_in.png"}}}},control_zoom_out:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/control_zoom_out.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/control_zoom_out.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/control_zoom_out.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/control_zoom_out.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/control_zoom_out.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/control_zoom_out.png"}}}},edit_copy:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/edit_copy.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/edit_copy.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/edit_copy.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/edit_copy.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/edit_copy.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/edit_copy.png"}}}},edit_cut:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/edit_cut.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/edit_cut.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/edit_cut.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/edit_cut.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/edit_cut.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/edit_cut.png"}}}},edit_delete:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/edit_delete.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/edit_delete.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/edit_delete.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/edit_delete.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/edit_delete.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/edit_delete.png"}}}},edit_open:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/edit_open.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/edit_open.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/edit_open.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/edit_open.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/edit_open.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/edit_open.png"}}}},edit_paste:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/edit_paste.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/edit_paste.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/edit_paste.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/edit_paste.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/edit_paste.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/edit_paste.png"}}}},edit_save:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/edit_save.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/edit_save.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/edit_save.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/edit_save.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/edit_save.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/edit_save.png"}}}},fts_blade_arc:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/fts_blade_arc.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/fts_blade_arc.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/fts_blade_arc.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/fts_blade_arc.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/fts_blade_arc.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/fts_blade_arc.png"}}}},fts_blade_arc_sun:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/fts_blade_arc_sun.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/fts_blade_arc_sun.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/fts_blade_arc_sun.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/fts_blade_arc_sun.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/fts_blade_arc_sun.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/fts_blade_arc_sun.png"}}}},fts_blade_s:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/fts_blade_s.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/fts_blade_s.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/fts_blade_s.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/fts_blade_s.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/fts_blade_s.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/fts_blade_s.png"}}}},fts_blade_s_sun:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/fts_blade_s_sun.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/fts_blade_s_sun.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/fts_blade_s_sun.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/fts_blade_s_sun.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/fts_blade_s_sun.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/fts_blade_s_sun.png"}}}},fts_blade_z:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/fts_blade_z.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/fts_blade_z.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/fts_blade_z.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/fts_blade_z.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/fts_blade_z.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/fts_blade_z.png"}}}},fts_blade_z_sun:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/fts_blade_z_sun.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/fts_blade_z_sun.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/fts_blade_z_sun.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/fts_blade_z_sun.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/fts_blade_z_sun.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/fts_blade_z_sun.png"}}}},fts_door:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/fts_door.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/fts_door.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/fts_door.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/fts_door.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/fts_door.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/fts_door.png"}}}},fts_door_open:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/fts_door_open.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/fts_door_open.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/fts_door_open.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/fts_door_open.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/fts_door_open.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/fts_door_open.png"}}}},fts_door_slide:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/fts_door_slide.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/fts_door_slide.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/fts_door_slide.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/fts_door_slide.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/fts_door_slide.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/fts_door_slide.png"}}}},fts_door_slide_2w:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/fts_door_slide_2w.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/fts_door_slide_2w.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/fts_door_slide_2w.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/fts_door_slide_2w.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/fts_door_slide_2w.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/fts_door_slide_2w.png"}}}},fts_garage:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/fts_garage.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/fts_garage.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/fts_garage.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/fts_garage.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/fts_garage.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/fts_garage.png"}}}},fts_garage_door_10:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/fts_garage_door_10.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/fts_garage_door_10.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/fts_garage_door_10.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/fts_garage_door_10.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/fts_garage_door_10.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/fts_garage_door_10.png"}}}},fts_garage_door_100:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/fts_garage_door_100.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/fts_garage_door_100.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/fts_garage_door_100.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/fts_garage_door_100.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/fts_garage_door_100.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/fts_garage_door_100.png"}}}},fts_garage_door_20:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/fts_garage_door_20.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/fts_garage_door_20.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/fts_garage_door_20.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/fts_garage_door_20.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/fts_garage_door_20.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/fts_garage_door_20.png"}}}},fts_garage_door_30:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/fts_garage_door_30.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/fts_garage_door_30.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/fts_garage_door_30.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/fts_garage_door_30.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/fts_garage_door_30.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/fts_garage_door_30.png"}}}},fts_garage_door_40:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/fts_garage_door_40.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/fts_garage_door_40.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/fts_garage_door_40.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/fts_garage_door_40.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/fts_garage_door_40.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/fts_garage_door_40.png"}}}},fts_garage_door_50:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/fts_garage_door_50.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/fts_garage_door_50.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/fts_garage_door_50.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/fts_garage_door_50.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/fts_garage_door_50.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/fts_garage_door_50.png"}}}},fts_garage_door_60:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/fts_garage_door_60.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/fts_garage_door_60.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/fts_garage_door_60.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/fts_garage_door_60.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/fts_garage_door_60.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/fts_garage_door_60.png"}}}},fts_garage_door_70:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/fts_garage_door_70.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/fts_garage_door_70.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/fts_garage_door_70.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/fts_garage_door_70.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/fts_garage_door_70.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/fts_garage_door_70.png"}}}},fts_garage_door_80:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/fts_garage_door_80.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/fts_garage_door_80.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/fts_garage_door_80.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/fts_garage_door_80.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/fts_garage_door_80.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/fts_garage_door_80.png"}}}},fts_garage_door_90:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/fts_garage_door_90.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/fts_garage_door_90.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/fts_garage_door_90.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/fts_garage_door_90.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/fts_garage_door_90.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/fts_garage_door_90.png"}}}},fts_shutter:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/fts_shutter.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/fts_shutter.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/fts_shutter.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/fts_shutter.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/fts_shutter.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/fts_shutter.png"}}}},fts_shutter_10:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/fts_shutter_10.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/fts_shutter_10.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/fts_shutter_10.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/fts_shutter_10.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/fts_shutter_10.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/fts_shutter_10.png"}}}},fts_shutter_100:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/fts_shutter_100.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/fts_shutter_100.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/fts_shutter_100.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/fts_shutter_100.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/fts_shutter_100.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/fts_shutter_100.png"}}}},fts_shutter_20:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/fts_shutter_20.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/fts_shutter_20.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/fts_shutter_20.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/fts_shutter_20.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/fts_shutter_20.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/fts_shutter_20.png"}}}},fts_shutter_30:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/fts_shutter_30.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/fts_shutter_30.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/fts_shutter_30.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/fts_shutter_30.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/fts_shutter_30.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/fts_shutter_30.png"}}}},fts_shutter_40:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/fts_shutter_40.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/fts_shutter_40.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/fts_shutter_40.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/fts_shutter_40.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/fts_shutter_40.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/fts_shutter_40.png"}}}},fts_shutter_50:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/fts_shutter_50.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/fts_shutter_50.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/fts_shutter_50.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/fts_shutter_50.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/fts_shutter_50.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/fts_shutter_50.png"}}}},fts_shutter_60:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/fts_shutter_60.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/fts_shutter_60.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/fts_shutter_60.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/fts_shutter_60.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/fts_shutter_60.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/fts_shutter_60.png"}}}},fts_shutter_70:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/fts_shutter_70.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/fts_shutter_70.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/fts_shutter_70.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/fts_shutter_70.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/fts_shutter_70.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/fts_shutter_70.png"}}}},fts_shutter_80:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/fts_shutter_80.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/fts_shutter_80.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/fts_shutter_80.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/fts_shutter_80.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/fts_shutter_80.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/fts_shutter_80.png"}}}},fts_shutter_90:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/fts_shutter_90.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/fts_shutter_90.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/fts_shutter_90.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/fts_shutter_90.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/fts_shutter_90.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/fts_shutter_90.png"}}}},fts_shutter_down:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/fts_shutter_down.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/fts_shutter_down.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/fts_shutter_down.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/fts_shutter_down.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/fts_shutter_down.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/fts_shutter_down.png"}}}},fts_shutter_up:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/fts_shutter_up.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/fts_shutter_up.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/fts_shutter_up.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/fts_shutter_up.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/fts_shutter_up.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/fts_shutter_up.png"}}}},fts_sunblind:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/fts_sunblind.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/fts_sunblind.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/fts_sunblind.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/fts_sunblind.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/fts_sunblind.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/fts_sunblind.png"}}}},fts_window_1w:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/fts_window_1w.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/fts_window_1w.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/fts_window_1w.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/fts_window_1w.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/fts_window_1w.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/fts_window_1w.png"}}}},fts_window_1w_open:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/fts_window_1w_open.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/fts_window_1w_open.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/fts_window_1w_open.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/fts_window_1w_open.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/fts_window_1w_open.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/fts_window_1w_open.png"}}}},fts_window_1w_tilt:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/fts_window_1w_tilt.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/fts_window_1w_tilt.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/fts_window_1w_tilt.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/fts_window_1w_tilt.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/fts_window_1w_tilt.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/fts_window_1w_tilt.png"}}}},fts_window_2w:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/fts_window_2w.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/fts_window_2w.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/fts_window_2w.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/fts_window_2w.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/fts_window_2w.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/fts_window_2w.png"}}}},fts_window_2w_open:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/fts_window_2w_open.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/fts_window_2w_open.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/fts_window_2w_open.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/fts_window_2w_open.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/fts_window_2w_open.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/fts_window_2w_open.png"}}}},fts_window_2w_tilt:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/fts_window_2w_tilt.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/fts_window_2w_tilt.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/fts_window_2w_tilt.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/fts_window_2w_tilt.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/fts_window_2w_tilt.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/fts_window_2w_tilt.png"}}}},it_camera:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/it_camera.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/it_camera.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/it_camera.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/it_camera.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/it_camera.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/it_camera.png"}}}},it_internet:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/it_internet.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/it_internet.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/it_internet.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/it_internet.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/it_internet.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/it_internet.png"}}}},it_nas:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/it_nas.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/it_nas.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/it_nas.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/it_nas.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/it_nas.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/it_nas.png"}}}},it_net:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/it_net.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/it_net.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/it_net.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/it_net.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/it_net.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/it_net.png"}}}},it_network:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/it_network.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/it_network.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/it_network.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/it_network.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/it_network.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/it_network.png"}}}},it_pc:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/it_pc.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/it_pc.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/it_pc.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/it_pc.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/it_pc.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/it_pc.png"}}}},it_radio:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/it_radio.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/it_radio.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/it_radio.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/it_radio.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/it_radio.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/it_radio.png"}}}},it_remote:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/it_remote.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/it_remote.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/it_remote.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/it_remote.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/it_remote.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/it_remote.png"}}}},it_router:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/it_router.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/it_router.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/it_router.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/it_router.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/it_router.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/it_router.png"}}}},it_satellite_dish:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/it_satellite_dish.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/it_satellite_dish.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/it_satellite_dish.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/it_satellite_dish.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/it_satellite_dish.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/it_satellite_dish.png"}}}},it_satellite_dish_heating:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/it_satellite_dish_heating.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/it_satellite_dish_heating.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/it_satellite_dish_heating.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/it_satellite_dish_heating.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/it_satellite_dish_heating.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/it_satellite_dish_heating.png"}}}},it_server:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/it_server.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/it_server.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/it_server.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/it_server.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/it_server.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/it_server.png"}}}},it_smartphone:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/it_smartphone.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/it_smartphone.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/it_smartphone.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/it_smartphone.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/it_smartphone.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/it_smartphone.png"}}}},it_telephone:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/it_telephone.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/it_telephone.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/it_telephone.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/it_telephone.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/it_telephone.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/it_telephone.png"}}}},it_television:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/it_television.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/it_television.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/it_television.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/it_television.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/it_television.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/it_television.png"}}}},it_wifi:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/it_wifi.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/it_wifi.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/it_wifi.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/it_wifi.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/it_wifi.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/it_wifi.png"}}}},it_wireless_dcf77:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/it_wireless_dcf77.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/it_wireless_dcf77.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/it_wireless_dcf77.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/it_wireless_dcf77.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/it_wireless_dcf77.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/it_wireless_dcf77.png"}}}},light_cabinet:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/light_cabinet.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/light_cabinet.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/light_cabinet.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/light_cabinet.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/light_cabinet.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/light_cabinet.png"}}}},light_ceiling_light:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/light_ceiling_light.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/light_ceiling_light.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/light_ceiling_light.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/light_ceiling_light.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/light_ceiling_light.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/light_ceiling_light.png"}}}},light_control:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/light_control.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/light_control.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/light_control.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/light_control.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/light_control.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/light_control.png"}}}},light_diffused:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/light_diffused.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/light_diffused.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/light_diffused.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/light_diffused.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/light_diffused.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/light_diffused.png"}}}},light_dinner_table:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/light_dinner_table.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/light_dinner_table.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/light_dinner_table.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/light_dinner_table.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/light_dinner_table.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/light_dinner_table.png"}}}},light_fairy_lights:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/light_fairy_lights.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/light_fairy_lights.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/light_fairy_lights.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/light_fairy_lights.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/light_fairy_lights.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/light_fairy_lights.png"}}}},light_floor_lamp:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/light_floor_lamp.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/light_floor_lamp.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/light_floor_lamp.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/light_floor_lamp.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/light_floor_lamp.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/light_floor_lamp.png"}}}},light_led:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/light_led.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/light_led.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/light_led.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/light_led.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/light_led.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/light_led.png"}}}},light_light:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/light_light.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/light_light.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/light_light.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/light_light.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/light_light.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/light_light.png"}}}},light_light_dim_00:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/light_light_dim_00.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/light_light_dim_00.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/light_light_dim_00.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/light_light_dim_00.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/light_light_dim_00.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/light_light_dim_00.png"}}}},light_light_dim_10:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/light_light_dim_10.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/light_light_dim_10.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/light_light_dim_10.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/light_light_dim_10.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/light_light_dim_10.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/light_light_dim_10.png"}}}},light_light_dim_100:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/light_light_dim_100.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/light_light_dim_100.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/light_light_dim_100.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/light_light_dim_100.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/light_light_dim_100.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/light_light_dim_100.png"}}}},light_light_dim_20:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/light_light_dim_20.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/light_light_dim_20.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/light_light_dim_20.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/light_light_dim_20.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/light_light_dim_20.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/light_light_dim_20.png"}}}},light_light_dim_30:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/light_light_dim_30.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/light_light_dim_30.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/light_light_dim_30.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/light_light_dim_30.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/light_light_dim_30.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/light_light_dim_30.png"}}}},light_light_dim_40:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/light_light_dim_40.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/light_light_dim_40.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/light_light_dim_40.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/light_light_dim_40.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/light_light_dim_40.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/light_light_dim_40.png"}}}},light_light_dim_50:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/light_light_dim_50.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/light_light_dim_50.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/light_light_dim_50.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/light_light_dim_50.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/light_light_dim_50.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/light_light_dim_50.png"}}}},light_light_dim_60:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/light_light_dim_60.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/light_light_dim_60.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/light_light_dim_60.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/light_light_dim_60.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/light_light_dim_60.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/light_light_dim_60.png"}}}},light_light_dim_70:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/light_light_dim_70.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/light_light_dim_70.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/light_light_dim_70.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/light_light_dim_70.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/light_light_dim_70.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/light_light_dim_70.png"}}}},light_light_dim_80:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/light_light_dim_80.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/light_light_dim_80.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/light_light_dim_80.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/light_light_dim_80.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/light_light_dim_80.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/light_light_dim_80.png"}}}},light_light_dim_90:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/light_light_dim_90.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/light_light_dim_90.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/light_light_dim_90.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/light_light_dim_90.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/light_light_dim_90.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/light_light_dim_90.png"}}}},light_mirror:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/light_mirror.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/light_mirror.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/light_mirror.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/light_mirror.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/light_mirror.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/light_mirror.png"}}}},light_office:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/light_office.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/light_office.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/light_office.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/light_office.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/light_office.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/light_office.png"}}}},light_office_desk:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/light_office_desk.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/light_office_desk.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/light_office_desk.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/light_office_desk.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/light_office_desk.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/light_office_desk.png"}}}},light_outdoor:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/light_outdoor.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/light_outdoor.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/light_outdoor.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/light_outdoor.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/light_outdoor.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/light_outdoor.png"}}}},light_party:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/light_party.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/light_party.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/light_party.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/light_party.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/light_party.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/light_party.png"}}}},light_pendant_light:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/light_pendant_light.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/light_pendant_light.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/light_pendant_light.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/light_pendant_light.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/light_pendant_light.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/light_pendant_light.png"}}}},light_pendant_light_round:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/light_pendant_light_round.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/light_pendant_light_round.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/light_pendant_light_round.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/light_pendant_light_round.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/light_pendant_light_round.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/light_pendant_light_round.png"}}}},light_stairs:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/light_stairs.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/light_stairs.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/light_stairs.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/light_stairs.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/light_stairs.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/light_stairs.png"}}}},light_wall_1:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/light_wall_1.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/light_wall_1.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/light_wall_1.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/light_wall_1.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/light_wall_1.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/light_wall_1.png"}}}},light_wall_2:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/light_wall_2.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/light_wall_2.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/light_wall_2.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/light_wall_2.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/light_wall_2.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/light_wall_2.png"}}}},light_wall_3:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/light_wall_3.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/light_wall_3.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/light_wall_3.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/light_wall_3.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/light_wall_3.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/light_wall_3.png"}}}},light_wire_system_1:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/light_wire_system_1.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/light_wire_system_1.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/light_wire_system_1.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/light_wire_system_1.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/light_wire_system_1.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/light_wire_system_1.png"}}}},light_wire_system_2:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/light_wire_system_2.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/light_wire_system_2.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/light_wire_system_2.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/light_wire_system_2.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/light_wire_system_2.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/light_wire_system_2.png"}}}},measure_current:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/measure_current.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/measure_current.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/measure_current.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/measure_current.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/measure_current.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/measure_current.png"}}}},measure_photovoltaic_inst:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/measure_photovoltaic_inst.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/measure_photovoltaic_inst.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/measure_photovoltaic_inst.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/measure_photovoltaic_inst.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/measure_photovoltaic_inst.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/measure_photovoltaic_inst.png"}}}},measure_power:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/measure_power.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/measure_power.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/measure_power.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/measure_power.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/measure_power.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/measure_power.png"}}}},measure_power_meter:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/measure_power_meter.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/measure_power_meter.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/measure_power_meter.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/measure_power_meter.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/measure_power_meter.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/measure_power_meter.png"}}}},measure_voltage:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/measure_voltage.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/measure_voltage.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/measure_voltage.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/measure_voltage.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/measure_voltage.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/measure_voltage.png"}}}},measure_water_meter:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/measure_water_meter.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/measure_water_meter.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/measure_water_meter.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/measure_water_meter.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/measure_water_meter.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/measure_water_meter.png"}}}},message_attention:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/message_attention.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/message_attention.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/message_attention.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/message_attention.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/message_attention.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/message_attention.png"}}}},message_garbage:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/message_garbage.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/message_garbage.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/message_garbage.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/message_garbage.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/message_garbage.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/message_garbage.png"}}}},message_mail:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/message_mail.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/message_mail.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/message_mail.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/message_mail.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/message_mail.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/message_mail.png"}}}},message_mail_open:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/message_mail_open.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/message_mail_open.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/message_mail_open.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/message_mail_open.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/message_mail_open.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/message_mail_open.png"}}}},message_medicine:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/message_medicine.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/message_medicine.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/message_medicine.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/message_medicine.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/message_medicine.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/message_medicine.png"}}}},message_ok:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/message_ok.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/message_ok.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/message_ok.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/message_ok.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/message_ok.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/message_ok.png"}}}},message_presence:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/message_presence.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/message_presence.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/message_presence.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/message_presence.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/message_presence.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/message_presence.png"}}}},message_presence_disabled:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/message_presence_disabled.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/message_presence_disabled.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/message_presence_disabled.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/message_presence_disabled.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/message_presence_disabled.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/message_presence_disabled.png"}}}},message_service:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/message_service.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/message_service.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/message_service.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/message_service.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/message_service.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/message_service.png"}}}},message_socket:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/message_socket.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/message_socket.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/message_socket.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/message_socket.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/message_socket.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/message_socket.png"}}}},message_socket_ch:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/message_socket_ch.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/message_socket_ch.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/message_socket_ch.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/message_socket_ch.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/message_socket_ch.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/message_socket_ch.png"}}}},message_socket_ch_3:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/message_socket_ch_3.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/message_socket_ch_3.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/message_socket_ch_3.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/message_socket_ch_3.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/message_socket_ch_3.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/message_socket_ch_3.png"}}}},message_socket_on_off:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/message_socket_on_off.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/message_socket_on_off.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/message_socket_on_off.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/message_socket_on_off.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/message_socket_on_off.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/message_socket_on_off.png"}}}},message_tendency_downward:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/message_tendency_downward.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/message_tendency_downward.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/message_tendency_downward.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/message_tendency_downward.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/message_tendency_downward.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/message_tendency_downward.png"}}}},message_tendency_steady:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/message_tendency_steady.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/message_tendency_steady.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/message_tendency_steady.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/message_tendency_steady.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/message_tendency_steady.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/message_tendency_steady.png"}}}},message_tendency_upward:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/message_tendency_upward.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/message_tendency_upward.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/message_tendency_upward.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/message_tendency_upward.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/message_tendency_upward.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/message_tendency_upward.png"}}}},sani_boiler_temp:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/sani_boiler_temp.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/sani_boiler_temp.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/sani_boiler_temp.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/sani_boiler_temp.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/sani_boiler_temp.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/sani_boiler_temp.png"}}}},sani_buffer_temp_all:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/sani_buffer_temp_all.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/sani_buffer_temp_all.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/sani_buffer_temp_all.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/sani_buffer_temp_all.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/sani_buffer_temp_all.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/sani_buffer_temp_all.png"}}}},sani_buffer_temp_down:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/sani_buffer_temp_down.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/sani_buffer_temp_down.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/sani_buffer_temp_down.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/sani_buffer_temp_down.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/sani_buffer_temp_down.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/sani_buffer_temp_down.png"}}}},sani_buffer_temp_up:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/sani_buffer_temp_up.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/sani_buffer_temp_up.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/sani_buffer_temp_up.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/sani_buffer_temp_up.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/sani_buffer_temp_up.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/sani_buffer_temp_up.png"}}}},sani_domestic_waterworks:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/sani_domestic_waterworks.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/sani_domestic_waterworks.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/sani_domestic_waterworks.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/sani_domestic_waterworks.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/sani_domestic_waterworks.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/sani_domestic_waterworks.png"}}}},sani_floor_heating:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/sani_floor_heating.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/sani_floor_heating.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/sani_floor_heating.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/sani_floor_heating.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/sani_floor_heating.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/sani_floor_heating.png"}}}},sani_garden_pump:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/sani_garden_pump.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/sani_garden_pump.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/sani_garden_pump.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/sani_garden_pump.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/sani_garden_pump.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/sani_garden_pump.png"}}}},sani_heating:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/sani_heating.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/sani_heating.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/sani_heating.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/sani_heating.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/sani_heating.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/sani_heating.png"}}}},sani_heating_automatic:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/sani_heating_automatic.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/sani_heating_automatic.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/sani_heating_automatic.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/sani_heating_automatic.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/sani_heating_automatic.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/sani_heating_automatic.png"}}}},sani_heating_manual:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/sani_heating_manual.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/sani_heating_manual.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/sani_heating_manual.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/sani_heating_manual.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/sani_heating_manual.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/sani_heating_manual.png"}}}},sani_heating_temp:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/sani_heating_temp.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/sani_heating_temp.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/sani_heating_temp.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/sani_heating_temp.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/sani_heating_temp.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/sani_heating_temp.png"}}}},sani_irrigation:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/sani_irrigation.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/sani_irrigation.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/sani_irrigation.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/sani_irrigation.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/sani_irrigation.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/sani_irrigation.png"}}}},sani_pump:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/sani_pump.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/sani_pump.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/sani_pump.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/sani_pump.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/sani_pump.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/sani_pump.png"}}}},sani_return_temp:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/sani_return_temp.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/sani_return_temp.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/sani_return_temp.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/sani_return_temp.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/sani_return_temp.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/sani_return_temp.png"}}}},sani_solar:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/sani_solar.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/sani_solar.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/sani_solar.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/sani_solar.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/sani_solar.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/sani_solar.png"}}}},sani_solar_temp:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/sani_solar_temp.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/sani_solar_temp.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/sani_solar_temp.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/sani_solar_temp.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/sani_solar_temp.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/sani_solar_temp.png"}}}},sani_sprinkling:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/sani_sprinkling.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/sani_sprinkling.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/sani_sprinkling.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/sani_sprinkling.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/sani_sprinkling.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/sani_sprinkling.png"}}}},sani_supply_temp:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/sani_supply_temp.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/sani_supply_temp.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/sani_supply_temp.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/sani_supply_temp.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/sani_supply_temp.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/sani_supply_temp.png"}}}},sani_water_cold:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/sani_water_cold.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/sani_water_cold.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/sani_water_cold.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/sani_water_cold.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/sani_water_cold.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/sani_water_cold.png"}}}},sani_water_hot:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/sani_water_hot.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/sani_water_hot.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/sani_water_hot.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/sani_water_hot.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/sani_water_hot.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/sani_water_hot.png"}}}},sani_water_tap:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/sani_water_tap.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/sani_water_tap.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/sani_water_tap.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/sani_water_tap.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/sani_water_tap.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/sani_water_tap.png"}}}},scene_baby:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/scene_baby.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/scene_baby.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/scene_baby.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/scene_baby.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/scene_baby.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/scene_baby.png"}}}},scene_bath:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/scene_bath.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/scene_bath.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/scene_bath.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/scene_bath.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/scene_bath.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/scene_bath.png"}}}},scene_bathroom:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/scene_bathroom.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/scene_bathroom.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/scene_bathroom.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/scene_bathroom.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/scene_bathroom.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/scene_bathroom.png"}}}},scene_childs_room:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/scene_childs_room.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/scene_childs_room.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/scene_childs_room.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/scene_childs_room.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/scene_childs_room.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/scene_childs_room.png"}}}},scene_cleaning:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/scene_cleaning.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/scene_cleaning.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/scene_cleaning.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/scene_cleaning.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/scene_cleaning.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/scene_cleaning.png"}}}},scene_cockle_stove:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/scene_cockle_stove.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/scene_cockle_stove.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/scene_cockle_stove.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/scene_cockle_stove.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/scene_cockle_stove.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/scene_cockle_stove.png"}}}},scene_cooking:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/scene_cooking.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/scene_cooking.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/scene_cooking.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/scene_cooking.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/scene_cooking.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/scene_cooking.png"}}}},scene_cubby:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/scene_cubby.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/scene_cubby.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/scene_cubby.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/scene_cubby.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/scene_cubby.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/scene_cubby.png"}}}},scene_day:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/scene_day.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/scene_day.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/scene_day.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/scene_day.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/scene_day.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/scene_day.png"}}}},scene_dinner:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/scene_dinner.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/scene_dinner.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/scene_dinner.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/scene_dinner.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/scene_dinner.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/scene_dinner.png"}}}},scene_gaming:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/scene_gaming.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/scene_gaming.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/scene_gaming.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/scene_gaming.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/scene_gaming.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/scene_gaming.png"}}}},scene_garden:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/scene_garden.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/scene_garden.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/scene_garden.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/scene_garden.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/scene_garden.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/scene_garden.png"}}}},scene_hall:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/scene_hall.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/scene_hall.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/scene_hall.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/scene_hall.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/scene_hall.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/scene_hall.png"}}}},scene_keyboard:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/scene_keyboard.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/scene_keyboard.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/scene_keyboard.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/scene_keyboard.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/scene_keyboard.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/scene_keyboard.png"}}}},scene_laundry_room:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/scene_laundry_room.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/scene_laundry_room.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/scene_laundry_room.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/scene_laundry_room.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/scene_laundry_room.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/scene_laundry_room.png"}}}},scene_laundry_room_fem:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/scene_laundry_room_fem.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/scene_laundry_room_fem.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/scene_laundry_room_fem.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/scene_laundry_room_fem.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/scene_laundry_room_fem.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/scene_laundry_room_fem.png"}}}},scene_livingroom:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/scene_livingroom.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/scene_livingroom.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/scene_livingroom.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/scene_livingroom.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/scene_livingroom.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/scene_livingroom.png"}}}},scene_making_love:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/scene_making_love.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/scene_making_love.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/scene_making_love.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/scene_making_love.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/scene_making_love.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/scene_making_love.png"}}}},scene_making_love_clean:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/scene_making_love_clean.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/scene_making_love_clean.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/scene_making_love_clean.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/scene_making_love_clean.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/scene_making_love_clean.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/scene_making_love_clean.png"}}}},scene_night:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/scene_night.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/scene_night.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/scene_night.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/scene_night.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/scene_night.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/scene_night.png"}}}},scene_office:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/scene_office.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/scene_office.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/scene_office.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/scene_office.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/scene_office.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/scene_office.png"}}}},scene_party:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/scene_party.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/scene_party.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/scene_party.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/scene_party.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/scene_party.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/scene_party.png"}}}},scene_pool:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/scene_pool.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/scene_pool.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/scene_pool.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/scene_pool.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/scene_pool.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/scene_pool.png"}}}},scene_robo_lawnmower:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/scene_robo_lawnmower.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/scene_robo_lawnmower.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/scene_robo_lawnmower.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/scene_robo_lawnmower.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/scene_robo_lawnmower.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/scene_robo_lawnmower.png"}}}},scene_sauna:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/scene_sauna.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/scene_sauna.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/scene_sauna.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/scene_sauna.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/scene_sauna.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/scene_sauna.png"}}}},scene_scene:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/scene_scene.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/scene_scene.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/scene_scene.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/scene_scene.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/scene_scene.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/scene_scene.png"}}}},scene_shower:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/scene_shower.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/scene_shower.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/scene_shower.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/scene_shower.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/scene_shower.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/scene_shower.png"}}}},scene_sleeping:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/scene_sleeping.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/scene_sleeping.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/scene_sleeping.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/scene_sleeping.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/scene_sleeping.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/scene_sleeping.png"}}}},scene_sleeping_alternat:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/scene_sleeping_alternat.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/scene_sleeping_alternat.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/scene_sleeping_alternat.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/scene_sleeping_alternat.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/scene_sleeping_alternat.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/scene_sleeping_alternat.png"}}}},scene_stairs:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/scene_stairs.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/scene_stairs.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/scene_stairs.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/scene_stairs.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/scene_stairs.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/scene_stairs.png"}}}},scene_storeroom:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/scene_storeroom.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/scene_storeroom.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/scene_storeroom.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/scene_storeroom.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/scene_storeroom.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/scene_storeroom.png"}}}},scene_stove:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/scene_stove.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/scene_stove.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/scene_stove.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/scene_stove.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/scene_stove.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/scene_stove.png"}}}},scene_summerhouse:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/scene_summerhouse.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/scene_summerhouse.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/scene_summerhouse.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/scene_summerhouse.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/scene_summerhouse.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/scene_summerhouse.png"}}}},scene_swimming:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/scene_swimming.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/scene_swimming.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/scene_swimming.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/scene_swimming.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/scene_swimming.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/scene_swimming.png"}}}},scene_terrace:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/scene_terrace.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/scene_terrace.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/scene_terrace.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/scene_terrace.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/scene_terrace.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/scene_terrace.png"}}}},scene_toilet:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/scene_toilet.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/scene_toilet.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/scene_toilet.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/scene_toilet.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/scene_toilet.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/scene_toilet.png"}}}},scene_toilet_alternat:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/scene_toilet_alternat.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/scene_toilet_alternat.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/scene_toilet_alternat.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/scene_toilet_alternat.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/scene_toilet_alternat.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/scene_toilet_alternat.png"}}}},scene_visit_guests:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/scene_visit_guests.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/scene_visit_guests.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/scene_visit_guests.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/scene_visit_guests.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/scene_visit_guests.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/scene_visit_guests.png"}}}},"scene_x-mas":{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/scene_x-mas.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/scene_x-mas.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/scene_x-mas.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/scene_x-mas.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/scene_x-mas.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/scene_x-mas.png"}}}},secur_alarm:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/secur_alarm.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/secur_alarm.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/secur_alarm.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/secur_alarm.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/secur_alarm.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/secur_alarm.png"}}}},secur_encoding:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/secur_encoding.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/secur_encoding.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/secur_encoding.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/secur_encoding.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/secur_encoding.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/secur_encoding.png"}}}},secur_frost_protection:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/secur_frost_protection.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/secur_frost_protection.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/secur_frost_protection.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/secur_frost_protection.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/secur_frost_protection.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/secur_frost_protection.png"}}}},secur_heat_protection:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/secur_heat_protection.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/secur_heat_protection.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/secur_heat_protection.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/secur_heat_protection.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/secur_heat_protection.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/secur_heat_protection.png"}}}},secur_locked:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/secur_locked.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/secur_locked.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/secur_locked.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/secur_locked.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/secur_locked.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/secur_locked.png"}}}},secur_open:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/secur_open.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/secur_open.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/secur_open.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/secur_open.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/secur_open.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/secur_open.png"}}}},secur_smoke_detector:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/secur_smoke_detector.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/secur_smoke_detector.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/secur_smoke_detector.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/secur_smoke_detector.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/secur_smoke_detector.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/secur_smoke_detector.png"}}}},status_automatic:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/status_automatic.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/status_automatic.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/status_automatic.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/status_automatic.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/status_automatic.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/status_automatic.png"}}}},status_available:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/status_available.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/status_available.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/status_available.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/status_available.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/status_available.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/status_available.png"}}}},status_away_1:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/status_away_1.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/status_away_1.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/status_away_1.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/status_away_1.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/status_away_1.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/status_away_1.png"}}}},status_away_2:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/status_away_2.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/status_away_2.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/status_away_2.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/status_away_2.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/status_away_2.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/status_away_2.png"}}}},status_comfort:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/status_comfort.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/status_comfort.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/status_comfort.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/status_comfort.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/status_comfort.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/status_comfort.png"}}}},status_frost:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/status_frost.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/status_frost.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/status_frost.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/status_frost.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/status_frost.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/status_frost.png"}}}},status_locked:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/status_locked.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/status_locked.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/status_locked.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/status_locked.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/status_locked.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/status_locked.png"}}}},status_night:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/status_night.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/status_night.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/status_night.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/status_night.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/status_night.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/status_night.png"}}}},status_open:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/status_open.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/status_open.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/status_open.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/status_open.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/status_open.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/status_open.png"}}}},status_standby:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/status_standby.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/status_standby.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/status_standby.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/status_standby.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/status_standby.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/status_standby.png"}}}},temp_control:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/temp_control.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/temp_control.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/temp_control.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/temp_control.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/temp_control.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/temp_control.png"}}}},temp_frost:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/temp_frost.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/temp_frost.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/temp_frost.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/temp_frost.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/temp_frost.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/temp_frost.png"}}}},temp_inside:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/temp_inside.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/temp_inside.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/temp_inside.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/temp_inside.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/temp_inside.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/temp_inside.png"}}}},temp_outside:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/temp_outside.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/temp_outside.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/temp_outside.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/temp_outside.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/temp_outside.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/temp_outside.png"}}}},temp_temperature:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/temp_temperature.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/temp_temperature.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/temp_temperature.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/temp_temperature.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/temp_temperature.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/temp_temperature.png"}}}},temp_temperature_max:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/temp_temperature_max.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/temp_temperature_max.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/temp_temperature_max.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/temp_temperature_max.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/temp_temperature_max.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/temp_temperature_max.png"}}}},temp_temperature_min:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/temp_temperature_min.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/temp_temperature_min.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/temp_temperature_min.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/temp_temperature_min.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/temp_temperature_min.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/temp_temperature_min.png"}}}},text_max:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/text_max.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/text_max.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/text_max.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/text_max.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/text_max.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/text_max.png"}}}},text_min:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/text_min.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/text_min.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/text_min.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/text_min.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/text_min.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/text_min.png"}}}},time_automatic:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/time_automatic.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/time_automatic.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/time_automatic.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/time_automatic.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/time_automatic.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/time_automatic.png"}}}},time_calendar:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/time_calendar.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/time_calendar.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/time_calendar.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/time_calendar.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/time_calendar.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/time_calendar.png"}}}},time_clock:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/time_clock.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/time_clock.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/time_clock.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/time_clock.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/time_clock.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/time_clock.png"}}}},time_eco_mode:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/time_eco_mode.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/time_eco_mode.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/time_eco_mode.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/time_eco_mode.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/time_eco_mode.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/time_eco_mode.png"}}}},time_graph:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/time_graph.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/time_graph.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/time_graph.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/time_graph.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/time_graph.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/time_graph.png"}}}},time_manual_mode:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/time_manual_mode.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/time_manual_mode.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/time_manual_mode.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/time_manual_mode.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/time_manual_mode.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/time_manual_mode.png"}}}},time_note:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/time_note.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/time_note.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/time_note.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/time_note.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/time_note.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/time_note.png"}}}},time_statistic:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/time_statistic.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/time_statistic.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/time_statistic.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/time_statistic.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/time_statistic.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/time_statistic.png"}}}},user_available:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/user_available.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/user_available.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/user_available.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/user_available.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/user_available.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/user_available.png"}}}},user_away:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/user_away.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/user_away.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/user_away.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/user_away.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/user_away.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/user_away.png"}}}},user_ext_away:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/user_ext_away.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/user_ext_away.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/user_ext_away.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/user_ext_away.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/user_ext_away.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/user_ext_away.png"}}}},vent_ambient_air:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/vent_ambient_air.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/vent_ambient_air.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/vent_ambient_air.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/vent_ambient_air.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/vent_ambient_air.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/vent_ambient_air.png"}}}},vent_exhaust_air:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/vent_exhaust_air.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/vent_exhaust_air.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/vent_exhaust_air.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/vent_exhaust_air.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/vent_exhaust_air.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/vent_exhaust_air.png"}}}},vent_supply_air:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/vent_supply_air.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/vent_supply_air.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/vent_supply_air.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/vent_supply_air.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/vent_supply_air.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/vent_supply_air.png"}}}},vent_used_air:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/vent_used_air.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/vent_used_air.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/vent_used_air.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/vent_used_air.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/vent_used_air.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/vent_used_air.png"}}}},vent_ventilation:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/vent_ventilation.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/vent_ventilation.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/vent_ventilation.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/vent_ventilation.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/vent_ventilation.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/vent_ventilation.png"}}}},vent_ventilation_control:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/vent_ventilation_control.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/vent_ventilation_control.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/vent_ventilation_control.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/vent_ventilation_control.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/vent_ventilation_control.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/vent_ventilation_control.png"}}}},vent_ventilation_level_0:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/vent_ventilation_level_0.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/vent_ventilation_level_0.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/vent_ventilation_level_0.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/vent_ventilation_level_0.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/vent_ventilation_level_0.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/vent_ventilation_level_0.png"}}}},vent_ventilation_level_1:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/vent_ventilation_level_1.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/vent_ventilation_level_1.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/vent_ventilation_level_1.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/vent_ventilation_level_1.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/vent_ventilation_level_1.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/vent_ventilation_level_1.png"}}}},vent_ventilation_level_2:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/vent_ventilation_level_2.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/vent_ventilation_level_2.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/vent_ventilation_level_2.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/vent_ventilation_level_2.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/vent_ventilation_level_2.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/vent_ventilation_level_2.png"}}}},vent_ventilation_level_3:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/vent_ventilation_level_3.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/vent_ventilation_level_3.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/vent_ventilation_level_3.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/vent_ventilation_level_3.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/vent_ventilation_level_3.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/vent_ventilation_level_3.png"}}}},vent_ventilation_level_automatic:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/vent_ventilation_level_automatic.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/vent_ventilation_level_automatic.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/vent_ventilation_level_automatic.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/vent_ventilation_level_automatic.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/vent_ventilation_level_automatic.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/vent_ventilation_level_automatic.png"}}}},vent_ventilation_level_manual_m:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/vent_ventilation_level_manual_m.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/vent_ventilation_level_manual_m.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/vent_ventilation_level_manual_m.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/vent_ventilation_level_manual_m.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/vent_ventilation_level_manual_m.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/vent_ventilation_level_manual_m.png"}}}},weather_baraometric_pressure:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/weather_baraometric_pressure.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/weather_baraometric_pressure.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/weather_baraometric_pressure.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/weather_baraometric_pressure.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/weather_baraometric_pressure.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/weather_baraometric_pressure.png"}}}},weather_cloudy:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/weather_cloudy.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/weather_cloudy.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/weather_cloudy.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/weather_cloudy.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/weather_cloudy.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/weather_cloudy.png"}}}},weather_cloudy_heavy:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/weather_cloudy_heavy.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/weather_cloudy_heavy.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/weather_cloudy_heavy.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/weather_cloudy_heavy.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/weather_cloudy_heavy.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/weather_cloudy_heavy.png"}}}},weather_cloudy_light:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/weather_cloudy_light.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/weather_cloudy_light.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/weather_cloudy_light.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/weather_cloudy_light.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/weather_cloudy_light.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/weather_cloudy_light.png"}}}},weather_directions:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/weather_directions.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/weather_directions.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/weather_directions.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/weather_directions.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/weather_directions.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/weather_directions.png"}}}},weather_frost:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/weather_frost.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/weather_frost.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/weather_frost.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/weather_frost.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/weather_frost.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/weather_frost.png"}}}},weather_humidity:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/weather_humidity.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/weather_humidity.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/weather_humidity.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/weather_humidity.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/weather_humidity.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/weather_humidity.png"}}}},weather_pollen:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/weather_pollen.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/weather_pollen.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/weather_pollen.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/weather_pollen.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/weather_pollen.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/weather_pollen.png"}}}},weather_rain:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/weather_rain.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/weather_rain.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/weather_rain.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/weather_rain.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/weather_rain.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/weather_rain.png"}}}},weather_rain_heavy:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/weather_rain_heavy.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/weather_rain_heavy.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/weather_rain_heavy.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/weather_rain_heavy.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/weather_rain_heavy.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/weather_rain_heavy.png"}}}},weather_rain_light:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/weather_rain_light.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/weather_rain_light.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/weather_rain_light.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/weather_rain_light.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/weather_rain_light.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/weather_rain_light.png"}}}},weather_rain_meter:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/weather_rain_meter.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/weather_rain_meter.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/weather_rain_meter.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/weather_rain_meter.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/weather_rain_meter.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/weather_rain_meter.png"}}}},weather_snow:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/weather_snow.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/weather_snow.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/weather_snow.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/weather_snow.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/weather_snow.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/weather_snow.png"}}}},weather_snow_heavy:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/weather_snow_heavy.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/weather_snow_heavy.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/weather_snow_heavy.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/weather_snow_heavy.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/weather_snow_heavy.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/weather_snow_heavy.png"}}}},weather_snow_light:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/weather_snow_light.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/weather_snow_light.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/weather_snow_light.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/weather_snow_light.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/weather_snow_light.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/weather_snow_light.png"}}}},weather_storm:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/weather_storm.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/weather_storm.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/weather_storm.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/weather_storm.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/weather_storm.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/weather_storm.png"}}}},weather_summer:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/weather_summer.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/weather_summer.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/weather_summer.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/weather_summer.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/weather_summer.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/weather_summer.png"}}}},weather_sun:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/weather_sun.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/weather_sun.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/weather_sun.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/weather_sun.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/weather_sun.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/weather_sun.png"}}}},weather_thunderstorm:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/weather_thunderstorm.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/weather_thunderstorm.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/weather_thunderstorm.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/weather_thunderstorm.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/weather_thunderstorm.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/weather_thunderstorm.png"}}}},weather_wind:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/weather_wind.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/weather_wind.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/weather_wind.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/weather_wind.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/weather_wind.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/weather_wind.png"}}}},weather_wind_directions_e:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/weather_wind_directions_e.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/weather_wind_directions_e.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/weather_wind_directions_e.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/weather_wind_directions_e.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/weather_wind_directions_e.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/weather_wind_directions_e.png"}}}},weather_wind_directions_n:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/weather_wind_directions_n.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/weather_wind_directions_n.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/weather_wind_directions_n.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/weather_wind_directions_n.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/weather_wind_directions_n.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/weather_wind_directions_n.png"}}}},weather_wind_directions_ne:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/weather_wind_directions_ne.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/weather_wind_directions_ne.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/weather_wind_directions_ne.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/weather_wind_directions_ne.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/weather_wind_directions_ne.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/weather_wind_directions_ne.png"}}}},weather_wind_directions_nw:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/weather_wind_directions_nw.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/weather_wind_directions_nw.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/weather_wind_directions_nw.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/weather_wind_directions_nw.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/weather_wind_directions_nw.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/weather_wind_directions_nw.png"}}}},weather_wind_directions_s:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/weather_wind_directions_s.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/weather_wind_directions_s.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/weather_wind_directions_s.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/weather_wind_directions_s.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/weather_wind_directions_s.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/weather_wind_directions_s.png"}}}},weather_wind_directions_se:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/weather_wind_directions_se.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/weather_wind_directions_se.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/weather_wind_directions_se.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/weather_wind_directions_se.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/weather_wind_directions_se.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/weather_wind_directions_se.png"}}}},weather_wind_directions_sw:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/weather_wind_directions_sw.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/weather_wind_directions_sw.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/weather_wind_directions_sw.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/weather_wind_directions_sw.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/weather_wind_directions_sw.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/weather_wind_directions_sw.png"}}}},weather_wind_directions_w:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/weather_wind_directions_w.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/weather_wind_directions_w.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/weather_wind_directions_w.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/weather_wind_directions_w.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/weather_wind_directions_w.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/weather_wind_directions_w.png"}}}},weather_wind_speed:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/weather_wind_speed.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/weather_wind_speed.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/weather_wind_speed.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/weather_wind_speed.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/weather_wind_speed.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/weather_wind_speed.png"}}}},weather_winter:{"*":{white:"*/white",ws:"*/white",antimony:"*/blue",boron:"*/green",lithium:"*/red",potassium:"*/purple",sodium:"*/orange","*":{"*":"white",blue:{uri:"icon/knx-uf-iconset/128x128_blue/weather_winter.png"},green:{uri:"icon/knx-uf-iconset/128x128_green/weather_winter.png"},orange:{uri:"icon/knx-uf-iconset/128x128_orange/weather_winter.png"},purple:{uri:"icon/knx-uf-iconset/128x128_purple/weather_winter.png"},red:{uri:"icon/knx-uf-iconset/128x128_red/weather_winter.png"},white:{uri:"icon/knx-uf-iconset/128x128_white/weather_winter.png"}}}}};this.insert=function(){var d=arguments[0];var f=arguments[1];var e=arguments[2]||"*";var h=arguments[3]||"*";var c=arguments[4]||"*";var b=arguments[5];var g=arguments[6];if(!a[d]){a[d]={}}if(!a[d][e]){a[d][e]={}}if(!a[d][e][h]){a[d][e][h]={}}a[d][e][h][c]={uri:f,styling:b,dynamic:g}};this.get=function(){var c=arguments[0];var e=arguments[1];var f=arguments[2];var b=arguments[3];if(!a[c]){return undefined}if(!a[c][e]){e="*"}if(typeof a[c][e]==="string"){e=a[c][e];if(e.split("/").length>1){var d=e.split("/");e=d.shift();if(f===undefined){f=d.shift()}}}if(!a[c][e][f]){f="*"}if(typeof a[c][e][f]==="string"){f=a[c][e][f];if(f.split("/").length>1){var d=f.split("/");f=d.shift();if(b===undefined){b=d.shift()}}}if(!a[c][e][f][b]){b="*"}if(typeof a[c][e][f][b]==="string"){b=a[c][e][f][b]}return a[c][e][f][b]};this.getURI=function(){var b=this.get.apply(this,arguments);if(b){return b.uri}};this.getIcon=function(){var c=this.get.apply(this,arguments);if(c){if(c.icon){return c.icon}var b=c.styling===undefined?"":' style="'+c.styling+'"';c.icon=$('<img class="icon" src="'+c.uri+'"'+b+"/>");return c.icon}};this.list=function(){return Object.keys(a)};this.debug=function(){return a}}var icons=new icon();var Maturity={release:0,development:1};$.fn.setWidgetStyling=function(d){var b=templateEngine.stylings[this.data("styling")];if(b){this.removeClass(b.classnames);if(b[d]){this.addClass(b[d])}else{d=parseFloat(d);var a=b.range;for(var c in a){if(c>d){continue}if(a[c][0]<d){continue}this.addClass(a[c][1]);break}}}return this};$.fn.setWidgetLayout=function(a){this.data("colspan",a.children("layout").attr("colspan")||$("head").data("colspanDefault")||6);if(a.children("layout").attr("rowspan")){this.data("rowspanClass",templateEngine.rowspanClass(a.children("layout").attr("rowspan")||1));this.addClass("innerrowspan")}return this};$.fn.makeWidgetLabel=function(b,c){var a=b.find("label")[0];if(a){this.append(extractLabel(a,c))}return this};function makeAddressList(c,b){var a={};c.find("address").each(function(){var g=this.textContent;var e=this.getAttribute("transform");if((!g)||(!e)){return}var f=1|2;switch(this.getAttribute("mode")){case"disable":f=0;break;case"read":f=1;break;case"write":f=2;break;case"readwrite":f=1|2;break}var d=b?b(g,e,f,this.getAttribute("variant")):[true,undefined];if(d[0]){templateEngine.addAddress(g)}a["_"+g]=[e,f,d[1]];return});return a}function VisuDesign(){this.creators={};this.addCreator=function(b,a){this.creators[b]=a};this.getCreator=function(a){if(this.creators[a]===undefined){return this.creators.unknown}return this.creators[a]};this.popups={};this.addPopup=function(b,a){this.popups[b]=a;this.popups[b].type=b};this.getPopup=function(a){if(typeof this.popups[a]==undefined){return this.popups.unknown}return this.popups[a]};this.addPopup("unknown",{create:function(a){var c=false;var e=$('<div class="popup" style="display:none"/><div class="popup_background" style="display:none" />').appendTo("body");e.addClass(this.type);if(a.title){e.filter(".popup").append($('<div class="head" />').append(a.title))}if(a.content){e.filter(".popup").append($('<div class="main" />').append(a.content))}if(a.width){e.width(a.width);reposition=true}if(a.height){e.height(a.height);reposition=true}var b={x:-1,y:-1,w:0,h:0};var g;if(a.position){if(a.position.offset){var f=a.position.offset();b.x=f.left;b.y=f.top;b.w=a.position.width();b.h=a.position.height()}else{if(a.position.hasOwnProperty("x")){b.x=a.position.x}if(a.position.hasOwnProperty("y")){b.y=a.position.y}if(a.position.hasOwnProperty("w")){b.w=a.position.w}if(a.position.hasOwnProperty("h")){b.h=a.position.h}if(b.w==0&&b.h==0){g=5}}}if(a.align!==undefined){g=a.align}var d=placementStrategy(b,{w:e.outerWidth(),h:e.outerHeight()},{w:$(window).width(),h:$(window).height()},g);e.css("left",d.x);e.css("top",d.y);e.bind("click",function(){e.remove();return false});e.css("display","block");return e}});this.addPopup("info",$.extend(true,{},this.getPopup("unknown")));this.addPopup("warning",$.extend(true,{},this.getPopup("unknown")));this.addPopup("error",$.extend(true,{},this.getPopup("unknown")));this.slideAction=function(b,d){var a=new Date().getTime();var c=$(".actor",$(this).parent()).data();if(c.last&&(a-c.last)<1000){return}$(".actor",$(this).parent()).data("last",a)};this.refreshAction=function(a){var b=$(this).data();alert("this.refreshAction")}}function placementStrategy(c,b,e,d){var a=[8,2,6,4,9,3,7,1,5,0];if(d!==undefined){a.unshift(d)}for(pos in a){var f={};switch(a[pos]){case 0:return{x:(e.w-b.w)/2,y:(e.h-b.h)/2};case 1:f.x=c.x-b.w;f.y=c.y+c.h;break;case 2:f.x=c.x+c.w/2-b.w/2;f.y=c.y+c.h;break;case 3:f.x=c.x+c.w;f.y=c.y+c.h;break;case 4:f.x=c.x-b.w;f.y=c.y+c.h/2-b.h/2;break;case 5:f.x=c.x+c.w/2-b.w/2;f.y=c.y+c.h/2-b.h/2;break;case 6:f.x=c.x+c.w;f.y=c.y+c.h/2-b.h/2;break;case 7:f.x=c.x-b.w;f.y=c.y-b.h;break;case 8:f.x=c.x+c.w/2-b.w/2;f.y=c.y-b.h;break;case 9:f.x=c.x+c.w;f.y=c.y-b.h;break}if(f.x>=0&&f.y>=0&&f.x+b.w<=e.w&&f.y+b.h<=e.h){return f}}return{x:0,y:0}}function defaultValueHandling(g,f,c){var a=c||$(this);var b=a.data().address[g.type][0];var d=templateEngine.transformDecode(a.data().address[g.type][0],f);a.data("basicvalue",d);d=templateEngine.map(d,a.data("mapping"));if(a.data("precision")){d=Number(d).toPrecision(a.data("precision"))}if(a.data("format")){d=sprintf(a.data("format"),d)}a.data("value",d);if(d.constructor==Date){switch(b){case"DPT:10.001":d=d.toLocaleTimeString();break;case"DPT:11.001":d=d.toLocaleDateString();break}}return d}function defaultUpdate(g,f,c){var b=c||$(this);var d=defaultValueHandling(g,f,b);b.setWidgetStyling(b.data("basicvalue"));if(b.data("align")){b.addClass(b.data("align"))}var h=b.find(".value");h.empty();if(("string"==typeof d)||("number"==typeof d)){h.append(d)}else{for(var a=0;a<d.length;a++){if(("string"==typeof d[a])||("number"==typeof d[a])){h.append(d[a])}else{h.append($(d[a]).clone())}}}return d}function defaultUpdate3d(f,c,b){var a=f.data.layout;var g=c.building2screen(new THREE.Vector3(a.x,a.y,a.z));f.data.element.css("left",g.x+"px");f.data.element.css("top",g.y+"px");var d=true;if(a.floorFilter){d=c.getState("showFloor")==c.buildingProperties.floorNames[a.floorFilter]}f.data.element.css("display",d?"":"none")}function extractLayout(c,b,d){if(typeof defaultValue==="undefined"){d=[]}var a=(b=="2d")?"position:absolute;":"";if(c.getAttribute("x")){a+="left:"+c.getAttribute("x")+";"}else{if(d.x){a+="left:"+d.x+";"}}if(c.getAttribute("y")){a+="top:"+c.getAttribute("y")+";"}else{if(d.y){a+="top:"+d.y+";"}}if(c.getAttribute("width")){a+="width:"+c.getAttribute("width")+";"}else{if(d.width){a+="width:"+d.width+";"}}if(c.getAttribute("height")){a+="height:"+c.getAttribute("height")+";"}else{if(d.height){a+="height:"+d.height+";"}}return a}function extractLayout3d(b){var a={};if(b.getAttribute("x")){a.x=b.getAttribute("x")}if(b.getAttribute("y")){a.y=b.getAttribute("y")}if(b.getAttribute("z")){a.z=b.getAttribute("z")}if(b.getAttribute("floor")){a.floor=b.getAttribute("floor")}if(b.getAttribute("floorFilter")){a.floorFilter=b.getAttribute("floorFilter")}if(b.getAttribute("roomFilter")){a.roomFilter=b.getAttribute("roomFilter")}return a}function extractLabel(b,c){if(!b){return}var a=$('<div class="label"></div>');$(b).contents().each(function(){var e=$(this);if(e.is("icon")){var d=icons.getIcon(e.attr("name"),e.attr("type"),e.attr("flavour")||c);if(d){a.append(d.clone())}}else{a.append(this.textContent)}});return a}var basicdesign=new VisuDesign();function VisuDesign_Custom(){}VisuDesign_Custom.prototype=basicdesign;VisuDesign_Custom.prototype.addCreator("designtoggle",{create:function(e,f){var a=$(e);var c=$('<div class="widget clearfix switch" />');c.setWidgetLayout(a).makeWidgetLabel(a);var b='<div class="actor switchUnpressed">';var d=$('link[href*="basic.css"]').attr("href").split("/")[1];b+='<div class="value">'+d+"</div>";b+="</div>";c.append($(b).data({mapping:a.attr("mapping"),styling:a.attr("styling"),value:d,type:"toggle"}).bind("click",function(){var l=["pure","discreet","discreet_sand","discreet_slim","alaska","alaska_slim","planet","metal"];var h=$(".value",this).text();var j=l[(l.indexOf(h)+1)%l.length];var g=window.location.href;var k=new RegExp("design="+h);if(g.search(k)!=-1){window.location.href=g.replace(k,"design="+j)}else{if(g.indexOf("?")!=-1){window.location.href=g+"&design="+j}else{window.location.href=g+"?design="+j}}}));return c},attributes:{},content:true});basicdesign.addCreator("break",{create:function(a,d,c,b){return $("<br />")}});basicdesign.addCreator("group",{maturity:Maturity.development,create:function(d,j,g,h){var b=$(d);var c=$('<div class="widget clearfix group" />');if(b.attr("flavour")){g=b.attr("flavour")}var k="";if(b.attr("align")){k+="text-align:"+b.attr("align")+";"}if(k!=""){k='style="'+k+'"'}c.setWidgetLayout(b);if(b.attr("nowidget")=="true"){c.removeClass("widget")}if(b.attr("class")){c.addClass("custom_"+b.attr("class"))}var f=b.children().not("layout");var a=$('<div class="clearfix"/>');if(b.attr("name")){a.append("<h2 "+k+">"+b.attr("name")+"</h2>")}$(f).each(function(l){a.append(templateEngine.create_pages(f[l],j+"_"+l,g))});if(g){c.addClass("flavour_"+g)}if(b.attr("pagejumptarget")){var e=b.attr("pagejumptarget")?b.attr("pagejumptarget"):"0";c.addClass("clickable");c.data({type:"pagejump",target:e}).bind("click",this.action).setWidgetStyling(e)}c.append(a);return c},action:function(){var a=$(this).data();if(a.target!=0){templateEngine.scrollToPage(a.target)}}});basicdesign.addCreator("rgb",{create:function(g,o,k,l){var b=$(g);var h=b.children("layout")[0];var a=h?'style="'+extractLayout(h,l)+'"':"";var d="widget clearfix rgb";if(b.attr("align")){d+=" "+b.attr("align")}var c=$('<div class="'+d+'" '+a+"/>");c.setWidgetLayout(b);if(b.attr("flavour")){k=b.attr("flavour")}if(k){c.addClass("flavour_"+k)}var m=extractLabel(b.find("label")[0],k);var n=makeAddressList(b,rgb_handleVariant);var f='<div class="actor" style="background: #ffffff;"></div>';var e=$(f).data({address:n,});for(var j in n){if(n[j][1]&1){e.bind(j,this.update)}}c.append(m).append(e);return c},update:function(g,h){var b=$(this);var f=templateEngine.transformDecode(b.data("address")[g.type][0],h);var a=b.css("background-color").replace(/[a-zA-Z()\s]/g,"").split(/,/);switch(b.data("address")[g.type][2]){case"r":a[0]=f;break;case"g":a[1]=f;break;case"b":a[2]=f;break;default:}var c="rgb("+a[0]+", "+a[1]+", "+a[2]+")";b.css("background-color",c)},});function rgb_handleVariant(d,a,c,b){return[true,b]}basicdesign.addCreator("web",{create:function(f,l,j,k){var b=$(f);var g=b.children("layout")[0];var a=g?'style="'+extractLayout(g,k)+'"':"";var c=$('<div class="widget web" '+a+"/>");c.setWidgetLayout(b);if(b.attr("flavour")){j=b.attr("flavour")}if(j){c.addClass("flavour_"+j)}c.append(extractLabel(b.find("label")[0],j));var d="";if(b.attr("width")){d+="width:"+b.attr("width")+";"}else{d+="width: 100%;"}if(b.attr("height")){d+="height:"+b.attr("height")+";"}if(b.attr("frameborder")=="false"){a+="border: 0px ;"}if(b.attr("background")){d+="background-color:"+b.attr("background")+";"}if(d!=""){d='style="'+d+'"'}var e='<div class="actor"><iframe src="'+b.attr("src")+'" '+d+"></iframe></div>";var h=b.attr("refresh")?b.attr("refresh")*1000:0;c.append($(e).data({refresh:h}).each(templateEngine.setupRefreshAction));return c}});basicdesign.addCreator("image",{create:function(e,l,j,k){var b=$(e);var f=b.children("layout")[0];var a=f?'style="'+extractLayout(f,k)+'"':"";var c=$('<div class="widget clearfix image" '+a+"/>");c.setWidgetLayout(b);if(b.attr("flavour")){j=b.attr("flavour")}if(j){c.addClass("flavour_"+j)}c.append(extractLabel(b.find("label")[0],j));var h="";if(b.attr("width")){h+="width:"+b.attr("width")+";"}else{h+="width: 100%;"}if(b.attr("height")){h+="height:"+b.attr("height")+";"}if(h!=""){h='style="'+h+'"'}var d='<div class="actor"><img src="'+b.attr("src")+'" '+h+"/></div>";var g=b.attr("refresh")?b.attr("refresh")*1000:0;c.append($(d).data({refresh:g}).each(templateEngine.setupRefreshAction));return c}});basicdesign.addCreator("imagetrigger",{create:function(g,q,m,n){var b=$(g);var d=$('<div class="widget clearfix image" />');d.setWidgetLayout(b);d.addClass("imagetrigger");if(b.attr("flavour")){m=b.attr("flavour")}if(m){d.addClass("flavour_"+m)}var p=b.attr("value")?b.attr("value"):0;var c=templateEngine.bindClickToWidget;if(b.attr("bind_click_to_widget")){c=b.attr("bind_click_to_widget")=="true"}d.append(extractLabel(b.find("label")[0],m));var o=makeAddressList(b);var h=b.children("layout")[0];var a=h?'style="'+extractLayout(h,n,{width:"100%"})+'"':"";var f='<div class="actor">';if(b.attr("type")=="show"){f+='<img src="'+b.attr("src")+"."+b.attr("suffix")+'" '+a+" />"}else{f+='<img src="" '+a+" />"}f+="</div>";f+="</div>";var k=b.attr("refresh")?b.attr("refresh")*1000:0;var e=$(f).data({address:o,refresh:k,src:b.attr("src"),suffix:b.attr("suffix"),type:b.attr("type"),mapping:map,sendValue:b.attr("sendValue")||""}).each(templateEngine.setupRefreshAction);var j=c?d:e;j.bind("click",this.action);for(var l in o){e.bind(l,this.update)}d.append(e);return d},update:function(b,f){var a=$(this).data();if(a.address[b.type][1].writeonly=="true"){return}var c=templateEngine.transformDecode(a.address[b.type][0],f);if(a.type=="show"){if(c==0){$(this).children().hide()}else{$(this).children().attr("src",a.src+"."+a.suffix).show()}}else{if(a.type=="select"){if(c==0){$(this).children().hide()}else{$(this).children().attr("src",a.src+c+"."+a.suffix).show()}}}},action:function(){var a=$(this).find(".actor").size()==1?$(this).find(".actor").data():$(this).data();sendValue=a.sendValue;for(var b in a.address){if(!(a.address[b][1]&2)){continue}if(a.sendValue==""){continue}templateEngine.visu.write(b.substr(1),templateEngine.transformEncode(a.address[b][0],sendValue))}}});basicdesign.addCreator("include",{maturity:Maturity.development,create:function(b,e,d,a){var c=$.get($(b).attr("src"));var c=$.ajax({url:$(b).attr("src"),dataType:"xml",async:false});var f=(c.responseXML.childNodes[0]);return templateEngine.create_pages(f,e,d)}});basicdesign.addCreator("info",{create:function(g,n,k,l){var b=$(g);var h=b.children("layout")[0];var a=h?'style="'+extractLayout(h,l)+'"':"";var d="widget clearfix info";if(b.attr("flavour")){k=b.attr("flavour")}if(b.attr("align")){d+=" "+b.attr("align")}if(k){d+=" flavour_"+k}var c=$('<div class="'+d+'" '+a+" />");if(b.attr("class")){c.addClass("custom_"+b.attr("class"))}l=="3d"&&$(document).bind("update3d",{element:c,layout:extractLayout3d(h)},this.update3d);c.setWidgetLayout(b).makeWidgetLabel(b,k);var m=makeAddressList(b);var f='<div class="actor"><div class="value">-</div></div>';var e=$(f).data({address:m,format:b.attr("format"),mapping:b.attr("mapping"),styling:b.attr("styling")});for(var j in m){e.bind(j,this.update)}c.append(e);return c},update:defaultUpdate,update3d:defaultUpdate3d});basicdesign.addCreator("infotrigger",{create:function(a,l,q,c){var b=$(a);var p=b.children("layout")[0];var o=p?'style="'+extractLayout(p,c)+'"':"";if(b.attr("flavour")){q=b.attr("flavour")}var e=$('<div class="widget clearfix infotrigger" '+o+"/>");e.setWidgetLayout(b);e.append(extractLabel(b.find("label")[0],q));if(q){e.addClass("flavour_"+q)}var d=makeAddressList(b,function(w,t,v,u){return[u!="button"&&u!="short",u=="button"?1:(u=="short"?2:0)]});var n=$('<div style="float:left;"/>');var h=2;var k='<div class="actor switchUnpressed downlabel" ';if(b.attr("align")){r+='style="text-align: '+b.attr("align")+'" '}k+=">";k+='<div class="value">'+(b.attr("downlabel")?b.attr("downlabel"):"-")+"</div>";k+="</div>";var f=$(k).data({address:d,mapping:b.attr("mapping"),styling:b.attr("styling"),value:b.attr("downvalue")||0,shortvalue:b.attr("shortdownvalue")||0,shorttime:parseFloat(b.attr("shorttime"))||-1,align:b.attr("align"),change:b.attr("change")||"relative",min:parseFloat(b.attr("min"))||0,max:parseFloat(b.attr("max"))||255,type:"switch"}).bind("mousedown touchstart",this.mousedown).bind("mouseup touchend",this.mouseup).bind("mouseout touchout",this.mouseout);var j='<div class="actor switchUnpressed uplabel" ';if(b.attr("align")){r+='style="text-align: '+b.attr("align")+'" '}j+=">";j+='<div class="value">'+(b.attr("uplabel")?b.attr("uplabel"):"+")+"</div>";j+="</div>";var s=$(j).data({address:d,mapping:b.attr("mapping"),styling:b.attr("styling"),value:b.attr("upvalue")||1,shortvalue:b.attr("shortupvalue")||1,shorttime:parseFloat(b.attr("shorttime"))||-1,align:b.attr("align"),change:b.attr("change")||"relative",min:parseFloat(b.attr("min"))||0,max:parseFloat(b.attr("max"))||255,type:"switch"}).bind("mousedown touchstart",this.mousedown).bind("mouseup touchend",this.mouseup).bind("mouseout touchout",this.mouseout);var r='<div class="actor switchInvisible " ';if(b.attr("align")){r+='style="text-align: '+b.attr("align")+'" '}r+='" ><div class="value">-</div></div>';var m=$(r).data({address:d,format:b.attr("format"),mapping:b.attr("mapping"),styling:b.attr("styling"),align:b.attr("align"),});for(var g in d){if(!d[g][2]){m.bind(g,this.update)}}if(b.attr("infoposition")==1){n.append(f);n.append(m);n.append(s)}else{if(b.attr("infoposition")==2){n.append(f);n.append(s);n.append(m)}else{n.append(m);n.append(f);n.append(s)}}e.append(n);return e},update:function(c,f){var a=$(this);var b=defaultUpdate(c,f,a);a.addClass("switchInvisible")},mousedown:function(a){$(this).removeClass("switchUnpressed").addClass("switchPressed").data("downtime",new Date().getTime());if("touchstart"==a.type){$(this).unbind("mousedown").unbind("mouseup").unbind("mouseout")}},mouseup:function(b){var f=$(this);if(f.data("downtime")){var e=f.data();var a=(new Date().getTime())-e.downtime<e.shorttime;var d=e.value;var c=(e.change!="absolute");if(!c){d=parseFloat($(this).parent().find(".switchInvisible").data("basicvalue"));if(isNaN(d)){d=0}d=d+parseFloat(e.value);if(d<e.min){d=e.min}if(d>e.max){d=e.max}}for(var g in e.address){if(!(e.address[g][1]&2)){continue}if(!a&&1==e.address[g][2]){templateEngine.visu.write(g.substr(1),templateEngine.transformEncode(e.address[g][0],e.shortvalue))}if((a&&2==e.address[g][2])||(!c&&0==e.address[g][2])){templateEngine.visu.write(g.substr(1),templateEngine.transformEncode(e.address[g][0],d))}}}f.removeClass("switchPressed").addClass("switchUnpressed").removeData("downtime")},mouseout:function(a){$(this).removeClass("switchPressed").addClass("switchUnpressed").removeData("downtime")}});basicdesign.addCreator("line",{create:function(a,d,c,b){return $("<hr />")}});basicdesign.addCreator("multitrigger",{create:function(h,p,m,n){var b=$(h);var j=b.children("layout")[0];var a=j?'style="'+extractLayout(j,n)+'"':"";var d=$('<div class="widget clearfix multitrigger" '+a+"/>");d.setWidgetLayout(b);if(b.attr("flavour")){m=b.attr("flavour")}d.append(extractLabel(b.find("label")[0],m));if(m){d.addClass("flavour_"+m)}var o=makeAddressList(b);var e=b.attr("showstatus")||"false";var l=$('<div class="actor_container" style="float:left"/>');var c=0;if(b.attr("button1label")){var g='<div class="actor switchUnpressed ';if(b.attr("align")){g+=b.attr("align")}g+='">';g+='<div class="value">'+b.attr("button1label")+"</div>";g+="</div>";var f=$(g).data({address:o,mapping:b.attr("mapping"),styling:b.attr("styling"),value:b.attr("button1value"),align:b.attr("align"),type:"switch"}).bind("click",this.action);if(e=="true"){for(var k in o){f.bind(k,this.update)}}l.append(f);if(1==(c++%2)){l.append($("<br/>"))}}if(b.attr("button2label")){var g='<div class="actor switchUnpressed ';if(b.attr("align")){g+=b.attr("align")}g+='">';g+='<div class="value">'+b.attr("button2label")+"</div>";g+="</div>";var f=$(g).data({address:o,mapping:b.attr("mapping"),styling:b.attr("styling"),value:b.attr("button2value"),type:"switch",align:b.attr("align")}).bind("click",this.action);if(e=="true"){for(var k in o){f.bind(k,this.update)}}l.append(f);if(1==(c++%2)){l.append($("<br/>"))}}if(b.attr("button3label")){var g='<div class="actor switchUnpressed ';if(b.attr("align")){g+=b.attr("align")}g+='">';g+='<div class="value">'+b.attr("button3label")+"</div>";g+="</div>";var f=$(g).data({address:o,mapping:b.attr("mapping"),styling:b.attr("styling"),value:b.attr("button3value"),type:"switch"}).bind("click",this.action);if(e=="true"){for(var k in o){f.bind(k,this.update)}}l.append(f);if(1==c++%2){l.append($("<br/>"))}}if(b.attr("button4label")){var g='<div class="actor switchUnpressed ';if(b.attr("align")){g+=b.attr("align")}g+='">';g+='<div class="value">'+b.attr("button4label")+"</div>";g+="</div>";var f=$(g).data({address:o,mapping:b.attr("mapping"),styling:b.attr("styling"),value:b.attr("button4value"),type:"switch",}).bind("click",this.action);if(e=="true"){for(var k in o){f.bind(k,this.update)}}l.append(f);if(1==c++%2){l.append($("<br/>"))}}return d.append(l)},update:function(f,g){var a=$(this);var b=a.data().address[f.type][0];var c=templateEngine.transformDecode(a.data().address[f.type][0],g);a.removeClass(c==a.data().value?"switchUnpressed":"switchPressed");a.addClass(c==a.data().value?"switchPressed":"switchUnpressed")},action:function(){var a=$(this).data();for(var b in a.address){if(!(a.address[b][1]&2)){continue}templateEngine.visu.write(b.substr(1),templateEngine.transformEncode(a.address[b][0],a.value))}}});basicdesign.addCreator("navbar",{create:function(d,o,j,k){var l=$(d);var h=l.children();var c=o.split("_");c.pop();var g=l.attr("position")||"left";var m=l.attr("scope")||-1;var a=$('<div class="navbar clearfix" id="'+c.join("_")+"_"+g+'_navbar" />');if(l.attr("name")){a.append("<h2 "+hstyle+">"+l.attr("name")+"</h2>")}if(l.attr("flavour")){j=l.attr("flavour")}$(h).each(function(p){a.append(templateEngine.create_pages(h[p],o+"_"+p,j))});a.data("scope",m);if(j){a.addClass("flavour_"+j)}var f=l.attr("dynamic")=="true"?true:false;var n=l.attr("width")||300;switch(g){case"top":$("#navbarTop").append(a);break;case"left":$("#navbarLeft").append(a);var b=$("#navbarLeft").data("size")||n;if(f){templateEngine.pagePartsHandler.navbarSetSize("left",b)}break;case"right":$("#navbarRight").append(a);var b=$("#navbarRight").data("size")||n;if(f){templateEngine.pagePartsHandler.navbarSetSize("right",b)}break;case"bottom":$("#navbarBottom").append(a);break}templateEngine.pagePartsHandler.navbars[g].dynamic|=f;var e=$("");return e}});basicdesign.addCreator("page",{create:function(k,p,z,e){var y=$(k);var g={};if(y.attr("ga")){src=y.attr("ga");templateEngine.addAddress(y.attr("ga"));g["_"+y.attr("ga")]=["DPT:1.001",0]}var A=y.attr("name");var e=y.attr("type")||"text";var s=y.attr("backdrop");var c=y.attr("showtopnavigation");var n=y.attr("showfooter");var q=y.attr("shownavbar-top");var f=y.attr("shownavbar-bottom");var a=y.attr("shownavbar-left");var d=y.attr("shownavbar-right");var b=templateEngine.bindClickToWidget;if(y.attr("bind_click_to_widget")){b=y.attr("bind_click_to_widget")=="true"}if(y.attr("flavour")){z=y.attr("flavour")}var m="";if(y.attr("align")){m+="text-align:"+y.attr("align")+";"}if(m!=""){m='style="'+m+'"'}var h;if(y.attr("visible")=="false"){h=$("")}else{var x=y.children("layout")[0];var u=x?'style="'+extractLayout(x,e)+'"':"";h=$('<div class="widget clearfix link pagelink" '+u+"/>");h.setWidgetLayout(y);if(b){h.bind("click",function(){templateEngine.scrollToPage(p)});var v=$("<div "+m+'><a href="#">'+A+"</a></div>");h.append(v)}else{var v=$("<div "+m+"><a href=\"javascript:templateEngine.scrollToPage('"+p+"')\">"+A+"</a></div>");h.append(v)}}var j=y.children().not("layout");var r=$('<div class="page" id="'+p+'"/>');r.data("showtopnavigation",c);r.data("showfooter",n);r.data("shownavbar",{top:q,bottom:f,left:a,right:d});var t=$('<div class="clearfix" path="'+p+'" style="height:100%;position:relative;" />');for(var l in g){t.bind(l,this.update)}var o=t;o.append("<h1>"+A+"</h1>");if("2d"==e){o.append('<embed src="'+s+'" style="position: absolute; top: 0px; left: 0px;z-index:-1;width:100%;height:100%;"/>')}else{if("3d"==e){var w=JSFloorPlan3D(o,s);w.moveToRoom("Underground",false,true,false);o.data("JSFloorPlan3D",w);o.find("canvas").css({position:"absolute",top:"0px",left:"0px","z-index":"-1",width:"100%",height:"100%"});r.click({JSFloorPlan3D:w,callback:function(C){var B=this.JSFloorPlan3D;B.moveToRoom(B.getState("showFloor"),C.room.room,true,true,function(){o.trigger("update3d",B)})}},w.translateMouseEvent);$(window).bind("resize",function(){w.resize($(".page").width(),$(".page").height(),true)});if(y.attr("azimut")){templateEngine.addAddress(y.attr("azimut"));g["_"+y.attr("azimut")]=["DPT:9.001",0,"azimut"];o.bind("_"+y.attr("azimut"),this.update)}if(y.attr("elevation")){templateEngine.addAddress(y.attr("elevation"));g["_"+y.attr("elevation")]=["DPT:9.001",0,"elevation"];o.bind("_"+y.attr("elevation"),this.update)}if(y.attr("floor")){templateEngine.addAddress(y.attr("floor"));g["_"+y.attr("floor")]=["DPT:5.004",0,"floor"];o.bind("_"+y.attr("floor"),this.update)}$(j).each(function(D,C){if(this.tagName=="filter"){var E=$(this).attr("floor");var B=$(this).attr("room");j.splice(D,1);$(this).children().each(function(F){$(this).find("layout").attr({floorFilter:E,roomFilter:B});j.splice(D+F,0,this)})}})}}o.data("address",g);$(j).each(function(B){o.append(templateEngine.create_pages(j[B],p+"_"+B,z,e))});r.append(o);if(z){r.addClass("flavour_"+z)}$("#pages").prepend(r);return h},update:function(f,d){var a=$(this);var c=defaultValueHandling(f,d,a);var b=a.data().address[f.type][2];switch(b){case"azimut":a.data().JSFloorPlan3D.setState("currentAzimut",c,true);a.trigger("update3d",a.data().JSFloorPlan3D);break;case"elevation":a.data().JSFloorPlan3D.setState("currentElevation",c,true);a.trigger("update3d",a.data().JSFloorPlan3D);break;case"floor":a.data().JSFloorPlan3D.moveToRoom(c,false,true,true,function(){a.trigger("update3d",a.data().JSFloorPlan3D)});break;default:if(d==1){templateEngine.scrollToPage(this.attributes.path.nodeValue);templateEngine.visu.write(f.type.substr(1),templateEngine.transformEncode("DPT:1.001",0))}}}});basicdesign.addCreator("pagejump",{create:function(h,q,m,n){var c=$(h);var j=c.children("layout")[0];var b=j?'style="'+extractLayout(j,n)+'"':"";var l=c.attr("target")?c.attr("target"):"0";var e="widget clearfix pagejump";if(c.attr("align")){e+=" "+c.attr("align")}var d=$('<div class="'+e+'" '+b+"/>");if(c.attr("flavour")){m=c.attr("flavour")}if(m){d.addClass("flavour_"+m)}d.setWidgetLayout(c);var o=extractLabel(c.find("label")[0],m);var p=makeAddressList(c);var a=templateEngine.bindClickToWidget;if(c.attr("bind_click_to_widget")){a=c.attr("bind_click_to_widget")=="true"}var g='<div class="actor switchUnpressed ';if(c.attr("align")){g+=c.attr("align")}g+='">';if(c.attr("name")){g+='<div class="value">'+c.attr("name")+"</div>"}g+="</div>";var f=$(g).data({styling:$(h).attr("styling"),type:"pagejump",align:c.attr("align"),target:l}).setWidgetStyling(l);var k=a?d:f;k.bind("click",this.action).bind("mousedown",function(){f.removeClass("switchUnpressed").addClass("switchPressed")}).bind("mouseup mouseout",function(){f.removeClass("switchPressed").addClass("switchUnpressed")});d.append(o).append(f);return d},action:function(){var a=$(this).find(".actor").size()==1?$(this).find(".actor").data():$(this).data();templateEngine.scrollToPage(a.target)}});basicdesign.addCreator("slide",{create:function(j,r,m,n){var b=$(j);var k=b.children("layout")[0];var a=k?'style="'+extractLayout(k,n)+'"':"";if(b.attr("flavour")){m=b.attr("flavour")}var d=$('<div class="widget clearfix slide" '+a+" />");d.setWidgetLayout(b).makeWidgetLabel(b,m);if(m){d.addClass("flavour_"+m)}var q=makeAddressList(b);var p=undefined;var c=undefined;b.find("address").each(function(){var s=this.getAttribute("transform");if(Transform[s]&&Transform[s].range){if(!(p>Transform[s].range.min)){p=Transform[s].range.min}if(!(c<Transform[s].range.max)){c=Transform[s].range.max}}});var h=$('<div class="actor">');var g=parseFloat(b.attr("min")||p||0);var o=parseFloat(b.attr("max")||c||100);var e=parseFloat(b.attr("step")||0.5);var f=$(h).data({events:$(h).data("events"),address:q,mapping:b.attr("mapping"),styling:b.attr("styling"),min:g,max:o,step:e,type:"dim",valueInternal:true,inAction:false,format:b.attr("format")||null});for(var l in q){if(q[l][1]&1){f.bind(l,this.update)}}if($(h).data("format")!=null){f.slider({step:e,min:g,max:o,range:"min",animate:true,start:this.slideStart,change:this.slideChange,slide:this.slideUpdateValue});f.children(".ui-slider-handle").text(sprintf(f.data("format"),f.slider("value")))}else{f.slider({step:e,min:g,max:o,range:"min",animate:true,start:this.slideStart,change:this.slideChange})}d.append(f);return d},update:function(d,c){var a=$(this);if(a.data("inAction")){return}var b=templateEngine.transformDecode(a.data().address[d.type][0],c);if(a.data("value")!=b){a.data("value",b);a.data("valueInternal",false);a.slider("value",b);a.data("valueInternal",true);if(a.data("format")!=null){a.children(".ui-slider-handle").text(sprintf(a.data("format"),b))}}},slideUpdateValue:function(b,c){var a=$(".actor",$(this).parent());if(a.data("format")!=null){$(c.handle).text(sprintf(a.data("format"),c.value))}},slideStart:function(b,c){var a=$(".actor",$(this).parent());a.data("inAction",true);a.data("valueInternal",true);a.data("updateFn",setInterval(function(){var e=a.data();if(e.value==a.slider("value")){return}var f=a.slider("value");for(var g in e.address){if(!(e.address[g][1]&2)){continue}var d=templateEngine.transformEncode(e.address[g][0],f);if(d!=templateEngine.transformEncode(e.address[g][0],e.value)){templateEngine.visu.write(g.substr(1),d)}}e.value=a.slider("value")},250))},slideChange:function(b,d){var c=$(this).data();clearInterval(c.updateFn,d.value);c.inAction=false;if(c.valueInternal&&c.value!=d.value){for(var e in c.address){if(!(c.address[e][1]&2)){continue}var a=templateEngine.transformEncode(c.address[e][0],d.value);if(a!=templateEngine.transformEncode(c.address[e][0],c.value)){templateEngine.visu.write(e.substr(1),a)}}}}});basicdesign.addCreator("switch",{create:function(h,q,m,n){var c=$(h);var j=c.children("layout")[0];var b=j?'style="'+extractLayout(j,n)+'"':"";var e="widget clearfix switch";if(c.attr("align")){e+=" "+c.attr("align")}var d=$('<div class="'+e+'" '+b+"/>");d.setWidgetLayout(c);if(c.attr("flavour")){m=c.attr("flavour")}if(m){d.addClass("flavour_"+m)}var o=extractLabel(c.find("label")[0],m);var p=makeAddressList(c);var a=templateEngine.bindClickToWidget;if(c.attr("bind_click_to_widget")){a=c.attr("bind_click_to_widget")=="true"}var g='<div class="actor switchUnpressed"><div class="value">-</div></div>';var f=$(g).data({address:p,mapping:c.attr("mapping"),styling:c.attr("styling"),on_value:c.attr("on_value")||1,off_value:c.attr("off_value")||0,align:c.attr("align"),type:"switch"});var k=a?d:f;k.bind("click",this.action);for(var l in p){if(p[l][1]&1){f.bind(l,this.update)}}d.append(o).append(f);return d},update:function(c,g){var a=$(this);var b=defaultUpdate(c,g,a);var f=templateEngine.map(a.data("off_value"),a.data("mapping"));a.removeClass(b==f?"switchPressed":"switchUnpressed");a.addClass(b==f?"switchUnpressed":"switchPressed")},action:function(){var a=$(this).find(".actor").size()==1?$(this).find(".actor").data():$(this).data();for(var b in a.address){if(!(a.address[b][1]&2)){continue}templateEngine.visu.write(b.substr(1),templateEngine.transformEncode(a.address[b][0],a.basicvalue==a.off_value?a.on_value:a.off_value))}}});basicdesign.addCreator("text",{create:function(d,j,f,g){var b=$(d);var e=b.children("layout")[0];var a=e?'style="'+extractLayout(e,g)+'"':"";var c=$('<div class="widget clearfix text" '+a+"/>");c.setWidgetLayout(b);if(b.attr("flavour")){f=b.attr("flavour")}if(f){c.addClass("flavour_"+f)}var h=extractLabel(b.find("label")[0],f);if(!h){h=$("<div/>");b.contents().each(function(){var l=$(this);if(l.is("icon")){var k=icons.getIcon(l.attr("name"),l.attr("type"),l.attr("flavour")||f);if(k){h.append(k.clone())}}else{h.append(this.textContent)}})}h.removeAttr("class");if(b.attr("align")){h.attr("style","text-align:"+b.attr("align")+";")}c.append(h);return c}});basicdesign.addCreator("toggle",{create:function(h,q,m,n){var c=$(h);var j=c.children("layout")[0];var b=j?'style="'+extractLayout(j,n)+'"':"";var e="widget clearfix toggle";if(c.attr("align")){e+=" "+c.attr("align")}var d=$('<div class="'+e+'" '+b+"/>");d.setWidgetLayout(c);if(c.attr("flavour")){m=c.attr("flavour")}if(m){d.addClass("flavour_"+m)}var o=extractLabel(c.find("label")[0],m);var p=makeAddressList(c);var a=templateEngine.bindClickToWidget;if(c.attr("bind_click_to_widget")){a=c.attr("bind_click_to_widget")=="true"}var g='<div class="actor switchUnpressed"><div class="value">-</div></div>';var f=$(g).data({address:p,mapping:c.attr("mapping"),styling:c.attr("styling"),align:c.attr("align"),type:"switch"});var k=a?d:f;k.bind("click",this.action);for(var l in p){f.bind(l,this.update)}d.append(o).append(f);return d},update:function(c,f){var a=$(this);var b=defaultUpdate(c,f,a);a.addClass("switchUnpressed")},action:function(){var d=$(this).find(".actor").size()==1?$(this).find(".actor").data():$(this).data();var c=0;var a;var b;for(var f in templateEngine.mappings[d.mapping]){if(templateEngine.mappings[d.mapping].hasOwnProperty(f)){c++;if(f>d.basicvalue&&!a){a=f}if(!b){b=f}}}sendValue=(a)?a:b;for(var g in d.address){if(!(d.address[g][1]&2)){continue}templateEngine.visu.write(g.substr(1),templateEngine.transformEncode(d.address[g][0],sendValue))}}});basicdesign.addCreator("trigger",{create:function(d,m,u,g){var e=$(d);var s=e.children("layout")[0];var r=s?'style="'+extractLayout(s,g)+'"':"";var o=e.attr("value")?e.attr("value"):0;var c=e.attr("shortvalue")?e.attr("shortvalue"):0;var t="widget clearfix trigger";if(e.attr("align")){t+=" "+e.attr("align")}var j=$('<div class="'+t+'" '+r+"/>");j.setWidgetLayout(e);if(e.attr("flavour")){u=e.attr("flavour")}if(u){j.addClass("flavour_"+u)}var k=extractLabel(e.find("label")[0],u);var h=makeAddressList(e,function(y,v,x,w){return[true,w=="short"]});var b=templateEngine.bindClickToWidget;if(e.attr("bind_click_to_widget")){b=e.attr("bind_click_to_widget")=="true"}var f='<div class="actor switchUnpressed ';if(e.attr("align")){f+=e.attr("align")}f+='"><div class="value"></div></div>';var p=$(f);var a=p.find(".value");var l=templateEngine.map(o,e.attr("mapping"));if(("string"==typeof l)||("number"==typeof l)){a.append(l)}else{for(var q=0;q<l.length;q++){a.append($(l[q]).clone())}}p.data({address:h,mapping:$(d).attr("mapping"),styling:$(d).attr("styling"),type:"trigger",align:e.attr("align"),sendValue:o,shorttime:parseFloat(e.attr("shorttime"))||-1,shortValue:c}).setWidgetStyling(o);var n=b?j:p;n.bind("mousedown touchstart",this.mousedown).bind("mouseup touchend",this.mouseup).bind("mouseout touchout",this.mouseout);j.append(k).append(p);return j},mousedown:function(a){var b=$(this).find(".actor").size()==1?$(this).find(".actor"):$(this);b.removeClass("switchUnpressed").addClass("switchPressed").data("downtime",new Date().getTime());if("touchstart"==a.type){$(this).unbind("mousedown").unbind("mouseup").unbind("mouseout")}},mouseup:function(b){var d=$(this).find(".actor").size()==1?$(this).find(".actor"):$(this);if(d.data("downtime")){var c=d.data();var a=(new Date().getTime())-c.downtime<c.shorttime;for(var e in c.address){if(!(c.address[e][1]&2)){continue}if(a==c.address[e][2]){templateEngine.visu.write(e.substr(1),templateEngine.transformEncode(c.address[e][0],a?c.shortValue:c.sendValue))}}}d.removeClass("switchPressed").addClass("switchUnpressed").removeData("downtime")},mouseout:function(a){var b=$(this).find(".actor").size()==1?$(this).find(".actor"):$(this);b.removeClass("switchPressed").addClass("switchUnpressed").removeData("downtime")}});basicdesign.addCreator("urltrigger",{create:function(c,k,s,f){var d=$(c);var q=d.children("layout")[0];var p=q?'style="'+extractLayout(q,f)+'"':"";var m=d.attr("value")?d.attr("value"):0;var r="widget clearfix trigger";if(d.attr("align")){r+=" "+d.attr("align")}var g=$('<div class="'+r+'" '+p+"/>");g.setWidgetLayout(d);if(d.attr("flavour")){s=d.attr("flavour")}if(s){g.addClass("flavour_"+s)}var h=extractLabel(d.find("label")[0],s);var e='<div class="actor switchUnpressed ';if(d.attr("align")){e+=d.attr("align")}e+='"><div class="value"></div></div>';var n=$(e);var a=n.find(".value");var j=templateEngine.map(m,d.attr("mapping"));var b=templateEngine.bindClickToWidget;if(d.attr("bind_click_to_widget")){b=d.attr("bind_click_to_widget")=="true"}if(("string"==typeof j)||("number"==typeof j)){a.append(j)}else{for(var o=0;o<j.length;o++){a.append($(j[o]).clone())}}n.data({url:$(c).attr("url"),mapping:$(c).attr("mapping"),styling:$(c).attr("styling"),type:"urltrigger",align:d.attr("align"),params:$(c).attr("params"),sendValue:m}).setWidgetStyling(m);var l=b?g:n;l.bind("click",this.action).bind("mousedown",function(){n.removeClass("switchUnpressed").addClass("switchPressed")}).bind("mouseup mouseout",function(){n.removeClass("switchPressed").addClass("switchUnpressed")});g.append(h).append(n);return g},action:function(){var a=$(this).find(".actor").size()==1?$(this).find(".actor").data():$(this).data();a.params=a.params?a.params:"";$.ajax({type:"GET",datatype:"html",data:encodeURI(a.params),url:a.url,success:function(b){}})}});basicdesign.addCreator("unknown",{create:function(a,e,d,c){var b=$('<div class="widget clearfix" />');b.append("<pre>unknown: "+a.nodeName+"</pre>");return b}});basicdesign.addCreator("video",{create:function(f,k,h,j){var b=$(f);var g=b.children("layout")[0];var a=g?'style="'+extractLayout(g,j)+'"':"";var c=$('<div class="widget clearfix video" '+a+"/>");c.setWidgetLayout(b);if(b.attr("flavour")){h=b.attr("flavour")}if(h){c.addClass("flavour_"+h)}c.append(extractLabel(b.find("label")[0],h));var d=(b.attr("autoplay")&&b.attr("autoplay")=="true")?' autoplay="autoplay"':"";var a="";if(b.attr("width")){a+="width:"+b.attr("width")+";"}if(b.attr("height")){a+="height:"+b.attr("height")+";"}if(a!=""){a='style="'+a+'"'}var e='<div class="actor"><video src="'+b.attr("src")+'" '+a+d+'  controls="controls" /></div>';c.append($(e).data({}));return c}});basicdesign.addCreator("wgplugin_info",{create:function(f,m,j,k){var b=$(f);var g=b.children("layout")[0];var a=g?'style="'+extractLayout(g,k)+'"':"";var c=$('<div class="widget clearfix info" '+a+" />");k=="3d"&&$(document).bind("update3d",{element:c,layout:extractLayout3d(g)},this.update3d);c.setWidgetLayout(b).makeWidgetLabel(b,j);if(b.attr("flavour")){j=b.attr("flavour")}if(j){c.addClass("flavour_"+j)}var l=makeAddressList(b);var e='<div class="actor"><div class="value">-</div></div>';var d=$(e).data({variable:b.attr("variable"),address:l,format:b.attr("format"),mapping:b.attr("mapping"),styling:b.attr("styling")});for(var h in l){d.bind(h,this.update)}c.append(d);return c},update:function(f,d,c){var b=c||$(this);var a=b.data("variable");var g=b.find(".value");$.getJSON("/wg-plugindb.pl?name="+a,function(e){b.setWidgetStyling(b.data("basicvalue"));if(b.data("align")){b.addClass(b.data("align"))}g.empty();g.append(e[a])})},update3d:defaultUpdate3d});Transform={raw:{name:"Only the RAW value",encode:function(a){return a},decode:function(a){return a}},"int":{name:"Cast to Int",encode:function(a){return a.toString()},decode:function(a){return parseInt(a)}},"float":{name:"Cast to Float",encode:function(a){return a.toString()},decode:function(a){return parseFloat(a)}}};function addTransform(b,a){for(trans in a){if(a[trans].link){Transform[b+":"+trans]=$.extend({},a[a[trans].link],a[trans])}else{Transform[b+":"+trans]=a[trans]}}}function zeroFillString(b,a){if(b.length>=a){return b}return new Array(1+a-b.length).join("0")+b}addTransform("DPT",{"1.001":{name:"DPT_Switch",encode:function(a){return(a|128).toString(16)},decode:function(a){return parseInt(a,16)}},"1":{link:"1.001"},"1.002":{link:"1.001"},"1.003":{link:"1.001"},"1.008":{link:"1.001"},"1.009":{link:"1.001"},"2":{link:"1.001"},"3":{link:"1.001"},"4.001":{name:"DPT_Char_ASCII",encode:function(a){var b=a.charCodeAt(0).toString(16);return(b.length==1?"800":"80")+b},decode:function(a){return String.fromCharCode(parseInt(a,16))}},"4":{link:"4.001"},"5.001":{name:"DPT_Scaling",unit:"%",range:{min:0,max:100},encode:function(a){var b=parseInt(a*255/100).toString(16);return(b.length==1?"800":"80")+b},decode:function(a){return parseInt(a,16)*100/255}},"5.003":{name:"DPT_Angle",unit:"",range:{min:0,max:360},encode:function(a){var b=parseInt(a*255/360).toString(16);return(b.length==1?"800":"80")+b},decode:function(a){return parseInt(a,16)*360/255}},"5.004":{name:"DPT_Percent_U8",unit:"%",range:{min:0,max:255},encode:function(a){var b=parseInt(a).toString(16);return(b.length==1?"800":"80")+b},decode:function(a){return parseInt(a,16)}},"5.010":{link:"5.004",name:"DPT_Value_1_Ucount",unit:"-"},"5":{link:"5.004",name:"8-Bit Unsigned Value"},"6.001":{name:"DPT_Percent_V8",encode:function(a){var b=a<0?a+256:a;b=b.toString(16);return(b.length==1?"800":"80")+b},decode:function(a){var b=parseInt(a,16);return b>127?(b-256):b}},"6":{link:"6.001"},"7.001":{name:"DPT_Value_2_Ucount",encode:function(a){var b=zeroFillString(parseInt(a).toString(16),4);return"80"+b},decode:function(a){return parseInt(a,16)}},"7":{link:"7.001"},"8.001":{name:"DPT_Value_2_Count",encode:function(a){var b=parseInt(a);b=b<0?b+65536:b;return"80"+zeroFillString(b.toString(16),4)},decode:function(a){var b=parseInt(a,16);return b>32767?(b-65536):b}},"8":{link:"8.001"},"9.001":{name:"DPT_Value_Temp",encode:function(b){if(undefined===b||NaN==b){return"7fff"}var a=b<0?32768:0;var c=Math.round(b*100);var e=0;while(Math.abs(c)>2047){c>>=1;e++}var d=(a|(e<<11)|(c&2047)).toString(16);return"80"+(new Array(4-d.length+1).join("0")+d)},decode:function(e){if(32767==parseInt(e,16)){return NaN}var d=parseInt(e.substr(0,2),16);var c=parseInt(e.substr(2,2),16);var a=parseInt(d&128);var f=parseInt(d&120)>>3;var b=parseInt(((d&7)<<8)|c);if(a!=0){b=-(~(b-1)&2047)}return(1<<f)*0.01*b}},"9.004":{link:"9.001"},"9.007":{link:"9.001"},"9.008":{link:"9.001"},"9.020":{link:"9.001"},"9.021":{link:"9.001"},"9":{link:"9.001"},"10.001":{name:"DPT_TimeOfDay",encode:function(a){var b=zeroFillString(((a.getDay()<<5)+a.getHours()).toString(16),2);b+=zeroFillString(a.getMinutes().toString(16),2);b+=zeroFillString(a.getSeconds().toString(16),2);return"80"+b},decode:function(d){var c=new Date();c.setHours(parseInt(d.substr(0,2),16)&31);c.setMinutes(parseInt(d.substr(2,2),16));c.setSeconds(parseInt(d.substr(4,2),16));var a=(parseInt(d.substr(0,2),16)&224)>>5;if(a>0){var b=(a-c.getDay())%7;c.setDate(c.getDate()+b)}return c}},"11.001":{name:"DPT_Date",encode:function(a){},decode:function(b){var a=parseInt(b.substr(4,2),16)&127;return new Date(a<90?a+2000:a+1900,(parseInt(b.substr(2,2),16)&15)-1,parseInt(b.substr(0,2),16)&31)}},"12.001":{name:"DPT_Value_4_Ucount",encode:function(a){var b=zeroFillString(parseInt(a).toString(16),8);return"80"+b},decode:function(a){return parseInt(a,16)}},"12":{link:"12.001"},"13.001":{name:"DPT_Value_4_Count",encode:function(a){var b=parseInt(a);b=b<0?b+4294967296:b;return"80"+zeroFillString(b.toString(16),8)},decode:function(a){var b=parseInt(a,16);return b>2147483647?(b-4294967296):b}},"13":{link:"13.001"},"14.001":{name:"DPT_Value_Acceleration_Angular",encode:function(a){},decode:function(c){var e=parseInt(c,16);var a=(e&2147483648)?-1:1;var d=((e&2139095040)>>23)-127;var b=(e&8388607|8388608);return a*Math.pow(2,d)*(b/(1<<23))}},"14":{link:"14.001",name:"4 byte float",lname:{de:"4 Byte Gleitkommazahl"},unit:"-"},"16.001":{name:"DPT_String_8859_1",lname:{de:"14 Byte Text ISO-8859-1"},encode:function(a){var d="80";for(var b=0;b<14;b++){var e=a.charCodeAt(b);d+=e?((e<16?"0":"")+e.toString(16)):"00"}return d},decode:function(c){var d="";var b;for(var a=0;a<28;a=a+2){b=parseInt(c.substr(a,2),16);if(b>0){d+=String.fromCharCode(b)}}return d}},"16.000":{link:"16.001",name:"DPT_String_ASCII",lname:{de:"14 Byte Text ASCII"},unit:"-"},"16":{link:"16.001",name:"DPT_String_ASCII",lname:{de:"14 Byte Text ASCII"},unit:"-"},"20.102":{name:"DPT_HVACMode",lname:{de:"KONNEX Betriebsart"},unit:"-",range:{"enum":["auto","comfort","standby","economy","building_protection"]},encode:function(a){var b;switch(a){case 1:case"comfort":b=1;break;case 2:case"standby":b=2;break;case 3:case"economy":b=3;break;case 4:case"building_protection":b=4;break;default:b=0}b=b.toString(16);return(b.length==1?"800":"80")+b},decode:function(a){switch(parseInt(a,16)){case 1:return"comfort";case 2:return"standby";case 3:return"economy";case 4:return"building_protection";default:return"auto"}},},"temp dummy":{link:"1.001"}});function TEST(a,e){var d=5;a="DPT:"+a;for(i=0;i<Math.pow(2,8*e);i++){var b=i.toString(16);b=new Array(2*e-b.length+1).join("0")+b;var g=Transform[a].encode(Transform[a].decode(b));if(b!=g){var f=Transform[a].decode(b);var c=Transform[a].decode(Transform[a].encode(f));if(f!=c){console.log(i,b,g,Transform[a].decode(b),f,c,d);if((--d)<0){return d}}}}}addTransform("OH",{"switch":{name:"OH_Switch",encode:function(a){return a==1?"ON":"OFF"},decode:function(a){return(a=="ON"||parseInt(a)>0)?1:0}},contact:{name:"OH_Contact",encode:function(a){return a==1?"OPEN":"CLOSED"},decode:function(a){return a=="OPEN"?1:0}},rollershutter:{name:"OH_RollerShutter",encode:function(a){if(a==1){return"DOWN"}else{if(a==0){return"UP"}else{return a}}},decode:function(a){if(a=="NaN"||a=="Uninitialized"){return 0}else{if(a=="UP"){return 0}else{if(a=="DOWN"){return 1}else{return a}}}},},dimmer:{name:"OH_Dimmer",encode:function(a){return parseInt(a)},decode:function(a){if(a=="NaN"||a=="Uninitialized"){return 0}else{if(a=="ON"){return 100}else{if(a=="OFF"){return 0}else{return parseInt(a)}}}},},number:{name:"OH_Number",encode:function(a){return parseFloat(a)},decode:function(a){if(a=="NaN"||a=="Uninitialized"){return 0}return parseFloat(a)},},string:{name:"OH_String",encode:function(a){return a},decode:function(a){return a},},});var THREE=THREE||{};if(!self.Int32Array){self.Int32Array=Array,self.Float32Array=Array}THREE.Clock=function(b){this.autoStart=b!==void 0?b:!0;this.elapsedTime=this.oldTime=this.startTime=0;this.running=!1};THREE.Clock.prototype.start=function(){this.oldTime=this.startTime=Date.now();this.running=!0};THREE.Clock.prototype.stop=function(){this.getElapsedTime();this.running=!1};THREE.Clock.prototype.getElapsedTime=function(){this.elapsedTime+=this.getDelta();return this.elapsedTime};THREE.Clock.prototype.getDelta=function(){var b=0;this.autoStart&&!this.running&&this.start();if(this.running){var d=Date.now(),b=0.001*(d-this.oldTime);this.oldTime=d;this.elapsedTime+=b}return b};THREE.Color=function(b){b!==void 0&&this.setHex(b);return this};THREE.Color.prototype={constructor:THREE.Color,r:1,g:1,b:1,copy:function(b){this.r=b.r;this.g=b.g;this.b=b.b;return this},copyGammaToLinear:function(b){this.r=b.r*b.r;this.g=b.g*b.g;this.b=b.b*b.b;return this},copyLinearToGamma:function(b){this.r=Math.sqrt(b.r);this.g=Math.sqrt(b.g);this.b=Math.sqrt(b.b);return this},setRGB:function(e,f,d){this.r=e;this.g=f;this.b=d;return this},setHSV:function(h,m,e){var l,j,k;if(e===0){this.r=this.g=this.b=0}else{switch(l=Math.floor(h*6),j=h*6-l,h=e*(1-m),k=e*(1-m*j),m=e*(1-m*(1-j)),l){case 1:this.r=k;this.g=e;this.b=h;break;case 2:this.r=h;this.g=e;this.b=m;break;case 3:this.r=h;this.g=k;this.b=e;break;case 4:this.r=m;this.g=h;this.b=e;break;case 5:this.r=e;this.g=h;this.b=k;break;case 6:case 0:this.r=e,this.g=m,this.b=h}}return this},setHex:function(b){b=Math.floor(b);this.r=(b>>16&255)/255;this.g=(b>>8&255)/255;this.b=(b&255)/255;return this},getHex:function(){return ~~(this.r*255)<<16^~~(this.g*255)<<8^~~(this.b*255)},getContextStyle:function(){return"rgb("+Math.floor(this.r*255)+","+Math.floor(this.g*255)+","+Math.floor(this.b*255)+")"},clone:function(){return(new THREE.Color).setRGB(this.r,this.g,this.b)}};THREE.Vector2=function(b,d){this.x=b||0;this.y=d||0};THREE.Vector2.prototype={constructor:THREE.Vector2,set:function(b,d){this.x=b;this.y=d;return this},copy:function(b){this.x=b.x;this.y=b.y;return this},clone:function(){return new THREE.Vector2(this.x,this.y)},add:function(b,d){this.x=b.x+d.x;this.y=b.y+d.y;return this},addSelf:function(b){this.x+=b.x;this.y+=b.y;return this},sub:function(b,d){this.x=b.x-d.x;this.y=b.y-d.y;return this},subSelf:function(b){this.x-=b.x;this.y-=b.y;return this},multiplyScalar:function(b){this.x*=b;this.y*=b;return this},divideScalar:function(b){b?(this.x/=b,this.y/=b):this.set(0,0);return this},negate:function(){return this.multiplyScalar(-1)},dot:function(b){return this.x*b.x+this.y*b.y},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.lengthSq())},normalize:function(){return this.divideScalar(this.length())},distanceTo:function(b){return Math.sqrt(this.distanceToSquared(b))},distanceToSquared:function(b){var d=this.x-b.x,b=this.y-b.y;return d*d+b*b},setLength:function(b){return this.normalize().multiplyScalar(b)},equals:function(b){return b.x===this.x&&b.y===this.y}};THREE.Vector3=function(e,f,d){this.x=e||0;this.y=f||0;this.z=d||0};THREE.Vector3.prototype={constructor:THREE.Vector3,set:function(e,f,d){this.x=e;this.y=f;this.z=d;return this},setX:function(b){this.x=b;return this},setY:function(b){this.y=b;return this},setZ:function(b){this.z=b;return this},copy:function(b){this.x=b.x;this.y=b.y;this.z=b.z;return this},clone:function(){return new THREE.Vector3(this.x,this.y,this.z)},add:function(b,d){this.x=b.x+d.x;this.y=b.y+d.y;this.z=b.z+d.z;return this},addSelf:function(b){this.x+=b.x;this.y+=b.y;this.z+=b.z;return this},addScalar:function(b){this.x+=b;this.y+=b;this.z+=b;return this},sub:function(b,d){this.x=b.x-d.x;this.y=b.y-d.y;this.z=b.z-d.z;return this},subSelf:function(b){this.x-=b.x;this.y-=b.y;this.z-=b.z;return this},multiply:function(b,d){this.x=b.x*d.x;this.y=b.y*d.y;this.z=b.z*d.z;return this},multiplySelf:function(b){this.x*=b.x;this.y*=b.y;this.z*=b.z;return this},multiplyScalar:function(b){this.x*=b;this.y*=b;this.z*=b;return this},divideSelf:function(b){this.x/=b.x;this.y/=b.y;this.z/=b.z;return this},divideScalar:function(b){b?(this.x/=b,this.y/=b,this.z/=b):this.z=this.y=this.x=0;return this},negate:function(){return this.multiplyScalar(-1)},dot:function(b){return this.x*b.x+this.y*b.y+this.z*b.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.lengthSq())},lengthManhattan:function(){return this.x+this.y+this.z},normalize:function(){return this.divideScalar(this.length())},setLength:function(b){return this.normalize().multiplyScalar(b)},cross:function(b,d){this.x=b.y*d.z-b.z*d.y;this.y=b.z*d.x-b.x*d.z;this.z=b.x*d.y-b.y*d.x;return this},crossSelf:function(f){var h=this.x,e=this.y,g=this.z;this.x=e*f.z-g*f.y;this.y=g*f.x-h*f.z;this.z=h*f.y-e*f.x;return this},distanceTo:function(b){return Math.sqrt(this.distanceToSquared(b))},distanceToSquared:function(b){return(new THREE.Vector3).sub(this,b).lengthSq()},setPositionFromMatrix:function(b){this.x=b.n14;this.y=b.n24;this.z=b.n34},setRotationFromMatrix:function(b){var d=Math.cos(this.y);this.y=Math.asin(b.n13);Math.abs(d)>0.00001?(this.x=Math.atan2(-b.n23/d,b.n33/d),this.z=Math.atan2(-b.n12/d,b.n11/d)):(this.x=0,this.z=Math.atan2(b.n21,b.n22))},isZero:function(){return this.lengthSq()<0.0001}};THREE.Vector4=function(f,h,e,g){this.x=f||0;this.y=h||0;this.z=e||0;this.w=g!==void 0?g:1};THREE.Vector4.prototype={constructor:THREE.Vector4,set:function(f,h,e,g){this.x=f;this.y=h;this.z=e;this.w=g;return this},copy:function(b){this.x=b.x;this.y=b.y;this.z=b.z;this.w=b.w!==void 0?b.w:1},clone:function(){return new THREE.Vector4(this.x,this.y,this.z,this.w)},add:function(b,d){this.x=b.x+d.x;this.y=b.y+d.y;this.z=b.z+d.z;this.w=b.w+d.w;return this},addSelf:function(b){this.x+=b.x;this.y+=b.y;this.z+=b.z;this.w+=b.w;return this},sub:function(b,d){this.x=b.x-d.x;this.y=b.y-d.y;this.z=b.z-d.z;this.w=b.w-d.w;return this},subSelf:function(b){this.x-=b.x;this.y-=b.y;this.z-=b.z;this.w-=b.w;return this},multiplyScalar:function(b){this.x*=b;this.y*=b;this.z*=b;this.w*=b;return this},divideScalar:function(b){b?(this.x/=b,this.y/=b,this.z/=b,this.w/=b):(this.z=this.y=this.x=0,this.w=1);return this},negate:function(){return this.multiplyScalar(-1)},dot:function(b){return this.x*b.x+this.y*b.y+this.z*b.z+this.w*b.w},lengthSq:function(){return this.dot(this)},length:function(){return Math.sqrt(this.lengthSq())},normalize:function(){return this.divideScalar(this.length())},setLength:function(b){return this.normalize().multiplyScalar(b)},lerpSelf:function(b,d){this.x+=(b.x-this.x)*d;this.y+=(b.y-this.y)*d;this.z+=(b.z-this.z)*d;this.w+=(b.w-this.w)*d;return this}};THREE.Ray=function(X,V){function W(e,d,f){K.sub(f,e);E=K.dot(d);if(E<=0){return null}L=J.add(e,M.copy(d).multiplyScalar(E));return H=f.distanceTo(L)}function U(f,e,h,g){K.sub(g,e);J.sub(h,e);M.sub(f,e);D=K.dot(K);v=K.dot(J);C=K.dot(M);G=J.dot(J);z=J.dot(M);I=1/(D*G-v*v);s=(G*C-v*z)*I;j=(D*z-v*C)*I;return s>=0&&j>=0&&s+j<1}this.origin=X||new THREE.Vector3;this.direction=V||new THREE.Vector3;this.intersectScene=function(b){return this.intersectObjects(b.children)};this.intersectObjects=function(f){var e,h,g=[];e=0;for(h=f.length;e<h;e++){Array.prototype.push.apply(g,this.intersectObject(f[e]))}g.sort(function(d,c){return d.distance-c.distance});return g};var R=new THREE.Vector3,S=new THREE.Vector3,T=new THREE.Vector3,Q=new THREE.Vector3,X=new THREE.Vector3,V=new THREE.Vector3,P=new THREE.Vector3,N=new THREE.Vector3,O=new THREE.Vector3;this.intersectObject=function(f){for(var e,d=[],c=0,a=f.children.length;c<a;c++){Array.prototype.push.apply(d,this.intersectObject(f.children[c]))}if(f instanceof THREE.Particle){c=W(this.origin,this.direction,f.matrixWorld.getPosition());if(c===null||c>f.scale.x){return[]}e={distance:c,point:f.position,face:null,object:f};d.push(e)}else{if(f instanceof THREE.Mesh){c=W(this.origin,this.direction,f.matrixWorld.getPosition());if(c===null||c>f.geometry.boundingSphere.radius*Math.max(f.scale.x,Math.max(f.scale.y,f.scale.z))){return d}var b,k=f.geometry,g=k.vertices,h;f.matrixRotationWorld.extractRotation(f.matrixWorld);c=0;for(a=k.faces.length;c<a;c++){if(e=k.faces[c],X.copy(this.origin),V.copy(this.direction),h=f.matrixWorld,P=h.multiplyVector3(P.copy(e.centroid)).subSelf(X),b=P.dot(V),!(b<=0)&&(R=h.multiplyVector3(R.copy(g[e.a].position)),S=h.multiplyVector3(S.copy(g[e.b].position)),T=h.multiplyVector3(T.copy(g[e.c].position)),e instanceof THREE.Face4&&(Q=h.multiplyVector3(Q.copy(g[e.d].position))),N=f.matrixRotationWorld.multiplyVector3(N.copy(e.normal)),b=V.dot(N),f.doubleSided||(f.flipSided?b>0:b<0))){if(b=N.dot(P.sub(R,X))/b,O.add(X,V.multiplyScalar(b)),e instanceof THREE.Face3){U(O,R,S,T)&&(e={distance:X.distanceTo(O),point:O.clone(),face:e,object:f},d.push(e))}else{if(e instanceof THREE.Face4&&(U(O,R,S,Q)||U(O,S,T,Q))){e={distance:X.distanceTo(O),point:O.clone(),face:e,object:f},d.push(e)}}}}}}return d};var K=new THREE.Vector3,J=new THREE.Vector3,M=new THREE.Vector3,E,L,H,D,v,C,G,z,I,s,j};THREE.Rectangle=function(){function k(){n=p-q;o=m-j}var q,j,p,m,n,o,l=!0;this.getX=function(){return q};this.getY=function(){return j};this.getWidth=function(){return n};this.getHeight=function(){return o};this.getLeft=function(){return q};this.getTop=function(){return j};this.getRight=function(){return p};this.getBottom=function(){return m};this.set=function(b,c,a,d){l=!1;q=b;j=c;p=a;m=d;k()};this.addPoint=function(a,b){l?(l=!1,q=a,j=b,p=a,m=b):(q=q<a?q:a,j=j<b?j:b,p=p>a?p:a,m=m>b?m:b);k()};this.add3Points=function(c,g,b,h,d,a){l?(l=!1,q=c<b?c<d?c:d:b<d?b:d,j=g<h?g<a?g:a:h<a?h:a,p=c>b?c>d?c:d:b>d?b:d,m=g>h?g>a?g:a:h>a?h:a):(q=c<b?c<d?c<q?c:q:d<q?d:q:b<d?b<q?b:q:d<q?d:q,j=g<h?g<a?g<j?g:j:a<j?a:j:h<a?h<j?h:j:a<j?a:j,p=c>b?c>d?c>p?c:p:d>p?d:p:b>d?b>p?b:p:d>p?d:p,m=g>h?g>a?g>m?g:m:a>m?a:m:h>a?h>m?h:m:a>m?a:m);k()};this.addRectangle=function(a){l?(l=!1,q=a.getLeft(),j=a.getTop(),p=a.getRight(),m=a.getBottom()):(q=q<a.getLeft()?q:a.getLeft(),j=j<a.getTop()?j:a.getTop(),p=p>a.getRight()?p:a.getRight(),m=m>a.getBottom()?m:a.getBottom());k()};this.inflate=function(a){q-=a;j-=a;p+=a;m+=a;k()};this.minSelf=function(a){q=q>a.getLeft()?q:a.getLeft();j=j>a.getTop()?j:a.getTop();p=p<a.getRight()?p:a.getRight();m=m<a.getBottom()?m:a.getBottom();k()};this.intersects=function(b){return Math.min(p,b.getRight())-Math.max(q,b.getLeft())>=0&&Math.min(m,b.getBottom())-Math.max(j,b.getTop())>=0};this.empty=function(){l=!0;m=p=j=q=0;k()};this.isEmpty=function(){return l}};THREE.Math={clamp:function(e,f,d){return e<f?f:e>d?d:e},clampBottom:function(b,d){return b<d?d:b},mapLinear:function(f,k,e,j,h){return j+(f-k)*(h-j)/(e-k)},random16:function(){return(65280*Math.random()+255*Math.random())/65535}};THREE.Matrix3=function(){this.m=[]};THREE.Matrix3.prototype={constructor:THREE.Matrix3,transpose:function(){var b,d=this.m;b=d[1];d[1]=d[3];d[3]=b;b=d[2];d[2]=d[6];d[6]=b;b=d[5];d[5]=d[7];d[7]=b;return this},transposeIntoArray:function(b){var d=this.m;b[0]=d[0];b[1]=d[3];b[2]=d[6];b[3]=d[1];b[4]=d[4];b[5]=d[7];b[6]=d[2];b[7]=d[5];b[8]=d[8];return this}};THREE.Matrix4=function(F,D,E,C,z,A,B,y,x,v,w,s,q,u,j,t){this.set(F!==void 0?F:1,D||0,E||0,C||0,z||0,A!==void 0?A:1,B||0,y||0,x||0,v||0,w!==void 0?w:1,s||0,q||0,u||0,j||0,t!==void 0?t:1);this.flat=Array(16);this.m33=new THREE.Matrix3};THREE.Matrix4.prototype={constructor:THREE.Matrix4,set:function(F,D,E,C,z,A,B,y,x,v,w,s,q,u,j,t){this.n11=F;this.n12=D;this.n13=E;this.n14=C;this.n21=z;this.n22=A;this.n23=B;this.n24=y;this.n31=x;this.n32=v;this.n33=w;this.n34=s;this.n41=q;this.n42=u;this.n43=j;this.n44=t;return this},identity:function(){this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1);return this},copy:function(b){this.set(b.n11,b.n12,b.n13,b.n14,b.n21,b.n22,b.n23,b.n24,b.n31,b.n32,b.n33,b.n34,b.n41,b.n42,b.n43,b.n44);return this},lookAt:function(h,m,e){var l=THREE.Matrix4.__v1,j=THREE.Matrix4.__v2,k=THREE.Matrix4.__v3;k.sub(h,m).normalize();if(k.length()===0){k.z=1}l.cross(e,k).normalize();l.length()===0&&(k.x+=0.0001,l.cross(e,k).normalize());j.cross(k,l).normalize();this.n11=l.x;this.n12=j.x;this.n13=k.x;this.n21=l.y;this.n22=j.y;this.n23=k.y;this.n31=l.z;this.n32=j.z;this.n33=k.z;return this},multiply:function(ap,an){var ao=ap.n11,am=ap.n12,aj=ap.n13,ak=ap.n14,al=ap.n21,ai=ap.n22,ah=ap.n23,af=ap.n24,ag=ap.n31,ac=ap.n32,ab=ap.n33,ae=ap.n34,X=ap.n41,ad=ap.n42,Z=ap.n43,V=ap.n44,M=an.n11,S=an.n12,Y=an.n13,Q=an.n14,aa=an.n21,L=an.n22,I=an.n23,N=an.n24,H=an.n31,W=an.n32,T=an.n33,z=an.n34,j=an.n41,G=an.n42,C=an.n43,D=an.n44;this.n11=ao*M+am*aa+aj*H+ak*j;this.n12=ao*S+am*L+aj*W+ak*G;this.n13=ao*Y+am*I+aj*T+ak*C;this.n14=ao*Q+am*N+aj*z+ak*D;this.n21=al*M+ai*aa+ah*H+af*j;this.n22=al*S+ai*L+ah*W+af*G;this.n23=al*Y+ai*I+ah*T+af*C;this.n24=al*Q+ai*N+ah*z+af*D;this.n31=ag*M+ac*aa+ab*H+ae*j;this.n32=ag*S+ac*L+ab*W+ae*G;this.n33=ag*Y+ac*I+ab*T+ae*C;this.n34=ag*Q+ac*N+ab*z+ae*D;this.n41=X*M+ad*aa+Z*H+V*j;this.n42=X*S+ad*L+Z*W+V*G;this.n43=X*Y+ad*I+Z*T+V*C;this.n44=X*Q+ad*N+Z*z+V*D;return this},multiplySelf:function(b){return this.multiply(this,b)},multiplyToArray:function(e,f,d){this.multiply(e,f);d[0]=this.n11;d[1]=this.n21;d[2]=this.n31;d[3]=this.n41;d[4]=this.n12;d[5]=this.n22;d[6]=this.n32;d[7]=this.n42;d[8]=this.n13;d[9]=this.n23;d[10]=this.n33;d[11]=this.n43;d[12]=this.n14;d[13]=this.n24;d[14]=this.n34;d[15]=this.n44;return this},multiplyScalar:function(b){this.n11*=b;this.n12*=b;this.n13*=b;this.n14*=b;this.n21*=b;this.n22*=b;this.n23*=b;this.n24*=b;this.n31*=b;this.n32*=b;this.n33*=b;this.n34*=b;this.n41*=b;this.n42*=b;this.n43*=b;this.n44*=b;return this},multiplyVector3:function(f){var k=f.x,e=f.y,j=f.z,h=1/(this.n41*k+this.n42*e+this.n43*j+this.n44);f.x=(this.n11*k+this.n12*e+this.n13*j+this.n14)*h;f.y=(this.n21*k+this.n22*e+this.n23*j+this.n24)*h;f.z=(this.n31*k+this.n32*e+this.n33*j+this.n34)*h;return f},multiplyVector4:function(f){var k=f.x,e=f.y,j=f.z,h=f.w;f.x=this.n11*k+this.n12*e+this.n13*j+this.n14*h;f.y=this.n21*k+this.n22*e+this.n23*j+this.n24*h;f.z=this.n31*k+this.n32*e+this.n33*j+this.n34*h;f.w=this.n41*k+this.n42*e+this.n43*j+this.n44*h;return f},rotateAxis:function(f){var h=f.x,e=f.y,g=f.z;f.x=h*this.n11+e*this.n12+g*this.n13;f.y=h*this.n21+e*this.n22+g*this.n23;f.z=h*this.n31+e*this.n32+g*this.n33;f.normalize();return f},crossVector:function(b){var d=new THREE.Vector4;d.x=this.n11*b.x+this.n12*b.y+this.n13*b.z+this.n14*b.w;d.y=this.n21*b.x+this.n22*b.y+this.n23*b.z+this.n24*b.w;d.z=this.n31*b.x+this.n32*b.y+this.n33*b.z+this.n34*b.w;d.w=b.w?this.n41*b.x+this.n42*b.y+this.n43*b.z+this.n44*b.w:1;return d},determinant:function(){var F=this.n11,D=this.n12,E=this.n13,C=this.n14,z=this.n21,A=this.n22,B=this.n23,y=this.n24,x=this.n31,v=this.n32,w=this.n33,s=this.n34,q=this.n41,u=this.n42,j=this.n43,t=this.n44;return C*B*v*q-E*y*v*q-C*A*w*q+D*y*w*q+E*A*s*q-D*B*s*q-C*B*x*u+E*y*x*u+C*z*w*u-F*y*w*u-E*z*s*u+F*B*s*u+C*A*x*j-D*y*x*j-C*z*v*j+F*y*v*j+D*z*s*j-F*A*s*j-E*A*x*t+D*B*x*t+E*z*v*t-F*B*v*t-D*z*w*t+F*A*w*t},transpose:function(){var b;b=this.n21;this.n21=this.n12;this.n12=b;b=this.n31;this.n31=this.n13;this.n13=b;b=this.n32;this.n32=this.n23;this.n23=b;b=this.n41;this.n41=this.n14;this.n14=b;b=this.n42;this.n42=this.n24;this.n24=b;b=this.n43;this.n43=this.n34;this.n43=b;return this},clone:function(){var b=new THREE.Matrix4;b.n11=this.n11;b.n12=this.n12;b.n13=this.n13;b.n14=this.n14;b.n21=this.n21;b.n22=this.n22;b.n23=this.n23;b.n24=this.n24;b.n31=this.n31;b.n32=this.n32;b.n33=this.n33;b.n34=this.n34;b.n41=this.n41;b.n42=this.n42;b.n43=this.n43;b.n44=this.n44;return b},flatten:function(){this.flat[0]=this.n11;this.flat[1]=this.n21;this.flat[2]=this.n31;this.flat[3]=this.n41;this.flat[4]=this.n12;this.flat[5]=this.n22;this.flat[6]=this.n32;this.flat[7]=this.n42;this.flat[8]=this.n13;this.flat[9]=this.n23;this.flat[10]=this.n33;this.flat[11]=this.n43;this.flat[12]=this.n14;this.flat[13]=this.n24;this.flat[14]=this.n34;this.flat[15]=this.n44;return this.flat},flattenToArray:function(b){b[0]=this.n11;b[1]=this.n21;b[2]=this.n31;b[3]=this.n41;b[4]=this.n12;b[5]=this.n22;b[6]=this.n32;b[7]=this.n42;b[8]=this.n13;b[9]=this.n23;b[10]=this.n33;b[11]=this.n43;b[12]=this.n14;b[13]=this.n24;b[14]=this.n34;b[15]=this.n44;return b},flattenToArrayOffset:function(b,d){b[d]=this.n11;b[d+1]=this.n21;b[d+2]=this.n31;b[d+3]=this.n41;b[d+4]=this.n12;b[d+5]=this.n22;b[d+6]=this.n32;b[d+7]=this.n42;b[d+8]=this.n13;b[d+9]=this.n23;b[d+10]=this.n33;b[d+11]=this.n43;b[d+12]=this.n14;b[d+13]=this.n24;b[d+14]=this.n34;b[d+15]=this.n44;return b},setTranslation:function(e,f,d){this.set(1,0,0,e,0,1,0,f,0,0,1,d,0,0,0,1);return this},setScale:function(e,f,d){this.set(e,0,0,0,0,f,0,0,0,0,d,0,0,0,0,1);return this},setRotationX:function(b){var d=Math.cos(b),b=Math.sin(b);this.set(1,0,0,0,0,d,-b,0,0,b,d,0,0,0,0,1);return this},setRotationY:function(b){var d=Math.cos(b),b=Math.sin(b);this.set(d,0,b,0,0,1,0,0,-b,0,d,0,0,0,0,1);return this},setRotationZ:function(b){var d=Math.cos(b),b=Math.sin(b);this.set(d,-b,0,0,b,d,0,0,0,0,1,0,0,0,0,1);return this},setRotationAxis:function(t,r){var s=Math.cos(r),q=Math.sin(r),n=1-s,o=t.x,p=t.y,m=t.z,k=n*o,j=n*p;this.set(k*o+s,k*p-q*m,k*m+q*p,0,k*p+q*m,j*p+s,j*m-q*o,0,k*m-q*p,j*m+q*o,n*m*m+s,0,0,0,0,1);return this},setPosition:function(b){this.n14=b.x;this.n24=b.y;this.n34=b.z;return this},getPosition:function(){return THREE.Matrix4.__v1.set(this.n14,this.n24,this.n34)},getColumnX:function(){return THREE.Matrix4.__v1.set(this.n11,this.n21,this.n31)},getColumnY:function(){return THREE.Matrix4.__v1.set(this.n12,this.n22,this.n32)},getColumnZ:function(){return THREE.Matrix4.__v1.set(this.n13,this.n23,this.n33)},getInverse:function(H){var F=H.n11,G=H.n12,E=H.n13,B=H.n14,C=H.n21,D=H.n22,A=H.n23,z=H.n24,x=H.n31,y=H.n32,u=H.n33,t=H.n34,w=H.n41,j=H.n42,v=H.n43,s=H.n44;this.n11=A*t*j-z*u*j+z*y*v-D*t*v-A*y*s+D*u*s;this.n12=B*u*j-E*t*j-B*y*v+G*t*v+E*y*s-G*u*s;this.n13=E*z*j-B*A*j+B*D*v-G*z*v-E*D*s+G*A*s;this.n14=B*A*y-E*z*y-B*D*u+G*z*u+E*D*t-G*A*t;this.n21=z*u*w-A*t*w-z*x*v+C*t*v+A*x*s-C*u*s;this.n22=E*t*w-B*u*w+B*x*v-F*t*v-E*x*s+F*u*s;this.n23=B*A*w-E*z*w-B*C*v+F*z*v+E*C*s-F*A*s;this.n24=E*z*x-B*A*x+B*C*u-F*z*u-E*C*t+F*A*t;this.n31=D*t*w-z*y*w+z*x*j-C*t*j-D*x*s+C*y*s;this.n32=B*y*w-G*t*w-B*x*j+F*t*j+G*x*s-F*y*s;this.n33=E*z*w-B*D*w+B*C*j-F*z*j-G*C*s+F*D*s;this.n34=B*D*x-G*z*x-B*C*y+F*z*y+G*C*t-F*D*t;this.n41=A*y*w-D*u*w-A*x*j+C*u*j+D*x*v-C*y*v;this.n42=G*u*w-E*y*w+E*x*j-F*u*j-G*x*v+F*y*v;this.n43=E*D*w-G*A*w-E*C*j+F*A*j+G*C*v-F*D*v;this.n44=G*A*x-E*D*x+E*C*y-F*A*y-G*C*u+F*D*u;this.multiplyScalar(1/H.determinant());return this},setRotationFromEuler:function(x,v){var w=x.x,u=x.y,r=x.z,s=Math.cos(w),w=Math.sin(w),t=Math.cos(u),u=Math.sin(u),q=Math.cos(r),r=Math.sin(r);switch(v){case"YXZ":var p=t*q,m=t*r,n=u*q,j=u*r;this.n11=p+j*w;this.n12=n*w-m;this.n13=s*u;this.n21=s*r;this.n22=s*q;this.n23=-w;this.n31=m*w-n;this.n32=j+p*w;this.n33=s*t;break;case"ZXY":p=t*q;m=t*r;n=u*q;j=u*r;this.n11=p-j*w;this.n12=-s*r;this.n13=n+m*w;this.n21=m+n*w;this.n22=s*q;this.n23=j-p*w;this.n31=-s*u;this.n32=w;this.n33=s*t;break;case"ZYX":p=s*q;m=s*r;n=w*q;j=w*r;this.n11=t*q;this.n12=n*u-m;this.n13=p*u+j;this.n21=t*r;this.n22=j*u+p;this.n23=m*u-n;this.n31=-u;this.n32=w*t;this.n33=s*t;break;case"YZX":p=s*t;m=s*u;n=w*t;j=w*u;this.n11=t*q;this.n12=j-p*r;this.n13=n*r+m;this.n21=r;this.n22=s*q;this.n23=-w*q;this.n31=-u*q;this.n32=m*r+n;this.n33=p-j*r;break;case"XZY":p=s*t;m=s*u;n=w*t;j=w*u;this.n11=t*q;this.n12=-r;this.n13=u*q;this.n21=p*r+j;this.n22=s*q;this.n23=m*r-n;this.n31=n*r-m;this.n32=w*q;this.n33=j*r+p;break;default:p=s*q,m=s*r,n=w*q,j=w*r,this.n11=t*q,this.n12=-t*r,this.n13=u,this.n21=m+n*u,this.n22=p-j*u,this.n23=-w*t,this.n31=j-p*u,this.n32=n+m*u,this.n33=s*t}return this},setRotationFromQuaternion:function(t){var r=t.x,s=t.y,q=t.z,n=t.w,o=r+r,p=s+s,m=q+q,t=r*o,k=r*p;r*=m;var j=s*p;s*=m;q*=m;o*=n;p*=n;n*=m;this.n11=1-(j+q);this.n12=k-n;this.n13=r+p;this.n21=k+n;this.n22=1-(t+q);this.n23=s-o;this.n31=r-p;this.n32=s+o;this.n33=1-(t+j);return this},scale:function(e){var f=e.x,d=e.y,e=e.z;this.n11*=f;this.n12*=d;this.n13*=e;this.n21*=f;this.n22*=d;this.n23*=e;this.n31*=f;this.n32*=d;this.n33*=e;this.n41*=f;this.n42*=d;this.n43*=e;return this},compose:function(f,k,e){var j=THREE.Matrix4.__m1,h=THREE.Matrix4.__m2;j.identity();j.setRotationFromQuaternion(k);h.setScale(e.x,e.y,e.z);this.multiply(j,h);this.n14=f.x;this.n24=f.y;this.n34=f.z;return this},decompose:function(h,m,e){var l=THREE.Matrix4.__v1,j=THREE.Matrix4.__v2,k=THREE.Matrix4.__v3;l.set(this.n11,this.n21,this.n31);j.set(this.n12,this.n22,this.n32);k.set(this.n13,this.n23,this.n33);h=h instanceof THREE.Vector3?h:new THREE.Vector3;m=m instanceof THREE.Quaternion?m:new THREE.Quaternion;e=e instanceof THREE.Vector3?e:new THREE.Vector3;e.x=l.length();e.y=j.length();e.z=k.length();h.x=this.n14;h.y=this.n24;h.z=this.n34;l=THREE.Matrix4.__m1;l.copy(this);l.n11/=e.x;l.n21/=e.x;l.n31/=e.x;l.n12/=e.y;l.n22/=e.y;l.n32/=e.y;l.n13/=e.z;l.n23/=e.z;l.n33/=e.z;m.setFromRotationMatrix(l);return[h,m,e]},extractPosition:function(b){this.n14=b.n14;this.n24=b.n24;this.n34=b.n34;return this},extractRotation:function(f){var h=THREE.Matrix4.__v1,e=1/h.set(f.n11,f.n21,f.n31).length(),g=1/h.set(f.n12,f.n22,f.n32).length(),h=1/h.set(f.n13,f.n23,f.n33).length();this.n11=f.n11*e;this.n21=f.n21*e;this.n31=f.n31*e;this.n12=f.n12*g;this.n22=f.n22*g;this.n32=f.n32*g;this.n13=f.n13*h;this.n23=f.n23*h;this.n33=f.n33*h;return this}};THREE.Matrix4.makeInvert3x3=function(x){var v=x.m33,w=v.m,u=x.n33*x.n22-x.n32*x.n23,r=-x.n33*x.n21+x.n31*x.n23,s=x.n32*x.n21-x.n31*x.n22,t=-x.n33*x.n12+x.n32*x.n13,q=x.n33*x.n11-x.n31*x.n13,p=-x.n32*x.n11+x.n31*x.n12,m=x.n23*x.n12-x.n22*x.n13,n=-x.n23*x.n11+x.n21*x.n13,j=x.n22*x.n11-x.n21*x.n12,x=x.n11*u+x.n21*t+x.n31*m;x===0&&console.error("THREE.Matrix4.makeInvert3x3: Matrix not invertible.");x=1/x;w[0]=x*u;w[1]=x*r;w[2]=x*s;w[3]=x*t;w[4]=x*q;w[5]=x*p;w[6]=x*m;w[7]=x*n;w[8]=x*j;return v};THREE.Matrix4.makeFrustum=function(j,o,h,n,k,l){var m;m=new THREE.Matrix4;m.n11=2*k/(o-j);m.n12=0;m.n13=(o+j)/(o-j);m.n14=0;m.n21=0;m.n22=2*k/(n-h);m.n23=(n+h)/(n-h);m.n24=0;m.n31=0;m.n32=0;m.n33=-(l+k)/(l-k);m.n34=-2*l*k/(l-k);m.n41=0;m.n42=0;m.n43=-1;m.n44=0;return m};THREE.Matrix4.makePerspective=function(f,k,e,j){var h,f=e*Math.tan(f*Math.PI/360);h=-f;return THREE.Matrix4.makeFrustum(h*k,f*k,h,f,e,j)};THREE.Matrix4.makeOrtho=function(t,r,s,q,n,o){var p,m,k,j;p=new THREE.Matrix4;m=r-t;k=s-q;j=o-n;p.n11=2/m;p.n12=0;p.n13=0;p.n14=-((r+t)/m);p.n21=0;p.n22=2/k;p.n23=0;p.n24=-((s+q)/k);p.n31=0;p.n32=0;p.n33=-2/j;p.n34=-((o+n)/j);p.n41=0;p.n42=0;p.n43=0;p.n44=1;return p};THREE.Matrix4.__v1=new THREE.Vector3;THREE.Matrix4.__v2=new THREE.Vector3;THREE.Matrix4.__v3=new THREE.Vector3;THREE.Matrix4.__m1=new THREE.Matrix4;THREE.Matrix4.__m2=new THREE.Matrix4;THREE.Object3D=function(){this.name="";this.id=THREE.Object3DCount++;this.parent=void 0;this.children=[];this.up=new THREE.Vector3(0,1,0);this.position=new THREE.Vector3;this.rotation=new THREE.Vector3;this.eulerOrder="XYZ";this.scale=new THREE.Vector3(1,1,1);this.flipSided=this.doubleSided=this.dynamic=!1;this.renderDepth=null;this.rotationAutoUpdate=!0;this.matrix=new THREE.Matrix4;this.matrixWorld=new THREE.Matrix4;this.matrixRotationWorld=new THREE.Matrix4;this.matrixWorldNeedsUpdate=this.matrixAutoUpdate=!0;this.quaternion=new THREE.Quaternion;this.useQuaternion=!1;this.boundRadius=0;this.boundRadiusScale=1;this.visible=!0;this.receiveShadow=this.castShadow=!1;this.frustumCulled=!0;this._vector=new THREE.Vector3};THREE.Object3D.prototype={constructor:THREE.Object3D,translate:function(b,d){this.matrix.rotateAxis(d);this.position.addSelf(d.multiplyScalar(b))},translateX:function(b){this.translate(b,this._vector.set(1,0,0))},translateY:function(b){this.translate(b,this._vector.set(0,1,0))},translateZ:function(b){this.translate(b,this._vector.set(0,0,1))},lookAt:function(b){this.matrix.lookAt(b,this.position,this.up);this.rotationAutoUpdate&&this.rotation.setRotationFromMatrix(this.matrix)},add:function(b){if(this.children.indexOf(b)===-1){b.parent!==void 0&&b.parent.remove(b);b.parent=this;this.children.push(b);for(var d=this;d.parent!==void 0;){d=d.parent}d!==void 0&&d instanceof THREE.Scene&&d.addObject(b)}},remove:function(b){var d=this.children.indexOf(b);if(d!==-1){b.parent=void 0;this.children.splice(d,1);for(d=this;d.parent!==void 0;){d=d.parent}d!==void 0&&d instanceof THREE.Scene&&d.removeObject(b)}},getChildByName:function(f,k){var e,j,h;e=0;for(j=this.children.length;e<j;e++){h=this.children[e];if(h.name===f){return h}if(k&&(h=h.getChildByName(f,k),h!==void 0)){return h}}},updateMatrix:function(){this.matrix.setPosition(this.position);this.useQuaternion?this.matrix.setRotationFromQuaternion(this.quaternion):this.matrix.setRotationFromEuler(this.rotation,this.eulerOrder);if(this.scale.x!==1||this.scale.y!==1||this.scale.z!==1){this.matrix.scale(this.scale),this.boundRadiusScale=Math.max(this.scale.x,Math.max(this.scale.y,this.scale.z))}this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(e){this.matrixAutoUpdate&&this.updateMatrix();if(this.matrixWorldNeedsUpdate||e){this.parent?this.matrixWorld.multiply(this.parent.matrixWorld,this.matrix):this.matrixWorld.copy(this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0}for(var f=0,d=this.children.length;f<d;f++){this.children[f].updateMatrixWorld(e)}}};THREE.Object3DCount=0;THREE.Projector=function(){function af(){var b=ab[aa]=ab[aa]||new THREE.RenderableObject;aa++;return b}function ad(){var b=V[X]=V[X]||new THREE.RenderableVertex;X++;return b}function ae(d,c){return c.z-d.z}function ac(l,k){var r=0,q=1,n=l.z+l.w,o=k.z+k.w,p=-l.z+l.w,m=-k.z+k.w;return n>=0&&o>=0&&p>=0&&m>=0?!0:n<0&&o<0||p<0&&m<0?!1:(n<0?r=Math.max(r,n/(n-o)):o<0&&(q=Math.min(q,n/(n-o))),p<0?r=Math.max(r,p/(p-m)):m<0&&(q=Math.min(q,p/(p-m))),q<r?!1:(l.lerpSelf(k,r),k.lerpSelf(l,1-q),!0))}var Z,aa,ab=[],Y,X,V=[],W,S,R=[],U,N=[],T,P,L=[],D,I,O=[],H={objects:[],sprites:[],lights:[],elements:[]},Q=new THREE.Vector3,C=new THREE.Vector4,z=new THREE.Matrix4,G=new THREE.Matrix4,j=[new THREE.Vector4,new THREE.Vector4,new THREE.Vector4,new THREE.Vector4,new THREE.Vector4,new THREE.Vector4],M=new THREE.Vector4,K=new THREE.Vector4;this.computeFrustum=function(d){j[0].set(d.n41-d.n11,d.n42-d.n12,d.n43-d.n13,d.n44-d.n14);j[1].set(d.n41+d.n11,d.n42+d.n12,d.n43+d.n13,d.n44+d.n14);j[2].set(d.n41+d.n21,d.n42+d.n22,d.n43+d.n23,d.n44+d.n24);j[3].set(d.n41-d.n21,d.n42-d.n22,d.n43-d.n23,d.n44-d.n24);j[4].set(d.n41-d.n31,d.n42-d.n32,d.n43-d.n33,d.n44-d.n34);j[5].set(d.n41+d.n31,d.n42+d.n32,d.n43+d.n33,d.n44+d.n34);for(d=0;d<6;d++){var c=j[d];c.divideScalar(Math.sqrt(c.x*c.x+c.y*c.y+c.z*c.z))}};this.projectVector=function(d,c){c.matrixWorldInverse.getInverse(c.matrixWorld);z.multiply(c.projectionMatrix,c.matrixWorldInverse);z.multiplyVector3(d);return d};this.unprojectVector=function(d,c){c.projectionMatrixInverse.getInverse(c.projectionMatrix);z.multiply(c.matrixWorld,c.projectionMatrixInverse);z.multiplyVector3(d);return d};this.pickingRay=function(e,d){var f;e.z=-1;f=new THREE.Vector3(e.x,e.y,1);this.unprojectVector(e,d);this.unprojectVector(f,d);f.subSelf(e).normalize();return new THREE.Ray(e,f)};this.projectGraph=function(f,b){aa=0;H.objects.length=0;H.sprites.length=0;H.lights.length=0;var a=function(e){if(e.visible!==!1){var m;if(m=e instanceof THREE.Mesh||e instanceof THREE.Line){if(!(m=e.frustumCulled===!1)){af:{for(var l=e.matrixWorld,k=-e.geometry.boundingSphere.radius*Math.max(e.scale.x,Math.max(e.scale.y,e.scale.z)),g=0;g<6;g++){if(m=j[g].x*l.n14+j[g].y*l.n24+j[g].z*l.n34+j[g].w,m<=k){m=!1;break af}}m=!0}}}m?(z.multiplyVector3(Q.copy(e.position)),Z=af(),Z.object=e,Z.z=Q.z,H.objects.push(Z)):e instanceof THREE.Sprite||e instanceof THREE.Particle?(z.multiplyVector3(Q.copy(e.position)),Z=af(),Z.object=e,Z.z=Q.z,H.sprites.push(Z)):e instanceof THREE.Light&&H.lights.push(e);m=0;for(l=e.children.length;m<l;m++){a(e.children[m])}}};a(f);b&&H.objects.sort(ae);return H};this.projectScene=function(y,v,w){var x=v.near,n=v.far,r,p,q,o,m,k,l,c,t,b,d,B,E,h,u,s;I=P=U=S=0;H.elements.length=0;v.parent===void 0&&(console.warn("DEPRECATED: Camera hasn't been added to a Scene. Adding it..."),y.add(v));y.updateMatrixWorld();v.matrixWorldInverse.getInverse(v.matrixWorld);z.multiply(v.projectionMatrix,v.matrixWorldInverse);this.computeFrustum(z);H=this.projectGraph(y,!1);y=0;for(r=H.objects.length;y<r;y++){if(t=H.objects[y].object,b=t.matrixWorld,B=t.material,X=0,t instanceof THREE.Mesh){d=t.geometry;E=t.geometry.materials;o=d.vertices;h=d.faces;u=d.faceVertexUvs;d=t.matrixRotationWorld.extractRotation(b);p=0;for(q=o.length;p<q;p++){Y=ad(),Y.positionWorld.copy(o[p].position),b.multiplyVector3(Y.positionWorld),Y.positionScreen.copy(Y.positionWorld),z.multiplyVector4(Y.positionScreen),Y.positionScreen.x/=Y.positionScreen.w,Y.positionScreen.y/=Y.positionScreen.w,Y.visible=Y.positionScreen.z>x&&Y.positionScreen.z<n}o=0;for(p=h.length;o<p;o++){q=h[o];if(q instanceof THREE.Face3){if(m=V[q.a],k=V[q.b],l=V[q.c],m.visible&&k.visible&&l.visible&&(t.doubleSided||t.flipSided!=(l.positionScreen.x-m.positionScreen.x)*(k.positionScreen.y-m.positionScreen.y)-(l.positionScreen.y-m.positionScreen.y)*(k.positionScreen.x-m.positionScreen.x)<0)){c=R[S]=R[S]||new THREE.RenderableFace3,S++,W=c,W.v1.copy(m),W.v2.copy(k),W.v3.copy(l)}else{continue}}else{if(q instanceof THREE.Face4){if(m=V[q.a],k=V[q.b],l=V[q.c],c=V[q.d],m.visible&&k.visible&&l.visible&&c.visible&&(t.doubleSided||t.flipSided!=((c.positionScreen.x-m.positionScreen.x)*(k.positionScreen.y-m.positionScreen.y)-(c.positionScreen.y-m.positionScreen.y)*(k.positionScreen.x-m.positionScreen.x)<0||(k.positionScreen.x-l.positionScreen.x)*(c.positionScreen.y-l.positionScreen.y)-(k.positionScreen.y-l.positionScreen.y)*(c.positionScreen.x-l.positionScreen.x)<0))){s=N[U]=N[U]||new THREE.RenderableFace4,U++,W=s,W.v1.copy(m),W.v2.copy(k),W.v3.copy(l),W.v4.copy(c)}else{continue}}}W.normalWorld.copy(q.normal);d.multiplyVector3(W.normalWorld);W.centroidWorld.copy(q.centroid);b.multiplyVector3(W.centroidWorld);W.centroidScreen.copy(W.centroidWorld);z.multiplyVector3(W.centroidScreen);l=q.vertexNormals;m=0;for(k=l.length;m<k;m++){c=W.vertexNormalsWorld[m],c.copy(l[m]),d.multiplyVector3(c)}m=0;for(k=u.length;m<k;m++){if(s=u[m][o]){l=0;for(c=s.length;l<c;l++){W.uvs[m][l]=s[l]}}}W.material=B;W.faceMaterial=q.materialIndex!==null?E[q.materialIndex]:null;W.z=W.centroidScreen.z;H.elements.push(W)}}else{if(t instanceof THREE.Line){G.multiply(z,b);o=t.geometry.vertices;m=ad();m.positionScreen.copy(o[0].position);G.multiplyVector4(m.positionScreen);p=1;for(q=o.length;p<q;p++){if(m=ad(),m.positionScreen.copy(o[p].position),G.multiplyVector4(m.positionScreen),k=V[X-2],M.copy(m.positionScreen),K.copy(k.positionScreen),ac(M,K)){M.multiplyScalar(1/M.w),K.multiplyScalar(1/K.w),t=L[P]=L[P]||new THREE.RenderableLine,P++,T=t,T.v1.positionScreen.copy(M),T.v2.positionScreen.copy(K),T.z=Math.max(M.z,K.z),T.material=B,H.elements.push(T)}}}}}y=0;for(r=H.sprites.length;y<r;y++){if(t=H.sprites[y].object,b=t.matrixWorld,t instanceof THREE.Particle&&(C.set(b.n14,b.n24,b.n34,1),z.multiplyVector4(C),C.z/=C.w,C.z>0&&C.z<1)){x=O[I]=O[I]||new THREE.RenderableParticle,I++,D=x,D.x=C.x/C.w,D.y=C.y/C.w,D.z=C.z,D.rotation=t.rotation.z,D.scale.x=t.scale.x*Math.abs(D.x-(C.x+v.projectionMatrix.n11)/(C.w+v.projectionMatrix.n14)),D.scale.y=t.scale.y*Math.abs(D.y-(C.y+v.projectionMatrix.n22)/(C.w+v.projectionMatrix.n24)),D.material=t.material,H.elements.push(D)}}w&&H.elements.sort(ae);return H}};THREE.Quaternion=function(f,h,e,g){this.set(f||0,h||0,e||0,g!==void 0?g:1)};THREE.Quaternion.prototype={constructor:THREE.Quaternion,set:function(f,h,e,g){this.x=f;this.y=h;this.z=e;this.w=g;return this},copy:function(b){this.x=b.x;this.y=b.y;this.z=b.z;this.w=b.w;return this},setFromEuler:function(k){var q=Math.PI/360,j=k.x*q,p=k.y*q,m=k.z*q,k=Math.cos(p),p=Math.sin(p),q=Math.cos(-m),m=Math.sin(-m),n=Math.cos(j),j=Math.sin(j),o=k*q,l=p*m;this.w=o*n-l*j;this.x=o*j+l*n;this.y=p*q*n+k*m*j;this.z=k*m*n-p*q*j;return this},setFromAxisAngle:function(f,h){var e=h/2,g=Math.sin(e);this.x=f.x*g;this.y=f.y*g;this.z=f.z*g;this.w=Math.cos(e);return this},setFromRotationMatrix:function(b){var d=Math.pow(b.determinant(),1/3);this.w=Math.sqrt(Math.max(0,d+b.n11+b.n22+b.n33))/2;this.x=Math.sqrt(Math.max(0,d+b.n11-b.n22-b.n33))/2;this.y=Math.sqrt(Math.max(0,d-b.n11+b.n22-b.n33))/2;this.z=Math.sqrt(Math.max(0,d-b.n11-b.n22+b.n33))/2;this.x=b.n32-b.n23<0?-Math.abs(this.x):Math.abs(this.x);this.y=b.n13-b.n31<0?-Math.abs(this.y):Math.abs(this.y);this.z=b.n21-b.n12<0?-Math.abs(this.z):Math.abs(this.z);this.normalize();return this},calculateW:function(){this.w=-Math.sqrt(Math.abs(1-this.x*this.x-this.y*this.y-this.z*this.z));return this},inverse:function(){this.x*=-1;this.y*=-1;this.z*=-1;return this},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},normalize:function(){var b=Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w);b===0?this.w=this.z=this.y=this.x=0:(b=1/b,this.x*=b,this.y*=b,this.z*=b,this.w*=b);return this},multiplySelf:function(k){var q=this.x,j=this.y,p=this.z,m=this.w,n=k.x,o=k.y,l=k.z,k=k.w;this.x=q*k+m*n+j*l-p*o;this.y=j*k+m*o+p*n-q*l;this.z=p*k+m*l+q*o-j*n;this.w=m*k-q*n-j*o-p*l;return this},multiply:function(b,d){this.x=b.x*d.w+b.y*d.z-b.z*d.y+b.w*d.x;this.y=-b.x*d.z+b.y*d.w+b.z*d.x+b.w*d.y;this.z=b.x*d.y-b.y*d.x+b.z*d.w+b.w*d.z;this.w=-b.x*d.x-b.y*d.y-b.z*d.z+b.w*d.w;return this},multiplyVector3:function(x,v){v||(v=x);var w=x.x,u=x.y,r=x.z,s=this.x,t=this.y,q=this.z,p=this.w,m=p*w+t*r-q*u,n=p*u+q*w-s*r,j=p*r+s*u-t*w,w=-s*w-t*u-q*r;v.x=m*p+w*-s+n*-q-j*-t;v.y=n*p+w*-t+j*-s-m*-q;v.z=j*p+w*-q+m*-t-n*-s;return v}};THREE.Quaternion.slerp=function(h,m,e,l){var j=h.w*m.w+h.x*m.x+h.y*m.y+h.z*m.z;j<0?(e.w=-m.w,e.x=-m.x,e.y=-m.y,e.z=-m.z,j=-j):e.copy(m);if(Math.abs(j)>=1){return e.w=h.w,e.x=h.x,e.y=h.y,e.z=h.z,e}var k=Math.acos(j),j=Math.sqrt(1-j*j);if(Math.abs(j)<0.001){return e.w=0.5*(h.w+m.w),e.x=0.5*(h.x+m.x),e.y=0.5*(h.y+m.y),e.z=0.5*(h.z+m.z),e}m=Math.sin((1-l)*k)/j;l=Math.sin(l*k)/j;e.w=h.w*m+e.w*l;e.x=h.x*m+e.x*l;e.y=h.y*m+e.y*l;e.z=h.z*m+e.z*l;return e};THREE.Vertex=function(b){this.position=b||new THREE.Vector3};THREE.Face3=function(h,m,e,l,j,k){this.a=h;this.b=m;this.c=e;this.normal=l instanceof THREE.Vector3?l:new THREE.Vector3;this.vertexNormals=l instanceof Array?l:[];this.color=j instanceof THREE.Color?j:new THREE.Color;this.vertexColors=j instanceof Array?j:[];this.vertexTangents=[];this.materialIndex=k;this.centroid=new THREE.Vector3};THREE.Face4=function(j,o,h,n,k,l,m){this.a=j;this.b=o;this.c=h;this.d=n;this.normal=k instanceof THREE.Vector3?k:new THREE.Vector3;this.vertexNormals=k instanceof Array?k:[];this.color=l instanceof THREE.Color?l:new THREE.Color;this.vertexColors=l instanceof Array?l:[];this.vertexTangents=[];this.materialIndex=m;this.centroid=new THREE.Vector3};THREE.UV=function(b,d){this.u=b||0;this.v=d||0};THREE.UV.prototype={constructor:THREE.UV,set:function(b,d){this.u=b;this.v=d;return this},copy:function(b){this.u=b.u;this.v=b.v;return this},clone:function(){return new THREE.UV(this.u,this.v)}};THREE.Geometry=function(){this.id=THREE.GeometryCount++;this.vertices=[];this.colors=[];this.materials=[];this.faces=[];this.faceUvs=[[]];this.faceVertexUvs=[[]];this.morphTargets=[];this.morphColors=[];this.skinWeights=[];this.skinIndices=[];this.boundingSphere=this.boundingBox=null;this.dynamic=this.hasTangents=!1};THREE.Geometry.prototype={constructor:THREE.Geometry,applyMatrix:function(j){var o=new THREE.Matrix4;o.extractRotation(j,new THREE.Vector3(1,1,1));for(var h=0,n=this.vertices.length;h<n;h++){j.multiplyVector3(this.vertices[h].position)}h=0;for(n=this.faces.length;h<n;h++){var k=this.faces[h];o.multiplyVector3(k.normal);for(var l=0,m=k.vertexNormals.length;l<m;l++){o.multiplyVector3(k.vertexNormals[l])}j.multiplyVector3(k.centroid)}},computeCentroids:function(){var e,f,d;e=0;for(f=this.faces.length;e<f;e++){d=this.faces[e],d.centroid.set(0,0,0),d instanceof THREE.Face3?(d.centroid.addSelf(this.vertices[d.a].position),d.centroid.addSelf(this.vertices[d.b].position),d.centroid.addSelf(this.vertices[d.c].position),d.centroid.divideScalar(3)):d instanceof THREE.Face4&&(d.centroid.addSelf(this.vertices[d.a].position),d.centroid.addSelf(this.vertices[d.b].position),d.centroid.addSelf(this.vertices[d.c].position),d.centroid.addSelf(this.vertices[d.d].position),d.centroid.divideScalar(4))}},computeFaceNormals:function(){var k,q,j,p,m,n,o=new THREE.Vector3,l=new THREE.Vector3;k=0;for(q=this.faces.length;k<q;k++){j=this.faces[k],p=this.vertices[j.a],m=this.vertices[j.b],n=this.vertices[j.c],o.sub(n.position,m.position),l.sub(p.position,m.position),o.crossSelf(l),o.isZero()||o.normalize(),j.normal.copy(o)}},computeVertexNormals:function(){var f,h,e,g;if(this.__tmpVertices===void 0){g=this.__tmpVertices=Array(this.vertices.length);f=0;for(h=this.vertices.length;f<h;f++){g[f]=new THREE.Vector3}f=0;for(h=this.faces.length;f<h;f++){if(e=this.faces[f],e instanceof THREE.Face3){e.vertexNormals=[new THREE.Vector3,new THREE.Vector3,new THREE.Vector3]}else{if(e instanceof THREE.Face4){e.vertexNormals=[new THREE.Vector3,new THREE.Vector3,new THREE.Vector3,new THREE.Vector3]}}}}else{g=this.__tmpVertices;f=0;for(h=this.vertices.length;f<h;f++){g[f].set(0,0,0)}}f=0;for(h=this.faces.length;f<h;f++){e=this.faces[f],e instanceof THREE.Face3?(g[e.a].addSelf(e.normal),g[e.b].addSelf(e.normal),g[e.c].addSelf(e.normal)):e instanceof THREE.Face4&&(g[e.a].addSelf(e.normal),g[e.b].addSelf(e.normal),g[e.c].addSelf(e.normal),g[e.d].addSelf(e.normal))}f=0;for(h=this.vertices.length;f<h;f++){g[f].normalize()}f=0;for(h=this.faces.length;f<h;f++){e=this.faces[f],e instanceof THREE.Face3?(e.vertexNormals[0].copy(g[e.a]),e.vertexNormals[1].copy(g[e.b]),e.vertexNormals[2].copy(g[e.c])):e instanceof THREE.Face4&&(e.vertexNormals[0].copy(g[e.a]),e.vertexNormals[1].copy(g[e.b]),e.vertexNormals[2].copy(g[e.c]),e.vertexNormals[3].copy(g[e.d]))}},computeTangents:function(){function an(h,e,o,n,l,m,k){ag=h.vertices[e].position;af=h.vertices[o].position;ad=h.vertices[n].position;ae=aj[l];aa=aj[m];Z=aj[k];ac=af.x-ag.x;V=ad.x-ag.x;ab=af.y-ag.y;X=ad.y-ag.y;S=af.z-ag.z;L=ad.z-ag.z;O=aa.u-ae.u;W=Z.u-ae.u;N=aa.v-ae.v;Y=Z.v-ae.v;I=1/(O*Y-W*N);T.set((Y*ac-N*V)*I,(Y*ab-N*X)*I,(Y*S-N*L)*I);Q.set((O*V-W*ac)*I,(O*X-W*ab)*I,(O*L-W*S)*I);M[e].addSelf(T);M[o].addSelf(T);M[n].addSelf(T);G[e].addSelf(Q);G[o].addSelf(Q);G[n].addSelf(Q)}var al,am,ak,ah,ai,aj,ag,af,ad,ae,aa,Z,ac,V,ab,X,S,L,O,W,N,Y,I,H,M=[],G=[],T=new THREE.Vector3,Q=new THREE.Vector3,z=new THREE.Vector3,j=new THREE.Vector3,D=new THREE.Vector3;al=0;for(am=this.vertices.length;al<am;al++){M[al]=new THREE.Vector3,G[al]=new THREE.Vector3}al=0;for(am=this.faces.length;al<am;al++){ai=this.faces[al],aj=this.faceVertexUvs[0][al],ai instanceof THREE.Face3?an(this,ai.a,ai.b,ai.c,0,1,2):ai instanceof THREE.Face4&&(an(this,ai.a,ai.b,ai.c,0,1,2),an(this,ai.a,ai.b,ai.d,0,1,3))}var C=["a","b","c","d"];al=0;for(am=this.faces.length;al<am;al++){ai=this.faces[al];for(ak=0;ak<ai.vertexNormals.length;ak++){D.copy(ai.vertexNormals[ak]),ah=ai[C[ak]],H=M[ah],z.copy(H),z.subSelf(D.multiplyScalar(D.dot(H))).normalize(),j.cross(ai.vertexNormals[ak],H),ah=j.dot(G[ah]),ah=ah<0?-1:1,ai.vertexTangents[ak]=new THREE.Vector4(z.x,z.y,z.z,ah)}}this.hasTangents=!0},computeBoundingBox:function(){var e;if(this.vertices.length>0){this.boundingBox={x:[this.vertices[0].position.x,this.vertices[0].position.x],y:[this.vertices[0].position.y,this.vertices[0].position.y],z:[this.vertices[0].position.z,this.vertices[0].position.z]};for(var f=1,d=this.vertices.length;f<d;f++){e=this.vertices[f];if(e.position.x<this.boundingBox.x[0]){this.boundingBox.x[0]=e.position.x}else{if(e.position.x>this.boundingBox.x[1]){this.boundingBox.x[1]=e.position.x}}if(e.position.y<this.boundingBox.y[0]){this.boundingBox.y[0]=e.position.y}else{if(e.position.y>this.boundingBox.y[1]){this.boundingBox.y[1]=e.position.y}}if(e.position.z<this.boundingBox.z[0]){this.boundingBox.z[0]=e.position.z}else{if(e.position.z>this.boundingBox.z[1]){this.boundingBox.z[1]=e.position.z}}}}},computeBoundingSphere:function(){for(var e=0,f=0,d=this.vertices.length;f<d;f++){e=Math.max(e,this.vertices[f].position.length())}this.boundingSphere={radius:e}},mergeVertices:function(){var j={},o=[],h=[],n,k=Math.pow(10,4),l,m;l=0;for(m=this.vertices.length;l<m;l++){n=this.vertices[l].position,n=[Math.round(n.x*k),Math.round(n.y*k),Math.round(n.z*k)].join("_"),j[n]===void 0?(j[n]=l,o.push(this.vertices[l]),h[l]=o.length-1):h[l]=h[j[n]]}l=0;for(m=this.faces.length;l<m;l++){if(j=this.faces[l],j instanceof THREE.Face3){j.a=h[j.a],j.b=h[j.b],j.c=h[j.c]}else{if(j instanceof THREE.Face4){j.a=h[j.a],j.b=h[j.b],j.c=h[j.c],j.d=h[j.d]}}}this.vertices=o}};THREE.GeometryCount=0;THREE.Spline=function(z){function x(k,h,B,A,l,o,p){k=(B-k)*0.5;A=(A-h)*0.5;return(2*(h-B)+k+A)*p+(-3*(h-B)-2*k-A)*o+k*l+h}this.points=z;var y=[],w={x:0,y:0,z:0},t,u,v,s,r,n,q,m,j;this.initFromArray=function(d){this.points=[];for(var c=0;c<d.length;c++){this.points[c]={x:d[c][0],y:d[c][1],z:d[c][2]}}};this.getPoint=function(b){t=(this.points.length-1)*b;u=Math.floor(t);v=t-u;y[0]=u===0?u:u-1;y[1]=u;y[2]=u>this.points.length-2?u:u+1;y[3]=u>this.points.length-3?u:u+2;n=this.points[y[0]];q=this.points[y[1]];m=this.points[y[2]];j=this.points[y[3]];s=v*v;r=v*s;w.x=x(n.x,q.x,m.x,j.x,v,s,r);w.y=x(n.y,q.y,m.y,j.y,v,s,r);w.z=x(n.z,q.z,m.z,j.z,v,s,r);return w};this.getControlPointsArray=function(){var f,e,h=this.points.length,g=[];for(f=0;f<h;f++){e=this.points[f],g[f]=[e.x,e.y,e.z]}return g};this.getLength=function(E){var D,C,B,o=D=D=0,p=new THREE.Vector3,A=new THREE.Vector3,l=[],k=0;l[0]=0;E||(E=100);C=this.points.length*E;p.copy(this.points[0]);for(E=1;E<C;E++){D=E/C,B=this.getPoint(D),A.copy(B),k+=A.distanceTo(p),p.copy(B),D*=this.points.length-1,D=Math.floor(D),D!=o&&(l[D]=k,o=D)}l[l.length]=k;return{chunks:l,total:k}};this.reparametrizeByArcLength=function(G){var F,E,D,A,B,C,p=[],o=new THREE.Vector3,l=this.getLength();p.push(o.copy(this.points[0]).clone());for(F=1;F<this.points.length;F++){E=l.chunks[F]-l.chunks[F-1];C=Math.ceil(G*E/l.total);A=(F-1)/(this.points.length-1);B=F/(this.points.length-1);for(E=1;E<C-1;E++){D=A+E*(1/C)*(B-A),D=this.getPoint(D),p.push(o.copy(D).clone())}p.push(o.copy(this.points[F]).clone())}this.points=p}};THREE.Edge=function(f,h,e,g){this.vertices=[f,h];this.vertexIndices=[e,g];this.faces=[];this.faceIndices=[]};THREE.Camera=function(){if(arguments.length){return console.warn("DEPRECATED: Camera() is now PerspectiveCamera() or OrthographicCamera()."),new THREE.PerspectiveCamera(arguments[0],arguments[1],arguments[2],arguments[3])}THREE.Object3D.call(this);this.matrixWorldInverse=new THREE.Matrix4;this.projectionMatrix=new THREE.Matrix4;this.projectionMatrixInverse=new THREE.Matrix4};THREE.Camera.prototype=new THREE.Object3D;THREE.Camera.prototype.constructor=THREE.Camera;THREE.Camera.prototype.lookAt=function(b){this.matrix.lookAt(this.position,b,this.up);this.rotationAutoUpdate&&this.rotation.setRotationFromMatrix(this.matrix)};THREE.OrthographicCamera=function(h,m,e,l,j,k){THREE.Camera.call(this);this.left=h;this.right=m;this.top=e;this.bottom=l;this.near=j!==void 0?j:0.1;this.far=k!==void 0?k:2000;this.updateProjectionMatrix()};THREE.OrthographicCamera.prototype=new THREE.Camera;THREE.OrthographicCamera.prototype.constructor=THREE.OrthographicCamera;THREE.OrthographicCamera.prototype.updateProjectionMatrix=function(){this.projectionMatrix=THREE.Matrix4.makeOrtho(this.left,this.right,this.top,this.bottom,this.near,this.far)};THREE.PerspectiveCamera=function(f,h,e,g){THREE.Camera.call(this);this.fov=f!==void 0?f:50;this.aspect=h!==void 0?h:1;this.near=e!==void 0?e:0.1;this.far=g!==void 0?g:2000;this.updateProjectionMatrix()};THREE.PerspectiveCamera.prototype=new THREE.Camera;THREE.PerspectiveCamera.prototype.constructor=THREE.PerspectiveCamera;THREE.PerspectiveCamera.prototype.setLens=function(b,d){this.fov=2*Math.atan((d!==void 0?d:43.25)/(b*2));this.fov*=180/Math.PI;this.updateProjectionMatrix()};THREE.PerspectiveCamera.prototype.setViewOffset=function(h,m,e,l,j,k){this.fullWidth=h;this.fullHeight=m;this.x=e;this.y=l;this.width=j;this.height=k;this.updateProjectionMatrix()};THREE.PerspectiveCamera.prototype.updateProjectionMatrix=function(){if(this.fullWidth){var f=this.fullWidth/this.fullHeight,h=Math.tan(this.fov*Math.PI/360)*this.near,e=-h,g=f*e,f=Math.abs(f*h-g),e=Math.abs(h-e);this.projectionMatrix=THREE.Matrix4.makeFrustum(g+this.x*f/this.fullWidth,g+(this.x+this.width)*f/this.fullWidth,h-(this.y+this.height)*e/this.fullHeight,h-this.y*e/this.fullHeight,this.near,this.far)}else{this.projectionMatrix=THREE.Matrix4.makePerspective(this.fov,this.aspect,this.near,this.far)}};THREE.Light=function(b){THREE.Object3D.call(this);this.color=new THREE.Color(b)};THREE.Light.prototype=new THREE.Object3D;THREE.Light.prototype.constructor=THREE.Light;THREE.Light.prototype.supr=THREE.Object3D.prototype;THREE.AmbientLight=function(b){THREE.Light.call(this,b)};THREE.AmbientLight.prototype=new THREE.Light;THREE.AmbientLight.prototype.constructor=THREE.AmbientLight;THREE.DirectionalLight=function(e,f,d){THREE.Light.call(this,e);this.position=new THREE.Vector3(0,1,0);this.intensity=f!==void 0?f:1;this.distance=d!==void 0?d:0};THREE.DirectionalLight.prototype=new THREE.Light;THREE.DirectionalLight.prototype.constructor=THREE.DirectionalLight;THREE.PointLight=function(e,f,d){THREE.Light.call(this,e);this.position=new THREE.Vector3(0,0,0);this.intensity=f!==void 0?f:1;this.distance=d!==void 0?d:0};THREE.PointLight.prototype=new THREE.Light;THREE.PointLight.prototype.constructor=THREE.PointLight;THREE.SpotLight=function(f,h,e,g){THREE.Light.call(this,f);this.position=new THREE.Vector3(0,1,0);this.target=new THREE.Object3D;this.intensity=h!==void 0?h:1;this.distance=e!==void 0?e:0;this.castShadow=g!==void 0?g:!1};THREE.SpotLight.prototype=new THREE.Light;THREE.SpotLight.prototype.constructor=THREE.SpotLight;THREE.Material=function(b){this.name="";this.id=THREE.MaterialCount++;b=b||{};this.opacity=b.opacity!==void 0?b.opacity:1;this.transparent=b.transparent!==void 0?b.transparent:!1;this.blending=b.blending!==void 0?b.blending:THREE.NormalBlending;this.depthTest=b.depthTest!==void 0?b.depthTest:!0;this.depthWrite=b.depthWrite!==void 0?b.depthWrite:!0;this.polygonOffset=b.polygonOffset!==void 0?b.polygonOffset:!1;this.polygonOffsetFactor=b.polygonOffsetFactor!==void 0?b.polygonOffsetFactor:0;this.polygonOffsetUnits=b.polygonOffsetUnits!==void 0?b.polygonOffsetUnits:0;this.alphaTest=b.alphaTest!==void 0?b.alphaTest:0;this.overdraw=b.overdraw!==void 0?b.overdraw:!1};THREE.MaterialCount=0;THREE.NoShading=0;THREE.FlatShading=1;THREE.SmoothShading=2;THREE.NoColors=0;THREE.FaceColors=1;THREE.VertexColors=2;THREE.NormalBlending=0;THREE.AdditiveBlending=1;THREE.SubtractiveBlending=2;THREE.MultiplyBlending=3;THREE.AdditiveAlphaBlending=4;THREE.LineBasicMaterial=function(b){THREE.Material.call(this,b);b=b||{};this.color=b.color!==void 0?new THREE.Color(b.color):new THREE.Color(16777215);this.linewidth=b.linewidth!==void 0?b.linewidth:1;this.linecap=b.linecap!==void 0?b.linecap:"round";this.linejoin=b.linejoin!==void 0?b.linejoin:"round";this.vertexColors=b.vertexColors?b.vertexColors:!1;this.fog=b.fog!==void 0?b.fog:!0};THREE.LineBasicMaterial.prototype=new THREE.Material;THREE.LineBasicMaterial.prototype.constructor=THREE.LineBasicMaterial;THREE.MeshBasicMaterial=function(b){THREE.Material.call(this,b);b=b||{};this.color=b.color!==void 0?new THREE.Color(b.color):new THREE.Color(16777215);this.map=b.map!==void 0?b.map:null;this.lightMap=b.lightMap!==void 0?b.lightMap:null;this.envMap=b.envMap!==void 0?b.envMap:null;this.combine=b.combine!==void 0?b.combine:THREE.MultiplyOperation;this.reflectivity=b.reflectivity!==void 0?b.reflectivity:1;this.refractionRatio=b.refractionRatio!==void 0?b.refractionRatio:0.98;this.fog=b.fog!==void 0?b.fog:!0;this.shading=b.shading!==void 0?b.shading:THREE.SmoothShading;this.wireframe=b.wireframe!==void 0?b.wireframe:!1;this.wireframeLinewidth=b.wireframeLinewidth!==void 0?b.wireframeLinewidth:1;this.wireframeLinecap=b.wireframeLinecap!==void 0?b.wireframeLinecap:"round";this.wireframeLinejoin=b.wireframeLinejoin!==void 0?b.wireframeLinejoin:"round";this.vertexColors=b.vertexColors!==void 0?b.vertexColors:!1;this.skinning=b.skinning!==void 0?b.skinning:!1;this.morphTargets=b.morphTargets!==void 0?b.morphTargets:!1};THREE.MeshBasicMaterial.prototype=new THREE.Material;THREE.MeshBasicMaterial.prototype.constructor=THREE.MeshBasicMaterial;THREE.MeshLambertMaterial=function(b){THREE.Material.call(this,b);b=b||{};this.color=b.color!==void 0?new THREE.Color(b.color):new THREE.Color(16777215);this.ambient=b.ambient!==void 0?new THREE.Color(b.ambient):new THREE.Color(328965);this.map=b.map!==void 0?b.map:null;this.lightMap=b.lightMap!==void 0?b.lightMap:null;this.envMap=b.envMap!==void 0?b.envMap:null;this.combine=b.combine!==void 0?b.combine:THREE.MultiplyOperation;this.reflectivity=b.reflectivity!==void 0?b.reflectivity:1;this.refractionRatio=b.refractionRatio!==void 0?b.refractionRatio:0.98;this.fog=b.fog!==void 0?b.fog:!0;this.shading=b.shading!==void 0?b.shading:THREE.SmoothShading;this.wireframe=b.wireframe!==void 0?b.wireframe:!1;this.wireframeLinewidth=b.wireframeLinewidth!==void 0?b.wireframeLinewidth:1;this.wireframeLinecap=b.wireframeLinecap!==void 0?b.wireframeLinecap:"round";this.wireframeLinejoin=b.wireframeLinejoin!==void 0?b.wireframeLinejoin:"round";this.vertexColors=b.vertexColors!==void 0?b.vertexColors:!1;this.skinning=b.skinning!==void 0?b.skinning:!1;this.morphTargets=b.morphTargets!==void 0?b.morphTargets:!1};THREE.MeshLambertMaterial.prototype=new THREE.Material;THREE.MeshLambertMaterial.prototype.constructor=THREE.MeshLambertMaterial;THREE.MeshPhongMaterial=function(b){THREE.Material.call(this,b);b=b||{};this.color=b.color!==void 0?new THREE.Color(b.color):new THREE.Color(16777215);this.ambient=b.ambient!==void 0?new THREE.Color(b.ambient):new THREE.Color(328965);this.specular=b.specular!==void 0?new THREE.Color(b.specular):new THREE.Color(1118481);this.shininess=b.shininess!==void 0?b.shininess:30;this.metal=b.metal!==void 0?b.metal:!1;this.perPixel=b.perPixel!==void 0?b.perPixel:!1;this.map=b.map!==void 0?b.map:null;this.lightMap=b.lightMap!==void 0?b.lightMap:null;this.envMap=b.envMap!==void 0?b.envMap:null;this.combine=b.combine!==void 0?b.combine:THREE.MultiplyOperation;this.reflectivity=b.reflectivity!==void 0?b.reflectivity:1;this.refractionRatio=b.refractionRatio!==void 0?b.refractionRatio:0.98;this.fog=b.fog!==void 0?b.fog:!0;this.shading=b.shading!==void 0?b.shading:THREE.SmoothShading;this.wireframe=b.wireframe!==void 0?b.wireframe:!1;this.wireframeLinewidth=b.wireframeLinewidth!==void 0?b.wireframeLinewidth:1;this.wireframeLinecap=b.wireframeLinecap!==void 0?b.wireframeLinecap:"round";this.wireframeLinejoin=b.wireframeLinejoin!==void 0?b.wireframeLinejoin:"round";this.vertexColors=b.vertexColors!==void 0?b.vertexColors:!1;this.skinning=b.skinning!==void 0?b.skinning:!1;this.morphTargets=b.morphTargets!==void 0?b.morphTargets:!1};THREE.MeshPhongMaterial.prototype=new THREE.Material;THREE.MeshPhongMaterial.prototype.constructor=THREE.MeshPhongMaterial;THREE.MeshDepthMaterial=function(b){THREE.Material.call(this,b);b=b||{};this.shading=b.shading!==void 0?b.shading:THREE.SmoothShading;this.wireframe=b.wireframe!==void 0?b.wireframe:!1;this.wireframeLinewidth=b.wireframeLinewidth!==void 0?b.wireframeLinewidth:1};THREE.MeshDepthMaterial.prototype=new THREE.Material;THREE.MeshDepthMaterial.prototype.constructor=THREE.MeshDepthMaterial;THREE.MeshNormalMaterial=function(b){THREE.Material.call(this,b);b=b||{};this.shading=b.shading?b.shading:THREE.FlatShading;this.wireframe=b.wireframe?b.wireframe:!1;this.wireframeLinewidth=b.wireframeLinewidth?b.wireframeLinewidth:1};THREE.MeshNormalMaterial.prototype=new THREE.Material;THREE.MeshNormalMaterial.prototype.constructor=THREE.MeshNormalMaterial;THREE.MeshFaceMaterial=function(){};THREE.MeshShaderMaterial=function(b){console.warn("DEPRECATED: MeshShaderMaterial() is now ShaderMaterial().");return new THREE.ShaderMaterial(b)};THREE.ParticleBasicMaterial=function(b){THREE.Material.call(this,b);b=b||{};this.color=b.color!==void 0?new THREE.Color(b.color):new THREE.Color(16777215);this.map=b.map!==void 0?b.map:null;this.size=b.size!==void 0?b.size:1;this.sizeAttenuation=b.sizeAttenuation!==void 0?b.sizeAttenuation:!0;this.vertexColors=b.vertexColors!==void 0?b.vertexColors:!1;this.fog=b.fog!==void 0?b.fog:!0};THREE.ParticleBasicMaterial.prototype=new THREE.Material;THREE.ParticleBasicMaterial.prototype.constructor=THREE.ParticleBasicMaterial;THREE.ParticleCanvasMaterial=function(b){THREE.Material.call(this,b);b=b||{};this.color=b.color!==void 0?new THREE.Color(b.color):new THREE.Color(16777215);this.program=b.program!==void 0?b.program:function(){}};THREE.ParticleCanvasMaterial.prototype=new THREE.Material;THREE.ParticleCanvasMaterial.prototype.constructor=THREE.ParticleCanvasMaterial;THREE.ParticleDOMMaterial=function(b){THREE.Material.call(this);this.domElement=b};THREE.ShaderMaterial=function(b){THREE.Material.call(this,b);b=b||{};this.fragmentShader=b.fragmentShader!==void 0?b.fragmentShader:"void main() {}";this.vertexShader=b.vertexShader!==void 0?b.vertexShader:"void main() {}";this.uniforms=b.uniforms!==void 0?b.uniforms:{};this.attributes=b.attributes;this.shading=b.shading!==void 0?b.shading:THREE.SmoothShading;this.wireframe=b.wireframe!==void 0?b.wireframe:!1;this.wireframeLinewidth=b.wireframeLinewidth!==void 0?b.wireframeLinewidth:1;this.fog=b.fog!==void 0?b.fog:!1;this.lights=b.lights!==void 0?b.lights:!1;this.vertexColors=b.vertexColors!==void 0?b.vertexColors:!1;this.skinning=b.skinning!==void 0?b.skinning:!1;this.morphTargets=b.morphTargets!==void 0?b.morphTargets:!1};THREE.ShaderMaterial.prototype=new THREE.Material;THREE.ShaderMaterial.prototype.constructor=THREE.ShaderMaterial;THREE.Texture=function(h,m,e,l,j,k){this.id=THREE.TextureCount++;this.image=h;this.mapping=m!==void 0?m:new THREE.UVMapping;this.wrapS=e!==void 0?e:THREE.ClampToEdgeWrapping;this.wrapT=l!==void 0?l:THREE.ClampToEdgeWrapping;this.magFilter=j!==void 0?j:THREE.LinearFilter;this.minFilter=k!==void 0?k:THREE.LinearMipMapLinearFilter;this.offset=new THREE.Vector2(0,0);this.repeat=new THREE.Vector2(1,1);this.needsUpdate=!1;this.onUpdate=null};THREE.Texture.prototype={constructor:THREE.Texture,clone:function(){var b=new THREE.Texture(this.image,this.mapping,this.wrapS,this.wrapT,this.magFilter,this.minFilter);b.offset.copy(this.offset);b.repeat.copy(this.repeat);return b}};THREE.TextureCount=0;THREE.MultiplyOperation=0;THREE.MixOperation=1;THREE.CubeReflectionMapping=function(){};THREE.CubeRefractionMapping=function(){};THREE.LatitudeReflectionMapping=function(){};THREE.LatitudeRefractionMapping=function(){};THREE.SphericalReflectionMapping=function(){};THREE.SphericalRefractionMapping=function(){};THREE.UVMapping=function(){};THREE.RepeatWrapping=0;THREE.ClampToEdgeWrapping=1;THREE.MirroredRepeatWrapping=2;THREE.NearestFilter=3;THREE.NearestMipMapNearestFilter=4;THREE.NearestMipMapLinearFilter=5;THREE.LinearFilter=6;THREE.LinearMipMapNearestFilter=7;THREE.LinearMipMapLinearFilter=8;THREE.ByteType=9;THREE.UnsignedByteType=10;THREE.ShortType=11;THREE.UnsignedShortType=12;THREE.IntType=13;THREE.UnsignedIntType=14;THREE.FloatType=15;THREE.AlphaFormat=16;THREE.RGBFormat=17;THREE.RGBAFormat=18;THREE.LuminanceFormat=19;THREE.LuminanceAlphaFormat=20;THREE.DataTexture=function(r,p,q,o,l,m,n,k,j){THREE.Texture.call(this,null,l,m,n,k,j);this.image={data:r,width:p,height:q};this.format=o!==void 0?o:THREE.RGBAFormat};THREE.DataTexture.prototype=new THREE.Texture;THREE.DataTexture.prototype.constructor=THREE.DataTexture;THREE.DataTexture.prototype.clone=function(){var b=new THREE.DataTexture(this.data.slice(0),this.mapping,this.wrapS,this.wrapT,this.magFilter,this.minFilter);b.offset.copy(this.offset);b.repeat.copy(this.repeat);return b};THREE.Particle=function(b){THREE.Object3D.call(this);this.material=b};THREE.Particle.prototype=new THREE.Object3D;THREE.Particle.prototype.constructor=THREE.Particle;THREE.ParticleSystem=function(b,d){THREE.Object3D.call(this);this.geometry=b;this.material=d;this.sortParticles=!1};THREE.ParticleSystem.prototype=new THREE.Object3D;THREE.ParticleSystem.prototype.constructor=THREE.ParticleSystem;THREE.Line=function(e,f,d){THREE.Object3D.call(this);this.geometry=e;this.material=f;this.type=d!==void 0?d:THREE.LineStrip;this.geometry&&(this.geometry.boundingSphere||this.geometry.computeBoundingSphere())};THREE.LineStrip=0;THREE.LinePieces=1;THREE.Line.prototype=new THREE.Object3D;THREE.Line.prototype.constructor=THREE.Line;THREE.Mesh=function(e,f){THREE.Object3D.call(this);this.geometry=e;this.material=f;if(f instanceof Array){console.warn("DEPRECATED: Mesh material can no longer be an Array. Using material at index 0..."),this.material=f[0]}if(this.geometry&&(this.geometry.boundingSphere||this.geometry.computeBoundingSphere(),this.boundRadius=e.boundingSphere.radius,this.geometry.morphTargets.length)){this.morphTargetBase=-1;this.morphTargetForcedOrder=[];this.morphTargetInfluences=[];this.morphTargetDictionary={};for(var d=0;d<this.geometry.morphTargets.length;d++){this.morphTargetInfluences.push(0),this.morphTargetDictionary[this.geometry.morphTargets[d].name]=d}}};THREE.Mesh.prototype=new THREE.Object3D;THREE.Mesh.prototype.constructor=THREE.Mesh;THREE.Mesh.prototype.supr=THREE.Object3D.prototype;THREE.Mesh.prototype.getMorphTargetIndexByName=function(b){if(this.morphTargetDictionary[b]!==void 0){return this.morphTargetDictionary[b]}console.log("THREE.Mesh.getMorphTargetIndexByName: morph target "+b+" does not exist. Returning 0.");return 0};THREE.Bone=function(b){THREE.Object3D.call(this);this.skin=b;this.skinMatrix=new THREE.Matrix4};THREE.Bone.prototype=new THREE.Object3D;THREE.Bone.prototype.constructor=THREE.Bone;THREE.Bone.prototype.supr=THREE.Object3D.prototype;THREE.Bone.prototype.update=function(f,h){this.matrixAutoUpdate&&(h|=this.updateMatrix());if(h||this.matrixWorldNeedsUpdate){f?this.skinMatrix.multiply(f,this.matrix):this.skinMatrix.copy(this.matrix),this.matrixWorldNeedsUpdate=!1,h=!0}var e,g=this.children.length;for(e=0;e<g;e++){this.children[e].update(this.skinMatrix,h)}};THREE.SkinnedMesh=function(k,q){THREE.Mesh.call(this,k,q);this.identityMatrix=new THREE.Matrix4;this.bones=[];this.boneMatrices=[];var j,p,m,n,o,l;if(this.geometry.bones!==void 0){for(j=0;j<this.geometry.bones.length;j++){m=this.geometry.bones[j],n=m.pos,o=m.rotq,l=m.scl,p=this.addBone(),p.name=m.name,p.position.set(n[0],n[1],n[2]),p.quaternion.set(o[0],o[1],o[2],o[3]),p.useQuaternion=!0,l!==void 0?p.scale.set(l[0],l[1],l[2]):p.scale.set(1,1,1)}for(j=0;j<this.bones.length;j++){m=this.geometry.bones[j],p=this.bones[j],m.parent===-1?this.add(p):this.bones[m.parent].add(p)}this.boneMatrices=new Float32Array(16*this.bones.length);this.pose()}};THREE.SkinnedMesh.prototype=new THREE.Mesh;THREE.SkinnedMesh.prototype.constructor=THREE.SkinnedMesh;THREE.SkinnedMesh.prototype.addBone=function(b){b===void 0&&(b=new THREE.Bone(this));this.bones.push(b);return b};THREE.SkinnedMesh.prototype.updateMatrixWorld=function(f){this.matrixAutoUpdate&&this.updateMatrix();if(this.matrixWorldNeedsUpdate||f){this.parent?this.matrixWorld.multiply(this.parent.matrixWorld,this.matrix):this.matrixWorld.copy(this.matrix),this.matrixWorldNeedsUpdate=!1}for(var f=0,h=this.children.length;f<h;f++){var e=this.children[f];e instanceof THREE.Bone?e.update(this.identityMatrix,!1):e.updateMatrixWorld(!0)}for(var h=this.bones.length,e=this.bones,g=this.boneMatrices,f=0;f<h;f++){e[f].skinMatrix.flattenToArrayOffset(g,f*16)}};THREE.SkinnedMesh.prototype.pose=function(){this.updateMatrixWorld(!0);for(var h,m=[],e=0;e<this.bones.length;e++){h=this.bones[e];var l=new THREE.Matrix4;l.getInverse(h.skinMatrix);m.push(l);h.skinMatrix.flattenToArrayOffset(this.boneMatrices,e*16)}if(this.geometry.skinVerticesA===void 0){this.geometry.skinVerticesA=[];this.geometry.skinVerticesB=[];for(h=0;h<this.geometry.skinIndices.length;h++){var e=this.geometry.vertices[h].position,j=this.geometry.skinIndices[h].x,k=this.geometry.skinIndices[h].y,l=new THREE.Vector3(e.x,e.y,e.z);this.geometry.skinVerticesA.push(m[j].multiplyVector3(l));l=new THREE.Vector3(e.x,e.y,e.z);this.geometry.skinVerticesB.push(m[k].multiplyVector3(l));this.geometry.skinWeights[h].x+this.geometry.skinWeights[h].y!==1&&(e=(1-(this.geometry.skinWeights[h].x+this.geometry.skinWeights[h].y))*0.5,this.geometry.skinWeights[h].x+=e,this.geometry.skinWeights[h].y+=e)}}};THREE.MorphAnimMesh=function(b,d){THREE.Mesh.call(this,b,d);this.duration=1000;this.mirroredLoop=!1;this.currentKeyframe=this.lastKeyframe=this.time=0;this.direction=1;this.directionBackwards=!1};THREE.MorphAnimMesh.prototype=new THREE.Mesh;THREE.MorphAnimMesh.prototype.constructor=THREE.MorphAnimMesh;THREE.MorphAnimMesh.prototype.updateAnimation=function(b){var d=this.duration/(this.geometry.morphTargets.length-1);this.time+=this.direction*b;if(this.mirroredLoop){if(this.time>this.duration||this.time<0){this.direction*=-1;if(this.time>this.duration){this.time=this.duration,this.directionBackwards=!0}if(this.time<0){this.time=0,this.directionBackwards=!1}}}else{this.time%=this.duration}b=THREE.Math.clamp(Math.floor(this.time/d),0,this.geometry.morphTargets.length-1);if(b!=this.currentKeyframe){this.morphTargetInfluences[this.lastKeyframe]=0,this.morphTargetInfluences[this.currentKeyframe]=1,this.morphTargetInfluences[b]=0,this.lastKeyframe=this.currentKeyframe,this.currentKeyframe=b}d=this.time%d/d;this.directionBackwards&&(d=1-d);this.morphTargetInfluences[this.currentKeyframe]=d;this.morphTargetInfluences[this.lastKeyframe]=1-d};THREE.Ribbon=function(b,d){THREE.Object3D.call(this);this.geometry=b;this.material=d};THREE.Ribbon.prototype=new THREE.Object3D;THREE.Ribbon.prototype.constructor=THREE.Ribbon;THREE.LOD=function(){THREE.Object3D.call(this);this.LODs=[]};THREE.LOD.prototype=new THREE.Object3D;THREE.LOD.prototype.constructor=THREE.LOD;THREE.LOD.prototype.supr=THREE.Object3D.prototype;THREE.LOD.prototype.addLevel=function(e,f){f===void 0&&(f=0);for(var f=Math.abs(f),d=0;d<this.LODs.length;d++){if(f<this.LODs[d].visibleAtDistance){break}}this.LODs.splice(d,0,{visibleAtDistance:f,object3D:e});this.add(e)};THREE.LOD.prototype.update=function(b){if(this.LODs.length>1){b.matrixWorldInverse.getInverse(b.matrixWorld);b=b.matrixWorldInverse;b=-(b.n31*this.position.x+b.n32*this.position.y+b.n33*this.position.z+b.n34);this.LODs[0].object3D.visible=!0;for(var d=1;d<this.LODs.length;d++){if(b>=this.LODs[d].visibleAtDistance){this.LODs[d-1].object3D.visible=!1,this.LODs[d].object3D.visible=!0}else{break}}for(;d<this.LODs.length;d++){this.LODs[d].object3D.visible=!1}}};THREE.Sprite=function(b){THREE.Object3D.call(this);this.color=b.color!==void 0?new THREE.Color(b.color):new THREE.Color(16777215);this.map=b.map instanceof THREE.Texture?b.map:THREE.ImageUtils.loadTexture(b.map);this.blending=b.blending!==void 0?b.blending:THREE.NormalBlending;this.useScreenCoordinates=b.useScreenCoordinates!==void 0?b.useScreenCoordinates:!0;this.mergeWith3D=b.mergeWith3D!==void 0?b.mergeWith3D:!this.useScreenCoordinates;this.affectedByDistance=b.affectedByDistance!==void 0?b.affectedByDistance:!this.useScreenCoordinates;this.scaleByViewport=b.scaleByViewport!==void 0?b.scaleByViewport:!this.affectedByDistance;this.alignment=b.alignment instanceof THREE.Vector2?b.alignment:THREE.SpriteAlignment.center;this.rotation3d=this.rotation;this.rotation=0;this.opacity=1;this.uvOffset=new THREE.Vector2(0,0);this.uvScale=new THREE.Vector2(1,1)};THREE.Sprite.prototype=new THREE.Object3D;THREE.Sprite.prototype.constructor=THREE.Sprite;THREE.Sprite.prototype.updateMatrix=function(){this.matrix.setPosition(this.position);this.rotation3d.set(0,0,this.rotation);this.matrix.setRotationFromEuler(this.rotation3d);if(this.scale.x!==1||this.scale.y!==1){this.matrix.scale(this.scale),this.boundRadiusScale=Math.max(this.scale.x,this.scale.y)}this.matrixWorldNeedsUpdate=!0};THREE.SpriteAlignment={};THREE.SpriteAlignment.topLeft=new THREE.Vector2(1,-1);THREE.SpriteAlignment.topCenter=new THREE.Vector2(0,-1);THREE.SpriteAlignment.topRight=new THREE.Vector2(-1,-1);THREE.SpriteAlignment.centerLeft=new THREE.Vector2(1,0);THREE.SpriteAlignment.center=new THREE.Vector2(0,0);THREE.SpriteAlignment.centerRight=new THREE.Vector2(-1,0);THREE.SpriteAlignment.bottomLeft=new THREE.Vector2(1,1);THREE.SpriteAlignment.bottomCenter=new THREE.Vector2(0,1);THREE.SpriteAlignment.bottomRight=new THREE.Vector2(-1,1);THREE.Scene=function(){THREE.Object3D.call(this);this.overrideMaterial=this.fog=null;this.matrixAutoUpdate=!1;this.objects=[];this.lights=[];this.__objectsAdded=[];this.__objectsRemoved=[]};THREE.Scene.prototype=new THREE.Object3D;THREE.Scene.prototype.constructor=THREE.Scene;THREE.Scene.prototype.addObject=function(b){if(b instanceof THREE.Light){this.lights.indexOf(b)===-1&&this.lights.push(b)}else{if(!(b instanceof THREE.Camera||b instanceof THREE.Bone)&&this.objects.indexOf(b)===-1){this.objects.push(b);this.__objectsAdded.push(b);var d=this.__objectsRemoved.indexOf(b);d!==-1&&this.__objectsRemoved.splice(d,1)}}for(d=0;d<b.children.length;d++){this.addObject(b.children[d])}};THREE.Scene.prototype.removeObject=function(b){if(b instanceof THREE.Light){var d=this.lights.indexOf(b);d!==-1&&this.lights.splice(d,1)}else{b instanceof THREE.Camera||(d=this.objects.indexOf(b),d!==-1&&(this.objects.splice(d,1),this.__objectsRemoved.push(b),d=this.__objectsAdded.indexOf(b),d!==-1&&this.__objectsAdded.splice(d,1)))}for(d=0;d<b.children.length;d++){this.removeObject(b.children[d])}};THREE.Fog=function(e,f,d){this.color=new THREE.Color(e);this.near=f!==void 0?f:1;this.far=d!==void 0?d:1000};THREE.FogExp2=function(b,d){this.color=new THREE.Color(b);this.density=d!==void 0?d:0.00025};THREE.DOMRenderer=function(){THREE.Renderer.call(this);var h=null,m=new THREE.Projector,e,l,j,k;this.domElement=document.createElement("div");this.setSize=function(b,d){e=b;l=d;j=e/2;k=l/2};this.render=function(w,v){var u,s,t,f,c,q,a,g;h=m.projectScene(w,v);u=0;for(s=h.length;u<s;u++){if(c=h[u],c instanceof THREE.RenderableParticle){a=c.x*j+j;g=c.y*k+k;t=0;for(f=c.material.length;t<f;t++){if(q=c.material[t],q instanceof THREE.ParticleDOMMaterial){q=q.domElement,q.style.left=a+"px",q.style.top=g+"px"}}}}}};THREE.CanvasRenderer=function(aH){function aF(b){if(ah!=b){aq.globalAlpha=ah=b}}function aG(b){if(aj!=b){switch(b){case THREE.NormalBlending:aq.globalCompositeOperation="source-over";break;case THREE.AdditiveBlending:aq.globalCompositeOperation="lighter";break;case THREE.SubtractiveBlending:aq.globalCompositeOperation="darker"}aj=b}}function aD(b){if(a8!=b){aq.strokeStyle=a8=b}}function aA(b){if(a5!=b){aq.fillStyle=a5=b}}var aB=this,aC,ay,ax,au=new THREE.Projector,aH=aH||{},av=aH.canvas!==void 0?aH.canvas:document.createElement("canvas"),ap,ao,at,am,aq=av.getContext("2d"),an=new THREE.Color(0),ak=0,ah=1,aj=0,a8=null,a5=null,a9=null,ag=null,af=null,ai,a0,al,a6,aR=new THREE.RenderableVertex,aO=new THREE.RenderableVertex,aZ,aT,aV,bd,a3,a4,a2,aX,aQ,aU,aM,aw,aL=new THREE.Color,aN=new THREE.Color,ac=new THREE.Color,be=new THREE.Color,bh=new THREE.Color,aI=[],bl=[],D,a7,aE,ad,az,bc,bj,bf,aY,aJ,aS=new THREE.Rectangle,C=new THREE.Rectangle,a1=new THREE.Rectangle,aW=!1,ar=new THREE.Color,bk=new THREE.Color,bg=new THREE.Color,bi=new THREE.Vector3,aK,z,ae,bb,aP,ab,aH=16;aK=document.createElement("canvas");aK.width=aK.height=2;z=aK.getContext("2d");z.fillStyle="rgba(0,0,0,1)";z.fillRect(0,0,2,2);ae=z.getImageData(0,0,2,2);bb=ae.data;aP=document.createElement("canvas");aP.width=aP.height=aH;ab=aP.getContext("2d");ab.translate(-aH/2,-aH/2);ab.scale(aH,aH);aH--;this.domElement=av;this.sortElements=this.sortObjects=this.autoClear=!0;this.info={render:{vertices:0,faces:0}};this.setSize=function(d,c){ap=d;ao=c;at=Math.floor(ap/2);am=Math.floor(ao/2);av.width=ap;av.height=ao;aS.set(-at,-am,at,am);C.set(-at,-am,at,am);ah=1;aj=0;af=ag=a9=a5=a8=null};this.setClearColor=function(d,c){an.copy(d);ak=c;C.set(-at,-am,at,am)};this.setClearColorHex=function(d,c){an.setHex(d);ak=c;C.set(-at,-am,at,am)};this.clear=function(){aq.setTransform(1,0,0,-1,at,am);C.isEmpty()||(C.minSelf(aS),C.inflate(2),ak<1&&aq.clearRect(Math.floor(C.getX()),Math.floor(C.getY()),Math.floor(C.getWidth()),Math.floor(C.getHeight())),ak>0&&(aG(THREE.NormalBlending),aF(1),aA("rgba("+Math.floor(an.r*255)+","+Math.floor(an.g*255)+","+Math.floor(an.b*255)+","+ak+")"),aq.fillRect(Math.floor(C.getX()),Math.floor(C.getY()),Math.floor(C.getWidth()),Math.floor(C.getHeight()))),C.empty())};this.render=function(J,A){function x(o){var k,t,q,p;ar.setRGB(0,0,0);bk.setRGB(0,0,0);bg.setRGB(0,0,0);k=0;for(t=o.length;k<t;k++){q=o[k],p=q.color,q instanceof THREE.AmbientLight?(ar.r+=p.r,ar.g+=p.g,ar.b+=p.b):q instanceof THREE.DirectionalLight?(bk.r+=p.r,bk.g+=p.g,bk.b+=p.b):q instanceof THREE.PointLight&&(bg.r+=p.r,bg.g+=p.g,bg.b+=p.b)}}function y(K,F,B,w){var q,t,u,k,p,o;q=0;for(t=K.length;q<t;q++){u=K[q],k=u.color,u instanceof THREE.DirectionalLight?(p=u.matrixWorld.getPosition(),o=B.dot(p),o<=0||(o*=u.intensity,w.r+=k.r*o,w.g+=k.g*o,w.b+=k.b*o)):u instanceof THREE.PointLight&&(p=u.matrixWorld.getPosition(),o=B.dot(bi.sub(p,F).normalize()),o<=0||(o*=u.distance==0?1:1-Math.min(F.distanceTo(p)/u.distance,1),o!=0&&(o*=u.intensity,w.r+=k.r*o,w.g+=k.g*o,w.b+=k.b*o)))}}function v(K,B,F){aF(F.opacity);aG(F.blending);var t,w,u,q,p,o;if(F instanceof THREE.ParticleBasicMaterial){if(F.map){q=F.map.image,p=q.width>>1,o=q.height>>1,F=B.scale.x*at,u=B.scale.y*am,t=F*p,w=u*o,a1.set(K.x-t,K.y-w,K.x+t,K.y+w),aS.intersects(a1)&&(aq.save(),aq.translate(K.x,K.y),aq.rotate(-B.rotation),aq.scale(F,-u),aq.translate(-p,-o),aq.drawImage(q,0,0),aq.restore())}}else{F instanceof THREE.ParticleCanvasMaterial&&(t=B.scale.x*at,w=B.scale.y*am,a1.set(K.x-t,K.y-w,K.x+t,K.y+w),aS.intersects(a1)&&(aD(F.color.getContextStyle()),aA(F.color.getContextStyle()),aq.save(),aq.translate(K.x,K.y),aq.rotate(-B.rotation),aq.scale(t,w),F.program(aq),aq.restore()))}}function n(k,o,p,q){aF(q.opacity);aG(q.blending);aq.beginPath();aq.moveTo(k.positionScreen.x,k.positionScreen.y);aq.lineTo(o.positionScreen.x,o.positionScreen.y);aq.closePath();if(q instanceof THREE.LineBasicMaterial){k=q.linewidth;if(a9!=k){aq.lineWidth=a9=k}k=q.linecap;if(ag!=k){aq.lineCap=ag=k}k=q.linejoin;if(af!=k){aq.lineJoin=af=k}aD(q.color.getContextStyle());aq.stroke();a1.inflate(q.linewidth*2)}}function h(o,w,t,u,p,q,k,B){aB.info.render.vertices+=3;aB.info.render.faces++;aF(B.opacity);aG(B.blending);aZ=o.positionScreen.x;aT=o.positionScreen.y;aV=w.positionScreen.x;bd=w.positionScreen.y;a3=t.positionScreen.x;a4=t.positionScreen.y;c(aZ,aT,aV,bd,a3,a4);if(B instanceof THREE.MeshBasicMaterial){if(B.map){B.map.mapping instanceof THREE.UVMapping&&(ad=k.uvs[0],j(aZ,aT,aV,bd,a3,a4,ad[u].u,ad[u].v,ad[p].u,ad[p].v,ad[q].u,ad[q].v,B.map))}else{if(B.envMap){if(B.envMap.mapping instanceof THREE.SphericalReflectionMapping){o=A.matrixWorldInverse,bi.copy(k.vertexNormalsWorld[u]),az=(bi.x*o.n11+bi.y*o.n12+bi.z*o.n13)*0.5+0.5,bc=-(bi.x*o.n21+bi.y*o.n22+bi.z*o.n23)*0.5+0.5,bi.copy(k.vertexNormalsWorld[p]),bj=(bi.x*o.n11+bi.y*o.n12+bi.z*o.n13)*0.5+0.5,bf=-(bi.x*o.n21+bi.y*o.n22+bi.z*o.n23)*0.5+0.5,bi.copy(k.vertexNormalsWorld[q]),aY=(bi.x*o.n11+bi.y*o.n12+bi.z*o.n13)*0.5+0.5,aJ=-(bi.x*o.n21+bi.y*o.n22+bi.z*o.n23)*0.5+0.5,j(aZ,aT,aV,bd,a3,a4,az,bc,bj,bf,aY,aJ,B.envMap)}}else{B.wireframe?m(B.color,B.wireframeLinewidth,B.wireframeLinecap,B.wireframeLinejoin):E(B.color)}}}else{if(B instanceof THREE.MeshLambertMaterial){B.map&&!B.wireframe&&(B.map.mapping instanceof THREE.UVMapping&&(ad=k.uvs[0],j(aZ,aT,aV,bd,a3,a4,ad[u].u,ad[u].v,ad[p].u,ad[p].v,ad[q].u,ad[q].v,B.map)),aG(THREE.SubtractiveBlending)),aW?!B.wireframe&&B.shading==THREE.SmoothShading&&k.vertexNormalsWorld.length==3?(aN.r=ac.r=be.r=ar.r,aN.g=ac.g=be.g=ar.g,aN.b=ac.b=be.b=ar.b,y(ax,k.v1.positionWorld,k.vertexNormalsWorld[0],aN),y(ax,k.v2.positionWorld,k.vertexNormalsWorld[1],ac),y(ax,k.v3.positionWorld,k.vertexNormalsWorld[2],be),aN.r=Math.max(0,Math.min(B.color.r*aN.r,1)),aN.g=Math.max(0,Math.min(B.color.g*aN.g,1)),aN.b=Math.max(0,Math.min(B.color.b*aN.b,1)),ac.r=Math.max(0,Math.min(B.color.r*ac.r,1)),ac.g=Math.max(0,Math.min(B.color.g*ac.g,1)),ac.b=Math.max(0,Math.min(B.color.b*ac.b,1)),be.r=Math.max(0,Math.min(B.color.r*be.r,1)),be.g=Math.max(0,Math.min(B.color.g*be.g,1)),be.b=Math.max(0,Math.min(B.color.b*be.b,1)),bh.r=(ac.r+be.r)*0.5,bh.g=(ac.g+be.g)*0.5,bh.b=(ac.b+be.b)*0.5,aE=g(aN,ac,be,bh),G(aZ,aT,aV,bd,a3,a4,0,0,1,0,0,1,aE)):(aL.r=ar.r,aL.g=ar.g,aL.b=ar.b,y(ax,k.centroidWorld,k.normalWorld,aL),aL.r=Math.max(0,Math.min(B.color.r*aL.r,1)),aL.g=Math.max(0,Math.min(B.color.g*aL.g,1)),aL.b=Math.max(0,Math.min(B.color.b*aL.b,1)),B.wireframe?m(aL,B.wireframeLinewidth,B.wireframeLinecap,B.wireframeLinejoin):E(aL)):B.wireframe?m(B.color,B.wireframeLinewidth,B.wireframeLinecap,B.wireframeLinejoin):E(B.color)}else{if(B instanceof THREE.MeshDepthMaterial){D=A.near,a7=A.far,aN.r=aN.g=aN.b=1-s(o.positionScreen.z,D,a7),ac.r=ac.g=ac.b=1-s(w.positionScreen.z,D,a7),be.r=be.g=be.b=1-s(t.positionScreen.z,D,a7),bh.r=(ac.r+be.r)*0.5,bh.g=(ac.g+be.g)*0.5,bh.b=(ac.b+be.b)*0.5,aE=g(aN,ac,be,bh),G(aZ,aT,aV,bd,a3,a4,0,0,1,0,0,1,aE)}else{if(B instanceof THREE.MeshNormalMaterial){aL.r=l(k.normalWorld.x),aL.g=l(k.normalWorld.y),aL.b=l(k.normalWorld.z),B.wireframe?m(aL,B.wireframeLinewidth,B.wireframeLinecap,B.wireframeLinejoin):E(aL)}}}}}function e(K,F,w,B,u,o,q,t,k){aB.info.render.vertices+=4;aB.info.render.faces++;aF(t.opacity);aG(t.blending);if(t.map||t.envMap){h(K,F,B,0,1,3,q,t,k),h(u,w,o,1,2,3,q,t,k)}else{if(aZ=K.positionScreen.x,aT=K.positionScreen.y,aV=F.positionScreen.x,bd=F.positionScreen.y,a3=w.positionScreen.x,a4=w.positionScreen.y,a2=B.positionScreen.x,aX=B.positionScreen.y,aQ=u.positionScreen.x,aU=u.positionScreen.y,aM=o.positionScreen.x,aw=o.positionScreen.y,t instanceof THREE.MeshBasicMaterial){H(aZ,aT,aV,bd,a3,a4,a2,aX),t.wireframe?m(t.color,t.wireframeLinewidth,t.wireframeLinecap,t.wireframeLinejoin):E(t.color)}else{if(t instanceof THREE.MeshLambertMaterial){aW?!t.wireframe&&t.shading==THREE.SmoothShading&&q.vertexNormalsWorld.length==4?(aN.r=ac.r=be.r=bh.r=ar.r,aN.g=ac.g=be.g=bh.g=ar.g,aN.b=ac.b=be.b=bh.b=ar.b,y(ax,q.v1.positionWorld,q.vertexNormalsWorld[0],aN),y(ax,q.v2.positionWorld,q.vertexNormalsWorld[1],ac),y(ax,q.v4.positionWorld,q.vertexNormalsWorld[3],be),y(ax,q.v3.positionWorld,q.vertexNormalsWorld[2],bh),aN.r=Math.max(0,Math.min(t.color.r*aN.r,1)),aN.g=Math.max(0,Math.min(t.color.g*aN.g,1)),aN.b=Math.max(0,Math.min(t.color.b*aN.b,1)),ac.r=Math.max(0,Math.min(t.color.r*ac.r,1)),ac.g=Math.max(0,Math.min(t.color.g*ac.g,1)),ac.b=Math.max(0,Math.min(t.color.b*ac.b,1)),be.r=Math.max(0,Math.min(t.color.r*be.r,1)),be.g=Math.max(0,Math.min(t.color.g*be.g,1)),be.b=Math.max(0,Math.min(t.color.b*be.b,1)),bh.r=Math.max(0,Math.min(t.color.r*bh.r,1)),bh.g=Math.max(0,Math.min(t.color.g*bh.g,1)),bh.b=Math.max(0,Math.min(t.color.b*bh.b,1)),aE=g(aN,ac,be,bh),c(aZ,aT,aV,bd,a2,aX),G(aZ,aT,aV,bd,a2,aX,0,0,1,0,0,1,aE),c(aQ,aU,a3,a4,aM,aw),G(aQ,aU,a3,a4,aM,aw,1,0,1,1,0,1,aE)):(aL.r=ar.r,aL.g=ar.g,aL.b=ar.b,y(ax,q.centroidWorld,q.normalWorld,aL),aL.r=Math.max(0,Math.min(t.color.r*aL.r,1)),aL.g=Math.max(0,Math.min(t.color.g*aL.g,1)),aL.b=Math.max(0,Math.min(t.color.b*aL.b,1)),H(aZ,aT,aV,bd,a3,a4,a2,aX),t.wireframe?m(aL,t.wireframeLinewidth,t.wireframeLinecap,t.wireframeLinejoin):E(aL)):(H(aZ,aT,aV,bd,a3,a4,a2,aX),t.wireframe?m(t.color,t.wireframeLinewidth,t.wireframeLinecap,t.wireframeLinejoin):E(t.color))}else{if(t instanceof THREE.MeshNormalMaterial){aL.r=l(q.normalWorld.x),aL.g=l(q.normalWorld.y),aL.b=l(q.normalWorld.z),H(aZ,aT,aV,bd,a3,a4,a2,aX),t.wireframe?m(aL,t.wireframeLinewidth,t.wireframeLinecap,t.wireframeLinejoin):E(aL)}else{if(t instanceof THREE.MeshDepthMaterial){D=A.near,a7=A.far,aN.r=aN.g=aN.b=1-s(K.positionScreen.z,D,a7),ac.r=ac.g=ac.b=1-s(F.positionScreen.z,D,a7),be.r=be.g=be.b=1-s(B.positionScreen.z,D,a7),bh.r=bh.g=bh.b=1-s(w.positionScreen.z,D,a7),aE=g(aN,ac,be,bh),c(aZ,aT,aV,bd,a2,aX),G(aZ,aT,aV,bd,a2,aX,0,0,1,0,0,1,aE),c(aQ,aU,a3,a4,aM,aw),G(aQ,aU,a3,a4,aM,aw,1,0,1,1,0,1,aE)}}}}}}function c(o,k,u,t,p,q){aq.beginPath();aq.moveTo(o,k);aq.lineTo(u,t);aq.lineTo(p,q);aq.lineTo(o,k);aq.closePath()}function H(o,k,B,w,q,u,t,p){aq.beginPath();aq.moveTo(o,k);aq.lineTo(B,w);aq.lineTo(q,u);aq.lineTo(t,p);aq.lineTo(o,k);aq.closePath()}function m(o,k,q,p){if(a9!=k){aq.lineWidth=a9=k}if(ag!=q){aq.lineCap=ag=q}if(af!=p){aq.lineJoin=af=p}aD(o.getContextStyle());aq.stroke();a1.inflate(k*2)}function E(k){aA(k.getContextStyle());aq.fill()}function j(W,V,U,S,R,Q,N,P,O,F,M,K,B){if(B.image.width!=0){if(B.needsUpdate==!0||aI[B.id]==void 0){var w=B.wrapS==THREE.RepeatWrapping,u=B.wrapT==THREE.RepeatWrapping;aI[B.id]=aq.createPattern(B.image,w&&u?"repeat":w&&!u?"repeat-x":!w&&u?"repeat-y":"no-repeat");B.needsUpdate=!1}aA(aI[B.id]);var w=B.offset.x/B.repeat.x,u=B.offset.y/B.repeat.y,T=B.image.width*B.repeat.x,t=B.image.height*B.repeat.y,N=(N+w)*T,P=(P+u)*t,O=(O+w)*T,F=(F+u)*t,M=(M+w)*T,K=(K+u)*t;U-=W;S-=V;R-=W;Q-=V;O-=N;F-=P;M-=N;K-=P;w=O*K-M*F;if(w==0){if(bl[B.id]==void 0){V=document.createElement("canvas"),V.width=B.image.width,V.height=B.image.height,W=V.getContext("2d"),W.drawImage(B.image,0,0),bl[B.id]=W.getImageData(0,0,B.image.width,B.image.height).data,delete V}V=bl[B.id];N=(Math.floor(N)+Math.floor(P)*B.image.width)*4;aL.setRGB(V[N]/255,V[N+1]/255,V[N+2]/255);E(aL)}else{w=1/w,B=(K*U-F*R)*w,F=(K*S-F*Q)*w,U=(O*R-M*U)*w,S=(O*Q-M*S)*w,W=W-B*N-U*P,N=V-F*N-S*P,aq.save(),aq.transform(B,F,U,S,W,N),aq.fill(),aq.restore()}}}function G(R,Q,P,O,L,N,M,B,K,F,t,w,u){var q,p;q=u.width-1;p=u.height-1;M*=q;B*=p;K*=q;F*=p;t*=q;w*=p;P-=R;O-=Q;L-=R;N-=Q;K-=M;F-=B;t-=M;w-=B;p=1/(K*w-t*F);q=(w*P-F*L)*p;F=(w*O-F*N)*p;P=(K*L-t*P)*p;O=(K*N-t*O)*p;R=R-q*M-P*B;Q=Q-F*M-O*B;aq.save();aq.transform(q,F,P,O,R,Q);aq.clip();aq.drawImage(u,0,0);aq.restore()}function g(N,M,L,K){var w=~~(N.r*255),F=~~(N.g*255),N=~~(N.b*255),B=~~(M.r*255),q=~~(M.g*255),M=~~(M.b*255),u=~~(L.r*255),t=~~(L.g*255),L=~~(L.b*255),o=~~(K.r*255),p=~~(K.g*255),K=~~(K.b*255);bb[0]=w<0?0:w>255?255:w;bb[1]=F<0?0:F>255?255:F;bb[2]=N<0?0:N>255?255:N;bb[4]=B<0?0:B>255?255:B;bb[5]=q<0?0:q>255?255:q;bb[6]=M<0?0:M>255?255:M;bb[8]=u<0?0:u>255?255:u;bb[9]=t<0?0:t>255?255:t;bb[10]=L<0?0:L>255?255:L;bb[12]=o<0?0:o>255?255:o;bb[13]=p<0?0:p>255?255:p;bb[14]=K<0?0:K>255?255:K;z.putImageData(ae,0,0);ab.drawImage(aK,0,0);return aP}function s(o,k,p){o=(o-k)/(p-k);return o*o*(3-2*o)}function l(k){k=(k+1)*0.5;return k<0?0:k>1?1:k}function f(o,k){var t=k.x-o.x,q=k.y-o.y,p=t*t+q*q;p!=0&&(p=1/Math.sqrt(p),t*=p,q*=p,k.x+=t,k.y+=q,o.x-=t,o.y-=q)}var d,I,b,r;this.autoClear?this.clear():aq.setTransform(1,0,0,-1,at,am);aB.info.render.vertices=0;aB.info.render.faces=0;aC=au.projectScene(J,A,this.sortElements);ay=aC.elements;ax=aC.lights;(aW=ax.length>0)&&x(ax);d=0;for(I=ay.length;d<I;d++){if(b=ay[d],r=b.material,r=r instanceof THREE.MeshFaceMaterial?b.faceMaterial:r,!(r==null||r.opacity==0)){a1.empty();if(b instanceof THREE.RenderableParticle){ai=b,ai.x*=at,ai.y*=am,v(ai,b,r,J)}else{if(b instanceof THREE.RenderableLine){ai=b.v1,a0=b.v2,ai.positionScreen.x*=at,ai.positionScreen.y*=am,a0.positionScreen.x*=at,a0.positionScreen.y*=am,a1.addPoint(ai.positionScreen.x,ai.positionScreen.y),a1.addPoint(a0.positionScreen.x,a0.positionScreen.y),aS.intersects(a1)&&n(ai,a0,b,r,J)}else{if(b instanceof THREE.RenderableFace3){ai=b.v1,a0=b.v2,al=b.v3,ai.positionScreen.x*=at,ai.positionScreen.y*=am,a0.positionScreen.x*=at,a0.positionScreen.y*=am,al.positionScreen.x*=at,al.positionScreen.y*=am,r.overdraw&&(f(ai.positionScreen,a0.positionScreen),f(a0.positionScreen,al.positionScreen),f(al.positionScreen,ai.positionScreen)),a1.add3Points(ai.positionScreen.x,ai.positionScreen.y,a0.positionScreen.x,a0.positionScreen.y,al.positionScreen.x,al.positionScreen.y),aS.intersects(a1)&&h(ai,a0,al,0,1,2,b,r,J)}else{if(b instanceof THREE.RenderableFace4){ai=b.v1,a0=b.v2,al=b.v3,a6=b.v4,ai.positionScreen.x*=at,ai.positionScreen.y*=am,a0.positionScreen.x*=at,a0.positionScreen.y*=am,al.positionScreen.x*=at,al.positionScreen.y*=am,a6.positionScreen.x*=at,a6.positionScreen.y*=am,aR.positionScreen.copy(a0.positionScreen),aO.positionScreen.copy(a6.positionScreen),r.overdraw&&(f(ai.positionScreen,a0.positionScreen),f(a0.positionScreen,a6.positionScreen),f(a6.positionScreen,ai.positionScreen),f(al.positionScreen,aR.positionScreen),f(al.positionScreen,aO.positionScreen)),a1.addPoint(ai.positionScreen.x,ai.positionScreen.y),a1.addPoint(a0.positionScreen.x,a0.positionScreen.y),a1.addPoint(al.positionScreen.x,al.positionScreen.y),a1.addPoint(a6.positionScreen.x,a6.positionScreen.y),aS.intersects(a1)&&e(ai,a0,al,a6,aR,aO,b,r,J)}}}}C.addRectangle(a1)}}aq.setTransform(1,0,0,1,0,0)}};THREE.SVGRenderer=function(){function al(u,t,s,r){var o,q,p,n,l,k;o=0;for(q=u.length;o<q;o++){p=u[o],n=p.color,p instanceof THREE.DirectionalLight?(l=p.matrixWorld.getPosition(),k=s.dot(l),k<=0||(k*=p.intensity,r.r+=n.r*k,r.g+=n.g*k,r.b+=n.b*k)):p instanceof THREE.PointLight&&(l=p.matrixWorld.getPosition(),k=s.dot(L.sub(l,t).normalize()),k<=0||(k*=p.distance==0?1:1-Math.min(t.distanceTo(l)/p.distance,1),k!=0&&(k*=p.intensity,r.r+=n.r*k,r.g+=n.g*k,r.b+=n.b*k)))}}function aj(b){D[b]==null&&(D[b]=document.createElementNS("http://www.w3.org/2000/svg","path"),C==0&&D[b].setAttribute("shape-rendering","crispEdges"));return D[b]}function ak(b){b=(b+1)*0.5;return b<0?0:b>1?1:b}var ai=this,af,ag,ah,ae=new THREE.Projector,ad=document.createElementNS("http://www.w3.org/2000/svg","svg"),ab,ac,Y,X,aa,S,Z,V,P=new THREE.Rectangle,I=new THREE.Rectangle,N=!1,T=new THREE.Color,M=new THREE.Color,W=new THREE.Color,H=new THREE.Color,G,L=new THREE.Vector3,D=[],Q=[],O,z,j,C=1;this.domElement=ad;this.sortElements=this.sortObjects=this.autoClear=!0;this.info={render:{vertices:0,faces:0}};this.setQuality=function(b){switch(b){case"high":C=1;break;case"low":C=0}};this.setSize=function(d,c){ab=d;ac=c;Y=ab/2;X=ac/2;ad.setAttribute("viewBox",-Y+" "+-X+" "+ab+" "+ac);ad.setAttribute("width",ab);ad.setAttribute("height",ac);P.set(-Y,-X,Y,X)};this.clear=function(){for(;ad.childNodes.length>0;){ad.removeChild(ad.childNodes[0])}};this.render=function(c,b){var g,m,n,h;this.autoClear&&this.clear();ai.info.render.vertices=0;ai.info.render.faces=0;af=ae.projectScene(c,b,this.sortElements);ag=af.elements;ah=af.lights;j=z=0;if(N=ah.length>0){M.setRGB(0,0,0);W.setRGB(0,0,0);H.setRGB(0,0,0);g=0;for(m=ah.length;g<m;g++){h=ah[g],n=h.color,h instanceof THREE.AmbientLight?(M.r+=n.r,M.g+=n.g,M.b+=n.b):h instanceof THREE.DirectionalLight?(W.r+=n.r,W.g+=n.g,W.b+=n.b):h instanceof THREE.PointLight&&(H.r+=n.r,H.g+=n.g,H.b+=n.b)}}g=0;for(m=ag.length;g<m;g++){if(n=ag[g],h=n.material,h=h instanceof THREE.MeshFaceMaterial?n.faceMaterial:h,!(h==null||h.opacity==0)){if(I.empty(),n instanceof THREE.RenderableParticle){aa=n,aa.x*=Y,aa.y*=-X}else{if(n instanceof THREE.RenderableLine){if(aa=n.v1,S=n.v2,aa.positionScreen.x*=Y,aa.positionScreen.y*=-X,S.positionScreen.x*=Y,S.positionScreen.y*=-X,I.addPoint(aa.positionScreen.x,aa.positionScreen.y),I.addPoint(S.positionScreen.x,S.positionScreen.y),P.intersects(I)){n=aa;var e=S,d=j++;Q[d]==null&&(Q[d]=document.createElementNS("http://www.w3.org/2000/svg","line"),C==0&&Q[d].setAttribute("shape-rendering","crispEdges"));O=Q[d];O.setAttribute("x1",n.positionScreen.x);O.setAttribute("y1",n.positionScreen.y);O.setAttribute("x2",e.positionScreen.x);O.setAttribute("y2",e.positionScreen.y);h instanceof THREE.LineBasicMaterial&&(O.setAttribute("style","fill: none; stroke: "+h.color.getContextStyle()+"; stroke-width: "+h.linewidth+"; stroke-opacity: "+h.opacity+"; stroke-linecap: "+h.linecap+"; stroke-linejoin: "+h.linejoin),ad.appendChild(O))}}else{if(n instanceof THREE.RenderableFace3){if(aa=n.v1,S=n.v2,Z=n.v3,aa.positionScreen.x*=Y,aa.positionScreen.y*=-X,S.positionScreen.x*=Y,S.positionScreen.y*=-X,Z.positionScreen.x*=Y,Z.positionScreen.y*=-X,I.addPoint(aa.positionScreen.x,aa.positionScreen.y),I.addPoint(S.positionScreen.x,S.positionScreen.y),I.addPoint(Z.positionScreen.x,Z.positionScreen.y),P.intersects(I)){var e=aa,d=S,f=Z;ai.info.render.vertices+=3;ai.info.render.faces++;O=aj(z++);O.setAttribute("d","M "+e.positionScreen.x+" "+e.positionScreen.y+" L "+d.positionScreen.x+" "+d.positionScreen.y+" L "+f.positionScreen.x+","+f.positionScreen.y+"z");h instanceof THREE.MeshBasicMaterial?T.copy(h.color):h instanceof THREE.MeshLambertMaterial?N?(T.r=M.r,T.g=M.g,T.b=M.b,al(ah,n.centroidWorld,n.normalWorld,T),T.r=Math.max(0,Math.min(h.color.r*T.r,1)),T.g=Math.max(0,Math.min(h.color.g*T.g,1)),T.b=Math.max(0,Math.min(h.color.b*T.b,1))):T.copy(h.color):h instanceof THREE.MeshDepthMaterial?(G=1-h.__2near/(h.__farPlusNear-n.z*h.__farMinusNear),T.setRGB(G,G,G)):h instanceof THREE.MeshNormalMaterial&&T.setRGB(ak(n.normalWorld.x),ak(n.normalWorld.y),ak(n.normalWorld.z));h.wireframe?O.setAttribute("style","fill: none; stroke: "+T.getContextStyle()+"; stroke-width: "+h.wireframeLinewidth+"; stroke-opacity: "+h.opacity+"; stroke-linecap: "+h.wireframeLinecap+"; stroke-linejoin: "+h.wireframeLinejoin):O.setAttribute("style","fill: "+T.getContextStyle()+"; fill-opacity: "+h.opacity);ad.appendChild(O)}}else{if(n instanceof THREE.RenderableFace4&&(aa=n.v1,S=n.v2,Z=n.v3,V=n.v4,aa.positionScreen.x*=Y,aa.positionScreen.y*=-X,S.positionScreen.x*=Y,S.positionScreen.y*=-X,Z.positionScreen.x*=Y,Z.positionScreen.y*=-X,V.positionScreen.x*=Y,V.positionScreen.y*=-X,I.addPoint(aa.positionScreen.x,aa.positionScreen.y),I.addPoint(S.positionScreen.x,S.positionScreen.y),I.addPoint(Z.positionScreen.x,Z.positionScreen.y),I.addPoint(V.positionScreen.x,V.positionScreen.y),P.intersects(I))){var e=aa,d=S,f=Z,a=V;ai.info.render.vertices+=4;ai.info.render.faces++;O=aj(z++);O.setAttribute("d","M "+e.positionScreen.x+" "+e.positionScreen.y+" L "+d.positionScreen.x+" "+d.positionScreen.y+" L "+f.positionScreen.x+","+f.positionScreen.y+" L "+a.positionScreen.x+","+a.positionScreen.y+"z");h instanceof THREE.MeshBasicMaterial?T.copy(h.color):h instanceof THREE.MeshLambertMaterial?N?(T.r=M.r,T.g=M.g,T.b=M.b,al(ah,n.centroidWorld,n.normalWorld,T),T.r=Math.max(0,Math.min(h.color.r*T.r,1)),T.g=Math.max(0,Math.min(h.color.g*T.g,1)),T.b=Math.max(0,Math.min(h.color.b*T.b,1))):T.copy(h.color):h instanceof THREE.MeshDepthMaterial?(G=1-h.__2near/(h.__farPlusNear-n.z*h.__farMinusNear),T.setRGB(G,G,G)):h instanceof THREE.MeshNormalMaterial&&T.setRGB(ak(n.normalWorld.x),ak(n.normalWorld.y),ak(n.normalWorld.z));h.wireframe?O.setAttribute("style","fill: none; stroke: "+T.getContextStyle()+"; stroke-width: "+h.wireframeLinewidth+"; stroke-opacity: "+h.opacity+"; stroke-linecap: "+h.wireframeLinecap+"; stroke-linejoin: "+h.wireframeLinejoin):O.setAttribute("style","fill: "+T.getContextStyle()+"; fill-opacity: "+h.opacity);ad.appendChild(O)}}}}}}}};THREE.ShaderChunk={fog_pars_fragment:"#ifdef USE_FOG\nuniform vec3 fogColor;\n#ifdef FOG_EXP2\nuniform float fogDensity;\n#else\nuniform float fogNear;\nuniform float fogFar;\n#endif\n#endif",fog_fragment:"#ifdef USE_FOG\nfloat depth = gl_FragCoord.z / gl_FragCoord.w;\n#ifdef FOG_EXP2\nconst float LOG2 = 1.442695;\nfloat fogFactor = exp2( - fogDensity * fogDensity * depth * depth * LOG2 );\nfogFactor = 1.0 - clamp( fogFactor, 0.0, 1.0 );\n#else\nfloat fogFactor = smoothstep( fogNear, fogFar, depth );\n#endif\ngl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\nvarying vec3 vReflect;\nuniform float reflectivity;\nuniform samplerCube envMap;\nuniform float flipEnvMap;\nuniform int combine;\n#endif",envmap_fragment:"#ifdef USE_ENVMAP\nvec4 cubeColor = textureCube( envMap, vec3( flipEnvMap * vReflect.x, vReflect.yz ) );\n#ifdef GAMMA_INPUT\ncubeColor.xyz *= cubeColor.xyz;\n#endif\nif ( combine == 1 ) {\ngl_FragColor.xyz = mix( gl_FragColor.xyz, cubeColor.xyz, reflectivity );\n} else {\ngl_FragColor.xyz = gl_FragColor.xyz * cubeColor.xyz;\n}\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\nvarying vec3 vReflect;\nuniform float refractionRatio;\nuniform bool useRefract;\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\nvec4 mPosition = objectMatrix * vec4( position, 1.0 );\nvec3 nWorld = mat3( objectMatrix[ 0 ].xyz, objectMatrix[ 1 ].xyz, objectMatrix[ 2 ].xyz ) * normal;\nif ( useRefract ) {\nvReflect = refract( normalize( mPosition.xyz - cameraPosition ), normalize( nWorld.xyz ), refractionRatio );\n} else {\nvReflect = reflect( normalize( mPosition.xyz - cameraPosition ), normalize( nWorld.xyz ) );\n}\n#endif",map_particle_pars_fragment:"#ifdef USE_MAP\nuniform sampler2D map;\n#endif",map_particle_fragment:"#ifdef USE_MAP\ngl_FragColor = gl_FragColor * texture2D( map, gl_PointCoord );\n#endif",map_pars_vertex:"#ifdef USE_MAP\nvarying vec2 vUv;\nuniform vec4 offsetRepeat;\n#endif",map_pars_fragment:"#ifdef USE_MAP\nvarying vec2 vUv;\nuniform sampler2D map;\n#endif",map_vertex:"#ifdef USE_MAP\nvUv = uv * offsetRepeat.zw + offsetRepeat.xy;\n#endif",map_fragment:"#ifdef USE_MAP\n#ifdef GAMMA_INPUT\nvec4 texelColor = texture2D( map, vUv );\ntexelColor.xyz *= texelColor.xyz;\ngl_FragColor = gl_FragColor * texelColor;\n#else\ngl_FragColor = gl_FragColor * texture2D( map, vUv );\n#endif\n#endif",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\nvarying vec2 vUv2;\nuniform sampler2D lightMap;\n#endif",lightmap_pars_vertex:"#ifdef USE_LIGHTMAP\nvarying vec2 vUv2;\n#endif",lightmap_fragment:"#ifdef USE_LIGHTMAP\ngl_FragColor = gl_FragColor * texture2D( lightMap, vUv2 );\n#endif",lightmap_vertex:"#ifdef USE_LIGHTMAP\nvUv2 = uv2;\n#endif",lights_lambert_pars_vertex:"uniform vec3 ambient;\nuniform vec3 diffuse;\nuniform vec3 ambientLightColor;\n#if MAX_DIR_LIGHTS > 0\nuniform vec3 directionalLightColor[ MAX_DIR_LIGHTS ];\nuniform vec3 directionalLightDirection[ MAX_DIR_LIGHTS ];\n#endif\n#if MAX_POINT_LIGHTS > 0\nuniform vec3 pointLightColor[ MAX_POINT_LIGHTS ];\nuniform vec3 pointLightPosition[ MAX_POINT_LIGHTS ];\nuniform float pointLightDistance[ MAX_POINT_LIGHTS ];\n#endif",lights_lambert_vertex:"vLightWeighting = vec3( 0.0 );\n#if MAX_DIR_LIGHTS > 0\nfor( int i = 0; i < MAX_DIR_LIGHTS; i ++ ) {\nvec4 lDirection = viewMatrix * vec4( directionalLightDirection[ i ], 0.0 );\nfloat directionalLightWeighting = max( dot( transformedNormal, normalize( lDirection.xyz ) ), 0.0 );\nvLightWeighting += directionalLightColor[ i ] * directionalLightWeighting;\n}\n#endif\n#if MAX_POINT_LIGHTS > 0\nfor( int i = 0; i < MAX_POINT_LIGHTS; i ++ ) {\nvec4 lPosition = viewMatrix * vec4( pointLightPosition[ i ], 1.0 );\nvec3 lVector = lPosition.xyz - mvPosition.xyz;\nfloat lDistance = 1.0;\nif ( pointLightDistance[ i ] > 0.0 )\nlDistance = 1.0 - min( ( length( lVector ) / pointLightDistance[ i ] ), 1.0 );\nlVector = normalize( lVector );\nfloat pointLightWeighting = max( dot( transformedNormal, lVector ), 0.0 );\nvLightWeighting += pointLightColor[ i ] * pointLightWeighting * lDistance;\n}\n#endif\nvLightWeighting = vLightWeighting * diffuse + ambient * ambientLightColor;",lights_phong_pars_vertex:"#if MAX_POINT_LIGHTS > 0\n#ifndef PHONG_PER_PIXEL\nuniform vec3 pointLightPosition[ MAX_POINT_LIGHTS ];\nuniform float pointLightDistance[ MAX_POINT_LIGHTS ];\nvarying vec4 vPointLight[ MAX_POINT_LIGHTS ];\n#endif\n#endif",lights_phong_vertex:"#if MAX_POINT_LIGHTS > 0\n#ifndef PHONG_PER_PIXEL\nfor( int i = 0; i < MAX_POINT_LIGHTS; i ++ ) {\nvec4 lPosition = viewMatrix * vec4( pointLightPosition[ i ], 1.0 );\nvec3 lVector = lPosition.xyz - mvPosition.xyz;\nfloat lDistance = 1.0;\nif ( pointLightDistance[ i ] > 0.0 )\nlDistance = 1.0 - min( ( length( lVector ) / pointLightDistance[ i ] ), 1.0 );\nlVector = normalize( lVector );\nvPointLight[ i ] = vec4( lVector, lDistance );\n}\n#endif\n#endif",lights_phong_pars_fragment:"uniform vec3 ambientLightColor;\n#if MAX_DIR_LIGHTS > 0\nuniform vec3 directionalLightColor[ MAX_DIR_LIGHTS ];\nuniform vec3 directionalLightDirection[ MAX_DIR_LIGHTS ];\n#endif\n#if MAX_POINT_LIGHTS > 0\nuniform vec3 pointLightColor[ MAX_POINT_LIGHTS ];\n#ifdef PHONG_PER_PIXEL\nuniform vec3 pointLightPosition[ MAX_POINT_LIGHTS ];\nuniform float pointLightDistance[ MAX_POINT_LIGHTS ];\n#else\nvarying vec4 vPointLight[ MAX_POINT_LIGHTS ];\n#endif\n#endif\nvarying vec3 vViewPosition;\nvarying vec3 vNormal;",lights_phong_fragment:"vec3 normal = normalize( vNormal );\nvec3 viewPosition = normalize( vViewPosition );\n#if MAX_POINT_LIGHTS > 0\nvec3 pointDiffuse  = vec3( 0.0 );\nvec3 pointSpecular = vec3( 0.0 );\nfor ( int i = 0; i < MAX_POINT_LIGHTS; i ++ ) {\n#ifdef PHONG_PER_PIXEL\nvec4 lPosition = viewMatrix * vec4( pointLightPosition[ i ], 1.0 );\nvec3 lVector = lPosition.xyz + vViewPosition.xyz;\nfloat lDistance = 1.0;\nif ( pointLightDistance[ i ] > 0.0 )\nlDistance = 1.0 - min( ( length( lVector ) / pointLightDistance[ i ] ), 1.0 );\nlVector = normalize( lVector );\n#else\nvec3 lVector = normalize( vPointLight[ i ].xyz );\nfloat lDistance = vPointLight[ i ].w;\n#endif\nvec3 pointHalfVector = normalize( lVector + viewPosition );\nfloat pointDistance = lDistance;\nfloat pointDotNormalHalf = max( dot( normal, pointHalfVector ), 0.0 );\nfloat pointDiffuseWeight = max( dot( normal, lVector ), 0.0 );\nfloat pointSpecularWeight = pow( pointDotNormalHalf, shininess );\n#ifdef PHYSICALLY_BASED_SHADING\nvec3 schlick = specular + vec3( 1.0 - specular ) * pow( dot( lVector, pointHalfVector ), 5.0 );\npointSpecular += schlick * pointLightColor[ i ] * pointSpecularWeight * pointDiffuseWeight * pointDistance;\n#else\npointSpecular += specular * pointLightColor[ i ] * pointSpecularWeight * pointDiffuseWeight * pointDistance;\n#endif\npointDiffuse  += diffuse * pointLightColor[ i ] * pointDiffuseWeight * pointDistance;\n}\n#endif\n#if MAX_DIR_LIGHTS > 0\nvec3 dirDiffuse  = vec3( 0.0 );\nvec3 dirSpecular = vec3( 0.0 );\nfor( int i = 0; i < MAX_DIR_LIGHTS; i ++ ) {\nvec4 lDirection = viewMatrix * vec4( directionalLightDirection[ i ], 0.0 );\nvec3 dirVector = normalize( lDirection.xyz );\nvec3 dirHalfVector = normalize( lDirection.xyz + viewPosition );\nfloat dirDotNormalHalf = max( dot( normal, dirHalfVector ), 0.0 );\nfloat dirDiffuseWeight = max( dot( normal, dirVector ), 0.0 );\nfloat dirSpecularWeight = pow( dirDotNormalHalf, shininess );\n#ifdef PHYSICALLY_BASED_SHADING\nvec3 schlick = specular + vec3( 1.0 - specular ) * pow( dot( dirVector, dirHalfVector ), 5.0 );\ndirSpecular += schlick * directionalLightColor[ i ] * dirSpecularWeight * dirDiffuseWeight;\n#else\ndirSpecular += specular * directionalLightColor[ i ] * dirSpecularWeight * dirDiffuseWeight;\n#endif\ndirDiffuse  += diffuse * directionalLightColor[ i ] * dirDiffuseWeight;\n}\n#endif\nvec3 totalDiffuse = vec3( 0.0 );\nvec3 totalSpecular = vec3( 0.0 );\n#if MAX_DIR_LIGHTS > 0\ntotalDiffuse += dirDiffuse;\ntotalSpecular += dirSpecular;\n#endif\n#if MAX_POINT_LIGHTS > 0\ntotalDiffuse += pointDiffuse;\ntotalSpecular += pointSpecular;\n#endif\n#ifdef METAL\ngl_FragColor.xyz = gl_FragColor.xyz * ( totalDiffuse + ambientLightColor * ambient + totalSpecular );\n#else\ngl_FragColor.xyz = gl_FragColor.xyz * ( totalDiffuse + ambientLightColor * ambient ) + totalSpecular;\n#endif",color_pars_fragment:"#ifdef USE_COLOR\nvarying vec3 vColor;\n#endif",color_fragment:"#ifdef USE_COLOR\ngl_FragColor = gl_FragColor * vec4( vColor, opacity );\n#endif",color_pars_vertex:"#ifdef USE_COLOR\nvarying vec3 vColor;\n#endif",color_vertex:"#ifdef USE_COLOR\n#ifdef GAMMA_INPUT\nvColor = color * color;\n#else\nvColor = color;\n#endif\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\nuniform mat4 boneGlobalMatrices[ MAX_BONES ];\n#endif",skinning_vertex:"#ifdef USE_SKINNING\ngl_Position  = ( boneGlobalMatrices[ int( skinIndex.x ) ] * skinVertexA ) * skinWeight.x;\ngl_Position += ( boneGlobalMatrices[ int( skinIndex.y ) ] * skinVertexB ) * skinWeight.y;\ngl_Position  = projectionMatrix * viewMatrix * objectMatrix * gl_Position;\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\nuniform float morphTargetInfluences[ 8 ];\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\nvec3 morphed = vec3( 0.0, 0.0, 0.0 );\nmorphed += ( morphTarget0 - position ) * morphTargetInfluences[ 0 ];\nmorphed += ( morphTarget1 - position ) * morphTargetInfluences[ 1 ];\nmorphed += ( morphTarget2 - position ) * morphTargetInfluences[ 2 ];\nmorphed += ( morphTarget3 - position ) * morphTargetInfluences[ 3 ];\nmorphed += ( morphTarget4 - position ) * morphTargetInfluences[ 4 ];\nmorphed += ( morphTarget5 - position ) * morphTargetInfluences[ 5 ];\nmorphed += ( morphTarget6 - position ) * morphTargetInfluences[ 6 ];\nmorphed += ( morphTarget7 - position ) * morphTargetInfluences[ 7 ];\nmorphed += position;\ngl_Position = projectionMatrix * modelViewMatrix * vec4( morphed, 1.0 );\n#endif",default_vertex:"#ifndef USE_MORPHTARGETS\n#ifndef USE_SKINNING\ngl_Position = projectionMatrix * mvPosition;\n#endif\n#endif",shadowmap_pars_fragment:"#ifdef USE_SHADOWMAP\nuniform sampler2D shadowMap[ MAX_SHADOWS ];\nuniform float shadowDarkness;\nuniform float shadowBias;\nvarying vec4 vShadowCoord[ MAX_SHADOWS ];\nfloat unpackDepth( const in vec4 rgba_depth ) {\nconst vec4 bit_shift = vec4( 1.0 / ( 256.0 * 256.0 * 256.0 ), 1.0 / ( 256.0 * 256.0 ), 1.0 / 256.0, 1.0 );\nfloat depth = dot( rgba_depth, bit_shift );\nreturn depth;\n}\n#endif",shadowmap_fragment:"#ifdef USE_SHADOWMAP\n#ifdef SHADOWMAP_SOFT\nconst float xPixelOffset = 1.0 / SHADOWMAP_WIDTH;\nconst float yPixelOffset = 1.0 / SHADOWMAP_HEIGHT;\n#endif\nvec3 shadowColor = vec3( 1.0 );\nfor( int i = 0; i < MAX_SHADOWS; i ++ ) {\nvec3 shadowCoord = vShadowCoord[ i ].xyz / vShadowCoord[ i ].w;\nshadowCoord.z += shadowBias;\nif ( shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0 ) {\n#ifdef SHADOWMAP_SOFT\nfloat shadow = 0.0;\nfor ( float y = -1.25; y <= 1.25; y += 1.25 )\nfor ( float x = -1.25; x <= 1.25; x += 1.25 ) {\nvec4 rgbaDepth = texture2D( shadowMap[ i ], vec2( x * xPixelOffset, y * yPixelOffset ) + shadowCoord.xy );\nfloat fDepth = unpackDepth( rgbaDepth );\nif ( fDepth < shadowCoord.z )\nshadow += 1.0;\n}\nshadow /= 9.0;\nshadowColor = shadowColor * vec3( ( 1.0 - shadowDarkness * shadow ) );\n#else\nvec4 rgbaDepth = texture2D( shadowMap[ i ], shadowCoord.xy );\nfloat fDepth = unpackDepth( rgbaDepth );\nif ( fDepth < shadowCoord.z )\nshadowColor = shadowColor * vec3( shadowDarkness );\n#endif\n}\n}\n#ifdef GAMMA_OUTPUT\nshadowColor *= shadowColor;\n#endif\ngl_FragColor.xyz = gl_FragColor.xyz * shadowColor;\n#endif",shadowmap_pars_vertex:"#ifdef USE_SHADOWMAP\nvarying vec4 vShadowCoord[ MAX_SHADOWS ];\nuniform mat4 shadowMatrix[ MAX_SHADOWS ];\n#endif",shadowmap_vertex:"#ifdef USE_SHADOWMAP\nfor( int i = 0; i < MAX_SHADOWS; i ++ ) {\nvShadowCoord[ i ] = shadowMatrix[ i ] * objectMatrix * vec4( position, 1.0 );\n}\n#endif",alphatest_fragment:"#ifdef ALPHATEST\nif ( gl_FragColor.a < ALPHATEST ) discard;\n#endif",linear_to_gamma_fragment:"#ifdef GAMMA_OUTPUT\ngl_FragColor.xyz = sqrt( gl_FragColor.xyz );\n#endif"};THREE.UniformsUtils={merge:function(f){var k,e,j,h={};for(k=0;k<f.length;k++){for(e in j=this.clone(f[k]),j){h[e]=j[e]}}return h},clone:function(f){var k,e,j,h={};for(k in f){for(e in h[k]={},f[k]){j=f[k][e],h[k][e]=j instanceof THREE.Color||j instanceof THREE.Vector2||j instanceof THREE.Vector3||j instanceof THREE.Vector4||j instanceof THREE.Matrix4||j instanceof THREE.Texture?j.clone():j instanceof Array?j.slice():j}}return h}};THREE.UniformsLib={common:{diffuse:{type:"c",value:new THREE.Color(15658734)},opacity:{type:"f",value:1},map:{type:"t",value:0,texture:null},offsetRepeat:{type:"v4",value:new THREE.Vector4(0,0,1,1)},lightMap:{type:"t",value:2,texture:null},envMap:{type:"t",value:1,texture:null},flipEnvMap:{type:"f",value:-1},useRefract:{type:"i",value:0},reflectivity:{type:"f",value:1},refractionRatio:{type:"f",value:0.98},combine:{type:"i",value:0},morphTargetInfluences:{type:"f",value:0}},fog:{fogDensity:{type:"f",value:0.00025},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2000},fogColor:{type:"c",value:new THREE.Color(16777215)}},lights:{ambientLightColor:{type:"fv",value:[]},directionalLightDirection:{type:"fv",value:[]},directionalLightColor:{type:"fv",value:[]},pointLightColor:{type:"fv",value:[]},pointLightPosition:{type:"fv",value:[]},pointLightDistance:{type:"fv1",value:[]}},particle:{psColor:{type:"c",value:new THREE.Color(15658734)},opacity:{type:"f",value:1},size:{type:"f",value:1},scale:{type:"f",value:1},map:{type:"t",value:0,texture:null},fogDensity:{type:"f",value:0.00025},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2000},fogColor:{type:"c",value:new THREE.Color(16777215)}},shadowmap:{shadowMap:{type:"tv",value:6,texture:[]},shadowMatrix:{type:"m4v",value:[]},shadowBias:{type:"f",value:0.0039},shadowDarkness:{type:"f",value:0.2}}};THREE.ShaderLib={sprite:{vertexShader:"uniform int useScreenCoordinates;\nuniform int affectedByDistance;\nuniform vec3 screenPosition;\nuniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\nuniform float rotation;\nuniform vec2 scale;\nuniform vec2 alignment;\nuniform vec2 uvOffset;\nuniform vec2 uvScale;\nattribute vec2 position;\nattribute vec2 uv;\nvarying vec2 vUV;\nvoid main() {\nvUV = uvOffset + uv * uvScale;\nvec2 alignedPosition = position + alignment;\nvec2 rotatedPosition;\nrotatedPosition.x = ( cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y ) * scale.x;\nrotatedPosition.y = ( sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y ) * scale.y;\nvec4 finalPosition;\nif( useScreenCoordinates != 0 ) {\nfinalPosition = vec4( screenPosition.xy + rotatedPosition, screenPosition.z, 1.0 );\n} else {\nfinalPosition = projectionMatrix * modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\nfinalPosition.xy += rotatedPosition * ( affectedByDistance == 1 ? 1.0 : finalPosition.z );\n}\ngl_Position = finalPosition;\n}",fragmentShader:"#ifdef GL_ES\nprecision highp float;\n#endif\nuniform vec3 color;\nuniform sampler2D map;\nuniform float opacity;\nvarying vec2 vUV;\nvoid main() {\nvec4 texture = texture2D( map, vUV );\ngl_FragColor = vec4( color * texture.xyz, texture.a * opacity );\n}"},depth:{uniforms:{mNear:{type:"f",value:1},mFar:{type:"f",value:2000},opacity:{type:"f",value:1}},vertexShader:"void main() {\ngl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",fragmentShader:"uniform float mNear;\nuniform float mFar;\nuniform float opacity;\nvoid main() {\nfloat depth = gl_FragCoord.z / gl_FragCoord.w;\nfloat color = 1.0 - smoothstep( mNear, mFar, depth );\ngl_FragColor = vec4( vec3( color ), opacity );\n}"},normal:{uniforms:{opacity:{type:"f",value:1}},vertexShader:"varying vec3 vNormal;\nvoid main() {\nvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\nvNormal = normalize( normalMatrix * normal );\ngl_Position = projectionMatrix * mvPosition;\n}",fragmentShader:"uniform float opacity;\nvarying vec3 vNormal;\nvoid main() {\ngl_FragColor = vec4( 0.5 * normalize( vNormal ) + 0.5, opacity );\n}"},basic:{uniforms:THREE.UniformsUtils.merge([THREE.UniformsLib.common,THREE.UniformsLib.fog,THREE.UniformsLib.shadowmap]),vertexShader:[THREE.ShaderChunk.map_pars_vertex,THREE.ShaderChunk.lightmap_pars_vertex,THREE.ShaderChunk.envmap_pars_vertex,THREE.ShaderChunk.color_pars_vertex,THREE.ShaderChunk.skinning_pars_vertex,THREE.ShaderChunk.morphtarget_pars_vertex,THREE.ShaderChunk.shadowmap_pars_vertex,"void main() {\nvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );",THREE.ShaderChunk.map_vertex,THREE.ShaderChunk.lightmap_vertex,THREE.ShaderChunk.envmap_vertex,THREE.ShaderChunk.color_vertex,THREE.ShaderChunk.skinning_vertex,THREE.ShaderChunk.morphtarget_vertex,THREE.ShaderChunk.default_vertex,THREE.ShaderChunk.shadowmap_vertex,"}"].join("\n"),fragmentShader:["uniform vec3 diffuse;\nuniform float opacity;",THREE.ShaderChunk.color_pars_fragment,THREE.ShaderChunk.map_pars_fragment,THREE.ShaderChunk.lightmap_pars_fragment,THREE.ShaderChunk.envmap_pars_fragment,THREE.ShaderChunk.fog_pars_fragment,THREE.ShaderChunk.shadowmap_pars_fragment,"void main() {\ngl_FragColor = vec4( diffuse, opacity );",THREE.ShaderChunk.map_fragment,THREE.ShaderChunk.alphatest_fragment,THREE.ShaderChunk.lightmap_fragment,THREE.ShaderChunk.color_fragment,THREE.ShaderChunk.envmap_fragment,THREE.ShaderChunk.shadowmap_fragment,THREE.ShaderChunk.linear_to_gamma_fragment,THREE.ShaderChunk.fog_fragment,"}"].join("\n")},lambert:{uniforms:THREE.UniformsUtils.merge([THREE.UniformsLib.common,THREE.UniformsLib.fog,THREE.UniformsLib.lights,THREE.UniformsLib.shadowmap,{ambient:{type:"c",value:new THREE.Color(328965)}}]),vertexShader:["varying vec3 vLightWeighting;",THREE.ShaderChunk.map_pars_vertex,THREE.ShaderChunk.lightmap_pars_vertex,THREE.ShaderChunk.envmap_pars_vertex,THREE.ShaderChunk.lights_lambert_pars_vertex,THREE.ShaderChunk.color_pars_vertex,THREE.ShaderChunk.skinning_pars_vertex,THREE.ShaderChunk.morphtarget_pars_vertex,THREE.ShaderChunk.shadowmap_pars_vertex,"void main() {\nvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );",THREE.ShaderChunk.map_vertex,THREE.ShaderChunk.lightmap_vertex,THREE.ShaderChunk.envmap_vertex,THREE.ShaderChunk.color_vertex,"vec3 transformedNormal = normalize( normalMatrix * normal );",THREE.ShaderChunk.lights_lambert_vertex,THREE.ShaderChunk.skinning_vertex,THREE.ShaderChunk.morphtarget_vertex,THREE.ShaderChunk.default_vertex,THREE.ShaderChunk.shadowmap_vertex,"}"].join("\n"),fragmentShader:["uniform float opacity;\nvarying vec3 vLightWeighting;",THREE.ShaderChunk.color_pars_fragment,THREE.ShaderChunk.map_pars_fragment,THREE.ShaderChunk.lightmap_pars_fragment,THREE.ShaderChunk.envmap_pars_fragment,THREE.ShaderChunk.fog_pars_fragment,THREE.ShaderChunk.shadowmap_pars_fragment,"void main() {\ngl_FragColor = vec4( vec3 ( 1.0 ), opacity );",THREE.ShaderChunk.map_fragment,THREE.ShaderChunk.alphatest_fragment,"gl_FragColor.xyz = gl_FragColor.xyz * vLightWeighting;",THREE.ShaderChunk.lightmap_fragment,THREE.ShaderChunk.color_fragment,THREE.ShaderChunk.envmap_fragment,THREE.ShaderChunk.shadowmap_fragment,THREE.ShaderChunk.linear_to_gamma_fragment,THREE.ShaderChunk.fog_fragment,"}"].join("\n")},phong:{uniforms:THREE.UniformsUtils.merge([THREE.UniformsLib.common,THREE.UniformsLib.fog,THREE.UniformsLib.lights,THREE.UniformsLib.shadowmap,{ambient:{type:"c",value:new THREE.Color(328965)},specular:{type:"c",value:new THREE.Color(1118481)},shininess:{type:"f",value:30}}]),vertexShader:["varying vec3 vViewPosition;\nvarying vec3 vNormal;",THREE.ShaderChunk.map_pars_vertex,THREE.ShaderChunk.lightmap_pars_vertex,THREE.ShaderChunk.envmap_pars_vertex,THREE.ShaderChunk.lights_phong_pars_vertex,THREE.ShaderChunk.color_pars_vertex,THREE.ShaderChunk.skinning_pars_vertex,THREE.ShaderChunk.morphtarget_pars_vertex,THREE.ShaderChunk.shadowmap_pars_vertex,"void main() {\nvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );",THREE.ShaderChunk.map_vertex,THREE.ShaderChunk.lightmap_vertex,THREE.ShaderChunk.envmap_vertex,THREE.ShaderChunk.color_vertex,"#ifndef USE_ENVMAP\nvec4 mPosition = objectMatrix * vec4( position, 1.0 );\n#endif\nvViewPosition = -mvPosition.xyz;\nvec3 transformedNormal = normalMatrix * normal;\nvNormal = transformedNormal;",THREE.ShaderChunk.lights_phong_vertex,THREE.ShaderChunk.skinning_vertex,THREE.ShaderChunk.morphtarget_vertex,THREE.ShaderChunk.default_vertex,THREE.ShaderChunk.shadowmap_vertex,"}"].join("\n"),fragmentShader:["uniform vec3 diffuse;\nuniform float opacity;\nuniform vec3 ambient;\nuniform vec3 specular;\nuniform float shininess;",THREE.ShaderChunk.color_pars_fragment,THREE.ShaderChunk.map_pars_fragment,THREE.ShaderChunk.lightmap_pars_fragment,THREE.ShaderChunk.envmap_pars_fragment,THREE.ShaderChunk.fog_pars_fragment,THREE.ShaderChunk.lights_phong_pars_fragment,THREE.ShaderChunk.shadowmap_pars_fragment,"void main() {\ngl_FragColor = vec4( vec3 ( 1.0 ), opacity );",THREE.ShaderChunk.map_fragment,THREE.ShaderChunk.alphatest_fragment,THREE.ShaderChunk.lights_phong_fragment,THREE.ShaderChunk.lightmap_fragment,THREE.ShaderChunk.color_fragment,THREE.ShaderChunk.envmap_fragment,THREE.ShaderChunk.shadowmap_fragment,THREE.ShaderChunk.linear_to_gamma_fragment,THREE.ShaderChunk.fog_fragment,"}"].join("\n")},particle_basic:{uniforms:THREE.UniformsUtils.merge([THREE.UniformsLib.particle,THREE.UniformsLib.shadowmap]),vertexShader:["uniform float size;\nuniform float scale;",THREE.ShaderChunk.color_pars_vertex,THREE.ShaderChunk.shadowmap_pars_vertex,"void main() {",THREE.ShaderChunk.color_vertex,"vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n#ifdef USE_SIZEATTENUATION\ngl_PointSize = size * ( scale / length( mvPosition.xyz ) );\n#else\ngl_PointSize = size;\n#endif\ngl_Position = projectionMatrix * mvPosition;",THREE.ShaderChunk.shadowmap_vertex,"}"].join("\n"),fragmentShader:["uniform vec3 psColor;\nuniform float opacity;",THREE.ShaderChunk.color_pars_fragment,THREE.ShaderChunk.map_particle_pars_fragment,THREE.ShaderChunk.fog_pars_fragment,THREE.ShaderChunk.shadowmap_pars_fragment,"void main() {\ngl_FragColor = vec4( psColor, opacity );",THREE.ShaderChunk.map_particle_fragment,THREE.ShaderChunk.alphatest_fragment,THREE.ShaderChunk.color_fragment,THREE.ShaderChunk.shadowmap_fragment,THREE.ShaderChunk.fog_fragment,"}"].join("\n")},depthRGBA:{uniforms:{},vertexShader:[THREE.ShaderChunk.morphtarget_pars_vertex,"void main() {\nvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );",THREE.ShaderChunk.morphtarget_vertex,THREE.ShaderChunk.default_vertex,"}"].join("\n"),fragmentShader:"vec4 pack_depth( const in float depth ) {\nconst vec4 bit_shift = vec4( 256.0 * 256.0 * 256.0, 256.0 * 256.0, 256.0, 1.0 );\nconst vec4 bit_mask  = vec4( 0.0, 1.0 / 256.0, 1.0 / 256.0, 1.0 / 256.0 );\nvec4 res = fract( depth * bit_shift );\nres -= res.xxyz * bit_mask;\nreturn res;\n}\nvoid main() {\ngl_FragData[ 0 ] = pack_depth( gl_FragCoord.z );\n}"}};THREE.WebGLRenderer=function(aH){function aF(j,h){var o=j.vertices.length,n=h.material;if(n.attributes){if(j.__webglCustomAttributesList===void 0){j.__webglCustomAttributesList=[]}for(var k in n.attributes){var l=n.attributes[k];if(!l.__webglInitialized||l.createUniqueBuffers){l.__webglInitialized=!0;var m=1;l.type==="v2"?m=2:l.type==="v3"?m=3:l.type==="v4"?m=4:l.type==="c"&&(m=3);l.size=m;l.array=new Float32Array(o*m);l.buffer=aw.createBuffer();l.buffer.belongsToAttribute=k;l.needsUpdate=!0}j.__webglCustomAttributesList.push(l)}}}function aG(d,c){if(d.material&&!(d.material instanceof THREE.MeshFaceMaterial)){return d.material}else{if(c.materialIndex>=0){return d.geometry.materials[c.materialIndex]}}}function aD(b){if(b instanceof THREE.MeshBasicMaterial&&!b.envMap||b instanceof THREE.MeshDepthMaterial){return !1}return b&&b.shading!==void 0&&b.shading===THREE.SmoothShading?THREE.SmoothShading:THREE.FlatShading}function aA(b){if(b.vertexColors){return b.vertexColors}return !1}function aB(b){if(b.map||b.lightMap||b instanceof THREE.ShaderMaterial){return !0}return !1}function aC(H,G,F){var B,x,y,A,w=H.vertices;A=w.length;var v=H.colors,s=v.length,u=H.__vertexArray,r=H.__colorArray,t=H.__sortArray,q=H.__dirtyVertices,j=H.__dirtyColors,E=H.__webglCustomAttributesList;if(F.sortParticles){aW.multiplySelf(F.matrixWorld);for(B=0;B<A;B++){x=w[B].position,bg.copy(x),aW.multiplyVector3(bg),t[B]=[bg.z,B]}t.sort(function(d,c){return c[0]-d[0]});for(B=0;B<A;B++){x=w[t[B][1]].position,y=B*3,u[y]=x.x,u[y+1]=x.y,u[y+2]=x.z}for(B=0;B<s;B++){y=B*3,x=v[t[B][1]],r[y]=x.r,r[y+1]=x.g,r[y+2]=x.b}if(E){v=0;for(s=E.length;v<s;v++){if(w=E[v],w.boundTo===void 0||w.boundTo==="vertices"){if(y=0,x=w.value.length,w.size===1){for(B=0;B<x;B++){A=t[B][1],w.array[B]=w.value[A]}}else{if(w.size===2){for(B=0;B<x;B++){A=t[B][1],A=w.value[A],w.array[y]=A.x,w.array[y+1]=A.y,y+=2}}else{if(w.size===3){if(w.type==="c"){for(B=0;B<x;B++){A=t[B][1],A=w.value[A],w.array[y]=A.r,w.array[y+1]=A.g,w.array[y+2]=A.b,y+=3}}else{for(B=0;B<x;B++){A=t[B][1],A=w.value[A],w.array[y]=A.x,w.array[y+1]=A.y,w.array[y+2]=A.z,y+=3}}}else{if(w.size===4){for(B=0;B<x;B++){A=t[B][1],A=w.value[A],w.array[y]=A.x,w.array[y+1]=A.y,w.array[y+2]=A.z,w.array[y+3]=A.w,y+=4}}}}}}}}}else{if(q){for(B=0;B<A;B++){x=w[B].position,y=B*3,u[y]=x.x,u[y+1]=x.y,u[y+2]=x.z}}if(j){for(B=0;B<s;B++){x=v[B],y=B*3,r[y]=x.r,r[y+1]=x.g,r[y+2]=x.b}}if(E){v=0;for(s=E.length;v<s;v++){if(w=E[v],w.needsUpdate&&(w.boundTo===void 0||w.boundTo==="vertices")){if(x=w.value.length,y=0,w.size===1){for(B=0;B<x;B++){w.array[B]=w.value[B]}}else{if(w.size===2){for(B=0;B<x;B++){A=w.value[B],w.array[y]=A.x,w.array[y+1]=A.y,y+=2}}else{if(w.size===3){if(w.type==="c"){for(B=0;B<x;B++){A=w.value[B],w.array[y]=A.r,w.array[y+1]=A.g,w.array[y+2]=A.b,y+=3}}else{for(B=0;B<x;B++){A=w.value[B],w.array[y]=A.x,w.array[y+1]=A.y,w.array[y+2]=A.z,y+=3}}}else{if(w.size===4){for(B=0;B<x;B++){A=w.value[B],w.array[y]=A.x,w.array[y+1]=A.y,w.array[y+2]=A.z,w.array[y+3]=A.w,y+=4}}}}}}}}}if(q||F.sortParticles){aw.bindBuffer(aw.ARRAY_BUFFER,H.__webglVertexBuffer),aw.bufferData(aw.ARRAY_BUFFER,u,G)}if(j||F.sortParticles){aw.bindBuffer(aw.ARRAY_BUFFER,H.__webglColorBuffer),aw.bufferData(aw.ARRAY_BUFFER,r,G)}if(E){v=0;for(s=E.length;v<s;v++){if(w=E[v],w.needsUpdate||F.sortParticles){aw.bindBuffer(aw.ARRAY_BUFFER,w.buffer),aw.bufferData(aw.ARRAY_BUFFER,w.array,G)}}}}function ay(E,B,A){if(!E.__webglVertexBuffer){E.__webglVertexBuffer=aw.createBuffer()}if(!E.__webglNormalBuffer){E.__webglNormalBuffer=aw.createBuffer()}E.hasPos&&(aw.bindBuffer(aw.ARRAY_BUFFER,E.__webglVertexBuffer),aw.bufferData(aw.ARRAY_BUFFER,E.positionArray,aw.DYNAMIC_DRAW),aw.enableVertexAttribArray(B.attributes.position),aw.vertexAttribPointer(B.attributes.position,3,aw.FLOAT,!1,0,0));if(E.hasNormal){aw.bindBuffer(aw.ARRAY_BUFFER,E.__webglNormalBuffer);if(A===THREE.FlatShading){var y,v,w,x,u,t,q,s,p,r,j=E.count*3;for(r=0;r<j;r+=9){A=E.normalArray,y=A[r],v=A[r+1],w=A[r+2],x=A[r+3],t=A[r+4],s=A[r+5],u=A[r+6],q=A[r+7],p=A[r+8],y=(y+x+u)/3,v=(v+t+q)/3,w=(w+s+p)/3,A[r]=y,A[r+1]=v,A[r+2]=w,A[r+3]=y,A[r+4]=v,A[r+5]=w,A[r+6]=y,A[r+7]=v,A[r+8]=w}}aw.bufferData(aw.ARRAY_BUFFER,E.normalArray,aw.DYNAMIC_DRAW);aw.enableVertexAttribArray(B.attributes.normal);aw.vertexAttribPointer(B.attributes.normal,3,aw.FLOAT,!1,0,0)}aw.drawArrays(aw.TRIANGLES,0,E.count);E.count=0}function ax(A,y,x,w,t,u){if(w.opacity!==0){var v,s,x=aj(A,y,x,w,u),y=x.attributes,A=!1,x=t.id*16777215+x.id*2+(w.wireframe?1:0);x!==bh&&(bh=x,A=!0);if(!w.morphTargets&&y.position>=0){A&&(aw.bindBuffer(aw.ARRAY_BUFFER,t.__webglVertexBuffer),aw.vertexAttribPointer(y.position,3,aw.FLOAT,!1,0,0))}else{if(u.morphTargetBase){x=w.program.attributes;u.morphTargetBase!==-1?(aw.bindBuffer(aw.ARRAY_BUFFER,t.__webglMorphTargetsBuffers[u.morphTargetBase]),aw.vertexAttribPointer(x.position,3,aw.FLOAT,!1,0,0)):x.position>=0&&(aw.bindBuffer(aw.ARRAY_BUFFER,t.__webglVertexBuffer),aw.vertexAttribPointer(x.position,3,aw.FLOAT,!1,0,0));if(u.morphTargetForcedOrder.length){v=0;var r=u.morphTargetForcedOrder;for(s=u.morphTargetInfluences;v<w.numSupportedMorphTargets&&v<r.length;){aw.bindBuffer(aw.ARRAY_BUFFER,t.__webglMorphTargetsBuffers[r[v]]),aw.vertexAttribPointer(x["morphTarget"+v],3,aw.FLOAT,!1,0,0),u.__webglMorphTargetInfluences[v]=s[r[v]],v++}}else{var r=[],o=-1,p=0;s=u.morphTargetInfluences;var q,j=s.length;v=0;for(u.morphTargetBase!==-1&&(r[u.morphTargetBase]=!0);v<w.numSupportedMorphTargets;){for(q=0;q<j;q++){!r[q]&&s[q]>o&&(p=q,o=s[p])}aw.bindBuffer(aw.ARRAY_BUFFER,t.__webglMorphTargetsBuffers[p]);aw.vertexAttribPointer(x["morphTarget"+v],3,aw.FLOAT,!1,0,0);u.__webglMorphTargetInfluences[v]=o;r[p]=1;o=-1;v++}}w.program.uniforms.morphTargetInfluences!==null&&aw.uniform1fv(w.program.uniforms.morphTargetInfluences,u.__webglMorphTargetInfluences)}}if(A){if(t.__webglCustomAttributesList){v=0;for(s=t.__webglCustomAttributesList.length;v<s;v++){x=t.__webglCustomAttributesList[v],y[x.buffer.belongsToAttribute]>=0&&(aw.bindBuffer(aw.ARRAY_BUFFER,x.buffer),aw.vertexAttribPointer(y[x.buffer.belongsToAttribute],x.size,aw.FLOAT,!1,0,0))}}y.color>=0&&(aw.bindBuffer(aw.ARRAY_BUFFER,t.__webglColorBuffer),aw.vertexAttribPointer(y.color,3,aw.FLOAT,!1,0,0));y.normal>=0&&(aw.bindBuffer(aw.ARRAY_BUFFER,t.__webglNormalBuffer),aw.vertexAttribPointer(y.normal,3,aw.FLOAT,!1,0,0));y.tangent>=0&&(aw.bindBuffer(aw.ARRAY_BUFFER,t.__webglTangentBuffer),aw.vertexAttribPointer(y.tangent,4,aw.FLOAT,!1,0,0));y.uv>=0&&(t.__webglUVBuffer?(aw.bindBuffer(aw.ARRAY_BUFFER,t.__webglUVBuffer),aw.vertexAttribPointer(y.uv,2,aw.FLOAT,!1,0,0),aw.enableVertexAttribArray(y.uv)):aw.disableVertexAttribArray(y.uv));y.uv2>=0&&(t.__webglUV2Buffer?(aw.bindBuffer(aw.ARRAY_BUFFER,t.__webglUV2Buffer),aw.vertexAttribPointer(y.uv2,2,aw.FLOAT,!1,0,0),aw.enableVertexAttribArray(y.uv2)):aw.disableVertexAttribArray(y.uv2));w.skinning&&y.skinVertexA>=0&&y.skinVertexB>=0&&y.skinIndex>=0&&y.skinWeight>=0&&(aw.bindBuffer(aw.ARRAY_BUFFER,t.__webglSkinVertexABuffer),aw.vertexAttribPointer(y.skinVertexA,4,aw.FLOAT,!1,0,0),aw.bindBuffer(aw.ARRAY_BUFFER,t.__webglSkinVertexBBuffer),aw.vertexAttribPointer(y.skinVertexB,4,aw.FLOAT,!1,0,0),aw.bindBuffer(aw.ARRAY_BUFFER,t.__webglSkinIndicesBuffer),aw.vertexAttribPointer(y.skinIndex,4,aw.FLOAT,!1,0,0),aw.bindBuffer(aw.ARRAY_BUFFER,t.__webglSkinWeightsBuffer),aw.vertexAttribPointer(y.skinWeight,4,aw.FLOAT,!1,0,0))}u instanceof THREE.Mesh?(w.wireframe?(w=w.wireframeLinewidth,w!==bf&&(aw.lineWidth(w),bf=w),A&&aw.bindBuffer(aw.ELEMENT_ARRAY_BUFFER,t.__webglLineBuffer),aw.drawElements(aw.LINES,t.__webglLineCount,aw.UNSIGNED_SHORT,0)):(A&&aw.bindBuffer(aw.ELEMENT_ARRAY_BUFFER,t.__webglFaceBuffer),aw.drawElements(aw.TRIANGLES,t.__webglFaceCount,aw.UNSIGNED_SHORT,0)),aM.info.render.calls++,aM.info.render.vertices+=t.__webglFaceCount,aM.info.render.faces+=t.__webglFaceCount/3):u instanceof THREE.Line?(u=u.type===THREE.LineStrip?aw.LINE_STRIP:aw.LINES,w=w.linewidth,w!==bf&&(aw.lineWidth(w),bf=w),aw.drawArrays(u,0,t.__webglLineCount),aM.info.render.calls++):u instanceof THREE.ParticleSystem?(aw.drawArrays(aw.POINTS,0,t.__webglParticleCount),aM.info.render.calls++):u instanceof THREE.Ribbon&&(aw.drawArrays(aw.TRIANGLE_STRIP,0,t.__webglVertexCount),aM.info.render.calls++)}}function au(d){a1[0].set(d.n41-d.n11,d.n42-d.n12,d.n43-d.n13,d.n44-d.n14);a1[1].set(d.n41+d.n11,d.n42+d.n12,d.n43+d.n13,d.n44+d.n14);a1[2].set(d.n41+d.n21,d.n42+d.n22,d.n43+d.n23,d.n44+d.n24);a1[3].set(d.n41-d.n21,d.n42-d.n22,d.n43-d.n23,d.n44-d.n24);a1[4].set(d.n41-d.n31,d.n42-d.n32,d.n43-d.n33,d.n44-d.n34);a1[5].set(d.n41+d.n31,d.n42+d.n32,d.n43+d.n33,d.n44+d.n34);for(var c,d=0;d<6;d++){c=a1[d],c.divideScalar(Math.sqrt(c.x*c.x+c.y*c.y+c.z*c.z))}}function av(f){for(var e=f.matrixWorld,h=-f.geometry.boundingSphere.radius*Math.max(f.scale.x,Math.max(f.scale.y,f.scale.z)),g=0;g<6;g++){if(f=a1[g].x*e.n14+a1[g].y*e.n24+a1[g].z*e.n34+a1[g].w,f<=h){return !1}}return !0}function ap(d,c){return c.z-d.z}function ao(w){var v,u,t,q,r,s,l,k,j=0,h=w.lights;aK||(aK=new THREE.PerspectiveCamera(aM.shadowCameraFov,aM.shadowMapWidth/aM.shadowMapHeight,aM.shadowCameraNear,aM.shadowCameraFar));v=0;for(u=h.length;v<u;v++){if(k=h[v],k.castShadow&&k instanceof THREE.SpotLight){be=-1;aM.shadowMap[j]||(aM.shadowMap[j]=new THREE.WebGLRenderTarget(aM.shadowMapWidth,aM.shadowMapHeight,{minFilter:THREE.LinearFilter,magFilter:THREE.LinearFilter,format:THREE.RGBAFormat}),z[j]=new THREE.Matrix4);t=aM.shadowMap[j];q=z[j];aK.position.copy(k.position);aK.lookAt(k.target.position);aK.parent==null&&(console.warn("Camera is not on the Scene. Adding it..."),w.add(aK),this.autoUpdateScene&&w.updateMatrixWorld());aK.matrixWorldInverse.getInverse(aK.matrixWorld);q.set(0.5,0,0,0.5,0,0.5,0,0.5,0,0,0.5,0.5,0,0,0,1);q.multiplySelf(aK.projectionMatrix);q.multiplySelf(aK.matrixWorldInverse);aK.matrixWorldInverse.flattenToArray(bl);aK.projectionMatrix.flattenToArray(ar);aW.multiply(aK.projectionMatrix,aK.matrixWorldInverse);au(aW);aO(t);aw.clearColor(1,1,1,1);aM.clear();aw.clearColor(aX.r,aX.g,aX.b,aQ);q=w.__webglObjects.length;for(t=0;t<q;t++){if(s=w.__webglObjects[t],k=s.object,s.render=!1,k.visible&&k.castShadow&&(!(k instanceof THREE.Mesh)||!k.frustumCulled||av(k))){k.matrixWorld.flattenToArray(k._objectMatrixArray),a8(k,aK,!1),s.render=!0}}a9(!0);ai(THREE.NormalBlending);for(t=0;t<q;t++){if(s=w.__webglObjects[t],s.render){k=s.object,s=s.buffer,a5(k),l=k.customDepthMaterial?k.customDepthMaterial:k.geometry.morphTargets.length?bb:ae,ax(aK,h,null,l,s,k)}}q=w.__webglObjectsImmediate.length;for(t=0;t<q;t++){s=w.__webglObjectsImmediate[t],k=s.object,k.visible&&k.castShadow&&(k.matrixAutoUpdate&&k.matrixWorld.flattenToArray(k._objectMatrixArray),bh=-1,a8(k,aK,!1),a5(k),r=aj(aK,h,null,ae,k),k.immediateRenderCallback?k.immediateRenderCallback(r,aw,a1):k.render(function(b){ay(b,r,ae.shading)}))}j++}}}function at(B,A,y,x,u,v,w,t){var s,p,o,q;A?(p=B.length-1,q=A=-1):(p=0,A=B.length,q=1);for(var r=p;r!==A;r+=q){if(s=B[r],s.render){p=s.object;o=s.buffer;if(t){s=t}else{s=s[y];if(!s){continue}w&&ai(s.blending);a9(s.depthTest);ag(s.depthWrite);af(s.polygonOffset,s.polygonOffsetFactor,s.polygonOffsetUnits)}a5(p);ax(x,u,v,s,o,p)}}}function am(A,y,x,w,t,u,v){for(var s,p,j,q,r=0,h=A.length;r<h;r++){if(s=A[r],p=s.object,p.visible){bh=-1;if(v){j=v}else{j=s[y];if(!j){continue}u&&ai(j.blending);a9(j.depthTest);ag(j.depthWrite);af(j.polygonOffset,j.polygonOffsetFactor,j.polygonOffsetUnits)}a5(p);q=aj(x,w,t,j,p);p.immediateRenderCallback?p.immediateRenderCallback(q,aw,a1):p.render(function(b){ay(b,q,j.shading)})}}}function aq(e,d,f){e.push({buffer:d,object:f,opaque:null,transparent:null})}function an(d){for(var c in d.attributes){if(d.attributes[c].needsUpdate){return !0}}return !1}function ak(d){for(var c in d.attributes){d.attributes[c].needsUpdate=!1}}function ah(e,d){for(var f=e.length-1;f>=0;f--){e[f].object===d&&e.splice(f,1)}}function aj(Y,X,W,V,S){V.program||aM.initMaterial(V,X,W,S);if(V.morphTargets&&!S.__webglMorphTargetInfluences){S.__webglMorphTargetInfluences=new Float32Array(aM.maxMorphTargets);for(var T=0,U=aM.maxMorphTargets;T<U;T++){S.__webglMorphTargetInfluences[T]=0}}var R=!1,T=V.program,U=T.uniforms,P=V.uniforms;T!==aN&&(aw.useProgram(T),aN=T,R=!0);if(V.id!==be){be=V.id,R=!0}if(R){aw.uniformMatrix4fv(U.projectionMatrix,!1,ar);if(W&&V.fog){if(P.fogColor.value=W.color,W instanceof THREE.Fog){P.fogNear.value=W.near,P.fogFar.value=W.far}else{if(W instanceof THREE.FogExp2){P.fogDensity.value=W.density}}}if(V instanceof THREE.MeshPhongMaterial||V instanceof THREE.MeshLambertMaterial||V.lights){for(var M,K,N=0,O=0,I=0,H,x,G,F=bj,E=F.directional.colors,s=F.directional.positions,j=F.point.colors,A=F.point.positions,B=F.point.distances,y=0,v=0,W=M=G=0,R=X.length;W<R;W++){if(M=X[W],K=M.color,H=M.position,x=M.intensity,G=M.distance,M instanceof THREE.AmbientLight){aM.gammaInput?(N+=K.r*K.r,O+=K.g*K.g,I+=K.b*K.b):(N+=K.r,O+=K.g,I+=K.b)}else{if(M instanceof THREE.DirectionalLight){G=y*3,aM.gammaInput?(E[G]=K.r*K.r*x*x,E[G+1]=K.g*K.g*x*x,E[G+2]=K.b*K.b*x*x):(E[G]=K.r*x,E[G+1]=K.g*x,E[G+2]=K.b*x),s[G]=H.x,s[G+1]=H.y,s[G+2]=H.z,y+=1}else{if(M instanceof THREE.SpotLight){G=y*3,aM.gammaInput?(E[G]=K.r*K.r*x*x,E[G+1]=K.g*K.g*x*x,E[G+2]=K.b*K.b*x*x):(E[G]=K.r*x,E[G+1]=K.g*x,E[G+2]=K.b*x),K=1/H.length(),s[G]=H.x*K,s[G+1]=H.y*K,s[G+2]=H.z*K,y+=1}else{if(M instanceof THREE.PointLight){M=v*3,aM.gammaInput?(j[M]=K.r*K.r*x*x,j[M+1]=K.g*K.g*x*x,j[M+2]=K.b*K.b*x*x):(j[M]=K.r*x,j[M+1]=K.g*x,j[M+2]=K.b*x),A[M]=H.x,A[M+1]=H.y,A[M+2]=H.z,B[v]=G,v+=1}}}}}W=y*3;for(R=E.length;W<R;W++){E[W]=0}W=v*3;for(R=j.length;W<R;W++){j[W]=0}F.point.length=v;F.directional.length=y;F.ambient[0]=N;F.ambient[1]=O;F.ambient[2]=I;X=bj;P.ambientLightColor.value=X.ambient;P.directionalLightColor.value=X.directional.colors;P.directionalLightDirection.value=X.directional.positions;P.pointLightColor.value=X.point.colors;P.pointLightPosition.value=X.point.positions;P.pointLightDistance.value=X.point.distances}if(V instanceof THREE.MeshBasicMaterial||V instanceof THREE.MeshLambertMaterial||V instanceof THREE.MeshPhongMaterial){P.opacity.value=V.opacity,aM.gammaInput?P.diffuse.value.copyGammaToLinear(V.color):P.diffuse.value=V.color,(P.map.texture=V.map)&&P.offsetRepeat.value.set(V.map.offset.x,V.map.offset.y,V.map.repeat.x,V.map.repeat.y),P.lightMap.texture=V.lightMap,P.envMap.texture=V.envMap,P.flipEnvMap.value=V.envMap instanceof THREE.WebGLRenderTargetCube?1:-1,P.reflectivity.value=V.reflectivity,P.refractionRatio.value=V.refractionRatio,P.combine.value=V.combine,P.useRefract.value=V.envMap&&V.envMap.mapping instanceof THREE.CubeRefractionMapping}if(V instanceof THREE.LineBasicMaterial){P.diffuse.value=V.color,P.opacity.value=V.opacity}else{if(V instanceof THREE.ParticleBasicMaterial){P.psColor.value=V.color,P.opacity.value=V.opacity,P.size.value=V.size,P.scale.value=aV.height/2,P.map.texture=V.map}else{if(V instanceof THREE.MeshPhongMaterial){P.shininess.value=V.shininess,aM.gammaInput?(P.ambient.value.copyGammaToLinear(V.ambient),P.specular.value.copyGammaToLinear(V.specular)):(P.ambient.value=V.ambient,P.specular.value=V.specular)}else{if(V instanceof THREE.MeshLambertMaterial){aM.gammaInput?P.ambient.value.copyGammaToLinear(V.ambient):P.ambient.value=V.ambient}else{if(V instanceof THREE.MeshDepthMaterial){P.mNear.value=Y.near,P.mFar.value=Y.far,P.opacity.value=V.opacity}else{if(V instanceof THREE.MeshNormalMaterial){P.opacity.value=V.opacity}}}}}}if(S.receiveShadow&&!V._shadowPass&&P.shadowMatrix){for(X=0;X<z.length;X++){P.shadowMatrix.value[X]=z[X],P.shadowMap.texture[X]=aM.shadowMap[X]}P.shadowDarkness.value=aM.shadowMapDarkness;P.shadowBias.value=aM.shadowMapBias}X=V.uniformsList;P=0;for(W=X.length;P<W;P++){if(O=T.uniforms[X[P][1]]){if(N=X[P][0],I=N.type,R=N.value,I==="i"){aw.uniform1i(O,R)}else{if(I==="f"){aw.uniform1f(O,R)}else{if(I==="v2"){aw.uniform2f(O,R.x,R.y)}else{if(I==="v3"){aw.uniform3f(O,R.x,R.y,R.z)}else{if(I==="v4"){aw.uniform4f(O,R.x,R.y,R.z,R.w)}else{if(I==="c"){aw.uniform3f(O,R.r,R.g,R.b)}else{if(I==="fv1"){aw.uniform1fv(O,R)}else{if(I==="fv"){aw.uniform3fv(O,R)}else{if(I==="v3v"){if(!N._array){N._array=new Float32Array(3*R.length)}I=0;for(H=R.length;I<H;I++){F=I*3,N._array[F]=R[I].x,N._array[F+1]=R[I].y,N._array[F+2]=R[I].z}aw.uniform3fv(O,N._array)}else{if(I==="m4"){if(!N._array){N._array=new Float32Array(16)}R.flattenToArray(N._array);aw.uniformMatrix4fv(O,!1,N._array)}else{if(I==="m4v"){if(!N._array){N._array=new Float32Array(16*R.length)}I=0;for(H=R.length;I<H;I++){R[I].flattenToArrayOffset(N._array,I*16)}aw.uniformMatrix4fv(O,!1,N._array)}else{if(I==="t"){if(aw.uniform1i(O,R),O=N.texture){if(O.image instanceof Array&&O.image.length===6){if(N=O,N.image.length===6){if(N.needsUpdate){if(!N.image.__webglTextureCube){N.image.__webglTextureCube=aw.createTexture()}aw.activeTexture(aw.TEXTURE0+R);aw.bindTexture(aw.TEXTURE_CUBE_MAP,N.image.__webglTextureCube);R=al(aw.TEXTURE_CUBE_MAP,N,N.image[0]);for(O=0;O<6;O++){aw.texImage2D(aw.TEXTURE_CUBE_MAP_POSITIVE_X+O,0,aw.RGBA,aw.RGBA,aw.UNSIGNED_BYTE,N.image[O])}R&&aw.generateMipmap(aw.TEXTURE_CUBE_MAP);N.needsUpdate=!1}else{aw.activeTexture(aw.TEXTURE0+R),aw.bindTexture(aw.TEXTURE_CUBE_MAP,N.image.__webglTextureCube)}}}else{O instanceof THREE.WebGLRenderTargetCube?(N=O,aw.activeTexture(aw.TEXTURE0+R),aw.bindTexture(aw.TEXTURE_CUBE_MAP,N.__webglTexture)):a6(O,R)}}}else{if(I==="tv"){if(!N._array){N._array=[];I=0;for(H=N.texture.length;I<H;I++){N._array[I]=R+I}}aw.uniform1iv(O,N._array);I=0;for(H=N.texture.length;I<H;I++){(O=N.texture[I])&&a6(O,N._array[I])}}}}}}}}}}}}}}}}(V instanceof THREE.ShaderMaterial||V instanceof THREE.MeshPhongMaterial||V.envMap)&&U.cameraPosition!==null&&aw.uniform3f(U.cameraPosition,Y.position.x,Y.position.y,Y.position.z);(V instanceof THREE.MeshPhongMaterial||V instanceof THREE.MeshLambertMaterial||V instanceof THREE.ShaderMaterial||V.skinning)&&U.viewMatrix!==null&&aw.uniformMatrix4fv(U.viewMatrix,!1,bl);V.skinning&&(aw.uniformMatrix4fv(U.cameraInverseMatrix,!1,bl),aw.uniformMatrix4fv(U.boneGlobalMatrices,!1,S.boneMatrices))}aw.uniformMatrix4fv(U.modelViewMatrix,!1,S._modelViewMatrixArray);U.normalMatrix&&aw.uniformMatrix3fv(U.normalMatrix,!1,S._normalMatrixArray);(V instanceof THREE.ShaderMaterial||V.envMap||V.skinning||S.receiveShadow)&&U.objectMatrix!==null&&aw.uniformMatrix4fv(U.objectMatrix,!1,S._objectMatrixArray);return T}function a8(e,d,f){e._modelViewMatrix.multiplyToArray(d.matrixWorldInverse,e.matrixWorld,e._modelViewMatrixArray);f&&THREE.Matrix4.makeInvert3x3(e._modelViewMatrix).transposeIntoArray(e._normalMatrixArray)}function a5(b){if(bm!==b.doubleSided){b.doubleSided?aw.disable(aw.CULL_FACE):aw.enable(aw.CULL_FACE),bm=b.doubleSided}if(D!==b.flipSided){b.flipSided?aw.frontFace(aw.CW):aw.frontFace(aw.CCW),D=b.flipSided}}function a9(b){aE!==b&&(b?aw.enable(aw.DEPTH_TEST):aw.disable(aw.DEPTH_TEST),aE=b)}function ag(b){ad!==b&&(aw.depthMask(b),ad=b)}function af(e,d,f){az!==e&&(e?aw.enable(aw.POLYGON_OFFSET_FILL):aw.disable(aw.POLYGON_OFFSET_FILL),az=e);if(e&&(bc!==d||bk!==f)){aw.polygonOffset(d,f),bc=d,bk=f}}function ai(b){if(b!==a7){switch(b){case THREE.AdditiveBlending:aw.blendEquation(aw.FUNC_ADD);aw.blendFunc(aw.SRC_ALPHA,aw.ONE);break;case THREE.SubtractiveBlending:aw.blendEquation(aw.FUNC_ADD);aw.blendFunc(aw.ZERO,aw.ONE_MINUS_SRC_COLOR);break;case THREE.MultiplyBlending:aw.blendEquation(aw.FUNC_ADD);aw.blendFunc(aw.ZERO,aw.SRC_COLOR);break;default:aw.blendEquationSeparate(aw.FUNC_ADD,aw.FUNC_ADD),aw.blendFuncSeparate(aw.SRC_ALPHA,aw.ONE_MINUS_SRC_ALPHA,aw.ONE,aw.ONE_MINUS_SRC_ALPHA)}a7=b}}function a0(e,d){var f;e==="fragment"?f=aw.createShader(aw.FRAGMENT_SHADER):e==="vertex"&&(f=aw.createShader(aw.VERTEX_SHADER));aw.shaderSource(f,d);aw.compileShader(f);if(!aw.getShaderParameter(f,aw.COMPILE_STATUS)){return console.error(aw.getShaderInfoLog(f)),console.error(d),null}return f}function al(e,d,f){return(f.width&f.width-1)===0&&(f.height&f.height-1)===0?(aw.texParameteri(e,aw.TEXTURE_WRAP_S,aT(d.wrapS)),aw.texParameteri(e,aw.TEXTURE_WRAP_T,aT(d.wrapT)),aw.texParameteri(e,aw.TEXTURE_MAG_FILTER,aT(d.magFilter)),aw.texParameteri(e,aw.TEXTURE_MIN_FILTER,aT(d.minFilter)),!0):(aw.texParameteri(e,aw.TEXTURE_WRAP_S,aw.CLAMP_TO_EDGE),aw.texParameteri(e,aw.TEXTURE_WRAP_T,aw.CLAMP_TO_EDGE),aw.texParameteri(e,aw.TEXTURE_MAG_FILTER,aZ(d.magFilter)),aw.texParameteri(e,aw.TEXTURE_MIN_FILTER,aZ(d.minFilter)),!1)}function a6(e,d){if(e.needsUpdate){if(!e.__webglInit){e.__webglInit=!0,e.__webglTexture=aw.createTexture(),aM.info.memory.textures++}aw.activeTexture(aw.TEXTURE0+d);aw.bindTexture(aw.TEXTURE_2D,e.__webglTexture);var f=al(aw.TEXTURE_2D,e,e.image);e instanceof THREE.DataTexture?aw.texImage2D(aw.TEXTURE_2D,0,aT(e.format),e.image.width,e.image.height,0,aT(e.format),aw.UNSIGNED_BYTE,e.image.data):aw.texImage2D(aw.TEXTURE_2D,0,aw.RGBA,aw.RGBA,aw.UNSIGNED_BYTE,e.image);f&&aw.generateMipmap(aw.TEXTURE_2D);e.needsUpdate=!1;if(e.onUpdated){e.onUpdated()}}else{aw.activeTexture(aw.TEXTURE0+d),aw.bindTexture(aw.TEXTURE_2D,e.__webglTexture)}}function aR(d,c){aw.bindRenderbuffer(aw.RENDERBUFFER,d);c.depthBuffer&&!c.stencilBuffer?(aw.renderbufferStorage(aw.RENDERBUFFER,aw.DEPTH_COMPONENT16,c.width,c.height),aw.framebufferRenderbuffer(aw.FRAMEBUFFER,aw.DEPTH_ATTACHMENT,aw.RENDERBUFFER,d)):c.depthBuffer&&c.stencilBuffer?(aw.renderbufferStorage(aw.RENDERBUFFER,aw.DEPTH_STENCIL,c.width,c.height),aw.framebufferRenderbuffer(aw.FRAMEBUFFER,aw.DEPTH_STENCIL_ATTACHMENT,aw.RENDERBUFFER,d)):aw.renderbufferStorage(aw.RENDERBUFFER,aw.RGBA4,c.width,c.height)}function aO(f){var e=f instanceof THREE.WebGLRenderTargetCube;if(f&&!f.__webglFramebuffer){if(f.depthBuffer===void 0){f.depthBuffer=!0}if(f.stencilBuffer===void 0){f.stencilBuffer=!0}f.__webglTexture=aw.createTexture();if(e){f.__webglFramebuffer=[];f.__webglRenderbuffer=[];aw.bindTexture(aw.TEXTURE_CUBE_MAP,f.__webglTexture);al(aw.TEXTURE_CUBE_MAP,f,f);for(var k=0;k<6;k++){f.__webglFramebuffer[k]=aw.createFramebuffer();f.__webglRenderbuffer[k]=aw.createRenderbuffer();aw.texImage2D(aw.TEXTURE_CUBE_MAP_POSITIVE_X+k,0,aT(f.format),f.width,f.height,0,aT(f.format),aT(f.type),null);var j=f,h=aw.TEXTURE_CUBE_MAP_POSITIVE_X+k;aw.bindFramebuffer(aw.FRAMEBUFFER,f.__webglFramebuffer[k]);aw.framebufferTexture2D(aw.FRAMEBUFFER,aw.COLOR_ATTACHMENT0,h,j.__webglTexture,0);aR(f.__webglRenderbuffer[k],f)}}else{f.__webglFramebuffer=aw.createFramebuffer(),f.__webglRenderbuffer=aw.createRenderbuffer(),aw.bindTexture(aw.TEXTURE_2D,f.__webglTexture),al(aw.TEXTURE_2D,f,f),aw.texImage2D(aw.TEXTURE_2D,0,aT(f.format),f.width,f.height,0,aT(f.format),aT(f.type),null),k=aw.TEXTURE_2D,aw.bindFramebuffer(aw.FRAMEBUFFER,f.__webglFramebuffer),aw.framebufferTexture2D(aw.FRAMEBUFFER,aw.COLOR_ATTACHMENT0,k,f.__webglTexture,0),aR(f.__webglRenderbuffer,f)}e?aw.bindTexture(aw.TEXTURE_CUBE_MAP,null):aw.bindTexture(aw.TEXTURE_2D,null);aw.bindRenderbuffer(aw.RENDERBUFFER,null);aw.bindFramebuffer(aw.FRAMEBUFFER,null)}f?(e=e?f.__webglFramebuffer[f.activeCubeFace]:f.__webglFramebuffer,k=f.width,f=f.height,h=j=0):(e=null,k=aS,f=C,j=aY,h=aJ);e!==ac&&(aw.bindFramebuffer(aw.FRAMEBUFFER,e),aw.viewport(j,h,k,f),ac=e)}function aZ(b){switch(b){case THREE.NearestFilter:case THREE.NearestMipMapNearestFilter:case THREE.NearestMipMapLinearFilter:return aw.NEAREST;default:return aw.LINEAR}}function aT(b){switch(b){case THREE.RepeatWrapping:return aw.REPEAT;case THREE.ClampToEdgeWrapping:return aw.CLAMP_TO_EDGE;case THREE.MirroredRepeatWrapping:return aw.MIRRORED_REPEAT;case THREE.NearestFilter:return aw.NEAREST;case THREE.NearestMipMapNearestFilter:return aw.NEAREST_MIPMAP_NEAREST;case THREE.NearestMipMapLinearFilter:return aw.NEAREST_MIPMAP_LINEAR;case THREE.LinearFilter:return aw.LINEAR;case THREE.LinearMipMapNearestFilter:return aw.LINEAR_MIPMAP_NEAREST;case THREE.LinearMipMapLinearFilter:return aw.LINEAR_MIPMAP_LINEAR;case THREE.ByteType:return aw.BYTE;case THREE.UnsignedByteType:return aw.UNSIGNED_BYTE;case THREE.ShortType:return aw.SHORT;case THREE.UnsignedShortType:return aw.UNSIGNED_SHORT;case THREE.IntType:return aw.INT;case THREE.UnsignedShortType:return aw.UNSIGNED_INT;case THREE.FloatType:return aw.FLOAT;case THREE.AlphaFormat:return aw.ALPHA;case THREE.RGBFormat:return aw.RGB;case THREE.RGBAFormat:return aw.RGBA;case THREE.LuminanceFormat:return aw.LUMINANCE;case THREE.LuminanceAlphaFormat:return aw.LUMINANCE_ALPHA}return 0}var aH=aH||{},aV=aH.canvas!==void 0?aH.canvas:document.createElement("canvas"),bd=aH.precision!==void 0?aH.precision:"highp",a3=aH.antialias!==void 0?aH.antialias:!1,a4=aH.stencil!==void 0?aH.stencil:!0,a2=aH.preserveDrawingBuffer!==void 0?aH.preserveDrawingBuffer:!1,aX=aH.clearColor!==void 0?new THREE.Color(aH.clearColor):new THREE.Color(0),aQ=aH.clearAlpha!==void 0?aH.clearAlpha:0,aU=aH.maxLights!==void 0?aH.maxLights:4;this.domElement=aV;this.context=null;this.autoUpdateScene=this.autoUpdateObjects=this.sortObjects=this.autoClearStencil=this.autoClearDepth=this.autoClearColor=this.autoClear=!0;this.physicallyBasedShading=this.gammaOutput=this.gammaInput=!1;this.shadowMapBias=0.0039;this.shadowMapDarkness=0.5;this.shadowMapHeight=this.shadowMapWidth=512;this.shadowCameraNear=1;this.shadowCameraFar=5000;this.shadowCameraFov=50;this.shadowMap=[];this.shadowMapEnabled=!1;this.shadowMapSoft=this.shadowMapAutoUpdate=!0;this.maxMorphTargets=8;this.info={memory:{programs:0,geometries:0,textures:0},render:{calls:0,vertices:0,faces:0}};var aM=this,aw,aL=[],aN=null,ac=null,be=-1,bh=null,aI=0,bm=null,D=null,a7=null,aE=null,ad=null,az=null,bc=null,bk=null,bf=null,aY=0,aJ=0,aS=0,C=0,a1=[new THREE.Vector4,new THREE.Vector4,new THREE.Vector4,new THREE.Vector4,new THREE.Vector4,new THREE.Vector4],aW=new THREE.Matrix4,ar=new Float32Array(16),bl=new Float32Array(16),bg=new THREE.Vector4,bj={ambient:[0,0,0],directional:{length:0,colors:[],positions:[]},point:{length:0,colors:[],positions:[],distances:[]}},aK,z=[],ae,bb,aP={},ab=!1;aw=function(){var d;try{if(!(d=aV.getContext("experimental-webgl",{antialias:a3,stencil:a4,preserveDrawingBuffer:a2}))){throw"Error creating WebGL context."}console.log(navigator.userAgent+" | "+d.getParameter(d.VERSION)+" | "+d.getParameter(d.VENDOR)+" | "+d.getParameter(d.RENDERER)+" | "+d.getParameter(d.SHADING_LANGUAGE_VERSION))}catch(c){console.error(c)}return d}();aw.clearColor(0,0,0,1);aw.clearDepth(1);aw.clearStencil(0);aw.enable(aw.DEPTH_TEST);aw.depthFunc(aw.LEQUAL);aw.frontFace(aw.CCW);aw.cullFace(aw.BACK);aw.enable(aw.CULL_FACE);aw.enable(aw.BLEND);aw.blendEquation(aw.FUNC_ADD);aw.blendFunc(aw.SRC_ALPHA,aw.ONE_MINUS_SRC_ALPHA);aw.clearColor(aX.r,aX.g,aX.b,aQ);(function(){aP.vertices=new Float32Array(16);aP.faces=new Uint16Array(6);var b=0;aP.vertices[b++]=-1;aP.vertices[b++]=-1;aP.vertices[b++]=0;aP.vertices[b++]=1;aP.vertices[b++]=1;aP.vertices[b++]=-1;aP.vertices[b++]=1;aP.vertices[b++]=1;aP.vertices[b++]=1;aP.vertices[b++]=1;aP.vertices[b++]=1;aP.vertices[b++]=0;aP.vertices[b++]=-1;aP.vertices[b++]=1;aP.vertices[b++]=0;b=aP.vertices[b++]=0;aP.faces[b++]=0;aP.faces[b++]=1;aP.faces[b++]=2;aP.faces[b++]=0;aP.faces[b++]=2;aP.faces[b++]=3;aP.vertexBuffer=aw.createBuffer();aP.elementBuffer=aw.createBuffer();aw.bindBuffer(aw.ARRAY_BUFFER,aP.vertexBuffer);aw.bufferData(aw.ARRAY_BUFFER,aP.vertices,aw.STATIC_DRAW);aw.bindBuffer(aw.ELEMENT_ARRAY_BUFFER,aP.elementBuffer);aw.bufferData(aw.ELEMENT_ARRAY_BUFFER,aP.faces,aw.STATIC_DRAW);aP.program=aw.createProgram();aw.attachShader(aP.program,a0("fragment",THREE.ShaderLib.sprite.fragmentShader));aw.attachShader(aP.program,a0("vertex",THREE.ShaderLib.sprite.vertexShader));aw.linkProgram(aP.program);aP.attributes={};aP.uniforms={};aP.attributes.position=aw.getAttribLocation(aP.program,"position");aP.attributes.uv=aw.getAttribLocation(aP.program,"uv");aP.uniforms.uvOffset=aw.getUniformLocation(aP.program,"uvOffset");aP.uniforms.uvScale=aw.getUniformLocation(aP.program,"uvScale");aP.uniforms.rotation=aw.getUniformLocation(aP.program,"rotation");aP.uniforms.scale=aw.getUniformLocation(aP.program,"scale");aP.uniforms.alignment=aw.getUniformLocation(aP.program,"alignment");aP.uniforms.color=aw.getUniformLocation(aP.program,"color");aP.uniforms.map=aw.getUniformLocation(aP.program,"map");aP.uniforms.opacity=aw.getUniformLocation(aP.program,"opacity");aP.uniforms.useScreenCoordinates=aw.getUniformLocation(aP.program,"useScreenCoordinates");aP.uniforms.affectedByDistance=aw.getUniformLocation(aP.program,"affectedByDistance");aP.uniforms.screenPosition=aw.getUniformLocation(aP.program,"screenPosition");aP.uniforms.modelViewMatrix=aw.getUniformLocation(aP.program,"modelViewMatrix");aP.uniforms.projectionMatrix=aw.getUniformLocation(aP.program,"projectionMatrix")})();(function(){var d=THREE.ShaderLib.depthRGBA,c=THREE.UniformsUtils.clone(d.uniforms);ae=new THREE.ShaderMaterial({fragmentShader:d.fragmentShader,vertexShader:d.vertexShader,uniforms:c});bb=new THREE.ShaderMaterial({fragmentShader:d.fragmentShader,vertexShader:d.vertexShader,uniforms:c,morphTargets:!0});ae._shadowPass=!0;bb._shadowPass=!0})();this.context=aw;var bi=aw.getParameter(aw.MAX_VERTEX_TEXTURE_IMAGE_UNITS)>0;this.getContext=function(){return aw};this.supportsVertexTextures=function(){return bi};this.setSize=function(d,c){aV.width=d;aV.height=c;this.setViewport(0,0,aV.width,aV.height)};this.setViewport=function(f,e,h,g){aY=f;aJ=e;aS=h;C=g;aw.viewport(aY,aJ,aS,C)};this.setScissor=function(f,e,h,g){aw.scissor(f,e,h,g)};this.enableScissorTest=function(b){b?aw.enable(aw.SCISSOR_TEST):aw.disable(aw.SCISSOR_TEST)};this.setClearColorHex=function(d,c){aX.setHex(d);aQ=c;aw.clearColor(aX.r,aX.g,aX.b,aQ)};this.setClearColor=function(d,c){aX.copy(d);aQ=c;aw.clearColor(aX.r,aX.g,aX.b,aQ)};this.getClearColor=function(){return aX};this.getClearAlpha=function(){return aQ};this.clear=function(f,e,h){var g=0;if(f===void 0||f){g|=aw.COLOR_BUFFER_BIT}if(e===void 0||e){g|=aw.DEPTH_BUFFER_BIT}if(h===void 0||h){g|=aw.STENCIL_BUFFER_BIT}aw.clear(g)};this.clearTarget=function(f,e,h,g){aO(f);this.clear(e,h,g)};this.deallocateObject=function(f){if(f.__webglInit){if(f.__webglInit=!1,delete f._modelViewMatrix,delete f._normalMatrixArray,delete f._modelViewMatrixArray,delete f._objectMatrixArray,f instanceof THREE.Mesh){for(var e in f.geometry.geometryGroups){var k=f.geometry.geometryGroups[e];aw.deleteBuffer(k.__webglVertexBuffer);aw.deleteBuffer(k.__webglNormalBuffer);aw.deleteBuffer(k.__webglTangentBuffer);aw.deleteBuffer(k.__webglColorBuffer);aw.deleteBuffer(k.__webglUVBuffer);aw.deleteBuffer(k.__webglUV2Buffer);aw.deleteBuffer(k.__webglSkinVertexABuffer);aw.deleteBuffer(k.__webglSkinVertexBBuffer);aw.deleteBuffer(k.__webglSkinIndicesBuffer);aw.deleteBuffer(k.__webglSkinWeightsBuffer);aw.deleteBuffer(k.__webglFaceBuffer);aw.deleteBuffer(k.__webglLineBuffer);if(k.numMorphTargets){for(var j=0,h=k.numMorphTargets;j<h;j++){aw.deleteBuffer(k.__webglMorphTargetsBuffers[j])}}if(k.__webglCustomAttributesList){for(j in j=void 0,k.__webglCustomAttributesList){aw.deleteBuffer(k.__webglCustomAttributesList[j].buffer)}}aM.info.memory.geometries--}}else{if(f instanceof THREE.Ribbon){f=f.geometry,aw.deleteBuffer(f.__webglVertexBuffer),aw.deleteBuffer(f.__webglColorBuffer),aM.info.memory.geometries--}else{if(f instanceof THREE.Line){f=f.geometry,aw.deleteBuffer(f.__webglVertexBuffer),aw.deleteBuffer(f.__webglColorBuffer),aM.info.memory.geometries--}else{if(f instanceof THREE.ParticleSystem){f=f.geometry,aw.deleteBuffer(f.__webglVertexBuffer),aw.deleteBuffer(f.__webglColorBuffer),aM.info.memory.geometries--}}}}}};this.deallocateTexture=function(b){if(b.__webglInit){b.__webglInit=!1,aw.deleteTexture(b.__webglTexture),aM.info.memory.textures--}};this.updateShadowMap=function(d,c){ao(d,c)};this.render=function(y,x,w,u){var p,r,s,o,m=y.lights,l=y.fog;be=-1;this.autoUpdateObjects&&this.initWebGLObjects(y);x.parent===void 0&&(console.warn("DEPRECATED: Camera hasn't been added to a Scene. Adding it..."),y.add(x));this.autoUpdateScene&&y.updateMatrixWorld();this.shadowMapEnabled&&this.shadowMapAutoUpdate&&ao(y,x);aM.info.render.calls=0;aM.info.render.vertices=0;aM.info.render.faces=0;x.matrixWorldInverse.getInverse(x.matrixWorld);x.matrixWorldInverse.flattenToArray(bl);x.projectionMatrix.flattenToArray(ar);aW.multiply(x.projectionMatrix,x.matrixWorldInverse);au(aW);aO(w);(this.autoClear||u)&&this.clear(this.autoClearColor,this.autoClearDepth,this.autoClearStencil);o=y.__webglObjects;u=0;for(p=o.length;u<p;u++){if(r=o[u],s=r.object,r.render=!1,s.visible&&(!(s instanceof THREE.Mesh)||!s.frustumCulled||av(s))){s.matrixWorld.flattenToArray(s._objectMatrixArray);a8(s,x,!0);var v=r,k=v.object,A=v.buffer,j=void 0,j=j=void 0,j=k.material;if(j instanceof THREE.MeshFaceMaterial){if(j=A.materialIndex,j>=0){j=k.geometry.materials[j],j.transparent?(v.transparent=j,v.opaque=null):(v.opaque=j,v.transparent=null)}}else{if(j){j.transparent?(v.transparent=j,v.opaque=null):(v.opaque=j,v.transparent=null)}}r.render=!0;if(this.sortObjects){s.renderDepth?r.z=s.renderDepth:(bg.copy(s.position),aW.multiplyVector3(bg),r.z=bg.z)}}}this.sortObjects&&o.sort(ap);o=y.__webglObjectsImmediate;u=0;for(p=o.length;u<p;u++){if(r=o[u],s=r.object,s.visible){s.matrixAutoUpdate&&s.matrixWorld.flattenToArray(s._objectMatrixArray),a8(s,x,!0),s=r.object.material,s.transparent?(r.transparent=s,r.opaque=null):(r.opaque=s,r.transparent=null)}}y.overrideMaterial?(ai(y.overrideMaterial.blending),a9(y.overrideMaterial.depthTest),ag(y.overrideMaterial.depthWrite),af(y.overrideMaterial.polygonOffset,y.overrideMaterial.polygonOffsetFactor,y.overrideMaterial.polygonOffsetUnits),at(y.__webglObjects,!1,"",x,m,l,!0,y.overrideMaterial),am(y.__webglObjectsImmediate,"",x,m,l,!1,y.overrideMaterial)):(ai(THREE.NormalBlending),at(y.__webglObjects,!0,"opaque",x,m,l,!1),am(y.__webglObjectsImmediate,"opaque",x,m,l,!1),at(y.__webglObjects,!1,"transparent",x,m,l,!0),am(y.__webglObjectsImmediate,"transparent",x,m,l,!0));if(y.__webglSprites.length){s=aP.attributes;m=aP.uniforms;l=C/aS;u=[];p=aS*0.5;o=C*0.5;r=!0;aw.useProgram(aP.program);aN=aP.program;bh=aE=a7=-1;ab||(aw.enableVertexAttribArray(aP.attributes.position),aw.enableVertexAttribArray(aP.attributes.uv),ab=!0);aw.disable(aw.CULL_FACE);aw.enable(aw.BLEND);aw.depthMask(!0);aw.bindBuffer(aw.ARRAY_BUFFER,aP.vertexBuffer);aw.vertexAttribPointer(s.position,2,aw.FLOAT,!1,16,0);aw.vertexAttribPointer(s.uv,2,aw.FLOAT,!1,16,8);aw.bindBuffer(aw.ELEMENT_ARRAY_BUFFER,aP.elementBuffer);aw.uniformMatrix4fv(m.projectionMatrix,!1,ar);aw.activeTexture(aw.TEXTURE0);aw.uniform1i(m.map,0);s=0;for(v=y.__webglSprites.length;s<v;s++){if(k=y.__webglSprites[s],k.visible&&k.opacity!==0){k.useScreenCoordinates?k.z=-k.position.z:(k._modelViewMatrix.multiplyToArray(x.matrixWorldInverse,k.matrixWorld,k._modelViewMatrixArray),k.z=-k._modelViewMatrix.n34)}}y.__webglSprites.sort(ap);s=0;for(v=y.__webglSprites.length;s<v;s++){k=y.__webglSprites[s],k.visible&&k.opacity!==0&&k.map&&k.map.image&&k.map.image.width&&(k.useScreenCoordinates?(aw.uniform1i(m.useScreenCoordinates,1),aw.uniform3f(m.screenPosition,(k.position.x-p)/p,(o-k.position.y)/o,Math.max(0,Math.min(1,k.position.z)))):(aw.uniform1i(m.useScreenCoordinates,0),aw.uniform1i(m.affectedByDistance,k.affectedByDistance?1:0),aw.uniformMatrix4fv(m.modelViewMatrix,!1,k._modelViewMatrixArray)),x=k.map.image.width/(k.scaleByViewport?C:1),u[0]=x*l*k.scale.x,u[1]=x*k.scale.y,aw.uniform2f(m.uvScale,k.uvScale.x,k.uvScale.y),aw.uniform2f(m.uvOffset,k.uvOffset.x,k.uvOffset.y),aw.uniform2f(m.alignment,k.alignment.x,k.alignment.y),aw.uniform1f(m.opacity,k.opacity),aw.uniform3f(m.color,k.color.r,k.color.g,k.color.b),aw.uniform1f(m.rotation,k.rotation),aw.uniform2fv(m.scale,u),k.mergeWith3D&&!r?(aw.enable(aw.DEPTH_TEST),r=!0):!k.mergeWith3D&&r&&(aw.disable(aw.DEPTH_TEST),r=!1),ai(k.blending),a6(k.map,0),aw.drawElements(aw.TRIANGLES,6,aw.UNSIGNED_SHORT,0))}aw.enable(aw.CULL_FACE);aw.enable(aw.DEPTH_TEST);aw.depthMask(ad)}w&&w.minFilter!==THREE.NearestFilter&&w.minFilter!==THREE.LinearFilter&&(w instanceof THREE.WebGLRenderTargetCube?(aw.bindTexture(aw.TEXTURE_CUBE_MAP,w.__webglTexture),aw.generateMipmap(aw.TEXTURE_CUBE_MAP),aw.bindTexture(aw.TEXTURE_CUBE_MAP,null)):(aw.bindTexture(aw.TEXTURE_2D,w.__webglTexture),aw.generateMipmap(aw.TEXTURE_2D),aw.bindTexture(aw.TEXTURE_2D,null)))};this.initWebGLObjects=function(cb){if(!cb.__webglObjects){cb.__webglObjects=[],cb.__webglObjectsImmediate=[],cb.__webglSprites=[]}for(;cb.__objectsAdded.length;){var b9=cb.__objectsAdded[0],b8=cb,b5=void 0,b6=void 0,b7=void 0;if(!b9.__webglInit){if(b9.__webglInit=!0,b9._modelViewMatrix=new THREE.Matrix4,b9._normalMatrixArray=new Float32Array(9),b9._modelViewMatrixArray=new Float32Array(16),b9._objectMatrixArray=new Float32Array(16),b9.matrixWorld.flattenToArray(b9._objectMatrixArray),b9 instanceof THREE.Mesh){b6=b9.geometry;if(b6.geometryGroups===void 0){var b7=b6,b4=void 0,b3=void 0,bv=void 0,b1=void 0,bq=void 0,d=void 0,b0=void 0,bY={},bx=b7.morphTargets.length;b7.geometryGroups={};b4=0;for(b3=b7.faces.length;b4<b3;b4++){bv=b7.faces[b4],b1=bv.materialIndex,d=b1!==void 0?b1:-1,bY[d]===void 0&&(bY[d]={hash:d,counter:0}),b0=bY[d].hash+"_"+bY[d].counter,b7.geometryGroups[b0]===void 0&&(b7.geometryGroups[b0]={faces3:[],faces4:[],materialIndex:b1,vertices:0,numMorphTargets:bx}),bq=bv instanceof THREE.Face3?3:4,b7.geometryGroups[b0].vertices+bq>65535&&(bY[d].counter+=1,b0=bY[d].hash+"_"+bY[d].counter,b7.geometryGroups[b0]===void 0&&(b7.geometryGroups[b0]={faces3:[],faces4:[],materialIndex:b1,vertices:0,numMorphTargets:bx})),bv instanceof THREE.Face3?b7.geometryGroups[b0].faces3.push(b4):b7.geometryGroups[b0].faces4.push(b4),b7.geometryGroups[b0].vertices+=bq}b7.geometryGroupsList=[];b4=void 0;for(b4 in b7.geometryGroups){b7.geometryGroups[b4].id=aI++,b7.geometryGroupsList.push(b7.geometryGroups[b4])}}for(b5 in b6.geometryGroups){if(b7=b6.geometryGroups[b5],!b7.__webglVertexBuffer){b4=b7;b4.__webglVertexBuffer=aw.createBuffer();b4.__webglNormalBuffer=aw.createBuffer();b4.__webglTangentBuffer=aw.createBuffer();b4.__webglColorBuffer=aw.createBuffer();b4.__webglUVBuffer=aw.createBuffer();b4.__webglUV2Buffer=aw.createBuffer();b4.__webglSkinVertexABuffer=aw.createBuffer();b4.__webglSkinVertexBBuffer=aw.createBuffer();b4.__webglSkinIndicesBuffer=aw.createBuffer();b4.__webglSkinWeightsBuffer=aw.createBuffer();b4.__webglFaceBuffer=aw.createBuffer();b4.__webglLineBuffer=aw.createBuffer();if(b4.numMorphTargets){bv=b3=void 0;b4.__webglMorphTargetsBuffers=[];b3=0;for(bv=b4.numMorphTargets;b3<bv;b3++){b4.__webglMorphTargetsBuffers.push(aw.createBuffer())}}aM.info.memory.geometries++;b1=b9;bq=b1.geometry;b3=b7.faces3;d=b7.faces4;b4=b3.length*3+d.length*4;bv=b3.length*1+d.length*2;d=b3.length*3+d.length*4;b3=aG(b1,b7);b0=aB(b3);bY=aD(b3);bx=aA(b3);b7.__vertexArray=new Float32Array(b4*3);if(bY){b7.__normalArray=new Float32Array(b4*3)}if(bq.hasTangents){b7.__tangentArray=new Float32Array(b4*4)}if(bx){b7.__colorArray=new Float32Array(b4*3)}if(b0){if(bq.faceUvs.length>0||bq.faceVertexUvs.length>0){b7.__uvArray=new Float32Array(b4*2)}if(bq.faceUvs.length>1||bq.faceVertexUvs.length>1){b7.__uv2Array=new Float32Array(b4*2)}}if(b1.geometry.skinWeights.length&&b1.geometry.skinIndices.length){b7.__skinVertexAArray=new Float32Array(b4*4),b7.__skinVertexBArray=new Float32Array(b4*4),b7.__skinIndexArray=new Float32Array(b4*4),b7.__skinWeightArray=new Float32Array(b4*4)}b7.__faceArray=new Uint16Array(bv*3);b7.__lineArray=new Uint16Array(d*2);if(b7.numMorphTargets){b7.__morphTargetsArrays=[];b1=0;for(bq=b7.numMorphTargets;b1<bq;b1++){b7.__morphTargetsArrays.push(new Float32Array(b4*3))}}b7.__webglFaceCount=bv*3;b7.__webglLineCount=d*2;if(b3.attributes){if(b7.__webglCustomAttributesList===void 0){b7.__webglCustomAttributesList=[]}bv=void 0;for(bv in b3.attributes){var b1=b3.attributes[bv],bq={},b;for(b in b1){bq[b]=b1[b]}if(!bq.__webglInitialized||bq.createUniqueBuffers){bq.__webglInitialized=!0,d=1,bq.type==="v2"?d=2:bq.type==="v3"?d=3:bq.type==="v4"?d=4:bq.type==="c"&&(d=3),bq.size=d,bq.array=new Float32Array(b4*d),bq.buffer=aw.createBuffer(),bq.buffer.belongsToAttribute=bv,b1.needsUpdate=!0,bq.__original=b1}b7.__webglCustomAttributesList.push(bq)}}b7.__inittedArrays=!0;b6.__dirtyVertices=!0;b6.__dirtyMorphTargets=!0;b6.__dirtyElements=!0;b6.__dirtyUvs=!0;b6.__dirtyNormals=!0;b6.__dirtyTangents=!0;b6.__dirtyColors=!0}}}else{if(b9 instanceof THREE.Ribbon){if(b6=b9.geometry,!b6.__webglVertexBuffer){b7=b6,b7.__webglVertexBuffer=aw.createBuffer(),b7.__webglColorBuffer=aw.createBuffer(),aM.info.memory.geometries++,b7=b6,b4=b7.vertices.length,b7.__vertexArray=new Float32Array(b4*3),b7.__colorArray=new Float32Array(b4*3),b7.__webglVertexCount=b4,b6.__dirtyVertices=!0,b6.__dirtyColors=!0}}else{if(b9 instanceof THREE.Line){if(b6=b9.geometry,!b6.__webglVertexBuffer){b7=b6,b7.__webglVertexBuffer=aw.createBuffer(),b7.__webglColorBuffer=aw.createBuffer(),aM.info.memory.geometries++,b7=b6,b4=b9,b3=b7.vertices.length,b7.__vertexArray=new Float32Array(b3*3),b7.__colorArray=new Float32Array(b3*3),b7.__webglLineCount=b3,aF(b7,b4),b6.__dirtyVertices=!0,b6.__dirtyColors=!0}}else{if(b9 instanceof THREE.ParticleSystem&&(b6=b9.geometry,!b6.__webglVertexBuffer)){b7=b6,b7.__webglVertexBuffer=aw.createBuffer(),b7.__webglColorBuffer=aw.createBuffer(),aM.info.geometries++,b7=b6,b4=b9,b3=b7.vertices.length,b7.__vertexArray=new Float32Array(b3*3),b7.__colorArray=new Float32Array(b3*3),b7.__sortArray=[],b7.__webglParticleCount=b3,aF(b7,b4),b6.__dirtyVertices=!0,b6.__dirtyColors=!0}}}}}if(!b9.__webglActive){if(b9 instanceof THREE.Mesh){for(b5 in b6=b9.geometry,b6.geometryGroups){b7=b6.geometryGroups[b5],aq(b8.__webglObjects,b7,b9)}}else{b9 instanceof THREE.Ribbon||b9 instanceof THREE.Line||b9 instanceof THREE.ParticleSystem?(b6=b9.geometry,aq(b8.__webglObjects,b6,b9)):THREE.MarchingCubes!==void 0&&b9 instanceof THREE.MarchingCubes||b9.immediateRenderCallback?b8.__webglObjectsImmediate.push({object:b9,opaque:null,transparent:null}):b9 instanceof THREE.Sprite&&b8.__webglSprites.push(b9)}b9.__webglActive=!0}cb.__objectsAdded.splice(0,1)}for(;cb.__objectsRemoved.length;){b9=cb.__objectsRemoved[0];b8=cb;if(b9 instanceof THREE.Mesh||b9 instanceof THREE.ParticleSystem||b9 instanceof THREE.Ribbon||b9 instanceof THREE.Line){ah(b8.__webglObjects,b9)}else{if(b9 instanceof THREE.Sprite){b8=b8.__webglSprites;b5=b9;for(b6=b8.length-1;b6>=0;b6--){b8[b6]===b5&&b8.splice(b6,1)}}else{(b9 instanceof THREE.MarchingCubes||b9.immediateRenderCallback)&&ah(b8.__webglObjectsImmediate,b9)}}b9.__webglActive=!1;cb.__objectsRemoved.splice(0,1)}b9=0;for(b8=cb.__webglObjects.length;b9<b8;b9++){if(b=cb.__webglObjects[b9].object,b5=b.geometry,b6=bv=b3=void 0,b instanceof THREE.Mesh){b7=0;for(b4=b5.geometryGroupsList.length;b7<b4;b7++){if(b3=b5.geometryGroupsList[b7],b6=aG(b,b3),bv=b6.attributes&&an(b6),b5.__dirtyVertices||b5.__dirtyMorphTargets||b5.__dirtyElements||b5.__dirtyUvs||b5.__dirtyNormals||b5.__dirtyColors||b5.__dirtyTangents||bv){var bC=b,bv=aw.DYNAMIC_DRAW,b1=!b5.dynamic,b0=b6;if(b3.__inittedArrays){var bq=aD(b0),d=aA(b0),bF=aB(b0),bo=bq===THREE.SmoothShading,bu=bY=b0=void 0,bD=void 0,bA=void 0,by=void 0,bX=void 0,bG=void 0,c=void 0,bB=bu=void 0,bT=void 0,bV=void 0,bt=void 0,bz=bD=void 0,br=void 0,bn=void 0,bQ=bD=c=void 0,t=void 0,g=bt=bV=bT=bX=void 0,bw=bD=bt=bV=bT=g=bt=bV=bT=g=bt=bV=bT=void 0,bs=void 0,bU=by=void 0,w=void 0,n=void 0,bJ=void 0,bH=void 0,cc=bB=n=bs=0,bI=0,bL=bw=bu=0,f=bX=bz=0,bE=0,bR=void 0,f=b3.__vertexArray,w=b3.__uvArray,bE=b3.__uv2Array,bU=b3.__normalArray,bA=b3.__tangentArray,br=b3.__colorArray,bQ=b3.__skinVertexAArray,t=b3.__skinVertexBArray,bG=b3.__skinIndexArray,bP=b3.__skinWeightArray,g=b3.__morphTargetsArrays,bx=b3.__webglCustomAttributesList,bS=void 0,bS=b3.__faceArray,bR=b3.__lineArray,bn=bC.geometry,b2=bn.__dirtyElements,W=bn.__dirtyUvs,by=bn.__dirtyNormals,c=bn.__dirtyTangents,bZ=bn.__dirtyColors,bJ=bn.__dirtyMorphTargets,bH=bn.vertices,bC=b3.faces3,bK=b3.faces4,e=bn.faces,q=bn.faceVertexUvs[0],bM=bn.faceVertexUvs[1],bN=bn.skinVerticesA,bp=bn.skinVerticesB,bW=bn.skinIndices,j=bn.skinWeights,bO=bn.morphTargets;if(bn.__dirtyVertices){b0=0;for(bY=bC.length;b0<bY;b0++){bD=e[bC[b0]],bT=bH[bD.a].position,bV=bH[bD.b].position,bt=bH[bD.c].position,f[n]=bT.x,f[n+1]=bT.y,f[n+2]=bT.z,f[n+3]=bV.x,f[n+4]=bV.y,f[n+5]=bV.z,f[n+6]=bt.x,f[n+7]=bt.y,f[n+8]=bt.z,n+=9}b0=0;for(bY=bK.length;b0<bY;b0++){bD=e[bK[b0]],bT=bH[bD.a].position,bV=bH[bD.b].position,bt=bH[bD.c].position,bD=bH[bD.d].position,f[n]=bT.x,f[n+1]=bT.y,f[n+2]=bT.z,f[n+3]=bV.x,f[n+4]=bV.y,f[n+5]=bV.z,f[n+6]=bt.x,f[n+7]=bt.y,f[n+8]=bt.z,f[n+9]=bD.x,f[n+10]=bD.y,f[n+11]=bD.z,n+=12}aw.bindBuffer(aw.ARRAY_BUFFER,b3.__webglVertexBuffer);aw.bufferData(aw.ARRAY_BUFFER,f,bv)}if(bJ){n=0;for(bJ=bO.length;n<bJ;n++){b0=f=0;for(bY=bC.length;b0<bY;b0++){bD=e[bC[b0]],bT=bO[n].vertices[bD.a].position,bV=bO[n].vertices[bD.b].position,bt=bO[n].vertices[bD.c].position,bH=g[n],bH[f]=bT.x,bH[f+1]=bT.y,bH[f+2]=bT.z,bH[f+3]=bV.x,bH[f+4]=bV.y,bH[f+5]=bV.z,bH[f+6]=bt.x,bH[f+7]=bt.y,bH[f+8]=bt.z,f+=9}b0=0;for(bY=bK.length;b0<bY;b0++){bD=e[bK[b0]],bT=bO[n].vertices[bD.a].position,bV=bO[n].vertices[bD.b].position,bt=bO[n].vertices[bD.c].position,bD=bO[n].vertices[bD.d].position,bH=g[n],bH[f]=bT.x,bH[f+1]=bT.y,bH[f+2]=bT.z,bH[f+3]=bV.x,bH[f+4]=bV.y,bH[f+5]=bV.z,bH[f+6]=bt.x,bH[f+7]=bt.y,bH[f+8]=bt.z,bH[f+9]=bD.x,bH[f+10]=bD.y,bH[f+11]=bD.z,f+=12}aw.bindBuffer(aw.ARRAY_BUFFER,b3.__webglMorphTargetsBuffers[n]);aw.bufferData(aw.ARRAY_BUFFER,g[n],bv)}}if(j.length){b0=0;for(bY=bC.length;b0<bY;b0++){bD=e[bC[b0]],bT=j[bD.a],bV=j[bD.b],bt=j[bD.c],bP[bX]=bT.x,bP[bX+1]=bT.y,bP[bX+2]=bT.z,bP[bX+3]=bT.w,bP[bX+4]=bV.x,bP[bX+5]=bV.y,bP[bX+6]=bV.z,bP[bX+7]=bV.w,bP[bX+8]=bt.x,bP[bX+9]=bt.y,bP[bX+10]=bt.z,bP[bX+11]=bt.w,bT=bW[bD.a],bV=bW[bD.b],bt=bW[bD.c],bG[bX]=bT.x,bG[bX+1]=bT.y,bG[bX+2]=bT.z,bG[bX+3]=bT.w,bG[bX+4]=bV.x,bG[bX+5]=bV.y,bG[bX+6]=bV.z,bG[bX+7]=bV.w,bG[bX+8]=bt.x,bG[bX+9]=bt.y,bG[bX+10]=bt.z,bG[bX+11]=bt.w,bT=bN[bD.a],bV=bN[bD.b],bt=bN[bD.c],bQ[bX]=bT.x,bQ[bX+1]=bT.y,bQ[bX+2]=bT.z,bQ[bX+3]=1,bQ[bX+4]=bV.x,bQ[bX+5]=bV.y,bQ[bX+6]=bV.z,bQ[bX+7]=1,bQ[bX+8]=bt.x,bQ[bX+9]=bt.y,bQ[bX+10]=bt.z,bQ[bX+11]=1,bT=bp[bD.a],bV=bp[bD.b],bt=bp[bD.c],t[bX]=bT.x,t[bX+1]=bT.y,t[bX+2]=bT.z,t[bX+3]=1,t[bX+4]=bV.x,t[bX+5]=bV.y,t[bX+6]=bV.z,t[bX+7]=1,t[bX+8]=bt.x,t[bX+9]=bt.y,t[bX+10]=bt.z,t[bX+11]=1,bX+=12}b0=0;for(bY=bK.length;b0<bY;b0++){bD=e[bK[b0]],bT=j[bD.a],bV=j[bD.b],bt=j[bD.c],g=j[bD.d],bP[bX]=bT.x,bP[bX+1]=bT.y,bP[bX+2]=bT.z,bP[bX+3]=bT.w,bP[bX+4]=bV.x,bP[bX+5]=bV.y,bP[bX+6]=bV.z,bP[bX+7]=bV.w,bP[bX+8]=bt.x,bP[bX+9]=bt.y,bP[bX+10]=bt.z,bP[bX+11]=bt.w,bP[bX+12]=g.x,bP[bX+13]=g.y,bP[bX+14]=g.z,bP[bX+15]=g.w,bT=bW[bD.a],bV=bW[bD.b],bt=bW[bD.c],g=bW[bD.d],bG[bX]=bT.x,bG[bX+1]=bT.y,bG[bX+2]=bT.z,bG[bX+3]=bT.w,bG[bX+4]=bV.x,bG[bX+5]=bV.y,bG[bX+6]=bV.z,bG[bX+7]=bV.w,bG[bX+8]=bt.x,bG[bX+9]=bt.y,bG[bX+10]=bt.z,bG[bX+11]=bt.w,bG[bX+12]=g.x,bG[bX+13]=g.y,bG[bX+14]=g.z,bG[bX+15]=g.w,bT=bN[bD.a],bV=bN[bD.b],bt=bN[bD.c],g=bN[bD.d],bQ[bX]=bT.x,bQ[bX+1]=bT.y,bQ[bX+2]=bT.z,bQ[bX+3]=1,bQ[bX+4]=bV.x,bQ[bX+5]=bV.y,bQ[bX+6]=bV.z,bQ[bX+7]=1,bQ[bX+8]=bt.x,bQ[bX+9]=bt.y,bQ[bX+10]=bt.z,bQ[bX+11]=1,bQ[bX+12]=g.x,bQ[bX+13]=g.y,bQ[bX+14]=g.z,bQ[bX+15]=1,bT=bp[bD.a],bV=bp[bD.b],bt=bp[bD.c],bD=bp[bD.d],t[bX]=bT.x,t[bX+1]=bT.y,t[bX+2]=bT.z,t[bX+3]=1,t[bX+4]=bV.x,t[bX+5]=bV.y,t[bX+6]=bV.z,t[bX+7]=1,t[bX+8]=bt.x,t[bX+9]=bt.y,t[bX+10]=bt.z,t[bX+11]=1,t[bX+12]=bD.x,t[bX+13]=bD.y,t[bX+14]=bD.z,t[bX+15]=1,bX+=16}bX>0&&(aw.bindBuffer(aw.ARRAY_BUFFER,b3.__webglSkinVertexABuffer),aw.bufferData(aw.ARRAY_BUFFER,bQ,bv),aw.bindBuffer(aw.ARRAY_BUFFER,b3.__webglSkinVertexBBuffer),aw.bufferData(aw.ARRAY_BUFFER,t,bv),aw.bindBuffer(aw.ARRAY_BUFFER,b3.__webglSkinIndicesBuffer),aw.bufferData(aw.ARRAY_BUFFER,bG,bv),aw.bindBuffer(aw.ARRAY_BUFFER,b3.__webglSkinWeightsBuffer),aw.bufferData(aw.ARRAY_BUFFER,bP,bv))}if(bZ&&d){b0=0;for(bY=bC.length;b0<bY;b0++){bD=e[bC[b0]],bX=bD.vertexColors,bG=bD.color,bX.length===3&&d===THREE.VertexColors?(bD=bX[0],bQ=bX[1],t=bX[2]):t=bQ=bD=bG,br[bz]=bD.r,br[bz+1]=bD.g,br[bz+2]=bD.b,br[bz+3]=bQ.r,br[bz+4]=bQ.g,br[bz+5]=bQ.b,br[bz+6]=t.r,br[bz+7]=t.g,br[bz+8]=t.b,bz+=9}b0=0;for(bY=bK.length;b0<bY;b0++){bD=e[bK[b0]],bX=bD.vertexColors,bG=bD.color,bX.length===4&&d===THREE.VertexColors?(bD=bX[0],bQ=bX[1],t=bX[2],bX=bX[3]):bX=t=bQ=bD=bG,br[bz]=bD.r,br[bz+1]=bD.g,br[bz+2]=bD.b,br[bz+3]=bQ.r,br[bz+4]=bQ.g,br[bz+5]=bQ.b,br[bz+6]=t.r,br[bz+7]=t.g,br[bz+8]=t.b,br[bz+9]=bX.r,br[bz+10]=bX.g,br[bz+11]=bX.b,bz+=12}bz>0&&(aw.bindBuffer(aw.ARRAY_BUFFER,b3.__webglColorBuffer),aw.bufferData(aw.ARRAY_BUFFER,br,bv))}if(c&&bn.hasTangents){b0=0;for(bY=bC.length;b0<bY;b0++){bD=e[bC[b0]],c=bD.vertexTangents,bz=c[0],br=c[1],bn=c[2],bA[bw]=bz.x,bA[bw+1]=bz.y,bA[bw+2]=bz.z,bA[bw+3]=bz.w,bA[bw+4]=br.x,bA[bw+5]=br.y,bA[bw+6]=br.z,bA[bw+7]=br.w,bA[bw+8]=bn.x,bA[bw+9]=bn.y,bA[bw+10]=bn.z,bA[bw+11]=bn.w,bw+=12}b0=0;for(bY=bK.length;b0<bY;b0++){bD=e[bK[b0]],c=bD.vertexTangents,bz=c[0],br=c[1],bn=c[2],c=c[3],bA[bw]=bz.x,bA[bw+1]=bz.y,bA[bw+2]=bz.z,bA[bw+3]=bz.w,bA[bw+4]=br.x,bA[bw+5]=br.y,bA[bw+6]=br.z,bA[bw+7]=br.w,bA[bw+8]=bn.x,bA[bw+9]=bn.y,bA[bw+10]=bn.z,bA[bw+11]=bn.w,bA[bw+12]=c.x,bA[bw+13]=c.y,bA[bw+14]=c.z,bA[bw+15]=c.w,bw+=16}aw.bindBuffer(aw.ARRAY_BUFFER,b3.__webglTangentBuffer);aw.bufferData(aw.ARRAY_BUFFER,bA,bv)}if(by&&bq){b0=0;for(bY=bC.length;b0<bY;b0++){if(bD=e[bC[b0]],bA=bD.vertexNormals,by=bD.normal,bA.length===3&&bo){for(bw=0;bw<3;bw++){by=bA[bw],bU[bu]=by.x,bU[bu+1]=by.y,bU[bu+2]=by.z,bu+=3}}else{for(bw=0;bw<3;bw++){bU[bu]=by.x,bU[bu+1]=by.y,bU[bu+2]=by.z,bu+=3}}}b0=0;for(bY=bK.length;b0<bY;b0++){if(bD=e[bK[b0]],bA=bD.vertexNormals,by=bD.normal,bA.length===4&&bo){for(bw=0;bw<4;bw++){by=bA[bw],bU[bu]=by.x,bU[bu+1]=by.y,bU[bu+2]=by.z,bu+=3}}else{for(bw=0;bw<4;bw++){bU[bu]=by.x,bU[bu+1]=by.y,bU[bu+2]=by.z,bu+=3}}}aw.bindBuffer(aw.ARRAY_BUFFER,b3.__webglNormalBuffer);aw.bufferData(aw.ARRAY_BUFFER,bU,bv)}if(W&&q&&bF){b0=0;for(bY=bC.length;b0<bY;b0++){if(bu=bC[b0],bu=q[bu],bu!==void 0){for(bw=0;bw<3;bw++){bU=bu[bw],w[bB]=bU.u,w[bB+1]=bU.v,bB+=2}}}b0=0;for(bY=bK.length;b0<bY;b0++){if(bu=bK[b0],bu=q[bu],bu!==void 0){for(bw=0;bw<4;bw++){bU=bu[bw],w[bB]=bU.u,w[bB+1]=bU.v,bB+=2}}}bB>0&&(aw.bindBuffer(aw.ARRAY_BUFFER,b3.__webglUVBuffer),aw.bufferData(aw.ARRAY_BUFFER,w,bv))}if(W&&bM&&bF){b0=0;for(bY=bC.length;b0<bY;b0++){if(bu=bC[b0],bB=bM[bu],bB!==void 0){for(bw=0;bw<3;bw++){w=bB[bw],bE[cc]=w.u,bE[cc+1]=w.v,cc+=2}}}b0=0;for(bY=bK.length;b0<bY;b0++){if(bu=bK[b0],bB=bM[bu],bB!==void 0){for(bw=0;bw<4;bw++){w=bB[bw],bE[cc]=w.u,bE[cc+1]=w.v,cc+=2}}}cc>0&&(aw.bindBuffer(aw.ARRAY_BUFFER,b3.__webglUV2Buffer),aw.bufferData(aw.ARRAY_BUFFER,bE,bv))}if(b2){b0=0;for(bY=bC.length;b0<bY;b0++){bS[bI]=bs,bS[bI+1]=bs+1,bS[bI+2]=bs+2,bI+=3,bR[bL]=bs,bR[bL+1]=bs+1,bR[bL+2]=bs,bR[bL+3]=bs+2,bR[bL+4]=bs+1,bR[bL+5]=bs+2,bL+=6,bs+=3}b0=0;for(bY=bK.length;b0<bY;b0++){bS[bI]=bs,bS[bI+1]=bs+1,bS[bI+2]=bs+3,bS[bI+3]=bs+1,bS[bI+4]=bs+2,bS[bI+5]=bs+3,bI+=6,bR[bL]=bs,bR[bL+1]=bs+1,bR[bL+2]=bs,bR[bL+3]=bs+3,bR[bL+4]=bs+1,bR[bL+5]=bs+2,bR[bL+6]=bs+2,bR[bL+7]=bs+3,bL+=8,bs+=4}aw.bindBuffer(aw.ELEMENT_ARRAY_BUFFER,b3.__webglFaceBuffer);aw.bufferData(aw.ELEMENT_ARRAY_BUFFER,bS,bv);aw.bindBuffer(aw.ELEMENT_ARRAY_BUFFER,b3.__webglLineBuffer);aw.bufferData(aw.ELEMENT_ARRAY_BUFFER,bR,bv)}if(bx){bw=0;for(bs=bx.length;bw<bs;bw++){if(bS=bx[bw],bS.__original.needsUpdate){bE=0;if(bS.size===1){if(bS.boundTo===void 0||bS.boundTo==="vertices"){b0=0;for(bY=bC.length;b0<bY;b0++){bD=e[bC[b0]],bS.array[bE]=bS.value[bD.a],bS.array[bE+1]=bS.value[bD.b],bS.array[bE+2]=bS.value[bD.c],bE+=3}b0=0;for(bY=bK.length;b0<bY;b0++){bD=e[bK[b0]],bS.array[bE]=bS.value[bD.a],bS.array[bE+1]=bS.value[bD.b],bS.array[bE+2]=bS.value[bD.c],bS.array[bE+3]=bS.value[bD.d],bE+=4}}else{if(bS.boundTo==="faces"){b0=0;for(bY=bC.length;b0<bY;b0++){bR=bS.value[bC[b0]],bS.array[bE]=bR,bS.array[bE+1]=bR,bS.array[bE+2]=bR,bE+=3}b0=0;for(bY=bK.length;b0<bY;b0++){bR=bS.value[bK[b0]],bS.array[bE]=bR,bS.array[bE+1]=bR,bS.array[bE+2]=bR,bS.array[bE+3]=bR,bE+=4}}}}else{if(bS.size===2){if(bS.boundTo===void 0||bS.boundTo==="vertices"){b0=0;for(bY=bC.length;b0<bY;b0++){bD=e[bC[b0]],bT=bS.value[bD.a],bV=bS.value[bD.b],bt=bS.value[bD.c],bS.array[bE]=bT.x,bS.array[bE+1]=bT.y,bS.array[bE+2]=bV.x,bS.array[bE+3]=bV.y,bS.array[bE+4]=bt.x,bS.array[bE+5]=bt.y,bE+=6}b0=0;for(bY=bK.length;b0<bY;b0++){bD=e[bK[b0]],bT=bS.value[bD.a],bV=bS.value[bD.b],bt=bS.value[bD.c],bD=bS.value[bD.d],bS.array[bE]=bT.x,bS.array[bE+1]=bT.y,bS.array[bE+2]=bV.x,bS.array[bE+3]=bV.y,bS.array[bE+4]=bt.x,bS.array[bE+5]=bt.y,bS.array[bE+6]=bD.x,bS.array[bE+7]=bD.y,bE+=8}}else{if(bS.boundTo==="faces"){b0=0;for(bY=bC.length;b0<bY;b0++){bt=bV=bT=bR=bS.value[bC[b0]],bS.array[bE]=bT.x,bS.array[bE+1]=bT.y,bS.array[bE+2]=bV.x,bS.array[bE+3]=bV.y,bS.array[bE+4]=bt.x,bS.array[bE+5]=bt.y,bE+=6}b0=0;for(bY=bK.length;b0<bY;b0++){bD=bt=bV=bT=bR=bS.value[bK[b0]],bS.array[bE]=bT.x,bS.array[bE+1]=bT.y,bS.array[bE+2]=bV.x,bS.array[bE+3]=bV.y,bS.array[bE+4]=bt.x,bS.array[bE+5]=bt.y,bS.array[bE+6]=bD.x,bS.array[bE+7]=bD.y,bE+=8}}}}else{if(bS.size===3){if(bq=bS.type==="c"?["r","g","b"]:["x","y","z"],bS.boundTo===void 0||bS.boundTo==="vertices"){b0=0;for(bY=bC.length;b0<bY;b0++){bD=e[bC[b0]],bT=bS.value[bD.a],bV=bS.value[bD.b],bt=bS.value[bD.c],bS.array[bE]=bT[bq[0]],bS.array[bE+1]=bT[bq[1]],bS.array[bE+2]=bT[bq[2]],bS.array[bE+3]=bV[bq[0]],bS.array[bE+4]=bV[bq[1]],bS.array[bE+5]=bV[bq[2]],bS.array[bE+6]=bt[bq[0]],bS.array[bE+7]=bt[bq[1]],bS.array[bE+8]=bt[bq[2]],bE+=9}b0=0;for(bY=bK.length;b0<bY;b0++){bD=e[bK[b0]],bT=bS.value[bD.a],bV=bS.value[bD.b],bt=bS.value[bD.c],bD=bS.value[bD.d],bS.array[bE]=bT[bq[0]],bS.array[bE+1]=bT[bq[1]],bS.array[bE+2]=bT[bq[2]],bS.array[bE+3]=bV[bq[0]],bS.array[bE+4]=bV[bq[1]],bS.array[bE+5]=bV[bq[2]],bS.array[bE+6]=bt[bq[0]],bS.array[bE+7]=bt[bq[1]],bS.array[bE+8]=bt[bq[2]],bS.array[bE+9]=bD[bq[0]],bS.array[bE+10]=bD[bq[1]],bS.array[bE+11]=bD[bq[2]],bE+=12}}else{if(bS.boundTo==="faces"){b0=0;for(bY=bC.length;b0<bY;b0++){bt=bV=bT=bR=bS.value[bC[b0]],bS.array[bE]=bT[bq[0]],bS.array[bE+1]=bT[bq[1]],bS.array[bE+2]=bT[bq[2]],bS.array[bE+3]=bV[bq[0]],bS.array[bE+4]=bV[bq[1]],bS.array[bE+5]=bV[bq[2]],bS.array[bE+6]=bt[bq[0]],bS.array[bE+7]=bt[bq[1]],bS.array[bE+8]=bt[bq[2]],bE+=9}b0=0;for(bY=bK.length;b0<bY;b0++){bD=bt=bV=bT=bR=bS.value[bK[b0]],bS.array[bE]=bT[bq[0]],bS.array[bE+1]=bT[bq[1]],bS.array[bE+2]=bT[bq[2]],bS.array[bE+3]=bV[bq[0]],bS.array[bE+4]=bV[bq[1]],bS.array[bE+5]=bV[bq[2]],bS.array[bE+6]=bt[bq[0]],bS.array[bE+7]=bt[bq[1]],bS.array[bE+8]=bt[bq[2]],bS.array[bE+9]=bD[bq[0]],bS.array[bE+10]=bD[bq[1]],bS.array[bE+11]=bD[bq[2]],bE+=12}}}}else{if(bS.size===4){if(bS.boundTo===void 0||bS.boundTo==="vertices"){b0=0;for(bY=bC.length;b0<bY;b0++){bD=e[bC[b0]],bT=bS.value[bD.a],bV=bS.value[bD.b],bt=bS.value[bD.c],bS.array[bE]=bT.x,bS.array[bE+1]=bT.y,bS.array[bE+2]=bT.z,bS.array[bE+3]=bT.w,bS.array[bE+4]=bV.x,bS.array[bE+5]=bV.y,bS.array[bE+6]=bV.z,bS.array[bE+7]=bV.w,bS.array[bE+8]=bt.x,bS.array[bE+9]=bt.y,bS.array[bE+10]=bt.z,bS.array[bE+11]=bt.w,bE+=12}b0=0;for(bY=bK.length;b0<bY;b0++){bD=e[bK[b0]],bT=bS.value[bD.a],bV=bS.value[bD.b],bt=bS.value[bD.c],bD=bS.value[bD.d],bS.array[bE]=bT.x,bS.array[bE+1]=bT.y,bS.array[bE+2]=bT.z,bS.array[bE+3]=bT.w,bS.array[bE+4]=bV.x,bS.array[bE+5]=bV.y,bS.array[bE+6]=bV.z,bS.array[bE+7]=bV.w,bS.array[bE+8]=bt.x,bS.array[bE+9]=bt.y,bS.array[bE+10]=bt.z,bS.array[bE+11]=bt.w,bS.array[bE+12]=bD.x,bS.array[bE+13]=bD.y,bS.array[bE+14]=bD.z,bS.array[bE+15]=bD.w,bE+=16}}else{if(bS.boundTo==="faces"){b0=0;for(bY=bC.length;b0<bY;b0++){bt=bV=bT=bR=bS.value[bC[b0]],bS.array[bE]=bT.x,bS.array[bE+1]=bT.y,bS.array[bE+2]=bT.z,bS.array[bE+3]=bT.w,bS.array[bE+4]=bV.x,bS.array[bE+5]=bV.y,bS.array[bE+6]=bV.z,bS.array[bE+7]=bV.w,bS.array[bE+8]=bt.x,bS.array[bE+9]=bt.y,bS.array[bE+10]=bt.z,bS.array[bE+11]=bt.w,bE+=12}b0=0;for(bY=bK.length;b0<bY;b0++){bD=bt=bV=bT=bR=bS.value[bK[b0]],bS.array[bE]=bT.x,bS.array[bE+1]=bT.y,bS.array[bE+2]=bT.z,bS.array[bE+3]=bT.w,bS.array[bE+4]=bV.x,bS.array[bE+5]=bV.y,bS.array[bE+6]=bV.z,bS.array[bE+7]=bV.w,bS.array[bE+8]=bt.x,bS.array[bE+9]=bt.y,bS.array[bE+10]=bt.z,bS.array[bE+11]=bt.w,bS.array[bE+12]=bD.x,bS.array[bE+13]=bD.y,bS.array[bE+14]=bD.z,bS.array[bE+15]=bD.w,bE+=16}}}}}}}aw.bindBuffer(aw.ARRAY_BUFFER,bS.buffer);aw.bufferData(aw.ARRAY_BUFFER,bS.array,bv)}}}b1&&(delete b3.__inittedArrays,delete b3.__colorArray,delete b3.__normalArray,delete b3.__tangentArray,delete b3.__uvArray,delete b3.__uv2Array,delete b3.__faceArray,delete b3.__vertexArray,delete b3.__lineArray,delete b3.__skinVertexAArray,delete b3.__skinVertexBArray,delete b3.__skinIndexArray,delete b3.__skinWeightArray)}}}b5.__dirtyVertices=!1;b5.__dirtyMorphTargets=!1;b5.__dirtyElements=!1;b5.__dirtyUvs=!1;b5.__dirtyNormals=!1;b5.__dirtyColors=!1;b5.__dirtyTangents=!1;b6.attributes&&ak(b6)}else{if(b instanceof THREE.Ribbon){if(b5.__dirtyVertices||b5.__dirtyColors){b6=b5;b=aw.DYNAMIC_DRAW;bq=b7=bq=b1=b1=void 0;d=b6.vertices;b4=b6.colors;b0=d.length;b3=b4.length;bY=b6.__vertexArray;bv=b6.__colorArray;bx=b6.__dirtyColors;if(b6.__dirtyVertices){for(b1=0;b1<b0;b1++){bq=d[b1].position,b7=b1*3,bY[b7]=bq.x,bY[b7+1]=bq.y,bY[b7+2]=bq.z}aw.bindBuffer(aw.ARRAY_BUFFER,b6.__webglVertexBuffer);aw.bufferData(aw.ARRAY_BUFFER,bY,b)}if(bx){for(b1=0;b1<b3;b1++){bq=b4[b1],b7=b1*3,bv[b7]=bq.r,bv[b7+1]=bq.g,bv[b7+2]=bq.b}aw.bindBuffer(aw.ARRAY_BUFFER,b6.__webglColorBuffer);aw.bufferData(aw.ARRAY_BUFFER,bv,b)}}b5.__dirtyVertices=!1;b5.__dirtyColors=!1}else{if(b instanceof THREE.Line){b6=aG(b,b3);bv=b6.attributes&&an(b6);if(b5.__dirtyVertices||b5.__dirtyColors||bv){b=b5;b7=aw.DYNAMIC_DRAW;b0=b4=bo=d=bF=void 0;d=b.vertices;b3=b.colors;b0=d.length;bv=b3.length;bY=b.__vertexArray;b1=b.__colorArray;bx=b.__dirtyColors;bq=b.__webglCustomAttributesList;bs=e=bK=bC=bo=bF=void 0;if(b.__dirtyVertices){for(bF=0;bF<b0;bF++){bo=d[bF].position,b4=bF*3,bY[b4]=bo.x,bY[b4+1]=bo.y,bY[b4+2]=bo.z}aw.bindBuffer(aw.ARRAY_BUFFER,b.__webglVertexBuffer);aw.bufferData(aw.ARRAY_BUFFER,bY,b7)}if(bx){for(d=0;d<bv;d++){b0=b3[d],b4=d*3,b1[b4]=b0.r,b1[b4+1]=b0.g,b1[b4+2]=b0.b}aw.bindBuffer(aw.ARRAY_BUFFER,b.__webglColorBuffer);aw.bufferData(aw.ARRAY_BUFFER,b1,b7)}if(bq){bF=0;for(bo=bq.length;bF<bo;bF++){if(bs=bq[bF],bs.needsUpdate&&(bs.boundTo===void 0||bs.boundTo==="vertices")){b4=0;bK=bs.value.length;if(bs.size===1){for(bC=0;bC<bK;bC++){bs.array[bC]=bs.value[bC]}}else{if(bs.size===2){for(bC=0;bC<bK;bC++){e=bs.value[bC],bs.array[b4]=e.x,bs.array[b4+1]=e.y,b4+=2}}else{if(bs.size===3){if(bs.type==="c"){for(bC=0;bC<bK;bC++){e=bs.value[bC],bs.array[b4]=e.r,bs.array[b4+1]=e.g,bs.array[b4+2]=e.b,b4+=3}}else{for(bC=0;bC<bK;bC++){e=bs.value[bC],bs.array[b4]=e.x,bs.array[b4+1]=e.y,bs.array[b4+2]=e.z,b4+=3}}}else{if(bs.size===4){for(bC=0;bC<bK;bC++){e=bs.value[bC],bs.array[b4]=e.x,bs.array[b4+1]=e.y,bs.array[b4+2]=e.z,bs.array[b4+3]=e.w,b4+=4}}}}}aw.bindBuffer(aw.ARRAY_BUFFER,bs.buffer);aw.bufferData(aw.ARRAY_BUFFER,bs.array,b7)}}}}b5.__dirtyVertices=!1;b5.__dirtyColors=!1;b6.attributes&&ak(b6)}else{if(b instanceof THREE.ParticleSystem){b6=aG(b,b3),bv=b6.attributes&&an(b6),(b5.__dirtyVertices||b5.__dirtyColors||b.sortParticles||bv)&&aC(b5,aw.DYNAMIC_DRAW,b),b5.__dirtyVertices=!1,b5.__dirtyColors=!1,b6.attributes&&ak(b6)}}}}}};this.initMaterial=function(H,G,F,B){var x,A,y,w;H instanceof THREE.MeshDepthMaterial?w="depth":H instanceof THREE.MeshNormalMaterial?w="normal":H instanceof THREE.MeshBasicMaterial?w="basic":H instanceof THREE.MeshLambertMaterial?w="lambert":H instanceof THREE.MeshPhongMaterial?w="phong":H instanceof THREE.LineBasicMaterial?w="basic":H instanceof THREE.ParticleBasicMaterial&&(w="particle_basic");if(w){var v=THREE.ShaderLib[w];H.uniforms=THREE.UniformsUtils.clone(v.uniforms);H.vertexShader=v.vertexShader;H.fragmentShader=v.fragmentShader}var u,t,s;u=s=v=0;for(t=G.length;u<t;u++){y=G[u],y instanceof THREE.SpotLight&&s++,y instanceof THREE.DirectionalLight&&s++,y instanceof THREE.PointLight&&v++}v+s<=aU?u=s:(u=Math.ceil(aU*s/(v+s)),v=aU-u);y={directional:u,point:v};v=s=0;for(u=G.length;v<u;v++){t=G[v],t instanceof THREE.SpotLight&&t.castShadow&&s++}var r=50;if(B!==void 0&&B instanceof THREE.SkinnedMesh){r=B.bones.length}var q;H:{u=H.fragmentShader;t=H.vertexShader;var v=H.uniforms,G=H.attributes,F={map:!!H.map,envMap:!!H.envMap,lightMap:!!H.lightMap,vertexColors:H.vertexColors,fog:F,useFog:H.fog,sizeAttenuation:H.sizeAttenuation,skinning:H.skinning,morphTargets:H.morphTargets,maxMorphTargets:this.maxMorphTargets,maxDirLights:y.directional,maxPointLights:y.point,maxBones:r,shadowMapEnabled:this.shadowMapEnabled&&B.receiveShadow,shadowMapSoft:this.shadowMapSoft,shadowMapWidth:this.shadowMapWidth,shadowMapHeight:this.shadowMapHeight,maxShadows:s,alphaTest:H.alphaTest,metal:H.metal,perPixel:H.perPixel},j,B=[];w?B.push(w):(B.push(u),B.push(t));for(j in F){B.push(j),B.push(F[j])}w=B.join();j=0;for(B=aL.length;j<B;j++){if(aL[j].code===w){q=aL[j].program;break H}}j=aw.createProgram();B=[bi?"#define VERTEX_TEXTURES":"",aM.gammaInput?"#define GAMMA_INPUT":"",aM.gammaOutput?"#define GAMMA_OUTPUT":"",aM.physicallyBasedShading?"#define PHYSICALLY_BASED_SHADING":"","#define MAX_DIR_LIGHTS "+F.maxDirLights,"#define MAX_POINT_LIGHTS "+F.maxPointLights,"#define MAX_SHADOWS "+F.maxShadows,"#define MAX_BONES "+F.maxBones,F.map?"#define USE_MAP":"",F.envMap?"#define USE_ENVMAP":"",F.lightMap?"#define USE_LIGHTMAP":"",F.vertexColors?"#define USE_COLOR":"",F.skinning?"#define USE_SKINNING":"",F.morphTargets?"#define USE_MORPHTARGETS":"",F.perPixel?"#define PHONG_PER_PIXEL":"",F.shadowMapEnabled?"#define USE_SHADOWMAP":"",F.shadowMapSoft?"#define SHADOWMAP_SOFT":"",F.sizeAttenuation?"#define USE_SIZEATTENUATION":"","uniform mat4 objectMatrix;\nuniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\nuniform mat4 viewMatrix;\nuniform mat3 normalMatrix;\nuniform vec3 cameraPosition;\nuniform mat4 cameraInverseMatrix;\nattribute vec3 position;\nattribute vec3 normal;\nattribute vec2 uv;\nattribute vec2 uv2;\n#ifdef USE_COLOR\nattribute vec3 color;\n#endif\n#ifdef USE_MORPHTARGETS\nattribute vec3 morphTarget0;\nattribute vec3 morphTarget1;\nattribute vec3 morphTarget2;\nattribute vec3 morphTarget3;\nattribute vec3 morphTarget4;\nattribute vec3 morphTarget5;\nattribute vec3 morphTarget6;\nattribute vec3 morphTarget7;\n#endif\n#ifdef USE_SKINNING\nattribute vec4 skinVertexA;\nattribute vec4 skinVertexB;\nattribute vec4 skinIndex;\nattribute vec4 skinWeight;\n#endif\n"].join("\n");y=["#ifdef GL_ES","precision "+bd+" float;","#endif","#define MAX_DIR_LIGHTS "+F.maxDirLights,"#define MAX_POINT_LIGHTS "+F.maxPointLights,"#define MAX_SHADOWS "+F.maxShadows,F.alphaTest?"#define ALPHATEST "+F.alphaTest:"",aM.gammaInput?"#define GAMMA_INPUT":"",aM.gammaOutput?"#define GAMMA_OUTPUT":"",aM.physicallyBasedShading?"#define PHYSICALLY_BASED_SHADING":"",F.useFog&&F.fog?"#define USE_FOG":"",F.useFog&&F.fog instanceof THREE.FogExp2?"#define FOG_EXP2":"",F.map?"#define USE_MAP":"",F.envMap?"#define USE_ENVMAP":"",F.lightMap?"#define USE_LIGHTMAP":"",F.vertexColors?"#define USE_COLOR":"",F.metal?"#define METAL":"",F.perPixel?"#define PHONG_PER_PIXEL":"",F.shadowMapEnabled?"#define USE_SHADOWMAP":"",F.shadowMapSoft?"#define SHADOWMAP_SOFT":"",F.shadowMapSoft?"#define SHADOWMAP_WIDTH "+F.shadowMapWidth.toFixed(1):"",F.shadowMapSoft?"#define SHADOWMAP_HEIGHT "+F.shadowMapHeight.toFixed(1):"","uniform mat4 viewMatrix;\nuniform vec3 cameraPosition;\n"].join("\n");aw.attachShader(j,a0("fragment",y+u));aw.attachShader(j,a0("vertex",B+t));aw.linkProgram(j);aw.getProgramParameter(j,aw.LINK_STATUS)||console.error("Could not initialise shader\nVALIDATE_STATUS: "+aw.getProgramParameter(j,aw.VALIDATE_STATUS)+", gl error ["+aw.getError()+"]");j.uniforms={};j.attributes={};var E,B=["viewMatrix","modelViewMatrix","projectionMatrix","normalMatrix","objectMatrix","cameraPosition","cameraInverseMatrix","boneGlobalMatrices","morphTargetInfluences"];for(E in v){B.push(E)}E=B;B=0;for(v=E.length;B<v;B++){u=E[B],j.uniforms[u]=aw.getUniformLocation(j,u)}B=["position","normal","uv","uv2","tangent","color","skinVertexA","skinVertexB","skinIndex","skinWeight"];for(E=0;E<F.maxMorphTargets;E++){B.push("morphTarget"+E)}for(q in G){B.push(q)}q=B;E=0;for(G=q.length;E<G;E++){F=q[E],j.attributes[F]=aw.getAttribLocation(j,F)}j.id=aL.length;aL.push({program:j,code:w});aM.info.memory.programs=aL.length;q=j}H.program=q;q=H.program.attributes;q.position>=0&&aw.enableVertexAttribArray(q.position);q.color>=0&&aw.enableVertexAttribArray(q.color);q.normal>=0&&aw.enableVertexAttribArray(q.normal);q.tangent>=0&&aw.enableVertexAttribArray(q.tangent);H.skinning&&q.skinVertexA>=0&&q.skinVertexB>=0&&q.skinIndex>=0&&q.skinWeight>=0&&(aw.enableVertexAttribArray(q.skinVertexA),aw.enableVertexAttribArray(q.skinVertexB),aw.enableVertexAttribArray(q.skinIndex),aw.enableVertexAttribArray(q.skinWeight));if(H.attributes){for(A in H.attributes){q[A]!==void 0&&q[A]>=0&&aw.enableVertexAttribArray(q[A])}}if(H.morphTargets){for(A=H.numSupportedMorphTargets=0;A<this.maxMorphTargets;A++){E="morphTarget"+A,q[E]>=0&&(aw.enableVertexAttribArray(q[E]),H.numSupportedMorphTargets++)}}H.uniformsList=[];for(x in H.uniforms){H.uniformsList.push([H.uniforms[x],x])}};this.setFaceCulling=function(d,c){d?(!c||c==="ccw"?aw.frontFace(aw.CCW):aw.frontFace(aw.CW),d==="back"?aw.cullFace(aw.BACK):d==="front"?aw.cullFace(aw.FRONT):aw.cullFace(aw.FRONT_AND_BACK),aw.enable(aw.CULL_FACE)):aw.disable(aw.CULL_FACE)}};THREE.WebGLRenderTarget=function(e,f,d){this.width=e;this.height=f;d=d||{};this.wrapS=d.wrapS!==void 0?d.wrapS:THREE.ClampToEdgeWrapping;this.wrapT=d.wrapT!==void 0?d.wrapT:THREE.ClampToEdgeWrapping;this.magFilter=d.magFilter!==void 0?d.magFilter:THREE.LinearFilter;this.minFilter=d.minFilter!==void 0?d.minFilter:THREE.LinearMipMapLinearFilter;this.offset=new THREE.Vector2(0,0);this.repeat=new THREE.Vector2(1,1);this.format=d.format!==void 0?d.format:THREE.RGBAFormat;this.type=d.type!==void 0?d.type:THREE.UnsignedByteType;this.depthBuffer=d.depthBuffer!==void 0?d.depthBuffer:!0;this.stencilBuffer=d.stencilBuffer!==void 0?d.stencilBuffer:!0};THREE.WebGLRenderTarget.prototype.clone=function(){var b=new THREE.WebGLRenderTarget(this.width,this.height);b.wrapS=this.wrapS;b.wrapT=this.wrapT;b.magFilter=this.magFilter;b.minFilter=this.minFilter;b.offset.copy(this.offset);b.repeat.copy(this.repeat);b.format=this.format;b.type=this.type;b.depthBuffer=this.depthBuffer;b.stencilBuffer=this.stencilBuffer;return b};THREE.WebGLRenderTargetCube=function(e,f,d){THREE.WebGLRenderTarget.call(this,e,f,d);this.activeCubeFace=0};THREE.WebGLRenderTargetCube.prototype=new THREE.WebGLRenderTarget;THREE.WebGLRenderTargetCube.prototype.constructor=THREE.WebGLRenderTargetCube;THREE.RenderableVertex=function(){this.positionWorld=new THREE.Vector3;this.positionScreen=new THREE.Vector4;this.visible=!0};THREE.RenderableVertex.prototype.copy=function(b){this.positionWorld.copy(b.positionWorld);this.positionScreen.copy(b.positionScreen)};THREE.RenderableFace3=function(){this.v1=new THREE.RenderableVertex;this.v2=new THREE.RenderableVertex;this.v3=new THREE.RenderableVertex;this.centroidWorld=new THREE.Vector3;this.centroidScreen=new THREE.Vector3;this.normalWorld=new THREE.Vector3;this.vertexNormalsWorld=[new THREE.Vector3,new THREE.Vector3,new THREE.Vector3];this.faceMaterial=this.material=null;this.uvs=[[]];this.z=null};THREE.RenderableFace4=function(){this.v1=new THREE.RenderableVertex;this.v2=new THREE.RenderableVertex;this.v3=new THREE.RenderableVertex;this.v4=new THREE.RenderableVertex;this.centroidWorld=new THREE.Vector3;this.centroidScreen=new THREE.Vector3;this.normalWorld=new THREE.Vector3;this.vertexNormalsWorld=[new THREE.Vector3,new THREE.Vector3,new THREE.Vector3,new THREE.Vector3];this.faceMaterial=this.material=null;this.uvs=[[]];this.z=null};THREE.RenderableObject=function(){this.z=this.object=null};THREE.RenderableParticle=function(){this.rotation=this.z=this.y=this.x=null;this.scale=new THREE.Vector2;this.material=null};THREE.RenderableLine=function(){this.z=null;this.v1=new THREE.RenderableVertex;this.v2=new THREE.RenderableVertex;this.material=null};THREE.ColorUtils={adjustHSV:function(f,k,e,j){var h=THREE.ColorUtils.__hsv;THREE.ColorUtils.rgbToHsv(f,h);h.h=THREE.Math.clamp(h.h+k,0,1);h.s=THREE.Math.clamp(h.s+e,0,1);h.v=THREE.Math.clamp(h.v+j,0,1);f.setHSV(h.h,h.s,h.v)},rgbToHsv:function(k,q){var j=k.r,p=k.g,m=k.b,n=Math.max(Math.max(j,p),m),o=Math.min(Math.min(j,p),m);if(o===n){o=j=0}else{var l=n-o,o=l/n,j=j===n?(p-m)/l:p===n?2+(m-j)/l:4+(j-p)/l;j/=6;j<0&&(j+=1);j>1&&(j-=1)}q===void 0&&(q={h:0,s:0,v:0});q.h=j;q.s=o;q.v=n;return q}};THREE.ColorUtils.__hsv={h:0,s:0,v:0};THREE.GeometryUtils={merge:function(N,L){for(var M,K,H=N.vertices.length,I=L instanceof THREE.Mesh?L.geometry:L,J=N.vertices,G=I.vertices,F=N.faces,D=I.faces,E=N.faceVertexUvs[0],A=I.faceVertexUvs[0],z={},C=0;C<N.materials.length;C++){z[N.materials[C].id]=C}if(L instanceof THREE.Mesh){L.matrixAutoUpdate&&L.updateMatrix(),M=L.matrix,K=new THREE.Matrix4,K.extractRotation(M,L.scale)}for(var C=0,x=G.length;C<x;C++){var B=new THREE.Vertex(G[C].position.clone());M&&M.multiplyVector3(B.position);J.push(B)}C=0;for(x=D.length;C<x;C++){var J=D[C],y,v,j=J.vertexNormals,s=J.vertexColors;J instanceof THREE.Face3?y=new THREE.Face3(J.a+H,J.b+H,J.c+H):J instanceof THREE.Face4&&(y=new THREE.Face4(J.a+H,J.b+H,J.c+H,J.d+H));y.normal.copy(J.normal);K&&K.multiplyVector3(y.normal);G=0;for(B=j.length;G<B;G++){v=j[G].clone(),K&&K.multiplyVector3(v),y.vertexNormals.push(v)}y.color.copy(J.color);G=0;for(B=s.length;G<B;G++){v=s[G],y.vertexColors.push(v.clone())}if(J.materialIndex!==void 0){G=I.materials[J.materialIndex];B=z[G.id];if(B===void 0){B=N.materials.length,N.materials.push(G)}y.materialIndex=B}y.centroid.copy(J.centroid);M&&M.multiplyVector3(y.centroid);F.push(y)}C=0;for(x=A.length;C<x;C++){M=A[C];K=[];G=0;for(B=M.length;G<B;G++){K.push(new THREE.UV(M[G].u,M[G].v))}E.push(K)}},clone:function(x){var v=new THREE.Geometry,w,u=x.vertices,r=x.faces,s=x.faceVertexUvs[0];if(x.materials){v.materials=x.materials.slice()}x=0;for(w=u.length;x<w;x++){var t=new THREE.Vertex(u[x].position.clone());v.vertices.push(t)}x=0;for(w=r.length;x<w;x++){var q=r[x],p,m,n=q.vertexNormals,j=q.vertexColors;q instanceof THREE.Face3?p=new THREE.Face3(q.a,q.b,q.c):q instanceof THREE.Face4&&(p=new THREE.Face4(q.a,q.b,q.c,q.d));p.normal.copy(q.normal);u=0;for(t=n.length;u<t;u++){m=n[u],p.vertexNormals.push(m.clone())}p.color.copy(q.color);u=0;for(t=j.length;u<t;u++){m=j[u],p.vertexColors.push(m.clone())}p.materialIndex=q.materialIndex;p.centroid.copy(q.centroid);v.faces.push(p)}x=0;for(w=s.length;x<w;x++){r=s[x];p=[];u=0;for(t=r.length;u<t;u++){p.push(new THREE.UV(r[u].u,r[u].v))}v.faceVertexUvs[0].push(p)}return v},randomPointInTriangle:function(k,q,j){var p,m,n,o=new THREE.Vector3,l=THREE.GeometryUtils.__v1;p=THREE.GeometryUtils.random();m=THREE.GeometryUtils.random();p+m>1&&(p=1-p,m=1-m);n=1-p-m;o.copy(k);o.multiplyScalar(p);l.copy(q);l.multiplyScalar(m);o.addSelf(l);l.copy(j);l.multiplyScalar(n);o.addSelf(l);return o},randomPointInFace:function(j,o,h){var n,k,l;if(j instanceof THREE.Face3){return n=o.vertices[j.a].position,k=o.vertices[j.b].position,l=o.vertices[j.c].position,THREE.GeometryUtils.randomPointInTriangle(n,k,l)}else{if(j instanceof THREE.Face4){n=o.vertices[j.a].position;k=o.vertices[j.b].position;l=o.vertices[j.c].position;var o=o.vertices[j.d].position,m;h?j._area1&&j._area2?(h=j._area1,m=j._area2):(h=THREE.GeometryUtils.triangleArea(n,k,o),m=THREE.GeometryUtils.triangleArea(k,l,o),j._area1=h,j._area2=m):(h=THREE.GeometryUtils.triangleArea(n,k,o),m=THREE.GeometryUtils.triangleArea(k,l,o));return THREE.GeometryUtils.random()*(h+m)<h?THREE.GeometryUtils.randomPointInTriangle(n,k,o):THREE.GeometryUtils.randomPointInTriangle(k,l,o)}}},randomPointsInGeometry:function(B,z){function A(d){function c(f,b){if(b<f){return f}var a=f+Math.floor((b-f)/2);return r[a]>d?c(f,a-1):r[a]<d?c(a+1,b):a}return c(0,r.length-1)}var y,v,w=B.faces,x=B.vertices,u=w.length,t=0,r=[],s,n,j,q;for(v=0;v<u;v++){y=w[v];if(y instanceof THREE.Face3){s=x[y.a].position,n=x[y.b].position,j=x[y.c].position,y._area=THREE.GeometryUtils.triangleArea(s,n,j)}else{if(y instanceof THREE.Face4){s=x[y.a].position,n=x[y.b].position,j=x[y.c].position,q=x[y.d].position,y._area1=THREE.GeometryUtils.triangleArea(s,n,q),y._area2=THREE.GeometryUtils.triangleArea(n,j,q),y._area=y._area1+y._area2}}t+=y._area;r[v]=t}y=[];x={};for(v=0;v<z;v++){u=THREE.GeometryUtils.random()*t,u=A(u),y[v]=THREE.GeometryUtils.randomPointInFace(w[u],B,!0),x[u]?x[u]+=1:x[u]=1}return y},triangleArea:function(f,k,e){var j,h=THREE.GeometryUtils.__v1;h.sub(f,k);j=h.length();h.sub(f,e);f=h.length();h.sub(k,e);e=h.length();k=0.5*(j+f+e);return Math.sqrt(k*(k-j)*(k-f)*(k-e))},center:function(b){b.computeBoundingBox();var d=new THREE.Matrix4;d.setTranslation(-0.5*(b.boundingBox.x[1]+b.boundingBox.x[0]),-0.5*(b.boundingBox.y[1]+b.boundingBox.y[0]),-0.5*(b.boundingBox.z[1]+b.boundingBox.z[0]));b.applyMatrix(d);b.computeBoundingBox()}};THREE.GeometryUtils.random=THREE.Math.random16;THREE.GeometryUtils.__v1=new THREE.Vector3;THREE.ImageUtils={loadTexture:function(f,k,e){var j=new Image,h=new THREE.Texture(j,k);j.onload=function(){h.needsUpdate=!0;e&&e(this)};j.crossOrigin="";j.src=f;return h},loadTextureCube:function(h,m,e){var l,j=[],k=new THREE.Texture(j,m),m=j.loadCount=0;for(l=h.length;m<l;++m){j[m]=new Image,j[m].onload=function(){j.loadCount+=1;if(j.loadCount===6){k.needsUpdate=!0}e&&e(this)},j[m].crossOrigin="",j[m].src=h[m]}return k},getNormalMap:function(L,J){var K=function(d){var c=Math.sqrt(d[0]*d[0]+d[1]*d[1]+d[2]*d[2]);return[d[0]/c,d[1]/c,d[2]/c]};J|=1;var I=L.width,F=L.height,G=document.createElement("canvas");G.width=I;G.height=F;var H=G.getContext("2d");H.drawImage(L,0,0);for(var E=H.getImageData(0,0,I,F).data,D=H.createImageData(I,F),B=D.data,C=0;C<I;C++){for(var y=1;y<F;y++){var x=y-1<0?F-1:y-1,A=(y+1)%F,u=C-1<0?I-1:C-1,z=(C+1)%I,v=[],s=[0,0,E[(y*I+C)*4]/255*J];v.push([-1,0,E[(y*I+u)*4]/255*J]);v.push([-1,-1,E[(x*I+u)*4]/255*J]);v.push([0,-1,E[(x*I+C)*4]/255*J]);v.push([1,-1,E[(x*I+z)*4]/255*J]);v.push([1,0,E[(y*I+z)*4]/255*J]);v.push([1,1,E[(A*I+z)*4]/255*J]);v.push([0,1,E[(A*I+C)*4]/255*J]);v.push([-1,1,E[(A*I+u)*4]/255*J]);x=[];u=v.length;for(A=0;A<u;A++){var z=v[A],j=v[(A+1)%u],z=[z[0]-s[0],z[1]-s[1],z[2]-s[2]],j=[j[0]-s[0],j[1]-s[1],j[2]-s[2]];x.push(K([z[1]*j[2]-z[2]*j[1],z[2]*j[0]-z[0]*j[2],z[0]*j[1]-z[1]*j[0]]))}v=[0,0,0];for(A=0;A<x.length;A++){v[0]+=x[A][0],v[1]+=x[A][1],v[2]+=x[A][2]}v[0]/=x.length;v[1]/=x.length;v[2]/=x.length;s=(y*I+C)*4;B[s]=(v[0]+1)/2*255|0;B[s+1]=(v[1]+0.5)*255|0;B[s+2]=v[2]*255|0;B[s+3]=255}}H.putImageData(D,0,0);return G}};THREE.SceneUtils={showHierarchy:function(b,d){THREE.SceneUtils.traverseHierarchy(b,function(c){c.visible=d})},traverseHierarchy:function(f,k){var e,j,h=f.children.length;for(j=0;j<h;j++){e=f.children[j],k(e),THREE.SceneUtils.traverseHierarchy(e,k)}},createMultiMaterialObject:function(h,m){var e,l=m.length,j=new THREE.Object3D;for(e=0;e<l;e++){var k=new THREE.Mesh(h,m[e]);j.add(k)}return j},cloneObject:function(f){var h;f instanceof THREE.MorphAnimMesh?(h=new THREE.MorphAnimMesh(f.geometry,f.material),h.duration=f.duration,h.mirroredLoop=f.mirroredLoop,h.time=f.time,h.lastKeyframe=f.lastKeyframe,h.currentKeyframe=f.currentKeyframe,h.direction=f.direction,h.directionBackwards=f.directionBackwards):f instanceof THREE.SkinnedMesh?h=new THREE.SkinnedMesh(f.geometry,f.material):f instanceof THREE.Mesh?h=new THREE.Mesh(f.geometry,f.material):f instanceof THREE.Line?h=new THREE.Line(f.geometry,f.material,f.type):f instanceof THREE.Ribbon?h=new THREE.Ribbon(f.geometry,f.material):f instanceof THREE.ParticleSystem?(h=new THREE.ParticleSystem(f.geometry,f.material),h.sortParticles=f.sortParticles):f instanceof THREE.Particle?h=new THREE.Particle(f.material):f instanceof THREE.Sprite?(h=new THREE.Sprite({}),h.color.copy(f.color),h.map=f.map,h.blending=f.blending,h.useScreenCoordinates=f.useScreenCoordinates,h.mergeWith3D=f.mergeWith3D,h.affectedByDistance=f.affectedByDistance,h.scaleByViewport=f.scaleByViewport,h.alignment=f.alignment,h.rotation3d.copy(f.rotation3d),h.rotation=f.rotation,h.opacity=f.opacity,h.uvOffset.copy(f.uvOffset),h.uvScale.copy(f.uvScale)):f instanceof THREE.LOD?h=new THREE.LOD:f instanceof THREE.MarchingCubes?(h=new THREE.MarchingCubes(f.resolution,f.material),h.field.set(f.field),h.isolation=f.isolation):f instanceof THREE.Object3D&&(h=new THREE.Object3D);h.parent=f.parent;h.up.copy(f.up);h.position.copy(f.position);h.rotation instanceof THREE.Vector3&&h.rotation.copy(f.rotation);h.eulerOrder=f.eulerOrder;h.scale.copy(f.scale);h.dynamic=f.dynamic;h.doubleSided=f.doubleSided;h.flipSided=f.flipSided;h.renderDepth=f.renderDepth;h.rotationAutoUpdate=f.rotationAutoUpdate;h.matrix.copy(f.matrix);h.matrixWorld.copy(f.matrixWorld);h.matrixRotationWorld.copy(f.matrixRotationWorld);h.matrixAutoUpdate=f.matrixAutoUpdate;h.matrixWorldNeedsUpdate=f.matrixWorldNeedsUpdate;h.quaternion.copy(f.quaternion);h.useQuaternion=f.useQuaternion;h.boundRadius=f.boundRadius;h.boundRadiusScale=f.boundRadiusScale;h.visible=f.visible;h.castShadow=f.castShadow;h.receiveShadow=f.receiveShadow;h.frustumCulled=f.frustumCulled;for(var e=0;e<f.children.length;e++){var g=THREE.SceneUtils.cloneObject(f.children[e]);h.children[e]=g;g.parent=h}if(f instanceof THREE.LOD){for(e=0;e<f.LODs.length;e++){h.LODs[e]={visibleAtDistance:f.LODs[e].visibleAtDistance,object3D:h.children[e]}}}return h}};if(THREE.WebGLRenderer){THREE.ShaderUtils={lib:{fresnel:{uniforms:{mRefractionRatio:{type:"f",value:1.02},mFresnelBias:{type:"f",value:0.1},mFresnelPower:{type:"f",value:2},mFresnelScale:{type:"f",value:1},tCube:{type:"t",value:1,texture:null}},fragmentShader:"uniform samplerCube tCube;\nvarying vec3 vReflect;\nvarying vec3 vRefract[3];\nvarying float vReflectionFactor;\nvoid main() {\nvec4 reflectedColor = textureCube( tCube, vec3( -vReflect.x, vReflect.yz ) );\nvec4 refractedColor = vec4( 1.0, 1.0, 1.0, 1.0 );\nrefractedColor.r = textureCube( tCube, vec3( -vRefract[0].x, vRefract[0].yz ) ).r;\nrefractedColor.g = textureCube( tCube, vec3( -vRefract[1].x, vRefract[1].yz ) ).g;\nrefractedColor.b = textureCube( tCube, vec3( -vRefract[2].x, vRefract[2].yz ) ).b;\nrefractedColor.a = 1.0;\ngl_FragColor = mix( refractedColor, reflectedColor, clamp( vReflectionFactor, 0.0, 1.0 ) );\n}",vertexShader:"uniform float mRefractionRatio;\nuniform float mFresnelBias;\nuniform float mFresnelScale;\nuniform float mFresnelPower;\nvarying vec3 vReflect;\nvarying vec3 vRefract[3];\nvarying float vReflectionFactor;\nvoid main() {\nvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\nvec4 mPosition = objectMatrix * vec4( position, 1.0 );\nvec3 nWorld = normalize ( mat3( objectMatrix[0].xyz, objectMatrix[1].xyz, objectMatrix[2].xyz ) * normal );\nvec3 I = mPosition.xyz - cameraPosition;\nvReflect = reflect( I, nWorld );\nvRefract[0] = refract( normalize( I ), nWorld, mRefractionRatio );\nvRefract[1] = refract( normalize( I ), nWorld, mRefractionRatio * 0.99 );\nvRefract[2] = refract( normalize( I ), nWorld, mRefractionRatio * 0.98 );\nvReflectionFactor = mFresnelBias + mFresnelScale * pow( 1.0 + dot( normalize( I ), nWorld ), mFresnelPower );\ngl_Position = projectionMatrix * mvPosition;\n}"},normal:{uniforms:THREE.UniformsUtils.merge([THREE.UniformsLib.fog,THREE.UniformsLib.lights,THREE.UniformsLib.shadowmap,{enableAO:{type:"i",value:0},enableDiffuse:{type:"i",value:0},enableSpecular:{type:"i",value:0},enableReflection:{type:"i",value:0},tDiffuse:{type:"t",value:0,texture:null},tCube:{type:"t",value:1,texture:null},tNormal:{type:"t",value:2,texture:null},tSpecular:{type:"t",value:3,texture:null},tAO:{type:"t",value:4,texture:null},tDisplacement:{type:"t",value:5,texture:null},uNormalScale:{type:"f",value:1},uDisplacementBias:{type:"f",value:0},uDisplacementScale:{type:"f",value:1},uDiffuseColor:{type:"c",value:new THREE.Color(15658734)},uSpecularColor:{type:"c",value:new THREE.Color(1118481)},uAmbientColor:{type:"c",value:new THREE.Color(328965)},uShininess:{type:"f",value:30},uOpacity:{type:"f",value:1},uReflectivity:{type:"f",value:0.5},uOffset:{type:"v2",value:new THREE.Vector2(0,0)},uRepeat:{type:"v2",value:new THREE.Vector2(1,1)}}]),fragmentShader:["uniform vec3 uAmbientColor;\nuniform vec3 uDiffuseColor;\nuniform vec3 uSpecularColor;\nuniform float uShininess;\nuniform float uOpacity;\nuniform bool enableDiffuse;\nuniform bool enableSpecular;\nuniform bool enableAO;\nuniform bool enableReflection;\nuniform sampler2D tDiffuse;\nuniform sampler2D tNormal;\nuniform sampler2D tSpecular;\nuniform sampler2D tAO;\nuniform samplerCube tCube;\nuniform float uNormalScale;\nuniform float uReflectivity;\nvarying vec3 vTangent;\nvarying vec3 vBinormal;\nvarying vec3 vNormal;\nvarying vec2 vUv;\nuniform vec3 ambientLightColor;\n#if MAX_DIR_LIGHTS > 0\nuniform vec3 directionalLightColor[ MAX_DIR_LIGHTS ];\nuniform vec3 directionalLightDirection[ MAX_DIR_LIGHTS ];\n#endif\n#if MAX_POINT_LIGHTS > 0\nuniform vec3 pointLightColor[ MAX_POINT_LIGHTS ];\nvarying vec4 vPointLight[ MAX_POINT_LIGHTS ];\n#endif\nvarying vec3 vViewPosition;",THREE.ShaderChunk.shadowmap_pars_fragment,THREE.ShaderChunk.fog_pars_fragment,"void main() {\ngl_FragColor = vec4( vec3( 1.0 ), uOpacity );\nvec3 specularTex = vec3( 1.0 );\nvec3 normalTex = texture2D( tNormal, vUv ).xyz * 2.0 - 1.0;\nnormalTex.xy *= uNormalScale;\nnormalTex = normalize( normalTex );\nif( enableDiffuse )\ngl_FragColor = gl_FragColor * texture2D( tDiffuse, vUv );\nif( enableAO )\ngl_FragColor.xyz = gl_FragColor.xyz * texture2D( tAO, vUv ).xyz;\nif( enableSpecular )\nspecularTex = texture2D( tSpecular, vUv ).xyz;\nmat3 tsb = mat3( vTangent, vBinormal, vNormal );\nvec3 finalNormal = tsb * normalTex;\nvec3 normal = normalize( finalNormal );\nvec3 viewPosition = normalize( vViewPosition );\n#if MAX_POINT_LIGHTS > 0\nvec3 pointDiffuse = vec3( 0.0 );\nvec3 pointSpecular = vec3( 0.0 );\nfor ( int i = 0; i < MAX_POINT_LIGHTS; i ++ ) {\nvec3 pointVector = normalize( vPointLight[ i ].xyz );\nvec3 pointHalfVector = normalize( vPointLight[ i ].xyz + viewPosition );\nfloat pointDistance = vPointLight[ i ].w;\nfloat pointDotNormalHalf = max( dot( normal, pointHalfVector ), 0.0 );\nfloat pointDiffuseWeight = max( dot( normal, pointVector ), 0.0 );\nfloat pointSpecularWeight = specularTex.r * pow( pointDotNormalHalf, uShininess );\npointDiffuse += pointDistance * pointLightColor[ i ] * uDiffuseColor * pointDiffuseWeight;\npointSpecular += pointDistance * pointLightColor[ i ] * uSpecularColor * pointSpecularWeight * pointDiffuseWeight;\n}\n#endif\n#if MAX_DIR_LIGHTS > 0\nvec3 dirDiffuse = vec3( 0.0 );\nvec3 dirSpecular = vec3( 0.0 );\nfor( int i = 0; i < MAX_DIR_LIGHTS; i++ ) {\nvec4 lDirection = viewMatrix * vec4( directionalLightDirection[ i ], 0.0 );\nvec3 dirVector = normalize( lDirection.xyz );\nvec3 dirHalfVector = normalize( lDirection.xyz + viewPosition );\nfloat dirDotNormalHalf = max( dot( normal, dirHalfVector ), 0.0 );\nfloat dirDiffuseWeight = max( dot( normal, dirVector ), 0.0 );\nfloat dirSpecularWeight = specularTex.r * pow( dirDotNormalHalf, uShininess );\ndirDiffuse += directionalLightColor[ i ] * uDiffuseColor * dirDiffuseWeight;\ndirSpecular += directionalLightColor[ i ] * uSpecularColor * dirSpecularWeight * dirDiffuseWeight;\n}\n#endif\nvec3 totalDiffuse = vec3( 0.0 );\nvec3 totalSpecular = vec3( 0.0 );\n#if MAX_DIR_LIGHTS > 0\ntotalDiffuse += dirDiffuse;\ntotalSpecular += dirSpecular;\n#endif\n#if MAX_POINT_LIGHTS > 0\ntotalDiffuse += pointDiffuse;\ntotalSpecular += pointSpecular;\n#endif\ngl_FragColor.xyz = gl_FragColor.xyz * ( totalDiffuse + ambientLightColor * uAmbientColor) + totalSpecular;\nif ( enableReflection ) {\nvec3 wPos = cameraPosition - vViewPosition;\nvec3 vReflect = reflect( normalize( wPos ), normal );\nvec4 cubeColor = textureCube( tCube, vec3( -vReflect.x, vReflect.yz ) );\ngl_FragColor.xyz = mix( gl_FragColor.xyz, cubeColor.xyz, uReflectivity );\n}",THREE.ShaderChunk.shadowmap_fragment,THREE.ShaderChunk.fog_fragment,"}"].join("\n"),vertexShader:["attribute vec4 tangent;\nuniform vec2 uOffset;\nuniform vec2 uRepeat;\n#ifdef VERTEX_TEXTURES\nuniform sampler2D tDisplacement;\nuniform float uDisplacementScale;\nuniform float uDisplacementBias;\n#endif\nvarying vec3 vTangent;\nvarying vec3 vBinormal;\nvarying vec3 vNormal;\nvarying vec2 vUv;\n#if MAX_POINT_LIGHTS > 0\nuniform vec3 pointLightPosition[ MAX_POINT_LIGHTS ];\nuniform float pointLightDistance[ MAX_POINT_LIGHTS ];\nvarying vec4 vPointLight[ MAX_POINT_LIGHTS ];\n#endif\nvarying vec3 vViewPosition;",THREE.ShaderChunk.shadowmap_pars_vertex,"void main() {\nvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\nvViewPosition = -mvPosition.xyz;\nvNormal = normalize( normalMatrix * normal );\nvTangent = normalize( normalMatrix * tangent.xyz );\nvBinormal = cross( vNormal, vTangent ) * tangent.w;\nvBinormal = normalize( vBinormal );\nvUv = uv * uRepeat + uOffset;\n#if MAX_POINT_LIGHTS > 0\nfor( int i = 0; i < MAX_POINT_LIGHTS; i++ ) {\nvec4 lPosition = viewMatrix * vec4( pointLightPosition[ i ], 1.0 );\nvec3 lVector = lPosition.xyz - mvPosition.xyz;\nfloat lDistance = 1.0;\nif ( pointLightDistance[ i ] > 0.0 )\nlDistance = 1.0 - min( ( length( lVector ) / pointLightDistance[ i ] ), 1.0 );\nlVector = normalize( lVector );\nvPointLight[ i ] = vec4( lVector, lDistance );\n}\n#endif\n#ifdef VERTEX_TEXTURES\nvec3 dv = texture2D( tDisplacement, uv ).xyz;\nfloat df = uDisplacementScale * dv.x + uDisplacementBias;\nvec4 displacedPosition = vec4( vNormal.xyz * df, 0.0 ) + mvPosition;\ngl_Position = projectionMatrix * displacedPosition;\n#else\ngl_Position = projectionMatrix * mvPosition;\n#endif",THREE.ShaderChunk.shadowmap_vertex,"}"].join("\n")},cube:{uniforms:{tCube:{type:"t",value:1,texture:null},tFlip:{type:"f",value:-1}},vertexShader:"varying vec3 vViewPosition;\nvoid main() {\nvec4 mPosition = objectMatrix * vec4( position, 1.0 );\nvViewPosition = cameraPosition - mPosition.xyz;\ngl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",fragmentShader:"uniform samplerCube tCube;\nuniform float tFlip;\nvarying vec3 vViewPosition;\nvoid main() {\nvec3 wPos = cameraPosition - vViewPosition;\ngl_FragColor = textureCube( tCube, vec3( tFlip * wPos.x, wPos.yz ) );\n}"}}}}THREE.Curve=function(){};THREE.Curve.prototype.getPoint=function(){console.log("Warning, getPoint() not implemented!");return null};THREE.Curve.prototype.getPointAt=function(b){return this.getPoint(this.getUtoTmapping(b))};THREE.Curve.prototype.getPoints=function(e){e||(e=5);var f,d=[];for(f=0;f<=e;f++){d.push(this.getPoint(f/e))}return d};THREE.Curve.prototype.getSpacedPoints=function(e){e||(e=5);var f,d=[];for(f=0;f<=e;f++){d.push(this.getPointAt(f/e))}return d};THREE.Curve.prototype.getLength=function(){var b=this.getLengths();return b[b.length-1]};THREE.Curve.prototype.getLengths=function(h){h||(h=200);if(this.cacheArcLengths&&this.cacheArcLengths.length==h+1){return this.cacheArcLengths}var m=[],e,l=this.getPoint(0),j,k=0;m.push(0);for(j=1;j<=h;j++){e=this.getPoint(j/h),k+=e.distanceTo(l),m.push(k),l=e}return this.cacheArcLengths=m};THREE.Curve.prototype.getUtoTmapping=function(r,p){var q=this.getLengths(),o=0,l=q.length,m;m=p?p:r*q[l-1];for(var n=0,k=l-1,j;n<=k;){if(o=Math.floor(n+(k-n)/2),j=q[o]-m,j<0){n=o+1}else{if(j>0){k=o-1}else{k=o;break}}}o=k;if(q[o]==m){return o/(l-1)}n=q[o];return q=(o+(m-n)/(q[o+1]-n))/(l-1)};THREE.Curve.prototype.getNormalVector=function(b){b=this.getTangent(b);return new THREE.Vector2(-b.y,b.x)};THREE.Curve.prototype.getTangent=function(b){var d=b-0.0001;b+=0.0001;d<0&&(d=0);b>1&&(b=1);d=this.getPoint(d);b=this.getPoint(b);return d.clone().subSelf(b).normalize()};THREE.Curve.prototype.getTangentAt=function(b){return this.getTangent(this.getUtoTmapping(b))};THREE.LineCurve=function(b,d){b instanceof THREE.Vector2?(this.v1=b,this.v2=d):THREE.LineCurve.oldConstructor.apply(this,arguments)};THREE.LineCurve.oldConstructor=function(f,h,e,g){this.constructor(new THREE.Vector2(f,h),new THREE.Vector2(e,g))};THREE.LineCurve.prototype=new THREE.Curve;THREE.LineCurve.prototype.constructor=THREE.LineCurve;THREE.LineCurve.prototype.getPoint=function(b){var d=new THREE.Vector2;d.sub(this.v2,this.v1);d.multiplyScalar(b).addSelf(this.v1);return d};THREE.LineCurve.prototype.getPointAt=function(b){return this.getPoint(b)};THREE.LineCurve.prototype.getTangent=function(){var b=new THREE.Vector2;b.sub(this.v2,this.v1);b.normalize();return b};THREE.QuadraticBezierCurve=function(f,h,e){if(!(h instanceof THREE.Vector2)){var g=Array.prototype.slice.call(arguments),f=new THREE.Vector2(g[0],g[1]),h=new THREE.Vector2(g[2],g[3]),e=new THREE.Vector2(g[4],g[5])}this.v0=f;this.v1=h;this.v2=e};THREE.QuadraticBezierCurve.prototype=new THREE.Curve;THREE.QuadraticBezierCurve.prototype.constructor=THREE.QuadraticBezierCurve;THREE.QuadraticBezierCurve.prototype.getPoint=function(b){var d;d=THREE.Shape.Utils.b2(b,this.v0.x,this.v1.x,this.v2.x);b=THREE.Shape.Utils.b2(b,this.v0.y,this.v1.y,this.v2.y);return new THREE.Vector2(d,b)};THREE.QuadraticBezierCurve.prototype.getTangent=function(b){var d;d=THREE.Curve.Utils.tangentQuadraticBezier(b,this.v0.x,this.v1.x,this.v2.x);b=THREE.Curve.Utils.tangentQuadraticBezier(b,this.v0.y,this.v1.y,this.v2.y);d=new THREE.Vector2(d,b);d.normalize();return d};THREE.CubicBezierCurve=function(f,k,e,j){if(!(k instanceof THREE.Vector2)){var h=Array.prototype.slice.call(arguments),f=new THREE.Vector2(h[0],h[1]),k=new THREE.Vector2(h[2],h[3]),e=new THREE.Vector2(h[4],h[5]),j=new THREE.Vector2(h[6],h[7])}this.v0=f;this.v1=k;this.v2=e;this.v3=j};THREE.CubicBezierCurve.prototype=new THREE.Curve;THREE.CubicBezierCurve.prototype.constructor=THREE.CubicBezierCurve;THREE.CubicBezierCurve.prototype.getPoint=function(b){var d;d=THREE.Shape.Utils.b3(b,this.v0.x,this.v1.x,this.v2.x,this.v3.x);b=THREE.Shape.Utils.b3(b,this.v0.y,this.v1.y,this.v2.y,this.v3.y);return new THREE.Vector2(d,b)};THREE.CubicBezierCurve.prototype.getTangent=function(b){var d;d=THREE.Curve.Utils.tangentCubicBezier(b,this.v0.x,this.v1.x,this.v2.x,this.v3.x);b=THREE.Curve.Utils.tangentCubicBezier(b,this.v0.y,this.v1.y,this.v2.y,this.v3.y);d=new THREE.Vector2(d,b);d.normalize();return d};THREE.SplineCurve=function(b){this.points=b==void 0?[]:b};THREE.SplineCurve.prototype=new THREE.Curve;THREE.SplineCurve.prototype.constructor=THREE.SplineCurve;THREE.SplineCurve.prototype.getPoint=function(f){var k=new THREE.Vector2,e=[],j=this.points,h;h=(j.length-1)*f;f=Math.floor(h);h-=f;e[0]=f==0?f:f-1;e[1]=f;e[2]=f>j.length-2?f:f+1;e[3]=f>j.length-3?f:f+2;k.x=THREE.Curve.Utils.interpolate(j[e[0]].x,j[e[1]].x,j[e[2]].x,j[e[3]].x,h);k.y=THREE.Curve.Utils.interpolate(j[e[0]].y,j[e[1]].y,j[e[2]].y,j[e[3]].y,h);return k};THREE.ArcCurve=function(h,m,e,l,j,k){this.aX=h;this.aY=m;this.aRadius=e;this.aStartAngle=l;this.aEndAngle=j;this.aClockwise=k};THREE.ArcCurve.prototype=new THREE.Curve;THREE.ArcCurve.prototype.constructor=THREE.ArcCurve;THREE.ArcCurve.prototype.getPoint=function(b){var d=this.aEndAngle-this.aStartAngle;this.aClockwise||(b=1-b);b=this.aStartAngle+b*d;return new THREE.Vector2(this.aX+this.aRadius*Math.cos(b),this.aY+this.aRadius*Math.sin(b))};THREE.Curve.Utils={tangentQuadraticBezier:function(f,h,e,g){return 2*(1-f)*(e-h)+2*f*(g-e)},tangentCubicBezier:function(f,k,e,j,h){return -3*k*(1-f)*(1-f)+3*e*(1-f)*(1-f)-6*f*e*(1-f)+6*f*j*(1-f)-3*f*f*j+3*f*f*h},tangentSpline:function(b){return 6*b*b-6*b+(3*b*b-4*b+1)+(-6*b*b+6*b)+(3*b*b-2*b)},interpolate:function(h,m,e,l,j){var h=(e-h)*0.5,l=(l-m)*0.5,k=j*j;return(2*m-2*e+h+l)*j*k+(-3*m+3*e-2*h-l)*k+h*j+m}};THREE.Curve.create=function(b,d){b.prototype=new THREE.Curve;b.prototype.constructor=b;b.prototype.getPoint=d;return b};THREE.LineCurve3=THREE.Curve.create(function(b,d){this.v1=b;this.v2=d},function(b){var d=new THREE.Vector3;d.sub(this.v2,this.v1);d.multiplyScalar(b);d.addSelf(this.v1);return d});THREE.QuadraticBezierCurve3=THREE.Curve.create(function(e,f,d){this.v0=e;this.v1=f;this.v2=d},function(e){var f,d;f=THREE.Shape.Utils.b2(e,this.v0.x,this.v1.x,this.v2.x);d=THREE.Shape.Utils.b2(e,this.v0.y,this.v1.y,this.v2.y);e=THREE.Shape.Utils.b2(e,this.v0.z,this.v1.z,this.v2.z);return new THREE.Vector3(f,d,e)});THREE.CubicBezierCurve3=THREE.Curve.create(function(f,h,e,g){this.v0=f;this.v1=h;this.v2=e;this.v3=g},function(e){var f,d;f=THREE.Shape.Utils.b3(e,this.v0.x,this.v1.x,this.v2.x,this.v3.x);d=THREE.Shape.Utils.b3(e,this.v0.y,this.v1.y,this.v2.y,this.v3.y);e=THREE.Shape.Utils.b3(e,this.v0.z,this.v1.z,this.v2.z,this.v3.z);return new THREE.Vector3(f,d,e)});THREE.SplineCurve3=THREE.Curve.create(function(b){this.points=b==void 0?[]:b},function(f){var k=new THREE.Vector3,e=[],j=this.points,h;h=(j.length-1)*f;f=Math.floor(h);h-=f;e[0]=f==0?f:f-1;e[1]=f;e[2]=f>j.length-2?f:f+1;e[3]=f>j.length-3?f:f+2;k.x=THREE.Curve.Utils.interpolate(j[e[0]].x,j[e[1]].x,j[e[2]].x,j[e[3]].x,h);k.y=THREE.Curve.Utils.interpolate(j[e[0]].y,j[e[1]].y,j[e[2]].y,j[e[3]].y,h);k.z=THREE.Curve.Utils.interpolate(j[e[0]].z,j[e[1]].z,j[e[2]].z,j[e[3]].z,h);return k});THREE.CurvePath=function(){this.curves=[];this.bends=[]};THREE.CurvePath.prototype=new THREE.Curve;THREE.CurvePath.prototype.constructor=THREE.CurvePath;THREE.CurvePath.prototype.add=function(b){this.curves.push(b)};THREE.CurvePath.prototype.checkConnection=function(){};THREE.CurvePath.prototype.closePath=function(){};THREE.CurvePath.prototype.getPoint=function(e){for(var f=e*this.getLength(),d=this.getCurveLengths(),e=0;e<d.length;){if(d[e]>=f){return f=d[e]-f,e=this.curves[e],f=1-f/e.getLength(),e.getPointAt(f)}e++}return null};THREE.CurvePath.prototype.getLength=function(){var b=this.getCurveLengths();return b[b.length-1]};THREE.CurvePath.prototype.getCurveLengths=function(){if(this.cacheLengths&&this.cacheLengths.length==this.curves.length){return this.cacheLengths}var f=[],h=0,e,g=this.curves.length;for(e=0;e<g;e++){h+=this.curves[e].getLength(),f.push(h)}return this.cacheLengths=f};THREE.CurvePath.prototype.getBoundingBox=function(){var r=this.getPoints(),p,q,o,l;p=q=Number.NEGATIVE_INFINITY;o=l=Number.POSITIVE_INFINITY;var m,n,k,j;j=new THREE.Vector2;n=0;for(k=r.length;n<k;n++){m=r[n];if(m.x>p){p=m.x}else{if(m.x<o){o=m.x}}if(m.y>q){q=m.y}else{if(m.y<q){l=m.y}}j.addSelf(m.x,m.y)}return{minX:o,minY:l,maxX:p,maxY:q,centroid:j.divideScalar(k)}};THREE.CurvePath.prototype.createPointsGeometry=function(b){return this.createGeometry(this.getPoints(b,!0))};THREE.CurvePath.prototype.createSpacedPointsGeometry=function(b){return this.createGeometry(this.getSpacedPoints(b,!0))};THREE.CurvePath.prototype.createGeometry=function(e){for(var f=new THREE.Geometry,d=0;d<e.length;d++){f.vertices.push(new THREE.Vertex(new THREE.Vector3(e[d].x,e[d].y,0)))}return f};THREE.CurvePath.prototype.addWrapPath=function(b){this.bends.push(b)};THREE.CurvePath.prototype.getTransformedPoints=function(f,k){var e=this.getPoints(f),j,h;if(!k){k=this.bends}j=0;for(h=k.length;j<h;j++){e=this.getWrapPoints(e,k[j])}return e};THREE.CurvePath.prototype.getTransformedSpacedPoints=function(f,k){var e=this.getSpacedPoints(f),j,h;if(!k){k=this.bends}j=0;for(h=k.length;j<h;j++){e=this.getWrapPoints(e,k[j])}return e};THREE.CurvePath.prototype.getWrapPoints=function(r,p){var q=this.getBoundingBox(),o,l,m,n,k,j;o=0;for(l=r.length;o<l;o++){m=r[o],n=m.x,k=m.y,j=n/q.maxX,j=p.getUtoTmapping(j,n),n=p.getPoint(j),k=p.getNormalVector(j).multiplyScalar(k),m.x=n.x+k.x,m.y=n.y+k.y}return r};THREE.Path=function(b){THREE.CurvePath.call(this);this.actions=[];b&&this.fromPoints(b)};THREE.Path.prototype=new THREE.CurvePath;THREE.Path.prototype.constructor=THREE.Path;THREE.PathActions={MOVE_TO:"moveTo",LINE_TO:"lineTo",QUADRATIC_CURVE_TO:"quadraticCurveTo",BEZIER_CURVE_TO:"bezierCurveTo",CSPLINE_THRU:"splineThru",ARC:"arc"};THREE.Path.prototype.fromPoints=function(e){this.moveTo(e[0].x,e[0].y);var f,d=e.length;for(f=1;f<d;f++){this.lineTo(e[f].x,e[f].y)}};THREE.Path.prototype.moveTo=function(){var b=Array.prototype.slice.call(arguments);this.actions.push({action:THREE.PathActions.MOVE_TO,args:b})};THREE.Path.prototype.lineTo=function(f,h){var e=Array.prototype.slice.call(arguments),g=this.actions[this.actions.length-1].args;this.curves.push(new THREE.LineCurve(new THREE.Vector2(g[g.length-2],g[g.length-1]),new THREE.Vector2(f,h)));this.actions.push({action:THREE.PathActions.LINE_TO,args:e})};THREE.Path.prototype.quadraticCurveTo=function(h,m,e,l){var j=Array.prototype.slice.call(arguments),k=this.actions[this.actions.length-1].args;this.curves.push(new THREE.QuadraticBezierCurve(new THREE.Vector2(k[k.length-2],k[k.length-1]),new THREE.Vector2(h,m),new THREE.Vector2(e,l)));this.actions.push({action:THREE.PathActions.QUADRATIC_CURVE_TO,args:j})};THREE.Path.prototype.bezierCurveTo=function(k,q,j,p,m,n){var o=Array.prototype.slice.call(arguments),l=this.actions[this.actions.length-1].args;this.curves.push(new THREE.CubicBezierCurve(new THREE.Vector2(l[l.length-2],l[l.length-1]),new THREE.Vector2(k,q),new THREE.Vector2(j,p),new THREE.Vector2(m,n)));this.actions.push({action:THREE.PathActions.BEZIER_CURVE_TO,args:o})};THREE.Path.prototype.splineThru=function(e){var f=Array.prototype.slice.call(arguments),d=this.actions[this.actions.length-1].args,d=[new THREE.Vector2(d[d.length-2],d[d.length-1])];Array.prototype.push.apply(d,e);this.curves.push(new THREE.SplineCurve(d));this.actions.push({action:THREE.PathActions.CSPLINE_THRU,args:f})};THREE.Path.prototype.arc=function(j,o,h,n,k,l){var m=Array.prototype.slice.call(arguments);this.curves.push(new THREE.ArcCurve(j,o,h,n,k,l));this.actions.push({action:THREE.PathActions.ARC,args:m})};THREE.Path.prototype.getSpacedPoints=function(e){e||(e=40);for(var f=[],d=0;d<e;d++){f.push(this.getPoint(d/e))}return f};THREE.Path.prototype.getPoints=function(H,F){var H=H||12,G=[],E,B,C,D,A,z,x,y,u,t,w,j,v;E=0;for(B=this.actions.length;E<B;E++){switch(C=this.actions[E],D=C.action,C=C.args,D){case THREE.PathActions.LINE_TO:G.push(new THREE.Vector2(C[0],C[1]));break;case THREE.PathActions.QUADRATIC_CURVE_TO:A=C[2];z=C[3];u=C[0];t=C[1];G.length>0?(D=G[G.length-1],w=D.x,j=D.y):(D=this.actions[E-1].args,w=D[D.length-2],j=D[D.length-1]);for(D=1;D<=H;D++){v=D/H,C=THREE.Shape.Utils.b2(v,w,u,A),v=THREE.Shape.Utils.b2(v,j,t,z),G.push(new THREE.Vector2(C,v))}break;case THREE.PathActions.BEZIER_CURVE_TO:A=C[4];z=C[5];u=C[0];t=C[1];x=C[2];y=C[3];G.length>0?(D=G[G.length-1],w=D.x,j=D.y):(D=this.actions[E-1].args,w=D[D.length-2],j=D[D.length-1]);for(D=1;D<=H;D++){v=D/H,C=THREE.Shape.Utils.b3(v,w,u,x,A),v=THREE.Shape.Utils.b3(v,j,t,y,z),G.push(new THREE.Vector2(C,v))}break;case THREE.PathActions.CSPLINE_THRU:D=this.actions[E-1].args;D=[new THREE.Vector2(D[D.length-2],D[D.length-1])];v=H*C[0].length;D=D.concat(C[0]);C=new THREE.SplineCurve(D);for(D=1;D<=v;D++){G.push(C.getPointAt(D/v))}break;case THREE.PathActions.ARC:D=this.actions[E-1].args;A=C[0];z=C[1];x=C[2];u=C[3];v=C[4];t=!!C[5];y=D[D.length-2];w=D[D.length-1];D.length==0&&(y=w=0);j=v-u;var s=H*2;for(D=1;D<=s;D++){v=D/s,t||(v=1-v),v=u+v*j,C=y+A+x*Math.cos(v),v=w+z+x*Math.sin(v),G.push(new THREE.Vector2(C,v))}}}F&&G.push(G[0]);return G};THREE.Path.prototype.transform=function(b,d){this.getBoundingBox();return this.getWrapPoints(this.getPoints(d),b)};THREE.Path.prototype.nltransform=function(x,v,w,u,r,s){var t=this.getPoints(),q,p,m,n,j;q=0;for(p=t.length;q<p;q++){m=t[q],n=m.x,j=m.y,m.x=x*n+v*j+w,m.y=u*j+r*n+s}return t};THREE.Path.prototype.debug=function(f){var k=this.getBoundingBox();f||(f=document.createElement("canvas"),f.setAttribute("width",k.maxX+100),f.setAttribute("height",k.maxY+100),document.body.appendChild(f));k=f.getContext("2d");k.fillStyle="white";k.fillRect(0,0,f.width,f.height);k.strokeStyle="black";k.beginPath();var e,j,h,f=0;for(e=this.actions.length;f<e;f++){j=this.actions[f],h=j.args,j=j.action,j!=THREE.PathActions.CSPLINE_THRU&&k[j].apply(k,h)}k.stroke();k.closePath();k.strokeStyle="red";j=this.getPoints();f=0;for(e=j.length;f<e;f++){h=j[f],k.beginPath(),k.arc(h.x,h.y,1.5,0,Math.PI*2,!1),k.stroke(),k.closePath()}};THREE.Path.prototype.toShapes=function(){var j,o,h,n,k=[],l=new THREE.Path;j=0;for(o=this.actions.length;j<o;j++){h=this.actions[j],n=h.args,h=h.action,h==THREE.PathActions.MOVE_TO&&l.actions.length!=0&&(k.push(l),l=new THREE.Path),l[h].apply(l,n)}l.actions.length!=0&&k.push(l);if(k.length==0){return[]}var m,l=[];if(THREE.Shape.Utils.isClockWise(k[0].getPoints())){j=0;for(o=k.length;j<o;j++){n=k[j],THREE.Shape.Utils.isClockWise(n.getPoints())?(m&&l.push(m),m=new THREE.Shape,m.actions=n.actions,m.curves=n.curves):m.holes.push(n)}l.push(m)}else{m=new THREE.Shape;j=0;for(o=k.length;j<o;j++){n=k[j],THREE.Shape.Utils.isClockWise(n.getPoints())?(m.actions=n.actions,m.curves=n.curves,l.push(m),m=new THREE.Shape):m.holes.push(n)}}return l};THREE.Shape=function(){THREE.Path.apply(this,arguments);this.holes=[]};THREE.Shape.prototype=new THREE.Path;THREE.Shape.prototype.constructor=THREE.Path;THREE.Shape.prototype.extrude=function(b){return new THREE.ExtrudeGeometry(this,b)};THREE.Shape.prototype.getPointsHoles=function(f){var h,e=this.holes.length,g=[];for(h=0;h<e;h++){g[h]=this.holes[h].getTransformedPoints(f,this.bends)}return g};THREE.Shape.prototype.getSpacedPointsHoles=function(f){var h,e=this.holes.length,g=[];for(h=0;h<e;h++){g[h]=this.holes[h].getTransformedSpacedPoints(f,this.bends)}return g};THREE.Shape.prototype.extractAllPoints=function(b){return{shape:this.getTransformedPoints(b),holes:this.getPointsHoles(b)}};THREE.Shape.prototype.extractAllSpacedPoints=function(b){return{shape:this.getTransformedSpacedPoints(b),holes:this.getSpacedPointsHoles(b)}};THREE.Shape.Utils={removeHoles:function(H,F){var G=H.concat(),E=G.concat(),B,C,D,A,z,x,y,u,t,w,j=[];for(z=0;z<F.length;z++){x=F[z];Array.prototype.push.apply(E,x);C=Number.POSITIVE_INFINITY;for(B=0;B<x.length;B++){t=x[B];w=[];for(u=0;u<G.length;u++){y=G[u],y=t.distanceToSquared(y),w.push(y),y<C&&(C=y,D=B,A=u)}}B=A-1>=0?A-1:G.length-1;C=D-1>=0?D-1:x.length-1;var v=[x[D],G[A],G[B]];u=THREE.FontUtils.Triangulate.area(v);var s=[x[D],x[C],G[A]];t=THREE.FontUtils.Triangulate.area(s);w=A;y=D;A+=1;D+=-1;A<0&&(A+=G.length);A%=G.length;D<0&&(D+=x.length);D%=x.length;B=A-1>=0?A-1:G.length-1;C=D-1>=0?D-1:x.length-1;v=[x[D],G[A],G[B]];v=THREE.FontUtils.Triangulate.area(v);s=[x[D],x[C],G[A]];s=THREE.FontUtils.Triangulate.area(s);u+t>v+s&&(A=w,D=y,A<0&&(A+=G.length),A%=G.length,D<0&&(D+=x.length),D%=x.length,B=A-1>=0?A-1:G.length-1,C=D-1>=0?D-1:x.length-1);u=G.slice(0,A);t=G.slice(A);w=x.slice(D);y=x.slice(0,D);C=[x[D],x[C],G[A]];j.push([x[D],G[A],G[B]]);j.push(C);G=u.concat(w).concat(y).concat(t)}return{shape:G,isolatedPts:j,allpoints:E}},triangulateShape:function(t,r){var s=THREE.Shape.Utils.removeHoles(t,r),q=s.allpoints,n=s.isolatedPts,s=THREE.FontUtils.Triangulate(s.shape,!1),o,p,m,k,j={};o=0;for(p=q.length;o<p;o++){k=q[o].x+":"+q[o].y,j[k]!==void 0&&console.log("Duplicate point",k),j[k]=o}o=0;for(p=s.length;o<p;o++){m=s[o];for(q=0;q<3;q++){k=m[q].x+":"+m[q].y,k=j[k],k!==void 0&&(m[q]=k)}}o=0;for(p=n.length;o<p;o++){m=n[o];for(q=0;q<3;q++){k=m[q].x+":"+m[q].y,k=j[k],k!==void 0&&(m[q]=k)}}return s.concat(n)},isClockWise:function(b){return THREE.FontUtils.Triangulate.area(b)<0},b2p0:function(e,f){var d=1-e;return d*d*f},b2p1:function(b,d){return 2*(1-b)*b*d},b2p2:function(b,d){return b*b*d},b2:function(f,h,e,g){return this.b2p0(f,h)+this.b2p1(f,e)+this.b2p2(f,g)},b3p0:function(e,f){var d=1-e;return d*d*d*f},b3p1:function(e,f){var d=1-e;return 3*d*d*e*f},b3p2:function(b,d){return 3*(1-b)*b*b*d},b3p3:function(b,d){return b*b*b*d},b3:function(f,k,e,j,h){return this.b3p0(f,k)+this.b3p1(f,e)+this.b3p2(f,j)+this.b3p3(f,h)}};THREE.TextPath=function(b,d){THREE.Path.call(this);this.parameters=d||{};this.set(b)};THREE.TextPath.prototype.set=function(h,m){this.text=h;var m=m||this.parameters,e=m.curveSegments!==void 0?m.curveSegments:4,l=m.font!==void 0?m.font:"helvetiker",j=m.weight!==void 0?m.weight:"normal",k=m.style!==void 0?m.style:"normal";THREE.FontUtils.size=m.size!==void 0?m.size:100;THREE.FontUtils.divisions=e;THREE.FontUtils.face=l;THREE.FontUtils.weight=j;THREE.FontUtils.style=k};THREE.TextPath.prototype.toShapes=function(){for(var f=THREE.FontUtils.drawText(this.text).paths,h=[],e=0,g=f.length;e<g;e++){Array.prototype.push.apply(h,f[e].toShapes())}return h};THREE.AnimationHandler=function(){var f=[],h={},e={update:function(a){for(var d=0;d<f.length;d++){f[d].update(a)}},addToUpdate:function(a){f.indexOf(a)===-1&&f.push(a)},removeFromUpdate:function(a){a=f.indexOf(a);a!==-1&&f.splice(a,1)},add:function(m){h[m.name]!==void 0&&console.log("THREE.AnimationHandler.add: Warning! "+m.name+" already exists in library. Overwriting.");h[m.name]=m;if(m.initialized!==!0){for(var c=0;c<m.hierarchy.length;c++){for(var q=0;q<m.hierarchy[c].keys.length;q++){if(m.hierarchy[c].keys[q].time<0){m.hierarchy[c].keys[q].time=0}if(m.hierarchy[c].keys[q].rot!==void 0&&!(m.hierarchy[c].keys[q].rot instanceof THREE.Quaternion)){var p=m.hierarchy[c].keys[q].rot;m.hierarchy[c].keys[q].rot=new THREE.Quaternion(p[0],p[1],p[2],p[3])}}if(m.hierarchy[c].keys[0].morphTargets!==void 0){p={};for(q=0;q<m.hierarchy[c].keys.length;q++){for(var o=0;o<m.hierarchy[c].keys[q].morphTargets.length;o++){var j=m.hierarchy[c].keys[q].morphTargets[o];p[j]=-1}}m.hierarchy[c].usedMorphTargets=p;for(q=0;q<m.hierarchy[c].keys.length;q++){var n={};for(j in p){for(o=0;o<m.hierarchy[c].keys[q].morphTargets.length;o++){if(m.hierarchy[c].keys[q].morphTargets[o]===j){n[j]=m.hierarchy[c].keys[q].morphTargetsInfluences[o];break}}o===m.hierarchy[c].keys[q].morphTargets.length&&(n[j]=0)}m.hierarchy[c].keys[q].morphTargetsInfluences=n}}for(q=1;q<m.hierarchy[c].keys.length;q++){m.hierarchy[c].keys[q].time===m.hierarchy[c].keys[q-1].time&&(m.hierarchy[c].keys.splice(q,1),q--)}for(q=1;q<m.hierarchy[c].keys.length;q++){m.hierarchy[c].keys[q].index=q}}q=parseInt(m.length*m.fps,10);m.JIT={};m.JIT.hierarchy=[];for(c=0;c<m.hierarchy.length;c++){m.JIT.hierarchy.push(Array(q))}m.initialized=!0}},get:function(b){if(typeof b==="string"){return h[b]?h[b]:(console.log("THREE.AnimationHandler.get: Couldn't find animation "+b),null)}},parse:function(j){var d=[];if(j instanceof THREE.SkinnedMesh){for(var k=0;k<j.bones.length;k++){d.push(j.bones[k])}}else{g(j,d)}return d}},g=function(j,d){d.push(j);for(var k=0;k<j.children.length;k++){g(j.children[k],d)}};e.LINEAR=0;e.CATMULLROM=1;e.CATMULLROM_FORWARD=2;return e}();THREE.Animation=function(f,h,e,g){this.root=f;this.data=THREE.AnimationHandler.get(h);this.hierarchy=THREE.AnimationHandler.parse(f);this.currentTime=0;this.timeScale=1;this.isPlaying=!1;this.loop=this.isPaused=!0;this.interpolationType=e!==void 0?e:THREE.AnimationHandler.LINEAR;this.JITCompile=g!==void 0?g:!0;this.points=[];this.target=new THREE.Vector3};THREE.Animation.prototype.play=function(h,m){if(!this.isPlaying){this.isPlaying=!0;this.loop=h!==void 0?h:!0;this.currentTime=m!==void 0?m:0;var e,l=this.hierarchy.length,j;for(e=0;e<l;e++){j=this.hierarchy[e];if(this.interpolationType!==THREE.AnimationHandler.CATMULLROM_FORWARD){j.useQuaternion=!0}j.matrixAutoUpdate=!0;if(j.animationCache===void 0){j.animationCache={},j.animationCache.prevKey={pos:0,rot:0,scl:0},j.animationCache.nextKey={pos:0,rot:0,scl:0},j.animationCache.originalMatrix=j instanceof THREE.Bone?j.skinMatrix:j.matrix}var k=j.animationCache.prevKey;j=j.animationCache.nextKey;k.pos=this.data.hierarchy[e].keys[0];k.rot=this.data.hierarchy[e].keys[0];k.scl=this.data.hierarchy[e].keys[0];j.pos=this.getNextKeyWith("pos",e,1);j.rot=this.getNextKeyWith("rot",e,1);j.scl=this.getNextKeyWith("scl",e,1)}this.update(0)}this.isPaused=!1;THREE.AnimationHandler.addToUpdate(this)};THREE.Animation.prototype.pause=function(){this.isPaused?THREE.AnimationHandler.addToUpdate(this):THREE.AnimationHandler.removeFromUpdate(this);this.isPaused=!this.isPaused};THREE.Animation.prototype.stop=function(){this.isPaused=this.isPlaying=!1;THREE.AnimationHandler.removeFromUpdate(this);for(var b=0;b<this.hierarchy.length;b++){if(this.hierarchy[b].animationCache!==void 0){this.hierarchy[b] instanceof THREE.Bone?this.hierarchy[b].skinMatrix=this.hierarchy[b].animationCache.originalMatrix:this.hierarchy[b].matrix=this.hierarchy[b].animationCache.originalMatrix,delete this.hierarchy[b].animationCache}}};THREE.Animation.prototype.update=function(F){if(this.isPlaying){var D=["pos","rot","scl"],E,C,z,A,B,y,x,v,w=this.data.JIT.hierarchy,s,q;this.currentTime+=F*this.timeScale;q=this.currentTime;s=this.currentTime%=this.data.length;v=parseInt(Math.min(s*this.data.fps,this.data.length*this.data.fps),10);for(var u=0,j=this.hierarchy.length;u<j;u++){if(F=this.hierarchy[u],x=F.animationCache,this.JITCompile&&w[u][v]!==void 0){F instanceof THREE.Bone?(F.skinMatrix=w[u][v],F.matrixAutoUpdate=!1,F.matrixWorldNeedsUpdate=!1):(F.matrix=w[u][v],F.matrixAutoUpdate=!1,F.matrixWorldNeedsUpdate=!0)}else{if(this.JITCompile){F instanceof THREE.Bone?F.skinMatrix=F.animationCache.originalMatrix:F.matrix=F.animationCache.originalMatrix}for(var t=0;t<3;t++){E=D[t];B=x.prevKey[E];y=x.nextKey[E];if(y.time<=q){if(s<q){if(this.loop){B=this.data.hierarchy[u].keys[0];for(y=this.getNextKeyWith(E,u,1);y.time<s;){B=y,y=this.getNextKeyWith(E,u,y.index+1)}}else{this.stop();return}}else{do{B=y,y=this.getNextKeyWith(E,u,y.index+1)}while(y.time<s)}x.prevKey[E]=B;x.nextKey[E]=y}F.matrixAutoUpdate=!0;F.matrixWorldNeedsUpdate=!0;C=(s-B.time)/(y.time-B.time);z=B[E];A=y[E];if(C<0||C>1){console.log("THREE.Animation.update: Warning! Scale out of bounds:"+C+" on bone "+u),C=C<0?0:1}if(E==="pos"){if(E=F.position,this.interpolationType===THREE.AnimationHandler.LINEAR){E.x=z[0]+(A[0]-z[0])*C,E.y=z[1]+(A[1]-z[1])*C,E.z=z[2]+(A[2]-z[2])*C}else{if(this.interpolationType===THREE.AnimationHandler.CATMULLROM||this.interpolationType===THREE.AnimationHandler.CATMULLROM_FORWARD){if(this.points[0]=this.getPrevKeyWith("pos",u,B.index-1).pos,this.points[1]=z,this.points[2]=A,this.points[3]=this.getNextKeyWith("pos",u,y.index+1).pos,C=C*0.33+0.33,z=this.interpolateCatmullRom(this.points,C),E.x=z[0],E.y=z[1],E.z=z[2],this.interpolationType===THREE.AnimationHandler.CATMULLROM_FORWARD){C=this.interpolateCatmullRom(this.points,C*1.01),this.target.set(C[0],C[1],C[2]),this.target.subSelf(E),this.target.y=0,this.target.normalize(),C=Math.atan2(this.target.x,this.target.z),F.rotation.set(0,C,0)}}}}else{if(E==="rot"){THREE.Quaternion.slerp(z,A,F.quaternion,C)}else{if(E==="scl"){E=F.scale,E.x=z[0]+(A[0]-z[0])*C,E.y=z[1]+(A[1]-z[1])*C,E.z=z[2]+(A[2]-z[2])*C}}}}}}if(this.JITCompile&&w[0][v]===void 0){this.hierarchy[0].update(null,!0);for(u=0;u<this.hierarchy.length;u++){w[u][v]=this.hierarchy[u] instanceof THREE.Bone?this.hierarchy[u].skinMatrix.clone():this.hierarchy[u].matrix.clone()}}}};THREE.Animation.prototype.interpolateCatmullRom=function(t,r){var s=[],q=[],n,o,p,m,k,j;n=(t.length-1)*r;o=Math.floor(n);n-=o;s[0]=o===0?o:o-1;s[1]=o;s[2]=o>t.length-2?o:o+1;s[3]=o>t.length-3?o:o+2;o=t[s[0]];m=t[s[1]];k=t[s[2]];j=t[s[3]];s=n*n;p=n*s;q[0]=this.interpolate(o[0],m[0],k[0],j[0],n,s,p);q[1]=this.interpolate(o[1],m[1],k[1],j[1],n,s,p);q[2]=this.interpolate(o[2],m[2],k[2],j[2],n,s,p);return q};THREE.Animation.prototype.interpolate=function(j,o,h,n,k,l,m){j=(h-j)*0.5;n=(n-o)*0.5;return(2*(o-h)+j+n)*m+(-3*(o-h)-2*j-n)*l+j*k+o};THREE.Animation.prototype.getNextKeyWith=function(f,h,e){var g=this.data.hierarchy[h].keys;for(this.interpolationType===THREE.AnimationHandler.CATMULLROM||this.interpolationType===THREE.AnimationHandler.CATMULLROM_FORWARD?e=e<g.length-1?e:g.length-1:e%=g.length;e<g.length;e++){if(g[e][f]!==void 0){return g[e]}}return this.data.hierarchy[h].keys[0]};THREE.Animation.prototype.getPrevKeyWith=function(f,h,e){for(var g=this.data.hierarchy[h].keys,e=this.interpolationType===THREE.AnimationHandler.CATMULLROM||this.interpolationType===THREE.AnimationHandler.CATMULLROM_FORWARD?e>0?e:0:e>=0?e:e+g.length;e>=0;e--){if(g[e][f]!==void 0){return g[e]}}return this.data.hierarchy[h].keys[g.length-1]};THREE.CubeCamera=function(f,h,e,g){this.heightOffset=e;this.position=new THREE.Vector3(0,e,0);this.cameraPX=new THREE.PerspectiveCamera(90,1,f,h);this.cameraNX=new THREE.PerspectiveCamera(90,1,f,h);this.cameraPY=new THREE.PerspectiveCamera(90,1,f,h);this.cameraNY=new THREE.PerspectiveCamera(90,1,f,h);this.cameraPZ=new THREE.PerspectiveCamera(90,1,f,h);this.cameraNZ=new THREE.PerspectiveCamera(90,1,f,h);this.cameraPX.position=this.position;this.cameraNX.position=this.position;this.cameraPY.position=this.position;this.cameraNY.position=this.position;this.cameraPZ.position=this.position;this.cameraNZ.position=this.position;this.cameraPX.up.set(0,-1,0);this.cameraNX.up.set(0,-1,0);this.cameraPY.up.set(0,0,1);this.cameraNY.up.set(0,0,-1);this.cameraPZ.up.set(0,-1,0);this.cameraNZ.up.set(0,-1,0);this.targetPX=new THREE.Vector3(0,0,0);this.targetNX=new THREE.Vector3(0,0,0);this.targetPY=new THREE.Vector3(0,0,0);this.targetNY=new THREE.Vector3(0,0,0);this.targetPZ=new THREE.Vector3(0,0,0);this.targetNZ=new THREE.Vector3(0,0,0);this.renderTarget=new THREE.WebGLRenderTargetCube(g,g,{format:THREE.RGBFormat,magFilter:THREE.LinearFilter,minFilter:THREE.LinearFilter});this.updatePosition=function(b){this.position.copy(b);this.position.y+=this.heightOffset;this.targetPX.copy(this.position);this.targetNX.copy(this.position);this.targetPY.copy(this.position);this.targetNY.copy(this.position);this.targetPZ.copy(this.position);this.targetNZ.copy(this.position);this.targetPX.x+=1;this.targetNX.x-=1;this.targetPY.y+=1;this.targetNY.y-=1;this.targetPZ.z+=1;this.targetNZ.z-=1;this.cameraPX.lookAt(this.targetPX);this.cameraNX.lookAt(this.targetNX);this.cameraPY.lookAt(this.targetPY);this.cameraNY.lookAt(this.targetNY);this.cameraPZ.lookAt(this.targetPZ);this.cameraNZ.lookAt(this.targetNZ)};this.updateCubeMap=function(j,d){var k=this.renderTarget;k.activeCubeFace=0;j.render(d,this.cameraPX,k);k.activeCubeFace=1;j.render(d,this.cameraNX,k);k.activeCubeFace=2;j.render(d,this.cameraPY,k);k.activeCubeFace=3;j.render(d,this.cameraNY,k);k.activeCubeFace=4;j.render(d,this.cameraPZ,k);k.activeCubeFace=5;j.render(d,this.cameraNZ,k)}};THREE.FirstPersonCamera=function(){console.warn("DEPRECATED: FirstPersonCamera() is FirstPersonControls().")};THREE.PathCamera=function(){console.warn("DEPRECATED: PathCamera() is PathControls().")};THREE.FlyCamera=function(){console.warn("DEPRECATED: FlyCamera() is FlyControls().")};THREE.RollCamera=function(){console.warn("DEPRECATED: RollCamera() is RollControls().")};THREE.TrackballCamera=function(){console.warn("DEPRECATED: TrackballCamera() is TrackballControls().")};THREE.CombinedCamera=function(j,o,h,n,k,l,m){THREE.Camera.call(this);this.fov=h;this.left=-j/2;this.right=j/2;this.top=o/2;this.bottom=-o/2;this.cameraO=new THREE.OrthographicCamera(j/-2,j/2,o/2,o/-2,l,m);this.cameraP=new THREE.PerspectiveCamera(h,j/o,n,k);this.zoom=1;this.toPerspective()};THREE.CombinedCamera.prototype=new THREE.Camera;THREE.CombinedCamera.prototype.constructor=THREE.CoolCamera;THREE.CombinedCamera.prototype.toPerspective=function(){this.near=this.cameraP.near;this.far=this.cameraP.far;this.cameraP.fov=this.fov/this.zoom;this.cameraP.updateProjectionMatrix();this.projectionMatrix=this.cameraP.projectionMatrix;this.inPersepectiveMode=!0;this.inOrthographicMode=!1};THREE.CombinedCamera.prototype.toOrthographic=function(){var b=Math.tan(this.fov/2)*((this.cameraP.near+this.cameraP.far)/2),d=2*b*this.cameraP.aspect/2;b/=this.zoom;d/=this.zoom;this.cameraO.left=-d;this.cameraO.right=d;this.cameraO.top=b;this.cameraO.bottom=-b;this.cameraO.updateProjectionMatrix();this.near=this.cameraO.near;this.far=this.cameraO.far;this.projectionMatrix=this.cameraO.projectionMatrix;this.inPersepectiveMode=!1;this.inOrthographicMode=!0};THREE.CombinedCamera.prototype.setFov=function(b){this.fov=b;this.inPersepectiveMode?this.toPerspective():this.toOrthographic()};THREE.CombinedCamera.prototype.setLens=function(e,f){f||(f=43.25);var d=2*Math.atan(f/(e*2));d*=180/Math.PI;this.setFov(d);return d};THREE.CombinedCamera.prototype.setZoom=function(b){this.zoom=b;this.inPersepectiveMode?this.toPerspective():this.toOrthographic()};THREE.CombinedCamera.prototype.toFrontView=function(){this.rotation.x=0;this.rotation.y=0;this.rotation.z=0;this.rotationAutoUpdate=!1};THREE.CombinedCamera.prototype.toBackView=function(){this.rotation.x=0;this.rotation.y=Math.PI;this.rotation.z=0;this.rotationAutoUpdate=!1};THREE.CombinedCamera.prototype.toLeftView=function(){this.rotation.x=0;this.rotation.y=-Math.PI/2;this.rotation.z=0;this.rotationAutoUpdate=!1};THREE.CombinedCamera.prototype.toRightView=function(){this.rotation.x=0;this.rotation.y=Math.PI/2;this.rotation.z=0;this.rotationAutoUpdate=!1};THREE.CombinedCamera.prototype.toTopView=function(){this.rotation.x=-Math.PI/2;this.rotation.y=0;this.rotation.z=0;this.rotationAutoUpdate=!1};THREE.CombinedCamera.prototype.toBottomView=function(){this.rotation.x=Math.PI/2;this.rotation.y=0;this.rotation.z=0;this.rotationAutoUpdate=!1};THREE.FirstPersonControls=function(e,f){function d(g,c){return function(){c.apply(g,arguments)}}this.object=e;this.target=new THREE.Vector3(0,0,0);this.domElement=f!==void 0?f:document;this.movementSpeed=1;this.lookSpeed=0.005;this.noFly=!1;this.lookVertical=!0;this.autoForward=!1;this.activeLook=!0;this.heightSpeed=!1;this.heightCoef=1;this.heightMin=0;this.constrainVertical=!1;this.verticalMin=0;this.verticalMax=Math.PI;this.theta=this.phi=this.lon=this.lat=this.mouseY=this.mouseX=this.autoSpeedFactor=0;this.mouseDragOn=this.freeze=this.moveRight=this.moveLeft=this.moveBackward=this.moveForward=!1;this.domElement===document?(this.viewHalfX=window.innerWidth/2,this.viewHalfY=window.innerHeight/2):(this.viewHalfX=this.domElement.offsetWidth/2,this.viewHalfY=this.domElement.offsetHeight/2,this.domElement.setAttribute("tabindex",-1));this.onMouseDown=function(b){this.domElement!==document&&this.domElement.focus();b.preventDefault();b.stopPropagation();if(this.activeLook){switch(b.button){case 0:this.moveForward=!0;break;case 2:this.moveBackward=!0}}this.mouseDragOn=!0};this.onMouseUp=function(b){b.preventDefault();b.stopPropagation();if(this.activeLook){switch(b.button){case 0:this.moveForward=!1;break;case 2:this.moveBackward=!1}}this.mouseDragOn=!1};this.onMouseMove=function(b){this.domElement===document?(this.mouseX=b.pageX-this.viewHalfX,this.mouseY=b.pageY-this.viewHalfY):(this.mouseX=b.pageX-this.domElement.offsetLeft-this.viewHalfX,this.mouseY=b.pageY-this.domElement.offsetTop-this.viewHalfY)};this.onKeyDown=function(b){switch(b.keyCode){case 38:case 87:this.moveForward=!0;break;case 37:case 65:this.moveLeft=!0;break;case 40:case 83:this.moveBackward=!0;break;case 39:case 68:this.moveRight=!0;break;case 82:this.moveUp=!0;break;case 70:this.moveDown=!0;break;case 81:this.freeze=!this.freeze}};this.onKeyUp=function(b){switch(b.keyCode){case 38:case 87:this.moveForward=!1;break;case 37:case 65:this.moveLeft=!1;break;case 40:case 83:this.moveBackward=!1;break;case 39:case 68:this.moveRight=!1;break;case 82:this.moveUp=!1;break;case 70:this.moveDown=!1}};this.update=function(h){var g=0;if(!this.freeze){if(this.heightSpeed){var j=THREE.Math.clamp(this.object.position.y,this.heightMin,this.heightMax)-this.heightMin;this.autoSpeedFactor=h*j*this.heightCoef}else{this.autoSpeedFactor=0}g=h*this.movementSpeed;(this.moveForward||this.autoForward&&!this.moveBackward)&&this.object.translateZ(-(g+this.autoSpeedFactor));this.moveBackward&&this.object.translateZ(g);this.moveLeft&&this.object.translateX(-g);this.moveRight&&this.object.translateX(g);this.moveUp&&this.object.translateY(g);this.moveDown&&this.object.translateY(-g);j=h*this.lookSpeed;this.activeLook||(j=0);this.lon+=this.mouseX*j;this.lookVertical&&(this.lat-=this.mouseY*j);this.lat=Math.max(-85,Math.min(85,this.lat));this.phi=(90-this.lat)*Math.PI/180;this.theta=this.lon*Math.PI/180;h=this.target;g=this.object.position;h.x=g.x+100*Math.sin(this.phi)*Math.cos(this.theta);h.y=g.y+100*Math.cos(this.phi);h.z=g.z+100*Math.sin(this.phi)*Math.sin(this.theta)}h=1;this.constrainVertical&&(h=Math.PI/(this.verticalMax-this.verticalMin));this.lon+=this.mouseX*j;this.lookVertical&&(this.lat-=this.mouseY*j*h);this.lat=Math.max(-85,Math.min(85,this.lat));this.phi=(90-this.lat)*Math.PI/180;this.theta=this.lon*Math.PI/180;if(this.constrainVertical){this.phi=THREE.Math.mapLinear(this.phi,0,Math.PI,this.verticalMin,this.verticalMax)}h=this.target;g=this.object.position;h.x=g.x+100*Math.sin(this.phi)*Math.cos(this.theta);h.y=g.y+100*Math.cos(this.phi);h.z=g.z+100*Math.sin(this.phi)*Math.sin(this.theta);this.object.lookAt(h)};this.domElement.addEventListener("contextmenu",function(b){b.preventDefault()},!1);this.domElement.addEventListener("mousemove",d(this,this.onMouseMove),!1);this.domElement.addEventListener("mousedown",d(this,this.onMouseDown),!1);this.domElement.addEventListener("mouseup",d(this,this.onMouseUp),!1);this.domElement.addEventListener("keydown",d(this,this.onKeyDown),!1);this.domElement.addEventListener("keyup",d(this,this.onKeyUp),!1)};THREE.PathControls=function(k,q){function j(b){if((b*=2)<1){return 0.5*b*b}return -0.5*(--b*(b-2)-1)}function p(d,c){return function(){c.apply(d,arguments)}}function m(A,z,y,x){var w={name:y,fps:0.6,length:x,hierarchy:[]},v,u=z.getControlPointsArray(),s=z.getLength(),r=u.length,B=0;v=r-1;z={parent:-1,keys:[]};z.keys[0]={time:0,pos:u[0],rot:[0,0,0,1],scl:[1,1,1]};z.keys[v]={time:x,pos:u[v],rot:[0,0,0,1],scl:[1,1,1]};for(v=1;v<r-1;v++){B=x*s.chunks[v]/s.total,z.keys[v]={time:B,pos:u[v]}}w.hierarchy[0]=z;THREE.AnimationHandler.add(w);return new THREE.Animation(A,y,THREE.AnimationHandler.CATMULLROM_FORWARD,!1)}function n(g,f){var s,r,h=new THREE.Geometry;for(s=0;s<g.points.length*f;s++){r=s/(g.points.length*f),r=g.getPoint(r),h.vertices[s]=new THREE.Vertex(new THREE.Vector3(r.x,r.y,r.z))}return h}this.object=k;this.domElement=q!==void 0?q:document;this.id="PathControls"+THREE.PathControlsIdCounter++;this.duration=10000;this.waypoints=[];this.useConstantSpeed=!0;this.resamplingCoef=50;this.debugPath=new THREE.Object3D;this.debugDummy=new THREE.Object3D;this.animationParent=new THREE.Object3D;this.lookSpeed=0.005;this.lookHorizontal=this.lookVertical=!0;this.verticalAngleMap={srcRange:[0,2*Math.PI],dstRange:[0,2*Math.PI]};this.horizontalAngleMap={srcRange:[0,2*Math.PI],dstRange:[0,2*Math.PI]};this.target=new THREE.Object3D;this.theta=this.phi=this.lon=this.lat=this.mouseY=this.mouseX=0;this.domElement===document?(this.viewHalfX=window.innerWidth/2,this.viewHalfY=window.innerHeight/2):(this.viewHalfX=this.domElement.offsetWidth/2,this.viewHalfY=this.domElement.offsetHeight/2,this.domElement.setAttribute("tabindex",-1));var o=Math.PI*2,l=Math.PI/180;this.update=function(b){var f;this.lookHorizontal&&(this.lon+=this.mouseX*this.lookSpeed*b);this.lookVertical&&(this.lat-=this.mouseY*this.lookSpeed*b);this.lon=Math.max(0,Math.min(360,this.lon));this.lat=Math.max(-85,Math.min(85,this.lat));this.phi=(90-this.lat)*l;this.theta=this.lon*l;b=this.phi%o;this.phi=b>=0?b:b+o;f=this.verticalAngleMap.srcRange;b=this.verticalAngleMap.dstRange;f=THREE.Math.mapLinear(this.phi,f[0],f[1],b[0],b[1]);var e=b[1]-b[0];this.phi=j((f-b[0])/e)*e+b[0];f=this.horizontalAngleMap.srcRange;b=this.horizontalAngleMap.dstRange;f=THREE.Math.mapLinear(this.theta,f[0],f[1],b[0],b[1]);e=b[1]-b[0];this.theta=j((f-b[0])/e)*e+b[0];b=this.target.position;b.x=100*Math.sin(this.phi)*Math.cos(this.theta);b.y=100*Math.cos(this.phi);b.z=100*Math.sin(this.phi)*Math.sin(this.theta);this.object.lookAt(this.target.position)};this.onMouseMove=function(b){this.domElement===document?(this.mouseX=b.pageX-this.viewHalfX,this.mouseY=b.pageY-this.viewHalfY):(this.mouseX=b.pageX-this.domElement.offsetLeft-this.viewHalfX,this.mouseY=b.pageY-this.domElement.offsetTop-this.viewHalfY)};this.init=function(){this.spline=new THREE.Spline;this.spline.initFromArray(this.waypoints);this.useConstantSpeed&&this.spline.reparametrizeByArcLength(this.resamplingCoef);if(this.createDebugDummy){var g=new THREE.MeshLambertMaterial({color:30719}),f=new THREE.MeshLambertMaterial({color:65280}),t=new THREE.CubeGeometry(10,10,20),s=new THREE.CubeGeometry(2,2,10);this.animationParent=new THREE.Mesh(t,g);g=new THREE.Mesh(s,f);g.position.set(0,10,0);this.animation=m(this.animationParent,this.spline,this.id,this.duration);this.animationParent.add(this.object);this.animationParent.add(this.target);this.animationParent.add(g)}else{this.animation=m(this.animationParent,this.spline,this.id,this.duration),this.animationParent.add(this.target),this.animationParent.add(this.object)}if(this.createDebugPath){var g=this.debugPath,f=this.spline,s=n(f,10),t=n(f,10),r=new THREE.LineBasicMaterial({color:16711680,linewidth:3}),s=new THREE.Line(s,r),t=new THREE.ParticleSystem(t,new THREE.ParticleBasicMaterial({color:16755200,size:3}));s.scale.set(1,1,1);g.add(s);t.scale.set(1,1,1);g.add(t);for(var s=new THREE.SphereGeometry(1,16,8),r=new THREE.MeshBasicMaterial({color:65280}),d=0;d<f.points.length;d++){t=new THREE.Mesh(s,r),t.position.copy(f.points[d]),g.add(t)}}this.domElement.addEventListener("mousemove",p(this,this.onMouseMove),!1)}};THREE.PathControlsIdCounter=0;THREE.FlyControls=function(e,f){function d(g,c){return function(){c.apply(g,arguments)}}this.object=e;this.domElement=f!==void 0?f:document;f&&this.domElement.setAttribute("tabindex",-1);this.movementSpeed=1;this.rollSpeed=0.005;this.autoForward=this.dragToLook=!1;this.object.useQuaternion=!0;this.tmpQuaternion=new THREE.Quaternion;this.mouseStatus=0;this.moveState={up:0,down:0,left:0,right:0,forward:0,back:0,pitchUp:0,pitchDown:0,yawLeft:0,yawRight:0,rollLeft:0,rollRight:0};this.moveVector=new THREE.Vector3(0,0,0);this.rotationVector=new THREE.Vector3(0,0,0);this.handleEvent=function(b){if(typeof this[b.type]=="function"){this[b.type](b)}};this.keydown=function(b){if(!b.altKey){switch(b.keyCode){case 16:this.movementSpeedMultiplier=0.1;break;case 87:this.moveState.forward=1;break;case 83:this.moveState.back=1;break;case 65:this.moveState.left=1;break;case 68:this.moveState.right=1;break;case 82:this.moveState.up=1;break;case 70:this.moveState.down=1;break;case 38:this.moveState.pitchUp=1;break;case 40:this.moveState.pitchDown=1;break;case 37:this.moveState.yawLeft=1;break;case 39:this.moveState.yawRight=1;break;case 81:this.moveState.rollLeft=1;break;case 69:this.moveState.rollRight=1}this.updateMovementVector();this.updateRotationVector()}};this.keyup=function(b){switch(b.keyCode){case 16:this.movementSpeedMultiplier=1;break;case 87:this.moveState.forward=0;break;case 83:this.moveState.back=0;break;case 65:this.moveState.left=0;break;case 68:this.moveState.right=0;break;case 82:this.moveState.up=0;break;case 70:this.moveState.down=0;break;case 38:this.moveState.pitchUp=0;break;case 40:this.moveState.pitchDown=0;break;case 37:this.moveState.yawLeft=0;break;case 39:this.moveState.yawRight=0;break;case 81:this.moveState.rollLeft=0;break;case 69:this.moveState.rollRight=0}this.updateMovementVector();this.updateRotationVector()};this.mousedown=function(b){this.domElement!==document&&this.domElement.focus();b.preventDefault();b.stopPropagation();if(this.dragToLook){this.mouseStatus++}else{switch(b.button){case 0:this.object.moveForward=!0;break;case 2:this.object.moveBackward=!0}}};this.mousemove=function(h){if(!this.dragToLook||this.mouseStatus>0){var g=this.getContainerDimensions(),k=g.size[0]/2,j=g.size[1]/2;this.moveState.yawLeft=-(h.pageX-g.offset[0]-k)/k;this.moveState.pitchDown=(h.pageY-g.offset[1]-j)/j;this.updateRotationVector()}};this.mouseup=function(b){b.preventDefault();b.stopPropagation();if(this.dragToLook){this.mouseStatus--,this.moveState.yawLeft=this.moveState.pitchDown=0}else{switch(b.button){case 0:this.moveForward=!1;break;case 2:this.moveBackward=!1}}this.updateRotationVector()};this.update=function(g){var c=g*this.movementSpeed;g*=this.rollSpeed;this.object.translateX(this.moveVector.x*c);this.object.translateY(this.moveVector.y*c);this.object.translateZ(this.moveVector.z*c);this.tmpQuaternion.set(this.rotationVector.x*g,this.rotationVector.y*g,this.rotationVector.z*g,1).normalize();this.object.quaternion.multiplySelf(this.tmpQuaternion);this.object.matrix.setPosition(this.object.position);this.object.matrix.setRotationFromQuaternion(this.object.quaternion);this.object.matrixWorldNeedsUpdate=!0};this.updateMovementVector=function(){var b=this.moveState.forward||this.autoForward&&!this.moveState.back?1:0;this.moveVector.x=-this.moveState.left+this.moveState.right;this.moveVector.y=-this.moveState.down+this.moveState.up;this.moveVector.z=-b+this.moveState.back};this.updateRotationVector=function(){this.rotationVector.x=-this.moveState.pitchDown+this.moveState.pitchUp;this.rotationVector.y=-this.moveState.yawRight+this.moveState.yawLeft;this.rotationVector.z=-this.moveState.rollRight+this.moveState.rollLeft};this.getContainerDimensions=function(){return this.domElement!=document?{size:[this.domElement.offsetWidth,this.domElement.offsetHeight],offset:[this.domElement.offsetLeft,this.domElement.offsetTop]}:{size:[window.innerWidth,window.innerHeight],offset:[0,0]}};this.domElement.addEventListener("mousemove",d(this,this.mousemove),!1);this.domElement.addEventListener("mousedown",d(this,this.mousedown),!1);this.domElement.addEventListener("mouseup",d(this,this.mouseup),!1);this.domElement.addEventListener("keydown",d(this,this.keydown),!1);this.domElement.addEventListener("keyup",d(this,this.keyup),!1);this.updateMovementVector();this.updateRotationVector()};THREE.RollControls=function(D,B){this.object=D;this.domElement=B!==void 0?B:document;this.mouseLook=!0;this.autoForward=!1;this.rollSpeed=this.movementSpeed=this.lookSpeed=1;this.constrainVertical=[-0.9,0.9];this.object.matrixAutoUpdate=!1;this.forward=new THREE.Vector3(0,0,1);this.roll=0;var C=new THREE.Vector3,A=new THREE.Vector3,x=new THREE.Vector3,y=new THREE.Matrix4,z=!1,w=1,v=0,t=0,u=0,q=0,n=0,s=window.innerWidth/2,j=window.innerHeight/2;this.update=function(b){if(this.mouseLook){var d=b*this.lookSpeed;this.rotateHorizontally(d*q);this.rotateVertically(d*n)}d=b*this.movementSpeed;this.object.translateZ(-d*(v>0||this.autoForward&&!(v<0)?1:v));this.object.translateX(d*t);this.object.translateY(d*u);z&&(this.roll+=this.rollSpeed*b*w);if(this.forward.y>this.constrainVertical[1]){this.forward.y=this.constrainVertical[1],this.forward.normalize()}else{if(this.forward.y<this.constrainVertical[0]){this.forward.y=this.constrainVertical[0],this.forward.normalize()}}x.copy(this.forward);A.set(0,1,0);C.cross(A,x).normalize();A.cross(x,C).normalize();this.object.matrix.n11=C.x;this.object.matrix.n12=A.x;this.object.matrix.n13=x.x;this.object.matrix.n21=C.y;this.object.matrix.n22=A.y;this.object.matrix.n23=x.y;this.object.matrix.n31=C.z;this.object.matrix.n32=A.z;this.object.matrix.n33=x.z;y.identity();y.n11=Math.cos(this.roll);y.n12=-Math.sin(this.roll);y.n21=Math.sin(this.roll);y.n22=Math.cos(this.roll);this.object.matrix.multiplySelf(y);this.object.matrixWorldNeedsUpdate=!0;this.object.matrix.n14=this.object.position.x;this.object.matrix.n24=this.object.position.y;this.object.matrix.n34=this.object.position.z};this.translateX=function(b){this.object.position.x+=this.object.matrix.n11*b;this.object.position.y+=this.object.matrix.n21*b;this.object.position.z+=this.object.matrix.n31*b};this.translateY=function(b){this.object.position.x+=this.object.matrix.n12*b;this.object.position.y+=this.object.matrix.n22*b;this.object.position.z+=this.object.matrix.n32*b};this.translateZ=function(b){this.object.position.x-=this.object.matrix.n13*b;this.object.position.y-=this.object.matrix.n23*b;this.object.position.z-=this.object.matrix.n33*b};this.rotateHorizontally=function(b){C.set(this.object.matrix.n11,this.object.matrix.n21,this.object.matrix.n31);C.multiplyScalar(b);this.forward.subSelf(C);this.forward.normalize()};this.rotateVertically=function(b){A.set(this.object.matrix.n12,this.object.matrix.n22,this.object.matrix.n32);A.multiplyScalar(b);this.forward.addSelf(A);this.forward.normalize()};this.domElement.addEventListener("contextmenu",function(b){b.preventDefault()},!1);this.domElement.addEventListener("mousemove",function(b){q=(b.clientX-s)/window.innerWidth;n=(b.clientY-j)/window.innerHeight},!1);this.domElement.addEventListener("mousedown",function(b){b.preventDefault();b.stopPropagation();switch(b.button){case 0:v=1;break;case 2:v=-1}},!1);this.domElement.addEventListener("mouseup",function(b){b.preventDefault();b.stopPropagation();switch(b.button){case 0:v=0;break;case 2:v=0}},!1);this.domElement.addEventListener("keydown",function(b){switch(b.keyCode){case 38:case 87:v=1;break;case 37:case 65:t=-1;break;case 40:case 83:v=-1;break;case 39:case 68:t=1;break;case 81:z=!0;w=1;break;case 69:z=!0;w=-1;break;case 82:u=1;break;case 70:u=-1}},!1);this.domElement.addEventListener("keyup",function(b){switch(b.keyCode){case 38:case 87:v=0;break;case 37:case 65:t=0;break;case 40:case 83:v=0;break;case 39:case 68:t=0;break;case 81:z=!1;break;case 69:z=!1;break;case 82:u=0;break;case 70:u=0}},!1)};THREE.TrackballControls=function(z,x){var y=this,w={NONE:-1,ROTATE:0,ZOOM:1,PAN:2};this.object=z;this.domElement=x!==void 0?x:document;this.enabled=!0;this.screen={width:window.innerWidth,height:window.innerHeight,offsetLeft:0,offsetTop:0};this.radius=(this.screen.width+this.screen.height)/4;this.rotateSpeed=1;this.zoomSpeed=1.2;this.panSpeed=0.3;this.staticMoving=this.noPan=this.noZoom=this.noRotate=!1;this.dynamicDampingFactor=0.2;this.minDistance=0;this.maxDistance=Infinity;this.keys=[65,83,68];this.target=new THREE.Vector3(0,0,0);var t=!1,u=w.NONE,v=new THREE.Vector3,s=new THREE.Vector3,r=new THREE.Vector3,n=new THREE.Vector2,q=new THREE.Vector2,m=new THREE.Vector2,j=new THREE.Vector2;this.handleEvent=function(b){if(typeof this[b.type]=="function"){this[b.type](b)}};this.getMouseOnScreen=function(b,d){return new THREE.Vector2((b-y.screen.offsetLeft)/y.radius*0.5,(d-y.screen.offsetTop)/y.radius*0.5)};this.getMouseProjectionOnBall=function(b,h){var g=new THREE.Vector3((b-y.screen.width*0.5-y.screen.offsetLeft)/y.radius,(y.screen.height*0.5+y.screen.offsetTop-h)/y.radius,0),e=g.length();e>1?g.normalize():g.z=Math.sqrt(1-e*e);v.copy(y.object.position).subSelf(y.target);e=y.object.up.clone().setLength(g.y);e.addSelf(y.object.up.clone().crossSelf(v).setLength(g.x));e.addSelf(v.setLength(g.z));return e};this.rotateCamera=function(){var b=Math.acos(s.dot(r)/s.length()/r.length());if(b){var f=(new THREE.Vector3).cross(s,r).normalize(),e=new THREE.Quaternion;b*=y.rotateSpeed;e.setFromAxisAngle(f,-b);e.multiplyVector3(v);e.multiplyVector3(y.object.up);e.multiplyVector3(r);y.staticMoving?s=r:(e.setFromAxisAngle(f,b*(y.dynamicDampingFactor-1)),e.multiplyVector3(s))}};this.zoomCamera=function(){var b=1+(q.y-n.y)*y.zoomSpeed;b!==1&&b>0&&(v.multiplyScalar(b),y.staticMoving?n=q:n.y+=(q.y-n.y)*this.dynamicDampingFactor)};this.panCamera=function(){var b=j.clone().subSelf(m);if(b.lengthSq()){b.multiplyScalar(v.length()*y.panSpeed);var d=v.clone().crossSelf(y.object.up).setLength(b.x);d.addSelf(y.object.up.clone().setLength(b.y));y.object.position.addSelf(d);y.target.addSelf(d);y.staticMoving?m=j:m.addSelf(b.sub(j,m).multiplyScalar(y.dynamicDampingFactor))}};this.checkDistances=function(){if(!y.noZoom||!y.noPan){y.object.position.lengthSq()>y.maxDistance*y.maxDistance&&y.object.position.setLength(y.maxDistance),v.lengthSq()<y.minDistance*y.minDistance&&y.object.position.add(y.target,v.setLength(y.minDistance))}};this.update=function(){v.copy(y.object.position).subSelf(this.target);y.noRotate||y.rotateCamera();y.noZoom||y.zoomCamera();y.noPan||y.panCamera();y.object.position.add(y.target,v);y.checkDistances();y.object.lookAt(y.target)};this.domElement.addEventListener("contextmenu",function(b){b.preventDefault()},!1);this.domElement.addEventListener("mousemove",function(b){y.enabled&&(t&&(s=r=y.getMouseProjectionOnBall(b.clientX,b.clientY),n=q=y.getMouseOnScreen(b.clientX,b.clientY),m=j=y.getMouseOnScreen(b.clientX,b.clientY),t=!1),u!==w.NONE&&(u===w.ROTATE&&!y.noRotate?r=y.getMouseProjectionOnBall(b.clientX,b.clientY):u===w.ZOOM&&!y.noZoom?q=y.getMouseOnScreen(b.clientX,b.clientY):u===w.PAN&&!y.noPan&&(j=y.getMouseOnScreen(b.clientX,b.clientY))))},!1);this.domElement.addEventListener("mousedown",function(b){if(y.enabled&&(b.preventDefault(),b.stopPropagation(),u===w.NONE)){u=b.button,u===w.ROTATE&&!y.noRotate?s=r=y.getMouseProjectionOnBall(b.clientX,b.clientY):u===w.ZOOM&&!y.noZoom?n=q=y.getMouseOnScreen(b.clientX,b.clientY):this.noPan||(m=j=y.getMouseOnScreen(b.clientX,b.clientY))}},!1);this.domElement.addEventListener("mouseup",function(b){if(y.enabled){b.preventDefault(),b.stopPropagation(),u=w.NONE}},!1);window.addEventListener("keydown",function(b){if(y.enabled&&u===w.NONE){if(b.keyCode===y.keys[w.ROTATE]&&!y.noRotate){u=w.ROTATE}else{if(b.keyCode===y.keys[w.ZOOM]&&!y.noZoom){u=w.ZOOM}else{if(b.keyCode===y.keys[w.PAN]&&!y.noPan){u=w.PAN}}}u!==w.NONE&&(t=!0)}},!1);window.addEventListener("keyup",function(){if(y.enabled&&u!==w.NONE){u=w.NONE}},!1)};THREE.CubeGeometry=function(N,L,M,K,H,I,J,G){function F(ae,ad,ac,ab,aa,Z,Y,X){var W,V=K||1,U=H||1,T=aa/2,R=Z/2,Q=D.vertices.length;if(ae==="x"&&ad==="y"||ae==="y"&&ad==="x"){W="z"}else{if(ae==="x"&&ad==="z"||ae==="z"&&ad==="x"){W="y",U=I||1}else{if(ae==="z"&&ad==="y"||ae==="y"&&ad==="z"){W="x",V=I||1}}}var P=V+1,l=U+1,O=aa/V,g=Z/U,f=new THREE.Vector3;f[W]=Y>0?1:-1;for(aa=0;aa<l;aa++){for(Z=0;Z<P;Z++){var d=new THREE.Vector3;d[ae]=(Z*O-T)*ac;d[ad]=(aa*g-R)*ab;d[W]=Y;D.vertices.push(new THREE.Vertex(d))}}for(aa=0;aa<U;aa++){for(Z=0;Z<V;Z++){ae=new THREE.Face4(Z+P*aa+Q,Z+P*(aa+1)+Q,Z+1+P*(aa+1)+Q,Z+1+P*aa+Q),ae.normal.copy(f),ae.vertexNormals.push(f.clone(),f.clone(),f.clone(),f.clone()),ae.materialIndex=X,D.faces.push(ae),D.faceVertexUvs[0].push([new THREE.UV(Z/V,aa/U),new THREE.UV(Z/V,(aa+1)/U),new THREE.UV((Z+1)/V,(aa+1)/U),new THREE.UV((Z+1)/V,aa/U)])}}}THREE.Geometry.call(this);var D=this,E=N/2,A=L/2,z=M/2,C,x,B,y,v,j;if(J!==void 0){if(J instanceof Array){this.materials=J}else{this.materials=[];for(C=0;C<6;C++){this.materials.push(J)}}C=0;y=1;x=2;v=3;B=4;j=5}else{this.materials=[]}this.sides={px:!0,nx:!0,py:!0,ny:!0,pz:!0,nz:!0};if(G!=void 0){for(var s in G){this.sides[s]!=void 0&&(this.sides[s]=G[s])}}this.sides.px&&F("z","y",-1,-1,M,L,E,C);this.sides.nx&&F("z","y",1,-1,M,L,-E,y);this.sides.py&&F("x","z",1,1,N,M,A,x);this.sides.ny&&F("x","z",1,-1,N,M,-A,v);this.sides.pz&&F("x","y",1,-1,N,L,z,B);this.sides.nz&&F("x","y",-1,-1,N,L,-z,j);this.computeCentroids();this.mergeVertices()};THREE.CubeGeometry.prototype=new THREE.Geometry;THREE.CubeGeometry.prototype.constructor=THREE.CubeGeometry;THREE.CylinderGeometry=function(R,P,Q,O,L,M){THREE.Geometry.call(this);var R=R!=null?R:20,P=P!=null?P:20,Q=Q||100,N=Q/2,O=O||8,L=L||1,K,J,H=[],I=[];for(J=0;J<=L;J++){var D=[],C=[],G=J/L,y=G*(P-R)+R;for(K=0;K<=O;K++){var E=K/O;this.vertices.push(new THREE.Vertex(new THREE.Vector3(y*Math.sin(E*Math.PI*2),-G*Q+N,y*Math.cos(E*Math.PI*2))));D.push(this.vertices.length-1);C.push(new THREE.UV(E,G))}H.push(D);I.push(C)}for(J=0;J<L;J++){for(K=0;K<O;K++){var Q=H[J][K],D=H[J+1][K],C=H[J+1][K+1],G=H[J][K+1],y=this.vertices[Q].position.clone().setY(0).normalize(),E=this.vertices[D].position.clone().setY(0).normalize(),A=this.vertices[C].position.clone().setY(0).normalize(),x=this.vertices[G].position.clone().setY(0).normalize(),j=I[J][K].clone(),v=I[J+1][K].clone(),z=I[J+1][K+1].clone(),s=I[J][K+1].clone();this.faces.push(new THREE.Face4(Q,D,C,G,[y,E,A,x]));this.faceVertexUvs[0].push([j,v,z,s])}}if(!M&&R>0){this.vertices.push(new THREE.Vertex(new THREE.Vector3(0,N,0)));for(K=0;K<O;K++){Q=H[0][K],D=H[0][K+1],C=this.vertices.length-1,y=new THREE.Vector3(0,1,0),E=new THREE.Vector3(0,1,0),A=new THREE.Vector3(0,1,0),j=I[0][K].clone(),v=I[0][K+1].clone(),z=new THREE.UV(v.u,0),this.faces.push(new THREE.Face3(Q,D,C,[y,E,A])),this.faceVertexUvs[0].push([j,v,z])}}if(!M&&P>0){this.vertices.push(new THREE.Vertex(new THREE.Vector3(0,-N,0)));for(K=0;K<O;K++){Q=H[J][K+1],D=H[J][K],C=this.vertices.length-1,y=new THREE.Vector3(0,-1,0),E=new THREE.Vector3(0,-1,0),A=new THREE.Vector3(0,-1,0),j=I[J][K+1].clone(),v=I[J][K].clone(),z=new THREE.UV(v.u,1),this.faces.push(new THREE.Face3(Q,D,C,[y,E,A])),this.faceVertexUvs[0].push([j,v,z])}}this.computeCentroids();this.computeFaceNormals()};THREE.CylinderGeometry.prototype=new THREE.Geometry;THREE.CylinderGeometry.prototype.constructor=THREE.CylinderGeometry;THREE.ExtrudeGeometry=function(f,k){if(typeof f!=="undefined"){THREE.Geometry.call(this);var f=f instanceof Array?f:[f],e,j=f.length,h;this.shapebb=f[j-1].getBoundingBox();for(e=0;e<j;e++){h=f[e],this.addShape(h,k)}this.computeCentroids();this.computeFaceNormals()}};THREE.ExtrudeGeometry.prototype=new THREE.Geometry;THREE.ExtrudeGeometry.prototype.constructor=THREE.ExtrudeGeometry;THREE.ExtrudeGeometry.prototype.addShape=function(aE,aC){function aD(e,d,f){d||console.log("die");return d.clone().multiplyScalar(f).addSelf(e)}function aB(s,r,q){var p=THREE.ExtrudeGeometry.__v1,o=THREE.ExtrudeGeometry.__v2,n=THREE.ExtrudeGeometry.__v3,m=THREE.ExtrudeGeometry.__v4,l=THREE.ExtrudeGeometry.__v5,k=THREE.ExtrudeGeometry.__v6;p.set(s.x-r.x,s.y-r.y);o.set(s.x-q.x,s.y-q.y);p=p.normalize();o=o.normalize();n.set(-p.y,p.x);m.set(o.y,-o.x);l.copy(s).addSelf(n);k.copy(s).addSelf(m);if(l.equals(k)){return m.clone()}l.copy(r).addSelf(n);k.copy(q).addSelf(m);n=p.dot(m);m=k.subSelf(l).dot(m);n===0&&(console.log("Either infinite or no solutions!"),m===0?console.log("Its finite solutions."):console.log("Too bad, no solutions."));m/=n;if(m<0){return r=Math.atan2(r.y-s.y,r.x-s.x),s=Math.atan2(q.y-s.y,q.x-s.x),r>s&&(s+=Math.PI*2),s=(r+s)/2,new THREE.Vector2(-Math.cos(s),-Math.sin(s))}return p.multiplyScalar(m).addSelf(l).subSelf(s).clone()}function ay(t){for(am=t.length;--am>=0;){C=am;aF=am-1;aF<0&&(aF=t.length-1);for(var s=0,r=at+av*2,s=0;s<r;s++){var q=N*s,p=N*(s+1),o=j+C+q,m=j+C+p,k=o,q=j+aF+q,p=j+aF+p,h=m;k+=V;q+=V;p+=V;h+=V;aj.faces.push(new THREE.Face4(k,q,p,h,null,null,ad));ad&&(k=s/r,q=(s+1)/r,p=ax+aw*2,o=(aj.vertices[o].position.z+aw)/p,m=(aj.vertices[m].position.z+aw)/p,aj.faceVertexUvs[0].push([new THREE.UV(o,k),new THREE.UV(m,k),new THREE.UV(m,q),new THREE.UV(o,q)]))}}}function az(e,d,f){aj.vertices.push(new THREE.Vertex(new THREE.Vector3(e,d,f)))}function aA(k,h,p){k+=V;h+=V;p+=V;aj.faces.push(new THREE.Face3(k,h,p,null,null,ak));if(ak){var o=ab.maxY,n=ab.maxX,m=aj.vertices[h].position.x,h=aj.vertices[h].position.y,l=aj.vertices[p].position.x,p=aj.vertices[p].position.y;aj.faceVertexUvs[0].push([new THREE.UV(aj.vertices[k].position.x/n,aj.vertices[k].position.y/o),new THREE.UV(m/n,h/o),new THREE.UV(l/n,p/o)])}}var ax=aC.amount!==void 0?aC.amount:100,aw=aC.bevelThickness!==void 0?aC.bevelThickness:6,au=aC.bevelSize!==void 0?aC.bevelSize:aw-2,av=aC.bevelSegments!==void 0?aC.bevelSegments:3,aq=aC.bevelEnabled!==void 0?aC.bevelEnabled:!0,ap=aC.curveSegments!==void 0?aC.curveSegments:12,at=aC.steps!==void 0?aC.steps:1,an=aC.bendPath,ar=aC.extrudePath,ao,al=!1,ai=aC.useSpacedPoints!==void 0?aC.useSpacedPoints:!1,ak=aC.material,ad=aC.extrudeMaterial,ab=this.shapebb;if(ar){ao=ar.getPoints(ap),at=ao.length,al=!0,aq=!1}aq||(au=aw=av=0);var ae,ah,ag,aj=this,V=this.vertices.length;an&&aE.addWrapPath(an);ap=ai?aE.extractAllSpacedPoints(ap):aE.extractAllPoints(ap);an=ap.shape;ap=ap.holes;if(ar=!THREE.Shape.Utils.isClockWise(an)){an=an.reverse();ah=0;for(ag=ap.length;ah<ag;ah++){ae=ap[ah],THREE.Shape.Utils.isClockWise(ae)&&(ap[ah]=ae.reverse())}ar=!1}ar=THREE.Shape.Utils.triangulateShape(an,ap);ai=an;ah=0;for(ag=ap.length;ah<ag;ah++){ae=ap[ah],an=an.concat(ae)}var am,ac,D,z,T,L,N=an.length,af=ar.length,Y=[];am=0;ac=ai.length;C=ac-1;for(aF=am+1;am<ac;am++,C++,aF++){C===ac&&(C=0),aF===ac&&(aF=0),Y[am]=aB(ai[am],ai[C],ai[aF])}var Z=[],X,Q=Y.concat();ah=0;for(ag=ap.length;ah<ag;ah++){ae=ap[ah];X=[];am=0;ac=ae.length;C=ac-1;for(aF=am+1;am<ac;am++,C++,aF++){C===ac&&(C=0),aF===ac&&(aF=0),X[am]=aB(ae[am],ae[C],ae[aF])}Z.push(X);Q=Q.concat(X)}for(D=0;D<av;D++){z=D/av;T=aw*(1-z);z=au*Math.sin(z*Math.PI/2);am=0;for(ac=ai.length;am<ac;am++){L=aD(ai[am],Y[am],z),az(L.x,L.y,-T)}ah=0;for(ag=ap.length;ah<ag;ah++){ae=ap[ah];X=Z[ah];am=0;for(ac=ae.length;am<ac;am++){L=aD(ae[am],X[am],z),az(L.x,L.y,-T)}}}z=au;for(am=0;am<N;am++){L=aq?aD(an[am],Q[am],z):an[am],al?az(L.x,L.y+ao[0].y,ao[0].x):az(L.x,L.y,0)}for(D=1;D<=at;D++){for(am=0;am<N;am++){L=aq?aD(an[am],Q[am],z):an[am],al?az(L.x,L.y+ao[D-1].y,ao[D-1].x):az(L.x,L.y,ax/at*D)}}for(D=av-1;D>=0;D--){z=D/av;T=aw*(1-z);z=au*Math.sin(z*Math.PI/2);am=0;for(ac=ai.length;am<ac;am++){L=aD(ai[am],Y[am],z),az(L.x,L.y,ax+T)}ah=0;for(ag=ap.length;ah<ag;ah++){ae=ap[ah];X=Z[ah];am=0;for(ac=ae.length;am<ac;am++){L=aD(ae[am],X[am],z),al?az(L.x,L.y+ao[at-1].y,ao[at-1].x+T):az(L.x,L.y,ax+T)}}}if(aq){aq=N*0;for(am=0;am<af;am++){au=ar[am],aA(au[2]+aq,au[1]+aq,au[0]+aq)}aq=N*(at+av*2);for(am=0;am<af;am++){au=ar[am],aA(au[0]+aq,au[1]+aq,au[2]+aq)}}else{for(am=0;am<af;am++){au=ar[am],aA(au[2],au[1],au[0])}for(am=0;am<af;am++){au=ar[am],aA(au[0]+N*at,au[1]+N*at,au[2]+N*at)}}var C,aF,j=0;ay(ai);j+=ai.length;ah=0;for(ag=ap.length;ah<ag;ah++){ae=ap[ah],ay(ae),j+=ae.length}};THREE.ExtrudeGeometry.__v1=new THREE.Vector2;THREE.ExtrudeGeometry.__v2=new THREE.Vector2;THREE.ExtrudeGeometry.__v3=new THREE.Vector2;THREE.ExtrudeGeometry.__v4=new THREE.Vector2;THREE.ExtrudeGeometry.__v5=new THREE.Vector2;THREE.ExtrudeGeometry.__v6=new THREE.Vector2;THREE.IcosahedronGeometry=function(v){function t(f,e,h){var g=Math.sqrt(f*f+e*e+h*h);return p.vertices.push(new THREE.Vertex(new THREE.Vector3(f/g,e/g,h/g)))-1}function u(k,g,z,y){var x=p.vertices[k].position,w=p.vertices[g].position,l=p.vertices[z].position,k=new THREE.Face3(k,g,z);k.vertexNormals.push(x.clone().normalize(),w.clone().normalize(),l.clone().normalize());y.faces.push(k);y.faceVertexUvs[0].push([new THREE.UV(1-(Math.atan2(x.z,x.x)+Math.PI)%Math.PI/Math.PI*0.5,0.5-x.y/2),new THREE.UV(1-(Math.atan2(w.z,w.x)+Math.PI)%Math.PI/Math.PI*0.5,0.5-w.y/2),new THREE.UV(1-(Math.atan2(l.z,l.x)+Math.PI)%Math.PI/Math.PI*0.5,0.5-l.y/2)])}function s(f,c){var h=p.vertices[f].position,g=p.vertices[c].position;return t((h.x+g.x)/2,(h.y+g.y)/2,(h.z+g.z)/2)}var p=this,q=new THREE.Geometry;this.subdivisions=v||0;THREE.Geometry.call(this);v=(1+Math.sqrt(5))/2;t(-1,v,0);t(1,v,0);t(-1,-v,0);t(1,-v,0);t(0,-1,v);t(0,1,v);t(0,-1,-v);t(0,1,-v);t(v,0,-1);t(v,0,1);t(-v,0,-1);t(-v,0,1);u(0,11,5,q);u(0,5,1,q);u(0,1,7,q);u(0,7,10,q);u(0,10,11,q);u(1,5,9,q);u(5,11,4,q);u(11,10,2,q);u(10,7,6,q);u(7,1,8,q);u(3,9,4,q);u(3,4,2,q);u(3,2,6,q);u(3,6,8,q);u(3,8,9,q);u(4,9,5,q);u(2,4,11,q);u(6,2,10,q);u(8,6,7,q);u(9,8,1,q);for(var r=0;r<this.subdivisions;r++){var v=new THREE.Geometry,o;for(o in q.faces){var n=s(q.faces[o].a,q.faces[o].b),j=s(q.faces[o].b,q.faces[o].c),m=s(q.faces[o].c,q.faces[o].a);u(q.faces[o].a,n,m,v);u(q.faces[o].b,j,n,v);u(q.faces[o].c,m,j,v);u(n,j,m,v)}q.faces=v.faces;q.faceVertexUvs[0]=v.faceVertexUvs[0]}p.faces=q.faces;p.faceVertexUvs[0]=q.faceVertexUvs[0];this.computeCentroids();this.computeFaceNormals()};THREE.IcosahedronGeometry.prototype=new THREE.Geometry;THREE.IcosahedronGeometry.prototype.constructor=THREE.IcosahedronGeometry;THREE.LatheGeometry=function(r,p,q){THREE.Geometry.call(this);this.steps=p||12;this.angle=q||2*Math.PI;for(var p=this.angle/this.steps,q=[],o=[],l=[],m=[],n=(new THREE.Matrix4).setRotationZ(p),k=0;k<r.length;k++){this.vertices.push(new THREE.Vertex(r[k])),q[k]=r[k].clone(),o[k]=this.vertices.length-1}for(var j=0;j<=this.angle+0.001;j+=p){for(k=0;k<q.length;k++){j<this.angle?(q[k]=n.multiplyVector3(q[k].clone()),this.vertices.push(new THREE.Vertex(q[k])),l[k]=this.vertices.length-1):l=m}j==0&&(m=o);for(k=0;k<o.length-1;k++){this.faces.push(new THREE.Face4(l[k],l[k+1],o[k+1],o[k])),this.faceVertexUvs[0].push([new THREE.UV(1-j/this.angle,k/r.length),new THREE.UV(1-j/this.angle,(k+1)/r.length),new THREE.UV(1-(j-p)/this.angle,(k+1)/r.length),new THREE.UV(1-(j-p)/this.angle,k/r.length)])}o=l;l=[]}this.computeCentroids();this.computeFaceNormals();this.computeVertexNormals()};THREE.LatheGeometry.prototype=new THREE.Geometry;THREE.LatheGeometry.prototype.constructor=THREE.LatheGeometry;THREE.OctahedronGeometry=function(r,p){function q(a){var d=a.clone().normalize(),d=new THREE.Vertex(d.clone().multiplyScalar(r));d.index=n.vertices.push(d)-1;d.uv=new THREE.UV(Math.atan2(a.z,-a.x)/2/Math.PI+0.5,Math.atan2(-a.y,Math.sqrt(a.x*a.x+a.z*a.z))/Math.PI+0.5);return d}function o(e,d,g,f){f<1?(f=new THREE.Face3(e.index,d.index,g.index,[e.position,d.position,g.position]),f.centroid.addSelf(e.position).addSelf(d.position).addSelf(g.position).divideScalar(3),f.normal=f.centroid.clone().normalize(),n.faces.push(f),f=Math.atan2(f.centroid.z,-f.centroid.x),n.faceVertexUvs[0].push([m(e.uv,e.position,f),m(d.uv,d.position,f),m(g.uv,g.position,f)])):(f-=1,o(e,l(e,d),l(e,g),f),o(l(e,d),d,l(d,g),f),o(l(e,g),l(d,g),g,f),o(l(e,d),l(d,g),l(e,g),f))}function l(b,f){k[b.index]||(k[b.index]=[]);k[f.index]||(k[f.index]=[]);var e=k[b.index][f.index];e===void 0&&(k[b.index][f.index]=k[f.index][b.index]=e=q((new THREE.Vector3).add(b.position,f.position).divideScalar(2)));return e}function m(e,d,f){f<0&&e.u===1&&(e=new THREE.UV(e.u-1,e.v));d.x===0&&d.z===0&&(e=new THREE.UV(f/2/Math.PI+0.5,e.v));return e}THREE.Geometry.call(this);var p=p||0,n=this;q(new THREE.Vector3(1,0,0));q(new THREE.Vector3(-1,0,0));q(new THREE.Vector3(0,1,0));q(new THREE.Vector3(0,-1,0));q(new THREE.Vector3(0,0,1));q(new THREE.Vector3(0,0,-1));var k=[],j=this.vertices;o(j[0],j[2],j[4],p);o(j[0],j[4],j[3],p);o(j[0],j[3],j[5],p);o(j[0],j[5],j[2],p);o(j[1],j[2],j[5],p);o(j[1],j[5],j[3],p);o(j[1],j[3],j[4],p);o(j[1],j[4],j[2],p);this.boundingSphere={radius:r}};THREE.OctahedronGeometry.prototype=new THREE.Geometry;THREE.OctahedronGeometry.prototype.constructor=THREE.OctahedronGeometry;THREE.PlaneGeometry=function(v,t,u,s){THREE.Geometry.call(this);for(var p=v/2,q=t/2,u=u||1,s=s||1,r=u+1,o=s+1,n=v/u,j=t/s,m=new THREE.Vector3(0,0,1),v=0;v<o;v++){for(t=0;t<r;t++){this.vertices.push(new THREE.Vertex(new THREE.Vector3(t*n-p,-(v*j-q),0)))}}for(v=0;v<s;v++){for(t=0;t<u;t++){p=new THREE.Face4(t+r*v,t+r*(v+1),t+1+r*(v+1),t+1+r*v),p.normal.copy(m),p.vertexNormals.push(m.clone(),m.clone(),m.clone(),m.clone()),this.faces.push(p),this.faceVertexUvs[0].push([new THREE.UV(t/u,v/s),new THREE.UV(t/u,(v+1)/s),new THREE.UV((t+1)/u,(v+1)/s),new THREE.UV((t+1)/u,v/s)])}}this.computeCentroids()};THREE.PlaneGeometry.prototype=new THREE.Geometry;THREE.PlaneGeometry.prototype.constructor=THREE.PlaneGeometry;THREE.SphereGeometry=function(L,J,K,I,F,G,H){THREE.Geometry.call(this);var L=L||50,J=Math.max(3,Math.floor(J)||8),K=Math.max(2,Math.floor(K)||6),I=I!=void 0?I:0,F=F!=void 0?F:Math.PI*2,G=G!=void 0?G:0,H=H!=void 0?H:Math.PI,E,D,B=[],C=[];for(D=0;D<=K;D++){var y=[],x=[];for(E=0;E<=J;E++){var A=E/J,u=D/K;this.vertices.push(new THREE.Vertex(new THREE.Vector3(-L*Math.cos(I+A*F)*Math.sin(G+u*H),L*Math.cos(G+u*H),L*Math.sin(I+A*F)*Math.sin(G+u*H))));y.push(this.vertices.length-1);x.push(new THREE.UV(A,u))}B.push(y);C.push(x)}for(D=0;D<K;D++){for(E=0;E<J;E++){var I=B[D][E+1],F=B[D][E],G=B[D+1][E],H=B[D+1][E+1],y=this.vertices[I].position.clone().normalize(),x=this.vertices[F].position.clone().normalize(),A=this.vertices[G].position.clone().normalize(),u=this.vertices[H].position.clone().normalize(),z=C[D][E+1].clone(),v=C[D][E].clone(),s=C[D+1][E].clone(),j=C[D+1][E+1].clone();Math.abs(this.vertices[I].position.y)==L?(this.faces.push(new THREE.Face3(I,G,H,[y,A,u])),this.faceVertexUvs[0].push([z,s,j])):Math.abs(this.vertices[G].position.y)==L?(this.faces.push(new THREE.Face3(I,F,G,[y,x,A])),this.faceVertexUvs[0].push([z,v,s])):(this.faces.push(new THREE.Face4(I,F,G,H,[y,x,A,u])),this.faceVertexUvs[0].push([z,v,s,j]))}}this.computeCentroids();this.computeFaceNormals();this.boundingSphere={radius:L}};THREE.SphereGeometry.prototype=new THREE.Geometry;THREE.SphereGeometry.prototype.constructor=THREE.SphereGeometry;THREE.TextGeometry=function(f,h){var e=(new THREE.TextPath(f,h)).toShapes();h.amount=h.height!==void 0?h.height:50;if(h.bevelThickness===void 0){h.bevelThickness=10}if(h.bevelSize===void 0){h.bevelSize=8}if(h.bevelEnabled===void 0){h.bevelEnabled=!1}if(h.bend){var g=e[e.length-1].getBoundingBox().maxX;h.bendPath=new THREE.QuadraticBezierCurve(new THREE.Vector2(0,0),new THREE.Vector2(g/2,120),new THREE.Vector2(g,0))}THREE.ExtrudeGeometry.call(this,e,h)};THREE.TextGeometry.prototype=new THREE.ExtrudeGeometry;THREE.TextGeometry.prototype.constructor=THREE.TextGeometry;THREE.FontUtils={faces:{},face:"helvetiker",weight:"normal",style:"normal",size:150,divisions:10,getFace:function(){return this.faces[this.face][this.weight][this.style]},loadFace:function(b){var d=b.familyName.toLowerCase();this.faces[d]=this.faces[d]||{};this.faces[d][b.cssFontWeight]=this.faces[d][b.cssFontWeight]||{};this.faces[d][b.cssFontWeight][b.cssFontStyle]=b;return this.faces[d][b.cssFontWeight][b.cssFontStyle]=b},drawText:function(k){for(var q=this.getFace(),j=this.size/q.resolution,p=0,m=String(k).split(""),n=m.length,o=[],k=0;k<n;k++){var l=new THREE.Path,l=this.extractGlyphPoints(m[k],q,j,p,l);p+=l.offset;o.push(l.path)}return{paths:o,offset:p/2}},extractGlyphPoints:function(N,L,M,K,H){var I=[],J,G,F,D,E,A,z,C,x,B,y,v=L.glyphs[N]||L.glyphs["?"];if(v){if(v.o){L=v._cachedOutline||(v._cachedOutline=v.o.split(" "));D=L.length;for(N=0;N<D;){switch(F=L[N++],F){case"m":F=L[N++]*M+K;E=L[N++]*M;I.push(new THREE.Vector2(F,E));H.moveTo(F,E);break;case"l":F=L[N++]*M+K;E=L[N++]*M;I.push(new THREE.Vector2(F,E));H.lineTo(F,E);break;case"q":F=L[N++]*M+K;E=L[N++]*M;C=L[N++]*M+K;x=L[N++]*M;H.quadraticCurveTo(C,x,F,E);if(J=I[I.length-1]){A=J.x;z=J.y;J=1;for(G=this.divisions;J<=G;J++){var j=J/G,s=THREE.Shape.Utils.b2(j,A,C,F),j=THREE.Shape.Utils.b2(j,z,x,E);I.push(new THREE.Vector2(s,j))}}break;case"b":if(F=L[N++]*M+K,E=L[N++]*M,C=L[N++]*M+K,x=L[N++]*-M,B=L[N++]*M+K,y=L[N++]*-M,H.bezierCurveTo(F,E,C,x,B,y),J=I[I.length-1]){A=J.x;z=J.y;J=1;for(G=this.divisions;J<=G;J++){j=J/G,s=THREE.Shape.Utils.b3(j,A,C,B,F),j=THREE.Shape.Utils.b3(j,z,x,y,E),I.push(new THREE.Vector2(s,j))}}}}}return{offset:v.ha*M,points:I,path:H}}}};(function(b){var d=function(h){for(var m=h.length,j=0,k=m-1,l=0;l<m;k=l++){j+=h[k].x*h[l].y-h[l].x*h[k].y}return j*0.5};b.Triangulate=function(aw,av){var ar=aw.length;if(ar<3){return null}var at=[],au=[],aq=[],ap,an,ao;if(d(aw)>0){for(an=0;an<ar;an++){au[an]=an}}else{for(an=0;an<ar;an++){au[an]=ar-1-an}}var ak=2*ar;for(an=ar-1;ar>2;){if(ak--<=0){console.log("Warning, unable to triangulate polygon!");if(av){return aq}return at}ap=an;ar<=ap&&(ap=0);an=ap+1;ar<=an&&(an=0);ao=an+1;ar<=ao&&(ao=0);var aj;aw:{aj=aw;var am=ap,ah=an,al=ao,ai=ar,af=au,ac=void 0,ae=void 0,X=void 0,V=void 0,Y=void 0,ab=void 0,aa=void 0,ad=void 0,N=void 0,ae=aj[af[am]].x,X=aj[af[am]].y,V=aj[af[ah]].x,Y=aj[af[ah]].y,ab=aj[af[al]].x,aa=aj[af[al]].y;if(1e-10>(V-ae)*(aa-X)-(Y-X)*(ab-ae)){aj=!1}else{for(ac=0;ac<ai;ac++){if(!(ac==am||ac==ah||ac==al)){var ad=aj[af[ac]].x,N=aj[af[ac]].y,ag=void 0,W=void 0,j=void 0,c=void 0,L=void 0,z=void 0,C=void 0,Z=void 0,S=void 0,T=void 0,Q=void 0,D=void 0,ag=j=L=void 0,ag=ab-V,W=aa-Y,j=ae-ab,c=X-aa,L=V-ae,z=Y-X,C=ad-ae,Z=N-X,S=ad-V,T=N-Y,Q=ad-ab,D=N-aa,ag=ag*T-W*S,L=L*Z-z*C,j=j*D-c*Q;if(ag>=0&&j>=0&&L>=0){aj=!1;break aw}}}aj=!0}}if(aj){at.push([aw[au[ap]],aw[au[an]],aw[au[ao]]]);aq.push([au[ap],au[an],au[ao]]);ap=an;for(ao=an+1;ao<ar;ap++,ao++){au[ap]=au[ao]}ar--;ak=2*ar}}if(av){return aq}return at};b.Triangulate.area=d;return b})(THREE.FontUtils);self._typeface_js={faces:THREE.FontUtils.faces,loadFace:THREE.FontUtils.loadFace};THREE.TorusGeometry=function(r,p,q,o,l){THREE.Geometry.call(this);this.radius=r||100;this.tube=p||40;this.segmentsR=q||8;this.segmentsT=o||6;this.arc=l||Math.PI*2;l=new THREE.Vector3;r=[];p=[];for(q=0;q<=this.segmentsR;q++){for(o=0;o<=this.segmentsT;o++){var m=o/this.segmentsT*this.arc,n=q/this.segmentsR*Math.PI*2;l.x=this.radius*Math.cos(m);l.y=this.radius*Math.sin(m);var k=new THREE.Vector3;k.x=(this.radius+this.tube*Math.cos(n))*Math.cos(m);k.y=(this.radius+this.tube*Math.cos(n))*Math.sin(m);k.z=this.tube*Math.sin(n);this.vertices.push(new THREE.Vertex(k));r.push(new THREE.UV(o/this.segmentsT,1-q/this.segmentsR));p.push(k.clone().subSelf(l).normalize())}}for(q=1;q<=this.segmentsR;q++){for(o=1;o<=this.segmentsT;o++){var l=(this.segmentsT+1)*q+o-1,m=(this.segmentsT+1)*(q-1)+o-1,n=(this.segmentsT+1)*(q-1)+o,k=(this.segmentsT+1)*q+o,j=new THREE.Face4(l,m,n,k,[p[l],p[m],p[n],p[k]]);j.normal.addSelf(p[l]);j.normal.addSelf(p[m]);j.normal.addSelf(p[n]);j.normal.addSelf(p[k]);j.normal.normalize();this.faces.push(j);this.faceVertexUvs[0].push([r[l].clone(),r[m].clone(),r[n].clone(),r[k].clone()])}}this.computeCentroids()};THREE.TorusGeometry.prototype=new THREE.Geometry;THREE.TorusGeometry.prototype.constructor=THREE.TorusGeometry;THREE.TorusKnotGeometry=function(v,t,u,s,p,q,r){function o(h,g,x,w,l,k){g=x/w*h;x=Math.cos(g);return new THREE.Vector3(l*(2+x)*0.5*Math.cos(h),l*(2+x)*Math.sin(h)*0.5,k*l*Math.sin(g)*0.5)}THREE.Geometry.call(this);this.radius=v||200;this.tube=t||40;this.segmentsR=u||64;this.segmentsT=s||8;this.p=p||2;this.q=q||3;this.heightScale=r||1;this.grid=Array(this.segmentsR);u=new THREE.Vector3;s=new THREE.Vector3;q=new THREE.Vector3;for(v=0;v<this.segmentsR;++v){this.grid[v]=Array(this.segmentsT);for(t=0;t<this.segmentsT;++t){var n=v/this.segmentsR*2*this.p*Math.PI,r=t/this.segmentsT*2*Math.PI,p=o(n,r,this.q,this.p,this.radius,this.heightScale),n=o(n+0.01,r,this.q,this.p,this.radius,this.heightScale);u.x=n.x-p.x;u.y=n.y-p.y;u.z=n.z-p.z;s.x=n.x+p.x;s.y=n.y+p.y;s.z=n.z+p.z;q.cross(u,s);s.cross(q,u);q.normalize();s.normalize();n=-this.tube*Math.cos(r);r=this.tube*Math.sin(r);p.x+=n*s.x+r*q.x;p.y+=n*s.y+r*q.y;p.z+=n*s.z+r*q.z;this.grid[v][t]=this.vertices.push(new THREE.Vertex(new THREE.Vector3(p.x,p.y,p.z)))-1}}for(v=0;v<this.segmentsR;++v){for(t=0;t<this.segmentsT;++t){var s=(v+1)%this.segmentsR,q=(t+1)%this.segmentsT,p=this.grid[v][t],u=this.grid[s][t],s=this.grid[s][q],q=this.grid[v][q],r=new THREE.UV(v/this.segmentsR,t/this.segmentsT),n=new THREE.UV((v+1)/this.segmentsR,t/this.segmentsT),j=new THREE.UV((v+1)/this.segmentsR,(t+1)/this.segmentsT),m=new THREE.UV(v/this.segmentsR,(t+1)/this.segmentsT);this.faces.push(new THREE.Face4(p,u,s,q));this.faceVertexUvs[0].push([r,n,j,m])}}this.computeCentroids();this.computeFaceNormals();this.computeVertexNormals()};THREE.TorusKnotGeometry.prototype=new THREE.Geometry;THREE.TorusKnotGeometry.prototype.constructor=THREE.TorusKnotGeometry;THREE.SubdivisionModifier=function(b){this.subdivisions=b===void 0?1:b;this.useOldVertexColors=!1;this.supportUVs=!0};THREE.SubdivisionModifier.prototype.constructor=THREE.SubdivisionModifier;THREE.SubdivisionModifier.prototype.modify=function(b){for(var d=this.subdivisions;d-->0;){this.smooth(b)}};THREE.SubdivisionModifier.prototype.smooth=function(al){function aj(x,w,v,u,t,s){var q=new THREE.Face4(x,w,v,u,null,t.color,t.material);if(ah.useOldVertexColors){q.vertexColors=[];for(var p,g,f,r=0;r<4;r++){f=s[r];p=new THREE.Color;p.setRGB(0,0,0);for(var e=0;e<f.length;e++){g=t.vertexColors[f[e]-1],p.r+=g.r,p.g+=g.g,p.b+=g.b}p.r/=f.length;p.g/=f.length;p.b/=f.length;q.vertexColors[r]=p}}af.push(q);(!ah.supportUVs||X.length!=0)&&ag.push([X[x],X[w],X[v],X[u]])}function ak(d,c){return Math.min(d,c)+"_"+Math.max(d,c)}var ai=[],af=[],ag=[],ah=this,ae=al.vertices,ai=al.faces,ad=ae.concat(),ab=[],ac={},Y={},X=[],aa,S,Z,V,P,I=al.faceVertexUvs[0];aa=0;for(S=I.length;aa<S;aa++){Z=0;for(V=I[aa].length;Z<V;Z++){P=ai[aa]["abcd".charAt(Z)],X[P]||(X[P]=I[aa][Z])}}var N;aa=0;for(S=ai.length;aa<S;aa++){if(P=ai[aa],ab.push(P.centroid),ad.push(new THREE.Vertex(P.centroid)),ah.supportUVs&&X.length!=0){N=new THREE.UV;if(P instanceof THREE.Face3){N.u=X[P.a].u+X[P.b].u+X[P.c].u,N.v=X[P.a].v+X[P.b].v+X[P.c].v,N.u/=3,N.v/=3}else{if(P instanceof THREE.Face4){N.u=X[P.a].u+X[P.b].u+X[P.c].u+X[P.d].u,N.v=X[P.a].v+X[P.b].v+X[P.c].v+X[P.d].v,N.u/=4,N.v/=4}}X.push(N)}}S=function(b){function p(e,c,f){e[c]===void 0&&(e[c]=[]);e[c].push(f)}var o,n,m,l,k={};o=0;for(n=b.faces.length;o<n;o++){m=b.faces[o],m instanceof THREE.Face3?(l=ak(m.a,m.b),p(k,l,o),l=ak(m.b,m.c),p(k,l,o),l=ak(m.c,m.a),p(k,l,o)):m instanceof THREE.Face4&&(l=ak(m.a,m.b),p(k,l,o),l=ak(m.b,m.c),p(k,l,o),l=ak(m.c,m.d),p(k,l,o),l=ak(m.d,m.a),p(k,l,o))}return k}(al);var T=0,I=ae.length,M,W,H={},G={},L=function(d,c){H[d]===void 0&&(H[d]=[]);H[d].push(c)},D=function(d,c){G[d]===void 0&&(G[d]={});G[d][c]=null};for(aa in S){N=S[aa];M=aa.split("_");W=M[0];M=M[1];L(W,[W,M]);L(M,[W,M]);Z=0;for(V=N.length;Z<V;Z++){P=N[Z],D(W,P,aa),D(M,P,aa)}N.length<2&&(Y[aa]=!0)}for(aa in S){if(N=S[aa],P=N[0],N=N[1],M=aa.split("_"),W=M[0],M=M[1],V=new THREE.Vector3,Y[aa]?(V.addSelf(ae[W].position),V.addSelf(ae[M].position),V.multiplyScalar(0.5)):(V.addSelf(ab[P]),V.addSelf(ab[N]),V.addSelf(ae[W].position),V.addSelf(ae[M].position),V.multiplyScalar(0.25)),ac[aa]=I+ai.length+T,ad.push(new THREE.Vertex(V)),T++,ah.supportUVs&&X.length!=0){N=new THREE.UV,N.u=X[W].u+X[M].u,N.v=X[W].v+X[M].v,N.u/=2,N.v/=2,X.push(N)}}var Q,O;M=["123","12","2","23"];V=["123","23","3","31"];var L=["123","31","1","12"],D=["1234","12","2","23"],z=["1234","23","3","34"],j=["1234","34","4","41"],C=["1234","41","1","12"];aa=0;for(S=ab.length;aa<S;aa++){P=ai[aa],N=I+aa,P instanceof THREE.Face3?(T=ak(P.a,P.b),W=ak(P.b,P.c),Q=ak(P.c,P.a),aj(N,ac[T],P.b,ac[W],P,M),aj(N,ac[W],P.c,ac[Q],P,V),aj(N,ac[Q],P.a,ac[T],P,L)):P instanceof THREE.Face4?(T=ak(P.a,P.b),W=ak(P.b,P.c),Q=ak(P.c,P.d),O=ak(P.d,P.a),aj(N,ac[T],P.b,ac[W],P,D),aj(N,ac[W],P.c,ac[Q],P,z),aj(N,ac[Q],P.d,ac[O],P,j),aj(N,ac[O],P.a,ac[T],P,C)):console.log("face should be a face!",P)}ai=ad;ad=new THREE.Vector3;ac=new THREE.Vector3;aa=0;for(S=ae.length;aa<S;aa++){if(H[aa]!==void 0){ad.set(0,0,0);ac.set(0,0,0);P=new THREE.Vector3(0,0,0);N=0;for(Z in G[aa]){ad.addSelf(ab[Z]),N++}T=0;I=H[aa].length;for(Z=0;Z<I;Z++){Y[ak(H[aa][Z][0],H[aa][Z][1])]&&T++}if(T!=2){ad.divideScalar(N);for(Z=0;Z<I;Z++){N=H[aa][Z],N=ae[N[0]].position.clone().addSelf(ae[N[1]].position).divideScalar(2),ac.addSelf(N)}ac.divideScalar(I);P.addSelf(ae[aa].position);P.multiplyScalar(I-3);P.addSelf(ad);P.addSelf(ac.multiplyScalar(2));P.divideScalar(I);ai[aa].position=P}}}al.vertices=ai;al.faces=af;al.faceVertexUvs[0]=ag;delete al.__tmpVertices;al.computeCentroids();al.computeFaceNormals();al.computeVertexNormals()};THREE.Loader=function(b){this.statusDomElement=(this.showStatus=b)?THREE.Loader.prototype.addStatusElement():null;this.onLoadStart=function(){};this.onLoadProgress=function(){};this.onLoadComplete=function(){}};THREE.Loader.prototype={constructor:THREE.Loader,addStatusElement:function(){var b=document.createElement("div");b.style.position="absolute";b.style.right="0px";b.style.top="0px";b.style.fontSize="0.8em";b.style.textAlign="left";b.style.background="rgba(0,0,0,0.25)";b.style.color="#fff";b.style.width="120px";b.style.padding="0.5em 0.5em 0.5em 0.5em";b.style.zIndex=1000;b.innerHTML="Loading ...";return b},updateProgress:function(b){var d="Loaded ";d+=b.total?(100*b.loaded/b.total).toFixed(0)+"%":(b.loaded/1000).toFixed(2)+" KB";this.statusDomElement.innerHTML=d},extractUrlbase:function(b){b=b.split("/");b.pop();return b.length<1?"":b.join("/")+"/"},initMaterials:function(f,h,e){f.materials=[];for(var g=0;g<h.length;++g){f.materials[g]=THREE.Loader.prototype.createMaterial(h[g],e)}},hasNormals:function(f){var h,e,g=f.materials.length;for(e=0;e<g;e++){if(h=f.materials[e],h instanceof THREE.ShaderMaterial){return !0}}return !1},createMaterial:function(z,x){function y(b){b=Math.log(b)/Math.LN2;return Math.floor(b)==b}function w(b,f){var e=new Image;e.onload=function(){if(!y(this.width)||!y(this.height)){var g=Math.pow(2,Math.round(Math.log(this.width)/Math.LN2)),a=Math.pow(2,Math.round(Math.log(this.height)/Math.LN2));b.image.width=g;b.image.height=a;b.image.getContext("2d").drawImage(this,0,0,g,a)}else{b.image=this}b.needsUpdate=!0};e.src=f}function t(d,c,A,p,o,l){var k=document.createElement("canvas");d[c]=new THREE.Texture(k);d[c].sourceFile=A;if(p){d[c].repeat.set(p[0],p[1]);if(p[0]!=1){d[c].wrapS=THREE.RepeatWrapping}if(p[1]!=1){d[c].wrapT=THREE.RepeatWrapping}}o&&d[c].offset.set(o[0],o[1]);if(l){p={repeat:THREE.RepeatWrapping,mirror:THREE.MirroredRepeatWrapping};if(p[l[0]]!==void 0){d[c].wrapS=p[l[0]]}if(p[l[1]]!==void 0){d[c].wrapT=p[l[1]]}}w(d[c],x+"/"+A)}function u(b){return(b[0]*255<<16)+(b[1]*255<<8)+b[2]*255}var v,s,r;s="MeshLambertMaterial";v={color:15658734,opacity:1,map:null,lightMap:null,normalMap:null,wireframe:z.wireframe};z.shading&&(z.shading=="Phong"?s="MeshPhongMaterial":z.shading=="Basic"&&(s="MeshBasicMaterial"));if(z.blending){if(z.blending=="Additive"){v.blending=THREE.AdditiveBlending}else{if(z.blending=="Subtractive"){v.blending=THREE.SubtractiveBlending}else{if(z.blending=="Multiply"){v.blending=THREE.MultiplyBlending}}}}if(z.transparent!==void 0||z.opacity<1){v.transparent=z.transparent}if(z.depthTest!==void 0){v.depthTest=z.depthTest}if(z.vertexColors!==void 0){if(z.vertexColors=="face"){v.vertexColors=THREE.FaceColors}else{if(z.vertexColors){v.vertexColors=THREE.VertexColors}}}if(z.colorDiffuse){v.color=u(z.colorDiffuse)}else{if(z.DbgColor){v.color=z.DbgColor}}if(z.colorSpecular){v.specular=u(z.colorSpecular)}if(z.colorAmbient){v.ambient=u(z.colorAmbient)}if(z.transparency){v.opacity=z.transparency}if(z.specularCoef){v.shininess=z.specularCoef}z.mapDiffuse&&x&&t(v,"map",z.mapDiffuse,z.mapDiffuseRepeat,z.mapDiffuseOffset,z.mapDiffuseWrap);z.mapLight&&x&&t(v,"lightMap",z.mapLight,z.mapLightRepeat,z.mapLightOffset,z.mapLightWrap);z.mapNormal&&x&&t(v,"normalMap",z.mapNormal,z.mapNormalRepeat,z.mapNormalOffset,z.mapNormalWrap);z.mapSpecular&&x&&t(v,"specularMap",z.mapSpecular,z.mapSpecularRepeat,z.mapSpecularOffset,z.mapSpecularWrap);if(z.mapNormal){var n=THREE.ShaderUtils.lib.normal,q=THREE.UniformsUtils.clone(n.uniforms),m=v.color;s=v.specular;r=v.ambient;var j=v.shininess;q.tNormal.texture=v.normalMap;if(z.mapNormalFactor){q.uNormalScale.value=z.mapNormalFactor}if(v.map){q.tDiffuse.texture=v.map,q.enableDiffuse.value=!0}if(v.specularMap){q.tSpecular.texture=v.specularMap,q.enableSpecular.value=!0}if(v.lightMap){q.tAO.texture=v.lightMap,q.enableAO.value=!0}q.uDiffuseColor.value.setHex(m);q.uSpecularColor.value.setHex(s);q.uAmbientColor.value.setHex(r);q.uShininess.value=j;if(v.opacity){q.uOpacity.value=v.opacity}v=new THREE.ShaderMaterial({fragmentShader:n.fragmentShader,vertexShader:n.vertexShader,uniforms:q,lights:!0,fog:!0})}else{v=new THREE[s](v)}return v}};THREE.BinaryLoader=function(b){THREE.Loader.call(this,b)};THREE.BinaryLoader.prototype=new THREE.Loader;THREE.BinaryLoader.prototype.constructor=THREE.BinaryLoader;THREE.BinaryLoader.prototype.supr=THREE.Loader.prototype;THREE.BinaryLoader.prototype.load=function(f,k,e,j){if(f instanceof Object){console.warn("DEPRECATED: BinaryLoader( parameters ) is now BinaryLoader( url, callback, texturePath, binaryPath )."),j=f,f=j.model,k=j.callback,e=j.texture_path,j=j.bin_path}var e=e?e:this.extractUrlbase(f),j=j?j:this.extractUrlbase(f),h=this.showProgress?THREE.Loader.prototype.updateProgress:null;this.onLoadStart();this.loadAjaxJSON(this,f,k,e,j,h)};THREE.BinaryLoader.prototype.loadAjaxJSON=function(j,o,h,n,k,l){var m=new XMLHttpRequest;m.onreadystatechange=function(){if(m.readyState==4){if(m.status==200||m.status==0){try{var b=JSON.parse(m.responseText);b.metadata===void 0||b.metadata.formatVersion===void 0||b.metadata.formatVersion!==3?console.error("Deprecated file format."):j.loadAjaxBuffers(b,h,k,n,l)}catch(a){console.error(a),console.warn("DEPRECATED: ["+o+"] seems to be using old model format")}}else{console.error("Couldn't load ["+o+"] ["+m.status+"]")}}};m.open("GET",o,!0);m.overrideMimeType("text/plain; charset=x-user-defined");m.setRequestHeader("Content-Type","text/plain");m.send(null)};THREE.BinaryLoader.prototype.loadAjaxBuffers=function(k,q,j,p,m){var n=new XMLHttpRequest,o=j+"/"+k.buffers,l=0;n.onreadystatechange=function(){n.readyState==4?n.status==200||n.status==0?THREE.BinaryLoader.prototype.createBinModel(n.response,q,p,k.materials):console.error("Couldn't load ["+o+"] ["+n.status+"]"):n.readyState==3?m&&(l==0&&(l=n.getResponseHeader("Content-Length")),m({total:l,loaded:n.responseText.length})):n.readyState==2&&(l=n.getResponseHeader("Content-Length"))};n.open("GET",o,!0);n.responseType="arraybuffer";n.send(null)};THREE.BinaryLoader.prototype.createBinModel=function(f,k,e,j){var h=function(T){function S(b){return b%4?4-b%4:0}function R(g,c){return(new Uint8Array(g,c,1))[0]}function Q(g,c){return(new Uint32Array(g,c,1))[0]}function O(B,A){var y,x,w,v,u,t,r,q,p=new Uint32Array(f,A,3*B);for(y=0;y<B;y++){x=p[y*3];w=p[y*3+1];v=p[y*3+2];u=D[x*2];x=D[x*2+1];t=D[w*2];r=D[w*2+1];w=D[v*2];q=D[v*2+1];v=M.faceVertexUvs[0];var n=[];n.push(new THREE.UV(u,x));n.push(new THREE.UV(t,r));n.push(new THREE.UV(w,q));v.push(n)}}function P(W,V){var U,F,B,A,y,x,w,v,u,t,r=new Uint32Array(f,V,4*W);for(U=0;U<W;U++){F=r[U*4];B=r[U*4+1];A=r[U*4+2];y=r[U*4+3];x=D[F*2];F=D[F*2+1];w=D[B*2];u=D[B*2+1];v=D[A*2];t=D[A*2+1];A=D[y*2];B=D[y*2+1];y=M.faceVertexUvs[0];var n=[];n.push(new THREE.UV(x,F));n.push(new THREE.UV(w,u));n.push(new THREE.UV(v,t));n.push(new THREE.UV(A,B));y.push(n)}}function L(l,t,r){for(var q,p,o,n,t=new Uint32Array(f,t,3*l),m=new Uint16Array(f,r,l),r=0;r<l;r++){q=t[r*3],p=t[r*3+1],o=t[r*3+2],n=m[r],M.faces.push(new THREE.Face3(q,p,o,null,null,n))}}function K(u,t,r){for(var q,p,o,n,m,t=new Uint32Array(f,t,4*u),l=new Uint16Array(f,r,u),r=0;r<u;r++){q=t[r*4],p=t[r*4+1],o=t[r*4+2],n=t[r*4+3],m=l[r],M.faces.push(new THREE.Face4(q,p,o,n,null,null,m))}}function N(Z,Y,X,W){for(var V,U,F,B,A,y,x,Y=new Uint32Array(f,Y,3*Z),X=new Uint32Array(f,X,3*Z),w=new Uint16Array(f,W,Z),W=0;W<Z;W++){V=Y[W*3];U=Y[W*3+1];F=Y[W*3+2];A=X[W*3];y=X[W*3+1];x=X[W*3+2];B=w[W];var v=s[y*3],u=s[y*3+1];y=s[y*3+2];var n=s[x*3],aa=s[x*3+1];x=s[x*3+2];M.faces.push(new THREE.Face3(V,U,F,[new THREE.Vector3(s[A*3],s[A*3+1],s[A*3+2]),new THREE.Vector3(v,u,y),new THREE.Vector3(n,aa,x)],null,B))}}function G(ah,ag,af,ae){for(var ad,ac,ab,aa,Y,X,W,V,U,ag=new Uint32Array(f,ag,4*ah),af=new Uint32Array(f,af,4*ah),F=new Uint16Array(f,ae,ah),ae=0;ae<ah;ae++){ad=ag[ae*4];ac=ag[ae*4+1];ab=ag[ae*4+2];aa=ag[ae*4+3];X=af[ae*4];W=af[ae*4+1];V=af[ae*4+2];U=af[ae*4+3];Y=F[ae];var B=s[W*3],A=s[W*3+1];W=s[W*3+2];var Z=s[V*3],y=s[V*3+1];V=s[V*3+2];var w=s[U*3],n=s[U*3+1];U=s[U*3+2];M.faces.push(new THREE.Face4(ad,ac,ab,aa,[new THREE.Vector3(s[X*3],s[X*3+1],s[X*3+2]),new THREE.Vector3(B,A,W),new THREE.Vector3(Z,y,V),new THREE.Vector3(w,n,U)],null,Y))}}var M=this,I=0,E,s=[],D=[],H,C,J,d,a,z;THREE.Geometry.call(this);THREE.Loader.prototype.initMaterials(M,j,T);E={signature:function(l,g,o){for(var l=new Uint8Array(l,g,o),n="",m=0;m<o;m++){n+=String.fromCharCode(l[g+m])}return n}(f,I,12),header_bytes:R(f,I+12),vertex_coordinate_bytes:R(f,I+13),normal_coordinate_bytes:R(f,I+14),uv_coordinate_bytes:R(f,I+15),vertex_index_bytes:R(f,I+16),normal_index_bytes:R(f,I+17),uv_index_bytes:R(f,I+18),material_index_bytes:R(f,I+19),nvertices:Q(f,I+20),nnormals:Q(f,I+20+4),nuvs:Q(f,I+20+8),ntri_flat:Q(f,I+20+12),ntri_smooth:Q(f,I+20+16),ntri_flat_uv:Q(f,I+20+20),ntri_smooth_uv:Q(f,I+20+24),nquad_flat:Q(f,I+20+28),nquad_smooth:Q(f,I+20+32),nquad_flat_uv:Q(f,I+20+36),nquad_smooth_uv:Q(f,I+20+40)};E.signature!=="Three.js 003"&&console.warn("DEPRECATED: binary model seems to be using old format");I+=E.header_bytes;T=E.vertex_index_bytes*3+E.material_index_bytes;z=E.vertex_index_bytes*4+E.material_index_bytes;H=E.ntri_flat*T;C=E.ntri_smooth*(T+E.normal_index_bytes*3);J=E.ntri_flat_uv*(T+E.uv_index_bytes*3);d=E.ntri_smooth_uv*(T+E.normal_index_bytes*3+E.uv_index_bytes*3);a=E.nquad_flat*z;T=E.nquad_smooth*(z+E.normal_index_bytes*4);z=E.nquad_flat_uv*(z+E.uv_index_bytes*4);I+=function(l){var q=E.nvertices,l=new Float32Array(f,l,q*3),p,o,n,m;for(p=0;p<q;p++){o=l[p*3],n=l[p*3+1],m=l[p*3+2],M.vertices.push(new THREE.Vertex(new THREE.Vector3(o,n,m)))}return q*3*Float32Array.BYTES_PER_ELEMENT}(I);I+=function(l){var q=E.nnormals;if(q){var l=new Int8Array(f,l,q*3),p,o,n,m;for(p=0;p<q;p++){o=l[p*3],n=l[p*3+1],m=l[p*3+2],s.push(o/127,n/127,m/127)}}return q*3*Int8Array.BYTES_PER_ELEMENT}(I);I+=S(E.nnormals*3);I+=function(g){var o=E.nuvs;if(o){var g=new Float32Array(f,g,o*2),n,m,l;for(n=0;n<o;n++){m=g[n*2],l=g[n*2+1],D.push(m,l)}}return o*2*Float32Array.BYTES_PER_ELEMENT}(I);H=I+H+S(E.ntri_flat*2);C=H+C+S(E.ntri_smooth*2);J=C+J+S(E.ntri_flat_uv*2);d=J+d+S(E.ntri_smooth_uv*2);a=d+a+S(E.nquad_flat*2);T=a+T+S(E.nquad_smooth*2);z=T+z+S(E.nquad_flat_uv*2);(function(l){var g=E.ntri_flat_uv;if(g){var m=l+g*Uint32Array.BYTES_PER_ELEMENT*3;L(g,l,m+g*Uint32Array.BYTES_PER_ELEMENT*3);O(g,m)}})(C);(function(l){var g=E.ntri_smooth_uv;if(g){var n=l+g*Uint32Array.BYTES_PER_ELEMENT*3,m=n+g*Uint32Array.BYTES_PER_ELEMENT*3;N(g,l,n,m+g*Uint32Array.BYTES_PER_ELEMENT*3);O(g,m)}})(J);(function(l){var g=E.nquad_flat_uv;if(g){var m=l+g*Uint32Array.BYTES_PER_ELEMENT*4;K(g,l,m+g*Uint32Array.BYTES_PER_ELEMENT*4);P(g,m)}})(T);(function(l){var g=E.nquad_smooth_uv;if(g){var n=l+g*Uint32Array.BYTES_PER_ELEMENT*4,m=n+g*Uint32Array.BYTES_PER_ELEMENT*4;G(g,l,n,m+g*Uint32Array.BYTES_PER_ELEMENT*4);P(g,m)}})(z);(function(g){var c=E.ntri_flat;c&&L(c,g,g+c*Uint32Array.BYTES_PER_ELEMENT*3)})(I);(function(l){var g=E.ntri_smooth;if(g){var m=l+g*Uint32Array.BYTES_PER_ELEMENT*3;N(g,l,m,m+g*Uint32Array.BYTES_PER_ELEMENT*3)}})(H);(function(g){var c=E.nquad_flat;c&&K(c,g,g+c*Uint32Array.BYTES_PER_ELEMENT*4)})(d);(function(l){var g=E.nquad_smooth;if(g){var m=l+g*Uint32Array.BYTES_PER_ELEMENT*4;G(g,l,m,m+g*Uint32Array.BYTES_PER_ELEMENT*4)}})(a);this.computeCentroids();this.computeFaceNormals();THREE.Loader.prototype.hasNormals(this)&&this.computeTangents()};h.prototype=new THREE.Geometry;h.prototype.constructor=h;k(new h(e))};THREE.ColladaLoader=function(){function aX(b,f,e){aO=b;f=f||ao;e!==void 0&&(b=e.split("/"),b.pop(),aD=b.length<1?"":b.join("/")+"/");at=aV("//dae:library_images/dae:image",aT,"image");C=aV("//dae:library_materials/dae:material",au,"material");ax=aV("//dae:library_effects/dae:effect",Y,"effect");N=aV("//dae:library_geometries/dae:geometry",aH,"geometry");aB=aV("//dae:library_controllers/dae:controller",aQ,"controller");aF=aV("//dae:library_animations/dae:animation",ae,"animation");aq=aV(".//dae:library_visual_scenes/dae:visual_scene",aN,"visual_scene");ab=[];az=[];(b=aO.evaluate(".//dae:scene/dae:instance_visual_scene",aO,ah,XPathResult.ORDERED_NODE_ITERATOR_TYPE,null).iterateNext())?(b=b.getAttribute("url").replace(/^#/,""),L=aq[b]):L=null;z=new THREE.Object3D;for(b=0;b<L.nodes.length;b++){z.add(aS(L.nodes[b]))}aW();for(var c in aF){}c={scene:z,morphs:ab,skins:az,dae:{images:at,materials:C,effects:ax,geometries:N,controllers:aB,animations:aF,visualScenes:aq,scene:L}};f&&f(c);return c}function aV(h,g,m){for(var h=aO.evaluate(h,aO,ah,XPathResult.ORDERED_NODE_ITERATOR_TYPE,null),l={},k=h.iterateNext(),j=0;k;){k=(new g).parse(k);if(k.id.length==0){k.id=m+j++}l[k.id]=k;k=h.iterateNext()}return l}function aW(){var j=1000000,h=-j,o=0,n;for(n in aF){for(var m=aF[n],l=0;l<m.sampler.length;l++){var k=m.sampler[l];k.create();j=Math.min(j,k.startTime);h=Math.max(h,k.endTime);o=Math.max(o,k.input.length)}}return{start:j,end:h,frames:o}}function aU(g,d,k,j){g.world=g.world||new THREE.Matrix4;g.world.copy(g.matrix);if(g.channels&&g.channels.length){var h=g.channels[0].sampler.output[k];h instanceof THREE.Matrix4&&g.world.copy(h)}j&&g.world.multiply(j,g.world);d.push(g);for(j=0;j<g.nodes.length;j++){aU(g.nodes[j],d,k,g.world)}}function aR(I,H,G){var F=aB[H.url];if(!F||!F.skin){console.log("ColladaLoader: Could not find skin controller.")}else{if(!H.skeleton||!H.skeleton.length){console.log("ColladaLoader: Could not find the skeleton for the skin. ")}else{var E=aW(),H=L.getChildById(H.skeleton[0],!0)||L.getChildBySid(H.skeleton[0],!0),B,A,y,x,w=new THREE.Vector3,v;for(B=0;B<I.vertices.length;B++){F.skin.bindShapeMatrix.multiplyVector3(I.vertices[B].position)}for(G=0;G<E.frames;G++){var u=[],t=[];for(B=0;B<I.vertices.length;B++){t.push(new THREE.Vertex(new THREE.Vector3))}aU(H,u,G);B=u;A=F.skin;for(x=0;x<B.length;x++){if(y=B[x],v=-1,y.type=="JOINT"){for(var s=0;s<A.joints.length;s++){if(y.sid==A.joints[s]){v=s;break}}if(v>=0){s=A.invBindMatrices[v];y.invBindMatrix=s;y.skinningMatrix=new THREE.Matrix4;y.skinningMatrix.multiply(y.world,s);y.weights=[];for(s=0;s<A.weights.length;s++){for(var d=0;d<A.weights[s].length;d++){var b=A.weights[s][d];b.joint==v&&y.weights.push(b)}}}else{throw"ColladaLoader: Could not find joint '"+y.sid+"'."}}}for(B=0;B<u.length;B++){if(u[B].type=="JOINT"){for(A=0;A<u[B].weights.length;A++){y=u[B].weights[A],x=y.index,y=y.weight,v=I.vertices[x],x=t[x],w.x=v.position.x,w.y=v.position.y,w.z=v.position.z,u[B].skinningMatrix.multiplyVector3(w),x.position.x+=w.x*y,x.position.y+=w.y*y,x.position.z+=w.z*y}}}I.morphTargets.push({name:"target_"+G,vertices:t})}}}}function aS(x){var w=new THREE.Object3D,v,u,t,s;for(t=0;t<x.controllers.length;t++){var r=aB[x.controllers[t].url];switch(r.type){case"skin":if(N[r.skin.source]){var q=new aK;q.url=r.skin.source;q.instance_material=x.controllers[t].instance_material;x.geometries.push(q);v=x.controllers[t]}else{if(aB[r.skin.source]&&(u=r=aB[r.skin.source],r.morph&&N[r.morph.source])){q=new aK,q.url=r.morph.source,q.instance_material=x.controllers[t].instance_material,x.geometries.push(q)}}break;case"morph":if(N[r.morph.source]){q=new aK,q.url=r.morph.source,q.instance_material=x.controllers[t].instance_material,x.geometries.push(q),u=x.controllers[t]}console.log("ColladaLoader: Morph-controller partially supported.")}}for(t=0;t<x.geometries.length;t++){var r=x.geometries[t],q=r.instance_material,r=N[r.url],n={},m=0,g;if(r&&r.mesh&&r.mesh.primitives){if(w.name.length==0){w.name=r.id}if(q){for(s=0;s<q.length;s++){g=q[s];var f=ax[C[g.target].instance_effect.url].shader;f.material.opacity=!f.material.opacity?1:f.material.opacity;g=n[g.symbol]=f.material;m++}}q=g||new THREE.MeshLambertMaterial({color:14540253,shading:THREE.FlatShading});r=r.mesh.geometry3js;if(m>1){q=new THREE.MeshFaceMaterial;for(s=0;s<r.faces.length;s++){m=r.faces[s],m.materials=[n[m.daeMaterial]]}}if(v!==void 0){aR(r,v),q.morphTargets=!0,q=new THREE.SkinnedMesh(r,q),q.skeleton=v.skeleton,q.skinController=aB[v.url],q.skinInstanceController=v,q.name="skin_"+az.length,az.push(q)}else{if(u!==void 0){s=r;n=u instanceof aL?aB[u.url]:u;if(!n||!n.morph){console.log("could not find morph controller!")}else{n=n.morph;for(m=0;m<n.targets.length;m++){if(f=N[n.targets[m]],f.mesh&&f.mesh.primitives&&f.mesh.primitives.length){f=f.mesh.primitives[0].geometry,f.vertices.length===s.vertices.length&&s.morphTargets.push({name:"target_1",vertices:f.vertices})}}s.morphTargets.push({name:"target_Z",vertices:s.vertices})}q.morphTargets=!0;q=new THREE.Mesh(r,q);q.name="morph_"+ab.length;ab.push(q)}else{q=new THREE.Mesh(r,q)}}x.geometries.length>1?w.add(q):w=q}}w.name=x.id||"";x.matrix.decompose(w.position,w.rotation,w.scale);for(t=0;t<x.nodes.length;t++){w.add(aS(x.nodes[t],x))}return w}function aT(){this.init_from=this.id=""}function aQ(){this.type=this.name=this.id="";this.morph=this.skin=null}function aP(){this.weights=this.targets=this.source=this.method=null}function aM(){this.source="";this.bindShapeMatrix=null;this.invBindMatrices=[];this.joints=[];this.weights=[]}function aN(){this.name=this.id="";this.nodes=[];this.scene=new THREE.Object3D}function aJ(){this.sid=this.name=this.id="";this.nodes=[];this.controllers=[];this.transforms=[];this.geometries=[];this.channels=[];this.matrix=new THREE.Matrix4}function aI(){this.type=this.sid="";this.data=[];this.matrix=new THREE.Matrix4}function aL(){this.url="";this.skeleton=[];this.instance_material=[]}function aG(){this.target=this.symbol=""}function aK(){this.url="";this.instance_material=[]}function aH(){this.id="";this.mesh=null}function aC(b){this.geometry=b.id;this.primitives=[];this.geometry3js=this.vertices=null}function aw(){}function aA(){this.material="";this.count=0;this.inputs=[];this.vcount=null;this.p=[];this.geometry=new THREE.Geometry}function al(){this.source="";this.stride=this.count=0;this.params=[]}function aj(){this.input={}}function am(){this.semantic="";this.offset=0;this.source="";this.set=0}function av(b){this.id=b;this.type=null}function au(){this.name=this.id="";this.instance_effect=null}function ay(){this.color=new THREE.Color(0);this.color.setRGB(Math.random(),Math.random(),Math.random());this.color.a=1;this.texcoord=this.texture=null}function af(d,c){this.type=d;this.effect=c;this.material=null}function aE(b){this.effect=b;this.format=this.init_from=null}function ak(b){this.effect=b;this.mipfilter=this.magfilter=this.minfilter=this.wrap_t=this.wrap_s=this.source=null}function Y(){this.name=this.id="";this.sampler=this.surface=this.shader=null}function Q(){this.url=""}function ae(){this.name=this.id="";this.source={};this.sampler=[];this.channel=[]}function Z(b){this.animation=b;this.target=this.source="";this.member=this.arrIndices=this.arrSyntax=this.dotSyntax=this.sid=null}function ac(b){this.id="";this.animation=b;this.inputs=[];this.endTime=this.startTime=this.interpolation=this.output=this.input=null;this.duration=0}function an(d){var c=d.getAttribute("id");if(ap[c]!=void 0){return ap[c]}ap[c]=(new av(c)).parse(d);return ap[c]}function ah(b){if(b=="dae"){return"http://www.collada.org/2005/11/COLLADASchema"}return null}function ai(e){for(var e=ad(e),d=[],f=0;f<e.length;f++){d.push(parseFloat(e[f]))}return d}function ag(e){for(var e=ad(e),d=[],f=0;f<e.length;f++){d.push(parseInt(e[f],10))}return d}function ad(b){return b.replace(/^\s+/,"").replace(/\s+$/,"").split(/\s+/)}function T(e,d,f){return e.hasAttribute(d)?parseInt(e.getAttribute(d),10):f}function aY(e,d){if(e===void 0){for(var f="0.";f.length<d+2;){f+="0"}return f}d=d||2;f=e.toString().split(".");for(f[1]=f.length>1?f[1].substr(0,d):"0";f[1].length<d;){f[1]+="0"}return f.join(".")}function D(e,d){var f="";f+=aY(e.x,d)+",";f+=aY(e.y,d)+",";f+=aY(e.z,d);return f}var aO=null,z=null,L,ao=null,ap={},at={},aF={},aB={},N={},C={},ax={},aq,aD,ab,az,ar=THREE.SmoothShading;aT.prototype.parse=function(e){this.id=e.getAttribute("id");for(var d=0;d<e.childNodes.length;d++){var f=e.childNodes[d];if(f.nodeName=="init_from"){this.init_from=f.textContent}}return this};aQ.prototype.parse=function(e){this.id=e.getAttribute("id");this.name=e.getAttribute("name");this.type="none";for(var d=0;d<e.childNodes.length;d++){var f=e.childNodes[d];switch(f.nodeName){case"skin":this.skin=(new aM).parse(f);this.type=f.nodeName;break;case"morph":this.morph=(new aP).parse(f),this.type=f.nodeName}}return this};aP.prototype.parse=function(g){var f={},k=[],j;this.method=g.getAttribute("method");this.source=g.getAttribute("source").replace(/^#/,"");for(j=0;j<g.childNodes.length;j++){var h=g.childNodes[j];if(h.nodeType==1){switch(h.nodeName){case"source":h=(new av).parse(h);f[h.id]=h;break;case"targets":k=this.parseInputs(h);break;default:console.log(h.nodeName)}}}for(j=0;j<k.length;j++){switch(g=k[j],h=f[g.source],g.semantic){case"MORPH_TARGET":this.targets=h.read();break;case"MORPH_WEIGHT":this.weights=h.read()}}return this};aP.prototype.parseInputs=function(f){for(var e=[],h=0;h<f.childNodes.length;h++){var g=f.childNodes[h];if(g.nodeType==1){switch(g.nodeName){case"input":e.push((new am).parse(g))}}}return e};aM.prototype.parse=function(h){var g={},m,l;this.source=h.getAttribute("source").replace(/^#/,"");this.invBindMatrices=[];this.joints=[];this.weights=[];for(var k=0;k<h.childNodes.length;k++){var j=h.childNodes[k];if(j.nodeType==1){switch(j.nodeName){case"bind_shape_matrix":j=ai(j.textContent);this.bindShapeMatrix=new THREE.Matrix4;this.bindShapeMatrix.set(j[0],j[1],j[2],j[3],j[4],j[5],j[6],j[7],j[8],j[9],j[10],j[11],j[12],j[13],j[14],j[15]);break;case"source":j=(new av).parse(j);g[j.id]=j;break;case"joints":m=j;break;case"vertex_weights":l=j;break;default:console.log(j.nodeName)}}}this.parseJoints(m,g);this.parseWeights(l,g);return this};aM.prototype.parseJoints=function(g,f){for(var k=0;k<g.childNodes.length;k++){var j=g.childNodes[k];if(j.nodeType==1){switch(j.nodeName){case"input":var j=(new am).parse(j),h=f[j.source];if(j.semantic=="JOINT"){this.joints=h.read()}else{if(j.semantic=="INV_BIND_MATRIX"){this.invBindMatrices=h.read()}}}}}};aM.prototype.parseWeights=function(E,B){for(var A,y,x=[],w=0;w<E.childNodes.length;w++){var v=E.childNodes[w];if(v.nodeType==1){switch(v.nodeName){case"input":x.push((new am).parse(v));break;case"v":A=ag(v.textContent);break;case"vcount":y=ag(v.textContent)}}}for(w=v=0;w<y.length;w++){for(var u=y[w],t=[],s=0;s<u;s++){for(var r={},q=0;q<x.length;q++){var p=x[q],o=A[v+p.offset];switch(p.semantic){case"JOINT":r.joint=o;break;case"WEIGHT":r.weight=B[p.source].data[o]}}t.push(r);v+=x.length}for(s=0;s<t.length;s++){t[s].index=w}this.weights.push(t)}};aN.prototype.getChildById=function(f,e){for(var h=0;h<this.nodes.length;h++){var g=this.nodes[h].getChildById(f,e);if(g){return g}}return null};aN.prototype.getChildBySid=function(f,e){for(var h=0;h<this.nodes.length;h++){var g=this.nodes[h].getChildBySid(f,e);if(g){return g}}return null};aN.prototype.parse=function(e){this.id=e.getAttribute("id");this.name=e.getAttribute("name");this.nodes=[];for(var d=0;d<e.childNodes.length;d++){var f=e.childNodes[d];if(f.nodeType==1){switch(f.nodeName){case"node":this.nodes.push((new aJ).parse(f))}}}return this};aJ.prototype.getChannelForTransform=function(k){for(var j=0;j<this.channels.length;j++){var q=this.channels[j],p=q.target.split("/");p.shift();var o=p.shift(),n=o.indexOf(".")>=0,m=o.indexOf("(")>=0,l;if(n){p=o.split("."),o=p.shift(),p.shift()}else{if(m){l=o.split("(");o=l.shift();for(p=0;p<l.length;p++){l[p]=parseInt(l[p].replace(/\)/,""))}}}if(o==k){return q.info={sid:o,dotSyntax:n,arrSyntax:m,arrIndices:l},q}}return null};aJ.prototype.getChildById=function(f,e){if(this.id==f){return this}if(e){for(var h=0;h<this.nodes.length;h++){var g=this.nodes[h].getChildById(f,e);if(g){return g}}}return null};aJ.prototype.getChildBySid=function(f,e){if(this.sid==f){return this}if(e){for(var h=0;h<this.nodes.length;h++){var g=this.nodes[h].getChildBySid(f,e);if(g){return g}}}return null};aJ.prototype.getTransformBySid=function(d){for(var c=0;c<this.transforms.length;c++){if(this.transforms[c].sid==d){return this.transforms[c]}}return null};aJ.prototype.parse=function(v){var u;this.id=v.getAttribute("id");this.sid=v.getAttribute("sid");this.name=v.getAttribute("name");this.type=v.getAttribute("type");this.type=this.type=="JOINT"?this.type:"NODE";this.nodes=[];this.transforms=[];this.geometries=[];this.controllers=[];this.matrix=new THREE.Matrix4;for(var t=0;t<v.childNodes.length;t++){if(u=v.childNodes[t],u.nodeType==1){switch(u.nodeName){case"node":this.nodes.push((new aJ).parse(u));break;case"instance_camera":break;case"instance_controller":this.controllers.push((new aL).parse(u));break;case"instance_geometry":this.geometries.push((new aK).parse(u));break;case"instance_light":break;case"instance_node":u=u.getAttribute("url").replace(/^#/,"");(u=aO.evaluate(".//dae:library_nodes//dae:node[@id='"+u+"']",aO,ah,XPathResult.ORDERED_NODE_ITERATOR_TYPE,null).iterateNext())&&this.nodes.push((new aJ).parse(u));break;case"rotate":case"translate":case"scale":case"matrix":case"lookat":case"skew":this.transforms.push((new aI).parse(u));break;case"extra":break;default:console.log(u.nodeName)}}}v=[];t=1000000;u=-1000000;for(var s in aF){for(var r=aF[s],q=0;q<r.channel.length;q++){var p=r.channel[q],o=r.sampler[q];s=p.target.split("/")[0];if(s==this.id){o.create(),p.sampler=o,t=Math.min(t,o.startTime),u=Math.max(u,o.endTime),v.push(p)}}}if(v.length){this.startTime=t,this.endTime=u}if((this.channels=v)&&this.channels.length){s=10000000;for(v=0;v<this.channels.length;v++){t=this.channels[v].sampler;for(u=0;u<t.input.length-1;u++){s=Math.min(s,t.input[u+1]-t.input[u])}}t=[];for(v=this.startTime;v<this.endTime;v+=s){u=v;for(var r={},n=q=void 0,q=0;q<this.channels.length;q++){n=this.channels[q],r[n.sid]=n}p=new THREE.Matrix4;for(q=0;q<this.transforms.length;q++){if(o=this.transforms[q],n=r[o.sid],n!==void 0){for(var m=n.sampler,j,n=0;n<m.input.length-1;n++){if(m.input[n+1]>u){j=m.output[n];break}}p=j!==void 0?j instanceof THREE.Matrix4?p.multiply(p,j):p.multiply(p,o.matrix):p.multiply(p,o.matrix)}else{p=p.multiply(p,o.matrix)}}u=p;t.push({time:v,pos:[u.n14,u.n24,u.n34],rotq:[0,0,0,1],scl:[1,1,1]})}this.keys=t}this.updateMatrix();return this};aJ.prototype.updateMatrix=function(){this.matrix.identity();for(var b=0;b<this.transforms.length;b++){this.matrix.multiply(this.matrix,this.transforms[b].matrix)}};aI.prototype.parse=function(b){this.sid=b.getAttribute("sid");this.type=b.nodeName;this.data=ai(b.textContent);this.updateMatrix();return this};aI.prototype.updateMatrix=function(){var b=0;this.matrix.identity();switch(this.type){case"matrix":this.matrix.set(this.data[0],this.data[1],this.data[2],this.data[3],this.data[4],this.data[5],this.data[6],this.data[7],this.data[8],this.data[9],this.data[10],this.data[11],this.data[12],this.data[13],this.data[14],this.data[15]);break;case"translate":this.matrix.setTranslation(this.data[0],this.data[1],this.data[2]);break;case"rotate":b=this.data[3]*(Math.PI/180);this.matrix.setRotationAxis(new THREE.Vector3(this.data[0],this.data[1],this.data[2]),b);break;case"scale":this.matrix.setScale(this.data[0],this.data[1],this.data[2])}return this.matrix};aL.prototype.parse=function(f){this.url=f.getAttribute("url").replace(/^#/,"");this.skeleton=[];this.instance_material=[];for(var e=0;e<f.childNodes.length;e++){var h=f.childNodes[e];if(h.nodeType==1){switch(h.nodeName){case"skeleton":this.skeleton.push(h.textContent.replace(/^#/,""));break;case"bind_material":if(h=aO.evaluate(".//dae:instance_material",h,ah,XPathResult.ORDERED_NODE_ITERATOR_TYPE,null)){for(var g=h.iterateNext();g;){this.instance_material.push((new aG).parse(g)),g=h.iterateNext()}}}}}return this};aG.prototype.parse=function(b){this.symbol=b.getAttribute("symbol");this.target=b.getAttribute("target").replace(/^#/,"");return this};aK.prototype.parse=function(e){this.url=e.getAttribute("url").replace(/^#/,"");this.instance_material=[];for(var d=0;d<e.childNodes.length;d++){var f=e.childNodes[d];if(f.nodeType==1&&f.nodeName=="bind_material"){if(e=aO.evaluate(".//dae:instance_material",f,ah,XPathResult.ORDERED_NODE_ITERATOR_TYPE,null)){for(d=e.iterateNext();d;){this.instance_material.push((new aG).parse(d)),d=e.iterateNext()}}break}}return this};aH.prototype.parse=function(e){this.id=e.getAttribute("id");for(var d=0;d<e.childNodes.length;d++){var f=e.childNodes[d];switch(f.nodeName){case"mesh":this.mesh=(new aC(this)).parse(f)}}return this};aC.prototype.parse=function(h){function g(b,f){var e=D(b.position);k[e]===void 0&&(k[e]={v:b,index:f});return k[e]}this.primitives=[];var m;for(m=0;m<h.childNodes.length;m++){var l=h.childNodes[m];switch(l.nodeName){case"source":an(l);break;case"vertices":this.vertices=(new aj).parse(l);break;case"triangles":this.primitives.push((new aA).parse(l));break;case"polygons":console.warn("polygon holes not yet supported!");case"polylist":this.primitives.push((new aw).parse(l))}}var k={};this.geometry3js=new THREE.Geometry;l=ap[this.vertices.input.POSITION.source].data;for(h=m=0;m<l.length;m+=3,h++){var j=new THREE.Vertex(new THREE.Vector3(l[m],l[m+1],l[m+2]));g(j,h);this.geometry3js.vertices.push(j)}for(m=0;m<this.primitives.length;m++){h=this.primitives[m],h.setVertices(this.vertices),this.handlePrimitive(h,this.geometry3js,k)}this.geometry3js.computeCentroids();this.geometry3js.computeFaceNormals();this.geometry3js.computeVertexNormals();this.geometry3js.computeBoundingBox();return this};aC.prototype.handlePrimitive=function(U,S,R){var P=0,O,M,K=U.p,J=U.inputs,I,H,G,F,E=0,B=3,A=[];for(O=0;O<J.length;O++){switch(I=J[O],I.semantic){case"TEXCOORD":A.push(I.set)}}for(;P<K.length;){var y=[],x=[],w={},u=[];U.vcount&&(B=U.vcount[E++]);for(O=0;O<B;O++){for(M=0;M<J.length;M++){switch(I=J[M],F=ap[I.source],H=K[P+O*J.length+I.offset],G=F.accessor.params.length,G*=H,I.semantic){case"VERTEX":I=D(S.vertices[H].position);y.push(R[I].index);break;case"NORMAL":x.push(new THREE.Vector3(F.data[G],F.data[G+1],F.data[G+2]));break;case"TEXCOORD":w[I.set]===void 0&&(w[I.set]=[]);w[I.set].push(new THREE.UV(F.data[G],F.data[G+1]));break;case"COLOR":u.push((new THREE.Color).setRGB(F.data[G],F.data[G+1],F.data[G+2]))}}}var v;B==3?v=new THREE.Face3(y[0],y[1],y[2],[x[0],x[1],x[2]],u.length?u:new THREE.Color):B==4&&(v=new THREE.Face4(y[0],y[1],y[2],y[3],[x[0],x[1],x[2],x[3]],u.length?u:new THREE.Color));v.daeMaterial=U.material;S.faces.push(v);for(M=0;M<A.length;M++){O=w[A[M]],S.faceVertexUvs[M].push([O[0],O[1],O[2]])}P+=J.length*B}};aw.prototype=new aA;aw.prototype.constructor=aw;aA.prototype.setVertices=function(d){for(var c=0;c<this.inputs.length;c++){if(this.inputs[c].source==d.id){this.inputs[c].source=d.input.POSITION.source}}};aA.prototype.parse=function(e){this.inputs=[];this.material=e.getAttribute("material");this.count=T(e,"count",0);for(var d=0;d<e.childNodes.length;d++){var f=e.childNodes[d];switch(f.nodeName){case"input":this.inputs.push((new am).parse(e.childNodes[d]));break;case"vcount":this.vcount=ag(f.textContent);break;case"p":this.p=ag(f.textContent)}}return this};al.prototype.parse=function(f){this.params=[];this.source=f.getAttribute("source");this.count=T(f,"count",0);this.stride=T(f,"stride",0);for(var e=0;e<f.childNodes.length;e++){var h=f.childNodes[e];if(h.nodeName=="param"){var g={};g.name=h.getAttribute("name");g.type=h.getAttribute("type");this.params.push(g)}}return this};aj.prototype.parse=function(e){this.id=e.getAttribute("id");for(var d=0;d<e.childNodes.length;d++){if(e.childNodes[d].nodeName=="input"){var f=(new am).parse(e.childNodes[d]);this.input[f.semantic]=f}}return this};am.prototype.parse=function(b){this.semantic=b.getAttribute("semantic");this.source=b.getAttribute("source").replace(/^#/,"");this.set=T(b,"set",-1);this.offset=T(b,"offset",0);if(this.semantic=="TEXCOORD"&&this.set<0){this.set=0}return this};av.prototype.parse=function(h){this.id=h.getAttribute("id");for(var g=0;g<h.childNodes.length;g++){var m=h.childNodes[g];switch(m.nodeName){case"bool_array":for(var l=ad(m.textContent),k=[],j=0;j<l.length;j++){k.push(l[j]=="true"||l[j]=="1"?!0:!1)}this.data=k;this.type=m.nodeName;break;case"float_array":this.data=ai(m.textContent);this.type=m.nodeName;break;case"int_array":this.data=ag(m.textContent);this.type=m.nodeName;break;case"IDREF_array":case"Name_array":this.data=ad(m.textContent);this.type=m.nodeName;break;case"technique_common":for(l=0;l<m.childNodes.length;l++){if(m.childNodes[l].nodeName=="accessor"){this.accessor=(new al).parse(m.childNodes[l]);break}}}}return this};av.prototype.read=function(){var f=[],e=this.accessor.params[0];switch(e.type){case"IDREF":case"Name":case"name":case"float":return this.data;case"float4x4":for(e=0;e<this.data.length;e+=16){var h=this.data.slice(e,e+16),g=new THREE.Matrix4;g.set(h[0],h[1],h[2],h[3],h[4],h[5],h[6],h[7],h[8],h[9],h[10],h[11],h[12],h[13],h[14],h[15]);f.push(g)}break;default:console.log("ColladaLoader: Source: Read dont know how to read "+e.type+".")}return f};au.prototype.parse=function(d){this.id=d.getAttribute("id");this.name=d.getAttribute("name");for(var c=0;c<d.childNodes.length;c++){if(d.childNodes[c].nodeName=="instance_effect"){this.instance_effect=(new Q).parse(d.childNodes[c]);break}}return this};ay.prototype.isColor=function(){return this.texture==null};ay.prototype.isTexture=function(){return this.texture!=null};ay.prototype.parse=function(e){for(var d=0;d<e.childNodes.length;d++){var f=e.childNodes[d];if(f.nodeType==1){switch(f.nodeName){case"color":f=ai(f.textContent);this.color=new THREE.Color(0);this.color.setRGB(f[0],f[1],f[2]);this.color.a=f[3];break;case"texture":this.texture=f.getAttribute("texture"),this.texcoord=f.getAttribute("texcoord")}}}return this};af.prototype.parse=function(h){for(var g=0;g<h.childNodes.length;g++){var m=h.childNodes[g];if(m.nodeType==1){switch(m.nodeName){case"ambient":case"emission":case"diffuse":case"specular":case"transparent":this[m.nodeName]=(new ay).parse(m);break;case"shininess":case"reflectivity":case"transparency":var l;l=aO.evaluate(".//dae:float",m,ah,XPathResult.ORDERED_NODE_ITERATOR_TYPE,null);for(var k=l.iterateNext(),j=[];k;){j.push(k),k=l.iterateNext()}l=j;l.length>0&&(this[m.nodeName]=parseFloat(l[0].textContent))}}}this.create();return this};af.prototype.create=function(){var f={},e=this.transparency!==void 0&&this.transparency<1,h;for(h in this){switch(h){case"ambient":case"emission":case"diffuse":case"specular":var g=this[h];if(g instanceof ay){if(g.isTexture()){if(this.effect.sampler&&this.effect.surface&&this.effect.sampler.source==this.effect.surface.sid&&(g=at[this.effect.surface.init_from])){f.map=THREE.ImageUtils.loadTexture(aD+g.init_from),f.map.wrapS=THREE.RepeatWrapping,f.map.wrapT=THREE.RepeatWrapping,f.map.repeat.x=1,f.map.repeat.y=-1}}else{h=="diffuse"?f.color=g.color.getHex():e||(f[h]=g.color.getHex())}}break;case"shininess":case"reflectivity":f[h]=this[h];break;case"transparency":if(e){f.transparent=!0,f.opacity=this[h],e=!0}}}f.shading=ar;return this.material=new THREE.MeshLambertMaterial(f)};aE.prototype.parse=function(e){for(var d=0;d<e.childNodes.length;d++){var f=e.childNodes[d];if(f.nodeType==1){switch(f.nodeName){case"init_from":this.init_from=f.textContent;break;case"format":this.format=f.textContent;break;default:console.log("unhandled Surface prop: "+f.nodeName)}}}return this};ak.prototype.parse=function(e){for(var d=0;d<e.childNodes.length;d++){var f=e.childNodes[d];if(f.nodeType==1){switch(f.nodeName){case"source":this.source=f.textContent;break;case"minfilter":this.minfilter=f.textContent;break;case"magfilter":this.magfilter=f.textContent;break;case"mipfilter":this.mipfilter=f.textContent;break;case"wrap_s":this.wrap_s=f.textContent;break;case"wrap_t":this.wrap_t=f.textContent;break;default:console.log("unhandled Sampler2D prop: "+f.nodeName)}}}return this};Y.prototype.create=function(){if(this.shader==null){return null}};Y.prototype.parse=function(e){this.id=e.getAttribute("id");this.name=e.getAttribute("name");this.shader=null;for(var d=0;d<e.childNodes.length;d++){var f=e.childNodes[d];if(f.nodeType==1){switch(f.nodeName){case"profile_COMMON":this.parseTechnique(this.parseProfileCOMMON(f))}}}return this};Y.prototype.parseNewparam=function(f){for(var e=f.getAttribute("sid"),h=0;h<f.childNodes.length;h++){var g=f.childNodes[h];if(g.nodeType==1){switch(g.nodeName){case"surface":this.surface=(new aE(this)).parse(g);this.surface.sid=e;break;case"sampler2D":this.sampler=(new ak(this)).parse(g);this.sampler.sid=e;break;case"extra":break;default:console.log(g.nodeName)}}}};Y.prototype.parseProfileCOMMON=function(f){for(var e,h=0;h<f.childNodes.length;h++){var g=f.childNodes[h];if(g.nodeType==1){switch(g.nodeName){case"profile_COMMON":this.parseProfileCOMMON(g);break;case"technique":e=g;break;case"newparam":this.parseNewparam(g);break;case"extra":break;default:console.log(g.nodeName)}}}return e};Y.prototype.parseTechnique=function(e){for(var d=0;d<e.childNodes.length;d++){var f=e.childNodes[d];if(f.nodeType==1){switch(f.nodeName){case"lambert":case"blinn":case"phong":this.shader=(new af(f.nodeName,this)).parse(f)}}}};Q.prototype.parse=function(b){this.url=b.getAttribute("url").replace(/^#/,"");return this};ae.prototype.parse=function(e){this.id=e.getAttribute("id");this.name=e.getAttribute("name");this.source={};for(var d=0;d<e.childNodes.length;d++){var f=e.childNodes[d];if(f.nodeType==1){switch(f.nodeName){case"source":f=(new av).parse(f);this.source[f.id]=f;break;case"sampler":this.sampler.push((new ac(this)).parse(f));break;case"channel":this.channel.push((new Z(this)).parse(f))}}}return this};Z.prototype.parse=function(h){this.source=h.getAttribute("source").replace(/^#/,"");this.target=h.getAttribute("target");var g=this.target.split("/");g.shift();var h=g.shift(),m=h.indexOf(".")>=0,l=h.indexOf("(")>=0,k,j;if(m){g=h.split("."),h=g.shift(),j=g.shift()}else{if(l){k=h.split("(");h=k.shift();for(g=0;g<k.length;g++){k[g]=parseInt(k[g].replace(/\)/,""))}}}this.sid=h;this.dotSyntax=m;this.arrSyntax=l;this.arrIndices=k;this.member=j;return this};ac.prototype.parse=function(e){this.id=e.getAttribute("id");this.inputs=[];for(var d=0;d<e.childNodes.length;d++){var f=e.childNodes[d];if(f.nodeType==1){switch(f.nodeName){case"input":this.inputs.push((new am).parse(f))}}}return this};ac.prototype.create=function(){for(var e=0;e<this.inputs.length;e++){var d=this.inputs[e],f=this.animation.source[d.source];switch(d.semantic){case"INPUT":this.input=f.read();break;case"OUTPUT":this.output=f.read();break;case"INTERPOLATION":this.interpolation=f.read();break;case"IN_TANGENT":break;case"OUT_TANGENT":break;default:console.log(d.semantic)}}this.duration=this.endTime=this.startTime=0;if(this.input.length){this.startTime=100000000;this.endTime=-100000000;for(e=0;e<this.input.length;e++){this.startTime=Math.min(this.startTime,this.input[e]),this.endTime=Math.max(this.endTime,this.input[e])}this.duration=this.endTime-this.startTime}};return{load:function(a,f){if(document.implementation&&document.implementation.createDocument){document.implementation.createDocument("http://www.collada.org/2005/11/COLLADASchema","COLLADA",null);a+="?rnd="+Math.random();var e=new XMLHttpRequest;e.overrideMimeType&&e.overrideMimeType("text/xml");e.onreadystatechange=function(){if(e.readyState==4&&(e.status==0||e.status==200)){ao=f,aX(e.responseXML,void 0,a)}};e.open("GET",a,!0);e.send(null)}else{alert("Don't know how to parse XML!")}},parse:aX,setPreferredShading:function(b){ar=b},applySkin:aR,geometries:N}};THREE.JSONLoader=function(b){THREE.Loader.call(this,b)};THREE.JSONLoader.prototype=new THREE.Loader;THREE.JSONLoader.prototype.constructor=THREE.JSONLoader;THREE.JSONLoader.prototype.supr=THREE.Loader.prototype;THREE.JSONLoader.prototype.load=function(e,f,d){if(e instanceof Object){console.warn("DEPRECATED: JSONLoader( parameters ) is now JSONLoader( url, callback, texturePath )."),d=e,e=d.model,f=d.callback,d=d.texture_path}d=d?d:this.extractUrlbase(e);this.onLoadStart();this.loadAjaxJSON(this,e,f,d)};THREE.JSONLoader.prototype.loadAjaxJSON=function(j,o,h,n,k){var l=new XMLHttpRequest,m=0;l.onreadystatechange=function(){if(l.readyState==4){if(l.status==200||l.status==0){try{var b=JSON.parse(l.responseText);j.createModel(b,h,n);j.onLoadComplete()}catch(a){console.error(a),console.warn("DEPRECATED: ["+o+"] seems to be using old model format")}}else{console.error("Couldn't load ["+o+"] ["+l.status+"]")}}else{l.readyState==3?k&&(m==0&&(m=l.getResponseHeader("Content-Length")),k({total:m,loaded:l.responseText.length})):l.readyState==2&&(m=l.getResponseHeader("Content-Length"))}};l.open("GET",o,!0);l.overrideMimeType("text/plain; charset=x-user-defined");l.setRequestHeader("Content-Type","text/plain");l.send(null)};THREE.JSONLoader.prototype.createModel=function(f,k,e){var j=new THREE.Geometry,h=f.scale!==void 0?1/f.scale:1;this.initMaterials(j,f.materials,e);(function(P){if(f.metadata===void 0||f.metadata.formatVersion===void 0||f.metadata.formatVersion!==3){console.error("Deprecated file format.")}else{var O,N,M,K,L,H,G,J,z,I,D,y,d,v,C=f.faces;H=f.vertices;var s=f.normals,E=f.colors,a=0;for(O=0;O<f.uvs.length;O++){f.uvs[O].length&&a++}for(O=0;O<a;O++){j.faceUvs[O]=[],j.faceVertexUvs[O]=[]}K=0;for(L=H.length;K<L;){G=new THREE.Vertex,G.position.x=H[K++]*P,G.position.y=H[K++]*P,G.position.z=H[K++]*P,j.vertices.push(G)}K=0;for(L=C.length;K<L;){P=C[K++];H=P&1;M=P&2;O=P&4;N=P&8;J=P&16;G=P&32;I=P&64;P&=128;H?(D=new THREE.Face4,D.a=C[K++],D.b=C[K++],D.c=C[K++],D.d=C[K++],H=4):(D=new THREE.Face3,D.a=C[K++],D.b=C[K++],D.c=C[K++],H=3);if(M){M=C[K++],D.materialIndex=M}M=j.faces.length;if(O){for(O=0;O<a;O++){y=f.uvs[O],z=C[K++],v=y[z*2],z=y[z*2+1],j.faceUvs[O][M]=new THREE.UV(v,z)}}if(N){for(O=0;O<a;O++){y=f.uvs[O];d=[];for(N=0;N<H;N++){z=C[K++],v=y[z*2],z=y[z*2+1],d[N]=new THREE.UV(v,z)}j.faceVertexUvs[O][M]=d}}if(J){J=C[K++]*3,N=new THREE.Vector3,N.x=s[J++],N.y=s[J++],N.z=s[J],D.normal=N}if(G){for(O=0;O<H;O++){J=C[K++]*3,N=new THREE.Vector3,N.x=s[J++],N.y=s[J++],N.z=s[J],D.vertexNormals.push(N)}}if(I){G=C[K++],G=new THREE.Color(E[G]),D.color=G}if(P){for(O=0;O<H;O++){G=C[K++],G=new THREE.Color(E[G]),D.vertexColors.push(G)}}j.faces.push(D)}}})(h);(function(){var a,m,l,d;if(f.skinWeights){a=0;for(m=f.skinWeights.length;a<m;a+=2){l=f.skinWeights[a],d=f.skinWeights[a+1],j.skinWeights.push(new THREE.Vector4(l,d,0,0))}}if(f.skinIndices){a=0;for(m=f.skinIndices.length;a<m;a+=2){l=f.skinIndices[a],d=f.skinIndices[a+1],j.skinIndices.push(new THREE.Vector4(l,d,0,0))}}j.bones=f.bones;j.animation=f.animation})();(function(x){if(f.morphTargets!==void 0){var w,v,u,s,t,n,d,q,a;w=0;for(v=f.morphTargets.length;w<v;w++){j.morphTargets[w]={};j.morphTargets[w].name=f.morphTargets[w].name;j.morphTargets[w].vertices=[];q=j.morphTargets[w].vertices;a=f.morphTargets[w].vertices;u=0;for(s=a.length;u<s;u+=3){t=a[u]*x,n=a[u+1]*x,d=a[u+2]*x,q.push(new THREE.Vertex(new THREE.Vector3(t,n,d)))}}}if(f.morphColors!==void 0){w=0;for(v=f.morphColors.length;w<v;w++){j.morphColors[w]={};j.morphColors[w].name=f.morphColors[w].name;j.morphColors[w].colors=[];s=j.morphColors[w].colors;t=f.morphColors[w].colors;x=0;for(u=t.length;x<u;x+=3){n=new THREE.Color(16755200),n.setRGB(t[x],t[x+1],t[x+2]),s.push(n)}}}})(h);j.computeCentroids();j.computeFaceNormals();this.hasNormals(j)&&j.computeTangents();k(j)};THREE.SceneLoader=function(){this.onLoadStart=function(){};this.onLoadProgress=function(){};this.onLoadComplete=function(){};this.callbackSync=function(){};this.callbackProgress=function(){}};THREE.SceneLoader.prototype.constructor=THREE.SceneLoader;THREE.SceneLoader.prototype.load=function(f,h){var e=this,g=new XMLHttpRequest;g.onreadystatechange=function(){if(g.readyState==4){if(g.status==200||g.status==0){try{var a=JSON.parse(g.responseText);a.metadata===void 0||a.metadata.formatVersion===void 0||a.metadata.formatVersion!==3?console.error("Deprecated file format."):e.createScene(a,h,f)}catch(b){console.error(b),console.warn("DEPRECATED: ["+f+"] seems to be using old model format")}}else{console.error("Couldn't load ["+f+"] ["+g.status+"]")}}};g.open("GET",f,!0);g.overrideMimeType("text/plain; charset=x-user-defined");g.setRequestHeader("Content-Type","text/plain");g.send(null)};THREE.SceneLoader.prototype.createScene=function(ax,av,aw){function au(d,c){return c=="relativeToHTML"?d:am+"/"+d}function aq(){var d;for(ai in z.objects){if(!Q.objects[ai]){if(ae=z.objects[ai],ae.geometry!==void 0){if(ac=Q.geometries[ae.geometry]){d=!1;for(N=0;N<ae.materials.length;N++){V=Q.materials[ae.materials[N]],d=V instanceof THREE.ShaderMaterial}d&&ac.computeTangents();W=ae.position;T=ae.rotation;X=ae.quaternion;aa=ae.scale;X=0;V.length==0&&(V=new THREE.MeshFaceMaterial);V.length>1&&(V=new THREE.MeshFaceMaterial);d=new THREE.Mesh(ac,V);d.name=ai;d.position.set(W[0],W[1],W[2]);X?(d.quaternion.set(X[0],X[1],X[2],X[3]),d.useQuaternion=!0):d.rotation.set(T[0],T[1],T[2]);d.scale.set(aa[0],aa[1],aa[2]);d.visible=ae.visible;Q.scene.add(d);Q.objects[ai]=d;if(ae.meshCollider){var c=THREE.CollisionUtils.MeshColliderWBox(d);Q.scene.collisions.colliders.push(c)}if(ae.castsShadow){c=new THREE.ShadowVolume(ac),Q.scene.add(c),c.position=d.position,c.rotation=d.rotation,c.scale=d.scale}ae.trigger&&ae.trigger.toLowerCase()!="none"&&(c={type:ae.trigger,object:ae},Q.triggers[d.name]=c)}}else{W=ae.position,T=ae.rotation,X=ae.quaternion,aa=ae.scale,X=0,d=new THREE.Object3D,d.name=ai,d.position.set(W[0],W[1],W[2]),X?(d.quaternion.set(X[0],X[1],X[2],X[3]),d.useQuaternion=!0):d.rotation.set(T[0],T[1],T[2]),d.scale.set(aa[0],aa[1],aa[2]),d.visible=ae.visible!==void 0?ae.visible:!1,Q.scene.add(d),Q.objects[ai]=d,Q.empties[ai]=d,ae.trigger&&ae.trigger.toLowerCase()!="none"&&(c={type:ae.trigger,object:ae},Q.triggers[d.name]=c)}}}}function ar(b){return function(a){Q.geometries[b]=a;aq();L-=1;ao.onLoadComplete();ap()}}function at(b){return function(a){Q.geometries[b]=a}}function ap(){ao.callbackProgress({totalModels:D,totalTextures:Y,loadedModels:D-L,loadedTextures:Y-C},Q);ao.onLoadProgress();L==0&&C==0&&av(Q)}var ao=this,am=THREE.Loader.prototype.extractUrlbase(aw),an,aj,ai,al,ag,ak,ah,ae,ab,ad,W,T,X,aa,Z,ac,M,af,V,z,j,L,C,D,Y,Q;z=ax;aw=new THREE.BinaryLoader;j=new THREE.JSONLoader;C=L=0;Q={scene:new THREE.Scene,geometries:{},materials:{},textures:{},objects:{},cameras:{},lights:{},fogs:{},triggers:{},empties:{}};ax=!1;for(ai in z.objects){if(ae=z.objects[ai],ae.meshCollider){ax=!0;break}}if(ax){Q.scene.collisions=new THREE.CollisionSystem}if(z.transform){ax=z.transform.position;ab=z.transform.rotation;var S=z.transform.scale;ax&&Q.scene.position.set(ax[0],ax[1],ax[2]);ab&&Q.scene.rotation.set(ab[0],ab[1],ab[2]);S&&Q.scene.scale.set(S[0],S[1],S[2]);(ax||ab||S)&&Q.scene.updateMatrix()}ax=function(){C-=1;ap();ao.onLoadComplete()};for(ag in z.cameras){ab=z.cameras[ag],ab.type=="perspective"?M=new THREE.PerspectiveCamera(ab.fov,ab.aspect,ab.near,ab.far):ab.type=="ortho"&&(M=new THREE.OrthographicCamera(ab.left,ab.right,ab.top,ab.bottom,ab.near,ab.far)),W=ab.position,ab=ab.target,M.position.set(W[0],W[1],W[2]),M.target=new THREE.Vector3(ab[0],ab[1],ab[2]),Q.cameras[ag]=M}for(al in z.lights){ab=z.lights[al],ag=ab.color!==void 0?ab.color:16777215,M=ab.intensity!==void 0?ab.intensity:1,ab.type=="directional"?(W=ab.direction,ad=new THREE.DirectionalLight(ag,M),ad.position.set(W[0],W[1],W[2]),ad.position.normalize()):ab.type=="point"?(W=ab.position,ad=ab.distance,ad=new THREE.PointLight(ag,M,ad),ad.position.set(W[0],W[1],W[2])):ab.type=="ambient"&&(ad=new THREE.AmbientLight(ag)),Q.scene.add(ad),Q.lights[al]=ad}for(ak in z.fogs){al=z.fogs[ak],al.type=="linear"?af=new THREE.Fog(0,al.near,al.far):al.type=="exp2"&&(af=new THREE.FogExp2(0,al.density)),ab=al.color,af.color.setRGB(ab[0],ab[1],ab[2]),Q.fogs[ak]=af}if(Q.cameras&&z.defaults.camera){Q.currentCamera=Q.cameras[z.defaults.camera]}if(Q.fogs&&z.defaults.fog){Q.scene.fog=Q.fogs[z.defaults.fog]}ab=z.defaults.bgcolor;Q.bgColor=new THREE.Color;Q.bgColor.setRGB(ab[0],ab[1],ab[2]);Q.bgColorAlpha=z.defaults.bgalpha;for(an in z.geometries){if(ak=z.geometries[an],ak.type=="bin_mesh"||ak.type=="ascii_mesh"){L+=1,ao.onLoadStart()}}D=L;for(an in z.geometries){ak=z.geometries[an],ak.type=="cube"?(ac=new THREE.CubeGeometry(ak.width,ak.height,ak.depth,ak.segmentsWidth,ak.segmentsHeight,ak.segmentsDepth,null,ak.flipped,ak.sides),Q.geometries[an]=ac):ak.type=="plane"?(ac=new THREE.PlaneGeometry(ak.width,ak.height,ak.segmentsWidth,ak.segmentsHeight),Q.geometries[an]=ac):ak.type=="sphere"?(ac=new THREE.SphereGeometry(ak.radius,ak.segmentsWidth,ak.segmentsHeight),Q.geometries[an]=ac):ak.type=="cylinder"?(ac=new THREE.CylinderGeometry(ak.topRad,ak.botRad,ak.height,ak.radSegs,ak.heightSegs),Q.geometries[an]=ac):ak.type=="torus"?(ac=new THREE.TorusGeometry(ak.radius,ak.tube,ak.segmentsR,ak.segmentsT),Q.geometries[an]=ac):ak.type=="icosahedron"?(ac=new THREE.IcosahedronGeometry(ak.subdivisions),Q.geometries[an]=ac):ak.type=="bin_mesh"?aw.load(au(ak.url,z.urlBaseType),ar(an)):ak.type=="ascii_mesh"?j.load(au(ak.url,z.urlBaseType),ar(an)):ak.type=="embedded_mesh"&&(ak=z.embeds[ak.id])&&j.createModel(ak,at(an),"")}for(ah in z.textures){if(an=z.textures[ah],an.url instanceof Array){C+=an.url.length;for(ak=0;ak<an.url.length;ak++){ao.onLoadStart()}}else{C+=1,ao.onLoadStart()}}Y=C;for(ah in z.textures){an=z.textures[ah];if(an.mapping!=void 0&&THREE[an.mapping]!=void 0){an.mapping=new THREE[an.mapping]}if(an.url instanceof Array){ak=[];for(var N=0;N<an.url.length;N++){ak[N]=au(an.url[N],z.urlBaseType)}ak=THREE.ImageUtils.loadTextureCube(ak,an.mapping,ax)}else{ak=THREE.ImageUtils.loadTexture(au(an.url,z.urlBaseType),an.mapping,ax);if(THREE[an.minFilter]!=void 0){ak.minFilter=THREE[an.minFilter]}if(THREE[an.magFilter]!=void 0){ak.magFilter=THREE[an.magFilter]}if(an.repeat){ak.repeat.set(an.repeat[0],an.repeat[1]);if(an.repeat[0]!=1){ak.wrapS=THREE.RepeatWrapping}if(an.repeat[1]!=1){ak.wrapT=THREE.RepeatWrapping}}an.offset&&ak.offset.set(an.offset[0],an.offset[1]);if(an.wrap){af={repeat:THREE.RepeatWrapping,mirror:THREE.MirroredRepeatWrapping};if(af[an.wrap[0]]!==void 0){ak.wrapS=af[an.wrap[0]]}if(af[an.wrap[1]]!==void 0){ak.wrapT=af[an.wrap[1]]}}}Q.textures[ah]=ak}for(aj in z.materials){ah=z.materials[aj];for(Z in ah.parameters){if(Z=="envMap"||Z=="map"||Z=="lightMap"){ah.parameters[Z]=Q.textures[ah.parameters[Z]]}else{if(Z=="shading"){ah.parameters[Z]=ah.parameters[Z]=="flat"?THREE.FlatShading:THREE.SmoothShading}else{if(Z=="blending"){ah.parameters[Z]=THREE[ah.parameters[Z]]?THREE[ah.parameters[Z]]:THREE.NormalBlending}else{if(Z=="combine"){ah.parameters[Z]=ah.parameters[Z]=="MixOperation"?THREE.MixOperation:THREE.MultiplyOperation}else{if(Z=="vertexColors"){if(ah.parameters[Z]=="face"){ah.parameters[Z]=THREE.FaceColors}else{if(ah.parameters[Z]){ah.parameters[Z]=THREE.VertexColors}}}}}}}}if(ah.parameters.opacity!==void 0&&ah.parameters.opacity<1){ah.parameters.transparent=!0}if(ah.parameters.normalMap){an=THREE.ShaderUtils.lib.normal;ax=THREE.UniformsUtils.clone(an.uniforms);ak=ah.parameters.color;af=ah.parameters.specular;aw=ah.parameters.ambient;j=ah.parameters.shininess;ax.tNormal.texture=Q.textures[ah.parameters.normalMap];if(ah.parameters.normalMapFactor){ax.uNormalScale.value=ah.parameters.normalMapFactor}if(ah.parameters.map){ax.tDiffuse.texture=ah.parameters.map,ax.enableDiffuse.value=!0}if(ah.parameters.lightMap){ax.tAO.texture=ah.parameters.lightMap,ax.enableAO.value=!0}if(ah.parameters.specularMap){ax.tSpecular.texture=Q.textures[ah.parameters.specularMap],ax.enableSpecular.value=!0}ax.uDiffuseColor.value.setHex(ak);ax.uSpecularColor.value.setHex(af);ax.uAmbientColor.value.setHex(aw);ax.uShininess.value=j;if(ah.parameters.opacity){ax.uOpacity.value=ah.parameters.opacity}ah=new THREE.ShaderMaterial({fragmentShader:an.fragmentShader,vertexShader:an.vertexShader,uniforms:ax,lights:!0,fog:!0})}else{ah=new THREE[ah.type](ah.parameters)}Q.materials[aj]=ah}aq();ao.callbackSync(Q);ap()};THREE.UTF8Loader=function(){};THREE.UTF8Loader.prototype=new THREE.UTF8Loader;THREE.UTF8Loader.prototype.constructor=THREE.UTF8Loader;THREE.UTF8Loader.prototype.load=function(k,q,j){if(k instanceof Object){console.warn("DEPRECATED: UTF8Loader( parameters ) is now UTF8Loader( url, callback, metaData )."),j=k,k=j.model,q=j.callback,j={scale:j.scale,offsetX:j.offsetX,offsetY:j.offsetY,offsetZ:j.offsetZ}}var p=new XMLHttpRequest,m=j.scale!==void 0?j.scale:1,n=j.offsetX!==void 0?j.offsetX:0,o=j.offsetY!==void 0?j.offsetY:0,l=j.offsetZ!==void 0?j.offsetZ:0;p.onreadystatechange=function(){p.readyState==4?p.status==200||p.status==0?THREE.UTF8Loader.prototype.createModel(p.responseText,q,m,n,o,l):alert("Couldn't load ["+k+"] ["+p.status+"]"):p.readyState!=3&&p.readyState==2&&p.getResponseHeader("Content-Length")};p.open("GET",k,!0);p.send(null)};THREE.UTF8Loader.prototype.decompressMesh=function(k){var q=k.charCodeAt(0);q>=57344&&(q-=2048);q++;for(var j=new Float32Array(8*q),p=1,m=0;m<8;m++){for(var n=0,o=0;o<q;++o){var l=k.charCodeAt(o+p);n+=l>>1^-(l&1);j[8*o+m]=n}p+=q}q=k.length-p;n=new Uint16Array(q);for(m=o=0;m<q;m++){l=k.charCodeAt(m+p),n[m]=o-l,l==0&&o++}return[j,n]};THREE.UTF8Loader.prototype.createModel=function(j,o,h,n,k,l){var m=function(){var f=this;f.materials=[];THREE.Geometry.call(this);var d=THREE.UTF8Loader.prototype.decompressMesh(j),a=[],b=[];(function(g,v,s){for(var p,c,u,r=g.length;s<r;s+=v){p=g[s],c=g[s+1],u=g[s+2],p=p/16383*h,c=c/16383*h,u=u/16383*h,p+=n,c+=k,u+=l,f.vertices.push(new THREE.Vertex(new THREE.Vector3(p,c,u)))}})(d[0],8,0);(function(p,g,t){for(var s,r,q=p.length;t<q;t+=g){s=p[t],r=p[t+1],s/=1023,r/=1023,b.push(s,1-r)}})(d[0],8,3);(function(q,p,v){for(var u,t,s,r=q.length;v<r;v+=p){u=q[v],t=q[v+1],s=q[v+2],u=(u-512)/511,t=(t-512)/511,s=(s-512)/511,a.push(u,t,s)}})(d[0],8,5);(function(Q){var P,O,N,M,L,K,r,C,H,z=Q.length;for(P=0;P<z;P+=3){O=Q[P];N=Q[P+1];M=Q[P+2];L=f;C=O;H=N;K=M;r=O;var I=N,q=M,p=L.materials[0],t=a[I*3],c=a[I*3+1],I=a[I*3+2],G=a[q*3],D=a[q*3+1],q=a[q*3+2];r=new THREE.Vector3(a[r*3],a[r*3+1],a[r*3+2]);I=new THREE.Vector3(t,c,I);q=new THREE.Vector3(G,D,q);L.faces.push(new THREE.Face3(C,H,K,[r,I,q],null,p));L=b[O*2];O=b[O*2+1];K=b[N*2];r=b[N*2+1];C=b[M*2];H=b[M*2+1];M=f.faceVertexUvs[0];N=K;K=r;r=[];r.push(new THREE.UV(L,O));r.push(new THREE.UV(N,K));r.push(new THREE.UV(C,H));M.push(r)}})(d[1]);this.computeCentroids();this.computeFaceNormals()};m.prototype=new THREE.Geometry;m.prototype.constructor=m;o(new m)};THREE.Axes=function(){THREE.Object3D.call(this);var e=new THREE.Geometry;e.vertices.push(new THREE.Vertex);e.vertices.push(new THREE.Vertex(new THREE.Vector3(0,100,0)));var f=new THREE.CylinderGeometry(0,5,25,5,1),d=new THREE.Line(e,new THREE.LineBasicMaterial({color:16711680}));d.rotation.z=-Math.PI/2;this.add(d);d=new THREE.Mesh(f,new THREE.MeshBasicMaterial({color:16711680}));d.position.x=100;d.rotation.z=-Math.PI/2;this.add(d);d=new THREE.Line(e,new THREE.LineBasicMaterial({color:65280}));this.add(d);d=new THREE.Mesh(f,new THREE.MeshBasicMaterial({color:65280}));d.position.y=100;this.add(d);d=new THREE.Line(e,new THREE.LineBasicMaterial({color:255}));d.rotation.x=Math.PI/2;this.add(d);d=new THREE.Mesh(f,new THREE.MeshBasicMaterial({color:255}));d.position.z=100;d.rotation.x=Math.PI/2;this.add(d)};THREE.Axes.prototype=new THREE.Object3D;THREE.Axes.prototype.constructor=THREE.Axes;THREE.MarchingCubes=function(b,d){THREE.Object3D.call(this);this.material=d;this.init=function(c){this.resolution=c;this.isolation=80;this.size=c;this.size2=this.size*this.size;this.size3=this.size2*this.size;this.halfsize=this.size/2;this.delta=2/this.size;this.yd=this.size;this.zd=this.size2;this.field=new Float32Array(this.size3);this.normal_cache=new Float32Array(this.size3*3);this.vlist=new Float32Array(36);this.nlist=new Float32Array(36);this.firstDraw=!0;this.maxCount=4096;this.count=0;this.hasNormal=this.hasPos=!1;this.positionArray=new Float32Array(this.maxCount*3);this.normalArray=new Float32Array(this.maxCount*3)};this.lerp=function(e,h,f){return e+(h-e)*f};this.VIntX=function(v,u,r,s,t,q,p,m,n,j){t=(t-n)/(j-n);n=this.normal_cache;u[s]=q+t*this.delta;u[s+1]=p;u[s+2]=m;r[s]=this.lerp(n[v],n[v+3],t);r[s+1]=this.lerp(n[v+1],n[v+4],t);r[s+2]=this.lerp(n[v+2],n[v+5],t)};this.VIntY=function(v,u,r,s,t,q,p,m,n,j){t=(t-n)/(j-n);n=this.normal_cache;u[s]=q;u[s+1]=p+t*this.delta;u[s+2]=m;u=v+this.yd*3;r[s]=this.lerp(n[v],n[u],t);r[s+1]=this.lerp(n[v+1],n[u+1],t);r[s+2]=this.lerp(n[v+2],n[u+2],t)};this.VIntZ=function(v,u,r,s,t,q,p,m,n,j){t=(t-n)/(j-n);n=this.normal_cache;u[s]=q;u[s+1]=p;u[s+2]=m+t*this.delta;u=v+this.zd*3;r[s]=this.lerp(n[v],n[u],t);r[s+1]=this.lerp(n[v+1],n[u+1],t);r[s+2]=this.lerp(n[v+2],n[u+2],t)};this.compNorm=function(e){var f=e*3;this.normal_cache[f]===0&&(this.normal_cache[f]=this.field[e-1]-this.field[e+1],this.normal_cache[f+1]=this.field[e-this.yd]-this.field[e+this.yd],this.normal_cache[f+2]=this.field[e-this.zd]-this.field[e+this.zd])};this.polygonize=function(ab,aa,X,Y,Z,W){var V=Y+1,T=Y+this.yd,U=Y+this.zd,Q=V+this.yd,P=V+this.zd,S=Y+this.yd+this.zd,L=V+this.yd+this.zd,R=0,N=this.field[Y],I=this.field[V],D=this.field[T],H=this.field[Q],M=this.field[U],G=this.field[P],O=this.field[S],C=this.field[L];N<Z&&(R|=1);I<Z&&(R|=2);D<Z&&(R|=8);H<Z&&(R|=4);M<Z&&(R|=16);G<Z&&(R|=32);O<Z&&(R|=128);C<Z&&(R|=64);var z=THREE.edgeTable[R];if(z===0){return 0}var E=this.delta,j=ab+E,K=aa+E,E=X+E;z&1&&(this.compNorm(Y),this.compNorm(V),this.VIntX(Y*3,this.vlist,this.nlist,0,Z,ab,aa,X,N,I));z&2&&(this.compNorm(V),this.compNorm(Q),this.VIntY(V*3,this.vlist,this.nlist,3,Z,j,aa,X,I,H));z&4&&(this.compNorm(T),this.compNorm(Q),this.VIntX(T*3,this.vlist,this.nlist,6,Z,ab,K,X,D,H));z&8&&(this.compNorm(Y),this.compNorm(T),this.VIntY(Y*3,this.vlist,this.nlist,9,Z,ab,aa,X,N,D));z&16&&(this.compNorm(U),this.compNorm(P),this.VIntX(U*3,this.vlist,this.nlist,12,Z,ab,aa,E,M,G));z&32&&(this.compNorm(P),this.compNorm(L),this.VIntY(P*3,this.vlist,this.nlist,15,Z,j,aa,E,G,C));z&64&&(this.compNorm(S),this.compNorm(L),this.VIntX(S*3,this.vlist,this.nlist,18,Z,ab,K,E,O,C));z&128&&(this.compNorm(U),this.compNorm(S),this.VIntY(U*3,this.vlist,this.nlist,21,Z,ab,aa,E,M,O));z&256&&(this.compNorm(Y),this.compNorm(U),this.VIntZ(Y*3,this.vlist,this.nlist,24,Z,ab,aa,X,N,M));z&512&&(this.compNorm(V),this.compNorm(P),this.VIntZ(V*3,this.vlist,this.nlist,27,Z,j,aa,X,I,G));z&1024&&(this.compNorm(Q),this.compNorm(L),this.VIntZ(Q*3,this.vlist,this.nlist,30,Z,j,K,X,H,C));z&2048&&(this.compNorm(T),this.compNorm(S),this.VIntZ(T*3,this.vlist,this.nlist,33,Z,ab,K,X,D,O));R<<=4;for(Z=Y=0;THREE.triTable[R+Z]!=-1;){ab=R+Z,aa=ab+1,X=ab+2,this.posnormtriv(this.vlist,this.nlist,3*THREE.triTable[ab],3*THREE.triTable[aa],3*THREE.triTable[X],W),Z+=3,Y++}return Y};this.posnormtriv=function(j,p,m,n,o,l){var k=this.count*3;this.positionArray[k]=j[m];this.positionArray[k+1]=j[m+1];this.positionArray[k+2]=j[m+2];this.positionArray[k+3]=j[n];this.positionArray[k+4]=j[n+1];this.positionArray[k+5]=j[n+2];this.positionArray[k+6]=j[o];this.positionArray[k+7]=j[o+1];this.positionArray[k+8]=j[o+2];this.normalArray[k]=p[m];this.normalArray[k+1]=p[m+1];this.normalArray[k+2]=p[m+2];this.normalArray[k+3]=p[n];this.normalArray[k+4]=p[n+1];this.normalArray[k+5]=p[n+2];this.normalArray[k+6]=p[o];this.normalArray[k+7]=p[o+1];this.normalArray[k+8]=p[o+2];this.hasNormal=this.hasPos=!0;this.count+=3;this.count>=this.maxCount-3&&l(this)};this.begin=function(){this.count=0;this.hasNormal=this.hasPos=!1};this.end=function(e){if(this.count!==0){for(var f=this.count*3;f<this.positionArray.length;f++){this.positionArray[f]=0}e(this)}};this.addBall=function(L,K,H,I,J){var G=this.size*Math.sqrt(I/J),F=H*this.size,D=K*this.size,E=L*this.size,A=Math.floor(F-G);A<1&&(A=1);F=Math.floor(F+G);F>this.size-1&&(F=this.size-1);var z=Math.floor(D-G);z<1&&(z=1);D=Math.floor(D+G);D>this.size-1&&(D=this.size-1);var C=Math.floor(E-G);C<1&&(C=1);G=Math.floor(E+G);G>this.size-1&&(G=this.size-1);for(var x,B,y,v,j,s;A<F;A++){E=this.size2*A;B=A/this.size-H;j=B*B;for(B=z;B<D;B++){y=E+this.size*B;x=B/this.size-K;s=x*x;for(x=C;x<G;x++){v=x/this.size-L,v=I/(0.000001+v*v+s+j)-J,v>0&&(this.field[y+x]+=v)}}}};this.addPlaneX=function(z,y){var v,w,x,u,t,r=this.size,s=this.yd,n=this.zd,j=this.field,q=r*Math.sqrt(z/y);q>r&&(q=r);for(v=0;v<q;v++){if(w=v/r,w*=w,u=z/(0.0001+w)-y,u>0){for(w=0;w<r;w++){t=v+w*s;for(x=0;x<r;x++){j[n*x+t]+=u}}}}};this.addPlaneY=function(B,A){var x,y,z,w,v,t,u=this.size,q=this.yd,n=this.zd,s=this.field,j=u*Math.sqrt(B/A);j>u&&(j=u);for(y=0;y<j;y++){if(x=y/u,x*=x,w=B/(0.0001+x)-A,w>0){v=y*q;for(x=0;x<u;x++){t=v+x;for(z=0;z<u;z++){s[n*z+t]+=w}}}}};this.addPlaneZ=function(B,A){var x,y,z,w,v,t,u=this.size,q=this.yd,n=this.zd,s=this.field,j=u*Math.sqrt(B/A);j>u&&(j=u);for(z=0;z<j;z++){if(x=z/u,x*=x,w=B/(0.0001+x)-A,w>0){v=n*z;for(y=0;y<u;y++){t=v+y*q;for(x=0;x<u;x++){s[t+x]+=w}}}}};this.reset=function(){var c;for(c=0;c<this.size3;c++){this.normal_cache[c*3]=0,this.field[c]=0}};this.render=function(x){this.begin();var w,t,u,v,s,r,n,q,m,j=this.size-2;for(v=1;v<j;v++){m=this.size2*v;n=(v-this.halfsize)/this.halfsize;for(u=1;u<j;u++){q=m+this.size*u;r=(u-this.halfsize)/this.halfsize;for(t=1;t<j;t++){s=(t-this.halfsize)/this.halfsize,w=q+t,this.polygonize(s,r,n,w,this.isolation,x)}}}this.end(x)};this.generateGeometry=function(){var e=0,h=new THREE.Geometry,f=[];this.render(function(s){var t,r,q,j,n,c,a,g;for(t=0;t<s.count;t++){a=t*3,n=a+1,g=a+2,r=s.positionArray[a],q=s.positionArray[n],j=s.positionArray[g],c=new THREE.Vector3(r,q,j),r=s.normalArray[a],q=s.normalArray[n],j=s.normalArray[g],a=new THREE.Vector3(r,q,j),a.normalize(),n=new THREE.Vertex(c),h.vertices.push(n),f.push(a)}c=s.count/3;for(t=0;t<c;t++){a=(e+t)*3,n=a+1,g=a+2,r=f[a],q=f[n],j=f[g],a=new THREE.Face3(a,n,g,[r,q,j]),h.faces.push(a)}e+=c;s.count=0});return h};this.init(b)};THREE.MarchingCubes.prototype=new THREE.Object3D;THREE.MarchingCubes.prototype.constructor=THREE.MarchingCubes;THREE.edgeTable=new Int32Array([0,265,515,778,1030,1295,1541,1804,2060,2309,2575,2822,3082,3331,3593,3840,400,153,915,666,1430,1183,1941,1692,2460,2197,2975,2710,3482,3219,3993,3728,560,825,51,314,1590,1855,1077,1340,2620,2869,2111,2358,3642,3891,3129,3376,928,681,419,170,1958,1711,1445,1196,2988,2725,2479,2214,4010,3747,3497,3232,1120,1385,1635,1898,102,367,613,876,3180,3429,3695,3942,2154,2403,2665,2912,1520,1273,2035,1786,502,255,1013,764,3580,3317,4095,3830,2554,2291,3065,2800,1616,1881,1107,1370,598,863,85,348,3676,3925,3167,3414,2650,2899,2137,2384,1984,1737,1475,1226,966,719,453,204,4044,3781,3535,3270,3018,2755,2505,2240,2240,2505,2755,3018,3270,3535,3781,4044,204,453,719,966,1226,1475,1737,1984,2384,2137,2899,2650,3414,3167,3925,3676,348,85,863,598,1370,1107,1881,1616,2800,3065,2291,2554,3830,4095,3317,3580,764,1013,255,502,1786,2035,1273,1520,2912,2665,2403,2154,3942,3695,3429,3180,876,613,367,102,1898,1635,1385,1120,3232,3497,3747,4010,2214,2479,2725,2988,1196,1445,1711,1958,170,419,681,928,3376,3129,3891,3642,2358,2111,2869,2620,1340,1077,1855,1590,314,51,825,560,3728,3993,3219,3482,2710,2975,2197,2460,1692,1941,1183,1430,666,915,153,400,3840,3593,3331,3082,2822,2575,2309,2060,1804,1541,1295,1030,778,515,265,0]);THREE.triTable=new Int32Array([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,8,3,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,1,9,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,8,3,9,8,1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,2,10,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,8,3,1,2,10,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,9,2,10,0,2,9,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,2,8,3,2,10,8,10,9,8,-1,-1,-1,-1,-1,-1,-1,3,11,2,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,11,2,8,11,0,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,9,0,2,3,11,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,11,2,1,9,11,9,8,11,-1,-1,-1,-1,-1,-1,-1,3,10,1,11,10,3,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,10,1,0,8,10,8,11,10,-1,-1,-1,-1,-1,-1,-1,3,9,0,3,11,9,11,10,9,-1,-1,-1,-1,-1,-1,-1,9,8,10,10,8,11,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4,7,8,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4,3,0,7,3,4,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,1,9,8,4,7,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4,1,9,4,7,1,7,3,1,-1,-1,-1,-1,-1,-1,-1,1,2,10,8,4,7,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,3,4,7,3,0,4,1,2,10,-1,-1,-1,-1,-1,-1,-1,9,2,10,9,0,2,8,4,7,-1,-1,-1,-1,-1,-1,-1,2,10,9,2,9,7,2,7,3,7,9,4,-1,-1,-1,-1,8,4,7,3,11,2,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,11,4,7,11,2,4,2,0,4,-1,-1,-1,-1,-1,-1,-1,9,0,1,8,4,7,2,3,11,-1,-1,-1,-1,-1,-1,-1,4,7,11,9,4,11,9,11,2,9,2,1,-1,-1,-1,-1,3,10,1,3,11,10,7,8,4,-1,-1,-1,-1,-1,-1,-1,1,11,10,1,4,11,1,0,4,7,11,4,-1,-1,-1,-1,4,7,8,9,0,11,9,11,10,11,0,3,-1,-1,-1,-1,4,7,11,4,11,9,9,11,10,-1,-1,-1,-1,-1,-1,-1,9,5,4,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,9,5,4,0,8,3,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,5,4,1,5,0,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,8,5,4,8,3,5,3,1,5,-1,-1,-1,-1,-1,-1,-1,1,2,10,9,5,4,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,3,0,8,1,2,10,4,9,5,-1,-1,-1,-1,-1,-1,-1,5,2,10,5,4,2,4,0,2,-1,-1,-1,-1,-1,-1,-1,2,10,5,3,2,5,3,5,4,3,4,8,-1,-1,-1,-1,9,5,4,2,3,11,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,11,2,0,8,11,4,9,5,-1,-1,-1,-1,-1,-1,-1,0,5,4,0,1,5,2,3,11,-1,-1,-1,-1,-1,-1,-1,2,1,5,2,5,8,2,8,11,4,8,5,-1,-1,-1,-1,10,3,11,10,1,3,9,5,4,-1,-1,-1,-1,-1,-1,-1,4,9,5,0,8,1,8,10,1,8,11,10,-1,-1,-1,-1,5,4,0,5,0,11,5,11,10,11,0,3,-1,-1,-1,-1,5,4,8,5,8,10,10,8,11,-1,-1,-1,-1,-1,-1,-1,9,7,8,5,7,9,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,9,3,0,9,5,3,5,7,3,-1,-1,-1,-1,-1,-1,-1,0,7,8,0,1,7,1,5,7,-1,-1,-1,-1,-1,-1,-1,1,5,3,3,5,7,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,9,7,8,9,5,7,10,1,2,-1,-1,-1,-1,-1,-1,-1,10,1,2,9,5,0,5,3,0,5,7,3,-1,-1,-1,-1,8,0,2,8,2,5,8,5,7,10,5,2,-1,-1,-1,-1,2,10,5,2,5,3,3,5,7,-1,-1,-1,-1,-1,-1,-1,7,9,5,7,8,9,3,11,2,-1,-1,-1,-1,-1,-1,-1,9,5,7,9,7,2,9,2,0,2,7,11,-1,-1,-1,-1,2,3,11,0,1,8,1,7,8,1,5,7,-1,-1,-1,-1,11,2,1,11,1,7,7,1,5,-1,-1,-1,-1,-1,-1,-1,9,5,8,8,5,7,10,1,3,10,3,11,-1,-1,-1,-1,5,7,0,5,0,9,7,11,0,1,0,10,11,10,0,-1,11,10,0,11,0,3,10,5,0,8,0,7,5,7,0,-1,11,10,5,7,11,5,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,10,6,5,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,8,3,5,10,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,9,0,1,5,10,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,8,3,1,9,8,5,10,6,-1,-1,-1,-1,-1,-1,-1,1,6,5,2,6,1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,6,5,1,2,6,3,0,8,-1,-1,-1,-1,-1,-1,-1,9,6,5,9,0,6,0,2,6,-1,-1,-1,-1,-1,-1,-1,5,9,8,5,8,2,5,2,6,3,2,8,-1,-1,-1,-1,2,3,11,10,6,5,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,11,0,8,11,2,0,10,6,5,-1,-1,-1,-1,-1,-1,-1,0,1,9,2,3,11,5,10,6,-1,-1,-1,-1,-1,-1,-1,5,10,6,1,9,2,9,11,2,9,8,11,-1,-1,-1,-1,6,3,11,6,5,3,5,1,3,-1,-1,-1,-1,-1,-1,-1,0,8,11,0,11,5,0,5,1,5,11,6,-1,-1,-1,-1,3,11,6,0,3,6,0,6,5,0,5,9,-1,-1,-1,-1,6,5,9,6,9,11,11,9,8,-1,-1,-1,-1,-1,-1,-1,5,10,6,4,7,8,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4,3,0,4,7,3,6,5,10,-1,-1,-1,-1,-1,-1,-1,1,9,0,5,10,6,8,4,7,-1,-1,-1,-1,-1,-1,-1,10,6,5,1,9,7,1,7,3,7,9,4,-1,-1,-1,-1,6,1,2,6,5,1,4,7,8,-1,-1,-1,-1,-1,-1,-1,1,2,5,5,2,6,3,0,4,3,4,7,-1,-1,-1,-1,8,4,7,9,0,5,0,6,5,0,2,6,-1,-1,-1,-1,7,3,9,7,9,4,3,2,9,5,9,6,2,6,9,-1,3,11,2,7,8,4,10,6,5,-1,-1,-1,-1,-1,-1,-1,5,10,6,4,7,2,4,2,0,2,7,11,-1,-1,-1,-1,0,1,9,4,7,8,2,3,11,5,10,6,-1,-1,-1,-1,9,2,1,9,11,2,9,4,11,7,11,4,5,10,6,-1,8,4,7,3,11,5,3,5,1,5,11,6,-1,-1,-1,-1,5,1,11,5,11,6,1,0,11,7,11,4,0,4,11,-1,0,5,9,0,6,5,0,3,6,11,6,3,8,4,7,-1,6,5,9,6,9,11,4,7,9,7,11,9,-1,-1,-1,-1,10,4,9,6,4,10,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4,10,6,4,9,10,0,8,3,-1,-1,-1,-1,-1,-1,-1,10,0,1,10,6,0,6,4,0,-1,-1,-1,-1,-1,-1,-1,8,3,1,8,1,6,8,6,4,6,1,10,-1,-1,-1,-1,1,4,9,1,2,4,2,6,4,-1,-1,-1,-1,-1,-1,-1,3,0,8,1,2,9,2,4,9,2,6,4,-1,-1,-1,-1,0,2,4,4,2,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,8,3,2,8,2,4,4,2,6,-1,-1,-1,-1,-1,-1,-1,10,4,9,10,6,4,11,2,3,-1,-1,-1,-1,-1,-1,-1,0,8,2,2,8,11,4,9,10,4,10,6,-1,-1,-1,-1,3,11,2,0,1,6,0,6,4,6,1,10,-1,-1,-1,-1,6,4,1,6,1,10,4,8,1,2,1,11,8,11,1,-1,9,6,4,9,3,6,9,1,3,11,6,3,-1,-1,-1,-1,8,11,1,8,1,0,11,6,1,9,1,4,6,4,1,-1,3,11,6,3,6,0,0,6,4,-1,-1,-1,-1,-1,-1,-1,6,4,8,11,6,8,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,7,10,6,7,8,10,8,9,10,-1,-1,-1,-1,-1,-1,-1,0,7,3,0,10,7,0,9,10,6,7,10,-1,-1,-1,-1,10,6,7,1,10,7,1,7,8,1,8,0,-1,-1,-1,-1,10,6,7,10,7,1,1,7,3,-1,-1,-1,-1,-1,-1,-1,1,2,6,1,6,8,1,8,9,8,6,7,-1,-1,-1,-1,2,6,9,2,9,1,6,7,9,0,9,3,7,3,9,-1,7,8,0,7,0,6,6,0,2,-1,-1,-1,-1,-1,-1,-1,7,3,2,6,7,2,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,2,3,11,10,6,8,10,8,9,8,6,7,-1,-1,-1,-1,2,0,7,2,7,11,0,9,7,6,7,10,9,10,7,-1,1,8,0,1,7,8,1,10,7,6,7,10,2,3,11,-1,11,2,1,11,1,7,10,6,1,6,7,1,-1,-1,-1,-1,8,9,6,8,6,7,9,1,6,11,6,3,1,3,6,-1,0,9,1,11,6,7,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,7,8,0,7,0,6,3,11,0,11,6,0,-1,-1,-1,-1,7,11,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,7,6,11,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,3,0,8,11,7,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,1,9,11,7,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,8,1,9,8,3,1,11,7,6,-1,-1,-1,-1,-1,-1,-1,10,1,2,6,11,7,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,2,10,3,0,8,6,11,7,-1,-1,-1,-1,-1,-1,-1,2,9,0,2,10,9,6,11,7,-1,-1,-1,-1,-1,-1,-1,6,11,7,2,10,3,10,8,3,10,9,8,-1,-1,-1,-1,7,2,3,6,2,7,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,7,0,8,7,6,0,6,2,0,-1,-1,-1,-1,-1,-1,-1,2,7,6,2,3,7,0,1,9,-1,-1,-1,-1,-1,-1,-1,1,6,2,1,8,6,1,9,8,8,7,6,-1,-1,-1,-1,10,7,6,10,1,7,1,3,7,-1,-1,-1,-1,-1,-1,-1,10,7,6,1,7,10,1,8,7,1,0,8,-1,-1,-1,-1,0,3,7,0,7,10,0,10,9,6,10,7,-1,-1,-1,-1,7,6,10,7,10,8,8,10,9,-1,-1,-1,-1,-1,-1,-1,6,8,4,11,8,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,3,6,11,3,0,6,0,4,6,-1,-1,-1,-1,-1,-1,-1,8,6,11,8,4,6,9,0,1,-1,-1,-1,-1,-1,-1,-1,9,4,6,9,6,3,9,3,1,11,3,6,-1,-1,-1,-1,6,8,4,6,11,8,2,10,1,-1,-1,-1,-1,-1,-1,-1,1,2,10,3,0,11,0,6,11,0,4,6,-1,-1,-1,-1,4,11,8,4,6,11,0,2,9,2,10,9,-1,-1,-1,-1,10,9,3,10,3,2,9,4,3,11,3,6,4,6,3,-1,8,2,3,8,4,2,4,6,2,-1,-1,-1,-1,-1,-1,-1,0,4,2,4,6,2,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,9,0,2,3,4,2,4,6,4,3,8,-1,-1,-1,-1,1,9,4,1,4,2,2,4,6,-1,-1,-1,-1,-1,-1,-1,8,1,3,8,6,1,8,4,6,6,10,1,-1,-1,-1,-1,10,1,0,10,0,6,6,0,4,-1,-1,-1,-1,-1,-1,-1,4,6,3,4,3,8,6,10,3,0,3,9,10,9,3,-1,10,9,4,6,10,4,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4,9,5,7,6,11,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,8,3,4,9,5,11,7,6,-1,-1,-1,-1,-1,-1,-1,5,0,1,5,4,0,7,6,11,-1,-1,-1,-1,-1,-1,-1,11,7,6,8,3,4,3,5,4,3,1,5,-1,-1,-1,-1,9,5,4,10,1,2,7,6,11,-1,-1,-1,-1,-1,-1,-1,6,11,7,1,2,10,0,8,3,4,9,5,-1,-1,-1,-1,7,6,11,5,4,10,4,2,10,4,0,2,-1,-1,-1,-1,3,4,8,3,5,4,3,2,5,10,5,2,11,7,6,-1,7,2,3,7,6,2,5,4,9,-1,-1,-1,-1,-1,-1,-1,9,5,4,0,8,6,0,6,2,6,8,7,-1,-1,-1,-1,3,6,2,3,7,6,1,5,0,5,4,0,-1,-1,-1,-1,6,2,8,6,8,7,2,1,8,4,8,5,1,5,8,-1,9,5,4,10,1,6,1,7,6,1,3,7,-1,-1,-1,-1,1,6,10,1,7,6,1,0,7,8,7,0,9,5,4,-1,4,0,10,4,10,5,0,3,10,6,10,7,3,7,10,-1,7,6,10,7,10,8,5,4,10,4,8,10,-1,-1,-1,-1,6,9,5,6,11,9,11,8,9,-1,-1,-1,-1,-1,-1,-1,3,6,11,0,6,3,0,5,6,0,9,5,-1,-1,-1,-1,0,11,8,0,5,11,0,1,5,5,6,11,-1,-1,-1,-1,6,11,3,6,3,5,5,3,1,-1,-1,-1,-1,-1,-1,-1,1,2,10,9,5,11,9,11,8,11,5,6,-1,-1,-1,-1,0,11,3,0,6,11,0,9,6,5,6,9,1,2,10,-1,11,8,5,11,5,6,8,0,5,10,5,2,0,2,5,-1,6,11,3,6,3,5,2,10,3,10,5,3,-1,-1,-1,-1,5,8,9,5,2,8,5,6,2,3,8,2,-1,-1,-1,-1,9,5,6,9,6,0,0,6,2,-1,-1,-1,-1,-1,-1,-1,1,5,8,1,8,0,5,6,8,3,8,2,6,2,8,-1,1,5,6,2,1,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,3,6,1,6,10,3,8,6,5,6,9,8,9,6,-1,10,1,0,10,0,6,9,5,0,5,6,0,-1,-1,-1,-1,0,3,8,5,6,10,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,10,5,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,11,5,10,7,5,11,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,11,5,10,11,7,5,8,3,0,-1,-1,-1,-1,-1,-1,-1,5,11,7,5,10,11,1,9,0,-1,-1,-1,-1,-1,-1,-1,10,7,5,10,11,7,9,8,1,8,3,1,-1,-1,-1,-1,11,1,2,11,7,1,7,5,1,-1,-1,-1,-1,-1,-1,-1,0,8,3,1,2,7,1,7,5,7,2,11,-1,-1,-1,-1,9,7,5,9,2,7,9,0,2,2,11,7,-1,-1,-1,-1,7,5,2,7,2,11,5,9,2,3,2,8,9,8,2,-1,2,5,10,2,3,5,3,7,5,-1,-1,-1,-1,-1,-1,-1,8,2,0,8,5,2,8,7,5,10,2,5,-1,-1,-1,-1,9,0,1,5,10,3,5,3,7,3,10,2,-1,-1,-1,-1,9,8,2,9,2,1,8,7,2,10,2,5,7,5,2,-1,1,3,5,3,7,5,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,8,7,0,7,1,1,7,5,-1,-1,-1,-1,-1,-1,-1,9,0,3,9,3,5,5,3,7,-1,-1,-1,-1,-1,-1,-1,9,8,7,5,9,7,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,5,8,4,5,10,8,10,11,8,-1,-1,-1,-1,-1,-1,-1,5,0,4,5,11,0,5,10,11,11,3,0,-1,-1,-1,-1,0,1,9,8,4,10,8,10,11,10,4,5,-1,-1,-1,-1,10,11,4,10,4,5,11,3,4,9,4,1,3,1,4,-1,2,5,1,2,8,5,2,11,8,4,5,8,-1,-1,-1,-1,0,4,11,0,11,3,4,5,11,2,11,1,5,1,11,-1,0,2,5,0,5,9,2,11,5,4,5,8,11,8,5,-1,9,4,5,2,11,3,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,2,5,10,3,5,2,3,4,5,3,8,4,-1,-1,-1,-1,5,10,2,5,2,4,4,2,0,-1,-1,-1,-1,-1,-1,-1,3,10,2,3,5,10,3,8,5,4,5,8,0,1,9,-1,5,10,2,5,2,4,1,9,2,9,4,2,-1,-1,-1,-1,8,4,5,8,5,3,3,5,1,-1,-1,-1,-1,-1,-1,-1,0,4,5,1,0,5,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,8,4,5,8,5,3,9,0,5,0,3,5,-1,-1,-1,-1,9,4,5,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4,11,7,4,9,11,9,10,11,-1,-1,-1,-1,-1,-1,-1,0,8,3,4,9,7,9,11,7,9,10,11,-1,-1,-1,-1,1,10,11,1,11,4,1,4,0,7,4,11,-1,-1,-1,-1,3,1,4,3,4,8,1,10,4,7,4,11,10,11,4,-1,4,11,7,9,11,4,9,2,11,9,1,2,-1,-1,-1,-1,9,7,4,9,11,7,9,1,11,2,11,1,0,8,3,-1,11,7,4,11,4,2,2,4,0,-1,-1,-1,-1,-1,-1,-1,11,7,4,11,4,2,8,3,4,3,2,4,-1,-1,-1,-1,2,9,10,2,7,9,2,3,7,7,4,9,-1,-1,-1,-1,9,10,7,9,7,4,10,2,7,8,7,0,2,0,7,-1,3,7,10,3,10,2,7,4,10,1,10,0,4,0,10,-1,1,10,2,8,7,4,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4,9,1,4,1,7,7,1,3,-1,-1,-1,-1,-1,-1,-1,4,9,1,4,1,7,0,8,1,8,7,1,-1,-1,-1,-1,4,0,3,7,4,3,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4,8,7,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,9,10,8,10,11,8,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,3,0,9,3,9,11,11,9,10,-1,-1,-1,-1,-1,-1,-1,0,1,10,0,10,8,8,10,11,-1,-1,-1,-1,-1,-1,-1,3,1,10,11,3,10,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,2,11,1,11,9,9,11,8,-1,-1,-1,-1,-1,-1,-1,3,0,9,3,9,11,1,2,9,2,11,9,-1,-1,-1,-1,0,2,11,8,0,11,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,3,2,11,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,2,3,8,2,8,10,10,8,9,-1,-1,-1,-1,-1,-1,-1,9,10,2,0,9,2,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,2,3,8,2,8,10,0,1,8,1,10,8,-1,-1,-1,-1,1,10,2,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,3,8,9,1,8,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,9,1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,3,8,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1]);if(THREE.WebGLRenderer){THREE.AnaglyphWebGLRenderer=function(F){THREE.WebGLRenderer.call(this,F);this.autoUpdateScene=!1;var D=this,E=this.setSize,C=this.render,z=new THREE.PerspectiveCamera,A=new THREE.PerspectiveCamera,B=new THREE.Matrix4,y=new THREE.Matrix4,x,v,w,s;z.matrixAutoUpdate=A.matrixAutoUpdate=!1;var F={minFilter:THREE.LinearFilter,magFilter:THREE.NearestFilter,format:THREE.RGBAFormat},q=new THREE.WebGLRenderTarget(512,512,F),u=new THREE.WebGLRenderTarget(512,512,F),j=new THREE.PerspectiveCamera(53,1,1,10000);j.position.z=2;var F=new THREE.ShaderMaterial({uniforms:{mapLeft:{type:"t",value:0,texture:q},mapRight:{type:"t",value:1,texture:u}},vertexShader:"varying vec2 vUv;\nvoid main() {\nvUv = vec2( uv.x, 1.0 - uv.y );\ngl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D mapLeft;\nuniform sampler2D mapRight;\nvarying vec2 vUv;\nvoid main() {\nvec4 colorL, colorR;\nvec2 uv = vUv;\ncolorL = texture2D( mapLeft, uv );\ncolorR = texture2D( mapRight, uv );\ngl_FragColor = vec4( colorL.g * 0.7 + colorL.b * 0.3, colorR.g, colorR.b, colorL.a + colorR.a ) * 1.1;\n}"}),t=new THREE.Scene;t.add(new THREE.Mesh(new THREE.PlaneGeometry(2,2),F));t.add(j);this.setSize=function(b,c){E.call(D,b,c);q.width=b;q.height=c;u.width=b;u.height=c};this.render=function(f,d){f.updateMatrixWorld();if(x!==d.aspect||v!==d.near||w!==d.far||s!==d.fov){x=d.aspect;v=d.near;w=d.far;s=d.fov;var e=d.projectionMatrix.clone(),g=125/30*0.5,k=g*v/125,h=v*Math.tan(s*Math.PI/360),c;B.n14=g;y.n14=-g;g=-h*x+k;c=h*x+k;e.n11=2*v/(c-g);e.n13=(c+g)/(c-g);z.projectionMatrix.copy(e);g=-h*x-k;c=h*x-k;e.n11=2*v/(c-g);e.n13=(c+g)/(c-g);A.projectionMatrix.copy(e)}z.matrixWorld.copy(d.matrixWorld).multiplySelf(y);z.position.copy(d.position);z.near=d.near;z.far=d.far;C.call(D,f,z,q,!0);A.matrixWorld.copy(d.matrixWorld).multiplySelf(B);A.position.copy(d.position);A.near=d.near;A.far=d.far;C.call(D,f,A,u,!0);t.updateMatrixWorld();C.call(D,t,j)}}}if(THREE.WebGLRenderer){THREE.CrosseyedWebGLRenderer=function(k){THREE.WebGLRenderer.call(this,k);this.autoClear=!1;var q=this,j=this.setSize,p=this.render,m,n,o=new THREE.PerspectiveCamera;o.target=new THREE.Vector3(0,0,0);var l=new THREE.PerspectiveCamera;l.target=new THREE.Vector3(0,0,0);q.separation=10;if(k&&k.separation!==void 0){q.separation=k.separation}this.setSize=function(b,c){j.call(q,b,c);m=b/2;n=c};this.render=function(d,c){this.clear();o.fov=c.fov;o.aspect=0.5*c.aspect;o.near=c.near;o.far=c.far;o.updateProjectionMatrix();o.position.copy(c.position);o.target.copy(c.target);o.translateX(q.separation);o.lookAt(o.target);l.projectionMatrix=o.projectionMatrix;l.position.copy(c.position);l.target.copy(c.target);l.translateX(-q.separation);l.lookAt(l.target);this.setViewport(0,0,m,n);p.call(q,d,o);this.setViewport(m,0,m,n);p.call(q,d,l,!1)}}}poly2tri={};poly2tri.Point=function(){this.x=null;this.y=null;if(arguments.length==0){this.x=0;this.y=0}else{if(arguments.length==2){this.x=arguments[0];this.y=arguments[1]}else{alert("Invalid poly2tri.Point constructor call!")}}this.edge_list=[]};poly2tri.Point.prototype.set_zero=function(){this.x=0;this.y=0};poly2tri.Point.prototype.set=function(a,b){this.x=a;this.y=b};poly2tri.Point.prototype.negate=function(){this.x=-this.x;this.y=-this.y};poly2tri.Point.prototype.add=function(a){this.x+=a.x;this.y+=a.y};poly2tri.Point.prototype.sub=function(a){this.x-=a.x;this.y-=a.y};poly2tri.Point.prototype.mul=function(a){this.x*=a;this.y*=a};poly2tri.Point.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y)};poly2tri.Point.prototype.normalize=function(){var a=this.length();this.x/=a;this.y/=a;return a};poly2tri.Point.prototype.equals=function(a){return poly2tri.equals(this,a)};poly2tri.negate=function(a){return new poly2tri.Point(-a.x,-a.y)};poly2tri.cmp=function(d,c){if(d.y==c.y){return d.x-c.x}else{return d.y-c.y}};poly2tri.add=function(d,c){return new poly2tri.Point(d.x+c.x,d.y+c.y)};poly2tri.sub=function(d,c){return new poly2tri.Point(d.x-c.x,d.y-c.y)};poly2tri.mul=function(a,b){return new poly2tri.Point(a*b.x,a*b.y)};poly2tri.equals=function(d,c){return d.x==c.x&&d.y==c.y};poly2tri.dot=function(d,c){return d.x*c.x+d.y*c.y};poly2tri.cross=function(){var a=false;var b=false;if(arguments.length==2){if(typeof(arguments[0])=="number"){a=true}if(typeof(arguments[1]=="number")){b=true}if(a){if(b){return arguments[0].x*arguments[1].y-arguments[0].y*arguments[1].x}else{return new poly2tri.Point(arguments[1]*arguments[0].y,-arguments[1]*arguments[0].x)}}else{if(b){return new poly2tri.Point(-arguments[0]*arguments[1].y,arguments[0]*arguments[1].x)}else{return arguments[0]*arguments[1]}}}else{alert("Invalid poly2tri.cross call!");return undefined}};poly2tri.Edge=function(){this.p=null;this.q=null;if(arguments.length==2){if(arguments[0].y>arguments[1].y){this.q=arguments[0];this.p=arguments[1]}else{if(arguments[0].y==arguments[1].y){if(arguments[0].x>arguments[1].x){this.q=arguments[0];this.p=arguments[1]}else{if(arguments[0].x==arguments[1].x){alert("Invalid poly2tri.edge constructor call: repeated points!")}else{this.p=arguments[0];this.q=arguments[1]}}}else{this.p=arguments[0];this.q=arguments[1]}}}else{alert("Invalid poly2tri.Edge constructor call!")}this.q.edge_list.push(this)};poly2tri.Triangle=function(c,b,a){this.points_=[null,null,null];this.neighbors_=[null,null,null];this.interior_=false;this.constrained_edge=[false,false,false];this.delaunay_edge=[false,false,false];if(arguments.length==3){this.points_[0]=c;this.points_[1]=b;this.points_[2]=a}};poly2tri.Triangle.prototype.GetPoint=function(a){return this.points_[a]};poly2tri.Triangle.prototype.GetNeighbor=function(a){return this.neighbors_[a]};poly2tri.Triangle.prototype.ContainsP=function(){var a=true;for(var b=0;b<arguments.length;++b){a=a&&(arguments[b].equals(this.points_[0])||arguments[b].equals(this.points_[1])||arguments[b].equals(this.points_[2]))}return a};poly2tri.Triangle.prototype.ContainsE=function(){var a=true;for(var b=0;b<arguments.length;++b){a=a&&this.ContainsP(arguments[b].p,arguments[b].q)}return a};poly2tri.Triangle.prototype.IsInterior=function(){if(arguments.length==0){return this.interior_}else{this.interior_=arguments[0];return this.interior_}};poly2tri.Triangle.prototype.MarkNeighbor=function(){var a;if(arguments.length==3){var c=arguments[0];var b=arguments[1];a=arguments[2];if((c.equals(this.points_[2])&&b.equals(this.points_[1]))||(c.equals(this.points_[1])&&b.equals(this.points_[2]))){this.neighbors_[0]=a}else{if((c.equals(this.points_[0])&&b.equals(this.points_[2]))||(c.equals(this.points_[2])&&b.equals(this.points_[0]))){this.neighbors_[1]=a}else{if((c.equals(this.points_[0])&&b.equals(this.points_[1]))||(c.equals(this.points_[1])&&b.equals(this.points_[0]))){this.neighbors_[2]=a}else{alert("Invalid poly2tri.Triangle.MarkNeighbor call (1)!")}}}}else{if(arguments.length==1){a=arguments[0];if(a.ContainsP(this.points_[1],this.points_[2])){this.neighbors_[0]=a;a.MarkNeighbor(this.points_[1],this.points_[2],this)}else{if(a.ContainsP(this.points_[0],this.points_[2])){this.neighbors_[1]=a;a.MarkNeighbor(this.points_[0],this.points_[2],this)}else{if(a.ContainsP(this.points_[0],this.points_[1])){this.neighbors_[2]=a;a.MarkNeighbor(this.points_[0],this.points_[1],this)}}}}else{alert("Invalid poly2tri.Triangle.MarkNeighbor call! (2)")}}};poly2tri.Triangle.prototype.ClearNeigbors=function(){this.neighbors_[0]=null;this.neighbors_[1]=null;this.neighbors_[2]=null};poly2tri.Triangle.prototype.ClearDelunayEdges=function(){this.delaunay_edge[0]=false;this.delaunay_edge[1]=false;this.delaunay_edge[2]=false};poly2tri.Triangle.prototype.PointCW=function(a){if(a.equals(this.points_[0])){return this.points_[2]}else{if(a.equals(this.points_[1])){return this.points_[0]}else{if(a.equals(this.points_[2])){return this.points_[1]}else{return null}}}};poly2tri.Triangle.prototype.PointCCW=function(a){if(a.equals(this.points_[0])){return this.points_[1]}else{if(a.equals(this.points_[1])){return this.points_[2]}else{if(a.equals(this.points_[2])){return this.points_[0]}else{return null}}}};poly2tri.Triangle.prototype.NeighborCW=function(a){if(a.equals(this.points_[0])){return this.neighbors_[1]}else{if(a.equals(this.points_[1])){return this.neighbors_[2]}else{return this.neighbors_[0]}}};poly2tri.Triangle.prototype.NeighborCCW=function(a){if(a.equals(this.points_[0])){return this.neighbors_[2]}else{if(a.equals(this.points_[1])){return this.neighbors_[0]}else{return this.neighbors_[1]}}};poly2tri.Triangle.prototype.GetConstrainedEdgeCW=function(a){if(a.equals(this.points_[0])){return this.constrained_edge[1]}else{if(a.equals(this.points_[1])){return this.constrained_edge[2]}else{return this.constrained_edge[0]}}};poly2tri.Triangle.prototype.GetConstrainedEdgeCCW=function(a){if(a.equals(this.points_[0])){return this.constrained_edge[2]}else{if(a.equals(this.points_[1])){return this.constrained_edge[0]}else{return this.constrained_edge[1]}}};poly2tri.Triangle.prototype.SetConstrainedEdgeCW=function(b,a){if(b.equals(this.points_[0])){this.constrained_edge[1]=a}else{if(b.equals(this.points_[1])){this.constrained_edge[2]=a}else{this.constrained_edge[0]=a}}};poly2tri.Triangle.prototype.SetConstrainedEdgeCCW=function(b,a){if(b.equals(this.points_[0])){this.constrained_edge[2]=a}else{if(b.equals(this.points_[1])){this.constrained_edge[0]=a}else{this.constrained_edge[1]=a}}};poly2tri.Triangle.prototype.GetDelaunayEdgeCW=function(a){if(a.equals(this.points_[0])){return this.delaunay_edge[1]}else{if(a.equals(this.points_[1])){return this.delaunay_edge[2]}else{return this.delaunay_edge[0]}}};poly2tri.Triangle.prototype.GetDelaunayEdgeCCW=function(a){if(a.equals(this.points_[0])){return this.delaunay_edge[2]}else{if(a.equals(this.points_[1])){return this.delaunay_edge[0]}else{return this.delaunay_edge[1]}}};poly2tri.Triangle.prototype.SetDelaunayEdgeCW=function(b,a){if(b.equals(this.points_[0])){this.delaunay_edge[1]=a}else{if(b.equals(this.points_[1])){this.delaunay_edge[2]=a}else{this.delaunay_edge[0]=a}}};poly2tri.Triangle.prototype.SetDelaunayEdgeCCW=function(b,a){if(b.equals(this.points_[0])){this.delaunay_edge[2]=a}else{if(b.equals(this.points_[1])){this.delaunay_edge[0]=a}else{this.delaunay_edge[1]=a}}};poly2tri.Triangle.prototype.NeighborAcross=function(a){if(a.equals(this.points_[0])){return this.neighbors_[0]}else{if(a.equals(this.points_[1])){return this.neighbors_[1]}else{return this.neighbors_[2]}}};poly2tri.Triangle.prototype.OppositePoint=function(b,c){var a=b.PointCW(c);return this.PointCW(a)};poly2tri.Triangle.prototype.Legalize=function(){if(arguments.length==1){this.Legalize(this.points_[0],arguments[0])}else{if(arguments.length==2){var a=arguments[0];var b=arguments[1];if(a.equals(this.points_[0])){this.points_[1]=this.points_[0];this.points_[0]=this.points_[2];this.points_[2]=b}else{if(a.equals(this.points_[1])){this.points_[2]=this.points_[1];this.points_[1]=this.points_[0];this.points_[0]=b}else{if(a.equals(this.points_[2])){this.points_[0]=this.points_[2];this.points_[2]=this.points_[1];this.points_[1]=b}else{alert("Invalid poly2tri.Triangle.Legalize call!")}}}}else{alert("Invalid poly2tri.Triangle.Legalize call!")}}};poly2tri.Triangle.prototype.Index=function(a){if(a.equals(this.points_[0])){return 0}else{if(a.equals(this.points_[1])){return 1}else{if(a.equals(this.points_[2])){return 2}else{return -1}}}};poly2tri.Triangle.prototype.EdgeIndex=function(b,a){if(b.equals(this.points_[0])){if(a.equals(this.points_[1])){return 2}else{if(a.equals(this.points_[2])){return 1}}}else{if(b.equals(this.points_[1])){if(a.equals(this.points_[2])){return 0}else{if(a.equals(this.points_[0])){return 2}}}else{if(b.equals(this.points_[2])){if(a.equals(this.points_[0])){return 1}else{if(a.equals(this.points_[1])){return 0}}}}}return -1};poly2tri.Triangle.prototype.MarkConstrainedEdge=function(){if(arguments.length==1){if(typeof(arguments[0])=="number"){this.constrained_edge[arguments[0]]=true}else{this.MarkConstrainedEdge(arguments[0].p,arguments[0].q)}}else{if(arguments.length==2){var b=arguments[0];var a=arguments[1];if((a.equals(this.points_[0])&&b.equals(this.points_[1]))||(a.equals(this.points_[1])&&b.equals(this.points_[0]))){this.constrained_edge[2]=true}else{if((a.equals(this.points_[0])&&b.equals(this.points_[2]))||(a.equals(this.points_[2])&&b.equals(this.points_[0]))){this.constrained_edge[1]=true}else{if((a.equals(this.points_[1])&&b.equals(this.points_[2]))||(a.equals(this.points_[2])&&b.equals(this.points_[1]))){this.constrained_edge[0]=true}}}}else{alert("Invalid poly2tri.Triangle.MarkConstrainedEdge call!")}}};poly2tri.PI_3div4=3*Math.PI/4;poly2tri.PI_2=Math.PI/2;poly2tri.EPSILON=1e-12;poly2tri.kAlpha=0.3;poly2tri.Orientation={CW:1,CCW:-1,COLLINEAR:0};poly2tri.Orient2d=function(c,b,a){var e=(c.x-a.x)*(b.y-a.y);var d=(c.y-a.y)*(b.x-a.x);var f=e-d;if(f>-(poly2tri.EPSILON)&&f<(poly2tri.EPSILON)){return poly2tri.Orientation.COLLINEAR}else{if(f>0){return poly2tri.Orientation.CCW}else{return poly2tri.Orientation.CW}}};poly2tri.InScanArea=function(c,b,a,s){var m=s.x;var l=s.y;var f=c.x-m;var e=c.y-l;var q=b.x-m;var p=b.y-l;var d=f*p;var o=q*e;var k=d-o;if(k<=(poly2tri.EPSILON)){return false}var j=a.x-m;var h=a.y-l;var r=j*e;var n=f*h;var g=r-n;if(g<=(poly2tri.EPSILON)){return false}return true};poly2tri.Node=function(){this.point=null;this.triangle=null;this.next=null;this.prev=null;this.value=0;if(arguments.length==1){this.point=arguments[0];this.value=this.point.x}else{if(arguments.length==2){this.point=arguments[0];this.triangle=arguments[1];this.value=this.point.x}else{alert("Invalid poly2tri.Node constructor call!")}}};poly2tri.AdvancingFront=function(b,a){this.head_=b;this.tail_=a;this.search_node_=b};poly2tri.AdvancingFront.prototype.head=function(){return this.head_};poly2tri.AdvancingFront.prototype.set_head=function(a){this.head_=a};poly2tri.AdvancingFront.prototype.tail=function(){return this.tail_};poly2tri.AdvancingFront.prototype.set_tail=function(a){this.tail_=a};poly2tri.AdvancingFront.prototype.search=function(){return this.search_node_};poly2tri.AdvancingFront.prototype.set_search=function(a){this.search_node_=a};poly2tri.AdvancingFront.prototype.FindSearchNode=function(a){return this.search_node_};poly2tri.AdvancingFront.prototype.LocateNode=function(a){var b=this.search_node_;if(a<b.value){while((b=b.prev)!=null){if(a>=b.value){this.search_node_=b;return b}}}else{while((b=b.next)!=null){if(a<b.value){this.search_node_=b.prev;return b.prev}}}return null};poly2tri.AdvancingFront.prototype.LocatePoint=function(b){var c=b.x;var d=this.FindSearchNode(c);var a=d.point.x;if(c==a){if(d.prev&&b.equals(d.prev.point)){d=d.prev}else{if(d.next&&b.equals(d.next.point)){d=d.next}else{if(b.equals(d.point)){}else{alert("Invalid poly2tri.AdvancingFront.LocatePoint call!");return null}}}}else{if(c<a){while((d=d.prev)!=null){if(b.equals(d.point)){break}}}else{while((d=d.next)!=null){if(b.equals(d.point)){break}}}}if(d!=null){this.search_node_=d}return d};poly2tri.Basin=function(){this.left_node=null;this.bottom_node=null;this.right_node=null;this.width=0;this.left_highest=false};poly2tri.Basin.prototype.Clear=function(){this.left_node=null;this.bottom_node=null;this.right_node=null;this.width=0;this.left_highest=false};poly2tri.EdgeEvent=function(){this.constrained_edge=null;this.right=false};poly2tri.SweepContext=function(a){this.triangles_=[];this.map_=[];this.points_=a;this.edge_list=[];this.front_=null;this.head_=null;this.tail_=null;this.af_head_=null;this.af_middle_=null;this.af_tail_=null;this.basin=new poly2tri.Basin();this.edge_event=new poly2tri.EdgeEvent();this.InitEdges(this.points_)};poly2tri.SweepContext.prototype.AddHole=function(a){this.InitEdges(a);for(var b in a){this.points_.push(a[b])}};poly2tri.SweepContext.prototype.front=function(){return this.front_};poly2tri.SweepContext.prototype.point_count=function(){return this.points_.length};poly2tri.SweepContext.prototype.head=function(){return this.head_};poly2tri.SweepContext.prototype.set_head=function(a){this.head_=a};poly2tri.SweepContext.prototype.tail=function(){return this.tail_};poly2tri.SweepContext.prototype.set_tail=function(a){this.tail_=a};poly2tri.SweepContext.prototype.GetTriangles=function(){return this.triangles_};poly2tri.SweepContext.prototype.GetMap=function(){return this.map_};poly2tri.SweepContext.prototype.InitTriangulation=function(){var d=this.points_[0].x;var g=this.points_[0].x;var a=this.points_[0].y;var f=this.points_[0].y;for(var e in this.points_){var h=this.points_[e];if(h.x>d){d=h.x}if(h.x<g){g=h.x}if(h.y>a){a=h.y}if(h.y<f){f=h.y}}var c=poly2tri.kAlpha*(d-g);var b=poly2tri.kAlpha*(a-f);this.head_=new poly2tri.Point(d+c,f-b);this.tail_=new poly2tri.Point(g-b,f-b);this.points_.sort(poly2tri.cmp)};poly2tri.SweepContext.prototype.InitEdges=function(a){for(var b=0;b<a.length;++b){this.edge_list.push(new poly2tri.Edge(a[b],a[(b+1)%a.length]))}};poly2tri.SweepContext.prototype.GetPoint=function(a){return this.points_[a]};poly2tri.SweepContext.prototype.AddToMap=function(a){this.map_.push(a)};poly2tri.SweepContext.prototype.LocateNode=function(a){return this.front_.LocateNode(a.x)};poly2tri.SweepContext.prototype.CreateAdvancingFront=function(){var c;var b;var a;var d=new poly2tri.Triangle(this.points_[0],this.tail_,this.head_);this.map_.push(d);c=new poly2tri.Node(d.GetPoint(1),d);b=new poly2tri.Node(d.GetPoint(0),d);a=new poly2tri.Node(d.GetPoint(2));this.front_=new poly2tri.AdvancingFront(c,a);c.next=b;b.next=a;b.prev=c;a.prev=b};poly2tri.SweepContext.prototype.RemoveNode=function(a){};poly2tri.SweepContext.prototype.MapTriangleToNodes=function(b){for(var a=0;a<3;++a){if(b.GetNeighbor(a)==null){var c=this.front_.LocatePoint(b.PointCW(b.GetPoint(a)));if(c!=null){c.triangle=b}}}};poly2tri.SweepContext.prototype.RemoveFromMap=function(b){for(var a in this.map_){if(this.map_[a]==b){delete this.map_[a];break}}};poly2tri.SweepContext.prototype.MeshClean=function(b){if(b!=null&&!b.IsInterior()){b.IsInterior(true);this.triangles_.push(b);for(var a=0;a<3;++a){if(!b.constrained_edge[a]){this.MeshClean(b.GetNeighbor(a))}}}};poly2tri.sweep={};poly2tri.sweep.Triangulate=function(a){a.InitTriangulation();a.CreateAdvancingFront();poly2tri.sweep.SweepPoints(a);poly2tri.sweep.FinalizationPolygon(a)};poly2tri.sweep.SweepPoints=function(e){for(var c=1;c<e.point_count();++c){var a=e.GetPoint(c);var d=poly2tri.sweep.PointEvent(e,a);for(var b=0;b<a.edge_list.length;++b){poly2tri.sweep.EdgeEvent(e,a.edge_list[b],d)}}};poly2tri.sweep.FinalizationPolygon=function(c){var a=c.front().head().next.triangle;var b=c.front().head().next.point;while(!a.GetConstrainedEdgeCW(b)){a=a.NeighborCCW(b)}c.MeshClean(a)};poly2tri.sweep.PointEvent=function(c,a){var b=c.LocateNode(a);var d=poly2tri.sweep.NewFrontTriangle(c,a,b);if(a.x<=b.point.x+(poly2tri.EPSILON)){poly2tri.sweep.Fill(c,b)}poly2tri.sweep.FillAdvancingFront(c,d);return d};poly2tri.sweep.EdgeEvent=function(){var f;if(arguments.length==3){f=arguments[0];var a=arguments[1];var d=arguments[2];f.edge_event.constrained_edge=a;f.edge_event.right=(a.p.x>a.q.x);if(poly2tri.sweep.IsEdgeSideOfTriangle(d.triangle,a.p,a.q)){return}poly2tri.sweep.FillEdgeEvent(f,a,d);poly2tri.sweep.EdgeEvent(f,a.p,a.q,d.triangle,a.q)}else{if(arguments.length==5){f=arguments[0];var l=arguments[1];var k=arguments[2];var e=arguments[3];var g=arguments[4];if(poly2tri.sweep.IsEdgeSideOfTriangle(e,l,k)){return}var j=e.PointCCW(g);var c=poly2tri.Orient2d(k,j,l);if(c==poly2tri.Orientation.COLLINEAR){alert("poly2tri.sweep.EdgeEvent: Collinear not supported!");return}var h=e.PointCW(g);var b=poly2tri.Orient2d(k,h,l);if(b==poly2tri.Orientation.COLLINEAR){alert("poly2tri.sweep.EdgeEvent: Collinear not supported!");return}if(c==b){if(c==poly2tri.Orientation.CW){e=e.NeighborCCW(g)}else{e=e.NeighborCW(g)}poly2tri.sweep.EdgeEvent(f,l,k,e,g)}else{poly2tri.sweep.FlipEdgeEvent(f,l,k,e,g)}}else{alert("Invalid poly2tri.sweep.EdgeEvent call!")}}};poly2tri.sweep.IsEdgeSideOfTriangle=function(e,b,a){var c=e.EdgeIndex(b,a);if(c!=-1){e.MarkConstrainedEdge(c);var d=e.GetNeighbor(c);if(d!=null){d.MarkConstrainedEdge(b,a)}return true}return false};poly2tri.sweep.NewFrontTriangle=function(d,a,b){var c=new poly2tri.Triangle(a,b.point,b.next.point);c.MarkNeighbor(b.triangle);d.AddToMap(c);var e=new poly2tri.Node(a);e.next=b.next;e.prev=b;b.next.prev=e;b.next=e;if(!poly2tri.sweep.Legalize(d,c)){d.MapTriangleToNodes(c)}return e};poly2tri.sweep.Fill=function(c,a){var b=new poly2tri.Triangle(a.prev.point,a.point,a.next.point);b.MarkNeighbor(a.prev.triangle);b.MarkNeighbor(a.triangle);c.AddToMap(b);a.prev.next=a.next;a.next.prev=a.prev;if(!poly2tri.sweep.Legalize(c,b)){c.MapTriangleToNodes(b)}};poly2tri.sweep.FillAdvancingFront=function(c,d){var a=d.next;var b;while(a.next!=null){b=poly2tri.sweep.HoleAngle(a);if(b>poly2tri.PI_2||b<-(poly2tri.PI_2)){break}poly2tri.sweep.Fill(c,a);a=a.next}a=d.prev;while(a.prev!=null){b=poly2tri.sweep.HoleAngle(a);if(b>poly2tri.PI_2||b<-(poly2tri.PI_2)){break}poly2tri.sweep.Fill(c,a);a=a.prev}if(d.next!=null&&d.next.next!=null){b=poly2tri.sweep.BasinAngle(d);if(b<poly2tri.PI_3div4){poly2tri.sweep.FillBasin(c,d)}}};poly2tri.sweep.BasinAngle=function(b){var c=b.point.x-b.next.next.point.x;var a=b.point.y-b.next.next.point.y;return Math.atan2(a,c)};poly2tri.sweep.HoleAngle=function(b){var c=b.next.point.x-b.point.x;var a=b.next.point.y-b.point.y;var e=b.prev.point.x-b.point.x;var d=b.prev.point.y-b.point.y;return Math.atan2(c*d-a*e,c*e+a*d)};poly2tri.sweep.Legalize=function(f,h){for(var d=0;d<3;++d){if(h.delaunay_edge[d]){continue}var c=h.GetNeighbor(d);if(c!=null){var a=h.GetPoint(d);var e=c.OppositePoint(h,a);var g=c.Index(e);if(c.constrained_edge[g]||c.delaunay_edge[g]){h.constrained_edge[d]=c.constrained_edge[g];continue}var b=poly2tri.sweep.Incircle(a,h.PointCCW(a),h.PointCW(a),e);if(b){h.delaunay_edge[d]=true;c.delaunay_edge[g]=true;poly2tri.sweep.RotateTrianglePair(h,a,c,e);var j=!poly2tri.sweep.Legalize(f,h);if(j){f.MapTriangleToNodes(h)}j=!poly2tri.sweep.Legalize(f,c);if(j){f.MapTriangleToNodes(c)}h.delaunay_edge[d]=false;c.delaunay_edge[g]=false;return true}}}return false};poly2tri.sweep.Incircle=function(c,b,a,w){var f=c.x-w.x;var e=c.y-w.y;var s=b.x-w.x;var r=b.y-w.y;var d=f*r;var q=s*e;var n=d-q;if(n<=0){return false}var k=a.x-w.x;var j=a.y-w.y;var u=k*e;var p=f*j;var g=u-p;if(g<=0){return false}var t=s*j;var m=k*r;var l=f*f+e*e;var v=s*s+r*r;var o=k*k+j*j;var h=l*(t-m)+v*g+o*n;return h>0};poly2tri.sweep.RotateTrianglePair=function(r,b,g,m){var q;var o;var n;var l;q=r.NeighborCCW(b);o=r.NeighborCW(b);n=g.NeighborCCW(m);l=g.NeighborCW(m);var e;var d;var c;var a;e=r.GetConstrainedEdgeCCW(b);d=r.GetConstrainedEdgeCW(b);c=g.GetConstrainedEdgeCCW(m);a=g.GetConstrainedEdgeCW(m);var k;var j;var h;var f;k=r.GetDelaunayEdgeCCW(b);j=r.GetDelaunayEdgeCW(b);h=g.GetDelaunayEdgeCCW(m);f=g.GetDelaunayEdgeCW(m);r.Legalize(b,m);g.Legalize(m,b);g.SetDelaunayEdgeCCW(b,k);r.SetDelaunayEdgeCW(b,j);r.SetDelaunayEdgeCCW(m,h);g.SetDelaunayEdgeCW(m,f);g.SetConstrainedEdgeCCW(b,e);r.SetConstrainedEdgeCW(b,d);r.SetConstrainedEdgeCCW(m,c);g.SetConstrainedEdgeCW(m,a);r.ClearNeigbors();g.ClearNeigbors();if(q){g.MarkNeighbor(q)}if(o){r.MarkNeighbor(o)}if(n){r.MarkNeighbor(n)}if(l){g.MarkNeighbor(l)}r.MarkNeighbor(g)};poly2tri.sweep.FillBasin=function(b,a){if(poly2tri.Orient2d(a.point,a.next.point,a.next.next.point)==poly2tri.Orientation.CCW){b.basin.left_node=a.next.next}else{b.basin.left_node=a.next}b.basin.bottom_node=b.basin.left_node;while(b.basin.bottom_node.next!=null&&b.basin.bottom_node.point.y>=b.basin.bottom_node.next.point.y){b.basin.bottom_node=b.basin.bottom_node.next}if(b.basin.bottom_node==b.basin.left_node){return}b.basin.right_node=b.basin.bottom_node;while(b.basin.right_node.next!=null&&b.basin.right_node.point.y<b.basin.right_node.next.point.y){b.basin.right_node=b.basin.right_node.next}if(b.basin.right_node==b.basin.bottom_node){return}b.basin.width=b.basin.right_node.point.x-b.basin.left_node.point.x;b.basin.left_highest=b.basin.left_node.point.y>b.basin.right_node.point.y;poly2tri.sweep.FillBasinReq(b,b.basin.bottom_node)};poly2tri.sweep.FillBasinReq=function(c,a){if(poly2tri.sweep.IsShallow(c,a)){return}poly2tri.sweep.Fill(c,a);var b;if(a.prev==c.basin.left_node&&a.next==c.basin.right_node){return}else{if(a.prev==c.basin.left_node){b=poly2tri.Orient2d(a.point,a.next.point,a.next.next.point);if(b==poly2tri.Orientation.CW){return}a=a.next}else{if(a.next==c.basin.right_node){b=poly2tri.Orient2d(a.point,a.prev.point,a.prev.prev.point);if(b==poly2tri.Orientation.CCW){return}a=a.prev}else{if(a.prev.point.y<a.next.point.y){a=a.prev}else{a=a.next}}}}poly2tri.sweep.FillBasinReq(c,a)};poly2tri.sweep.IsShallow=function(c,b){var a;if(c.basin.left_highest){a=c.basin.left_node.point.y-b.point.y}else{a=c.basin.right_node.point.y-b.point.y}if(c.basin.width>a){return true}return false};poly2tri.sweep.FillEdgeEvent=function(c,b,a){if(c.edge_event.right){poly2tri.sweep.FillRightAboveEdgeEvent(c,b,a)}else{poly2tri.sweep.FillLeftAboveEdgeEvent(c,b,a)}};poly2tri.sweep.FillRightAboveEdgeEvent=function(c,b,a){while(a.next.point.x<b.p.x){if(poly2tri.Orient2d(b.q,a.next.point,b.p)==poly2tri.Orientation.CCW){poly2tri.sweep.FillRightBelowEdgeEvent(c,b,a)}else{a=a.next}}};poly2tri.sweep.FillRightBelowEdgeEvent=function(c,b,a){if(a.point.x<b.p.x){if(poly2tri.Orient2d(a.point,a.next.point,a.next.next.point)==poly2tri.Orientation.CCW){poly2tri.sweep.FillRightConcaveEdgeEvent(c,b,a)}else{poly2tri.sweep.FillRightConvexEdgeEvent(c,b,a);poly2tri.sweep.FillRightBelowEdgeEvent(c,b,a)}}};poly2tri.sweep.FillRightConcaveEdgeEvent=function(c,b,a){poly2tri.sweep.Fill(c,a.next);if(a.next.point!=b.p){if(poly2tri.Orient2d(b.q,a.next.point,b.p)==poly2tri.Orientation.CCW){if(poly2tri.Orient2d(a.point,a.next.point,a.next.next.point)==poly2tri.Orientation.CCW){poly2tri.sweep.FillRightConcaveEdgeEvent(c,b,a)}else{}}}};poly2tri.sweep.FillRightConvexEdgeEvent=function(c,b,a){if(poly2tri.Orient2d(a.next.point,a.next.next.point,a.next.next.next.point)==poly2tri.Orientation.CCW){poly2tri.sweep.FillRightConcaveEdgeEvent(c,b,a.next)}else{if(poly2tri.Orient2d(b.q,a.next.next.point,b.p)==poly2tri.Orientation.CCW){poly2tri.sweep.FillRightConvexEdgeEvent(c,b,a.next)}else{}}};poly2tri.sweep.FillLeftAboveEdgeEvent=function(c,b,a){while(a.prev.point.x>b.p.x){if(poly2tri.Orient2d(b.q,a.prev.point,b.p)==poly2tri.Orientation.CW){poly2tri.sweep.FillLeftBelowEdgeEvent(c,b,a)}else{a=a.prev}}};poly2tri.sweep.FillLeftBelowEdgeEvent=function(c,b,a){if(a.point.x>b.p.x){if(poly2tri.Orient2d(a.point,a.prev.point,a.prev.prev.point)==poly2tri.Orientation.CW){poly2tri.sweep.FillLeftConcaveEdgeEvent(c,b,a)}else{poly2tri.sweep.FillLeftConvexEdgeEvent(c,b,a);poly2tri.sweep.FillLeftBelowEdgeEvent(c,b,a)}}};poly2tri.sweep.FillLeftConvexEdgeEvent=function(c,b,a){if(poly2tri.Orient2d(a.prev.point,a.prev.prev.point,a.prev.prev.prev.point)==poly2tri.Orientation.CW){poly2tri.sweep.FillLeftConcaveEdgeEvent(c,b,a.prev)}else{if(poly2tri.Orient2d(b.q,a.prev.prev.point,b.p)==poly2tri.Orientation.CW){poly2tri.sweep.FillLeftConvexEdgeEvent(c,b,a.prev)}else{}}};poly2tri.sweep.FillLeftConcaveEdgeEvent=function(c,b,a){poly2tri.sweep.Fill(c,a.prev);if(a.prev.point!=b.p){if(poly2tri.Orient2d(b.q,a.prev.point,b.p)==poly2tri.Orientation.CW){if(poly2tri.Orient2d(a.point,a.prev.point,a.prev.prev.point)==poly2tri.Orientation.CW){poly2tri.sweep.FillLeftConcaveEdgeEvent(c,b,a)}else{}}}};poly2tri.sweep.FlipEdgeEvent=function(f,j,h,g,a){var c=g.NeighborAcross(a);if(c==null){alert("[BUG:FIXME] FLIP failed due to missing triangle!");return}var e=c.OppositePoint(g,a);if(poly2tri.InScanArea(a,g.PointCCW(a),g.PointCW(a),e)){poly2tri.sweep.RotateTrianglePair(g,a,c,e);f.MapTriangleToNodes(g);f.MapTriangleToNodes(c);if(a==h&&e==j){if(h==f.edge_event.constrained_edge.q&&j==f.edge_event.constrained_edge.p){g.MarkConstrainedEdge(j,h);c.MarkConstrainedEdge(j,h);poly2tri.sweep.Legalize(f,g);poly2tri.sweep.Legalize(f,c)}else{}}else{var b=poly2tri.Orient2d(h,e,j);g=poly2tri.sweep.NextFlipTriangle(f,b,g,c,a,e);poly2tri.sweep.FlipEdgeEvent(f,j,h,g,a)}}else{var d=poly2tri.sweep.NextFlipPoint(j,h,c,e);poly2tri.sweep.FlipScanEdgeEvent(f,j,h,g,c,d);poly2tri.sweep.EdgeEvent(f,j,h,g,a)}};poly2tri.sweep.NextFlipTriangle=function(f,e,a,c,d,g){var b;if(e==poly2tri.Orientation.CCW){b=c.EdgeIndex(d,g);c.delaunay_edge[b]=true;poly2tri.sweep.Legalize(f,c);c.ClearDelunayEdges();return a}b=a.EdgeIndex(d,g);a.delaunay_edge[b]=true;poly2tri.sweep.Legalize(f,a);a.ClearDelunayEdges();return c};poly2tri.sweep.NextFlipPoint=function(b,a,d,e){var c=poly2tri.Orient2d(a,e,b);if(c==poly2tri.Orientation.CW){return d.PointCCW(e)}else{if(c==poly2tri.Orientation.CCW){return d.PointCW(e)}else{alert("[Unsupported] poly2tri.sweep.NextFlipPoint: opposing point on constrained edge!");return undefined}}};poly2tri.sweep.FlipScanEdgeEvent=function(e,j,g,h,f,a){var b=f.NeighborAcross(a);if(b==null){alert("[BUG:FIXME] FLIP failed due to missing triangle");return}var d=b.OppositePoint(f,a);if(poly2tri.InScanArea(g,h.PointCCW(g),h.PointCW(g),d)){poly2tri.sweep.FlipEdgeEvent(e,g,d,b,d)}else{var c=NextFlipPoint(j,g,b,d);poly2tri.sweep.FlipScanEdgeEvent(e,j,g,h,b,c)}};(function(c,d){var a=1;var b=function(K,P){if(!(this instanceof b)){return new b(K,P)}var r=this;this.buildingProperties={floor:[],Object3D:new THREE.Object3D(),floorNames:{}};var l=800,G=400;var k=45;var N=new THREE.Projector();var E=new THREE.MeshLambertMaterial({color:13369344});var q=new THREE.MeshBasicMaterial({map:THREE.ImageUtils.loadTexture("media/demo_texture_512x512.png")});var t=new THREE.LineBasicMaterial({color:39423,linewidth:2});var D,x,L,m,v,s,O;var B={currentAzimut:1,currentElevation:Math.PI/2,currentDistance:10,lightAzimut:3.9,lightElevation:0.25,lightStrength:80,lightDistance:50,fillOpacity:1,fillColor:new THREE.Color(16777215),showNodes:false,showWallLines:false,showWireframe:false,showLightView:false,showFloor:d};var o;var j=Array();var H=new Object;var y=true;var A=new Object();var f=new Array();var M=new Array;var C=true;b.inAnimation=false;function I(T,S){return Math.sqrt((S.x-T.x)*(S.x-T.x)+(S.y-T.y)*(S.y-T.y))}function z(V,W,T,S){if(z.arguments.length==3){S=z.arguments[2];T=z.arguments[1];W=Math.cos(z.arguments[0]);V=Math.sin(z.arguments[0])}var U=new Object;U.x=S.x+W*(T.x-S.x)-V*(T.y-S.y);U.y=S.y+V*(T.x-S.x)+W*(T.y-S.y);return U}function J(S,U){var T=new Object;T.x=S.x+U.x;T.y=S.y+U.y;return T}function n(U,S){var V=U.y>=0?(1-U.x):(U.x+3);var T=S.y>=0?(1-S.x):(S.x+3);return V-T}var Q=function(aE){y=false;var aU=-1;var bd=0;var bn;if("building"==aE.documentElement.tagName){bn=aE.documentElement}else{return alert("ERROR: Not a valid floor plan! Expected: 'building', found '"+aE.documentElement.tagName+"'")}for(var aQ=0;aQ<bn.childNodes.length;aQ++){o=bn.childNodes[aQ];if(o.nodeType!=a){continue}if(o.tagName=="textures"){p(o);continue}if(o.tagName!="floor"){return alert("ERROR: Not a valid floor plan! Expected: 'floor', found '"+o.tagName+"'")}aU++;r.buildingProperties.floor[aU]={};var bz=o.getAttribute("name");r.buildingProperties.floor[aU].name=bz;r.buildingProperties.floorNames[bz]=aU;var ae=Number(o.getAttribute("height"));r.buildingProperties.floor[aU].height=ae;r.buildingProperties.floor[aU].heightOfGround=bd;var aq=f.length;for(var aO=0;aO<o.childNodes.length;aO++){var bA=o.childNodes[aO];if(bA.nodeType!=a){continue}switch(bA.tagName){case"nodes":e(bA,ae);break;case"walls":F(bA);break;case"rooms":h(bA,aU);break}}var af=new THREE.Object3D();for(var aO=aq;aO<f.length;aO++){A[f[aO].start].neighbour.push(aO+1);A[f[aO].end].neighbour.push(-aO-1)}var bm=new THREE.Object3D();bm.name="nodeGroup";for(var aN in A){var aP=new Array();var am=A[aN];var aG=new THREE.Mesh(new THREE.SphereGeometry(0.1,4,4),E);aG.position=new THREE.Vector3(am.x,am.y,bd);bm.add(aG);for(var aO=0;aO<A[aN].neighbour.length;aO++){var aJ=new Object;aJ.id=A[aN].neighbour[aO];var aR;if(aJ.id<0){aR=A[f[-aJ.id-1].start]}else{aR=A[f[aJ.id-1].end]}length=I(am,aR);aJ.x=(aR.x-am.x)/length;aJ.y=(aR.y-am.y)/length;aP.push(aJ)}aP.sort(n);for(var aO=0;aO<aP.length;aO++){var ar=(aO+1)%aP.length;var ad=Math.abs(aP[aO].id)-1;var a1=Math.abs(aP[ar].id)-1;var ap=f[ad].thickness/2;var ab=f[a1].thickness/2;if(f[ad].startOffset&&aP[aO].id>0){ap+=f[ad].startOffset}if(f[ad].endOffset&&aP[aO].id<0){ap+=f[ad].endOffset}if(f[a1].startOffset&&aP[ar].id>0){ab+=-f[a1].startOffset}if(f[a1].endOffset&&aP[ar].id<0){ab+=-f[a1].endOffset}var be=new Object;be.x=aP[aO].x*ab+aP[ar].x*ap;be.y=aP[aO].y*ab+aP[ar].y*ap;var aM=aP[aO].x*aP[ar].y-aP[aO].y*aP[ar].x;if(Math.abs(aM)<0.00001){if(Math.abs(ap-ab)<0.00001){be.x=am.x-aP[aO].y*ap;be.y=am.y+aP[aO].x*ap}else{alert("ERROR: A straight wall with different thicknesses is currently not supported!");be.x=am.x-aP[aO].y*(ap+ab)/2;be.y=am.y+aP[aO].x*(ap+ab)/2}}else{be.x=am.x+be.x/aM;be.y=am.y+be.y/aM}if(aP[aO].id<0){f[ad].startVertex.push(j.length)}else{f[ad].endVertex.push(j.length)}if(1==aP.length){var a0=new Object;a0.x=2*am.x-be.x;a0.y=2*am.y-be.y;j.push(a0)}if(aP[ar].id<0){f[a1].startVertex.push(j.length)}else{f[a1].endVertex.push(j.length)}j.push(be)}}af.add(bm);var au=new THREE.Object3D();au.name="lineGroup";var ah=new THREE.Object3D();ah.name="wallGroup";for(var aO=aq;aO<f.length;aO++){var at=A[f[aO].start];var aA=A[f[aO].end];var bk=new THREE.Geometry();bk.vertices.push(new THREE.Vertex(new THREE.Vector3(at.x,at.y,bd)));bk.vertices.push(new THREE.Vertex(new THREE.Vector3(aA.x,aA.y,bd)));au.add(new THREE.Line(bk,t));var Z=j[f[aO].startVertex[0]];var aF=j[f[aO].endVertex[0]];var Y=j[f[aO].startVertex[1]];var aD=j[f[aO].endVertex[1]];var ba=new Object;ba.x=Z.x-Y.x;ba.y=Z.y-Y.y;var a8=new Object;a8.x=aF.x-Y.x;a8.y=aF.y-Y.y;var a7=new Object;a7.x=aF.x-aD.x;a7.y=aF.y-aD.y;if((ba.x*a8.y-ba.y*a8.x)*(a8.x*a7.y-a8.y*a7.x)>0){aF=j[f[aO].endVertex[1]];aD=j[f[aO].endVertex[0]]}var bl=A[f[aO].start];var U=A[f[aO].end];var bo=A[f[aO].start].z;var X=A[f[aO].end].z;var bx=(Y.x-Z.x)*(aF.y-Z.y)-(Y.y-Z.y)*(aF.x-Z.x);var bh=new THREE.Geometry();var ay=new THREE.Vector3(bl.y-U.y,-bl.x+U.x,0);var ax=new THREE.Vector3(1,0,0);var aT=[new poly2tri.Point(0,0),new poly2tri.Point(0,1),new poly2tri.Point(1,1),new poly2tri.Point(1,0)];aT[1].startEndMarker="start";aT[2].startEndMarker="end";var a6=[];if(f[aO].holes.length){var bw=f[aO].holes;for(var aS=0;aS<bw.length;aS++){var bc=I(bl,U);var aL=bw[aS].distance/bc;var aZ=(bw[aS].distance+bw[aS].width)/bc;if(aL<=0){aL=0.001}if(aZ>=1){aZ=0.999}var aC=(bo-bw[aS].lintel)/bo;var S=bw[aS].paparet/bo;if(1==aC){if(S==0){continue}aT.splice(-2,0,new poly2tri.Point(aL,1),new poly2tri.Point(aL,S),new poly2tri.Point(aZ,S),new poly2tri.Point(aZ,1));continue}if(0==S){aT.splice(0,0,new poly2tri.Point(aZ,0),new poly2tri.Point(aZ,aC),new poly2tri.Point(aL,aC),new poly2tri.Point(aL,0));continue}a6.push([new poly2tri.Point(aL,S),new poly2tri.Point(aZ,S),new poly2tri.Point(aZ,aC),new poly2tri.Point(aL,aC)])}}var bq=new poly2tri.SweepContext(aT.slice(0));for(var a5=0;a5<a6.length;a5++){bq.AddHole(a6[a5])}try{poly2tri.sweep.Triangulate(bq)}catch(bj){console.log(bj)}for(var a9=0;a9<bq.point_count();a9++){bq.GetPoint(a9).id=a9}var ag=[];$.each(bq.GetTriangles(),function(bB,bC){ag.push(new THREE.Face3(bC.GetPoint(0).id,bC.GetPoint(1).id,bC.GetPoint(2).id))});var by=bq.points_;var az=ag;var bf=[];var ak=[];var T,aV;var bv=1/((aF.x-Z.x)*(aF.x-Z.x)+(aF.y-Z.y)*(aF.y-Z.y));var aB=1/((aD.x-Y.x)*(aD.x-Y.x)+(aD.y-Y.y)*(aD.y-Y.y));for(var aI=0;aI<by.length;aI++){var a4=by[aI];var bb={x:bl.x*(1-a4.x)+U.x*a4.x,y:bl.y*(1-a4.x)+U.y*a4.x};var aj=((bb.x-Z.x)*(aF.x-Z.x)+(bb.y-Z.y)*(aF.y-Z.y))*bv;if(a4.x==0||a4.x==1){aj=1-a4.x}var aw=Z.x*(1-aj)+aF.x*aj;var ac=Z.y*(1-aj)+aF.y*aj;var ai=((bb.x-Y.x)*(aD.x-Y.x)+(bb.y-Y.y)*(aD.y-Y.y))*aB;if(a4.x==0||a4.x==1){ai=1-a4.x}var av=Y.x*(1-ai)+aD.x*ai;var aa=Y.y*(1-ai)+aD.y*ai;var aH=bd+bo*a4.y;if(bx>0){bf.push(new THREE.Vertex(new THREE.Vector3(aw,ac,aH),ay));ak.push(new THREE.Vertex(new THREE.Vector3(av,aa,aH),ay))}else{bf.push(new THREE.Vertex(new THREE.Vector3(av,aa,aH),ay));ak.push(new THREE.Vertex(new THREE.Vector3(aw,ac,aH),ay))}if("startEndMarker" in a4){if("start"==a4.startEndMarker){T=bf.length-1}else{aV=bf.length-1}}}var bt=bf.length;bh.vertices=bf.concat(ak);var bu=T,bp=T+bt,a3=aV,a2=aV+bt;for(var aW=0;aW<az.length;aW++){var W=new THREE.UV(by[az[aW].a].x,1-by[az[aW].a].y);var bs=new THREE.UV(by[az[aW].b].x,1-by[az[aW].b].y);var bi=new THREE.UV(by[az[aW].c].x,1-by[az[aW].c].y);var V=new THREE.UV(1-by[az[aW].c].x,1-by[az[aW].c].y);var br=new THREE.UV(1-by[az[aW].b].x,1-by[az[aW].b].y);var bg=new THREE.UV(1-by[az[aW].a].x,1-by[az[aW].a].y);bh.faces.push(az[aW]);bh.faceVertexUvs[0].push([W,bs,bi]);bh.faces.push(new THREE.Face3(az[aW].c+bt,az[aW].b+bt,az[aW].a+bt));bh.faceVertexUvs[0].push([V,br,bg])}var al=bh.vertices.length;bh.vertices.push(new THREE.Vertex(new THREE.Vector3(bl.x,bl.y,bd)));bh.vertices.push(new THREE.Vertex(new THREE.Vector3(bl.x,bl.y,bd+bo)));bh.vertices.push(new THREE.Vertex(new THREE.Vector3(U.x,U.y,bd)));bh.vertices.push(new THREE.Vertex(new THREE.Vector3(U.x,U.y,bd+X)));bh.faces.push(new THREE.Face3(bu,bp,al+1));bh.faces.push(new THREE.Face3(a2,a3,al+3));for(var aY=0;aY<aT.length;aY++){var ao=aT[aY].id;var an=aT[(aY+1)%aT.length].id;bh.faces.push(new THREE.Face3(ao,an,ao+bt));bh.faces.push(new THREE.Face3(an,an+bt,ao+bt))}for(var aK=0;aK<a6.length;aK++){for(var aY=0;aY<a6[aK].length;aY++){var ao=a6[aK][aY].id;var an=a6[aK][(aY+1)%aT.length].id;bh.faces.push(new THREE.Face3(ao,an,ao+bt));bh.faces.push(new THREE.Face3(an,an+bt,ao+bt))}}bh.computeFaceNormals();var aX=new THREE.Mesh(bh,q);aX.castShadow=true;aX.receiveShadow=true;ah.add(aX)}af.add(au);af.add(ah);r.buildingProperties.floor[aU].Object3D=af;r.buildingProperties.floor[aU].nodeGroup=bm;r.buildingProperties.floor[aU].lineGroup=au;r.buildingProperties.floor[aU].wallGroup=ah;r.buildingProperties.Object3D.add(af);bd+=ae}r.buildingProperties.x_center=(r.buildingProperties.x_max-r.buildingProperties.x_min)/2;r.buildingProperties.y_center=(r.buildingProperties.y_max-r.buildingProperties.y_min)/2;r.buildingProperties.size=Math.max(r.buildingProperties.x_center,r.buildingProperties.y_center);H.x=r.buildingProperties.x_center;H.y=r.buildingProperties.y_center;H.z=r.buildingProperties.z_max/2;r.show3D(35*Math.PI/180,30*Math.PI/180,10,new THREE.Vector3(H.x,H.y,H.z))};this.loadFloorPlan=function(S){$.ajax({url:S,context:r,success:function(T){Q(T)},dataType:"xml",async:false})};var e=function(T,V){for(var U=0;U<T.childNodes.length;U++){var W=T.childNodes[U];if(W.nodeType!=a){continue}var X=W.getAttribute("id");var S=new Object;S.x=Number(W.getAttribute("x"));S.y=Number(W.getAttribute("y"));S.z=Number(W.hasAttribute("z")?W.getAttribute("z"):V);S.neighbour=new Array;A[X]=S;if(d==r.buildingProperties.x_min){r.buildingProperties.x_min=S.x;r.buildingProperties.x_max=S.x;r.buildingProperties.y_min=S.y;r.buildingProperties.y_max=S.y;r.buildingProperties.z_min=S.z;r.buildingProperties.z_max=S.z}else{if(r.buildingProperties.x_min>S.x){r.buildingProperties.x_min=S.x}if(r.buildingProperties.x_max<S.x){r.buildingProperties.x_max=S.x}if(r.buildingProperties.y_min>S.y){r.buildingProperties.y_min=S.y}if(r.buildingProperties.y_max<S.y){r.buildingProperties.y_max=S.y}if(r.buildingProperties.z_min>S.z){r.buildingProperties.z_min=S.z}if(r.buildingProperties.z_max<S.z){r.buildingProperties.z_max=S.z}}}};var F=function(T){for(var V=0;V<T.childNodes.length;V++){var W=T.childNodes[V];if(W.nodeType!=a){continue}var S=new Object;S.start=W.getAttribute("start");S.startVertex=new Array;S.startOffset=Number(W.getAttribute("startoffset"));S.end=W.getAttribute("end");S.endVertex=new Array;S.endOffset=Number(W.getAttribute("endoffset"));S.thickness=Number(W.getAttribute("thickness"));S.texture=W.getAttribute("texture");if(!S.texture){S.texture=0}S.holes=new Array;for(var U=0;U<W.childNodes.length;U++){var X=W.childNodes[U];if(X.nodeType!=a){continue}var Y=new Object;Y.id=X.getAttribute("id");Y.distance=Number(X.getAttribute("distance"));Y.width=Number(X.getAttribute("width"));Y.paparet=Number(X.getAttribute("paparet"));Y.lintel=Number(X.getAttribute("lintel"));S.holes.push(Y)}f[f.length]=S}};var h=function(Z,ag){M[ag]=new Array;for(var af=0;af<Z.childNodes.length;af++){var aa=Z.childNodes[af];if(aa.nodeType!=a){continue}var ah=new Object;ah.name=aa.getAttribute("name");ah.zones=new Array;ah.center={x:0,y:0};var T=0;var ab={};var ae={};for(var ad=0;ad<aa.childNodes.length;ad++){var ai=aa.childNodes[ad];if(ai.nodeType!=a){continue}var V=new Object;V.onclick=ai.getAttribute("onclick");V.name=ai.getAttribute("name");V.corners=new Array;for(var ac=0;ac<ai.childNodes.length;ac++){var U=ai.childNodes[ac];if(U.nodeType!=a){continue}var Y=U.getAttribute("nodeid");V.corners.push(Y);var X=A[Y].x;var W=A[Y].y;ah.center.x+=X;ah.center.y+=W;if(X<ab.x||(!ab.x)){ab.x=X}if(W<ab.y||(!ab.y)){ab.y=W}if(X>ae.x||(!ae.x)){ae.x=X}if(W>ae.y||(!ae.y)){ae.y=W}T++}ah.zones.push(V)}ah.center.x/=T;ah.center.y/=T;var aj=Math.sqrt((ah.center.x-ab.x)*(ah.center.x-ab.x)+(ah.center.y-ab.y)*(ah.center.y-ab.y));var S=Math.sqrt((ah.center.x-ae.x)*(ah.center.x-ae.x)+(ah.center.y-ae.y)*(ah.center.y-ae.y));ah.size=aj<S?S:aj;M[ag].push(ah)}};var p=function(S){return;for(var T=0;T<S.childNodes.length;T++){node=S.childNodes[T];if(node.nodeType!=a){continue}}};function w(X,Z){if(y){return}C=false;var Y=l/G,V=0.1,S=10000;L=new THREE.WebGLRenderer({antialias:true});x=new THREE.PerspectiveCamera(k,Y,V,S);D=new THREE.Scene();D.add(x);x.position.z=300;L.setSize(l,G);var W=2048,T=1024;L.shadowCameraNear=0.1;L.shadowCameraFar=100;L.shadowCameraFov=45;L.shadowMapBias=0.0039;L.shadowMapDarkness=0.5;L.shadowMapWidth=W;L.shadowMapHeight=T;L.shadowMapEnabled=true;m=new THREE.PointLight(16777215);s=new THREE.AmbientLight(16777215);m.position.x=10;m.position.y=50;m.position.z=130;v=new THREE.SpotLight(16777215);v.position.set(0,1500,1000);v.target.position.set(0,0,0);v.castShadow=true;var U=new THREE.Geometry();U.vertices.push(new THREE.Vertex(v.position));U.vertices.push(new THREE.Vertex(v.target.position));O=new THREE.Line(U,t);D.add(O);D.add(Z);D.add(v);D.add(s);var aa=$(K);aa.append(L.domElement)}function R(T,U,Y,V){var S=Math.sin(T)*Math.cos(U);var X=Math.cos(T)*Math.cos(U);var W=Math.sin(U);x.up=new THREE.Vector3(-Math.sin(T)*Math.sin(U),-Math.cos(T)*Math.sin(U),Math.cos(U));x.position=new THREE.Vector3(S*Y+V.x,X*Y+V.y,Y*W+V.z);x.lookAt(V);m.position=x.position}this.render=function(){L.render(D,x)};this.setState=function(T,S,U){switch(T){case"showWireframe":q.wireframe=S;break;case"fillColor":q.color.setHex(parseInt(S,16));break;case"showFloor":S=parseInt(S)}B[T]=S;if(U){g()}};this.getState=function(S){return B[S]};this.resize=function(T,S,U){if(arguments.length===2||arguments.length===3){l=T;G=S}else{l=K.find("canvas").width();G=K.find("canvas").height();U=T}ASPECT=l/G;L.setSize(l,G);x.aspect=ASPECT;if(U){g()}};this.hideFloor=function(S,T){THREE.SceneUtils.traverseHierarchy(r.buildingProperties.floor[S].wallGroup,function(U){U.visible=T})};this.show3D=function(S,T,V,U){B.currentAzimut=S;B.currentElevation=T;B.currentDistance=V;B.currentTarget=U.clone();if(C){w(this,this.buildingProperties.Object3D)}g()};function g(){R(B.currentAzimut,B.currentElevation,B.currentDistance,B.currentTarget);var U=Math.sin(B.lightAzimut)*Math.cos(B.lightElevation);var T=Math.cos(B.lightAzimut)*Math.cos(B.lightElevation);var S=Math.sin(B.lightElevation);v.target.position=B.currentTarget;v.position=new THREE.Vector3(U*B.lightDistance,T*B.lightDistance,S*B.lightDistance+B.currentTarget.z);v.intensity=B.lightStrength/100;O.geometry.vertices[0].position=v.position;O.geometry.vertices[1].position=v.target.position;O.geometry.__dirtyVertices=true;if(B.showLightView){x.position=v.position;x.lookAt(v.target.position)}if(q.opacity!=B.fillOpacity){q.opacity=B.fillOpacity;q.transparent=B.fillOpacity<1;q.depthTest=!q.transparent;THREE.SceneUtils.traverseHierarchy(r.buildingProperties.Object3D,function(V){V.doubleSided=q.transparent})}r.render()}this.moveTo=function(W,ac,ad,S,Y,ab,U,T){if(C){w(this.buildingProperties.Object3D)}var aa=(T==d||!T)?1:100;var X={azimut:0,elevation:0,distance:0,target:new THREE.Vector3};function V(){X.azimut=(ac-B.currentAzimut)/aa;X.elevation=(ad-B.currentElevation)/aa;X.distance=(S-B.currentDistance)/aa;X.target.sub(Y,B.currentTarget);X.target.multiplyScalar(1/aa);return((Math.abs(X.azimut*aa)<0.00001)&&(Math.abs(X.elevation*aa)<0.00001)&&(Math.abs(X.distance*aa)<0.0001)&&(Math.abs(X.target.x*aa)<0.0001)&&(Math.abs(X.target.y*aa)<0.0001)&&(Math.abs(X.target.z*aa)<0.0001))}function Z(){b.inAnimation=true;var ae=true;if((B.currentAzimut+X.azimut)*X.azimut<ac*X.azimut){B.currentAzimut+=X.azimut;ae=false}else{B.currentAzimut=ac}if((B.currentElevation+X.elevation)*X.elevation<ad*X.elevation){B.currentElevation+=X.elevation;ae=false}else{B.currentElevation=ad}if((B.currentDistance+X.distance)*X.distance<S*X.distance){B.currentDistance+=X.distance;ae=false}else{B.currentDistance=S}if((B.currentTarget.x+X.target.x)*X.target.x<Y.x*X.target.x){B.currentTarget.x+=X.target.x;ae=false}else{B.currentTarget.x=Y.x}if((B.currentTarget.y+X.target.y)*X.target.y<Y.y*X.target.y){B.currentTarget.y+=X.target.y;ae=false}else{B.currentTarget.y=Y.y}if((B.currentTarget.z+X.target.z)*X.target.z<Y.z*X.target.z){B.currentTarget.z+=X.target.z;ae=false}else{B.currentTarget.z=Y.z}R(B.currentAzimut,B.currentElevation,B.currentDistance,B.currentTarget);L.render(D,x);if(ab){ab()}if(!ae){c.requestAnimationFrame(Z)}else{b.inAnimation=false;if(U){U()}}}V();if(!b.inAnimation){Z()}};this.moveToRoom=function(X,S,ac,T,ab,U){var Z=new THREE.Vector3();var aa;if(typeof X==="string"){X=this.buildingProperties.floorNames[X]}if(!(X in this.buildingProperties.floor)){return Z}if(S){Z.x=S.center.x;Z.y=S.center.y;aa=S.size/Math.tan(k*Math.PI/180/2)}else{Z.x=this.buildingProperties.x_center;Z.y=this.buildingProperties.y_center;aa=this.buildingProperties.size/Math.tan(k*Math.PI/180/2)}Z.z=this.buildingProperties.floor[X].heightOfGround+this.buildingProperties.floor[X].height/2;if(ac){var W=X<B.showFloor?X:B.showFloor;var V=X<B.showFloor?B.showFloor:X;var Y=r.buildingProperties.floor.length-1;for(;Y>=0;Y--){r.hideFloor(Y,W<=Y&&Y<=V)}}this.moveTo(X,B.currentAzimut,B.currentElevation,aa,Z,ab,function(){if(ac){var ad=r.buildingProperties.floor.length-1;for(;ad>=0;ad--){r.hideFloor(ad,ad==X)}}r.render();if(U!==d){U()}},T);B.showFloor=X;return Z};function u(X,S){var W=0;var U=A[S.corners[S.corners.length-1]];for(var T in S.corners){var V=A[S.corners[T]];if((U.x<X.x||V.x<X.x)&&((U.y-X.y)*(V.y-X.y)<0)){W++}U=V}return W%2}this.selectRoom=function(X,V){var S=M[V];for(var W in S){var U=S[W];for(var T in U.zones){if(u(X,U.zones[T])){return{room:S[W],zone:U.zones[T]}}}}return{}};this.sceen2building=function(S,X,V){var T=new THREE.Vector3((S/l)*2-1,-(X/G)*2+1,0.5);N.unprojectVector(T,x);var U=T.subSelf(x.position).normalize();var W=(V-x.position.z)/U.z;return new THREE.Vector3(x.position.x+W*U.x,x.position.y+W*U.y,x.position.z+W*U.z)};this.building2screen=function(T){var S=T.clone();N.projectVector(S,x);return{x:(S.x+1)/2*l,y:-(S.y-1)/2*G}};this.translateMouseEvent=function(V){var U=V.data.JSFloorPlan3D;var T=U.buildingProperties.floor[B.showFloor];var S=T.heightOfGround+T.height;var W=U.sceen2building(V.offsetX,V.offsetY,S);V.room=U.selectRoom(W,B.showFloor);if(V.data.callback){V.data.callback(V)}};if(typeof P==="string"){this.loadFloorPlan(P)}};c.JSFloorPlan3D=b})(window);if(!window.requestAnimationFrame){window.requestAnimationFrame=(function(){return window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(b,a){window.setTimeout(b,1000/60)}})()}var templateEngine=new TemplateEngine();$(window).bind("resize",templateEngine.handleResize);$(window).unload(function(){templateEngine.visu.stop()});$(document).ready(function(){$.ajax({url:"visu_config"+(templateEngine.configSuffix?"_"+templateEngine.configSuffix:"")+".xml",cache:!templateEngine.forceReload,success:templateEngine.parseXML,error:function(b,d,c){var a="Config-File Error! ";switch(d){case"parsererror":a+='<br />Invalid config file!<br /><a href="check_config.php?config='+templateEngine.configSuffix+'">Please check!</a>'}$("#loading").html(a)},dataType:"xml"})});function TemplateEngine(){var thisTemplateEngine=this;this.pageReady=false;this.pluginsReady=false;this.designReady=false;this.design=new VisuDesign_Custom();this.pagePartsHandler=new PagePartsHandler();this.currentPage=null;this.currentPageUnavailableWidth=-1;this.currentPageUnavailableHeight=-1;this.currentPageNavbarVisibility=null;this.bindClickToWidget=false;this.maxMobileScreenWidth=480;var lastBodyWidth=0;this.mappings={};this.stylings={};var ga_list={};this.main_scroll;this.old_scroll="";this.visu;this.scrollSpeed;this.defaultColumns=12;this.minColumnWidth=120;this.enableColumnAdjustment=false;this.enableAddressQueue=$.getUrlVar("enableQueue")?true:false;this.backend="cgi-bin";if($.getUrlVar("backend")){this.backend=$.getUrlVar("backend")}this.initBackendClient=function(){if(thisTemplateEngine.backend=="oh"){thisTemplateEngine.backend="cv"}thisTemplateEngine.backend="/"+thisTemplateEngine.backend+"/";thisTemplateEngine.visu=new CometVisu(thisTemplateEngine.backend);function update(json){for(key in json){$.event.trigger("_"+key,json[key])}}thisTemplateEngine.visu.update=function(json){$(document).trigger("firstdata",json);update(json);thisTemplateEngine.visu.update=update};thisTemplateEngine.visu.user="demo_user"};this.configSuffix;if($.getUrlVar("config")){this.configSuffix=$.getUrlVar("config")}this.clientDesign="";if(typeof this.forceReload=="undefined"){this.forceReload=false}if($.getUrlVar("forceReload")){this.forceReload=$.getUrlVar("forceReload")!="false"}if($.getUrlVar("forceMobile")){this.forceMobile=$.getUrlVar("forceMobile")!="false"}else{this.forceMobile=false}this.forceReload=true;this.use_maturity;if($.getUrlVar("maturity")){this.url_maturity=$.getUrlVar("maturity");if(!isNaN(this.url_maturity-0)){this.use_maturity=this.url_maturity-0}else{this.use_maturity=Maturity[this.url_maturity]}}if(isNaN(this.use_maturity)){this.use_maturity=Maturity.release}this.transformEncode=function(transformation,value){var basetrans=transformation.split(".")[0];return transformation in Transform?Transform[transformation].encode(value):(basetrans in Transform?Transform[basetrans].encode(value):value)};this.transformDecode=function(transformation,value){var basetrans=transformation.split(".")[0];return transformation in Transform?Transform[transformation].decode(value):(basetrans in Transform?Transform[basetrans].decode(value):value)};this.addAddress=function(address){ga_list[address]=1};this.getAddresses=function(){return Object.keys(ga_list)};this.map=function(value,this_map){if(this_map&&thisTemplateEngine.mappings[this_map]){var m=thisTemplateEngine.mappings[this_map];if(m.formula){return m.formula(value)}else{if(m[value]){return m[value]}else{if(m.range){var valueFloat=parseFloat(value);var range=m.range;for(var min in range){if(min>valueFloat){continue}if(range[min][0]<valueFloat){continue}return range[min][1]}}}}}return value};this.resetPageValues=function(){thisTemplateEngine.currentPage=null;thisTemplateEngine.currentPageUnavailableWidth=-1;thisTemplateEngine.currentPageUnavailableHeight=-1;thisTemplateEngine.currentPageNavbarVisibility=null};this.getCurrentPageNavbarVisibility=function(){if(thisTemplateEngine.currentPageNavbarVisibility==null){thisTemplateEngine.currentPageNavbarVisibility=thisTemplateEngine.pagePartsHandler.getNavbarsVisibility(thisTemplateEngine.currentPage)}return thisTemplateEngine.currentPageNavbarVisibility};this.adjustColumns=function(){if(thisTemplateEngine.enableColumnAdjustment==false){return false}var width=thisTemplateEngine.getAvailableWidth();var $main=$("#main");var newColumns=Math.ceil(width/thisTemplateEngine.minColumnWidth);if(newColumns>(thisTemplateEngine.defaultColumns/2)&&thisTemplateEngine.defaultColumns>newColumns){newColumns=thisTemplateEngine.defaultColumns}else{while((thisTemplateEngine.defaultColumns%newColumns)>0&&newColumns<thisTemplateEngine.defaultColumns){newColumns++}newColumns=Math.min(thisTemplateEngine.defaultColumns,newColumns)}if(newColumns!=$main.data("columns")){$main.data({columns:newColumns});return true}else{return false}};this.getAvailableWidth=function(){var bodyWidth=$("body").width();var mobileUseChanged=(lastBodyWidth<thisTemplateEngine.maxMobileScreenWidth)!=(bodyWidth<thisTemplateEngine.maxMobileScreenWidth);if(thisTemplateEngine.currentPageUnavailableWidth<0||mobileUseChanged){thisTemplateEngine.currentPageUnavailableWidth=0;var navbarVisibility=thisTemplateEngine.getCurrentPageNavbarVisibility(thisTemplateEngine.currentPage);var widthNavbarLeft=navbarVisibility.left=="true"&&$("#navbarLeft").css("display")!="none"?$("#navbarLeft").width():0;if(widthNavbarLeft>=bodyWidth){widthNavbarLeft=0}var widthNavbarRight=navbarVisibility.right=="true"&&$("#navbarRight").css("display")!="none"?$("#navbarRight").width():0;if(widthNavbarRight>=bodyWidth){widthNavbarRight=0}thisTemplateEngine.currentPageUnavailableWidth=widthNavbarLeft+widthNavbarRight+1}lastBodyWidth=bodyWidth;return bodyWidth-thisTemplateEngine.currentPageUnavailableWidth};this.getAvailableHeight=function(force){var windowHeight=$(window).height();if(thisTemplateEngine.currentPageUnavailableHeight<0||force==true){thisTemplateEngine.currentPageUnavailableHeight=0;var navbarVisibility=thisTemplateEngine.getCurrentPageNavbarVisibility(thisTemplateEngine.currentPage);var heightStr="Height: "+windowHeight;if($("#top").css("display")!="none"&&$("#top").outerHeight(true)>0){thisTemplateEngine.currentPageUnavailableHeight+=$("#top").outerHeight(true);heightStr+=" - "+$("#top").outerHeight(true)}else{heightStr+=" - 0"}if($("#navbarTop").css("display")!="none"&&navbarVisibility.top=="true"&&$("#navbarTop").outerHeight(true)>0){thisTemplateEngine.currentPageUnavailableHeight+=$("#navbarTop").outerHeight(true);heightStr+=" - "+$("#navbarTop").outerHeight(true)}else{heightStr+=" - 0"}if($("#navbarBottom").css("display")!="none"&&navbarVisibility.bottom=="true"&&$("#navbarBottom").outerHeight(true)>0){thisTemplateEngine.currentPageUnavailableHeight+=$("#navbarBottom").outerHeight(true);heightStr+=" - "+$("#navbarBottom").outerHeight(true)}else{heightStr+=" - 0"}if($("#bottom").css("display")!="none"&&$("#bottom").outerHeight(true)>0){thisTemplateEngine.currentPageUnavailableHeight+=$("#bottom").outerHeight(true);heightStr+=" - "+$("#bottom").outerHeight(true)}else{heightStr+=" - 0"}if(thisTemplateEngine.currentPageUnavailableHeight>0){thisTemplateEngine.currentPageUnavailableHeight+=1}}return windowHeight-thisTemplateEngine.currentPageUnavailableHeight};this.handleResize=function(resize,skipScrollFix){var uagent=navigator.userAgent.toLowerCase();var width=thisTemplateEngine.getAvailableWidth();var $main=$("#main");var mobileDevice=(/(android|blackberry|iphone|ipod|series60|symbian|windows ce|palm)/i.test(uagent));if(/(nexus 7|tablet)/i.test(uagent)){mobileDevice=false}mobileDevice|=thisTemplateEngine.forceMobile;if(mobileDevice){$main.css("width",width);$("#pageSize").text(".page{width:"+(width-0)+"px;}")}else{var height=thisTemplateEngine.getAvailableHeight();$main.css("width",width).css("height",height);$("#pageSize").text(".page{width:"+(width-0)+"px;height:"+height+"px;}");if(($("#navbarTop").css("display")!="none"&&$("#navbarTop").outerHeight(true)<=2)||($("#navbarBottom").css("display")!="none"&&$("#navbarBottom").innerHeight(true)<=2)){window.setTimeout("templateEngine.correctHeight()",100)}}if(skipScrollFix===undefined){if(thisTemplateEngine.adjustColumns()){thisTemplateEngine.applyColumnWidths()}}};this.correctHeight=function(){var width=thisTemplateEngine.getAvailableWidth();var height=thisTemplateEngine.getAvailableHeight(true);$("#main").css("height",height);$("#pageSize").text(".page{width:"+(width-0)+"px;height:"+height+"px;}")};this.rowspanClass=function(rowspan){var className="rowspan rowspan"+rowspan;var styleId=className.replace(" ","_")+"Style";if(!$("#"+styleId).get(0)){var dummyDiv=$('<div class="clearfix" id="calcrowspan"><div id="containerDiv" class="widget_container"><div class="widget clearfix text" id="innerDiv" /></div></div>').appendTo(document.body).show();var singleHeight=$("#containerDiv").outerHeight(false);var singleHeightMargin=$("#containerDiv").outerHeight(true);$("#calcrowspan").remove();$("head").append('<style id="'+styleId+'">.rowspan.rowspan'+rowspan+" { height: "+((rowspan-1)*singleHeightMargin+singleHeight)+"px;} </style>").data(className,1)}return className};var pluginsToLoadCount=0;var xml;this.parseXML=function(loaded_xml){xml=loaded_xml;predefinedDesign=$("pages",xml).attr("design");if($("pages",xml).attr("backend")){thisTemplateEngine.backend=$("pages",xml).attr("backend")}thisTemplateEngine.initBackendClient();thisTemplateEngine.scrollSpeed=$("pages",xml).attr("scroll_speed");var enableColumnAdjustment=null;if($("pages",xml).attr("enable_column_adjustment")!=undefined){enableColumnAdjustment=$("pages",xml).attr("enable_column_adjustment")=="true"?true:false}if($("pages",xml).attr("bind_click_to_widget")!=undefined){thisTemplateEngine.bindClickToWidget=$("pages",xml).attr("bind_click_to_widget")=="true"?true:false}if(enableColumnAdjustment){thisTemplateEngine.enableColumnAdjustment=true}else{if(enableColumnAdjustment==null&&/(android|blackberry|iphone|ipod|series60|symbian|windows ce|palm)/i.test(navigator.userAgent.toLowerCase())){thisTemplateEngine.enableColumnAdjustment=true}}if($("pages",xml).attr("default_columns")){thisTemplateEngine.defaultColumns=$("pages",xml).attr("default_columns")}if($("pages",xml).attr("min_column_width")){thisTemplateEngine.minColumnWidth=$("pages",xml).attr("min_column_width")}thisTemplateEngine.screensave_time=$("pages",xml).attr("screensave_time");thisTemplateEngine.screensave_page=$("pages",xml).attr("screensave_page");if($.getUrlVar("design")){thisTemplateEngine.clientDesign=$.getUrlVar("design")}else{if(predefinedDesign){thisTemplateEngine.clientDesign=predefinedDesign}else{thisTemplateEngine.selectDesign()}}if($("pages",xml).attr("max_mobile_screen_width")){thisTemplateEngine.maxMobileScreenWidth=$("pages",xml).attr("max_mobile_screen_width")}$.getCSS("designs/designglobals.css");$.getCSS("designs/"+thisTemplateEngine.clientDesign+"/basic.css");$.getCSS("designs/"+thisTemplateEngine.clientDesign+"/mobile.css",thisTemplateEngine.forceMobile?{}:{media:"only screen and (max-width: "+thisTemplateEngine.maxMobileScreenWidth+"px)"});$.getCSS("designs/"+thisTemplateEngine.clientDesign+"/custom.css");$.getOrderedScripts(["designs/"+thisTemplateEngine.clientDesign+"/design_setup.js"],function(){thisTemplateEngine.designReady=true;thisTemplateEngine.setup_page()});var pluginsToLoad=[];$("meta > plugins plugin",xml).each(function(i){pluginsToLoadCount++;$.getOrderedScripts(["plugins/"+$(this).attr("name")+"/structure_plugin.js"])});if(pluginsToLoadCount==0){thisTemplateEngine.pluginsReady=true;thisTemplateEngine.setup_page()}$("meta > icons icon-definition",xml).each(function(i){var $this=$(this);var name=$this.attr("name");var uri=$this.attr("uri");var type=$this.attr("type");var flavour=$this.attr("flavour");var color=$this.attr("color");var styling=$this.attr("styling");var dynamic=$this.attr("dynamic");icons.insert(name,uri,type,flavour,color,styling,dynamic)});$("meta > mappings mapping",xml).each(function(i){var $this=$(this);var name=$this.attr("name");thisTemplateEngine.mappings[name]={};var formula=$this.find("formula");if(formula.length>0){eval("var func = function(x){"+formula.text()+"; return y;}");thisTemplateEngine.mappings[name]["formula"]=func}else{$this.find("entry").each(function(){var $localThis=$(this);var origin=$localThis.contents();var value=[];for(var i=0;i<origin.length;i++){var $v=$(origin[i]);if($v.is("icon")){value[i]=icons.getIcon($v.attr("name"),$v.attr("type"),$v.attr("flavour"),$v.attr("color"))}else{value[i]=$v.text()}}if($localThis.attr("value")){thisTemplateEngine.mappings[name][$localThis.attr("value")]=value.length==1?value[0]:value}else{if(!thisTemplateEngine.mappings[name]["range"]){thisTemplateEngine.mappings[name]["range"]={}}thisTemplateEngine.mappings[name]["range"][parseFloat($localThis.attr("range_min"))]=[parseFloat($localThis.attr("range_max")),value]}})}});$("meta > stylings styling",xml).each(function(i){var name=$(this).attr("name");var classnames="";thisTemplateEngine.stylings[name]={};$(this).find("entry").each(function(){classnames+=$(this).text()+" ";if($(this).attr("value")){thisTemplateEngine.stylings[name][$(this).attr("value")]=$(this).text()}else{if(!thisTemplateEngine.stylings[name]["range"]){thisTemplateEngine.stylings[name]["range"]={}}thisTemplateEngine.stylings[name]["range"][parseFloat($(this).attr("range_min"))]=[parseFloat($(this).attr("range_max")),$(this).text()]}});thisTemplateEngine.stylings[name]["classnames"]=classnames});$("meta > statusbar status",xml).each(function(i){var type=$(this).attr("type");var condition=$(this).attr("condition");var extend=$(this).attr("hrefextend");var sPath=window.location.pathname;var sPage=sPath.substring(sPath.lastIndexOf("/")+1);var editMode="edit_config.html"==sPage;if(editMode&&"!edit"==condition){return}if(!editMode&&"edit"==condition){return}var text=$(this).text();switch(extend){case"all":var search=window.location.search.replace(/\$/g,"$$$$");text=text.replace(/(href="[^"]*)(")/g,"$1"+search+"$2");break;case"config":var search=window.location.search.replace(/\$/g,"$$$$");search=search.replace(/.*(config=[^&]*).*|.*/,"?$1");text=text.replace(/(href="[^"]*)(")/g,"$1"+search+"$2");break}$(".footer").html($(".footer").html()+text)});thisTemplateEngine.pageReady=true;thisTemplateEngine.setup_page()};this.applyColumnWidths=function(){var allContainer=$(".widget_container");allContainer.each(function(i,e){var $e=$(e);var ourColspan=$e.children("*:first-child").data("colspan");if(ourColspan<=0){return}var areaColspan=$e.parentsUntil("#centerContainer").last().data("columns")||thisTemplateEngine.defaultColumns;var ourWidth=Math.min(100,ourColspan/areaColspan*100);$e.css("width",ourWidth+"%")});var adjustableElements=$(".group .widget_container");adjustableElements.each(function(i,e){var $e=$(e);var ourColspan=$e.children(".widget").data("colspan");if(ourColspan<=0){return}if(ourColspan==undefined){ourColspan=$e.children(".group").data("colspan")}var areaColspan=$e.parentsUntil("#centerContainer").last().data("columns")||thisTemplateEngine.defaultColumns;var groupColspan=Math.min(areaColspan,$e.parentsUntil(".widget_container",".group").data("colspan"));var ourWidth=Math.min(100,ourColspan/groupColspan*100);$e.css("width",ourWidth+"%")})};this.setup_page=function(){if(!this.pageReady||!this.pluginsReady||!this.designReady){return}var page=$("pages > page",xml)[0];thisTemplateEngine.create_pages(page,"id_0");var startpage="id_0";if($.getUrlVar("startpage")){startpage="id_"+$.getUrlVar("startpage")}thisTemplateEngine.currentPage=$("#"+startpage);thisTemplateEngine.adjustColumns();thisTemplateEngine.applyColumnWidths();$(document).bind("touchmove",function(e){e.preventDefault()});$(".page,#navbarTop>.navbar,#navbarBottom>.navbar").bind("touchmove",function(e){var elem=$(e.currentTarget);var startTopScroll=elem.scrollTop();var startLeftScroll=elem.scrollLeft();if((startTopScroll<=0)&&(startTopScroll+elem[0].offsetHeight>=elem[0].scrollHeight)&&(startLeftScroll<=0)&&(startLeftScroll+elem[0].offsetWidth>=elem[0].scrollWidth)){return}e.stopPropagation()});$(".page,#navbarTop>.navbar,#navbarBottom>.navbar").bind("touchstart",function(event){var elem=$(event.currentTarget);var startTopScroll=elem.scrollTop();if(startTopScroll<=0){elem.scrollTop(1)}if(startTopScroll+elem[0].offsetHeight>=elem[0].scrollHeight){elem.scrollTop(elem[0].scrollHeight-elem[0].offsetHeight-1)}});thisTemplateEngine.main_scroll=$("#main").scrollable({keyboard:false,touch:false}).data("scrollable");thisTemplateEngine.main_scroll.onSeek(thisTemplateEngine.pagePartsHandler.updateTopNavigation);if(thisTemplateEngine.scrollSpeed!=undefined){thisTemplateEngine.main_scroll.getConf().speed=thisTemplateEngine.scrollSpeed}thisTemplateEngine.scrollToPage(startpage,0);$(".fast").bind("click",function(){thisTemplateEngine.main_scroll.seekTo($(this).text())});window.onpopstate=function(e){lastpage=e.state;if(lastpage){thisTemplateEngine.scrollToPage(lastpage,0,true)}};$("embed").each(function(){this.onload=function(){var svg=this.getSVGDocument();if(!svg){return}var pipes=svg.getElementsByClassName("pipe_group");$(pipes).each(function(){var pipe_group=this;$(this).find("path").each(function(){var path=this;var halfsize=parseInt(parseFloat(path.style.strokeWidth)/2);var opacity=0.15;for(var width=halfsize-1;width>0;width--){opacity-=0.1/halfsize;var n=path.cloneNode();n.className.baseVal+=" pipe-o-matic_clone";n.style.strokeWidth=width*2;n.style.stroke="#ffffff";n.style.strokeOpacity=opacity;pipe_group.insertBefore(n,path.nextElementSibling)}})});var segmentLength=40;var pipes=svg.getElementsByClassName("show_flow");$(pipes).each(function(){var pipe_group=this;var length=0;$(this).find("path").each(function(){var path=this;if(path.className.animVal.split(" ").indexOf("pipe-o-matic_clone")>0){return}var stroke=path.style.stroke;var r,g,b;if(stroke[0]=="#"){r=parseInt(path.style.stroke.substring(1,3),16);g=parseInt(path.style.stroke.substring(3,5),16);b=parseInt(path.style.stroke.substring(5,7),16)}else{if(stroke.indexOf("rgb(")==0){var colors=stroke.replace(/[^0-9,.]*/g,"").split(",");r=colors[0];g=colors[1];b=colors[2]}}var rTarget=0;var gTarget=0;var bTarget=0;function toHex(v){var ret=parseInt(v).toString(16);return(ret.length<2)?"0"+ret:ret}for(var i=segmentLength/2;i>0;i-=2){var factor=1-i/(segmentLength/2);var offset=(length+segmentLength/2-i)%segmentLength;var low=2*i;var high=segmentLength-low;var n=path.cloneNode();n.className.baseVal+=" flow-o-matic_clone";n.style.stroke="#"+toHex(r*factor+rTarget*(1-factor))+toHex(g*factor+gTarget*(1-factor))+toHex(b*factor+bTarget*(1-factor));if(high>offset){n.style.strokeDasharray=[high-offset,low,offset,0]}else{n.style.strokeDasharray=[0,low-(offset-high),high,offset-high]}n.style.strokeDashoffset=length%(0.5*segmentLength);pipe_group.insertBefore(n,path.nextElementSibling)}length+=path.getTotalLength()});if(this.attributes.getNamedItem("data-cometvisu-active")){activeValues=this.attributes.getNamedItem("data-cometvisu-active").value;$(activeValues.split(" ")).each(function(){$("body").bind("_"+this,function(e,data,passedElement){if(data=="01"){pipe_group.setAttribute("class",pipe_group.getAttribute("class").replace(" flow_active","")+" flow_active")}else{pipe_group.setAttribute("class",pipe_group.getAttribute("class").replace(" flow_active",""))}})})}});function createKeyframe(name,content){return"@keyframes "+name+" {\n"+content+"}\n@-moz-keyframes "+name+" {\n"+content+"}\n@-webkit-keyframes "+name+" {\n"+content+"}\n"}var keyframes=createKeyframe("move","from {  stroke-dashoffset: "+segmentLength+";  }\nto   {  stroke-dashoffset: 0;  }\n");function createCSSRules(style,value){return style+": "+value+";\n-moz-"+style+": "+value+";\n-webkit-"+style+": "+value+";\n"}keyframes+=".flow_active path {\n"+createCSSRules("animation-duration","3s")+createCSSRules("animation-name","move")+createCSSRules("animation-timing-function","linear")+createCSSRules("animation-iteration-count","infinite")+"}\n";var s=svg.createElementNS("http://www.w3.org/2000/svg","style");s.setAttribute("type","text/css");s.textContent=keyframes;$("svg",svg).prepend(s)}});if(thisTemplateEngine.enableAddressQueue){var startPageAddresses={};$(".actor","#"+startpage).each(function(){var address=$(this).data("address");for(var ga in address){startPageAddresses[ga.substring(1)]=1}});thisTemplateEngine.visu.setInitialAddresses(Object.keys(startPageAddresses))}var addressesToSubscribe=thisTemplateEngine.getAddresses();if(0==addressesToSubscribe.length){$(document).trigger("firstdata")}else{thisTemplateEngine.visu.subscribe(thisTemplateEngine.getAddresses())}xml=null;delete xml;$("#pages").triggerHandler("done");if(undefined!==thisTemplateEngine.screensave_time){thisTemplateEngine.screensave=setTimeout(function(){thisTemplateEngine.scrollToPage()},thisTemplateEngine.screensave_time*1000);$(document).click(function(){clearInterval(thisTemplateEngine.screensave);thisTemplateEngine.screensave=setTimeout(function(){thisTemplateEngine.scrollToPage()},thisTemplateEngine.screensave_time*1000)})}};this.create_pages=function(page,path,flavour,type){var creator=thisTemplateEngine.design.getCreator(page.nodeName);var retval=creator.create(page,path,flavour,type);if(jQuery(retval).is(".widget")||(jQuery(retval).is(".group"))){retval=jQuery("<div class='widget_container "+(retval.data("rowspanClass")?retval.data("rowspanClass"):"")+"' />").append(retval)}return retval};this.scrollToPage=function(page_id,speed,skipHistory){if(undefined===page_id){page_id=this.screensave_page}if(page_id.match(/^id_[0-9_]+$/)==null){$(".page h1:contains("+page_id+")","#pages").each(function(i){if($(this).text()==page_id){page_id=$(this).closest(".page").attr("id")}})}if(thisTemplateEngine.currentPageID==page_id){return}thisTemplateEngine.currentPageID=page_id;$(".activePage","#pages").removeClass("activePage");$(".pageActive","#pages").removeClass("pageActive");$(".pagejump.active").removeClass("active");$(".pagejump.active_ancestor").removeClass("active_ancestor");thisTemplateEngine.resetPageValues();var page=$("#"+page_id);thisTemplateEngine.currentPage=page;page.addClass("pageActive activePage");thisTemplateEngine.pagePartsHandler.updatePageParts(page);if(thisTemplateEngine.main_scroll.getConf().speed>0){var scrollLeft=true;if(skipHistory){scrollLeft=false}else{var expr=new RegExp("^"+page_id+".*","i");if(expr.test(window.history.state)){scrollLeft=false}}if(scrollLeft){$("#pages").css("left",-page.position().left+page.width())}else{$("#pages").css("left",-page.position().left-page.width())}}if(skipHistory===undefined){window.history.pushState(page_id,page_id,window.location.href)}thisTemplateEngine.main_scroll.seekTo(page,speed);thisTemplateEngine.pagePartsHandler.initializeNavbars(page_id);$(".pagejump > .actor").each(function(i){var activePageJump=null;var actor=$(this);var target=actor.data().target;if(target.match(/^id_[0-9_]+$/)==null){$("h1:contains("+target+")","#"+page_id).each(function(i){if($(this).text()==target){activePageJump=actor.closest(".pagejump");return false}})}else{if(page_id==target){activePageJump=actor.closest(".pagejump")}}if(activePageJump!=null){activePageJump.addClass("active")}if(page.attr("id")!="id_0"){var parentPage=thisTemplateEngine.getParentPage(page);while(parentPage!=null){if(parentPage.attr("id")=="id_0"){break}$(".pagejump > .actor").each(function(i){var parentActor=$(this);var parentTarget=parentActor.data().target;if(parentTarget==undefined){return true}if(parentTarget.match(/^id_[0-9_]+$/)==null){$("h1:contains("+parentTarget+")","#"+parentPage.attr("id")).each(function(i){if($(this).text()==parentTarget){parentActor.closest(".pagejump").addClass("active_ancestor");return false}})}else{if(parentPage.attr("id")==parentTarget){parentActor.closest(".pagejump").addClass("active_ancestor")}}});parentPage=thisTemplateEngine.getParentPage(parentPage)}}});$(window).trigger("scrolltopage",page_id)};this.showPopup=function(type,attributes){if(!thisTemplateEngine.design.popups[type]){type="unknown"}return thisTemplateEngine.design.popups[type].create(attributes)};this.removePopup=function(jQuery_object){jQuery_object.remove()};this.refreshAction=function(target,src){var parenthost=window.location.protocol+"//"+window.location.host;if(target.nodeName=="IFRAME"&&src.indexOf(parenthost)!=0){target.src="";setTimeout(function(){target.src=src},0)}else{target.src=src+"&"+new Date().getTime()}};this.setupRefreshAction=function(){var refresh=$(this).data("refresh");if(refresh&&refresh>0){var target=$("img",$(this))[0]||$("iframe",$(this))[0];var src=target.src;if(src.indexOf("?")<0){src+="?"}$(this).data("interval",setInterval(function(){thisTemplateEngine.refreshAction(target,src)},refresh))}};this.selectDesign=function(){$body=$("body");$("body > *").hide();$body.css({backgroundColor:"black"});$div=$('<div id="designSelector" />');$div.css({background:"#808080",width:"400px",color:"white",margin:"auto",padding:"0.5em"});$div.html("Loading ...");$body.append($div);$.getJSON("get_designs.php",function(data){$div.empty();$div.append("<h1>Please select design</h1>");$div.append("<p>The Location/URL will change after you have chosen your design. Please bookmark the new URL if you do not want to select the design every time.</p>");$.each(data,function(i,element){var $myDiv=$("<div />");$myDiv.css({cursor:"pointer",padding:"0.5em 1em",borderBottom:"1px solid black",margin:"auto",width:"262px",position:"relative"});$myDiv.append('<div style="font-weight: bold; margin: 1em 0 .5em;">Design: '+element+"</div>");$myDiv.append('<iframe src="designs/design_preview.html?design='+element+'" width="160" height="90" border="0" scrolling="auto" frameborder="0" style="z-index: 1;"></iframe>');$myDiv.append('<img width="60" height="30" src="media/arrow.png" alt="select" border="0" style="margin: 60px 10px 10px 30px;"/>');$div.append($myDiv);var $tDiv=$("<div />");$tDiv.css({background:"transparent",position:"absolute",height:"90px",width:"160px",zIndex:2});var pos=$myDiv.find("iframe").position();$tDiv.css({left:pos.left+"px",top:pos.top+"px"});$myDiv.append($tDiv);$myDiv.hover(function(){$myDiv.css({background:"#bbbbbb"})},function(){$myDiv.css({background:"transparent"})});$myDiv.click(function(){if(document.location.search==""){document.location.href=document.location.href+"?design="+element}else{document.location.href=document.location.href+"&design="+element}})})})};this.getParentPage=function(page){var pathParts=page.attr("id").split("_");if(pathParts.length==2){return null}while(pathParts.length>1){pathParts.pop();var path=pathParts.join("_");if($("#"+path).hasClass("page")){return $("#"+path)}}};this.getPluginDependency=function(url){$.getScriptSync(url)};this.pluginLoaded=function(){pluginsToLoadCount--;if(0==pluginsToLoadCount){thisTemplateEngine.pluginsReady=true;thisTemplateEngine.setup_page()}}}function PagePartsHandler(){var a=this;this.navbars={top:{dynamic:false},left:{dynamic:false},right:{dynamic:false},bottom:{dynamic:false}};this.updateTopNavigation=function(){var c=$("#main .page").eq(this.getIndex()).attr("id").split("_");var e="id_";var d="";for(var b=1;b<c.length;b++){e+=c[b];if($("#"+e).hasClass("page")){d+=((1==b)?"":"<span> &#x25ba; </span>")+"<a href=\"javascript:templateEngine.scrollToPage('"+e+"')\">"+$("#"+e+" h1").text()+"</a>"}e+="_"}$(".nav_path").html(d);templateEngine.handleResize()};this.navbarSetSize=function(c,d){var b=d+(isFinite(d)?"px":"");switch(c){case"left":$("#navbarLeft").css({width:b});break;case"right":$("#centerContainer").css("padding-right",b);$("#navbarRight").css({width:b,"margin-right":"-"+b});break}};this.getNavbarsVisibility=function(e){if(templateEngine.currentPageNavbarVisibility==null){if(e==null){e=templateEngine.currentPage}if(e==null||e.data()==null){return{top:"true",bottom:"true",left:"true",right:"true"}}var d=(e.data().shownavbar!=undefined?e.data().shownavbar:{top:"inherit",bottom:"inherit",left:"inherit",right:"inherit"});for(var f in d){if(d[f]==undefined){d[f]="inherit"}}if(e.data()!=null){var b=templateEngine.getParentPage(e);while(b!=null){var c=false;for(var f in d){if(d[f]=="inherit"){c=true;break}}if(c){if(b.data().shownavbar!=undefined){for(var f in d){if(d[f]=="inherit"){d[f]=b.data().shownavbar[f];if(d[f]==undefined){d[f]="inherit"}}}}}else{break}b=templateEngine.getParentPage(b)}}for(var f in d){if(d[f]==undefined||d[f]=="inherit"){d[f]="true"}}templateEngine.currentPageNavbarVisibility=d}return templateEngine.currentPageNavbarVisibility};this.updatePageParts=function(d){var f=true;var e=true;var c=a.getNavbarsVisibility(d);if(d.data()!=null){if(d.data().showtopnavigation!=undefined){f=d.data().showtopnavigation!="false"}else{var b=templateEngine.getParentPage(d);while(b!=null){if(b.data().showtopnavigation!=undefined){f=b.data().showtopnavigation!="false";break}b=templateEngine.getParentPage(b)}}if(d.data().showfooter!=undefined){e=d.data().showfooter!="false"}else{var b=templateEngine.getParentPage(d);while(b!=null){if(b.data().showfooter!=undefined){e=b.data().showfooter!="false";break}b=templateEngine.getParentPage(b)}}}if(f){if($("#top").css("display")=="none"){$("#top, #top > *").css("display","block");a.removeInactiveNavbars(d.attr("id"))}}else{$("#top.loading").removeClass("loading");if($("#top").css("display")!="none"){$("#top").css("display","none");a.removeInactiveNavbars(d.attr("id"))}}if(e){if($("#bottom").css("display")=="none"){$("#bottom").css("display","block");a.removeInactiveNavbars(d.attr("id"))}}else{$("#bottom.loading").removeClass("loading");if($("#bottom").css("display")!="none"){$("#bottom").css("display","none");a.removeInactiveNavbars(d.attr("id"))}}$.each(["Left","Top","Right","Bottom"],function(g,j){var h=j.toLowerCase();if(c[h]=="true"){if($("#navbar"+j).css("display")=="none"){a.fadeNavbar(j,"in");a.removeInactiveNavbars(d.attr("id"))}}else{$("#navbar"+j+".loading").removeClass("loading");if($("#navbar"+j).css("display")!="none"){a.fadeNavbar(j,"out")}}})};this.fadeNavbar=function(c,h){var g={};var b={};var f=$("#navbar"+c);var d=c.toLowerCase();var e=function(){};switch(h){case"in":if(f.css("display")=="none"){g.display="block"}b[d]=0;switch(c){case"Top":case"Bottom":g[d]=-f.height();break;case"Left":case"Right":g[d]=-f.width();break}break;case"out":if(f.css("display")!="none"){e=function(){f.css("display","none")}}switch(c){case"Top":case"Bottom":b[d]=-f.height();break;case"Left":case"Right":b[d]=-f.width();break}break}f.css(g);if(templateEngine.main_scroll.getConf().speed==0){f.css(b);e()}else{f.animate(b,templateEngine.main_scroll.getConf().speed,templateEngine.main_scroll.getConf().easing,e)}};this.initializeNavbars=function(c){a.removeInactiveNavbars(c);var b=[$("#id_0").get(0)];if(c!="id_0"){var f=c.split("_");f=f.slice(2,f.length);for(var d=0;d<f.length;d++){var e=$("#id_0_"+f.slice(0,d+1).join("_")+".page","#pages");if(e.size()==1){b.push(e.get(0))}}}var g=1;$(b).each(function(k){var n=$(this).attr("id");var h=$("#"+n+"_top_navbar");var l=$("#"+n+"_right_navbar");var m=$("#"+n+"_bottom_navbar");var j=$("#"+n+"_left_navbar");if(h.size()>0){if(h.data("scope")==undefined||h.data("scope")<0||b.length-g<=h.data("scope")){h.addClass("navbarActive")}else{h.removeClass("navbarActive")}}if(l.size()>0){if(l.data("scope")==undefined||l.data("scope")<0||b.length-g<=l.data("scope")){l.addClass("navbarActive")}else{l.removeClass("navbarActive")}}if(m.size()>0){if(m.data("scope")==undefined||m.data("scope")<0||b.length-g<=m.data("scope")){m.addClass("navbarActive")}else{m.removeClass("navbarActive")}}if(j.size()>0){if(j.data("scope")==undefined||j.data("scope")<0||b.length-g<=j.data("scope")){j.addClass("navbarActive")}else{j.removeClass("navbarActive")}}g++})};this.removeInactiveNavbars=function(b){$(".navbar.navbarActive").each(function(d){var c=this.id.split("_");c=c.slice(0,c.length-2).join("_");var e=new RegExp("^"+c+".*","i");if(c!=b&&!e.test(b)){$(this).removeClass("navbarActive")}})}};