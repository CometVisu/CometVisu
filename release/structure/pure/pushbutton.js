define(["_common"],function(e){var t=e.basicdesign;e.basicdesign.addCreator("pushbutton",{create:function(e,n,r,i){var s=$(e),o=t.createDefaultWidget("pushbutton",s,n,r,i,this.update,function(e,t,n,r){return[!0,r]}),u=templateEngine.widgetDataInsert(n,{downValue:s.attr("downValue")||1,upValue:s.attr("upValue")||0});return o+='<div class="actor switchUnpressed"><div class="value">-</div></div>',o+"</div>"},update:function(e,n){var r=$(this),i=templateEngine.widgetDataGetByElement(r),s=r.find(".actor"),o=t.defaultUpdate(e,n,r,!0,r.parent().attr("id")),u=templateEngine.map(i.upValue,i.mapping);s.removeClass(o==u?"switchPressed":"switchUnpressed"),s.addClass(o==u?"switchUnpressed":"switchPressed")},downaction:function(e,t){var n=templateEngine.widgetDataGet(e);for(var r in n.address){if(!(n.address[r][1]&2))continue;if(n.address[r][2]!=undefined&&n.address[r][2]!="down")continue;templateEngine.visu.write(r,templateEngine.transformEncode(n.address[r][0],n.downValue))}},action:function(e,t,n){var r=templateEngine.widgetDataGet(e);for(var i in r.address){if(!(r.address[i][1]&2))continue;if(r.address[i][2]!=undefined&&r.address[i][2]!="up")continue;templateEngine.visu.write(i,templateEngine.transformEncode(r.address[i][0],r.upValue))}}})});